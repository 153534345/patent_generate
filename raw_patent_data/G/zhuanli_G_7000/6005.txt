标题title
一种字符的确定方法、装置、存储介质及电子装置
摘要abst
本发明实施例提供了一种字符的确定方法、装置、存储介质及电子装置，其中，该方法包括：按照第一采样规则从训练数据集中抽取第一训练数据，以及按照第二采样规则从训练数据集中抽取第二训练数据；将第一训练数据输入至目标网络模型中包括的第一分支网络中，确定第一训练数据的第一特征；将第二训练数据输入至目标网络模型中包括的第二分支网络中，确定第二训练数据的第二特征；基于目标网络模型中包括的分类模型的网络参数融合第一特征以及第二特征，得到融合特征；基于融合特征确定目标网络模型的目标损失值，并基于目标损失值迭代更新目标网络模型的目标网络参数。通过本发明，达到提高确定字符的准确性的效果。
权利要求书clms
1.一种字符的确定方法，其特征在于，包括：将目标数据输入至目标网络模型中，确定所述目标数据的目标特征；基于所述目标特征确定所述目标数据对应的目标字符；其中，所述目标网络模型是通过如下方式进行训练的：按照第一采样规则从训练数据集中抽取第一训练数据，以及按照第二采样规则从所述训练数据集中抽取第二训练数据，所述训练数据集中包括第一类型的训练数据和第二类型的训练数据，所述第一类型的训练数据的数量大于所述第二类型的训练数据的数量，所述第一采样规则包括每个训练数据被抽取到的概率相同，所述第二采样规则包括所述第二类型的训练数据被抽取到的概率大于所述第一类型的训练数据被抽取到的概率，所述第一训练数据、所述第二训练数据以及所述目标数据为采集设备采集到的数据；将所述第一训练数据输入至所述目标网络模型中包括的第一分支网络中，确定所述第一训练数据的第一特征；将所述第二训练数据输入至所述目标网络模型中包括的第二分支网络中，确定所述第二训练数据的第二特征；基于所述目标网络模型中包括的分类模型的网络参数融合所述第一特征以及所述第二特征，得到融合特征；基于所述融合特征确定所述目标网络模型的目标损失值，并基于所述目标损失值迭代更新所述目标网络模型的目标网络参数。2.根据权利要求1所述的方法，其特征在于，基于所述目标网络模型中包括的分类模型的分类网络参数融合所述第一特征以及所述第二特征，得到融合特征包括：确定所述第一分支网络对应的第一权重，以及所述第二分支网络对应的第二权重；将所述第一特征与所述第一权重相乘，得到第三特征，以及将所述第二特征与所述第二权重相乘，得到第四特征；基于所述分类网络参数融合所述第三特征以及所述第四特征，得到所述融合特征。3.根据权利要求2所述的方法，其特征在于，基于所述分类网络参数融合所述第三特征以及所述第四特征，得到所述融合特征包括：确定所述分类网络参数中包括的第一子分类网络参数以及第二子分类网络参数，其中，所述第一子分类网络参数为第一子分类网络的参数，所述第一子分类网络与所述第一分支网络连接，所述第二子分类网络参数为第二子分类网络的参数，所述第二子分类网络与所述第二分支网络连接；将所述第三特征与所述第一子分类网络参数相乘，得到第五特征，以及将所述第四特征与所述第二子分类网络参数相乘，得到第六特征；连接所述第五特征以及所述第六特征，得到所述融合特征。4.根据权利要求3所述的方法，其特征在于，基于所述融合特征确定所述目标网络模型的目标损失值包括：基于所述第五特征确定所述第一分支网络的第一损失值；基于所述第六特征确定所述第二分支网络的第二损失值；基于所述第一损失值以及所述第二损失值确定所述目标网络模型的目标损失值。5.根据权利要求1所述的方法，其特征在于，基于所述目标损失值迭代更新所述目标网络模型的目标网络参数包括：确定所述目标损失值中包括的所述第一分支网络对应的第一损失值，以及所述第二分支网络对应的第二损失值；基于所述第一损失值以及所述第二损失值更新所述目标网络参数中包括的第一权重和第二权重，其中，所述第一权重为所述第一分支网络对应的权重，所述第二权重为所述第二分支网络对应的权重。6.根据权利要求1所述的方法，其特征在于，基于所述目标损失值迭代更新所述目标网络模型的目标网络参数包括：基于所述目标损失值确定网络参数更新梯度；按照所述网络参数更新梯度，更新所述目标网络模型中包括的所述第一分支网、所述第二分支网络以及所述分类模型的网络参数。7.根据权利要求1所述的方法，其特征在于，基于所述目标特征确定所述目标数据对应的目标字符包括：确定所述目标特征中包括的每个特征与特征字典表中包括的字符的特征的相似度得分；基于所述相似度得分确定所述目标数据对应的所述目标字符。8.一种字符的确定装置，其特征在于，包括：第一确定模块，用于将目标数据输入至目标网络模型中，确定所述目标数据的目标特征；第二确定模块，用于基于所述目标特征确定所述目标数据对应的目标字符；其中，所述目标网络模型是通过如下方式进行训练的：按照第一采样规则从训练数据集中抽取第一训练数据，以及按照第二采样规则从所述训练数据集中抽取第二训练数据，所述训练数据集中包括第一类型的训练数据和第二类型的训练数据，所述第一类型的训练数据的数量大于所述第二类型的训练数据的数量，所述第一采样规则包括每个训练数据被抽取到的概率相同，所述第二采样规则包括所述第二类型的训练数据被抽取到的概率大于所述第一类型的训练数据被抽取到的概率，所述第一训练数据、所述第二训练数据以及所述目标数据为采集设备采集到的数据；将所述第一训练数据输入至目标网络模型中包括的第一分支网络中，确定所述第一训练数据的第一特征；将所述第二训练数据输入至所述目标网络模型中包括的第二分支网络中，确定所述第二训练数据的第二特征；基于所述目标网络模型中包括的分类模型的网络参数融合所述第一特征以及所述第二特征，得到融合特征；基于所述融合特征确定所述目标网络模型的目标损失值，并基于所述目标损失值迭代更新所述目标网络模型的目标网络参数。9.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机程序，其中，所述计算机程序被处理器执行时实现所述权利要求1至7任一项中所述的方法的步骤。10.一种电子装置，包括存储器和处理器，其特征在于，所述存储器中存储有计算机程序，所述处理器被设置为运行所述计算机程序以执行所述权利要求1至7任一项中所述的方法。
说明书desc
技术领域本发明实施例涉及通信领域，具体而言，涉及一种字符的确定方法、装置、存储介质及电子装置。背景技术随着卷积神经网络的发展，图像分类和识别领域取得了长足的进步。这种进步与获得高质量的大规模数据集密不可分。常见的大规模数据集ImageNet，COCO，PlacesDatabase等都是经典的分类数据集，这些数据集的特点是类别标签的大致均匀分布，但是在现实世界中的数据集上，通常会有分布的长尾效应。车牌识别数据中，长尾分布尤其明显，因为各个省份数据采集的难易程度，往往会造成数据分布的严重不均匀，比如A、B、C等省份的图片相对容易采集，所以每个省份的图片数量比较多，但是类似D、E、F等地区的车牌图片采集难度相对困难，所以每个省份的图片数量也会相对较少。这种不同省份的车牌数量分布的极度不均衡，会导致的结果是：车牌识别数据比较多的省份的识别准确率比较高，车牌识别数据比较少的省份的识别准确率就会相对低很多，从而影响整体的识别准确率。所谓长尾效应是指，数据集中的一少部分类别占据了绝大多数样本量，大多数的类别仅有非常少的样本量。而在现有技术中，长尾效应的优化方式往往存在数据丢失、后续处理难度大、模型算力要求高等问题。由此可知，相关技术中存在由于模型训练数据存在长尾效应，导致通过模型确定字符不准确的问题。针对相关技术中存在的上述问题，目前尚未提出有效的解决方案。发明内容本发明实施例提供了一种字符的确定方法、装置、存储介质及电子装置，以至少解决相关技术中存在的由于模型训练数据存在长尾效应，导致通过模型确定字符不准确的问题。根据本发明的一个实施例，提供了一种字符的确定方法，包括：将目标数据输入至目标网络模型中，确定所述目标数据的目标特征；基于所述目标特征确定所述目标数据对应的目标字符； 其中，所述目标网络模型是通过如下方式进行训练的：按照第一采样规则从训练数据集中抽取第一训练数据，以及按照第二采样规则从所述训练数据集中抽取第二训练数据，所述训练数据集中包括第一类型的训练数据和第二类型的训练数据，所述第一类型的训练数据的数量大于所述第二类型的训练数据的数量，所述第一采样规则包括每个训练数据被抽取到的概率相同，所述第二采样规则包括所述第二类型的训练数据被抽取到的概率大于所述第一类型的训练数据被抽取到的概率，所述第一训练数据、所述第二训练数据以及所述目标数据为采集设备采集到的数据；将所述第一训练数据输入至目标网络模型中包括的第一分支网络中，确定所述第一训练数据的第一特征；将所述第二训练数据输入至所述目标网络模型中包括的第二分支网络中，确定所述第二训练数据的第二特征；基于所述目标网络模型中包括的分类模型的网络参数融合所述第一特征以及所述第二特征，得到融合特征；基于所述融合特征确定所述目标网络模型的目标损失值，并基于所述目标损失值迭代更新所述目标网络模型的目标网络参数。根据本发明的另一个实施例，提供了一种字符的确定装置，包括：第一确定模块，用于将目标数据输入至目标网络模型中，确定所述目标数据的目标特征；第二确定模块，用于基于所述目标特征确定所述目标数据对应的目标字符；其中，所述目标网络模型是通过如下方式进行训练的：按照第一采样规则从训练数据集中抽取第一训练数据，以及按照第二采样规则从所述训练数据集中抽取第二训练数据，所述训练数据集中包括第一类型的训练数据和第二类型的训练数据，所述第一类型的训练数据的数量大于所述第二类型的训练数据的数量，所述第一采样规则包括每个训练数据被抽取到的概率相同，所述第二采样规则包括所述第二类型的训练数据被抽取到的概率大于所述第一类型的训练数据被抽取到的概率，所述第一训练数据、所述第二训练数据以及所述目标数据为采集设备采集到的数据；将所述第一训练数据输入至目标网络模型中包括的第一分支网络中，确定所述第一训练数据的第一特征；将所述第二训练数据输入至所述目标网络模型中包括的第二分支网络中，确定所述第二训练数据的第二特征；基于所述目标网络模型中包括的分类模型的网络参数融合所述第一特征以及所述第二特征，得到融合特征；基于所述融合特征确定所述目标网络模型的目标损失值，并基于所述目标损失值迭代更新所述目标网络模型的目标网络参数。根据本发明的又一个实施例，还提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，其中，所述计算机程序被处理器执行时实现上述任一项中所述的方法的步骤。根据本发明的又一个实施例，还提供了一种电子装置，包括存储器和处理器，所述存储器中存储有计算机程序，所述处理器被设置为运行所述计算机程序以执行上述任一项方法实施例中的步骤。通过本发明，将目标数据输入至目标网络模型中，确定目标数据的目标特征，根据目标特征确定目标数据对应的目标字符，其中，目标网络模型是通过如下方式进行训练的：按照第一采样规则从训练数据集中抽取第一训练数据，以及按照第二采样规则从训练数据集中抽取第二训练数据。将第一训练数据输入值目标网络模型中包括的第一分支网络中，确定第一训练数据的第一特征，将第二训练数据输入至目标网络模型中包括的第二分支网络中，确定第二训练数据的第二特征。根据目标网络模型中包括的分类模型的网络参数融合第一特征以及第二特征，得到融合特征，根据融合特征确定目标网络模型的目标损失值，根据目标损失值迭代更新目标网络模型的目标网络参数。由于在进行模型训练时，将按照不同采样规则抽取的训练数据分别输入值不同的分支网络中，确定每个分支网络输出的特征，并根据分类模型的网络参数融合第一特征和第二特征，并根据融合特征确定目标损失值，因此，能够兼顾第一类型的训练数据和第二类型的训练数据，从而提高了训练后的模型的精度。因此，可以解决相关技术中存在的由于模型训练数据存在长尾效应，导致通过模型确定字符不准确的问题，达到提高确定字符的准确性的效果。附图说明图1是本发明实施例的一种字符的确定方法的移动终端的硬件结构框图；图2是根据本发明实施例的字符的确定方法的流程图；图3是根据本发明示例性实施例的长尾效应示意图；图4是根据本发明具体实施例的字符的确定方法中的模型训练方法流程图；图5是根据本发明实施例的字符的确定装置的结构框图。具体实施方式下文中将参考附图并结合实施例来详细说明本发明的实施例。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。本申请实施例中所提供的方法实施例可以在移动终端、计算机终端或者类似的运算装置中执行。以运行在移动终端上为例，图1是本发明实施例的一种字符的确定方法的移动终端的硬件结构框图。如图1所示，移动终端可以包括一个或多个处理器102和用于存储数据的存储器104，其中，上述移动终端还可以包括用于通信功能的传输设备106以及输入输出设备108。本领域普通技术人员可以理解，图1所示的结构仅为示意，其并不对上述移动终端的结构造成限定。例如，移动终端还可包括比图1中所示更多或者更少的组件，或者具有与图1所示不同的配置。存储器104可用于存储计算机程序，例如，应用软件的软件程序以及模块，如本发明实施例中的字符的确定方法对应的计算机程序，处理器102通过运行存储在存储器104内的计算机程序，从而执行各种功能应用以及数据处理，即实现上述的方法。存储器104可包括高速随机存储器，还可包括非易失性存储器，如一个或者多个磁性存储装置、闪存、或者其他非易失性固态存储器。在一些实例中，存储器104可进一步包括相对于处理器102远程设置的存储器，这些远程存储器可以通过网络连接至移动终端。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。传输设备106用于经由一个网络接收或者发送数据。上述的网络具体实例可包括移动终端的通信供应商提供的无线网络。在一个实例中，传输设备106包括一个网络适配器，其可通过基站与其他网络设备相连从而可与互联网进行通讯。在一个实例中，传输设备106可以为射频模块，其用于通过无线方式与互联网进行通讯。在本实施例中提供了一种字符的确定方法，图2是根据本发明实施例的字符的确定方法的流程图，如图2所示，该流程包括如下步骤：步骤S202，将目标数据输入至目标网络模型中，确定所述目标数据的目标特征；步骤S204，基于所述目标特征确定所述目标数据对应的目标字符；其中，所述目标网络模型是通过如下方式进行训练的：按照第一采样规则从训练数据集中抽取第一训练数据，以及按照第二采样规则从所述训练数据集中抽取第二训练数据，所述训练数据集中包括第一类型的训练数据和第二类型的训练数据，所述第一类型的训练数据的数量大于所述第二类型的训练数据的数量，所述第一采样规则包括每个训练数据被抽取到的概率相同，所述第二采样规则包括所述第二类型的训练数据被抽取到的概率大于所述第一类型的训练数据被抽取到的概率，所述第一训练数据、所述第二训练数据以及所述目标数据为采集设备采集到的数据；将所述第一训练数据输入至目标网络模型中包括的第一分支网络中，确定所述第一训练数据的第一特征；将所述第二训练数据输入至所述目标网络模型中包括的第二分支网络中，确定所述第二训练数据的第二特征；基于所述目标网络模型中包括的分类模型的网络参数融合所述第一特征以及所述第二特征，得到融合特征；基于所述融合特征确定所述目标网络模型的目标损失值，并基于所述目标损失值迭代更新所述目标网络模型的目标网络参数。在上述实施例中，可以利用目标网络模型识别目标数据对应的目标字符。目标数据可以是采集设备，如摄像设备、监控设备等采集到的图像、视频帧等。目标字符可以是目标数据中包括的字符。当目标数据为车牌图像时，目标字符可以是车牌号码。在上述实施例中，训练数据集中包括第一类型的训练数据以及第二类型的训练数据。其中，第一类型的训练数据的数量大于第二类型的训练数据的数量。第一类型的训练数据即为头部数据，第二类型的训练数据为尾部数据。因此，训练数据集中存在长尾效应。长尾效应示意图可参见附图3。在上述实施例中，第一类型的训练数据可以为在安装采集设备的数量较多的地区所采集到的数据，第二类型的训练数据可以为在安装采集设备的数量较少的地区所采集到的数据。当目标数据为图像时，每种类型的训练数据中均包括图像，以及图像的标签字符。在进行训练时，可以根据网络模型确定的预测字符以及标签字符确定损失值，根据损失值迭代更新网络模型的参数。在上述实施例中，可以按照第一采样规则抽取第一训练数据，按照第二采样规则抽取第二训练数据。其中，第一采样规则可以为正常采样，即按照训练样本数据的原始分布，进行图片数据的均匀采样，即训练集中的每一个样本都只会以相同的概率被采样一次。这一批均匀采样的数据保留了原始数据集中的样本数据分布特性，因此有利于整体特征表示学习。第二采样规则可以为反向采样，在反向采样中，每个类别的采样概率与样本容量的倒数成正比，也就是说某个类别的样本容量越大，被采样的可能性就越小，反之某个类别的样本容量越小，被采样的可能性就越大。通过这种采样方式，能够使得网络更能关注到尾部类的数据的特征，对尾部类别效果较好。在上述实施例中，目标网络模型可以包括两个分支网络，即第一分支网络和第二分支网络。第一分支网络和第二分支网络的结构相同，均可以利用相同的残差网络进行特征提取，有利于在累积学习的过程中对特征进行融合。针对分布不均匀的头部类和尾部类数据，分别为卷积学习分支和重平衡分支。其中，第一分支网络可以为卷积学习分支，通过正常采样方式，采集训练图片。将正常采样图片送入到卷积学习分支中的卷积神经网络中进行训练，得到特征向量fc，即第一特征。第二分支网络可以为重平衡分支，通过反向采样方式，采集训练图片。将反向采样图片送入到重平衡分支中的卷积神经网络中进行训练，得到特征向量fr，即第二特征。其中，第一特征和第二特征均可以是卷积神经网络提取得到的特征向量，如三维矩阵向量，表示为。在得到第一特征和第二特征之后，可以根据目标网络模型中包括的分类模型的网络参数融合第一特征和第二特征，得到融合特征。并根据融合特征确定目标损失值，利用目标损失值迭代更新目标网络模型的目标网络参数。可选地，上述步骤的执行主体可以是后台处理器，或者其他的具备类似处理能力的设备，还可以是至少集成有数据处理设备的机器，其中，数据处理设备可以包括计算机、手机等终端，但不限于此。通过本发明，将目标数据输入至目标网络模型中，确定目标数据的目标特征，根据目标特征确定目标数据对应的目标字符，其中，目标网络模型是通过如下方式进行训练的：按照第一采样规则从训练数据集中抽取第一训练数据，以及按照第二采样规则从训练数据集中抽取第二训练数据。将第一训练数据输入值目标网络模型中包括的第一分支网络中，确定第一训练数据的第一特征，将第二训练数据输入至目标网络模型中包括的第二分支网络中，确定第二训练数据的第二特征。根据目标网络模型中包括的分类模型的网络参数融合第一特征以及第二特征，得到融合特征，根据融合特征确定目标网络模型的目标损失值，根据目标损失值迭代更新目标网络模型的目标网络参数。由于在进行模型训练时，将按照不同采样规则抽取的训练数据分别输入值不同的分支网络中，确定每个分支网络输出的特征，并根据分类模型的网络参数融合第一特征和第二特征，并根据融合特征确定目标损失值，因此，能够兼顾第一类型的训练数据和第二类型的训练数据，从而提高了训练后的模型的精度。因此，可以解决相关技术中存在的由于模型训练数据存在长尾效应，导致通过模型确定字符不准确的问题，达到提高确定字符的准确性的效果。在一个示例性实施例中，基于所述目标网络模型中包括的分类模型的分类网络参数融合所述第一特征以及所述第二特征，得到融合特征包括：确定所述第一分支网络对应的第一权重，以及所述第二分支网络对应的第二权重；将所述第一特征与所述第一权重相乘，得到第三特征，以及将所述第二特征与所述第二权重相乘，得到第四特征；基于所述分类网络参数融合所述第三特征以及所述第四特征，得到所述融合特征。在本实施例中，在融合第一特征和第二特征时，引入一个可学习的自适应的折中参数用来控制分支得到的特征向量，如可以确定第一分支网络对应第一权重和第二分支网络对应的第二权重。利用第一权重调整第一特征，得到第三特征，利用第二权重调整第二特征，得到第四特征。再对第三特征和第四特征进行融合，得到融合特征。即可以初始化一个可学习的自适应的折中参数α。将α与第一特征fc相乘，得到加权后的卷积学习分支网络特征向量αfc。将与fr相乘，得到加权后的重平衡分支网络特征向量fr。再将αfc以及fr进行融合。需要说明的是，α即为第一权重，1-α即为第二权重，用于控制卷积学习分支和重平衡分支得到的特征向量fc和fr的权重。该参数小于1且大于0。在一个示例性实施例中，基于所述分类网络参数融合所述第三特征以及所述第四特征，得到所述融合特征包括：确定所述分类网络参数中包括的第一子分类网络参数以及所述第二子分类网络参数，其中，所述第一子分类网络参数为第一子分类网络的参数，所述第一子分类网络与所述第一分支网络连接，所述第二子分类网络参数为第二子分类网络的参数，所述第二子分类网络与所述第二分支网络连接；将所述第三特征与所述第一子分类网络参数相乘，得到第五特征，以及将所述第四特征与所述第二子分类网络参数相乘，得到第六特征；连接所述第五特征以及所述第六特征，得到所述融合特征。在本实施例中，可以设置第一子分类网络参数为，设置第二子分类网络参数为wr，第一特征可以表示为fc，第二特征可以表示为fr。设第一权重为α，则第二权重可以表示为1-α，第三特征可以表示为α*fc，第四特征可以表示为fr。可以将加权之后的特征向量αfc和fr被分别送到对应分支的分类器Wc和Wr中进行分类特征学习，则第五特征可以表示为αwc*fc，第六特征可以表示为wrfr。将两个分支得到的输出通过元素逐加的形式进行最后的融合，则融合特征可以表示为z=αWcfc+Wrfr。其中，第一子分类网络参数与第二子分类网络参数的维度与第一特征以及第二特征的维度一致。在上述实施例中，累计学习部分，是将双边分支得到的特征分别与折中参数α以及相乘后，首先送入识别器Wc和Wr进行参数的重新拟合，然后再进行融合的操作，最后再送入Softmax函数中进行归一化操作。这一系列操作一方面是对参数的再学习过程，方便对网络参数进行拟合，另一方面也能够使网络尽快收敛。在一个示例性实施例中，基于所述融合特征确定所述目标网络模型的目标损失值包括：基于所述第五特征确定所述第一分支网络的第一损失值；基于所述第六特征确定所述第二分支网络的第二损失值；基于所述第一损失值以及所述第二损失值确定所述目标网络模型的目标损失值。在本实施例中，在确定目标损失值时，可以根据第五特征确定第一分支网络的第一损失值。如根据第五特征和第五特征对应的真实特征确定第一损失值。可以根据第六特征及第六特征对应的真实特征确定第二损失值，根据第一损失值和第二损失值确定目标损失值。例如，可以确定第一分支网络和第二分支网络的权重，根据权重求和确定目标损失值。在一个示例性实施例中，基于所述目标损失值迭代更新所述目标网络模型的目标网络参数包括：确定所述目标损失值中包括的所述第一分支网络对应的第一损失值，以及所述第二分支网络对应的第二损失值；基于所述第一损失值以及所述第二损失值更新所述目标网络参数中包括的第一权重和第二权重，其中，所述第一权重为所述第一分支网络对应的权重，所述第二权重为所述第二分支网络对应的权重。在本实施例中，网络参数变量，即第一权重和第二权重，会根据网络损失自动调整，而不是随着训练次数增加而递减的变量。通过分类网络的权重来控制双边分支的输出权重，达到在训练阶段将网络学习的注意力转移到两个分支之间的目的，实现精准训练目标网络的效果。在一个示例性实施例中，基于所述目标损失值迭代更新所述目标网络模型的目标网络参数包括：基于所述目标损失值确定网络参数更新梯度；按照所述网络参数更新梯度，更新所述目标网络模型中包括的所述第一分支网、所述第二分支网络以及所述分类模型的网络参数。在本实施例中，在确定出目标损失值后，可以根据目标损失值确定更新第一分支网络、第二分支网络以及分类模型的网络参数。并在更新后，再次进行训练，确定目标损失值，当目标损失值小于预定损失值或者训练次数达到预定次数时，退出训练，得到最终的目标网络参数。在一个示例性实施例中，基于所述目标特征确定所述目标数据对应的目标字符包括：确定所述目标特征中包括的每个特征与特征字典表中包括的字符的特征的相似度得分；基于所述相似度得分确定所述目标数据对应的所述目标字符。在本实施例中，当目标数据为车牌图像时，车牌一般包括7位或者8位的字母和数字组合，为了保证全部覆盖，一般设置长度为10，车牌识别特征表征最终得到的是10个长度为71的数字序列。车牌识别字典包括：“皖沪津渝冀晋蒙辽吉黑苏浙京闽赣鲁豫鄂湘粤桂琼川贵云藏陕甘青宁新警学挂应急ABCDEFGHJKLMNPQRSTUVWXYZ0123456789-”其中“-”表示是空白部位，长度为71，与车牌识别特征表征的序列长度一致。车牌识别特征表征中每一个长度为71的数字序列，都对应到车牌识别字典中的字符的得分。取其中得分最高的那一个作为车牌识别的一个字符。因此最终得到例如：“XXXXXXX---”，将10个长度为71的数字序列映射到车牌识别字典，得到最终的车牌号。经过后处理就得到最终的车牌为：“XXXXXXX”。下面结合具体实施方式对字符的确定方法进行说明：图4是根据本发明具体实施例的字符的确定方法中的模型训练方法流程图，如图4所示，目标网络模型包括双边分支网络，用于解决车牌识别数据中长尾分布的问题。针对分布不均匀的头部类和尾部类车牌数据，设置了两个分支，分别为卷积学习分支和重平衡分支。两个分支的网络结构相同，都是利用相同的残差网络结构进行特征提取。调试器：引入一个可学习的自适应的折中参数α用来控制分支得到的特征向量。累积学习策略：通过调试器的参数来控制双边分支的输出权重，达到在训练阶段将网络学习的注意力转移到两个分支之间的目的。其中，正常采样表示按照训练样本数据的原始分布，进行图片数据的均匀采样，即训练集中的每一个样本都只会以相同的概率被采样一次。这一批均匀采样的数据保留了原始数据集中的样本数据分布特性，因此有利于整体特征表示学习。反向采样表示在反向采样中，每个类别的采样概率与样本容量的倒数成正比，也就是说某个类别的样本容量越大，被采样的可能性就越小，反之某个类别的样本容量越小，被采样的可能性就越大。通过这种采样方式，能够使得网络更能关注到尾部类的车牌识别数据的特征，对尾部类别效果较好。车牌识别特征：车牌一般包括7位或者8位的字母和数字组合，为了保证全部覆盖，一般设置长度为10，车牌识别特征表征最终得到的是10个长度为71的数字序列。车牌识别字典包括：“皖沪津渝冀晋蒙辽吉黑苏浙京闽赣鲁豫鄂湘粤桂琼川贵云藏陕甘青宁新警学挂应急ABCDEFGHJKLMNPQRSTUVWXYZ0123456789-”其中“-”表示是空白部位，长度为71，与车牌识别特征表征的序列长度一致。车牌识别特征表征中每一个长度为71的数字序列，都对应到车牌识别字典中的字符的得分。取其中得分最高的那一个作为车牌识别的一个字符。因此最终得到例如：“XXXXXXX---”，将10个长度为71的数字序列映射到车牌识别字典，得到最终的车牌号。经过后处理就得到最终的车牌为：“XXXXXXX”。其中，fc和fr：卷积神经网络提取得到的特征向量，通常为一个三维的矩阵向量。α：自适应的折中参数α，用于控制卷积学习分支和重平衡分支得到的特征向量fc和fr的权重。该参数小于1且大于0。Wc和Wr：识别器中可学习的网络参数，维度和fc以及fr保持一致。Softmax函数：又称归一化指数函数，目的是将多分类的结果以概率的形式展现出来。本文用于将网络特征转换为车牌识别分类特征。p：车牌识别特征。卷积学习分支通过正常采样方式，采集训练图片。将正常采样图片送入到卷积学习分支中的卷积神经网络中进行训练，得到特征向量fc。重平衡分支通过反向采样方式，采集训练图片。将反向采样图片送入到重平衡分支中的卷积神经网络中进行训练，得到特征向量fr。调试器初始化一个可学习的自适应的折中参数α。将α与fc相乘，得到加权后的卷积学习分支网络特征向量αfc。将与fr相乘，得到加权后的重平衡分支网络特征向量fr。累积学习：加权之后的特征向量αfx和fr被分别送到对应分支的分类器Wc和Wr中进行分类特征学习。将两个分支得到的输出通过元素逐加的形式进行最后的融合，因此融合后的特征可以表示为：z=αWcfc+Wrfr。将融合后的特征经过Softmax函数处理后，得到最终的车牌识别特征序列p。对特征p进行车牌识别后处理得到最终的车牌识别结果。在前述实施例中，卷积学习分支学习到的是原始数据集中的样本数据分布特性，因此它的结果代表的是整体特征。而重平衡分支更多的是关注到尾部类的车牌识别数据的特征，因此它学习到的结果更多的是代表尾部类别的特征。最终的结果是将双边输出的结果进行合并，折中参数就是起到控制分支的效果。这个折中参数通过加权的形式，控制两个特征对最终结果的影响。可以有效解决车牌识别数据中的长尾分布导致的车牌识别准确率低的问题。双边分支网络分别对均匀数据样本特征以及尾部类别特征进行学习，最后再经过累积学习的方式将两者进行融合，不仅不损失头部类别的精度，同时也能够很好的兼顾尾部类别的数据分布，从而实现精度的最终提升。即先利用双边分支独立学习各自特征，再利用累积学习策略，对两个特征进行汇总再学习。这样一方面提升网络的泛化能力，另一方面也能避免直接的加和，导致网络参数难以拟合的问题。相比于重赋值策略，本发明不需要对大量的头尾部数据类别进行标签的定义，同时网络参数较少，简单易调，容易在大样本数据集中进行扩展。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到根据上述实施例的方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。在本实施例中还提供了一种字符的确定装置，该装置用于实现上述实施例及优选实施方式，已经进行过说明的不再赘述。如以下所使用的，术语“模块”可以实现预定功能的软件和/或硬件的组合。尽管以下实施例所描述的装置较佳地以软件来实现，但是硬件，或者软件和硬件的组合的实现也是可能并被构想的。图5是根据本发明实施例的字符的确定装置的结构框图，如图5所示，该装置包括：第一确定模块52，用于将目标数据输入至目标网络模型中，确定所述目标数据的目标特征；第二确定模块54，用于基于所述目标特征确定所述目标数据对应的目标字符；其中，所述目标网络模型是通过如下方式进行训练的：用于按照第一采样规则从训练数据集中抽取第一训练数据，以及按照第二采样规则从所述训练数据集中抽取第二训练数据，所述训练数据集中包括第一类型的训练数据和第二类型的训练数据，所述第一类型的训练数据的数量大于所述第二类型的训练数据的数量，所述第一采样规则包括每个训练数据被抽取到的概率相同，所述第二采样规则包括所述第二类型的训练数据被抽取到的概率大于所述第一类型的训练数据被抽取到的概率，所述第一训练数据、所述第二训练数据以及所述目标数据为采集设备采集到的数据；将所述第一训练数据输入至目标网络模型中包括的第一分支网络中，确定所述第一训练数据的第一特征； 将所述第二训练数据输入至所述目标网络模型中包括的第二分支网络中，确定所述第二训练数据的第二特征；基于所述目标网络模型中包括的分类模型的网络参数融合所述第一特征以及所述第二特征，得到融合特征；基于所述融合特征确定所述目标网络模型的目标损失值，并基于所述目标损失值迭代更新所述目标网络模型的目标网络参数。在一个示例性实施例中，所述装置可以通过如下方式实现基于所述目标网络模型中包括的分类模型的分类网络参数融合所述第一特征以及所述第二特征，得到融合特征：确定所述第一分支网络对应的第一权重，以及所述第二分支网络对应的第二权重；将所述第一特征与所述第一权重相乘，得到第三特征，以及将所述第二特征与所述第二权重相乘，得到第四特征；基于所述分类网络参数融合所述第三特征以及所述第四特征，得到所述融合特征。在一个示例性实施例中，所述装置可以通过如下方式实现基于所述分类网络参数融合所述第三特征以及所述第四特征，得到所述融合特征：确定所述分类网络参数中包括的第一子分类网络参数以及所述第二子分类网络参数，其中，所述第一子分类网络参数为第一子分类网络的参数，所述第一子分类网络与所述第一分支网络连接，所述第二子分类网络参数为第二子分类网络的参数，所述第二子分类网络与所述第二分支网络连接；将所述第三特征与所述第一子分类网络参数相乘，得到第五特征，以及将所述第四特征与所述第二子分类网络参数相乘，得到第六特征；连接所述第五特征以及所述第六特征，得到所述融合特征。在一个示例性实施例中，所述装置可以通过如下方式实现基于所述融合特征确定所述目标网络模型的目标损失值：基于所述第五特征确定所述第一分支网络的第一损失值；基于所述第六特征确定所述第二分支网络的第二损失值；基于所述第一损失值以及所述第二损失值确定所述目标网络模型的目标损失值。在一个示例性实施例中，所述装置可以通过如下方式实现基于所述目标损失值迭代更新所述目标网络模型的目标网络参数：确定所述目标损失值中包括的所述第一分支网络对应的第一损失值，以及所述第二分支网络对应的第二损失值；基于所述第一损失值以及所述第二损失值更新所述目标网络参数中包括的第一权重和第二权重，其中，所述第一权重为所述第一分支网络对应的权重，所述第二权重为所述第二分支网络对应的权重。在一个示例性实施例中，所述装置可以通过如下方式实现基于所述目标损失值迭代更新所述目标网络模型的目标网络参数：基于所述目标损失值确定网络参数更新梯度；按照所述网络参数更新梯度，更新所述目标网络模型中包括的所述第一分支网、所述第二分支网络以及所述分类模型的网络参数。在一个示例性实施例中，第二确定模块54可以通过如下方式实现基于所述目标特征确定所述目标数据对应的目标字符：确定所述目标特征中包括的每个特征与特征字典表中包括的字符的特征的相似度得分；基于所述相似度得分确定所述目标数据对应的所述目标字符。需要说明的是，上述各个模块是可以通过软件或硬件来实现的，对于后者，可以通过以下方式实现，但不限于此：上述模块均位于同一处理器中；或者，上述各个模块以任意组合的形式分别位于不同的处理器中。本发明的实施例还提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，其中，所述计算机程序被处理器执行时实现上述任一项中所述的方法的步骤。在一个示例性实施例中，上述计算机可读存储介质可以包括但不限于：U盘、只读存储器、随机存取存储器、移动硬盘、磁碟或者光盘等各种可以存储计算机程序的介质。本发明的实施例还提供了一种电子装置，包括存储器和处理器，该存储器中存储有计算机程序，该处理器被设置为运行计算机程序以执行上述任一项方法实施例中的步骤。在一个示例性实施例中，上述电子装置还可以包括传输设备以及输入输出设备，其中，该传输设备和上述处理器连接，该输入输出设备和上述处理器连接。本实施例中的具体示例可以参考上述实施例及示例性实施方式中所描述的示例，本实施例在此不再赘述。显然，本领域的技术人员应该明白，上述的本发明的各模块或各步骤可以用通用的计算装置来实现，它们可以集中在单个的计算装置上，或者分布在多个计算装置所组成的网络上，它们可以用计算装置可执行的程序代码来实现，从而，可以将它们存储在存储装置中由计算装置来执行，并且在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤，或者将它们分别制作成各个集成电路模块，或者将它们中的多个模块或步骤制作成单个集成电路模块来实现。这样，本发明不限制于任何特定的硬件和软件结合。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
