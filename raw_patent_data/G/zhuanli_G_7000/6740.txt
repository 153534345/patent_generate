标题title
基于人工智能的全科用药推荐方法、装置、设备及介质
摘要abst
本申请公开了一种基于人工智能的全科用药推荐方法、装置、设备及介质，涉及人工智能及数字医疗技术领域，可解决用药推荐模型精准度较低的技术问题。包括：确定由样本病理数据构建的样本集，样本集包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的第二样本集；利用第一样本集中的第一样本预训练第一用药推荐模型，预训练完成后将第二样本集中的第二样本输入其中，获取第一用药推荐结果的预测概率以及预测不确定性，据此在第二样本集中筛选第一预设数量个第二样本进行噪声检测，利用噪声检测后不存在噪声数据的第二样本和第一样本集迭代训练第一用药推荐模型，得到目标用药推荐模型，据此得到目标推荐用药并发送给目标来访患者。
权利要求书clms
1.一种基于人工智能的全科用药推荐方法，其特征在于，包括：确定由样本病理数据构建的样本集，所述样本集包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的第二样本集；利用所述第一样本集中的第一样本预训练第一用药推荐模型，并将所述第二样本集中的第二样本输入预训练完成的第一用药推荐模型中，获取第一用药推荐结果；依据所述第一用药推荐结果的预测概率以及预测不确定性，在所述第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和所述第一样本集迭代训练所述第一用药推荐模型，得到目标用药推荐模型；获取目标来访患者上传的患者病理数据，并将所述患者病理数据输入所述目标用药推荐模型，得到目标用药推荐结果；根据所述目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将所述目标推荐用药发送至所述目标来访患者。2.根据权利要求1所述的方法，其特征在于，所述依据所述第一用药推荐结果的预测概率以及预测不确定性，在所述第二样本集中筛选第一预设数量个第二样本进行噪声检测，包括：依据所述第一用药推荐结果，在所述第二样本集中提取第一预设数量个对应预测概率小于第一预设阈值且预测不准确性大于第二预设阈值的第二样本；提取所述第二样本对应的病理信息以及第一用药标签，并依据预设伤情用药信息表判断所述病理信息是否与所述第一用药标签匹配；若所述病理信息与所述第一用药标签不匹配，则按照所述预设伤情用药信息表将所述第一用药标签更新为与所述病理信息匹配度最高的第二用药标签。3.根据权利要求2所述的方法，其特征在于，所述利用噪声检测后不存在噪声数据的第二样本和所述第一样本集迭代训练所述第一用药推荐模型，得到目标用药推荐模型，包括：获取噪声检测后不存在噪声数据的第二样本，将所述第二样本更新至所述第一样本集，并利用更新后的第一样本集训练所述第一用药推荐模型；重复执行上述筛选第一预设数量个第二样本进行噪声检测，将经过噪声检测后不存在噪声数据的第二样本更新至所述第一样本集，并利用更新后的第一样本集训练所述第一用药推荐模型的过程，直至确定所述训练进程符合预设迭代终止条件，判定所述第一用药推荐模型迭代训练完成，得到目标用药推荐模型。4.根据权利要求1所述的方法，其特征在于，在将所述患者病理数据输入所述目标用药推荐模型，得到目标用药推荐结果之前之前，还包括：根据所述患者病理数据确定所述目标来访患者对应的病情等级，并判定所述病情等级是否触发药物辅助治疗条件；若判定所述病情等级触发药物辅助治疗条件，则将所述患者病理数据输入所述目标用药推荐模型，得到目标用药推荐结果。5.根据权利要求1所述的方法，其特征在于，所述根据所述目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至所述目标来访患者，包括：根据多个预设安全用药检测规则对所述目标用药推荐结果中推荐分值大于预设阈值的联合药品和/或单一药品进行药品安全性检测，获取得到通过所述药品安全性检测的目标推荐用药清单，其中，联合药品为至少包含两种单一药品的组合；将所述目标推荐用药清单发送至所述目标来访患者。6.根据权利要求5所述的方法，其特征在于，所述根据多个预设安全用药检测规则对所述目标用药推荐结果中推荐分值大于预设阈值的联合药品和/或单一药品进行药品安全性检测，获取得到通过所述药品安全性检测的目标推荐用药清单，包括：根据预设药物相互作用检测规则对推荐分值大于第三预设阈值的联合药品进行药物相互作用检测，得到第一检测结果；根据预设禁忌检测规则对推荐分值大于第三预设阈值的联合药品和单一药品进行禁忌检测，得到第二检测结果；根据预设药品过敏检测规则对推荐分值大于第三预设阈值的联合药品和单一药品进行药品过敏检测，得到第三检测结果；根据所述第一检测结果、所述第二检测结果和所述第三检测结果确定适用于所述目标来访患者的目标推荐用药清单。7.根据权利要求1所述的方法，其特征在于，还包括：接收所述目标来访患者对所述目标推荐用药的选取指令；响应于所述选取指令，在药品知识图谱中获取所述目标来访患者所选定目标推荐用药的药品信息，并将所述药品信息发送至所述目标来访患者。8.一种基于人工智能的全科用药推荐装置，其特征在于，包括：确定模块，用于确定由样本病理数据构建的样本集，包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集；第一训练模块，用于利用所述第一样本集中的第一样本预训练第一用药推荐模型，并将所述第二样本集中的第二样本输入预训练完成的第一用药推荐模型中，获取第一用药推荐结果；第二训练模块，用于依据所述第一用药推荐结果的预测概率以及预测不确定性，在所述第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和所述第一样本集迭代训练所述第一用药推荐模型，得到目标用药推荐模型；输入模块，用于获取目标来访患者上传的患者病理数据，并将所述患者病理数据输入所述目标用药推荐模型，得到目标用药推荐结果；第一发送模块，用于根据所述目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将所述目标推荐用药发送至所述目标来访患者。9.一种存储介质，其上存储有计算机程序，其特征在于，所述程序被处理器执行时实现权利要求1至7中任一项所述的基于人工智能的全科用药推荐方法。10.一种计算机设备，包括存储介质、处理器及存储在存储介质上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现权利要求1至7中任一项所述的基于人工智能的全科用药推荐方法。
说明书desc
技术领域本申请涉及人工智能技术领域，尤其涉及到一种基于人工智能的全科用药推荐方法、装置、设备及介质。背景技术全科用药推荐是指为全科场景下的来访患者，根据其伤情情况自动推荐合理用药。能够减少因为医生资历浅导致的不合理用药，也防止过度开药的现象，有利于对患者对症下药，提高医疗质量，减少医疗成本。目前全科用药推荐的方式，往往是通过收集海量的历史医疗数据，并直接利用历史医疗数据构建用药推荐模型。然而，医疗数据中不可避免的存在各类噪声，例如医生误开、代替拿药等，使得医疗数据中的药物与实际伤情情况不完全吻合，进而导致所构建用药推荐模型的精准度较低。发明内容有鉴于此，本申请提供了一种基于人工智能的全科用药推荐方法、装置、设备及介质，可用于解决目前全科用药推荐的方式直接由含有噪声的历史医疗数据构建全科用药推荐模型,导致所构建用药推荐模型精准度较低的技术问题。根据本申请的一个方面，提供了一种基于人工智能的全科用药推荐方法，该方法包括：确定由样本病理数据构建的样本集，所述样本集包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集；利用所述第一样本集中的第一样本预训练第一用药推荐模型，并将所述第二样本集中的第二样本输入预训练完成的第一用药推荐模型中，获取第一用药推荐结果；依据所述第一用药推荐结果的预测概率以及预测不确定性，在所述第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和所述第一样本集迭代训练所述第一用药推荐模型，得到目标用药推荐模型；获取目标来访患者上传的患者病理数据，并将所述患者病理数据输入所述目标用药推荐模型，得到目标用药推荐结果；根据所述目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将所述目标推荐用药发送至所述目标来访患者。根据本申请的另一个方面，提供了一种基于人工智能的全科用药推荐装置，该装置包括：确定模块，用于确定由样本病理数据构建的样本集，包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集；第一训练模块，用于利用所述第一样本集中的第一样本预训练第一用药推荐模型，并将所述第二样本集中的第二样本输入预训练完成的第一用药推荐模型中，获取第一用药推荐结果；第二训练模块，用于依据所述第一用药推荐结果的预测概率以及预测不确定性，在所述第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和所述第一样本集迭代训练所述第一用药推荐模型，得到目标用药推荐模型；输入模块，用于获取目标来访患者上传的患者病理数据，并将所述患者病理数据输入所述目标用药推荐模型，得到目标用药推荐结果；第一发送模块，用于根据所述目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将所述目标推荐用药发送至所述目标来访患者。根据本申请的又一个方面，提供了一种存储介质，其上存储有计算机程序，所述程序被处理器执行时实现上述基于人工智能的全科用药推荐方法。根据本申请的再一个方面，提供了一种计算机设备，包括存储介质、处理器及存储在存储介质上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现上述基于人工智能的全科用药推荐方法。借由上述技术方案，本申请提供的一种基于人工智能的全科用药推荐方法、装置、设备及介质，与目前全科用药推荐的方式相比，本申请可首先确定由样本病理数据构建的样本集，其包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集；利用第一样本集中的第一样本预训练第一用药推荐模型，在判定第一用药推荐模型预训练完成后，输入第二样本集中的第二样本，获取第一用药推荐结果；依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和第一样本集迭代训练第一用药推荐模型，直至训练进程符合预设迭代终止条件，判定第一用药推荐模型迭代训练完成，得到目标用药推荐模型；获取目标来访患者上传的患者病理数据，将患者病理数据输入目标用药推荐模型，得到目标用药推荐结果；根据目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至目标来访患者。通过本申请中的技术方案，可应用于人工智能技术，在海量噪声医疗数据的基础上，通过对噪声数据的迭代式清洗，不断丰富样本量，进而利用更新的样本集对用药推荐模型进行反复迭代训练，可构建得到精准度较高的全科用药推荐模型。此外，本申请不需要对大量样本全部进行手动去噪处理，可有效节省用药推荐模型的训练成本，并提高训练效率。上述说明仅是本申请技术方案的概述，为了能够更清楚了解本申请的技术手段，而可依照说明书的内容予以实施，并且为了让本申请的上述和其它目的、特征和优点能够更明显易懂，以下特举本申请的具体实施方式。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本地申请的不当限定。在附图中：图1示出了本申请实施例提供的一种基于人工智能的全科用药推荐方法的流程示意图；图2示出了本申请实施例提供的另一种基于人工智能的全科用药推荐方法的流程示意图；图3示出了本申请实施例提供的一种基于人工智能的全科用药推荐装置的结构示意图；图4示出了本申请实施例提供的另一种基于人工智能的全科用药推荐装置的结构示意图。具体实施方式本申请实施例可以基于人工智能技术实现对全科用药的精准推荐。其中，人工智能是利用数字计算机或者数字计算机控制的机器模拟、延伸和扩展人的智能，感知环境、获取知识并使用知识获得最佳结果的理论、方法、技术及应用系统。人工智能基础技术一般包括如传感器、专用人工智能芯片、云计算、分布式存储、大数据处理技术、操作/交互系统、机电一体化等技术。人工智能软件技术主要包括计算机视觉技术、机器人技术、生物识别技术、语音处理技术、自然语言处理技术以及机器学习/深度学习等几大方向。下文将参考附图并结合实施例来详细说明本申请。需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互结合。针对目前全科用药推荐的方式存在的精准度较低的技术问题。本申请提供了一种基于人工智能的全科用药推荐方法，如图1所示，该方法包括：101、确定由样本病理数据构建的样本集，样本集包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集。其中，每个样本病理数据标识有病理信息以及依据该病理信息确定的用药标签，样本集Du＝{样本病理数据1：，样本病理数据2:，样本病理数据3:，…样本病理数据N:}，如样本集Du＝{样本病理数据1：，样本病理数据2:，样本病理数据3:，…样本病理数据N:}。第一样本集由不存在噪声数据或消除噪声数据后的第一样本构成，第二样本集中由不确定是否存在噪声数据的第二样本构成。鉴于医疗数据中不可避免的存在各类噪声，例如医生误开、代替拿药等，使得数据中的药物与实际伤情情况不完全吻合，这会影响所构建的推荐模型的精准度。故对于本实施例，可预先在样本病理数据中筛选出部分第一样本，并对第一样本进行噪声检测，在检测到第一样本不存在噪声数据时，将第一样本存储至第一样本集中；在检测到第一样本存在噪声数据时，对其进行去噪处理，在去噪处理后将该第一样本同样存储在第一样本集中。相应的，可将样本病理数据中第一样本之外的第二样本统一存储于第二样本集中。通过此种方式，得到的第一样本集不存在噪声数据，故可应用于对用药推荐模型的预训练，以保证预训练用药推荐模型的精准度。对于存在潜在噪声数据的第二样本集，可用于对预训练完成的用药推荐模型进行迭代训练，并在迭代训练过程中实现对噪声数据的自动清洗，在丰富训练样本的同时，也能基于大量的训练样本保证用药推荐模型的模型精度。其中，在对第一样本进行噪声检测以及去噪处理时，作为一种可选方式，可在样本集中提取预设数量个样本病理数据，提取样本病理数据中的第一病理信息以及依据第一病理信息确定的第一用药标签，进行噪声检测判断第一病理信息与第一用药标签是否与预设病理用药信息表匹配，若匹配，则确定样本病理数据不需要去噪处理，进一步存储于第一样本集中，若不匹配，则按照预设伤情用药信息表将第一用药标签更新为与第一病理信息匹配度最高的第二用药标签，并存储于第一样本集中。作为另一种可选方式，可在样本集中提取预设数量个样本病理数据，将样本病理数据交由预设管理终端进行审核校验处理，并对信息有误的样本病理数据进行矫正处理，进而将不存在信息错误的样本病理数据和矫正处理后的样本病理数据作为第一样本统一存储于第一样本集中。例如，给定样本集Du＝{样本病理数据1：，样本病理数据2:，样本病理数据3:，…样本病理数据N:}，从中随机采样p％的样本病理数据，发送至预设管理终端，由预设管理终端对应的专家进行人工审核，检验p％的样本病理数据的第一用药标签是否符合第一病理信息，检验后得到，p％的样本病理数据中有q％无误，p％-q％有误，对p％-q％的样本病理数据进行人工修改，然后将q％的样本病理数据和修改后的p％-q％样本病理数据加入第一样本集D1，未经噪声检测的1-p％的样本病理数据存储于第二样本集D2，样本集Du＝{第一样本集D1，第二样本集D2}。通过本实施例中的步骤，将样本集中的部分样本病理数据提取出来，对其进行噪声检测，对于存在噪声数据的样本病理数据进行去噪处理，消除存在的噪声数据，使得样本病理数据中的药物与实际伤情情况完全吻合，为用药推荐模型的预训练提供干净无噪的训练样本，以避免用药推荐模型预训练过程受到噪声数据的干扰。对于本申请的执行主体可为全科用药推荐装置，可配置在客户端侧或服务端侧，可首先确定由样本病理数据构建的样本集，其包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集；进而利用第一样本集中的第一样本预训练第一用药推荐模型，在判定第一用药推荐模型预训练完成后，输入第二样本集中的第二样本，获取第一用药推荐结果；之后依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和第一样本集迭代训练第一用药推荐模型，直至训练进程符合预设迭代终止条件，判定第一用药推荐模型迭代训练完成，得到目标用药推荐模型；进一步的，可将目标来访患者上传的患者病理数据输入目标用药推荐模型，得到目标用药推荐结果，并根据目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至目标来访患者。102、利用第一样本集中的第一样本预训练第一用药推荐模型，并将第二样本集中的第二样本输入预训练完成的第一用药推荐模型中，获取第一用药推荐结果。其中，第一用药推荐模型可对应现有神经网络模型中的任意一种，例如可为贝叶斯神经网络模型、线性回归模型、决策树模型、神经网络模型、支持向量机模型、隐马尔可夫模型等。在本实施例中，第一用药推荐模型可选用贝叶斯神经网络模型，其把概率建模和神经网络结合起来，不仅可以预测结果，还可以给出对预测结果的预测概率以及预测不确定性，贝叶斯神经网络模型中权重是随机变量W，而非确定的值，这是其与一般的神经网络根本不同之处，给定观测数据即训练数据D＝{X,Y}，这里X是输入数据，Y是标签数据，预测结果是用分布表示的。因为预测结果是用分布表示的，所以可以得到预测结果的预测概率以及预测不确定性。预测概率越大表示该预测药品对应为最终模型推荐药品的概率越大，预测不确定性越小对应该预测概率的预测准确性越高。对于本实施例，利用第一样本集中的第一样本预训练第一用药推荐模型，具体可包括：将第一样本中的第一病理信息作为输入特征输入第一用药推荐模型，对其进行预训练，当第一用药推荐模型输出的用药推荐结果与第一样本的第一病理信息对应的第一用药标签的相似度大于预设阈值时，或对应的损失函数小于预设阈值时，判定第一用药推荐模型预训练完成，将第二样本集中的第二样本输入预训练完成的第一用药推荐模型中，输出第一用药推荐结果以及第一用药推荐结果的预测概率和预测不确定性。103、依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和第一样本集迭代训练第一用药推荐模型，得到目标用药推荐模型。对于本实施例，鉴于带有用药标签的第一样本的数量较小，故预训练后的第一用药推荐模型仍无法保证较高的精准度。对此，可在获取第一用药推荐结果后，进一步依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中提取第一预设数量个对应预测概率小于第一预设阈值且预测不准确性大于第二预设阈值的第二样本。鉴于提取出的第二样本对应的预测概率较小且预测不准确性较大，故可判定该第二样本存在噪声数据的概率较大，故可对该第二样本进行噪声检测，并对存在噪声数据的第二样本进行降噪处理，经过降噪处理后，该第二样本配置有正确的第二用药标签。进而可利用配置有第二用药标签的第二样本迭代训练第一用药推荐模型，直至第一用药推荐模型满足预设迭代终止条件，将第一用药推荐模型确定为目标用药推荐模型。具体的，可利用预训练完成的第一用药推荐模型识别未经过噪声检测的第二样本集中的第二样本，得到第一用药推荐结果。进而依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中逐次筛选明显存在噪声数据的第二样本进行去噪处理，将去噪处理后不存在噪声并配置有第二用药标签的第二样本存储于第一样本集中，利用更新后的第一样本集继续训练实施例步骤102中预训练完成的第一用药推荐模型。即将第一样本集中的第一样本或第二样本的病理信息作为输入特征输入第一用药推荐模型，对其进行增强训练，当第一用药推荐模型输出的用药推荐结果与第一用药标签或第二用药标签的相似度大于预设阈值时，或对应的损失函数小于预设阈值时，判定第一用药推荐模型在当前更新后的第一样本集下增强训练完成。进一步的，可重复执行上述筛选部分第二样本进行去噪处理，将去噪处理后的第二样本更新至第一样本集，并利用更新后的第一样本集训练第一用药推荐模型的过程，不断进行对第一用药推荐模型的增强训练，直至判定训练进程符合预设迭代终止条件，判定第一用药推荐模型迭代训练完成，得到目标用药推荐模型。其中，预设迭代终止条件包括：第一用药推荐模型训练达到最大迭代次数N；和/或本轮迭代所得第二样本集D2中所有样本的预测不确定性均小于预设阈值。在上述从第二样本集中筛选第一预设数量个第二样本进行噪声检测，对存在噪声的进行去噪处理，具体实施过程可参照实施例步骤101中对第一样本进行噪声检测以及去噪处理的相关描述，在此不再赘述。对于本实施例，可用第一用药推荐结果预测第二样本集D2中的第二样本，用precision@k评估预测结果和原始标签结果的差别，将precision@k＜0.5的第二样本作为潜在的噪声样本放入第三样本集D3。进一步的，可利用第一用药推荐模型得到第三样本集D3中每个第二样本的不确定性，将其中不确定性最高的q％的第二样本，利用上述去噪处理方法进行去噪处理，如可交由专家审核、修正，并将去噪后的第二样本加入第一样本集D1、同时在第三样本集D3中移除该第二样本。其中，precision@k：例如某个样本的原始标签中包含5种药物，则k＝5，那么precision@5的意思就是把预测结果中分数最高的5个药物取出来，看其中有几个与原始标签中的5种药物相同，从而计算之，譬如预测结果中有3个是对的，则precision@5＝3/5＝0.6。通过本实施例中基于人工智能的全科用药推荐方法，可以解决第一样本集中的第一样本量较小，依据第一样本训练得到的第一用药推荐模型不够精准的问题，通过在第二样本集中筛选第一预设数量个第二样本进行噪声检测，对于存在噪声的进行去噪处理，将不存在噪声的第二样本存储于第一样本集中，不断增大第一样本集中的样本量，对第一用药推荐模型进行迭代训练，以得到较高精准度的目标用药推荐模型。104、获取目标来访患者上传的患者病理数据，并将患者病理数据输入目标用药推荐模型，得到目标用药推荐结果。其中，目标用药推荐模型为实施例步骤103中迭代训练进程满足预设迭代终止条件后的第一用药推荐模型。在第一用药推荐模型的迭代训练进程中，不断进行预设迭代终止条件验证，当判定第一用药推荐模型训练达到迭代次数N；和/或本轮迭代所得第二样本集中所有样本的预测不确定性均小于预设阈值，则可将当前训练阶段的第一用药推荐模型确定为能够应用于实际应用场景中，根据患者病理数据生成用药推荐的目标用药推荐模型。目标用药推荐模型可对应现有神经网络模型中的任意一种，例如可为贝叶斯神经网络模型、线性回归模型、决策树模型、神经网络模型、支持向量机模型、隐马尔可夫模型等。在本实施例中，目标用药推荐模型可为迭代训练完成的贝叶斯神经网络模型；目标来访患者为全科场景下的来访患者，患者病理数据具体可包括诊断数据、检验检查结果等信息。对于本实施例，作为一种优选方式，上传患者病理数据时包括必填项和选填项，在接收到目标来访患者上传的患者病理数据后，可首先对患者病理数据进行必填项数据的缺失检验，若判定患者病理数据存在必填项数据缺失，则可依据预设数据填补规则对患者病理数据进行数据填补处理，或将未得到目标用药推荐结果的原因发送至目标来访患者，并提示目标来访患者对缺失数据进行补充上传；在确定患者病理数据完整后，进一步执行后续依据患者病理数据生成用药推荐结果的实施例步骤。在具体的应用场景中，在将未得到目标用药推荐结果的原因发送至目标来访患者，并提示目标来访患者对缺失数据进行补充上传时，还可输出缺失数据对应的索引指示，以便目标来访患者根据索引指示实现对缺失数据的有效填补。其中，索引指示可包括必填项和选填项对应的数据标准示例以及索引解析，以保证上传的患者病理数据更加全面，得到的目标用药推荐结果更加的精确。例如：必填项1：年龄，必填项2：过敏药物，必填项3：是否妊娠等；选填项1：姓名，选填项2：性别等。105、根据目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至目标来访患者。对于本实施例，在由目标用药推荐模型得到目标用药推荐结果的基础上再次按照预设的安全用药检测规则进行筛选，包括筛选掉国家药品监督局提出禁用的药品，并提供最佳用药组合，如可包括费用最低组合药品，效果最快组合药品，刺激性最小组合药品等，并将最佳用药组合发送至目标来访患者，以供目标来访患者根据自身需求进行选取。如，目标来访患者上传流行性感冒加发热39度，年龄22岁，无妊娠等必填信息，目标用药推荐结果给出10个药品，按照预设的安全用药检测规则筛选出8个符合规则的药品，如筛选掉被国家药品监督局禁用的安乃近注射液、安乃近氯丙嗪注射液、安乃近滴剂、安乃近滴鼻液、滴鼻用安乃近溶液片、维C银翘片等，并给出费用最低组合：复方氨酚烷胺片与板蓝根颗粒，效果最快组合：布洛芬混悬液与连花清瘟，刺激性最小组合：对乙酰氨基酚与维生素C。通过本实施例中基于人工智能的全科用药推荐方法，更加满足了在相同或类似的病理信息下，不同患者的不同需求，提高了全科用药推荐的精准度。通过本实施例中基于人工智能的全科用药推荐方法，可首先确定由样本病理数据构建的样本集，其包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集；利用第一样本集中的第一样本预训练第一用药推荐模型，在判定第一用药推荐模型预训练完成后，输入第二样本集中的第二样本，获取第一用药推荐结果；依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和第一样本集迭代训练第一用药推荐模型，直至训练进程符合预设迭代终止条件，判定第一用药推荐模型迭代训练完成，得到目标用药推荐模型；获取目标来访患者上传的患者病理数据，将患者病理数据输入目标用药推荐模型，得到目标用药推荐结果；根据目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至目标来访患者。可应用于人工智能技术，在海量噪声医疗数据的基础上，通过对噪声数据的迭代式清洗，不断丰富样本量，进而利用更新的样本集对用药推荐模型进行反复迭代训练，可构建得到精准度较高的全科用药推荐模型。此外，本申请不需要对大量样本全部进行手动去噪处理，可有效节省用药推荐模型的训练成本，并提高训练效率。进一步的，作为上述实施例具体实施方式的细化和扩展，为了完整说明本实施例中的具体实施过程，提供了另一种基于人工智能的全科用药推荐方法，如图2所示，该方法包括：201、确定由样本病理数据构建的样本集，样本集包括经过去噪处理的第一样本集以及未经去噪处理的第二样本集。具体实施过程可参照实施例步骤101中的相关描述，在此不再赘述。202、利用第一样本集中的第一样本预训练第一用药推荐模型，并将第二样本集中的第二样本输入预训练完成的第一用药推荐模型中，获取第一用药推荐结果。具体实施过程可参照实施例步骤102中的相关描述，在此不再赘述。203、依据第一用药推荐结果，在第二样本集中提取第一预设数量个对应预测概率小于第一预设阈值且预测不准确性大于第二预设阈值的第二样本。对于本实施例，具体可在获取到第二样本对应的第一用药推荐结果后，进一步依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中提取第一预设数量个对应预测概率小于第一预设阈值且预测不准确性大于第二预设阈值的第二样本。鉴于提取出的第二样本对应的预测概率较小且预测不准确性较大，故可判定该第二样本对应存在噪声数据的概率较大，可通过对该第二样本进行噪声检测以及噪声处理，消除第二样本集中的噪声影响。其中，第一预设阈值和第二预设阈值均为0到1之间的数值，具体数值可根据实际应用场景进行设定。例如，如果第二样本集中的第二样本有100个，将其全部输入预训练完成的第一用药推荐模型中，根据第一用药推荐模型获得了100个第二样本对应的第一用药推荐结果以及第一用药推荐结果的预测概率P和预测不确定性1-α，预设的筛选条件为：预测概率P＜第一预设阈值0.8∩第二预设阈值＞预测不准确性＝0.2，对100个第二样本进行筛选，得到符合条件的有30个。204、提取第二样本对应的病理信息以及第一用药标签，并依据预设伤情用药信息表判断病理信息是否与第一用药标签匹配，若病理信息与第一用药标签不匹配，则按照预设伤情用药信息表将第一用药标签更新为与病理信息匹配度最高的第二用药标签，获取噪声检测后不存在噪声数据的第二样本，将第二样本更新至第一样本集，并利用更新后的第一样本集训练第一用药推荐模型。对于本实施例，具体可对经过筛选条件提取出来的第二样本进行噪声检测以及噪声处理，即依据预设伤情用药信息表判断病理信息是否与第一用药标签匹配，此过程可以采用专家审核或人工智能审核，如果不匹配，认定其存在噪声。进一步的，可对于存在噪声的第二样本进行去噪处理，按照预设伤情用药信息表将第一用药标签更新为与病理信息匹配度最高的第二用药标签，移除第一用药标签并确认去噪处理完成，将经过噪声检测后不存在噪声的第二样本更新到第一样本集中，利用更新后的第一样本集训练第一用药推荐模型。其中具体实施过程可参照实施例步骤101中对第一样本进行噪声检测以及去噪处理的相关描述，在此不再赘述。例如，基于实施例步骤203中的实例，对符合预设筛选条件的30个第二样本进行噪声检测后，存在10个第二样本含有噪声，对其进行去噪处理，用经过去噪处理后不含噪声的10个第二样本与余下的20个第二样本更新到第一样本集，作为迭代训练第一用药推荐模型的数据，利用更新后的第一样本集训练第一用药推荐模型。通过本实施例的方法，增加了迭代训练第一用药推荐模型的不含有噪声的样本数据量，保证经过训练得到的目标推荐模型更加的精准。205、重复执行上述筛选第一预设数量个第二样本进行去噪处理，将去噪处理后的第二样本更新至第一样本集，并利用更新后的第一样本集训练第一用药推荐模型的过程，直至确定训练进程符合预设迭代终止条件，判定第一用药推荐模型迭代训练完成，得到目标用药推荐模型。对于本实施例，当判定训练进程符合预设迭代终止条件时，即可结束对第一用药推荐模型的迭代训练，将当前训练进程下的第一用药推荐模型确定为最终可应用于实际全科用药推荐场景下的应用模型。206、获取目标来访患者上传的患者病理数据，并将患者病理数据输入目标用药推荐模型，得到目标用药推荐结果。其中，目标来访患者为全科场景下的来访患者，患者病理数据具体可包括诊断数据、检验检查结果等信息。在具体的应用场景中，在执行本实施例步骤之前，作为一种可选实施方式，还包括：根据患者病理数据确定目标来访患者对应的病情等级，并判定病情等级是否触发药物辅助治疗条件；相应的，若判定病情等级触发药物辅助治疗条件，则将患者病理数据输入目标用药推荐模型，得到目标用药推荐结果。如判定未触发药物辅助治疗条件的情况包括：病情不需要药物治疗就可以痊愈，如出现发热状况时，如果体温没有超过37.5度，尽量不要服用药物进行退热；病情过于严重，单靠药物无法进行治疗，需要手术治疗，如肺栓塞出现时以猝死、呼吸心跳骤停等为表现，此时需要急救处理；或对应症状所开的药为处方药等，需要医生下处方开药，如强效安眠药、镇定剂等。相应的，在执行本实施例步骤之前，作为另一种可选实施方式，还包括：通过对患者病理数据的数据分析判定患者病理数据是否存在数据缺失；相应的，若判定患者病理数据存在数据缺失，则依据预设数据填补规则对患者伤情数据进行数据填补处理，或者提示目标来访患者对缺失的患者伤情数据进行补充上传，并确定患者伤情数据完整。207、根据目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至目标来访患者。对于本实施例，作为一种可选实施方式，实施例步骤207具体可以包括：根据多个预设安全用药检测规则对目标用药推荐结果中推荐分值大于预设阈值的联合药品和/或单一药品进行药品安全性检测，获取得到通过药品安全性检测的目标推荐用药清单，其中，联合药品为至少包含两种单一药品的组合；将目标推荐用药清单发送至目标来访患者。对于本实施例，在根据多个预设安全用药检测规则对目标用药推荐结果中推荐分值大于预设阈值的联合药品和/或单一药品进行药品安全性检测，获取得到通过药品安全性检测的目标推荐用药清单时，实施例步骤具体可以包括：根据预设药物相互作用检测规则对推荐分值大于第三预设阈值的联合药品进行药物相互作用检测，得到第一检测结果；根据预设禁忌检测规则对推荐分值大于第三预设阈值的联合药品和单一药品进行禁忌检测，得到第二检测结果；根据预设药品过敏检测规则对推荐分值大于第三预设阈值的联合药品和单一药品进行药品过敏检测，得到第三检测结果；根据第一检测结果、第二检测结果和第三检测结果确定适用于目标来访患者的目标推荐用药清单。在具体的应用场景中，在将目标推荐用药发送至目标来访患者后，为帮助目标来访患者能够科学选药以及服药，作为一种可选方式，还可包括：接收目标来访患者对目标推荐用药的选取指令；响应于选取指令，在药品知识图谱中获取目标来访患者所选定目标推荐用药的药品信息，并将药品信息发送至目标来访患者，其中，药品信息可包括药品售价信息、药品成分信息、服药禁忌信息、服药用量信息等。相应的，作为另一种可选方式，在获得目标推荐用药清单之后，还可包括：获取目标推荐用药清单中每种药品的多个出售点的名称及每个出售点的位置坐标，获取目标患者出发点的位置坐标，计算目标患者出发点的位置坐标与每种药品的每个出售点之间的距离，显示目标推荐用药清单中的每种药品的多个出售点的名称及目标来访患者与药品的每个出售点之间的距离。借由上述技术方案，本申请提供的一种基于人工智能的全科用药推荐方法、装置、设备及介质，与目前全科用药推荐的方式相比，本申请可首先确定由样本病理数据构建的样本集，其包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集；利用第一样本集中的第一样本预训练第一用药推荐模型，在判定第一用药推荐模型预训练完成后，输入第二样本集中的第二样本，获取第一用药推荐结果；依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和第一样本集迭代训练第一用药推荐模型，直至训练进程符合预设迭代终止条件，判定第一用药推荐模型迭代训练完成，得到目标用药推荐模型；获取目标来访患者上传的患者病理数据，将患者病理数据输入目标用药推荐模型，得到目标用药推荐结果；根据目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至目标来访患者。通过本申请中的技术方案，可应用于人工智能技术，在海量噪声医疗数据的基础上，通过对噪声数据的迭代式清洗，不断丰富样本量，进而利用更新的样本集对用药推荐模型进行反复迭代训练，可构建得到精准度较高的全科用药推荐模型。此外，本申请不需要对大量样本全部进行手动去噪处理，可有效节省用药推荐模型的训练成本，并提高训练效率。进一步的，作为图1所示方法的具体实现，本申请实施例提供了一种基于人工智能的全科用药推荐装置，如图3所示，该装置包括：确定模块31、第一训练模块32、第二训练模块33、输入模块34、第一发送模块35；确定模块31，可用于确定由样本病理数据构建的样本集，包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集；第一训练模块32，可用于利用第一样本集中的第一样本预训练第一用药推荐模型，并将第二样本集中的第二样本输入预训练完成的第一用药推荐模型中，获取第一用药推荐结果；第二训练模块33，可用于依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和第一样本集迭代训练第一用药推荐模型，得到目标用药推荐模型；输入模块34，可用于获取目标来访患者上传的患者病理数据，并将患者病理数据输入目标用药推荐模型，得到目标用药推荐结果；第一发送模块35，可用于根据目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至目标来访患者。在具体的应用场景中，为了依据第一用药推荐结果的预测概率以及预测不确定性，从第二样本集中筛选第一预设数量个第二样本进行噪声检测，第二训练模块33，具体可用于依据第一用药推荐结果，在第二样本集中提取第一预设数量个对应预测概率小于第一预设阈值且预测不准确性大于第二预设阈值的第二样本；提取第二样本对应的病理信息以及第一用药标签，并依据预设伤情用药信息表判断病理信息是否与第一用药标签匹配；若病理信息与第一用药标签不匹配，则按照预设伤情用药信息表将第一用药标签更新为与病理信息匹配度最高的第二用药标签。相应的，在利用噪声检测后不存在噪声数据的第二样本和第一样本集迭代训练第一用药推荐模型，得到目标用药推荐模型时，第二训练模块33，具体可用于获取噪声检测后不存在噪声数据的第二样本，将第二样本更新至第一样本集，并利用更新后的第一样本集训练第一用药推荐模型；重复执行上述筛选第一预设数量个第二样本进行噪声检测，将经过噪声检测后不存在噪声数据的第二样本更新至第一样本集，并利用更新后的第一样本集训练第一用药推荐模型的过程，直至确定训练进程符合预设迭代终止条件，判定第一用药推荐模型迭代训练完成，得到目标用药推荐模型。在具体的应用场景中，为了在将患者病理数据输入目标用药推荐模型之前，对患者病理数据进行药物辅助治疗条件的判断，如图4所示，该装置还包括：判定模块36；判定模块36，可用于根据患者病理数据确定目标来访患者对应的病情等级，并判定病情等级是否触发药物辅助治疗条件；输入模块34，可用于若判定病情等级触发药物辅助治疗条件，则将患者病理数据输入目标用药推荐模型，得到目标用药推荐结果。在具体的应用场景中，在根据目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至目标来访患者时，第一发送模块35，具体可用于根据多个预设安全用药检测规则对目标用药推荐结果中推荐分值大于预设阈值的联合药品和/或单一药品进行药品安全性检测，获取得到通过药品安全性检测的目标推荐用药清单，其中，联合药品为至少包含两种单一药品的组合；将目标推荐用药清单发送至目标来访患者。相应的，为了获取得到通过药品安全性检测的目标推荐用药清单，第一发送模块35，具体可用于根据预设药物相互作用检测规则对推荐分值大于第三预设阈值的联合药品进行药物相互作用检测，得到第一检测结果；根据预设禁忌检测规则对推荐分值大于第三预设阈值的联合药品和单一药品进行禁忌检测，得到第二检测结果；根据预设药品过敏检测规则对推荐分值大于第三预设阈值的联合药品和单一药品进行药品过敏检测，得到第三检测结果；根据第一检测结果、第二检测结果和第三检测结果确定适用于目标来访患者的目标推荐用药清单。在具体的应用场景中，为了在生成目标推荐用药后，能够基于目标来访患者对目标推荐用药的选取指令输出所选定药品的药品信息，进而保证患者用药安全，如图4所示，该装置还包括：接收模块37、第二发送模块38；接收模块37，可用于接收目标来访患者对目标推荐用药的选取指令；第二发送模块38，可用于响应于选取指令，在药品知识图谱中获取目标来访患者所选定目标推荐用药的药品信息，并将药品信息发送至目标来访患者。需要说明的是，本实施例提供的一种基于人工智能的全科用药推荐装置所涉及各功能单元的其他相应描述，可以参考图1至图2的对应描述，在此不再赘述。基于上述如图1至图2所示方法，相应的，本实施例还提供了一种存储介质，存储介质具体可为易失性或非易失性，其上存储有计算机可读指令，该可读指令被处理器执行时实现上述如图1至图2所示的基于人工智能的全科用药推荐方法。基于这样的理解，本申请的技术方案可以以软件产品的形式体现出来，该软件产品可以存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施场景的方法。基于上述如图1至图2所示的方法和图3、图4所示的虚拟装置实施例，为了实现上述目的，本实施例还提供了一种计算机设备，该计算机设备包括存储介质和处理器；存储介质，用于存储计算机程序；处理器，用于执行计算机程序以实现上述如图1至图2所示的基于人工智能的全科用药推荐方法。可选的，该计算机设备还可以包括用户接口、网络接口、摄像头、射频电路，传感器、音频电路、WI-FI模块等等。用户接口可以包括显示屏、输入单元比如键盘等，可选用户接口还可以包括USB接口、读卡器接口等。网络接口可选的可以包括标准的有线接口、无线接口等。本领域技术人员可以理解，本实施例提供的一种计算机设备结构并不构成对该实体设备的限定，可以包括更多或更少的部件，或者组合某些部件，或者不同的部件布置。存储介质中还可以包括操作系统、网络通信模块。操作系统是管理上述计算机设备硬件和软件资源的程序，支持信息处理程序以及其它软件和/或程序的运行。网络通信模块用于实现存储介质内部各组件之间的通信，以及与信息处理实体设备中其它硬件和软件之间通信。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到本申请可以借助软件加必要的通用硬件平台的方式来实现，也可以通过硬件实现。通过应用本申请的技术方案，与目前现有技术相比，本申请可首先确定由样本病理数据构建的样本集，其包括经过噪声检测后不存在噪声数据的第一样本集以及未经过噪声检测的的第二样本集；利用第一样本集中的第一样本预训练第一用药推荐模型，在判定第一用药推荐模型预训练完成后，输入第二样本集中的第二样本，获取第一用药推荐结果；依据第一用药推荐结果的预测概率以及预测不确定性，在第二样本集中筛选第一预设数量个第二样本进行噪声检测，并利用噪声检测后不存在噪声数据的第二样本和第一样本集迭代训练第一用药推荐模型，直至训练进程符合预设迭代终止条件，判定第一用药推荐模型迭代训练完成，得到目标用药推荐模型；获取目标来访患者上传的患者病理数据，将患者病理数据输入目标用药推荐模型，得到目标用药推荐结果；根据目标用药推荐结果筛选出第二预设数量个符合预设安全用药检测规则的目标推荐用药，将目标推荐用药发送至目标来访患者。通过本申请中的技术方案，可应用于人工智能技术，在海量噪声医疗数据的基础上，通过对噪声数据的迭代式清洗，不断丰富样本量，进而利用更新的样本集对用药推荐模型进行反复迭代训练，可构建得到精准度较高的全科用药推荐模型。此外，本申请不需要对大量样本全部进行手动去噪处理，可有效节省用药推荐模型的训练成本，并提高训练效率。本领域技术人员可以理解附图只是一个优选实施场景的示意图，附图中的模块或流程并不一定是实施本申请所必须的。本领域技术人员可以理解实施场景中的装置中的模块可以按照实施场景描述进行分布于实施场景的装置中，也可以进行相应变化位于不同于本实施场景的一个或多个装置中。上述实施场景的模块可以合并为一个模块，也可以进一步拆分成多个子模块。上述本申请序号仅仅为了描述，不代表实施场景的优劣。以上公开的仅为本申请的几个具体实施场景，但是，本申请并非局限于此，任何本领域的技术人员能思之的变化都应落入本申请的保护范围。
