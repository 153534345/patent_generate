标题title
基于车路协同的信号配时与车速动态协调控制优化方法
摘要abst
本发明提出一种基于车路协同的信号配时与车速动态协调控制优化方法，首先基于协调干道原有绿波协调方案，并根据车流量信息参数及初始检测路段上目标车队的驶入流量，计算绿灯时间增量，有利于提高协调交叉口的通行能力，降低目标车队驶入流量增加时路口的排队长度；根据目标车队的实际行驶速度，结合协调干道原有绿波协调方案的优化设计车速，计算协调交叉口的绿灯调整时间，有利于获得最大绿波带宽，最大程度地减少直行车辆的停车次数，根据绿灯调整时间，计算目标车队即将驶入的下一路段的优化设计车速，在信号配时的动态优化下，调整车辆驾驶行为，保证道路的通行效率。
权利要求书clms
1.一种基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，所述方法至少包括：S1.确定协调干道，所述协调干道设有若干个检测路段及若干个协调交叉口，一个检测路段对应一个协调交叉口，检测路段Li的末端与对应的协调交叉口Ii相连；S2.获取协调干道原有绿波协调方案，设置协调干道的车流量信息参数，设定初始检测路段L1，监测初始检测路段L1上目标车队的驶入流量Q；S3.基于协调干道原有绿波协调方案，并根据车流量信息参数及初始检测路段L1上目标车队的驶入流量Q，计算各个协调交叉口的绿灯时间增量ΔG；S4.根据协调干道原有绿波协调方案设置目标车队在检测路段Li-1→检测路段Li之间的优化设计车速vI，并初始化i＝2；S5.监测检测路段Li上目标车队的实际行驶速度vR，考虑目标车队的实际行驶速度vR与优化设计车速vI之间的差异，计算协调交叉口Ii的绿灯调整时间Δgi以及绿灯时间总增量ΔGg；S6.计算目标车队进入检测路段Li+1的优化设计车速v’I；S7.判断协调交叉口Ii是否为协调干道的最后一个协调交叉口，若是，信号配时与车速动态协调控制优化结束；否则，令i的值增加1，返回步骤S5。2.根据权利要求1所述的基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，步骤S1所述的协调干道双向实际间距相等，车辆在协调干道上双向行驶的车速相等。3.根据权利要求2所述的基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，步骤S2所述的协调干道原有绿波协调方案基于协调干道的双向实际间距、车队行驶车速、协调干道的各协调交叉口Ii以及南北进口的绿信比分配要求得出，所述协调干道原有绿波协调方案中包括公共信号周期c、相位相序、相位差、优化设计车速。4.根据权利要求3所述的基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，步骤S2所述的协调干道的车流量信息参数包括：协调干道各交叉口左转、直行与右转车辆比例参数；协调干道原有绿波协调方案的公共信号周期c；目标车队的驶入流量阈值Qmax；清空上游左转、右转驶入车辆所需的时间tc；平均每辆车通过协调交叉口的时间td。5.根据权利要求1所述的基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，初始检测路段L1上目标车队的驶入流量Q通过车流量监测模块监测。6.根据权利要求4所述的基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，步骤S3所述各个协调交叉口的绿灯时间增量ΔG的计算表达式为：其中，ΔQ表示目标车队的驶入流量Q与目标车队的驶入流量阈值Qmax之差；G表示绿灯时间，k1与k2均表示系数；c为协调干道原有绿波协调方案的公共信号周期，表示动态优化方向相位在协调干道原有绿波协调方案下的绿灯时长；其中，kl与kr分别表示该进口方向上车辆左转、右转比例，tc表示清空上游左转、右转驶入车辆所需的时间，td表示平均每辆车通过交叉口的时间。7.根据权利要求4所述的基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，各个协调交叉口的绿灯时间增量ΔG的增幅大小相等。8.根据权利要求4所述的基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，协调交叉口Ii的绿灯调整时间Δgi的表达式：其中，表示协调交叉口Ii-1与协调交叉口Ii的实际间距，vR表示目标车队在检测路段Li-1→检测路段Li之间的实际行驶速度，vI表示在原有绿波协调控制方案下的目标车队在检测路段Li-1→检测路段Li之间的优化设计车速。9.根据权利要求8所述的基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，各个协调交叉口的绿灯时间总增量ΔGg的表达式为：ΔGg＝ΔG+Δgi其中，Δgi表示协调交叉口Ii的绿灯调整时间；ΔG表示各个协调交叉口的绿灯时间增量。10.根据权利要求8所述的基于车路协同的信号配时与车速动态协调控制优化方法，其特征在于，步骤S6所述的计算目标车队进入检测路段Li+1的优化设计车速v’I的表达式为：其中，表示协调交叉口Ii与协调交叉口Ii+1的实际间距，vI表示在原有绿波协调控制方案下的目标车队在检测路段Li→检测路段Li+1的优化设计车速，Δgi表示协调交叉口Ii的绿灯调整时间。
说明书desc
技术领域本发明涉及智能交通控制的技术领域，更具体地，涉及一种基于车路协同的信号配时与车速动态协调控制优化方法。背景技术车路协同是指采用先进的无线通信和新一代互联网等技术，全方位实施车车、车路动态实时信息交互，并在全时空动态交通信息交融的基础上，实现车路实时信息动态交互的优势实施车辆与道路之间的协同控制，以达到提升交通安全与通行效率的目的；绿波是指在指定的交通线路上，当规定好路段的车速后，要求信号控制机根据路段距离，把该车流所经过的各路口绿灯起始时间，做相应的调整，以确保该车流到达每个路口时，正好遇到"绿灯"。近年来，基于车路协同的自动驾驶技术日趋成熟，自动驾驶落地工作正在有序推进。自动驾驶车辆在交通中占比达到一定程度时，必然会使得道路交通特征发生较大变化，在此情况下，如何更高效的实现交通协调控制是当前交通管理亟需解决的问题。传统的信号协调控制方法通常是针对特定条件的配时设计，难以通过及时、准确获取上游车流的情况动态优化配时方案，且与路段车流之间难以进行实时的信息反馈，因此难以保证绿波协调控制设计的整体效果，降低路段车流的驾驶体验，限制道路的通行效率。2019年9月27日，中国发明专利中公开了一种基于车路通信的连续交叉口协同优化方法，该专利对高饱和状态下的车速控制进行了深入研究，适用于干线协调控制路段上任意相邻上下游交叉口，以交叉口群作为车路协同控制研究对象，建立了基于优化模型的交叉口信号相位优化流程，该专利主要面向信号灯相位调整，在保证干线上主方向车辆延误尽量减少的同时，提高交叉口信号协调效益，有效缓解干线上由于相位不协调导致的互相冲突的问题。发明内容为解决传统交通信号协调控制方案难以适应车路协同场景下的信号配时与车速动态优化匹配的问题，本发明提出一种基于车路协同的信号配时与车速动态协调控制优化方法，在信号配时的动态优化下，调整车辆驾驶行为，保证绿波协调方案对流量波动的动态匹配。为了达到上述技术效果，本发明的技术方案如下：本发明提出一种基于车路协同的信号配时与车速动态协调控制优化方法，所述方法至少包括：S1.确定协调干道，所述协调干道设有若干个检测路段及若干个协调交叉口，一个检测路段对应一个协调交叉口，检测路段Li的末端与对应的协调交叉口Ii相连；S2.获取协调干道原有绿波协调方案，设置协调干道的车流量信息参数，设定初始检测路段L1，监测初始检测路段L1上目标车队的驶入流量Q；S3.基于协调干道原有绿波协调方案，并根据车流量信息参数及初始检测路段L1上目标车队的驶入流量Q，计算各个协调交叉口的绿灯时间增量ΔG；S4.根据协调干道原有绿波协调方案设置目标车队在检测路段Li-1→检测路段Li之间的优化设计车速vI，并初始化i＝2；S5.监测检测路段Li上目标车队的实际行驶速度vR，考虑目标车队的实际行驶速度vR与优化设计车速vI之间的差异，计算协调交叉口Ii的绿灯调整时间Δgi以及绿灯时间总增量ΔGg；S6.计算目标车队进入检测路段Li+1的优化设计车速v’I；S7.判断协调交叉口Ii是否为协调干道的最后一个协调交叉口，若是，信号配时与车速动态协调控制优化结束；否则，令i的值增加1，返回步骤S5。在本技术方案中，基于协调干道原有绿波协调方案，并根据车流量信息参数及初始检测路段上目标车队的驶入流量，计算得到绿灯时间增量，有利于提高协调交叉口的通行能力，能够有效降低目标车队驶入流量增加时路口的排队长度，此外，根据目标车队的实际行驶速度，结合协调干道原有绿波协调方案的优化设计车速，计算协调交叉口的绿灯调整时间，有利于获得最大绿波带宽，能够最大程度地减少直行车辆的停车次数，根据绿灯调整时间，计算目标车队即将驶入的下一路段的优化设计车速，在信号配时的动态优化下，调整车辆驾驶行为以使得车辆贯穿各路口相位绿灯中心时刻点，保证道路的通行效率。优选地，步骤S1所述的协调干道双向实际间距相等，车辆在协调干道上双向行驶的车速相等。优选地，步骤S2所述的协调干道原有绿波协调方案基于协调干道的双向实际间距、车队行驶车速、协调干道的各协调交叉口Ii以及南北进口的绿信比分配要求得出，所述协调干道原有绿波协调方案中包括公共信号周期c、相位相序、相位差、优化设计车速。优选地，步骤S2所述的协调干道的车流量信息参数包括：协调干道各交叉口左转、直行与右转车辆比例参数；协调干道原有绿波协调方案的公共信号周期c；目标车队的驶入流量阈值Qmax；清空上游左转、右转驶入车辆所需的时间tc；平均每辆车通过协调交叉口的时间td。优选地，初始检测路段上目标车队的驶入流量Q通过车流量监测模块监测。优选地，步骤S3所述各个协调交叉口的绿灯时间增量ΔG的计算表达式为：其中，ΔQ表示目标车队的驶入流量Q与目标车队的驶入流量阈值Qmax之差；G表示绿灯时间，k1与k2均表示系数；c为协调干道原有绿波协调方案的公共信号周期，表示动态优化方向相位在协调干道原有绿波协调方案下的绿灯时长；其中，kl与kr分别表示该进口方向上车辆左转、右转比例，tc表示清空上游左转、右转驶入车辆所需的时间，td表示平均每辆车通过交叉口的时间。在此，在各个协调交叉口采用绿灯时间增量的方式增加相位绿灯时间，提高驶入流量路口的通行能力，降低目标车队驶入流量增加时路口的排队长度。优选地，各个协调交叉口的绿灯时间增量ΔG的增幅大小相等，保持协调干道原有绿波协调方案协调效果的稳定性。优选地，协调交叉口Ii的绿灯调整时间Δgi的表达式：其中，表示协调交叉口Ii-1与协调交叉口Ii的实际间距，vR表示目标车队在检测路段Li-1→检测路段Li之间的实际行驶速度，vI表示在原有绿波协调控制方案下的目标车队在检测路段Li-1→检测路段Li之间的优化设计车速。计算协调交叉口的绿灯调整时间，有利于获得最大绿波带宽，最大程度地减少直行车辆的停车次数。优选地，各个协调交叉口的绿灯时间总增量ΔGg的表达式为：ΔGg＝ΔG+Δgi其中，Δgi表示协调交叉口Ii的绿灯调整时间；ΔG表示各个协调交叉口的绿灯时间增量。优选地，步骤S6所述的计算目标车队进入检测路段Li+1的优化设计车速v’I的表达式为：其中，表示协调交叉口Ii与协调交叉口Ii+1的实际间距，vI表示在原有绿波协调控制方案下的目标车队在检测路段Li→检测路段Li+1的优化设计车速，Δgi表示协调交叉口Ii的绿灯调整时间。在此，协调交叉口Ii调整绿灯时间后，原有的绿波车速将不再适配调整后的相位方案，因此目标车队进入检测路段Li+1的优化设计车速需进行重新计算。与现有技术相比，本发明技术方案的有益效果是：本发明提出一种基于车路协同的信号配时与车速动态协调控制优化方法，首先基于协调干道原有绿波协调方案，并根据车流量信息参数及初始检测路段上目标车队的驶入流量，计算得到绿灯时间增量，有利于提高协调交叉口的通行能力，能够有效降低目标车队驶入流量增加时路口的排队长度，此外，根据目标车队的实际行驶速度，结合协调干道原有绿波协调方案的优化设计车速，计算协调交叉口的绿灯调整时间，有利于获得最大绿波带宽，能够最大程度地减少直行车辆的停车次数，根据绿灯调整时间，计算目标车队即将驶入的下一路段的优化设计车速，在信号配时的动态优化下，调整车辆驾驶行为以使得车辆贯穿各路口相位绿灯中心时刻点，保证道路的通行效率。附图说明图1表示本发明实施例中提出的基于车路协同的信号配时与车速动态协调控制优化方法的流程图；图2表示本发明实施例中提出的协调干道原有绿波协调方案设计下的滤波协调效果时距图；图3表示在驶入流量波动下的分别协调干道原有绿波协调方案与本发明所提方法的效果对比图。具体实施方式附图仅用于示例性说明，不能理解为对本专利的限制；为了更好地说明本实施例，附图某些部位会有省略、放大或缩小，并不代表实际尺寸；对于本领域技术人员来说，附图中某些公知内容说明可能省略是可以理解的。附图中描述位置关系的仅用于示例性说明，不能理解为对本专利的限制；下面结合附图和实施例对本发明的技术方案做进一步的说明。实施例1如图1所示的基于车路协同的信号配时与车速动态协调控制优化方法的流程图，所述方法中，“信号配时”包括了交通灯信号周期、绿灯时间、相位放行方式、相位差等信号配时参数，参见图1，所述方法包括：S1.确定协调干道，所述协调干道设有若干个检测路段及若干个协调交叉口，一个检测路段对应一个协调交叉口，检测路段Li的末端与对应的协调交叉口Ii相连；在此，i仅表示检测路段或协调交叉口的次序，代表对应关系，已知某东西向协调干道存在4个信号协调交叉口，设由西往东依次为I1、I2、I3和I4，其中I1选取为基准协调交叉口，此外，协调干道双向实际间距相等，由西往东方向检测路段L1～检测路段L4的间距依次为和协调干道双向行驶车速相等，路段车速的优化范围为km/h，各个协调交叉口绿信比分配如表1所示。表1各协调交叉口各进口的绿信比分配要求S2.获取协调干道原有绿波协调方案，设置协调干道的车流量信息参数，设定初始检测路段，监测初始检测路段上目标车队的驶入流量Q；协调干道原有绿波协调方案基于协调干道的双向实际间距、车队行驶车速、协调干道的各协调交叉口Ii以及表1所示的南北进口的绿信比分配要求得出，协调干道原有绿波协调方案中包括公共信号周期c、相位相序、相位差、优化设计车速，具体方案设计如表2所示，协调干道原有绿波协调方案设计下的滤波协调效果时距图如图2所示。表2协调干道原有绿波协调方案所述的协调干道的车流量信息参数包括：协调干道各交叉口左转、直行与右转车辆比例参数；协调干道原有绿波协调方案的公共信号周期c；目标车队的驶入流量阈值Qmax；清空上游左转、右转驶入车辆所需的时间tc；平均每辆车通过协调交叉口的时间td；在本实施例中，初始检测路段即为基准协调交叉口I1对应的检测路段L1，初始检测路段L1上目标车队的驶入流量Q通过车流量监测模块监测，协调干道的目标车队驶入流量随时间变化情况如表3所示。表3协调干道的目标车队驶入流量随时间变化情况S3.为提高驶入流量路口的通行能力，在各个协调交叉口采用绿灯时间增量的方式增加相位绿灯时间，基于协调干道原有绿波协调方案，并根据车流量信息参数及初始检测路段上目标车队的驶入流量Q，计算各个协调交叉口的绿灯时间增量ΔG；在本实施例中，为保持协调干道原有绿波协调方案协调效果的稳定性，各个协调交叉口的绿灯时间增量ΔG的增幅大小相等，设协调干道各交叉口左转、直行与右转车辆比例为2:7:1，即kl＝0.2、kr＝0.1，清空上游左转和右转驶入车辆的时间为tc＝5s，平均每辆车通过交叉口的时间为td＝1.5s，目标车队的驶入流量阈值Qmax＝1400pcu/h，计算各路口的绿灯时间增量ΔG，各个协调交叉口的绿灯时间增量ΔG的计算表达式为：其中，ΔQ表示目标车队的驶入流量Q与目标车队的驶入流量阈值Qmax之差；G表示绿灯时间，k1与k2均表示系数；c为协调干道原有绿波协调方案的公共信号周期，表示动态优化方向相位在协调干道原有绿波协调方案下的绿灯时长；其中，kl与kr分别表示该进口方向上车辆左转、右转比例，tc表示清空上游左转、右转驶入车辆所需的时间，td表示平均每辆车通过交叉口的时间。S4.根据协调干道原有绿波协调方案设置目标车队在检测路段Li-1→检测路段Li之间的优化设计车速vI，并初始化i＝2，在本实施例中，优化设计车速vI＝53km/h。S5.监测检测路段Li上目标车队的实际行驶速度vR，考虑目标车队的实际行驶速度vR与优化设计车速vI之间的差异，计算协调交叉口Ii的绿灯调整时间Δgi以及绿灯时间总增量ΔGg；在本实施例中，实际监测检测路段Li上目标车队的实际行驶速度vR之后，结合优化设计车速vI与协调交叉口Ii非协调方向上的可优化绿灯时间，执行计算协调交叉口Ii的绿灯调整时间Δgi以及绿灯时间总增量ΔGg的操作。协调交叉口Ii的绿灯调整时间Δgi的表达式：其中，表示协调交叉口Ii-1与协调交叉口Ii的实际间距，vR表示目标车队在检测路段Li-1→检测路段Li之间的实际行驶速度，vI表示在原有绿波协调控制方案下的目标车队在检测路段Li-1→检测路段Li之间的优化设计车速。各个协调交叉口的绿灯时间总增量ΔGg的表达式为：ΔGg＝ΔG+Δgi其中，Δgi表示协调交叉口Ii的绿灯调整时间；ΔG表示各个协调交叉口的绿灯时间增量。S6.协调交叉口Ii调整绿灯时间后，原有的绿波车速将不再适配调整后的相位方案，因此目标车队进入检测路段Li+1的优化设计车速需进行重新计算；计算目标车队进入检测路段Li+1的优化设计车速v’I的表达式为：其中，表示协调交叉口Ii与协调交叉口Ii+1的实际间距，vI表示在原有绿波协调控制方案下的目标车队在检测路段Li→检测路段Li+1的优化设计车速，Δgi表示协调交叉口Ii的绿灯调整时间。S7.判断协调交叉口Ii是否为协调干道的最后一个协调交叉口，若是，信号配时与车速动态协调控制优化结束；否则，令i的值增加1，返回步骤S5。综上，整个过程基于协调干道原有绿波协调方案，并根据车流量信息参数及初始检测路段上目标车队的驶入流量，计算得到绿灯时间增量，有利于提高协调交叉口的通行能力，能够有效降低目标车队驶入流量增加时路口的排队长度，此外，根据目标车队的实际行驶速度，结合协调干道原有绿波协调方案的优化设计车速，计算协调交叉口的绿灯调整时间，有利于获得最大绿波带宽，能够最大程度地减少直行车辆的停车次数，根据绿灯调整时间，计算目标车队即将驶入的下一路段的优化设计车速，在信号配时的动态优化下，调整车辆驾驶行为以使得车辆贯穿各路口相位绿灯中心时刻点，保证道路的通行效率。通过步骤S3～步骤S7可确定：协调干道在原有绿波协调方案设计下，目标车队的实际行驶车速、平均停车次数以及车流驶入交叉口的平均排队长度，如表4所示。表4原有绿波协调方案设计下的道路运行状态根据不同时段下的实际流量以及目标车队的运行状态，通过信号与车速动态协调控制优化方法，计算得到的绿灯时间增量、各路口的绿灯调整时间以及目标车队在各路段的优化设计车速如表5所示。表5随时间变化的信号与车速动态优化方案在信号与车速动态优化方案下，目标车队的实际行驶车速、在协调干道上平均停车次数以及车流驶入交叉口的平均排队长度如表6所示。表6信号与车速动态优化方案下的道路运行状态进一步，在驶入流量波动下的分别协调干道原有绿波协调方案与本发明所提方法的效果对比图如图3所示，图3中，虚线曲线表示本发明所提的方法，即动态配时方案下的排队长度，实线曲线表示协调干道原有绿波协调方案，即固定配时方案下的排队长度，结合表4、表6及图3的内容可知，在目标车队的流量较小时，将保持原有固定配时的绿波协调方式，因此两种方案在第1000s～3000s内的数据差别不大，两者差别均由仿真随机性而导致；当目标车队的车流量逐增，固定配时方案逐渐呈现出难以匹配实时交通情况的状态，干道平均停车次数与协调交叉口I1西进口的排队长度快速增加，停车次数最大增至0.86次，总运行时长内的平均停车次数为0.36次，排队长度最大增至202米，总运行时长内的平均排队长度为62m；本发明所提的动态配时方案能够有效清空排队车辆，平均停车次数有效维持在0.34次以内，总运行时长内的平均停车次数为0.21次，较固定配时方案降低42％，平均排队长度能够维持在33米以内，总运行时长内的平均排队长度为22m，较固定配时方案减少65％。附图中描述位置关系的用于仅用于示例性说明，不能理解为对本专利的限制；显然，本发明的上述实施例仅是为清楚地说明本发明所作的举例，而并非是对本发明的实施方式的限定。对于所属领域的普通技术人员来说，在上述说明的基础上还可以做出其它不同形式的变化或变动。这里无需也无法对所有的实施方式予以穷举。凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明权利要求的保护范围之内。
