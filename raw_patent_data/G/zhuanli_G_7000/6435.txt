标题title
一种电源故障诊断系统及方法
摘要abst
本发明公开了一种电源故障诊断系统及方法，包括：历史数据存储模块，包括包括历史采集数据库、专家知识诊断数据库和模型数据库，专家知识诊断数据库内包括历史故障诊断数据；样本训练模块，包括样本数据集和模型生成单元，历史采集数据库、专家知识诊断数据库和模型生成单元均与样本数据集连接，模型生成单元通过样本训练生成决策树诊断模型；诊断模型迁移模组，包括均与模型数据库连接的教师诊断模块、迁移训练单元和学生诊断模块，决策树诊断模型生成后存入教师诊断模块，教师诊断模块连接迁移训练单元，迁移训练单元通过计算类别目标函数的全局最优解自动确定类别数。本发明通过知识蒸馏，减小诊断复杂度，提高故障诊断效率和精准度。
权利要求书clms
1.一种电源故障诊断系统，其特征在于：包括：历史数据存储模块，包括包括历史采集数据库、专家知识诊断数据库和模型数据库，所述专家知识诊断数据库内包括历史故障诊断数据；样本训练模块，包括样本数据集和模型生成单元，所述历史采集数据库、专家知识诊断数据库和模型生成单元均与样本数据集连接，所述模型生成单元通过样本训练生成决策树诊断模型；诊断模型迁移模组，包括均与模型数据库连接的教师诊断模块、迁移训练单元和学生诊断模块，所述决策树诊断模型生成后存入教师诊断模块，所述教师诊断模块连接迁移训练单元，所述迁移训练单元连接学生诊断模块，所述迁移训练单元通过计算类别目标函数的全局最优解自动确定类别数，对教师诊断模块内的决策树诊断模型进行迁移和参数压缩，生成学生诊断模型并存入学生诊断模块；数据处理模块，所述数据处理模块连接学生诊断模型，所述数据处理模块用于将采集的数据进行处理，使其与样本数据集的格式相同；数据采集模块，所述数据处理模块还连接数据处理模块，所述数据采集模块用于采集整个电源系统的多类型数据。2.根据权利要求1所述的电源故障诊断系统，其特征在于：还包括显示模块，所述显示模块连接学生诊断模块，用于显示故障诊断结果。3.根据权利要求1所述的电源故障诊断系统，其特征在于：所述数据采集模块包括设于电源系统内的温度传感器、湿度传感器、音频传感器、电压采样单元和电流采样单元，所述温度传感器和湿度传感器分别用于实时采集电源系统的温度和湿度，所述音频传感器用于采集电源系统内或输出端的噪声数据，所述电压采样单元和电流采样单元分别用于采集电源系统中的输出电压数据和输出电流数据或检测端的电压数据和电流数据。4.根据权利要求2或3所述的电源故障诊断系统，其特征在于：所述数据处理模块包括频谱分析单元和测试数据集，所述频谱分析单元对数据采集模块的数据进行初步分析，并根据学生诊断模块的参数结构形成测试数据集。5.一种使用如权利要求1所述的电源故障诊断系统的诊断方法，其特征在于：包括如下步骤：S1.样本训练模块向专家知识诊断数据库中采集样本数据，采集专家诊断定性的多种电源故障类型；在历史采集数据库中根据多种电源故障类型采集电源故障对应的温湿度数据、噪声数据、采样电压值、采样电流值和其它电源故障表现数据，将电源故障表现数据与电源故障类型集合，生成向量型样本数据集；S2.采用决策树算法，计算信息熵Entropy或基尼指数Gini对样本数据集进行样本训练，生成决策树，进行剪枝后存入教师诊断模块中，信息熵Entropy和基尼指数Gini的计算公式如下：其中，c为电源故障类型数目，t为决策树的节点数，P为c的相对概率；S3.迁移训练单元中，根据可逆跳马尔科夫蒙特卡洛算法，在电源故障表现数据集中寻找类别数量最优解；S4.根据步骤S3中的类别数量最优解，对步骤S2中的决策树进行裁剪、压缩，得到学生诊断决策树，并存入学生诊断模块中；S5.数据采集模块进行数据采集；S6.数据处理模块根据步骤S3中的类别数量最优解，将步骤S5中采集的数据生成测试数据集，并通过学生诊断决策树进行诊断，并通过显示模块进行故障类型显示。6.根据权利要求5所述的电源故障诊断系统的诊断方法，其特征在于：步骤S1中，向量型样本数据集的数据量小于等于历史数据存储模块中的数据量的三分之二。7.根据权利要求5所述的电源故障诊断系统的诊断方法，其特征在于：步骤S2中，所述决策树包括根节点、分支、子节点和叶节点，所述叶节点用于表示电源故障诊断类型，所述样本数据集设于根节点，所述分支用于表示每个电源故障表现数据类型的属性范围，从根节点包含的样本数据集根据分支的属性范围的测试结果被划分到子节点中。8.根据权利要求5所述的电源故障诊断系统的诊断方法，其特征在于：步骤S3中，具体包括：设定迭代次数且构建混合转移核，所述混合转移核包括生成函数、删除函数、分裂函数、组合函数和转移函数，每次迭代中通过混合转移核遍历向量型样本数据集进行生成、删除、分裂、组合和转移，直至类别数量最优解稳定为固定值。
说明书desc
技术领域本发明涉及电源故障诊断技术领域，具体涉及一种电源故障诊断系统及方法。背景技术电源是将水力、风力、海潮、水坝水压差、太阳能等可再生能源及煤炭、油渣等产生电力的能量转换成电能的装置，广泛应用于工业自动化控制、军工设备、科研设备、工控设备、计算机和电脑、通讯设备、电力设备、仪器仪表、医疗设备、半导体制冷制热等领域。而电源工作中，电源的突发故障直接影响整个系统的正常工作。现有技术中，授权公告号CN109001649B的发明专利中公开了一种电源智能诊断系统及保护方法，通过基于温湿度数据和频谱信息的故障判断模块解决电源电路的故障诊断，但基于基本电源故障模型进行比对，效率和精准度较低。发明内容为解决上述问题，本发明提出了一种电源故障诊断系统及方法，通过知识蒸馏，减小诊断复杂度，提高故障诊断效率和精准度。本发明采用的技术方案是：本申请提出一种电源故障诊断系统，包括：历史数据存储模块，包括包括历史采集数据库、专家知识诊断数据库和模型数据库，所述专家知识诊断数据库内包括历史故障诊断数据；样本训练模块，包括样本数据集和模型生成单元，所述历史采集数据库、专家知识诊断数据库和模型生成单元均与样本数据集连接，所述模型生成单元通过样本训练生成决策树诊断模型；诊断模型迁移模组，包括均与模型数据库连接的教师诊断模块、迁移训练单元和学生诊断模块，所述决策树诊断模型生成后存入教师诊断模块，所述教师诊断模块连接迁移训练单元，所述迁移训练单元连接学生诊断模块，所述迁移训练单元通过计算类别目标函数的全局最优解自动确定类别数，对教师诊断模块内的决策树诊断模型进行迁移和参数压缩，生成学生诊断模型并存入学生诊断模块；数据处理模块，所述数据处理模块连接学生诊断模型，所述数据处理模块用于将采集的数据进行处理，使其与样本数据集的格式相同；数据采集模块，所述数据处理模块还连接数据处理模块，所述数据采集模块用于采集整个电源系统的多类型数据。优先地，还包括显示模块，所述显示模块连接学生诊断模块，用于显示故障诊断结果。优先地，所述数据采集模块包括设于电源系统内的温度传感器、湿度传感器、音频传感器、电压采样单元和电流采样单元，所述温度传感器和湿度传感器分别用于实时采集电源系统的温度和湿度，所述音频传感器用于采集电源系统内或输出端的噪声数据，所述电压采样单元和电流采样单元分别用于采集电源系统中的输出电压数据和输出电流数据或检测端的电压数据和电流数据。优先地，所述数据处理模块包括频谱分析单元和测试数据集，所述频谱分析单元对数据采集模块的数据进行初步分析，并根据学生诊断模块的参数结构形成测试数据集。基于上述的电源故障诊断系统，本申请还提出一种使用上述电源故障诊断系统的诊断方法，包括如下步骤：S1.样本训练模块向专家知识诊断数据库中采集样本数据，采集专家诊断定性的多种电源故障类型；在历史采集数据库中根据多种电源故障类型采集电源故障对应的温湿度数据、噪声数据、采样电压值、采样电流值和其它电源故障表现数据，将电源故障表现数据与电源故障类型集合，生成向量型样本数据集；S2.采用决策树算法，计算信息熵Entropy或基尼指数Gini对样本数据集进行样本训练，生成决策树，剪枝后存入教师诊断模块中，信息熵Entropy和基尼指数Gini的计算公式如下：其中，c为电源故障类型数目，t为决策树的节点数，P为c的相对概率；S3.迁移训练单元中，根据可逆跳马尔科夫蒙特卡洛算法，在电源故障表现数据集中寻找类别数量最优解；S4.根据步骤S3中的类别数量最优解，对步骤S2中的决策树进行裁剪、压缩，得到学生诊断决策树，并存入学生诊断模块中；S5.数据采集模块进行数据采集；S6.数据处理模块根据步骤S3中的类别数量最优解，将步骤S5中采集的数据生成测试数据集，并通过学生诊断决策树进行诊断，并通过显示模块进行故障类型显示。优先地，步骤S1中，向量型样本数据集的数据量小于等于历史数据存储模块中的数据量的三分之二。优先地，步骤S2中，所述决策树包括根节点、分支、子节点和叶节点，所述叶节点用于表示电源故障诊断类型，所述样本数据集设于根节点，所述分支用于表示每个电源故障表现数据类型的属性范围，从根节点包含的样本数据集根据分支的属性范围的测试结果被划分到子节点中。优先地，步骤S3中，具体包括：设定迭代次数且构建混合转移核，所述混合转移核包括生成函数、删除函数、分裂函数、组合函数和转移函数，每次迭代中通过混合转移核遍历向量型样本数据集进行生成、删除、分裂、组合和转移，直至类别数量最优解稳定为固定值。本发明的有益效果是：1.通过知识蒸馏，将性能较好、泛化能力较好的教师诊断模型迁移至学生诊断模型中，减少参数量、模型复杂度，使学生诊断模型经压缩后具备教师诊断模型的相近的性能，提高诊断效率；2.构建决策树来对多维的电源故障表现数据进行分类，提高诊断效率和准确度；3.迁移训练单元中，通过获取类别函数最优解来自动确定类别数量，提高迁移后学生诊断模型的诊断准确度。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1是本发明的结构连接示意图。具体实施方式实施例一如图1所示，本申请提出一种电源故障诊断系统，包括：如图1所示，历史数据存储模块，包括包括历史采集数据库、专家知识诊断数据库和模型数据库，专家知识诊断数据库内包括历史故障诊断数据。如图1所示，样本训练模块，包括样本数据集和模型生成单元，历史采集数据库、专家知识诊断数据库和模型生成单元均与样本数据集连接，模型生成单元通过样本训练生成决策树诊断模型。如图1所示，诊断模型迁移模组，包括均与模型数据库连接的教师诊断模块、迁移训练单元和学生诊断模块，决策树诊断模型生成后存入教师诊断模块，教师诊断模块连接迁移训练单元，迁移训练单元连接学生诊断模块，迁移训练单元通过计算类别目标函数的全局最优解自动确定类别数，对教师诊断模块内的决策树诊断模型进行迁移和参数压缩，生成学生诊断模型并存入学生诊断模块。如图1所示，数据处理模块，数据处理模块连接学生诊断模型，数据处理模块用于将采集的数据进行处理，使其与样本数据集的格式相同。如图1所示，数据采集模块，数据处理模块还连接数据处理模块，数据采集模块用于采集整个电源系统的多类型数据。如图1所示，还包括显示模块，显示模块连接学生诊断模块，用于直观显示故障诊断结果。如图1所示，基于上述的电源故障诊断系统，本申请还提出一种使用上述电源故障诊断系统的诊断方法，包括如下步骤：S1.样本训练模块向专家知识诊断数据库中采集样本数据，采集专家诊断定性的多种电源故障类型；在历史采集数据库中根据多种电源故障类型采集电源故障对应的温湿度数据、噪声数据、采样电压值、采样电流值和其它电源故障表现数据，将电源故障表现数据与电源故障类型集合，生成向量型样本数据集，其中，向量型样本数据集的数据量等于历史数据存储模块中的数据量的三分之一。S2.采用决策树算法，计算信息熵Entropy或基尼指数Gini对样本数据集进行样本训练，生成决策树，剪枝后存入教师诊断模块中。决策树包括根节点、分支、子节点和叶节点，叶节点用于表示电源故障诊断类型，样本数据集设于根节点，分支用于表示每个电源故障表现数据类型的属性范围，从根节点包含的样本数据集根据分支的属性范围的测试结果被划分到子节点中。由于样本数据集的数据量相对来说较少，因此决策树的分裂效率较快，生成时间较短。信息熵Entropy和基尼指数Gini的计算公式如下：其中，c为电源故障类型数目，t为决策树的节点数，P为c的相对概率。类的差异性随Gini系数增加而增加，当Gini系数为0时，树的分裂就会终止。S3.迁移训练单元中，根据可逆跳马尔科夫蒙特卡洛算法，在电源故障表现数据集中寻找类别数量最优解。具体包括：设定迭代次数且构建混合转移核，混合转移核包括生成函数、删除函数、分裂函数、组合函数和转移函数，每次迭代中通过混合转移核遍历向量型样本数据集进行生成、删除、分裂、组合和转移，生成类别数量，而类别数量因每次迭代而变化，反复迭代后，类别数量最优解稳定为固定值，即电源故障类型数量稳定为固定值。S4.根据步骤S3中的类别数量最优解，对步骤S2中的决策树的节点进行裁剪、压缩，得到学生诊断决策树，并存入学生诊断模块中。S5.数据采集模块进行数据采集。S6.数据处理模块根据步骤S3中的类别数量最优解，将步骤S5中采集的数据生成测试数据集，并通过学生诊断决策树进行诊断，并通过显示模块进行故障类型显示。实施例二如图1所示，本实施例与实施例一的区别之处在于：数据采集模块包括设于电源系统内的温度传感器、湿度传感器、音频传感器、电压采样单元和电流采样单元，温度传感器和湿度传感器分别用于实时采集电源系统的温度和湿度，音频传感器用于采集电源系统内或输出端的噪声数据，电压采样单元和电流采样单元分别用于采集电源系统中的输出电压数据和输出电流数据或检测端的电压数据和电流数据。生成向量型样本数据集时，采集的温度数据、湿度数据和噪声数据设于向量型样本数据集的前排，优先诊断因外界环境因素造成的电源故障。数据处理模块包括频谱分析单元和测试数据集，频谱分析单元对数据采集模块的数据进行初步分析，并根据学生诊断模块的参数结构形成测试数据集。向量型样本数据集的数据量等于历史数据存储模块中的数据量的二分之一。决策树的分裂效率相对实施例一的分裂效率较慢，生成时间较实施例一所用时间长，迁移效率较实施例一慢，但分类精度较实施例一精确，即诊断结果较实施例一精确。实施例三如图1所示，本实施例与实施例二的区别之处在于：向量型样本数据集的数据量等于历史数据存储模块中的数据量的三分之二。决策树的分裂效率相对实施例二的分裂效率较慢，生成时间较实施例二所用时间长。由于数据量过大，致使决策树的节点过多，体积过大，发生过渡拟合的概率较实施例二大，也致使迁移效率较实施例二的效率慢。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
