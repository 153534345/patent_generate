标题title
图案测量装置以及测量方法
摘要abst
为了测量形成于层叠多个不同的材料而得到的样品的图案的立体形状，对构成图案的材料分别预先存储表征该材料中的在单位距离内该材料和电子引起散射的概率的衰减率μ，提取BSE图像中的图案的上表面位置、底面位置以及不同的材料彼此相接的界面位置，使用相对于BSE图像中的图案的上表面位置与底面位置的对比度的所述图案的任意位置与底面位置的对比度的比率nIh、和图案的底面位置的材料的衰减率以及图案的该任意位置的材料的衰减率，来算出图案的该任意位置的距上表面位置的深度。
权利要求书clms
1.一种图案测量装置，测量形成于层叠多个不同的材料而得到的样品的图案的立体形状，所述图案测量装置的特征在于，具有：存储部，其对构成所述图案的材料分别存储表征该材料中的在单位距离内该材料和电子引起散射的概率的衰减率；和运算部，其提取检测通过将一次电子束对所述图案扫描而放出的后方散射电子从而作成的BSE图像中的所述图案的上表面位置、底面位置以及不同的材料彼此相接的界面位置，对所述图案的任意位置算出距所述上表面位置的深度，所述运算部使用所述BSE图像中的所述图案的所述任意位置与所述底面位置的对比度相对于所述图案的所述上表面位置与所述底面位置的对比度的比率、和存储于所述存储部的所述图案的所述底面位置的材料的衰减率以及所述图案的所述任意位置的材料的衰减率，来算出所述图案的所述任意位置的距所述上表面位置的深度。2.根据权利要求1所述的图案测量装置，其特征在于，所述运算部从所述BSE图像提取表示沿着给定的方位的来自所述图案的侧壁的后方散射电子信号强度的BSE信号波形，提取所述BSE信号波形的微分信号波形的不连续点，将其作为所述界面位置。3.根据权利要求1所述的图案测量装置，其特征在于，所述运算部基于检测使所述一次电子束在相对于所述样品的表面倾斜的状态下对所述图案进行扫描而放出的后方散射电子从而作成的倾斜BSE图像中的所述图案的底面与所述BSE图像中的所述图案的底面之间的位置偏离量、与所述一次电子束的倾斜量的关系，来算出所述图案的相对于所述上表面位置的所述底面位置的深度。4.根据权利要求1所述的图案测量装置，其特征在于，所述样品是晶片，将形成于所述晶片的多个所述图案的立体形状的偏差显示在表征所述晶片的绘图上。5.一种图案测量装置，测量形成于层叠多个不同的材料而得到的样品的图案的立体形状，所述图案测量装置的特征在于，具有：电子光学系统，其对所述样品照射一次电子束；第1电子检测器，其检测通过将所述一次电子束对所述图案扫描而放出的二次电子；第2电子检测器，其检测所述通过将一次电子束对所述图案扫描而放出的后方散射电子；图像处理部，其根据所述第1电子检测器或所述第2电子检测器的检测信号来形成图像；和运算部，其将从所述图案的截面图像提取的所述图案的侧壁的截面轮廓和从所述图像处理部根据所述第2电子检测器的检测信号形成的第1BSE图像提取的表示沿着给定的方位的来自所述图案的侧壁的后方散射电子信号强度的BSE轮廓进行比较，与构成所述图案的材料对应地区分所述BSE轮廓，根据所区分的所述BSE轮廓中的所述图案的距上表面位置的深度与后方散射电子信号强度的关系，来求取该材料的衰减率。6.根据权利要求5所述的图案测量装置，其特征在于，所述截面图像是使用扫描电子显微镜、会聚离子束显微镜、扫描透过电子显微镜、原子间力显微镜的至少任一者而摄像的所述图案的截面图像或所述图案的设计数据。7.根据权利要求5所述的图案测量装置，其特征在于，所述图像处理部根据与形成所述第1BSE图像的所述第2电子检测器的检测信号同时取得的所述第1电子检测器的检测信号，来形成第1二次电子图像，所述运算部通过所述第1二次电子图像来确定所述图案的上表面位置。8.根据权利要求5所述的图案测量装置，其特征在于，所述图案测量装置具有：存储部，其对构成所述图案的材料分别存储衰减系数，其中该衰减系数表征当对不存在所述图案的该材料以给定的加速电压照射所述一次电子束时该材料中的在单位距离内具有给定的密度的该材料和电子引起散射的概率，所述图像处理部根据所述第1电子检测器的检测信号来形成比所述第1BSE图像更低倍率的第2二次电子图像。所述运算部对构成所述图案的材料分别基于存储于所述存储部的衰减系数以及从所述第2二次电子图像算出的所述图案形成于所述样品的图案密度来求取衰减率。9.根据权利要求5所述的图案测量装置，其特征在于，所述运算部提取检测通过将所述一次电子束对所述图案扫描而放出的后方散射电子从而作成的第2BSE图像中的所述图案的上表面位置、底面位置以及不同的材料彼此相接的界面位置，使用所述第2BSE图像中的所述图案的任意位置与所述底面位置的对比度相对于所述图案的所述上表面位置与所述底面位置的对比度的比率、和所述图案的所述底面位置的材料的衰减率以及所述图案的所述任意位置的材料的衰减率，来算出所述图案的所述任意位置的距所述上表面位置的深度。10.根据权利要求9所述的图案测量装置，其特征在于，所述运算部从所述第2BSE图像提取表示沿着给定的方位的来自所述图案的侧壁的后方散射电子信号强度的BSE信号波形，提取所述BSE信号波形的微分信号波形的不连续点，将其作为所述界面位置。11.根据权利要求9所述的图案测量装置，其特征在于，所述运算部基于检测使所述一次电子束在相对于所述样品的表面倾斜的状态下对所述图案进行扫描而放出的后方散射电子从而作成的倾斜BSE图像中的所述图案的底面与所述第2BSE图像中的所述图案的底面之间的位置偏离量、与所述一次电子束的倾斜量的关系，来算出所述图案的相对于所述上表面位置的所述底面位置的深度。12.一种图案测量方法，测量形成于层叠多个不同的材料而得到的样品的图案的立体形状，所述图案测量方法的特征在于，对构成所述图案的材料分别预先存储表征该材料中的在单位距离内该材料和电子引起散射的概率的衰减率，提取检测通过将一次电子束对所述图案扫描而放出的后方散射电子从而作成的BSE图像中的所述图案的上表面位置、底面位置以及不同的材料彼此相接的界面位置，使用所述BSE图像中的所述图案的任意位置与所述底面位置的对比度相对于所述图案的所述上表面位置与所述底面位置的对比度的比率、和所述图案的所述底面位置的材料的衰减率以及所述图案的所述任意位置的材料的衰减率，来算出所述图案的所述任意位置的距所述上表面位置的深度。13.根据权利要求12所述的图案测量方法，其特征在于，从所述BSE图像提取表示沿着给定的方位的来自所述图案的侧壁的后方散射电子信号强度的BSE信号波形，提取所述BSE信号波形的微分信号波形的不连续点，将其作为所述界面位置。14.根据权利要求12所述的图案测量方法，其特征在于，基于检测使所述一次电子束在相对于所述样品的表面倾斜的状态下对所述图案进行扫描而放出的后方散射电子从而作成的倾斜BSE图像中的所述图案的底面与所述BSE图像中的所述图案的底面之间的位置偏离量、与所述一次电子束的倾斜量的关系，来算出所述图案的相对于所述上表面位置的所述底面位置的深度。
说明书desc
技术领域本发明涉及测量形成于半导体晶片等的图案的立体形状的图案测量装置以及测量方法。背景技术到目前为止，半导体器件为了存储器的大容量化和比特成本减低而不断推进微细化、高集成化等。近年来，为了应对对进一步的高集成化的要求，在推进立体构造器件的开发和制造。若将平面构造立体化，器件就会变厚。因此，例如在3D-NAND、DRAM这样的构造中，层叠膜的层数增加，在形成孔、槽等的工序中，孔、槽的平面尺寸与深度的比也有变大的倾向。另外，器件中所用的材料的种类也有增加的倾向。例如，为了加工孔径50nm～100nm、深度3μm以上这样非常高的纵横比的孔、槽，需要最初将用相对于器件选择比高的材料制作的厚的掩模开口。其是引导之后的蚀刻工序的模板作成工艺，对加工精度的要求也极高。接着，将加工的掩模作为模板，对异种材料的层叠膜一次或分成多次进行用于形成孔或槽的蚀刻。若不在贯通不同的材料的掩模、层叠膜的壁面与表面垂直的状态下进行蚀刻，最终有可能会得不到稳定的器件性能。因此，在蚀刻工艺的中途以及工艺结束后，蚀刻形状的确认非常重要。为了获知图案的立体形状，通过将晶片切断，测定截面形状，能得到正确的截面形状。但为了调查晶片面内的均匀性，要花费工夫和成本。因此，期望以非破坏的方式精度良好地测定形成于异种材料的图案的所期望的高度下的尺寸形状、截面形状或立体形状的手法。在此，在用以电子显微镜等为代表的显微镜不使晶片破坏地观察立体形状的一般的方法中，有立体观察和自上而下观察这两种方法。例如，在专利文献1记载的立体观察中，通过将样品台或电子线倾斜，来改变电子线相对于样品的相对的入射角度，通过与来自上表面的照射入射角度不同的多个图像来进行图案的高度、侧壁的倾斜角度等形状测量。另外，在专利文献2中，记载了以下方法：由于若深孔、深槽的纵横比变大，则从底部放出的二次电子的检测效率降低，因此检测通过高能的一次电子生成的反射电子，利用孔越深则BSE信号量越减少这样的现象，来测量孔的底的深度。现有技术文献专利文献专利文献1：JP特表2003-517199号公报专利文献2：JP特开2015-106530号公报发明内容发明要解决的课题在高纵横比的图案的蚀刻工序中，难以控制侧壁、底部的形状，有时会呈现异种材料界面处的尺寸变化、锥形、弓形、扭曲这样的形状。因此，不仅孔、槽的上表面或底面的尺寸，截面形状也是重要的评价项目。另外，由于晶片面内均匀性要求高的等级，因此可以说，检查、测量面内偏差，将其反馈到器件制造工序，这是成品率提升的关键。但在专利文献1中，基于多个角度的测量是必须的，有测量时间的增大、解析方法的复杂化等课题。并且，由于仅能得到图案的边缘的信息，因此不能测量连续的立体形状。另外，在专利文献2中公开了：将标准样品、孔深度为已知的实测数据作为基准，利用若孔底深则透过反射电子的绝对信号量减少这样的现象，来进行孔的底的深度测量。但由于在从形成于异种材料的孔检测到的反射电子信号强度中，会受到孔内部的连续的立体形状信息和材料信息双方的影响，因此，为了基于反射电子信号强度来检测深度信息、三维形状，若不切分这2个信息，就不能进行高精度的截面形状或三维形状测定。在专利文献2中，并未说明这样的2个信息的切分。用于解决课题的手段本发明的一实施方式的图案测量装置测量形成于层叠多个不同的材料而得到的样品的图案的立体形状，该图案测量装置具有：存储部，其对构成图案的材料分别存储表征该材料中的在单位距离内该材料和电子引起散射的概率的衰减率；和运算部，其提取检测将一次电子束对图案扫描而放出的后方散射电子从而作成的BSE图像中的图案的上表面位置、底面位置以及不同的材料彼此相接的界面位置，对图案的任意位置算出距上表面位置的深度，运算部使用BSE图像中的图案的该任意位置与底面位置的对比度相对于图案的所述上表面位置与所述底面位置的对比度的比率、存储于存储部的图案的底面位置的材料的衰减率以及图案的该任意位置的材料的衰减率，来算出图案的该任意位置的距上表面位置的深度。本发明的其他实施方式的图案测量装置测量形成于层叠多个不同的材料而得到的样品的图案的立体形状，该图案测量装置具有：电子光学系统，其对样品照射一次电子束；第1电子检测器，其检测通过将一次电子束对图案扫描而放出的二次电子；第2电子检测器，其检测通过将一次电子束对图案扫描而放出的后方散射电子；图像处理部，其根据第1电子检测器或第2电子检测器的检测信号来形成图像；和运算部，其将从图案的截面图像提取的图案的侧壁的截面轮廓、和从图像处理部根据第2电子检测器的检测信号形成的BSE图像提取的表示沿着给定的方位的来自图案的侧壁的后方散射电子信号强度的BSE轮廓进行比较，与构成图案的材料对应地区分BSE轮廓，根据所区分的BSE轮廓中的图案的距上表面位置的深度与后方散射电子信号强度的关系来求取该材料的衰减率。本发明的再其他实施方式的图案测量方法测量形成于层叠多个不同的材料而得到的样品的图案的立体形状，在该图案测量方法中，对构成图案的材料分别预先存储表征该材料中的在单位距离内该材料和电子引起散射的概率的衰减率，提取检测将一次电子束对图案扫描而放出的后方散射电子从而作成的BSE图像中的图案的上表面位置、底面位置以及不同的材料彼此相接的界面位置，使用BSE图像中的所述图案的任意位置与底面位置的对比度相对于图案的上表面位置与底面位置的对比度的比率、和图案的底面位置的材料的衰减率以及图案的该任意位置的材料的衰减率，来算出图案的该任意位置的距上表面位置的深度。发明的效果关于形成于异种材料的深孔、深槽等立体构造，能精度良好地测量截面形状或立体形状。其他课题和新的特征会从本说明书的记述以及附图而得以明确。附图说明图1是图案测量装置的概略结构图。图2是说明测定图案的立体形状的原理的图。图3是表示测定图案的立体形状的顺序的流程图。图4是GUI的示例。图5A是使用截面图像来说明衰减率μ的估计方法的图。图5B是使用截面图像来说明衰减率μ的估计方法的图。图5C是使用截面图像来说明衰减率μ的估计方法的图。图6A是使用材料信息来说明衰减率μ的估计方法的图。图6B是使用材料信息来说明衰减率μ的估计方法的图。图7A是BSE微分信号波形的示例。图7B是说明算出界面深度和尺寸的方法的图。图8A是GUI的示例。图8B是立体形状测定结果的输出画面的示例。图8C是立体形状测定结果的输出画面的示例。图9A是表示离线测定图案的立体形状的顺序的SEM的流程图。图9B是表示离线测定图案的立体形状的顺序的计算用服务器的流程图。图10A是形成于层叠多个材料而得到的样品的图案的示例。图10B是形成于周期性层叠多个材料而得到的样品的图案的示例。具体实施方式以下说明测量装置、测量方法，在半导体制造过程中的半导体晶片等的观察或测量中，测定形成于异种材料的层叠体的纵横比高的孔图案、槽图案的截面形状或立体形状。作为设为观察对象的样品而例示形成有图案的半导体晶片，但并不限于半导体的图案，只要是能用电子显微镜、其他显微镜进行观察的样品，就都适用。在图1示出本实施例的图案测量装置。作为图案测量装置的一方式而示出使用扫描电子显微镜的示例。扫描电子显微镜主体由电子光学镜筒1和样品室2构成。在镜筒1的内侧，作为电子光学系统的主要的结构而具备：使电子产生并以给定的加速电压赋予能量的一次电子束的放出源即电子枪3；将电子束会聚的会聚透镜4；将一次电子束在晶片10上进行扫描的偏向器6；以及将一次电子束会聚并照射到样品的物镜7。另外，设有偏向器5，其使一次电子束从理想光轴3a离轴，将离轴的束向相对于理想光轴3a倾斜的方向偏向，由此做出倾斜束。构成这些电子光学系统的各光学要素被电子光学系统控制部14控制。在设置于样品室2的XY载台11上载置作为样品的晶片10，按照从载台控制部15给来的控制信号来使晶片10移动。控制部16的装置控制部20通过控制电子光学系统控制部14、载台控制部15来在晶片10的观察区域上扫描一次电子束。在本实施例中，为了测量高纵横比的深孔、深槽的立体形状，对晶片10照射能到达至图案的深的部分的高能的一次电子束。由第1电子检测器8以及第2电子检测器9检测通过一次电子束在晶片10上扫描而产生的电子。从各检测器输出的检测信号分别通过放大器12以及放大器13被信号变换，输入到控制部16的图像处理部17。第1电子检测器8主要检测通过对样品照射一次电子束而产生的二次电子。二次电子是一次电子在样品内非弹性散射而从构成样品的原子激发的电子，其能量为50eV以下。二次电子的放出量由于对样品表面的表面形状敏感，因此第1电子检测器8的检测信号主要表示晶片表面的图案信息。另一方面，第2电子检测器9检测对样品照射一次电子束而产生的后方散射电子。后方散射电子是对样品照射的一次电子在散射的过程中从样品表面放出的电子。在一次电子束照射到平坦的样品的情况下，在BSE的放出率中主要反映材料信息。控制部16具有未图示的输入部、显示部，被输入为了测量立体形状所需的信息，将该信息存储到存储部19。详细情况后述，关于测量对象图案的截面信息、关于构成测量对象图案的材料的材料信息数据库等存放在存储部19。另外，从图像处理部17输出的图像也存储到存储部19。运算部18的详细情况后述，进行用于使用在SEM摄像的图像、以及关于测量对象图案的截面信息来测量测量对象图案的立体形状图案的参数即衰减率的运算、测量对象图案的深度、尺寸的算出。另外，本实施例的图案测量装置还能进行图案的三维模型构建，但由于在三维模型构建中需要计算机的高的处理能力，因此也可以设置与控制部16通过网络21连接的计算用服务器22。由此，能进行图像取得后的迅速的三维模型构建。设置计算用服务器22并不限定于三维模型构建目的。例如，在离线进行图案测量的情况下，通过使计算用服务器22进行控制部16中的运算处理，能有效利用控制部16的运算资源。在该情况下，通过在网络21连接多台SEM，能进行更有效率的运用。使用图2来说明本实施例中的测定图案的立体形状的原理。该示例中的测定对象是在层叠平均原子序数不同的2种类的材料而得到的样品200以给定的密度设置的孔图案。为了易于理解，在图中仅示出1个孔图案，并夸张地示出孔图案的形状。在本实施例的图案形状测定中，通过在孔205的侧壁照射一次电子束，电子在样品内部散射，检测透过样品表面而飞出的BSE。另外，在图案是3D-NAND、DRAM这样的深度3μm以上的深孔或深槽的情况下，一次电子束的加速电压是5kV以上，优选30kV以上。在图2示意地示出相对于照射到样品表面的一次电子束211而放出BSE221的样态、相对于照射到材料1与材料2的界面201的一次电子束212而放出BSE222的样态、相对于照射到孔205的底面的一次电子束213而放出BSE223的样态。在此，与样品内的电子的散射区域相比，成为形成于样品200的空洞的高纵横比的孔、槽的体积非常小，对电子的散射轨迹影响极小。另外已知的是，一次电子束以给定的入射角度入射到孔205的倾斜的侧壁，在一次电子束为高加速度且入射角度小的情况下，入射角度的差异给电子的散射轨迹带来的影响是能无视的程度。进而，孔205形成于层叠不同的材料而得到的样品，已知BSE的产生量依赖于材料的平均原子序数。即，对孔205扫描一次电子束所得到的BSE信号强度230依赖于从一次电子束的入射位置到表面的平均的移动距离，并且还依赖于包含电子的散射区域的材料的平均原子序数。BSE信号强度I的大小能以表征。I＝I0e-μh 在此，初始BSE信号强度I0是在一次电子束的照射位置产生的BSE信号强度，依赖于一次电子束的加速电压、即一次电子所具有的能量。衰减率μμ是表征衰减的快慢的物理量，表征在电子所通过的单位距离中与固体材料引起散射的概率。衰减率μ具有依赖于材料的值。通过距离h是一次电子束的照射位置距样品表面的深度。能将检测到的BSE信号强度I如此地表征为从一次电子束的照射位置到样品表面的平均的距离h与衰减率μ的函数。即，通过一次电子束的照射位置越靠近孔的底面则电子的固体内通过距离越长，能量损失变大，BSE信号强度降低。另外，BSE信号强度所降低的程度依赖于构成样品的材料。这是因为，关于构成样品200的2种类的材料，若材料2与材料1相比而每单位体积的原子的数量更多，则材料2的散射概率比材料1的散射概率大，能量损失也变大。在该情况下，在材料1的衰减率μ1与材料2的衰减率μ2之间具有μ1＜μ2的关系。换言之，检测到的BSE信号强度I包含放出BSE的深度位置信息和关于电子的散射区域的材料的信息双方。因此，通过预先取得分别关于构成设为测定对象的孔图案、槽图案等的材料的衰减率μ，来除去对这些图案扫描一次电子束而得到的BSE信号强度中所含的材料的相异的影响，能精度良好地算出图案的深度信息。图3是使用本实施例的图案测量装置来测定图案的立体形状的顺序。首先，将形成有成为测定对象的图案的晶片导入SEM的样品室。接下来，判断成为测定对象的图案是否是需要进行测定条件的设定的新的样品。在遵循已有的测定配方进行图案测量即可的样品的情况下，遵循该测定配方进行立体形状的测定，输出测定结果。在没有测定配方的样品的情况下，首先，为了对图案摄像而设定合适的光学条件。接下来，使用GUI来输入构成测定对象图案的材料种类的数量。设定测定对象图案的低倍率图像以及高倍率BSE图像各自的摄像条件，取得图像，进行登记。接下来，使用GUI来输入测定对象图案的构造信息。期望使用测定对象图案的截面图像，但考虑也有不一定能获得这样的截面图像的情况，设置多个构造信息输入方法。基于所输入的构造信息来算出构成对象图案的各材料的衰减率μ，并保存。接着，设定所测定的立体图案的测定项目。通过以上的步骤，来备齐用于测定图案的立体形状的测定配方。遵循测定配方进行立体形状的测定，输出测定了形状的结果。然后，判断是否是最后的样品，若不是最后的样品，就回到步骤S1而开始下一样品的测定。若在步骤S10中是最后的样品，则结束测定。图4是用于执行图3所示的顺序的GUI400的示例。在GUI400具有光学条件输入部401和测定对象图案登记部402这2个部分。首先，在光学条件的设定中，使用光学条件输入部401来设定当前正设定的光学条件或适于对测定对象图案摄像的光学条件编号。在SEM中预先保存用于对图案摄像的多个光学条件，用户能通过指定其任一者来设定光学条件。接着，用户使用测定对象图案登记部402来进行对测定对象图案的登记。首先，对材料结构输入部403输入构成测定对象图案的材料种类的数量。该示例中选择为“2种类”。接着，将测定对象图案的图像分别登记低倍率图像以及高倍率BSE图像。顶视图像登记部404包含低倍率图像登记部405和高倍率BSE图像登记部408。首先，在低倍率图像登记部405中，在摄像条件选择框406进行指定，使得将测定对象图案配置于视野的中央，摄像低倍率图像407，进行登记。低倍率图像407期望设为适合样品表面的形状观察的二次电子图像。另外，期望对应于光学条件中设定的加速电压，将摄像视野设定得比一次电子束的散射区域大。例如，若是测定形成于材料SiO2的周期的图案的情况，就将视野设定为5μm×5μm以上。接着，在高倍率BSE图像登记部408中，在摄像条件选择框409进行指定，使得将测定对象图案配置于视野的中央，摄像高倍率BSE图像410，进行登记。例如，在摄像条件选择框409选择的摄像条件是聚焦、扫描模式、一次束的入射角度等。接着，使用构造输入部411来输入测定对象图案的构造信息。如上述那样，设置多种测定对象图案的构造信息的输入方法，用户选择并输入其中任一的输入方法。第1方法是输入截面图像的方法。例如，用户事前使用SEM、FIB-SEM、STEM、AFM等对对象图案的截面构造摄像，从截面图像输入部412登记其截面图像。第2方法是输入设计数据的方法。从设计数据输入部413登记器件的设计数据。或者，也可以使用并非这些中的任一者的存储器件的截面形状的文件。在该情况下，从截面信息输入部414读入该文件。另一方面，在不能进行包含截面构造的图像、设计数据等截面图像输入的情况下，从手动输入部415依次指定从对象图案的上表面到下表面为止所含的材料的种类、膜厚。在手动输入部415设有按层区别输入框416，能输入构成对象图案的每个层的材料信息。通过预先具备材料的材料信息数据库，在材料选择部417选择构成层的材料，来从材料信息数据库自动输入该材料的物理参数。在希望实测材料的物理参数来使用的情况下等，从用户定义部418单独输入物理参数。输入所需的物理参数是为了算出层的材料的平均原子序数所需的物理参数。另外，从膜厚输入部419输入层的膜厚。从以上输入的测定对象图案的构造信息估计各层的衰减率μ并保存，并且显示在衰减率显示部420。以下说明估计衰减率μ的方法。使用图5A～5C来说明作为测定对象图案的构造信息而输入截面图像的情况下的衰减率μ的估计方法。首先，如图5A所示那样，从截面图像500取得测定对象图案的截面轮廓501。所谓测定对象图案的截面轮廓，是在将图案的宽度方向设为X轴、将与图案的上表面垂直的深度方向设为Z轴时通过坐标表现图案的截面的数据。作为轮廓提取手段，能使用信号的微分处理、基于高通滤波器的处理等公知的手段来得到截面轮廓。在二维图像的情况下，可以使用高阶的微分，以使得对边缘锐利地做出反应。出现在截面轮廓501的左右的倾斜部502是测定对象图案的侧壁。提取与测定对象图案的侧壁的截面轮廓相符的图案上表面-图案底面间的坐标。另外，也可以由机器学习模型提取与测定对象图案的侧壁相符的坐标。接下来，如图5B所示那样，从高倍率BSE图像510，针对所指定的方位512取得测定对象图案的BSE轮廓511。所谓测定对象图案的BSE轮廓，是指在横轴取所指定的方位的坐标、在纵轴取BSE信号强度I并沿着某一方向表现BSE信号强度的数据。决定BSE轮廓511中的孔的上表面和底面的位置。对BSE轮廓511设定用于决定图案的上表面位置的第1阈值Th1、用于决定图案的底面位置的第2阈值Th2。将阈值设定为使得BSE信号强度I的噪声导致的偏差尽量变小的值。例如，将第1阈值Th1设定为BSE轮廓511中的信号波形的全高的90％，将第2阈值Th2设定为信号波形的全高的0％。另外，上述的阈值的值是一例。另外，若在取得高倍率BSE图像510时同时取得高倍率二次电子图像，则期望使用该高倍率二次电子图像来决定上表面位置。在二次电子图像中，由于图案的边缘呈现出高对比度，因此能以更高的精度决定上表面位置。因此，在步骤S5或步骤S9，期望取得基于第2电子检测器9中检测到的信号生成的BSE图像并同时取得基于在第1电子检测器8检测到的信号生成的二次电子图像。若如此地在BSE轮廓511决定了图案的上表面以及底面的位置，则提取从上表面位置513到底面位置514之间、即测定对象图案的侧壁的BSE信号波形515。接着，使用从截面轮廓501提取的侧壁坐标和从BSE轮廓511提取的侧壁的BSE信号波形，来作成BSE轮廓521，其以X坐标为关键，在横轴取Z坐标，在纵轴取BSE信号强度I。在图5C示出这样得到的BSE轮廓521。这时，由于截面图像500的X方向的像素尺寸和高倍率BSE图像510的X方向的像素尺寸通常不同，因此需要将两者调整成相同大小。例如在截面轮廓501的像素尺寸大的情况下，也可以通过内插法增加数据来进行匹配。BSE轮廓521在横轴取深度方向，在纵轴取BSE信号强度，BSE信号波形522具有根据材料的差异而有不同的倾斜的部分。因此，通过区分从上表面到界面的范围523中的BSE信号波形以及从底面到界面的范围524中的BSE信号波形，分别拟合成，来算出各材料的衰减率μμ，并存储。另外，图5C是示意图，实际上，在界面附近，由于在BSE散射区域中包含多个材料层的影响，存在图5C那样看不到明确的拐点的可能性。因此，也可以每当进行拟合，就降低界面附近的数据的加权。接下来，使用图6A～6B来说明手动输入测定对象图案的构造信息的情况下的衰减率μ的估计方法。在该情况下，预先对在半导体器件中经常使用的材料通过蒙特卡罗模拟预先算出每个材料密度以及加速电压的衰减系数μ0，并数据库化。材料设为未形成图案的单一层来进行计算。图6A关于某材料示意地示出加速电压15、30、45、60kV的情况的材料密度与衰减系数μ0的关系。另外，衰减系数μ0可以作为表格来存放，也可以作为关系式来存放。设为测量对象的器件设为对异种材料的层叠体周期性地形成深孔、深槽这样的图案的器件。密集形成的图案使材料密度减低，由此给电子的散射、即检测到的BSE信号强度带来影响。因此，若将“图案密度”定义为在周期性地形成的图案中占最小单元面积的图案开口面积的比例，则随着图案密度增加，材料中成为真空的部分增加，由此可以说样品的平均密度减少。即使所散射的电子的通过距离相同，也由于与材料原子的散射导致的能量损失减少，因此检测到的BSE信号强度增大。即，衰减率μμ与材料的平均密度处于反比的关系。利用该关系，从所登记的测定对象图案的低倍率图像407算出图案密度，能根据没有图案的情况下的该材料的密度以及样品的图案密度来算出构成样品的各层的材料的平均密度。图6B是低倍率图像407的2值化图像601。将样品表面的像素值设为1，将图案即孔的开口的像素值设为0。通过对2值化图像601确定周期图案的单位单元602，并对单位单元602整体的像素算出像素值为0的像素所占的比例，由此算出图案密度。通过以上的次序，不管用户是将测定对象图案的构造信息作为截面图像而输入的情况，还是手动输入的情况，都能得到构成图案的各层的每一个的材料的衰减率μ。说明使用构成测定对象图案的各材料的衰减率μμ来进行图案的深度信息的测量的方法。首先，从形成于测定对象的样品的图案的BSE图像取得BSE轮廓，决定BSE轮廓中的孔的上表面和底面的位置。BSE轮廓中的孔的上表面和底面的位置的决定方法是在测定配方的作成中如使用图5B说明那样的处理，省略重复的说明。若决定了上表面位置和底面位置，就得到从上表面位置到底面位置之间、即测定对象图案的侧壁的BSE信号波形，对BSE信号波形进行微分处理。在图7A示出将BSE信号波形进行过微分的BSE微分信号波形701的示例。在材料不同的层的界面产生BSE微分信号波形的不连续点，该不连续点是X方向上的界面坐标XINT。另外，每当求取界面坐标XINT，就可以进行高阶的微分，以使得锐利地做出反应，或者，也可以进行判断来自侧壁的BSE信号强度的倾斜度的不连续性的其他信号处理。使用图7B来说明使用与界面坐标XINT对应的界面处的BSE信号强度IINT、所取得的材料1的衰减率μ1以及材料2的衰减率μ2来算出界面的深度hint以及尺寸d的方法。尺寸d能通过具有BSE信号强度IINT的BSE信号波形711的2点的X坐标的差来求取。另一方面，界面处的BSE相对信号强度nIINT能通过表征。在此，所谓BSE相对信号强度nI，是指将图案上表面处的BSE信号强度设为1、将图案底面处BSE信号强度设为0来归一化的信号强度，是图案的界面位置与底面位置的对比度相对于图案的上表面位置与底面位置的对比度的比率。另外，将图案整体的深度设为H。由此，能求取界面的深度hint相对于整体深度H的比例。另外，尽管这里省略详细，但关于整体深度H，能使一次电子束相对于样品表面倾斜地入射来取得BSE图像，根据使一次电子束垂直入射样品表面而得到的BSE图像与使其倾斜入射而得到的BSE图像中的孔的底面的位置偏离的大小、与一次电子束的倾斜量的关系，来求取整体深度H。通过求取整体深度H的绝对值，能求取界面的深度hint。能测量的深度并不限于界面的深度，能得到任意的位置处的尺寸、深度。或者，能通过连续地取得尺寸和深度，来得到截面形状。如此地，能使用来算出任意的位置处的图案深度h。在此，在所求得的深度位于比界面更靠上的位置的情况下，衰减率μ*是衰减率μ1，在所求得的深度位于比界面更靠下的位置的情况下，衰减率μ*是衰减率μ2。以上说明了X方向的截面，但还能改变提取BSE信号强度的方位来得到多个方位上的截面信息，进而，还能通过将大量方位的截面信息综合，来得到三维模型。在图8A示出用于执行图3所示的顺序的步骤S8的GUI800的示例。设为测定测量位置指定部801中指定的测量位置的尺寸。为了指定测量位置而具备：指定构成图案的层的界面的界面指定部802；和指示特定深度处的尺寸测量的深度指定部803。这时，在图案显示部804显示截面信息，期望由光标805显示所指定的测量位置。在该情况下，可以是，用户能使光标805活动来从截面信息指定测量位置。另外，除此以外，还可以能通过截面轮廓上的侧壁角度、最大尺寸和位于最大尺寸的深度等来指定测量位置。另外，测量位置指定部801能通过追加标签806来对1个图案进行多处的测量。进而，在能指定由方位指定部807测量的截面的方位并选择了3D轮廓选择部808的情况下，进行多个方位上的测定，能求取三维模型。说明本实施例所涉及的图案测量装置中的形状测定结果的输出画面的示例。图8B是显示测量对象图案的晶片面内偏差的输出画面的示例。晶片绘图810内的四边形分别表征测量到的图案所存在的区域811。例如，若所测定的形状适合，就以浅的颜色显示，从适合值偏离的程度越大，以越深的颜色显示。如此地，通过绘制在晶片的不同场所进行的测定结果并进行显示，能一览地显示晶片面内偏差。进而，在用户希望获知测定结果的细节的情况下，在晶片绘图810的上指定特定的区域，如图8C那样显示从测定对象图案的摄像图像得到的尺寸值测定结果、深度信息、截面轮廓信息、三维轮廓信息。另外，还能以设计值为基准，在绘图中显示测定值超出所指定的阈值范围的场所。通过进行这样的各种显示，用户能效率良好地得到信息。在图1中，示出将SEM通过网络21与计算用服务器22连接的示例，但是在图9A、9B中示出如下流程：在SEM中，将图像取得、保存，并转发到所连接的计算用服务器22，在计算用服务器22中离线地进行测量配方的作成、样品的立体形状的测定。关于与图3共通的步骤，以与图3相同附图标记示出，省略重复的说明。图9A是SEM的控制部16所执行的流程。SEM主体专门取得测量所需的图像。在不存在测量对象图案的测定配方的情况下，将用于求取衰减率μ的图像包括在内，将取得图像转发到计算用服务器22。另外，在和BSE图像一起取得二次电子图像的情况下，关于二次电子图像，也转发到计算用服务器22。图9B是计算用服务器22所执行的流程。将从与网络连接的SEM转发的图像载入。在需要对所转发的图像设定测定配方的情况下，使用所转发的图像中所含的低倍率图像以及高倍率BSE图像来执行步骤S4～步骤S8，设定测定配方。遵循所设定的测定配方，从SEM在步骤S11取得的BSE图像测量测定对象图案的立体形状，将形状测定结果输出到计算用服务器22所具备的显示部等。另外，在已经存在测定配方的情况下，由于从SEM仅转发步骤S11中取得的BSE图像，因此遵循已有的测定配方来测量测定对象图案的立体形状，输出形状测定结果。另外，以层叠2种类的材料而得到的样品为例说明了本实施例，但测量对象图案在构成图案的层的数量上并没有制约。图10A表示形成于层叠2种类以上的材料而得到的样品900的图案和其BSE信号强度)。图10B表示形成于交替层叠材料A和材料B而得到的样品910的图案和其BSE信号强度)。在层叠数中并没有限制。均在BSE信号强度中清晰地表征了材料的界面，能通过本实施例的测定方法有效地测定立体形状。与此相对，存在不同的材料间的界面变得不清晰的情况。第1情况是形成相邻的2层的第1材料和第2材料的原子序数、密度近似的情况。在该情况下，两材料的衰减率变得近似，变得难以分离。第2情况是膜厚薄的情况。在层的膜厚薄且在样品内电子到进行一次散射为止所前进的距离内会包含多个材料的层的情况下，即使材料的衰减率较大不同，也无法清晰地表征界面。在如此地变得不能区别相对于侧壁的高度的衰减率的差异的情况下，可以作为一个层处置来进行立体形状的测量。以上使用附图说明了本发明。但是本发明并不限定于以上所示的实施方式的记载内容来进行解释，能在不脱离本发明的思想或主旨的范围内变更其具体的结构。即，本发明并不限定于所说明的实施例，包含各种变形例。所说明的实施例为了易于理解地说明本发明而详细说明了结构，但不一定限定于所说明的全部结构。另外，关于各实施例的结构的一部分，能在没有矛盾的范围内追加、删除、置换其他结构。另外，附图等中所示的各结构的位置、大小、形状以及范围等存在为了使发明的理解容易而并未表征实际的位置、大小、形状以及范围等的情况。因此在本发明中，并不限定于附图等中公开的位置、大小、形状以及范围等。另外，在实施例中，控制线、信息线示出说明上被认为必要的部分，产品上并不一定限于示出全部控制线、信息线。例如可以全部结构相互连接。另外，本实施例所示的各结构、功能、处理部、处理手段等可以将它们的一部分或全部通过例如以集成电路进行设计等来以硬件实现。或者，也可以通过软件的程序代码实现。在该情况下，将记录了程序代码的存储介质提供到计算机，该计算机所具备的处理器将存放于存储介质的程序代码读出。在该情况下，通过由从存储介质读出的程序代码自身实现前述的实施例的功能，该程序代码自身以及存储其的存储介质构成本发明。附图标记的说明1：电子光学镜筒、2：样品室、3：电子枪、3a：理想光轴、4：会聚透镜、5、6：偏向器、7：物镜、8：第1电子检测器、9：第2电子检测器、10：晶片、11：XY载台、12、13：放大器、14：电子光学系统控制部、15：载台控制部、16：控制部、17：图像处理部、18：运算部、19：存储部、20：装置控制部、21：网络、22：计算用服务器、200、900、910：样品、201：界面、205：孔、211、212、213：一次电子束、221、222、223：BSE、230：BSE信号强度、400、800：GUI、401：光学条件输入部、402：测定对象图案登记部、403：材料结构输入部、404：顶视图像登记部、405：低倍率图像登记部、406、409：摄像条件选择框、407：低倍率图像、408：高倍率BSE图像登记部、410、510：高倍率BSE图像、411：构造输入部、412：截面图像输入部、413：设计数据输入部、414：截面信息输入部、415：手动输入部、416：按层区别输入框、417：材料选择部、418：用户定义部、419：膜厚输入部、420：衰减率显示部、500：截面图像、501：截面轮廓、502：倾斜部、511：BSE轮廓、512：方位、513：上表面位置、514：底面位置、515：BSE信号波形、521：BSE轮廓、522：BSE信号波形、523、524：范围、601∶2值化图像、602：单位单元、701：BSE微分信号波形、711：BSE信号波形、801：测量位置指定部、802：界面指定部、803：深度指定部、804：图案显示部、805：光标、806：标签、807：方位指定部、808：3D轮廓选择部、810：晶片绘图、811：区域。
