标题title
智能照明系统无线控制方法及设备
摘要abst
本申请实施例提供一种智能照明系统无线控制方法及设备，方法包括：控制设备将多个照明设备预分为至少两个分组，每个分组至少包括一个照明设备；确定当前待执行的控制任务对应的目标分组与控制参数，并根据该控制参数与目标分组对应的目标分组掩码生成数据包；控制设备广播上述数据包。照明设备在接收到控制设备广播的数据包后，解析数据包中含有的目标分组掩码与控制参数，并根据目标分组掩码，确定自身是否属于目标分组掩码对应的分组；若属于，则执行与上述控制参数相关的控制操作。本申请实施例可以通过一条广播信息，控制多个照明设备中的其中一部分照明设备执行相关的场景控制，有效降低网络负载。
权利要求书clms
1.一种智能照明系统无线控制方法，其特征在于，所述智能照明系统包括控制设备与多个照明设备；所述方法包括：所述控制设备将所述多个照明设备预分为至少两个分组，每个所述分组至少包括一个所述照明设备；所述控制设备确定当前待执行的控制任务对应的目标分组与控制参数，并根据所述控制参数与所述目标分组对应的目标分组掩码生成数据包；所述控制设备广播所述数据包。2.根据权利要求1所述的方法，其特征在于，所述控制设备将所述多个照明设备预分为至少两个分组之后，还包括：所述控制设备为各个所述分组设置唯一的分组掩码。3.根据权利要求1所述的方法，其特征在于，所述控制参数包括亮度调节参数、色温调节参数、色彩调节参数、设备开关参数中的至少一种。4.根据权利要求1至3任一项所述的方法，其特征在于，还包括：所述控制设备在接收到分组调整操作时，根据所述分组调整操作，调整所述多个照明设备对应的分组。5.一种智能照明系统无线控制方法，其特征在于，所述智能照明系统包括控制设备与多个照明设备；所述方法包括：所述照明设备在接收到所述控制设备广播的数据包后，解析所述数据包中含有的目标分组掩码与控制参数；所述照明设备根据所述目标分组掩码，确定所述照明设备是否属于所述目标分组掩码对应的分组；当所述照明设备属于所述目标分组掩码对应的分组时，执行与所述控制参数相关的控制操作。6.根据权利要求5所述的方法，其特征在于，所述照明设备根据所述目标分组掩码，确定所述照明设备是否属于所述目标分组掩码对应的分组之后，还包括：当所述照明设备不属于所述目标分组掩码对应的分组时，丢弃接收到的所述数据包。7.根据权利要求5所述的方法，其特征在于，所述照明设备根据所述目标分组掩码，确定所述照明设备是否属于所述目标分组掩码对应的分组，包括：所述照明设备确定自身预先设置的分组掩码是否与所述目标分组掩码相同；若所述照明设备预先设置的分组掩码与所述目标分组掩码相同，则确定所述照明设备属于所述目标分组掩码对应的分组；若所述照明设备预先设置的分组掩码与所述目标分组掩码不相同，则确定所述照明设备不属于所述目标分组掩码对应的分组。8.根据权利要求5所述的方法，其特征在于，所述控制参数包括亮度调节参数、色温调节参数、色彩调节参数、设备开关参数中的至少一种。9.一种控制设备，其特征在于，应用于智能照明系统，所述智能照明系统包括多个照明设备；所述控制设备包括：分组模块，用于将所述多个照明设备预分为至少两个分组，每个所述分组至少包括一个所述照明设备；数据处理模块，用于确定当前待执行的控制任务对应的目标分组与控制参数，并根据所述控制参数与所述目标分组对应的目标分组掩码生成数据包；发送模块，用于广播所述数据包。10.一种照明设备，其特征在于，应用于智能照明系统，所述智能照明系统包括控制设备；所述照明设备包括：解析模块，用于在接收到所述控制设备广播的数据包后，解析所述数据包中含有的目标分组掩码与控制参数；判断模块，用于根据所述目标分组掩码，确定所述照明设备是否属于所述目标分组掩码对应的分组；执行模块，用于当所述照明设备属于所述目标分组掩码对应的分组时，执行与所述控制参数相关的控制操作。11.一种智能照明系统，其特征在于，包括控制设备与多个照明设备；所述控制设备为权利要求9所述的控制设备，所述照明设备为权利要求10所述的照明设备。
说明书desc
技术领域本申请实施例涉及无线网络技术领域，尤其涉及一种智能照明系统无线控制方法及设备。背景技术随着经济的发展和社会的进步，生活中的照明系统也日趋智能化和节能化。智能照明系统能够基于无线网络，对多个照明设备进行各种智能控制和管理，已经得到越来越广泛的应用。其中，现有的智能照明系统通常采用Wi-Fi，Zigbee，低能耗蓝牙等无线通信技术，以常规单播、组播或广播的方式向照明设备发送控制指令。然而，在采用广播方式时，广播的数据包中只能携带简单统一的控制参数，且所有的照明设备均会响应，无法实现复杂的场景控制；在采用单播方式或组播方式时，若需要同时控制多台照明设备或者多个分组中的照明设备，则需要分别对系统中的多台照明设备或者多个分组发送数据包，由此会增加网络负载，进而导致网络延迟。发明内容本申请实施例提供一种智能照明系统无线控制方法及设备，可以在对照明设备实现复杂的场景控制时，有效降低网络负载。第一方面，本申请提供一种智能照明系统无线控制方法，所述智能照明系统包括控制设备与多个照明设备；所述方法包括：所述控制设备将所述多个照明设备预分为至少两个分组，每个所述分组至少包括一个所述照明设备；所述控制设备确定当前待执行的控制任务对应的目标分组与控制参数，并根据所述控制参数与所述目标分组对应的目标分组掩码生成数据包；所述控制设备广播所述数据包。在一种可行的实施方式中，所述控制设备将所述多个照明设备预分为至少两个分组之后，还包括：所述控制设备为各个所述分组设置唯一的分组掩码。在一种可行的实施方式中，所述控制参数包括亮度调节参数、色温调节参数、色彩调节参数、设备开关参数中的至少一种。在一种可行的实施方式中，还包括：所述控制设备在接收到分组调整操作时，根据所述分组调整操作，调整所述多个照明设备对应的分组。第二方面，本申请提供一种智能照明系统无线控制方法，所述智能照明系统包括控制设备与多个照明设备；所述方法包括：所述照明设备在接收到所述控制设备广播的数据包后，解析所述数据包中含有的目标分组掩码与控制参数；所述照明设备根据所述目标分组掩码，确定所述照明设备是否属于所述目标分组掩码对应的分组；当所述照明设备属于所述目标分组掩码对应的分组时，执行与所述控制参数相关的控制操作。在一种可行的实施方式中，所述照明设备根据所述目标分组掩码，确定所述照明设备是否属于所述目标分组掩码对应的分组之后，还包括：当所述照明设备不属于所述目标分组掩码对应的分组时，丢弃接收到的所述数据包。在一种可行的实施方式中，所述照明设备根据所述目标分组掩码，确定所述照明设备是否属于所述目标分组掩码对应的分组，包括：所述照明设备确定自身预先设置的分组掩码是否与所述目标分组掩码相同；若所述照明设备预先设置的分组掩码与所述目标分组掩码相同，则确定所述照明设备属于所述目标分组掩码对应的分组；若所述照明设备预先设置的分组掩码与所述目标分组掩码不相同，则确定所述照明设备不属于所述目标分组掩码对应的分组。在一种可行的实施方式中，所述控制参数包括亮度调节参数、色温调节参数、色彩调节参数、设备开关参数中的至少一种。第三方面，本申请提供一种控制设备，应用于智能照明系统，所述智能照明系统包括多个照明设备；所述控制设备包括：分组模块，用于将所述多个照明设备预分为至少两个分组，每个所述分组至少包括一个所述照明设备；数据处理模块，用于确定当前待执行的控制任务对应的目标分组与控制参数，并根据所述控制参数与所述目标分组对应的目标分组掩码生成数据包；发送模块，用于广播所述数据包。第四方面，本申请提供一种照明设备，应用于智能照明系统，所述智能照明系统包括控制设备；所述照明设备包括：解析模块，用于在接收到所述控制设备广播的数据包后，解析所述数据包中含有的目标分组掩码与控制参数；判断模块，用于根据所述目标分组掩码，确定所述照明设备是否属于所述目标分组掩码对应的分组；执行模块，用于当所述照明设备属于所述目标分组掩码对应的分组时，执行与所述控制参数相关的控制操作。第五方面，本申请提供一种智能照明系统，包括控制设备与多个照明设备；所述控制设备为第三方面提供的控制设备，所述照明设备为第四方面提供的照明设备。本申请实施例所提供的智能照明系统无线控制方法及设备，通过对控制设备广播的数据包进行改进，控制设备可以通过一条广播信息，控制多个照明设备中的其中一部分照明设备执行相关的场景控制，实现对整体、分组与单体的统一控制，能够在实现复杂的场景控制时，有效降低网络负载。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对本申请实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其它的附图。图1为本申请实施例中提供的一种智能照明系统的架构示意图；图2为本申请实施例中提供的一种智能照明系统无线控制方法的流程示意图；图3为本申请实施例中提供的一种数据包的封装格式示意图；图4为本申请实施例中提供的另一种智能照明系统无线控制方法的流程示意图；图5为本申请实施例中提供的一种智能照明系统无线控制方法的交互示意图；图6为本申请实施例中提供的一种控制设备的程序模块示意图；图7为本申请实施例中提供的一种照明设备的程序模块示意图。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。此外，虽然本申请中公开内容按照示范性一个或几个实例来介绍，但应理解，可以就这些公开内容的各个方面也可以单独构成一个完整实施方式。需要说明的是，本申请中对于术语的简要说明，仅是为了方便理解接下来描述的实施方式，而不是意图限定本申请的实施方式。除非另有说明，这些术语应当按照其普通和通常的含义理解。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖但不排他的包含，例如，包含了一系列组件的产品或设备不必限于清楚地列出的那些组件，而是可包括没有清楚地列出的或对于这些产品或设备固有的其它组件。本申请中使用的术语“模块”，是指任何已知或后来开发的硬件、软件、固件、人工智能、模糊逻辑或硬件或/和软件代码的组合，能够执行与该元件相关的功能。随着经济的发展和社会的进步，生活中的照明系统也日趋智能化和节能化。智能照明系统能够基于无线网络，对多个照明设备进行各种智能控制和管理，实现复杂的场景控制，已经得到越来越广泛的应用。参照图1，图1为本申请实施例中提供的一种智能照明系统的架构示意图，本申请一些实施例中，该智能照明系统可以包括控制设备10与多个照明设备，如照明设备1、照明设备2、……、照明设备n。在一种可行的实施方式中，控制设备10可以是各种形式的用户设备、移动终端、无线通信设备。例如，可以是手机、PC、掌上电脑、具有无线通信功能的手持设备、计算设备或连接到无线调制解调器的其它处理设备、车载设备、可穿戴设备等，本申请实施例对此并不限定，只要该控制设备10能够与上述智能照明系统中的各个照明设备无线通信即可。上述照明设备可以为LED灯、卤素灯、节能灯等，本申请实施例对此也不限定，只要该照明设备能够与上述智能照明系统中的控制设备10无线通信、且能够执行控制设备10发送的控制指令即可。在一些实施例中，上述智能照明系统可以采用Wi-Fi，Zigbee，低能耗蓝牙等无线通信技术，以常规单播、组播或广播的方式向其中一部分或所有的照明设备发送控制指令。然而，在采用广播方式时，广播的数据包中只能携带简单统一的控制参数，且所有的照明设备均会响应，无法实现复杂的场景控制；在采用单播方式时，若需要同时控制多台照明设备，则需要分别对系统中的多台照明设备发送数据包，由此会增加网络负载；在采用组播方式时，若需要同时控制系统中的多个分组，则需要分别对系统中的多个分组发送数据包，同样会增加网络负载，进而导致网络延迟。为了解决上述技术问题，本申请实施例中提供了一种智能照明系统无线控制方法及设备，通过对控制设备广播的数据包进行改进，可以实现通过一条广播信息，控制多个照明设备中的其中一部分照明设备执行相关的场景控制，从而能够在实现复杂的场景控制时，有效降低网络负载。下面采用详细的实施例进行详细说明。参照图2，图2为本申请实施例中提供的一种智能照明系统无线控制方法的流程示意图，在本申请实施例中，上述方法包括：S201、控制设备将多个照明设备预分为至少两个分组，每个分组至少包括一个照明设备。本申请实施例中，控制设备可以根据实际使用需求，预先将多个照明设备分为至少两个分组，每个分组至少包括若干个照明设备。在将上述多个照明设备预分为至少两个分组后，控制设备为各个分组设置唯一的分组掩码。其中，在需要对单个照明设备进行控制时，也可以将单个照明设备独立划分为一个分组。其中，控制设备在将多个照明设备分为至少两个分组之后，还可以在接收到分组调整操作时，根据该分组调整操作，调整上述多个照明设备对应的分组。S202、控制设备确定当前待执行的控制任务对应的目标分组与控制参数，并根据上述控制参数与目标分组对应的目标分组掩码生成数据包。本申请实施例中，控制设备在确定当前存在待执行的控制任务时，确定该控制任务需要控制的照明设备所属的目标分组，以及该控制任务对应的控制参数。其中，当上述控制任务需要控制的照明设备为多个时，上述目标分组也可以为多个。在确定出上述目标分组之后，根据预先为各个分组设置的分组掩码，即可确定出上述目标分组对应的目标分组掩码。可选的，上述控制参数可以为亮度调节参数、色温调节参数、色彩调节参数、设备开关参数等，分别用于调节照明设备的亮度、色温、色彩，或者控制照明设备开启/关闭，以达到预期的业务场景效果。在控制设备确定当前待执行的控制任务对应的目标分组掩码与控制参数后，即可根据上述目标分组掩码与控制参数生成数据包。示例性的，参照图3，图3为本申请实施例中提供的一种数据包的封装格式示意图。在一种可行的实施方式中，上述数据包可以包括目标分组掩码、分组A控制参数、分组B控制参数、……、分组N控制参数。S203、控制设备广播上述数据包。本申请实施例中，上述各个照明设备在接收到上述数据包后，通过解析该数据包中的目标分组掩码，即可确定出自身所在的分组是否需要响应此次控制任务；如果需要，则执行上述数据包中自身所在的分组对应的控制参数；如果不需要执行，则可以丢弃接收到的数据包。本申请实施例所提供的智能照明系统无线控制方法，当需要控制多个照明设备中的其中一部分照明设备执行相关的场景控制时，通过对控制设备广播的数据包进行改进，可以实现通过一条广播信息，控制多个照明设备中的其中一部分照明设备执行相关的场景控制，不需要采用组播或者单播方式，从而能够有效降低网络负载。基于上述实施例中所描述的内容，在本申请一种可行的实施方式中，上述控制设备也可以是上述智能照明系统所建立的控制网络中的网关。上述多个照明设备也可以是上述智能照明系统所建立的控制网络中的多个网络节点。在一些实施方式中，上述智能照明系统所建立的控制网络可以是星型、树型，或MESH网络拓扑结构。可以理解的是，本申请实施例中所提供的智能照明系统无线控制方法，不仅仅只限于智能照明系统，还可以应用于其它领域，例如用于控制多台显示设备中的部分显示设备执行用户操作、用于控制多台音频设备中的部分音频设备执行用户操作等，本申请实施例中不再一一列举。参照图4，图4为本申请实施例中提供的另一种智能照明系统无线控制方法的流程示意图，在本申请实施例中，上述方法包括：S401、照明设备在接收到控制设备广播的数据包后，解析数据包中含有的目标分组掩码与控制参数。可选的，上述控制参数包括亮度调节参数、色温调节参数、色彩调节参数、设备开关参数中的至少一种。S402、照明设备根据目标分组掩码，确定自身是否属于目标分组掩码对应的分组。在一种可行的实施方式中，照明设备可以确定自身预先设置的分组掩码是否与上述目标分组掩码相同；若相同，则确定自身属于目标分组掩码对应的分组；若不相同，则确定自身不属于目标分组掩码对应的分组。S403、当照明设备属于目标分组掩码对应的分组时，执行与控制参数相关的控制操作。示例性的，当照明设备自身属于上述目标分组掩码对应的分组时，照明设备便可以根据上述控制参数，进行亮度调节、色温调节、色彩调节等。在一种可行的实施方式中，当照明设备自身不属于目标分组掩码对应的分组时，丢弃接收到的数据包，不响应任何操作。本申请实施例所提供的智能照明系统无线控制方法，照明设备可以根据接收到的数据包中的目标分组掩码，来确定是否需要执行相关控制任务，使控制设备可以通过一条广播信息，控制多个照明设备中的其中一部分照明设备执行相关的场景控制，不需要采用组播或者单播方式，能够在实现复杂的场景控制时，有效降低网络负载。为了更好的理解本申请实施例，参照图5，图5为本申请实施例中提供的一种智能照明系统无线控制方法的交互示意图。在本申请实施例中，控制设备与各个照明设备在开启并进行系统初始化之后，均开始轮询控制任务。当控制设备中触发待执行的控制任务时，确定当前待执行的控制任务对应的目标分组的目标分组掩码与控制参数，然后根据该控制参数与目标分组掩码生成数据包，并向各个照明设备广播该数据包。当照明设备在接收到控制设备广播的数据包后，解析该数据包中含有的目标分组掩码，根据该目标分组掩码，确定自身是否属于目标分组掩码对应的目标分组；若是，则解析出上述数据包中含有的控制参数，并执行与该控制参数相关的控制操作；若否，则丢弃接收到的数据包，继续轮询控制任务。即本申请实施例所提供的智能照明系统无线控制方法，可以实现通过一条广播信息，控制多个照明设备中的其中一部分照明设备执行相关的场景控制，不需要采用组播或者单播方式，便能够实现复杂的场景控制，并有效降低网络负载。基于上述实施例中所描述的内容，本申请实施例中还提供一种控制设备，应用于智能照明系统，该智能照明系统包括多个照明设备。参照图6，图6为本申请实施例中提供的一种控制设备的程序模块示意图，该控制设备包括：分组模块601，用于将多个照明设备预分为至少两个分组，每个分组至少包括一个照明设备；数据处理模块602，用于确定当前待执行的控制任务对应的目标分组与控制参数，并根据该控制参数与目标分组对应的目标分组掩码生成数据包；发送模块603，用于广播上述数据包。在一种可行的实施方式中，分组模块601还用于：为各个分组设置唯一的分组掩码。在一种可行的实施方式中，分组模块601还用于：在接收到分组调整操作时，根据该分组调整操作，调整多个照明设备对应的分组。本申请实施例所提供的控制设备，通过对广播的数据包进行改进，可以实现通过一条广播信息，控制多个照明设备中的其中一部分照明设备执行相关的场景控制，从而能够在实现复杂的场景控制时，有效降低网络负载。需要说明的是，本申请实施例中的分组模块601、数据处理模块602、发送模块603具体执行的内容可以参阅图2至图5所示实施例中相关内容，此处不做赘述。基于上述实施例中所描述的内容，本申请实施例中还提供一种照明设备，应用于智能照明系统，该智能照明系统包括控制设备。参照图7，图7为本申请实施例中提供的一种照明设备的程序模块示意图，该照明设备包括：解析模块701，用于在接收到控制设备广播的数据包后，解析该数据包中含有的目标分组掩码与控制参数。判断模块702，用于根据目标分组掩码，确定照明设备是否属于目标分组掩码对应的分组。执行模块703，用于当照明设备属于目标分组掩码对应的分组时，执行与控制参数相关的控制操作。在一种可行的实施方式中，执行模块703还用于：当照明设备不属于目标分组掩码对应的分组时，丢弃接收到的数据包。在一种可行的实施方式中，判断模块702具体用于：确定照明设备自身预先设置的分组掩码是否与目标分组掩码相同；若相同，则确定照明设备属于目标分组掩码对应的分组；若不相同，则确定照明设备不属于目标分组掩码对应的分组。本申请实施例所提供的照明设备，可以根据接收到的数据包中的目标分组掩码，来确定是否需要执行相关控制任务，使控制设备可以通过一条广播信息，控制多个照明设备中的其中一部分照明设备执行相关的场景控制，不需要采用组播或者单播方式，能够在实现复杂的场景控制时，有效降低网络负载。需要说明的是，本申请实施例中的解析模块701、判断模块702、执行模块703具体执行的内容可以参阅图2至图5所示实施例中相关内容，此处不做赘述。在本申请所提供的几个实施例中，应该理解到，所揭露的设备和方法，可以通过其它的方式实现。例如，以上所描述的设备实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个模块可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或模块的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能模块可以集成在一个处理单元中，也可以是各个模块单独物理存在，也可以两个或两个以上模块集成在一个单元中。上述模块集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能单元的形式实现。上述以软件功能模块的形式实现的集成的模块，可以存储在一个计算机可读取存储介质中。上述软件功能模块存储在一个存储介质中，包括若干指令用以使得一台计算机设备或处理器执行本申请各个实施例所述方法的部分步骤。应理解，上述处理器可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合申请所公开的方法的步骤可以直接体现为硬件处理器执行完成，或者用处理器中的硬件及软件模块组合执行完成。存储器可能包含高速RAM存储器，也可能还包括非易失性存储NVM，例如至少一个磁盘存储器，还可以为U盘、移动硬盘、只读存储器、磁盘或光盘等。总线可以是工业标准体系结构总线、外部设备互连总线或扩展工业标准体系结构总线等。总线可以分为地址总线、数据总线、控制总线等。为便于表示，本申请附图中的总线并不限定仅有一根总线或一种类型的总线。上述存储介质可以是由任何类型的易失性或非易失性存储设备或者它们的组合实现，如静态随机存取存储器，电可擦除可编程只读存储器，可擦除可编程只读存储器，可编程只读存储器，只读存储器，磁存储器，快闪存储器，磁盘或光盘。存储介质可以是通用或专用计算机能够存取的任何可用介质。一种示例性的存储介质耦合至处理器，从而使处理器能够从该存储介质读取信息，且可向该存储介质写入信息。当然，存储介质也可以是处理器的组成部分。处理器和存储介质可以位于专用集成电路中。当然，处理器和存储介质也可以作为分立组件存在于电子设备或主控设备中。本领域普通技术人员可以理解：实现上述各方法实施例的全部或部分步骤可以通过程序指令相关的硬件来完成。前述的程序可以存储于一计算机可读取存储介质中。该程序在执行时，执行包括上述各方法实施例的步骤；而前述的存储介质包括：ROM、RAM、磁碟或者光盘等各种可以存储程序代码的介质。最后应说明的是：以上各实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述各实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围。
