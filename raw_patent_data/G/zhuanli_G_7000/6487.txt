标题title
一种网点内客户行动轨迹确定方法及装置
摘要abst
本发明具体公开了一种网点内客户行动轨迹确定方法及装置，其中，方法包括使用多个坐标点将网点的监控画面圈画出多个多边形区域，获取每个区域的特征信息；利用网点的全部监控对进入网点的客户进行客户特征的采集，将网点内的全部监控画面作为基准库数据样本；采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，识别结果包括有与多边形区域的特征信息相对应的信息；根据识别结果，将其与每个区域的特征信息进行对比，确认客户的所在区域；获取客户在该区域的停留时间，计算出其行动轨迹。该方法能够实现监控画面的区域划分，实现了跨镜头追踪，同时弥补在缺乏人脸支持下的身份重识别，从而使得客户的行动轨迹的确定更为精准。
权利要求书clms
1.一种网点内客户行动轨迹确定方法，其特征在于，包括以下步骤：使用多个坐标点将网点的监控画面圈画出多个多边形区域，获取每个区域的特征信息；利用网点的全部监控对进入网点的客户进行客户特征的采集，将网点内的全部监控画面作为基准库数据样本；采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，所述识别结果包括有与多边形区域的特征信息相对应的信息；根据识别结果，将其与每个区域的特征信息进行对比，确认客户的所在区域；获取客户在该区域的停留时间，计算出其行动轨迹；将得到的行动轨迹进行显示。2.根据权利要求1所述的一种网点内客户行动轨迹确定方法，其特征在于，所述客户特征包括但不局限于人脸、身形或者客户携带的物品；所述采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，所述识别结果包括有与多边形区域的特征信息相对应的信息包括：利用线程1对基准库数据样本中的人脸进行识别；利用线程2对基准库数据样本中的身形进行识别；利用线程3对基准库数据样本中的客户携带的物品进行识别。3.根据权利要求1所述的一种网点内客户行动轨迹确定方法，其特征在于，在所述采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，所述识别结果包括有与多边形区域的特征信息相对应的信息之后将识别结果根据画面上记录的时间进行排序，形成队列，利用单线程处理识别结果。4.根据权利要求2所述的一种网点内客户行动轨迹确定方法，其特征在于，所述身形的采集包括动态身形的采集，获取各种不同角度下的身形并将其作为基准库数据样本。5.根据权利要求3所述的一种网点内客户行动轨迹确定方法，其特征在于，还包括对基准库数据样本进行剔除操作，将识别率低的基准库数据样本剔除。6. 根据权利要求1所述的一种网点内客户行动轨迹确定方法，其特征在于，所述将得到的行动轨迹进行显示的具体操作步骤为使用B/S架构、WEB作为前端操作和展示界面，为用户提供行动轨迹数据展示界面。7.一种网点内的行动轨迹确定装置，其特征在于，包括划分区域单元，用于对网点内的监控画面进行划分形成多个多边形区域，并记录区域坐标；采集单元，用于采集网点内客户的人脸、身形以及所携带的物品，并将采集到客户的特征的监控画面配置成基准库数据样本；多线程识别单元，用于对基准库数据样本中客户的人脸、身形以及所携带的物品进行识别，得到识别结果，其中，所述识别结果包括客户的所在坐标；处理单元，用于根据客户的所在坐标确认其所在区域，并统计客户在该区域的停留时间，计算出行动轨迹；显示单元，用于将客户的行动轨迹进行显示。8.根据权利要求7所述的一种网点内的行动轨迹确定装置，其特征在于，还包括单线程单元，用于根据监控画面采集的时间对识别结果进行处理。9.根据权利要求7所述的一种网点内的行动轨迹确定装置，其特征在于，还包括画面处理单元，用于剔除所述基准库数据样本识别率低的样本。
说明书desc
技术领域本发明涉及图像处理技术领域，具体涉及一种网点内客户行动轨迹确定方法及装置。背景技术随着近年来智能终端设备的快速普及和移动互联网的迅猛发展，大众行为模式发生了显著的变化，在金融消费、支付服务领域体现得尤为明显，但在此基础上，设备终端的智能化最大的作用仅在于缩减柜面、降低人力资源成本及其他成本，相对于网上支付、手机银行等快捷服务方式，营业网点的智能化仍未解决客户体验的诸多问题。现有的网点监控方式存在如下不足：1、不支持对网点内部不同监控画面进行区域划分；2、在拍摄不到人脸的情况下，不支持对不同监控画面中的人进行身份重识别；3、不支持对进入网点的客户进行跨镜头追踪。针对上述技术存在的客户行动轨迹精准度不高的问题，为此，我们提出了一种网点内客户行动轨迹确定方法及装置来解决以上问题。发明内容本发明所要解决的技术问题是提供一种网点内客户行动轨迹确定方法及装置，以实现对监控画面进行区域划分、跨镜头跟踪以及身份重识别，提高确定客户的行动轨迹的精准度。根据本发明实施例的一个方面，提供一种网点内客户行动轨迹确定方法，包括以下步骤：使用多个坐标点将网点的监控画面圈画出多个多边形区域，获取每个区域的特征信息；利用网点的全部监控对进入网点的客户进行客户特征的采集，将网点内的全部监控画面作为基准库数据样本；采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，所述识别结果包括有与多边形区域的特征信息相对应的信息；根据识别结果，将其与每个区域的特征信息进行对比，确认客户的所在区域；获取客户在该区域的停留时间，计算出其行动轨迹；将得到的行动轨迹进行显示。进一步地，所述客户特征包括但不局限于人脸、身形或者客户携带的物品；所述采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，所述识别结果包括有与多边形区域的特征信息相对应的信息包括：利用线程1对基准库数据样本中的人脸进行识别；利用线程2对基准库数据样本中的身形进行识别；利用线程3对基准库数据样本中的客户携带的物品进行识别。进一步地，在所述采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，所述识别结果包括有与多边形区域的特征信息相对应的信息之后将识别结果根据画面上记录的时间进行排序，形成队列，利用单线程处理识别结果。进一步地，所述身形的采集包括动态身形的采集，获取各种不同角度下的身形并将其作为基准库数据样本。进一步地，还包括对基准库数据样本进行剔除操作，将识别率低的基准库数据样本剔除。进一步地，所述将得到的行动轨迹进行显示的具体操作步骤为使用B/S架构、WEB作为前端操作和展示界面，为用户提供行动轨迹数据展示界面。根据本发明实施例的另一个方面，还提供一种网点内客户行动轨迹确定装置，包括划分区域单元、采集单元、多线程识别单元、处理单元以及处理单元。其中，划分区域单元，用于对网点内的监控画面进行划分形成多个多边形区域，并记录区域坐标。采集单元，用于采集网点内客户的人脸、身形以及客户携带的物品，并将采集到人脸、身形以及客户携带的物品的监控画面配置成基准库数据样本。多线程识别单元，用于对基准库数据样本中客户的人脸、身形以及客户携带的物品进行识别，得到识别结果，其中，所述识别结果包括客户的所在坐标。处理单元，用于根据客户的所在坐标确认其所在区域，并统计客户在该区域的停留时间，计算出行动轨迹。显示单元，用于将客户的行动轨迹进行显示。进一步地，还包括单线程单元，用于根据监控画面采集的时间对识别结果进行排序。进一步地，还包括画面处理单元，用于剔除所述基准库数据样本识别率低的样本。与现有技术相比，本发明的有益效果：本申请中，根据多个坐标点将网点的监控画面圈画出多个多边形区域，实现监控画面的区域划分，利用多线程对网点内的全部监控画面进行客户特征的识别，实现了跨镜头追踪，同时对跨镜的客户使用人脸识别和身形识别技术相结合，弥补在缺乏人脸支持下的身份重识别，从而使得客户的行动轨迹的确定更为精准，而且还为网点提供客户行动轨迹数据展示界面，提高网点的经营质量。附图说明图1为本发明提供的一种网点内客户行动轨迹确定方法的流程框图。具体实施方式现在结合附图对本发明作进一步详细的说明。这些附图均为简化的示意图，仅以示意方式说明本发明的基本结构，因此其仅显示与本发明有关的构成。在本发明中，需要说明的是，术语“上”、“下”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制；术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性；此外，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。实施例1本申请实施例的一种网点内客户行动轨迹确定方法，通过使用多个坐标点将网点的监控画面圈画出多个多边形区域，获取每个区域的特征信息；进一步，利用网点的全部监控对进入网点的客户进行客户特征的采集，将网点内的全部监控画面作为基准库数据样本；采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，识别结果包括有与多边形区域的特征信息相对应的信息；根据识别结果，将其与每个区域的特征信息进行对比，确认客户的所在区域；获取客户在该区域的停留时间，计算出其行动轨迹；进而将得到的行动轨迹进行显示。本申请中，根据多个坐标点将网点的监控画面圈画出多个多边形区域，实现监控画面的区域划分，利用多线程对网点内的全部监控画面进行客户特征的识别，实现了跨镜头追踪，同时对跨镜的客户使用人脸识别和身形识别技术相结合，弥补在缺乏人脸支持下的身份重识别，从而使得客户的行动轨迹的确定更为精准，而且还为网点提供客户行动轨迹数据展示界面，提高网点的经营质量。下面参考附图描述本申请实施例的网点内客户行动轨迹确定方法和装置。图1为本申请实施例1所提供的一种网点内客户行动轨迹确定方法的流程示意图。本申请实施例以该网点内客户行动轨迹确定方法被配置于网点内客户行动轨迹确定装置中来举例说明，如图1所示，该网点内客户行动轨迹确定方法可以包括以下步骤：步骤10，使用多个坐标点将网点的监控画面圈画出多个多边形区域，获取每个区域的特征信息。本申请实施例中，可以通过高清的摄像头作为监控设备，来获取监控画面。具体地，将获取到的监控画面同步传输至计算机设备，可以使用计算机设备来将网点的监控画面划分出多个多边形区域，具体操作为使用多个坐标点将网点的监控画面圈画出多个多边形区域，其中，区域的特征信息可以为区域坐标。步骤20，利用网点的全部监控对进入网点的客户进行客户特征的采集，将网点内的全部监控画面作为基准库数据样本。本申请实施例中，客户特征包括但不局限于人脸、身形或者客户携带的物品。步骤30，采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，所述识别结果中包括有与多边形区域的特征信息相对应的信息。具体地，客户特征包括但不局限于人脸、身形或者客户携带的物品，利用线程1对基准库数据样本中的人脸进行识别；利用线程2对基准库数据样本中的身形进行识别；利用线程3对基准库数据样本中的客户携带的物品进行识别，利用多线程技术识别，加速了识别过程，提高了识别效率。此外，身形的采集包括动态身形的采集，获取各种不同角度下的身形并将其作为基准库数据样本。本申请实施例中，多边形区域的特征信息指的是区域坐标，相应的，识别结果包括客户所在的坐标。需要说明的是，在识别之前，对基准库数据样本进行剔除操作，将识别率低的基准库数据样本剔除，这样能够获取识别率较高的基准库数据样本，从而保证了后续的识别精度和效果。作为一种可能的实现方式，对基准库数据样本进行剔除操作，可以基于常规的图像处理技术，剔除识别率低的基准库数据样本。作为另一种可能的实现方式，对基准库数据样本进行剔除操作，可以基于深度学习的图像处理技术，剔除识别率低的基准库数据样本，具体地，可以预先获取大量基准库数据样本画面图像，并对基准库数据样本画面图像中识别率较低的样本图像进行标注，利用标注后的样本图像，对剔除模型进行训练，并利用训练后的剔除模型，对对基准库数据样本进行剔除，即可剔除出来识别率低的基准库数据样本，运用深度学习的图像处理技术，形成训练好的剔除模型，可以提高效率，更为快速地将识别率低的基准库数据样本剔除出来。步骤40，根据识别结果，将其与每个区域的特征信息进行对比，确认客户的所在区域。在本实施例中，识别结果包括客户所在的坐标，每个区域的特征信息包括区域坐标，将客户所在的坐标和区域坐标相对比，从而确定客户的区域。在本申请实施例中，在采用多线程对基准库数据样本进行客户特征的识别，得到识别结果，其中，所述识别结果与多边形区域的特征信息相对应之后进行步骤50，将识别结果根据画面上记录的时间进行排序，形成队列，利用单线程处理识别结果。通过对网点所有监控画面的识别结果基于画面采集的时间进行排序，能够弥补不同摄像头画面的时间差。步骤60，获取客户在该区域的停留时间，计算出其行动轨迹，并将得到的行动轨迹进行显示。其中，客户在该区域的停留时间的获取是根据客户进去该区域的时间和离开该区域的时间，将二者进行作差运算，得到停留时间。步骤70，将得到的行动轨迹进行显示。具体为，使用B/S架构、WEB作为前端操作和展示界面，为用户提供行动轨迹数据展示界面，能够获取到客户进入不同区域的次数统计和在该区域停留时长的统计。根据本发明实施例的另一个方面，还提供一种网点内客户行动轨迹确定装置，包括划分区域单元、采集单元、多线程识别单元、处理单元以及处理单元。其中，划分区域单元，用于对网点内的监控画面进行划分形成多个多边形区域，并记录区域坐标。采集单元，用于采集网点内客户的人脸、身形以及客户携带的物品，并将采集到人脸、身形以及客户携带的物品的监控画面配置成基准库数据样本。多线程识别单元，用于对基准库数据样本中的人脸、身形以及客户携带的物品进行识别，得到识别结果，其中，所述识别结果包括客户的所在坐标。处理单元，用于根据客户的所在坐标确认其所在区域，并统计客户在该区域的停留时间，计算出行动轨迹。显示单元，用于将客户的行动轨迹进行显示。在一些实施方式中，本实施例提供的网点内客户行动轨迹确定装置画面处理单元，用于将基准库数据样本中识别率低的样本进行剔除。在一些实施方式中，本实施例提供的网点内客户行动轨迹确定装置还包括单线程单元，用于根据监控画面采集的时间对识别结果进行排序。在本说明书的描述中，参考术语“实施方式”、“某些实施方式”、“示意性实施方式”、“示例”、“具体示例”、或“一些示例”等的描述意指结合所述实施方式或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施方式或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施方式或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施方式或示例中以合适的方式结合。以上显示和描述了本发明的基本原理和主要特征和本发明的优点 ,对于本领域技术人员而言，显然本发明不限于上述示范性实施例的细节，而且在不背离本发明的精神或基本特征的情况下，能够以其他的具体形式实现本发明。因此，无论从哪一点来看，均应将实施例看作是示范性的，而且是非限制性的，本发明的范围由所附权利要求而不是上述说明限定，因此旨在将落在权利要求的等同要件的含义和范围内的所有变化囊括在本发明内。不应将权利要求中的任何附图标记视为限制所涉及的权利要求。此外，应当理解，虽然本说明书按照实施方式加以描述，但并非每个实施方式仅包含一个独立的技术方案，说明书的这种叙述方式仅仅是为清楚起见，本领域技术人员应当将说明书作为一个整体，各实施例中的技术方案也可以经适当组合，形成本领域技术人员可以理解的其他实施方式。
