标题title
仪表盘数值识别方法、装置、设备及存储介质
摘要abst
本发明涉及数据采集技术领域，尤其涉及一种仪表盘数值识别方法、装置、设备及存储介质，该方法包括：获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个指针刻度圆的圆心坐标确定待识别表盘的圆心坐标；获取目标指针的指针图像，并基于指针图像、目标指针刻度圆的圆心坐标和待识别表盘的圆心坐标确定目标指针的偏差夹角；根据偏差夹角确定标准修正值，并根据指针图像获得目标指针的初始识别数值；基于标准修正值对初始识别数值进行修正，并将修正结果作为目标指针的识别结果，相比于现有的识别，本发明能根据偏差夹角对初始识别数值进行修正，提升了数值识别准确度。
权利要求书clms
1.一种仪表盘数值识别方法，其特征在于，所述方法包括以下步骤：获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标；获取目标指针的指针图像，并基于所述指针图像、目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定所述目标指针的偏差夹角；根据所述偏差夹角确定标准修正值，并根据所述指针图像获得所述目标指针的初始识别数值；基于所述标准修正值对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。2.如权利要求1所述的仪表盘数值识别方法，其特征在于，所述根据所述偏差夹角确定标准修正值的步骤，包括：根据所述偏差夹角通过预设正弦曲线获得修正加权值；根据所述修正加权值获取对应的预设修正最大值，并根据所述修正加权值和所述修正最大值确定标准修正值。3.如权利要求2所述的仪表盘数值识别方法，其特征在于，所述根据所述修正加权值获取对应的预设修正最大值，并根据所述修正加权值和所述修正最大值确定标准修正值的步骤之后，还包括：根据所述偏差夹角确定对应的夹角区间，并根据所述夹角区间确定修正方向；相应地，所述基于所述标准修正值对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果的步骤，包括：基于所述标准修正值和所述修正方向对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。4.如权利要求3所述的仪表盘数值识别方法，其特征在于，所述根据所述偏差夹角确定对应的夹角区间，并根据所述夹角区间确定修正方向的步骤，包括：若所述偏差夹角对应的夹角区间为0°至180°区间，则修正方向为顺时针方向；若所述偏差夹角对应的夹角区间为180°至360°区间，则修正方向为逆时针方向。5.如权利要求1至4中任一项所述的仪表盘数值识别方法，其特征在于，所述获取目标指针的指针图像，并基于所述指针图像、目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定所述目标指针的偏差夹角的步骤，包括：获取目标指针的指针图像，并根据所述指针图像确定所述目标指针的指针射线；基于目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定基准线；根据所述基准线和所述指针射线确定所述目标指针的偏差夹角。6.如权利要求1所述的仪表盘数值识别方法，其特征在于，所述获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标的步骤之前，还包括：获取待识别表盘图像，并通过预设刻度圆检测模型获取所述待识别表盘图像中所有指针刻度圆；从所述所有指针刻度圆中选取预设数量的指针刻度圆；相应地，所述获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标的步骤，包括：获取选中的指针刻度圆的圆心坐标；根据所述选中的指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标。7.如权利要求6所述的仪表盘数值识别方法，其特征在于，所述获取待识别表盘图像，并通过预设刻度圆检测模型获取所述待识别表盘图像中所有指针刻度圆的步骤，包括：获取待识别表盘图像，并通过预设刻度圆检测模型根据所述待识别表盘图像建立三维参数空间；对所述三维参数空间中各单元进行投票，并根据投票结果获取所述待识别表盘图像中所有指针刻度圆。8.一种仪表盘数值识别装置，其特征在于，所述装置包括：坐标获取模块，用于获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标；夹角确定模块，用于获取目标指针的指针图像，并基于所述指针图像、目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定所述目标指针的偏差夹角；数值获取模块，用于根据所述偏差夹角确定标准修正值，并根据所述指针图像获得所述目标指针的初始识别数值；数值修正模块，用于基于所述标准修正值对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。9.一种仪表盘数值识别设备，其特征在于，所述设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的仪表盘数值识别程序，所述仪表盘数值识别程序配置为实现如权利要求1至7任一项所述的仪表盘数值识别方法的步骤。10.一种存储介质，其特征在于，所述存储介质上存储有仪表盘数值识别程序，所述仪表盘数值识别程序被处理器执行时实现如权利要求1至7任一项所述的仪表盘数值识别方法的步骤。
说明书desc
技术领域本发明涉及数据采集技术领域，尤其涉及一种仪表盘数值识别方法、装置、设备及存储介质。背景技术目前，在供水管道中安装了大量的机械水表，其表盘度数的采集方式广泛为采用摄像直读AI识别方式，通过安装于表盘上方的识别仪直接拍摄表盘图片，再上报至服务器进行识别。但现有的机械水表中由于刻度线是印在表盘面板上，指针则是采用按压方式固定在传动齿轮顶端，面板与指针之间存在一定高度间隙，而摄像头一般安装于机械水表的仪表盘中心上方，进而导致摄像头拍摄指针时，存在一定的拍摄角度，数值识别准确度较低。上述内容仅用于辅助理解本发明的技术方案，并不代表承认上述内容是现有技术。发明内容本发明的主要目的在于提供了一种仪表盘数值识别方法、装置、设备及存储介质，旨在解决现有技术中拍摄机械水表指针时，由于高度间隙导致数值识别准确度较低的技术问题。为实现上述目的，本发明提供了一种仪表盘数值识别方法，所述方法包括以下步骤：获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标；获取目标指针的指针图像，并基于所述指针图像、目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定所述目标指针的偏差夹角；根据所述偏差夹角确定标准修正值，并根据所述指针图像获得所述目标指针的初始识别数值；基于所述标准修正值对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。可选地，所述根据所述偏差夹角确定标准修正值的步骤，包括：根据所述偏差夹角通过预设正弦曲线获得修正加权值；根据所述修正加权值获取对应的预设修正最大值，并根据所述修正加权值和所述修正最大值确定标准修正值。可选地，所述根据所述修正加权值获取对应的预设修正最大值，并根据所述修正加权值和所述修正最大值确定标准修正值的步骤之后，还包括：根据所述偏差夹角确定对应的夹角区间，并根据所述夹角区间确定修正方向；相应地，所述基于所述标准修正值对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果的步骤，包括：基于所述标准修正值和所述修正方向对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。可选地，所述根据所述偏差夹角确定对应的夹角区间，并根据所述夹角区间确定修正方向的步骤，包括：若所述偏差夹角对应的夹角区间为0°至180°区间，则修正方向为顺时针方向；若所述偏差夹角对应的夹角区间为180°至360°区间，则修正方向为逆时针方向。可选地，所述获取目标指针的指针图像，并基于所述指针图像、目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定所述目标指针的偏差夹角的步骤，包括：获取目标指针的指针图像，并根据所述指针图像确定所述目标指针的指针射线；基于目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定基准线；根据所述基准线和所述指针射线确定所述目标指针的偏差夹角。可选地，所述获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标的步骤之前，还包括：获取待识别表盘图像，并通过预设刻度圆检测模型获取所述待识别表盘图像中所有指针刻度圆；从所述所有指针刻度圆中选取预设数量的指针刻度圆；相应地，所述获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标的步骤，包括：获取选中的指针刻度圆的圆心坐标；根据所述选中的指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标。可选的，所述获取待识别表盘图像，并通过预设刻度圆检测模型获取所述待识别表盘图像中所有指针刻度圆的步骤，包括：获取待识别表盘图像，并通过预设刻度圆检测模型根据所述待识别表盘图像建立三维参数空间；对所述三维参数空间中各单元进行投票，并根据投票结果获取所述待识别表盘图像中所有指针刻度圆。此外，为实现上述目的，本发明还提出一种仪表盘数值识别装置，所述装置包括：坐标获取模块，用于获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标；夹角确定模块，用于获取目标指针的指针图像，并基于所述指针图像、目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定所述目标指针的偏差夹角；数值获取模块，用于根据所述偏差夹角确定标准修正值，并根据所述指针图像获得所述目标指针的初始识别数值；数值修正模块，用于基于所述标准修正值对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。此外，为实现上述目的，本发明还提出一种仪表盘数值识别设备，所述设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的仪表盘数值识别程序，所述仪表盘数值识别程序配置为实现如上文所述的仪表盘数值识别方法的步骤。此外，为实现上述目的，本发明还提出一种存储介质，所述存储介质上存储有仪表盘数值识别程序，所述仪表盘数值识别程序被处理器执行时实现如上文所述的仪表盘数值识别方法的步骤。本发明是通过获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标；获取目标指针的指针图像，并基于所述指针图像、目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定所述目标指针的偏差夹角；根据所述偏差夹角确定标准修正值，并根据所述指针图像获得所述目标指针的初始识别数值；基于所述标准修正值对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。由于本发明先确定待识别表盘的圆心坐标，再基于目标指针的指针图像、目标指针刻度圆的圆心坐标以及待识别表盘的圆心坐标确定目标指针与目标指针刻度圆的圆心坐标和待识别表盘的圆心坐标的连线之间的偏差夹角，根据偏差夹角确定标准修正值，并根据指针图像获得指针当前的初始识别数值，最后基于标准修正值对初始识别数值进行修正，将修正结果作为目标指针的识别结果，相比于现有的识别，本发明能根据偏差夹角对初始识别数值进行修正，提升了数值识别准确度。附图说明图1为本发明实施例方案涉及的硬件运行环境的仪表盘数值识别设备结构示意图；图2为本发明仪表盘数值识别方法第一实施例的流程示意图；图3为本发明仪表盘数值识别方法中待识别表盘的示意图；图4为本发明仪表盘数值识别方法第二实施例的流程示意图；图5为本发明仪表盘数值识别方法第三实施例的流程示意图；图6为本发明仪表盘数值识别装置第一实施例的结构框图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。参照图1，图1为本发明实施例方案涉及的硬件运行环境的仪表盘数值识别设备结构示意图。如图1所示，该仪表盘数值识别设备可以包括：处理器1001，例如中央处理器，通信总线1002、用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口接口）。存储器1005可以是高速的随机存取存储器，也可以是稳定的非易失性存储器，例如磁盘存储器。存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图1中示出的结构并不构成对仪表盘数值识别设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如图1所示，作为一种存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及仪表盘数值识别程序。在图1所示的仪表盘数值识别设备中，网络接口1004主要用于与网络服务器进行数据通信；用户接口1003主要用于与用户进行数据交互；本发明仪表盘数值识别设备中的处理器1001、存储器1005可以设置在仪表盘数值识别设备中，所述仪表盘数值识别设备通过处理器1001调用存储器1005中存储的仪表盘数值识别程序，并执行本发明实施例提供的仪表盘数值识别方法。本发明实施例提供了一种仪表盘数值识别方法，参考图2，图2为本发明仪表盘数值识别方法第一实施例的流程示意图。本实施例中，所述仪表盘数值识别方法包括以下步骤：步骤S10：获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标。需要说明的是，本实施例方法可以是应用在对仪表盘的数值进行识别的场景中，或者其它需要对数值进行识别的场景中。本实施例的执行主体可以是具有数据处理、网络通信以及程序运行功能的仪表盘数值识别设备，例如仪表数值读取设备等，或者是其它能够实现如同或相似功能的设备。此处以上述仪表盘数值识别设备对本实施例和下述各实施例进行具体说明。可理解的是，上述待识别表盘可以是机械水表的表盘，也可以是其它用于计量的表盘，本实施例中采用上述机械水表的表盘进行举例说明。应理解的是，为了使计量的范围较大，在本实施例中上述机械水表内可设置有多个指针刻度圆，每个指针刻度圆代表一个计数单位，例如，若某机械水表上设置有四个指针刻度圆，即四个指针刻度圆分别代表“个、十、百、千”四个计数单位。需要解释的是，每个指针刻度圆的面积大小均可相同，每个指针刻度圆内均存在一个圆心，为了便于理解，参照图3进行说明，图3为本发明仪表盘数值识别方法中待识别表盘的示意图。如图3所示，待识别表盘中设置有八个指针刻度圆，每个指针刻度圆的面积均相同，将待识别表盘的圆心标记为O，按顺时针方向，每个指针刻度圆的圆心分别标记为O1、O2、O3、O4、O5、O6、O7、O8。在本实施例中，可将上述待识别表盘的圆心O作为直角坐标系的原点，待识别表盘的圆心O的坐标即为上述待识别表盘的圆心坐标，O1、O2、O3、O4、O5、O6、O7、O8对应的坐标均可以是各指针刻度圆的圆心坐标。可理解的是，上述多个指针刻度圆的圆心坐标可以是三个指针刻度圆的圆心坐标，也可以是三个以上的指针刻度圆的圆心坐标，本实施例不加以限制，若上述多个指针刻度圆的圆心坐标为三个指针刻度圆的圆心坐标时，则可采用三点求圆的方式获得待识别表盘的圆心坐标。在具体实现中，上述设备可基于上述待识别表盘建立直角坐标系，并获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个上述指针刻度圆的圆心坐标确定待识别表盘的圆心坐标。步骤S20：获取目标指针的指针图像，并基于所述指针图像、目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定所述目标指针的偏差夹角。需要说明的是，上述目标指针的指针图像可通过摄像头获取，在本实施例中，可在上述待识别表盘的圆心坐标上方设置一个摄像头，通过摄像头拍摄待识别表盘，进而可获得目标指针的指针图像。应理解的是，上述偏差夹角可以是代表目标指针偏转度的夹角，进一步地，具体流程为：上述步骤S20，包括：步骤S21：获取目标指针的指针图像，并根据所述指针图像确定所述目标指针的指针射线；需要说明的是，上述目标指针的指针图像可以是能代表目标指针指示情况的图像，若上述设备需识别某一个目标指针的数值，则上述设备可将通过摄像头拍摄对应的待识别表盘图像进行分割，获得目标指针所处区域的图像作为上述目标指针的指针图像。可理解的是，上述目标指针的指针射线可以是目标指针刻度圆的圆心坐标与目标指针之间的直线，为了便于理解，继续参照图3进行说明，如图3所示，图3中指针刻度圆的圆心O6与其指针62之间的连线即为上述指针射线，由于上述摄像头拍摄时，拍摄到的图像为指针62的情形。步骤S22：基于目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定基准线；应理解的是，上述基准线可以是目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标之间的连线，继续如图3所示，图3中指针刻度圆的圆心O6与待识别表盘的圆心O之间的连线即为上述基准线。步骤S23：根据所述基准线和所述指针射线确定所述目标指针的偏差夹角。需要强调的是，上述偏差夹角可以是上述基准线和所述指针射线之间的夹角，如图3所示，若上述目标指针刻度圆的圆心为O1，则偏差夹角为图3中的θ1，若上述目标指针刻度圆的圆心为O6，则偏差夹角为图3中的θ2。在具体实现中，上述设备可获取目标指针的指针图像，并根据获得的指针图像确定目标指针的指针射线，基于目标指针刻度圆的圆心坐标和待识别表盘的圆心坐标确定基准线，再确定基准线与指针射线之间的夹角，并将该夹角作为目标指针的偏差夹角。步骤S30：根据所述偏差夹角确定标准修正值，并根据所述指针图像获得所述目标指针的初始识别数值。需要说明的是，由于本实施例中的摄像头安装在上述待识别表盘的圆心O处上方，则待识别表盘的圆心O与摄像头的拍摄方向处于同一直线，进而指针刻度圆的圆心O1、O2、O3、O4、O5、O6、O7、O8相对于摄像头的拍摄方向均存在一定的角度差，如图3所示，指针11、指针21、指针31、指针41、指针51、指针61、指针71和指针81均为不存在角度差时的指针状态，此时指针对应的数值为正确数值，但由于存在一定角度差，进而摄像头拍摄的指针状态应为指针12、指针22、指针32、指针42、指针52、指针62、指针72和指针82对应的状态，因此摄像头拍摄的各指针刻度圆中的指针所指数值与真实数值并不相符。可理解的是，上述初始识别数值即为上述摄像头拍摄的各指针刻度圆中的指针所指数值，上述标准修正值可以用于对初始识别数值进行修正，获得真实数值。在具体实现中，上述设备可根据偏差夹角确定标准修正值，并根据指针图像获得目标指针的初始识别数值。步骤S40：基于所述标准修正值对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。应理解的是，上述修正结果即为上述真实数值，由于上述初始识别数值与真实数值之间存在一定规律，进而可通过修正的方式获得真实数值。本实施例上述设备可基于上述待识别表盘建立直角坐标系，并获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个上述指针刻度圆的圆心坐标确定待识别表盘的圆心坐标；获取目标指针的指针图像，并根据获得的指针图像确定目标指针的指针射线，基于目标指针刻度圆的圆心坐标和待识别表盘的圆心坐标确定基准线，再确定基准线与指针射线之间的夹角，并将该夹角作为目标指针的偏差夹角；根据偏差夹角确定标准修正值，并根据指针图像获得目标指针的初始识别数值；最后通过标准修正值对初始识别数值进行修正，并将修正结果作为目标指针的识别结果，相比于现有的识别，本实施例能根据偏差夹角对初始识别数值进行修正，提升了数值识别准确度。参考图4，图4为本发明仪表盘数值识别方法第二实施例的流程示意图。为了根据偏差夹角确定标准修正值，如图4所示，基于上述实施例，在本实施例中，上述根据所述偏差夹角确定标准修正值的步骤，包括：步骤S31：根据所述偏差夹角通过预设正弦曲线获得修正加权值。需要说明的是，上述预设正弦曲线可以是正弦函数曲线，正弦函数曲线的每个角度均对应有一个正弦数值，上述正弦数值即为修正加权值，例如偏差夹角为90°，90°对应的正弦函数值为1，则上述修正加权值为1。在具体实现中，上述设备可将偏差夹角代入预设正弦曲线函数中，获得对应的修正加权值。步骤S32：根据所述修正加权值获取对应的预设修正最大值，并根据所述修正加权值和所述修正最大值确定标准修正值。可理解的是，上述预设修正最大值可预先进行标注，例如在本实施例中，如图3所示，图3中的指针刻度圆的最小分度值为1，如在对指针刻度圆的圆心O6的指针进行读数时，由于指针61处于9和0之间，指针62处于0上，进而上述初始识别数值为0，而将上述偏差夹角θ2代入上述预设正弦曲线函数中，获得对应的修正加权值，然后将修正加权值与上述预设修正最大值相乘，进而修正后的结果为9；再如在对指针刻度圆的圆心O3的指针进行读数时，由于指针31处于0和1之间，指针32处于9和0之间，进而上述初始识别数值为9，而将上述偏差夹角θ1代入上述预设正弦曲线函数中，获得对应的修正加权值，获得对应的修正加权值，然后将修正加权值与上述预设修正最大值相乘，进而修正后的结果为0。在具体实现中，上述设备可根据偏差夹角通过预设正弦曲线获得修正加权值，并根据修正加权值获取对应的预设修正最大值，最后根据修正加权值和修正最大值确定标准修正值。进一步地，考虑到不同偏差夹角对应的指针偏差的数值不同，在本实施例中，上述步骤S32之后，还包括：步骤S33：根据所述偏差夹角确定对应的夹角区间，并根据所述夹角区间确定修正方向。需要说明的是，如图3所示，当偏差夹角为90°或270°时，指针产生的偏差最大，当偏差夹角为0°或180°时，偏差数值为0，当偏差夹角对应的夹角区间为0°至180°区间时，上述修正方向则为顺时针方向，当偏差夹角对应的夹角区间为180°至360°区间时，则修正方向为逆时针方向。可理解的是，如图3所示，根据指针12、指针22、指针32、指针42、指针52、指针62、指针72和指针82获得的初始识别数值为03032000，通过修正后实际指针11、指针21、指针31、指针41、指针51、指针61、指针71和指针81对应的真实数值为03032999。相应地，上述步骤S40，包括：步骤S40’：基于所述标准修正值和所述修正方向对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。在具体实现中，上述设备可根据偏差夹角确定对应的夹角区间，并根据夹角区间确定修正方向，基于标准修正值和修正方向对初始识别数值进行修正，并将修正结果作为目标指针的识别结果，进而可通过修正方向进行进一步修正，提升修正准确率。本实施例上述设备可将偏差夹角代入预设正弦曲线函数中，获得对应的修正加权值；根据偏差夹角通过预设正弦曲线获得修正加权值，并根据修正加权值获取对应的预设修正最大值，最后根据修正加权值和修正最大值确定标准修正值；根据偏差夹角确定对应的夹角区间，并根据夹角区间确定修正方向，基于标准修正值和修正方向对初始识别数值进行修正，并将修正结果作为目标指针的识别结果，进而可通过修正方向进行进一步修正，提升修正准确率。参考图5，图5为本发明仪表盘数值识别方法第三实施例的流程示意图。如图5所示，为了准确确定上述待识别表盘的圆心坐标，基于上述各实施例，在本实施例中，上述步骤S10之前，还包括：步骤S101：获取待识别表盘图像，并通过预设刻度圆检测模型获取所述待识别表盘图像中所有指针刻度圆。需要说明的是，上述待识别表盘图像可以是上述待识别表盘的整个图像，可通过上述摄像头拍摄获得，或者通过其它方式获得，本实施例不加以限制。可理解的是，上述预设刻度圆检测模型可以是用于检测图像内所有圆的模型，在本实施例中，可采用霍夫圆检测模型进行检测，具体过程如下：获取待识别表盘图像，并通过预设刻度圆检测模型根据所述待识别表盘图像建立三维参数空间；对所述三维参数空间中各单元进行投票，并根据投票结果获取所述待识别表盘图像中所有指针刻度圆。应理解的是，由于在霍夫变换中圆的拟合需要三个参数，也即X坐标、Y坐标和半径，进而可根据上述参数建立三维参数空间，确定每个单元内的参数信息。需要解释的是，上述预设刻度圆检测模型可对图像进行遍历，判断是否为边缘点，若是则将该边缘点用来对单元进行投票，通过对参数空间量化降低计算量，同时扩大投票空间，获得投票结果。需要强调的是，在本实施例中还可对投票结果进行筛选，设定阈值，比那里参数空间，当投票数大于阈值时初步认定可能的圆，将参数放入列表，之后遍历列表，设定圆心最小距离，检查相邻圆圆心的距离是否大于最小圆心距离，若大于，则判定为不同的圆，若小于，则认为是同一圆，此时进行非极大化抑制，并根据抑制后的结果获取待识别表盘图像中所有指针刻度圆。在具体实现中，上述设备可获取待识别表盘图像，并通过预设刻度圆检测模型建立三维参数空间，对三维参数空间中的各单元进行投票，并对投票结果进行非极大化抑制，根据抑制后的结果获取待识别表盘图像中所有指针刻度圆。步骤S102：从所述所有指针刻度圆中选取预设数量的指针刻度圆需要说明的是，上述预设数量可以是三个，进而可采用三点求圆的方式确定待识别表盘的圆心坐标，还可以是其它数量，本实施例对具体的预设数量和确定方式不加以限制。相应地，上述步骤S10包括：步骤S10’：获取选中的指针刻度圆的圆心坐标；步骤S10’’：根据所述选中的指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标。在具体实现中，上述设备可从所有指针刻度圆中选取三个指针刻度圆，并获得选中的指针刻度圆的圆心坐标，根据上述三个指针刻度圆的圆心坐标，通过三点求圆方式确定待识别表盘的圆心坐标，进而可提升待识别表盘的圆心坐标的准确度。本实施例上述设备可获取待识别表盘图像，并通过预设刻度圆检测模型建立三维参数空间，对三维参数空间中的各单元进行投票，并对投票结果进行非极大化抑制，根据抑制后的结果获取待识别表盘图像中所有指针刻度圆，从所有指针刻度圆中选取三个指针刻度圆，并获得选中的指针刻度圆的圆心坐标，根据上述三个指针刻度圆的圆心坐标，通过三点求圆方式确定待识别表盘的圆心坐标，进而可提升待识别表盘的圆心坐标的准确度。此外，本发明实施例还提出一种存储介质，所述存储介质上存储有仪表盘数值识别程序，所述仪表盘数值识别程序被处理器执行时实现如上文所述的仪表盘数值识别方法的步骤。此外，参照图6，图6为本发明仪表盘数值识别装置第一实施例的结构框图，本发明实施例还提出一种仪表盘数值识别装置，所述仪表盘数值识别装置包括：坐标获取模块601，用于获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个所述指针刻度圆的圆心坐标确定所述待识别表盘的圆心坐标；夹角确定模块602，用于获取目标指针的指针图像，并基于所述指针图像、目标指针刻度圆的圆心坐标和所述待识别表盘的圆心坐标确定所述目标指针的偏差夹角；数值获取模块603，用于根据所述偏差夹角确定标准修正值，并根据所述指针图像获得所述目标指针的初始识别数值；数值修正模块604，用于基于所述标准修正值对所述初始识别数值进行修正，并将修正结果作为所述目标指针的识别结果。本实施例上述设备可基于上述待识别表盘建立直角坐标系，并获取待识别表盘中多个指针刻度圆的圆心坐标，并根据多个上述指针刻度圆的圆心坐标确定待识别表盘的圆心坐标；可获取目标指针的指针图像，并根据获得的指针图像确定目标指针的指针射线，基于目标指针刻度圆的圆心坐标和待识别表盘的圆心坐标确定基准线，再确定基准线与指针射线之间的夹角，并将该夹角作为目标指针的偏差夹角；根据偏差夹角确定标准修正值，并根据指针图像获得目标指针的初始识别数值；最后通过标准修正值对初始识别数值进行修正，并将修正结果作为目标指针的识别结果，相比于现有的识别，本实施例能根据偏差夹角对初始识别数值进行修正，提升了数值识别准确度。本发明仪表盘数值识别装置的其他实施例或具体实现方式可参照上述各方法实施例，此处不再赘述。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
