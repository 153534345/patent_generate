标题title
具有温度感测器的集成电路
摘要abst
一种具有温度传感器的集成电路，包括存储器阵列、周边电路以及温度感测器，周边电路用于自动调节操作电压。温度感测器包括参考产生电路，参考产生电路产生具有第一非零温度系数的第一参考电压，以及具有数值不同于第一非零温度系数的第二温度系数的第二参考电压。以及检测电路，检测电路具有温度及工艺变化补偿，其将第一和第二参考电压的差转换成指示集成电路的温度的数字信号。
权利要求书clms
1.一种集成电路，其特征在于，该集成电路包括一温度感测器，该温度感测器包括：一参考产生电路，位于一集成电路上，该参考产生电路使用一第一参考电流产生一第一参考电压，并使用一第二参考电流产生一第二参考电压，该第一参考电压具有一第一非零温度系数，该第二参考电压具有数值不同于该第一非零温度系数的一第二温度系数，该第二参考电流的数值相关于该第一参考电流；以及一检测电路，位于该集成电路上，以将该第一参考电压和该第二参考电压之间的差转换成指示该集成电路的温度的数字信号。2.根据权利要求1所述的集成电路，其特征在于，该第一参考电压为与绝对温度成比例的电压。3.根据权利要求1所述的集成电路，其特征在于，该第二参考电压为具有零温度系数的电压。4.根据权利要求1所述的集成电路，其特征在于，该检测电路包括：一定时产生器，包括用于对一电容性节点进行预充电、接着使用该第一参考电流对该电容性节点上的电压进行放电的一电路；一比较器，当该电容性节点上的电压与该第一参考电压匹配时，该比较器产生一第一定时信号，且当该电容性节点上的电压与该第二参考电压匹配时，该比较器产生一第二定时信号；以及一计数器，对该第一定时信号和该第二定时信号之间的一时脉信号的时脉周期进行计数，以产生指示温度的数字信号。5.根据权利要求4所述的集成电路，其特征在于，还包括产生该时脉信号的一振荡器，该振荡器具有一时脉周期，该时脉周期相关于一第三参考电流。6.根据权利要求5所述的集成电路，其特征在于，该振荡器为一弛豫振荡器，该弛豫振荡器将该电容性节点交替地充电到一第三参考电压，并使用该第三参考电流使该电容性节点放电，且其中该第三参考电流具有与一第四参考电流成比例的数值，与温度无关。7.根据权利要求1所述的集成电路，其特征在于，该检测电路包括：一分压器，用于产生一组比较器输入电压，该组比较器输入电压中的电压大小取决于该第二参考电压，并且从较低的数值变化到较高的数值；以及一组比较器，具有多个并行输出，多个第一输入端的电压取决于该第一参考电压，多个第二输入端连接到该组比较器输入电压中的各个比较器输入电压；其中该组比较器的该些并行输出提供指示温度的数字信号。8.一种包含温度感测器的集成电路，其特征在于，包括：一存储器阵列及可操作地耦接于该存储器阵列的多个周边电路，该些周边电路提供该存储器阵列一操作电压；一参考产生电路，位于该集成电路上，该参考产生电路产生一第一参考电压及一第二参考电压，该第一参考电压具有一第一非零温度系数，该第二参考电压具有数值不同于该第一非零温度系数的一第二温度系数；一检测电路，位于该集成电路上，该检测电路基于该第二参考电压进行温度补偿，并用于将该第一参考电压和该第二参考电压之间的差转换成指示该集成电路的温度的一数字信号；以及一偏压电路，响应该数字信号以提供该操作电压。9.根据权利要求8所述的集成电路，其特征在于，该第一参考电压为与绝对温度成比例的电压。10.根据权利要求8所述的集成电路，其特征在于，该第二参考电压为具有零温度系数的电压。11.根据权利要求8所述的集成电路，其特征在于，该检测电路包括：一定时产生器，包括用于对一电容性节点进行预充电、接着使用一恒定电流对该电容性节点上的电压进行放电的一电路；一比较器，当该电容性节点上的电压与该第一参考电压匹配时，该比较器产生一第一定时信号，且当该电容性节点上的电压与该第二参考电压匹配时，该比较器产生一第二定时信号；以及一计数器，对该第一定时信号和该第二定时信号之间的一时脉信号的时脉周期进行计数，以产生指示温度的该数字信号。12.根据权利要求11所述的集成电路，其特征在于，还包括产生该时脉信号的一振荡器，该振荡器具有一时脉周期，该时脉周期相关于该恒定电流及该第二参考电压。13.根据权利要求12所述的集成电路，其特征在于，该振荡器为一弛豫振荡器，该弛豫振荡器将该电容性节点交替地充电到一第三参考电压，并使用一时脉电流使该电容性节点放电，该时脉电流具有与该恒定电流成比例的数值。14.根据权利要求8所述的集成电路，其特征在于，该检测电路包括：一分压器，用于产生一组比较器输入电压，该组比较器输入电压中的电压大小取决于该第二参考电压，并且从较低的数值变化到较高的数值；以及一组比较器，具有多个并行输出，多个第一输入端的电压取决于该第一参考电压，多个第二输入端连接到该组比较器输入电压中的各个比较器输入电压；其中该组比较器的该些并行输出提供指示温度的该数字信号。15.根据权利要求8所述的集成电路，其特征在于，该操作电压为字线电压。16.根据权利要求8所述的集成电路，其特征在于，该操作电压为位线电压。17.根据权利要求8所述的集成电路，其特征在于，该操作电压为源极线电压。18.根据权利要求8所述的集成电路，其特征在于，该存储器包括NAND阵列，且该操作电压为串行选择线电压。19.根据权利要求8所述的集成电路，其特征在于，该存储器为非易失性存储器。20.根据权利要求8所述的集成电路，其特征在于，该参考产生电路使用一第一参考电流产生该第一参考电压，并使用一第二参考电流产生该第二参考电压，该第二参考电流与该第一参考电流成比例，且与温度无关。
说明书desc
技术领域本发明属于集成电路技术领域，涉及一种具有温度传感器的集成电路，特别是一种使用于电压随温度变化而操作的集成电路。背景技术在包括存储器装置的许多集成电路中，电路中的存储器阵列单元的行为受集成电路芯片温度的影响。期望提供适合在集成电路上实施的电路，以提供温度信息，并使用此信息来调整施加到集成电路上的电路的电压和其他参考电压，包括存储器阵列的操作电压。发明内容为了减少温度对存储器阵列操作的不利影响，在集成电路中的存储器装置上提供了温度感测元件。温度感测元件也适用于其他用途。描述了一种集成电路，包括存储器阵列、周边电路和温度感测器，周边电路用于根据温度感测器的输出自动调节操作电压。其中，温度感测器包括参考产生电路及检测电路。参考产生电路使用第一和第二参考电流，产生具有第一非零温度系数的第一参考电压以及具有与第一非零温度系数不同大小的第二温度系数的第二参考电压，其中第二参考电流可以相关于第一参考电流，与工艺变化无关，例如与工艺变化无关的成比例关系。检测电路位于集成电路上，其具有温度与工艺变化的补偿，检测电路将第一和第二参考电压之间的差异转换为指示集成电路温度的数字信号。描述一个实施例，其中，检测电路包括定时产生器、比较器及计数器，定时产生器包括用于对电容性节点进行预充电、然后以恒定电流对节点上的电压进行放电的电路，当电容性节点上的电压与第一参考电压匹配时，比较器产生第一定时信号，且当电容性节点上的电压与第二参考电压匹配时，比较器产生第二定时信号，计数器对第一和该第二定时信号之间的时脉信号的时脉周期进行计数，以产生指示温度的数字信号。描述一实施例，其中检测电路可再包括振荡器，振荡器产生具有时脉周期的时脉信号，时脉周期相关于第三参考电流与第二参考电压。振荡器可以是一弛豫振荡器，弛豫振荡器将电容性节点交替地充电到具有第二温度系数的第三参考电压，并使用时脉电流使电容性节点放电，时脉电流的数值与恒定电流成比例。描述另一个实施例，其中检测电路可再包括分压器及一组比较器，分压器产生一组比较器输入电压，此组比较器输入电压中的电压大小取决于第二参考电压，并且从较低的数值变化到较高的数值；具有并行输出的此组比较器的第一输入端的电压取决于第一参考电压，第二输入端连接到此组比较器输入电压中的各个比较器输入电压。此组比较器的并行输出提供指示温度的数字信号。本文描述将温度感测器输出耦接到集成电路芯片上的周边电路、存储器阵列、两者的电路。基于温度信息，可以将偏压及电流偏置施加至周边电路、存储器阵列或两者之中，以补偿或减少温度对存储器操作的影响。本发明的其他方面和优点可以通过阅读附图、下方的详细描述和权利要求来得到。附图说明图1是包括温度感测器的集成电路的简化方框图。图2是适用于图1的集成电路的NAND闪存存储器阵列的简化图。图3绘示如图2的存储器阵列操作电压随温度改变的示意图。图4是根据本技术的实施例的温度感测器的简化图。图5是根据图4实施例所绘示的温度感测器操作的时序图。图6是参考产生电路的电路图。图7是与图6的参考产生电路一起使用的检测电路的一部分的电路图。图8是振荡器的电路图。图9绘示使用图6～图8的技术实现的计数器的数字输出相对于电路温度的模拟结果。图10绘示使用图6～图8的技术对电路的工艺拐点随温度变化的模拟结果。图11是温度感测器的替代实施例的电路图。图12绘示针对类似于图11的电路的温度范围内的参考电压VPTAT的模拟结果。图13绘示针对类似于图11的电路的工艺拐点随温度变化的模拟结果。【符号说明】#1，#N：电路10：存储器阵列11：温度感测器T：数字信号V1，VN：电压20：存储器单元21：位线BL N-122：SSL线23：GSL线24：字线WL N-125：CSL线BL 0，BL 1，BL N-1，BL N：位线WL N，WL N-1，WL 1，WL 0：字线SSL：上串行选择线GSL：下串行选择线CSL：共源极线VBL，VWL，VSSL，VGSL，VCSL：电压30：字线电压读取电平50：参考产生电路51：检测电路52：振荡器53：计数器EN：使能信号TRIM：控制信号VPTAT：第一参考电压VZTC：第二参考电压VREF：参考电压TCLK：时脉VPTATD：第一定时信号VZTCD：第二定时信号TEMP：数字信号VCOMP：电压ΔV：电压差ΔT：时间间隔100：p通道MOS晶体管101：n通道MOS晶体管102：双极性晶体管103：p通道MOS晶体管104：n通道MOS晶体管105：双极性晶体管106：p通道MOS晶体管107：p通道MOS晶体管108：双极性晶体管109：运算放大器110：n通道MOS晶体管150：p通道MOS晶体管151：节点I1，I2，I3，I4，I5：电流R1，R2，R3，R4，R5，R6：电阻器ENB：使能信号TMBG：电压VBE1，VBE2，VBE3：基极至发射极电压VDD：供应电压VSS：参考节点200：p通道MOS晶体管201：n通道MOS晶体管202：p通道MOS晶体管203：n通道MOS晶体管204：p通道MOS晶体管205：n通道晶体管206：n通道晶体管250：p通道MOS晶体管251：节点260：振荡器270：电容器275，276：比较器I6，I7，IDISCH：电流NB，NBIAS：偏压301：p通道MOS晶体管302：n通道MOS晶体管303：n通道MOS晶体管304：电容器305：比较器306：p通道MOS晶体管307：n通道MOS晶体管308：n通道MOS晶体管309：电容器310：比较器311，312：反相器320，321：NAND栅极322：NOR栅极323：反相器330，331，332：NAND栅极333：反相器ENXB，ENYB：反馈信号IDIS_OSC：电流400：p通道MOS晶体管401：n通道MOS晶体管402：p通道MOS晶体管403：n通道MOS晶体管404：p通道MOS晶体管405：p通道MOS晶体管406：n通道MOS晶体管407：双极性晶体管410：p通道MOS晶体管411：p通道MOS晶体管412：n通道MOS晶体管413：双极性晶体管414：p通道MOS晶体管415：p通道MOS晶体管416：p通道MOS晶体管417：p通道MOS晶体管418：双极性晶体管420：运算放大器421：n通道MOS晶体管430：运算放大器431：n通道MOS晶体管432：可调电阻器433：线路450～459：电阻器460：p通道MOS晶体管461：节点TMBGSRC，VBGFB：信号VRFB：电压V0～V7，VN1～VN3：电压HI0～HI7，HIN1～HIN3：输出具体实施方式为使本发明的目的、技术方案和优点更加清楚明白，以下结合具体实施例，并参照附图，对本发明进一步详细说明。请参照图1～图13，来对本发明实施例进行详细描述。图1是一包含温度感测器的集成电路的方框图。集成电路包括温度感测器11、存储器阵列10和周边电路，周边电路包括电路#1、…电路#N。周边电路产生电压V1至VN，其作为响应于温度感测器11的输出的温度函数而被控制变化。温度感测器11的输出是数字信号T，周边电路可以使用此数字信号T来控制所产生的电压的大小。而且，在一些实施例中，温度感测器可以将信号直接施加到存储器阵列10。在一些实施例中，存储器阵列可以是非易失性存储器。在一些实施例中，存储器阵列是闪存存储器。图2是可以在图1的电路中用作阵列10的NAND闪存存储器阵列的示意图。NAND闪存存储器阵列包括多条位线BL 0至BL N、多条字线WL 0至WL N、上串行选择线SSL及下串行选择线GSL。存储器单元沿着位线串联排列至共源极线CSL，并且沿着相应的字线具有栅极。类似于图2的阵列的周边电路产生电压，此电压是相关于温度感测器11所提供的温度的信号。举例来说，可以将电压VSSL施加到SSL线22，此电压VSSL由周边电路根据温度而变化。可以将电压VBL施加到位线BL N-1 21，此电压VBL由周边电路根据温度而变化。可以将电压VWL施加到字线WL N-1 24，此电压VWL由周边电路根据温度而变化。可以将电压VGSL施加到GSL线23，此电压VGSL由周边电路根据温度而变化。可以将电压VCSL施加到CSL线25，此电压VCSL由周边电路根据温度而变化。可以单独或组合调整存储器阵列的各种操作电压，以建立优化的读取窗口或其他性能指标，例如编程和擦除速度或效率。在操作中，类似于图2的NAND闪存存储器阵列可以具有随温度变化的操作特性。图3示出了一个范例。图3是左侧处于擦除状态而右侧处于编程状态的存储器单元的阈值电压分布的曲线图。如图3所示，在高温下的擦除状态下，阈值电压分布向更高的方向移动。在室温下，擦除状态的阈值电压分布处于中间电平。在低温下，阈值电压分布会降低。同样地，在高温的编程状态下，阈值电压分布会移得更高。在室温下，用于编程状态的阈值电压分布处于中间电平。在低温下，阈值电压分布会降低。如本文中所描述的周边电路被设计为根据温度自动调节字线电压读取电平30，以便在指定装置操作的温度范围内保持读取裕度。以类似的方式，周边电路可以配置为调整阵列中的其他电压，以便在编程、擦除和读取操作等各种存储器操作中，在指定的温度范围内保持有效的操作。图4是被配置用于在集成电路上实现的温度感测器的简化图。温度感测器包括参考产生电路，此参考产生电路产生与绝对温度成比例的第一电压VPTAT，以及具有零温度系数的第二电压VZTC，因其被设计成在电路的操作范围内具有不随温度变化的一数值。此范例还产生具有零温度系数的第三电压VREF。为了便于说明，电压与温度感测器的输出温度范围内的绝对温度成比例。同样地，电压在温度感测器的输出的温度范围内的温度系数为零。参考产生电路50的输入包括使能信号EN和可选的控制信号TRIM，其可用于调节参考产生电路50的元件。参考产生电路的输出被施加到检测电路51，在此范例中，检测电路51包括振荡器52。检测电路51减少输出时脉TCLK、第一定时信号VPTATD以及第二定时信号VZTCD，第一定时信号VPTATD指示第一参考电压VPTAT越过阈值的定时，此阈值是相关于VREF，第二定时信号VZTCD指示第二参考电压VZTC越过阈值的定时，此阈值是相关于VREF。时脉TCLK、第一定时信号VPTATD及第二定时信号VZTCD被施加到计数器53。计数器53的输出是数字信号TEMP，其指示具有温度感测器的集成电路的温度。图5是类似于图4的电路的操作的时序图。时序图说明了第二参考电压的电压电平VZTC，此电压电平在温度感测器的温度范围内保持恒定。并且，亦示出了第一参考电压VPTAT，右侧向上和向下的箭头表示电平随温度波动。使得电压差ΔV相关于集成电路上的温度。电压VCOMP是电容器上的电压，其可以恒定的速率放电，或者可以使用另一个电压斜波产生器电路提供。在一实施例中，电压VCOMP是通过使用电流追踪产生的恒定电流IDISCH产生的，因此最终的计数器输出由电路产生，此电路补偿制造过程中可能发生的工艺变化。随着电压VCOMP下降，它将与电压VPTAT相交。VCOMP与VPTAT相交的时间由第一定时信号VPTATD的切换指示。随着电压VCOMP进一步的下降，它将与电压VZTC相交。VCOMP与VZTC相交的时间由第二定时信号VZTCD的切换指示。计数器53通过第一定时信号VPTATD的触发而被使能，并且响应于时脉TCLK以恒定速率递增。在时间间隔ΔT之后，通过第二定时信号VZTCD的切换来停止计数器，其中时间间隔ΔT相关于ΔV。计数器的输出用作指示温度的数字信号。图6是参考产生电路的电路图，参考产生电路可以形成在集成电路上，以产生与绝对温度成比例的电压VPTAT和具有零温度系数的电压VZTC。此电路包括连接如VDD的电源端子与节点151之间的p通道MOS晶体管150。在此范例中，晶体管150的栅极连接到低态的使能信号ENB。当使能信号ENB为低时，功率被施加到节点151以驱动参考产生电路。p通道MOS晶体管100的一端连接到节点151，第二端连接到n通道MOS晶体管101。晶体管101的栅极和漏极连接在一起。晶体管101的第二端连接至电阻器R1，电阻器R1又连接至双极性晶体管102。双极性晶体管102的基极连接至其集电极，其发射极连接至参考节点VSS。参考节点VSS通常连接到DC接地。在其他实施例中，参考节点可以连接到交流接地或其他直流参考电压。p通道MOS晶体管103的一端连接到节点151，而第二端连接到n通道MOS晶体管104。晶体管104的栅极连接到晶体管103的栅极。晶体管104的第二端连接一双极性晶体管105。双极性晶体管105的基极连接到其集电极，其发射极连接到参考节点VSS。晶体管103的栅极连接到晶体管103的漏极，并且连接到晶体管100的栅极。双极性晶体管102和105具有不同的尺寸。在本范例中，晶体管102的基极宽度是晶体管105的基极宽度的四倍。由于晶体管100和103以及晶体管101和104以电流镜关系连接，因此流过晶体管102和105的电流I1和I2相等。因为电流密度不同，基极至发射极电压VBE1和VBE2也不同。因此，流过晶体管102的电流I1是在电阻器R1上产生等于VBE1和VBE2之差的电压降的电流。此电压降应该要与绝对温度成比例。此电路包括p通道MOS晶体管106，其连接在节点151和电阻器R2之间。晶体管106的栅极以电流镜的关系连接到晶体管100的栅极。电阻器R2连接到参考节点VSS。由于电流镜的关系，流经电阻器R2的电流I3追踪电流I1，并产生电压VPTAT。此电路包括连接在节点151和运算放大器109的「+」输入端之间的p通道MOS晶体管107。此外，运算放大器109的输入跨过电阻器R3和双极性晶体管108连接至VSS。本范例中的双极性晶体管108的尺寸是按照接近于晶体管102的尺寸制作，其基极是本范例中晶体管105的基极宽度的四倍。此电路包括连接在节点151和电阻器R4之间的n通道MOS晶体管110。电阻器R4连接到电阻器R5和R6的串联组合，电阻器R5和R6依序连接到VSS。电阻器R4和电阻器R5之间的节点产生电压TMBG，其连接到运算放大器109的「-」输入端。运算放大器的输出以维持电压VREF恒定的方式驱动晶体管110的栅极。在电阻器R5和R6之间的节点处提供具有零温度系数的电压VZTC。电阻器R5和R6的电阻是可调节的，以设置VZTC的期望电平。在此电路中，建立了以下关系：I1＝I2＝I3＝I4＝/R1＝ΔVBE21/R1VPTAT＝I3*R2＝ΔVBE21*TMBG＝VBE3+I4*R3＝VBE3+ΔVBE21*＝VBE3+VT ln NI5＝TMBG/VREF＝TMBG*/VZTC＝TMBG*因此，图6所示的参考产生电路产生与绝对温度成比例的电压，以及具有零温度系数的电压。更全面地说，参考产生电路产生具有第一温度系数的第一电压VPTAT和具有第二温度系数的第二电压VZTC。第一温度系数的大小不同于第二温度系数的大小，并且在本范例中大于第二温度系数的大小。结果，第一电压和第二电压之间的差是与温度相关。在本范例中，参考产生电路产生第三参考电压VREF，第三参考电压VREF的大小高于第二参考电压VZTC，且还具有零或低数值的温度系数。图7是类似于图5的实施例中所使用的检测电路/振荡器电路的电路图。在此范例中，电路包括连接在供应电压VDD和节点251之间的p通道MOS晶体管250。晶体管250的栅极连接到低态的使能信号ENB。此电路包括在节点251和VSS之间与n通道MOS晶体管201串联连接的p通道MOS晶体管200。晶体管201的栅极连接到偏压NBIAS。晶体管200的漏极和栅极连接在一起。此电路包括在节点251和VSS之间与n通道MOS晶体管203串联连接的p通道MOS晶体管202。晶体管202的栅极以电流镜方式连接到晶体管200的栅极。晶体管203的栅极和漏极连接在一起。流经晶体管201的电流I6和流经晶体管203的电流I7具有由晶体管200和202的相对大小而决定的数值。电压NB由晶体管203的栅极产生。此电路包括产生时脉信号TCLK的振荡器260。图7所示的振荡器260的输入包括偏压NB和由图6的参考产生电路所提供的第三参考电压VREF。依此方式，时脉信号TCLK由振荡器260所生成。振荡器260的实施方式请参考图8的描述。图7中的电路包括在VDD和VSS之间与n通道晶体管205和n通道晶体管206串联连接的p通道MOS晶体管204。晶体管204和206的栅极连接到高态的使能信号EN，其与使能信号ENB互补。此电路包括连接在晶体管204和晶体管205之间的节点之间的电容器270。电容器两端的电压VCOMP被施加到比较器275和276的「-」输入端。比较器275和276的「+」输入端连接到由图6的参考产生电路产生的电压VPTAT和VZTC。比较器275和276的输出是控制信号VPTATD和VZTCD，它们表示电压VCOMP越过各个输入电压电平的时序。由于晶体管205的栅极连接到栅极晶体管203处的偏压NB，因此通过晶体管206的电流IDISCH被驱动为相关于通过晶体管203的电流I7。在操作中，当信号EN为低时，电容器270被充电至VDD。当使能信号EN切换为高电平时，电容器270通过恒定电流IDISCH放电。图8是弛豫振荡器的电路图，弛豫振荡器可用在图7的电路中。它生成时脉信号TCLK，时脉信号TCLK的时脉速率与图7的电路所产生的恒定电流IDISCH成比例、或与恒定电流IDISCH相关。此电路包括串联连接在VDD和VSS之间的p通道MOS晶体管301、n通道MOS晶体管302和n通道MOS晶体管303。晶体管301和303的栅极连接到低态的反馈信号ENXB。晶体管302的栅极连接到偏压NB，结果，通过晶体管303产生第三参考电流IDIS_OSC，此电流是相关于恒定电流IDISCH。电容器304的第一端连接到晶体管301和302之间的节点，第二端连接到VSS。电容器的第一端上的电压连接到比较器305的「-」输入端。比较器305的「+」输入端连接到由图6的参考产生电路产生的第三参考电压VREF。比较器305的输出被施加到反相器311，并且作为NAND栅极330的输入。此电路包括串联连接在VDD和VSS之间的p通道MOS晶体管306、n通道MOS晶体管307和n通道MOS晶体管308。晶体管306和308的栅极连接到低态的反馈信号ENYB。晶体管307的栅极连接到偏压NB，结果，通过晶体管308产生第三参考电流IDIS_OSC，此电流是相关于恒定电流IDISCH。在本范例中，晶体管303中的IDIS_OSC大约等于晶体管308中的电流。电容器309的第一端连接到晶体管306和307之间的节点，第二端连接到VSS。电容器的第一端上的电压连接到比较器310的「-」输入端。比较器310的「+」输入端连接到由图6的参考产生电路产生的第三参考电压VREF。比较器310的输出被施加到反相器311，并作为NAND栅极320的输入。NAND栅极320的第二输入是反相器312的输出。NAND栅极320的输出作为输入连接到NAND栅极321。NAND栅极330的第二输入是反相器311的输出。NAND栅极330的输出作为输入连接到NAND栅极331。NAND栅极321的第二输入是NAND栅极331的输出。NAND栅极331的第二输入是NAND栅极321的输出。NAND栅极321的输出也作为输入提供给NOR栅极322。NOR栅极322的第二输入是使能信号ENB。NAND栅极331的输出也作为输入施加到NAND栅极332。NAND栅极332的第二输入是使能信号EN。NAND栅极332的输出是反馈信号ENXB。NOR栅极322的输出是反馈信号ENYB。NAND栅极332的输出被施加到反相器333，在本实施例中，反相器333的输出是时脉信号TCLK。NOR栅极322的输出还被施加到反相器323，在本范例中，反相器323的输出可作为互补时脉或用于其他目的。在操作中，当ENXB为低时，弛豫振荡器将电容器304充电至VDD。当ENXB为高时，电容器304通过第三参考电流IDIS_OSC放电，直到达到第三参考电压VREF。此触发逻辑使ENXB切换为低电平，并将ENYB切换为高电平。当ENYB为低时，弛豫振荡器将电容器309充电至VDD。当ENYB为高时，电容器309被第三参考电流IDIS_OSC放电，直到达到第三参考电压VREF。此触发逻辑使ENXB拉高并使ENYB拉低。此周期交替产生时脉信号TCLK。在本实施例中，响应于NB在振荡器中产生的放电电流IDIS_OSC和晶体管206中的第四参考电流IDISCH可以彼此成比例。因此，至少在一般制造产线中遇到的工艺拐点中，温度变化与时脉信号TCLK的周期的比率将与工艺变化无关。因此，工艺中影响MOS晶体管操作的工艺变化的电流和电容不会导致不正确的温度感测。在图6至图8的电路中，仅使用一个计数器，且不需要使用除法器。因此，与使用类似于图4描述的技术的实施例相比，可以使用更少的芯片面积、更少的电流和更少的计算时间来实现。图9绘示类似于图6～图8中所示的温度感测器的操作的模拟结果图。此模拟在-10℃至+80℃的范围内操作，绘示此范围内计数器输出呈线性增加。图10绘示在-10℃至+70℃的操作范围内，图6～图8中所示电路的工艺拐点处的其他模拟结果。根据模拟，在整个工艺变化中，在-10℃至+70℃的温度范围内，温度输出的变化约为正或负2℃。图11是温度感测器的替代实施例的电路图，温度感测器提供指示其上所布置的集成电路温度的所有数字输出。此电路包括参考产生电路，参考产生电路提供与温度成比例的第一参考电压VPTAT，以及具有零温度系数的第二参考电压VREF。更全面地说，参考产生电路产生具有第一温度系数的第一参考电压VPTAT和具有第二温度系数的第二参考电压VREF。第一温度系数的大小不同于第二温度系数的大小。因此，第一参考电压和第二参考电压之间的差与温度相关。并且，此电路包括具有基于第二参考电压的温度补偿的检测电路，以将第一参考电压和第二参考电压之间的差转换为指示集成电路上的温度的数字信号。此电路包括连接于供应VDD和节点461之间的p通道MOS晶体管460。晶体管460的栅极系连接以接收的使能信号ENB，并且当ENB为低态时将功率施加到节点461。此电路包括在节点461和VSS之间与n通道MOS晶体管401串联连接的p通道MOS晶体管400。而且，此电路包括在节点461和VSS之间与n通道MOS晶体管403串联连接的p通道MOS晶体管402。晶体管401和403的栅极连接在一起，并连接至晶体管403的漏极。此外，晶体管400的栅极连接至其漏极和晶体管403的漏极。此电路包括在节点461和VSS之间与p通道MOS晶体管405、n通道MOS晶体管406、电阻器R1和双极性晶体管407串联连接的p通道MOS晶体管404。并且，p通道MOS晶体管410与p通道MOS晶体管411、n通道MOS晶体管412和双极性晶体管413串联连接。在此范例中，双极性晶体管407的基极宽度是双极性晶体管413的基极宽度的四倍。晶体管406和412的栅极连接在一起，并连接到晶体管412的漏极。晶体管405和411的栅极连接在一起。晶体管404和410的栅极连接在一起，并连接到晶体管405和406之间的节点。电流I1和电流I2通过相关于VBE1和VBE2之差以及电阻R1而产生。在节点461与VSS之间，p通道MOS晶体管414与p通道MOS晶体管415和电阻器R2串联连接。在晶体管415和电阻器R2之间的节点处产生电压VPTAT。在节点461和VSS之间，p通道MOS晶体管416与p通道MOS晶体管417、电阻器R3和双极性晶体管418串联连接。在此范例中，双极性晶体管418的基极宽度尺寸是按照等于双极性晶体管407的基极宽度制作。在晶体管417和电阻器R3之间的节点处产生电压TMGBSRC。此节点作为「+」输入端连接到运算放大器420。此电路包括n通道MOS晶体管421，其与节点461和VSS之间的可调电阻分压器R4串联连接。电阻分压器R4和晶体管421之间的节点也连接到运算放大器420的「-」输入端。在电阻分压器R4中的节点处产生第二参考电压VREF，此第二参考电压VREF作为运算放大器430的「+」输入端。此电路包括与在节点461和VSS之间的梯形电阻、可调电阻器432和电阻器R5串联连接的n通道MOS晶体管431。梯形电阻包括串联连接在晶体管431和可调电阻器432之间的电阻器450至459，分接于电阻器之间的接点。电阻器R5和可调电阻器432之间的节点上的电压VRFB被反馈到运算放大器430的「-」输入端。可调电阻器432可被调整，以用于校准或装置的其他操作特性。在串联的电阻器450至459中的相邻电阻器之间的节点处分别产生电压VN3、VN2、VN1、V0、V1、...V7，在此范例中，节点处产生的电压相关于具有零温度系数的第二参考电压VREF。此电路包括一组比较器，每一比较器的「-」输入端连接到梯形电阻中相邻电阻器之间的节点处，并在此范例中提供输出HIN3、HIN2、HIN1、HI0、HI1、...HI7。此组比较器中所有比较器的「+」输入端在线路433上接收参考电压VPTAT。在所示的范例中，输出HIN3、HIN2、HIN1、HI0、HI1、...HI7是指示温度的数字信号，且为并行的产生。举例来说，输出HIN3表示温度大于-30℃。HIN2表示大于-20℃。HIN1表示大于-10℃。HI0表示大于0℃，依此类推，直到信号HI7表示温度大于70℃。在此电路中，信号VPTAT将随温度变化。信号TMBGSRC、VBGFB、VREF、VN和V将具有零温度系数、或比VPTAT低的温度系数。调节电阻梯的电阻比，以使电压VPTAT等于相应温度下的数据电压。在此电路中，假设镜像晶体管中的晶体管尺寸均匀，则建立以下关系：I1＝I2＝I3＝I4＝/R1＝ΔVBE21/R1VPTAT＝I3*R2＝ΔVBE21*TMBGSRC＝VBE3+I4*R3＝VBE3+ΔVBE21*＝VBE3+VT ln NI5＝TMBGSRC/R4I6＝VREF/R5图12绘示图11的电路的模拟结果。如图12可见，模拟显示电压VPTAT在-30至+70℃的温度范围内随温度呈现线性增加。举例来说，在此模拟中，当电压VPTAT约为1.574V时，表示温度约为50℃。调整图11的梯形电阻，以使比较器的「-」输入端具有一电压V5，此电压让VPTAT达到1.574伏特时使信号HI5触发。图13展示出图11的电路跨工艺拐点的模拟结果图。如图13所示，在-30℃至+70℃的范围内建立正或负2℃的变化。图11所示的电路不需要振荡器、计数器或数字除法器。因此，它可以在较小的布局区域中实现，且可比其他温度感测器具有更快的设置时间。图11的电路可以承受工艺变化，因为用于产生电压VPTAT和零温度系数电压TMBGSRC的电流成比例，且与工艺无关。尽管本发明由上方详细描述的较佳实施例和范例所公开，但是应当理解，这些范例仅是示例性的，而非限制性的。可想而知，所属技术领域的人员将容易想到其修改和组合，这些修改和组合将包含在本发明的精神和权利要求所保护的范围之内。以上所述的具体实施例，对本发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施例而已，并不用于限制本发明，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
