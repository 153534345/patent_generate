标题title
基于DNA分子加密和LightGBM算法的数字资产交易管理方法及系统
摘要abst
本发明公开的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法及系统，方法包括：获取数字资产数据和智能合约数据；对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M；对智能合约数据提取用户交易特征、字节码特征、操作码特征，并将提取的特征纳入数据集M；利用数据级重采样技术扩充数据集M得到用于训练的数据集；利用随机采样和EFB算法对训练数据集进行降维处理；利用降维处理后的数据训练二分类器模型，利用得到的二分类器模型对待测数据样本进行分类，根据预设的用户特征得到最终的分类结果。本发明能够实现对数字资产交易的精确高效的管理。
权利要求书clms
1.一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，包括以下步骤：获取数字资产数据和智能合约数据；对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M；对智能合约数据提取用户交易特征、字节码特征、操作码特征，并将提取的特征纳入数据集M；利用数据级重采样技术扩充数据集M得到用于训练的数据集；利用随机采样和EFB算法对训练数据集进行降维处理；利用降维处理后的数据训练二分类器模型，利用得到的二分类器模型对待测数据样本进行分类，根据预设的用户特征得到最终的分类结果。2.根据权利要求1所述的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，所述对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M具体为：将获取的数字资产数据进行文本符号清理，然后利用现有的工具库将清理后的数据转为tokens；将得到的tokens数据中的情绪描述映射为数字资产存储库上的特征值，利用所述特征值生成情绪量化指标并纳入数据集M。3.根据权利要求1所述的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，所述情绪量化指标的构建过程为：构建情绪系数、，具体表示如下： 其中，S是由字典得来的情绪值，r控制了系数的上下界，表示一个偏移调整值，表示消极情绪系数，表示积极情绪系数；将情绪系数标准化，具体计算公式如下：其中，表示分配给积极词汇的权重，表示分配给消极词汇的权重，表示标准化后的积极情绪系数，表示标准化后的消极情绪系数；利用标准化后的情绪系数计算得到最终的情绪量化指标、，表达式如下： 其中，表示积极情绪指标，表示消极情绪指标。4.根据权利要求1所述的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，所述用户交易特征包括：转移的平均值 、验证所述用户所有交易的平均激励金额、所有交易的奖励平均单价、实际用于交易的奖励平均金额；所述字节码特征通过提取字节码字符串来获取字节码特征；所述操作码特征是将每个操作指令出现在合同操作码文件中的次数作为特征进行提取。5.根据根据权利要求1所述的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，所述数据级重采样技术包括：欠采样、过采样和 SMOTE，其中，在应用欠采样时，通过随机省略一些实例来缩小真实地址的大小，直到数据集平衡；应用过采样时用少数类的一些随机选择的实例的多个副本来补充训练数据集；在应用 SMOTE时，通过合成生成的少数类实例来扩充训练数据集。6.根据根据权利要求1所述的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，所述利用随机采样和EFB算法对训练数据集进行降维处理具体为： 保留训练数据集中梯度大于预设值的数据并随机采样梯度较小的数据；将得到的数据通过EFB算法将互斥的数据合并成新的数据。7.根据根据权利要求1所述的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，二分类器模型输出的分类结果通过DNA加密方法将分类结果进行加密，即采用奇偶交叉位DNA编码，二元序列根据其在序列中的奇偶位置分为两个子序列，分别对两个子序列进行正常的DNA编码；然后，编码的碱基序列被依次拼接和组合，其中，每个二进制位对映射到基数取决于控制参数序列对编码规则的选择C1， 其中参数序列的元素C1在整数集中 { 1 ， ... ，8 }， 混沌整数序列S1是使用状x 空间广义物流系统态生成的，S1可以通过以下公式计算，C1=mod⋅1015)，8 )+1Ceil 将元素四舍五入到最接近无穷大的整数，mod 返回R 除以 8的余数。8.根据根据权利要求1所述的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，所述预设的用户特征即不同类别的用户特征，用户的类别包括：普通资产用户和疑似数字资产用户，其中普通数字资产用户包括：消费者、长期投资者、短期投资者和早期采用者；所述疑似数字资产用户包括：洗钱者和资产盗取者。9.根据根据权利要求8所述的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，通过计算待测样本与不同类别用户数据特征的几何中心的距离得到待测样本归属的用户类别，并通过检验给出相对应的置信水平，具体为：设表示K类人群中的第l个样本的n个特征，所述特征包括：平均输入次数、平均接受和发射量、地址的平均活动时间，样本的重心Wk定义为:其中n表示K类样本的样本数量，对于待测样本W，W将被归类为k，当：其中，l取遍从1到n时，使得表达式的值最小的l即为k。10.一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理系统，其他特征在于，包括存储器和处理器，所述存储器中包括基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法程序，所述基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法程序被所述处理器执行时实现如下步骤：获取数字资产数据和智能合约数据；对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M；对智能合约数据提取用户交易特征、字节码特征、操作码特征，并将提取的特征纳入数据集M；利用数据级重采样技术扩充数据集M得到用于训练的数据集；利用随机采样和EFB算法对训练数据集进行降维处理；利用降维处理后的数据训练二分类器模型，利用得到的二分类器模型对待测数据样本进行分类，根据预设的用户特征得到最终的分类结果。
说明书desc
技术领域本发明涉及数字资产技术领域，更具体的，涉及一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法及系统。背景技术随着信息技术和数字化技术的发展，数字资产越来越多的被人们所拥有，现有的数字资产管理方法无法有效的对数字资产进行监管，现有技术中主要基于提取合适的特征分析数字资产交易的合法性。但也存在不足之处。首先，所选的训练特征是不完整的，大部分技术只提取了操作码和用户事务特征，而忽略了字节码特性。然而，从源代码编译出来的字节码反映了智能契约的功能，其特征影响了智能契约的识别。第二，检测方法需要改进。由于这是一个不平衡的分类问题，一些最先进的研究只使用对不平衡的分类数据集赋值的方法。第三，需要一种更有效的方法来训练数据。针对现有的方法存在无法对数字资产交易准确、高效地分析并管理的问题，因此亟需一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法。发明内容鉴于上述问题，本发明的目的是提供一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法及系统，能够对数字资产交易实现精确、高效管理。本发明第一方面提供了一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，包括以下步骤：获取数字资产数据和智能合约数据；对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M；对智能合约数据提取用户交易特征、字节码特征、操作码特征，并将提取的特征纳入数据集M；利用数据级重采样技术扩充数据集M得到用于训练的数据集；利用随机采样和EFB算法对训练数据集进行降维处理；利用降维处理后的数据训练二分类器模型，利用得到的二分类器模型对待测数据样本进行分类，根据预设的用户特征得到最终的分类结果。本方案中，所述对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M具体为：将获取的数字资产数据进行文本符号清理，然后利用现有的工具库将清理后的数据转为tokens；将得到的tokens数据中的情绪描述映射为数字资产存储库上的特征值，利用所述特征值生成情绪量化指标并纳入数据集M。本方案中，所述情绪量化指标的构建过程为：构建情绪系数、，具体表示如下： 其中，S是由字典得来的情绪值，r控制了系数的上下界，表示一个偏移调整值，表示消极情绪系数，表示积极情绪系数；将情绪系数标准化，具体计算公式如下：其中，表示分配给积极词汇的权重，表示分配给消极词汇的权重，表示标准化后的积极情绪系数，表示标准化后的消极情绪系数；利用标准化后的情绪系数计算得到最终的情绪量化指标、，表达式如下： 其中，表示积极情绪指标，表示消极情绪指标。本方案中，所述用户交易特征包括：转移的平均值 、验证所述用户所有交易的平均激励金额、所有交易的奖励平均单价、实际用于交易的奖励平均金额；所述字节码特征通过提取字节码字符串来获取字节码特征；所述操作码特征是将每个操作指令出现在合同操作码文件中的次数作为特征进行提取。本方案中，所述数据级重采样技术包括：欠采样、过采样和 SMOTE，其中，在应用欠采样时，通过随机省略一些实例来缩小真实地址的大小，直到数据集平衡；应用过采样时用少数类的一些随机选择的实例的多个副本来补充训练数据集；在应用 SMOTE 时，通过合成生成的少数类实例来扩充训练数据集。本方案中，所述利用随机采样和EFB算法对训练数据集进行降维处理具体为： 保留训练数据集中梯度大于预设值的数据并随机采样梯度较小的数据；将得到的数据通过EFB算法将互斥的数据合并成新的数据。本方案中，二分类器模型输出的分类结果通过DNA加密方法将分类结果进行加密，即采用奇偶交叉位DNA编码，二元序列根据其在序列中的奇偶位置分为两个子序列，分别对两个子序列进行正常的DNA编码；然后，编码的碱基序列被依次拼接和组合，其中，每个二进制位对映射到基数取决于控制参数序列对编码规则的选择C1， 其中参数序列的元素C1在整数集中 { 1 ， ... ， 8 }. 混沌整数序列S1是使用状x 空间广义物流系统态生成的，S1可以通过以下公式计算，C1=mod⋅1015) ， 8 ) + 1Ceil 将元素四舍五入到最接近无穷大的整数，mod 返回R 除以 8的余数。本方案中，所述预设的用户特征即不同类别的用户特征，用户的类别包括：普通资产用户和疑似数字资产用户，其中普通数字资产用户包括：消费者、长期投资者、短期投资者和早期采用者，所述消费者特征为：拥有的地址数量应该小于或等于平均值、平均发送和接收金额应该基本一致，并接近中值；所述长线投资者特征为：更长的用户活跃时间范围和地址的平均活跃时间范围、交易次数应该较少，收到的平均金额应该较高；所述短线投资者特征为：地址的平均活跃时间要短一些、交易次数要多一些；所述早期采用者特征为：活跃时间范围长；所述疑似数字资产用户包括：洗钱者和资产盗取者，其中，所述洗钱者特征为：有明显更高的平均输入次数地址和平均输出地址数，且地址具有一次性特征；平均接收和发送量基本相同且相对较低；地址的平均活动时间范围明显较短；所述资产盗取者特征为：有大量控制的地址并且这些地址之间会有稳定的数字资产转移交易；平均收发量基本一致；地址的平均活跃时间范围较短。本方案中，通过计算待测样本与不同类别用户数据特征的几何中心的距离得到待测样本归属的用户类别，并通过检验给出相对应的置信水平，具体为：设表示K类人群中的第l个样本的n个特征，所述特征包括：平均输入次数、平均接受和发射量、地址的平均活动时间，样本的重心定义为:其中n表示K类样本的样本数量，对于待测样本W，W将被归类为k，当：其中，l取遍从1到n时，使得表达式的值最小的l即为k。本发明第二方面提供了一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理系统，包括存储器和处理器，所述存储器中包括基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法程序，所述基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法程序被所述处理器执行时实现如下步骤：获取数字资产数据和智能合约数据；对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M；对智能合约数据提取用户交易特征、字节码特征、操作码特征，并将提取的特征纳入数据集M；利用数据级重采样技术扩充数据集M得到用于训练的数据集；利用随机采样和EFB算法对训练数据集进行降维处理；利用降维处理后的数据训练二分类器模型，利用得到的二分类器模型对待测数据样本进行分类，根据预设的用户特征得到最终的分类结果。本发明公开的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法及系统，通过获取数字资产数据和智能合约数据并提取智能合约数据多维特征，然后对数据集进行数据级重采样技术扩充数据集进行扩充，进一步的进行数据降维处理训练二分类器模型并DNA加密方法将分类结果进行加密，能够实现对数字资产交易的精确高效的管理。附图说明图1示出了本申请一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法流程图。图2示出了本申请数字资产数据预处理流程图。图3示出了本申请基于DNA分子加密和改进的LightGBM算法的数字资产交易管理系统框图。具体实施方式为了能够更清楚地理解本发明的上述目的、特征和优点，下面结合附图和具体实施方式对本发明进行进一步的详细描述。需要说明的是，在不冲突的情况下，本申请的实施例及实施例中的特征可以相互组合。在下面的描述中阐述了很多具体细节以便于充分理解本发明，但是，本发明还可以采用其他不同于在此描述的其他方式来实施，因此，本发明的保护范围并不受下面公开的具体实施例的限制。名词解释：图1示出了本申请一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法的流程图。如图1所示，本申请公开了一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法，其特征在于，包括以下步骤：S102，获取数字资产数据和智能合约数据；S104，对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M；S106，对智能合约数据提取用户交易特征、字节码特征、操作码特征，并将提取的特征纳入数据集M；S108，利用数据级重采样技术扩充数据集M得到用于训练的数据集；S110，利用随机采样和EFB算法对训练数据集进行降维处理；S112，利用降维处理后的数据训练二分类器模型，利用得到的二分类器模型对待测数据样本进行分类，根据预设的用户特征得到最终的分类结果。需要说明的是，本发明所述的数字资产数据可以在不同的的数字资产上检索执行，例如通过考虑 blockchain.info/tags 上列出的所有地址来扩展搜索，该网站允许用户标记数字资产地址，大多数标记地址还包含指向提及它们的网站的链接。本发明通过大量数据集训练了一个基于贝叶斯算法的二分类器，使用网络爬虫根据二分类的结果来自动选择性解析涉及非法数字资产交易概率高的网站。收集的数据通过网络抓取来挖掘有用的信息。这减少了整体数据的大小以降低计算资源，我们将这一系列原始数据集记作M1； 另一方面本发明实施例从公开的数字资产智能合约的地址和标签中通过爬虫手动获取智能合约相关的数据，可以得到的智能合约的相关属性有交易记录、ABI、源代码、字节码和操作码，考虑到只有极少数智能合约有公开的源代码，且ABI与数字资产交易欺诈没有明显关系，将采用与智能合约相关的交易记录、字节码和操作码纳入数据集，我们将这一系列数据集记作M2。需要说明是，本发明实施例中采用跨信任域检索的方式，数据来源范围广泛，保证了原始数字资产数据的充足性、广泛性和一般性；另外，通过跨信任域的检索模式打通数字资产之间的形式间隔，提高检索效率，降低成本。此外，在数据的搜集过程中，通过已有的数据库训练基于贝叶斯算法的二分类器，网络爬虫将通过二分类的结果选择性解析相关的网页爬取数据，极大提升的数据的检索效率。图2示出了数字资产数据预处理流程图。根据本发明实施例，所述对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M具体为：S202，将获取的数字资产数据进行文本符号清理，然后利用现有的工具库将清理后的数据转为tokens；S204，将得到的tokens数据中的情绪描述映射为数字资产存储库上的特征值，利用所述特征值生成情绪量化指标并纳入数据集M。需要说明的是，在的一个具体的实施例中对数字资产数据进行预处理时，通过删除标点符号、停止符号、表情符号来清理数据，并通过python的NTLK库将这些数据转化为tokens。在转化过程中，这些标记化的数据将被分为专有名词、文本、关键字三类。然后将将得到的tokens数据中的情绪描述映射为数字资产存储库上的特征值，利用所述特征值生成情绪量化指标并纳入数据集M。需要说明的是，本发明通过引入情绪量化指标提高了对恶意实体的识别精度。根据本发明实施例，所述情绪量化指标的构建过程为：构建情绪系数、，具体表示如下： 其中，S是由字典得来的情绪值，r控制了系数的上下界，表示一个偏移调整值，表示消极情绪系数，表示积极情绪系数；将情绪系数标准化，具体计算公式如下：其中，表示分配给积极词汇的权重，表示分配给消极词汇的权重，表示标准化后的积极情绪系数，表示标准化后的消极情绪系数；利用标准化后的情绪系数计算得到最终的情绪量化指标、，表达式如下： 其中，表示积极情绪指标，表示消极情绪指标。根据本发明实施例，所述用户交易特征包括：转移的平均值 、验证所述用户所有交易的平均激励金额、所有交易的奖励平均单价、实际用于交易的奖励平均金额；所述字节码特征通过提取字节码字符串来获取字节码特征；所述操作码特征是将每个操作指令出现在合同操作码文件中的次数作为特征进行提取。需要说明的是，基于上述用户交易特征的不同参数，本发明还提出以下新特征以识别恶意实体：一般特征 ：包括所考虑实体的余额和活动持续时间；邻域特征 ：包括实体的入度、出度、唯一入度和唯一出度；本地特征 ：包括与传入或传出交易相关的参数的聚合值。这些特征包括交易的最小值、最大值、平均值、标准差和总价值、为验证交易提供的激励、激励价值以及用于验证交易的实际奖励金额；时间戳相关特性 ：包括传入和传出事务的时间间隔的最小值、最大值、平均值和标准差。需要说明的是通过从一般特征、邻域特征、本地特征、时间戳相关特性四个方面入手，更合理的对恶意交易行为进行识别判定。需要说明的是，所述字节码是由源代码经过编译转化而来，几乎不可能将字节码所代表的功能只管展现出来。因此本发明字节码通过字符串进行提取，由于具有相似功能的源代码所编译出的字节码往往是相似的，因此该特征提取方法具有可取之处。字节码特性使用其与已有的被标记为欺诈合同字节码之间的相似性。使用编辑距离来评估字节码的相似性。需要说明的是，本发明实施例在提取智能合约相关特征时，增添了合约的字节码这一特征，基于字节码难以被直观识别的问题，考虑将字节码与已有的欺诈合约之间的编辑距离作为新特征纳入数据集。根据本发明实施例，所述数据级重采样技术包括：欠采样、过采样和 SMOTE，其中，在应用欠采样时，通过随机省略一些实例来缩小真实地址的大小，直到数据集平衡；应用过采样时用少数类的一些随机选择的实例的多个副本来补充训练数据集；在应用 SMOTE 时，通过合成生成的少数类实例来扩充训练数据集。需要说明的是，在一个具体的实施例中，对于得到的数据集M存在数据不平衡的问题本发明首先采用数据级重采样技术，欠采样、过采样和SMOTE，其中，在应用欠采样时，通过随机省略一些实例来缩小真实地址的大小，直到数据集平衡；应用过采样时用少数类的一些随机选择的实例的多个副本来补充训练数据集；在应用 SMOTE 时，通过合成生成的少数类实例来扩充训练数据集。需要说明的是，通过三种数据级重采样技术对数据集进行递进式补充，以达到数据平衡。根据本发明实施例，所述利用随机采样和EFB算法对训练数据集进行降维处理具体为：保留训练数据集中梯度大于预设值的数据并随机采样梯度较小的数据；将得到的数据通过EFB算法将互斥的数据合并成新的数据。需要说明的是，在数据训练的过程中，由于所选取的数据维度较高，由于梯度较大的样本点含有较多信息，我们首先通过保留梯度较大的样本点，并随机采样梯度较小的样本点以减少数据量。进一步，由于选取的数据中一些特征之间存在着互斥关系，通过EFB算法将互斥的数据合并成新的数据，降低数据维度。最后通过使用改进的LightGBM算法训练二分类器模型。根据本发明实施例，二分类器模型输出的分类结果通过DNA加密方法将分类结果进行加密，即采用奇偶交叉位DNA编码，二元序列根据其在序列中的奇偶位置分为两个子序列，分别对两个子序列进行正常的DNA编码；然后，编码的碱基序列被依次拼接和组合，其中，每个二进制位对映射到基数取决于控制参数序列对编码规则的选择C1， 其中参数序列的元素C1在整数集中 { 1 ， ... ， 8 }. 混沌整数序列S1是使用状x 空间广义物流系统态生成的，S1可以通过以下公式计算，C1=mod⋅1015) ， 8 ) + 1Ceil 将元素四舍五入到最接近无穷大的整数，mod 返回R 除以 8的余数。需要说明的是，本发明采取了DNA加密方法将分类结果进行加密，为了将实例分类为恶意和真实两类，本专利采用二进制DNA编码加密过程。对于二进制编码，“0”和“1”是互补对，“00”和“11”是互补对，“01”和“10”也是。因此，为了适应这种互补关系，不满足这种互补关系的规则应该从编码规则的集合中去除。下图表示改进后的数字资产交易数据编码加密过程，如表1所示：表1数字资产交易数据编码加密表。需要说明的是，采用奇偶交叉位DNA编码，增加算法复杂程度以保证了数据的安全性。根据本发明实施例，所述预设的用户特征即不同类别的用户特征，用户的类别包括：普通资产用户和疑似数字资产用户，其中普通数字资产用户包括：消费者、长期投资者、短期投资者和早期采用者，所述消费者特征为：拥有的地址数量应该小于或等于平均值、平均发送和接收金额应该基本一致，并接近中值；所述长线投资者特征为：更长的用户活跃时间范围和地址的平均活跃时间范围、交易次数应该较少，收到的平均金额应该较高；所述短线投资者特征为：地址的平均活跃时间要短一些、交易次数要多一些；所述早期采用者特征为：活跃时间范围长；疑似数字资产用户包括：洗钱者和资产盗取者，其中，所述洗钱者通常通过一般等价物混合服务进行“洗钱”，但是资产混同服务的典型特征是一笔交易包含大量的输入地址和输出地址，而且资产混同使用的地址往往是一次性的，因此洗钱者用户特征如下：有明显更高的平均输入次数地址和平均输出地址数，且地址具有一次性特征、平均接收和发送量基本相同且相对较低、地址的平均活动时间范围明显较短；所述资产盗取者指窃取交易所数字资产的黑客。他们将通过控制大量地址来提高不可追踪性，其用户特征如下：有大量控制的地址并且这些地址之间会有稳定的数字资产转移交易；平均收发量基本一致；地址的平均活跃时间范围较短。根据本发明实施例，通过计算待测样本与不同类别用户数据特征的几何中心的距离得到待测样本归属的用户类别，并通过检验给出相对应的置信水平，具体为：设表示K类人群中的第l个样本的n个特征，所述特征包括：平均输入次数、平均接受和发射量、地址的平均活动时间，样本的重心Wk定义为:其中n表示K类样本的样本数量，对于待测样本W，W将被归类为k，当：其中，l取遍从1到n时，使得表达式的值最小的l即为k。最后，得出的分类结果将被管理人员直接调用，便于管理人员依据可以用户的具体画像展开更深入的调查。图3示出了一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理系统。本发明第二方面提供了一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理系统，包括存储器31和处理器32，所述存储器中包括基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法程序，所述基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法程序被所述处理器执行时实现如下步骤：获取数字资产数据和智能合约数据；对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标构纳入新的数据集M；对智能合约数据提取用户交易特征、字节码特征、操作码特征，并将提取的特征纳入数据集M；利用数据级重采样技术扩充数据集M得到用于训练的数据集；利用随机采样和EFB算法对训练数据集进行降维处理；利用降维处理后的数据训练二分类器模型，利用得到的二分类器模型对待测数据样本进行分类，根据预设的用户特征得到最终的分类结果。需要说明的是，本发明所述的数字资产数据可以在不同的的数字资产上检索执行，例如通过考虑 blockchain.info/tags 上列出的所有地址来扩展搜索，该网站允许用户标记数字资产地址，大多数标记地址还包含指向提及它们的网站的链接。本发明通过大量数据集训练了一个基于贝叶斯算法的二分类器，使用网络爬虫根据二分类的结果来自动选择性解析涉及非法数字资产交易概率高的网站。收集的数据通过网络抓取来挖掘有用的信息。这减少了整体数据的大小以降低计算资源，我们将这一系列原始数据集记作M1； 另一方面本发明实施例从公开的数字资产智能合约的地址和标签中通过爬虫手动获取智能合约相关的数据，可以得到的智能合约的相关属性有交易记录、ABI、源代码、字节码和操作码，考虑到只有极少数智能合约有公开的源代码，且ABI与数字资产交易欺诈没有明显关系，将采用与智能合约相关的交易记录、字节码和操作码纳入数据集，我们将这一系列数据集记作M2：根据本发明实施例，所述对数字资产数据进行预处理，将预处理后的数据进行情绪分析，生成情绪量化指标纳入新的数据集M具体为：S202，将获取的数字资产数据进行文本符号清理，然后利用现有的工具库将清理后的数据转为tokens；S204，将得到的tokens数据中的情绪描述映射为数字资产存储库上的特征值，利用所述特征值生成情绪量化指标并纳入数据集M。需要说明的是，在的一个具体的实施例中对数字资产数据进行预处理时，通过删除标点符号、停止符号、表情符号来清理数据，并通过python的NTLK库将这些数据转化为tokens。在转化过程中，这些标记化的数据将被分为专有名词、文本、关键字三类。然后将将得到的tokens数据中的情绪描述映射为数字资产存储库上的特征值，利用所述特征值生成情绪量化指标并纳入数据集M。根据本发明实施例，所述情绪量化指标的构建过程为：构建情绪系数、，具体表示如下： 其中，S是由字典得来的情绪值，r控制了系数的上下界，表示一个偏移调整值，表示消极情绪系数，表示积极情绪系数；将情绪系数标准化，具体计算公式如下：其中，表示分配给积极词汇的权重，表示分配给消极词汇的权重，表示标准化后的积极情绪系数，表示标准化后的消极情绪系数；利用标准化后的情绪系数计算得到最终的情绪量化指标、，表达式如下： 其中，表示积极情绪指标，表示消极情绪指标。根据本发明实施例，所述用户交易特征包括：转移的平均值 、验证所述用户所有交易的平均激励金额、所有交易的奖励平均单价、实际用于交易的奖励平均金额；所述字节码特征通过提取字节码字符串来获取字节码特征；所述操作码特征是将每个操作指令出现在合同操作码文件中的次数作为特征进行提取。需要说明的是，基于上述用户交易特征的不同参数，本发明还提出以下新特征以识别恶意实体：一般特征 ：包括所考虑实体的余额和活动持续时间；邻域特征 ：包括实体的入度、出度、唯一入度和唯一出度；本地特征 ：包括与传入或传出交易相关的参数的聚合值。这些特征包括交易的最小值、最大值、平均值、标准差和总价值、为验证交易提供的激励、激励价值以及用于验证交易的实际奖励金额；时间戳相关特性 ：包括传入和传出事务的时间间隔的最小值、最大值、平均值和标准差。需要说明的是，所述字节码是由源代码经过编译转化而来，几乎不可能将字节码所代表的功能只管展现出来。因此本发明字节码通过字符串进行提取，由于具有相似功能的源代码所编译出的字节码往往是相似的，因此该特征提取方法具有可取之处。字节码特性使用其与已有的被标记为欺诈合同字节码之间的相似性。使用编辑距离来评估字节码的相似性。根据本发明实施例，所述数据级重采样技术包括：欠采样、过采样和 SMOTE，其中，在应用欠采样时，通过随机省略一些实例来缩小真实地址的大小，直到数据集平衡；应用过采样时用少数类的一些随机选择的实例的多个副本来补充训练数据集；在应用 SMOTE 时，通过合成生成的少数类实例来扩充训练数据集。需要说明的是，在一个具体的实施例中，对于得到的数据集M存在数据不平衡的问题本发明首先采用数据级重采样技术，欠采样、过采样和SMOTE，其中，在应用欠采样时，通过随机省略一些实例来缩小真实地址的大小，直到数据集平衡；应用过采样时用少数类的一些随机选择的实例的多个副本来补充训练数据集；在应用 SMOTE 时，通过合成生成的少数类实例来扩充训练数据集。根据本发明实施例，所述利用随机采样和EFB算法对训练数据集进行降维处理具体为：保留训练数据集中梯度大于预设值的数据并随机采样梯度较小的数据；将得到的数据通过EFB算法将互斥的数据合并成新的数据。需要说明的是，在数据训练的过程中，由于所选取的数据维度较高，由于梯度较大的样本点含有较多信息，我们首先通过保留梯度较大的样本点，并随机采样梯度较小的样本点以减少数据量。进一步，由于选取的数据中一些特征之间存在着互斥关系，通过EFB算法将互斥的数据合并成新的数据，降低数据维度。最后通过使用改进的LightGBM算法训练二分类器模型。根据本发明实施例，二分类器模型输出的分类结果通过DNA加密方法将分类结果进行加密，即采用奇偶交叉位DNA编码，二元序列根据其在序列中的奇偶位置分为两个子序列，分别对两个子序列进行正常的DNA编码；然后，编码的碱基序列被依次拼接和组合，其中，每个二进制位对映射到基数取决于控制参数序列对编码规则的选择C1， 其中参数序列的元素C1在整数集中 { 1 ， ... ， 8 }. 混沌整数序列S1是使用状x 空间广义物流系统态生成的，S1可以通过以下公式计算，C1=mod⋅1015) ， 8 ) + 1Ceil 将元素四舍五入到最接近无穷大的整数，mod 返回R 除以 8的余数。需要说明的是，本发明采取了DNA加密方法将分类结果进行加密，为了将实例分类为恶意和真实两类，本专利采用二进制DNA编码加密过程。对于二进制编码，“0”和“1”是互补对，“00”和“11”是互补对，“01”和“10”也是。因此，为了适应这种互补关系，不满足这种互补关系的规则应该从编码规则的集合中去除。下图表示改进后的数字资产交易数据编码加密过程，如表1所示：表1数字资产交易数据编码加密表。根据本发明实施例，所述预设的用户特征即不同类别的用户特征，用户的类别包括：普通资产用户和疑似数字资产用户，其中普通数字资产用户包括：消费者、长期投资者、短期投资者和早期采用者，所述消费者特征为：拥有的地址数量应该小于或等于平均值、平均发送和接收金额应该基本一致，并接近中值；所述长线投资者特征为：更长的用户活跃时间范围和地址的平均活跃时间范围、交易次数应该较少，收到的平均金额应该较高；所述短线投资者特征为：地址的平均活跃时间要短一些、交易次数要多一些；所述早期采用者特征为：活跃时间范围长；疑似数字资产用户包括：洗钱者和资产盗取者，其中，所述洗钱者通常通过一般等价物混合服务进行“洗钱”，但是资产混同服务的典型特征是一笔交易包含大量的输入地址和输出地址，而且资产混同使用的地址往往是一次性的，因此洗钱者用户特征如下：有明显更高的平均输入次数地址和平均输出地址数，且地址具有一次性特征、平均接收和发送量基本相同且相对较低、地址的平均活动时间范围明显较短；所述资产盗取者指窃取交易所数字资产的黑客。他们将通过控制大量地址来提高不可追踪性，其用户特征如下：有大量控制的地址并且这些地址之间会有稳定的数字资产转移交易；平均收发量基本一致；地址的平均活跃时间范围较短。根据本发明实施例，通过计算待测样本与不同类别用户数据特征的几何中心的距离得到待测样本归属的用户类别，并通过检验给出相对应的置信水平，具体为：设表示K类人群中的第l个样本的n个特征，所述特征包括：平均输入次数、平均接受和发射量、地址的平均活动时间，样本的重心Wk定义为:其中n表示K类样本的样本数量，对于待测样本W，W将被归类为k，当：也即l取遍从1到n时，使得表达式的值最小的l即为k。最后，得出的分类结果将被管理人员直接调用，便于管理人员依据可以用户的具体画像展开更深入的调查。本发明第三方面提供了一种计算机可读存储介质，所述计算机可读存储介质中包括基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法程序，所述基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法程序被处理器执行时，实现如上所述的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法的步骤。本发明公开的一种基于DNA分子加密和改进的LightGBM算法的数字资产交易管理方法及系统，通过获取数字资产数据和智能合约数据并提取智能合约数据多维特征，然后对数据集进行数据级重采样技术扩充数据集进行扩充，进一步的进行数据降维处理训练二分类器模型并DNA加密方法将分类结果进行加密，能够实现对数字资产交易的精确高效的管理。在本申请所提供的几个实施例中，应该理解到，所揭露的设备和方法，可以通过其它的方式实现。以上所描述的设备实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，如：多个单元或组件可以结合，或可以集成到另一个系统，或一些特征可以忽略，或不执行。另外，所显示或讨论的各组成部分相互之间的耦合、或直接耦合、或通信连接可以是通过一些接口，设备或单元的间接耦合或通信连接，可以是电性的、机械的或其它形式的。上述作为分离部件说明的单元可以是、或也可以不是物理上分开的，作为单元显示的部件可以是、或也可以不是物理单元；既可以位于一个地方，也可以分布到多个网络单元上；可以根据实际的需要选择其中的部分或全部单元来实现本实施例方案的目的。另外，在本发明各实施例中的各功能单元可以全部集成在一个处理单元中，也可以是各单元分别单独作为一个单元，也可以两个或两个以上单元集成在一个单元中；上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能单元的形式实现。本领域普通技术人员可以理解：实现上述方法实施例的全部或部分步骤可以通过程序指令相关的硬件来完成，前述的程序可以存储于计算机可读取存储介质中，该程序在执行时，执行包括上述方法实施例的步骤；而前述的存储介质包括：移动存储设备、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。或者，本发明上述集成的单元如果以软件功能模块的形式实现并作为独立的产品销售或使用时，也可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明实施例的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分。而前述的存储介质包括：移动存储设备、ROM、RAM、磁碟或者光盘等各种可以存储程序代码的介质。
