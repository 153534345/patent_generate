标题title
一种卷管理方法、系统、设备以及介质
摘要abst
本发明公开了一种卷管理方法，包括以下步骤：获取第一配置文件、第二配置文件和第三配置文件；从所述第二配置文件中获取待创建卷的第一类参数以及从所述第三配置文件获取所述待创建卷的第二类参数；根据所述第一配置文件确定多个存储集群，并从所述多个存储集群中选择其中一个存储集群作为目标存储集群；利用所述第一类参数和所述第二类参数在所述目标存储集群中创建卷。本发明还公开了一种系统、计算机设备以及可读存储介质。本发明提出的方案可以实现同时对接多套存储系统，并支持动态选择存储。这样，不仅简化驱动配置和管理，降低错误几率。还可以集中式看护和运维，降低人力成本。
权利要求书clms
1.一种卷管理方法，其特征在于，包括以下步骤：获取第一配置文件、第二配置文件和第三配置文件；从所述第二配置文件中获取待创建卷的第一类参数以及从所述第三配置文件获取所述待创建卷的第二类参数；根据所述第一配置文件确定多个存储集群，并从所述多个存储集群中选择其中一个存储集群作为目标存储集群；利用所述第一类参数和所述第二类参数在所述目标存储集群中创建卷。2.如权利要求1所述的方法，其特征在于，还包括：生成所述卷的名称并建立所述卷的名称与所述第三配置文件中的默认卷名称的映射；根据所述卷的名称、所述目标存储集群的名称以及所述卷的类型生成卷的ID。3.如权利要求2所述的方法，其特征在于，还包括：获取第四配置文件，其中所述第四配置文件中绑定所述第三配置文件中的默认卷名称；根据所述第四配置文件创建POD；根据所述默认卷名称确定所述卷的名称，并根据所述卷的名称确定卷的ID；根据所述卷的ID将对应的卷挂载到所述POD上。4.如权利要求3所述的方法，其特征在于，还包括：响应于接收到删除所述POD的命令，将所述POD删除并将所述卷从所述POD上卸载。5.如权利要求2所述的方法，其特征在于，还包括：响应于接收到删除所述卷的命令，根据所述卷的ID确定所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型；根据所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型确定待删除的卷，并将所述待删除的卷删除。6.如权利要求1所述的方法，其特征在于，从所述多个存储集群中选择其中一个存储集群作为目标存储集群，进一步包括：获取每一个存储集群的多个样本数据，其中每一个样本数据中均包括多个特征数据；根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能；根据所述性能选择其中一个存储集群作为目标存储集群。7.如权利要求6所述的方法，其特征在于，根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值包括：根据下式计算每一个特征的权重wi：其中，i表示第i个特征，k表示第k个样本，N为样本总数，为第个样本数据的第个特征值；根据下式计算每一个特征的均值：t表示第t个存储集群，Nt表示第t个存储集群的样本数据的总数；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能包括：根据下式计算每一个存储集群对应的性能：其中，m表示每一个样本数据中特征的数量。8.一种卷管理系统，其特征在于，包括：第一获取模块，配置为获取第一配置文件、第二配置文件和第三配置文件；第二获取模块，配置为从所述第二配置文件中获取待创建卷的第一类参数以及从所述第三配置文件获取所述待创建卷的第二类参数；选择模块，配置为根据所述第一配置文件确定多个存储集群，并从所述多个存储集群中选择其中一个存储集群作为目标存储集群；创建模块，配置为利用所述第一类参数和所述第二类参数在所述目标存储集群中创建卷。9.一种计算机设备，包括：至少一个处理器；以及存储器，所述存储器存储有可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时执行如权利要求1-7任意一项所述的方法的步骤。10.一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，其特征在于，所述计算机程序被处理器执行时执行如权利要求1-7任意一项所述的方法的步骤。
说明书desc
技术领域本发明涉及存储领域，具体涉及一种卷管理方法、系统、设备以及存储介质。背景技术在CSI驱动默认实现中，一套驱动对接一套存储。然而，在正常的业务场景中，客户一般部署多套不同类型的存储集群，那么就需要部署多套驱动，这样一方面给管理带来了困难，另一方面增加了维护成本。发明内容有鉴于此，为了克服上述问题的至少一个方面，本发明实施例提出一种卷管理方法，包括以下步骤：获取第一配置文件、第二配置文件和第三配置文件；从所述第二配置文件中获取待创建卷的第一类参数以及从所述第三配置文件获取所述待创建卷的第二类参数；根据所述第一配置文件确定多个存储集群，并从所述多个存储集群中选择其中一个存储集群作为目标存储集群；利用所述第一类参数和所述第二类参数在所述目标存储集群中创建卷。在一些实施例中，还包括：生成所述卷的名称并建立所述卷的名称与所述第三配置文件中的默认卷名称的映射；根据所述卷的名称、所述目标存储集群的名称以及所述卷的类型生成卷的ID。在一些实施例中，还包括：获取第四配置文件，其中所述第四配置文件中绑定所述第三配置文件中的默认卷名称；根据所述第四配置文件创建POD；根据所述默认卷名称确定所述卷的名称，并根据所述卷的名称确定卷的ID；根据所述卷的ID将对应的卷挂载到所述POD上。在一些实施例中，还包括：响应于接收到删除所述POD的命令，将所述POD删除并将所述卷从所述POD上卸载。在一些实施例中，还包括：响应于接收到删除所述卷的命令，根据所述卷的ID确定所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型；根据所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型确定待删除的卷，并将所述待删除的卷删除。在一些实施例中，从所述多个存储集群中选择其中一个存储集群作为目标存储集群，进一步包括：获取每一个存储集群的多个样本数据，其中每一个样本数据中均包括多个特征数据；根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能；根据所述性能选择其中一个存储集群作为目标存储集群。在一些实施例中，根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值包括：根据下式计算每一个特征的权重wi：其中，i表示第i个特征，k表示第k个样本，N为样本总数，为第k个样本数据的第i个特征值；根据下式计算每一个特征的均值：t表示第t个存储集群，Nt表示第t个存储集群的样本数据的总数；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能包括：根据下式计算每一个存储集群对应的性能：其中，m表示每一个样本数据中特征的数量。基于同一发明构思，根据本发明的另一个方面，本发明的实施例还提供了一种卷管理系统，包括：第一获取模块，配置为获取第一配置文件、第二配置文件和第三配置文件；第二获取模块，配置为从所述第二配置文件中获取待创建卷的第一类参数以及从所述第三配置文件获取所述待创建卷的第二类参数；选择模块，配置为根据所述第一配置文件确定多个存储集群，并从所述多个存储集群中选择其中一个存储集群作为目标存储集群；创建模块，配置为利用所述第一类参数和所述第二类参数在所述目标存储集群中创建卷。基于同一发明构思，根据本发明的另一个方面，本发明的实施例还提供了一种计算机设备，包括：至少一个处理器；以及存储器，所述存储器存储有可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时执行如上所述的任一种卷管理方法的步骤。基于同一发明构思，根据本发明的另一个方面，本发明的实施例还提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时执行如上所述的任一种卷管理方法的步骤。本发明具有以下有益技术效果之一：本发明提出的方案可以实现同时对接多套存储系统，并支持动态选择存储。这样，不仅简化驱动配置和管理，降低错误几率。还可以集中式看护和运维，降低人力成本。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的实施例。图1为本发明的实施例提供的卷管理方法的流程示意图；图2为本发明的实施例提供的卷管理系统的结构示意图；图3为本发明的实施例提供的计算机设备的结构示意图；图4为本发明的实施例提供的计算机可读存储介质的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚明白，以下结合具体实施例，并参照附图，对本发明实施例进一步详细说明。需要说明的是，本发明实施例中所有使用“第一”和“第二”的表述均是为了区分两个相同名称非相同的实体或者非相同的参量，可见“第一”“第二”仅为了表述的方便，不应理解为对本发明实施例的限定，后续实施例对此不再一一说明。在本发明的实施例中，POD指K8S管理的最小单位级，一个或多个容器的组合。CSI驱动可以提供行业标准，使存储厂商能够开发一个符合CSI标准的插件，解耦容器编排系统与存储，向上对接kubernetes、Cloud Foundry、Mesos等系统，向下对接各种存储，为容器编排系统提供持久化卷存储能力。根据本发明的一个方面，本发明的实施例提出一种卷管理方法，如图1所示，其可以包括步骤：S1，获取第一配置文件、第二配置文件和第三配置文件；S2，从所述第二配置文件中获取待创建卷的第一类参数以及从所述第三配置文件获取所述待创建卷的第二类参数；S3，根据所述第一配置文件确定多个存储集群，并从所述多个存储集群中选择其中一个存储集群作为目标存储集群；S4，利用所述第一类参数和所述第二类参数在所述目标存储集群中创建卷。本发明提出的方案可以实现同时对接多套存储系统，并支持动态选择存储。这样，不仅简化驱动配置和管理，降低错误几率。还可以集中式看护和运维，降低人力成本。在一些实施例中，第一配置文件中记录了多个存储集群的信息。例如第一配置文件可以如下所示：storage:-name:storage-01type:AS18000host:100.7.46.18:22username:superuserpassword:123456a？-name:storage-02type:AS13000host:100.7.46.13:8080username:superuserpassword:123456a？其中name表示存储集群的名称。Type表示存储类型，AS18000代表集中式存储，AS13000代表分布式存储。Host表示存储IP和Port。Username表示用户名。Password表示密码。在一些实施例中，第二配置文件为存储模板文件，其主要记录了待创建的卷在哪一个存储池，以及卷的标识等，也即第一类参数。例如，第二配置文件可以如下所示：其中，metadata.name表示SC名称。parameters.devKind表示设备类型，可选block或share，block代表块设备，share代表NAS设备。parameters.dataPool表示存储池，即将在此池上创建卷。parameters.thinAttribute表示精简卷标识，可选0或1，0代表非精简卷，1代表精简卷。parameters.threshold表示告警阈值，可选1～100。在一些实施例中，第三配置文件其主要记录了待创建卷的更详细的参数，例如类型、大小、模式等等，也即主要记录了第二类参数。例如，第三配置文件可以如下所示：其中，metadata.name表示PVC名称，也即默认卷名称。spec.accessModes表示访问模式，可选ReadWriteOnce、ReadWriteMany或ReadOnlyMany，ReadWriteOnce代表单节点读写，ReadWriteMany代表多节点读写，ReadOnlyMany多节点只读。spec.volumeMode表示卷模式，可选Filesystem或Block，Filesystem代表卷以文件系统的方式挂载卷，Block代表以裸设备的方式挂载卷。spec.resources.request.storage表示卷大小。spec.storageClassName表示SC名称，用于绑定某SC，也即SC文件中无需指定存储名称，PVC文件中指定SC名称，通过SC文件和PVC文件即可确定待创建卷的参数信息。在一些实施例中，创建PVC即对应创建卷。当PVC文件创建后，CSI驱动从K8s中获取卷名称以及从PVC文件中获取第二类参数，其中卷名称由K8s自动生成，其他第一类参数来自PVC文件绑定的SC文件。需要说明的是，在创建卷时，K8s会自动生成卷的名称，并且会自动创建PVC文件中的默认卷名称与生成的卷的名称之间的映射。在一些实施例中，还包括：生成所述卷的名称并建立所述卷的名称与所述第三配置文件中的默认卷名称的映射；根据所述卷的名称、所述目标存储集群的名称以及所述卷的类型生成卷的ID。具体的，在选择一个存储集群作为目标存储后，CSI驱动可以根据选择的存储集群通知该存储创建卷，创建完成后，为了标识该卷所属的存储集群，需将存储基础的名称添加到卷ID。完整的卷ID是根据卷名称、存储名称和其他参数共同生成。在一些实施例中，卷ID由两部分组成，即A和B，中间用下划线间隔，即A_B。A代表卷名称，B代表附属信息。假设，卷名称为pvc-f445feea，则A为pvc-f445feea。存储名称为storage-01，其他参数为block，则B则可以通过echo‘devName:storage-01|devKind:block’|base64得到：ZGV2TmFtZTpzdG9yYWdlLTAxfGRldktpbmQ6YmxvY2sK。这样，最终卷的ID为pvc-f445feea_ZGV2TmFtZTpzdG9yYWdlLTAxfGRldktpbmQ6YmxvY2sK。在一些实施例中，还包括：获取第四配置文件，其中所述第四配置文件中绑定所述第三配置文件中的默认卷名称；根据所述第四配置文件创建POD；根据所述默认卷名称确定所述卷的名称，并根据所述卷的名称确定卷的ID；根据所述卷的ID将对应的卷挂载到所述POD上。具体的，第四配置文件可以如下所示：其中，metadata.name表示POD名称。spec.volumes.persistentVolumeClaim.claimName表示PVC名称，用于绑定某PVC文件。创建POD即对应挂载卷。CSI驱动从K8s中获取卷ID，并解析卷的ID，其中，卷的ID格式仍为A_B，即A为卷名称，B为经过base64编码后的附属信息，为获取原始附属信息，需对B进行base64反编码。对于卷ID为pvc-f445feea_ZGV2TmFtZTpzdG9yYWdlLTAxfGRldktpbmQ6YmxvY2sK，先获取卷名称为pvc-f445feea，然后通过echo‘ZGV2TmFtZTpzdG9yYWdlLTAxfGRldktpbmQ6YmxvY2sK’|base64-d得到devName:storage-01|devKind:block，即存储名称为storage-01，设备类型为block。这样即可将对应的卷挂载到创建的POD上。在一些实施例中，还包括：响应于接收到删除所述POD的命令，将所述POD删除并将所述卷从所述POD上卸载。具体的，可以通过命令kubectl delete-f pod.yaml删除POD。接着，卸载对应的卷。首先，CSI驱动从K8s中获取卷ID。然后，根据卷ID获取卷名称、存储名称和设备类型，最后，通知存储集群卸载卷。在一些实施例中，还包括：响应于接收到删除所述卷的命令，根据所述卷的ID确定所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型；根据所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型确定待删除的卷，并将所述待删除的卷删除。具体的，通过命令kubectl delete-f pvc.yaml删除PVC。接着将对应的卷删除。首先，CSI驱动从K8s中获取卷ID。然后，根据卷ID获取卷名称、存储名称和设备类型，最后，通知存储集群删除卷。在一些实施例中，从所述多个存储集群中选择其中一个存储集群作为目标存储集群，进一步包括：获取每一个存储集群的多个样本数据，其中每一个样本数据中均包括多个特征数据；根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能；根据所述性能选择其中一个存储集群作为目标存储集群。在一些实施例中，根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值包括：根据下式计算每一个特征的权重wi：其中，i表示第i个特征，k表示第k个样本，N为样本总数，为第k个样本数据的第i个特征值；根据下式计算每一个特征的均值：t表示第t个存储集群，Nt表示第t个存储集群的样本数据的总数；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能包括：根据下式计算每一个存储集群对应的性能：其中，m表示每一个样本数据中特征的数量。具体的，可以根据每一个存储集群的多个特征来选择目标存储集群。例如，可以根据创建、挂载、卸载和删除卷的耗时来确定目标存储集群。下面以两个存储集群为例，每一个存储集群的样本数据分别为3个详细说明如何选择目标存储集群。例如，如下所示，每一个存储集群的样本数据可以为：接着处理原始样本，计算每个特征的权重wi。均值方差权重其中，i表示第i个特征，取值范围1～4。k表示第k个样本，取值范围1～6。N为样本总数，本例中为6。为第k个样本的第i个特征值。得到的权重可以如下表所示：接着计算每一个存储集的每一个特征的均值其中，t表示第t类存储，取值范围1～2。i表示第i个特征，取值范围1～4。Nt表示第t类存储的样本总数。得到的均值可以如下所示：根据权重和均值，计算每一类存储的总耗时并选择总耗时最小的存储。本发明提出的方案通过在第一配置文件中，添加多套存储信息。在第二配置文件中，无需指定存储名称。这样在创建PVC时，首先根据计算动态选择总耗时最小的存储集群，然后到该存储集群创建卷，最后根据卷名称、存储名称和其他信息共同生成卷ID。而在创建POD、删除POD和删除PVC时，对卷ID解析获得卷名称、存储名称和其他信息，并根据存储名称到指定存储挂载、卸载卷、删除卷。基于同一发明构思，根据本发明的另一个方面，本发明的实施例还提供了一种卷管理系统400，如图2所示，包括：第一获取模块401，配置为获取第一配置文件、第二配置文件和第三配置文件；第二获取模块402，配置为从所述第二配置文件中获取待创建卷的第一类参数以及从所述第三配置文件获取所述待创建卷的第二类参数；选择模块403，配置为根据所述第一配置文件确定多个存储集群，并从所述多个存储集群中选择其中一个存储集群作为目标存储集群；创建模块404，配置为利用所述第一类参数和所述第二类参数在所述目标存储集群中创建卷。基于同一发明构思，根据本发明的另一个方面，如图3所示，本发明的实施例还提供了一种计算机设备501，包括：至少一个处理器520；以及存储器510，存储器510存储有可在处理器上运行的计算机程序511，处理器520执行程序时执行以下步骤：S1，获取第一配置文件、第二配置文件和第三配置文件；S2，从所述第二配置文件中获取待创建卷的第一类参数以及从所述第三配置文件获取所述待创建卷的第二类参数；S3，根据所述第一配置文件确定多个存储集群，并从所述多个存储集群中选择其中一个存储集群作为目标存储集群；S4，利用所述第一类参数和所述第二类参数在所述目标存储集群中创建卷。在一些实施例中，还包括：生成所述卷的名称并建立所述卷的名称与所述第三配置文件中的默认卷名称的映射；根据所述卷的名称、所述目标存储集群的名称以及所述卷的类型生成卷的ID。在一些实施例中，还包括：获取第四配置文件，其中所述第四配置文件中绑定所述第三配置文件中的默认卷名称；根据所述第四配置文件创建POD；根据所述默认卷名称确定所述卷的名称，并根据所述卷的名称确定卷的ID；根据所述卷的ID将对应的卷挂载到所述POD上。在一些实施例中，还包括：响应于接收到删除所述POD的命令，将所述POD删除并将所述卷从所述POD上卸载。在一些实施例中，还包括：响应于接收到删除所述卷的命令，根据所述卷的ID确定所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型；根据所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型确定待删除的卷，并将所述待删除的卷删除。在一些实施例中，从所述多个存储集群中选择其中一个存储集群作为目标存储集群，进一步包括：获取每一个存储集群的多个样本数据，其中每一个样本数据中均包括多个特征数据；根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能；根据所述性能选择其中一个存储集群作为目标存储集群。在一些实施例中，根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值包括：根据下式计算每一个特征的权重wi：其中，i表示第i个特征，k表示第k个样本，N为样本总数，为第k个样本数据的第i个特征值；根据下式计算每一个特征的均值：t表示第t个存储集群，Nt表示第t个存储集群的样本数据的总数；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能包括：根据下式计算每一个存储集群对应的性能：其中，m表示每一个样本数据中特征的数量。本发明提出的方案通过在第一配置文件中，添加多套存储信息。在第二配置文件中，无需指定存储名称。这样在创建PVC时，首先根据计算动态选择总耗时最小的存储集群，然后到该存储集群创建卷，最后根据卷名称、存储名称和其他信息共同生成卷ID。而在创建POD、删除POD和删除PVC时，对卷ID解析获得卷名称、存储名称和其他信息，并根据存储名称到指定存储挂载、卸载卷、删除卷。基于同一发明构思，根据本发明的另一个方面，如图4所示，本发明的实施例还提供了一种计算机可读存储介质601，计算机可读存储介质601存储有计算机程序指令610，计算机程序指令610被处理器执行时执行以下步骤：S1，获取第一配置文件、第二配置文件和第三配置文件；S2，从所述第二配置文件中获取待创建卷的第一类参数以及从所述第三配置文件获取所述待创建卷的第二类参数；S3，根据所述第一配置文件确定多个存储集群，并从所述多个存储集群中选择其中一个存储集群作为目标存储集群；S4，利用所述第一类参数和所述第二类参数在所述目标存储集群中创建卷。在一些实施例中，还包括：生成所述卷的名称并建立所述卷的名称与所述第三配置文件中的默认卷名称的映射；根据所述卷的名称、所述目标存储集群的名称以及所述卷的类型生成卷的ID。在一些实施例中，还包括：获取第四配置文件，其中所述第四配置文件中绑定所述第三配置文件中的默认卷名称；根据所述第四配置文件创建POD；根据所述默认卷名称确定所述卷的名称，并根据所述卷的名称确定卷的ID；根据所述卷的ID将对应的卷挂载到所述POD上。在一些实施例中，还包括：响应于接收到删除所述POD的命令，将所述POD删除并将所述卷从所述POD上卸载。在一些实施例中，还包括：响应于接收到删除所述卷的命令，根据所述卷的ID确定所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型；根据所述卷对应的名称、所述目标存储集群的名称以及所述卷的类型确定待删除的卷，并将所述待删除的卷删除。在一些实施例中，从所述多个存储集群中选择其中一个存储集群作为目标存储集群，进一步包括：获取每一个存储集群的多个样本数据，其中每一个样本数据中均包括多个特征数据；根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能；根据所述性能选择其中一个存储集群作为目标存储集群。在一些实施例中，根据所有样本数据计算每一个特征的权重以及每一个存储集群中的每一个特征的均值包括：根据下式计算每一个特征的权重wi：其中，i表示第i个特征，k表示第k个样本，N为样本总数，为第k个样本数据的第i个特征值；根据下式计算每一个特征的均值：t表示第t个存储集群，Nt表示第t个存储集群的样本数据的总数；根据每一个存储集群中的每一个特征的均值和每一个特征的权重计算每一个存储集群对应的性能包括：根据下式计算每一个存储集群对应的性能：其中，m表示每一个样本数据中特征的数量。本发明提出的方案通过在第一配置文件中，添加多套存储信息。在第二配置文件中，无需指定存储名称。这样在创建PVC时，首先根据计算动态选择总耗时最小的存储集群，然后到该存储集群创建卷，最后根据卷名称、存储名称和其他信息共同生成卷ID。而在创建POD、删除POD和删除PVC时，对卷ID解析获得卷名称、存储名称和其他信息，并根据存储名称到指定存储挂载、卸载卷、删除卷。最后需要说明的是，本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，可以通过计算机程序来指令相关硬件来完成，程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。此外，应该明白的是，本文的计算机可读存储介质可以是易失性存储器或非易失性存储器，或者可以包括易失性存储器和非易失性存储器两者。本领域技术人员还将明白的是，结合这里的公开所描述的各种示例性逻辑块、模块、电路和算法步骤可以被实现为电子硬件、计算机软件或两者的组合。为了清楚地说明硬件和软件的这种可互换性，已经就各种示意性组件、方块、模块、电路和步骤的功能对其进行了一般性的描述。这种功能是被实现为软件还是被实现为硬件取决于具体应用以及施加给整个系统的设计约束。本领域技术人员可以针对每种具体应用以各种方式来实现的功能，但是这种实现决定不应被解释为导致脱离本发明实施例公开的范围。以上是本发明公开的示例性实施例，但是应当注意，在不背离权利要求限定的本发明实施例公开的范围的前提下，可以进行多种改变和修改。根据这里描述的公开实施例的方法权利要求的功能、步骤和/或动作不需以任何特定顺序执行。此外，尽管本发明实施例公开的元素可以以个体形式描述或要求，但除非明确限制为单数，也可以理解为多个。应当理解的是，在本文中使用的，除非上下文清楚地支持例外情况，单数形式“一个”旨在也包括复数形式。还应当理解的是，在本文中使用的“和/或”是指包括一个或者一个以上相关联地列出的项目的任意和所有可能组合。上述本发明实施例公开实施例序号仅仅为了描述，不代表实施例的优劣。本领域普通技术人员可以理解实现上述实施例的全部或部分步骤可以通过硬件来完成，也可以通过程序来指令相关的硬件完成，的程序可以存储于一种计算机可读存储介质中，上述提到的存储介质可以是只读存储器，磁盘或光盘等。所属领域的普通技术人员应当理解：以上任何实施例的讨论仅为示例性的，并非旨在暗示本发明实施例公开的范围被限于这些例子；在本发明实施例的思路下，以上实施例或者不同实施例中的技术特征之间也可以进行组合，并存在如上的本发明实施例的不同方面的许多其它变化，为了简明它们没有在细节中提供。因此，凡在本发明实施例的精神和原则之内，所做的任何省略、修改、等同替换、改进等，均应包含在本发明实施例的保护范围之内。
