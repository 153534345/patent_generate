标题title
小天体附着三维凸轨迹燃耗最优控制方法
摘要abst
本发明公开的小天体附着三维凸轨迹燃耗最优控制方法，属于深空探测技术领域。本发明实现方法为：针对小天体附着动力学的耦合特性，基于空间曲线的几何特征，利用以当前位置和目标着陆点连线为母线的动态锥约束探测器的当前速度矢量，使探测器沿三维凸轨迹附着。构造三维轨迹凸约束，并将三维轨迹凸约束松弛为衡量三维轨迹凸度的性能指标，加权至原有最小燃耗指标中。在加权指标的基础上，考虑控制约束、初始和末端约束以及耦合动力学形成最优控制问题。将最优控制问题进行转化，使其能够直接用序列二阶锥规划的方法快速求解。当采用所求最优控制序列时，探测器沿三维凸轨迹安全附着，减小与障碍碰撞的风险，提高附着的安全性。
权利要求书clms
1.小天体附着三维凸轨迹燃耗最优控制方法，其特征在于：包括如下步骤，步骤一、建立小天体附着动力学方程，针对小天体附着动力学方程的耦合特性，基于空间曲线的几何特征建立三维轨迹凸条件，根据三维轨迹凸条件演化生成衡量三维轨迹凸度的性能指标；在小天体附着动力学方程、推力约束和探测器初末状态约束条件下，将三维凸轨迹性能指标与燃耗指标进行加权作为优化目标，形成小天体附着三维凸轨迹燃耗最优控制问题；所述三维轨迹凸条件指以当前位置和目标着陆点连线为母线的动态锥约束探测器的当前速度矢量；步骤二、将步骤一中小天体附着三维凸轨迹燃耗最优控制问题转化为转为序列二阶锥规划；设置置信域约束，给出小天体附着三维凸轨迹燃耗最优控制问题序列二阶锥规划的初值；步骤三、基于第i次标称值，求解步骤二中小天体附着三维凸轨迹燃耗最优控制的二阶锥规划，判断得到的解是否满足收敛条件；满足收敛条件，该解即为所求最优解；不满足收敛条件则以当前解为标称值，返回步骤二继续第i+1次迭代，直至满足收敛条件；将满足收敛条件的最优解用于步骤四中小天体附着三维凸轨迹燃耗最优控制。2.如权利要求1所述的小天体附着三维凸轨迹燃耗最优控制方法，其特征在于：还包括步骤四，利用步骤三优化得到的最优解进行小天体附着三维凸轨迹燃耗最优控制，使探测器沿三维凸轨迹附着，减小与障碍碰撞的风险，提高附着的安全性；通过步骤一的凸轨迹性能指标实现凸轨迹附着，不需要主动平衡造成耦合的科氏力，减少额外的燃耗；通过步骤二将小天体附着三维凸轨迹燃耗最优控制问题转化成二阶锥规划，优化速度快且能收敛到全局最优解，提高小天体附着三维凸轨迹燃耗最优控制问题的优化效率。3.如权利要求1或2所述的小天体附着三维凸轨迹燃耗最优控制方法，其特征在于：步骤一实现方法为：以小天体质心为原点建立小天体固连坐标系∑OXYZ，Z、X和Y轴分别与小天体最大惯性主轴、中间和最小惯性主轴重合；小天体转速方向与Z轴相同；定义探测器在小天体固连坐标系下的状态描述为：X＝T 其中r＝T为探测器在小天体固连系下的位置，v＝T为探测器在小天体固连系下的速度；因此，在小天体固连系内，小天体附着动力学方程为：其中，g为探测器所受的小天体引力，利用多面体模型等求解；ω＝0,0,ωT为小天体转速；T为开环控制产生的推力，||T||为推力幅值；方程简写为推力满足下述约束：Tmin≤||T||≤Tmax 其中，Tmin与Tmax分别为推力的最小幅值与最大幅值；除了推力约束外，探测器初始、末端状态均受到约束：其中，下标0与f表示在初始时刻和终端时刻取值；三维轨迹凸条件表示为当前点的速度矢量位于以当前点位置与目标着陆点所形成的圆锥内，因此三维凸轨迹条件表示为：其中，τ表示一个小时间间隔，为着陆点附近的局部法向量，在着陆点处与小天体表面垂直，指向小天体外侧；根据三维凸轨迹条件，三维凸轨迹指标表示为：其中，c t为随时间变化的权重系数，包含对轨迹不同阶段凸度的要求；将三维凸轨迹指标与燃耗最优指标加权，得到如方程所表示的性能指标:J＝-m tf+Jc 因此，小天体附着三维凸轨迹燃耗最优控制问题表述为以下形式：4.如权利要求1或2所述的小天体附着三维凸轨迹燃耗最优控制方法，其特征在于：通过松弛技术、等量代换、线性化方法和梯形离散化方法，将步骤一中基于凸轨迹的最优控制问题转化为转为序列二阶锥规划；步骤二具体实现方法为，将推力约束转换成具有二阶锥约束形式的约束，并且对动力学和凸轨迹性能指标进行线性化；松弛推力约束为：||T||≤Γ,Tmin≤Γ≤Tmax 其中，Γ为松弛变量；对非线性动力学中的非线性项进行等量代换：则推力约束转化为如下形式：其中，上标i代表采用第i次求解的标称值，i＝0,1,……；在动力学方程中带入公式，则非线性部分仅剩引力场g项；对动力学中的时变引力场采用连续求解的办法，则得到线性化后的动力学方程：其中，ηc＝T；由于引力场为关于位置的非线性项，因此采用第i次求解的引力加速度gi；矩阵A和B根据动力学方程获得；根据梯形离散方法，首先按照着陆时间均匀划分N个间隔，即此时有N+1个离散节点，在每个离散节点处将动力学方程离散化为：其中，下标k为第k个离散点，k＝0，…，N；I7×7为7×7的单位矩阵；和分别为根据第i次标称结果在k和k+1时刻计算的系统矩阵；和为根据第i次结果在k和k+1时刻计算的引力加速度；Xk和Xk+1为k和k+1时刻的待优化状态；ηc,kηc,k+1为k和k+1时刻的待优化控制；Δt为离散时间间隔；对性能指标进行线性化和离散化，即：其中采用序列二阶锥规划求解，给定置信域约束为：其中，下标ι代表状态分量，ι＝1,…,7；ε为给定的小标量；因此，用于序列二阶锥规划求解的小天体附着三维凸轨迹燃耗最优控制问题为：为使上述优化问题能够求解，给定其初值，即第0次的标称值：5.如权利要求4所述的小天体附着三维凸轨迹燃耗最优控制方法，其特征在于：步骤三实现方法为，以第i次求解的标称值，对步骤二中二阶锥规划问题进行求解；判断所求解X*是否满足如下收敛条件：||X*-Xi||≤εall 其中，εall为期望收敛范围；如果所求解X*满足收敛条件，所求解即可看作原问题的最优解，即获取凸轨迹着陆的最优控制；如果所求解不满足收敛条件，则以所求解为X*第i+1次标称值，返回步骤二求解，直到满足收敛条件停止；将满足收敛条件的最优解用于小天体附着三维凸轨迹燃耗最优控制。
说明书desc
技术领域本发明涉及一种小天体附着最优控制方法，尤其涉及一种在小天体复杂形貌下探测器以三维凸轨迹附着的最优控制方法，属于深空探测技术领域。背景技术由于小天体的星表环境暗弱，星载计算机往往难以对小天体的复杂形貌进行在线识别，导致在着陆前星表形貌不完全已知。不确知的星表形貌对探测器附着的安全性带来威胁。因此，为确保安全着陆，制导系统需要确定推力矢量序列，以引导探测器沿安全轨迹到达着陆点，降低与星表相撞的风险。当探测器沿着几何凸轨迹进行附着时，能够减小与凸起障碍碰撞的概率，提高不确知星表环境下的探测器安全性。这不仅是因为沿凸轨迹着陆的探测器具有较高的相对高度，有利于避开星表障碍；而且也是因为在附着过程中目标着陆区能够提早进入视场范围，使障碍能够被及早检测并规避。在火星着陆段，轨迹曲率制导方法基于凸轨迹的几何特征，通过调节附着轨迹的平面曲率，实现探测器以几何凸轨迹进行附着的目标。但是由于小天体引力场较弱，其自转带来的影响不容忽视。在这种情况下，小天体着陆的动力学是三轴耦合的，这使平面曲率调节机制不再适合实际的三维小天体着陆问题。使用推力主动平衡由转动造成的科氏力是一种解决方案，参见专利小天体附着凸轨迹制导方法。但是，使用该方法需要持续用推力去平衡科氏力，燃料消耗大。综上，本发明针对小天体附着动力学不能忽略的情况，直接基于空间曲线的几何性质设计三维凸轨迹，通过求解加权燃耗指标和三维凸轨迹指标形成的最优控制问题得到三维凸轨迹附着控制序列，避免主动平衡科氏力，减小燃料消耗。发明内容本发明公开的小天体附着三维凸轨迹燃耗最优控制方法要解决的技术问题为：在小天体复杂形貌下，基于最优控制方法使探测器沿着三维凸轨迹附着于小天体表面，具有如下优点：探测器沿三维凸轨迹附着，减小与障碍碰撞的风险，提高附着的安全性；直接从三维凸轨迹的几何条件出发，不需要平衡造成耦合的科氏力的影响，减少额外的燃耗；基于序列二阶锥优化方法求解最优控制问题，优化速度快且能够收敛到全局最优解。本发明的目的是通过下述技术方案实现的。本发明公开的小天体附着三维凸轨迹燃耗最优控制方法，针对小天体附着动力学的耦合特性，基于空间曲线的几何特征，利用以当前位置和目标着陆点连线为母线的动态锥约束探测器的当前速度矢量，使探测器沿三维凸轨迹附着。具体实现方法为：构造三维轨迹凸约束，并将三维轨迹凸约束松弛为衡量三维轨迹凸度的性能指标，加权至原有最小燃耗指标中。在加权指标的基础上，考虑控制约束、初始和末端约束以及耦合动力学形成最优控制问题。将最优控制问题进行转化，使其能够直接用序列二阶锥规划的方法快速求解。当采用所求最优控制序列时，探测器沿三维凸轨迹安全附着。本发明公开的小天体附着三维凸轨迹燃耗最优控制方法，包括如下步骤：步骤一、建立小天体附着动力学方程，针对小天体附着动力学方程的耦合特性，基于空间曲线的几何特征建立三维轨迹凸条件，根据三维轨迹凸条件演化生成衡量三维轨迹凸度的性能指标。在小天体附着动力学方程、推力约束和探测器初末状态约束条件下，将三维凸轨迹性能指标与燃耗指标进行加权作为优化目标，形成小天体附着三维凸轨迹燃耗最优控制问题。所述三维轨迹凸条件指以当前位置和目标着陆点连线为母线的动态锥约束探测器的当前速度矢量。步骤一实现方法为：以小天体质心为原点建立小天体固连坐标系∑OXYZ，Z、X和Y轴分别与小天体最大惯性主轴、中间和最小惯性主轴重合。小天体转速方向与Z轴相同。定义探测器在小天体固连坐标系下的状态描述为：X＝T其中r＝T为探测器在小天体固连系下的位置，v＝T为探测器在小天体固连系下的速度。因此，在小天体固连系内，小天体附着动力学方程为：其中，g为探测器所受的小天体引力，利用多面体模型等求解；ω＝T为小天体转速；T为开环控制产生的推力，||T||为推力幅值。方程简写为推力满足下述约束：Tmin≤||T||≤Tmax其中，Tmin与Tmax分别为推力的最小幅值与最大幅值。除了推力约束外，探测器初始、末端状态均受到约束：其中，下标0与f表示在初始时刻和终端时刻取值。三维轨迹凸条件表示为当前点的速度矢量位于以当前点位置与目标着陆点所形成的圆锥内，因此三维凸轨迹条件表示为：其中，τ表示一个小时间间隔，为着陆点附近的局部法向量，在着陆点处与小天体表面垂直，指向小天体外侧。根据三维凸轨迹条件，三维凸轨迹指标表示为：其中，c为随时间变化的权重系数，包含对轨迹不同阶段凸度的要求。将三维凸轨迹指标与燃耗最优指标加权，得到如方程所表示的性能指标:J＝-m+Jc因此，小天体附着三维凸轨迹燃耗最优控制问题表述为以下形式：步骤二、将步骤一中小天体附着三维凸轨迹燃耗最优控制问题转化为转为序列二阶锥规划。设置置信域约束，给出小天体附着三维凸轨迹燃耗最优控制问题序列二阶锥规划的初值。作为优选，通过松弛技术、等量代换、线性化方法和梯形离散化方法，将步骤一中基于凸轨迹的最优控制问题转化为转为序列二阶锥规划。步骤二具体实现方法为：将推力约束转换成具有二阶锥约束形式的约束，并且对动力学和凸轨迹性能指标进行线性化。松弛推力约束为：||T||≤Γ,Tmin≤Γ≤Tmax其中，Γ为松弛变量。对非线性动力学中的非线性项进行等量代换：则推力约束转化为如下形式：其中，上标i代表采用第i次求解的标称值，i＝0,1,……。在动力学方程中带入公式，则非线性部分仅剩引力场g项。对动力学中的时变引力场采用连续求解的办法，则得到线性化后的动力学方程：其中，ηc＝T。由于引力场为关于位置的非线性项，因此采用第i次求解的引力加速度gi。矩阵A和B根据动力学方程获得。根据梯形离散方法，首先按照着陆时间均匀划分N个间隔，即此时有N+1个离散节点，在每个离散节点处将动力学方程离散化为：其中，下标k为第k个离散点，k＝0，…，N。I7×7为7×7的单位矩阵；和分别为根据第i次标称结果在k和k+1时刻计算的系统矩阵；和为根据第i次结果在k和k+1时刻计算的引力加速度；Xk和Xk+1为k和k+1时刻的待优化状态；ηc,kηc,k+1为k和k+1时刻的待优化控制；Δt为离散时间间隔。对性能指标进行线性化和离散化，即：其中采用序列二阶锥规划求解，给定置信域约束为：其中，下标ι代表状态分量，ι＝1,…,7；ε为给定的小标量。因此，用于序列二阶锥规划求解的小天体附着三维凸轨迹燃耗最优控制问题为：为使上述优化问题能够求解，给定其初值，即第0次的标称值：步骤三、基于第i次标称值，求解步骤二中小天体附着三维凸轨迹燃耗最优控制的二阶锥规划，判断得到的解是否满足收敛条件。满足收敛条件，该解即为所求最优解；不满足收敛条件则以当前解为标称值，返回步骤二继续第i+1次迭代，直至满足收敛条件。将满足收敛条件的最优解用于步骤四中小天体附着三维凸轨迹燃耗最优控制。步骤三实现方法为：以第i次求解的标称值，对步骤二中二阶锥规划问题进行求解。判断所求解X*是否满足如下收敛条件：||X*-Xi||≤εall其中，εall为期望收敛范围。如果所求解X*满足收敛条件，所求解即可看作原问题的最优解，即获取凸轨迹着陆的最优控制。如果所求解不满足收敛条件，则以所求解为X*第i+1次标称值，返回步骤二求解，直到满足收敛条件停止。将满足收敛条件的最优解用于步骤四中小天体附着三维凸轨迹燃耗最优控制。步骤四：利用步骤三优化得到的最优解进行小天体附着三维凸轨迹燃耗最优控制，使探测器沿三维凸轨迹附着，减小与障碍碰撞的风险，提高附着的安全性。通过步骤一的凸轨迹性能指标实现凸轨迹附着，不需要主动平衡造成耦合的科氏力，减少额外的燃耗；通过步骤二将小天体附着三维凸轨迹燃耗最优控制问题转化成二阶锥规划，优化速度快且能收敛到全局最优解，提高小天体附着三维凸轨迹燃耗最优控制问题的优化效率。有益效果：1、本发明公开的小天体附着三维凸轨迹燃耗最优控制方法，针对小天体附着的耦合动力学，从三维轨迹几何特征出发，将当前速度矢量约束在以当前位置和目标着陆点连线为母线的动态锥内。以此形成衡量三维轨迹凸度的性能指标，并加权至燃耗最优性能指标中，从而使探测器能够沿几何凸轨迹实现最终附着，提高附着安全性。由于直接从空间曲线的三维几何性质出发形成控制序列，避免主动平衡造成耦合的科氏力，因此，能够使用较小的推力完成附着，且避免燃料的浪费。2、本发明公开的小天体附着三维凸轨迹燃耗最优控制方法，通过松弛技术、等量代换、线性化方法和梯形离散化方法，将最优控制问题转化为序列二阶锥规划问题，基于二阶锥规划的三维凸轨迹最优控制具有多项式形式的时间复杂度，提高优化效率。附图说明图1为小天体附着三维凸轨迹燃耗最优控制方法流程图；图2为三维凸轨迹约束示意图；图3为小天体附着的三维凸轨迹仿真图；图4为沿三维凸轨迹进行附着的三轴推力曲线图；图5为沿三维凸轨迹进行附着的三轴速度图。具体实施方式为了更好的说明本发明的目的和优点，下面结合附图和实例对发明内容做进一步说明。实施例1：为了验证方法的可行性，以针对1620Geographos小天体的附着任务为例，进行三维凸轨迹最优控制仿真。如图1所示，本实施例公开的小天体附着三维凸轨迹燃耗最优控制方法，具体实现步骤如下：步骤一、建立小天体附着动力学方程，针对小天体附着动力学方程的耦合特性，基于空间曲线的几何特征建立三维轨迹凸条件，根据三维轨迹凸条件演化生成衡量三维轨迹凸度的性能指标。在小天体附着动力学方程、推力约束和探测器初末状态约束条件下，将三维凸轨迹性能指标与燃耗指标进行加权作为优化目标，形成小天体附着三维凸轨迹燃耗最优控制问题。所述三维轨迹凸条件指以当前位置和目标着陆点连线为母线的动态锥约束探测器的当前速度矢量。步骤一的具体实现方法为：在小天体固连系内，探测器的动力学方程为：其中，g为探测器所受的小天体引力，采用16380个面的小天体1620Geographos多面体模型求解；小天体转速ω＝3.3416×10-4rad/s。Isp＝225s和gE＝9.8m/s2。推力最小幅值为Tmin＝0N，最大推力为Tmax＝20N。探测器在小天体固连坐标系下的初始位置为r0＝T m，初始速度为v0＝m/s，探测器初始质量为m0＝300kg，目标着陆点位置为rf＝T m，固定着陆时间tf为525s。按照图2所示，三维凸轨迹条件表示为当前点的速度矢量位于以当前点位置与目标着陆点所形成的圆锥内，因此三维凸轨迹条件可以表示为：其中，小时间间隔τ为1s，着陆点附近的局部法向量根据三维凸轨迹条件，三维凸轨迹指标表示为其中，权重系数Rsc＝1260m。因此，小天体附着三维凸轨迹燃耗最优控制问题表述为以下形式：步骤二、将步骤一中小天体附着三维凸轨迹燃耗最优控制问题转化为转为序列二阶锥规划。设置置信域约束，给出小天体附着三维凸轨迹燃耗最优控制问题序列二阶锥规划的初值。作为优选，通过松弛技术、等量代换、线性化方法和梯形离散化方法，将步骤一中基于凸轨迹的最优控制问题转化为转为序列二阶锥规划。步骤二具体实现方法为：松弛推力约束为：||T||≤Γ,Tmin≤Γ≤Tmax对非线性动力学方程中的非线性项进行等量代换：则推力约束转化为如下形式：其中，上标i代表采用第i次求解的标称值，i＝0,1,……。在动力学方程中带入公式，则非线性部分仅剩引力场g项。对动力学中的时变引力场采用连续求解的办法，则得到线性化后的动力学方程：其中，根据梯形离散方法，首先可以按照着陆时间均匀划分21个间隔，即此时有22个离散节点，在每个离散节点处将动力学方程离散化为：其中，Δt为离散时间间隔，为25s。对性能指标进行线性化和离散化，即：其中，和本实施例中ε＝1，因此置信域约束为：因此，可用于序列二阶锥规划求解的凸轨迹最优控制问题为为使上述优化问题能够求解，给定其初值，即第0次的标称值：步骤三、基于第i次标称值，求解步骤二中小天体附着三维凸轨迹燃耗最优控制的二阶锥规划，判断得到的解是否满足收敛条件。满足收敛条件，该解即为所求最优解；不满足收敛条件则以当前解为标称值，返回步骤二继续第i+1次迭代，直至满足收敛条件。将满足收敛条件的最优解用于步骤四中小天体附着三维凸轨迹燃耗最优控制。步骤三的具体实现方法为：本实施例中εall＝1×10-3，收敛条件为：||X*-Xi||≤εall如果所求解X*满足收敛条件，所求解即可看作原问题的最优解，即获取凸轨迹着陆的最优控制。如果所求解不满足收敛条件，则以所求解为X*第i+1次标称值，返回步骤二求解，直到满足收敛条件停止。然后，探测器按步骤三给出的推力序列进行控制，即能以凸轨迹进行附着。步骤四：利用步骤三优化得到的最优解进行小天体附着三维凸轨迹燃耗最优控制，使探测器沿三维凸轨迹附着，减小与障碍碰撞的风险，提高附着的安全性。通过步骤一的凸轨迹性能指标实现凸轨迹附着，不需要主动平衡造成耦合的科氏力，减少额外的燃耗；通过步骤二将小天体附着三维凸轨迹燃耗最优控制问题转化成二阶锥规划，优化速度快且能收敛到全局最优解，提高小天体附着三维凸轨迹燃耗最优控制问题的优化效率。如图3所示，当探测器按照所求控制序列进行附着时，能够以三维凸轨迹的形式着陆于小天体表面，提高附着安全性。图4给出优化得到的探测器三轴控制曲线图。图5给出探测器三轴速度曲线随时间变化，最终着陆速度按照要求减为零。以上所述的具体描述，对发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施例而已，并不用于限定本发明的保护范围，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
