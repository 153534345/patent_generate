标题title
一种三维全声波异常检测成像方法及装置
摘要abst
本发明提供一种三维全声波异常检测成像方法及装置，其中，方法包括：步骤S1：设定目标区域，通过声学传感器阵列检测目标区域内是否发生异常；步骤S2：若是，获取声学传感器阵列检测获得的异常位置数据和异常程度数据；步骤S3：基于异常位置数据和异常程度数据制作三维异常图；步骤S4：获取三维相机拍摄的目标区域的三维现场图，将三维异常图与三维现场图进行融合，输出融合结果。本发明的三维全声波异常检测成像方法及装置，用户手持声学成像仪对准目标区域观察显示屏的显示结果即可进行异常检测，无需将声波传感器阵列安装在需要进行异常检测的设备旁，降低了成本，同时，采用三维成像，足够直观和具体，提升了用户体验。
权利要求书clms
1.一种三维全声波异常检测成像方法，其特征在于，包括：步骤S1：设定目标区域，通过声学传感器阵列检测所述目标区域内是否发生异常；步骤S2：若是，获取所述声学传感器阵列检测获得的异常位置数据和异常程度数据；步骤S3：基于所述异常位置数据和所述异常程度数据制作三维异常图；步骤S4：获取三维相机拍摄的所述目标区域的三维现场图，将所述三维异常图与所述三维现场图进行融合，输出融合结果。2.如权利要求1所述的一种三维全声波异常检测成像方法，其特征在于，所述步骤S3：基于所述异常位置数据和所述异常程度数据制作三维异常图，包括：对所述异常位置数据进行解析，获得多个异常位置点；对所述异常程度数据进行解析，获得多个异常程度值，所述异常程度值与所述异常位置点一一对应；建立三维坐标系，将所述异常程度值中最大值对应的所述异常位置点表示于所述三维坐标系的原点处；同时，基于其余所述异常位置点与表示于所述原点处的所述异常位置点之间的位置关系，将其余所述异常位置点表示于所述三维坐标系中；表示完成后，选取所述三维坐标系中任一所述异常位置点作为第一目标；以所述第一目标为中心，预设的长度值为半径制作球体，获取所述球体的球体范围；当所述三维坐标系中落在所述球体范围内的除所述第一目标之外的所述异常位置点的个数大于等于预设的个数阈值时，将所述第一目标作为第二目标；同时，将落在所述球体范围内的除所述第一目标之外的所述异常位置点作为对应于所述第二目标的第三目标；继续选取下一所述第一目标，其中，若所述三维坐标系中的所述异常位置点已作为第一目标或第二目标或第三目标，不再选取，同时，当统计所述三维坐标系中落在所述球体范围内的除所述第一目标之外的所述异常位置点的个数时，作不计数处理；将所述三维坐标系中除所述第二目标和所述第三目标之外的所述异常位置点作为第四目标；基于预设的第一颜色对照库，确定所述第一目标对应的所述异常程度值对应的第一颜色，同时，确定所述第四目标对应的所述异常程度值对应的第二颜色；基于预设的第二颜色对照库，确定所述第一颜色和对应于所述第二目标的第三目标对应的所述异常程度值共同对应的第三颜色；将所述第一颜色标记于对应所述第一目标，将所述第二颜色标记于对应所述第四目标，将所述第三颜色标记于对应所述第三目标；全部标记完成后，将标记后的全部所述第一目标、第四目标和第三目标的组合作为三维异常图，完成制作。3.如权利要求2所述的一种三维全声波异常检测成像方法，其特征在于，所述步骤S4中，将所述三维异常图与所述三维现场图进行融合，包括：对所述三维现场图进行扫描，获得三维数据，所述三维数据包括：多个像素位置点；建立异常位置点与所述三维现场图上的像素块之间的映射关系；基于所述映射关系，建立映射关系表；基于所述映射关系表，确定所述第一目标对应的第一目标像素块，将与所述第一目标对应的所述第一颜色标记于所述第一目标像素块上；基于所述映射关系表，确定所述第四目标对应的第二目标像素块，将与所述第四目标对应的所述第二颜色标记于所述第二目标像素块上；基于所述映射关系表，确定所述第三目标对应的第三目标像素块，将与所述第三目标对应的所述第三颜色标记于所述第三目标像素块上；全部标记完成后，完成融合，将标记后的所述三维现场图作为融合结果。4.如权利要求3所述的一种三维全声波异常检测成像方法，其特征在于，建立异常位置点与所述三维现场图上的像素块之间的映射关系，包括：确定所述像素位置点中对应于所述异常位置点的多个目标像素位置点；基于各所述目标像素位置点之间的位置关系，将所述三维现场图中对应于所述目标像素位置点的像素点进行组合，获得像素块；将所述像素块与对应所述异常位置点作为一组映射关系。5.如权利要求1所述的一种三维全声波异常检测成像方法，其特征在于，所述步骤S4中，将所述三维异常图与所述三维现场图进行融合之后，还包括：对融合后的图像进行缺陷扫描，获得缺陷项列表，对所述缺陷项列表进行预处理，基于预处理结果对所述图像进行缺陷修正；其中，对所述缺陷项列表进行预处理，包括：从所述缺陷项列表中选取第一缺陷项，获取所述第一缺陷项的第一缺陷程度值；建立需求度对照库，基于所述需求度对照库，确定所述第一缺陷项和所述第一缺陷程度值共同对应的第一需求度；若所述第一需求度小于等于预设的需求度阈值，从所述缺陷项列表中剔除所述缺陷项；当所述缺陷项列表中需要剔除的所述缺陷项全部剔除后，完成预处理。6.如权利要求5所述的一种三维全声波异常检测成像方法，其特征在于，建立需求度对照库，包括：获取需求度调查结果数据，所述需求度调查结果数据包括：多个用户在接受多次缺陷项修正需求度调查后回复的调查结果，所述调查结果包括：多个第二缺陷项、与所述第二缺陷项一一对应的第二缺陷程度值以及与所述第二缺陷项、第二缺陷项程度值一一对应的至少一个第二需求度；基于所述调查结果，确定仅满足预设的第一条件且不满足预设的第二条件的用户，并作为第一用户；同时，确定同时满足所述第一条件和所述第二条件的用户，并作为第二用户；确定所述多个用户中除所述第一用户和所述第二用户之外的所述用户，并作为第三用户；获取预设的提取项列表，从所述提取项列表中选取提取项，所述提取项包括：第三缺陷项和与所述第三缺陷项一一对应的第三缺陷程度值；提取所述第一用户的所述调查结果中与所述提取项对应的至少一个所述第二需求度，并作为第三需求度；提取所述第二用户的所述调查结果中与所述提取项对应的至少一个所述第二需求度，并作为第四需求度；提取所述第三用户的所述调查结果中与所述提取项对应的至少一个所述第二需求度，并作为第五需求度；赋予所述第三需求度第一权重，赋予所述第四需求度第二权重，赋予所述第五需求度第三权重；赋予后，获取预设的需求度计算模型，将所述第三需求度、第四需求度和第五需求度输入的需求度计算模型，计算第六需求度；将所述第六需求度与所述提取项进行组合，获得对照组；建立空白数据库，将所述对照组存入所述空白数据库；当全部所述对照组均存入所述空白数据库时，将所述空白数据库作为需求度对照库，完成建立；其中，所述第一条件包括：所述用户的调查结果中与所述第二缺陷项、第二缺陷项程度值一一对应的所述第二需求度不唯一；所述第二条件包括：所述用户的调查结果中与所述第二缺陷项、第二缺陷项程度值一一对应的所述第二需求度不唯一的情况的次数大于等于预设的次数阈值，和/或，所述用户的调查结果中与所述第二缺陷项、第二缺陷项程度值一一对应的所述第二需求度不唯一且所述第二需求之间的差值大于等于预设的差值阈值；所述第二权重小于所述第一权重小于所述第三权重。7.一种三维全声波异常检测成像装置，其特征在于，包括：检测模块，用于设定目标区域，通过声学传感器阵列检测所述目标区域内是否发生异常；获取模块，用于若是，获取所述声学传感器阵列检测获得的异常位置数据和异常程度数据；制作模块，用于基于所述异常位置数据和所述异常程度数据制作三维异常图；融合模块，用于获取三维相机拍摄的所述目标区域的三维现场图，将所述三维异常图与所述三维现场图进行融合，输出融合结果。8.如权利要求7所述的一种三维全声波异常检测成像装置，其特征在于，所述制作模块执行如下操作：对所述异常位置数据进行解析，获得多个异常位置点；对所述异常程度数据进行解析，获得多个异常程度值，所述异常程度值与所述异常位置点一一对应；建立三维坐标系，将所述异常程度值中最大值对应的所述异常位置点表示于所述三维坐标系的原点处；同时，基于其余所述异常位置点与表示于所述原点处的所述异常位置点之间的位置关系，将其余所述异常位置点表示于所述三维坐标系中；表示完成后，选取所述三维坐标系中任一所述异常位置点作为第一目标；以所述第一目标为中心，预设的长度值为半径制作球体，获取所述球体的球体范围；当所述三维坐标系中落在所述球体范围内的除所述第一目标之外的所述异常位置点的个数大于等于预设的个数阈值时，将所述第一目标作为第二目标；同时，将落在所述球体范围内的除所述第一目标之外的所述异常位置点作为对应于所述第二目标的第三目标；继续选取下一所述第一目标，其中，若所述三维坐标系中的所述异常位置点已作为第一目标或第二目标或第三目标，不再选取，同时，当统计所述三维坐标系中落在所述球体范围内的除所述第一目标之外的所述异常位置点的个数时，作不计数处理；将所述三维坐标系中除所述第二目标和所述第三目标之外的所述异常位置点作为第四目标；基于预设的第一颜色对照库，确定所述第一目标对应的所述异常程度值对应的第一颜色，同时，确定所述第四目标对应的所述异常程度值对应的第二颜色；基于预设的第二颜色对照库，确定所述第一颜色和对应于所述第二目标的第三目标对应的所述异常程度值共同对应的第三颜色；将所述第一颜色标记于对应所述第一目标，将所述第二颜色标记于对应所述第四目标，将所述第三颜色标记于对应所述第三目标；全部标记完成后，将标记后的全部所述第一目标、第四目标和第三目标的组合作为三维异常图，完成制作。9.如权利要求6所述的一种三维全声波异常检测成像装置，其特征在于，所述融合模块执行如下操作：对所述三维现场图进行扫描，获得三维数据，所述三维数据包括：多个像素位置点；建立异常位置点与所述三维现场图上的像素块之间的映射关系；基于所述映射关系，建立映射关系表；基于所述映射关系表，确定所述第一目标对应的第一目标像素块，将与所述第一目标对应的所述第一颜色标记于所述第一目标像素块上；基于所述映射关系表，确定所述第四目标对应的第二目标像素块，将与所述第四目标对应的所述第二颜色标记于所述第二目标像素块上；基于所述映射关系表，确定所述第三目标对应的第三目标像素块，将与所述第三目标对应的所述第三颜色标记于所述第三目标像素块上；全部标记完成后，完成融合，将标记后的所述三维现场图作为融合结果。10.如权利要求9所述的一种三维全声波异常检测成像装置，其特征在于，所述融合模块建立异常位置点与所述三维现场图上的像素块之间的映射关系，具体执行如下操作：确定所述像素位置点中对应于所述异常位置点的多个目标像素位置点；基于各所述目标像素位置点之间的位置关系，将所述三维现场图中对应于所述目标像素位置点的像素点进行组合，获得像素块；将所述像素块与对应所述异常位置点作为一组映射关系。
说明书desc
技术领域本发明涉及声波检测技术领域，特别涉及一种三维全声波异常检测成像方法及装置。背景技术目前，利用声波传感器阵列进行异常检测时，大多需要将声波传感器阵列安装在需要进行异常检测的设备旁，这样成本较高，同时，利用异常检测结果进行成像时，只能二维成像，不够直观和具体。发明内容本发明目的之一在于提供了一种三维全声波异常检测成像方法及装置，用户手持声学成像仪对准目标区域观察显示屏的显示结果即可进行异常检测，无需将声波传感器阵列安装在需要进行异常检测的设备旁，降低了成本，同时，采用三维成像，足够直观和具体，提升了用户体验。本发明实施例提供的一种三维全声波异常检测成像方法，包括：步骤S1：设定目标区域，通过声学传感器阵列检测所述目标区域内是否发生异常；步骤S2：若是，获取所述声学传感器阵列检测获得的异常位置数据和异常程度数据；步骤S3：基于所述异常位置数据和所述异常程度数据制作三维异常图；步骤S4：获取三维相机拍摄的所述目标区域的三维现场图，将所述三维异常图与所述三维现场图进行融合，输出融合结果。优选的，所述步骤S3：基于所述异常位置数据和所述异常程度数据制作三维异常图，包括：对所述异常位置数据进行解析，获得多个异常位置点；对所述异常程度数据进行解析，获得多个异常程度值，所述异常程度值与所述异常位置点一一对应；建立三维坐标系，将所述异常程度值中最大值对应的所述异常位置点表示于所述三维坐标系的原点处；同时，基于其余所述异常位置点与表示于所述原点处的所述异常位置点之间的位置关系，将其余所述异常位置点表示于所述三维坐标系中；表示完成后，选取所述三维坐标系中任一所述异常位置点作为第一目标；以所述第一目标为中心，预设的长度值为半径制作球体，获取所述球体的球体范围；当所述三维坐标系中落在所述球体范围内的除所述第一目标之外的所述异常位置点的个数大于等于预设的个数阈值时，将所述第一目标作为第二目标；同时，将落在所述球体范围内的除所述第一目标之外的所述异常位置点作为对应于所述第二目标的第三目标；继续选取下一所述第一目标，其中，若所述三维坐标系中的所述异常位置点已作为第一目标或第二目标或第三目标，不再选取，同时，当统计所述三维坐标系中落在所述球体范围内的除所述第一目标之外的所述异常位置点的个数时，作不计数处理；将所述三维坐标系中除所述第二目标和所述第三目标之外的所述异常位置点作为第四目标；基于预设的第一颜色对照库，确定所述第一目标对应的所述异常程度值对应的第一颜色，同时，确定所述第四目标对应的所述异常程度值对应的第二颜色；基于预设的第二颜色对照库，确定所述第一颜色和对应于所述第二目标的第三目标对应的所述异常程度值共同对应的第三颜色；将所述第一颜色标记于对应所述第一目标，将所述第二颜色标记于对应所述第四目标，将所述第三颜色标记于对应所述第三目标；全部标记完成后，将标记后的全部所述第一目标、第四目标和第三目标的组合作为三维异常图，完成制作。优选的，所述步骤S4中，将所述三维异常图与所述三维现场图进行融合，包括：对所述三维现场图进行扫描，获得三维数据，所述三维数据包括：多个像素位置点；建立异常位置点与所述三维现场图上的像素块之间的映射关系；基于所述映射关系，建立映射关系表；基于所述映射关系表，确定所述第一目标对应的第一目标像素块，将与所述第一目标对应的所述第一颜色标记于所述第一目标像素块上；基于所述映射关系表，确定所述第四目标对应的第二目标像素块，将与所述第四目标对应的所述第二颜色标记于所述第二目标像素块上；基于所述映射关系表，确定所述第三目标对应的第三目标像素块，将与所述第三目标对应的所述第三颜色标记于所述第三目标像素块上；全部标记完成后，完成融合，将标记后的所述三维现场图作为融合结果。优选的，建立异常位置点与所述三维现场图上的像素块之间的映射关系，包括：确定所述像素位置点中对应于所述异常位置点的多个目标像素位置点；基于各所述目标像素位置点之间的位置关系，将所述三维现场图中对应于所述目标像素位置点的像素点进行组合，获得像素块；将所述像素块与对应所述异常位置点作为一组映射关系。优选的，所述步骤S4中，将所述三维异常图与所述三维现场图进行融合之后，还包括：对融合后的图像进行缺陷扫描，获得缺陷项列表，对所述缺陷项列表进行预处理，基于预处理结果对所述图像进行缺陷修正；其中，对所述缺陷项列表进行预处理，包括：从所述缺陷项列表中选取第一缺陷项，获取所述第一缺陷项的第一缺陷程度值；建立需求度对照库，基于所述需求度对照库，确定所述第一缺陷项和所述第一缺陷程度值共同对应的第一需求度；若所述第一需求度小于等于预设的需求度阈值，从所述缺陷项列表中剔除所述缺陷项；当所述缺陷项列表中需要剔除的所述缺陷项全部剔除后，完成预处理。优选的，建立需求度对照库，包括：获取需求度调查结果数据，所述需求度调查结果数据包括：多个用户在接受多次缺陷项修正需求度调查后回复的调查结果，所述调查结果包括：多个第二缺陷项、与所述第二缺陷项一一对应的第二缺陷程度值以及与所述第二缺陷项、第二缺陷项程度值一一对应的至少一个第二需求度；基于所述调查结果，确定仅满足预设的第一条件且不满足预设的第二条件的用户，并作为第一用户；同时，确定同时满足所述第一条件和所述第二条件的用户，并作为第二用户；确定所述多个用户中除所述第一用户和所述第二用户之外的所述用户，并作为第三用户；获取预设的提取项列表，从所述提取项列表中选取提取项，所述提取项包括：第三缺陷项和与所述第三缺陷项一一对应的第三缺陷程度值；提取所述第一用户的所述调查结果中与所述提取项对应的至少一个所述第二需求度，并作为第三需求度；提取所述第二用户的所述调查结果中与所述提取项对应的至少一个所述第二需求度，并作为第四需求度；提取所述第三用户的所述调查结果中与所述提取项对应的至少一个所述第二需求度，并作为第五需求度；赋予所述第三需求度第一权重，赋予所述第四需求度第二权重，赋予所述第五需求度第三权重；赋予后，获取预设的需求度计算模型，将所述第三需求度、第四需求度和第五需求度输入的需求度计算模型，计算第六需求度；将所述第六需求度与所述提取项进行组合，获得对照组；建立空白数据库，将所述对照组存入所述空白数据库；当全部所述对照组均存入所述空白数据库时，将所述空白数据库作为需求度对照库，完成建立；其中，所述第一条件包括：所述用户的调查结果中与所述第二缺陷项、第二缺陷项程度值一一对应的所述第二需求度不唯一；所述第二条件包括：所述用户的调查结果中与所述第二缺陷项、第二缺陷项程度值一一对应的所述第二需求度不唯一的情况的次数大于等于预设的次数阈值，和/或，所述用户的调查结果中与所述第二缺陷项、第二缺陷项程度值一一对应的所述第二需求度不唯一且所述第二需求之间的差值大于等于预设的差值阈值；所述第二权重小于所述第一权重小于所述第三权重。本发明实施例提供的一种三维全声波异常检测成像装置，包括：检测模块，用于设定目标区域，通过声学传感器阵列检测所述目标区域内是否发生异常；获取模块，用于若是，获取所述声学传感器阵列检测获得的异常位置数据和异常程度数据；制作模块，用于基于所述异常位置数据和所述异常程度数据制作三维异常图；融合模块，用于获取三维相机拍摄的所述目标区域的三维现场图，将所述三维异常图与所述三维现场图进行融合，输出融合结果。优选的，所述制作模块执行如下操作：对所述异常位置数据进行解析，获得多个异常位置点；对所述异常程度数据进行解析，获得多个异常程度值，所述异常程度值与所述异常位置点一一对应；建立三维坐标系，将所述异常程度值中最大值对应的所述异常位置点表示于所述三维坐标系的原点处；同时，基于其余所述异常位置点与表示于所述原点处的所述异常位置点之间的位置关系，将其余所述异常位置点表示于所述三维坐标系中；表示完成后，选取所述三维坐标系中任一所述异常位置点作为第一目标；以所述第一目标为中心，预设的长度值为半径制作球体，获取所述球体的球体范围；当所述三维坐标系中落在所述球体范围内的除所述第一目标之外的所述异常位置点的个数大于等于预设的个数阈值时，将所述第一目标作为第二目标；同时，将落在所述球体范围内的除所述第一目标之外的所述异常位置点作为对应于所述第二目标的第三目标；继续选取下一所述第一目标，其中，若所述三维坐标系中的所述异常位置点已作为第一目标或第二目标或第三目标，不再选取，同时，当统计所述三维坐标系中落在所述球体范围内的除所述第一目标之外的所述异常位置点的个数时，作不计数处理；将所述三维坐标系中除所述第二目标和所述第三目标之外的所述异常位置点作为第四目标；基于预设的第一颜色对照库，确定所述第一目标对应的所述异常程度值对应的第一颜色，同时，确定所述第四目标对应的所述异常程度值对应的第二颜色；基于预设的第二颜色对照库，确定所述第一颜色和对应于所述第二目标的第三目标对应的所述异常程度值共同对应的第三颜色；将所述第一颜色标记于对应所述第一目标，将所述第二颜色标记于对应所述第四目标，将所述第三颜色标记于对应所述第三目标；全部标记完成后，将标记后的全部所述第一目标、第四目标和第三目标的组合作为三维异常图，完成制作。优选的，所述融合模块执行如下操作：对所述三维现场图进行扫描，获得三维数据，所述三维数据包括：多个像素位置点；建立异常位置点与所述三维现场图上的像素块之间的映射关系；基于所述映射关系，建立映射关系表；基于所述映射关系表，确定所述第一目标对应的第一目标像素块，将与所述第一目标对应的所述第一颜色标记于所述第一目标像素块上；基于所述映射关系表，确定所述第四目标对应的第二目标像素块，将与所述第四目标对应的所述第二颜色标记于所述第二目标像素块上；基于所述映射关系表，确定所述第三目标对应的第三目标像素块，将与所述第三目标对应的所述第三颜色标记于所述第三目标像素块上；全部标记完成后，完成融合，将标记后的所述三维现场图作为融合结果。优选的，所述融合模块建立异常位置点与所述三维现场图上的像素块之间的映射关系，具体执行如下操作：确定所述像素位置点中对应于所述异常位置点的多个目标像素位置点；基于各所述目标像素位置点之间的位置关系，将所述三维现场图中对应于所述目标像素位置点的像素点进行组合，获得像素块；将所述像素块与对应所述异常位置点作为一组映射关系。本发明的其它特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点可通过在所写的说明书、权利要求书、以及附图中所特别指出的结构来实现和获得。下面通过附图和实施例，对本发明的技术方案做进一步的详细描述。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1为本发明实施例中一种三维全声波异常检测成像方法的流程图；图2为本发明实施例中一种三维全声波异常检测成像装置的示意图。具体实施方式以下结合附图对本发明的优选实施例进行说明，应当理解，此处所描述的优选实施例仅用于说明和解释本发明，并不用于限定本发明。本发明实施例提供了一种三维全声波异常检测成像方法，如图1所示，包括：步骤S1：设定目标区域，通过声学传感器阵列检测目标区域内是否发生异常；步骤S2：若是，获取声学传感器阵列检测获得的异常位置数据和异常程度数据；步骤S3：基于异常位置数据和异常程度数据制作三维异常图；步骤S4：获取三维相机拍摄的目标区域的三维现场图，将三维异常图与三维现场图进行融合，输出融合结果。上述技术方案的工作原理及有益效果为：本申请应用于声学成像仪，该声学成像仪包括：处理器、声学传感器阵列、三维相机和显示屏等；用户手持声学成像仪，将声学成像仪对准需要进行异常检测目标区域，启动声学传感器阵列，捕捉并定位目标区域内产生的音迹，该音迹指示目标区域内是否发生气体泄漏和局部放电等异常，若是，获取声学传感器阵列检测获得的异常位置数据【例如：发生气体泄漏的多个位置，由声学传感器阵列定位获得】和异常程度数据【例如：气体泄漏严重程度，由声学传感器阵列依据音迹频率确定】；基于异常位置数据和异常程度数据制作三维异常图，将三维异常图与三维相机拍摄的目标区域的三维现场图进行融合，融合后输出，在显示屏上显示，供用户查看；本发明实施例用户手持声学成像仪对准目标区域观察显示屏的显示结果即可进行异常检测，无需将声波传感器阵列安装在需要进行异常检测的设备旁，降低了成本，同时，采用三维成像，足够直观和具体，提升了用户体验。本发明实施例提供了一种三维全声波异常检测成像方法，步骤S3：基于异常位置数据和异常程度数据制作三维异常图，包括：对异常位置数据进行解析，获得多个异常位置点；对异常程度数据进行解析，获得多个异常程度值，异常程度值与异常位置点一一对应；建立三维坐标系，将异常程度值中最大值对应的异常位置点表示于三维坐标系的原点处；同时，基于其余异常位置点与表示于原点处的异常位置点之间的位置关系，将其余异常位置点表示于三维坐标系中；表示完成后，选取三维坐标系中任一异常位置点作为第一目标；以第一目标为中心，预设的长度值为半径制作球体，获取球体的球体范围；当三维坐标系中落在球体范围内的除第一目标之外的异常位置点的个数大于等于预设的个数阈值时，将第一目标作为第二目标；同时，将落在球体范围内的除第一目标之外的异常位置点作为对应于第二目标的第三目标；继续选取下一第一目标，其中，若三维坐标系中的异常位置点已作为第一目标或第二目标或第三目标，不再选取，同时，当统计三维坐标系中落在球体范围内的除第一目标之外的异常位置点的个数时，作不计数处理；将三维坐标系中除第二目标和第三目标之外的异常位置点作为第四目标；基于预设的第一颜色对照库，确定第一目标对应的异常程度值对应的第一颜色，同时，确定第四目标对应的异常程度值对应的第二颜色；基于预设的第二颜色对照库，确定第一颜色和对应于第二目标的第三目标对应的异常程度值共同对应的第三颜色；将第一颜色标记于对应第一目标，将第二颜色标记于对应第四目标，将第三颜色标记于对应第三目标；全部标记完成后，将标记后的全部第一目标、第四目标和第三目标的组合作为三维异常图，完成制作。上述技术方案的工作原理及有益效果为：由于声学成像仪的显示屏大小有限【为了轻便，不会制造较大的显示屏】，当异常位置点十分聚集时，各个异常位置点上表示异常程度的颜色在视图平铺状态下，容易造成颜色混淆，不便于用户辨别各个异常位置点的异常程度，需要用户放大至一定程度后，才能清楚分辨颜色，从而分辨异常程度；因此，本申请通过选取任一异常位置点【一般从三维坐标系的坐标原点向外依次选取】作为第一目标，以第一目标为中心制作球体，若落在球体内的其它异常位置点的个数大于等于预设的个数阈值【例如：15】时，说明该球体内的异常位置点较聚集，将第一目标作为第二目标，同时，将落在球体内的其它异常位置点作为对应于第二目标的第三目标；将三维坐标系中除第二目标和第三目标之外的异常位置点作为第四目标；基于预设的第一颜色对照库【预先设置，内存有多个颜色以及与该颜色对应的异常程度值区间，当某目标的异常程度值落在该区间内时，输出对应颜色即可】，确定第一目标对应的第一颜色以及第四目标对应的第二颜色；基于预设的第二颜色对照库【预先设置，内存有多个颜色以及与该颜色对应的不冲突颜色和异常程度值区间，确定与该颜色的不冲突颜色则基于大众视觉感受确定两种不容易混淆又能代表相应异常程度的颜色】，确定第一颜色和对应于第二目标的第三目标共同对应的第三颜色；将第一颜色、第二颜色和第三颜色标记于对应目标，标记后，输出三维异常图，完成制作；由此，用户通过显示屏观察三维成像上的三维异常图时，各颜色不会混淆又能代表相应异常程度，能够适应异常位置点十分聚集的情况，既保证成像能够代表异常程度的合理性，又能便于用户清楚基于颜色分辨异常程度，十分人性化，提升了用户体验。本发明实施例提供了一种三维全声波异常检测成像方法，步骤S4中，将三维异常图与三维现场图进行融合，包括：对三维现场图进行扫描，获得三维数据，三维数据包括：多个像素位置点；建立异常位置点与三维现场图上的像素块之间的映射关系；基于映射关系，建立映射关系表；基于映射关系表，确定第一目标对应的第一目标像素块，将与第一目标对应的第一颜色标记于第一目标像素块上；基于映射关系表，确定第四目标对应的第二目标像素块，将与第四目标对应的第二颜色标记于第二目标像素块上；基于映射关系表，确定第三目标对应的第三目标像素块，将与第三目标对应的第三颜色标记于第三目标像素块上；全部标记完成后，完成融合，将标记后的三维现场图作为融合结果。上述技术方案的工作原理及有益效果为：建立异常位置点与三维现场图上的像素块之间的映射关系，基于映射关系，将异常位置点对应的颜色标记于对应像素块上即可，当全部颜色标记完成后，完成融合。本发明实施例提供了一种三维全声波异常检测成像方法，建立异常位置点与三维现场图上的像素块之间的映射关系，包括：确定像素位置点中对应于异常位置点的多个目标像素位置点；基于各目标像素位置点之间的位置关系，将三维现场图中对应于目标像素位置点的像素点进行组合，获得像素块；将像素块与对应异常位置点作为一组映射关系。上述技术方案的工作原理及有益效果为：确定异常位置点，再确定三维相机拍摄的三维图像中异常位置点的对应所在位置，提取所在位置对应多个像素位置点作为目标像素位置点即可；异常位置点的精度小于三维现场图中的像素位置点，因此，异常位置点只能与像素块对应，作为一组映射关系。本发明实施例提供了一种三维全声波异常检测成像方法，步骤S4中，将三维异常图与三维现场图进行融合之后，还包括：对融合后的图像进行缺陷扫描，获得缺陷项列表，对缺陷项列表进行预处理，基于预处理结果对图像进行缺陷修正；其中，对缺陷项列表进行预处理，包括：从缺陷项列表中选取第一缺陷项，获取第一缺陷项的第一缺陷程度值；建立需求度对照库，基于需求度对照库，确定第一缺陷项和第一缺陷程度值共同对应的第一需求度；若第一需求度小于等于预设的需求度阈值，从缺陷项列表中剔除缺陷项；当缺陷项列表中需要剔除的缺陷项全部剔除后，完成预处理。上述技术方案的工作原理及有益效果为：对图像进行缺陷扫描，获得缺陷项列表【例如：清晰度不足—缺陷程度85％、畸变—缺陷程度60％等】；基于建立的需求度对照表，确定缺陷项列表中的第一缺陷项和第一缺陷项的第一缺陷程度值对应的需求度，若需求度小于等于预设的需求度阈值【例如：90】，剔除该第一缺陷项，当缺陷项列表中需要剔除的第一缺陷项全部剔除后，完成预处理；需要度大于需求度阈值，说明该缺陷项在实际现场使用中对检测有影响，需要对该缺陷项进行修正；基于预处理结果对图像进行缺陷修正即提取预处理结果中剩余的第一缺陷项，基于预设的修正数据库【预先设置，内存有大量修正数据】对该缺陷项进行修正即可；本发明实施例对缺陷项列表进行预处理，剔除无需修正的第一缺陷项，再满足工作人员现场使用的情况下，提升了修正效率，十分智能化。本发明实施例提供了一种三维全声波异常检测成像方法，建立需求度对照库，包括：获取需求度调查结果数据，需求度调查结果数据包括：多个用户在接受多次缺陷项修正需求度调查后回复的调查结果，调查结果包括：多个第二缺陷项、与第二缺陷项一一对应的第二缺陷程度值以及与第二缺陷项、第二缺陷项程度值一一对应的至少一个第二需求度；基于调查结果，确定仅满足预设的第一条件且不满足预设的第二条件的用户，并作为第一用户；同时，确定同时满足第一条件和第二条件的用户，并作为第二用户；确定多个用户中除第一用户和第二用户之外的用户，并作为第三用户；获取预设的提取项列表，从提取项列表中选取提取项，提取项包括：第三缺陷项和与第三缺陷项一一对应的第三缺陷程度值；提取第一用户的调查结果中与提取项对应的至少一个第二需求度，并作为第三需求度；提取第二用户的调查结果中与提取项对应的至少一个第二需求度，并作为第四需求度；提取第三用户的调查结果中与提取项对应的至少一个第二需求度，并作为第五需求度；赋予第三需求度第一权重，赋予第四需求度第二权重，赋予第五需求度第三权重；赋予后，获取预设的需求度计算模型，将第三需求度、第四需求度和第五需求度输入的需求度计算模型，计算第六需求度；将第六需求度与提取项进行组合，获得对照组；建立空白数据库，将对照组存入空白数据库；当全部对照组均存入空白数据库时，将空白数据库作为需求度对照库，完成建立；其中，第一条件包括：用户的调查结果中与第二缺陷项、第二缺陷项程度值一一对应的第二需求度不唯一；第二条件包括：用户的调查结果中与第二缺陷项、第二缺陷项程度值一一对应的第二需求度不唯一的情况的次数大于等于预设的次数阈值，和/或，用户的调查结果中与第二缺陷项、第二缺陷项程度值一一对应的第二需求度不唯一且第二需求之间的差值大于等于预设的差值阈值；第二权重小于第一权重小于第三权重。上述技术方案的工作原理及有益效果为：多次对若干公司内若干负责异常【局部放电、气体泄漏等】检测的工作人员进行缺陷项修正需求度调查【可下发问卷，规定问卷中每一项的作答时间，还可规定对作答结果进行理由证明，避免敷衍快填】，获取调查结果，汇总每个用户的多个调查结果时，自动进行去重处理；在接受调查时，若工作人员存在不认真、对答案不能肯定等情况，一定会在不同问卷中的相同项给出不同答案【即不同第二需求度】；因此，在基于全部调查结果建立需求度对照库时，得捕捉该类多种情况【即仅满足第一条件、同时满足第一条件和第二条件】，对满足不同情况的用户进行划分，并赋予相应的权重值；将赋予权重值后的各需求度输入需求度计算模型【预先设置，基于机器学习算法对大量人工综合计算需求度的记录进行学习后生成的模型，该模型可以基于权重值判定不同数据的价值度，优先参考权重值较大的数据】计算需求度，将需求度与对应提取项作为对照组输入空白数据库，当全部对照组输入空白数据库时，将空白数据库作为需求度对照库即可；本发明实施例设置第一条件和第二条件，贴切考虑到了用户在多次进行相同调查时会发生的情况，对满足不同情况的用户进行划分并赋予相应权重值，提升了基于各用户的调查结果综合建立需求度对照库的精准性，由若干工作人员的现场使用经验，确定各缺陷项、缺陷程度值对应的需求度，快速确定在实际现场使用时，哪些缺陷程度的缺陷项无需修正，哪些缺陷程度的缺陷项需要修正，十分智能化。本发明实施例提供了一种三维全声波异常检测成像系统，如图2所示，包括：检测模块1，用于设定目标区域，通过声学传感器阵列检测目标区域内是否发生异常；获取模块2，用于若是，获取声学传感器阵列检测获得的异常位置数据和异常程度数据；制作模块3，用于基于异常位置数据和异常程度数据制作三维异常图；融合模块4，用于获取三维相机拍摄的目标区域的三维现场图，将三维异常图与三维现场图进行融合，输出融合结果。上述技术方案的工作原理及有益效果为：本申请应用于声学成像仪，该声学成像仪包括：处理器、声学传感器阵列、三维相机和显示屏等；用户手持声学成像仪，将声学成像仪对准需要进行异常检测目标区域，启动声学传感器阵列，捕捉并定位目标区域内产生的音迹，该音迹指示目标区域内是否发生气体泄漏和局部放电等异常，若是，获取声学传感器阵列检测获得的异常位置数据【例如：发生气体泄漏的多个位置，由声学传感器阵列定位获得】和异常程度数据【例如：气体泄漏严重程度，由声学传感器阵列依据音迹频率确定】；基于异常位置数据和异常程度数据制作三维异常图，将三维异常图与三维相机拍摄的目标区域的三维现场图进行融合，融合后输出，在显示屏上显示，供用户查看；本发明实施例用户手持声学成像仪对准目标区域观察显示屏的显示结果即可进行异常检测，无需将声波传感器阵列安装在需要进行异常检测的设备旁，降低了成本，同时，采用三维成像，足够直观和具体，提升了用户体验。本发明实施例提供了一种三维全声波异常检测成像系统，制作模块3执行如下操作：对异常位置数据进行解析，获得多个异常位置点；对异常程度数据进行解析，获得多个异常程度值，异常程度值与异常位置点一一对应；建立三维坐标系，将异常程度值中最大值对应的异常位置点表示于三维坐标系的原点处；同时，基于其余异常位置点与表示于原点处的异常位置点之间的位置关系，将其余异常位置点表示于三维坐标系中；表示完成后，选取三维坐标系中任一异常位置点作为第一目标；以第一目标为中心，预设的长度值为半径制作球体，获取球体的球体范围；当三维坐标系中落在球体范围内的除第一目标之外的异常位置点的个数大于等于预设的个数阈值时，将第一目标作为第二目标；同时，将落在球体范围内的除第一目标之外的异常位置点作为对应于第二目标的第三目标；继续选取下一第一目标，其中，若三维坐标系中的异常位置点已作为第一目标或第二目标或第三目标，不再选取，同时，当统计三维坐标系中落在球体范围内的除第一目标之外的异常位置点的个数时，作不计数处理；将三维坐标系中除第二目标和第三目标之外的异常位置点作为第四目标；基于预设的第一颜色对照库，确定第一目标对应的异常程度值对应的第一颜色，同时，确定第四目标对应的异常程度值对应的第二颜色；基于预设的第二颜色对照库，确定第一颜色和对应于第二目标的第三目标对应的异常程度值共同对应的第三颜色；将第一颜色标记于对应第一目标，将第二颜色标记于对应第四目标，将第三颜色标记于对应第三目标；全部标记完成后，将标记后的全部第一目标、第四目标和第三目标的组合作为三维异常图，完成制作。上述技术方案的工作原理及有益效果为：由于声学成像仪的显示屏大小有限【为了轻便，不会制造较大的显示屏】，当异常位置点十分聚集时，各个异常位置点上表示异常程度的颜色在视图平铺状态下，容易造成颜色混淆，不便于用户辨别各个异常位置点的异常程度，需要用户放大至一定程度后，才能清楚分辨颜色，从而分辨异常程度；因此，本申请通过选取任一异常位置点【一般从三维坐标系的坐标原点向外依次选取】作为第一目标，以第一目标为中心制作球体，若落在球体内的其它异常位置点的个数大于等于预设的个数阈值【例如：15】时，说明该球体内的异常位置点较聚集，将第一目标作为第二目标，同时，将落在球体内的其它异常位置点作为对应于第二目标的第三目标；将三维坐标系中除第二目标和第三目标之外的异常位置点作为第四目标；基于预设的第一颜色对照库【预先设置，内存有多个颜色以及与该颜色对应的异常程度值区间，当某目标的异常程度值落在该区间内时，输出对应颜色即可】，确定第一目标对应的第一颜色以及第四目标对应的第二颜色；基于预设的第二颜色对照库【预先设置，内存有多个颜色以及与该颜色对应的不冲突颜色和异常程度值区间，确定与该颜色的不冲突颜色则基于大众视觉感受确定两种不容易混淆又能代表相应异常程度的颜色】，确定第一颜色和对应于第二目标的第三目标共同对应的第三颜色；将第一颜色、第二颜色和第三颜色标记于对应目标，标记后，输出三维异常图，完成制作；由此，用户通过显示屏观察三维成像上的三维异常图时，各颜色不会混淆又能代表相应异常程度，能够适应异常位置点十分聚集的情况，既保证成像能够代表异常程度的合理性，又能便于用户清楚基于颜色分辨异常程度，十分人性化，提升了用户体验。本发明实施例提供了一种三维全声波异常检测成像系统，融合模块4执行如下操作：对三维现场图进行扫描，获得三维数据，三维数据包括：多个像素位置点；建立异常位置点与三维现场图上的像素块之间的映射关系；基于映射关系，建立映射关系表；基于映射关系表，确定第一目标对应的第一目标像素块，将与第一目标对应的第一颜色标记于第一目标像素块上；基于映射关系表，确定第四目标对应的第二目标像素块，将与第四目标对应的第二颜色标记于第二目标像素块上；基于映射关系表，确定第三目标对应的第三目标像素块，将与第三目标对应的第三颜色标记于第三目标像素块上；全部标记完成后，完成融合，将标记后的三维现场图作为融合结果。上述技术方案的工作原理及有益效果为：建立异常位置点与三维现场图上的像素块之间的映射关系，基于映射关系，将异常位置点对应的颜色标记于对应像素块上即可，当全部颜色标记完成后，完成融合。本发明实施例提供了一种三维全声波异常检测成像系统，融合模块4建立异常位置点与三维现场图上的像素块之间的映射关系，具体执行如下操作：确定像素位置点中对应于异常位置点的多个目标像素位置点；基于各目标像素位置点之间的位置关系，将三维现场图中对应于目标像素位置点的像素点进行组合，获得像素块；将像素块与对应异常位置点作为一组映射关系。上述技术方案的工作原理及有益效果为：确定异常位置点，再确定三维相机拍摄的三维图像中异常位置点的对应所在位置，提取所在位置对应多个像素位置点作为目标像素位置点即可；异常位置点的精度小于三维现场图中的像素位置点，因此，异常位置点只能与像素块对应，作为一组映射关系。本发明实施例提供了一种三维全声波异常检测成像系统，还包括：修正模块，用于在融合模块4将三维异常图与三维现场图进行融合之后，对融合后的图像进行缺陷扫描，获得缺陷项列表，对缺陷项列表进行预处理，基于预处理结果对图像进行缺陷修正；修正模块对缺陷项列表进行预处理，具体执行如下操作：从缺陷项列表中选取第一缺陷项，获取第一缺陷项的第一缺陷程度值；建立需求度对照库，基于需求度对照库，确定第一缺陷项和第一缺陷程度值共同对应的第一需求度；若第一需求度小于等于预设的需求度阈值，从缺陷项列表中剔除缺陷项；当缺陷项列表中需要剔除的缺陷项全部剔除后，完成预处理。上述技术方案的工作原理及有益效果为：对图像进行缺陷扫描，获得缺陷项列表【例如：清晰度不足—缺陷程度85％、畸变—缺陷程度60％等】；基于建立的需求度对照表，确定缺陷项列表中的第一缺陷项和第一缺陷项的第一缺陷程度值对应的需求度，若需求度小于等于预设的需求度阈值【例如：90】，剔除该第一缺陷项，当缺陷项列表中需要剔除的第一缺陷项全部剔除后，完成预处理；需要度大于需求度阈值，说明该缺陷项在实际现场使用中对检测有影响，需要对该缺陷项进行修正；基于预处理结果对图像进行缺陷修正即提取预处理结果中剩余的第一缺陷项，基于预设的修正数据库【预先设置，内存有大量修正数据】对该缺陷项进行修正即可；本发明实施例对缺陷项列表进行预处理，剔除无需修正的第一缺陷项，再满足工作人员现场使用的情况下，提升了修正效率，十分智能化。本发明实施例提供了一种三维全声波异常检测成像系统，修正模块建立需求度对照库，具体执行如下操作：获取需求度调查结果数据，需求度调查结果数据包括：多个用户在接受多次缺陷项修正需求度调查后回复的调查结果，调查结果包括：多个第二缺陷项、与第二缺陷项一一对应的第二缺陷程度值以及与第二缺陷项、第二缺陷项程度值一一对应的至少一个第二需求度；基于调查结果，确定仅满足预设的第一条件且不满足预设的第二条件的用户，并作为第一用户；同时，确定同时满足第一条件和第二条件的用户，并作为第二用户；确定多个用户中除第一用户和第二用户之外的用户，并作为第三用户；获取预设的提取项列表，从提取项列表中选取提取项，提取项包括：第三缺陷项和与第三缺陷项一一对应的第三缺陷程度值；提取第一用户的调查结果中与提取项对应的至少一个第二需求度，并作为第三需求度；提取第二用户的调查结果中与提取项对应的至少一个第二需求度，并作为第四需求度；提取第三用户的调查结果中与提取项对应的至少一个第二需求度，并作为第五需求度；赋予第三需求度第一权重，赋予第四需求度第二权重，赋予第五需求度第三权重；赋予后，获取预设的需求度计算模型，将第三需求度、第四需求度和第五需求度输入的需求度计算模型，计算第六需求度；将第六需求度与提取项进行组合，获得对照组；建立空白数据库，将对照组存入空白数据库；当全部对照组均存入空白数据库时，将空白数据库作为需求度对照库，完成建立；其中，第一条件包括：用户的调查结果中与第二缺陷项、第二缺陷项程度值一一对应的第二需求度不唯一；第二条件包括：用户的调查结果中与第二缺陷项、第二缺陷项程度值一一对应的第二需求度不唯一的情况的次数大于等于预设的次数阈值，和/或，用户的调查结果中与第二缺陷项、第二缺陷项程度值一一对应的第二需求度不唯一且第二需求之间的差值大于等于预设的差值阈值；第二权重小于第一权重小于第三权重。上述技术方案的工作原理及有益效果为：多次对若干公司内若干负责异常【局部放电、气体泄漏等】检测的工作人员进行缺陷项修正需求度调查【可下发问卷，规定问卷中每一项的作答时间，还可规定对作答结果进行理由证明，避免敷衍快填】，获取调查结果，汇总每个用户的多个调查结果时，自动进行去重处理；在接受调查时，若工作人员存在不认真、对答案不能肯定等情况，一定会在不同问卷中的相同项给出不同答案【即不同第二需求度】；因此，在基于全部调查结果建立需求度对照库时，得捕捉该类多种情况【即仅满足第一条件、同时满足第一条件和第二条件】，对满足不同情况的用户进行划分，并赋予相应的权重值；将赋予权重值后的各需求度输入需求度计算模型【预先设置，基于机器学习算法对大量人工综合计算需求度的记录进行学习后生成的模型，该模型可以基于权重值判定不同数据的价值度，优先参考权重值较大的数据】计算需求度，将需求度与对应提取项作为对照组输入空白数据库，当全部对照组输入空白数据库时，将空白数据库作为需求度对照库即可；本发明实施例设置第一条件和第二条件，贴切考虑到了用户在多次进行相同调查时会发生的情况，对满足不同情况的用户进行划分并赋予相应权重值，提升了基于各用户的调查结果综合建立需求度对照库的精准性，由若干工作人员的现场使用经验，确定各缺陷项、缺陷程度值对应的需求度，快速确定在实际现场使用时，哪些缺陷程度的缺陷项无需修正，哪些缺陷程度的缺陷项需要修正，十分智能化。显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。
