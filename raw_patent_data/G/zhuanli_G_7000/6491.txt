标题title
一种高铁受电弓异常检测方法
摘要abst
本发明公开了一种高铁受电弓异常检测方法，包括通过图像采集设备获取当前受电弓的图像；在图像中设定受电弓的感兴趣区域ROI；针对ROI区域通过复杂环境检测模块进行检测，若检测环境复杂则跳过后续检测，若环境不复杂则继续检测；在环境不复杂的情况下，针对ROI区域通过受电弓倾斜检测模块进行检测，判断受电弓倾斜角度是否出现异常；在环境不复杂的情况下，针对ROI区域通过弓角异常检测模块，对左右弓角部分进行检测，利用模板与当前弓角的相似度判断是否存在弓角破损。本发明通过在故障检测过程中加入了复杂环境检测模块，对复杂环境进行过滤，在保证检测效果的同时大大降低误报的发生。
权利要求书clms
1.一种高铁受电弓异常检测方法，其特征在于：包括以下步骤：步骤一，通过图像采集设备获取当前受电弓的图像；步骤二，在图像中设定受电弓的感兴趣区域ROI，ROI区域的左1/6区域为左弓角区域，右1/6区域为右弓角区域；步骤三，针对ROI区域通过复杂环境检测模块进行检测，若检测环境复杂则跳过后续检测，若环境不复杂则继续检测；步骤四，在环境不复杂的情况下，针对ROI区域通过受电弓倾斜检测模块进行检测，判断受电弓倾斜角度是否出现异常；步骤五，在环境不复杂的情况下，针对ROI区域通过弓角异常检测模块，对左右弓角部分进行检测，利用模板与当前弓角的相似度判断是否存在弓角破损；步骤六，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果出现异常，则立刻发出警报，能够及时发现受电弓故障，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果无异常，则重复上述步骤对受电弓继续进行检测。2.根据权利要求1所述的一种高铁受电弓异常检测方法，其特征在于：所述复杂环境检测模块包括镜头脏污检测单元、画面模糊检测单元和背景复杂检测单元，所述镜头脏污检测单元的具体检测方法如下：设定低阈值、高阈值与步进值，从低到高获取阈值集合；按照集合中的阈值对图像进行二值化，并查找二值图像中每一个轮廓的中心点；设定最小距离，将间距小于最小距离的中心点合并；对合并后的特征点区域按照面积进行过滤，最终得到脏污数量；设定脏污数量阈值，若脏污数量大于设定值即为镜头脏污。3.根据权利要求2所述的一种高铁受电弓异常检测方法，其特征在于：所述画面模糊检测单元的具体检测方法如下：a.利用sobel算子计算ROI区域的梯度值之和G：其中，I为待测图像；b.设定梯度阈值，若G小于阈值则判定图像模糊。4.根据权利要求2所述的一种高铁受电弓异常检测方法，其特征在于：所述背景复杂检测单元的具体检测方法如下：1)利用sobel算子计算ROI区域的像素梯度图像；2)设定梯度阈值，统计梯度图像中大于阈值的像素点数量；3)设定像素点数量阈值，若统计数量大于该阈值则判定图像背景复杂。5.根据权利要求1所述的一种高铁受电弓异常检测方法，其特征在于：所述受电弓倾斜检测模块的检测步骤如下：S1：截取ROI区域中间1/6区域，为受电弓碳滑板区域；S2：对受电弓碳滑板区域使用大津法进行二值化处理，并对二值图像进行轮廓分析，面积最大的轮廓即为碳滑板轮廓；S3：通过计算碳滑板区域的几何矩，得到碳滑板的倾斜角θ，公式如下：其中，mpq为p+q阶几何矩，f为碳滑板区域二值化图像的像素值；S4：设定倾斜角度阈值，若倾斜角θ超过阈值则判定受电弓倾斜。6.根据权利要求1所述的一种高铁受电弓异常检测方法，其特征在于：所述弓角异常检测模块的检测步骤如下：N1：选取一张正常受电弓图像作为模板；N2：构建±45°的斜边检测模板对左右弓角进行斜边检测，其中，Sleft用于左弓角，Sright用于右弓角；N3：利用大津法对斜边图像进行二值化，并且对图像进行膨胀操作；N4：对膨胀后的图像进行轮廓分析，选取面积最大的轮廓作为弓角区域；N5：对弓角区域进行水平与垂直投影，作为相似度计算模板；N6：对当前受电弓区域重复步骤N2-N5，设定相似度阈值，通过当前弓角与模板弓角的水平、垂直投影计算两弓角相似度，若相似度大于阈值则弓角正常，否则弓角破损，具体计算公式如下：其中，templateh,templatev为弓角模板的水平、垂直投影向量，curh,curv为当前弓角的水平、垂直投影向量。7.根据权利要求1所述的一种高铁受电弓异常检测方法，其特征在于：所述受电弓在高铁运行过程中的位置固定，所述图像采集设备固定安装在高铁的顶部并将镜头对准受电弓，所述图像采集设备对受电弓区域进行实时拍摄。
说明书desc
技术领域本发明涉及铁路运输安全技术领域，特别涉及一种高铁受电弓异常检测方法。背景技术受电弓是电力牵引机车从接触网获取电能的电气设备，安装于机车顶部，为机车运行提供动力，随着高铁运行运行、速度、里程的增加，受电弓出现倾斜、弓角破损等异常故障的概率也随之提升，因此需要在电力机车运行过程中对受电弓进行实时检测，及时发现受电弓故障，保证电力机车的安全，目前，针对受电弓故障检测主要有人工检测和图像检测两种方式，前者需要技术人员，通过监控设备观察受电弓的状态，判断当前是否有故障发生；图像检测具有测量速度快，测量结果直观、效率高等特点。但是人工检测受技术人员主观影响较大，且工作量大效率低，易因疲劳而产生漏检，图像检测方法难以应对复杂的铁路运行环境，极易发生误报或漏报，本方法针对目前图像检测方法的误报率较高的问题，在检测受电弓倾斜、弓角破损的同时添加了复杂环境检测的方法，在保证故障检出的同时降低了误报率。发明内容本发明的主要目的在于提供一种高铁受电弓异常检测方法，通过在故障检测过程中加入了复杂环境检测模块，对复杂环境进行过滤，在保证检测效果的同时大大降低了误报的发生；在滤除复杂环境的影响后通过受电弓倾斜检测模块和弓角异常检测模块，实时的对受电弓倾斜、弓角破损的故障情况完成检测，代替了人工检测，效率高，不受人员主观影响，减少漏报的发生，可以有效解决背景技术中的问题。为实现上述目的，本发明采取的技术方案为：一种高铁受电弓异常检测方法，包括以下步骤：步骤一，通过图像采集设备获取当前受电弓的图像；步骤二，在图像中设定受电弓的感兴趣区域，ROI区域的左1/6区域为左弓角区域，右1/6区域为右弓角区域；步骤三，针对ROI区域通过复杂环境检测模块进行检测，若检测环境复杂则跳过后续检测，若环境不复杂则继续检测；步骤四，在环境不复杂的情况下，针对ROI区域通过受电弓倾斜检测模块进行检测，判断受电弓倾斜角度是否出现异常；步骤五，在环境不复杂的情况下，针对ROI区域通过弓角异常检测模块，对左右弓角部分进行检测，利用模板与当前弓角的相似度判断是否存在弓角破损；步骤六，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果出现异常，则立刻发出警报，能够及时发现受电弓故障，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果无异常，则重复上述步骤对受电弓继续进行检测。本发明进一步的改进在于，所述复杂环境检测模块包括镜头脏污检测单元、画面模糊检测单元和背景复杂检测单元，所述镜头脏污检测单元的具体检测方法如下：设定低阈值、高阈值与步进值，从低到高获取阈值集合；按照集合中的阈值对图像进行二值化，并查找二值图像中每一个轮廓的中心点；设定最小距离，将间距小于最小距离的中心点合并；对合并后的特征点区域按照面积进行过滤，最终得到脏污数量；设定脏污数量阈值，若脏污数量大于设定值即为镜头脏污。通过将间距小于最小距离的中心点合并，并将合并后的特征点区域按照面积进行过滤，能够避免过小的污点也占用脏污数量阈值，同时根据特征点区域的面积确定该点是否为脏污。本发明进一步的改进在于，所述画面模糊检测单元的具体检测方法如下：a.利用sobel算子计算ROI区域的梯度值之和G：其中，I为待测图像；b.设定梯度阈值，若G小于阈值则判定图像模糊。通过画面模糊检测单元算出拍摄画面的梯度值是否小于设定的阈值，来判断该画面是否模糊。本发明进一步的改进在于，所述背景复杂检测单元的具体检测方法如下：1)利用sobel算子计算ROI区域的像素梯度图像；2)设定梯度阈值，统计梯度图像中大于阈值的像素点数量；3)设定像素点数量阈值，若统计数量大于该阈值则判定图像背景复杂。通过背景复杂检测单元统计图像中的像素点数量是否大于设定的阈值，来判断图像背景是否复杂，镜头脏污检测单元、画面模糊检测单元和背景复杂检测单元的组合使用，能够减少复杂环境的影响，进而降低受电弓异常检测时的误报率。本发明进一步的改进在于，所述受电弓倾斜检测模块的检测步骤如下：S1：截取ROI区域中间1/6区域，为受电弓碳滑板区域；S2：对受电弓碳滑板区域使用大津法进行二值化处理，并对二值图像进行轮廓分析，面积最大的轮廓即为碳滑板轮廓；S3：通过计算碳滑板区域的几何矩，得到碳滑板的倾斜角θ，公式如下：其中，mpq为p+q阶几何矩，f为碳滑板区域二值化图像的像素值；S4：设定倾斜角度阈值，若倾斜角θ超过阈值则判定受电弓倾斜。通过受电弓倾斜检测模块来计算出受电弓碳滑板的倾斜角，并与设定的倾斜角度阈值进行比对。本发明进一步的改进在于，所述弓角异常检测模块的检测步骤如下：N1：选取一张正常受电弓图像作为模板；N2：构建±45°的斜边检测模板对左右弓角进行斜边检测，其中，Sleft用于左弓角，Sright用于右弓角；N3：利用大津法对斜边图像进行二值化，并且对图像进行膨胀操作；N4：对膨胀后的图像进行轮廓分析，选取面积最大的轮廓作为弓角区域；N5：对弓角区域进行水平与垂直投影，作为相似度计算模板；N6：对当前受电弓区域重复步骤N2-N5，设定相似度阈值，通过当前弓角与模板弓角的水平、垂直投影计算两弓角相似度，若相似度大于阈值则弓角正常，否则弓角破损，具体计算公式如下：其中，templateh,templatev为弓角模板的水平、垂直投影向量，curh,curv为当前弓角的水平、垂直投影向量。通过弓角异常检测模块对左右弓角区域进行投影处理，并与正常弓角模板进行比对是否出现破损，通过受电弓倾斜检测模块和弓角异常检测模块，实时的对受电弓倾斜、弓角破损的故障情况进行检测，代替了人工检测，效率高，不受人员主观影响，减少漏报的发生。本发明进一步的改进在于，所述受电弓在高铁运行过程中的位置固定，所述图像采集设备固定安装在高铁的顶部并将镜头对准受电弓，所述图像采集设备对受电弓区域进行实时拍摄。与现有技术相比，本发明通过在故障检测过程中加入了复杂环境检测模块，对复杂环境进行过滤，在保证检测效果的同时大大降低了误报的发生，复杂环境检测模块包括：镜头脏污检测单元、画面模糊检测单元和背景复杂检测单元，镜头脏污检测单元、画面模糊检测单元和背景复杂检测单元分别对镜头上的脏污、画面的模糊程度和画面背景的复杂程度进行判断，为接下来准确的对受电弓异常检测做好准备，通过复杂环境检测模块的算法滤除高铁运行过程中进出站、进出山洞、楼房遮挡、镜头脏污等复杂环境的影响从而降低误报率。与现有技术相比，本发明在滤除复杂环境的影响后通过受电弓倾斜检测模块和弓角异常检测模块，实时的对受电弓倾斜、弓角破损的故障情况完成检测，代替了人工检测，效率高，不受人员主观影响，减少漏报的发生，使用受电弓倾斜检测模块来计算出受电弓碳滑板的倾斜角，并与设定的倾斜角度阈值进行比对，来确定受电弓弯曲程度是否异常，使用弓角异常检测模块对左右弓角区域进行投影处理，并与正常弓角模板进行比对，来确定弓角是否出现破损。附图说明图1为本发明一种高铁受电弓异常检测方法的流程图。图2为本发明一种高铁受电弓异常检测方法的复杂环境检测模块系统框图。图3为本发明一种高铁受电弓异常检测方法的受电弓结构示意图。图4为本发明一种高铁受电弓异常检测方法的弓角异常检测模块投影效果图。具体实施方式下面结合具体实施方式对本发明作进一步的说明，其中，附图仅用于示例性说明，表示的仅是示意图，而非实物图，不能理解为对本专利的限制，对本领域技术人员来说，附图中某些公知结构及其说明可能省略是可以理解的，基于本发明中的具体实施方式，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他具体实施方式，都属于本发明保护的范围。实施例1如图1-3所示，一种高铁受电弓异常检测方法，包括以下步骤：步骤一，通过图像采集设备获取当前受电弓的图像；步骤二，在图像中设定受电弓的感兴趣区域，ROI区域的左1/6区域为左弓角区域，右1/6区域为右弓角区域；步骤三，针对ROI区域通过复杂环境检测模块进行检测，若检测环境复杂则跳过后续检测，若环境不复杂则继续；步骤四，在环境不复杂的情况下，针对ROI区域通过受电弓倾斜检测模块进行检测，判断受电弓倾斜角度是否出现异常；步骤五，在环境不复杂的情况下，针对ROI区域通过弓角异常检测模块，对左右弓角部分进行检测，利用模板与当前弓角的相似度判断是否存在弓角破损；步骤六，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果出现异常，则立刻发出警报，能够及时发现受电弓故障，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果无异常，则重复上述步骤对受电弓继续进行检测。复杂环境检测模块包括镜头脏污检测单元、画面模糊检测单元和背景复杂检测单元，镜头脏污检测单元的具体检测方法如下：设定低阈值、高阈值与步进值，从低到高获取阈值集合；按照集合中的阈值对图像进行二值化，并查找二值图像中每一个轮廓的中心点；设定最小距离，将间距小于最小距离的中心点合并；对合并后的特征点区域按照面积进行过滤，最终得到脏污数量；设定脏污数量阈值，若脏污数量大于设定值即为镜头脏污。画面模糊检测单元的具体检测方法如下：a.利用sobel算子计算ROI区域的梯度值之和G：其中，I为待测图像；b.设定梯度阈值，若G小于阈值则判定图像模糊。背景复杂检测单元的具体检测方法如下：1)利用sobel算子计算ROI区域的像素梯度图像；2)设定梯度阈值，统计梯度图像中大于阈值的像素点数量；3)设定像素点数量阈值，若统计数量大于该阈值则判定图像背景复杂。受电弓在高铁运行过程中的位置固定，图像采集设备固定安装在高铁的顶部并将镜头对准受电弓，图像采集设备对受电弓进行实时拍摄通过采用上述技术方案：本发明在故障检测过程中加入了复杂环境检测模块，通过对复杂环境的过滤，在保证检测效果的同时大大降低了误报的发生，复杂环境检测模块包括：镜头脏污检测单元、画面模糊检测单元和背景复杂检测单元，镜头脏污检测单元、画面模糊检测单元和背景复杂检测单元分别对镜头上的脏污、画面的模糊程度和画面背景的复杂程度进行判断，为接下来准确的对受电弓异常检测做好准备，通过复杂环境检测模块的算法滤除高铁运行过程中进出站、进出山洞、楼房遮挡、镜头脏污等复杂环境的影响从而降低误报率。实施例2如图1-4所示，一种高铁受电弓异常检测方法，包括以下步骤：步骤一，通过图像采集设备获取当前受电弓的图像；步骤二，在图像中设定受电弓的感兴趣区域，ROI区域的左1/6区域为左弓角区域，右1/6区域为右弓角区域；步骤三，针对ROI区域通过复杂环境检测模块进行检测，若检测环境复杂则跳过后续检测，若环境不复杂则继续；步骤四，在环境不复杂的情况下，针对ROI区域通过受电弓倾斜检测模块进行检测，判断受电弓倾斜角度是否出现异常；步骤五，在环境不复杂的情况下，针对ROI区域通过弓角异常检测模块，对左右弓角部分进行检测，利用模板与当前弓角的相似度判断是否存在弓角破损；步骤六，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果出现异常，则立刻发出警报，能够及时发现受电弓故障，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果无异常，则重复上述步骤对受电弓继续进行检测。复杂环境检测模块包括镜头脏污检测单元、画面模糊检测单元和背景复杂检测单元，镜头脏污检测单元的具体检测方法如下：设定低阈值、高阈值与步进值，从低到高获取阈值集合；按照集合中的阈值对图像进行二值化，并查找二值图像中每一个轮廓的中心点；设定最小距离，将间距小于最小距离的中心点合并；对合并后的特征点区域按照面积进行过滤，最终得到脏污数量；设定脏污数量阈值，若脏污数量大于设定值即为镜头脏污。画面模糊检测单元的具体检测方法如下：a.利用sobel算子计算ROI区域的梯度值之和G：其中，I为待测图像；b.设定梯度阈值，若G小于阈值则判定图像模糊。背景复杂检测单元的具体检测方法如下：1)利用sobel算子计算ROI区域的像素梯度图像；2)设定梯度阈值，统计梯度图像中大于阈值的像素点数量；3)设定像素点数量阈值，若统计数量大于该阈值则判定图像背景复杂。受电弓倾斜检测模块的检测步骤如下：S1：截取ROI区域中间1/6区域，为受电弓碳滑板区域；S2：对受电弓碳滑板区域使用大津法进行二值化处理，并对二值图像进行轮廓分析，面积最大的轮廓即为碳滑板轮廓；S3：通过计算碳滑板区域的几何矩，得到碳滑板的倾斜角θ，公式如下：其中，mpq为p+q阶几何矩，f为碳滑板区域二值化图像的像素值；S4：设定倾斜角度阈值，若倾斜角θ超过阈值则判定受电弓倾斜。弓角异常检测模块的检测步骤如下：N1：选取一张正常受电弓图像作为模板；N2：构建±45°的斜边检测模板对左右弓角进行斜边检测，其中，Sleft用于左弓角，Sright用于右弓角；N3：利用大津法对斜边图像进行二值化，并且对图像进行膨胀操作；N4：对膨胀后的图像进行轮廓分析，选取面积最大的轮廓作为弓角区域；N5：对弓角区域进行水平与垂直投影，作为相似度计算模板；N6：对当前受电弓区域重复步骤N2-N5，设定相似度阈值，通过当前弓角与模板弓角的水平、垂直投影计算两弓角相似度，若相似度大于阈值则弓角正常，否则弓角破损，具体计算公式如下：其中，templateh,templatev为弓角模板的水平、垂直投影向量，curh,curv为当前弓角的水平、垂直投影向量。受电弓倾斜检测模块和弓角异常检测模块实时的对受电弓倾斜、弓角破损的故障情况进行检测，效率高，不受人员主观影响，减少漏报的发生。受电弓在高铁运行过程中的位置固定，图像采集设备固定安装在高铁的顶部并将镜头对准受电弓，图像采集设备对受电弓进行实时拍摄。通过采用上述技术方案：本发明在滤除复杂环境的影响后通过受电弓倾斜检测模块和弓角异常检测模块，实时的对受电弓倾斜、弓角破损的故障情况完成检测，代替了人工检测，效率高，不受人员主观影响，减少漏报的发生，使用受电弓倾斜检测模块来计算出受电弓碳滑板的倾斜角，并与设定的倾斜角度阈值进行比对，来确定受电弓弯曲程度是否异常，使用弓角异常检测模块对左右弓角区域进行投影处理，并与正常弓角模板进行比对，来确定弓角是否出现破损。需要说明的是，本发明为一种高铁受电弓异常检测方法，在使用时，首先，通过图像采集设备获取当前受电弓的图像，其次，在图像中设定受电弓的感兴趣区域，ROI区域的左1/6区域为左弓角区域，右1/6区域为右弓角区域，再者，针对ROI区域通过复杂环境检测模块进行检测，若检测环境复杂则跳过后续检测，若环境不复杂则继续检测，然后，在环境不复杂的情况下，截取ROI区域中间1/6区域，为受电弓碳滑板区域，针对受电弓碳滑板区域通过受电弓倾斜检测模块进行检测，判断受电弓倾斜角度是否出现异常，接下来，在环境不复杂的情况下，针对ROI区域通过弓角异常检测模块，对左右弓角部分进行检测，利用模板与当前弓角的相似度判断是否存在弓角破损，最后，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果出现异常，则立刻发出警报，能够及时发现受电弓出现故障，若受电弓倾斜检测模块或弓角异常检测模块检测出的结果无异常，则重复上述步骤对受电弓继续进行检测。以上显示和描述了本发明的基本原理和主要特征和本发明的优点。本行业的技术人员应该了解，本发明不受上述实施例的限制，上述实施例和说明书中描述的只是说明本发明的原理，在不脱离本发明精神和范围的前提下，本发明还会有各种变化和改进，这些变化和改进都落入要求保护的本发明范围内。本发明要求保护范围由所附的权利要求书及其等效物界定。
