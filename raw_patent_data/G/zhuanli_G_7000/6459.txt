标题title
一种具有倒车警示功能的灯具及其控制方法
摘要abst
本发明涉及车灯控制领域，具体为一种倒车警示功能的灯具及其控制方法可通过警示灯的照明伴随倒车进行跟踪，从而实现在倒车过程中时警示灯可以起到提醒和警示作用，包括车身端、控制驱动端和执行端，所述车身端包括左侧后视摄像头、右侧后视摄像头、车身控制模块；所述控制驱动端包括MCU微控制单元、左‑步进电机驱动芯片、右‑步进电机驱动芯片和LED驱动芯片，所述执行端包括左‑步进电机、右‑步进电机、左‑LED光源和右‑LED光源；执行端主要由左右两侧的步进电机与LED光源组成；所述左侧后视摄像头、右侧后视摄像头均通过信号串行器与信号解串器相连，所述信号解串器再与MCU微控制单元电连接，所述车身控制模块通过CAN总线与MCU微控制单元电连接。
权利要求书clms
1.一种具有倒车警示功能的灯具，其特征在于：包括车身端、控制驱动端和执行端，所述车身端包括左侧后视摄像头、右侧后视摄像头、车身控制模块；所述控制驱动端包括MCU微控制单元、左-步进电机驱动芯片、右-步进电机驱动芯片和LED驱动芯片，所述执行端包括左-步进电机、右-步进电机、左-LED光源和右-LED光源；执行端主要由左右两侧的步进电机与LED光源组成；所述左侧后视摄像头、右侧后视摄像头均通过信号串行器与信号解串器相连，所述信号解串器再与MCU微控制单元电连接，所述车身控制模块通过CAN总线与MCU微控制单元电连接，所述MCU微控制单元通过SPI总线通过左-步进电机驱动芯片与左-步进电机电连接，所述MCU微控制单元通过SPI总线通过右-步进电机驱动芯片与右-步进电机电连接，所述MCU微控制单元还通过CAN总线与LED驱动芯片连接，所述LED驱动芯片还分别与左-LED光源和右-LED光源电连接。2.根据权利要求1所述的具有倒车警示功能的灯具，其特征在于：所述左侧后视摄像头和右侧后视摄像头分别安装在汽车尾灯的两侧，且FOV角度为120°，最大观测距离为50米。3.根据权利要求1所述的具有倒车警示功能的灯具，其特征在于：所述LED驱动芯片采用了NXP公司的ALS5115的多通道LED矩阵管理芯片。4.根据权利要求1所述的具有倒车警示功能的灯具，其特征在于：所述MCU微控制单元采用NXP公司S32V234这款处理器。5.根据权利要求1所述的具有倒车警示功能的灯具，其特征在于：所述信号串行器采用MAX96705串行器。6.根据权利要求1所述的具有倒车警示功能的灯具，其特征在于：所述左-LED光源包括转动套、转动轴和LED灯珠，所述LED灯珠与转动轴连接，所述转动轴与转动套转动配合，所述转动套与左-步进电机连接。7.根据权利要求6所述的具有倒车警示功能的灯具，其特征在于：右-LED光源与左-LED光源结构相同。8.根据权利要求6所述的具有倒车警示功能的灯具，其特征在于：所述LED灯珠为6颗，照射宽度为30°，照射高度为1.2米。9.一种如权利要求1所述的灯具的控制方法，其特征在于：包括如下步骤：步骤一：当车辆启动并进入倒车模式时，车身控制模块会向MCU微控制单元发送触发信号；步骤二：MCU微控制单元通过CAN总线接收到车身控制模块的报文信息后，开始处理摄像头视频信号；步骤三：左侧后视摄像头和右侧后视摄像头的信号通过信号串行器将摄像头信号串行发出，而信号解串器可通过屏蔽双绞线或同轴电缆接收并同步来自个左侧后视摄像头和右侧后视摄像头的视频信号，通过MIPI和CSI-2将数据传入MCU微控制单元；步骤四：MCU微控制单元将图像数据进行处理，并识别出在可视范围内是否有车辆或行人；当发现有车辆或行人靠近时，则MCU微控制单元会通过LED驱动芯片驱动左-LED光源或右-LED光源上的LED灯珠进行点亮；步骤五：当发现有车辆或者行人靠近时，则控制相应侧的LED光源打开；同时，随着车辆的姿态不同，通过获取车身控制模块上的方向盘转角信息，控制相应侧的步进电机控制LED光源进行位移，确保LED光源作为警示灯始终能够照向靠近车辆或者行人的方向。
说明书desc
技术领域本发明涉及车灯控制领域，具体为一种具有倒车警示功能的灯具及其控制方法。背景技术目前现有技术的倒车警示基本都是采用安装在牌照上方的后视摄像头来进行倒车的信息采集，但是由于采集设备的缺陷，如其视野范围不够，观测距离不够远等原因导致的倒车范围存在盲区，造成很多存在的安全隐患无法获取，不能及时提醒驾驶者和其他交通参与者而导致事故发生，为驾驶者或他人造成损失。而一些更为先进的倒车辅助系统，采用的数据精度要求较高，需针对不同的车辆，进行适配采集车辆的准确位置和角度，在车辆上安装多个摄像头而适配不同车型的工作量较大。所以如何实现对于车辆在倒车中即可以实现警示提醒效果，还可以在结构上进行简化，是一直存在的技术问题。发明内容本发明要解决的技术问题克服现有的缺陷，提供一种倒车警示功能的灯具及其控制方法可通过警示灯的照明伴随倒车进行跟踪，从而实现在倒车过程中时警示灯可以起到提醒和警示作用。为了解决上述技术问题，本发明提供了如下的技术方案：一种具有倒车警示功能的灯具，包括车身端、控制驱动端和执行端，所述车身端包括左侧后视摄像头、右侧后视摄像头、车身控制模块；所述控制驱动端包括MCU微控制单元、左-步进电机驱动芯片、右-步进电机驱动芯片和LED驱动芯片，所述执行端包括左-步进电机、右-步进电机、左-LED光源和右-LED光源；执行端主要由左右两侧的步进电机与LED光源组成；所述左侧后视摄像头、右侧后视摄像头均通过信号串行器与信号解串器相连，所述信号解串器再与MCU微控制单元电连接，所述车身控制模块通过CAN总线与MCU微控制单元电连接，所述MCU微控制单元通过SPI总线通过左-步进电机驱动芯片与左-步进电机电连接，所述MCU微控制单元通过SPI总线通过右-步进电机驱动芯片与右-步进电机电连接，所述MCU微控制单元还通过CAN总线与LED驱动芯片连接，所述LED驱动芯片还分别与左-LED光源和右-LED光源电连接。作为优选，所述左侧后视摄像头和右侧后视摄像头分别安装在汽车尾灯的两侧，且FOV角度为120°，最大观测距离为50米。作为优选，所述LED驱动芯片采用了NXP公司的ALS5115的多通道LED矩阵管理芯片。作为优选，所述MCU微控制单元采用NXP公司S32V234这款处理器。作为优选，所述信号串行器采用MAX96705串行器。作为优选，所述左-LED光源包括转动套、转动轴和LED灯珠，所述LED灯珠与转动轴连接，所述转动轴与转动套转动配合，所述转动套与左-步进电机连接。作为优选，右-LED光源与左-LED光源结构相同，作为优选，所述LED灯珠为6颗，照射宽度为30°，照射高度为1.2米。为了解决上述技术问题，本发明提供了如下的技术方案：一种灯具的控制方法，包括如下步骤：步骤一：当车辆启动并进入倒车模式时，车身控制模块会向MCU微控制单元发送触发信号；步骤二：MCU微控制单元通过CAN总线接收到车身控制模块的报文信息后，开始处理摄像头视频信号；步骤三：左侧后视摄像头和右侧后视摄像头的信号通过信号串行器将摄像头信号串行发出，而信号解串器可通过屏蔽双绞线或同轴电缆接收并同步来自个左侧后视摄像头和右侧后视摄像头的视频信号，通过MIPI和CSI-2将数据传入MCU微控制单元；步骤四：MCU微控制单元将图像数据进行处理，并识别出在可视范围内是否有车辆或行人；当发现有车辆或行人靠近时，则MCU微控制单元会通过LED驱动芯片驱动左-LED光源或右-LED光源上的LED灯珠进行点亮；步骤五：当发现有车辆或者行人靠近时，则控制相应侧的LED光源打开；同时，随着车辆的姿态不同，通过获取车身控制模块上的方向盘转角信息，控制相应侧的步进电机控制LED光源进行位移，确保LED光源作为警示灯始终能够照向靠近车辆或者行人的方向。本发明有益效果：本发明的具有倒车警示功能的灯具及其控制方法可随着车辆的姿态不同，相应侧的步进电机控制由左-LED光源或右-LED光源构成的警示灯模组进行位移，确保警示灯光始终能够照向靠近车辆或者行人的方向；有效的解决了在室内狭小空间内或者夜晚倒车时，由于观测范围太小而导致的倒车安全问题；该系统可独立于整车系统，替换和升级更加简便，只需从车身端引入CAN总线即可装配。附图说明图1是本发明的具有倒车警示功能的灯具的框示图；图2是本发明的具有倒车警示功能的灯具的左-LED光源的结构示意图；图3是本发明的具有倒车警示功能的灯具的后视摄像头示意图；图4是本发明的具有倒车警示功能的灯具的工况示意图。附图说明：1、转动套；2、转动轴；3、LED灯珠。具体实施方式以下结合附图对本发明的优选实施例进行说明，应当理解，此处所描述的优选实施例仅用于说明和解释本发明，并不用于限定本发明。一种具有倒车警示功能的灯具，包括车身端、控制驱动端和执行端，所述车身端包括左侧后视摄像头、右侧后视摄像头、车身控制模块；所述控制驱动端包括MCU微控制单元、左-步进电机驱动芯片、右-步进电机驱动芯片和LED驱动芯片，所述执行端包括左-步进电机、右-步进电机、左-LED光源和右-LED光源；执行端主要由左右两侧的步进电机与LED光源组成；所述左侧后视摄像头、右侧后视摄像头均通过信号串行器与信号解串器相连，所述信号解串器再与MCU微控制单元电连接，所述车身控制模块通过CAN总线与MCU微控制单元电连接，所述MCU微控制单元通过SPI总线通过左-步进电机驱动芯片与左-步进电机电连接，所述MCU微控制单元通过SPI总线通过右-步进电机驱动芯片与右-步进电机电连接，所述MCU微控制单元还通过CAN总线与LED驱动芯片连接，所述LED驱动芯片还分别与左-LED光源和右-LED光源电连接；所述左侧后视摄像头和右侧后视摄像头分别安装在汽车尾灯的两侧，且FOV角度为120°，最大观测距离为50米；所述LED驱动芯片采用了NXP公司的ALS5115的多通道LED矩阵管理芯片；所述MCU微控制单元采用NXP公司S32V234这款处理器；所述信号串行器采用MAX96705串行器；所述左-LED光源包括转动套1、转动轴2和LED灯珠3，所述LED灯珠3与转动轴2连接，所述转动轴2与转动套1转动配合，所述转动套1与左-步进电机连接；右-LED光源与左-LED光源结构相同，所述LED灯珠3为6颗，照射宽度为30°，照射高度为1.2米。一种灯具的控制方法，包括如下步骤：步骤一：当车辆启动并进入倒车模式时，车身控制模块会向MCU微控制单元发送触发信号；步骤二：MCU微控制单元通过CAN总线接收到车身控制模块的报文信息后，开始处理摄像头视频信号；步骤三：左侧后视摄像头和右侧后视摄像头的信号通过信号串行器将摄像头信号串行发出，而信号解串器可通过屏蔽双绞线或同轴电缆接收并同步来自个左侧后视摄像头和右侧后视摄像头的视频信号，通过MIPI和CSI-2将数据传入MCU微控制单元；步骤四：MCU微控制单元将图像数据进行处理，并识别出在可视范围内是否有车辆或行人；当发现有车辆或行人靠近时，则MCU微控制单元会通过LED驱动芯片驱动左-LED光源或右-LED光源上的LED灯珠进行点亮；步骤五：当发现有车辆或者行人靠近时，则控制相应侧的LED光源打开；同时，随着车辆的姿态不同，通过获取车身控制模块上的方向盘转角信息，控制相应侧的步进电机控制LED光源进行位移，确保LED光源作为警示灯始终能够照向靠近车辆或者行人的方向LED驱动芯片采用了NXP公司的ALS5115的多通道LED矩阵管理芯片，最多可控制12颗LED的亮灭，并支持CAN总线通讯。MCU微控制芯片也采用了NXP公司S32V234这款处理器。S32V是NXP推出的一款汽车视觉微处理器，多达4x A53@1GHz和1x M4@133MHz内核，具有强大的运算处理能力。S32V包含2个APEX核，可以轻松实现图像视频的检测，识别，分类等应用，满足本发明所述系统的设计要求。视频信号相关的串行器采用了美信公司的MAX96705芯片，其尺寸较小，具有特别适合于汽车摄像应用的特性。高带宽模式下，对于12位线性或组合HDR数据类型，并行时钟最大为116MHz。而解串器的话，同样采用了美信公司的MAX9286全数字接口芯片，其最多可接收多达四个GMSL串行器的数据，采用50Ω同轴电缆或100Ω屏蔽双绞线电缆，通过四个CSI-2通道输出数据，每条串行链路具有嵌入式控制通道，工作在9.6kbps至1Mbps。当车辆启动并进入倒车模式时，MCU微控制芯片通过CAN总线接收到车身控制模块的相关报文信息后，开始处理摄像头视频信号。左右两侧的摄像头信号通过MAX96705串行器将摄像头信号串行发出，而MAX9286解串器可通过屏蔽双绞线或同轴电缆接收并同步来自2个摄像头的视频信号，通过MIPI CSI-2将数据传入MCU微控制芯片S32V234，MCU微控制芯片S32V234将图像数据进行处理，并识别出在可视范围内是否有车辆或者行人。当发现有车辆或者行人靠近时，则控制相应侧的警示灯光打开。同时，随着车辆的姿态不同，通过获取方向盘转角信息，控制相应侧的步进电机控制警示灯模组旋转，确保警示灯光始终能够照向靠近车辆或者行人的方向。当车辆启动并进入倒车模式时，MCU微控制芯片通过CAN总线接收到车身控制模块的相关报文信息后，开始处理摄像头视频信号。左右两侧的摄像头信号通过MAX96705串行器将摄像头信号串行发出，而MAX9286解串器可通过屏蔽双绞线或同轴电缆接收并同步来自2个摄像头的视频信号，通过MIPI CSI-2将数据传入MCU微控制芯片S32V234，MCU微控制芯片S32V234将图像数据进行处理，并识别出在可视范围内是否有车辆或者行人。当发现有车辆或者行人靠近时，则控制相应侧的警示灯光打开。同时，随着车辆的姿态不同，通过获取方向盘转角信息，控制相应侧的步进电机控制警示灯模组旋转，确保警示灯光始终能够照向靠近车辆或者行人的方向。以上为本发明较佳的实施方式，本发明所属领域的技术人员还能够对上述实施方式进行变更和修改，因此，本发明并不局限于上述的具体实施方式，凡是本领域技术人员在本发明的基础上所作的任何显而易见的改进、替换或变型均属于本发明的保护范围。
