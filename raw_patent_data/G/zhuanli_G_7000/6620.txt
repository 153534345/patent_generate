标题title
一种任务执行方法和装置以及分布式计算系统
摘要abst
本发明公开了一种任务执行方法和装置以及分布式计算系统，涉及分布式计算技术领域。该方法的一具体实施方式包括：申请到可执行任务后，将可执行任务的计算程序和任务输入信息加载到区块链的可信执行环境，在可信执行环境中执行计算程序以得到任务计算结果，并对任务输入信息和任务计算结果签名得到签名结果数据，通过区块链根据签名结果数据确定可执行任务被实际执行且任务计算结果可信，将任务计算结果保存在区块链。该实施方式能够保证分布式计算程序的运行环境安全性，避免分布式计算程序恶意访问或破坏参与者计算机，实现对任务确实得到执行以及计算结果可信性的验证，提高资源利用率且降低计算成本，提高区块链节点参与积极性。
权利要求书clms
1.一种任务执行方法，其特征在于，包括：申请区块链上的可执行任务，并在申请到所述可执行任务后，从所述区块链获取所述可执行任务的计算程序和任务输入信息；将所述计算程序和所述任务输入信息加载到所述区块链的可信执行环境，在所述可信执行环境中，执行所述计算程序以得到任务计算结果，并对所述任务输入信息和所述任务计算结果进行签名，得到签名结果数据；将所述签名结果数据发送到所述区块链，通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，然后将所述任务计算结果保存在所述区块链。2.根据权利要求1所述的方法，其特征在于，所述从所述区块链获取所述可执行任务的计算程序和任务输入信息，包括：从写入智能合约的任务信息中得到所述计算程序的下载地址和所述任务输入信息，并根据所述计算程序的下载地址得到所述计算程序，其中，所述任务信息是任务发布方在将所述可执行任务发布到所述区块链时写入所述智能合约的。3.根据权利要求2所述的方法，其特征在于，所述写入智能合约的任务信息还包括所述计算程序的哈希值；所述将所述计算程序和所述任务输入信息加载到所述区块链的可信执行环境之前，包括：对所述计算程序进行哈希运算，并确定所述哈希运算的结果与从所述写入智能合约的任务信息中获取的所述计算程序的哈希值比对一致。4.根据权利要求2所述的方法，其特征在于，所述写入智能合约的任务信息还包括所述可执行任务的任务标识；所述将所述签名结果数据发送到所述区块链，包括：在得到所述签名结果数据后，生成第一合约交易，并将所述第一合约交易发送到所述区块链，所述第一合约交易的信息包括所述可执行任务的任务标识、所述签名结果数据。5.根据权利要求4所述的方法，其特征在于，所述写入智能合约的任务信息还包括所述可执行任务对应的公钥；所述签名结果数据包括所述任务计算结果、所述任务计算结果的签名和所述任务输入信息的签名；通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，包括：通过所述智能合约根据所述可执行任务的任务标识，查询得到所述任务输入信息和所述可执行任务对应的公钥，并利用查询到的所述任务输入信息和所述可执行任务对应的公钥，验证所述任务输入信息的签名，在所述任务输入信息的签名正确的情况下，确定所述可执行任务被实际执行，并在确定所述可执行任务被实际执行后，利用所述可执行任务对应的公钥验证所述任务计算结果的签名，在所述任务计算结果的签名正确的情况下，确定所述任务计算结果可信。6.根据权利要求4所述的方法，其特征在于，所述写入智能合约的任务信息还包括所述可执行任务对应的公钥；所述签名结果数据包括对所述任务输入信息和所述任务计算结果的整体签名、所述任务计算结果；通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，包括：通过所述智能合约根据所述可执行任务的任务标识，查询得到所述可执行任务对应的公钥，并利用查询到的所述可执行任务对应的公钥，验证所述任务输入信息和所述任务计算结果的整体签名，在所述整体签名正确的情况下，确定所述可执行任务被实际执行且所述任务计算结果可信。7.根据权利要求4所述的方法，其特征在于，所述第一合约交易的信息还包括任务执行方标识；所述方法还包括：通过向所述区块链发送第二合约交易来申请所述可执行任务，所述第二合约交易的信息包括任务申请方标识和所述可执行任务的任务标识；通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信之前，所述方法还包括：通过所述智能合约根据所述可执行任务的任务标识，查询对应的所述任务申请方标识和所述任务执行方标识，并确定所述任务申请方标识和任务执行方标识比对一致。8.根据权利要求1所述的方法，其特征在于，所述对所述任务输入信息和所述任务计算结果进行签名，包括：利用预先内置在所述可执行任务的计算程序中的私钥，对所述任务输入信息和所述任务计算结果分别进行签名，或者，以所述任务输入信息和所述任务计算结果作为整体进行签名。9.根据权利要求2所述的方法，其特征在于，所述写入智能合约的任务信息还包括所述可执行任务对应的任务权利；将所述任务计算结果保存在所述区块链之后，所述方法还包括：接收所述区块链通过所述智能合约发放的所述任务权利。10.一种任务执行装置，其特征在于，包括：任务申请模块，用于申请区块链上的可执行任务，并在申请到所述可执行任务后，从所述区块链获取所述可执行任务的计算程序和任务输入信息；任务执行模块，用于将所述计算程序和所述任务输入信息加载到所述区块链的可信执行环境，在所述可信执行环境中，执行所述计算程序以得到任务计算结果，并对所述任务输入信息和所述任务计算结果进行签名，得到签名结果数据；将所述签名结果数据发送到所述区块链，通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，然后将所述任务计算结果保存在所述区块链。11.根据权利要求10所述的装置，其特征在于，所述任务执行模块还用于：从写入智能合约的任务信息中得到所述计算程序的下载地址和所述任务输入信息，并根据所述计算程序的下载地址得到所述计算程序，其中，所述任务信息是任务发布方在将所述可执行任务发布到所述区块链时写入所述智能合约的。12.根据权利要求11所述的装置，其特征在于，所述写入智能合约的任务信息还包括所述计算程序的哈希值；所述任务执行模块还用于：对所述计算程序进行哈希运算，并确定所述哈希运算的结果与从所述写入智能合约的任务信息中获取的所述计算程序的哈希值比对一致。13.根据权利要求11所述的装置，其特征在于，所述写入智能合约的任务信息还包括所述可执行任务的任务标识；所述任务执行模块还用于：在得到所述签名结果数据后，生成第一合约交易，并将所述第一合约交易发送到所述区块链，所述第一合约交易的信息包括所述可执行任务的任务标识、所述签名结果数据。14.根据权利要求13所述的装置，其特征在于，所述任务申请模块还用于：通过向所述区块链发送第二合约交易来申请所述可执行任务，所述第二合约交易的信息包括任务申请方标识和所述可执行任务的任务标识。15.根据权利要求10所述的装置，其特征在于，所述任务执行模块还用于：利用预先内置在所述可执行任务的计算程序中的私钥，对所述任务输入信息和所述任务计算结果分别进行签名，得到所述签名结果数据包括所述任务计算结果、所述任务计算结果的签名和所述任务输入信息的签名；或者，以所述任务输入信息和所述任务计算结果作为整体进行签名，得到所述签名结果数据包括对所述任务输入信息和所述任务计算结果的整体签名、所述任务计算结果。16.根据权利要求11所述的装置，其特征在于，所述写入智能合约的任务信息还包括所述可执行任务对应的任务权利；所述装置还包括任务结果查询模块，用于：查询从所述区块链接收的通过所述智能合约发放的所述任务权利。17.一种分布式计算系统，其特征在于，包括：如权利要求10-16中任一项所述的任务执行装置，以及区块链、任务发布装置，其中：所述任务发布装置用于将可执行任务的任务信息写入智能合约，以将所述可执行任务发布到所述区块链上，写入智能合约的任务信息包括所述可执行任务的计算程序和任务输入信息；所述区块链用于向所述任务执行装置提供可信执行环境，以由所述任务执行装置在所述可信执行环境中执行所述计算程序，得到任务计算结果以及对所述任务输入信息和所述任务计算结果进行签名，并将签名得到的所述签名结果数据发送到所述区块链；所述区块链还用于根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，并保存所述任务计算结果。18.根据权利要求17所述的系统，其特征在于，所述任务发布装置还用于将分布式计算任务分解为可独立运行的所述可执行任务，并生成所述可执行任务对应的公钥和私钥，将所述私钥内置到所述可执行任务的计算程序中。19.根据权利要求18所述的系统，其特征在于，所述任务发布装置还用于查询所述分布式计算任务或所述可执行任务的执行状态，以及用于查询所述可执行任务的任务计算结果。20.根据权利要求17所述的系统，其特征在于，所述任务执行装置还用于查询所述可执行任务以及查询所述智能合约发放的对应所述可执行任务的任务权利。21.根据权利要求17所述的系统，其特征在于，所述写入智能合约的任务信息还包括所述可执行任务的任务标识、所述可执行任务对应的公钥；所述签名结果数据包括所述任务计算结果、所述任务计算结果的签名和所述任务输入信息的签名；所述区块链还用于通过所述智能合约，根据所述可执行任务的任务标识，查询得到所述任务输入信息和所述可执行任务对应的公钥，并利用查询到的所述任务输入信息和所述可执行任务对应的公钥，验证所述任务输入信息的签名，在所述任务输入信息的签名正确的情况下，确定所述可执行任务被实际执行，并在确定所述可执行任务被实际执行后，利用所述可执行任务对应的公钥验证所述任务计算结果的签名，在所述任务计算结果的签名正确的情况下，确定所述任务计算结果可信。22.根据权利要求17所述的系统，其特征在于，所述写入智能合约的任务信息还包括所述可执行任务的任务标识、所述可执行任务对应的公钥；所述签名结果数据包括对所述任务输入信息和所述任务计算结果的整体签名、所述任务计算结果，所述整体签名是所述任务执行装置以所述任务输入信息和所述任务计算结果作为整体进行签名得到的；所述区块链还用于通过所述智能合约，根据所述可执行任务的任务标识，查询得到所述可执行任务对应的公钥，并利用查询到的所述可执行任务对应的公钥，验证所述任务输入信息和所述任务计算结果的整体签名，在所述整体签名正确的情况下，确定所述可执行任务被实际执行且所述任务计算结果可信。23.根据权利要求21或22所述的系统，其特征在于，所述区块链还用于通过所述智能合约，根据所述可执行任务的任务标识，查询对应的任务申请方标识和任务执行方标识，并确定所述任务申请方标识和任务执行方标识比对一致，所述任务申请方标识为申请所述可执行任务的任务执行装置对应的用户公钥地址，所述任务执行方标识为执行所述可执行任务的任务执行装置对应的用户公钥地址。24.根据权利要求17所述的系统，其特征在于，所述任务执行装置和/或任务发布装置位于所述区块链的节点上。25.一种电子设备，其特征在于，包括：一个或多个处理器；存储器，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器实现如权利要求1-9中任一所述的方法。26.一种计算机可读介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-9中任一所述的方法。
说明书desc
技术领域本发明涉及分布式计算技术领域，尤其涉及一种任务执行方法和装置以及分布式计算系统。背景技术随着互联网的发展，信息化程度越来越高，产生了大量的数据需要通过计算机进行处理，然而单一计算机的算力总是有限的，因此分布式计算的产生就很有必要。目前分布式计算系统通常是由具有一定经济实力的机构或个人采用计算机集群来提升算力的方式进行建设，或者由机构发布分布式计算任务，由合作机构或者个人参与分布式计算。在实现本发明过程中，发明人发现现有技术中至少存在如下问题：现有方案一建设成本高，同时由于算力需求并不总是高负荷的，就会导致算力闲置从而产生浪费；现有方案二无法保证分布式计算程序的运行环境的安全性，无法避免分布式计算程序恶意访问或破坏参与者计算机，且对于分布式计算的结果无法验证，即无法验证参与者是否真正执行了分布式计算程序，还存在伪造计算结果的可能性，并且社会闲置资源参与积极度不高。发明内容有鉴于此，本发明实施例提供一种任务执行方法和装置以及分布式计算系统，能够克服建设成本高、算力因闲置而浪费的缺陷，并保证分布式计算程序的运行环境安全性，可避免分布式计算程序恶意访问或破坏参与者的计算机，并且可实现对任务确实得到执行以及计算结果可信性的验证，且节省验证所耗的资源，提高资源利用率且降低计算成本，还可提高区块链节点的参与积极性。为实现上述目的，根据本发明实施例的一个方面，提供了一种任务执行方法。一种任务执行方法，包括：申请区块链上的可执行任务，并在申请到所述可执行任务后，从所述区块链获取所述可执行任务的计算程序和任务输入信息；将所述计算程序和所述任务输入信息加载到所述区块链的可信执行环境，在所述可信执行环境中，执行所述计算程序以得到任务计算结果，并对所述任务输入信息和所述任务计算结果进行签名，得到签名结果数据；将所述签名结果数据发送到所述区块链，通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，然后将所述任务计算结果保存在所述区块链。可选地，所述从所述区块链获取所述可执行任务的计算程序和任务输入信息，包括：从写入智能合约的任务信息中得到所述计算程序的下载地址和所述任务输入信息，并根据所述计算程序的下载地址得到所述计算程序，其中，所述任务信息是任务发布方在将所述可执行任务发布到所述区块链时写入所述智能合约的。可选地，所述写入智能合约的任务信息还包括所述计算程序的哈希值；所述将所述计算程序和所述任务输入信息加载到所述区块链的可信执行环境之前，包括：对所述计算程序进行哈希运算，并确定所述哈希运算的结果与从所述写入智能合约的任务信息中获取的所述计算程序的哈希值比对一致。可选地，所述写入智能合约的任务信息还包括所述可执行任务的任务标识；所述将所述签名结果数据发送到所述区块链，包括：在得到所述签名结果数据后，生成第一合约交易，并将所述第一合约交易发送到所述区块链，所述第一合约交易的信息包括所述可执行任务的任务标识、所述签名结果数据。可选地，所述写入智能合约的任务信息还包括所述可执行任务对应的公钥；所述签名结果数据包括所述任务计算结果、所述任务计算结果的签名和所述任务输入信息的签名；通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，包括：通过所述智能合约根据所述可执行任务的任务标识，查询得到所述任务输入信息和所述可执行任务对应的公钥，并利用查询到的所述任务输入信息和所述可执行任务对应的公钥，验证所述任务输入信息的签名，在所述任务输入信息的签名正确的情况下，确定所述可执行任务被实际执行，并在确定所述可执行任务被实际执行后，利用所述可执行任务对应的公钥验证所述任务计算结果的签名，在所述任务计算结果的签名正确的情况下，确定所述任务计算结果可信。可选地，所述写入智能合约的任务信息还包括所述可执行任务对应的公钥；所述签名结果数据包括对所述任务输入信息和所述任务计算结果的整体签名、所述任务计算结果；通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，包括：通过所述智能合约根据所述可执行任务的任务标识，查询得到所述可执行任务对应的公钥，并利用查询到的所述可执行任务对应的公钥，验证所述任务输入信息和所述任务计算结果的整体签名，在所述整体签名正确的情况下，确定所述可执行任务被实际执行且所述任务计算结果可信。可选地，所述第一合约交易的信息还包括任务执行方标识；所述方法还包括：通过向所述区块链发送第二合约交易来申请所述可执行任务，所述第二合约交易的信息包括任务申请方标识和所述可执行任务的任务标识；通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信之前，所述方法还包括：通过所述智能合约根据所述可执行任务的任务标识，查询对应的所述任务申请方标识和所述任务执行方标识，并确定所述任务申请方标识和任务执行方标识比对一致。可选地，所述对所述任务输入信息和所述任务计算结果进行签名，包括：利用预先内置在所述可执行任务的计算程序中的私钥，对所述任务输入信息和所述任务计算结果分别进行签名，或者，以所述任务输入信息和所述任务计算结果作为整体进行签名。可选地，所述写入智能合约的任务信息还包括所述可执行任务对应的任务权利；将所述任务计算结果保存在所述区块链之后，所述方法还包括：接收所述区块链通过所述智能合约发放的所述任务权利。根据本发明实施例的另一方面，提供了一种任务执行装置。一种任务执行装置，包括：任务申请模块，用于申请区块链上的可执行任务，并在申请到所述可执行任务后，从所述区块链获取所述可执行任务的计算程序和任务输入信息；任务执行模块，用于将所述计算程序和所述任务输入信息加载到所述区块链的可信执行环境，在所述可信执行环境中，执行所述计算程序以得到任务计算结果，并对所述任务输入信息和所述任务计算结果进行签名，得到签名结果数据；将所述签名结果数据发送到所述区块链，通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，然后将所述任务计算结果保存在所述区块链。可选地，所述任务执行模块还用于：从写入智能合约的任务信息中得到所述计算程序的下载地址和所述任务输入信息，并根据所述计算程序的下载地址得到所述计算程序，其中，所述任务信息是任务发布方在将所述可执行任务发布到所述区块链时写入所述智能合约的。可选地，所述写入智能合约的任务信息还包括所述计算程序的哈希值；所述任务执行模块还用于：对所述计算程序进行哈希运算，并确定所述哈希运算的结果与从所述写入智能合约的任务信息中获取的所述计算程序的哈希值比对一致。可选地，所述写入智能合约的任务信息还包括所述可执行任务的任务标识；所述任务执行模块还用于：在得到所述签名结果数据后，生成第一合约交易，并将所述第一合约交易发送到所述区块链，所述第一合约交易的信息包括所述可执行任务的任务标识、所述签名结果数据。可选地，所述任务申请模块还用于：通过向所述区块链发送第二合约交易来申请所述可执行任务，所述第二合约交易的信息包括任务申请方标识和所述可执行任务的任务标识。可选地，所述任务执行模块还用于：利用预先内置在所述可执行任务的计算程序中的私钥，对所述任务输入信息和所述任务计算结果分别进行签名，得到所述签名结果数据包括所述任务计算结果、所述任务计算结果的签名和所述任务输入信息的签名；或者，以所述任务输入信息和所述任务计算结果作为整体进行签名，得到所述签名结果数据包括对所述任务输入信息和所述任务计算结果的整体签名、所述任务计算结果。可选地，所述写入智能合约的任务信息还包括所述可执行任务对应的任务权利；所述装置还包括任务结果查询模块，用于：查询从所述区块链接收的通过所述智能合约发放的所述任务权利。根据本发明实施例的又一方面，提供了一种分布式计算系统。一种分布式计算系统，包括：本发明实施例提供的任务执行装置，以及区块链、任务发布装置，其中：所述任务发布装置用于将可执行任务的任务信息写入智能合约，以将所述可执行任务发布到所述区块链上，写入智能合约的任务信息包括所述可执行任务的计算程序和任务输入信息；所述区块链用于向所述任务执行装置提供可信执行环境，以由所述任务执行装置在所述可信执行环境中执行所述计算程序，得到任务计算结果以及对所述任务输入信息和所述任务计算结果进行签名，并将签名得到的所述签名结果数据发送到所述区块链；所述区块链还用于根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，并保存所述任务计算结果。可选地，所述任务发布装置还用于将分布式计算任务分解为可独立运行的所述可执行任务，并生成所述可执行任务对应的公钥和私钥，将所述私钥内置到所述可执行任务的计算程序中。可选地，所述任务发布装置还用于查询所述分布式计算任务或所述可执行任务的执行状态，以及用于查询所述可执行任务的任务计算结果。可选地，所述任务执行装置还用于查询所述可执行任务以及查询所述智能合约发放的对应所述可执行任务的任务权利。可选地，所述写入智能合约的任务信息还包括所述可执行任务的任务标识、所述可执行任务对应的公钥；所述签名结果数据包括所述任务计算结果、所述任务计算结果的签名和所述任务输入信息的签名；所述区块链还用于通过所述智能合约，根据所述可执行任务的任务标识，查询得到所述任务输入信息和所述可执行任务对应的公钥，并利用查询到的所述任务输入信息和所述可执行任务对应的公钥，验证所述任务输入信息的签名，在所述任务输入信息的签名正确的情况下，确定所述可执行任务被实际执行，并在确定所述可执行任务被实际执行后，利用所述可执行任务对应的公钥验证所述任务计算结果的签名，在所述任务计算结果的签名正确的情况下，确定所述任务计算结果可信。可选地，所述写入智能合约的任务信息还包括所述可执行任务的任务标识、所述可执行任务对应的公钥；所述签名结果数据包括对所述任务输入信息和所述任务计算结果的整体签名、所述任务计算结果，所述整体签名是所述任务执行装置以所述任务输入信息和所述任务计算结果作为整体进行签名得到的；所述区块链还用于通过所述智能合约，根据所述可执行任务的任务标识，查询得到所述可执行任务对应的公钥，并利用查询到的所述可执行任务对应的公钥，验证所述任务输入信息和所述任务计算结果的整体签名，在所述整体签名正确的情况下，确定所述可执行任务被实际执行且所述任务计算结果可信。可选地，所述区块链还用于通过所述智能合约，根据所述可执行任务的任务标识，查询对应的任务申请方标识和任务执行方标识，并确定所述任务申请方标识和任务执行方标识比对一致，所述任务申请方标识为申请所述可执行任务的任务执行装置对应的用户公钥地址，所述任务执行方标识为执行所述可执行任务的任务执行装置对应的用户公钥地址。可选地，所述任务执行装置和/或任务发布装置位于所述区块链的节点上。根据本发明实施例的又一方面，提供了一种电子设备。一种电子设备，包括：一个或多个处理器；存储器，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器实现本发明实施例所提供的任务执行方法。根据本发明实施例的又一方面，提供了一种计算机可读介质。一种计算机可读介质，其上存储有计算机程序，所述程序被处理器执行时实现本发明实施例所提供的任务执行方法。上述发明中的一个实施例具有如下优点或有益效果：申请区块链上的可执行任务，并在申请到可执行任务后，从区块链获取可执行任务的计算程序和任务输入信息，将获取的该计算程序和任务输入信息加载到区块链的可信执行环境，在可信执行环境中，执行该计算程序以得到任务计算结果，并对该任务输入信息和该任务计算结果进行签名，得到签名结果数据，将所述签名结果数据发送到区块链，通过区块链根据签名结果数据确定可执行任务被实际执行且任务计算结果可信，然后将任务计算结果保存在区块链。能够克服建设成本高、算力因闲置而浪费的缺陷，并保证分布式计算程序的运行环境安全性，可避免分布式计算程序恶意访问或破坏参与者的计算机，并且可实现对任务确实得到执行以及计算结果可信性的验证，且节省验证所耗的资源，提高资源利用率且降低计算成本，还可提高区块链节点的参与积极性。上述的非惯用的可选方式所具有的进一步效果将在下文中结合具体实施方式加以说明。附图说明附图用于更好地理解本发明，不构成对本发明的不当限定。其中：图1是根据本发明一个实施例的任务执行方法的主要步骤示意图；图2是根据本发明一个实施例的分布式计算任务提交流程示意图；图3是根据本发明一个实施例的分布式计算任务分发流程示意图；图4是根据本发明一个实施例的分布式计算任务申请流程示意图；图5是根据本发明一个实施例的分布式计算任务执行流程示意图；图6是根据本发明一个实施例的分布式计算任务计算结果反馈流程示意图；图7是根据本发明一个实施例的分布式计算任务结果查询流程示意图；图8是根据本发明一个实施例的任务执行装置的主要模块示意图；图9是根据本发明一个实施例的分布式计算系统的主要构成示意图；图10是本发明实施例可以应用于其中的示例性系统架构图；图11是适于用来实现本发明实施例的终端设备或服务器的计算机系统的结构示意图。具体实施方式以下结合附图对本发明的示范性实施例做出说明，其中包括本发明实施例的各种细节以助于理解，应当将它们认为仅仅是示范性的。因此，本领域普通技术人员应当认识到，可以对这里描述的实施例做出各种改变和修改，而不会背离本发明的范围和精神。同样，为了清楚和简明，以下的描述中省略了对公知功能和结构的描述。图1是根据本发明一个实施例的任务执行方法的主要步骤示意图。如图1所示，本发明一个实施例的任务执行方法主要包括如下的步骤S101至步骤S103。步骤S101：申请区块链上的可执行任务，并在申请到可执行任务后，从区块链获取可执行任务的计算程序和任务输入信息；步骤S102：将获取的计算程序和任务输入信息加载到区块链的可信执行环境，在可信执行环境中，执行计算程序以得到任务计算结果，并对任务输入信息和任务计算结果进行签名，得到签名结果数据；步骤S103：将签名结果数据发送到区块链，通过区块链根据签名结果数据确定可执行任务被实际执行且任务计算结果可信，然后将任务计算结果保存在区块链。本实施例的任务执行方法由任务执行装置执行，任务执行装置可作为任务申请方申请区块链上的可执行任务，并在申请到可执行任务后，作为任务执行方执行申请到的可执行任务。从区块链获取可执行任务的计算程序和任务输入信息，具体包括：从写入智能合约的任务信息中得到计算程序的下载地址和任务输入信息，并根据计算程序的下载地址得到计算程序。任务输入信息即任务的输入，计算程序根据任务的输入进行任务计算，任务输入信息的具体内容与可执行任务有关。其中，任务信息是任务发布方在将可执行任务发布到区块链时写入智能合约的。任务发布方即本发明实施例的任务发布装置，用于将可执行任务的任务信息写入智能合约，以将可执行任务发布到区块链上。任务发布装置可以将分布式计算任务分解为可独立运行的子任务，即可执行任务，并生成可执行任务对应的公钥和私钥，将私钥内置到可执行任务的计算程序中。任务发布装置还生成计算程序的哈希值并将该哈希值写入智能合约，即，写入智能合约的任务信息还可以包括计算程序的哈希值。将计算程序和任务输入信息加载到区块链的可信执行环境之前，可以对计算程序进行哈希运算，并确定哈希运算的结果与从写入智能合约的任务信息中获取的计算程序的哈希值比对一致。写入智能合约的任务信息还可以包括可执行任务的任务标识。将签名结果数据发送到区块链，具体包括：在得到签名结果数据后，生成第一合约交易，并将第一合约交易发送到区块链，第一合约交易的信息包括可执行任务的任务标识、签名结果数据。写入智能合约的任务信息还可以包括可执行任务对应的公钥。在一个实施例中，签名结果数据具体可以包括任务计算结果、任务计算结果的签名和任务输入信息的签名。通过区块链根据签名结果数据确定可执行任务被实际执行且任务计算结果可信，具体包括：通过智能合约根据可执行任务的任务标识，查询得到任务输入信息和可执行任务对应的公钥，并利用查询到的任务输入信息和可执行任务对应的公钥，验证任务输入信息的签名，在任务输入信息的签名正确的情况下，确定可执行任务被实际执行，并在确定可执行任务被实际执行后，利用可执行任务对应的公钥验证任务计算结果的签名，在任务计算结果的签名正确的情况下，确定任务计算结果可信。在另一个实施例中，签名结果数据具体可以包括对任务输入信息和任务计算结果的整体签名、任务计算结果。通过区块链根据签名结果数据确定可执行任务被实际执行且任务计算结果可信，具体包括：通过智能合约根据可执行任务的任务标识，查询得到可执行任务对应的公钥，并利用查询到的可执行任务对应的公钥，验证任务输入信息和任务计算结果的整体签名，在整体签名正确的情况下，确定可执行任务被实际执行且任务计算结果可信。第一合约交易的信息还可以包括任务执行方标识。可以通过向区块链发送第二合约交易来申请可执行任务，第二合约交易的信息包括任务申请方标识和可执行任务的任务标识。区块链根据签名结果数据确定可执行任务被实际执行且任务计算结果可信之前，可以通过智能合约根据可执行任务的任务标识，查询对应的任务申请方标识和任务执行方标识，并确定任务申请方标识和任务执行方标识比对一致。可以利用预先内置在可执行任务的计算程序中的私钥，对任务输入信息和任务计算结果分别进行签名，或者，以任务输入信息和任务计算结果作为整体进行签名。写入智能合约的任务信息还可以包括可执行任务对应的任务权利。将任务计算结果保存在区块链之后，还可以接收区块链通过智能合约发放的任务权利。写入智能合约的任务信息还可以包括可执行任务的任务描述，任务描述是对任务的说明。图2是根据本发明一个实施例的分布式计算任务提交流程示意图。如图2所示，本发明一个实施例的分布式计算任务提交流程包括：步骤S201：将分布式计算任务分解为可独立运行的子任务，即本发明实施例的可执行任务；步骤S202：为可执行任务生成一对公钥和私钥；步骤S203：将私钥内置到可执行任务的计算程序中，并生成计算程序的哈希值；步骤S204：设定任务信息，具体包括可执行任务的任务标识，任务描述，计算程序的下载地址，计算程序的哈希值，可执行任务对应的公钥，可执行任务的任务输入信息，可执行任务对应的任务权利等；步骤S205：通过智能合约交易将上述任务信息发送到区块链节点，以将该任务信息写入智能合约。本实施例的分布式计算任务提交流程由任务发布装置执行，具体地，将需要大量计算的任务进行分解，分解成可独立运行的子任务，同时生成一对公私密钥，并将私钥内置到可执行任务的计算程序中。将分解后的可独立运行的子任务通过智能合约写入区块链。写入智能合约的信息包括但不限于：任务ID，任务描述，分布式计算程序的下载地址，分布式计算程序的哈希值，分布式计算任务对应的公钥，该可执行任务的输入信息以及任务对应的权利、义务等。权利是激励。义务是任务执行的规范，起到约束作用，例如如果不符合规范，可以不发放权利，等等。上述计算程序至少包括对应的任务的计算过程与签名过程。其中计算过程用于根据任务输入信息进行相关计算，签名过程用于该任务结束后对任务输入信息和任务计算结果进行签名。S205中的智能合约交易是任务发布时的合约交易，用于触发智能合约将可执行任务发布到区块链上，该智能合约交易不同于上文提到的第一合约交易和第二合约交易。图3是根据本发明一个实施例的分布式计算任务分发流程示意图。如图3所示，本发明一个实施例的分布式计算任务分发流程包括：步骤S301：区块链共识节点将智能合约交易打包进区块进行共识；步骤S302：将完成共识的区块通过区块链网络广播给所有节点进行同步；步骤S303：同步成功后，区块链提供查询功能以使任务申请方可以查询到写入智能合约的任务信息。本实施例的分布式计算任务分发流程在区块链执行，任务发布装置将分解成的可独立运行的子任务通过智能合约交易的方式发送到区块链节点，区块链共识节点将智能合约交易打包进区块并通过P2P网络将可执行任务分发给所有的区块链节点，该智能合约交易与S205中的智能合约交易是同一合约交易，即任务发布时的合约交易。当区块同步成功后，任务申请者即可检测到有新的任务发布，任务申请者或称任务申请方，即申请该可执行任务的任务执行装置。图4是根据本发明一个实施例的分布式计算任务申请流程示意图。如图4所示，本发明一个实施例的分布式计算任务申请流程包括：步骤S401：通过区块链节点查询所有的可执行任务，并展示给用户；步骤S402：按照用户对可执行任务的选择信息，对可执行任务进行申请，生成本次申请的一条合约交易，并发送到区块链；步骤S403：区块链共识节点将该合约交易打包进区块，并广播给区块链所有节点。本实施例的分布式计算任务申请流程可由任务申请者执行，具体地，可查看当前区块链节点上存在的所有的可执行任务，点击其中的可执行任务进行申请，该申请会生成一条合约交易发送到区块链，用于确定任务归属，该合约交易是任务申请时的合约交易，即第二合约交易，用于触发智能合约进行任务申请。区块链共识节点将该合约交易打包进区块，并通过P2P网络广播给所有的区块链节点。图5是根据本发明一个实施例的分布式计算任务执行流程示意图。如图5所示，本发明一个实施例的分布式计算任务执行流程包括：步骤S501：检测有新的可执行任务，即任务申请通过，从区块链获取该可执行任务的任务信息；步骤S502：解析获取的任务信息，根据计算程序的下载地址下载该可执行任务的计算程序，并对下载的计算程序进行哈希运算，确定该哈希运算的结果与任务信息中计算程序的哈希值比对一致；通过上述比对，实现对计算程序的合法性校验，即如果比对一致，则计算程序合法性校验通过，否则合法性校验不通过，在合法性校验通过的情况下执行步骤S503。步骤S503：将该可执行任务的计算程序和任务输入信息加载到区块链的可信执行环境，执行计算程序；步骤S504：程序执行结束后，得到签名结果数据，其中包括任务计算结果和签名信息，签名信息包括任务计算结果的签名和任务输入信息的签名，或者签名信息包括任务输入信息和任务计算结果的整体签名。本实施例的分布式计算任务执行流程由任务执行者执行。具体地，检测到本节点申请的任务通过了共识确认，则根据任务信息中计算程序的下载地址获取计算程序。校验计算程序的合法性，具体通过计算出的计算程序的哈希值与任务信息中的哈希值进行比较，若二者一致，则计算程序合法，合法性校验通过。将计算程序加载到区块链节点的可信执行环境中执行，由于是在可信执行环境中执行，避免了计算程序对区块链节点以及其他计算机资源造成破坏，并避免了计算机上的信息泄露。计算过程执行结束后，在可信执行环境中对任务的输入和任务计算结果分别进行签名，得到签名信息，然后将签名信息和任务计算结果返回，如果计算程序没有真正运行是不会得到正确的签名信息的。本实施例的签名信息的生成方式的一个替换实施例可以是：对任务输入信息和任务计算结果作为整体进行签名，来得到签名信息。可利用预先内置在可执行任务的计算程序中的私钥来生成上述签名信息。图6是根据本发明一个实施例的分布式计算任务计算结果反馈流程示意图。如图6，本发明一个实施例的分布式计算任务计算结果反馈流程包括：步骤S601：区块链接收任务执行装置发送的智能合约交易。S601中区块链接收的智能合约交易即第一合约交易。任务执行装置在可执行任务执行完成后得到签名结果数据，然后，生成智能合约交易发送到区块链，交易信息包括但不限于可执行任务的任务标识、签名结果数据，其中，签名结果数据包括任务计算结果和签名信息；步骤S602：智能合约根据任务标识校验任务申请者与结果反馈者是否一致；任务申请者即申请该可执行任务的任务执行装置，结果反馈者即执行该可执行任务的任务执行装置。步骤S602具体地，即智能合约根据可执行任务的任务标识，查询对应的任务申请方标识和任务执行方标识，并确定任务申请方标识和任务执行方标识比对一致，任务申请方标识为申请可执行任务的任务执行装置对应的用户公钥地址，任务执行方标识为执行可执行任务的任务执行装置对应的用户公钥地址。步骤S603：智能合约对签名结果数据进行校验，以确定该可执行任务被实际执行且任务计算结果可信。签名信息的生成可以以有种实现方式：方式一是分别生成任务计算结果的签名和任务输入信息的签名；方式二是生成任务输入信息和任务计算结果的整体签名。相应地，对签名结果数据进行校验也可以有两种实现方式：对应上述方式一，步骤S603具体即先验证任务输入信息的签名，在任务输入信息的签名正确的情况下确定可执行任务被实际执行，并在确定可执行任务被实际执行后，验证任务计算结果的签名，在任务计算结果的签名正确的情况下确定任务计算结果可信。具体地，智能合约通过任务ID查询出任务输入信息和公钥信息，使用任务输入信息与公钥验证任务输入信息的签名是否正确，如果任务输入信息的签名正确，则认为该任务确实得到了执行，然后验证任务计算结果的签名，如果任务计算结果的签名正确，则该任务计算结果可信。对应上述方式二，步骤S603即验证任务输入信息和任务计算结果的整体签名，在整体签名正确的情况下确定可执行任务被实际执行且任务计算结果可信。该可执行任务被实际执行且任务计算结果可信，说明签名信息合法，即该签名结果数据校验通过。步骤S604：区块链共识节点将S601中的智能合约交易打包进区块，同时保存任务计算结果，并向参与者发放该可执行任务对应的任务权利。接收该任务权利的参与者即确实执行了该可执行任务的任务执行装置，智能合约可将约定好的任务权利立即发放给该任务执行者。图7是根据本发明一个实施例的分布式计算任务结果查询流程示意图。如图7所示，本发明一个实施例的分布式计算任务结果查询流程包括：步骤S701：根据任务发布者发送的查询请求，查询发布的所有可执行任务；具体地，任务发布者可以查询所有所发布的任务的任务计算结果。区块链节点可以列出所有的子任务的执行状态，任务发布者可以查询所有子任务的执行状态，也可以单独查询任一子任务的状态。子任务执行状态包括但不限于：发布中、已认领、计算完成。对于状态为发布中的任务可以显示任务明细，对于状态为已认领的任务可以显示任务认领人，对于状态为计算完成的任务可以显示任务计算结果和对应的权利发放情况等。步骤S702：根据任务执行者发布的查询请求，查询任务执行者参与的所有可执行任务以及对应的任务权利。任务参与者可以查询自己参与的所有任务、任务明细以及完成任务获得的权利。上述步骤S701与步骤S702分别执行，该步骤编号S701、S702不对步骤S701与步骤S702的先后顺序构成约束。本发明实施例利用区块链将社会闲置的计算资源连接起来执行分布式计算任务，提高资源利用率，降低计算成本。通过在区块链上运行智能合约来对参与分布式计算任务的节点进行确权，明确参与者的权利与义务，提高参与积极性。通过区块链可信执行环境保证分布式计算程序不存在恶意破坏运行环境的情况。通过密码技术确定可计算任务确实得到了执行且计算结果可信，并能够进行验证，且克服了通过多个参与者执行相同计算以多数相同结果为准而导致资源浪费的缺陷。图8是根据本发明一个实施例的任务执行装置的主要模块示意图。如图8所示，本发明一个实施例的任务执行装置800主要包括：任务申请模块801、任务执行模块802。任务申请模块801，用于申请区块链上的可执行任务，并在申请到可执行任务后，从区块链获取可执行任务的计算程序和任务输入信息；任务执行模块802，用于将计算程序和任务输入信息加载到区块链的可信执行环境，在可信执行环境中，执行计算程序以得到任务计算结果，并对任务输入信息和任务计算结果进行签名，得到签名结果数据；将签名结果数据发送到区块链，通过区块链根据签名结果数据确定可执行任务被实际执行且任务计算结果可信，然后将任务计算结果保存在区块链。任务执行模块802具体可以从写入智能合约的任务信息中得到计算程序的下载地址和任务输入信息，并根据计算程序的下载地址得到计算程序，其中，任务信息是任务发布方在将可执行任务发布到区块链时写入智能合约的。写入智能合约的任务信息还包括计算程序的哈希值。任务执行模块802可以对计算程序进行哈希运算，并确定哈希运算的结果与从写入智能合约的任务信息中获取的计算程序的哈希值比对一致。写入智能合约的任务信息还包括可执行任务的任务标识。任务执行模块802还用于：在得到签名结果数据后，生成第一合约交易，并将第一合约交易发送到区块链，第一合约交易的信息包括可执行任务的任务标识、签名结果数据。任务申请模块801可以通过向区块链发送第二合约交易来申请可执行任务，第二合约交易的信息包括任务申请方标识和可执行任务的任务标识。任务执行模块802还用于：利用预先内置在可执行任务的计算程序中的私钥，对任务输入信息和任务计算结果分别进行签名，得到签名结果数据包括任务计算结果、任务计算结果的签名和任务输入信息的签名；或者，以任务输入信息和任务计算结果作为整体进行签名，得到签名结果数据包括对任务输入信息和任务计算结果的整体签名、任务计算结果。写入智能合约的任务信息还包括可执行任务对应的任务权利。任务执行装置800还可以包括任务结果查询模块，用于：查询从区块链接收的通过智能合约发放的任务权利。另外，在本发明实施例中任务执行装置的具体实施内容，在上面任务执行方法中已经详细说明了，故在此重复内容不再说明。图9是根据本发明一个实施例的分布式计算系统的主要构成示意图。如图9所示，本发明一个实施例的分布式计算系统900主要包括：本发明一个实施例的分布式计算系统900包括：任务执行装置901、以及区块链902、任务发布装置903，区块链902包括各节点，其中：任务发布装置903用于将可执行任务的任务信息写入智能合约，以将可执行任务发布到区块链902上，写入智能合约的任务信息包括可执行任务的计算程序和任务输入信息；区块链902用于向任务执行装置901提供可信执行环境，以由任务执行装置901在可信执行环境中执行计算程序，得到任务计算结果以及对任务输入信息和任务计算结果进行签名，并将签名得到的签名结果数据发送到区块链902；区块链902还用于根据签名结果数据确定可执行任务被实际执行且任务计算结果可信，并保存任务计算结果。任务发布装置903还用于将分布式计算任务分解为可独立运行的可执行任务，并生成可执行任务对应的公钥和私钥，将私钥内置到可执行任务的计算程序中。任务发布装置903还用于查询分布式计算任务或可执行任务的执行状态，以及用于查询可执行任务的任务计算结果。任务执行装置901还用于查询可执行任务以及查询智能合约发放的对应可执行任务的任务权利。写入智能合约的任务信息还包括可执行任务的任务标识、可执行任务对应的公钥。在一个实施例中，签名结果数据包括任务计算结果、任务计算结果的签名和任务输入信息的签名。区块链902具体用于通过智能合约，根据可执行任务的任务标识，查询得到任务输入信息和可执行任务对应的公钥，并利用查询到的任务输入信息和可执行任务对应的公钥，验证任务输入信息的签名，在任务输入信息的签名正确的情况下，确定可执行任务被实际执行，并在确定可执行任务被实际执行后，利用可执行任务对应的公钥验证任务计算结果的签名，在任务计算结果的签名正确的情况下，确定任务计算结果可信。在另一个实施例中，签名结果数据包括对任务输入信息和任务计算结果的整体签名、任务计算结果，整体签名是任务执行装置以任务输入信息和任务计算结果作为整体进行签名得到的。区块链902具体用于通过智能合约，根据可执行任务的任务标识，查询得到可执行任务对应的公钥，并利用查询到的可执行任务对应的公钥，验证任务输入信息和任务计算结果的整体签名，在整体签名正确的情况下，确定可执行任务被实际执行且任务计算结果可信。区块链902还可用于通过智能合约，根据可执行任务的任务标识，查询对应的任务申请方标识和任务执行方标识，并确定任务申请方标识和任务执行方标识比对一致，任务申请方标识为申请可执行任务的任务执行装置901对应的用户公钥地址，任务执行方标识为执行可执行任务的任务执行装置901对应的用户公钥地址。任务执行装置901和/或任务发布装置903可位于区块链902的节点上，或者位于与区块链902的节点不同的机器上。任务执行装置901与上文实施例的任务执行装置800功能相同，具体也可参见对上文实施例的任务执行装置800的介绍。图10示出了可以应用本发明实施例的任务执行方法或任务执行装置的示例性系统架构1000。如图10所示，系统架构1000可以包括终端设备1001、1002、1003，网络1004和服务器1005。网络1004用以在终端设备1001、1002、1003和服务器1005之间提供通信链路的介质。网络1004可以包括各种连接类型，例如有线、无线通信链路或者光纤电缆等等。用户可以使用终端设备1001、1002、1003通过网络1004与服务器1005交互，以接收或发送消息等。终端设备1001、1002、1003上可以安装有各种通讯客户端应用，例如购物类应用、网页浏览器应用、搜索类应用、即时通信工具、邮箱客户端、社交平台软件等。终端设备1001、1002、1003可以是具有显示屏并且支持网页浏览的各种电子设备，包括但不限于智能手机、平板电脑、膝上型便携计算机和台式计算机等等。服务器1005可以是提供各种服务的服务器，例如对用户利用终端设备1001、1002、1003所浏览的购物类网站提供支持的后台管理服务器。后台管理服务器可以对接收到的产品信息查询请求等数据进行分析等处理，并将处理结果反馈给终端设备。需要说明的是，本发明实施例所提供的任务执行方法可由终端设备1001、1002、1003或服务器1005执行，相应地，任务执行装置一般设置于终端设备1001、1002、1003或服务器1005中。应该理解，图10中的终端设备、网络和服务器的数目仅仅是示意性的。根据实现需要，可以具有任意数目的终端设备、网络和服务器。下面参考图11，其示出了适于用来实现本申请实施例的终端设备或服务器的计算机系统1100的结构示意图。图11示出的终端设备或服务器仅仅是一个示例，不应对本申请实施例的功能和使用范围带来任何限制。如图11所示，计算机系统1100包括中央处理单元1101，其可以根据存储在只读存储器1102中的程序或者从存储部分1108加载到随机访问存储器1103中的程序而执行各种适当的动作和处理。在RAM 1103中，还存储有系统1100操作所需的各种程序和数据。CPU 1101、ROM 1102以及RAM 1103通过总线1104彼此相连。输入/输出接口1105也连接至总线1104。以下部件连接至I/O接口1105：包括键盘、鼠标等的输入部分1106；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分1107；包括硬盘等的存储部分1108；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分1109。通信部分1109经由诸如因特网的网络执行通信处理。驱动器1110也根据需要连接至I/O接口1105。可拆卸介质1111，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器1110上，以便于从其上读出的计算机程序根据需要被安装入存储部分1108。特别地，根据本发明公开的实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本发明公开的实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信部分1109从网络上被下载和安装，和/或从可拆卸介质1111被安装。在该计算机程序被中央处理单元1101执行时，执行本申请的系统中限定的上述功能。需要说明的是，本发明所示的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是——但不限于——电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本申请中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。而在本申请中，计算机可读的信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读的信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括但不限于：无线、电线、光缆、RF等等，或者上述的任意合适的组合。附图中的流程图和框图，图示了按照本申请各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，上述模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图或流程图中的每个方框、以及框图或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本发明实施例中所涉及到的模块可以通过软件的方式实现，也可以通过硬件的方式来实现。所描述的模块也可以设置在处理器中，例如，可以描述为：一种处理器包括任务申请模块、任务执行模块。其中，这些模块的名称在某种情况下并不构成对该模块本身的限定，例如，任务申请模块还可以被描述为“用于申请区块链上的可执行任务，并在申请到所述可执行任务后，从所述区块链获取所述可执行任务的计算程序和任务输入信息的模块”。作为另一方面，本发明还提供了一种计算机可读介质，该计算机可读介质可以是上述实施例中描述的设备中所包含的；也可以是单独存在，而未装配入该设备中。上述计算机可读介质承载有一个或者多个程序，当上述一个或者多个程序被一个该设备执行时，使得该设备包括：申请区块链上的可执行任务，并在申请到所述可执行任务后，从所述区块链获取所述可执行任务的计算程序和任务输入信息；将所述计算程序和所述任务输入信息加载到所述区块链的可信执行环境，在所述可信执行环境中，执行所述计算程序以得到任务计算结果，并对所述任务输入信息和所述任务计算结果进行签名，得到签名结果数据；将所述签名结果数据发送到所述区块链，通过所述区块链根据所述签名结果数据确定所述可执行任务被实际执行且所述任务计算结果可信，然后将所述任务计算结果保存在所述区块链。根据本发明实施例的技术方案，申请区块链上的可执行任务，并在申请到可执行任务后，从区块链获取可执行任务的计算程序和任务输入信息，将获取的该计算程序和任务输入信息加载到区块链的可信执行环境，在可信执行环境中，执行该计算程序以得到任务计算结果，并对该任务输入信息和该任务计算结果进行签名，得到签名结果数据，将所述签名结果数据发送到区块链，通过区块链根据签名结果数据确定可执行任务被实际执行且任务计算结果可信，然后将任务计算结果保存在区块链。能够克服建设成本高、算力因闲置而浪费的缺陷，并保证分布式计算程序的运行环境安全性，可避免分布式计算程序恶意访问或破坏参与者的计算机，并且可实现对任务确实得到执行以及计算结果可信性的验证，且节省验证所耗资源，提高资源利用率且降低计算成本，还可提高区块链节点的参与积极性。上述具体实施方式，并不构成对本发明保护范围的限制。本领域技术人员应该明白的是，取决于设计要求和其他因素，可以发生各种各样的修改、组合、子组合和替代。任何在本发明的精神和原则之内所作的修改、等同替换和改进等，均应包含在本发明保护范围之内。
