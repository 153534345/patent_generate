标题title
一种TACS系统中目标控制器的仿真联动验证系统及方法
摘要abst
本发明涉及一种TACS系统中目标控制器的仿真联动验证系统及方法，系统包括依次连接的轨旁控制单元、轨旁目标控制单元和轨旁仿真单元；所述轨旁控制单元包括轨旁资源控制器WRC、安全计算机平台CVC‑200T和CVC型仿真联锁CVC‑CITB，所述轨旁目标单元包括目标控制器OC和目标控制器仿真OC Sim，所述轨旁仿真单元包括线路仿真器Line Sim。与现有技术相比，本发明具有节约资源、适用性强、成本可控等优点。
权利要求书clms
1.一种TACS系统中目标控制器的仿真联动验证系统，其特征在于，该系统包括依次连接的轨旁控制单元、轨旁目标控制单元和轨旁仿真单元；所述轨旁控制单元包括轨旁资源控制器WRC、安全计算机平台CVC-200T和CVC型仿真联锁CVC-CITB，所述轨旁目标单元包括目标控制器OC和目标控制器仿真OC Sim，所述轨旁仿真单元包括线路仿真器Line Sim；所述目标控制器OC分别与轨旁资源控制器WRC、安全计算机平台CVC-200T连接，所述目标控制器仿真OC Sim分别与CVC型仿真联锁CVC-CITB和轨旁资源控制器WRC连接；所述线路仿真器Line Sim通过转换模块与目标控制器OC连接，所述线路仿真器Line Sim和目标控制器仿真OC Sim连接。2.根据权利要求1所述的一种TACS系统中目标控制器的仿真联动验证系统，其特征在于，所述转换模块包括继电器箱和可编程逻辑控制器；所述目标控制器OC、继电器箱、可编程逻辑控制器和线路仿真器Line Sim依次连接；其中可编程逻辑控制器接收目标控制器OC经继电器箱发来的24V低压电平控制信号，并将线路仿真器Line Sim的响应信号发送给目标控制器OC。3.根据权利要求1所述的一种TACS系统中目标控制器的仿真联动验证系统，其特征在于，该系统还包括具备设备状态监控功能、轨旁资源控制功能、系统状态信息记录和查看功能的验证管理器；所述验证管理器分别与目标控制器OC和线路仿真器Line Sim连接；通过所述验证管理器的人机交互界面，对线路仿真器Line Sim中的仿真轨旁资源状态进行实时监控，并能够通过目标控制器仿真OC Sim发送控制码位，实现对仿真轨旁资源的调度与控制。4.根据权利要求1所述的一种TACS系统中目标控制器的仿真联动验证系统，其特征在于，所述轨旁资源控制器WRC通过FSFB/2和RSSP-I协议分别与目标控制器OC、目标控制器仿真OC Sim进行数据交互；所述轨旁资源控制器WRC向目标控制器OC和目标控制器仿真OC Sim下发轨旁资源分配指令，并通过目标控制器OC和目标控制器仿真OC Sim实时监控和采集相应的轨旁设备状态。5.根据权利要求1所述的一种TACS系统中目标控制器的仿真联动验证系统，其特征在于，所述安全计算机平台CVC-200T，在车车通信模式非正常状况下，取代轨旁资源控制器WRC进行轨旁资源的调度与分配，实现后备模式下的控制道岔、办理进路、信号机点灯功能。6.根据权利要求1所述的一种TACS系统中目标控制器的仿真联动验证系统，其特征在于，所述CVC型仿真联锁CVC-CITB为CITB制式的CVC仿真联锁下位机平台，将安全计算机平台CVC-200T的内部逻辑写入仿真程序，实现后备模式下取代轨旁资源控制器WRC进行轨旁资源调度与分配功能。7.根据权利要求1所述的一种TACS系统中目标控制器的仿真联动验证系统，其特征在于，所述目标控制器OC接收轨旁资源控制器WRC或安全计算机平台CVC-200T发来的调度指令，通过联锁内部布尔逻辑运算，以输出控制码位的形式控制轨旁设备状态；同时采集轨旁设备所对应的状态码位，经内部逻辑运算后发送给轨旁资源控制器WRC或安全计算机平台CVC-200T。8.根据权利要求1所述的一种TACS系统中目标控制器的仿真联动验证系统，其特征在于，所述目标控制器仿真OC Sim为目标控制器OC的仿真装置，通过将真实目标控制器内部逻辑写入仿真程序，从而来实现对轨旁设备的控制和相关设备码位的采集，确保轨旁资源的合理分配与安全稳定。9.根据权利要求1所述的一种TACS系统中目标控制器的仿真联动验证系统，其特征在于，所述线路仿真器Line Sim模拟轨旁资源的状态和相关逻辑，接收目标控制器OC或目标控制器仿真OC Sim发出的对象控制命令，实现对仿真轨旁设备的码位控制，并实时反馈轨旁设备状态到目标控制器OC或目标控制器仿真OC Sim。10.一种用于权利要求1所述TACS系统中目标控制器的仿真联动验证系统的方法，其特征在于，该方法包括以下步骤：步骤1：从验证系统顶层，依次启动并初始化轨旁控制单元、轨旁目标控制单元和轨旁仿真单元；步骤2：建立车车通信TACS模式，确保各子系统间通信正常；步骤3：在车车模式下，通过轨旁资源控制器WRC向目标控制器OC和目标控制器仿真OCSim分配资源；步骤4：目标控制器OC和目标控制器仿真OC Sim接收来自轨旁资源控制器WRC的轨旁资源分配指令后，通过内部处理器计算得出对应轨旁资源对象的控制指令，并将该指令下发到线路仿真器Line Sim；步骤5：线路仿真器Line Sim响应TACS模式下的轨旁资源控制指令，改变仿真轨旁资源所对应的码位；步骤6：在后备模式下，资源分配角色从轨旁资源控制器WRC更改为安全计算机平台CVC-200T和CVC型仿真联锁CVC-CITB，资源分配、对象控制、设备响应步骤与车车模式保持一致。
说明书desc
技术领域本发明涉及轨道交通领域，尤其是涉及一种TACS系统中目标控制器的仿真联动验证系统及方法。背景技术轨交车车通信制式的TACS系统是继CBTC移动通信信号系统之后，下一代的轨交列控系统发展方向。基于车车通信的TACS列控系统在保证列车自动、自主运行的基础上，最大的优势在于对轨旁资源的灵活管理，如轨道占用资源、道岔资源等。TACS在对轨旁资源灵活管理过程中，采用了全电子制式的目标控制器去控制轨旁资源，其具备控制和反馈快速安全的特点，可满足TACS系统对轨旁资源的灵活控制与状态采集。由于TACS系统属于轨交行业的新兴前沿技术，其采用的对轨旁资源控制的目标控制器需要在尽可能模拟列车真实运营的环境中进行大量测试，以验证该装置在实际运用中的功能稳定性、部署高效性和运营安全性。目前行业内普遍采用的验证方式为搭建车车通信TACS系统的试车线，通过在真实轨道上跑车的方式，测试目标控制器的功能正确性和稳定性。该验证方式虽然能真实地模拟目标控制器对车车通信TACS系统在运营中调用轨旁资源所做出的计算与响应，但受限于试车线高昂的建设成本，其往往只能模拟有限长度的轨道环境，模拟列车的正常运营场景下与目标控制器的交互，而无法对整条正线上的复杂场景和应急场景进行模拟。使用搭建试车线的方式验证车车通信TACS系统中目标控制器功能正确性与稳定性，具体面临的问题有：1)建设与维护成本高昂，占用资源巨大；试车线就类似于一条小型的轨道正线，在建设前期需要对土建、供电、信号等多方面进行考量和筹划，在建设过程中会占用大量的人力物力财力，周期长、成本高、空间占用巨大，在建设完成后仍需要投入大量维护成本，以确保整个验证环境的稳定性；2)难以全面地模拟实际运营环境中的各种复杂场景和应急场景下，目标控制器对轨旁资源调用做出的计算与响应。受限于试车线的长度，往往只能在该环境中模拟列车正常的使用运营，而目标控制器更需要确保在各种复杂场景和应急场景下功能的正确性与稳定性；3)更改验证环境配置需要对目标控制器板卡进行重新烧录，耗时耗力。由于目标控制器数据是以提前烧录的方式存放在目标控制器各种板卡内的，当验证不同测试用例时就需要对各板卡进行拆卸并重新烧录数据，此时整个验证系统无法继续正常运转，极大影响验证效率；4)对外接口拓展性不足。由于试车线采用的是整套真实轨道设备，整个验证环境的筹划在建设之初已基本确定，当实际验证过程中需要接入外接设备或子系统时，受限于其设备接口的不够灵活，往往会产生对外接口难以构建的问题，对整个测试环境造成长时间影响的问题。发明内容本发明的目的就是为了克服上述现有技术存在的缺陷而提供一种TACS系统中目标控制器的仿真联验证系统及方法。本发明的目的可以通过以下技术方案来实现：根据本发明的第一方面，提供了一种TACS系统中目标控制器的仿真联动验证系统，该系统包括依次连接的轨旁控制单元、轨旁目标控制单元和轨旁仿真单元；所述轨旁控制单元包括轨旁资源控制器WRC、安全计算机平台CVC-200T和CVC型仿真联锁CVC-CITB，所述轨旁目标单元包括目标控制器OC和目标控制器仿真OC Sim，所述轨旁仿真单元包括线路仿真器Line Sim；所述目标控制器OC分别与轨旁资源控制器WRC、安全计算机平台CVC-200T连接，所述目标控制器仿真OC Sim分别与CVC型仿真联锁CVC-CITB和轨旁资源控制器WRC连接；所述线路仿真器Line Sim通过转换模块与目标控制器OC连接，所述线路仿真器Line Sim和目标控制器仿真OC Sim连接。优选地，所述转换模块包括继电器箱和可编程逻辑控制器；所述目标控制器OC、继电器箱、可编程逻辑控制器和线路仿真器Line Sim依次连接；其中可编程逻辑控制器接收目标控制器OC经继电器箱发来的24V低压电平控制信号，并将线路仿真器Line Sim的响应信号发送给目标控制器OC。优选地，该系统还包括具备设备状态监控功能、轨旁资源控制功能、系统状态信息记录和查看功能的验证管理器；所述验证管理器分别与目标控制器OC和线路仿真器LineSim连接；通过所述验证管理器的人机交互界面，对线路仿真器Line Sim中的仿真轨旁资源状态进行实时监控，并能够通过目标控制器仿真OC Sim发送控制码位，实现对仿真轨旁资源的调度与控制。优选地，所述轨旁资源控制器WRC通过FSFB/2和RSSP-I协议分别与目标控制器OC、目标控制器仿真OC Sim进行数据交互；所述轨旁资源控制器WRC向目标控制器OC和目标控制器仿真OC Sim下发轨旁资源分配指令，并通过目标控制器OC和目标控制器仿真OC Sim实时监控和采集相应的轨旁设备状态。优选地，所述安全计算机平台CVC-200T，在车车通信模式非正常状况下，取代轨旁资源控制器WRC进行轨旁资源的调度与分配，实现后备模式下的控制道岔、办理进路、信号机点灯功能。优选地，所述CVC型仿真联锁CVC-CITB为CITB制式的CVC仿真联锁下位机平台，将安全计算机平台CVC-200T的内部逻辑写入仿真程序，实现后备模式下取代轨旁资源控制器WRC进行轨旁资源调度与分配功能。优选地，所述目标控制器OC接收轨旁资源控制器WRC或安全计算机平台CVC-200T发来的调度指令，通过联锁内部布尔逻辑运算，以输出控制码位的形式控制轨旁设备状态；同时采集轨旁设备所对应的状态码位，经内部逻辑运算后发送给轨旁资源控制器WRC或安全计算机平台CVC-200T。优选地，所述目标控制器仿真OC Sim为目标控制器OC的仿真装置，通过将真实目标控制器内部逻辑写入仿真程序，从而来实现对轨旁设备的控制和相关设备码位的采集，确保轨旁资源的合理分配与安全稳定。优选地，所述线路仿真器Line Sim模拟轨旁资源的状态和相关逻辑，接收目标控制器OC或目标控制器仿真OC Sim发出的对象控制命令，实现对仿真轨旁设备的码位控制，并实时反馈轨旁设备状态到目标控制器OC或目标控制器仿真OC Sim。根据本发明的第二方面，提供了一种用于所述TACS系统中目标控制器的仿真联动验证系统的方法，该方法包括以下步骤：步骤1：从验证系统顶层，依次启动并初始化轨旁控制单元、轨旁目标控制单元和轨旁仿真单元；步骤2：建立车车通信TACS模式，确保各子系统间通信正常；步骤3：在车车模式下，通过轨旁资源控制器WRC向目标控制器OC和目标控制器仿真OC Sim分配资源；步骤4：目标控制器OC和目标控制器仿真OC Sim接收来自轨旁资源控制器WRC的轨旁资源分配指令后，通过内部处理器计算得出对应轨旁资源对象的控制指令，并将该指令下发到线路仿真器Line Sim；步骤5：线路仿真器Line Sim响应TACS模式下的轨旁资源控制指令，改变仿真轨旁资源所对应的码位；步骤6：在后备模式下，资源分配角色从轨旁资源控制器WRC更改为安全计算机平台CVC-200T和CVC型仿真联锁CVC-CITB，资源分配、对象控制、设备响应步骤与车车模式保持一致。与现有技术相比，本发明具有以下优点：1)测试系统建设成本低，能够极大节约时间和空间相比于搭建一条真实试车线进行跑车测试，该技术方案通过仿真设备模拟轨旁资源和目标控制器的方式，极大地节约了人力物力成本，能够在很短的时间内构建起整条车车通信TACS列控系统的目标控制器仿真联动验证平台，并极大地节省了搭建真实轨道设备所造成的空间占用；2)测试覆盖面广，能够满足不同规模的测试需求相比起真实轨旁设备和真实目标控制器受限于资金投入状况和空间占用程度，采用仿真模拟轨旁资源和目标控制器的方案，能够仅仅改变仿真程序的配置文件，实现对不同规模线路的全方位模拟，测试覆盖面更广，对真实运营环境中的各种复杂场景和应急场景模拟更加全面真实；3)系统操作简单，维护成本低由于该方案采用仿真模拟程序替代了大量真实轨道设备，测试人员无需再耗费大量精力学习各种强电弱电装置的操作方式和维护方法，既极大提高了测试效率，又能尽可能避免测试过程中因操作不当而发生的安全隐患，降低了系统维护成本；4)系统拓展性、灵活性强相比起真实轨道和目标控制器测试装置增加对外接口的困难性，采用仿真模拟轨旁资源和目标控制器的方案能够极大提高整套测试系统的兼容性和灵活性。通过简单地为仿真程序添加新的对外接口，系统便能实现与外界系统的对接，无需再考虑硬件层面的改造；5)目前该仿真验证方法与装置正应用于全球首套TACS示范线路——深圳20号线，对其功能和场景做室内的前置性确认和验证，保证了其一次性地高质量开通。附图说明图1为本发明TACS列控系统的目标控制器仿真联动验证系统的结构示意图。图2为本发明TACS列控系统的目标控制器仿真联动验证方法的数据流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明的一部分实施例，而不是全部实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都应属于本发明保护的范围。实施例1如图1所示，该图展现了整套车车通信TACS列控系统的目标控制器仿真联动验证系统。这套装置使用仿真设备替代了真实的轨旁装置，并与车车通信TACS列控系统组成整套闭环验证系统，不需要占用任何正线设备，可在实验室进行整条线路的模拟行车测试与轨旁联动，其包含的各部分装置与相关功能如下所述：1)轨旁资源控制器a：该控制器为车车通信TACS列控系统中的轨旁资源管理核心装置，负责车车通信模式下的轨旁资源调用分配和轨旁设备状态采集。在以太网环境下它与目标控制器d、目标控制器仿真g进行基于铁路信号安全通信的FSFB/2、RSSP-I协议下的数据交互，向目标控制器及其仿真下发轨旁资源分配指令，并通过他们实时监控和采集相应的轨旁设备状态。2)安全计算机平台b：该平台为全电子联锁下位机平台，其作用为在车车通信模式非正常状况下，取代轨旁资源控制器WRC进行轨旁资源的调度与分配，实现后备模式下的控制道岔、办理进路、信号机点灯等功能。在以太网环境下它与目标控制器d、目标控制器仿真g进行基于铁路信号安全通信的FSFB/2、RSSP-I协议下的数据交互，向全电子联锁及其仿真器下发轨旁资源分配指令，并通过他们实时监控和采集相应的轨旁设备状态。3)CVC型仿真联锁c：该平台为CITB制式的CVC仿真联锁下位机平台。通过将安全计算机平台b的内部逻辑写入仿真程序的方式，该平台同样能实现后备模式下取代轨旁资源控制器WRC进行轨旁资源的调度与分配的功能。相比起安全计算机平台b其核心优势在于，精简了整套测试系统设备，增加对外接口方便极大提高了系统拓展性，采用仿真程序的方式进一步降低了维护成本。4)目标控制器d该装置为车车通信TACS列控系统中轨旁设备控制与状态采集的核心单元。其接收轨旁资源调度装置WRC或CVC发来的调度指令，通过联锁内部布尔逻辑运算，以输出控制码位的形式控制转辙机、信号灯、屏蔽门、轨道等轨旁设备状态；同时它也会采集轨旁设备所对应的状态码位，经内部逻辑运算后发送给轨旁资源调度装置。目标控制器d通过以上运行功能，确保所有轨旁设备的合理分配与安全稳定。5)继电器箱e：该装置为大量继电器集中组合而成的继电器箱。由于目标控制器各板卡输出和接收的电平信号均为380V、220V、110V等高压电平信号，而可编程逻辑控制器PLC所能发送和接收的电平信号为24V低压电平信号，因此它们之间需要通过继电器作过渡，以更好地模拟轨旁真实设备的电气属性。6)可编程逻辑控制器f：该装置为Q系列可编程逻辑控制器PLC，其包含Q系列PLC CPU和Q系列I/O模块。其中PLC CPU的功能为通过以太网与目标设备线路仿真器h建立MELSEC协议通信，从而进行I/O模块的数据读取和写入功能；I/O模块的功能为接收目标控制器d经继电器箱e发来的24V低压电平控制信号，并将线路仿真器h的响应信号发送给目标控制器d。该装置的核心功能为实现电信号与网络信号间的转化，从而将轨旁控制器、目标控制器等硬件设备与轨旁设备仿真器等软件建立联系，实现仿真器对轨旁真实设备的替代。7)目标控制器仿真g：该装置为目标控制器d的仿真装置，通过将真实目标控制器内部逻辑写入仿真程序的方式，该装置同样能够实现对轨旁设备的控制和相关设备码位的采集，确保轨旁资源的合理分配与安全稳定。该仿真器的核心优势在于，相比于轨道正线的目标控制器-轨旁设备这种全部使用真实设备的方式，以及目前实验室采用的目标控制器-继电器箱-PLC-轨旁设备仿真这种以仿真程序替代轨旁真实设备的方式，目标控制器仿真g所采用的目标控制器仿真-轨旁设备仿真这种方式，能够最大限度地集成整套目标控制器测试环境，减少设备成本，节省占地空间。同时全网络通信的通信方式相比于前两者的网络-强电和网络-强电-弱电-网络的方式，也能够保障测试人员的人身安全，降低设备维护成本。8)线路仿真器h：该仿真器主要用于仿真车车通信TACS的真实线路环境中所有轨旁资源，包括轨道、信号机、道岔、站台门以及相关车站轨旁按钮等。该仿真器模拟轨旁资源的状态和相关逻辑，接收目标控制器及其仿真发出的对象控制命令，实现对仿真轨旁设备的码位控制，并实时反馈轨旁设备状态到目标控制器及其仿真。9)验证管理器i：该装置为本系统面向测试人员的集成管理平台，具备设备状态监控功能、轨旁资源控制功能、系统状态信息记录和查看功能。通过该平台提供的人机交互界面，测试人员可以对线路仿真器h中的仿真轨旁资源状态进行实时监控，并能够通过目标控制器仿真g发送控制码位，实现对仿真轨旁资源的调度与控制。同时，该平台也提供了系统状态的信息记录功能，测试人员可以通过调取系统相应状态记录，随时随地对测试过程和测试结果进行分析，提高系统测试质量，保障工作效率。目前该方案已被轨交车车通信TACS列控系统的验证平台所采纳，专注于车车通信列控系统的目标控制器仿真联动验证，可实现车车通信列控系统项目的功能测试和场景验证，以及向用户提供相关人员培训等。实施例2如图2所示，该图展现了车车通信TACS列控系统的目标控制器仿真联动验证方法，其中深色部分为目标控制器真实系统设备，浅色部分为目标控制器仿真。该技术方案包含以下步骤：步骤1：从验证系统顶层，依次启动并初始化轨旁控制单元、轨旁目标控制单元、轨旁仿真单元。其中轨旁控制单元包括轨旁资源控制器WRC、安全计算机平台CVC-200T和CVC型仿真联锁CVC-CITB，轨旁目标单元包括目标控制器OC和目标控制器仿真OC Sim，轨旁仿真单元包括线路仿真器Line Sim。步骤2：建立车车通信TACS模式，确保各子系统间通信正常。步骤3：在车车模式下，通过轨旁资源控制器WRC向目标控制器OC和目标控制器仿真OC Sim分配资源。步骤4：目标控制器OC和目标控制器仿真OC Sim接收来自轨旁资源控制器WRC的轨旁资源分配指令后，通过内部处理器计算得出对应轨旁资源对象的控制指令，并将该指令下发到线路仿真器Line Sim。步骤5：线路仿真器Line Sim响应TACS模式下的轨旁资源控制指令，改变仿真轨旁资源所对应的码位。步骤6：在后备模式下，资源分配角色从轨旁资源控制器WRC更改为安全计算机平台CVC-200T和CVC型仿真联锁CVC-CITB，资源分配、对象控制、设备响应步骤与车车模式保持一致。本实施例针对轨交车车通信TACS列控系统的目标控制器功能验证，克服了上述现有验证方式的诸多不利因素，从系统仿真的角度提出一种成本可控、集成高效、可拓展的目标控制器仿真联动验证方案。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到各种等效的修改或替换，这些修改或替换都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
