标题title
纹波检测装置、纹波抑制装置
摘要abst
本申请提供了一种纹波检测装置和纹波抑制装，纹波检测装置包括：纹波采样单元、至少两个直流采样单元和数字信号处理单元；其中，纹波采样单元，用于将非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号输出到数字信号处理单元；直流采样单元，用于将所连接的非隔离型的DC/DC双向能量变换单元的端口的第二电压信号中的第一直流信号输出到数字信号处理单元；阻隔第二电压信号中的交流信号输出到数字信号处理单元；数字信号处理单元，用于根据第一电压信号和第一直流信号确定非隔离型的DC/DC双向能量变换单元的输出端口的纹波噪音信号。
权利要求书clms
1.一种纹波检测装置，包括：纹波采样单元、至少两个直流采样单元和数字信号处理单元；其中，所述纹波采样单元包括至少两个输入端口和一个输出端口，所述纹波采样单元的第i个输入端口与非隔离型的DC/DC双向能量变换单元的第i个端口连接，所述纹波采样单元的输出端口与所述数字信号处理单元的一个输入端口连接；i为大于或等于1的整数；所述直流采样单元包括一个输入端口和一个输出端口，所述直流采样单元的输入端口与所述非隔离型的DC/DC双向能量变换单元的一个端口连接，所述直流采样单元的输出端口与所述数字信号处理单元的一个输入端口连接；其中，所述纹波采样单元，用于将所述非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号输出到所述数字信号处理单元；所述直流采样单元，用于将所连接的所述非隔离型的DC/DC双向能量变换单元的端口的第二电压信号中的第一直流信号输出到所述数字信号处理单元；阻隔所述第二电压信号中的交流信号输出到所述数字信号处理单元；所述数字信号处理单元，用于根据所述第一电压信号和所述第一直流信号确定所述非隔离型的DC/DC双向能量变换单元的输出端口的纹波噪音信号。2.根据权利要求1所述的纹波检测装置，其中，所述纹波采样单元包括：纹波选择电路和第一纹波采样电路；其中，所述纹波选择电路包括至少两个输入端口和一个输出端口，所述纹波选择电路的第i个输入端口与非隔离型的DC/DC双向能量变换单元的第i个端口连接，所述纹波选择电路的输出端口与所述第一纹波采样电路的输入端口连接；所述第一纹波采样电路包括一个输入端口和一个输出端口，所述第一纹波采样电路的输出端口与所述数字信号处理单元的一个输入端口连接；其中，所述纹波选择电路，用于在所述数字信号处理单元的控制下将所述第一电压信号输出到所述第一纹波采样电路；所述第一纹波采样电路，用于将所述第一电压信号输出到所述数字信号处理单元；所述数字信号处理单元还用于：控制所述纹波选择电路将所述第一电压信号输出到所述第一纹波采样电路。3.根据权利要求2所示的纹波检测装置，其中，所述纹波选择电路包括至少两组控制开关组，每一组所述控制开关组包括两个子开关；其中，第j组控制开关组的其中一个子开关串接在所述非隔离型的DC/DC双向能量变换单元的第j个端口的正端与所述第一纹波采样电路的输入端口的正端的回路中，所述第j组控制开关组的另一个子开关串接在所述非隔离型的DC/DC双向能量变换单元的第j个端口的负端与所述第一纹波采样电路的输入端口的负端的回路中；j为大于或等于1的整数。4.根据权利要求2所述的纹波检测装置，其中，所述纹波选择电路包括两个单刀双掷选择开关；其中，所述单刀双掷选择开关包括：第一触点、第二触点、第三触点和切换片；所述切换片的一端与所述第三触点连接，所述切换片的另一端在所述第一触点和所述第二触点之间切换；其中一个单刀双掷选择开关的所述第一触点与所述非隔离型的DC/DC双向能量选择单元的其中一个端口的负端连接，所述其中一个单刀双掷选择开关的所述第二触点与所述非隔离型的DC/DC双向能量选择单元的另一个端口的负端连接，所述其中一个单刀双掷选择开关的所述第三触点与所述第一纹波采样电路的输入端口的负端相连；另一个单刀双掷选择开关的所述第一触点与所述非隔离型的DC/DC双向能量选择单元的其中一个端口的正端连接，所述另一个单刀双掷选择开关的所述第二触点与所述非隔离型的DC/DC双向能量选择单元的另一个端口的正端连接，所述另一个单刀双掷选择开关的所述第三触点与所述第一纹波采样电路的输入端口的正端相连。5.根据权利要求2-4任一项所述的纹波检测装置，其中，所述第一纹波采样电路具体用于：对所述第一电压信号进行放大和直流偏置得到第三电压信号，对所述第三电压信号进行低通滤波得到第四电压信号，将所述第四电压信号输出到所述数字信号处理单元。6.根据权利要求5所述的纹波检测装置，其中，所述第一纹波采样电路包括：第一差分比例放大电路、第一直流偏置电路和第一低通滤波电路；其中，所述第一差分比例放大电路包括：第一直流差分放大电路和第一交流差分放大电路；其中，所述第一直流差分放大电路包括：第一电阻、第二电阻、第三电阻、第四电阻、第五电阻、第六电阻、第八电阻和第一运算放大器；其中，所述第一电阻的其中一端与所述纹波选择电路的输出端口的正端连接，所述第一电阻的另一端与所述第三电阻的其中一端连接，所述第三电阻的另一端与所述第一运算放大器的输入端口的正端连接；所述第二电阻的其中一端与所述纹波选择电路的输出端口的负端连接，所述第二电阻的另一端与所述第四电阻的其中一端连接，所述第四电阻的另一端与所述第一运算放大器的输入端口的负端连接；所述第一运算放大器的电源端与第一电源连接，所述第一运算放大器的接地端接地；所述第五电阻的其中一端接地，所述第五电阻的另一端与所述第六电阻的其中一端和所述第一运算放大器的输入端口的正端连接，所述第六电阻的另一端与所述第一电源连接；所述第八电阻的其中一端与所述第一运算放大器的输入端口的负端连接，所述第八电阻的另一端与所述第一运算放大器的输出端口连接；其中，所述第一交流差分放大电路包括：第一电容、第二电容、第三电容、第四电容、第三电阻、第四电阻、第五电阻、第八电阻和第一运算放大器；其中，所述第一电容与所述第一电阻并联连接，所述第二电容与所述第五电阻并联连接，所述第三电容与所述第二电阻并联连接，所述第四电容与所述第八电阻并联连接；其中，所述第一直流偏置电路包括：所述第五电阻、所述第六电阻、第一电源；其中，所述第一低通滤波电路包括：第七电阻、第九电阻和第五电容；其中，所述第七电阻的其中一端与所述第一运算放大器的输入端口的负端连接，所述第七电阻的另一端接地，所述第九电阻的其中一端与所述第一运算放大器的输出端口连接，所述第九电阻的另一端同时与所述第五电容的其中一端和所述第一纹波采样电路的输出端口连接，所述第五电容的另一端接地。7.根据权利要求6所述的纹波检测装置，所述第一纹波采样电路还包括：第一钳位保护电路，所述第一钳位保护电路包括：第一二极管、第二二极管、第三二极管、第四二极管；其中，所述第一二极管的阴极与所述第一电源连接，所述第一二极管的阳极与所述第二二极管的阴极和所述第一运算放大器的输入端口的正端连接，所述第二二极管的阳极接地，所述第三二极管的阴极与所述第一电源连接，所述第三二极管的阳极与所述第四二极管的阴极和所述第一运算放大器的输入端口的负端连接，所述第四二极管的阳极接地。8.根据权利要求2-4任一项所述的纹波检测装置，其中，所述直流采样单元具体用于：对所述第二电压信号中的第一直流信号进行放大和直流偏置得到第二直流信号，对所述第二直流信号进行低通滤波得到第三直流信号，将所述第三直流信号输出到所述数字信号处理单元；阻隔所述第二电压信号中的交流信号输出到所述数字信号处理单元。9.根据权利要求8所述的纹波检测装置，其中，所述直流采样单元包括：第二差分比例放大电路、第二直流偏置电路和第二低通滤波电路；其中，所述第二差分比例放大电路包括：第十电阻、第十一电阻、第十二电阻、第十三电阻、第十四电阻、第十五电阻、第十七电阻和第二运算放大器；其中，所述第十电阻的其中一端与所述纹波选择电路的输出端口的正端连接，所述第十电阻的另一端与所述第十二电阻的其中一端连接，所述第十二电阻的另一端与所述第二运算放大器的输入端口的正端连接；所述第十一电阻的其中一端与所述纹波选择电路的输出端口的负端连接，所述第十一电阻的另一端与所述第十三电阻的其中一端连接，所述第十三电阻的另一端与所述第二运算放大器的输入端口的负端连接；所述第二运算放大器的电源端与第二电源连接，所述第二运算放大器的接地端接地；所述第十四电阻的其中一端接地，所述第十四电阻的另一端与所述第十五电阻的其中一端和所述第二运算放大器的输入端口的正端连接，所述第十五电阻的另一端与所述第二电源连接；所述第十七电阻的其中一端与所述第二运算放大器的输入端口的负端连接，所述第十七电阻的另一端与所述第二运算放大器的输出端口连接；其中，第二直流偏置电路包括：所述第十四电阻、所述第十五电阻、所述第二电源；其中，所述第二低通滤波电路包括：第十六电阻、第十八电阻和第八电容；其中，所述第十六电阻的其中一端与所述第二放大器的输入端口的负端连接，所述第十六电阻的另一端接地，所述第十八电阻的其中一端与所述第二运算放大器的输出端口连接，所述第十八电阻的另一端同时与所述第八电容的其中一端和第一纹波采样电路的输出端口连接，所述第八电容的另一端接地。10.根据权利要求9所述的纹波检测装置，所述直流采样单元还包括：第五二极管、第六二极管、第七二极管、第八二极管；其中，所述第五二极管的阴极与所述第二电源连接，所述第五二极管的阳极与所述第六二极管的阴极和所述第二运算放大器的输入端口的正端连接，所述第六二极管的阳极接地，所述第七二极管的阴极与所述第二电源连接，所述第七二极管的阳极与所述第八二极管的阴极和所述第二运算放大器的输入端口的负端连接，所述第八二极管的阳极接地。11.根据权利要求1所述的纹波检测装置，其中，所述纹波采样单元包括至少两个第二纹波采样电路；其中，所述第二纹波采样电路包括一个输入端口和一个输出端口，所述第二纹波采样电路的输入端口与所述非隔离型的DC/DC双向能量变换单元的一个端口连接，所述第二纹波采样电路的输出端口与所述数字信号处理单元的一个输入端口连接；其中，所述第二纹波采样电路，用于将所连接的所述非隔离型的DC/DC双向能量变换单元的端口的第五电压信号输出到所述数字信号处理单元；所述数字信号处理单元还用于：从所有所述第二纹波采样电路输出的所述第五电压信号中选择其中一个所述第五电压信号作为所述第一电压信号。12.一种抑制纹波抑制装置，包括权利要求1-11任一项所述的纹波检测装置和纹波抑制单元；其中，所述纹波抑制单元用于：将基准电压信号与纹波噪音信号对应的数字信号进行差值运算得到第一差值信号；将所述第一差值信号与第一电压信号对应的数字信号进行差值运算得到第二差值信号；根据所述第二差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号，向驱动单元输出所述驱动信号；或者，将基准电压信号与低频纹波信号对应的数字信号进行差值运算得到第三差值信号；将所述第三差值信号与第一电压信号对应的数字信号进行差值运算得到第四差值信号；根据所述第四差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号，向驱动单元输出所述驱动信号。13.根据权利要求12所述的纹波抑制装置，其中，所述纹波抑制单元具体用于采用以下方式实现所述根据第二差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号：生成数字的三角形载波信号；其中，所述数字的三角波信号的频率与所述开关器件的频率相同；当所述数字的三角形载波信号大于所述第二差值时，所述开关器件的驱动信号为高电平；当所述数字的三角波信号小于所述第二差值时，所述开关器件的驱动信号为低电平。14.根据权利要求12所述的纹波抑制装置，其中，所述纹波抑制单元具体用于采用以下方式实现所述根据第二差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号：生成数字的三角形载波信号；其中，所述数字的三角波信号的频率所述与开关器件的频率相同；当所述数字的三角形载波信号大于所述第二差值时，所述开关器件的驱动信号为低电平；当所述数字的三角波信号小于所述第二差值时，所述开关器件的驱动信号为高电平。15.根据权利要求12所述的纹波抑制装置，其中，所述纹波抑制单元具体用于采用以下方式实现所述根据第四差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号：生成数字的三角形载波信号；其中，所述数字的三角波信号的频率与所述开关器件的频率相同；当所述数字的三角形载波信号大于所述第四差值时，所述开关器件的驱动信号为高电平；当所述数字的三角波信号小于所述第四差值时，所述开关器件的驱动信号为低电平。16.根据权利要求12所述的纹波抑制装置，其中，所述纹波抑制单元具体用于采用以下方式实现所述根据第四差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号：生成数字的三角形载波信号；其中，所述数字的三角波信号的频率与所述开关器件的频率相同；当所述数字的三角形载波信号大于所述第四差值时，所述开关器件的驱动信号为低电平；当所述数字的三角波信号小于所述第四差值时，所述开关器件的驱动信号为高电平。
说明书desc
技术领域本申请实施例涉及电力电子技术领域，特别涉及纹波检测装置、纹波抑制装置。背景技术DC/DC双向能量变换器是指具有两个及以上能量端口的变换器。以两端口双向能量变换器为例，其中一个为能量输入端口，另外一个为能量输出端口，能量输入端口和能量输出端口可以进行互换，能量可以在输入端口和输出端口双向传输流动。由于电路结构简单，转换效率高，非隔离型的DC/DC双向能量变换器今年来被广泛应用，但往往会在输出端口产生纹波噪音信号，纹波噪音信号会降低非隔离型的DC/DC双向能量变换器的工作性能。发明内容本申请实施例提供一种纹波检测装置、纹波抑制装置。第一方面，本申请实施例提供一种纹波检测装置，包括：纹波采样单元、至少两个直流采样单元和数字信号处理单元；其中，纹波采样单元包括至少两个输入端口和一个输出端口，纹波采样单元的第i个输入端口与非隔离型的DC/DC双向能量变换单元的第i个端口连接，纹波采样单元的输出端口与数字信号处理单元的一个输入端口连接；每一个直流采样单元包括一个输入端口和一个输出端口，直流采样单元的输入端口与非隔离型的DC/DC双向能量变换单元的一个端口连接，直流采样单元的输出端口与数字信号处理单元的一个输入端口连接；i为大于或等于1的整数；其中，纹波采样单元，用于将非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号输出到数字信号处理单元；直流采样单元，用于将所连接的非隔离型的DC/DC双向能量变换单元的端口的第二电压信号中的第一直流信号输出到数字信号处理单元；阻隔第二电压信号中的交流信号输出到数字信号处理单元；数字信号处理单元，用于根据第一电压信号和第一直流信号确定非隔离型的DC/DC双向能量变换单元的输出端口的纹波噪音信号。第二方面，本申请实施例提供一种抑制纹波抑制装置，包括上述任一种纹波检测装置和纹波抑制单元；其中，纹波抑制单元用于：将基准电压信号与纹波噪音信号对应的数字信号进行差值运算得到第一差值信号；将第一差值信号与第一电压信号对应的数字信号进行差值运算得到第二差值信号；根据第二差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号，向驱动单元输出驱动信号；或者，将基准电压信号与低频纹波信号对应的数字信号进行差值运算得到第三差值信号；将第三差值信号与第一电压信号对应的数字信号进行差值运算得到第四差值信号；根据第四差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号，向驱动单元输出驱动信号。本申请实施例提供的纹波检测装置，采用纹波采样单元实现了对非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号的采集，采用直流采样单元实现了对所连接的非隔离型的DC/DC双向能量变换单元的端口的第二电压信号中的第一直流信号的采集，采用数字信号处理单元实现了对纹波采样单元采集的第一电压信号和直流采样单元采集的第一直流信号进行处理得到非隔离型的DC/DC双向能量变换单元的输出端口的纹波噪音信号，从而实现了对纹波噪音信号的检测，继而提高了非隔离型的DC/DC双向能量变换单元的工作性能。本申请实施例提供的纹波抑制装置，基于纹波噪音信号或低频纹波信号调整非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号，使得输出端口的第一电压偏离正常电压值时，将输出端口的第一电压向正常电压值进行回调，从而实现对纹波噪音信号或低频纹波信号的抑制。附图说明图1为本申请实施例提供的一种纹波检测装置的组成框图；图2为本申请实施例提供的另一种纹波检测装置的组成框图；图3为本申请实施例提供的一种纹波选择电路的组成框图；图4为本申请实施例提供的另一种纹波选择电路的组成框图；图5为本申请实施例提供的另一种纹波选择电路的组成框图；图6为本申请实施例提供的第一纹波采样电路输出的低通滤波后的第一电压信号的示意图；图7为本申请实施例提供的直流采样电路输出的低通滤波后的直流信号的示意图；图8为本申请实施例提供的低频纹波信号的示意图；图9为本申请实施例提供的纹波采样电路输出的电压信号的示意图；图10为本申请实施例提供的直流采样单元输出的电压信号的示意图；图11为本申请实施例提供的一种非隔离型的DC/DC双向能量变换单元的组成框图；图12为本申请实施例提供的另一种非隔离型的DC/DC双向能量变换单元的组成框图；图13为本申请实施例提供的另一种非隔离型的DC/DC双向能量变换单元的组成框图；图14为本申请实施例提供的另一种非隔离型的DC/DC双向能量变换单元的组成框图；图15为本申请实施例提供的基于三角形载波信号生成驱动信号的示意图。具体实施方式为使本领域的技术人员更好地理解本申请的技术方案，下面结合附图对本申请提供的纹波检测装置、纹波抑制装置进行详细描述。在下文中将参考附图更充分地描述示例实施例，但是所述示例实施例可以以不同形式来体现且不应当被解释为限于本文阐述的实施例。反之，提供这些实施例的目的在于使本申请透彻和完整，并将使本领域技术人员充分理解本申请的范围。在不冲突的情况下，本申请各实施例及实施例中的各特征可相互组合。如本文所使用的，术语“和/或”包括至少一个相关列举条目的任何和所有组合。本文所使用的术语仅用于描述特定实施例，且不意欲限制本申请。如本文所使用的，单数形式“一个”和“该”也意欲包括复数形式，除非上下文另外清楚指出。还将理解的是，当本说明书中使用术语“包括”和/或“由……制成”时，指定存在所述特征、整体、步骤、操作、元件和/或组件，但不排除存在或添加至少一个其它特征、整体、步骤、操作、元件、组件和/或其群组。除非另外限定，否则本文所用的所有术语的含义与本领域普通技术人员通常理解的含义相同。还将理解，诸如那些在常用字典中限定的那些术语应当被解释为具有与其在相关技术以及本申请的背景下的含义一致的含义，且将不解释为具有理想化或过度形式上的含义，除非本文明确如此限定。非隔离型的DC/DC双向能量变换器在输出端口产生纹波噪音信号的原因有以下两种：一、由于非隔离型的DC/DC双向能量变换器中电路的非隔离结构，往往会出现从外部供电设备输入到输入端口的低频纹波信号通过电路传递到输出端口，该低频纹波信号与变换器自身产生的高频噪音信号相叠加，进而在输出端口产生较大的纹波噪音信号；二、当输入端口和输出端口互换时，纹波噪音信号也会由原输出端口转移到原输入端口。鉴于纹波噪音信号会降低非隔离型的DC/DC双向能量变换器的工作性能，有必要对纹波噪音信号进行检测和抑制。需要说明的是，纹波噪音信号包括低频纹波信号和高频噪音信号，本申请实施例的纹波检测电路可以实现对低频纹波信号和高频噪音信号的检测，以及对低频纹波信号的抑制。需要说明的是，非隔离型的DC/DC双向能量变换器包括：两个或两个以上能量端口，至少一个为输入端口，一个为输出端口；其中输入端口和输出端口的负端在同一网络，能量在输入端口和输出端口之间可以双向流动。图1为本申请实施例的纹波检测装置的组成框图。第一方面，参照图1，本申请实施例提供一种纹波检测装置，包括：纹波采样单元101、至少两个直流采样单元102和数字信号处理单元103。在一些示例性实施例中，纹波采样单元101包括至少两个输入端口和一个输出端口，纹波采样单元101的第i个输入端口与非隔离型的DC/DC双向能量变换单元的第i个端口连接，纹波采样单元101的输出端口与数字信号处理单元103的一个输入端口连接；i为大于或等于1的整数；每一个直流采样单元102包括一个输入端口和一个输出端口，直流采样单元102的输入端口与非隔离型的DC/DC双向能量变换单元的一个端口连接，直流采样单元102的输出端口与数字信号处理单元103的一个输入端口连接；直流采样单元102连接的数字信号处理单元103的输入端口与纹波采样单元101连接的数字信号处理单元103的输入端口不同；不同直流采样单元102连接的数字信号处理单元103的输入端口不同；图2中以两端口的非隔离型的DC/DC双向能量变换单元为例给出示意图，如图2所示，包括两个直流采样单元102，直流采样单元1的输入端口的正端与输入电压Vin的正端连接，直流采样单元1的第一输入端口的负端与输入电压Vin的负端连接，直流采样单元2的输入端口的正端与输出电压Vo的正端连接，直流采样单元2的输入端口的负端与输出电压Vo的负端连接；直流采样单元1和直流采样单元2的输出端口与数字信号处理单元103的输入端口连接；数字信号处理单元103包括至少三个输入端口。在一些示例性实施例中，纹波采样单元101的输入端口的数量大于或等于非隔离型的DC/DC双向能量变换单元的端口的数量，直流采样单元102的数量等于非隔离型的DC/DC双向能量变换单元的端口的数量。在一些示例性实施例中，纹波采样单元101，用于将非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号输出到数字信号处理单元103；直流采样单元102，用于将所连接的非隔离型的DC/DC双向能量变换单元的端口的第二电压信号中的第一直流信号输出到数字信号处理单元103；阻隔第二电压信号中的交流信号输出到数字信号处理单元103；数字信号处理单元103，用于根据第一电压信号和第一直流信号确定非隔离型的DC/DC双向能量变换单元的输出端口的纹波噪音信号。在一些示例性实施例中，数字信号处理单元103具体用于：确定非隔离型的DC/DC双向能量变换单元的的输出端口的纹波噪音信号为第一电压信号和第一直流信号之差。本申请实施例提供的纹波检测装置，采用纹波采样单元实现了对非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号的采集，采用直流采样单元实现了对所连接的非隔离型的DC/DC双向能量变换单元的端口的第二电压信号中的第一直流信号的采集，采用数字信号处理单元实现了对纹波采样单元采集的第一电压信号和第一直流采样单元采集的直流信号进行处理得到非隔离型的DC/DC双向能量变换单元的输出端口的纹波噪音信号，从而实现了对纹波噪音信号的检测，继而提高了非隔离型的DC/DC双向能量变换单元的工作性能。在一些示例性实施例中，纹波采样单元101可以采用以下任一种方式实现：方式一、如图2所示，由于非隔离型的DC/DC双向能量变换单元的输出端口不是固定的，而纹波检测装置只需要检测输出端口那一侧的纹波噪音信号，所以通过数字信号处理单元103判断出非隔离型的DC/DC双向能量变换单元的哪一侧作为输出端口，继而控制纹波采样单元与输出端口连通，与输入端口断开，因此，纹波采样单元101包括：纹波选择电路和第一纹波采样电路。通过纹波选择电路来控制第一纹波采样电路与哪一侧连接，从而将连接的那一侧的电压信号输入到第一纹波采样电路中，从而实现对输出端口的第一电压信号的采集。这样，无论哪一侧是输出端口都使用同一个第一纹波采样电路，减少了电路配置，保证了第一纹波采样电路的一致性和采样的精准度。方式二、由于非隔离型的DC/DC双向能量变换单元的输出端口不是固定的，而纹波检测装置只需要检测输出端口那一侧的纹波噪音信号，需要在每一个端口设置一个第二纹波采样电路，即纹波采样单元101包括：至少两个第二纹波采样电路。从而实现对输出端口的第一电压信号的采集。需要说明的是，图2中以两端口的非隔离型DC/DC双向能量变换单元为例给出的示意图，多端口的非隔离型DC/DC双向能量变换单元对应的纹波检测电路以此类推，该图不用于限定本申请实施例的保护范围。下面分别对上面两种实现方式进行详细的描述。纹波采样单元101包括：纹波选择电路和第一纹波采样电路。对于方式一，在一些示例性实施例中，纹波选择电路包括至少两个输入端口和一个输出端口，纹波选择电路的第i个输入端口分别与非隔离型的DC/DC双向能量变换单元的第i个端口连接，纹波选择电路的输出端口与第一纹波采样电路的输入端口连接；第一纹波采样电路包括一个输入端口和一个输出端口，第一纹波采样电路的输出端口与数字信号处理单元的一个输入端口连接。图2中以两端口的非隔离型的DC/DC双向能量变换单元为例给出示意图，如图2所示，纹波选择电路包括两个输入端口和一个输出端口，纹波选择电路的第一输入端口的正端与输入电压Vin的正端连接，纹波选择电路的第一输入端口的负端与输入电压Vin的负端连接，纹波选择电路的第二输入端口的正端与输出电压Vo的正端连接，纹波选择电路的第二输入端口的负端与输出电压Vo的负端连接；纹波选择电路的输出端口与第一纹波采样电路的输入端口连接。对于方式一，在一些示例性实施例中，纹波选择电路的输入端口的数量大于或等于非隔离型的DC/DC双向能量变换单元的端口的数量。对于方式一，在一些示例性实施例中，纹波选择电路，用于在数字信号处理单元的控制下将第一电压信号输出到第一纹波采样电路；相应的，第一纹波采样电路，用于将第一电压信号输出到数字信号处理单元；相应的，数字信号处理单元还用于：控制纹波选择电路将第一电压信号输出到第一纹波采样电路。对于方式一，在一些示例性实施例中，数字信号处理单元可以根据接收到调度系统的调度信号确定非隔离型的DC/DC双向能量变换单元的哪一个端口为输出端口，该调度信号用于指示非隔离型的DC/DC双向能量变换单元的哪一个端口为输出端口。需要说明的是，一般情况下，非隔离型的DC/DC双向能量变换单元的一个端口与电源和负载并联，电源和负载之间也是并联关系；非隔离型的DC/DC双向能量变换单元的另一个端口与蓄电池并联，调度系统检测到蓄电池处于满电状态，且蓄电池的电压高于负载的电压，确定与负载和电源并联的端口为输出端口；调度系统检测到负载的电压高于蓄电池的电压，确定与蓄电池连接的端口为输出端口；调度系统确定输出端口以后，向数字信号处理单元发送调度信号。对于方式一，在一些示例性实施例中，纹波选择电路可以采用方式1-方式2中的任一种方式实现：方式1、如图3和图4所示，纹波选择电路包括至少两组控制开关组，每一组控制开关组包括两个子开关；其中，第j组控制开关组的其中一个子开关串接在非隔离型的DC/DC双向能量变换单元的第j个端口的正端与第一纹波采样电路的输入端口的正端的回路中，第j组控制开关组的另一个子开关串接在非隔离型的DC/DC双向能量变换单元的第j个端口的负端与第一纹波采样电路的输入端口的负端的回路中；j为大于或等于1的整数。需要说明的是，对于方式1，N组控制开关组互补导通；其中，N为纹波选择电路包括的控制开关组的数量。也就是说，N组控制开关组中的一组控制开关组接通，其余控制开关组断开。需要说明的是，一组控制开关组接通是指该组控制开关组包括的两个子开关均接通，一组控制开关组断开是指该组控制开关组包括的两个子开关均断开。方式2、如图5所示，对于两端口的非隔离型的DC/DC双向能量变换单元，纹波选择电路可以采用两个单刀双掷选择开关实现；其中，单刀双掷选择开关包括：第一触点、第二触点、第三触点和切换片；切换片的一端与第三触点连接，切换片的另一端在第一触点和第二触点之间切换；其中一个单刀双掷选择开关的第一触点与非隔离型的DC/DC双向能量选择单元的其中一个端口的负端连接，其中一个单刀双掷选择开关的第二触点与非隔离型的DC/DC双向能量选择单元的另一个端口的负端连接，其中一个单刀双掷选择开关的第三触点与第一纹波采样电路的输入端口的负端相连；另一个单刀双掷选择开关的第一触点与非隔离型的DC/DC双向能量选择单元的其中一个端口的正端连接，另一个单刀双掷选择开关的第二触点与非隔离型的DC/DC双向能量选择单元的另一个端口的正端连接，另一个单刀双掷选择开关的第三触点与第一纹波采样电路的输入端口的正端相连。需要说明的是，当两个单刀双掷开关的切换片均切换到第一触点时，纹波选择电路的输入端口与非隔离型的DC/DC双向能量选择单元的其中一个端口连接；当两个单刀双掷开关的切换片均切换到第二触点时，纹波选择电路的输入端口与非隔离型的DC/DC双向能量选择单元的另一个端口连接。对于方式一，在一些示例性实施例中，第一纹波采样电路和直流采样单元102可以采用方式11-12中的任一种方式实现：方式11、由于第一纹波采样电路输出的第一电压信号和直流采样单元102输出的第一直流信号均在数字信号处理单元103的信号接收范围外，因此，为了使得输入到数字信号处理单元103中的信号在数字处理单元103的信号接收范围内，需要在第一纹波采样电路中对第一电压信号进行放大和直流偏置，以及在直流采样单元102中对第二电压信号中的第一直流信号进行放大和直流偏置。具体的，第一纹波采样电路具体用于：对第一电压信号进行放大和直流偏置得到第三电压信号，将第三电压信号输出到数字信号处理单元103；相应的，直流采样单元102具体用于：对第二电压信号中的第一直流信号进行放大和直流偏置得到第二直流信号，将第二直流信号输出到数字信号处理单元；阻隔第二电压信号中的交流信号输出到数字信号处理单元；相应的，数字信号处理单元103具体用于：根据第三电压信号和第二直流信号确定非隔离性的DC/DC双向能量变换单元的输出端口的纹波噪音信号。需要说明的是，第一纹波采样电路和直流采样单元102的放大倍数可以相等，也可以不相等。对于方式11，在一些示例性实施例中，第一纹波采样电路具体用于采用以下方式实现对第一电压信号进行放大：对第一电压信号中的直流信号进行放大；不对第一电压信号中的交流信号进行放大；这种情况下，数字信号处理单元103具体用于：确定非隔离型的DC/DC双向能量变换单元的的输出端口的纹波噪音信号为第三电压信号和第二直流信号之差。对于方式11，在另一些示例性实施例中，第一纹波采样电路具体用于采用以下方式实现对第一电压信号进行放大：对第一电压信号中的直流信号和交流信号进行放大；这种情况下，数字信号处理单元103具体用于：确定非隔离型的DC/DC双向能量变换单元的的输出端口的纹波噪音信号为第三电压信号和第二直流信号之差，与放大倍数的比值。对于方式11，在一些示例性实施例中，第一纹波采样电路包括：第一差分比例放大电路和第一直流偏置电路。在一些示例性实施例中，第一差分比例放大电路包括：第一直流差分放大电路和第一交流差分放大电路。在一些示例性实施例中，第一差分比例放大电路和第一直流偏置电路与下面方式12中的第一差分比例放大电路和第一直流偏置电路相同，也可以采用其他电路实现，具体的电路实现不用于限定本申请实施例的保护范围，这里不再赘述。对于方式11，在一些示例性实施例中，直流采样单元包括：第二差分比例放大电路和第二直流偏置电路。在一些示例性实施例中，第二差分比例放大电路包括：第二直流差分放大电路和第二交流差分放大电路。在一些示例性实施例中，第二差分比例放大电路和第二直流偏置电路与下面方式12中的第二差分比例放大电路和第二直流偏置电路相同，也可以采用其他电路实现，具体的电路实现不用于限定本申请实施例的保护范围，这里不再赘述。方式12、上述纹波噪音信号即为低频纹波信号和高频噪音信号的叠加信号。为了获得低频纹波信号，并且由于第一纹波采样电路输出的第一电压信号和直流采样单元102输出的直流信号均在数字信号处理单元103的信号接收范围外，因此，为了使得输入到数字信号处理单元103中的信号在数字处理单元103的接收范围内，需要在第一纹波采样电路中对第一电压信号进行放大、直流偏置和低通滤波，以及在直流采样单元102中对第二电压信号中的直流信号进行放大、直流偏置和低通滤波，也就是说，第一纹波采样电路具体用于：对第一电压信号进行放大和直流偏置得到第三电压信号，对第三电压信号进行低通滤波得到第四电压信号，将第四电压信号输出到数字信号处理单元103；直流采样单元102具体用于：对第二电压信号中的第一直流信号进行放大和直流偏置得到第二直流信号，对第二直流信号进行低通滤波得到第三直流信号，将第三直流信号输出到数字信号处理单元103；阻隔第二电压信号中的交流信号输出到数字信号处理单元103。对于方式12，在一些示例性实施例中，纹波采样单元101具体用于采用以下方式实现对第一电压信号进行放大：对第一电压信号中的直流信号进行放大；不对第一电压信号中的交流信号进行放大；这种情况下，数字信号处理单元103具体用于：确定非隔离型的DC/DC双向能量变换单元的的输出端口的低频纹波信号为第四电压信号和第三直流信号之差。对于方式12，在另一些示例性实施例中，纹波采样单元101具体用于采用以下方式实现对第一电压信号进行放大：对第一电压信号中的直流信号和交流信号进行放大；这种情况下，数字信号处理单元103具体用于：确定非隔离型的DC/DC双向能量变换单元的的输出端口的纹波噪音信号为第四电压信号和第三直流信号之差，与放大倍数的比值。对于方式12，在一些示例性实施例中，如图9所示，第一纹波采样电路包括：第一差分比例放大电路、第一直流偏置电路和第一低通滤波电路。在一些示例性实施例中，差分比例放大电路包括：第一直流差分放大电路和第一交流差分放大电路。在一些示例性实施例中，第一直流差分放大电路包括：第一电阻R1、第二电阻R2、第三电阻R3、第四电阻R4、第五电阻R5、第六电阻R6、第八电阻R8和第一运算放大器D1；其中，第一电阻R1的其中一端与纹波选择电路的输出端口的正端连接，第一电阻R1的另一端与第三电阻R3的其中一端连接，第三电阻R3的另一端与第一运算放大器D1的输入端口的正端连接；第二电阻R2的其中一端与纹波选择电路的输出端口的负端连接，第二电阻R2的另一端与第四电阻R4的其中一端连接，第四电阻R4的另一端与第一运算放大器D1的输入端口的负端连接；第一运算放大器D1的电源端与第一电源VCC1连接，第一运算放大器D1的接地端接地；第五电阻R5的其中一端接地，第五电阻R5的另一端与第六电阻R6的其中一端和第一运算放大器D1的输入端口的正端连接，第六电阻R6的另一端与第一电源VCC1连接；第八电阻R8的其中一端与第一运算放大器D1的输入端口的负端连接，第八电阻R8的另一端与第一运算放大器D1的输出端口连接。在一些示例性实施例中，第一交流差分放大电路包括：第一电容C1、第二电容C2、第三电容C3、第四电容C4、第三电阻R3、第四电阻R4、第五电阻R5、第八电阻R8和第一运算放大器D1；其中，第一电容C1与第一电阻R1并联连接，第二电容C2与第五电阻R5并联连接，第三电容C3与第二电阻R2并联连接，第四电容C4与第八电阻并联连接。在一些示例性实施例中，第一直流偏置电路包括：第五电阻R5、第六电阻R6、第一电源VCC1。在一些示例性实施例中，第一低通滤波电路包括：第七电阻R7、第九电阻R9和第五电容C5；其中，第七电阻R7的其中一端与第一运算放大器D1的输入端口的负端连接，第七电阻R7的另一端接地，第九电阻R9的其中一端与第一运算放大器D1的输出端口连接，第九电阻R9的另一端同时与第五电容C5的其中一端和第一纹波采样电路的输出端口连接，第五电容C5的另一端接地。第一低通滤波电路用于滤除第三电压信号中的高频信号，保留低频信号。在一些示例性实施例中，R1＝R2，R3＝R4，R5＝R8，R7＝R9。在一些示例性实施例中，C1＝C3，C2＝C4。其中，第一纹波采样电路中的第一电容C1、第二电容C2、第三电容C3、第四电容C4为非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号中的交流信号提供交流通路，交流信号会直接传递到第一纹波采样电路的输出端口，如果R3＝R4＝R5＝R8，则对交流信号的放大倍数为1，那么第一纹波采样电路的输出端口输出的低通滤波后的第一电压信号应该是比例放大的直流信号和原交流信号的叠加；如果R3≠R5，则对交流信号的放大倍数不是1，那么第一纹波采样电路的输出端口输出的低通滤波后的第一电压信号应该是比例放大的直流信号和比例放大的交流信号的叠加。对于方式12，在一些示例性实施例中，如图9所示，低通滤波后的第一电压信号为：其中，为直流偏置电压；其中，VAC为低通滤波后的第一电压信号中的交流信号，VDC_DSP为低通滤波后的第一电压信号中的直流信号，VO_DC为非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号中的直流信号，VO_AC为非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号中的交流信号，VCC1为第一电源。对于方式12，在一些示例性实施例中，第一纹波采样电路还包括：第一钳位保护电路。在一些示例性实施例中，第一钳位保护电路包括：第一二极管VD1、第二二极管VD2、第三二极管VD3、第四二极管VD4；其中，第一二极管VD1的阴极与第一电源VCC1连接，第一二极管VD1的阳极与第二二极管VD2的阴极和第一运算放大器D1的输入端口的正端连接，第二二极管VD2的阳极接地，第三二极管VD3的阴极与第一电源VCC1连接，第三二极管VD3的阳极与第四二极管VD4的阴极和第一运算放大器D1的输入端口的负端连接，第四二极管VD4的阳极接地；第一钳位保护电路将第一运算放大器D1的输入电压限制在0-3.3V之间，起到保护作用。对于方式12，在一些示例性实施例中，如图10所示，直流采样单元102包括：第二差分比例放大电路、第二直流偏置电路和第二低通滤波电路。在一些示例性实施例中，第二差分比例放大电路包括：第二直流差分放大电路。在一些示例性实施例中，第二直流差分放大电路包括：第十电阻R11、第十一电阻R12、第十二电阻R13、第十三电阻R14、第十四电阻R15、第十五电阻R16、第十七电阻R18和第二运算放大器D2；其中，第十电阻R11的其中一端与纹波选择电路的输出端口的正端连接，第十电阻R11的另一端与第十二电阻R13的其中一端连接，第十二电阻R13的另一端与第二运算放大器D2的输入端口的正端连接；第十一电阻R12的其中一端与纹波选择电路的输出端口的负端连接，第十一电阻R12的另一端与第十三电阻R14的其中一端连接，第十三电阻R14的另一端与第二运算放大器D2的输入端口的负端连接；第二运算放大器D2的电源端与第二电源VCC2连接，第二运算放大器D2的接地端接地；第十四电阻R15的其中一端接地，第十四电阻R15的另一端与第十五电阻R16的其中一端和第二运算放大器D2的输入端口的正端连接，第十五电阻R16的另一端与第二电源VCC2连接；第十七电阻R18的其中一端与第二运算放大器D2的输入端口的负端连接，第十七电阻R18的另一端与第二运算放大器D2的输出端口连接。在一些示例性实施例中，第二直流偏置电路包括：第十四电阻R15、第十五电阻R16、第二电源VCC2。在一些示例性实施例中，第二低通滤波电路包括：第十六电阻R17、第十八电阻R19和第八电容C13；其中，第十六电阻R17的其中一端与第二放大器D2的输入端口的负端连接，第十六电阻R17的另一端接地，第十八电阻R19的其中一端与第二运算放大器D2的输出端口连接，第十八电阻R19的另一端同时与第八电容C13的其中一端和第一纹波采样电路的输出端口连接，第八电容C13的另一端接地。第二低通滤波电路用于滤除第二直流信号中的高频信号，保留低频信号。在一些示例性实施例中，R11＝R12，R13＝R14，R15＝R18，R17＝R19。在一些示例性实施例中，C11＝C12。在一些示例性实施例中，直流采样单元102不能为非隔离型的DC/DC双向能量变换单元的端口的第二电压信号中的交流信号提供交流通路，交流信号不会被传递到第一纹波采样电路的输出端口，因此，直流采样单元102只输出低通滤波后的直流信号。对于方式12，在一些示例性实施例中，如图10所示，低通滤波后的直流信号为：其中，为直流偏置电压；其中，VDC_DSP为第三直流信号，VO_DC为非隔离型的DC/DC双向能量变换单元的输出端口的第一电压信号中的直流信号，VCC2为第二电源。对于方式12，在一些示例性实施例中，直流采样单元102还包括：第五二极管VD11、第六二极管VD21、第七二极管VD31、第八二极管VD41；其中，第五二极管VD11的阴极与第二电源VCC2连接，第五二极管VD11的阳极与第六二极管VD21的阴极和第二运算放大器D2的输入端口的正端连接，第六二极管VD21的阳极接地，第七二极管VD31的阴极与第二电源VCC2连接，第七二极管VD31的阳极与第八二极管VD41的阴极和第二运算放大器D2的输入端口的负端连接，第八二极管VD41的阳极接地；第二钳位保护电路将第二运算放大器D2的输入电压限制在0-3.3V之间，起到保护作用。纹波采样单元101包括：至少两个第二纹波采样电路。对于方式二，在一些示例性实施例中，第二纹波采样电路的数量等于非隔离型的DC/DC双向能量变换单元的端口数量。对于方式二，在一些示例性实施例中，第二纹波采样电路包括一个输入端口和一个输出端口，第二纹波采样电路的输入端口与非隔离型的DC/DC双向能量变换单元的一个端口连接，第二纹波采样电路的输出端口与数字信号处理单元的一个输入端口连接。对于方式二，在一些示例性实施例中，不同第二纹波采样电路的输入端口连接的非隔离型的DC/DC双向能量变换单元的端口不同，不同第二纹波采样电路的输出端口连接的数字信号处理单元的输入端口不同。对于方式二，在一些示例性实施例中，第二纹波采样电路，用于将所连接的非隔离型的DC/DC双向能量变换单元的端口的第五电压信号输出到数字信号处理单元；数字信号处理单元103还用于：从所有第二纹波采样电路输出的第五电压信号中选择其中一个第五电压信号作为第一电压信号。对于方式二，在一些示例性实施例中，数字信号处理单元103从所有第二纹波采样电路输出的第五电压信号中选择其中一个第五电压信号作为第一电压信号是指，选择与非隔离型的DC/DC双向能量变换单元的输出端口连接的第二纹波采样电路输入到数字信号处理单元103的第五电压信号，该第五电压信号即为第一电压信号。在一些示例性实施例中，第二纹波采样电路可以采用与第一纹波采样电路相同的电路实现，也可以采用其他的电路实现，具体的电路实现不用于限定本申请实施例的保护范围。在一些示例性实施例中，数字信号处理单元103可以采用数字信号处理芯片实现，例如，德州仪器公司的TMS320F28xx系列的芯片。在一些示例性实施例中，纹波检测装置还包括：非隔离型的DC/DC双向能量变换单元104，用于进行输入端口和输出端口的电压信号的变换。在一些示例性实施例中，非隔离型的DC/DC双向能量变换单元104可以采用以下方式21-24中的任一种方式实现：方式21、如图11所示，非隔离型的DC/DC双向能量变换单元104采用H桥电路实现，包括：第一开关器件VT1、第二开关器件VT2、第三开关器件VT3、第四开关器件VT4、第一电感L1、第九电容Cin1、第十电容Co1；其中，第一开关器件VT1的漏极与其中一个端口的正端相连，第一开关器件VT1的源极同时与第一电感L1的其中一端和第二开关器件VT2的漏极相连，第一开关器件VT1的栅极与驱动电路1的一个输出端口相连；第二开关器件VT2的源极与其中一个端口的负端相连，第二开关器件VT2的栅极与第一驱动电路的另一个输出端口相连；第九电容Cin1并接在其中一个端口的正负端，第一电感L1的第二端同时与第三开关器件VT3的漏极和第四开关器件VT4的源极相连；第三开关器件VT3的源极与另一个端口的负端相连，第三开关器件VT3的栅极与第二驱动电路的其中一个输出端口相连；第四开关器件VT4的漏极与另一个端口的正端相连，第四开关器件VT4的栅极与第二驱动电路的另一个输出端口相连；第十电容Co1并接在另一个端口的正负端，两个端口的负端接地，其中一个端口的负端和另一个端口的负端位于同一网络。方式22、如图12所示，非隔离型的DC/DC双向能量变换单元104包括：第五开关器件VT5、第六开关器件VT6，第二电感L2，第十一电容Cin2，第十二电容Co2；其中，第五开关器件VT5的漏极与其中一个端口的正端相连，第五开关器件VT5的源极同时与第二电感L2的其中一端和第六开关器件VT6的漏极相连，第五开关器件VT5的栅极与第三驱动电路的其中一个输出端口相连；第六开关器件VT6的源极与其中一个端口的负端相连，第六开关器件VT6的栅极与第三驱动电路的另一个输出端口相连；第十一电容Cin2并接在其中一个端口的正负端之间，第二电感L2的另一端同时与另一个端口的正端相连，第十二电容Co2并接在另一个端口的正负端之间，两个端口的负端接地；其中一个端口的负端和另一个端口的负端位于同一网络。方式23、如图13所示，非隔离型的DC/DC双向能量变换单元104采用两个H桥电路实现，第一H桥电路包括：第七开关器件VT7、第八开关器件VT8、第九开关器件VT9、第十开关器件VT10、第三电感L3、第十三电容Cin3、第十四电容Co3；其中，第七开关器件VT7的漏极与其中一个端口的正端相连，第七开关器件VT7的源极同时与第三电感L3的其中一端和第八开关器件VT8的漏极相连，第七开关器件VT7的栅极与第五驱动电路的第一个输出端口相连；第八开关器件VT8的源极与其中一个端口的负端相连，第八开关器件VT8的栅极与第五驱动电路的第二个输出端口相连；第十三电容Cin3并接在其中一个端口的正负端，第三电感L3的第二端同时与第九开关器件VT9的漏极和第十开关器件VT10的源极相连；第九开关器件VT9的源极与另一个端口的负端相连，第九开关器件VT9的栅极与第六驱动电路的第一个输出端口相连；第十开关器件VT10的漏极与另一个端口的正端相连，第十开关器件VT10的栅极与第六驱动电路的第二个输出端口相连；第十四电容Co3并接在另一个端口的正负端之间，两个端口的负端接地，其中一个端口的负端和另一个端口的负端位于同一网络。第二H桥电路包括：第十一开关器件VT11、第十二开关器件VT12、第十三开关器件VT13、第十四开关器件VT14、第四电感L4；其中，第十一开关器件VT11的漏极与其中一个端口的正端相连，第十一开关器件VT11的源极同时与第四电感L4的其中一端和第十二开关器件VT12的漏极相连，第十一开关器件VT11的栅极与第五驱动电路的第三个输出端口相连；第十二开关器件VT12的源极与其中一个端口的负端相连，第十二开关器件VT12的栅极与第五驱动电路的第四个输出端口相连；第四电感L4的另一端同时与第十三开关器件VT13的漏极和第十四开关器件VT14的源极相连；第十三开关器件VT13的源极与另一个端口的负端相连，第十三开关器件VT13的栅极与第六驱动电路的第三个输出端口相连；第十四开关器件VT14的漏极与另一个端口的正端相连，第十四开关器件VT14的栅极与第六驱动电路的第四个输出端口相连；其中一个端口的负端和另一个端口的负端位于同一网络。两个H桥电路并联工作，其中第一H桥电路和第二H桥电路交错180°相位工作，如此工作可以降低输出端的低频纹波信号。方式24、如图14所示，非隔离型的DC/DC双向能量变换单元104采用两个H桥电路实现，第三H桥电路包括：第十五开关器件VT15、第十六开关器件VT16、第十七开关器件VT17、第十八开关器件VT18、第五电感L5、第十五电容Cin4、第十六电容Co4；其中，第十五开关器件VT15的漏极与第一个端口的正端相连，第十五开关器件VT15的源极同时与第五电感L5的其中一端和第十六开关器件VT16的漏极相连，第十五开关器件VT15的栅极与第七驱动电路的第一个输出端口相连；第十六开关器件VT16的源极与第一个端口的负端相连，第十六开关器件VT16的栅极与第七驱动电路的第二个输出端口相连；第十五电容Cin4并接在第一个端口的正负端，第五电感L5的第二端同时与第十七开关器件VT17的漏极和第十八开关器件VT18的源极相连；第十七开关器件VT17的源极与第二个端口的负端相连，第十七开关器件VT17的栅极与第八驱动电路的第一个输出端口相连；第十八开关器件VT18的漏极与第二个端口的正端相连，第十八开关器件VT18的栅极与第八驱动电路的第二个输出端口相连；第十六电容Co4并接在第二个端口的正负端之间，两个端口的负端接地，第一个端口的负端和第二个端口的负端位于同一网络。第四H桥电路包括：第十九开关器件VT19、第二十开关器件VT20、第二十一开关器件VT21、第二十二开关器件VT22、第六电感L6、第十七电容Co5；其中，第十九开关器件VT19的漏极与第一个端口的正端相连，第十九开关器件VT19的源极同时与第六电感L6的其中一端和第二十开关器件VT20的漏极相连，第十九开关器件VT19的栅极与第七驱动电路的第三个输出端口相连；第二十开关器件VT20的源极与第一个端口的负端相连，第二十开关器件VT20的栅极与第七驱动电路的第四个输出端口相连；第六电感L6的另一端同时与第二十一开关器件VT21的漏极和第二十二开关器件VT22的源极相连；第二十一开关器件VT21的源极与第三个端口的负端相连，第二十一开关器件VT21的栅极与第八驱动电路的第三个输出端口相连；第二十二开关器件VT22的漏极与第三个端口的正端相连，第十五开关器件VT15的栅极与第八驱动电路的第四个输出端口相连；第一个端口的负端和第三个端口的负端位于同一网络。需要说明的是，上述列出的非隔离型的DC/DC双向能量变换单元104仅仅是几个可实现的例子，并不是对非隔离型的DC/DC双向能量变换单元104的实现方式的穷举，其他的实现方式也在本申请实施例的保护范围内。在一些示例性实施例中，纹波检测装置还包括：驱动单元105，用于根据驱动信号驱动非隔离型的DC/DC双向能量变换单元内的开关器件。在一些示例性实施例中，该驱动信号可以由调度系统产生，也可以由数字信号处理单元产生。当驱动信号由数字信号处理单元产生时，该驱动信号不具备直接驱动开关器件的能力，又由安全考虑需要将数字信号处理单元产生的驱动信号和非隔离型的DC/DC双向能量变换单元内的开关器件进行电气隔离，所以增加驱动单元，驱动单元起到增加驱动能力和隔离的作用。第二方面，本申请实施例提供一种纹波抑制装置，包括：上述实施例中的纹波检测装置和纹波抑制单元。在一些示例性实施例中，纹波抑制单元用于：将基准电压信号与纹波噪音信号对应的数字信号进行差值运算得到第一差值信号；将第一差值信号与第一电压信号对应的数字信号进行差值运算得到第二差值信号；根据第二差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号，向驱动单元输出计算得到的驱动信号；或者，将基准电压信号与低频纹波信号对应的数字信号进行差值运算得到第三差值信号；将第三差值信号与第一电压信号对应的数字信号进行差值运算得到第四差值信号；根据第四差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号，向驱动单元输出计算得到的驱动信号。本申请实施例提供的纹波抑制装置，基于纹波噪音信号或低频纹波信号调整非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号，使得输出端口的第一电压偏离正常电压值时，将输出端口的第一电压向正常电压值进行回调，从而实现对纹波噪音信号或低频纹波信号的抑制。在一些示例性实施例中，纹波抑制单元可以采用以下方式实现根据第二差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号：生成数字的三角形载波信号；其中，数字的三角波信号的频率与开关器件的频率相同；当数字的三角形载波信号大于第二差值时，开关器件的驱动信号为高电平；当数字的三角波信号小于第二差值时，开关器件的驱动信号为低电平。在一些示例性实施例中，数字的三角形载波信号的峰值根据第二差值的取值范围确定。在一些示例性实施例中，数字的三角形载波信号的峰值为第二差值的取值范围的最大值。在一些示例性实施例中，纹波抑制单元可以采用以下方式实现根据第二差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号：生成数字的三角形载波信号；其中，数字的三角波信号的频率与开关器件的频率相同；当数字的三角形载波信号大于第二差值时，开关器件的驱动信号为低电平；当数字的三角波信号小于第二差值时，开关器件的驱动信号为高电平。在一些示例性实施例中，纹波抑制单元可以采用以下方式实现根据第四差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号：生成数字的三角形载波信号；其中，数字的三角波信号的频率与开关器件的频率相同；当数字的三角形载波信号大于第四差值时，开关器件的驱动信号为高电平；当数字的三角波信号小于第四差值时，开关器件的驱动信号为低电平。在一些示例性实施例中，数字的三角形载波信号的峰值根据第四差值的取值范围确定。在一些示例性实施例中，数字的三角形载波信号的峰值为第四差值的取值范围的最大值。在一些示例性实施例中，纹波抑制单元可以采用以下方式实现根据第四差值信号计算非隔离型的DC/DC双向能量变换单元的每一个开关器件的驱动信号：生成数字的三角形载波信号；其中，数字的三角波信号的频率与开关器件的频率相同；当数字的三角形载波信号大于第四差值时，开关器件的驱动信号为低电平；当数字的三角波信号小于第四差值时，开关器件的驱动信号为高电平。在一些示例性实施例中，纹波抑制单元可以直接采用上述数字信号处理单元来实现，也可以采用其他的电路实现。下面分别描述上面所列举的所有非隔离型的DC/DC双向能量变换单元的开关器件的驱动信号的确定。、采用上述方式21实现的非隔离型的DC/DC双向能量变换单元第一开关器件VT1的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT1以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vin以升压的方式转换到Vo时，VT1以占空比为1对应的驱动信号工作在常导通状态；当电压从Vo以降压的方式转换到Vin时，VT1以占空比为1对应的驱动信号工作在常导通状态；当电压从Vo以升压的方式转换到Vin时，VT1以图15中占空比为D对应的驱动信号工作在开关状态；第二开关器件VT2的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT2以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vin以升压的方式转换到Vo时，VT2以占空比为0对应的驱动信号工作在常关断状态；当电压从Vo以降压的方式转换到Vin时，VT2以占空比为0对应的驱动信号工作在常关断状态；当电压从Vo以升压的方式转换到Vin时，VT2以图15中占空比为1-D对应的驱动信号工作在开关状态；第三开关器件VT3的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT3以占空比0对应的驱动信号工作在常关断状态；当电压从Vin以升压的方式转换到Vo时，VT3以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vo以降压的方式转换到Vin时，VT3以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vo以升压的方式转换到Vin时，VT3以占空比为0对应的驱动信号工作在常关断状态；第四开关器件VT4的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT4以占空比为1对应的驱动信号工作在常导通状态；当电压从Vin以升压的方式转换到Vo时，VT4以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vo以降压的方式转换到Vin时，VT4以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vo以升压的方式转换到Vin时，VT4以占空比为1对应的驱动信号工作在常导通状态；采用上述方式22实现的非隔离型的DC/DC双向能量变换单元第五开关器件VT5的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT5以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vo以升压的方式转换到Vin时，VT5以图15中占空比为1-D对应的驱动信号工作在开关状态；第六开关器件VT6的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT6以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vo以升压的方式转换到Vin时，VT6以图15中占空比为D对应的驱动信号工作在开关状态；采用上述方式23实现的非隔离型的DC/DC双向能量变换单元第七开关器件VT7的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT7以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vin以升压的方式转换到Vo时，VT7以占空比为1对应的驱动信号工作在常导通状态；当电压从Vo以降压的方式转换到Vin时，VT7以占空比为1对应的驱动信号工作在常导通状态；当电压从Vo以升压的方式转换到Vin时，VT7以图15中占空比为D对应的驱动信号工作在开关状态；第八开关器件VT8的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT8以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vin以升压的方式转换到Vo时，VT8以占空比为0对应的驱动信号工作在常关断状态；当电压从Vo以降压的方式转换到Vin时，VT8以占空比为0对应的驱动信号工作在常关断状态；当电压从Vo以升压的方式转换到Vin时，VT8以图15中占空比为1-D对应的驱动信号工作在开关状态；第九开关器件VT9的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT9以占空比为0对应的驱动信号工作在常关断状态；当电压从Vin以升压的方式转换到Vo时，VT9以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vo以降压的方式转换到Vin时，VT9以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vo以升压的方式转换到Vin时，VT9以占空比为0对应的驱动信号工作在常关断状态；第十开关器件VT10的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT10以占空比为1对应的驱动信号工作在常导通状态；当电压从Vin以升压的方式转换到Vo时，VT10以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vo以降压的方式转换到Vin时，VT10以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vo以升压的方式转换到Vin时，VT10以占空比为1对应的驱动信号工作在常导通状态；第十一开关器件VT11的驱动信号与第七开关器件VT7相同但相位相差180°；第十二开关器件VT12的驱动信号与第八开关器件VT8相同但相位相差180°；第十三开关器件VT13的驱动信号与第九开关器件VT9相同但相位相差180°；第十四开关器件VT14的驱动信号与第十开关器件VT10相同但相位相差180°；采用上述方式24实现的非隔离型的DC/DC双向能量变换单元第十五开关器件VT15的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT15以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vin以升压的方式转换到Vo时，VT15以占空比为1对应的驱动信号工作在常导通状态；当电压从Vo以降压的方式转换到Vin时，VT15以占空比为1对应的驱动信号工作在常导通状态；当电压从Vo以升压的方式转换到Vin时，VT15以图15中占空比为D对应的驱动信号工作在开关状态；第十六开关器件VT16的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT16以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vin以升压的方式转换到Vo时，VT16以占空比为0对应的驱动信号工作在常关断状态；当电压从Vo以降压的方式转换到Vin时，VT16以占空比为0对应的驱动信号工作在常关断状态；当电压从Vo以升压的方式转换到Vin时，VT16以图15中占空比为1-D对应的驱动信号工作在开关状态；第十七开关器件VT17的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT17以占空比为0对应的驱动信号工作在常关断状态；当电压从Vin以升压的方式转换到Vo时，VT17以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vo以降压的方式转换到Vin时，VT17以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vo以升压的方式转换到Vin时，VT17以占空比为0对应的驱动信号工作在常关断状态；第十八开关器件VT18的驱动信号为：当电压从Vin以降压的方式转换到Vo时，VT18以占空比为1对应的驱动信号工作在常导通状态；当电压从Vin以升压的方式转换到Vo时，VT18以图15中占空比为1-D对应的驱动信号工作在开关状态；当电压从Vo以降压的方式转换到Vin时，VT18以图15中占空比为D对应的驱动信号工作在开关状态；当电压从Vo以升压的方式转换到Vin时，VT18以占空比为1对应的驱动信号工作在常导通状态；第十九开关器件VT19的驱动信号和第十五开关器件VT15相同，可以和第十五开关器件VT15同相位或不同相位；第二十开关器件VT20的驱动信号和第十六开关器件VT16相同，可以和第十六开关器件VT16同相位或不同相位；第二十一开关器件VT21的驱动信号和第十七开关器件VT17相同，可以和第十七开关器件VT17同相位或不同相位；第二十二开关器件VT22的驱动信号和第十八开关器件VT18相同，可以和第十八开关器件VT18同相位或不同相位。本申请实施例提供的纹波抑制装置，由于使用负反馈环路对输出电压进行调节，且低频纹波信号的频率远大于非隔离型的DC/DC双向能量变换单元内部开关器件的开关频率，当输出端口的第一电压出现正向远离正常电压值时，第二误差信号或第四误差信号会减小，第二误差信号或第四误差信号的减小带来工作在开关状态的开关器件的占空比减小，从而使输出电压向正常电压回调；相反当输出端口的第一电压出现负向远离正常电压值时，第二误差信号或第四误差信号会增加，第二误差信号或第四误差信号的增加带来工作在开关状态的开关器件占空比的增加，从而使输出电压向正常电压回调。本领域普通技术人员可以理解，上文中所公开方法中的全部或某些步骤、系统、装置中的功能模块/单元可以被实施为软件、固件、硬件及其适当的组合。在硬件实施方式中，在以上描述中提及的功能模块/单元之间的划分不一定对应于物理组件的划分；例如，一个物理组件可以具有多个功能，或者一个功能或步骤可以由若干物理组件合作执行。某些物理组件或所有物理组件可以被实施为由处理器，如中央处理器、数字信号处理器或微处理器执行的软件，或者被实施为硬件，或者被实施为集成电路，如专用集成电路。这样的软件可以分布在计算机可读介质上，计算机可读介质可以包括计算机存储介质和通信介质。如本领域普通技术人员公知的，术语计算机存储介质包括在用于存储信息的任何方法或技术中实施的易失性和非易失性、可移除和不可移除介质。计算机存储介质包括但不限于RAM、ROM、EEPROM、闪存或其它存储器技术、CD-ROM、数字多功能盘或其它光盘存储、磁盒、磁带、磁盘存储或其它磁存储器、或者可以用于存储期望的信息并且可以被计算机访问的任何其它的介质。此外，本领域普通技术人员公知的是，通信介质通常包含计算机可读指令、数据结构、程序模块或者诸如载波或其它传输机制之类的调制数据信号中的其它数据，并且可包括任何信息递送介质。本文已经公开了示例实施例，并且虽然采用了具体术语，但它们仅用于并仅应当被解释为一般说明性含义，并且不用于限制的目的。在一些实例中，对本领域技术人员显而易见的是，除非另外明确指出，否则可单独使用与特定实施例相结合描述的特征、特性和/或元素，或可与其它实施例相结合描述的特征、特性和/或元件组合使用。因此，本领域技术人员将理解，在不脱离由所附的权利要求阐明的本申请的范围的情况下，可进行各种形式和细节上的改变。
