标题title
数据库检测方法、装置、电子设备和计算机可读介质
摘要abst
本公开的实施例公开了数据库检测方法、装置、电子设备和计算机可读介质。该方法的一具体实施方式包括：读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集；根据表列信息集，构建查询语法树；从查询语法树中选择满足目标条件的表列信息作为目标表列信息，得到目标表列信息组，以及根据目标表列信息组，构建目标语法树；将目标语法树包括的各个字符合并为查询字符串；将查询字符串发送至预设的各个数据库系统，以及响应于接收到各个数据库系统发送的反馈结果，对各个数据库系统进行检测。该实施方式可以全面测试各个分支数据库，缩短了测试时间。
权利要求书clms
1.一种数据库检测方法，包括：读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集；根据所述表列信息集，构建查询语法树；从所述查询语法树中选择满足目标条件的表列信息作为目标表列信息，得到目标表列信息组，以及根据所述目标表列信息组，构建目标语法树；将所述目标语法树包括的各个字符合并为查询字符串；将所述查询字符串发送至预设的各个数据库系统，以及响应于接收到所述各个数据库系统发送的反馈结果，对所述各个数据库系统进行检测；响应于检测到所述各个数据库系统中任一数据库系统宕机，记录所述查询字符串，以及将宕机的数据库系统确定为异常数据库系统。2.根据权利要求1所述的方法，其中，所述响应于接收到所述各个数据库系统发送的反馈结果，对所述各个数据库系统进行检测，包括：确定所述各个数据库系统中的标准数据库系统；将所述标准数据库系统对应的反馈结果确定为标准反馈结果；将去除了所述标准数据库系统的各个数据库系统确定为待检测数据库系统组；将所述待检测数据库系统组对应的各个反馈结果确定为待对比反馈结果组；根据所述标准反馈结果与所述待对比反馈结果组，对所述待检测数据库系统组进行检测。3.根据权利要求1所述的方法，其中，所述方法还包括：数据库系统响应于接收到所述查询字符串，根据设定的处理模式，对所述查询字符串包括的每个表列信息，执行以下步骤：响应于确定所述处理模式为第一处理模式，从所述表列信息包括的各个列信息中选择前预设数量个列信息作为子反馈结果，其中，所述表列信息包括的各个列信息具有排列顺序；响应于确定所述处理模式为第二处理模式，从所述表列信息包括的各个列信息中选择满足目标条件的各个列信息作为子反馈结果；所述数据库系统将生成的各个子反馈结果组合为反馈结果，以及将所述反馈结果发送至目标服务器。4.根据权利要求1所述的方法，其中，所述根据所述表列信息集，构建查询语法树，包括：对于所述表列信息集中的每个表列信息，将所述表列信息包括的各个字符合并为表列语句；根据各个表列语句，构建查询语法树。5.一种数据库检测装置，包括：读取单元，被配置成读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集；构建单元，被配置成根据所述表列信息集，构建查询语法树；选择单元，被配置成从所述查询语法树中选择满足目标条件的表列信息作为目标表列信息，得到目标表列信息组，以及根据所述目标表列信息组，构建目标语法树；合并单元，被配置成将所述目标语法树包括的各个字符合并为查询字符串；检测单元，被配置成将所述查询字符串发送至预设的各个数据库系统，以及响应于接收到所述各个数据库系统发送的反馈结果，对所述各个数据库系统进行检测；确定单元，被配置成响应于检测到所述各个数据库系统中任一数据库系统宕机，记录所述查询字符串，以及将宕机的数据库系统确定为异常数据库系统。6.一种电子设备，包括：一个或多个处理器；存储装置，其上存储有一个或多个程序；当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1-4中任一所述的方法。7.一种计算机可读介质，其上存储有计算机程序，其中，所述计算机程序被处理器执行时实现如权利要求1-4中任一所述的方法。
说明书desc
技术领域本公开的实施例涉及计算机技术领域，具体涉及数据库检测方法、装置、电子设备和计算机可读介质。背景技术数据库通常用于数据存储，而对于新的数据库进行测试，可以有效确定数据库的吞吐量，以便于更高效的使用数据库。目前，对于数据库的检测，通常采用的方式为：开发者自己在服务上线前编写单元测试和回归测试，或通过在生产环境部署并使用服务的过程中提供实际数据案例。然而，采用上述方式通常会存在以下技术问题：第一，上线前人工编写的数据案例无法覆盖所有分支数据库，且测试时间较长；第二，对数据库检测效率较低，检测时间较长。此外，当数据库系统异常时，通常需要技术人员进行维修后，才可以读取数据库系统中的数据表，容易造成异常数据库系统中的数据表丢失。该背景技术部分中所公开的以上信息仅用于增强对本发明构思的背景的理解，并因此，其可包含并不形成本国的本领域普通技术人员已知的现有技术的信息。发明内容本公开的内容部分用于以简要的形式介绍构思，这些构思将在后面的具体实施方式部分被详细描述。本公开的内容部分并不旨在标识要求保护的技术方案的关键特征或必要特征，也不旨在用于限制所要求的保护的技术方案的范围。本公开的一些实施例提出了数据库检测方法、装置、电子设备和计算机可读介质，来解决以上背景技术部分提到的技术问题中的一项或多项。第一方面，本公开的一些实施例提供了一种数据库检测方法，该方法包括：读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集；根据上述表列信息集，构建查询语法树；从上述查询语法树中选择满足目标条件的表列语句作为目标表列语句，得到目标表列语句组，以及根据上述目标表列语句组，构建目标语法树；将上述目标语法树包括的各个字符合并为查询字符串；将上述查询字符串发送至预设的各个数据库系统，以及响应于接收到上述各个数据库系统发送的反馈结果，对上述各个数据库系统进行检测；响应于检测到上述各个数据库系统中任一数据库系统宕机，记录上述查询字符串，以及将宕机的数据库系统确定为异常数据库系统。第二方面，本公开的一些实施例提供了一种数据库检测装置，装置包括：读取单元，被配置成读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集；构建单元，被配置成根据上述表列信息集，构建查询语法树；选择单元，被配置成从上述查询语法树中选择满足目标条件的表列语句作为目标表列语句，得到目标表列语句组，以及根据上述目标表列语句组，构建目标语法树；合并单元，被配置成将上述目标语法树包括的各个字符合并为查询字符串；检测单元，被配置成将上述查询字符串发送至预设的各个数据库系统，以及响应于接收到上述各个数据库系统发送的反馈结果，对上述各个数据库系统进行检测；确定单元，被配置成响应于检测到上述各个数据库系统中任一数据库系统宕机，记录上述查询字符串，以及将宕机的数据库系统确定为异常数据库系统。第三方面，本公开的一些实施例提供了一种电子设备，包括：一个或多个处理器；存储装置，其上存储有一个或多个程序，当一个或多个程序被一个或多个处理器执行，使得一个或多个处理器实现上述第一方面任一实现方式所描述的方法。第四方面，本公开的一些实施例提供了一种计算机可读介质，其上存储有计算机程序，其中，计算机程序被处理器执行时实现上述第一方面任一实现方式所描述的方法。本公开的上述各个实施例具有如下有益效果：通过本公开的一些实施例的数据库检测方法，可以全面测试各个分支数据库，缩短了测试时间。具体来说，测试时间较长的原因在于：开发者自己在服务上线前编写单元测试和回归测试。基于此，本公开的一些实施例的数据库检测方法，首先，读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集。由此，便于对各个数据库系统进行测试。其次，根据上述表列信息集，构建查询语法树。接着，从上述查询语法树中选择满足目标条件的表列语句作为目标表列语句，得到目标表列语句组，以及根据上述目标表列语句组，构建目标语法树。由此，可以利用符合条件的数据库表列信息，对各个数据库系统进行测试。然后，将上述目标语法树包括的各个字符合并为查询字符串。最后，将上述查询字符串发送至预设的各个数据库系统，以及响应于接收到上述各个数据库系统发送的反馈结果，对上述各个数据库系统进行检测。由此，可以通过相同的查询字符串，来对不同的数据库系统进行检测。从而，可以全面测试各个分支数据库，缩短了测试时间。附图说明结合附图并参考以下具体实施方式，本公开各实施例的上述和其他特征、优点及方面将变得更加明显。贯穿附图中，相同或相似的附图标记表示相同或相似的元素。应当理解附图是示意性的，元件和元素不一定按照比例绘制。图1是根据本公开的数据库检测方法的一些实施例的流程图；图2是根据本公开的数据库检测装置的一些实施例的结构示意图；图3是适于用来实现本公开的一些实施例的电子设备的结构示意图。具体实施方式下面将参照附图更详细地描述本公开的实施例。虽然附图中显示了本公开的某些实施例，然而应当理解的是，本公开可以通过各种形式来实现，而且不应该被解释为限于这里阐述的实施例。相反，提供这些实施例是为了更加透彻和完整地理解本公开。应当理解的是，本公开的附图及实施例仅用于示例性作用，并非用于限制本公开的保护范围。另外还需要说明的是，为了便于描述，附图中仅示出了与有关发明相关的部分。在不冲突的情况下，本公开中的实施例及实施例中的特征可以相互组合。需要注意，本公开中提及的“第一”、“第二”等概念仅用于对不同的装置、模块或单元进行区分，并非用于限定这些装置、模块或单元所执行的功能的顺序或者相互依存关系。需要注意，本公开中提及的“一个”、“多个”的修饰是示意性而非限制性的，本领域技术人员应当理解，除非在上下文另有明确指出，否则应该理解为“一个或多个”。本公开实施方式中的多个装置之间所交互的消息或者信息的名称仅用于说明性的目的，而并不是用于对这些消息或信息的范围进行限制。下面将参考附图并结合实施例来详细说明本公开。图1是根据本公开的数据库检测方法的一些实施例的流程图。示出了根据本公开的数据库检测方法的一些实施例的流程100。该数据库检测方法，包括以下步骤：步骤101，读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集。在一些实施例中，数据库检测方法的执行主体可以读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集。这里，目标数据库可以是存储用于测试数据库系统的各个数据表的数据库。表列信息可以是指一数据表包括的各个列信息组成的信息。这里，列信息可以是指数据表中的一列数据。步骤102，根据上述表列信息集，构建查询语法树。在一些实施例中，上述执行主体可以根据上述表列信息集，构建查询语法树。实践中，上述执行主体可以通过以下步骤构建查询语法树：第一步，对于上述表列信息集中的每个表列信息，将上述表列信息包括的各个字符合并为表列语句。第二步，根据各个表列语句，构建查询语法树。按照设定的顺序，连接各个表列语句，以构建出查询语法树。例如，可以将各个表列语句输入至自制解释器Pascal中，生成抽象语法树。在另一种实现方式中，可以将各个表列语句输入至神经网络语言模型中，得到语法树。神经网络语言模型可以是预先训练的以各个表列语句为输入，以查询语法树为输出的神经网络语言模型。步骤103，从上述查询语法树中选择满足目标条件的表列语句作为目标表列语句，得到目标表列语句组，以及根据上述目标表列语句组，构建目标语法树。在一些实施例中，上述执行主体可以从上述查询语法树中选择满足目标条件的表列语句作为目标表列语句，得到目标表列语句组，以及根据上述目标表列语句组，构建目标语法树。其中，目标条件可以是设定的用于筛选表列信息的条件。例如，目标条件可以是：表列信息对应的数据格式为预设的数据格式。实践中，按照设定的顺序，连接各个目标表列语句，以构建出目标语法树。即，可以将各个目标表列语句输入至自制解释器Pascal中，生成抽象语法树。在另一种实现方式中，上述执行主体还可以将各个目标表列语句输入至神经网络语言模型中，得到语法树。步骤104，将上述目标语法树包括的各个字符合并为查询字符串。在一些实施例中，上述执行主体可以将上述目标语法树包括的各个字符合并为查询字符串。步骤105，将上述查询字符串发送至预设的各个数据库系统，以及响应于接收到上述各个数据库系统发送的反馈结果，对上述各个数据库系统进行检测。在一些实施例中，上述执行主体可以将上述查询字符串发送至预设的各个数据库系统，以及响应于接收到上述各个数据库系统发送的反馈结果，对上述各个数据库系统进行检测。实践中，响应于接收到上述各个数据库系统发送的反馈结果，上述执行主体可以对上述各个数据库系统进行检测：第一步，确定上述各个数据库系统中的标准数据库系统。即，可以通过数据库系统标识，确定设定的标准数据库系统。即，可以通过标准数据库系统对应的数据库系统标识进行判断。第二步，将上述标准数据库系统对应的反馈结果确定为标准反馈结果。第三步，将去除了上述标准数据库系统的各个数据库系统确定为待检测数据库系统组。第四步，将上述待检测数据库系统组对应的各个反馈结果确定为待对比反馈结果组。第五步，根据上述标准反馈结果与上述待对比反馈结果组，对上述待检测数据库系统组进行检测。实践中，对于上述待对比反馈结果组中的每个待对比反馈结果，执行如下处理步骤：第一子步骤，确定上述待对比反馈结果对应的对比类型。对比类型可以是比对反馈结果的类型。第二子步骤，响应于确定上述对比类型为数量对比类型，确定上述待对比反馈结果对应的数据数量与上述标准反馈结果对应的数据数量是否一致。数量对比类型可以表征对比反馈结果包含的数据数量。确定上述待对比反馈结果对应的数据数量与上述标准反馈结果对应的数据数量是否相同。第三子步骤，响应于确定上述待对比反馈结果对应的数据数量与上述标准反馈结果对应的数据数量不一致，将上述待对比反馈结果对应的待检测数据库系统确定为异常数据库系统。可选地，上述处理步骤还包括：第四子步骤，响应于确定上述对比类型为内容对比类型，确定上述待对比反馈结果包括的数据内容与上述标准反馈结果包括的数据内容是否一致。内容对比类型可以表征对比反馈结果包含的内容。即，确定上述待对比反馈结果包括的数据内容与上述标准反馈结果包括的数据内容是否相同。第五子步骤，响应于确定上述待对比反馈结果包括的数据内容与上述标准反馈结果包括的数据内容不一致，将上述待对比反馈结果对应的待检测数据库系统确定为异常数据库系统。第六子步骤，响应于确定上述待对比反馈结果对应的数据数量与上述标准反馈结果对应的数据数量一致，重新构建目标语法树，以及根据重新构建的目标语法树，再次对上述待检测数据库系统进行检测。这里，重新构建目标语法树的方式，可以参见构建目标语法树的方式，在此不再赘述。这里，再次对上述待检测数据库系统进行检测的方式可以参见步骤105中的描述，在此不再赘述。步骤106，响应于检测到上述各个数据库系统中任一数据库系统宕机，记录上述查询字符串，以及将宕机的数据库系统确定为异常数据库系统。在一些实施例中，上述执行主体可以响应于检测到上述各个数据库系统中任一数据库系统宕机，记录上述查询字符串，以及将宕机的数据库系统确定为异常数据库系统。这里，数据库系统宕机可以是指数据库系统死机卡顿。可选地，数据库系统响应于接收到上述查询字符串，根据设定的处理模式，对上述查询字符串包括的每个表列信息，执行以下步骤：第一步，响应于确定上述处理模式为第一处理模式，从上述表列信息包括的各个列信息中选择前预设数量个列信息作为子反馈结果。其中，上述表列信息包括的各个列信息具有排列顺序。第一处理模式可以表示从上述表列信息包括的各个列信息中选择预设数量个列信息。第二步，响应于确定上述处理模式为第二处理模式，从上述表列信息包括的各个列信息中选择满足目标条件的各个列信息作为子反馈结果。第二处理模式可以表现选择包括的指标值大于设定数值的列信息。目标条件可以是：列信息包括的指标值大于设定数值。可选地，上述数据库系统将生成的各个子反馈结果组合为反馈结果，以及将上述反馈结果发送至目标服务器。在一些实施例中，上述数据库系统可以将生成的各个子反馈结果组合为反馈结果，以及将上述反馈结果发送至目标服务器。组合可以是指拼接。目标服务器可以是指上述执行主体。上述相关内容作为本公开的一个发明点，解决了背景技术提及的技术问题二“检测时间较长。”。检测时间较长的因素往往如下：对数据库检测效率较低。如果解决了上述因素，就能达到降低检测时间的效果。为了达到这一效果，首先，确定上述各个数据库系统中的标准数据库系统。由此，可以利用标准数据库系统，对其它数据库系统进行比对检测。其次，将上述标准数据库系统对应的反馈结果确定为标准反馈结果。由此，可以利用标准反馈结果对其它数据库系统输出的结果进行对比检测。接着，将去除了上述标准数据库系统的各个数据库系统确定为待检测数据库系统组。然后，将上述待检测数据库系统组对应的各个反馈结果确定为待对比反馈结果组。最后，根据上述标准反馈结果与上述待对比反馈结果组，对上述待检测数据库系统组进行检测。由此，可以通过标准反馈结果，同时对多个数据库系统进行检测，从而，提升了数据库检测效率，缩短了检测时间较长。可选地，将去除了各个异常数据库系统的各个数据库系统确定为可使用数据库系统组。在一些实施例中，上述执行主体可以将去除了各个异常数据库系统的各个数据库系统确定为可使用数据库系统组。可选地，对于上述各个异常数据库系统中的每个异常数据库系统，执行如下处理步骤：第一步，将上述异常数据库系统存储的各个数据信息表迁移至预设的数据表缓存池中。这里，各个数据信息表可以是指异常数据库系统存储的各个数据表。数据表缓存池可以是指用于缓存异常数据库系统存储的数据信息表的缓存节点。第二步，确定上述数据表缓存池中缓存的各个数据信息表的数据内存容量。即，确定各个数据信息表对应的数据容量。第三步，确定上述可使用数据库系统组中每个可使用数据库系统当前的可用内存，得到可用内存组。这里，可用内存可以是指当前可使用数据库系统的可运行内存。第四步，将上述可用内存组中大于上述数据内存容量的可用内存确定为可迁移内存，得到可迁移内存组。第五步，将上述可迁移内存组中数值最小的可迁移内存对应的可使用数据库系统确定为目标数据库系统。第六步，将上述数据表缓存池中缓存的各个数据信息表迁移至上述目标数据库系统中。上述第一步-第六步中相关内容作为本公开的一个发明点，解决了背景技术提及的技术问题三“容易造成异常数据库系统中的数据表丢失。”。容易造成异常数据库系统中的数据表丢失的因素往往如下当数据库系统异常时，通常需要技术人员进行维修后，才可以读取数据库系统中的数据表。如果解决了上述因素，就能达到避免异常数据库系统中的数据表丢失的效果。为了达到这一效果，首先，将上述异常数据库系统存储的各个数据信息表迁移至预设的数据表缓存池中。由此，可以对异常数据库系统中的数据表进行暂时缓存。其次，确定上述数据表缓存池中缓存的各个数据信息表的数据内存容量。再其次，确定上述可使用数据库系统组中每个可使用数据库系统当前的可用内存，得到可用内存组。接着，将上述可用内存组中大于上述数据内存容量的可用内存确定为可迁移内存，得到可迁移内存组。由此，便于将各个数据信息表迁移至可运行的数据库系统中。然后，将上述可迁移内存组中数值最小的可迁移内存对应的可使用数据库系统确定为目标数据库系统。由此，可以使得数据库的运行资源得到最大化的利用。最后，将上述数据表缓存池中缓存的各个数据信息表迁移至上述目标数据库系统中。由此，可以避免异常数据库系统中的数据表丢失。进一步参考图2，作为对上述各图所示方法的实现，本公开提供了一种数据库检测装置的一些实施例，这些数据库检测装置实施例与图1所示的那些方法实施例相对应，该数据库检测装置具体可以应用于各种电子设备中。如图2所示，一些实施例的数据库检测装置200包括：读取单元201、构建单元202、选择单元203、合并单元204、检测单元205和确定单元206。其中，读取单元201，被配置成读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集；构建单元202，被配置成根据上述表列信息集，构建查询语法树；选择单元203，被配置成从上述查询语法树中选择满足目标条件的表列语句作为目标表列语句，得到目标表列语句组，以及根据上述目标表列语句组，构建目标语法树；合并单元204，被配置成将上述目标语法树包括的各个字符合并为查询字符串；检测单元205，被配置成将上述查询字符串发送至预设的各个数据库系统，以及响应于接收到上述各个数据库系统发送的反馈结果，对上述各个数据库系统进行检测；确定单元206，被配置成响应于检测到上述各个数据库系统中任一数据库系统宕机，记录上述查询字符串，以及将宕机的数据库系统确定为异常数据库系统。可选地，检测单元205，被进一步配置成：确定上述各个数据库系统中的标准数据库系统；将上述标准数据库系统对应的反馈结果确定为标准反馈结果；将去除了上述标准数据库系统的各个数据库系统确定为待检测数据库系统组；将上述待检测数据库系统组对应的各个反馈结果确定为待对比反馈结果组；根据上述标准反馈结果与上述待对比反馈结果组，对上述待检测数据库系统组进行检测。可选地，检测单元205，被进一步配置成：对于上述待对比反馈结果组中的每个待对比反馈结果，执行如下处理步骤：确定上述待对比反馈结果对应的对比类型；响应于确定上述对比类型为数量对比类型，确定上述待对比反馈结果对应的数据数量与上述标准反馈结果对应的数据数量是否一致；响应于确定上述待对比反馈结果对应的数据数量与上述标准反馈结果对应的数据数量不一致，将上述待对比反馈结果对应的待检测数据库系统确定为异常数据库系统。可选地，检测单元205，被进一步配置成：响应于确定上述对比类型为内容对比类型，确定上述待对比反馈结果包括的数据内容与上述标准反馈结果包括的数据内容是否一致；响应于确定上述待对比反馈结果包括的数据内容与上述标准反馈结果包括的数据内容不一致，将上述待对比反馈结果对应的待检测数据库系统确定为异常数据库系统；响应于确定上述待对比反馈结果对应的数据数量与上述标准反馈结果对应的数据数量一致，重新构建目标语法树，以及根据重新构建的目标语法树，再次对上述待检测数据库系统进行检测。可选地，数据库检测装置200，还包括：信息选择单元，被配置成：数据库系统响应于接收到上述查询字符串，根据设定的处理模式，对上述查询字符串包括的每个表列信息，执行以下步骤：响应于确定上述处理模式为第一处理模式，从上述表列信息包括的各个列信息中选择前预设数量个列信息作为子反馈结果，其中，上述表列信息包括的各个列信息具有排列顺序；响应于确定上述处理模式为第二处理模式，从上述表列信息包括的各个列信息中选择满足目标条件的各个列信息作为子反馈结果；发送单元，被配置成：上述数据库系统将生成的各个子反馈结果组合为反馈结果，以及将上述反馈结果发送至目标服务器。可选地，构建单元202，被进一步配置成：对于上述表列信息集中的每个表列信息，将上述表列信息包括的各个字符合并为表列语句；根据各个表列语句，构建查询语法树。可以理解的是，该数据库检测装置200中记载的诸单元与参考图1描述的方法中的各个步骤相对应。由此，上文针对方法描述的操作、特征以及产生的有益效果同样适用于数据库检测装置200及其中包含的单元，在此不再赘述。下面参考图3，其示出了适于用来实现本公开的一些实施例的电子设备300的结构示意图。本公开的一些实施例中的电子设备可以包括但不限于诸如移动电话、笔记本电脑、数字广播接收器、PDA、PAD、PMP、车载终端等等的移动终端以及诸如数字TV、台式计算机等等的固定终端。图3示出的电子设备仅仅是一个示例，不应对本公开的实施例的功能和使用范围带来任何限制。如图3所示，电子设备300可以包括处理装置301，其可以根据存储在只读存储器302中的程序或者从存储装置308加载到随机访问存储器303中的程序而执行各种适当的动作和处理。在RAM303中，还存储有电子设备300操作所需的各种程序和数据。处理装置301、ROM302以及RAM303通过总线304彼此相连。输入/输出接口305也连接至总线304。通常，以下装置可以连接至I/O接口305：包括例如触摸屏、触摸板、键盘、鼠标、摄像头、麦克风、加速度计、陀螺仪等的输入装置306；包括例如液晶显示器、扬声器、振动器等的输出装置307；包括例如磁带、硬盘等的存储装置308；以及通信装置309。通信装置309可以允许电子设备300与其他设备进行无线或有线通信以交换数据。虽然图3示出了具有各种装置的电子设备300，但是应理解的是，并不要求实施或具备所有示出的装置。可以替代地实施或具备更多或更少的装置。图3中示出的每个方框可以代表一个装置，也可以根据需要代表多个装置。特别地，根据本公开的一些实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本公开的一些实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的一些实施例中，该计算机程序可以通过通信装置309从网络上被下载和安装，或者从存储装置308被安装，或者从ROM302被安装。在该计算机程序被处理装置301执行时，执行本公开的一些实施例的方法中限定的上述功能。需要说明的是，本公开的一些实施例中记载的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是——但不限于——电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本公开的一些实施例中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。而在本公开的一些实施例中，计算机可读信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读信号介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括但不限于：电线、光缆、RF等等，或者上述的任意合适的组合。在一些实施方式中，客户端、服务器可以利用诸如HTTP之类的任何当前已知或未来研发的网络协议进行通信，并且可以与任意形式或介质的数字数据通信互连。通信网络的示例包括局域网，广域网，网际网以及端对端网络，以及任何当前已知或未来研发的网络。上述计算机可读介质可以是上述电子设备中所包含的；也可以是单独存在，而未装配入该电子设备中。上述计算机可读介质承载有一个或者多个程序，当上述一个或者多个程序被该电子设备执行时，使得该电子设备：读取目标数据库中存储的各个数据表对应的表列信息，得到表列信息集；根据上述表列信息集，构建查询语法树；从上述查询语法树中选择满足目标条件的表列语句作为目标表列语句，得到目标表列语句组，以及根据上述目标表列语句组，构建目标语法树；将上述目标语法树包括的各个字符合并为查询字符串；将上述查询字符串发送至预设的各个数据库系统，以及响应于接收到上述各个数据库系统发送的反馈结果，对上述各个数据库系统进行检测；响应于检测到上述各个数据库系统中任一数据库系统宕机，记录上述查询字符串，以及将宕机的数据库系统确定为异常数据库系统。可以以一种或多种程序设计语言或其组合来编写用于执行本公开的一些实施例的操作的计算机程序代码，上述程序设计语言包括面向对象的程序设计语言—诸如Java、Smalltalk、C++，还包括常规的过程式程序设计语言—诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络——包括局域网或广域网——连接到用户计算机，或者，可以连接到外部计算机。附图中的流程图和框图，图示了按照本公开各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，该模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本公开的一些实施例中的单元可以通过软件的方式实现，也可以通过硬件的方式来实现。所描述的单元也可以设置在处理器中，例如，可以描述为：一种处理器包括读取单元、构建单元、选择单元、合并单元、检测单元和确定单元。其中，这些单元的名称在某种情况下并不构成对该单元本身的限定，例如，检测单元还可以被描述为“将上述查询字符串发送至预设的各个数据库系统，以及响应于接收到上述各个数据库系统发送的反馈结果，对上述各个数据库系统进行检测的单元”。本文中以上描述的功能可以至少部分地由一个或多个硬件逻辑部件来执行。例如，非限制性地，可以使用的示范类型的硬件逻辑部件包括：现场可编程门阵列、专用集成电路、专用标准产品、片上系统、复杂可编程逻辑设备等等。以上描述仅为本公开的一些较佳实施例以及对所运用技术原理的说明。本领域技术人员应当理解，本公开的实施例中所涉及的发明范围，并不限于上述技术特征的特定组合而成的技术方案，同时也应涵盖在不脱离上述发明构思的情况下，由上述技术特征或其等同特征进行任意组合而形成的其它技术方案。例如上述特征与本公开的实施例中公开的具有类似功能的技术特征进行互相替换而形成的技术方案。
