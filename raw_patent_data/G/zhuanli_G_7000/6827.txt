标题title
显示屏的显示补偿方法、补偿装置及显示装置
摘要abst
本发明实施例公开一种显示屏的显示补偿方法、补偿装置及显示装置。在一具体实施方式中，该方法包括：获取显示屏在设定亮度等级及灰阶下的显示画面的第一图像，对参考图像与第一图像进行灰阶差值运算得到第三图像；确定第三图像中对应显示屏的第二显示区域与第一显示区域中的各像素点的每一颜色通道灰阶数据的差值的最大值作为显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值，根据灰阶补偿最大值与像素点的寿命补偿计数值最大值建立线性对应关系；根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿。
权利要求书clms
1.一种显示屏的显示补偿方法，其特征在于，包括：获取通过图像采集得到的显示屏在设定亮度等级及设定灰阶下的显示画面的第一图像，对作为参考图像的第二图像与所述第一图像进行灰阶差值运算得到第三图像，其中，所述显示屏的显示区域包括第一显示区域和第二显示区域，所述第二显示区域为屏下摄像头显示区域；确定所述第三图像中对应显示屏的第二显示区域中的各像素点的每一颜色通道灰阶数据与所述第三图像中对应显示屏的第一显示区域中的像素点的对应颜色通道灰阶数据的差值的最大值作为显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值，根据所述显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系；根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿。2.根据权利要求1所述的方法，其特征在于，所述显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系包括：将显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值对应显示屏的第二显示区域中各像素点的寿命补偿计数值的最大值且将灰阶补偿零值对应寿命补偿计数值零值以建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系。3.根据权利要求2所述的方法，其特征在于，所述将显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值对应显示屏的第二显示区域中各像素点的寿命补偿计数值的最大值且将灰阶补偿零值对应寿命补偿计数值零值以建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系包括：将显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值对应显示屏的第二显示区域中各像素点的寿命补偿计数值的最大值且将灰阶补偿零值对应寿命补偿计数值零值以通过线性插值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系。4.根据权利要求1所述的方法，其特征在于，所述根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿包括：根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值；根据亮度等级修正系数及灰阶修正系数对确定的各像素点的每一颜色通道的灰阶补偿值进行修改，并根据修改后的各像素点的每一颜色通道的灰阶补偿值进行显示补偿，其中，所述亮度等级修正系数及灰阶修正系数根据当前亮度等级及灰阶、所述设定亮度等级及设定灰阶确定。5.根据权利要求1所述的方法，其特征在于，所述第二图像根据所述第一图像中对应显示屏的第一显示区域中的设定像素点的灰阶数据生成。6.根据权利要求5所述的方法，其特征在于，所述显示屏的第一显示区域中的设定像素点为所述显示屏的第一显示区域的中心像素点。7.根据权利要求1所述的方法，其特征在于，所述设定亮度等级为显示屏的最低亮度等级，所述设定灰阶为255。8.根据权利要求1所述的方法，其特征在于，该方法还包括：将建立的所述线性对应关系存储于查找表LUT中。9.一种显示屏的显示补偿装置，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1-8中任一项所述的方法。10.一种显示装置，其特征在于，包括显示屏及如权利要求9所述的显示补偿装置。
说明书desc
技术领域本发明涉及显示技术领域。更具体地，涉及一种显示屏的显示补偿方法、补偿装置及显示装置。背景技术目前，由于屏下摄像头显示区域的ITO走线的设计缺陷，导致屏下摄像头显示区域会出现彩色竖向Mura，在高亮度高灰阶R/G/B电流比较大时，该效应不明显，在低亮度低灰阶R/G/B电流比较小时，该效应会十分明显，严重影响低亮度低灰阶下的Gamma效果，且利用外部补偿也不能很好地改善。发明内容本发明的目的在于提供一种显示屏的显示补偿方法、补偿装置及显示装置，以解决现有技术存在的问题中的至少一个。为达到上述目的，本发明采用下述技术方案：本发明第一方面提供了一种显示屏的显示补偿方法，包括：获取通过图像采集得到的显示屏在设定亮度等级及设定灰阶下的显示画面的第一图像，对作为参考图像的第二图像与所述第一图像进行灰阶差值运算得到第三图像，其中，所述显示屏的显示区域包括第一显示区域和第二显示区域，所述第二显示区域为屏下摄像头显示区域；确定所述第三图像中对应显示屏的第二显示区域中的各像素点的每一颜色通道灰阶数据与所述第三图像中对应显示屏的第一显示区域中的像素点的对应颜色通道灰阶数据的差值的最大值作为显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值，根据所述显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系；根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿。本发明第一方面提供的显示屏的显示补偿方法，首先可以获取显示屏在设定亮度等级及设定灰阶下的显示画面的第一图像；其次可以获取作为参考图像的第二图像，对第二图像与第一图像进行灰阶差值运算得到第三图像，其中，显示屏的显示区域包括第一显示区域和第二显示区域，第二显示区域为屏下摄像头显示区域；然后确定显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值，根据显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系；最后根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿，该方法能够将显示屏的屏下摄像头显示区域中的设定亮度等级及设定灰阶下的各像素点的每一个通道的灰阶数据逐一提取并进行补偿，最终实现对显示屏在设定亮度等级及设定灰阶下的屏下摄像头显示区域的亮度和色度差异做出精确的调整和补偿，提高了显示补偿的效果。可选地，所述显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系包括：将显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值对应显示屏的第二显示区域中各像素点的寿命补偿计数值的最大值且将灰阶补偿零值对应寿命补偿计数值零值以建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系。此可选方式，可建立显示屏在设定亮度等级及设定灰阶下的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系。可选地，所述将显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值对应显示屏的第二显示区域中各像素点的寿命补偿计数值的最大值且将灰阶补偿零值对应寿命补偿计数值零值以建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系包括：将显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值对应显示屏的第二显示区域中各像素点的寿命补偿计数值的最大值且将灰阶补偿零值对应寿命补偿计数值零值以通过线性插值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系。此可选方式，可得到显示屏在设定亮度等级及设定灰阶下的第二显示区域中每一颜色通道的所有像素点的寿命补偿计数值对应的灰阶补偿值。可选地，所述根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿包括：根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值；根据亮度等级修正系数及灰阶修正系数对确定的各像素点的每一颜色通道的灰阶补偿值进行修改，并根据修改后的各像素点的每一颜色通道的灰阶补偿值进行显示补偿，其中，所述亮度等级修正系数及灰阶修正系数根据当前亮度等级及灰阶、所述设定亮度等级及设定灰阶确定。此可选方式，根据显示屏在设定亮度等级及设定灰阶下的显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据亮度等级修正系数及灰阶修正系数对确定的各像素点的每一颜色通道的灰阶补偿值进行修改，并根据修改后的各像素点的每一颜色通道的灰阶补偿值进行显示补偿，即针对不同亮度等级及不同灰阶均有可以独立调整的参数用以保证显示屏在不同亮度等级及不同灰阶下的屏下摄像头显示区域的亮度和色度的补偿效果。可选地，所述第二图像根据所述第一图像中对应显示屏的第一显示区域中的设定像素点的灰阶数据生成。可选地，所述显示屏的第一显示区域中的设定像素点为所述显示屏的第一显示区域的中心像素点。可选地，所述设定亮度等级为显示屏的最低亮度等级，所述设定灰阶为255。可将显示屏的屏下摄像头显示区域中的最低亮度等级下的出现最严重的彩色竖向Mura的效应的灰阶的每一颜色通道的各像素点的灰阶值逐一提取并进行补偿，实现对屏下摄像头显示区域的最低亮度等级和最大色度差异做出精确的调整和补偿。可选地，该方法还包括：将建立的所述线性对应关系存储于查找表LUT中。本发明第二方面提供了一种显示屏的显示补偿装置，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如本发明第一方面所述的方法。本发明第三方面提供了一种显示装置，包括显示屏及如本发明第二方面所述的显示补偿装置。本发明的有益效果如下：本发明所述技术方案，首先可以获取显示屏在设定亮度等级及设定灰阶下的显示画面的第一图像；其次可以获取作为参考图像的第二图像，对第二图像与第一图像进行灰阶差值运算得到第三图像，其中，显示屏的显示区域包括第一显示区域和第二显示区域，第二显示区域为屏下摄像头显示区域；然后确定显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值，根据显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系；最后根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿，该方法能够将显示屏的屏下摄像头显示区域中的设定亮度等级及设定灰阶下的各像素点的每一个通道的灰阶数据逐一提取并进行补偿，最终实现对显示屏在设定亮度等级及设定灰阶下的屏下摄像头显示区域的亮度和色度差异做出精确的调整和补偿，提高了显示补偿的效果。附图说明下面结合附图对本发明的具体实施方式作进一步详细的说明。图1示出现有技术中屏下摄像头显示区域出现彩色竖向Mura的示意图。图2示出现有技术中屏下摄像头显示区域ITO寄生电容特性示意图。图3示出本发明实施例提供的显示屏的显示补偿方法的流程图。图4示出本发明实施例提供的2nit Gray255屏下摄像头显示区域理想补偿图像的示意图。图5示出本发明实施例提供的查找表LUT1红色通道的所有像素点的寿命补偿计数值与灰阶补偿值的线性对应关系示意图。图6示出本发明实施例提供的不同亮度等级下灰阶与灰阶补偿值的对应关系示意图。图7示出2nit 255Gray屏下摄像头显示区域彩色竖向Mura的示意图。图8示出使用本发明实施例提供的显示屏的显示补偿方法对显示屏在2nit255Gray屏下摄像头显示区域的彩色竖向Mura进行补偿后的效果示意图。具体实施方式为了更清楚地说明本发明，下面结合实施例和附图对本发明做进一步的说明。附图中相似的部件以相同的附图标记进行表示。本领域技术人员应当理解，下面所具体描述的内容是说明性的而非限制性的，不应以此限制本发明的保护范围。当前屏下摄像头显示区域，例如OLED屏幕的屏下摄像头显示区域的ITO走线的设计缺陷，导致屏下摄像头显示区域出现彩色竖向Mura，如图1所示，该效应的出现会严重影响屏下摄像头显示区域的显示效果。其中，ITO走线的设计缺陷例如ITO长短不一，负载不同，ITO层与层之间寄生电容在不同位置也存在很大差异，图2示出屏下摄像头区域ITO电容特性图，其中，横坐标表示显示屏的坐标位置参数，单位为毫米，横坐标的0点表示OLED屏幕的横向正中间位置；纵坐标表示寄生电容的相对大小，寄生电容越大，造成屏下摄像头显示区域出现彩色竖向Mura的情况会越严重，这导致屏下摄像头显示区域的显示差异，即R/G/B子像素发光效率不同，电流也不同，电流大小为IB＞IR＞IG。由于寄生电容的影响，G像素电流小充电慢，所以发光时间短。在高亮度高灰阶R/G/B电流比较大时，此效应不明显；在低亮度低灰阶R/G/B电流比较小时，此效应会十分严重，影响低亮度低灰阶下的Gamma效果。有鉴于此，本发明的一个实施例提供了一种显示屏的显示补偿方法，具体为一种针对屏下摄像头显示区域的彩色竖向Mura的Deburn-In优化方法，如图3所示，本实施例提供的显示补偿方法包括如下步骤：S1、获取通过图像采集得到的显示屏在设定亮度等级及设定灰阶下的显示画面的第一图像，对作为参考图像的第二图像与所述第一图像进行灰阶差值运算得到第三图像。在一个具体示例中，可驱动显示屏显示在设定亮度等级及设定灰阶下的白画面或彩色画面，其中，可任意设定各个不同的亮度等级，例如2nit、6nit、10nit、14nit等；也可以任意设定不同大小的灰阶，例如16Gray、32Gray、64Gray、96Gray、128Gray、160Gray、192Gray、224Gray、255Gray等；具体可由屏下摄像头区域彩色竖向Mura严重情况进行选取。本实施例选取通常来说屏下摄像头区域彩色竖向Mura最严重的情况下的亮度及灰阶，即亮度等级为2nit，灰阶为255Gray。显示屏整个显示区域的显示画面可由工业相机等图像采集设备对显示屏在2nit255Gray下的整个显示区域进行拍照获得，其中，工业相机一般采用高分辨率和高精度的CCD或COMS照相机，相机分辨率的选择取决于被采集图像的显示屏的分辨率、尺寸、拍摄距离以及显示补偿的设定精度等因素。通过Matlab可读取显示屏在2nit 255Gray下的整个显示区域的显示画面中各位置的红色灰阶数据、绿色灰阶数据及蓝色灰阶数据。在本实施例中，所述显示屏的显示区域包括第一显示区域和第二显示区域，所述第二显示区域为屏下摄像头显示区域；所述第一显示区域为所述显示屏除屏下摄像头显示区域外的其它显示区域。第一显示区域和第二显示区域都包括任一设定亮度等级及任一设定灰阶下的红色显示画面、绿色显示画面和蓝色显示画面。在一种可能的实现方式中，第二图像根据所述第一图像中对应显示屏的第一显示区域中的设定像素点的灰阶数据生成。在一种优选的实现方式中，所述显示屏的第一显示区域中的设定像素点为所述显示屏的第一显示区域的中心像素点。在一个具体示例中，取显示屏除屏下摄像头显示区域外的其它显示区域的中心点位的灰阶数据生成一张纯色的参考图像。将生成的纯色的参考图像的灰阶数据与显示屏在2nit 255Gray下的整个显示区域的显示画面的灰阶数据进行灰阶差值运算得到理想补偿图像，如图4所示。在一种可能的实现方式中，所述设定亮度等级为显示屏的最低亮度等级，所述设定灰阶为255。例如本实施例中设定亮度等级为2nit，设定灰阶为255Gray。此实现方式，可将显示屏的屏下摄像头显示区域中的最低亮度等级下的出现最严重的彩色竖向Mura的灰阶的每一颜色通道的像素点的灰阶值逐一提取并进行补偿，实现对屏下摄像头显示区域的最低亮度等级和最大色度差异做出精确的调整和补偿。S2、确定所述第三图像中对应显示屏的第二显示区域中的各像素点的每一颜色通道灰阶数据与所述第三图像中对应显示屏的第一显示区域中的像素点的对应颜色通道灰阶数据的差值的最大值作为显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值，根据所述显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系。在一个具体示例中，分别获取理想补偿图像中对应显示屏的屏下摄像头显示区域中的各像素点的每一颜色通道包括红色、绿色及蓝色共三个通道的灰阶数据，并获取理想补偿图像中对应显示屏除屏下摄像头显示区域外的其它显示区域中的各像素点的对应红色、绿色和蓝色通道的灰阶数据，将理想补偿图像中对应显示屏的屏下摄像头显示区域中的各像素点的每一颜色通道的灰阶数据与理想补偿图像中对应显示屏除屏下摄像头显示区域外的其它显示区域中的各像素点的对应的通道的灰阶数据作差值，获得每一个颜色通道的灰阶数据的最大差值，分别作为显示屏的屏下摄像头显示区域中红色、绿色和蓝色通道的灰阶补偿最大值，即在红色、绿色和蓝色通道均有一个灰阶补偿最大值。根据所述显示屏的屏下摄像头显示区域中红色、绿色和蓝色通道的灰阶补偿最大值建立显示屏的屏下摄像头显示区域中像素点的红色、绿色和蓝色通道的灰阶补偿值与红色、绿色和蓝色通道像素点的寿命补偿计数值的线性对应关系。在一种可能的实现方式中，所述显示屏的屏下摄像头显示区域中每一颜色通道的灰阶补偿最大值建立显示屏的屏下摄像头显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系包括：将显示屏的屏下摄像头显示区域中每一颜色通道的灰阶补偿最大值对应显示屏的屏下摄像头显示区域中各像素点的寿命补偿计数值的最大值且将灰阶补偿零值对应寿命补偿计数值零值以建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系。在一个具体示例中，显示屏的屏下摄像头显示区域中红色、绿色和蓝色通道的灰阶补偿值与显示屏的屏下摄像头显示区域中红色、绿色和蓝色通道的各像素点的寿命补偿计数值成线性对应关系，本实施例中将显示屏的屏下摄像头显示区域中每一颜色通道的灰阶补偿最大值与显示屏的屏下摄像头显示区域中各像素点的寿命补偿计数值的最大值对应，将显示屏的屏下摄像头显示区域中每一颜色通道的灰阶补偿零值与显示屏的屏下摄像头显示区域中各像素点的寿命补偿计数值零值对应，显示屏的屏下摄像头显示区域中红色、绿色和蓝色通道的灰阶补偿值与各像素点的寿命补偿计数值的线性对应关系即可确定。其中，寿命补偿计数值是根据像素显示信息的记录和显示器件寿命模型，累计计算显示器件的老化程度，然后基于老化程度对像素亮度进行补偿，使得像素亮度不受显示器件发光效率衰减的影响。显示屏的显示区域可以划分为多个像素区域，每个像素区域可以包括多个像素单元，例如8*8的像素单元可以划分为一个像素区域，从而每个像素区域则包括多个子像素。所述寿命补偿计数值可以通过data counting模式，记录每个像素区域从显示屏开始使用时的老化值之和，从而得到每个像素区域的老化参数A，A＝A0+A1+A2....+An，Ai为第i个子像素的老化值，其中，0≤i≤n。在一种可能的实现方式中，所述将显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值对应显示屏的第二显示区域中各像素点的寿命补偿计数值的最大值且将灰阶补偿零值对应寿命补偿计数值零值以建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系包括：将显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值对应显示屏的第二显示区域中各像素点的寿命补偿计数值的最大值且将灰阶补偿零值对应寿命补偿计数值零值以通过线性插值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系。在一个具体示例中，寿命补偿计数值从零值到寿命补偿计数值的最大值的区间范围确定，显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系也已经建立，将寿命补偿计数值从0到寿命补偿计数值的最大值的区间内进行线性插值，将线性插值对应的各像素点的寿命补偿计数值带入该线性对应关系，得到显示屏在该设定亮度等级及设定灰阶下的第二显示区域中每一颜色通道的各像素点的寿命补偿计数值对应的灰阶补偿值。此实现方式，可得到显示屏在设定亮度等级及设定灰阶下的第二显示区域中每一颜色通道的所有像素点的寿命补偿计数值对应的灰阶补偿值。在一种可能的实现方式中，该方法还包括：将建立的所述线性对应关系存储于查找表LUT中。在本发明实施例中，步骤S1和步骤S2为预先标定阶段，在预先标定阶段，利用线性插值得到某亮度等级某灰阶下的每一个通道所有像素点的查找表LUT。其中，红色通道单独对应一个查找表LUT1，绿色通道单独对应一个查找表LUT2，蓝色通道单独对应一个查找表LUT3，查找表LUT1、LUT2、LUT3分别为红色、绿色和蓝色通道的所有像素点的寿命补偿计数值与灰阶补偿值的线性对应关系。如图5所示，亮度等级为2nit，灰阶为255Gray的显示屏的屏下摄像头显示画面的红色通道的所有像素点的寿命补偿计数值与灰阶补偿值的线性对应关系的查找表LUT1，其中横坐标α为寿命补偿计数值，纵坐标β为灰阶补偿值。S3、根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿。在本发明实施例中，步骤S3为实际使用中的补偿阶段，根据上述寿命补偿计数值通过data counting模式，记录每个像素区域从显示屏开始使用时的老化值之和的计算方法，获取显示屏在2nit 255Gray下的显示过程中屏下摄像头显示区域中各像素点当前的寿命补偿计数值，根据显示屏在2nit 255Gray下的显示过程中屏下摄像头显示区域中各像素点当前的寿命补偿计数值及线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿，补偿后的灰阶值的计算公式为：Gout＝Gin+Offset其中，Gin待补偿的灰阶值，Offset为灰阶补偿值，灰阶补偿值可通过查找表LUT得到，红色通道查找LUT1，绿色通道查找LUT2，蓝色通道查找LUT3，Gout为补偿后的灰阶值。在一种可能的实现方式中，所述根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿包括：根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及所述线性对应关系确定各像素点的每一颜色通道的灰阶补偿值；根据亮度等级修正系数及灰阶修正系数对确定的各像素点的每一颜色通道的灰阶补偿值进行修改，并根据修改后的各像素点的每一颜色通道的灰阶补偿值进行显示补偿，其中，所述亮度等级修正系数及灰阶修正系数根据当前亮度等级及灰阶、所述设定亮度等级及设定灰阶确定。在一个具体示例中，由于屏下摄像头区域Mura在不同亮度等级及不同灰阶下的程度不同，获取显示屏在某一亮度等级及某一灰阶例如本实施例中的2nit 255Gray下的显示过程中屏下摄像头显示区域中各像素点当前的寿命补偿计数值及线性对应关系确定各像素点的每一颜色通道的灰阶补偿值后，需要对确定的各像素点的每一颜色通道的灰阶补偿值进行亮度等级修正及灰阶修正，得到修改后的各像素点的每一颜色通道的灰阶补偿值，并根据修改后的各像素点的每一颜色通道的灰阶补偿值进行显示补偿，补偿后的灰阶值的计算公式为：Gout＝Gin+Offset*DBV_Scaler*Gray_Scaler其中，Gin待补偿的灰阶值；Offset为灰阶补偿值；DBV_Scalar为亮度等级修正系数，用于修正不同亮度等级下的灰阶补偿值；Gray_Scaler为灰阶修正系数，用于修正不同灰阶下的灰阶补偿值；Gout为补偿后的灰阶值。图6示出了不同亮度等级下灰阶与灰阶补偿值的关系示意图，横坐标Gray为灰阶，纵坐标Offset为灰阶补偿值，ODS_1case表示为最高亮度等级下灰阶与灰阶补偿值对应的曲线关系，ODS_2case为次高亮度等级下灰阶与灰阶补偿值对应的曲线关系，ODS_Ncase为最暗亮度等级下灰阶与灰阶补偿值对应的曲线关系，对应到本实施例中，ODS_Ncase例如为2nit亮度等级下灰阶与灰阶补偿值对应的曲线关系。根据图6所示的各条曲线，即可根据不同亮度等级及不同灰阶对应的灰阶补偿值之间的变化规律，得到亮度等级修正系数DBV_Scalar和灰阶修正系数Gray_Scaler。例如，关于图6所示的ODS_Ncase曲线，可以采用下述方式得到：例如本实施例中步骤S1-S2中获得2nit 255Gray的各像素点的每一颜色通道的最大灰阶补偿值，可以在预先标定阶段对2nit亮度等级下的其余绑点灰阶，例如图6中的0Gray、2Gray、4Gray、8Gray、16Gray、32Gray、64Gray、128Gray的显示画面进行类似S1-S2步骤的最大灰阶补偿值获取，再将获取的2nit亮度等级下的0Gray、2Gray、4Gray、8Gray、16Gray、32Gray、64Gray、128Gray、256Gray中的相邻两个绑点灰阶对应的最大灰阶补偿值进行线性插值，即可得到ODS_Ncase曲线。例如ODS_1case、ODS_2case等其他曲线的确定方式可以采用类似上述的ODS_Ncase曲线的确定方式来确定，也可以根据ODS_Ncase曲线和不同亮度等级及灰阶的例如关系模型映射得到，即，不同的亮度等级可以以预先设定的亮度等级及灰阶为基准，通过例如关系模型映射得到其他亮度等级下灰阶与灰阶补偿值对应的曲线关系。补偿时，显示屏所属的例如智能手机等终端设备可以确定显示屏的亮度等级，也可以确定当前亮度等级下灰阶，这些信息传输到手机的驱动IC，而LUT表存储在驱动IC的存储组件中，驱动IC根据LUT表查找当前灰阶补偿数据、亮度等级修正系数及灰阶修正系数，之后便可计算得到待补偿的灰阶值并基于其进行显示补偿。补偿前，2nit 255Gray屏下摄像头显示区域彩色竖向Mura如图7所示，使用本发明实施例提供的显示屏的显示补偿方法对显示屏在2nit 255Gray屏下摄像头显示区域彩色竖向Mura进行补偿后的效果图如图8所示，补偿后，解决了屏下摄像头显示区域出现彩色竖向Mura的问题。本实施例提供的显示屏的显示补偿方法，首先可以获取显示屏在设定亮度等级及设定灰阶下的显示画面的第一图像；其次可以获取作为参考图像的第二图像，对第二图像与第一图像进行灰阶差值运算得到第三图像，其中，显示屏的显示区域包括第一显示区域和第二显示区域，第二显示区域为屏下摄像头显示区域；然后确定显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值，根据显示屏的第二显示区域中每一颜色通道的灰阶补偿最大值建立显示屏的第二显示区域中像素点的每一颜色通道的灰阶补偿值与像素点的寿命补偿计数值的线性对应关系；最后根据显示屏在显示过程中第二显示区域中各像素点当前的寿命补偿计数值及线性对应关系确定各像素点的每一颜色通道的灰阶补偿值，根据确定的各像素点的每一颜色通道的灰阶补偿值进行显示补偿，该方法能够将显示屏的屏下摄像头显示区域中的设定亮度等级及设定灰阶下的各像素点的每一个通道的灰阶数据逐一提取并进行补偿及补偿修正，最终实现对显示屏的屏下摄像头显示区域的亮度和色度差异做出精确的调整和补偿，提高了显示补偿的效果。本发明的另一个实施例提供了一种显示屏的显示补偿装置，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如上述显示补偿方法。需要说明的是，本实施例提供的显示屏的显示补偿装置的原理及工作流程与上述显示屏的显示补偿方法相似，相关之处可以参照上述说明，在此不再赘述。本发明的另一个实施例提供了一种显示装置，包括显示屏及上述显示屏的显示补偿装置。其中，显示屏的显示补偿装置可以为电子纸、手机、平板电脑、电视机、显示器、笔记本电脑、数码相框、导航仪等任何具有显示功能的产品或部件，本实施例对此不做限定。在本发明的描述中，需要说明的是，术语“上”、“下”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。还需要说明的是，在本发明的描述中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。显然，本发明的上述实施例仅仅是为清楚地说明本发明所作的举例，而并非是对本发明的实施方式的限定，对于本领域的普通技术人员来说，在上述说明的基础上还可以做出其它不同形式的变化或变动，这里无法对所有的实施方式予以穷举，凡是属于本发明的技术方案所引伸出的显而易见的变化或变动仍处于本发明的保护范围之列。
