标题title
车辆悬架姿态测量方法和测量系统
摘要abst
本发明中公开了一种车辆悬架姿态测量方法和测量系统，该测量方法和测量系统在测量处理过程中通过姿态解算得到方向余弦矩阵，将载体加速度数据换算到惯性坐标系，同时消除重力的影响，能够对车轮支架和车身在车辆悬架运动边界内的运动进行准确的测量，使得到的减振器伸缩运动数据更加精确；同时具有很好的低频或0频测量精度，在测量过程中不受地形和车辆姿态的影响，能够准确测量车辆悬架系统中关键点的位姿运动状态，为车辆悬架系统的检测、控制提供可靠的参考。
权利要求书clms
1.车辆悬架姿态测量方法，其特征在于，包括以下步骤：S1.选取位于悬架弹簧上方的至少一个测量位置和位于悬架弹簧下方的至少一个测量位置，获取测量位置处的运动参数，所述运动参数包括测量位置处的角速度数据、加速度数据；S2.根据获取的角速度数据得到方向余弦矩阵；S3.根据获取的加速度数据对方向余弦矩阵进行修正；S4.根据修正后的方向余弦矩阵，将测量得到的载体坐标系下的运动加速度转换为惯性坐标系下的运动加速度，对得到的惯性坐标系下的运动加速度进行处理，消除由重力所带来的影响；S5.根据处理后的惯性坐标系下的运动加速度得到测量位置处的运动加速度，对得到的测量位置处的运动加速度积分得到测量位置处的运动速度；S6.对测量位置处的运动速度进行误差修正，并对修正后的运动速度积分得到测量位置处的运动位移；S7.对测量位置处的运动位移进行误差修正，得到修正后的运动位移；测量得到车辆悬架对应测量位置处的运动数据，包括运动加速度、运动速度和运动位移。2.根据权利要求1所述的车辆悬架姿态测量方法，其特征在于，根据测量得到的车辆悬架对应测量位置处的运动数据，计算减振器的伸缩运动数据，并对减振器的伸缩运动数据进行误差修正，得到修正后的减振器运动速度、运动位移。3.根据权利要求1所述的车辆悬架姿态测试方法，其特征在于，所述步骤S2中，根据获取的角速度数据得到方向余弦矩阵，包括以下步骤：将测量位置的角位置用四元数表示为，用矩阵表示为，得到其微分方程为；其中，、、、分别为四元数，为该位置处的角速度数据，，为从四元数导出的旋转矩阵，，、、分别为绕x、y、z轴旋转的角速度；将得到的微分方程进行离散化微分运算得到：；其中，为单位矩阵，为当前时刻，为离散的时间周期，为上一次计算的时刻；得到方向余弦矩阵为：。4.根据权利要求3所述的车辆悬架姿态测试方法，其特征在于，所述步骤S3中，根据获取的加速度数据对方向余弦矩阵进行修正，包括以下步骤：获取测量位置处测量的重力向量，将其转换为单位向量，；其中，、、分别为测量得到的重力向量分解到x、y、z方向上的加速度分量；重力向量投影到方向余弦矩阵中，其值对应方向余弦矩阵的第3行，即得到根据方向余弦矩阵推算出的重力向量为：；其中，、、分别为重力向量分解到x、y、z方向上的分量；由于与为同一物理量，得到两者之间的误差为：；其中，、、分别为误差在x、y、z方向上的分量；得到测量位置处修正后的角速度向量为：；根据修正后的角速度向量，通过龙格库塔法求解四元数微分方程求出，得到修正后的方向余弦矩阵。5.根据权利要求4所述的车辆悬架姿态测试方法，其特征在于，所述步骤S4包括以下步骤：将测量得到的载体坐标系下的运动加速度转换为惯性坐标系下的运动加速度，；其中，、分别为惯性坐标系下的运动加速度在x、y方向的加速度分量；对惯性坐标系下的运动加速度进行处理，消除其中由重力所带来的影响，得到；其中，为修正后的惯性坐标系下的运动加速度在重力方向的分量，为惯性坐标系下的运动加速度在重力方向的加速度分量，为重力加速度；得到处理后的惯性坐标系下的运动加速度为。6.根据权利要求5所述的车辆悬架姿态测试方法，其特征在于，所述步骤S5包括以下步骤：计算位于悬架弹簧下方测量位置处的运动加速度为：；其中，为载体坐标系到悬架弹簧下方垂直于车身坐标系的方向余弦矩阵，为从惯性坐标系到载体坐标系的方向余弦矩阵，、分别为运动加速度中在x和y向的加速度分量，为加速度中垂直于车身向上的加速度分量；计算位于悬架弹簧上方测量位置处的运动加速度为：；其中，为载体坐标系到悬架弹簧上方垂直于车身坐标系的方向余弦矩阵，为从惯性坐标系到载体坐标系的方向余弦矩阵，、分别为运动加速度中在x和y向的加速度分量，为加速度中垂直于车身向上的加速度分量；对得到的运动加速度、积分得到悬架弹簧下方测量位置与悬架弹簧上方测量位置处的运动速度、，其中：；。7.根据权利要求6所述的车辆悬架姿态测试方法，其特征在于，所述步骤S6包括以下步骤：对测量位置处的运动速度、进行误差修正，得到对应测量位置处修正后的运动速度、，分别为：，；其中，、分别为悬架弹簧下方测量位置和悬架弹簧上方测量位置处的加速度误差修正参数；并使当修正计算的时间大于第一阈值时，则、趋于0，当修正计算的时间小于第二阈值时，则、小于车辆悬架的最大速度值；对修正后的运动速度积分得到悬架弹簧下方测量位置与悬架弹簧上方测量位置处的运动位移、，分别为：,。8.根据权利要求7所述的车辆悬架姿态测试方法，其特征在于，所述步骤S7中，对测量位置处的运动位移进行误差修正，得到对应测量位置处修正后的运动位移、，分别为：，；其中，、分别为悬架弹簧下方测量位置和悬架弹簧上方测量位置处的速度误差修正参数；并使当修正计算的时间大于第一阈值时，则、趋于0，当修正计算的时间小于第二阈值时，则、小于对应测量位置处车辆悬架的最大位移值。9.根据权利要求2所述的车辆悬架姿态测试方法，其特征在于，所述根据测量得到的车辆悬架对应测量位置处的运动数据计算减振器的伸缩运动数据，包括以下步骤：设定悬架弹簧上方测量位置和悬架弹簧下方测量位置处的运动速度分别为和、运动位移分别为和；根据车辆悬架的运动学几何模型计算得到减振器的伸缩运动数据，包括：减振器的伸缩运动速度为：，减振器的伸缩运动位移为：。10.根据权利要求9所述的车辆悬架姿态测试方法，其特征在于，所述步骤S9中，对减振器的伸缩运动数据进行误差修正，得到修正后的减振器伸缩运动数据分别为：修正后的减振器伸缩运动速度为：,修正后的减振器伸缩运动位移为：；并使当修正计算的时间大于第一阈值时，趋于0，当修正计算的时间小于第二阈值时，则小于减振器的最大行程；其中，为减振器伸缩运动速度的修正参数。11.根据权利要求7、8或10中任一所述的车辆悬架姿态测试方法，其特征在于，所述第一阈值为车轮和车身固有频率周期的5倍，所述第二阈值为车轮和车身固有频率周期的1/2。12.根据权利要求1所述的车辆悬架姿态测量方法，其特征在于，所述位于悬架弹簧上方的测量位置位于靠近减振器与车身连接点位置的车身上，所述位于悬架弹簧下方的测量位置位于车轮车架或减振器缸筒外壁上。13.根据权利要求1所述的车辆悬架姿态测量方法，其特征在于，在测量位置处分别设置IMU模块，以获取对应测量位置处的运动参数。14.车辆悬架姿态测量系统，其特征在于，包括：设置于各车轮所对应悬架弹簧上方测量位置和悬架弹簧下方测量位置处的参数采集模块，所述参数采集模块用于采集测量位置处的运动参数；车辆悬架姿态测量模块，所述车辆悬架姿态测量模块获取参数采集模块采集的运动参数，并采用权利要求1-13中任一所述的车辆悬架姿态测量方法，测量得到对应车辆悬架和减振器伸缩运动的运动数据。
说明书desc
技术领域本发明涉及车辆悬架状态检测技术领域，特别涉及一种车辆悬架姿态测试方法和测量系统。背景技术悬架系统作为车辆的重要组成部分，直接影响到车辆的平顺性和操作稳定性。在可调悬架系统中，对车辆悬架位姿的测量是必不可少的。目前，悬架系统位姿测量主要通过在车辆车身和车轮支架之间安装加速度传感器或者位移传感器来实现；采用这种检测方式时，由于车辆行驶过程中位姿在随时变化的，因此往往存在重力对检测结果造成影响的问题。如果采用压电式的加速度传感器，则对于0频甚至低频状态的加速度测量不准确；而如果采用位移传感器，由于其测量的是车身和车轮支架之间的相对位移，无法准确解算车身和车轮支架在悬架系统中各自的运动状态，并且位移传感器作为相对运动部件对车辆底盘的安装空间要求较高，使用场景受到很大的限制。因此目前在对车辆悬架姿态的准确测量方面还存在诸多的问题，难以进行有效的推广应用。发明内容本发明针对目前在车辆悬架姿态测量方面存在的准确性不高、实用性不强等问题，提供一种车辆悬架姿态测量方法和测量系统。为解决上述技术问题，本发明采用的技术方案如下：车辆悬架姿态测量方法，包括以下步骤：S1.选取位于悬架弹簧上方的至少一个测量位置和位于悬架弹簧下方的至少一个测量位置，获取测量位置处的运动参数，所述运动参数包括测量位置处的角速度数据、加速度数据；S2.根据获取的角速度数据得到方向余弦矩阵；S3.根据获取的加速度数据对方向余弦矩阵进行修正；S4.根据修正后的方向余弦矩阵，将测量得到的载体坐标系下的运动加速度转换为惯性坐标系下的运动加速度，对得到的惯性坐标系下的运动加速度进行处理，消除由重力所带来的影响；S5.根据处理后的惯性坐标系下的运动加速度得到测量位置处的运动加速度，对得到的测量位置处的运动加速度积分得到测量位置处的运动速度；S6.对测量位置处的运动速度进行误差修正，并对修正后的运动速度积分得到测量位置处的运动位移；S7.对测量位置处的运动位移进行误差修正，得到修正后的运动位移；测量得到车辆悬架对应测量位置处的运动数据，包括运动加速度、运动速度和运动位移。作为对本发明技术方案的进一步改进，根据测量得到的车辆悬架对应测量位置处的运动数据，计算减振器的伸缩运动数据，并对减振器的伸缩运动数据进行误差修正，得到修正后的减振器运动速度、运动位移。作为对本发明技术方案的进一步改进，所述步骤S2中，根据获取的角速度数据得到方向余弦矩阵，包括以下步骤：将测量位置的角位置用四元数表示为，用矩阵表示为，得到其微分方程为；其中，、、、分别为四元数，为该位置处的角速度数据，，为从四元数导出的旋转矩阵，，、、分别为绕x、y、z轴旋转的角速度；将得到的微分方程进行离散化微分运算得到：；其中，为单位矩阵，为当前时刻，为离散的时间周期，为上一次计算的时刻；得到方向余弦矩阵为：。作为对本发明技术方案的进一步改进，所述步骤S3中，根据获取的加速度数据对方向余弦矩阵进行修正，包括以下步骤：获取测量位置处测量的重力向量，将其转换为单位向量，；其中，、、分别为测量得到的重力向量分解到x、y、z方向上的加速度分量；重力向量投影到方向余弦矩阵中，其值对应方向余弦矩阵的第3行，即得到根据方向余弦矩阵推算出的重力向量为：；其中，、、分别为重力向量分解到x、y、z方向上的分量；由于与为同一物理量，得到两者之间的误差为：；其中，、、分别为误差在x、y、z方向上的分量；得到测量位置处修正后的角速度向量为：；根据修正后的角速度向量，通过龙格库塔法求解四元数微分方程求出，得到修正后的方向余弦矩阵。作为对本发明技术方案的进一步改进，所述步骤S4包括以下步骤：将测量得到的载体坐标系下的运动加速度转换为惯性坐标系下的运动加速度，；其中，、分别为惯性坐标系下的运动加速度在x、y方向的加速度分量；对惯性坐标系下的运动加速度进行处理，消除其中由重力所带来的影响，得到；其中，为修正后的惯性坐标系下的运动加速度在重力方向的分量，为惯性坐标系下的运动加速度在重力方向的加速度分量，为重力加速度；得到处理后的惯性坐标系下的运动加速度为。作为对本发明技术方案的进一步改进，所述步骤S5包括以下步骤：计算位于悬架弹簧下方测量位置处的运动加速度为：；其中，为载体坐标系到悬架弹簧下方垂直于车身坐标系的方向余弦矩阵，为从惯性坐标系到载体坐标系的方向余弦矩阵，、分别为运动加速度中在x和y向的加速度分量，为加速度中垂直于车身向上的加速度分量；计算位于悬架弹簧上方测量位置处的运动加速度为：；其中，为载体坐标系到悬架弹簧上方垂直于车身坐标系的方向余弦矩阵，为从惯性坐标系到载体坐标系的方向余弦矩阵，、分别为运动加速度中在x和y向的加速度分量，为加速度中垂直于车身向上的加速度分量；对得到的运动加速度、积分得到悬架弹簧下方测量位置与悬架弹簧上方测量位置处的运动速度、，其中：；。作为对本发明技术方案的进一步改进，所述步骤S6包括以下步骤：对测量位置处的运动速度、进行误差修正，得到对应测量位置处修正后的运动速度、，分别为：，；其中，、分别为悬架弹簧下方测量位置和悬架弹簧上方测量位置处的加速度误差修正参数；并使当修正计算的时间大于第一阈值时，则、趋于0，当修正计算的时间小于第二阈值时，则、小于车辆悬架的最大速度值；对修正后的运动速度积分得到悬架弹簧下方测量位置与悬架弹簧上方测量位置处的运动位移、，分别为：,。作为对本发明技术方案的进一步改进，所述步骤S7中，对测量位置处的运动位移进行误差修正，得到对应测量位置处修正后的运动位移、，分别为：，；其中，、分别为悬架弹簧下方测量位置和悬架弹簧上方测量位置处的速度误差修正参数；并使当修正计算的时间大于第一阈值时，则、趋于0，当修正计算的时间小于第二阈值时，则、小于对应测量位置处车辆悬架的最大位移值。作为对本发明技术方案的进一步改进，所述根据测量得到的车辆悬架对应测量位置处的运动数据计算减振器的伸缩运动数据，包括以下步骤：设定悬架弹簧上方测量位置和悬架弹簧下方测量位置处的运动速度分别为和、运动位移分别为和；根据车辆悬架的运动学几何模型计算得到减振器的伸缩运动数据，包括：减振器的伸缩运动速度为：，减振器的伸缩运动位移为：。作为对本发明技术方案的进一步改进，所述步骤S9中，对减振器的伸缩运动数据进行误差修正，得到修正后的减振器伸缩运动数据分别为：修正后的减振器伸缩运动速度为：,修正后的减振器伸缩运动位移为：；并使当修正计算的时间大于第一阈值时，趋于0，当修正计算的时间小于第二阈值时，则小于减振器的最大行程；其中，为减振器伸缩运动速度的修正参数。作为对本发明技术方案的进一步改进，所述第一阈值为车轮和车身固有频率周期的5倍，所述第二阈值为车轮和车身固有频率周期的1/2。作为对本发明技术方案的进一步改进，所述位于悬架弹簧上方的测量位置位于靠近减振器与车身连接点位置的车身上，所述位于悬架弹簧下方的测量位置位于车轮车架或减振器缸筒外壁上。作为对本发明技术方案的进一步改进，在测量位置处分别设置IMU模块，以获取对应测量位置处的运动参数。本发明还涉及一种车辆悬架姿态测量系统，包括：设置于各车轮所对应悬架弹簧上方测量位置和悬架弹簧下方测量位置处的参数采集模块，所述参数采集模块用于采集测量位置处的运动参数；车辆悬架姿态测量模块，所述车辆悬架姿态测量模块获取参数采集模块采集的运动参数，并采用车辆悬架姿态测量方法，测量得到对应车辆悬架和减振器伸缩运动的运动数据。本发明所具有的有益效果：1）本发明测量方法在处理过程中通过姿态解算得到方向余弦矩阵，将载体加速度数据换算到惯性坐标系，同时消除重力的影响，能够对车轮支架和车身在车辆悬架运动边界内的运动进行准确的测量，使得到的减振器伸缩运动数据更加精确；同时具有很好的低频或0频测量精度，在测量过程中不受地形和车辆姿态的影响，能够准确测量车辆悬架中关键点的位姿运动状态，为车辆悬架系统的检测、控制提供可靠的参考。2）本发明测量方法结合车辆悬架系统中各关键位置处均在局部范围内做往复运动，且运动边界明确的特点，具有对其加速度和速度的时间积分长期趋于0，短期则会小于运动边界值的特性，在测量过程中利用这些特性进行积分修正，能够有效消除在测量过程中的积分累计误差，使得到的测量结果更加准确。3）本发明测量方法和测量系统中采用IMU模块进行单点测量，所需的安装空间小，在车辆悬架系统中可灵活安装，方便整车的集成；且IMU模块在车辆悬架系统中无运动部件，使用过程中无磨损，使用寿命长，不受使用环境的限制，具有很好的适用性能。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本发明实施例中IMU模块在车辆悬架上的安装示意图。图2为本发明实施例车辆悬架姿态测量方法中车辆运动参考坐标系示意图；其中，n为惯性坐标系，b为载体坐标系，c为悬架弹簧上方位置的车身坐标系，t为悬架弹簧下方位置的车轮坐标系。图3为本发明实施例中车辆悬架姿态测量方法中车辆悬架运动数据测量流程图。图4为本发明实施例中车辆悬架姿态测量方法中减振器伸缩运动数据测量流程图。图中：1、减振器；P1、位于悬架弹簧下方的测量位置，P2、位于悬架弹簧上方的测量位置。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。参照图1，本实施例中采用8个IMU模块用于分别采集车辆悬架四个车轮对应位置处的数据，这里的IMU模块为现有的惯性测量单元，通常为由3个加速度计和3个陀螺仪组成的组合单元，用于采集安装位置处的加速度和角速度数据。下面结合图1和图2对本实施例中车辆悬架姿态测量方法进行详细的说明，本实施例中车辆运动参考坐标系如图2所示，其中，n为惯性坐标系，其z轴与重力方向平行；b为载体坐标系，c为悬架弹簧上方位置的车身坐标系，其z轴垂直于车身向上，x轴与车辆前进方向重合； t为悬架弹簧下方位置的车轮坐标系，其z轴垂直于路面向上，x轴与车辆前进方向重合。车辆悬架包括有分别设置在车辆车轮位置处的车轮支架、减振器1和悬架弹簧；车辆悬架中在4个车轮的对应位置处，选取分别位于悬架弹簧上方和下方的两个测量位置，其中位于悬架弹簧下方的测量位置位于车轮车架或减振器缸筒外壁上，如图1中P1所示的位置；位于悬架弹簧上方的测量位置位于靠近减振器与车身连接点位置的车身上，如图1中P2所示的位置。参照图3，本实施例中车辆悬架姿态测量方法，包括以下步骤：通过IMU模块分别获取对应测量位置处的运动参数，包括各个测量位置处的角速度数据和加速度数据。对获取的角速度数据进行低通滤波处理，除去高频噪声；得到经过处理的角速度数据，其中；、、分别为绕x、y、z轴旋转的角速度。根据角速度数据按四元数微分方程积分，得到方向余弦矩阵；具体地，将测量位置的角位置用四元数表示为 ，用矩阵表示为，其中，、、、分别为四元数，该四元数具有单位范数，即，得到其微分方程为；其中，为该位置处的角速度数据，为从四元数导出的旋转矩阵，。将得到的微分方程进行离散化微分运算得到：；其中，为单位矩阵，为当前时刻，为离散的时间周期，为上一次计算的时刻；得到方向余弦矩阵为：。这里的推导计算过程在现有的文献中已有公开，这里不再赘述。根据获取的加速度数据进行低通滤波处理后，对方向余弦矩阵进行修正，以消除IMU模块中角速度积分造成的累计误差；具体包括：在IMU模块坐标系中，将通过加速度计测量得到的重力向量转换为单位向量，，这里、、分别为IMU模块测得的重力向量分解到x、y、z方向上的加速度分量；重力向量投影到方向余弦矩阵中，其值对应方向余弦矩阵的第3行，即得到根据方向余弦矩阵推算出的重力向量为：；这里、、分别为重力向量分解到x、y、z方向上的分量；由于与为同一物理量，以此作为修正依据，得到两者之间的误差为：；其中，、、分别为误差在x、y、z方向上的分量；得到测量位置处修正后的角速度向量为：；通过误差对陀螺仪的角速度数据进行修正，根据修正后的角速度向量，并通过龙格库塔法求解四元数微分方程求出，将得到的代入到方向余弦矩阵中，即可得到修正后的方向余弦矩阵。同时，还可以计算得到姿态变换欧拉角，其中，姿态变换欧拉角为：。根据修正后的方向余弦矩阵，将测量得到的载体坐标系下的运动加速度转换为惯性坐标系下的运动加速度，对得到的惯性坐标系下的运动加速度进行处理，消除由重力所带来的影响；具体包括：将测量得到的载体坐标系下的运动加速度转换为惯性坐标系下的运动加速度，其中：；其中，、分别为惯性坐标系下的运动加速度在x、y方向的加速度分量。对惯性坐标系下的运动加速度进行处理，消除其中由重力所带来的影响，得到；其中，为修正后的惯性坐标系下的运动加速度在重力方向的分量，为惯性坐标系下的运动加速度在重力方向的加速度分量，为重力加速度；得到处理后的惯性坐标系下的运动加速度为。根据处理后的惯性坐标系运动加速度得到测量位置处的运动加速度，对得到的运动加速度积分得到测量位置处的运动速度；具体包括：对得到的运动加速度滤波处理去掉高频噪声，计算位于悬架弹簧下方测量位置处的运动加速度为：；其中，为载体坐标系到悬架弹簧下方垂直于车身坐标系的方向余弦矩阵，可根据IMU模块的传感器标定得到；为从惯性坐标系到载体坐标系的方向余弦矩阵，为加速度中垂直于车身向上的加速度分量，、分别为运动加速度中在x和y向的加速度分量，即与车身平面平行方向上的分量；计算位于悬架弹簧上方测量位置处的加速度为：；其中，为载体坐标系到悬架弹簧上方垂直于车身坐标系的方向余弦矩阵，可根据IMU模块的传感器标定得到；为从惯性坐标系到载体坐标系的方向余弦矩阵，为加速度中垂直于车身向上的加速度分量，、分别为运动加速度中在x和y向的加速度分量，即与车身平面平行方向上的分量；对得到的运动加速度、积分得到悬架弹簧下方测量位置与悬架弹簧上方测量位置处的运动速度、，其中：；。对测量位置处的运动速度进行误差修正，并对修正后的运动速度积分得到测量位置处的运动位移；具体包括：对测量位置处的运动速度、进行误差修正，得到对应测量位置处修正后的运动速度、，分别为：，；其中，、分别为悬架弹簧下方测量位置和悬架弹簧上方测量位置处的加速度误差修正参数；并使当修正计算的时间大于第一阈值时，则、趋于0，当修正计算的时间小于第二阈值时，则、小于车辆悬架的最大速度值，这里的最大速度值是指车辆悬架在实际的物理运动模型中能够达到的最大速度，通常通过对车辆悬架系统进行仿真或试验标定得到，或通过经验得到；这里第一阈值为车轮和车身固有频率周期的5倍，所述第二阈值为车轮和车身固有频率周期的1/2；对修正后的运动速度积分得到悬架弹簧下方测量位置与悬架弹簧上方测量位置处的运动位移、，分别为：,。对测量位置处的运动位移进行误差修正，得到修正后的运动位移；具体包括：对测量位置处的运动位移进行误差修正，得到对应测量位置处修正后的运动位移、，分别为：，；其中，、分别为悬架弹簧下方测量位置和悬架弹簧上方测量位置处的速度误差修正参数；并使当修正计算的时间大于第一阈值时，则、趋于0，当修正计算的时间小于第二阈值时，则、小于对应测量位置处车辆悬架的最大位移值，这里的最大位移值是指车辆悬架结构所限定的最大运动范围，可由车辆悬架的结构通过计算得到，属于车辆悬架系统的设计参数；这里第一阈值为车轮和车身固有频率周期的5倍，所述第二阈值为车轮和车身固有频率周期的1/2。至此测量得到车辆悬架对应测量位置处的运动数据，包括运动加速度、运动速度和运动位移。根据测量得到的车辆悬架对应测量位置处的运动数据，计算减振器的伸缩运动数据，并对减振器的伸缩运动数据进行误差修正，得到修正后的减振器运动速度、运动位移；具体包括以下步骤：参照图4，设定悬架弹簧上方和下方测量位置处的运动速度分别为和、运动位移分别为和；根据车辆悬架的运动学几何模型计算得到减振器的伸缩运动数据，包括：减振器的伸缩运动速度为：，减振器的伸缩运动位移为：；其中这里的=，=，=，=；对减振器的伸缩运动数据进行误差修正，得到修正后的减振器伸缩运动数据分别为：修正后的减振器伸缩运动速度为：,修正后的减振器伸缩运动位移为：；并使当修正计算的时间大于第一阈值时，趋于0，当修正计算的时间小于第二阈值时，则小于减振器的最大行程，这里减振器的最大行程为减振器的设计参数；这里第一阈值为车轮和车身固有频率周期的5倍，所述第二阈值为车轮和车身固有频率周期的1/2；其中，为减振器伸缩运动速度的修正参数。此时即可得到车辆悬架中减振器的运动速度和运动位移。至此通过本实施例中的测量方法，利用IMU模块得到车辆悬架中位于悬架弹簧上方和下方测量位置以及减振器的运动数据。同时，本实施例中还涉及一种车辆悬架姿态测量系统，包括：设置于各车轮所对应悬架弹簧上方测量位置和悬架弹簧下方测量位置处的参数采集模块，参数采集模块用于采集测量位置处的运动参数；该参数采集模块为IMU模块，位于悬架弹簧上方的测量位置位于靠近减振器与车身连接点位置的车身上，位于悬架弹簧下方的测量位置位于车轮车架或减振器缸筒外壁上；和车辆悬架姿态测量模块，车辆悬架姿态测量模块获取参数采集模块采集的运动参数，并采用上述的车辆悬架姿态测量方法，以测量得到对应车辆悬架和减振器伸缩运动的运动数据。在本发明的描述中，需要说明的是，所采用的术语“中心”、“上”、“下”、“左”、“右”、“竖直”、“水平”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，或者是该发明产品使用时惯常摆放的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，本发明的描述中若出现“水平”、“竖直”等术语并不表示要求部件绝对水平或悬垂，而是可以稍微倾斜。如“水平”仅仅是指其方向相对“竖直”而言更加水平，并不是表示该结构一定要完全水平，而是可以稍微倾斜。在本发明的描述中，还需要说明的是，除非另有明确的规定和限定，若出现术语“设置”、“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
