标题title
扶梯故障的预测方法、装置、设备及介质
摘要abst
本申请公开了一种扶梯故障的预测方法、装置、设备及介质，该方法包括：获取扶梯在多个采样时间的运行数据，确定运行数据对应的多个分布向量；分布向量用于表征运行数据在一个时间单元上的时域分布特性，时间单元包括多个采样时间；根据各分布向量之间的相似度对多个分布向量进行异常因子检测，若根据异常因子检测的结果确定扶梯在多个采样时间内未存在工况切换，则将运行数据输入预测模型，得到运行数据的预测结果；预测结果用于表征扶梯的预测运行数据；对运行数据的预测结果进行证据融合，获得扶梯的故障预测结果。能够在扶梯工况未发生改变的情况下对扶梯故障进行预测，提高了扶梯故障的预测效率。
权利要求书clms
1.一种扶梯故障的预测方法，其特征在于，所述方法包括：获取扶梯在多个采样时间的运行数据，确定所述运行数据对应的多个分布向量；所述分布向量用于表征所述运行数据在一个时间单元上的时域分布特性，所述时间单元包括多个所述采样时间；根据各所述分布向量之间的相似度对所述多个分布向量进行异常因子检测，若根据所述异常因子检测的结果确定所述扶梯在所述多个采样时间内未存在工况切换，则将所述运行数据输入预测模型，得到所述运行数据的预测结果；所述预测结果用于表征所述扶梯的预测运行数据；对所述运行数据的预测结果进行证据融合，获得所述扶梯的故障预测结果；所述预测结果包括所述扶梯是否出现故障以及所述扶梯的故障程度。2.根据权利要求1所述的方法，其特征在于，所述确定所述运行数据对应的多个分布向量，包括：针对每一时间单元，对所述时间单元包括的多个采样时间对应的运行数据进行时域特征提取，获得所述时间单元对应的多个特征值；根据所述时间单元对应的特征值，确定所述时间单元对应的分布向量。3.根据权利要求1或2所述的方法，其特征在于，所述根据各所述分布向量之间的相似度对所述多个分布向量进行异常因子检测，包括：针对每一所述分布向量，确定所述分布向量与其他分布向量之间的欧式距离；根据所述欧式距离确定所述分布向量的临近向量、所述分布向量与其他分布向量之间的可达距离；根据所述欧式距离确定所述分布向量的临近向量、所述分布向量与其他分布向量之间的可达距离确定所述分布向量的离群因子；所述离群因子用于表征所述分布向量与所述多个分布向量的平均水平的差异；根据各所述分布向量的离群因子确定所述扶梯在所述多个采样时间内是否存在工况切换。4.根据权利要求3所述的方法，其特征在于，所述根据各所述分布向量的离群因子确定所述扶梯在所述多个采样时间内是否存在工况切换，包括：若各所述分布向量的离群因子中未连续存在大于预设门限的离群因子，则确定所述扶梯的工况未发生切换。5.根据权利要求4所述的方法，其特征在于，所述方法还包括：在所述运行数据包括多个类型的数据时，若每一类型的运行数据均存在大于预设门限的离群因子，则确定所述扶梯的工况发生切换。6.一种扶梯故障的预测装置，其特征在于，所述装置包括：获取单元，用于获取扶梯在多个采样时间的运行数据，确定所述运行数据对应的多个分布向量；所述分布向量用于表征所述运行数据在一个时间单元上的时域分布特性，所述时间单元包括多个所述采样时间；第一处理单元，用于根据各所述分布向量之间的相似度对所述多个分布向量进行异常因子检测，若根据所述异常因子检测的结果确定所述扶梯在所述多个采样时间内未存在工况切换，则将所述运行数据输入预测模型，得到所述运行数据的预测结果；所述预测结果用于表征所述扶梯的预测运行数据；第二处理单元，用于对所述运行数据的预测结果进行证据融合，获得所述扶梯的故障预测结果；所述预测结果包括所述扶梯是否出现故障以及所述扶梯的故障程度。7.根据权利要求6所述的扶梯故障的预测装置，其特征在于，所述获取单元具体用于：针对每一时间单元，对所述时间单元包括的多个采样时间对应的运行数据进行时域特征提取，获得所述时间单元对应的多个特征值；根据所述时间单元对应的特征值，确定所述时间单元对应的分布向量。8.一种计算机设备，其特征在于，所述计算机设备包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，所述处理器用于执行所述程序时实现如权利要求1-5任一项所述的扶梯故障的预测方法。9.一种计算机可读存储介质，其特征在于，其上存储有计算机程序，所述计算机程序用于实现如权利要求1-5任一项所述的扶梯故障的预测方法。10.一种计算机程序产品，其特征在于，所述计算机程序产品中包括指令，当所述指令被执行时实现如权利要求1-5任一项所述的扶梯故障的预测方法。
说明书desc
技术领域本发明一般涉及大数据分析与智能预测领域，具体涉及一种扶梯故障的预测方法、装置、设备及介质。背景技术电动扶梯作为安装于商场、天桥、地铁站等公共场所的固定电力驱动设备，可以利用循环运行阶梯向上或向下倾斜运送乘客。目前，可以对扶梯运行过程中的过程量数据进行趋势预测，利用趋势预测结果实现扶梯的故障预测。但是扶梯机组的实际工况较为复杂，复杂工况下过程量数据的趋势预测结果变动较大，导致扶梯故障预测结果的准确性较低。为了提高故障预测的准确性，需要对扶梯不同工况下的多个过程量数据进行分析，从而降低了扶梯故障的预测效率。因此仍存在扶梯故障预测效率低的问题。发明内容鉴于现有技术中的上述缺陷或不足，期望提供一种扶梯故障的预测方法、装置、设备及介质，能够在扶梯工况未发生改变的情况下对扶梯故障进行预测，提高了扶梯故障的预测效率。所述技术方案如下：根据本申请的一个方面，提供了一种扶梯故障的预测方法，该方法包括：获取扶梯在多个采样时间的运行数据，确定运行数据对应的多个分布向量；分布向量用于表征运行数据在一个时间单元上的时域分布特性，时间单元包括多个采样时间；根据各分布向量之间的相似度对多个分布向量进行异常因子检测，若根据异常因子检测的结果确定扶梯在多个采样时间内未存在工况切换，则将运行数据输入预测模型，得到运行数据的预测结果；预测结果用于表征扶梯的预测运行数据；对运行数据的预测结果进行证据融合，获得扶梯的故障预测结果；预测结果包括扶梯是否出现故障以及扶梯的故障程度。根据本申请的另一方面，提供了一种扶梯故障的预测装置，该装置包括：获取单元，用于获取扶梯在多个采样时间的运行数据，确定运行数据对应的多个分布向量；分布向量用于表征运行数据在一个时间单元上的时域分布特性，时间单元包括多个采样时间；第一处理单元，用于根据各分布向量之间的相似度对多个分布向量进行异常因子检测，若根据异常因子检测的结果确定扶梯在多个采样时间内未存在工况切换，则将运行数据输入预测模型，得到运行数据的预测结果；预测结果用于表征扶梯的预测运行数据；第二处理单元，用于对运行数据的预测结果进行证据融合，获得扶梯的故障预测结果；预测结果包括扶梯是否出现故障以及扶梯的故障程度。根据本申请的另一方面，提供了一种计算机设备，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，该处理器执行该程序时实现如上述扶梯故障的预测方法。根据本申请的另一方面，提供了一种计算机可读存储介质，其上存储有计算机程序，该计算机程序用于实现如上述的扶梯故障的预测方法。根据本申请的另一方面，提供了一种计算机程序产品，其上包括指令，该指令被执行时实现如上述的扶梯故障的预测方法。本申请实施例中提供的扶梯故障的预测方法、装置、设备及介质，先利用扶梯实际运行数据的时域分布特性确定扶梯工况的切换情况，相比于单一的运行数据，利用运行数据中不同的时域分布特性更能够反映各阶段运行数据的数据特性，使扶梯工况的判断结果更加准确；再在扶梯工况未发生切换的情况下，对扶梯实际运行数据进行预测获得预测运行数据，相比于现有技术在未知工况的情况下对运行数据进行预测，可以避免不同工况下的扶梯运行数据混杂使得预测过程失去意义，提高了对扶梯运行数据的预测效率；最后根据对扶梯预测运行数据进行证据融合处理，获得扶梯故障的预测结果，使得扶梯故障程度更加明确。本发明附加的方面和优点将在下面的描述中部分给出，部分将从下面的描述中变得明显，或通过本发明的实践了解到。附图说明通过阅读参照以下附图所作的对非限制性实施例所作的详细描述，本申请的其它特征、目的和优点将会变得更明显：图1为本申请实施例的系统架构；图2为本申请实施例的一种扶梯故障的预测方法的流程示意图;图3为本申请实施例的另一种扶梯故障的预测方法的流程示意图；图4为本申请实施例的扶梯故障的预测装置的方框示意图;图5为本申请实施例提供的计算机设备的结构框图。具体实施方式下面结合附图和实施例对本申请作进一步的详细说明。可以理解的是，此处所描述的具体实施例仅仅用于解释相关发明，而非对该发明的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与发明相关的部分。需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。下面将参考附图并结合实施例来详细说明本申请。欧氏距离：又名欧几里得距离或欧几里得度量，为欧几里得空间内两点之前的直线距离；本申请实施例中的欧氏距离用于表示两个分布向量之间的直线距离。DS证据理论：一种不确定推理方法，具有处理不确定信息的能力；由于本申请实施例中获取到的预测运行数据为不确定信息，因此可以通过D-S证据理论进行证据融合获得扶梯故障预测结果。图1是本申请实施例提供的一种扶梯故障的预测方法的实施环境架构图。如图1所示，该实施环境架构包括：电动扶梯10和故障预测装置20。电动扶梯10的扶手部位安装有温度传感器测点，可以实时测量扶手带温度。故障预测装置20可以根据采集到的电动扶梯10运行过程中的过程量数据对扶梯故障进行预测。上述故障预测装置20可以部署于电动扶梯10上，或者可以部署于远程计算机设备，通过计算机设备实现扶梯过程量数据的远程接收及处理。具体实现中，可以在故障预测装置20中设置采集模块、工况识别模块、趋势预测模块、故障评估模块以及展示模块等。例如可以通过采集模块获取电动扶梯10的过程量数据，并通过工况识别模块对过程量数据进行分析确定电动扶梯10的工况状态；在扶梯工况未发生改变的情况下，通过趋势预测模块对电动扶梯10的运行数据进行预测，并将预测运行数据输入故障评估模块中，从而对电动扶梯10的故障程度进行评估；故障评估结束后再通过展示模块将故障评估结果显示在故障预测装置20上。目前，故障趋势预测是避免机电设备发生恶性事故并实现预知维护的关键技术。现有技术中可以利用电动扶梯的传感器或机电系统记录扶梯的运行数据，并根据运行数据的趋势预测获得扶梯故障的预测结果。但扶梯机组的工况较为复杂，根据不同的运行条件，扶梯工况可以分为定速工况、变速工况、转速工况。因此为了适应运行环境，扶梯工况会发生不定期切换，而不同工况下的运行数据差异较大，从而导致故障趋势预测的难度增加，降低了扶梯故障的预测效率。基于此，本申请提出了一种扶梯故障的预测方法、装置、设备及介质，能够在扶梯工况未发生改变的情况下对扶梯故障进行预测，提高了扶梯故障的预测效率。图2是本申请实施例提供的一种扶梯故障的预测方法的流程示意图，该方法可以由上述故障预测装置20执行。如图2所示，该方法包括以下步骤：S201、获取扶梯在多个采样时间的运行数据，确定运行数据对应的多个分布向量；分布向量用于表征运行数据在一个时间单元上的时域分布特性，时间单元包括多个采样时间。由于不同工况下的扶梯运行数据混杂在一起会使得已进行的扶梯故障预测工作失去意义，因此本申请实施例可以在确保扶梯工况未发生改变的情况下再对扶梯故障进行预测。而为了更直观地反映扶梯的运行状态，本申请实施例中可以对扶梯的实际运行数据进行分析，从而提高了判断扶梯工况的准确性。一种可能的实现方式中，基于预设的采样频率，可以获取扶梯在多个采样时间内的运行数据。其中，运行数据可以是扶梯在运行过程中的过程量数据，例如可以是电机转速、键相值、电机功率、电机电流、扶手带温度、扶手带左右温差等。示例性的，运行数据可以由安装在扶梯不同部位的测点进行数据采集。例如可以是安装在扶手带、电机、减速箱、主驱动轮、梯级链涨紧轮等部位的测点。采集到的数据可以由测点自动上传或人工记录至终端设备，终端可以是上述故障预测装置20。由测点采集的运行数据可以是上述扶手带温度、扶手带左右温差等。可选地，运行数据也可以由扶梯的机电系统测量后自动传导至终端设备。由机电系统测量传导的运行数据可以是上述电机转速、键相值、电机功率、电机电流等。需要说明的是，扶梯运行数据作为扶梯自身的物理参数，受环境影响较小，趋势比较平稳，可以直观反应扶梯的运行状态。示例性的，采样时间可以设置为任意时刻或任意时间段。当采样时间为任意时间段时，各测点测量运行数据与各机电系统测量运行数据在采样时间段内的采样频率可以相同，也可以不同。例如，当采样时间为一分钟且采样频率分别为20s/次与10s/次时，各测点可以测量到3组运行数据，各机电系统可以测量到6组数据。而为了提高运行数据的采集效率，可以通过整流的方式将各测点与各机电系统的采样频率设置为相同状态。示例性的，可以将获取到的扶梯运行数据存入具有时间戳的数据库中，从而可以在数据库中直接读取用于故障预测的运行数据。例如，数据库可以是一分钟内采集到的运行数据，每十秒钟可以是一个数据戳。一种可能的实现方式中，可以求取多个连续采样时间内运行数据的时域特征值，构成运行数据对应的多个分布向量。其中，多个连续采样时间构成一个时间单元。需要说明的是，上述分布向量为一种运行数据对应多个分布向量。例如，一个时间单元内的电机电流对应一组分布向量，同一个时间单元内的扶手带温差对应另一组分布向量。S202、根据各分布向量之间的相似度对多个分布向量进行异常因子检测，若根据异常因子检测的结果确定扶梯在多个采样时间内未存在工况切换，则将运行数据输入预测模型，得到运行数据的预测结果；预测结果用于表征扶梯的预测运行数据。本申请实施例中，为了进一步确定扶梯工况是否发生改变，可以将扶梯运行数据各分布向量看作是不同的点，通过对各分布向量进行离群点检测，获得分布向量中的异常因子，从而获得扶梯工况的切换结果。本申请实施例根据对反映扶梯各阶段数据特性的分布向量进行分析，使扶梯工况判断结果的准确程度更具保障性。一种可能的实现方式中，可以将采样时间内各分布向量之间的相似程度代入LOF中，对各分布向量进行异常点检测。示例性的，可以将每一分布向量视为一个点，根据各分布向量点与点之间的欧氏距离进行LOF离群点检测。当存在分布向量的LOF值大于预设门限时，则判断该采样时间内的扶梯工况发生改变。本申请实施例中，在确保扶梯工况未发生改变的情况下，通过预测模型对所获取的扶梯运行数据进行趋势预测，从而为后续扶梯故障及故障程度的预测奠定了数据基础。一种可能的实现方式中，当采样时间内的扶梯工况未发生切换时，可以将采样时间内获取的运行数据输入预测模型，从而获得扶梯的预测运行数据。示例性的，可以将采样时间内的运行数据输入ARMA中进行数据预测。需要说明的是，输入ARMA模型中的运行数据表现为序列形式。需要说明的是，运行数据的预测过程可以是对单一运行数据进行预测，也可以是依次对各个运行数据进行预测。例如，当输入预测模型的运行数据是电机电流时，则获得的预测运行数据也仅是预测的电机电流值。一种可能的实现方式中，在将采样时间内的运行数据序列输入预测模型之前，可以对运行数据序列进行平滑处理，从而消除数据中所存在的噪音。示例性的，可以对运行数据序列进行滑动窗口平均化处理，并采用ADF检验检查序列的平稳性。当运行数据序列未满足ADF检验中的平稳性条件时，可以对序列进行差分处理直至满足平稳性条件，并将满足平稳性条件的差分次数i进行记录。示例性的，当运行数据序列满足平稳性条件时，可以根据序列的AIC信息量获取适合序列的AR阶次p以及适合序列的MA阶次q，从而利用阶次p、q构造ARMA模型。需要说明的是，ARMA模型可以表示为：其中，可以是一个白噪声序列，任意AR自相关系数/＞小于1，任意MA偏自相关系数/＞也小于1。示例性的，ARMA模型构造成功之后，利用ARMA模型进行序列预测，并以前文记录的差分次数i还原原始输入的运行数据序列，从而获得95%置信度下扶梯的预测运行数据。其中，预测运行数据可以是任意指定时间长度下的预测运行数据。一种可能的实现方式中，可以根据故障程度判别标准，对指定时间长度之外的运行数据进行预测，并对其故障程度做出评估。例如，当预测运行数据为电机功率时，可以通过ARMA模型预测未来三小时的电机功率。基于未来三小时的预测电机功率，根据固定限或自适应限故障程度判别标准，可以对未来24小时的电机功率进行预测，并生成未来24小时内电机功率出现异常的概率。示例性的，故障程度判别标准可以是可自主设定的报警限值，也可以是自适应自拟合的动态阈值。S203，对运行数据的预测结果进行证据融合，获得扶梯的故障预测结果；预测结果包括扶梯是否出现故障以及扶梯的故障程度。本申请实施例中，根据对预测运行数据进行证据融合，获得扶梯故障以及故障程度的预测结果。相比于现有技术中数据趋势预测后以数据形式表现的预测结果，以故障类型及故障程度形式表现的预测结果更加直观，且更有利于避免恶性事故的发生。一种可能的实现方式中，基于DS证据理论，将不同种类运行数据的预测结果进行证据融合，从而生成扶梯故障的预测结果。需要说明的是，上述S202步骤中的预测结果仅针对扶梯运行过程中的单个运行数据，而S203步骤中的预测结果则针对整个扶梯。本申请实施例提供的扶梯故障的预测方法中，先利用扶梯实际运行数据的时域分布特性确定扶梯工况的切换情况，相比于单一的运行数据，利用运行数据中不同的时域分布特性更能够反映各阶段运行数据的数据特性，使扶梯工况的判断结果更加准确；再在扶梯工况未发生切换的情况下，对扶梯实际运行数据进行预测获得预测运行数据，相比于现有技术在未知工况的情况下对运行数据进行预测，可以避免不同工况下的扶梯运行数据混杂使得预测过程失去意义，提高了对扶梯运行数据的预测效率；最后根据对扶梯预测运行数据进行证据融合处理，获得扶梯故障的预测结果，使得扶梯故障程度更加明确。在本申请的另一实施例中，还提供了一种获取分布向量的具体实现方式。示例性的，前文涉及的“确定运行数据对应的多个分布向量”的具体实现包括：针对每一时间单元，对时间单元包括的多个采样时间对应的运行数据进行时域特征提取，获得时间单元对应的多个特征值；根据时间单元对应的特征值，确定时间单元对应的分布向量。一种可能的实现方式中，可以对一个单元时间内的运行数据进行时域特征提取，从而利用时域特征值构成时间单元内运行数据所对应的多个分布向量。示例性的，时域特征值可以用于表征运行数据的时域分布特性，具体可以包括均值、标准差、有效值、峰值、峰峰值、峭度、歪度。运行数据以扶手带温度为例，当一个时间单元包括三个连续的采样时间时，可以求取三个采样时间内三个扶手带温度所对应的七个时域特征值，并将这七个时域特征值依次排列形成特征向量，一条特征向量即为一个分布向量，则多个分布向量排列可以理解为多条特征向量构成的N*7的特征矩阵。需要说明的是，由于各分布向量是由具有时间特性的特征值构成，因此也可以将各分布向量视为带时间标签的过程量数据有效信息点。其次，不同分布向量中特征值的顺序排列相同。在本申请的另一实施例中，还提供了一种对分布向量进行异常因子检测的具体实现方式。示例性的，前文涉及的“根据各分布向量之间的相似度对多个分布向量进行异常因子检测”的具体实现包括：针对每一分布向量，确定分布向量与其他分布向量之间的欧式距离；根据欧式距离确定分布向量的临近向量、分布向量与其他分布向量之间的可达距离；根据欧式距离确定分布向量的临近向量、分布向量与其他分布向量之间的可达距离确定分布向量的离群因子；离群因子用于表征分布向量与多个分布向量的平均水平的差异；根据各分布向量的离群因子确定扶梯在多个采样时间内是否存在工况切换。本申请实施例中，可以综合各运行数据对应的分布向量，利用LOF算法对扶梯工况切换情况进行判断。一种可能的实现方式中，对多个分布向量进行异常因子检测之前，可以对多个分布向量进行zscore标准化。示例性的，可以利用对多个分布向量进行标准化处理。其中，分别是x的均值和标准差。例如，当多个分布向量为N*7的特征矩阵时，可以用于表示某运行数据N个时间单元内的所有时域特征值，其中，一个时间单元对应7个时域特征值。则/＞分别为N个时间单元内同类型时域特征值的均值与标准差，一种时域特征值对应一个均值与标准差。一种可能的实现方式中，可以通过多个分布向量行向量之间的计算确定分布向量与其他分布向量之间的欧式距离。示例性的，每一时间单元对应的分布向量可以视为二维空间中的一个点，根据二维空间中点与点之间的距离测算公式确定两个分布向量点之间的距离。其中，两个分布向量点之间的距离可以表示为：其中，X1、X2分别表示分布向量1与分布向量2，i表示第i列。因此，用于表征分布向量1在第i列的特征值，/＞用于表征分布向量2在第i列的特征值。一种可能的实现方式中，在获得任意两个分布向量之间的欧氏距离之后，可以从多个分布向量中任意选择一个分布向量，确定该分布向量的临近向量以及该分布向量与其他任意一个分布向量的可达距离。示例性的，从多个分布向量中任选一个分布向量p，分布向量p的临近向量为距离该分布向量p最近的第K个分布向量，而该分布向量p与其临近向量之间的欧式距离可以定义为K距离。K距离可以表示为k-distance。因此当存在分布向量q与分布向量p之间的欧式距离不大于分布向量p与其临近向量之间的欧式距离时，可以将此类分布向量q的集合称为K距离邻域。K距离邻域可以表示为。其中，d可以用于表征分布向量p与分布向量q之间的欧式距离。示例性的，在确定上述分布向量p的临近向量之后，可以从多个分布向量中再任选一个分布向量q，则分布向量p与分布向量q之间的可达距离可以是分布向量p与其临近向量之间的K距离，或者是分布向量p、q之间的欧氏距离。当分布向量p、q之间的欧氏距离大于分布向量p与其临近向量之间的K距离时，分布向量p、q的可达距离为p、q之间的欧氏距离；当分布向量p、q之间的欧氏距离小于等于分布向量p与其临近向量之间的K距离时，分布向量p、q的可达距离为K距离。可达距离可以表示为。一种可能的实现方式中，可以根据分布向量与其临近向量之间的K距离，以及分布向量与其他分布向量之间的可达距离确定分布向量的局部可达密度，从而确定出分布向量的离群因子。示例性的，分布向量p的局部可达密度可以是分布向量p与剩余所有分布向量之间的平均可达距离的倒数。p的局部可达密度可以表示为。其中，/＞为分布向量p的K距离邻域内所有分布向量的个数。如果/＞值越大，则表明分布向量p的密度越大，分布向量p越符合分布向量的平均水平。分布向量q的局部可达密度同理可得。示例性的，根据上述局部可达密度可以判断出各分布向量是否偏离分布向量的平均水平，再利用不同分布向量各自的局部可达密度可以进一步判断各分布向量的离群因子，具体可以通过进行判断。需要说明的是，上述判断离群因子的过程为按照时间单元先后顺序依次对各分布向量进行判断。在本申请的另一实施例中，还提供了一种确定工况切换情况的具体实现方式。示例性的，前文涉及的“根据各分布向量的离群因子确定扶梯在多个采样时间内是否存在工况切换”具体实现包括：若各分布向量的离群因子中未连续存在大于预设门限的离群因子，则确定扶梯的工况未发生切换。本申请实施例中，在确定扶梯未发生工况切换之后，可以及时输入新的分布向量继续进行工况判断，从而提高了对扶梯工况切换情况的判断效率。一种可能的实现方式中，当一种运行数据存在分布向量的离群因子大于预设门限时，则表明此类分布向量严重偏离分布向量的平均水平，而当此类分布向量未按照时间单元先后顺序连续出现时，则表明扶梯工况未发生切换。示例性的，多个分布向量的平均水平可以预设为1。当分布向量p的离群因子LOF远远大于1时，则表明分布向量p严重偏离平均水平，可以判定为离群分布向量；当分布向量p的离群因子LOF接近于1时，则表明分布向量p为正常分布向量。当出现离群分布向量但未连续出现时，则表明扶梯的工况未发生改变。一种可能的实现方式中，当扶梯工况未发生改变时，可以输入同种运行数据新的特征向量进行离群因子检测。在本申请的另一实施例中，还提供了另一种确定工况切换情况的具体实现方式。示例性的，具体实现包括：在运行数据包括多个类型的数据时，若每一类型的运行数据均存在大于预设门限的离群因子，则确定扶梯的工况发生切换。一种可能的实现方式中，当所有运行数据中均连续出现大于预设门限的离群因子时，则表明扶梯的工况发生切换。示例性的，多个分布向量的平均水平预设为1，当每一种运行数据出现分布向量的离群因子远远大于1且按照时间单元先后顺序连续出现时，则扶梯工况发生切换。可选地，当未在所有运行数据中连续出现大于预设门限的离群因子时，则表明连续出现大于预设门限离群因子的个别运行数据出现采样信号异常。为了更好的理解本申请实施例，下面来进一步说明本申请提出的另一种扶梯故障预测方法的具体流程。如图所示，该方法可以包括以下步骤：步骤301，获取扶梯的运行数据。一种可能的实现方式中，基于预设的采样时间和采样频率，可以通过安装在电动扶梯的温度传感器自动采样，获取各扶手带的温度，进而获得各扶手带的温差等运行数据；可以由机电系统自动上传电机功率、电机电流等运行数据。步骤302，获取运行数据的多个分布向量。一种可能的实现方式中，分别求取每一个运行数据在一个时间单元内的时域特征值，并将所有时域特征值排列为一条特征向量，一条特征向量即为每一运行数据的一个分布向量。其中，一个时间单元包括多个采样时间。一种可能的实现方式中，利用各运行数据的多个分布向量组成特征矩阵。其中，特征矩阵的列向量对应运行数据的时域特征值，运行数据时域特征值的数量对应特征矩阵列向量的数量。步骤303，对运行数据的多个分布向量进行离群点检测，确定分布向量中是否存在离群分布向量。一种可能的实现方式中，先对各运行数据的多个分布向量进行zscore标准化处理。再根据分布向量之间的欧氏距离，利用LOF算法获得离群分布向量的存在情况。步骤304，基于离群分布向量的存在情况，判断扶梯工况是否发生切换。一种可能的实现方式中，当未按照时间单元先后顺序连续出现离群分布向量时，则表明扶梯工况未发生切换；当所有运行数据中均连续出现离群分布向量时，则表明扶梯的工况已经发生切换；当未在所有运行数据中连续出现离群分布向量时，则表明连续出现离群分布向量的个别运行数据出现采样信号异常。步骤305，基于扶梯工况未发生切换，利用ARIMA模型对扶梯运行数据进行预测。一种可能的实现方式中，对扶梯运行数据进行预测之前，可以对获取的运行数据进行滑动窗口平均化处理，消除数据中的噪声。一种可能的实现方式中，利用ADF检验对平均化处理后的扶梯运行数据的序列进行平稳性检验，如序列不满足平稳性，则对序列进行差分直至序列的行为不随时间改变，并将差分次数i进行记录。一种可能的实现方式中，利用ARMA模型对满足平稳性的运行数据的序列进行预测，并根据差分次数i还原差分处理前运行数据的原始序列，从而得到指定时间长度内运行数据的预测数值。步骤306，基于预测运行数据，获得扶梯故障的预测结果。一种可能的实现方式中，基于上述预测运行数据，利用固定限或自适应限故障程度判别标准，对后续非指定时间长度内运行数据的数值进行预测，并预测出该运行数据相应的故障程度。一种可能的实现方式中，应用DS证据理论对上述各类运行数据的预测结果进行证据融合，从而预测出扶梯发生故障的概率及相应的故障程度。前文所述的实施例中，介绍了另一种扶梯故障预测方法的具体流程。图4为本申请实施例的扶梯故障预测装置的方框示意图，该装置可以部署于前文所述的故障预测装置20。参考图4，该装置包括获取单元401、第一处理单元402以及第二处理单元403。获取单元401，用于获取扶梯在多个采样时间的运行数据，确定运行数据对应的多个分布向量；分布向量用于表征运行数据在一个时间单元上的时域分布特性，时间单元包括多个采样时间；第一处理单元402，用于根据各分布向量之间的相似度对多个分布向量进行异常因子检测，若根据异常因子检测的结果确定扶梯在多个采样时间内未存在工况切换，则将运行数据输入预测模型，得到运行数据的预测结果；预测结果用于表征扶梯的预测运行数据；第二处理单元403，用于对运行数据的预测结果进行证据融合，获得扶梯的故障预测结果；预测结果包括扶梯是否出现故障以及扶梯的故障程度。在一种可能的实施例中，获取单元401还用于，针对每一时间单元，对时间单元包括的多个采样时间对应的运行数据进行时域特征提取，获得时间单元对应的多个特征值；根据时间单元对应的特征值，确定时间单元对应的分布向量。在一种可能的实施例中，第一处理单元402还用于，针对每一分布向量，确定分布向量与其他分布向量之间的欧式距离；根据欧式距离确定分布向量的临近向量、分布向量与其他分布向量之间的可达距离；根据欧式距离确定分布向量的临近向量、分布向量与其他分布向量之间的可达距离确定分布向量的离群因子；离群因子用于表征分布向量与多个分布向量的平均水平的差异；根据各分布向量的离群因子确定扶梯在多个采样时间内是否存在工况切换。在一种可能的实施例中，第一处理单元402还用于，若各分布向量的离群因子中未连续存在大于预设门限的离群因子，则确定扶梯的工况未发生切换。在一种可能的实施例中，第一处理单元402还用于，在运行数据包括多个类型的数据时，若每一类型的运行数据均存在大于预设门限的离群因子，则确定扶梯的工况发生切换。综上所述，本申请实施例提供的扶梯故障的预测装置，先利用扶梯实际运行数据的时域分布特性确定扶梯工况的切换情况，相比于单一的运行数据，利用运行数据中不同的时域分布特性更能够反映各阶段运行数据的数据特性，使扶梯工况的判断结果更加准确；再在扶梯工况未发生切换的情况下，对扶梯实际运行数据进行预测获得预测运行数据，相比于现有技术在未知工况的情况下对运行数据进行预测，可以避免不同工况下的扶梯运行数据混杂使得预测过程失去意义，提高了对扶梯运行数据的预测效率；最后根据对扶梯预测运行数据进行证据融合处理，获得扶梯故障的预测结果，使得扶梯故障程度更加明确。在一个实施例中，提供了一种计算机设备。图5为本申请实施例提供的计算机设备的结构框图。参考图5，该计算设备包括存储器和处理器，存储器中存储有计算机程序，该处理器执行计算机程序时实现以下步骤：获取扶梯在多个采样时间的运行数据，确定运行数据对应的多个分布向量；分布向量用于表征运行数据在一个时间单元上的时域分布特性，时间单元包括多个采样时间；根据各分布向量之间的相似度对多个分布向量进行异常因子检测，若根据异常因子检测的结果确定扶梯在多个采样时间内未存在工况切换，则将运行数据输入预测模型，得到运行数据的预测结果；预测结果用于表征扶梯的预测运行数据；对运行数据的预测结果进行证据融合，获得扶梯的故障预测结果；预测结果包括扶梯是否出现故障以及扶梯的故障程度。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存或光存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器。作为说明而非局限，RAM可以是多种形式，比如静态随机存取存储器或动态随机存取存储器等。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
