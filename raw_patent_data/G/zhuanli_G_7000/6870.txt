标题title
火星EDL全过程自主GNC数学仿真验证系统
摘要abst
本发明涉及一种火星EDL全过程自主GNC数学仿真验证系统，主要包括EDL环境仿真子系统、进入舱仿真子系统、火星EDL过程数学仿真总控子系统、火星EDL过程可视化仿真子系统和GNC模拟子系统以及相应的接口。通过该数学仿真系统可全面、系统、连续、充分和方便地验证火星EDL整个飞行过程的GNC方案和算法、自主管理技术以及与地面协同工作、飞控支持与仿真能力。
权利要求书clms
1.火星EDL全过程自主GNC数学仿真验证系统，其特征在于包括：EDL环境仿真子系统、进入舱仿真子系统、火星EDL过程数学仿真总控子系统、火星EDL过程可视化仿真子系统和GNC模拟子系统；仿真总控子系统通过读取配置文件获取仿真初始化状态参数，完成仿真工况设置，并将仿真初始状态参数发送给EDL过程环境仿真子系统、GNC模拟子系统、进入舱仿真子系统、火星EDL过程可视化仿真子系统，各子系统接收初始状态参数进行初始化；EDL过程环境仿真子系统根据接收的仿真初始化状态参数，计算对应仿真时刻的环境数据信息，将所述环境数据信息发送给进入舱仿真子系统；进入舱仿真子系统接收EDL过程环境仿真子系统发送的环境数据信息以及GNC模拟子系统发送的控制指令；利用接收到的环境数据信息以及控制指令计算下一时刻进入舱的动力学状态信息，进而模拟生成敏感器测量数据，将生成的敏感器测量数据发送给GNC模拟子系统，将环境数据信息、动力学状态信息以及敏感器测量信息发送给仿真总控子系统；GNC模拟子系统根据进入舱仿真子系统发送的敏感器测量数据生成控制指令，并发送给进入舱仿真子系统，进入舱仿真子系统根据控制指令完成相应的动作，同时GNC模拟子系统将估计的进入舱位置、速度、姿态、角速度和控制指令发送给仿真总控子系统；火星EDL过程可视化仿真子系统内运行火星EDL过程中涉及的三维模块，接收仿真总控子系统发送的进入舱的动力学状态信息、环境数据信息以及控制指令实时驱动各三维模块，全程同步演示火星EDL过程。2.根据权利要求1所述的系统，其特征在于：GNC模拟子系统接收仿真总控子系统发送的上行注入数据，对GNC相关状态进行更改，模拟地面站对进入舱状态进行监视干预功能。3.根据权利要求1所述的系统，其特征在于：所述仿真初始化状态参数包括仿真阶段、仿真初始时间、进入舱初始位置、速度、姿态。4.根据权利要求1所述的系统，其特征在于：所述环境数据信息包括大气密度、温度、风速和天体引力加速度以及当前星下点预设范围的地形数据。5.根据权利要求1或4所述的系统，其特征在于：EDL过程环境仿真子系统通过下述方式计算对应仿真时刻的环境数据信息：第一步，根据火星表面大气密度、温度、风速及其不确定性随高度的分布，通过高度插值计算进入舱所处位置的火星大气密度、温度及风速＝CaCalculateρ＝CaCalculateT＝CaCalculatevwimd其中ρ为火星大气密度，σ+ρ,σ-ρ为火星大气密度不确定性的上限和下限；T为火星大气温度，σ+T,σ-T为火星大气温度不确定性的上限和下限；vwind为火星表面风速，σ+vwind,σ-vwind为火星表面风速不确定性的上限和下限；h为进入舱相对火星表面高度；CaCalculateρ，CaCalculateT，CaCalculatevwimd分别表示利用高度h通过插值计算火星大气密度、温度、风速及其不确定性的函数；第二步，采用火星引力场模型，根据进入舱当前的位置解算出进入舱受到火星的引力加速度；第三步，在GNC模拟子系统发出抛大底指令之后，根据进入舱所在位置计算星下点经纬度为，进一步根据进入舱当前高度h计算出需要给出的地形范围其中为需要给出的地形范围经纬度，θmax表示测距敏感器最大入射角。6.根据权利要求1或4所述的系统，其特征在于：进入舱仿真子系统通过下述动力学模型计算下一时刻进入舱的动力学状态信息：其中r,v,q分别为进入舱的位置、速度和姿态，gmI为进入舱受到的火星引力加速度，a为进入舱受到的非引力加速度，ω为进入舱角速度，表示ω的反对称阵，I为进入舱的惯量阵，T为进入舱受到的力矩。7.根据权利要求1所述的系统，其特征在于：所述进入舱仿真子系统模拟生成敏感器测量数据包括利用计算得到的动力学状态信息模拟生成加速度计、陀螺、星敏感器、测速敏感器测量数据；利用动力学状态信息以及EDL过程环境仿真子系统发送的环境数据信息模拟生成测距敏感器以及光学成像敏感器和激光三维成像敏感器的测量数据。8.根据权利要求7所述的系统，其特征在于：通过下述方式模拟生成加速度计、陀螺、星敏感器、测速敏感器测量数据：1)加速度计测量按下述加速度计测量模型计算得到UA＝AACqa+DA0+DA1+DA2其中UA为加速度计模型的测量输出；KA为加速度计刻度因子；δKA为加速度计刻度因子误差；AA为加速度计敏感轴在进入舱本体系指向；Cq为进入舱姿态q对应的方向余弦阵；DA0为加速度计零偏；DA1为加速度计白噪声误差；DA2为一阶马尔科夫过程误差；2)陀螺测量按下述陀螺测量模型计算得到UG＝AGω+b+d+nG其中UG为陀螺模型的测量输出；KG为陀螺刻度因子；δKG为陀螺刻度因子误差；AG为陀螺敏感轴在进入舱本体系指向；b为陀螺零偏；d为一阶马尔科夫过程误差；nG为陀螺白噪声误差；3)星敏感器测量按下述星敏感器测量模型计算得到其中qsi为星敏感器的测量输出，q为进入舱姿态四元数，qsb为星敏感器相对于进入舱安装矩阵的四元数表示，Δqs表示星敏感器测量误差项；4)测速敏感器测量按下述测速敏感器测量模型计算得到Uv＝AvCq+nv式中，Uv为测速敏感器测量输出Av为测速敏感器波束在本体系指向；Cq为进入舱姿态q对应的方向余弦阵；wM为行星自转角速度矢量；nv为测速敏感器测量噪声。9.根据权利要求7所述的系统，其特征在于：通过下述方式模拟生成测距敏感器以及光学成像敏感器和激光三维成像敏感器的测量数据：测距敏感器测量根据进入舱位置和姿态及测距敏感器指向搜索测距波束与地形的交点，该交点到测距敏感器的位置即为测距敏感器测量值；光学成像敏感器采用基于OpenGL的传感器成像模型模拟，首先根据太阳方向、进入舱当前位置、姿态和光学成像敏感器视场及指向获取光学成像敏感器视场范围内的地形数据，然后通过设置OpenGL参数来模拟相机的成像参数，并利用OpenGL自身功能完成光学成像模拟；激光三维成像敏感器根据进入舱当前位置、姿态和激光三维成像敏感器视场及指向获取激光三维成像敏感器视场范围内的地形数据，通过搜索激光波束与地形的交点获取激光三维成像敏感器视场范围内地形的点云图完成激光三维成像敏感器测量模拟。10.根据权利要求7所述的系统，其特征在于：GNC模拟子系统通过下述方式生成控制指令：根据各敏感器的测量数据估计出进入舱的位置、速度、姿态和角速度状态信息，并根据进入舱估计的状态及目标状态生成各项控制指令，具体为：根据进入舱估计姿态及目标姿态生成姿控发动机开关机控制指令；当进入舱相对火星表面速度减小到预设的开配平翼马赫数时发出展开配平翼指令；当速度减小到预设的弹伞马赫数时发出弹伞指令；当弹伞指令发出后时间和从弹伞开始的速度增量大于预设值时发出抛大底指令；当抛大底后且进入舱高度及相对火星表面速度满足预设值要求时发出抛背罩指令；当抛背罩后预设时间发出主发动机开机指令，并根据进入舱当前估计位置、速度及目标位置和速度计算得到主发动机推力指令；当进入舱高度和角速度满足预设要求时发出光学相机允许成像指令；当进入舱高度和速度满足激光三维成像要求时发出激光三维成像指令；当进入舱接收到触地信号时发出主发动机关机指令，完成软着陆。11.根据权利要求1所述的系统，其特征在于：仿真总控子系统与进入舱仿真子系统、EDL环境仿真子系统、GNC模拟子系统之间以及进入舱仿真子系统与EDL环境仿真子系统、GNC模拟子系统之间均采用TCP/IP网络进行通讯；仿真总控子系统与火星EDL过程可视化仿真子系统之间采用UDP网络进行通讯。
说明书desc
技术领域本发明涉及火星EDL全过程自主GNC数学仿真验证系统，属于航天器制导、导航与控制技术领域。背景技术火星进入舱EDL过程的飞行环境是全新的，任务具有新的特点，目前在探月工程中已经建立的数学仿真系统只能满足探测器在地月环境下的任务需要，无法满足火星进入下降着陆任务的需求。因此，需要构建火星EDL全过程自主GNC数学仿真验证系统，实现仿真系统数字化和可视化，方便GNC方案设计人员对方案、关键技术、算法进行修改、调整和验证。火星EDL全过程自主GNC数学仿真验证系统需要覆盖进入舱飞行的各个阶段，包括进入舱分离、进入与动力下降和着陆等过程，要充分考虑近火空间环境、着陆火星空间环境以及各阶段星体构型、质量特性和受力情况均有差异的特点，要建立进入舱的高精度轨道动力学和姿态动力学模型，精确模拟大气减速、配平翼展开、弹伞、伞降、抛大底、抛背罩、规避背罩、动力下降和触火等复杂动力学过程，还要能够通过三维可视化系统直观的显示进入舱飞行状态。发明内容本发明解决的技术问题是：针对火星EDL过程GNC数学仿真验证的需求，本专利提出了一种火星EDL全过程自主GNC数学仿真验证系统。本发明解决技术的方案是：火星EDL全过程自主GNC数学仿真验证系统，包括：EDL环境仿真子系统、进入舱仿真子系统、火星EDL过程数学仿真总控子系统、火星EDL过程可视化仿真子系统和GNC模拟子系统；仿真总控子系统通过读取配置文件获取仿真初始化状态参数，完成仿真工况设置，并将仿真初始状态参数发送给EDL过程环境仿真子系统、GNC模拟子系统、进入舱仿真子系统、火星EDL过程可视化仿真子系统，各子系统接收初始状态参数进行初始化；EDL过程环境仿真子系统根据接收的仿真初始化状态参数，计算对应仿真时刻的环境数据信息，将所述环境数据信息发送给进入舱仿真子系统；进入舱仿真子系统接收EDL过程环境仿真子系统发送的环境数据信息以及GNC模拟子系统发送的控制指令；利用接收到的环境数据信息以及控制指令计算下一时刻进入舱的动力学状态信息，进而模拟生成敏感器测量数据，将生成的敏感器测量数据发送给GNC模拟子系统，将环境数据信息、动力学状态信息以及敏感器测量信息发送给仿真总控子系统；GNC模拟子系统根据进入舱仿真子系统发送的敏感器测量数据生成控制指令，并发送给进入舱仿真子系统，进入舱仿真子系统根据控制指令完成相应的动作，同时GNC模拟子系统将估计的进入舱位置、速度、姿态、角速度和控制指令发送给仿真总控子系统；火星EDL过程可视化仿真子系统内运行火星EDL过程中涉及的三维模块，接收仿真总控子系统发送的进入舱的动力学状态信息、环境数据信息以及控制指令实时驱动各三维模块，全程同步演示火星EDL过程。优选的，GNC模拟子系统接收仿真总控子系统发送的上行注入数据，对GNC相关状态进行更改，模拟地面站对进入舱状态进行监视干预功能。优选的，所述仿真初始化状态参数包括仿真阶段、仿真初始时间、进入舱初始位置、速度、姿态。优选的，所述环境数据信息包括大气密度、温度、风速和天体引力加速度以及当前星下点预设范围的地形数据。优选的，EDL过程环境仿真子系统通过下述方式计算对应仿真时刻的环境数据信息：第一步，根据火星表面大气密度、温度、风速及其不确定性随高度的分布，通过高度插值计算进入舱所处位置的火星大气密度、温度及风速＝CaCalculateρ＝CaCalculateT＝CaCalculatevwimd其中ρ为火星大气密度，σ+ρ,σ-ρ为火星大气密度不确定性的上限和下限；T为火星大气温度，σ+T,σ-T为火星大气温度不确定性的上限和下限；vwind为火星表面风速，σ+vwind,σ-vwind为火星表面风速不确定性的上限和下限；h为进入舱相对火星表面高度；CaCalculateρ，CaCalculateT，CaCalculatevwimd分别表示利用高度h通过插值计算火星大气密度、温度、风速及其不确定性的函数；第二步，采用火星引力场模型，根据进入舱当前的位置解算出进入舱受到火星的引力加速度；第三步，在GNC模拟子系统发出抛大底指令之后，根据进入舱所在位置计算星下点经纬度为，进一步根据进入舱当前高度h计算出需要给出的地形范围其中为需要给出的地形范围经纬度，θmax表示测距敏感器最大入射角。优选的，进入舱仿真子系统通过下述动力学模型计算下一时刻进入舱的动力学状态信息：其中r,v,q分别为进入舱的位置、速度和姿态，gmI为进入舱受到的火星引力加速度，a为进入舱受到的非引力加速度，ω为进入舱角速度，表示ω的反对称阵，I为进入舱的惯量阵，T为进入舱受到的力矩。优选的，所述进入舱仿真子系统模拟生成敏感器测量数据包括利用计算得到的动力学状态信息模拟生成加速度计、陀螺、星敏感器、测速敏感器测量数据；利用动力学状态信息以及EDL过程环境仿真子系统发送的环境数据信息模拟生成测距敏感器以及光学成像敏感器和激光三维成像敏感器的测量数据。优选的，通过下述方式模拟生成加速度计、陀螺、星敏感器、测速敏感器测量数据：1)加速度计测量按下述加速度计测量模型计算得到UA＝AACqa+DA0+DA1+DA2其中UA为加速度计模型的测量输出；KA为加速度计刻度因子；δKA为加速度计刻度因子误差；AA为加速度计敏感轴在进入舱本体系指向；Cq为进入舱姿态q对应的方向余弦阵；DA0为加速度计零偏；DA1为加速度计白噪声误差；DA2为一阶马尔科夫过程误差；2)陀螺测量按下述陀螺测量模型计算得到UG＝AGω+b+d+nG其中UG为陀螺模型的测量输出；KG为陀螺刻度因子；δKG为陀螺刻度因子误差；AG为陀螺敏感轴在进入舱本体系指向；b为陀螺零偏；d为一阶马尔科夫过程误差；nG为陀螺白噪声误差；3)星敏感器测量按下述星敏感器测量模型计算得到其中qsi为星敏感器的测量输出，q为进入舱姿态四元数，qsb为星敏感器相对于进入舱安装矩阵的四元数表示，Δqs表示星敏感器测量误差项；4)测速敏感器测量按下述测速敏感器测量模型计算得到Uv＝AvCq+nv式中，Uv为测速敏感器测量输出Av为测速敏感器波束在本体系指向；Cq为进入舱姿态q对应的方向余弦阵；wM为行星自转角速度矢量；nv为测速敏感器测量噪声。优选的，通过下述方式模拟生成测距敏感器以及光学成像敏感器和激光三维成像敏感器的测量数据：测距敏感器测量根据进入舱位置和姿态及测距敏感器指向搜索测距波束与地形的交点，该交点到测距敏感器的位置即为测距敏感器测量值；光学成像敏感器采用基于OpenGL的传感器成像模型模拟，首先根据太阳方向、进入舱当前位置、姿态和光学成像敏感器视场及指向获取光学成像敏感器视场范围内的地形数据，然后通过设置OpenGL参数来模拟相机的成像参数，并利用OpenGL自身功能完成光学成像模拟；激光三维成像敏感器根据进入舱当前位置、姿态和激光三维成像敏感器视场及指向获取激光三维成像敏感器视场范围内的地形数据，通过搜索激光波束与地形的交点获取激光三维成像敏感器视场范围内地形的点云图完成激光三维成像敏感器测量模拟。优选的，GNC模拟子系统通过下述方式生成控制指令：根据各敏感器的测量数据估计出进入舱的位置、速度、姿态和角速度状态信息，并根据进入舱估计的状态及目标状态生成各项控制指令，具体为：根据进入舱估计姿态及目标姿态生成姿控发动机开关机控制指令；当进入舱相对火星表面速度减小到预设的开配平翼马赫数时发出展开配平翼指令；当速度减小到预设的弹伞马赫数时发出弹伞指令；当弹伞指令发出后时间和从弹伞开始的速度增量大于预设值时发出抛大底指令；当抛大底后且进入舱高度及相对火星表面速度满足预设值要求时发出抛背罩指令；当抛背罩后预设时间发出主发动机开机指令，并根据进入舱当前估计位置、速度及目标位置和速度计算得到主发动机推力指令；当进入舱高度和角速度满足预设要求时发出光学相机允许成像指令；当进入舱高度和速度满足激光三维成像要求时发出激光三维成像指令；当进入舱接收到触地信号时发出主发动机关机指令，完成软着陆。优选的，仿真总控子系统与进入舱仿真子系统、EDL环境仿真子系统、GNC模拟子系统之间以及进入舱仿真子系统与EDL环境仿真子系统、GNC模拟子系统之间均采用TCP/IP网络进行通讯；仿真总控子系统与火星EDL过程可视化仿真子系统之间采用UDP网络进行通讯。本发明与现有技术相比的有益效果是：本发明可以直接应用在我国火星着陆探测任务GNC分系统仿真验证中，提高GNC方案仿真验证的可靠性，实现GNC方案设计性能的改进和优化，并可扩展应用于各类天体软着陆任务的数学仿真验证，具有广泛的应用价值和市场前景。针对火星EDL过程GNC数学仿真验证的需求，本发明提出了一种火星EDL全过程自主GNC数学仿真验证系统，主要包括EDL环境仿真子系统、进入舱仿真子系统、火星EDL过程数学仿真总控子系统、火星EDL过程可视化仿真子系统和GNC模拟子系统以及相应的接口。通过该数学仿真系统可全面、系统、连续、充分和方便地验证火星EDL整个飞行过程的GNC方案和算法。1)设计了一种包括EDL环境仿真子系统、进入舱仿真子系统、火星EDL过程数学仿真总控子系统、火星EDL过程可视化仿真子系统和GNC模拟子系统的火星EDL全过程自主GNC数学仿真验证系统，实现了火星EDL过程GNC方案和算法的闭环数学仿真验证；2)设计了火星EDL环境仿真子系统，解决了火星引力场、大气、高精度地形等环境仿真模拟问题；3)设计了EDL过程进入舱仿真子系统，实现了火星EDL过程动力学及各敏感器测量的模拟；4)建立了各仿真子系统之间的通讯协议，实现各子系统之间的信息传输和交互，保证了整个仿真系统的快速准确模拟仿真。附图说明图1为本发明火星EDL全过程自主GNC数学仿真验证系统；图2为本发明系统信息流示意图。具体实施方式下面结合实施例对本发明作进一步阐述。火星EDL过程数学仿真总控子系统完成系统初始化及工况设置仿真总控子系统通过读取配置文件获取仿真阶段、仿真初始时间、进入舱初始位置、速度、姿态等初始化参数，完成仿真工况设置，并将初始状态参数发送给EDL过程环境仿真子系统、GNC模拟子系统、进入舱仿真子系统、火星EDL过程可视化仿真子系统，各子系统接收初始状态参数进行系统初始化。EDL过程环境仿真子系统接收仿真总控子系统发送的仿真时刻、进入舱位置、速度和姿态信息，利用这些信息计算对应仿真时刻的大气压强、密度、温度、风速、天体引力加速度以及当前星下点预设范围的地形数据，并将这些环境数据信息发送给进入舱仿真子系统。EDL过程环境仿真子系统通过下述方式计算对应仿真时刻的环境数据信息：第一步，根据火星表面大气密度、温度、风速及其不确定性随高度的分布，通过高度插值计算进入舱所处位置的火星大气密度、温度及风速＝CaCalculateρ＝CaCalculateT＝CaCalculatevwimd其中ρ为火星大气密度，σ+ρ,σ-ρ为火星大气密度不确定性的上限和下限；T为火星大气温度，σ+T,σ-T为火星大气温度不确定性的上限和下限；vwind为火星表面风速，σ+vwind,σ-vwind为火星表面风速不确定性的上限和下限；h为进入舱相对火星表面高度；CaCalculateρ，CaCalculateT，CaCalculatevwimd分别表示利用高度h通过插值计算火星大气密度、温度、风速及其不确定性的函数。第二步，采用50×50阶次的火星引力场模型Mars50c，根据进入舱当前的位置解算出进入舱受到火星的引力加速度。第三步，在GNC模拟子系统发出抛大底指令之后，根据进入舱所在位置计算星下点经纬度为，进一步根据进入舱当前高度h计算出需要给出的地形范围其中为需要给出的地形范围经纬度，θmax表示测距敏感器最大入射角。地形数据根据已有火星地形数据利用分形插值方法模拟生成。进入舱仿真子系统接收EDL过程环境仿真子系统发送的环境数据信息以及GNC模拟子系统发送的控制指令。利用接收到的环境数据信息以及控制指令计算下一时刻进入舱的位置、速度、姿态、角速度等动力学状态信息，进而利用计算得到的动力学状态信息模拟生成加速度计、陀螺、星敏感器、测速敏感器测量数据，利用动力学状态信息以及EDL过程环境仿真子系统发送的地形信息模拟生成测距敏感器以及光学成像敏感器和激光三维成像敏感器的测量数据。进入舱仿真子系统将生成的敏感器测量数据发送给GNC模拟子系统，将环境数据信息、动力学状态信息以及敏感器测量信息等发送给仿真总控子系统，用于仿真数据记录、分析和存储。进入舱仿真子系统通过下述动力学模型计算下一时刻进入舱的动力学状态信息：其中r,v,q分别为进入舱的位置、速度和姿态，gmI为进入舱受到的火星引力加速度，a为进入舱受到的非引力加速度，ω为进入舱角速度，表示ω的反对称阵，I为进入舱的惯量阵，T为进入舱受到的力矩。通过下述方式模拟生成加速度计、陀螺、星敏感器、测速敏感器测量数据：1)加速度计测量按下述加速度计测量模型计算得到UA＝AACqa+DA0+DA1+DA2其中UA为加速度计模型的测量输出；KA为加速度计刻度因子；δKA为加速度计刻度因子误差；AA为加速度计敏感轴在进入舱本体系指向；Cq为进入舱姿态q对应的方向余弦阵；DA0为加速度计零偏；DA1为加速度计白噪声误差；DA2为一阶马尔科夫过程误差。2)陀螺测量按下述陀螺测量模型计算得到UG＝AGω+b+d+nG其中UG为陀螺模型的测量输出；KG为陀螺刻度因子；δKG为陀螺刻度因子误差；AG为陀螺敏感轴在进入舱本体系指向；b为陀螺零偏；d为一阶马尔科夫过程误差；nG为陀螺白噪声误差。3)星敏感器测量按下述星敏感器测量模型计算得到其中qsi为星敏感器的测量输出，q为进入舱姿态四元数，qsb为星敏感器相对于进入舱安装矩阵的四元数表示，Δqs表示星敏感器测量误差项。4)测速敏感器测量按下述测速敏感器测量模型计算得到Uv＝AvCq+nv式中，Uv为测速敏感器测量输出Av为测速敏感器波束在本体系指向；Cq为进入舱姿态q对应的方向余弦阵；wM为行星自转角速度矢量；nv为测速敏感器测量噪声。通过下述方式模拟生成测距敏感器以及光学成像敏感器和激光三维成像敏感器的测量数据：测距敏感器测量根据进入舱位置和姿态及测距敏感器指向搜索测距波束与地形的交点，该交点到测距敏感器的位置即为测距敏感器测量值；光学成像敏感器采用基于OpenGL的传感器成像模型模拟，首先根据太阳方向、进入舱当前位置、姿态和光学成像敏感器视场及指向获取光学成像敏感器视场范围内的地形数据，然后通过设置OpenGL的投影、视口等参数来模拟相机的成像参数，并利用OpenGL自身的投影、消隐等功能完成光学成像模拟；激光三维成像敏感器根据进入舱当前位置、姿态和激光三维成像敏感器视场及指向获取激光三维成像敏感器视场范围内的地形数据，通过搜索激光波束与地形的交点获取激光三维成像敏感器视场范围内地形的点云图完成激光三维成像敏感器测量模拟。GNC模拟子系统根据进入舱仿真子系统发送的加速度计、陀螺、星敏、测距测速敏感器以及光学成像敏感器、激光三维成像敏感器等的测量数据计算控制指令，控制指令主要包括：配平翼展开、弹伞、抛大底、抛背罩、成像、发动机开关机等。GNC模拟子系统将控制指令发送给进入舱仿真子系统，进入舱子系统根据控制指令完成相应的动作，同时GNC模拟子系统将估计的进入舱位置、速度、姿态、角速度和控制指令等发送给仿真总控子系统，用于GNC性能评估、分析和存储。GNC模拟子系统还可接收仿真总控子系统发送的上行注入数据，对GNC相关状态进行更改，模拟地面站对进入舱状态进行监视干预功能。GNC模拟子系统通过下述方式生成控制指令：GNC模拟子系统根据各敏感器的测量数据估计出进入舱的位置、速度、姿态和角速度等状态信息，并根据进入舱估计的状态及目标状态生成各项控制指令，具体为：GNC模拟子系统根据进入舱估计姿态及目标姿态生成姿控发动机开关机控制指令；当进入舱相对火星表面速度减小到预设的开配平翼马赫数时发出展开配平翼指令；当速度减小到预设的弹伞马赫数时发出弹伞指令；当弹伞指令发出后时间和从弹伞开始的速度增量大于预设值时发出抛大底指令；当抛大底后且进入舱高度及相对火星表面速度满足预设值要求时发出抛背罩指令；当抛背罩后预设时间发出主发动机开机指令，并根据进入舱当前估计位置、速度及目标位置和速度计算得到主发动机推力指令；当进入舱高度和角速度满足预设要求时发出光学相机允许成像指令；当进入舱高度和速度满足激光三维成像要求时发出激光三维成像指令；当进入舱接收到触地信号时发出主发动机关机指令，完成软着陆。火星EDL过程可视化仿真子系统接收仿真总控子系统发送的进入舱的动力学状态信息、地形数据信息以及控制指令等实时驱动各三维模块，全程同步演示火星EDL过程进入舱的状态、关键动作以及一些主要的参数信息。火星EDL过程数学仿真总控子系统与进入舱仿真子系统、EDL过程环境仿真子系统、GNC模拟子系统之间以及进入舱仿真子系统与EDL过程环境仿真子系统、GNC模拟子系统之间均采用TCP/IP网络进行通讯；火星EDL过程数学仿真总控子系统与火星EDL过程可视化仿真子系统之间采用UDP网络进行通讯。示例的，各子系统的通讯配置可按下表设置：序号设备通讯网络IP地址端口1仿真总控计算机TCP/IP192.168.196.110012GNC模拟自算机TCP/IP192.168.196.210023进入舱仿真计算机TCP/IP192.168.196.310034环境仿真计算机TCP/IP192.168.196.410045可视化仿真计算机UDP192.168.196.51005本发明未详细说明部分属于本领域技术人员的公知常识。
