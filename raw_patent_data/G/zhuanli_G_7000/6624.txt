标题title
一种广告推送方法、装置和计算机可读存储介质
摘要abst
本发明公开一种广告推送方法、装置和计算机可读存储介质，涉及广告推送技术领域，解决了由于终端设备具有广告拦截功能，导致无法展示广告的问题的问题。具体方案包括：生成第一上网请求；根据第一上网请求，从目的服务器获取第一响应数据；将预设脚本插入第一响应数据生成第二响应数据，预设脚本用于运行后触发广告资源请求的发送，广告资源请求用于请求目标广告资源；向终端设备发送第二响应数据；接收终端设备发送的广告资源请求；在确定存在包含有目标标识和目的服务器的域名的目标广告链接的情况下，将目标广告链接修改为对应的初始广告链接，初始广告链接用于获取所述目标广告资源；向终端设备发送初始广告链接。
权利要求书clms
1.一种广告推送方法，其特征在于，包括：生成第一上网请求；根据所述第一上网请求，从目的服务器获取第一响应数据；将预设脚本插入所述第一响应数据生成第二响应数据，所述预设脚本用于运行后触发广告资源请求的发送，所述广告资源请求用于请求目标广告资源；向终端设备发送所述第二响应数据；接收所述终端设备发送的所述广告资源请求；在确定存在包含有目标标识和所述目的服务器的域名的目标广告链接的情况下，将所述目标广告链接修改为对应的初始广告链接，所述初始广告链接用于获取所述目标广告资源；向所述终端设备发送所述初始广告链接。2.根据权利要求1所述的广告推送方法，其特征在于，所述生成第一上网请求，包括：接收所述终端设备发送的第二上网请求，所述第二上网请求中包括编码类型，所述编码类型用于指示所述终端设备支持的编码格式；删除所述第二上网请求中包括的所述编码类型，生成所述第一上网请求；所述根据所述第一上网请求，从目的服务器获取第一响应数据，包括：向所述目的服务器发送所述第一上网请求；接收所述目的服务器发送的第一响应数据，所述第一响应数据的响应内容包括明文数据。3.根据权利要求2所述的广告推送方法，其特征在于，所述向所述目的服务器发送所述第一上网请求之前，所述广告推送方法还包括：根据所述第二上网请求，获取所述目的服务器的域名和所述第二上网请求的传输路径；根据所述域名和所述传输路径，获取所述目的服务器的端口号；根据所述域名，获取所述目的服务器的互联网协议地址；所述向所述目的服务器发送所述第一上网请求，包括：根据所述目的服务器的端口号和互联网协议地址，向所述目的服务器发送所述第一上网请求。4.根据权利要求2或3所述的广告推送方法，其特征在于，所述将预设脚本插入所述第一响应数据生成第二响应数据，包括：将所述预设脚本插入所述第一响应数据中的所述明文数据中，并将所述第一响应数据的响应头中的长度类型由静态长度类型修改为动态长度类型，生成第二响应数据；所述向终端设备发送所述第二响应数据，包括：向所述终端设备发送所述第二响应数据的响应头；向所述终端设备发送所述第二响应数据的响应内容。5.根据权利要求1-3任一项所述的广告推送方法，其特征在于，所述广告推送方法还包括：获取初始广告链接；将所述初始广告链接中的域名修改为所述目的服务器的域名，并为所述初始广告链接添加所述目标标识，生成所述目标广告链接；建立所述初始广告链接与所述目标广告链接之间的对应关系。6.一种广告推送装置，其特征在于，所述广告推送装置包括：处理单元，用于生成第一上网请求；获取单元，用于根据所述第一上网请求，从目的服务器获取第一响应数据；所述处理单元，还用于将预设脚本插入所述第一响应数据生成第二响应数据，所述预设脚本用于运行后触发广告资源请求的发送，所述广告资源请求用于请求目标广告资源；发送单元，用于向终端设备发送所述第二响应数据；接收单元，用于接收所述终端设备发送的广告资源请求；所述处理单元，还用于在确定存在包含有目标标识和所述目的服务器的域名的目标广告链接的情况下，将所述目标广告链接修改为对应的初始广告链接，所述初始广告链接用于获取所述目标广告资源；所述发送单元，还用于向所述终端设备发送所述初始广告链接。7.根据权利要求6所述的广告推送装置，其特征在于，所述处理单元，具体用于：接收所述终端设备发送的第二上网请求，所述第二上网请求中包括编码类型，所述编码类型用于指示所述终端设备支持的编码格式；删除所述第二上网请求中包括的所述编码类型，生成所述第一上网请求；所述获取单元，具体用于：向所述目的服务器发送所述第一上网请求；接收所述目的服务器发送的所述第一响应数据，所述第一响应数据的响应内容包括明文数据。8.根据权利要求7所述的广告推送装置，其特征在于，所述处理单元，还用于：根据所述第二上网请求，获取所述目的服务器的域名和所述第二上网请求的传输路径；根据所述域名和所述传输路径，获取所述目的服务器的端口号；根据所述域名，获取所述目的服务器的互联网协议地址；所述获取单元，具体用于：根据所述目的服务器的端口号和互联网协议地址，向所述目的服务器发送所述第一上网请求。9.一种广告推送装置，其特征在于，所述广告推送装置包括：处理器和存储器；所述存储器用于存储计算机程序代码，所述计算机程序代码包括计算机指令；当所述处理器执行所述计算机指令时，所述广告推送装置执行如权利要求1-5中任意一项所述的广告推送方法。10.一种计算机可读存储介质，其特征在于，包括计算机指令，当所述计算机指令在广告推送装置上运行时，使得所述广告推送装置执行权利要求1-5中任意一项所述的广告推送方法。
说明书desc
技术领域本发明涉及广告推送技术领域，尤其涉及一种广告推送方法、装置和计算机可读存储介质。背景技术随着移动互联网和终端设备的发展，用户通过终端设备访问互联网的需求日益增加。终端设备在通过路由器访问互联网的过程中，路由器可以向终端设备推送广告。但是，现有技术中，由于终端设备的浏览器具有广告拦截功能，可以拦截部分广告，导致终端设备无法展示这些广告。发明内容本发明提供一种广告推送方法、装置和计算机可读存储介质，解决了由于终端设备具有广告拦截功能，导致无法展示广告的问题。为达到上述目的，本发明采用如下技术方案：第一方面，本发明提供一种，该方法包括：生成第一上网请求；根据第一上网请求，从目的服务器获取第一响应数据；将预设脚本插入第一响应数据生成第二响应数据，预设脚本用于运行后触发广告资源请求的发送，广告资源请求用于请求目标广告资源；向终端设备发送第二响应数据；接收终端设备发送的广告资源请求；在确定存在包含有目标标识和目的服务器的域名的目标广告链接的情况下，将目标广告链接修改为对应的初始广告链接，初始广告链接用于获取目标广告资源；向终端设备发送初始广告链接。与现有技术相比，本发明实施例提供的广告推送方法中，路由器接收到广告资源请求后，会对预存的广告链接进行判断，在确定存在包含有目标标识和目的服务器的域名的目标广告链接的情况下，将目标广告链接修改为对应的初始广告链接，并将初始广告链接发送至终端设备。其中，目标广告链接的域名与目的服务器的域名一致，可以使路由器接收到广告资源请求时，认为终端设备没有进行跨域请求，这样路由器就可以绕过终端设备的拦截插件，向终端设备发送初始广告链接，以便于终端设备根据初始广告链接获取并展示目标广告资源。在一种可能的实现方式中，上述生成第一上网请求，包括：接收终端设备发送的第二上网请求，第二上网请求中包括编码类型，编码类型用于指示终端设备支持的编码格式；删除第二上网请求中包括的编码类型，生成第一上网请求。上述根据第一上网请求，从目的服务器获取第一响应数据，包括：向目的服务器发送第一上网请求；接收目的服务器发送的第一响应数据，第一响应数据的响应内容包括明文数据。在一种可能的实现方式中，上述向目的服务器发送第一上网请求之前，广告推送方法还包括：根据第二上网请求，获取目的服务器的域名和所述第二上网请求的传输路径；根据域名和传输路径，获取目的服务器的端口号；根据域名，获取目的服务器的互联网协议地址。上述向目的服务器发送第一上网请求，包括：根据目的服务器的端口号和互联网协议地址，向目的服务器发送第一上网请求。在一种可能的实现方式中，上述将预设脚本插入第一响应数据生成第二响应数据，包括：将预设脚本插入第一响应数据中的明文数据中，并将第一响应数据的响应头中的长度类型由静态长度类型修改为动态长度类型，生成第二响应数据。上述向终端设备发送第二响应数据，包括：向终端设备发送第二响应数据的响应头；向终端设备发送第二响应数据的响应内容。在一种可能的实现方式中，上述广告推送方法还包括：获取初始广告链接；将初始广告链接中的域名修改为目的服务器的域名，并为初始广告链接添加目标标识，生成目标广告链接；建立初始广告链接与目标广告链接之间的对应关系。第二方面，本发明提供一种广告推送装置，该广告推送装置包括：处理单元，用于生成第一上网请求；获取单元，用于根据第一上网请求，从目的服务器获取第一响应数据；处理单元，还用于将预设脚本插入第一响应数据生成第二响应数据，预设脚本用于运行后触发广告资源请求的发送，广告资源请求用于请求目标广告资源；发送单元，用于向终端设备发送第二响应数据；接收单元，用于接收终端设备发送的广告资源请求；处理单元，还用于在确定存在包含有目标标识和目的服务器的域名的目标广告链接的情况下，将目标广告链接修改为对应的初始广告链接，初始广告链接用于获取目标广告资源；发送单元，还用于向终端设备发送初始广告链接。在一种可能的实现方式中，接收单元，具体用于：接收终端设备发送的第二上网请求，第二上网请求中包括编码类型，编码类型用于指示终端设备支持的编码格式；上述处理单元，具体用于：删除第二上网请求中包括的编码类型，生成第一上网请求。向目的服务器发送第一上网请求；接收目的服务器发送的第一响应数据，第一响应数据的响应内容包括明文数据。在一种可能的实现方式中，上述处理单元，还用于：根据第二上网请求，获取目的服务器的域名和所述第二上网请求的传输路径；根据域名和传输路径，获取目的服务器的端口号；根据域名，获取目的服务器的互联网协议地址。上述获取单元，具体用于：根据目的服务器的端口号和互联网协议地址，向目的服务器发送第一上网请求。在一种可能的实现方式中，上述处理单元，具体用于：将预设脚本插入第一响应数据中的明文数据中，并将第一响应数据的响应头中的长度类型由静态长度类型修改为动态长度类型，生成第二响应数据；上述发送单元，具体用于：向终端设备发送第二响应数据的响应头；向终端设备发送第二响应数据的响应内容。在一种可能的实现方式中，上述获取单元，还用于：获取初始广告链接。上述处理单元，还用于：将初始广告链接中的域名修改为目的服务器的域名，并为初始广告链接添加目标标识，生成目标广告链接；建立初始广告链接与目标广告链接之间的对应关系。第三方面，本发明提供一种广告推送装置，该广告推送装置包括：处理器和存储器。存储器用于存储计算机程序代码，计算机程序代码包括计算机指令。当处理器执行计算机指令时，广告推送装置执行如第一方面及其任一种可能的实现方式的广告推送方法。第四方面，本发明提供一种计算机可读存储介质，其上存储有计算机指令，当计算机指令在广告推送装置上运行时，使得广告推送装置执行如第一方面或第一方面的可能的实现方式中任意一项的广告推送方法。附图说明图1为本发明实施例提供的广告推送系统的一种结构示意图；图2为本发明实施例提供的计算装置的一种结构示意图；图3为本发明实施例提供的广告推送方法的流程示意图一；图4为本发明实施例提供的广告推送方法的流程示意图二；图5为本发明实施例提供的广告推送方法的流程示意图三；图6为本发明实施例提供的广告推送装置的一种结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。以下，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本公开实施例的描述中，除非另有说明，“多个”的含义是两个或两个以上。另外，“基于”或“根据”的使用意味着开放和包容性，因为“基于”或“根据”一个或多个所述条件或值的过程、步骤、计算或其他动作在实践中可以基于额外条件或超出所述的值。为了解决由于终端设备具有广告拦截功能，导致无法展示广告的问题，本发明实施例提供了一种广告推送方法、装置和计算机可读存储介质，在用户使用终端设备通过路由器访问互联网的过程中，避免路由器推送的广告链接被终端设备拦截，使广告展示在终端设备的显示界面，以便于用户浏览。本发明实施例提供的广告推送方法可以适用于广告推送系统。图1示出了该广告推送系统的一种结构。如图1所示，该广告推送系统可以包括：广告服务器11、目的服务器12、路由器13和多个终端设备14，广告服务器11、目的服务器12和至少一个终端设备14分别与路由器11连接。终端设备14，用于向路由器13发送第二上网请求，并接收路由器13发送的第二响应数据。第二响应数据中包括预设脚本，预设脚本用于在终端设备14中运行后触发广告资源请求的发送。广告资源请求用于向路由器13请求目标广告资源。终端设备14还用于在接收到路由器13发送的初始广告链接后，根据初始广告链接从广告服务器14处获取目标广告资源，并对获取到的目标广告资源进行渲染，使该目标广告资源的内容展示在终端设备14的显示界面。例如，终端设备14可以是智能手机、平板电脑或台式电脑等设备。终端设备14可以安装有浏览器的客户端。浏览器可以执行上述步骤。路由器13，用于向广告服务器11请求预设脚本和初始广告链接。路由器13还用于接收终端设备14发送的第二上网请求，根据第二上网请求生成第一上网请求。路由器13还用于根据第一上网请求，从目的服务器12获取第一响应数据，将预设脚本插入第一响应数据生成第二响应数据。路由器13还用于接收终端设备14发送的广告资源请求，在确定存在包含有目标标识和目的服务器的域名的目标广告链接的情况下，将目标广告链接修改为对应的初始广告链接，并向终端设备14发送该初始广告链接。初始广告链接用于获取目标广告资源。例如，路由器13可以包括代理服务模块，代理服务模块中预设有创建代理服务的代码。当路由器13启动后，创建代理服务的代码运行，创建代理服务。代理服务可以用于执行上述步骤。需要理解的是，代理服务可以包括至少一个代理服务线程，各个代理服务线程相互独立。一个代理服务线程可以接收一个终端设备14发送的第二上网请求。广告服务器11，用于根据路由器13发送的脚本请求，向路由器13发送预设脚本。广告服务器还用于根据路由器13发送的广告链接请求，向路由器13发送初始广告链接。目的服务器12，用于根据路由器13发送的第一上网请求，向路由器13发送第一响应数据。上述终端设备、路由器、广告服务器和目的服务器的基本硬件结构类似，都包括图2所示计算装置所包括的元件。下面以图2所示的计算装置为例，介绍终端设备、路由器、广告服务器和目的服务器的硬件结构。如图2所示，计算装置可以包括：处理器21、存储器22、通信接口23和总线24。处理器21、存储器22和通信接口23之间可以通过通信总线24连接。处理器21是计算装置的控制中心，可以是一个处理器21，也可以是多个处理元件的统称。例如，处理器21可以是一个通用的中央处理器，也可以是其他通用处理器21等。其中，通用处理器21可以是微处理器21或者是任何常规的处理器21等。作为一种实施例，处理器21可以包括一个或多个CPU，例如，图2所示的CPU0和CPU1。存储器22可以是只读存储器22或可存储静态信息和指令的其他类型的静态存储设备，随机存取存储器22或者可存储信息和指令的其他类型的动态存储设备，也可以是电可擦可编程只读存储器22、磁盘存储介质或者其他磁存储设备、或者能够用于携带或存储具有指令或数据结构形式的期望的程序代码并能够由计算机存取的任何其他介质，但不限于此。一种可能的实现方式中，存储器22可以独立于处理器21存在，存储器22可以通过总线24与处理器21相连接，用于存储指令或者程序代码。处理器21调用并执行存储器22中存储的指令或程序代码时，能够实现本申请下述实施例提供的广告推送方法。另一种可能的实现方式中，存储器22也可以和处理器21集成在一起。通信接口23，用于计算装置与其他设备通过通信网络连接，所述通信网络可以是以太网，无线接入网，无线局域网等。通信接口23可以包括用于接收数据的接收单元，以及用于发送数据的发送单元。总线24，可以是工业标准体系结构总线24、外部设备互连总线24或扩展工业标准体系结构总线24等。该总线24可以分为地址总线24、数据总线24、控制总线24等。为便于表示，图2中仅用一条粗线表示，但并不表示仅有一根总线24或一种类型的总线24。需要指出的是，图2中示出的结构并不构成对该计算装置的限定，除图2所示部件之外，该计算装置可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。本发明实施例提供的广告推送方法的执行主体为广告推送装置。该广告推送装置可以是上述路由器，也可以是上述路由器中的CPU，还可以是上述路由器中用于推送广告的控制模块。本发明实施例以路由器执行广告推送方法为例，对本申请提供的广告推送方法进行说明。下面结合附图对本发明实施例提供的广告推送方法进行描述。如图3所示，本发明实施例提供的广告推送方法包括以下步骤301-步骤307。301、路由器生成第一上网请求。302、路由器根据第一上网请求，从目的服务器获取第一响应数据。303、路由器将预设脚本插入第一响应数据生成第二响应数据。预设脚本用于运行后触发广告资源请求的发送，广告资源请求用于请求目标广告资源。路由器的代理服务可以向广告服务器发送脚本请求，广告服务器响应于该脚本请求，向路由器的代理服务发送预设脚本。预设脚本可以是一种脚本语言，例如JS。304、路由器向终端设备发送第二响应数据，终端设备接收路由器发送的第二响应数据。305、终端设备向路由器发送广告资源请求，路由器接收终端设备发送的广告资源请求。306、路由器在确定存在包含有目标标识和目的服务器的域名的目标广告链接的情况下，将目标广告链接修改为对应的初始广告链接。初始广告链接用于获取目标广告资源。路由器的代理服务还可以向广告服务器发送广告链接请求，广告服务器根据接收到的该广告链接请求，向路由器的代理服务发送初始广告链接。目标广告链接的域名与目的服务器的域名一致，可以避免路由器的代理服务接收到广告资源请求时，认为终端设备在进行跨域请求。目标广告链接的目标标识，可以使路由器的代理服务识别出需要推送的广告链接。307、路由器向终端设备发送初始广告链接。与现有技术相比，本发明实施例提供的广告推送方法中，路由器接收到广告资源请求后，会对的预存的广告链接进行判断，在确定存在包含有目标标识和目的服务器的域名的目标广告链接的情况下，将目标广告链接修改为对应的初始广告链接，并将初始广告链接发送至终端设备。其中，目标广告链接的域名与目的服务器的域名一致，可以使路由器接收到广告资源请求时，认为终端设备没有进行跨域请求，这样就可以绕过终端设备的拦截插件，向终端设备发送初始广告链接，解决了由于终端设备具有广告拦截功能，导致无法展示广告的问题。同时，目标广告链接的目标标识，可以使路由器快速且准确的识别出基于初始广告链接修改得到的目标广告链接，提高路由器推送广告的推送效率和准确度。结合图3，如图4所示，上述步骤301中路由器生成第一上网请求，可以包括以下步骤401和步骤402。401、路由器接收终端设备发送的第二上网请求。第二上网请求中包括编码类型，该编码类型用于指示终端设备支持的编码格式。第二上网请求的请求头中可以包括编码类型，例如，第二上网请求的请求头中可以包括编码类型：“Accept-Encoding”字段。通过该字段，目的服务器可以获取终端设备的浏览器支持的编码格式，并将响应数据中的响应内容按照该编码格式进行编码。402、路由器删除上述第二上网请求中包括的编码类型，生成第一上网请求。代理服务可以具有一个代理端口，代理端口的端口号可以为60000。路由器接收到终端设备发送的第二上网请求后，路由器的防火墙中的nat链路根据终端设备的端口号和代理端口的端口号，将第二上网请求重定向至路由器的代理服务。通过路由器的代理服务，删除第二上网请求的请求头中的编码类型。示例性的，终端设备的端口号可以为80和8080，重定向的代码可以为：Iptables - t nat - A PREROUTING -w -m mark --mark 1000 -p tcp --dport80 -j DNAT --to 192.168.1.1:600000。Iptables - t nat - A PREROUTING -w -m mark --mark 1000 -p tcp --dport8080 -j DNAT --to 192.168.1.1:600000。可选的，上述路由器根据第一上网请求，从目的服务器获取第一响应数据，可以包括：路由器向目的服务器发送第一上网请求，并接收目的服务器发送的第一响应数据，第一响应数据的响应内容包括明文数据。由于第一上网请求中不包括编码类型，因此，目的服务器向路由器发送的第一响应数据中响应内容为明文数据。可选的，上述路由器发送第一上网请求之前，本发明实施例提供的广告推送方法还可以包括：路由器的代理服务可以根据第二上网请求，获取目的服务器的域名和第二上网请求的传输路径。路由器根据域名和传输路径，获取目的服务器的端口号。路由器根据域名，获取目的服务器的互联网协议地址。可选的，上述路由器向目的服务器发送第一上网请求，可以包括：路由器的代理服务根据目的服务器的端口号和IP地址，向目的服务器发送第一上网请求。路由器的代理服务可以根据目的服务器的端口号和IP地址，利用传输控制/因特网互联协议，与目的服务器建立TCP连接。当路由器的代理服务与目的服务器建立TCP连接后，路由器的代理服务便可以向目的服务器发送第一上网请求。可选的，当路由器的代理服务获取到目的服务器的域名之后，且在路由器执行步骤306之前的任一步骤时，本发明实施例还可以包括：路由器的代理服务获取初始广告链接，将初始广告链接中的域名修改为目的服务器的域名，并为初始广告链接添加目标标识，生成目标广告链接。然后，路由器的代理服务建立初始广告链接与目标广告链接之间的对应关系。其中，目标标识是一种身份标识号。例如，目标标识可以是一个字符或一个字符串。可以理解的是，上述路由器的代理服务获取初始广告链接的过程为：代理服务向广告服务器发送广告链接请求，广告服务器接收到该广告链接请求后，向路由器的代理服务发送初始广告链接。结合图4，如图5所示，上述步骤303中将预设脚本插入第一响应数据生成第二响应数据，可以包括以下步骤501。501、路由器将预设脚本插入第一响应数据中的明文数据中，并将第一响应数据的响应头中的长度类型由静态长度类型修改为动态长度类型，生成第二响应数据。第一响应数据的响应内容的长度为一个静态长度。当在第一响应数据中的响应内容的末端插入预设脚本后，第一响应数据的响应内容和其长度都会发生变化。第二响应数据是基于修改后的第一响应数据生成的，那么第二响应数据的响应内容的长度为第一响应数据的响应内容的长度加预设脚本的长度。为了使终端设备能够接收到完整的第二响应数据，需要将第一响应数据的响应头中的长度类型由静态长度类型修改为动态长度类型，所述动态长度类型指的是所述响应内容的长度类型。例如，第一响应数据的响应内容为“你好。”，响应内容的长度为3，那么第二响应数据的响应内容的长度大于3。可选的，第二响应数据可以包括响应头和响应内容，路由器向终端发送第二响应数据可以包括：路由器先向终端设备发送第二响应数据的响应头，然后路由器向终端设备发送第二响应数据的响应内容。终端设备在接收到第二响应数据时，首先会接收响应头，并根据响应头获取响应内容的长度类型。然后，终端设备在接收响应内容时，可以根据获取的该长度类型确定接收响应内容的方式，以便于获取到完整的响应内容。示例性的，在终端设备确定了响应内容的长度类型为动态长度类型后，终端设备在接收响应内容时，会分块接收响应内容，直至接收到完整的响应内容。其中，每一个块中包含的响应内容的长度可以标识在每个块的头部，该长度可以是任意长度，当终端设备接收到的最后一个块中的响应内容的长度为0时，则可以确定已经接收到完整的响应内容。上述主要从广告推送装置的角度对本发明实施例提供的方案进行了介绍。可以理解的是，广告推送装置为了实现上述功能，其包含了执行各个功能相应的硬件结构和/或软件模块。本领域技术人员应该很容易意识到，结合本文中所公开的实施例描述的各示例的算法步骤，本发明能够以硬件或硬件和计算机软件的结合形式来实现。某个功能究竟以硬件还是计算机软件驱动硬件的方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。图6示出了上述实施例中涉及的广告推送装置600的一种可能的组成示意图，如图6所示，该广告推送装置600可以包括：处理单元601、获取单元602、发送单元603和接收单元604。其中，处理单元601，用于生成第一上网请求。获取单元602，用于根据第一上网请求，从目的服务器获取第一响应数据。处理单元601，还用于将预设脚本插入第一响应数据生成第二响应数据，预设脚本用于运行后触发广告资源请求的发送，广告资源请求用于请求目标广告资源。发送单元603，用于向终端设备发送第二响应数据。接收单元604，用于接收终端设备发送的广告资源请求。处理单元601，还用于在确定存在包含有目标标识和目的服务器的域名的目标广告链接的情况下，将目标广告链接修改为对应的初始广告链接，初始广告链接用于获取目标广告链接。发送单元603，还用于向终端设备发送初始广告链接。可选的，处理单元601，具体用于接收终端设备发送的第二上网请求。第二上网请求中包括编码类型，编码类型用于指示终端设备支持的编码格式。处理单元601还具体用于删除第二上网请求中包括的编码类型，生成第一上网请求。可选的，获取单元602，具体用于向目的服务器发送第一上网请求；还用于接收目的服务器发送的第一响应数据，第一响应数据的响应内容包括明文数据。可选的，处理单元601，还用于根据第二上网请求，获取目的服务器的域名和第二上网请求的传输路径；还用于根据域名和传输路径，获取目的服务器的端口号；还用于根据域名，获取目的服务器的互联网协议地址。可选的，获取单元602，具体用于根据目的服务器的端口号和互联网协议地址，向目的服务器发送第一上网请求。可选的，处理单元601，具体用于将预设脚本插入第一响应数据中的明文数据中，并将第一响应数据的响应头中的长度类型由静态长度类型修改为动态长度类型，生成第二响应数据。可选的，发送单元603，具体用于向终端设备发送第二响应数据的响应头；还用于向终端设备发送第二响应数据的响应内容。可选的，获取单元602，还用于获取初始广告链接。可选的，处理单元601，还用于将初始广告链接中的域名修改为目的服务器的域名，并为初始广告链接添加目标标识，生成目标广告链接；还用于建立初始广告链接与目标广告链接之间的对应关系。当然，本发明实施例提供的广告推送装置600包括但不仅限于上述模块。在实际实现时，接收单元604、获取单元602、处理单元601和发送单元603可以由图2所示的处理器21调用存储器22中的程序代码来实现。其具体的执行过程可参考图3至图5所示的广告推送方法部分的描述，这里不再赘述。本申请本申请另一实施例还提供一种计算机可读存储介质，该计算机可读存储介质中存储有计算机指令，当计算机指令在广告推送装置600上运行时，使得广告推送装置600执行上述方法实施例所示的方法流程中广告推送装置执行的各个步骤。本申请另一实施例还提供一种芯片系统，该芯片系统应用于广告推送装置600。所述芯片系统包括一个或多个接口电路，以及一个或多个处理器21。接口电路和处理器21通过线路互联。接口电路用于从广告推送装置600的存储器22接收信号，并向处理器21发送所述信号，所述信号包括所述存储器22中存储的计算机指令。当处理器21执行计算机指令时，广告推送装置600执行上述方法实施例所示的方法流程中广告推送装置600执行的各个步骤。在本申请另一实施例中，还提供一种计算机程序产品，该计算机程序产品包括指令，当指令在广告推送装置600上运行时，使得广告推送装置600执行上述方法实施例所示的方法流程中广告推送装置600执行的各个步骤。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件程序实现时，可以全部或部分地以计算机程序产品的形式来实现。该计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行计算机执行指令时，全部或部分地产生按照本发明实施例的流程或功能。计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一个计算机可读存储介质传输，例如，计算机指令可以从一个网站站点、计算机、服务器或者数据中心通过有线）或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可以用介质集成的服务器、数据中心等数据存储设备。可用介质可以是磁性介质，光介质、或者半导体介质）等。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何在本发明揭露的技术范围内的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
