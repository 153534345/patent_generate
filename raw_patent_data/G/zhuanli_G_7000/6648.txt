标题title
视频处理方法及装置
摘要abst
本发明实施例提供了一种视频处理方法及装置，包括：获取视频的图像帧中的视频元素信息，所述视频元素信息包括视频元素和所述视频元素的显示信息；依据所述显示信息，确定所述图像帧中显示所述视频元素的视频元素图像；对所述视频元素图像进行二值化处理，得到二值化图像；对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值；将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频。本发明实施例将视频元素信息的哈希编码数值嵌入至视频的图像帧中，不会破坏原始视频中的图像帧，同时便于从图像帧中提取出哈希编码数值，从而方便对视频进行后期加工。
权利要求书clms
1.一种视频处理方法，其特征在于，包括：获取视频的图像帧中的视频元素信息，所述视频元素信息包括视频元素和所述视频元素的显示信息；依据所述显示信息，确定所述图像帧中显示所述视频元素的视频元素图像；对所述视频元素图像进行二值化处理，得到二值化图像；对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值；将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频。2.根据权利要求1所述的方法，其特征在于，所述对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值，包括：从所述二值化图像中跳行提取出二值化数组；将所述二值化数组的每一列的数值，按照二进制转十进制的规则转换为十进制数值；按照预先统计的哈希映射表，将所述十进制数值和所述显示信息转换为哈希编码数值。3.根据权利要求1所述的方法，其特征在于，所述将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频，包括：将所述哈希编码数值存储至对应的图像帧的阿尔法通道中。4.根据权利要求3所述的方法，其特征在于，所述将所述哈希编码数值存储至对应的所述图像帧的阿尔法通道中，包括：当所述图像帧中的阿尔法通道中没有存储有数据时，将所述哈希编码数值存储至对应的所述图像帧的阿尔法通道中；当所述图像帧中的阿尔法通道中存储有数据时，将指定开始标识、所述哈希编码数值和指定结束标识存储至对应的所述图像帧的阿尔法通道中所述数据的末尾处。5.根据权利要求1所述的方法，其特征在于，所述将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频，包括：依据所述哈希编码数值，调整所述图像帧中指定区域中的像素值的奇偶性，得到编码视频。6.根据权利要求1所述的方法，其特征在于，所述视频元素至少包括字幕和图标的其中一种，所述显示信息包括视频元素的显示位置和大小。7.一种视频处理方法，其特征在于，包括：获取编码视频；从所述编码视频的图像帧中提取出哈希编码数值；依据所述哈希编码数值，生成二值化图像和显示信息；将所述二值化图像转换为视频元素图像，并按照所述显示信息在所述图像帧中显示所述视频元素图像。8.根据权利要求7所述的方法，其特征在于，所述从所述编码视频的图像帧中提取出哈希编码数值，包括：从所述编码视频的图像帧的阿尔法通道中提取出哈希编码数值。9.根据权利要求7所述的方法，其特征在于，所述从所述编码视频的图像帧中提取出哈希编码数值，包括：从所述编码视频的图像帧的指定区域中提取出像素值；依据所述像素值的奇偶性，得到哈希编码数值。10.根据权利要求7所述的方法，其特征在于，所述依据所述哈希编码数值，生成二值化图像和显示信息，包括：将所述哈希编码数值按照预先统计的哈希映射表，转换得到十进制数值和所述显示信息；将所述十进制数值按照十进制转二进制的规则转换，得到二值化数组；对所述二值化数组进行插值处理，得到二值化图像。11.一种视频处理装置，其特征在于，包括：视频元素信息获取模块，用于获取视频的图像帧中的视频元素信息，所述视频元素信息包括视频元素和所述视频元素的显示信息；视频元素图像确定模块，用于依据所述显示信息，确定所述图像帧中显示所述视频元素的视频元素图像；二值化图像得到模块，用于对所述视频元素图像进行二值化处理，得到二值化图像；哈希编码数值得到模块，用于对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值；编码视频得到模块，用于将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频。12.一种视频处理装置，其特征在于，包括：编码视频获取模块，用于获取编码视频；哈希编码数值提取模块，用于从所述编码视频的图像帧中提取出哈希编码数值；图像信息生成模块，用于依据所述哈希编码数值，生成二值化图像和显示信息；视频元素图像显示模块，用于将所述二值化图像转换为视频元素图像，并按照所述显示信息在所述图像帧中显示所述视频元素图像。13.一种电子设备，其特征在于，包括处理器、通信接口、存储器和通信总线，其中，处理器，通信接口，存储器通过通信总线完成相互间的通信；存储器，用于存放计算机程序；处理器，用于执行存储器上所存放的程序时，实现权利要求1-10任一所述的方法步骤。14.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1-10中任一所述的方法。
说明书desc
技术领域本发明实施例涉及视频处理技术领域，特别是涉及一种视频处理方法、一种视频处理装置、一种电子设备以及一种计算机可读存储介质。背景技术字幕是指以文字形式显示在影视和综艺等视频中的对话、旁白等非影像内容，通常泛指视频中的文字，通常显示在屏幕下方。目前对视频中字幕的处理方案有两种，第一种方案是将字幕嵌入图像帧，第二种方案是外挂字幕。然而，第一种方案会破坏图像帧的原始区域，损失部分图像信息，第二种方案需要添加外挂字幕文件，但是字幕文件易丢失不易保存，此外第二中方案还存在解码器解析错误导致字幕和图像帧错位的情况，观众观看体验不好。目前对影视和综艺等视频的后期加工比较普遍，例如添加制作海报、动态封面，以及精彩片段再剪辑的时候，通常不再需要字幕，如果字幕是嵌入在在视频在，那么后期加工时很不方便，需要先去字幕，同时还涉及到对字幕区域的再次修复，比较费时费力。因此，如何处理视频中的字幕，不破坏原始视频中的图像帧，并且能够方便对视频进行后期加工，是一个亟待解决的问题。发明内容本发明实施例的目的在于提供一种视频处理方法、一种视频处理装置、一种电子设备以及一种计算机可读存储介质，以实现对视频中的字幕进行处理，不破坏原始视频中的图像帧，并且能够方便对视频进行后期加工。具体技术方案如下：在本发明实施的第一方面，首先提供了一种视频处理方法，包括：获取视频的图像帧中的视频元素信息，所述视频元素信息包括视频元素和所述视频元素的显示信息；依据所述显示信息，确定所述图像帧中显示所述视频元素的视频元素图像；对所述视频元素图像进行二值化处理，得到二值化图像；对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值；将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频。可选地，所述对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值，包括：从所述二值化图像中跳行提取出二值化数组；将所述二值化数组的每一列的数值，按照二进制转十进制的规则转换为十进制数值；按照预先统计的哈希映射表，将所述十进制数值和所述显示信息转换为哈希编码数值。可选地，所述将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频，包括：将所述哈希编码数值存储至对应的图像帧的阿尔法通道中。可选地，所述将所述哈希编码数值存储至对应的所述图像帧的阿尔法通道中，包括：当所述图像帧中的阿尔法通道中没有存储有数据时，将所述哈希编码数值存储至对应的所述图像帧的阿尔法通道中；当所述图像帧中的阿尔法通道中存储有数据时，将指定开始标识、所述哈希编码数值和指定结束标识存储至对应的所述图像帧的阿尔法通道中所述数据的末尾处。可选地，所述将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频，包括：依据所述哈希编码数值，调整所述图像帧中指定区域中的像素值的奇偶性，得到编码视频。可选地，所述视频元素至少包括字幕和图标的其中一种，所述显示信息包括视频元素的显示位置和大小。在本发明实施的第二方面，还提供了一种视频处理方法，包括：获取编码视频；从所述编码视频的图像帧中提取出哈希编码数值；依据所述哈希编码数值，生成二值化图像和显示信息；将所述二值化图像转换为视频元素图像，并按照所述显示信息在所述图像帧中显示所述视频元素图像。可选地，所述从所述编码视频的图像帧中提取出哈希编码数值，包括：从所述编码视频的图像帧的阿尔法通道中提取出哈希编码数值。可选地，所述从所述编码视频的图像帧中提取出哈希编码数值，包括：从所述编码视频的图像帧的指定区域中提取出像素值；依据所述像素值的奇偶性，得到哈希编码数值。可选地，所述依据所述哈希编码数值，生成二值化图像和显示信息，包括：将所述哈希编码数值按照预先统计的哈希映射表，转换得到十进制数值和所述显示信息；将所述十进制数值按照十进制转二进制的规则转换，得到二值化数组；对所述二值化数组进行插值处理，得到二值化图像。在本发明实施的第三方面，还提供了一种视频处理装置，包括：视频元素信息获取模块，用于获取视频的图像帧中的视频元素信息，所述视频元素信息包括视频元素和所述视频元素的显示信息；视频元素图像确定模块，用于依据所述显示信息，确定所述图像帧中显示所述视频元素的视频元素图像；二值化图像得到模块，用于对所述视频元素图像进行二值化处理，得到二值化图像；哈希编码数值得到模块，用于对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值；编码视频得到模块，用于将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频。在本发明实施的第四方面，还提供了一种视频处理装置，包括：编码视频获取模块，用于获取编码视频；哈希编码数值提取模块，用于从所述编码视频的图像帧中提取出哈希编码数值；图像信息生成模块，用于依据所述哈希编码数值，生成二值化图像和显示信息；视频元素图像显示模块，用于将所述二值化图像转换为视频元素图像，并按照所述显示信息在所述图像帧中显示所述视频元素图像。在本发明实施的又一方面，还提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有指令，当其在计算机上运行时，使得计算机执行上述任一所述的视频处理方法。在本发明实施的又一方面，还提供了一种包含指令的计算机程序产品，当其在计算机上运行时，使得计算机执行上述任一所述的视频处理方法。本发明实施例提供的一种视频处理方法，通过获取视频的图像帧中的视频元素信息，视频元素信息包括视频元素和视频元素的显示信息，依据显示信息确定图像帧中显示视频元素的视频元素图像，然后对视频元素图像进行二值化处理得到二值化图像，对二值化图像和显示信息进行哈希编码得到哈希编码数值，将哈希编码数值嵌入至对应的图像帧中，得到编码视频。本发明实施例将视频元素信息的哈希编码数值嵌入至视频的图像帧中，不会破坏原始视频中的图像帧，同时便于从图像帧中提取出哈希编码数值，从而方便对视频进行后期加工。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍。图1为本发明实施例中提供的一种视频处理方法的步骤流程图；图2为本发明实施例中提供的一种在图像帧中显示字幕的视频元素图像的示意图；图3为本发明实施例中提供的一种字幕的二值化图像的示意图；图4为本发明实施例中提供的一种十进制数值的数组示意图；图5为本发明实施例中提供的一种字幕信息嵌入视频的图像帧的流程示意图；图6为本发明实施例中提供的另一种视频处理方法的步骤流程图；图7为本发明实施例中提供的一种视频处理装置的结构框图；图8为本发明实施例中提供的另一种视频处理装置的结构框图；图9为本发明实施例中提供的一种电子设备的结构框图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行描述。目前，由于大部分综艺、影视剧、电影等视频的视频元素，例如字幕或者图标等，基本为纯色结构，不具有纹理，因此在显示时，相当于抹去了在视频的图像帧中在该位置原有的图像信息，导致使用时恢复困难。针对上述问题，本发明实施例提供了一种视频处理方法，视频元素的视频元素信息可以转换为哈希编码数值，然后嵌入到视频的对应图像帧的某一层上，在不影响图片内容的情况下，通过算法的特定编解码实现视频元素的显示与隐藏，通过利用单色字幕的信息冗余的特性对字幕区域进行压缩编码，同时存储在视频的图像帧当中。参照图1，为本发明实施例中提供的一种视频处理方法的步骤流程图，如图1所示，该方法具体可以包括如下步骤：步骤101，获取视频的图像帧中的视频元素信息，所述视频元素信息包括视频元素和所述视频元素的显示信息。其中，视频可以是指的影视和综艺等视频作品。其中，所述视频元素至少包括字幕和图标的其中一种，所述显示信息包括视频元素的显示位置和大小。具体地，字幕可以是指的视频中的文字，例如视频名称、人物之间对话或者视频的旁白等，图标可以是指的LOGO等视频上显示的图标；显示信息是指的字幕或者图标在视频的图像帧中显示的显示位置和大小，例如字幕显示在图像帧的中下方，字幕的大小为100*100。步骤102，依据所述显示信息，确定所述图像帧中显示所述视频元素的视频元素图像。其中，视频元素图像是指在图像帧中显示视频元素的图像，例如显示字幕的图像，或者显示图标的图像。具体地，参照图2，所示为一种在图像帧中显示字幕的视频元素图像的示意图，其中，图中的“只有这个手势”为字幕。在本发明实施例中，在获取到每一帧的图像帧对应的视频元素信息后，依据视频元素信息的显示信息，确定视频元素信息的视频元素在该图像帧的视频元素图像。具体地，假设视频元素为字幕，显示信息为图像帧的中下方以及大小为100*100，则可以确定在图像帧的中下方处，将显示一个大小为100*100的字幕。步骤103，对所述视频元素图像进行二值化处理，得到二值化图像。其中，图像帧的像素值的取值范围在0～255，二值化是将图像上的像素点的像素值置为0或1。具体地，假设图像阈值为128，如果视频元素图像中的像素值小于128，则将该像素值置为0，如果视频元素图像中的像素值大于或等于128，则将该像素值置为1，在完成对视频元素图像中所有的像素值的二值化处理后，可以得到像素值为0或者1的二值化图像。参照图3，所示为一种字幕的二值化图像的示意图，其中，图中显示的字幕为纯色，这样字幕图像便很容易进行二值化处理，二值化处理后的字幕图像将转换为仅有0与1两种数值的图像。步骤104，对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值。其中，Hash，一般翻译做散列、杂凑，或音译为哈希，哈希编码是将任意长度的输入值通过散列算法变换成固定长度的输出，该输出就是散列值。哈希编码是一种压缩映射，哈希编码数值的内存空间通常远小于输入值的内存空间。综上，简单的说，哈希编码就是一种将任意长度的输入至压缩到某一固定长度的消息摘要的函数。在本发明实施例中，对于图像帧对应的二值化图像和显示信息进行哈希编码，得到哈希编码数值，可以理解，由于哈希编码数值的空间通常远小于二值化图像和显示信息的内存空间，因此对图像帧的二值化图像和显示信息进行哈希编码，可以节省大量的内存空间。步骤105，将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频。在本发明实施例中，对于每一帧图像帧对应的二值化图像和显示信息进行哈希编码，得到哈希编码数值后，将哈希编码数值嵌入至对应的图像帧中，在完成对视频中的所有的图像帧的哈希编码处理后，可以得到编码视频。在上述的视频处理方法中，通过获取视频的图像帧中的视频元素信息，视频元素信息包括视频元素和视频元素的显示信息，依据显示信息确定图像帧中显示视频元素的视频元素图像，然后对视频元素图像进行二值化处理得到二值化图像，对二值化图像和显示信息进行哈希编码得到哈希编码数值，将哈希编码数值嵌入至对应的图像帧中，得到编码视频。本发明实施例将视频元素信息的哈希编码数值嵌入至视频的图像帧中，不会破坏原始视频中的图像帧，同时便于从图像帧中提取出哈希编码数值，从而方便对视频进行后期加工。在本发明的一示例性实施例中，所述步骤104，对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值，可以包括：从所述二值化图像中跳行提取出二值化数组；将所述二值化数组的每一列的数值，按照二进制转十进制的规则转换为十进制数值；按照预先统计的哈希映射表，将所述十进制数值和所述显示信息转换为哈希编码数值。其中，哈希映射表，是根据关键码值而直接进行访问的数据结构。简而言之，它通过把关键码值映射到表中一个位置来访问记录，以加快查找的速度。在本发明实施例中，预先统计了一个哈希映射表，可以基于该哈希映射表，将二值化图像和显示信息映射到一个关键码值，通过哈希编码数值来表示，可以压缩数组的长度，达到空间压缩的目的。在本发明实施例中，对于二值化图像先进行缩放处理。具体地，对二值化图像进行缩放，通常缩小为原大小的1/2，例如，假设将二值化图像固定缩小至指定行数64。具体地，对二值化图像进行跳行提取出二值化数组，然后将二值化数组中的每一列的数值当做二进制的数值，将这个数值进行十进制化，则转换后可以十进制数值，从而形成一个标准的数组，如图4所示，数组末尾处的“14”“19”“35”“6”，即为转换后的十进制数值。最后，再基于预先统计的哈希映射表，将该数组中的十进制数值和显示信息转换为哈希编码数值。在上述实施例中，对二值化图像跳行提取出二值化数组，然后再将二值化数组的每一列的数值，按照二进制转十进制的规则转换为十进制数值，从而得到十进制数值形成的数组，最后按照预先统计的哈希映射表，将十进制数值和显示信息转换为哈希编码数值，实现对于二值化图像和显示信息的压缩处理，减小视频元素图像的嵌入至图像帧时的大小，进而减少了编码视频的大小，使得编码视频易于在互联网上进行传输。在本发明的一示例性实施例中，所述步骤105，将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频，可以包括：将所述哈希编码数值存储至对应的图像帧的阿尔法通道中。在本发明实施例中，哈希编码数值可以存储至对应的图像帧的阿尔法通道中。在本发明的一示例性实施例中，所述将所述哈希编码数值存储至对应的所述图像帧的阿尔法通道中，包括：当所述图像帧中的阿尔法通道中没有存储有数据时，将所述哈希编码数值存储至对应的所述图像帧的阿尔法通道中；当所述图像帧中的阿尔法通道中存储有数据时，将指定开始标识、所述哈希编码数值和指定结束标识存储至对应的所述图像帧的阿尔法通道中所述数据的末尾处。具体地，如果图像帧的阿尔法通道未被使用，则可以通过写入的方式，将哈希编码数值直接存储在未使用图像帧的Alpha通道当中；如果图像帧的阿尔法通道已经被使用，则例如在阿尔法通道中已经存储有深度信息时，则可以在阿尔法通道的末尾，将哈希编码数值和指定开始标识与指定结束标识存储至阿尔法通道的深度信息的为末尾出，其中，指定开始标识和指定结束标识用于表示哈希编码数值的开始位置与结束位置。在上述实施例中，将哈希编码数值存储至对应的图像帧的阿尔法通道中，由于是存储在图像帧的阿尔法通道中，因此并不会对图像帧原有的图像信息造成影响，并且即使在图像帧的阿尔法通道中已经存储有数据，也可以通过指定开始标识与指定结束标识，从阿尔法通道中提取出哈希编码数值。在本发明的一示例性实施例中，所述将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频，包括：依据所述哈希编码数值，调整所述图像帧中指定区域中的像素值的奇偶性，得到编码视频。在本发明实施例中，采用像素值奇偶表示法将哈希编码数值嵌入到图像帧中，像素值奇偶表示法是改变了图像帧中指定区域中的像素的像素值的奇偶性。具体地，哈希编码数值是0或者1，将0视为偶数，1视为奇数，然后基于图像帧中指定区域的像素值原始的奇偶性和哈希编码数值，调整指定区域的像素值，使得指定区域中像素值的奇偶性与哈希编码数值对应，其中，改变奇偶性是将像素值加1，即当像素值为奇数时通过加1的方式变为偶数，当像素值为偶数时加1的方式变为奇数，这样，哈希编码数值就嵌入至了图像帧中。在完成对视频中的所有的图像帧的在指定区域与哈希编码数值相加后，可以得到编码视频。举例来说，假设指定区域为在图像帧的中下方，图像帧的中下方的像素值为81、82、83、84，哈希编码数值为1、1、0、1，则像素值的奇偶性应该为奇、奇、偶、奇，那么调整奇偶性的像素值将变化为81、83、84、85。可以理解，虽然图像帧中部分的像素值有所变化，但是由于仅仅在原始像素值的基础上增加了1，故而实际上对于图像帧整体的显示效果影响不大。在上述实施例中，依据哈希编码数值的奇偶性调整图像帧中指定区域的像素值，使得指定区域中的像素值的奇偶性与哈希编码数值的奇偶性相对应，虽然调整了图像帧中部分的像素值，但是由于仅仅是在原始像素值的基础上加1，因此并不会对图像帧原有的图像信息造成影响。为了使本领域技术人员更好地理解本发明实施例，以下采用一个具体的方案对于对视频处理进行说明，具体地，参照图5，所示为本发明的一种字幕信息嵌入视频的图像帧的流程示意图，包括如下步骤：步骤501，获取视频和字幕信息；其中，字幕信息可以包括字幕和显示信息；步骤502，依据显示信息确定字幕的显示位置和大小；步骤503，将视频的图像帧生成二值化图像；步骤504，对二值化图像缩放，具体可以是通过跳行提取二值化数值，然后再压缩成单列的数组；其中，该数组内的数值十进制数值；步骤505，基于哈希映射表对十进制数值进行哈希编码，得到哈希编码数值；其中，哈希映射表为对大量是视频进行统计生成哈希映射表，存储在编码器中；步骤506，基于哈希映射表对显示信息进行哈希编码，得到哈希编码数值；步骤507，将哈希编码数值嵌入图像帧的阿尔法通道中。在本发明实施例中，对字幕信息进行哈希编码得到哈希编码数值，然后将哈希编码数值嵌入至图像帧的阿尔法通道中，这种内嵌至图像帧的方式，并不会对图像帧原有的图像信息造成影响。参照图6，为本发明实施例中提供的一种视频处理方法的步骤流程图，如图6所示，该方法具体可以包括如下步骤：步骤601，获取编码视频。步骤602，从所述编码视频的图像帧中提取出哈希编码数值。步骤603，依据所述哈希编码数值，生成二值化图像和显示信息。步骤604，将所述二值化图像转换为视频元素图像，并按照所述显示信息在所述图像帧中显示所述视频元素图像。在上述视频处理方法中，获取编码视频，从编码视频的图像帧中提取出哈希编码数值，然后依据哈希编码数值生成二值化图像和显示信息，将二值化图像转换为视频元素图像，再按照显示信息在图像帧中显示视频元素图像。在本发明实施例中，视频元素的哈希编码数值为内嵌在图像帧中，可以从图像帧中解码对应的哈希编码数值，进而还原出视频元素的二值化图像和显示信息，并且，本发明实施例哈希编码数值的解码与原有的视频解码方式相兼容，并不会对原有的视频界面方式冲突。在本发明实施例中，将视频元素的视频元素信息通过编码的方式直接嵌入到视频的每一帧图像帧当中，通过解码器来控制视频元素的显示与隐藏，不破坏原始的图像帧，同时又给后续处理提供了方便，例如可以方便视频的后期制作，免去了字幕擦除与图像恢复的烦恼。在本发明的一示例性实施例中，所述步骤602，从所述编码视频的图像帧中提取出哈希编码数值，可以包括：从所述编码视频的图像帧的阿尔法通道中提取出哈希编码数值。在本发明实施例中，当前视频元素的哈希编码数值是嵌入在图像帧的阿尔法通道中时，可以从编码视频的图像帧的阿尔法通道中提取出哈希编码数值。可选地，如果原先在阿尔法通道中已经存储有数据，则可以基于指定开始标识和指定结束标识，从阿尔法通道的对应位置中提取出哈希编码数值。在本发明的另一示例性实施例中，所述步骤602，从所述编码视频的图像帧中提取出哈希编码数值，可以包括：从所述编码视频的图像帧的指定区域中提取出像素值；依据所述像素值的奇偶性，得到哈希编码数值。在本发明实施例中，从编码视频的图像帧的指定区域中提取出像素值，例如可以从图像帧的中下方处提取出像素值，然后按照这些像素值的奇偶性，来还原得到视频元素的哈希编码数值。举例来说，假设0为偶数，1为奇数，如果从指定区域中提取出像素值为81、83、84、85，这些像素值的奇偶性为奇、奇、偶、奇，那么可以还原出哈希编码数值为1、1、0、1。在本发明实施例中，视频元素的哈希编码数值可以是嵌入在图像帧的阿尔法通道中，也可以是嵌入在图像帧的指定区域中，并且这两种方式对于原先的图像帧的显示效果没有影响或者影响可以忽略不计，在实际应用中，可以根据实际需求选择对应的哈希编码数值的嵌入方式，本发明实施例对此无需加以限制。在本发明的一示例性实施例中，所述步骤603，依据所述哈希编码数值，生成二值化图像和显示信息，可以包括：将所述哈希编码数值按照预先统计的哈希映射表，转换得到十进制数值和所述显示信息；将所述十进制数值按照十进制转二进制的规则转换，得到二值化数组；对所述二值化数组进行插值处理，得到二值化图像。在本发明实施例中，在得到哈希编码数值之后，可以按照预先统计的哈希映射表转换得到十进制数值和显示信息，其中，对于十进制数值可以按照十进制转二进制的规则转换，得到二值化数组，其中，由于二值化数据为从视频元素的二值化图像通过跳行提取所得，因此本发明实施例可以将二值化数组的行数还原为原始的二值化图像的行数，例如假设二值化数组缩小为二值化图像的1/2，如果二值化数组的行数为64，则可以还原为64*2行，然后对于新插入的行中的各个像素值，可以基于其周围的像素值进行插值处理，得到对应的像素值填入，进而还原得到二值化图像。在上述实施例中，对从图像帧中提取的视频元素的哈希编码数值，可以基于预先统计的哈希映射表，转换得到十进制数值和显示信息，然后将十进制数值按照十进制转二进制的规则转换得到二值化数组，再对二值化数组进行插值处理得到视频元素的二值化图像。参照图7，为本发明实施例中提供的一种视频处理装置的结构框图，如图7所示，该装置70具体可以包括如下模块：视频元素信息获取模块701，用于获取视频的图像帧中的视频元素信息，所述视频元素信息包括视频元素和所述视频元素的显示信息；视频元素图像确定模块702，用于依据所述显示信息，确定所述图像帧中显示所述视频元素的视频元素图像；二值化图像得到模块703，用于对所述视频元素图像进行二值化处理，得到二值化图像；哈希编码数值得到模块704，用于对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值；编码视频得到模块705，用于将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频。在本发明的一示例性实施例中，所述哈希编码数值得到模块704，用于从所述二值化图像中跳行提取出二值化数组；将所述二值化数组的每一列的数值，按照二进制转十进制的规则转换为十进制数值；按照预先统计的哈希映射表，将所述十进制数值和所述显示信息转换为哈希编码数值。在本发明的一示例性实施例中，所述编码视频得到模块705，用于将所述哈希编码数值存储至对应的图像帧的阿尔法通道中。在本发明的一示例性实施例中，所述编码视频得到模块705，用于当所述图像帧中的阿尔法通道中没有存储有数据时，将所述哈希编码数值存储至对应的所述图像帧的阿尔法通道中；当所述图像帧中的阿尔法通道中存储有数据时，将指定开始标识、所述哈希编码数值和指定结束标识存储至对应的所述图像帧的阿尔法通道中所述数据的末尾处。在本发明的一示例性实施例中，所述编码视频得到模块705，用于依据所述哈希编码数值，调整所述图像帧中指定区域中的像素值的奇偶性，得到编码视频。在本发明的一示例性实施例中，所述视频元素至少包括字幕和图标的其中一种，所述显示信息包括视频元素的显示位置和大小。参照图8，为本发明实施例中提供的另一种视频处理装置的结构框图，如图8所示，该装置80具体可以包括如下模块：编码视频获取模块801，用于获取编码视频；哈希编码数值提取模块802，用于从所述编码视频的图像帧中提取出哈希编码数值；图像信息生成模块803，用于依据所述哈希编码数值，生成二值化图像和显示信息；视频元素图像显示模块804，用于将所述二值化图像转换为视频元素图像，并按照所述显示信息在所述图像帧中显示所述视频元素图像。在本发明的一示例性实施例中，所述哈希编码数值提取模块802，用于从所述编码视频的图像帧的阿尔法通道中提取出哈希编码数值。在本发明的一示例性实施例中，所述哈希编码数值提取模块802，用于从所述编码视频的图像帧的指定区域中提取出像素值；依据所述像素值的奇偶性，得到哈希编码数值。在本发明的一示例性实施例中，所述图像信息生成模块803，用于将所述哈希编码数值按照预先统计的哈希映射表，转换得到十进制数值和所述显示信息；将所述十进制数值按照十进制转二进制的规则转换，得到二值化数组；对所述二值化数组进行插值处理，得到二值化图像。在本发明的一示例性实施例中，所述视频元素至少包括字幕和图标的其中一种，所述显示信息包括视频元素的显示位置和大小。对于上述装置实施例而言，由于其与方法实施例基本相似，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。本发明实施例还提供了一种电子设备，如图9所示，包括处理器91、通信接口92、存储器93和通信总线94，其中，处理器91，通信接口92，存储器93通过通信总线94完成相互间的通信，存储器93，用于存放计算机程序；处理器91，用于执行存储器93上所存放的程序时，实现如下步骤：获取视频的图像帧中的视频元素信息，所述视频元素信息包括视频元素和所述视频元素的显示信息；依据所述显示信息，确定所述图像帧中显示所述视频元素的视频元素图像；对所述视频元素图像进行二值化处理，得到二值化图像；对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值；将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频。可选地，所述对所述二值化图像和所述显示信息进行哈希编码，得到哈希编码数值，包括：从所述二值化图像中跳行提取出二值化数组；将所述二值化数组的每一列的数值，按照二进制转十进制的规则转换为十进制数值；按照预先统计的哈希映射表，将所述十进制数值和所述显示信息转换为哈希编码数值。可选地，所述将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频，包括：将所述哈希编码数值存储至对应的图像帧的阿尔法通道中。可选地，所述将所述哈希编码数值存储至对应的所述图像帧的阿尔法通道中，包括：当所述图像帧中的阿尔法通道中没有存储有数据时，将所述哈希编码数值存储至对应的所述图像帧的阿尔法通道中；当所述图像帧中的阿尔法通道中存储有数据时，将指定开始标识、所述哈希编码数值和指定结束标识存储至对应的所述图像帧的阿尔法通道中所述数据的末尾处。可选地，所述将所述哈希编码数值嵌入至对应的所述图像帧中，得到编码视频，包括：依据所述哈希编码数值，调整所述图像帧中指定区域中的像素值的奇偶性，得到编码视频。可选地，所述视频元素至少包括字幕和图标的其中一种，所述显示信息包括视频元素的显示位置和大小。处理器91，用于执行存储器93上所存放的程序时，还可以实现如下步骤：获取编码视频；从所述编码视频的图像帧中提取出哈希编码数值；依据所述哈希编码数值，生成二值化图像和显示信息；将所述二值化图像转换为视频元素图像，并按照所述显示信息在所述图像帧中显示所述视频元素图像。可选地，所述从所述编码视频的图像帧中提取出哈希编码数值，包括：从所述编码视频的图像帧的阿尔法通道中提取出哈希编码数值。可选地，所述从所述编码视频的图像帧中提取出哈希编码数值，包括：从所述编码视频的图像帧的指定区域中提取出像素值；依据所述像素值的奇偶性，得到哈希编码数值。可选地，所述依据所述哈希编码数值，生成二值化图像和显示信息，包括：将所述哈希编码数值按照预先统计的哈希映射表，转换得到十进制数值和所述显示信息；将所述十进制数值按照十进制转二进制的规则转换，得到二值化数组；对所述二值化数组进行插值处理，得到二值化图像。上述终端提到的通信总线可以是外设部件互连标准总线或扩展工业标准结构总线等。该通信总线可以分为地址总线、数据总线、控制总线等。为便于表示，图中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。通信接口用于上述终端与其他设备之间的通信。存储器可以包括随机存取存储器，也可以包括非易失性存储器，例如至少一个磁盘存储器。可选的，存储器还可以是至少一个位于远离前述处理器的存储装置。上述的处理器可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。在本发明提供的又一实施例中，还提供了一种计算机可读存储介质，该计算机可读存储介质中存储有指令，当其在计算机上运行时，使得计算机执行上述实施例中任一所述的视频处理方法。在本发明提供的又一实施例中，还提供了一种包含指令的计算机程序产品，当其在计算机上运行时，使得计算机执行上述实施例中任一所述的视频处理方法。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机程序指令时，全部或部分地产生按照本发明实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一个计算机可读存储介质传输，例如，所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线)或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质，、光介质、或者半导体介质)等。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。本说明书中的各个实施例均采用相关的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于系统实施例而言，由于其基本相似于方法实施例，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。以上所述仅为本发明的较佳实施例而已，并非用于限定本发明的保护范围。凡在本发明的精神和原则之内所作的任何修改、等同替换、改进等，均包含在本发明的保护范围内。
