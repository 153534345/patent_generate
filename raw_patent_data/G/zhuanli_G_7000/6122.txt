标题title
一种基于图像处理的电缆检测方法
摘要abst
本发明涉及图像数据处理技术领域，具体涉及一种基于图像处理的电缆检测方法。该方法获取电缆导电层断口处的断口图，根据断口图内边缘像素点的位置将对应的预设尺寸窗口划分窗口区域，依据断口图中边缘像素点的预设尺寸窗口内边缘像素点间的坐标变化幅值获取位置异常变化幅值，根据断口图中各边缘像素点对应的窗口区域内的纹理特征获取断口剥离光滑度，结合位置异常变化幅值和断口剥离光滑度得到边缘像素点的断口毛刺显著值，基于边缘像素点的坐标和断口毛刺显著值获取缺陷像素点，依据缺陷像素点的数量确定电缆断口处的缺陷情况，进而获取断口处的平整情况和毛刺存在状况，提高了对电缆外半导层断口进行缺陷检测的准确性。
权利要求书clms
1.一种基于图像处理的电缆检测方法，其特征在于，该方法包括：获取电缆导电层断口处的断口图；根据所述断口图内边缘像素点的位置将所述断口图中每个边缘像素点的预设尺寸窗口划分为两个窗口区域；依据所述断口图中边缘像素点的预设尺寸窗口内各边缘像素点之间的坐标变化幅值获取每个边缘像素点的位置异常变化幅值；依据所述断口图中每个边缘像素点对应的两个所述窗口区域内的纹理特征获取每个边缘像素点的断口剥离光滑度；结合所述位置异常变化幅值和所述断口剥离光滑度得到每个边缘像素点的断口毛刺显著值；基于每个边缘像素点的坐标和对应所述断口毛刺显著值获取断口图的缺陷像素点，根据断口图的所述缺陷像素点的数量对电缆外半导层断口处的缺陷情况进行检测。2.根据权利要求1所述的一种基于图像处理的电缆检测方法，其特征在于，所述断口图的获取方法，包括：获取剥切完成后电缆的电缆表面图像，得到电缆表面图像对应的电缆表面灰度图像，对电缆表面灰度图像使用边缘检测算法获取电缆表面边缘图像；去除所述电缆表面灰度图像中的背景信息，获得电缆区域，对所述电缆区域中的像素点进行聚类得到两个聚类簇，分别将每个聚类簇内像素点组成的区域作为断口区域；在电缆表面边缘图像中确定两个断口区域相邻的边缘，在电缆表面灰度图像中以所述边缘预设邻域范围内的图像作为断口图。3.根据权利要求1所述的一种基于图像处理的电缆检测方法，其特征在于，所述根据所述断口图内边缘像素点的位置将所述断口图中每个边缘像素点的预设尺寸窗口划分为两个窗口区域的方法，包括：通过每个边缘像素点的预设尺寸窗口内的所有边缘像素点构成的边缘线将对应预设尺寸窗口分别划分为两个所述窗口区域，分别计算两个所述窗口区域内像素点的灰度值均值，将灰度值均值较大的所述窗口区域作为第一窗口区域，将灰度值均值较小的所述窗口区域作为第二窗口区域。4.根据权利要求1所述的一种基于图像处理的电缆检测方法，其特征在于，所述位置异常变化幅值的获取方法，包括：根据坐标将所述断口图中每个边缘像素点的预设尺寸窗口内的边缘像素点顺序排列，并对排列后的所有边缘像素点进行编号，依次将编号相邻的边缘像素点的横坐标值、纵坐标值分别相减得到横坐标变化幅值和纵坐标变化幅值，分别将所有横坐标变化幅值和纵坐标变化幅值按照编号顺序排列得到对应的横坐标变化幅值序列和纵坐标变化幅值序列；获得横坐标变化幅值序列中每个编号对应的边缘像素点的横坐标变化幅值预测值，获得纵坐标变化幅值序列中每个编号对应的边缘像素点的纵坐标变化幅值预测值；分别获得横坐标变化幅值序列和纵坐标变化幅值序列中的元素突变值；根据所述横坐标变化幅值预测值与所述横坐标变化幅值序列中元素的差异、所述纵坐标变化幅值预测值与所述纵坐标变化幅值序列中元素的差异和所述元素突变值的数量获得对应边缘像素点的所述位置异常变化幅值。5.根据权利要求4所述的一种基于图像处理的电缆检测方法，其特征在于，所述位置异常变化幅值的获取方法，包括：根据位置异常变化幅值公式获得所述位置异常变化幅值，所述位置异常变化幅值的计算公式为：式中，为断口图中坐标为的边缘像素点的位置异常变化幅值，为编号为的边缘像素点的横坐标变化幅值预测值，为编号为的边缘像素点的纵坐标变化幅值预测值，为横坐标变化幅值序列中编号为的元素，为纵坐标变化幅值序列中编号为的元素，为横坐标变化幅值序列和纵坐标变化幅值序列中所述元素突变值的数量之和，为坐标为的边缘像素点的预设尺寸窗口内的边缘像素点的数量；为常数系数；为绝对值符号。6.根据权利要求3所述的一种基于图像处理的电缆检测方法，其特征在于，所述断口剥离光滑度的获取方法，包括：获取断口图中每个边缘像素点的预设尺寸窗口的灰度共生矩阵，获取所述灰度共生矩阵的逆差矩；分别获取所述预设尺寸窗口内第一窗口区域和第二窗口区域对应的第一灰度直方图和第二灰度直方图，根据所述第一灰度直方图和第二灰度直方图分别获取第一窗口区域的第一熵和第二窗口区域的第二熵；将逆差矩作为分子，第一熵和第二熵相加的和作为分母得到的比值作为对应边缘像素点的断口剥离光滑度。7.根据权利要求1所述的一种基于图像处理的电缆检测方法，其特征在于，所述断口毛刺显著值的获取方法，包括：将位置异常变化幅值与断口剥离光滑度的比值作为对应边缘像素点的断口毛刺显著值。8.根据权利要求1所述的一种基于图像处理的电缆检测方法，其特征在于，所述缺陷像素点的获取方法，包括：由所述断口图中每个边缘像素点的横坐标、纵坐标和断口毛刺显著值确定每个边缘像素点在空间直角坐标系中对应的坐标点，对所有坐标点进行聚类得到至少两个坐标聚类簇，筛选出离散像素点作为断口图的所述缺陷像素点。9.根据权利要求1所述的一种基于图像处理的电缆检测方法，其特征在于，所述根据断口图的所述缺陷像素点的数量对电缆外半导层断口处的缺陷情况进行检测的方法，包括：设置数量阈值，当断口图中缺陷像素点的数量大于等于数量阈值时，则认为电缆外半导层断口处存在缺陷，缺陷像素点的位置为电缆外半导层断口处缺陷位置；当断口图中缺陷像素点的数量小于数量阈值时，则认为电缆外半导层断口处不存在缺陷。
说明书desc
技术领域本发明涉及图像数据处理技术领域，具体涉及一种基于图像处理的电缆检测方法。背景技术电缆线路一般用于输配电线路，作用为传输和分配电能，电缆线路的正常运行是电力网安全稳定运行的基础。电缆线路一般由电缆本身、电缆接头、端头等组成。其中，电缆接头的结构最为复杂，且需要在施工现场安装完成。由于施工环境的复杂性以及施工人员在安装过程中的技术水平差异，极易导致在电缆接头中形成绝缘薄弱点，影响到电缆线路的绝缘和屏蔽作用，容易在带病运行一段时间后的使用过程中发生局部放电，最后导致接头击穿，影响电缆线路的运行。为保证电缆线路的质量，一般会对电缆接头进行交接试验，采用耐压试验和局部放电试验来对电缆进行绝缘状态检测。交接试验受到信号采集和识别的限制，对宏观缺陷的识别精度良好，但对细微缺陷的检测精度不足，存在出现如毛刺缺陷的细微缺陷的电缆接头通过交接试验但在投入运行后出现绝缘故障的情况。因此需要进一步检测电缆接头中的细微缺陷。现有技术获取电缆图像的初始连通域，根据各初始连通域的中心点的位置关系得到缺陷簇，不属于缺陷簇内的初始连通域为线形缺陷，获取缺陷簇内所有初始连通域的主成分方向以首次筛选缺陷簇内的初始连通域，根据初始连通域的像素值序列的增减顺序和初始连通域的密集程度进行二次筛选缺陷簇内初始连通域，获取缺陷簇内各初始连通域的灰度共生矩阵，根据灰度共生矩阵的熵均值进行三次筛选缺陷簇内初始连通域，基于标注线形缺陷和三次筛选后的缺陷簇，得到缺陷位置。该方法对电缆缺陷情况进行检测时可能存在误差，检测出的缺陷位置可能不准确，即当电缆断口处的缺陷情况不明显时，会对缺陷簇的三次筛选的准确性造成极大影响，导致缺陷位置获取不准确，进而使电缆断口处的缺陷情况检测出现偏差。发明内容为了解决电缆断口处存在不明显缺陷情况而导致电缆断口处的缺陷检测出现偏差的技术问题，本发明的目的在于提供一种基于图像处理的电缆检测方法，所采用的技术方案具体如下：本发明提出了一种基于图像处理的电缆检测方法，该方法包括：获取电缆导电层断口处的断口图；根据所述断口图内边缘像素点的位置将所述断口图中每个边缘像素点的预设尺寸窗口划分为两个窗口区域；依据所述断口图中边缘像素点的预设尺寸窗口内各边缘像素点之间的坐标变化幅值获取每个边缘像素点的位置异常变化幅值；依据所述断口图中每个边缘像素点对应的两个所述窗口区域内的纹理特征获取每个边缘像素点的断口剥离光滑度；结合所述位置异常变化幅值和所述断口剥离光滑度得到每个边缘像素点的断口毛刺显著值；基于每个边缘像素点的坐标和对应所述断口毛刺显著值获取断口图的缺陷像素点，根据断口图的所述缺陷像素点的数量对电缆外半导层断口处的缺陷情况进行检测。进一步地，所述断口图的获取方法，包括：获取剥切完成后电缆的电缆表面图像，得到电缆表面图像对应的电缆表面灰度图像，对电缆表面灰度图像使用边缘检测算法获取电缆表面边缘图像；去除所述电缆表面灰度图像中的背景信息，获得电缆区域，对所述电缆区域中的像素点进行聚类得到两个聚类簇，分别将每个聚类簇内像素点组成的区域作为断口区域；在电缆表面边缘图像中确定两个断口区域相邻的边缘，在电缆表面灰度图像中以所述边缘预设邻域范围内的图像作为断口图。进一步地，所述根据所述断口图内边缘像素点的位置将所述断口图中每个边缘像素点的预设尺寸窗口划分为两个窗口区域的方法，包括：通过每个边缘像素点的预设尺寸窗口内的所有边缘像素点构成的边缘线将对应预设尺寸窗口分别划分为两个所述窗口区域，分别计算两个所述窗口区域内像素点的灰度值均值，将灰度值均值较大的所述窗口区域作为第一窗口区域，将灰度值均值较小的所述窗口区域作为第二窗口区域。进一步地，所述位置异常变化幅值的获取方法，包括：根据坐标将所述断口图中每个边缘像素点的预设尺寸窗口内的边缘像素点顺序排列，并对排列后的所有边缘像素点进行编号，依次将编号相邻的边缘像素点的横坐标值、纵坐标值分别相减得到横坐标变化幅值和纵坐标变化幅值，分别将所有横坐标变化幅值和纵坐标变化幅值按照编号顺序排列得到对应的横坐标变化幅值序列和纵坐标变化幅值序列；获得横坐标变化幅值序列中每个编号对应的边缘像素点的横坐标变化幅值预测值，获得纵坐标变化幅值序列中每个编号对应的边缘像素点的纵坐标变化幅值预测值；分别获得横坐标变化幅值序列和纵坐标变化幅值序列中的元素突变值；根据所述横坐标变化幅值预测值与所述横坐标变化幅值序列中元素的差异、所述纵坐标变化幅值预测值与所述纵坐标变化幅值序列中元素的差异和所述元素突变值的数量获得对应边缘像素点的所述位置异常变化幅值。进一步地，所述位置异常变化幅值的获取方法，包括：根据位置异常变化幅值公式获得所述位置异常变化幅值，所述位置异常变化幅值的计算公式为：式中，为断口图中坐标为/＞的边缘像素点的位置异常变化幅值，/＞为编号为/＞的边缘像素点的横坐标变化幅值预测值，/＞为编号为/＞的边缘像素点的纵坐标变化幅值预测值，/＞为横坐标变化幅值序列中编号为/＞的元素，/＞为纵坐标变化幅值序列中编号为/＞的元素，/＞为横坐标变化幅值序列和纵坐标变化幅值序列中所述元素突变值的数量之和，/＞为坐标为/＞的边缘像素点的预设尺寸窗口内的边缘像素点的数量；/＞为常数系数；/＞为绝对值符号。进一步地，所述断口剥离光滑度的获取方法，包括：获取断口图中每个边缘像素点的预设尺寸窗口的灰度共生矩阵，获取所述灰度共生矩阵的逆差矩；分别获取所述预设尺寸窗口内第一窗口区域和第二窗口区域对应的第一灰度直方图和第二灰度直方图，根据所述第一灰度直方图和第二灰度直方图分别获取第一窗口区域的第一熵和第二窗口区域的第二熵；将逆差矩作为分子，第一熵和第二熵相加的和作为分母得到的比值作为对应边缘像素点的断口剥离光滑度。进一步地，所述断口毛刺显著值的获取方法，包括：将位置异常变化幅值与断口剥离光滑度的比值作为对应边缘像素点的断口毛刺显著值。进一步地，所述缺陷像素点的获取方法，包括：由所述断口图中每个边缘像素点的横坐标、纵坐标和断口毛刺显著值确定每个边缘像素点在空间直角坐标系中对应的坐标点，对所有坐标点进行聚类得到至少两个坐标聚类簇，筛选出离散像素点作为断口图的所述缺陷像素点。进一步地，所述根据断口图中所述缺陷像素点的数量对电缆外半导层断口处的缺陷情况进行检测的方法，包括：设置数量阈值，当断口图中缺陷像素点的数量大于等于数量阈值时，则认为电缆外半导层断口处存在缺陷，缺陷像素点的位置为电缆外半导层断口处缺陷位置；当断口图中缺陷像素点的数量小于数量阈值时，则认为电缆外半导层断口处不存在缺陷。本发明具有如下有益效果：本发明实施例中，为了对电缆接头的主绝缘表面及外半导电层断口处的缺陷情况进行针对性的判断，获取电缆导电层断口处的断口图；为提高对断口图中边缘像素点的相关信息判断的精确性，获取断口图中每个边缘像素点的预设尺寸窗口，根据预设尺寸窗口内像素点的信息获取对应边缘像素点的信息，由于外半导电层断口为环绕包围电缆的材料，所以断口图中的边缘为一个连续的边缘，且中间无断裂，根据边缘像素点的位置将断口图中每个边缘像素点的预设尺寸窗口划分为两个窗口区域；因为断口为人手工剥离产生的，所以断口可能为线形或弧形，导致无法根据断口位置各像素点的位置直接进行直线拟合或曲线拟合，但当断口出现毛刺时，会在一个较小的范围内变化幅度突然变大，依据断口图中边缘像素点的预设尺寸窗口内各边缘像素点之间的坐标变化幅值获取每个边缘像素点的位置异常变化幅值；断口位置为主绝缘表面和外半导电层的交界位置，两者材质、颜色均不相同，导致断口位置两侧呈现出的纹理特征差异较大，依据断口图中每个边缘像素点对应的两个窗口区域内的纹理特征获取每个边缘像素点的断口剥离光滑度；当断口处的位置改变不规律、毛刺处不光滑的特征越明显，则该处越可能为缺陷位置，结合位置异常变化幅值和断口剥离光滑度得到每个边缘像素点的断口毛刺显著值，当断口出现毛刺时，各像素点的空间分布规律发生突变，导致不同边缘像素点的断口毛刺显著值差异较大，所以基于每个边缘像素点的坐标和对应断口毛刺显著值获取断口图的缺陷像素点，进而依据缺陷像素点的数量对电缆外半导层断口处的缺陷情况进行检测，对断口图中缺陷像素点的位置进行分析，通过断口毛刺显著值将每个边缘像素点位置处的缺陷概率进行准确量化，通过对量化后的特征进行分析能够提高对断口处缺陷位置进行判断的正确率，使得缺陷检测算法能够分析到断口处的细节信息，降低了由于电缆外半导层断口缺陷不明显而导致缺陷检测出现偏差的概率，进而实现对电缆外半导层断口进行缺陷检测的准确性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种基于图像处理的电缆检测方法的步骤流程图；图2为本发明一个实施例所提供的划分后的预设尺寸窗口的示意图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种基于图像处理的电缆检测方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。本发明所针对的具体场景：在电缆接头安装施工过程中，需要按规范进行电缆本体的剥切，在剥切完成后需要对主绝缘表面及外半导电层断口处判断是否有细微缺陷。本方案所检测的细微缺陷为外半导电层断口处不平整、有毛刺。下面结合附图具体的说明本发明所提供的一种基于图像处理的电缆检测方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种基于图像处理的电缆检测方法的步骤流程图，该方法包括：步骤S1：获取电缆导电层断口处的断口图。在本发明实施例中，对安装完成后的电缆接头使用环形光源补光，以保持环境中光源充足，使用工业相机对电缆的剥切位置进行拍摄，获取剥切完成后电缆的电缆表面图像，得到电缆表面图像对应的电缆表面灰度图像，对电缆表面灰度图像使用边缘检测算法获取电缆表面边缘图像。其中，电缆表面图像为RGB图像，电缆表面边缘图像为二值图像。电缆设置位置的环境通常比较复杂，由于环境和相机内部零件震动等因素的影响，获取的电缆表面灰度图像上不可避免地会出现噪声，为避免这些噪声影响后续分析结果，使用高斯滤波对电缆表面灰度图像进行去噪，达到降低电缆表面灰度图像中噪声的目的，以提高电缆表面灰度图像的精度和质量。需要说明的是，本发明实施例中选取canny边缘检测算法获取电缆表面边缘图像、高斯滤波去噪，具体方法在此不做介绍，均为本领域技术人员熟知的技术手段。去除所述电缆表面灰度图像中的背景信息，获得电缆区域，对所述电缆区域中的像素点进行聚类得到两个聚类簇，分别将每个聚类簇内像素点组成的区域作为断口区域；在电缆表面边缘图像中确定两个断口区域相邻的边缘，以所述边缘预设邻域范围内的图像作为断口图。作为一个示例，考虑到电缆的外壳一般为深色，且经过剥切后的电缆主体通常为米白色，因此为了除去电缆表面灰度图像中的背景信息，将背景设置为纯白色，并且通过工业相机负载的光源使背景呈现更亮的状态，则背景中像素点的灰度值较大。基于电缆表面灰度图像中各像素点的灰度值获取最大类间方差法的分割阈值，将电缆表面灰度图像中灰度值大于分割阈值的像素点作为背景像素点，将电缆表面灰度图像中灰度值小于等于分割阈值的像素点作为电缆像素点，除去电缆表面灰度图像中的背景像素点，将电缆表面灰度图像中电缆像素点组成的区域作为电缆区域。因为经过剥切后电缆被分为外壳区域和内部主体区域，即主绝缘表面和外半导电层，因此对电缆区域中的电缆像素点使用K-Means算法进行聚类，将电缆区域中的电缆像素点划分为两个聚类簇，分别将每个聚类簇内电缆像素点组成的区域作为断口区域，这两个断口区域对应电缆接口处的两端，分别为主绝缘表面和外半导电层。由于两个断口区域相邻的各电缆像素点为电缆的断口位置，在电缆表面边缘图像中确定两个断口区域相邻的边缘，该相邻的边缘即为电缆剥切形成的断口边缘，将该边缘中像素点的位置在电缆表面边缘图像中标出，即在电缆表面灰度图像中也存在对应标记的边缘，以电缆表面边缘图像中该边缘预设邻域范围内的图像作为断口图。在本发明实施例中，预设邻域范围设置为50，即以该边缘为中心向两侧各扩充50个像素点获得断口图。需要说明的是，本发明实施例中选取K-Means算法对电缆像素点进行聚类，最大类间方差法，具体方法在此不做介绍，均为本领域技术人员熟知的技术手段。步骤S2：根据所述断口图内边缘像素点的位置将所述断口图中每个边缘像素点的预设尺寸窗口划分为两个窗口区域；依据所述断口图中边缘像素点的预设尺寸窗口内各边缘像素点之间的坐标变化幅值获取每个边缘像素点的位置异常变化幅值。电缆的断口为人手工剥离产生，无法保证呈现完全线形或者规整弧形，但光滑的断口轨迹上各像素点之间的位置保持确定的变化规律，所以可从断口一侧出发，根据断口轨迹中位于前侧的各像素点变化推测后续变化，由于光滑的断口的推测值与实际值差异较小，因此可以根据该特征对断口图中边缘像素点进行分析。由于两个断口区域分别对应断口处不同材质的侧面，断口图由两个断口区域相邻的边缘中的像素点构成的，所以断口图中边缘像素点的预设尺寸窗口内的像素点可能对应不同材质的侧面，所以将边缘像素点的预设尺寸窗口进行划分。预设尺寸窗口的划分方法为：通过每个边缘像素点的预设尺寸窗口内的所有边缘像素点构成的边缘线将对应预设尺寸窗口分别划分为两个窗口区域，分别计算两个窗口区域内像素点的灰度值均值，将灰度值均值较大的窗口区域作为第一窗口区域，将灰度值均值较小的窗口区域作为第二窗口区域。作为一个示例，为准确分析断口剥离情况，判断断口是否存在不平整、存在毛刺情况，对断口图中的边缘像素点进行分析。以断口图中每个边缘像素点为中心点，获取尺寸为的预设尺寸窗口，断口图中每个边缘像素点均有对应的预设尺寸窗口。由于外半导电层断口为环绕包围电缆的材料，所以断口图中的边缘为一个连续的边缘，且中间无断裂，使得断口图中边缘像素点的预设尺寸窗口内的所有边缘像素点可以构成一条边缘线，该边缘线可以将对应预设尺寸窗口划分为两个窗口区域。如图2所示，图2中黑色框为预设尺寸窗口的中心的边缘像素点，预设尺寸窗口以黑色框对应的边缘像素点为中心点进行设置，图2中灰色框为黑色框对应的边缘像素点的预设尺寸窗口内的其他边缘像素点，断口图中边缘像素点的预设尺寸窗口中由所有边缘像素点构成的边缘线将对应预设尺寸窗口划分为两个窗口区域。因为断口图中边缘的两端存在少数几个边缘像素点，这些边缘像素点的预设尺寸窗口内由边缘像素点构成边缘线无法将对应预设尺寸窗口划分为两个窗口区域，所以为保证后续分析结果的准确性，上述这些边缘像素点将不进行后续分析。分别计算两个窗口区域内各像素点的灰度值均值，将灰度值均值较大的窗口区域作为第一窗口区域，将灰度值均值较小的窗口区域作为第二窗口区域。本发明实施例中断口图中每个边缘像素点的预设尺寸窗口的尺寸取经验值/＞。由于断口为人手工剥离产生，无法保证完全光滑且规则，在剥离过程中，剥离下的部分受到拉力作用，导致断口可能为线形、也可能呈现弧形，所以断口位置各相邻像素点之间的位置变化无法根据拟合直线或者拟合曲线直接进行评价。但是当断口出现毛刺时，像素点的坐标变化幅值会在一个较小的范围内突然变大，且变化具有规律性，以此为基础获取断口图中每个边缘像素点的位置异常变化幅值。首先，依据断口图中边缘像素点的预设尺寸窗口内边缘像素点之间的坐标变化幅值获取横坐标变化幅值序列和纵坐标变化幅值序列。横坐标变化幅值序列和纵坐标变化幅值序列的获取方法为：根据坐标将所述断口图中每个边缘像素点的预设尺寸窗口内的边缘像素点顺序排列，并对排列后的所有边缘像素点进行编号，依次将编号相邻的边缘像素点的横坐标值、纵坐标值分别相减得到横坐标变化幅值和纵坐标变化幅值，分别将所有横坐标变化幅值和纵坐标变化幅值按照编号顺序排列得到对应的横坐标变化幅值序列和纵坐标变化幅值序列。作为一个示例，将断口图中每个边缘像素点的预设尺寸窗口中各边缘像素点按照从左至右、从上向下进行顺序排列，并对每个边缘像素点的预设尺寸窗口内顺序排列后的边缘像素点进行编号，编号分别为，即边缘像素点的预设尺寸窗口内有/＞个边缘像素点。将断口图中每个边缘像素点的预设尺寸窗口内编号为/＞的边缘像素点在断口图中的坐标记为/＞，其中，编号/＞。根据断口图中每个边缘像素点的预设尺寸窗口内各边缘像素点的坐标，得到编号相邻的两个边缘像素点之间的坐标变化幅值，坐标变化幅值即为断口的微观变化情况。坐标变化幅值分为横坐标变化幅值和纵坐标变化幅值，依次将编号相邻的边缘像素点的横坐标值相减得到横坐标变化幅值/＞，依次将编号相邻的边缘像素点的纵坐标值相减得到纵坐标变化幅值/＞。分别计算所有编号相邻的边缘像素点之间的横坐标变化幅值和纵坐标变化幅值，分别将所有横坐标变化幅值和纵坐标变化幅值按照编号顺序排列得到对应的横坐标变化幅值序列和纵坐标变化幅值序列。其次，根据横坐标变化幅值序列中的横坐标变化幅值，以及纵坐标变化幅值序列中的纵坐标变化幅值分别获取横坐标变化幅值预测值和纵坐标变化幅值预测值。横坐标变化幅值预测值和纵坐标变化幅值预测值的获取方法为：获得横坐标变化幅值序列中每个编号对应的边缘像素点的横坐标变化幅值预测值，获得纵坐标变化幅值序列中每个编号对应的边缘像素点的纵坐标变化幅值预测值。作为一个示例，对横坐标变化幅值序列使用移动平均法预测从第三项开始的各横坐标变化幅值预测值，分别记为；对纵坐标变化幅值序列使用移动平均法预测从第三项开始的各纵坐标变化幅值预测值，分别记为/＞。需要说明的是，本发明实施例中选取移动平均法获取横坐标变化幅值预测值和纵坐标变化幅值预测值，具体方法在此不做介绍，为本领域技术人员熟知的技术手段。之后，对横坐标变化幅值序列和纵坐标变化幅值序列分别进行Mann-Kendall突变点检测，分别获得横坐标变化幅值序列和纵坐标变化幅值序列中的元素突变值，将横坐标变化幅值序列和纵坐标变化幅值序列中元素突变值的数量相加，记为。需要说明的是，本发明实施例中选取Mann-Kendall突变点检测获取横坐标变化幅值序列和纵坐标变化幅值序列中的元素突变值，具体方法在此不做介绍，为本领域技术人员熟知的技术手段。最后，根据所述横坐标变化幅值预测值与所述横坐标变化幅值序列中元素的差异、所述纵坐标变化幅值预测值与所述纵坐标变化幅值序列中元素的差异和所述元素突变值的数量获得对应边缘像素点的所述位置异常变化幅值。根据位置异常变化幅值公式获得所述位置异常变化幅值，所述位置异常变化幅值的计算公式为：式中，为断口图中坐标为/＞的边缘像素点的位置异常变化幅值，/＞为编号为/＞的边缘像素点的横坐标变化幅值预测值，/＞为编号为/＞的边缘像素点的纵坐标变化幅值预测值，/＞为横坐标变化幅值序列中编号为/＞的元素，/＞为纵坐标变化幅值序列中编号为/＞的元素，/＞为横坐标变化幅值序列和纵坐标变化幅值序列中所述元素突变值的数量之和，/＞为坐标为/＞的边缘像素点的预设尺寸窗口内的边缘像素点的数量；/＞为常数系数，经验值为1；/＞为绝对值符号。需要说明的是，位置异常变化幅值反映了断口图中边缘像素点与其附近其他边缘像素点之间预测位置变化的差异程度，当该边缘像素点与附近其他边缘像素点之间的横坐标变化幅值与横坐标变化幅值预测值、纵坐标变化幅值与纵坐标变化幅值预测值之间的差异越大时，即当越大时，说明该位置一定范围内坐标变化幅值异常，则该边缘像素点的位置异常变化幅值越大，从而说明断口处对应位置出现毛刺的可能性越大；当横坐标变化幅值序列和纵坐标变化幅值序列中元素突变值的数量之和/＞越大，表明该边缘像素点与其附近其他边缘像素点之间坐标位置差异较大的边缘像素点的数量越多，进而说明断口图中该边缘像素点位置出现毛刺的可能性越大，则对应边缘像素点的位置异常变化幅值越大。步骤S3：依据所述断口图中每个边缘像素点对应的两个所述窗口区域内的纹理特征获取每个边缘像素点的断口剥离光滑度。断口位置为主绝缘表面和外半导电层的交界位置，因为两者材质、颜色均不相同，所以断口位置两侧呈现出的纹理特征差异较大。同时，电缆的断口为人手工剥离产生，当剥离的效果较好时，则断口应较为光滑，断口附近两侧不同材料表面其他损伤或划痕较小，且断口两侧仍保持光滑，可以根据该特征对断口图中边缘像素点进行分析。对断口图中每个边缘像素点进行分析，由于涉及到物体材质和颜色，所以根据各边缘像素点的位置，在电缆表面灰度图像找到各边缘像素点的预设尺寸窗口内所有边缘像素点对应的灰度值。获取断口图中每个边缘像素点的预设尺寸窗口的灰度共生矩阵，获取所述灰度共生矩阵的逆差矩；分别获取所述预设尺寸窗口内第一窗口区域和第二窗口区域对应的第一灰度直方图和第二灰度直方图，根据所述第一灰度直方图和第二灰度直方图分别获取第一窗口区域的第一熵和第二窗口区域的第二熵。作为一个示例，逆差矩能够反映图像纹理的同质性，度量图像纹理局部变化的程度，当逆差矩越大时，则图像纹理的不同区域间缺少变化，局部越为均匀，所以用逆差矩衡量断口处的纹理特征差异。获取断口图中每个边缘像素点的预设尺寸窗口的灰度共生矩阵，获取灰度共生矩阵对应的逆差矩，并将逆差矩记为，每个灰度共生矩阵均有一个逆差矩。当断口两侧均匀光滑时，则断口图中各边缘像素点的预设尺寸窗口对应的灰度共生矩阵的的逆差矩/＞越大，且利用步骤S2的方法，将断口图中每个边缘像素点的预设尺寸窗口划分得到的第一窗口区域和第二窗口区域应较为均匀。根据电缆表面灰度图像中对应边缘像素点的预设尺寸窗口内各像素点的灰度值，分别获取预设尺寸窗口内第一窗口区域和第二窗口区域对应的第一灰度直方图和第二灰度直方图，根据第一灰度直方图得到第一熵/＞、根据第二灰度直方图得到的第二熵/＞。需要说明的是，第一熵与第二熵均为对应灰度直方图中的灰度级分布的熵，即熵表现了对应窗口区域内的灰度级分布混乱程度，光滑的断口两侧出现的纹理较少，仍保持材料原本的光滑表面，当断口光滑时，则第一窗口区域对应的第一熵/＞和第二窗口区域对应的第二熵/＞均较小。需要说明的是，熵值的具体获取方法为本领域技术人员熟知的技术手段，在此不做赘述。将逆差矩作为分子，第一熵和第二熵相加的和作为分母得到的比值作为对应边缘像素点的断口剥离光滑度，则断口剥离光滑度的计算公式如下：式中，为断口图中坐标为/＞的边缘像素点的断口剥离光滑度，/＞为断口图中坐标为/＞的边缘像素点的预设尺寸窗口对应的灰度共生矩阵的逆差矩，/＞为断口图中坐标为/＞的边缘像素点的第一窗口区域的第一熵，/＞为断口图中坐标为/＞的边缘像素点的第二窗口区域的第二熵。需要说明的是，断口剥离光滑度可以衡量剥离后留下的断口两侧的光滑程度，逆差矩反映图像纹理的局部变化程度，逆差矩越大，则断口图中不同区域间的纹理的缺少变化，表明断口两侧比较光滑，即对应边缘像素点的断口剥离光滑度越大；当断口两侧的纹理越少时，即第一窗口区域对应的第一熵/＞和第二窗口区域对应的第二熵/＞均越小，说明断口两个区域较为光滑，则对应边缘像素点的断口剥离光滑度越大。步骤S4：结合所述位置异常变化幅值和所述断口剥离光滑度得到每个边缘像素点的断口毛刺显著值。断口为人工剥离，无法保证完全线形或呈规整弧形，可以根据断口图中各边缘像素点间的位置坐标变化规律获取对应边缘像素点的位置异常变化幅值，依据断口图中各边缘像素点附近的边缘像素点的纹理特征获取对应边缘像素点的断口剥离光滑度，基于位置异常变化幅值和断口剥离光滑度对断口图中各边缘像素点进行分析。将位置异常变化幅值与断口剥离光滑度的比值作为对应边缘像素点的断口毛刺显著值，则断口毛刺显著值的计算公式如下：式中，为断口图中坐标为/＞的边缘像素点的断口毛刺显著值，/＞为断口图中坐标为/＞的边缘像素点的位置异常变化幅值，/＞为断口图中坐标为/＞的边缘像素点的断口剥离光滑度。需要说明的是，断口毛刺显著值反映该边缘像素点在断口处对应位置上毛刺的显著性；当该边缘像素点与其附近其他边缘像素点之间的位置异常变化越大时，表明该边缘像素点附近其他边缘像素点的坐标位置的不规则改变规律的特征越明显，使得断口处对应位置出现毛刺的可能性越大，则该边缘像素点对应的断口毛刺显著值越大；当该边缘像素点对应断口处呈现出的毛刺处不光滑特征越明显时，则该像素点的断口剥离光滑度越小，使得该边缘像素点对应的断口毛刺显著值越大，表明该边缘像素点越可能对应断口上的毛刺位置。至此，断口图中每个边缘像素点均有对应的断口毛刺显著值。步骤S5：基于每个边缘像素点的坐标和对应所述断口毛刺显著值获取断口图的缺陷像素点，根据断口图的所述缺陷像素点的数量对电缆外半导层断口处的缺陷情况进行检测。通过断口毛刺显著值将断口处中的每个边缘像素点位置上的毛刺缺陷特征进行量化，方便了对毛刺缺陷信息的检测与提取，使得缺陷检测算法能够分析到断口处的细节信息，降低了由于电缆外半导层断口缺陷不明显而导致缺陷检测出现偏差的概率。在本发明实施例中，对断口图中每个边缘像素点的断口毛刺显著值进行归一化处理，获取各边缘像素点对应的归一化断口毛刺显著值。为便于将断口图中边缘像素点映射到空间直角坐标进行分析，降低各边缘像素点映射到空间直角坐标系后呈现聚集分布的情况，将每个边缘像素点的归一化断口毛刺显著值等比例扩增至范围内。其中，/＞为常数系数，实施者可按需自行设置。将扩增后的归一化断口毛刺显著值进行四舍五入处理得到对应的边缘像素点的断口毛刺显著处理值。通过数值扩增能够增加像素点之间的特征差异，方便后续聚类的同时放大了断口处细微缺陷的特征，使得缺陷检测更加准确。本发明实施例中扩增范围的端点取经验值0，另一端点/＞取经验值50。当断口处较为光滑时，各边缘像素点的空间分布规律一致，且断口两侧保持光滑，此时断口上各边缘像素点对应的断口毛刺显著值处理值较小，且数值较为接近；而当断口处出现毛刺时，断口位置各边缘像素点的空间分布规律发生突变，毛刺位置对应的各边缘像素点的断口毛刺显著值处理值较大，且不同边缘像素点对应的断口毛刺显著值处理值差异较大。所以光滑的断口处各边缘像素点在空间直角坐标系中对应的坐标点较为接近，可以聚类到某个坐标聚类簇内；但当断口出现毛刺时，毛刺位置的各边缘像素点在空间直角坐标系中对应的坐标点较远，无法聚类到某个坐标聚类簇内，即对应缺陷像素点。根据断口图中各边缘像素点在空间直角坐标系中对应的坐标点获取断口图中的缺陷像素点。缺陷像素点的获取方法为：由所述断口图中每个边缘像素点的横坐标、纵坐标和断口毛刺显著值确定每个边缘像素点在空间直角坐标系中对应的坐标点，对所有坐标点进行聚类得到至少两个坐标聚类簇，筛选出离散像素点作为断口图的所述缺陷像素点。作为一个示例，建立空间直角坐标系，以每个边缘像素点在断口图中对应的横坐标、纵坐标分别作为空间直角坐标系中的轴坐标值、/＞轴坐标值，并将每个边缘像素点对应的断口毛刺显著处理值作为空间直角坐标系中的/＞轴坐标值。根据断口图中每个边缘像素点的横坐标、纵坐标和对应的断口毛刺显著处理值确定各边缘像素点在空间直角坐标系中对应的坐标点，以/＞为邻域半径阈值、/＞为邻域密度阈值，使用DBSCAN聚类算法将空间直角坐标系中的坐标点进行聚类，得到多个坐标聚类簇。筛选出无法聚类到任意一个坐标聚类簇中的坐标点，即离散像坐标点，将这些离散坐标点在断口图中对应的边缘像素点作为缺陷像素点。本发明实施例中邻域半径阈值取经验值5，邻域密度阈值/＞取经验值10。需要说明的是，本发明实施例选取DBSCAN聚类算法对空间直角坐标系中的坐标点进行聚类，具体方法在此不做介绍，为本领域技术人员熟知的技术手段。设置数量阈值，当断口图中缺陷像素点的数量大于等于数量阈值时，则认为电缆外半导层断口处存在缺陷，缺陷像素点的位置为电缆外半导层断口处缺陷位置；当断口图中缺陷像素点的数量小于数量阈值时，则认为电缆外半导层断口处不存在缺陷。当电缆外半导层断口处存在缺陷时，则表明该电缆的外半导电层断口处不平整且有毛刺；当电缆外半导层断口处不存在缺陷时，则表明该电缆的外半导电层断口处光滑平整。本发明实施例中数量阈值取经验值10。综上所述，本发明实施例中，获取电缆导电层断口处的断口图，为提高对断口图中边缘像素点的相关信息判断的精确性，获取断口图中每个边缘像素点的预设尺寸窗口，根据断口图内边缘像素点的位置将断口图中每个边缘像素点的预设尺寸窗口划分为两个窗口区域，依据断口图中边缘像素点的预设尺寸窗口内各边缘像素点之间的坐标变化幅值获取每个边缘像素点的位置异常变化幅值，依据断口图中每个边缘像素点对应的两个窗口区域内的纹理特征获取每个边缘像素点的断口剥离光滑度，结合位置异常变化幅值和断口剥离光滑度得到每个边缘像素点的断口毛刺显著值，基于每个边缘像素点的坐标和对应断口毛刺显著值获取断口图的缺陷像素点，依据缺陷像素点的数量确定电缆断口处的缺陷情况，进而获取断口处的平整情况和毛刺存在状况，提高了对电缆外半导层断口进行缺陷检测的准确性。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
