标题title
一种自动控制仿真型飞行培训的装置及方法
摘要abst
本发明公开了一种自动控制仿真型飞行培训的装置及方法，涉及无人机仿真模拟训练技术领域；装置包括环境模拟模块、自动编辑记录模块、自动控制模块、无人机模型和计算模块等；方法包括利用自动控制模块控制无人机模型试飞，计算模块根据各程序模块的数据进行评分，根据得分情况不断调整控制程序等；通过反复的模拟学习，让无人机模型和控制程序熟悉各种环境因素，并根据工作内容、性质、目的、侧重点，对各项数据进行不同的计分的，找到最优的解决方案，这过程中控制程序会不断完善，提高了自动控制飞行培训的效率和效果，计分的方法更有利于系统的运算和判定，而且这种计分的方法，让无人机对事件处理有了侧重点，更有利于极端环境作业。
权利要求书clms
1.一种自动控制仿真型飞行培训的装置，其特征在于：包括环境模拟模块、环境采集模块、无人机模型、自动编辑记录模块、自动控制模块、物理引擎、碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元、故障分析和计算模块共十个程序模块，计算模块，用于对无人机模块模拟工作时的状态进行评分，其评分条件与碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块和能源储备单元反馈数据对应；碰撞冲击强度小于预测强度则加分，飞行速度大于预测速度则加分，起落和飞行时机身稳定性超过预测值则加分，实际飞行路线和规划路线重合度较高则加分，作业完成度高于预测值则加分，工作消耗能源少于预测值则加分，相反的则减分。2.根据权利要求1所述的一种自动控制仿真型飞行培训的装置，其特征在于：环境模拟模块，用于搭建模拟无人机工作时所处的虚拟环境，虚拟环境的环境因素包括重力、空气密度、磁场、光照和可见度；环境采集模块，用于收集无人机故障或坠毁时所受到的环境干扰因素并带入环境模拟模块；无人机模型，用于模拟真实无人机飞行的状态；自动编辑记录模块，用于自动编辑和记录无人机的飞行控制程序；自动控制模块，用于对无人机模型进行飞行控制。3.根据权利要求1所述的一种自动控制仿真型飞行培训的装置，其特征在于：物理引擎，用于让无人机模型的运动、碰撞、炸裂、坠落和碎裂都遵循物理定律；碰撞感应器，用于监测无人机模型在运动中受到的冲击程度；速度感应器，用于监测无人机模型的运动速度；水平仪，用于监测无人机模型在运动中的机身稳定状态；轨迹检测单元，用于监测无人机模型的运动轨迹；作业模块，用于监测无人机模型在工作时的状态；能源储备单元，用于监测无人机模型单次工作能源消耗量；故障分析，用于对无人机模型模拟工作时出现的故障进行分析。4.根据权利要求2所述的一种自动控制仿真型飞行培训的装置，其特征在于：所述环境模拟模块，还用于先随机生成环境，在无人机模型模拟飞行程序完善，及达到最高分值后，使用环境采集模块汇入的数据，先查看自动控制模块第一次模拟飞行的处理情况，再重复模拟飞行，查看后续模拟情况。5.根据权利要求2所述的一种自动控制仿真型飞行培训的装置，其特征在于：所述自动编辑记录模块，还用于对相同环境条件下每条程序运行后的得分进行排序，当存储程序超过100条，将分值100名外的程序删除。6.根据权利要求3所述的一种自动控制仿真型飞行培训的装置，其特征在于：所述计算模块，还用于使用前根据无人机工作内容、性质、目的和侧重点给碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块和能源储备单元设定不同分数，最高3分，最低1分，工作时各部分反馈数值与预测值相差一个百分点便加减对应分数，向负面超出十个百分点所有分数清零。7.根据权利要求3所述的一种自动控制仿真型飞行培训的装置，其特征在于：所述物理引擎，还用于对无人机的物理特征影响具体包括质量、线性、惯性、摩擦系数、弹性和角度阻力系数。8.一种自动控制仿真型飞行培训的方法，其特征在于：包括如下步骤，S1、先建立虚拟飞行环境；S2、带入初始控制程序，利用自动控制模块控制无人机模型试飞；S3、试飞过程中通过计算模块根据碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块和能源储备单元反馈数据进行评分；S4、根据得分情况不断调整控制程序，记录分值前一百的控制程序；S5、切换虚拟飞行环境，继续实验；S6、当无人机模型经历了环境模拟模块设置的所有场景，基础学习完成，控制程序初步完善；S7、根据环境采集模块收集的数据建立虚拟飞行环境，带入初步完善后的控制程序，利用自动控制模块控制无人机模型试飞；S8、查看初步完善后的控制程序，在这些给无人机造成过严重影响的环境条件下的应对情况；S9、若所有实验均完美应对，则控制程序完善，若无人机模型出现故障或坠毁，则重复模拟飞行，直至出现最高分值，控制程序完善。9.一种自动控制仿真型飞行培训的装置，其特征在于：包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，所述处理器执行计算机程序时实现权利要求8中的步骤。10.一种自动控制仿真型飞行培训的装置，其特征在于：为计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现权利要求8中的步骤。
说明书desc
技术领域本发明涉及无人机仿真模拟训练技术领域，尤其涉及一种自动控制仿真型飞行培训的装置及方法。背景技术无人机是利用无线电遥控设备和自备的程序控制装置操纵的不载人飞机，随着技术的普及，无人机从一开始军事应用，到现在已经成为民用产品，无人机的民用领域很多，如：在航拍、农业、植保、微型自拍、快递运输、灾难救援、观察野生动物、新闻报道、电力巡检、救灾、影视拍摄等。随着AI技术的崛起，无人机也开始了AI控制技术的开发，而AI控制程序应用前需要在飞行培训系统内不断模拟实验，因此为了保证AI控制的安全性，有一个可靠的飞行培训系统很重要。申请公布号为CN 112331015 A，名称为一种电力设备无人机巡检虚拟仿真培训系统及方法，申请公布号为CN 113220037 A，名称为一种无人机混合路径规划方法，综合分析后可以发现，现在培训系统存在以下问题：1、实际环境变化莫测，系统无法模拟出所有的环境变化因素，导致培训学习后的控制程序不完善，在面对较为复杂的突发情况时，无法及时作出有效应对，使无人机有故障和坠毁的可能。2、培训得到的控制程序处理事件较为均衡，没有侧重点，无法应对极端环境。3、系统对控制程序的处理方法概念模糊，不易找到最优处理方案。现有技术问题及思考：如何解决无人机控制程序无法有效应对环境的技术问题。发明内容本发明所要解决的技术问题是提供一种自动控制仿真型飞行培训的装置及方法，解决无人机控制程序无法有效应对环境的技术问题。为解决上述技术问题，本发明所采取的技术方案是：一种自动控制仿真型飞行培训的装置包括环境模拟模块、环境采集模块、无人机模型、自动编辑记录模块、自动控制模块、物理引擎、碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元、故障分析和计算模块共十个程序模块，计算模块，用于对无人机模块模拟工作时的状态进行评分，其评分条件与碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块和能源储备单元反馈数据对应；碰撞冲击强度小于预测强度则加分，飞行速度大于预测速度则加分，起落和飞行时机身稳定性超过预测值则加分，实际飞行路线和规划路线重合度较高则加分，作业完成度高于预测值则加分，工作消耗能源少于预测值则加分，相反的则减分。进一步的技术方案在于：环境模拟模块，用于搭建模拟无人机工作时所处的虚拟环境，虚拟环境的环境因素包括重力、空气密度、磁场、光照和可见度；环境采集模块，用于收集无人机故障或坠毁时所受到的环境干扰因素并带入环境模拟模块；无人机模型，用于模拟真实无人机飞行的状态；自动编辑记录模块，用于自动编辑和记录无人机的飞行控制程序；自动控制模块，用于对无人机模型进行飞行控制。进一步的技术方案在于：物理引擎，用于让无人机模型的运动、碰撞、炸裂、坠落和碎裂都遵循物理定律；碰撞感应器，用于监测无人机模型在运动中受到的冲击程度；速度感应器，用于监测无人机模型的运动速度；水平仪，用于监测无人机模型在运动中的机身稳定状态；轨迹检测单元，用于监测无人机模型的运动轨迹；作业模块，用于监测无人机模型在工作时的状态；能源储备单元，用于监测无人机模型单次工作能源消耗量；故障分析，用于对无人机模型模拟工作时出现的故障进行分析。进一步的技术方案在于：所述环境模拟模块，还用于先随机生成环境，在无人机模型模拟飞行程序完善，及达到最高分值后，使用环境采集模块汇入的数据，先查看自动控制模块第一次模拟飞行的处理情况，再重复模拟飞行，查看后续模拟情况。进一步的技术方案在于：所述自动编辑记录模块，还用于对相同环境条件下每条程序运行后的得分进行排序，当存储程序超过100条，将分值100名外的程序删除。进一步的技术方案在于：所述计算模块，还用于使用前根据无人机工作内容、性质、目的和侧重点给碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块和能源储备单元设定不同分数，最高3分，最低1分，工作时各部分反馈数值与预测值相差一个百分点便加减对应分数，向负面超出十个百分点所有分数清零。进一步的技术方案在于：所述物理引擎，还用于对无人机的物理特征影响具体包括质量、线性、惯性、摩擦系数、弹性和角度阻力系数。一种自动控制仿真型飞行培训的方法包括如下步骤，S1、先建立虚拟飞行环境；S2、带入初始控制程序，利用自动控制模块控制无人机模型试飞；S3、试飞过程中通过计算模块根据碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块和能源储备单元反馈数据进行评分；S4、根据得分情况不断调整控制程序，记录分值前一百的控制程序；S5、切换虚拟飞行环境，继续实验；S6、当无人机模型经历了环境模拟模块设置的所有场景，基础学习完成，控制程序初步完善；S7、根据环境采集模块收集的数据建立虚拟飞行环境，带入初步完善后的控制程序，利用自动控制模块控制无人机模型试飞；S8、查看初步完善后的控制程序，在这些给无人机造成过严重影响的环境条件下的应对情况；S9、若所有实验均完美应对，则控制程序完善，若无人机模型出现故障或坠毁，则重复模拟飞行，直至出现最高分值，控制程序完善。一种自动控制仿真型飞行培训的装置包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，所述处理器执行计算机程序时实现上述步骤。一种自动控制仿真型飞行培训的装置为计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现上述步骤。采用上述技术方案所产生的有益效果在于：一种自动控制仿真型飞行培训的装置包括环境模拟模块、环境采集模块、无人机模型、自动编辑记录模块、自动控制模块、物理引擎、碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元、故障分析和计算模块共十个程序模块，计算模块，用于对无人机模块模拟工作时的状态进行评分，其评分条件与碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块和能源储备单元反馈数据对应；碰撞冲击强度小于预测强度则加分，飞行速度大于预测速度则加分，起落和飞行时机身稳定性超过预测值则加分，实际飞行路线和规划路线重合度较高则加分，作业完成度高于预测值则加分，工作消耗能源少于预测值则加分，相反的则减分。该技术方案，其通过环境模拟模块、环境采集模块、无人机模型、自动编辑记录模块、自动控制模块、物理引擎、碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元、故障分析和计算模块等，实现无人机控制程序有效应对环境。一种自动控制仿真型飞行培训的方法包括如下步骤，S1、先建立虚拟飞行环境；S2、带入初始控制程序，利用自动控制模块控制无人机模型试飞；S3、试飞过程中通过计算模块根据碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块和能源储备单元反馈数据进行评分；S4、根据得分情况不断调整控制程序，记录分值前一百的控制程序；S5、切换虚拟飞行环境，继续实验；S6、当无人机模型经历了环境模拟模块设置的所有场景，基础学习完成，控制程序初步完善；S7、根据环境采集模块收集的数据建立虚拟飞行环境，带入初步完善后的控制程序，利用自动控制模块控制无人机模型试飞；S8、查看初步完善后的控制程序，在这些给无人机造成过严重影响的环境条件下的应对情况；S9、若所有实验均完美应对，则控制程序完善，若无人机模型出现故障或坠毁，则重复模拟飞行，直至出现最高分值，控制程序完善。其通过步骤S1至步骤S9等，实现无人机控制程序有效应对环境。一种自动控制仿真型飞行培训的装置包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，所述处理器执行计算机程序时实现上述步骤。其通过该装置等，实现无人机控制程序有效应对环境。一种自动控制仿真型飞行培训的装置为计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现上述步骤。其通过该计算机可读存储介质等，实现无人机控制程序有效应对环境。详见具体实施方式部分描述。附图说明图1是本发明的原理框图；图2是本发明中无人机模型的模块图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。以下对至少一个示例性实施例的描述实际上仅仅是说明性的，决不作为对本申请及其应用或使用的任何限制。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。在下面的描述中阐述了很多具体细节以便于充分理解本申请，但是本申请还可以采用其他不同于在此描述的其它方式来实施，本领域技术人员可以在不违背本申请内涵的情况下做类似推广，因此本申请不受下面公开的具体实施例的限制。实施例1：本发明公开了一种自动控制仿真型飞行培训的装置包括如下程序模块：环境模拟模块，用于搭建模拟无人机工作时所处的虚拟环境，涉及的环境因素包括：重力、空气密度、磁场、光照、可见度，通过环境的不断组合变化，让无人机模型熟悉工作环境的影响，完善控制程序。环境采集模块，用于收集无人机故障或坠毁时所受到的环境干扰因素，并将这些因素带入环境模拟模块，查看经过反复模拟实验后自动控制模块对这些因素的应对情况。无人机模型，用于模拟真实无人机飞行的状态。自动编辑记录模块，用于自动编辑和记录无人机的飞行控制程序，具体过程为针对模拟飞行中出现的问题进行控制程序调整，再反复模拟实验，直至可以完美解决所有问题，并将模拟实验的数据记录。自动编辑记录模块，用于对相同环境条件下每条程序运行后的得分进行排序，当存储程序超过100条，将分值100名外的程序删除。通过记录各种环境条件下分值前100名的控制程序，如此当无人机遇到无法应对的突发情况时，快速从备份的程序中找到最接近的环境因素，并在这个环境因素对应的100条程序中，找对最佳应对程序段，从而减少环境对无人机的影响，提高了自动控制飞行培训的效果，使应对方案更加全面。实施例2：如图1和图2所示，本发明公开了一种自动控制仿真型飞行培训的装置包括如下程序模块：环境模拟模块，用于搭建模拟无人机工作时所处的虚拟环境，涉及的环境因素包括：重力、空气密度、磁场、光照、可见度，通过环境的不断组合变化，让无人机模型熟悉工作环境的影响，完善控制程序。环境采集模块，用于收集无人机故障或坠毁时所受到的环境干扰因素，并将这些因素带入环境模拟模块，查看经过反复模拟实验后自动控制模块对这些因素的应对情况。无人机模型，用于模拟真实无人机飞行的状态。自动编辑记录模块，用于自动编辑和记录无人机的飞行控制程序，具体过程为针对模拟飞行中出现的问题进行控制程序调整，再反复模拟实验，直至可以完美解决所有问题，并将模拟实验的数据记录。自动控制模块，用于对无人机模型进行飞行控制。物理引擎，用于让无人机模型的运动、碰撞、炸裂、坠落、碎裂都遵循物理定律。碰撞感应器，用于监测无人机模型在运动中受到的冲击程度。速度感应器，用于监测无人机模型的运动速度。水平仪，用于监测无人机模型在运动中的机身稳定状态。轨迹检测单元，用于监测无人机模型的运动轨迹。作业模块，用于监测无人机模型在工作时的状态。能源储备单元，用于监测无人机模型单次工作能源消耗量。故障分析，用于对无人机模型模拟工作时出现的故障进行分析，当无法分析时，工人干预，补充逻辑条件。计算模块，用于对无人机模块模拟工作时的状态进行评分，其评分条件与碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元反馈数据对应。碰撞冲击强度小于预测强度加分，飞行速度大于预测速度加分，起落、飞行时机身稳定性超过预测值加分，实际飞行路线和规划路线重合度高加分，作业完成度高于预测值加分，工作消耗能源少于预测值加分，而与其相反则减分；环境模拟模块，还用于先随机生成环境，在无人机模型模拟飞行程序完善，及达到最高分值后，使用环境采集模块汇入的数据，先查看自动控制模块第一次模拟飞行的处理情况，再重复模拟飞行，查看后续模拟情况。自动编辑记录模块，还用于对相同环境条件下每条程序运行后的得分进行排序，当存储程序超过100条，将分值100名外的程序删除。计算模块，还用于使用前根据无人机工作内容、性质、目的、侧重点给碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元设定不同分数，最高3分，最低1分，工作时各部分反馈数值与预测值相差一个百分点加减对应分数，向负面超出十个百分点所有分数清零。物理引擎，还用于对无人机的物理特征影响具体包括：质量、线性、惯性、摩擦系数，弹性和角度阻力系数等参数。通过反复的模拟学习，让无人机模型和控制程序熟悉各种环境因素，并根据工作内容、性质、目的、侧重点，对碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元的各项数据继续不同的计分的，找到最优的解决方案，这过程中控制程序会不断完善，提高了自动控制飞行培训的效率和效果，计分的方法更有利于系统的运算和判定。实施例3：如图1和图2所示，本发明公开了一种自动控制仿真型飞行培训的装置包括如下程序模块：环境模拟模块，用于搭建模拟无人机工作时所处的虚拟环境，涉及的环境因素包括：重力、空气密度、磁场、光照、可见度，通过环境的不断组合变化，让无人机模型熟悉工作环境的影响，完善控制程序。环境采集模块，用于收集无人机故障或坠毁时所受到的环境干扰因素，并将这些因素带入环境模拟模块，查看经过反复模拟实验后自动控制模块对这些因素的应对情况。无人机模型，用于模拟真实无人机飞行的状态。自动编辑记录模块，用于自动编辑和记录无人机的飞行控制程序，具体过程为针对模拟飞行中出现的问题进行控制程序调整，再反复模拟实验，直至可以完美解决所有问题，并将模拟实验的数据记录。自动控制模块，用于对无人机模型进行飞行控制。物理引擎，用于让无人机模型的运动、碰撞、炸裂、坠落、碎裂都遵循物理定律。碰撞感应器，用于监测无人机模型在运动中受到的冲击程度。速度感应器，用于监测无人机模型的运动速度。水平仪，用于监测无人机模型在运动中的机身稳定状态。轨迹检测单元，用于监测无人机模型的运动轨迹。作业模块，用于监测无人机模型在工作时的状态。能源储备单元，用于监测无人机模型单次工作能源消耗量。故障分析，用于对无人机模型模拟工作时出现的故障进行分析，当无法分析时，工人干预，补充逻辑条件。计算模块，用于对无人机模块模拟工作时的状态进行评分，其评分条件与碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元反馈数据对应。碰撞冲击强度小于预测强度加分，飞行速度大于预测速度加分，起落、飞行时机身稳定性超过预测值加分，实际飞行路线和规划路线重合度高加分，作业完成度高于预测值加分，工作消耗能源少于预测值加分，而与其相反则减分；环境模拟模块，还用于先随机生成环境，在无人机模型模拟飞行程序完善，及达到最高分值后，使用环境采集模块汇入的数据，先查看自动控制模块第一次模拟飞行的处理情况，再重复模拟飞行，查看后续模拟情况。自动编辑记录模块，还用于对相同环境条件下每条程序运行后的得分进行排序，当存储程序超过100条，将分值100名外的程序删除。计算模块，还用于使用前根据无人机工作内容、性质、目的、侧重点给碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元设定不同分数，最高3分，最低1分，工作时各部分反馈数值与预测值相差一个百分点加减对应分数，向负面超出十个百分点所有分数清零。实际数据向负面超出十个百分点可判定为严重事故，直接停止，重新开始，如此节约了重复模拟实验的时间，提高了培训效率。物理引擎，还用于对无人机的物理特征影响具体包括：质量、线性、惯性、摩擦系数，弹性和角度阻力系数等参数。实施例4：本发明公开了一种自动控制仿真型飞行培训的方法包括如下步骤：S1、先建立虚拟飞行环境；S2、带入初始控制程序，利用自动控制模块控制无人机模型试飞；S3、试飞过程中通过计算模块根据碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元反馈数据进行评分；S4、根据得分情况不断调整控制程序，记录分值前一百的控制程序；S5、切换虚拟飞行环境，继续实验；S6、当无人机模型经历了环境模拟模块设置的所有场景，基础学习完成，控制程序初步完善；S7、根据环境采集模块收集的数据建立虚拟飞行环境，带入初步完善后的控制程序，利用自动控制模块控制无人机模型试飞；S8、查看初步完善后的控制程序，在这些给无人机造成过严重影响的环境条件下的应对情况；S9、若所有实验均完美应对，则控制程序完善，若无人机模型出现故障或坠毁，则重复模拟飞行，直至出现最高分值，控制程序完善。实施例5：本发明公开了一种自动控制仿真型飞行培训的装置包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，所述处理器执行计算机程序时实现实施例4的步骤。实施例6：本发明公开了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现实施例4中的步骤。本申请的构思：针对无人机控制程序无法有效应对环境的技术问题，提出一种基于STM32F103的自动控制仿真型飞行培训系统来解决问题。1、包括：环境模拟模块、物理引擎、自动编辑记录模块、自动控制模块、无人机模型、碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元、故障分析、计算模块；环境模拟模块，用于搭建模拟无人机工作时所处的虚拟环境，涉及的环境因素包括：重力、空气密度、磁场、光照、可见度；环境采集模块，用于收集无人机故障或坠毁时所受到的环境干扰因素，并将这些因素带入环境模拟模块；无人机模型，用于模拟真实无人机飞行的状态；自动编辑记录模块，用于自动编辑和记录无人机的飞行控制程序；自动控制模块，用于对无人机模型进行飞行控制；物理引擎，用于让无人机模型的运动、碰撞、炸裂、坠落、碎裂都遵循物理定律；碰撞感应器，用于监测无人机模型在运动中受到的冲击程度；速度感应器，用于监测无人机模型的运动速度；水平仪，用于监测无人机模型在运动中的机身稳定状态；轨迹检测单元，用于监测无人机模型的运动轨迹；作业模块，用于监测无人机模型在工作时的状态；能源储备单元，用于监测无人机模型单次工作能源消耗量；故障分析，用于对无人机模型模拟工作时出现的故障进行分析；计算模块，用于对无人机模块模拟工作时的状态进行评分，其评分条件与碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元反馈数据对应；碰撞冲击强度小于预测强度加分，飞行速度大于预测速度加分，起落、飞行时机身稳定性超过预测值加分，实际飞行路线和规划路线重合度高加分，作业完成度高于预测值加分，工作消耗能源少于预测值加分，而与其相反则减分。2、所述环境模拟模块先随机生成环境，在无人机模型模拟飞行程序完善，及达到最高分值后，使用环境采集模块汇入的数据，先查看自动控制模块第一次模拟飞行的处理情况，再重复模拟飞行，查看后续模拟情况。3、所述自动编辑记录模块对相同环境条件下每条程序运行后的得分进行排序，当存储程序超过100条，将分值100名外的程序删除。4、所述计算模块使用前根据无人机工作内容、性质、目的、侧重点给碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元设定不同分数，最高3分，最低1分，工作时各部分反馈数值与预测值相差一个百分点便加减对应分数，向负面超出十个百分点所有分数清零。5、所述物理引擎对无人机的物理特征影响具体包括：质量、线性、惯性、摩擦系数，弹性和角度阻力系数等参数。本申请的技术贡献：包括：环境模拟模块、物理引擎、自动编辑记录模块、自动控制模块、无人机模型、碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元、故障分析、计算模块；环境模拟模块，用于搭建模拟无人机工作时所处的虚拟环境，涉及的环境因素包括：重力、空气密度、磁场、光照、可见度；环境采集模块，用于收集无人机故障或坠毁时所受到的环境干扰因素，并将这些因素带入环境模拟模块；无人机模型，用于模拟真实无人机飞行的状态；自动编辑记录模块，用于自动编辑和记录无人机的飞行控制程序；自动控制模块，用于对无人机模型进行飞行控制；物理引擎，用于让无人机模型的运动、碰撞、炸裂、坠落、碎裂都遵循物理定律；碰撞感应器，用于监测无人机模型在运动中受到的冲击程度；速度感应器，用于监测无人机模型的运动速度；水平仪，用于监测无人机模型在运动中的机身稳定状态；轨迹检测单元，用于监测无人机模型的运动轨迹；作业模块，用于监测无人机模型在工作时的状态；能源储备单元，用于监测无人机模型单次工作能源消耗量；故障分析，用于对无人机模型模拟工作时出现的故障进行分析；计算模块，用于对无人机模块模拟工作时的状态进行评分，其评分条件与碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元反馈数据对应；碰撞冲击强度小于预测强度加分，飞行速度大于预测速度加分，起落、飞行时机身稳定性超过预测值加分，实际飞行路线和规划路线重合度高加分，作业完成度高于预测值加分，工作消耗能源少于预测值加分，而与其相反则减分。作为优化，所述环境模拟模块先随机生成环境，在无人机模型模拟飞行程序完善，及达到最高分值后，使用环境采集模块汇入的数据，先查看自动控制模块第一次模拟飞行的处理情况，再重复模拟飞行，查看后续模拟情况。作为优化，所述自动编辑记录模块对相同环境条件下每条程序运行后的得分进行排序，当存储程序超过100条，将分值100名外的程序删除。作为优化，所述计算模块使用前根据无人机工作内容、性质、目的、侧重点给碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元设定不同分数，最高3分，最低1分，工作时各部分反馈数值与预测值相差一个百分点加减对应分数，向负面超出十个百分点所有分数清零。本申请保密运行一段时间后，现场技术人员反馈的有益之处在于：为了克服上述现有技术的不足，本发明的目的在于提供一种基于STM32F103的自动控制仿真型飞行培训系统，具有不断完善控制程序的作用。1、该基于STM32F103的自动控制仿真型飞行培训系统，通过记录各种环境条件下分值前100名的控制程序，如此当无人机遇到无法应对的突发情况时，快速从备份的程序中找到最接近的环境因素节点，并在对应的100条程序中找到这个环境因素节点的最佳应对程序段，如此直接带入储备程序，无需分析处理，使应对反应更加快速，同时采用截取最优程序段的方法，只考虑突发情况的应对，不考虑其他因素，如：能源消耗，机身稳定等，最大程度的保证无人机的安全。2、该基于STM32F103的自动控制仿真型飞行培训系统，通过反复的模拟学习，让无人机模型和控制程序熟悉各种环境因素，并根据工作内容、性质、目的、侧重点，对碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元的各项数据进行不同的计分的，通过最终得分可以找到最优的解决方案，计分的方法更有利于系统的运算和判定，而且这种计分的方法，让无人机对事件处理有了侧重点，更有利于极端环境作业。3、该基于STM32F103的自动控制仿真型飞行培训系统，通过在发现模拟飞行过程中碰撞感应器、速度感应器、水平仪、轨迹检测单元、作业模块、能源储备单元实际数据与预测值相比，向负面超出十个百分点时，所有分数清零，可判定为严重事故，直接停止，重新开始，如此节约了重复模拟实验的时间，提高了培训效率。4、该基于STM32F103的自动控制仿真型飞行培训系统，通过在控制程序初步完善后，利用曾造成无人机故障或坠毁的环境条件测试，查看应对情况，如此可检测培训的效果，如果初步完善的控制程序应对不佳，则继续模拟飞行，完善程序。通过反复的模拟学习，让无人机模型和控制程序熟悉各种环境因素，并根据工作内容、性质、目的、侧重点，对各项数据进行不同的计分的，找到最优的解决方案，这过程中控制程序会不断完善，提高了自动控制飞行培训的效率和效果，计分的方法更有利于系统的运算和判定，而且这种计分的方法，让无人机对事件处理有了侧重点，更有利于极端环境作业。
