标题title
PEM纯水电解制氢的压力控制方法、系统、设备及介质
摘要abst
本发明公开一种PEM纯水电解制氢的压力控制方法、系统、设备及介质；该方法包括：定时获取电解槽出氢口的压力值，计算各个获取周期的压力影响参数的参数值；建立存储有模糊规则的模糊规则库，将压力影响参数输入模糊规则库并计算各个获取周期的PID调节参数，以至少两个相邻获取周期的PID调节参数的权值运算结果作为一输出周期的PID调节参数并进行输出；根据输出的PID调节参数控制电解槽出氢口的阀门开度。本发明利用模糊逻辑并根据一定的模糊规则对PID调节参数进行实时的优化，并对模糊运算得出的PID调节参数作进一步权值运算，以克服传统PID参数无法实时调整PID调节参数以及电解槽出氢口阀门大幅度变化的缺点。
权利要求书clms
1.一种PEM纯水电解制氢的压力控制方法，其特征在于，包括：定时获取电解槽出氢口的压力值，计算各个获取周期的压力影响参数的参数值；所述压力影响参数包括压力偏差和压力偏差变化率；建立存储有模糊规则的模糊规则库，将压力影响参数输入模糊规则库并计算各个获取周期的PID调节参数，以至少两个相邻获取周期的PID调节参数的权值运算结果作为一输出周期的PID调节参数并进行输出；所述PID调节参数包括比例调节系数、积分调节系数和微分调节系数；根据输出的PID调节参数控制电解槽出氢口的阀门开度。2.根据权利要求1所述的PEM纯水电解制氢的压力控制方法，其特征在于，所述定时获取电解槽出氢口的压力值，包括：定时获取压力变送器采集的电解槽出氢口的压力实测值；判断电解槽出氢口的压力实测值是否超过临界压力阈值；若是，以电解槽出氢口的压力实测值作为电解槽出氢口的压力值；若否，以临界压力阈值作为电解槽出氢口的压力值。3.根据权利要求1所述的PEM纯水电解制氢的压力控制方法，其特征在于，所述压力影响参数的计算公式为：e＝P-P*，其中，e表示k时刻的压力偏差，e表示k-1时刻的压力偏差，P表示k时刻的实际压力值，P*表示压力设定值，ec表示k时刻的压力偏差变化率，t表示获取周期。4.根据权利要求1所述的PEM纯水电解制氢的压力控制方法，其特征在于，所述将压力影响参数输入模糊规则库并计算各个获取周期的PID调节参数，包括：确定压力偏差和压力偏差变化率的隶属度；查询模糊规则库，根据压力偏差和压力偏差变化率的隶属度确定PID调节参数的隶属度；根据PID调节参数的取值范围和隶属度确定PID调节参数的隶属值，将PID调节参数的隶属度乘以其隶属值，得到该获取周期的PID调节参数；使用预设校正参数对PID调节参数进行校正。5.根据权利要求4所述的PEM纯水电解制氢的压力控制方法，其特征在于，所述使用预设校正参数对PID调节参数进行校正的公式为：其中，KP、KI和KD分别表示校正后的比例调节系数、积分调节系数和微分调节系数，K′P、K′I和K′D分别表示预设的比例调节校正系数、积分调节校正系数和微分调节校正系数，ΔKP、ΔKI和ΔKD分别表示隶属度运算得到的比例调节系数、积分调节系数和微分调节系数。6.根据权利要求1所述的PEM纯水电解制氢的压力控制方法，其特征在于，所述以至少两个相邻获取周期的PID调节参数的权值运算结果作为一输出周期的PID调节参数并进行输出，包括：在输出周期内，根据各获取周期的PID调节参数的隶属度赋予第一权值，根据各获取周期PID调节参数的先后顺序赋予第二权值；计算输出周期内各获取周期的PID调节参数的加权值之和，作为对应输出周期的PID调节参数并进行输出。7.根据权利要求1所述的PEM纯水电解制氢的压力控制方法，其特征在于，所述定时采样电解槽出氢口的实际压力值包括：分别对多个定时采样电解槽出氢口的实际压力值进行采集。8.一种PEM纯水电解制氢的压力控制系统，其特征在于，包括：第一模块，用于定时获取电解槽出氢口的压力值，计算各个获取周期的压力影响参数的参数值；所述压力影响参数包括压力偏差和压力偏差变化率；第二模块，用于建立存储有模糊规则的模糊规则库，将压力影响参数输入模糊规则库并计算各个获取周期的PID调节参数，以至少两个相邻获取周期的PID调节参数的权值运算结果作为一输出周期的PID调节参数并进行输出；所述PID调节参数包括比例调节系数、积分调节系数和微分调节系数；第三模块，用于根据输出的PID调节参数控制电解槽出氢口的阀门开度。9.一种计算机设备，其特征在于，包括：存储器，存储有计算机程序；处理器，所述处理器执行所述计算机程序时实现如权利要求1-7任一项所述的PEM纯水电解制氢的压力控制方法。10.一种计算机存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-7中任一项所述的PEM纯水电解制氢的压力控制方法。
说明书desc
技术领域本发明涉及电解水制氢技术领域，尤其是一种PEM纯水电解制氢的压力控制方法、系统、设备及介质。背景技术PEM纯水电解制氢是一种清洁环保的电解水制氢技术，具有效率高、氢气纯度高、无污染、能耗低等特点，在可再生能源领域具有广阔的发展前景。PEM纯水电解制氢的制氢过程中，电解槽内不断有氢气和氧气产生，控制电解槽的压力参数稳定尤为重要，为确保电解槽内压力稳定，需要对电解槽的压力进行实时监测和控制。为实现上述技术效果，现有技术一般是采取机械式背压阀背压的方式进行控制，然而该方法难以按照制氢系统的需求实时改变电解槽压力，另外，机械式背压阀难以确定背压值，需要根据经验多次调节，不能满足实时针对PEM电解槽的压力控制的要求。发明内容本发明的目的是提供一种PEM纯水电解制氢的压力控制方法、系统、设备及介质，以解决现有技术中所存在的一个或多个技术问题，至少提供一种有益的选择或创造条件。第一方面，提供一种PEM纯水电解制氢的压力控制方法，包括：定时获取电解槽出氢口的压力值，计算各个获取周期的压力影响参数的参数值；所述压力影响参数包括压力偏差和压力偏差变化率；建立存储有模糊规则的模糊规则库，将压力影响参数输入模糊规则库并计算各个获取周期的PID调节参数，以至少两个相邻获取周期的PID调节参数的权值运算结果作为一输出周期的PID调节参数并进行输出；所述PID调节参数包括比例调节系数、积分调节系数和微分调节系数；根据输出的PID调节参数控制电解槽出氢口的阀门开度。进一步地，所述定时获取电解槽出氢口的压力值，包括：定时获取压力变送器采集的电解槽出氢口的压力实测值；判断电解槽出氢口的压力实测值是否超过临界压力阈值；若是，以电解槽出氢口的压力实测值作为电解槽出氢口的压力值；若否，以临界压力阈值作为电解槽出氢口的压力值。进一步地，所述压力影响参数的计算公式为：e＝P-P*，其中，e表示k时刻的压力偏差，e表示k-1时刻的压力偏差，P表示k时刻的实际压力值，P*表示压力设定值，ec表示k时刻的压力偏差变化率，t表示获取周期。进一步地，所述将压力影响参数输入模糊规则库并计算各个获取周期的PID调节参数，包括：确定压力偏差和压力偏差变化率的隶属度；查询模糊规则库，根据压力偏差和压力偏差变化率的隶属度确定PID调节参数的隶属度；根据PID调节参数的取值范围和隶属度确定PID调节参数的隶属值，将PID调节参数的隶属度乘以其隶属值，得到该获取周期的PID调节参数；使用预设校正参数对PID调节参数进行校正。进一步地，所述使用预设校正参数对PID调节参数进行校正的公式为：其中，KP、KI和KD分别表示校正后的比例调节系数、积分调节系数和微分调节系数，K′P、K′I和K′D分别表示预设的比例调节校正系数、积分调节校正系数和微分调节校正系数，ΔKP、ΔKI和ΔKD分别表示隶属度运算得到的比例调节系数、积分调节系数和微分调节系数。进一步地，所述以至少两个相邻获取周期的PID调节参数的权值运算结果作为一输出周期的PID调节参数并进行输出，包括：在输出周期内，根据各获取周期的PID调节参数的隶属度赋予第一权值，根据各获取周期PID调节参数的先后顺序赋予第二权值；计算输出周期内各获取周期的PID调节参数的加权值之和，作为对应输出周期的PID调节参数并进行输出。进一步地，所述定时采样电解槽出氢口的实际压力值包括：分别对多个定时采样电解槽出氢口的实际压力值进行采集。第二方面，提供一种PEM纯水电解制氢的压力控制系统，包括：第一模块，用于定时获取电解槽出氢口的压力值，计算各个获取周期的压力影响参数的参数值；所述压力影响参数包括压力偏差和压力偏差变化率；第二模块，用于建立存储有模糊规则的模糊规则库，将压力影响参数输入模糊规则库并计算各个获取周期的PID调节参数，以至少两个相邻获取周期的PID调节参数的权值运算结果作为一输出周期的PID调节参数并进行输出；所述PID调节参数包括比例调节系数、积分调节系数和微分调节系数；第三模块，用于根据输出的PID调节参数控制电解槽出氢口的阀门开度。第三方面，提供一种计算机设备，包括：存储器，存储有计算机程序；处理器，所述处理器执行所述计算机程序时实现如第一方面所述的PEM纯水电解制氢的压力控制方法。第四方面，提供一种计算机存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如第一方面所述的PEM纯水电解制氢的压力控制方法。本发明的有益效果：基于模糊控制的原理对PID调节参数进行实时控制，利用模糊逻辑并根据一定的模糊规则对PID调节参数进行实时的优化，并对模糊运算得出的PID调节参数作进一步权值运算，以克服传统PID参数无法实时调整PID调节参数以及电解槽出氢口阀门大幅度变化的缺点。附图说明图1是根据一实施例示出的一种PEM纯水电解制氢的压力控制方法的流程图。图2是根据一实施例示出的定时获取电解槽出氢口的压力值的方法的流程图。图3是根据一实施例示出的根据模糊规则计算获取周期的PID调节参数的方法的流程图。图4是根据一实施例示出的对PID调节参数进行权值运算的方法的流程图。图5是根据一实施例示出的一种PEM纯水电解制氢的压力控制系统的结构框图。图6是根据一实施例示出的一种计算机设备的内部结构图具体实施方式为使本发明实施例的目的、技术方案和优点更加清晰，下面将结合实施例和附图，对本发明作进一步的描述。这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本公开的一些方面相一致的装置和方法的例子。根据本发明的第一方面，提供一种PEM纯水电解制氢的压力控制方法。参阅图1，图1是根据一实施例示出的一种PEM纯水电解制氢的压力控制方法的流程图。如图1所示，所述方法包括以下步骤：步骤S101.定时获取电解槽出氢口的压力值，计算各个获取周期的压力影响参数的参数值。其中，压力影响参数包括压力偏差和压力偏差变化率，分别作为模糊控制运算中的两个输入变量，压力偏差反映实际压力相对于PID控制器的压力设定值的误差，压力偏差变化率反映压力偏差的变化趋势。在本实施例中，压力影响参数的计算公式为：e＝P-P*，其中，e表示k时刻的压力偏差，e表示k-1时刻的压力偏差，P表示k时刻的实际压力值，P*表示压力设定值，ec表示k时刻的压力偏差变化率，t表示获取周期。步骤S102.建立存储有模糊规则的模糊规则库，将压力影响参数输入模糊规则库并计算各个获取周期的PID调节参数，以至少两个相邻获取周期的PID调节参数的权值运算结果作为一输出周期的PID调节参数并进行输出。PID调节参数包括比例调节系数、积分调节系数和微分调节系数。其中，增大比例调节系数将加快系统的响应，它的作用于输出值较快，但不能很好稳定在一个理想的数值，不良的结果是虽较能有效的克服扰动的影响，但有余差出现，过大的比例系数会使系统有比较大的超调，并产生振荡，使稳定性变坏。增大积分调节系数能在比例的基础上消除余差，它能对稳定后有累积误差的系统进行误差修整，减小稳态误差。微分调节系数具有超前作用，对于具有容量滞后的控制通道，引入微分参与控制，在微分项设置得当的情况下，对于提高系统的动态性能指标，有着显著效果，它可以使系统超调量减小，稳定性增加，动态误差减小。在本实施例中，基于模糊控制的原理对PID调节参数进行实时控制，在实际使用时，先对实际使用情景进行分析，即如何根据接收到的电解槽出氢口的压力值进行实时的PID控制，进而形成关于压力影响参数和PID调节参数的模糊规则，从而可以根据模糊化后的压力影响参数找到对应的模糊化的PID调节参数。示例性地，当压力偏差以及压力偏差变化率均是正向过大时，反映了当前气压误差大且不稳定，系统稳定性差，采用降低比例调节系数以及增大积分调节系数的控制策略可以有效地稳定系统以及减少压力误差。由于PID控制算法每次输出均与过去的状态有关，计算时要对误差进行累加，若根据每个采集周期得到的PID调节参数对受控对象进行控制，可能会导致计算输出的控制量大幅度变化而引起受控对象的大幅度变化，严重影响受控对象的性能和使用寿命。基于此，本实施例将至少两个采样周期的PID调节参数进行权值运算后进行输出，基于多个连续采样周期的PID调节参数的权值运算值，计算出更为合适的PID调节参数，一定程度上减少受控对象的变化幅度以及减少受控对象的应对次数。步骤S103.根据输出的PID调节参数控制电解槽出氢口的阀门开度。在本实施例中，基于模糊控制的原理对PID调节参数进行实时控制，即利用模糊逻辑并根据一定的模糊规则对PID调节参数进行实时的优化，并对模糊运算得出的PID调节参数作进一步权值运算，以克服传统PID参数无法实时调整PID调节参数以及受控对象大幅度变化的缺点。参阅图2，图2是根据一实施例示出的定时获取电解槽出氢口的压力值的方法的流程图。如图2所示，所述方法包括以下步骤：步骤S201.定时获取压力变送器采集的电解槽出氢口的压力实测值。步骤S202.判断电解槽出氢口的压力实测值是否超过临界压力阈值。若是，执行步骤S203；若否，步骤S204。步骤S203.以电解槽出氢口的压力实测值作为电解槽出氢口的压力值。步骤S204.以临界压力阈值作为电解槽出氢口的压力值。在本实施例提供的方法用于确定电解槽出氢口的压力值的取值，在常规情况下，认为电解槽出氢口的压力值处于一个压力值区间内，这样也是便于模糊控制运算过程中对压力偏差和压力偏差变化率的隶属值进行确认。当由压力变送器采集的电解槽出氢口的压力实测值超过临界压力阈值，则判断压力实测值处于压力值区间之内，反之，则判断压力实测值不处于压力值区间之内，以临界压力阈值作为电解槽出氢口的压力值进行处理。参阅图3，图3是根据一实施例示出的根据模糊规则计算获取周期的PID调节参数的方法的流程图。如图3所示，所述方法包括以下步骤：步骤S301.确定压力偏差和压力偏差变化率的隶属度。隶属度是为了描述模糊关系而引入的概念。在对压力偏差和压力偏差变化率进行模糊化时，分别将压力偏差和压力偏差变化率的取值区间线性划分为若干个区间，划分出来的区间即为隶属度，而压力偏差和压力偏差变化率的值则为隶属值，根据上述实施例提到的压力偏差和压力偏差变化率与PID调节参数的设定关系，可以根据压力偏差和压力偏差变化率的隶属度确定PID调节参数的隶属度，从而生成模糊规则库。示例性地，分别将压力偏差和压力偏差变化率的取值区间划分为七个线性区间，分别为NB、NM、NS、ZO、PS、PM和PB，PID调节参数的隶属度也对应上述划分规则，并生成以下表1的模糊规则库。表1步骤S302.查询模糊规则库，根据压力偏差和压力偏差变化率的隶属度确定PID调节参数的隶属度。步骤S303.根据PID调节参数的取值范围和隶属度确定PID调节参数的隶属值，将PID调节参数的隶属度乘以其隶属值，得到该获取周期的PID调节参数。步骤S304.使用预设校正参数对PID调节参数进行校正。在本实施例中，使用预设校正参数对PID调节参数进行校正的公式为：其中，KP、KI和KD分别表示校正后的比例调节系数、积分调节系数和微分调节系数，K′P、K′I和K′D分别表示预设的比例调节校正系数、积分调节校正系数和微分调节校正系数，ΔKP、ΔKI和ΔKD分别表示隶属度运算得到的比例调节系数、积分调节系数和微分调节系数。参阅图4，图4是根据一实施例示出的对PID调节参数进行权值运算的方法的流程图。如图4所示，所述方法包括以下步骤：步骤S401.在输出周期内，根据各获取周期的PID调节参数的隶属度赋予第一权值，根据各获取周期PID调节参数的先后顺序赋予第二权值。其中，第一权值用于衡量PID调节参数的隶属度的权重，第二权值用于衡量PID调节参数的产生顺序的权重。第一权值和第二权值可以根据实际控制需要进行设定，例如对于PID调节参数为PB时，表示该获取周期的压力误差和压力误差变化率大，PB对应的第一权值设置为最大，又例如是输出周期内最后一个获取周期所对应的PID调节参数最为接近当前所需输出的PID调节参数，最后一个获取周期的PID调节参数对应的第二权值设置为最大。步骤S402.计算输出周期内各获取周期的PID调节参数的加权值之和，作为对应输出周期的PID调节参数并进行输出。在本实施例中，以五个相邻的获取周期作为一个输出周期。在一个输出周期内，各第一权值之和等于1，各第二权值之和等于1。在一些实施例中，所述定时采样电解槽出氢口的实际压力值包括：分别对多个定时采样电解槽出氢口的实际压力值进行采集。多个电解槽的各个出氢口均依次设有压力变送器，采用上述压力控制方法分别对各压力变送器采集得到的实际压力值进行模糊化处理和运算，通过对PID调节参数进行实时的优化，进而同时控制各出氢口的阀门开度。根据本发明的第二方面，提供一种PEM纯水电解制氢的压力控制系统。参阅图5，图5是根据一实施例示出的一种PEM纯水电解制氢的压力控制系统的结构框图。如图5所示，所述系统包括：第一模块501，用于定时获取电解槽出氢口的压力值，计算各个获取周期的压力影响参数的参数值；所述压力影响参数包括压力偏差和压力偏差变化率；第二模块502，用于建立存储有模糊规则的模糊规则库，将压力影响参数输入模糊规则库并计算各个获取周期的PID调节参数，以至少两个相邻获取周期的PID调节参数的权值运算结果作为一输出周期的PID调节参数并进行输出；所述PID调节参数包括比例调节系数、积分调节系数和微分调节系数；第三模块503，用于根据输出的PID调节参数控制电解槽出氢口的阀门开度。所述PEM纯水电解制氢的压力控制系统执行上述第一方面的PEM纯水电解制氢的压力控制方法，关于PEM纯水电解制氢的压力控制系统的具体限定可以参见上文中对于一种PEM纯水电解制氢的压力控制方法的限定，在此不再赘述。上述PEM纯水电解制氢的压力控制系统中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。示例性地，第一模块501可以是PLC控制器，第二模块502可以是模糊控制器，第三模块503可以是PID控制器。根据本发明的第三方面，提供一种计算机设备。参阅图6，图6是根据一实施例示出的一种计算机设备的内部结构图。如图6所示，该计算机设备包括通过系统总线连接的处理器、存储器和数据库。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统、计算机程序和数据库。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机程序被处理器执行时以实现一种PEM纯水电解制氢的压力控制方法。根据本发明的第四方面，还提供一种计算机存储介质，所述计算机存储介质中存储有计算机程序，计算机存储介质可以是磁性随机存取存储器、只读存储器、可编程只读存储器、可擦除可编程只读存储器、电可擦除可编程只读存储器、快闪存储器、磁表面存储器、光盘、或只读光盘等；也可以是包括上述存储器之一或任意组合的各种设备，如移动电话、计算机、平板设备、个人数字助理等。所述计算机程序被处理器执行时实现上述一种PEM纯水电解制氢的压力控制方法。以上所述实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，除了包含所列的那些要素，而且还可包含没有明确列出的其他要素。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
