标题title
一种基于地标约束的多尺度城市功能分类方法
摘要abst
本发明提出了一种基于地标约束的多尺度城市功能分类方法。首先，结合多源异构数据，构建了基于几何相似和功能相似的城市建筑物空间场景，有助于较好的实现地理信息检索分类；其次，结合建筑物的几何特征和语义特征设计了新的显著性去量化提取地标，顾及了地理实体视觉、语义和空间等特性，全面、客观地设计了地标提取模型；最后，基于地标约束的功能区识别模型，提高模型对于特殊区域识别能力，避免了由于单独数据源引起功能区误识别情况，能够客观综合地对不同城市区域进行功能识别。本发明所提出的方法不仅在单一空间尺度上有效提升显著地物的识别能力，同时也能在提升在不同尺度下地物特征的关联和映射关系，实现多尺度下城市功能区识别。
权利要求书clms
1.一种基于地标约束的多尺度城市功能分类方法，其特征在于，包含如下步骤：S1、将城市POI数据、建筑物数据和宜出行数据进行预处理，得到路网数据，对该路网数据进行分级处理，得到三级路网；根据建筑物数据集计算几何特征因子并将其标准化归一；将POI数据进行OPTICS密度聚类和属性评级得到城市中心度和属性特征；S2、将标准化归一后的几何特征因子构造几何特征向量，根据所述几何特征向量，得到建筑物几何相似度，在基于三级路网约束的建筑物的Delaunay三角网中，根据建筑物几何相似度进行第一区域生长聚类，得到几何聚类后的建筑物几何群组，并将建筑物进行群组内合并，群组内的建筑物可以看做是合并后的要素部件，后文功能相似聚类与地标模型构建等皆是基于合并后的建筑物几何群组；S3、以城市中心度和属性特征的值构造POI的语义特征，将所述建筑物几何群组与其缓冲区内各功能分类中语义特征值最大的POI匹配，同时将POI的城市中心度、属性特征和语义特征赋予建筑物几何群组；在基于建筑物几何群组构造的新的Delaunay三角网中，以该建筑物几何群组的语义特征构造功能向量，根据建筑物几何群组的功能相似度进行第二区域生长聚类，得到建筑物的功能特征相似群；S4、根据所述建筑物几何群组内各建筑物的几何特征因子，选取其中部分因子计算得到整个建筑物几何群组的几何特征值；根据建筑物群组缓冲区内的宜出行数据，得到公众认知度；以几何特征、属性特征、城市中心度和公众认知度特征值构造建筑物群组的显著度模型；S5、在城市三级路网的区域中，由步骤S3的功能特征相似群计算区域中各类型的面积，由步骤S4的建筑物群组显著性得到区域中各类型的最大显著性，将各类型的面积和最大显著性标准化后加权求和，作为区域类型的投票标准；区域类型确定后，该类型中的最显著建筑物群组被确定为此区域的地标建筑，地标的显著性也被赋予该区域；同理可得，一级路网区域和二级路网区域的类型确定及地标提取。2.根据权利要求1所述的一种基于地标约束的多尺度城市功能分类方法，其特征在于，步骤S1中，数据处理的过程如下：S11、POI数据、建筑物数据和宜出行数据的预处理包括纠偏、去重和裁剪；S12、几何特征因子包括高度、周长、面积、面积凹度、周长凹度、球状形、形状参数、纵横轴比和方向角9个因子，标准化归一过程如下：对高度、周长、面积、面积凹度、周长凹度、球状形、形状参数和纵横轴比这8个因子通过取对数变换，然后对面积凹度和周长凹度这两个因子再作指数变换，最后将所有因子进行极差标准化归一；S13、将POI数据通过属性评级和再分类得到所述属性特征；S14、利用OPTICS密度聚类算法，将该算法中的可达距离进行逆变换表示该POI数据对应的点对于其核心点的集聚程度，数值越大表示其核心点的集聚程度越高，然后作指数变换，对数据进行拉伸处理，最后进行归一化处理，归一化后的结果即为城市中心度，所述城市中心度的公式如下：式中，xreach为POI数据对应的点集聚类后的可达距离，a为指数变换的次方数。3.根据权利要求1所述的一种基于地标约束的多尺度城市功能分类方法，其特征在于，步骤S2中，得到建筑物几何特征相似群组的过程如下：S21、通过对建筑物的上下文特征提取与度量来实现对建筑场景中目标对象的空间关系的描述，其中建筑物的方向关系通过建筑物最小面积外接矩形的长边与正北方向的角度来定量描述，即由几何特征因子中的方向角因子来定量描述；通过建筑物数据生成Delaunay三角网，再利用路网进行约束删去交叉的边；根据两个建筑物之间的欧氏距离，即Delaunay三角网中边的长度，来判断建筑物之间的距离关系的相似性，根据距离关系的相似性，定义建筑物空间场景间上下文相似，即此时存在Delaunay三角边相连；S22、基于S21所提取的上下文相似，对建筑物进行几何相似度度量，基于直接几何相似与间接几何相似对建筑物进行聚类及合并，得到建筑物几何特征相似群组；几何相似度：给定两个建筑物bi、bj或者建筑物聚簇Ci、Cj，采用欧式距离来描述两个建筑物之间的几何相似度，表达式为：式中，Vi，Vj为建筑物几何特征向量，9维向量Vi的模|Vi|∈，因此将此式进行归一化使得V_sim∈；对于建筑物b1，b2，如果二者之间有边相连，且其几何相似度V_sim≥λ1，则称建筑物b1，b2直接几何相似，其中λ1为设置的直接几何相似度阈值；对于建筑物集合S＝{b1，b2，…，bi}和建筑物bi+1，如果几何相似度V_sim≥λ2，则称S与bi+1间接几何相似，其中λ2为设置的间接几何相似度阈值；基于几何特征的建筑物几何聚类过程为：首先随机选取建筑物b，记为初始聚簇{b}；以建筑物b为初始种子，在构建的Delaunay三角网中将与b通过未标记边相连的建筑物定义为其邻域，在领域范围内，判断相邻建筑物是否满足直接几何相似和间接几何相似的条件，若是，则将该建筑物合并到聚簇{b}中，并标记该建筑物与聚簇内建筑物直接相连的所有边；若否，则断开该边；得到新的聚类簇之后，需要重新计算合并几何特征向量，然后搜索建筑物簇的邻域，重复上述过程，直到没有相邻的建筑物并入到建筑物簇中，此时该聚簇的区域生长过程停止，从并入任何聚簇的建筑物中随机选取一个建筑物作为新的簇类种子点，重复以上过程，直到所有建筑物都被归入某个簇时，此时整个聚类过程终止。4.根据权利要求1所述的一种基于地标约束的多尺度城市功能分类方法，其特征在于，步骤S3中，得到建筑物的功能特征相似群的过程如下：S31、将POI数据通过属性评级和再分类得到所述属性特征；S32、利用OPTICS密度聚类算法，将该算法中的可达距离进行逆变换表示该POI数据对应的点对于其核心点的集聚程度，数值越大表示其核心点的集聚程度越高，然后作指数变换，对数据进行拉伸处理，最后进行归一化处理，归一化后的结果即为城市中心度，所述城市中心度的公式如下：式中，xreach为POI数据对应的点集聚类后的可达距离，a为指数变换的次方数；S33、通过三次缓冲机制来实现POI数据与建筑物数据的匹配，匹配过程如下：首先，利用建筑物构建一级缓冲区，统计落在缓冲区内的POI数据；然后，将落点为0的缓冲区再次构建二级缓冲区，统计落在各缓冲区内的POI数据；最后，将缓冲区内落点为0的建筑物与相距最近的POI数据匹配，缓冲距离即为缓冲区内落点为0的建筑物与其最近POI数据对应的点的距离；建筑物的功能特征向量构造过程如下：r＝w×其中，xattribute、xcenter为POI数据对应的点的属性特征和城市中心度，buffer为POI数据与建筑物匹配时的缓冲次数；w为高斯函数，对POI数据对应的点进行反距离加权，a＝0，b＝0，c＝70，x为POI数据对应的点到建筑物群组中心点的距离；r为与建筑物群组匹配的POI数据对应的点的语义特征值，w1、W2分别为相关系数，分别设置为1.5，0.75；功能相似度：给定两个建筑物bi、bj，或建筑物群Ci、Cj，采用向量余弦来描述两个建筑物之间的功能相似度，表达式为：式中，Fi和Fj为建筑物功能特征向量，|F|为向量模；S34、将建筑物几何群组目标转换为中心点集，中心点为几何群组的质心，构建新的Delaunay三角网，接着基于上下文信息对建筑物几何群组进行功能特征相似度度量，以直接功能相似与间接功能相似条件对建筑物进行聚类及合并，得到建筑物的功能特征相似群；对于建筑物群组b1，b2，如果二者在新的Delaunay三角网中有边相连，且其功能相似度F_sim≥λ3，则称建筑物群组b1，b2直接功能相似，其中λ3为设置的直接功能相似度阈值；对于建筑物集合S＝{b1，b2，…，bi}和建筑物群组bi+1，如果功能相似度F_sim≥λ4，则称S与bi+1间接功能相似，其中λ4为设置的间接功能相似度阈值；以直接功能相似与间接功能相似条件对建筑物进行聚类及合并的过程为：基于功能特征相似度的建筑物聚类时，随机选取已经构建好的建筑物群组b，为初始聚簇{b}，以直接功能相似和间接功能相似为限制条件进行区域生长；聚类后通过聚簇内单体个数优化聚类结果；当单体个数小于3时，搜索其聚簇100m邻域内的其他聚簇，将其合并到相似度最高的聚簇。5.根据权利要求3所述的一种基于地标约束的多尺度城市功能分类方法，其特征在于，步骤S4中，所述选择的几何特征因子为高度、周长、面积、面积凹度、周长凹度、球状形、形状参数和纵横轴比8个因子，不包含方向角因子，对该8个因子取均值得到建筑物几何群组的几何特征值，取建筑物几何群组缓冲区内的宜出行数据均值得到公众认知度。6.根据权利要求4所述的一种基于地标约束的多尺度城市功能分类方法，其特征在于，步骤S4中，所述显著性度量模型主要从几何特征、属性特征、城市中心度和公众认知度4个影响因素来定量描述，具体过程如下：S41、在进行属性特征X1和城市中心度X2的计算时，利用S33中提到的三级缓冲方式构建缓冲区，将缓冲区内语义特征值最大的POI数据对应的属性特征和城市中心度赋予建筑物群组；S42、基于建筑物群组的几何特征值采用其几何特征因子计算，公式如下：X3＝u1+u2+…+uk+…+u8式中，uk为几何特征因子，几何因子数值越大，建筑物越显著；S43、通过宜出行人口数据的热力值来反映建筑物的公众认知度，计算公众认知度时，需要将工作日和休息日的数据进行分别处理，对建筑物群组进行缓冲，统计落入缓冲区内的热力值总和，再除以缓冲区的面积，得到工作日和休息日的热力均值，再次平均计算获得总的热力均值后，对数据进行指数拉伸变换后再归一化，此时获得的数据值为即公众认知度X4；S44、综合步骤S41-S43得到的所有影响因素，构建建筑物显著度模型：sign＝pi×式中，w1＝1.25，w2＝1.5，w3＝0.75，w4＝1.5，系数p取决于建筑物的匹配类型i。7.根据权利要求1所述的一种基于地标约束的多尺度城市功能分类方法，其特征在于，步骤S5中，三级路网区域的烈性确定及地表提取过程中，先将建筑物进行格网处理，然后再参与投票标准的计算，具体过程如下：首先在各格网中进行最大面积投票得到该格网的功能分类，再由类型i的建筑的最大显著性和该类型的格网面积总和构造Fi，其中，前者类型为地标匹配类型，后者为建筑物相似度聚类的类型，当Fi取得最大值时，类型i中的最显著建筑被提取为该场景下的地标，该区域的显著度也即其地标显著度；区域类型的投票标准如下：Fi＝λ4jmax+λ5jregion_areai式中，sign为计算得到的显著度的归一值，region_areai对应研究场景中第i类对象的面积总和的归一值，λ为权值，i＝{1，2，3，4，5，6}对应6类功能分区，j＝{1，2，3}对应三级路网；在二级路网区域中，由类型i的三级路网的最大显著性和该类型的三级路网的面积总和构造Fi，当Fi取得最大值时，类型i中的最显著地标被提取为该路网区域的地标，区域显著度也即其地标显著度，一级路网区域同理。
说明书desc
技术领域本发明涉及地理信息科学与城市土地利用，更具体地说，涉及一种基于地标约束的多尺度下城市功能分类方法。背景技术城市化是衡量一个国家社会发达程度的重要因素。合理的城市空间布局有助于促进和完善现有城市功能划分的研究理论发展，对城市的普适计算和城市规划等方面都具有重要意义。近年来，随着城市发展对于精细化、多尺度的城市功能分区结果的进一步需求，越来越多的研究者开始关注精细化的城市空间单元功能分类。测绘学的不断发展使大范围建筑物的几何与位置信息可以通过高分影像高效、快速获取，这些方法相比于传统的城市土地利用类型分布图、专家评分或是实地调查统计等方法虽然在分类精度方面有所提升，但是难以进一步挖掘其中的功能语义信息，无法满足现代化城市规划与分析中的一些需求；一些学者将传统规划数据、遥感影像数据、时空信息数据、POIs数据等结合，采用多源数据融合方法，建立精细化功能区识别体系。虽然以上研究在城市功能分区识别中取得了长足进步，但这些研究在空间多尺度功能区识别，特殊空间场景认知仍存在一些不足。一方面，由于POI等多源数据特征限制，其并不包含建筑物的物理属性，如：面积、周长等，所以无法直接用于多空间尺度构建中；另一方面，在空间尺度变化时，地理实体的时空属性和语义属性显著性的提取规则模糊，不同尺度间的地物特征尚未构建明确的关联规则。因此，亟需研究一种新的方法来解决上述问题。发明内容本发明要解决的技术问题在于，针对现有技术中城市功能分类方法中的建筑物几何特征和社会功能特征难以兼顾，或者多尺度下空间目标的识别与提取规则模糊等技术缺陷，本发明尝试以建筑物为基础研究单元，结合建筑物的几何特征和多源数据的语义特征，引入“地标”概念来解决多尺度下城市功能的分类问题。地标在人们空间知识的形成过程中起到了锚点的作用，从个体角度直接影响着人们对于该空间区域的认知，显著性作为地标的重要特征也被广泛认可。最终本发明提供一种基于地标约束的多尺度下城市功能分类方法，本方法基于建筑物的几何特征和功能特征构建建筑物的空间场景，在此基础上，结合多源时空数据提取空间目标的显著特征，在地标约束下实现在不同尺度下的城市功能区类型识别。具体包含如下步骤：S1、将城市POI数据、建筑物数据和宜出行数据进行预处理，得到路网数据，对该路网数据进行分级处理，得到三级路网；根据建筑物数据集计算几何特征因子并将其标准化归一；将POI数据进行OPTICS密度聚类和属性评级得到城市中心度和属性特征；S2、将标准化归一后的几何特征因子构造几何特征向量，根据所述几何特征向量，得到建筑物几何相似度，在基于三级路网约束的建筑物的Delaunay三角网中，根据建筑物几何相似度进行第一区域生长聚类，得到几何聚类后的建筑物几何群组，并将建筑物进行群组内合并，群组内的建筑物可以看做是合并后的要素部件，后文功能相似聚类与地标模型构建等皆是基于合并后的建筑物几何群组；S3、以城市中心度和属性特征的值构造POI的语义特征，将所述建筑物几何群组与其缓冲区内各功能分类中语义特征值最大的POI匹配，同时将POI的城市中心度、属性特征和语义特征赋予建筑物几何群组；在基于建筑物几何群组构造的新的Delaunay三角网中，以该建筑物几何群组的语义特征构造功能向量，根据建筑物几何群组的功能相似度进行第二区域生长聚类，得到建筑物的功能特征相似群；S4、根据所述建筑物几何群组内各建筑物的几何特征因子，选取其中部分因子计算得到整个建筑物几何群组的几何特征值；根据建筑物群组缓冲区内的宜出行数据，得到公众认知度；以几何特征、属性特征、城市中心度和公众认知度特征值构造建筑物群组的显著度模型；S5、在城市三级路网的区域中，由步骤S3的功能特征相似群计算区域中各类型的面积，由步骤S4的建筑物群组显著性得到区域中各类型的最大显著性，将各类型的面积和最大显著性标准化后加权求和，作为区域类型的投票标准；区域类型确定后，该类型中的最显著建筑物群组被确定为此区域的地标建筑，地标的显著性也被赋予该区域；同理可得，一级路网区域和二级路网区域的类型确定及地标提取。进一步地，步骤S1中，数据处理的过程如下：S11、POI数据、建筑物数据和宜出行数据的预处理包括纠偏、去重和裁剪；S12、所述几何特征因子包括高度、周长、面积、面积凹度、周长凹度、球状形、形状参数、纵横轴比和方向角9个因子，对这几个所述几何特征因子的标准化归一过程如下：对高度、周长、面积、面积凹度、周长凹度、球状形、形状参数和纵横轴比这8个因子通过取对数变换，然后对面积凹度和周长凹度这两个因子再作指数变换，最后将所有因子进行极差标准化归一；S13、将POI数据通过属性评级和再分类得到所述属性特征；S14、利用OPTICS密度聚类算法，将该算法中的可达距离进行逆变换表示该POI数据对应的点对于其核心点的集聚程度，数值越大表示其核心点的集聚程度越高，然后作指数变换，对数据进行拉伸处理，最后进行归一化处理，归一化后的结果即为城市中心度，所述城市中心度的公式如下：式中，xreach为POI数据对应的点集聚类后的可达距离，a为指数变换的次方数。进一步地，得到建筑物几何特征相似群组的过程如下：S21、通过对建筑物的上下文特征提取与度量来实现对建筑场景中目标对象的空间关系的描述，其中建筑物的方向关系通过建筑物最小面积外接矩形的长边与正北方向的角度来定量描述，即由几何特征因子中的方向角因子来定量描述；通过建筑物数据生成Delaunay三角网，再利用路网进行约束删去交叉的边；根据两个建筑物之间的欧氏距离，即Delaunay三角网中边的长度，来判断建筑物之间的距离关系的相似性，根据距离关系的相似性，定义建筑物空间场景间上下文相似，即此时存在Delaunay三角边相连；S22、基于S21所提取的上下文相似，对建筑物进行几何相似度度量，基于直接几何相似与间接几何相似对建筑物进行聚类及合并，得到建筑物几何特征相似群组；几何相似度：给定两个建筑物bi、bj或者建筑物聚簇Ci、Cj，采用欧式距离来描述两个建筑物之间的几何相似度，表达式为：式中，Vi，Vj为建筑物几何特征向量，9维向量Vi的模|Vi|∈，因此|Vi-Vj|∈，将此式进行归一化使得V_sim∈；对于建筑物b1,b2，如果二者之间有边相连，且其几何相似度V_sim≥λ1，则称建筑物b1,b2直接几何相似，其中λ1为设置的直接几何相似度阈值；对于建筑物集合S＝{b1,b2,…,bi}和建筑物bi+1，如果几何相似度V_sim≥λ2，则称S与bi+1间接几何相似，其中λ2为设置的间接几何相似度阈值；基于几何特征的建筑物几何聚类过程为：首先随机选取建筑物b，记为初始聚簇{b}；以建筑物b为初始种子，在构建的Delaunay三角网中将与b通过未标记边相连的建筑物定义为其邻域，在领域范围内，判断相邻建筑物是否满足直接几何相似和间接几何相似的条件，若是，则将该建筑物合并到聚簇{b}中，并标记该建筑物与聚簇内建筑物直接相连的所有边；若否，则断开该边；得到新的聚类簇之后，需要重新计算合并几何特征向量，然后搜索建筑物簇的邻域，重复上述过程，直到没有相邻的建筑物并入到建筑物簇中，此时该聚簇的区域生长过程停止，从并入任何聚簇的建筑物中随机选取一个建筑物作为新的簇类种子点，重复以上过程，直到所有建筑物都被归入某个簇时，此时整个聚类过程终止。进一步地，得到建筑物的功能特征相似群的过程如下：S31、将POI数据通过属性评级和再分类得到所述属性特征；S32、利用OPTICS密度聚类算法，将该算法中的可达距离进行逆变换表示该POI数据对应的点对于其核心点的集聚程度，数值越大表示其核心点的集聚程度越高，然后作指数变换，对数据进行拉伸处理，最后进行归一化处理，归一化后的结果即为城市中心度，所述城市中心度的公式如下：式中，xreach为POI数据对应的点集聚类后的可达距离，a为指数变换的次方数；S33、通过三次缓冲机制来实现POI数据与建筑物数据的匹配，匹配过程如下：首先，利用建筑物构建一级缓冲区，统计落在缓冲区内的POI数据；然后，将落点为0的缓冲区再次构建二级缓冲区，统计落在各缓冲区内的POI数据；最后，将缓冲区内落点为0的建筑物与相距最近的POI数据匹配，缓冲距离即为缓冲区内落点为0的建筑物与其最近POI数据对应的点的距离；建筑物的功能特征向量构造过程如下：r＝w×其中，xattribute、xcenter为POI数据对应的点的属性特征和城市中心度，buffer为POI数据与建筑物匹配时的缓冲次数；w为高斯函数，对POI点进行反距离加权，a＝0,b＝0,c＝70，x为POI数据对应的点到建筑物群组中心点的距离；r为与建筑物群组匹配的POI数据对应的点的语义特征值，w1、w2分别为相关系数，分别设置为1.5，0.75；功能相似度：给定两个建筑物bi、bj，或建筑物群Ci、Cj，采用向量余弦来描述两个建筑物之间的功能相似度，表达式为：式中，Fi和Fj为建筑物功能特征向量，|F|为向量模；S34、将建筑物几何群组目标转换为中心点集，构建新的Delaunay三角网，接着基于上下文信息对建筑物几何群组进行功能特征相似度度量，以直接功能相似与间接功能相似条件对建筑物进行聚类及合并，得到建筑物的功能特征相似群；对于建筑物群组b1,b2，如果二者在新的Delaunay三角网中有边相连，且其功能相似度F_sim≥λ3，则称建筑物群组b1,b2直接功能相似，其中λ3为设置的直接功能相似度阈值；对于建筑物集合S＝{b1,b2,…,bi}和建筑物群组bi+1，如果功能相似度F_sim≥λ4，则称S与bi+1间接功能相似，其中λ4为设置的间接功能相似度阈值；以直接功能相似与间接功能相似条件对建筑物进行聚类及合并的过程为：基于功能特征相似度的建筑物聚类时，随机选取已经构建好的建筑物群组b,为初始聚簇{b}，以直接功能相似和间接功能相似为限制条件进行区域生长；聚类后通过聚簇内单体个数优化聚类结果；当单体个数小于3时，搜索其聚簇100m邻域内的其他聚簇，将其合并到相似度最高的聚簇。进一步地，所述第二几何特征因子包括高度、周长、面积、面积凹度、周长凹度、球状形、形状参数和纵横轴比，对该第二几何特征因子取均值得到建筑物几何群组的几何特征，取建筑物几何群组缓冲区内的宜出行数据均值得到公众认知度。进一步地，所述显著性度量模型主要从几何特征、属性特征、城市中心度和公众认知度4个影响因素来定量描述，具体过程如下：S41、在进行属性特征X1和城市中心度X2的计算时，利用S33中提到的三级缓冲方式构建缓冲区，将缓冲区内语义特征值最大的POI数据对应的属性特征和城市中心度赋予建筑物群组；S42、基于建筑物群组的几何特征值采用其几何特征因子计算，公式如下：X3＝u1+u2+…+uk+…+u8式中，uk为几何特征因子，几何因子数值越大，建筑物越显著；S43、通过宜出行人口数据的热力值来反映建筑物的公众认知度，计算公众认知度时，需要将工作日和休息日的数据进行分别处理，对建筑物群组进行缓冲，统计落入缓冲区内的热力值总和，再除以缓冲区的面积，得到工作日和休息日的热力均值，再次平均计算获得总的热力均值后，对数据进行指数拉伸变换后再归一化，此时获得的数据值为即公众认知度X4；S44、综合步骤S41-S43得到的所有影响因素，构建建筑物显著度模型：sign＝pi×式中，w1＝1.25，w2＝1.5，w3＝0.75，w4＝1.5，系数p取决于建筑物的匹配类型i。进一步地，三级路网区域的类型确定及地标提取过程中，先将建筑物进行格网处理，然后再参与投票标准的计算，具体过程如下：首先在各格网中进行最大面积投票得到该格网的功能分类，再由类型i的建筑的最大显著性和该类型的格网面积总和构造Fi，其中，前者类型为地标匹配类型，后者为建筑物相似度聚类的类型，当Fi取得最大值时，类型i中的最显著建筑被提取为该场景下的地标，该区域的显著度也即其地标显著度；区域类型的投票标准如下：Fi＝λ4jmax+λ5jregion_areai式中，sign为计算得到的显著度的归一值，region_areai对应研究场景中第i类对象的面积总和的归一值，λ为权值，i＝{1,2,3,4,5,6}对应6类功能分区，j＝{1,2,3}对应三级路网；在二级路网区域中，由类型i的三级路网的最大显著性和该类型的三级路网的面积总和构造Fi，当Fi取得最大值时，类型i中的最显著地标被提取为该路网区域的地标，区域显著度也即其地标显著度，一级路网区域同理。本发明提供的技术方案带来的有益效果是：本发明所提出的方法不仅在单一空间尺度上有效提升显著地物的识别能力，同时也能在提升在不同尺度下地物特征的关联和映射关系，实现多尺度下城市功能区识别。附图说明下面将结合附图及实施例对本发明作进一步说明，附图中：图1是本发明的基于地标约束的多尺度城市功能分类方法一实施例的流程图；图2是简化的基于直接相似和间接相似的区域生长策略聚类流程实例。将研究对象的多维特征向量简化为一维特征值，当直接阈值≤0.4，间接阈值≤0.25时，它们被视为相似可聚合，并最终聚类为两簇。具体实施方式为了对本发明的技术特征、目的和效果有更加清楚的理解，现对照附图详细说明本发明的具体实施方式。请参考图1，在本发明的一实施例中，本发明的一种基于地标约束的多尺度下城市功能分类方法包括以下步骤：S1、预处理过程如下：S11、将城市POI数据、建筑物数据、宜出行数据经过纠偏、去重、裁剪等预处理操作，路网数据分为3级处理；S12、根据建筑物面数据集计算高度、周长、面积、面积凹度、周长凹度、球状形、形状参数、纵横轴比、方向角等9个几何特征因子，将这些因子进行标准化归一；为消除极端值影响、较好体现建筑物的差异性，保证其变换稳定性、稳定性及灵敏性，对高度、周长、面积、面积凹度、周长凹度、球状形、形状参数和纵横轴比8个因子通过取对数变换。由于面积凹度和周长凹度因子对极端值影响较大，因而对这两个因子再作指数变换，之后又将所有因子进行极差标准化归一。S13、将POI数据通过属性评级和再分类得到其属性特征如下：S14、POI城市中心度的计算利用了OPTICS聚类算法中变换其可达距离来衡量。将可达距离进行逆变换表示该点对于其核心点的集聚程度，数值越大集聚程度越高，继而作指数变换对数据进行拉伸处理，最后归一化结果即为城市中心度，公式如下：式中，xreach为POI点集聚类后的可达距离，a为指数变换的次方数。S2、将几何特征因子构造几何特征向量，在基于三级路网约束的建筑物的Delaunay三角网中，根据建筑物几何相似度进行区域生长聚类，聚类之后合并建筑物几何群组。几何相似聚类过程如下：S21、基于三级路网约束构建Delaunay三角网中，利用标准差分类方法将三角网的边长进行中断分类，选取中断值约为100m进行距离约束。在此上下文中，根据建筑物几何相似度进行区域生长聚类，直接相似度阈值λ1和间接相似度阈值λ2都取值0.9，得到建筑物的几何特征相似群组。其中，区域生长聚类的流程简化图如图2所示，将研究对象的多维特征向量简化成一维特征值，当直接差异值≤0.4，间接差异值≤0.25时，视其相似，最后聚成两类聚簇。S22、建筑物的几何特征向量和建筑物几何相似度的定义如下：定义1建筑物几何特征向量：任意建筑物或建筑物群的空间特征通过一个M维向量进行描述，表达式为Vi＝式中，uk为建筑物的第k类归一化的几何特征因子，为建筑物聚簇群里所有建筑物第k类几何特征因子的均值，M＝9，意为9个几何因子。定义2建筑物几何相似度：给定两个建筑物bi、bj或者建筑物聚簇Ci、Cj，采用欧式距离来描述两个建筑物之间的几何相似度，表达式为式中，Vi,Vj为建筑物几何特征向量，9维向量Vi的模|Vi|∈，因此|Vi-Vj|∈，将此式进行归一化使得V_sim∈.S23、通过对建筑物的上下文特征提取与度量来实现对场景中目标对象的空间关系的描述。其中建筑物的方向关系通过建筑物最小面积外接矩形的长边与正北方向的角度来定量描述，即S21中的方向角因子；拓扑关系的描述通过建筑物数据生成Delaunay三角网，再利用路网进行约束删去交叉的边；距离关系的相似性为判断两个建筑物之间的欧氏距离。此时定义建筑物空间场景间上下文相似即为存在Delaunay三角边相连。S24、基于S23所提取的上下文特征信息对建筑物进行几何相似度度量，基于直接几何相似与间接几何相似对建筑物进行聚类及合并，得到建筑物的几何特征相似群组。定义3直接几何相似：对于建筑物b1,b2，如果二者之间有边相连,且其几何相似度V_sim≥λ1,则称建筑物b1,b2直接空间相似,其中λ1为设置的直接几何相似度阈值.定义4间接几何相似：对于建筑物集合S＝{b1,b2,…,bi}和建筑物bi+1，如果几何相似度V_sim≥λ2，则称S与bi+1间接几何相似,其中λ2为设置的间接几何相似度阈值.基于几何特征的建筑物聚类过程中，首先随机选取建筑物b,记为初始聚簇{b}；以建筑物b为初始种子，在构建的Delaunay三角网中将与b通过未标记边相连的建筑物定义为其邻域。在领域范围内，如果相邻建筑物满足直接几何相似和间接几何相似的条件，则将该建筑物合并到聚簇{b}中，并标记该建筑物与聚簇内建筑物直接相连的所有边；若不满足相似条件则断开该边。得到新的聚类簇之后需要重新计算合并后几何特征向量，然后搜索建筑物簇的邻域，重复上述过程，直到没有相邻的建筑物并入到建筑物簇中，该聚簇的区域生长过程停止。从并入任何聚簇的建筑物中随机选取一个建筑物作为新的簇类种子点,重复以上过程,直到所有建筑物都被归入某个簇时,整个聚类过程终止。S3、将POI数据进行OPTICS密度聚类和属性评级得到城市中心度和属性特征，以这两种特征值构造POI的语义特征，选取几何聚类后的建筑物群组缓冲区内各功能分类中语义特征值最大的POI与之匹配，同时将POI的城市中心度、属性特征和语义特征赋予建筑物几何群组。建筑物群组的功能聚类聚类过程如下：S31、本方法通过三次缓冲机制来实现POI数据与建筑物数据的匹配。首先利用建筑物构建一级缓冲区，统计落在缓冲区内的POI；将落点为0的缓冲区再次构建二级缓冲区，统计落在各缓冲区内的POI；将缓冲区内落点为0的建筑与相距最近的POI数据匹配，即缓冲距离为与其最近POI的距离。建筑物的功能特征向量构造过程如下：r＝w×其中，xattribute、xcenter为POI的属性特征和城市中心度，buffer为POI与建筑物匹配时的缓冲次数；w为高斯函数，对POI点进行反距离加权，a＝0,b＝0,c＝70，x为POI点到建筑物群组中心点的距离；r为与建筑物群组匹配的POI点的语义特征值，w1、w2分别为相关系数，设置为1.5，0.75。定义5建筑物功能特征向量：假设共有N类兴趣点分布于研究区域，则任意建筑物bi或建筑物群Ci的功能类型可以通过一个N维向量进行描述，表达式为Fi＝式中，rk为落入建筑物bi的缓冲区的第k类特征的语义特征的最大值，为建筑物聚簇群里所有建筑物第k类功能特征因子的均值。本研究中功能区共有6类，因此公式中N＝6。定义6建筑物功能相似度：给定两个建筑物bi、bj，采用向量余弦来描述两个建筑物之间的功能相似度，表达式为式中，Fi、Fj为建筑物功能特征向量，|F|为向量模。S32、将建筑物群组目标转换为中心点集构建Delaunay三角网，接着基于上下文信息对建筑物群组进行功能特征相似度度量，以直接功能相似与间接功能相似条件对建筑物进行聚类及合并，得到建筑物的功能特征相似群。定义7直接功能相似：对于建筑物群组b1,b2，如果二者在Delaunay三角网中有边相连,且其功能相似度F_sim≥λ3,则称建筑物群组b1,b2直接功能相似,其中λ3为设置的直接功能相似度阈值.定义8间接功能相似：对于建筑物集合S＝{b1,b2,…,bi}和建筑物群组bi+1，如果功能相似度F_sim≥λ4，则称S与bi+1间接功能相似,其中λ4为设置的间接功能相似度阈值.基于功能特征相似度的建筑物聚类时，随机选取已经构建好的建筑物群组b,为初始聚簇{b}，以直接功能相似和间接功能相似为限制条件进行区域生长。聚类后通过聚簇内单体个数优化聚类结果；在本发明中，当单体个数小于3时，搜索其聚簇100m邻域内的其他聚簇，将其合并到相似度最高的聚簇。以POI的城市中心度与属性特征建立语义特征值，将特征值与建筑物群组进行三次缓冲匹配时，由于在S43公众认知度的计算中，宜出行数据的分辨率为25m，为使得数据点规则密布的理想情况下建筑物缓冲区内的数据落点不小于2，将缓冲区距离设置为因此POI数据匹配时的第一次缓冲距离也被设置为36m，第二、三次缓冲距离分别为72m，108m。以功能特征向量进行相似度聚类时，直接相似度阈值λ3和间接相似度阈值λ4都取值0.91。在基于建筑物几何群组构造的Delaunay三角网中，以建筑物群组的语义特征构造功能向量，根据建筑物群组的功能相似度进行区域生长聚类。S4、将几何特征聚类后的建筑物群组与其缓冲区内语义特征值最大的POI匹配，得到建筑物群组的城市中心度、属性特征；将建筑物群组内各建筑物的高度、周长、面积、面积凹度、周长凹度、球状形、形状参数、纵横轴比等8个因子取均值得到建筑物群组的几何特征；计算建筑物群组缓冲区内的宜出行数据均值得到公众认知度；以几何特征、属性特征、城市中心度、公众认知度构造建筑物群组的显著度模型。建筑物群组的显著性度量模型主要从几何特征、属性特征、城市中心度、公众认知度4个影响因素来定量描述：S41、在建筑物群组进行属性特征X1和城市中心度X2的计算时，利用S33中提到的三级缓冲方式构建缓冲区，将缓冲区内语义特征值最大的POI对应的属性特征和城市中心度赋予建筑物群组。S42、基于建筑物群组的几何特征值采用其几何因子计算，公式如下：X3＝u1+u2+…+uk+…+u8式中，uk为S21中构成建筑物几何特征向量中的前8个因子高度、周长、面积、面积凹度、周长凹度、球状形、形状参数、纵横轴比，一般认为，这8个几何因子数值越大，建筑物越显著。S43、本方法具体通过宜出行人口数据的热力值来反映建筑物的公众认知程度。计算公众认知度时，需要将工作日和休息日的数据进行分别处理，对建筑物群组进行缓冲，统计落入缓冲区内的热力值总和，再除以缓冲区的面积，得到工作日和休息日的热力均值，再次平均计算获得总的热力均值后对数据进行指数拉伸变换后再归一化，设此时获得的数据值为公众认知度X4。S44、综合S41、S42和S43得到的所有影响因素，构建建筑物显著度：sign＝pi×式中，w1＝1.25，w2＝1.5，w3＝0.75，w4＝1.5。系数p取决于建筑物的匹配类型i，经多次实验如下：p＝T＝TS5、在城市三级路网的区域中，由S3的功能聚类结果计算区域中各类型的面积，由S4的建筑物群组显著性得到区域中各类型的最大显著性，将各类型的面积和最大显著性标准化后加权求和，作为区域类型的投票标准。区域类型确定后，该类型中的最显著建筑物群组被确定为此区域的地标建筑，地标的显著性也被赋予该区域。在三级路网约束构建的较大尺度研究场景中，先将建筑物进行格网处理再参与分类模型的计算。首先在各格网中进行最大面积投票得到该格网的功能分类，再由类型i的建筑的最大显著性和该类型的格网面积总和构造Fi，其中，前者类型为地标匹配类型，后者为建筑物相似度聚类的类型。当Fi取得最大值时，类型i中的最显著建筑被提取为该场景下的地标，该区域的显著度也即其地标显著度。区域类型的投票标准如下：Fi＝ε4jmax+λ5jregion_areai式中，sign为计算得到的显著度的归一值，region_areai对应研究场景中第i类对象的面积总和的归一值，λ为权值，i＝{1,2,3,4,5,6}对应6类功能分区，j＝{1,2,3}对应三级路网。在城市二级路网的区域中，将各类型的三级路网区域的面积标准化后与其显著性加权求和，作为二级路网区域类型的投票标准，区域中的地标与区域显著性确定与三级路网同理；一级路网区域的类型确定、地标提取同上。本发明的有益效果是：本发明所提出的方法不仅在单一空间尺度上有效提升显著地物的识别能力，同时也能在提升在不同尺度下地物特征的关联和映射关系，实现多尺度下城市功能区识别。上面结合附图对本发明的实施例进行了描述，但是本发明并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本发明的启示下，在不脱离本发明宗旨和权利要求所保护的范围情况下，还可做出很多形式，这些均属于本发明的保护之内。
