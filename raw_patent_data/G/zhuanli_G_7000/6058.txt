标题title
一种基于多块排样图的矩形件智能排样方法
摘要abst
本发明公开了一种基于多块排样图的矩形件智能排样方法，包括：S1：定义简单排样图；S2：定义对每个k‑1阶矩形块沿k阶剪切线进行k阶剪切操作，获取2个k阶矩形块；S3：假设在K阶矩形块内矩形件按照简单排样图进行排样；S4：获取第P个K‑1阶矩形块的最大价值，确定K阶剪切线的位置；S5：获取第p个k‑1阶矩形块的最大价值，确定k阶剪切线的位置；S6：获取板材的最大价值，确定1阶剪切线的位置；S7：绘制板材的排样图。本发明的计算方法能够快速的求解出对于各种尺寸的板材进行加工数量不限制的有限多种矩形件的排样图，使得板材的排样价值最大，提高板材利用率，降低生产成本，提高了装备制造业的自动化的使用积极性。
权利要求书clms
1.一种基于多块排样图的矩形件智能排样方法，其特征在于，包括如下步骤：S1：定义简单排样图，所述简单排样图为：若干行若干列第i种矩形件按照相同方向排列在一起形成的排样图；S2：定义对0阶矩形块沿1阶剪切线进行1阶剪切操作，获取1阶矩形块，所述1阶矩形块包括第一1阶矩形块和第二1阶矩形块；以此类推，则对每个k-1阶矩形块沿k阶剪切线进行k阶剪切操作，获取2个k阶矩形块，分别为第一k阶矩形块和第二k阶矩形块；其中，k阶剪切线与k-1阶剪切线互相垂直，k为剪切操作的阶数，1≤k≤K取整数，K为剪切操作的最大阶数；S3：假设在所述K阶矩形块上，矩形件按照简单排样图进行排样；获取所述K阶矩形块的最大价值及K阶最优排样图；S4：获取第P个K-1阶矩形块的最大价值，以确定K阶剪切线的位置，其中，P≤PK，PK为K阶剪切线的数量；S5：获取第p个k-1阶矩形块的最大价值，以确定k阶剪切线的位置，其中，p≤pk，pk为k阶剪切线的数量；S6：获取板材的最大价值，以确定1阶剪切线的位置；S7：根据所述1阶剪切线的位置、k阶剪切线的位置、K阶剪切线的位置以及K阶最优排样图，绘制出矩形件在板材上的排样图。2.根据权利要求1所述的一种基于多块排样图的矩形件智能排样方法，其特征在于，所述S3中，所述K阶矩形块的最大价值计算如下：式中：F为在所述K阶矩形块内对第i种矩形件进行简单排样的最大排样价值；x为所述K阶矩形块的长度；y为所述K阶矩形块的宽度；li为第i种矩形件的长度；wi为第i种矩形件的宽度；vi为第i种矩形件的价值；为向下取整数计算。于是，式中：F为所述K阶矩形块的最大价值；m为矩形件的种数；0≤x≤L，0≤y≤W；L为板材的长度，W为板材的宽度；当矩形件的li沿K阶矩形块的x方向排列时，记为G＝i；当矩形件的wi沿K阶矩形块的x方向排列时，记为G＝-i；式中：G代表F对应的矩形件类型，正负号表征矩形件的方向；此时的矩形件类型即为长度为li，宽度为wi的矩形件。3.根据权利要求2所述的一种基于多块排样图的矩形件智能排样方法，其特征在于，所述S4中，获取第P个K-1阶矩形块的最大价值的方法如下：设，由第P个K-1阶矩形块沿其内部的K阶剪切线进行剪切操作，获取第P个第一K阶矩形块和第P个第二K阶矩形块；假设1阶剪切线为竖直剪切线，则若K为奇数时，第P个K-1阶矩形块内部的K阶剪切线的位置为横坐标xP0；式中：CP为第P个K-1阶矩形块的最大价值；CP为第P个第一K阶矩形块的最大价值；Cp为第P个第二K阶矩形块的最大价值；xP为第P个K-1阶矩形块的长度；xP1为第P个第一K阶矩形块的长度；则xP-xP1为第P个第二K阶矩形块的长度；yP为第P个K-1阶矩形块的宽度；则；此时的第P个K-1阶矩形块内部的K阶剪切线的位置坐标为xP0＝xP1t；其中，xP1t为当CP+CP取最大值时的第P个第一K阶矩形块的长度；则若K为偶数时，第P个K-1阶矩形块内部的K阶剪切线的位置坐标为纵坐标yP0；式中：CP为第P个第一K阶矩形块的最大价值；CP为第P个第二K阶矩形块的最大价值；yP1为第P个第一K阶矩形块的宽度；则yP-yP1为第P个第二K阶矩形块的宽度；xP为第P个K-1阶矩形块的长度；则；此时的第P个K-1阶矩形块内部的K阶剪切线的位置为yP0＝yP1t；其中，yP1t为当CP+CP取最大值时的第P个第一K阶矩形块的宽度；于是，K阶剪切线的位置4.根据权利要求3所述的一种基于多块排样图的矩形件智能排样方法，其特征在于，所述S5中，获取第p个k-1阶矩形块的最大价值如下：若k为奇数时，第p个k-1阶矩形块内部的k阶剪切线的位置为横坐标xp0；式中：Cp为第p个k-1阶矩形块的最大价值；Cp为第p个第一k阶矩形块的最大价值；Cp为第p个第二k阶矩形块的最大价值；xp为第p个k-1阶矩形块的长度；xp1为第p个第一k阶矩形块的长度；则xp-xp1为第p个第二k阶矩形块的长度；yp为第p个k-1阶矩形块的宽度；则；此时的第p个k-1阶矩形块内部的k阶剪切线的位置为xp0＝xp1t；其中，xp1t为当Cp+Cp取最大值时的第p个第一k阶矩形块的长度；则若k为偶数时，第p个k-1阶矩形块内部的k阶剪切线的位置为纵坐标yP0；式中：Cp为第p个第一k阶矩形块的最大价值；Cp为第p个第二k阶矩形块的最大价值；yp1为第p个第一k阶矩形块的宽度；则yp-yp1为第p个第二k阶矩形块的宽度；xp为第p个k-1阶矩形块的长度；则；此时的第p个k-1阶矩形块内部的k阶剪切线的位置为yp0＝yp1t；其中，yp1t为当Cp+Cp取最大值时的第p个第一k阶矩形块的宽度；于是，k阶剪切线的位置5.根据权利要求4所述的一种基于多块排样图的矩形件智能排样方法，其特征在于，所述S6中，所述板材的最大价值获取如下：式中：C0为板材的最大价值，其中，x0＝L，即为板材的长度；y0＝W，即为板材的宽度；C0为第一1阶矩形块的最大价值；C0为第二1阶矩形块的最大价值；x01为第一1阶矩形块的长度；则x0-x01为第二1阶矩形块的长度；则；此时板块上的1阶剪切线的位置为γ1＝x00＝x01t；其中，x01t为当C0+C0取最大值时的第一1阶矩形块的长度；x00为板材上的1阶剪切线的位置的横坐标。
说明书desc
技术领域本发明涉及智能加工装备技术领域，尤其涉及一种基于多块排样图的矩形件智能排样方法。背景技术矩形件板材剪切排样问题是指：将一张板材剪切出若干种指定尺寸和价值的矩形件，寻求优化排样方式，使得板材排样价值即剪切出的矩形件总价值最大。智能加工装备技术中，对于板材能够按照使其价值最大化进行切割加工，在理论上该问题属于NP难度组合优化问题，在实践中该问题具有广泛的应用，例如金属板材、玻璃、胶合板等切割成矩形件的下料环节，优良的排样方式能提高板材排样价值。为了能够提高制造业自动化水平，使得在板材上加工数量不限制的有限多种矩形件，使板材的切割价值最大，现有方法中包括采用随机搜索方法在限定的时间内在解空间里搜索近似最优解，常见的有遗传算法、粒子群算法、模拟退火算法，此类方法的参数设置比较复杂，且每次求出的排样图并不相同，解不具有可复现性，在实际应用中具有很大的局限性。而通过限制排样方式满足一定的几何特征，来缩小考察的排样图的解空间，常见的有两阶段排样方法、T型排样方法、三阶段排样方法、三块排样方法、四块排样方法，此类方法的板材排样价值不高，无法实现板材的价值最大化。发明内容本发明提供一种基于多块排样图的矩形件智能排样方法，以克服上述技术问题。为了实现上述目的，本发明的技术方案是：一种基于多块排样图的矩形件智能排样方法，包括如下步骤：S1：定义简单排样图，所述简单排样图为：若干行若干列第i种矩形件按照相同方向排列在一起形成的排样图；S2：定义对0阶矩形块沿1阶剪切线进行1阶剪切操作，获取1阶矩形块，所述1阶矩形块包括第一1阶矩形块和第二1阶矩形块；以此类推，则对每个k-1阶矩形块沿k阶剪切线进行k阶剪切操作，获取2个k阶矩形块，分别为第一k阶矩形块和第二k阶矩形块；其中，k阶剪切线与k-1阶剪切线互相垂直，k为剪切操作的阶数，1≤k≤K取整数，K为剪切操作的最大阶数；S3：假设在所述K阶矩形块上，矩形件按照简单排样图进行排样；获取所述K阶矩形块的最大价值及K阶最优排样图；S4：获取第P个K-1阶矩形块的最大价值，以确定K阶剪切线的位置，其中，P≤PK,PK为K阶剪切线的数量；S5：获取第p个k-1阶矩形块的最大价值，以确定k阶剪切线的位置，其中，p≤pk,pk为k阶剪切线的数量；S6：获取板材的最大价值，以确定1阶剪切线的位置；S7：根据所述1阶剪切线的位置、k阶剪切线的位置、K阶剪切线的位置以及K阶最优排样图，绘制出矩形件在板材上的排样图。进一步的，所述S3中，所述K阶矩形块的最大价值计算如下：式中：F为在所述K阶矩形块内对第i种矩形件进行简单排样的最大排样价值；x为所述K阶矩形块的长度；y为所述K阶矩形块的宽度；li为第i种矩形件的长度；wi为第i种矩形件的宽度；vi为第i种矩形件的价值；为向下取整数计算。于是，式中：F为所述K阶矩形块的最大价值；m为矩形件的种数；0≤x≤L，0≤y≤W；L为板材的长度，W为板材的宽度；当矩形件的li沿K阶矩形块的x方向排列时，记为G＝i；当矩形件的wi沿K阶矩形块的x方向排列时，记为G＝-i；式中：G代表F对应的矩形件类型，正负号表征矩形件的方向；此时的矩形件类型即为长度为li，宽度为wi的矩形件。进一步的，所述S4中，获取第P个K-1阶矩形块的最大价值的方法如下：设，由第P个K-1阶矩形块沿其内部的K阶剪切线进行剪切操作，获取第P个第一K阶矩形块和第P个第二K阶矩形块；假设1阶剪切线为竖直剪切线，则若K为奇数时，第P个K-1阶矩形块内部的K阶剪切线的位置为横坐标xP0；式中：CP为第P个K-1阶矩形块的最大价值；CP为第P个第一K阶矩形块的最大价值；CP为第P个第二K阶矩形块的最大价值；xP为第P个K-1阶矩形块的长度；xP1为第P个第一K阶矩形块的长度；则xP-xP1为第P个第二K阶矩形块的长度；yP为第P个K-1阶矩形块的宽度；则；此时的第P个K-1阶矩形块内部的K阶剪切线的位置坐标为xP0＝xP1t；其中，xP1t为当CP+CP取最大值时的第P个第一K阶矩形块的长度；则若K为偶数时，第P个K-1阶矩形块内部的K阶剪切线的位置坐标为纵坐标yP0；式中：CP为第P个第一K阶矩形块的最大价值；CP为第P个第二K阶矩形块的最大价值；yP1为第P个第一K阶矩形块的宽度；则yP-yP1为第P个第二K阶矩形块的宽度；xP为第P个K-1阶矩形块的长度；则；此时的第P个K-1阶矩形块内部的K阶剪切线的位置为yP0＝yP1t；其中，yP1t为当CP+CP取最大值时的第P个第一K阶矩形块的宽度；于是，K阶剪切线的位置进一步的，所述S5中，获取第p个k-1阶矩形块的最大价值如下：若k为奇数时，第p个k-1阶矩形块内部的k阶剪切线的位置为横坐标xp0；式中：Cp为第p个k-1阶矩形块的最大价值；Cp为第p个第一k阶矩形块的最大价值；Cp为第p个第二k阶矩形块的最大价值；xp为第p个k-1阶矩形块的长度；xp1为第p个第一k阶矩形块的长度；则xp-xp1为第p个第二k阶矩形块的长度；yp为第p个k-1阶矩形块的宽度；则；此时的第p个k-1阶矩形块内部的k阶剪切线的位置为xp0＝xp1y；其中，xp1t为当Cp+Cp取最大值时的第p个第一k阶矩形块的长度；则若k为偶数时，第p个k-1阶矩形块内部的k阶剪切线的位置为纵坐标yP0；式中：Cp为第p个第一k阶矩形块的最大价值；Cp为第p个第二k阶矩形块的最大价值；yp1为第p个第一k阶矩形块的宽度；则yp-yp1为第p个第二k阶矩形块的宽度；xp为第p个k-1阶矩形块的长度；则；此时的第p个k-1阶矩形块内部的k阶剪切线的位置为yp0＝yp1t；其中，yp1t为当Cp+Cp取最大值时的第p个第一k阶矩形块的宽度；于是，k阶剪切线的位置进一步的，所述S6中，所述板材的最大价值获取如下：式中：C0为板材的最大价值，其中，x0＝L，即为板材的长度；y0＝W，即为板材的宽度；C0为第一1阶矩形块的最大价值；C0为第二1阶矩形块的最大价值；x01为第一1阶矩形块的长度；则x0-x01为第二1阶矩形块的长度；则；此时板块上的1阶剪切线的位置为γ1＝x00＝x01t；其中，x01t为当C0+C0取最大值时的第一1阶矩形块的长度；x00为板材上的1阶剪切线的位置的横坐标。有益效果：本发明的一种基于多块排样图的矩形件智能排样方法，计算方法简单、快捷，能够快速的求解出对于各种尺寸的板材进行加工数量不限制的有限多种矩形件的排样方式，并且使得板材的排样价值最大，提高板材利用率，降低生产成本，大大提高了装备制造业的自动化的使用积极性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明的一种基于多块排样方式的矩形件智能排样方法流程图；图2为本发明的实施例中的排样方式示意图；图3为本发明的实施例中的剪切线示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本实施例提供了一种基于多块排样图的矩形件智能排样方法，如图1～3所示，包括如下步骤：S1：定义简单排样方式，所述简单排样图为：若干行若干列第i种矩形件按照相同方向排列在一起形成的排样图；S2：定义对0阶矩形块沿1阶剪切线进行1阶剪切操作，获取1阶矩形块，所述1阶矩形块包括第一1阶矩形块和第二1阶矩形块；具体的，本实施例中的剪切操作为对板材或者板块沿剪切线，将板材或者板块剪切为两个板块的操作。具体的，对板材进行剪切的剪切线为1阶剪切线，对板材沿1阶剪切线进行剪切操作得到2个1阶矩形块，这两个矩形块分别为第一1阶矩形块和第二1阶矩形块；对1阶矩形块进行剪切的剪切线为2阶剪切线，对每个1阶矩形块沿2阶剪切线进行剪切操作得到2个2阶矩形块，这两个2阶矩形块分别为第一2阶矩形块和第二2阶矩形块；以此类推，则对每个k-1阶矩形块沿k阶剪切线进行k阶剪切操作，获取2个k阶矩形块，分别为第一k阶矩形块和第二k阶矩形块；其中，k阶剪切线与k-1阶剪切线互相垂直，k为剪切操作的阶数，1≤k≤K取整数，K为剪切操作的最大阶数；S3：假设在所述K阶矩形块上，矩形件按照简单排样图进行排样；获取所述K阶矩形块的最大价值及K阶最优排样图；所述S3中，所述K阶矩形块的最大价值计算如下：式中：F为在所述K阶矩形块内对第i种矩形件进行简单排样的最大排样价值；x为所述K阶矩形块的长度，0≤x≤L，L为板材的长度；y为所述K阶矩形块的宽度0≤y≤W，W为板材的宽度；li为第i种矩形件的长度；wi为第i种矩形件的宽度；vi为第i种矩形件的价值；为向下取整数计算。于是，式中：F为所述K阶矩形块的最大价值，m为矩形件的种数。0≤x≤L，0≤y≤W；L为板材的长度，W为板材的宽度；当矩形件的li沿K阶矩形块的x方向排列时，记为G＝i；当矩形件的wi沿K阶矩形块的x方向排列时，记为G＝-i；式中：G代表F对应的矩形件类型，正负号表征矩形件的方向；此时的矩形件类型即为长度为li，宽度为wi的矩形件。在本实施例中，矩形件的种数m和第i种矩形件的尺寸li×wi是确定的，并且第i种矩形件的价值为vi也是事先确定的。S4：获取第P个K-1阶矩形块的最大价值，以确定K阶剪切线的位置，其中，P≤PK,PK为K阶剪切线的数量，PK＝2K-1；具体的，对1阶剪切线进行1阶剪切操作，获取两个1阶矩形块；对每个1阶矩形块沿2阶剪切线进行2阶剪切操作，每个1阶矩形块内获得了两个2阶剪切块，于是一共获得了22个2阶剪切块；依次类推，则对每个k-1阶矩形块沿k阶剪切线进行k阶剪切操作，每个k-1阶矩形块内获得了两个k阶剪切块，于是一共获得了2k个k阶剪切块。k阶剪切线的数量为2k-1个。所述S4中，获取第P个K-1阶矩形块的最大价值的方法如下：设，由第P个K-1阶矩形块沿其内部的K阶剪切线进行剪切操作，获取第P个第一K阶矩形块和第P个第二K阶矩形块；假设1阶剪切线为竖直剪切线，具体的，当矩形件沿K阶矩形块的x方向排列时，剪切线为竖直剪切线；则若K为奇数时，第P个K-1阶矩形块内部的K阶剪切线的位置为横坐标xP0；在本实施例中的坐标系是一个相对坐标系，以第P个K-1阶矩形块的左下角顶点为坐标原点。具体的，由于每个K-1阶矩形块被分成两个K阶矩形块，因此考察第P个第一K阶矩形块的长度范围为时，则包含了K阶剪切线的所有可能的位置的考察。由于K阶矩形块内矩形件按照简单排样图进行排样，因此根据公式，因此CP＝FP，CP＝FP；于是，式中：CP为第P个K-1阶矩形块的最大价值；CP为第P个第一K阶矩形块的最大价值；CP为第P个第二K阶矩形块的最大价值；xP为第P个K-1阶矩形块的长度；xP1为第P个第一K阶矩形块的长度；则xP-xP1为第P个第二K阶矩形块的长度；yP为第P个K-1阶矩形块的宽度，也即为第P个第一K阶矩形块的宽度和第P个第二K阶矩形块的宽度；则；此时的第P个K-1阶矩形块内部的K阶剪切线的位置坐标为xP0＝xP1t；其中，xP1t为当CP+CP取最大值时的第P个第一K阶矩形块的长度；则若K为偶数时，第P个K-1阶矩形块内部的K阶剪切线的位置坐标为纵坐标xP0；具体的，由于每个K-1阶矩形块被分成两个K阶矩形块，因此考察第P个第一K阶矩形块的宽度为时，则包含了对K阶剪切线的所有可能的位置的考察。由于K阶矩形块内进行的是简单排样方式，因此CP＝FP，CP＝FP；式中：CP为第P个第一K阶矩形块的最大价值；CP为第P个第二K阶矩形块的最大价值；yP1为第P个第一K阶矩形块的宽度；则yP-yP1为第P个第二K阶矩形块的宽度；xP为第P个K-1阶矩形块的长度，也即为第P个第一K阶矩形块的长度和第P个第二K阶矩形块的长度；则；此时的第P个K-1阶矩形块内部的K阶剪切线的位置为yP0＝yP1t；其中，yP1t为当CP+CP取最大值时的第P个第一K阶矩形块的宽度；于是，K阶剪切线的位置S5：获取第p个k-1阶矩形块的最大价值，以确定k阶剪切线的位置，其中，p≤pk,pk为k阶剪切线的数量，Pk＝2k-1；所述S5中，获取第p个k-1阶矩形块的最大价值如下：由于第p个k-1阶矩形块沿其内部的k阶剪切线进行剪切操作，获取第p个第一k阶矩形块和第p个第二k阶矩形块；若k为奇数时，第p个k-1阶矩形块内部的k阶剪切线的位置为横坐标xp0；式中：Cp为第p个k-1阶矩形块的最大价值；Cp为第p个第一k阶矩形块的最大价值；Cp为第p个第二k阶矩形块的最大价值；xp为第p个k-1阶矩形块的长度；xp1为第p个第一k阶矩形块的长度；则xp-xp1为第p个第二k阶矩形块的长度；yp为第p个k-1阶矩形块的宽度，也即为第p个第一k阶矩形块的宽度和第p个第二k阶矩形块的宽度；Fp为第p个第一k阶矩形块内的最大价值；Fp第p个第二k阶矩形块内的最大价值；则；此时的第p个k-1阶矩形块内部的k阶剪切线的位置为xp0＝xp1t；其中，xp1t为当Cp+Cp取最大值时的第p个第一k阶矩形块的长度；则若k为偶数时，第p个k-1阶矩形块内部的k阶剪切线的位置为纵坐标yP0；式中：Cp为第p个第一k阶矩形块的最大价值；Cp为第p个第二k阶矩形块的最大价值；yp1为第p个第一k阶矩形块的宽度；则yp-yp1为第p个第二k阶矩形块的宽度；xp为第p个k-1阶矩形块的长度，也即为第p个第一k阶矩形块的长度和第p个第二k阶矩形块的长度；Fp为第p个第一k阶矩形块内的最大价值；Fp为第p个第二k阶矩形块的最大价值；则；此时的第p个k-1阶矩形块内部的k阶剪切线的位置为yp0＝yp1t；其中，yp1t为当Cp+Cp取最大值时的第p个第一k阶矩形块的宽度；于是，k阶剪切线的位置S6：获取板材的最大价值，以确定1阶剪切线的位置；所述S6中，所述板材的最大价值获取如下：式中：C0为板材的最大价值，其中，x0＝L，即为板材的长度；y0＝W，即为板材的宽度；C0为第一1阶矩形块的最大价值；C0为第二1阶矩形块的最大价值；x01为第一1阶矩形块的长度；则x0-x01为第二1阶矩形块的长度；则；此时板块上的的1阶剪切线的位置为γ1＝x00＝x01t；其中，x01t为当C0+C0取最大值时的第一1阶矩形块的长度，x00为板材上的1阶剪切线的位置的横坐标，具体的，本实施例中，由于假设1阶剪切线为竖直剪切线，因此1阶剪切线的位置为由第一1阶矩形块的长度来确定，因此第一1阶矩形块的长度即为一阶剪切线的位置的横坐标。S7：根据所述1阶剪切线的位置、k阶剪切线的位置、K阶剪切线的位置，以及K阶最优排样图，绘制出矩形件在板材上的排样图。具体的，首先根据1阶剪切线的位置在板材上绘制1阶剪切线，得到2个1阶矩形块，然后根据2阶剪切线的位置，在两个1阶矩形块内分别绘制2阶剪切线，获取22个2阶矩形块；……；以此类推，最后在每个K-1阶矩形块内分别绘制K阶剪切线，得到2K个K阶矩形块。最后，每个K阶矩形块内排放使得所述K阶矩形块价值最大的矩形件；从而绘制出板材上的最优K阶排样方式。在本实施例中，剪切操作的最大阶数K为预先设定的固定值，在本发明的一个实施例中，若给定板材的长度为280mm，则设定K＝280，则根据所计算出的剪切线的位置，能够获得使得板材的价值最大的排样图。实施例输入：板材长度L、宽度W，矩形件种数m，第i种矩形件的长度li、宽度wi、价值vi，多块排样图的最大阶数为2。输出：最优2阶多块排样图。对板材进行2阶一分为二虚拟剪切操作得到22＝4个虚拟矩形块。其中第1阶剪切操作是沿一条竖直剪切线将板材一分为二剪切成2个矩形块，第2阶剪切操作是将第1阶剪切操作得到的21＝2个矩形块剪切成21+1＝4个矩形子块，且第2阶剪切线与第1阶剪切线垂直。按照板材排样价值最大原则隐式枚举各阶剪切操作所有可能的剪切线的位置，确定每个块的尺寸及块的简单排样图，得到板材的最优2阶多块排样图。具体的，按照阶数从大到小顺序确定各阶剪切线的位置，其中第k阶剪切操作具有2k-1条剪切线。令C为第k阶剪切操作得到的某个尺寸为x×y的块的价值。由于第2阶剪切操作得到的块中只排放一种矩形件，因此C＝F。考察第2阶剪切操作的某条剪切线γj,该剪切线将第1阶剪切操作得到的某个块一分为二剪切成2个子块且使得这2个子块价值之和最大。由如下公式确定γj的位置。记C+C取最大值时y1＝y0，则γj为竖直线，且距离块的下边距离为y0。最终板材的排样价值为记C+C取最大值时，x1＝x0。第1阶剪切操作只有1条竖直剪切线，且距离板材的左边距离为x1。知道各阶剪切线位置后，便可按照阶数从小到大顺序依次在板材上画出1～2阶的每条剪切线，得到22＝4个实际矩形块，然后在每个矩形块中按照简单排样图排放一种最优矩形件，从而得到最优2阶多块排样图。本发明的另一个具体实施例如下：用一张尺寸为2440mm×1220mm的板材，切割出10种矩形件，矩形件的尺寸分别为矩形件1：210mm×380mm，矩形件2：360mm×170mm，矩形件3：540mm×200mm，矩形件4：240mm×270mm，矩形件5：180mm×450mm，矩形件6：240mm×530mm，矩形件7：310mm×270mm，矩形件8：340mm×400mm，矩形件9：290mm×330mm，矩形件10：410mm×550mm，矩形件的价值等于其面积乘以10-4元/平方毫米，每种矩形件的数量无限制，采用本发明方法设置排样方式的最大级数为10，求出的排样方式如图2所示，图中黑色粗线表示剪切线，数字表示矩形件的编号，板材排样价值为297.68元，板材利用率为100％。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围。
