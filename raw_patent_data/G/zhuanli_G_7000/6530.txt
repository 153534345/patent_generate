标题title
混线制造系统制造资源动态排产方法
摘要abst
本发明提供了一种混线制造系统制造资源动态排产方法，包括利用数据结构实现工序模型表示器的构建，完成产品实际工序模型的数据建模；完成实际工序‑制造资源对应关系及对应的理论工序时长的数据建模；完成各类制造资源数目、制造资源准备时间、产品切换时间等制造资源利用间隔时间及相关必要信息的构造及维护；构造动态排产程序编、解码器；设计构造完整的优化程序并设定程序参数；完成排产方案求解器的构造及方案求解；完成排产制造方案的发布；构造检测器；构造制造系统运行核心数据监控器；重排机制触发。本发明为混线制造系统动态排产提供了完整的数据采集‑动态排产系统架构，提升了优化算法处理效率，压缩了系统动态响应时间。
权利要求书clms
1.一种混线制造系统制造资源动态排产方法，其特征在于，所述方法包括如下步骤：步骤S11：利用数据结构实现工序模型表示器的构建，完成产品实际工序模型的数据建模；步骤S12：利用数据结构实现工序-制造资源关系模型表示器的构建，完成实际工序-制造资源对应关系及对应的理论工序时长的数据建模；步骤S13：利用数据库完成制造系统基础运行信息构造，完成各类制造资源数目、制造资源准备时间、产品切换时间等制造资源利用间隔时间及相关必要信息的构造及维护；步骤S14：构造动态排产程序编、解码器；步骤S15：设计构造完整的优化程序并设定程序参数；步骤S16：基于步骤S11-步骤S14所构建的制造系统模型信息，利用步骤S15设计的程序，完成排产方案求解器的构造及方案求解；步骤S17：利用通信装置完成排产制造方案的发布；步骤S18：构造检测器，对加工过程中上级订单的增、删、改及制造系统内部各工序实际耗时、制造资源的故障情况、产品完成进度等相关数据进行实时采集并存入实时数据库；步骤S19：构造制造系统运行核心数据监控器，为实时数据库中的各数据项设定对应的安全域，若数据超出安全域范围，系统将在设定的等待周期后触发重排机制；步骤S20：重排机制触发，重复执行步骤S11-步骤S19。2.根据权利要求1所述的混线制造系统制造资源动态排产方法，其特征在于，所述步骤S11和步骤S12对于产品对象工序、制造系统及产品对象工序相互关系采用相适应的数据结构完成现实逻辑模型到数据的转换。3.根据权利要求1所述的混线制造系统制造资源动态排产方法，其特征在于，所述步骤S13完成制造系统及产品对象制造过程基础数据库的构建，所述数据库中涵盖制造系统中制造资源类型、数目等制造资源的信息以及制造准备及产品切换时长等转换模式信息。4.根据权利要求1所述的混线制造系统制造资源动态排产方法，其特征在于，所述步骤S14动态排产程序编码方式中，编码长度依据检测器自制造系统中获取的动态信息弹性变化，采用一种动态截除的方式确定各类型产品的最短编码长度，剔除无效解空间。5.根据权利要求1所述的混线制造系统制造资源动态排产方法，其特征在于，所述步骤S14动态排产程序解码方式中，从制造时间轴的维度逐单位地解码，当某时刻有产品完成时，将后续编码中对应该产品的编码元素消除或锁定，重构后续代码；结合不同产品加工件的制造切换时间间隔要求约束、工作时间约束，将编码解码至具体计划制造时间。6.根据权利要求1所述的混线制造系统制造资源动态排产方法，其特征在于，所述步骤S15适应度值的计算涵盖排产方案总耗时、方案无效制造时长、订单提前/延期完成罚值等相关项，利用各方案解适应度值作为启发信息，完成优化程序的构造；运行重排过程中，依据人工输入/制造系统实时数据重新设定相应指标权重及程序执行参数。7.根据权利要求1所述的混线制造系统制造资源动态排产方法，其特征在于，所述步骤S16实现优化程序与系统模型数据信息的交互，完成制造系统排产方案的寻优。8.根据权利要求1所述的混线制造系统制造资源动态排产方法，其特征在于，所述步骤S17中借助通信装置将制造系统排产方案传输至控制执行系统并将核心数据传输至相应显示界面进行图形化显示。9.根据权利要求1所述的混线制造系统制造资源动态排产方法，其特征在于，所述步骤S18通过数据采集软、硬件装置完成制造系统内部的实时数据采集及上级订单数据变动的监控，将相应数据存入实时数据库。10.根据权利要求1所述的混线制造系统制造资源动态排产方法，其特征在于，所述步骤S19对实时数据库中关重数据项进行数据值自主监控，设定数据值波动安全域，并构造数据值波动与重排机制触发的映射关系。
说明书desc
技术领域本发明涉及混线加工制造系统的技术领域，具体地，涉及混线制造系统制造资源动态排产方法。背景技术随着智能制造相关技术在各国制造业的推进，制造系统的柔性、敏捷性成为制造企业提升市场核心竞争力的关键。而更加迅速、敏捷的动态排产技术则是提升制造系统的柔性、敏捷性的主要手段。随着自动化、信息化技术的不断发展，包括制造系统内部相关实时加工数据、上级订单数据的获取已非难事。在公告号为CN107918367B的专利文献中公开了一种多品种批量产品混线生产实时状态管理方法，包括：步骤1：建立零件加工工序属性模型；步骤2：构建混线生产的工艺维状态模型；步骤3：建立混线生产资源属性模型；步骤4：构建混线生产资源维状态模型；步骤5：构建以零件制造工序和混合生产线资源为节点、任务资源关联关系为边的混线生产实时状态模型。目前存在大量实时数据存而不同的现象，或是依旧停留于数据的后期人工分析的固有模式，耗费大量人力成本的同时，实时数据的价值随着时间推移也大打折扣。因此，需要提出一种技术方案以改善上述技术问题。发明内容针对现有技术中的缺陷，本发明的目的是提供一种混线制造系统制造资源动态排产方法。根据本发明提供的一种混线制造系统制造资源动态排产方法，所述方法包括如下步骤：步骤S11：利用数据结构实现工序模型表示器的构建，完成产品实际工序模型的数据建模；步骤S12：利用数据结构实现工序-制造资源关系模型表示器的构建，完成实际工序-制造资源对应关系及对应的理论工序时长的数据建模；步骤S13：利用数据库完成制造系统基础运行信息构造，完成各类制造资源数目、制造资源准备时间、产品切换时间等制造资源利用间隔时间及相关必要信息的构造及维护；步骤S14：构造动态排产程序编、解码器；步骤S15：设计构造完整的优化程序并设定程序参数；步骤S16：基于步骤S11-步骤S14所构建的制造系统模型信息，利用步骤S15设计的程序，完成排产方案求解器的构造及方案求解；步骤S17：利用通信装置完成排产制造方案的发布；步骤S18：构造检测器，对加工过程中上级订单的增、删、改及制造系统内部各工序实际耗时、制造资源的故障情况、产品完成进度等相关数据进行实时采集并存入实时数据库；步骤S19：构造制造系统运行核心数据监控器，为实时数据库中的各数据项设定对应的安全域，若数据超出安全域范围，系统将在设定的等待周期后触发重排机制；步骤S20：重排机制触发，重复执行步骤S11-步骤S19。优选地，所述步骤S11和步骤S12对于产品对象工序、制造系统及产品对象工序相互关系采用相适应的数据结构完成现实逻辑模型到数据的转换。优选地，所述步骤S13完成制造系统及产品对象制造过程基础数据库的构建，所述数据库中涵盖制造系统中制造资源类型、数目等制造资源的信息以及制造准备及产品切换时长等转换模式信息。优选地，所述步骤S14动态排产程序编码方式中，编码长度依据检测器自制造系统中获取的动态信息弹性变化，采用一种动态截除的方式确定各类型产品的最短编码长度，剔除无效解空间。优选地，所述步骤S14动态排产程序解码方式中，从制造时间轴的维度逐单位地解码，当某时刻有产品完成时，将后续编码中对应该产品的编码元素消除或锁定，重构后续代码；结合不同产品加工件的制造切换时间间隔要求约束、工作时间约束，将编码解码至具体计划制造时间。优选地，所述步骤S15适应度值的计算涵盖排产方案总耗时、方案无效制造时长、订单提前/延期完成罚值等相关项，利用各方案解适应度值作为启发信息，完成优化程序的构造；运行重排过程中，依据人工输入/制造系统实时数据重新设定相应指标权重及程序执行参数。优选地，所述步骤S16实现优化程序与系统模型数据信息的交互，完成制造系统排产方案的寻优。优选地，所述步骤S17中借助通信装置将制造系统排产方案传输至控制执行系统并将核心数据传输至相应显示界面进行图形化显示。优选地，所述步骤S18通过数据采集软、硬件装置完成制造系统内部的实时数据采集及上级订单数据变动的监控，将相应数据存入实时数据库。优选地，所述步骤S19对实时数据库中关重数据项进行数据值自主监控，设定数据值波动安全域，并构造数据值波动与重排机制触发的映射关系。与现有技术相比，本发明具有如下的有益效果：1、本发明提供的混线制造系统制造资源动态排产系统及方法，为制造系统动态排产提供了完整的数据采集-动态排产系统架构；2、本发明对于制造系统的动态变化信息处理效率高，依据混线动态制造系统的特点，设计了与之相适应的编、解码策略，提升了优化算法处理效率，压缩了系统动态响应时间；3、本发明基于当前制造系统已有的数据采集技术环境，从实时数据中实时提取有效信息，快速实现数据更新到模型更新的转换，并基于更新模型自适应地完成优化算法的动态编、解码，以实现排产方案的动态、高效生成。附图说明通过阅读参照以下附图对非限制性实施例所作的详细描述，本发明的其它特征、目的和优点将会变得更明显：图1为本发明的流程示意图；图2为本发明的系统模块示意图。具体实施方式下面结合具体实施例对本发明进行详细说明。以下实施例将有助于本领域的技术人员进一步理解本发明，但不以任何形式限制本发明。应当指出的是，对本领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干变化和改进。这些都属于本发明的保护范围。本发明的核心思想在于，本发明提供的混线制造系统制造资源动态排产系统及方法，通过数据采集软、硬件完成了实时数据采集，继而将数据存入实时数据库。使用数据项安全域，实现了关重数据的监控；通过重排计时器的设计，避免了重排机制过于频繁的触发，提升了计算效率；通过编码长度的自适应，缩减了无效解空间的运算耗时；通过时间轴维度逐时间单位的解码方式，减少了整码解码带来的换线时间反复判别；通过适应度函数的设计，融合了各关键指标项，引导算法寻取综合指标最优的排产方案。参照图1，混线制造系统制造资源动态排产系统及方法，包括以下步骤：步骤S11：利用高效的数据结构实现工序模型表示器的构建，完成产品实际工序模型的数据建模。只在产品类型变动或工序模型变动后，在运行时执行一次。获取产品工序网络结构关系图，并将工序网络关系表述于设计的数据结构中。步骤S12：利用适宜的数据结构设计实现工序-制造资源关系模型表示器的构建，完成实际工序-制造资源对应关系及对应的理论工序时长的数据建模。获取各工序对制造资源种类Rkij、数目的需求Rnij，以及制造资源处理特定工序耗时Rtij。将对应数据表述于设计的数据结构中。步骤S13：利用数据库完成制造系统基础运行信息构造，完成各类制造资源可用数目、制造资源准备时间、产品切换时间等制造资源利用间隔时间及相关必要信息的构造及维护。将各类制造资源类型及可用数目、输入制造资源准备时间、产品切换时间等制造资源利用间隔时间数据信息输入至基础信息数据库。步骤S14：设计动态排产算法编、解码方式。利用实时数据信息，对系统中相关运算数据进行动态实时更新，若获取信息中包含诸如制造资源故障、保养等影响单位时间产能的事件项时，记录事件发生时间Ots及预估持续周期Otd，并快速运算各产品在事件状态下的产能Opni，由于对各类型产品产能的估计直接影响到编码长度，常规做法为使用各产品在发生相关事件后的最低产能进行各类型产品编码的保守长度核算，无形中增加了编码长度、降低了算法求解效率，此类现象在所涉及产品类型增多时尤为明显。本发明中采用一种更为精细的编码方式，对各类型产品的最长耗时计算采用各事件影响期内产能波动累加的形式进行。基于制造系统发生的实时事件，计算出产品的悲观加工耗时，记在可以预见的制造系统非正常状态时间下均生产某类型产品，总产量为SumNi,当制造系统上级排产订单中某类型产品的产品总数需求SumPi＜SumNi时，通过求取符合条件的最小值时间单位PN，作为该类型产品编码的长度依据；当制造系统上级排产订单中某类型产品的产品总数需求SumNi≤SumPi时，产品类型的产品编码的长度依据为TN+/NPi,其中TN为非正常状态总时间单位长度，NPi为i类产品正常单位时间产量；依据此类划分方法获取精简的编码结构。对应地，在对各编码进行解码时，从单一类型产品的角度看来，通畅排产方案均相对乐观，即加工时间排布在无故障工作时间单位中，进而在编码中存在多余的编码元素，在解码时，采用逐单位解码的方式，在某时间单位完成某类型产品的加工时，若搜索该编码位至编码末位仍有该编码元素，将之剔除，以便解除对制造资源的额外占用。该过程如下图1所示。原始代码中，解码到第5位时，1类型产品完成订单产量，对第5位后的相同元素进行剔除，获取剔除后的编码形式。步骤S15：设计构造完整的优化算法并设定算法参数。利用适应度值作为启发式信息，经由选择、交叉、变异过程，完成解的寻优。其中适应度值为方案总耗时、订单延期/提前完工罚值、产品切换等相关无效耗时罚值的综合评价指标：其中Fit为适应度值，k1为总耗时权重因子，Tt为制造总耗时；k2为订单提前完工罚值权重因子，Bt为提前完工时间；k3为订单延期完工罚值权重因子，Dt为延期完工时间；k4为订单延期完工罚值权重因子，Wt为制造过程中产品切换等无产值过程耗费时间总长。步骤S16：基于步骤S11-步骤S14所构建的制造系统模型信息，利用步骤S15设计的算法，完成最优排产方案求解器的构造及方案求解。设定步骤S15所构造设计求解算法的迭代数、种群数等算法参数，将编码解码为实际可执行的排产方案。步骤S17：利用通信装置完成排产制造方案的发布。利用通信装置，将排产方案传输给控制执行系统进行执行。步骤S18：构造检测器，对加工过程中上级订单的增、删、改及制造系统内部各工序实际耗时、制造资源的故障情况、产品完成进度等相关数据进行实时采集并存入实时数据库。通过数据采集软、硬件技术，获取制造系统及上层订单的实时变化信息，并将实时信息以一定采集周期存储于实时数据库中。步骤S19：构造制造系统运行核心数据监控器，为实时数据库中的各数据项设定对应的安全域，若数据超出安全域范围，系统将在设定的等待周期后触发重排机制。为实时数据库中的各数据项设定对应的安全域，若数据超出安全域范围，系统将在设定的等待周期Tw后触发重排机制。步骤S20：重排机制触发，重复执行步骤S11-步骤S19。重排计时器触发重排机制，依据实时数据库中的信息更新数据模型，重新执行步骤步骤S11-步骤S19。步骤S11与步骤S12对于产品对象工序、制造系统及产品对象工序相互关系采用相适应的数据结构完成现实逻辑模型到数据的转换，以便于求解运算装置的高效运算处理。步骤S13完成制造系统及产品对象制造过程基础数据库的构建，该数据库中涵盖制造系统中制造资源类型、数目等制造资源的信息；制造准备及产品切换时长等转换模式信息。步骤S14动态排产算法编码方式中，编码长度可依据检测器自制造系统中获取的动态信息弹性变化，采用一种动态截除的方式确定各类型产品的最短编码长度，最大限度地剔除无效解空间，提升算法求解效率。步骤S14动态排产算法解码方式中，从制造时间轴的维度逐单位地解码，当某时刻有产品完成时，将后续编码中对应该产品的编码元素消除或锁定，重构后续代码。结合不同产品加工件的制造切换时间间隔要求约束、工作时间约束，将编码解码至具体计划制造时间。步骤S15适应度值的计算涵盖排产方案总耗时、方案无效制造时长、订单提前/延期完成罚值等相关项，利用各方案解适应度值作为启发信息，完成优化算法的构造；运行重排过程中，可依据人工输入/制造系统实时数据重新设定相应指标权重及算法执行参数。步骤S16实现优化算法与系统模型数据信息的交互，完成制造系统排产方案的寻优。在步骤S17中借助通信装置将制造系统排产方案传输至控制执行系统并将核心数据传输至相应显示界面进行图形化显示。步骤S18通过数据采集软、硬件装置完成制造系统内部的实时数据采集及上级订单数据变动的监控，将相应数据存入实时数据库。步骤S19对实时数据库中关重数据项进行数据值自主监控，设定数据值波动安全域，并构造数据值波动与重排机制触发的映射关系。数据发生超出安全域范围波动时，经等待周期后触发重排，通过等待周期的设置，可获取更大范围的关联数据项变化信息，避免重排机制短期内反复频繁触发，以提升求解效率。在本发明实施例中混线制造系统制造资源动态排产系统及方法使用从实时数据中实时提取有效信息，快速实现数据更新到模型更新的转换，并基于更新模型自适应地完成优化算法的动态编、解码，实现了排产方案的动态、高效生成。参照图2，在排产前，通过工序-资源表示器、工序模型表示器完成制造系统实际生产相关的制造资源、产品工序信息等相关数据的结构化构造；人工/借助辅助装置完成制造系统基础数据的构造；制造开始后，检测器实时监测制造系统、上级订单及物料等相关数据，并周期性地对工序-资源数据、工序数据、制造基础数据相关项进行更新；通信装置将人机交互界面排产触发决策/制造系统监控器设定重排规则进行排产触发决策下发至优化排产器，并将排产方案数据下发至制造系统/传输至图形界面显示模块；优化排产装置基于工序-资源数据、工序数据、制造资源基础数据库等信息，完成方案的动态编/解码，经由迭代优化，解码获取排产优化方案。在计算机中编制构造排产优化算法模块、基础数据库模块及实时数据库模块。操作系统选用Win7系统，本发明实施例一提供的混线制造系统制造资源动态排产系统及方法包括：1、构建基础数据库，将各产品工序关系数据信息、工序与制造资源对应关系、工序时长等信息填入数据表中。2、主程序数据载入模块载入基础数据库数据，完成制造资源及产品对象相关数据结构容器中相应变量的初始化。3、利用数据采集软、硬件装置，实时采集制造系统内部及上级订单的动态数据，并基于所采集数据构建实时数据库。4、主程序数据载入模块将实时数据库及其它辅助信息载入，并完成程序内部相应数据的初始化。5、主程序相应数据初始化完成后，依据对产能发生影响的数据信息，采用设计的编码机制，完成相适应的编码结构的构造。6、基于5中编码结构，生成一初始种群，依据适应度值计算函数对种群个体进行选择，并执行交叉、变异操作，获取最优方案编码。经由逐时间单位的解码，解码过程中判别各类型产品完成状态，并据此决策后续编码元素的操作，解码完成，最终获取可实施的排产方案。7、利用通信装置将6中排产方案以制造任务的格式，下发至控制执行系统执行。8、设定重排计时器，在3中实时数据库触发重排后开始计时并在设定时间后触发重排。模型构建模块中，工序模型构造器利用应数据结构实现产品工艺工序逻辑关系的表述；制造资源表示器利用应数据结构实现实现生产加工过程所具备的生产制造资源的表述；工序-资源关联器实现各加工涉及工序与所需可用制造资源的关联关系绑定。数据构建模块中，基础数据构造器基于模型构建模块所获工序、制造资源及二者关系模型，提取/引导输入所需基础数据，形成完备模型。优化模块中，编码器基于模型及数据信息，完成算法求解编码的构造；优化器中核心优化算法基于编码器所构造编码进行算法迭代寻优操作，每轮迭代中基于解码器完成各寻优方案的评价，并在多轮跌代寻优后获取最优编码。方案生成模块中，方案生成器以可视化界面的形式，清晰展示无歧义方案并通过通讯装置，将当日生产任务发送至车间生产现场。数据检测模块检测器通过直接实时检测车间生产相关运行状况并间接换算相应生产指标，完成当前车间生产状况的检测。数据监控模块监控器基于数据检测模块数值与预设阈值的实时动态比较，完成数据的监控预警。模型重构模块触发器监控预警信息，重构相应模型及数据，并决策是否基于重构模型重新进行排产。所有模块实现完整闭环。本发明提供的混线制造系统制造资源动态排产系统及方法，为制造系统动态排产提供了完整的数据采集-动态排产系统架构；对于制造系统的动态变化信息处理效率高，依据混线动态制造系统的特点，设计了与之相适应的编、解码策略，提升了优化算法处理效率，压缩了系统动态响应时间；本发明基于当前制造系统已有的数据采集技术环境，从实时数据中实时提取有效信息，快速实现数据更新到模型更新的转换，并基于更新模型自适应地完成优化算法的动态编、解码，以实现排产方案的动态、高效生成。本领域技术人员知道，除了以纯计算机可读程序代码方式实现本发明提供的系统及其各个装置、模块、单元以外，完全可以通过将方法步骤进行逻辑编程来使得本发明提供的系统及其各个装置、模块、单元以逻辑门、开关、专用集成电路、可编程逻辑控制器以及嵌入式微控制器等的形式来实现相同功能。所以，本发明提供的系统及其各项装置、模块、单元可以被认为是一种硬件部件，而对其内包括的用于实现各种功能的装置、模块、单元也可以视为硬件部件内的结构；也可以将用于实现各种功能的装置、模块、单元视为既可以是实现方法的软件模块又可以是硬件部件内的结构。以上对本发明的具体实施例进行了描述。需要理解的是，本发明并不局限于上述特定实施方式，本领域技术人员可以在权利要求的范围内做出各种变化或修改，这并不影响本发明的实质内容。在不冲突的情况下，本申请的实施例和实施例中的特征可以任意相互组合。
