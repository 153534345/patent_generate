标题title
一种用于物流搬送的升降机构控制系统及流程
摘要abst
本发明提供了一种用于物流搬送的升降机构控制系统及流程，属于自动化控制装备技术领域。所述控制系统包括上位机，下位机，左升降驱动器，右升降驱动器，ARM轴驱动器，左升降伺服电机，右升降伺服电机，ARM轴伺服电机，传感器和执行器，与控制系统相对应，该发明还包括一套升降运动机构，该运动机构包括左升降皮带，左滑轮，右升降皮带，右滑轮以及齿轮齿条等传动部件。在系统运行中，上位机10发送命令给下位机，下位机对该命令Check并执行该笔命令，通过各轴的伺服电机驱动传动结构，实现自动取放的功能。
权利要求书clms
1.一种用于物流搬送的升降机构控制系统，其特征在于，所述升降机构包括左升降伺服电机、右升降伺服电机、Arm轴伺服电机、传感器组和ARM手臂，所述控制系统包括上位机、下位机、左升降驱动器、右升降驱动器、Arm轴驱动器和执行器；所述左升降驱动器与左升降伺服电机通过编码器电缆进行双向通讯连接，所述右升降驱动器与右升降伺服电机通过编码器电缆进行双向通讯连接，所述Arm轴驱动器与Arm轴伺服电机通过编码器电缆进行双向通讯连接，三个伺服电机中的编码器实时将当前位置信息反馈给对应的驱动器，三个驱动器将伺服电机要走行的位置通过编码器电缆传输给伺服电机中的编码器；所述左升降驱动器、右升降驱动器、Arm轴驱动器分别通过Ethercat网络总线与下位机进行双向通讯链接，左升降驱动器、右升降驱动器、Arm轴驱动器分别收集左升降伺服电机、右升降伺服电机、Arm轴伺服电机的当前状态信息并实时反馈给下位机，下位机接收当前状态信息并下发指令给各个驱动器；所述下位机与上位机通过以太网双向通讯连接，下位机将收集的左升降伺服电机、右升降伺服电机、Arm轴伺服电机的当前状态信息传递给上位机，上位机接收下位机上报的信息并发送命令给下位机，下位机接收上位机的指令；所述下位机中包含数字量输出口和数字量输入模块，所述下位机通过IO与执行器单向电连接，下位机通过数字量输出口控制执行器的导通与断开；所述下位机通过IO与传感器组单向电连接，下位机通过数字量输入模块收集传感器组的信息；所述传感器组包括两个光感应传感器，其中一个装在存放物体的储位上，另外一个装在ARM手臂中。2.据权利要求1所述的一种用于物流搬送的升降机构控制系统，其特征在于，所述升降机构还包括左升降主动轮、左升降皮带、左升降固定块、左升降从动轮、左升降固定架、右升降主动轮、右升降固定块、右升降皮带、右升降从动轮、右升降固定架、主框架、Fork平台、ARM手臂、齿轮、齿条、滑道、滑块；所述主框架由4根型材连接底板与顶部框架组成，左升降伺服电机与右升降伺服电机安装在主框架的底板上，两个电机的输出轴位于同一条直线上；所述左升降主动轮，左升降从动轮与左升降皮带三者连接构成左侧升降传动机构，左升降主动轮与左升降从动轮安装位于同一条直线上，左升降皮带与左升降伺服电机垂直安装，左升降伺服电机的传动轴与左升降主动轮固接；所述右升降主动轮，右升降从动轮与右升降皮带三者连接构成右侧升降传动机构，右升降主动轮与右升降从动轮安装位于同一条直线上，右升降皮带与右升降伺服电机垂直安装；右升降伺服电机的传动轴与右升降主动轮固接；所述左升降皮带和右升降皮带各有一固定块，分别记为左升降固定块和右升降固定块，这两个固定块分别固定在FORK平台的两个平行的边上，且距离主框架底板的高度相等，具体的，下位机通过对左升降伺服电机与右升降伺服电机的同步控制，驱动左侧升降传动机构与右侧升降传动机构同步上升与下降，带动FORK平台的上升与下降；所述滑道有两个，沿FORK平台的中心线左右对称安装，滑道上的滑块与ARM手臂连接，其两侧的滑块沿ARM手臂的中心线对称安装；齿条安装于ARM手臂的中心线上，齿轮与齿条啮合连接，Arm轴伺服电机的输出轴与齿轮连接，Arm轴伺服电机驱动齿轮与齿条的啮合，间接驱动线轨上的滑块在滑道上运动，带动ARM手臂的伸出与缩回。3.根据权利要求1所述的一种用于物流搬送的升降机构控制系统，其特征在于，所述左升降伺服电机、右升降伺服电机的走行位置包括上升位和下降位，所述上升位是物料取放上升的最高点、并记为UP位，下降位是物料取放的最低点、并记为DN位，UP位和DN位的位置信息通过示教的方式保存到下位机中。4.根据权利要求1所述的一种用于物流搬送的升降机构控制系统，其特征在于，所述Arm轴伺服电机的走行位置包括伸出位和缩回位，所述伸出位是ARM手臂伸出时的位置、并记为Extend位，所述缩回位是ARM手臂缩回时的位置，并记为Back位，Extend位和Back位的位置信息通过示教的方式保存到下位机中。5.一种用于物流搬送的升降机构控制流程，采用如权利要求1-4任一项所述的一种用于物流搬送的升降机构控制系统，其特征在于，包括以下步骤：步骤1，上位机向下位机发送物流搬送指令，物流搬送命令包括Unload和Load两种命令；步骤2，下位机接收到上位机的物流搬送命令后，下位机判断升降机构系统当前状态：如果当前状态为空闲且无报警异常，则回复上位机物流搬送命令正确可执行，进入到步骤3，否则，回复上位机当前系统无法执行该命令并告知无法执行的原因，进入步骤6；步骤3，下位机对上位机发送的命令进行解析，如果为Unload命令，则进入步骤4，如果为Load命令，则流程进入步骤5；步骤4，下位机进入Unload流程，其流程包括：步骤4.1，对Unload命令解析，判断命令是否0K；步骤4.2，通过传感器组检测信息判断储位上是否有卡夹：如果无，进入步骤4.3，否则进入步骤6；所述卡夹为装载物体的载体；步骤4.3，通过传感器组检测信息判断ARM手臂中是否有卡夹：如果有，进入步骤4.4，否则进入步骤6；步骤4.4，下位机控制FORK平台上升，到达UP位；步骤4.5，下位机控制ARM手臂伸出，到达Extend位；步骤4.6，下位机控制FORK平台下降，到达DN位；步骤4.7，下位机控制ARM手臂缩回，到达Back位，且进入步骤6；步骤5，下位机进入Load流程，其流程包括：步骤5.1，对Load命令解析，判断命令是否OK；步骤5.2，通过传感器组检测信息判断储位上是否有卡夹：如果有，进入步骤5.3，否则进入步骤6；步骤5.3，通过传感器组检测信息判断ARM手臂中是否有卡夹，如果无，进入步骤5.4，否则进入步骤6；步骤5.4，下位机控制FORK平台下降，到达DN位；步骤5.5，下位机控制ARM手臂伸出，到达Extend位；步骤5.6，下位机控制FORK平台上升，到达UP位；步骤5.7，下位机控制ARM手臂缩回，到达Back位；步骤5.8，读取卡夹信息并上报给上位机，且进入步骤6；步骤6，下位机将命令执行结果上报给上位机，如果该命令为正常执行完成，则下位机上报结果为正常完成，如果该命令为异常完成，则下位机上报结果为异常完成，并告知异常原因；步骤7，下位机将所有程序的流程、标志位清除，并在完成后向上位机传递可接收物流搬送命令状态，等待上位机的命令；上位机下发命令后，系统进入第一步，开始下一次物流搬送。
说明书desc
技术领域本发明涉及自动化控制装备技术领域，具体涉及一种用于物流搬送的升降机构控制系统及流程。背景技术伴随着中国制造业的不断发展，工厂制造业的智能化和自动化程度越来越高，以机器人技术和自动化技术为主导的智能装备系统越来越成熟，其在工厂中扮演的角色也越来越重要。以PLC控制系统为代表的自动化控制系统已经成为工业控制系统的主流，在智能工厂的建设与运营中发挥着巨大的作用。首先，PLC可编程控制器内部有大量的定时器，计数器，中间继电器，触电等，可以大大减少电工的工作量，减少设备的接线，降低设备维护成本，其次，PLC可编程控制器的可靠性高，抗干扰能力强，体积小，用于工厂的自动化生产线上，可以大大降低设备的故障率；最后，随着通讯技术和物联网技术的发展，设备底层万物互联已经越来越重要，PLC在通讯上变得越来越成熟，越来越稳定，各种总线技术，以太网通讯，光纤通讯技术的成熟，使得设备端，控制器端，上位机端形成一个有机的整体。综合以上，使用PLC作为控制器的系统集成控制在现代智能工厂的建设和运行中，其发挥的作用与日剧增，掌握PLC的编程技术，对以后智能工厂的建设与发展，也起着重要作用。伺服系统在现代工厂自动化中扮演着另外一个重要的作用，尤其在数控机床，金属切削，零件加工，汽车制造等运动控制系统中，其对伺服系统的需求更加大，伺服系统凭借其高精度的定位控制，扭矩控制和速度控制，在一些加工精密零件的场所，伺服系统的作用是不可替代的，同时随着总线技术的发展，伺服系统上也集成了各种工业总线，包括西门子的Profinet总线，倍福的Ethercat总线，Can总线等技术，使得伺服系统与控制系统通讯更加简单，通过PLC或者嵌入式控制系统可以很方便的对伺服系统进行操作，而随着传感器和视觉系统的发展，其与伺服系统组成闭环系统，使得定位控制更加精准。通过以上分析，我们可以得到以下几点：1、以PLC为代表的控制系统具有接线简单，可靠性高，故障率低，易维护的特点，因此在智能工厂中是不可或缺的控制部件；2、以伺服系统为主的定位控制凭借其强大的定位控制功能，在各个领域的运动控制中起到重要作用，是最精密的执行部件；3、以PLC技术，伺服技术，总线通讯技术于一体的自动化控制系统在现代化的工业中也发挥着不可替代的作用发明内容针对上述描述，本发明的目的在于提供一种基于PLC的控制系统，即首先设计一套机械装置，再通过电气硬件选型，电气图纸设计，电控柜的设计，PLC系统的编程，触摸屏的编程，控制该机械设备的运行，完成搬运玻璃载具的功能。为了实现上述目的，本发明提供了一种用于物流搬送的升降机构控制系统，所述升降机构包括左升降伺服电机、右升降伺服电机、Arm轴伺服电机、传感器组和ARM手臂，所述控制系统包括上位机、下位机、左升降驱动器、右升降驱动器、Arm轴驱动器和执行器；所述左升降驱动器与左升降伺服电机通过编码器电缆进行双向通讯连接，所述右升降驱动器与右升降伺服电机通过编码器电缆进行双向通讯连接，所述Arm轴驱动器与Arm轴伺服电机通过编码器电缆进行双向通讯连接，三个伺服电机中的编码器实时将当前位置信息反馈给对应的驱动器，三个驱动器将伺服电机要走行的位置通过编码器电缆传输给伺服电机中的编码器；所述左升降驱动器、右升降驱动器、Arm轴驱动器分别通过Ethercat网络总线与下位机进行双向通讯链接，左升降驱动器、右升降驱动器、Arm轴驱动器分别收集左升降伺服电机、右升降伺服电机、Arm轴伺服电机的当前状态信息并实时反馈给下位机，下位机接收当前状态信息并下发指令给各个驱动器；所述下位机与上位机通过以太网双向通讯连接，下位机将收集的左升降伺服电机、右升降伺服电机、Arm轴伺服电机的当前状态信息传递给上位机，上位机接收下位机上报的信息并发送命令给下位机，下位机接收上位机的指令；所述下位机中包含数字量输出口和数字量输入模块，所述下位机通过IO与执行器单向电连接，下位机通过数字量输出口控制执行器的导通与断开；所述下位机通过IO与传感器组单向电连接，下位机通过数字量输入模块收集传感器组的信息；所述传感器组包括两个光感应传感器，其中一个装在存放物体的储位上，另外一个装在ARM手臂中。优选地，所述升降机构还包括左升降主动轮、左升降皮带、左升降固定块、左升降从动轮、左升降固定架、右升降主动轮、右升降固定块、右升降皮带、右升降从动轮、右升降固定架、主框架、Fork平台、ARM手臂、齿轮、齿条、滑道、滑块；所述主框架由4根型材连接底板与顶部框架组成，左升降伺服电机中是否有卡夹：如果有，进入步骤4.4，否则进入步骤6；步骤4.4，下位机控制FORK平台上升，到达UP位；步骤4.5，下位机控制ARM手臂伸出，到达Extend位；步骤4.6，下位机控制FORK平台下降，到达DN位；步骤4.7，下位机控制ARM手臂缩回，到达Back位，且进入步骤6；步骤5，下位机进入Load流程，其流程包括：步骤5.1，对Load命令解析，判断命令是否OK；步骤5.2，通过传感器组检测信息判断储位上是否有卡夹：如果有，进入步骤5.3，否则进入步骤6；步骤5.3，通过传感器组检测信息判断ARM手臂中是否有卡夹，如果无，进入步骤5.4，否则进入步骤6；步骤5.4，下位机控制FORK平台下降，到达DN位；步骤5.5，下位机控制ARM手臂伸出，到达Extend位；步骤5.6，下位机控制FORK平台上升，到达UP位；步骤5.7，下位机控制ARM手臂缩回，到达Back位；步骤5.8，读取卡夹信息并上报给上位机，且进入步骤6；步骤6，下位机将命令执行结果上报给上位机，如果该命令为正常执行完成，则下位机上报结果为正常完成，如果该命令为异常完成，则下位机缩回，到达Back位，且进入步骤6；步骤5，下位机20进入Load流程，其流程包括：步骤5.1，对Load命令解析，判断命令是否OK；步骤5.2，通过传感器组100检测信息判断储位上是否有卡夹：如果有，进入步骤5.3，否则进入步骤6；步骤5.3，通过传感器组100检测信息判断ARM手臂5中是否有卡夹，如果无，进入步骤5.4，否则进入步骤6；步骤5.4，下位机20控制FORK平台23下降，到达DN位；步骤5.5，下位机20控制ARM手臂5伸出，到达Extend位；步骤5.6，下位机20控制FORK平台23上升，到达UP位；步骤5.7，下位机20控制ARM手臂5缩回，到达Back位；步骤5.8，读取卡夹信息并上报给上位机10，且进入步骤6；步骤6，下位机20将命令执行结果上报给上位机10，如果该命令为正常执行完成，则下位机20上报结果为正常完成，如果该命令为异常完成，则下位机20上报结果为异常完成，并告知异常原因；步骤7，下位机20将所有程序的流程、标志位清除，并在完成后向上位机10传递可接收物流搬送命令状态，等待上位机10的命令；上位机10下发命令，系统进入到第一步，开始下一次物流搬送。
