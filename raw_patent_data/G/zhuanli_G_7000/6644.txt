标题title
一种采用浅层对地雷达自动检测地质病害的方法
摘要abst
本发明公开了一种采用浅层对地雷达自动检测地质病害的方法，包括：采用折返c次、且呈栅状检测地质区域，并获得地质区域的cscan雷达数据；依次对cscan雷达数据内的bscan雷达数据进行信号预处理和可视化处理，得到雷达数据图像；采用图像识别算法对雷达数据图像lmg_i进行病害识别，并获得病害种类集合，得到K个检测目标；对雷达数据图像lmg_i进行三维采样并将采样点组成集合PointCloud3D，并投影至水平面；采用空间位置和类型进行集合PointCloud3D聚类，得到地质病害。通过上述方案，本发明具有检测快速准确可靠等优点，在地质病害检测技术领域具有很高的实用价值和推广价值。
权利要求书clms
1.一种采用浅层对地雷达自动检测地质病害的方法，所述浅层对地雷达采用m个雷达通道，其特征在于，包括以下步骤：采用折返c次、且呈栅状检测地质区域，并获得地质区域的cscan雷达数据；所述cscan雷达数据内有c个折返道的batch雷达数据；任一所述batch雷达数据内含有m个雷达通道的bscan雷达数据；所述cscan雷达数据等于m×c个bscan雷达数据，n＝m×c；所述m、c均为大于等于1的自然数；依次对cscan雷达数据内的bscan雷达数据进行信号预处理和可视化处理，得到雷达数据图像，并记第i个bscan雷达数据对应雷达数据图像为lmg_i，0＜i＜n；构建病害种类集合，并结合图像识别算法对雷达数据图像lmg_i进行病害识别，得到K个检测目标，并记任一检测目标为Target_i_u；其中，DT_GAP表示脱空，DT_SUBSIDENCE表示沉降，0＜u＜＝k；对雷达数据图像lmg_i进行三维采样并将采样点组成集合PointCloud3D，并投影至水平面；采用空间位置和类型进行集合PointCloud3D聚类，得到地质病害。2.根据权利要求1所述的一种采用浅层对地雷达自动检测地质病害的方法，其特征在于，所述检测目标Target_i_u中含有雷达数据图像lmg_i在位置rect的区域坐标、宽度和高度；根据所述雷达数据图像lmg_i的位置rect求得目标的实际位置Position；所述检测目标Target_i_u中含有当前检测到的病害目标的种类type。3.根据权利要求1所述的一种采用浅层对地雷达自动检测地质病害的方法，其特征在于，所述检测目标Target_i_u采用栅状折返全覆盖检测，且任一雷达数据图像lmg_i为等间距。4.根据权利要求1所述的一种采用浅层对地雷达自动检测地质病害的方法，其特征在于，所述采用空间位置和类型进行集合PointCloud3D聚类，还包括：根据检测目标Target_i_u的空间位置和类型进行两两距离判断：若目标点Target_i_u_p1.type不等于目标点Target_i_u_p2.type，则距离distance＝无限大inf；若目标点Target_i_u_p1.type和目标点Target_i_u_p2.type的深度大于预设的阈值thresh_z，则距离distance＝无限大inf；若目标点Target_i_u_p1.type等于目标点Target_i_u_p2.type，且目标点Target_i_u_p1.type和目标点Target_i_u_p2.type的深度小于等于预设的阈值thresh_z，则距离distance＝sqrt*+*)；其中，p1.x和p1.y表示目标点Target_i_u_p1.type的坐标；所述p2.x和p2.y表示目标点Target_i_u_p2.type的坐标。5.根据权利要求4所述的一种采用浅层对地雷达自动检测地质病害的方法，其特征在于，所述阈值thresh_z为0.15m。6.根据权利要求1所述的一种采用浅层对地雷达自动检测地质病害的方法，其特征在于，对bscan雷达数据进行调节零偏、调节零点、滤波和调节增益。
说明书desc
技术领域本发明涉及地质病害检测技术领域，尤其是一种采用浅层对地雷达自动检测地质病害的方法。背景技术多通道浅层探底雷达工作时挂在搭载设备上，由搭载设备多个通道同时向前推进，假设为m通道的雷达设备。实际中m可以大于等于1的任何整数，m为1时，为单通道探地雷达。如图1所示，一般情况下，探地雷达采用折返的方式对一个区域进行全覆盖检测。其中，每次检测的我们将单次行进产生的m个bscan数据表示为1个batch，一般来说，多通道探地雷达检测中，同一个batch内的所有bscan中包含雷达数据ascan的数量是相同的，而在全覆盖检测中，两个不同batch中的bscan所包含的ascan数量不一样相同。例如下图2中直线所示为3个batch数据，来回检测c次，产生c个batch，即m*c个bscan数据，记为n个bscan数据，即一个立方体的雷达数据，如图3所示。在图3中，每个点表示实际位置，每个点的值为雷达回波的强度，雷达回波则表示地下目标的情况，对单个bscan的雷达回波数据做可视化处理如图4所示。目前，现有技术中，对多通道浅层探地雷达数据分析一般都是对各切片图进行分析，然后综合切片图分析结果，得到真实立体的地质目标检测结果，其中一种地质病害在切片图呈现的效果如图5所示。目前，现有技术中对地下病害目标的自动检测主要集中单个bscan的检测。而在实际情况中，不管使用经典图像处理还是深度学习的办法，都是对单个bscan图像进行目标检测，由于雷达切片图是通过电磁反射波强度表示目标，而道面下的实际情况非常复杂性，存在很多假目标，在单个bscan切片图中呈现出非常明显的病害图像特征。现有技术中的病害分析存在以下问题：第一，现有技术多半集中在检测单个bscan切片图的病害类别目标，很难剔除伪目标且很难应用到实际情况中；第二，人工分析对地雷达数据的方式，结果完全依赖于分析该数据的技术人员，不同人员得到的结果不一样，且同一个技术分析人员不同时刻也不一定能够得到完全一样的结果，这种分析存在很大主观性，不利于建立道面全生命周期病害管理。因此，急需要提出一种快速准确可靠的采用浅层对地雷达自动检测地质病害的方法。发明内容针对上述问题，本发明的目的在于提供一种采用浅层对地雷达自动检测地质病害的方法，本发明采用的技术方案如下：一种采用浅层对地雷达自动检测地质病害的方法，所述浅层对地雷达采用m个雷达通道，包括以下步骤：采用折返c次、且呈栅状检测地质区域，并获得地质区域的cscan雷达数据；所述cscan雷达数据内有c个折返道的batch雷达数据；任一所述batch雷达数据内含有m个雷达通道的bscan雷达数据；所述cscan雷达数据等于m×c个bscan雷达数据，n＝m×c；所述m、c均为大于等于1的自然数；依次对cscan雷达数据内的bscan雷达数据进行信号预处理和可视化处理，得到雷达数据图像，并记第i个bscan雷达数据对应雷达数据图像为lmg_i，0＜i＜n；构建病害种类集合，并结合图像识别算法对雷达数据图像lmg_i进行病害识别，得到K个检测目标，并记任一检测目标为Target_i_u；其中，DT_GAP表示脱空，DT_SUBSIDENCE表示沉降，0＜u＜＝k；对雷达数据图像lmg_i进行三维采样并将采样点组成集合PointCloud3D，并投影至水平面；采用空间位置和类型进行集合PointCloud3D聚类，得到地质病害。进一步地，所述检测目标Target_i_u中含有雷达数据图像lmg_i在位置rect的区域坐标、宽度和高度；根据所述雷达数据图像lmg_i的位置rect求得目标的实际位置Position；所述检测目标Target_i_u中含有当前检测到的病害目标的种类type。优选地，所述检测目标Target_i_u采用栅状折返全覆盖检测，且任一雷达数据图像lmg_i为等间距。进一步地，所述采用空间位置和类型进行集合PointCloud3D聚类，还包括：根据检测目标Target_i_u的空间位置和类型进行两两距离判断：若目标点Target_i_u_p1.type不等于目标点Target_i_u_p2.type，则距离distance＝无限大inf；若目标点Target_i_u_p1.type和目标点Target_i_u_p2.type的深度大于预设的阈值thresh_z，则距离distance＝无限大inf；若目标点Target_i_u_p1.type等于目标点Target_i_u_p2.type，且目标点Target_i_u_p1.type和目标点Target_i_u_p2.type的深度小于等于预设的阈值thresh_z，则距离distance＝sqrt*+*)；其中，p1.x和p1.y表示目标点Target_i_u_p1.type的坐标；所述p2.x和p2.y表示目标点Target_i_u_p2.type的坐标。优选地，所述阈值thresh_z为0.15m。优选地，对bscan雷达数据进行调节零偏、调节零点、滤波和调节增益。与现有技术相比，本发明具有以下有益效果：本发明巧妙地采样浅层对地雷达对待检测区域进行多通道检测，并且获得任一通道的雷达数据，并组成雷达数据图像，并且对雷达数据图像中的任一目标进行位置、类型判断，在判断的基础上进行聚类，以获得同一类型的地质病害及其位置信息；本发明通过三维采用获取任一目标点，并投影到水平面，以便于后期对目标点的位置距离判断，为聚类提供数据支撑；综上所述，本发明具有检测快速准确可靠等优点，在地质病害检测技术领域具有很高的实用价值和推广价值。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需使用的附图作简单介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对保护范围的限定，对于本领域技术人员来说，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为现有技术中的检测运行路径示意图。图2为现有技术中的检测区域示意图。图3为现有技术中的一个雷达数据的示意图。图4为现有技术中的雷达数据对应的图像。图5为现有技术中的地质病害检测结果示意图。图6为本发明中一雷达数据的切片检测图。图7为本发明中雷达检测路径示意图。图8为本发明中的等距检测示意图。图9为本发明中的三维采样投影示意图。图10为本发明中的检测区域的划分示意图。图11为本发明中的聚类结果示意图。具体实施方式为使本申请的目的、技术方案和优点更为清楚，下面结合附图和实施例对本发明作进一步说明，本发明的实施方式包括但不限于下列实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本申请保护的范围。实施例如图6至图11所示，本实施例提供了一种采用浅层对地雷达自动检测地质病害的方法，具体步骤如下：本实施例采样浅层对地雷达进行检测得到的整个cscan雷达数据，由c个batch组成，每个batch中有m个bscan数据，所以整个cscan中有n＝c*m个bscan数据组成。在本实施例中，对对每个雷达数据bacan进行信号处理基础信号，如调节零偏、调节零点、滤波、调节增益等，并对处理之后的信号进行可视化处理，信号处理和可视化为通用方案，在此不做叙述。在可视化转换后，任一雷达数据bacan对应一个雷达数据图像，记第i个bscan图像为Img_i，其中，0＜i＜＝n。在本实施中，对雷达数据图像Img_i检测病害目标，此处可以采用经典图像处理算法，也可以采用深度学习方式，不做限制，本实施例使用SSD算法，对已有的雷达切片图的类型样本图片进行训练，然后使用训练好的模型，对Img_i进行识别，本次识别主要针对常见病害类型，如脱空、疏松、沉降等，记病害种类集合为DIS_SET＝{DT_GAP，DT_SUBSIDENCE，……}。此处不做限制，根据具体应用场景决定需要识别的地址病害种类。在此，使用经典图像处理或深度学习的方法，得到图像Img_i中的目标共K个，单个目标记为Target_i_u，其中i表示是Img_i的结果，0＜u＜＝k；每个Target_i_u包含的信息有rect，position和type，其中rect该目标在图像Img_i上的区域。在探地雷达工作时候，每个Ascan不仅有数据，还有对应的位置、真实的坐标位置，本实施例使用目标的中心点位置Position表示该目标的实际位置，position中包含x，y，z，latitude，longitude，sheight.其中x和y为检测任务时使用的坐标系中的位置，latitude，longitude，height为该点在地球坐标系中的经纬高，z为该点的深度，根据采集雷达发射频率、检测道面介电常数、光速可以算出每一个Ascan的采样点对应的检测深度，type为当前检测到的病害目标的种类，为DIS_SET＝{DT_GAP，DT_SUBSIDENCE，……}中的任意一个值。在本实施例中，对雷达数据bscan切片图进行目标检测，将所检测到的目标放到集合Target，Target＝{Target_0_0，……，Target_0_k0，Target_1_0，……，Target_1_k1，……，……，Target_i_u，……}，其中i为对应的bscan切片图像编号，u为该切片图中的某一个检测目标。如图7所示，由于雷达设备按照栅状折返全覆盖方式进行检测，且bscan间的间隔为等距的，记为l_between_bscan；将每个检测目标投影到XY。其中，对bscan上每一个目标进行三维采样，采样间距为l_between_bscan，这样处理保证了对每一个真实可能存在的3d目标在平行检测方向和垂直检测方向都是均匀采样的，每个病害的深度采用病害的中心线深度，同一个病害的多个采样点在深度方向是一致的，，即z相同。如下图所示，每个采样点P包含两个信息，position和type，每个点的type为被采样目标的type。如图8和图9所示，在本实施例中，完成检测目标Target集合中每一个检测目标的均匀采样，将所有采样点P放到集合PointCloud3D中，并投影到水平面。在本实施例中，对采样检测目标得到的三维点云PointCloud3D中所有点按照其空间位置和类型信息进行聚类，聚类方法可以选kmeans算法，也可以选dbscan顺丰，得到的每一个小类即为一个检测到地址病害，此处值得注意的是，在聚类前，集合内有数个三维病害，因此，先采用dbscan算法，也可以选择能够合并以及分裂小类的kmeans算法，3d点云聚类方法不限于上述两种，且为已知公有技术，在此不做过多叙述。聚类时，对两个点的距离进行判断，例如：目标点Target_i_u_p1.type和目标点Target_i_u_p2.type：若目标点Target_i_u_p1.type不等于目标点Target_i_u_p2.type，则距离distance＝无限大inf；若目标点Target_i_u_p1.type和目标点Target_i_u_p2.type的深度大于预设的阈值thresh_z，则距离distance＝无限大inf；其中，所述阈值thresh_z优选为0.15m。若目标点Target_i_u_p1.type等于目标点Target_i_u_p2.type，且目标点Target_i_u_p1.type和目标点Target_i_u_p2.type的深度小于等于预设的阈值thresh_z，则距离distance＝sqrt*+*)；其中，p1.x和p1.y表示目标点Target_i_u_p1.type的水平宽度和高度；所述p2.x和p2.y表示目标点Target_i_u_p2.type的水平宽度和高度。如图10所示，本实施例中，由于水平相互垂直两个方向的采样距离为l_between_bscan，根据多通道雷达设备不同而不同，但是一般的，该值较小，在实施例的l_between_bscan为9cm，在每次检测任务基本都是上万平方米，且一般地质内部病害的检测精度都不要求1平方分米一下，所以Point3d是一个非常庞大的数据集，本实施例一般需要point3d预处理再进行聚类，此处预处理为可选步骤，根据实际情况决定。通常情况下，预处理方法有两种，根据需要选取其中一种或几种，或不需要预处理。对整个Point3d进行下采样，三维点点云下采样方法为公知方法，再次不做叙述。对整个检测范围进行划分，划分整个检测区域为多个，根据检测区域将point3d也划分为多个，划分规则根据检测项目而定。上述实施例仅为本发明的优选实施例，并非对本发明保护范围的限制，但凡采用本发明的设计原理，以及在此基础上进行非创造性劳动而作出的变化，均应属于本发明的保护范围之内。
