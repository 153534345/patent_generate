标题title
一种曲面板材形状的检测装置
摘要abst
本发明公开了一种曲面板材形状的检测装置，包括：中央控制台、左侧纵向滑道、左侧小车、龙门架、顶部小车、激光测距仪、右侧小车、右侧纵向滑道和横向滑道，左侧小车位于左侧纵向滑道，右侧小车位于右侧纵向滑道，龙门架横跨在左侧小车和右侧小车上，横向滑道固定于龙门架上，顶部小车位于横向滑道，激光测距仪固定于顶部小车下方，左侧纵向滑道与右侧纵向滑道之间放置待测曲面板材；中央控制台用于驱动左侧小车、右侧小车、顶部小车分别在左侧纵向滑道、右侧纵向滑道、横向滑道滑动，控制激光测距仪测量待测曲面板材表面到激光测距仪所在平面的距离，得到待测曲面板材的形状点云。本发明装置检测精度高、成本低、自动化程度高。
权利要求书clms
1.一种曲面板材形状的检测装置，其特征在于，包括：中央控制台、左侧纵向滑道、左侧小车、龙门架、顶部小车、激光测距仪、右侧小车、右侧纵向滑道和横向滑道，所述左侧小车位于左侧纵向滑道，右侧小车位于右侧纵向滑道，龙门架横跨在左侧小车和右侧小车上，横向滑道固定于龙门架上，顶部小车位于横向滑道，激光测距仪固定于顶部小车下方，左侧纵向滑道与右侧纵向滑道之间放置待测曲面板材；所述中央控制台，用于驱动左侧小车、右侧小车、顶部小车分别在左侧纵向滑道、右侧纵向滑道、横向滑道滑动，控制激光测距仪在顶部小车滑动过程中测量待测曲面板材表面到激光测距仪所在平面的距离，得到待测曲面板材的形状点云。2.如权利要求1所述的一种曲面板材形状的检测装置，其特征在于，所述中央控制台包括：寻找顶点模块，用于控制激光测距仪在顶部小车滑动过程中通过距离变化寻找待测曲面板材的多个顶点；测量点生成模块，用于在多个顶点连接得到的多边形内间隔采样测量，得到待测曲面板材的形状点云。3.如权利要求2所述的一种曲面板材形状的检测装置，其特征在于，所述中央控制台还包括：点云配准模块，用于将待测曲面板材的形状点云与船舶建造过程所需的目标曲面板材的形状点云进行配准，得到偏差信息。4.如权利要求2或3所述的一种曲面板材形状的检测装置，其特征在于，所述寻找顶点模块，用于驱动激光测距仪从起点移动到待测曲面板材第i个顶点的边缘线L1的外侧靠近第i个顶点的位置，此时激光测距仪测得地面到激光测距仪所在平面的距离，驱动激光测距仪由边缘线L1外侧沿着垂直于边缘线L1的方向向内侧移动，当激光测距仪检测到的距离变化超过一个板厚时，记录此时激光测距仪在XY平面内的坐标，作为边缘线L1上一个点在XY平面内的坐标；激光测距仪沿原路返回到起点，然后向靠近第i个顶点的方向移动，再由边缘线L1外侧沿着垂直于边缘线L1的方向向内侧移动，当激光测距仪检测到的距离变化超过一个板厚时，记录此时激光测距仪在XY平面内的坐标，作为边缘线L1上另一个点在XY平面内的坐标；根据两个点的坐标即可拟合边缘线L1的方程；对第i个顶点的另一个边缘线L2也进行相同的处理，获得边缘线L2的方程；根据边缘线L1和边缘线L2的方程计算出第i个顶点在XY平面内的坐标；对待测曲面板材所有顶点进行相同的处理，即可获得所有顶点在XY平面内的坐标。5.如权利要求2或3所述的一种曲面板材形状的检测装置，其特征在于，所述测量点生成模块，用于建立待测曲面板材的顶点在XY坐标系下的与局部坐标系ξη下坐标的映射关系，其中，0≤ξ≤1，0≤η≤1，以预设的采样间隔作为增量，计算局部坐标系ξη下测量点的坐标，使用映射关系对测量点在局部坐标系ξη下的坐标进行双线性插值，计算测量点在XY坐标系下的坐标，得到待测曲面板材的形状点云。6.如权利要求3所述的一种曲面板材形状的检测装置，其特征在于，所述点云配准模块，用于采用刚性变换矩阵将目标曲面板材和待测曲面板材配准到同一坐标系下，然后将待测曲面板材的形状点云与船舶建造过程所需的目标曲面板材的形状点云进行配准，得到偏差信息，所述刚性变换矩阵为通过最小二乘法计算使得待测曲面板材的顶点到目标曲面板材的顶点距离最小的刚性变换矩阵。7.如权利要求1-3任一项所述的一种曲面板材形状的检测装置，其特征在于，所述待测曲面板材靠近左侧纵向滑道的边缘与左侧纵向滑道之间的间隔在0.4m-0.5m之间，待测曲面板材靠近右侧纵向滑道的边缘与右侧纵向滑道之间的间隔在0.4m-0.5m之间。8.如权利要求1-3任一项所述的一种曲面板材形状的检测装置，其特征在于，所述龙门架、顶部小车、激光测距仪和横向滑道的数量为N个，N≥1。
说明书desc
技术领域本发明属于船舶制造中的曲面检验领域，更具体地，涉及一种曲面板材形状的检测装置。背景技术曲面板材是船舶建造过程中的重要零部件。曲面板材通常由初始的平面板材通过特定的成型技术如水火弯板获得。对被成型的曲面板材进行形状检测及误差判断是加工目标曲面板材的必要过程。目前，船厂主要使用卡样板、样箱的方式检测被成型的曲面板材与目标曲面板材之间的差异。这样的检测方式不仅精度较低，而且需要耗费大量的木质材料。另一方面，检测过程是基于技术工人的视觉感官判断，无法输出计算机可以识别的有效数据，降低了船舶生产车间的自动化程度。由此可见，现有船舶建造过程中曲面板材形状的检测存在精度低、成本高、自动化程度低的技术问题。发明内容针对现有技术的以上缺陷或改进需求，本发明提供了一种曲面板材形状的检测装置，由此解决现有船舶建造过程中曲面板材形状的检测存在精度低、成本高、自动化程度低的技术问题。为实现上述目的，本发明提供了一种曲面板材形状的检测装置，包括：中央控制台、左侧纵向滑道、左侧小车、龙门架、顶部小车、激光测距仪、右侧小车、右侧纵向滑道和横向滑道，所述左侧小车位于左侧纵向滑道，右侧小车位于右侧纵向滑道，龙门架横跨在左侧小车和右侧小车上，横向滑道固定于龙门架上，顶部小车位于横向滑道，激光测距仪固定于顶部小车下方，左侧纵向滑道与右侧纵向滑道之间放置待测曲面板材；所述中央控制台，用于驱动左侧小车、右侧小车、顶部小车分别在左侧纵向滑道、右侧纵向滑道、横向滑道滑动，控制激光测距仪在顶部小车滑动过程中测量待测曲面板材表面到激光测距仪所在平面的距离，得到待测曲面板材的形状点云。进一步地，所述中央控制台包括：寻找顶点模块，用于控制激光测距仪在顶部小车滑动过程中通过距离变化寻找待测曲面板材的多个顶点；测量点生成模块，用于在多个顶点连接得到的多边形内间隔采样测量，得到待测曲面板材的形状点云。进一步地，所述中央控制台还包括：点云配准模块，用于将待测曲面板材的形状点云与船舶建造过程所需的目标曲面板材的形状点云进行配准，得到偏差信息。进一步地，所述寻找顶点模块，用于驱动激光测距仪从起点移动到待测曲面板材第i个顶点的边缘线L1的外侧靠近第i个顶点的位置，此时激光测距仪测得地面到激光测距仪所在平面的距离，驱动激光测距仪由边缘线L1外侧沿着垂直于边缘线L1的方向向内侧移动，当激光测距仪检测到的距离变化超过一个板厚时，记录此时激光测距仪在XY平面内的坐标，作为边缘线L1上一个点在XY平面内的坐标；激光测距仪沿原路返回到起点，然后向靠近第i个顶点的方向移动，再由边缘线L1外侧沿着垂直于边缘线L1的方向向内侧移动，当激光测距仪检测到的距离变化超过一个板厚时，记录此时激光测距仪在XY平面内的坐标，作为边缘线L1上另一个点在XY平面内的坐标；根据两个点的坐标即可拟合边缘线L1的方程；对第i个顶点的另一个边缘线L2也进行相同的处理，获得边缘线L2的方程；根据边缘线L1和边缘线L2的方程计算出第i个顶点在XY平面内的坐标；对待测曲面板材所有顶点进行相同的处理，即可获得所有顶点在XY平面内的坐标。进一步地，所述测量点生成模块，用于建立待测曲面板材的顶点在XY坐标系下的与局部坐标系ξη下坐标的映射关系，其中，0≤ξ≤1，0≤η≤1，以预设的采样间隔作为增量，计算局部坐标系ξη下测量点的坐标，使用映射关系对测量点在局部坐标系ξη下的坐标进行双线性插值，计算测量点在XY坐标系下的坐标，得到待测曲面板材的形状点云。进一步地，所述点云配准模块，用于采用刚性变换矩阵将目标曲面板材和待测曲面板材配准到同一坐标系下，然后将待测曲面板材的形状点云与船舶建造过程所需的目标曲面板材的形状点云进行配准，得到偏差信息，所述刚性变换矩阵为通过最小二乘法计算使得待测曲面板材的顶点到目标曲面板材的顶点距离最小的刚性变换矩阵。进一步地，所述待测曲面板材靠近左侧纵向滑道的边缘与左侧纵向滑道之间的间隔在0.4m-0.5m之间，待测曲面板材靠近右侧纵向滑道的边缘与右侧纵向滑道之间的间隔在0.4m-0.5m之间。进一步地，所述龙门架、顶部小车、激光测距仪和横向滑道的数量为N个，N≥1。总体而言，通过本发明所构思的以上技术方案与现有技术相比，能够取得下列有益效果：现有技术通常采用相机采集数据，相机的测量原理基于焦距景深实现，本发明中激光测距仪基于光的传播原理实现，在现有技术中，由于采用的相机测量，在结果的后处理上较为复杂，在本发明中，激光测距仪的结果直接是点云数据，避免了从图像到点云数据的复杂处理。现有技术在测量时需要移动板材，在移动过程中，板材必然会持续的晃动，加剧了定位的复杂程度，本发明装置通过滑道、龙门架、小车配合，协助激光测距仪移动，板材固定不动，因此只需要一次定位即可，检测精度较高，且结果稳定；检测过程自动化，摆脱了对工人的依赖；避免了重复制作样板、样箱带来的材料损失；检测方法通用性高，可以适应不同成型方法的结果检测。本发明在测量板材形状之前，必须首先确定板材在所述曲面板材形状检测装置运动坐标系下的位置，然后才能驱动测量装置正确测量板材形状。通过对板材顶点位置的计算和测量，可以比较准确的判断板材在所述曲面板材形状检测装置运动坐标系下的位置。该方法原理简单，不需要复杂的处理就可以实现，还能有效提高后续测量的精度。为了准确把握板材的整体形状，则需要测量板材上较多点的坐标。另外，每次测量的板材尺寸有可能不相同，每次需要测量的位置也有可能不相同，无法完全固定测量点的坐标。因此，需要一种方法生成满足测量需求的测量点坐标，然后驱动测量装置到指定的测量点测量。在本发明方法中，采用了坐标系映射的思路，可以适应不同尺寸，不同形状的板材按照预定的测量间隔实现测量，有效提高检测精度，扩大了装置的应用范围。附图说明图1是本发明实施例提供的一种曲面板材形状的检测装置的结构示意图；图2是本发明实施例提供的在XY坐标系下的曲面板材顶点示意图；图3是本发明实施例提供的局部坐标系的示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。此外，下面所描述的本发明各个实施方式中所涉及到的技术特征只要彼此之间未构成冲突就可以相互组合。如图1所示，一种曲面板材形状的检测装置，包括：中央控制台1、左侧纵向滑道2、左侧小车3、龙门架4、顶部小车5、激光测距仪6、右侧小车8、右侧纵向滑道9和横向滑道10。所述左侧小车可以在所述左侧纵向滑道上移动，所述右侧小车可以在所述右侧纵向滑道上移动。所述龙门架横跨在左侧小车和右侧小车上，所述龙门架与左侧小车和右侧小车固定连接。所述横向滑道安装在龙门架上。顶部小车可以在所述横向滑道上移动。所述激光测距仪安装在所述顶部小车上。所述激光测距仪可以测量物体表面一点到激光测距仪所在平面的距离。左侧纵向滑道2、右侧纵向滑道9的长度以及左侧纵向滑道2和右侧纵向滑道9之间的距离可以按照待测曲面板材7的尺寸而定。具体的滑道长度为在待测曲面板材长度的基础上再增加1米，具体的滑道之间的距离为在待测曲面板材宽度的基础上再增加1米。测量时将待测曲面板材7放置在左侧纵向滑道2和右侧纵向滑道9之间，并保证待测曲面板材边缘与滑道之间保持间隔大于0.4米。设定曲面板材形状检测装置的运动坐标系为：以左侧小车3的移动方向为X轴，向前移动为正；以顶部小车5的移动方向为Y轴，向右移动为正；以激光测距仪6检测的方向为Z轴；X轴、Y轴和Z轴相互垂直；设定X轴的零点位置在左侧纵向滑道2的最前端，设定Y轴的零点位置在横向滑道10的最左端，设定Z轴的零点位置在激光测距仪所在的平面。所述中央控制台可以发送指令给所述左侧小车、右侧小车、顶部小车，驱动所述左侧小车、右侧小车、顶部小车移动。所述中央控制台可以发送指令给所述激光测距仪，驱动所述激光测距仪启闭和测距。所述中央控制台可以接收来自所述左侧小车、右侧小车、顶部小车的位置反馈。所述中央控制台可以接收来自激光测距仪的距离反馈。所述中央控制台可以根据所述左侧小车、右侧小车、顶部小车和激光测距仪反馈的信息自动生成待测曲面板材的点云数据。所述中央控制台可以对点云数据进行可视化处理。所述中央控制台可以将待测曲面板材的形状和目标曲面板材的形状进行比对，计算出偏差信息，以供后续加工使用。优选地，所述龙门架为N个，N≥1。优选地，所述横向滑道为N个，N≥1。优选地，所述顶部小车为N个，N≥1。优选地，所述激光测距仪为N个，N≥1。优选地，所述曲面板材形状检测装置的运动坐标系可以根据实际需要转换。优选地，所述左侧小车、右侧小车、顶部小车依靠伺服电机带动。优选地，所述中央控制台由上位机和可编程逻辑控制器构成。上位机和可编程逻辑控制器之间基于UDP或TCP协议实现通信。在上位机基于C或C++等计算机语言实现曲面板材形状检测的全自动控制。一种应用于曲面板材形状检测装置的方法，具体为：首先根据寻找顶点算法确定板材顶点在所述曲面板材形状检测装置运动坐标系下的XY平面内的坐标；然后将板材顶点在XY平面内的坐标和测量间隔输入到测量点生成算法中，生成n个测量点在XY平面内的坐标；然后中央控制台驱动所述左侧小车、右侧小车、顶部小车移动，使激光测距仪在XY平面内的坐标与第i个测量点在XY平面内的坐标相同；然后中央控制台驱动激光测距仪检测第i个测量点在Z轴中的坐标；依次测量所有n个测量点，并记录测量点在X轴、Y轴和Z轴中的坐标，作为测量点云；根据点云数据配准方法，对测量点云和目标形状点云进行配准，然后计算其偏差。所述寻找顶点算法具体为：假设曲面板材放置在地面上，设构成曲面板材第i个顶点的边缘线分别为L1和L2；中央控制台驱动所述激光测距仪移动到边缘线L1的外侧靠近顶点的位置，此时激光测距仪测得地面到激光测距仪所在平面的距离；中央控制台驱动所述激光测距仪由边缘线外侧沿着垂直于边缘线的方向向内侧移动，当激光测距仪检测到的距离变化超过一个板厚时，记录此时激光测距仪在XY平面内的坐标，认为这是边缘线上一个点在XY平面内的坐标；激光测距仪沿原路返回到起点，然后向靠近顶点的方向移动一小段距离，再由边缘线外侧沿着垂直于边缘线的方向向内侧移动，当激光测距仪检测到的距离变化超过一个板厚时，记录此时激光测距仪在XY平面内的坐标，认为这是边缘线上另一个点在XY平面内的坐标；根据两个点的坐标即可拟合边缘线L1的方程；同样，对边缘线L2也进行相同的处理，获得边缘线L2的方程；根据边缘线L1和边缘线L2的方程可以计算出第i个顶点在XY平面内的坐标；对曲面板材所有顶点进行相同的处理，即可获得所有顶点在XY平面内的坐标。所述测量点生成算法，具体为：建立待测曲面板材的顶点在XY坐标系下的与局部坐标系ζη下坐标的映射关系，其中0≤ξ≤1，0≤η≤1；以输入的测量间隔作为增量，计算局部坐标系ξη下测量点的坐标；根据待测曲面板材的顶点在XY坐标系下与在局部坐标系下ξη坐标的映射关系，以及测量点在局部坐标系ζη下的坐标，利用双线性插值的方式计算测量点在XY坐标系下的坐标。如图2所示，假设在坐标系XY下有一四边形，其四个顶点分别为，，，。如图3所示，假设在坐标系ζη下有一正方形，其四个顶点分别为，，，。设坐标系XY与坐标系ζη之间的映射关系为f，即有下列等式成立：f＝f＝f＝f＝设沿着X方向等间距的分布着n个测量点，沿着Y方向等间距的分布着m个测量点。则将坐标系ζη下的正方形分别沿着ζ方向m等分，沿着η方向n等分。由此，可以获得测量点在坐标系ζη下的坐标。假设其中一个测量点在坐标系ζη下的坐标为其中0≤i≤n，0≤j≤m。求该测量点在坐标系XY下坐标的方法为：依次对所有的测量点进行以上计算，获得测量点在坐标系XY下的坐标。所述点云数据配准方法，具体为：以目标曲面板材的顶点作为基准，基于最小二乘法计算使得待测曲面板材顶点到目标曲面板材顶点距离最小的刚性变换矩阵，将目标曲面板材和待测曲面板材配准到同一坐标系下。本领域的技术人员容易理解，以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
