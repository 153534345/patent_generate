标题title
一种获取路段通行时长的方法、装置、电子设备及存储介质
摘要abst
本公开提供了一种获取路段通行时长的方法、装置、电子设备及存储介质，涉及人工智能领域，进一步涉及智能交通技术领域，以至少解决现有方案中对于路段通行时长的预测精度低下的技术问题。具体实现方案为：获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长，其中，目标神经网络模型使用多组数据通过机器学习训练得到，多组数据中的每组数据均包括：预设地理区域内不同路段的多维度属性信息和每个路段对应的实际通行时长。
权利要求书clms
1.一种获取路段通行时长的方法，包括：获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；采用目标神经网络模型对所述道路属性信息、所述时间属性信息和所述空间属性信息进行特征融合，确定所述待预测目标时刻对应的所述目标路段的通行时长，其中，所述目标神经网络模型使用多组数据通过机器学习训练得到，所述多组数据中的每组数据均包括：预设地理区域内不同路段的多维度属性信息和每个路段对应的实际通行时长。2.根据权利要求1所述的方法，所述方法还包括：利用所述预设地理区域内不同路段的多维度属性信息对初始神经网络模型进行训练，得到预测通行时长；通过对所述预测通行时长与所述实际通行时长进行比较，得到误差；基于所述误差对所述初始神经网络模型进行调整，得到所述目标神经网络模型。3.根据权利要求1所述的方法，其中，采用所述目标神经网络模型对所述道路属性信息、所述时间属性信息和所述空间属性信息进行特征融合，确定所述目标路段的通行时长包括：通过所述道路属性信息确定道路属性特征，通过所述时间属性信息确定历史规律特征和实时道路状态特征，以及通过所述空间属性信息确定道路上下游特征；利用第一原始输入特征和第二原始输入特征的特征融合结果确定待使用特征，其中，所述第一原始输入特征是所述历史规律特征对应的原始输入特征，所述第二原始输入特征是所述实时道路状态特征对应的原始输入特征，所述待使用特征为所述历史规律特征与所述实时道路状态特征中的任一特征；采用所述目标神经网络模型对所述道路属性特征、所述道路上下游特征和所述待使用特征进行特征融合，确定所述目标路段的通行时长。4.根据权利要求3所述的方法，其中，利用所述第一原始输入特征和所述第二原始输入特征的特征融合结果确定所述待使用特征包括：利用所述第一原始输入特征和所述第二原始输入特征的特征融合结果确定目标阈值；基于所述目标阈值从所述历史规律特征和所述实时道路状态特征中选取所述待使用特征。5.根据权利要求4所述的方法，其中，利用所述第一原始输入特征和所述第二原始输入特征的特征融合结果确定所述目标阈值包括：将所述第一原始输入特征映射成第一隐向量，将所述第二原始输入特征映射成第二隐向量，以及将预测时间窗信息映射成第三隐向量，其中，所述预测时间窗信息依据所述待预测目标时刻确定；对所述第一隐向量，所述第二隐向量和所述第三隐向量进行向量拼接处理，得到拼接结果；对所述拼接结果进行特征融合处理，得到所述目标阈值。6.根据权利要求5所述的方法，其中，所述目标阈值的表示方式包括以下之一：显式的数值表示方式、隐式的向量表示方式。7.一种获取路段通行时长的装置，包括：获取模块，用于获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；确定模块，用于采用目标神经网络模型对所述道路属性信息、所述时间属性信息和所述空间属性信息进行特征融合，确定所述待预测目标时刻对应的所述目标路段的通行时长；其中，所述目标神经网络模型使用多组数据通过机器学习训练得到，所述多组数据中的每组数据均包括：预设地理区域内不同路段的多维度属性信息和每个路段对应的实际通行时长。8.一种电子设备，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-6中任一项所述的方法。9.一种存储有计算机指令的非瞬时计算机可读存储介质，其中，所述计算机指令用于使所述计算机执行根据权利要求1-6中任一项所述的方法。10.一种计算机程序产品，包括计算机程序，所述计算机程序在被处理器执行时实现根据权利要求1-6中任一项所述的方法。
说明书desc
技术领域本公开涉及人工智能领域，进一步涉及智能交通技术领域，尤其涉及一种获取路段通行时长的方法、装置、电子设备及存储介质。背景技术在提供导航服务时，为了协助用户进行行程规划，需要对用户的出行路线进行准确估时，即需要对组成路线的每个路段在未来不同时间的交通状况进行准确的预测。现有方案中，采用基于时空注意力的交通预测模型，通过对于当前路段的时空关系进行建模，进而预测当前路段在未来时间内的通行能力。但是，现有方案无法灵活适用不同场景，进而影响对于路段通行时长的预测精度。发明内容本公开提供了一种获取路段通行时长的方法、装置、电子设备及存储介质，以至少解决现有方案中对于路段通行时长的预测精度低下的技术问题。根据本公开的一方面，提供了一种获取路段通行时长的方法，包括：获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长，其中，目标神经网络模型使用多组数据通过机器学习训练得到，多组数据中的每组数据均包括：预设地理区域内不同路段的多维度属性信息和每个路段对应的实际通行时长。根据本公开的又一方面，提供了一种获取路段通行时长的装置，包括：获取模块，用于获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；确定模块，用于采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长；其中，目标神经网络模型使用多组数据通过机器学习训练得到，多组数据中的每组数据均包括：预设地理区域内不同路段的多维度属性信息和每个路段对应的实际通行时长。根据本公开的又一方面，提供了一种电子设备，包括：至少一个处理器；以及与至少一个处理器通信连接的存储器；其中，存储器存储有可被至少一个处理器执行的指令，指令被至少一个处理器执行，以使至少一个处理器能够执行本公开提出的获取路段通行时长的方法。根据本公开的又一方面，提供了一种存储有计算机指令的非瞬时计算机可读存储介质，其中，计算机指令用于使计算机执行本公开提出的获取路段通行时长的方法。根据本公开的又一方面，提供了一种计算机程序产品，包括计算机程序，计算机程序在被处理器执行本公开提出的获取路段通行时长的方法。在本公开中，通过获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长，达到了基于目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，以准确预测目标路段的通行时长的目的，实现了提升对于目标路段通行时长的预测精度的效果，从而解决了现有方案中对于路段通行时长的预测精度低下的技术问题。应当理解，本部分所描述的内容并非旨在标识本公开的实施例的关键或重要特征，也不用于限制本公开的范围。本公开的其它特征将通过以下的说明书而变得容易理解。附图说明附图用于更好地理解本方案，不构成对本公开的限定。其中：图1是现有方案中的一种获取路段通行时长的方法示意图；图2是根据本公开实施例的一种用于实现获取路段通行时长的方法的计算机终端的硬件结构框图；图3是根据本公开实施例的一种获取路段通行时长的方法流程图；图4是根据本公开实施例的一种门限模块的结构示意图；图5是根据本公开实施例的一种获取路段通行时长的方法示意图；图6是根据本公开实施例的一种获取路段通行时长的装置的结构框图。具体实施方式以下结合附图对本公开的示范性实施例做出说明，其中包括本公开实施例的各种细节以助于理解，应当将它们认为仅仅是示范性的。因此，本领域普通技术人员应当认识到，可以对这里描述的实施例做出各种改变和修改，而不会背离本公开的范围和精神。同样，为了清楚和简明，以下的描述中省略了对公知功能和结构的描述。需要说明的是，本公开的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本公开的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。为了协助用户进行行程规划，需要对用户的出行路线进行准确估时，即需要对组成路线的每个路段在未来不同时间的交通状况进行准确的预测。而同一路段在不同时刻的道路状态往往有较大的差别，例如某些通勤路段在工作日的早晚高峰时段会出现规律性拥堵，而在周末的早晚高峰时段却大多呈现畅通的状态；又例如某些突发事件导致的不同于其他任何时段的交通拥堵的道路状态。现有方案设计了基于时空注意力神经网络的交通预测模型，通过对路段的时空关系建模，预测路段在未来的通行能力。路段的空间属性主要来自对路网中路段的上下游道路关系的建模或对当前路段有明显影响的邻近路段的挖掘。路段的时间属性主要包括：对路段历史同期交通规律的建模；对路段当前时刻的实时交通规律的建模。图1是现有方案中的一种获取路段通行时长的方法示意图。如图1所示，现有方案是将道路属性特征、历史规律特征、实时道路状态特征和道路上下游特征融合在一起，通过多层感知器对路段的通行时长进行预测。其中，历史规律特征和实时道路状态特征均为时间属性信息。现有方案中对时间属性信息的融合无法针对不同场景，动态地选择使用历史规律特征或实时道路状态特征。对一些规律性强的交通场景如通勤场景或一些突发的交通状况导致历史规律失准的场景，无法准确的识别并进行时间属性信息的筛选和过滤，进而导致预测结果失准。现有方法无法灵活适用于不同的交通场景，存在对于路段通行时长的预测精度低下的技术问题。根据本公开实施例，提供了一种获取路段通行时长的方法，需要说明的是，在附图的流程图示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤。本公开实施例所提供的方法实施例可以在移动终端、计算机终端或者类似的电子设备中执行。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本公开的实现。图2示出了一种用于实现获取路段通行时长的方法的计算机终端的硬件结构框图。如图2所示，计算机终端200包括计算单元201，其可以根据存储在只读存储器202中的计算机程序或者从存储单元208加载到随机访问存储器203中的计算机程序，来执行各种适当的动作和处理。在RAM 203中，还可存储计算机终端200操作所需的各种程序和数据。计算单元201、ROM 202以及RAM 203通过总线204彼此相连。输入/输出接口205也连接至总线204。计算机终端200中的多个部件连接至I/O接口205，包括：输入单元206，例如键盘、鼠标等；输出单元207，例如各种类型的显示器、扬声器等；存储单元208，例如磁盘、光盘等；以及通信单元209，例如网卡、调制解调器、无线通信收发机等。通信单元209允许计算机终端200通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。计算单元201可以是各种具有处理和计算能力的通用和/或专用处理组件。计算单元201的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的计算单元、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。计算单元201执行本文所描述的获取路段通行时长的方法。例如，在一些实施例中，获取路段通行时长的方法可被实现为计算机软件程序，其被有形地包含于机器可读介质，例如存储单元208。在一些实施例中，计算机程序的部分或者全部可以经由ROM 202和/或通信单元209而被载入和/或安装到计算机终端200上。当计算机程序加载到RAM 203并由计算单元201执行时，可以执行本文描述的获取路段通行时长的方法的一个或多个步骤。备选地，在其他实施例中，计算单元201可以通过其他任何适当的方式而被配置为执行获取路段通行时长的方法。本文中描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。此处需要说明的是，在一些可选实施例中，上述图2所示的电子设备可以包括硬件元件、软件元件、或硬件元件和软件元件两者的结合。应当指出的是，图2仅为特定具体实例的一个实例，并且旨在示出可存在于上述电子设备中的部件的类型。在上述运行环境下，本公开提供了如图3所示的获取路段通行时长的方法，该方法可以由图2所示的计算机终端或者类似的电子设备执行。图3是根据本公开实施例提供的一种获取路段通行时长的方法流程图。如图3所示，该方法可以包括如下步骤：步骤S30，获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；上述目标路段可以为待预测通行时长的路段。例如，在为用户提供导航服务时，根据用户所在起始位置及用户标记的终点位置可以生成多条导航路线，目标路段可以为导航路线中的任一路段。上述道路属性信息可用于指示目标路段的道路属性，例如，道路属性信息可以包括目标路段的车道数、限速情况、长度、交通指示灯情况等。道路属性信息可以从电子地图中进行获取。上述时间属性信息可用于确定目标路段的历史规律特征和实时道路状态特征，时间属性信息可以从用户轨迹数据中获取。例如，目标路段的历史规律特征可以表现为在工作日的早晚高峰会出现规律性拥堵，在非工作日的早晚高峰时段处于畅通的状态。目标路段的实时道路状态特征可以表现为由于突发事件导致的不同于其他任何时段的交通拥堵的道路状态。上述空间属性信息可以根据目标路段的空间依赖关系获取，空间属性信息可用于确定目标路段的道路上下游特征，目标路段的道路上下游是与目标路段在空间上相邻的路段，上下游道路的通畅情况会对于目标路段的通行时长的预测产生影响。上述待预测目标时刻为进行目标路段通行时长预测的时刻。例如，待预测的目标时刻可以为用户当前的出行时刻，也可以为用户自定义在未来一段时间内的出行时刻。步骤S32，采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长；其中，目标神经网络模型使用多组数据通过机器学习训练得到，多组数据中的每组数据均包括：预设地理区域内不同路段的多维度属性信息和每个路段对应的实际通行时长。上述预设地理区域可以为以省份为划分依据的任一地理区域。例如，利用对于不同省份的道路网信息对目标神经网络模型进行机器学习训练时，筛选对应省份区域内有效的用户轨迹数据，进而获取不同路段的多维度的属性信息和每个路段对应的实际通行时长。利用多个省份的道路网信息构成目标神经网络模型的训练数据集，可以有效防止目标神经网络的过拟合，进一步提升目标神经网络模型的预测性能。上述多维度属性信息包括道路属性信息、时间属性信息、空间属性信息。上述每个路段对应的实际通行时长包括从电子地图中获取的用户轨迹数据中目标路段的通行时长真值。具体的，采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长的实现过程可以参照对于本公开实施例的进一步介绍，不予赘述。根据本公开上述步骤S30至步骤S32，通过获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长，达到了基于目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，以准确预测目标路段的通行时长的目的，实现了提升对于目标路段通行时长的预测精度的效果，从而解决了现有方案中对于路段通行时长的预测精度低下的技术问题。下面对上述实施例的获取路段通行时长的方法进行进一步介绍。作为一种可选的实施方式，获取路段通行时长的方法还包括：步骤S310，利用预设地理区域内不同路段的多维度属性信息对初始神经网络模型进行训练，得到预测通行时长；步骤S312，通过对预测通行时长与实际通行时长进行比较，得到误差；步骤S314，基于误差对初始神经网络模型进行调整，得到目标神经网络模型。根据本公开上述步骤S310至步骤S314，基于预设地理区域内不同路段的多维度属性信息对初始神经网络模型进行训练，得到预测通行时长，通过对预测通行时长与实际通行时长进行比较，得到误差，根据误差对初始神经网络模型进行调整得到目标神经网络模型，可以进一步提升目标神经网络模型的对目标路段通行时长的预测精度。作为一种可选的实施方式，在步骤S32，采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定目标路段的通行时长包括：步骤S320，通过道路属性信息确定道路属性特征，通过时间属性信息确定历史规律特征和实时道路状态特征，以及通过空间属性信息确定道路上下游特征；可选地，从电子地图中获取的用户轨迹数据，基于用户轨迹数据提取不同路段在过去几个月的通行能力信息，通过第一深度神经网络模型从时间属性信息中确定目标路段的历史规律特征。可选地，从电子地图中获取的用户轨迹数据，基于用户轨迹数据提取不同路段在当前时刻以及临近的一段时间内的通行能力信息，通过第二深度神经网络模型从时间属性信息中确定实时道路状态特征。需要说明的是，利用第一深度神经网络模型确定目标路段的历史规律特征以及利用第二神经网络模型确定目标路段的实时道路状态特征的实现过程可以参照现有方案的特征确定过程，不予赘述。步骤S322，利用第一原始输入特征和第二原始输入特征的特征融合结果确定待使用特征；其中，第一原始输入特征是历史规律特征对应的原始输入特征，第二原始输入特征是实时道路状态特征对应的原始输入特征，待使用特征为历史规律特征与实时道路状态特征中的任一特征。可选地，通过第一特征提取网络对第一原始输入特征进行处理可以获取历史规律特征，通过第二特征提取网络对第二原始输入特征进行处理可以获取实时道路状态特征。需要说明的是，第一特征提取网络和第二特征提取网络的具体处理过程可以参照现有技术中的特征处理过程，不予赘述。步骤S324，采用目标神经网络模型对道路属性特征、道路上下游特征和待使用特征进行特征融合，确定目标路段的通行时长。通过本公开上述步骤S320至步骤S324，采用目标神经网络模型对道路属性特征、道路上下游特征和待使用特征进行特征融合，确定目标路段的通行时长，通过灵活调整待使用特征，进而实现特征融合参数的根据不同的实际道路情况进行动态调整，使得目标神经网络模型具备动态预测目标路段通行时长的能力。作为一种可选的实施方式，在步骤S322，利用第一原始输入特征和第二原始输入特征的特征融合结果确定待使用特征包括：步骤S3220，利用第一原始输入特征和第二原始输入特征的特征融合结果确定目标阈值；可选地，目标阈值可以根据门限模块的输出结果获取。其中，门限模块可以通过捕捉目标路段的历史规律特征以及实时道路状态特征，识别当前场景，并进行时间属性信息的融合。上述目标阈值可以用于确定当前目标神经网络模型分别对历史规律特征和实时道路状态特征的倾向性。目标阈值可以使得目标神经网络模型具备在不同场景下对历史规律特征和实时道路状态特征的不同倾向性，进一步提升目标神经网络的预测精度。例如，目标阈值包括实时道路状态特征阈值和历史规律特征阈值，若倾向于实时道路状态特征，则实时道路状态特征阈值为0.9，历史规律特征阈值为0.1；反之亦然。在计算目标阈值时，实时道路状态特征阈值和历史规律特征阈值两者之和可以不为1，也可以为一个非单独的值，而是以隐向量的形式参与到计算。步骤S3222，基于目标阈值从历史规律特征和实时道路状态特征中选取待使用特征。作为一种可选的实施方式，在步骤S3220，利用第一原始输入特征和第二原始输入特征的特征融合结果确定目标阈值包括：步骤S40，将第一原始输入特征映射成第一隐向量，将第二原始输入特征映射成第二隐向量，以及将预测时间窗信息映射成第三隐向量，其中，预测时间窗信息依据待预测目标时刻确定；上述预测时间窗信息可以表示预测时间窗的序号。例如，以5分钟为一个预测时间窗的窗长，当预测未来5分钟时，预测时间窗信息为1；当预测未来60分钟时，预测时间窗信息为12。目标神经网络模型可以输出每个预测时间窗内的通行时长。可选地，利用全链接层将第一原始输入特征映射成第一隐向量，将第二原始输入特征映射成第二隐向量。其中，全链接层可用于将输入特征映射为高维空间的隐向量，即将显式特征转为目标神经网络模型可以学习的隐式特征，隐式特征可以替代性地描述为隐向量。可选地，利用嵌入层将预测时间窗信息映射成第三隐形量。例如，每5分钟为一个预测时间窗，使每一个预测时间窗对应一个隐向量。第三隐向量可以在目标神经网络模型的训练中不断优化。步骤S42，对第一隐向量，第二隐向量和第三隐向量进行向量拼接处理，得到拼接结果；步骤S44，对拼接结果进行特征融合处理，得到目标阈值。作为一种可选的实施方式，目标阈值的表示方式包括以下之一：显式的数值表示方式、隐式的向量表示方式。其中，以显式的数值表示方式可以增强目标神经网络模型的可解释性。例如，显式的数值表示方式就是给所有的隐向量乘以了0.1，而当历史规律特征倾向性更强时，对历史规律特征对应的第二隐向量乘以0.9，或者乘以1.2。下面结合图4对利用第一原始输入特征和第二原始输入特征的特征融合结果确定目标阈值的实现过程进行介绍。图4是根据本公开实施例的一种门限模块的结构示意图，如图4所示，在门限模块中，将第一原始输入特征经过全链接层映射成第一隐向量，将第二原始输入特征经过全链接层应设备第二隐向量，将预测时间窗信息映射成第三隐向量。进一步的，将第一隐向量，第二隐向量，第三隐向量进行向量拼接处理，得到拼接结果，利用多层感知器MLP对拼接结果进行特征融合处理，得到目标阈值δ。其中，多层感知器是多层全链接网络的串联，目标阈值δ可以表示为一个sigmoid函数，取值范围为，目标阈值δ可用以下公式表示：δ＝sigmoid公式下面结合图5对采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长的实现过程进行介绍。图5是根据本公开实施例的一种获取路段通行时长的方法示意图。如图5所示，门限模块通过获取的第一原始输入特征和第二原始输入特征，判断当前场景，确定当前目标神经网络模型分别对历史规律特征和实时道路状态特征的倾向性，该倾向性通过目标阈值表达。门限模块输出的目标阈值分别作用于历史规律特征和道路实时状态特征，从而实现在计算道路未来通行时间时动态选择更多依赖道路的历史通行规律，或是道路实时状态，即利用第一原始输入特征和第二原始输入特征的特征融合结果确定待使用特征。采用目标神经网络模型对道路属性特征、道路上下游特征和待使用特征进行特征融合，确定目标路段的通行时长。本公开通过对道路历史规律和实时道路状态建模，识别路段当前时刻的道路状态，并动态的对历史规律特征和实时道路状态特征进行特征融合。通过动态的使用历史规律信息和实时道路状态信息，提高目标神经网络模型交通预测的准确性，并提高目标神经网络模型应对突发事件的预测能力。在应用本公开提出的获取路段通行时长的方法后，预计到达时间精准率得到提升，明显改善在历史通行规律与实时通行能力差距较大场景下的预估效果。对路线的估时准确后可以明显提升用户的ETA感知和使用体验，同时为用户提供更好的路线规划服务，保障了用户在道路选择上的合理性，科学的指导了用户的出行。本公开通过获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长，达到了基于目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，以准确预测目标路段的通行时长的目的，实现了提升对于目标路段通行时长的预测精度的效果，从而解决了现有方案中对于路段通行时长的预测精度低下的技术问题。本公开的技术方案中，所涉及的用户个人信息的收集、存储、使用、加工、传输、提供和公开等处理，均符合相关法律法规的规定，且不违背公序良俗。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到根据上述实施例的方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本公开的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端设备执行本公开各个实施例所述的方法。在本公开中还提供了一种获取路段通行时长的装置，该装置用于实现上述实施例及优选实施方式，已经进行过说明的不再赘述。如以下所使用的，术语“模块”可以实现预定功能的软件和/或硬件的组合。尽管以下实施例所描述的装置较佳地以软件来实现，但是硬件，或者软件和硬件的组合的实现也是可能并被构想的。图6是根据本公开其中一实施例的一种获取路段通行时长的装置的结构框图，如图6所示，一种获取路段通行时长的装置600包括：获取模块601，确定模块602。获取模块601，用于获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；确定模块602，用于采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长；其中，目标神经网络模型使用多组数据通过机器学习训练得到，多组数据中的每组数据均包括：预设地理区域内不同路段的多维度属性信息和每个路段对应的实际通行时长。可选地，获取路段通行时长的装置600还包括：训练模块603，用于利用预设地理区域内不同路段的多维度属性信息对初始神经网络模型进行训练，得到预测通行时长；比较模块604，用于通过对预测通行时长与实际通行时长进行比较，得到误差；调整模块605，用于基于误差对初始神经网络模型进行调整，得到目标神经网络模型。可选地，确定模块602用于采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定目标路段的通行时长包括：通过道路属性信息确定道路属性特征，通过时间属性信息确定历史规律特征和实时道路状态特征，以及通过空间属性信息确定道路上下游特征；利用第一原始输入特征和第二原始输入特征的特征融合结果确定待使用特征，其中，第一原始输入特征是历史规律特征对应的原始输入特征，第二原始输入特征是实时道路状态特征对应的原始输入特征，待使用特征为历史规律特征与实时道路状态特征中的任一特征；采用目标神经网络模型对道路属性特征、道路上下游特征和待使用特征进行特征融合，确定目标路段的通行时长。可选地，确定模块602还用于利用第一原始输入特征和第二原始输入特征的特征融合结果确定待使用特征包括：利用第一原始输入特征和第二原始输入特征的特征融合结果确定目标阈值；基于目标阈值从历史规律特征和实时道路状态特征中选取待使用特征。可选地，确定模块602还用于利用第一原始输入特征和第二原始输入特征的特征融合结果确定目标阈值包括：将第一原始输入特征映射成第一隐向量，将第二原始输入特征映射成第二隐向量，以及将预测时间窗信息映射成第三隐向量，其中，预测时间窗信息依据待预测目标时刻确定；对第一隐向量，第二隐向量和第三隐向量进行向量拼接处理，得到拼接结果；对拼接结果进行特征融合处理，得到目标阈值。可选地，目标阈值的表示方式包括以下之一：显式的数值表示方式、隐式的向量表示方式。需要说明的是，上述各个模块是可以通过软件或硬件来实现的，对于后者，可以通过以下方式实现，但不限于此：上述模块均位于同一处理器中；或者，上述各个模块以任意组合的形式分别位于不同的处理器中。根据本公开的实施例，本公开还提供了一种电子设备，包括存储器和至少一个处理器，该存储器中存储有计算机指令，该处理器被设置为运行计算机指令以执行上述任一项方法实施例中的步骤。可选地，上述电子设备还可以包括传输设备以及输入输出设备，其中，该传输设备和上述处理器连接，该输入输出设备和上述处理器连接。可选地，在本公开中，上述处理器可以被设置为通过计算机程序执行以下步骤：S1，获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；S2，采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长。可选地，本实施例中的具体示例可以参考上述实施例及可选实施方式中所描述的示例，本实施例在此不再赘述。根据本公开的实施例，本公开还提供了一种存储有计算机指令的非瞬时计算机可读存储介质，该非瞬时计算机可读存储介质中存储有计算机指令，其中，该计算机指令被设置为运行时执行上述任一项方法实施例中的步骤。可选地，在本实施例中，上述非易失性存储介质可以被设置为存储用于执行以下步骤的计算机程序：S1，获取目标路段的道路属性信息、时间属性信息、空间属性信息以及待预测目标时刻；S2，采用目标神经网络模型对道路属性信息、时间属性信息和空间属性信息进行特征融合，确定待预测目标时刻对应的目标路段的通行时长。可选地，在本实施例中，上述非瞬时计算机可读存储介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。根据本公开的实施例，本公开还提供了一种计算机程序产品。用于实施本公开的音频处理方法的程序代码可以采用一个或多个编程语言的任何组合来编写。这些程序代码可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器或控制器，使得程序代码当由处理器或控制器执行时使流程图和/或框图中所规定的功能/操作被实施。程序代码可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本公开的上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其他实施例的相关描述。在本公开所提供的几个实施例中，应该理解到，所揭露的技术内容，可通过其它的方式实现。其中，以上所描述的装置实施例仅仅是示意性的，例如所述单元的划分，可以为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，单元或模块的间接耦合或通信连接，可以是电性或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本公开各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本公开的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本公开各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、只读存储器、随机存取存储器、移动硬盘、磁碟或者光盘等各种可以存储程序代码的介质。以上所述仅是本公开的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本公开原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本公开的保护范围。
