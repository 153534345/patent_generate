标题title
煤矿瓦斯巡检任务的生成分发方法和装置
摘要abst
本发明属于矿井安全信息化技术领域，具体涉及煤矿瓦斯巡检任务的生成分发方法和装置。该方法具体包括获取矿图中需要巡检的巷道以及第一巡检项目集；确定和需要巡检的巷道关联的可用瓦斯巡检机器人；基于可用瓦斯巡检机器人的位置信息和第一巡检项目集，生成煤矿瓦斯巡检任务集合，所述煤矿瓦斯巡检任务集合覆盖第一巡检项目集；分发煤矿瓦斯巡检任务集合中的煤矿瓦斯巡检任务；所述煤矿瓦斯巡检任务包括瓦斯巡检机器人在线时执行的任务以及离线时执行的任务。本发明的方法可以灵活实现巷道巡检任务的分配。
权利要求书clms
1.煤矿瓦斯巡检任务的生成分发方法，其特征在于，包括：获取矿图中需要巡检的巷道以及第一巡检项目集；确定和需要巡检的巷道关联的可用瓦斯巡检机器人；基于可用瓦斯巡检机器人的位置信息和第一巡检项目集，生成煤矿瓦斯巡检任务集合，所述煤矿瓦斯巡检任务集合覆盖第一巡检项目集；分发煤矿瓦斯巡检任务集合中的煤矿瓦斯巡检任务；所述煤矿瓦斯巡检任务包括瓦斯巡检机器人在线时执行的任务以及离线时执行的任务。2.如权利要求1所述的煤矿瓦斯巡检任务的生成分发方法，其特征在于，第一巡检项目集内的巡检项目包括途径路径信息和巡检项目信息，所述途径路径信息包括巡检起点、巡检终点和途径点。3.如权利要求1所述的煤矿瓦斯巡检任务的生成分发方法，其特征在于，所述获取和需要巡检的巷道关联的可用瓦斯巡检机器人的方法具体包括：获取目标巷道，所述目标巷道包括需要巡检的巷道和与需要巡检的巷道关联的巷道；根据每一目标巷道选择注册于目标巷道的候选瓦斯巡检机器人；根据每一目标巷道的巡检项目信息和候选瓦斯巡检机器人配置的传感器类型获取满足目标巷道巡检项目的可用瓦斯巡检机器人。4.如权利要求3所述的煤矿瓦斯巡检任务的生成分发方法，其特征在于，所述根据每一目标巷道选择注册于目标巷道的候选瓦斯巡检机器人的方法进一步包括：获取所有注册到巷道网络内的瓦斯巡检机器人，根据瓦斯巡检机器人是否处于闲置状态或所述瓦斯巡检机器人执行的巡检任务的路径覆盖目标巷道巡检任务的起点，得到注册于目标巷道的候选瓦斯巡检机器人。5.如权利要求3所述的煤矿瓦斯巡检任务的生成分发方法，其特征在于，所述根据每一目标巷道选择注册于目标巷道的候选瓦斯巡检机器人的方法进一步包括：获取所有注册到巷道网络内的瓦斯巡检机器人，在所述瓦斯巡检机器人执行的巡检任务覆盖第一巡检项目集中的一个以上的巡检项目时，更新需要巡检的巷道和所述第一巡检项目集。6.如权利要求3所述的煤矿瓦斯巡检任务的生成分发方法，其特征在于，所述关联巷道信息为根据矿图所选取的和巷道相连接的巷道信息，所述连接为在一个巷道内联通或者通过电梯间接联通。7.如权利要求6所述的煤矿瓦斯巡检任务的生成分发方法，其特征在于，所述通过电梯间接联通时，中间路径包括无线信号连续覆盖区域。8.如权利要求1所述的煤矿瓦斯巡检任务的生成分发方法，其特征在于，所述瓦斯巡检机器人的位置信息包括巷道信息以及其在巷道内的一维定位信息。9.如权利要求1所述的煤矿瓦斯巡检任务的生成分发方法，其特征在于，所述生成分发瓦斯巡检机器人的巡检任务的步骤包括：对所述第一巡检项目集按照优先级进行排序，按照任务优先级择一的设置执行巡检任务的瓦斯巡检机器人。10.如权利要求9所述的煤矿瓦斯巡检任务的生成分发方法，其特征在于，在设置执行巡检任务的瓦斯巡检机器人时，获取巡检任务对应巷道和关联巷道中注册的瓦斯巡检机器人，选择待执行任务的数目最少的瓦斯巡检机器人执行巡检任务。11.煤矿瓦斯巡检任务的生成分发装置，其特征在于，包括：巡检项目获取单元，用于获取矿图中需要巡检的巷道以及第一巡检项目集；可用瓦斯巡检机器人获取单元，用于确定和需要巡检的巷道关联的可用瓦斯巡检机器人；巡检任务生成单元，基于可用瓦斯巡检机器人的位置信息和第一巡检项目集，生成煤矿瓦斯巡检任务集合，所述煤矿瓦斯巡检任务集合覆盖第一巡检项目集；任务分配单元，用于分发煤矿瓦斯巡检任务集合中的煤矿瓦斯巡检任务；所述巡检任务包括瓦斯巡检机器人在线时执行的任务以及离线时执行的任务。
说明书desc
技术领域本发明属于矿井安全信息化技术领域，具体涉及煤矿瓦斯巡检任务的生成分发方法和装置。背景技术随着矿井智能化的提升，已经在矿井内配置了不同的机器人，然而，煤矿井下环境需要考虑的因素多，如瓦斯浓度、风速、压力、空气温度、粉尘浓度等都需要被定期的测量和更新。煤矿井下环境安全参数的监控分为人工监控和自动化监控两种方式，目前的人工监控存在的问题包括强度大、效率低、准确性差和安全的风险，因此，通过机器人替代人工进行巡检是一种趋势。甘吉平等公开了煤矿瓦斯巡检机器人方法及系统，在巷道交叉入口布设有线控显示终端；线控显示终端设置有UWB定位基站，每条巷道的底部也设置有UWB定位基站；还包括设置有UWB定位标签的多个巡检机器人；根据UWB定位基站形成每条巷道内的一维定位网络；根据巡检请求中对应的处理事项生成巡航命令；发送巡航命令至相匹配的巡检机器人；响应巡航命令在对应的目标位置进行巡航，并进行处理事项的信号探测；当信号探测正常时，巡检机器人将探测数据进行存储，巡航结束后将探测数据传输至线控显示终端；当信号探测不正常时，巡检机器人将探测数据通过无线通讯传输至线控显示终端；能够精准定位，简化巡检路线复杂性，降低运行难度提高操作安全性。上述团队提供的另外一个巡检集群系统包括多个瓦斯巡检机器人系统、云服务器和上位操作平台系统，瓦斯巡检机器人系统安装于瓦斯检查点，且每个瓦斯巡检机器人系统与云服务器有线或无线连接，云服务器与上位操作平台系统通讯，上位操作平台系统由多个计算机手机组成，对数据管理对设备控制；瓦斯巡检机器人用于检测并实时显示安装地点的瓦斯检查数据，同时将瓦斯检查数据和设定阈值比对，并且将瓦斯检查数据和比对结果上传至云服务器；通过多个现场检测、处理的瓦斯巡检机器人独立系统，并通过云服务器传送至上位操作平台系统中进行汇总分析，实现对多个独立现场系统集群的控制。马丽娟团队公开了全矿井一网一站综合监管系统，其中心站与核心交换机电连接，各环网万兆交换机依次顺序连接，处于首端和末端的环网万兆交换机分别与核心交换机连接，以组成环网；各综合管控分站之间以树形组网和/或环形组网的方式实现级联，任一环网万兆交换机独立连接至少一个综合管控分站。综合管控分站包括核心处理模块、模拟量输入模块、开关量输入模块、控制输出模块、有线及无线通信模块、读卡模块等。综合管控分站连有传感器、信息发布屏、无线终端、标识卡等。本发明采用万兆交换机组成环网传输，并以集成多功能的综合管控分站取代原有的独立基站，实现一网一站的紧凑信息化系统，为安全生产提供更有效的技术保障。然而上述的方案均存在一定的缺陷，涉及巡检机器人多为采购现有的产品，其无法根据煤矿巷道的实际进行灵活定制，灵活性较差，且实际操作过程中需要人工参与的场景较多，且未能和矿井实际的状况相契合；在信号良好且主控室可以控制的情况下，大多数的瓦斯巡检机器人可以完成设置的任务并可以动态更新，然而在断网或者信号不佳的情况下，其工作逻辑并不能按照较优的方式进行优化。发明内容本发明的一个目的在于克服现有技术的缺陷，提供一种煤矿瓦斯巡检任务的生成分发方法和装置，以克服现有技术中巡检机器人灵活性较差的缺陷，实现根据矿图进行风险的排查和巡检任务的安排，且巡检过程依赖于实际的巡检需求灵活改变。根据本发明的一个方面，本发明首先公开了一种煤矿瓦斯巡检任务的生成分发方法，包括：获取矿图中需要巡检的巷道以及第一巡检项目集；确定和需要巡检的巷道关联的可用瓦斯巡检机器人；基于可用瓦斯巡检机器人的位置信息和第一巡检项目集，生成煤矿瓦斯巡检任务集合，所述煤矿瓦斯巡检任务集合覆盖第一巡检项目集；分发煤矿瓦斯巡检任务集合中的煤矿瓦斯巡检任务；所述煤矿瓦斯巡检任务包括瓦斯巡检机器人在线时执行的任务以及离线时执行的任务。作为上述方案一种更好的选择，第一巡检项目集内的巡检项目包括途径路径信息和巡检项目信息，所述途径路径信息包括巡检起点、巡检终点和途径点。作为上述方案一种更好的选择，所述获取和需要巡检的巷道关联的可用瓦斯巡检机器人的方法具体包括：获取目标巷道，所述目标巷道包括需要巡检的巷道和与需要巡检的巷道关联的巷道；根据每一目标巷道选择注册于目标巷道的候选瓦斯巡检机器人；根据每一目标巷道的巡检项目信息和候选瓦斯巡检机器人配置的传感器类型获取满足目标巷道巡检项目的可用瓦斯巡检机器人。作为上述方案一种更好的选择，述根据每一目标巷道选择注册于目标巷道的候选瓦斯巡检机器人的方法进一步包括：获取所有注册到巷道网络内的瓦斯巡检机器人，根据瓦斯巡检机器人是否处于闲置状态或所述瓦斯巡检机器人执行的巡检任务的路径覆盖目标巷道巡检任务的起点，得到注册于目标巷道的候选瓦斯巡检机器人。作为上述方案一种更好的选择，所述根据每一目标巷道选择注册于目标巷道的候选瓦斯巡检机器人的方法进一步包括：获取所有注册到巷道网络内的瓦斯巡检机器人，在所述瓦斯巡检机器人执行的巡检任务覆盖第一巡检项目集中的一个以上的巡检项目时，更新需要巡检的巷道和所述第一巡检项目集。作为上述方案一种更好的选择，所述关联巷道信息为根据矿图所选取的和巷道相连接的巷道信息，所述连接为在一个巷道内联通或者通过电梯间接联通。作为上述方案一种更好的选择，所述通过电梯间接联通时，中间路径包括无线信号连续覆盖区域。作为上述方案一种更好的选择，所述瓦斯巡检机器人的位置信息包括巷道信息以及其在巷道内的一维定位信息。作为上述方案一种更好的选择，所述生成瓦斯巡检机器人的巡检任务的步骤包括：对所述第一巡检项目集按照优先级进行排序，按照任务优先级择一的设置执行巡检任务的瓦斯巡检机器人。作为上述方案一种更好的选择，在设置执行巡检任务的瓦斯巡检机器人时，获取巡检任务对应巷道和关联巷道中注册的瓦斯巡检机器人，获取待执行任务的数目最少的瓦斯巡检机器人执行巡检任务。根据本发明的另一个方面，本发明还公开了一种煤矿瓦斯巡检任务的生成分发装置，包括：巡检项目获取单元，用于获取矿图中需要巡检的巷道以及第一巡检项目集；可用瓦斯巡检机器人获取单元，用于获取和需要巡检的巷道关联的可用瓦斯巡检机器人；巡检任务生成单元，基于可用瓦斯巡检机器人的位置信息和第一巡检项目集，生成瓦斯巡检机器人的巡检任务，所述巡检任务覆盖第一巡检项目集；任务分配单元，用于将巡检任务发送至瓦斯巡检机器人；所述巡检任务包括瓦斯巡检机器人在线时执行的任务以及离线时执行的任务。作为上述方案一种更好的选择，所述巡检项目包括途径路径信息和巡检项目信息，所述途径路径信息包括巡检的起点、巡检终点和途径点。作为上述方案一种更好的选择，所述获取和需要巡检的巷道关联的可用瓦斯巡检机器人的方法具体包括：获取目标巷道，所述目标巷道包括需要巡检的巷道和与需要巡检的巷道关联的巷道；根据每一目标巷道选择注册于目标巷道的瓦斯巡检机器人；根据每一目标巷道的巡检项目信息和瓦斯巡检机器人配置的传感器类型获取满足目标巷道巡检项目的瓦斯巡检机器人。作为上述方案一种更好的选择，所述根据每一目标巷道选择注册于目标巷道的瓦斯巡检机器人的方法进一步包括：获取所有注册到巷道网络内的瓦斯巡检机器人，判断瓦斯巡检机器人是否处于闲置状态或所述瓦斯巡检机器人执行的巡检任务的路径覆盖目标巷道巡检任务的起点。作为上述方案一种更好的选择，所述根据每一目标巷道选择注册于目标巷道的瓦斯巡检机器人的方法进一步包括：获取所有注册到巷道网络内的瓦斯巡检机器人，在所述瓦斯巡检机器人执行的巡检任务覆盖第一巡检项目集中的一个以上的巡检项目时，更新需要巡检的巷道和所述第一巡检项目集。作为上述方案一种更好的选择，所述关联巷道信息为根据矿图所选取的和巷道相连接的巷道信息，所述连接为在一个巷道内联通或者通过电梯间接联通。作为上述方案一种更好的选择，所述通过电梯间接联通时，中间路径包括无线信号连续覆盖区域。作为上述方案一种更好的选择，所述瓦斯巡检机器人的位置信息包括巷道信息以及其在巷道内的一维定位信息。作为上述方案一种更好的选择，所述生成瓦斯巡检机器人的巡检任务的步骤包括：对所述第一巡检项目集按照优先级进行排序，按照任务优先级择一的设置执行巡检任务的瓦斯巡检机器人。作为上述方案一种更好的选择，在设置执行巡检任务的瓦斯巡检机器人时，获取巡检任务对应巷道和关联巷道中注册的瓦斯巡检机器人，获取待执行任务的数目最少的瓦斯巡检机器人执行巡检任务。本发明具有如下有益技术效果：1)本发明可以根据矿图获取需要巡检的巷道，并根据待巡检的巷道获取巡检项目，基于巡检项目获取匹配的瓦斯巡检机器人，从而使得巡检任务根据需要进行，提升了巡检业务的针对性；2)本发明可以根据巷道的风险点位确定巡检任务并选择合适的瓦斯巡检机器人进行巡检，通过配置巡检任务的优先级别和任务的分配优先级使得高优先级别的任务被优先巡检；3)本发明的任务巡检考虑了关联巷道，提高了巡检任务的覆盖率，降低了任务分配的复杂度,并且在配置任务时考虑井下的特殊情况，避免了仅考虑理想工况而导致的可用场景缺乏的问题。附图说明图1、本发明一个实施例内煤矿瓦斯巡检任务的生成分发方法流程示意图；图2、本发明一个实施例内获取可用瓦斯巡检机器人的方法流程示意图；图3、本发明一个实施例内获取可用瓦斯巡检机器人的方法流程示意图。具体实施方式下面将结合本发明实施例对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明针对的是井工开采的矿井巷道的巡检，所涉及的矿井包括多种危险因素，例如瓦斯气体、一氧化碳气体、二氧化碳气体、湿度、大气压强、温度、粉尘、风速传感器、红外传感器、视频摄像头、氧气浓度传感器、振动传感器，这些均可以通过巡检机器人进行获取，对于部分无法通过机器人进行采集获得的环境参数，例如开关量、触点、设备状态、震动情况，通过将设备接入传感器网络，也可以实现采集；部分的传感器可以通过组合获得进一步的信息，例如通过视频摄像头获得图像信息结合湿度、视频结合红外传感器、视频图像分析获得如自燃、突水、顶底板风险等信息；在理论场景中，在配置了合适的传感器后，即可以实现对于矿井安全信息的获取，然而，由于井下的环境较为恶劣，这些信息并不能被稳定获取，且井下湿度以及粉尘会影响部分数据的准确度，故需要配合巡检机器人进行。由于井下瓦斯灾害在我国属于主要灾害，本发明提供的实施例内机器人可以执行瓦斯的巡检以及其他灾害的辅助巡检。请参考图1，根据本发明的一个实施例所示的煤矿瓦斯巡检任务的生成分发方法，包括：获取矿图中需要巡检的巷道以及第一巡检项目集；确定和需要巡检的巷道关联的可用瓦斯巡检机器人；基于可用瓦斯巡检机器人的位置信息和第一巡检项目集，生成煤矿瓦斯巡检任务集合，所述煤矿瓦斯巡检任务集合覆盖第一巡检项目集；分发煤矿瓦斯巡检任务集合中的煤矿瓦斯巡检任务；所述煤矿瓦斯巡检任务包括瓦斯巡检机器人在线时执行的任务以及离线时执行的任务。本发明所称的矿图为数字矿图，常规的矿图包括采掘类、机电类、运输类、通防类、地测防治水类和安全类，每类矿图分别由若干图层组成，不同图层质检可以共享数据；在部分的矿井数字化改造中，已可以使用一张矿图来实现矿井的整体数字化，并且对于矿井的信息获取可以通过接口进行获取。本发明关注的信息集中于矿井的传感器信息获取，以巷道内瓦斯的监控为例，则一个巷道中可以包括多个瓦斯抽放泵站、压力传感器、风速传感器、一氧化碳传感器、温度传感器和氧气传感器，这些传感器分布在巷道内；则对应于数字矿图中的一个巷道，可以使用一个标识符对其进行标记；对于一个巷道内的每一个传感器，使用一个标识符对其进行标记，并且可以在数据库内进一步保存该传感器的类型、预期读数阈值上下限、设置位置、数据更新记录、历史数值；进一步的，由于传感器的数据可能保存在不同的目标数据库内，并且不同的数据依赖于不同的服务器进行处理，则可以进一步配置数据网关以对相应的历史数据进行读取和存储；对应于每一个巷道，可以借助于数字矿图和巷道内的定位装置进行定位，例如本发明使用多个传感器采用TDOA和AOA定位算法对标签位置进行分析,即UWB定位对瓦斯巡检机器人进行定位；则根据矿图和UWB可以实现在巡检路径上前、后、左和右四个维度上的定位。或者进一步的，在巷道内可以规划瓦斯巡检机器人的安全路线以执行离线任务。本发明的实施例中，所使用的瓦斯巡检机器人为轮式机器人，如果使用的是悬挂机器人，则相应的定位维度缩减至前和后。在从子巡检任务中获取第一个待执行子巡检任务时，应当通过规划路径使瓦斯巡检机器人移动至所执行任务的起始点。所述的数字矿图上可以进一步包括基础井巷网络图，包括如井筒、水平巷和综采工作面构成的矿井骨干巷道网络，以及如煤层底板等高线、采区、老空区和封堵区，综采工作面可以进一步包括当前采掘区的位置、形状、距离、所涉及的煤机类型和传感器，并且可以进一步在巷道内标记关键节点，如高风险瓦斯区测点、瓦斯异常涌出点、高瓦斯应力采掘面、温度异常区域、岩石巷道揭掘进面、巷道贯通点、氧气检查点、水流检查点、瓦斯检查点和测压点参数及参数值。前述的关键节点可以用于路径的进一步划分，如温度异常区域，则可以针对性配置红外传感器、视频传感器、一氧化碳传感器、二氧化碳传感器、压力传感器；而对于其他的区域，则可以减少传感器的配置，即不需要进一步采集和处理数据。本发明根据矿图的风险点位或者矿图规划的巡检计划获取需要巡检的巷道以及需要巡检的项目，在需要巡检的巷道确定时，由于瓦斯巡检机器人总是注册到巷道内的无线网络内，而无线网络受覆盖率的影响，总是和一个或者多个明确的巷道关联，故基于此可以根据无线网络内的终端名称或物理地址等信息获取巷道内分布的瓦斯巡检机器人。在瓦斯巡检机器人确定后，根据瓦斯巡检机器人的位置信息和待巡检任务可以生成巡检任务，该巡检任务包括待巡检的区域和任务类型，以及执行任务的瓦斯巡检机器人。在巡检任务确定后，相应的巡检任务可以下发至瓦斯巡检机器人以执行任务。在执行巡检时，由于不同巷道内配置了不同的风险点位，因此，在实际的巡检过程中，瓦斯巡检机器人可以将不同的巡检区间的数据发送至服务器，服务器可产生新的指令进行后续操作。显然，按此方式不仅使得巡检更加具备针对性，而且可以通过和服务器的交互实现针对性的巡检。例如在出现风险事件时，执行风险排除或者预警相关的操作。由于井下的环境较为恶劣，在理想环境下的通信环境在井下并不能够很好的工作，因此为巡检任务配置离线巡检任务和在线巡检任务，两者具有一致的标识符，即巡检区间标识，两者的巡检项目可以不一致，甚至巡检路径起始点也可以不一致，即在线和离线可以对应不同的任务，从而使巡检更具备针对性，即针对离线区域可以针对性的进行巡检，而对于常规区域仅关注常规信息即可。在执行具体的瓦斯巡检任务的生成时，也可首先判断是否有可用的瓦斯巡检机器人，这些瓦斯巡检机器人应当是未执行瓦斯巡检任务的机器人，尽管可以巡检调度任务即将完成即状态即将切换为可用的机器人，然而，可以通过设置较短的任务间隔来实现对于空闲瓦斯巡检机器人的重复利用。在一些情况下，可以为瓦斯巡检机器人设置多任务的模式，即设置任务序列，在一个巡检任务的终点或者路径和另外一个巡检任务存在重叠的路径时，将瓦斯巡检机器人视为可用的瓦斯巡检机器人。在本发明内，是将巷道和瓦斯巡检机器人绑定考虑，实际上，在部分巷道内，通过电梯、控制基站和路径规划可以实现跨巷道的瓦斯巡检机器人的调度。在本发明中，需要巡检的巷道可以按照安全规范进行设置，例如设置最小巡检间隔；或者依据物联网的数据确定目标巡检巷道，例如针对具有有异常或者根据数据分析具有异常可能性的巷道进行巡检。在依据巡检间隔或者异常提示数据进行待巡检巷道的选定时，相应的可以依据矿图选择待巡检巷道的风险信息和瓦斯巡检机器人的定位信息，生成瓦斯巡检机器人的巡检任务。巡检机器人实行执行的任务可以包括多个巡检任务，其中每一个巡检任务可以包括多个巡检子任务，这些子任务对应的巷道区间可以是连续的，也可以是不连续的，即瓦斯巡检机器人可以针对整个巷道进行巡检，以获得整个巷道的瓦斯信息和环境信息，或者针对性的进行采样，以获取关键点的信息。以关键点的信息为例，获取信息至少应当提供路径的起始点以及巡检结束点，并且在巡检子任务内配置其所使用的传感器类型和参考值。此处的参考值对于如湿度、温度、气体浓度可以是明确的数值，但是对于如图像可能具有不明确风险的环境信息，其可以设置为空，此时获取的所有的环境信息均处于阈值范围内。对于部分配置有人员识别模块的瓦斯巡检机器人，则可以对获取的图像信息进行进一步的处理，以获取是否存在人员以及人员是否存在危险操作，从而提供参数化的人员信息。由于井下的环境较为恶劣，在理想环境下的通信环境在井下并不能够很好的工作，另外，部分瓦斯巡检机器人并不设置图像传感装置，无法继续主动避障，因此为巡检任务配置离线巡检任务和在线巡检任务，两者具有一致的标识符，即巡检区间标识，两者的巡检项目可以不一致，甚至巡检路径起始点也可以不一致，即在线和离线可以对应不同的任务，从而使巡检更具备针对性，即针对离线区域可以更为针对性的进行巡检，而对于常规区域仅关注常规信息即可。另外，在执行离线任务时，由于可能出现底板、障碍或者信号问题，可以进一步的为离线巡检任务设置区别的巡检点，实现巡检和设备的安全运行。如在本发明的一个实施例中，所述的离线时任务的巡检终点为已巡检路径的起点。进一步的，所述离线时任务的途径路径点包括安全路线；或，离线时任务包括采集所有机载可用传感器的数据。根据本发明的一个实施例，第一巡检项目集内的巡检项目包括途径路径信息和巡检项目信息，所述途径路径信息包括巡检起点、巡检终点和途径点。所述途径路径信息包括巡检路径的起点、途径点和终点，所述途径点可以有多个，通过借助于UWB定位基站或者Rf-ID辅助定位可以实现10-30cm的定位精度，因而，瓦斯巡检机器人可以实现按照路径规划途径巡检点、按指定的速度途径巡检点并实现在指定巡检点位的停留，进而实现预期的巡检功能。由于巡检路径可以借助于矿图被规划，这使得按照借助于路径点实现预期巡检项目信息的采集成为可能，通过此方式可以进一步降低瓦斯巡检机器人的门槛，不需要为巡检机器人配置复杂的传感器和较强的计算能力，降低了瓦斯巡检机器人的发热量，从而提升了安全性，降低了成本。请参考图2，根据本发明的一个实施例，所述获取和需要巡检的巷道关联的可用瓦斯巡检机器人的方法具体包括：获取目标巷道，所述目标巷道包括需要巡检的巷道和与需要巡检的巷道关联的巷道；根据每一目标巷道选择注册于目标巷道的候选瓦斯巡检机器人；根据每一目标巷道的巡检项目信息和候选瓦斯巡检机器人配置的传感器类型获取满足目标巷道巡检项目的可用瓦斯巡检机器人。在本发明中，待巡检的项目包括温度信息、湿度信息、顶板平整度信息、底板平整度信息、红外信息、震动信息、压力信息、风速信息、氧浓度、烟雾信息、二氧化碳浓度、一氧化碳浓度、加速度信息和粉尘信息中的一种或多种。通过此方式可以实现对于巷道内主要涉及瓦斯和其他环境参数的采集，相应的传感器序列可以根据巷道面临灾害进行改变，在传感器处于可用状态时，可以针对性的关闭传感器降低功耗，避免引入风险源。通过对巡检任务中的路径进行划分，划分不同巡检路径内的巡检所用传感器，使得数据处理更具备针对性。在待巡检的目标巷道确定后，则可以根据此选择关联的巷道，例如通过调度实现瓦斯巡检机器人的动态分布，则不同巷道在空间上具备了关联性。针对于每一个目标巷道，通过获取其内注册的瓦斯巡检机器人可以将所有可用瓦斯巡检机器人纳入任务队列。由于瓦斯巡检机器人最终用于获取相关信息，通过判断瓦斯巡检机器人是否满足传感器的配置需求，如一个瓦斯巡检机器人满足至少一个巡检项目的需求，则其可以纳入任务队列。进一步，通过对电量进行判断，可以避免瓦斯巡检机器人意外的在巷道中终止巡检。若考虑巷道内的障碍因素，例如底板不平整、障碍物的存在以及其他风险因素，则可以考虑结合视频分析以确定可用瓦斯巡检机器人。根据本发明的一个实施例，所述根据每一目标巷道选择注册于目标巷道的候选瓦斯巡检机器人的方法进一步包括：获取所有注册到巷道网络内的瓦斯巡检机器人，根据瓦斯巡检机器人是否处于闲置状态或所述瓦斯巡检机器人执行的巡检任务的路径覆盖目标巷道巡检任务的起点，得到注册于目标巷道的候选瓦斯巡检机器人。所述的闲置状态为当前无待执行的任务且随时可用。在辅助以电量判断时，所述的闲置状态可以进一步考虑电量的因素，如剩余电量大于20%阈值时，视为闲置的状态。可以根据矿图中巷道的风险类型确定待巡检的项目，并基于此选择瓦斯巡检机器人，此过程中如无法覆盖待巡检的项目，则可以启动相应的机器人调度以完成巡检。请参考图3，根据本发明的一个实施例，所述根据每一目标巷道选择注册于目标巷道的候选瓦斯巡检机器人的方法进一步包括：获取所有注册到巷道网络内的瓦斯巡检机器人，在所述瓦斯巡检机器人执行的巡检任务覆盖第一巡检项目集中的一个以上的巡检项目时，更新需要巡检的巷道和所述第一巡检项目集。由于部分瓦斯巡检机器人实际执行的任务覆盖了预期调度的任务，则在相应任务完成后，重复执行相应的任务会造成重复巡检，因此可以对执行中的任务进行筛选，在其覆盖第一巡检项目集中的一个以上的巡检项目时，更新需要巡检的巷道和所述第一巡检项目集，例如将重叠的巡检项目从第一项目集中删除。由于执行后的任务总是被更新至矿图，相应的巡检项目也会发生变化，因此上述的处理方式在移除重叠任务后至巡检任务被完成前，如果进行了新的巡检任务的规划，相应的任务会被重新添加至任务列表内，从而避免了任务的遗漏。因而，可以选择合适的计划任务的时间间隔来规避潜在的任务遗漏缺陷。根据本发明的一个实施例，所述瓦斯巡检机器人的位置信息包括巷道信息以及其在巷道内的一维定位信息。如前所述，通过借助于UWB定位基站可以实现10-30cm的定位精度，此时通过提供一维定位信息结合待巡检项目可以实现路径的规划。在配置高精度的定位以及导航装置时，可以基于矿图设置较为安全的巡检路线作为瓦斯巡检机器人的安全线路，以及基于离线时，基于已巡检路径设置返回路径至巡检起点。根据本发明的一个实施例，所述关联巷道信息为根据矿图所选取的和巷道相连接的巷道信息，所述连接为在一个巷道内联通或者通过电梯间接联通。所述在一个巷道内联通为处于同一巷道内且瓦斯巡检机器人可以通过巷道进行巡检；所述通过电梯间接联通为通过电梯将不同的巷道连接，通过电梯间接联通的，应当确保连接通道上有良好的无线连接以及与余电。根据本发明的一个实施例，所述通过电梯间接联通时，中间路径包括无线信号连续覆盖区域。所述无线信号为4G、5G或Wi-Fi6。在本发明所应用的部分矿井内，使用了UWB或者ZigBee的方式对设备进行导航。所述中间路径指的是将两个巷道连接起来的路径，如电梯及关联通道。根据本发明的一个实施例，所述瓦斯巡检机器人的位置信息包括巷道信息以及其在巷道内的一维定位信息。在大部分的情况下，可以根据瓦斯巡检机器人的一维定位信息进行巡检。在特殊情况下，例如需要考虑在行进方向上的偏移，则可以通过引入其他的定位装置或者通过对算法改进，控制其在行进方向的偏移。根据本发明的一个实施例，所述巡检的巷道为根据矿图的巡检计划任务确定。所述巡检计划任务包括巷道平整度的巡检、温度的巡检、湿度的巡检、通风巡检、粉尘浓度的巡检、震动的巡检、二氧化碳浓度的巡检。相应的巡检任务可以依据巡检区间内配置的传感器而创建，例如在配置温度传感器时，可以设置相应的时间间隔以执行温度的巡检。所述巡检计划任务进一步包括优先级，在资源不满足同时巡检时，优先巡检高优先级的项目。根据本发明的一个实施例，所述生成瓦斯巡检机器人的巡检任务的步骤包括：对所述第一巡检项目集按照优先级进行排序，按照任务优先级择一的设置执行巡检任务的瓦斯巡检机器人。所述的巡检任务可以设置有优先级，通过先分配高优先级的任务，可以保证在所述的瓦斯巡检机器人按照次序执行任务时，高优先级的任务总是先被执行。在分配任务时，一个巡检任务总是被择一的分配，避免了任务的重复调度。根据本发明的一个实施例，在设置执行巡检任务的瓦斯巡检机器人时，获取巡检任务对应巷道和关联巷道中注册的瓦斯巡检机器人，选择待执行任务的数目最少的瓦斯巡检机器人执行巡检任务。近似的，可以根据瓦斯巡检机器人所执行的任务数目确定执行巡检任务的顺序，通过先分配巡检任务至低负荷的瓦斯巡检机器人，可以保证在瓦斯巡检机器人都有合适的负荷。本发明还进一步公开了一种煤矿瓦斯巡检任务的生成分发装置生成分发装置，包括：巡检项目获取单元，用于获取矿图中需要巡检的巷道以及第一巡检项目集；可用瓦斯巡检机器人获取单元，用于确定和需要巡检的巷道关联的可用瓦斯巡检机器人；巡检任务生成单元，基于可用瓦斯巡检机器人的位置信息和第一巡检项目集，生成煤矿瓦斯巡检任务集合，所述煤矿瓦斯巡检任务集合覆盖第一巡检项目集；任务分配单元，用于分发煤矿瓦斯巡检任务集合中的煤矿瓦斯巡检任务；所述巡检任务包括瓦斯巡检机器人在线时执行的任务以及离线时执行的任务。对于本领域技术人员而言，显然本发明不限于上述示范性实施例的细节，而且在不背离本发明的精神或基本特征的情况下，能够以其他的具体形式实现本发明。因此，无论从哪一点来看，均应将实施例看作是示范性的，而且是非限制性的，本发明的范围由所附权利要求而不是上述说明限定，因此旨在将落在权利要求的等同要件的含义和范围内的所有变化囊括在本发明内，不应将权利要求中的任何标记视为限制所涉及的权利要求。
