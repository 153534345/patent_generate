标题title
港池入口波浪多要素的中长期实时预测方法、系统及应用
摘要abst
本发明属于波浪信息预测技术领域，公开了港池入口波浪多要素的中长期实时预测方法、系统及应用。所述预测方法包括：基于滑动窗口构建数据集，建立三路输入特征融合深度神经网络：一路利用长短期记忆网络LSTM来学习港池入口处波浪多要素的历史时序规律，二路采用定制的二维风浪特征提取模块捕捉港外周边广大海域波浪与风场多个要素的历史时序时空特征，三路对当前时刻进行时间多尺度编码来提取周期性特征。本发明改进了目前深度学习方法预测单一时间尺度下的单一波浪要素和传统数值模式无法实时预测的现状，实现任意港池入口处波浪多要素的中期、中长期和长期序列的实时预测，且中期到长期的预测效果优于目前主流的机器学习模型。
权利要求书clms
1.一种港池入口处海洋波浪多要素的中长期时序实时预测方法，其特征在于，该方法包括以下步骤：步骤一，数据集准备：获取或生成港池入口处的波浪多要素历史时序数据，获取或生成目标港池外周边海域的二维波浪和风场多个要素的历史时序数据，并进行预处理；基于滑动窗口构建三路输入一路输出的向量数据集，并将该向量数据集划分为训练集、验证集和测试集；步骤二，深度神经网络模型的搭建、训练、验证、测试：分别搭建三路输入的中期、中长期和长期时序预测的深度网络模型，第一路是利用长短期记忆网络来学习港池入口处波浪多要素的连续历史序列中隐含的模式规律，第二路采用融合了通道注意力和空间注意力的2个定制的二维风浪特征提取模块捕捉港外周边海域二维波浪与风场多个要素的连续历史序列中的时空规律特征，第三路则对当前时刻进行时间多尺度编码来提取相关的时间周期性特征，三路特征拼接融合后输出港池入口处未来多个连续时刻的波浪多要素的预测结果；再对构建的三个深度神经网络模型进行迭代训练、验证和测试，直到建成用于中期、中长期和长期预测的三个深度神经网络模型。2.根据权利要求1所述的港池入口处海洋波浪多要素的中长期时序实时预测方法，其特征在于，在步骤一中，所述数据集准备，具体包括：确定目标港池，获取或生成港池入口处的波浪多要素多年历史时序数据，包括：有效波高、峰值波周期、平均波方向的东西分量、平均波方向的南北分量、波浪谱宽度；获取或生成目标港池外周边海域内多年的二维波浪和风场多个要素的历史时序数据，包括：风速的东西分量、风速的南北分量、以及港外周边海域二维波浪的有效波高、峰值波周期、平均波方向的东西分量、平均波方向的南北分量、波浪谱宽度；进行缺失值的局部反距离加权插值处理,进行数据去季节性和归一化处理，将数据转化为0到1之间的无量纲的小数；基于滑动窗口遍历每一个时刻，并对每一个时刻构建三路输入和一路输出的数据集；将基于滑动窗口构建好的所有向量数据集随机抽取80%为训练集，10%为验证集，10%为测试集，用于深度神经网络模型的搭建、训练、验证和测试。3.根据权利要求2所述的港池入口处海洋波浪多要素的中长期时序实时预测方法，其特征在于，在步骤中，所述进行缺失值的局部反距离加权插值处理，具体包括：1）计算未知点到选定的局部区域内所有网格点的距离2）计算权重3）计算待求的插值点的值其中，为已知下载的若干网格化数据，为网格化数据对应的属性值，为估计空间中缺失的任意一位置点，为估计空间中缺失的任意一位置点的属性值。4.根据权利要求2所述的港池入口处海洋波浪多要素的中长期时序实时预测方法，其特征在于，在步骤中，所述进行数据去季节性和归一化处理，具体包括：遍历全部数据的时刻，并将当前时刻对应的属性值减去全部数据中历史年份相同月份的属性值的平均值的差值，再除以其标准差，作为当前时刻的去季节性之后归一化的值，参与标准差计算的均值是取上一步计算求得的月均值：。5.根据权利要求2所述的港池入口处海洋波浪多要素的中长期时序实时预测方法，其特征在于，在步骤中，所述构建三路输入和一路输出的数据集，具体包括：第一路进行基于宽度大小的滑动窗口逐时刻遍历，截取出当前时刻及其之前总共个时刻的港池入口处波浪多要素的连续历史序列向量，作为深度学习模型的第一路网络的输入向量；第二路进行基于宽度大小的滑动窗口逐时刻遍历，截取当前时刻及其之前总共个时刻的港外周边海域二维波浪与风场多个要素的连续历史序列向量，作为深度学习模型中第二路定制的二维风浪特征提取模块的输入；第三路是在滑动窗口遍历过程中，对每一个遍历到的当前时刻对应的月份和小时进行基于正弦和余弦函数的时间多尺度编码成向量，作为深度学习模型第3路的输入；最后一路输出则是在基于大小的滑动窗口逐时刻遍历的同时，截取之后中期、中长期和长期各时间区间段对应的未来个连续时刻的港池入口处波浪多要素的序列向量；遍历完所有时刻，这样则基于滑动窗口构建完毕向量数据集，与神经网络中的三路输入和一路输出对应，为训练做好准备。6.根据权利要求5所述的港池入口处海洋波浪多要素的中长期时序实时预测方法，其特征在于，所述在滑动窗口遍历过程中，月份信息通过正弦函数和余弦函数编码成维度为2的向量：1月是，2月是，以此类推，小时编码成维度为2的向量，总共构成维度为4的向量。7.根据权利要求2所述的港池入口处海洋波浪多要素的中长期时序实时预测方法，其特征在于，在步骤中，深度神经网络模型的搭建、训练、验证和测试，具体包括：搭建神经网络模型：分别搭建三路输入的中期、中长期和长期时序预测的深度网络模型，第一路将目标港池入口处前个连续时刻的波浪多要素时序向量输入长短期记忆网络，学习港池入口处波浪多要素的连续历史序列中隐含的模式规律；第二路将前个连续时刻的港外周边海域二维波浪与风场要素的时序向量输入融合通道注意力和空间注意力的2个定制的二维风浪特征提取模块，降维后得到风浪特征图再经过一个全连接层和一个激活函数，学习港外周边海域二维波浪与风场历史序列中的时空变化规律；第三路将当前时刻的月份和小时进行时间多尺度编码得到向量，向量跟以上两路输出的特征进行拼接并输入堆叠全连接层，输出港池入口处未来个连续时刻的波浪多要素的预测结果；初始化深度神经网络模型；将训练集中的所有基于滑动窗口构建的向量数据集以B为单位划分成多个；设置训练轮数以及学习率，梯度下降优化器使用；设置损失函数为均方误差，公式如下：式中，是样本的个数，是第个真实样本，是第个估计样本；训练深度神经网络模型；训练三个神经网络分别预测未来中期、中长期和长期三种情况的时序的港池入口处波浪多要素；首先进行中期的网络模型的训练，在一次迭代中，将所有的逐个输入到神经网络并使用损失函数计算误差，使用优化器更新模型中每个层的权重，连续多次迭代没有损失函数下降，则停止训练；然后结合迁移学习的方法进行中长期和长期的2个网络模型的训练，即读取中期的网络模型的权重作为中长期网络模型的权值初始化，读取中长期的网络模型的权重作为长期网络模型的权值初始化，后两个网络模型训练的最大迭代次数均降为中期模型训练时的一半，除此之外其他参数和步骤与中期模型的训练相同；深度神经网络模型验证；使用验证集对中期、长期和中长期三个深度神经网络模型分别进行超参数调整，评价指标采用平均绝对误差，平均绝对百分比误差，均方误差和相关系数，根据多次对比实验结果，最终确定最佳的深度神经网络模型；模型测试；对于中期、长期和中长期的模型分别选择在验证集上表现最好的深度神经网络模型，在测试集上进行进一步测试深度神经网络模型在未知数据集上的表现；若预测性能较好，则将评估后的深度神经网络模型用于目标港池入口处波浪多要素的预测，否则重复深度神经网络模型迭代训练和验证过程。8.一种实施权利要求1-7任意一项所述港池入口处海洋波浪多要素的中长期时序实时预测方法的系统，其特征在于，该港池入口处海洋波浪多要素的中长期时序实时预测系统包括：数据集准备模块，获取或生成目标港池入口处的波浪多要素连续历史时序数据以及港外周边海域的二维波浪和风场要素的连续历史时序数据，并进行缺失值的反距离加权插值处理、数据去季节性和归一化处理；基于滑动窗口构建对应的向量数据集，并将该向量数据集划分为训练集、验证集和测试集；深度神经网络模型的搭建、训练、验证和测试模块，用于分别搭建三路向量输入的中期、中长期和长期时序预测的深度神经网络模型，第一路将港池入口处前个连续时刻的波浪要素特征输入长短期记忆网络，学习港池入口处波浪多要素的连续历史序列中隐含的模式规律；第二路将前个连续时刻的港外周边海域二维波浪与风场要素特征输入融合通道注意力和空间注意力的2个定制的二维风浪特征提取模块，学习近岸二维波浪与风场的时空变化规律；第三路将当前时刻的月份和小时进行时间多尺度编码来学习港池入口处波浪多要素的周期性，三路特征拼接融合后输出港池入口处未来个连续时刻的波浪多要素的预测结果；再在训练集上分别进行中期、中长期和长期三个预测模型的迭代训练和在验证集上分别进行三个模型超参数调整，对于中期、长期和中长期的模型分别选择在验证集上表现最好的深度神经网络模型作为最终选定的最佳网络模型，并在测试集上分别评估三个最佳模型的性能，若预测性能好，则将评估后的深度神经网络模型用于目标港池入口处波浪多要素的中长期时序实时预测，否则重复模型迭代训练和验证过程，直到建成高质量的用于中期、中长期和长期时序实时预测的深度神经网络模型。9.一种计算机设备，其特征在于，所述计算机设备包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行权利要求1-7任意一项所述港池入口处海洋波浪多要素的中长期时序实时预测方法。10.一种计算机可读存储介质，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行权利要求1-7任意一项所述港池入口处海洋波浪多要素的中长期时序实时预测方法。
说明书desc
技术领域本发明属于波浪信息预测技术领域，尤其涉及港池入口波浪多要素的中长期实时预测方法、系统及应用。背景技术海洋波浪影响各种海洋活动，例如港外近岸的波浪可能破坏海岸的建筑和工程设施，港池内的波浪会对船只的安全停靠、作业和航行造成影响，而专利CN114519311A提到港池内的波浪状况直接依赖于港池入口处涌入的波浪多个要素状况的影响，如港池入口处的波浪要素可以包括有效波高、峰值波周期、平均波方向、波浪谱宽度等多个要素参数，这些参数与港池的地形共同作用，形成了港池内的波浪。专利CN114519311A也提到，目前港内波浪的实时预测要么需要在港池外的入口处布置专门监测港池外涌入波浪状况的浮标设备，成本高且维护困难；要么利用开源的可利用的或者数值模型数据生成的港池外入口处的波浪要素数据，但是开源的可利用的港池入口处的波浪要素数据往往有较长时间的滞后，而纯依赖数值模型的数据则由于需要较长的解算时间而无法实时预测出波浪多要素状况；此外，专利CN114519311A中提到的港内波高预测方法只是预测当前时刻之后的下一个时刻的预测而不是做多个连续时刻的波浪要素的预测，具体来说它是通过当前时刻的港池入口处单点港外波浪和风场数据以及多尺度时间编码来预估当前时刻的下一个时刻的全港池内的波浪有效波高，因此本专利聚集于发明一种低成本的港池入口处的可靠和高效的波浪多要素中长期时序实时预测模型，即不需要投入高成本的浮标，便可实时地预测出港池入口处较长时间内的连续多个时刻的波浪多要素状况，将其作为专利CN114519311A中港内波高预测的输入数据，则能获得低成本的高质量港内波浪状况的时序实时预测，即当前时刻往后的个连续时刻的港内波浪状况的时序实时预测，且港池入口处预测时序的时长越长，则能更早的预知港内波浪的状况，也就相应会有更充足的时间来进行作业调度、港口管理及应急预案等，对港口管理和经济发展将带来巨大的促进。再者，港池入口处近岸波浪的中长期时序实时预测也有助于近岸工程设施的保护和防灾减灾提前预案，降低人员和经济损失。其中港池入口处波浪预测方法现有技术有基于数值模型和基于机器学习的方法。目前的海浪预报使用不需要对谱型进行限制的第三代海浪模式进行预报，代表性的近岸波浪预报的数值模型是基于谱作用平衡方程的第三代相位平均风浪模型，因此能较好的模拟港外风浪传播并预测港池入口处波浪要素的变化，可将基于谱作用平衡方程的第三代相位平均风浪模型和基于布西尼斯克方程的发威真实垂直深度数值模型联合起来实现港池入口处的波浪预报。但是基于数值模型的预测方法需要大量的计算时间，无法做到实时预测。基于机器学习方法的波浪预测避免了数值模拟方法的复杂计算，可以应用于实时预测。基于机器学习方法的近岸波浪预测的代表性研究主要有等人使用深度置信网络和迁移学习方法预测墨西哥湾、韩国地区和英国地区的监测站的海浪状态，预测结果优于极限学习机、支持向量回归和最小资源分配网络；戴昊等人使用受限玻尔兹曼机-深度置信网络和粒子群优化算法实现了有义波高的高效短期预测。近几年来，人工神经网络广泛用于波浪预测领域，等人使用人工神经网络预测了奥尔巴尼南部的短期确定性波浪，并与基于线性波理论的模型作为基准模型比较，误差在20%以内。周涛等发明了一种基于小波分解和人工神经网络的海浪波高预测方法，将浮标观测的波高时间序列进行小波分解重构，利用进行训练并在测试样本上测试；目前，长短期记忆网络是另一种主流的深度学习波浪预测方法。例如：郝伟等人基于长短期记忆网络完成单个监测站点的有效波高预测，并开展对比实验发现长短期记忆网络在未来6小时的短期预测性能优于自回归方法和方法；等人提出了一种基于长短期记忆网络的有效波高快速预测方法，对另一监测站点进行了12小时、1天、2天、3天共4个时段的预测，表明比反向传播神经网络、支持向量机、随机森林和极限学习机具有更好的预测性能。随后在基础上发展起来的门控循环神经网络也在波浪预测领域得到应用，如等人使用门控循环神经网络预测未来短期时长的台湾海峡及其附近海域六个浮标站的有效波高，结果优于神经网络、支持向量机和极限学习机。通过上述分析，现有技术存在的问题及缺陷为：传统的基于数值模拟预测近岸波浪的方法，依赖于研究者的专业知识和经验，需要充分针对到地形，海底摩擦、波浪破碎等因素，因此需要充足的且高质量的水深资料和研究地区的环境数据，否则只根据经验设置的初始参数或边界条件等会直接影响模拟结果的准确性；该方法还需要花费大量的时间模拟计算波浪的传播和演化过程，因而无法满足实时预测的需要。目前多数的近岸波浪预测只是对某监测站点的单一波浪要素的预测，而港池内波高等波浪状况是受到港池入口处的多个波浪要素共同作用的结果，因此实现同时对港池入口处多个波浪要素的实时预测这也是本发明要解决的另一重要问题。基于机器学习预测近岸波浪要素的方法，基本只针对了监测站点处的波浪要素历史信息，获得短期预测效果较好但中长期预测效果欠佳，而实际影响波浪要素的相关因素较多，如港池入口处的波浪要素还受到目标港外周边广大范围内的风场和从外海传播来的波浪状况的影响，如何有效引入和捕获这多个影响因素的特征以改进波浪要素中长期预测的精度，满足实际港口调度和应急预案的长时间需要，因此实现同时对港池入口处多个波浪要素的中长期时序实时预测十分必要，这也是本发明重点要解决的问题。目前近岸波浪要素的预测，基本是在单一时间尺度下对监测站点的波浪高度的预测，没有针对在不同时间尺度下波浪多要素的变化会呈现不同的规律，如何构建预测模型能高效捕获和学习出波浪要素在不同时间尺度下的周期性特征，也是本发明要解决的问题。解决以上问题及缺陷的意义为：构建和训练好深度神经网络模型预测港池入口处的波浪多要素信息，无需使用者具备领域先验知识和专业经验，且能做到实时预测。深度神经网络模型的建立不仅针对了历史的波浪有效波高信息，还将峰值波周期、平均波方向、波浪谱宽度等多个波浪要素的历史信息输入到深度神经网络模型中，通过大量的模型训练调参和评估，最终获得后续中长期时序的港池入口处的多个波浪要素预测，该预测结果进一步可以直接用于专利CN114519311A中的港内有效波高等的估计和预测。融合了港池入口处的波浪要素历史信息、港外周边较大区域的波浪和风场历史信息共同输入深度神经网络模型，获得在中长期预测性能上优于只基于港池入口处波浪要素历史信息的主流方法。引入时间多尺度编码信息，让深度神经网络模型学习到港外传播来的波浪的不同尺度下的周期性等更加丰富的时间特征，提升预测质量。发明内容为克服相关技术中存在的问题，本发明公开实施例提供了一种港池入口处海洋波浪多要素的中长期时序实时预测方法、系统、计算机设备及存储介质，可以在缺少现场观测浮标时，快速准确预测出港池入口处的波浪状况的时序变化情况，直接服务于港池内的波高估计和预测，并且辅助海岸工程、航运规划和港池作业。所述技术方案如下：一种港池入口处海洋波浪多要素的中长期时序实时预测方法包括以下步骤：步骤一，数据集准备：获取或生成港池入口处的波浪多要素历史时序数据，获取或生成目标港池外周边广大海域的二维波浪和风场多个要素的历史时序数据，并进行预处理；基于滑动窗口构建三路输入一路输出的向量数据集，并将该向量数据集划分为训练集、验证集和测试集；步骤二，深度神经网络模型的搭建、训练、验证、测试：分别搭建三路输入的中期、中长期和长期时序预测的深度网络模型，第一路是利用长短期记忆网络来学习港池入口处波浪多要素的连续历史序列中隐含的模式规律，第二路采用融合了通道注意力和空间注意力的2个定制的二维风浪特征提取模块捕捉港外周边广大海域二维波浪与风场多个要素的连续历史序列中的时空规律特征，第三路则对当前时刻进行时间多尺度编码来提取相关的时间周期性特征，三路特征拼接融合后输出港池入口处未来多个连续时刻的波浪多要素的预测结果；再对构建的三个深度神经网络模型进行迭代训练、验证和测试，直到建成高质量的用于中期、中长期和长期预测的三个深度神经网络模型。在一实施例中，在步骤一中，所述数据集准备具体包括以下步骤：确定目标港池，获取或生成港池入口处的波浪多要素多年历史时序数据包括：有效波高、峰值波周期、平均波方向的东西分量、平均波方向的南北分量、波浪谱宽度等多个属性；获取或生成目标港池外周边广大海域内多年的二维波浪和风场多个要素的历史时序数据包括：风速的东西分量、风速的南北分量、以及港外周边广大海域二维波浪的有效波高、峰值波周期、平均波方向的东西分量、平均波方向的南北分量、波浪谱宽度构成的多个属性；进行缺失值的局部反距离加权插值处理、数据去季节性和归一化处理，这样将数据转化为0到1之间的无量纲的小数；基于滑动窗口遍历每一个时刻，并对每一个时刻构建三路输入和一路输出的数据集；将基于滑动窗口构建好的所有向量数据集随机抽取80%为训练集，10%为验证集，10%为测试集，用于接下来深度神经网络模型的搭建、训练、验证和测试。在一实施例中，在步骤中，所述进行缺失值的局部反距离加权插值处理，具体计算过程如下：已知下载的若干网格化数据及其对应的属性值，则其估计空间中缺失的任意一位置点对应的属性值，考虑到精度高和计算快，这里采用局部反距离加权插值，具体计算过程如下：1）计算未知点到选定的局部区域内所有网格点的距离2）计算权重3）计算待求的插值点的值在一实施例中，在步骤中，所述进行数据去季节性和归一化处理，具体计算过程如下：遍历全部数据的时刻，并将当前时刻对应的属性值减去全部数据中历史年份相同月份的属性值的平均值的差值，再除以其标准差，作为当前时刻的去季节性之后归一化的值，这里参与标准差计算的均值是取上一步计算求得的月均值：。在一实施例中，在步骤中，所述基于滑动窗口遍历每一个时刻，并对每一个时刻构建三路输入和一路输出的数据集，具体包括：1）深度学习模型的第一路网络的输入向量，是进行基于宽度大小的滑动窗口逐时刻遍历，截取出当前时刻及其之前总共个时刻的港池入口处波浪个要素对应的波浪序列向量，的维度是；2）深度学习模型中第二路为定制的二维风浪特征提取模块的输入，是进行基于大小为宽度的滑动窗口逐个时刻遍历，截取当前时刻及其之前共个时刻的港外周边广大海域二维波浪与风场共个要素的连续历史序列向量，定义港外周边广大海域的网格分辨率为，则的维度是；不同于现有公开专利CN114519311A中提到的港外波浪数据和港外风场数据仅限于港池入口处位置的当前时刻的单点数据，本发明是提出的模型所用到的是港外周边广大海域二维波浪与风场的时序数据，即前个连续时刻的二维波浪与风场数据；3）深度学习模型第三路的输入，是在滑动窗口遍历过程中，对遍历到的当前每一个时刻对应的月份和小时进行基于正弦和余弦函数的时间多尺度编码成向量，这里月份信息可以通过正弦函数和余弦函数编码成维度为2的向量，如1月是，2月是，以此类推，小时也可以按此方式编码成维度为2的向量，总共构成维度为4的向量；本发明使用了基于正弦和余弦函数的时间多尺度编码，不同于编码，且由于和函数是连续的，更能有效地捕获波浪和风场的周期性特征，更易于模型训练；4）最后一路输出则是在基于大小的滑动窗口遍历的同时，对每一个时刻，截取其之后中期、中长期和长期各时间区间段对应的未来个连续时刻的港池入口处波浪个要素的序列向量，的维度是。遍历完所有时刻，这样则基于滑动窗口构建完毕向量数据集，与神经网络中的三路输入和一路输出对应，为训练做好准备；在一实施例中，在步骤二中，深度神经网络模型的搭建、训练、验证和测试具体包括以下步骤：搭建神经网络模型：分别搭建中期、中长期和长期预测的三路输入的深度网络模型，第一路将目标港池入口处前个连续时刻的波浪多要素时序向量输入长短期记忆网络，学习港池入口处波浪多要素的连续历史序列中隐含的模式规律；第二路将前个连续时刻的港外周边广大海域二维波浪与风场要素的时序向量输入融合了通道注意力和空间注意力的2个定制的二维风浪特征提取模块，降维后得到风浪特征图再经过一个全连接层和一个激活函数，学习港外周边广大海域二维波浪与风场历史序列中的时空变化规律；第三路将当前时刻的月份和小时进行时间多尺度编码得到向量，向量跟以上两路输出的特征进行拼接并输入堆叠全连接层，输出港池入口处未来个连续时刻的波浪多要素的预测结果；初始化深度神经网络模型；将训练集中的所有基于滑动窗口构建的向量数据集以单位划分成多个，设置神经网络模型的训练轮数以及学习率，梯度下降优化器使用；设置损失函数为均方误差，公式如下：；式中，是样本的个数，是第个真实样本，是第个估计样本；训练深度神经网络模型；训练三个神经网络分别预测未来中期、中长期和长期三种情况的时序的港池入口处波浪多要素。首先进行中期的网络模型的训练，在一次迭代中，将所有的逐个输入到神经网络并使用MSE损失函数计算误差，使用优化器更新模型中每个层的权重，连续多次迭代没有损失函数下降，则停止训练；然后结合迁移学习的方法进行中长期和长期的2个网络模型的训练，即读取中期的网络模型的权重作为中长期网络模型的权值初始化，读取中长期的网络模型的权重作为长期网络模型的权值初始化，后两个网络模型训练的最大迭代次数均降为中期模型训练时的一半，除此之外其他参数和步骤与中期模型的训练相同；深度神经网络模型验证；使用验证集对中期、长期和中长期三个深度神经网络模型分别进行超参数调整，评价指标采用平均绝对误差，平均绝对百分比误差，均方误差和相关系数，根据多次对比实验结果，最终确定最佳的深度神经网络模型；模型测试；对于中期、长期和中长期的模型分别选择在验证集上表现最好的深度神经网络模型，在测试集上进行进一步测试深度神经网络模型在未知数据集上的表现；若预测性能较好，则将评估后的深度神经网络模型用于目标港池入口处波浪多要素的预测，否则重复深度神经网络模型迭代训练和验证过程。本发明的另一目的在于提供一种港池入口处海洋波浪多要素的中长期时序实时预测系统包括：数据集准备模块，获取或生成目标港池入口处的波浪多要素连续历史时序数据以及港外周边广大海域的二维波浪和风场要素的连续历史时序数据，并进行缺失值的反距离加权插值处理、数据去季节性和归一化处理；基于滑动窗口构建三路输入一路输出的向量数据集，并将该向量数据集划分为训练集、验证集和测试集；深度神经网络模型的搭建、训练、验证和测试模块，用于分别搭建三路向量输入的中期、中长期和长期时序预测的深度神经网络模型，第一路将港池入口处前个连续时刻的波浪要素特征输入长短期记忆网络，学习港池入口处波浪多要素的连续历史序列中隐含的模式规律；第二路将前个连续时刻的港外周边广大海域二维波浪与风场要素特征输入定制的二维风浪特征提取模块，学习近岸二维波浪与风场的时空变化规律；第三路将当前时刻的月份和小时进行时间多尺度编码来学习港池入口处波浪多要素的周期性；三路特征拼接融合后输出港池入口处未来个连续时刻的波浪多要素的预测结果；再在训练集上分别进行中期、中长期和长期三个预测模型的迭代训练和在验证集上分别进行三个模型超参数调整，对于中期、长期和中长期的模型分别选择在验证集上表现最好的深度神经网络模型作为最终选定的最佳网络模型，并在测试集上分别评估三个最佳模型的性能，若预测性能较好，则将评估后的深度神经网络模型用于目标港池入口处波浪多要素的中长期时序实时预测，否则重复模型迭代训练和验证过程，直到建成高质量的用于中期、中长期和长期时序实时预测的深度神经网络模型。本发明的另一目的在于提供一种计算机设备，所述计算机设备包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行所述港池入口处海洋波浪多要素的中长期时序实时预测方法。本发明的另一目的在于提供一种计算机可读存储介质，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行所述港池入口处海洋波浪多要素的中长期时序实时预测方法。结合上述的所有技术方案，本发明所具备的优点及积极效果为：第一、针对上述现有技术存在的技术问题以及解决该问题的难度，紧密结合本发明的所要保护的技术方案以及研发过程中结果和数据等，详细、深刻地分析本发明技术方案如何解决的技术问题，解决问题之后带来的一些具备创造性的技术效果，本发明还涉及海岸工程、人工智能、神经网络技术领域。本发明基于滑动窗口构建一个三路输入一路输出的向量数据集，结合长短期记忆网络、二维风浪特征提取模块和时间多尺度编码，建立融合港池入口处波浪多要素的历史时序数据、港外周边广大海域二维波浪与风场多要素的历史时序数据、当前时刻的时间多尺度编码特征共三路输入的深度神经网络模型，来实现港池入口处的海洋波浪多要素的中长期时序预测。使用本发明的深度神经网络模型进行预测时，对使用者的领域先验知识和相关经验没有要求；并且，端到端的深度神经网络模型使得本发明十分简单易用，模型经过训练和验证后，只要提供前个连续时刻的波浪多要素信息、前个连续时刻的目标港池外广大范围区域内的波浪和风场多要素信息以及其当前时刻的时间多尺度编码信息，该模型就可以对未来个连续时刻的目标港池入口处的多个波浪要素进行高质量的中期到长期的时序实时预测。本发明通过长短期记忆网络对港池入口处波浪要素的历史规律进行提取；通过二维风浪特征提取模块对区域波浪与风场的时空特征进行提取，学习到波浪的时空变化规律以提升预测精度；同时针对波浪受季风和潮汐影响所呈现的不同时间尺度上的周期性，引入了时间多尺度编码特征，让深度神经网络模型通过训练学习到波浪多要素的周期性现象，进一步提升波浪要素预测的质量。第二、把技术方案看作一个整体或者从产品的角度，本发明所要保护的技术方案具备的技术效果和优点，具体描述如下：目前基于机器学习的波浪预测方法多集中于有效波高的单一属性的预测，而本发明使用深度学习方法实现任意港池入口处位置的波浪多要素的快速准确预测。目前的波浪的预测方法多集中于以输入监测站点的历史波浪要素数据预测监测站点的未来多个时序或单个时刻的波高值，短期预测效果较好，但中长期预测效果欠佳。本发明提出的模型采用了三路输入：第一路将港池入口处前个连续时刻的波浪要素特征输入长短期记忆网络，学习港池入口处波浪多要素的连续历史序列中隐含的模式规律；第二路将前个连续时刻的港外周边广大海域二维波浪与风场要素特征输入二维风浪特征提取模块，学习近岸二维波浪与风场的时空变化规律；第三路将当前时刻的月份和小时进行时间多尺度编码来学习港池入口处波浪多要素的周期性，因此本发明的港池入口处波浪要素预测性能相比主流的机器学习模型的中长期时序预测效果显著提升。相比其他基于机器学习的波浪预测，本发明通过在输入中添加有效波高、峰值波周期、平均波浪方向和波浪谱宽度等作为波浪谱的简化表示，能够更准确地学习波浪传播和相互作用的物理规律。本发明改进了传统的数值模式预测港池入口处波浪要素时非常耗时无法进行实时预测的现状，一旦训练好该预测模型，便可实现任意目标港池入口处多波浪要素的实时预测。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本公开的实施例，并与说明书一起用于解释本公开的原理；图1是本发明实施例提供的港池入口处海洋波浪多要素的中长期时序实时预测方法；图2是本发明实施例提供的港池入口处海洋波浪多要素的中长期时序实时预测方法的模型训练部分流程图；图3是本发明实施例提供的建立的神经网络模型结构中建立的神经网络模型整体的结构图以及它其中的全连接层的详细结构图；图3是本发明实施例提供的建立的神经网络模型结构图3中的二维风浪特征提取模块的详细结构图；图4是本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测方法的训练过程中损失函数的下降情况；图4是本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测方法在测试集上的预测性能评估表现；图5是本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测方法和其它主流的机器学习方法在中期、中长期和长期的SWH预测时在4个评价指标上的预测性能对比图；图5是本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测方法和其它主流的机器学习方法在中期、中长期和长期的PP1D预测时在4个评价指标上的预测性能对比图；图5是本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测方法和其它主流的机器学习方法在中期、中长期和长期的MWD_U预测时在4个评价指标上的预测性能对比图；图5是本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测方法和其它主流的机器学习方法在中期、中长期和长期的MWD_V预测时在4个评价指标上的预测性能对比图；图5是本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测方法和其它主流的机器学习方法在中期、中长期和长期的WDW预测时在4个评价指标上的预测性能对比图；图6是5个波浪要素在中期预测时的第48小时的预测结果和真实值的对比图；图6是5个波浪要素在中长期预测时的第72小时的预测结果和真实值的对比图；图6是5个波浪要素在长期预测时的第96小时的预测结果和真实值的对比图；图7本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测模型及其分别去除第一、二、三路输入得到的消融模型，均进行中期、中长期、长期的SWH预测时在4个评价指标上的预测性能对比图；图7本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测模型及其分别去除第一、二、三路输入得到的消融模型，均进行中期、中长期、长期的PP1D预测时在4个评价指标上的预测性能对比图；图7本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测模型及其分别去除第一、二、三路输入得到的消融模型，均进行中期、中长期、长期的MWD_U预测时在4个评价指标上的预测性能对比图；图7本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测模型及其分别去除第一、二、三路输入得到的消融模型，均进行中期、中长期、长期的MWD_V预测时在4个评价指标上的预测性能对比图；图7本发明实施例提出的港池入口处海洋波浪多要素的中长期时序实时预测模型及其分别去除第一、二、三路输入得到的消融模型，均进行中期、中长期、长期的WDW预测时在4个评价指标上的预测性能对比图。具体实施方式为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图对本发明的具体实施方式做详细的说明。在下面的描述中阐述了很多具体细节以便于充分理解本发明。但是本发明能够以很多不同于在此描述的其他方式来实施，本领域技术人员可以在不违背本发明内涵的情况下做类似改进，因此本发明不受下面公开的具体实施的限制。一、解释说明实施例：如图1所示，本发明实施例提供一种港池入口处海洋波浪多要素的中长期时序实时预测方法包括：，数据集准备：获取或生成港池入口处的波浪多要素历史时序数据，获取或生成目标港池外周边广大海域的二维波浪和风场多个要素的历史时序数据，并进行预处理；基于滑动窗口构建三路输入一路输出的向量数据集，并将该向量数据集划分为训练集、验证集和测试集；，深度神经网络模型的搭建、训练、验证、测试：分别搭建三路输入的中期、中长期和长期时序预测的深度网络模型，第一路是利用长短期记忆网络来学习港池入口处波浪多要素的连续历史序列中隐含的模式规律，第二路采用融合了通道注意力和空间注意力的2个定制的二维风浪特征提取模块，捕捉港外周边广大海域二维波浪与风场多个要素的连续历史序列中的时空规律特征，第三路则对当前时刻进行时间多尺度编码来提取相关的时间周期性特征，三路特征拼接融合后输出港池入口处未来多个连续时刻的波浪多要素的预测结果；再对构建的三个深度神经网络模型进行迭代训练、验证和测试，直到建成高质量的用于中期、中长期和长期预测的三个深度神经网络模型。如图2所示，所述步骤深度神经网络模型的搭建、训练、验证和测试具体包括以下步骤：，分别搭建三路输入的中期、中长期和长期时序预测的深度网络模型，第一路是将目标港池入口处前个连续时刻的波浪多要素向量输入长短期记忆网络来学习连续历史序列中隐含的模式规律，第二路将前个连续时刻的港外周边广大海域二维波浪与风场要素的向量输入融合了通道注意力和空间注意力的2个定制设计的二维风浪特征提取模块，再经过一个全连接层和一个激活函数，捕捉港外周边广大海域二维波浪与风场多个要素的连续历史序列中的时空变化规律特征，第三路则将当前时刻的月份和小时进行时间多尺度编码为向量来提取相关的时间周期性特征，向量与以上两路输出的特征进行拼接并输入堆叠全连接层，输出港池入口处的未来个连续时刻的波浪多要素的预测结果；，结合迁移学习的方法，在训练集上分别进行中期、中长期和长期三个预测模型的迭代训练，在验证集上分别进行三个模型超参数调整，采用多个评价指标的多次结果对比，分别选择中期、中长期和长期预测模型在验证集上表现最好的深度神经网络模型作为各自最终选定的最佳网络模型；，在测试集上分别测试评估确定出的三个最佳网络模型的性能，若测试集上性能较好，则可用于目标港池入口处波浪多要素的预测；否则，重新进行和的迭代训练和验证过程，直到建成高质量的用于中期、中长期和长期时序预测的深度神经网络模型。实施例1本发明实施例提供的港池入口处海洋波浪多要素的中长期时序实时预测方法包括以下步骤：步骤1，数据集准备：先获取或生成目标港池入口处的波浪多要素连续历史时序数据以及港池入口处周边的广大范围海域的二维波浪和风场要素的连续历史时序数据，进行缺失值的局部反距离加权插值处理、数据去季节性和归一化处理；然后，基于滑动窗口构建三路输入一路输出的向量数据集；最后将该向量数据集划分为训练集、验证集和测试集，为深度学习模型的建立做好准备。具体包括：确定好目标港池，下载港池入口处的多年的波浪多要素时序数据，可以是开源的多年的再分析数据或基于浮标数据校准后的近岸数值模型如生成的数据；同时下载目标港外周边较大研究海域内的多年的波浪和风场多要素时序数据，可以是公开可用的再分析数据或数值模式生成的高质量数据，选取的研究海域范围是基于目标港池所在海域的多年季风发生和影响的范围来确定的。这里入口处的波浪多要素数据可以包括有效波高、峰值波周期、平均波方向的东西分量、平均波方向的南北分量、波浪谱宽度等多个的属性，构成维的向量；目标港外周边广大海域内多年的二维波浪和风场多要素时序数据包括：风速的东西分量、风速的南北分量、以及港外周边区域二维的波浪的有效波高、峰值波周期、平均波方向的东西分量、平均波方向的南北分量、波浪谱宽度等个的属性，共同构成维的向量，其中，；进行港池入口处和港外周边区域的二维波浪和风场要素数据的缺失值的局部反距离加权插值处理、数据去季节性和归一化处理，这样将数据转化为0到1之间的无量纲的小数。其中：考虑到精度高和计算快，缺失值采用局部反距离加权插值处理。已知下载的若干网格化数据及其对应的属性值，则其估计空间中缺失的任意一位置点对应的属性值，局部反距离加权插值，具体计算过程如下：1）计算未知点到选定的局部区域内所有网格点的距离2）计算权重3）计算待求的插值点的值为了消除数据中的显著季节性的属性特征，这里考虑多年历史数据的变化，遍历全部数据的时刻，并将当前时刻对应的属性值减去全部数据中历史年份相同月份的属性值的平均值的差值，再除以其标准差，作为当前时刻的去季节性之后归一化的值，这里参与标准差计算的均值是取上一步计算求得的月均值：。基于滑动窗口遍历每一个时刻，并对每一个时刻构建三路输入和一路输出的数据集，包括：1）深度学习模型的第一路网络的输入向量，是进行基于宽度大小的滑动窗口逐时刻遍历，截取出当前时刻及其之前共个连续时刻的港池入口处波浪个要素对应的波浪序列向量，其中代表当前时刻的港池入口处的波浪个要素数据，以此类推代表时刻对应的港池入口处的波浪个要素数据，的维度是；2）深度学习模型中第二路为定制的二维风浪特征提取模块的输入，是基于大小为M宽度的滑动窗口逐个时刻遍历，截取当前时刻及其之前共个连续时刻的港外周边广大海域二维波浪与风场共个要素的连续历史序列向量，其中代表当前时刻的港外周边广大海域内二维的波浪和风场共个要素，以此类推代表时刻对应的港外周边广大海域内二维的波浪和风场共个要素，定义港外周边广大海域的网格分辨率为，则的维度是；3）深度学习模型第三路的输入，是在滑动窗口遍历过程中，对遍历到的每一个时刻作为当前时刻，并将其月份和小时进行基于正弦和余弦函数的时间多尺度编码成维度为4的向量；4）最后一路输出则是在基于大小的滑动窗口遍历的同时，对每一个时刻，截取之后中期、中长期和长期时间区间段对应的未来个连续时刻的港池入口处波浪个要素的序列向量，其中代表后1个时刻的港池入口处波浪多要素数据，以此类推代表后第个时刻的港池入口处波浪多要素数据，的维度是；遍历完所有时刻，这样则基于滑动窗口构建完毕向量数据集，与神经网络中的三路输入和一路输出对应，为训练做好准备。将基于滑动窗口构建好的所有向量数据集随机抽取80%为训练集，10%为验证集，10%为测试集，用于接下来深度神经网络模型的搭建、训练、验证和测试。步骤2，进行深度神经网络模型的搭建、训练、验证和测试：首先结合长短期记忆网络、二维风浪特征提取模块和时间多尺度编码，来分别建立三路输入的中期、中长期和长期深度学习模型，再在训练集上进行模型迭代训练和在验证集上进行模型超参数调整，多指标对比确定出最佳的网络模型，并在测试集上评估模型性能，若性能较好则用于目标港池入口处波浪多要素的预测，否则重新进行训练迭代和验证过程，直到建成高质量的用于中期、中长期、长期时序预测的深度神经网络模型。具体包括：搭建神经网络模型：搭建如图所示的三路输入的深度网络模型，第一路将目标港池入口处前个连续时刻的波浪多要素向量输入长短期记忆网络，学习港池入口处波浪多要素的连续历史序列中隐含的模式规律；第二路将前个连续时刻的港外周边广大海域二维波浪与风场要素的向量输入融合了通道注意力和空间注意力的2个定制的二维风浪特征提取模块，降维后得到风浪特征图再经过一个全连接层和一个激活函数，学习港外周边广大海域二维波浪与风场历史序列中的时空变化规律；第三路将当前时刻的月份和小时进行时间多尺度编码为向量，向量跟以上两路输出的特征进行拼接并输入堆叠全连接层，输出港池入口处未来个连续时刻的波浪多要素的预测结果；此网络中的二维风浪特征提取模块详细构成如图所示，它在通道和空间维度上使用自定义的注意力机制。包含通道注意力模块和空间注意力模块，分别实现通道与空间上的注意力机制。通道注意力机制使用通道最大池化将通道维度降维为1，使用卷积捕获通道特征，通过激活函数将通道注意力的输出限制为0-1之间并与输入特征相乘；空间注意力机制使用空间最大池化将空间维度降维为1×1，使用多层感知机捕获空间特征，通过激活函数将空间注意力的输出限制为0-1之间并与输入特征相乘。该模块目的在于使网络自发关注对港池入口处波浪参数影响较大的港外区域以及波浪属性。初始化深度神经网络模型：将训练集中的所有基于滑动窗口构建的向量数据集以为单位划分成多个；设置神经网络模型的训练轮数以及学习率，梯度下降优化器使用；设置损失函数为均方误差，公式如下，其中是样本的个数，是第个真实样本，是第个估计样本：训练深度神经网络模型：训练三个神经网络分别用于预测未来中期、中长期和长期三种情况的连续时刻的港池入口处波浪多要素。首先进行中期的网络模型的训练，在一次迭代中，将所有的逐个输入到神经网络并使用损失函数计算误差，使用优化器更新模型中每个层的权重，连续多次迭代没有损失函数下降，则停止训练。然后对于另外2个神经网络，结合迁移学习的方法进行中长期和长期的网络模型的训练，即读取中期的网络模型的权重作为中长期网络模型的权值初始化，读取中长期的网络模型的权重作为长期网络模型的权值初始化，后两个网络模型训练的最大迭代次数均降为中期模型训练时的一半，除此之外其他参数和步骤与中期模型的训练相同；模型验证：使用验证集对中期、长期和中长期三个深度神经网络模型分别进行超参数调整，评价指标采用平均绝对误差，平均绝对百分比误差，均方误差和相关系数，根据多次对比实验结果，最终确定最佳的深度神经网络模型；模型测试：对于中期、长期和中长期的模型分别选择在验证集上表现最好的深度神经网络模型，在测试集上进行目标港池入口处波浪多要素的预测以测试深度神经网络模型在未知数据集上的表现，并和主流的波浪预测模型对比，获取深度神经网络模型的性能；若预测性能较好，则将评估后的深度神经网络模型用于目标港池入口处波浪多要素的预测，否则重复深度神经网络模型迭代训练和验证过程。实施例2本发明实施例提供的港池入口处海洋波浪多要素的中长期时序实时预测系统包括：数据集准备模块，用于先获取或生成港池入口处的波浪多要素连续历史时序数据以及目标港池入口处的周边广大范围区域的二维波浪和风场要素的历史信息，进行缺失值的局部反距离加权插值处理、数据去季节性和归一化处理；将多年数据集进行滑动窗口逐时刻遍历，对于每一个时刻生成3类向量，包括前个连续时刻港池入口处波浪多要素时序向量、前个连续时刻港外周边区域的二维波浪和风场多要素时序向量、当前时刻的时间多尺度编码向量和中期、中长期及长期三个时间段各自对应的后个连续时刻的港池入口处波浪多要素向量，这样基于滑动窗口抽取出所有时刻的向量的历史序列作为模型的输入，三个不同时段各自对应的时序向量作为三个模型分别的输出，构成了向量数据集。随机抽取所有基于滑动窗口构建的向量数据集的80%为训练集，10%为验证集，10%为测试集，为深度神经网络模型的搭建、训练、验证和测试做好准备。深度神经网络模型的搭建、训练、验证和测试模块，用于分别搭建一个三路输入的中期、中长期、长期时序预测的深度神经网络模型，向量输入到长短期记忆网络模块，向量输入到二维风浪特征提取模块，时间多尺度编码向量联合上面两路的输出特征一同拼接融合输入到堆叠全连接层，其输出作为港池入口处波浪多要素的后个连续时刻的预测结果；然后将训练集中的所有向量，分别以为单位划分成多个，初始化模型的超参数和优化器，对于每个中所有基于滑动窗口抽取出的，向量输入模型进行迭代训练，通过损失函数计算每次迭代的预测误差，使用验证集分别进行中期、中长期和长期模型超参数调整，基于4个评价指标和根据多次对比实验结果，最终确定最佳的中期、中长期和长期预测网络模型；再使用测试集测试模型的性能，若性能理想，则用于目标港池入口处波浪多要素的预测，若性能不理想则重新进行迭代训练和验证，直到建成高质量的用于中期、中长期和长期时序预测的深度神经网络模型。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述或记载的部分，可以参见其它实施例的相关描述。上述装置/单元之间的信息交互、执行过程等内容，由于与本发明方法实施例基于同一构思，其具体功能及带来的技术效果，具体可参见方法实施例部分，此处不再赘述。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将所述装置的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。实施例中的各功能单元、模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中，上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。另外，各功能单元、模块的具体名称也只是为了便于相互区分，并不用于限制本发明的保护范围。上述系统中单元、模块的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。下面结合应用例对本发明的技术方案作进一步描述。应用例1本发明该实施例以位于斯里兰卡的汉班托塔港入口处的多个波浪要素的实时预测为例。本发明实施例提供的港池入口处海洋波浪多要素的中长期时序实时预测方法包括：首先，进行数据集准备，即先获取或生成目标港池入口处的波浪多要素连续历史时序数据以及港池入口处周边的广大范围研究区域的二维波浪和风场要素的连续历史时序数据，进行缺失值的局部反距离加权插值处理、数据去季节性和归一化处理；然后，基于滑动窗口构建三路输入一路输出的向量数据集；最后将该向量数据集划分为训练集、验证集和测试集，为深度学习模型的建立做好准备；确定目标港池为汉班托塔港，获取港池入口处的波浪多要素多年历史时序数据，这里从下载开源的2010-2020年的每小时间隔的再分析波浪多要素时序数据，这里港池入口处和港池外周边区域的波浪多要素数据均包括：有效波高、峰值波周期、平均波方向的东西分量、平均波方向的南北分量、波浪谱宽度共5个属性；获取目标港池外周边广大海域内多年的二维波浪和风场多个要素的历史时序数据，这里根据目标港池汉班托塔港所在海域的多年季风发生和影响的范围，选取相应的汉班托塔港港外周边较大的海域作为研究范围，经度范围为64°E-96°E，纬度范围为11°S-21°N，地理分辨率为0.5°×0.5°，即共有64×64个网格，时间分辨率为1小时。目标港池外周边区域的二维风场要素数据包括：风速的东西分量、风速的南北分量共2个属性，以及港外周边广大海域二维波浪的有效波高、峰值波周期、平均波方向的东西分量、平均波方向的南北分量、波浪谱宽度等构成的7个的属性；进行港池入口处波浪多要素数据、港外周边区域的二维波浪和风场多要素数据的缺失值的局部反距离加权插值处理、数据去季节性和归一化处理。首先进行缺失值的局部反距离加权插值处理，已知下载的若干网格化数据及其对应的属性值，则其估计空间中缺失的任意一位置点对应的属性值，考虑到精度高和计算快，这里采用局部反距离加权插值，局部的范围选择2°×2°，具体计算过程如下：1）计算未知点到选定的局部区域内所有网格点的距离2）计算权重3）计算待求的插值点的值为了消除数据中的显著季节性的属性特征，这里考虑多年历史数据的变化，遍历全部数据的时刻，并将当前时刻对应的属性值减去全部数据中历史年份相同月份的属性值的平均值的差值，再除以其标准差，作为当前时刻的去季节性之后归一化的值，这里参与标准差计算的均值是取上一步计算求得的月均值：。基于滑动窗口遍历每一个时刻，并对每一个时刻构建三路输入和一路输出的数据集，包括：第一路是对每一个小时时刻，进行基于滑动窗口为6小时宽度大小的逐时刻遍历，截取出当前时刻及其之前5个小时，总共6个小时的港池入口处波浪5个要素的连续历史序列向量，作为深度学习模型的第一路网络的输入向量；第二路是对每一个小时时刻，进行基于滑动窗口为6小时的逐时刻遍历，截取当前时刻及其之前5个小时，总共6个小时的港外周边广大海域二维波浪与风场7个要素的连续历史序列向量，作为深度学习模型中第二路定制的二维风浪特征提取模块的输入；第三路是在滑动窗口遍历过程中，对当前每一个小时时刻对应的月份和小时进行基于正弦和余弦函数的时间多尺度编码成向量，作为深度学习模型第3路的输入。这里考虑到对于周期性的变量，使用原始数值直接进行编码往往不能很好的表征数据的特征，如23时和凌晨1小时，二者相差只有2小时，但是如果只是将时按简单的数字做特征，23与1，二者相差22，将严重误导模型学习的结果；另一方面单单把一维变量转化为同样是一维的的话，由于的周期性，会带来同一取值对应多个不同时刻的问题，而与组合便可以避免这个问题。月份信息可以通过正弦函数和余弦函数编码成维度为2的向量：如1月是，2月是，以此类推，小时也可以按此方式编码成维度为2的向量，总共构成维度为4的向量；最后一路输出则是在基于6小时宽度大小的滑动窗口遍历的同时，对每一个时刻，截取之后中期、中长期和长期对应的各自的未来24个连续每小时的港池入口处波浪5个要素的序列向量；遍历完所有时刻，这样则基于滑动窗口构建完毕向量数据集，与神经网络中的三路输入和一路输出对应，为港池入口处波浪多要素的中期到长期的时序实时预测做好准备。将基于滑动窗口构建好的所有向量数据集随机抽取80%为训练集，10%为验证集，10%为测试集，用于接下来深度神经网络模型的搭建、训练、验证和测试。其次，进行深度神经网络模型的搭建、训练、验证和测试：即首先结合长短期记忆网络、二维风浪特征提取模块和时间多尺度编码，来分别建立三路特征输入的中期、中长期和长期深度学习模型，再在训练集上分别进行三种模型的迭代训练和在验证集上进行三种模型的超参数调整，确定出最佳的模型，并在测试集上评估模型的性能，若预测性能较好，则可将评估后的模型用于目标港池入口处波浪多要素的预测，否则重复模型迭代训练和验证过程，直到建成高质量的用于中期、中长期和长期预测的深度神经网络模型，具体包括如下步骤：搭建神经网络模型：本实例中神经网络模型的搭建如图左图的神经网络模型整体结构所示的一个三路输入的神经网络模型，且其内包含一个定制的堆叠全连接层结构，图中包含的风浪特征提取模块的详细结构如图所示；分别搭建三路输入的中期、中长期和长期时序预测的深度网络模型，第一路将目标港池入口处前6个连续小时的波浪多要素时序向量输入长短期记忆网络，学习港池入口处波浪多要素的连续历史序列中隐含的模式规律；第二路将前6个连续小时的港外周边广大海域二维波浪与风场要素的时序向量输入融合了通道注意力和空间注意力的2个定制的二维风浪特征提取模块，降维后得到风浪特征图再经过一个全连接层和一个激活函数，学习港外周边广大海域二维波浪与风场历史序列中的时空变化规律；第三路将当前时刻的月份和小时进行时间多尺度编码为向量，向量跟以上两路输出的特征进行拼接并输入堆叠全连接层，输出港池入口处未来24个连续每小时的波浪多要素向量的预测结果；在本实施例中设置预测中期、中长期和长期各时间段分别为25-48、49-72、73-96小时内的连续每小时的港池入口处波浪多要素情况，因而搭建对应这3个预测时段的3个预测模型。此网络中的二维风浪特征提取模块结构如图所示，二维风浪特征提取模块在通道和空间维度上使用自定义的注意力机制。包含通道注意力模块和空间注意力模块，分别实现通道与空间上的注意力机制。通道注意力机制使用通道最大池化将通道维度降维为1，使用卷积捕获通道特征，通过激活函数将通道注意力的输出限制为0-1之间并与输入特征相乘；空间注意力机制使用空间最大池化将空间维度降维为1×1，使用多层感知机捕获空间特征，通过激活函数将空间注意力的输出限制为0-1之间并与输入特征相乘。该模块目的在于使网络自发关注对港池入口处波浪参数影响较大的港外区域以及波浪属性。初始化深度神经网络模型；将训练集中的所有基于滑动窗口构建的向量数据集以为单位划分成多个，这里设置；设置训练轮数为100，学习率为0.002，梯度下降优化器使用；设置损失函数为均方误差，其中是样本的个数，是第个真实样本，是第个估计样本：训练深度神经网络模型：由于本实施例中需要预测未来第25-48、49-72、73-96连续每小时的港池入口处波浪多要素，则分别训练三个神经网络对应预测这三个时段的波浪要素情况。首先进行中期的网络模型的训练，在一次迭代中，将所有的逐个输入到神经网络并使用损失函数计算误差，使用优化器更新模型中每个层的权重，连续多次迭代没有损失函数下降，则停止训练。然后对于另外2个神经网络，结合迁移学习的方法进行中长期和长期的网络模型的训练，即读取中期的网络模型的权重作为中长期网络模型的权值初始化，读取中长期的网络模型的权重作为长期网络模型的权值初始化，后两个网络模型训练的最大迭代次数均降为中期模型训练时的一半，除此之外其他参数和步骤与中期模型的训练相同；模型验证：使用验证集对中期、长期和中长期三个深度神经网络模型分别进行模型超参数调整，评价指标采用均方误差、平均绝对百分比误差、均方误差和相关系数，根据多次对比实验结果，最终确定最佳的深度神经网络模型。模型测试：对于中期、长期和中长期的模型分别选择在验证集上表现最好的深度神经网络模型，在测试集上进行目标港池入口处波浪多要素的预测以测试深度神经网络模型在未知数据集上的表现，并和主流的波浪预测模型对比，获取模型的性能。若预测性能较好，则可将评估后的模型用于目标港池入口处波浪多要素的预测，否则重复模型迭代训练和验证过程；对比实验和结果：为了测试该发明的模型性能，本发明将提出的深度神经网络与海洋领域目前主流的预测模型：长短期记忆网络，门控递归神经网络，反向传播神经网络，支持向量回归，极限学习机，随机森林在测试集的预测性能进行了对比，这些模型的输入仅限于目标港池入口处的历史6个时刻的。本发明使用了平均绝对误差、平均绝对百分比误差、均方误差和相关系数一共4种指标来评估这5种波浪要素的预测值的质量，其中越低表明预测效果越好，越高表明预测值和真实值的相关性越强。的公式如下所示，其中是观测值，是预测值，是观测值的平均值,是预测值的平均值。在本发明实施例中，图是本发明实施例提出的预测模型在中期、中长期、长期的训练过程中的损失函数随迭代次数的变化曲线，表明中期的100次迭代，中长期和长期的50次迭代过程且中损失函数均在下降，下降速度随迭代次数增长而放缓。图是本发明实施例提出的预测方法在测试集上的4个评价指标分别在中期、中长期、长期的测试集评价指标随迭代次数的变化曲线，表明模型的训练过程中，其在测试集的性能也在提升，并未出现过拟合现象。考虑到模型的训练时间成本和边际收益递减，其最优的迭代次数分别是：中期模型100次，中长期模型50次，长期模型50次。对比本发明实施例及主流的机器学习模型分别在5个波浪要素上的中期、中长期、长期的预测性能，如图、图、图、图、图所示，本发明的方法在25-48小时，49-72小时，73-96小时5个波浪要素预测中的表现均优于其他主流机器学习方法。本发明实施例选取2020年逐个小时的浮标观测数据集跟本发明的预测结果进行比对，如图、图、图分别为5个波浪要素在中期、中长期和长期预测时的第48小时、72小时和96小时的预测结果和真实值的对比；结果显示，5个波浪要素、、、、在中期、中长期、长期的预测结果和真实值能够较好地吻合，表明本发明的方法在中期到长期的预测效果较好。此外，为了证明本发明的三路融合输入模型对提高预测精度的有效性，本发明开展了消融实验，如图、图、图、图、图所示，本发明实施例提出的预测模型分别去除第一、二、三路输入得到的消融模型，均进行中期、中长期和长期下的5个波浪要素的预测，分别在4个评价指标上的预测性能对比，结果显示：去掉任意一路输入的消融模型在所有波浪要素的预测性能上总体是不如本发明设计的融合三路输入的模型，即完整的三路特征的融合输入保证了本发明的方法在中期到长期的港池入口波浪多要素预测的准确度总体高于其他两路输入的模型，实验结果充分表明了这三路特征融合模型的有效性。同时证明本发明的模型中各个支路模块对预测性能提升的有效性，三路特征有机融合来提升中期到长期预测精度也是创新性的体现。此外，本发明的实施例中提出了三个深度学习模型，分别进行中期、中长期、长期的港池入口波浪多要素预测，其中中期的深度学习模型训练过程需要100次迭代，而结合迁移学习的思想，在中长期和长期的模型训练之前，读取中期的深度学习模型权重并进行一半的迭代次数训练，显著缩短了模型投入使用的时间，也是本发明的不同之处。本发明搭建了一种新颖的深度神经网络模型来进行港池入口处波浪多要素预测。使用本发明进行目标港池入口处的波浪多要素预测时，对使用者的先验知识和领域相关经验没有要求。并且，端到端的深度神经网络模型使得本发明十分简单易用，模型训练完成后，只要提供前个连续时刻的目标港池入口处的波浪要素信息、前个连续时刻的目标港池入口处较大范围区域内的波浪和风场要素信息以及其当前时刻的时间多尺度编码特征，该模型就可以快速预测出未来中期到长期个连续时刻的波浪要素变化情况，实现快速精准的预测。未来25-48小时、49-72小时、73-96小时的波浪要素预测结果已经经过验证，总体优于其他的主流的机器学习方法。相对于数值模型进行预测，构建数值模型需要具备相关的领域专业知识，以及对目标港池实际的地形、边界条件等较高精度的数据，同时数值模拟也需要花费大量的时间去计算和模拟波浪的传播和演化现象。本发明是数据驱动的方法，构建和训练好深度神经网络模型之后对模型的使用者不需要太多相关领域知识，便能够快速的进行预测。针对到波浪受季风等的影响会发生明显变化，因此在构建深度神经网络模型时，将目标港池外周边较大范围区域的风场要素的历史信息输入到神经网络模型，来学习风场和波浪的内在关系，增加深度神经网络模型预测的精准度；又针对到潮汐或者季节更替会导致波高等呈现周期性变化，因此深度神经网络模型的输入又加入了时间多尺度编码特征，可以学习波浪要素变化的周期现象，实现更加精准的预测。应用例2基于上述实施例记载的港池入口处海洋波浪多要素的中长期时序实时预测方法可运行于计算机设备，该计算机设备包括：至少一个处理器、存储器以及存储在所述存储器中并可在所述至少一个处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述任意各个方法实施例中的步骤。应用例3基于上述实施例记载的港池入口处海洋波浪多要素的中长期时序实时预测方法可运行于计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时可实现上述各个方法实施例中的步骤。应用例4基于上述实施例记载的港池入口处海洋波浪多要素的中长期时序实时预测方法可运行于信息数据处理终端，所述信息数据处理终端用于实现于电子装置上执行时，提供用户输入接口以实施如上述各方法实施例中的步骤，所述信息数据处理终端不限于手机、电脑、交换机。应用例5基于上述实施例记载的港池入口处海洋波浪多要素的中长期时序实时预测方法可运行于服务器，所述服务器用于实现于电子装置上执行时，提供用户输入接口以实施如上述各方法实施例中的步骤。应用例6基于上述实施例记载的港池入口处海洋波浪多要素的中长期时序实时预测方法可运行于计算机程序产品，当计算机程序产品在电子设备上运行时，使得电子设备执行时可实现上述各个方法实施例中的步骤。上述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明实现上述实施例方法中的全部或部分流程，可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个方法实施例的步骤。其中，所述计算机程序包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读介质至少可以包括：能够将计算机程序代码携带到拍照装置/终端设备的任何实体或装置、记录介质、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质。例如U盘、移动硬盘、磁碟或者光盘等。以上所述，仅为本发明较优的具体的实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，都应涵盖在本发明的保护范围之内。
