标题title
高速水力测功器的PID控制仿真分析方法及系统、存储介质
摘要abst
本发明公开了一种高速水力测功器的PID控制仿真分析方法及系统、计算机可读取的存储介质，该方法经过理论分析，创造性地将高速水力测功器的进水、出水阀门的开度控制地转化为单容水槽的进水、出水阀门的开度控制，并依此建立数学仿真模型，将仿真模型简单化，便于进行后续理论分析，然后对该数学仿真模型进行参数仿真分析以评估该模型能否满足要求，最后基于该数学仿真模型进行PID控制仿真分析以确定PID参数值，摸索出控制逻辑关系，为开发实际的控制软件奠定了基础，为后续真实的控制器调试积累了经验，缩短了调试时间，降低了调试风险。
权利要求书clms
1.一种高速水力测功器的PID控制仿真分析方法，其特征在于，包括以下步骤：步骤S1：将高速水力测功器的进水、出水阀门的开度控制转化为单容水槽的进水、出水阀门的开度控制，并建立数学仿真模型；步骤S2：对该数学仿真模型进行参数仿真分析；步骤S3：在连续系统中基于该数学仿真模型进行PID控制仿真分析以确定PID参数值。2.如权利要求1所述的高速水力测功器的PID控制仿真分析方法，其特征在于，所述步骤S1具体为：将高速水力测功器的进水、出水阀门的开度控制转化为单容水槽的进水、出水阀门的开度控制，建立单容水槽液面高度的变化与进水、出水阀门开度之间的关系，其传递函数为：其中，G为单容水槽与进/出水阀门开度之间通过拉式变换导出的传递函数，C为水面高度的拉式变换输出值，R为阀门开度的拉式变换输入值，s为拉式变换因子，K为阀门传递系数，T为水槽惯性系数。3.如权利要求2所述的高速水力测功器的PID控制仿真分析方法，其特征在于，所述步骤S2具体为：设定阀门传递系数K和水槽惯性系数T的取值，并对数学仿真模型的开环频域指标进行分析，以评估系统的稳定性和动态响应速度。4.如权利要求3所述的高速水力测功器的PID控制仿真分析方法，其特征在于，所述步骤S3具体为：在连续系统中改变不同的PID参数，得到不同的PID传递函数，对PID控制效果进行分析以确定PID参数值和PID传递函数。5.如权利要求4所述的高速水力测功器的PID控制仿真分析方法，其特征在于，还包括以下步骤：步骤S4：对数学仿真模型的模型传递函数和PID传递函数进行离散化后输入离散系统，并对离散系统进行仿真分析以评估离散系统的稳定性和响应速度。6.如权利要求4所述的高速水力测功器的PID控制仿真分析方法，其特征在于，还包括以下步骤：步骤S5：设定期望的控制效果参数值和PID参数工作范围，优化分析得到最终的PID参数取值。7.一种高速水力测功器的PID控制仿真分析系统，其特征在于，包括：建模单元，用于将高速水力测功器的进水、出水阀门的开度控制转化为单容水槽的进水、出水阀门的开度控制，并建立数学仿真模型；模型参数仿真单元，用于对所述建模单元建立的数学仿真模型进行参数仿真分析；PID控制仿真单元，用于在连续系统中基于该数学仿真模型进行PID控制仿真分析以确定PID参数值。8.如权利要求7所述的高速水力测功器的PID控制仿真分析系统，其特征在于，还包括：离散系统仿真单元，用于对数学仿真模型的模型传递函数和PID传递函数进行离散化后输入离散系统，并对离散系统进行仿真分析以评估离散系统的稳定性和响应速度。9.如权利要求8所述的高速水力测功器的PID控制仿真分析系统，其特征在于，还包括：优化单元，用于设定期望的控制效果参数值和PID参数工作范围，优化分析得到最终的PID参数取值。10.一种计算机可读取的存储介质，用于存储进行高速水力测功器的PID控制仿真分析的计算机程序，其特征在于，该计算机程序在计算机上运行时执行如权利要求1～6任一项所述的方法的步骤。
说明书desc
技术领域本发明涉及高速水力测功器技术领域，特别地，涉及一种高速水力测 功器的PID控制仿真分析方法及系统、计算机可读取的存储介质。背景技术如图1所示，高速水力测功系统包括测功器机械本体、飞轮机械本体、 扭矩校准装置、液压系统、滑油系统、高速水力测功控制器等部件，测功 器机械本体静子通过轴承固定在安装座上，转子通过轴承支撑在静子上， 在静子和转子之间充水，发动机带动转子旋转，水在静子和转子之间产生 摩擦力，吸收发动机的机械功。根据作用力与反作用的原理，测扭盘测量 出静子产生的扭矩即是转子施加给静子的扭矩，也就是发动机的输出扭矩， 再通过安装在转子上的测速音轮测量转子转速，即可计算出发动机的输出 功率。通过调节进、出水阀门的开度，改变通过测功器机械本体的水流量， 从而控制测功器的转速、驱动扭矩。高速水力测功系统具有转速高、体积小、响应快、转动惯量小等特点， 在航空动力、弹用动力、地面车载动力等高转速功率试验领域拥有广泛的 应用，是中小型航空发动机研发与制造领域中不可或缺的关键设备。长期 以来，由于高速水力测功系统技术难度大、研发条件特殊，国际上主要是 美国和英国两家公司开发了能满足中小型航空发动机试验所需的产品。从 上世纪80年代我国就开始引进使用国外的K型和H型高速水力测功系统，近年来试验任务繁重，按照已有高速水力测功系统的使用寿命和维修状态， 存在难以保障试验任务完成的风险。为保障研制任务的顺利实施，解决高 速水力测功系统的自主保障问题，申请人决定开展高速水力测功系统的研 制。但是，高速水力测功器控制器的研制需要进行各种理论研究及测试、 调试，如果不经过前期的相关理论研究和半物理调试平台测试，直接上试 车台调试，费用高，风险大。而且高速水力测功器控制器的研制在国内尚 属首次，连仿真平台也没有，故需全新研制一套仿真平台。发明内容本发明提供了一种高速水力测功器的PID控制仿真分析方法及系统、 计算机可读取的存储介质，以填补目前国内在高速水力测功器控制器的仿 真分析这一块的技术空白。根据本发明的一个方面，提供一种高速水力测功器的PID控制仿真分 析方法，包括以下步骤：步骤S1：将高速水力测功器的进水、出水阀门的开度控制转化为单 容水槽的进水、出水阀门的开度控制，并建立数学仿真模型；步骤S2：对该数学仿真模型进行参数仿真分析；步骤S3：在连续系统中基于该数学仿真模型进行PID控制仿真分析 以确定PID参数值。进一步地，所述步骤S1具体为：将高速水力测功器的进水、出水阀门的开度控制转化为单容水槽的进 水、出水阀门的开度控制，建立单容水槽液面高度的变化与进水、出水阀 门开度之间的关系，其传递函数为：G＝)/)＝K/其中，G为单容水槽与进/出水阀门开度之间通过拉式变换导出 的传递函数，C为水面高度的拉式变换输出值，R为阀门开度的 拉式变换输入值，s为拉式变换因子，K为阀门传递系数，T为水槽惯性 系数。进一步地，所述步骤S2具体为：设定阀门传递系数K和水槽惯性系数T的取值，并对数学仿真模型 的开环频域指标进行分析，以评估系统的稳定性和动态响应速度。进一步地，所述步骤S3具体为：在连续系统中改变不同的PID参数，得到不同的PID传递函数，对 PID控制效果进行分析以确定PID参数值和PID传递函数。进一步地，还包括以下步骤：步骤S4：对数学仿真模型的模型传递函数和PID传递函数进行离散 化后输入离散系统，并对离散系统进行仿真分析以评估离散系统的稳定性 和响应速度。进一步地，还包括以下步骤：步骤S5：设定期望的控制效果参数值和PID参数工作范围，优化分 析得到最终的PID参数取值。本发明还提供一种高速水力测功器的PID控制仿真分析系统，包括：建模单元，用于建立高速水力测功器的数学仿真模型；模型参数仿真单元，用于对所述建模单元建立的数学仿真模型进行参 数仿真分析；PID控制仿真单元，用于在连续系统中基于该数学仿真模型进行PID 控制仿真分析以确定PID参数值。进一步地，还包括离散系统仿真单元，用于对数学仿真模型的模型传 递函数和PID传递函数进行离散化后输入离散系统，并对离散系统进行仿 真分析以评估离散系统的稳定性和响应速度。进一步地，还包括优化单元，用于设定期望的控制效果参数值和PID 参数工作范围，优化分析得到最终的PID参数取值。本发明还提供一种计算机可读取的存储介质，用于存储进行高速水力 测功器的PID控制仿真分析的计算机程序，该计算机程序在计算机上运行 时执行如上的方法的步骤。本发明具有以下效果：本发明的高速水力测功器的PID控制仿真分析方法，经过理论分析， 创造性地将高速水力测功器的进水、出水阀门的开度控制地转化为单容水 槽的进水、出水阀门的开度控制，并依此建立数学仿真模型，将仿真模型 简单化，便于进行后续理论分析，然后对该数学仿真模型进行参数仿真分 析以评估该模型能否满足要求，最后基于该数学仿真模型进行PID控制仿 真分析以确定PID参数值，摸索出控制逻辑关系，为开发实际的控制软件 奠定了基础，为后续真实的控制器调试积累了经验，缩短了调试时间，降 低了调试风险。另外，本发明的高速水力测功器的PID控制仿真分析系统同样具有上 述优点。除了上面所描述的目的、特征和优点之外，本发明还有其它的目的、 特征和优点。下面将参照图，对本发明作进一步详细的说明。附图说明构成本申请的一部分的附图用来提供对本发明的进一步理解，本发明 的示意性实施例及其说明用于解释本发明，并不构成对本发明的不当限定。 在附图中：图1是高速水力测功系统的结构示意图。图2是本发明优选实施例的高速水力测功器的PID控制仿真分析方法 的流程示意图。图3是本发明优选实施例中的单容水槽的水位高度控制示意图。图4是本发明优选实施例的高速水力测功器的PID控制仿真分析方法 的另一实施方式的流程示意图。图5是图4中的步骤S4的子流程示意图。图6是本发明优选实施例的高速水力测功器的PID控制仿真分析方法 的另一实施方式的流程示意图。图7是本发明另一实施例的高速水力测功器的PID控制仿真分析系统 的单元结构示意图。具体实施方式以下结合附图对本发明的实施例进行详细说明，但是本发明可以由下 述所限定和覆盖的多种不同方式实施。如图2所示，本发明的优选实施例提供一种高速水力测功器的PID控 制仿真分析方法，其包括以下步骤：步骤S1：将高速水力测功器的进水、出水阀门的开度控制转化为单 容水槽的进水、出水阀门的开度控制，并建立数学仿真模型；步骤S2：对该数学仿真模型进行参数仿真分析；步骤S3：在连续系统中基于该数学仿真模型进行PID控制仿真分析 以确定PID参数值。其中，高速水力测功器的工作原理为：动力系统通 过中间传动机构与水力测功器本体连接，当动力系统加载时，根据负载需 要，控制水力测功器本体前的进水、出水阀门开度，水力测功器本体内水 量会发生变化，则会改变水力测功器本体的负载大小，即改变其吸功能力。 水力测功器本体工作后，内部水将被内部旋转光盘带转为水盘，水力测功 器本体吸功大小，与水盘的厚度直接相关，水盘的厚度越厚，吸功越多， 即可以通过改变水盘的厚度来改变吸功的大小。通过改变进/出水阀门的开 度，可控制进入水力测功器本体内的水量，而水力测功器本体内部是圆柱 体形状，橫截面积是恒定的，在工作状态下进入本体内水量的变化会导致 水盘厚度变化。如图3所示，单容水槽的上方有进水阀门，下方有出水阀 门，改变其进/出水阀门的开度，可改变单容水槽的水面高度。而由于水力 测功器本体的内部是圆柱形，就如同一个单容水槽，因此，水力测功器本 体吸功规律研究是测功器本体内部水盘厚度的变化与进/出水阀门开度的 关系，就可以转化为对单容水槽的水位高度控制。因此，在所述步骤S1中，将高速水力测功器的进水、出水阀门的开 度控制转化为单容水槽的进水、出水阀门的开度控制，建立单容水槽液面 高度的变化与进水、出水阀门开度之间的关系，其传递函数为：其中，G为单容水槽与进/出水阀门开度之间通过拉式变换导出 的传递函数，C为水面高度的拉式变换输出值，R为阀门开度的 拉式变换输入值，s为拉式变换因子，K为阀门传递系数，T为水槽惯性 系数。阀门传递系数K根据需要进行选择，水槽惯性系数则根据水力测功 器本体的截面尺寸进行设定，在本发明的一具体实施例中，阀门传递系数 K为145，水槽惯性系数T为5。本发明通过将高速水力测功器的进水、 出水阀门的开度控制转化为单容水槽的进水、出水阀门的开度控制，简化 了仿真模型的设计难度。可以理解，在初步确定高速水力测功器的数学仿真模型后，需要对该 数学仿真模型进行参数仿真分析，以评估该数学仿真模型是否满足要求。 所述步骤S2具体为：设定阀门传递系数K和水槽惯性系数T的取值，并对数学仿真模型 的开环频域指标进行分析，以评估系统的稳定性和动态响应速度。例如，设定K为145，T为5，利用计算机辅助设计绘制系统的开环 波德图，通过开环波德图可以大体分析系统的增益交界频率ωc、相位裕度 γ等开环频域指标，初步确定增益交界频率ωc为28.9993Hz，相位裕度γ为 90.395°。通常而言，系统的相位裕度γ值在30°～60°之间时，表示系统 稳定性和动态响应都较好，当该值大于60°后，表示系统过稳定，动态响 应较差。当动态响应慢时，增加系统开环系统增益，可改善系统动态响应 能力。可以理解，本发明通过对数学仿真模型的开关频域指标进行分析， 可以准确评估系统的稳定性和动态响应速度，从而可以根据实际需要来调 节系统的相位裕度值，以便于获取预期的系统稳定性和动态响应速度。可以理解，在完成模型分析后，基于该模型进行PID控制仿真。所述 步骤S3具体为：在连续系统中改变不同的PID参数，得到不同的PID传递函数，对 PID控制效果进行分析以确定PID参数值和PID传递函数。其中，在改变PID参数值后可得到不同的调节时间、上升时间、超调 量等，根据调节时间、上升时间、超调量等是否满足要求可初步确定PID 参数值，进而确定PID传递函数，其中P为0.4715，I为0.005，D为0.05。 例如，调节时间是否小于2s，超调量是否小于5％，上升时间是否小于0.5s 等。可以理解，本实施例的高速水力测功器的PID控制仿真分析方法，经 过理论分析，创造性地将高速水力测功器的进水、出水阀门的开度控制地 转化为单容水槽的进水、出水阀门的开度控制，并依此建立数学仿真模型， 将仿真模型简单化，便于进行后续理论分析，然后对该数学仿真模型进行 参数仿真分析以评估该模型能否满足要求，最后基于该数学仿真模型进行 PID控制仿真分析以确定PID参数值，摸索出控制逻辑关系，为开发实际 的控制软件奠定了基础，为后续真实的控制器调试积累了经验，缩短了调 试时间，降低了调试风险。可以理解，如图4所示，作为优选的，所述高速水力测功器的PID控 制仿真分析方法还包括以下步骤：步骤S4：对数学仿真模型的模型传递函数和PID传递函数进行离散 化后输入离散系统，并对离散系统进行仿真分析以评估离散系统的稳定性 和响应速度。由于上述PID控制仿真分析是在连续系统中进行的，而仿真平台的实 际应用是要基于计算机来实现PID控制的，而计算机控制系统是离散系统， 因此需要对该模型传递函数和PID传递函数在离散系统中应用的稳定性 和响应速度。并且，在将上述数学仿真模型和PID传递函数导入离散系统 前需要对其进行离散化处理，具体是通过计算机辅助设计工具，通过Z变 换零阶保持，实现连续系统的传递函数变换为离散系统的传递函数。其中， Z变换零阶保持的具体离散化过程属于现有技术，故在此不再赘述。本发 明通过对数学仿真模型的模型传递函数和PID传递函数进行离散化处理， 有效分析了该数学仿真模型应用到实际的计算机离散系统中的稳定性和 响应速度。其中，如图5所示，所述步骤S4中对离散系统进行仿真分析以评估 离散系统的稳定性和响应速度的过程具体包括以下内容：步骤S41：仿真得到离散系统的极-零点分布图，并基于极-零点分布 图分析离散系统在开环控制和闭环控制下零点和极点的分布情况，具体地， 通过计算机辅助设计工具计算出系统的特征根，若特征根均在Z平面单位 圆内，依据自动控制离散系统的朱利稳定判据，则评定离散系统稳定；步骤S42：对离散系统进行时域分析，筛选出满足控制要求的频率范 围；步骤S43：对离散系统进行频域分析，评估离散系统的瞬态响应速度。其中，所述步骤S4中对离散系统进行时域分析，筛选出满足控制要 求的频率范围的过程具体包括以下内容：输入不同频率的正弦波信号，观察通过传递函数仿真出的输出信号的 幅值和相位，了解系统的幅频特性和相频特性。例如，筛选出输出信号区 别于输入的正弦波信号时对应的频率值，若该频率值超过20Hz，则判定 该频率能满足控制要求。另外，所述步骤S4中对离散系统进行频域分析，评估离散系统的瞬 态响应速度的过程具体包括以下内容：改变不同的PID参数，在开环和闭环控制条件下仿真得到离散系统的 波特图，分析离散系统在闭环控制下的截止频率ωb是否大于预设值，若大 于则评定离散系统的瞬态响应速度好。经过仿真分析后，在开环控制时增益交界频率ωc为28.9993rad/s，相 位裕度γ为90.395°，闭环控制时截止频率ωb为62.8rad/s。同时，还可以改变模型的参数，即阀门传递系数K和水槽惯性系数T， 在开环和闭环控制条件下，仿真分析得到离散系统的波特图，初步了解模 型参数发生变化时相关参数发生变化的情况。可以理解，如图6所示，作为优选的，所述高速水力测功器的PID控 制仿真分析方法还包括以下步骤：步骤S5：设定期望的控制效果参数值和PID参数工作范围，优化分 析得到最终的PID参数取值。其中，设定一阶的高速水力测功器数学仿真模型的K值和T值、采 样时间，确定模型参数后会显示出该数学模型的开环阶跃图形，通过开环 阶跃图形可以了解系统特性，也可以知道系统的稳定性。然后设置期望的 控制效果参数值，例如最大超调值、调节时间、输出值范围等，然后选择 优化原则，确定PID参数工作范围，进行优化，优化后得到最终的PID参 数取值，经过优化分析后，确定PID参数取值为：P＝0.055，I＝0.014，D＝0.000。另外，如图7所示，本发明的另一实施例还提供一种高速水力测功器 的PID控制仿真分析系统，其优选采用上述实施例所述的方法，该系统包 括：建模单元，用于将高速水力测功器的进水、出水阀门的开度控制转化 为单容水槽的进水、出水阀门的开度控制，并建立数学仿真模型；模型参数仿真单元，用于对所述建模单元建立的数学仿真模型进行参 数仿真分析；PID控制仿真单元，用于在连续系统中基于该数学仿真模型进行PID 控制仿真分析以确定PID参数值。另外，作为优选的，所述高速水力测功器的PID控制仿真分析系统还 包括：离散系统仿真单元，用于对数学仿真模型的模型传递函数和PID传递 函数进行离散化后输入离散系统，并对离散系统进行仿真分析以评估离散 系统的稳定性和响应速度。另外，作为优选的，所述高速水力测功器的PID控制仿真分析系统还 包括：优化单元，用于设定期望的控制效果参数值和PID参数工作范围，优 化分析得到最终的PID参数取值。可以理解，本系统的各个单元的具体工作过程与上述方法实施例的步 骤相对应，故在此不再赘述，参考上述方法实施例即可。可以理解，本实施例的高速水力测功器的PID控制仿真分析系统，经 过理论分析，创造性地将高速水力测功器的进水、出水阀门的开度控制地 转化为单容水槽的进水、出水阀门的开度控制，并依此建立数学仿真模型， 将仿真模型简单化，便于进行后续理论分析，然后对该数学仿真模型进行 参数仿真分析以评估该模型能否满足要求，最后基于该数学仿真模型进行 PID控制仿真分析以确定PID参数值，摸索出控制逻辑关系，为开发实际 的控制软件奠定了基础，为后续真实的控制器调试积累了经验，缩短了调 试时间，降低了调试风险。另外，本发明还提供一种计算机可读取的存储介质，用于存储进行高 速水力测功器的PID控制仿真分析的计算机程序，该计算机程序在计算机 上运行时执行如上所述的方法的步骤。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于 本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精 神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明 的保护范围之内。
