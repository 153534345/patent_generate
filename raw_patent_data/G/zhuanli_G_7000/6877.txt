标题title
L型路径趋势改进A-STAR算法的智能仓储物流机器人路径规划方法
摘要abst
本发明公开L型路径趋势改进A‑STAR算法的智能仓储物流机器人路径规划方法，在A‑STAR算法规划出初始路径之后，依据“尽可能使局部路径与S、T构成的路径趋势一致”的原则，通过路径趋势标识进行优化。局部路径中，邻近的三个节点k‑1、k、k+1构成L型链路时，判断其与当前L型路径趋势标识是否匹配，如果匹配，判断局部链路中间节点k的对角节点D是否为障碍物，如果不是障碍物，则将对角节点D替换该节点k。本发明提出的L型路径趋势改进A‑STAR算方法，以微小的算法运行时间代价，能够有效减少智能仓储物流机器人路径规划中局部路径的转折次数和累计转折角度。
权利要求书clms
1. L型路径趋势改进A-STAR算法的智能仓储物流机器人路径规划方法，其特征在于：其包括以下步骤：步骤1，构建智能仓储环境地图并确定起始位置S和目标位置T，同时利用A-STAR算法得到初始规划路径path以及路径上的节点数N；步骤2，基于起始位置S和目标位置T的相对位置关系分别设置不同的L型路径趋势标识；步骤3，判断节点数是否大于2；是则，执行步骤4；否则，执行步骤8；步骤4，判断当前节点k是否不大于节点数N，k为不小于1的整数且初始值为2；是则，执行步骤5；否则，执行步骤8；步骤5，判断节点k-1、节点k和节点k+1形成的局部L型链路与当前L型路径趋势标识是否匹配；是则，执行步骤6；否则，执行步骤7；步骤6，判断局部L型链路中间节点k的对角节点D上是否有障碍物；是则，保持当前规划路径path不变并执行步骤7；否则，将节点D替换节点k以更新当前规划路径path并执行步骤7；步骤7，当前节点k=k+1，以指示下个节点，并执行步骤4；步骤8，以更新后的规划路径path作为优化后的路径。2.根据权利要求1所述的L型路径趋势改进A-STAR算法的仓储机器人路径规划方法，其特征在于：步骤1中采用栅格法进行智能仓储环境地图。3.根据权利要求1所述的L型路径趋势改进A-STAR算法的仓储机器人路径规划方法，其特征在于：步骤1中智能仓储环境地图中包括拣选工作台、货架、物流机器人。4. 根据权利要求1所述的L型路径趋势改进A-STAR算法的仓储机器人路径规划方法，其特征在于：步骤2中起始位置S在目标位置T的左下方，延长起始位置S、目标位置T所在直线构成直角，以构建L1型路径趋势标识；同理， 起始位置S在目标位置T左上方时，构建L2型路径趋势标识；起始位置S在目标位置T右上方时，构建L3型路径趋势标识；起始位置S在目标位置T右下方时，构建L4型路径趋势标识。5.根据权利要求1所述的L型路径趋势改进A-STAR算法的仓储机器人路径规划方法，其特征在于：步骤5中局部L型链路与起始位置S和目标位置T构成的路径趋势标识刚好组成一个回路时判定为匹配。6.根据权利要求1所述的L型路径趋势改进A-STAR算法的仓储机器人路径规划方法，其特征在于：步骤6中对于物流机器人而言，拣选工作台、货架、其他物流机器人视为障碍物。
说明书desc
技术领域本发明涉及智能仓储技术领域，尤其涉及L型路径趋势改进A-STAR算法的智能仓储物流机器人路径规划方法。背景技术路径规划是物流机器人导航过程中的一个重要环节，物流机器人属于移动机器人中的一种，移动机器人路径规划是指机器人基于环境信息规划出一条从起点到终点的无碰、安全的可行路径，并尽可能地优化路径。机器人路径规划常用方法有可视图法、人工势场法、A-STAR算法、人工智能算法等。A-STAR算法是Dijikstra算法的一个扩展，它利用等代价搜索和启发式搜索来有效地计算最佳优先搜索，使用的时间更少。但A-STAR算法规划出的移动机器人路径存在折线多、转折次数多、累计转折角度大等问题。文献在A-STAR算法初始路径规划的基础上，遍历路径中的所有节点，删除冗余节点，建立平滑A-STAR模型，以极低的计算时间损失有效地降低移动机器人规划路径的长度、转折次数、转折角度,适用于复杂环境路径规划。文献在A-STAR算法初始路径的基础上，通过划分路径步长、删除冗余路径节点的方法，有效地减小路径长度和转折角度，适合多任务点，高障碍率环境下的移动机器人路径规划。文献引入Past列表和Frequency列表，重新定义基本A-STAR算法中的关闭列表，并结合动态避碰规则，实现多机器人小车的路径规划。文献仓储物流中移动机器人多任务调度问题，提出复杂对角线距离算法，改进A-STAR算法的启发函数，实现调度系统中移动机器人总任务完工时间最短，规划之后的路径仍存在冗余节点。智能仓储环境与一般机器人工作环境大不相同，仓储环境中物流机器人可行空间有限，障碍物形状规则，因此，智能仓储环境下的物流机器人路径规划有别于一般移动机器人。发明内容本发明的目的在于提供L型路径趋势改进A-STAR算法的智能仓储物流机器人路径规划方法。本发明采用的技术方案是：L型路径趋势改进A-STAR算法的智能仓储物流机器人路径规划方法，其包括以下步骤：步骤1，构建智能仓储环境地图并确定起始位置S和目标位置T，同时利用A-STAR算法得到初始规划路径path以及路径上的节点数N；步骤2，基于起始位置S和目标位置T的相对位置关系分别设置不同的L型路径趋势标识；步骤3，判断节点数是否大于2；是则，执行步骤4；否则，执行步骤8；步骤4，判断当前节点k是否不大于节点数N，k为不小于1的整数且初始值为2；是则，执行步骤5；否则，执行步骤8；步骤5，判断节点k-1、节点k和节点k+1形成的局部L型链路与当前L型路径趋势标识是否匹配；是则，执行步骤6；否则，执行步骤7；步骤6，判断局部L型链路中间节点k的对角节点D上是否有障碍物；是则，保持当前规划路径path不变并执行步骤7；否则，将节点D替换节点k以更新当前规划路径path并执行步骤7；步骤7，当前节点k＝k+1，以指示下个节点，并执行步骤4；步骤8，以更新后的规划路径path作为优化后的路径。进一步地，步骤1中采用栅格法构建智能仓储环境地图。进一步地，步骤1中智能仓储环境地图中主要包括拣选工作台、货架、物流机器人等。进一步地，步骤2中起始位置S在目标位置T的左下方，延长起始位置S、目标位置T所在直线构成直角，以构建L1型路径趋势标识；同理，起始位置S在目标位置T左上方时，构建L2型路径趋势标识；起始位置S在目标位置T右上方时，构建L3型路径趋势标识；起始位置S在目标位置T右下方时，构建L4型路径趋势标识。进一步地，步骤5中局部L型链路与起始位置S和目标位置T构成的路径趋势标识刚好组成一个回路时判定为匹配。进一步地，步骤6中对于物流机器人而言，拣选工作台、货架、其他物流机器人视为障碍物。本发明采用以上技术方案，对于布满货架、可行空间有限的智能仓储系统环境而言，相较于路径总长度的减少，对减少转折次数和转折角度的需求更迫切，一方面便于控制物流小车的转向，另一方面，更有利于作业安全。与此同时，L型路径趋势改进A-STAR算法运行时间较平滑A-STAR算法运行时间短，在大规模智能仓储环境路径规划中，算法运行时间短显然更有优势。附图说明以下结合附图和具体实施方式对本发明做进一步详细说明；图1为L型路径趋势标识示意图；图2为本发明L型路径趋势改进A-STAR算法的智能仓储物流机器人路径规划方法的流程示意图；图3基于现有技术的平滑A-STAR算法的智能仓储物流机器人路径规划结果；图4基于本发明的L型路径趋势改进A-STAR算法的智能仓储物流机器人路径规划方法的规划结果。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图对本申请实施例中的技术方案进行清楚、完整地描述。现有技术的A-STAR算法规划出的移动机器人路径存在折线多、转折次数多、累计转折角度大等问题。智能仓储环境与一般机器人工作环境大不相同，仓储环境中物流机器人可行空间有限，障碍物形状规则，因此，智能仓储环境下的物流机器人路径规划有别于一般移动机器人。如图1至图4之一所示，本发明公开了L型路径趋势改进A-STAR算法的智能仓储物流机器人路径规划方法，其包括以下步骤：步骤1，构建智能仓储环境地图并确定起始位置S和目标位置T，同时利用A-STAR算法得到初始规划路径path以及路径上的节点数N；步骤2，基于起始位置S和目标位置T的相对位置关系分别设置不同的L型路径趋势标识；步骤3，判断节点数是否大于2；是则，执行步骤4；否则，执行步骤8；步骤4，判断当前节点k是否不大于节点数N，k为不小于1的整数且初始值为2；是则，执行步骤5；否则，执行步骤8；步骤5，判断节点k-1、节点k和节点k+1形成的局部L型链路与当前L型路径趋势标识是否匹配；是则，执行步骤6；否则，执行步骤7；步骤6，判断局部L型链路中间节点k的对角节点D上是否有障碍物；是则，保持当前规划路径path不变并执行步骤7；否则，将节点D替换节点k以更新当前规划路径path并执行步骤7；步骤7，当前节点k＝k+1，以指示下个节点，并执行步骤4；步骤8，以更新后的规划路径path作为优化后的路径。进一步地，步骤1中采用栅格法构建智能仓储环境地图。进一步地，步骤1中智能仓储环境地图中主要包括拣选工作台、货架、物流机器人等。进一步地，步骤2中起始位置S在目标位置T的左下方，延长起始位置S、目标位置T所在直线构成直角，以构建L1型路径趋势标识；同理，起始位置S在目标位置T左上方时，构建L2型路径趋势标识；起始位置S在目标位置T右上方时，构建L3型路径趋势标识；起始位置S在目标位置T右下方时，构建L4型路径趋势标识。进一步地，步骤5中局部L型链路与起始位置S和目标位置T构成的路径趋势标识刚好组成一个回路时判定为匹配。进一步地，步骤6中对于物流机器人而言，拣选工作台、货架、其他物流机器人视为障碍物。下面就本发明的具体工作原理做详细说明：对于布满货架、可行空间有限的智能仓储系统环境而言，相较于路径总长度的减少，对减少转折次数和转折角度的需求更迫切，一方面便于控制物流小车的转向，另一方面，更有利于作业安全。与此同时，L型路径趋势改进A-STAR算法运行时间较平滑A-STAR算法运行时间短，在大规模智能仓储环境路径规划中，算法运行时间短显然更有优势。智能仓储环境不同于一般的移动机器人所处环境，智能仓储环境中障碍物主要是货架、拣选工作台、随机障碍物等，这些障碍物都是规则、有序且相对固定，轮廓近似矩形。与此同时，智能仓储环境中过道，即可行空间相对有限，因此，“锯齿形”路径主要出现在拣选工作台附近的局部区域，即，需要重点优化的区域。在智能仓储环境中，从起始位置S到目标位置T形成的最终路径可以近似看做是L趋势，当各部分路径都和该L趋势一致时，则该路径的转折节点数最少。如图1所示，本发明根据起始位置S与目标位置T的几何关系，构造四种L型路径趋势标识，分别为L1、L2、L3和L4。路径趋势标识的构建方法。以L1型路径趋势标识为例，起始位置S在目标位置T的左下方，延长S、T所在直线构成直角，构建L1型路径趋势标识。同样地，S在T左上方时，构建L2型路径趋势标识；S在T右上方时，构建L3型路径趋势标识；S在T右下方时，构建L4型路径趋势标识。如图2所示，路径趋势标识的使用方法。在A-STAR算法规划出初始路径之后，依据“尽可能使局部路径与S、T构成的路径趋势一致”的原则，通过路径趋势标识进行优化。具体规则如下：局部路径中，邻近的三个节点构成L型链路时，判断其与当前L型路径趋势标识是否匹配，如果匹配，判断局部链路中间节点k的对角节点D是否为障碍物，如果不是障碍物，则将对角节点D替换该节点k。如图1所示，以L1型路径趋势标识优化为例。当前，S与T构成L1型路径趋势，初始路径中局部路径k-1、k、k+1三个节点构成的链路，呈现出L型形状，，因此需要进行优化。现判断D节点是否为障碍物，如果否，则节点k替换成节点D；如果是，则不处理。此时，链路变成S、k-1、D、k+1、T，该链路中，只有1个转折，从而，减少了转折的节点，使路径变得平滑。其他L型路径趋势标识优化方法与此类推。在实验中，分别用平滑A-STAR算法和本发明提出的L型路径趋势标识对A-STAR算法获得的初始路径进行优化，结果如图3和图4所示。表1 A-STAR算法改进前后智能仓储物流机器人路径规划结果比较与A-STAR算法规划的初始路径比较可以发现，平滑A-STAR算法中，路径长度较初始路径减少8.7％；转折节点减少2个，减少率为40％；累计转折角度减少225°，减少率为50％，即在一定程度上达到了减少路径总长度、转折节点数和累计转折角度的效果。与A-STAR算法初始路径比较，L型路径趋势改进A-STAR算法，其路径总长度没有减少，但转折节点减少3个，减少率为60％；累计转折角度减少270°，减少率为60％。L型路径趋势改进A-STAR算法转折节点减少率较平滑A-STAR算法高20％，L型路径趋势改进A-STAR算法累计转折角度减少率较平滑A-STAR算法高10％。本发明采用以上技术方案，以微小的算法运行时间代价，有效减少了局部路径中的转折次数和累计转折角度。对于布满货架、可行空间有限的智能仓储系统环境而言，相较于路径总长度的减少，对减少转折次数和转折角度的需求更迫切，一方面便于控制物流小车的转向，另一方面，更有利于作业安全。与此同时，L型路径趋势改进A-STAR算法运行时间较平滑A-STAR算法运行时间短，在大规模智能仓储环境路径规划中，算法运行时间短显然更有优势。显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。通常在此处附图中描述和示出的本申请实施例的组件可以以各种不同的配置来布置和设计。因此，本申请的实施例的详细描述并非旨在限制要求保护的本申请的范围，而是仅仅表示本申请的选定实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。参考文献：席裕庚，张纯刚.一类动态不确定环境下机器人的滚动路径规划.自动化学报,2002,28:161-175.KNUTH D E.A generalization of Dijkstra's algorithm.InformationProcessing Letters,1977,6:1-5.王红卫,马勇,谢勇,郭敏.基于平滑A～*算法的移动机器人路径规划.同济大学学报,2010,38:1647-1650+1655.孙炜,吕云峰,唐宏伟,薛敏.基于一种改进A-STAR算法的移动机器人路径规划.湖南大学学报,2017,44:94-101.高小杰.仓储系统中机器人小车路径规划算法研究.北京:北京邮电大学,2017.王秀红,刘雪豪,王永成.基于改进A～*算法的仓储物流移动机器人任务调度和路径优化研究.工业工程,2019,22:34-39.
