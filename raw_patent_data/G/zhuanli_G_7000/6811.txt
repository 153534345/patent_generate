标题title
一种基于SAX的电能质量数据处理的方法及电子设备
摘要abst
本申请公开一种基于SAX的电能质量数据处理的方法及电子设备，其包括如下步骤，获取电能质量数据，构建电能质量数据集；获取均值化电能质量数据集，获取递归电能质量数据矩阵；获取标准化电能质量数据序列；获取降维后的标准化电能质量数据序列；获取符号化电能质量数据序列；基于符号化电能质量数据序列获取符号化电能质量数据序列之间的距离，用于判断数据是否受噪声干扰；将距离超过阈值的电能质量数据标注为受噪声干扰数据并删除，以获得电能质量数据处理结果集；本公开实现电能质量数据处理，减少处理时间，保证数据处理结果正确性。
权利要求书clms
1.一种基于SAX的电能质量数据处理的方法，其包括如下步骤，步骤1：获取电能质量数据，并根据所述电能质量数据构建电能质量数据集；步骤2：对所述电能质量数据集进行均值化处理，获取均值化电能质量数据集，基于递归主成分分析法对所述均值化电能质量数据集进行处理，获取递归电能质量数据矩阵；步骤3：基于z-score标准化方法对所述递归电能质量数据矩阵进行处理，获取标准化电能质量数据序列；步骤4：基于降维方法对所述标准化电能质量数据序列降维处理，获取降维后的标准化电能质量数据序列；步骤5：基于符号化分析方法对降维后的所述标准化电能质量数据序列进行符号化处理，获取符号化电能质量数据序列；步骤6：基于所述符号化电能质量数据序列获取符号化电能质量数据序列之间的距离，用于判断数据是否受噪声干扰；步骤7：将所述距离超过阈值的所述电能质量数据标注为受噪声干扰数据并删除，以获得电能质量数据处理结果集。2.根据权利要求1所述的方法，其特征在于，所述电能质量数据集为S＝{S1,S2,…,Si,…Sk}式中，S为第m组采集的电能质量数据集；Si为S的子集，i＝1,2,3，…k；k表示电能质量数据种类的总数。3.根据权利要求2所述的方法，其特征在于，所述获取均值化电能质量数据集的计算公式为：式中，S*为均值化电能质量数据集；为S*的子集；式中，ρi＝maxSi。4.根据权利要求3所述的方法，其特征在于，所述基于递归主成分分析法对所述均值化电能质量数据集进行处理，获取递归电能质量数据矩阵，包括：步骤21：基于所述均值化电能质量数据集构建电能质量数据矩阵式中，为第m组电能质量数据矩阵；步骤22：计算电能质量数据矩阵的特征均值矩阵式中，Cm为中样本个数，bm＝T；特征均值矩阵写为式中，N为特征变量的个数；步骤23：将第m组和第m+1组电能质量数据矩阵合并组成新的矩阵步骤24：用表示，计算公式为：式中，Cm为中样本个数，bm+1＝T；写为步骤25：计算递归电能质量数据矩阵式中，5.根据权利要求4所述的方法，其特征在于，所述基于z-score标准化方法对所述递归电能质量数据矩阵进行处理，获取标准化电能质量数据序列，包括：步骤31：将所述递归电能质量数据矩阵Zm+1改写为Zm+1＝，其中，zi为Zm+1的子序列；步骤32：对所述递归电能质量数据矩阵Zm+1进行z-score标准化处理，得到标准化电能质量数据序列，所述标准化电能质量数据序列为：Z'＝{z′1,z'2,…,z'm} 式中，ζzi为子序列zi中元素的平均值；σzi为子序列zi中元素的标准差。6.根据权利要求5所述的方法，其特征在于，所述基于降维方法对所述标准化电能质量数据序列进行降维处理，获取降维后的标准化电能质量数据序列，包括：其中式中，L是压缩前标准化电能质量数据序列z′i的长度；K是压缩后标准化电能质量数据序列的长度；j＝1，2，…，K。7.根据权利要求6所述的方法，其特征在于，所述基于符号化分析方法对所述降维后的标准化电能质量数据序列进行符号化处理，获取符号化电能质量数据序列，以提取符号化电能质量数据序列的变化特征，包括：将降维后的标准化电能质量序列Z*分割成ε个等概率区间，分割区间序列的分割点为ei；用相同符号表示处于同一个区间的序列值，最终获取的符号化电能质量数据序列可描述为即如果降维后的标准化电能质量序列Z*∈本发明属于电能质量分析技术领域，特别地，涉及一种基于SAX的电能质量数据处理的方法及装置。背景技术近年来，电能质量数据呈指数级增长。主要原因为：电能质量稳态指标类型多，主要包括电压、电流、频率、电压谐波、电流谐波等，多达220个指标；电能质量监测系统的监测点数量巨大；随着监测要求的提高，使得采样间隔逐渐降低，相应采样数量大大增加。因此有必要对电能质量数据进行压缩处理，方便实现对电网的谐波分析、不平衡度、畸变率、频率偏差等参数计算，有助于控制电网的经济安全运行。所以如何高效地处理电能质量数据成为电能质量监测和分析的关键。发明内容鉴于现有技术中存在的上述问题，本公开旨在提供一种易于简化、方便可靠、计算精度高的基于SAX的电能质量数据处理的方法。为实现上述目的，本发明实施例采用的技术方案是：一方面，本公开提供一种基于SAX的电能质量数据处理的方法，其包括如下步骤，步骤1：获取电能质量数据，并根据所述电能质量数据构建电能质量数据集；步骤2：对所述电能质量数据集进行均值化处理，获取均值化电能质量数据集，基于递归主成分分析法对所述均值化电能质量数据集进行处理，获取递归电能质量数据矩阵；步骤3：基于z-score标准化方法对所述递归电能质量数据矩阵进行处理，获取标准化电能质量数据序列；步骤4：基于降维方法对所述标准化电能质量数据序列降维处理，获取降维后的标准化电能质量数据序列；步骤5：基于符号化分析方法对降维后的所述标准化电能质量数据序列进行符号化处理，获取符号化电能质量数据序列；步骤6：基于所述符号化电能质量数据序列获取符号化电能质量数据序列之间的距离，用于判断数据是否受噪声干扰；步骤7：将所述距离超过阈值的所述电能质量数据标注为受噪声干扰数据并删除，以获得电能质量数据处理结果集。在本公开的一些实施例中，所述电能质量数据集为S＝{S1,S2,…,Si,…Sk}式中，S为第m组采集的电能质量数据集；Si为S的子集，i＝1,2,3，…k；k表示电能质量数据种类的总数。在本公开的一些实施例中，所述获取均值化电能质量数据集的计算公式为：式中，S*为均值化电能质量数据集；为S*的子集；式中，ρi＝maxSi。在本公开的一些实施例中，所述基于递归主成分分析法对所述均值化电能质量数据集进行处理，获取递归电能质量数据矩阵，包括：步骤21：基于所述均值化电能质量数据集构建电能质量数据矩阵式中，为第m组电能质量数据矩阵；步骤22：计算电能质量数据矩阵的特征均值矩阵式中，Cm为中样本个数，bm＝T；特征均值矩阵写为式中，N为特征变量的个数；步骤23：将第m组和第m+1组电能质量数据矩阵合并组成新的矩阵步骤24：用表示，计算公式为：式中，Cm为中样本个数，bm+1＝T；写为步骤25：计算递归电能质量数据矩阵式中，在本公开的一些实施例中，所述基于z-score标准化方法对所述递归电能质量数据矩阵进行处理，获取标准化电能质量数据序列，包括：步骤31：将所述递归电能质量数据矩阵Zm+1改写为Zm+1＝，其中，zi为Zm+1的子序列；步骤32：对所述递归电能质量数据矩阵Zm+1进行z-score标准化处理，得到标准化电能质量数据序列，所述标准化电能质量数据序列为：Z'＝{z'1,z'2,…,z'm} 式中，ζzi为子序列zi中元素的平均值；σzi为子序列zi中元素的标准差。在本公开的一些实施例中，所述基于降维方法对所述标准化电能质量数据序列进行降维处理，获取降维后的标准化电能质量数据序列，包括：其中式中，L是压缩前标准化电能质量数据序列z'i的长度；K是压缩后标准化电能质量数据序列的长度；j＝1，2，…，K。在本公开的一些实施例中，所述基于符号化分析方法对所述降维后的标准化电能质量数据序列进行符号化处理，获取符号化电能质量数据序列，以提取符号化电能质量数据序列的变化特征，包括：将降维后的标准化电能质量序列Z*分割成ε个等概率区间，分割区间序列的分割点为ei；用相同符号表示处于同一个区间的序列值，最终获取的符号化电能质量数据序列可描述为即如果降维后的标准化电能质量序列Z*∈在本公开的一些实施例中，基于所述符号化电能质量数据序列获取符号化电能质量数据序列之间的距离，用于判断数据是否受噪声干扰，其中，所述距离通过公式获得：在本公开的一些实施例中，所述将所述距离超过阈值的所述电能质量数据标注为受噪声干扰数据并删除，以获得电能质量数据处理结果集，包括：若和两组符号化电能质量数据序列保留；若且满足说明为受噪声干扰数据集，将其删除；其中，删除受噪声干扰数据集后，根据剩余数据构建所述电能质量数据处理结果集，完成电能质量数据处理。另一方面，本公开提供一种电子设备，包括，处理器；存储装置，其上存储有计算机程序；当所述处理器执行所述存储装置上的计算机程序时，使得电子设备实现所述基于SAX的电能质量数据处理的方法。与现有技术相比较，本发明的有益效果在于：本发明实施例提供的通过基于SAX的电能质量数据处理的方法，针对海量、高维的电能质量时间序列数据，对电能质量时间序列进行符号化表示，进而减少数据处理时间，保证电能质量数据处理结果的可靠性。附图说明图1为本发明提供的基于SAX的电能质量数据处理的装置的结构示意图；图2为本发明提供的基于SAX的电能质量数据处理的方法的流程图。具体实施方式下面，结合附图对本发明的具体实施例进行详细的描述，但不作为本发明的限定。为使本领域技术人员更好的理解本公开的技术方案，下面结合附图和具体实施方式对本公开作详细说明。下面结合附图和具体实施例对本公开的实施例作进一步详细描述，但不作为对本公开的限定。本公开使用的所有术语与本公开所属领域的普通技术人员理解的含义相同，除非另外特别定义。还应当理解，在诸如通用字典中定义的术语应当被解释为具有与它们在相关技术的上下文中的含义相一致的含义，而不应用理想化或极度形式化的意义来解释，除非这里明确地这样定义。对于相关领域普通技术人员已知的技术、方法和设备可能不作详细讨论，但在适当情况下，所述技术、方法和设备应当被视为说明书的一部分。在本发明运用了SAX时间序列的符号聚合近似的算法，为便于理解本实施例的技术方案，在此对SAX算法做一简要说明。该算法是将时间序列转换为字符串。其独特之处在于允许降维，还允许在符号表示上定义距离度量。它允许在有效操作的符号表示上运行某些数据挖掘算法，同时产生与对原始数据进行操作的算法相同的结果。图1示出了可以应用本发明实施例的一种基于SAX的电能质量数据处理的方法的电子设备100。如图1所示，电子设备100包括处理器；存储装置，其上存储有计算机程序；当所述处理器执行所述存储装置上的计算机程序时，使得电子设备100实现如所述基于SAX的电能质量数据处理的方法。在本发明实施例中，电子设备100通过网络与外部数据采集装置交互，以接收由所述外部数据采集装置提供的电能质量数据。在本实施例中，网络可以包括各种连接类型，例如有线、无线通信链路或者光纤电缆等等。电子设备100可以通过处理器101向外部数据采集装置发送电能质量的监测指令。处理器101上可以安装有各种客户端应用。例如，电能质量数据监测类应用、电能质量数据的显示工具等。这里的处理器101可以是硬件，也可以是软件。当处理器101为硬件时，可以是具有显示屏的各种电子设备，包括但不限于智能手机、平板电脑和台式计算机等等。当处理器101为软件时，可以是安装在上述所列举的电子设备中。其可以是多个软件或软件模块，也可以实现成单个软件或软件模块。在此不做具体限定。存储装置102可以是提供各种服务的服务器，但不限于此。例如，可以是对处理器101所安装的应用提供支持的后台存储装置。后台存储装置102接收到由处理器101分析处理后的电能质量数据，并将分析结果进行存储。当处理器101发送的查询调用分析数据的指令时，存储装置102及时提供相关的分析结果，以可以对这些电能质量数据进行进一步的分析处理。这里的存储装置102同样可以是硬件，也可以是软件。当服务器102为硬件时，可以实现成多个服务器组成的分布式服务器集群，也可以实现成单个服务器。当服务器102为软件时，可以实现成多个软件或软件模块，也可以实现成单个软件或软件模块。在此不做具体限定。需要说明的是，本发明实施例所提供的基于SAX的电能质量数据处理的方法一般可以由处理器101执行。应该理解，图1中的处理器101和存储装置的数目仅仅是示意性的。根据实现需要，可以具有任意数目的处理器101和存储装置。参见图2，其示出了本发明提供的基于SAX的电能质量数据处理的方法的一实施例的流程200。该方法可以包括如下步骤：步骤S1，获取电能质量数据，并根据所述电能质量数据构建电能质量数据集；在本实施例中，基于SAX的电能质量数据处理的方法的执行主体可以通过多种方式来获取目标电网的由数据采集装置采集的电能质量数据。例如，执行主体可以通过有线连接方式或无线连接方式，接收用户使用终端发送的目标电网的电能质量数据。又例如，执行主体可以从网上资源、数据库或从电网电能质量检测系统中获取目标电网的电能质量数据。再例如，执行主体可以通过数据采集装置对目标电网进行实际检测，从而得到其电能质量数据。这里的目标电网可以是需要进行监测的任意电网，如需要进行用电高峰期状况监测的城市。受检测对象的所处地理位置、波动情况等在本实施例中并不限制。在本实施例中，执行主体可以基于获取的目标电网的由数据采集装置采集的电能质量数据来得到电能质量数据。例如，执行主体可以对获取的目标电网的电能质量数据进行预处理，从而得到电能质量数据集。而预处理过程通常是为得到所需的目标电能质量数据而进行的相关处理。在这里，预处理方法和目标电能质量数据可以根据用户的实际需求进行设置。作为示例，电能质量数据可以为目标电网的特定区域的电能质量数据。此时，执行主体可以对获取的目标电网的电能质量数据进行预处理，例如，筛选，从而获得包含有该特定城市的电能质量数据的电能质量数据集。在本实施例中，所述电能质量数据包含频率、电压偏差、电压波动、电压暂降、电压不平衡度、谐波、闪变的数据，但不限于此，可根据分析的目的进行对应调整。此外，所述电能质量数据可从安装在电网监测点的数据采集设备获得。在获取所述电能质量数据集后，将所述电能质量数据构建为电能质量数据集，具体方法为：第m组电能质量数据集的结构如式所示：S＝{S1,S2,…,Si,…Sk}式中：S为第m组采集的电能质量数据集。在本实施例中，在采集电能质量数据的过程中，可以通过设定不同的时间间隔进行裁剪。例如，通常每隔15min采集一组电能质量数据。式中下标i＝1,2,3，…k；k表示电能质量数据种类的总数；一般情况下，k取7，i从小到大分别表示频率、电压偏差、电压波动、电压暂降、电压不平衡度、谐波、闪变等电能质量的不同种类。此外，还可根据应用场景的差异，对电能质量的种类进行有目的的选择，替换上述种类中的某个，进而以不同的方式满足不同的检测需求。将一段时间内采集的所有电能质量数据组合成为电能质量数据集，用S表示，S＝{S,S,…S}。步骤2：对所述电能质量数据集进行均值化处理，获取均值化电能质量数据集，并基于递归主成分分析法对所述均值化电能质量数据集进行处理，获取递归电能质量数据矩阵。为此，在本实施例中，进一步地，根据式将第m组第i种电能质量数据均值化，式中，ρi＝maxSi。将所有k种均值化电能质量数据组合成为均值化电能质量数据集，公式为：式中：S*为第m组均值化电能质量数据集；在获取均值化电能质量数据集后，通过对均值化电能质量数据进行特征提取，提取其独特的特征有助于对其进行针对性的处理。为此，本实施例基于改进主成分分析法对均值化电能质量数据特征进行处理。主成分分析作为一种将原始多个指标转换成少数相互独立指标的多元统计方法，是一种有效的特征提取方法，在本发明中，通过该分析方法，能够为进一步分析电能质量数据的性质和统计特征提供重要信息。由于在许多领域的研究与应用中，往往需要对反映事物的多个变量进行大量的观测，收集大量数据以便进行分析寻找规律。多变量大样本无疑会为研究和应用提供丰富的信息，但也在一定程度上增加了数据采集的工作量，更重要的是在多数情况下，许多变量之间可能存在相关性，从而增加了问题分析的复杂性，对分析带来不便。另外，如果分别对每个指标进行分析，由于分析往往是孤立的，而不是综合的，盲目减少指标会损失很多关联信息，进而容易导致产生错误的结论，出现分析结果不准确的情况。因此需要找到一个合理的方法，在减少需要分析指标的同时，尽量降低原指标包含信息的损失，以达到对所收集数据进行全面分析的目的。由于各变量间存在一定的相关关系，因此有可能用较少的综合指标分别综合存在于各变量中的各类信息。而主成分分析方法就属于这类降维的方法。在本实施例中，选择主成分分析对均值化电能质量数据集进行标准化处理的目的就是防止不同特征变量的量纲和数量级对处理结果可能产生影响。在电力系统工作过程中，由于电能质量数据不断积累，通常情况下，依据统计学原理设计的电能质量数据处理方法为相对静止的，在实际应用中并不合适。为此，在本发明实施例中，通过递归主成分分析提取不同的电能质量数据特征，进而以降低计算代价，得到整体电能质量数据的协方差阵及其特征值、特征相量，实现特征提取。具体地，通过步骤21：基于所述均值化电能质量数据集构建电能质量数据矩阵式中：为第m组电能质量数据矩阵；步骤22：计算电能质量数据矩阵的特征均值矩阵；特征均值可描述成：式中：由m组、Cm个数据组成，bm＝T；特征均值可写为矩阵的形式：因此，又被称为特征均值矩阵，在式中，N为特征变量的个数。步骤23：将第m组和第m+1组电能质量数据矩阵合并组成新的矩阵：步骤24：用表示，计算公式为：式中为矩阵的特征均值矩阵；根据式，可写成矩阵的形式步骤25：计算递归电能质量数据矩阵；将的各个子矩阵构成对角矩阵即，根据对角矩阵和第m+1组电能质量数据矩阵标准化处理后的递归表达矩阵可描述成：步骤3：基于z-score标准化方法对所述递归电能质量数据矩阵进行处理，获取标准化电能质量数据序列，具体包括：步骤31：将所述标准化处理后的递归电能质量数据矩阵Zm+1改写为矩阵形式Zm+1＝，其中，zi为Zm+1的子矩阵。步骤32：在本实施例中，所述标准化处理后的递归电能质量数表达矩阵Zm+1进行z-score标准化处理，得到标准化电能质量数据序列，所述标准化电能质量数据序列为：Z'＝{z'1,z'2,…,z'm}首先，计算所述标准化处理后的递归表达矩阵子序列zi中元素的平均值ζzi；计算zi中元素的标准差σzi；计算将所有的计算结果zi'组成序列Z'＝{z'1,z'2,…,z'm}。该序列称为标准化电能质量数据序列。Z-Score标准化处理是通过将两组或多组数据转化为无单位的Z-Score分值，使得数据标准统一化，提高了数据可比性，削弱了数据解释性。步骤4：所述基于降维方法对所述标准化电能质量数据序列进行降维处理，获取降维后的标准化电能质量数据序列，具体方法为：按照式计算式中：L是降维压缩前标准化电能质量数据序列的长度；K是降维压缩后的长度；j＝1，2，…，K；将所有的组成序列即构成降维后的标准化电能质量数据序列：步骤5：基于符号化分析方法对降维后的所述标准化电能质量数据序列进行符号化处理，获取符号化电能质量数据序列。在本发明实施例中，进一步地，对序列Z*进行符号化处理，具体方法为：将序列Z*分割为ε个等概率区间，根据表1获取分割点xi数值；i＝1,2，……，ε-1；ε一般取2～8。表1分割区间序列的分割点取值例如，在本发明的一实施例中，若将序列Z*分割为2个等概率区间，分割点x1＝0.00；若将序列Z*分割为3个等概率区间，分割点x1＝-0.43，x2＝0.43；若将序列Z*分割为4个等概率区间，分割点x1＝-0.67，x2＝0.00；x3＝0.67；其他情况以此类推。在进行符号化处理过程中，先将序列Z*中某一数值进行符号映射，当低于最低分割点值的情况下，将其映射成符号a；高于最低分割点值，低于次低分割点值的情况下，将其映射成符号b；高于次低分割点值，低于第三次低分割点值的情况下，将其映射成符号c；以此类推，直至所有的与所有的分割点值进行比较，完成符号映射为止。映射符号采用英文字母a，b，c，d，……等表示；映射符号的个数与数值相同。为理解符号映射过程，在此举例说明。例如，在本发明的一个实施例中，某序列Z*＝{0.9143，-0.4592，0.6006，-0.7162，-0.1565，0.8315，0.5844}为降维后的标准化电能质量数据序列，将其分割为3个等概率区间，即，当ε＝3时，分割点x1＝-0.43，x2＝0.43；根据前述方法，该序列数值中小于x1的数值映射为a，大于x1小于x2的数值映射为b，大于映射x2的数值为c，因此，可得符号化序列{c,a,c,a,b,c,c}。通过上述符号映射处理后，将降维后的标准化电能质量序列Z*分割成ε个等概率区间，分割区间序列的分割点为ei；用相同符号表示处于同一个区间的序列值，最终获取的符号化电能质量数据序列。也就是说，按照前述符号映射的方法，方法序列Z*中的数值可映射为字母表中的字母所有的组成序列其表达式为：序列称为符号化电能质量数据序列；当降维后的标准化电能质量序列数值Z*∈步骤6：基于所述符号化电能质量数据序列获取符号化电能质量数据序列之间的距离，用于判断数据是否受噪声干扰，其中，按照式计算符号化电能质量数据序列中与之间的距离：式中：v和w对应符号在字母表中的序号；例如，在本发明的一个实施例中，根据公式计算与之间的距离，结合表1，当ε＝8时，若取a，取e，则v取1，w取5，dis＝xmax-1-xmin＝0.18-＝1.25。例如，在本发明的一个实施例中，在符号总数为7的情况下，也就是用a、b、c、d、e、f、g共7个符号对时间序列进行描述，不同符号间的距离如表2所示：表2符号总数为7时各符号间的距离当然，在实际应用中，通常将分割区间设定为7个，但不限于此，可根据不同的应用场景进行选择。例如，可根据对数据分析结果的误差容忍程度选择分割区间的个数。步骤7：将所述距离超过阈值的所述电能质量数据标注为受噪声干扰数据并删除，以获得电能质量数据处理结果集。在本实施例中，若和两组符号化电能质量数据序列保留；若且满足说明为受噪声干扰数据集，将其删除；其中，在删除受干扰的数据集后，根据剩余数据构建所述电能质量数据处理结果集，完成电能质量数据处理，进而可获得电能质量数据处理结果。此外，尽管在此描述了说明性的实施例，但是范围包括具有基于本公开的等效要素、修改、省略、组合、调整或变更的任何和所有实施例。权利要求中的要素将基于权利要求中使用的语言进行宽泛地解释，而不限于本说明书中或在本申请的存续期间描述的示例。此外，所公开的方法的步骤可以以任何方式进行修改，包括通过重新排序步骤或插入或删除步骤。因此，意图仅仅将描述视为例子，真正的范围由权利要求及其全部等同范围表示。以上描述旨在是说明性的而非限制性的。例如，上述示例可以彼此组合使用。在阅读以上描述之后，例如本领域普通技术人员可以使用其他实施例。而且，在以上详细描述中，可以将各种特征组合在一起以简化本公开。这不应被解释为意图未请求保护的公开特征对于任何权利要求是必不可少的。因此，权利要求作为示例或实施例结合到具体实施方式中，其中每个权利要求自身作为单独的实施例，并且可以预期这些实施例可以以各种组合或置换彼此组合。应参考所附权利要求以及这些权利要求所赋予的等同物的全部范围来确定本发明的范围。
