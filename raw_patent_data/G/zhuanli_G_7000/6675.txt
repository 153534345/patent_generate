标题title
具系统设定数据同步功能的服务器
摘要abst
本案提供一种服务器。该服务器包含BIOS内存及控制电路。BIOS内存储存BIOS程序代码及一实际设定数据。控制电路在服务器之一开机自我检测阶段中自云端服务器读取对应该服务器的当前设定数据，并比对该实际设定数据与当前设定数据，当该实际设定数据与对应的当前设定数据不符时，控制电路发送该实际设定数据至云端服务器，使该实际设定数据覆盖当前设定数据。
权利要求书clms
1.一种服务器，用以联机于一云端服务器，其特征在于，该服务器包含：一BIOS内存，储存一BIOS程序代码及一实际设定数据，该实际设定数据报含分别对应若干个BIOS设定选项的若干个实际设定；及一控制电路，耦接该BIOS内存，用以在该服务器之一开机自我检测阶段中自该云端服务器读取对应该服务器之一第一当前设定数据，该第一当前设定数据报含分别对应该些BIOS设定选项的若干个第一当前设定，并比对分别对应该些BIOS设定选项的该些实际设定与该些第一当前设定，当任一该实际设定与对应之该第一当前设定不符时，该控制电路发送该实际设定数据至该云端服务器，使该些实际设定覆盖对应的该些第一当前设定而更新该些第一当前设定为若干个第二当前设定，以供借由网络联机至该云端服务器而取得包含该些第二当前设定之一第二当前设定数据。2.如权利要求1所述的服务器，其特征在于，该控制电路在读取该第一当前设定数据之前，更在该开机自我检测阶段中判断该云端服务器中是否包含对应该服务器之一更新设定数据，当该云端服务器中未包含该更新设定数据时，该控制电路始自该云端服务器读取该第一当前设定数据。3.如权利要求2所述的服务器，其特征在于，当该云端服务器中包含该更新设定数据时，该控制电路根据该更新设定资更新对应的该些实际设定，该服务器于该些实际设定更新后重置，该控制电路于该服务器重置后判定该云端服务器中已无包含该更新设定数据，该控制电路读取该第一当前设定数据，以比对更新后之该些实际设定与对应之该些第一当前设定。4.如权利要求1所述的服务器，其特征在于，该更新设定数据系储存于具有一预设档名且对应于该服务器之一更新档案中，该更新档案系由该云端服务器根据该服务器之一标识符及该预设档名所建立，该控制电路系根据该默认文件名自该更新档案中读取该第一当前设定数据。5.如权利要求1所述的服务器，其特征在于，该控制电路系借由利用表现层状态转换协议技术之一应用程序编程接口自该云端服务器读取该第一当前设定数据，并借由该应用程序编程接口发送该实际设定数据至该云端服务器，该云端服务器更借由该网页化之应用程序编程接口提供该第一当前设定数据及该第二当前设定数据。6.一种服务器，其特征在于，包含：一第一非挥发性内存，储存一BIOS程序代码及一实际设定数据，该实际设定数据报含分别对应若干个BIOS设定选项的若干个实际设定；一基板管理控制器；一第二非挥发性内存，耦接该基板管理控制器，用以储存一当前设定数据，该当前设定数据报含分别对应该些BIOS设定选项的若干个第一当前设定；及一控制电路，耦接该第一非挥发性内存，用以在该服务器之一开机自我检测阶段中读取该当前设定数据，并比对分别对应该些BIOS设定选项的该些实际设定与该些第一当前设定，当任一该实际设定与对应之该第一当前设定不符时，该控制电路发送该实际设定数据至该第二非挥发性内存，使该些实际设定覆盖对应的该些第一当前设定，以更新该些第一当前设定为若干个第二当前设定。7.如权利要求6所述的服务器，其特征在于，该基板管理控制器具有联机于一远程装置之一网络联机功能，该基板管理控制器更借由该网络联机功能自该远程装置接收对应该些BIOS设定选项之一更新设定数据，并将该更新设定数据储存于该第二非挥发性内存中具有一默认文件名之一更新档案。8.如权利要求6所述的服务器，其特征在于，该控制电路在读取该当前设定数据之前，更在该开机自我检测阶段中判断该第二非挥发性内存中是否包含对应该些BIOS设定选项之一更新设定数据，当该第二非挥发性内存中未包含该更新设定数据时，该控制电路始自该第二非挥发性内存读取该当前设定数据。9.如权利要求8所述的服务器，其特征在于，当该第二非挥发性内存中包含该更新设定数据时，该控制电路根据该更新设定资更新对应的该些实际设定，该服务器于该些实际设定更新后重置，该控制电路于该服务器重置后判定该第二非挥发性内存中已无包含该更新设定数据，该控制电路读取该当前设定数据，以比对更新后之该些实际设定与对应之该些第一当前设定。10.如权利要求8所述的服务器，其特征在于，该更新设定数据系储存于具有一预设档名之一更新档案中，该更新档案系由该基板管理控制器根据该预设档名所建立，该控制电路系根据该默认文件名自该更新档案中读取该当前设定数据。
说明书desc
技术领域本案是关于一种服务器，且特别是关于BIOS设定选项之设定数据之服务器。背景技术随着科技之进步，人们需要储存之信息量大幅地扩展，云端储存或云端备份的数据中心已被广泛地使用，也就是由第三方提供并代管多台云端服务器，使用者借由在线储存的方式，将数据存放在前述第三方营运大型的数据中心，来满足数据储存的需求，用户不需要在办公室里安装实体的储存装置，大大减少设备与管理的成本。企业或个人在管理其工作站之服务器时，亦可以借由前述之云端服务器储存工作站服务器之实际系统设定，如此有助于管理者快速地参考记录于云端服务器之当前系统设定，借此，管理者可以透过网络登录云端服务器，以参考与工作站服务器对应的当前系统设定，并透过网络对云端服务器储存的当前系统设定进行修改，以于工作站服务器重启的过程，由工作站服务器自云端服务器加载管理者借由云端服务器对当前系统设定所做的修改，以间接修改工作站服务器的实际系统设定。然而，管理者还可以以另一种方式来对工作站服务器之实际系统设定进行修改，也就是，管理者可以在线下直接借由与工作站服务器链接的输入设备或计算机直接修改工作站服务器之实际系统设定，但是同时支持两种修改方式，容易造成实际系统设定与当前系统设定不一致的问题，倘若管理者又在实际系统设定与当前系统设定不一致的状况下，将储存于云端服务器且与工作站服务器之实际系统设定不一致之当前系统设定视为工作站服务器之实际系统设定，来对云端服务器储存之当前系统设定进行修改，则可能因为参考到与工作站服务器之实际系统设定不符的当前系统设定而对工作站服务器间接地进行错误之设定，则可能造成工作站服务器于重启后无法正常运作的问题。发明内容本发明要解决的技术问题是提供一种近端服务器，其具系统设定数据同步功能的服务器为解决上述技术问题，本案提供一种近端服务器包含BIOS内存及控制电路。BIOS内存储存BIOS程序代码及一实际设定数据。控制电路耦接BIOS内存，用以在近端服务器启动后，借由执行该BIOS程序代码以进行一开机自我检测阶段，并于该开机自我检测阶段中自云端服务器读取对应近端服务器之一当前设定数据，例如以该近端服务器启动后所读取对应近端服务器之该当前设定数据报含若干个第一当前设定，并比对分别对应一BIOS设定选项的实际设定数据的若干个实际设定与该些第一当前设定，当任一实际设定与对应的第一当前设定不符时，控制电路发送该实际设定数据至云端服务器，使每一实际设定覆盖第一当前设定，以更新云端服务器中对应该近端服务器之当前设定数据，例如以其中一实际设定将当前设定数据中对应的第一当前设定更新为第二当前设定借此以更新当前设定数据。为解决上述技术问题，本案提供一种服务器包含第一非挥发性内存、基板管理控制器、第二非挥发性内存及控制电路。第一非挥发性内存储存BIOS程序代码及实际设定数据，其中，该实际设定数据报含分别对应若干个BIOS设定选项的若干个实际设定。第二非挥发性内存耦接基板管理控制器，用以储存对应该实际设定数据之一当前设定数据。控制电路耦接第一非挥发性内存，用以在服务器启动后借由执行该BIOS程序代码以进行一开机自我检测阶段，并于该开机自我检测阶段中读取该当前设定数据，所取得的该当前设定数据报含分别对应该些实际设定的若干个第一当前设定，并比对每一实际设定与对应的第一当前设定，当任一实际设定与对应的第一当前设定不相符时，控制电路发送实际设定数据至第二非挥发性内存，使每一实际设定覆盖对应的第一当前设定，以更新第二非挥发性内存中对应该实际设定数据的该当前设定数据，例如将当前设定数据中的每一第一当前设定分别更新为一第二当前设定。相较于现有技术，本发明的具系统设定数据同步功能的服务器，不论管理者系借由云端服务器储存近端服务器的实际设定数据对应之当前设定数据或是借由外挂于基板管理控制器之非挥发性内存储存服务器的实际设定数据对应之当前设定数据，服务器均可确保其两者为一致，管理者借此并不会参考到与实际设定数据不一致的错误的当前设定数据，也就是管理者可根据实际实时与实际设定数据同步且正确之当前设定数据来对服务器进行进一步的设定。【附图说明】图1为根据本案之服务器之第一实施例之示意图。图2为根据本案之服务器使用之实际设定数据与当前设定数据之同步方法之一实施例之流程图。图3为根据本案之服务器之第二实施例之示意图。【具体实施方式】图1为根据本案之服务器之第一实施例之示意图，请参照图1，服务器1可借由网络3联机于云端服务器2，云端服务器2可为借由网络3链接若干个个近端服务器1的远程服务器，云端服务器2储存有一当前设定数据，其中，当前设定数据报含分别对应一基本输入输出系统设定选项之一第一当前设定，用户可透过网络3或是直接借由与云端服务器2直接链接的输入设备或计算机操作云端服务器2以读取当前设定数据并借由当前设定数据得知对应的近端服务器1所对应的实际设定数据为何。基此，为使近端服务器1之实际设定数据与当前设定数据一致，近端服务器1可比对实际设定数据与对应的当前设定数据，并判断其两者是否相符，以决定是否更新当前设定数据，使储存在云端服务器2的当前设定数据与近端服务器1所储存之实际设定数据一致。详细而言，如图1所示，近端服务器1包含BIOS内存11及耦接BIOS内存11之控制电路12。BIOS内存11储存有BIOS程序代码，且BIOS内存11储存有对应BIOS程序代码之可设定之若干个BIOS设定选项所对应的实际设定数据。如前所述，为确保储存在云端服务器2的当前设定数据与近端服务器1的实际设定数据一致，在近端服务器1之每次进行开机自我检测阶段中，也就是要结束开机自我检测阶段前且即将进入加载操作系统的这段时间，使用者若要直接连接近端服务器1以对实际设定数据进行修改，由于开机程序并不容许随意地中断，因此这个直接修改实际设定数据的动作，必须在开机自我检测程序结束前至加载操作系统这段期间，也就是必要的硬件及系统设定均以检查设应完成后，系统才会允许用户借由切换进入BIOS开机选单，以供使用者于BIOS开机选单中，对实际设定数据进行修改，控制电路12借由执行BIOS程序代码自云端服务器2读取前述之当前设定数据，且控制电路12执行BIOS程序代码以得到对应当前设定数据的实际设定数据，控制电路12接着比对当前设定数据与实际设定数据，控制电路12判断当前设定数据与实际设定数据是否一致，若当前设定数据中的任一第一当前设定与实际设定数据中对应的实际设定不一致时，控制电路12可借由网络3将包含全部的实际设定的实际设定数据发送至云端服务器2，以更新当前设定数据。于是，云端服务器2中之第一当前设定数据受到来自近端服务器1之实际设定数据覆盖，云端服务器2储存有近端服务器1对应若干个BIOS设定选项的第二当前设定数据报含若干个第二当前设定，第二当前设定即为近端服务器1的若干个BIOS设定选项的实际设定，也就是第二当前设定与BIOS内存11储存且分别对应其中一BIOS设定选项的实际设定一致，近端服务器1之管理者借由云端服务器2查看近端服务器1之BIOS设定选项时并不会参考到第一当前设定数据之第一当前设定，也就是管理者可根据实际且分别正确对应当下之实际设定之第二当前设定数据之第二当前设定来对近端服务器1进行进一步作设定修改。在一实施例中，在步骤S01中，控制电路12可自云端服务器2下载对应近端服务器1的当前设定数据，例如更新前之第一当前设定数据，或是更新后之第二当前设定数据，并将当前设定数据储存在缓冲器中。并且，控制电路12亦可将自BIOS内存11取得之实际设定数据储存在缓冲器中，以借由缓冲器储存之数据执行步骤S02之比对动作。其中，控制电路12可将当前设定数据及实际设定数据分别储存在不同的缓冲器中。在一实施例中，管理者可将对应近端服务器1之实际设定数据的更新设定数据储存在云端服务器2，近端服务器1可借由网络3联机至云端服务器2，并检查云端服务器2是否包含对应近端服务器1之更新设定数据，当管理者将更新设定数据储存在云端服务器2时，近端服务器1即可根据更新设定数据所包含的若干个更新设定更新其所分别对应的实际设定数据中的实际设定，以借由远程之间接的方式完成近端服务器1的实际设定数据之更新。基此，在近端服务器1之每次开机自我检测阶段中，控制电路12在执行步骤S01之前系先透过网络3联机至云端服务器2，控制电路12判断云端服务器2是否包含对应其实际设定数据之更新设定数据，当云端服务器2未包含更新设定数据时，控制电路12即执行步骤S01，以读取云端服务器2储存之当前设定数据，并接着执行步骤S02。另一方面，在步骤S04中，当云端服务器2已包含对应近端服务器1之更新设定数据时，控制电路12先根据更新设定数据更新对应的实际设定数据，使云端服务器2中之更新设定数据的每一更新设定与对应的近端服务器1中的对应实际设定相符。待更新步骤完成之后，近端服务器1重置，控制电路12在近端服务器1重置后之开机自我测试程序中再次地执行步骤S04，以判断云端服务器2是否包含前述之更新设定数据。此时，由于控制电路12在重置前之开机自我测试程序中已根据更新设定数据更新其实际设定数据，在重置后之开机自我测试程序中，控制电路12判断出云端服务器2并未包含对应其实际设定数据之更新设定数据，控制电路12即跳过BIOS设定选项之更新步骤S05，控制电路12执行步骤S01、S02。在步骤S02中，由于控制电路12已更新实际设定数据的实际设定，控制电路12在步骤S02中即判断出实际设定数据的其中至少一实际设定与对应的第一当前设定为不一致。举例来说，以前述之第一当前设定为例，若控制电路12以更新设定数据中的其中一个更新设定更新其中一个对应的实际设定数据的实际设定，例如控制电路12更新实际设定数据中的第四实际设定，则控制电路12判断出更新后之第四实际设定与相应之第一当前设定并不相同。接着，控制电路12将实际设定数据发送至云端服务器2，使BIOS内存11储存之实际设定数据与云端服务器2储存之当前设定数据之间为一致。在一实施例中，在步骤S02中，当控制电路12判断出近端服务器1之实际设定数据与对应的当前设定数据一致时，例如当前设定数据更新为第二当前设定数据之后，控制电路12判断出实际设定数据与第二当前设定数据一致，控制电路12继续执行BIOS程序代码以继续执行近端服务器1之开机流程。再者，当控制电路12判断出近端服务器1之实际设定数据与对应的当前设定数据不一致时，例如实际设定数据与第一当前设定数据不一致，控制电路12在执行步骤S03之后亦继续执行近端服务器1之开机流程。在一实施例中，云端服务器2在启动时可侦测其自身是否包含用以储存近端服务器1之实际设定数据对应之更新设定数据之更新档案，若更新档案不存在，云端服务器2则根据对应近端服务器1之一标识符所对应的预设档名建立更新档案。近端服务器1之管理者可借由网页之接口依据前述之默认档名找到更新档案，并在更新档案中建立或修改欲更新之近端服务器1的其中至少一BIOS设定选项所对应之第一当前设定以作为更新设定数据的其中至少一更新设定。再者，更新档案包含之更新设定数据可仅对应部分之BIOS设定选项，例如，近端服务器1包含50个BIOS设定选项，更新设定数据可仅对应其中的三个BIOS设定选项的实际设定数据，也就是说当近端服务器1以更新设定数据更新其自身的实际设定数据，近端服务器1仅能以更新设定数据更新自身的实际设定数据中对应的三个实际设定，或是其他部分数量之BIOS设定选项对应的实际设定数据。在一实施例中，近端服务器1系以利用表现层状态转换协议技术之应用程序编程接口通讯于云端服务器2，以在步骤S01中自云端服务器2读取当前设定数据且在步骤S03中发送对应的近端服务器1的实际设定数据至云端服务器2。并且，云端服务器2亦可以网页化之应用程序编程接口显示前述之第一当前设定及第二当前设定，以供管理者参考对应近端服务器1之当前设定数据来得知对应的近端服务器1的实际设定数据被修改的历史记录及当下最新的状态。请参照图3，图3为根据本案之服务器之第二实施例之示意图。图3示例一服务器4，服务器4包含基板管理控制器41、控制电路42、第一非挥发性内存43及第二非挥发性内存44。第一非挥发性内存43耦接控制电路42，控制电路42耦接基板管理控制器41，基板管理控制器41耦接第二非挥发性内存44，且基板管理控制器41具有联机于远程装置5之网络联机功能。第一非挥发性内存43即为前述之BIOS内存11，第一非挥发性内存43系储存前述之BIOS程序代码及对应若干个BIOS设定选项之实际设定数据，于此不再赘述。第二非挥发性内存44系用以储存对应于第一非挥发性内存43中储存之实际设定数据之当前设定数据以及对应之更新档案。换言之，第二实施例与第一实施例之差异在于，对应于第一非挥发性内存43中之BIOS程序代码所执行的BIOS设定选项的实际设定数据所对应当前设定数据以及更新设定数据是储存在服务器4内部耦接于基板管理控制器41之第二非挥发性内存44中而不是储存在其它服务器中。再者，在第二实施例中，服务器4之管理者可操作一远程装置5透过网络3联机至服务器4之基板管理控制器41，管理者可借由基板管理控制器41之网络接口将更新设定数据储存在第二非挥发性内存44中，也就是基板管理控制器41可自远程装置5接收更新设定数据，并将更新设定数据储存于第二非挥发性内存44中。基此，请合并参照图2及图3，在服务器4的开机自我检测阶段中，也就是在一开始进行开机自我检测阶段或是在即将进行开机自我检测阶段前，由于服务器4一般在包括自身主要组件的控制电路42初始化后、平台路径控制器 等与执行BIOS程序代码相关的主要组件初始化），即会加载由控制电路42加载BIOS程序代码及其对应的实际设定数据来进行开机自我检测，所以使用更新设定数据来更新实际设定数据是在一开始进行开机自我检测阶段或是在即将进行开机自我检测阶段前，控制电路42系借由基板管理控制器41确认第二非挥发性内存44中是否包含BIOS设定选项之更新设定数据，控制电路42可发送讯号至基板管理控制器41，使基板管理控制器41回报第二非挥发性内存44中是否包含更新设定数据。当第二非挥发性内存44包含更新设定数据时时，例如管理者已借由前述之远程装置5将更新设定数据储存于第二非挥发性内存44，控制电路42借由基板管理控制器41取得更新设定数据。其中，控制电路42可发送控制讯号至基板管理控制器41，使基板管理控制器41回传储存在第二非挥发性内存44中之更新设定数据，控制电路42接着根据更新设定数据更新BIOS设定选项。待BIOS设定选项的设定数据更新完成之后，服务器4重置，在重置后之开机自我检测阶段中，也就是要结束开机自我检测阶段前且即将进入加载操作系统的这段时间，控制电路42再次地执行步骤S04而判断更新设定数据是否存在，此时，由于控制电路42在服务器4重置前已根据更新设定数据更新其部分BIOS设定选项所对应的实际设定数据，并由基板管理控制器41自第二非挥发性内存44中移除已被用来更新实际设定数据的更新设定数据，也就是在基板管理控制器41传送更新数据至控制电路42进行实际设定数据的更新后，基板管理控制器41即将第二非挥发性内存44中的更新设定数据视为已被使用来更新实际设定数据的更新设定数据，在重置后之开机自我检测阶段中，基板管理控制器41回报第二非挥发性内存44中未包含更新设定数据，使控制电路42判断出第二非挥发性内存44并未包含更新设定数据，相对于由基板管理控制器41自第二非挥发性内存44中移除已被用来更新实际设定数据的更新设定数据，基板管理控制器41也可以仅对已被使用来更新实际设定数据的更新数据进行标示，或是直接对已被使用且包含更新设定数据的更新档案进行标示，以表示更新档案所包含的更新设定数据已被使用，在重置后之开机自我检测阶段中，基板管理控制器41回报第二非挥发性内存44中未包含未被使用的更新设定数据，使控制电路42判断出第二非挥发性内存44并未包含未被使用的更新设定数据，控制电路42即读取储存在第二非挥发性内存44之当前设定数据。其中，控制电路42可再发送控制讯号给基板管理控制器41，使基板管理控制器41回传储存在第二非挥发性内存44中之当前设定数据。控制电路42接着判断储存在第一非挥发性内存43中之实际设定数据与第二非挥发性内存44中的对应当前设定数据是否一致，由于控制电路42已经以更新设定数据更新实际设定数据，此时，控制电路42产生为不一致之判断结果，控制电路42接着将更新后的实际设定数据发送至基板管理控制器41，使基板管理控制器41将更新后的实际设定数据储存于第二非挥发性内存44，以覆盖原先储存在第二非挥发性内存44中之当前设定数据而作为最新之当前设定数据。尔后，若管理者未借由基板管理控制器41储存更新设定数据于第二非挥发性内存44且管理者未直接在控制电路42执行BIOS程序代码时借由开机选单修改BIOS设定选项的设定数据或是透过工具连接服务器4以直接修改实际设定数据，在每次的开机自我检测阶段中，控制电路42在执行步骤S04时将产生更新设定数据未存在之判断结果，并据以执行步骤S01、S02，且控制电路42在执行步骤S02时将产生BIOS程序代码对应之BIOS设定选项的实际设定数据与包含第二当前设定的当前设定数据为一致之判断结果，近端服务器1之管理者借由远程装置5联机至基板管理控制器41查看服务器4之BIOS设定选项时并不会在近端服务器1的实际设定数据中的每一实际设定已被更新为对应每一第二当前设定后还参考到更新前之第一当前设定，也就是管理者可根据实际且正确之第二当前设定来维护或对服务器4做设定。在第二实施例中，控制电路42在步骤S02中亦可以前述之缓冲器比对第一非挥发性内存43中储存之实际设定数据与第二非挥发性内存44中储存之当前设定数据是否一致，于此不再赘述。综上所述，根据本案之服务器之一实施例，不论管理者系借由云端服务器储存近端服务器的实际设定数据对应之当前设定数据或是借由外挂于基板管理控制器之非挥发性内存储存服务器的实际设定数据对应之当前设定数据，服务器均可确保其两者为一致，管理者借此并不会参考到与实际设定数据不一致的错误的当前设定数据，也就是管理者可根据实际实时与实际设定数据同步且正确之当前设定数据来对服务器进行进一步的设定。虽然本案已以实施例揭露如上然其并非用以限定本案，任何所属技术领域中具有通常知识者，在不脱离本案之精神和范围内，当可作些许之更动与润饰，故本案之保护范围当视后附之专利申请范围所界定者为准。
