标题title
一种电容式电压互感器计量误差的预测方法及系统
摘要abst
本发明涉及一种电容式电压互感器计量误差的预测方法及系统，其方法包括：获取待测互感器的多个误差数据；将每个所述误差数据剥离为自身误差和附加误差，并将多个所述自身误差处理为时间序列；将所述时间序列输入到训练完成的LSTM模型中，得到待测互感器的自身误差预测值；根据温度信息和频率信息计算待测互感器的附加误差预测值；融合待测互感器的误差预测值和附加误差预测值，得到待测互感器的最终预测值。本发明通过对电容式电压互感器的误差剥离，并结合LSTM模型提高了误差预测的准确性，并实现长期预测。
权利要求书clms
1.一种电容式电压互感器计量误差的预测方法，其特征在于，包括：获取待测互感器的多个误差数据；将每个所述误差数据剥离为自身误差和附加误差，并将多个所述自身误差处理为时间序列；将所述时间序列输入到训练完成的LSTM模型中，得到待测互感器的自身误差预测值；根据温度信息和频率信息计算待测互感器的附加误差预测值；融合待测互感器的误差预测值和附加误差预测值，得到待测互感器的最终预测值。2.根据权利要求1所述的电容式电压互感器计量误差的预测方法，其特征在于，所述将所述误差数据剥离为自身误差和附加误差包括如下步骤：计算温度附加误差；计算频率附加误差；根据所述误差数据、温度附加误差和频率附加误差确定自身误差。3.根据权利要求2所述的电容式电压互感器计量误差的预测方法，其特征在于，所述根据所述自身误差通过如下方法计算：，其中：f为自身误差,f为误差数据;△f为温度附加误差，△f为频率附加误差。4.根据权利要求1所述的电容式电压互感器计量误差的预测方法，其特征在于，所述训练完成的LSTM模型通过如下步骤训练：根据时间序列构建数据集，并对数据集进行归一化处理得到序列F`；将最小均方根误差作为目标函数，并利用序列F`训练所述的LSTM模型，直至其目标函数值达到阈值并趋于稳定，得到训练完成的LSTM模型。5.根据权利要求4所述的电容式电压互感器计量误差的预测方法，其特征在于，还包括：选择时间尺度，将F`分为训练集与测试集；利用训练未完成的LSTM模型对归一化后的互感器自身误差数据F`进行预测，输出互感器自身误差在t上某日的预测数据f`；其中t表示时间尺度，7天≤t≤60天；对互感器自身误差数据f`进行反归一化运算，得到互感器自身误差预测值f。6.根据权利要求1至5任一项所述的电容式电压互感器计量误差的预测方法，其特征在于，所述获取待测互感器的多个误差数据包括：利用箱线图法对所述待测互感器的误差数据进行异常处理。7.一种电容式电压互感器计量误差的预测系统，其特征在于，包括：获取模块，用于获取待测互感器的多个误差数据；剥离模块，用于将每个所述误差数据剥离为自身误差和附加误差，并将多个所述自身误差处理为时间序列；预测模块，用于将所述时间序列输入到训练完成的LSTM模型中，得到待测互感器的自身误差预测值；融合模块，用于根据温度信息和频率信息计算待测互感器的附加误差预测值；融合待测互感器的误差预测值和附加误差预测值，得到待测互感器的最终预测值。8.根据权利要求7所述的电容式电压互感器计量误差的预测系统，其特征在于，所述剥离模块包括第一计算单元、第二计算单元、确定单元，第一计算单元，用于计算温度附加误差；第二计算单元，用于计算频率附加误差；确定单元，用于根据所述误差数据、温度附加误差和频率附加误差确定自身误差。9.一种电子设备，其特征在于，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1至6任一项所述的电容式电压互感器计量误差的预测方法。10.一种计算机可读介质，其特征在于，其上存储有计算机程序，其中，所述计算机程序被处理器执行时实现如权利要求1至6任一项所述的电容式电压互感器计量误差的预测方法。
说明书desc
技术领域本发明属于电力计量与深度学习技术领域，具体一种电容式电压互感器计量误差的预测方法及系统。背景技术作为电能计量装置的重要组成部分，互感器计量性能的准确可靠直接关系到电能贸易结算的公平公正。电容式电压互感器是由串联电容器分压，再经电磁式互感器降压和隔离，作为用来变换电压的仪器，电容式电压互感器还可以将载波频率耦合到输电线用于长途通信、选择性的线路高频保护、遥控等功能上。和常规的电磁式电压互感器相比，电容式电压互感器器除了具有冲击绝缘强度高、制造简单、体积小、重量轻等优点外，在经济和安全上还有很多优越之处。为避免二次信息系统信息源的不准确，并减少电能计量的损失和保证测控保护装置的正常运行，如何预测CVT误差变化趋势，以提前预警CVT出现的风险，是一项技术难题。现有技术中基于ARMA必须根据历史数据特征不断调整参数，需要多次人工判断；2）对下一个采样时刻预测或近期趋势预测效果较好，但对于预测较远时间段的预测值与实际值差距过大。发明内容为解决电容式电压互感器计量误差的预测中准确率不高，需要多次人工调整参数的问题，在本发明的第一方面提供了一种电容式电压互感器计量误差的预测方法，包括：获取待测互感器的多个误差数据；将每个所述误差数据剥离为自身误差和附加误差，并将多个所述自身误差处理为时间序列；将所述时间序列输入到训练完成的LSTM模型中，得到待测互感器的自身误差预测值；根据温度信息和频率信息计算待测互感器的附加误差预测值；融合待测互感器的误差预测值和附加误差预测值，得到待测互感器的最终预测值。在本发明的一些实施例中，所述将所述误差数据剥离为自身误差和附加误差包括如下步骤：计算温度附加误差；计算频率附加误差；根据所述误差数据、温度附加误差和频率附加误差确定自身误差。进一步的，所述根据所述自身误差通过如下方法计算：，其中：f为自身误差,f为误差数据;△f为温度附加误差，△f为频率附加误差。进一步的，所述温度附加误差通过如下方法计算：，其中S为待测互感器的额定负荷，sinφ为一常数；ac为温度系数;Δt为测量点温度与20℃的差值，ωn为待测互感器的额定角频率；C1为待测互感器的高压电容；C2为待测的互感器低压电容；U1为待测互感器的中间变压器原边电压;△f为温度附加误差。进一步的，所述频率附加误差通过如下方法计算：，其中，ω为待测互感器的平均角频率，ωn为额定角频率，U1为额定中压电压。在本发明的一些实施例中，所述训练完成的LSTM模型通过如下步骤训练：根据时间序列构建数据集，并对数据集进行归一化处理得到序列F` ；将最小均方根误差作为目标函数，并利用序列F`训练所述的LSTM模型，直至其目标函数值达到阈值并趋于稳定，得到训练完成的LSTM模型。进一步的，还包括：选择时间尺度，将F`分为训练集与测试集；利用训练未完成的LSTM模型对归一化后的互感器自身误差数据F`进行预测，输出互感器自身误差在t上某日的预测数据f`；其中t表示时间尺度，7天≤t≤60天；对互感器自身误差数据f`进行反归一化运算，得到互感器自身误差预测值f。在上述的实施例中，所述获取待测互感器的多个误差数据包括：利用箱线图法对所述待测互感器的误差数据进行异常处理。本发明的第二方面，提供了一种电容式电压互感器计量误差的预测系统，包括：获取模块，用于获取待测互感器的多个误差数据；剥离模块，用于将每个所述误差数据剥离为自身误差和附加误差，并将多个所述自身误差处理为时间序列；预测模块，用于将所述时间序列输入到训练完成的LSTM模型中，得到待测互感器的自身误差预测值；融合模块，用于根据温度信息和频率信息计算待测互感器的附加误差预测值；融合待测互感器的误差预测值和附加误差预测值，得到待测互感器的最终预测值。在本发明的一些实施例中，所述剥离模块包括第一计算单元、第二计算单元、确定单元，第一计算单元，用于计算温度附加误差；第二计算单元，用于计算频率附加误差；确定单元，用于根据所述误差数据、温度附加误差和频率附加误差确定自身误差。本发明的第三方面，提供了一种电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现本发明第一方面提供的电容式电压互感器计量误差的预测方法。本发明的第四方面，提供了一种计算机可读介质，其上存储有计算机程序，其中，所述计算机程序被处理器执行时实现本发明第一方面提供的电容式电压互感器计量误差的预测方法。本发明的有益效果是：本发明提出了一种基于深度学习的电容式电压互感器误差状态趋势预测方法，采用误差剥离的方法，对CVT误差数据进行预处理，并利用LSTM算法构造趋势预测模型，将互感器自身误差预测值和附加误差预测值相加，预测较长时间段误差值并能得到互感器误差状态预测曲线。附图说明图1为本发明的一些实施例中的电容式电压互感器计量误差的预测方法的基本流程示意图；图2为本发明的一些实施例中的电容式电压互感器计量误差的预测方法的具体流程示意图；图3为本发明的一些实施例中的电容式电压互感器计量误差的预测方法的验证效果示意图；图4为本发明的一些实施例中的电容式电压互感器计量误差的预测系统的具体结构示意图；图5为本发明的一些实施例中的电子设备的结构示意图。具体实施方式以下结合附图对本发明的原理和特征进行描述，所举实例只用于解释本发明，并非用于限定本发明的范围。参考图1与图2，在本发明的第一方面，提供了一种电容式电压互感器计量误差的预测方法，包括：S100.获取待测互感器的多个误差数据；S200.将每个所述误差数据剥离为自身误差和附加误差，并将多个所述自身误差处理为时间序列；S300.将所述时间序列输入到训练完成的LSTM模型中，得到待测互感器的误差预测值；S400.根据温度信息和频率信息计算待测互感器的附加误差预测值；融合待测互感器的误差预测值和附加误差预测值，得到待测互感器的最终预测值。上述LSTM模型还可替换为GRU、TCN、Transformer等提取或生成时间序列的深度学习模型。将一个或多个时间段内的自身误差处理为时间序列，利用深度学习模型生成或识别误差改变了误差的属性，即改变了基于ARMA的CVT误差状态预测模型的方式，预测时不再依赖于历史数据，也无需人工进行调参或判断，并可实现长期预测。需要说明的是，上述自身误差和附加误差仅为说明的方便而命名，其实际意义等同为误差的两个部分，自身误差仅与电容式电压互感器中的各个元件属性有关，附加误差仅与外部环境因素有关。为了更好地区分不同因素带来的误差，提高误差预测的准确性，在本发明的一些实施例的S200中，所述将所述误差数据剥离为自身误差和附加误差包括如下步骤：S201.计算温度附加误差；S202.计算频率附加误差；S203.根据所述误差数据、温度附加误差和频率附加误差确定自身误差。进一步的，步骤S201中，所述温度附加误差通过如下方法计算：，其中S为待测互感器的额定负荷，sinφ为一常数；ac为温度系数;Δt为测量点温度与20℃的差值，ωn为待测互感器的额定角频率；C1为待测互感器的高压电容；C2为待测的互感器低压电容；U1为待测互感器的中间变压器原边电压;△f为温度附加误差。测量点温度可简化为当日平均气温，得到当日温度附加误差△f。进一步的，步骤S202中，所述频率附加误差通过如下方法计算：，其中，ω为待测互感器的平均角频率，ωn为额定角频率，U1为额定中压电压。步骤S203中，计算剥离温度频率附加误差后的互感器当日自身误差：，其中：f为剥离后的自身误差;f为经过预处理后的原始误差数据，△f为温度附加误差，△f为频率附加误差。在本发明的一些实施例的步骤S300中，所述训练完成的LSTM模型通过如下步骤训练：根据时间序列构建数据集，并对数据集进行归一化处理得到序列F`；将最小均方根误差作为目标函数，并利用序列F`训练所述的LSTM模型，直至其目标函数值达到阈值并趋于稳定或满足训练完成条件，得到训练完成的LSTM模型。可选的，训练完成条件包括梯度不再变化、准确率达到阈值或迭代次数达到上限等。具体地，包括：S301.对互感器自身误差数据组成时间序列作为数据集，并对数据集进行归一化处理，得到序列F`；S302.利用LSTM算法对互感器自身误差数据集进行模型训练，调整隐藏层的数量参数，寻获预测模型的最小均方根误差，得到最优趋势预测模型M；S303.选择时间尺度t天，将F`分为训练集与测试集，利用预测模型M对归一化后的互感器自身误差数据F`进行预测，输出互感器自身误差在t上某日的预测数据f`；对互感器自身误差数据f`进行反归一化运算，得到互感器自身误差预测值f。在本发明的一些实施例的步骤S300中，根据温度信息和频率信息计算待测互感器的附加误差预测值；融合待测互感器的误差预测值和附加误差预测值，得到待测互感器的最终预测值。具体地，根据天气预报等外部数据，得到对应时间预测的温度信息T，计算时间t下的温度附加误差预测值，附加频率误差默认为0，得到最终的互感器比差预测值f=△f’+f,并连接得到F，绘制误差状态预测曲线以供分析判断。示意性地，图3示出了某站点的电压互感器约三个月的误差估计数据，将约70%的数据作为训练数据，30%的数据作为验证数据，其中：横坐标表示时间，单位为天；纵坐标表示误差；通过模型预测出的某站点某互感器5段数据的预测结果时序图。其中，圆形点为误差估计值验证数据，方形点为误差预测值。在上述的实施例中，所述获取待测互感器的多个误差数据包括：利用箱线图法对所述待测互感器的误差数据进行异常处理。具体地，获取被观测系统时间序列数据，通过站级误差评估系统，获取误差估计值，并采集当日站内相关数据。实际运行中，可能会出现人为因素等造成的粗大误差，需对获取到的误差数据进行异常值处理。其中，误差值和的值被剔除，以减小异常值在预测时的影响。其中Q3为上四分位点，Q1为下四分位点，IQR为Q3-Q1。在预测阶段，剔除的异常值采取后续时序值直接补进的方法补齐。实施例2参考图4，本发明的第二方面，提供了一种电容式电压互感器计量误差的预测系统1，包括：获取模块11，用于获取待测互感器的多个误差数据；剥离模块12，用于将每个所述误差数据剥离为自身误差和附加误差，并将多个所述自身误差处理为时间序列；预测模块13，用于将所述时间序列输入到训练完成的LSTM模型中，得到待测互感器的自身误差预测值；融合模块14，用于根据温度信息和频率信息计算待测互感器的附加误差预测值；融合待测互感器的误差预测值和附加误差预测值，得到待测互感器的最终预测值。在本发明的一些实施例中，所述剥离模块12包括第一计算单元、第二计算单元、确定单元，第一计算单元，用于计算温度附加误差；第二计算单元，用于计算频率附加误差；确定单元，用于根据所述误差数据、温度附加误差和频率附加误差确定自身误差。实施例3参考图5，本发明的第三方面，提供了一种电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现本发明的第一方面的方法。电子设备500可以包括处理装置501，其可以根据存储在只读存储器502中的程序或者从存储装置508加载到随机访问存储器503中的程序而执行各种适当的动作和处理。在RAM 503中，还存储有电子设备500操作所需的各种程序和数据。处理装置501、ROM 502以及RAM 503通过总线504彼此相连。输入/输出接口505也连接至总线504。通常以下装置可以连接至I/O接口505：包括例如触摸屏、触摸板、键盘、鼠标、摄像头、麦克风、加速度计、陀螺仪等的输入装置506；包括例如液晶显示器、扬声器、振动器等的输出装置507；包括例如硬盘等的存储装置508；以及通信装置509。通信装置509可以允许电子设备500与其他设备进行无线或有线通信以交换数据。虽然图5示出了具有各种装置的电子设备500，但是应理解的是，并不要求实施或具备所有示出的装置。可以替代地实施或具备更多或更少的装置。图5中示出的每个方框可以代表一个装置，也可以根据需要代表多个装置。特别地，根据本公开的实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本公开的实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信装置509从网络上被下载和安装，或者从存储装置508被安装，或者从ROM 502被安装。在该计算机程序被处理装置501执行时，执行本公开的实施例的方法中限定的上述功能。需要说明的是，本公开的实施例所描述的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是——但不限于——电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本公开的实施例中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。而在本公开的实施例中，计算机可读信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读信号介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括但不限于：电线、光缆、RF等等，或者上述的任意合适的组合。上述计算机可读介质可以是上述电子设备中所包含的；也可以是单独存在，而未装配入该电子设备中。上述计算机可读介质承载有一个或者多个计算机程序，当上述一个或者多个程序被该电子设备执行时，使得该电子设备：可以以一种或多种程序设计语言或其组合来编写用于执行本公开的实施例的操作的计算机程序代码，程序设计语言包括面向对象的程序设计语言—诸如Java、Smalltalk、C++、Python，还包括常规的过程式程序设计语言—诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络——包括局域网或广域网——连接到用户计算机，或者，可以连接到外部计算机。附图中的流程图和框图，图示了按照本公开各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，该模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
