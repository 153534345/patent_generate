标题title
基于医药大数据的决策辅助方法及平台
摘要abst
本发明提供一种基于医药大数据的决策辅助方法及平台，根据医药记录端对新购药品的第一识别信息，得到药品名称和药品剂量，根据药品名称和药品剂量生成对应医药记录端的子药品库，对多个关联的医药记录端的子药品库进行汇总，得到总药品库；根据医药记录端对新购药品的第二识别信息，得到药品过期日期，基于当前日期和药品过期日期得到相应药品名称的剩余天数；基于医药记录端选中的总药品库中的药品名称，生成用药比对清单，并调取用药比对清单对应的用药比对图像，根据医药记录端采集用户的用药药品图像；将用药药品图像和用药比对图像进行比对，得到用药药品名称和用药药品剂量，根据用药药品名称和用药药品剂量得到当前总药品库。
权利要求书clms
1.一种基于医药大数据的决策辅助方法，其特征在于，包括：根据医药记录端对新购药品的第一识别信息，得到药品名称和药品剂量，根据所述药品名称和药品剂量生成对应所述医药记录端的子药品库，对多个关联的所述医药记录端的子药品库进行汇总，得到总药品库；根据医药记录端对新购药品的第二识别信息，得到药品过期日期，获取当前日期，基于所述当前日期和所述药品过期日期得到相应药品名称的剩余天数；基于所述医药记录端选中的所述总药品库中的药品名称，生成用药比对清单，并调取所述用药比对清单对应的用药比对图像，根据所述医药记录端采集用户的用药药品图像；将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量，根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库。2.根据权利要求1所述的方法，其特征在于，在将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量之前，还包括：若所述用药比对清单中存在两个以上药品名称对应的用药比对图像相同，则将相应的药品名称作为主动补充药品；将所述主动补充药品从所述用药比对清单中删除，基于所述主动补充药品生成主动补充表，并在所述主动补充表对应各所述主动补充药品的位置处构建对应的剂量主动补充槽位；将所述主动补充表发送至相应的医药记录端进行展示。3.根据权利要求2所述的方法，其特征在于，将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量，包括：若所述药品名称对应的用药比对图像中的药品为袋装药品，则获取相应的药品名称作为一类药品，基于识别策略和所述一类药品得到一类药品名称和一类用药剂量；若所述药品名称对应的用药比对图像中的药品为颗粒药品，则获取相应药品名称作为二类药品，基于比对策略和所述二类药品得到二类药品名称和二类用药剂量。4.根据权利要求3所述的方法，其特征在于，若所述药品名称对应的用药比对图像中的药品为袋装药品，则获取相应的药品名称作为一类药品，基于识别策略和所述一类药品得到一类药品名称和一类用药剂量，包括:响应用户基于医药记录端生成的袋装药品采集信息，对袋装药品的图像进行采集得到用药比对图像；对所述用药比对图像进行文字提取，得到用药比对图像中相应药品的一类药品名称；统计各所述一类药品名称所对应的袋装数量，得到一类用药剂量。5.根据权利要求4所述的方法，其特征在于，若所述药品名称对应的用药比对图像中的药品为颗粒药品，则获取相应药品名称作为二类药品，基于比对策略和所述二类药品得到二类药品名称和二类用药剂量，包括：获取与各所述二类药品对应的用药比对图像中的比对像素值，以及所述用药药品图像中用药像素值与所述比对像素值相同的像素点作为与各所述用药比对图像对应的目标像素点；基于所述目标像素点，获取与各所述用药比对图像对应的像素点集合，其中，各所述像素点集合中的多个目标像素点相邻，且用药像素值与所述用药比对图像对应的比对像素值相同；获取各所述用药比对图像对应的比对形状，以及各所述像素点集合对应的用药形状，将与所述比对形状相同的用药形状作为相应所述用药比对图像对应的第一筛选集合；获取各所述用药比对图像对应的预设比对像素点数量，以及各所述第一筛选集合对应的用药像素点数量，基于所述预设比对像素点数量和各用药像素点数量得到各第一筛选集合对应的数量差值，将所述数量差值小于预设差值的第一筛选集合作为所述用药比对图像对应的第二筛选集合；统计与所述用药比对图像对应的第二筛选集合的数量，得到相应所述用药比对图像对应的二类药品名称以及二类用药剂量。6.根据权利要求5所述的方法，其特征在于，根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库，包括：将所述一类药品名称和相应的一类药品剂量，以及所述二类药品名称和相应的二类药品剂量发送至相应的医药记录端进行校准；接收所述医药记录端输入的校准信息，以及在主动补充表中的剂量主动补充槽位输入的三类药品剂量，所述三类药品剂量为所述医药记录端主动输入的药品剂量信息，基于所述校准信息和三类药品剂量得到多个用药药品名称，以及各用药药品名称对应的用药药品剂量；根据所述用药药品名称和所述用药药品剂量，以及总药品库中的药品名称和药品剂量得到剩余药品名称和各剩余药品名称对应的剩余药品剂量，基于所述剩余药品名称和各剩余药品名称对应的剩余药品剂量生成当前总药品库。7.根据权利要求1所述的方法，其特征在于，在根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库之后，还包括：获取医药记录端的用药记录，根据所述用药记录构建各医药记录端对应的子用药列表，所述用药记录包括用药人员、用药时间、用药名称和用药剂量；对所有子用药列表进行汇总，得到总用药记录表。8.根据权利要求7所述的方法，其特征在于，还包括：统计各医药记录端在第一预设时间段内的用药次数，基于所述用药次数对各医药记录端对应的子用药列表进行降序排序，得到用药显示序列；基于所述用药显示序列对所述总用药记录表进行更新，得到用药显示表。9.根据权利要求8所述的方法，其特征在于，还包括：统计各医药记录端在第二预设时间段内对应的各药品名称的用药频率，基于所述用药频率生成各药品名称的剂量提醒系数；根据基准剩余剂量和所述剂量提醒系数计算得到相应药品名称对应的药品剩余提醒剂量；通过以下公式计算药品剩余提醒剂量，，其中，为药品剩余提醒剂量，/＞为用药频率，/＞为基准用药频率，/＞为基准剩余剂量，/＞为药品剩余提醒剂量权重值。10.一种基于医药大数据的决策辅助平台，其特征在于，包括：汇总模块，用于根据医药记录端对新购药品的第一识别信息，得到药品名称和药品剂量，根据所述药品名称和药品剂量生成对应所述医药记录端的子药品库，对多个关联的所述医药记录端的子药品库进行汇总，得到总药品库；日期模块，用于根据医药记录端对新购药品的第二识别信息，得到药品过期日期，获取当前日期，基于所述当前日期和所述药品过期日期得到相应药品名称的剩余天数；比对模块，用于基于所述医药记录端选中的所述总药品库中的药品名称，生成用药比对清单，并调取所述用药比对清单对应的用药比对图像，根据所述医药记录端采集用户的用药药品图像；更新模块，用于将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量，根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库。
说明书desc
技术领域本发明涉及数据处理技术，尤其涉及一种基于医药大数据的决策辅助方法及平台。背景技术医药数据属于国家和人民的重要资源，对医药数据的监测，在医生对病人的决策中、医疗机构的管理中、普通民众的生活中、医疗企业的生产中、医疗保险的服务中都有着指引性与决定性的作用。其中，用药记录作为医药数据中的一种，对于患者了解自己的用药情况和医生对患者进行诊断时所起的作用都是十分巨大的。目前，用户在服用药物时，对药品的管理情况通常都是比较混乱的，例如用户对于家中是否有需要的药品，该药品是否过期或者该药品是否还有剩余等维度的信息可能都是不了解的。因此，如何结合用户的用药记录对用户的药品信息进行多维度的监测和提醒，协助用户对药品进行管理，以辅助用户制定相应药品处理的决策，成了如今亟需解决的问题。发明内容本发明实施例提供一种基于医药大数据的决策辅助方法及平台，可以结合用户的用药记录对用户的药品信息进行多维度的监测和提醒，协助用户对药品进行管理，以辅助用户制定相应药品的处理决策。本发明实施例的第一方面，提供一种基于医药大数据的决策辅助方法，包括：根据医药记录端对新购药品的第一识别信息，得到药品名称和药品剂量，根据所述药品名称和药品剂量生成对应所述医药记录端的子药品库，对多个关联的所述医药记录端的子药品库进行汇总，得到总药品库；根据医药记录端对新购药品的第二识别信息，得到药品过期日期，获取当前日期，基于所述当前日期和所述药品过期日期得到相应药品名称的剩余天数；基于所述医药记录端选中的所述总药品库中的药品名称，生成用药比对清单，并调取所述用药比对清单对应的用药比对图像，根据所述医药记录端采集用户的用药药品图像；将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量，根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库。可选地，在第一方面的一种可能实现方式中，在将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量之前，还包括：若所述用药比对清单中存在两个以上药品名称对应的用药比对图像相同，则将相应的药品名称作为主动补充药品；将所述主动补充药品从所述用药比对清单中删除，基于所述主动补充药品生成主动补充表，并在所述主动补充表对应各所述主动补充药品的位置处构建对应的剂量主动补充槽位；将所述主动补充表发送至相应的医药记录端进行展示。可选地，在第一方面的一种可能实现方式中，将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量，包括：若所述药品名称对应的用药比对图像中的药品为袋装药品，则获取相应的药品名称作为一类药品，基于识别策略和所述一类药品得到一类药品名称和一类用药剂量；若所述药品名称对应的用药比对图像中的药品为颗粒药品，则获取相应药品名称作为二类药品，基于比对策略和所述二类药品得到二类药品名称和二类用药剂量。可选地，在第一方面的一种可能实现方式中，若所述药品名称对应的用药比对图像中的药品为袋装药品，则获取相应的药品名称作为一类药品，基于识别策略和所述一类药品得到一类药品名称和一类用药剂量，包括:响应用户基于医药记录端生成的袋装药品采集信息，对袋装药品的图像进行采集得到用药比对图像；对所述用药比对图像进行文字提取，得到用药比对图像中相应药品的一类药品名称；统计各所述一类药品名称所对应的袋装数量，得到一类用药剂量。可选地，在第一方面的一种可能实现方式中，若所述药品名称对应的用药比对图像中的药品为颗粒药品，则获取相应药品名称作为二类药品，基于比对策略和所述二类药品得到二类药品名称和二类用药剂量，包括：获取与各所述二类药品对应的用药比对图像中的比对像素值，以及所述用药药品图像中用药像素值与所述比对像素值相同的像素点作为与各所述用药比对图像对应的目标像素点；基于所述目标像素点，获取与各所述用药比对图像对应的像素点集合，其中，各所述像素点集合中的多个目标像素点相邻，且用药像素值与所述用药比对图像对应的比对像素值相同；获取各所述用药比对图像对应的比对形状，以及各所述像素点集合对应的用药形状，将与所述比对形状相同的用药形状作为相应所述用药比对图像对应的第一筛选集合；获取各所述用药比对图像对应的预设比对像素点数量，以及各所述第一筛选集合对应的用药像素点数量，基于所述预设比对像素点数量和各用药像素点数量得到各第一筛选集合对应的数量差值，将所述数量差值小于预设差值的第一筛选集合作为所述用药比对图像对应的第二筛选集合；统计与所述用药比对图像对应的第二筛选集合的数量，得到相应所述用药比对图像对应的二类药品名称以及二类用药剂量。可选地，在第一方面的一种可能实现方式中，根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库，包括：将所述一类药品名称和相应的一类药品剂量，以及所述二类药品名称和相应的二类药品剂量发送至相应的医药记录端进行校准；接收所述医药记录端输入的校准信息，以及在主动补充表中的剂量主动补充槽位输入的三类药品剂量，所述三类药品剂量为所述医药记录端主动输入的药品剂量信息，基于所述校准信息和三类药品剂量得到多个用药药品名称，以及各用药药品名称对应的用药药品剂量；根据所述用药药品名称和所述用药药品剂量，以及总药品库中的药品名称和药品剂量得到剩余药品名称和各剩余药品名称对应的剩余药品剂量，基于所述剩余药品名称和各剩余药品名称对应的剩余药品剂量生成当前总药品库。可选地，在第一方面的一种可能实现方式中，在根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库之后，还包括：获取医药记录端的用药记录，根据所述用药记录构建各医药记录端对应的子用药列表，所述用药记录包括用药人员、用药时间、用药名称和用药剂量；对所有子用药列表进行汇总，得到总用药记录表。可选地，在第一方面的一种可能实现方式中，还包括：统计各医药记录端在第一预设时间段内的用药次数，基于所述用药次数对各医药记录端对应的子用药列表进行降序排序，得到用药显示序列；基于所述用药显示序列对所述总用药记录表进行更新，得到用药显示表。可选地，在第一方面的一种可能实现方式中，还包括：统计各医药记录端在第二预设时间段内对应的各药品名称的用药频率，基于所述用药频率生成各药品名称的剂量提醒系数；根据基准剩余剂量和所述剂量提醒系数计算得到相应药品名称对应的药品剩余提醒剂量；通过以下公式计算药品剩余提醒剂量，其中，为药品剩余提醒剂量，/＞为用药频率，/＞为基准用药频率，/＞为基准剩余剂量，/＞为药品剩余提醒剂量权重值。本发明实施例的第二方面，提供一种基于医药大数据的决策辅助平台，包括：汇总模块，用于根据医药记录端对新购药品的第一识别信息，得到药品名称和药品剂量，根据所述药品名称和药品剂量生成对应所述医药记录端的子药品库，对多个关联的所述医药记录端的子药品库进行汇总，得到总药品库；日期模块，用于根据医药记录端对新购药品的第二识别信息，得到药品过期日期，获取当前日期，基于所述当前日期和所述药品过期日期得到相应药品名称的剩余天数；比对模块，用于基于所述医药记录端选中的所述总药品库中的药品名称，生成用药比对清单，并调取所述用药比对清单对应的用药比对图像，根据所述医药记录端采集用户的用药药品图像；更新模块，用于将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量，根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库。本发明的有益效果如下：1、本发明可以结合用户的用药记录对用户的药品信息进行多维度的监测和提醒，协助用户对药品进行管理。本发明在生成用药记录时，首先会基于不同用户所对应的医药记录端记录各用户购买的药品的名称和剂量，然后再对其进行汇总，得到总药品库，然后会总药品库中的药品的过期日期和服用情况都进行相应的监测。在监测总药品库中药品的过期日期时，本发明会依据当前日期和过期日期对相应药品的剩余天数进行实时的显示，使用户可以得知总药品库中的药品是否过期，从而可以对快过期的药品进行补充或者对过期的药品进行剔除。在监测总药品库中药品的服用情况时，本发明会基于用户输入的药品生成相应的用药清单，然后得到该用药清单中相应药品的比对图像，再将该比对图像与用户自己拍摄的服药图像进行比对，得到用户服用的药品名称和药品剂量，再对总药品库中相应的药品名称所对应的药品剂量进行相应的更新，得到其相应的剩余剂量，这样可以使用户得知药品库中每种药品的剩余剂量和服用情况，从而可以使用户依据药品的剩余剂量对其进行补充或者做出其他相应的处理，以辅助用户制定相应药品的处理决策，例如进行采购或者丢弃等。2、本发明在依据用药清单中相应药品的比对图像以及用户自己拍摄的服药图像得到用户服用的药品名称和药品剂量时，会首先判断清单中是否存在两个以上的药品所对应的比对图像是一样的情况，若存在该种情况，本方案会依据相应的药品名称生成主动补充表，使用户可以对主动补充表中相应药品的剂量进行主动的补入。其次，本发明还会对比对的药品进行分类，并依据不同的类别对其进行不同方式的比对。当药品为袋装药品时，本发明会对该类别的药品名称对应的药品图像进行文字识别，得到其对应的药品名称和药品剂量。当药品为颗粒药品时，本发明会依据用药清单中相应药品图像的颜色对用户自己拍摄的服药图像中的药品进行初步筛选，然后再依据形状对服药图像中的药品进行再次筛选，最后依据尺寸对其进一步的筛选，通过多重筛选来得到服药图像中相应药品所对应的用药名称和用药剂量。通过上述方式，可以对用户的用药情况进行一个快速的录入，节省用户录入用药情况时的时间，提高对用户的用药情况进行录入时的效率。其次，本发明还会通过与用户的交互来对得到的用药信息进行校准，可以使得到的用药信息更加准确。3、本发明还会对不同用户的用药情况进行显示，在进行显示时，本发明首先会得到不同用户所对应的子用药列表，该子用药列表包括了用药的人员、时间、用药名称以及相应的用药剂量，接着再对其进行汇总，得到总用药记录表，然后再统计预设时间段内不同用户的用药次数，依据用药次数从高到低对总用药记录表中的各个子用药列表进行显示，这样可以对用药次数多的用户的用药情况进行优先显示，使用户可以得知相互之间的一个用药情况，从而可以监测有的用户有没有按时吃药，对用户的用药情况可以进行更好的监测。此外，本发明还会依据用户的对相应药品的用药频率对相应药品的剩余量进行提醒，使用户可以有充足的时间对相应的药品进行补充。附图说明图1为本发明实施例提供的一种基于医药大数据的决策辅助方法的示意流程图；图2为本发明实施例提供的一种基于医药大数据的决策辅助平台的结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。参见图1，是本发明实施例提供的一种基于医药大数据的决策辅助方法示意图，图1所示方法的执行主体可以是软件和/或硬件装置。本申请的执行主体可以包括但不限于以下中的至少一个：用户设备、网络设备等。其中，用户设备可以包括但不限于计算机、智能手机、个人数字助理及上述提及的电子设备等。网络设备可以包括但不限于单个网络服务器、多个网络服务器组成的服务器组或基于云计算的由大量计算机或网络服务器构成的云，其中，云计算是分布式计算的一种，由一群松散耦合的计算机组成的一个超级虚拟计算机。本实施例对此不做限制。包括步骤S1至步骤S4，具体如下：S1，根据医药记录端对新购药品的第一识别信息，得到药品名称和药品剂量，根据所述药品名称和药品剂量生成对应所述医药记录端的子药品库，对多个关联的所述医药记录端的子药品库进行汇总，得到总药品库。可以理解的是，在生成总药品库时，用户可以以家庭为单位生成每个家庭对应的总药品库，由于每个家庭中的家庭成员可能不止一个，并且每个家庭成员购买的药品和需要使用的药品可能都不相同，因此为了使家庭中的每个成员都可以得知家中所具有的药品以及相应的药品信息，本发明会对所有家庭成员所购买的药品进行汇总，生成总药品库。在对每个医药记录端购买的药品进行记录时，可以对药品相应的二维码进行识别，得到该药品的名称和剂量，依据该药品的名称和剂量对其进行记录。S2，根据医药记录端对新购药品的第二识别信息，得到药品过期日期，获取当前日期，基于所述当前日期和所述药品过期日期得到相应药品名称的剩余天数。本发明为了使用户可以得知购买的药品是否在保质期内，在用户对购买的药品进行记录后，还会实时对药品的日期进行更新，使用户可以得知该药品的保质期限。具体的，可以对药品进行识别，得到药品的过期日期，再依据当前的日期和过期日期得到距离该药品过期的天数。通过上述方式，可以使用户得知药品是否在保质期内，从而可以使用户不会误食过期的药品，相对保证用户的用药安全。S3，基于所述医药记录端选中的所述总药品库中的药品名称，生成用药比对清单，并调取所述用药比对清单对应的用药比对图像，根据所述医药记录端采集用户的用药药品图像。为了对用户服用药物时的用药情况进行记录，本发明会首先得到用户自己选中的需要服用的药品名称，生成相应的清单，再在后续得到该清单中的每种药品所对应的服用剂量。在用户选取药品名称时，可以将总药品库中的所有药品名称都呈现给用户进行选择，然后再依据用户从中选取的药品名称生成相应的用药比对清单。在生成用药比对清单后，为了得到清单中每种药品所对应的服用剂量，本发明会首先得到清单中每种药品所对应的图像，以及用户自己拍摄的图像，然后依据用药比对图像和用药药品图像得到清单中每种药品所对应的服用剂量。在实际应用中，可能会出现不同药品所对应的药品图像一样的情况，在这种情况下，可能会无法利用图像对其进行比对，得到相应药品的剂量。因此，在将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量之前，本发明还包括以下方案：A1,若所述用药比对清单中存在两个以上药品名称对应的用药比对图像相同，则将相应的药品名称作为主动补充药品。可以理解的是，若用药比对清单中存在两个以上药品名称不同，但是药品的图像一样的情况，在该种情况下，比对出来的药品图像可能无法得知对应的是清单中哪个药品的药品图像，因此可以相应的药品单独提取出来，作为主动补充药品，在后续让用户对主动补充药品的剂量进行补入。A2,将所述主动补充药品从所述用药比对清单中删除，基于所述主动补充药品生成主动补充表，并在所述主动补充表对应各所述主动补充药品的位置处构建对应的剂量主动补充槽位。具体的，可以先将上述主动补充药品从清单中进行删除，再依据上述主动补充药品生成相应的主动补充表，在主动补充表中为每种药品构建相应的槽位，使用户可以依据该槽位填入每种药品相应的服用剂量。A3,将所述主动补充表发送至相应的医药记录端进行展示。然后再将相应的主动补充表给相应的用户进行展示，使其可以依据主动补充表补入该表中相应的药品的剂量。通过上述方式，可以在无法利用图像进行比对时，通过与用户的交互完成对药品剂量的录入，提高对药品用药剂量记录时的准确性。S4，将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量，根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库。在一些实施例中，可以通过以下步骤依据用药比对图像和用药药品图像得到清单中每种药品所对应的服用剂量，具体包括：S41，若所述药品名称对应的用药比对图像中的药品为袋装药品，则获取相应的药品名称作为一类药品，基于识别策略和所述一类药品得到一类药品名称和一类用药剂量。可以理解的是，袋装的药品由于包装袋的形状尺寸大都差不多，因此通过形状尺寸对其进行比对时可能不太好比对，因此当药品名称对应的用药比对图像中的药品为袋装药品时，可以依据识别策略对袋装药品的包装袋进行文字识别，从而得到其相应的药品名称和剂量。具体的，在上述实施例的基础上步骤S41的具体实现方式可以是：S411，响应用户基于医药记录端生成的袋装药品采集信息，对袋装药品的图像进行采集得到用药比对图像。在实际应用中，若药品为袋装药品，则可以使用户响应相应袋装药品的采集信息，再对该袋装药品进行拍摄，得到该袋装药品相应的用药比对图像。例如，可以在医药记录端上设置一个与拍摄袋装药品相应的虚拟按键，当用户按下该虚拟按键时，则默认用户拍摄的图像为袋装药品所对应的图像。S412，对所述用药比对图像进行文字提取，得到用药比对图像中相应药品的一类药品名称。在实际应用中，在对用药比对图像进行文字提取时，可以利用现有技术中的任意一种文字提取模型对其进行提取。进行文字提取后，便可以依据提取的文字得到相应药品所对应的名称，例如提取的文字包含“***感冒灵”的文字时，本方案会认为该袋装药品为“***感冒灵”。值得一提的是，在进行拍摄时，用户可以将袋装药品包含药品名称的一面朝上放置，以确保可以识别到相应的药品名称。S413，统计各所述一类药品名称所对应的袋装数量，得到一类用药剂量。一般来说，袋装药品的服药剂量通常为一袋，因此本方案在统计一类用药剂量时会默认为一袋，若出现袋装药品的服用剂量为两袋以上的情况，在这种情况下，用户可以主动填入相应的袋数。S42，若所述药品名称对应的用药比对图像中的药品为颗粒药品，则获取相应药品名称作为二类药品，基于比对策略和所述二类药品得到二类药品名称和二类用药剂量。上述颗粒药品可以是药片、药丸、胶囊等成颗粒分装的药品，当药品名称对应的用药比对图像中的药品为颗粒药品时，由于各颗粒药品所对应的颜色形状尺寸可能都不一样，因此可以基于比对策略对其进行比对，从而得到相应的药品名称和剂量。具体的，在上述实施例的基础上步骤S42的具体实现方式可以是：S421，获取与各所述二类药品对应的用药比对图像中的比对像素值，以及所述用药药品图像中用药像素值与所述比对像素值相同的像素点作为与各所述用药比对图像对应的目标像素点。由于每种药品的颜色可能都不一样，因此在对比时，可以先得到每种药品对应的颜色像素值，再在用户拍摄的图像中找到与该颜色像素值相同的像素点，并将该像素点作为与每种药品的图像对应的目标像素点。S422，基于所述目标像素点，获取与各所述用药比对图像对应的像素点集合，其中，各所述像素点集合中的多个目标像素点相邻，且用药像素值与所述用药比对图像对应的比对像素值相同。进一步的，在得到每个用药比对图像对应的目标像素点后，便可以依据相邻的目标像素点生成该用药比对图像对应的像素点集合。例如，若药品图像对应的药品颜色为黄色，则可以将用户拍摄的图像中像素值为黄色的像素点作为目标像素点，再依据相邻的目标像素点生成该药品图像对应的像素点集合。S423，获取各所述用药比对图像对应的比对形状，以及各所述像素点集合对应的用药形状，将与所述比对形状相同的用药形状作为相应所述用药比对图像对应的第一筛选集合。可以理解的是，有些药品的颜色可能一样，但是其对应的形状可能会不一样，例如有的颗粒药品的药品形状可能是圆形，有的颗粒药品的药品形状可能是方形，因此在得到像素点集合后，本方案还会依据形状对像素点集合进行筛选。其中，在提取像素点集合所对应的用药形状时，可以利用现有技术中的任意一种形状提取模型对其进行形状提取，例如，可以利用主动轮廓模型对其进行形状提取。在筛选时，若用药比对图像对应的比对形状与像素点集合对应的用药形状相同，例如都是圆形，说明该像素点集合对应的形状和用药比对图像对应的形状是能够对应的，因此可以将相应的像素点集合作为筛选时留下的第一筛选集合。S424，获取各所述用药比对图像对应的预设比对像素点数量，以及各所述第一筛选集合对应的用药像素点数量，基于所述预设比对像素点数量和各用药像素点数量得到各第一筛选集合对应的数量差值，将所述数量差值小于预设差值的第一筛选集合作为所述用药比对图像对应的第二筛选集合。在实际应用中，还可能会出现有的颗粒药品的颜色和形状都相同，但是其对应的尺寸大小不一样的情况，因此本方案在得到第一筛选集合后，还会依据尺寸大小对其进行进一步的筛选，最终得到颜色、形状和尺寸都一样的第二筛选集合作为相应用药比对图像对应的集合。在依据尺寸大小对第一筛选集合进行筛选时，本方案会首先得到每个第一筛选集合对应的像素点数量，然后再依据预设好的像素点数量与该像素点数量得到数量差值，若数量差值越大，则说明第一筛选集合对应的药品尺寸与预设的药品尺寸相差的越大，其可能就不是相应用药比对图像所对应的集合，因此可以将数量差值小于预设差值的第一筛选集合作为相应用药比对图像对应的第二筛选集合。需要说明的是，在拍摄颗粒药品所对应的用药比对图像时，可以使用户按照预设高度和预设角度对药品进行拍摄，从而使得药品在比对尺寸大小时的误差在一定范围内。例如，可以提示用户在正对于药品20cm处的预设高度下进行拍摄。S425，统计与所述用药比对图像对应的第二筛选集合的数量，得到相应所述用药比对图像对应的二类药品名称以及二类用药剂量。进一步的，在得到第二筛选集合后，便可以对第二筛选集合的数量进行统计，从而得到相应的用药比对图像对应的二类用药剂量。在得到用药药品名称和用药药品剂量后，本发明还会通过以下方案对总药品库进行更新，具体如下：S43，将所述一类药品名称和相应的一类药品剂量，以及所述二类药品名称和相应的二类药品剂量发送至相应的医药记录端进行校准。可以理解的是，为了使记录的用药数据更加准确，本方案还会将得到的药品名称和服用剂量发送至给用户进行校准。S44，接收所述医药记录端输入的校准信息，以及在主动补充表中的剂量主动补充槽位输入的三类药品剂量，所述三类药品剂量为所述医药记录端主动输入的药品剂量信息，基于所述校准信息和三类药品剂量得到多个用药药品名称，以及各用药药品名称对应的用药药品剂量。在得到用户的校准信息后，本方案还会接收用户在主动补充表中主动补入的药品剂量，然后根据校准信息中相应的药品名称和对应的剂量，以及用户主动补入的药品名称和对应的剂量，得到用户用药时的药品名称以及相应的药品剂量，即上述用药药品名称和用药药品剂量。S45，根据所述用药药品名称和所述用药药品剂量，以及总药品库中的药品名称和药品剂量得到剩余药品名称和各剩余药品名称对应的剩余药品剂量，基于所述剩余药品名称和各剩余药品名称对应的剩余药品剂量生成当前总药品库。在进行更新时，本方案会对总药品库中用户服用的药品名称所对应的药品剂量进行更新，得到该药品的剩余药品剂量，然后得到更新之后的当前总药品库。通过上述方式，可以依据用户的用药情况对总药品库进行更新，使用户可以了解到总药品库中的每种药品的剩余剂量，从而可以使用户依据药品的剩余剂量对其进行补充或者其他相应的处理。此外，在上述方案的基础上，本发明还包括以下方案：S46，获取医药记录端的用药记录，根据所述用药记录构建各医药记录端对应的子用药列表，所述用药记录包括用药人员、用药时间、用药名称和用药剂量。可以理解的是，由于医药记录端可能有多个，每个医药记录端所对应的用户的用药情况可能都不一样，因此为了得到每个医药记录端的用药记录，本方案会生成与每个医药记录端对应的子用药列表。例如，在一个家庭中，可能包括一家三口，其中，父亲的用药情况和母亲的用药情况以及孩子的用药情况可能都是不一样的，各自服药的药物和剂量可能都不相同，因此可以为父亲、母亲和孩子各自构建一个与其相应的子用药列表，用来记录不同家庭成员的用药情况。S47，对所有子用药列表进行汇总，得到总用药记录表。进一步的，为了使不同的医药记录端对应的用户之间可以查看到彼此的用药记录，本方案还会对子用药列表进行汇总，得到总用药记录表。其中，本方案会通过以下步骤对总用药记录中的各个子用药列表进行显示：统计各医药记录端在第一预设时间段内的用药次数，基于所述用药次数对各医药记录端对应的子用药列表进行降序排序，得到用药显示序列。基于所述用药显示序列对所述总用药记录表进行更新，得到用药显示表。在实际应用中，对于一些需要长期服用药物的用户来说，其服药的次数可能会很多，而对于一些偶尔生病的用户来说，其服药的次数可能很少，因此在对各用户的用药信息进行显示时，可以优先将用药次数多的用户所对应的用药信息进行显示，使其可以更好的监测相应用户的用药情况。例如，有些年纪较大的用户可能需要长期服药，将其对应的用药信息进行优先显示，可以使其子女或者配偶对该用户的用药情况进行监测，看其有没有按时吃药，而有的用户可能只是偶尔生病，例如得了小感冒，只需要吃几天的药，其本身并不需要经常服药，因此在对其进行显示时可以将其进行靠后显示。具体的，可以统计不同的医药记录端在第一预设时间段内的用药次数，然后根据用药次数对相应的子用药列表进行降序排序，对排序后的子用药列表进行显示。其中，上述第一预设时间段可以是一个月，或者其他预设的时间段。通过上述方式，可以对用药次数多的用户的用药信息进行优先显示，使其他用户可以得知该用户有没有按时吃药，对用户的用药情况可以进行更好的监测。此外，除了对用户的用药情况进行监测，本发明还会通过以下方案对药物的剩余量也进行监测，从而可以在药品快用完时可以对用户进行提醒，使用户可以对相应的药品进行补充。S48，统计各医药记录端在第二预设时间段内对应的各药品名称的用药频率，基于所述用药频率生成各药品名称的剂量提醒系数。上述第二预设时间段可以是半年，例如可以统计半年内每个医药记录端对每种药品的用药频率，然后基于该用药频率生成该药品相应的剂量提醒系数。可以理解的是，用户对于不同药品的服药频率可能都会不一样，例如有的药品可能需要天天服用，而有的药品可能只是偶尔服用一次，因此可以依据用户对不同药品的用药频率生成不同药品所对应的剂量提醒系数。S49，根据基准剩余剂量和所述剂量提醒系数计算得到相应药品名称对应的药品剩余提醒剂量。在得到剂量提醒系数后，可以依据剂量提醒系数计算得到相应药品的药品剩余提醒剂量。具体的，可以通过以下公式计算药品剩余提醒剂量，其中，为药品剩余提醒剂量，/＞为用药频率，/＞为基准用药频率，/＞为基准剩余剂量，/＞为药品剩余提醒剂量权重值。从上述公式中可以看出，用药频率越大，说明预设时间段内用户对相应药品的服用频率越多，用户可能经常需要服用该药品，因此对于该药品的药品剩余提醒剂量/＞可以相应的增大，使用户可以有充足的时间对该药品进行补充。通过上述方式，可以依据用户的用药频率对药品的剩余量进行提醒，使用户可以有充足的时间对相应的药品进行补充。参见图2，是本发明实施例提供的一种基于医药大数据的决策辅助平台的结构示意图，该基于医药大数据的决策辅助平台包括：汇总模块，用于根据医药记录端对新购药品的第一识别信息，得到药品名称和药品剂量，根据所述药品名称和药品剂量生成对应所述医药记录端的子药品库，对多个关联的所述医药记录端的子药品库进行汇总，得到总药品库；日期模块，用于根据医药记录端对新购药品的第二识别信息，得到药品过期日期，获取当前日期，基于所述当前日期和所述药品过期日期得到相应药品名称的剩余天数；比对模块，用于基于所述医药记录端选中的所述总药品库中的药品名称，生成用药比对清单，并调取所述用药比对清单对应的用药比对图像，根据所述医药记录端采集用户的用药药品图像；更新模块，用于将所述用药药品图像和所述用药比对图像进行比对，得到用药药品名称和用药药品剂量，根据所述用药药品名称和用药药品剂量对所述总药品库进行更新，得到当前总药品库。图2所示实施例的装置对应地可用于执行图1所示方法实施例中的步骤，其实现原理和技术效果类似，此处不再赘述。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围。
