标题title
一种飞行器模型表面标记点的定位方法
摘要abst
本发明适用于风洞试验技术领域，提供了一种飞行器模型表面标记点的定位方法，包括步骤：采集飞行器模型的图像，所述图像包括飞行器模型的无风参考图像和有风工作图像，所述飞行器模型表面喷涂有压敏漆，并在飞行器模型表面沿边缘轮廓布置多个标记点，多个所述标记点形成一圈；采用增强阈值分割法对采集到的图像中的标记点的位置进行粗定位，获得标记点的粗位置；根据标记点的粗位置，采用加权阈值的方法对标记点的位置进行精确定位，获得标记点的精确位置。通过本发明的方法可以获得飞行器模型表面标记点的精确坐标，定位准确度高，有助于飞行器模型表面标记点的精确匹配和受力情况的准确分析。
权利要求书clms
1.一种飞行器模型表面标记点的定位方法，其特征在于，包括如下步骤：步骤S10：采集飞行器模型的图像，所述图像包括飞行器模型的无风参考图像和有风工作图像，所述飞行器模型表面涂覆有压敏漆，并在飞行器模型表面沿边缘轮廓布置多个标记点，多个所述标记点形成一圈；步骤S20：采用增强阈值分割法对采集到的图像中的标记点的位置进行粗定位，获得标记点的粗位置；步骤S30：根据标记点的粗位置，采用加权阈值的方法对标记点的位置进行精确定位，获得标记点的精确位置。2.如权利要求1所述的定位方法，其特征在于，步骤S10中，在飞行器模型表面沿边缘至中心的方向布置多圈标记点。3.如权利要求2所述的定位方法，其特征在于，步骤S10中，位于同一圈上的每个标记点距飞行器模型边缘的距离相等。4.如权利要求1所述的定位方法，其特征在于，步骤S20包括如下步骤：步骤S201：对采集到的图像进行预处理，得到粗定位二值化图像；步骤S202：计算粗定位二值化图像中所有连通区域，并计算每个连通区域的面积和位置；步骤S203：设置连通区域的面积阈值，若，则将连通区域的位置作为标记点的粗位置；若，则不将连通区域的位置作为标记点的粗位置。5.如权利要求1或4之一所述的定位方法，其特征在于，步骤S30包括如下步骤：步骤S301：获取图像中包含粗位置的图像块，以及计算包含粗位置的图像块中的像素最小值；步骤S302：根据像素最小值计算阶梯阈值，，其中，为阶梯系数，=1，2，......n，n为阶梯系数的个数；步骤S303：比较图像的像素与阶梯阈值的大小，对图像中包含粗位置的图像块进行二值化处理，获得精确定位二值化图像，将精确定位二值化图像划分为区域和区域，区域为精确定位二值化图像中像素的区域，区域为精确定位二值化图像中像素的区域；步骤S304：计算区域的中心坐标，其中，为第阶区域的中心像素点的行坐标，为第阶区域的中心像素点的列坐标；步骤S305：对个中心坐标进行加权，获得加权坐标，将加权坐标作为标记点的精确位置。6.如权利要求5所述的定位方法，其特征在于，步骤S303中：若，则像素；若，则像素。7.如权利要求5所述的定位方法，其特征在于，步骤S304中，中心坐标的计算方法如下：其中表示区域中像素点的个数，N表示行坐标和列坐标的序号，表示区域中像素点的行坐标；表示区域中像素点的列坐标。8.如权利要求4所述的定位方法，其特征在于，步骤S201包括如下步骤：步骤S2011：对采集到的图像进行灰度化处理，得到灰度图像；步骤S2012：对灰度图像进行黑帽运算，得到黑帽图像；步骤S2013：对黑帽图像采用自适应阈值分割，得到粗定位二值化图像。9.如权利要求5所述的定位方法，其特征在于，步骤S305中加权坐标的计算公式如下：其中，为第个阶梯阈值下区域中心的权重。
说明书desc
技术领域本发明涉及风洞试验领域 ，尤其是涉及一种飞行器模型表面标记点的定位方法。背景技术飞行器在空中飞行时，其表面会受到各种外界因素的影响，进而影响飞行器的飞行状态，因此，研究飞行器表面的受力情况，有利于进一步判断飞行器在不同受力情况下的飞行状态。获取压力分布的非接触测量方法是压敏漆技术，压敏漆技术利用发光涂层分子在特定波长激发光照射下其荧光强度随压力变化的现象，是将压力大小转变为光强信息后，再对图像进行处理，然后根据图像处理后的结果，计算出模型表面压力分布，其优点为：空间的分辨率比较高、不受模型自身结构的限制、不会破坏模型表面的流畅、可实现大面积范围内压力分布测量等。目前压敏技术已经广泛应用于航空航天飞行器表面的压力测量中。飞行器的受力情况分析一般在风洞试验中进行。飞行器模型在风洞试验中测量受力/变形表面参数中常用的标记点为圆形标记点，采用圆形标记点具有自身结构简单、受成像光照影响小、容易检测等优点。目前，飞行器模型中采用圆形标记点进行受力分析的方法是通过无风参考图像上的标记点和有风工作图像上的标记点进行匹配后求取两幅图像的变换参数，因此，无风参考图像上的标记点和有风工作图像上的标记点的准确匹配跟踪是异常关键的问题，任何错误的匹配都将带来巨大的误差，而准确匹配跟踪的基础是对风参考图像上的标记点和有风工作图像上的标记点的精确定位，但是现有技术中，一般采用最小二乘法法来获取标记点的位置，通常只进行一次定位，这样获得的标记点位置不精确，误差大，导致无风参考图像上的标记点和有风工作图像上的标记点在匹配的过程中会出现匹配误差，进而影响对飞行器模型表面受力的准确分析。发明内容本发明的目的是提供一种飞行器模型表面标记点的定位方法，来解决上述现有技术中存在的技术问题，包括如下步骤：步骤S10：采集飞行器模型的图像，所述图像为飞行器模型的无风参考图像和有风工作图像，所述飞行器模型表面喷涂有压敏漆，并在飞行器模型表面沿边缘轮廓布置多个标记点，多个所述标记点形成一圈；步骤S20：采用增强阈值分割法对采集到的图像中的标记点的位置进行粗定位，获得标记点的粗位置；步骤S30：根据标记点的粗位置，采用加权阈值的方法对标记点的位置进行精确定位，获得标记点的精确位置。进一步地，步骤S10中，在飞行器模型表面沿边缘至中心的方向布置多圈标记点。进一步地，步骤S10中，位于同一圈上的每一个标记点距飞行器模型边缘的距离相等。进一步地，步骤S20包括如下步骤：步骤S201：对采集到的图像进行预处理，得到粗定位二值化图像；步骤S202：计算粗定位二值化图像中所有连通区域，并计算每个连通区域的面积和位置；步骤S203：设置连通区域的面积阈值，若，则将连通区域的位置作为标记点的粗位置；若，则不将连通区域的位置作为标记点的粗位置。进一步地，步骤S30包括如下步骤：步骤S301：获取图像中包含粗位置的图像块，以及计算包含位置的图像块中的像素最小值；步骤S302：根据像素最小值计算阶梯阈值，，其中，为阶梯系数，=1，2，......n，n为阶梯系数的个数；步骤S303：比较图像的像素与阶梯阈值的大小，对图像中包含粗位置的图像块进行二值化处理，获得精确定位二值化图像，将精确定位二值化图像划分为区域和区域，区域为精确定位二值化图像中像素的区域，区域精确定位二值化图像中像素的区域；步骤S304：计算区域的中心坐标，其中，为第阶区域的中心像素点的行坐标，为第阶区域的中心像素点的列坐标；步骤S305：对n个中心坐标进行加权，获得加权坐标，将加权坐标作为标记点的精确位置。进一步地，步骤S303中：若，则像素；若，则像素。进一步地，步骤S304中，中心坐标的计算方法如下：其中，表示区域中像素点的个数，N表示行坐标和列坐标的序号，表示区域中像素点的行坐标；表示区域中像素点的列坐标。进一步地，步骤S201包括如下步骤：步骤S2011：对采集到的图像进行灰度化处理，得到灰度图像；步骤S2012：对灰度图像进行黑帽运算，得到黑帽图像；步骤S2013：对黑帽图像采用自适应阈值分割，得到粗定位二值化图像。进一步地，步骤S305中加权坐标的计算公式如下：其中，为第个阶梯阈值下区域中心的权重。本发明的有益效果至少具有以下方面：1）本发明提供的飞行器模型表面标记点的定位方法，通过对无风参考图像上的标记点和有风工作图像上的标记点进行了两次定位，来获取标记点的精确位置，采用本发明的定位方法，可以获得飞行器模型表面标记点的精确坐标，定位准确度高，有助于飞行器模型表面标记点的精确匹配和受力情况的准确分析。2）本发明中，具体提供的定位方法为，首先采用增强阈值分割方法对飞行器模型表面上的标记点进行粗定位，然后采用加权阈值的方法对标记点的位置进行精确定位，定位精度高。3）本发明中，采用加权阈值的方法对标记点的位置进行精确定位的时，并不是获取无风参考图像和有风工作图像的整个图像上的所有标记点一次进行分割，而是在粗定位的基础上，分别选取无风参考图像和有风工作图像中每个包括粗定位标记点的图像块，然后分别计算每个图像块中标记点的精确位置，根据每个标记点所在的图像块计算标记点的位置进而获得的位置坐标准确度高。4）本发明中，对包括粗定位标记点的图像块进行精确定位时，首先计算图像块中的最小像素值，然后根据最小像素值计算阶梯阈值，并根据不同阶梯的阈值对图像进行二值化，获取标记点所在区域，计算标记点所在区域的中心坐标，将在不同阶梯阈值下对应中心坐标进行加权计算，最终获得包含粗定位标记点的图像块中标记点的精确坐标，即获得标记点的精确位置，本发明中对包含粗定位标记点的图像块，采用多次坐标加权的定位方法，定位准确度高。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面所描述的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明中采集到的飞行器模型的图像；图2是本发明中对采集的飞行器模型的黑帽图像 ；图3是阈值分割三维图，图3是标记点的精确位置图；图4是飞行器模型表面标记点的定位方法的流程图；图5是采用增强阈值分割法获得标记点粗位置的流程图；图6是采用加权阈值阀方法获得标记点的精确定位的流程图；图7是获得粗定位二值化图像的流程图。具体实施方式以下的说明提供了许多不同的实施例、或是例子，用来实施本发明的不同特征。以下特定例子所描述的元件和排列方式，仅用来精简的表达本发明，其仅作为例子，而并非用以限制本发明。如图1-图7所示，本发明实施例提供的一种飞行器模型表面标记点的定位方法，包括如下步骤：步骤S10：采集飞行器模型的图像，所述图像为飞行器模型的无风参考图像和有风工作图像，所述飞行器模型表面喷涂有压敏漆，并在飞行器模型表面沿边缘轮廓布置多个标记点，多个所述标记点形成一圈；步骤S20：采用增强阈值分割法对采集到的图像中的标记点的位置进行粗定位，获得标记点的粗位置；步骤S30：根据标记点的粗位置，采用加权阈值的方法对标记点的位置进行精确定位，获得标记点的精确位置。上述方案中，在获取飞行器模型图像前，需要在飞行器模型表面涂覆压敏漆、布置标记点以及布置图像采集装置；由于压敏漆测量采用的是激发光波长为405nm，发射光650nm，因此，本发明实施例中图像采集装置采用由阵列式LED发光二极管构成的平行光源作为激发光源，发光主峰为400nm。相机采用16位科学级灰度CCD相机，分辨率为 ，采用8mm定焦镜头，配600nm高通滤波镜片，采集飞行器模型图像时，激发光源发出激发光至飞行器模型表面，相机接收飞行器模型表面的反射光，获取飞行器模型图像，但是由于飞行器模型表面喷涂压敏漆涂料后，导致表面光滑，缺乏可识别的特征点，而且飞行器的无风参考图像和有风工作图像，由于表面压力的变化，图像像素灰度分布不一致，因此难以直接利用灰度信息进行定位匹配，因此，需要在飞行器模型表面沿边缘轮廓布置多个标记点，同时多个标记点形成与飞行器模型轮廓相似的形状，在飞行器模型表面布置标记点后，相机获得的图像如图1所示。在获取飞行器模型图像时，需要获取飞行器模型两种状态下的图像，一种是飞行器模型在无风状态下的图像，即无风参考图像，另一种是飞行器模型在有风状态下的图像，即有风工作图像，利用无风参考图像上的标记点和有风工作图像上的标记点进行匹配，根据匹配结果分析飞行器模型表面的受力情况。需要说明的是，下面对图像的处理计算，均指的是对无风参考图像和有风工作图像，两者都会进行同样的处理步骤。具体地，当获取了飞行器模型表面的图像后，首先需要将图像转化为灰度图像，然后对灰度图像采用黑帽运算，对图像进行去噪进而减小背景带来的干扰，增强标记点所在的区域，得到黑帽图像，在此基础上，对黑帽图像采用自适应阈值分割的方法，针对图像中的不同区域，自适应计算不同的阈值，对图像进行分割，得到二值化图像，计算二值化图像中所有的连通区域，并计算每一个连通区域的面积和位置，此时由技术人员根据实际经验设置面积阈值，将连通区域面积小于面积阈值的连通区域保留，并将连通区域中面积小于面积阈值的连通区域的位置作为标记点的粗位置，将连通区域面积不小于面积阈值的连通区域进行过滤，依次将每一个连通区域的面积与面积阈值进行比较，获得每一个标记点的粗位置，即在对图像进行了自适应阈值分割的基础上，对图像又根据面积阈值进行了一次增强阈值分割，因此，对采集到的飞行器模型图像通过增强阈值的分割办法实现了对标记点的粗定位。根据获得的标记点的粗定位的位置坐标，在图像中找到对应的标记点位置，并截取含有该标记点的图像块，图像块的大小只要包括标记点所在的区域即可，对图像块中的像素值进行计算，得到像素的最小值，然后将最小值作为后续图像进行分阶的起点；然后对图像块进行阶梯式阈值分割，获得不同阶梯阈值下的二值化图像，并根据二值化图像计算该图像中标记点的中心坐标，最后对不同阶梯下标记点的中心坐标设置对应的权重，将不同阶梯下带有权重的标记点位置坐标进行加权，将此时的加权坐标作为标记点的精确位置坐标，即完成了对标记点的精确定位。因此，本发明提供的飞行器模型表面标记点的定位方法，通过对无风参考图像上的标记点和有风工作图像上的标记点进行了两次定位，来获取标记点的精确位置，采用本发明的定位方法，可以获得飞行器模型表面标记点的精确坐标，定位准确度高，有助于飞行器模型表面标记点的精确匹配和受力情况的准确分析。本发明中，具体提供的定位方法为，首先采用增强阈值分割方法对飞行器模型表面上的标记点进行粗定位，然后采用加权阈值的方法对标记点的位置进行精确定位，定位精度高。本发明中，采用加权阈值的方法对标记点的位置进行精确定位的时，并不是获取无风参考图像和有风工作图像的整个图像上的所有标记点一次进行分割，而是在粗定位的基础上，分别选取无风参考图像和有风工作图像中每个包括粗定位标记点的图像块，然后分别计算每个图像块中标记点的精确位置，根据每个标记点所在的图像块计算标记点的位置进而获得的位置坐标准确度高。本发明中，对包括粗定位标记点的图像块进行精确定位时，首先计算图像块中的最小像素值，然后根据最小像素值计算阶梯阈值，并根据不同阶梯的阈值对图像进行二值化，获取标记点所在区域，计算标记点所在区域的中心坐标，将在不同阶梯阈值下对应中心坐标进行加权计算，最终获得包含粗定位标记点的图像块中标记点的精确坐标，即获得标记点的精确位置，本发明中对包含粗定位标记点的图像块，采用多次坐标加权的定位方法，定位准确度高。进一步地，步骤S10中，在飞行器模型表面沿边缘至中心的方向布置多圈标记点。上述方案中，在飞行器模型表面可以将标记点布置成多圈，在无风参考图和有风工作图配准的时候，通常情况下采用图像上一圈标记点进行两幅图像之间的配准，采用一圈标记点匹配时，可能会存在图像中某个标记点由于信息缺失或者其他原因导致有的标记点在匹配的时候出现匹配不成功的情况，而将标记点设置为多圈，通过对多圈标记点的匹配，使得在无风参考图和有风工作图配准精确度更加高。进一步地，步骤S10中，位于同一圈上的每一个标记点距飞行器模型边缘的距离相等。上述方案中，在飞行器模型表面上设置的标记点组成的形状通常情况下需要和飞行器的轮廓相似，这样可以更加真实地反应出飞行器模型表面尺寸的变化以及受力情况的严重程度，因此，在设置标记点的时候，位于同一圈上的每个标记点到飞行器模型边缘的距离相等，如，最靠近飞行器模型边缘的圈与边缘之间的距离为D，则位于该圈上的每一个标记点距离边缘的距离均为D。进一步地，步骤S20包括如下步骤：步骤S201：对采集到的图像进行预处理，得到粗定位二值化图像；步骤S202：计算粗定位二值化图像中所有连通区域，并计算每个连通区域的面积和位置；步骤S203：设置连通区域的面积阈值，若，则将连通区域的位置作为标记点的粗位置；若，则不将连通区域的位置作为标记点的粗位置。上述方案中，相机获得的图像通常为带有颜色的图像，而且含有大量的背景信息，因此对获得图像首先需要进行二值化处理，因此本发明在对飞行器模型的图像上的标记点进行粗定位时，首先对图像进行预处理，得到粗定位二值化图像，并计算粗定位二值化图像中所有的连通区域，即找到所有可能是标记点所在的区域，分别计算每一个连通区域的面积和位置，其中，面积和位置的计算公式如下：其中，表示坐标的序号，表示像素的坐标，表示连通区域像素的个数。当计算得到每个连通区域的面积和位置后，由技术人员根据实际经验设置面积阈值，将每个连通区域的面积分别与面积阈值进行比较，对图像进行阈值分割，若，则将连通区域中面积小于面积阈值的连通区域作为标记点所在的区域，并将连通区域中面积小于面积阈值的连通区域的位置作为标记点的粗位置；若，则将连通区域中面积大于面积阈值的连通区域过滤。进一步地，步骤S30包括如下步骤：步骤S301：获取图像中包含粗位置的图像块，以及计算包含位置的图像块中的像素最小值；步骤S302：根据像素最小值计算阶梯阈值，，其中，为阶梯系数，=1，2，......n，n为阶梯系数的个数；具体地，当时，、、、，在此，的值在此不做限制，在进行定位的时候，的值可以根据图像的实际情况进行取值。图3为在不同阶梯阈值下的对应的阈值分割图像，步骤S303：比较图像的像素与阶梯阈值的大小，对图像中包含粗位置的图像块进行二值化处理，获得精确定位二值化图像，将精确定位二值化图像划分为区域和区域，区域为精确定位二值化图像中像素的区域，区域精确定位二值化图像中像素的区域；步骤S304：计算区域的中心坐标，其中，为第阶区域的中心像素点的行坐标，为第阶区域的中心像素点的列坐标；步骤S305：对n个中心坐标进行加权，获得加权坐标，将加权坐标作为标记点的精确位置，获得的标记点的精确位置如附图3所示。进一步地，步骤S303中：若，则像素若，则像素。上述方案中，获取图像中包含粗位置的图像块的方法是根据标记点的粗定位坐标，在图像上上截取包括坐标的图像块，图像块的大小只要包括标记点所在的区域即可。对获得的图像块进行灰度处理，并计算图像块中的像素值，得到像素的最小值，根据计算阶梯阈值，当阶梯系数取不同值时会得到不同的阶梯阈值，根据不同的阶梯阈值对图像进行阈值分割，当图像的像素的像素值小于阶梯阈值时，将该像素所在的区域标记为，计算该区域的中心坐标，最后将不同阶梯下带有权重的标记点位置坐标进行加权，将此时的加权坐标作为标记点的精确位置坐标，即完成了对标记点的精确定位。本发明实施中，对图像采用加权阈值定位的方法，为了便于理解，可以认为将一个图像分成了多层，对每一层的图像进行阈值分割，然后计算该层的中心坐标，然后将每一层的中心坐标通过加权得到标记点的精确坐标。进一步地，步骤S304中，中心坐标的计算方法如下：其中表示区域中像素点的个数，N表示行坐标和列坐标的序号，表示区域中像素点的行坐标；表示区域中像素点的列坐标。进一步地，步骤S201包括如下步骤：步骤S2011：对采集到的图像进行灰度化处理，得到灰度图像；步骤S2012：对灰度图像进行黑帽运算，得到黑帽图像；步骤S2013：对黑帽图像采用自适应阈值分割，得到粗定位二值化图像。上述方案中，首先将相机获得的图像进行灰度化处理，转化为灰度图像，然后对灰度图像采用黑帽运算，对图像进行去噪进而减小背景带来的干扰，增强标记点所在的区域，得到黑帽图像，如附图2所示，黑帽图像的计算公式如下：其中，输入的原始图像，是形态学运算滤波器，表示闭运算，是黑帽运算。在此基础上，对黑帽图像采用自适应阈值分割的方法，针对图像中的不同区域，自适应计算不同的阈值，对图像进行分割，得到二值化图像。进一步地，步骤S305中加权坐标的计算公式如下：其中，为第个阶梯阈值下区域中心的权重。上述方案中，当时，、、、，在此，的值在此不做限制，在进行定位的时候， 的值可以根据图像的实际情况进行取值。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
