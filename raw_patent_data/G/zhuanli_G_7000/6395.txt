标题title
共享电单车的调度管理方法、服务器及存储介质
摘要abst
一种共享电单车的调度管理方法、服务器及存储介质，调度管理方法包括：响应用户终端对共享电单车的解锁请求；若共享电单车的车辆状态包括缺失，则获取共享电单车周边的车辆状态为故障的故障电单车；将故障电单车的车辆状态推送至用户终端；响应用户终端的更换请求；开放共享电单车的更换权限；开放用户终端选定的故障电单车中的目标电单车的更换权限；响应用户终端对共享电单车的更换完毕请求；关闭共享电单车和目标电单车的更换权限；将目标电单车的车辆状态发送至运维端，并发送解锁指令至共享电单车。此时，原不能骑行的共享电单车变得适宜用户骑行，方便了用户，提升了用户的满意度，也使得物资能够被充分利用，方便了运维专员的集中修理。
权利要求书clms
1.一种共享电单车的调度管理方法，应用于服务器，其特征在于，包括：响应用户终端对共享电单车的解锁请求；若所述共享电单车的车辆状态包括缺失，则获取所述共享电单车周边的车辆状态为故障的故障电单车；将所述故障电单车的车辆状态推送至所述用户终端；响应用户终端对所述共享电单车的更换请求；开放所述共享电单车的更换权限；开放用户终端选定的所述故障电单车中的目标电单车的更换权限；响应用户终端对所述共享电单车的更换完毕请求；关闭所述共享电单车和所述目标电单车的更换权限；将所述目标电单车的车辆状态发送至运维端，并发送解锁指令至所述共享电单车。2.如权利要求1所述的调度管理方法，其特征在于，所述共享电单车的车辆状态还包括未缺失，所述缺失包括缺电量和缺头盔，所述未缺失包括未缺电量和未缺头盔。3.如权利要求2所述的调度管理方法，其特征在于，若所述缺失为缺电量，且所述共享电单车周边的车辆状态均为非故障电单车，获取所述共享电单车周边的车辆状态为缺头盔的缺盔电单车，并将所述缺盔电单车的车辆状态推送至所述用户终端。4.如权利要求2所述的调度管理方法，其特征在于，若所述缺失为缺头盔，且所述共享电单车周边的车辆状态均为非故障电单车，获取所述共享电单车周边的车辆状态为低电量的低电电单车和缺电电单车，并将所述低电电单车和缺电电单车的车辆状态推送至所述用户终端。5.如权利要求2所述的调度管理方法，其特征在于，获取所述共享电单车周边的车辆状态为故障的故障电单车包括：根据车辆上报的电量获取电量信息，根据终端的反馈获取头盔信息和故障信息。6.如权利要求1所述的调度管理方法，其特征在于，所述响应用户终端对共享电单车的解锁请求后，还包括：接收用户终端发送的车辆状态。7.如权利要求1所述的调度管理方法，其特征在于，若所述车辆状态包括缺失，且所述共享电单车周边的车辆状态均为非故障电单车，向所述用户终端发送更换车辆的提示。8.如权利要求1所述的调度管理方法，其特征在于，所述关闭所述共享电单车和目标电单车的更换权限之后，还向所述用户终端发送奖励金。9.一种共享电单车的服务器，其特征在于，包括：接收模块，所述接收模块用于响应用户终端对共享电单车的解锁请求；若所述车辆状态包括缺失，则获取所述共享电单车周边的车辆状态为故障的故障电单车；发送模块，所述发送模块用于将所述故障电单车的车辆状态推送至所述用户终端；所述接收模块还用于响应用户终端对所述共享电单车的更换请求；控制模块，所述控制模块用于在所述接收模块响应用户终端对所述共享电单车的更换请求时，开放所述共享电单车的更换权限；所述控制模块还用于开放用户终端选定的所述故障共享电单车中的目标电单车的更换权限；所述接收模块还用于响应用户终端对所述共享电单车的更换完毕请求；所述控制模块还用于在所述接收模块响应用户终端对所述共享电单车的更换完毕请求时，关闭所述共享电单车和所述目标电单车的更换权限；所述发送模块还用于将所述目标电单车的车辆状态发送至运维端，并发送解锁指令至所述共享电单车。10.一种存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器运行时，执行权利要求1至8中任一项所述的共享电单车的调度管理方法的步骤。11.一种共享电单车的服务器，包括存储器和处理器，所述存储器上存储有可在所述处理器上运行的计算机程序，其特征在于，所述处理器运行所述计算机程序时执行权利要求1至8中任一项所述的共享电单车的调度管理方法的步骤。
说明书desc
技术领域本发明涉及共享车电单车技术领域，具体而言，涉及一种共享电单车调度管理方法、服务器及存储介质。背景技术当前，共享出行越来越成为人们重要的出行方式。例如，为了解决长距离的出行有共享汽车，为了解决短距离出行有共享单车/共享电单车。共享出行虽然为人们带来了便捷，但是也滋生了安全隐患。尤其是共享电单车，骑行速度相对较快，相较共享单车也更加的难以控制。一旦发生交通事故，共享电单车的骑乘人员便会受伤。基于此，开放共享电单车的城市的交通管理部门都对共享电单车做出了一定的限制。例如，限制共享电单车的最高车速，骑行共享电单车必须佩戴头盔，对未佩戴头盔的骑行用户进行曝光或者经济处罚。但是，目前由于各种原因，城市中仅部分共享电单车设置有头盔，另一部分共享电单车并没有头盔。此时，用户只能通过自己携带头盔进行骑行，这对用户造成了极大的不方便，也极大的阻碍了用户将共享电单车作为出行的选择。发明内容本发明的目的在于提供一种共享电单车的调度管理方法，应用于服务器，所述调度管理方法包括：响应用户终端对共享电单车的解锁请求；若所述车辆状态包括缺失，则获取所述共享电单车周边的车辆状态为故障的故障电单车；将所述故障电单车的车辆状态推送至所述用户终端；响应用户终端对所述共享电单车的更换请求；开放所述共享电单车的更换权限；开放用户终端选定的所述故障电单车中的目标电单车的更换权限；响应用户终端对所述共享电单车的更换完毕请求；关闭所述共享电单车和所述目标电单车的更换权限；将所述目标电单车的车辆状态发送至运维端，并发送解锁指令至所述共享电单车。此时，原不能骑行或者不宜骑行的共享电单车变得适宜用户骑行，方便了用户，提升了用户的满意度。同时，也使得物资能够被充分利用，方便更多的用户去使用共享电单车，也方便了运维专员的集中修理。可选的，所述缺失包括缺电量和缺头盔，所述未缺失包括未缺电量和未缺头盔。可选的，若所述缺失为缺电量，且所述共享电单车周边的车辆状态均为非故障电单车，获取所述共享电单车周边的车辆状态为缺头盔的缺盔电单车，并将所述缺盔电单车的车辆状态推送至所述用户终端。可选的，若所述缺失为缺头盔，且所述共享电单车周边的车辆状态均为非故障电单车，获取所述共享电单车周边的车辆状态为低电量的低电电单车和缺电电单车，并将所述低电电单车和缺电电单车的车辆状态推送至所述用户终端。可选的，获取所述共享电单车周边的车辆状态为故障的故障电单车包括：根据车辆上报的电量获取电量信息，根据终端的反馈获取头盔信息和故障信息。可选的，所述响应用户终端对共享电单车的解锁请求后，还包括：接收用户终端发送的车辆状态。可选的，若所述车辆状态包括缺失，且所述共享电单车周边的车辆状态均为非故障电单车，向所述用户终端发送更换车辆的提示。可选的，所述关闭所述共享电单车和目标电单车的更换权限之后，还向所述用户终端发送奖励金。本发明还提供一种共享电单车的服务器，包括：接收模块，所述接收模块用于响应用户终端对共享电单车的解锁请求；若所述车辆状态包括缺失，则获取所述共享电单车周边的车辆状态为故障的故障电单车；发送模块，所述发送模块用于将所述故障电单车的车辆状态推送至所述用户终端；所述接收模块还用于响应用户终端对所述共享电单车的更换请求；控制模块，所述控制模块用于在所述接收模块响应用户终端对所述共享电单车的更换请求时，开放所述共享电单车的更换权限；所述控制模块还用于开放用户终端选定的所述故障共享电单车中的目标电单车的更换权限；所述接收模块还用于响应用户终端对所述共享电单车的更换完毕请求；所述控制模块还用于在所述接收模块响应用户终端对所述共享电单车的更换完毕请求时，关闭所述共享电单车和所述目标电单车的更换权限；所述发送模块还用于将所述目标电单车的车辆状态发送至运维端，并发送解锁指令至所述共享电单车。本发明还提供一种存储介质，其上存储有计算机程序，所述计算机程序被处理器运行时，执行以上所述的共享电单车的调度管理方法的步骤。本发明还提供一种共享电单车的服务器，包括存储器和处理器，所述存储器上存储有可在所述处理器上运行的计算机程序，所述处理器运行所述计算机程序时执行以上所述的共享电单车的调度管理方法的步骤。附图说明图1为本发明具体实施例中共享电单车的车辆状态图；图2为本发明具体实施例中共享电单车的调度管理的流程示意图；图3为本发明具体实施例中共享电单车的调度管理的模块示意图。具体实施方式为使本发明的上述目的、特征和优点能够更为明显易懂，下面结合附图对本发明的具体实施例做详细的说明。共享电单车作为解决城市交通最后的1-3公里，极大地方便了人们的出行体验。但是，共享电单车本身的电驱动性质，以及城市交通管理部门出于对共享电单车的安全考虑，导致用户在使用共享电单车的过程中仍然存在诸多的限制。例如当用户想使用共享电单车时，发现车辆没电不能骑行，或者车辆车辆电量较低以至用户不能到达目的地，则会很大程度上影响用户体验。此外，应城市交通管理部门的要求，使用共享电单车必须佩戴安全头盔，若用户发现共享电单车上没有安全头盔，或者安全头盔已经被损坏导致无法正常佩戴，则会导致用户仍然无法使用共享电单车。假使用户不佩戴安全头盔强行上路则，则可能面临被城市交通管理部门处罚的风险。因此，作为共享电动车的运营方，有必要解决上述问题，为用户的出行提供方便。参照图1，目前来说，共享电单车的车辆状态可以分为以下几种：1)未缺电量未缺头盔的故障电单车，2)未缺电量缺头盔的故障电单车，3)缺电量未缺头盔的故障电单车，4)缺电量缺头盔的故障电单车，5)未缺电量未缺头盔的非故障电单车，6)未缺电量缺头盔的非故障电单车，7)缺电量未缺头盔的非故障电单车，8)缺电量缺头盔的非故障电单车。以上八种车辆状态中，仅其中一种是用户可以正常骑行的，就是第五种未缺电量未缺头盔的非故障电单车，其他均因为存在各自的问题导致用户无法正常上路。需要说明的是，此处缺头盔包括没有头盔和有头盔但不能使用两种情形，未缺头盔表示有头盔且能够正常使用这种情形。共享电单车通常直接放置在室外，且监管并不严，因为天气原因或者人为原因或者正常使用等原因都会造成共享电单车的车辆状态处于除第五种以外的其他七种。故障电单车指的是一定不能骑行的共享电单车，但其可能电量充足且配有安全头盔。非故障电单车指的是在满足一定条件下便可以骑行的共享电单车，但是当电量不足时便无法骑行，或者当没有配备安全头盔或者安全头盔被损坏时由于存在安全隐患不建议骑行。一般的，提供共享电单车的企业会安排运维专员对共享电动车进行运维。当出现故障电单车时进行维修，电量不足时进行换电，安全头盔丢失或者损坏时重新配备安全头盔。但是，鉴于运维专员人力等原因，以上不能骑行的共享电单车或者其中一部分共享电单车通常无法及时快速的进行修复。此时，就会有用户想用共享电单车而不能用的情况发生。例如，在停车点有两辆车，其中一辆为未缺电量未缺头盔的故障电单车，另一辆为缺电量缺头盔的非故障电单车。这两辆车相对于用户来说都是不能用来骑行的，这会大大降低用户的体验。参照图2，本实施例提供一种共享电单车的调度管理方法，该调度管理方法应用于服务器，包括以下步骤：S11，响应用户终端对共享电单车的解锁请求。当用户需要使用共享电单车时，首先需要达到共享电单车的停车点，找到共享电单车，然后通过智能终端扫码解锁。通常情况下，用户在扫码解锁前是不知道共享电单车的车辆状态的。当用户扫码之后，若服务器判定该共享电单车为未缺电量未缺头盔的非故障电单车，则判定可供用户骑行，用户通过智能终端点击解锁后，即可骑行该解锁的共享电单车。若服务器判定该共享电单车为故障电单车，则向智能终端发送此共享电单车为故障电单车的提示，此时用户无法通过智能终端解锁该共享电单车，该共享电单车不能被骑行。本实施例中，服务器获取共享电单车的车辆状态包括：根据该共享电单车实时上报的电量获取该共享电单车的电量信息，从而判断该共享电单车是否缺电量；根据使用该共享电单车的前一用户的反馈信息，判断该共享电单车的故障信息和头盔信息，从而判断该共享电单车是否为故障电单车，是否缺头盔。由于使用该共享电单车的前一用户和当前用户之间有时间差，在该时间段内有可能出现一些其他的情况。例如，共享电单车因为摔倒而出现故障，共享电单车因为头盔被盗窃或认为损坏而出现缺头盔。此时，若当前用户发现存在上述问题，则可以通过智能终端将上述信息反馈至服务器，当服务器接收到上述信息后，立即锁定该共享电单车，并更新服务器中该共享电单车的信息。若服务器接收到的是共享电单车为故障电单车的信息，则不允许用户骑行；若服务器接收到的是共享电单车缺头盔的信息，则进行下一步骤。S12，若所述共享电单车的车辆状态包括缺失，则获取所述共享电单车周边的车辆状态为故障的故障电单车。当用户扫码之后，还有第三种情况就是服务器判定该共享电单车为非故障电单车且该共享电单车的车辆状态包括缺失，此处缺失表示的是缺电量和缺头盔中的至少其中一种。根据前述内容，此时的该共享电单车也是不能上路或者不宜上路的。为了方便用户骑行，本实施例中，服务器还去获取该共享电单车周边的车辆状态为故障的故障电单车。故障电单车是确定不能骑行的共享电单车，靠用户本身是无法解决的。因此，用户可以利用故障电单车的配件来解决当前共享电单车不能上路的问题。例如，故障电单车上配备有安全头盔，则可以将安全头盔转移到当前共享电单车；故障电单车的电量很充足，则可以将故障电单车中的电池转移到当前共享电单车，从而使当前共享电单车变的适于骑行。其中，共享电单车周边指的是该共享电单车所在的停车点范围之内的所有共享电单车的集合。也可以是以该共享电单车所在停车点为中心的一定半径范围内的所有停车点内的所有共享电单车的集合，一定半径范围是预先设定好的。本实施例中，服务器获取故障电单车的车辆状态包括：根据该故障电单车实时上报的电量获取该故障电单车的电量信息，从而判断该故障电单车是否缺电量；根据使用该故障电单车的前一用户的反馈信息，判断该故障电单车头盔信息，从而判断该共享电单车是否缺头盔。S13，将所述故障电单车的车辆状态推送至所述用户终端。共享电单车周边的车辆状态为故障的故障电单车可能有一辆，也有可能有多辆，也可能一辆都没有。若是一辆都没有，则表明该共享电单车周边的车辆状态均为非故障电单车，因而无法利用故障电单车的配件来解决当前共享电单车不能上路的问题。此时，服务器向用户终端发送更换共享电单车的提示，建议用户更换另一辆共享电单车。服务器还可以将离该共享电单车最近的另一辆未缺电量未缺头盔的非故障电单车的定位发送至用户终端，以便用户使用。本实施例中，故障电单车的车辆状态包括：是否缺电量和是否缺头盔。在用户终端上，用户通过选择某辆故障电单车从而获取该故障电单车的车辆状态。例如当前共享电单车的车辆状态是未缺电量缺头盔的非故障电单车，则用户需要在智能终端上找一辆未缺电量未缺头盔的故障电单车或者缺电量未缺头盔的故障电单车，以便将故障电单车上的安全头盔转移至当前共享电单车。S14，响应用户终端对所述共享电单车的更换请求。S15，开放所述共享电单车的更换权限。S16，开放用户终端选定的所述故障电单车中的目标电单车的更换权限。当用户在智能终端上选中故障电单车后，可以向服务器请求更换当前共享电单车和故障电单车的零配件。服务器收到用户终端发送的更换请求后，会向当前共享电单车发送开放更换权限的指令以开放当前共享电单车的更换权限，并且向选定的故障电单车发送开放更换权限的指令以开放目标电单车的更换权限。更换权限包括更换电池的权限和更换头盔的权限，可以根据用户的选择开放不同的权限，也可以根据系统自动识别以开放不同的权限。例如，若当前共享电单车为未缺电量缺头盔的非故障电单车，目标电单车为未缺电量未缺头盔的非故障电单车，系统识别仅需更换安全头盔，因此仅开放更换头盔的权限；若当前共享电单车为缺电量缺头盔的非故障电单车，目标电单车为未缺电量缺头盔的非故障电单车，系统识别到并没有更换头盔的必要，因此仅开放更换电池的权限。这里需要说明的是，当前市面上流通的共享电单车，其电池设置在车身内且被锁定的，其安全头盔设置在车身外也是被锁定的，均可以获取权限通过服务器以解除锁定，其目的也是为了防止电池被盗，安全头盔被盗。S17，响应用户终端对所述共享电单车的更换完毕请求。S18，关闭所述共享电单车和所述目标电单车的更换权限。当服务器开放共享电单车的更换权限和目标电单车的更换权限后，用户便可以对电池或者安全头盔进行更换。若开放的是更换头盔权限，服务器可以直接向共享电单车和目标电单车发送打开头盔锁的指令，也可以由用户通过智能终端打开共享电单车和目标电单车的头盔锁。若共享电单车上的安全头盔为不可用的故障头盔，则交换共享电单车和目标电单车的安全头盔，若共享电单车上没有安全头盔，则将目标电单车的安全头盔转移至当前共享电单车上。当用户更换完毕安全头盔后，用户通过智能终端确认更换完毕，将更换完毕的信息反馈至服务器。服务器根据获得的更换完毕信息，关闭共享电单车的更换权限，关闭目标电单车的更换权限。此时，共享电单车的头盔锁被重新锁定，目标电单车的头盔锁也被重新锁定。用户无法在交换两电单车之间的安全头盔。若开放的是更换电池权限，其更换方式参照安全头盔的更换方式，不再赘述。S19，将所述目标电单车的车辆状态发送至运维端，并发送解锁指令至所述共享电单车。当更换完成后，当前缺头盔的共享电单车配备了安全头盔，当前缺电量的共享电单车获得了充足的电量。此时，原不能骑行或者不宜骑行的共享电单车变得适宜用户骑行，方便了用户，提升了用户的满意度。同时，也使得物资能够被充分利用，方便更多的用户去使用共享电单车，也方便了运维专员的集中修理。当服务器将共享电单车和目标电单车的电池锁/头盔锁重新锁定后，服务器还将目标电单车的车辆状态发送至运维端，以使运维端能够第一时间获取故障车辆信息，以便运维专员尽快对故障车辆进行维修。同时，经过更换安全头盔或电池，当前共享电单车已经变的适于骑行，因此，服务器还发送解锁指令至共享电单车，以使用户可以使用此共享电单车。本实施例中，为了鼓励用户通过更换请求将原来不适于骑行的共享电单车变得适于骑行，以方便用户提升用户满意度，服务器还向完成更换请求的用户锁对应的用户终端发送奖励金，奖励金可以是代金券、骑行券或者电子现金。如前所述，在本实施例中，当服务器检测到当前共享电单车的车辆状态为缺失时，则会获取该共享电单车周边的车辆状态为故障的故障电单车。但是，若该共享电单车周边的车辆状态均为非故障电单车，服务器获取不到故障电单车时，服务器向用户终端发送更换车辆的提示。也就意味着，当共享电单车周边的车辆状态均为非故障电单车时，用户只能选择换车。但是，现实情况下存在这样一种情况。例如，在停车点有两辆共享电单车，其中一辆是未缺电量缺头盔的非故障电单车，另一辆是缺电量未缺头盔的非故障电单车。此时，第一辆车由于缺头盔不适于骑行，第二辆由于缺电量不能骑行，无法满足用户的用车需求。但是，假如将第二辆车的安全头盔转移至第一辆车上，第一辆车就可以变的适于骑行，满足用户的需求；或者，将第一辆车的电池转移至第二辆车上，第二辆车也可以变的适于骑行，满足用户的需求。因此，在其他变形例中，还提供下述方法：当服务器检测到当前共享电单车为缺电量未缺头盔的非故障电单车，且服务器检测到该共享电单车周边的车辆状态均为非故障电单车时，服务器还获取该共享电单车周边的车辆状态为缺头盔的缺盔电单车，并将缺盔电单车的车辆状态推送至用户终端。缺盔电单车是确定不适于骑行的共享电单车。因此，用户可以利用缺盔电单车的配件来解决当前共享电单车不能上路的问题。依据当前事实分析缺盔电单车很大程度上并不缺电量，由此可以将缺盔电单车的电池转移到当前共享电单车，从而解决当前共享电单车缺电的问题，使当前共享电单车变的适于骑行。共享电单车周边的缺盔电单车可能有一辆，也有可能有多辆，也可能一辆都没有。若是一辆都没有，则表明无法利用缺盔电单车的配件来解决当前共享电单车不能上路的问题。此时，服务器向用户终端发送更换共享电单车的提示，建议用户更换另一辆共享电单车。服务器还可以将离该共享电单车最近的另一辆未缺电量未缺头盔的非故障电单车的定位发送至用户终端，以便用户使用。本发明在其他变形例中，还提供下述方法：当服务器检测到当前共享电单车为未缺电量缺头盔的非故障电单车，且服务器检测到该共享电单车周边的车辆状态均为非故障电单车时，服务器还获取该共享电单车周边的车辆状态为低电量的低电量电单车，并将低电量电单车的车辆状态推送至用户终端。低电量电单车指的是缺电的共享电单车和电量在设定值以下的共享电单车，低电量的阈值可以事先进行设定，例如将只能维持5公里以下的骑行距离的共享电单车的电量设定为低电量电单车。如前所述，用户可以利用低电量电单车的配件来解决当前共享电单车不能上路的问题。依据当前事实分析低电量电单车很大程度上并不缺头盔，由此可以将低电量电单车的安全头盔转移到当前共享电单车，从而解决当前共享电单车缺头盔的问题，使当前共享电单车变的适于骑行。共享电单车周边的缺盔电单车可能有一辆，也有可能有多辆，也可能一辆都没有。若是一辆都没有，则表明无法利用低电量电单车的配件来解决当前共享电单车不能上路的问题。此时，服务器向用户终端发送更换共享电单车的提示，建议用户更换另一辆共享电单车。服务器还可以将离该共享电单车最近的另一辆未缺电量未缺头盔的非故障电单车的定位发送至用户终端，以便用户使用。本发明还提供一种共享电单车的服务器，参照图3，服务器100包括接收模块10、发送模块20和控制模块30。其中，接收模块10用于响应用户终端对共享电单车的解锁请求，若车辆状态包括缺失，接收模块10则获取共享电单车周边的车辆状态为故障的故障电单车。发送模块20用于在接收模块10接收到故障电单车是，将故障电单车的车辆状态推送至用户终端。接收模块10还用于响应用户终端对共享电单车的更换请求，控制模块30用于在接收模块10响应用户终端对共享电单车的更换请求，开放共享电单车的更换权限，控制模块30还用于开放用户终端选定的故障共享电单车中的目标电单车的更换权限。接收模块10还用于响应用户终端对共享电单车的更换完毕请求，控制模块30还用于在接收模块10响应用户终端对共享电单车的更换完毕请求时，关闭共享电单车和目标电单车的更换权限。发送模块20还用于将目标电单车的车辆状态发送至运维端，并发送解锁指令至共享电单车。本发明还提供一种存储介质，其上存储有计算机程序，计算机程序被处理器运行时，执行以上所述的共享电单车的调度管理方法的步骤。本发明还提供一种共享电单车的服务器，包括存储器和处理器，存储器上存储有可在所述处理器上运行的计算机程序，处理器运行计算机程序时执行以上所述的共享电单车的调度管理方法的步骤。虽然本发明披露如上，但本发明并非限定于此。任何本领域技术人员，在不脱离本发明的精神和范围内，均可作各种更动与修改，因此本发明的保护范围应当以权利要求所限定的范围为准。
