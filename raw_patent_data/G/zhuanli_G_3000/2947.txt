标题title
一种基于三维模型的装配式建筑施工监控系统
摘要abst
本发明属于监控领域，公开了一种基于三维模型的装配式建筑施工监控系统，包括无线传感器节点、数据转发装置和三维展示终端；无线传感器节点被安装在预制构件上，用于在开机后向邻居节点发送第一定位信息；邻居节点用于对第一定位信息进行处理，基于第一定位信息生成第二定位信息，并将第二定位信息发送至数据转发装置；数据转发装置被设置在装配式建筑的外部，用于对第二定位信息进行转发，将定位消息发送至三维展示终端；三维展示终端用于根据第二定位信息对装配式建筑的三维模型进行更新，获得更新后的装配式建筑的三维模型。本发明能够降低更新工作量，同时也能够及时地显示装配式建筑的最新施工进度。
权利要求书clms
1.一种基于三维模型的装配式建筑施工监控系统，其特征在于，包括无线传感器节点、数据转发装置和三维展示终端；无线传感器节点被安装在预制构件上，用于在开机后向邻居节点发送第一定位信息；邻居节点用于对第一定位信息进行处理，基于第一定位信息生成第二定位信息，并将第二定位信息发送至数据转发装置；数据转发装置被设置在装配式建筑的外部，用于对第二定位信息进行转发，将定位消息发送至三维展示终端；三维展示终端用于根据第二定位信息对装配式建筑的三维模型进行更新，获得更新后的装配式建筑的三维模型。2.根据权利要求1所述的一种基于三维模型的装配式建筑施工监控系统，其特征在于，开机时刻为预制构件安装完成的时刻。3.根据权利要求1所述的一种基于三维模型的装配式建筑施工监控系统，其特征在于，将第二定位信息发送至数据转发装置，包括：邻居节点判断数据转发装置是否处于自身的通信半径内，若是，则直接将第二定位信息发送至数据转发装置，若否，则将第二定位信息发送至自身通信范围内的另一个无线传感器节点。4.根据权利要求1所述的一种基于三维模型的装配式建筑施工监控系统，其特征在于，第一定位信息包括预制构件的编号。5.根据权利要求1所述的一种基于三维模型的装配式建筑施工监控系统，其特征在于，对第一定位信息进行处理，基于第一定位信息生成第二定位信息，包括：邻居节点获取接收第一定位信息时的信号强度；邻居节点基于自身的身份信息、信号强度和第一定位信息生成第二定位信息。6.根据权利要求5所述的一种基于三维模型的装配式建筑施工监控系统，其特征在于，根据第二定位信息对装配式建筑的三维模型进行更新，获得更新后的三维模型，包括：根据接收到的多个第二定位信息中包含的信号强度，对无线传感器节点进行定位，获得预制构件的第一位置；根据第二定位信息中包含的预制构件的编号，获取预制构件的三维模型；根据第一位置计算出预制构件的三维模型在装配式建筑的三维模型中的第二位置；将预制构件的三维模型添加到装配式建筑的三维模型中的第二位置，获得更新后的装配式建筑的三维模型。7.根据权利要求1所述的一种基于三维模型的装配式建筑施工监控系统，其特征在于，无线传感器节点还用于获取预制构件的状态信息，并将状态信息发送至邻居节点；邻居节点用于将状态信息发送至数据转发装置。8.根据权利要求7所述的一种基于三维模型的装配式建筑施工监控系统，其特征在于，将状态信息发送至数据转发装置，包括：邻居节点判断数据转发装置是否处于自身的通信半径内，若是，则直接将状态信息发送至数据转发装置，若否，则将状态信息发送至自身通信范围内的另一个无线传感器节点。9.根据权利要求7所述的一种基于三维模型的装配式建筑施工监控系统，其特征在于，获取预制构件的状态信息，包括：采用自适应的获取周期获取预制构件的状态信息。10.根据权利要求1所述的一种基于三维模型的装配式建筑施工监控系统，其特征在于，在开机后向邻居节点发送第一定位信息，包括：在开机后，根据设定的时间长度进行倒计时，在倒计时结束前，周期性地向邻居节点发送第一定位信息。
说明书desc
技术领域本发明涉及监控领域，尤其涉及一种基于三维模型的装配式建筑施工监控系统。背景技术现有技术中，经常采用三维模型对装配式建筑的施工进度进行监控，即随着施工进度的增加，逐渐把已经装配好的预制构件的模型添加到原有的三维模型中相应的位置，直至到完成所有的预制构件的装配，此时三维模型便是完整的建筑模型。但是，现有技术中一般需要人工手动来更新三维模型的状态，这就导致对三维模型的更新的工作量比较大，而且人工更新的方式，容易存在更新延迟大的问题，即当负责更新的工作人员刚好有事没有更新时，三维模型一直处于前一次更新的状态，不利于及时地显示装配式建筑的最新施工进度。发明内容本发明的目的在于公开一种基于三维模型的装配式建筑施工监控系统，解决如何在降低三维模型的更新工作量的同时，及时更新三维模型的状态的问题。为了达到上述目的，本发明提供如下技术方案：一种基于三维模型的装配式建筑施工监控系统，包括无线传感器节点、数据转发装置和三维展示终端；无线传感器节点被安装在预制构件上，用于在开机后向邻居节点发送第一定位信息；邻居节点用于对第一定位信息进行处理，基于第一定位信息生成第二定位信息，并将第二定位信息发送至数据转发装置；数据转发装置被设置在装配式建筑的外部，用于对第二定位信息进行转发，将定位消息发送至三维展示终端；三维展示终端用于根据第二定位信息对装配式建筑的三维模型进行更新，获得更新后的装配式建筑的三维模型。优选地，开机时刻为预制构件安装完成的时刻。优选地，将第二定位信息发送至数据转发装置，包括：邻居节点判断数据转发装置是否处于自身的通信半径内，若是，则直接将第二定位信息发送至数据转发装置，若否，则将第二定位信息发送至自身通信范围内的另一个无线传感器节点。优选地，第一定位信息包括预制构件的编号。优选地，对第一定位信息进行处理，基于第一定位信息生成第二定位信息，包括：邻居节点获取接收第一定位信息时的信号强度；邻居节点基于自身的身份信息、信号强度和第一定位信息生成第二定位信息。优选地，根据第二定位信息对装配式建筑的三维模型进行更新，获得更新后的三维模型，包括：根据接收到的多个第二定位信息中包含的信号强度，对无线传感器节点进行定位，获得预制构件的第一位置；根据第二定位信息中包含的预制构件的编号，获取预制构件的三维模型；根据第一位置计算出预制构件的三维模型在装配式建筑的三维模型中的第二位置；将预制构件的三维模型添加到装配式建筑的三维模型中的第二位置，获得更新后的装配式建筑的三维模型。优选地，无线传感器节点还用于获取预制构件的状态信息，并将状态信息发送至邻居节点；邻居节点用于将状态信息发送至数据转发装置。优选地，将状态信息发送至数据转发装置，包括：邻居节点判断数据转发装置是否处于自身的通信半径内，若是，则直接将状态信息发送至数据转发装置，若否，则将状态信息发送至自身通信范围内的另一个无线传感器节点。优选地，获取预制构件的状态信息，包括：采用自适应的获取周期获取预制构件的状态信息。优选地，在开机后向邻居节点发送第一定位信息，包括：在开机后，根据设定的时间长度进行倒计时，在倒计时结束前，周期性地向邻居节点发送第一定位信息。本发明的基于三维模型的装配式建筑施工监控系统，在对施工进度进行监控个过程中，通过在预制构件上设置无线传感器节点来进行发送第一定位信息，而邻居节点根据第一定位信息生成第二定位信息并发送至数据转发装置，数据转发装置能够将第二定位信息传输至三维展示终端，三维展示终端能够自动根据接收到的第二定位信息来对当前已存在的装配式建筑的三维模型来进行更新，从而实现了装配式建筑的三维模型的自动更新，由于不需要人工进行更新，能够降低更新工作量，同时也能够及时地显示装配式建筑的最新施工进度。附图说明从下文给出的详细描述和附图中将更充分地理解本公开，附图仅以说明的方式给出，因此不限制本公开，并且其中：图1为本发明一种基于三维模型的装配式建筑施工监控系统的一种示意图。图2为本发明对装配式建筑的三维模型进行更新的一种示意图。具体实施方式为了能够更清楚地理解本发明的上述目的、特征和优点，下面结合附图和具体实施方式对本发明进行进一步的详细描述。需要说明的是，在不冲突的情况下，本申请的实施例及实施例中的特征可以相互组合。在下面的描述中阐述了很多具体细节以便于充分理解本发明，但是，本发明还可以采用其他不同于在此描述的其他方式来实施，因此，本发明的保护范围并不受下面公开的具体实施例的限制。如图1所示的一种实施例，本发明提供了一种基于三维模型的装配式建筑施工监控系统，包括无线传感器节点、数据转发装置和三维展示终端；无线传感器节点被安装在预制构件上，用于在开机后向邻居节点发送第一定位信息；邻居节点用于对第一定位信息进行处理，基于第一定位信息生成第二定位信息，并将第二定位信息发送至数据转发装置；数据转发装置被设置在装配式建筑的外部，用于对第二定位信息进行转发，将定位消息发送至三维展示终端；三维展示终端用于根据第二定位信息对装配式建筑的三维模型进行更新，获得更新后的装配式建筑的三维模型。本发明的基于三维模型的装配式建筑施工监控系统，在对施工进度进行监控个过程中，通过在预制构件上设置无线传感器节点来进行发送第一定位信息，而邻居节点根据第一定位信息生成第二定位信息并发送至数据转发装置，数据转发装置能够将第二定位信息传输至三维展示终端，三维展示终端能够自动根据接收到的第二定位信息来对当前已存在的装配式建筑的三维模型来进行更新，从而实现了装配式建筑的三维模型的自动更新，由于不需要人工进行更新，能够降低更新工作量，同时也能够及时地显示装配式建筑的最新施工进度。具体的，预制构件被运输到装配式建筑的施工地点之后，便会在不受力的一侧的表面安装上无线传感器节点。同时，无线传感器节点中已经预先存储有预制构件的编号。优选地，开机时刻为预制构件安装完成的时刻。具体的，当预制构件被安装到位后，施工人员可以通过无线传感器上的开关对无线传感器节点进行开机，让无线传感器节点进入工作状态。具体的，对于刚开机的无线传感器节点A，其对应的邻域节点指的是在无线传感器节点A的通信半径内的其它无线传感器节点。即在给定的通信半径内，能够直接与无线传感器节点A进行通信的所有其它无线传感器节点。优选地，将第二定位信息发送至数据转发装置，包括：邻居节点判断数据转发装置是否处于自身的通信半径内，若是，则直接将第二定位信息发送至数据转发装置，若否，则将第二定位信息发送至自身通信范围内的另一个无线传感器节点。具体的，对于邻居节点B，邻居节点B会定期扫描自身的通信范围内的其它设备，当没有扫描到数据转发装置时，则表示数据转发装置没有在邻居节点B的通信范围之内。此时，邻居节点B会将第二定位信息发送至另一个无线传感器节点，这里的无线传感器节点不包括向邻居节点B发送第一定位信息的无线传感器节点。多个无线传感器节点重复转发过程，从而实现通过多跳通信的方式与数据转发装置进行通信。优选地，第一定位信息包括预制构件的编号。在另一种实施方式中，第一定位信息还可以包括无线传感器节点的编号。优选地，对第一定位信息进行处理，基于第一定位信息生成第二定位信息，包括：邻居节点获取接收第一定位信息时的信号强度；邻居节点基于自身的身份信息、信号强度和第一定位信息生成第二定位信息。具体的，身份信息包括基站等。具体的，信号强度包括RSSI值。具体的，获取接收第一定位信息时的信号强度，包括：在接收第一定位信息的过程中，每接收一个数据帧，便记录下接收该数据帧时的RSSI值；将获得的RSSI值按照记录的时刻从早到晚的顺序保存到集合rssishet；对集合rssishet中的RSSI值进行处理，得到第一定位信息对应的RSSI值：使用如下函数获取第一定位信息对应的RSSI值：rssifinl表示第一定位信息对应的RSSI值，n表示起始序号，N表示rssishet中的RSSI值的总数，n的计算函数为：SNR表示接收第一定位信息对应的数据帧时，邻居节点计算得到的信噪比，stdSNR表示预设的信噪比的参考值，M表示预设的常数，M小于N；δ表示位置权重系数，/＞d表示第一控制参数，ε表示数值权重系数，/＞g表示第二控制参数，RSSIj和RSSIN分别表示rssishet中第j个和第N个RSSI值。本发明在计算第一定位信息对应的RSSI值时，并不是直接将对第一定位信息接收完毕时的RSSI值作为第一定位信息的RSSI值，因为可能会存在电磁干扰，导致RSSI值不够准确。因此，本发明将在获取第一定位信息对应的数据帧时，每接收一个数据帧，便记录下当时的RSSI值，从而得到集合rssishet，然后本发明根据集合rssishet来计算得到rssifinl，从而提高获得了更为准确的RSSI值。在计算的过程中，先通过SNR来计算出用于参考的RSSI值的范围，即，然后基于范围内的RSSI值来加权求和得到最终的RSSI值，能够在SNR的数值比较大时，用于参考的RSSI值的范围比较小，提高计算速度，而在SNR的数值比较小时，用于参考的RSSI值的范围比较大，提高平滑程度，获得更为准确的RSSI值。因为当SNR的数值越大时，表示邻居节点接收到的发出第一定位信息的无线传感器节点的信号质量越好，此时，仅需要较少数量的RSSI值来作为参考，便能够得到准确的第一定位信息对应的RSSI值；而当SNR的数值越小时，表示邻居节点接收到的发出第一定位信息的无线传感器节点的信号质量越差，此时，需要较多数量的RSSI值来作为参考，以更强的力度来降低电磁干扰对最终获得的RSSI值的影响。从而在准确程度和计算速度之间取得平衡。在确定好用于参考的RSSI值的范围之后，本发明通过将第n个到第N-1个RSSI值进行加权求和得到最终的RSSI值。在权重的设置上，本发明通过位置权重系数和数值权重系数来综合得到RSSI值的权重，位置权重系数越大，数值权重系数越大，则RSSI值的权重越大。从而避免了对所有的RSSI值设置相同的权重，提高了计算结果的准确率。具体的，d和g都可以是取值范围在之间的正整数。优选地，如图2所示，根据第二定位信息对装配式建筑的三维模型进行更新，获得更新后的三维模型，包括：根据接收到的多个第二定位信息中包含的信号强度，对无线传感器节点进行定位，获得预制构件的第一位置；根据第二定位信息中包含的预制构件的编号，获取预制构件的三维模型；根据第一位置计算出预制构件的三维模型在装配式建筑的三维模型中的第二位置；将预制构件的三维模型添加到装配式建筑的三维模型中的第二位置，获得更新后的装配式建筑的三维模型。优选地，根据接收到的多个第二定位信息中包含的信号强度，对无线传感器节点进行定位，获得预制构件的第一位置，包括：对接收到的多个第二定位信息中包含的信号强度进行筛选，信号强度的数值最大的前3个信号强度；结合选出的3个信号强度对应的邻居节点的身份信息，可以知道邻居节点的位置，然后选出的3个信号强度来计算出发送第一定位信息的无线传感器节点与3个邻居节点之间的距离，然后采用三角定位算法便能计算出预制构件的第一位置。优选地，根据第二定位信息中包含的预制构件的编号，获取预制构件的三维模型，包括：根据预制构件的编号从数据库中查询得到预制构件的类型，然后从数据库中读取预制构件的类型对应的三维模型。预制构件的类型包括外墙板，内墙板，叠合板，阳台，空调板，楼梯，预制梁，预制柱等。优选地，根据第一位置计算出预制构件的三维模型在装配式建筑的三维模型中的第二位置，包括：根据三维模型的缩放比例对第一位置进行计算，从而得到预制构件的三维模型在装配式建筑的三维模型中的第二位置。例如，当缩放比例为1比1000时，第一位置的坐标为，则第二位置的坐标为。当缩放比例为1比1时，第一位置的坐标为，则第二位置的坐标也是。优选地，将预制构件的三维模型添加到装配式建筑的三维模型中的第二位置，获得更新后的装配式建筑的三维模型，包括：根据设定的添加规则将预制构件的三维模型添加到装配式建筑的三维模型中的第二位置，获得更新后的装配式建筑的三维模型。例如，对于外墙板，内墙板等需要竖直放置的三维模型，则竖直添加到装配式建筑的三维模型中的第二位置，放好之后，三维模型自动识别周围的其它预制构件，根据设定的规则自动调整角度。例如，对于外墙板A，当外墙板A位于直角转弯处时，可以自动根据设计图纸来调整外墙板A的角度，使得外墙板A与已经存在的外墙板B之间的夹角为直角。优选地，无线传感器节点还用于获取预制构件的状态信息，并将状态信息发送至邻居节点；邻居节点用于将状态信息发送至数据转发装置。另外，由于对预制构件安装完成后，需要对预制构件的状态进行监控。现有技术一般都是在手动更新装配式建筑的三维模型后，另外安装传感器来进行监控。而本发明则是将装配式建筑的三维模型的更新与对预制构件的状态的监控结合为一体，从而进一步节约了对装配式建筑的施工进行监控的工作量。优选地，将状态信息发送至数据转发装置，包括：邻居节点判断数据转发装置是否处于自身的通信半径内，若是，则直接将状态信息发送至数据转发装置，若否，则将状态信息发送至自身通信范围内的另一个无线传感器节点。优选地，数据转发装置还用于将状态信息发送至三维展示终端，三维模型展示终端用于根据预制构件的编号在装配式建筑的三维模型中对应的位置对状态信息进行显示。例如，可以从预制构件的三维模型附近显示一个状态框，状态框中显示状态信息，而状态框通过指示线与对应的三维模型连接。优选地，获取预制构件的状态信息，包括：采用自适应的获取周期获取预制构件的状态信息。具体的，状态信息可以包括应力值、形变值等。在获取完状态信息之后，无线传感器节点便获取下一个获取周期，然后根据下一个获取周期进行倒计时，倒计时结束后，再次获取状态信息。优选地，在开机后向邻居节点发送第一定位信息，包括：在开机后，根据设定的时间长度进行倒计时，在倒计时结束前，周期性地向邻居节点发送第一定位信息。优选地，自适应的获取周期通过如下方式计算得到：在无线传感器节点结束发送第一定位信息后，便开始进行预制构件的状态信息的获取；自适应的获取周期的计算函数为：zqcyct和zqcyct-1分别为第t个和第t-1个获取周期，curtimt为开始计算t个获取周期的时刻，endtim为无线传感器节点结束发送第一定位信息的时刻，montim为无线传感器节点的最大工作时长，Qone表示预设的第一时长，Qtwo表示预设的第二时长，typset表示状态信息的类型的集合，valuek,t-1为在第t-1个获取周期获得的第k种类型的状态信息的数值，valuek,t-2在第t-2个获取周期获得的第k种类型的状态信息的数值，ntye表示typset中包含的状态信息的类型的总数，avechg表示预设的平均值；tycsh表示预设的获取周期的数量阈值；sdmt表示第t个获取周期的变化方向参数，当大于等于设定的平均值阈值时，sdmt的值为-1，当/＞小于设定的平均值阈值时，sdmt的值为1；若zqcyct大于获取周期的最大值，则以获取周期的最大值作为第t个获取周期的数值；若zqcyct小于获取周期的最小值，则以获取周期的最小值作为第t个获取周期的数值。具体的，在本发明中，通过将获取周期的累计数量与设定的数量阈值进行比较，从而为预制构件的不同时间阶段设置了不同的计算函数来计算获取周期，具体的，当获取周期的累计数量比较小时，本发明的获取周期的数值直接计算获取周期的时刻与距离结束发送第一定位信息的时刻之间的时间长度有关，时间长度越大，则获取周期的数值越大。在获取周期的累计数量较小时，由于预制构件刚安装完成不久，那么状态发生幅度的变化的概率比较大，例如，可能因为受到的压力增大而形变增大，此时，获取周期的数值较小，以实现对预制构件的状态信息的及时获取，而随着时间的增加，预制构件的状态逐渐稳定，则状态信息的变化幅度会比较小，此时，本发明再采用另一种计算方式来计算获取周期。而在获取周期的累计数量比较大时，获取周期的数值则与上一个获取周期，以及上两个获取周期获得的状态信息的数值的变化程度有关，变化程度越大，则sdmt为负值的概率越大，zqcyct的数值的相较于zqcyct-1缩小的程度便越大，此时表示状态信息的数值发生改变的幅度较大，本发明会缩短获取周期，反之，本发明则会延长获取周期。与直接设置固定的获取周期的方式相比，本发明能够使得状态信息的获取周期随着预制构件的状态的变化而自适应变化，能够在变化幅度较大时，及时缩短获取周期，获取周期的变化幅度与状态信息的变化幅度正相关，实现及时的状态信息的获取，而在变化幅度较小时，则认为是自然变化，通过周期的数量阈值对为不同时间段的无线传感器节点选择不同的计算方式，使得本发明的无线传感器节点能够在预制构件的变化幅度较大时，采用较小的获取周期来获取状态信息，而在预制构件的变化幅度较小时，则采用较大的获取周期来获取状态信息，。上述实施方式能降低无线传感器节点的能量消耗速度，延长无线传感器节点的工作寿命的同时，保证了状态信息的及时获取和有效获取。尽管已经示出和描述了本发明的实施方式，本领域的普通技术人员可以理解：在不脱离本发明的原理和宗旨的情况下可以对这些实施方式进行多种变化、修改、替换和变型，本发明的范围由权利要求及其等同物限定。以上是对本发明的较佳实施进行了具体说明，但本发明并不限于所述实施例，熟悉本领域的技术人员在不违背本发明精神的前提下还可做作出种种的等同变形或替换，这些等同的变形或替换均包含在本申请权利要求所限定的范围内。
