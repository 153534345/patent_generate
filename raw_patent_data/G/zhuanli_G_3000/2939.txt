标题title
一种基于轨道的版图自动接线方法、系统及装置
摘要abst
本申请涉及半导体制造工艺技术领域，具体而言，涉及一种基于轨道的版图自动接线方法、系统及装置，一定程度上可以解决通过李氏迷宫算法或顺序绕线算法进行布线规划在实际操作中效率低的问题。所述版图自动接线方法包括：获取被测器件及焊盘的配置信息，根据被测器件及焊盘的配置信息将被测器件和焊盘绘制在版图上；创建轨道对象，轨道对象预设在版图绘制的被测器件及焊盘的两侧，轨道对象为接线路径预设方位；根据被测器件的配置信息获取引出端口信息并添加至轨道对象，遍历轨道对象中被测器件及引出端口信息，建立用于描述被测器件连接关系的连接网络；遍历连接网络，获取实际接线路径，并根据实际接线路径绘制各个轨道对象中的接线路径。
权利要求书clms
1.一种基于轨道的版图自动接线方法，其特征在于，所述版图自动接线方法包括：获取被测器件及焊盘的配置信息，根据被测器件及焊盘的配置信息将被测器件和焊盘绘制在版图上；其中，所述被测器件的配置信息包括被测器件的大小、位置、引出端口；所述焊盘的配置信息包括焊盘的大小、位置、引出端口；创建轨道对象，所述轨道对象预设在版图绘制的被测器件及焊盘的两侧，所述轨道对象为接线路径预设方位；根据被测器件的配置信息获取引出端口信息并添加至轨道对象，遍历轨道对象中被测器件及引出端口信息，建立用于描述被测器件连接关系的连接网络；遍历连接网络，获取实际接线路径，并根据实际接线路径绘制各个轨道对象中的接线路径。2.根据权利要求1所述的一种基于轨道的版图自动接线方法，其特征在于，在创建轨道对象的步骤中，所述版图自动接线方法包括：遍历所有被测器件的配置信息，获取所有被测器件的接线宽度数据和接线间距数据；对比所有被测器件的接线宽度数据，获取最大接线宽度；对比所有被测器件的接线间距数据，获取最大接线间距；根据最大接线宽度和最大接线间距预设轨道对象。3.根据权利要求1所述的一种基于轨道的版图自动接线方法，其特征在于，在遍历连接网络，获取实际接线路径的步骤中，所述版图自动接线方法包括：将所有的连接网络设置为未路由网络；遍历未路由网络，判断接线路径沿轨道的垂直方向是否重叠，根据垂直方向路径的首尾点和引出端口的位置对接线路径进行排序；沿接线路径水平方向对接线路径进行排序，获取预设接线路径网络；遍历预设接线路径网络，判断接线路径在垂直方向及水平方向的交叉情况；当接线路径存在交叉时，将垂直方向的接线路径指定为其他层，获取实际接线路径，将获取的实际接线路径存储至轨道对象。4.根据权利要求3所述的一种基于轨道的版图自动接线方法，其特征在于，在遍历未路由网络，判断接线路径沿轨道的垂直方向是否重叠，根据垂直方向路径的首尾点和引出端口的位置对接线路径进行排序的过程中，所述版图自动接线方法包括：当接线路径沿轨道的垂直方向存在重叠时，获取接线路径的首尾位置并判断在垂直方向上首尾是否为重叠包含关系；当存在重叠且包含关系时，接线路径中的较长的线段设置在外侧，接线路径中较短的线段设置在内侧；当存在重叠且不包含的关系时，判断接线路径中引出端口的水平位置，并将位置偏左的水平接线线段放置在上层，位置偏右的水平接线线段放置在下层。5.根据权利要求3所述的一种基于轨道的版图自动接线方法，其特征在于，在遍历未路由网络，判断接线路径沿轨道的垂直方向是否重叠，根据垂直方向路径的首尾点和引出端口的位置对接线路径进行排序的过程中，所述版图自动接线方法包括：当接线路径沿轨道的垂直方向不存在重叠时，将水平方向的接线路径线段垂直连接至对应的被测器件的引出端口处，存储所述接线路径沿轨道的垂直方向到所述引出端口的水平方向的接线路径。6.根据权利要求1所述的一种基于轨道的版图自动接线方法，其特征在于，在根据实际接线路径绘制各个轨道对象中的接线路径的步骤中，所述版图自动接线方法包括：根据获取的实际接线路径，绘制轨道对象的垂直方向的路径；根据获取的实际接线路径，绘制轨道对象的水平方向的路径。7.一种基于轨道的版图自动接线系统，其特征在于，所述版图自动接线系统包括：版图绘制模块，用于获取被测器件及焊盘的配置信息，根据被测器件及焊盘的配置信息将被测器件和焊盘绘制在版图上；其中，所述被测器件的配置信息包括被测器件的大小、位置、引出端口；所述焊盘的配置信息包括焊盘的大小、位置、引出端口；连接网络预设模块，用于创建轨道对象，所述轨道对象预设在版图绘制的被测器件及焊盘的两侧，所述轨道对象为接线路径预设方位；根据被测器件的配置信息获取引出端口信息并添加至轨道对象，遍历轨道对象中被测器件及引出端口信息，建立用于描述被测器件连接关系的连接网络；接线路径输出模块，用于遍历连接网络，获取实际接线路径，并根据实际接线路径绘制各个轨道对象中的接线路径。8.一种基于轨道的版图自动接线装置，其特征在于，所述版图自动接线装置包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器执行权利要求1至6中任一项所述的版图自动接线方法的步骤。
说明书desc
技术领域本申请涉及半导体制造工艺技术领域，具体而言，涉及一种基于轨道的版图自动接线方法、系统及装置。背景技术半导体制造过程中，模型测试结构是为了监测工艺研发质量的测试单元。在整个测试版图的开发过程中，模型测试结构与探针触点之间的接线路径为开发过程中的重要步骤，将物理设计通过布局、布线技术将逻辑综合的成果转换成物理版图文件，模型测试结构与探针触点之间的接线路径对工艺研发的整体效率以及成本均有影响。在规划测试版图接线路径的过程中，按照设计的探针触点个数，在单条测试图形的设计版图中，按照配置的触点间隔放置预先绘制的触点版图，再放置模型测试结构的版图结构。使用轨道规划方法及微调后处理后，生成单条测试图形的版图。在Fullchip的测试版图中，包含由上述接线完成的含有数万模型测试结构的数千条测试Tile图形。相关技术中规划模型测试结构与探针触点之间接线路径的方法包括两种，单网络绕线和多网络绕线。李氏迷宫算法是一种单网络绕线算法，首先将接线平面划分为大小一致的均匀网格，从起始网格开始，设置其水平与垂直方向相邻的，并且未被占用的4个网格的代价值，迭代这一步骤，代价值按照升序增加，最终搜索到目标网格，从目标网格回溯到起始网格，从而得到最短路径。顺序绕线算法是一种多网络绕线算法，首先设置待绕线网络的绕线顺序，按照顺序对待绕线网络进行绕线，当一个网络完成绕线，则更新全局绕线资源的拥塞度，这会导致后续待绕线的网络被迫使用过拥塞的绕线资源。对于上述公开的规划接线路径的方式，李氏迷宫算法对于网络接线存在效率低，存储需求大的问题，而顺序绕线算法则存在先绕线完成的网络影响后绕线的网络的缺陷，同时上述两种布线方式均较为复杂，且顺序绕线中需要设置较好的绕线顺序才能提高绕线的成功率，在实际的布线过程中效率均不高。发明内容为了解决通过李氏迷宫算法或顺序绕线算法进行布线规划在实际操作中效率低的问题，本申请提供了一种基于轨道的版图自动接线方法、系统及装置。本申请的实施例是这样实现的：第一方面，本申请实施例提供一种基于轨道的版图自动接线方法，所述版图自动接线方法包括：获取被测器件及焊盘的配置信息，根据被测器件及焊盘的配置信息将被测器件和焊盘绘制在版图上；其中，所述被测器件的配置信息包括被测器件的大小、位置、引出端口等信息；所述焊盘的配置信息包括焊盘的大小、位置、引出端口等信息；创建轨道对象，所述轨道对象预设在版图绘制的被测器件及焊盘的两侧，所述轨道对象为接线路径预设方位；根据被测器件的配置信息获取引出端口信息并添加至轨道对象，遍历轨道对象中被测器件及引出端口信息，建立用于描述被测器件连接关系的连接网络；遍历连接网络，获取实际接线路径，并根据实际接线路径绘制各个轨道对象中的接线路径。在一些实施例中，在创建轨道对象的步骤中，所述版图自动接线方法包括：遍历所有被测器件的配置信息，获取所有被测器件的接线宽度数据和接线间距数据；对比所有被测器件的接线宽度数据，获取最大接线宽度；对比所有被测器件的接线间距数据，获取最大接线间距；根据最大接线宽度和最大接线间距预设轨道对象。在一些实施例中，在遍历连接网络，获取实际接线路径的步骤中，所述版图自动接线方法包括：将所有的连接网络设置为未路由网络；遍历未路由网络，判断接线路径沿轨道的垂直方向是否重叠，根据垂直方向路径的首尾点和引出端口的位置对接线路径进行排序；沿接线路径水平方向对接线路径进行排序，获取预设接线路径网络；遍历预设接线路径网络，判断接线路径在垂直方向及水平方向的交叉情况；当接线路径存在交叉时，将垂直方向的接线路径指定为其他层，获取实际接线路径，将获取的实际接线路径存储至轨道对象。在一些实施例中，在遍历未路由网络，判断接线路径沿轨道的垂直方向是否重叠，根据垂直方向路径的首尾点和引出端口的位置对接线路径进行排序的过程中，所述版图自动接线方法包括：当接线路径沿轨道的垂直方向存在重叠时，获取接线路径的首尾位置并判断在垂直方向上首尾是否为重叠包含关系；当存在重叠且包含关系时，接线路径中的较长的线段设置在外侧，接线路径中较短的线段设置在内侧；当存在重叠且不包含的关系时，判断接线路径中引出端口的水平位置，并将位置偏左的水平接线线段放置在上层，位置偏右的水平接线线段放置在下层。在一些实施例中，在遍历未路由网络，判断接线路径沿轨道的垂直方向是否重叠，根据垂直方向路径的首尾点和引出端口的位置对接线路径进行排序的过程中，所述版图自动接线方法包括：当接线路径沿轨道的垂直方向不存在重叠时，将水平方向的接线路径线段垂直连接至对应的被测器件的引出端口处，存储接线路径沿轨道的垂直方向到引出端口的水平方向的接线路径。在一些实施例中，在根据实际接线路径绘制各个轨道对象中的接线路径的步骤中，所述版图自动接线方法包括：根据获取的实际接线路径，绘制轨道对象的垂直方向的路径；根据获取的实际接线路径，绘制轨道对象的水平方向的路径。第二方面，本申请实施例提供一种基于轨道的版图自动接线系统，所述版图自动接线系统包括：版图绘制模块，用于获取被测器件及焊盘的配置信息，根据被测器件及焊盘的配置信息将被测器件和焊盘绘制在版图上；其中，所述被测器件的配置信息包括被测器件的大小、位置、引出端口等信息；所述焊盘的配置信息包括焊盘的大小、位置、引出端口等信息；连接网络预设模块，用于创建轨道对象，所述轨道对象预设在版图绘制的被测器件及焊盘的两侧，所述轨道对象为接线路径预设方位；根据被测器件的配置信息获取引出端口信息并添加至轨道对象，遍历轨道对象中被测器件及引出端口信息，建立用于描述被测器件连接关系的连接网络；接线路径输出模块，用于遍历连接网络，获取实际接线路径，并根据实际接线路径绘制各个轨道对象中的接线路径。第三方面，本申请实施例提供一种基于轨道的版图自动接线装置，所述版图自动接线装置包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器执行上述技术方案中的版图自动接线方法的步骤。本申请的有益效果，通过基于被测器件与焊盘的配置信息在版图中绘制出轨道对象的大致方位，对被测器件与焊盘的配置信息进行遍历能够方便对被测器件与焊盘的接线路径进行排序，方便预设接线路径依次排序，从而减少同一区间内不同接线路径发生重叠的概率，同时可实现优化接线后版图的面积的目的；通过对获取得到的连接网络进行遍历，可实现对轨道对象中接线路径的交叉位置进一步进行判定，可实现提高接线路径的可靠性的目的。附图说明图1为本申请一实施例的基于轨道的版图接线方法的流程图；图2为本申请一实施例的版图接线示意图。图3为本申请另一实施例的基于轨道的版图接线方法的轨道对象预设位置示意图；图4为本申请另一实施例的基于轨道的版图接线方法的Port沿水平方向连接轨道的示意图；图5为本申请另一实施例的基于轨道的版图接线方法的接线路径沿轨道的垂直方向无重叠的连接示意图；图6为本申请另一实施例的基于轨道的版图接线方法的接线路径沿轨道的垂直方向有重叠时连接示意图；图7为本申请另一实施例的基于轨道的版图接线方法的接线路径沿垂直方向和水平方向有交叉的连接示意图；图8为本申请另一实施例的基于轨道的版图接线方法的接线路径沿水平方向根据Port的位置进行排序的示意图；图9为本申请另一实施例的基于轨道的版图接线方法的接线路径沿轨道的水平方向接线层次的连接示意图；图10为本申请另一实施例的基于轨道的版图接线方法的接线路径沿垂直方向和水平方向结合层次结构图的连接示意图。具体实施方式为便于对申请的技术方案进行，以下首先在对本申请所涉及到的一些概念进行说明。本申请中对于术语的简要说明，仅是为了方便理解接下来描述的实施方式，而不是意图限定本申请的实施方式。除非另有说明，这些术语应当按照其普通和通常的含义理解。本申请中说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”等是用于区别类似或同类的对象或实体，而不必然意味着限定特定的顺序或先后次序，除非另外注明。应该理解这样使用的用语在适当情况下可以互换。术语“包括”和“具有”以及他们的任何变形，意图在于覆盖但不排他的包含，例如，包含了一系列组件的产品或设备不必限于清楚地列出的所有组件，而是可包括没有清楚地列出的或对于这些产品或设备固有的其它组件。参见图1和图2，图1为本申请一实施例的基于轨道的版图接线方法的流程图；图2为本申请一实施例的版图接线示意图。本申请提供一种基于轨道的版图自动接线方法，其包括：获取被测器件及焊盘的配置信息，根据被测器件及焊盘的配置信息将被测器件和焊盘绘制在版图上；其中，被测器件的配置信息包括被测器件的大小、位置、引出端口等信息；焊盘的配置信息包括焊盘的大小、位置、引出端口等信息；创建轨道对象，轨道对象预设在版图绘制的被测器件及焊盘的两侧，轨道对象为接线路径预设方位；根据被测器件的配置信息获取引出端口信息并添加至轨道对象，遍历轨道对象中被测器件及引出端口信息，建立用于描述被测器件连接关系的连接网络；遍历连接网络，获取实际接线路径，并根据实际接线路径绘制各个轨道对象中的接线路径。在获取DUT和PAD的配置信息的过程中，从配置文件中读取DUT和PAD的配置并存储，配置文件采用编程常用的json，yaml格式。根据获取得到的配置信息在版图上将对应的DUT和PAD绘制出来，同时，将DUT及PAD配置信息和绘制在版图上的DUT及PAD绘制信息进行提取，并储存至数据库，方便后续在创建轨道对象以及建立连接网络的过程中读取。参见图3和图4，图3 为本申请另一实施例的基于轨道的版图接线方法的轨道对象预设位置示意图；图4 为本申请另一实施例的基于轨道的版图接线方法的Port沿水平方向连接轨道的示意图。在根据被测器件的配置信息获取引出端口信息并添加至轨道对象的过程中，具体实施为根据DUT的配置信息在版图上绘制对应的DUT的接线触点，接线触点为版图接线的起点和终点，接线触点为Port；并将所有的DUT的Port信息储存至数据库，Port信息包括Port的位置以及连接信息。添加Port的过程部分代码如下：在遍历轨道对象中被测器件及引出端口信息，建立用于描述被测器件连接关系的连接网络的过程中的代码如下：Net描述连接关系，name，Ports，上述代码可理解为将'PAD＜3＞'连接到'G_L＜4＞'，side表示Port在DUT的哪个方位，1、2表示垂直方向，3、4为水平方向，属性x表示Port的y轴坐标，hTrack为水平轨道，当前还未指定。通过基于被测器件与焊盘的配置信息在版图中绘制出轨道对象的大致方位，对被测器件与焊盘的配置信息进行遍历能够方便对被测器件与焊盘的接线路径进行排序，方便预设接线路径依次排序，从而减少同一区间内不同接线路径发生重叠的概率，同时可实现优化接线后版图的面积的目的；通过对获取得到的连接网络进行遍历，可实现对轨道对象中接线路径的交叉位置进一步进行判定，可实现提高接线路径的可靠性的目的。在一些实施例中，为了进一步提高轨道对象的连接线路的绘制速度，在创建轨道对象的步骤中，本申请提供的版图自动接线方法还包括：遍历所有被测器件的配置信息，获取所有被测器件的接线宽度数据和接线间距数据；对比所有被测器件的接线宽度数据，获取最大接线宽度；对比所有被测器件的接线间距数据，获取最大接线间距；根据最大接线宽度和最大接线间距预设轨道对象。以下为示例代码：其中，for代表使用for循环遍历，width是指预设的接线宽度，space是指预设的接线间距。由于在实体生产的过程中，同一个版图上的不同连接线路所要求的接线宽度数据以及接线间距均有差别；在本申请中通过筛选先获得最大接线宽度以及最大接线间距，再使用最大接线宽度以及最大接线间距绘制版图对象中的所有连接路线，既能够简化获取每个连接路线在绘制前多次读取配置信息所导致的流程繁琐，同时也能够减少使用最大接线宽度以及最大接线间距增加版图的面积的概率，可实现提高绘制轨道对象中的连接路线的速度的目的。参见图5、图6和图7，图5 为本申请另一实施例的基于轨道的版图接线方法的接线路径沿轨道的垂直方向无重叠的连接示意图；图6为本申请另一实施例的基于轨道的版图接线方法的接线路径沿轨道的垂直方向有重叠时连接示意图；图7为本申请另一实施例的基于轨道的版图接线方法的接线路径沿垂直方向和水平方向有交叉的连接示意图。在一些实施例中，在遍历连接网络，获取实际接线路径的步骤中，所述版图自动接线方法包括：将所有的连接网络设置为未路由网络；遍历未路由网络，判断接线路径沿轨道的垂直方向是否重叠，根据垂直方向路径的首尾点和引出端口的位置对接线路径进行排序；沿接线路径水平方向对接线路径进行排序，获取预设接线路径网络；遍历预设接线路径网络，判断接线路径在垂直方向及水平方向的交叉情况；当接线路径存在交叉时，将垂直方向的接线路径指定为其他层，获取实际接线路径，将获取的实际接线路径存储至轨道对象。参见图8、图9和图10，图8为本申请另一实施例的基于轨道的版图接线方法的接线路径沿水平方向根据Port的位置进行排序的示意图；图9为本申请另一实施例的基于轨道的版图接线方法的接线路径沿轨道的水平方向接线层次的连接示意图；图10 为本申请另一实施例的基于轨道的版图接线方法的接线路径沿垂直方向和水平方向结合层次结构图的连接示意图。如图8所示，根据Port的位置确定水平接线路径上下关系，Port-1的位置相较于Port-2的位置更靠左，则Port-1在上方。图10中track表示轨道。在一些实施例中，在遍历未路由网络，判断接线路径沿轨道的垂直方向是否重叠，根据垂直方向路径的首尾点和引出端口的位置对接线路径进行排序的过程中，本申请提供的版图自动接线方法包括：当接线路径沿轨道的垂直方向存在重叠时，获取接线路径的首尾位置并判断在垂直方向上首尾是否为重叠包含关系；当存在重叠且包含关系时，接线路径中的较长的线段设置在外侧，接线路径中较短的线段设置在内侧；当存在重叠且不包含的关系时，判断接线路径中引出端口的水平位置，并将位置偏左的水平接线线段放置在上层，位置偏右的水平接线线段放置在下层。由于接线路径均遵循垂直约束，垂直约束为接线路径相邻的两条线段固定为垂直关系。通过遍历未路由网络，如果两个网络路径在垂直方向上重叠，先判断其垂直方向首尾位置，如出现首尾包含情况，将长边放在外面，短边放里面。如重叠且不包含，就判断网络中Port的位置，如果该网络的Port相对更偏左，就将该网络水平接线路径放置在上层，否则放置在下层。从而实现减少接线路径发生交叉的概率，方便版图中接线路径合理分配。在一些实施例中，在遍历未路由网络，判断接线路径沿轨道的垂直方向是否重叠，根据垂直方向路径的首尾点和引出端口的位置对接线路径进行排序的过程中，本申请提供的版图自动接线方法包括：当接线路径沿轨道的垂直方向不存在重叠时，将水平方向的接线路径线段垂直连接至对应的被测器件的引出端口处，存储所述接线路径沿轨道的垂直方向到所述引出端口的水平方向的接线路径。在垂直轨道无重叠时，只需要将轨道上路径垂直连接到该器件Port，将Net中的“hTrack属性设为1”，就可完成水平方向路径设置；当垂直轨道有重叠时，根据垂直方向路径的首尾点和引出端口的位置确定区间内连接路线在水平方向的上下顺序，确定Net中“hTrack”属性值，如当前网络水平路径在最上方，则将“hTrack”设为1，第二条则将“hTrack”设为2。通过先计算障碍，确定水平方向和垂直方向接线路径的交叉情况。根据垂直方向路径的首尾点和引出端口的位置所确定的接线路径，会出现垂直方向路径垂直不包含情况，再连接水平方向路径，就会出现交叉情况，最后将交叉情况下接线路径的垂直线段指定为其他图层，可实现避免同一层之中的接线路径交叉冲突的目的。在一些实施例中，在根据实际接线路径绘制各个轨道对象中的接线路径的步骤中，所述版图自动接线方法包括：根据获取的实际接线路径，绘制轨道对象的垂直方向的路径；根据获取的实际接线路径，绘制轨道对象的水平方向的路径。根据获取到的实际接线路径对轨道对象的接线路径进行绘制，从而减少在垂直路径与水平路径交叉绘制过程中需要消耗的时间，同时减少绘制接线路径的过程中出现绘制图层出现错误的概率。本部分实施例的有益效果在于，通过基于被测器件与焊盘的配置信息在版图中绘制出轨道对象的大致方位，对被测器件与焊盘的配置信息进行遍历能够方便对被测器件与焊盘的接线路径进行排序，方便预设接线路径依次排序，从而减少同一区间内不同接线路径发生重叠的概率，同时可实现优化接线后版图的面积的目的；通过对获取得到的连接网络进行遍历，可实现对轨道对象中接线路径的交叉位置进一步进行判定，可实现提高接线路径的可靠性的目的。与前述版图自动接线方法的实施例相对应，本申请还提供了一种基于轨道的版图自动接线系统，本申请提供的版图自动接线系统包括：版图绘制模块，用于获取被测器件及焊盘的配置信息，根据被测器件及焊盘的配置信息将被测器件和焊盘绘制在版图上；其中，所述被测器件的配置信息包括被测器件的大小、位置、引出端口等信息；所述焊盘的配置信息包括焊盘的大小、位置、引出端口等信息；连接网络预设模块，用于创建轨道对象，所述轨道对象预设在版图绘制的被测器件及焊盘的两侧，所述轨道对象为接线路径预设方位；根据被测器件的配置信息获取引出端口信息并添加至轨道对象，遍历轨道对象中被测器件及引出端口信息，建立用于描述被测器件连接关系的连接网络；接线路径输出模块，用于遍历连接网络，获取实际接线路径，并根据实际接线路径绘制各个轨道对象中的接线路径。与前述版图自动接线方法的实施例相对应，本申请还提供了一种基于轨道的版图自动接线装置，本申请提供的版图自动接线装置包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器前述技术方案中所述的版图自动接线方法的步骤。
