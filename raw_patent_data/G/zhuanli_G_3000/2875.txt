标题title
一种物理模型约束深度神经网络的锂电池评估系统及方法
摘要abst
本发明涉及一种物理模型约束深度神经网络的锂电池评估系统及方法，包括深度神经网络和物理模型约束模块；在物理模型约束模块的约束下训练深度神经网络；物理模型约束模块中，物理模型采用等效电路模型，将深度神经网络输出的预测值带入到等效电路模型中并通过损失函数不断迭代训练直至最后全局最优，最终则重构出锂电池充电曲线；迭代训练中的训练数据包括锂电池充电曲线的电压、电池容量、电池荷电状态、恒定充电电流、充电时长、开路电压曲线的电压和开路电压曲线的恒定电流。本发明在样本少的情况下依然能够获得很高的预测精度，实用性大大提高，同时利用单一锂电池日常运行的充电曲线就能够实现对多种锂电池SOH评估，泛化性也大大增强。
权利要求书clms
1.一种物理模型约束深度神经网络的锂电池评估系统，其特征在于，包括：深度神经网络和物理模型约束模块；在所述物理模型约束模块的约束下训练所述深度神经网络；所述物理模型约束模块中的物理模型采用等效电路模型，将所述深度神经网络输出的预测值带入到所述等效电路模型中并通过损失函数不断迭代训练直至最后全局最优，最终重构出锂电池充电曲线，完成锂电池的评估；所述迭代训练中的训练数据包括：锂电池充电曲线的电压、电池容量、电池荷电状态、恒定充电电流、充电时长、开路电压曲线的电压和开路电压曲线的恒定电流。2.根据权利要求1所述的物理模型约束深度神经网络的锂电池评估系统，其特征在于：所述等效电路模型采用微分方程，如下所示：，式中，表示等效电路模型对电池容量q的函数表达式，/＞表示锂电池充电曲线的电压，t表示充电时长，/＞表示恒定充电电流，q表示电池容量，/＞表示开路电压曲线的电压，SOC表示电池荷电状态，/＞表示初始电池容量，/＞表示开路电压曲线的恒定电流。3.根据权利要求1所述的物理模型约束深度神经网络的锂电池评估系统，其特征在于：所述损失函数的方程如下所示：，式中，N表示样本数量，表示第i个样本的电池容量，/＞表示等效电路模型微分方程转换为函数的对/＞的函数表达式，/＞；表示等效电路模型所占的权重，范围在0~1之间，/＞表示深度神经网络中对电池容量的预测值，/＞为等效电路模型对/＞的预测。4.根据权利要求1所述的物理模型约束深度神经网络的锂电池评估系统，其特征在于：所述深度神经网络由多个卷积层、一个全连接层和一个dropout层依次构成；所述每个卷积层中都使用多个滤波器，填充方式都选择padding填充，激活函数都为ReLU；在每个卷积层中都包含一个池化层，最后一个卷积层中池化层选择全局最大池化层，其余卷积层中池化层选择最大池化层。5.根据权利要求1所述的物理模型约束深度神经网络的锂电池评估系统，其特征在于：所述训练数据的提取方法为等电压取点。6.根据权利要求5所述的物理模型约束深度神经网络的锂电池评估系统，其特征在于：所述等电压取点以每隔0.01V取点。7.根据权利要求1所述的物理模型约束深度神经网络的锂电池评估系统，其特征在于：所述锂电池评估系统能够利用单一锂电池的训练数据重构不同锂电池的充电曲线。8.一种物理模型约束深度神经网络的锂电池评估方法，其特征在于，实现为：在物理模型约束下训练深度神经网络；所述物理模型采用等效电路模型，将深度神经网络输出的预测值带入到等效电路模型中并通过损失函数不断迭代训练直至最后全局最优，最终则重构出锂电池充电曲线；所述迭代训练中的训练数据包括锂电池充电曲线的电压、电池容量、电池荷电状态、恒定充电电流、充电时长、开路电压曲线的电压和开路电压曲线的恒定电流。
说明书desc
技术领域本发明涉及一种物理模型约束深度神经网络的锂电池评估系统及方法，属于锂电池健康状态评估技术领域。背景技术锂电池电化学成分的降解会导致容量和功率的损失，锂电池的性能会随着时间和使用频率的增加而恶化。为了保证电池在其寿命期内的可靠性，锂电池健康状态评估技术应运而生，它能够追踪电池在运行中的实际性能，反映电池当前相对于其寿命开始时的储存和供应能量/功率。在现有技术中，容量被广泛用于锂电池SOH评估。对容量评估的研究方法分为以下三种：第一、直接表征容量间接进行SOH评估；第二、间接表征容量间接进行SOH评估；第三、从充放电曲线中提取特征直接进行SOH评估。法1是容量被假设已知的，但在实际应用中并非如此，因此第一种方法没有实用性，第二种是一种间接利用容量从而进行SOH估计的方法，通过从充放电曲线中提取特征来导出容量，但这种间接方法不足够方便和精确；第三种将电池充放电曲线中提取特征从而提供电池老化信息，直接用来进行SOH分析。通常充电曲线会被选择进行分析，因为与不可预测的动态放电相比，充电过程是可控的，可以提供一致的输入，然而，完整的充电曲线本身就不易获得，一条完整的充电曲线是从电压上限到电压下限的，但在实际应用中，如电动汽车、储能电站等，并没有完整的充电曲线，电池在各种状态或电压下都有可能开始充电，也有可能在充满电之前就结束充电。因此，从实际应用中只能获得充电曲线的一部分。现有的深度神经网络技术虽然能够预测充电曲线，但过于依赖大量样本数据，一旦样本不足就会产生过拟合、模型失效等问题，从而导致预测精度较低，此外该技术泛化性不足，利用单一锂电池的训练数据无法预测其他电池的充电曲线。发明内容本发明技术解决问题：克服现有技术的不足，提供一种物理模型约束深度神经网络的锂电池评估系统及方法，在样本少的情况下依然能够获得很高的预测精度，实用性大大提高，同时利用单一锂电池日常运行的充电曲线就能够实现对多种锂电池SOH评估，泛化性也大大增强。本发明技术解决方案：第一方面，本发明提供一种物理模型约束深度神经网络的锂电池评估系统，一种物理模型约束深度神经网络的锂电池评估系统，包括：深度神经网络和物理模型约束模块；在所述物理模型约束模块的约束下训练所述深度神经网络；所述物理模型约束模块中的物理模型采用等效电路模型，将所述深度神经网络输出的预测值带入到所述等效电路模型中并通过损失函数不断迭代训练直至最后全局最优，最终重构出锂电池充电曲线，完成锂电池的评估；所述迭代训练中的训练数据包括：锂电池充电曲线的电压、电池容量、电池荷电状态、恒定充电电流、充电时长、开路电压曲线的电压和开路电压曲线的恒定电流。进一步，所述等效电路模型采用微分方程，如下所示：，式中，表示等效电路模型对电池容量q的函数表达式，/＞表示锂电池充电曲线的电压，t表示充电时长，/＞表示恒定充电电流，q表示电池容量，/＞表示开路电压曲线的电压，SOC表示电池荷电状态，/＞表示初始电池容量，/＞表示开路电压曲线的恒定电流。进一步，所述损失函数的方程如下所示：，式中，N表示样本数量，表示第i个样本的电池容量，/＞表示等效电路模型微分方程转换为函数的对/＞的函数表达式，/＞；表示等效电路模型所占的权重，范围在0~1之间，/＞表示深度神经网络中对电池容量/＞的预测值，/＞为等效电路模型对/＞的预测。进一步，所述深度神经网络由多个卷积层、一个全连接层和一个dropout层依次构成；所述每个卷积层中都使用多个滤波器，填充方式都选择padding填充，激活函数都为ReLU；在每个卷积层中都包含一个池化层，最后一个卷积层中池化层选择全局最大池化层，其余卷积层中池化层选择最大池化层。进一步，所述训练数据的提取方法为等电压取点，所述等电压取点以每隔0.01V取点。进一步，所述锂电池评估系统能够利用单一锂电池的训练数据重构不同锂电池的充电曲线。第二方面，本发明提供一种物理模型约束深度神经网络的锂电池评估方法，实现为：在物理模型约束下训练深度神经网络；所述物理模型采用等效电路模型，将深度神经网络输出的预测值带入到等效电路模型中并通过损失函数不断迭代训练直至最后全局最优，最终则重构出锂电池充电曲线；所述迭代训练中的训练数据包括锂电池充电曲线的电压、电池容量、电池荷电状态、恒定充电电流、充电时长、开路电压曲线的电压和开路电压曲线的恒定电流。本发明与现有技术相比的优点在于：现有技术训练时往往需要大量的训练数据，而在训练数据不足的情况下，网络中的超参数可能不足以表征所提取的特征，这就会导致过拟合问题，现有技术的优化程度和训练速度会显著下降，锂电池充电曲线的预测精度也会大大降低。针对现有技术复现充电曲线的方法太过依赖数据量的问题，本发明利用等效电路模型的物理定律约束深度神经网络，使得网络在训练之初就具有优化方向，可以迅速往优化方向移动，达到快速收敛的效果，提高充电曲线的预测精度。与此同时，现有技术泛化性不足，无法用单一锂电池的训练数据重构其他电池的充电曲线，而本发明在等效电路模型的约束下，利用单个锂电池训练的网络模型可以预测不同电池的充电曲线，大大提高了泛化能力。本发明等效电路模型加入深度神经网络时采用了微分机制，实现了等效电路模型嵌入深度神经网络的优点，现有技术模型计算复杂，对于计算机的要求较高，而相比于现有技术，不再需要深入分析等效电路模型和锂电池充电机理以及锂电池内部的变化情况，也不用花费成本去捕捉锂电池的动态行为，而只需要利用少量的部分充电曲线就能够评估锂电池的健康状态，保证锂电池在其寿命期内的可靠性。现有技术完全依赖输入样本，一旦输入样本本身有问题或样本不足，损失函数迭代就会出现各种问题，如过拟合、欠拟合等情况，从而无法继续训练网络，即便能够训练，也只能保证精度较低。本发明神经网络中的损失函数实现了等效电路模型融入神经网络的优点，利用该损失函数，等效电路模型能够与深度神经网络一起不断迭代训练，随着损失函数不断向最小值迭代，使得等效电路模型与深度神经网络同时达到全局最优，与此同时，还加入了等效电路模型的权重，深度神经网络受到等效电路模型约束的同时还能够有一定的自由度，从而使深度神经网络获得电池内部信息的同时还能够根据具体的输入数据进行局部最优化调整，灵活性更强及预测更精确。现有技术利用深度神经网络进行分类获得标签或预测获得具体值，而本发明利用全局最大池化层实现利用神经网络进行低维度数据预测高维度数据，本发明实现了部分充电曲线重构完整充电曲线的优点。而现有技术将充电曲线全部带入神经网络中，数据冗余，计算成本高。针对一条充电曲线是从低电压极限充电至高电压极限的，而神经网络的输入输出都为离散化的点，因此为了将充电曲线离散化为数据点同时保证充电曲线全分布取点，本发明采用了技术特征等电压取点，实现了从充电曲线中从低电压极限至高电压极限均匀取点的优点，在降低样本维度的同时提高样本特征的聚集程度，降低了计算成本也能更好地训练网络。附图说明图1为本发明系统的组成框图；图2为本发明使用的等效电路模型图；图3为验证本发明优点而设定的锂电池实验描述图；图4为采用图3中前3种实验验证本发明泛化性相对现有技术增强的充电曲线预测结果箱型图；图5为锂电池充电循环中第一次和最后一次循环的最佳曲线估计结果图；图6为本发明与现有技术的损失函数收敛曲线图， 为现有技术损失函数曲线， 为本发明损失函数曲线；图7为本发明和现有技术在不同样本大小输入下进行充电曲线预测的结果图。具体实施方式下面结合附图及实施例对本发明进行详细说明。如图1所示，本发明包含深度神经网络和等效电路约束模块两个部分，等效电路模型约束深度神经网络方法采用Phys-DNN来表示。其中，DNN包含三层卷积层，一层全连接层和一层dropout层。每层卷积层中都包含池化层。卷积层使用卷积核进行特征提取，从上一层提取的特征被映射到下一层。这样，卷积层保持了权值共享的优势，减少了非线性计算过程中的计算时间。根据输入数据的结构，卷积运算可分为一维卷积和二维卷积，其中一维卷积可以处理时域和频域的信号，二维卷积主要用于图像处理。锂电池的分析通常选择电信号作为输入，这适用于一维卷积的情况。在训练神经网络的过程中，卷积核沿着时间轴移动，对每个单元进行顺序处理。除此以外，在卷积层中利用激活函数获得保留有用信息的特征图，其中激活函数采用被广泛使用的ReLU。一般而言，在卷积层中都包含池化层来降低特征维数，进一步压缩数据，减少计算时的内存占用。在不同的池化技术中，平均池化是指去除所选区域的平均值，而最大池化是指选择该区域的最大值。根据输入类型的不同，池化层也可分为反向过程最大池化和自适应池化。由于池化层的目的是实现降维，所以前一层的权重不会被更新。因此根据本发明所用的数据以及网络的特点，除最后一个卷积层外，其余卷积层中的池化层都选取最大池化层，而在最后一个卷积层中，由于其独特的结构即池形状等于输入形状，采用全局最大池化层，将池大小设置为输入大小，使整个输入最大化，并将其计算为输出值，从而减少参数量。此外，全连接层被应用来进行数据的分类或回归，该层由多个神经元组成，并且所有输入都有相应的输出，其中输入数据为一维特征向量权值之和，该层的输出y与输入x的关系如下：，其中，l为网络层总数，y为全连接层的输出，为权值，x表示全连接层的输入，b为偏差。因此，DNN的总体结构包含三层一维卷积层、全连接层和dropout层，在每个一维卷积层中使用多个滤波器，每个滤波器在给定窗口中输出输入数据与相应权值的点积以用于信息压缩。池化层紧随在每个卷积层之后，以降低维数，去除冗余信息，压缩特征，从而降低网络复杂度。三层一维卷积层中的滤波器个数分别为16、8和8。在卷积层中，卷积的窗口大小设置为3，步长设置为1，填充方式选择padding填充，激活函数则为ReLU。卷积层之后使用115个神经元的全连接层，神经元输出其输入与权值的点积。然后将结果输入到ReLU激活函数中，之后紧跟着的是一个dropout层，dropout系数选择20%，将20%的输入单元置为零，以防止在训练过程中出现过拟合的现象。将其输出带入到物理模型进行约束，并利用损失最小化反复迭代直至达到全局最优，损失曲线收敛，而后预测出完整的充电曲线。根据调研，DNN已被广泛应用于分类和预测问题，但几乎还没有用于重构曲线，此外如果训练的数据不足，就会出现过拟合，因为现有的DNN训练纯粹基于训练数据，在训练过程开始时不会存在优化方向。在这种情况下，损失函数曲线会随着训练数据的分布变化不断迭代并训练网络直至损失曲线逐渐收敛。因此只有训练的数据量足够，DNN才能最终向全局最优的方向移动。为了减少DNN对样本的依赖，在DNN中加入锂电池的物理信息，从而对DNN进行导向式训练，即训练的优化方向受到物理模型的约束，利用物理模型相应的物理定律以及输入样本联合训练以及优化网络，这样可以大大减少收敛时间，并缓解DNN样本不足导致的过拟合问题。而其中物理模型采用等效电路约束模块，将等效电路方程进行微分，而后将DNN的输出带入至该模块中进行值约束，根据损失函数最小化不断迭代，直至损失函数收敛，最终重构出完整的充电曲线。等效电路模块的具体约束方式在下面图2中详细说明。如图2所示，为本发明选择的等效电路模型图来表示锂电池的物理信息，并将其加入到DNN中，下面也列出了等效电路模型的方程：，，其中，为锂电池充电曲线的电压，/＞为开路电压曲线的电压，/＞为穿过电容的电压，/＞为电路中的电容，/＞为与电容并联的电阻值，/＞为电源内阻，/＞为恒定充电电流。通常，当使用带有物理信息的神经网络时，任何给定的物理定律都必须用非线性偏微分方程来描述。方程在网络中的作用近似是一个有效的泛函数逼近器，它将任何潜在的物理定律编码为先验信息带入到网络中，约束网络训练的方向，也就是说在等效电路模型的约束下训练神经网络。因此，在本发明需要将等效电路模型转化为偏微分方程：，由于本发明的训练数据是在恒流条件下获得的，因此上式的第三部分值为零，得到如下所示的公式：，除此以外，由于开路电压曲线是可获得的，因而对上式的第一部分进行了更新，加入了锂电池的荷电状态信息，其中需要指出的是，SOC对时间的偏微分是常数。，将上面的公式结合在一起，得到了下列公式：，其中，表示开路电压曲线的恒定电流，/＞为初始电池容量。忽略上式中第二和第三部分，将上式转化为：，在DNN中，用损失函数来表示预测与实际测量之间的偏差，采用均方误差函数来体现，如下式所示。除此以外，在本发明中，预测变量为q，而损失函数不断训练直至接近零。，式中，N表示样本数量，表示第i个样本的电池容量，/＞表示DNN中对电池容量/＞的预测值。为了将等效电路模型整合到DNN的损失曲线中，将等效电路模型的表达式更新如下，与DNN的损失函数同步，表示等效电路模型微分方程转换为函数的关于电池容量q的函数表达式：/＞；由于充电电流是恒定的，且等效电路模型中需要使用变量q，故将上式的第一部分更新如下式所示：。此外，由于在训练之初上式第一部分的分母预测值可能为零，而此时的预测误差将为无穷大，这会导致训练不稳定和振荡剧烈。因此，对上式进一步进行改进，将预测值放在分子上，如下所示：。由于忽略了等效电路模型表达式的后两部分，它们可能会带来轻微的预测偏差。因此为了进一步提高性能，将本发明系统框架中等效电路模型所占的权重加入到损失函数中，更新后的Phys-DNN损失函数如下式所示。在式中，等效电路模型引起的误差乘以λ与原始的深度神经网络预测的误差叠加为总的损失和，λ取值为0~1，利用交叉验证法得知当λ为0.3时，模型的预测效果更好。，式中，N表示样本数量，表示第i个样本的电池容量，/＞表示等效电路模型微分方程转换为函数的对/＞的函数表达式，/＞；λ表示等效电路模型所占的权重，范围在0~1之间，为深度神经网络中对/＞的预测值，/＞为等效电路模型中对/＞的预测。如图3所示，在本发明中，选择牛津电池老化数据集作为验证本发明的数据，包含8个锂电池，输入不完整的充电曲线来预测完整的充电曲线，在本发明中由于等效电路模型的加入，使用的实验数据也是与现有技术不同的，训练数据包括锂电池充电曲线的电压、电池容量、电池荷电状态、恒定充电电流、充电时长、开路电压曲线的电压、开路电压曲线的恒定电流。选择8个锂电池中的一部分锂电池用于Phys-DNN和DNN的训练集，其余电池则用于测试集。一共进行4组实验来验证Phys-DNN相对于现有DNN的优越性，具体实验设置如图3所示。从牛津电池老化数据集中选取锂电池低电压极限3.01V，高电压极限为4.15V，并等电压取点以每隔0.01V取点最终得到了115个点，随机选取其中连续的部分点作为一个输入样本。第一组实验是在实验数据充足的条件下进行的，使用前4个电池在不同老化状态下的充电曲线数据及其每个老化状态下的开路电压曲线来训练Phys-DNN和DNN，训练样本数量为30000个，以比较在数据充足且完备的情况下的预测情况。这组实验的目的主要是比较Phys-DNN和现有DNN的预测效果和差异。在第二组实验中，仍然使用相同的训练数据，但每个电池的不同老化状态都共享同一条老化状态下的开路电压曲线来进行实验，并且该开路电压曲线是在一个电池的第一个循环中测量的，训练样本数量仍然为30000个。第二组实验的目的则是主要比较Phys-DNN在单条和多条开路电压曲线作为输入情况下的差异性，而在实际应用中，大多数情况下只能获得一个电池的充电数据及其相应的开路电压曲线，因此在第三组实验中使用一个电池及其第一个循环的开路电压曲线来预测其他电池的充电曲线以模拟现实中的工况，而后比较两种网络的预测情况，从而结合前两个实验比较模型的泛化效果，训练样本数量也为30000个。第四组实验的目的是寻找样本量的极限，以此来突出Phys-DNN相对现有DNN过于依赖大数据量的优越性，因为上述三组实验没有考虑样本量的问题，即实验的样本量都是足够的，采用的样本量都为30000个，但为了验证Phys-DNN在数据样本量方面的优越性，仍然使用单个电池的充电曲线数据及其第一个循环周期的开路电压曲线并分别使用500、1000和3000个样本作为训练集来训练网络并进行比较。但是，比较模型训练的结果需要评价标准，而评判预测好坏的评价标准往往采用均方根误差，均方根误差为预测值与真实值之间的偏差的平方与电压范围3.01V至4.15V内采样点数量之比的平方根，具体公式如下所示：，其中，为电池容量/＞的预测结果，M为采样点数量，为115。图4表示采用图3中前3种实验验证本发明泛化性相对现有技术增强的充电曲线预测结果箱型图。图4中的A表示DNN的预测结果，B表示Phys-DNN的预测结果。三种实验分别重复进行了50次，预测结果以图4所示的箱型图显示以比较现有DNN和Phys-DNN的预测性能，箱型图外的黑点代表50次实验得到的离群值，属于异常测试误差。图4中的第一组数据为选择4个电池进行训练，而选择其余电池进行测试验证的结果。将锂电池的充电曲线及其相应的开路电压曲线数据分别作为Phys-DNN和现有DNN的输入。从结果中可以看出，在足够的训练数据的情况下，Phys-DNN和现有DNN都可以进行可靠的估计。第二组数据仍然使用4个锂电池的充电曲线作为训练集，但只应用一个锂电池的第一个充电循环的开路电压曲线，将其输入到网络中来估算完整的充电曲线，即4个电池共用同一个老化状态下的开路电压曲线来训练网络。由于现有DNN的训练不会使用到开路电压曲线，因此从DNN中预测出的曲线效果与第一组实验结果相同。从结果中可以看出，即使只使用一条开路电压曲线，Phys-DNN也能很好地预测充电曲线，而在实际应用中，获得开路电压曲线是需要成本和时间的，因此本发明能够有利于实际的应用。为了更加符合实际生活中难以获得完整的多个锂电池充电曲线数据的情况，第三组数据为选择单个锂电池充电曲线数据作为输入进行训练并利用其余7个锂电池进行测试和验证的结果，同时将所用的单个锂电池的第一个充电循环的开路电压曲线输入到Phys-DNN和DNN中，从结果看现有DNN无法为不同的锂电池充电曲线提供高精度的预测，缺乏泛化能力。而Phys-DNN通过使用等效电路模型约束网络，可以为网络训练的方向提供电池的物理信息，使得训练好的网络只需要利用单个锂电池的充电曲线数据以及一条开路电压曲线就能够精确地重构不同锂电池的充电曲线，大大加强了泛化能力。图5为图4中的第三组数据的充电曲线预测结果示意图，该图为锂电池充电循环中第一次和最后一次循环的最佳曲线估计结果图，图5中的A表示DNN的预测曲线，B表示Phys-DNN的预测曲线，C表示真实充电曲线，从图中可以得知从DNN中预测的充电曲线与实际的充电曲线存在着明显偏差，但本发明的Phys -DNN仍然可以提供可靠的估计，而在3.5V~3.7V的电压范围内，Phys-DNN能够更准确地预测充电曲线，而这部分在很多锂电池的老化分析中都是比较重要的。因此，与现有DNN相比，本发明具有更强大的泛化性，在很多情况下也能拥有很好的预测精度。图6描述了本发明与现有技术的损失函数收敛曲线图， 为现有技术损失函数曲线， 为本发明损失函数曲线。图6中的A表示DNN的训练集的损失函数曲线，B表示DNN测试集损失函数曲线，图6中的中的A、C分别为Phys-DNN的训练集损失函数曲线，图6中的中的B、D则为测试集损失函数曲线，A、B表示不包含等效电路模型约束模块损失，C、D表示包含等效电路模型约束模块损失，在图6中的中的E则为等效电路模型约束模块的损失值。从图6可以看出，Phys-DNN的损失值接近2只需要250个迭代次数，而现有DNN达到相同的损失值大约需要1000个迭代次数。因此，与现有DNN相比，物理定律编码至网络中约束训练方向的Phys-DNN具有更快的收敛速度。而且在训练过程结束时，现有DNN的损失值约为2，是Phys-DNN损失值的10倍左右，而损失函数本身采用的就是均方误差函数，因此这也从侧面说明Phys-DNN的预测精度更高。如图7所示，第4个实验中使用单个锂电池和单条开路电压曲线作为输入来测试不同样本量条件下DNN和Phys-DNN的预测效果，训练样本的数量分别选择为500、1000和3000个。如图7所示，A为DNN的预测结果，B为Phys-DNN的预测结果，从图中可以得知样本量的减少会显著影响DNN的预测性能，而Phys-DNN的预测效果受样本量的影响较小。在500个样本下，Phys-DNN的预测效果仍然很好，甚至与3000个样本下训练的DNN预测效果几乎相同，而当样本量低于3000个时，现有DNN的预测精度就会随着样本下降而急剧降低。因此，本发明的方法即Phys-DNN能够降低神经网络对样本数据的依赖性，这对实际应用中预测完整的充电曲线是非常有利的，因为在实际应用中可能无法获得大量的样本，因而缓解小样本下高精度复现充电曲线的问题，具备实际应用价值。提供以上实施例仅仅是为了描述本发明的目的，而并非要限制本发明的范围。本发明的范围由所附权利要求限定。不脱离本发明的精神和原理而做出的各种等同替换和修改，均应涵盖在本发明的范围之内。
