标题title
一种用于废弃矿山生态修复的动态识别方法
摘要abst
本发明涉及图像数据处理技术领域，提出了一种用于废弃矿山生态修复的动态识别方法，包括：采集废弃矿山生态修复前与生态修复后的图像，获取生态修复后的图像中每个像素点的色相值；获取初始K值，根据初始K值对修复后图像中的色相值进行K‑means聚类，获取每个聚簇的簇内不相似度及第一参考程度；获取每个聚簇的簇间不相似度，根据聚簇的紧密性及不同聚簇的色相差异获取每个聚簇的第二参考程度，获取绿色聚簇及其改进轮廓系数；获取不同K值下绿色聚簇的改进轮廓系数，得到最优K值，获取生态修复区域，根据生态修复区域与修复前图像，完成对废弃矿山生态修复的动态识别。本发明旨在通过聚类优化准确分割生态修复区域并完成识别。
权利要求书clms
1.一种用于废弃矿山生态修复的动态识别方法，其特征在于，该方法包括以下步骤：采集废弃矿山生态修复前与生态修复后的图像，获取生态修复后的图像中每个像素点的色相值；设置K值选取范围，获取初始K值，根据初始K值及色相值对生态修复后的图像进行聚类得到若干聚簇，获取每个聚簇的质心，将每个聚簇中各像素点的色相值与聚簇中质心的色相值的差值绝对值的均值，作为每个聚簇的簇内不相似度，将每个聚簇所有像素点的色相值中最大的色相值与最小的色相值的差值，作为每个聚簇的差异程度，根据每个聚簇的簇内不相似度及差异程度，获取每个聚簇的第一参考程度；根据不同聚簇中的色相值获取每个聚簇与其他聚簇的簇间差异度，将每个聚簇的若干簇间差异度的最小值作为每个聚簇的簇间不相似度，根据簇内不相似度、差异程度以及簇间差异度，获取每个聚簇的第二参考程度，根据第一参考程度及第二参考程度，分别对簇内不相似度和簇间不相似度进行限制，构建改进轮廓系数，根据绿色的色相值以及每个聚簇质心的色相值获取绿色聚簇，得到绿色聚簇的改进轮廓系数；获取不同K值下绿色轮廓的改进轮廓系数，将所有改进轮廓系数的最大值对应的K值作为最优K值，最优K值下的绿色聚簇中的像素点组成的区域记为生态修复区域，获取生态修复前的图像中的矿山区域，将生态修复区域的像素点数量，与矿山区域中像素点数量的比值，作为生态修复后图像的生态修复程度，完成对废弃矿山生态修复的动态识别。2.根据权利要求1所述的一种用于废弃矿山生态修复的动态识别方法，其特征在于，所述根据初始K值及色相值对生态修复后的图像进行聚类得到若干聚簇，包括的具体方法为：将初始K值作为K-means聚类的K值，像素点之间的色相值的差值绝对值作为聚类距离，对生态修复后的图像进行K-means聚类，得到若干聚簇，聚簇的数量与初始K值相等。3.根据权利要求1所述的一种用于废弃矿山生态修复的动态识别方法，其特征在于，所述获取每个聚簇的第一参考程度，包括的具体方法为：，其中，表示第/＞个聚簇的第一参考程度，/＞表示第/＞个聚簇的簇内不相似度，/＞表示第/＞个聚簇的差异程度，/＞表示以自然常数为底的指数函数。4.根据权利要求1所述的一种用于废弃矿山生态修复的动态识别方法，其特征在于，所述根据不同聚簇中的色相值获取每个聚簇与其他聚簇的簇间差异度，包括的具体方法为：，其中，表示第/＞个聚簇与第/＞个聚簇的簇间差异度，/＞表示第/＞个聚簇中像素点的数量，/＞表示第/＞个聚簇中第/＞个像素点的色相值，/＞表示第/＞个聚簇质心的色相值，/＞表示绝对值。5.根据权利要求1所述的一种用于废弃矿山生态修复的动态识别方法，其特征在于，所述获取每个聚簇的第二参考程度，包括的具体方法为：，/＞其中，表示第/＞个聚簇的第二参考程度，/＞表示第/＞个聚簇的簇内不相似度，/＞表示第/＞个聚簇的差异程度，/＞表示聚簇数量，/＞表示第/＞个聚簇与第/＞个聚簇的簇间差异度，/＞表示以自然常数为底的指数函数。6.根据权利要求1所述的一种用于废弃矿山生态修复的动态识别方法，其特征在于，所述构建改进轮廓系数，包括的具体方法为：，其中，表示第/＞个聚簇的改进轮廓系数，/＞表示第/＞个聚簇的第二参考程度，/＞表示第/＞个聚簇的簇间不相似度，/＞表示第/＞个聚簇的第一参考程度，/＞表示第/＞个聚簇的簇内不相似度，/＞表示求最大值。/＞
说明书desc
技术领域本发明涉及图像数据处理技术领域，具体涉及一种用于废弃矿山生态修复的动态识别方法。背景技术随着生态文明建设的不断深入，国家提高对矿山生态修复的重视程度，废弃矿山生态修复任重而道远，选取废弃矿山生态为主要研究对象，结合现实背景比较不同时期矿山的图像得到生态修复程度，对废弃矿山生态修复的现状做出指标评价，完成对于废弃矿山生态修复的动态识别。在进行生态修复的动态识别过程中，通常采用聚类算法获取图像中的植被区域，根据植被区域对于矿山区域的覆盖比例来评估生态修复程度，进而通过不同时期的生态修复程度实现生态修复的动态识别；然而在现有聚类算法分割植被区域的过程中，由于三维地势带来的阴影、光照等因素会导致植被区域包含的灰度范围无法划分到同一聚簇中，进而导致生态修复区域的分割不准确，从而影响生态修复程度的评估，无法准确实现废弃矿山生态修复的动态识别。发明内容本发明提供一种用于废弃矿山生态修复的动态识别方法，以解决现有的通过聚类分割生态修复区域不准确导致识别结果错误的问题，所采用的技术方案具体如下：本发明一个实施例提供了一种用于废弃矿山生态修复的动态识别方法，该方法包括以下步骤：采集废弃矿山生态修复前与生态修复后的图像，获取生态修复后的图像中每个像素点的色相值；设置K值选取范围，获取初始K值，根据初始K值及色相值对生态修复后的图像进行聚类得到若干聚簇，获取每个聚簇的质心，将每个聚簇中各像素点的色相值与聚簇中质心的色相值的差值绝对值的均值，作为每个聚簇的簇内不相似度，将每个聚簇所有像素点的色相值中最大的色相值与最小的色相值的差值，作为每个聚簇的差异程度，根据每个聚簇的簇内不相似度及差异程度，获取每个聚簇的第一参考程度；根据不同聚簇中的色相值获取每个聚簇与其他聚簇的簇间差异度，将每个聚簇的若干簇间差异度的最小值作为每个聚簇的簇间不相似度，根据簇内不相似度、差异程度以及簇间差异度，获取每个聚簇的第二参考程度，根据第一参考程度及第二参考程度，分别对簇内不相似度和簇间不相似度进行限制，构建改进轮廓系数，根据绿色的色相值以及每个聚簇质心的色相值获取绿色聚簇，得到绿色聚簇的改进轮廓系数；获取不同K值下绿色轮廓的改进轮廓系数，将所有改进轮廓系数的最大值对应的K值作为最优K值，最优K值下的绿色聚簇中的像素点组成的区域记为生态修复区域，获取生态修复前的图像中的矿山区域，将生态修复区域的像素点数量，与矿山区域中像素点数量的比值，作为生态修复后图像的生态修复程度，完成对废弃矿山生态修复的动态识别。可选的，所述根据初始K值及色相值对生态修复后的图像进行聚类得到若干聚簇，包括的具体方法为：将初始K值作为K-means聚类的K值，像素点之间的色相值的差值绝对值作为聚类距离，对生态修复后的图像进行K-means聚类，得到若干聚簇，聚簇的数量与初始K值相等。可选的，所述获取每个聚簇的第一参考程度，包括的具体方法为：，其中，表示第/＞个聚簇的第一参考程度，/＞表示第/＞个聚簇的簇内不相似度，/＞表示第/＞个聚簇的差异程度，/＞表示以自然常数为底的指数函数。可选的，所述根据不同聚簇中的色相值获取每个聚簇与其他聚簇的簇间差异度，包括的具体方法为：，其中，表示第/＞个聚簇与第/＞个聚簇的簇间差异度，/＞表示第/＞个聚簇中像素点的数量，/＞表示第/＞个聚簇中第/＞个像素点的色相值，/＞表示第/＞个聚簇质心的色相值，/＞表示绝对值。可选的，所述获取每个聚簇的第二参考程度，包括的具体方法为：，其中，表示第/＞个聚簇的第二参考程度，/＞表示第/＞个聚簇的簇内不相似度，/＞表示第/＞个聚簇的差异程度，/＞表示聚簇数量，/＞表示第/＞个聚簇与第/＞个聚簇的簇间差异度，表示以自然常数为底的指数函数。可选的，所述构建改进轮廓系数，包括的具体方法为：，其中，表示第/＞个聚簇的改进轮廓系数，/＞表示第/＞个聚簇的第二参考程度，/＞表示第/＞个聚簇的簇间不相似度，/＞表示第/＞个聚簇的第一参考程度，/＞表示第/＞个聚簇的簇内不相似度，/＞表示求最大值。本发明的有益效果是：本发明对生态修复后的图像进行基于色相值的聚类，避免了传统灰度值聚类过程中，受三维地势及光照阴影等因素的影响，导致实际相近的颜色在聚类过程中分属不同聚簇；通过计算不同K值下绿色聚簇的改进轮廓系数，获取最优K值下的绿色聚簇，并对生态修复后的图像进行植被区域的分割，实现生态修复后的图像中的生态修复区域的提取，通过不同K值的改进轮廓系数提取最优K值，使得生态修复区域不会过分割或欠分割而丢失植被区域，提高生态修复程度判断的准确性；其中改进轮廓系数通过在原有轮廓系数的基础上，利用第一参考程度及第二参考程度进行限制，使得聚簇中色相值的紧密程度能够反映到改进轮廓系数中，进而可以使绿色聚簇的提取更加准确，提高生态修复区域提取的准确性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明一个实施例所提供的一种用于废弃矿山生态修复的动态识别方法流程示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，其示出了本发明一个实施例所提供的一种用于废弃矿山生态修复的动态识别方法流程图，该方法包括以下步骤：步骤S001、采集废弃矿山生态修复前与生态修复后的图像，获取生态修复后的图像中每个像素点的色相值。本实施例的目的是对废弃矿山的生态修复进行动态识别，因此需要对生态修复区域进行生态修复程度评估，则首先需要采集废弃矿山生态修复前的图像，以及生态修复后的图像；通过在相同位置、相同高度对废弃矿山生态修复前后进行图像采集，采集到的图像为RGB图像。需要说明的是，由于三维地势导致的光照、阴影等因素的影响，会导致图像中RGB分量以及相应的灰度值受光照及阴影的影响较大，不能准确反映各区域原本的RGB分量或灰度值，进而在根据灰度值进行聚类后，无法获取实际颜色相近区域的准确分割区域；而HSV通过色相、饱和度及亮度来表现图像中的颜色，这里的色相就是指色调，光照及阴影的影响主要干扰了饱和度及亮度分量，对于色相的影响较小，因此可以根据色相进行聚类，进而得到准确的实际颜色相近区域。具体的，将采集到的两张RGB图像，转换到HSV颜色空间中，则每个像素点都有相应的HSV分量，获取两张图像中每个像素点的色相值，即HSV分量中的H值。至此，获取到了生态修复前的图像以及生态修复后的图像，并获取了两张图像中每个像素点的色相值。步骤S002、获取初始K值，根据初始K值对修复后图像中的色相值进行K-means聚类，根据聚簇结果获取每个聚簇的簇内不相似度，根据簇内不相似度获取每个聚簇的第一参考程度。需要说明的是，获取到生态修复后图像中每个像素点的色相值后，需要对色相值进行聚类，不同的K值进行K-means聚类得到的结果存在差异，这里的K值就是指K-means算法中的K值，就是K-means聚类的聚簇数量，而对于某一色相值区间，要准确将图像中在该区间内的色相值都聚到一个聚簇中，则需要轮廓系数来衡量聚类结果；轮廓系数基于每个聚簇的簇内不相似度以及簇间不相似度进行计算，现有计算方法中其是基于整体进行轮廓系数计算，进而评估不同K值的聚类结果，而对于生态修复区域，其植被部分主要表现为绿色区域，则需要根据绿色对应的色相区间进行相应聚簇的轮廓系数计算，并基于聚簇的表现对轮廓系数进行改进。具体的，本实施例K值的选取范围为2到20中间的整数，其中初始K值本实施例设置为6，实施者可根据实际情况在选取范围中选择K值，根据初始K值对生态修复后图像中的色相值进行K-means聚类，其中聚类距离为不同像素点色相值的差值绝对值，则可以得到6个聚簇；获取每个聚簇的质心，所述质心即为每个聚簇中与簇内其他像素点色相值的差值绝对值之和最小的像素点；对于第个聚簇，其簇内不相似度/＞的具体计算方法为：，其中，表示第/＞个聚簇中像素点的数量，/＞表示第/＞个聚簇中第/＞个像素点的色相值，/＞表示第/＞个聚簇质心的色相值，/＞表示绝对值；其中簇内不相似度为现有技术，通过簇内各像素点的色相值与质心的色相值的差值绝对值求均值得到，按照上述方法获取每个聚簇的簇内不相似度。进一步需要说明的是，由于本实施例是要对绿色对应的色相区间进行相应聚簇的轮廓系数计算，则需要确保聚簇内的色相值较为集中，同一聚簇内色相值分布范围过大，即每个聚簇包含了较大范围的色相值，反映到图像中则会出现过分割区域，即是将颜色不相近的部分划入到同一区域中；而同一聚簇内色相值分布范围过小，反映到图像中则会出现欠分割区域，即是将颜色相近的部分划入到不同区域中，因此需要对簇内不相似度在进行轮廓系数计算时进行限制。具体的，对于第个聚簇的第一参考程度/＞的具体计算方法为：，其中，表示第/＞个聚簇的簇内不相似度，/＞表示第/＞个聚簇的差异程度，所述差异程度的计算方法为：将第/＞个聚簇所有像素点的色相值中最大的色相值与最小的色相值的差值，作为第/＞个聚簇的差异程度，/＞表示以自然常数为底的指数函数；此时通过簇内不相似度及差异程度来获取第一参考程度，簇内不相似度越小，簇内的紧密程度越好，则需要更小的第一参考程度来限制簇内不相似度，进而使改进后的轮廓系数更大；差异程度越大，簇内的色相值越分散，则需要增大第一参考程度来增大簇内不相似度，进而使改进后的轮廓系数更小；需要说明的是，本实施例通过/＞函数来进行归一化处理，同时通过来保证正比例关系不变；按照上述方法获取每个聚簇的第一参考程度。至此，获取到了初始K值进行聚类下，每个聚簇的簇内不相似度以及第一参考程度。步骤S003、根据聚簇结果获取每个聚簇的簇间不相似度，根据聚簇的紧密性及不同聚簇的色相差异获取每个聚簇的第二参考程度，根据聚簇结果及色相值获取绿色聚簇，进而获取绿色聚簇的改进轮廓系数。需要说明的是，对簇内不相似度通过聚簇的差异程度得到第一参考程度进行限制后，还需要对簇间不相似度进行限制，不同聚簇的色相差异越大，且聚簇越紧密，则每个聚簇的不相似性越好，即存在相近部分的可能性越小；而每个聚簇的紧密性可以通过聚簇的簇内不相似度及差异程度来反映，簇内不相似度越大，差异程度越大，聚簇越分散；相反簇内不相似度越小，差异程度越小，则聚簇越紧密。具体的，首先获取每个聚簇的簇间不相似度，以第个聚簇为例，第/＞个聚簇的簇间不相似度的具体计算方法为：，其中，表示第/＞个聚簇与第/＞个聚簇的簇间差异度，/＞表示第/＞个聚簇中像素点的数量，/＞表示第/＞个聚簇中第/＞个像素点的色相值，/＞表示第/＞个聚簇质心的色相值，/＞表示绝对值；通过计算第/＞聚簇质心的色相值与第/＞个聚簇中所有像素点色相值的差值绝对值的均值，来表示第/＞个聚簇与第/＞个聚簇的簇间差异度；按照上述方法获取第/＞个聚簇与其他每个聚簇的簇间差异度，将所有簇间差异度的最小值作为第/＞个聚簇的簇间不相似度，记为/＞；按照上述方法获取每个聚簇的簇间不相似度。进一步的，对于第个聚簇，其第二参考程度/＞的具体计算方法为：，其中，表示第/＞个聚簇的簇内不相似度，/＞表示第/＞个聚簇的差异程度，/＞表示聚簇数量，其中本实施例初始K值为6，则此处/＞，/＞表示第/＞个聚簇与第/＞个聚簇的簇间差异度，/＞表示以自然常数为底的指数函数；簇内不相似度及差异程度越小，第/＞个聚簇内色相值越紧密，其与其他聚簇存在相近部分的可能性越小；第/＞个聚簇与其他聚簇的簇间差异度越大，第/＞个聚簇质心的色相值与其他聚簇内数据点的色相值差异越大，第/＞个聚簇与其他聚簇存在相近部分的可能性越小；相近部分的可能性越小，则应该通过增大第二参考程度，来得到更大的改进后的轮廓系数；按照上述方法获取每个聚簇的第二参考程度。进一步需要说明的是，由于本实施例目的是准确分割出生态修复区域，即图像中表现为绿色的植被区域，因此需要根据各聚簇质心的色相值来确定绿色聚簇，进而根据第一参考程度和第二参考程度对轮廓系数进行改进，得到绿色聚簇的改进轮廓系数。具体的，绿色在HSV颜色空间中对应的色相值为120，将所有聚簇中质心色相值与120的差值绝对值最小的聚簇，记为绿色聚簇；根据绿色聚簇的第一参考程度及第二参考程度，对原有根据簇内不相似度及簇间不相似度计算轮廓系数的方法进行改进，具体的改进轮廓系数的计算方法为：，其中，表示第/＞个聚簇的改进轮廓系数，/＞表示第/＞个聚簇的第二参考程度，/＞表示第/＞个聚簇的簇间不相似度，/＞表示第/＞个聚簇的第一参考程度，/＞表示第/＞个聚簇的簇内不相似度，/＞表示求最大值；通过第二参考程度对簇间不相似度进行限制，第二参考程度越大，改进轮廓系数越大，聚簇与其他聚簇存在相近部分的可能性越小；通过第一参考程度对簇内不相似度进行限制，第一参考程度越小，改进轮廓系数越大，聚簇与其他聚簇存在相近部分的可能性越小；按照上述方法获取初始K值下每个聚簇的改进轮廓系数，并得到其中绿色聚簇的改进轮廓系数。/＞至此，获取到了初始K值下绿色聚簇的改进轮廓系数，用于后续判断最优K值，并得到生态修复区域。步骤S004、获取不同K值下绿色聚簇的改进轮廓系数，进而得到最优K值，根据最优K值的聚类结果获取生态修复区域，根据生态修复区域与修复前图像，完成对废弃矿山生态修复的动态识别。需要说明的是，得到初始K值下绿色聚簇的改进轮廓系数后，还需要在K值选取范围内计算其他K值下绿色聚簇的改进轮廓系数，进而选取最优K值，实现对绿色区域的准确分割；根据绿色区域在修复前图像中矿山区域的占比，判断生态修复后，废弃矿山的生态修复程度；同时采集生态修复过程中的矿山图像，并同样计算生态修复程度，实现废弃矿山生态修复的动态识别。具体的，根据初始K值计算绿色聚簇的改进轮廓系数的方法，计算K值选取范围内每个K值下绿色聚簇的改进轮廓系数，将所有改进轮廓系数的最大值对应的K值作为最优K值；最优K值下的绿色聚簇中的像素点组成的区域即为生态修复后图像中的植被区域，记为生态修复区域。进一步的，对生态修复前的图像通过语义分割网络获取其中的矿山区域，其中语义分割网络采用现有的DNN网络结构，通过现有的大量矿山图像作为训练数据集，人工标注矿山图像中的矿山区域，损失函数采用交叉熵损失函数，对语义分割网络进行训练，得到训练好的语义分割网络；将生态修复前的图像输入到训练好的语义分割网络中，得到其中的矿山区域；获取矿山区域中像素点的数量，将生态修复后图像中的生态修复区域的像素点数量，与矿山区域中像素点数量的比值，作为生态修复后图像的生态修复程度。进一步的，采集废弃矿山生态修复过程中其他时段的矿山图像，本实施例每次图像采集时间间隔为一个月，对每次采集的矿山图像按照上述方法获取生态修复程度；按照时序关系将每次采集的矿山图像的生态修复程度，及生态修复后图像的生态修复程度进行排列，得到的序列记为生态修复序列，生态修复序列即反映了废弃矿山生态修复的动态识别。至此，完成了对于废弃矿山生态修复的动态识别。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
