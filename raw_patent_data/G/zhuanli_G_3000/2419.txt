标题title
一种主题公园观众互动用仿真模型灯光交互控制方法及系统
摘要abst
本发明涉及一种主题公园观众互动用仿真模型灯光交互控制方法及系统，基于预先建立的人脸姿态识别模型对游客图像进行识别，得到游客的面部朝向；基于游客位置以及游客的面部朝向确定游客注视的目标仿真模型；在游客注视目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对游客图像进行识别，得到当前游客动作；从目标仿真模型的互动数据库中获取与当前游客动作对应的灯光控制指令，并基于灯光控制指令控制对应的灯源，完成互动。本申请通过识别游客的面部姿态来判定游客观看的仿真模型，然后控制对应的目标仿真模型的灯光，使得灯光根据游客的动作产生变化，从而实现灯光的交互，从而增加游客的观赏体验。
权利要求书clms
1.一种主题公园观众互动用仿真模型灯光交互控制方法，其特征在于，包括步骤：获取多个仿真模型的位置、多个仿真模型的互动数据库、游客位置以及游客图像，其中，所述互动数据库包括多种游客动作对应的灯光控制指令，所述互动数据库基于对应仿真模型的特征建立；基于预先建立的人脸姿态识别模型对所述游客图像进行识别，得到游客的面部朝向；基于所述游客位置以及所述游客的面部朝向确定游客注视的目标仿真模型；在游客注视所述目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对所述游客图像进行识别，得到当前游客动作；从所述目标仿真模型的互动数据库中获取与所述当前游客动作对应的灯光控制指令，并基于所述灯光控制指令控制对应的灯源，完成互动。2.根据权利要求1所述的一种主题公园观众互动用仿真模型灯光交互控制方法，其特征在于，建立所述人脸姿态识别模型的过程包括：获取包含多张人脸的第一图像样本；提取所述第一图像样本中的人脸关键点，对所述第一图像样本中的面部朝向进行标注，并基于所述人脸关键点和标注信息构建第一训练数据；基于所述第一训练数据对人工神经网络进行训练，得到人脸姿态识别模型。3.根据权利要求1所述的一种主题公园观众互动用仿真模型灯光交互控制方法，其特征在于，基于所述游客位置以及所述游客的面部朝向确定游客注视的目标仿真模型，包括：基于所述游客位置和多个仿真模型的位置构建二维点位图；在所述二维点位图中确定游客在目标可视角度下的视觉覆盖区域，并确定所述视觉覆盖区域内的仿真模型；在所述视觉覆盖区域内的仿真模型为一个时，将所述视觉覆盖区域内的仿真模型作为目标仿真模型；在所述视觉覆盖区域内的仿真模型为多个时，基于所述视觉覆盖区域内的多个仿真模型的位置、以及所述视觉覆盖区域内的多个仿真模型的物理特征确定目标仿真模型。4.根据权利要求3所述的一种主题公园观众互动用仿真模型灯光交互控制方法，其特征在于，基于所述视觉覆盖区域内的多个仿真模型的位置、以及所述视觉覆盖区域内的多个仿真模型的物理特征确定目标仿真模型，包括：获取所述视觉覆盖区域内的多个仿真模型的平均高度Hi，其中，仿真模型的平均高度通过预先测量得到；提取所述二维点位图中多个仿真模型的视觉宽度Wi、所述游客位置的视觉中心线以及质心点Ai；基于所述多个仿真模型的平均高度Hi和视觉宽度Wi计算每一个仿真模型的视觉面积Si，Si＝Wi×Hi；确定每一个仿真模型的质心点Ai与所述游客位置的连线，与所述视觉中心线的夹角θ；基于所述视觉面积Si和所述夹角θ确定每一个仿真模型的视觉比重系数Xi，视觉比重系数Xi的数学表达式为：式中，a为第一权重因子，b为第二权重因子；将视觉比重系数最高的仿真模型作为目标仿真模型。5.根据权利要求1所述的一种主题公园观众互动用仿真模型灯光交互控制方法，其特征在于，建立所述动作识别模型的过程包括：获取多张包括人体姿势的第二图像样本；提取所述第二图像样本中的关节特征点，对所述第二图像样本进行标注，并基于所述关节特征点和标注信息构建第二训练数据；基于所述第二训练数据对人工神经网络进行训练，得到动作识别模型。6.根据权利要求1所述的一种主题公园观众互动用仿真模型灯光交互控制方法，其特征在于，还包括：在游客注视所述目标仿真模型的时间超过预设的时间阈值时，将互动动作信息发送至所述游客。7.根据权利要求5所述的一种主题公园观众互动用仿真模型灯光交互控制方法，其特征在于，所述灯源包括按照在目标仿真模型上的固定灯源和外部射灯，其中，基于所述灯光控制指令控制对应的灯源，包括：基于所述灯光控制指令调整所述外部射灯的角度和灯光颜色，以使得目标颜色的灯光照射到所述目标仿真模型，并基于所述灯光控制指令控制每一个固定灯源的亮起时间和熄灭时间。8.一种主题公园观众互动用仿真模型灯光交互控制系统，其特征在于，包括：获取模块，用于获取多个仿真模型的位置、多个仿真模型的互动数据库、游客位置以及游客图像，其中，所述互动数据库包括多种游客动作对应的灯光控制指令，所述互动数据库基于对应仿真模型的特征建立；第一识别模块，用于基于预先建立的人脸姿态识别模型对所述游客图像进行识别，得到游客的面部朝向；确定模块，用于基于所述游客位置以及所述游客的面部朝向确定游客注视的目标仿真模型；第二识别模块，用于在游客注视所述目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对所述游客图像进行识别，得到当前游客动作；互动模块，用于从所述目标仿真模型的互动数据库中获取与所述当前游客动作对应的灯光控制指令，并基于所述灯光控制指令控制对应的灯源，完成互动。9.一种电子设备，其特征在于，所述电子设备包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述电子设备实现如权利要求1至7中任一项所述的一种主题公园观众互动用仿真模型灯光交互控制方法。10.一种计算机可读存储介质，其特征在于，其上存储有计算机程序，当所述计算机程序被计算机的处理器执行时，使计算机执行权利要求1至7中任一项所述的一种主题公园观众互动用仿真模型灯光交互控制方法。
说明书desc
技术领域本发明涉及监测技术领域，具体是一种主题公园观众互动用仿真模型灯光交互控制方法及系统。背景技术在一些主题公园中，会设置各种各样的仿真模型供游客参观。为了使这些仿真模型更具有观赏性，还会在这些仿真模型上设置多个LED灯源。在夜晚，通过灯光可以为游客带来更佳的观赏体验。但是现有的仿真模型中的灯源大部分只能按照固定模式进行照明，无法与游客进行交互，趣味性较弱。发明内容有鉴于此，本发明的目的是提供一种主题公园观众互动用仿真模型灯光交互控制方法及系统，以解决现有技术中的仿真模型灯光无法与游客进行交互的问题。为了实现上述目的，本发明采用了如下技术方案：本发明的一种主题公园观众互动用仿真模型灯光交互控制方法，包括步骤：获取多个仿真模型的位置、多个仿真模型的互动数据库、游客位置以及游客图像，其中，所述互动数据库包括多种游客动作对应的灯光控制指令，所述互动数据库基于对应仿真模型的特征建立；基于预先建立的人脸姿态识别模型对所述游客图像进行识别，得到游客的面部朝向；基于所述游客位置以及所述游客的面部朝向确定游客注视的目标仿真模型；在游客注视所述目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对所述游客图像进行识别，得到当前游客动作；从所述目标仿真模型的互动数据库中获取与所述当前游客动作对应的灯光控制指令，并基于所述灯光控制指令控制对应的灯源，完成互动。在本申请一实施例中，建立所述人脸姿态识别模型的过程包括：获取包含多张人脸的第一图像样本；提取所述第一图像样本中的人脸关键点，对所述第一图像样本中的面部朝向进行标注，并基于所述人脸关键点和标注信息构建第一训练数据；基于所述第一训练数据对人工神经网络进行训练，得到人脸姿态识别模型。在本申请一实施例中，基于所述游客位置以及所述游客的面部朝向确定游客注视的目标仿真模型，包括：基于所述游客位置和多个仿真模型的位置构建二维点位图；在所述二维点位图中确定游客在目标可视角度下的视觉覆盖区域，并确定所述视觉覆盖区域内的仿真模型；在所述视觉覆盖区域内的仿真模型为一个时，将所述视觉覆盖区域内的仿真模型作为目标仿真模型；在所述视觉覆盖区域内的仿真模型为多个时，基于所述视觉覆盖区域内的多个仿真模型的位置、以及所述视觉覆盖区域内的多个仿真模型的物理特征确定目标仿真模型。在本申请一实施例中，基于所述视觉覆盖区域内的多个仿真模型的位置、以及所述视觉覆盖区域内的多个仿真模型的物理特征确定目标仿真模型，包括：获取所述视觉覆盖区域内的多个仿真模型的平均高度Hi，其中，仿真模型的平均高度通过预先测量得到；提取所述二维点位图中多个仿真模型的视觉宽度Wi、所述游客位置的视觉中心线以及质心点Ai；基于所述多个仿真模型的平均高度Hi和视觉宽度Wi计算每一个仿真模型的视觉面积Si，Si＝Wi×Hi；确定每一个仿真模型的质心点Ai与所述游客位置的连线，与所述视觉中心线的夹角θ；基于所述视觉面积Si和所述夹角θ确定每一个仿真模型的视觉比重系数Xi，视觉比重系数Xi的数学表达式为：式中，a为第一权重因子，b为第二权重因子；将视觉比重系数最高的仿真模型作为目标仿真模型。在本申请一实施例中，建立所述动作识别模型的过程包括：获取多张包括人体姿势的第二图像样本；提取所述第二图像样本中的关节特征点，对所述第二图像样本进行标注，并基于所述关节特征点和标注信息构建第二训练数据；基于所述第二训练数据对人工神经网络进行训练，得到动作识别模型。在本申请一实施例中，还包括：在游客注视所述目标仿真模型的时间超过预设的时间阈值时，将互动动作信息发送至所述游客。在本申请一实施例中，所述灯源包括按照在目标仿真模型上的固定灯源和外部射灯，其中，基于所述灯光控制指令控制对应的灯源，包括：基于所述灯光控制指令调整所述外部射灯的角度和灯光颜色，以使得目标颜色的灯光照射到所述目标仿真模型，并基于所述灯光控制指令控制每一个固定灯源的亮起时间和熄灭时间。本申请还提供一种主题公园观众互动用仿真模型灯光交互控制系统，包括：获取模块，用于获取多个仿真模型的位置、多个仿真模型的互动数据库、游客位置以及游客图像，其中，所述互动数据库包括多种游客动作对应的灯光控制指令，所述互动数据库基于对应仿真模型的特征建立；第一识别模块，用于基于预先建立的人脸姿态识别模型对所述游客图像进行识别，得到游客的面部朝向；确定模块，用于基于所述游客位置以及所述游客的面部朝向确定游客注视的目标仿真模型；第二识别模块，用于在游客注视所述目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对所述游客图像进行识别，得到当前游客动作；互动模块，用于从所述目标仿真模型的互动数据库中获取与所述当前游客动作对应的灯光控制指令，并基于所述灯光控制指令控制对应的灯源，完成互动。本发明还提供一种存储介质，其中存储有计算机程序，所述计算机程序被处理器加载执行时，实现如上所述的一种主题公园观众互动用仿真模型灯光交互控制方法。本发明还提供一种电子设备，包括：处理器、及存储器；其中，所述存储器用于存储计算机程序；所述处理器用于加载执行所述计算机程序，以使所述电子设备执行如上所述的一种主题公园观众互动用仿真模型灯光交互控制方法。本发明的有益效果是：本发明的一种主题公园观众互动用仿真模型灯光交互控制方法及系统，通过获取多个仿真模型的位置、多个仿真模型的互动数据库、游客位置以及游客图像；然后基于预先建立的人脸姿态识别模型对游客图像进行识别，得到游客的面部朝向；基于游客位置以及游客的面部朝向确定游客注视的目标仿真模型；在游客注视目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对游客图像进行识别，得到当前游客动作；从目标仿真模型的互动数据库中获取与当前游客动作对应的灯光控制指令，并基于灯光控制指令控制对应的灯源，完成互动。本申请通过识别游客的面部姿态来判定游客观看的仿真模型，然后控制对应的目标仿真模型的灯光，使得灯光根据游客的动作产生变化，从而实现灯光的交互，从而增加游客的观赏体验。附图说明下面结合附图和实施例对本发明作进一步描述：图1是本申请一实施例中示出的一种主题公园观众互动用仿真模型灯光交互控制方法的流程图；图2是本申请一实施例中示出的二维点位图；图3是本申请一实施例中示出的一种主题公园观众互动用仿真模型灯光交互控制系统的结构图；图4示出了适于用来实现本申请实施例的电子设备的计算机系统的结构示意图。具体实施方式以下通过特定的具体实例说明本发明的实施方式，本领域技术人员可由本说明书所揭露的内容轻易地了解本发明的其他优点与功效。本发明还可以通过另外不同的具体实施方式加以实施或应用，本说明书中的各项细节也可以基于不同观点与应用，在没有背离本发明的精神下进行各种修饰或改变。需说明的是，在不冲突的情况下，以下实施例及实施例中的特征可以相互组合。需要说明的是，以下实施例中所提供的图示仅以示意方式说明本发明的基本构想，遂图式中仅显示与本发明中有关的层而非按照实际实施时的层数目、形状及尺寸绘制，其实际实施时各层的型态、数量及比例可为一种随意的改变，且其层布局型态也可能更为复杂。在下文描述中，探讨了大量细节，以提供对本发明实施例的更透彻的解释，然而，对本领域技术人员来说，可以在没有这些具体细节的情况下实施本发明的实施例是显而易见的。图1是本申请一实施例中示出的一种主题公园观众互动用仿真模型灯光交互控制方法的流程图，如图1所示：本实施例的一种主题公园观众互动用仿真模型灯光交互控制方法，可以包括步骤S110至步骤S150：S110，获取多个仿真模型的位置、多个仿真模型的互动数据库、游客位置以及游客图像，其中，所述互动数据库包括多种游客动作对应的灯光控制指令，所述互动数据库基于对应仿真模型的特征建立；其中，灯光控制指令是指控制仿真模型上的固定灯源和外部射灯的电信号。例如，主题公园内部设置卡通人物模型，仿真模型上设置大量的LED灯珠。外部设置角度和灯光颜色可以调节的射灯。因此，这里的灯光控制指令是可以控制每一个LED灯珠的亮灭、射灯照射位置和颜色的电信号。游客图像是通过安装在现场的摄像头采集的。摄像头游客图像采集并发送至后台，后台来进行识别和交互。互动数据库是预先建立的，保存有动作和灯光控制指令的数据库。本申请中，在识别出什么动作下输出怎样的灯光效果是人为定义的，因此互动数据库中只需要预先保存多种动作对应的灯光控制指令即可。此外，灯光效果虽然是人为定义的，但是也是根据仿真模型的特点来的，例如,仿真模型是一个数，在射灯照射时，可以设定为绿光，从而使得仿真模型的效果更加逼真。S120，基于预先建立的人脸姿态识别模型对所述游客图像进行识别，得到游客的面部朝向；本申请中，通过训练人脸姿态识别模型来对游客的面部朝向进行识别。具体地，通过如下方式来训练人脸姿态识别模型：获取包含多张人脸的第一图像样本；提取所述第一图像样本中的人脸关键点，对所述第一图像样本中的面部朝向进行标注，并基于所述人脸关键点和标注信息构建第一训练数据；基于所述第一训练数据对人工神经网络进行训练，得到人脸姿态识别模型。本实施例中的人脸关键点可以是68关键点，也可以是150关键点。通过现有的关键点提取器，可以直接提取出第一图像样本中的人脸关键点。通过提取人脸关键点可以较为清楚地描述人脸的状态。将人脸关键点作为训练数据，并以标注信息作为验证数据，对人工神经网络进行训练，即可得到本申请需要的，识别人脸朝向的识别模型。本申请中，由于只需要关注游客人脸面向哪一个仿真模型，因此仅需要对游客脸部在水平面上的朝向进行识别，从而可以降低所需标注的数据量，提高训练效率。S130，基于所述游客位置以及所述游客的面部朝向确定游客注视的目标仿真模型；得到游客的面部朝向后，便可以基于游客的位置、游客的面部朝向以及多个仿真模型的位置来确定游客的注视目标，即目标仿真模型。在本申请一实施例中，基于所述游客位置以及所述游客的面部朝向确定游客注视的目标仿真模型，包括：基于所述游客位置和多个仿真模型的位置构建二维点位图；在所述二维点位图中确定游客在目标可视角度下的视觉覆盖区域，并确定所述视觉覆盖区域内的仿真模型；在所述视觉覆盖区域内的仿真模型为一个时，将所述视觉覆盖区域内的仿真模型作为目标仿真模型；在所述视觉覆盖区域内的仿真模型为多个时，基于所述视觉覆盖区域内的多个仿真模型的位置、以及所述视觉覆盖区域内的多个仿真模型的物理特征确定目标仿真模型。在本实施例中，二维点位图将游客看做是一个点，但是保留了目标仿真对象的俯视投影形状。但是对于一些特殊的仿真模型，如比较高大的树模型，游客通过只会注意树干部分。因此这种情况下，将树干部分的俯视投影保存在二维点位图中。本申请基于人的视角来推荐游客此时的视觉覆盖范围，由于将游客的位置看做是一个点，因此覆盖范围可以大致看做是一个三角形。一般来说，人类眼睛视角通常是124度，当集中注意力时约为五分之一。因此，为了符合游客在游玩时的状态，本实施例中，视角取60°-90°。确定了视觉覆盖范围后，便可以通过视觉范围内的仿真模型的位置来估测游客最有可能正在注视的仿真模型，即目标仿真模型。在本申请一实施例中，基于所述视觉覆盖区域内的多个仿真模型的位置、以及所述视觉覆盖区域内的多个仿真模型的物理特征确定目标仿真模型，包括：获取所述视觉覆盖区域内的多个仿真模型的平均高度Hi，其中，仿真模型的平均高度通过预先测量得到；提取所述二维点位图中多个仿真模型的视觉宽度Wi、所述游客位置的视觉中心线以及质心点Ai；基于所述多个仿真模型的平均高度Hi和视觉宽度Wi计算每一个仿真模型的视觉面积Si，Si＝Wi×Hi；确定每一个仿真模型的质心点Ai与所述游客位置的连线，与所述视觉中心线的夹角θ；基于所述视觉面积Si和所述夹角θ确定每一个仿真模型的视觉比重系数Xi，视觉比重系数Xi的数学表达式为：式中，a为第一权重因子，b为第二权重因子；将视觉比重系数最高的仿真模型作为目标仿真模型。其中，通过二维点位图确定视觉覆盖范围内的仿真模型，以及每个仿真模型的视觉宽度。确定视觉宽度时，将游客位置与视觉覆盖范围内的仿真模型的俯视投影轮廓的边缘进行连线，以使得连线与俯视投影轮廓的边缘恰好相切，然后分别以两个切点生成直线，直线与游客的正视方向垂直，将能够遮挡住俯视投影轮廓背面的直线作为视觉宽度线，视觉宽度线的长度即为视觉宽度。图2是本申请一实施例中示出的二维点位图，如图2所示，通过上述方法可以从平面图中得出视觉覆盖范围内每个仿真模型的视觉宽度。由于人眼看见的是一个平面，因此还需要确定视觉覆盖范围内的每一个仿真模型的高度才能确定其视觉面积。本实施例中，预先采集每一个仿真模型的多个高度值，然后用来求平均值，这样可以更加合理地求出其大致的视觉面积。除了视觉面积以外，还需要考虑的一个方面就是多个仿真模型的位置。本实施例中采用质心点Ai来大致描述仿真模型的位置，也可以使用其他特征点来进行描述，只要能描述其大致位置即可。本申请以仿真模型的质心Ai与所述游客位置的连线，与所述视觉中心线的夹角θ，来描述仿真模型处于视觉的哪个位置。θ越大说明对应的仿真模型离视觉中心越远，反之则越近。一般来说，越靠近人眼视野中心的物体，越有可能是人注视的对象，但是视觉面积越大的物体，也越有可能引起人的目光注意。结合上述两个参数，本申请通过对上述两个参数进行加权求和，得到视觉覆盖范围内每个仿真模型的视觉比重系数Xi，视觉比重系数Xi越大，对应的仿真模型越有可能是游客注视的对象。最后将视觉比重系数Xi最大的一个仿真模型作为目标仿真模型。此外，在一些情况下，如果视觉覆盖范围内任意两个仿真模型的视觉比重系数Xi相差不超过预设阈值，那么还可以将这两个或者多个仿真模型都作为目标仿真模型，以便于对其同时进行交互控制。S140，在游客注视所述目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对所述游客图像进行识别，得到当前游客动作；为了提高控制系统的稳定性，避免系统出现过于敏感的判断机制。本申请中，通过设定一个时间阈值来判定游客意图，只有游客保持固定的面部朝向超过时间阈值时，才判定游客此时正在注视对应的目标仿真模型。然后再进行灯光交互。在实际交互过程中，有一些游客是知道如何利用动作进行交互的，但是也有游客不知道如何交互。因此，在游客注视所述目标仿真模型的时间超过预设的时间阈值时，还可以将互动动作信息发送至所述游客。发送途径可以是语音提示，也可以是现场的显示屏提示。然后通过摄像头采集游客图像，并通过动作识别模型识别游客的动作，以判断游客是否存在交互意图。在本申请一实施例中，建立所述动作识别模型的过程包括：获取多张包括人体姿势的第二图像样本；提取所述第二图像样本中的关节特征点，对所述第二图像样本进行标注，并基于所述关节特征点和标注信息构建第二训练数据；基于所述第二训练数据对人工神经网络进行训练，得到动作识别模型。S150，从所述目标仿真模型的互动数据库中获取与所述当前游客动作对应的灯光控制指令，并基于所述灯光控制指令控制对应的灯源，完成互动。如果通过动作识别模型判断出游客存在交互意图，即识别出特定的游客动作时，则从互动数据库查询出对应的灯光控制指令，实现互动。在本申请一实施例中，所述灯源包括按照在目标仿真模型上的固定灯源和外部射灯，其中，基于所述灯光控制指令控制对应的灯源，包括：基于所述灯光控制指令调整所述外部射灯的角度和灯光颜色，以使得目标颜色的灯光照射到所述目标仿真模型，并基于所述灯光控制指令控制每一个固定灯源的亮起时间和熄灭时间。其中，通过射灯照亮整个目标仿真模型，并产生特定颜色的灯光，可以实现强烈的氛围感。然后通过控制在目标仿真模型内部的LED阵列来实现灯光的闪烁，展示图形、文字等。从而实现交互，本申请可以有效地提高主体公园内仿真模型与游客的交互性和可玩性。本发明的一种主题公园观众互动用仿真模型灯光交互控制方法，通过获取多个仿真模型的位置、多个仿真模型的互动数据库、游客位置以及游客图像；然后基于预先建立的人脸姿态识别模型对游客图像进行识别，得到游客的面部朝向；基于游客位置以及游客的面部朝向确定游客注视的目标仿真模型；在游客注视目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对游客图像进行识别，得到当前游客动作；从目标仿真模型的互动数据库中获取与当前游客动作对应的灯光控制指令，并基于灯光控制指令控制对应的灯源，完成互动。本申请通过识别游客的面部姿态来判定游客观看的仿真模型，然后控制对应的目标仿真模型的灯光，使得灯光根据游客的动作产生变化，从而实现灯光的交互，从而增加游客的观赏体验。如图3所示，本申请还提供一种主题公园观众互动用仿真模型灯光交互控制系统，包括：获取模块，用于获取多个仿真模型的位置、多个仿真模型的互动数据库、游客位置以及游客图像，其中，所述互动数据库包括多种游客动作对应的灯光控制指令，所述互动数据库基于对应仿真模型的特征建立；第一识别模块，用于基于预先建立的人脸姿态识别模型对所述游客图像进行识别，得到游客的面部朝向；确定模块，用于基于所述游客位置以及所述游客的面部朝向确定游客注视的目标仿真模型；第二识别模块，用于在游客注视所述目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对所述游客图像进行识别，得到当前游客动作；互动模块，用于从所述目标仿真模型的互动数据库中获取与所述当前游客动作对应的灯光控制指令，并基于所述灯光控制指令控制对应的灯源，完成互动。本发明的一种主题公园观众互动用仿真模型灯光交互控制系统，通过获取多个仿真模型的位置、多个仿真模型的互动数据库、游客位置以及游客图像；然后基于预先建立的人脸姿态识别模型对游客图像进行识别，得到游客的面部朝向；基于游客位置以及游客的面部朝向确定游客注视的目标仿真模型；在游客注视目标仿真模型的时间超过预设的时间阈值时，基于预先建立的动作识别模型对游客图像进行识别，得到当前游客动作；从目标仿真模型的互动数据库中获取与当前游客动作对应的灯光控制指令，并基于灯光控制指令控制对应的灯源，完成互动。本申请通过识别游客的面部姿态来判定游客观看的仿真模型，然后控制对应的目标仿真模型的灯光，使得灯光根据游客的动作产生变化，从而实现灯光的交互，从而增加游客的观赏体验。图4示出了适于用来实现本申请实施例的电子设备的计算机系统的结构示意图。需要说明的是，图4示出的电子设备的计算机系统400仅是一个示例，不应对本申请实施例的功能和使用范围带来任何限制。如图4所示，计算机系统400包括中央处理单元401，其可以根据存储在只读存储器402中的程序或者从储存部分408加载到随机访问存储器404中的程序而执行各种适当的动作和处理，例如执行上述实施例中的方法。在RAM 403中，还存储有系统操作所需的各种程序和数据。CPU 401、ROM 402以及RAM 403通过总线404彼此相连。输入/输出接口405也连接至总线404。以下部件连接至I/O接口405：包括键盘、鼠标等的输入部分406；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分407；包括硬盘等的储存部分408；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分409。通信部分409经由诸如因特网的网络执行通信处理。驱动器410也根据需要连接至I/O接口405。可拆卸介质411，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器410上，以便于从其上读出的计算机程序根据需要被安装入储存部分408。特别地，根据本申请的实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本申请的实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的计算机程序。在这样的实施例中，该计算机程序可以通过通信部分409从网络上被下载和安装，和/或从可拆卸介质411被安装。在该计算机程序被中央处理单元401执行时，执行本申请的系统中限定的各种功能。需要说明的是，本申请实施例所示的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、闪存、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本申请中，计算机可读的信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的计算机程序。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读的信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的计算机程序可以用任何适当的介质传输，包括但不限于：无线、有线等等，或者上述的任意合适的组合。附图中的流程图和框图，图示了按照本申请各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。其中，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，上述模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图或流程图中的每个方框、以及框图或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本申请实施例中所涉及到的单元可以通过软件的方式实现，也可以通过硬件的方式来实现，所描述的单元也可以设置在处理器中。其中，这些单元的名称在某种情况下并不构成对该单元本身的限定。本申请的另一方面还提供了一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被计算机的处理器执行时，使计算机执行如前的方法。该计算机可读存储介质可以是上述实施例中描述的电子设备中所包含的，也可以是单独存在，而未装配入该电子设备中。本申请的另一方面还提供了一种计算机程序产品或计算机程序，该计算机程序产品或计算机程序包括计算机指令，该计算机指令存储在计算机可读存储介质中。计算机设备的处理器从计算机可读存储介质读取该计算机指令，处理器执行该计算机指令，使得该计算机设备执行上述各个实施例中提供的方法。以上实施例仅是为充分说明本申请而所举的较佳的实施例，本申请的保护范围不限于此。本技术领域的技术人员在本申请基础上所作的等同替代或变换，均在本申请的保护范围之内。
