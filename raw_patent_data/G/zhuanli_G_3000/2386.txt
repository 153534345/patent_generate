标题title
一种规范共享电动单车骑行的方法
摘要abst
本发明公开了一种规范共享电动单车骑行的方法，包括：获取共享电动单车的信息；所述AI视觉处理芯片通过USB切换电路连接有第一摄像头和第二摄像头，所述AI视觉处理芯片控制USB切换电路切换到第一摄像头；控制第一摄像头检测是否佩戴头盔；若佩戴头盔，则共享中控控制整车上电；判断共享电动单车是否静止；若共享电动单车静止，则AI视觉处理芯片控制USB切换电路切换到第二摄像头，第二摄像头检测停车标线位置；控制第二摄像头检测共享电动单车是否在停车标线上；若是，则共享电动单车停止工作，共享中控控制AI摄像头关闭；本发明通过AI视觉处理芯片控制USB切换电路切换第一摄像头和第二摄像头，实现监测用户骑行安全。
权利要求书clms
1.一种规范共享电动单车骑行的方法，其特征在于，所述方法包括：S1、获取共享电动单车的信息；S2、所述共享电动单车的共享中控通过485总线与AI摄像头通信，AI摄像头设置有AI视觉处理芯片，所述AI视觉处理芯片通过USB切换电路连接有第一摄像头和第二摄像头，所述AI视觉处理芯片控制USB切换电路切换到第一摄像头；S3、控制第一摄像头检测是否佩戴头盔；S301、若佩戴头盔，则共享中控控制整车上电；S302、若未佩戴头盔，则返回至S3继续进行检测；S4、判断共享电动单车是否静止；S401、若共享电动单车静止，则AI视觉处理芯片控制USB切换电路切换到第二摄像头，第二摄像头检测停车标线位置；S402、若共享电动单车未静止，则返回至S4继续进行判断；S5、控制第二摄像头检测共享电动单车是否在停车标线上；S501、若是，则共享电动单车停止工作，共享中控控制AI摄像头关闭；S502、若不是，则返回至S5继续进行检测。2.根据权利要求1所述的规范共享电动单车骑行的方法，其特征在于：所述AI摄像头拍摄共享电动单车正前方，采集道路和红绿灯画面；所述第一摄像头朝向骑行者，采集用户佩戴头盔的画面；所述第二摄像头用于拍摄地面，采集停车站点的停车标线画面。3.根据权利要求1所述的规范共享电动单车骑行的方法，其特征在于：所述USB切换电路连接有供电控制电路，所述供电控制电路设置有第一电流开关芯片和第二电流开关芯片，所述第一电流开关芯片和第二电流开关芯片用于分别控制第一摄像头和第二摄像头的供电。4.根据权利要求3所述的规范共享电动单车骑行的方法，其特征在于：所述第一电流开关芯片的输出端连接第一摄像头的VUSB-1端，当VUSB-1端为低电平时，第一电流开关芯片关闭供电；当VUSB-1端为高电平的时候，第一电流开关芯片打开供电，给第一摄像头供电。5.根据权利要求4所述的规范共享电动单车骑行的方法，其特征在于：所述第二电流开关芯片的输出端连接第二摄像头的VUSB-2端，当VUSB-2端为低电平的时候，第二电流开关芯片关闭供电；当VUSB-2端为高电平的时候，第二电流开关芯片打开供电，给第二摄像头供电。6.根据权利要求5所述的规范共享电动单车骑行的方法，其特征在于：所述AI视觉处理芯片的USB接口与USB切换电路的输入端连接，所述USB切换电路包括第一模拟开关芯片和第二模拟开关芯片，所述USB接口的USB0-DP端与第一模拟芯片的COM端连接，所述USB接口USB0-DM与第二模拟芯片的COM端连接。7.根据权利要求6所述的规范共享电动单车骑行的方法，其特征在于：所述第一模拟芯片的IN端连接USB_VCTL端，所述第一模拟芯片的NC端连接USB-DP-1端，第一模拟芯片的NO端连接USB-DP-2端，当USB_VCTL端为低电平时，USB切换电路切换到USB-DP-1端，USB0-DP端短接到USB-DP-1端；当USB_VCTL端为高电平的时候，USB切换电路切换到USB-DP-2，所述USB0-DP端短接到USB-DP-2端。8.根据权利要求7所述的规范共享电动单车骑行的方法，其特征在于：所述第二模拟芯片的IN端连接USB_VCTL端，所述第二模拟芯片的NC端连接USB-DM-1端，第二模拟芯片的NO端连接USB-DM-2端，所述USB_VCTL端为低电平时，USB切换电路切换到USB-DM-1端，USB0-DM端短接到USB-DM-1端；当USB_VCTL端为高电平的时候，USB切换电路到USB-DM-2端，USB0-DM端短接到USB-DM-2端。9.根据权利要求8所述的规范共享电动单车骑行的方法，其特征在于：所述AI视觉处理芯片还连接有CMOS传感器，CMOS传感器用于图像信号处理。10.根据权利要求5所述的规范共享电动单车骑行的方法，其特征在于：所述VUSB-1端和VUSB-2端分别连接有第一接口座子和第二接口座子。
说明书desc
技术领域本发明涉及共享电单车技术领域，具体是指一种规范共享电动单车骑行的方法。背景技术随着共享电单车快速普及，用户骑行逆行，闯红灯，不佩戴头盔，乱停乱放等现象日益增加，现在的共享电单车只有单独解决乱停乱放或者佩戴头盔的方案，没有识别闯红灯，逆行等行为检测的方案，也没有一个能够同时解决上面几种问题的方案，同时佩戴头盔的方案是使用红外感应技术来检测的，识别成功率较低，并且用户随便拿东西遮住头盔的红外灯一样可以到达佩戴的效果，容易被用户破解，因此，需提供一种共享电动单车骑行方法去规范骑行，保障骑行用户的安全。发明内容本发明的目的是克服现有技术中的不足之处，提供一种能够实现监测用户骑行安全的规范共享电动单车骑行的方法。本发明的目的是通过以下技术方案来实现的：一种规范共享电动单车骑行的方法，所述方法包括：获取共享电动单车的信息；S2、所述共享电动单车的共享中控通过485总线与AI摄像头通信，AI摄像头设置有AI视觉处理芯片，所述AI视觉处理芯片通过USB切换电路连接有第一摄像头和第二摄像头，所述AI视觉处理芯片控制USB切换电路切换到第一摄像头；S3、控制第一摄像头检测是否佩戴头盔；S301、若佩戴头盔，则共享中控控制整车上电；S302、若未佩戴头盔，则返回至S3继续进行检测；S4、判断共享电动单车是否静止；S401、若共享电动单车静止，则AI视觉处理芯片控制USB切换电路切换到第二摄像头，第二摄像头检测停车标线位置；S402、若共享电动单车未静止，则返回至S4继续进行判断；S5、控制第二摄像头检测共享电动单车是否在停车标线上；S501、若是，则共享电动单车停止工作，共享中控控制AI摄像头关闭；S502、若不是，则返回至S5继续进行检测。进一步的，所述AI摄像头拍摄共享电动单车正前方，采集道路和红绿灯画面；所述第一摄像头朝向骑行者，采集用户佩戴头盔的画面；所述第二摄像头用于拍摄地面，采集停车站点的停车标线画面。进一步的，所述USB切换电路连接有供电控制电路，所述供电控制电路设置有第一电流开关芯片和第二电流开关芯片，所述第一电流开关芯片和第二电流开关芯片用于分别控制第一摄像头和第二摄像头的供电。进一步的，所述第一电流开关芯片的输出端连接第一摄像头的VUSB-1端，当VUSB-1端为低电平时，第一电流开关芯片关闭供电；当VUSB-1端为高电平的时候，第一电流开关芯片打开供电，给第一摄像头供电。进一步的，所述第二电流开关芯片的输出端连接第二摄像头的VUSB-2端，当VUSB-2端为低电平的时候，第二电流开关芯片关闭供电；当VUSB-2端为高电平的时候，第二电流开关芯片打开供电，给第二摄像头供电。进一步的，所述AI视觉处理芯片的USB接口与USB切换电路的输入端连接，所述USB切换电路包括第一模拟开关芯片和第二模拟开关芯片，所述USB接口的USB0-DP端与第一模拟芯片的COM端连接，所述USB接口USB0-DM与第二模拟芯片的COM端连接。进一步的，所述第一模拟芯片的IN端连接USB_VCTL端，所述第一模拟芯片的NC端连接USB-DP-1端，第一模拟芯片的NO端连接USB-DP-2端，当USB_VCTL端为低电平时，USB切换电路切换到USB-DP-1端，USB0-DP端短接到USB-DP-1端；当USB_VCTL端为高电平的时候，USB切换电路切换到USB-DP-2，所述USB0-DP端短接到USB-DP-2端。进一步的，所述第二模拟芯片的IN端连接USB_VCTL端，所述第二模拟芯片的NC端连接USB-DM-1端，第二模拟芯片的NO端连接USB-DM-2端，所述USB_VCTL端为低电平时，USB切换电路切换到USB-DM-1端，USB0-DM端短接到USB-DM-1端；当USB_VCTL端为高电平的时候，USB切换电路到USB-DM-2端，USB0-DM端短接到USB-DM-2端。进一步的，所述AI视觉处理芯片还连接有CMOS传感器，CMOS传感器用于图像信号处理。进一步的，所述VUSB-1端和VUSB-2端分别连接有第一接口座子和第二接口座子。本发明相比现有技术具有以下优点及有益效果：本发明通过AI视觉处理芯片控制USB切换电路切换第一摄像头和第二摄像头，实现三个摄像头监测用户租借共享电动单车的骑行，同时解决用户闯红灯、未佩戴头盔、停车标线识别等问题，集多个作用于一体，用户骑行更安全，实现规范停车，佩戴头盔骑行，文明骑行。附图说明图1为方法框图；图2为规范共享电动单车骑行的方法流程图；图3为AI视觉处理芯片；图4为AI视觉处理芯片上USB接口放大图；图5为AI视觉处理芯片上USB切换控制引脚放大图；图6为USB供电引脚放大图；图7为供电控制电路图；图8为USB切换电路图；图9为第一接口座子和第二接口座子电路图。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。下面将结合本发明的实施例中的附图，对本发明的实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明的一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“包括”、“包含”和“具有”以及它们任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其他步骤或单元。在本发明的权利要求书、说明书以及说明书附图中的术语，诸如“第一”和“第二”等之类的关系术语仅仅用来将一个实体/操作/对象与另一个实体/操作/对象区分开来，而不一定要求或者暗示这些实体/操作/对象之间存在任何这种实际的关系或者顺序。如图1和图2所示，一种规范共享电动单车骑行的方法，所述方法包括：S1、获取共享电动单车的信息，获取租借用户信息、骑行开锁信息，以及骑行中运动状态信息；S2、所述共享电动单车的共享中控通过485总线与AI摄像头通信，如图3所示，AI摄像头设置有AI视觉处理芯片，所述AI视觉处理芯片通过USB切换电路连接有第一摄像头和第二摄像头，所述AI视觉处理芯片控制USB切换电路切换到第一摄像头，共享中控可以是共享服务器；S3、控制第一摄像头检测是否佩戴头盔；S301、若佩戴头盔，则共享中控控制整车上电；S302、若未佩戴头盔，则返回至S3继续进行检测；未佩戴头盔时，共享电动单车可以进行提醒用户，若一直不佩戴头盔，共享中控则对共享电动单车进行降速处理，一方面保证用户骑行安全，另一方面，为了提高骑行速度并节约骑行时间，骑行用户会更愿意选择佩戴好头盔；通过调节车辆电机的最高输出功率和最高速度，从而实现降速处理；或者通过更换车辆电机或者限制车辆电池电压、电流等参数来达到降速处理的效果；S4、判断共享电动单车是否静止，用于判断骑行用户是否锁车结束骑行；S401、若共享电动单车静止，则AI视觉处理芯片控制USB切换电路切换到第二摄像头，第二摄像头检测停车标线位置；S402、若共享电动单车未静止，则返回至S4继续进行判断；S5、控制第二摄像头检测共享电动单车是否在停车标线上；S501、若是，则共享电动单车停止工作，共享中控控制AI摄像头关闭；S502、若不是，则返回至S5继续进行检测。通过分时复用的方式，在第一摄像头和第二摄像头之间切换，达到和第一摄像头和第二摄像头通信的功能，采用同一物理连接的不同时段来传输不同的信号，能达到多路传输的目的，在网络中应用于用一条线路传输多路数据，分时复用以时间作为信号分割传输的参量，使各路信号在时间轴上互不重叠，从而使不同的信号在不同的时间内传送，将整个传输时间分割为互不重叠的时间间隔，分时复用技术将这些时隙分配给每一个信号源使用，每个时隙只能被一路信号占用；分时复用通过在时间上交叉发送每一路信号的一部分来实现一条电路传送多路信号；电路上的每一短暂时刻只有一路信号存在；分时复用适用于数字信号的传输；因数字信号是有限个离散值，所以分时复用技术广泛应用于包括计算机网络在内的数字通信系统，通过AI视觉处理芯片控制USB切换电路切换第一摄像头和第二摄像头，实现三个摄像头监测用户租借共享电动单车的骑行，同时解决用户闯红灯、未佩戴头盔、停车标线识别等问题，集多个作用于一体，用户骑行更安全，实现规范停车，佩戴头盔骑行，文明骑行。其中一实施例为，AI摄像头拍摄共享电动单车正前方，采集道路和红绿灯画面，AI摄像头；所述第一摄像头朝向骑行者，采集用户佩戴头盔的画面；所述第二摄像头用于拍摄地面，采集停车站点的停车标线画面，通过AI摄像头、第一摄像头、第二摄像头的设置来提高用户骑行的安全性并规范用户骑行。如图6和图7所示，USB切换电路连接有供电控制电路，所述供电控制电路设置有第一电流开关芯片和第二电流开关芯片，所述第一电流开关芯片和第二电流开关芯片用于分别控制第一摄像头和第二摄像头的供电；第一电流开关芯片的输出端连接第一摄像头的VUSB-1端，当VUSB-1端为低电平时，第一电流开关芯片关闭供电；当VUSB-1端为高电平的时候，第一电流开关芯片打开供电，给第一摄像头供电；第二电流开关芯片的输出端连接第二摄像头的VUSB-2端，当VUSB-2端为低电平的时候，第二电流开关芯片关闭供电；当VUSB-2端为高电平的时候，第二电流开关芯片打开供电，给第二摄像头供电，AI视觉处理芯片还连接有CMOS传感器，CMOS传感器用于图像信号处理，AI视觉处理芯片与CMOS传感器之间通过MIPI通讯，MIPI能够让数据并行转换成串行，功能复用，节约传输线；相对提高传输品质和速度，增加传输距离。如图9所示，VUSB-1端和VUSB-2端分别连接有第一接口座子和第二接口座子，接口座子是用于连接和传输数据和电力的接口，它可以连接到计算机、充电器、手机和其他电子设备，并提供电源和数据传输功能，USB接口座子可以用于连接各种外部设备，如打印机、摄像头、键盘、鼠标和外置硬盘等，同时，它也可以用于充电手机、平板电脑和其他移动设备。如图3和图4所示，AI视觉处理芯片的USB接口与USB切换电路的输入端连接，如图8所示，所述USB切换电路包括第一模拟开关芯片和第二模拟开关芯片，所述USB接口的USB0-DP端与第一模拟芯片的COM端连接，所述USB接口USB0-DM与第二模拟芯片的COM端连接；第一模拟芯片的IN端连接USB_VCTL端，所述第一模拟芯片的NC端连接USB-DP-1端，第一模拟芯片的NO端连接USB-DP-2端，如图5所示，当USB_VCTL端为低电平时，USB切换电路切换到USB-DP-1端，USB0-DP端短接到USB-DP-1端；当USB_VCTL端为高电平的时候，USB切换电路切换到USB-DP-2，所述USB0-DP端短接到USB-DP-2端；第二模拟芯片的IN端连接USB_VCTL端，所述第二模拟芯片的NC端连接USB-DM-1端，第二模拟芯片的NO端连接USB-DM-2端，所述USB_VCTL端为低电平时，USB切换电路切换到USB-DM-1端，USB0-DM端短接到USB-DM-1端；当USB_VCTL端为高电平的时候，USB切换电路到USB-DM-2端，USB0-DM端短接到USB-DM-2端，AI视觉处理芯片是一种专门用于进行人工智能视觉处理的芯片，可以通过高速计算、图像分析和模式识别等特定功能，提供丰富的视觉处理能力，使用深度学习算法和其他相关技术，能够通过处理输入的图像和视频数据，为机器提供具有分析和理解能力的实时视觉数据输出；具有低功耗和低延迟的优点，具有高效率的计算性能并保持较长的电池续航能力。需要说明的是，上述具体实施方式仅仅为本发明的较佳实施例及所运用技术原理，在本发明所公开的技术范围内，任何熟悉本技术领域的技术人员在未背离本发明的精神实质与原理下所作的改变、修饰、替代、组合、简化，均应为等效的置换方式，都应涵盖在本发明的保护范围内。
