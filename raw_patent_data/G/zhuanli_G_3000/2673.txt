标题title
针对点云特征的多任务优化方法
摘要abst
本发明公开了一种针对点云特征的多任务优化方法，涉及计算机仿真与方法优化技术领域，包括：获取点云数据；对点云数据进行下采样，对下采样后的点云数据使用描述子提取算法提取点云特征，并将点云特征的数值尺度使用欧氏距离归一化，得到尺度初始归一化的点云特征；基于尺度初始归一化的点云特征，构建多个任务；初始化参数，基于改进的粒子群算法进行搜索，直到达到优化终止条件和优化点云个数，得到多个维度权重的点云特征；将维度权重的点云特征进行多特征加权投票，再进行上下界约束选择，得到最佳点云特征子集。本发明将不同的点云描述子组合，能够进行优势互补，从而达到更加鲁棒和精确的描述效果。
权利要求书clms
1.一种针对点云特征的多任务优化方法，其特征在于，包括：获取点云数据；对所述点云数据进行下采样，对下采样后的所述点云数据使用描述子提取算法提取点云特征，并将所述点云特征的数值尺度使用欧氏距离归一化，得到尺度初始归一化的点云特征；基于所述尺度初始归一化的点云特征，构建多个任务；其中，所述任务包括低维的点云特征任务和高维的点云特征任务；初始化参数，基于改进的粒子群算法进行搜索，直到达到优化终止条件和优化点云个数，得到多个维度权重的点云特征；其中，所述参数包括粒子种群大小、最大迭代次数、惯性权重、加速系数、随机交配概率、维度选择的上界和维度选择的下界；将所述维度权重的点云特征进行多特征加权投票，再进行上下界约束选择，得到最佳点云特征子集。2.根据权利要求1所述的针对点云特征的多任务优化方法，其特征在于，所述对所述点云数据进行下采样包括：获取所述点云数据在坐标系中X、Y和Z方向上的长度，分别为Lx、Ly和Lz；获取所述点云数据的体积，并将所述点云数据的体积均分成大小相等的多个立方体网格；判断所述立方体网格内是否存在点云数据，如果存在，则保留该所述立方体网格，如果不存在，则删除该所述立方体网格；获取保留的所述立方体网格的重心点的位置，将与所述立方体网格重心最近的所述点云数据保留，并将该所述立方体网格内的其他所述点云数据删除。3.根据权利要求2所述的针对点云特征的多任务优化方法，其特征在于，所述立方体网格的边长为L，其表达式为：其中，δ为采样率的倒数，s为调节因子，g为单位立方体网格中点云的数量。4.根据权利要求1所述的针对点云特征的多任务优化方法，其特征在于，所述对下采样后的所述点云数据使用描述子提取算法提取点云特征，并将所述点云特征的数值尺度使用欧氏距离归一化，得到尺度初始归一化的点云特征包括：根据备选的描述子，获取多个正确对应的点云对；根据正确对应的点云对，获取点云对的多个描述子的特征，并计算点云对的多个描述子之间的欧氏距离；获取多个正确对应的点云对的多个描述子之间的欧氏距离的平均值，并将不同描述子赋予初始权重值；将赋予初始权重值的多个描述子组合，得到尺度初始归一化的点云特征。5.根据权利要求1所述的针对点云特征的多任务优化方法，其特征在于，所述改进的粒子群算法包括：将低维的点云特征任务中的种群与高维的点云特征任务在通道一中通过交叉的方式进行知识传递；将低维的点云特征任务中的种群与高维的点云特征任务在通道二中通过最优个体映射的方式进行知识传递。6.根据权利要求1所述的针对点云特征的多任务优化方法，其特征在于，所述改进的粒子群算法还包括：优化搜索过程中的惯性权重ω，其表达式为：ω＝α*sin+1+rand；其中，t为当前搜索的代数，n为能控制惯性权重值波动的速度，α为小于0.5的小数，用于控制惯性权值波动的范围，rand为随机函数。7.根据权利要求1所述的针对点云特征的多任务优化方法，其特征在于，所述改进的粒子群算法还包括：优化搜索过程中的加速系数c1和c2，其表达式分别为：c1＝A*cos+B；c2＝2*B-c1；其中，A和B均为常数，d为当前代数，G为总代数。8.根据权利要求1所述的针对点云特征的多任务优化方法，其特征在于，所述将所述维度权重的点云特征进行多特征加权投票，再进行上下界约束选择，得到最佳点云特征子集包括：将所有所述维度权重的点云特征的精度累加，并获取每个所述维度权重的点云特征的精度的占比；将每个所述维度权重的点云特征的精度的占比作为权重，加权得到更新的维度权重的点云特征；将所述更新的维度权重的点云特征按照维度选择的上界和维度选择的下界筛选，即将小于维度选择下界的所述更新的维度权重的点云特征删除，将大于维度选择的上界的所述更新的维度权重的点云特征删除；得到最佳点云特征子集。
说明书desc
技术领域本发明属于计算机仿真与方法优化技术领域，具体涉及一种针对点云特征的多任务优化方法。背景技术近些年随着计算机性能的快速提升，以计算机为基础的图像处理技术发展十分迅速，已经应用到生活中的诸多领域。随着现实生活中图像应用需求的不断增长，二维图像已经无法满足人们对现实世界进行三维描述的要求，视觉研究者们开始重点关注包含深度信息的三维图像。目前，三维点云图像处理技术在三维重建、逆向工程、医疗成像、无人驾驶和虚拟现实等领域发挥着重要作用。在三维重建领域，科研人员使用Kinect采集三维点云图像，通过配准各个角度的三维数据，实现了物体实时三维重建，重建的三维场景有助于科研人员进行深入的数字化分析。三维点云粗配准旨在估计两组点云间的初始变换，使两组点云处于一个理想的位置，为后续精配准优化配准效果创造合适的条件。现有技术中，在三维点云粗配准阶段，主流的方法是利用点的局部描述子来确定正确的对应点并利用建立的对应点集计算刚体变换矩阵；由于点云模型存在对称性和局部相似性，面对各种复杂的点云，例如存在噪声、网格分辨率变化、杂波和遮挡等情况的点云，不同位置的点云的局部描述子会存在高度相似或者相同的问题，使利用局部描述子寻找对应点的准确性降低，从而降低配准精度。因此，继续改善现有技术中存在的缺陷，提高配准精度。发明内容为了解决现有技术中存在的上述问题，本发明提供了一种针对点云特征的多任务优化方法。本发明要解决的技术问题通过以下技术方案实现：第一方面，本发明提供一种针对点云特征的多任务优化方法，包括：获取点云数据；对点云数据进行下采样，对下采样后的点云数据使用描述子提取算法提取点云特征，并将点云特征的数值尺度使用欧氏距离归一化，得到尺度初始归一化的点云特征；基于尺度初始归一化的点云特征，构建多个任务；其中，任务包括低维的点云特征任务和高维的点云特征任务；初始化参数，基于改进的粒子群算法进行搜索，直到达到优化终止条件和优化点云个数，得到多个维度权重的点云特征；其中，参数包括粒子种群大小、最大迭代次数、惯性权重、加速系数、随机交配概率、维度选择的上界和维度选择的下界；将维度权重的点云特征进行多特征加权投票，再进行上下界约束选择，得到最佳点云特征子集。本发明的有益效果：本发明提供的一种针对点云特征的多任务优化方法，本实施例中提供的一种针对点云特征的多任务优化方法，考虑到3D点云不同的描述子存在不同的优缺点，面对各种复杂的点云，例如存在噪声、网格分辨率变化、杂波和遮挡等情况，较多的点云描述子均难以表现出较高的精确度以及鲁棒性，本发明将不同的点云描述子组合，能够进行优势互补，从而达到更加鲁棒和精确的描述效果。以下将结合附图及实施例对本发明做进一步详细说明。附图说明图1是本发明实施例提供的针对点云特征的多任务优化方法的一种流程图；图2是本发明实施例提供的针对点云特征的多任务优化方法的另一种流程图；图3是本发明实施例提供的斯坦福兔子的一种示意图；图4是本发明实施例提供的斯坦福怪兽的一种示意图；图5是本发明实施例提供的斯坦福龙的一种示意图；图6是本发明实施例提供的阈值1的精确度的一种示意图；图7是本发明实施例提供的阈值2的精确度的一种示意图；图8是本发明实施例提供的阈值1的正确对应点数量的一种示意图；图9是本发明实施例提供的阈值2的正确对应点数量的一种示意图；图10是本发明实施例提供的特征匹配结果的一种示意图；图11是本发明实施例提供的不同视角成功率对比的一种示意图；图12是本发明实施例提供的召回率与准确率曲线的一种示意图；图13是本发明实施例提供的召回率与准确率曲线的另一种示意图。具体实施方式下面结合具体实施例对本发明做进一步详细的描述，但本发明的实施方式不限于此。请参见图1和图2所示，图1是本发明实施例提供的针对点云特征的多任务优化方法的一种流程图，图2是本发明实施例提供的针对点云特征的多任务优化方法的另一种流程图，本发明所提供的一种针对点云特征的多任务优化方法，包括：S101、获取点云数据。具体而言，本实施例中，点云为多个点的集合，点云表示保留了三维空间中原始的集合信息，每个点云对应着一个三维坐标，其中，点云通过三维成像传感器获得，比如双目相机、三维扫描仪或RGB-D相机等。S102、对点云数据进行下采样，对下采样后的点云数据使用描述子提取算法提取点云特征，并将点云特征的数值尺度使用欧氏距离归一化，得到尺度初始归一化的点云特征。具体而言，本实施例中，随着三维点云采集设备精度的不断提高，采集设备获得的点云数量越来越庞大，虽然图像的精度得到了较好的提升，但是巨大的点云数据量会制约点云数据后续的处理和计算效率；因此，本实施例中对点云数据进行下采样，如此，不仅能够将点云中大量重复的冗余点云去除，还能够保留点云数据完整的几何结构特征；其中，对点云数据进行下采样包括：获取点云数据在坐标系中X、Y和Z方向上的长度，分别为Lx、Ly和Lz，以此可以确定点云数据的体积；获取点云数据的体积，并将点云数据的体积均分成大小相等的多个立方体网格；判断所述立方体网格内是否存在点云数据，如果存在，则保留该所述立方体网格，如果不存在，则删除该所述立方体网格；其中，根据点云的位置坐标，以及立方体网格的范围确定立方体网格内是否包括点云数据；获取保留的所述立方体网格的重心点的位置，将与所述立方体网格重心最近的所述点云数据保留，并将该所述立方体网格内的其他所述点云数据删除；可选地，当立方体网格的边长较小时，可以选择距离立方体网格最近的一个点云数据代表整个立方体网格，当立方体网格的边长较大时，可以选择距离立方体网格最近的几个点云数据代表整个立方体网格。立方体网格的边长L的表达式为：其中，δ为采样率的倒数，表示立方体网格内点云的数目，s为调节因子，g为单位立方体网格中实际存在的点云的数目。在完成点云数据下采样后，对点云数据使用描述子提取算法提取点云特征，为了衡量不同描述子的数值尺度大小，本实施例中采用对应点云对之间的欧氏距离标定的方式进行归一化，具体为：通过多片可以配准的点云，根据备选的描述子，获取多个正确对应的点云对；根据正确对应的点云对，获取点云对的多个描述子的特征，并计算点云对的多个描述子之间的欧氏距离；获取多个正确对应的点云对的多个描述子之间的欧氏距离的平均值，并将不同描述子赋予初始权重值；将赋予初始权重值的多个描述子组合，得到尺度初始归一化的点云特征。例如，第一片点云中的点云1和第二片点云中的点云2是正确对应的点云对，点云1和点云2之间的三个描述子的欧氏距离分别为FA、FB和FC。计算多个正确点云对的特征欧氏距离的平均值MFA、MFB和MFC，将不同描述子赋予一个初始的权重数值，分别为Ga、Gb和Gc，其表达式分别为：Ga＝MFA/；Gb＝MFB/；Gc＝MFC/；将初始权重分别赋予几个描述子后，将描述子组合得到尺度初始归一化的新的特征。S103、基于尺度初始归一化的点云特征，构建多个任务；其中，任务包括低维的点云特征任务和高维的点云特征任务。具体而言，本实施例中，将尺度初始归一化的点云特征，进行特征维度重组，构建多个任务，分别为低维的点云特征任务和高维的点云特征任务，其中，低维的点云特征任务为低维简单任务，高维的点云特征任务为高维复杂任务。S104、初始化参数，基于改进的粒子群算法进行搜索，直到达到优化终止条件和优化点云个数，得到多个维度权重的点云特征；其中，参数包括粒子种群大小、最大迭代次数、惯性权重、加速系数、随机交配概率、维度选择的上界和维度选择的下界。具体而言，本实施例中，本实施例中基于改进的粒子群算法优化低维的点云特征任务和高维的点云特征任务，需要构建粒子权算法，主要包括点云特征的维度、个体选择方式、个体选择条件以及目标函数设定，并初始化种群。其中，在粒子群算法中，每个个体一般称为“粒子”，所有粒子均在可行域内进行搜索，并由一个待解决问题决定的适应度函数对每个粒子所在位置的好坏进行评价。在搜索过程中，根据适应度函数值，保存粒子本身的最佳位置和种群当前最优位置，即个体最优位置和全局最优位置。在搜索过程中，粒子下一代位置将受当前粒子所处位置和飞行速度的影响，其中飞行速度是根据pbest和gbest进行动态调整，以确保搜索的高效性。假设种群中粒子个数为NP，可行域空间的维数为D，第i个粒子的位置和速度分别为：Xi＝；Vi＝；其中，i＝1，2，…，NP；在PSO算法中，第i个粒子将分别根据以下公式更新下一代的位置和飞行速度，位置和速度更新公式分别为：其中，t为当前迭代次数，为粒子i在迭代次数为t的飞行速度和位置，ω为惯性权重，用于调整上一代粒子速度对当前粒子速度的影响程度，c1和c2为加速系数，用于调节个体最优位置pbest和全局最优位置gbest对粒子速度的贡献度，r1和r2为范围内的随机数。基于改进的粒子群算法进行搜索的过程包括：首先，在维度为D的搜索空间中随机初始化生成的种群，给每个粒子赋予随机的初始位置和速度，设置多任务粒子群算法参数，包括粒子种群大小subpop，最大迭代次数MaxIt，惯性权重ω，加速系数c1、c2，随机交配概率rmp，维度选择的上界和维度选择的下界；其中，维度D表示算法优化的特征的维度，每个粒子的基因为一个D维的向量，表示要优化的特征。根据适应度函数，计算每个粒子的适应值；对每一个粒子，将其当前位置的适应值与其历史最佳位置对应的适应值比较，如果当前位置的适应值更高，则用当前位置更新为历史最佳位置，再将其当前位置的适应值与其全局最佳位置对应的适应值比较，如果当前位置的适应值更高，则用当前位置更新全局最佳位置。需要说明的是，改进的粒子群算法还包括，优化搜索过程中的惯性权重ω，其表达式为：ω＝α*sin+1+rand；其中，t为当前搜索的代数，n为能控制惯性权重值波动的速度，α为小于0.5的小数，用于控制惯性权值波动的范围，rand为随机函数，可以随机产生位于之间的数，α*sin+1的取值范围为，ω随着迭代次数在范围内动态改变，不仅可以有效调节搜索状态，还可以提升搜索过程的多样性。值较小的ω会使种群丧失探索能力，小的ω值对应的动量也小，使得粒子的方向会很容易变化；即较小的ω可以提升算法在局部区域的搜索能力，但会降低算法的收敛速度；较大的ω值能提升探索能力，增加多样性，从而避免过早收敛，但会降低最终解的质量，动态的ω能获得比固定值更好的寻优结果。改进的粒子群算法还包括：优化搜索过程中的加速系数c1和c2，其表达式分别为：c1＝A*cos+B；c2＝2*B-c1；其中，A和B均为常数，d为当前代数，G为总代数，c1和c2的值随搜索代数不断变化，c1和c2分别用于调整个体最优位置和全局最优位置在粒子速度更新中的贡献度大小，根据优化的不同时期动态调整c1和c2的值，有效的平衡PSO算法前期的追求的全局搜索能力和后期的局部搜索能力。其次，为了使得优化过程中能快速准确的定位到一个解空间内优越的位置，将压缩后的低维点云特征任务作为一个简单的搜索任务，此任务维度低并且能很大程度上保留特征的描述能力，并且较低的维度能有更小的搜索空间，将高维的点云特征任务作为复杂任务，高维特征描述能力更强，会更精确，两个任务之间信息传递为一个映射方式，简单任务将压缩后的特征映射至复杂任务的高维特征，使得两个任务形成一个双向的知识传递过程。采用多种群框架在任务1和任务2之间转移知识，为每个任务分配技能因子，其中，通道1采用交叉的方式转移知识，可以发生在不同或相同的子种群之间，通过分类交配共享知识，不仅可以提高每个子群体的多样性，还可以为寻找更好的特征子集提供帮助；具体的，在进化过程中，通道1中通过随机交配概率来控制何时从另一个任务转移知识；通道2采用了最优个体映射的方式通过显示的方式进行知识传递，在进化的每一代中，在两个任务通道中，将对应的种群间进行双向的知识转移；需要说明的是，简单任务作为一个搜索空间较小的任务能快速的定位至最优解附近，因此每一代简单任务的最优个体通过特征映射的方式将搜索到的结果传递给复杂任务，帮助复杂任务定位至最优解附近；考虑到简单任务的一个维度对应了复杂任务的一个组，因此复杂任务每个组不同维度搜索到的结果作为简单任务一个维度的局部搜索，将复杂任务最优个体每组求均值后传递给简单任务，从而形成双向循环的知识转移策略。S105、将维度权重的点云特征进行多特征加权投票，再进行上下界约束选择，得到最佳点云特征子集。具体而言，将所有维度权重的点云特征的精度累加，并获取每个维度权重的点云特征的精度的占比；将每个维度权重的点云特征的精度的占比作为权重，加权得到更新的维度权重的点云特征；将更新的维度权重的点云特征按照维度选择的上界和维度选择的下界筛选，即将小于维度选择下界的更新的维度权重的点云特征删除，将大于维度选择的上界的更新的维度权重的点云特征删除；得到最佳点云特征子集。综上所述，本实施例中提供的一种针对点云特征的多任务优化方法，考虑到3D点云不同的描述子存在不同的优缺点，面对各种复杂的点云，例如存在噪声、网格分辨率变化、杂波和遮挡等情况，较多的点云描述子均难以表现出较高的精确度以及鲁棒性，本申请将不同的点云描述子组合，能够进行优势互补，从而达到更加鲁棒和精确的描述效果。在本发明的一种可选地实施例中，使用本发明提供的方法对小物体级别的数据进行特征优化，并验证特征的对应点准确率，在小物体数据集的众多点云中挑选两片作为待匹配点云，将点云调整为合适的数据类型，之后通过特征描述子提取特征后即可输入到本发明提供的方法中进行优化，在物体数据集上进行实验，数据集信息如表1所示。表1小物体数据集信息点云名称点数量重叠率Stanford Dragon41.9k,34.8k94.6％,90.2％Stanford Armadillo28.2k,27.3k88.1％,79.9Stanford Happy78.1k,75.6k86.5％,85.0％Stanford Bunny40.3k,40.1k90.9％,88.4％子种群大小subpop＝60，最大迭代次数MaxIt＝50，惯性权重ω＝α*sin+1+rand，加速系数c1＝A*cos+B，c2＝2*B-c1，随机交配概率rmp＝0.3，点云的下采样率为0.1，其中提取特征描述子为SHOT、FPFH、SPIN IMAGE，维度选择上下界分别为r1＝0.1，r2＝0.9，在每个数据上的实验重复次数为20，界定正确对应点的阈值1为0.005，阈值2为0.01。点云的采样方式使用Matlab中的gridAverage方法，gridStep＝x*resolution，resolution为点云采样前的分辨率，对于斯坦福龙，x的值为15和7.5。可视化结果请参见图3～图5所示，图3是本发明实施例提供的斯坦福兔子的一种示意图，图4是本发明实施例提供的斯坦福怪兽的一种示意图，图5是本发明实施例提供的斯坦福龙的一种示意图，其中蓝色线条为小于阈值1的匹配点，红色为小于阈值2的匹配点。其中，在同一数据集的不同视角点云上进行了精确度的对比，不同视角下成功率对比的折线图6和图7所示，图6是本发明实施例提供的阈值1的精确度的一种示意图，图7是本发明实施例提供的阈值2的精确度的一种示意图。为了衡量新特征的能力，实验进行计算正确匹配点数量的，正确匹配点数量越多，说明新特征描述能力越强，区分不同对应点的效果越好，因此统计了不同阈值下，正确对应点的数量，请参见图8和图9所示，图8是本发明实施例提供的阈值1的正确对应点数量的一种示意图，图9是本发明实施例提供的阈值2的正确对应点数量的一种示意图。在本申请的一种可选地实施例中，使用本发明提供的方法对小物体的数据进行特征优化并进行点匹配，在部分重叠的数据集上模拟有遮挡的情况下的点匹配，在数据集的众多点云中挑选两片作为待匹配的点云，将点云调整为合适的数据类型，之后即可输入到本发明提供的方法中进行特征优化，然后衡量匹配的精度；在场景数据集上进行实验，数据集信息如表2所示。表2场景数据集信息点云对编号点数量重叠率Cb16459,67250.7159％Cb26459,72910.4191％Cb36459,67100.4712％Cb46459,62680.4838％Cb56459,62790.3813％Cb66459,48400.3405％Cb76459,49270.258％Cb86725,72910.6313％Cb96725,67100.4682％Cb106725,62680.4144％Cb116725,62790.2926％Cb126710,62680.5368％子种群大小subpop＝60，最大迭代次数MaxIt＝50，惯性权重ω＝α*sin+1+rand，加速系数c1＝A*cos+B，c2＝2*B-c1，随机交配概率rmp＝0.3，点云的下采样率为0.1，其中提取特征描述子为SHOT、FPFH，维度选择的上下界分别为r1＝0.1，r2＝0.9，在每个数据上的实验重复次数为20，界定正确对应点的阈值1为0.005，阈值2为0.01。点云的采样方式使用Matlab中的gridAverage方法，gridStep＝x*resolution，resolution是点云采样前的分辨率，对于Stanford Dragon，x的值为15和7.5。可视化结果请参见图10所示，图10是本发明实施例提供的特征匹配结果的一种示意图，其中蓝色线条为小于阈值1的匹配点，红色为小于阈值2的匹配点。不同视角成功率对比如图11所示，图11是本发明实施例提供的不同视角成功率对比的一种示意图。其中，计算的召回率与准确率曲线如图12和图13所示，图12是本发明实施例提供的召回率与准确率曲线的一种示意图，图13是本发明实施例提供的召回率与准确率曲线的另一种示意图。实验表明，采用本申请提供的方法得到的特征无论是在准确率还是在召回率上都优于原有的描述子，效果都有较大提升。应当说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的物品或者设备中还存在另外的相同要素。“连接”或者“相连”等类似的词语并非限定于物理的或者机械的连接，而是可以包括电性的连接，不管是直接的还是间接的。“上”、“下”、“左”、“右”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施例或示例。而且，描述的具体特征或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。此外，本领域的技术人员可以将本说明书中描述的不同实施例或示例进行接合和组合。以上内容是结合具体的优选实施方式对本发明所作的进一步详细说明，不能认定本发明的具体实施只局限于这些说明。对于本发明所属技术领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干简单推演或替换，都应当视为属于本发明的保护范围。
