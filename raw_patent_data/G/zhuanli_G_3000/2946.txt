标题title
一种识别铁路树木侵限的方法、系统及设备
摘要abst
本发明属于图像识别领域领域，具体涉及了一种识别铁路树木侵限的方法、系统及设备，旨在解决没有一种能够自动判断铁路沿线树木是否对行驶列车造成影响的方法的问题。本发明包括：采集包含目标铁路的场景图像；通过目标检测算法，获取树梢图像、立柱图像和近端轨道图像；基于近端轨道图像，获取轨道图像灭点；基于立柱图像，设置限高点；基于限高点与灭点连接，将包含目标铁路的场景图像划分为侵限判定区域和保留操作区域；判定树梢是否进入侵限判断区域。本发明利用线性透视原理，通过计算灭点并连接限高点自动对目标铁路的场景图像进行分析，能够快速、准确地判断铁路沿线的树木是否侵限，便于巡检人员及时维护，降低损耗和风险。
权利要求书clms
1.一种识别铁路树木侵限的方法，其特征在于，所述方法包括：步骤S10，将图像采集设备设置于轨道上方采集包含目标铁路的场景图像；步骤S20，基于所述包含目标铁路的场景图像，通过目标检测算法，获取树梢图像、立柱图像和轨道图像，并基于轨道图像获取近端轨道图像；步骤S30，基于所述近端轨道图像，获取轨道图像灭点；步骤S40，基于所述立柱图像，设置限高点；步骤S50，将同一包含目标铁路的场景图像中的数个所述限高点连接后再与所述灭点连接获得图像分割线，所述图像分割线将所述包含目标铁路的场景图像划分为侵限判定区域和保留操作区域；步骤S60，基于所述树梢图像和侵限判定区域，判断树梢是否进入侵限判断区域，获得铁路树木侵限判断结果。2.根据权利要求1所述的一种识别铁路树木侵限的方法，其特征在于，所述目标检测算法，通过yolo算法实现。3.根据权利要求1所述的一种识别铁路树木侵限的方法，其特征在于，所述步骤S30，具体包括：将所述近端轨道图像进行滤波、二值化和纵向边缘检测的方法获取去噪后近端轨道图像；基于所述去噪后近端轨道图像，通过拟合算法获取两条直线，作为轨道拟合直线；基于所述轨道拟合直线，搜索轨道拟合直线在图像内的交点，作为轨道图像灭点。4.根据权利要求1所述的一种识别铁路树木侵限的方法，其特征在于，所述步骤S40，具体包括：以立柱图像中的设定百分比高度作为限高点，为图像中的每一个立柱设定限高点。5.根据权利要求1所述的一种识别铁路树木侵限的方法，其特征在于，所述步骤S50，具体包括：将同一包含目标铁路的场景图像中的数个所述限高点连接后与灭点连接获得连接线，并将连接线沿近端延伸获得图像分割线；图像分割线为以灭点为公共点且分别与两条轨道对应的两条线段；图像分割线将所述包含目标铁路的场景图像分为两个区域；其中，上方区域为侵限判定区域，下方区域为保留操作区域。6.根据权利要求1所述的一种识别铁路树木侵限的方法，其特征在于，所述步骤S60，具体包括：基于所述灭点绘制垂直线；将垂直线左边的树梢图像记为左侧树梢图像，将垂直线右边的树梢图像记为右侧树梢图像；将垂直线左边的侵限判定区域记为左侵限判定区域，将垂直线右边的侵限判定区域记为右侵限判定区域；若存在左侧树梢图像进入左侵限判定区或右侧树梢图像进入右侵限判定区域，则铁路树木侵限判断结果为存在侵限情况；否则铁路树木侵限判断结果为不存在侵限情况。7.一种识别铁路树木侵限的系统，其特征在于，包括：图像获取模块、目标识别模块、灭点获取模块、限高点设置模块、侵限判定区域划分模块和侵限判断模块；所述图像获取模块，配置为将图像采集设备设置于轨道上方采集包含目标铁路的场景图像；所述目标识别模块，配置为基于所述包含目标铁路的场景图像，通过目标检测算法，获取树梢图像、立柱图像和轨道图像，并基于轨道图像获取近端轨道图像；所述灭点获取模块，配置为基于所述近端轨道图像，获取轨道图像灭点；所述限高点设置模块，配置为基于所述立柱图像，设置限高点；侵限判定区域划分模块，配置为将同一包含目标铁路的场景图像中的数个所述限高点连接后再与所述灭点连接获得图像分割线，所述图像分割线将所述包含目标铁路的场景图像划分为侵限判定区域和保留操作区域；侵限判断模块，配置为基于所述树梢图像和侵限判定区域，判断树梢是否进入侵限判断区域，获得铁路树木侵限判断结果。8.一种电子设备，其特征在于，包括：至少一个处理器；以及与至少一个所述处理器通信连接的存储器；其中，所述存储器存储有可被所述处理器执行的指令，所述指令用于被所述处理器执行以实现权利要求1-6任一项所述的一种识别铁路树木侵限的方法。9.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于被计算机执行以实现权利要求1-6任一项所述的一种识别铁路树木侵限的方法。
说明书desc
技术领域本发明属于图像识别领域，具体涉及了一种识别铁路树木侵限的方法、系统及设备。背景技术铁路交通由于其安全、可靠的优势成为人们出行的主流交通方式之一。铁路两边经常出现树木刮到行驶的列车的情况，容易对列车造成安全隐患或损坏，目前没有一种能够自动判断铁路沿线树木是否对行驶列车造成影响的方法，不利于巡检人员及时排除风险，降低损耗。发明内容为了解决现有技术中的上述问题，即现有技术无法识别铁路沿线树木是否对行驶列车产生影响的问题，本发明提供了一种识别铁路树木侵限的方法，所述方法包括：步骤S10，将图像采集设备设置于轨道上方采集包含目标铁路的场景图像；步骤S20，基于所述包含目标铁路的场景图像，通过目标检测算法，获取树梢图像、立柱图像和轨道图像，并基于轨道图像获取近端轨道图像；步骤S30，基于所述近端轨道图像，获取轨道图像灭点；步骤S40，基于所述立柱图像，设置限高点；步骤S50，将同一包含目标铁路的场景图像中的数个所述限高点连接后再与所述灭点连接获得图像分割线，所述图像分割线将所述包含目标铁路的场景图像划分为侵限判定区域和保留操作区域；步骤S60，基于所述树梢图像和侵限判定区域，判断树梢是否进入侵限判断区域，获得铁路树木侵限判断结果。在一些优选的实施方式中，所述目标检测算法，通过yolo算法实现。在一些优选的实施方式中，所述步骤S30，具体包括：将所述近端轨道图像进行滤波、二值化和纵向边缘检测的方法获取去噪后近端轨道图像；基于所述去噪后近端轨道图像，通过拟合算法获取两条直线，作为轨道拟合直线；基于所述轨道拟合直线，搜索轨道拟合直线在图像内的交点，作为轨道图像灭点。在一些优选的实施方式中，所述步骤S40，具体包括：以立柱图像中的设定百分比高度作为限高点，为图像中的每一个立柱设定限高点。在一些优选的实施方式中，所述步骤S50，具体包括：将同一包含目标铁路的场景图像中的数个所述限高点连接后与灭点连接获得连接线，并将连接线沿近端延伸获得图像分割线；图像分割线为以灭点为公共点且分别与两条轨道对应的两条线段；图像分割线将所述包含目标铁路的场景图像分为两个区域；其中，上方区域为侵限判定区域，下方区域为保留操作区域。在一些优选的实施方式中，所述步骤S60，具体包括：基于所述灭点绘制垂直线；将垂直线左边的树梢图像记为左侧树梢图像，将垂直线右边的树梢图像记为右侧树梢图像；将垂直线左边的侵限判定区域记为左侵限判定区域，将垂直线右边的侵限判定区域记为右侵限判定区域；若存在左侧树梢图像进入左侵限判定区或右侧树梢图像进入右侵限判定区域，则铁路树木侵限判断结果为存在侵限情况；否则铁路树木侵限判断结果为不存在侵限情况。本发明的另一方面，提出了一种识别铁路树木侵限的系统，所述系统包括：图像获取模块、目标识别模块、灭点获取模块、限高点设置模块、侵限判定区域划分模块和侵限判断模块；所述图像获取模块，配置为将图像采集设备设置于轨道上方采集包含目标铁路的场景图像；所述目标识别模块，配置为基于所述包含目标铁路的场景图像，通过目标检测算法，获取树梢图像、立柱图像和轨道图像，并基于轨道图像获取近端轨道图像；所述灭点获取模块，配置为基于所述近端轨道图像，获取轨道图像灭点；所述限高点设置模块，配置为基于所述立柱图像，设置限高点；侵限判定区域划分模块，配置为将同一包含目标铁路的场景图像中的数个所述限高点连接后再与所述灭点连接获得图像分割线，所述图像分割线将所述包含目标铁路的场景图像划分为侵限判定区域和保留操作区域；侵限判断模块，配置为基于所述树梢图像和侵限判定区域，判断树梢是否进入侵限判断区域，获得铁路树木侵限判断结果。本发明的第三方面，提出了一种电子设备，包括：至少一个处理器；以及与至少一个所述处理器通信连接的存储器；其中，所述存储器存储有可被所述处理器执行的指令，所述指令用于被所述处理器执行以实现上述的一种识别铁路树木侵限的方法。本发明的第四方面，提出了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于被计算机执行以实现上述的一种识别铁路树木侵限的方法。本发明的有益效果：本发明利用线性透视原理，通过计算灭点并连接限高点自动对目标铁路的场景图像进行分析，能够快速、准确地判断铁路沿线的树木是否侵限，便于巡检人员及时维护，降低损耗和风险。附图说明通过阅读参照以下附图所作的对非限制性实施例所作的详细描述，本申请的其它特征、目的和优点将会变得更明显：图1是本发明实施例中的一种识别铁路树木侵限的方法的流程示意图。具体实施方式下面结合附图和实施例对本申请作进一步的详细说明。可以理解的是，此处所描述的具体实施例仅用于解释相关发明，而非对该发明的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与有关发明相关的部分。需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。下面将参考附图并结合实施例来详细说明本申请。为了更清晰地对本发明的一种识别铁路树木侵限的方法进行说明，下面结合图1对本发明实施例中各步骤展开详述。本发明第一实施例的一种识别铁路树木侵限的方法，包括步骤S10-步骤S60，各步骤详细描述如下：步骤S10，将图像采集设备设置于轨道上方采集包含目标铁路的场景图像。在本实施例中，可通过在车头和车尾的同一高度设置摄像头并调整拍摄角度使以获取所述包含目标铁路的场景图像，在列车运行的过程中即可获取并记录所经过沿线的全部的场景图像；步骤S20，基于所述包含目标铁路的场景图像，通过目标检测算法，获取树梢图像、立柱图像和轨道图像，并基于轨道图像获取近端轨道图像。本实施例中只需获取最内侧的树梢和最高处的树梢图像及其位置，立柱图像仅需检测出由视野近端向视野远端的最少三个立柱即可实现。在本实施例中，所述目标检测算法，通过yolo算法实现。步骤S30，基于所述近端轨道图像，获取轨道图像灭点。在本实施例中，所述步骤S30，具体包括：将所述近端轨道图像进行滤波、二值化和纵向边缘检测的方法获取去噪后近端轨道图像；基于所述去噪后近端轨道图像，通过拟合算法获取两条直线，作为轨道拟合直线；基于所述轨道拟合直线，搜索轨道拟合直线在图像内的交点，作为轨道图像灭点。线性透视学研究的是合乎科学规则地在2D图中再现物体的实际空间位置的理论，在灭点线性透视中，两条或多条代表平行线条向远处地平线伸展直至聚合的那一点，所以高速铁路接触网安全巡检2C图即本实施例获得的包含目标铁路的场景图像中所有平行于视中线的平行线如铁轨两根钢轨，两侧柱子的某个固定位置如柱顶，在无穷远处都会汇聚于一点，形成单点透视。步骤S40，基于所述立柱图像，设置限高点。在本实施例中，所述步骤S40，具体包括：以立柱图像中的设定百分比高度作为限高点，为图像中的每一个立柱设定限高点。步骤S50，将同一包含目标铁路的场景图像中的数个所述限高点连接后再与所述灭点连接获得图像分割线，所述图像分割线将所述包含目标铁路的场景图像划分为侵限判定区域和保留操作区域。在本实施例中，所述步骤S50，具体包括：将同一包含目标铁路的场景图像中的数个所述限高点连接后与灭点连接获得连接线，并将连接线沿近端延伸获得图像分割线；图像分割线为以灭点为公共点且分别与两条轨道对应的两条线段；由于可能存在某一侧只存在一两个限高点的情况，通过“灭点”作为共同“原点”的方式能够提高计算的准确性。由于将限高点连线连接后再连接灭点不一定是标准的直线，因此本实施例采用将图像连接线通过最小二乘法拟合为直线作为延伸线，获得最终的图像分割线。图像分割线将所述包含目标铁路的场景图像分为两个区域；其中，上方区域为侵限判定区域，下方区域为保留操作区域。本发明利用透视原理，通过图像算法找到距离铁路两旁的柱子，并设定与铁路平行的固定距离的边界，规划出树木侵限的“安全墙”，即侵限判定区域，通过深度学习模型识别出具体的树梢位置，判断树梢是否越过这个“安全墙”。步骤S60，基于所述树梢图像和侵限判定区域，判断树梢是否进入侵限判断区域，获得铁路树木侵限判断结果。在本实施例中，所述步骤S60，具体包括：基于所述灭点绘制垂直线；将垂直线左边的树梢图像记为左侧树梢图像，将垂直线右边的树梢图像记为右侧树梢图像；将垂直线左边的侵限判定区域记为左侵限判定区域，将垂直线右边的侵限判定区域记为右侵限判定区域；若存在左侧树梢图像进入左侵限判定区或右侧树梢图像进入右侵限判定区域，则铁路树木侵限判断结果为存在侵限情况；否则铁路树木侵限判断结果为不存在侵限情况。侵限树木由于近大远小效应，在中近处距离处一定会进入侵限判定区域内，即图像的左上区域和右上区域。根据数学计算判断树梢位置是否位于侵限判定区域内，即左侧树木是否在左侧判定线右侧或右侧树木是否在右侧判定线左侧，比如ax+by+c＞0表示在左侧判定线右侧或ax+by+c＜0表示在右侧判定线左侧，即完成对树梢是否进入侵限区域内的检测。在本实施例中，通常以近端50m的距离认定为中近距离，因两个立柱间距为50m，所以当最近端立柱消失在图片边缘时下一个最近立柱所在位置即为50m处。图像是单点透视，所以在此立柱外侧区域一定包含中近距离的侵限树木，也可能包含一些稍远处侵限树木，在之后的帧中就会变为中近处侵限树木，在远处时可暂时不进行分析。通过设置在车头或车尾的摄像头实时判断沿线各个航段是否出现树木侵限的问题，并通过定位系统将出现树木侵限问题的具体位置和朝向上传至巡检人员的移动端。所述定位系统，包括人造卫星定位系统和惯性定位系统；所述惯性定位系统，包括以各个车站为起点，通过火车上的速度传感器计算初步移动距离；通过对设置于车头的摄像头获得的包含目标铁路的场景图像中轨道图像进行识别，当轨道图像中出现轨道曲率大于预设的阈值时，记录轨道曲率重新低于所述阈值时的位置为第一锚点，对设置于车尾的摄像头获得的包含目标铁路的场景图像中的轨道图像中出现轨道曲率恰好大于预设的阈值的位置作为第二锚点；或将车头、车尾识别出侵限位置的点分别作为第三锚点和第四锚点，通过第一锚点出现的时间、第二锚点出现的时间、第三锚点出现的时间第四锚点出现的时间和列车长度及车速对列车的行进速度和位置进行校正，获得列车的具体位置；进而将由车头的摄像头识别出存在树木侵限的位置和由车尾的摄像头识别出存在树木侵限的准确位置上传至巡检人员的移动端。当立柱的编号存在视觉遮挡或摄像头的动态拍摄效果欠佳时，也可通过利用图像的方式进行位置的选定，并利用图像中的拐弯点和出现树木侵限的点作为锚点、或将航线分为多个航段，以获得准确的树木侵限位置，为巡检人员及时维护提供便利。上述实施例中虽然将各个步骤按照上述先后次序的方式进行了描述，但是本领域技术人员可以理解，为了实现本实施例的效果，不同的步骤之间不必按照这样的次序执行，其可以同时执行或以颠倒的次序执行，这些简单的变化都在本发明的保护范围之内。本发明第二实施例的一种识别铁路树木侵限的系统，所述系统包括：图像获取模块、目标识别模块、灭点获取模块、限高点设置模块、侵限判定区域划分模块和侵限判断模块；所述图像获取模块，配置为将图像采集设备设置于轨道上方采集包含目标铁路的场景图像；所述目标识别模块，配置为基于所述包含目标铁路的场景图像，通过目标检测算法，获取树梢图像、立柱图像和轨道图像，并基于轨道图像获取近端轨道图像；所述灭点获取模块，配置为基于所述近端轨道图像，获取轨道图像灭点；所述限高点设置模块，配置为基于所述立柱图像，设置限高点；侵限判定区域划分模块，配置为将同一包含目标铁路的场景图像中的数个所述限高点连接后再与所述灭点连接获得图像分割线，所述图像分割线将所述包含目标铁路的场景图像划分为侵限判定区域和保留操作区域；侵限判断模块，配置为基于所述树梢图像和侵限判定区域，判断树梢是否进入侵限判断区域，获得铁路树木侵限判断结果。所属技术领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统的具体工作过程及有关说明，可以参考前述方法实施例中的对应过程，在此不再赘述。需要说明的是，上述实施例提供的一种识别铁路树木侵限的系统，仅以上述各功能模块的划分进行举例说明，在实际应用中，可以根据需要而将上述功能分配由不同的功能模块来完成，即将本发明实施例中的模块或者步骤再分解或者组合，例如，上述实施例的模块可以合并为一个模块，也可以进一步拆分成多个子模块，以完成以上描述的全部或者部分功能。对于本发明实施例中涉及的模块、步骤的名称，仅仅是为了区分各个模块或者步骤，不视为对本发明的不当限定。本发明第三实施例的一种电子设备，包括：至少一个处理器；以及与至少一个所述处理器通信连接的存储器；其中，所述存储器存储有可被所述处理器执行的指令，所述指令用于被所述处理器执行以实现上述的一种识别铁路树木侵限的方法。本发明第四实施例的一种计算机可读存储介质，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于被计算机执行以实现上述的一种识别铁路树木侵限的方法。所属技术领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的存储装置、处理装置的具体工作过程及有关说明，可以参考前述方法实施例中的对应过程，在此不再赘述。本领域技术人员应该能够意识到，结合本文中所公开的实施例描述的各示例的模块、方法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，软件模块、方法步骤对应的程序可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。为了清楚地说明电子硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以电子硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。本领域技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。术语“第一”、“第二”等是用于区别类似的对象，而不是用于描述或表示特定的顺序或先后次序。术语“包括”或者任何其它类似用语旨在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备/装置不仅包括那些要素，而且还包括没有明确列出的其它要素，或者还包括这些过程、方法、物品或者设备/装置所固有的要素。至此，已经结合附图所示的优选实施方式描述了本发明的技术方案，但是，本领域技术人员容易理解的是，本发明的保护范围显然不局限于这些具体实施方式。在不偏离本发明的原理的前提下，本领域技术人员可以对相关技术特征做出等同的更改或替换，这些更改或替换之后的技术方案都将落入本发明的保护范围之内。
