标题title
一种基于智慧文旅的景区安全实时监控系统及方法
摘要abst
本发明属于监控领域，公开了一种基于智慧文旅的景区安全实时监控系统及方法，系统包括区域划分模块、拍摄角度获取模块、拍摄时长计算模块和拍摄模块，区域划分模块用于对可旋转的监控摄像头的监控区域进行分区，将监控区域分为多个拍摄区域；拍摄角度获取模块用于获取每个拍摄区域的拍摄角度；拍摄时长计算模块用于按照预设的计算策略获取每个拍摄角度的拍摄时长；拍摄模块用于基于控制可旋转摄像头根据拍摄角度和拍摄时长进行拍摄，获得监控视频。本发明还提供了上述系统所对应的方法。本发明大幅度降低了出现拍摄区域的拍摄时长过长或者是拍摄时长过短的问题的概率，有效地提高了对景区进行安全监控的质量。
权利要求书clms
1.一种基于智慧文旅的景区安全实时监控系统，其特征在于，包括区域划分模块、拍摄角度获取模块、拍摄时长计算模块和拍摄模块，区域划分模块用于对可旋转的监控摄像头的监控区域进行分区，将监控区域分为多个拍摄区域；拍摄角度获取模块用于获取每个拍摄区域的拍摄角度；拍摄时长计算模块用于按照预设的计算策略获取每个拍摄角度的拍摄时长；拍摄模块用于基于控制可旋转摄像头根据拍摄角度和拍摄时长进行拍摄，获得监控视频；其中，拍摄时长的计算函数为：，和/＞分别表示拍摄角度k的第q+1个和第q个拍摄时长，/＞和分别表示根据第q个拍摄时长和第q-1个拍摄时长从拍摄角度k进行拍摄所获得的监控视频中的变动区域的平均大小，/＞表示从拍摄角度k进行拍摄所获得的监控视频的画面的大小，/＞表示预先设置的时间长度，/＞表示比较函数，，/＞表示设定的大于0的计算参数。2.根据权利要求1所述的一种基于智慧文旅的景区安全实时监控系统，其特征在于，还包括画面传输模块和监控模块；画面传输模块用于将拍摄模块所获得的监控视频传输至监控模块；监控模块用于根据预设的规则对监控视频进行展示。3.根据权利要求2所述的一种基于智慧文旅的景区安全实时监控系统，其特征在于，根据预设的规则对监控视频进行展示，包括：按照拍摄顺序将监控视频中包含的视频帧保存到集合；根据预设的规则分别对集合中的每个视频帧进行处理，获得处理后的视频帧；按照拍摄顺序将所有处理后的视频帧保存到集合；将中的视频帧依次输出到显示装置，实现监控视频的展示。4.根据权利要求3所述的一种基于智慧文旅的景区安全实时监控系统，其特征在于，根据预设的规则分别对集合中的每个视频帧进行处理，获得处理后的视频帧，包括：对集合中的视频帧/＞进行处理的过程如下：将监控视频的拍摄角度记为d，获取拍摄角度d的对比图像；将对比图像和/＞进行对比，获得/＞中的对比像素点的集合/＞；获取中的边界像素点；在中对边界像素点进行连接，获得处理后的视频帧/＞。5.根据权利要求4所述的一种基于智慧文旅的景区安全实时监控系统，其特征在于，将对比图像和/＞进行对比，获得/＞中的对比像素点的集合/＞，包括：分别对和/＞进行灰度化处理，获得/＞和/＞；获取中的像素点/＞在/＞中对应的像素点/＞；计算和/＞之间的对比参数/＞：，/＞和分别表示/＞和/＞的灰度值；若大于预先设置的对比参数阈值，则/＞中与像素点的坐标相同的像素点为对比像素点。6.根据权利要求4所述的一种基于智慧文旅的景区安全实时监控系统，其特征在于，获取中的边界像素点，包括：对于中的第i行的像素点，采用如下方式获取第i行的像素点中的边界像素点：若第i行的像素点中的属于对比像素点的像素点的数量为0，则表示第i行的像素点中不存在边界像素点；若第i行的像素点中的属于对比像素点的像素点的数量大于0且小于等于2，则直接将第i行的像素点中所有的对比像素点作为边界像素点；若第i行的像素点中的属于对比像素点的像素点的数量大于2，则将第i行中横坐标最大和横坐标最小的对比像素点作为边界像素点；对于中的第j列的像素点，采用如下方式获取第j列的像素点中的边界像素点：若第j列的像素点中的属于对比像素点的像素点的数量为0，则表示第j列的像素点中不存在边界像素点；若第j列的像素点中的属于对比像素点的像素点的数量大于0且小于等于2，则直接将第j列的像素点中所有的对比像素点作为边界像素点；若第j列的像素点中的属于对比像素点的像素点的数量大于2，则将第j列中纵坐标最大和纵坐标最小的对比像素点作为边界像素点。7.根据权利要求6所述的一种基于智慧文旅的景区安全实时监控系统，其特征在于，在中对边界像素点进行连接，获得处理后的视频帧/＞，包括；获取中包含有边界像素点的行的纵坐标的集合/＞；对中的元素按照从小到大的顺序的进行排序，得到集合/＞；对于集合中的第n个元素/＞，n小于等于/＞，/＞表示/＞中的元素的数量，获取/＞中第/＞行和第/＞行中的边界像素点；若第行中的边界像素点只有一个，且第/＞行中的边界像素点也只有一个，则直接连接第/＞行中的边界像素点和第/＞行中的边界像素点；若第行中的边界像素点只有一个，第/＞行中的边界像素点有两个，则将第行中的边界像素点分别与第/＞行中的每个边界像素点进行连接；若第行中的边界像素点有两个，第/＞行中的边界像素点有两个，则将第行中的横坐标较小的边界像素点与第/＞行中的横坐标较小的像素点进行连接；将第/＞行中的坐标较大的边界像素点与第/＞行中的横坐标较大的像素点进行连接；若第行中的边界像素点有两个，第/＞行中的边界像素点有一个，则将第行中的边界像素点分别与第/＞行中的每个边界像素点进行连接。8.一种基于智慧文旅的景区安全实时监控方法，其特征在于，包括：S1，对可旋转的监控摄像头的监控区域进行分区，将监控区域分为多个拍摄区域；S2，获取每个拍摄区域的拍摄角度；S3，按照预设的计算策略获取每个拍摄角度的拍摄时长；S4，基于控制可旋转摄像头根据拍摄角度和拍摄时长进行拍摄，获得监控视频；其中，拍摄时长的计算函数为：，和/＞分别表示拍摄角度k的第q+1个和第q个拍摄时长，/＞和分别表示根据第q个拍摄时长和第q-1个拍摄时长从拍摄角度k进行拍摄所获得的监控视频中的变动区域的平均大小，/＞表示从拍摄角度k进行拍摄所获得的监控视频的画面的大小，/＞表示预先设置的时间长度，/＞表示比较函数，/＞，/＞表示设定的大于0的计算参数。
说明书desc
技术领域本发明涉及监控领域，尤其涉及一种基于智慧文旅的景区安全实时监控系统及方法。背景技术现有的景区实时监控系统，为了在较低的成本下实现较大范围的监控，往往采用的都是可旋转的监控摄像头，这种监控摄像头能够以设定的角速度进行360度旋转或者是能够按照控制终端发出的控制指令进行旋转，例如，旋转到特定的角度。但是，这种监控方式存在着一定的缺点，因为现有的景区监控系统一般都是通过人眼识别的方式来判断监控画面中是否出现异常事件，而监控摄像头的监控区域内的不同的拍摄区域的人数往往并不相同，若以固定的角速度进行旋转拍摄，则会出现对人数过少的拍摄区域进行监控拍摄时，拍摄时长过长的情况，因为负责查看监控画面的工作人员可以很快地完成该拍摄区域的监控画面的中是否出现异常事件的判断；也会出现对人数过多的拍摄区域拍摄时长过短的情况，因为监控画面中的人数过多，负责查看监控画面的工作人员可能还没判断好该拍摄区域的监控画面的中是否出现异常事件，监控画面便已经切换到另一个拍摄区域了。异常事件包括不文明行为、游客受伤、异常聚集等。发明内容本发明的目的在于公开一种基于智慧文旅的景区安全实时监控系统及方法，解决如何对景区内的可旋转的监控摄像头的进行拍摄控制，降低出现拍摄区域的拍摄时长过长或者是拍摄时长过短的问题的概率，从而提高对景区进行安全监控的质量的问题。为了达到上述目的，本发明提供如下技术方案：一个方面，本发明提供了一种基于智慧文旅的景区安全实时监控系统，包括区域划分模块、拍摄角度获取模块、拍摄时长计算模块和拍摄模块，区域划分模块用于对可旋转的监控摄像头的监控区域进行分区，将监控区域分为多个拍摄区域；拍摄角度获取模块用于获取每个拍摄区域的拍摄角度；拍摄时长计算模块用于按照预设的计算策略获取每个拍摄角度的拍摄时长；拍摄模块用于基于控制可旋转摄像头根据拍摄角度和拍摄时长进行拍摄，获得监控视频；其中，拍摄时长的计算函数为：和/＞分别表示拍摄角度k的第q+1个和第q个拍摄时长，/＞和/＞分别表示根据第q个拍摄时长和第q-1个拍摄时长从拍摄角度k进行拍摄所获得的监控视频中的变动区域的平均大小，/＞表示从拍摄角度k进行拍摄所获得的监控视频的画面的大小，/＞表示预先设置的时间长度，/＞表示比较函数，表示设定的大于0的计算参数。优选地，还包括画面传输模块和监控模块；画面传输模块用于将拍摄模块所获得的监控视频传输至监控模块；监控模块用于根据预设的规则对监控视频进行展示。优选地，根据预设的规则对监控视频进行展示，包括：按照拍摄顺序将监控视频中包含的视频帧保存到集合；根据预设的规则分别对集合中的每个视频帧进行处理，获得处理后的视频帧；按照拍摄顺序将所有处理后的视频帧保存到集合；将中的视频帧依次输出到显示装置，实现监控视频的展示。优选地，根据预设的规则分别对集合中的每个视频帧进行处理，获得处理后的视频帧，包括：对集合中的视频帧/＞进行处理的过程如下：将监控视频的拍摄角度记为d，获取拍摄角度d的对比图像；将对比图像和/＞进行对比，获得/＞中的对比像素点的集合；获取中的边界像素点；在中对边界像素点进行连接，获得处理后的视频帧/＞。优选地，将对比图像和/＞进行对比，获得/＞中的对比像素点的集合/＞，包括：分别对和/＞进行灰度化处理，获得/＞和/＞；获取中的像素点/＞在/＞中对应的像素点/＞；计算和/＞之间的对比参数/＞：和/＞分别表示/＞和/＞的灰度值；若大于预先设置的对比参数阈值，则/＞中与像素点/＞的坐标相同的像素点为对比像素点。优选地，获取中的边界像素点，包括：对于中的第i行的像素点，采用如下方式获取第i行的像素点中的边界像素点：若第i行的像素点中的属于对比像素点的像素点的数量为0，则表示第i行的像素点中不存在边界像素点；若第i行的像素点中的属于对比像素点的像素点的数量大于0且小于等于2，则直接将第i行的像素点中所有的对比像素点作为边界像素点；若第i行的像素点中的属于对比像素点的像素点的数量大于2，则将第i行中横坐标最大和横坐标最小的对比像素点作为边界像素点；对于中的第j列的像素点，采用如下方式获取第j列的像素点中的边界像素点：若第j列的像素点中的属于对比像素点的像素点的数量为0，则表示第j列的像素点中不存在边界像素点；若第j列的像素点中的属于对比像素点的像素点的数量大于0且小于等于2，则直接将第j列的像素点中所有的对比像素点作为边界像素点；若第j列的像素点中的属于对比像素点的像素点的数量大于2，则将第j列中纵坐标最大和纵坐标最小的对比像素点作为边界像素点。优选地，在中对边界像素点进行连接，获得处理后的视频帧/＞，包括；获取中包含有边界像素点的行的纵坐标的集合/＞；对中的元素按照从小到大的顺序的进行排序，得到集合/＞；对于集合中的第n个元素/＞，n小于等于/＞，/＞表示中的元素的数量，获取/＞中第/＞行和第/＞行中的边界像素点；若第行中的边界像素点只有一个，且第/＞行中的边界像素点也只有一个，则直接连接第/＞行中的边界像素点和第/＞行中的边界像素点；若第行中的边界像素点只有一个，第/＞行中的边界像素点有两个，则将第/＞行中的边界像素点分别与第/＞行中的每个边界像素点进行连接；若第行中的边界像素点有两个，第/＞行中的边界像素点有两个，则将第/＞行中的横坐标较小的边界像素点与第/＞行中的横坐标较小的像素点进行连接；将第/＞行中的坐标较大的边界像素点与第/＞行中的横坐标较大的像素点进行连接；若第行中的边界像素点有两个，第/＞行中的边界像素点有一个，则将第/＞行中的边界像素点分别与第/＞行中的每个边界像素点进行连接。另一个方面，本发明提供了一种基于智慧文旅的景区安全实时监控方法，包括：S1，对可旋转的监控摄像头的监控区域进行分区，将监控区域分为多个拍摄区域；S2，获取每个拍摄区域的拍摄角度；S3，按照预设的计算策略获取每个拍摄角度的拍摄时长；S4，基于控制可旋转摄像头根据拍摄角度和拍摄时长进行拍摄，获得监控视频；其中，拍摄时长的计算函数为：和/＞分别表示拍摄角度k的第q+1个和第q个拍摄时长，/＞和/＞分别表示根据第q个拍摄时长和第q-1个拍摄时长从拍摄角度k进行拍摄所获得的监控视频中的变动区域的平均大小，/＞表示从拍摄角度k进行拍摄所获得的监控视频的画面的大小，/＞表示预先设置的时间长度，/＞表示比较函数，表示设定的大于0的计算参数。与现有技术相比，本发明通过对可旋转摄像头的监控区域进行分区，然后分别计算每个拍摄区域的拍摄时长，拍摄时长能够随着变动区域的平均大小的变化而变化，从而能够在变动区域呈现增加的趋势时，增加拍摄区域的所对应的拍摄角度的拍摄时长，在变动区域呈现减少的趋势时，减少拍摄区域的所对应的拍摄角度的拍摄时长，而且，拍摄时长的变化幅度还与变动区域的变化幅度相关，变动区域的变化幅度越大，则拍摄时长的变化幅度也越大，从而能够更为准确地确定每个拍摄角度的拍摄时长，从而大幅度降低了出现拍摄区域的拍摄时长过长或者是拍摄时长过短的问题的概率，有效地提高了对景区进行安全监控的质量。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例描述所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明一种基于智慧文旅的景区安全实时监控系统的一种示意图。图2为本发明一种基于智慧文旅的景区安全实时监控系统的另一种示意图。图3为本发明一种基于智慧文旅的景区安全实时监控方法的一种示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。实施例一：如图1所示的一种实施例，本发明提供了一种基于智慧文旅的景区安全实时监控系统，包括区域划分模块、拍摄角度获取模块、拍摄时长计算模块和拍摄模块，区域划分模块用于对可旋转的监控摄像头的监控区域进行分区，将监控区域分为多个拍摄区域；拍摄角度获取模块用于获取每个拍摄区域的拍摄角度；拍摄时长计算模块用于按照预设的计算策略获取每个拍摄角度的拍摄时长；拍摄模块用于基于控制可旋转摄像头根据拍摄角度和拍摄时长进行拍摄，获得监控视频；其中，拍摄时长的计算函数为：和/＞分别表示拍摄角度k的第q+1个和第q个拍摄时长，/＞和/＞分别表示根据第q个拍摄时长和第q-1个拍摄时长从拍摄角度k进行拍摄所获得的监控视频中的变动区域的平均大小，/＞表示从拍摄角度k进行拍摄所获得的监控视频的画面的大小，/＞表示预先设置的时间长度，/＞表示比较函数，表示设定的大于0的计算参数。与现有技术相比，本发明通过对可旋转摄像头的监控区域进行分区，然后分别计算每个拍摄区域的拍摄时长，拍摄时长能够随着变动区域的平均大小的变化而变化，从而能够在变动区域呈现增加的趋势时，增加拍摄区域的所对应的拍摄角度的拍摄时长，在变动区域呈现减少的趋势时，减少拍摄区域的所对应的拍摄角度的拍摄时长，而且，拍摄时长的变化幅度还与变动区域的变化幅度相关，变动区域的变化幅度越大，则拍摄时长的变化幅度也越大，从而能够更为准确地确定每个拍摄角度的拍摄时长，从而大幅度降低了出现拍摄区域的拍摄时长过长或者是拍摄时长过短的问题的概率，有效地提高了对景区进行安全监控的质量。如果只根据前一个拍摄时长所对应监控视频中所对应的变动区域的平均大小来计算出下一个拍摄时长，那么，可能前一个变动区域刚好是当天的最大值或最小值，这样便会导致后续的拍摄时长偏长或偏短，同样不能够获得合理的拍摄时长。因此，本发明能够更为准确地确定每个拍摄角度的拍摄时长。具体的，可以是大于0的正整数。优选地，第一个和第二个拍摄时长为设定的时间长度，q大于等于2。优选地，对可旋转的监控摄像头的监控区域进行分区，将监控区域分为多个拍摄区域，包括：获取监控摄像头的监控区域的角度范围，/＞和/＞分别表示拍摄区域的起始角度和结束角度；获取监控摄像头的视角；计算拍摄区域的数量：表示预设的角度，/＞为正整数，/＞小于/＞；将监控区域分为个面积相同的扇形的拍摄区域。例如，当监控摄像头的监控区域的角度范围为，监控摄像头的视角为90度，控预设的角度为/＞，则拍摄区域的数量为/＞。在本发明中，通过设置预设的角度，能够使得相邻的拍摄区域之间存在一定的重叠的监控区域，从而提高了监控区域的不同的拍摄区域的监控视频之间的连续性，以提高监控视频的有效性。因为如果不存在重叠的区域，当需要用到监控视频作为证据时，很可能会被认为不是同一个监控区域的监控视频，影响了监控视频的有效性。预设的角度可以根据实际需要进行设置，当监控摄像头的视角比较小时，预设的角度也应当设置得比较小，避免拍摄区域的数量过多。优选地，获取每个拍摄区域的拍摄角度，包括：将扇形的拍摄区域的起始角度和结束角度分别记为和/＞；则拍摄角度为：表示拍摄区域的拍摄角度。在本发明中，拍摄区域所对应的扇形两条边的中央即为拍摄角度。优选地，按照预设的计算策略获取每个拍摄角度的拍摄时长，包括：当监控摄像头从第一个角度开始进行拍摄，到完成最后一个拍摄角度的拍摄时，便完成了一轮的监控视频的拍摄，然后算在下一轮的监控视频的拍摄中，每个拍摄角度的拍摄时长。具体的，在得到下一轮的监控视频的每个拍摄角度的拍摄时长的过程中，监控摄像头重新复位到第一个拍摄角度。优选地，控制可旋转摄像头根据拍摄角度和拍摄时长进行拍摄，包括：监控摄像头按照拍摄角度从小到大的顺序进行拍摄，每个拍摄角度停留对应的拍摄时长。具体的，这种拍摄方式使得每个的拍摄角度的拍摄时长能够根据变动区域的平均大小的变化而变化，在保证了有效的监控的同时，降低了出现拍摄区域的拍摄时长过长或者是拍摄时长过短的问题的概率。优选地，如图2所示，还包括画面传输模块和监控模块；画面传输模块用于将拍摄模块所获得的监控视频传输至监控模块；监控模块用于根据预设的规则对监控视频进行展示。具体的，画面传输模块可以是通过有线通信或无线通信的方式将拍摄模块所获得的监控视频传输至监控模块。监控模块可以包括设置在景区的保安室中的监控设备，如电脑，显示屏等设备。优选地，根据预设的规则对监控视频进行展示，包括：按照拍摄顺序将监控视频中包含的视频帧保存到集合；根据预设的规则分别对集合中的每个视频帧进行处理，获得处理后的视频帧；按照拍摄顺序将所有处理后的视频帧保存到集合；将中的视频帧依次输出到显示装置，实现监控视频的展示。具体的，在本发明中，显示装置可以是监控大屏，每个监控摄像头在监控大屏中都会有一个单独的显示窗口，显示窗口依次显示监控摄像头在一轮的监控视频的拍摄过程中的每个拍摄角度所获得的监控视频。对视频帧进行处理，能够提高负责查看监控画面的工作人员对每个拍摄角度的监控视频中是否出现异常事件的判断速度。从而有效地降低了负责查看监控画面的工作人员的工作量。优选地，根据预设的规则分别对集合中的每个视频帧进行处理，获得处理后的视频帧，包括：对集合中的视频帧/＞进行处理的过程如下：将监控视频的拍摄角度记为d，获取拍摄角度d的对比图像；将对比图像和/＞进行对比，获得/＞中的对比像素点的集合；获取中的边界像素点；在中对边界像素点进行连接，获得处理后的视频帧/＞。具体的，对比图像为由监控摄像头定期从拍摄角度d进行拍摄的，没有游客、工作人员和车辆的情况下的图像。通过将视频帧与对比图像进行对比，便能够知道视频帧里面的哪些像素点相较于对比图像发生了变化，通过对这些发生了变化的像素点进行边界连接，使得负责查看监控画面的工作人员在对监控视频进行查看时，只需要观察由连接后的边界像素点所形成的区域中的画面便能够判断是否出现异常事件，降低了负责查看监控画面的工作人员的工作量，提高了判断是否出现异常事件的效率。优选地，将对比图像和/＞进行对比，获得/＞中的对比像素点的集合/＞，包括：分别对和/＞进行灰度化处理，获得/＞和/＞；获取中的像素点/＞在/＞中对应的像素点/＞；计算和/＞之间的对比参数/＞：和/＞分别表示/＞和/＞的灰度值；若大于预先设置的对比参数阈值，则/＞中与像素点/＞的坐标相同的像素点为对比像素点。在本发明中，通过对比参数来判断像素点是否为对比像素点，由于不涉及复杂的图像运算，只需要获取灰度图像，然后对比灰度图像中的灰度值即可，因此，运算速度非常快，从而能够避免监控视频进行显示时的出现较大的延迟。具体的，对于，其在/＞中的坐标为/＞，其在/＞中对应的像素点为/＞中坐标同样为/＞的像素点/＞。优选地，获取中的边界像素点，包括：对于中的第i行的像素点，采用如下方式获取第i行的像素点中的边界像素点：若第i行的像素点中的属于对比像素点的像素点的数量为0，则表示第i行的像素点中不存在边界像素点；若第i行的像素点中的属于对比像素点的像素点的数量大于0且小于等于2，则直接将第i行的像素点中所有的对比像素点作为边界像素点；若第i行的像素点中的属于对比像素点的像素点的数量大于2，则将第i行中横坐标最大和横坐标最小的对比像素点作为边界像素点；对于中的第j列的像素点，采用如下方式获取第j列的像素点中的边界像素点：若第j列的像素点中的属于对比像素点的像素点的数量为0，则表示第j列的像素点中不存在边界像素点；若第j列的像素点中的属于对比像素点的像素点的数量大于0且小于等于2，则直接将第j列的像素点中所有的对比像素点作为边界像素点；若第j列的像素点中的属于对比像素点的像素点的数量大于2，则将第j列中纵坐标最大和纵坐标最小的对比像素点作为边界像素点。在本发明中，每一行或每一列最多只有两个边界像素点，这样的获取方式，能够使得相较于对比图像发生了变化的像素点完全被包含在由边界像素点之间相互连接所组成的区域中，从而提高了负责查看监控画面的工作人员在对监控视频进行查看时的查看范围的完整程度。优选地，在中对边界像素点进行连接，获得处理后的视频帧/＞，包括；获取中包含有边界像素点的行的纵坐标的集合/＞；对中的元素按照从小到大的顺序的进行排序，得到集合/＞；对于集合中的第n个元素/＞，n小于等于/＞，/＞表示中的元素的数量，获取/＞中第/＞行和第/＞行中的边界像素点；若第行中的边界像素点只有一个，且第/＞行中的边界像素点也只有一个，则直接连接第/＞行中的边界像素点和第/＞行中的边界像素点；若第行中的边界像素点只有一个，第/＞行中的边界像素点有两个，则将第/＞行中的边界像素点分别与第/＞行中的每个边界像素点进行连接；若第行中的边界像素点有两个，第/＞行中的边界像素点有两个，则将第/＞行中的横坐标较小的边界像素点与第/＞行中的横坐标较小的像素点进行连接；将第/＞行中的坐标较大的边界像素点与第/＞行中的横坐标较大的像素点进行连接；若第行中的边界像素点有两个，第/＞行中的边界像素点有一个，则将第/＞行中的边界像素点分别与第/＞行中的每个边界像素点进行连接。具体的，边界像素点的连接是按照从纵坐标较小的行到纵坐标较大的行的顺序来进行的，而且在连接之前，先获得了集合，从而避免了在连接边界像素点时，出现跨多行连接的情况，进一步保证了相较于对比图像发生了变化的像素点完全被包含在由边界像素点之间相互连接所组成的区域中。优选地，监控视频中的变动区域的平均大小的获取方式为：对第q个拍摄时长获得的监控视频进行如下计算：获取监控视频的每个视频帧所对应的处理后的视频帧；将处理后的每个视频帧中的由边界像素点连接所组成的区域的作为变动区域；使用如下函数计算监控视频中的变动区域的平均大小：表示监控视频中的变动区域的平均大小，/＞表示处理后的视频帧的集合，/＞表示处理后的视频帧v中的变动区域的大小，/＞表示第q个拍摄时长获得的监控视频中所包含的视频帧的数量。实施例二：如图3所示，本发明提供了一种基于智慧文旅的景区安全实时监控方法，包括：S1，对可旋转的监控摄像头的监控区域进行分区，将监控区域分为多个拍摄区域；S2，获取每个拍摄区域的拍摄角度；S3，按照预设的计算策略获取每个拍摄角度的拍摄时长；S4，基于控制可旋转摄像头根据拍摄角度和拍摄时长进行拍摄，获得监控视频；其中，拍摄时长的计算函数为：和/＞分别表示拍摄角度k的第q+1个和第q个拍摄时长，/＞和/＞分别表示根据第q个拍摄时长和第q-1个拍摄时长从拍摄角度k进行拍摄所获得的监控视频中的变动区域的平均大小，/＞表示从拍摄角度k进行拍摄所获得的监控视频的画面的大小，/＞表示预先设置的时间长度，/＞表示比较函数，表示设定的大于0的计算参数。以上公开的本发明优选实施例只是用于帮助阐述本发明。优选实施例并没有详尽叙述所有的细节，也不限制该发明仅为所述的具体实施方式。显然，根据本说明书的内容，可作很多的修改和变化。本说明书选取并具体描述这些实施例，是为了更好地解释本发明的原理和实际应用，从而使所属技术领域技术人员能很好地理解和利用本发明。本发明仅受权利要求书及其全部范围和等效物的限制。
