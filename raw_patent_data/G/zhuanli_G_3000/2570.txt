标题title
一种用于低空环境的直升机和无人机协同搜救的时间规划方法
摘要abst
本发明实施例公开了一种用于低空环境的直升机和无人机协同搜救的时间规划方法，涉及无人机航迹规划技术领域，能够优化载体直升机和无人机协作下的选址方式从而降低选址成本。本发明包括：获取选址条件参数，并根据所述选址条件参数建立协同搜救场景中的无人机起降点选址模型；利用所述无人机起降点选址模型获取所述无人机起降点的选址结果；通过任务分配模型，获取对应所述选址结果的子任务；通过搜救时间模型，确定无人机的任务完成时间。本发明适用于低空环境的直升机和无人机协同搜救。
权利要求书clms
1.一种用于低空环境的直升机和无人机协同搜救的时间规划方法，其特征在于，包括：S1、获取选址条件参数，并根据所述选址条件参数建立协同搜救场景中的无人机起降点选址模型，其中，以选址成本最低为目标建立所述无人机起降点选址模型；S2、利用所述无人机起降点选址模型获取所述无人机起降点的选址结果；S3、通过任务分配模型，获取对应所述选址结果的子任务；S4、通过搜救时间模型，确定无人机的任务完成时间。2.根据权利要求1所述的方法，其特征在于，在S1中，所获取的选址条件参数包括：用于表示无人机的负载情况和无人机的飞行状态的参数；所述无人机起降点选址模型中的所述选址目标函数表示为：M表示待搜救点集合，备选成为无人机的起飞点和降落点的备选点集合M′，b表示起飞点，k表示待搜救点，l表示降落点，c表示无人机飞行成本，x′b,k表示搜救点k是否由备选无人机起降点b服务，是则为1，否则为0，p′k,l表示搜救点k是否由备选无人机起降点l服务，是则为1，否则为0，Sb,k,l表示无人机从b点起飞搜救第k个待搜救点降落到l点所需要消耗的总航程。3.根据权利要求2所述的方法，其特征在于，总航程的基础模型为Sb,k,l＝σ1+tkvσ2，b,l∈M',k∈M，db,k表示无人机从点b到点k的三维距离，dk,l表示无人机从点k到点l的三维距离，σ1为无人机携带负载悬停的时的功率与无人机空载水平飞行时功率的比值，σ2表示无人机携带负载水平飞行时的功率与无人机空载水平飞行时功率的比值，tk表示无人机在待搜救点k的悬停时间，v表示无人机匀速飞行的速度；在S1中，还包括：根据所述总航程的基础模型和无人机的运行环境温度，建立与温度相关的总航程模型：Sb,k,l≤Sδx,b,l∈M′,k∈M，其中，所获取的选址条件参数还包括：无人机的运行环境温度，S表示无人机的最大行驶里程，β表示能耗预留系数，x表示无人机运行环境温度，δx表示电池容量随温度变化的关系。4.根据权利要求3所述的方法，其特征在于，所述电池容量随温度变化的关系表示为在环境温度为x时电池的实际容量与理论容量的比值：δx＝0.98+6.72×10-4x+3.11×10-5x2-8.27×10-7x3 -20≤x≤25，最大续航时间Sx”＝vt'δx，t'表示最大飞行时间。5.根据权利要求1或2所述的方法，其特征在于，在S2中，利用所述无人机起降点选址模型进行无人机起降点的选址过程中，包括：选出的无人机起飞点数量和无人机降落点数量相等，表示为：并且x'b,k≤xb,b∈M',k∈M p'k,l≤pl,l∈M',k∈M，xb表示备选无人机起降点b是否被选中，是则为1，否则为0；pl表示备选无人机起降点l是否被选中，是则为1，否则为0；根据服务模式设定条件，其中，若每个待搜救点只由一个无人机起降点为其服务，则设定条件：或者，若每个待搜救点只由一个无人机降落点为其服务，则设定条件：或者，若一组无人机起降点服务多个待搜救点，且每个待搜救点只由一组无人机起降点为其服务，则设定条件：6.根据权利要求1所述的方法，其特征在于，在S3中获取对应所述选址结果的子任务之前，还包括：获取待搜救点间的带权距离，并利用带权距离对所有的待搜救点进行分类，其中，分类方式包括：待搜救点位于直升机飞行方向右侧，和，待搜救点位于直升机飞行方向左侧；在完成分类后，将不同类别的待搜救之间的距离置为无穷大，并建立每一个类别的带权距离矩阵，所述带权距离矩阵中记录了同一类别的待搜救点的两点之间的三维距离。7.根据权利要求1或6所述的方法，其特征在于，在S3中，包括：建立所述任务分配模型中的任务目标函数，所述任务目标函数为：Z2＝max-min,max,min∈T，max表示无人机完成搜救任务最长的时间，min表示无人机完成搜救任务最短时间，T表示所有无人机完成任务的时间的集合，Tk'表示无人机完成搜救任务的时间，Z2表示在一组任务中完成任务最大和最小时间的差值；所述任务目标函数的约束条件为：其中，N待搜救点的集合，N′为N的子集，N′用于表示一架无人机分配到的待搜救点的集合，i′、j′分别表示2个不同的待搜救点，wi′,j′表示无人机在点i′到j′之间的飞行时间，ti′表示待搜救点i′的飞行时间，wb,l表示子任务中对应无人机的降落点，k′表示第k′条搜救路径，di′,j′表示无人机从点i′到点j′的三维距离，v表示无人机匀速飞行的速度；xi′,j′,k′表示第k′条路径是否能够从点i′到点j′，是则为1，否则为0；zi′,k′表示节点i′是否在第k′条路径上，是则为1，否则为0；并且，zb,k′表示如果待搜救点b在第k′条路径上则为1否则为0，zl′,k′表示如果备选无人机降落点l在第k′条路径上则为1否则为0，xb,l,k'表示无人机路径k'中待搜救点b到无人机降落点l为1否则为0。8.根据权利要求1所述的方法，其特征在于，在S4中，包括：以完成搜救任务时间最短为目标，建立所述搜救时间模型中的时间目标函数，所述时间目标函数为：其中，Z3表示完成全部搜救任务的时间，I表示需要完成搜救任务的集合，Ti表示无人机完成子任务i需要的时间，gi表示二元变量，si表示无人机在完成子任务i的搜救任务时单独执行搜救的时间，/＞表示直升机从点当前任务的无人机降落点li到下一个任务的无人机起飞点bi+1时间，bi表示无人机在进行子任务i的搜救任务时的起飞点位置，li表示无人机在进行子任务i的搜救任务时的降落点位置。9.根据权利要求8所述的方法，其特征在于，还包括：当直升机携带无人机从出发后，每当直升机飞行到通过步骤S2选址确定无人机起降点时，所述直升机机释放无人机，其中，所释放的无人机中导入了通过步骤S2获取的子任务，且当前导入无人机的子任务对应所述直升机当前飞行到的无人机起降点；所述确定无人机的任务完成时间，包括：按照相邻的两个子任务之间的关系，确定任务完成时间，相邻的两个子任务之间的关系包括至少三种类型，其中，类型1为：在时间序列上所述相邻的两组子任务之间没有交叉；类型2为：其中一组任务包含在另一组任务中，且两组子任务同时进行；类型3为：在时间序列上所述相邻的两组子任务交叉，且在其中一组子任务还未完成时，另一组任务已经开始。10.根据权利要求9所述的方法，其特征在于，当相邻的两个子任务之间的关系为类型1时，完成两组子任务所需要的搜救时间为C1，其中，且/＞vh表示直升机的最大飞行速度；当相邻的两个子任务之间的关系为类型2时，完成两组子任务所需要的搜救时间为C2，其中，C2＝Ti，且Ti＞Ti+1，Ti表示无人机完成子任务i需要的时间；当相邻的两个子任务之间的关系为类型3时，完成两组子任务所需要的搜救时间为C3，其中，C3＝Ti+si+1，且Ti-si＝Ti+1-si+1。
说明书desc
技术领域本发明涉及无人机航迹规划技术领域，尤其涉及一种用于低空环境的直升机和无人机协同搜救的时间规划方法。背景技术现有的载体和无人机协作下模式大致可分为两种：载体和单无人机的协作与载体和多无人机的协作。但是，不论是哪种协作方法，都或多或少存在一些缺陷，比如：在以往针对无人机起降点选址的建模中，为了简化问题方便求解，大多将无人机的起飞点和降落点设置为同一位置，没有考虑无人机实际飞行中在执行完搜救任务后可能会就近降落，导致选址成本较高。并且的起飞点和降落点设置为同一位置的方案，也会导致每次无人机执行任务后必须返回起飞点才能进行下次任务，连续任务的执行效率偏低。总的来说，针对无人机和载体的协作效率问题的研究，已经得出了一些初步方案，但是都还存在一些问题，比如：现有协作模式下大多仅仅考虑单架无人机或者少数无人机执行任务，而低空搜救模式往往需要更多的无人机参与，实现直升机和无人机协同搜救的选址成本较高；因此，如何在低空环境中，并且在执行直升机和无人机协同搜救的过程中，优化载体直升机和无人机协作下的选址方式从而降低选址成本，成为了需要进一步研究问题。发明内容本发明的实施例提供一种用于低空环境的直升机和无人机协同搜救的时间规划方法，能够优化载体直升机和无人机协作下的选址方式从而降低选址成本。为达到上述目的，本发明的实施例采用如下技术方案：S1、获取选址条件参数，并根据所述选址条件参数建立协同搜救场景中的无人机起降点选址模型，其中，以选址成本最低为目标建立所述无人机起降点选址模型；S2、利用所述无人机起降点选址模型获取所述无人机起降点的选址结果；S3、通过任务分配模型，获取对应所述选址结果的子任务；S4、通过搜救时间模型，确定无人机的任务完成时间。本发明实施例提供的用于低空环境的直升机和无人机协同搜救的时间规划方法，针对直升机和无人机协同搜救中选址成本较高的问题，建立协同搜救的无人机起降点选址模型，在模型中考虑了环境温度变化、无人机的负载以及无人机飞行状态对无人机续航能力的影响，并且在约束上可以不要求无人机的起飞和降落在同一点。改进后的模型相对于以往的研究在选址成本上有所降低。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它的附图。图1为协同搜救的无人机本地起降模式的示意图；图2为协同搜救的无人机异地起降模式的示意图；图3为温度-电池实际容量拟合曲线的示意图；图4为设置带权距离分配结果的示意图；图5为未设置带权距离分配结果的示意图；图6为带权距离计算示意图；图7为情况1的示意图；图8为情况2的示意图；图9为情况3的示意图；图10为两染色体交叉示意图；图11为染色体变异示意图；图12a为一种实例中的30个待搜救点选址成本对比的示意图；图12b为一种实例中的50个待搜救点选址成本对比的示意图；图12c为一种实例中的80个待搜救点选址成本对比的示意图；图12d为一种实例中的100个待搜救选址成本对比的示意图；图13为一种实例中的100待搜救点第六组子任务分配结果示意图；图14为一种实例中的100待搜救点规模大小下协同搜救示意图；图15、16为本实施例提供的方法流程示意图。具体实施方式为使本领域技术人员更好地理解本发明的技术方案，下面结合附图和具体实施方式对本发明作进一步详细描述。下文中将详细描述本发明的实施方式，所述实施方式的示例在附图中示出，其中自始至终相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施方式是示例性的，仅用于解释本发明，而不能解释为对本发明的限制。本技术领域技术人员可以理解，除非特意声明，这里使用的单数形式“一”、“一个”、“所述”和“该”也可包括复数形式。应该进一步理解的是，本发明的说明书中使用的措辞“包括”是指存在所述特征、整数、步骤、操作、元件和/或组件，但是并不排除存在或添加一个或多个其他特征、整数、步骤、操作、元件、组件和/或它们的组。这里使用的措辞“和/或”包括一个或更多个相关联的列出项的任一单元和全部组合。本技术领域技术人员可以理解，除非另外定义，这里使用的所有术语具有与本发明所属领域中的普通技术人员的一般理解相同的意义。还应该理解的是，诸如通用字典中定义的那些术语应该被理解为具有与现有技术的上下文中的意义一致的意义，并且除非像这里一样定义，不会用理想化或过于正式的含义来解释。本发明实施例提供一种用于低空环境的直升机和无人机协同搜救的时间规划方法，该方法用于低空环境下的直升机和无人机协同搜救场景，在这个场景中，搜救的过程大致为：直升机携带无人机从起点出发，每当直升机飞行到提前规划好的无人机起降点时，直升机释放无人机来执行该组子任务下的搜救任务，在无人机执行搜救任务时，直升机将继续按照规划好的航迹飞行，这样交替释放回收无人机直至任务完成。而这个搜救过程中的时间规划，则是本实施例中所要设计和改进的主要方向。而其中主要的改进思路，主要是对无人机起降点选址模型进行优化，在模型中引入环境温度、无人机的负载、飞行状态等与无人机的续航能力和飞行时间相关的参数，以便于选址模型能够更加准确且贴合实际。次要的则是在选址完成后对无人机集群的任务规划进行改进，尤其是实现集群可以同时执行多个任务，并且估算相邻两个子任务的执行时间。具体的，所述方法如图15、16所示，包括：S1、获取选址条件参数，并根据所述选址条件参数建立协同搜救场景中的无人机起降点选址模型。其中，以选址成本最低为目标建立所述无人机起降点选址模型。S2、利用所述无人机起降点选址模型获取所述无人机起降点的选址结果。S3、通过任务分配模型，获取对应所述选址结果的子任务。S4、通过搜救时间模型，确定无人机的任务完成时间。在本实施例中，需要考虑无人机飞行状态对无人机续航能力的影响，例如：在利用无人机进行低空搜救的过程中，无人机从直升机上释放沿着规划好的路线飞行到待搜救点上方进行悬停探测任务，无人机必须在续航能力的范围内完成搜救探测任务，飞回直升机进行能量补充。在无人机搜救过程中，由于山地地形的原因以及搜救要求，为了满足探测要求需要无人机携带探测设备在待搜救点上方进行悬停探测。而无人机在悬停飞行的过程中也会产生能量损失，并且携带设备增加了无人机的飞行总重量，也会影响无人机的能耗。在进行任务规划时不能仅仅只考虑理论上的无人机续航能力，还要将无人机所携带的探测设备重量、无人机的飞行状态等因素加入到模型的约束中。在此基础上规划出的结果才能更加符合搜救的要求，达到搜救的目的。因此在规划时需要对无人机的功耗进行预测，其中的功耗模型设计为：无人机悬停时的功率方程由式表示：无人机水平飞行时的功率方程由式表示：其中ρ是空气密度，W为总重量，是旋翼面积，Vhor是无人机水平飞行的速度，α和ηhor是经验系数，可以利用最小二乘法计算得出。设无人机空载条件下水平飞行时的功率为Ph'、悬停时的功率为Phor'。当所携带探测设备的质量为ml、无人机质量为mu时公式、中W总质量为ml+mu，此时设负载条件下无人机的悬停功率为Ph”，无人机水平飞行功率为Phor”。之后可以进一步限定：S＝vtσ1 S'＝vt'σ2 在式中σ1为无人机携带负载悬停的时的功率与无人机空载水平飞行时功率的比值；式σ2表示无人机携带负载水平飞行时的功率与无人机空载水平飞行时功率的比值。设无人机水平飞行时间为t，悬停时间为t'，无人机的水平飞行速度为v。则负载条件下无人机水平飞行时间t，对应标准条件下无人机航程S由所示,负载条件下无人机悬停时间为t'，对应标准条件下无人机航程为S'由所示。在上述功耗模型的基础上，需要建立符合实际应用需求的无人机起降点选址模型，建立该模型所进行的设定主要包括：待搜救点已经确定，每个待搜救点只需且只能被探测一次；考虑无人机实际避障带来的影响，可以设置预留能耗系数；每个待搜救点的探测时间已知，无人机携带负载下的悬停时间和飞行时间的转换为无人机标准情况下平飞的航程；忽略了无人机在起飞和降落时的具体状态，默认每架无人机的起飞和着陆都可以瞬间完成；无人机在直升机上能自动充电或更换电池。其中，所述无人机起降点选址模型主要涉及的变量和参数可以罗列为：表1无人机起降点选址模型参数和变量表具体的，在S1中，所获取的选址条件参数包括：用于表示无人机的负载情况和无人机的飞行状态的参数；考虑无人机的负载、无人机的飞行状态、运行环境温度变化对无人机续航能力的影响，针对以往研究中的选址模型进行改进，建立直升机和无人机协同搜救的无人机起降点选址模型。其中，以选址成本最低为目标函数，所述无人机起降点选址模型中的所述选址目标函数由式表示：考虑无人机的负载，平飞和悬停之间的能耗关系以及环境温度对无人机续航能力的影响并且要满足航程要求，根据式、表示出无人机悬停、负载求解得出无人机航程由式表示，式即为总航程的基础模型。Sb,k,l＝σ1+tkvσ2，b,l∈M',k∈M 本实施例可以进一步考虑环境温度对无人机续航能力影响，例如：动力电池系统是无人机内部的关键系统，其性能的发挥直接影响无人机的动力特性安全性，在电池使用过程中过高或者过低的环境温度都会影响电池的使用性能。锂离子电池因其高能量密度、良好的循环特性和优异的充放电性能而被广泛用于无人机的动力系统，由于在低空搜救背景下无人机工作环境的复杂性和锂离子电池的非线性特性，因此锂离子电池对温度的适应性成为制约无人机大规模应用的关键因素之一。在无人机冬季运行中，无人机多出现续航能力下降的问题，出现这种情况的关键原因是冬季电池系统本身的放电量比常温状态下放电要低，其中的电解液处于凝固与半凝固状态之间，导致锂离子进行迁移的过程阻力较大，进而导致锂离子活性较差、放电性能变差。因此建立无人机续航能力与温度的模型变得十分重要，锂离子电池的性能受很多因素的影响，在本实施例中利用无人机低空搜救时仅考虑环境温度对无人机续航能力的影响，为了建立无人机续航能力随温度变化的模型，锂离子电池在不同运行温度下实际的电池容量如表2所示，锂离子电池标准容量为环境温度在25℃下的电池容量。利用不同的拟合方法求得锂电池容量变化与温度的关系，建立锂离子电池实际容量与环境温度的函数关系。表2电池的容量随外界温度变化表在优选方案中，根据SPSS的实际运行结果，汇总了实测结果中环境温度与电池容量拟合的三种线型的参数表如表3所示，而图3则表示拟合曲线图，图中横坐标表示环境温度纵坐标表示当前温度下电池容量百分比。表3温度—电池实际容量拟合参数表表3中的R2该指标反应自变量对因变量的解释能力，通常至少在70％以上较好。R2越大表示拟合的模型能解释因变量的变化的百分数就越大。由上表可一次曲线拟合R2为52.4％，二次曲线拟合R2为83.3％。三次曲线拟合R2为87.0％，根据比较R2的值，故三次曲线拟合效果最好，可以很好的模拟出电池实际容量随着环境温度变化的关系，故选择三次曲线拟合的结果来表示电池容量随温度变化的关系：δx＝0.98+6.72×10-4x+3.11×10-5x2-8.27×10-7x3 -20≤x≤25Sx”＝vt'δx其中，锂离子电池的实际容量随温度变化的三次函数关系由式表示，其中x表示无人机搜救过程中的环境温度大小单位为℃，δx表示在环境温度为x时，电池的实际容量与理论容量的比值，其物理意义为在当前温度下锂离子电池容量与标准电池容量的比值。设无人机的水平飞行速度为v，最大飞行时间为t'，则无人机在温度为x时，的最大续航能力Sx”由式表示。因此，根据所述总航程的基础模型和无人机的运行环境温度，还可以建立与温度相关的总航程模型，具体的，结合式进一步改进模型，改进得到的与温度相关的总航程模型可以反映环境温度为x时要满足无人机续航能力的要求，如式所示。Sb,k,l≤Sδx,b,l∈M',k∈M 其中，M表示待搜救点集合，备选成为无人机的起飞点和降落点的备选点集合M'，b表示起飞点，k表示待搜救点，l表示降落点，c表示无人机飞行成本，x'b,k表示搜救点k是否由备选无人机起降点b服务，是则为1，否则为0，p'k,l表示搜救点k是否由备选无人机起降点l服务，是则为1，否则为0，Sb,k,l表示无人机从b点起飞搜救第k个待搜救点降落到l点所需要消耗的总航程。db,k表示无人机从点b到点k的三维距离，dk,l表示无人机从点k到点l的三维距离，σ1为无人机携带负载悬停的时的功率与无人机空载水平飞行时功率的比值，σ2表示无人机携带负载水平飞行时的功率与无人机空载水平飞行时功率的比值，tk表示无人机在待搜救点k的悬停时间，v表示无人机匀速飞行的速度。进一步的，所获取的选址条件参数还包括：无人机的运行环境温度，其中，S表示无人机的最大行驶里程，β表示能耗预留系数，x表示无人机运行环境温度，δx表示电池容量随温度变化的关系。需要说明的是，本实施例中的无人机采用的是异地起降模式，需要选出若干组无人机起降点，根据服务模式设定条件，若每个待搜救点只由一个无人机起降点为其服务，则设定条件可由式所示；或者，若每个待搜救点只由一个无人机降落点为其服务，则设定条件可由式所示；或者，若一组无人机起降点服务多个待搜救点，且每个待搜救点只由一组无人机起降点为其服务，则设定条件可由式表示，并且选出的无人机起飞点数量和无人机降落点数量相等，如式所示：其中，xb表示备选无人机起降点b是否被选中，是则为1，否则为0；pl表示备选无人机起降点l是否被选中，是则为1，否则为0；当b被选成无人机起飞点时才可能存在待搜救点k由该点起飞的无人机服务由式表示，若l点被选中为无人机的降落点才可能存在待搜救点k无人机服务完成降落由式表示：x'b,k≤xb,b∈M',k∈Mp'k,l≤pl,l∈M',k∈M 并且x'b,k，xb，p'k,l，pl均为0，1变量，表示无人机由b点出发飞向待搜救点k则为1否则为0；表示b被选作无人机起飞点则为1.否则为0；式表示无人机从待搜救点k飞回降落点l则为1，否则为0；式表示l被选作无人机降落点则为1，否则为0。xb,k'＝{0,1},b∈M',k∈Mxb＝{0,1},b∈M', pk,l'＝{0,1},l∈M',k∈Mpl＝{0,1},l∈M'本实施例中，针对直升机和无人机协同搜救中选址成本较高的问题，建立协同搜救的无人机起降点选址模型，在模型中考虑了环境温度变化、无人机的负载以及无人机飞行状态对无人机续航能力的影响，并且在约束上可以不要求无人机的起飞和降落在同一点。改进后的模型相对于以往的研究在选址成本上有所降低。实际应用中，为了求解直升机和无人机协同搜救的总时间，需要对无人机起降点选址结果中的每一组子任务进行无人机的任务分配，确定完成每组子任务所需要的时间以及需要完成任务的无人机的数量。在以往的分配模式下往往是卡车和无人机协作的问题，无人机的航迹和卡车的路线不会在空间上有重叠，但在直升机和无人机协作的背景下，按照以往的任务分配方式可能会使无人机在运行的过程中频繁的穿越直升机航线，造成无人机和直升机冲突。为了解决这个问题，在求解任务分配的过程中引入待搜救点间的权距离矩阵，在此基础上以完成任务均衡性最高为目标函数建立任务分配的模型，在模型中考虑运行环境温度、无人机飞行状态、无人机负载对无人机续航能力的影响。因此本实施例中，也考虑了无人机异地起降模式下的无人机任务分配和搜救总时间的估算问题。其中，在S3中获取对应所述选址结果的子任务之前，还包括：获取待搜救点间的带权距离，并利用带权距离对所有的待搜救点进行分类，其中，分类方式包括：待搜救点位于直升机飞行方向右侧，和，待搜救点位于直升机飞行方向左侧；在完成分类后，将不同类别的待搜救之间的距离置为无穷大，并建立每一个类别的带权距离矩阵，所述带权距离矩阵中记录了同一类别的待搜救点的两点之间的三维距离。例如：通过引入带权距离对子任务中待搜救点分类，具体在协同搜救的无人机异地起降的背景下，对每一个子任务进行无人机任务分配时本方案希望无人机的执行任务顺序和直升机路线保持一致如图4所示，框中虚线表示为每一架无人机所分配的待搜救点，但由于待搜救的点的分布并不是在直升机路线的一侧，为了避免无人机执行任务时在直升机的路线上来回穿梭如图5所示，既影响效率又影响飞行安全，分配的结果并不满足安全的需要，本方案引入待搜救点间的带权距离，例如：设A、B、C，A,B为该组任务下的无人机起降点，两点的连线组成了直升机的航线，C点为待搜救点。如图6所示：AB表示直升机的前进方向，记向量C为待搜救点的位置则向量/＞本方案借助两个向量的叉乘来判断某个待搜救点是在直升机航线左侧还是右侧，由向量叉乘公式得/＞如果x1y2-x2y1≥0，此时向量AC在向量AB的逆时针方向，说明待搜救点C在直升机飞向方向的左侧，反之x1y2-x2y1＜0说明待搜救点在直升机飞行方向右侧。根据此方法将任务中所有的待搜救点分为两类。经过处理后的待搜救点被分为两类，因此直升机两侧的待搜救点被区分开来，不同类别的待搜救之间的距离置为无穷大，同一类别的待搜救点距离为两点之间的三维距离，生成待搜救点间的带权距离矩阵，这样设置后在求解无人机任务分配时不同类别的待搜救点不会分配同一架直升机来执行任务。在对待搜救点进行分类后，可以进一步建立无人机异地起降模式下的任务分配模型，建立该模型所进行的设定主要包括：各个子任务中的待搜救点和无人机起飞点、无人机降点坐标已知，各个待搜救点之间的三维距离按照生成的带权距离矩阵计算。每个待搜救有且仅有一架无人机进行搜索，在无人机的航程不超过无人机的最大航程条件下，无人机可以搜索多个待搜救点。无人机以匀速飞行。各个待搜救点的探测时间均已知，按照灾情等级确定。其中，所述任务分配模型主要涉及的变量和参数可以罗列为：表4无人机任务分配模型参数表集合含义N待搜救点的集合N'待搜救点N的子集,即一架无人机分配到的待搜救点的集合K无人机路径集合T所有无人机完成任务的时间的集合变量含义xi',j',k'第k'条路径从点i′到点j'则为1，否则为0zi',k'如果节点i'在第k'条路径上则为1否则为0Z2一组任务中完成任务最大和最小时间的差值wi',j'无人机在点i'到j'之间的飞行时间uk,i'表示无人机路径k中的第i'个节点b该组搜救任务中的无人机起飞点l该组搜救任务中的无人机降落点具体在S3中，在无人机起降点的选址结果的基础上进行无人机的任务分配，从而建立所述任务分配模型中的任务目标函数，所述任务目标函数以完成任务均衡为目标函数由式表示，式中max表示无人机完成搜救任务最长的时间，min表示无人机完成搜救任务最短时间，Tk'表示无人机完成搜救任务的时间，Z2表示在一组任务中完成任务最大和最小时间的差值；Z2＝max-min,max,min∈T 约束为：每架无人机完成搜救时间如式，由无人机的飞行时间以及无人机在各个待搜救点的悬停时间组成，无人机由点i'飞行到j'所需时间由所示，b表示在该子任务中对应的无人机起飞点，l表示该子任务中对应无人机的降落点wb,l表示无人机从起飞点到降落点的时间，因为此段路程由直升机飞行，所以减去这段路程的时间即为每架无人机完成搜救的时间。其中，N待搜救点的集合，N'为N的子集，N'用于表示一架无人机分配到的待搜救点的集合，i′、j'分别表示2个不同的待搜救点，wi',j'表示无人机在点i'到j'之间的飞行时间，ti'表示待搜救点i′的飞行时间，wb,l表示子任务中对应无人机的降落点，k'表示第k′条搜救路径，di',j'表示无人机从点i'到点j'的三维距离，v表示无人机匀速飞行的速度；xi',j',k'表示第k'条路径是否能够从点i′到点j'，是则为1，否则为0；zi',k'表示节点i'是否在第k'条路径上，是则为1，否则为0；并且，在任务分配中要考虑每一个待搜救点只能由一架无人机完成搜救，即每个待搜救点只存在一条路径中由式表示，并且选定好的无人机起飞点和无人机降落点一定在每一条路径中存在，由式、表示，并且为路径节点的起点和终点，为了达到这个目的我们在模型中设置无人机的起飞点和无人机的降落点之间一定存在一条路径即式表示，在计算无人机飞行航程以及计算完成搜救时间均不考虑此路段。其中，zb,k'表示如果待搜救点b在第k'条路径上则为1否则为0；zl',k'表示如果备选无人机降落点l在第k'条路径上则为1否则为0；xb,l,k'表示无人机路径k'中待搜救点b到无人机降落点l为1，否则为0。具体的，在任务分配中若存在了i'到j'的飞行路径，则必须要求一架无人机来完成此任务，故设立约束由式所示，并且要保证节点的连续性即访问待搜救点j'必须离开待搜救点j'，由式表示。式表示每条路径考虑因素的影响后的总航程不能超过无人机的最大飞行航程。为了避免产生子回路解，本方案还可以在任务分配模型中加入了线性松弛，引入自由变量uk',i'，表示无人机路径k'中的第i'个节点。故产生式、所示约束,n为集合N'∪{b,l}中所含点的数量。uk',i'-uk',j'+1≤i',j'∈N'∪{b,l},k'∈K 1≤uk',i'≤n-1 式表示只有点i'存在于k'的路径中，才存在i'到j'的路线。式-表示了变量的取值范围，式表示如果待搜救点i'在第k'条路经中则置为1，否则置为0；式表示在第k'条路经中存在i'到j'的飞行路径则置为1，否则为0。进一步的，为了改进传统的直升机和无人机协同搜救中同一时刻只能执行单个子任务导致搜救效率较低的问题，本实施例在满足直升机性能的基础上，改进了搜救时间模型，以便于应用在同时执行两个子任务可能存在的情况，建立该模型所进行的设定主要包括：无人机降落到直升机上后，忽略能量补给的时间；无人机每次起飞即为满电量；每个子任务的完成时间和所需无人机数量以及完成每个子任务的无人机起降点的坐标均已知；忽略一部分无人机的动力特性，无人机的起飞和降落均在瞬时完成；直升机在飞行时均保持匀速。其中，所述搜救时间模型主要涉及的变量和参数可以罗列为：表5求解搜救总时间模型参数表实际应用中，在完成无人机起降点选址、无人机任务分配工作的基础上，如何确定各个子任务的执行顺序，在满足直升机性能的基础上使得完成整个搜救任务的总时间最短是整个搜救任务的关键。具体的，设定si表示子任务i单独执行搜救任务的时间，||bi-li||表示两点之间的三维距离。在S4中，包括：以完成搜救任务时间最短为目标，建立所述搜救时间模型中的时间目标函数，所述时间目标函数如式所示。其中，Z3表示完成全部搜救任务的时间，I表示需要完成搜救任务的集合，Ti表示无人机完成子任务i需要的时间，gi表示二元变量，si表示无人机在完成子任务i的搜救任务时单独执行搜救的时间，表示直升机从点当前任务的无人机降落点li到下一个任务的无人机起飞点bi+1时间，bi表示无人机在进行子任务i的搜救任务时的起飞点位置，li表示无人机在进行子任务i的搜救任务时的降落点位置。在本实施例中，当直升机携带无人机从出发后，每当直升机飞行到通过步骤S2选址确定无人机起降点时，直升机释放无人机来执行该组子任务下的搜救任务，在无人机执行搜救任务时，直升机将继续按照规划好的航迹飞行，这样交替释放回收无人机直至任务完成。其中，所释放的无人机中导入了通过步骤S2获取的子任务，且当前导入无人机的子任务对应所述直升机当前飞行到的无人机起降点。所述确定无人机的任务完成时间，包括：按照相邻的两个子任务之间的关系，确定任务完成时间，相邻的两个子任务之间的关系包括至少三种类型。其中，类型1为：在时间序列上所述相邻的两组子任务之间没有交叉；类型2为：其中一组任务包含在另一组任务中，且两组子任务同时进行；类型3为：在时间序列上所述相邻的两组子任务交叉，且在其中一组子任务还未完成时，另一组任务已经开始。其一、当相邻的两个子任务之间的关系为类型1时，如图7所示，在时间序列上两组子任务没有任何交叉，也是情况最简单的一种。完成两组子任务所需要的搜救时间为C1，vh表示直升机的最大飞行速度，其中：约束为：其二、当相邻的两个子任务之间的关系为类型2时，如图8所示，其中一组任务包含在另一组任务中，两组子任务同时进行，完成时间较长的一组任务时，另一组任务也被完成。完成两组子任务所需要的搜救时间为C2，其中：C2＝Ti约束为：Ti＞Ti+1 其中，Ti表示无人机完成子任务i需要的时间；图8所示情况中，满足由式所示的约束，完成任务1需要的时间高于完成任务2所需要的时间；且要满足直升机的性能要求，由式所示；在无人机起飞后，直升机要在满足不超过其最大飞行速度的条件下，飞到无人机降落点执行回收任务。其三、当相邻的两个子任务之间的关系为类型3时，如图9所示，这是一种较为复杂的情况，在时间序列上存在两组子任务交叉的情况，其中一组子任务还未完成时，另一组任务已经开始。完成两组子任务所需要的搜救时间为C3，其中：C3＝Ti+si+1 约束为：Ti-si＝Ti+1-si+1此种情况下必须满足直升机性能的约束即每一段路程的不能超过其最大飞行速度由所示，,并且同时执行两子任务时间必须相等由式所示。综上三种情况组成了任意相邻两子任务之间关系，为了表示简便本方案定义一个二元变量gi∈{0,1}，如果相邻两子任务在时间轴上有相交则定义为gi＝0，相邻两子任务在时间轴上无相交则定义为gi＝1，则完成任意两子任务必须满足直升机性能，满足、：Ti-si＝Ti+1-si+1 直升机结束第i子任务前往第i+1个子任务所需时间为由式所示。目前的载体和无人机协作下模式大致可分为两种：载体和单无人机的协作与载体和多无人机的协作，而不同协作模式下的选址方式：载体和单无人机协作模式下无人机起降点选址问题的研究：在无人机异地模式下，Murray提出的方法中利用一架无人机和一辆卡车同时从一个配送中心出发，在完成配送任务后返回同一个地点，由于无人机能量有限，设定一架无人机只能服务一个客户，并且基于“卡车优先，无人机其次的”思想，首先以路径最短确定出卡车路线，在路线中巡回的检查每一个节点，根据周围客户位置，判断其是否适合放飞无人机完成任务，如适合则将其作为无人机的起飞点，继续判断下一个节点是否符合无人机降落的航程约束，如果满足则设为无人机的降落点；Gonzalez-R等人也是利用一辆卡车和一架无人机完成任务，在求解上提出了一种贪婪启发式算法来求解无人机的起降点问题；Mbiadou等人对协作问题进行改进，设置载体和无人机均可以执行任务，载体的路径问题则是看作为经典的旅行商问题，在载体路径的基础上确定无人机的起飞点和降落点；Mario等人提出了一种新的求解方法，首先确定载体的路线，在路线的任意两节点之间生成无人机的航线，并判断是否符合无人机性能的要求，若符合则将该路径上的端点确定为无人机的起降点；Dayarian等人提供了一种不同的方案，载体负责执行任务而无人机负责对卡车进行补给，在载体运行的道路上根据需求点的位置确定无人机起降点；Mathew等人利用一辆卡车和一架无人机研究城市环境中的物流配送问题，无人机的起飞点和降落点根据配送需求被确定在街道的端点处，在此约束下求解卡车和无人机配送的效率问题。载体和多无人机协作无人机起降点选址问题的研究：Ferrandez等人提出了一辆卡车和多架无人机的新模式，但是限制无人机只能服务一个客户，设置无人机的起飞降落点为同一位置，利用K-means聚类算法来确定位置无人机的起降点的位置；Freitas等人在一辆卡车和多架无人机模式的基础上，为了确定无人机的起降点提出了一种混合启发式算法，初始解由TSP求解器生成，接下来使用混合启发式算法求解得出无人机的起降点和卡车的路线；Agatz等人提出了多辆卡车和多架无人机的新模式，在该模式下假定无人机每次起飞和降落必须在相同位置，利用局部搜索的方法来确定无人机的起降点；Bouman为了确定载体和多无人机的协作下无人机起降点问题，提出了一种动态规划的精准方法，通过算例验证此方法可以求解大规模的实例。然而，上述对载体和无人机协作的无人机起降点选址的问题中的研究还存在以下不足：1、在以往针对无人机起降点选址的建模中，为了简化问题方便求解，大多将无人机的起飞点和降落点设置为同一位置，没有考虑无人机实际飞行中在执行完搜救任务后可能会就近降落，导致选址成本较高。2、在以往的模型的约束中很少考虑环境温度、无人机的负载、无人机的飞行姿态对无人机的续航能力的影响。所以本实施例针对传统无人机起降点选址模型进行改进，将无人机运行时的环境温度、无人机的负载、以及无人机的飞行姿态对无人机续航能力的影响作为模型的约束，并且在模型中对无人机的起降点是否为同一位置不做要求，使得对无人机起降点的选址问题更加符合实际。目前针对协作模式下的无人机任务分配问题主要从模型和求解算法两个方面进行研究。在求解无人机任务分配问题时主要包括以车辆路径问题和多旅行商问题为主的两种传统方案。Kota等人直接将多无人机任务分配简化为指派问题来进行求解；Guerriero等人将任务分配问题看作具有时间约束的多旅行商问题，并利用粒子群算法进行求解。针对复杂情况下任务分配的建模主要可以归纳为以下三种：Song等人提出的在复杂情况下可以对无人机的任务分配问题进行快速求解的模型；Alcalde等人提出的以背包问题思想为基础建立多维背包模型，该模型适用于分布式的多无人机任务分配问题；Ye等人将问题进行优化组合后建立多无人机协作任务分配问题模型，再对问题进行求解。在求解任务分配的方法上，Hu等人提出了基于分布式预测控制的多无人机协同监测的研究，有效的解决了具有多目标函数的多无人机协同路径规划研究；针对多无人机的路径规划问题，李等人在求解时将问题分为两个步骤：首先提取出可能出现的边界图，再针对边界图的凸凹性选取相应的处理方法；Chen等人为了解决多无人机的动态规划问题提出了一种聚类算法，该算法可以实现多无人机侦察任务路径的合理规划；Sun等人为了解决多无人机之间的任务分配问题，提出了一个基于布尔网络的拍卖算法，该算法利用基于集群组合的拍卖策略来处理任务，解决无人机之间的分配冲突问题；Wei提出了一种集中-分布式混合控制框架，用于解决任务分配和调度的问题，利用动态数据驱动系统以便能更好的适应环境和任务不断变化的情况。然而，上述针对任务分配问题，对求解问题的模型和求解问题的方法做了很多有益的研究，但存在以下不足：1、在以往的建模中对无人机的航迹理想化处理，没有考虑到无人机的实际运行的环境以及无人机的飞行姿态、无人机执行任务时携带设备对续航能力的影响。2、在直升机和无人机协同搜救的无人机异地起降模式背景下，传统的分配方式求解出的分配结果可能使无人机频繁的穿越直升机飞行的航线，极易造成安全事故。所以本实施例基于传统的任务分配模型进行改进，在分配模型中考虑无人机环境温度、无人机负载、以及飞行姿态对无人机续航能力的影响，在求解无人机的任务分配时，引入待搜救点间的带权距离矩阵，将不同类别之间的待搜救点距离设置为无穷大，这样不同类别的待搜救点不会分配同一架无人机来执行搜救任务，使得分配的结果更加符合现实搜救要求。综上所述，本实施例针对传统的直升机和无人机协同搜救模式下的相关问题的不足之处进行改进，针对直升机和无人机协同搜救的无人机起降点选址问题、无人机异地起降模式下的任务分配问题、考虑直升机性能的基础上求解搜救总时间问题展研究。对低空协同搜救的基础理论和关键技术进行完善，主要的优点在于：1、针对直升机和无人机协同搜救中选址成本较高的问题，建立协同搜救的无人机起降点选址模型，在模型中考虑了环境温度变化、无人机的负载以及无人机飞行状态对无人机续航能力的影响，在约束上不要求无人机的起飞和降落在同一点。通过玉树地震算例表明，在四种不同的搜救对模下改进后的模型相对于以往的研究在选址成本上都有了明显的降低，其中在50规模待搜救点背景下选址成本降低了56.08％。2、针对在以往的无人机分配模型中对无人机的航迹理想化简单处理，没有考虑到环境温度、无人机负载、飞行状态对无人机续航能力的影响；并且传统的分配方式可能使无人机频繁穿越直升机航线，极易造成安全事故的问题。本实施例引入待搜救点间的带权距离矩阵，不同类别的待搜救点相互之间距离置为无穷大，在此基础上建立无人机任务分配模型并利用改进的蚁群算法进行求解。3、针对以往协同搜救中同一时刻只能执行单个子任务的问题，导致协同搜救的效率较低，本实施例分析了同时执行两子任务可能的情况，在满足直升机的性能的基础上建立搜救总时间模型，并利用遗传算法进行求解。通过玉树地震算例表明，在四种不同的搜救规模下改进后的模型相对于以往的研究搜救效率分别有了提高，其中完成50个待搜救点效率提高了37.3％。具体举例：一、在本实施例的实际应用中，在起降点选择的过程中，可以采用改进二进制粒子群算法求解无人机起降点问题：具体利用改进的二进制粒子群算法求解无人机起降点选址问题。求解无人机起降点选址模型的目标是选出一系列无人机的起降点，由于每组起降点只有选中和未被选中两种状态，故采用二进制粒子群算法的思量，每个粒子表示一种选址序列，1表示该组起降点被选中，0表示该组起降点未被选中。为了解决传统的二进制粒子群算法在迭代过程中容易陷入局部最优解的问题，本实施例采用如下方法进行改进：首先引入对惯性权重动态调整的方法；其次在粒子更新的过程中增加两粒子之间相似性的判断，对于判断为相似的粒子按照新的规则更新粒子的位置和速度。其中包括：1.编码方式设计及种群初始化：初始化种群是将若干组备选无人机起降位置两两组合，用这种方式求解满足了模型中的的限制，从组合中选取无人机起降点。无人机起降点的选址费用与无人机起飞降落的位置有关，所以一旦确定无人机的起飞和降落位置，就可以将满足无人机航程要求的待搜救点进行分配。假如有10个备选无人机起降点，则产生组选址组合，被选中的无人机起降点组合置为1，其余置为0，则可以编码为表示1，2，4，5组合被选中，其余41个位置关闭。备选无人机起降点确定后，生成的矩阵列表中，每一行代表待搜救点，每一列代表无人机起降点组合，未被选择的位置所在列均置为0,待搜救点采用就近分配的原则，加入被选择作为无人机起降点组合的列中，该行关闭均置为0满足了模型中、，也满足了模型中一组无人机起降点可以服务多个待搜救点的要求，并且判断是否满足模型中的条件约束，否则粒子停止此方向的进化，至所有待搜救点完成分配。2.目标函数的定义：Z1代表选址成本即式，无人机起降点选址成本越小越符合要求。3.改进的粒子群算法：3.1、惯性权重的动态调整：传统的粒子群算法在迭代计算的过程中线性减少权重ω，但是运算中仅仅只减少ω，容易使函数收敛到局部极值点。为解决此问题本实施例在求解无人机起降点选址问题时中采用惯性权重动态改变的方法：式中：m为粒子群规模，为第n次迭代时第i个粒子对应的函数值，为第n次迭代时最优粒子对应的函数值。但该方法不适用于全部的情况，即在种群规模较小的时候，当所有的个体都为相同的解时，由式可知、αn＝0在下一次迭代的时候αn-1＝0，由式可知，惯性权重ω＝∞。随着迭代次数的增加惯性权重的值不会改变，在本实施例中为避免此种情况的发生，采用如下方式进行改进，在初始参数赋值时惯性权重ω＝k，并且当αn≠0且αn-1≠0，在迭代过程中按照式来求取惯性权重，并且一旦出现αn＝0，再次令ω＝k。3.2、粒子相似性的控制：在进化过程中，2个粒子个体的相似性可以根据下面的距离公式来描述在表达式中xa,i和xb,i为两个粒子的坐标，D'为变量维数，在本实施例中为待搜救点的个数。因此可以通过粒子间的距离来控制粒子之间的相似性，首先确定距离的阈值Dε，在本实施例中将阈值设置成粒子长度的一半。在本实施例中按照如下方法控制相似性：当Da,b≤Dε时，粒子a按照原始方法更新，粒子b按照更新。4.基于改进二进制粒子群算法求解异地选址问题的步骤如下：4.1、确定粒子群规模m，最大迭代次数n，以及参数认知权重因子c1，社会权重因子c2，以及惯性权重ω。4.2、将无人机起降点按照组合的方式产生，按照上文介绍的种群初始化的规则随机产生m个可行解X1,X2,X3,...,Xm，每个解的矩阵行数为待搜救点的组合数。找到未开放的选址组合在距离矩阵中相应位置为无穷大，找到每行中非0以外的最小位置，并生成指派矩阵满足、，并判断矩阵中的解是否满足式、。若满足按照式计算Xi的适应度并且将初始适应度作为初始个体极值Pbest,i，由于异地选址问题中的目标函数是搜救费用满足最低要求，所以将所有Pbest,i中的最小值赋给Gbest作为初始全局极值，粒子速度的初始值设为0。4.3、按照式判断粒子的相似性，并且按照粒子相似性控制的规则更新粒子群。4.4、在更新后按照式计算更新后每个个体对应的无人机起降点选址成本，并且按照式、更新惯性权重ω，如果粒子i的无人机起降点选址成本低于此前个体极值Pbest,i，则将其置为Pbest,i，如果最佳的Pbest,i优于此前的全局的极值Gbest则将其置为Gbest。4.5、如果满足收敛条件或达到的最大迭代次数，就停止计算，否则返回步骤。二、在本实施例的实际应用中，在子任务分配的过程中，可以采用改进蚁群算法求解异地起降模式下的任务分配问题：在得到的无人机起降点的选址位置和其对应待搜救点的基础上，在对要分配任务中的待搜救点利用带权距离进行分类后，采用了引入动态信息素更新的蚁群算法求解无人机分配问题。针对传统的蚁群算法中信息素不断累计导致算法容易求得局部最优解的问题，本实施例对此问题进行改进，引入了动态更新信息素的方法来求本实施例中的无人机任务分配问题。在以往的求解任务分配中，信息素在较优的任务分配方案中不断累积会导致求得局部最优解；但如果为了改进过早的陷入局部最优解的问题而使信息素均匀分布，虽然可以提升算法全局搜索能力，但算法性能受到严重影响，需要迭代很多次才能找到全局较优解。在本实施例中采用如下改进方法：设m只蚂蚁经过k次迭代后将得到的无人机任务分配方案存储于数组P中，每一种方案的完成搜救任务最大时间和最小时间差值的代价从小到大顺序排列在存储于数组P'中，序号存储于数组P”，假设找到了r个分配方案，则取h＝r≠m，则引入变量Y，di,j表示待搜救点之间的三维距离，τj表示无人机在j待搜救点悬停时间转化为飞行的航程，ci,j表示t时刻蚂蚁从待搜救点i转移到待搜救点j的期望程度，取ci,j＝1/，Tabuk表示禁忌表存放着蚂蚁k已经访问过的待搜救点，Allowedk＝{V-Tabuk}，表示蚂蚁可以访问的待搜救点，ηi,j表示在t时刻待搜救点i,j路径上的信息素残留量：信息素动态更新规则如下：q0＝eR 其式中：N为算法的最大迭代次数；T表示当前迭代次数；当m只蚂蚁完成第k次迭代后，对存储于P数组中的无人机任务分配方案按照式动态跟新信息素。在利用蚁群算法求解无人机任务分配问题中，可以看出信息素动态更新分为两个阶段，在刚开始进行迭代时，即q＞q0的可能性较大，按照正常规则进行更新；随着迭代的进行由于h＞1，较优策略得到的序号存储在P”数组里面的序号较小，相应的Y值增大,按照式可知信息素增量变大，使较优策略都得到了保持。故求解任务分配的步骤为：初始化设置期望启发式因子A，信息素启发因子B，信息素挥发因子Q，信息素挥发调节系数ε，最大迭代次数iter_max。设置当前路径节点为无人机的起飞点，这样设置满足式的要求。依照概率计算公式选择下一个待搜救点，将选择的待搜救点加入到当前路径中将其点号加入到禁忌表矩阵中，满足式、的要求。根据式判断当前路径长度转化后的与无人机总航程差值是否大于无人机从当前待搜救点飞回无人机降落点的距离，如不符合设置当前节点为无人机降落点，满足式的要求并且返回步骤，这样设置节点要求满足了，防止产生子回路的解，若符合则继续，将选择的待搜救点加入禁忌表中Tabuk满足的要求，未选择的待搜救点加入Allowedk。判断是否还有待搜救点还未被分配。若是则返回步骤继续迭代，若否则继续。设置当前路径节点为无人机降落点，按照式计算每条路径完成搜救任务所需要的时间，以及计算出完成任务最大时间和最小时间的差值并且按照式进行全局信息素更新。检查是否达到中止条件，若是则输无人机完成任务最大时间和最小时间的差值以及无人机完成任务的最大时间，若否则返回步骤继续迭代。三、在本实施例的实际应用中，可以采用遗传算法求解搜救时间：求解搜救时间的基础是规划出一条合理的直升机飞行路径，既要满足直升机的性能要求，又要能使得求出的搜救时间较短。在以往的路径规划问题中常常是以直升机路径最短为目标函数，但在直升机和无人机协同搜救的无人机异地起降模式下，求解的路径不能单单只考虑路径的长度，还要考虑完成搜救的时间。在完成的无人机起降点选址工作以及无人机任务分配工作的基础上，求解搜救时间。由于所求解搜救时间的问题可以看成求解最短路问题，在数据规模较大时精确计算较为复杂，因而利用遗传算法求解问题。求解流程如下：初始化：定义种群大小p，交叉概率pc，变异概率pm，最大迭代次数T。读取无人机起降点位数据。并随机生成初始种群，每一个染色体代表一条直升机路径。判断是否达到最大迭代次数，若否则继续，若是则输出结果。对种群中每一个个体，生成对应直升机路径。为生成的路径按照起点的顺序进行从小到大的编号，编号结果为1，2，3，…，n，n为无人机起降点数量。设第i组子任务中的无人机起降点对应生成路径中的序号为xi,1,xi.2。判断路径是否符合要求。遍历任意两组子任务i,j，若满足×≤0，判断是否满足且满足，若不满足说明此条路径不符合要求，将其适应度置为0。对于每一条路径按照相邻子任务之间的关系生成矩阵g、根据式、生成矩阵s，并按照式计算每一条路径的完成时间，将求解的时间的倒数作为当前路径的适应度f。将种群中的共p个染色体按照适应度值f从大到小进行排序，排在前面部分的个体性能最优，将其直接加入下一代的种群中。其余p-1个染色体按照轮转法选择个体。这样既可以保证适应度最高的染色体生存至下一代，也能避免因为个体间适应度值差异较大而被选择进下一代的机会相差悬殊。对中选择的个体按照交叉概率pc进行交叉重组。随机选择0，1之间的一个小数，当这个数小于交叉概率时就对这两个染色体进行交叉，得到两个子染色体，否则直接复制这两个染色体为子染色体。当对染色体进行交叉操作时，首先在染色体长度内，随机产生两个交叉位min和max，将两个个体的区域互换。如图10所示：min＝2，max＝5，将父代I中的映射部分复制到子代II之后，通过复制相应父代的基因填充两个子代的其余基因。本实施例基于路径表示的编码方法，要求每一个染色体编码中不允许有重复的基因码，也就是说要满足任意一个无人机起降点必须而且只能访问一次的约束。当通过直接复制父代I的基因至子代I，产生的子代I的第2个基因为2。但该基因已经存在，因此本方案将后代I的第2个基因根据映射2-4重置为4消除此类情况。变异操作。对群体中的所有个体按照事先设定好的变异概率pm判断是否进行变异操作。对于每一条要经过变异操作的染色体采用交换算子的方法，首先随机产生染色体上的两个位置，交换两个位置的基因，示意图如图11所示。迭代次数加一，并判断是否达到最大迭代次数，若没有返回。当达到最大迭代次数，输出最优解，得到完成搜救任务的时间以及直升机路径。本实施例在数值实验中的具体举例：为了验证本实施例提出的直升机和无人机协同搜救模式下模型的有效性，本实施例以2010年4月14日玉树地震为例进行分析，选取在该地震带上受灾较为严重的玉树县和称多县。所用生命探测仪型号为DKL LifeGuard TM，该型号探测仪侦测距离在开放空间可达500m以上，水面达一公里以上，在碰到障碍物时侦测范围会减少。所用无人机型号为科卫泰X6L，采用直升机型号为贝尔-609，直升机的最大续航时间为3.6h，直升机的巡航速度为141m/s，具体参数由表6所示。表6参数表对于待搜救点的选取考虑实际的受灾情况，在人口数量较多的受灾县利用无人机携带生命探测仪探测可能需要救援的区域，而在某些县区人口非常稀少，利用无人机大规模探测价值不高。本实施例从地理监测云平台获取受灾地区的人口数据，根据各县人口数量情况，在人口较多的受灾县选取较多的待搜救点，人口较少的受灾县则选取较少的待搜救点。根据受灾各县的人口的比例关系确定待搜救点的数量分配。选取了100个待搜救点，其中玉树县、称多县，部分数据如表7所示。表7待搜救灾点具体坐标求解无人机起降点及对应的待搜救点：参数设置在本章的计算中考虑为了验证直升机和无人机协同搜救背景下无人机异地起降模式相对于无人机本地起降模式下的优势，粒子群算法的相关参数如表8所示。表8粒子群算法参数设置表结果分析在算例验证过程中，为了验证直升机和无人机协同搜救中无人机异地起降模式在无人机起降点选址成本上的优势，在算例中考虑了不同搜救规模对选址成本的影响，选取四种数量不同的待搜救点，分别设置为30个待搜救点，50个待搜救点，80个待搜救点，100个待搜救点来分别验证。在算例中无人机的起降点数量和待搜救点数量相同，无人机起降的位置在待搜救点位置的基础上高度增加100m。在求解模型的出的结果的到的无人机起降点是两个点的组合，对应一组待搜救点。在选址阶段本方案不要求无人机具体从哪个点起飞从哪个点降落，在后续的无人机任务分配的基础上规划出直升机的航线后，根据执行各个子任务的顺序，无人机的起飞点和无人机的降落点将会被确定。模型对比本实施例考虑无人机的续航能力受环境温度变化的影响，以及无人机的飞行姿态、无人机的负载对无人机续航的影响，基于传统的协同搜救无人机本地起降模式下的选址模型进行改进，建立以选址成本最少为目标函数的无人机起降点选址模型，相比以往的研究本模型的优劣见表9。在模型的构建方面，本模型考虑了更多的无人机性能约束，而且对于无人机的探测搜救考虑更为合理的起降方式，不再约束其完成任务后必须回到起飞点降落。表9模型对比表算例结果对比分析为了比较不同搜救模式下选址成本的优劣，在算例中本方案从三个方面进行验证：1、由于在求解模型的方法上利用的是改进的二进制粒子群算法进行求解，粒子群算法属于启发式算法，因此在求解过程中具有随机性，每次求解出的选址成本以及选址结果并不能准确的反应出结果的优劣，为了降低求解中的偶然性，对此模型求解十次，消除偶然误差。选址成本比较如图12a、12b、12c、12d所示：30个、50个、80个待搜救点规模下算法十次运算结果均是无人机本地起降模式的选址成本高于无人机异地起降模式的选址成本；在100个待搜救点规模下无人机本地起降模式的选址成本有八次高于异地起降模式下的选址成本，说明在选址成本上无人机异地起降模式相对于无人机本地起降模式更加具有优势。综上，在算例中考虑了搜救点规模以及算法的可能存在的误差上，结果均证明了本实施例提出的搜救模式更优。2、为了进一步探究两个模型的优劣，计算出10次运算后选址成本的均值，并且计算成本变化率，由表10中数据可知本章所提的模型在协同搜救中的选址成本上有着明显的优势，在不同数量的待搜救点规模下无人机的异地起降模式相比于无人机的本地起降模式成本分别节约了14.98％，56.08％，31.69％和31.06％。表10两种模式不同规模下选址成本均值以及成本变化率综上所述，在实际算例中通过增加算法运算次数、增加在不同数量规模的待搜救点条件下的选址成本比较、及选址成本变化率三个方面验证了本章所提出的联合搜救中无人机异地起降模式在选取无人机起降点成本上更优，更加符合现实搜救的情形。求解无人机异地起降模式下的任务分配：为了验证本实施例提出的任务分配模型的可行性和有效性，任务分配是求解搜救效率的基础。考虑实际的救援场景，以上一部分求出100个待搜救点规模下的无人机起降点选址结果中的第六组子任务进行研究，该组无人机的起降点组合是，负责52、53、55、56、58、59、64、65、66、69、71、73、76、78、80、81、82、84、85、86、87、91、93、95共计24个待搜救点，蚁群算法参数设置如表11所示。表11蚁群算法参数设置首先利用引入的带权距离进行待搜救点的划分，根据带权距离的结果将待搜救69、56、93、91、58、66、65、64、86、87、53、52、76、80为一类，95、78、81、55、71、85、84、82、59、73为一类，根据分类结果生成待搜救点间的带权距离矩阵。利用改进蚁群算法对100规模待搜救点下的第六组子任务进行求解，以考虑任务分配均衡为目标函数，求得完成该组任务的时间为2979秒，需要三架无人机来完成搜救任务，具体每架无人机执行任务如表12所示，分配结果示意图如图13。表12各架无人机任务分配表继续求解剩余五组子任务，最终的分配结果如表13所示，根据上一章的选址结果100个待搜救点规模下共有6组子任务，求解得出的结果包括完成每组搜救任务所需要的时间、完成任务所需要的无人机数量、以及每架无人机对应点的执行顺序。表13 100规模待搜救点任务分配求解结果求解总搜救时间：这里以规模大小为100个待搜救点为例，计算完成总搜救任务所需要的时间。遗传算法的参数设置如表14所示。表14遗传算法参数设置表为了计算出完成全部搜救任务所需要的总时间，本方案在无人机起降点选址和无人机任务分配的基础上来进行求解搜救总时间，无人机的起降点组成了直升机的飞行路线，任务分配的结果决定了完成搜救的总时间。本章利用遗传算法求解得出100规模待搜救点下的各个子任务的执行顺序及直升机悬停、巡航时间如表15所示。表15完成任务顺序及时间100规模待搜救点计算的结果如图14所示，黑色实线表示直升机飞行路径，虚线表示子任务中完成任务时间最长的无人机飞行路径。规划后直升机路径的39号点为直升机飞行起点，故直升机的飞行航迹为39-34-12-30-44-80-67-61-92-89-74-98。根据提前规划好的组合，直升机从39号点飞行起点释放两架无人机进行搜救第二组子任务中所有的待搜救点；释放完毕无人机后直升机不必原地等待而是继续飞向34号点，释放四架无人机进行搜救第二组子任务中的所有待搜救点；释放完毕后继续飞行至12号点，回收四架无人机后，无人机完成第一组子任务的搜救任务；继续沿直升机航线飞行至30号点回收完成搜救第二组子任务的2架无人机；回收完毕后继续飞行至44号点，释放一架无人机进行搜救第三组子任务中的待搜救点；释放完毕后立刻飞行至80号点，释放3架无人机进行搜救第六组子任务中的待搜救点；直升机继续沿航线飞行至67号点释放一架无人机来完成第四组子任务中的待搜救点，释放完毕后，飞行至61号点回收搜救完成第三组子任务的1架无人机，回收完毕后继续沿航线飞行至92号点位回收完成第六组子任务的三架无人机；回收完毕后飞行至89号点，回收完成第四组搜救任务的一架无人机；回收完毕后飞行至74号点释放2架无人机搜救第五组子任务的待搜救点；后飞行至98号点，回收完成第五组子任务的搜救任务的两架无人机，完成整个搜救任务花费时间为9092s。实验结果分析搜救模式的对比本实施例以低空直升机和无人机的联合搜救为背景考虑直升机和无人机的性能，在完成异地选址以及任务分配的基础上，求解搜救总时间最短。相对于以往的研究见表16。表16搜救模式对比表算例结果对比分析在以往的协同搜救中，同一时刻只能进行单个子任务的执行，无人机未完成搜救任务直升机只能在原地等待，在本实施例提出的直升机和无人机协同搜救的无人机异地起降模式下，在完成无人机起降点的选址及无人机任务分配后，还要考虑直升机的性能，在满足直升机性能的基础上充分发挥直升机的优势，合理规划各个子任务的完成顺序，最后求解搜救总时间。为了验证两种搜救模式的优劣性，本章在以下几个方面进行算例的分析和比较：方面1、防止待搜救点数量的规模影响搜救总时间的比较，在算例验证中选取30、50、80、100个待搜救点四种不同数量规模下进行搜救总时间比较。因为在求解搜救总时间时所用的遗传算法的求解结果具有随机性，为了消除这种偶然误差对不同搜救规模分别求解十次取平均值、为了更加直观的比较这里引入时间变化率如式所示，计算的结果如表17所示：表17不同搜救规模下的本地起降模式和异地起降模式搜救效率求解结果可以看出在不同数量规模的搜救条件下，在搜救时间上本实施例所提出的搜救模式相对于以往的研究中搜救总时间分别降低了29.7％、37.3％、45.2％、36.5％。从时间变化率的指标来看均达到25％以上，并且随着搜救规模的增加时间变化并不明显，说明本实施例所提出的搜救方式效率更高，更适用于大规模的搜救任务，这对于了解地震灾情至关重要。在本实施例的协同搜救的无人机异地起降模式下充分考虑了无人机和直升机的性能，本实施例选定的贝尔-609最大续航能力约为3.6h，但在80个待搜救点规模下协同搜救的无人机本地起降模式完成的时间为13705s、100个待搜救点规模下的搜救时间达到了14334s均不符合现实情况，即不能完成搜救任务。在本实施例中由于最高规模的算例为100，由于直升机载体本身也具有航程和飞行时间限制，在本实施例设定的算例求解背景下，联合搜救的无人机本地起降模式只能完成30个和50个待搜救点的搜救任务，但现实搜救任务中需要更多的任务点进行搜救,所以直升机和无人机联合搜救的有更好的可拓展性在现实情况中可以完成更大规模的搜救任务。方面2、无人机和直升机协作搜救的目的是扩大搜救范围，充分发挥无人机轻巧灵便和直升机续航能力强、飞行速度快的优势来高效的完成搜救任务。直升机和无人机协同搜救的总时间可以分为两个部分：一是直升机携带无人机的巡航时间，其数值大小等于直升机路径长度与其速度的比值；二是直升机悬停等待无人机回收时间。直升机巡航时间越长，说明协作模式下直升机的利用率越高，在本实施例中引入直升机利用率的如式所示。表18不同搜救规模的载体利用率由表18可知在不同搜救规模下，无人机异地起降模式的直升机利用率均高于无人机本地起降模式下的直升机利用率，这是因为直升机和无人机协同搜救的无人机异地起降模式充分的利用了直升机的作为载体的优势，使无人机飞行相对较近的距离完成搜救任务。本实施例基于地震灾害后使用直升机和无人机的应急搜索救援为背景，针对受灾地区交通不便地面车辆无法快速通行的问题，在搜救上使用灵活轻便的无人机进行探测搜救，但无人机航程有限且易受到搜救环境温度的影响，以及无人机携带探测设备、无人机的飞行状态均会对无人机的续航能力产生影响，因此引入直升机作为载体携带无人机完成搜救任务。在以往的直升机和无人机协同搜救的背景下，所使用的无人机在完成任务后必须返回出发点完成回收，直升机继续前往下一个任务点进行放飞，这样会导致搜救效率降低。本实施例以求解直升机和无人机协同搜救效率为目标，分别求解无人机起降点选址问题、无人机异地起降模式下的任务分配问题、求解搜救总时间问题。具体针对直升机和无人机协同搜救中选址成本较高的问题，建立协同搜救的无人机起降点选址模型，在模型中考虑了环境温度变化、无人机的负载、无人机飞行状态对无人机续航能力的影响，在约束上不要求无人机的起飞和降落在同一点。通过玉树地震算例表明，在四种不同的搜救对模下改进后的模型相对于以往的研究在选址成本上都有了明显的降低，其中在50规模待搜救点背景下选址成本降低了56.08％。在求解完无人机起降点的问题后要对每组子任务进行任务分配，针对在以往的无人机分配模型中对无人机的航迹理想化简单处理，可能使无人机频繁穿越直升机航线，极易造成安全事故的问题，本实施例引入待搜救点间的带权距离矩阵，在此基础上建立无人机任务分配模型并求解。在确定好完成任务需要的无人机数量和完成时间后，要合理安排每组子任务的完成顺序，针对以往协同搜救中同一时刻只能执行单个子任务导致协同搜救的效率较低的问题，本实施例分析了同时执行两子任务可能的情况，在满足直升机的性能的基础上建立搜救总时间模型。通过玉树地震算例表明，在四种不同的搜救规模下改进后的模型相对于以往的研究搜救效率分别有了提高，其中完成50个待搜救点效率提高了37.3％。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于设备实施例而言，由于其基本相似于方法实施例，所以描述得比较简单，相关之处参见方法实施例的部分说明即可。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应该以权利要求的保护范围为准。
