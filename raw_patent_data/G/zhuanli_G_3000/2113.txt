标题title
基于人工智能的吹风机电机运行故障检测方法
摘要abst
本发明涉及图像数据处理技术领域，具体涉及一种基于人工智能的吹风机电机运行故障检测方法：获取叶片表面灰度图像中的各个污渍闭合边缘，进行污渍图像特征分析，可以获得各个污渍闭合边缘内每个像素点的第一污染程度和第二污染程度；利用第一污染程度和第二污染程度，对各个污渍闭合边缘内每个像素点的原始裂纹显著值进行改进，获得新的显著值；利用新的裂纹显著值，判断是否存在裂纹；若存在裂纹，则进一步判断是否发生吹风机电机运行故障。本发明通过增强被污渍覆盖或包围的裂纹缺陷的显著值的精准性，有效提高了叶片裂纹检测准确性，提升了吹风机电机运行故障检测准确性。
权利要求书clms
1.一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，包括以下步骤：获取待检测吹风机电机的叶片表面灰度图像，对叶片表面灰度图像进行边缘检测获得各个边缘；根据各个边缘上每个像素点的灰度值、曲率和梯度幅值，确定各个边缘上每个像素点的污渍概率；根据污渍概率确定各个污渍闭合边缘；根据各个污渍闭合边缘内每个像素点的污渍概率和位置，确定各个污渍闭合边缘内每个像素点的第一污染程度；获取各个污渍闭合边缘对应的灰度游程矩阵，根据灰度游程矩阵确定各个污渍闭合边缘内每个像素点的第二污染程度；根据各个污渍闭合边缘内每个像素点的第一污染程度和第二污染程度、原始裂纹显著值，确定各个污渍闭合边缘内每个像素点对应的新的裂纹显著值；利用新的裂纹显著值，判断待检测吹风机电机的叶片中是否存在裂纹；若存在裂纹，则根据裂纹在叶片表面灰度图像中的占比，判断待检测吹风机电机是否发生故障。2.根据权利要求1所述的一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，根据各个边缘上每个像素点的灰度值、曲率和梯度幅值，确定各个边缘上每个像素点的污渍概率，包括：在任意一个边缘上任选一个像素点为选定像素点，以选定像素点为起始点，在选定像素点所属边缘上按照预设方向选取预设数目个连续像素点，组成选定像素点对应的像素点集合；计算选定像素点对应的像素点集合中所有像素点的梯度幅值均值；根据选定像素点和选定像素点的下一个像素点的灰度值、选定像素点对应的像素点集合中每个像素点的曲率和梯度幅值、以及所述梯度幅值均值，确定选定像素点的污渍概率。3.根据权利要求2所述的一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，所述选定像素点的污渍概率的计算公式为：式中，L为选定像素点的污渍概率，为选定像素点的灰度值，/＞为选定像素点的下一个像素点的灰度值，i为选定像素点对应的像素点集合中每个像素点的序号，N为选定像素点对应的像素点集合中的像素点个数，/＞为选定像素点对应的像素点集合中第i+1个像素点的曲率，/＞为选定像素点对应的像素点集合中第i个像素点的曲率，/＞为选定像素点对应的像素点集合中第i个像素点的梯度幅值，/＞为选定像素点对应的像素点集合中所有像素点的梯度幅值均值，/＞为求绝对值函数，Norm为归一化函数。4.根据权利要求1所述的一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，根据污渍概率确定各个污渍闭合边缘，包括：对于任意一个边缘，若边缘上任意一个像素点的污渍概率大于污渍阈值，则判定像素点为污渍闭合边缘像素点，否则，判定像素点不为污渍闭合边缘像素点；利用边缘跟踪算法，遍历叶片表面灰度图像中的所有污渍闭合边缘像素点，获得各个待选污渍闭合边缘；对于任意一个待选污渍闭合边缘，通过相交判断，判断待选污渍闭合边缘是否存在边缘重合，若重合，则标记重合边缘；在利用射线法判断待选污渍闭合边缘上的任意一个像素点与其他待选污渍闭合边缘的内外关系时，检查射线路径上是否与已标记的重合边缘产生交点，若产生交点，则换个方向引入射线，直至和重合边缘不存在交点；统计待选污渍闭合边缘上的该像素点与其他待选污渍闭合边缘相交时的交点数量，若交点数量为偶数，则判定待选污渍闭合边缘为污渍闭合边缘；若交点数量为奇数，则舍弃待选污渍闭合边缘。5.根据权利要求1所述的一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，根据各个污渍闭合边缘内每个像素点的污渍概率和位置，确定各个污渍闭合边缘内每个像素点的第一污染程度，包括：在任意一个污渍闭合边缘上任选一个像素点为目标点，以目标点为原点构建坐标系，做过原点的所有直线；根据污渍闭合边缘上每个像素点的坐标位置，计算直线与污渍闭合边缘相交的两个交点之间的距离，获得目标点对应的最大距离值和最小距离值；确定坐标系的两个坐标轴与污渍闭合边缘的四个轴边交点，计算目标点与各个轴边交点之间的距离；根据目标点对应的最大距离值和最小距离值、目标点与各个轴边交点之间的距离以及各个轴边交点的污渍概率，确定污渍闭合边缘上目标点的第一污染程度。6.根据权利要求5所述的一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，所述第一污染程度的计算公式为：式中，为目标点的第一污染程度，j为轴边交点的序号，/＞为目标点与第j个轴边交点之间的距离，/＞为目标点对应的最小距离值，/＞为目标点对应的最大距离值，/＞为第j个轴边交点的污渍概率。7.根据权利要求1所述的一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，根据灰度游程矩阵确定各个污渍闭合边缘内每个像素点的第二污染程度，包括：对每个污渍闭合边缘对应的灰度游程矩阵进行聚类，获得每个污渍闭合边缘的目标聚类簇对应的灰度级范围；其中，所述目标聚类簇为游程长度最大的聚类簇；对于任意一个污渍闭合边缘，选取污渍闭合边缘内属于目标聚类簇对应的灰度级范围的像素点为中心，构建预设尺寸的局部窗口区域；根据局部窗口区域内中心像素点的灰度值、所有像素点的灰度均值以及中心像素点的局部纹理特征值，确定局部窗口区域内中心像素点的局部混乱程度，将所述局部混乱程度确定为中心像素点的第二污染程度。8.根据权利要求7所述的一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，根据局部窗口区域内中心像素点的灰度值、所有像素点的灰度均值以及中心像素点的局部纹理特征值，确定局部窗口区域内中心像素点的局部混乱程度，包括：计算中心像素点的灰度值和所有像素点的灰度均值的比值，利用对数函数对所述比值进行数据处理，将数据处理后的比值的绝对值确定为中心像素点的第一混乱因子；将中心像素点的局部纹理特征值确定为第二混乱因子；将第一混乱因子和第二混乱因子的乘积确定为中心像素点的局部混乱程度。9.根据权利要求1所述的一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，所述新的裂纹显著值的计算公式为：式中，为污渍闭合边缘内坐标为/＞的像素点对应的新的裂纹显著值，x为横坐标，y为纵坐标，Norm为归一化函数；/＞为污渍闭合边缘内坐标为/＞的像素点的指数函数，/＞由污渍闭合边缘内坐标为/＞的像素点的灰度值是否在目标聚类簇对应的灰度级范围/＞内进行判断，若在则/＞为数值1，若不在则/＞为数值0；e为自然常数，/＞为污渍闭合边缘内坐标为/＞的像素点的第一污染程度，/＞为污渍闭合边缘内坐标为/＞的像素点的第二污染程度，/＞为污渍闭合边缘内坐标为/＞的像素点对应的原始裂纹显著值。10.根据权利要求1所述的一种基于人工智能的吹风机电机运行故障检测方法，其特征在于，利用新的裂纹显著值，判断待检测吹风机电机的叶片中是否存在裂纹，包括：将新的裂纹显著值代入到显著值检测算法中，对叶片表面灰度图像进行显著值检测；判断叶片表面灰度图像中是否存在显著值大于缺陷阈值的像素点，若存在，则判定待检测吹风机电机的叶片中存在裂纹，将显著值大于缺陷阈值的像素点确定为裂纹像素点。
说明书desc
技术领域本发明涉及图像数据处理技术领域，具体涉及一种基于人工智能的吹风机电机运行故障检测方法。背景技术吹风机作为一种使用广泛的个人美容电器，其工作效果会直接影响使用者的体验。吹风机的核心部件电机的运行状况直接决定着吹风机的工作性能，若吹风机电机发生故障将会导致吹风机无法运行或者其工作效率明显降低。吹风机发生故障的原因有很多，一般导致电机发生故障的原因有电机过载运转、轴承损坏、绕组故障等因素，其中，对于叶片裂纹缺陷，当电机叶片存在较为严重的裂纹缺陷时，通常会导致电机的旋转不平稳或不均匀、引起明显的噪音和振动、叶片无法有效旋转以及电机过度劳累无法正常散热，可能会引发过热问题，进而影响吹风机的正常工作。因此，在进行吹风机电机运行故障检测时，需要监测生产流水线上的电机叶片裂纹程度，避免质量不合格的吹风机流入市场，影响商家的声誉和销量。传统吹风机电机运行故障检测中的电机叶片裂纹程度监测，不仅浪费人力资源，而且对于质检人员的主观性依赖较强，故障检测结果不准确。现有的基于图像进行的叶片裂纹检测，对图像中裂纹区域进行分割提取，通过分析裂纹区域在整个叶片中的分布程度，判断当前的电机叶片裂纹是否会对吹风机电机运行产生故障影响。但是，在电机叶片的生产过程中，通过一些油污或润滑剂来降低生产过程中的摩擦阻力，这些物质可能会附着在叶片表面，形成难以擦掉的污渍，而现有叶片裂纹检测方法难以识别被污渍覆盖或位于污渍附近的裂纹缺陷，导致叶片裂纹检测准确性较差，准确性较差的叶片裂纹检测进一步造成吹风机电机运行故障检测准确性较差。发明内容为了解决上述准确性较差的叶片裂纹检测，造成吹风机电机运行故障检测准确性较差的技术问题，本发明的目的在于提供一种基于人工智能的吹风机电机运行故障检测方法，所采用的技术方案具体如下：本发明一个实施例提供了一种基于人工智能的吹风机电机运行故障检测方法，该方法包括以下步骤：获取待检测吹风机电机的叶片表面灰度图像，对叶片表面灰度图像进行边缘检测获得各个边缘；根据各个边缘上每个像素点的灰度值、曲率和梯度幅值，确定各个边缘上每个像素点的污渍概率；根据污渍概率确定各个污渍闭合边缘；根据各个污渍闭合边缘内每个像素点的污渍概率和位置，确定各个污渍闭合边缘内每个像素点的第一污染程度；获取各个污渍闭合边缘对应的灰度游程矩阵，根据灰度游程矩阵确定各个污渍闭合边缘内每个像素点的第二污染程度；根据各个污渍闭合边缘内每个像素点的第一污染程度和第二污染程度、原始裂纹显著值，确定各个污渍闭合边缘内每个像素点对应的新的裂纹显著值；利用新的裂纹显著值，判断待检测吹风机电机的叶片中是否存在裂纹；若存在裂纹，则根据裂纹在叶片表面灰度图像中的占比，判断待检测吹风机电机是否发生故障。进一步地，根据各个边缘上每个像素点的灰度值、曲率和梯度幅值，确定各个边缘上每个像素点的污渍概率，包括：在任意一个边缘上任选一个像素点为选定像素点，以选定像素点为起始点，在选定像素点所属边缘上按照预设方向选取预设数目个连续像素点，组成选定像素点对应的像素点集合；计算选定像素点对应的像素点集合中所有像素点的梯度幅值均值；根据选定像素点和选定像素点的下一个像素点的灰度值、选定像素点对应的像素点集合中每个像素点的曲率和梯度幅值、以及所述梯度幅值均值，确定选定像素点的污渍概率。进一步地，所述选定像素点的污渍概率的计算公式为：式中，L为选定像素点的污渍概率，为选定像素点的灰度值，/＞为选定像素点的下一个像素点的灰度值，i为选定像素点对应的像素点集合中每个像素点的序号，N为选定像素点对应的像素点集合中的像素点个数，/＞为选定像素点对应的像素点集合中第i+1个像素点的曲率，/＞为选定像素点对应的像素点集合中第i个像素点的曲率，/＞为选定像素点对应的像素点集合中第i个像素点的梯度幅值，/＞为选定像素点对应的像素点集合中所有像素点的梯度幅值均值，/＞为求绝对值函数，Norm为归一化函数。进一步地，根据污渍概率确定各个污渍闭合边缘，包括：对于任意一个边缘，若边缘上任意一个像素点的污渍概率大于污渍阈值，则判定像素点为污渍闭合边缘像素点，否则，判定像素点不为污渍闭合边缘像素点；利用边缘跟踪算法，遍历叶片表面灰度图像中的所有污渍闭合边缘像素点，获得各个待选污渍闭合边缘；对于任意一个待选污渍闭合边缘，通过相交判断，判断待选污渍闭合边缘是否存在边缘重合，若重合，则标记重合边缘；在利用射线法判断待选污渍闭合边缘上的任意一个像素点与其他待选污渍闭合边缘的内外关系时，检查射线路径上是否与已标记的重合边缘产生交点，若产生交点，则换个方向引入射线，直至和重合边缘不存在交点；统计待选污渍闭合边缘上的该像素点与其他待选污渍闭合边缘相交时的交点数量，若交点数量为偶数，则判定待选污渍闭合边缘为污渍闭合边缘；若交点数量为奇数，则舍弃待选污渍闭合边缘。进一步地，根据各个污渍闭合边缘内每个像素点的污渍概率和位置，确定各个污渍闭合边缘内每个像素点的第一污染程度，包括：在任意一个污渍闭合边缘上任选一个像素点为目标点，以目标点为原点构建坐标系，做过原点的所有直线；根据污渍闭合边缘上每个像素点的坐标位置，计算直线与污渍闭合边缘相交的两个交点之间的距离，获得目标点对应的最大距离值和最小距离值；确定坐标系的两个坐标轴与污渍闭合边缘的四个轴边交点，计算目标点与各个轴边交点之间的距离；根据目标点对应的最大距离值和最小距离值、目标点与各个轴边交点之间的距离以及各个轴边交点的污渍概率，确定污渍闭合边缘上目标点的第一污染程度。进一步地，所述第一污染程度的计算公式为：式中，为目标点的第一污染程度，j为轴边交点的序号，/＞为目标点与第j个轴边交点之间的距离，/＞为目标点对应的最小距离值，/＞为目标点对应的最大距离值，/＞为第j个轴边交点的污渍概率。进一步地，根据灰度游程矩阵确定各个污渍闭合边缘内每个像素点的第二污染程度，包括：对每个污渍闭合边缘对应的灰度游程矩阵进行聚类，获得每个污渍闭合边缘的目标聚类簇对应的灰度级范围；其中，所述目标聚类簇为游程长度最大的聚类簇；对于任意一个污渍闭合边缘，选取污渍闭合边缘内属于目标聚类簇对应的灰度级范围的像素点为中心，构建预设尺寸的局部窗口区域；根据局部窗口区域内中心像素点的灰度值、所有像素点的灰度均值以及中心像素点的局部纹理特征值，确定局部窗口区域内中心像素点的局部混乱程度，将所述局部混乱程度确定为中心像素点的第二污染程度。进一步地，根据局部窗口区域内中心像素点的灰度值、所有像素点的灰度均值以及中心像素点的局部纹理特征值，确定局部窗口区域内中心像素点的局部混乱程度，包括：计算中心像素点的灰度值和所有像素点的灰度均值的比值，利用对数函数对所述比值进行数据处理，将数据处理后的比值的绝对值确定为中心像素点的第一混乱因子；将中心像素点的局部纹理特征值确定为第二混乱因子；将第一混乱因子和第二混乱因子的乘积确定为中心像素点的局部混乱程度。进一步地，所述新的裂纹显著值的计算公式为：式中，为污渍闭合边缘内坐标为/＞的像素点对应的新的裂纹显著值，x为横坐标，y为纵坐标，Norm为归一化函数；/＞为污渍闭合边缘内坐标为/＞的像素点的指数函数，/＞由污渍闭合边缘内坐标为/＞的像素点的灰度值是否在目标聚类簇对应的灰度级范围/＞内进行判断，若在则/＞为数值1，若不在则/＞为数值0；e为自然常数，/＞为污渍闭合边缘内坐标为/＞的像素点的第一污染程度，/＞为污渍闭合边缘内坐标为/＞的像素点的第二污染程度，/＞为污渍闭合边缘内坐标为的像素点对应的原始裂纹显著值。进一步地，利用新的裂纹显著值，判断待检测吹风机电机的叶片中是否存在裂纹，包括：将新的裂纹显著值代入到显著值检测算法中，对叶片表面灰度图像进行显著值检测；判断叶片表面灰度图像中是否存在显著值大于缺陷阈值的像素点，若存在，则判定待检测吹风机电机的叶片中存在裂纹，将显著值大于缺陷阈值的像素点确定为裂纹像素点。本发明具有如下有益效果：本发明提供了一种基于人工智能的吹风机电机运行故障检测方法，首先，为了便于后续进行图像特征提取和分析，获取叶片表面灰度图像，并对叶片表面灰度图像进行边缘检测获得各个边缘；为了降低污渍闭合边缘内每个像素点的显著值，对各个污渍闭合边缘进行图像分析，提取污渍闭合边缘的特征信息，需要从众多边缘中筛选出污渍闭合边缘，通过分析各个边缘上每个像素点的灰度值、曲率和梯度幅值，可以获得准确度较高的污渍概率，进而确定各个污渍闭合边缘；通过分析各个污渍闭合边缘每个像素点距离边缘的相对位置，可以获得各个污渍闭合边缘内每个像素点的第一污染程度，通过分析各个污渍闭合边缘每个像素点的局部纹理特征，可以获得各个污渍闭合边缘内每个像素点的第二污染程度；基于第一污染程度和第二污染程度进行显著值计算，提高了被污渍包围或覆盖的裂纹缺陷的显著性，降低了污渍区域的显著性，能够对常规区域使用原始的显著值计算，使得电压叶片上被污渍包裹而检测不到的裂纹缺陷具有更高的精度，进一步增强了现有显著性算法的鲁棒性和精确性；本发明提高了吹风机电机叶片裂纹检测的准确性，通过准确的叶片裂纹检测，进一步提升了吹风机电机运行故障检测准确性，主要应用于电机运行故障检测领域。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一种基于人工智能的吹风机电机运行故障检测方法的流程图；图2为本发明实施例中的以目标点为原点构建坐标系对应的示意图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的技术方案的具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一个实施例。此外，一个或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。本实施例针对的应用场景：对于吹风机电机生产流水线上的叶片裂纹进行检测，判断待检测吹风机电机叶片的裂纹程度是否会造成待检测吹风机电机发生故障。现有的裂纹图像分割算法在进行叶片裂纹分析时，容易忽略被污渍覆盖或位于污渍附近的裂纹缺陷，导致裂纹程度检测结果不准确，进而导致吹风机电机运行故障检测准确性较差。为了提高吹风机电机运行故障检测的准确性，本实施例提供了一种基于人工智能的吹风机电机运行故障检测方法，如图1所示，包括以下步骤：S1，获取待检测吹风机电机的叶片表面灰度图像，对叶片表面灰度图像进行边缘检测获得各个边缘。第一步，获取待检测吹风机电机的叶片表面灰度图像。在本实施例中，选择电荷耦合器件的工业摄像头进行待检测吹风机电机叶片拍摄，在拍摄时，工业摄像头应该垂直或接近垂直于叶片正面，拍摄距离适中，确保可以获得清晰完整的产品图像。其中，产品图像是指待检测吹风机电机的叶片表面图像。为了便于后续进行图像数据分析，对叶片表面图像进行灰度化处理，可以获得叶片表面灰度图像，灰度化处理的实现方法包括但不限于：加权平均值法、平均值法、最大值法以及最小值法等，灰度化处理的实现过程为现有技术，此处不再进行详细阐述。为了提高叶片表面灰度图像的清晰度，对叶片表面灰度图像进行图像增强处理，即利用中值滤波去噪和自适应直方图进行均衡增强，消除图像中大部分噪声的影响，图像增强的实现过程为现有技术，此处不再进行详细阐述。值得说明的是，后续的图像分析所使用的图像均为进行过图像增强处理后的图像。第二步，对叶片表面灰度图像进行边缘检测获得各个边缘。在本实施例中，干净无损的叶片较为光滑，若在叶片上存在污渍，则在整个图像上会较为明显，可以对叶片表面灰度图像中污渍区域的图像特征进行分析，以提高裂纹缺陷检测的准确性。利用Canny边缘算子，对叶片表面灰度图像进行边缘检测，获得各个初始边缘，Canny边缘算子的实现过程为现有技术，此处不再进行详细阐述。利用Zhang-suen，对各个初始边缘进行细化，将粗细不均的初始边缘细化为宽度为单像素点的边缘骨架，从而获得叶片表面灰度图像中的各个边缘，Zhang-suen的实现过程为现有技术，此处不再进行详细阐述。至此，本实施例获得了叶片表面灰度图像中的各个边缘。S2，根据各个边缘上每个像素点的灰度值、曲率和梯度幅值，确定各个边缘上每个像素点的污渍概率；根据污渍概率确定各个污渍闭合边缘。需要说明的是，在生产吹风机电机叶片时，使用的润滑油可能会附着在叶片表面，其吸附其他杂质后会产生难以清洗的污渍，且叶片铸模成型时所使用的模具释放剂、胶水等残留物可能会转移到叶片表面，形成难以清洁的污渍。污渍的累积可能遮掩电机叶片的生产裂纹缺陷，传统的图像处理很难检测到被遮掩的裂纹缺陷，所以在进行电机叶片检测时需对叶片表面的污渍区域进行着重检测分析。第一步，根据各个边缘上每个像素点的灰度值、曲率和梯度幅值，确定各个边缘上每个像素点的污渍概率。为了从多个边缘中筛选出污渍区域的边缘，基于污渍边缘的图像特征，确定各个边缘上每个像素点为污渍区域边缘上的像素点概率。具体实现步骤可以包括：第一子步骤，在任意一个边缘上任选一个像素点为选定像素点，以选定像素点为起始点，在选定像素点所属边缘上按照预设方向选取预设数目个连续像素点，组成选定像素点对应的像素点集合。在本实施例中，预设方向为随机选取的一个方向，同一边缘的预设方向相同；选取的预设数目个像素点个数取经验值可以为10，选取的连续像素点的个数可以由实施者根据具体实际情况设置；选定像素点对应的像素点集合中包含选定像素点本身，加上选定像素点的像素点集合中像素点个数为10。第二子步骤，计算选定像素点对应的像素点集合中所有像素点的梯度幅值均值；根据选定像素点和选定像素点的下一个像素点的灰度值、选定像素点对应的像素点集合中每个像素点的曲率和梯度幅值、以及梯度幅值均值，确定选定像素点的污渍概率。作为示例，选定像素点的污渍概率的计算公式可以为：式中，L为选定像素点的污渍概率，为选定像素点的灰度值，/＞为选定像素点的下一个像素点的灰度值，i为选定像素点对应的像素点集合中每个像素点的序号，N为选定像素点对应的像素点集合中的像素点个数，/＞为选定像素点对应的像素点集合中第i+1个像素点的曲率，/＞为选定像素点对应的像素点集合中第i个像素点的曲率，/＞为选定像素点对应的像素点集合中第i个像素点的梯度幅值，/＞为选定像素点对应的像素点集合中所有像素点的梯度幅值均值，/＞为求绝对值函数，Norm为归一化函数。在污渍概率的计算公式中，可以被用于表征选定像素点与其相邻的边缘像素点之间的灰度差异，由于存在部分污渍边缘上相邻像素点的灰度差异较大，故灰度差异越大，说明选定像素点为污渍边缘上的像素点的概率越大；/＞可以被用于表征N个连续边缘像素点对应的N-1个相邻曲率差异的累加和，由于存在部分污渍边缘的形态不规则，故N-1个相邻曲率差异的累加和越大，说明选定像素点为污渍边缘上的像素点的概率越大；/＞可以被用于表征选定像素点对应的像素点集合中每个像素点的梯度幅值与所有像素点的梯度幅值均值之间的差异累加和，由于叶片的内部光滑而污渍区域分布粗糙，故梯度幅值的差异累加和越大，说明选定像素点为污渍边缘上的像素点的概率越大。参考选定像素点的污渍概率的计算过程，可以获得各个边缘上每个像素点的污渍概率。第二步，根据污渍概率确定各个污渍闭合边缘。第一子步骤，对于任意一个边缘，若边缘上任意一个像素点的污渍概率大于污渍阈值，则判定像素点为污渍闭合边缘像素点，否则，判定像素点不为污渍闭合边缘像素点；利用边缘跟踪算法，遍历叶片表面灰度图像中的所有污渍闭合边缘像素点，获得各个待选污渍闭合边缘。在本实施例中，污渍阈值可以取经验值为0.7，对每个边缘上的各个像素点进行污渍边缘判断，将所有污渍边缘上的像素点进行提取和标记，可以获得所有的污渍闭合边缘像素点。污渍区域在叶片上的边缘为闭合区域，故可以使用边缘跟踪算法，以便于在追踪的过程中检查追踪路径是否闭合，将闭合边缘确定为待选污渍闭合边缘。边缘跟踪算法的实现过程为现有技术，不在本发明保护范围内，此处不再进行详细阐述。第二子步骤，对于任意一个待选污渍闭合边缘，通过相交判断，判断待选污渍闭合边缘是否存在边缘重合，若重合，则标记重合边缘；在利用射线法判断待选污渍闭合边缘上的任意一个像素点与其他待选污渍闭合边缘的内外关系时，检查射线路径上是否与已标记的重合边缘产生交点，若产生交点，则换个方向引入射线，直至和重合边缘不存在交点；统计待选污渍闭合边缘上的该像素点与其他待选污渍闭合边缘相交时的交点数量，若交点数量为偶数，则判定待选污渍闭合边缘为污渍闭合边缘；若交点数量为奇数，则舍弃待选污渍闭合边缘。在本实施例中，待选污渍闭合边缘内可能存在子环形边缘，其说明该待选污渍闭合边缘内含有不同程度的污染，但本实施例只需选取最外层的边缘作为污渍闭合边缘。为了排除相邻两个待选污渍闭合边缘存在重合边缘的特殊情况，先利用相交判断现有算法判断待选污渍闭合边缘是否存在边缘重合，以便于获得更准确的交点数量，判断待选污渍闭合边缘是否为子环形边缘，当交点数量为偶数时，说明待选污渍闭合边缘位于最外层边缘上，可以直接判定待选污渍闭合边缘为污渍闭合边缘；当交点数量为奇数时，说明待选污渍闭合边缘位于子环形边缘上，也就是待选污渍闭合边缘为子环形边缘，可以直接舍弃待选污渍闭合边缘。相交判断和射线法的详细实现过程为现有技术，不在本发明保护范围内，此处不再进行详细阐述。至此，本实施例获得了叶片表面灰度图像中的各个污渍闭合边缘。S3，根据各个污渍闭合边缘内每个像素点的污渍概率和位置，确定各个污渍闭合边缘内每个像素点的第一污染程度。需要说明的是，对于电机叶片上的污渍，越靠近污渍区域中心的部分，其污染程度越高，越靠近污渍区域边缘的部分，其污染程度越低，污渍闭合边缘内所有像素点可以组成污渍区域。通过分析污渍闭合边缘内每个像素点的位置，分析各个污渍闭合边缘内每个像素点的第一污染程度，具体的实现步骤可以包括：第一步，在任意一个污渍闭合边缘上任选一个像素点为目标点，以目标点为原点构建坐标系，做过原点的所有直线；根据污渍闭合边缘上每个像素点的坐标位置，计算直线与污渍闭合边缘相交的两个交点之间的距离，获得目标点对应的最大距离值和最小距离值。在本实施例中，以目标点为原点构建坐标系对应的示意图如图2所示，在图2中x表示横坐标，y表示纵坐标，两个交点之间的位置可以是两个点之间的欧氏距离，两点之间的欧氏距离的计算过程为现有技术，此处不再进行详细阐述。对于过原点的所有直线的数量，本实施例不做具体限定，本步骤的主要目的是获得污渍闭合边缘上目标点对应的最大距离值和最小距离值。第二步，确定坐标系的两个坐标轴与污渍闭合边缘的四个轴边交点，计算目标点与各个轴边交点之间的距离。在本实施例中，确定目标点与各个轴边交点之间的距离是为了衡量目标点距离边缘的远近，目标点与各个轴边交点之间的距离越近，说明目标点距离污渍闭合边缘越近，目标点的污染程度越低。两个坐标轴分别为横坐标轴和纵坐标轴，四个轴边交点是指以目标点为原点的正向横轴、负向横轴、正向纵轴以及负向纵轴与目标点所属污渍闭合边缘相交的交点，两点之间的距离为欧氏距离，欧氏距离的计算过程为现有技术，不再本发明保护范围内，此处不再进行详细阐述。第三步，根据目标点对应的最大距离值和最小距离值、目标点与各个轴边交点之间的距离以及各个轴边交点的污渍概率，确定污渍闭合边缘上目标点的第一污染程度。作为示例，目标点的第一污染程度的计算公式可以为：式中，为目标点的第一污染程度，j为轴边交点的序号，/＞为目标点与第j个轴边交点之间的距离，/＞为目标点对应的最小距离值，/＞为目标点对应的最大距离值，/＞为第j个轴边交点的污渍概率。在第一污染程度的计算公式中，中的分母/＞也可以为/＞，分母的主要作用是可以表示像素点到污渍闭合边缘的距离占整个污染区域的最长轴长和最短轴长之和的比例，可以反映出像素点距离污渍闭合边缘的相对位置；对于污渍区域，内部污染程度越高，污渍区域越大，目标点对应的最大距离值和最小距离值越大；目标点与第j个轴边交点之间的距离/＞与第一污染程度/＞为正相关关系，/＞越大，第一污染程度/＞越大；将轴边交点的污渍概率作为权重，可以更好的反映出边缘对边缘内部污染程度的映射，便于更准确地反映污渍闭合边缘内部的污染情况；轴边交点的污渍概率/＞与第一污染程度为正相关关系，/＞越大，/＞越大；参考目标点的第一污染程度的确定过程，可以获得各个污渍闭合边缘内每个像素点的第一污染程度。需要说明的是，较大的最长轴和最短轴长度可能表示污染区域的形状扁平化，说明污渍分布可能是均匀分布的或呈走向性的。内部污染程度越高，污染区域的大小和形态越大，对于内部像素点的计算影响越大。因此，需要量化污渍闭合边缘的边缘形态和大小情况，即确定第一污染程度。至此，本实施例获得了各个污渍闭合边缘内每个像素点的第一污染程度。S4，获取各个污渍闭合边缘对应的灰度游程矩阵，根据灰度游程矩阵确定各个污渍闭合边缘内每个像素点的第二污染程度。需要说明的是，当金属材料受到应力或环境因素的作用时，可能在其表面生成裂纹。因为裂纹的生成是由金属的晶粒结构和晶界导致的断裂行为，会对裂纹的传播和扩展产生影响，导致裂纹形成特定的形态和路径，使得这些裂纹呈现出明显的结构和有序性。因此，污渍区域的像素点纹理细节比较杂乱无序，而裂纹区域的像素点纹理细节规则性较强，两者存在明显的像素分布特征。污渍区域的纹理细节混乱，所以污渍区域的灰度游程长度较短，像素级混乱；相反，裂纹区域的纹理细节规则，所以裂纹区域的游程长度一般较长，像素级相差不大。基于各个污渍闭合边缘对应的灰度游程矩阵，分析各个污渍闭合边缘内部的纹理细节混乱程度和像素级混乱情况，确定第二污染程度，具体实现步骤可以包括：第一步，获取各个污渍闭合边缘对应的灰度游程矩阵。在本实施例中，将256个灰度值平分为64个灰度级，基于各个污渍闭合边缘内部的所有像素点的灰度值，遍历各个污渍闭合边缘内的每个像素点，统计连续相同灰度级的像素点数量，可以获得一个大小为的二维矩阵，即灰度游程矩阵，二维矩阵中的元素可以表示不同灰度级的像素点所游走的长度，也就是污渍闭合边缘内有多个连续出现的灰度级的像素点。平分灰度级的个数可以由实施者根据具体实际情况设定，这里不做具体限定。第二步，根据灰度游程矩阵确定各个污渍闭合边缘内每个像素点的第二污染程度。第一子步骤，对每个污渍闭合边缘对应的灰度游程矩阵进行聚类，获得每个污渍闭合边缘的目标聚类簇对应的灰度级范围。在本实施例中，利用K-means聚类，对每个污渍闭合边缘对应的灰度游程矩阵进行聚类，在聚类过程中使用游程长度的欧氏距离度量游程长度的绝对差异，后续将灰度游程矩阵的游程长度分为长游程、中游程和短游程，故K-means聚类中的聚类簇个数设定为3。在三个聚类簇中选择目标聚类簇对应的灰度级范围，在目标聚类簇对应的灰度级范围内，可以认为裂纹部分所有像素点的灰度值在对应的灰度级范围；每个污渍闭合边缘均有其对应的灰度值范围。其中，目标聚类簇为游程长度最大的聚类簇。K-means聚类的实现过程为现有技术，不在本发明保护范围内，此处不再进行详细阐述。第二子步骤，对于任意一个污渍闭合边缘，选取污渍闭合边缘内属于目标聚类簇对应的灰度级范围的像素点为中心，构建预设尺寸的局部窗口区域；根据局部窗口区域内中心像素点的灰度值、所有像素点的灰度均值以及中心像素点的局部纹理特征值，确定局部窗口区域内中心像素点的局部混乱程度，将局部混乱程度确定为中心像素点的第二污染程度。首先，对于任意一个污渍闭合边缘的灰度游程矩阵，选取污渍闭合边缘内属于目标聚类簇对应的灰度级范围的像素点为中心，构建预设尺寸的局部窗口区域。在本实施例中，为了分析不同污渍闭合边缘内灰度值属于目标聚类簇对应的灰度级范围的像素点的局部混乱程度，重新构建选取的像素点对应的尺寸为的窗口，该窗口可以用于计算像素点的局部混乱程度。其中，M应该是越小，取经验值可以为1。其次，根据局部窗口区域内中心像素点的灰度值、所有像素点的灰度均值以及中心像素点的局部纹理特征值，确定局部窗口区域内中心像素点的局部混乱程度，将局部混乱程度确定为中心像素点的第二污染程度。计算中心像素点的灰度值和所有像素点的灰度均值的比值，利用对数函数对比值进行数据处理，将数据处理后的比值的绝对值确定为中心像素点的第一混乱因子；将中心像素点的局部纹理特征值确定为第二混乱因子；将第一混乱因子和第二混乱因子的乘积确定为中心像素点的局部混乱程度。作为示例，局部混乱程度的计算公式可以为：式中，为中心像素点的局部混乱程度，ln为对数函数，/＞为中心像素点的灰度值，为局部窗口区域内所有像素点的灰度均值，/＞为中心像素点的局部纹理特征值，/＞为绝对值函数。在局部混乱程度的计算公式中，可以表征中心像素点的灰度值与局部窗口内所有像素点的灰度均值之间的差异，/＞越大，局部窗口内像素分布越混乱；局部纹理特征值/＞可以用于捕捉局部纹理特征，若中心像素点的纹理变化较大时，局部纹理特征值越大，局部混乱程度/＞越大；局部混乱程度/＞受中心像素点的灰度值、局部窗口内灰度均值以及中心像素点所属局部窗口内纹理特征的影响，其反映了中心像素点的局部规则性，局部混乱程度越大，表示中心像素点的局部规则性越差，污染程度越大；为了避免存在负数的特殊情况，利用绝对值函数对/＞进行数值处理；参考中心像素点的局部混乱程度的计算过程，可以获得各个污渍闭合边缘内每个像素点的局部混乱程度。值得说明的是，若污渍闭合边缘内不存在裂纹缺陷，则对应的污渍闭合边缘内中心像素点的局部窗口像素分布较为混乱，局部纹理特征值更大，灰度差异/＞也会更大，局部混乱程度/＞越大；若污渍闭合边缘内存在裂纹缺陷，则位于裂纹缺陷上的像素点的局部混乱程度较小。至此，本实施例获得了各个污渍闭合边缘内每个像素点的第二污染程度。S5，根据各个污渍闭合边缘内每个像素点的第一污染程度和第二污染程度、原始裂纹显著值，确定各个污渍闭合边缘内每个像素点对应的新的裂纹显著值。在本实施例中，使用Histogram-based Contrast显著值检测算法，对叶片表面灰度图像中的裂纹缺陷进行图像处理，可以获得各个污渍闭合边缘内每个像素点的原始裂纹显著值。显著值检测算法的实现过程为现有技术，不在本发明保护范围内，此处不再进行详细阐述。基于第一污染程度和第二污染程度，对各个污渍闭合边缘内每个像素点的原始裂纹显著值进行改进，可以获得各个污渍闭合边缘内每个像素点对应的新的裂纹显著值，新的裂纹显著值的计算公式可以为：式中，为污渍闭合边缘内坐标为/＞的像素点对应的新的裂纹显著值，x为横坐标，y为纵坐标，Norm为归一化函数；/＞为污渍闭合边缘内坐标为/＞的像素点的指数函数，/＞由污渍闭合边缘内坐标为/＞的像素点的灰度值是否在目标聚类簇对应的灰度级范围/＞内进行判断，若在则/＞为数值1，若不在则/＞为数值0；e为自然常数，/＞为污渍闭合边缘内坐标为/＞的像素点的第一污染程度，/＞为污渍闭合边缘内坐标为/＞的像素点的第二污染程度，/＞为污渍闭合边缘内坐标为的像素点对应的原始裂纹显著值。在新的裂纹显著值的计算公式中，指数函数可以由污渍闭合边缘对应的目标聚类簇确定灰度级范围，若污渍闭合边缘内存在裂纹部分，说明裂纹部分对应的所有像素点的灰度值在其对应目标聚类簇对应的灰度级范围内，可以将灰度级范围外的像素点暂时排除掉，不进行分析；第一污染程度/＞可以表征通过像素点距离污渍闭合边缘的相对位置以及轴边交点的污渍概率，对污渍闭合边缘进行分析，第一污染程度/＞越大，说明像素点所在污渍区域的污染程度越大，为了检测裂纹区域，对污染程度较大的像素点赋予更小的权重；第二污染程度/＞可以表征通过像素点呈现出的结构和有序性，对污渍闭合边缘进行分析，第二污染程度/＞越大，则代表该像素周围的纹理结构更加复杂和随机，缺乏明显的有序模式，其可以说明此像素点越不可能是裂纹区域，/＞也会随之减小。至此，本实施例获得了各个污渍闭合边缘内每个像素点对应的新的裂纹显著值。S6，利用新的裂纹显著值，判断待检测吹风机电机的叶片中是否存在裂纹；若存在裂纹，则根据裂纹在叶片表面灰度图像中的占比，判断待检测吹风机电机是否发生故障。第一步，利用新的裂纹显著值，判断待检测吹风机电机的叶片中是否存在裂纹。将新的裂纹显著值代入到显著值检测算法中，对叶片表面灰度图像进行显著值检测；判断叶片表面灰度图像中是否存在显著值大于缺陷阈值的像素点，若存在，则判定待检测吹风机电机的叶片中存在裂纹，将显著值大于缺陷阈值的像素点确定为裂纹像素点。在本实施例中，缺陷阈值取经验值可以为1.5，将显著值大于缺陷阈值的像素点判定为显著像素点，即裂纹像素点，可以获得叶片表面灰度图像中的所有裂纹像素点，若存在可以直接判定待检测吹风机电机的叶片中存在裂纹。缺陷阈值的数值大小可以由实施者根据具体实际情况设置，这里不做具体限定。第二步，根据裂纹在叶片表面灰度图像中的占比，判断待检测吹风机电机是否发生故障。本实施例可以对处于污渍周围或者被污渍覆盖的区域有更强的针对性，能够准确的检测到区域内的裂纹缺陷，统计显著值大于缺陷阈值的像素点个数，计算显著值大于缺陷阈值的像素点个数在整体叶片表面灰度图像中所有像素点数量的比例，若比例大于比例阈值，比例阈值取经验值可以为0.1%，则认为叶片表面裂纹曲线会对吹风机电机运行产生故障，完成检测。至此，本发明完成。本发明提供了一种基于人工智能的吹风机电机运行故障检测方法，该运行故障检测方法通过检测边缘，基于边缘的曲率分析结果得到污渍闭合边缘，基于污渍闭合边缘内部的纹理分析构建局部混乱度，并基于局部混乱度以及边缘表达获取显著值的改进结果，完成对风机故障的检测，其有效提高了吹风机电机运行故障检测准确性。以上所述实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围，均应包含在本发明的保护范围之内。
