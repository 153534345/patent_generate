标题title
一种用于地下采矿远程监控的数据增强方法
摘要abst
本发明涉及图像增强技术领域，具体涉及一种用于地下采矿远程监控的数据增强方法。该方法包括：识别待增强图像的多个像素块中的平坦区域像素块和纹理区域像素块，并识别平坦区域像素块中的平坦像素点和纹理像素点；确定纹理像素点和纹理区域像素块中的像素点为目标像素点，根据目标像素点的第一灰度值和第一像素点数量建立直方图；获取目标灰度值的第三像素点数量，将直方图中目标灰度值的第一像素点数量更新为第三像素点数量，得到更新后的直方图；基于更新后的直方图，对待增强图像进行图像增强，得到目标增强图像。本发明在增强图像暗部细节的同时能够保留图像中的亮部细节，提高了图像的可视性。
权利要求书clms
1.一种用于地下采矿远程监控的数据增强方法，其特征在于，所述方法包括：获取地下采矿远程监控数据中的监控图像作为待增强图像，对所述待增强图像进行超像素分割，得到多个像素块；识别所述多个像素块中的平坦区域像素块和纹理区域像素块，并识别所述平坦区域像素块中的平坦像素点和纹理像素点；确定所述纹理像素点和所述纹理区域像素块中的像素点为目标像素点，获取所述目标像素点的第一灰度值和所述第一灰度值的第一像素点数量，根据所述第一灰度值和所述第一像素点数量建立所述待增强图像的直方图；获取所述平坦像素点的第二灰度值和所述第二灰度值的第二像素点数量，从所述第一灰度值中确定与所述第二灰度值相等的目标灰度值，基于所述目标灰度值的第二像素点数量，获取所述目标灰度值的增强度；基于所述增强度，获取所述目标灰度值的第三像素点数量，将所述直方图中所述目标灰度值的第一像素点数量更新为所述第三像素点数量，得到更新后的直方图；基于所述更新后的直方图，对所述待增强图像进行图像增强，得到目标增强图像。2.根据权利要求1所述的方法，其特征在于，所述基于所述第二像素点数量，获取所述目标灰度值的增强度，包括：根据增强度公式获取所述增强度，其中，所述增强度公式包括：其中，为目标灰度值/＞的增强度，/＞为目标灰度值，/＞为目标灰度值/＞的第二像素点数量，/＞为待增强图像的像素点总数量，/＞为自然常数。3.根据权利要求2所述的方法，其特征在于，所述基于所述增强度，获取所述目标灰度值的第三像素点数量，包括：计算所述第一像素点数量与所述增强度之间的第一比值，并取所述第一比值的最小整数作为所述第三像素点数量。4.根据权利要求1所述的方法，其特征在于，所述识别所述多个像素块中的平坦区域像素块和纹理区域像素块，包括：获取所述像素块中每个像素点的灰度值，根据所述灰度值，计算所述像素块的平均灰度值；计算所述像素点的灰度值与所述平均灰度值之间的第一差值；获取处于设定差值范围内的第一差值对应的第四像素点数量和所述像素块的第一像素点总数量，并计算所述第四像素点数量与所述第一像素点总数量之间的第二比值；若所述第二比值大于或等于设定比值阈值，则确定所述像素块为所述平坦区域像素块；若所述第二比值小于设定比值阈值，则确定所述像素块为所述纹理区域像素块。5.根据权利要求1所述的方法，其特征在于，所述识别所述平坦区域像素块中的平坦像素点和纹理像素点，包括：计算所述平坦区域像素块的像素点的灰度值与所述平坦区域像素块的平均灰度值之间的第二差值；若所述第二差值的绝对值大于设定差值阈值，则确定所述像素点为所述纹理像素点；若所述第二差值的绝对值小于或等于设定差值阈值，则确定所述像素点为所述平坦像素点。6.根据权利要求1所述的方法，其特征在于，所述基于所述更新后的直方图，对所述待增强图像进行图像增强，得到目标增强图像，包括：获取所述更新后的直方图的第二像素点总数量以及所述更新后的直方图中所述第一灰度值的像素点数量；计算所述第一灰度值的像素点数量与所述第二像素点总数量之间的第三比值；根据所述第三比值，获取所述第一灰度值的映射函数；根据所述映射函数，对所述待增强图像进行灰度变换处理，得到所述目标增强图像。
说明书desc
技术领域本发明涉及图像增强技术领域，具体涉及一种用于地下采矿远程监控的数据增强方法。背景技术采矿场景主要是地下场景，无自然光照，主要通过矿灯进行照明。为了实时掌握采矿环境的情况，需要矿井下的摄像头在对采矿环境进行监控拍摄，但是在拍摄的监控图像中，灯光正常照射的区域可以显示出细节，而亮度较暗的区域细节较为模糊，可视性较差。因此，需要对监控图像进行数据增强处理来增强图像中的细节，提高监控图像的可视性，进而提高监控图像的信息量。现有技术中，采用全局直方图均衡化方法对监控图像进行数据增强处理，该方法是对监控图像做统一的数据增强处理，由于监控图像中的高亮区域和暗部区域占比较多，且两个区域的像素值相差较大，采用该方法虽然会增强图像中的暗部细节，但同时会出现过度增强的现象，导致监控图像丢失亮部细节。因此，如何在增强监控图像暗部细节的同时保留监控图像的亮部细节，成为了需要解决的问题。发明内容为了解决上述技术问题，本发明的目的在于提供一种用于地下采矿远程监控的数据增强方法，所采用的技术方案具体如下：本发明提出了一种用于地下采矿远程监控的数据增强方法，所述方法包括：获取地下采矿远程监控数据中的监控图像作为待增强图像，对所述待增强图像进行超像素分割，得到多个像素块；识别所述多个像素块中的平坦区域像素块和纹理区域像素块，并识别所述平坦区域像素块中的平坦像素点和纹理像素点；确定所述纹理像素点和所述纹理区域像素块中的像素点为目标像素点，获取所述目标像素点的第一灰度值和所述第一灰度值的第一像素点数量，根据所述第一灰度值和所述第一像素点数量建立所述待增强图像的直方图；获取所述平坦像素点的第二灰度值和所述第二灰度值的第二像素点数量，从所述第一灰度值中确定与所述第二灰度值相等的目标灰度值，基于所述目标灰度值的第二像素点数量，获取所述目标灰度值的增强度；基于所述增强度，获取所述目标灰度值的第三像素点数量，将所述直方图中所述目标灰度值的第一像素点数量更新为所述第三像素点数量，得到更新后的直方图；基于所述更新后的直方图，对所述待增强图像进行图像增强，得到目标增强图像。在一些实施例中，所述基于所述第二像素点数量，获取所述目标灰度值的增强度，包括：根据增强度公式获取所述增强度，其中，所述增强度公式包括：其中，为目标灰度值的增强度，为目标灰度值，为目标灰度值的第二像素点数量，为待增强图像的像素点总数量，为自然常数。在一些实施例中，所述基于所述增强度，获取所述目标灰度值的第三像素点数量，包括：根据所述增强度对所述目标灰度值的第一像素点数量进行增强处理，得到所述第三像素点数量，包括：计算所述第一像素点数量与所述增强度之间的第一比值，并取所述第一比值的最小整数作为所述第三像素点数量。在一些实施例中，所述识别所述多个像素块中的平坦区域像素块和纹理区域像素块，包括：获取所述像素块中每个像素点的灰度值，根据所述灰度值，计算所述像素块的平均灰度值；计算所述像素点的灰度值与所述平均灰度值之间的第一差值；获取处于设定差值范围内的第一差值对应的第四像素点数量和所述像素块的第一像素点总数量，计算所述第四像素点数量与所述第一像素点总数量之间的第二比值；若所述第二比值大于或等于设定比值阈值，则确定所述像素块为所述平坦区域像素块；若所述第二比值小于设定比值阈值，则确定所述像素块为所述纹理区域像素块。在一些实施例中，所述识别所述平坦区域像素块中的平坦像素点和纹理像素点，包括：计算所述平坦区域像素块的像素点的灰度值与所述平坦区域像素块的平均灰度值之间的第二差值；若所述第二差值的绝对值大于设定差值阈值，则确定所述像素点为所述纹理像素点；若所述第二差值的绝对值小于或等于设定差值阈值，则确定所述像素点为所述平坦像素点。在一些实施例中，所述基于所述更新后的直方图，对所述待增强图像进行图像增强，得到目标增强图像，包括：获取所述更新后的直方图的第二像素点总数量以及所述更新后的直方图中所述第一灰度值的像素点数量；计算所述第一灰度值的像素点数量与所述第二像素点总数量之间的第三比值；根据所述第三比值，获取所述第一灰度值的映射函数；根据所述映射函数，对所述待增强图像进行灰度变换处理，得到所述目标增强图像。本发明具有如下有益效果：本发明实施例中，通过对监控图像中平坦区域像素块的纹理像素点和纹理区域像素块的像素点进行数据增强处理，能够提高监控图像的纹理细节，从而提高监控图像的可视性。由于平坦区域像素块中的平坦像素点在建立直方图时被剔除，平坦像素点的像素点数量可以反映对应灰度值的重要程度，根据平坦像素点的像素点数量来确定对应灰度值的增强度，即根据灰度值的重要程度来确定对应灰度值的增强度，能够对监控图像中不同的灰度值进行不同程度的数据增强，从而在增强图像暗部细节的同时能够保留图像中的亮部细节。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种用于地下采矿远程监控的数据增强方法的流程示意图；图2为本发明实施例所提供的一种待增强图像的示意图；图3为本发明实施例所提供的一种待增强图像的超像素分割示意图；图4为本发明实施例所提供的一种待增强图像的直方图；图5为采用现有技术的全局直方图均衡化方法对图2进行数据增强后的图像；图6为图5对应的直方图；图7为对图2进行数据增强后的图像；图8为图7对应的直方图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种用于地下采矿远程监控的数据增强方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一个或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种用于地下采矿远程监控的数据增强方法的具体方案。图1为本发明实施例所提供的一种用于地下采矿远程监控的数据增强方法的流程示意图。如图1所示，该方法包括以下步骤：S101，获取地下采矿远程监控数据中的监控图像作为待增强图像，对待增强图像进行超像素分割，得到多个像素块。一些实施例中，可以通过安装在矿井下的摄像头采集矿井下的监控图像，并将监控图像转换成灰度图像作为待增强图像，然后利用超像素分割算法将待增强图像分割成多个像素块。可选地，超像素分割算法包括简单的线性迭代聚类算法等。示例性的，图2为本发明实施例所提供的一种待增强图像的示意图，图3为本发明实施例所提供的一种待增强图像的超像素分割示意图，可以对图2所示的待增强图像进行超像素分割，得到如图3所示的多个像素块。S102，识别多个像素块中的平坦区域像素块和纹理区域像素块，并识别平坦区域像素块中的平坦像素点和纹理像素点。参见图2，待增强图像包括高光区域、暗光区域和光照区域，其中，高光区域为灯光区域，暗光区域为灯光未照射的区域，光照区域为灯光照射到的区域。由于高光区域和暗光区域内像素点的灰度值变化较小，高光区域和暗光区域内部的纹理细节较少，通常为平坦区域，其中，位于平坦区域的像素块可以称为平坦区域像素块，位于非平坦区域的像素块可以称为纹理区域像素块。本发明实施例中，识别多个像素块中的平坦区域像素块和纹理区域像素块，包括：获取像素块中每个像素点的灰度值，根据灰度值计算像素块的平均灰度值，计算像素点的灰度值与平均灰度值之间的第一差值，获取处于设定差值范围内的第一差值对应的第四像素点数量和像素块的第一像素点总数量，并计算第四像素点数量与第一像素点总数量之间的第二比值，若第二比值大于或等于设定比值阈值，则确定像素块为平坦区域像素块，若第二比值小于设定比值阈值，则确定像素块为纹理区域像素块。需要说明的是，设定差值范围和设定比值阈值可以根据实际需求进行设定，此处不做任何限定，可选地，设定比值阈值可以为75%，设定差值范围可以为，其中，为第个像素块的平均灰度值，为像素块的索引。具体的，计算每个像素块的平均灰度值，并计算该像素块内每个像素点与平均灰度值之间的第一差值，判断该第一差值是否处于设定范围内，以确定该像素块中处于设定范围内的第一差值对应的第四像素点数量，然后获取该像素块的第一像素点总数量之，并计算第四像素点数量与第一像素点总数量之间的第二比值，判断该第二比值是否大于设定比例阈值，若是，则确定该像素块为平坦区域像素块，若否，则确定所述像素块为纹理区域像素块。本发明实施例中，识别平坦区域像素块中的平坦像素点和纹理像素点，包括：计算平坦区域像素块的像素点的灰度值与平坦区域像素块的平均灰度值之间的第二差值，若第二差值的绝对值大于设定差值阈值，则确定像素点为纹理像素点，若第二差值的绝对值小于或等于设定差值阈值，则确定像素点为平坦像素点。需要说明的是，设定差值阈值可以根据实际需求进行设定，此处不做任何限定，可选地，设定差值阈值为5。具体的，在识别平坦区域像素块之后，计算该平坦区域像素块中每个像素点的灰度值与该平坦区域像素块的平均灰度值之间的第二差值，判断该第二差值的绝对值是否大于设定差值阈值，若是，则确定该像素点为纹理像素点，若否，则确定该像素点为平坦像素点。S103，确定纹理像素点和纹理区域像素块中的像素点为目标像素点，获取目标像素点的第一灰度值和第一灰度值的第一像素点数量，根据第一灰度值和第一像素点数量建立待增强图像的直方图。本发明实施例中，对于矿下监控图像，图像中的细节越多，图像包含的信息量越大，为了提高监控图像的信息量，需要对图像中细节区域进行数据增强处理，即需要对纹理像素点和纹理区域像素块中的像素点进行数据增强处理。其中，纹理区域像素块内包括纹理像素点和平坦像素点，由于纹理区域像素块一般处于光照区域内，而光照区域内的信息较为重要，因此，本发明对纹理像素块的纹理像素点和平坦像素点均作为目标像素点进行增强处理，即对纹理区域像素块中全部像素点进行增强处理，以保证监控图像的可视性。在识别纹理区域像素块和平坦区域像素块中的纹理像素点之后，可以将纹理区域像素块中的像素点和纹理像素点作为目标像素点，并获取目标像素点的第一灰度值和第一灰度值的第一像素点数量，以第一灰度值为横坐标，第一像素点数量为纵坐标，建立待增强图像的直方图。例如，图3为本发明实施例所提供的一种待增强图像的超像素分割示意图，图4为本发明实施例所提供的一种待增强图像的直方图，对于图3所示的待增强图像可以建立如图4所示的直方图。S104，获取平坦像素点的第二灰度值和第二灰度值的第二像素点数量，从第一灰度值中确定与第二灰度值相等的目标灰度值，基于目标灰度值的第二像素点数量，获取目标灰度值的增强度。本发明实施例中，在待增强图像的直方图时，未考虑平坦区域像素块中的平坦像素点，即剔除了平坦区域像素块中的平坦像素点，对于平坦区域像素块的每级灰度值，该灰度值对应的平坦像素点的数量越多，表明该灰度值的剔除度越大，相应地，该灰度值在待增强图像中的重要程度越小，越不需要被增强，反之，该灰度值对应的平坦像素点的数量越少，表明该灰度值的剔除度越小，相应地，该灰度值在待增强图像中的重要程度越大，越需要被增强。也即是说，第二像素点数量越大，目标灰度值的增强度越小，第二像素点数量越小，目标灰度值的增强度越大，即目标灰度值的增强度与第二像素点数量呈负相关关系，可以根据该相关关系和第二像素点数量确定目标灰度的增强度。本发明实施例中，基于第二像素点数量，获取目标灰度值的增强度，包括：根据增强度公式获取增强度，其中，增强度公式包括：其中，为目标灰度值的增强度，为目标灰度值，为目标灰度值的第二像素点数量，为待增强图像的像素点总数量，为自然常数。S105，基于增强度，获取目标灰度值的第三像素点数量，将直方图中目标灰度值的第一像素点数量更新为第三像素点数量，得到更新后的直方图。本发明实施例中，基于增强度，获取目标灰度值的第三像素点数量，包括根据增强度对目标灰度值的第一像素点数量进行增强处理，得到第三像素点数量，包括：计算第一像素点数量与增强度之间的第一比值，并取第一比值的最小整数作为第三像素点数量。具体的，可以通过下述公式计算第三像素点数量。其中，为目标灰度值的第三像素点数量，表示取最小整数。本发明实施例中，由增强公式可知，在目标灰度值的增强度小于1时，表明目标灰度值在待增强图像中的重要程度较低，此时目标灰度值的第三像素点数量小于目标灰度值的第二像素点数量，目标灰度值被削弱，在目标灰度值的增强度大于1时，表明目标灰度值在待增强图像中的重要程度较高，此时目标灰度值的第三像素点数量大于目标灰度值的第二像素点数量，对目标灰度值起到增强作用。在获取直方图中目标灰度值的第三像素点数量之后，将直方图中的目标灰度值的第一像素点数量更新为第三像素点数量，得到更新后的直方图。S106，基于更新后的直方图，对待增强图像进行图像增强，得到目标增强图像。本发明实施例中，基于更新后的直方图，对待增强图像进行图像增强，得到目标增强图像，包括但不限于以下步骤：S201，获取更新后的直方图的第二像素点总数量以及更新后的直方图中第一灰度值的像素点数量。S202，计算第一灰度值的像素点数量与第二像素点总数量之间的第三比值。本发明实施例中，可以根据下述公式计算更新后的直方图中每个第一灰度值的像素点数量与更新后的直方图的第二像素点总数量之间的第三比值。其中，为更新后的直方图中的第一灰度值，为更新后的直方图中第一灰度值的像素点数量与第二像素点总数量之间的第三比值，为更新后的直方图中第一灰度值的像素点数量，为更新后的直方图的第二像素点总数量。S203，根据第三比值，获取第一灰度值的映射函数。本发明实施例中，根据第三比值获取第一灰度值的累积分布函数，并根据该累积分布函数获取第一灰度值的映射函数，可选地，第一灰度值的累积分布函数如下：其中，表示更新后的直方图中的第一灰度值的累积分布函数，为第一灰度值的像素点数量与第二像素点总数量之间的第三比值，为正整数。具体的，可以根据上述公式，获取更新后的直方图中的每个第一灰度值的累积分布函数。本发明实施例中，可以通过下述公式，获取更新后的直方图中每个第一灰度值的映射函数。其中，为更新后的直方图中的第一灰度值的映射函数，表示映射区间，可选地，。S204，根据映射函数，对待增强图像进行灰度变换处理，得到目标增强图像。在获取更新后的直方图中的第一灰度值的映射函数之后，可以通过该映射函数对待增强图像中的第一灰度值进行映射处理，得到目标灰度值，并将第一灰度值转换成目标灰度值，以完成对待增强图像的灰度变换，得到目标增强图像。为了使得本领域技术人员更清晰地理解本发明提出的用于地下采矿远程监控的数据增强方法，下面结合图5-图8进行示例性说明：其中，图5是采用现有技术的全局直方图均衡化方法对图2进行数据增强后的图像，其对应的直方图可以参见图6，图6为本发明实施例所提供的另一种待增强图像的直方图，如图5与图6所示，采用全局直方图均衡化方法虽然增强了图像中的暗部细节，但是对图像中亮度较高的区域出现了增强过度的现象，丢失了部分细节。其中，图7是通过本发明提出的用于地下采矿远程监控的数据增强方法对图2进行数据增强后的图像，其对应的直方图可以参见图8，图8为本发明实施例所提供的另一种待增强图像的直方图，如图7与图8所示，本发明提出的用于地下采矿远程监控的数据增强方法在增强图像的暗部细节的同时，可以保留图像较亮区域的细节，具有较好的数据增强效果。综上所述，本发明实施例中，通过对监控图像中平坦区域像素块的纹理像素点和纹理区域像素块的像素点进行数据增强处理，能够提高监控图像的纹理细节，从而提高监控图像的可视性。由于平坦区域像素块中的平坦像素点在建立直方图时被剔除，平坦像素点的像素点数量可以反映对应灰度值的重要程度，根据平坦像素点的像素点数量来确定对应灰度值的增强度，即根据灰度值的重要程度来确定对应灰度值的增强度，能够对监控图像中不同的灰度值进行不同程度的数据增强，从而在增强图像暗部细节的同时能够保留图像中的亮部细节。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
