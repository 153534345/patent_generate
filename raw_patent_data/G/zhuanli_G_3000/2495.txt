标题title
门禁设备、门禁卡和发卡器的控制方法、设备和介质
摘要abst
本申请公开了一种门禁设备、门禁卡和发卡器的控制方法、设备和介质，应用于使用生物数据进行用户鉴别领域，该方法包括：当检测到门禁卡时，发送随机数至所述门禁卡；接收所述门禁卡返回的第一加密值；对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥；对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值；当所述第一加密值与所述第二加密值匹配时，执行放行动作。解决了相关技术中任何人都可以持有门禁卡完成解锁，导致刷卡门禁的安全系数低的技术问题，实现了提高刷卡门禁安全性的技术效果。
权利要求书clms
1.一种门禁设备的控制方法，其特征在于，所述门禁设备的控制方法包括：当检测到门禁卡时，发送随机数至所述门禁卡；接收所述门禁卡返回的第一加密值；对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥；对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值；当所述第一加密值与所述第二加密值匹配时，执行放行动作。2.如权利要求1所述的门禁设备的控制方法，其特征在于，所述对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥的步骤包括：根据所述掌纹信息的哈希值确定分散因子；确定安全模块中，所述门禁卡的标识信息关联的所述应用密钥；根据所述应用密钥和所述分散因子通过对称加密算法，确定所述门禁卡密钥。3.如权利要求1所述的门禁设备的控制方法，其特征在于，所述对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值的步骤包括：根据所述门禁卡的标识信息确定加密算法；通过所述加密算法对所述门禁卡密钥以及所述随机数进行加密运算，得到所述第二加密值。4.如权利要求1所述的门禁设备的控制方法，其特征在于，所述当所述第一加密值与所述第二加密值匹配时，执行放行动作的步骤包括：判定所述第一加密值与所述第二加密值的字符串长度与字符串内容是否相同；当所述字符串长度与所述字符串内容均相同时，获取黑名单标识，并判定所述门禁卡的标识信息与所述黑名单标识是否匹配；当所述标识信息与所述黑名单标识不匹配时，控制通行模块执行所述放行动作。5.一种门禁卡的控制方法，其特征在于，所述门禁卡的控制方法包括：接收门禁设备发送的随机数；基于预存的认证密钥加密所述随机数，生成第一加密值；发送所述第一加密值至所述门禁设备。6.一种发卡器的控制方法，其特征在于，所述发卡器的控制方法包括：当接收到发卡指令时，通过随机比特生成器生成根密钥；确定所述发卡指令关联的一级分散因子，根据所述一级分散因子和所述根密钥生成应用密钥；根据所述应用密钥以及接收到的掌纹信息生成认证密钥；将所述认证密钥写入至所述发卡指令对应的门禁卡，并根据所述发卡指令更新所述门禁卡的权限信息。7.如权利要求6所述的发卡器的控制方法，其特征在于，所述根据所述应用密钥以及接收到的掌纹信息生成认证密钥的步骤包括：对所述掌纹信息进行哈希运算，根据所述掌纹信息对应的哈希值生成二级分散因子；基于所述二级分散因子以及所述应用密钥，通过对称加密算法加密得到所述认证密钥。8.如权利要求6所述的发卡器的控制方法，其特征在于，所述将所述认证密钥写入至所述发卡指令对应的门禁卡，并根据所述发卡指令更新所述门禁卡的权限信息的步骤包括：将所述认证密钥装载至所述门禁卡；根据所述发卡指令确定应用信息文件、有效期以及所述权限信息；根据所述应用信息文件、所述有效期以及所述权限信息更新所述门禁卡。9.一种门禁数据处理设备，其特征在于，包括存储器、处理器及存储在存储器上并可在处理器上运行的门禁识别程序，所述处理器执行所述门禁识别程序时实现如权利要求1至4任一项所述的门禁设备的控制方法，或如权利要求5所述的门禁卡的控制方法，或如权利要求6至8任一项所述的发卡器的控制方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有门禁识别程序，所述门禁识别程序被处理器执行时实现如权利要求1至4任一项所述的门禁设备的控制方法，或如权利要求5所述的门禁卡的控制方法，或如权利要求6至8任一项所述的发卡器的控制方法的步骤。
说明书desc
技术领域本申请涉及使用生物数据进行用户鉴别领域，尤其涉及一种门禁设备、门禁卡和发卡器的控制方法、设备和介质。背景技术目前，由于智能门禁在安全性、便捷性以及互动性方面都远胜于传统门禁，智能门禁包括指纹门禁、密码门禁、人脸识别门禁、刷卡门禁等，正在取代传统钥匙锁的门禁方式。其中，刷卡门禁使用门禁卡来替代传统的钥匙，预先将门禁密钥写入门禁卡中，使用时通过门禁卡与读卡器的触碰交互来完成密钥匹配，进而实现开锁。但是，门禁卡存在遗失的风险，任何人都可以持有门禁卡完成解锁，导致刷卡门禁的安全系数低。发明内容本申请实施例通过提供一种门禁设备、门禁卡和发卡器的控制方法、设备和介质，解决了相关技术中任何人都可以持有门禁卡完成解锁，导致刷卡门禁的安全系数低的技术问题，实现了核对门禁卡使用者的身份信息，提高刷卡门禁安全性的技术效果。本申请实施例提供了一种门禁设备的控制方法，所述门禁设备的控制方法包括：当检测到门禁卡时，发送随机数至所述门禁卡；接收所述门禁卡返回的第一加密值；对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥；对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值；当所述第一加密值与所述第二加密值匹配时，执行放行动作。可选地，所述对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥的步骤包括：根据所述掌纹信息的哈希值确定分散因子；确定安全模块中，所述门禁卡的标识信息关联的所述应用密钥；根据所述应用密钥和所述分散因子通过对称加密算法，确定所述门禁卡密钥。可选地，所述对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值的步骤包括：根据所述门禁卡的标识信息确定加密算法；通过所述加密算法对所述门禁卡密钥以及所述随机数进行加密运算，得到所述第二加密值。可选地，所述当所述第一加密值与所述第二加密值匹配时，执行放行动作的步骤包括：判定所述第一加密值与所述第二加密值的字符串长度与字符串内容是否相同；当所述字符串长度与所述字符串内容均相同时，获取黑名单标识，并判定所述门禁卡的标识信息与所述黑名单标识是否匹配；当所述标识信息与所述黑名单标识不匹配时，控制通行模块执行所述放行动作。本申请实施例提供一种门禁卡的控制方法，所述门禁卡的控制方法包括：接收门禁设备发送的随机数；基于预存的认证密钥加密所述随机数，生成第一加密值；发送所述第一加密值至所述门禁设备。本申请实施例提供一种发卡器的控制方法，所述发卡器的控制方法包括：当接收到发卡指令时，通过随机比特生成器生成根密钥；确定所述发卡指令关联的一级分散因子，根据所述一级分散因子和所述根密钥生成应用密钥；根据所述应用密钥以及接收到的掌纹信息生成认证密钥；将所述认证密钥写入至所述发卡指令对应的门禁卡，并根据所述发卡指令更新所述门禁卡的权限信息。可选地，所述根据所述应用密钥以及接收到的掌纹信息生成认证密钥的步骤包括：对所述掌纹信息进行哈希运算，根据所述掌纹信息对应的哈希值生成二级分散因子；基于所述二级分散因子以及所述应用密钥，通过对称加密算法加密得到所述认证密钥。可选地，所述将所述认证密钥写入至所述发卡指令对应的门禁卡，并根据所述发卡指令更新所述门禁卡的权限信息的步骤包括：将所述认证密钥装载至所述门禁卡；根据所述发卡指令确定应用信息文件、有效期以及所述权限信息；根据所述应用信息文件、所述有效期以及所述权限信息更新所述门禁卡。此外，本申请还提出一种门禁数据处理设备，所述门禁数据处理设备包括存储器、处理器及存储在存储器上并可在处理器上运行的门禁识别程序，所述处理器执行所述门禁识别程序时实现如上所述的门禁设备控制方法，或门禁卡的控制方法，或发卡器的控制方法的步骤。此外，本申请还提出一种计算机可读存储介质，所述计算机可读存储介质上存储有门禁识别程序，所述门禁识别程序被处理器执行时实现如上所述的门禁设备控制方法，或门禁卡的控制方法，或发卡器的控制方法的步骤。本申请实施例中提供的一个或多个技术方案，至少具有如下技术效果或优点：1、由于采用了当检测到门禁卡时，发送随机数至所述门禁卡；接收所述门禁卡返回的第一加密值；对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥；对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值；当所述第一加密值与所述第二加密值匹配时，执行放行动作。所以，有效解决了相关技术中任何人都可以持有门禁卡完成解锁，导致刷卡门禁的安全系数低的技术问题，实现了核对门禁卡使用者的身份信息，提高刷卡门禁安全性的技术效果。2、由于采用了当接收到发卡指令时，通过随机比特生成器生成根密钥；确定所述发卡指令关联的一级分散因子，根据所述一级分散因子和所述根密钥生成应用密钥；根据所述应用密钥以及接收到的掌纹信息生成认证密钥；将所述认证密钥写入至所述发卡指令对应的门禁卡，并根据所述发卡指令更新所述门禁卡的权限信息。所以，有效解决了相关技术中使用掌纹门禁时会采集使用者掌纹图像，导致使用者的隐私得不到保障，进而实现了不存储人体特征信息，提升门禁使用的隐私性的技术效果。附图说明图1为本申请门禁设备的控制方法实施例一的流程示意图；图2为本申请门禁卡的控制方法实施例二的流程示意图；图3为本申请发卡器的控制方法实施例三的流程示意图；图4为本申请门禁数据处理设备实施例涉及的硬件结构示意图。具体实施方式在相关技术中，密码门禁无需硬件介质，通过密码来进行开锁操作，但是并不会对使用对象进行鉴别，安全性不强。指纹门禁存在用正确的指纹进行识别，但是识别不通过的情况，且全球存在指纹特征不 清晰的人群。人脸识别门禁则容易被破解，并且采集的人脸信息容易被滥用，泄露使用对象的个人隐私。而刷卡门禁使用门禁卡来替代传统的钥匙，预先将门禁密码写入门禁卡中，使用时通过门禁卡与读卡器的触碰交互来完成密钥匹配，进而实现开锁。但是，门禁卡存在遗失的风险，任何人都可以持有门禁卡完成解锁，导致刷卡门禁的安全系数低。本申请实施例采用的主要技术方案是：当读取到门禁卡以及掌纹信息时，向门禁卡发送随机数，并接收门禁卡返回的第一加密值；根据预存的应用密钥、随机数以及掌纹信息，生成第二加密值，当第一加密值与第二加密值匹配时，执行放行动作。从而实现了核对门禁卡使用者的身份信息，提高刷卡门禁安全性的技术效果。为了更好地理解上述技术方案，下面将参照附图更详细地描述本申请的示例性实施例。虽然附图中显示了本申请的示例性实施例，然而应当理解，能够以各种形式实现本申请而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更透彻地理解本申请，并且能够将本申请的范围完整地传达给本领域的技术人员。实施例一本申请实施例一公开了一种门禁设备的控制方法，参照图1，所述门禁设备的控制方法包括：步骤S110，当检测到门禁卡时，发送随机数至所述门禁卡；在本实施例中，当门禁设备读取到门禁卡信息时，发送随机数至门禁卡。作为一种可选实施方式，当门禁设备检测到门禁卡时，通过密码模块生成随机数，并发送随机数至门禁卡。示例性的，当门禁设备读取到门禁卡的相关信息时，发送随机数生成指令至门禁设备上的密码模块，密码模块根据接收到的随机数生成指令关联的参数值，生成与参数值有关的随机数，将随机数通过近场通信技术发送至门禁卡。步骤S120，接收所述门禁卡返回的第一加密值；在本实施例中，第一加密值为门禁卡响应随机数而返回的字符串。作为一种可选实施方式，通过近场通信技术接受门禁卡返回的第一加密值。示例性的，用户将门禁卡放置在读卡器能够读取的工作位置处，在门禁设备检测到门禁卡信息时，发送随机数至门禁卡，并接收门禁卡返回的第一加密值。通过近场通信技术以及回传的字符串进行处理，使得在触碰刷卡场景下，即使触碰时间短，也能完成信息交互，提升门禁使用效率。步骤S130，对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥；在本实施例中，应用密钥为与存在门禁设备中，与门禁卡关联的密钥。作为一种可选实施方式，确定门禁卡关联的应用密钥，获取掌纹识别模块采集的掌纹信息，以掌纹信息的哈希值为分散因子，根据分散因子以及应用密钥，基于预设的算法分散为门禁卡密钥。可选地，步骤S130包括：步骤S131，根据所述掌纹信息的哈希值确定分散因子；步骤S132，确定安全模块中，所述门禁卡的标识信息关联的所述应用密钥；步骤S133，根据所述应用密钥和所述分散因子通过对称加密算法，确定所述门禁卡密钥。作为一种可选实施方式，对掌纹信息进行哈希运算，将得到的哈希值作为分散因子，在门禁设备的安全模块中，根据门禁卡的标识信息，确定门禁卡对应的应用密钥，根据预设的对称加密算法，对应用密钥和分散因子进行算法分散处理，得到门禁卡密钥。示例性的，用SM1或者SM4算法分散得到门禁卡的门禁卡密钥，即门禁卡密钥=Enc，其中Enc是指加密处理，SM1或者SM4算法为国密算法。步骤S140，对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值；作为一种可选实施方式，通过对称加密算法，以随机数和门禁卡密钥为加密元素，加密得到第二加密值。可选地，步骤S140包括：步骤S141，根据所述门禁卡的标识信息确定加密算法；步骤S142，通过所述加密算法对所述门禁卡密钥以及所述随机数进行加密运算，得到所述第二加密值。作为一种可选实施方式，确定门禁卡的标识信息对应的加密算法，获取密码模块生成的随机数，根据加密算法对门禁卡密钥以及随机数进行加密，得到与随机数以及标识信息对应的第二加密值。即第二加密值=Enc。示例性的，向密码模块发送随机数获取指令，密码模块根据该指令关联的标识信息，确定对应的随机数，并返回所述随机数。步骤S150，当所述第一加密值与所述第二加密值匹配时，执行放行动作。作为一种可选实施方式，对第一加密值以及第二加密值进行比对，当第一加密值与第二加密值相同时，控制门禁设备执行放行动作。可选地，步骤S150包括：步骤S151，判定所述第一加密值与所述第二加密值的字符串长度与字符串内容是否相同；步骤S152，当所述字符串长度与所述字符串内容均相同时，获取黑名单标识，并判定所述门禁卡的标识信息与所述黑名单标识是否匹配；步骤S153，当所述标识信息与所述黑名单标识不匹配时，控制通行模块执行所述放行动作。在本实施例中，字符串长度为第一加密值以及第二加密值对应的字符串中字符的个数。作为一种可选实施方式，判定第一加密值与第二加密值对应的字符串长度是否相同，当两者的字符串长度相同时，确定第一加密值与第二加密值中，相同字符位置处的字符是否相同，当各个字符位置处的字符都相同时，获取黑名单标识，判定是否存在与门禁卡的标识信息匹配的黑名单标识，若不存在，则控制通行模块执行放行动作。在本实施例中，当第一加密值与第二加密值不相同时，控制门禁设备不执行放行动作，并输出身份验证失败的提示信息。上述本申请实施例中的技术方案，至少具有如下的技术效果或优点：由于采用了当检测到门禁卡时，发送随机数至所述门禁卡；接收所述门禁卡返回的第一加密值；对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥；对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值；当所述第一加密值与所述第二加密值匹配时，执行放行动作。所以，有效解决了相关技术中任何人都可以持有门禁卡完成解锁，导致刷卡门禁的安全系数低的技术问题，实现了核对门禁卡使用者的身份信息，提高刷卡门禁安全性的技术效果。基于实施例一，本申请实施例二提出一种门禁卡的控制方法，参照图2，步骤S120之前，门禁卡的控制方法包括：步骤S210，接收门禁设备发送的随机数；在本实施例中，门禁设备与门禁卡之间存在信息传输通道，通过该信息传输通道实现门禁卡与门禁设备之间的信息交互。作为一种可选实施方式，通过近场通信技术，根据信息传输通道接收门禁设备发送的随机数。示例性的，当用户使用门禁卡在门禁设备的读卡器进行刷卡动作时，读卡器读取门禁卡预存的信息，门禁卡接收门禁设备发送的随机数。步骤S220，基于预存的认证密钥加密所述随机数，生成第一加密值；在本实施例中，认证密钥预存在门禁卡中。作为一种可选实施方式，根据预存的加密算法对认证密钥和随机数执行加密运算，得到第一加密值。示例性的，使用SM4/SM1对称加密算法对认证密钥和随机数执行加密运算，将加密结果作为第一加密值。即，第一加密值=Enc。步骤S230，发送所述第一加密值至所述门禁设备。作为一种可选实施方式，确定目标门禁设备，将第一加密值发送至门禁设备。示例性的，通过近场通信技术将第一加密值发送至门禁设备。由于采用了门禁卡接收门禁设备发送的随机数，并根据随机数以及预存的认证密钥生成第一加密值；再将第一加密值返回至门禁设备，所以，结合实施例一所涉及的技术方案，有效解决了相关技术中需要存储使用者的生物特征，容易造成隐私泄露的技术问题，在不存储使用者生物特征的情况下，实现了使用者使用门禁卡时的身份核验，提高刷卡门禁的安全性，还保证了使用者的隐私安全。基于实施例一，本申请实施例三提出一种发卡器的控制方法，参照图3，发卡器的控制方法包括：步骤S310，当接收到发卡指令时，通过随机比特生成器生成根密钥；在本实施例中，随机比特生成器用于生成固定长度的比特数据，作为根密钥。作为一种可选实施方式，当发卡器接收到发卡系统下发的发卡指令时，通过随机比特生成器生成预设长度的根密钥。示例性的，通过随机比特生成器生成16字节的根密钥。示例性的，获取发卡指令关联的加密算法，确定所述加密算法匹配的预设长度，通过随机比特生成器，生成该预设长度的根密钥。步骤S320，确定所述发卡指令关联的一级分散因子，根据所述一级分散因子和所述根密钥生成应用密钥；在本实施例中，通过加密算法加密两个元素得到密钥，通过一级分散因子与加密元素进行加密运算，得到一级密钥，即应用密钥。作为一种可选实施方式，获取发卡指令中包含的一级分散因子，基于发卡指令关联的加密算法，使用一级分散因子对根密钥进行加密，将加密得到的密钥作为应用密钥。示例性的，获取发卡指令关联的企业标识，根据发卡指令关联的SM1或SM4加密算法，使用企业标识对根密钥进行加密，生成应用密钥，并将应用密钥传输至门禁设备的读卡器。步骤S330，根据所述应用密钥以及接收到的掌纹信息生成认证密钥；在本实施例中，掌纹信息为使用者录入的掌纹特征或掌纹图样。作为一种可选实施方式，根据对称加密算法，基于掌纹信息和应用密钥进行加密运算，得到认证密钥。可选地，步骤S330包括：步骤S331，对所述掌纹信息进行哈希运算，根据所述掌纹信息对应的哈希值生成二级分散因子；步骤S332，基于所述二级分散因子以及所述应用密钥，通过对称加密算法加密得到所述认证密钥。作为一种可选实施方式，根据采集到的掌纹信息生成掌纹特征，对掌纹特征进行哈希运算，将得到的哈希值作为二级分散因子；对二级分散因子和应用密钥通过对称加密算法进行加密运算，得到认证密钥。步骤S340，将所述认证密钥写入至所述发卡指令对应的门禁卡，并根据所述发卡指令更新所述门禁卡的权限信息。在本实施例中，发卡器将认证密钥写入门禁卡。作为一种可选实施方式，在生成认证密钥后，将认证密钥写入至待写入的门禁卡，并基于发卡指令更新门禁卡的权限信息、有效期、应用信息文件等。可选地，步骤S340包括：步骤S341，将所述认证密钥装载至所述门禁卡；步骤S342，根据所述发卡指令确定应用信息文件、有效期以及所述权限信息；步骤S343，根据所述应用信息文件、所述有效期以及所述权限信息更新所述门禁卡。作为一种可选实施方式，将认证密钥写入发卡指令对应的门禁卡，根据发卡信息，将门禁卡更新门禁卡的应用信息文件，重写门禁卡的有效起始时间以及有效终止时间，更新门禁卡的权限信息。其中权限信息存储有可执行的门禁设备的设备标识。由于采用了当接收到发卡指令时，通过随机比特生成器生成根密钥；确定所述发卡指令关联的一级分散因子，根据所述一级分散因子和所述根密钥生成应用密钥；根据所述应用密钥以及接收到的掌纹信息生成认证密钥；将所述认证密钥写入至所述发卡指令对应的门禁卡，并根据所述发卡指令更新所述门禁卡的权限信息。所以，有效解决了相关技术中使用掌纹门禁时会采集使用者掌纹图像，导致使用者的隐私得不到保障，进而实现了不存储人体特征信息，提升门禁使用的隐私性的技术效果。本申请还提出一种门禁数据处理设备，参照图4，图4为本申请实施例方案涉及的硬件运行环境的门禁数据处理设备结构示意图。如图4所示，该门禁数据处理设备可以包括：处理器1001，例如中央处理器，通信总线1002、用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选地可以包括标准的有线接口、无线接口接口）。存储器1005可以是高速的随机存取存储器存储器，也可以是稳定的非易失性存储器，例如磁盘存储器。存储器1005可选地还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图4中示出的结构并不构成对门禁数据处理设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。可选地，存储器1005与处理器1001电性连接，处理器1001可用于控制存储器1005的运行，还可以读取存储器1005中的数据以实现基于掌纹的门禁识别。可选地，如图4所示，作为一种存储介质的存储器1005中可以包括操作系统、数据存储模块、网络通信模块、用户接口模块以及门禁识别程序。可选地，在图4所示的门禁数据处理设备中，网络接口1004主要用于与其他设备进行数据通信；用户接口1003主要用于与用户进行数据交互；本申请门禁数据处理设备中的处理器1001、存储器1005可以设置在门禁数据处理设备中。如图4所示，所述门禁数据处理设备通过处理器1001调用存储器1005中存储的门禁识别程序，并执行本申请实施例提供的门禁设备、门禁卡和发卡器的控制方法的相关步骤操作：当检测到门禁卡时，发送随机数至所述门禁卡；接收所述门禁卡返回的第一加密值；对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥；对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值；当所述第一加密值与所述第二加密值匹配时，执行放行动作。可选地，处理器1001可以调用存储器1005中存储的门禁识别程序，还执行以下操作：根据所述掌纹信息的哈希值确定分散因子；确定安全模块中，所述门禁卡的标识信息关联的所述应用密钥；根据所述应用密钥和所述分散因子通过对称加密算法，确定所述门禁卡密钥。可选地，处理器1001可以调用存储器1005中存储的门禁识别程序，还执行以下操作：根据所述门禁卡的标识信息确定加密算法；通过所述加密算法对所述门禁卡密钥以及所述随机数进行加密运算，得到所述第二加密值。可选地，处理器1001可以调用存储器1005中存储的门禁识别程序，还执行以下操作：判定所述第一加密值与所述第二加密值的字符串长度与字符串内容是否相同；当所述字符串长度与所述字符串内容均相同时，获取黑名单标识，并判定所述门禁卡的标识信息与所述黑名单标识是否匹配；当所述标识信息与所述黑名单标识不匹配时，控制通行模块执行所述放行动作。可选地，处理器1001可以调用存储器1005中存储的门禁识别程序，还执行以下操作：接收门禁设备发送的随机数；基于预存的认证密钥加密所述随机数，生成第一加密值；发送所述第一加密值至所述门禁设备。可选地，处理器1001可以调用存储器1005中存储的门禁识别程序，还执行以下操作：当接收到发卡指令时，通过随机比特生成器生成根密钥；确定所述发卡指令关联的一级分散因子，根据所述一级分散因子和所述根密钥生成应用密钥；根据所述应用密钥以及接收到的掌纹信息生成认证密钥；将所述认证密钥写入至所述发卡指令对应的门禁卡，并根据所述发卡指令更新所述门禁卡的权限信息。可选地，处理器1001可以调用存储器1005中存储的门禁识别程序，还执行以下操作：对所述掌纹信息进行哈希运算，根据所述掌纹信息对应的哈希值生成二级分散因子；基于所述二级分散因子以及所述应用密钥，通过对称加密算法加密得到所述认证密钥。可选地，处理器1001可以调用存储器1005中存储的门禁识别程序，还执行以下操作：将所述认证密钥装载至所述门禁卡；根据所述发卡指令确定应用信息文件、有效期以及所述权限信息；根据所述应用信息文件、所述有效期以及所述权限信息更新所述门禁卡。此外，本申请实施例还提出一种计算机可读存储介质，所述计算机可读存储介质上存储有门禁识别程序，所述门禁识别程序被处理器执行时实现如上所述的门禁设备控制方法，或门禁卡的控制方法，或发卡器的控制方法的任一实施例的相关步骤。此外，本申请实施例还提出一种门禁管理系统，所述门禁管理系统包括门禁设备、门禁卡和发卡器，其中，门禁设备当检测到门禁卡时，发送随机数至所述门禁卡；接收所述门禁卡返回的第一加密值；对应用密钥以及接收到的掌纹信息进行算法分散处理，确定门禁卡密钥；对所述门禁卡密钥以及所述随机数经过算法加密得到第二加密值；当所述第一加密值与所述第二加密值匹配时，执行放行动作。门禁卡在接收门禁设备发送的随机数后，基于预存的认证密钥加密所述随机数，生成第一加密值，再发送所述第一加密值至门禁设备。发卡器在接收到发卡指令时，当接收到发卡指令时，通过随机比特生成器生成根密钥；确定所述发卡指令关联的一级分散因子，根据所述一级分散因子和所述根密钥生成应用密钥，将应用密钥传输至门禁设备的读卡器并存储，根据所述应用密钥以及接收到的掌纹信息生成认证密钥；将所述认证密钥写入至所述发卡指令对应的门禁卡，并根据所述发卡指令更新所述门禁卡的权限信息。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。应当注意的是，在权利要求中，不应将位于括号之间的任何参考符号构造成对权利要求的限制。单词“包含”不排除存在未列在权利要求中的部件或步骤。位于部件之前的单词“一”或“一个”不排除存在多个这样的部件。本申请可以借助于包括有若干不同部件的硬件以及借助于适当编程的计算机来实现。在列举了若干装置的单元权利要求中，这些装置中的若干个可以是通过同一个硬件项来具体体现。单词第一、第二、以及第三等的使用不表示任何顺序。可将这些单词解释为名称。尽管已描述了本申请的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例作出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本申请范围的所有变更和修改。显然，本领域的技术人员可以对本申请进行各种改动和变型而不脱离本申请的精神和范围。这样，倘若本申请的这些修改和变型属于本申请权利要求及其等同技术的范围之内，则本申请也意图包含这些改动和变型在内。
