标题title
径流预测方法、装置、计算机设备和存储介质
摘要abst
本申请涉及一种径流预测方法、装置、计算机设备和存储介质。所述方法包括：获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据；基于预设的基流分割规则，对所述历史径流数据进行基流分割，得到所述目标水文站的历史基流数据和历史快速径流数据；基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定所述目标水文站的基流预测结果；基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果；基于所述基流预测结果和所述快速径流预测结果，确定所述目标水文站的径流预测结果。采用本方法能够预测流域未来径流。
权利要求书clms
1.一种径流预测方法，其特征在于，所述方法包括：获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据；基于预设的基流分割规则，对所述历史径流数据进行基流分割，得到所述目标水文站的历史基流数据和历史快速径流数据；基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定所述目标水文站的基流预测结果；基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果；基于所述基流预测结果和所述快速径流预测结果，确定所述目标水文站的径流预测结果。2.根据权利要求1所述的方法，其特征在于，所述预测时间为预设单位时间，所述基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果包括：将所述预测时间之前第一时间段内的历史快速径流数据、所述预测时间之前第二时间段内的历史降水数据和所述预测时间的降水预测数据输入至预先训练的快速径流预测模型，得到所述目标水文站的快速径流预测结果。3.根据权利要求1所述的方法，其特征在于，所述预测时间为包括N个预设单位时间的时间段，N为整数，N≥2，所述基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果包括：将所述预测时间中的第i个单位时间作为目标时间，1≤i≤N，i的初始值为1；将所述目标时间之前第一时间段内的历史快速径流数据和/或快速径流预测数据、所述目标时间之前第二时间段内的历史降水数据和/或降水预测数据、以及所述目标时间的降水预测数据输入至预先训练的快速径流预测模型，得到所述目标时间的快速径流预测数据；将i的取值加1，并返回所述将所述预测时间中的第i个单位时间作为目标时间步骤；生成包含各所述所述目标时间的快速径流预测数据的所述目标水文站的快速径流预测结果。4.根据权利要求1所述的方法，其特征在于，所述基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定所述目标水文站的基流预测结果包括：基于预设的退水曲线，拟合与预测时间最近的一次退水段的历史基流数据，得到所述目标水文站的退水常数；将所述预测时间的前一个单位时间的历史基流数据，作为所述目标水文站的基流初始数据；基于所述退水曲线、所述退水常数、所述预测时间和所述基流初始数据，确定所述目标水文站的基流预测结果。5.根据权利要求1所述的方法，其特征在于，所述获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据包括：在预设的流域和采集区域的映射关系中，查询所述目标流域对应的目标采集区域；获取目标流域内目标水文站的历史径流数据和所述目标采集区域内各目标气象站对应的历史降水数据；针对每一个单位时间的历史降水数据，基于所述各目标气象站对应的所述单位时间的历史降水数据和所述各目标气象站对应的权重，加权计算所述目标流域在所述单位时间的历史降水数据；所述目标流域在各所述单位时间的历史降水数据构成所述目标流域的历史降水数据。6.根据权利要求5所述的方法，其特征在于，所述方法还包括：根据所述各目标气象站的位置信息，在所述目标采集区域内，创建泰森多边形；针对每一个目标气象站，将所述目标气象站所在的泰森多边形的面积与各所述泰森多边形的总面积的比值，作为所述目标气象站对应的权重。7.根据权利要求1所述的方法，其特征在于，所述快速径流预测模型的训练过程包括：获取在所述预测时间之前的第三时间段内的目标流域内目标水文站的历史径流样本数据和目标流域的历史降水样本数据；基于预设的基流分割规则，对所述历史径流样本数据进行基流分割，得到所述目标水文站的历史基流样本数据和历史快速径流样本数据；针对每一个单位时间，将所述单位时间之前第一时间段内的历史快速径流数据、所述单位时间之前第二时间段内的历史降水数据和所述单位时间的降水预测数据，构成目标样本；将各所述目标样本，构成所述目标水文站的目标数据集，并基于所述目标水文站的目标数据集，训练目标网络，得到所述目标水文站的快速径流预测模型。8.一种径流预测装置，其特征在于，所述装置包括：第一获取模块，用于获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据；第一分割模块，用于基于预设的基流分割规则，对所述历史径流数据进行基流分割，得到所述目标水文站的历史基流数据和历史快速径流数据；第一预测模块，用于基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定所述目标水文站的基流预测结果；第二预测模块，用于基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果；第三预测模块，用于基于所述基流预测结果和所述快速径流预测结果，确定所述目标水文站的径流预测结果。9.一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至7中任一项所述的方法的步骤。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至7中任一项所述的方法的步骤。
说明书desc
技术领域本申请涉及水文预报技术领域，特别是涉及一种径流预测方法、装置、计算机设备、存储介质和计算机程序产品。背景技术径流预报是水资源开发、调度与管理、水利工程运行与维护、水旱灾害防御等实践工作中的重要手段。准确的径流预报可以为抗旱减灾提供技术支撑，为国家的水安全提供科技保障。因此，亟需一种能够预测流域未来径流的径流预测方法。发明内容基于此，有必要针对上述技术问题，提供一种能够预测流域未来径流的径流预测方法、装置、计算机设备、计算机可读存储介质和计算机程序产品。第一方面，本申请提供了一种径流预测方法。所述方法包括：获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据；基于预设的基流分割规则，对所述历史径流数据进行基流分割，得到所述目标水文站的历史基流数据和历史快速径流数据；基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定所述目标水文站的基流预测结果；基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果；基于所述基流预测结果和所述快速径流预测结果，确定所述目标水文站的径流预测结果。在其中一个实施例中，所述预测时间为预设单位时间，所述基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果包括：将所述预测时间之前第一时间段内的历史快速径流数据、所述预测时间之前第二时间段内的历史降水数据和所述预测时间的降水预测数据输入至预先训练的快速径流预测模型，得到所述目标水文站的快速径流预测结果。在其中一个实施例中，所述预测时间为包括N个预设单位时间的时间段，N为整数，N≥2，所述基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果包括：将所述预测时间中的第i个单位时间作为目标时间，1≤i≤N，i的初始值为1；将所述目标时间之前第一时间段内的历史快速径流数据和/或快速径流预测数据、所述目标时间之前第二时间段内的历史降水数据和/或降水预测数据、以及所述目标时间的降水预测数据输入至预先训练的快速径流预测模型，得到所述目标时间的快速径流预测数据；将i的取值加1，并返回所述将所述预测时间中的第i个单位时间作为目标时间步骤；生成包含各所述所述目标时间的快速径流预测数据的所述目标水文站的快速径流预测结果。在其中一个实施例中，所述基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定所述目标水文站的基流预测结果包括：基于预设的退水曲线，拟合与预测时间最近的一次退水段的历史基流数据，得到所述目标水文站的退水常数；将所述预测时间的前一个单位时间的历史基流数据，作为所述目标水文站的基流初始数据；基于所述退水曲线、所述退水常数、所述预测时间和所述基流初始数据，确定所述目标水文站的基流预测结果。在其中一个实施例中，所述获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据包括：在预设的流域和采集区域的映射关系中，查询所述目标流域对应的目标采集区域；获取目标流域内目标水文站的历史径流数据和所述目标采集区域内各目标气象站对应的历史降水数据；针对每一个单位时间的历史降水数据，基于所述各目标气象站对应的所述单位时间的历史降水数据和所述各目标气象站对应的权重，加权计算所述目标流域在所述单位时间的历史降水数据；所述目标流域在各所述单位时间的历史降水数据构成所述目标流域的历史降水数据。在其中一个实施例中，所述方法还包括：根据所述各目标气象站的位置信息，在所述目标采集区域内，创建泰森多边形；针对每一个目标气象站，将所述目标气象站所在的泰森多边形的面积与各所述泰森多边形的总面积的比值，作为所述目标气象站对应的权重。在其中一个实施例中，所述快速径流预测模型的训练过程包括：获取在所述预测时间之前的第三时间段内的目标流域内目标水文站的历史径流样本数据和目标流域的历史降水样本数据；基于预设的基流分割规则，对所述历史径流样本数据进行基流分割，得到所述目标水文站的历史基流样本数据和历史快速径流样本数据；针对每一个单位时间，将所述单位时间之前第一时间段内的历史快速径流数据、所述单位时间之前第二时间段内的历史降水数据和所述单位时间的降水预测数据，构成目标样本；将各所述目标样本，构成所述目标水文站的目标数据集，并基于所述目标水文站的目标数据集，训练目标网络，得到所述目标水文站的快速径流预测模型。第二方面，本申请还提供了一种径流预测装置。所述装置包括：第一获取模块，用于获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据；第一分割模块，用于基于预设的基流分割规则，对所述历史径流数据进行基流分割，得到所述目标水文站的历史基流数据和历史快速径流数据；第一预测模块，用于基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定所述目标水文站的基流预测结果；第二预测模块，用于基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果；第三预测模块，用于基于所述基流预测结果和所述快速径流预测结果，确定所述目标水文站的径流预测结果。在其中一个实施例中，所述预测时间为预设单位时间，所述第二预测模块，具体用于：将所述预测时间之前第一时间段内的历史快速径流数据、所述预测时间之前第二时间段内的历史降水数据和所述预测时间的降水预测数据输入至预先训练的快速径流预测模型，得到所述目标水文站的快速径流预测结果。在其中一个实施例中，所述预测时间为包括N个预设单位时间的时间段，N为整数，N≥2，所述第二预测模块，具体用于：将所述预测时间中的第i个单位时间作为目标时间，1≤i≤N，i的初始值为1；将所述目标时间之前第一时间段内的历史快速径流数据和/或快速径流预测数据、所述目标时间之前第二时间段内的历史降水数据和/或降水预测数据、以及所述目标时间的降水预测数据输入至预先训练的快速径流预测模型，得到所述目标时间的快速径流预测数据；将i的取值加1，并返回所述将所述预测时间中的第i个单位时间作为目标时间步骤；生成包含各所述所述目标时间的快速径流预测数据的所述目标水文站的快速径流预测结果。在其中一个实施例中，所述第一预测模块，用于：基于预设的退水曲线，拟合与预测时间最近的一次退水段的历史基流数据，得到所述目标水文站的退水常数；将所述预测时间的前一个单位时间的历史基流数据，作为所述目标水文站的基流初始数据；基于所述退水曲线、所述退水常数、所述预测时间和所述基流初始数据，确定所述目标水文站的基流预测结果。在其中一个实施例中，所述第一获取模块，具体用于：在预设的流域和采集区域的映射关系中，查询所述目标流域对应的目标采集区域；获取目标流域内目标水文站的历史径流数据和所述目标采集区域内各目标气象站对应的历史降水数据；针对每一个单位时间的历史降水数据，基于所述各目标气象站对应的所述单位时间的历史降水数据和所述各目标气象站对应的权重，加权计算所述目标流域在所述单位时间的历史降水数据；所述目标流域在各所述单位时间的历史降水数据构成所述目标流域的历史降水数据。在其中一个实施例中，所述装置还包括：创建模块，用于根据所述各目标气象站的位置信息，在所述目标采集区域内，创建泰森多边形；确定模块，用于针对每一个目标气象站，将所述目标气象站所在的泰森多边形的面积与各所述泰森多边形的总面积的比值，作为所述目标气象站对应的权重。在其中一个实施例中，所述装置还包括：第二获取模块，用于获取在所述预测时间之前的第三时间段内的目标流域内目标水文站的历史径流样本数据和目标流域的历史降水样本数据；第二分割模块，用于基于预设的基流分割规则，对所述历史径流样本数据进行基流分割，得到所述目标水文站的历史基流样本数据和历史快速径流样本数据；构建模块，用于针对每一个单位时间，将所述单位时间之前第一时间段内的历史快速径流数据、所述单位时间之前第二时间段内的历史降水数据和所述单位时间的降水预测数据，构成目标样本；训练模块，用于将各所述目标样本，构成所述目标水文站的目标数据集，并基于所述目标水文站的目标数据集，训练目标网络，得到所述目标水文站的快速径流预测模型。第三方面，本申请还提供了一种计算机设备。所述计算机设备包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现上述的一方面的步骤。第四方面，本申请还提供了一种计算机可读存储介质。所述计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上述的一方面的步骤。第五方面，本申请还提供了一种计算机程序产品。所述计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现上述的一方面的步骤。上述径流预测方法、装置、计算机设备、存储介质和计算机程序产品，获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据；基于预设的基流分割规则，对所述历史径流数据进行基流分割，得到所述目标水文站的历史基流数据和历史快速径流数据；基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定所述目标水文站的基流预测结果；基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果；基于所述基流预测结果和所述快速径流预测结果，确定所述目标水文站的径流预测结果。这样，对获取的历史径流数据进行基流分割，根据与预测时间最近的一次退水段的历史基流数据和退水曲线，确定基流预测结果，根据历史快速径流数据、历史降雨数据和快速径流预测模型，确定快速径流预测结果，再根据基流预测结果和快速径流预测结果，确定目标水文站的径流预测结果，实现对流域未来径流的准确预测。附图说明图1为一个实施例中径流预测方法的流程示意图；图2为一个实施例中确定快速径流预测结果步骤方法的流程示意图；图3为一个实施例中确定基流预测结果步骤的流程示意图；图4为一个实施例中获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据的流程示意图；图5为一个实施例中确定各目标气象站对应的权重的流程示意图；图6为一个实施例中快速径流预测模型的训练过程的流程示意图；图7为b水文站的历史径流数据、历史基流数据和历史快速径流数据示意图；图8为快速径流预测模型的模型训练、验证、预报结果的示意图；图9为本方法的混合模型的预测结果与同等条件下LSTM模型对径流的预测结果的示意图；图10为一个实施例中径流预测装置的结构框图；图11为一个实施例中计算机设备的内部结构图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。在一个实施例中，如图1所示，提供了一种径流预测方法，本实施例以该方法应用于终端进行举例说明，可以理解的是，该方法也可以应用于服务器，还可以应用于包括终端和服务器的系统，并通过终端和服务器的交互实现。其中，终端可以但不限于是各种个人计算机、笔记本电脑、智能手机、平板电脑、物联网设备和便携式可穿戴设备，物联网设备可为智能音箱、智能电视、智能空调、智能车载设备等。便携式可穿戴设备可为智能手表、智能手环、头戴设备等。服务器可以用独立的服务器或者是多个服务器组成的服务器集群来实现。本实施例中，该方法包括以下步骤：步骤101，获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据。在本申请实施例中，终端获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据。其中，目标流域为待进行径流预测的流域。目标水文站为目标流域内的水文站。例如，目标流域可以A江上游，目标水文站为A江上游的b水文站。历史径流数据为已有的径流信息，可以包括时间和时间对应的径流值。历史降水数据为已有的降水信息，可以包括时间和时间对应的降水值。历史径流数据和历史降水数据可以为若干年的数据，可以为日尺度的数据。历史降水数据可以为目标流域的平均降水量。在一个示例中，终端获取目标流域对应的各目标气象站的历史降水量。然后，终端根据各目标气象站的历史降水量，采用泰森多边形法插值计算目标流域的平均降水量。然后，终端将目标流域的平均降水量，作为目标流域的历史降水数据。步骤102，基于预设的基流分割规则，对历史径流数据进行基流分割，得到目标水文站的历史基流数据和历史快速径流数据。在本申请实施例中，终端基于预设的基流分割规则，对历史径流数据进行基流分割，得到目标水文站的历史基流数据和历史快速径流数据。其中，基流分割规则可以为任意能够进行基流分割的方法，本申请不作限定。基流分割规则可以为数字滤波法。历史基流数据为已有的目标流域的基流信息，可以包括时间和时间对应的基流值。历史快速径流数据为已有的目标流域的快速径流数信息，可以包括时间和时间对应的快速径流数值。在一个示例中，终端采用莱恩-霍利克方法对历史径流数据进行基流分割，得到目标水文站的历史基流数据和历史快速径流数据。该方法可以通过Matlab实现。该方法基于信号分析及处理，利用滤波参数将径流分割为基流和快速径流，其滤波形式如下：其中，Q是总径流量，Qq是快速径流，a为滤波参数，取值为0.925，t为时间步。基流可由以下公式获得：Qb=Q-Qq其中，Q为总径流量，Qb为基流，Qq为快速径流。步骤103，基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定目标水文站的基流预测结果。在本申请实施例中，终端根据历史基流数据，确定历史径流数据中包含的退水段。然后，终端在历史径流数据中包含的各退水段中，确定与预测时间最近的一次退水段。然后，终端基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定目标水文站的基流预测结果。其中，能够确定退水段的方法均可以用于本申请，本申请不作限定。预测时间为进行径流预测的时间段。预测时间可以为一天，也可以为多天。基流预测结果为在预测时间内目标流域的基流的预测值。在一个示例中，终端根据历史基流数据和预设的退水段确定规则，确定历史径流数据中包含的退水段。其中，退水段确定规则可以为以三日平均基流减少作为退水段的开始，且连续两日的基流流量下降必须小于30%，退水段长度最少为10天。步骤104，基于历史快速径流数据、历史降水数据和预先训练的快速径流预测模型，确定目标水文站的快速径流预测结果。在本申请实施例中，终端基于历史快速径流数据、历史降水数据和预先训练的快速径流预测模型，确定目标水文站的快速径流预测结果。其中，快速径流预测模型用于预测目标流域的快速径流。不同的目标流域对应不同的快速径流预测模型，即针对不同的目标流域预先训练不同的快速径流预测模型。快速径流预测模型可以为机器学习模型，也可以为深度学习模型。例如，快速径流预测模型可以为长短期记忆模型。快速径流预测结果为在预测时间内目标流域的快速径流的预测值。步骤105，基于基流预测结果和快速径流预测结果，确定目标水文站的径流预测结果。在本申请实施例中，终端合并基流预测结果和快速径流预测结果，确定目标水文站的径流预测结果。具体的，终端将基流预测结果和快速径流预测结果相加，得到目标水文站的径流预测结果。其中，径流预测结果为在预测时间内目标流域的径流的预测值。在一个示例中，终端确定目标水文站的径流预测结果，可以表示为：Q=Qb+Qq，Q为总径流量，Qb为基流，Qq为快速径流。上述径流预测方法中，获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据；基于预设的基流分割规则，对历史径流数据进行基流分割，得到目标水文站的历史基流数据和历史快速径流数据；基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定目标水文站的基流预测结果；基于历史快速径流数据、历史降水数据和预先训练的快速径流预测模型，确定目标水文站的快速径流预测结果；基于基流预测结果和快速径流预测结果，确定目标水文站的径流预测结果。这样，对获取的历史径流数据进行基流分割，根据与预测时间最近的一次退水段的历史基流数据和退水曲线，确定基流预测结果，根据历史快速径流数据、历史降雨数据和快速径流预测模型，确定快速径流预测结果，再根据基流预测结果和快速径流预测结果，确定目标水文站的径流预测结果，实现对流域未来径流的准确预测。不仅如此，相较于采用单一模型对流域的径流进行预测，本方法先对径流进行基流分割，再针对基流和快速径流的不同特点，采用不同的方法分别预测，更加符合实际情况，能够提高径流预测的精度。并且，本方法采用退水曲线确定基流预测结果，有一定的物理机制，又不需要大量的数据和复杂的参数进行预测，易于使用。在一个实施例中，预测时间为预设单位时间，基于历史快速径流数据、历史降水数据和预先训练的快速径流预测模型，确定目标水文站的快速径流预测结果的具体过程包括以下步骤：将预测时间之前第一时间段内的历史快速径流数据、预测时间之前第二时间段内的历史降水数据和预测时间的降水预测数据输入至预先训练的快速径流预测模型，得到目标水文站的快速径流预测结果。在本申请实施例中，终端将预测时间之前第一时间段内的历史快速径流数据、预测时间之前第二时间段内的历史降水数据和预测时间的降水预测数据输入至预先训练的快速径流预测模型，得到目标水文站的快速径流预测结果。其中，单位时间可以为任意单位时间，本申请不作限定。例如，单位时间为1天，预测时间为1天。可以理解的是，预设单位时间与历史径流数据和历史降水数据中数据对应的时间为相同的时间单位，即若单位时间为1天，则历史径流数据和历史降水数据中数据对应的时间也为某一天，而非某一个月。预测时间为一个预设单位时间，快速径流预测结果为该单位时间对应的快速径流预测值。第一时间段和第二时间段可以相同，也可以不同。第一时间段和第二时间段的尺度相同。优选的，第一时间段为6天，第二时间段为9天，此时的快速径流预测模型的输入维数为16维，输出维数为1维。降水预测数据用于表示目标流域的预测降水量。在一个示例中，终端从目标流域的气象站获取目标流域的预测时间的降水预测数据。上述径流预测方法中，在预测时间为预设单位时间的情况下，将预测时间之前第一时间段内的历史快速径流数据、预测时间之前第二时间段内的历史降水数据和预测时间的降水预测数据输入至预先训练的快速径流预测模型，得到目标水文站的快速径流预测结果。这样，仅需将预测时间之前第一时间段内的历史快速径流数据、预测时间之前第二时间段内的历史降水数据和预测时间的降水预测数据输入至预先训练的快速径流预测模型即可实现对目标流域在未来单位时间内的快速径流预测，相较于采用单一模型直接对径流进行预测，本方法采用单独的模型对快速径流进行预测，需要数据种类少，仅为快速径流数据和降水数据，能够避免多种干扰，提高快速径流预测的准确性，提高径流预测的精度。在一个实施例中，预测时间为包括N个预设单位时间的时间段，N为整数，N≥2，如图2所示，基于历史快速径流数据、历史降水数据和预先训练的快速径流预测模型，确定目标水文站的快速径流预测结果的具体过程包括以下步骤：步骤201，将预测时间中的第i个单位时间作为目标时间。其中，1≤i≤N，i的初始值为1。在本申请实施例中，终端将预测时间中的第i个单位时间作为目标时间。其中，若单位时间为1天，则预测时间为N天。步骤202，将目标时间之前第一时间段内的历史快速径流数据和/或快速径流预测数据、目标时间之前第二时间段内的历史降水数据和/或降水预测数据、以及目标时间的降水预测数据输入至预先训练的快速径流预测模型，得到目标时间的快速径流预测数据。在本申请实施例中，终端将目标时间之前第一时间段内的历史快速径流数据和/或快速径流预测数据、目标时间之前第二时间段内的历史降水数据和/或降水预测数据、以及目标时间的降水预测数据输入至预先训练的快速径流预测模型，得到目标时间的快速径流预测数据。步骤203，将i的取值加1，并返回将预测时间中的第i个单位时间作为目标时间步骤。在本申请实施例中，终端将i的取值加1。然后，终端返回将预测时间中的第i个单位时间作为目标时间步骤。步骤204，生成包含各目标时间的快速径流预测数据的目标水文站的快速径流预测结果。在本申请实施例中，终端生成包含各目标时间的快速径流预测数据的目标水文站的快速径流预测结果。在一个示例中，终端将各目标时间的快速径流预测数据，构成目标水文站的快速径流预测结果。上述径流预测方法中，在预测时间为包括N个预设单位时间的时间段的情况下，将预测时间中的第i个单位时间作为目标时间；将目标时间之前第一时间段内的历史快速径流数据和/或快速径流预测数据、目标时间之前第二时间段内的历史降水数据和/或降水预测数据、以及目标时间的降水预测数据输入至预先训练的快速径流预测模型，得到目标时间的快速径流预测数据；将i的取值加1，并返回将预测时间中的第i个单位时间作为目标时间步骤；生成包含各目标时间的快速径流预测数据的目标水文站的快速径流预测结果。这样，在对目标流域在未来多个单位时间内的快速径流预测时，采用多步预测的方法，利用前一个单位时间内的快速径流预测值，逐步预测下一个单位时间内的快速径流，由于本方法将径流组分中的基流部分用有物理机制的退水曲线进行预测，从一定程度上的避免了深度学习多步预测中迭代所引起的误差累积问题，能够进一步提高快速径流预测的准确性，进一步提高径流预测的精度，进而也有效延长了径流预报的预见期，使得本方法不仅能够实现径流短期预报，还能实现径流中长期预报。在一个实施例中，如图3所示，基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定目标水文站的基流预测结果的具体过程包括以下步骤：步骤301，基于预设的退水曲线，拟合与预测时间最近的一次退水段的历史基流数据，得到目标水文站的退水常数。在本申请实施例中，终端基于预设的退水曲线，拟合与预测时间最近的一次退水段的历史基流数据，得到目标水文站的退水常数。步骤302，将预测时间的前一个单位时间的历史基流数据，作为目标水文站的基流初始数据。在本申请实施例中，终端将预测时间的前一个单位时间的历史基流数据，作为目标水文站的基流初始数据。步骤303，基于退水曲线、退水常数、预测时间和基流初始数据，确定目标水文站的基流预测结果。在本申请实施例中，终端基于退水曲线、退水常数、预测时间和基流初始数据，确定目标水文站的基流预测结果。具体的，终端将退水常数、预测时间和基流初始数据带入退水曲线，计算目标水文站在预测时间的基流预测结果。在一个实施例中，退水曲线可以表示为：。其中，在确定退水常数时，Q为历史基流数据；在确定基流预测结果时，Q为基流预测值。Q0为基流初始数据，即退水开始时的基流量；K为退水常数；t为距离预测时间的前一个单位时间的时间，例如，距离预测时间的前一天的天数。上述径流预测方法中，基于预设的退水曲线，拟合与预测时间最近的一次退水段的历史基流数据，得到目标水文站的退水常数；将预测时间的前一个单位时间的历史基流数据，作为目标水文站的基流初始数据；基于退水曲线、退水常数、预测时间和基流初始数据，确定目标水文站的基流预测结果。这样，通过退水曲线拟合数据的方法，确定退水常数，再通过得到的退水常数和退水曲线，计算目标水文站的基流预测结果，物理意义和物理机制明确，基流预报的不确定性小，径流预测的不确定性小，能够进一步提高径流预测的精度。在一个实施例中，如图4所示，获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据的具体过程包括以下步骤：步骤401，在预设的流域和采集区域的映射关系中，查询目标流域对应的目标采集区域。在本申请实施例中，终端在预设的流域和采集区域的映射关系中，查询目标流域对应的目标采集区域。其中，采集区域为采集目标流域内的降水数据的区域。采集区域可以与目标流域相同，也可以大于目标流域，即包含目标流域。步骤402，获取目标流域内目标水文站的历史径流数据和目标采集区域内各目标气象站对应的历史降水数据。在本申请实施例中，终端获取目标流域内目标水文站的历史径流数据和目标采集区域内各目标气象站对应的历史降水数据。其中，目标气象站为目标采集区域内的气象站，可能不位于目标流域内，而位于目标流域周边。步骤403，针对每一个单位时间的历史降水数据，基于各目标气象站对应的该单位时间的历史降水数据和各目标气象站对应的权重，加权计算目标流域在该单位时间的历史降水数据。其中，目标流域在各单位时间的历史降水数据构成目标流域的历史降水数据。在本申请实施例中，终端确定各目标气象站对应的权重。然后，针对每一个单位时间的历史降水数据，终端基于各目标气象站对应的该单位时间的历史降水数据和各目标气象站对应的权重，加权计算目标流域在该单位时间的历史降水数据。上述径流预测方法中，在预设的流域和采集区域的映射关系中，查询目标流域对应的目标采集区域；获取目标流域内目标水文站的历史径流数据和目标采集区域内各目标气象站对应的历史降水数据；针对每一个单位时间的历史降水数据，基于各目标气象站对应的该单位时间的历史降水数据和各目标气象站对应的权重，加权计算目标流域在该单位时间的历史降水数据。这样，通过预先确定的各目标气象站的权重和各目标气象站的历史降水数据，加权计算目标流域的历史平均降水数据，以将其作为预测快速径流的输入的目标流域的历史降水数据，符合实际情况，能够提高目标流域的历史降水数据的准确性，进而进一步提高快速径流预测的精度。并且，本方法并非将目标流域内的气象站作为目标气象站，而是针对不同的流域，划定不同的采集范围，更加符合实际情况，能够进一步提高目标流域的历史降水数据的准确性，进而进一步提高快速径流预测的精度。在一个实施例中，如图5所示，径流预测方法还包括以下步骤：步骤501，根据各目标气象站的位置信息，在目标采集区域内，创建泰森多边形。在本申请实施例中，终端根据各目标气象站的位置信息，在目标采集区域内，创建泰森多边形。步骤502，针对每一个目标气象站，将该目标气象站所在的泰森多边形的面积与各泰森多边形的总面积的比值，作为该目标气象站对应的权重。在本申请实施例中，终端将各目标气象站所在的泰森多边形的面积相加，得到各泰森多边形的总面积。然后，针对每一个目标气象站，终端将该目标气象站所在的泰森多边形的面积与各泰森多边形的总面积的比值，作为该目标气象站对应的权重。在一个实施例中，终端计算目标流域在单位时间的历史降水数据，可以表示为：其中，为流域内的面平均雨量，即目标流域在单位时间的历史降水数据，n为流域内泰森多边形的个数，fi为第i个泰森多边形的面积，F为各泰森多边形的总面积，Ai为第i个目标气象站对应的权重。可以理解的是，终端确定预测时间的降水预测数据或目标时间的降水预测数据的具体过程和上述终端确定目标流域的历史降水数据的具体过程类似。上述径流预测方法中，根据各目标气象站的位置信息，在目标采集区域内，创建泰森多边形；针对每一个目标气象站，将该目标气象站所在的泰森多边形的面积与各泰森多边形的总面积的比值，作为该目标气象站对应的权重。这样，通过在目标采集区域内构建泰森多边形，并将目标气象站所在泰森多边形的面积占总面积的比值作为该目标气象站的权重，更加符合实际情况，能够进一步提高目标流域的历史降水数据的准确性，进而进一步提高快速径流预测的精度。在一个实施例中，如图6所示，快速径流预测模型的训练过程包括以下步骤：步骤601，获取在预测时间之前的第三时间段内的目标流域内目标水文站的历史径流样本数据和目标流域的历史降水样本数据。在本申请实施例中，终端获取在预测时间之前的第三时间段内的目标流域内目标水文站的历史径流样本数据和目标流域的历史降水样本数据。其中，历史径流样本数据和历史径流数据为相同形式的数据，历史降水样本数据和历史降水数据为相同形式的数据。第三时间段为训练快速径流预测模型时采集数据的时间跨度。优选的，第三时间段以年为单位，例如，第三时间段为10年。可以理解的是，终端确定目标流域的历史降水样本数据的具体过程和上述终端确定目标流域的历史降水数据的具体过程类似。步骤602，基于预设的基流分割规则，对历史径流样本数据进行基流分割，得到目标水文站的历史基流样本数据和历史快速径流样本数据。在本申请实施例中，终端基于预设的基流分割规则，对历史径流样本数据进行基流分割，得到目标水文站的历史基流样本数据和历史快速径流样本数据。其中，历史基流样本数据和历史基流数据为相同形式的数据，历史快速径流样本数据和历史快速径流数据为相同形式的数据。优选的，终端对历史径流样本数据进行基流分割的基流分割规则与终端对历史径流数据进行基流分割的基流分割规则相同。步骤603，针对每一个单位时间，将该单位时间之前第一时间段内的历史快速径流数据、该单位时间之前第二时间段内的历史降水数据和该单位时间的降水预测数据，构成目标样本。在本申请实施例中，针对每一个单位时间，终端将该单位时间之前第一时间段内的历史快速径流数据、该单位时间之前第二时间段内的历史降水数据和该单位时间的降水预测数据，构成目标样本。步骤604，将各目标样本，构成目标水文站的目标数据集，并基于目标水文站的目标数据集，训练目标网络，得到目标水文站的快速径流预测模型。在本申请实施例中，终端将各目标样本，构成目标水文站的目标数据集。然后，终端基于目标水文站的目标数据集，训练目标网络，得到目标水文站的快速径流预测模型。在一个示例中，终端将70%的目标数据集作为训练数据集，将30%的目标数据集作为验证数据集。然后，终端基于训练数据集，训练目标网络，得到目标水文站的多个备选模型。然后，针对每一个备选模型，终端基于验证数据集，对该备选模型进行验证，计算该备选模型的精度。然后，终端比较各备选模型的精度。然后，终端将精度最大的备选模型作为目标水文站的快速径流预测模型。上述径流预测方法中，获取在预测时间之前的第三时间段内的目标流域内目标水文站的历史径流样本数据和目标流域的历史降水样本数据；基于预设的基流分割规则，对历史径流样本数据进行基流分割，得到目标水文站的历史基流样本数据和历史快速径流样本数据；针对每一个单位时间，将该单位时间之前第一时间段内的历史快速径流数据、该单位时间之前第二时间段内的历史降水数据和该单位时间的降水预测数据，构成目标样本；将各目标样本，构成目标水文站的目标数据集，并基于目标水文站的目标数据集，训练目标网络，得到目标水文站的快速径流预测模型。这样，通过目标流域的历史快速径流数据和历史降水数据训练目标流域对应的快速径流预测模型，更加符合不同流域的快速径流的变化情况不同的实际情况，能够进一步提高目标流域的历史降水数据的准确性，进而进一步提高快速径流预测的精度。而且，训练快速径流预测模型仅需要快速径流数据和降水数据，需要数据种类少，能够避免多种干扰，提高快速径流预测模型的准确性，进一步提高径流预测的精度。在一个实施例中，目标流域为A江上游，目标水文站为b水文站。终端获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据。历史径流数据和历史降水数据均为日尺度数据。目标流域的历史降水数据为目标流域内及周边气象站的日降水数据。以上数据的时间跨度为1990-1999年。然后，终端利用Lyne-Hollick方法对历史径流数据进行分割，得到历史基流数据和历史快速径流数据。如图7所示，颜色最浅的线为历史径流数据，颜色最深的线为历史基流数据，颜色次深的线为历史快速径流数据。终端以当年12月至次年4月为枯水期，则该站点全年和枯水期基流占比如表1所示。如图7所示，A江上游的b水文站的基流占比较大，基流曲线与总径流重合度较高，尤其在枯水期；相应的，快速径流在枯水期接近于零，在汛期较大。表1 b水文站历史径流数据中基流与快速径流占比然后，终端创建泰森多边形，并根据创建的泰森多边形面积计算各气象站在流域所占权重，进而计算流域平均降雨量。然后，终端将1999.11.2-1999.12.31共60天的数据作为预报期，从基流变化曲线中提取预报期前最后一次退水，将其与退水曲线拟合得到：K=193.77。终端以1999.11.1日的基流数据作为Q0，预测未来基流，即：，其中t为距离1999.11.1的天数。然后，终端用历史数据对LSTM模型进行训练和验证。其中，1990.1.1-1996.11.19为训练期，1996.11.20-1999.11.1为验证期。输入维数16维：预报期前6天的历史快速径流和前9天的历史降水数据以及当天的降水预报数据为输入；输出维数1维：预报当天的快速径流数据为输出。终端以20次训练中精度最高的模型为最终用于预报快速径流的LSTM模型。然后，终端利用训练得到的LSTM模型，通过多步预测的方式预测未来快速径流，模型训练、验证、预报结果如图8所示。其中，虚线左侧为训练期，虚线右侧为验证期。可见，无论是在训练期还是验证期，预测值与实测值均几乎重合，因此，训练期和验证期模型的模拟精度均较高。然后，终端将基流与快速径流的预测值相加，得到径流预测值。然后，终端将本方法的混合模型的预测结果与同等条件下LSTM对径流的预测结果相比较如图9所示。本方法混合模型预测结果RMSE=85.41；LSTM模型预测结果RMSE=111.22。统计本方法混合模型和LSTM模型在不同预见期长度下30次预测中的预测结果合格率如表2所示。可见，本方法在同等情况下对于枯水期的径流预报精度更高。表2两种模型在不同预见期长度下的合格率统计应该理解的是，虽然如上所述的各实施例所涉及的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，如上所述的各实施例所涉及的流程图中的至少一部分步骤可以包括多个步骤或者多个阶段，这些步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤中的步骤或者阶段的至少一部分轮流或者交替地执行。基于同样的发明构思，本申请实施例还提供了一种用于实现上述所涉及的径流预测方法的径流预测装置。该装置所提供的解决问题的实现方案与上述方法中所记载的实现方案相似，故下面所提供的一个或多个径流预测装置实施例中的具体限定可以参见上文中对于径流预测方法的限定，在此不再赘述。在一个实施例中，如图10所示，提供了一种径流预测装置1000，包括：第一获取模块1010、第一分割模块1020、第一预测模块1030、第二预测模块1040和第三预测模块1050，其中：第一获取模块1010，用于获取目标流域内目标水文站的历史径流数据和目标流域的历史降水数据；第一分割模块1020，用于基于预设的基流分割规则，对所述历史径流数据进行基流分割，得到所述目标水文站的历史基流数据和历史快速径流数据；第一预测模块1030，用于基于与预测时间最近的一次退水段的历史基流数据和预设的退水曲线，确定所述目标水文站的基流预测结果；第二预测模块1040，用于基于所述历史快速径流数据、所述历史降水数据和预先训练的快速径流预测模型，确定所述目标水文站的快速径流预测结果；第三预测模块1050，用于基于所述基流预测结果和所述快速径流预测结果，确定所述目标水文站的径流预测结果。可选的，所述预测时间为预设单位时间，所述第二预测模块1040，具体用于：将所述预测时间之前第一时间段内的历史快速径流数据、所述预测时间之前第二时间段内的历史降水数据和所述预测时间的降水预测数据输入至预先训练的快速径流预测模型，得到所述目标水文站的快速径流预测结果。可选的，所述预测时间为包括N个预设单位时间的时间段，N为整数，N≥2，所述第二预测模块1040，具体用于：将所述预测时间中的第i个单位时间作为目标时间，1≤i≤N，i的初始值为1；将所述目标时间之前第一时间段内的历史快速径流数据和/或快速径流预测数据、所述目标时间之前第二时间段内的历史降水数据和/或降水预测数据、以及所述目标时间的降水预测数据输入至预先训练的快速径流预测模型，得到所述目标时间的快速径流预测数据；将i的取值加1，并返回所述将所述预测时间中的第i个单位时间作为目标时间步骤；生成包含各所述所述目标时间的快速径流预测数据的所述目标水文站的快速径流预测结果。可选的，所述第一预测模块1030，用于：基于预设的退水曲线，拟合与预测时间最近的一次退水段的历史基流数据，得到所述目标水文站的退水常数；将所述预测时间的前一个单位时间的历史基流数据，作为所述目标水文站的基流初始数据；基于所述退水曲线、所述退水常数、所述预测时间和所述基流初始数据，确定所述目标水文站的基流预测结果。可选的，所述第一获取模块1010，具体用于：在预设的流域和采集区域的映射关系中，查询所述目标流域对应的目标采集区域；获取目标流域内目标水文站的历史径流数据和所述目标采集区域内各目标气象站对应的历史降水数据；针对每一个单位时间的历史降水数据，基于所述各目标气象站对应的所述单位时间的历史降水数据和所述各目标气象站对应的权重，加权计算所述目标流域在所述单位时间的历史降水数据；所述目标流域在各所述单位时间的历史降水数据构成所述目标流域的历史降水数据。可选的，所述装置1000还包括：创建模块，用于根据所述各目标气象站的位置信息，在所述目标采集区域内，创建泰森多边形；确定模块，用于针对每一个目标气象站，将所述目标气象站所在的泰森多边形的面积与各所述泰森多边形的总面积的比值，作为所述目标气象站对应的权重。可选的，所述装置1000还包括：第二获取模块，用于获取在所述预测时间之前的第三时间段内的目标流域内目标水文站的历史径流样本数据和目标流域的历史降水样本数据；第二分割模块，用于基于预设的基流分割规则，对所述历史径流样本数据进行基流分割，得到所述目标水文站的历史基流样本数据和历史快速径流样本数据；构建模块，用于针对每一个单位时间，将所述单位时间之前第一时间段内的历史快速径流数据、所述单位时间之前第二时间段内的历史降水数据和所述单位时间的降水预测数据，构成目标样本；训练模块，用于将各所述目标样本，构成所述目标水文站的目标数据集，并基于所述目标水文站的目标数据集，训练目标网络，得到所述目标水文站的快速径流预测模型。上述径流预测装置中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。在一个实施例中，提供了一种计算机设备，该计算机设备可以是终端，其内部结构图可以如图11所示。该计算机设备包括处理器、存储器、输入/输出接口、通信接口、显示单元和输入装置。其中，处理器、存储器和输入/输出接口通过系统总线连接，通信接口、显示单元和输入装置通过输入/输出接口连接到系统总线。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质和内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的输入/输出接口用于处理器与外部设备之间交换信息。该计算机设备的通信接口用于与外部的终端进行有线或无线方式的通信，无线方式可通过WIFI、移动蜂窝网络、NFC或其他技术实现。该计算机程序被处理器执行时以实现一种径流预测方法。该计算机设备的显示单元用于形成视觉可见的画面，可以是显示屏、投影装置或虚拟现实成像装置。显示屏可以是液晶显示屏或者电子墨水显示屏，该计算机设备的输入装置可以是显示屏上覆盖的触摸层，也可以是计算机设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图11中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提供了一种计算机设备，包括存储器和处理器，存储器中存储有计算机程序，该处理器执行计算机程序时实现上述各方法实施例中的步骤。在一个实施例中，提供了一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现上述各方法实施例中的步骤。在一个实施例中，提供了一种计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现上述各方法实施例中的步骤。需要说明的是，本申请所涉及的用户信息和数据，均为经用户授权或者经过各方充分授权的信息和数据，且相关数据的收集、使用和处理需要遵守相关国家和地区的相关法律法规和标准。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存、光存储器、高密度嵌入式非易失性存储器、阻变存储器、磁变存储器、铁电存储器、相变存储器、石墨烯存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器等。作为说明而非局限，RAM可以是多种形式，比如静态随机存取存储器或动态随机存取存储器等。本申请所提供的各实施例中所涉及的数据库可包括关系型数据库和非关系型数据库中至少一种。非关系型数据库可包括基于区块链的分布式数据库等，不限于此。本申请所提供的各实施例中所涉及的处理器可为通用处理器、中央处理器、图形处理器、数字信号处理器、可编程逻辑器、基于量子计算的数据处理逻辑器等，不限于此。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本申请专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请的保护范围应以所附权利要求为准。
