标题title
基于填充率动态调整推广内容请求量的方法及系统
摘要abst
本公开提供了一种基于填充率动态调整推广内容请求量的方法及系统，所述方法包括：设置各DSP平台的观察周期和衰减系数，获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量；采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率；基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量。本公开根据各DSP平台的历史填充率和实时填充率对请求量进行动态调整、降低了无效请求成本。
权利要求书clms
1.一种基于填充率动态调整推广内容请求量的方法，其特征在于，所述方法应用于ADX平台，所述方法包括：设置各DSP平台的观察周期和衰减系数；采集各DSP平台至少一个观察周期的历史响应数据，提取填充率的关联特征，并基于所述填充率的关联特征构建填充率预测模型，计算各DSP平台在至少一个观察周期内的历史填充率；获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量；采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率；基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量。2.如权利要求1所述的基于填充率动态调整推广内容请求量的方法，其特征在于，所述采集各DSP平台至少一个观察周期的历史响应数据，包括：针对DSP平台、推广位、操作系统、推广形式四种维度下不同链路的推广内容请求的流量进行分析，采集每个DSP平台在至少一个观察周期中不同链路下推广内容请求的响应数据；其中，所述响应数据包括：填充情况、响应时间、推广信息，所述推广信息包括推广内容的类型、推广内容的尺寸、推广内容的素材质量、推广内容的投放时间、推广内容的价格。3.如权利要求1所述的基于填充率动态调整推广内容请求量的方法，其特征在于，所述观察周期包括容忍期和调整期，所述衰减系数包括第一衰减系数和第二衰减系数；所述获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量，包括：基于任一DSP平台至少一个观察周期的历史响应数据，获取所述DSP平台至少一个观察周期的历史接口服务情况；判断所述DSP平台的历史接口服务情况是否正常；若所述DSP平台的历史接口服务情况正常，则判断所述DSP平台在至少一个观察周期内的历史填充率是否低于预设填充率，若低于，则基于所述DSP平台的衰减系数调整所述DSP平台的请求量；若所述DSP平台的历史接口服务情况异常，则对所述DSP平台进行熔断处理。4.如权利要求3所述的基于填充率动态调整推广内容请求量的方法，其特征在于，所述基于所述DSP平台的衰减系数调整所述DSP平台的请求量，包括：基于所述DSP平台的衰减系数确定当前衰减系数；计算所述DSP平台的请求衰减量，所述请求衰减量为初始请求量和当前衰减系数之积；将所述DSP平台的请求量调整为所述请求衰减量与初始请求量的之差。5.如权利要求4所述的基于填充率动态调整推广内容请求量的方法，其特征在于，所述基于所述DSP平台的衰减系数确定当前衰减系数，包括：若观察周期为容忍期，且所述DSP平台的历史填充率低于预设填充率，则确定当前衰减系数为第一衰减系数，且确定下一观察周期为调整期；若观察周期为调整期，且所述DSP平台的历史填充率低于预设填充率，则判断所述DSP平台的当前衰减系数是否低于预设衰减比，若低于，则确定当前衰减系数为当前衰减系数和第二衰减系数之和，否则保持不变；若观察周期为调整期，且所述DSP平台的历史填充率不低于预设填充率，则重置当前衰减系数，且确定下一观察周期为容忍期。6.如权利要求3所述的基于填充率动态调整推广内容请求量的方法，其特征在于，判断所述DSP平台的历史接口服务情况是否正常，具体包括：判断任一推广内容请求的链路是否可用；和/或，判断任一推广内容请求的响应时间是否符合预设响应时间；和/或，判断任一推广内容请求的推广信息是否符合标准规范。7.如权利要求3所述的基于填充率动态调整推广内容请求量的方法，其特征在于，所述基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量，包括：对于历史接口服务情况异常的DSP平台，判断所述DSP平台的实时接口服务情况是否恢复正常，若恢复正常，则取消所述DSP平台的熔断处理，重置当前衰减系数，且确定下一观察周期为容忍期；否则，继续对所述DSP平台进行熔断处理；对于历史接口服务情况正常的DSP平台，判断所述DSP平台的实时接口服务情况是否正常，若正常，则判断所述DSP平台的实时填充率是否低于预设填充率，并基于所述DSP平台的衰减系数调整所述DSP平台的请求量，否则对所述DSP平台进行熔断处理。8.如权利要求1所述的基于填充率动态调整推广内容请求量的方法，其特征在于，所述采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率，包括：按照各DSP平台调整后的请求量分发实时的推广内容请求至各DSP平台的不同链路，并获取当前观察周期中不同链路下推广内容请求的实时响应数据；基于任一DSP平台当前观察周期的实时响应数据确定所述DSP平台的实时接口服务情况；基于任一DSP平台当前观察周期的实时响应数据，提取填充率的关联特征，并基于所述填充率的关联特征更新填充率预测模型，以及计算所述DSP平台的实时填充率。9.如权利要求1所述的基于填充率动态调整推广内容请求量的方法，其特征在于，所述填充率的关联特征包括推广内容的尺寸、推广内容的素材质量、推广内容的投放时间；所述基于所述填充率的关联特征构建填充率预测模型，包括：采用数据分析方法计算所述填充率的关联特征的权重；基于所述填充率的关联特征、所述填充率的关联特征的权重和所述请求量，构建填充率预测模型。10.一种基于填充率动态调整推广内容请求量的系统，其特征在于，所述系统应用于ADX平台，所述系统包括：设置模块，用于设置各DSP平台的观察周期和衰减系数；分析模块，用于采集各DSP平台至少一个观察周期的历史响应数据，提取填充率的关联特征，并基于所述填充率的关联特征构建填充率预测模型，计算各DSP平台在至少一个观察周期内的历史填充率；第一调整模块，用于获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量；回溯模块，用于采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率；第二调整模块，用于基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量。
说明书desc
技术领域本公开涉及互联网技术领域，具体涉及一种基于填充率动态调整推广内容请求量的方法及系统。背景技术在程序化交易领域，ADX平台需向多个DSP平台发送推广内容的请求以进行竞价，以返回适合媒体侧或用户侧的推广内容，而DSP平台可能不存在符合媒体侧或用户侧的推广内容，或者，DSP平台的预算不足暂时无法投放推广内容，这些都会导致DSP平台的返回量远不及请求量，填充率较低，却在大部分时间占满了带宽，既增加了带宽成本，又影响了DSP平台的有效请求和响应。因此，为了提高DSP平台的填充率、提高请求的利用率、降低无效请求成本，需要对各DSP平台的填充表现进行观察、分析，以实现基于各DSP平台的填充表现对其分配的推广内容请求量的动态调整。发明内容本公开提供一种基于填充率动态调整推广内容请求量的方法及系统，以解决现有技术中无效请求成本高、填充率低等问题，实现各DSP各平台的请求量的动态调整。第一方面，本公开提供一种基于填充率动态调整推广内容请求量的方法，所述方法应用于ADX平台，所述方法包括：设置各DSP平台的观察周期和衰减系数；采集各DSP平台至少一个观察周期的历史响应数据，提取填充率的关联特征，并基于所述填充率的关联特征构建填充率预测模型，计算各DSP平台在至少一个观察周期内的历史填充率；获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量；采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率；基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量。根据本公开提供的一种基于填充率动态调整推广内容请求量的方法，所述采集各DSP平台至少一个观察周期的历史响应数据，包括：针对DSP平台、推广位、操作系统、推广形式四种维度下不同链路的推广内容请求的流量进行分析，采集每个DSP平台在至少一个观察周期中不同链路下推广内容请求的响应数据；其中，所述响应数据包括：填充情况、响应时间、推广信息，所述推广信息包括推广内容的类型、推广内容的尺寸、推广内容的素材质量、推广内容的投放时间、推广内容的价格。根据本公开提供的一种基于填充率动态调整推广内容请求量的方法，所述观察周期包括容忍期和调整期，所述衰减系数包括第一衰减系数和第二衰减系数；所述获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量，包括：基于任一DSP平台至少一个观察周期的历史响应数据，获取所述DSP平台至少一个观察周期的历史接口服务情况；判断所述DSP平台的历史接口服务情况是否正常；若所述DSP平台的历史接口服务情况正常，则判断所述DSP平台在至少一个观察周期内的历史填充率是否低于预设填充率，若低于，则基于所述DSP平台的衰减系数调整所述DSP平台的请求量；若所述DSP平台的历史接口服务情况异常，则对所述DSP平台进行熔断处理。根据本公开提供的一种基于填充率动态调整推广内容请求量的方法，所述基于所述DSP平台的衰减系数调整所述DSP平台的请求量，包括：基于所述DSP平台的衰减系数确定当前衰减系数；计算所述DSP平台的请求衰减量，所述请求衰减量为初始请求量和当前衰减系数之积；将所述DSP平台的请求量调整为所述请求衰减量与初始请求量的之差。根据本公开提供的一种基于填充率动态调整推广内容请求量的方法，所述基于所述DSP平台的衰减系数确定当前衰减系数，包括：若观察周期为容忍期，且所述DSP平台的历史填充率低于预设填充率，则确定当前衰减系数为第一衰减系数，且确定下一观察周期为调整期；若观察周期为调整期，且所述DSP平台的历史填充率低于预设填充率，则判断所述DSP平台的当前衰减系数是否低于预设衰减比，若低于，则确定当前衰减系数为当前衰减系数和第二衰减系数之和，否则保持不变；若观察周期为调整期，且所述DSP平台的历史填充率不低于预设填充率，则重置当前衰减系数，且确定下一观察周期为容忍期。根据本公开提供的一种基于填充率动态调整推广内容请求量的方法，判断所述DSP平台的历史接口服务情况是否正常，具体包括：判断任一推广内容请求的链路是否可用；和/或，判断任一推广内容请求的响应时间是否符合预设响应时间；和/或，判断任一推广内容请求的推广信息是否符合标准规范。根据本公开提供的一种基于填充率动态调整推广内容请求量的方法，所述基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量，包括：对于历史接口服务情况异常的DSP平台，判断所述DSP平台的实时接口服务情况是否恢复正常，若恢复正常，则取消所述DSP平台的熔断处理，重置当前衰减系数，且确定下一观察周期为容忍期；否则，继续对所述DSP平台进行熔断处理；对于历史接口服务情况正常的DSP平台，判断所述DSP平台的实时接口服务情况是否正常，若正常，则判断所述DSP平台的实时填充率是否低于预设填充率，并基于所述DSP平台的衰减系数调整所述DSP平台的请求量，否则对所述DSP平台进行熔断处理。根据本公开提供的一种基于填充率动态调整推广内容请求量的方法，所述采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率，包括：按照各DSP平台调整后的请求量分发实时的推广内容请求至各DSP平台的不同链路，并获取当前观察周期中不同链路下推广内容请求的实时响应数据；基于任一DSP平台当前观察周期的实时响应数据确定所述DSP平台的实时接口服务情况；基于任一DSP平台当前观察周期的实时响应数据，提取填充率的关联特征，并基于所述填充率的关联特征更新填充率预测模型，以及计算所述DSP平台的实时填充率。根据本公开提供的一种基于填充率动态调整推广内容请求量的方法，所述填充率的关联特征包括推广内容的尺寸、推广内容的素材质量、推广内容的投放时间；所述基于所述填充率的关联特征构建填充率预测模型，包括：采用数据分析方法计算所述填充率的关联特征的权重；基于所述填充率的关联特征、所述填充率的关联特征的权重和所述请求量，构建填充率预测模型。根据本公开提供的一种基于填充率动态调整推广内容请求量的系统，所述系统应用于ADX平台，所述系统包括：设置模块，用于设置各DSP平台的观察周期和衰减系数；分析模块，用于采集各DSP平台至少一个观察周期的历史响应数据，提取填充率的关联特征，并基于所述填充率的关联特征构建填充率预测模型，计算各DSP平台在至少一个观察周期内的历史填充率；第一调整模块，用于获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量；回溯模块，用于采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率；第二调整模块，用于基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量。综上所述，本公开提供的一种基于填充率动态调整推广内容请求量的方法及系统，通过设置DSP平台的观察周期和衰减系数，并结合各DSP平台的历史填充率和实时填充率体现的填充率变化，调整各DSP平台的请求量，以降低各DSP平台的无效请求成本、提高各DSP平台的请求利用率、提高各DSP平台的填充率；通过对DSP平台、推广位、操作系统、推广形式四种维度下的不同链路的推广内容请求进行响应数据的采集，实现了对流量数据更细粒度地观察和分析，能够精确的掌握各DSP平台下不同链路对于ADX平台分发的推广内容请求的填充情况，从而更好地实现对于各DSP平台的请求量的动态调整；通过对历史响应数据和实时响应数据的深层次结合分析，精准分析各DSP平台的推广内容请求的填充率变化，从而实现各DSP平台请求量的实时调整和精准调整。附图说明为了更清楚地说明本公开或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本公开的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本公开提供的一种基于填充率动态调整推广内容请求量的方法流程示意图；图2是本公开提供的一种基于所述DSP平台的衰减系数调整所述DSP平台的请求量的方法流程示意图；图3是本公开提供的一种基于填充率动态调整推广内容请求量的系统结构示意图。图标：310-设置模块；320-分析模块；330-第一调整模块；340-回溯模块；350-第二调整模块。具体实施方式为使本公开内容的目的、技术方案和优点更加清楚，下面将结合本公开中的附图，对本公开中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本公开的一部分实施例，而不是全部的实施例。基于本公开中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本公开保护的范围。图1是本公开提供的一种基于填充率动态调整推广内容请求量的方法流程示意图，所述方法应用于ADX平台。参照图1，所述方法，包括：S11，设置各DSP平台的观察周期和衰减系数。具体地，可以理解的是，ADX平台需要多个DSP平台分发推广内容请求，而各DSP平台的推广内容不同、报价不同，收到的请求量也不太，因此，为了更好地调整各DSP平台的请求量，需要为各DSP平台单独配置观察周期和衰减系数。同时，由于各DSP平台的填充表现也是一直变化的，故为了更准确地根据填充表现调整请求量，还需要为各DSP平台设置不同的观察周期和衰减系数，从而使ADX平台分发给各DSP平台的请求量能动态调整。其中，所述观察周期包括容忍期和调整期，所述衰减系数包括第一衰减系数和第二衰减系数；所述容忍期是指对于填充表现容忍性强较强的观察周期，所述调整期是指对于填充表现容忍性强较弱且需要根据填充表现调整请求量的观察周期，所述容忍期比所述调整期长，所述第一衰减系数是容忍期对应的请求量衰减系数，所述第二衰减系数是调整期对应的请求量衰减系数，所述第一衰减系数比所述第二衰减系数大，以便于在容忍期对请求量进行大幅度调整，在调整期对请求量进行频繁的小幅度调整。在一些实施例中，所述容忍期可以设为30min，所述观察期可以设为10min，所述第一衰减系数可以设为50%，所述第二衰减系数可以设为10%，这样可以在观察周期为容忍期时对请求量进行50%衰减，在观察周期为调整期时每隔10min就对请求量进行10%衰减。需要说明的是，为各DSP平台设置的第一衰减系数、第二衰减系数可以保持固定不变，也可以根据实际请求量或者实际需求进行调整，本公开对此不做限定。此外，由于各DSP平台下存在多个不同链路，故在一些实施例中，可以对每个DSP平台下的不同链路统一设置观察周期和衰减系数，也可以对每个DSP平台下的不同链路分析单独设置观察周期和衰减系数，本公开对此也不做限定。S12，采集各DSP平台至少一个观察周期的历史响应数据，提取填充率的关联特征，并基于所述填充率的关联特征构建填充率预测模型，计算各DSP平台在至少一个观察周期内的历史填充率。具体地，可以理解的是，由于各DSP平台接收到ADX平台分发的推广内容请求后，会返回与推广内容请求对应的推广内容，也即，各DSP平台对推广内容请求存在响应，具体的响应结果包括无返回、无效返回、有效返回，其中，无返回是指DSP平台的推广方当前无推广内容或者无预算投放推广内容等；无效返回是指DSP平台根据推广内容请求返回对应的推广内容，不符合标准规范需要过滤掉，无法填充到推广内容请求的链路；有效返回是指DSP平台的推广内容请求填充有推广内容。因此，为了获取各DSP平台对于推广内容请求的填充表现，需要采集其至少一个观察周期内对请求的响应数据。具体地，还可以理解的是，步骤S12包括以下步骤：步骤S121，采集各DSP平台至少一个观察周期的历史响应数据。具体地，针对各DSP平台对于推广内容请求的填充表现的历史数据进行统计，从DSP平台、推广位、操作系统、推广形式四种维度下的不同链路进行分析，以获取不同链路下多个观察周期的历史响应数据。例如，存在4个DSP平台、5个推广位、2种操作系统、3种推广形式，此时在DSP平台、推广位、操作系统、推广形式四种维度下，存在4×5×2×3，总共120个不同链路，而每个推广内容请求对应一个链路，一个链路可以对应多个推广内容请求，此时统计各DSP平台对于推广内容请求的填充表现，就是统计各DSP平台不同链路下推广内容请求的填充表现。在一些实施例中，所述采集各DSP平台至少一个观察周期的历史响应数据，包括：针对DSP平台、推广位、操作系统、推广形式四种维度下不同链路的推广内容请求的流量进行分析，采集每个DSP平台在至少一个观察周期中不同链路下推广内容请求的响应数据；其中，所述响应数据包括：填充情况、响应时间、推广信息，所述推广信息包括推广内容的类型、推广内容的尺寸、推广内容的素材质量、推广内容的投放时间、推广内容的价格。在上述实施例中，DSP平台为指ADX平台连接的多个资源端的平台，推广位为推广端用于投放推广内容的位置，操作系统为推广端的设备的系统，如常见的Android系统、iOS系统等，推广形式为推广内容的传播形式，包括电视媒介、纸面媒介等。通过对DSP平台、推广位、操作系统、推广形式四种维度下的不同链路的推广内容请求进行响应数据的采集，实现了对流量数据更细粒度地观察和分析，相对于传统层面的流量分析，本公开可以更精确的掌握各DSP平台下不同链路对于ADX平台分发的推广内容请求的填充情况，从而更好地实现对于各DSP平台的请求量的动态调整。步骤S122，提取填充率的关联特征，并基于所述填充率的关联特征构建填充率预测模型。其中，所述填充率的关联特征包括推广内容的尺寸、推广内容的素材质量、推广内容的投放时间；具体地，对于所述响应数据中的各项特征，填充情况用于表示DSP平台是否针对推广内容请求返回了推广内容，响应时间用于表示DSP平台对于推广内容请求的响应时间，推广信息用于表示DSP平台针对推广内容请求返回的推广内容的类型、尺寸、素材质量、投放时间、价格等，推广内容的类型如军事类、历史类、娱乐类等，推广内容的尺寸如推广内容在推广端设备投放的版面大小，素材质量如推广内容的画质质量等，投放时间为推广内容需要投放的时长，价格为DSP平台对于推广内容的投放价格。因此，为了分析各DSP平台的填充表现，需要针对采集的历史响应数据进行提取，从中获取影响填充率的相关特征，即与推广内容的请求量对应的返回量相关的特征，包括推广内容的尺寸、推广内容的素材质量、推广内容的投放时间。更具体地，所述基于所述填充率的关联特征构建填充率预测模型，包括：采用数据分析方法计算所述填充率的关联特征的权重；基于所述填充率的关联特征、所述填充率的关联特征的权重和所述请求量，构建填充率预测模型。即，在提取填充率的关联特征之后，通过采用统计学分析方法，分别在不同链路下，确定所述填充率的关联特征的权重，进而确定各推广内容请求是否存在推广内容的返回，以及构建填充率预测模型。其中，所述数据分析方法可以是相关分析法，也可以是回归分析法，还可以是其他统计学分析方法，本公开对此不做限定。例如，将所述填充率的关联特征记为A1、A2、A3，通过数据分析方法确定各关联特征的权重分别为w1、w2、w3，然后进一步构建任一链路下的填充率预测模型，如，R1/R2，其中，R1表示该链路下推广内容请求的返回量，是基于A1、A2、A3计算得到的，R2表示该链路下的请求量，R1的计算公式需要根据该链路下的推广内容请求进行确定，可以是多元线性方程，也可以是多元非线性方程，本公开对此不做限定。需要说明的是，步骤S122中构建的构建填充率预测模型是针对每个DSP平台下的每个链路进行构建，且不同链路之间的填充率预测模型互不影响。针对每个DSP平台下的每个链路的历史响应数据构建填充率预测模型是对DSP平台的历史响应数据的深层次分析，可以在更细粒的维度下准确分析各DSP平台的流量请求成本和填充表现，从而更好地调整各DSP平台的请求量。步骤S123，计算各DSP平台在至少一个观察周期内的历史填充率。具体地，根据步骤S122不仅可以获得各DSP平台不同链路下的填充率预测模型，还可以获得各DSP平台不同链路下的填充率。在此基础上，考虑每个DSP平台下存在多个链路，因此，计算各DSP平台在至少一个观察周期内的历史填充率，包括：计算各DSP平台不同链路在至少一个观察周期内的历史填充率。S13，获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量。具体地，可以理解的是，基于各DSP平台至少一个观察周期的历史响应数据，不仅可以确定各DSP平台在至少一个观察周期内的历史填充率，还可以确定各DSP平台至少一个观察周期的历史接口服务情况，各DSP平台的接口是指用于连接ADX平台的、接收推广内容请求、返回推广内容的接口，其接口服务情况可以准确反应不同链路的推广内容请求是否存在服务异常，如技术或网络原因、响应超时、推广信息不符合标准规范等导致的异常。具体地，可以理解的是，所述获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量，包括：步骤S131，基于任一DSP平台至少一个观察周期的历史响应数据，获取所述DSP平台至少一个观察周期的历史接口服务情况。具体地，根据任一DSP平台至少一个观察周期的历史响应数据的填充情况、响应时间、推广信息等，确定所述DSP平台的历史接口服务情况，即确定所述DSP平台不同链路的历史接口服务情况。步骤S132，判断所述DSP平台的历史接口服务情况是否正常。其中，步骤S132实质上就是判断所述DSP平台的接口是否存在异常服务，若历史接口服务情况正常，则执行步骤S133，否则执行步骤S134。判断所述DSP平台的历史接口服务情况是否正常，具体包括：判断任一推广内容请求的链路是否可用；和/或，判断任一推广内容请求的响应时间是否符合预设响应时间；和/或，判断任一推广内容请求的推广信息是否符合标准规范。具体地，所述DSP平台的历史接口服务情况正常需同时满足链路可用、响应时间符合预设响应时间、推广信息符合标准规范三个条件，也即，满足链路可用、响应时间符合预设响应时间、推广信息符合标准一个不满足条件就认为所述DSP平台的历史接口服务情况异常，在一个不满足条件时，如，链路不可用时直接确定接口服务异常，无需再判断响应时间和推广时间，这样有助于加快判断DSP平台的接口服务情况。更具体地，判断任一推广内容请求的链路是否可用，是指判断任一推广内容请求所在的链路是否存在由技术或网络原因导致的异常报错；判断任一推广内容请求的响应时间是否符合预设响应时间，是指响应时间是否超时，一般各DSP平台对于推广内容请求的响应时间需控制在120ms内，超时的响应也记为无响应，或者无返回；判断任一推广内容请求的推广信息是否符合标准规范，是指判断推广信息的尺寸、价格等是否符合标准规范，如，判断推广内容的数据格式是否符合格式规范、判断推广内容的尺寸是否满足投放尺寸、判断推广内容的价格是否高出预设的投放价格下限等。步骤S133，若所述DSP平台的历史接口服务情况正常，则判断所述DSP平台在至少一个观察周期内的历史填充率是否低于预设填充率，若低于，则基于所述DSP平台的衰减系数调整所述DSP平台的请求量。具体地，可以理解的是，基于各DSP平台在观察周期的历史填充表现，去调整分发给各DSP平台的请求量，当历史填充表现低于预设填充率，能够下调分发给各DSP平台的请求量，从而减少无效请求、提高填充率。而在分析各DSP平台在观察周期的填充表现时，可以先判断其接口服务情况是否正常，在接口服务正常的情况下再判断其填充率是否低于预设填充率。具体地，还可以理解的是，所述DSP平台在至少一个观察周期内的历史填充率低于预设填充率时，需要根据所述DSP平台的第一衰减系数和第二衰减系数调整所述DSP平台的请求量，减少无效请求，提高所述DSP平台的填充率。步骤S134，若所述DSP平台的历史接口服务情况异常，则对所述DSP平台进行熔断处理。其中，所述熔断处理是指停止DSP平台与ADX平台之间推广内容的交易，当任一DSP平台在某一观察周期的历史接口服务情况异常时，即可在下一周期停止该DSP平台的推广内容请求的分发。S14，采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率。具体地，可以理解的是，步骤S13是基于各DSP平台的历史填充率确定请求量的第一调整策略，根据第一调整策略调整当前时刻分发给各DSP平台的请求量，但当前时刻根据第一调整策略调整请求量时，各DSP平台不同链路下也会产生新的推广内容请求和对应的响应数据，因此，仅基于历史填充表现调整请求量，可以在DSP平台预算不足导致填充率低时减少请求量，但无法在DSP平台增加预算时及时恢复请求量，故为了实现对各DSP平台请求量的实时动态调整，还需要对第一调整策略的结果进行监测和分析，采集新的推广内容请求对应的响应数据，计算当前观察周期内的实时填充率。具体地，还可以理解的是，所述采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率，包括：步骤S141，按照各DSP平台调整后的请求量分发实时的推广内容请求至各DSP平台的不同链路，并获取当前观察周期中不同链路下推广内容请求的实时响应数据。具体地，根据步骤S12和S13确定调整分发给DSP的请求量和当前观察周期，并对调整请求量后的各DSP平台不同链路下的推广内容请求进行监测分析，获取当前观察周期的实时响应数据。步骤S142，基于任一DSP平台当前观察周期的实时响应数据确定所述DSP平台的实时接口服务情况。具体地，在当前观察周期内，基于任一DSP平台不同一链路下的推广内容请求的实时响应数据的填充情况、响应时间、推广信息等，确定所述DSP平台的实时接口服务情况。步骤S143，基于任一DSP平台当前观察周期的实时响应数据，提取填充率的关联特征，并基于所述填充率的关联特征更新填充率预测模型，以及计算所述DSP平台的实时填充率。具体地，在当前观察周期内，基于任一DSP平台任一链路下的推广内容请求的实时响应数据，提取推广内容的尺寸、推广内容的素材质量、推广内容的投放时间等填充率的关联特征，并基于填充率的关联特征更新基于历史响应数据构建的填充率预测模型，以及计算实时填充率，以便于为下一观察周期各DSP平台的请求量的调整方案。S15，基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量。具体地，可以理解的是，步骤S13是基于各DSP平台的历史填充率确定请求量的第一调整策略，步骤S14、S15基于各DSP平台的实时填充率确定请求量的第二调整策略，从而实现对各DSP平台请求量的实时动态调整。具体地，还可以理解的是，所述基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量，包括：对于历史接口服务情况异常的DSP平台，判断所述DSP平台的实时接口服务情况是否恢复正常，若恢复正常，则取消所述DSP平台的熔断处理，重置当前衰减系数，且确定下一观察周期为容忍期；否则，继续对所述DSP平台进行熔断处理；对于历史接口服务情况正常的DSP平台，判断所述DSP平台的实时接口服务情况是否正常，若正常，则判断所述DSP平台的实时填充率是否低于预设填充率，并基于所述DSP平台的衰减系数调整所述DSP平台的请求量，否则对所述DSP平台进行熔断处理。其中，判断所述DSP平台的实时接口服务情况是否正常可以参照步骤S132的判断历史接口服务情况是否正常的方法，而基于所述DSP平台的衰减系数调整所述DSP平台的请求量与步骤S133的请求量调整方法相同，此处不再赘述。在一些实施例中，对于接口服务情况异常的DSP平台，可以根据接口服务情况分析其异常信息的来源，不同异常信息会对应不同的错误代码，如果异常信息的来源是ADX平台对DSP的响应判断，此时可以根据报表统计，向DSP平台发送修改请求，解决此类ADX平台对DSP的响应判断而导致的异常信息，从而使恢复DSP平台的接口服务。本公开实施例提供的一种基于填充率动态调整推广内容请求量的方法，通过设置DSP平台的观察周期和衰减系数，并结合各DSP平台的历史填充率和实时填充率体现的填充率变化，调整各DSP平台的请求量，以降低各DSP平台的无效请求成本、提高各DSP平台的请求利用率、提高各DSP平台的填充率；通过对DSP平台、推广位、操作系统、推广形式四种维度下的不同链路的推广内容请求进行响应数据的采集，实现了对流量数据更细粒度地观察和分析，能够精确的掌握各DSP平台下不同链路对于ADX平台分发的推广内容请求的填充情况，从而更好地实现对于各DSP平台的请求量的动态调整；通过对历史响应数据和实时响应数据的深层次结合分析，精准分析各DSP平台的推广内容请求的填充率变化，从而实现各DSP平台请求量的实时调整和精准调整。图2是本公开提供的一种基于所述DSP平台的衰减系数调整所述DSP平台的请求量的方法流程示意图；参照图2，所述基于所述DSP平台的衰减系数调整所述DSP平台的请求量，包括：S21，基于所述DSP平台的衰减系数确定当前衰减系数；其中，所述基于所述DSP平台的衰减系数确定当前衰减系数，包括：步骤S211，若观察周期为容忍期，且所述DSP平台的历史填充率低于预设填充率，则确定当前衰减系数为第一衰减系数，且确定下一观察周期为调整期；具体地，可以理解的是，所述当前衰减系数指基于历史填充率为当前观察周期确定的DSP平台请求量的衰减比例，所述确定下一观察周期为调整期是指历史响应数据对应的观察周期的下一个周期，如采集了两个观察周期的历史响应数据，第一个观察周期为容忍期，且第一个观察周期的历史填充率低于预设填充率，则确定下一观察周期为调整期，即第二观察周期为调整期。具体地，还可以理解的是，当容忍期内所述DSP平台的历史填充率不低于预设填充率时，继续观察，请求量保持不变且下一观察周期仍为容忍期。步骤S211，若观察周期为调整期，且所述DSP平台的历史填充率低于预设填充率，则判断所述DSP平台的当前衰减系数是否低于预设衰减比，若低于，则确定当前衰减系数为当前衰减系数和第二衰减系数之和，否则保持不变。具体地，所述预设衰减比是用于确保各DSP的请求量的不衰减为0，即，若当前衰减系数低于所述预设衰减比，则需要更新当前衰减系数以继续调整DSP平台的请求量，若当前衰减系数不低于所述预设衰减比，则说明DSP平台的请求量以调整至最低，无需继续调整，也就是说，当前系数保持不变。所述预设衰减比可以根据第二衰减系数进行调整，如第二衰减系数为10%，预设衰减比可设为90%，所述预设衰减比也可以根据各DSP平台的初始请求量进行设置，本公开对此不做限定。步骤S211，若观察周期为调整期，且所述DSP平台的历史填充率不低于预设填充率，则重置当前衰减系数，且确定下一观察周期为容忍期。具体地，所述重置当前衰减系数是指将当前衰减系数重置为零，即，在调整期内，若DSP平台的历史填充率不低于预设填充率，则需要将观察周期从调整期恢复至容忍期，并通过重置当前衰减系数，使DSP平台的请求量也恢复至初始请求量。在一些实施例中，当调整期内，所述DSP平台的历史填充率不低于预设填充率，除了可以重置当前衰减系数，直接恢复至初始请求量，也可以选择设置增长系数，通过逐步增加增长系数来增加请求量，使请求量缓慢恢复至满足预设填充率的请求量或者初始请求量，而不是直接一步恢复至初始请求量，避免直接恢复至初始请求量后仍存在较多无效请求。S22，计算所述DSP平台的请求衰减量，所述请求衰减量为初始请求量和当前衰减系数之积。具体地，可以理解的是，所述初始请求量为各DSP平台未进行请求量调整前的请求量，根据步骤S21确定当前衰减系数后，则可以计算初始请求量和当前衰减系数之积，将其作为所述DSP平台的请求衰减量。S23，将所述DSP平台的请求量调整为所述请求衰减量与初始请求量的之差。具体地，可以理解的是，所述DSP平台的请求量调整是根据历史数据每个观察周期的历史填充率调整当前时刻所属观察周期内的请求量的分发，而请求量的调整是各DSP平台的初始请求量减去步骤S22计算的请求衰减量。例如，通过步骤S11设置了DSP平台1的观察周期和衰减系数，观察周期包括容忍期20min和调整期10min，衰减系数包括第一衰减系数30%，第二衰减系数10%，通过步骤S12采集了DSP平台1不同链路下的获取60min内的历史响应数据，而根据步骤S21-S23调整各DSP平台的请求量主要包括以下几种典型的请求量调整：60min内，第一个观察周期“容忍期”的20min内的历史填充率符合不低于预设填充率，则继续下一容忍期20min内的历史填充率的计算和比较：若容忍期的历史填充率一直不低于预设填充率，则观察周期保持为容忍期，请求量也保持不变；若任一容忍期的历史填充率符合低于预设填充率，则确定当前衰减系数为第一衰减系数，并将DSP平台的请求量调整为初始请求量与当前衰减系数之积，并将观察周期从容忍期调整为调整期，以继续下一调整期10min内的历史填充率的计算和比较。60min内，第一个观察周期“容忍期”的20min内的历史填充率符合低于预设填充率，则将DSP平台的请求量调整为初始请求量与当前衰减系数之积，并将观察周期从容忍期调整为调整期，以继续下一调整期10min内的历史填充率的计算和比较：若调整期的历史填充率不低于预设填充率，则将观察周期重新调整为容忍期，重置当前衰减系数使请求量也恢复至初始请求量；若调整期的历史填充率低于预设填充率，且当前衰减系数低于预设衰减比，则确定当前衰减系数为当前衰减系数和第二衰减系数之和，将DSP平台的请求量调整为初始请求量与当前衰减系数之积，继续下一调整期10min内的历史填充率的计算和比较；若调整期的历史填充率低于预设填充率，且当前衰减系数不低于预设衰减比，则否则保持当前衰减系数不变，继续下一调整期10min内的历史填充率的计算和比较。本公开实施例提供的一种基于所述DSP平台的衰减系数调整所述DSP平台的请求量的方法，通过DSP平台的衰减系数确定当前衰减系数，进行确定DSP平台的请求量，进而能够基于各DSP平台的历史填充率和实时填充率实时展示出填充率变化，减少无效请求、提高填充率，从而根据填充率的变化动态调整各DSP平台的请求量；通过设置不同的观察周期和衰减系数，使各DSP平台的请求量不仅能根据填充率的变化动态调整，还实现对于请求量的多种调整方法，既能将请求量进行大幅度调整，也能在短时间内多次地对请求量进行小幅度调整，还能在DSP平台的推广内容恢复时及时恢复DSP平台的请求量，在确保推广内容准确投放的同时降低了无效请求的成本、带宽成本等。图3是本公开提供的一种基于填充率动态调整推广内容请求量的系统结构示意图，所述系统应用于ADX平台。参照图3，所述系统包括：设置模块310、分析模块320、第一调整模块330、回溯模块340、第二调整模模块350。设置模块310，用于设置各DSP平台的观察周期和衰减系数；分析模块320，用于采集各DSP平台至少一个观察周期的历史响应数据，提取填充率的关联特征，并基于所述填充率的关联特征构建填充率预测模型，计算各DSP平台在至少一个观察周期内的历史填充率；第一调整模块330，用于获取各DSP平台至少一个观察周期的历史接口服务情况，并结合各DSP平台在至少一个观察周期内的历史填充率和各DSP平台的衰减系数调整各DSP平台的请求量；回溯模块340，用于采集调整后的任一DSP平台的实时响应数据，获取所述DSP平台的实时接口服务情况，基于所述DSP平台的实时响应数据更新填充率预测模型，计算所述DSP平台的实时填充率；第二调整模块350，用于基于所述DSP平台的实时接口服务情况和实时填充率调整所述DSP平台的请求量。本公开实施例提供的一种基于填充率动态调整推广内容请求量的系统，通过设置模块设置DSP平台的观察周期和衰减系数，并结合各DSP平台的历史填充率和实时填充率体现的填充率变化，调整各DSP平台的请求量，以降低各DSP平台的无效请求成本、提高各DSP平台的请求利用率、提高各DSP平台的填充率；通过分析模块对DSP平台、推广位、操作系统、推广形式四种维度下的不同链路的推广内容请求进行响应数据的采集，实现了对流量数据更细粒度地观察和分析，能够精确的掌握各DSP平台下不同链路对于ADX平台分发的推广内容请求的填充情况，从而更好地实现对于各DSP平台的请求量的动态调整；通过第一调整模块和第二调整模块对历史响应数据和实时响应数据的深层次结合分析，精准分析各DSP平台的推广内容请求的填充率变化，从而实现各DSP平台请求量的实时调整和精准调整。以上所描述的控制装置的实施例仅仅是示意性的，其中所使用的作为分离部件说明的“单元”可以是实现预定功能的软件和/或硬件的组合，可以是或者也可以不是物理上分开的。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。最后应说明的是：以上实施例仅用以说明本公开的技术方案，而非对其限制；尽管参照前述实施例对本公开进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本公开各实施例技术方案的精神和范围都应涵盖在本发明的保护范围之内。
