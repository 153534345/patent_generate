标题title
一种钙钛矿胶膜整叠成膜检测系统
摘要abst
本发明涉及用于光学检测技术领域，具体涉及一种钙钛矿胶膜整叠成膜检测系统，包括：根据所有光谱信号的局部均值曲线的平均曲线作为第一理想曲线，以最小噪声干扰程度对应光谱信号作为对照信号，根据所有光谱信号的均值获得第二理想曲线，根据趋势项偏移系数和特征项偏移系数，构建基于SNV算法的线性回归方程的平移量，进而得到封装钙钛矿电池板表面氧化速率，对其进行密封性质量评价。本发明避免了当干扰因素复杂、采样的光谱信号量较多时直接求均获取的理想信号存在失真和偏移的问题，提高了对钙钛矿胶膜封装质量检测的准确性和结果可信度。
权利要求书clms
1.一种钙钛矿胶膜整叠成膜检测系统，其特征在于，该系统包括以下模块：光谱信号获取模块：获取钙钛矿胶膜的多个时间下的光谱信号，将光谱信号中任意波长对应的数据记为光强；趋势项偏移模块：将光谱信号中相邻极值点之间的平均值记为平均光强，将任意一个光谱信号的所有平均光强形成的曲线记为局部均值曲线，将所有光谱信号在相同波长下平均光强的平均值记为第一理想光强，将第一理想光强与平均光强之间的差值记为误差值，获得若干个误差值，根据任意局部均值曲线的所有误差值的方差获得对应的趋势项偏移系数；特征项偏移模块：将光谱信号中相邻极值点的差值记为极值差值，根据极值差值的熵获得噪声干扰程度，将最小噪声干扰程度对应光谱信号进行滤波处理，将滤波处理后的信号中任意波长对应的光强记为对照光强，根据任意光谱信号的光强与相同波长下对照光强之间的差异获得特征项偏移系数；平移量模块：将所有光谱信号在相同波长下对应光强的平均值，记为第二理想光强，根据趋势项偏移系数和特征项偏移系数的乘积融合结果获得总偏移系数，根据总偏移系数对光谱信号的光强的乘积调节获得平移量因子，将第二理想光强与平移量因子之间的差值记为平移量；氧化速率检测模块：将第一个光谱信号中任意波长对应光强的平移量，与最后一个光谱信号中任意波长对应光强的平移量的加和平均，记为首尾平均平移量，将第一个光谱信号和最后一个光谱信号的获取时间的差异与首尾平均平移量之间的比例关系记为氧化速率；根据氧化速率的大小实现对钙钛矿胶膜的成膜质量检测。2.根据权利要求1所述一种钙钛矿胶膜整叠成膜检测系统，其特征在于，所述第一理想光强，获取方法如下：首先，获取每一个光谱信号中所有极值点，并对相邻极值点求均，获得若干个局部均值点，每个局部均值点即为一个平均光强，对所有局部均值点进行最小二乘法拟合，将拟合结果记为每一个光谱信号所对应的局部均值曲线；然后，对于所有光谱信号所对应的局部均值曲线，获取所有局部均值曲线在相同波长下对应平均光强的平均值，获得所有波长下对应平均光强的平均值，记为第一理想光强，并将由所有第一理想光强所形成的曲线记为第一理想曲线。3.根据权利要求1所述一种钙钛矿胶膜整叠成膜检测系统，其特征在于，所述趋势项偏移系数，获取方法如下：趋势项偏移系数获取方法为：其中，表示第p个光谱信号的趋势项偏移系数，/＞表示第p个光谱信号的局部均值曲线与第一理想曲线所得误差值的方差；/＞表示第p个光谱信号对应局部均值曲线在第i个波长处的平均光强,函数/＞表示获取括号内所有数值的均值；/＞表示第一理想曲线中第i个波长下对应的第一理想光强；误差值/＞表示第p个光谱信号在第i个波长下的平均光强，与第一理想曲线在第i个波长下的第一理想光强之间的差值；/＞表示第p个光谱信号所有误差值的均值。4.根据权利要求1所述一种钙钛矿胶膜整叠成膜检测系统，其特征在于，所述对照光强，获取方法如下：首先，获取每个光谱信号中相邻极值点的差值，记为极值差值，获取任意一个光谱信号中极值差值的数量；每个光谱信号中所有极值差值构成每个光谱信号对应的极值差值集合，将大小相同的极值差值作为一个极值差值类型，获取每个极值差值集合中极值差值类型的数量，同时获取所有极值差值类型各自所包含的极值差值的数量；将任意一个光谱信号对应极值差值集合中，任意一类极值差值在该光谱信号上极值差值数量上的占比记为干扰因子，将任意一个光谱信号中所有干扰因子的熵值记为噪声干扰程度；获取其中噪声干扰程度最小时对应的光谱信号，记为目标光谱信号，将均值滤波尺寸设置为5个波长，利用均值滤波将目标光谱信号进行平滑滤波处理，将目标光谱信号平滑滤波后的信号记为对照信号，将对照信号中任意波长下对应的数据记为对照光强。5.根据权利要求1所述一种钙钛矿胶膜整叠成膜检测系统，其特征在于，所述特征项偏移系数，获取方法如下：特征项偏移系数获取方法为：其中，表示第p个光谱信号的第i个波长处对应光强的特征项偏移系数，/＞表示第p个光谱信号的第i个波长处的光强对照差值，/＞表示第p个光谱信号的所有波长处的光强对照差值；函数/＞表示获取括号内对应数值的均值，/＞表示第p个光谱信号所有波长处的光强对照差值的均值，/＞表示第p个光谱信号的第i个波长处对应的光强，/＞表示对照信号mH上第i个波长处对应的对照光强。6.根据权利要求1所述一种钙钛矿胶膜整叠成膜检测系统，其特征在于，所述平移量，获取方法如下：获取所有光谱信号中在相同波长下，对应光强的平均值，记为第二理想光强，将由所有波长对应的第二理想光强形成的曲线记为第二理想曲线；根据特征项偏移系数和趋势项偏移系数获得总偏移系数，将SNV算法中的总偏移系数替换为总偏移系数，则获得SNV算法的线性回归方程/＞，则平移量为/＞，其中,函数/＞表示获取括号内对应的所有数值的均值，/＞表示第二理想曲线中第i个波长下对应的第二理想光强，/＞表示第p个光谱信号的第i个波长下对应光强的特征项偏移系数，表示第p个光谱信号的趋势项偏移系数，/＞表示第p个光谱信号的第i个波长处对应的光强，/＞表示第p个光谱信号的第i个波长下对应光强的平移量，其中/＞表示平移量因子。7.根据权利要求1所述一种钙钛矿胶膜整叠成膜检测系统，其特征在于，所述氧化速率，获取方法如下：氧化速率：其中，首平移量表示第1个光谱信号的第i个波长对应光强的平移量，尾平移量/＞表示第P个，即最后一个光谱信号的第i个波长对应光强的平移量，/＞表示获取第1个光谱信号时对应的时间，/＞表示获取最后一个光谱信号对应的时间；/＞表示首尾平移量；/＞表示首尾平均平移量。8.根据权利要求1所述一种钙钛矿胶膜整叠成膜检测系统，其特征在于，所述根据氧化速率的大小实现对钙钛矿胶膜的成膜质量检测，具体包括步骤如下：人为设定氧化速率阈值，将氧化速率大于氧化速率阈值时，钙钛矿胶膜封装的电池不予出厂，实现对钙钛矿胶膜成膜后对电池封装质量的高效和高准确性检测。/＞
说明书desc
技术领域本发明涉及光学检测技术领域，具体涉及一种钙钛矿胶膜整叠成膜检测系统。背景技术常用太阳能电池板封装装置为层压机。使用层压机时，将玻璃板、上封胶膜、太阳能电池、下封胶膜和背板玻璃按一定次序层叠之后放入层压机进行抽气加热和压合封装。钙钛矿电池无法容忍封装胶膜的透气性，水氧会腐蚀光伏组件，影响钙钛矿叠层电池的性能。现有专利CN212750927U中提出在钙钛矿太阳能电池中封装有氧气检测片剂，通过检测氧气检测片剂内含有的对氧气敏感的钙钛矿量子点材料的发光强度的变化，对胶膜封装后光伏组件隔氧性能的好坏进行准确评估。但是氧化剂的氧化反应荧光强度，需要通过光谱检测获取，实际检测隔氧性能时需要以一定的时间间隔来多次检测光谱信号，观察封装胶膜是否存在隔氧性能较差的问题，但每一次检测过程都会不可避免受到大量噪声干扰，且这些噪声干扰对每一个光谱信号的干扰都是随机产生的，极大影响了对多个光谱信号之间的相关性的测定以及检测结果的准确性。发明内容本发明提供一种钙钛矿胶膜整叠成膜检测系统，以解决现有的问题。本发明的一种钙钛矿胶膜整叠成膜检测系统采用如下技术方案：本发明提供了一种钙钛矿胶膜整叠成膜检测系统，该方法包括以下步骤：光谱信号获取模块：获取钙钛矿胶膜的多个时间下的光谱信号，将光谱信号中任意波长对应的数据记为光强；趋势项偏移模块：将光谱信号中相邻极值点之间的平均值记为平均光强，将任意一个光谱信号的所有平均光强形成的曲线记为局部均值曲线，将所有光谱信号在相同波长下平均光强的平均值记为第一理想光强，将第一理想光强与平均光强之间的差值记为误差值，获得若干个误差值，根据任意局部均值曲线的所有误差值的方差获得对应的趋势项偏移系数；特征项偏移模块：将光谱信号中相邻极值点的差值记为极值差值，根据极值差值的熵获得噪声干扰程度，将最小噪声干扰程度对应光谱信号进行滤波处理，将滤波处理后的信号中任意波长对应的光强记为对照光强，根据任意光谱信号的光强与相同波长下对照光强之间的差异获得特征项偏移系数；平移量模块：将所有光谱信号在相同波长下对应光强的平均值，记为第二理想光强，根据趋势项偏移系数和特征项偏移系数的乘积融合结果获得总偏移系数，根据总偏移系数对光谱信号的光强的乘积调节获得平移量因子，将第二理想光强与平移量因子之间的差值记为平移量；氧化速率检测模块：将第一个光谱信号中任意波长对应光强的平移量，与最后一个光谱信号中任意波长对应光强的平移量的加和平均，记为首尾平均平移量，将第一个光谱信号和最后一个光谱信号的获取时间的差异与首尾平均平移量之间的比例关系记为氧化速率；根据氧化速率的大小实现对钙钛矿胶膜的成膜质量检测。进一步的，所述第一理想光强，获取方法如下：首先，获取每一个光谱信号中所有极值点，并对相邻极值点求均，获得若干个局部均值点，每个局部均值点即为一个平均光强，对所有局部均值点进行最小二乘法拟合，将拟合结果记为每一个光谱信号所对应的局部均值曲线；然后，对于所有光谱信号所对应的局部均值曲线，获取所有局部均值曲线在相同波长下对应平均光强的平均值，获得所有波长下对应平均光强的平均值，记为第一理想光强，并将由所有第一理想光强所形成的曲线记为第一理想曲线。进一步的，所述趋势项偏移系数，获取方法如下：其中，表示第p个光谱信号的趋势项偏移系数，/＞表示第p个光谱信号的局部均值曲线与第一理想曲线所得误差值的方差；/＞表示第p个光谱信号对应局部均值曲线在第i个波长处的平均光强,函数/＞表示获取括号内所有数值的均值；/＞表示第一理想曲线中第i个波长下对应的第一理想光强；误差值/＞表示第p个光谱信号在第i个波长下的平均光强，与第一理想曲线在第i个波长下的第一理想光强之间的差值；表示第p个光谱信号所有误差值的均值。进一步的，所述对照光强，获取方法如下：首先，获取每个光谱信号中中相邻极值点的差值，记为极值差值，获取任意一个光谱信号中极值差值的数量；每个光谱信号中所有极值差值构成每个光谱信号对应的极值差值集合，将大小相同的极值差值作为一个极值差值类型，获取每个极值差值集合中极值差值类型的数量，同时获取所有极值差值类型各自所包含的极值差值的数量；将任意一个个光谱信号对应极值差值集合中，任意一类极值差值在该光谱信号上极值差值数量上的占比记为干扰因子，将任意一个光谱信号种所有干扰因子的熵值记为噪声干扰程度；获取其中噪声干扰程度最小时对应的光谱信号，记为目标光谱信号，将均值滤波尺寸设置为5个波长，利用均值滤波将目标光谱信号进行平滑滤波处理，将目标光谱信号平滑滤波后的信号记为对照信号，将对照信号中任意波长下对应的数据记为对照光强。进一步的，所述特征项偏移系数，获取方法如下：特征项偏移系数获取方法为：其中，表示第p个光谱信号的第i个波长处对应光强的特征项偏移系数，/＞表示第p个光谱信号的第i个波长处的光强对照差值，/＞表示第p个光谱信号的所有波长处的光强对照差值；函数/＞表示获取括号内对应数值的均值，/＞表示第p个光谱信号所有波长处的光强对照差值的均值，/＞表示第p个光谱信号的第i个波长处对应的光强，/＞表示对照信号mH上第i个波长处对应的对照光强。进一步的，所述平移量，获取方法如下：获取所有光谱信号中在相同波长下，对应光强的平均值，记为第二理想光强，将由所有波长对应的第二理想光强形成的曲线记为第二理想曲线；根据特征项偏移系数和趋势项偏移系数获得总偏移系数，将SNV算法中的总偏移系数替换为总偏移系数，则获得SNV算法的线性回归方程，则平移量为/＞，其中, 函数/＞表示获取括号内对应的所有数值的均值，/＞表示第二理想曲线中第i个波长下对应的第二理想光强，/＞表示第p个光谱信号的第i个波长下对应光强的特征项偏移系数，/＞表示第p个光谱信号的趋势项偏移系数，/＞表示第p个光谱信号的第i个波长处对应的光强，/＞表示第p个光谱信号的第i个波长下对应光强的平移量，其中表示平移量因子。进一步的，所述氧化速率，获取方法如下：氧化速率：其中，首平移量表示第1个光谱信号的第i个波长对应光强的平移量，尾平移量表示第P个，即最后一个光谱信号的第i个波长对应光强的平移量，/＞表示获取第1个光谱信号时对应的时间，/＞表示获取最后一个光谱信号对应的时间；/＞表示首尾平移量；/＞表示首尾平均平移量；人为设定氧化速率阈值，将氧化速率大于氧化速率阈值时，钙钛矿胶膜封装的电池不予出厂，实现对钙钛矿胶膜成膜后对电池封装质量的高效和高准确性检测。/＞本发明的技术方案的有益效果是：将光谱信号上的偏移分解为趋势项和特征项，根据所有连续采样信号局部均值曲线的平均曲线作为第一理想信号，以最小噪声干扰信号作为对照信号，以各个光谱信号原信号的均值信号作为第二理想信号，获取光谱信号的趋势项偏移系数和特征项偏移系数，构建线性回归方程在补偿信号偏移的情况下直接获取间隔采样光谱信号之间的平移量，进而得到封装钙钛矿电池板表面氧化速率，对其进行密封性质量评价。相比于传统SNV算法而言，将理想信号的获取按不同干扰因素分解进行获取，避免当干扰因素复杂、采样信号量较多时直接求均获取理想信号的失真、偏移侧重问题，使理想信号得到的偏移量更加准确，那么无论是偏移矫正后获取氧化速率，还是通过补偿直接获取氧化速率，来判定胶膜密封质量，其结果均具有较高的可信度。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明一种钙钛矿胶膜整叠成膜检测系统的步骤流程图；图2为第一理想曲线。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种钙钛矿胶膜整叠成膜检测系统，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种钙钛矿胶膜整叠成膜检测系统的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种钙钛矿胶膜整叠成膜检测系统的步骤流程图，该方法包括以下步骤：光谱信号获取模块：根据光谱仪采集钙钛矿电池封装层中涂剂受激发而产生荧光的光谱信号。抽取EVA胶膜样本，在样本胶膜对钙钛矿电池封装时将氧气检测片剂涂在两者夹层中，如硝酸酯、过氧化物等丁胶基类氧化剂，进行抽气加热和压合封装；准备一台可用于光谱测量的光谱仪，在光谱仪中设置所需的波长范围和分辨率，一些常用的激发波长为200-400纳米；将待测样品放置在光谱仪检测器前面的样品检测台上，利用光谱仪测量样品氧气检测片剂位置的初始荧光强度，放置一段时间后再次进行检测，重复检测数次，间隔设置为1分钟，对胶膜封装质量进行评价。每次检测均可获取一个采样光谱数据，由于光谱数据非常容易受到噪声问题，因此利用常规设备采集的光谱信号，均分布有较为密集的噪声。至此，获得多个光谱信号，总数量记为P个，光谱信号中任意波长下所对应的数据表示封装层中涂剂受激发产生荧光的光强，记为g。趋势项偏移模块：根据光谱信号中极值点之间的平均值获得平均光强，并形成局部均值曲线，进一步根据局部均值曲线在相同波长下对应的平均光强的平均值与平均光强之间的差异获得趋势项偏移系数。由光谱信号中荧光的光强变化即可获取封装气密性好坏，若光强增大，则代表封装夹层中的氧化剂与氧气接触增加，代表封装胶膜密封性较差，但是光谱的变化是从其观能团所在激发波段中呈现的。需要说明的是：在光谱检测过程中检测位置不变时，任何环境影响引起的光强变化，在激发波段各个波长处均会发生；氧气透过胶膜时，在不同氧气浓度下的钙钛矿表面氧化剂量子会呈现不同的光谱信号，由于检测位置处氧化剂的受到光照激发时反应越强烈，荧光强度越高，那么在激发波段不同波段处的光强均会存在一定程度的增大，虽然相邻间隔所采样获取的光谱信号上的噪声干扰类型复杂多样，但激发波段内每个波长处的增量应当接近一致，光谱分析中当检测位置处存在一个目标变量发生变化，那么光谱信号也随之变化，但是变化趋势较为一致；尽管各个采样光谱信号在激发波段趋势一致，但仍存在差异，这些差异是由于在每次测量过程中设备响应、检测位置量子结构发生变化、或是噪声等原因导致的，在本实施例中，以一定采样间隔，连续检测封装钙钛矿电池表面氧化剂荧光强度的变化时，会由于这些因素导致光谱信号之间无法建立较好的相关性，会对后续分析、检测结果的准确性产生影响。现有标准正态分量SNV法可以将光谱信号中的数据转换为均值为0，标准差为1的正态分布，从而消除不同样品之间因浓度、路径长度、仪器响应等因素引起的光谱强度变化，也是光谱分析中常用于增强光谱数据相关性的预处理算法，该算法主要在于理想光谱的获取，默认算法是通过所有光谱信号中数据的平均值作为理想光谱信号，但是直接利用理想信号消除偏移的方法处理太过理想和单一，尤其多次间隔采样的光谱信号，不确定因素更多，偏移成分更复杂，在多源干扰下直接对采样信号求均获取所谓的理想信号可能无法达到预期效果。对于直接通过光谱信号中的数据求均得到理想信号存在的不足，本实施例按照光谱信号上的干扰类型，主要包括光谱多元散射偏移和传感器噪声两类，将信号的偏移分解为趋势项和特征项，分别求偏移系数，在两个阶段分别获取理想信号，并分别获取趋势项和特征项的偏移系数，得到新的线性回归模型，以获取更准确的荧光强度变化量。如图2所示，检测位置不变，若氧浓度变化则检测位置处荧光强度变化，激发波段内信号向上平移，但趋势在理想状态应该不变，实际每次采样时都会存在各种因素干扰，获取每个光谱信号的局部均值曲线，求均得到第一理想曲线，再获取每个光谱信号局部均值曲线与第一理性曲线的误差，根据每个采样光谱信号误差值集合的方差归一化结果，即可体现其趋势项相对于第一理想曲线的偏移系数。则获取每个光谱信号上的趋势项偏移系数：首先，由于噪声和其他客观影响因素同时存在，获取每一个光谱信号中所有极值点，并对相邻极值点求均，获得若干个局部均值点，每个局部均值点即为一个平均光强，对所有局部均值点进行最小二乘法拟合，将拟合结果记为每一个光谱信号所对应的局部均值曲线；所获取的局部均值曲线可以表征光谱信号最平滑的趋势项，因此可以通过对比相邻采样间隔的光谱信号所对应的局部均值曲线，获取由于间隔检测时测量精度、设备等导致的趋势不一致的光谱信号数据；然后，对于所有光谱信号所对应的局部均值曲线，获取所有局部均值曲线在相同波长下对应平均光强的平均值，获得所有波长下对应平均光强的平均值，记为第一理想光强，则将由所有第一理想光强所形成的曲线记为第一理想曲线，将第一理想曲线中第i个波长下对应的第一理想光强记为；最后，根据局部均值曲线和第一理想曲线获得光谱信号的趋势项偏移系数：其中，表示第p个光谱信号的趋势项偏移系数，/＞表示第p个光谱信号的局部均值曲线与第一理想曲线所得误差值的方差；/＞表示第p个光谱信号对应局部均值曲线在第i个波长处的平均光强,函数/＞表示获取括号内所有数值的均值；/＞表示第一理想曲线中第i个波长下对应的第一理想光强；误差值/＞表示第p个光谱信号在第i个波长下的平均光强，与第一理想曲线在第i个波长下的第一理想光强之间的差值；/＞表示第p个光谱信号所有误差值的均值。需要说明的是，假设在无其他客观因素影响下，仅氧浓度变化导致的光谱理想变化应为上下平移，趋势不变，而实际间隔测量的光谱信号趋势并不完全一致，因此趋势项偏移系数代表对应光谱信号的整体趋势相对于其他光谱信号而言的偏移程度。需要说明的是，本实施例中需要第一理想曲线的趋势项来对照其他光谱信号，因此不能与第一理想曲线直接计算获取误差值评价偏移系数，但是可以在平移量不同时根据误差值的方差来统一多个采样光谱信号的主趋势项偏移系数的量纲。另外，对上述中量纲部分的解释说明，趋势项偏移系数的获取方法对于所有连续间隔采样信号均适用，均可无视间隔采样光谱信号由于氧浓度变化导致的平移量差异，如两组信号的误差分别为1、2、3、4和11、12、13、14，两个信号之间存在10的平移量，但均值分别为2.5和12.5，两者的方差值相等，因此可以在无视平移量的情况下进行同量纲归一化计算。至此，得到所有光谱信号的趋势项偏移系数。特征项偏移模块：根据光谱信号中相邻极值点之间的差异获得噪声干扰程度，根据噪声干扰程度最小值对应的光谱信号获得对照信号，根据光谱信号与对照信号之间的差异获得特征项偏移系数。因为噪声干扰越小，则平滑过程对光谱信号中数据对应光强的平滑程度就越小，即光强大小的变化量越小，本实施例通过获取每个光谱信号的噪声干扰程度，将最小噪声干扰程度所对应的光谱信号进行平滑处理，将平滑处理后的光谱信号作为对照信号。另外，由于SNV算法是根据偏移量估计来统一平滑信号，建立多个采样光谱信号的相关性模型，因此就偏移量而言无需考虑噪声的在频域中的相关信息，仅需要考虑光谱信号中各波长下对应光强的大小，即可评估噪声干扰程度，那么可以通过极值差值集合的熵值来得到每个光谱信号的噪声干扰程度；首先，根据获取每个光谱信号中相邻极值点的差值，记为极值差值，将任意一个光谱信号中极值差值的数量记为j；每个光谱信号中所有极值差值构成每个光谱信号对应的极值差值集合，并将大小相同的极值差值作为一个极值差值类型，统计获取每个极值差值集合中极值差值类型的数量，记为k，将任意一类极值差值类型所包含的极值差值的数量记为G；然后，第p个光谱信号的噪声干扰程度获取方法为：其中，表示第p个光谱信号对应极值差值集合中极值差值类型的数量，/＞代表第p个光谱信号对应极值差值集合中，第c类极值差值类型所包含的极值差值的数量；/＞代表第p个光谱信号中极值差值的数量；/＞表示以自然常数为底的对数函数；干扰因子/＞表示第p个光谱信号对应极值差值集合中，第c类极值差值在该光谱信号上极值差值数量上的占比。获得所有光谱信号对应的噪声干扰程度，并获取其中噪声干扰程度最小时对应的光谱信号，记为目标光谱信号，本实施例选择均值滤波，将滤波尺寸设置为5个波长，利用均值滤波将目标光谱信号进行平滑滤波处理，将目标光谱信号平滑滤波后的信号记为对照信号mH，将对照信号中任意波长下对应的数据记为对照光强。将每个光谱信号的光强与对照信号中的对照光强在同波长下的差值，记为光强对照差值，根据光强对照差值获取每个光谱信号中不同波长位置下光强的特征项偏移系数，获取方法为：/＞其中，表示第p个光谱信号的第i个波长处对应光强的特征项偏移系数，/＞表示第p个光谱信号的第i个波长处的光强对照差值，/＞表示第p个光谱信号的所有波长处的光强对照差值；函数/＞表示获取括号内对应数值的均值，/＞表示第p个光谱信号所有波长处的光强对照差值的均值，/＞表示第p个光谱信号的第i个波长处对应的光强，/＞表示对照信号mH上第i个波长处对应的对照光强。需要说明的是，光强对照差值为正、负均不影响特征项偏移系数的获取。根据获取的光强对照差值评价光谱信号中光强的均值偏离度，表示第p个光谱信号的第i个波长处的光照对照差值相对于均值的偏离度，即第p个光谱信号的第i个波长处的特征项偏移系数。至此，获得每个光谱信号的任意波长下对应光强的特征项偏移系数。平移量模块：根据特征项偏移系数和趋势项偏移系数获得SNV算法的总偏移系数，进一步获得平移量，根据平移量的变化获得氧化剂的氧化速率。另外，获取所有光谱信号中在相同波长下，对应光强的平均值，记为第二理想光强，将由所有波长对应的第二理想光强形成的曲线记为第二理想曲线，第二理想曲线中第i个波长下对应的第二理想光强记为；假设相邻间隔所得的激发波段内光谱曲线趋势完全一致，则SNV算法中的一元线性回归的总偏移系数为1，那么对于任意一个光谱信号中的光强而言，噪声信号是在光强发生趋势项偏移的基础上，出现叠加干扰才导致的特征项偏移，因此每个信号点总偏移系数应为：，将SNV算法中的总偏移系数替换为总偏移系数/＞，则获得SNV算法的线性回归方程/＞，其中，/＞表示第二理想曲线中第i个波长下对应的第二理想光强，/＞表示第p个光谱信号的第i个波长下对应光强的特征项偏移系数，/＞表示第p个光谱信号的趋势项偏移系数，/＞表示第p个光谱信号的第i个波长处对应的光强，/＞表示第p个光谱信号的第i个波长下对应光强的平移量；因此通过线性回归方程获取平移量，具体获取方法为：其中，表示第p个光谱信号的第i个波长下对应光强的平移量，/＞表示第二理想曲线中第i个波长下对应的第二理想光强，/＞表示第p个光谱信号的第i个波长下对应光强的特征项偏移系数，/＞表示第p个光谱信号的趋势项偏移系数，/＞表示第p个光谱信号的第i个波长处对应的光强；/＞表示总偏移系数；/＞表示平移量因子；另外，不同光谱信号中不同波长下对应光强的平移量可能有正有负。氧化速率检测模块：需要获取首个光谱信号至最后一个光谱信号之间光强的平移量，即可获取当存在氧气穿过胶膜后，检测位置处氧化剂在一定时间内的氧化速率，氧化速率E的获取方法为：其中，首平移量表示第1个光谱信号的第i个波长对应光强的平移量，尾平移量表示第P个，即最后一个光谱信号的第i个波长对应光强的平移量，/＞表示获取第1个光谱信号时对应的时间，/＞表示获取最后一个光谱信号对应的时间；/＞表示首尾平移量；/＞表示首尾平均平移量；由于对于和/＞两者而言，是各自相对于第二理想曲线的平移量，平移量或为一正一负，那么第一个光谱信号与最后一个光谱信号之间的平均平移量为，除以两者采样的时间差/＞，得到氧化速率E，其与氧化剂受到氧化的速率为正相关关系，因此可以直接设置阈值，以E值判断胶膜密封质量，本实施例设定氧化速率阈值为0.02，当/＞时，认为胶膜透氧率较高，封装质量较差，需要将对应钙钛矿胶膜封装的电池不予出厂。至此，根据氧化速率E的大小实现了对钙钛矿胶膜成膜后对电池封装质量的高效和高准确性检测。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
