标题title
一种基于gds文件的引脚物理属性的匹配方法及系统
摘要abst
本发明涉及电子设计自动化技术领域，特别是涉及一种基于gds文件的引脚物理属性的匹配方法及系统，其通过对gds文件进行解析得到文本数据，对文件数据建立第一映射；将待匹配的引脚的中心点行坐标插入第一映射中得到更新后的第一映射；在更新后的第一映射中移动中心点行坐标的游标的位置，得到有效行坐标，同理得到有效列坐标，根据有效行列坐标、用户指定的引脚网络名标签和引脚编号标签得到引脚网络名文本和引脚编号文本，进而根据最小距离获取待匹配的引脚的引脚网络名和引脚编号文本，通过该方法解决了现有技术中将gds文件导入已知工具中，只有图形信息，没有元件引脚网络名和引脚编号导致无法完整的重现原有的设计的技术问题。
权利要求书clms
1.一种基于gds文件的引脚物理属性的匹配方法，其特征在于，所述方法包括：S001，对gds文件进行解析，得到文本数据；根据文本数据的行坐标获取U个第一映射KV1＝{KV11,KV12,…,KV1u,…KV1U}，KV1u为第u个行坐标Xu对应的第一映射，u的取值范围为1到U；其中KV1u的键为Xu，KV1u的值为Xu中包括的W个列坐标对应的第二映射KV2＝{KV21,KV22,…,KV2w,…KV2W}，KV2w为Xu中第w个列坐标Yw对应的第二映射，w的取值范围为1到W；其中，KV2w的键为Yw、KV2w的值为Yw包括的Sum1个文本；S002，获取第g个引脚ping的中心点坐标，其中Xg,0为ping的中心点列坐标，Yg,0为ping的中心点行坐标；将Yg,0插入KV1中，得到更新后的第一映射KV1′；S003，在KV1′中查找Yg,0，得到Yg,0对应的游标Ykeyg；S004，移动Ykeyg在KV1′中的位置，得到TOL1个在行误差值内的有效行坐标；S005，获取TOL2个在列误差值内的有效列坐标，根据TOL1个有效行坐标和TOL2个有效列坐标获取Sum2个有效文本；S006，根据用户指定的引脚网络名标签和引脚编号标签将Sum2个有效文本分为Sum21个引脚网络名文本和Sum22个引脚编号文本，且满足Sum2＝Sum21+Sum22；S007，获取Sum21个引脚网络名文本中与ping的中心点坐标距离最小的引脚网络名文本netg；S008，获取Sum22个引脚编号文本中与ping的中心点坐标距离最小的引脚编号文本Tagg，得到ping关联的引脚物理属性{netg,Tagg}。2.根据权利要求1所述的方法，其特征在于，所述S004还包括：S0041，根据行误差值Ec，计算Yg,0＝Yg,0-Ec，Yg,0＝Yg,0+Ec，得到行坐标范围；S042，将Ykeyg指向的位置分别沿着KV1′中行坐标增大的第一方向和行坐标减小的第二方向移动，将沿第一方向每次移动之后Ykeyg指向的第一新位置的键与Yg,0进行比较，获取YS1个小于等于Yg,0的有效行坐标；将沿第二方向每次移动之后Ykeyg指向的第二新位置的键与Yg,0进行比较，获取YS2个大于等于Yg,0的有效行坐标；且满足TOL1＝YS1+YS2。3.根据权利要求1所述的方法，其特征在于，所述S005还包括：S0051，将Xg,0插入KV2中，得到更新后的第一映射KV2′；S0052，在KV2′中查找Xg,0，得到Xg,0对应的游标Xkeyg；S0053，根据列误差值Er，计算Xg,0＝Xg,0-Er，Xg,0＝Xg,0+Er，得到列坐标范围；S054，将Xkeyg指向的位置分别沿着KV2′中列坐标增大的第三方向和列坐标减小的第四方向移动，将沿第三方向每次移动之后Xkeyg指向的第三新位置的键与Xg,0进行比较，获取XS1个小于等于Xg,0的有效列坐标；将沿第二方向每次移动之后Xkeyg指向的第四新位置的键与Xg,0进行比较，获取XS2个大于等于Xg,0的有效列坐标；且满足TOL2＝XS1+XS2。4.根据权利要求1所述的方法，其特征在于，所述ping的中心点坐标的获取步骤包括：S0021，根据ping中所有的R个顶点的坐标tg，获取tg中的最小列坐标Xmin、最大列坐标Xmax、最小行坐标Ymin、最大行坐标Ymax；S0022，根据Xmin和Xmax得到tg,0的中心点列坐标Xg,0，Xg,0满足：Xg,0＝/2；S0023，根据Ymin和Ymax得到tg,0的中心点行坐标Yg,0，Yg,0满足：Yg,0＝/2。5.根据权利要求1所述的方法，其特征在于，S002还包括：S0024，当KV1中的所有键与Yg,0都不相等时，将Yg,0插入KV1中之后，Yg,0的值为空。6.根据权利要求1所述的方法，其特征在于，S002还包括：S0025，当KV1中存在与Yg,0相等的键时，不创建新的映射。7.根据权利要求1所述的方法，其特征在于，netg的获取步骤包括：S0071，分别计算Sum21个引脚网络名文本的坐标与ping的中心点坐标之间的距离得到Sum21个第一距离，Sum21个第一距离中的最小值对应的引脚网络名文本为netg。8.根据权利要求1所述的方法，其特征在于，Tagg的获取步骤包括：S0081，分别计算Sum22个引脚编号文本的坐标与ping的中心点坐标之间的距离得到Sum22个第二距离，Sum22个第二距离中的最小值对应的引脚编号文本为Tagg。9.一种基于gds文件的引脚物理属性的匹配系统，所述系统包括处理器和非瞬时性计算机可读存储介质，所述非瞬时性计算机可读存储介质中存储有至少一条指令或至少一段程序，其特征在于，所述至少一条指令或所述至少一段程序由处理器加载并执行以实现如权利要求1-8中任意一项所述的方法。
说明书desc
技术领域本发明涉及电子设计自动化技术领域，特别是涉及一种基于gds文件的引脚物理属性的匹配方法及系统。背景技术gds二进制文件是一种常用的存储格式，是一种“版图”文件，用于生产光刻工艺所需的掩膜版。在IC设计中，gds文件包含完整的几何图形信息，但是却弱化了物理属性，使用户在使用这些文件时，很难提取出诸如引脚，引脚网络名等物理信息。虽然gds文件经常用于IC制造，它只包含了图形信息。但是在某些情况下，也需要根据根据gds文件恢复出相应的物理特性，校验、修改或者使用恢复出的相应物理信息。但是目前将gds文件导入目前已知的工具中，只有图形信息，没有元件、引脚、焊盘、引脚网络名、引脚编号这些信息，无法完整的重现原有的设计，制约了后续对gds文件的校验或者使用。发明内容针对将gds文件导入目前已知的工具中，只有图形信息，没有引脚网络名和引脚编号这两种物理属性的技术问题，本发明采用的技术方案为：一种基于gds文件的引脚物理属性的匹配方法，所述方法包括：S001，对gds文件进行解析，得到文本数据；根据文本数据的行坐标获取U个第一映射KV1＝{KV11,KV12,…,KV1u,…KV1U}，KV1u为第u个行坐标Xu对应的第一映射；其中KV1u的键为Xu，KV1u的值为Xu中包括的W个列坐标对应的第二映射KV2＝{KV21,KV22,…,KV2w,…KV2W}，KV2w为Xu中第w个列坐标Yw对应的第二映射，其中，KV2w的键为Yw、KV2w的值为Yw包括的Sum1个文本。S002，获取第g个引脚ping的中心点坐标，其中Xg,0为ping的中心点列坐标，Yg,0为ping的中心点行坐标；将Yg,0插入KV1中，得到更新后的第一映射KV1′。S003，在KV1′中查找Yg,0，得到Yg,0对应的游标Ykeyg。S004，移动Ykeyg在KV1′中的位置，得到TOL1个在行误差值内的有效行坐标。S005，获取TOL2个在列误差值内的有效列坐标，根据TOL1个有效行坐标和TOL2个有效列坐标获取Sum2个有效文本。S006，根据用户指定的引脚网络名标签和引脚编号标签将Sum2个有效文本分为Sum21个引脚网络名文本和Sum22个引脚编号文本，且满足Sum2＝Sum21+Sum22。S007，获取Sum21个引脚网络名文本中与ping的中心点坐标距离最小的引脚网络名文本netg。S008，获取Sum22个引脚编号文本中与ping的中心点坐标距离最小的引脚编号文本Tagg，得到ping关联的引脚物理属性{netg,Tagg}。本发明与现有技术相比具有明显的有益效果，借由上述技术方案，本发明提供的一种基于gds文件的引脚物理属性的匹配方法及系统可达到相当的技术进步性及实用性，并具有产业上的广泛利用价值，其至少具有以下有益效果：本发明提供了一种基于gds文件的引脚物理属性的匹配方法及系统，其通过对gds文件进行解析得到文本数据，对文件数据建立具有嵌套关系的第一映射和第二映射；将待匹配的引脚的中心点行坐标插入第一映射中得到更新后的第一映射；在更新后的第一映射中移动中心点行坐标的游标的位置，得到TOL1个有效行坐标，同理得到TOL2个有效列坐标，根据有效行列坐标得到Sum2个有效文本；然后根据用户指定的引脚网络名标签和引脚编号类型将有效文本划分为引脚网络名文本和引脚编号文本，进而根据最小距离获取待匹配的引脚的物理属性：引脚网络名和引脚编号文本，通过该方法解决了现有技术中将gds文件导入目前已知的工具中，只有图形信息，没有元件引脚网络名信息和引脚编号导致无法完整的重现原有的设计的技术问题，实现了将引脚与相应的物理属性进行匹配的目的。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种提取gds文件中引脚的方法流程图；图2为本发明实施例提供的一种基于gds文件的引脚提取方法流程图；图3为本发明实施例提供的一种基于gds文件的引脚物理属性的匹配方法流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。针对背景技术中所指出的无法恢复gds文件中元件、引脚、焊盘的技术问题，本发明提出了实施例一。实施例一请参阅图1，其示出了一种提取gds文件中引脚的方法流程图，所述方法包括：S10，获取用户指定引脚的几何图形所在层的第一层标签及第一数据类型标签。需要说明的是，一个gds文件中可以包括多个不同的用于存储引脚的几何图形的层，每层均具有第一层标签，用于标识不同的层。可以是按照元件类型分层，也可以是根据用户设计按照其他规则进行分层。每个第一层标签还包括相应的数据类型标签，文本和几何图形的数据类型不同。当用户指定引脚所在层的第一层标签和第一数据类型标签之后，在文件解析的时候可以排除其他引脚的干扰。S20，对gds文件进行解析，得到gds文件中N个第一结构体ST1和M个第二结构体ST2。其中，gds文件为二进制文件，gds文件在生成时将用户设计的焊盘、元件、引脚、网络名和引脚编号等信息分别转换为二进制信息，当解析该gds文件时需要根据二进制信息解析相应的对象。其中，在一个设计中可以包括多种不同类型的焊盘，每种焊盘对应一个结构体，每个焊盘对应的第一结构体中有且仅有一组几何图形且每个几何图形在每层电路板中最多有一个几何图形。也即焊盘包括多层几何图形，每层几何图形对应相应层的电路板。每个元件也对应一个结构体，每个元件中包括多个引脚，每个引脚引用相应的焊盘名称。为了区分不同的结构体，将焊盘对应的结构体称为第一结构体，包括多个引脚的元件称为第二结构体，第一结构体与第二结构体不同。进一步，ST1＝{ST11,ST12,…,ST1i,…,ST1N}，ST1i为第i个第一结构体，i的取值范围为1到N，N≥1；ST1i包括在Q层电路板中具有相同中心点坐标的一组几何图形GOMi＝{GOMi,1,GOMi,2,…,GOMi,j,…,GOMi,M}，GOMi,j为GOMi中的第j个几何图形，GOMi,j的属性包括第二层标签和第二数据类型标签，j的取值范围为1到M，M的函数值为GOMi中几何图形的数量。需要说明的是，几何图形可以是圆形、方形、八边形等几何图形。可选的，GOMi,j和第e个几何图形GOMi,e相同或者不同，其中e的取值范围为1到M，e≠j。可选的，GOMi,j和GOMi,e不同是指GOMi,j和GOMi,e的几何图形的形状不同，或者形状相同但尺寸不同。具体的，获取GOMi,j和GOMi,e的顶点数量，当GOMi,j和GOMi,e的顶点数量不同，则判定GOMi,j和GOMi,e的形状不同；当GOMi,j和GOMi,e的顶点数量相同，且GOMi,j和GOMi,e的相对坐标不同，则判定GOMi,j和GOMi,e的形状或尺寸不同；当GOMi,j和GOMi,e的顶点数量相同，且GOMi,j的相对坐标和GOMi,e的相对坐标相同时，判定GOMi,j和GOMi,e的相同。可选的，所述相对坐标的获取步骤包括：获取GOMi,j中每个顶点的坐标和中心点坐标，将每个顶点的坐标分别减去中心点坐标得到每个顶点相对于中心点的相对坐标。可选的，电路板的层数Q与GOMi中几何图形的数量M相同或者不同，且满足M≤Q。当M＝Q时，说明每层电路板均对应一个几何图形，当M＜Q时，说明有些层中没有设计相应的几何图形。可选的，ST1i包括的一组几何图形GOMi与第f个第一结构体ST1f包括的一组几何图形GOMf不同。可选的，GOMi中几何图形的数量M与GOMf中几何图形的数量M不同。或者，GOMi和GOMf中包括至少一个同一层电路板对应的几何图形不同。进一步，ST2＝{ST21,ST22,…,ST2j,…,ST2M}，ST2j为第j个第二结构体，j的取值范围为1到M；ST2j包括R个参考对象REF2＝{REF21,REF22,…,REF2r,…,REF2R}，REF2r为ST2j中的第r个参考对象，REF2r的属性包括坐标和引用的焊盘名称，r的取值范围为1到R。需要说明的是，每个参考对象的属性中都包括一个引用的焊盘名称，其中引用的焊盘名称为焊盘对应的第一结构体的名称。REF2r的坐标为引脚的中心点坐标，REF2r的引脚与引用的焊盘在每层电路板的几何图形相同。S30，当GOMi,j满足第二层标签与第一层标签相同且第二类型标签与第一数据类型标签相同时，ST1i被判定为元件，GOMi,j被标记为子焊盘；遍历GOMi，当GOMi中的所有几何图形均被标记为子焊盘，且在每层电路板中的子焊盘数量小于等于1时，ST1i被标记为焊盘，达到快速准确的识别出gds文件中哪些结构体为焊盘的目的。S40，遍历REF2中的所有参考对象，当REF2r引用焊盘名称时，判定REF2r为引脚，ST2j为元件；根据REF2r的坐标和引用的焊盘生成引脚。需要说明的是，当一个参考对象引用相应的焊盘名称时，说明该参考对象为引脚。作为一个优选实施例，当REF2r和ST2j中的第t个参考对象REF2t均被判定为引脚时，REF2r和REF2t引用的焊盘名称相同或者不同，其中，t的取值范围为1到R，且t≠r。作为一个优选实施例，所述焊盘名称为被判定为元件的第二结构体的名称。综上所述，本发明实施例一提供了一种提取gds文件中引脚的方法，该方法通过用户指定引用所在层的第一层标签和第一数据类型标签，在对gds文件进行解析得到第一结构体和第二结构体，当第一结构体中包括的所有几何图形的层标签和数据类型标签均与用户指定的相同，且在每层电路板上最多只有一个几何图形时，将相应的结构体标记为焊盘；当第二结构体中包括的参考对象引用相应的焊盘名称时，判定该参考对象为引脚，根据参考对象的坐标和引用的焊盘名称生成引脚，达到恢复引脚信息和元件信息的目的，能够使用户重新修改、编辑或者校验相应的引脚，而且该方法通过解析gds文件中的焊盘，并巧妙的通过引用焊盘名称的属性特征来准确快速的识别并恢复相应的引脚。基于与实施例一所提供的方法实施例相同的发明构思，本发明实施例还提供了一种提取gds文件中引脚的系统，所述系统包括处理器和非瞬时性计算机可读存储介质，所述非瞬时性计算机可读存储介质中存储有至少一条指令或至少一段程序，所述至少一条指令或所述至少一段程序由处理器加载并执行以实现一种提取gds文件中引脚的方法，其中一种提取gds文件中引脚的方法在实施例一的方法实施例中已经详细说明，不再赘述。实施例一适用于在原设计中包括焊盘，引脚是通过引用焊盘名称生成的，因此在解析得到的gds文件中可以通过获取相应参考对象所引用的焊盘名称即可判断该参考对象为引脚。但实施例一不适用于在原设计中不包括焊盘，也即引脚为相应的几何图形，并不是通过引用焊盘名称的方式生成，此时则无法根据实施例一解析并恢复相应的引脚。为了解决该问题，本发明实施例进一步提出了实施例二。实施例二请参阅图2，其示出了一种基于gds文件的引脚提取方法流程图，所述方法包括以下步骤：S100，获取用户指定引脚的几何图形所在层的第一层标签及第一数据类型标签。需要说明的是，第一层标签和第一数据类型标签与实施例一中相同，不再赘述。S200，对gds文件进行解析，得到gds文件中D个结构体STR＝{STR1,STR2,…,STRd,…,STRD}，STRd为第d个结构体，d的取值范围为1到D；STRd包括L个几何图形组GGOMd＝{GGOMd,1,GGOMd,2,…,GGOMd,l,…,GGOMd,L}，GGOMl为第l个在Q层电路板中具有相同中心点坐标的几何图形组，GGOMd,l的属性包括第二层标签和第二数据类型标签，l的取值范围为1到L。需要说明的是，当用户设计中并未设计相应的焊盘时，生成的gds文件中也不存在相应的焊盘。用户设计的引脚矩阵中，可能包括多个元件，每个元件包括多个引脚，每个引脚在不同层电路板中最多包括一个几何图形，当生成gds文件时，会相应的将元件生成相应的结构体，将引脚生成每个结构体中对应的一组几何图形。其中，GGOMd,l和第y个几何图形组GGOMd,y相同或者不同，当GGOMd,l和GGOMd,y相同时，说明两者完全相同；当GGOMd,l和GGOMd,y不同时，可以是两者所包括的几何图形的数量不同，或者几何图形的数量相同，但几何图形位于不同层的电路板；或者几何图形的数量相同，但同一层电路板上的几何图形不同。作为一个优选实施例，GGOMd,l包括w个几何图形，其中w≤Q，当w＝Q时，说明每层电路板均对应一个几何图形，当w＜Q时，说明有些层中没有设计相应的几何图形。S300，当GGOMd,l中每个几何图形均满足第二层标签与第一层标签相同且第二类型标签与第一数据类型标签相同时，STRd被判定为元件，GGOMd,l被判定为引脚；判断GGOMd,l与重新生成的K个新建焊盘的几何图形组PAD＝{PADS1,PADS2,…,PADSk,…,PADSK}是否相同，当GGOMd,l与PAD中的所有几何图形组均不同时，则生成与GGOMd,l的几何图形组相同的第K+1个新建焊盘PADSK+1且引用PADSK+1生成GGOMd,l对应的引脚，其中PADSk为第k个新建焊盘，k的取值范围为1到K，K为大于等于0的整数；当GGOMd,l与PADSk的几何图形组相同时，则GGOMd,l直接引用PADSk生成GGOMd,l对应的引脚。需要说明的是，由于在gds文件中并没有相应的焊盘，因此在解析之后也没有相应焊盘的结构体，解析得到的结构体中包括图片且满足用户指定的结构体为相应的元件，在元件中的几何图形组为相应的引脚。在生成第一个引脚时，需要根据引脚对应的几何图形组生成对应的新建焊盘，并引用该新建焊盘生成对应的引脚。在生成其他引脚时，首先将相应的引脚与新建焊盘进行比对，当两者相同时，则引用该新建焊盘生成对应的引脚，这样能够节省大量的计算机资源，提高恢复速度。作为一个优选实施例，判断GGOMd,l与PADSk的几何图形组是否相同的判断步骤包括：S320，对gds文件解析得到的GGOMd,l的属性还包括GGOMd,l在Q层电路板的几何图形的坐标序列ATl＝{ATl,1,ATl,2,…,ATl,q,…,ATl,Q}，ATl,q为GOMj在第q层电路板的几何图形的坐标序列，q的取值范围为1到Q；ATl,q包括R个顶点坐标tq＝{tq,1,tq,2,…,tq,r,…,tq,R}和一个中心点坐标tq,0，其中，tq,r为GGOMd,l在第q层的第r个顶点坐标，r的取值范围为1到R；S340，获取GGOMd,l在Q层电路板的相对坐标序列ATl′＝{ATl,1′,ATl,2′,…,ATl,q′,…,ATl,Q′}，ATl,q′为ATl,q的相对坐标序列；ATl,q′包括R个相对顶点坐标tq′＝{tq,1′,tq,2′,…,tq,r′,…,tq,R′}，tq,r′为tq,r的相对顶点坐标，且满足tq,r′＝tq,r-tq,0；S360，获取PADSk在Q层电路板的几何图形的相对坐标序列PATk′＝{PATk,1′,PATk,2′,…,PATk,q′,…,PATk,Q′}，PATk,q为PADSk在第q层的相对坐标序列；PATk,q′包括U个顶点坐标ptq′＝{ptq,1′,ptq,2′,…,ptq,b′,…,ptq,u′}，ptq,b′为PATk,q′中第b个相对坐标，b的取值范围为1到U；S380，比较tq′与ptq′的相对坐标序列是否相同，当tq′与ptq′的相对坐标序列相同时，判定GGOMd,l与PADSk在第q层电路板的几何图形组相同；当Q层电路板的几何图形组均相同时，判定GGOMd,l与PADSk的几何图形组相同。通过判断图形的相对坐标是否相同，能够快速准确的判断出两个几何图形是否相同，相对于计算几何图形的各种属性特征值来进行比较来说，减少了计算量。作为一个优选实施例，所述320还包括：S322，获取tq中的最小列坐标Xmin、最大列坐标Xmax、最小行坐标Ymin、最大行坐标Ymax；S324，根据Xmin和Xmax得到tq,0的中心点列坐标Xq,0，Xq,0满足：Xq,0＝/2；S326，根据Ymin和Ymax得到tq,0的中心点行坐标Yq,0，Yq,0满足：Yq,0＝/2。通过S322-S326能够准确的得到几何图形的中心点坐标。作为一个优选实施例，所述340还包括：S341，获取坐标误差阈值Err；S342，当tq,r′与ptq,b′之间的差值ETq,r′＝∣tq,r′-ptq,b′∣小于等于Err时，判定tq,r′与ptq,b′相同。通过步骤S341-S342能够获取在误差范围内相同的几何图形，减少因为微小作图误差导致将原本应当相同的两个引脚判定为不同。作为一个优选实施例S360之后还包括：S370，比较R和U是否相等，若相等，则执行S380；若不相等，则判定GGOMd,l与PADSk的几何图形组不同。也即，在判断出顶点坐标的数量相等之后，再计算相应的坐标是否相等；若两者的顶点坐标的数量并不相等，则可以直接判定两者为不同的图形，减少计算量，提高提取引脚的速度。其中，不同元件中的引脚可以引用同一个新建焊盘。若所有元件中的引脚结构都相同，则所有引脚都引用同一个新建焊盘。作为一个优选实施例，PADSk与第v个新建焊盘PADSv不同。可选的，PADSk与第v个新建焊盘PADSv至少包括一层电路板中的几何图形不同。可选的，PADSk中包括的几何图形的数量与第v个新建焊盘PADSv中包括的几何图形的数量不同。综上所述，本发明实施例二提供了一种基于gds文件的引脚提取方法，该提取方法通过用户指定引脚所在层的第一层标签和第一数据类型标签，对gds文件进行解析得到D个结构体，每个结构体中包括多个几何图形组；当同一个几何图形组中的所有几何图形的第二层标签、第二类型标签分别与用户指定的第一层标签和第一类型标签相同时，判定相应的几何图形组为引脚，包括该几何图形组的结构体为元件，遍历所有几何图形组，判定相应的几何图形组是否为引脚。且重新生成引脚对应的新建焊盘，使几何图形相同的引脚引用相应的新建焊盘，以达到提取gds文件中不包括焊盘的引脚的目的，同时在生成引脚时引用新建焊盘能够节省计算资源，提高引脚提取的效率。基于与实施例二所提供的方法实施例相同的发明构思，本发明实施例二还提供了一种基于gds文件的引脚提取系统，所述系统包括处理器和非瞬时性计算机可读存储介质，所述非瞬时性计算机可读存储介质中存储有至少一条指令或至少一段程序，所述至少一条指令或所述至少一段程序由处理器加载并执行以实现一种基于gds文件的引脚提取方法，其中一种基于gds文件的引脚提取方法在实施例二的方法实施例中已经详细说明，不再赘述。实施例一和实施例二能够实现提取引脚的目的，但是无法解决恢复引脚物理属性中引脚网络名和引脚编号的问题，为了解决该问题，本发明实施例进一步提供了实施例三。实施例三请参阅图3，其示出了一种基于gds文件的引脚物理属性的匹配方法流程图，所述方法包括：S001，对gds文件进行解析，得到文本数据；根据文本数据的行坐标获取U个第一映射KV1＝{KV11,KV12,…,KV1u,…KV1U}，KV1u为第u个行坐标Xu对应的第一映射，u的取值范围为1到U；其中KV1u的键为Xu，KV1u的值为Xu中包括的W个列坐标对应的第二映射KV2＝{KV21,KV22,…,KV2w,…KV2W}，KV2w为Xu中第w个列坐标Yw对应的第二映射，w的取值范围为1到W；其中，KV2w的键为Yw、KV2w的值为Yw包括的Sum1个文本。其中，gds文件中每个引脚的物理属性都包括引脚网络名和引脚编号。因此解析gds文件之后得到的文本数据中包括引脚网络名文本和引脚编号文本。需要说明的是，映射是存储键和值之间关联的对象。第一映射和第二映射形成一种嵌套映射关系，具体的，第一映射的键为行坐标、值为第二映射，第二映射的键为行坐标中的列坐标、值为相应的文本。S002，获取第g个引脚ping的中心点坐标，其中Xg,0为ping的中心点列坐标，Yg,0为ping的中心点行坐标；将Yg,0插入KV1中，得到更新后的第一映射KV1′。需要说明的是，提取引脚ping的步骤采用实施例一中的步骤S10-S40即可完成对有焊盘的引脚的提取，或者采用实施例一中的其他优选实施例，不再赘述。针对没有焊盘的引脚提取可以采用实施例二所提供的步骤S100-S300进行提取，或者采用实施例二中的其他优选实施例，不再赘述。作为一个优选实施例，解析gds文件得到的每个引脚都具有相应的顶点坐标，所述ping的中心点坐标的获取步骤包括：S0021，根据ping中所有的R个顶点的坐标tg，获取tg中的最小列坐标Xmin、最大列坐标Xmax、最小行坐标Ymin、最大行坐标Ymax。S0022，根据Xmin和Xmax得到tg,0的中心点列坐标Xg,0，Xg,0满足：Xg,0＝/2。S0023，根据Ymin和Ymax得到tg,0的中心点行坐标Yg,0，Yg,0满足：Yg,0＝/2。需要说明的是，一般情况下，Yg,0与KV1中作为键的文本数据的行坐标不相等，如果不插入Yg,0，直接在KV1中查找Yg,0，其查找不到的概率很大，导致最终的结果不准确。为了准确的查找到在误差范围内的有效行坐标，因此将Yg,0插入KV1中，防止查找不到的情况出现。作为一个优选实施例，S002还包括：S0024，当KV1中的所有键与Yg,0都不相等时，将Yg,0插入KV1中之后，Yg,0的值为空。作为一个优选实施例，S002还包括：S0025，当KV1中存在与Yg,0相等的键时，不创建新的映射。需要说明的是，在将Yg,0插入第一映射KV1中时，能够自动按照行坐标的顺序插入。S003，在KV1′中查找Yg,0，得到Yg,0对应的游标Ykeyg。其中，Ykeyg为Yg,0在第一映射中的位置。S004，移动Ykeyg在KV1′中的位置，得到TOL1个在行误差值内的有效行坐标。相对于将每个引脚的行列坐标与所有文本坐标进行逐个比对的计算量来说，通过在映射中插入中心点行坐标，并移动其对应游标的位置获取有效行坐标的方式能够大幅度减少匹配的计算量。同时允许行误差值内的匹配，使其匹配的最终结果更加准确。作为一个优选实施例，所述S004还包括：S0041，根据行误差值Ec，计算Yg,0＝Yg,0-Ec，Yg,0＝Yg,0+Ec，得到行坐标范围；S042，将Ykeyg指向的位置分别沿着KV1′中行坐标增大的第一方向和行坐标减小的第二方向移动，将沿第一方向每次移动之后Ykeyg指向的第一新位置的键与Yg,0进行比较，获取YS1个小于等于Yg,0的有效行坐标；将沿第二方向每次移动之后Ykeyg指向的第二新位置的键与Yg,0进行比较，获取YS2个大于等于Yg,0的有效行坐标；且满足TOL1＝YS1+YS2。S005，获取TOL2个在列误差值内的有效列坐标，根据TOL1个有效行坐标和TOL2个有效列坐标获取Sum2个有效文本。需要说明的是，有效列坐标的获取步骤与有效行坐标的获取步骤相同。作为一个优选实施例，所述S005还包括：S0051，将Xg,0插入KV2中，得到更新后的第一映射KV2′；S0052，在KV2′中查找Xg,0，得到Xg,0对应的游标Xkeyg；S0053，根据列误差值Er，计算Xg,0＝Xg,0-Er，Xg,0＝Xg,0+Er，得到列坐标范围；S054，将Xkeyg指向的位置分别沿着KV2′中列坐标增大的第三方向和列坐标减小的第四方向移动，将沿第三方向每次移动之后Xkeyg指向的第三新位置的键与Xg,0进行比较，获取XS1个小于等于Xg,0的有效列坐标；将沿第二方向每次移动之后Xkeyg指向的第四新位置的键与Xg,0进行比较，获取XS2个大于等于Xg,0的有效列坐标；且满足TOL2＝XS1+XS2。通过在第一映射和第二映射中插入中心点坐标，并根据中心点坐标获取误差范围内的有效文本的方式，相对于现有技术中逐个文本进行比对的方式，能够大幅度减少查找有效文本的计算量，提高查找速度。S006，根据用户指定的引脚网络名标签和引脚编号标签将Sum2个有效文本分为Sum21个引脚网络名文本和Sum22个引脚编号文本，且满足Sum2＝Sum21+Sum22。其中，引脚网络名标签用于标识相应层中的对象为引脚网络名，引脚网络名为文本数据，不同于引脚的几何图形。同理，引脚编号标签用于标识相应层中的对象为引脚编号，引脚编号为文本数据。在gds文件中每个引脚网络名文本具有相应的引脚网络名标签，每个引脚编号文本也具有相应的引脚编号标签。因此，在解析得到的文件中可以通过文本的标签识别相应文本为引脚网络名文本或者引脚编号文本。S007，获取Sum21个引脚网络名文本中与ping的中心点坐标距离最小的引脚网络名文本netg。作为一个优选实施例，netg的获取步骤包括：S0071，分别计算Sum21个引脚网络名文本的坐标与ping的中心点坐标之间的距离得到Sum21个第一距离，Sum21个第一距离中的最小值对应的引脚网络名文本为netg。需要说明的是，在进行引脚设计时，每个引脚具有一个引脚网络名和一个引脚编号，引脚的几何图形上叠放相应的引脚网络名和引脚编号。因此，在解析时，距离引脚中心点的距离最近的文本为该引脚相应的文本。S008，获取Sum22个引脚编号文本中与ping的中心点坐标距离最小的引脚编号文本Tagg，得到ping关联的引脚物理属性{netg,Tagg}。作为一个优选实施例，Tagg的获取步骤包括：S0081，分别计算Sum22个引脚编号文本的坐标与ping的中心点坐标之间的距离得到Sum22个第二距离，Sum22个第二距离中的最小值对应的引脚编号文本为Tagg。通过上述基于gds文件的引脚物理属性的匹配方法能够得到所有引脚给关联的物理属性。综上所述，本发明实施例还提供了一种基于gds文件的引脚物理属性的匹配方法，其通过对gds文件进行解析得到文本数据，对文件数据建立具有嵌套关系的第一映射和第二映射；将待匹配的引脚的中心点行坐标插入第一映射中得到更新后的第一映射；在更新后的第一映射中移动中心点行坐标的游标的位置，得到TOL1个有效行坐标，同理得到TOL2个有效列坐标，根据有效行列坐标得到Sum2个有效文本；然后根据用户指定的引脚网络名标签和引脚编号类型将有效文本划分为引脚网络名文本和引脚编号文本，进而根据最小距离获取待匹配的引脚的物理属性：引脚网络名和引脚编号文本，通过该方法解决了现有技术中将gds文件导入目前已知的工具中，只有图形信息，没有元件引脚网络名信息和引脚编号导致无法完整的重现原有的设计的技术问题，实现了将引脚与相应的物理属性进行匹配的目的。基于与实施例三所提供的方法实施例相同的发明构思，本发明实施例三还提供了一种基于gds文件的引脚物理属性的匹配系统，所述系统包括处理器和非瞬时性计算机可读存储介质，所述非瞬时性计算机可读存储介质中存储有至少一条指令或至少一段程序，所述至少一条指令或所述至少一段程序由处理器加载并执行以实现一种基于gds文件的引脚物理属性的匹配，其中一种基于gds文件的引脚物理属性的匹配方法在上述实施例三的方法实施例中已经详细说明，不再赘述。虽然已经通过示例对本发明的一些特定实施例进行了详细说明，但是本领域的技术人员应该理解，以上示例仅是为了进行说明，而不是为了限制本发明的范围。本领域的技术人员还应理解，可以对实施例进行多种修改而不脱离本发明的范围和精神。本发明开的范围由所附权利要求来限定。
