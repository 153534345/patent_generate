标题title
基于势函数的动力定位船避碰容错控制方法
摘要abst
基于势函数的动力定位船避碰容错控制方法，涉及船舶控制技术领域。本发明是为了解决现有船舶避碰算法存在不能被控制器有效执行的风险，还存在推进器故障影响避碰控制的问题。本发明所述的基于势函数的动力定位船避碰容错控制方法，首先建立船舶的运动学模型和动力学模型；其次定义安全区域的约束条件，基于此约束条件构造避碰势函数，基于避碰势函数的梯度和船舶速度构造滑模变量，并依据李雅普诺夫函数和鲁棒自适应方法设计自适应律并构建时变增益，然后基于时变增益和滑模变量建立鲁棒自适应避碰容错控制器，最后将控制器的输出结果作为船舶推进器的命令输入向量实现船舶的避碰容错控制。
权利要求书clms
1.基于势函数的动力定位船避碰容错控制方法，其特征在于，具体为：步骤一：建立船舶的运动学模型和动力学模型；步骤二：定义安全区域的约束条件为：其中，表示船舶工作区域，/＞表示船舶所有禁止工作区域，/＞表示船舶轨迹，n为北向位置坐标，e为东向位置坐标，ψ为船舶艏向角，/＞表示矩阵的转置，Δi为船舶与第i个障碍物之间的最短距离，i＝1,2,...,N，N为障碍物总数，/＞为船舶位置；步骤三：基于所述安全区域的约束条件构造避碰势函数，所述避碰势函数表达式为：其中，VP为避碰势函数的输出，ξ11为吸引势位置系数、ξ12为吸引势艏向系数、ξ2为排斥势系数，pe为船舶实际位置与期望位置之间的误差，ψe为船舶实际艏向角与期望艏向角之间的误差，ci为指数排斥势调节系数；步骤四：基于所述避碰势函数的梯度和船舶速度构造滑模变量s：s＝υ+x，其中，υ为船舶速度，中间变量x＝γTanh，γ和β分别为用于调节Tanh函数的幅值和形状参数，中间变量R为北东坐标系和船体坐标系之间的转换矩阵，/＞为避碰势函数关于η的梯度向量，θ为函数tanh的变量；步骤五：依据李雅普诺夫函数和鲁棒自适应方法构建时变增益α：其中，中间变量ud＝ε+φs，φ为增益系数，和/＞分别为σ＝1/δ和/＞的估计值，δ为矩阵/＞的最小特征值，K为船舶推进器的有效性矩阵，T为推进器配置矩阵，/＞为用以估计船舶控制系统中全部不确定项的未知参数向量，Φ为已知的船舶控制系统状态回归向量；步骤六：基于时变增益α和滑模变量s建立自适应避碰容错控制器：其中，U为避碰容错控制器的输出，ζ为围绕s＝0的时变边界层，且有ζ的一阶导数为：ι为边界层衰减系数；步骤七：将自适应避碰容错控制器的输出结果U作为船舶推进器的命令输入向量实现船舶的避碰容错控制。2.根据权利要求1所述的基于势函数的动力定位船避碰容错控制方法，其特征在于，步骤一中，所述船舶的运动学模型表达式为：所述船舶的动力学模型表达式为：其中，为η的一阶导数，/＞u为船舶纵向速度，v为船舶横向速度，r为船舶绕ZB轴旋转的角速度，ZB轴为船体坐标系中垂直于船体平面的轴，/＞为υ的一阶导数，M为船舶控制系统的惯性矩阵，D为船舶控制系统的阻尼系数矩阵，ω为包含推进器偏差故障的全部干扰向量，τ为船舶控制输入量，且有：τ＝Tτc＝TKuc，τc为船舶推进器的实际输出向量，uc为船舶推进器的命令输入向量。3.根据权利要求2所述的基于势函数的动力定位船避碰容错控制方法，其特征在于，kj表示推进器的健康状态，且有0≤kj≤1，/＞r为船舶实际装配推进器的总数。4.根据权利要求1所述的基于势函数的动力定位船避碰容错控制方法，其特征在于，步骤二中，给定北东坐标系下第i个障碍物的位置则船舶与第i个障碍物之间的距离向量doi＝p-poi，根据doi定义船舶与第i个障碍物之间的最短距离Δi：Δi＝‖doi‖-roi-rs，其中，roi和rs分别为由第i个障碍物和船舶实际尺寸确定的最小外接圆的半径，noi和eoi分别为第i个障碍物的北向和东向位置坐标，基于船舶的实际作业范围，定义船舶工作区域其中，表示三维实数矩阵，nmax和nmin分别为n的上下界，emax和emin分别为e的上下界；基于Δi和定义船舶在第i个障碍物周边的禁止工作区域/＞5.根据权利要求1所述的基于势函数的动力定位船避碰容错控制方法，其特征在于，步骤三中，吸引势位置系数ξ11＝0.001，吸引势艏向系数ξ12＝1，排斥势系数ξ2＝0.001。6.根据权利要求1所述的基于势函数的动力定位船避碰容错控制方法，其特征在于，步骤五中，基于滑模变量s选取李雅普诺夫函数Vs，并求解李雅普诺夫函数Vs的一阶导数其中，M为船舶控制系统的惯性矩阵，φ为增益系数，uc为船舶推进器的命令输入向量，中间变量ud＝ε+φs，Ld为船舶控制系统的所有不确定项且D为船舶控制系统的阻尼系数矩阵，ω为包含推进器偏差故障的全部干扰向量；根据ud和分别设计如下自适应律：其中，和/＞分别为/＞和/＞的一阶导数，/＞和/＞分别为σ0和b0的一阶导数，χ1和μ1分别为决定/＞收敛速度和终值的增益系数，χ2和μ2分别为决定/＞收敛速度和终值的增益系数，ρ1和ρ2分别为决定σ0和b0收敛速度的增益系数，σ0和b0分别为用于更新/＞和/＞的辅助变量，根据以上自适应律分别对σ和b进行估计，进而构建时变增益α。
说明书desc
技术领域本发明属于船舶控制技术领域，尤其涉及考虑了推进器故障的控制。背景技术随着现有技术不断向海洋的拓展和延伸，各海洋工程装备得到飞速发展。其中，动力定位船因具有定位精度高、适应范围广和定位不受海洋深度限制等优点，已经被广泛的应用于完成各类海洋工程作业。动力定位船在实际应用中，通常需要近距离围绕平台作业或与其它作业船舶协同作业。在其作业过程中，一旦发生碰撞不仅会造成船舶和设备损坏，甚至还会危及到在船人员的安全。为确保船舶作业的安全性，通常将平台和其余作业船舶等视为障碍物，利用避碰方式去避免船舶与其发生碰撞。现有的大多水面船避碰方法侧重于避碰算法的设计而简化了对象的动态，独立于船舶非线性动态设计的避碰算法在应用中存在不能被控制器有效执行的风险，影响了船舶运动的安全性。同时，动力定位船长期工作于环境恶劣的深海，不可避免的会出现推进器故障，而推进器状态影响着动力定位系统的控制性能和稳定性，可能导致避碰控制不能被实现。发明内容本发明是为了解决现有船舶避碰算法存在不能被控制器有效执行的风险，还存在推进器故障影响避碰控制的问题，现提供基于势函数的动力定位船避碰容错控制方法。基于势函数的动力定位船避碰容错控制方法，具体为：步骤一：建立船舶的运动学模型和动力学模型；步骤二：定义安全区域的约束条件为：其中，表示船舶工作区域，/＞表示船舶所有禁止工作区域，/＞表示船舶轨迹，n为北向位置坐标，e为东向位置坐标，ψ为船舶艏向角，/＞表示矩阵的转置，Δi为船舶与第i个障碍物之间的最短距离，i＝1,2,...,N，N为障碍物总数，/＞为船舶位置；步骤三：基于所述安全区域的约束条件构造避碰势函数，所述避碰势函数表达式为：其中，VP为避碰势函数的输出，ξ11为吸引势位置系数、ξ12为吸引势艏向系数、ξ2为排斥势系数，pe为船舶实际位置与期望位置之间的误差，ψe为船舶实际艏向角与期望艏向角之间的误差，ci为指数排斥势调节系数；步骤四：基于所述避碰势函数的梯度和船舶速度构造滑模变量s：s＝υ+x，其中，υ为船舶速度，中间变量x＝γTanh，γ和β分别为用于调节Tanh函数的幅值和形状参数，中间变量R为北东坐标系和船体坐标系之间的转换矩阵，/＞为避碰势函数关于η的梯度向量，θ为函数tanh的变量；步骤五：依据李雅普诺夫函数和鲁棒自适应方法构建时变增益α：其中，中间变量ud＝ε+φs，φ为增益系数，和/＞分别为σ＝1/δ和/＞的估计值，δ为矩阵/＞的最小特征值，K为船舶推进器的有效性矩阵，T为推进器配置矩阵，/＞为用以估计船舶控制系统中全部不确定项的未知参数向量，Φ为已知的船舶控制系统状态回归向量；步骤六：基于时变增益α和滑模变量s建立自适应避碰容错控制器：其中，U为避碰容错控制器的输出，ζ为围绕s＝0的时变边界层，且有ζ的一阶导数为：ι为边界层衰减系数；步骤七：将自适应避碰容错控制器的输出结果U作为船舶推进器的命令输入向量实现船舶的避碰容错控制。进一步的，上述步骤一中所述船舶的运动学模型表达式为：所述船舶的动力学模型表达式为：其中，为η的一阶导数，/＞u为船舶纵向速度，v为船舶横向速度，r为船舶绕ZB轴旋转的角速度，ZB轴为船体坐标系中垂直于船体平面的轴，/＞为υ的一阶导数，M为船舶控制系统的惯性矩阵，D为船舶控制系统的阻尼系数矩阵，ω为包含推进器偏差故障的全部干扰向量，τ为船舶控制输入量，且有：τ＝Tτc＝TKuc，τc为船舶推进器的实际输出向量，uc为船舶推进器的命令输入向量。进一步的，上述kj表示推进器的健康状态，且有0≤kj≤1，/＞r为船舶实际装配推进器的总数。进一步的，上述步骤二中，给定北东坐标系下第i个障碍物的位置则船舶与第i个障碍物之间的距离向量doi＝p-poi，根据doi定义船舶与第i个障碍物之间的最短距离Δi：Δi＝‖doi‖-roi-rs，其中，roi和rs分别为由第i个障碍物和船舶实际尺寸确定的最小外接圆的半径，noi和eoi分别为第i个障碍物的北向和东向位置坐标，基于船舶的实际作业范围，定义船舶工作区域其中，表示三维实数矩阵，nmax和nmin分别为n的上下界，emax和emin分别为e的上下界；基于Δi和定义船舶在第i个障碍物周边的禁止工作区域/＞进一步的，上述步骤三中，吸引势位置系数ξ11＝0.001，吸引势艏向系数ξ12＝1，排斥势系数ξ2＝0.001。进一步的，上述步骤五中，基于滑模变量s选取李雅普诺夫函数Vs，并求解李雅普诺夫函数Vs的一阶导数其中，M为船舶控制系统的惯性矩阵，φ为增益系数，uc为船舶推进器的命令输入向量，中间变量ud＝ε+φs，Ld为船舶控制系统的所有不确定项且D为船舶控制系统的阻尼系数矩阵，ω为包含推进器偏差故障的全部干扰向量；根据ud和分别设计如下自适应律：其中，和/＞分别为/＞和/＞的一阶导数，/＞和/＞分别为σ0和b0的一阶导数，χ1和μ1分别为决定/＞收敛速度和终值的增益系数，χ2和μ2分别为决定/＞收敛速度和终值的增益系数，ρ1和ρ2分别为决定σ0和b0收敛速度的增益系数，σ0和b0分别为用于更新/＞和/＞的辅助变量，根据以上自适应律分别对σ和b进行估计，进而构建时变增益α。本发明所述的考虑推进器故障的基于势函数的动力定位船避碰容错控制方法，相对于现有技术有如下优点：本发明基于人工势函数方法，将避碰势函数梯度与系统状态变量结合构造滑模变量，进而将对障碍物的避碰引入到控制系统的设计中，避免了现有的基于路径规划方法实现水面船对障碍物避碰控制存在不能控制器有效执行所导致可能发生的碰撞事故，提高船舶作业的安全性。本发明采用鲁棒自适应技术设计鲁棒自适应容错控制器，保证推进器发生故障的条件下动力定位船依然能实现避碰，提高了船舶避碰的可靠性。同时该控制器不依赖于系统模型参数和外界环境干扰的先验信息，具有适用范围广、更贴合实际环境的特点。附图说明图1为本发明一种推进器故障的动力定位船避碰容错控制方法的流程框图；图2为北东坐标系和船体坐标系示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动的前提下所获得的所有其它实施例，都属于本发明保护的范围。需要说明的是，在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。参照图1和图2具体说明本实施方式，本实施方式所述的基于势函数的动力定位船避碰容错控制方法，具体为：步骤一：建立船舶的运动学模型和动力学模型。如图2所示，以水面任意一点OE作为原点定义船舶运动的北东坐标系XEYEZE，以船体中心为原点OB定义船体坐标系XBYBZB。基于以上坐标系建立船舶的运动学模型和动力学模型：其中，为η的一阶导数，/＞表示船舶轨迹，n为北向位置坐标，e为东向位置坐标，ψ为船舶艏向角，/＞表示矩阵的转置，/＞表示三维实数矩阵。为υ的一阶导数，/＞表示船舶速度，u为船舶纵向速度，v为船舶横向速度，r为船舶绕ZB轴旋转的角速度，ZB轴为船体坐标系中垂直于船体平面的轴。为北东坐标系XEYEZE和船体坐标系XBYBZB之间的转换矩阵，且满足表示3×3的矩阵。为船舶控制系统的惯性矩阵，且有：为船舶控制系统的阻尼系数矩阵，且有：为包含推进器偏差故障的全部干扰向量，且有：t为实际时间。为船舶控制输入量，用于建模推力分配和推进器故障，且有：τ＝Tτc＝TKuc，其中，为船舶推进器的实际输出向量，r为船舶实际装配推进器的总数，为船舶推进器的命令输入向量，为船舶推进器的有效性矩阵，kj表示推进器的健康状态，且有0≤kj≤1，/＞具体的K＝diag，为推进器配置矩阵，具体的：步骤二：给定北东坐标系下第i个障碍物的位置i＝1,2,...,N，N为障碍物总数，北东坐标系下船舶的位置为/＞本实施方式中，北东坐标系下有3个障碍物，位置分别记为：po1＝，po2＝，po3＝。则船舶与第i个障碍物之间的距离向量为：doi＝p-poi。为避免船舶和障碍物发生碰撞，需要考虑船舶和障碍物之间的实际距离，则根据doi定义船舶与第i个障碍物之间的最短距离Δi：Δi＝‖doi‖-roi-rs，其中，和/＞分别为由第i个障碍物和船舶实际尺寸确定的最小外接圆的半径，本实施方式中roi＝100，rs＝105。noi和eoi分别为第i个障碍物的北向和东向位置坐标。基于船舶的实际作业范围，定义船舶工作区域其中，nmax和nmin分别为n的上下界，emax和emin分别为e的上下界，具体的取值为：nmax＝2000，nmin＝-500，emax＝2000，emin＝-500。为了确保作业过程中船始终避开障碍物，基于Δi和定义船舶在第i个障碍物周边的禁止工作区域/＞定义安全区域的约束条件为：其中，表示船舶工作区域，/＞表示船舶所有禁止工作区域，Δi为船舶与第i个障碍物之间的最短距离。步骤三：基于所述安全区域的约束条件构造避碰势函数，所述避碰势函数表达式为：其中，VP为避碰势函数的输出；ξ11＝0.001为吸引势位置系数、ξ12＝1为吸引势艏向系数、ξ2＝0.001为排斥势系数；pe为船舶实际位置与期望位置之间的误差，且有pe＝p-pd；ψe为船舶实际艏向角与期望艏向角之间的误差，且有ψe＝ψ-ψd；ci为指数排斥势调节系数。步骤四：基于所述避碰势函数的梯度和船舶速度构造滑模变量s：s＝υ+x，其中，中间变量x＝γTanh，γ＝2和β＝1分别为用于调节Tanh函数的幅值和形状参数；中间变量为避碰势函数关于η的梯度向量；θ为函数tanh的变量。步骤五：依据李雅普诺夫函数和鲁棒自适应方法构建时变增益α。为实现将对障碍物的避碰整合到控制系统的设计中，基于滑模变量s选取李雅普诺夫函数Vs，并求解李雅普诺夫函数Vs的一阶导数其中，增益系数φ＝0.1，uc为船舶推进器的命令输入向量，中间变量ud＝ε+φs，Ld为船舶控制系统的所有不确定项且根据ud和分别设计如下自适应律：其中，和/＞分别为/＞和/＞的一阶导数，/＞和/＞分别为σ0和b0的一阶导数，χ1＝1、χ2＝1×107、μ1＝0.01、μ2＝1×10-9、ρ1＝1、ρ2＝1×107、σ0和b0分别为用于更新和/＞的辅助变量，根据以上自适应律分别对σ和b进行估计，进而构建时变增益α。其中，和/＞分别为σ＝1/δ和/＞的估计值；矩阵/＞的最小特征值表示为为用以估计船舶控制系统中全部不确定项的未知参数向量，且有Φ为已知的船舶控制系统状态回归向量，且有/＞步骤六：为确保在作业与多静态障碍物和发生推进故障的情况下，系统输出能快速准确的跟踪期望的位置和艏向，进一步提高动力定位船作业的可靠性和有效性。基于时变增益α和滑模变量s建立自适应避碰容错控制器：其中，U为避碰容错控制器的输出，ζ为围绕s＝0的时变边界层，且有ζ的一阶导数为：ι为边界层衰减系数，为保证边界不会衰减到零，该系数不宜过大，因此本实施方式取值ι＝1×10-7。步骤七：将自适应避碰容错控制器的输出结果U作为船舶推进器的命令输入向量实现船舶的避碰容错控制。通过Matlab仿真，可以得到基于势函数的推进器故障动力定位船避碰容错控制方法，可实现在存在参数不确定的情况下实现对系统输出的安全约束确保船舶不与障碍物发生碰撞，并保证参数估计误差和系统跟踪误差收敛到零。本实施方式通过简单调节参数可适用于不同作业环境下不同类型的动力定位船绕平台作业和协同作业，具有更好的鲁棒性和更大的适用范围且能够有效提高动力定位船作业的安全性和可靠性。综上所述，本发明针对动力定位船在完成近距离绕平台作业或与其它船舶协同作业时需要考虑的避碰问题，以及随时可能发生的推进器故障问题，提出一种基于势函数的避碰容错控制方法，该方法将避碰问题转化为针对系统输出的安全约束问题，并通过设计避碰势函数确保系统输出始终不跨越安全约束边界。此方法，将避碰问题整合到控制器的设计中，可确保船舶的输出轨迹始终避开障碍物区域，并在推进器发生故障时依然保证作业任务的顺利完成，提高动力定位船作业的安全性和可靠性。虽然在本文中参照了特定的实施方式来描述本发明，但是应该理解的是，这些实施例仅仅是本发明的原理和应用的示例。因此应该理解的是，可以对示例性的实施例进行许多修改，并且可以设计出其他的布置，只要不偏离所附权利要求所限定的本发明的精神和范围。应该理解的是，可以通过不同于原始权利要求所描述的方式来结合不同的从属权利要求和本文中所述的特征。还可以理解的是，结合单独实施例所描述的特征可以使用在其它所述实施例中。
