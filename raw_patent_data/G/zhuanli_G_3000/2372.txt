标题title
一种共享单车接驳轨道交通工具的识别方法和相关装置
摘要abst
本发明涉及公共交通技术领域，具体是涉及一种共享单车接驳轨道交通工具的识别方法和相关装置。本发明根据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，确定出可能是共享单车接驳的站点。然后将潜在接驳站点的各个站口与接驳车点之间的接驳距离进行比较，从各个站口中筛选出潜在站口。最后根据潜在站口的位置、非接驳车点的位置，识别共享单车产生的骑行轨迹是否用于接驳公共交通。综上所述，本发明综合考虑了站点的辐射吸引范围和各个站口的位置，能够排除站点周围区域所需的共享单车对接驳轨道交通工具所需共享单车的影响，从而提高了本发明接驳轨道交通工具而产生的骑行数据识别的准确性。
权利要求书clms
1.一种共享单车接驳轨道交通工具的识别方法，其特征在于，包括：依据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，从各个所述站点中筛选出所述共享单车所对应的潜在接驳站点，所述站点为轨道交通工具的站点，所述辐射吸引范围与以所述站点为中心的共享单车最大骑行距离相对应；依据所述潜在接驳站点的各个站口和所述共享单车的接驳车点之间的各个接驳距离，从各个所述站口中筛选出潜在站口，所述接驳车点为通过比较所述共享单车的起点位置与所述站口之间的距离、所述共享单车的终点位置与所述站口之间的距离而从所述起点位置和所述终点位置两个位置中筛选出的位置点；依据所述潜在站口的位置、非接驳车点的位置，得到针对共享单车的骑行轨迹的识别结果，所述骑行轨迹为所述共享单车的起点位置和所述共享单车的终点位置所在的轨迹，所述非接驳车点与所述接驳车点相对应，所述识别结果用于表征所述骑行轨迹是否为所述共享单车接驳所述轨道交通工具而产生的骑行数据。2.如权利要求1所述的共享单车接驳轨道交通工具的识别方法，其特征在于，所述站点的所述辐射吸引范围的设定方式，包括：以所述站点为圆心，以设定长度为半径画圆，得到圆形的辐射缓冲区范围；统计所述辐射缓冲区内所述共享单车的各个历史骑行起点位置；确定各个所述历史骑行起点位置与所述站点之间的各个距离；依据各个所述距离，得到辐射吸引范围，所述辐射吸引范围位于所述辐射缓冲区范围的内部。3.如权利要求1所述的共享单车接驳轨道交通工具的识别方法，其特征在于，所述依据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，从各个所述站点中筛选出所述共享单车所对应的潜在接驳站点，所述站点为轨道交通工具的站点，所述辐射吸引范围与以所述站点为中心的共享单车最大骑行距离相对应，包括：依据所述共享单车的起点位置和终点位置以及各个所述站点的辐射吸引范围，从各个所述站点中筛选出若干个匹配站点；依据所述起点位置与若干个所述匹配站点之间的距离、所述终点位置与若干个所述匹配站点之间的距离，确定所述共享单车的骑行方向，所述骑行方向为相对所述匹配站点的方向；当所述骑行方向为朝向所述匹配站点时，依据所述共享单车的终点位置与若干个所述匹配站点之间的距离，从若干个所述匹配站点中筛选出所述共享单车所对应的潜在接驳站点；或者，当所述骑行方向为背离所述匹配站点时，依据所述共享单车的起点位置与若干个所述匹配站点之间的距离，从若干个所述匹配站点中筛选出所述共享单车所对应的潜在接驳站点。4.如权利要求1所述的共享单车接驳轨道交通工具的识别方法，其特征在于，所述依据所述潜在接驳站点的各个站口和所述共享单车的接驳车点之间的各个接驳距离，从各个所述站口中筛选出潜在站口，所述接驳车点为通过比较所述共享单车的起点位置与所述站口之间的距离、所述共享单车的终点位置与所述站口之间的距离而从所述起点位置和所述终点位置两个位置中筛选出的位置点，包括：确定各个所述接驳距离中的最小的所述接驳距离；将最小的所述接驳距离所对应的所述站口作为潜在站口。5.如权利要求1-4任一项所述的共享单车接驳轨道交通工具的识别方法，其特征在于，所述依据所述潜在站口的位置、非接驳车点的位置，得到针对共享单车的骑行轨迹的识别结果，所述骑行轨迹为所述共享单车的起点位置和所述共享单车的终点位置所在的轨迹，所述非接驳车点与所述接驳车点相对应，所述识别结果用于表征所述骑行轨迹是否为所述共享单车接驳所述轨道交通工具而产生的骑行数据，包括：依据所述非接驳车点的位置与所述潜在站口的位置，确定所述非接驳车点与所述潜在站口之间的距离，记为第一距离；依据所述非接驳车点的位置与各个非潜在站口的位置，确定所述非接驳车点与各个非潜在站口之间的距离，记为各个第二距离，所述非潜在站口为所述潜在接驳站点的各个站口中除所述潜在站口之外的站口；确定各个所述第二距离中的最小的所述第二距离；依据最小的所述第二距离和所述第一距离，得到针对共享单车的骑行轨迹的识别结果。6.如权利要求5所述的共享单车接驳轨道交通工具的识别方法，其特征在于，当所述接驳车点或所述非接驳车点位于站口停放范围内，则将所述接驳车点或所述非接驳车点的状态参数标记为1，所述站口停放范围为以站口为圆心而构建的范围；当所述接驳车点或所述非接驳车点未在站口停放范围内，而在接驳服务范围内，则将所述接驳车点或所述非接驳车点的状态参数标记为2，所述接驳服务范围为以站点圆心而构建的范围，所述接驳服务范围小于所述辐射吸引范围而大于所述站口停放范围；当所述接驳车点或所述非接驳车点未在接驳服务范围内，而在辐射吸引范围内，则将所述接驳车点或所述非接驳车点的状态参数标记为3；所述依据最小的所述第二距离和所述第一距离，得到针对共享单车的骑行轨迹的识别结果，包括：若所述接驳车点状态为1且所述非接驳车点状态为3，或，所述接驳车点状态为1、所述非接驳车点状态为2；当最小的所述第二距离大于等于第一距离，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹为所述共享单车接驳所述轨道交通工具而产生的骑行数据；或者，当最小的所述第二距离小于所述第一距离，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹非为所述共享单车接驳所述轨道交通工具而产生的骑行数据；若所述接驳车点状态为2且所述非接驳车点状态为3；当最小的所述第二距离大于等于第一距离，得到针对共享单车的骑行轨迹的识别结果中的概率p，所述概率p用于表征所述骑行轨迹为用于接驳轨道交通工具而产生的骑行数据概率；其中，di为接驳车点和潜在接驳站口之间的距离，Rs为接驳服务范围的半径；或者，当最小的所述第二距离小于所述第一距离，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹非为所述共享单车接驳所述轨道交通工具而产生的骑行数据。7.如权利要求6所述的共享单车接驳轨道交通工具的识别方法，其特征在于，还包括：若所述接驳车点的状态参数和所述非接驳车点的状态参数相同，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹非为所述共享单车接驳所述轨道交通工具而产生的骑行数据。8.如权利要求1所述的共享单车接驳轨道交通工具的识别方法，其特征在于，所述共享单车的起点位置和终点位置为经过预处理之后的起点位置和终点位置，所述预处理包括：确定各个所述起点位置所对应的起点时间和各个所述终点位置所对应的终点时间；依据所述起点时间和所述终点时间以及所述轨道交通工具的服务时间，筛选各个所述起点位置和各个所述终点位置。9.一种终端设备，其特征在于，所述终端设备包括存储器、处理器及存储在所述存储器中并可在所述处理器上运行的共享单车接驳轨道交通工具的识别程序，所述处理器执行所述共享单车接驳轨道交通工具的识别程序时，实现如权利要求1-8任一项所述的共享单车接驳轨道交通工具的识别方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有共享单车接驳轨道交通工具的识别程序，所述共享单车接驳轨道交通工具的识别程序被处理器执行时，实现如权利要求1-8任一项所述的共享单车接驳轨道交通工具的识别方法的步骤。
说明书desc
技术领域本发明涉及公共交通技术领域，具体是涉及一种共享单车接驳轨道交通工具的识别方法和相关装置。背景技术轨道交通工具存在“最后一公里”这个问题，因此需要共享单车接驳轨道交通工具以解决“最后一公里”这个问题。通过共享单车的骑行范围识别共享单车是否用于接驳轨道交通工具，以便于根据接驳数量给轨道交通工具调度合适的共享单车数量。现有技术采用如下技术识别共享单车是否用于接驳轨道交通工具：在轨道交通工具的站口建立一定半径的圆形缓冲区，基于的订单数据，把在缓冲区范围内停车或出发的行程判断为是交通接驳出行。由于轨道交通工具的站口周边往往进行集约的土地利用开发，存在大量吸引人流的建筑，骑行起点和终点落在站点附近的共享自行车行程可能不是以接驳为目的，而是以轨道站周边的建筑为目的地。该方法将轨道站或轨道站口周边缓冲区内的出行都判断为接驳，存在过高估计接驳出行数量或比例的问题。综上所述，现有技术识别共享单车是否用于接驳轨道交通工具的准确性较低。因此，现有技术还有待改进和提高。发明内容为解决上述技术问题，本发明提供了一种共享单车接驳轨道交通工具的识别方法和相关装置，解决了现有技术识别共享单车是否用于接驳轨道交通工具准确性较低的问题。为实现上述目的，本发明采用了以下技术方案：第一方面，本发明提供一种共享单车接驳轨道交通工具的识别方法，其中，包括：依据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，从各个所述站点中筛选出所述共享单车所对应的潜在接驳站点，所述站点为轨道交通工具的站点，所述辐射吸引范围与以所述站点为中心的共享单车最大骑行距离相对应；依据所述潜在接驳站点的各个站口和所述共享单车的接驳车点之间的各个接驳距离，从各个所述站口中筛选出潜在站口，所述接驳车点为通过比较所述共享单车的起点位置与所述站口之间的距离、所述共享单车的终点位置与所述站口之间的距离而从所述起点位置和所述终点位置两个位置中筛选出的位置点；依据所述潜在站口的位置、非接驳车点的位置，得到针对共享单车的骑行轨迹的识别结果，所述骑行轨迹为所述共享单车的起点位置和所述共享单车的终点位置所在的轨迹，所述非接驳车点与所述接驳车点相对应，所述识别结果用于表征所述骑行轨迹是否为所述共享单车接驳所述轨道交通工具而产生的骑行数据。在一种实现方式中，所述站点的所述辐射吸引范围的设定方式，包括：以所述站点为圆心，以设定长度为半径画圆，得到圆形的辐射缓冲区范围；统计所述辐射缓冲区内所述共享单车的各个历史骑行起点位置；确定各个所述历史骑行起点位置与所述站点之间的各个距离；依据各个所述距离，得到辐射吸引范围，所述辐射吸引范围位于所述辐射缓冲区范围的内部。在一种实现方式中，所述依据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，从各个所述站点中筛选出所述共享单车所对应的潜在接驳站点，所述站点为轨道交通工具的站点，所述辐射吸引范围与以所述站点为中心的共享单车最大骑行距离相对应，包括：依据所述共享单车的起点位置和终点位置以及各个所述站点的辐射吸引范围，从各个所述站点中筛选出若干个匹配站点；依据所述起点位置与若干个所述匹配站点之间的距离、所述终点位置与若干个所述匹配站点之间的距离，确定所述共享单车的骑行方向，所述骑行方向为相对所述匹配站点的方向；当所述骑行方向为朝向所述匹配站点时，依据所述共享单车的终点位置与若干个所述匹配站点之间的距离，从若干个所述匹配站点中筛选出所述共享单车所对应的潜在接驳站点；或者，当所述骑行方向为背离所述匹配站点时，依据所述共享单车的起点位置与若干个所述匹配站点之间的距离，从若干个所述匹配站点中筛选出所述共享单车所对应的潜在接驳站点。在一种实现方式中，所述依据所述潜在接驳站点的各个站口和所述共享单车的接驳车点之间的各个接驳距离，从各个所述站口中筛选出潜在站口，所述接驳车点为通过比较所述共享单车的起点位置与所述站口之间的距离、所述共享单车的终点位置与所述站口之间的距离而从所述起点位置和所述终点位置两个位置中筛选出的位置点，包括：确定各个所述接驳距离中的最小的所述接驳距离；将最小的所述接驳距离所对应的所述站口作为潜在站口。在一种实现方式中，所述依据所述潜在站口的位置、非接驳车点的位置，得到针对共享单车的骑行轨迹的识别结果，所述骑行轨迹为所述共享单车的起点位置和所述共享单车的终点位置所在的轨迹，所述非接驳车点与所述接驳车点相对应，所述识别结果用于表征所述骑行轨迹是否为所述共享单车接驳所述轨道交通工具而产生的骑行数据，包括：依据所述非接驳车点的位置与所述潜在站口的位置，确定所述非接驳车点与所述潜在站口之间的距离，记为第一距离；依据所述非接驳车点的位置与各个非潜在站口的位置，确定所述非接驳车点与各个非潜在站口之间的距离，记为各个第二距离，所述非潜在站口为所述潜在接驳站点的各个站口中除所述潜在站口之外的站口；确定各个所述第二距离中的最小的所述第二距离；依据最小的所述第二距离和所述第一距离，得到针对共享单车的骑行轨迹的识别结果。在一种实现方式中，当所述接驳车点或所述非接驳车点位于站口停放范围内，则将所述接驳车点或所述非接驳车点的状态参数标记为1，所述站口停放范围为以站口为圆心而构建的范围；当所述接驳车点或所述非接驳车点未在站口停放范围内，而在接驳服务范围内，则将所述接驳车点或所述非接驳车点的状态参数标记为2，所述接驳服务范围为以站点圆心而构建的范围，所述接驳服务范围小于所述辐射吸引范围而大于所述站口停放范围；当所述接驳车点或所述非接驳车点未在接驳服务范围内，而在辐射吸引范围内，则将所述接驳车点或所述非接驳车点的状态参数标记为3；所述依据最小的所述第二距离和所述第一距离，得到针对共享单车的骑行轨迹的识别结果，包括：若最小的所述接驳车点状态为1且所述非接驳车点状态为3，或，所述接驳车点状态为1、所述非接驳车点状态为2；当所述第二距离大于等于第一距离，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹为所述共享单车接驳所述轨道交通工具而产生的骑行数据；或者，当最小的所述第二距离小于所述第一距离，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹非为所述共享单车接驳所述轨道交通工具而产生的骑行数据；若所述接驳车点状态为2且所述非接驳车点状态为3；当最小的所述第二距离大于等于第一距离，得到针对共享单车的骑行轨迹的识别结果中的概率p，所述概率p用于表征所述骑行轨迹为用于接驳轨道交通工具而产生的骑行数据概率；其中，di为接驳车点和潜在接驳站口之间的距离，Rs为接驳服务范围的半径；或者，当最小的所述第二距离小于所述第一距离，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹非为所述共享单车接驳所述轨道交通工具而产生的骑行数据。在一种实现方式中，还包括：若所述接驳车点的状态参数和所述非接驳车点的状态参数相同，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹非为所述共享单车接驳所述轨道交通工具而产生的骑行数据。在一种实现方式中，所述共享单车的起点位置和终点位置为经过预处理之后的起点位置和终点位置，所述预处理包括：确定各个所述起点位置所对应的起点时间和各个所述终点位置所对应的终点时间；依据所述起点时间和所述终点时间以及所述轨道交通工具的服务时间，筛选各个所述起点位置和各个所述终点位置。第二方面，本发明实施例还提供一种共享单车接驳轨道交通工具的识别装置，其中，所述装置包括如下组成部分：潜在接驳站点筛选模块，用于依据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，从各个所述站点中筛选出所述共享单车所对应的潜在接驳站点，所述站点为轨道交通工具的站点，所述辐射吸引范围与以所述站点为中心的共享单车最大骑行距离相对应；潜在站口筛选模块，用于依据所述潜在接驳站点的各个站口和所述共享单车的接驳车点之间的各个接驳距离，从各个所述站口中筛选出潜在站口，所述接驳车点为通过比较所述共享单车的起点位置与所述站口之间的距离、所述共享单车的终点位置与所述站口之间的距离而从所述起点位置和所述终点位置两个位置中筛选出的位置点；识别模块，用于依据所述潜在站口的位置、非接驳车点的位置，得到针对共享单车的骑行轨迹的识别结果，所述骑行轨迹为所述共享单车的起点位置和所述共享单车的终点位置所在的轨迹，所述非接驳车点与所述接驳车点相对应，所述识别结果用于表征所述骑行轨迹是否为所述共享单车接驳所述轨道交通工具而产生的骑行数据。第三方面，本发明实施例还提供一种终端设备，其中，所述终端设备包括存储器、处理器及存储在所述存储器中并可在所述处理器上运行的共享单车接驳轨道交通工具的识别程序，所述处理器执行所述共享单车接驳轨道交通工具的识别程序时，实现上述所述的共享单车接驳轨道交通工具的识别方法的步骤。第四方面，本发明实施例还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有共享单车接驳轨道交通工具的识别程序，所述共享单车接驳轨道交通工具的识别程序被处理器执行时，实现上述所述的共享单车接驳轨道交通工具的识别方法的步骤。有益效果：本发明根据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，确定出可能是共享单车接驳的站点。然后将潜在接驳站点的各个站口与接驳车点之间的接驳距离进行比较，从各个站口中筛选出潜在站口。最后根据潜在站口的位置、非接驳车点的位置，识别共享单车产生的骑行轨迹是否用于接驳公共交通。综上所述，本发明综合考虑了站点的辐射吸引范围和各个站口的位置，能够排除站点周围区域所需的共享单车对接驳轨道交通工具所需共享单车的影响，从而提高了本发明接驳轨道交通工具而产生的骑行数据识别的准确性。附图说明图1为本发明的整体流程图；图2为本发明实施例中共享单车靠近轨道交通工具站点的出行情况中，起点状态为3、终点状态为1的第一种共享单车行程示意图；图3为本发明实施例中共享单车靠近轨道交通工具站点的出行情况中，起点状态为3、终点状态为1的第二种共享单车行程示意图；图4为本发明实施例中共享单车靠近轨道交通工具站点的出行情况中，起点状态为3、终点状态为2的第一种共享单车行程示意图；图5为本发明实施例中共享单车靠近轨道交通工具站点的出行情况中，起点状态为3、终点状态为2的第二种共享单车行程示意图；图6为本发明实施例中共享单车靠近轨道交通工具站点的出行情况中，起点状态为2、终点状态为1的第一种共享单车行程示意图；图7为本发明实施例中共享单车靠近轨道交通工具站点的出行情况中，起点状态为2、终点状态为1的第二种共享单车行程示意图；图8为本发明实施例中共享单车靠近轨道交通工具站点的出行情况中，起点状态为3、终点状态为3的共享单车行程示意图；图9为本发明实施例中共享单车靠近轨道交通工具站点的出行情况中，起点状态为2、终点状态为2的共享单车行程示意图；图10为本发明实施例中共享单车靠近轨道交通工具站点的出行情况中，起点状态为1、终点状态为1的共享单车行程示意图；图11为本发明实施例提供的终端设备的内部结构原理框图。具体实施方式以下结合实施例和说明书附图，对本发明中的技术方案进行清楚、完整地描述。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。经研究发现，轨道交通工具存在“最后一公里”这个问题，因此需要共享单车接驳轨道交通工具以解决“最后一公里”这个问题。通过共享单车的骑行范围识别共享单车是否用于接驳轨道交通工具，以便于根据接驳数量给轨道交通工具调度合适的共享单车数量。现有技术采用如下技术识别共享单车是否用于接驳轨道交通工具：在轨道交通工具的站口建立缓冲区，基于的订单数据，把在缓冲区范围内停车或出发的行程判断为是交通接驳出行。由于轨道交通工具的站口周边往往进行集约的土地利用开发，存在大量吸引人流的建筑，骑行起点和终点落在站点附近的共享自行车行程可能不是以接驳为目的，而是以轨道站周边的建筑为目的地。该方法将轨道站或轨道站口周边缓冲区内的出行都判断为接驳，存在过高估计接驳出行数量或比例的问题。为解决上述技术问题，本发明提供了一种共享单车接驳轨道交通工具的识别方法和相关装置，解决了现有技术识别共享单车是否用于接驳轨道交通工具准确性较低的问题。具体实施时，首先依据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，从各个站点中筛选出共享单车所对应的潜在接驳站点；然后依据潜在接驳站点的各个站口和共享单车的接驳车点之间的各个接驳距离，从各个站口中筛选出潜在站口；最后依据潜在站口的位置、非接驳车点的位置，得到针对共享单车的骑行轨迹的识别结果。本发明能够提高针对共享单车接驳行为的识别准确性。举例说明，有若干个地铁站，每个地铁站的辐射吸引范围为以地铁站为圆心、半径为2000米的范围。一个共享单车的一条行程上的起点和终点至少有一个同时落在了地铁站A、B、C，当共享单车的骑行方向为从起点向终点靠近地铁站A、B、C时，如果A与终点之间距离在A、B、C三个地铁站中最小，那么A就是潜在接驳站点。当共享单车的骑行方向为从起点向终点远离地铁站A、B、C时，如果A与起点之间距离在A、B、C三个地铁站中最小，那么A就是潜在接驳站点。假如A有三个出站口a1、a2、a3，且共享单车是朝向A移动的，分别计算共享单车的终点与a1、a2、a3之间的距离，如果与a1的距离最小，那么a1就是潜在站口，得到潜在站口a1之后需要再进一步确认共享单车目的地是不是站口a1，如果是，那么共享单车就是用于接驳地铁站的，如果不是，那么共享单车的这一条行程就不是用于接驳地铁站的，具体确认过程如下：计算共享单车的起点与潜在站口a1之间的距离d1，共享单车的起点分别与a2、a3之间的距离d2和d3，如果d1、d2和d3三者中d1最小，则代表乘客选择了最近的站口进入到地铁站A，由此说明共享单车的这一条行程就是用于接驳地铁站的。如果d1、d2和d3三者中最小的不是d1，则说明乘客并没有选择最近的站口进入到地铁站，由此说明乘客骑共享单车的真正目的并不是接驳地铁站。在一个应用场景中，如果通过本发明的识别方法判断出某一地铁站产生了大量的用于接驳地铁站的共享单车行程，则后续可以在该地铁站附近放置更多的共享单车，以便乘客使用共享单车接驳地铁站，解决“最后一公里”的问题。示例性方法本实施例的共享单车接驳轨道交通工具的识别方法可应用于终端设备中，所述终端设备可为具有数据处理功能的终端产品，比如电脑等。在本实施例中，如图1中所示，所述共享单车接驳轨道交通工具的识别方法具体包括如下步骤：S100，依据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围Ra，从各个所述站点中筛选出所述共享单车所对应的潜在接驳站点，所述站点为轨道交通工具的站点，所述辐射吸引范围与以所述站点为中心的共享单车最大骑行距离相对应。S200，依据所述潜在接驳站点的各个站口和所述共享单车的接驳车点之间的各个接驳距离，从各个所述站口中筛选出潜在站口，所述接驳车点为通过比较所述共享单车的起点位置与所述站口之间的距离、所述共享单车的终点位置与所述站口之间的距离而从所述起点位置和所述终点位置两个位置中筛选出的位置点。S300，依据所述潜在站口的位置、非接驳车点的位置，得到针对共享单车的骑行轨迹的识别结果，所述骑行轨迹为所述共享单车的起点位置和所述共享单车的终点位置所在的轨迹，所述非接驳车点与所述接驳车点相对应，所述识别结果用于表征所述骑行轨迹是否为所述共享单车接驳所述轨道交通工具而产生的骑行数据。在一个实施例中，如表1所示，共享单车的起点位置和终点位置来源于的订单数据，站点来源于轨道线路站点数据，站口来源于轨道站点出入口数据。表1该实施例中的共享单车订单数据、轨道线路站点数据、轨道线路数据、轨道站点出入口数据为预处理之后的数据，预处理的过程如下：轨道线路站点数据、轨道线路站点出入口数据为相对静态的数据，数据量较少，使用前主要需要人工校核数据正确性，例如站点名称是否正确、站点经纬度是否正确等。共享单车行程数据本身数据量大，且在数据收集、传输、存储过程中都可能产生许多问题，存在较多缺失、错误、异常的情况，是预处理中主要处理的数据，需要检查数据是否缺失、数据格式是否正确、数据是否错误、数据是否重复。数据缺失，即数据存在个别核心字段信息不完整的情况。如果缺失的数据能够通过其他字段信息推断还原，则进行补全，否则删除该条数据。数据格式不正确，例如时间的格式和数据中标准的时间格式不一致，则需要将其转化为标准的格式。数据错误，例如开锁时间早于关锁时间、行程距离异常等。如果错误的数据能够通过其他字段信息推断，则进行修正，否则删除该条数据。数据重复，即存在一条或多条数据相同的情况，需要删除多余的数据。在一个实施例中，辐射吸引范围的设定方式包括如下的步骤S101a至S104a：S101a，以所述站点为圆心，以设定长度为半径画圆，得到圆形的辐射缓冲区范围。设定长度为2500m，这是因为根据大量的统计发现，轨道站吸引自行车接驳客流的范围不超过2500m，因此以2500m为辐射吸引范围半径的初始最大阈值。S102a，统计所述辐射缓冲区内所述共享单车的各个历史骑行起点位置。S103a，确定各个所述历史骑行起点位置与所述站点之间的各个距离。S104a，依据各个所述距离，得到辐射吸引范围，所述辐射吸引范围位于所述辐射缓冲区范围的内部。比如，有100个历史骑行起点位置，这100个历史骑行起点位置与站点之间的距离分别是d1,d2,d3,……,d99,d100，对这100个距离按照从小到大的顺序进行排序，得到新的排序序列，其中排名第85的距离即为所述辐射吸引范围的半径，即以85％累积分位值的对应距离为所述辐射吸引范围的半径，然后以站点为中心，以该半径画圆，所得的范围即是辐射吸引范围。S101a至S104a是基于如下原理确认辐射吸引范围的：以2500m为辐射吸引范围半径的初始最大阈值。对某一类型的所有站点，以站点为核心为中心，建立2500m的缓冲区，使用一天共享单车骑行数据中骑行起点的位置数据，可以得到当前缓冲区内所有的骑行起点位置及缓冲区内的总车辆数。对车辆数的累积分位值与圆形半径之间的关系进行统计，使用85％累积分位值对应的缓冲范围为该类型站点的Ra。在一个实施例中，步骤S100包括如下的步骤S101b、S102b、S103b：S101b，依据所述共享单车的起点位置和终点位置以及各个所述站点的辐射吸引范围，从各个所述站点中筛选出若干个匹配站点。也就是共享单车的起点或终点任一个落在哪一个站点或哪几个站点所在的辐射吸引范围，那么该一个站点或几个站点就是与该共享单车行程所匹配的站点。S102b，依据所述起点位置与若干个所述匹配站点之间的距离、所述终点位置与若干个所述匹配站点之间的距离，确定所述共享单车的骑行方向，所述骑行方向为相对所述匹配站点的方向。S103b，当所述骑行方向为朝向所述匹配站点时，依据所述共享单车的终点位置与若干个所述匹配站点之间的距离，从若干个所述匹配站点中筛选出所述共享单车所对应的潜在接驳站点。或者，当所述骑行方向为背离所述匹配站点时，依据所述共享单车的起点位置与若干个所述匹配站点之间的距离，从若干个所述匹配站点中筛选出所述共享单车所对应的潜在接驳站点。举例说明，如果共享单车的行程所对应的骑行方向为朝向匹配站点，则计算共享单车的终点与每个匹配站点之间的距离，最小距离对应的匹配站点就是潜在站点。如果共享单车的行程所对应的骑行方向为背离匹配站点，则计算共享单车的起点与每个匹配站点之间的距离，最小距离对应的匹配站点就是潜在站点。在一个实施例中，计算终点与每个匹配站点之间的距离d：r为地球半径，取6371km。lat1和lon1分别为终点的纬度和经度；lat2和lon2分别为终点的纬度和经度。起点与每个匹配站点之间的距离d′：lat1′和lon1′分别为起点的纬度和经度。S101b至S103b是采用如下的方式筛选出潜在接驳站点的：首先对以轨道站点经纬度为圆心建立半径为Ra的缓冲区，将每一条共享单车订单数据的骑行起、终点位置与站点缓冲区进行匹配，由于Ra一般超过站点之间的间距，因此对于某个共享单车的行程，其起、终点可能会落在不同的站点缓冲区，因此此时骑行点和站点的匹配关系为1对多。对于起终点至少有一个无法匹配到缓冲区的出行，判断为非接驳出行，删除数据，以减少后续计算量。在一个实施例中，步骤S200的具体过程如下：确定各个所述接驳距离中的最小的所述接驳距离；将最小的所述接驳距离所对应的所述站口作为潜在站口。步骤S200包括两种情况，第一种情况：共享单车从起点到终点靠近站点，接驳距离为终点与各个站口之间的各个距离，哪个站口与终点之间的距离最小，哪个站口就作为潜在站口；第二种情况：共享单车从起点到终点远离站点，也就是乘客从地铁站口骑共享单车向远离地铁的方向移动，此时的接驳距离为起点与各个站口之间的各个距离，哪个站口与起点之间的距离最小，哪个站口就作为潜在站口。在一个实施例中，步骤S300包括如下的步骤S301、S302、S303、S304：S301，依据所述非接驳车点的位置与所述潜在站口的位置，确定所述非接驳车点与所述潜在站口之间的距离，记为第一距离doi。S302，依据所述非接驳车点的位置与各个非潜在站口的位置，确定所述非接驳车点与各个非潜在站口之间的距离，记为各个第二距离，所述非潜在站口为所述潜在接驳站点的各个站口中除所述潜在站口之外的站口。当步骤S200为第一种情况时，非接驳车点为共享单车行程的起点，第一距离就是起点与潜在站口之间的距离。第二距离为起点与各个非潜在站口之间的距离doj。当步骤S200为第二种情况时，非接驳车点为共享单车行程的终点，第一距离就是终点与潜在站口之间的距离。第二距离为终点与各个非潜在站口之间的距离ddj。S303，确定各个所述第二距离中的最小的所述第二距离。当各个第二距离为doj时，最小的第二距离为dmin oj；当各个第二距离为ddj时，最小的第二距离为dmin dj。S304，当最小的所述第二距离大于所述第一距离，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹为所述共享单车接驳所述轨道交通工具而产生的骑行数据。或者，当最小的所述第二距离小于所述第一距离，得到针对共享单车的骑行轨迹的识别结果中的所述骑行轨迹非为所述共享单车接驳所述轨道交通工具而产生的骑行数据。举例说明，以下面各种情况为例，说明采用步骤S300识别行程数据是否用于接驳轨道交通工具的详细过程：以各个站口经纬度为中心建立半径Rp的圆，以此圆作为站口的缓冲区。以Rs为半径建立站点的接驳服务范围。如果起点位于站口停放范围内，则将起点的状态参数标记为1；如果起点不在站口停放范围内，但是起点在接驳服务范围内，则将起点的状态参数标记为2；如果起点不在接驳服务范围内，但是起点在辐射吸引范围内，则将起点的状态参数标记为3。对于终点，采用同样的标记方法，即如果终点位于站口停放范围内，则将终点的状态参数标记为1；如果终点不在站口停放范围内，但是终点在接驳服务范围内，则将终点的状态参数标记为2；如果终点不在接驳服务范围内，但是终点在辐射吸引范围内，则将终点的状态参数标记为3。其中，接驳服务范围的半径Rs采用如下方式确定：以500m为辐射吸引范围的初始最大阈值，对某一类型的所有站点，以站点为核心为中心，建立500m的缓冲区，使用一天骑行数据中骑行起点的位置数据，可以得到当前缓冲区内所有的骑行起点位置及缓冲区内的总车辆数。对车辆数的累积分位值与圆形半径之间的关系进行统计，使用85％累积分位值对应的距站中心距离为该类型站点的Rs。其中，站口停放范围的半径Rp采用如下方式确定：综合根据大量研究和调查数据，用户如果需要换乘接驳轨道的话，停车范围离站口一般不超过100m，故对各类型站点，Rp统一取100m。根据起点状态参数与终点状态参数的大小，识别共享单车的行程是否用于接驳轨道交通工具。共享单车靠近轨道站的出行，即起点状态参数≥终点状态参数。包括如下的六个情况：1)起点为状态3，终点状态为1：计算起点与各个站口的距离，其中起点与潜在接驳站口i的距离记为doj,起点与其他各个站口的距离的最小值记为dminoj。如图2所示，若doi≤dminoj，表明用户从起点直接前往轨道站站口附近，即直接前往潜在站口，因此可以判断该共享单车行程为接驳出行。如图3所示，若doi＞dminoj，用户虽然出行终点在轨道站站口附近，但在路途中有更近的轨道站站口，而用户没有选择，说明其不是为了接驳，判断该共享单车行程为非接驳出行。2)起点状态为3，终点状态为2：起点与潜在站口之间的距离为doj，起点与其他各个站口距离的最小值为dminoj。如图4所示，若doi≤dminoj，表明用户有一定概率是换乘接驳轨道，但因一些原因没有停在站口附近。因此对该出行目的的判断不是接驳或者非接驳，而表示为概率。如果停车地点越靠近轨道站站口，则其为接驳的可能性越大。概率随着距离的增加呈衰减的趋势，设终点与潜在接驳站口的距离ddi为该种情况下可能为接驳的概率为：如图5所示，若doi＞dminoj，表明用户如果需要接驳出行，中途有更近的轨道站口，不会继续骑行，因此判断其为非接驳出行。3)起点状态为2，终点状态为1：出行者距离目的地距离并不远，如果采取共享单车出行方式出行，说明用户需要赶时间，因此，更可能是出于接驳轨道站的需要。如图6所示，若doi≤dminoj，表明用户直奔轨道站站口，判断为接驳出行。如图7所示，若doi＞dminoj，表明用户并非以轨道站站口为目的地，判断其为非接驳出行。4)如图8所示，当起点状态为3，终点状态为3，表明用户起始点均远离轨道站和站口，显然并非接驳轨道站，判断为非接驳。5)如图9所示，当起点状态为2，终点状态为2，此种情况可以通过步行到达轨道站，如果此种情况为通过共享单车到达轨道站，则为非接驳行为。6)如图10所示，当起点状态为1，终点状态为1，这种情况应属于车辆坏损导致骑行无法继续，用户启动后没有骑行或骑行很短后又停车关锁换车，在预处理时已经剔除这样的数据，若还存在这样的数据，直接判定为非接驳。共享单车远离轨道站的出行，即起点状态参数≤终点状态参数。包括如下的三种情况：1)如起点为状态1、终点状态为3或起点状态为1、终点状态为2。计算起点与潜在接驳轨道站的各个站口的距离，选择距离最小的站口为其潜在的接驳站口。计算终点与各个站口的距离，其中终点与潜在接驳站口i的距离记为ddi,终点与其他各个站口的距离的最小值记为dmindj。如果ddi≤dmindj，识别共享单车行程为接驳出行。如果ddi＞dmindj，识别共享单车行程为非接驳出行。2)如起点状态为2，终点状态为3。计算起点与潜在接驳轨道站的各个站口的距离，选择距离最小的站口为其潜在的接驳站口。计算终点与各个站口的距离，其中终点与潜在接驳站口的距离记为ddi,起点与其他各个站口的距离的最小值记为dmindj。如果ddi≤dmindj，用户有一定概率是换乘接驳轨道，但因一些原因没有停在站口附近。因此对该出行目的的判断不是接驳或者非接驳，而表示为概率。如果停车地点越靠近轨道站站口，则其为接驳的可能性越大。如果ddi＞dmindj，则将共享单车的行程识别为非接驳出行。3)若起点状态和终点状态参数相同，即起点状态为1、终点状态为1，起点状态为2、终点状态为2，起点状态为3，终点状态为3，判断为非接驳。对每一条订单数据按照上述规则逐条处理，之后按照时间、站点进行时空聚合，即可得到任一时间段内的任一站点的共享自行车接驳客流量。综上，本发明根据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，确定出可能是共享单车接驳的站点。然后将潜在接驳站点的各个站口与接驳车点之间的接驳距离进行比较，从各个站口中筛选出潜在站口。最后根据潜在站口的位置、非接驳车点的位置，识别共享单车产生的骑行轨迹是否用于接驳公共交通。综上所述，本发明综合考虑了站点的辐射吸引范围和各个站口的位置，能够排除站点周围区域所需的共享单车对接驳轨道交通工具所需共享单车的影响，从而提高了本发明接驳轨道交通工具而产生的骑行数据识别的准确性。另外，本发明逐条分析每条订单数据后按照时空聚合统计即可得到任一站点任一时间段内的接驳轨道交通的接驳量。示例性装置本实施例还提供一种共享单车接驳轨道交通工具的识别装置，所述装置包括如下组成部分：潜在接驳站点筛选模块，用于依据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，从各个所述站点中筛选出所述共享单车所对应的潜在接驳站点，所述站点为轨道交通工具的站点，所述辐射吸引范围与以所述站点为中心的共享单车最大骑行距离相对应；潜在站口筛选模块，用于依据所述潜在接驳站点的各个站口和所述共享单车的接驳车点之间的各个接驳距离，从各个所述站口中筛选出潜在站口，所述接驳车点为通过比较所述共享单车的起点位置与所述站口之间的距离、所述共享单车的终点位置与所述站口之间的距离而从所述起点位置和所述终点位置两个位置中筛选出的位置点；识别模块，用于依据所述潜在站口的位置、非接驳车点的位置，得到针对共享单车的骑行轨迹的识别结果，所述骑行轨迹为所述共享单车的起点位置和所述共享单车的终点位置所在的轨迹，所述非接驳车点与所述接驳车点相对应，所述识别结果用于表征所述骑行轨迹是否为所述共享单车接驳所述轨道交通工具而产生的骑行数据。基于上述实施例，本发明还提供了一种终端设备，其原理框图可以如图11所示。该终端设备包括通过系统总线连接的处理器、存储器、网络接口、显示屏、温度传感器。其中，该终端设备的处理器用于提供计算和控制能力。该终端设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该终端设备的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时以实现一种共享单车接驳轨道交通工具的识别方法。该终端设备的显示屏可以是液晶显示屏或者电子墨水显示屏，该终端设备的温度传感器是预先在终端设备内部设置，用于检测内部设备的运行温度。本领域技术人员可以理解，图11中示出的原理框图，仅仅是与本发明方案相关的部分结构的框图，并不构成对本发明方案所应用于其上的终端设备的限定，具体的终端设备以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提供了一种终端设备，终端设备包括存储器、处理器及存储在存储器中并可在处理器上运行的共享单车接驳轨道交通工具的识别程序，处理器执行共享单车接驳轨道交通工具的识别程序时，实现如下操作指令：依据共享单车的起点位置和终点位置以及各个站点的辐射吸引范围，从各个所述站点中筛选出所述共享单车所对应的潜在接驳站点，所述站点为轨道交通工具的站点，所述辐射吸引范围与以所述站点为中心的共享单车最大骑行距离相对应；依据所述潜在接驳站点的各个站口和所述共享单车的接驳车点之间的各个接驳距离，从各个所述站口中筛选出潜在站口，所述接驳车点为通过比较所述共享单车的起点位置与所述站口之间的距离、所述共享单车的终点位置与所述站口之间的距离而从所述起点位置和所述终点位置两个位置中筛选出的位置点；依据所述潜在站口的位置、非接驳车点的位置，得到针对共享单车的骑行轨迹的识别结果，所述骑行轨迹为所述共享单车的起点位置和所述共享单车的终点位置所在的轨迹，所述非接驳车点与所述接驳车点相对应，所述识别结果用于表征所述骑行轨迹是否为所述共享单车接驳所述轨道交通工具而产生的骑行数据。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本发明所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
