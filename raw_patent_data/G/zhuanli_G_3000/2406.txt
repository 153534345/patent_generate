标题title
一种服务器的数据同步更新方法及系统
摘要abst
本发明公开了一种服务器的数据同步更新方法及系统，所述方法包括：服务器接收用户端发送的数据更新请求，并根据所述数据更新请求中的数据编码查询预设的数据编码表，判断是否存在所述数据编码，若存在则通过预设的大数据计算框架从预设的数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中，再根据数据来源对所述第一文件内的数据进行区分，生成若干个数据块，接着获取所述数据更新请求中的更新数据，并采用多线程技术同步解析所述若干个数据块，用所述更新数据替代所述数据块中的原始数据，并发送用户端数据同步更新成功响应信息，提高数据同步更新的效率及准确率。
权利要求书clms
1.一种服务器的数据同步更新方法，其特征在于，包括：服务器接收用户端发送的数据更新请求，并根据所述数据更新请求中的数据编码查询预设的数据编码表，判断是否存在所述数据编码；若存在所述数据编码，所述服务器通过预设的大数据计算框架根据所述数据编码从预设的数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中；所述服务器通过预设在所述大数据计算框架中的数据区分方法，根据数据来源对所述第一文件内的数据进行区分，生成若干个数据块；所述服务器获取所述数据更新请求中的更新数据，并采用多线程技术同步解析所述若干个数据块，用所述更新数据替代所述数据块中的原始数据，并发送用户端数据同步更新成功响应信息。2.如权利要求1所述的一种服务器的数据同步更新方法，其特征在于，所述根据所述数据更新请求中的数据编码查询预设的数据编码表，判断是否存在所述数据编码，包括：所述服务器通过将所述数据更新请求中的数据编码与所述数据编码表中保存的若干个第一数据编码分别进行比较，判断所述数据编码是否存在；所述数据编码表中记录若干个第一数据编码；所述第一数据编码包括同一类型的若干个原始数据；当所述数据编码与所述若干个第一数据编码中的某一个第一数据编码相同时，则所述服务器判定所述数据编码存在；当所述数据编码与所述若干个第一数据编码均不相同时，则所述服务器判定所述数据编码错误，并向所述用户端发送数据编码错误的信息提示。3.如权利要求1所述的一种服务器的数据同步更新方法，其特征在于，所述服务器通过预设的大数据计算框架根据所述数据编码从预设的数据库中拉取所述数据编码对应的目标编码列表，包括：所述服务器通过所述大数据计算框架循环遍历所述数据库，获得所述数据库中保存的每一个目标编码列表；所述服务器在每一次循环遍历中，通过预设的字符串匹配算法计算当前目标编码列表对应的数据编码与所述数据更新请求中的数据编码的字符串相似度；所述服务器在每一次循环遍历中，将所述字符串相似度与预设的相似度阈值进行比较，判断是否拉取当前循环遍历的目标编码列表；当所述字符串相似度大于或等于所述相似度阈值时，所述服务器则拉取当前循环遍历的目标编码列表，并停止所述循环遍历。4.如权利要求3所述的一种服务器的数据同步更新方法，其特征在于，所述服务器在每一次循环遍历中，通过预设的字符串匹配算法计算当前目标编码列表对应的数据编码与所述数据更新请求中的数据编码的字符串相似度的过程中，具体包括：将所述当前目标编码列表对应的数据编码进行二进制计算后得到第一编码矩阵；同时，以所述第一编码矩阵的第一行第一列的数值作为分母，以所述第一编码矩阵的最后一行最后一列的数值作为分子，形成第一空间转换系数；以所述第一空间转换系数为矩阵乘法的第一预设权重值，将所述第一编码矩阵计算转换为第一字符串；将所述数据更新请求中的数据编码进行二进制计算后得到第二编码矩阵；同时，以所述第二编码矩阵的最后一行最后一列的数值作为分母，以所述第二编码矩阵的第一行第一列的数值作为分子，形成第二空间转换系数；以所述第二空间转换系数为矩阵乘法的第二预设权重值，将所述第二编码矩阵计算转换为第二字符串；对所述第一字符串和所述第二字符串进行空间距离计算，得到空间距离值，根据所述空间距离值确定相似度。5.如权利要求1所述的一种服务器的数据同步更新方法，其特征在于，所述服务器通过预设在所述大数据框架中的数据区分方法，根据数据来源对所述第一文件内的数据进行区分，生成若干个数据块，包括：所述服务器通过预设在所述大数据计算框架中的哈希算法遍历所述第一文件中的每一个数据，并根据所述每一个数据的数据来源分别生成所述每一个数据分别对应的第一数据编码；所述服务器通过预设在所述大数据计算框架中的字符串截取算法对所述每一个数据的第一数据编码分别进行编码截取，获得所述每一个数据分别对应的第二数据编码；所述服务器通过所述大数据计算框架循环遍历所述每一个数据对应的第二数据编码，将第二数据编码相同的数据保存到同一个数据块，生成若干个数据块。6.如权利要求1所述的一种服务器的数据同步更新方法，其特征在于，所述服务器获取所述数据更新请求中的更新数据，并采用多线程技术同步解析所述若干个数据块，用所述更新数据替代所述数据块中的原始数据，包括：所述服务器获取所述数据块的数量，通过预设的多线程管理线池构建并同步执行与所述数据块的数量相同的若干个同步数据更新任务；在每一个同步数据更新任务中，所述服务器解析所述数据块获得所述数据块中包含的若干个原始数据，并用所述更新数据依次替换所述若干个原始数据中的每一个原始数据，获得数据更新后的数据块。7.一种服务器的数据同步更新系统，其特征在于，包括数据查询模块、数据提取模块、数据区分模块及数据更新模块；所述数据查询模块用于服务器接收用户端发送的数据更新请求，并根据所述数据更新请求中的数据编码查询预设的数据编码表，判断是否存在所述数据编码；所述数据提取模块用于若存在所述数据编码，所述服务器通过预设的大数据计算框架根据所述数据编码从预设的数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中；所述数据区分模块用于所述服务器通过预设在所述大数据计算框架中的数据区分方法，根据数据来源对所述第一文件内的数据进行区分，生成若干个数据块；所述数据更新模块用于所述服务器获取所述数据更新请求中的更新数据，并采用多线程技术同步解析所述若干个数据块，用所述更新数据替代所述数据块中的原始数据，并发送用户端数据同步更新成功响应信息。8.如权利要求7所述的一种服务器的数据同步更新系统，其特征在于，所述数据查询模块包括匹配单元及判定单元；所述匹配单元用于所述服务器通过将所述数据更新请求中的数据编码与所述数据编码表中保存的若干个第一数据编码分别进行比较，判断所述数据编码是否存在；所述数据编码表中记录若干个第一数据编码；所述第一数据编码包括同一类型的若干个原始数据；所述判定单元用于当所述数据编码与所述若干个第一数据编码中的某一个第一数据编码相同时，则所述服务器判定所述数据编码存在；当所述数据编码与所述若干个第一数据编码均不相同时，则所述服务器判定所述数据编码错误，并向所述用户端发送数据编码错误的信息提示。9.如权利要求7所述的一种服务器的数据同步更新系统，其特征在于，所述数据提取模块包括循环遍历单元、字符串匹配单元及提取单元；所述循环遍历单元用于所述服务器通过所述大数据计算框架循环遍历所述数据库，获得所述数据库中保存的每一个目标编码列表；所述字符串匹配单元用于所述服务器在每一次循环遍历中，通过预设的字符串匹配算法计算当前目标编码列表对应的数据编码与所述数据更新请求中的数据编码的字符串相似度；所述提取单元用于所述服务器在每一次循环遍历中，将所述字符串相似度与预设的相似度阈值进行比较，判断是否拉取当前循环遍历的目标编码列表；当所述字符串相似度大于或等于所述相似度阈值时，所述服务器则拉取当前循环遍历的目标编码列表，并停止所述循环遍历。10.如权利要求9所述的一种服务器的数据同步更新系统，其特征在于，所述字符串匹配单元具体用于：将所述当前目标编码列表对应的数据编码进行二进制计算后得到第一编码矩阵；同时，以所述第一编码矩阵的第一行第一列的数值作为分母，以所述第一编码矩阵的最后一行最后一列的数值作为分子，形成第一空间转换系数；以所述第一空间转换系数为矩阵乘法的第一预设权重值，将所述第一编码矩阵计算转换为第一字符串；将所述数据更新请求中的数据编码进行二进制计算后得到第二编码矩阵；同时，以所述第二编码矩阵的最后一行最后一列的数值作为分母，以所述第二编码矩阵的第一行第一列的数值作为分子，形成第二空间转换系数；以所述第二空间转换系数为矩阵乘法的第二预设权重值，将所述第二编码矩阵计算转换为第二字符串；对所述第一字符串和所述第二字符串进行空间距离计算，得到空间距离值，根据所述空间距离值确定相似度。
说明书desc
技术领域本发明涉及通信技术领域，尤其涉及一种服务器的数据同步更新方法及系统。背景技术随着科技的发展，电子产品逐渐成为现代人手中不可缺少的生活工具，与此同时，互联网企业及相关企业本身存的数据量也越来越多，尤其对于每天需要处理的数据为千户级别的数量的中大型科技公司来说，其存储的数据量尤为庞大，而数据量的增加会降低服务器的计算速度，同时对服务器造成巨大的存储压力，因此如何及时对服务器中保存的大量数据及时进行更新，降低数据存储的压力尤其重要。现有技术中，当服务器中的某一类型的数据需要进行统一更新时，常常会涉及到多个数据来源的平台同时对所述需要进行更新的数据类型的数据进行变更，而当涉及到多个数据来源平台同时进行数据更新处理时，需要每一个数据来源平台的维护人员人工对所述各个数据来源的平台进行数据更新，这种方式不仅会因为工作人员操作的不同造成数据更新的延迟，同时对工作人员的要求高，需要的数据更新成本高，数据更新效率低下，且常常无法准确的对需要更新的数据更新，造成数据更新错误率高。发明内容为了解决上述存在的技术问题，本发明公开了一种服务器的数据同步更新方法及系统，提高数据同步更新的效率及准确率。为了实现上述目的，本发明公开了一种服务器的数据同步更新方法，包括：服务器接收用户端发送的数据更新请求，并根据所述数据更新请求中的数据编码查询预设的数据编码表，判断是否存在所述数据编码；若存在所述数据编码，所述服务器通过预设的大数据计算框架根据所述数据编码从预设的数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中；所述服务器通过预设在所述大数据计算框架中的数据区分方法，根据数据来源对所述第一文件内的数据进行区分，生成若干个数据块；所述服务器获取所述数据更新请求中的更新数据，并采用多线程技术同步解析所述若干个数据块，用所述更新数据替代所述数据块中的原始数据，并发送用户端数据同步更新成功响应信息。本发明公开的一种服务器的数据同步更新方法，首先服务器获取用户端发送的数据更新请求，根据所述数据更新请求中的数据编码从预设的数据编码表中查询所述数据编码是否存在，以此根据所述数据编码判断当前用户端发送的数据更新请求是否正确，避免无效查询，提高数据更新的效率，接着若所述数据编码表中存在所述数据编码后，首先利用预设的大数据计算框架从数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中，以此将数据库中与所述数据编码相同的即全部的待更新数据提取出，进而方便后期进行统一的同步数据更新，提高数据同步更新的效率，同时利用所述数据编码将待更新的数据进行提取，避免了人工进行数据识别，提高了数据同步更新的准确率，接着在本实施例中，再将待更新数据全部提出后，所述服务器利用所述大数据计算框架中设置的区分方法，根据数据来源将全部的数据区分为若干个数据块，然后根据所述数据更新请求中的更新数据，利用多线程技术同步解析所述若干个数据块，利用所述更新数据替代所述数据块中的原始数据，通过所述多线程同步技术，保证了数据同步更新，提高了数据同步更新的准确性。作为优选例子，在所述根据所述数据更新请求中的数据编码查询预设的数据编码表，判断是否存在所述数据编码，包括：所述服务器通过将所述数据更新请求中的数据编码与所述数据编码表中保存的若干个第一数据编码分别进行比较，判断所述数据编码是否存在；所述数据编码表中记录若干个第一数据编码；所述第一数据编码包括同一类型的若干个原始数据；当所述数据编码与所述若干个第一数据编码中的某一个第一数据编码相同时，则所述服务器判定所述数据编码存在；当所述数据编码与所述若干个第一数据编码均不相同时，则所述服务器判定所述数据编码错误，并向所述用户端发送数据编码错误的信息提示。本发明在进行数据更新时，首先考虑当前用户端发送的数据更新请求中的数据编码是否在数据库中存在，若不存在，则代表当前数据更新请求中的数据是不存在，所述服务器无法进行数据更新，并将用户端进行提示，避免数据更新错误的同时，提高数据更新的效率。作为优选例子，在所述服务器通过预设的大数据计算框架根据所述数据编码从预设的数据库中拉取所述数据编码对应的目标编码列表，包括：所述服务器通过所述大数据计算框架循环遍历所述数据库，获得所述数据库中保存的每一个目标编码列表；所述服务器在每一次循环遍历中，通过预设的字符串匹配算法计算当前目标编码列表对应的数据编码与所述数据更新请求中的数据编码的字符串相似度；所述服务器在每一次循环遍历中，将所述字符串相似度与预设的相似度阈值进行比较，判断是否拉取当前循环遍历的目标编码列表；当所述字符串相似度大于或等于所述相似度阈值时，所述服务器则拉取当前循环遍历的目标编码列表，并停止所述循环遍历。本发明首先利用大数据计算框架对数据库中庞大的数据量进行数据提取，提高数据更新的效率，接着在获得每一个目标列表的时候，为了提升数据更新的效率，利用预设的字符串匹配算法计算目标编码列表的编码与数据更新请求中的编码的相似度，以此当相似度达到一定的阈值时，可判定其为目标编码列表，在提高数据更新效率的同时，保证了数据更新的准确度。作为优选例子，所述服务器在每一次循环遍历中，通过预设的字符串匹配算法计算当前目标编码列表对应的数据编码与所述数据更新请求中的数据编码的字符串相似度的过程中，具体包括：将所述当前目标编码列表对应的数据编码进行二进制计算后得到第一编码矩阵；同时，以所述第一编码矩阵的第一行第一列的数值作为分母，以所述第一编码矩阵的最后一行最后一列的数值作为分子，形成第一空间转换系数；以所述第一空间转换系数为矩阵乘法的第一预设权重值，将所述第一编码矩阵计算转换为第一字符串；将所述数据更新请求中的数据编码进行二进制计算后得到第二编码矩阵；同时，以所述第二编码矩阵的最后一行最后一列的数值作为分母，以所述第二编码矩阵的第一行第一列的数值作为分子，形成第二空间转换系数；以所述第二空间转换系数为矩阵乘法的第二预设权重值，将所述第二编码矩阵计算转换为第二字符串；对所述第一字符串和所述第二字符串进行空间距离计算，得到空间距离值，根据所述空间距离值确定相似度。本发明在考虑多维数据在空间转换过程中带来的数据噪声影响，利用二进制对数据编码进行转换编码矩阵，并通过矩阵乘法换算出字符串后，对两个字符串进行空间距离的计算，可以精准地计算出两个数据编码之间的相似度，克服数据库服务器中多维数据在空间转换上带来的噪声影响，进一步提高相似度的准确性。作为优选例子，在所述服务器通过预设在所述大数据框架中的数据区分方法，根据数据来源对所述第一文件内的数据进行区分，生成若干个数据块，包括：所述服务器通过预设在所述大数据计算框架中的哈希算法遍历所述第一文件中的每一个数据，并根据所述每一个数据的数据来源分别生成所述每一个数据分别对应的第一数据编码；所述服务器通过预设在所述大数据计算框架中的字符串截取算法对所述每一个数据的第一数据编码分别进行编码截取，获得所述每一个数据分别对应的第二数据编码；所述服务器通过所述大数据计算框架循环遍历所述每一个数据对应的第二数据编码，将第二数据编码相同的数据保存到同一个数据块，生成若干个数据块。本发明利用同一类型数据的不同数据来源将提取出的庞大的数据划分为若干个小的数据块，以使在后期数据同步更新时，降低一个数据更新任务中需要处理的数据量，提高数据同步更新的效率，同时根据数据来源将数据进行分块，便于以后维护人员进行数据查看时，分清数据来源，降低后期数据维护的成本。作为优选例子，在所述服务器获取所述数据更新请求中的更新数据，并采用多线程技术同步解析所述若干个数据块，用所述更新数据替代所述数据块中的原始数据，包括：所述服务器获取所述数据块的数量，通过预设的多线程管理线池构建并同步执行与所述数据块的数量相同的若干个同步数据更新任务；在每一个同步数据更新任务中，所述服务器解析所述数据块获得所述数据块中包含的若干个原始数据，并用所述更新数据依次替换所述若干个原始数据中的每一个原始数据，获得数据更新后的数据块。本发明采用通过预设的线程池管理线池构建多线程任务，其中所述多线程任务包含与所述数据块数量相同的多个同步数据更新任务，在所述服务器执行所述多线程任务时，位于所述多线程管理线池中的多个任务同时进行，实现了数据同步更新任务，提高数据更新的同步率。另一方面，本发明公开了一种服务器的数据同步更新系统，包括数据查询模块、数据提取模块、数据区分模块及数据更新模块；所述数据查询模块用于服务器接收用户端发送的数据更新请求，并根据所述数据更新请求中的数据编码查询预设的数据编码表，判断是否存在所述数据编码；所述数据提取模块用于若存在所述数据编码，所述服务器通过预设的大数据计算框架根据所述数据编码从预设的数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中；所述数据区分模块用于所述服务器通过预设在所述大数据计算框架中的数据区分方法，根据数据来源对所述第一文件内的数据进行区分，生成若干个数据块；所述数据更新模块用于所述服务器获取所述数据更新请求中的更新数据，并采用多线程技术同步解析所述若干个数据块，用所述更新数据替代所述数据块中的原始数据，并发送用户端数据同步更新成功响应信息。本发明公开的一种服务器的数据同步更新系统，首先服务器获取用户端发送的数据更新请求，根据所述数据更新请求中的数据编码从预设的数据编码表中查询所述数据编码是否存在，以此根据所述数据编码判断当前用户端发送的数据更新请求是否正确，避免无效查询，提高数据更新的效率，接着若所述数据编码表中存在所述数据编码后，首先利用预设的大数据计算框架从数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中，以此将数据库中与所述数据编码相同的即全部的待更新数据提取出，进而方便后期进行统一的同步数据更新，提高数据同步更新的效率，同时利用所述数据编码将待更新的数据进行提取，避免了人工进行数据识别，提高了数据同步更新的准确率，接着在本实施例中，再将待更新数据全部提出后，所述服务器利用所述大数据计算框架中设置的区分方法，根据数据来源将全部的数据区分为若干个数据块，然后根据所述数据更新请求中的更新数据，利用多线程技术同步解析所述若干个数据块，利用所述更新数据替代所述数据块中的原始数据，通过所述多线程同步技术，保证了数据同步更新，提高了数据同步更新的准确性。作为优选例子，所述数据查询模块包括匹配单元及判定单元；所述匹配单元用于所述服务器通过将所述数据更新请求中的数据编码与所述数据编码表中保存的若干个第一数据编码分别进行比较，判断所述数据编码是否存在；所述数据编码表中记录若干个第一数据编码；所述第一数据编码包括同一类型的若干个原始数据；所述判定单元用于当所述数据编码与所述若干个第一数据编码中的某一个第一数据编码相同时，则所述服务器判定所述数据编码存在；当所述数据编码与所述若干个第一数据编码均不相同时，则所述服务器判定所述数据编码错误，并向所述用户端发送数据编码错误的信息提示。本发明在进行数据更新时，首先考虑当前用户端发送的数据更新请求中的数据编码是否在数据库中存在，若不存在，则代表当前数据更新请求中的数据是不存在，所述服务器无法进行数据更新，并将用户端进行提示，避免数据更新错误的同时，提高数据更新的效率。作为优选例子，所述数据提取模块包括循环遍历单元、字符串匹配单元及提取单元；所述循环遍历单元用于所述服务器通过所述大数据计算框架循环遍历所述数据库，获得所述数据库中保存的每一个目标编码列表；所述字符串匹配单元用于所述服务器在每一次循环遍历中，通过预设的字符串匹配算法计算当前目标编码列表对应的数据编码与所述数据更新请求中的数据编码的字符串相似度；所述提取单元用于所述服务器在每一次循环遍历中，将所述字符串相似度与预设的相似度阈值进行比较，判断是否拉取当前循环遍历的目标编码列表；当所述字符串相似度大于或等于所述相似度阈值时，所述服务器则拉取当前循环遍历的目标编码列表，并停止所述循环遍历。本发明首先利用大数据计算框架对数据库中庞大的数据量进行数据提取，提高数据更新的效率，接着在获得每一个目标列表的时候，为了提升数据更新的效率，利用预设的字符串匹配算法计算目标编码列表的编码与数据更新请求中的编码的相似度，以此当相似度达到一定的阈值时，可判定其为目标编码列表，在提高数据更新效率的同时，保证了数据更新的准确度。作为优选例子，所述字符串匹配单元具体用于：将所述当前目标编码列表对应的数据编码进行二进制计算后得到第一编码矩阵；同时，以所述第一编码矩阵的第一行第一列的数值作为分母，以所述第一编码矩阵的最后一行最后一列的数值作为分子，形成第一空间转换系数；以所述第一空间转换系数为矩阵乘法的第一预设权重值，将所述第一编码矩阵计算转换为第一字符串；将所述数据更新请求中的数据编码进行二进制计算后得到第二编码矩阵；同时，以所述第二编码矩阵的最后一行最后一列的数值作为分母，以所述第二编码矩阵的第一行第一列的数值作为分子，形成第二空间转换系数；以所述第二空间转换系数为矩阵乘法的第二预设权重值，将所述第二编码矩阵计算转换为第二字符串；对所述第一字符串和所述第二字符串进行空间距离计算，得到空间距离值，根据所述空间距离值确定相似度。本发明在考虑多维数据在空间转换过程中带来的数据噪声影响，利用二进制对数据编码进行转换编码矩阵，并通过矩阵乘法换算出字符串后，对两个字符串进行空间距离的计算，可以精准地计算出两个数据编码之间的相似度，克服数据库服务器中多维数据在空间转换上带来的噪声影响，进一步提高相似度的准确性。作为优选例子，所述数据区分模块包括编码单元、截取单元及分类单元；所述编码单元用于所述服务器通过预设在所述大数据计算框架中的哈希算法遍历所述第一文件中的每一个数据，并根据所述每一个数据的数据来源分别生成所述每一个数据分别对应的第一数据编码；所述截取单元用于所述服务器通过预设在所述大数据计算框架中的字符串截取算法对所述每一个数据的第一数据编码分别进行编码截取，获得所述每一个数据分别对应的第二数据编码；所述分类单元用于所述服务器通过所述大数据计算框架循环遍历所述每一个数据对应的第二数据编码，将第二数据编码相同的数据保存到同一个数据块，生成若干个数据块。本发明利用同一类型数据的不同数据来源将提取出的庞大的数据划分为若干个小的数据块，以使在后期数据同步更新时，降低一个数据更新任务中需要处理的数据量，提高数据同步更新的效率，同时根据数据来源将数据进行分块，便于以后维护人员进行数据查看时，分清数据来源，降低后期数据维护的成本。作为优选例子，所述数据更新模块包括解析单元及更新单元；所述解析单元用于所述服务器获取所述数据块的数量，通过预设的多线程管理线池构建并同步执行与所述数据块的数量相同的若干个同步数据更新任务；所述更新单元用于在每一个同步数据更新任务中，所述服务器解析所述数据块获得所述数据块中包含的若干个原始数据，并用所述更新数据依次替换所述若干个原始数据中的每一个原始数据，获得数据更新后的数据块。本发明采用通过预设的线程池管理线池构建多线程任务，其中所述多线程任务包含与所述数据块数量相同的多个同步数据更新任务，在所述服务器执行所述多线程任务时，位于所述多线程管理线池中的多个任务同时进行，实现了数据同步更新任务，提高数据更新的同步率。附图说明图1：为本发明实施例提供的一种服务器的数据同步更新方法的流程示意图；图2：为本发明实施例提供的一种服务器的数据同步更新系统的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例：本发明实施例提供了一种服务器的数据同步更新方法，所述更新方法的具体实施流程请参照图1，主要包括步骤101至步骤104，所述步骤主要包括：步骤101：服务器接收用户端发送的数据更新请求，并根据所述数据更新请求中的数据编码查询预设的数据编码表，判断是否存在所述数据编码。在本实施例中，该步骤主要包括：所述服务器通过将所述数据更新请求中的数据编码与所述数据编码表中保存的若干个第一数据编码分别进行比较，判断所述数据编码是否存在；所述数据编码表中记录若干个第一数据编码；所述第一数据编码包括同一类型的若干个原始数据；当所述数据编码与所述若干个第一数据编码中的某一个第一数据编码相同时，则所述服务器判定所述数据编码存在；当所述数据编码与所述若干个第一数据编码均不相同时，则所述服务器判定所述数据编码错误，并向所述用户端发送数据编码错误的信息提示。示例性的，在本实施例中，当不同的数据来源平台新增加数据到服务器中，服务器会接受到所述数据并根据所述数据的类型对所述数据分配数据编码包括数据ID及数据名称，当所述数据送到所述服务器中，所述服务器会编辑配置，把具有相同数据编码的同一类型的数据添加到一个编组里面，并赋予这个编组一个编组号码，配置完成后把相关信息写入数据库的数据编码表里。当服务器接收到数据更新请求后，首先根据所述数据更新请求中的数据，查询数据库中的数据编码表，确认是否存在此编组号码，如果存在，则所述服务器开启后续数据更新的步骤，若不存在，则所述服务器停止接收该数据更新请求，并向发送该数据更新请求的用户端发送一个数据编码错误的提示信息，以使提醒用户端修改数据更新请求，提高数据更新的效率。在本实施例中，该步骤首先考虑当前用户端发送的数据更新请求中的数据编码是否在数据库中存在，若不存在，则代表当前数据更新请求中的数据是不存在，所述服务器无法进行数据更新，并将用户端进行提示，避免数据更新错误的同时，提高数据更新的效率。步骤102：若存在所述数据编码，所述服务器通过预设的大数据计算框架根据所述数据编码从预设的数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中。在本实施例中，该步骤主要包括：所述服务器通过所述大数据计算框架循环遍历所述数据库，获得所述数据库中保存的每一个目标编码列表；所述服务器在每一次循环遍历中，通过预设的字符串匹配算法计算当前目标编码列表对应的数据编码与所述数据更新请求中的数据编码的字符串相似度；所述服务器在每一次循环遍历中，将所述字符串相似度与预设的相似度阈值进行比较，判断是否拉取当前循环遍历的目标编码列表；当所述字符串相似度大于或等于所述相似度阈值时，所述服务器则拉取当前循环遍历的目标编码列表，并停止所述循环遍历。示例性的，在本实施例中，基于数据库中保存的庞大的数据量，为了提高数据更新的效率及准确率，本实施例采用大数据计算框架根据所述数据编码从数据库中找到待提取的目标编码列表，其中，所述大数据计算框架包括Hadoop大数据框架、Stormd大数据框架、或Spark大数据框架等，在本实施例中，以所述Spark大数据框架为例，使用spark平台遍历所述数据库，获得所述数据库中保存的每一个目标编码列表，接着从所述spark平台中预设的字符串匹配算法计算获取的每一个目标编码列表的数据编码与当前搜索的数据编码的字符串相似度，在本实施例中为了在提高匹配的速度的同时提高匹配的准确度，设置所述相似度阈值为80%，当查询到目标编码的列表的数据编码超过当前的数据编码后，将当前数据编码对应的目标编码列表从所述数据库中提取出来，接着将获取的目标编码列表存入到所述spark平台中预设的hdfs文件中。在本实施例中，该步骤首先利用大数据计算框架对数据库中庞大的数据量进行数据提取，提高数据更新的效率，接着在获得每一个目标列表的时候，为了提升数据更新的效率，利用预设的字符串匹配算法计算目标编码列表的编码与数据更新请求中的编码的相似度，以此当相似度达到一定的阈值时，可判定其为目标编码列表，在提高数据更新效率的同时，保证了数据更新的准确度。在另一实施例中，所述服务器在每一次循环遍历中，通过预设的字符串匹配算法计算当前目标编码列表对应的数据编码与所述数据更新请求中的数据编码的字符串相似度的过程中，具体包括：将所述当前目标编码列表对应的数据编码进行二进制计算后得到第一编码矩阵；同时，以所述第一编码矩阵的第一行第一列的数值作为分母，以所述第一编码矩阵的最后一行最后一列的数值作为分子，形成第一空间转换系数；以所述第一空间转换系数为矩阵乘法的第一预设权重值，将所述第一编码矩阵计算转换为第一字符串；将所述数据更新请求中的数据编码进行二进制计算后得到第二编码矩阵；同时，以所述第二编码矩阵的最后一行最后一列的数值作为分母，以所述第二编码矩阵的第一行第一列的数值作为分子，形成第二空间转换系数；以所述第二空间转换系数为矩阵乘法的第二预设权重值，将所述第二编码矩阵计算转换为第二字符串；对所述第一字符串和所述第二字符串进行空间距离计算，得到空间距离值，根据所述空间距离值确定相似度。在考虑到数据库中存在的数据编码可能存在多维属性的问题，传统利用相似度计算的策略无法解决多维数据下的相似度精准识别。为了解决上述存在的问题，我们首先对当前目标编码所对应的数据编码进行二进制计算后可获得矩阵数列，即第一编码矩阵。这里采用的二进制计算策略是利用了二进制关于“0,1”的跳跃性计算，可以克服多维数据在层次上的分类，突破了数值换算上的空间限制。本步骤利用了“0，1”的二进制方式，可以精准地将多维数据正常地换算为编码矩阵。此时，我们随后通过矩阵乘法对编码矩阵进行计算得到字符串。而在使用矩阵乘法的过程中，由于在计算机中，一个矩阵实际上就是一个二维数组。一个n行m列的矩阵与一个m行p列的矩阵可以相乘，得到的结果是一个n行p列的矩阵，其中的第i行第j列位置上的数为第一个矩阵第i行上的m个数与第二个矩阵第j列上的m个数对应相乘后所得的m个乘积之和。比如一个2行2列的矩阵乘以2行3列的矩阵，其结果是一个2行3列的矩阵。为了令矩阵计算更加准确，我们通过大量实验得出，利用行列数值形成的分子分母对应的系数，可以对矩阵乘法得到的矩阵进行缩减，从而无限地缩小两个矩阵形成之后的字符串的误差。因此，我们在对第一编码矩阵换算成第一字符串的过程中，利用第一编码矩阵的最后一行最后一列的数值作为分子，形成第一空间转换系数；以第一空间转换系数为矩阵乘法的第一预设权重值，将第一编码矩阵计算转换为第一字符串。同理，利用上述执行步骤可以计算出数据更新请求中的数据编码所对应的第二字符串。可以理解的是，为了使得第一字符串和第二字符串之间避免重合，我们在计算第二字符串时，以第二编码矩阵的最后一行最后一列的数值作为分母，以第二编码矩阵的第一行第一列的数值作为分子，形成第二空间转换系数。最后，我们通过计算第一字符串和第二字符串之间的空间距离，即可完成相似度的精准计算。步骤103：所述服务器通过预设在所述大数据计算框架中的数据区分方法，根据数据来源对所述第一文件内的数据进行区分，生成若干个数据块。在本实施例中，该步骤主要包括：所述服务器通过预设在所述大数据计算框架中的哈希算法遍历所述第一文件中的每一个数据，并根据所述每一个数据的数据来源分别生成所述每一个数据分别对应的第一数据编码；所述服务器通过预设在所述大数据计算框架中的字符串截取算法对所述每一个数据的第一数据编码分别进行编码截取，获得所述每一个数据分别对应的第二数据编码；所述服务器通过所述大数据计算框架循环遍历所述每一个数据对应的第二数据编码，将第二数据编码相同的数据保存到同一个数据块，生成若干个数据块。示例性的，在本实施例中，以所述spark平台为例，通过预设在所述spark平台中的spark分区方法对hdfs文件内的数据进行分区，其中，所述spark分区方法包括利用预设的哈希算法循环遍历所述hdfs文件内的每一个数据，接着利用所述每一个数据对应的数据来源生成每一个数据对应的哈希值，根据所述哈希值作为当前数据对应的第一数据编码，接着为了提高数据分块的速度，将每一个数据对应的第一数据编码进行编码截取，包括利用预设的截取规则，通过字符串截取算法对每一个数据对应的第一数据编码进行编码截取，获得每一个数据对应的编码值，利用截取后的编码值进行数据分类，提高数据分类的效率。优选的，在获得每一个数据对应的截取后的编码值后，可调用预设在所述spark平台中的基于编程语言的移动文件API将编码值后两位相同的数据放到同一个数据块中，若当前搜索的数据没有存在对应的文件块对其进行保存时，则建立一个新的数据块对其进行保存，以此生成若干个不同数据来源对应的若干个数据块。在本实施例中，该步骤利用同一类型数据的不同数据来源将提取出的庞大的数据划分为若干个小的数据块，以使在后期数据同步更新时，降低一个数据更新任务中需要处理的数据量，提高数据同步更新的效率，同时根据数据来源将数据进行分块，便于以后维护人员进行数据查看时，分清数据来源，降低后期数据维护的成本。步骤104：所述服务器获取所述数据更新请求中的更新数据，并采用多线程技术同步解析所述若干个数据块，用所述更新数据替代所述数据块中的原始数据，并发送用户端数据同步更新成功响应信息。在本实施例中，该步骤主要包括：所述服务器获取所述数据块的数量，通过预设的多线程管理线池构建并同步执行与所述数据块的数量相同的若干个同步数据更新任务；在每一个同步数据更新任务中，所述服务器解析所述数据块获得所述数据块中包含的若干个原始数据，并用所述更新数据依次替换所述若干个原始数据中的每一个原始数据，获得数据更新后的数据块。示例性的，在本实施例中，所述服务器在获取所述若干个数据块的数量时，首先利用预设的多线程池构建与所述数据块的数量相同的若干个同步文件块更新任务，并在构建完所述若干个任务后，向所述多线程池发送执行指令，同时执行所述若干个同步任务，进一步的，在每一个步文件块更新任务中，所述服务器解析所述数据块，获得数据块中包含的若干个数据，然后利用数据更新请求中的更新数据替代数据块中的若干个数据中的原始数据，以此完成数据的更新。在本实施例中，在所述服务器中定义了线程池，所述线程池中设置核心线程数和最大线程数数量，当所述同步文件块更新任务构建完毕后，使用所述线程池管理线程来并发执行所述多个同步文件块更新任务。在本实施例中，该步骤采用通过预设的线程池管理线池构建多线程任务，其中所述多线程任务包含与所述数据块数量相同的多个同步数据更新任务，在所述服务器执行所述多线程任务时，位于所述多线程管理线池中的多个任务同时进行，实现了数据同步更新任务，提高数据更新的同步率。另一方面，如图2所示，本发明实施例公开了一种服务器的数据同步更新系统，包括数据查询模块201、数据提取模块202、数据区分模块203及数据更新模块204。所述数据查询模块201用于服务器接收用户端发送的数据更新请求，并根据所述数据更新请求中的数据编码查询预设的数据编码表，判断是否存在所述数据编码。所述数据提取模块202用于若存在所述数据编码，所述服务器通过预设的大数据计算框架根据所述数据编码从预设的数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中。所述数据区分模块203用于所述服务器通过预设在所述大数据计算框架中的数据区分方法，根据数据来源对所述第一文件内的数据进行区分，生成若干个数据块。所述数据更新模块204用于所述服务器获取所述数据更新请求中的更新数据，并采用多线程技术同步解析所述若干个数据块，用所述更新数据替代所述数据块中的原始数据，并发送用户端数据同步更新成功响应信息。在本实施例中，所述数据查询模块201包括匹配单元及判定单元。所述匹配单元用于所述服务器通过将所述数据更新请求中的数据编码与所述数据编码表中保存的若干个第一数据编码分别进行比较，判断所述数据编码是否存在；所述数据编码表中记录若干个第一数据编码；所述第一数据编码包括同一类型的若干个原始数据。所述判定单元用于当所述数据编码与所述若干个第一数据编码中的某一个第一数据编码相同时，则所述服务器判定所述数据编码存在；当所述数据编码与所述若干个第一数据编码均不相同时，则所述服务器判定所述数据编码错误，并向所述用户端发送数据编码错误的信息提示。在本实施例中，所述数据提取模块202包括循环遍历单元、字符串匹配单元及提取单元。所述循环遍历单元用于所述服务器通过所述大数据计算框架循环遍历所述数据库，获得所述数据库中保存的每一个目标编码列表。所述字符串匹配单元用于所述服务器在每一次循环遍历中，通过预设的字符串匹配算法计算当前目标编码列表对应的数据编码与所述数据更新请求中的数据编码的字符串相似度。所述提取单元用于所述服务器在每一次循环遍历中，将所述字符串相似度与预设的相似度阈值进行比较，判断是否拉取当前循环遍历的目标编码列表；当所述字符串相似度大于或等于所述相似度阈值时，所述服务器则拉取当前循环遍历的目标编码列表，并停止所述循环遍历。在本实施例中，所述字符串匹配单元具体用于：将所述当前目标编码列表对应的数据编码进行二进制计算后得到第一编码矩阵；同时，以所述第一编码矩阵的第一行第一列的数值作为分母，以所述第一编码矩阵的最后一行最后一列的数值作为分子，形成第一空间转换系数；以所述第一空间转换系数为矩阵乘法的第一预设权重值，将所述第一编码矩阵计算转换为第一字符串；将所述数据更新请求中的数据编码进行二进制计算后得到第二编码矩阵；同时，以所述第二编码矩阵的最后一行最后一列的数值作为分母，以所述第二编码矩阵的第一行第一列的数值作为分子，形成第二空间转换系数；以所述第二空间转换系数为矩阵乘法的第二预设权重值，将所述第二编码矩阵计算转换为第二字符串；对所述第一字符串和所述第二字符串进行空间距离计算，得到空间距离值，根据所述空间距离值确定相似度。在本实施例中，所述数据区分模块203包括编码单元、截取单元及分类单元。所述编码单元用于所述服务器通过预设在所述大数据计算框架中的哈希算法遍历所述第一文件中的每一个数据，并根据所述每一个数据的数据来源分别生成所述每一个数据分别对应的第一数据编码。所述截取单元用于所述服务器通过预设在所述大数据计算框架中的字符串截取算法对所述每一个数据的第一数据编码分别进行编码截取，获得所述每一个数据分别对应的第二数据编码。所述分类单元用于所述服务器通过所述大数据计算框架循环遍历所述每一个数据对应的第二数据编码，将第二数据编码相同的数据保存到同一个数据块，生成若干个数据块。在本实施例中，所述数据更新模块204包括解析单元及更新单元。所述解析单元用于所述服务器获取所述数据块的数量，通过预设的多线程管理线池构建并同步执行与所述数据块的数量相同的若干个同步数据更新任务。所述更新单元用于在每一个同步数据更新任务中，所述服务器解析所述数据块获得所述数据块中包含的若干个原始数据，并用所述更新数据依次替换所述若干个原始数据中的每一个原始数据，获得数据更新后的数据块。本发明实施例公开的一种服务器的数据同步更新方法及系统，首先服务器获取用户端发送的数据更新请求，根据所述数据更新请求中的数据编码从预设的数据编码表中查询所述数据编码是否存在，以此根据所述数据编码判断当前用户端发送的数据更新请求是否正确，避免无效查询，提高数据更新的效率，接着若所述数据编码表中存在所述数据编码后，首先利用预设的大数据计算框架从数据库中拉取所述数据编码对应的目标编码列表，并将所述目标编码列表中的若干个原始数据存入到预设的第一文件中，以此将数据库中与所述数据编码相同的即全部的待更新数据提取出，进而方便后期进行统一的同步数据更新，提高数据同步更新的效率，同时利用所述数据编码将待更新的数据进行提取，避免了人工进行数据识别，提高了数据同步更新的准确率，接着在本实施例中，再将待更新数据全部提出后，所述服务器利用所述大数据计算框架中设置的区分方法，根据数据来源将全部的数据区分为若干个数据块，然后根据所述数据更新请求中的更新数据，利用多线程技术同步解析所述若干个数据块，利用所述更新数据替代所述数据块中的原始数据，通过所述多线程同步技术，保证了数据同步更新，提高了数据同步更新的准确性。以上所述的具体实施例，对本发明的目的、技术方案和有益效果进行了进一步的详细说明，应当理解，以上所述仅为本发明的具体实施例而已，并不用于限定本发明的保护范围。特别指出，对于本领域技术人员来说，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
