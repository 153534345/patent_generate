标题title
基于图像分析的微生物计数方法、装置、设备及存储介质
摘要abst
本发明属于微生物学技术领域，解决了现有技术中菌落计数准确性差、效率低的问题，提供了一种基于图像分析的微生物计数方法、装置、设备及存储介质。包括为每一个待计数的菌落样本设置第一相机和多个第二相机，当需要对菌落样本的菌落进行计数时，先通过第一相机获取菌落样本的第一图像，基于该第一图像确定出各菌落位置，进而依据第一图像中菌落位置来设置调节各第二相机的拍摄参数，以便各第二相机有针对性的获取对应菌落图像，得到菌落高质量的各第二图像，然后基于该各第二图像进行菌落数量计算，提高菌落培养的数据准确性。
权利要求书clms
1.一种基于图像分析的微生物计数方法，其特征在于，为同一菌落样本配置一个第一相机和多个第二相机，所述菌落样本包括至少一个菌落，所述方法包括：S1：获取菌落样本对应的第一图像，其中，所述第一图像为第一相机在第一时刻拍摄的所述菌落样本的全景图；S2：在所述第一图像中标记出各个菌落的位置，得到第一目标图像；S3：根据所述第一目标图像中各个菌落的位置信息和各所述第二相机的位置参数，确定各所述第二相机的拍摄参数；S4：根据所述拍摄参数，在第二时刻利用各所述第二相机获取菌落样本的第二图像；S5：根据各所述第二图像进行菌落计数，得到所述菌落样本所包含的微生物数量。2.根据权利要求1所述的基于图像分析的微生物计数方法，其特征在于，所述S1包括：S11：获取菌落培养周期内对应的各菌落计数阶段；S12：基于各所述菌落计数阶段对应的各所述第二时刻，确定与各所述第二时刻对应的各所述第一时刻，其中，所述第一时刻先于所述第二时刻；S13：在各所述菌落计数阶段基于对应的所述第一时刻，控制所述第一相机获取所述菌落样本的所述第一图像。3.根据权利要求1所述的基于图像分析的微生物计数方法，其特征在于，所述S2包括：S21：获取所述第一图像的灰度图和灰度变化阈值，其中，所述灰度变化阈值用于区分不同菌落对应的分布区域；S22：根据所述灰度变化阈值将所述灰度图划分为多个区域图像；S23：根据各所述区域图像的坐标信息，将多个所述区域图像整合为与所述第二相机数量相对应的所述第一目标图像。4.根据权利要求3所述的基于图像分析的微生物计数方法，其特征在于，所述S23包括：S231：获取在所述第一图像中各所述第二相机的第一焦点坐标，其中，所述第一焦点坐标为所述第二相机初始位置的焦点坐标；S232：根据各所述第一焦点坐标和各所述区域图像的坐标信息，将各所述区域图像按各所述第二相机拍摄范围进行整合，得到所述第一目标图像。5.根据权利要求4所述的基于图像分析的微生物计数方法，其特征在于，所述S232包括：S2321：获取各所述区域图像的第一坐标信息，其中，所述第一坐标信息为所述区域图像的参考点的坐标；S2322：计算各所述第一坐标信息和各所述第一焦点坐标的直线距离，得到各所述区域图像与各所述第二相机的连线距离；S2323：根据各所述连线距离，在所述第一图像中划分各所述第二相机的拍摄范围，得到所述第一目标图像。6.根据权利要求3至5任一项所述的基于图像分析的微生物计数方法，其特征在于，所述S3包括：S31：根据各所述区域图像中菌落位置，确定各所述区域图像的参考点坐标；S32：基于各所述参考点坐标和各所述第二相机的位置参数，确定与各所述参考点坐标对应的所述第二相机的拍摄参数；其中，所述拍摄参数包括将所述第二相机的拍摄位置调节至目标拍摄位置，所述目标拍摄位置与对应的各所述参考点坐标相适配。7.根据权利要求1所述的基于图像分析的微生物计数方法，其特征在于，所述S5包括：S51：获取各所述第二图像和各第二模拟图像，其中，所述第二模拟图像为计算机模拟各所述第二相机拍摄对应的拍摄范围图；S52：基于各所述第二模拟图像对各所述第二图像进行修正，得到第二目标图像；S53：根据所述第二目标图像，计算所述菌落样本所包含的微生物数量。8.一种基于图像分析的微生物计数装置，其特征在于，为同一菌落样本配置一个第一相机和多个第二相机，所述菌落样本包括至少一个菌落，包括：第一图像采集模块：用于获取菌落样本对应的第一图像，其中，所述第一图像为第一相机在第一时刻拍摄的所述菌落样本的全景图；第一目标标记模块：用于在所述第一图像中标记出各个菌落的位置，得到第一目标图像；第一相机调整模块：用于根据所述第一目标图像中各个菌落的位置信息和各所述第二相机的位置参数，确定各所述第二相机的拍摄参数；第二图像采集模块：用于根据所述拍摄参数，在第二时刻利用各所述第二相机获取菌落样本的第二图像；菌落计数模块：用于根据各所述第二图像进行菌落计数，得到所述菌落样本所包含的微生物数量。9.一种电子设备，其特征在于，包括：至少一个处理器、至少一个存储器以及存储在所述存储器中的计算机程序指令，当所述计算机程序指令被所述处理器执行时实现如权利要求1-7中任一项所述的方法。10.一种存储介质，其上存储有计算机程序指令，其特征在于，当所述计算机程序指令被处理器执行时实现如权利要求1-7中任一项所述的方法。
说明书desc
技术领域本发明涉及微生物学技术领域，尤其涉及一种基于图像分析的微生物计数方法、装置、设备及存储介质。背景技术微生物包括细菌、病毒、真菌以及一些小型的原生生物、后生动物、藻类等在内的一大类生物群体，虽然微生物的个体微小，但是与人类关系密切，因为其涵盖有益跟有害的众多种类，因此，微生物被广泛涉及食品、医药、工农业、环保等诸多领域，进而对微生物进行观察和统计具有重要的意义。菌落培养过程中需要人员定时跟踪观察，菌落的数量依靠人工计数，通过人员定时跟踪观察来检查菌落的生长情况，待形成可见的菌落后进行计数，因人工观察的时效性较差、菌落蔓延、重叠、以及检测人员视觉疲劳或操作失误，从而导致微生物辨识或统计错误的问题。发明内容有鉴于此，本发明实施例提供了一种基于图像分析的微生物计数方法、装置、设备及存储介质，用以解决现有技术中菌落计数准确性差、效率低的问题。本发明采用的技术方案是：一方面，本发明提供了一种基于图像分析的微生物计数方法，为同一菌落样本配置一个第一相机和多个第二相机，所述菌落样本包括至少一个菌落，所述方法包括：S1：获取菌落样本对应的第一图像，其中，所述第一图像为第一相机在第一时刻拍摄的所述菌落样本的全景图；S2：在所述第一图像中标记出各个菌落的位置，得到第一目标图像；S3：根据所述第一目标图像中各个菌落的位置信息和各所述第二相机的位置参数，确定各所述第二相机的拍摄参数；S4：根据所述拍摄参数，在第二时刻利用各所述第二相机获取菌落样本的第二图像；S5：根据各所述第二图像进行菌落计数，得到所述菌落样本所包含的微生物数量。优选地，所述S1包括：S11：获取菌落培养周期内对应的各菌落计数阶段；S12：基于各所述菌落计数阶段对应的各所述第二时刻，确定与各所述第二时刻对应的各所述第一时刻，其中，所述第一时刻先于所述第二时刻；S13：在各所述菌落计数阶段基于对应的所述第一时刻，控制所述第一相机获取所述菌落样本的所述第一图像。优选地，所述S2包括：S21：获取所述第一图像的灰度图和灰度变化阈值，其中，所述灰度变化阈值用于区分不同菌落对应的分布区域；S22：根据所述灰度变化阈值将所述灰度图划分为多个区域图像；S23：根据各所述区域图像的坐标信息，将多个所述区域图像整合为与所述第二相机数量相对应的所述第一目标图像。优选地，所述S23包括：S231：获取在所述第一图像中各所述第二相机的第一焦点坐标，其中，所述第一焦点坐标为所述第二相机初始位置的焦点坐标；S232：根据各所述第一焦点坐标和各所述区域图像的坐标信息，将各所述区域图像按各所述第二相机拍摄范围进行整合，得到所述第一目标图像。优选地，所述S232包括：S2321：获取各所述区域图像的第一坐标信息，其中，所述第一坐标信息为所述区域图像的参考点的坐标；S2322：计算各所述第一坐标信息和各所述第一焦点坐标的直线距离，得到各所述区域图像与各所述第二相机的连线距离；S2323：根据各所述连线距离，在所述第一图像中划分各所述第二相机的拍摄范围，得到所述第一目标图像。优选地，所述S3包括：S31：根据各所述区域图像中菌落位置，确定各所述区域图像的参考点坐标；S32：基于各所述参考点坐标和各所述第二相机的位置参数，确定与各所述参考点坐标对应的所述第二相机的拍摄参数；其中，所述拍摄参数包括将所述第二相机的拍摄位置调节至目标拍摄位置，所述目标拍摄位置与对应的各所述参考点坐标相适配。优选地，所述S5包括：S51：获取各所述第二图像和各第二模拟图像，其中，所述第二模拟图像为计算机模拟各所述第二相机拍摄对应的拍摄范围图；S52：基于各所述第二模拟图像对各所述第二图像进行修正，得到第二目标图像；S53：根据所述第二目标图像，计算所述菌落样本所包含的微生物数量。另一方面，本发明还提供了一种基于图像分析的微生物计数装置，为同一菌落样本配置一个第一相机和多个第二相机，所述菌落样本包括至少一个菌落，包括：第一目标标记模块：用于在所述第一图像中标记出各个菌落的位置，得到第一目标图像；第一相机调整模块：用于根据所述第一目标图像中各个菌落的位置信息和各所述第二相机的位置参数，确定各所述第二相机的拍摄参数；第二图像采集模块：用于根据所述拍摄参数，在第二时刻利用各所述第二相机获取菌落样本的第二图像；菌落计数模块：用于根据各所述第二图像进行菌落计数，得到所述菌落样本所包含的微生物数量。另一方面，本发明还提供了一种电子设备，包括：至少一个处理器、至少一个存储器以及存储在所述存储器中的计算机程序指令，当所述计算机程序指令被所述处理器执行时实现上述任一项所述的方法。另一方面，本发明还提供了一种介质，其上存储有计算机程序指令，当所述计算机程序指令被处理器执行时实现上述任一项所述的方法。综上所述，本发明的有益效果如下：本发明提供的基于图像分析的微生物计数方法、装置、设备及存储介质，包括为每一个待计数的菌落样本设置第一相机和多个第二相机，当需要对菌落样本的菌落进行计数时，先通过第一相机获取菌落样本的第一图像，基于该第一图像确定出各菌落位置，进而依据第一图像中菌落位置来设置调节各第二相机的拍摄参数，以便各第二相机有针对性的获取对应区域的菌落图像，得到菌落高质量的各第二图像，然后基于该各第二图像进行菌落或微生物数量统计，有利于提高菌落培养的数据准确性，以及便于挑选优质菌株。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例中所需要使用的附图作简单地介绍，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图，这些均在本发明的保护范围内。图1为本发明实施例1中获取基于图像分析的微生物计数方法的流程示意图；图2为本发明实施例1中获取菌落样本的预拍摄图像的流程示意图；图3为本发明实施例1中第一时刻由第一相机采集的菌落样本示意图；图4为本发明实施例1中基于第一图像的菌落分区示意图；图5为本发明实施例1中菌落区域与各第二相机初始焦点的示意图；图6为本发明实施例1中基于第二相机采样范围的菌落整合示意图；图7为本发明实施例1中由各第二相机采集用于菌落计数的菌落示意图；图8为本发明实施例1中获取基于各菌落区域图像进行整合的流程示意图；图9为本发明实施例1中获取各第二相机的拍摄参数的流程示意图；图10为本发明实施例1中获取基于第二目标图像计算菌落数量的流程示意图；图11为本发明实施例2中基于图像分析的微生物计数装置结构示意图；图12为本发明实施例3中的电子设备的结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。在本发明的描述中，需要理解的是，术语“中心”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本申请和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。如果不冲突，本发明以及实施例中的各个特征可以相互结合，均在本发明的保护范围之内。在菌落培养过程中，为了更好的掌握菌落培养情况，对每一个菌落样本设置第一相机和多个第二相机，将菌落培养周期划分为多个培养阶段，基于前一培养阶段菌落培养情况优化下一阶段菌落培养条件，例如温度、湿度和光照的调节；在每一个培养阶段对应的菌落计数时，在第一时刻利用第一相机获取菌落全貌图，通过该全貌图确定菌落位置，然后将各第二相机调节至与菌落相适配的拍摄位置，当到了菌落计数对应的第二时刻由各第二相机获取菌落图像，基于第二相机拍摄的菌落图像进行计数；本发明通过第一相机进行菌落定位，然后调节第二相机拍摄位置，可以提高第二相机拍摄的菌落图像的图像质量，进而提高菌落计数准确性。实施例1请参见图1，图1为本发明实施例1中基于图像分析的微生物计数方法，为任一菌落样本配置第一相机和多个第二相机，所述菌落样本包括至少一个菌落，所述方法包括：S1：获取菌落样本对应的第一图像，其中，所述第一图像为第一相机在第一时刻拍摄的所述菌落样本的全景图；具体的，当即将进入菌落培养周期中的下一计数阶段对应的第一时刻，控制第一相机获取待计数菌落样本的菌落图像记为第一图像，该第一图像为菌落样本的全貌图，需要说明的是：第一相机为固定相机，其焦距不会因为菌落样本的初始差异而差异化设置，也即同一个菌落样本在培养周期中的多个阶段对应的第一图像的图像范围相同，和/或，同一位置不同时期的菌落样本在培养周期各阶段对应的第一图像的图像范围相同或差异小于图像区域变化阈值。S2：在所述第一图像中标记出各个菌落的位置，得到第一目标图像；具体的，将第一时刻由第一相机拍摄的第一图像在计算机上显示，并在第一图像中标记出各菌落的位置信息，位置信息包括参考点坐标、边缘点坐标，其中，边缘点坐标为任意菌落在第一图像中的成像图形的边界点坐标或端点坐标，参考点坐标为成像图形的中心点坐标，参考点坐标还可以是菌落中微生物数量集中点坐标，菌落坐标不限于上述形式，还可以是研发人员熟知的有利于菌落计数的其他位置坐标。S3：根据所述第一目标图像中各个菌落的位置信息和各所述第二相机的位置参数，确定各所述第二相机的拍摄参数；具体的，根据第一目标图像中菌落的位置信息和各第二相机的位置参数，位置参数包括第二相机的第一焦点位置和第二相机的焦距，第一焦点位置为第二相机初始位置焦点对应的在第一目标图像中的等效位置；然后确定出各第二相机在第二时刻时的拍摄位置的调节参数，第一焦点位置不限于第二相机初始位置时焦点的位置，还可以是前一阶段第二相机拍摄菌落图像时焦点的位置，对于第一焦点位置的选择，技术人员可以根据培养具体情况进行选择，此处不做具体限定。S4：根据所述拍摄参数，在第二时刻利用各所述第二相机获取菌落样本的第二图像；S5：根据各所述第二图像进行菌落计数，得到所述菌落样本所包含的微生物数量。具体的，各相机的拍摄参数用于指导各第二相机的拍摄位置和相机参数的调节，以提高各第二相机拍摄区域内菌落成像的图像质量，并在第二时刻利用各第二相机采集对应区域内菌落对应的各第二图像，然后统计所有第二图像中菌落的微生物数量，确定菌落样本中当前阶段对应的菌株培养信息，通过该方式可以提高用于菌落或菌株统计样本质量，便于后期挑选优质菌株。本发明提供的基于图像分析的微生物计数方法，包括为每一个待计数的菌落样本设置第一相机和多个第二相机，当需要对菌落样本的菌落进行计数时，先通过第一相机获取菌落样本的第一图像，基于该第一图像确定出各菌落位置，进而依据第一图像中菌落位置来设置调节各第二相机的拍摄参数，以便各第二相机有针对性的获取对应区域的菌落图像，得到菌落高质量的各第二图像，然后基于该各第二图像进行菌落或微生物数量统计，有利于提高菌落培养的数据准确性，以及便于挑选优质菌株。在一实施例中，请参见图2，所述S1包括：S11：获取菌落培养周期内对应的各菌落计数阶段；S12：基于各所述菌落计数阶段对应的各第二时刻，确定与各所述第二时刻对应的各所述第一时刻，其中，所述第一时刻先于所述第二时刻；S13：在各所述菌落计数阶段基于对应的所述第一时刻，控制所述第一相机获取所述菌落样本的所述第一图像。具体的，将菌落培养周期分为多个阶段，在菌落培养的任一阶段均需要采集菌落图像，依据菌落图像进行菌落计数，从而确定当前阶段菌落培养情况，后一阶段依据前一阶段的培养情况进行培养环境调整，从而优化菌落培养的培养条件，促使提高菌落培养成功率和菌株质量；基于菌落培养周期的各菌落计数阶段，对各菌落计数阶段设置对应的第二时刻，并基于各第二时刻设置第一时刻，在第一时刻利用第一相机获取菌落样本全景图对应的第一图像，在第二时刻利用各第二相机获取菌落样本中对应区域内菌落的各第二图像。在一实施例中，请参见图3，所述S2包括：S21：获取所述第一图像的灰度图和灰度变化阈值，其中，所述灰度变化阈值用于区分不同菌落对应的分布区域；S22：根据所述灰度变化阈值将所述灰度图划分为多个区域图像；S23：根据各所述区域图像的坐标信息，将多个所述区域图像整合为与所述第二相机数量相对应的所述第一目标图像。具体的，对第一图像进行灰度处理生成第一灰度图；请参见图3和图4，图3为第一图像的灰度图，图4为基于预设的灰度变化阈值将第一灰度图划分为与各菌落区域对应的多个区域图像；请参见图5，图5为每个菌落样本设置4个第二相机，分别记为相机A、相机B、相机C和相机D，根据各菌落对应的区域图像的位置关系，确定各第二相机的拍摄范围，请参见图6，也即将多个区域图像整合为一个区域作为对应第二相机的拍摄范围，从而得到与各第二相机拍摄范围对应的第一目标图像。需要说明的是：灰度变化阈值为连续多个像素点的像素值等于背景像素值时，将第一个等于背景像素值的像素点位置记为当前菌落的边界位置。在一实施例中，所述S23包括：S231：获取在所述第一图像中各所述第二相机的第一焦点坐标，其中，所述第一焦点坐标为所述第二相机初始位置的焦点坐标；S232：根据各所述第一焦点坐标和各所述区域图像的坐标信息，将各所述区域图像按各所述第二相机拍摄范围进行整合，得到所述第一目标图像。具体的，请参见图5和图6，将第二相机初始位置的焦点坐标记为第一焦点坐标；相机A的第一焦点坐标记为第一焦点坐标A，相机B的第一焦点坐标记为第一焦点坐标B，相机C的第一焦点坐标记为第一焦点坐标C，相机D的第一焦点坐标记为第一焦点坐标D，各第二相机的初始焦点位置预先存储在计算机中，当接收到第一相机拍摄的第一图像后，调取预先存储的各第二相机初始焦点位置至第一图像或其第一灰度图中，基于各第二相机的第一焦点坐标确定各第二相机的最佳拍摄范围，进而根据各第二相机的最佳拍摄范围对各菌落区域进行整合，得到整合后的第一目标图像。在一实施例中，当确定各第二相机的拍摄范围后，需要根据拍摄要求调解第二相机的相机参数，使得第二相机能够获得高质量的第二图像，在对第二相机进行调节前，需要对各第二相机的位置进行初始化校验，在第二相机恢复初始参数时，再基于对应的拍摄参数调节各第二相机；通过引入第二相机初始焦点的坐标来设置第二相机的拍摄参数，可以增加第二相机调节的冗余，保证第二相机的调节效果。需要说明的是，第一焦点坐标不限于初始焦点的位置坐标，还可以是其他具有同等效果的方案，如各第二相机当前焦点的焦点坐标，然后基于第二相机当前位置进行调节，此处对于第一焦点坐标的选择不做具体限定。在一实施例中，所述S232包括：S2321：获取各所述区域图像的第一坐标信息，其中，所述第一坐标信息为所述区域图像的参考点的坐标；S2322：计算各所述第一坐标信息和各所述第一焦点坐标的直线距离，得到各所述区域图像与各所述第二相机的连线距离；S2323：根据各所述连线距离，在所述第一图像中划分各所述第二相机的拍摄范围，得到所述第一目标图像。具体的，基于第一图像建立坐标系，在第一图像中对各菌落的参考点进行标注，得到代表各菌落位置的参考点对应的第一坐标信息，计算各参考点与各第二相机当前焦点的连线距离，基于各参考点与各第二相机当前焦点的连线距离，将多个菌落的成像范围与各第二相机对应的拍摄范围进行关联，得到第一目标图像；也即基于各连线距离来划分各第二相机的有效拍摄范围，保证各菌落的成像质量，如图7所示；从而提高菌落计数所用样本的质量，提高菌落计数准确性。在一实施例中，请参见图9，所述S3包括：S31：根据各所述区域图像中菌落位置，确定各所述区域图像的参考点坐标；S32：基于各所述参考点坐标和各所述第二相机的位置参数，确定与各所述参考点坐标对应的所述第二相机的拍摄参数；其中，所述拍摄参数包括将所述第二相机的拍摄位置调节至目标拍摄位置，所述目标拍摄位置与对应的各所述参考点坐标相适配。具体的，在各菌落对应的区域图像中，确定代表该菌落位置的参考点坐标，基于各参考点坐标和各第二相机的位置参数，确定各第二相机的拍摄参数，该拍摄参数包括第二相机拍摄指定区域菌落时需要调节的相机参数，以便将第二相机的拍摄位置调节至与参考点坐标相适配的目标参考位置，相机参数包括：拍摄范围、焦点、焦距等。在一实施例中，请参见图10，所述S5包括：S51：获取各所述第二图像和各第二模拟图像，其中，所述第二模拟图像为计算机模拟各所述第二相机拍摄对应的拍摄范围图；S52：基于各所述第二模拟图像对各所述第二图像进行修正，得到第二目标图像；S53：根据所述第二目标图像，计算所述菌落样本所包含的微生物数量。具体的，当基于第一目标图像确定各第二相机的拍摄范围后，基于各第二相机拍摄范围内对应的菌落区域的边界坐标生成第二模拟图像，其中，第二模拟图像为菌落成像图形对应的边界范围图，用于确定第二图像的有效图像范围；当各第二相机在第二时刻采集到对应区域菌落的第二图像后，利用与各第二图像对应的第二模拟图像进行第二图像的有效区域核实，将确定有效区域后的各第二图像整合为第二目标图像；然后基于该第二目标图像计算菌落包含的微生物数量，菌落技术方法可以选择常用的八邻域边缘跟踪法检测菌落边缘并利用连通区域计数法进行菌落计数。本发明提供的基于图像分析的微生物计数方法，包括为每一个待计数的菌落样本设置第一相机和多个第二相机，当需要对菌落样本的菌落进行计数时，先通过第一相机获取菌落样本的第一图像，基于该第一图像确定出各菌落位置，进而依据第一图像中菌落位置来设置调节各第二相机的拍摄参数，以便各第二相机有针对性的获取对应区域的菌落图像，得到菌落高质量的各第二图像，然后基于该各第二图像进行菌落或微生物数量统计，有利于提高菌落培养的数据准确性，以及便于挑选优质菌株。实施例2请参见图11，本发明基于实施例1的基于图像分析的微生物计数方法还提供了一种基于图像分析的微生物计数装置，为同一菌落样本配置一个第一相机和多个第二相机，所述菌落样本包括至少一个菌落，包括：第一图像采集模块：用于获取菌落样本对应的第一图像，其中，所述第一图像为第一相机在第一时刻拍摄的所述菌落样本的全景图；第一目标标记模块：用于在所述第一图像中标记出各个菌落的位置，得到第一目标图像；第一相机调整模块：用于根据所述第一目标图像中各个菌落的位置信息和各所述第二相机的位置参数，确定各所述第二相机的拍摄参数；第二图像采集模块：用于根据所述拍摄参数，在第二时刻利用各所述第二相机获取菌落样本的第二图像；菌落计数模块：用于根据各所述第二图像进行菌落计数，得到所述菌落样本所包含的微生物数量。本发明提供的基于图像分析的微生物计数方法，包括为每一个待计数的菌落样本设置第一相机和多个第二相机，当需要对菌落样本的菌落进行计数时，先通过第一相机获取菌落样本的第一图像，基于该第一图像确定出各菌落位置，进而依据第一图像中菌落位置来设置调节各第二相机的拍摄参数，以便各第二相机有针对性的获取对应区域的菌落图像，得到菌落高质量的各第二图像，然后基于该各第二图像进行菌落或微生物数量统计，有利于提高菌落培养的数据准确性，以及便于挑选优质菌株。在一实施例中，所述第一图像采集模块包括：获取计数信息单元：获取菌落培养周期内对应的各菌落计数阶段；第一时间单元：基于各所述菌落计数阶段对应的各所述第二时刻，确定与各所述第二时刻对应的各所述第一时刻，其中，所述第一时刻先于所述第二时刻；第一图像单元：在各所述菌落计数阶段基于对应的所述第一时刻，控制所述第一相机获取所述菌落样本的所述第一图像。在一实施例中，所述第一目标标记模块包括：参数获取单元：获取所述第一图像的灰度图和灰度变化阈值，其中，所述灰度变化阈值用于区分不同菌落对应的分布区域；区域划分单元：根据所述灰度变化阈值将所述灰度图划分为多个区域图像；区域整合单元：根据各所述区域图像的坐标信息，将多个所述区域图像整合为与所述第二相机数量相对应的所述第一目标图像。在一实施例中，所述区域整合单元包括：焦点信息单元：获取在所述第一图像中各所述第二相机的第一焦点坐标，其中，所述第一焦点坐标与所述第二相机当前焦点在菌落样本中位置等价；距离整合单元：根据各所述第一焦点坐标和各所述区域图像的坐标信息，将各所述区域图像按各所述第二相机拍摄范围进行整合，得到所述第一目标图像。在一实施例中，所述距离整合单元S232包括：第一坐标单元：获取各所述区域图像的第一坐标信息，其中，所述第一坐标信息为所述区域图像的参考点的坐标；坐标处理单元：计算各所述第一坐标信息和各所述第一焦点坐标的直线距离，得到各所述区域图像与各所述第二相机的连线距离；距离分配单元：根据各所述连线距离，在所述第一图像中划分各所述第二相机的拍摄范围，得到所述第一目标图像。在一实施例中，所述第一相机调整模块S3包括：参数处理单元：根据各所述区域图像中菌落位置，确定各所述区域图像的参考点坐标；参数核准单元：基于各所述参考点坐标和各所述第二相机的位置参数，确定与各所述参考点坐标对应的所述第二相机的拍摄参数；其中，所述拍摄参数用于将所述第二相机的拍摄位置调节至目标拍摄位置，所述目标拍摄位置与对应的各所述参考点坐标相适配。在一实施例中，所述菌落计数单元包括：图像获取单元：获取各所述第二图像和各第二模拟图像，其中，所述第二模拟图像为计算机模拟各所述第二相机拍摄对应的拍摄范围图；图像修正单元：基于各所述第二模拟图像对各所述第二图像进行修正，得到第二目标图像；菌落计算单元：根据所述第二目标图像，计算所述菌落样本所包含的微生物数量。本发明提供的一种基于图像分析的微生物计数装置，包括为每一个待计数的菌落样本设置第一相机和多个第二相机，当需要对菌落样本的菌落进行计数时，先通过第一相机获取菌落样本的第一图像，基于该第一图像确定出各菌落位置，进而依据第一图像中菌落位置来设置调节各第二相机的拍摄参数，以便各第二相机有针对性的获取对应区域的菌落图像，得到菌落高质量的各第二图像，然后基于该各第二图像进行菌落或微生物数量统计，有利于提高菌落培养的数据准确性，以及便于挑选优质菌株。实施例3本发明提供了一种电子设备和存储介质，请参见图12，包括至少一个处理器、至少一个存储器以及存储在所述存储器中的计算机程序指令。具体地，上述处理器可以包括中央处理器，或者特定集成电路，或者可以被配置成实施本发明实施例的一个或多个集成电路，电子设备至少包括以下之一：计算机、移动终端、PC、平板电脑等。存储器可以包括用于数据或指令的大容量存储器。举例来说而非限制，存储器可包括硬盘驱动器、软盘驱动器、闪存、光盘、磁光盘、磁带或通用串行总线驱动器或者两个或更多个以上这些的组合。在合适的情况下，存储器可包括可移除或不可移除的介质。在合适的情况下，存储器可在数据处理装置的内部或外部。在特定实施例中，存储器是非易失性固态存储器。在特定实施例中，存储器包括只读存储器。在合适的情况下，该ROM可以是掩模编程的ROM、可编程ROM、可擦除PROM、电可擦除PROM、电可改写ROM或闪存或者两个或更多个以上这些的组合。处理器通过读取并执行存储器中存储的计算机程序指令，以实现上述实施例方式一中任意一种基于图像分析的微生物计数方法。在一个示例中，电子设备还可包括通信接口和总线。其中，处理器、存储器、通信接口通过总线连接并完成相互间的通信。通信接口，主要用于实现本发明实施例中各模块、装置、单元和/或设备之间的通信。总线包括硬件、软件或两者，将电子设备的部件彼此耦接在一起。举例来说而非限制，总线可包括加速图形端口或其他图形总线、增强工业标准架构总线、前端总线、超传输互连、工业标准架构总线、无限带宽互连、低引脚数总线、存储器总线、微信道架构总线、外围组件互连总线、PCI-Express总线、串行高级技术附件总线、视频电子标准协会局部总线或其他合适的总线或者两个或更多个以上这些的组合。在合适的情况下，总线可包括一个或多个总线。尽管本发明实施例描述和示出了特定的总线，但本发明考虑任何合适的总线或互连。需要明确的是，本发明并不局限于上文所描述并在图中示出的特定配置和处理。为了简明起见，这里省略了对已知方法的详细描述。在上述实施例中，描述和示出了若干具体的步骤作为示例。但是，本发明的方法过程并不限于所描述和示出的具体步骤，本领域的技术人员可以在领会本发明的精神后，作出各种改变、修改和添加，或者改变步骤之间的顺序。以上所述的结构框图中所示的功能块可以实现为硬件、软件、固件或者它们的组合。当以硬件方式实现时，其可以例如是电子电路、专用集成电路、适当的固件、插件、功能卡等等。当以软件方式实现时，本发明的元素是被用于执行所需任务的程序或者代码段。程序或者代码段可以存储在机器可读介质中，或者通过载波中携带的数据信号在传输介质或者通信链路上传送。“机器可读介质”可以包括能够存储或传输信息的任何介质。机器可读介质的例子包括电子电路、半导体存储器设备、ROM、闪存、可擦除ROM、软盘、CD-ROM、光盘、硬盘、光纤介质、射频链路，等等。代码段可以经由诸如因特网、内联网等的计算机网络被下载。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围。
