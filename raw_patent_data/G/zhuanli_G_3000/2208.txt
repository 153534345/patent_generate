标题title
基于毫米波圆柱校准体算法系统的通道校准方法及系统
摘要abst
本发明提出了基于毫米波圆柱校准体算法系统的通道校准方法及系统，该方法包括：将牛顿迭代法和距离向自适应加窗函数技术相结合，以提取圆柱校准体回波有效信号为准则，迭代出收发阵元位置至圆柱校准体的距离，进一步完成收发阵元通道间及通道内幅度相位一致性校正。本发明实施例的技术方案一方面适用于一维线阵扫描体制、两维电扫体制等扫描体制，可以应用于两维稀疏面阵构型、线阵构型、折叠阵列构型、弧形阵列等构型，适用场景更宽，同时，采用牛顿迭代法计算精度更高，效率更快，通过自适应加窗技术，限制了杂波干扰，通过幅度和相位均衡化技术，后续图像动态更高，并且外场携带方便，更适合毫米波人体安检应用场景中。
权利要求书clms
1.一种基于毫米波圆柱校准体算法系统的通道校准方法，其特征在于，应用于毫米波人体安检仪，所述毫米波人体安检仪包括收发阵列，所述收发阵列包括多个发射阵元和多个接收阵元，所述收发阵列的阵面前方中心位置放置有圆柱校准体，所述圆柱校准体的高度覆盖所述收发阵元的高度范围，所述基于毫米波圆柱校准体算法系统的通道校准方法包括以下步骤：S1，确定待校准频段，所述发射阵元根据所述待校准频段发射射频信号；S2，接收阵元接收背景回波数据和圆柱校准体回波数据；S3，根据牛顿迭代法确定通道收发阵元距离，所述通道收发阵元距离为每个收发阵元到所述圆柱校准体反射面的最短距离；S4，确定背景对消信号，所述背景对消信号为所述圆柱校准体回波数据与所述背景回波数据之差；S5，对所述背景对消信号进行逆傅里叶变换，得到脉压信号；S6，在所述脉冲信号的距离向获取每组收发通道的幅值和最大值索引，基于预设的自适应加窗函数对所述每组收发通道的幅值和最大值索引进行自适应加窗处理，得到脉压信号；S7，对所述脉压信号进行傅里叶变换获得频域信号；S8，获取通道间幅度校正参数和预设的幅度校正因子，所述通道间幅度校正参数为每组收发通道的频率维度功率的倒数；S9，确定通道内校正参数，所述通道内校正参数为收发通道距离的相位及通道自身相位的共轭；S10,将每个所述收发阵元距离的相位与所述频域信号的相位进行共轭相乘，获得的结果与所述幅度校正因子相乘，完成通道内及通道间幅度和相位的校正。2.根据权利要求1所述的基于毫米波圆柱校准体算法系统的通道校准方法，其特征在于，所述圆柱校准体的直径为200mm，所述圆柱校准体的中心与收发阵列的阵面中心距离范围为0.5至0.8m。3.根据权利要求1所述的基于毫米波圆柱校准体算法系统的通道校准方法，其特征在于，所述牛顿迭代法的表达式为所述通道收发阵元距离的表达式为：Ri,j＝Rt+Rr，其中，i为发射通道索引，j为接收通道索引，为发射阵元坐标，为接收阵元坐标、为圆柱校准体中心坐标，Rt为发射阵元坐标到圆柱校准体反射面距离，Rr为接收阵元坐标到圆柱校准体反射面距离，Ri,j为发射阵元坐标到圆柱校准体反射面距离和接收阵元坐标到圆柱校准体反射面距离之和，θn为第n次平面迭代的方位角，θn+1为第n+1次平面迭代的方位角，hn为第n次迭代的高度向大小，hn+1为第n+1次迭代的高度向大小，表示雅可比矩阵，H为收发通道的索引最大值。5.根据权利要求1所述的基于毫米波圆柱校准体算法系统的通道校准方法，其特征在于，所述背景对消信号的表达式为：pSigCalF＝pSigCalF-pSiBackF，其中，pSigCalF为所述圆柱校准体回波数据，pSigBackF为所述背景回波数据，其中i代表发射通道索引，j代表接收通道索引，f代表频点索引。6.根据权利要求5所述的基于毫米波圆柱校准体算法系统的通道校准方法，其特征在于，所述幅度校正因子的表达式为：7.根据权利要求5所述的基于毫米波圆柱校准体算法系统的通道校准方法，其特征在于，通道内校正因子的表达式为：其中，f∈，c为光速。8.一种基于毫米波圆柱校准体算法系统的通道校准系统，其特征在于，包括至少一个控制处理器和用于与所述至少一个控制处理器通信连接的存储器；所述存储器存储有可被所述至少一个控制处理器执行的指令，所述指令被所述至少一个控制处理器执行，以使所述至少一个控制处理器能够执行如权利要求1至7任一项所述的基于毫米波圆柱校准体算法系统的通道校准方法。9.一种电子设备，其特征在于，包括权利要求8所述的基于毫米波圆柱校准体算法系统的通道校准系统。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机可执行指令，所述计算机可执行指令用于使计算机执行如权利要求1至7任一项所述的基于毫米波圆柱校准体算法系统的通道校准方法。
说明书desc
技术领域本发明涉及毫米波成像技术领域，特别涉及一种基于毫米波圆柱校准体算法系统的通道校准方法及系统。背景技术主动式毫米波人体安检仪可以被广泛应用于地铁、机场、海关、公安检查站等安保应用领域。当前的人体安检场合要求毫米波人体安检仪具备通行率高、误报漏报率低、无感知、智能化的特点。由于人体安检系统包含频率源、变频器、射频前端、微波线缆等多种微波器件，这些器件在长时间工作后幅度和相位一致性会产生漂移，系统校正的准确度降低，最终呈现在显示图像上，图像质量变差，进而影响深度学习智能框图，导致误报漏报现象，需要通过校准体算法系统重新校准。相关技术主要采用金属平板进行校准，但是金属平板的便携性较差，而且校准精度较低。发明内容本发明旨在至少解决现有技术中存在的技术问题之一。为此，本发明提出一种基于毫米波圆柱校准体算法系统的通道校准方法及系统，采用便携性更高的圆柱校准体，通过牛顿迭代法加速迭代优化，距离向自适应加窗函数设计，校准精度更高。第一方面，本发明实施例提供了一种基于毫米波圆柱校准体算法系统的通道校准方法，应用于毫米波人体安检仪，所述毫米波人体安检仪包括收发阵列，所述收发阵列包括多个发射阵元和多个接收阵元，所述收发阵列的阵面前方中心位置放置有圆柱校准体，所述圆柱校准体的高度覆盖所述收发阵元的高度范围，所述基于毫米波圆柱校准体算法系统的通道校准方法包括以下步骤：S1，确定待校准频段，所述发射阵元根据所述待校准频段发射射频信号；S2，接收阵元接收背景回波数据和圆柱校准体回波数据；S3，根据牛顿迭代法确定通道收发阵元距离，所述通道收发阵元距离为每个收发阵元到所述圆柱校准体反射面的最短距离；S4，确定背景对消信号，所述背景对消信号为所述圆柱校准体回波数据与所述背景回波数据之差；S5，对所述背景对消信号进行逆傅里叶变换，得到脉压信号；S6，在所述脉冲信号的距离向获取每组收发通道的幅值和最大值索引，基于预设的自适应加窗函数对所述每组收发通道的幅值和最大值索引进行自适应加窗处理，得到脉压信号；S7，对所述脉压信号进行傅里叶变换获得频域信号；S8，获取通道间幅度校正参数和预设的幅度校正因子，所述通道间幅度校正参数为每组收发通道的频率维度功率的倒数；S9，确定通道内校正参数，所述通道内校正参数为收发通道距离的相位及通道自身相位的共轭；S10,将每个所述收发阵元距离的相位与所述频域信号的相位进行共轭相乘，获得的结果与所述幅度校正因子相乘，完成通道内及通道间幅度和相位的校正。根据本发明的一些实施例，所述圆柱校准体的直径为200mm，所述圆柱校准体的中心与收发阵列的阵面中心距离范围为0.5至0.8m。根据本发明的一些实施例，所述牛顿迭代法的表达式为所述通道收发阵元距离的表达式为：其中，i为发射通道索引，j为接收通道索引，为发射阵元坐标，为接收阵元坐标、为圆柱校准体中心坐标，Rt为发射阵元坐标到圆柱校准体反射面距离，Rr为接收阵元坐标到圆柱校准体反射面距离，Ri,j为发射阵元坐标到圆柱校准体反射面距离和接收阵元坐标到圆柱校准体反射面距离之和，θn为第n次平面迭代的方位角，θn+1为第n+1次平面迭代的方位角，hn为第n次迭代的高度向大小，hn+1为第n+1次迭代的高度向大小，表示雅可比矩阵，H表示海森矩阵，表达式为：/＞为雅可比矩阵，表达式为：/＞根据本发明的一些实施例，所述步骤S6中，所述加窗函数为矩形窗函数，所述加窗函数的表达式为：其中，pSigRangeIndex为收发通道的索引最大值。根据本发明的一些实施例，所述背景对消信号的表达式为：pSigCalF＝pSigCalF-pSigBackF，其中，pSigCalF为所述圆柱校准体回波数据，pSigBackF为所述背景回波数据，其中i代表发射通道索引，j代表接收通道索引，f代表频点索引。根据本发明的一些实施例，所述幅度校正因子的表达式为：根据本发明的一些实施例，通道内校正因子的表达式为：其中，f∈，c为光速。第二方面，本发明实施例提供了一种基于毫米波圆柱校准体算法系统的通道校准系统，包括至少一个控制处理器和用于与所述至少一个控制处理器通信连接的存储器；所述存储器存储有可被所述至少一个控制处理器执行的指令，所述指令被所述至少一个控制处理器执行，以使所述至少一个控制处理器能够执行如上述第一方面所述的基于毫米波圆柱校准体算法系统的通道校准方法。第三方面，本发明实施例提供了一种电子设备，包括有如上述第二方面所述的基于毫米波圆柱校准体算法系统的通道校准系统。第四方面，本发明实施例提供了一种计算机可读存储介质，存储有计算机可执行指令，所述计算机可执行指令用于执行如上述第一方面所述的基于毫米波圆柱校准体算法系统的通道校准方法。根据本发明实施例的基于毫米波圆柱校准体算法系统的通道校准方法，至少具有如下有益效果：通过牛顿迭代法加速优化补偿距离，计算精度更高，效率更快，通过自适应加窗技术，限制了杂波干扰，通过幅度和相位均衡化技术，后续图像动态更高，并且外场携带方便，更适合毫米波人体安检应用场景中。附图说明图1是本发明一个实施例提供的基于毫米波圆柱校准体算法系统的通道校准方法的流程图；图2是本发明另一个实施例提供的毫米波单子阵列排布方式；图3是本发明另一个实施例提供的收发阵元排布图；图4是本发明另一个实施例提供的圆柱校准体系统三维图实例；图5是本发明另一个实施例提供的圆柱校准体系统二维侧视图；图6是本发明另一个实施例提供的基于毫米波圆柱校准体算法系统的结构示意图。具体实施方式下面详细描述本发明的实施例，所述实施例的示例在附图中示出，其中自始至终相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施例是示例性的，仅用于解释本发明，而不能理解为对本发明的限制。在本发明的描述中，需要理解的是，涉及到方位描述，例如上、下、前、后、左、右等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的终端或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。在本发明的描述中，若干的含义是一个或者多个，多个的含义是两个以上，大于、小于、超过等理解为不包括本数，以上、以下、以内等理解为包括本数。如果有描述到第一、第二只是用于区分技术特征为目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量或者隐含指明所指示的技术特征的先后关系。本发明的描述中，除非另有明确的限定，设置、安装、连接等词语应做广义理解，所属技术领域技术人员可以结合技术方案的具体内容合理确定上述词语在本发明中的具体含义。本发明实施例提供了一种基于毫米波圆柱校准体算法系统的通道校准方法及系统，根据本发明实施例的技术方案，通过牛顿迭代法加速优化补偿距离，计算精度更高，效率更快，通过自适应加窗技术，限制了杂波干扰，通过幅度和相位均衡化技术，后续图像动态更高，并且外场携带方便，更适合毫米波人体安检应用场景中。下面结合附图，对本发明实施例的控制方法作进一步阐述。参照图1，图1为本发明实施例提供的一种基于毫米波圆柱校准体算法系统的通道校准方法的流程图，应用于毫米波人体安检仪，毫米波人体安检仪包括收发阵列，收发阵列包括多个发射阵元和多个接收阵元，收发阵列的阵面前方中心位置放置有圆柱校准体，圆柱校准体的高度覆盖收发阵元的高度范围，基于毫米波圆柱校准体算法系统的通道校准方法包括以下步骤：S1，确定待校准频段，发射阵元根据待校准频段发射射频信号；S2，接收阵元接收背景回波数据和圆柱校准体回波数据；S3，根据牛顿迭代法确定通道收发阵元距离，通道收发阵元距离为每个收发阵元到圆柱校准体反射面的最短距离；S4，确定背景对消信号，背景对消信号为圆柱校准体回波数据与背景回波数据之差；S5，对背景对消信号进行逆傅里叶变换，得到脉压信号；S6，在脉冲信号的距离向获取每组收发通道的幅值和最大值索引，基于预设的自适应加窗函数对每组收发通道的幅值和最大值索引进行自适应加窗处理，得到脉压信号；S7，对脉压信号进行傅里叶变换获得频域信号；S8，获取通道间幅度校正参数和预设的幅度校正因子，通道间幅度校正参数为每组收发通道的频率维度功率的倒数；S9，确定通道内校正参数，通道内校正参数为收发通道距离的相位及通道自身相位的共轭；S10,将每个收发阵元距离的相位与频域信号的相位进行共轭相乘，获得的结果与幅度校正因子相乘，完成通道内及通道间幅度和相位的校正。需要说明的是，本申请实施例的毫米波单子阵列排布方式可以参考图2所示，收发阵元的排布方式可以参考图3所示，在图2和图3中，圆点为发射阵元位置，星型为接收阵元位置。在图2和图3所示的结构基础上，放置圆柱校准体后所得的位置示意图可以参考图4和图5所示，收发阵列的阵面前方中心位置放置有圆柱校准体，圆柱校准体的高度覆盖收发阵元的高度范围。由于本毫米波圆柱校准体算法系统不依赖于频段而变化，故可以选择的待校准频段为30～38GHz，其中频率划分为nFreq＝128点，频段中心波长发射天线阵元间距设置满足d≤0.75λc，设置发射接收阵元间距均为dant＝6mm，单子阵发射阵元数为48，接收阵元数为48；水平覆盖1m，高度向覆盖2m视场，共需32个子阵，发射阵元共有Nt＝1536，接收阵元共有Nr＝1536。在一些实施例中，参照图4和图5，圆柱校准体的直径为200mm，圆柱校准体的中心与收发阵列的阵面中心距离范围为0.5至0.8m。需要说明的是，圆柱校准体放置在阵面前方中心位置，圆柱校准体直径D＝200mm，圆柱校准体中心距离阵面中心距离范围为0.5至0.8m，圆柱高度应覆盖收发阵元高度范围，保证发射接收阵元满足需要的有效收发对。在一些实施例中，步骤S3中牛顿迭代法的表达式为通道收发阵元距离的表达式为：/＞其中，i为发射通道索引，j为接收通道索引，为发射阵元坐标，为接收阵元坐标、为圆柱校准体中心坐标，Rt为发射阵元坐标到圆柱校准体反射面距离，Rr为接收阵元坐标到圆柱校准体反射面距离，Ri,j为发射阵元坐标到圆柱校准体反射面距离和接收阵元坐标到圆柱校准体反射面距离之和，θn为第n次平面迭代的方位角，θn+1为第n+1次平面迭代的方位角，hn为第n次迭代的高度向大小，hn+1为第n+1次迭代的高度向大小，表示雅可比矩阵，H表示海森矩阵，表达式为：/＞为雅可比矩阵，表达式为：/＞需要说明的是，为了提高计算速度，毫米波人体安检仪可以利用GPU进行加速计算，节省计算时间。值得注意的是，在本实施例中，雅可比矩阵求一阶偏导数，海森矩阵求二阶偏导数。另外，在一实施例中，步骤S6的加窗函数为矩形窗函数，加窗函数的表达式为：其中，pSigRangeIndex为收发通道的索引最大值。需要说明的是，通过自适应加窗技术，能够有效限制了杂波干扰，通过幅度和相位均衡化技术，后续图像动态更高。另外，在一实施例中，背景对消信号的表达式为：pSigCalF＝pSigCalF-pSigBackF，其中，pSigCalF为所述圆柱校准体回波数据，pSigBackF为所述背景回波数据，其中i代表发射通道索引，j代表接收通道索引，f代表频点索引。另外，在一实施例中，幅度校正因子的表达式为：另外，在一实施例中，通道内校正因子的表达式为：其中，f∈，c为光速。如图6所示，图6是本发明一个实施例提供的基于毫米波圆柱校准体算法系统的通道校准系统的结构图。本发明还提供了一种基于毫米波圆柱校准体算法系统的通道校准系统，包括：处理器601，可以采用通用的中央处理器、微处理器、应用专用集成电路、或者一个或多个集成电路等方式实现，用于执行相关程序，以实现本申请实施例所提供的技术方案；存储器602，可以采用只读存储器、静态存储系统、动态存储系统或者随机存取存储器等形式实现。存储器602可以存储操作系统和其他应用程序，在通过软件或者固件来实现本说明书实施例所提供的技术方案时，相关的程序代码保存在存储器602中，并由处理器601来调用执行本申请实施例的基于毫米波圆柱校准体算法系统的通道校准方法；输入/输出接口603，用于实现信息输入及输出；通信接口604，用于实现本系统与其他系统的通信交互，可以通过有线方式实现通信，也可以通过无线方式实现通信；总线605，在系统的各个组件之间传输信息；其中处理器601、存储器602、输入/输出接口603和通信接口604通过总线605实现彼此之间在系统内部的通信连接。本申请实施例还提供了一种电子设备，包括如上所述的基于毫米波圆柱校准体算法系统的通道校准系统。本申请实施例还提供了一种存储介质，存储介质为计算机可读存储介质，该存储介质存储有计算机程序，该计算机程序被处理器执行时实现上述基于毫米波圆柱校准体算法系统的通道校准方法。存储器作为一种非暂态计算机可读存储介质，可用于存储非暂态软件程序以及非暂态性计算机可执行程序。此外，存储器可以包括高速随机存取存储器，还可以包括非暂态存储器，例如至少一个磁盘存储器件、闪存器件、或其他非暂态固态存储器件。在一些实施方式中，存储器可选包括相对于处理器远程设置的存储器，这些远程存储器可以通过网络连接至该处理器。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。以上所描述的终端实施例仅仅是示意性的，其中作为分离部件说明的单元可以是或者也可以不是物理上分开的，实现了以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员可以理解，上文中所公开方法中的全部或某些步骤、系统可以被实施为软件、固件、硬件及其适当的组合。某些物理组件或所有物理组件可以被实施为由处理器，如中央处理器、数字信号处理器或微处理器执行的软件，或者被实施为硬件，或者被实施为集成电路，如专用集成电路。这样的软件可以分布在计算机可读介质上，计算机可读介质可以包括计算机存储介质和通信介质。如本领域普通技术人员公知的，术语计算机存储介质包括在用于存储信息的任何方法或技术中实施的易失性和非易失性、可移除和不可移除介质。计算机存储介质包括但不限于RAM、ROM、EEPROM、闪存或其他存储器技术、CD-ROM、数字多功能盘或其他光盘存储、磁盒、磁带、磁盘存储或其他磁存储终端、或者可以用于存储期望的信息并且可以被计算机访问的任何其他的介质。此外，本领域普通技术人员公知的是，通信介质通常包括计算机可读指令、数据结构、程序模块或者诸如载波或其他传输机制之类的调制数据信号中的其他数据，并且可包括任何信息递送介质。以上是对本发明的较佳实施进行了具体说明，但本发明并不局限于上述实施方式，熟悉本领域的技术人员在不违背本发明精神的共享条件下还可作出种种等同的变形或替换，这些等同的变形或替换均包括在本发明权利要求所限定的范围内。
