标题title
一种基于汉字特征的患者姓名消歧方法
摘要abst
本发明涉及一种基于汉字特征的患者姓名消歧方法，包括：获取两个患者的姓名信息；判断两姓名字段的长度是否一致，如果一致，则采用第一匹配模式进行相似度计算；如果不一致，则采用第二匹配模式进行相似度计算；第一匹配模式下，分别计算对应位置两个字的相似度，并对得到的所有相似度进行累加平均，以得到两个患者的姓名的相似度；第二匹配模式下，分别进行相似度的正向匹配和逆向匹配，并对正向匹配和逆向匹配的相似度进行累加平均，得到两个患者的姓名的相似度。对两姓名字段的长度进行识别，从而在可以字段长度不一致的情况下，通过相似度的正向匹配和逆向匹配更准确地进行相似度计算，以更好地解决潜在的同名患者消歧问题。
权利要求书clms
1.一种基于汉字特征的患者姓名消歧方法，其特征在于，包括：获取两个患者的姓名信息；判断两姓名字段的长度是否一致，如果一致，则采用第一匹配模式进行相似度计算；如果不一致，则采用第二匹配模式进行相似度计算；所述的采用第一匹配模式进行相似度计算，包括：分别计算对应位置两个字的相似度，并对得到的所有相似度进行累加平均，以得到所述两个患者的姓名的相似度；所述的采用第二匹配模式进行相似度计算，包括：从第一个字开始，正向顺序分别计算具有相同次序位置的两个字的相似度，并对得到的所有相似度进行累加平均，以得到正向匹配相似度；从最后一个字开始，逆向顺序分别计算具有相同次序位置的两个字的相似度，并对得到的所有相似度进行累加平均，以得到逆向匹配相似度；对所述正向匹配相似度和逆向匹配相似度进行累加平均，得到所述两个患者的姓名的相似度。2.如权利要求1所述的基于汉字特征的患者姓名消歧方法，其特征在于，所述的两个字的相似度的计算方法包括：计算字音相似度；计算字形相似度；对计算得到的字音相似度和字形相似度的进行加权相加得到两个字的相似度。3.如权利要求2所述的基于汉字特征的患者姓名消歧方法，其特征在于，所述字音相似度的计算方法包括：对字音中的声母、韵母、介母和音调分别进行二进制编码；基于二进制编码后的声母、韵母、介母和音调分别计算声母、韵母、介母和音调相似度；基于计算得到的声母、韵母、介母和音调的相似度，对各个相似度进行加权求和以得到字音相似度。4.如权利要求3所述的基于汉字特征的患者姓名消歧方法，其特征在于，所述声母的二进制编码方法包括：采用格雷码对声母进行五位二进制编码；将声母分为“bpmf”、“dtnl”、“gkh”、“jqx”、“zhchshr”、“zcs”和“yw”七组，对于任意一组，声母之间采用预设距离范围的相近编码；“l”和“n”采用预设距离范围内的相近编码，“zh”和“z”、“ch”和“c”及“sh”和“s”分别采用相同的编码，缺失的声母采用与“00000”或“11111”在预设距离范围内的相近编码；所述韵母的二进制编码方法包括：采用格雷码对韵母进行五位二级制编码；按照主韵母"aoeiuü" 将韵母分为六组，对于任意一组，韵母之间采用预设距离范围的相近编码；“an”和“ang”、“in”和“ing”以及“en”和“eng”分别采用相同的编码；所述介母的二级制编码方法包括：采用格雷码对介母进行五位二级制编码；按照"aoeiuü" 将介母分为六组，对于任意一组，介母之间采用预设距离范围的相近编码；“an”和“ang”、“in”和“ing”以及“en”和“eng”分别采用相同的编码；如果没有介母，则采用与“00000”或“11111”在预设距离范围内的相近编码；所述音调的二级制编码方法包括：采用两位二进制进行不同音调的唯一编码。5.如权利要求3所述的基于汉字特征的患者姓名消歧方法，其特征在于，所述的基于二进制编码后的声母、韵母、介母和音调分别计算声母、韵母、介母和音调相似度，包括：，/＞，/＞，/＞；其中，sim11为两个声母的相似度，h11为两个声母的汉明距离，len11为声母的编码长度；sim12为两个韵母的相似度，h12为两个韵母的汉明距离，len12为韵母的编码长度；sim13为两个介母的相似度，h13为两个介母的汉明距离，len13为介母的编码长度；sim14为两个音调的相似度，h14为两个音调的汉明距离，len14为音调的编码长度。6.如权利要求2所述的基于汉字特征的患者姓名消歧方法，其特征在于，所述字形相似度的计算方法包括：分别对字形进行结构编码、四角编码、笔顺编码和笔画数编码；基于得到的结构编码、四角编码、笔顺编码和笔画数编码分别进行相似度计算；基于计算得到的结构编码、四角编码、笔顺编码和笔画数编码的相似度，进行加权相加得到字形相似度。7.如权利要求6所述的基于汉字特征的患者姓名消歧方法，其特征在于，所述结构编码的方法包括：采用格雷码的形式对汉字的结构进行四位二进制编码；所述四角编码的方法包括：基于汉字四个角上的笔形及最靠近右下角笔形的上方的笔形，对每个角上的笔形进行四位二进制编码；所述笔顺编码的方法包括：基于字的笔顺和每一笔的笔形编码进行编码；所述笔画数编码的方法包括：获取字的笔画数，将该字的笔画数作为该字的编码。8.如权利要求7所述的基于汉字特征的患者姓名消歧方法，其特征在于，所述的基于得到的结构编码、四角编码、笔顺编码和笔画数编码分别进行相似度计算，包括：所述结构编码的相似度计算包括：，其中，sim21为两个结构编码的相似度，h21为两个结构编码的汉明距离，len21为结构编码的编码长度；所述四角编码的相似度计算包括：，其中，sim22为两个四角编码的相似度，h22为两个四角编码的汉明距离，len22为四角编码的编码长度；所述笔顺编码的相似度计算包括：，其中，sim23为两个笔顺编码的相似度，LCS为汉字a和b笔顺编码之间的最长公共子序列长度，len3a为汉字a的笔顺编码长度，len3b为汉字b的笔顺编码长度；所述笔画数编码的相似度计算包括：，其中，sim24为两个笔顺编码的相似度，len4a为汉字a的笔画数，len4b为汉字b的笔画数。9.如权利要求1所述的基于汉字特征的患者姓名消歧方法，其特征在于，所述正向匹配相似度的计算方法包括：，其中，为姓名A和姓名B正向顺序中，具有相同次序位置n的两个字的相似度，1≤n≤N，/＞为姓名A的字数，/＞为姓名B的字数；所述逆向匹配相似度的计算方法包括：判断正向相似度计算中是否为1，如果是，则逆向匹配相似度/＞的计算方法包括：，其中，为姓名A和姓名B逆向顺序中，具有相同次序位置m的两个字的相似度，1≤m≤M；如果正向相似度计算中不为1，则逆向匹配相似度/＞的计算方法包括：/＞，其中，为姓名P和姓名Q逆向顺序中，具有相同次序位置i的两个字的相似度，I＞J，K＞1，1≤i≤/＞。10.如权利要求9所述的基于汉字特征的患者姓名消歧方法，其特征在于，在两姓名字段的长度不一致的情况下，所述姓名消歧方法还包括：判断所识别的字是否属于可拆字，如果是，则对识别的字进行拆字处理后，再进行两个姓名的相似度计算。
说明书desc
技术领域本发明涉及姓名相似度对比处理技术，具体涉及一种基于汉字特征的患者姓名消歧方法。背景技术区域医疗信息化，指的是在一定区域范围内，综合运用计算机、网络和通信技术等信息化手段，实现医疗卫生信息的互通共享和有效应用的过程。区域医疗信息化建设以电子健康档案和电子病历数据共享为核心，能够保证公民的医疗质量和安全性，达到提升整体医疗服务质量、提高医疗服务可及性、降低医疗费用、减少医疗风险的目的。随着区域医疗信息化建设过程中大量医疗信息系统的集成，患者在各医疗信息系统中产生的患者信息对应了不同的患者身份标识，导致属于同一患者的记录信息难以实现关联、共享和利用，为医疗机构间的业务联动、业务协同和数据共享带来了困难，对区域医疗信息化的进程造成了阻碍。其中，各医疗信息系统间的患者信息难以关联。由于医院信息系统的多样性，区域内各家医院使用的通常是不同的医院信息系统，这些系统的开发厂商不同，因此在数据标准、编码方式、数据库结构等方面均存在差异。另外，在患者身份匹配的过程中，由于录入患者信息时或患者自身填写信息时出现的输入型错误，导致部分汉字出现字音或字形上的错误从而引起患者姓名不一致，而在计算姓名相似度的过程中，普通的相似度算法只能判断是否为一个汉字，而不能对单一汉字进行相似度的计算，此时需要提取汉字特征进行汉字识别，利用对字音字形描述的汉字处理技术计算汉字字形相似度，从而完善姓名相似度的计算过程，完成患者姓名的消歧工作。上述内容仅用于辅助理解本发明的技术方案，并不代表承认上述内容是现有技术。发明内容本申请要解决的技术问题是提供一种基于汉字特征的患者姓名消歧方法，具有可以更加精确地解决潜在的同名患者消歧的特点。一种实施例中提供一种基于汉字特征的患者姓名消歧方法，包括：获取两个患者的姓名信息；判断两姓名字段的长度是否一致，如果一致，则采用第一匹配模式进行相似度计算；如果不一致，则采用第二匹配模式进行相似度计算；所述的采用第一匹配模式进行相似度计算，包括：分别计算对应位置两个字的相似度，并对得到的所有相似度进行累加平均，以得到所述两个患者的姓名的相似度；所述的采用第二匹配模式进行相似度计算，包括：从第一个字开始，正向顺序分别计算具有相同次序位置的两个字的相似度，并对得到的所有相似度进行累加平均，以得到正向匹配相似度；从最后一个字开始，逆向顺序分别计算具有相同次序位置的两个字的相似度，并对得到的所有相似度进行累加平均，以得到逆向匹配相似度；对所述正向匹配相似度和逆向匹配相似度进行累加平均，得到所述两个患者的姓名的相似度。一种实施例中，所述的两个字的相似度的计算方法包括：计算字音相似度；计算字形相似度；对计算得到的字音相似度和字形相似度的进行加权相加得到两个字的相似度。一种实施例中，所述字音相似度的计算方法包括：对字音中的声母、韵母、介母和音调分别进行二进制编码；基于二进制编码后的声母、韵母、介母和音调分别计算声母、韵母、介母和音调相似度；基于计算得到的声母、韵母、介母和音调的相似度，对各个相似度进行加权求和以得到字音相似度。一种实施例中，所述声母的二进制编码方法包括：采用格雷码对声母进行五位二进制编码；将声母分为“bpmf”、“dtnl”、“gkh”、“jqx”、“zhchshr”、“zcs”和“yw”七组，对于任意一组，声母之间采用预设距离范围的相近编码；“l”和“n”采用预设距离范围内的相近编码，“zh”和“z”、“ch”和“c”及“sh”和“s”分别采用相同的编码，缺失的声母采用与“00000”或“11111”在预设距离范围内的相近编码；所述韵母的二进制编码方法包括：采用格雷码对韵母进行五位二级制编码；按照主韵母"aoeiuü" 将韵母分为六组，对于任意一组，韵母之间采用预设距离范围的相近编码；“an”和“ang”、“in”和“ing”以及“en”和“eng”分别采用相同的编码；所述介母的二级制编码方法包括：采用格雷码对介母进行五位二级制编码；按照"aoeiuü" 将介母分为六组，对于任意一组，介母之间采用预设距离范围的相近编码；“an”和“ang”、“in”和“ing”以及“en”和“eng”分别采用相同的编码；如果没有介母，则采用与“00000”或“11111”在预设距离范围内的相近编码；所述音调的二级制编码方法包括：采用两位二进制进行不同音调的唯一编码。一种实施例中，所述的基于二进制编码后的声母、韵母、介母和音调分别计算声母、韵母、介母和音调相似度，包括：，/＞，/＞，/＞；其中，sim11为两个声母的相似度，h11为两个声母的汉明距离，len11为声母的编码长度；sim12为两个韵母的相似度，h12为两个韵母的汉明距离，len12为韵母的编码长度；sim13为两个介母的相似度，h13为两个介母的汉明距离，len13为介母的编码长度；sim14为两个音调的相似度，h14为两个音调的汉明距离，len14为音调的编码长度。一种实施例中，所述字形相似度的计算方法包括：分别对字形进行结构编码、四角编码、笔顺编码和笔画数编码；基于得到的结构编码、四角编码、笔顺编码和笔画数编码分别进行相似度计算；基于计算得到的结构编码、四角编码、笔顺编码和笔画数编码的相似度，进行加权相加得到字形相似度。一种实施例中，所述结构编码的方法包括：采用格雷码的形式对汉字的结构进行四位二进制编码；所述四角编码的方法包括：基于汉字四个角上的笔形及最靠近右下角笔形的上方的笔形，对每个角上的笔形进行四位二进制编码；所述笔顺编码的方法包括：基于字的笔顺和每一笔的笔形编码进行编码；所述笔画数编码的方法包括：获取字的笔画数，将该字的笔画数作为该字的编码。一种实施例中，所述的基于得到的结构编码、四角编码、笔顺编码和笔画数编码分别进行相似度计算，包括：所述结构编码的相似度计算包括：，其中，sim21为两个结构编码的相似度，h21为两个结构编码的汉明距离，len21为结构编码的编码长度；所述四角编码的相似度计算包括：，其中，sim22为两个四角编码的相似度，h22为两个四角编码的汉明距离，len22为四角编码的编码长度；所述笔顺编码的相似度计算包括：，其中，sim23为两个笔顺编码的相似度，LCS为汉字a和b笔顺编码之间的最长公共子序列长度，len3a为汉字a的笔顺编码长度，len3b为汉字b的笔顺编码长度；所述笔画数编码的相似度计算包括：，其中，sim24为两个笔顺编码的相似度，len4a为汉字a的笔画数，len4b为汉字b的笔画数。一种实施例中，所述正向匹配相似度的计算方法包括：，其中，为姓名A和姓名B正向顺序中，具有相同次序位置n的两个字的相似度，1≤n≤N，/＞为姓名A的字数，/＞为姓名B的字数；所述逆向匹配相似度的计算方法包括：判断正向相似度计算中是否为1，如果是，则逆向匹配相似度/＞的计算方法包括，其中，为姓名A和姓名B逆向顺序中，具有相同次序位置m的两个字的相似度，1≤m≤M；如果正向相似度计算中不为1，则逆向匹配相似度/＞的计算方法包括：/＞，其中，为姓名P和姓名Q逆向顺序中，具有相同次序位置i的两个字的相似度，I＞J，K＞1，1≤i≤/＞。一种实施例中，在两姓名字段的长度不一致的情况下，所述姓名消歧方法还包括：判断所识别的字是否属于可拆字，如果是，则对识别的字进行拆字处理后，再进行两个姓名的相似度计算。本发明的有益效果是：在获取两个患者的姓名信息之后，先判断两姓名字段的长度是否一致，如果一致，则采用第一匹配模式进行相似度计算；如果不一致，则采用第二匹配模式进行相似度计算；第一匹配模式下，分别计算对应位置两个字的相似度，并对得到的所有相似度进行累加平均，以得到两个患者的姓名的相似度；第二匹配模式下，分别进行相似度的正向匹配和逆向匹配，并对正向匹配和逆向匹配的相似度进行累加平均，得到两个患者的姓名的相似度。这样，使得对两姓名字段的长度进行识别，从而在可以字段长度不一致的情况下，通过相似度的正向匹配和逆向匹配更准确地进行相似度计算，以更好地解决潜在的同名患者消歧问题。附图说明图1是本申请一种实施例的姓名消歧方法流程示意图；图2是图1实施例中步骤S302的一种实施例的方法流程示意图；图3是本申请一种实施例的两个字相似度的计算方法流程示意图；图4是图3实施例中步骤S01的方法流程示意图；图5是本申请一种实施例的部分声母编码示意图；图6是本申请一种实施例的韵母编码示意图；图7是图3实施例中步骤S02的方法流程示意图；图8是本申请一种实施例的结构编码示意图；图9是本申请一种实施例的四角编码示意图；图10是本申请一种实施例的笔顺编码示意图。具体实施方式下面通过具体实施方式结合附图对本发明作进一步详细说明。其中不同实施方式中类似元件采用了相关联的类似的元件标号。在以下的实施方式中，很多细节描述是为了使得本申请能被更好的理解。然而，本领域技术人员可以毫不费力的认识到，其中部分特征在不同情况下是可以省略的，或者可以由其他元件、材料、方法所替代。在某些情况下，本申请相关的一些操作并没有在说明书中显示或者描述，这是为了避免本申请的核心部分被过多的描述所淹没，而对于本领域技术人员而言，详细描述这些相关操作并不是必要的，他们根据说明书中的描述以及本领域的一般技术知识即可完整了解相关操作。另外，说明书中所描述的特点、操作或者特征可以以任意适当的方式结合形成各种实施方式。同时，方法描述中的各步骤或者动作也可以按照本领域技术人员所能显而易见的方式进行顺序调换或调整。因此，说明书和附图中的各种顺序只是为了清楚描述某一个实施例，并不意味着是必须的顺序，除非另有说明其中某个顺序是必须遵循的。本文中为部件所编序号本身，例如“第一”、“第二”等，仅用于区分所描述的对象，不具有任何顺序或技术含义。为便于对本申请的发明构思进行说明，以下对姓名消歧技术进行简要说明。各医疗信息系统间的患者信息难以关联。由于医院信息系统的多样性，区域内各家医院使用的通常是不同的医院信息系统，这些系统的开发厂商不同，因此在数据标准、编码方式、数据库结构等方面均存在差异。在姓名录入过程中，录入信息和真实信息也经常会存在差异，这样，在利用患者姓名进行信息匹配时，存在这一定的难度。基于此，本申请提供了一种基于汉字特征的患者姓名消歧方法，在判断两个姓名字段长度是否一致的基础上，通过相似度的正向匹配和逆向匹配的结合，从而更加精确地解决潜在的同名患者消歧。在一种实施例中，请参考图1，该姓名消歧方法包括：步骤S10，获取两个患者的姓名信息。步骤S20，判断两姓名字段的长度是否一致，如果一致，则进入步骤S301，如果不一致，则进入步骤S302。例如，有的姓名包含两个字，则该姓名的字段长度为2，有的姓名包含三个字，则该姓名的字段长度为3。步骤S301，采用第一匹配模式进行相似度计算。在两姓名字段长度一致的情况下，分别计算对应位置两个字的相似度，并对得到的所有相似度进行累加平均，以得到两个患者的姓名的相似度。一种实施例中，采用的匹配模式为顺序匹配，按照从前往后即从第一个字到最后一个字的顺序逐字对姓名中处于相同位置的汉字进行匹配。假设姓名A和姓名B均为三个字，则有A=A1A2A3，B=B1B2B3，则我们可以得到两姓名字段长度一致的情下，姓名A和姓名B的相似度为。其中，/＞为汉字A1与B1的相似度，/＞为汉字A2与B2的相似度，/＞为汉字A3与B3的相似度。因此，对患者姓名的匹配即为汉字相似度的计算过程。步骤S302，采用第二匹配模式进行相似度计算。在两姓名字段长度不一致的情况下，相似度计算采用双向匹配，请参考图2，以下以有三个字的姓名C和有两个字的姓名D为例进行说明。步骤S3021，从第一个字开始，正向顺序分别计算具有相同次序位置的两个字的相似度，并对得到的所有相似度进行累加平均，以得到正向匹配相似度。对于正向匹配，一种实施例中，正向匹配相似度的计算方法包括：，其中，为姓名A和姓名B正向顺序中，具有相同次序位置n的两个字的相似度，1≤n≤N，/＞为姓名A的字数，/＞为姓名B的字数。以姓名C=C1C2C3，姓名D=D1D2为例，则有，其中，为姓名C的字数，这里为3，/＞为姓名D的字数，这里为2。步骤S3022，从最后一个字开始，逆向顺序分别计算具有相同次序位置的两个字的相似度，并对得到的所有相似度进行累加平均，以得到逆向匹配相似度。对于逆向匹配，一种实施例中，为使计算更准确，判断正向相似度计算中是否为1，也就是说两姓名的姓是否相同，如果是，则逆向匹配相似度/＞的计算方法包括：，其中，为姓名A和姓名B逆向顺序中，具有相同次序位置m的两个字的相似度，1≤m≤M。以姓名C=C1C2C3，姓名D=D1D2为例，则有。如果正向相似度计算中不为1，也就是说两姓名的姓不相同，则逆向匹配相似度/＞的计算方法包括：，其中，为姓名P和姓名Q逆向顺序中，具有相同次序位置i的两个字的相似度，I＞J，K＞1，1≤i≤/＞。以姓名C=C1C2C3，姓名D=D1D2为例，则有。可以理解地，姓名的姓中存在复姓的情况，可基于数据库识别是否为复姓，如果是复姓，则需要对复姓进行对比。步骤S3023，对正向匹配相似度和逆向匹配相似度进行累加平均，得到两个患者的姓名的相似度。则有在两姓名的字段长度不一致的情况下，两姓名的相似度为。综上，本申请实施例中，对两姓名字段的长度进行识别，从而在可以字段长度不一致的情况下，通过相似度的正向匹配和逆向匹配更准确地进行相似度计算，以更好地解决潜在的同名患者消歧问题。本申请的一种实施例中，在两姓名字段的长度不一致的情况下，姓名消歧方法还包括：判断所识别的字是否属于可拆字，如果是，则对识别的字进行拆字处理后，再进行两个姓名的相似度计算。申请人在研究中发现，经常会出现由于录入过程中出现的拆分字和合并字问题而导致的患者姓名字段长度不一致。一部分汉字可以拆分为两个汉字，而一部分汉字可以合并为一个汉字，如“晓”可能被写为“日”“尧”，“彬”可能被写为“木”“杉”，即两个字的人名“王晓”被写为三个字的人名“王日尧”，“李彬”被写为“李木杉”，同样也存在“文”“武”可能被写为“斌”，“王”“可”可能被写为“珂”，即“刘文武”被写为“刘斌”，“杨珂”被写为“杨王可”。基于此，对于左右方向上可拆分为两个字的可拆字，可建立可拆字数据库，当识别到的字匹配到可拆字数据库中可拆字时，则说明该识别到的字为可拆字，根据数据库中可拆字的映射关系，将该识别到的字拆分为映射到的字，例如，将“珂”拆分为“王”和“可”两个字。由于字体拆分和合并导致的姓名长度不一致问题，可以通过将汉字进行拆分处理，对比汉字的拆分部分，然后获取拆字的相似度，提高对比的准确性。若A=A1A2A3，B=B1B2，将B2拆为B21B22，即B=B1B21B22，按照患者姓名字段长度一致的情况进行比较，姓名A与姓名B的姓名相似度即为：。通过以上的拆字措施，解决了由于录入过程中出现的拆分字和合并字问题而导致的患者姓名字段长度不一致的问题，从而可以更加准确地解决潜在的同名患者消歧问题。以下对两个汉字的相似度计算进行说明，本申请的一种实施例中，从字音和字形两个方面进行综合比较，请参考图3，两个字的相似度的计算方法包括：步骤S01，计算字音相似度。汉字字音的组成成分包括声母、韵母以及音调，同样的，在汉字的字音中，有一些字会包含中间韵母，也称为介母。中间韵母通常位于一个音节内，位于声母和韵母之间，起到连接的作用，如“jia”中的“i”，“quan”中的“u”，因此汉字的字音由声母、韵母、介母和音调组成。而在比较的过程中，单纯对拼音中的字母进行比较难以通过字音发音的特点得到精确结果，因此需要对每个部分分别进行编码，最终生成的字音编码应该包含声母编码、韵母编码、介母编码以及音调编码。基于此，本申请的一种实施例中，请参考图4，对于字音相似度计算的方法包括：步骤S011，对字音中的声母、韵母、介母和音调分别进行二进制编码。一种实施例中，声母的二进制编码方法包括：采用格雷码对声母进行五位二进制编码；将声母分为“bpmf”、“dtnl”、“gkh”、“jqx”、“zhchshr”、“zcs”和“yw”七组，对于任意一组，声母之间采用预设距离范围的相近编码；“l”和“n”采用预设距离范围内的相近编码，“zh”和“z”、“ch”和“c”及“sh”和“s”分别采用相同的编码，缺失的声母采用与“00000”或“11111”在预设距离范围内的相近编码。请参图5，拼音中一共有23个声母，所以编码至少需要5个二进制位来表示。声母按照发音习惯可以分为 7 组，分别是“bpmf”，“dtnl”，“gkh”，“jqx”，“zhchshr”，“zcs”，“yw”，为了使发音相近的声母尽可能在距离上相近，这里采用格雷码的方式，因为格雷码的任意两个相邻的编码只有一位二进制数不同，可以使得每一组中相邻的声母编码差异最小。同时考虑我国部分地区发音较为容易混淆，如，“l”和“n”，常常会有人将“刘”和“牛”混淆，因此算法设计上可认为是发音相似；又如，“zh”和“z”，“ch”和“c”以及“sh”和“s”此类平翘舌的发音在很多地区难以区分，因此舍弃平翘舌音的区别，即认为“zh”和“z”，“ch”和“c”以及“sh”和“s”的编码形式相同。同样，在研究过程中发现有些拼音是没有声母的，如“饿”的拼音“e”，而它与“de”，“te”都有较高的相似度，所以缺少声母时，可以用一个相对与“00000”、“11111”有差不多汉明距离的编码“00110”。在编码过程中，根据这些特性，容易混淆的发音具有更高的相似度。一种实施例中，韵母的二进制编码方法包括：采用格雷码对韵母进行五位二级制编码；按照主韵母"aoeiuü" 将韵母分为六组，对于任意一组，韵母之间采用预设距离范围的相近编码；“an”和“ang”、“in”和“ing”以及“en”和“eng”分别采用相同的编码。请参考图6，拼音中一共有 24种韵母，因此也至少需要5个二进制位。按照主韵母"aoeiuü" 将韵母分为六组，同样使用格雷码的形式使读音相近的韵母在编码距离上最小。同时考虑容易混淆的发音，舍弃前后鼻音的区别，即认为“an”和“ang”，“in”和“ing”以及“en”和“eng”的编码形式相同。一种实施例中，介母的二级制编码方法包括：采用格雷码对介母进行五位二级制编码；按照"aoeiuü" 将介母分为六组，对于任意一组，介母之间采用预设距离范围的相近编码；“an”和“ang”、“in”和“ing”以及“en”和“eng”分别采用相同的编码；如果没有介母，则采用与“00000”或“11111”在预设距离范围内的相近编码。因此，这里介母同样用5个二进制位表示，介母编码采用韵母的编码形式，如果没有补码则同样可以用一个相对与“00000”、“11111”有差不多汉明距离的编码“00110”。一种实施例中，音调的二级制编码方法包括：采用两位二进制进行不同音调的唯一编码。由于音调只有4 种，所以用 2 个二进制位即可表示。一种具体实施例中，一声的二进制编码为00，二声的二进制编码为01，三声的二进制编码为10，四声的二进制编码为11。 举例：“狼”的拼音为：láng，声母：l，韵母：ang，介母：缺失，音调：二声，即字音编码为：01100 00010 00110 01；“船”的拼音为：chuán，声母：ch，韵母：ang，介母：u，音调：二声，即字音编码为：11010 00010 11010 01。可以理解地，每个字的四类声音编码顺序不局限与本举例中的顺序。步骤S012，基于二进制编码后的声母、韵母、介母和音调分别计算声母、韵母、介母和音调相似度。作为本申请的一种实施例，这些相似度计算可以包括：，/＞，/＞，/＞；其中，sim11为两个声母的相似度，h11为两个声母的汉明距离，len11为声母的编码长度；sim12为两个韵母的相似度，h12为两个韵母的汉明距离，len12为韵母的编码长度；sim13为两个介母的相似度，h13为两个介母的汉明距离，len13为介母的编码长度；sim14为两个音调的相似度，h14为两个音调的汉明距离，len14为音调的编码长度。对于汉明距离，主要用在数据传输差错控制中，是两段相同长度的二进制编码中位置相同二进制异或后，异或结果为1的数量。步骤S013，基于计算得到的声母、韵母、介母和音调的相似度，对各个相似度进行加权求和以得到字音相似度。本申请的一种实施例中，根据拼音的起始辅音的重要性，可以给予声母较高的权重，声母权重系数为0.4。由于韵母决定了发音的音高和音色，韵母的权重也应该较高，给予韵母权重系数为0.4。介母在某些语言或方言中可能更为重要，但对于标准的普通话拼音系统来说，介母的重要性相对较低，给予介母较小的权重系数0.1。音调在汉语拼音系统中承载着重要的语义信息，但在拼音相似度对比中的作用相对较小。给予音调较小的权重系数0.1。因此，我们可以得到两个字的字音相似度为：。步骤S02，计算字形相似度。汉字字形的组成则包括很多方面：汉字结构、偏旁部首、四角号码、笔画等。本申请的一种实施例中，选取可以明显区分汉字字形差异的几种特征用于字形编码，生成的字形编码可以包括结构编码、四角编码和笔画数编码。另外，审查人在研究中发现，笔顺编码可以在一定程度上大大提高字形相似度计算的准确性，因此，这里最终形成的字形编码中包括结构编码、四角编码、笔顺编码和笔画数编码。参考图7，字形相似度的计算方法包括：步骤S021，分别对字形进行结构编码、四角编码、笔顺编码和笔画数编码。对于结构编码，一种实施例中，方法包括：采用格雷码的形式对汉字的结构进行四位二进制编码。请参考图8，汉字一共有 15种结构，因此使用4个二进制位即可表示。对于字形相近的结构，同样使用格雷码的形式使这些汉字结构在编码表示上差异更小。对于四角编码，一种实施例中，方法包括：基于汉字四个角上的笔形及最靠近右下角笔形的上方的笔形，对每个角上的笔形进行四位二进制编码。请参考图9，有10种笔形，则每个角需要4个二进制位，四角号码是汉语词典常用检字方法之一，用最多5个阿拉伯数字来对汉字进行归类。四角号码可以像笔画一样用于汉字输入，效率比笔画高，取码直观方便。对汉字的编码是由这个汉字四个角上的笔形来决定，四角号码将汉字的笔形分为10种，分别用0到9的阿拉伯数字表示。每个字按左上角、右上角、左下角、右下角的次序取四个角的号码。举例：“狼”先取左上角4，其次取右上角3，再取左下角2，最后取右下角3，第5位为附号取2，这样避免了四角号码字较多时，相似性对比准确度不高的问题，因此，我们再取靠近右下角上方一个笔形作附号，如果这一笔形已经被右上角用过，则作0。则“狼”的四角号码为：“43232”。对于笔顺编码，一种实施例中，方法包括：基于字的笔顺和每一笔的笔形编码进行编码。请参考图10，根据汉字编码规则，任何汉字的结构都可以分成横、竖、撇、捺、折。笔顺编码的基本原理是将每个汉字的笔画按照特定的规则进行编号，然后根据这些编号构成一种表示笔顺的编码体系。不同的笔顺编码系统有不同的编码规则和符号表示方式，但都遵循一定的逻辑和常用的汉字书写规范。一般情况下，笔顺编码从左上角开始，从左至右、从上至下地标示汉字的每一笔。如“李”字的笔画是横、竖、撇、捺、折、竖勾、横，转换成笔顺编码是：1234521。笔顺编码反映了汉字的组成，编码相同即说明有着相同的笔画以及顺序，在一定程度上可以反映汉字字形的相似程度。对于笔画数编码，一种实施例中，方法包括：获取字的笔画数，将该字的笔画数作为该字的编码。例如，“狼”的笔画数为10，则其笔画数编码为10。基于上述内容，则我们可以得到对于“狼”字，为左右结构，四角号码为：43232，笔顺：3534511534，笔画数：10，则其字形编码为0001 0100 0011 0010 0011 0010 103534511534。步骤S022，基于得到的结构编码、四角编码、笔顺编码和笔画数编码分别进行相似度计算。得到字形编码后，计算字形相似度。一种实施例中，由于字形各个特征性质上存在差异，分别采取不同的方法分块进行相似度的计算。对于结构编码，一种实施例中，相似度计算包括：，其中，sim21为两个结构编码的相似度，h21为两个结构编码的汉明距离，len21为结构编码的编码长度。对于四角编码，一种实施例中，相似度计算包括：，其中，sim22为两个四角编码的相似度，h22为两个四角编码的汉明距离，len22为四角编码的编码长度。对于笔顺编码，一种实施例中，相似度计算包括：，其中，sim23为两个笔顺编码的相似度，LCS为汉字a和b笔顺编码之间的最长公共子序列长度，len3a为汉字a的笔顺编码长度，len3b为汉字b的笔顺编码长度；所述笔画数编码的相似度计算包括：，其中，sim24为两个笔顺编码的相似度，len4a为汉字a的笔画数，len4b为汉字b的笔画数。对于结构编码和四角编码使用编辑距离相似度算法进行计算。而对于笔顺编码和笔画数而言，由于笔画在一定程度可以反映汉字的复杂程度，笔画越多通常字形越复杂，笔画数差异越大则可以体现字形相似度越小。不同汉字的笔顺编码并不是等长的，所以其相似度可以根据编码的最长公共子序列来度量，最长公共子序列即为两个相似的字形笔画组成部分，相似笔画越多，即最长公共子序列占比越大，字形越相似。例如，“李”字的笔顺编码是：1234521，“狼”字的笔顺编码是3534511534，则在不考虑位置的情况下，两个字的最长公共子序列为345，最长公共子序列的长度即为3。步骤S023，基于计算得到的结构编码、四角编码、笔顺编码和笔画数编码的相似度，进行加权相加得到字形相似度。汉字结构指的是汉字的整体形态和组成方式，对于判断字形相似度非常重要，可以赋予较高的权重，给予汉字结构权重系数为0.4。四角号码是一种将汉字按照四个角的形状进行编码的方法，可以作为字形相似度的参考。在一些汉字输入法和字典中广泛使用，可以赋予较高的权重，给予四角号码权重系数为0.3。笔顺编码是按照汉字的书写顺序进行编码的方法，可以用于判断字形相似度和书写顺序的相似性。在一些汉字输入法和书法教学中常用，可以赋予适当的权重。给予笔顺编码权重系数为0.2。笔画数指的是汉字所包含的基本笔画数量，可以用于判断字形的复杂程度。在字形相似度对比中，笔画数可以作为一个辅助因素，赋予相对较低的权重，给予笔画数权重系数为0.1。因此，我们基于计算得到的结构编码、四角编码、笔顺编码和笔画数编码的相似度，可以得到两个汉字a和b之间的字形相似度为：。步骤S03，对计算得到的字音相似度和字形相似度的进行加权相加得到两个字的相似度。给予字音0.5的权重，字形0.5的权重，在计算得到的字音相似度和字形相似度的基础上，我们可以得到汉字a和汉字b之间的相似度为：。本申请的一种实施例中提供了一种计算机可读存储介质，介质上存储有程序，存储的程序包括能够被处理器加载并处理上述任意一实施例中的姓名消歧方法。本领域技术人员可以理解，上述实施方式中各种方法的全部或部分功能可以通过硬件的方式实现，也可以通过计算机程序的方式实现。当上述实施方式中全部或部分功能通过计算机程序的方式实现时，该程序可以存储于一计算机可读存储介质中，存储介质可以包括：只读存储器、随机存储器、磁盘、光盘、硬盘等，通过计算机执行该程序以实现上述功能。例如，将程序存储在设备的存储器中，当通过处理器执行存储器中程序，即可实现上述全部或部分功能。另外，当上述实施方式中全部或部分功能通过计算机程序的方式实现时，该程序也可以存储在服务器、另一计算机、磁盘、光盘、闪存盘或移动硬盘等存储介质中，通过下载或复制保存到本地设备的存储器中，或对本地设备的系统进行版本更新，当通过处理器执行存储器中的程序时，即可实现上述实施方式中全部或部分功能。以上应用了具体个例对本发明进行阐述，只是用于帮助理解本发明，并不用以限制本发明。对于本发明所属技术领域的技术人员，依据本发明的思想，还可以做出若干简单推演、变形或替换。
