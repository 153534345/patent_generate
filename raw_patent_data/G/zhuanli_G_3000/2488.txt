标题title
一种电缆绝缘层的图像检测方法
摘要abst
本发明涉及图像数据处理技术领域，具体涉及一种电缆绝缘层的图像检测方法；首先获取电缆的红外热图像，根据红外热图像不同区域的温度差异变化特征进行分割，获得不同区域图像；根据区域内的像素点灰度特征获得对应区域图像的增强程度系数；根据不同区域的增强程度系数以及对应区域的权重系数获得红外热图像的自适应增强程度系数；根据改进的自适应增强程度系数对红外热图像进行图像增强，根据图像增强后的红外热图像对电缆绝缘层进行检测，提高电缆绝缘层异常检测的准确性。
权利要求书clms
1.一种电缆绝缘层的图像检测方法，其特征在于，该方法包括以下步骤：采集电缆的红外热图像，根据所述红外热图像中目标像素点在预设邻域范围内的灰度分布获得目标像素点处于温度过渡区域的概率值；根据所述红外热图像中各像素点的概率值对所述红外热图像分割，获得温度过渡区域图像；根据所述温度过渡区域图像的灰度均值对所述红外热图像的其他区域分割，获得高温区域图像和低温区域图像；在所述温度过渡区域图像、所述高温区域图像和所述低温区域图像中任选一个作为目标图像，根据所述目标图像中像素点灰度值和灰度直方图峰度获得对应所述目标图像的增强程度系数；根据所述红外热图像中不同区域的增强程度系数与对应区域的像素点的所述概率值获得所述红外热图像的自适应增强程度系数；根据自适应增强程度系数对所述红外热图像进行拉普拉斯锐化，获得所述红外热图像的增强图像；对所述增强图像分割，获得高温增强区域和低温增强区域；根据所述高温增强区域和所述低温增强区域之间的温度差异，检测电缆绝缘层是否异常。2.根据权利要求1所述的一种电缆绝缘层的图像检测方法，其特征在于，所述目标像素点处于温度过渡区域的概率值的获取步骤包括：获取目标像素点在预设邻域范围内的像素点灰度级数量并进行归一化；计算目标像素点在预设邻域范围内的像素点灰度值的最大值与最小值的差值，获得目标像素点灰度极差值；根据目标像素点归一化后的灰度级数量与目标像素点灰度极差值的乘积，获得目标像素点所述概率值。3.根据权利要求1所述的一种电缆绝缘层的图像检测方法，其特征在于，所述根据所述红外热图像中各像素点的概率值对所述红外热图像分割，获得温度过渡区域图像的获取步骤包括：将所述红外热图像中各位置的像素点的灰度值替换成对应像素点的所述概率值，获得所述红外热图像的概率图像；根据概率图像中不同的像素点的概率值使用K均值聚类算法将像素点聚类为两簇，根据聚类结果对概率图像分割为两类，获得不同的概率区域图像；以概率值最大的所述概率区域图像中的像素点作为温度过渡区域图像像素点，获得所述温度过渡区域图像。4.根据权利要求1所述的一种电缆绝缘层的图像检测方法，其特征在于，所述高温区域图像和低温区域图像的获取步骤包括：计算所述温度过渡区域图像中像素点的灰度均值，作为第一分割阈值，通过第一分割阈值对所述红外热图像除温度过渡区域的其他区域进行分割，像素点灰度值大于等于第一分割阈值的区域分割为高温区域图像；像素点灰度值小于第一分割阈值的区域分割为低温区域图像。5.根据权利要求1所述的一种电缆绝缘层的图像检测方法，其特征在于，所述目标图像的增强程度系数的获取步骤包括：计算所述目标图像中灰度值的最大值与最小值的差值，作为目标图像灰度极差值；计算所述目标图像的灰度均值与灰度极差值的乘积；计算所述目标图像的灰度直方图的峰度和对应图像灰度均值与灰度极差值的乘积的比值，作为第一比值；计算所述目标图像中目标像素点与对应预设邻域范围内其他像素点的均值差值，作为目标像素点的拉普拉斯算子，并对目标像素点的拉普拉斯算子绝对值进行负相关归一化；计算所述目标图像中目标像素点与对应预设邻域范围内像素点的灰度方差，作为目标像素点的修正系数；计算所述目标图像中所有像素点的负相关归一化后的拉普拉斯算子和对应像素点的修正系数的乘积的平均值，作为第一乘积均值；计算第一比值和第一乘积均值的乘积，获得所述目标图像的增强程度系数。6.根据权利要求1所述的一种电缆绝缘层的图像检测方法，其特征在于，所述红外热图像的自适应增强程度系数的获取步骤包括：计算温度过渡区域图像中各像素点处于温度过渡区域的概率值均值，作为第一概率值均值；计算红外热图像除温度过渡区域的其他区域的各像素点处于温度过渡区域的概率值均值，作为第二概率值均值；计算第一概率值均值和第二概率值均值的和值，作为第三概率值；计算第一概率值均值和第三概率值的比值，作为温度过渡区域图像的第一权重系数；计算温度过渡区域的第一权重系数与对应温度过渡区域图像的增强程度系数的乘积，作为温度过渡区域图像的增强程度；计算第二概率值均值和第三概率值的比值，作为红外热图像除温度过渡区域的其他区域图像的第二权重系数，计算红外热图像除温度过渡区域的高温区域图像和低温区域图像的增强程度系数平均值与对应第二权重系数的乘积，作为红外热图像除温度过渡区域的其他区域图像的增强程度；对温度过渡区域图像的增强程度与红外热图像除温度过渡区域的其他区域图像的增强程度计算和值并进行归一化，获得所述红外热图像的自适应增强程度，计算红外热图像的自适应增强程度与预设最大增强系数的乘积，获得所述红外热图像的自适应增强程度系数。7.根据权利要求1所述的一种电缆绝缘层的图像检测方法，其特征在于，所述红外热图像的增强图像的获取步骤包括：计算红外热图像中目标像素点的拉普拉斯算子与自适应增强程度系数的乘积，作为第二乘积，计算红外热图像中所有像素点的灰度值与对应像素点的第二乘积，作为增强后的像素点灰度值，根据增强后的像素点灰度值获得红外热图像的增强图像。8.根据权利要求1所述的一种电缆绝缘层的图像检测方法，其特征在于，所述高温增强区域和低温增强区域的获取步骤包括：通过大津法计算所述增强图像的第二分割阈值，增强图像中像素点灰度值大于第二分割阈值的区域分割为高温增强区域；增强图像中像素点灰度值小于等于第二分割阈值的区域分割为低温增强区域。9.根据权利要求1所述的一种电缆绝缘层的图像检测方法，其特征在于，所述检测电缆绝缘层是否异常的步骤包括：首先至少分别选取两张正常电缆红外热图像和两张异常电缆红外热图像，计算其中每张图像的高温增强区域和低温增强区域的灰度均值的差值，作为第一差值，计算选取的所有红外热图像的第一差值平均值，作为判断阈值；对新获取的红外热图像的增强图像进行分割，计算分割后的高温增强区域与低温增强区域的灰度均值的差值，当分割后的高温增强区域与低温增强区域的灰度均值的差值大于等于判断阈值，则判断新获取的电缆绝缘层图像异常，对应的电缆绝缘层区域异常；当分割后的高温增强区域与低温增强区域的灰度均值的差值小于判断阈值，则判断新获取的电缆绝缘层图像正常，对应的电缆绝缘层区域正常。
说明书desc
技术领域本发明涉及图像数据处理技术领域，具体涉及一种电缆绝缘层的图像检测方法。背景技术电缆绝缘层主要作用是使电缆中的导体与周围环境或相邻导体间相互绝缘，当电缆绝缘层出现老化或损伤时，会导致电缆温度过高、耗电量增大，甚至当绝缘层被击穿时，易导致电缆爆炸起火。因此为了保证电缆使用的安全，需要对电缆绝缘层进行高效准确地检测，由于电缆绝缘侧外有绝缘保护层，且一些电缆铺设于地下，因此可以利用红外热成像技术检测电缆绝缘层。然而红外热图像的对比度低、分辨细节能力较差，影响后续的电缆绝缘侧的检测，需要对获取的红外热图像进行增强处理；但传统的拉普拉斯锐化算法中的增强程度系数一般为1，对于不同特征的电缆绝缘层图像，容易导致增强后的图像出现欠增强或者过增强的情况，最终使电缆绝缘层的检测结果准确性降低，增加电缆使用的隐患。发明内容为了解决上述对电缆绝缘层的红外热图像增强处理的效果不佳，导致检测准确性降低的技术问题，本发明的目的在于提供一种电缆绝缘层的图像检测方法，所采用的技术方案具体如下：采集电缆的红外热图像，根据所述红外热图像中目标像素点在预设邻域范围内的灰度分布获得目标像素点处于温度过渡区域的概率值；根据所述红外热图像中各像素点的概率值对所述红外热图像分割，获得温度过渡区域图像；根据所述温度过渡区域图像的灰度均值对所述红外热图像的其他区域分割，获得高温区域图像和低温区域图像；在所述温度过渡区域图像、所述高温区域图像和所述低温区域图像中任选一个作为目标图像，根据所述目标图像中像素点灰度值和灰度直方图峰度获得对应所述目标图像的增强程度系数；根据所述红外热图像中不同区域的增强程度系数与对应区域的像素点的所述概率值获得所述红外热图像的自适应增强程度系数；根据自适应增强程度系数对所述红外热图像进行拉普拉斯锐化，获得所述红外热图像的增强图像；对所述增强图像分割，获得高温增强区域和低温增强区域；根据所述高温增强区域和所述低温增强区域之间的温度差异，检测电缆绝缘层是否异常。进一步地，所述目标像素点处于温度过渡区域的概率值的获取步骤包括：获取目标像素点在预设邻域范围内的像素点灰度级数量并进行归一化；计算目标像素点在预设邻域范围内的像素点灰度值的最大值与最小值的差值，获得目标像素点灰度极差值；根据目标像素点归一化后的灰度级数量与目标像素点灰度极差值的乘积，获得目标像素点所述概率值。进一步地，所述根据所述红外热图像中各像素点的概率值对所述红外热图像分割，获得温度过渡区域图像的获取步骤包括：将所述红外热图像中各位置的像素点的灰度值替换成对应像素点的所述概率值，获得所述红外热图像的概率图像；根据概率图像中不同的像素点的概率值使用K均值聚类算法将像素点聚类为两簇，根据聚类结果对概率图像分割为两类，获得不同的概率区域图像；以概率值最大的所述概率区域图像中的像素点作为温度过渡区域图像像素点，获得所述温度过渡区域图像。进一步地，所述高温区域图像和低温区域图像的获取步骤包括：计算所述温度过渡区域图像中像素点的灰度均值，作为第一分割阈值，通过第一分割阈值对所述红外热图像除温度过渡区域的其他区域进行分割，像素点灰度值大于等于第一分割阈值的区域分割为高温区域图像；像素点灰度值小于第一分割阈值的区域分割为低温区域图像。进一步地，所述目标图像的增强程度系数的获取步骤包括：计算所述目标图像中灰度值的最大值与最小值的差值，作为目标图像灰度极差值；计算所述目标图像的灰度均值与灰度极差值的乘积；计算所述目标图像的灰度直方图的峰度和对应图像灰度均值与灰度极差值的乘积的比值，作为第一比值；计算所述目标图像中目标像素点与对应预设邻域范围内其他像素点的均值差值，作为目标像素点的拉普拉斯算子，并对目标像素点的拉普拉斯算子绝对值进行负相关归一化；计算所述目标图像中目标像素点与对应预设邻域范围内像素点的灰度方差，作为目标像素点的修正系数；计算所述目标图像中所有像素点的负相关归一化后的拉普拉斯算子和对应像素点的修正系数的乘积的平均值，作为第一乘积均值；计算第一比值和第一乘积均值的乘积，获得所述目标图像的增强程度系数。进一步地，所述红外热图像的自适应增强程度系数的获取步骤包括：计算温度过渡区域图像中各像素点处于温度过渡区域的概率值均值，作为第一概率值均值；计算红外热图像除温度过渡区域的其他区域的各像素点处于温度过渡区域的概率值均值，作为第二概率值均值；计算第一概率值均值和第二概率值均值的和值，作为第三概率值；计算第一概率值均值和第三概率值的比值，作为温度过渡区域图像的第一权重系数；计算温度过渡区域的第一权重系数与对应温度过渡区域图像的增强程度系数的乘积，作为温度过渡区域图像的增强程度；计算第二概率值均值和第三概率值的比值，作为红外热图像除温度过渡区域的其他区域图像的第二权重系数，计算红外热图像除温度过渡区域的高温区域图像和低温区域图像的增强程度系数平均值与对应第二权重系数的乘积，作为红外热图像除温度过渡区域的其他区域图像的增强程度；对温度过渡区域图像的增强程度与红外热图像除温度过渡区域的其他区域图像的增强程度计算和值并进行归一化，获得所述红外热图像的自适应增强程度，计算红外热图像的自适应增强程度与预设最大增强系数的乘积，获得所述红外热图像的自适应增强程度系数。进一步地，所述红外热图像的增强图像的获取步骤包括：计算红外热图像中目标像素点的拉普拉斯算子与自适应增强程度系数的乘积，作为第二乘积，计算红外热图像中所有像素点的灰度值与对应像素点的第二乘积，作为增强后的像素点灰度值，根据增强后的像素点灰度值获得红外热图像的增强图像。所述高温增强区域和低温增强区域的获取步骤包括：通过大津法计算所述增强图像的第二分割阈值，增强图像中像素点灰度值大于第二分割阈值的区域分割为高温增强区域；增强图像中像素点灰度值小于等于第二分割阈值的区域分割为低温增强区域。进一步地，所述检测电缆绝缘层是否异常的步骤包括：首先至少分别选取两张正常电缆红外热图像和两张异常电缆红外热图像，计算其中每张图像的高温增强区域和低温增强区域的灰度均值的差值，作为第一差值，计算选取的所有红外热图像的第一差值平均值，作为判断阈值；对新获取的红外热图像的增强图像进行分割，计算分割后的高温增强区域与低温增强区域的灰度均值的差值，当分割后的高温增强区域与低温增强区域的灰度均值的差值大于等于判断阈值，则判断新获取的电缆绝缘层图像异常，对应的电缆绝缘层区域异常；当分割后的高温增强区域与低温增强区域的灰度均值的差值小于判断阈值，则判断新获取的电缆绝缘层图像正常，对应的电缆绝缘层区域正常。本发明具有如下有益效果：在本发明实施例中，因为目标像素点在预设邻域范围内的灰度分布情况能够体现目标像素点局部的温度差异变化特征，因此可获得像素点处于温度过渡区域的概率值。根据概率值对红外热图像进行分割，能够根据温度差异变化情况准确地获得温度过渡区域图像和其他区域图像。根据温度过渡区域图像的灰度均值能够简单且准确地将红外热图像除温度过渡区域的其他区域分割，获得高温区域图像和低温区域图像。根据目标图像的像素点灰度值和灰度直方图峰度获得目标图像的增强程度系数，能够考虑到根据目标图像区域的整体对比度特征以及目标图像中的各个像素点处的局部细节特征，获得目标图像的增强程度系数，使得目标图像的增强程度系数结果能够基于目标图像的特征情况，在后续增强过程中提高目标图像的图像增强质量。将概率值和增强程度系数共同分析获得自适应增强程度系数，能够结合红外热图像中不同区域的类别分布自适应地调整增强程度系数，保障温度过渡区域的对比度和细节特征的增强效果，提高了后续的红外热图像的分割准确率。根据自适应增强程度系数对红外热图像进行拉普拉斯锐化，获得红外热图像的增强图像；能够基于红外热图像自身的图像特征进行自适应的图像增强，减少欠增强或过增强情况，提高了增强图像的质量，最终提高电缆绝缘层的检测准确性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种电缆绝缘层的图像检测方法流程图；图2为本发明一个实施例所提供的一种电缆绝缘层正常的红外热图像；图3为本发明一个实施例所提供的一种电缆绝缘层异常的红外热图像。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种电缆绝缘层的图像检测方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种电缆绝缘层的图像检测方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种电缆绝缘层的图像检测方法流程图，该方法包括以下步骤：步骤S1，采集电缆的红外热图像，根据红外热图像中目标像素点在预设邻域范围内的灰度分布获得目标像素点处于温度过渡区域的概率值；根据红外热图像中各像素点的概率值对红外热图像分割，获得温度过渡区域图像；根据温度过渡区域图像的灰度均值对红外热图像的其他区域分割，获得高温区域图像和低温区域图像。在本发明实施例中，实施场景为对地下埋设的电缆绝缘层的异常检测。由于大多数电缆铺设在地下，需要用到红外热成像技术获取电缆图像，因此通过智能巡检机器人搭载红外热成像仪采集电缆的红外热图像并进行灰度化处理。在红外热图像中，对于电缆绝缘层破损的地方，电缆温度过高、耗电量增大，其破损处的红外热图像会存在温度异常的区域，和电缆绝缘层正常的红外热图像存在一定差异，差异情况如图2和图3所示，图2为正常电缆的红外热图像；图3为存在绝缘层破损的红外热图像。但是红外热图像的对比度低，分辨图像中细节的能力差，图像边缘模糊，影响后续电缆绝缘层的异常检测。因此需要对获取的电缆绝缘层的红外热图像进行增强处理，图像增强的目的是加强电缆高温区域到低温区域之间的亮度差与细节信息，方便后续高温区域的精准分割，提高电缆绝缘层异常检测的准确性。拉普拉斯锐化算法可用于图像增强处理，传统的拉普拉斯锐化算法中的增强程度系数一般为1，对于不同特征的红外热图像，容易导致增强后的图像出现欠增强或者过增强现象，降低异常检测的准确率。为了提高检测电缆绝缘层异常的准确率，需要对拉普拉斯锐化算法中的增强程度系数进行改进。通过改进增强程度系数，能够根据不同特征的电缆绝缘层红外热图像进行自适应调整，保证图像中重要区域的对比度和细节特征的增强效果，使电缆绝缘层异常区域和正常区域之间的灰度差异明显。首先，在本发明实施例中，图像增强目的是加强电缆高温区域到低温区域之间的亮度差和细节信息，方便后续高温区域的精准分割。所以需要分割出红外热图像内的高温区域到低温区域之间的温度过渡区域，进而根据温度过渡区域以及其他区域的特征，获取拉普拉斯锐化算法的自适应增强程度系数。因红外热图像中的温度传导具有方向性，即高温向低温传导，故红外热图像中的温度过渡区域是指温度差异变化较大的区域，即电缆绝缘层破损高温处的周围区域，红外热图像中除温度过渡区域外其他区域的温度较为稳定。因为要找到红外热图像中的温度过渡区域，所以需要计算红外热图像中各个像素点在温度过渡区域的概率。结合温度过渡区域的定义即特征，可根据红外热图像中目标像素点在预设邻域范围内的灰度分布获得目标像素点处于温度过渡区域的概率值，具体包括：获取目标像素点在预设邻域范围内的像素点的灰度级数量并进行归一化，目标像素点是指红外热图像中的任意像素点；计算目标像素点在预设邻域范围内的像素点中灰度值的最大值与最小值的差值，获得目标像素点灰度极差值；根据目标像素点归一化后的灰度级数量与目标像素点灰度极差值的乘积，获得目标像素点处于温度过渡区域的概率值。计算目标像素点处于温度过渡区域的概率值的具体公式为：式中，表示红外热图像中第个目标像素点处于温度过渡区域的概率值，表示第个目标像素点在预设邻域范围内的像素点的灰度级数量；表示目标像素点的预设邻域范围数量，在本发明实施例中，预设邻域范围指目标像素点以及对应八邻域像素点的范围，则为9；表示第个目标像素点在预设邻域范围内的像素点中的灰度最大值；表示第个目标像素点在预设邻域范围内的像素点的灰度最小值。因为的最大值为，故表示对进行归一化处理；表示目标像素点灰度极差值。可以表示目标像素点在预设邻域范围的温度差异变化情况，当灰度级数越多，即不同的温度值越多，意味着目标像素点在预设邻域范围内的温度差异变化越多；可以表示温度值的差异，当目标像素点灰度极差值越大，意味着目标像素点在预设邻域范围的温度差越大。因为温度过渡区域的温度差异变化较大，因此和的值越大，意味着目标像素点的位置处于温度过渡区域的概率越大。故与的乘积越大，则意味则目标像素点的位置处于温度过渡区域的概率越大，即值越大。至此，获得电缆绝缘层的红外热图像的所有像素点的位置处于温度过渡区域的概率值；进而根据红外热图像中各像素点的概率值对红外热图像分割，获得温度过渡区域图像，具体步骤为：将红外热图像中各位置的像素点的灰度值替换成对应像素点处于温度过渡区域的概率值，获得红外热图像的概率图像。根据概率图像中不同的像素点的概率值使用K均值聚类算法将像素点聚类为两簇，根据聚类结果对概率图像分割为两类，获得不同的概率区域图像；以概率值最大的概率区域图像中的像素点作为温度过渡区域图像像素点，获得温度过渡区域图像，获得温度过渡区域图像。需要说明的是，K均值聚类算法属于现有技术，具体聚类步骤不再赘述。因为红外热图像中的像素点处于温度过渡区域的概率值能够体现其像素点位置是否在温度过渡区域的概率，所以在通过概率值获得的概率图像中，处于温度过渡区域的像素点的概率值大，而其他区域的概率值小；因此可以通过聚类算法设定聚类为两簇，将概率值高的像素点聚类为一簇，概率值低的像素点聚类为一簇；根据聚类结果将概率图像分割为两类，获得不同的概率区域图像。以概率值最大的概率区域图像中的像素点作为温度过渡区域图像像素点，获得温度过渡区域图像，获得红外热图像中的温度过渡区域图像。进一步地，获得红外热图像的温度过渡区域之后，其他区域还包括高温区域和低温区域，为了能够准确地计算红外热图像的自适应增强程度系数，还需要将红外热图像的其他区域中高温区域和低温区域进行分割。根据温度过渡区域图像的灰度均值对红外热图像的其他区域分割，获得高温区域图像和低温区域图像，具体包括：计算温度过渡区域图像中像素点的灰度均值，作为第一分割阈值，通过第一分割阈值对红外热图像除温度过渡区域的其他区域进行分割，像素点灰度值大于等于第一分割阈值的区域分割为高温区域图像；像素点灰度值小于第一分割阈值的区域分割为低温区域图像。因为高温区域的灰度值大，低温区域的灰度值小，因此可以根据温度过渡区域的灰度值均值进行分割，获得高温区域图像以及低温区域图像。至此，获得电缆的红外热图像的温度过渡区域图像、高温区域图像和低温区域图像后，为了获得更准确的红外热图像的自适应增强程度系数，需要分别计算不同区域的增强程度系数。步骤S2，在温度过渡区域图像、高温区域图像和低温区域图像中任选一个作为目标图像，根据目标图像中像素点灰度值和灰度直方图峰度获得对应目标图像的增强程度系数。因为计算不同区域图像的增强程度系数，需要根据对应区域的特征进行分析，区域图像中的各个像素点的灰度值以及灰度分布范围情况即灰度直方图的峰度能够体现区域图像的整体对比度特征以及各个像素点的局部细节特征，因此可根据图像中像素点的灰度值和灰度直方图峰度获得对应图像的增强程度系数。因为在不同的区域图像中计算对应区域的增强程度系数的步骤相同，在本发明实施例中，将在温度过渡区域图像、高温区域图像和低温区域图像中任选一个作为目标图像，根据目标图像中像素点灰度值和灰度直方图峰度获得对应目标图像的增强程度系数，不再分别赘述不同区域图像的增强程度系数的计算步骤。目标图像的增强程度系数获取步骤具体包括：计算目标图像中灰度值的最大值与最小值的差值，作为目标图像灰度极差值；计算目标图像的灰度均值与灰度极差值的乘积；计算目标图像的灰度直方图的峰度和对应图像灰度均值与灰度极差值的乘积的比值，作为第一比值。计算目标图像中目标像素点与对应预设邻域范围内其他像素点的均值差值，作为目标像素点的拉普拉斯算子，并对目标像素点的拉普拉斯算子绝对值进行负相关归一化；计算目标图像中目标像素点在预设邻域范围内的像素点灰度方差，作为目标像素点的修正系数；计算目标图像中所有像素点的负相关归一化后的拉普拉斯算子和对应像素点的修正系数的乘积的平均值，作为第一乘积均值；计算第一比值和第一乘积均值的乘积，获得目标图像的增强程度系数。获取目标图像的增强程度系数的具体公式为：式中，表示目标图像的增强程度系数，表示目标图像的像素点的灰度直方图的峰度，即灰度直方图分布形态的陡缓程度；表示目标图像的最大灰度值，表示目标图像的最小灰度值，表示目标图像的灰度值均值；表示目标图像的像素点数量，表示目标图像中第个像素点在预设邻域范围内的像素点灰度方差，表示以自然常数为底的指数函数；表示目标图像中第个像素点的拉普拉斯算子，在本发明实施例中，即第个像素点的灰度值与其预设邻域范围内其他八个邻域像素点的灰度均值的差值。计算目标图像的增强程度系数的含义包括：以温度过渡区域图像为例，当电缆红外热图像中的温度过渡区域的灰度值越小、灰度范围越小，且大量像素点集中在少量灰度级上时，其温度过渡区域越模糊、对比度越低，需要进行较大程度的增强。而拉普拉斯锐化算法是当目标像素点的灰度低于其预设邻域范围内的其他像素点的平均灰度时，目标像素点的灰度应该被进一步降低；当目标像素点的灰度高于其预设邻域范围内的其他像素点的平均灰度时，目标像素点的灰度应该被进一步提高。但由于温度传导的方向性，温度过渡区域中目标像素点的预设邻域范围其他像素点沿着温度下降方向，目标像素点的预设邻域范围内其他像素点中的一部分像素点的灰度大于目标像素点的灰度，一部分像素点的灰度小于目标像素点的灰度。因此，容易导致目标像素点的灰度与其预设邻域范围内其他像素点的平均灰度差异较小，即拉普拉斯算子的绝对值较小，对温度过渡区域的增强效果较差；但目标像素点在预设邻域范围内的灰度方差较大。故利用目标像素点在预设邻域范围内的灰度方差对拉普拉斯算子进行校正，将目标像素点在预设邻域范围内的灰度方差作为修正系数，提高温度过渡区域的增强程度系数的准确性。以温度过渡区域图像为例，表示根据温度过渡区域整体对比度特征获取的增强程度，当温度过渡区域的平均亮度即越低时，需要较大的增强程度，使低亮度图像细节明显；当温度过渡区域的灰度范围越小、灰度直方图的峰度越大时，灰度直方图越陡峭，说明温度过渡区域内的大量像素点分布在少量的灰度级上，且各灰度级较为集中，温度过渡区域对比度较低，需要较大的增强程度，提高对比度。表示根据温度过渡区域的各个像素点的细节特征和增强效果获取的增强程度，当目标像素点在预设邻域范围内的灰度方差越大，即目标像素点处的局部细节特征越多，所需要的增强程度越大。当拉普拉斯算子的绝对值较小，意味着目标像素点的灰度与其预设邻域范围内的其他像素点的灰度均值差异较小，因此需要较大的增强程度系数，增强图像细节；当拉普拉斯算子的绝对值较大，则说明增强程度较高，为了避免过增强，需要减小增强程度系数，因此使用对拉普拉斯算子进行约束，当拉普拉斯算子绝对值越小，越接近1；当拉普拉斯算子绝对值越大，越接近0。因此，使用和的乘积表示温度过渡区域所需的增强程度系数，提高温度过渡区域的对比度和细节特征的增强效果。至此，对于红外热图像中的温度过渡区域、高温区域和低温区域，计算得到了对应区域的增强程度系数；为了提高红外热图像整体增强效果，需要根据不同区域的增强程度系数进行加权计算，获得红外热图像的自适应增强程度系数。步骤S3，根据红外热图像中不同区域的增强程度系数与对应区域的像素点的概率值获得红外热图像的自适应增强程度系数；根据自适应增强程度系数对红外热图像进行拉普拉斯锐化，获得红外热图像的增强图像。根据区域的增强程度系数和对应区域中像素点的概率值结合分析，获得红外热图像的自适应增强程度系数，能够结合红外热图像中不同区域的类别分布情况以及特征情况自适应的调整增强程度系数，保障温度过渡区域的对比度和细节特征的增强效果，进而提高图像增强的质量。首先，根据红外热图像中不同区域的增强程度系数与对应区域的像素点的概率值获得红外热图像的自适应增强程度系数，具体包括：计算温度过渡区域图像中各像素点处于温度过渡区域的概率值均值，作为第一概率值均值；计算红外热图像除温度过渡区域的其他区域的各像素点处于温度过渡区域的概率值均值，作为第二概率值均值；计算第一概率值均值和第二概率值均值的和值，作为第三概率值。计算第一概率值均值和第三概率值的比值，作为温度过渡区域图像的第一权重系数，计算温度过渡区域的第一权重系数与对应温度过渡区域图像的增强程度系数的乘积；作为温度过渡区域图像的第一增强程度。计算第二概率值均值和第三概率值的比值，作为红外热图像除温度过渡区域的其他区域图像的第二权重系数，计算红外热图像除温度过渡区域的高温区域图像和低温区域图像的增强程度系数平均值与对应第二权重系数的乘积，作为红外热图像除温度过渡区域的其他区域图像的第二增强程度。对温度过渡区域图像的第一增强程度与红外热图像除温度过渡区域的其他区域图像的第二增强程度计算和值并进行归一化，获得红外热图像的自适应增强程度，计算红外热图像的自适应增强程度与预设最大增强系数的乘积，获得红外热图像的自适应增强程度系数。计算红外热图像的自适应增强程度系数的具体公式包括：式中，为红外热图像的自适应增强程度系数，表示归一化处理，表示温度过渡区域图像中各像素点处于温度过渡区域的概率值均值，作为第一概率值均值，表示红外热图像除温度过渡区域的其他区域的各像素点处于温度过渡区域的概率值均值，作为第二概率值均值；表示第一概率值均值和第二概率值均值的和值，作为第三概率值；表示温度过渡区域图像的增强程度系数，表示红外热图像除温度过渡区域的高温区域图像和低温区域图像的增强程度系数平均值；表示预设最大增强程度系数，在本发明实施例中，预设最大增强程度系数为1.5，实施者可根据实施场景自行设定。为温度过渡区域图像的第一权重系数，为红外热图像除温度过渡区域的其他区域图像的第二权重系数。因为对红外热图像增强的目的为准确分割出高温区域，主要需要提高温度过渡区域的对比度和细节特征，因此根据不同像素点在温度过渡区域的概率值计算权重，以第一概率值均值和第三概率值的比值、第二概率值均值和第三概率值的比值作为权重，使温度过渡区域的第一权重系数相比其他区域的第二权重系数更大；最终红外热图像的自适应增强程度系数值更偏向于温度过渡区域的增强程度系数。因为传统的拉普拉斯锐化算法中的增强程度系数一般为1，而对于不同特征的图像，容易导致增强后的图像出现欠增强或过增强的情况，因此本发明实施例中通过对红外热图像进行分割处理，分析计算各分割区域的灰度直方图特征、局部细节和增强效果，获取不同区域需要的增强程度系数；进而对红外热图像中的温度过渡区域赋予较大的权重，加权求和获取红外热图像所需的自适应增强程度系数；对不同特征的红外热图像能够得到不同的自适应增强程度系数，保障红外热图像中的温度过渡区域的对比度和细节特征的增强效果，为后续的红外热图像分割提供高质量图像。进一步地，获得红外热图像的自适应增强程度系数之后，需要根据自适应增强程度系数对红外热图像进行图像增强，具体包括：计算红外热图像中目标像素点的拉普拉斯算子与自适应增强程度系数的乘积，作为第二乘积，计算红外热图像中所有像素点的灰度值与对应像素点的第二乘积，作为增强后的像素点灰度值，根据增强后的像素点灰度值获得红外热图像的增强图像。红外热图像中增强后的像素点灰度值的计算公式为：式中，表示红外热图像中第个像素点增强后的灰度值，表示红外热图像中第个像素点的灰度值。为红外热图像中第个像素点的拉普拉斯算子，在本发明实施例中，即第个像素点的灰度值与其预设邻域范围内其他八个邻域像素点的灰度均值的差值。需要说明的是，拉普拉斯锐化算法属于公开技术，具体锐化步骤不再赘述。至此，完成了电缆的红外热图像的增强处理，获得了高质量的红外热图像的增强图像。进而需要对电缆绝缘层是否出现破损异常进行检测。步骤S4，对增强图像分割，获得高温增强区域和低温增强区域；根据高温增强区域和低温增强区域之间的温度差异，检测电缆绝缘层是否异常。首先，检测电缆绝缘层是否异常之前需要对电缆的红外热图像的增强图像进行分割，获得增强图像的高温增强区域和低温增强区域；具体包括：通过大津法计算增强图像的第二分割阈值，增强图像中像素点灰度值大于第二分割阈值的区域分割为高温增强区域；增强图像中像素点灰度值小于等于第二分割阈值的区域分割为低温增强区域。需要说明的是，大津法属于公开技术，具体分割步骤不再赘述。进一步地，获得增强图像的高温增强区域和低温增强区域后可以进行电缆绝缘层异常的检测。检测之前首先至少分别选取两张正常电缆红外热图像和两张异常电缆红外热图像，计算其中每张图像的高温增强区域和低温增强区域的灰度均值的差值，作为第一差值，计算选取的所有正常和异常的红外热图像的第一差值平均值，作为判断阈值。在本发明实施例中分别选取10正常电缆的红外热图像和10张异常电缆的红外热图像，实施者可根据实施场景自行选取红外热图像的数量。对后续新获取的红外热图像的增强图像进行分割，计算分割后的高温增强区域与低温增强区域的灰度均值的差值。因为电缆绝缘层破损出现异常时，附近温度较正常绝缘层更高，所以当分割后的高温增强区域与低温增强区域的灰度均值的差值大于等于判断阈值，则判断新获取的电缆绝缘层图像异常，对应的电缆绝缘层区域异常；当分割后的高温增强区域与低温增强区域的灰度均值的差值小于判断阈值，则判断新获取的电缆绝缘层图像正常，对应的电缆绝缘层区域正常。综上所述，本发明实施例提供了一种电缆绝缘层的图像检测方法，首先获取电缆的红外热图像，根据红外热图像不同区域的温度差异变化特征进行分割，获得不同区域图像，根据区域内的像素点灰度特征获得对应区域图像的增强程度系数；根据不同区域的增强程度系数以及对应区域的权重系数获得红外热图像的自适应增强程度系数；根据改进的自适应增强程度系数对红外热图像进行图像增强，根据图像增强后的红外热图像对电缆绝缘层进行检测，提高电缆绝缘层异常检测的准确性。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。
