标题title
一种列车智能网络管理控制系统
摘要abst
本发明涉及数据处理技术领域，提出了一种列车智能网络管理控制系统，包括：采集若干温度数据和负荷量数据；根据温度数据和负荷量数据获得二维点，将所有二维点分为若干簇类，得到每个簇类的整体差异度和每个二维点的偏离程度；获得时序序列，时序序列按照簇类得到若干子序列，根据子序列得到局部温度变化速度，根据偏离程度得到摩擦噪声程度；根据摩擦噪声程度和整体差异度得到噪声可能性；得到二维点的窗口，获得标记序列，根据标记序列以及噪声可能性得到二维点的WMA权重，由此训练马尔可夫模型判断当前状态是否异常，进行预警管理。本发明通过消除噪声影响使得对温度时序数据的分解更加准确，使得对于机械部件温度预警更加精确。
权利要求书clms
1.一种列车智能网络管理控制系统，其特征在于，该系统包括以下模块：数据采集模块，获得若干温度数据和负荷量数据；偏离程度获取模块，根据温度数据和负荷量数据获得二维点，对所有二维点聚类得到若干个簇类，得到每个簇类的簇类中心点，根据簇类中心点和每个二维点获得每个簇类的整体差异度和每个二维点的偏离程度；噪声可能性获取模块，根据温度数据和负荷量数据获得时序序列，按照簇类将时序序列划分为若干个子序列，根据子序列中二维点与相邻二维点的温度差值得到二维点的局部温度变化速度，根据二维点的偏离程度和每个簇类中二维点与最小局部温度变化速度的差异得到二维点的摩擦噪声程度；根据二维点的摩擦噪声程度和二维点所在簇类的整体差异度得到二维点的噪声可能性；控制预警模块，在时序序列中得到每个二维点的窗口，根据窗口内温度差异得到标记序列，根据标记序列中连续相同最多的值的数量以及二维点的噪声可能性得到每个二维点的WMA权重，根据二维点的WMA权重得到二维点的趋势信息和周期信息，根据温度数值、负荷量数值、趋势信息数值与周期信息数值训练马尔可夫模型判断当前状态是否异常，并进行预警管理。2.根据权利要求1所述的一种列车智能网络管理控制系统，其特征在于，所述根据温度数据和负荷量数据获得二维点的方法为：将同一个时序中对应的温度数据做横坐标，负荷量数据做纵坐标，同一时序中对应的两个数据作为一个二维点。3.根据权利要求1所述的一种列车智能网络管理控制系统，其特征在于，所述根据簇类中心点和每个二维点获得每个簇类的整体差异度和每个二维点的偏离程度的方法为：对于每个簇类得到簇类中心点和其余二维点的欧式距离，将每个二维点和簇类中心点的欧式距离线性归一化与1的差记为二维点的偏离程度，将所有二维点与簇类中心点的欧式距离的均值线性归一化与1作差记为簇类的整体差异度。4.根据权利要求1所述的一种列车智能网络管理控制系统，其特征在于，所述根据温度数据和负荷量数据获得时序序列的方法为：将同一时序下采集的温度数据和负荷量数据作为时序序列的一个值，所有采集得到的数据构成时序序列。5.根据权利要求1所述的一种列车智能网络管理控制系统，其特征在于，所述根据子序列中二维点与相邻二维点的温度差值得到二维点的局部温度变化速度的方法为：将子序列中每个二维点记为主要二维点，将主要二维点与相邻靠前的二维点温度作差得到第一温度差值，将主要二维点与相邻靠后的二维点温度作差得到第二温度差值，将第一温度差值和第二温度差值的均值作为局部温度变化速度。6.根据权利要求1所述的一种列车智能网络管理控制系统，其特征在于，所述根据二维点的偏离程度和每个簇类中二维点与最小局部温度变化速度的差异得到二维点的摩擦噪声程度的方法为：式中，vij表示第i个簇类中的第j个二维点的局部温度变化速度，min表示第i个簇类中局部温度变化速度最小的数值，Ci表示第i个簇类中的二维点的数量，δij表示第i个簇类中第j个二维点的偏离程度，exp表示以自然常数为底的指数函数，表示第i个簇类中的第j个二维点的摩擦噪声程度。7.根据权利要求1所述的一种列车智能网络管理控制系统，其特征在于，所述根据窗口内温度差异得到标记序列的方法为：将窗口中的中心二维点之前的温度数据令前一个与后一个作差，若差值大于0则标记为1，若差值小于0则标记为-1，若差值等于0则标记为0，得到标记序列。
说明书desc
技术领域本发明涉及数据处理技术领域，具体涉及一种列车智能网络管理控制系统。背景技术列车智能网络管理控制系统是一种由计算机和网络技术构成的系统，它可以智能地监测、分析、控制列车运行过程中的各种信息，从而提高列车的运行效率，降低故障率，保障列车安全。在这个智能网络管理控制系统中，包括车辆参数检测模块，列车运行管理模块，通讯联络模块与故障监测模块。对于列车中的重要机械部件，通过车辆参数检测模块获取到重要机械部件的实时负荷量数据，通过机械部件的温度传感器获取到重要机械部件的实时温度数据。其中故障监测模块是一个非常重要的模块，其主要功能是对列车各个系统的运行状态进行监测和分析，及时发现和处理各种故障，如电气故障、机械故障、信号故障等，以保证列车的正常运行。列车中的机械故障是指由于列车部件的磨损、老化、连接不良等导致的各种故障。机械故障主要表面为机械部件的震动数据异常，出现噪声，温度监测数据异常等。对于机械部件的温度数据异常检测，可以通过基于时间序列的方法，即通过机械部件的温度监测传感器采集到机械部件的温度时序数据，通过温度时序数据的趋势与周期特征进行温度异常预警。在这个过程中需要将通过列车智能网络获取到的机械部件实时温度时序数据进行时序分解，获取到温度时序数据的趋势项与周期项。通过STL分解将温度时序数据分解为温度数据的周期项，趋势项与残差项。在列车机械部件的温度数据中，其会受到工作负荷的正常温度升高，另外还会因为机械部件之间额摩擦产生温度升高的情况。对于这些因为摩擦导致的温度变化在机械部件的时序数据中呈现为数据中的一些非正常变化，如果将带有这些噪声的温度时序数据进行分解，那么获取到的周期项与趋势项就会不准确。所以在进行STL分解之前需要消除这部分因为机械部件之间摩擦产生的影响。发明内容本发明提供一种列车智能网络管理控制系统，以解决因为摩擦导致的温度变化在机械部件的时序数据中呈现为数据中的一些非正常变化的问题，所采用的技术方案具体如下：本发明一个实施例提供了一种列车智能网络管理控制系统，该系统包括：数据采集模块，获得若干温度数据和负荷量数据；偏离程度获取模块，根据温度数据和负荷量数据获得二维点，对所有二维点聚类得到若干个簇类，得到每个簇类的簇类中心点，根据簇类中心点和每个二维点获得每个簇类的整体差异度和每个二维点的偏离程度；噪声可能性获取模块，根据温度数据和负荷量数据获得时序序列，按照簇类将时序序列划分为若干个子序列，根据子序列中二维点与相邻二维点的温度差值得到二维点的局部温度变化速度，根据二维点的偏离程度和每个簇类中二维点与最小局部温度变化速度的差异得到二维点的摩擦噪声程度；根据二维点的摩擦噪声程度和二维点所在簇类的整体差异度得到二维点的噪声可能性；控制预警模块，在时序序列中得到每个二维点的窗口，根据窗口内温度差异得到标记序列，根据标记序列中连续相同最多的值的数量以及二维点的噪声可能性得到每个二维点的WMA权重，根据二维点的WMA权重得到二维点的趋势信息和周期信息，根据温度数值、负荷量数值、趋势信息数值与周期信息数值训练马尔可夫模型判断当前状态是否异常，并进行预警管理。进一步的，所述根据温度数据和负荷量数据获得二维点的方法为：将同一个时序中对应的温度数据做横坐标，负荷量数据做纵坐标，同一时许中对应的两个数据作为一个二维点。进一步的，所述根据簇类中心点和每个二维点获得每个簇类的整体差异度和每个二维点的偏离程度的方法为：对于每个簇类得到簇类中心点和其余二维点的欧式距离，将每个二维点和簇类中心点的欧式距离线性归一化与1的差记为二维点的偏离程度，将所有二维点与簇类中心点的欧式距离的均值线性归一化与1作差记为簇类的整体差异度。进一步的，所述根据温度数据和负荷量数据获得时序序列的方法为：将同一时序下采集的温度数据和负荷量数据作为时序序列的一个值，所有采集得到的数据构成时序序列。进一步的，根据子序列中二维点与相邻二维点的温度差值得到二维点的局部温度变化速度的方法为：将子序列中每个二维点记为主要二维点，将主要二维点与相邻靠前的二维点温度作差得到第一温度差值，将主要二维点与相邻靠后的二维点温度作差得到第二温度差值，将第一温度差值和第二温度差值的均值作为局部温度变化速度。进一步的，所述根据二维点的偏离程度和每个簇类中二维点与最小局部温度变化速度的差值得到二维点的摩擦噪声程度的方法为：式中，vij表示第i个簇类中的第j个二维点的局部温度变化速度，min表示第i个簇类中局部温度变化速度最小的数值，Ci表示第i个簇类中的二维点的数量，δij表示第i个簇类中第j个二维点的偏离程度，exp表示以自然常数为底的指数函数，表示第i个簇类中的第j个二维点的摩擦噪声程度。进一步的，所述根据窗口内温度差异得到标记序列的方法为：将窗口中的中心二维点之前的温度数据令前一个与后一个作差，若差值大于0则标记为1，若差值小于0则标记为-1，若差值等于0则标记为0，得到标记序列。本发明的有益效果是：本发明通过二维点在相同负荷量下的温度变化情况之间的差异对机械部件之间因摩擦导致的温度变化这一噪声影响进行消除，相较于直接通过机械部件的温度监测时序数据进行STL分解进行趋势项与周期项的确定，本发明所述方法可以通过消除噪声影响使得对温度时序数据的分解更加准确，使得对于机械部件温度预警更加精确，保证列车行驶的安全，通过机械部件的温度时序数据进行STL分解，通过数据的趋势项与周期项进行温度异常的精确预警，相较于传统的通过温度阈值对机械部件的温度异常进行预警可以保证在温度的变化出现异常时就进行预警并通过相应的措施进行处理。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明一个实施例所提供的一种列车智能网络管理控制系统的流程示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在列车的行驶过程中，列车智能网络管理控制系统中的故障监测模块对于列车中每一个重要机械部件的温度监测数据需要进行温度异常预警，当机械部件出现温度异常时需要及时进行冷却管理。但是在温度监测数据中，存在着因为机械部件之间的摩擦导致的温度变化，这一部分变化会使得温度监测数据不准确。为保证温度监测的准确性，本发明对温度时序数据进行优化。请参阅图1，其示出了本发明一个实施例提供的一种列车智能网络管理控制系统流程图，该系统包括：数据采集模块、偏离程度获取模块、噪声可能性获取模块、控制预警模块。数据采集模块，在列车智能网络关系控制系统中的故障检测系统中需要通过列车内的温度传感器采集每个机械部件的温度数据，每个机械部件每隔1min采集一次温度数据，并且在相同时间间隔下采集每个机械部件的负荷量数据。如此就可以在列车智能网络管理控制系统中对每一个机械部件得到一个温度数据序列和一个负荷量数据序列。偏离程度获取模块，将每一个时序点以温度数据和负荷量数据形成一个二维点，每个时序点得到一个二维点，二维点组成一个二维空间，在二维空间中通过ISODATA算法进行聚类，将所有二维点分为了K个簇类，ISODATA聚类之后每个簇类中的二维点即为数值相似的二维点，其簇类中心点为簇类所有二维点的均值，因为簇类中二维点与簇类中心点的平均距离是不同的，这就会导致在后续的分析过程中出现衡量误差，所以需要根据每个簇类中的类内平均距离进行簇类内二维点相似程度的衡量，并根据每个二维点与聚类中心点的距离进行类内差异衡量。获取每个簇类的整体差异度和每个簇类中每个二维点的偏离程度，公式如下：δij＝1-Norm式中，K表示通过ISODATA算法进行聚类所获取到的簇类数量；Ci表示第i个簇类的所有二维点的数量，pij表示第i个簇类中的第j个二维点，ai表示第i个簇类中的簇类中心点，Norm为线性归一化函数，||pij,ai||2表示pij与ai的欧氏距离，ξi为第i个簇类的整体差异度，δij为第i个簇类的第j个二维点的偏离程度。在ISODATA聚类的过程中，因为是自适应的聚类方法，所以在获取到簇类之后需要对聚类结果进行评估，评估的方法采用聚类结果之间的关系。对于获取到的全部簇类，认为这些簇类中簇类平均距离最小的即为相似程度最高的簇类。对于簇类中每个二维点与簇类中其他二维点的相似程度是通过单个簇类中每个二维点与这个簇类的中心点的距离进行线性归一化获取的。也就是说对于一个簇类中，二维点与簇类中心点的距离越小，则说明在这个簇类中这个二维点与其他二维点越相似。基于上式所述的通过聚类后的簇类结果对每个二维点进行相似程度的评估，在后续的过程中通过该评估结果对二维点之间的进行变化状态差异比较的过程中进行优化，可以避免因为二维点在簇类中的差异导致对于两个二维点所表示的机械部件因为部件之间摩擦导致的在相同温度与相同负荷量下存在温度变化差异的衡量不准确，从而保证列车智能网络管理控制系统的故障检测模块的预警更加准确。至此，获取到了每个簇类的整体差异度和簇类内每个二维点的偏离程度，将每一个簇类中的二维点视为相似二维点，并获取到这些相似二维点之间的差异程度的衡量。噪声可能性获取模块，对于获取到的所有二维点，根据二维点与在时序中相邻两个二维点的温度变化情况进行噪声程度的判断，将时序序列按照聚类结果分为若干子序列，时序序列为一个时序下对应一个温度数据和一个负荷量数据，采集多个得到时序序列即每个时序序列为温度数据序列和负荷量数据序列组成，每个子序列为一个簇类，其中子序列的排序为二维点时序的排序，对于每一个二维点记为主要二维点，将主要二维点与在子序列上相邻的两个二维点对应的温度作差，将主要二维点与子序列靠前相邻的二维点的温度作差记为第一温度差值，将主要二维点与子序列靠后相邻的二维点的温度作差记为第二温度差值，由此得到主要二维点的局部温度变化速度：式中，△pij1表示第i个簇类内第j个二维点的第一温度差值，△pij2表示第i个簇类内第j个二维点的第二温度差值，vij表示第i个簇类中的第j个二维点的局部温度变化速度。进一步的，获取到每个二维点的局部温度变化速度后，对于簇类中每一个二维点的温度变化速度之间的差异即为该机械部在不同时间下不同的摩擦情况导致的不同温度变化。因为摩擦会导致机械部件的温度变化速度升高，所以二维点对应的正向温度变化速度越高则说明摩擦的情况越严重。将每个二维点的局部温度变化速度与最小局部温度变化速度作差，基于此判断每个二维点的摩擦噪声程度，公式如下：式中，vij表示第i个簇类中的第j个二维点的局部温度变化速度，min表示第i个簇类中局部温度变化速度最小的数值，Ci表示第i个簇类中的二维点的数量，δij表示第i个簇类中第j个二维点的偏离程度，exp表示以自然常数为底的指数函数，表示第i个簇类中的第j个二维点的摩擦噪声程度。在簇类中，每个二维点都对应着一个局部温度变化速度，在这个簇类中通过最小的温度变化速度作为基准，通过其他二维点与其在温度变化速度上的差异进行噪声程度的衡量。在一个簇类中的二维点，二维点与簇类中心点的偏离程度越高则说明二维点之间存在的差异越大，则二维点对于噪声程度衡量的偏差越大，所以需要通过偏离程度对噪声程度进行调整。由此获取每个二维点的摩擦噪声程度，因为对于每个簇类中的二维点，是通过簇类中的温度变化速度大小进行衡量的，所以需要通过簇类的整体差异度进行统一化的衡量，从而消除因为簇类局部对比而产生的对于列车机械部件的温度变化速度衡量的偏差。式中，ξi为第i个簇类的整体差异度，表示第i个簇类中的第j个二维点的摩擦噪声程度，/＞表示第i个簇类中的第j个二维点的噪声可能性。对于二维点所在簇类，因为簇类的评估是通过簇内二维点的平均差异进行衡量的，簇类的平均差异越大则说明簇类中二维点的整体噪声程度是越高的。簇类越离散，在噪声程度衡量的过程中就会越大，为了将这一部分的误差消除，需要对获取到的摩擦噪声程度进行调整，从而保证对于二维点的噪声衡量的准确性。基于上式所述的通过簇类中二维点与局部温度变化速度最小的二维点的差异进行噪声程度的衡量，可以通过簇类中二维点相对的差异进行噪声程度的衡量，并进一步通过簇类之间差异的优化将相对衡量变成整体的衡量。从而获取到在监测到的列车机械部件在行驶过程中的温度变化中存在的机械部件之间摩擦影响温度变化的程度。在后续过程中通过噪声程度优化WMA的权重获取，从而消除数据中的噪声。至此，获得了每个二维点的噪声可能性。控制预警模块，在已经采集的时序序列中，设定一个窗口L，本实施例中设定L大小为11，窗口L以每个二维点为中心，此窗口长度可以根据时序数据的采样间隔和数据量自行设定。在实际场景中，因为对于温度监测时序数据进行STL分解时，是为了在趋势信息与周期信息上进行温度异常的预警。那么在WMA平滑的过程中，如果因为平滑导致温度二维点的趋势信息减弱，就会导致后续的检测过程中无法准确判断机械部件的温度异常。所以在通过WMA进行摩擦噪声去除并切对数据进行平滑的过程中需要保证温度二维点的趋势信息，并且因为是通过温度传感器的实时监测数据进行调整，所以可以根据窗口内最新温度二维点的连续趋势性进行最新温度二维点的趋势强度衡量，当最新二维点的趋势强度较高时则对于当前窗口的中心二维点的平滑则受到更多的最新温度二维点的影响。所以对于窗口内的每个温度二维点权重通过每个温度二维点的噪声程度与趋势强度进行获取。将窗口中的中心二维点之前的温度数据令前一个与后一个作差，若差值大于0则标记为1，若差值小于0则标记为-1，若差值等于0则标记为0，将中心二维点前的二维点标记构成长度为6的标记序列，将长度为6的标记序列中连续标记相同的最大的数量记为Nm，例如长度为6的标记序列为{1，-1，-1，-1，-1，0}，则连续标记相同最大的数量为4，基于此获得每个二维点的WMA权重公式如下：式中，表示第i个簇类中的第j个二维点的噪声可能性，Nm表示第m个二维点对应的窗口内标记序列中连续标记相同的最大的数量，εm表示第m个二维点的WMA权重。需要说明的是在上式中，i,j为在二维空间中的二维点索引，而m为时间序列中的索引，即为时间轴上第m个二维点。第m个二维点在二维数据空间中也对应着i,j的索引，若二维点为中心得到的窗口左侧或右侧不足6时，此时依然得到窗口，但窗口大小相应改变，将中心二维点左侧或右侧不足6时进行缩减，另一边不变，而当左侧不足6时，对右侧得到序列并得到Nm的值。在获取到WMA移动加权平均的权重之后，则根据该权重获取方法在每一个窗口的计算过程进行优化，完成WMA过程。获取到的消除机械部件之间摩擦温度噪声的数据之后，则通过STL分解实时获取到二维点的趋势信息Trendnew与周期信息Seasonnew。在获取到二维点的趋势信息与周期信息之后，可以通过全部历史数据训练隐马尔可夫模型用于机械部件温度异常的预警。对于每一个二维点对应的温度数值，负荷量数值，趋势信息数值与周期信息数值进行状态标注，如对于一个二维点标注四个隐藏状态信息分别为温度数值正常或异常，负荷量数值正常或异常，趋势正常或异常，周期正常或异常。通过其中前30％的数据通过统计获取到初始状态概率矩阵并根据前30％的数据获取到初始概率转移矩阵。并根据剩余70％的数据训练隐马尔可夫模型。对于实时监测到的数据通过隐马尔可夫模型获取到数据的当前状态是否异常，并根据获得的数据的当前状态是否异常进行预警管理。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
