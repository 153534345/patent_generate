标题title
一种基于区块链的边缘协作缓存系统及方法
摘要abst
本发明公开了一种基于区块链的边缘协作缓存系统及方法，系统包括边缘节点、服务器和区块链；若干边缘节点用于基于用户历史请求信息生成内容流行度分布，并通过区块链将内容流行度分布上传至服务器，服务器用于将接收到的内容流行度分布结合各边缘节点的缓存空间状态制定边缘协作缓存策略，并基于制定的边缘协作缓存策略调控相关边缘节点协作缓存流行内容数据。本发明改进区块链技术并引入协作缓存的思想，构建安全可信、协同高效的边缘协作缓存系统，提高了缓存效率和缓存命中率，最大化资源利用率，同时所有数据通过基于智能合约的区块链来传输，减少了服务器的访问压力和通信成本，降低了数据泄露的风险，可以有效防止他人的恶意入侵。
权利要求书clms
1.一种基于区块链的边缘协作缓存系统，其特征在于，包括边缘节点、服务器和区块链；若干边缘节点用于基于用户历史请求信息生成内容流行度分布，并通过区块链将内容流行度分布上传至服务器，服务器用于将接收到的内容流行度分布结合各边缘节点的缓存空间状态制定边缘协作缓存策略，并基于制定的边缘协作缓存策略调控相关边缘节点协作缓存流行内容数据。2.根据权利要求1所述基于区块链的边缘协作缓存系统，其特征在于，区块链采用多种智能合约，包括身份合同、提交合同、验证合同、绩效合同和协作合同。3.根据权利要求2所述基于区块链的边缘协作缓存系统，其特征在于，边缘节点或服务器能够接收请求终端发起的内容请求而发送对应数据，请求终端、边缘节点和服务器之间收发的数据均通过区块链进行传输。4.一种基于区块链的边缘协作缓存方法，应用于权利要求1至3任一项所述基于区块链的边缘协作缓存系统，其特征在于，包括：将用户历史请求信息输入内容流行度预测模型训练得到各边缘节点预测的内容流行度分布，并将内容流行度分布通过区块链上传至服务器；利用服务器将接收到的内容流行度分布结合各边缘节点的缓存空间状态制定边缘协作缓存策略，并基于制定的边缘协作缓存策略调控相关边缘节点协作缓存流行内容数据。5.根据权利要求4所述基于区块链的边缘协作缓存方法，其特征在于，内容流行度预测模型包括卷积层、Bi-LSTM层和全连接层。6.根据权利要求5所述基于区块链的边缘协作缓存方法，其特征在于，将用户历史请求信息输入内容流行度预测模型训练得到各边缘节点预测的内容流行度分布，包括：将各边缘节点的用户请求数据访问的历史信息输入至卷积层，利用卷积层对请求内容和请求频率进行特征提取并转化为特征序列；将特征序列输入至Bi-LSTM层，利用Bi-LSTM层学习特征序列间的时间依赖关系并计算得出Bi-LSTM层的输出；将Bi-LSTM层的输出输入至全连接层进行分类，得到以概率形式表示的内容流行度分度：；其中，y表示用户请求内容的类别，表示某一类别的内容属于流行性内容的概率，/＞表示某类内容的特征向量，/＞表示流行内容的权重参数，/＞表示流行内容的偏置参数。7.根据权利要求4所述基于区块链的边缘协作缓存方法，其特征在于，利用服务器将接收到的内容流行度分布结合各边缘节点的缓存空间状态制定边缘协作缓存策略，并基于制定的边缘协作缓存策略调控相关边缘节点协作缓存流行内容数据，包括：收集各边缘节点的资源状态信息，按照相邻边缘节点构成一个协作缓存域的方式列出域内各边缘节点的资源状态信息列表，其中/＞、/＞分别表示边缘节点中本地区和协作区的储存资源信息列表；设置内容流行度阈值S，通过服务器根据内容流行度阈值S对协作缓存域内边缘节点的内容流行度分布进行处理，生成各边缘节点的推荐缓存文件列表；利用服务器根据、/＞和/＞计算对应边缘节点是否能够完全缓存推荐文件，若对应边缘节点的储存容量足够缓存所有推荐文件，则该对应边缘节点独自缓存，若对应边缘节点的储存容量不足以缓存所有推荐文件，则将推荐文件一部分缓存至该对应边缘节点，将剩余部分缓存至协作缓存域内储存空间充足的其他边缘节点的协作区。
说明书desc
技术领域本发明涉及边缘协作缓存技术领域，尤其涉及一种基于区块链的边缘协作缓存系统及方法。背景技术面对全球移动的数据流量的爆炸性增长，为了快速获取请求的文件，需要预测物联网设备未来可能请求的文件，并将这些文件缓存在边缘节点中，以降低通信成本和服务器访问压力，于是边缘缓存被提出来缓解流量拥塞以及减少内容交付延迟。面向高度动态的网络环境，为了长期连续地做出智能缓存决策，提出了基于深度强化学习的缓存策略。虽然智能缓存决策能够一定程度上提高缓存命中率，但由于边缘节点存在储存资源低的问题，将导致用户内容数据无法充分缓存到边缘节点，未缓存的请求内容需从服务器下载，从而大大增加了数据传输压力和内容交付延迟。另外，面对高度动态的网络环境，传统的边缘智能缓存框架未能充分考虑其安全性，导致了信任第三方来保护隐私和敏感数据的安全性等问题。由于区块链具有去中心化、匿名性等特点，通过在不可信实体之间维护分布式账本，实现在不可信环境中提供高安全性。目前许多研究已经考虑将区块链和边缘缓存结合提高其数据传输过程的安全性，但其采用的区块链在验证身份和数据方面存在局限性，需要改进区块链技术来保障整个缓存系统数据传输的安全性。发明内容本发明的目的在于克服现有技术中的不足，提供一种基于区块链的边缘协作缓存系统及方法，以解决目前边缘缓存过程中缓存命中率低、缓存效率低、内容数据储存量大以及数据安全性低的问题。为解决上述技术问题，本发明是采用下述方案实现的：本发明提供了一种基于区块链的边缘协作缓存系统，包括边缘节点、服务器和区块链；若干边缘节点用于基于用户历史请求信息生成内容流行度分布，并通过区块链将内容流行度分布上传至服务器，服务器用于将接收到的内容流行度分布结合各边缘节点的缓存空间状态制定边缘协作缓存策略，并基于制定的边缘协作缓存策略调控相关边缘节点协作缓存流行内容数据。进一步的，区块链采用多种智能合约，包括身份合同、提交合同、验证合同、绩效合同和协作合同。进一步的，边缘节点或服务器能够接收请求终端发起的内容请求而发送对应数据，请求终端、边缘节点和服务器之间收发的数据均通过区块链进行传输。本发明还提供了一种基于区块链的边缘协作缓存方法，包括：将用户历史请求信息输入内容流行度预测模型训练得到各边缘节点预测的内容流行度分布，并将内容流行度分布通过区块链上传至服务器；利用服务器将接收到的内容流行度分布结合各边缘节点的缓存空间状态制定边缘协作缓存策略，并基于制定的边缘协作缓存策略调控相关边缘节点协作缓存流行内容数据。进一步的，内容流行度预测模型包括卷积层、Bi-LSTM层和全连接层。进一步的，将用户历史请求信息输入内容流行度预测模型训练得到各边缘节点预测的内容流行度分布，包括：将各边缘节点的用户请求数据访问的历史信息输入至卷积层，利用卷积层对请求内容和请求频率进行特征提取并转化为特征序列；将特征序列输入至Bi-LSTM层，利用Bi-LSTM层学习特征序列间的时间依赖关系并计算得出Bi-LSTM层的输出；将Bi-LSTM层的输出输入至全连接层进行分类，得到以概率形式表示的内容流行度分度：；其中，y表示用户请求内容的类别，表示某一类别的内容属于流行性内容的概率，/＞表示某类内容的特征向量，/＞表示流行内容的权重参数，/＞表示流行内容的偏置参数。进一步的，利用服务器将接收到的内容流行度分布结合各边缘节点的缓存空间状态制定边缘协作缓存策略，并基于制定的边缘协作缓存策略调控相关边缘节点协作缓存流行内容数据，包括：收集各边缘节点的资源状态信息，按照相邻边缘节点构成一个协作缓存域的方式列出域内各边缘节点的资源状态信息列表，其中/＞、/＞分别表示边缘节点中本地区和协作区的储存资源信息列表；设置内容流行度阈值S，通过服务器根据内容流行度阈值S对协作缓存域内边缘节点的内容流行度分布进行处理，生成各边缘节点的推荐缓存文件列表；利用服务器根据、/＞和/＞计算对应边缘节点是否能够完全缓存推荐文件，若对应边缘节点的储存容量足够缓存所有推荐文件，则该对应边缘节点独自缓存，若对应边缘节点的储存容量不足以缓存所有推荐文件，则将推荐文件一部分缓存至该对应边缘节点，将剩余部分缓存至协作缓存域内储存空间充足的其他边缘节点的协作区。与现有技术相比，本发明所达到的有益效果：1、本发明建立基于区块链的边缘协作缓存系统架构，基于区块链技术设计五种面向去中心化实体的智能合约，用于记录和验证交易，以确保数据的安全性，保障用户隐私。2、本发明考虑到预测内容流行度，提出了一种基于Bi-LSTM的内容流行度预测模型，以有效提高边缘节点预测的准确性，从而提高系统的缓存命中率。3、本发明引入协作缓存思想，提出了一种可感知的边缘协作缓存方法，提高了边缘节点资源利用率，一定程度上提高了内容缓存效率和缓存命中率。附图说明图1为本发明实施例提供的一种基于区块链的边缘协作缓存系统架构图；图2为本发明实施例提供的一种基于区块链的边缘协作缓存系统的文件请求整体流程图；图3为本发明实施例提供的区块链智能合约验证流程图；图4为本发明实施例提供的边缘节点协作缓存域示意图；图5为本发明实施例提供的可感知的边缘协作缓存策略制定和实施流程图。具体实施方式下面结合附图对本发明作进一步描述。以下实施例仅用于更加清楚地说明本发明的技术方案，而不能以此来限制本发明的保护范围。实施例一如图1所示，本实施例提供一种基于区块链的边缘协作缓存系统，包括边缘节点、服务器和区块链；若干边缘节点用于基于用户历史请求信息生成内容流行度分布，区块链用于将内容流行度分布上传至服务器，服务器用于将接收到的内容流行度分布结合各边缘节点的缓存空间状态制定边缘协作缓存策略，并基于制定的边缘协作缓存策略调控相关边缘节点协作缓存流行内容数据，边缘节点和服务器均用于响应请求终端发起的内容请求。为了提高缓存命中率和保护数据隐私，系统设计结合边缘协作缓存和区块链技术。在该系统中，请求终端由若干发送内容请求的物联网设备或用户组成，每个物联网设备将请求文件的历史数据作为本地数据发送到相应的边缘节点，然后边缘节点基于用户历史请求信息进行训练并预测未来流行度高的内容，为了确保数据的可信度，边缘节点的训练结果需要通过验证智能合约附加到区块链，然后服务器从区块链获得边缘节点的训练结果数据，服务器根据节点预测的内容流行度分布划分协作缓存域制定协作缓存策略，边缘节点与相邻多个节点构成协作缓存域，协作域内边缘节点按照缓存策略缓存相关文件数据。训练缓存完成后，物联网终端设备发起内容请求，将由边缘节点或服务器提供文件数据。此外，为了避免数据传输带来的流量拥堵和用户隐私泄露问题，物联网设备、边缘节点和服务器之间，发送方的数据会传输到区块链，然后接收方从区块链获取数据。具体的，如图2所示为本实施例提供的一种基于区块链的边缘协作缓存系统的文件请求整体流程图。当用户或物联网设备位于边缘节点的覆盖范围内时，它们将从该节点请求文件。如果请求的文件内容缓存在边缘节点中，则文件将直接从边缘节点通过区块链传输到请求用户；如果该边缘节点未缓存用户请求的文件，则根据边缘协作缓存策略所指定的协作域，向与当前节点相邻的多个边缘节点请求该用户请求的文件，若协作域内的边缘节点缓存有该文件，则文件由协作节点传输给当前节点，再由当前节点通过区块链传输给用户或物联网设备；然而如果协作域内的边缘节点都未缓存该请求文件，那么边缘节点将向服务器请求该文件，文件由服务器直接通过区块链发送给请求用户或物联网设备。为了确保系统安全以及保障用户隐私和数据传输的安全性，利用区块链技术作为分布式账本，分布式实体产生的交易将被记录和验证。事务的数据结构由物联网用户提交的数据请求的哈希值组成，或者由边缘节点训练模型梯度的哈希值组成。同时，数据传输过程中涉及的相应物联网设备、边缘节点以及服务器的身份和签名也被包括在事务中。分布式的实体将把数据提交给区块链，并定期进行验证，以确保系统的安全性。对于区块链的安全验证，本发明为分布式实体采用了五种智能合约，用于记录和验证交易：身份合同，负责管理每个实体，包括分布的物联网用户、边缘节点以及服务器等；提交合同，负责为每个实体向区块链提交它们的数据时提供接口；验证合同，负责监督联盟成员选举和交易验证；绩效合同，负责网络参与实体的代币奖励和惩罚；协作合同，负责促进多方之间的合作和协作。本实施例提供的区块链智能合约运行流程如图3所示。当边缘节点、物联网设备和服务器三者之间需要传输数据时，智能合约会调用提交合同将数据上传到区块链。提交合同首先调用身份合同来验证边缘节点、物联网设备或服务器的身份，然后将参数作为事务上传到分布式账本，同时交易将被随机和定期验证。当固定的联盟成员长期从事监督和验证交易，会使联盟体表现出低性能，可能导致错误验证，就会陷入“验证者困境”，所以为了避免“验证者困境”并提高系统的效率，系统将周期性地调用验证合同并选举监督联盟体，监督联盟体负责交易核实过程。联盟成员将投票赞成交易，如果一项交易获得多数票，则视为有效；否则，将被视为无效，并通过调用绩效合同，对相应实体进行区块链代币奖励或处罚。协作合同收集交易信息，定义参与者的职责和义务，并自动化协作过程。协作合同包含了合作的条款、条件和规则。一旦满足预设条件，智能合约将自动执行合同，无需人工干预。这种自动化执行减少了协作过程中的人为错误和延迟，进一步提高边缘节点间、边缘节点与服务器间的协作效率。实施例二本实施例提供一种基于区块链的边缘协作缓存方法，包括如下步骤：步骤一：在训练缓存周期内，边缘节点会基于上一请求服务周期内用户请求数据访问的历史信息，利用内容流行度预测模型进行训练，得到每个边缘节点预测的内容流行度分布，然后将内容流行度分布通过基于智能合约的区块链上传到服务器。为了准确预测每个边缘节点的内容流行度分布，本实施例中边缘节点的内容流行度预测模型由卷积层、递归层和全连接层组成。卷积层将输入信息进行卷积操作产生特征映射，每个卷积核对应一个特征映射，特征映射经过非线性激活函数后，作为递归层的输入传递。递归层接受一个序列输入，递归层通过在序列的每个时刻上迭代运算，将当前时刻的输入和前一个时刻的隐藏状态结合起来计算当前时刻的输出和隐藏状态。全连接层接收递归层的输出作为输入，每个神经元与上一层的所有神经元相连接，每个连接都有一个权重，输入与权重相乘，并添加偏置项，然后通过激活函数产生输出，全连接层输出最终的预测结果。其中，选择双向长短期记忆网络作为递归层，因为它扩展了存储单元，有助于学习长期的时间关系，可以更全面地考虑请求信息中的时序性，并且双向LSTM神经网络结构模型对特征提取效率和性能要优于单个 LSTM 结构模型，在请求预测的问题上能获得很好的性能。边缘节点的内容流行度预测具体包括以下几个步骤：输入层特征提取：边缘节点以用户请求数据访问的历史信息作为输入，卷积层作为特征抽取器对请求内容和请求频率进行提取特征，将其转化为特征序列，在特征空间中提供多维输入数据的抽象表示。Bi-LSTM层训练：由于输入请求信息的时序性，在输入层卷积操作后，利用Bi-LSTM学习上述所提取的请求内容和请求频率的特征序列间的时间依赖关系；在每一时刻，卷积层会同时提供所提取的特征序列输入给这两个方向相反的长短时记忆网络，由于这两个网络中的神经元互不相连，两个LSTM网络独立计算各自该时刻的新状态和输出；然后将两个单向 LSTM 网络的输出进行拼接，形成最终的输出。拼接后的输出可以包含正向和逆向特征的组合，从而更好地捕捉到时间依赖关系。LSTM网络是由一组记忆单元组成的链式循环网络结构，每个记忆单元拥有3个门结构—遗忘门、输入门和输出门。通过这3个门来控制单元状态的保持和更新，并进行状态传递和结果输出。下面以请求内容和请求频率的特征序列作为输入，来描述第t个采样点通过 LSTM单元正向传递得到新状态和输出/＞的过程。计算过程如下：遗忘门：；输入门：；；；输出门：；；其中，、/＞、/＞分别为遗忘门、输入门和输出门的激活函数，/＞、/＞、/＞表示其各个门的权重，/＞、/＞、/＞表示各个门的偏置参数， /＞表示单元状态更新值，由输入数据/＞和上一时刻输出值/＞计算得到，/＞、/＞为单元状态的权重和偏置参数。反向的LSTM传递与正向的类似，从最后一个采样点开始，依次进行计算，得到新状态和特征/＞并向前一时刻传递，同时输出/＞。将正向LSTM输出的特征/＞与反向LSTM输出的特征/＞进行拼接合并，得到第t个采样点的完整特征。该过程的公式表示如下:；生成流行度分布：将Bi-LSTM层的输出作为输入到全连接层进行分类，最后，全连接层将输出以概率形式表示的内容流行度分布，具体计算公式如下:；其中，y表示用户请求内容的类别，表示某一类别的内容属于流行性内容的概率，/＞表示某类内容的特征向量，/＞表示流行内容的权重参数，/＞表示流行内容的偏置参数。为了防止恶意边缘节点上传错误数据和数据泄露问题，边缘节点不直接向服务器发送内容流行度分布，它们将通过设计的四个智能合约的验证上传到区块链，服务器将从区块链获取相应的数据。步骤二：在请求服务周期内，服务器在接收到边缘节点的内容流行度分布后，利用所有边缘节点的内容流行度分布，并根据各个边缘节点的缓存空间状态制定边缘节点协作缓存策略，基于制定的缓存策略调控相关边缘节点协作缓存流行内容数据。本实施例提出一种可感知的边缘节点协作缓存策略，服务器在接收到边缘节点内容流行度分布数据后，根据各个边缘节点的缓存空间容量制定缓存策略，基于可感知的边缘节点协作缓存策略，服务器将选择性地发送流行度较高的内容缓存到相关边缘节点，为了提高协作缓存效率，本发明考虑采用相邻边缘节点协作的方式来缓存数据，如图4所示为边缘节点协作缓存域示意图；所有相邻边缘节点构成协作缓存域，在接收到内容访问请求后，当前节点和相邻节点协作提供内容服务。具体的，设边缘节点的数量为N，边缘节点的索引表示为，每个边缘节点都设有一定的存储容量C，用于缓存内容。为了进行边缘节点协作缓存，将每个边缘节点的储存容量分为本地区/＞和协作区/＞，其中本地区用于缓存当前边缘节点最流行的内容，协作区用于协助缓存相邻节点的流行性内容。/＞表示离散周期的索引，表示边缘节点的内容流行度分布，其中/＞表示第/＞个边缘节点的流行度分布，那么如图5所示，可感知的边缘节点协作缓存策略制定和实施步骤如下：收集资源状态信息：边缘节点删除请求频率低的文件，之后服务器收集每个边缘节点的资源信息，并按照相邻节点构成一个协作域的方式列出域内每个边缘节点的资源状态信息列表，其中/＞、/＞分别表示本地区和协作区的储存资源信息列表；生成缓存文件列表：设置一个内容流行度阈值S，将内容流行度大于或等于阈值S的文件作为推荐缓存文件，剔除内容流行度小于阈值S的文件，服务器根据此阈值对缓存域内M个节点的内容流行度分布进行处理，生成每个边缘节点的推荐缓存文件列表/＞；制定协作缓存策略：服务器根据、/＞和/＞制定缓存策略，计算节点是否能够完全缓存推荐文件，若该节点的储存容量足够缓存所有推荐文件，则该节点独自缓存；若该节点的储存容量不足以缓存所有推荐文件，则将推荐文件一部分缓存至该节点，服务器将剩余部分缓存至缓存域内储存空间充足的其他节点的协作区/＞；执行协作缓存策略：服务器根据制定的协作缓存策略将推荐的文件缓存至对应边缘节点，以便在下一周期，由协作域协同提供请求文件内容服务。以上所述仅是本发明的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明技术原理的前提下，还可以做出若干改进和变形，这些改进和变形也应视为本发明的保护范围。
