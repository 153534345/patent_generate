标题title
基于人工智能的爆珠生产异常在线检测方法
摘要abst
本发明涉及图像数据处理技术领域，具体涉及基于人工智能的爆珠生产异常在线检测方法，包括：对采集的爆珠图像进行二值化处理，得到二值爆珠图像，根据二值爆珠图像内的每列和每行像素点灰度值之和，得到列灰度序列和行灰度序列，根据列灰度序列和行灰度序列中的数据差异，确定二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠，再根据列灰度序列和行灰度序列中的数据差异和序数值差异，确定二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，由此确定异常爆珠的位置。本发明减小了传统对于爆珠大小进行检测的计算量，提高检测速度，且具有较高的适应性。
权利要求书clms
1.基于人工智能的爆珠生产异常在线检测方法，其特征在于，该方法包括以下步骤：使用相机俯视采集生产平台上的爆珠颗粒，得到爆珠图像；对爆珠图像进行二值化处理，得到二值爆珠图像；根据二值爆珠图像内的每列和每行像素点灰度值之和，得到列灰度序列与行灰度序列；根据列灰度序列与行灰度序列中的数据差异，确定二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠；根据列灰度序列和行灰度序列中的数据差异和序数值差异，确定二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量；根据二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠和二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，确定异常爆珠的位置。2.根据权利要求1所述基于人工智能的爆珠生产异常在线检测方法，其特征在于，所述对爆珠图像进行二值化处理，得到二值爆珠图像，包括的具体步骤如下：使用大津算法得到爆珠图像的分割阈值，令爆珠图像内灰度值小于等于分割阈值的像素点灰度值为1，令灰度值大于分割阈值的像素点灰度值为0，得到二值爆珠图像。3.根据权利要求1所述基于人工智能的爆珠生产异常在线检测方法，其特征在于，所述根据二值爆珠图像内的每列和每行像素点灰度值之和，得到列灰度序列与行灰度序列，包括的具体步骤如下：在二值爆珠图像内从左至右逐列统计每列像素点灰度值之和，得到列灰度序列；在二值爆珠图像内从上至下逐行统计每行像素点灰度值之和，得到行灰度序列。4.根据权利要求1所述基于人工智能的爆珠生产异常在线检测方法，其特征在于，所述根据列灰度序列与行灰度序列中的数据差异，确定二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠，包括的具体步骤如下：根据列灰度序列中的数据差异，确定新01序列；根据新01序列中为1的数据之间的数据数量，确定二值爆珠图像内所有列爆珠的最大直径和不变区长度；将每一列爆珠的不变区长度除以每一列爆珠的最大直径的商，记为每一列爆珠的依据值；取一张全部为正常爆珠的二值爆珠图像内的一列爆珠，记为标准列爆珠；将标准列爆珠的最大直径和不变区长度，分别记为标准最大直径和标准不变区长度；将标准不变区长度除以标准最大直径的商，记为标准依据值；若二值爆珠图像内一列爆珠的依据值不等于标准依据值，则判断所述一列爆珠存在异常爆珠；若二值爆珠图像内一列爆珠的依据值等于标准依据值，则判断所述一列爆珠不存在异常爆珠；根据行灰度序列中的数据差异，确定二值爆珠图像内每一行爆珠是否存在异常爆珠。5.根据权利要求4所述基于人工智能的爆珠生产异常在线检测方法，其特征在于，所述根据列灰度序列中的数据差异，确定新01序列，包括的具体步骤如下：依次计算列灰度序列中后一个数据值减去前一个数据值的差值，得到差值序列；将差值序列中为零的数据记为0，将差值序列中不为零的数据记为1，得到01序列；依次计算01序列中后一个数据值减去前一个数据值的差值，得到新差值序列；将新差值序列中为零的数据记为0，将差值序列中不为零的数据记为1，得到新01序列。6.根据权利要求4所述基于人工智能的爆珠生产异常在线检测方法，其特征在于，所述根据新01序列中为1的数据之间的数据数量，确定二值爆珠图像内所有列爆珠的最大直径和不变区长度，包括的具体步骤如下：将新01序列中第一个和第四个为1的数据之间的数据数量，记为第一列爆珠的最大直径；将新01序列中第二个和第三个为1的数据之间的数据数量，记为第一列爆珠的不变区长度；将新01序列中第五个和第八个为1的数据之间的数据数量，记为第二列爆珠的最大直径；将新01序列中第六个和第七个为1的数据之间的数据数量，记为第二列爆珠的不变区长度；以此类推，得到二值爆珠图像内所有列爆珠的最大直径和不变区长度。7.根据权利要求1所述基于人工智能的爆珠生产异常在线检测方法，其特征在于，所述根据列灰度序列和行灰度序列中的数据差异和序数值差异，确定二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，包括的具体步骤如下：将列灰度序列中连续为零的数据的序列段，记为背景区；将列灰度序列中非零数据值连续相同的序列段，记为不变区；将列灰度序列中非零数据值连续不相同的序列段，记为非零区；取一张全部为正常爆珠的二值爆珠图像，记为标准二值爆珠图像；将标准二值爆珠图像的列灰度序列，记为标准列灰度序列；区分标准列灰度序列中的背景区和不变区以及非零区；若列灰度序列中第一个非零区内的第一个数据值的序数值大于等于标准列灰度序列中第一个非零区内的第一个数据值的序数值，则判断二值爆珠图像内第一列爆珠内不存在尺寸偏大爆珠；若列灰度序列中第一个非零区内的第一个数据值的序数值小于标准列灰度序列中第一个非零区内的第一个数据值的序数值，则判断二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠；当二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠时，根据标准列灰度序列和列灰度序列中第一个非零区内相邻数据的差异，确定二值爆珠图像内第一列爆珠内的偏大爆珠数量；若列灰度序列中第一个不变区内的数据数量大于等于标准列灰度序列中第一个不变区内的数据数量，则判断二值爆珠图像内第一列爆珠内不存在尺寸偏小爆珠；若列灰度序列中第一个不变区内的数据数量小于标准列灰度序列中第一个不变区内的数据数量，则判断二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠；当二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠时，根据标准列灰度序列和列灰度序列中第一个非零区内相邻数据的差异，确定二值爆珠图像内第一列爆珠内的偏小爆珠数量。8.根据权利要求7所述基于人工智能的爆珠生产异常在线检测方法，其特征在于，所述当二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠时，根据标准列灰度序列和列灰度序列中第一个非零区内相邻数据的差异，确定二值爆珠图像内第一列爆珠内的偏大爆珠数量，包括的具体步骤如下：当二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠时，依次计算标准列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值，得到参考差值序列；将参考差值序列中第一个数据值连续相同的序列段内的数据均值，记为标准变化程度；将列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值的均值，记为偏大变化程度；将偏大变化程度除以标准变化程度的商，记为二值爆珠图像内第一列爆珠内的偏大爆珠数量。9.根据权利要求7所述基于人工智能的爆珠生产异常在线检测方法，其特征在于，所述当二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠时，根据标准列灰度序列和列灰度序列中第一个非零区内相邻数据的差异，确定二值爆珠图像内第一列爆珠内的偏小爆珠数量，包括的具体步骤如下：当二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠时，将标准列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值之和，记为标准尺寸程度；将列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值之和，记为偏小尺寸程度；将偏小尺寸程度除以标准尺寸程度的商，记为二值爆珠图像内第一列爆珠内的偏小爆珠数量。10.根据权利要求1所述基于人工智能的爆珠生产异常在线检测方法，其特征在于，所述根据二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠和二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，确定异常爆珠的位置，包括的具体步骤如下：根据二值爆珠图像内存在异常爆珠中一列爆珠和一行爆珠的交点，确定疑似异常爆珠的位置；根据二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量和疑似异常爆珠的位置，确定异常爆珠的位置。
说明书desc
技术领域本发明涉及图像数据处理技术领域，具体涉及基于人工智能的爆珠生产异常在线检测方法。背景技术爆珠在生产过程中，由于设备或工艺问题不可避免地产生缺陷，这些缺陷不仅影响爆珠的美观，而且会导致产品质量下降或不合格，需要通过实时监测和检测异常，及时发现生产过程中的问题，并采取相应的措施进行调整和纠正，以确保生产出合格的产品。爆珠生产异常在线检测可以帮助识别生产过程中存在的潜在问题和瓶颈，如设备故障、工艺异常等。通过及时发现并解决这些异常，可以提高生产效率，减少停机时间和资源浪费。且有助于避免生产过程中的不必要损失和浪费。通过及时发现和处理异常，可以减少废品和次品的产生，降低生产成本。现有问题：爆珠生产过程中通常会涉及大量的生产数量和较快的生产速度，因此对需要较高的计算速度和效率，而以往确定异常尺寸的爆珠是按面积的方式，需要对于图像将其灰度化之后按照连通域进行标记，判断八邻域内是否有相同灰度，进行遍历，获得闭合的连通域，计算量较大，会限制爆珠生产速度。发明内容本发明提供基于人工智能的爆珠生产异常在线检测方法，以解决现有的问题。本发明的基于人工智能的爆珠生产异常在线检测方法采用如下技术方案：本发明一个实施例提供了基于人工智能的爆珠生产异常在线检测方法，该方法包括以下步骤：使用相机俯视采集生产平台上的爆珠颗粒，得到爆珠图像；对爆珠图像进行二值化处理，得到二值爆珠图像；根据二值爆珠图像内的每列和每行像素点灰度值之和，得到列灰度序列与行灰度序列；根据列灰度序列与行灰度序列中的数据差异，确定二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠；根据列灰度序列和行灰度序列中的数据差异和序数值差异，确定二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量；根据二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠和二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，确定异常爆珠的位置。进一步地，所述对爆珠图像进行二值化处理，得到二值爆珠图像，包括的具体步骤如下：使用大津算法得到爆珠图像的分割阈值，令爆珠图像内灰度值小于等于分割阈值的像素点灰度值为1，令灰度值大于分割阈值的像素点灰度值为0，得到二值爆珠图像。进一步地，所述根据二值爆珠图像内的每列和每行像素点灰度值之和，得到列灰度序列与行灰度序列，包括的具体步骤如下：在二值爆珠图像内从左至右逐列统计每列像素点灰度值之和，得到列灰度序列；在二值爆珠图像内从上至下逐行统计每行像素点灰度值之和，得到行灰度序列。进一步地，所述根据列灰度序列与行灰度序列中的数据差异，确定二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠，包括的具体步骤如下：根据列灰度序列中的数据差异，确定新01序列；根据新01序列中为1的数据之间的数据数量，确定二值爆珠图像内所有列爆珠的最大直径和不变区长度；将每一列爆珠的不变区长度除以每一列爆珠的最大直径的商，记为每一列爆珠的依据值；取一张全部为正常爆珠的二值爆珠图像内的一列爆珠，记为标准列爆珠；将标准列爆珠的最大直径和不变区长度，分别记为标准最大直径和标准不变区长度；将标准不变区长度除以标准最大直径的商，记为标准依据值；若二值爆珠图像内一列爆珠的依据值不等于标准依据值，则判断所述一列爆珠存在异常爆珠；若二值爆珠图像内一列爆珠的依据值等于标准依据值，则判断所述一列爆珠不存在异常爆珠；根据行灰度序列中的数据差异，确定二值爆珠图像内每一行爆珠是否存在异常爆珠。进一步地，所述根据列灰度序列中的数据差异，确定新01序列，包括的具体步骤如下：依次计算列灰度序列中后一个数据值减去前一个数据值的差值，得到差值序列；将差值序列中为零的数据记为0，将差值序列中不为零的数据记为1，得到01序列；依次计算01序列中后一个数据值减去前一个数据值的差值，得到新差值序列；将新差值序列中为零的数据记为0，将差值序列中不为零的数据记为1，得到新01序列。进一步地，所述根据新01序列中为1的数据之间的数据数量，确定二值爆珠图像内所有列爆珠的最大直径和不变区长度，包括的具体步骤如下：将新01序列中第一个和第四个为1的数据之间的数据数量，记为第一列爆珠的最大直径；将新01序列中第二个和第三个为1的数据之间的数据数量，记为第一列爆珠的不变区长度；将新01序列中第五个和第八个为1的数据之间的数据数量，记为第二列爆珠的最大直径；将新01序列中第六个和第七个为1的数据之间的数据数量，记为第二列爆珠的不变区长度；以此类推，得到二值爆珠图像内所有列爆珠的最大直径和不变区长度。进一步地，所述根据列灰度序列和行灰度序列中的数据差异和序数值差异，确定二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，包括的具体步骤如下：将列灰度序列中连续为零的数据的序列段，记为背景区；将列灰度序列中非零数据值连续相同的序列段，记为不变区；将列灰度序列中非零数据值连续不相同的序列段，记为非零区；取一张全部为正常爆珠的二值爆珠图像，记为标准二值爆珠图像；将标准二值爆珠图像的列灰度序列，记为标准列灰度序列；区分标准列灰度序列中的背景区和不变区以及非零区；若列灰度序列中第一个非零区内的第一个数据值的序数值大于等于标准列灰度序列中第一个非零区内的第一个数据值的序数值，则判断二值爆珠图像内第一列爆珠内不存在尺寸偏大爆珠；若列灰度序列中第一个非零区内的第一个数据值的序数值小于标准列灰度序列中第一个非零区内的第一个数据值的序数值，则判断二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠；当二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠时，根据标准列灰度序列和列灰度序列中第一个非零区内相邻数据的差异，确定二值爆珠图像内第一列爆珠内的偏大爆珠数量；若列灰度序列中第一个不变区内的数据数量大于等于标准列灰度序列中第一个不变区内的数据数量，则判断二值爆珠图像内第一列爆珠内不存在尺寸偏小爆珠；若列灰度序列中第一个不变区内的数据数量小于标准列灰度序列中第一个不变区内的数据数量，则判断二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠；当二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠时，根据标准列灰度序列和列灰度序列中第一个非零区内相邻数据的差异，确定二值爆珠图像内第一列爆珠内的偏小爆珠数量。进一步地，所述当二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠时，根据标准列灰度序列和列灰度序列中第一个非零区内相邻数据的差异，确定二值爆珠图像内第一列爆珠内的偏大爆珠数量，包括的具体步骤如下：当二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠时，依次计算标准列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值，得到参考差值序列；将参考差值序列中第一个数据值连续相同的序列段内的数据均值，记为标准变化程度；将列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值的均值，记为偏大变化程度；将偏大变化程度除以标准变化程度的商，记为二值爆珠图像内第一列爆珠内的偏大爆珠数量。进一步地，所述当二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠时，根据标准列灰度序列和列灰度序列中第一个非零区内相邻数据的差异，确定二值爆珠图像内第一列爆珠内的偏小爆珠数量，包括的具体步骤如下：当二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠时，将标准列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值之和，记为标准尺寸程度；将列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值之和，记为偏小尺寸程度；将偏小尺寸程度除以标准尺寸程度的商，记为二值爆珠图像内第一列爆珠内的偏小爆珠数量。进一步地，所述根据二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠和二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，确定异常爆珠的位置，包括的具体步骤如下：根据二值爆珠图像内存在异常爆珠中一列爆珠和一行爆珠的交点，确定疑似异常爆珠的位置；根据二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量和疑似异常爆珠的位置，确定异常爆珠的位置。本发明的技术方案的有益效果是：本发明实施例中，对采集的爆珠图像进行二值化处理，得到二值爆珠图像，根据二值爆珠图像内的每列和每行像素点灰度值之和，得到列灰度序列和行灰度序列，根据列灰度序列和行灰度序列中的数据差异，确定二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠，再根据列灰度序列和行灰度序列中的数据差异和序数值差异，确定二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，由此根据二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠以及存在的偏大爆珠数量和偏小爆珠数量，由此确定异常爆珠的位置。其通过对爆珠所在行与列的像素点灰度值之和进行遍历计算，对异常爆珠进行标记，减小了传统对于爆珠大小进行检测的计算量，提高检测速度，且可以对不同种类的爆珠进行筛选，具有较高的适应性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明基于人工智能的爆珠生产异常在线检测方法的步骤流程图。图2为本实施例所提供的一个二值爆珠图像示意图。图3为本实施例所提供的一个爆珠正常大小和异常大小排列示意图示意图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的基于人工智能的爆珠生产异常在线检测方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的基于人工智能的爆珠生产异常在线检测方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的基于人工智能的爆珠生产异常在线检测方法的步骤流程图，该方法包括以下步骤：步骤S001：使用相机俯视采集生产平台上的爆珠颗粒，得到爆珠图像；对爆珠图像进行二值化处理，得到二值爆珠图像。使用相机俯视采集生产平台上的爆珠颗粒，对采集图像进行灰度化和均值滤波处理，得到爆珠图像。且采用背部打光的光源为白色平板漫射光，使用带卡槽的传送带保证了爆珠的单粒化。以往确定异常尺寸的爆珠是按面积的方式，需要对于图像将其灰度化之后按照连通域进行标记，判断八邻域内是否有相同像素或灰度，进行遍历，获得闭合的连通域，计算量较大。因此本实施例使用统计行和、列和的方式分析缺陷爆珠，可简化计算量。由于爆珠存在半透明以及灰度不均的情况，影响对爆珠尺寸的判断，将其二值化后可消除此影响。已知爆珠相对应背景区域较暗，使用大津算法得到爆珠图像的分割阈值，令爆珠图像内灰度值小于等于分割阈值的像素点灰度值为1，记为爆珠区域，令灰度值大于分割阈值的像素点灰度值为0，记为背景区域，得到二值爆珠图像。图2为本实施例所提供的一个二值爆珠图像示意图。其中，图像灰度化和均值滤波均以及大津算法均为公知技术，具体方法在此不做介绍。步骤S002：根据二值爆珠图像内的每列和每行像素点灰度值之和，得到列灰度序列与行灰度序列；根据列灰度序列与行灰度序列中的数据差异，确定二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠。在二值爆珠图像内从左至右逐列统计每列像素点灰度值之和，得到列灰度序列。再从上至下逐行统计每行像素点灰度值之和，得到行灰度序列/＞。其中N和M分别为二值爆珠图像中列的数量和行的数量，/＞为二值爆珠图像中第N列的像素点灰度值之和，/＞为二值爆珠图像中第M行的像素点灰度值之和。对图像来说最小单元是单个像素点，而圆的上下左右四个边缘是几个像素点组成的短直线，取列灰度序列为例，将列灰度序列/＞中连续为零的数据的序列段，记为背景区，应为二值爆珠图像的背景区域，在爆珠边缘至中心，每列的像素点灰度值之和应逐渐增加，直到爆珠中心的局部区域所处的列中，每列的像素点灰度值之和达到最大值，且会连续存在若干列最大值，再从爆珠中心至边缘，每列的像素点灰度值之和应逐渐减少。将列灰度序列中非零数据值连续相同的序列段，记为不变区，将列灰度序列/＞中非零数据值连续不相同的序列段，记为非零区。列灰度序列/＞中会存在若干列爆珠对于一列正常爆珠来说，从背景区到非零区，列灰度序列中数据会从连续相同到连续不相同，从非零区到不变区，列灰度序列中数据会从连续不相同到连续相同，从不变区到非零区，列灰度序列中数据会从连续相同到连续不相同，从非零区再到背景区域，列灰度序列中数据会从连续不相同到连续相同。因此，一列爆珠对应的列灰度序列中数据会产生四次变化。对于一列正常爆珠来说，不变区对应的数据数量与不变区和非零区对应的数据数量之和的比值是是确定的。对于一列爆珠中存在小于正常尺寸的爆珠时，小爆珠会导致不变区对应的数据数量减少，而不变区和非零区对应的数据数量之和不受影响，所以其比值会减小。对于一列爆珠中存在大于正常尺寸的爆珠时，大爆珠会导致不变区和非零区对应的数据数量之和增大，而不变区对应的数据数量不变。图3为本实施例所提供的一个爆珠正常大小和异常大小排列示意图示意图。依次计算列灰度序列中后一个数据值减去前一个数据值的差值，得到差值序列，将差值序列中为零的数据记为0，将差值序列中不为零的数据记为1，得到01序列，01序列中为1的数据对应的是非零区，而为0的数据对应的是不变区和背景区。再依次计算01序列中后一个数据值减去前一个数据值的差值，得到新差值序列，将新差值序列中为零的数据记为0，将差值序列中不为零的数据记为1，得到新01序列，新01序列中为1的数据对应的是不变区和背景区以及非零区的转变处。由于排放爆珠的平台内凹槽位置已知，则每一列爆珠、每一行爆珠、以及每个爆珠的位置已知。新01序列中第一个和第四个为1的数据会对应二值爆珠图像内从左至右第一列爆珠的最左边喝最右边的边缘所处列，新01序列中第二个和第三个为1的数据会对应二值爆珠图像内从左至右第一列爆珠对应的不变区的最左边和最右边对应的列。因此将新01序列中第一个和第四个为1的数据之间的数据数量，记为第一列爆珠的最大直径，将新01序列中第二个和第三个为1的数据之间的数据数量，记为第一列爆珠的不变区长度。再将将新01序列中第五个和第八个为1的数据之间的数据数量，记为第二列爆珠的最大直径，将新01序列中第六个和第七个为1的数据之间的数据数量，记为第二列爆珠的不变区长度/＞，以此类推，得到二值爆珠图像内所有列爆珠的最大直径和不变区长度。将二值爆珠图像内每一列爆珠对应的不变区长度除以最大直径的商，记为每一列爆珠的依据值。人为选取一张全部为正常爆珠的二值爆珠图像，记为标准二值爆珠图像，将标准二值爆珠图像的列灰度序列，记为标准列灰度序列，并划分标准列灰度序列中的背景区、不变区、非零区。在该图像中取一列爆珠，记为标准列爆珠，得到标准列爆珠的最大直径和不变区长度，分别记为标准最大直径和标准不变区长度。将标准不变区长度除以标准最大直径的商，记为标准依据值。若二值爆珠图像内一列爆珠的依据值不等于标准依据值，则判断该列爆珠存在异常爆珠。若二值爆珠图像内一列爆珠的依据值等于标准依据值，则判断该列爆珠不存在异常爆珠。按照上述方式，得到二值爆珠图像内每一行爆珠是否存在异常爆珠。步骤S003：根据列灰度序列和行灰度序列中的数据差异和序数值差异，确定二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量。对于一列正常爆珠，其对应在列灰度序列L内的一段数据的变化可分别三部分，即数据匀速递增、数据保持不变、数据匀速递减。如果一列爆珠中存在爆珠尺寸偏大的情况，由于一列爆珠的中心都在同一条直线上，较大的爆珠直径大于正常的爆珠，因此在新01序列中为1的数据会提前出现，但由于尺寸偏大的爆珠个数较少，列灰度序列中开始数据值增加的幅度较小，且由于尺寸偏大的爆珠的不变区的长度较大，不变区对应的列灰度序列中的数据较大。而如果一列爆珠中存在爆珠尺寸偏小的情况时，由于该列在正常位置缺乏爆珠，因此对应的列灰度序列中的数据小于正常列爆珠对应的列和，且其余爆珠从边缘到直径位置的列和都是均匀变化的，到较小的爆珠会突然增加，由于较小爆珠的不变区较小，因此不变区对应的列灰度序列中的数据较小，且长度较正常列爆珠短。根据一列爆珠内的爆珠尺寸状态，列灰度序列中的数据可分为四种状态，分别对应正常一列爆珠，只存在尺寸偏小爆珠的一列爆珠，只存在尺寸偏大爆珠的一列爆珠，存在尺寸偏小和偏大爆珠的一列爆珠。取二值爆珠图像内第一列爆珠为例，统计标准列灰度序列中第一个非零区内的第一个数据值的序数值为，统计标准列灰度序列中第一个不变区内的数据数量为/＞。统计列灰度序列中第一个非零区内的第一个数据值的序数值为/＞。统计列灰度序列中第一个不变区内的数据数量为/＞。若小于/＞时，则判断二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠；若/＞大于等于/＞时，则判断二值爆珠图像内第一列爆珠内不存在尺寸偏大爆珠。当二值爆珠图像内第一列爆珠内存在尺寸偏大爆珠时，尺寸偏大爆珠越多、越大，那么列灰度序列对应的数据变化越剧烈，依次计算标准列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值，得到参考差值序列，将参考差值序列中第一个数据值连续相同的序列段内的数据均值，记为标准变化程度，将列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值的均值，记为偏大变化程度，将偏大变化程度除以标准变化程度的商，记为二值爆珠图像内第一列爆珠内的偏大爆珠数量。若小于/＞时，则判断二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠；若/＞大于等于/＞时，则判断二值爆珠图像内第一列爆珠内不存在尺寸偏小爆珠。当二值爆珠图像内第一列爆珠内存在尺寸偏小爆珠时，尺寸偏小爆珠越多、越小，在不变区的数据变化的大小越大。将标准列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值之和，记为标准尺寸程度，将列灰度序列中第一个非零区内所有后一个数据减去前一个数据的差值之和，记为偏小尺寸程度，将偏小尺寸程度除以标准尺寸程度的商，记为二值爆珠图像内第一列爆珠内的偏小爆珠数量。由此得到二值爆珠图像内第一列爆珠内的偏大爆珠数量和偏小爆珠数量。按照上述方式，得到二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量。步骤S004：根据二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠和二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，确定异常爆珠的位置。基于爆珠大小变化的一致性，当单个爆珠存在过大或过小时，爆珠对的行与列都会被判断为存在异常爆珠。根据二值爆珠图像内存在异常爆珠中一列爆珠和一行爆珠的交点，确定疑似异常爆珠的位置。当某一列或者行爆珠内存在多个偏大或者偏小爆珠时，根据该列或者行爆珠内的偏大爆珠数量和偏小爆珠数量以及疑似异常爆珠的位置，按照第一行第一列依次分析的方式进行记录，根据行列同时存在的一致性对爆珠进行定位，得到异常爆珠的位置。所需说明的是：若第一行爆珠存在一个过小爆珠，第二行存在两个过大爆珠，第三行存在一个过小爆珠，第四行存在三个过小爆珠；第一列存在一个过小爆珠，第二列存在两个过小一个过大爆珠，第三列存在一个过小爆珠，第四列存在一个过小爆珠时。在第一行中基于爆珠大小变化的一致性得到第一行第一列的相交位置上的爆珠过小；在第二行中，根据一致性得到第二列、第四列中存在两个过大爆珠；在第三行中由于第一列的爆珠已经确定存在异常爆珠，则过小爆珠只能存在于其他列，其可能存在于第二列，第三列，第四列；在第四行中按照所述分析可知三个过小爆珠只能存在于第二列、第三列、第四列。按照所述分析，第一行的过小爆珠已被定位，第二行不存在过小爆珠，第四行的三个过小爆珠也已定位，第三列第四列的过小爆珠也已定位，第三行的过小爆珠只能存在于第二列。到此即可定位完毕。根据异常爆珠的位置，使用剔除系统将异常爆珠进行剔除。至此，本发明完成。综上所述，在本发明实施例中，对采集的爆珠图像进行二值化处理，得到二值爆珠图像，根据二值爆珠图像内的每列和每行像素点灰度值之和，得到列灰度序列和行灰度序列，根据列灰度序列和行灰度序列中的数据差异，确定二值爆珠图像内每一行和每一列爆珠是否存在异常爆珠，再根据列灰度序列和行灰度序列中的数据差异和序数值差异，确定二值爆珠图像内每一列爆珠和每一行爆珠内的偏大爆珠数量和偏小爆珠数量，由此确定异常爆珠的位置。其通过对爆珠所在行与列的像素点灰度值之和进行遍历计算，对异常爆珠进行标记，减小了传统对于爆珠大小进行检测的计算量，提高检测速度，且可以对不同种类的爆珠进行筛选，具有较高的适应性。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
