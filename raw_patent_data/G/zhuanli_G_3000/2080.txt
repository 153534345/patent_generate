标题title
文本翻译方法、装置、电子设备及存储介质
摘要abst
本发明提供一种文本翻译方法、装置、电子设备及存储介质，应用于机器翻译技术领域，该方法包括：获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。
权利要求书clms
1.一种文本翻译方法，其特征在于，包括：获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。2.根据权利要求1所述的文本翻译方法，其特征在于，所述确定所述第一文本序列中每个词段的向量，得到第一向量序列，包括：将所述第一文本序列输入编码器，得到所述第一向量序列。3.根据权利要求2所述的文本翻译方法，其特征在于，所述第一文本序列还包括：句间关系判断符；所述第一向量序列包括所述句间关系判断符对应的第一表示向量；所述确定所述至少两个相邻语句的句间关系向量，包括：将所述第一表示向量输入句间关系分类网络，得到所述至少两个相邻语句的句间关系类型分布概率；通过句间关系矩阵对所述句间关系类型分布概率进行加权处理，并执行最大池化操作，得到所述句间关系向量。4.根据权利要求3所述的文本翻译方法，其特征在于，所述句间关系判断符包括第一判断符和第二判断符；所述第一判断符用于指示所述句间关系分类网络分析目标翻译语句与上文语句的句间关系类型分布概率；所述第二判断符用于指示所述句间关系分类网络分析所述目标翻译语句与下文语句的句间关系类型分布概率。5.根据权利要求1所述的文本翻译方法，其特征在于，所述句间关系分隔符包括第一分隔符和第二分隔符；所述第一分隔符用于分割目标翻译语句与上文语句；所述第二分隔符用于分割目标翻译语句与下文语句。6.根据权利要求1所述的文本翻译方法，其特征在于，所述基于所述第二向量序列确定所述待翻译文本的译文文本，包括：将所述第二向量序列输入解码器，得到所述待翻译文本的译文文本。7.根据权利要求1-6任一项所述的文本翻译方法，其特征在于，所述获取待翻译文本的第一文本序列之前，所述方法还包括：获取训练数据，所述训练数据包括句对文本和所述句对文本对应的句间关系类型，所述句间关系类型为转折关系、递进关系、因果关系、假设关系、顺接关系以及无关联中的一个；基于所述训练数据对翻译模型进行模型训练，以实现模型参数更新；其中，所述翻译模型包括编码器、解码器、句间关系分类网络以及句间关系矩阵。8.一种文本翻译装置，其特征在于，包括：获取模块和处理模块；所述获取模块，用于获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；所述处理模块，用于确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。9.一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1至6中任一项所述的文本翻译方法中的步骤。10.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至6中任一项所述的文本翻译方法中的步骤。
说明书desc
技术领域本发明涉及机器翻译技术领域，尤其涉及一种文本翻译方法、装置、电子设备及存储介质。背景技术通常，可以使用神经机器翻译对文本进行快速翻译，而神经机器翻译的输入和输出均是以句子为单位的。在相关技术中，对于篇章级文本，可以将该篇章级文本分割为多个句子，并通过神经机器翻译对该多个句子进行逐个翻译。然而，相关技术中的翻译方式忽略了句间关系对译文的影响，导致译文的句子之间存在句间关系错误和缺乏连贯性的问题。发明内容本发明提供一种文本翻译方法、装置、电子设备及存储介质，用以解决现有技术中译文文本的句子之间存在句间关系错误和缺乏连贯性的问题。本发明提供一种文本翻译方法，包括：获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。根据本发明提供一种的文本翻译方法，所述确定所述第一文本序列中每个词段的向量，得到第一向量序列，包括：将所述第一文本序列输入编码器，得到所述第一向量序列。根据本发明提供一种的文本翻译方法，所述第一文本序列还包括：句间关系判断符；所述第一向量序列包括所述句间关系判断符对应的第一表示向量；所述确定所述至少两个相邻语句的句间关系向量，包括：将所述第一表示向量输入句间关系分类网络，得到所述至少两个相邻语句的句间关系类型分布概率；通过句间关系矩阵对所述句间关系类型分布概率进行加权处理，并执行最大池化操作，得到所述句间关系向量。根据本发明提供一种的文本翻译方法，所述句间关系判断符包括第一判断符和第二判断符；所述第一判断符用于指示所述句间关系分类网络分析目标翻译语句与上文语句的句间关系类型分布概率；所述第二判断符用于指示所述句间关系分类网络分析所述目标翻译语句与下文语句的句间关系类型分布概率。根据本发明提供一种的文本翻译方法，所述句间关系分隔符包括第一分隔符和第二分隔符；所述第一分隔符用于分割所述目标翻译语句与所述上文语句；所述第二分隔符用于分割所述目标翻译语句与所述下文语句。根据本发明提供一种的文本翻译方法，所述基于所述第二向量序列确定所述待翻译文本的译文文本，包括：将所述第二向量序列输入解码器，得到所述待翻译文本的译文文本。根据本发明提供一种的文本翻译方法，所述获取待翻译文本的第一文本序列之前，所述方法还包括：获取训练数据，所述训练数据包括句对文本和所述句对文本对应的句间关系类型，所述句间关系类型为转折关系、递进关系、因果关系、假设关系、顺接关系以及无关联中的一个；基于所述训练数据对翻译模型进行模型训练，以实现模型参数更新；其中，所述翻译模型包括编码器、解码器、句间关系分类网络以及句间关系矩阵。本发明还提供一种文本翻译装置，包括：获取模块和处理模块；所述获取模块，用于获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；所述处理模块，用于确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。根据本发明提供一种的文本翻译装置，上述处理模块，具体用于将所述第一文本序列输入编码器，得到所述第一向量序列。根据本发明提供一种的文本翻译装置，所述第一文本序列还包括：句间关系判断符；所述第一向量序列包括所述句间关系判断符对应的第一表示向量；处理模块，具体用于将所述第一表示向量输入句间关系分类网络，得到所述至少两个相邻语句的句间关系类型分布概率；通过句间关系矩阵对所述句间关系类型分布概率进行加权处理，并执行最大池化操作，得到所述句间关系向量。根据本发明提供一种的文本翻译装置，句间关系判断符包括第一判断符和第二判断符；所述第一判断符用于指示所述句间关系分类网络分析目标翻译语句与上文语句的句间关系类型分布概率；所述第二判断符用于指示所述句间关系分类网络分析所述目标翻译语句与下文语句的句间关系类型分布概率。根据本发明提供一种的文本翻译装置，所述句间关系分隔符包括第一分隔符和第二分隔符；所述第一分隔符用于分割所述目标翻译语句与所述上文语句；所述第二分隔符用于分割所述目标翻译语句与所述下文语句。根据本发明提供一种的文本翻译装置，处理模块，具体用于将所述第二向量序列输入解码器，得到所述待翻译文本的译文文本。根据本发明提供一种的文本翻译装置，获取模块，还用于获取训练数据，所述训练数据包括句对文本和所述句对文本对应的句间关系类型，所述句间关系类型为转折关系、递进关系、因果关系、假设关系、顺接关系以及无关联中的一个；处理模块，还用于基于所述训练数据对翻译模型进行模型训练，以实现模型参数更新；其中，所述翻译模型包括编码器、解码器、句间关系分类网络以及句间关系矩阵。本发明还提供一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如上述任一种所述文本翻译方法的步骤。本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现如上述任一种所述文本翻译方法的步骤。本发明提供的文本翻译方法、装置、电子设备及存储介质，可以获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。通过该方案，可以确定第一文本序列中至少两个相邻语句的句间关系向量，并得到包含句间关系向量的第二向量序列，再基于第二向量序列确定待翻译文本的译文文本。由于句间关系向量用于表示至少两个相邻语句的关联关系，因此可以在确定译文文本之前，明确句子之间的关联关系，从而提高译文文本中各句子之间的连贯性，并避免译文文本中句间关系翻译错误的问题。附图说明为了更清楚地说明本发明或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明提供的翻译模型的结构示意图；图2是本发明提供的文本翻译方法的流程示意图之一；图3是本发明提供的通过翻译模型进行文本翻译的结构示意图；图4是本发明提供的文本翻译方法的流程示意图之二；图5是本发明提供的训练阶段翻译模型的训练方式示意图；图6是本发明提供的文本翻译装置的结构示意图；图7是本发明提供的电子设备的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合本发明中的附图，对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明的是，本发明实施例中，“示例性的”或者“例如”等词用于表示作例子、例证或说明。本发明实施例中被描述为“示例性的”或者“例如”的任何实施例或设计方案不应被解释为比其它实施例或设计方案更优选或更具优势。确切而言，使用“示例性的”或者“例如”等词旨在以具体方式呈现相关概念。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者装置不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者装置所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者装置中还存在另外的相同要素。此外，需要指出的是，本发明实施方式中的方法和装置的范围不限按示出或讨论的顺序来执行功能，还可包括根据所涉及的功能按基本同时的方式或按相反的顺序来执行功能，例如，可以按不同于所描述的次序来执行所描述的方法，并且还可以添加、省去、或组合各种步骤。另外，参照某些示例所描述的特征可在其他示例中被组合。为了便于清楚描述本发明实施例的技术方案，在本发明实施例中，采用了“第一”、“第二”等字样对功能和作用基本相同的相同项或相似项进行区分，本领域技术人员可以理解“第一”、“第二”等字样并不是在对数量和执行次序进行限定。本发明实施例为了阐释的目的而描述了一些示例性实施例，需要理解的是，本发明可通过附图中没有具体示出的其他方式来实现。下面结合具体实施例和附图对上述实现方式进行详细的阐述。如图1所示，本发明实施例提供一种翻译模型，包括编码器101、句间关系分类网络102、句间关系矩阵103以及解码器104。其中，编码器101用于将待翻译文本的文本序列进行向量化处理；句间关系分类网络102用于确定相邻语句之间的句间关系类型分布概率；句间关系矩阵103用于对句间关系类型分布概率进行加权处理，再经最大池化操作得到句间关系向量；解码器104用于将包括句间关系向量的文本序列进行解码处理，得到待翻译文本的译文文本。如图2所示，本发明实施例提供一种文本翻译方法，该文本翻译方法可以应用于电子设备。该文本翻译方法可以包括S201-S204：S201、电子设备获取待翻译文本的第一文本序列。其中，上述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符。电子设备可以先将待翻译文本进行切分处理，得到多个语句，并对该多个语句进行逐句翻译。可选地，上述句间关系分隔符可以包括第一分隔符和第二分隔符；第一分隔符用于分割目标翻译语句与其上文语句；第二分隔符用于分割目标翻译语句与其下文语句。具体地，电子设备可以先从切分得到的多个语句中确定目标翻译语句，再确定该目标翻译语句的上文语句和下文语句，之后，基于目标翻译语句、上文语句和下文语句生成第一文本序列，该第一文本序列可以包括上文语句、第一分隔符、目标翻译语句、第二分隔符以及下文语句，其中，第一分隔符和第二分隔符均为句间关系分隔符。可选地，上述第一文本序列还可以包括：句间关系判断符；该句间关系判断符可以包括第一判断符和第二判断符；第一判断符用于指示所述句间关系分类网络102分析目标翻译语句与上文语句的句间关系类型分布概率；第二判断符用于指示所述句间关系分类网络102分析所述目标翻译语句与下文语句的句间关系类型分布概率。示例性地，以待翻译文本包括连续的第一语句、第二语句/＞和第三语句/＞，且第二语句/＞为目标翻译语句为例。第一文本序列可以为“”，其中，/＞为第一判断符，/＞为第二判断符，为第一分隔符，/＞为第二分隔符。可选地，若目标翻译语句为待翻译文本的第一个语句，则第一文本序列包括第二判断符、目标翻译语句、第二分隔符以及下文语句；若目标翻译语句为待翻译文本的最后一个语句，则第一文本序列包括第一判断符、上文语句、第一分隔符以及目标翻译语句。示例性地，在目标翻译语句为待翻译文本的第一个语句的情况下，若待翻译文本包括连续的第二语句和第三语句/＞，则第一文本序列可以为“/＞”；在目标翻译语句为待翻译文本的最后一个语句的情况下，若待翻译文本包括连续的第一语句和第二语句/＞，则第一文本序列可以为“/＞”。S202、电子设备确定所述第一文本序列中每个词段的向量，得到第一向量序列。可选地，电子设备可以将第一文本序列输入编码器，从而得到第一向量序列。可选地，第一向量序列可以包括至少两个相邻语句中每个语句的向量、句间关系分隔符的向量以及句间关系判断符对应的第一表示向量。示例性地，如图3所示，以第一文本序列为为例。电子设备可以将第一文本序列/＞输入编码器101，得到第一向量序列/＞，该第一向量序列包括第一文本序列中每个词段的表示向量。S203、电子设备确定至少两个相邻语句的句间关系向量，并将第一向量序列中句间关系分隔符的向量更新为句间关系向量，得到第二向量序列。其中，上述句间关系向量用于表示所述至少两个相邻语句的关联关系。可选地，电子设备确定所述至少两个相邻语句的句间关系向量，具体可以包括：将所述第一向量序列中的第一表示向量输入句间关系分类网络，得到所述至少两个相邻语句的句间关系类型分布概率；通过句间关系矩阵对所述句间关系类型分布概率进行加权处理，并执行最大池化操作，得到所述句间关系向量。具体地，电子设备可以将第一表示向量输入句间关系分类网络，得到所述至少两个相邻语句的句间关系类型分布概率P；然后，基于确定句间关系向量V。其中，M表示句间关系矩阵，函数/＞表示最大池化操作。可选地，上述句间关系矩阵可以包括多个维度的向量，每个向量维度可以对应一种句间关系类型。例如，句间关系矩阵 可以采用一个全连接的前馈网络，网络大小为d×6，其中d表示向量的维度。6个维度对应的句间关系类型分别为转折关系、递进关系、因果关系、假设关系、顺接关系以及无关联。示例性地，继续参考图3，电子设备可以将第一判断符的向量/＞输入句间关系分类网络，得到句间关系类型分布概率/＞，将第二判断符/＞的向量/＞输入句间关系分类网络，得到句间关系类型分布概率/＞，其中，句间关系类型分布概率/＞表示第二语句和第三语句/＞之间的句间关系类型分布概率，句间关系类型分布概率/＞表示第一语句/＞与第二语句/＞之间的句间关系类型分布概率。之后，电子设备可以通过句间关系矩阵103分别对/＞和/＞进行概率加权，再通过最大池化操作确定句间关系向量/＞和句间关系向量/＞，其中，句间关系向量/＞为第二语句/＞和第三语句/＞之间的句间关系向量，句间关系向量/＞为第一语句/＞与第二语句/＞之间的句间关系向量。可选地，在确定句间关系向量后，电子设备可以将第一向量序列中句间关系分隔符的向量更新为句间关系向量，从而得到第二向量序列。示例性地，仍以第一文本序列为为例。在确定句间关系向量/＞和句间关系向量/＞后，电子设备可以将第一分隔符/＞的向量/＞更新为句间关系向量/＞，将第二分隔符/＞的向量/＞更新为句间关系向量/＞，从而得到第二向量序列/＞。S204、电子设备基于第二向量序列确定待翻译文本的译文文本。可选地，电子设备可以将第二向量序列输入解码器，得到待翻译文本的译文文本。具体地，继续参考图3，得到第二向量序列后，电子设备可以将第二向量序列/＞输入解码器104，从而得到第二语句/＞的译文文本Y。基于上述方案，可以在翻译篇章中的一个语句时，以该语句的前一句和后一句作为上下文，在翻译的同时进行句间关系分类任务，并引入分类的结果来显式地表征上下文之间的语义关系，从而增强源语言句子的编码表示，以提升翻译结果。由于可以在翻译过程中针对句间关系进行建模，因此能够更好地保证译文句间关系翻译的准确性，改善所生成的译文句子之间的连贯性。本发明实施例中，由于可以在翻译过程中识别语句之间的关系，并根据不同的句间关系类型选择不同的上下文融合方式，因此可以提升上下文语义表示，改善关系翻译错误问题，提升篇章译文的连贯性和衔接性。可选的，如图4所示，在上述S201之前，上述文本翻译方法还可以包括S205-S206：S205、电子设备获取训练数据。其中，上述训练数据包括句对文本和所述句对文本对应的句间关系类型，所述句间关系类型为转折关系、递进关系、因果关系、假设关系、顺接关系以及无关联中的一个。可选地，电子设备可以先从源语言文档中任意选取2个连续的语句作为一个句对文本，然后对该句对文本/＞进行句间关系类型标记，生成一个训练数据。可选地，电子设备对句对文本进行句间关系类型标记的过程包括：电子设备可以先对句对文本进行关联词检索，若该句对文本中包含任意一个关联词，则将该关联词所表达的关系，作为句对文本/＞的句间关系类型标签L。关联词表达的关系可以包括转折关系、递进关系、因果关系、假设关系。可选地，电子设备可以对句对文本中预设数量的词语进行关联词检索，例如，电子设备可以对句对文本/＞的前3个词语进行关联词检索，从而提高检索效率。可选地，对于中英翻译而言，表示转折关系的关联词包括：但是、然而、尽管、不过、反之、反而等；表示递进关系的关联词包括：不仅、而且、并且、进一步、继而等；表示因果关系的关联词包括：因此、故而、所以、因而、于是、由此等；表示假设关系的关联词包括：如果、假定、假如、假设、若、就算、即使等。若句对文本中不包含任意一个关联词，则将其句间关系类型L定义为“顺接关系”。可选地，电子设备还可以从源语言文档中，随机选择2个不连续的句子，并将其句间关系类型L直接定义为“无关联”。基于上述方案，由于可以通过检索关联词、采样连续和不连续语句等启发式的方式对句间关系类型进行标注，从而构造伪训练集，因此可以解决训练数据缺乏关系标注的问题。可选地，电子设备可以将经过句间关系类型标记的句对文本进行混合，得到翻译模型的训练数据集。S206、电子设备基于所述训练数据对翻译模型进行模型训练，以实现模型参数更新。其中，翻译模型可以包括编码器、解码器、句间关系分类网络以及句间关系矩阵。可选地，电子设备可以将训练数据集中的句对文本改写为符合翻译模型输入格式的训练样本，并作为翻译模型的输入。具体地，电子设备可以随机选取50%的训练数据，添加第一判断符和第一分隔符，生成序列，将剩余50%的训练数据，添加第二判断符和第二分隔符，生成序列/＞。可选地，如图5所示，电子设备训练翻译模型的过程包括阶段一和阶段二，其中，阶段一用于对编码器101和句间关系分类网络102进行训练，以实现翻译模型中编码器101和句间关系分类网络102的参数初始化；阶段二用于对整个翻译模型进行训练，以实现所有子模块的参数更新。具体地，电子设备可以先随机初始化编码器101和句间关系分类网络102的模型参数。然后通过生成的序列和/＞对编码器101和句间关系分类网络102进行训练，通过梯度反向传播更新编码器101和句间关系分类网络102的模型参数，直至训练结束。之后，电子设备先可以随机初始化句间关系向量矩阵103和解码器104的模型参数，然后利用篇章翻译的训练数据再对翻译模型进行训练，通过梯度反向传播更新编码器101、句间关系分类网络102、句间关系向量矩阵103以及解码器104的参数，直至训练结束。本发明实施例中，可以在训练阶段采用两阶段的训练方法，先训练句间关系分类任务以初始化编码器和句间关系分类网络的模型参数，在此基础上再通过训练篇章翻译任务以更新整个翻译模型的模型参数。由于单语的篇章数据是容易获得的，而双语对齐的篇章翻译数据则较为稀缺，因此本发明的训练方式，能够充分利用单语篇章资源优势，显著缓解篇章翻译语料匮乏的问题。上述主要从方法的角度对本发明实施例提供的方案进行了介绍。为了实现上述功能，其包含了执行各个功能相应的硬件结构和/或软件模块。本领域技术人员应该很容易意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，本发明实施例能够以硬件或硬件和计算机软件的结合形式来实现。某个功能究竟以硬件还是计算机软件驱动硬件的方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。本发明实施例提供的文本翻译方法，执行主体可以为文本翻译装置，或者该文本翻译装置中的用于文本翻译的控制模块。本发明实施例中以文本翻译装置执行文本翻译方法为例，说明本发明实施例提供的文本翻译装置。需要说明的是，本发明实施例可以根据上述方法示例对文本翻译装置进行功能模块的划分，例如，可以对应各个功能划分各个功能模块，也可以将两个或两个以上的功能集成在一个处理模块中。上述集成的模块既可以采用硬件的形式实现，也可以采用软件功能模块的形式实现。可选的，本发明实施例中对模块的划分是示意性的，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。如图6所示，本发明实施例提供一种文本翻译装置600。该文本翻译装置600包括：获取模块601和处理模块602。所述获取模块601，可以用于获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；所述处理模块602，用于确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。可选地，上述处理模块602，具体用于将所述第一文本序列输入编码器，得到所述第一向量序列。可选地，所述第一文本序列还包括：句间关系判断符；所述第一向量序列包括所述句间关系判断符对应的第一表示向量；处理模块602，具体用于将所述第一表示向量输入句间关系分类网络，得到所述至少两个相邻语句的句间关系类型分布概率；通过句间关系矩阵对所述句间关系类型分布概率进行加权处理，并执行最大池化操作，得到所述句间关系向量。可选地，句间关系判断符包括第一判断符和第二判断符；所述第一判断符用于指示所述句间关系分类网络分析目标翻译语句与上文语句的句间关系类型分布概率；所述第二判断符用于指示所述句间关系分类网络分析所述目标翻译语句与下文语句的句间关系类型分布概率。可选地，所述句间关系分隔符包括第一分隔符和第二分隔符；所述第一分隔符用于分割所述目标翻译语句与所述上文语句；所述第二分隔符用于分割所述目标翻译语句与所述下文语句。可选地，处理模块602，具体用于将所述第二向量序列输入解码器，得到所述待翻译文本的译文文本。可选地，获取模块601，还用于获取训练数据，所述训练数据包括句对文本和所述句对文本对应的句间关系类型，所述句间关系类型为转折关系、递进关系、因果关系、假设关系、顺接关系以及无关联中的一个；处理模块602，还用于基于所述训练数据对翻译模型进行模型训练，以实现模型参数更新；其中，所述翻译模型包括编码器、解码器、句间关系分类网络以及句间关系矩阵。本发明实施例中，可以确定第一文本序列中至少两个相邻语句的句间关系向量，并得到包含句间关系向量的第二向量序列，再基于第二向量序列确定待翻译文本的译文文本。由于句间关系向量用于表示至少两个相邻语句的关联关系，因此可以在确定译文文本之前，明确句子之间的关联关系，从而提高译文文本中各句子之间的连贯性，并避免译文文本中句间关系翻译错误的问题。图7示例了一种电子设备的实体结构示意图，如图7所示，该电子设备可以包括：处理器710、通信接口720、存储器730和通信总线740，其中，处理器710，通信接口720，存储器730通过通信总线740完成相互间的通信。处理器710可以调用存储器730中的逻辑指令，以执行文本翻译方法，该方法包括：获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。此外，上述的存储器730中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。另一方面，本发明还提供一种计算机程序产品，所述计算机程序产品包括存储在非暂态计算机可读存储介质上的计算机程序，所述计算机程序包括程序指令，当所述程序指令被计算机执行时，计算机能够执行上述各方法所提供的文本翻译方法，该方法包括：获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。又一方面，本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现以执行上述各提供的文本翻译方法，该方法包括：获取待翻译文本的第一文本序列，所述第一文本序列包括至少两个相邻语句和每两个相邻语句之间的句间关系分隔符；确定所述第一文本序列中每个词段的向量，得到第一向量序列；确定所述至少两个相邻语句的句间关系向量，并将所述第一向量序列中句间关系分隔符的向量更新为所述句间关系向量，得到第二向量序列；基于所述第二向量序列确定所述待翻译文本的译文文本；其中，所述句间关系向量用于表示所述至少两个相邻语句的关联关系。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的方法。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
