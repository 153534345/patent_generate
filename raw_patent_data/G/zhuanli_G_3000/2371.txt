标题title
一种高能效低功耗无源射频识别标签芯片
摘要abst
本发明公开了计一种高能效低功耗无源射频识别标签芯片。本发明在模拟电路部分利用NMOS管构建出高能效的桥式整流电路，将交流电压信号转变成直流信号；同时增加三级限幅电路以防止感应到的电压过大继而击穿晶体管；利用编码信号控制MOS管的通断来改变天线两端的负载，继而通过控制泄流来调节天线两端的电压值，实现负载调制和信号传递的目的。本发明在数字电路部分使用脉冲位置调制解码器实现高精度、高速度的解码；使用基于FSM控制的曼彻斯特编码器生成编码信号；使用防冲突电路处理可能出现的多个RFID标签同时存在于询问区域的情况。本发明在EEPROM存储器部分采用独特设计的读时序控制电路，可以有效降低电路功耗。本发明具有能量效率高、功耗低、调剂指数低的特点，广泛应用于RFID识别领域。
权利要求书clms
1.一种高能效低功耗无源射频识别标签芯片，其特征在于，包括射频模拟电路、数字电路和EEPROM存储器；所述射频模拟电路中具体包括桥式整流电路、三级限幅电路、电阻负载调制电路、ASK解调电路、线性稳压电路和时钟提取电路；所述桥式整流电路用于将RFID标签天线的输入信号ant1、ant2转换为VHD直流信号，向射频模拟电路、数字电路和EEPROM存储器提供VHD直流信号；所述三级限幅电路用于根据场强对所述桥式整流电路的VHD直流信号输出进行泄流；所述线性稳压电路用于对所述桥式整流电路的VHD直流信号输出进行稳压，输出VDD稳压信号至数字电路和EEPROM存储器；所述电阻负载调制电路用于对输入信号ant1、ant2进行负载调制；所述ASK解调电路用于根据输入信号ant1、ant2产生ASK编码信号输入数字电路中；所述时钟提取电路用于产生时钟信号输入数字电路中；所述数字电路中具体包括曼彻斯特编码器、脉冲位置调制解码器、防冲突电路；所述脉冲位置调制解码器用于根据所述ASK编码信号和时钟信号生成逻辑信号；所述曼彻斯特编码器用于生成曼彻斯特编码信号；所述防冲突电路用于检测RFID标签产生的碰撞；所述EEPROM存储器用于存储脉冲位置调制解码器输出的逻辑信号。2.根据权利要求1所述的一种高能效低功耗无源射频识别标签芯片，其特征在于，所述桥式整流电路包括NMOS管MN1、MN2、MN3和MN4和储能电容CVHD；其中MN1的漏极和栅极、MN4的栅极和MN3的漏极接输入信号ant1，MN2的漏极和栅极、MN3的栅极和MN4的漏极接输入信号ant2；MN1和MN2的源极形成VHD输出，MN3和MN4的源极接信号地；所述输入信号ant1和ant2从RFID标签天线得到；当所述输入信号ant1输入高电平信号、输入信号ant2输入低电平信号时，MN1和MN4打开，为对接于VHD输出和信号地之间的CVHD充电并形成VHD直流信号输出；当所述输入信号ant1输入低电平信号、输入信号ant2输入高电平信号时，MN2和MN3打开，为对接于VHD输出和信号地之间的CVHD充电并形成VHD直流信号输出。3.根据权利要求2所述的一种高能效低功耗无源射频识别标签芯片，其特征在于，所述三级限幅电路包括第一限幅电路、第二限幅电路和第三限幅电路；第一限幅电路和第二限幅电路的输入通过电阻RBC隔离；第二限幅电路和第三限幅电路的输入通过电阻RAB隔离；每个限幅电路各自包括开启电阻、限幅PMOS管、泄流支路、高通滤波器和泄流管；其中，所述高通滤波器由串联的电阻和电容组成，用于过滤限幅电路输入的噪声；泄流管由两个放电NMOS管组成，两个放电NMOS管的漏极分别输入信号ant1和ant2，源极连接信号地，栅极连接泄流支路的输出；所述第一限幅电路中的第一泄流支路包括五个栅极与漏极连接的PMOS管，前一PMOS管的漏极输出接后一PMOS管的源极输入，最后一个PMOS管的漏极输出第一开启电压；所述第二限幅电路中的第二泄流支路包括四个栅极与漏极连接的PMOS管，前一PMOS管的漏极输出接后一PMOS管的源极输入，最后一个PMOS管的漏极输出第二开启电压；所述第三限幅电路中的第三泄流支路包括三个栅极与漏极连接的PMOS管，前一PMOS管的漏极输出接后一PMOS管的源极输入，最后一个PMOS管的漏极输出第三开启电压；当所述射频模拟电路的场强超过所述第三限幅电路中限幅PMOS管的阈值电压时，限幅PMOS管导通，产生第三开启电压；当所述第三开启电压超过第三限幅电路的泄流管中放电NMOS管的阈值电压时，第三限幅电路的泄流管开始泄流；当所述射频模拟电路的场强超过所述第二限幅电路中限幅PMOS管的阈值电压时，限幅PMOS管导通，产生第二开启电压；当所述第二开启电压超过第二限幅电路的泄流管中放电NMOS管的阈值电压时，第二限幅电路的泄流管开始泄流；当所述射频模拟电路的场强超过所述第一限幅电路中限幅PMOS管的阈值电压时，限幅PMOS管导通，产生第一开启电压；当所述第一开启电压超过第一限幅电路的泄流管中放电NMOS管的阈值电压时，第一限幅电路的泄流管开始泄流。4.根据权利要求1所述的一种高能效低功耗无源射频识别标签芯片，其特征在于，所述电阻负载调制电路中包括调制控制电路和电平转换电路；所述调制控制电路接收曼彻斯特编码信号；调制控制电路的输出连接电平转换电路的输入，电平转换电路的输出连接天线谐振回路；所述调制控制电路由PMOS管MP11、MP12和NMOS管MN11、MN12构成两个反相器，用于为电平转换电路提供二进制编码的控制信号；所述电平转换电路根据所述控制信号生成高电平或低电平信号，在所述输入信号ant1、ant2中加入调制信号dem_in。5.根据权利要求1所述的一种高能效低功耗无源射频识别标签芯片，其特征在于，所述线性稳压电路包括启动电路、基准电流源、镜像电路和调节电路；所述启动电路包括电阻R21、PMOS管MP21和NMOS管MN21、MN22；所述启动电路用于向基准电流源提供初始电压；所述基准电流源包括二极管B21、电阻R22、NMOS管MN23、MN24和PMOS管MP22、MP23；所述基准电流源用于根据所述初始电压产生基准电流I1；所述镜像电路包括PMOS管MP24、MP25和NMOS管MN25、MN26、MN27，所述镜像电路用于根据所述基准电流I1生成镜像电流I4；所述调节电路包括PMOS管MP26和MP27，所述调节电路用于对输出的VDD稳压信号进行反馈调节。6.根据权利要求1所述的一种高能效低功耗无源射频识别标签芯片，其特征在于，所述ASK解调电路包括包络提取电路、前放大电路、后放大电路和判决电路；所述包括提取电路包括电阻分压器、第一低通滤波器和第二低通滤波器；所述电阻分压器用于对所述输入信号ant1、ant2进行分压，使输入信号的电压与第一低通滤波器和第二低通滤波器的工作电压匹配；所述第一低通滤波器用于从输入信号ant1、ant2中提取第一包络信号Vfast；所述第二低通滤波器用于从输入信号ant1、ant2中提取第二包络信号Vslow；所述前放大电路用于放大所述第一包络信号Vfast和第二包络信号Vslow，得到第一放大信号Vr1和第二放大信号Vs1；所述后放大电路用于对所述第一放大信号Vr1和第二放大信号Vs1进行二次放大，得到第三放大信号Vr和第四放大信号Vs；所述判决电路用于根据第三放大信号Vr和第四放大信号Vs生成ASK编码信号以输入所述数字电路中。7.根据权利要求1所述的一种高能效低功耗无源射频识别标签芯片，其特征在于，所述脉冲位置调制解码器包括同步电路、SOF/EOF检测电路、9位计数器、解码电路、移位寄存器和FSM电路；所述同步电路用于对所述ASK编码信号和时钟信号进行同步；所述SOF/EOF检测电路用于检测ASK编码信号的起始帧和结束帧；所述9位计数器用于根据ASK编码信号生成逻辑信号；所述解码电路和移位寄存器用于对所述逻辑信号进行解码并输出；所述FSM电路用于控制脉冲位置调制解码器和曼彻斯特编码器的运行状态；所述脉冲位置调制解码器通过以下步骤完成解码：对所述ASK编码信号和时钟信号进行同步处理；将所述ASK编码信号和时钟信号进行比较，确定所述ASK编码信号脉冲位置的相对时间；确定所述ASK编码信号的起始帧和结束帧；将ASK编码信号输入9位计数器，所述9位计数器在所述时钟信号的时钟周期结束时将所述ASK编码信号的计数值与预设阈值进行比较，当计数值小于预设阈值时，生成逻辑信号0；当计数值大于预设阈值时，生成逻辑信号1；通过所述解码电路和移位寄存器对逻辑信号解码并输出。8.根据权利要求7所述的一种高能效低功耗无源射频识别标签芯片，其特征在于，所述曼彻斯特编码器支持使用一个或两个子载波；当使用一个子载波时，曼彻斯特编码器所生成的曼彻斯特编码信号dout副载波频率为f/32；当使用两个子载波时，曼彻斯特编码器所生成的曼彻斯特编码信号dout副载波频率为f/32和f/28的组合。9.根据权利要求1所述的一种高能效低功耗无源射频识别标签芯片，其特征在于，所述防冲突电路通过以下方法之一完成：划分得到若干个时间槽，每个RFID标签在不同的时间槽内发送自己的ID信息，防冲突电路根据读取到的ID信息判断是否发生碰撞；将所述RFID标签的ID信息转换为二进制数，并按照位数从高到低进行反转，防冲突电路根据读取到的ID信息判断是否发生碰撞；将所述RFID标签的ID信息存储在查询树中，并按照预设规则进行查询，防冲突电路根据查询结果判断是否发生碰撞；使用哈希函数将所述RFID标签的ID信息映射到一个唯一的哈希值，并根据哈希值进行识别和区分，防冲突电路根据接收到的哈希值判断是否发生碰撞。10.根据权利要求1所述的一种高能效低功耗无源射频识别标签芯片，其特征在于，所述EEPROM存储器包括存储单元阵列、擦写电路、读取电路和电荷泵；所述擦写电路用于进行存储单元阵列的擦写控制；所述读取电路用于进行存储单元阵列的读取控制；所述电荷泵用于产生擦除信号对存储单元阵列进行擦除。
说明书desc
技术领域本发明涉及射频识别技术领域，尤其是一种高能效低功耗无源射频识别标签芯片。背景技术射频识别技术是一项利用射频信号通过空间电磁场的耦合实现无接触信息传递，并籍此信息实现信息识别目的的无线通信技术。RFID技术被广泛应用于制造、物流、公共服务等行业。RFID技术的核心是RFID标签，它与RFID读写器通过射频信号交换信息。现有的高频无源射频标签识别芯片主要包括射频模拟电路、数字电路、EEPROM存储器三部分。而高频无源RFID标签以天线电感耦合的方式通过RFID读写器发射的电磁波得到能量，因此RFID标签的使用距离主要受限于标签芯片中射频模拟电路的能量转换效率和超低调制指数的信号解调能力；此外，还主要受限于数字电路、电可擦可编程只读存储器的电路功耗。发明内容有鉴于此，本发明实施例提供一种高能效低功耗无源射频识别标签芯片。本发明的第一方面提供了一种高能效低功耗无源射频识别标签芯片，包括射频模拟电路、数字电路和EEPROM存储器；所述射频模拟电路中具体包括桥式整流电路、三级限幅电路、电阻负载调制电路、ASK解调电路、线性稳压电路和时钟提取电路；所述桥式整流电路用于将RFID标签天线的输入信号ant1、ant2转换为VHD直流信号，向射频模拟电路、数字电路和EEPROM存储器提供VHD直流信号；所述三级限幅电路用于根据场强对所述桥式整流电路的VHD直流信号输出进行泄流；所述线性稳压电路用于对所述桥式整流电路的VHD直流信号输出进行稳压，输出VDD稳压信号至数字电路和EEPROM存储器；所述电阻负载调制电路用于对输入信号ant1、ant2进行负载调制；所述ASK解调电路用于根据输入信号ant1、ant2产生ASK编码信号输入数字电路中；所述时钟提取电路用于产生时钟信号输入数字电路中；所述数字电路中具体包括曼彻斯特编码器、脉冲位置调制解码器、防冲突电路；所述脉冲位置调制解码器用于根据所述ASK编码信号和时钟信号生成逻辑信号；所述曼彻斯特编码器用于生成曼彻斯特编码信号；所述防冲突电路用于检测RFID标签产生的碰撞；所述EEPROM存储器用于存储脉冲位置调制解码器输出的逻辑信号。进一步地，所述桥式整流电路包括NMOS管MN1、MN2、MN3和MN4和储能电容CVHD；其中MN1的漏极和栅极、MN4的栅极和MN3的漏极接输入信号ant1，MN2的漏极和栅极、MN3的栅极和MN4的漏极接输入信号ant2；MN1和MN2的源极形成VHD输出，MN3和MN4的源极接信号地；所述输入信号ant1和ant2从RFI D标签天线得到；当所述输入信号ant1输入高电平信号、输入信号ant2输入低电平信号时，MN1和MN4打开，为对接于VHD输出和信号地之间的CVHD充电并形成VHD直流信号输出；当所述输入信号ant1输入低电平信号、输入信号ant2输入高电平信号时，MN2和MN3打开，为对接于VHD输出和信号地之间的CVHD充电并形成VHD直流信号输出。进一步地，所述三级限幅电路包括第一限幅电路、第二限幅电路和第三限幅电路；第一限幅电路和第二限幅电路的输入通过电阻RBC隔离；第二限幅电路和第三限幅电路的输入通过电阻RAB隔离；每个限幅电路各自包括开启电阻、限幅PMOS管、泄流支路、高通滤波器和泄流管；其中，所述高通滤波器由串联的电阻和电容组成，用于过滤限幅电路输入的噪声；泄流管由两个放电NMOS管组成，两个放电NMOS管的漏极分别输入信号ant1和ant2，源极连接信号地，栅极连接泄流支路的输出；所述第一限幅电路中的第一泄流支路包括五个栅极与漏极连接的PMOS管，前一PMOS管的漏极输出接后一PMOS管的源极输入，最后一个PMOS管的漏极输出第一开启电压；所述第二限幅电路中的第二泄流支路包括四个栅极与漏极连接的PMOS管，前一PMOS管的漏极输出接后一PMOS管的源极输入，最后一个PMOS管的漏极输出第二开启电压；所述第三限幅电路中的第三泄流支路包括三个栅极与漏极连接的PMOS管，前一PMOS管的漏极输出接后一PMOS管的源极输入，最后一个PMOS管的漏极输出第三开启电压；当所述射频模拟电路的场强超过所述第三限幅电路中限幅PMOS管的阈值电压时，限幅PMOS管导通，产生第三开启电压；当所述第三开启电压超过第三限幅电路的泄流管中放电NMOS管的阈值电压时，第三限幅电路的泄流管开始泄流；当所述射频模拟电路的场强超过所述第二限幅电路中限幅PMOS管的阈值电压时，限幅PMOS管导通，产生第二开启电压；当所述第二开启电压超过第二限幅电路的泄流管中放电NMOS管的阈值电压时，第二限幅电路的泄流管开始泄流；当所述射频模拟电路的场强超过所述第一限幅电路中限幅PMOS管的阈值电压时，限幅PMOS管导通，产生第一开启电压；当所述第一开启电压超过第一限幅电路的泄流管中放电NMOS管的阈值电压时，第一限幅电路的泄流管开始泄流。进一步地，所述电阻负载调制电路中包括调制控制电路和电平转换电路；所述调制控制电路接收曼彻斯特编码信号；调制控制电路的输出连接电平转换电路的输入，电平转换电路的输出连接天线谐振回路；所述调制控制电路由PMOS管MP11、MP12和NMOS管MN11、MN12构成两个反相器，用于为电平转换电路提供二进制编码的控制信号；所述电平转换电路根据所述控制信号生成高电平或低电平信号，在所述输入信号ant1、ant2中加入调制信号dem_in。进一步地，所述线性稳压电路包括启动电路、基准电流源、镜像电路和调节电路；所述启动电路包括电阻R21、PMOS管MP21和NMOS管MN21、MN22；所述启动电路用于向基准电流源提供初始电压；所述基准电流源包括二极管B21、电阻R22、NMOS管MN23、MN24和PMOS管MP22、MP23；所述基准电流源用于根据所述初始电压产生基准电流I1；所述镜像电路包括PMOS管MP24、MP25和NMOS管MN25、MN26、MN27，所述镜像电路用于根据所述基准电流I1生成镜像电流I4；所述调节电路包括PMOS管MP26和MP27，所述调节电路用于对输出的VDD稳压信号进行反馈调节。进一步地，所述ASK解调电路包括包络提取电路、前放大电路、后放大电路和判决电路；所述包括提取电路包括电阻分压器、第一低通滤波器和第二低通滤波器；所述电阻分压器用于对所述输入信号ant1、ant2进行分压，使输入信号的电压与第一低通滤波器和第二低通滤波器的工作电压匹配；所述第一低通滤波器用于从输入信号ant1、ant2中提取第一包络信号Vfast；所述第二低通滤波器用于从输入信号ant1、ant2中提取第二包络信号Vslow；所述前放大电路用于放大所述第一包络信号Vfast和第二包络信号Vslow，得到第一放大信号Vr1和第二放大信号Vs1；所述后放大电路用于对所述第一放大信号Vr1和第二放大信号Vs1进行二次放大，得到第三放大信号Vr和第四放大信号Vs；所述判决电路用于根据第三放大信号Vr和第四放大信号Vs生成ASK编码信号以输入所述数字电路中。进一步地，所述脉冲位置调制解码器包括同步电路、SOF/EOF检测电路、9位计数器、解码电路、移位寄存器和FSM电路；所述同步电路用于对所述ASK编码信号和时钟信号进行同步；所述SOF/EOF检测电路用于检测ASK编码信号的起始帧和结束帧；所述9位计数器用于根据ASK编码信号生成逻辑信号；所述解码电路和移位寄存器用于对所述逻辑信号进行解码并输出；所述FSM电路用于控制脉冲位置调制解码器和曼彻斯特编码器的运行状态；所述脉冲位置调制解码器通过以下步骤完成解码：对所述ASK编码信号和时钟信号进行同步处理；将所述ASK编码信号和时钟信号进行比较，确定所述ASK编码信号脉冲位置的相对时间；确定所述ASK编码信号的起始帧和结束帧；将ASK编码信号输入9位计数器，所述9位计数器在所述时钟信号的时钟周期结束时将所述ASK编码信号的计数值与预设阈值进行比较，当计数值小于预设阈值时，生成逻辑信号0；当计数值大于预设阈值时，生成逻辑信号1；通过所述解码电路和移位寄存器对逻辑信号解码并输出。进一步地，所述曼彻斯特编码器支持使用一个或两个子载波；当使用一个子载波时，曼彻斯特编码器所生成的曼彻斯特编码信号dout副载波频率为f/32；当使用两个子载波时，曼彻斯特编码器所生成的曼彻斯特编码信号dout副载波频率为f/32和f/28的组合。进一步地，所述防冲突电路通过以下方法之一完成：划分得到若干个时间槽，每个RFI D标签在不同的时间槽内发送自己的I D信息，防冲突电路根据读取到的I D信息判断是否发生碰撞；将所述RFI D标签的I D信息转换为二进制数，并按照位数从高到低进行反转，防冲突电路根据读取到的I D信息判断是否发生碰撞；将所述RFI D标签的I D信息存储在查询树中，并按照预设规则进行查询，防冲突电路根据查询结果判断是否发生碰撞；使用哈希函数将所述RFI D标签的I D信息映射到一个唯一的哈希值，并根据哈希值进行识别和区分，防冲突电路根据接收到的哈希值判断是否发生碰撞。进一步地，所述EEPROM存储器包括存储单元阵列、擦写电路、读取电路和电荷泵；所述擦写电路用于进行存储单元阵列的擦写控制；所述读取电路用于进行存储单元阵列的读取控制；所述电荷泵用于产生擦除信号对存储单元阵列进行擦除。本发明具有如下有益效果：本发明在模拟电路部分利用NMOS管构建出高能效的桥式整流电路，将天线两端耦合过来的交流电压信号转变成直流信号；同时增加三级限幅电路以防止感应到的电压过大继而击穿与天线连接的晶体管；利用编码信号控制MOS管的通断来改变天线两端的负载，继而通过控制泄流来调节天线两端的电压值，实现负载调制和信号传递的目的。本发明在数字电路部分使用脉冲位置调制解码器实现高精度、高速度的解码；使用基于FSM控制的曼彻斯特编码器生成曼彻斯特编码信号；使用防冲突电路处理可能出现的多个RFI D标签同时存在于询问区域的情况。本发明在EEPROM存储器部分避免使用功耗较大的基准源，采用独特设计的读时序控制电路，可以有效降低电路功耗。仿真结果表明本发明所设计一种高能效低功耗无源射频识别标签芯片具有能量效率高、功耗低、调剂指数低的特点。本发明的附加方面和优点将在下面的描述部分中给出，部分将从下面的描述中变得明显，或通过本发明的实践了解到。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明一种高能效低功耗无源射频识别标签芯片总体结构图；图2是本发明一种高能效低功耗无源射频识别标签芯片模拟电路部分结构图；图3是本发明一种高能效低功耗无源射频识别标签芯片桥式整流电路结构图；图4是本发明一种高能效低功耗无源射频识别标签芯片三级限幅电路结构图之一；图5是本发明一种高能效低功耗无源射频识别标签芯片三级限幅电路结构图之二；图6是本发明一种高能效低功耗无源射频识别标签芯片负载调制电路结构图；图7是本发明一种高能效低功耗无源射频识别标签芯片线性稳压电路结构图；图8是本发明一种高能效低功耗无源射频识别标签芯片ASK解调电路结构图；图9是本发明一种高能效低功耗无源射频识别标签芯片脉冲位置调制解码器结构图图10是本发明一种高能效低功耗无源射频识别标签芯片脉冲位置调制解码器中同步电路结构图；图11是本发明一种高能效低功耗无源射频识别标签芯片曼彻斯特编码器结构图；图12是本发明一种高能效低功耗无源射频识别标签芯片曼彻斯特编码器中解析载波频率示意图；图13是本发明一种高能效低功耗无源射频识别标签芯片防冲突电路结构图；图14是本发明一种高能效低功耗无源射频识别标签芯片EEPROM存储器结构图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。本发明实施例高能效低功耗无源射频识别标签芯片主要包括高能效和超低调制指数的射频模拟电路、低功耗数字电路、低功耗EEPROM存储器三个部分，芯片结构参考图1。如图2所示，本发明实施例高能效低功耗无源射频识别标签芯片的射频模拟电路部分主要包括：桥式整流电路、三级限幅电路、电阻负载调制电路、线性稳压电路、时钟提取电路和振幅键控解调电路。本发明的高频无源射频识别标签芯片的低功耗数字电路部分主要包括：脉冲位置调制解码器、曼彻斯特编码器和防冲突电路。本发明的高频无源射频识别标签芯片的低功耗EEPROM存储器部分主要包括：EEPROM擦写电路、EEPROM读取电路和电荷泵。桥式整流电路部分：本实施例中桥式整流电路用于将RFID标签天线的输入信号ant1、ant2转换为VHD直流信号，向射频模拟电路、数字电路和EEPROM存储器提供VHD直流信号。具体地，由于RFID标签天线耦合过来的信号ant1、ant2是正弦波，是一种交变电压，不能直接给模拟和数字电路供电，需要采用额外电路将交流信号转化成直流信号，因此采用桥式整流电路进行信号转换。如图3所示，本实施例桥式整流电路包括NMOS管MN1、MN2、MN3和MN4和储能电容CVHD；其中MN1的漏极和栅极、MN4的栅极和MN3的漏极接输入信号ant1，MN2的漏极和栅极、MN3的栅极和MN4的漏极接输入信号ant2；MN1和MN2的源极形成VHD输出，MN3和MN4的源极接信号地；输入信号ant1和ant2从RFID标签天线得到。特别地，由于输入信号ant1和ant2不一定是连续的信号，因此在信号中断的间隙本实施例通过储能电容CVHD完成间隙处的供电工作，同时储能电容CVHD也能起到稳定VHD直流信号的作用。当输入信号ant1输入高电平信号、输入信号ant2输入低电平信号时，MN1和MN4打开，为对接于VHD输出和信号地之间的CVHD充电并形成VHD直流信号输出；当输入信号ant1输入低电平信号、输入信号ant2输入高电平信号时，MN2和MN3打开，为对接于VHD输出和信号地之间的CVHD充电并形成VHD直流信号输出。由于在桥式整流电路工作过程中输入信号的载波是一直存在的，因此能够形成一个比较稳定的VHD电压，储能电容CVHD充放电的过程中，VHD始终是直流电，从而达到交流信号转化成直流信号的目的。由于整流后的VHD直流信号电压值仍然可能超过MOS击穿电压临界值，因此仍需进一步设置限幅电路在高场强时对电路起到保护作用。如图4、5所示，本实施例三级限幅电路包括第一限幅电路level1、第二限幅电路level2和第三限幅电路level3；第一限幅电路level1和第二限幅电路的输入level2通过电阻RBC隔离；第二限幅电路level2和第三限幅电路level3的输入通过电阻RAB隔离。每个限幅电路各自包括开启电阻、限幅PMOS管、泄流支路、高通滤波器和泄流管；其中，高通滤波器由串联的电阻和电容R1和C1、R2和C2、R3和C3组成，用于过滤VHD上的纹波噪声；泄流管由两个放电NMOS管MN1c和MN2c、MN1b和MN2b、MN1a和MN2a组成，两个放电NMOS管的漏极分别输入信号ant1和ant2，源极连接信号地，栅极连接泄流支路的输出。第一限幅电路level1中的第一泄流支路包括五个栅极与漏极连接的PMOS管MP1c、MP2c、MP3c、MP4c和MP5c，前一PMOS管的漏极输出接后一PMOS管的源极输入，最后一个PMOS管MP5c的漏极输出第一开启电压VT1；第二限幅电路level2中的第二泄流支路包括四个栅极与漏极连接的PMOS管MP1b、MP2b、MP3b和MP4b，前一PMOS管的漏极输出接后一PMOS管的源极输入，最后一个PMOS管MP4b的漏极输出第二开启电压VT2，第三限幅电路level3中的第三泄流支路包括三个栅极与漏极连接的PMOS管MP1a、MP2a和MP3a，前一PMOS管的漏极输出接后一PMOS管的源极输入，最后一个PMOS管MP3a的漏极输出第三开启电压VT3。具体地，本实施例射频模拟电路经过互感耦合以及整流之后得到总电流I，I分成两条支路，一路电流流过LDO给后续的负载调制电路提供所需的电流，其余的电流则通过三级限幅电路释放掉。由于射频模拟电路总电流I＝ILDO+Ia+Ib+Ic，如果所需的负载电流ILDO减小，那么其余的电流可以通过Ia、Ib和Ic泄放，如果所需的负载电流ILDO增大，那么可以通过降低泄流值来达到所需的负载电流，当Ia、Ib和Ic几乎为0时，负载电流ILDO达到最大值。射频模拟电路的场强通过如下公式计算：其中，x是天线与天线接口的垂直距离，a、b为天线边长，N为天线圈数，I为天线流过电流。本实施例三级限幅电路的电流泄放通过以下步骤进行：当射频模拟电路的场强H超过第三限幅电路level3中限幅PMOS管的阈值电压VAon时，限幅PMOS管MPa导通，形成的电流通过电阻R2a产生第三开启电压VT3；当第三开启电压VT3超过第三限幅电路的泄流管中放电NMOS管的阈值电压时，第三限幅电路level3的泄流管开始泄流，将多余的电流Ia泄放。当第三限幅电路level3开始泄放电流后，由于电阻RAB的存在，第二限幅电路level2的电压逐渐升高。当射频模拟电路的场强H超过第二限幅电路中限幅PMOS管的阈值电压VBon时，限幅PMOS管MPB导通，形成的电流通过电阻R2b产生第二开启电VT2；当第二开启电压VT2超过第二限幅电路的泄流管中放电NMOS管的阈值电压时，第二限幅电路level2的泄流管开始泄流，将多余的电流Ib泄放；当第二限幅电路level2开始泄放电流后，由于电阻RBC的存在，第一限幅电路level1的电压逐渐升高。当射频模拟电路的场强H超过第一限幅电路中限幅PMOS管的阈值电压VCon时，限幅PMOS管MPc导通，形成的电流通过电阻R2c产生第一开启电压VT1；当第一开启电压VT1超过第一限幅电路的泄流管中放电NMOS管的阈值电压时，第一限幅电路level1的泄流管开始泄流，将多余的电流Ic泄放。本实施例通过三级限幅电路实现在不同的场强调节电流和电压，例如在低场强，所有的泄流管处于关闭状态，所有的电流都供应至了后续电路，在中间场强，第三限幅电路level3开启，将一部分没利用到的电流通过Ia泄放，而对于大场强，所有的限幅电路都开启，泄放更大的电流，保护晶体管不至于工作电压太高而被击穿。如图6所示，本实施例电阻负载调制电路中包括调制控制电路和电平转换电路；调制控制电路接收曼彻斯特编码信号；调制控制电路的输出连接电平转换电路的输入，电平转换电路的输出连接天线谐振回路；调制控制电路由PMOS管MP11、MP12和NMOS管MN11、MN12构成两个反相器，用于为电平转换电路提供二进制编码的控制信号；电平转换电路根据控制信号生成高电平或低电平信号，在输入信号ant1、ant2中加入调制信号dem_in。具体地，当数字电路输出的dout为低电平，MN13和MP14均处于开启状态，使得节点A将处于高电平，MN15、MN16导通，电流将从RFID天线流向R4、R5，几毫伏的调制信号将施加在载波上。当负载调制电路开启时，MP16被MP15和MN13短路，节点B的导通电压将增加1个VTH，负载调制的幅度加深。如图7所示，本实施例线性稳压电路包括启动电路、基准电流源、镜像电路和调节电路；启动电路包括电阻R21、PMOS管MP21和NMOS管MN21、MN22,启动电路用于向基准电流源提供初始电压。其中电阻R21用来防止启动电路瞬间导通过程中出现过大电流，net1节点电压Vnet1开始时为0，此时PMOS管MP21是导通的，随着芯片缓慢上电，Vnet1达到了MN22的阈值电压，PMOS管MN22和MP21构成了一个反相器，瞬间将net2电压Vnet2拉到高电平并开启PMOS管MN21，net3上的电压Vnet3则立刻下降为0，给予基准电路一个初始值，此刻PMOS管MP22和MP23导通进入截止状态，基准源开始工作，并将Vnet1拉高，经过反相后Vnet2拉低，关闭PMOS管MN21。基准电流源包括二极管B21、电阻R22、NMOS管MN23、MN24和PMOS管MP22、MP23；基准电流源用于根据初始电压产生基准电流I1。镜像电路包括PMOS管MP24、MP25和NMOS管MN25、MN26、MN27，镜像电路用于根据基准电流I1生成镜像电流I4。其中PMOS管MP24、MP25和NMOS管MN25、MN27的宽长比均为W/L，NMOS管MN26的宽长比为3W/L，由I5＝3I2和I1＝2I2可知I4＝I5-I2＝2I2＝I 1。调节电路包括PMOS管MP26和MP27，调节电路用于对输出的VDD稳压信号进行反馈调节。具体地，MP26是PMOS调整管，一旦VDD发生变化，可通过反馈电路得到动态调整，使得VDD稳定在设定区间。如当VDD上升时，那么流过MP27的电流I4增加，由于I5＝3I2且是恒定的，I4的增加意味着I2和I3的减小，使得PMOS管MP25的VDS也减小，其中VDS等于MP26管的VGS，从而意味着VGS也减小，进而VDD下降，达到调整目的。如图8所示，本实施例ASK解调电路包括包络提取电路、前放大电路、后放大电路和判决电路。包络提取电路包括电阻分压器、第一低通滤波器和第二低通滤波器；电阻分压器用于对输入信号ant1、ant2进行分压，使输入信号的电压与第一低通滤波器和第二低通滤波器的工作电压匹配；第一低通滤波器用于从输入信号ant1、ant2中提取第一包络信号Vfast；第二低通滤波器用于从输入信号ant1、ant2中提取第二包络信号Vslow。具体地，由于RFI D天线的输入电压约为6V，高于ASK解调电路其余部分的正常工作电压，因此电阻分压器应用于其中一个包络信号Vfast进行分压。第二低通滤波器得到包络信号的平均电压，其时间常数大于第一低通滤波器，此时过冲消失，产生另一个包络信号Vslow。前放大电路的作用是放大Vfast和Vslow之间的微小差异来限制调制过程中产生的噪声。电压信号通过电流镜转换为电流信号Ifast和Islow。MN32和MN33的跨导gm32和gm33决定了预放大电路的放大倍数。为进一步抑制噪声的影响，使解调器能够正确识别有用的ASK调制信号，前放大电路应该具有内部正反馈的迟滞结构，这里使用了四个NMOS晶体管连接到地，Islow和Ifast被放大并转换成电压Vr1和Vs1。由于前放大电路得到的两路差分信号并不符合满摆幅的要求，其电压值仍可能处于亚阈值，此外当数据速率较高时，不够理想的差分信号仍可能导致错误的翻转，因此本实施例设置差分输入后放大电路，将两路电压信号Vr1和Vs1放大到接近满摆幅的水平。判决电路根据第三放大信号Vr和第四放大信号Vs生成ASK编码信号以输入数字电路中，实现模拟信号到数字信号的转换。如图9所示，脉冲位置调制解码器包括同步电路、SOF/EOF检测电路、9位计数器、解码电路、移位寄存器和FSM电路；同步电路用于对ASK编码信号和时钟信号进行同步；SOF/EOF检测电路用于检测ASK编码信号的起始帧和结束帧；9位计数器用于根据ASK编码信号生成逻辑信号；解码电路和移位寄存器用于对逻辑信号进行解码并输出；FSM电路用于控制脉冲位置调制解码器和曼彻斯特编码器的运行状态。本实施例中PPM解码器用于检测ASK解调器生成的1/256或1/4编码信号，其调制指数支持100％和10％，从而实现数据速率为1.65Kbit/s和26.48Kbit/s。具体地，clk_decoder是一个带时钟门控单元的4倍频时钟，por是上电复位信号，rx_en是解码器的使能信号，din_100和din_10是ASK解调电路的输出信号。其中rx_data是接收到的8位数据，din_100_en和din_10_en是ASK解调电路的使能信号。脉冲位置调制解码器通过以下步骤完成解码：对ASK编码信号和时钟信号进行同步处理；将ASK编码信号和时钟信号进行比较，确定ASK编码信号脉冲位置的相对时间；确定ASK编码信号的起始帧和结束帧；将ASK编码信号输入9位计数器，9位计数器在时钟信号的时钟周期结束时将ASK编码信号的计数值与预设阈值进行比较，当计数值小于预设阈值时，生成逻辑信号0；当计数值大于预设阈值时，生成逻辑信号1；通过解码电路和移位寄存器对逻辑信号解码并输出。本实施例中PPM解码器可以将输入信号转换为数字数据，并输出到后续电路中进行处理。该PPM解码器可以实现高精度、高速度的解码，并且具有低功耗、小面积等优点，在RFID标签芯片等应用中具有广泛的应用前景。特别地，在本实施例中PPM解码器中，时钟信号对于10％ASK信号是连续的，而时钟信号对于100％ASK信号则是不连续的。这样会造成输出解调信号din_100或din_10为异步信号，且时钟可能在每个暂停信号的边缘包含毛刺，因此必须采用图10所示的同步电路对输出信号进行处理。本实施例同步电路使用四个寄存器用于同步其中一个解调信号。第一个寄存器的数据输入连接到逻辑1，din_100或din_10连接到寄存器的复位端口。前两个寄存器可以消除亚稳态，然后后两个寄存器可以用于产生正脉冲同步信号。最后，多路复用器用于选择其中一个解调信号作为输出信号din。特别地，由于本实施例中经过PPM解码器从ASK解调电路生成的1/256或1/4编码信号的特殊性质，需要对其进行精确的同步和解码，因此使用FSM来实现对解码过程中各个状态的精确控制，从而保证解码的准确性和可靠性。同时，FSM还可以提高系统的效率和响应速度，使得整个RFID系统更加稳定和可靠。具体地，PPM解码器中的FSM电路有七个状态：IDLE、SOF、DATA256、SOF_END、DATA4、EOF和ERROR。当PPM解码器处于IDLE状态时，它会等待ASK信号。一旦出现暂停信号，PPM解码器将切换到SOF状态。通过使用9位计数器和不同的SOF序列，FSM电路可以识别其中一种数据编码模式。然后，FSM电路将切换到DATA256或DATA4状态。在256种编码方式中的一种中，单个字节的值可以用一个停顿的位置来表示。由此产生的数据速率为1.66Kbit/s。在这种情况下，可以通过记录数据位置的9位计数器来确定该值。对于1out4编码方式，一个停顿的位置一次确定两个比特，那么一个字节可以由四对连续的两个比特组成。由此产生的数据速率为26.48Kbit/s。这些技术保证了解码过程中各个状态的精确控制，并提高了系统效率和响应速度。本实施例曼彻斯特编码器用于将PPM解码器输出的二进制数据信号转换为曼彻斯特编码信号。图11示出了本实施例中由FSM电路控制的曼彻斯特编码器的结构。SOF是帧起始信号，由SOF1、SOF2、SOF3和SOF4四个部分组成。其中前两个波形由电路1产生，后两个波形由电路2产生。这两个电路都是由多个多路复用器组成，并且多路复用器的输入代表脉冲个数的配置。sub_carrier用于选择一个或两个子载波，当使用两个子载波时编码器应发送27个f/28脉冲，否则发送24个时钟周期的未调制时间。为了产生f/28或f/32的脉冲，应使用两个定时器。由于编码器的输入时钟是2分频时钟，因此需要使用16分频定时器产生f/32，使用14分频定时器产生f/28。FSM可以选择定时器的输出之一来生成曼彻斯特编码信号“dout”，该信号连接到负载调制电路的输入端。因为要发送的数据是一连串的字节，所以需要使用移位寄存器逐位产生数据。具体而言，曼彻斯特编码器将每个数据位分成两个时间间隔，并在每个时间间隔内使用不同的电平表示该位的值。如果数据位为0，则在第一个时间间隔内使用高电平，第二个时间间隔内使用低电平；如果数据位为1，则在第一个时间间隔内使用低电平，第二个时间间隔内使用高电平。因此本实施例将曼彻斯特编码器用于将响应信号进行编码，支持使用一个或两个子载波。如图12所示，当使用一个子载波时，副载波频率应为f/32。当使用两个子载波时，副载波频率应为f/32和f/28的组合。以帧起始为例，一个子载波的SOF由24个时钟周期的未调制时间、24个f/32脉冲和一个以8个时钟周期的未调制时间开始的逻辑1组成，然后是8个f/32脉冲。两个子载波的SOF由27个f/28脉冲、24个f/32脉冲和逻辑1组成，逻辑1以9个f/28脉冲开始，然后是8个f/32脉冲。由于在RFID通信过程中可能出现多个RFID标签同时响应芯片的情况，进而造成标签之间的碰撞，因此本实施例结合模拟和数字电路来检测冲突的确切位置，使得防冲突电路可以选择其中一个标签进行通信。防冲突电路通过以下方法之一完成：划分得到若干个时间槽，每个RFID标签在不同的时间槽内发送自己的ID信息，防冲突电路根据读取到的ID信息判断是否发生碰撞；将RFID标签的ID信息转换为二进制数，并按照位数从高到低进行反转，防冲突电路根据读取到的ID信息判断是否发生碰撞；将RFID标签的ID信息存储在查询树中，并按照预设规则进行查询，防冲突电路根据查询结果判断是否发生碰撞；使用哈希函数将RFID标签的ID信息映射到一个唯一的哈希值，并根据哈希值进行识别和区分，防冲突电路根据接收到的哈希值判断是否发生碰撞。示例性地，以划分时间槽方法进行防冲突检测。如图13所示，如果标签1发送一系列二进制数“1100…”，标签2发送“1111…”，这里逻辑1以未调制时间开始，随后是8个子载波脉冲，而逻辑0以8个子载波脉冲开始，然后是未调制时间。然后阅读器的组合信号在碰撞位置将变为无转换。因此，阅读器可以很容易地检测到这种冲突并选择一个标签进行通信。在ISO/IEC 15693协议中，标签的任务是比较从阅读器接收到的掩码值，并根据比较结果决定是否应该发回自己存储在EEPROM存储器中的UID。防冲突命令用于读取RFID标签的唯一标识符，并可以通过更改防冲突命令中的标志来自行决定时间槽位总数，并添加掩码长度和掩码值等参数。一旦标签收到库存请求，它应该将槽号寄存器重置为零，并在接收到读卡器发送的EOF信号后将槽号加1。在每个槽中，标签将自己的UID与槽号加上掩码值进行比较。如果两个值相等，则标签将发回其唯一ID；否则，它应该保持沉默。可以看到在RFID系统中使用防冲突电路可以很容易地检测到碰撞并选择一个标签进行通信。如图14所示，本实施例EEPROM存储器包括存储单元阵列、擦写电路、读取电路和电荷泵。其中，擦写电路用于进行存储单元阵列的擦写控制；读取电路用于进行存储单元阵列的读取控制；电荷泵用于产生擦除信号对存储单元阵列进行擦除。具体地，本实施例中的EEPROM存储器采用8位并行输入的电路结构，通过设置内部缓冲电路，存储单元可实现页范围内任意多字节的高速擦写，设计出基于正反时钟控制的电荷泵，优化时钟供给电路，降低电荷泵功耗，优化存储电路版图布局和布线，增加对称设计，以应对工艺偏差造成的擦写可靠性问题。本实施例EEPROM存储器还具有串行输出的电路结构，避免使用功耗较大的基准源，而采用1个灵敏放大器实现串行数据的输出，可以有效降低读电路功耗。本实施例EEPROM存储器设计为能够在低电压下工作，所有电路可以工作在低至1.2V的电压，可将读功耗有效控制在1μA以内。仿真结果表明，本实施例EEPROM存储器可在1—1.8V的供电电压之间正常稳定工作，采用并行输入串行输出单个灵敏放大器的读写电路设计。经测试得到数据其读功耗仅为0.68uA，与此同时，其访问时间依旧可以达到1.7μs。在一些可选择的实施例中，在方框图中提到的功能/操作可以不按照操作示图提到的顺序发生。例如，取决于所涉及的功能/操作，连续示出的两个方框实际上可以被大体上同时地执行或所述方框有时能以相反顺序被执行。此外，在本发明的流程图中所呈现和描述的实施例以示例的方式被提供，目的在于提供对技术更全面的理解。所公开的方法不限于本文所呈现的操作和逻辑流程。可选择的实施例是可预期的，其中各种操作的顺序被改变以及其中被描述为较大操作的一部分的子操作被独立地执行。此外，虽然在功能性模块的背景下描述了本发明，但应当理解的是，除非另有相反说明，所述的功能和/或特征中的一个或多个可以被集成在单个物理装置和/或软件模块中，或者一个或多个功能和/或特征可以在单独的物理装置或软件模块中被实现。还可以理解的是，有关每个模块的实际实现的详细讨论对于理解本发明是不必要的。更确切地说，考虑到在本文中公开的装置中各种功能模块的属性、功能和内部关系的情况下，在工程师的常规技术内将会了解该模块的实际实现。因此，本领域技术人员运用普通技术就能够在无需过度试验的情况下实现在权利要求书中所阐明的本发明。还可以理解的是，所公开的特定概念仅仅是说明性的，并不意在限制本发明的范围，本发明的范围由所附权利要求书及其等同方案的全部范围来决定。在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。尽管已经示出和描述了本发明的实施例，本领域的普通技术人员可以理解：在不脱离本发明的原理和宗旨的情况下可以对这些实施例进行多种变化、修改、替换和变型，本发明的范围由权利要求及其等同物限定。以上是对本发明的较佳实施进行了具体说明，但本发明并不限于所述实施例，熟悉本领域的技术人员在不违背本发明精神的前提下还可做出种种的等同变形或替换，这些等同的变形或替换均包含在本申请权利要求所限定的范围内。
