标题title
设备故障诊断方法、装置、计算机设备及其存储介质
摘要abst
本申请涉一种设备故障诊断方法、装置、计算机设备及其存储介质，涉及设备参数分析技术领域。所述方法包括：获取待检测设备中各传感器的实际配置参数；基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数；目标传感器依赖图中包括配置有重要性权重的各传感器，以及各传感器之间的实际依赖关系；基于配置后的目标传感器依赖图，对待检测设备进行故障诊断。本申请能够以待检测设备中各传感器的实际配置参数为依据，准确确定待检测设备的故障原因。
权利要求书clms
1.一种设备故障诊断方法，其特征在于，所述方法包括：获取待检测设备中各传感器的实际配置参数；基于待检测设备中各传感器的实际配置参数，配置所述待检测设备的目标传感器依赖图中各传感器的仿真配置参数；所述目标传感器依赖图中包括配置有重要性权重的所述各传感器，以及各传感器之间的实际依赖关系；基于配置后的目标传感器依赖图，对所述待检测设备进行故障诊断。2.根据权利要求1所述的方法，其特征在于，所述基于配置后的目标传感器依赖图，对所述待检测设备进行故障原因预测，包括：通过故障检测模型，基于配置后的目标传感器依赖图，判断所述待检测设备是否发生故障；若是，则通过故障原因预测网络，基于配置后的目标传感器依赖图，预测待检测设备对应的至少一个故障原因；根据各故障原因之间的因果关系，生成所述各故障原因对应的因果关系闭环图，并将所述因果关系闭环图作为所述待检测设备的故障诊断结果。3.根据权利要求1所述的方法，其特征在于，所述目标传感器依赖图的生成过程，包括：向所述待检测设备中的各传感器输入观察信号，并获取所述观察信号在所述各传感器间传输后的传输结果；且各传感器的观察信号的输入时间不同；根据所述各传感器的观察信号和所述观察信号在所述各传感器间的传输结果，确定各传感器的重要性权重，以及各传感器间的实际依赖关系；根据各传感器的重要性权重，以及各传感器间的实际依赖关系，生成目标传感器依赖图。4.根据权利要求3所述的方法，其特征在于，所述根据所述观察信号和所述观察信号在所述各传感器间的传输结果，确定各传感器的重要性权重，包括：通过自注意力模型，根据所述各传感器的观察信号的输入时间和所述观察信号在所述各传感器间的传输结果，确定各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵；基于各传感器对应的所述查询向量矩阵、所述键向量矩阵和所述值向量矩阵，确定各传感器的重要性权重。5.根据权利要求3所述的方法，其特征在于，所述根据所述观察信号和所述观察信号在所述各传感器间的传输结果，确定各传感器间的实际依赖关系，包括：基于所述观察信号在所述各传感器间的传输结果，确定所述观察信号在所述各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值；根据各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值，确定各传感器间的实际依赖关系。6.根据权利要求4所述的方法，其特征在于，所述基于各传感器对应的所述查询向量矩阵、所述键向量矩阵和所述值向量矩阵，确定各传感器的重要性权重，包括：根据各传感器对应的所述查询向量矩阵和所述键向量矩阵，确定各传感器对应的注意力分布矩阵；基于各传感器对应的所述注意力分布矩阵和所述值向量矩阵，确定各传感器的重要性权重。7.一种设备故障诊断装置，其特征在于，所述装置包括：获取模块，用于获取待检测设备中各传感器的实际配置参数；配置模块，用于基于待检测设备中各传感器的实际配置参数，配置所述待检测设备的目标传感器依赖图中各传感器的仿真配置参数；所述目标传感器依赖图中包括配置有重要性权重的所述各传感器，以及各传感器之间的实际依赖关系；诊断模块，用于基于配置后的目标传感器依赖图，对所述待检测设备进行故障诊断。8.一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至6中任一项所述的方法的步骤。9.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至6中任一项所述的方法的步骤。10.一种计算机程序产品，包括计算机程序，其特征在于，该计算机程序被处理器执行时实现权利要求1至6中任一项所述的方法的步骤。
说明书desc
技术领域本申请涉及设备参数分析技术领域，特别是涉及一种设备故障诊断方法、装置、计算机设备及其存储介质。背景技术随着生产需求的不断增加，各种设备的复杂程度也随之提高，这也导致了设备在应用的过程中出现问题的概率不断增大；为保证设备能够持续运行，需要及时对设备的故障原因进行确定，以保证对设备的及时维护。现有技术中，通常需要采集设备的机械性能数据，并根据机械性能数据对故障原因进行分析；其中，机械性能数据指设备机械层面展现出的数据，可包括设备的震动和设备的噪声等。但是，现有技术对故障原因的分析方法准确性较低，无法充分了解设备的实际故障原因。发明内容基于此，有必要针对上述技术问题，提供一种能够准确获取待检测设备实际故障原因的设备故障诊断方法、装置、计算机设备及其存储介质。第一方面，本申请提供了一种设备故障诊断方法。该方法包括：获取待检测设备中各传感器的实际配置参数；基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数；目标传感器依赖图中包括配置有重要性权重的各传感器，以及各传感器之间的实际依赖关系；基于配置后的目标传感器依赖图，对待检测设备进行故障诊断。在其中一个实施例中，基于配置后的目标传感器依赖图，对待检测设备进行故障原因预测，包括：通过故障检测模型，基于配置后的目标传感器依赖图，判断待检测设备是否发生故障；若是，则通过故障原因预测网络，基于配置后的目标传感器依赖图，预测待检测设备对应的至少一个故障原因；根据各故障原因之间的因果关系，生成各故障原因对应的因果关系闭环图，并将因果关系闭环图作为待检测设备的故障诊断结果。在其中一个实施例中，目标传感器依赖图的生成过程，包括：向待检测设备中的各传感器输入观察信号，并获取观察信号在各传感器间传输后的传输结果；且各传感器的观察信号的输入时间不同；根据各传感器的观察信号和观察信号在各传感器间的传输结果，确定各传感器的重要性权重，以及各传感器间的实际依赖关系；根据各传感器的重要性权重，以及各传感器间的实际依赖关系，生成目标传感器依赖图。在其中一个实施例中，根据观察信号和观察信号在各传感器间的传输结果，确定各传感器的重要性权重，包括：通过自注意力模型，根据各传感器的观察信号的输入时间和观察信号在各传感器间的传输结果，确定各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵；基于各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵，确定各传感器的重要性权重。在其中一个实施例中，根据观察信号和观察信号在各传感器间的传输结果，确定各传感器间的实际依赖关系，包括：基于观察信号在各传感器间的传输结果，确定观察信号在各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值；根据各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值，确定各传感器间的实际依赖关系。在其中一个实施例中，基于各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵，确定各传感器的重要性权重，包括：根据各传感器对应的查询向量矩阵和键向量矩阵，确定各传感器对应的注意力分布矩阵；基于各传感器对应的注意力分布矩阵和值向量矩阵，确定各传感器的重要性权重。第二方面，本申请还提供了一种设备故障诊断装置。该装置包括：获取模块，用于获取待检测设备中各传感器的实际配置参数；配置模块，用于基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数；目标传感器依赖图中包括配置有重要性权重的各传感器，以及各传感器之间的实际依赖关系；诊断模块，用于基于配置后的目标传感器依赖图，对待检测设备进行故障诊断。第三方面，本申请还提供了一种计算机设备。计算机设备包括存储器和处理器，存储器存储有计算机程序，处理器执行计算机程序时实现如上述第一方面任一实施例的设备故障诊断方法。第四方面，本申请还提供了一种计算机可读存储介质。计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现如上述第一方面任一实施例的设备故障诊断方法。第五方面，本申请还提供了一种计算机程序产品。计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现如上述第一方面任一实施例的设备故障诊断方法。上述设备故障诊断方法、装置、计算机设备及其存储介质，根据待检测设备中各传感器的实际配置参数，配置完各传感器的仿真配置参数的目标传感器依赖图，进而根据目标传感器依赖图对待检测设备进行故障诊断；由于目标传感器依赖图中各传感器的仿真配置参数与待检测设备中各传感器的实际配置参数相对应，因此，在对待检测设备进行故障诊断时，可根据目标传感器依赖图模拟待检测设备的实际运行状态，确定待检测设备的故障诊断结果；由于根据目标传感器依赖图对待检测设备进行故障诊断的过程中，无需借助待检测设备的机械性能数据，并且本申请在对待检测设备进行故障诊断时，能够以待检测设备中各传感器的实际配置参数为依据，准确确定待检测设备的故障原因。附图说明图1为一个实施例中设备故障诊断方法的应用环境图；图2为本申请实施例提供的一种设备故障诊断的流程图；图3为本申请实施例提供的一种确定待检测设备的故障诊断结果的流程图；图4为本申请实施例提供的一种故障原因的因果关系闭环图；图5为本申请实施例提供的一种生成目标传感器依赖图的流程图；图6为本申请实施例提供的一种传感器传输关系示意图；图7为本申请实施例提供的一种确定重要性权重的逻辑示意图；图8为本申请实施例提供的另一种设备故障诊断方法的步骤流程图；图9为本申请实施例提供的第一种设备故障诊断装置的结构框图；图10为本申请实施例提供的第二种设备故障诊断装置的结构框图；图11为本申请实施例提供的第三种设备故障诊断装置的结构框图；图12为本申请实施例提供的第四种设备故障诊断装置的结构框图；图13为本申请实施例提供的第五种设备故障诊断装置的结构框图；图14为一个实施例中计算机设备的内部结构图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。应当理解，此处描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。在本申请的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本申请的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任一个或多个实施例或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本说明书中描述的不同实施例或示例以及不同实施例或示例的特征进行结合和组合。基于上述情况，本申请实施例提供的设备故障诊断方法，可以应用于如图1所示的应用环境中。在一个实施例中，提供了一种计算机设备，该计算机设备可以是服务器，其内部结构图可以如图1所示。该计算机设备包括通过系统总线连接的处理器、存储器和网络接口。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质和内存储器。该非易失性存储介质存储有操作系统、计算机程序和数据库。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的数据库用于存储设备故障诊断方法的获取数据。该计算机设备的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时以实现一种设备故障诊断方法。本申请公开了一种设备故障诊断方法、装置、计算机设备及其存储介质，计算机设备根据待检测设备中各传感器的实际配置参数，得到配置后的目标传感器依赖图，并根据配置后的目标传感器依赖图，对待检测设备进行故障诊断。在一个实施例中，如图2所示，图2为本申请实施例提供的一种设备故障诊断的流程图，提供了一种设备故障诊断方法，图1中的计算机设备执行的设备故障诊断方法可以包括以下步骤：步骤201，获取待检测设备中各传感器的实际配置参数。需要说明的是，实际配置参数用于表示待检测设备在运行过程中，各功能组件对应的一个或多个配置参数，并且，待检测设备中不同的功能组件对应的传感器种类也不相同，由于传感器种类不同，导致传感器的实际配置参数种类也不相同。举例说明，若待检测设备中的功能组件为加热组件，则该加热组件对应的传感器种类即为热敏传感器，因此，热敏传感器对应的实际配置参数种类即为温度参数。或者，若待检测设备中的功能组件为电机组件，则该电机组件对应的传感器种类即为电压传感器，因此，电压传感器对应的实际配置参数种类即为电压参数。进一步说明，为保证能够顺利获取待检测设备中各传感器的实际配置参数，在对待检测设备中的不同功能组件设置传感器时，可预先选择带有无线发射装置的传感器，以保证需要获取待检测设备中各传感器的实际配置参数时，能够通过接收各带有无线发射装置的传感器反馈的信号，解析出各传感器对应的实际配置参数。步骤202，基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数；目标传感器依赖图中包括配置有重要性权重的各传感器，以及各传感器之间的实际依赖关系。需要说明的是，由于目标传感器依赖图中包含的传感器与待检测设备中的传感器相互对应，因此，在确定待检测设备中各传感器的实际配置参数后，按照目标传感器依赖图中传感器与待检测设备中传感器的对应关系，设置目标传感器依赖图中各传感器的仿真配置参数，以保证目标传感器依赖图中各传感器的仿真配置参数，与待检测设备中对应的传感器的实际配置参数相同。举例说明，若待检测设备中共包含三个传感器，分别为传感器A、传感器B和传感器C，并且，目标传感器依赖图中包含与传感器A对应的传感器a、与传感器B对应的传感器b和与传感器C对应的传感器c；而待检测设备的传感器A、传感器B和传感器C分别对应的实际配置参数为：参数m、参数n和参数q；因此，当基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数时：由于，传感器A与传感器a对应，而传感器A的实际配置参数为参数m，因此，目标传感器依赖图的传感器a的仿真配置参数也设置为参数m；由于，传感器B与传感器b对应，而传感器B的实际配置参数为参数n，因此，目标传感器依赖图的传感器b的仿真配置参数也设置为参数n；由于，传感器C与传感器c对应，而传感器C的实际配置参数为参数q，因此，目标传感器依赖图的传感器c的仿真配置参数也设置为参数q。进一步说明，为保证目标传感器依赖图包含各传感器的重要性权重，以及各传感器间的实际依赖关系，从而能够根据目标传感器依赖图，对待检测设备进行故障诊断，因此，生成目标传感器依赖图可包括以下内容：向待检测设备中的各传感器输入观察信号，确定各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值，根据各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值，确定各传感器间的实际依赖关系。并且，通过观察信号的输入时间和观察信号在各传感器间的传输结果，确定各传感器对应的注意力分布矩阵；根据各传感器对应的注意力分布矩阵，确定各传感器的重要性权重。根据各传感器的重要性权重，以及各传感器间的实际依赖关系，生成目标传感器依赖图。步骤203，基于配置后的目标传感器依赖图，对待检测设备进行故障诊断。需要说明的是，故障诊断包括：判断待检测设备是否发生故障，以及确定发生故障的待检测设备的故障原因。具体的，对待检测设备进行故障诊断时，包括以下内容：将配置后的目标传感器依赖图输入至预先训练的故障检测模型，得到故障检测模型的输出结果，根据输出结果判断待检测设备是否发生故障；若待检测设备无故障，则停止对待检测设备的故障诊断，确定待检测设备的故障诊断结果为无故障；若待检测设备有故障，则将配置后的目标传感器依赖图输入至预先训练的故障原因预测网络，得到待检测设备故障原因对应的因果关系闭环图，待检测设备故障原因对应的因果关系闭环图即为待检测设备的故障诊断结果。进一步的，预先训练的故障检测模型可基于待检测设备的历史传感器依赖图，以及历史传感器依赖图对应待检测设备是否故障的情况进行训练，得到通过输入待检测设备的目标传感器依赖图就能够确定待检测设备是否发生故障的故障检测模型。进一步的，预先训练的故障原因预测网络可基于待检测设备的历史传感器依赖图，以及历史传感器依赖图对应待检测设备故障原因的因果关系进行训练，得到通过输入待检测设备的目标传感器依赖图，并输出待检测设备故障原因对应的因果关系闭环图的故障原因预测网络。根据本申请的设备故障诊断方法，根据待检测设备中各传感器的实际配置参数，配置完各传感器的仿真配置参数的目标传感器依赖图，进而根据目标传感器依赖图对待检测设备进行故障诊断；由于目标传感器依赖图中各传感器的仿真配置参数与待检测设备中各传感器的实际配置参数相对应，因此，在对待检测设备进行故障诊断时，可根据目标传感器依赖图模拟待检测设备的实际运行状态，确定待检测设备的故障诊断结果；由于根据目标传感器依赖图对待检测设备进行故障诊断的过程中，无需借助待检测设备的机械性能数据，并且本申请在对待检测设备进行故障诊断时，能够以待检测设备中各传感器的实际配置参数为依据，准确确定待检测设备的故障原因。在确定待检测设备的故障原因前，需要判断待检测设备是否发生故障，若发生故障，则需要确定的待检测设备的故障原因，由于造成待检测设备发生故障的原因较多，因此在确定造成待检测设备发生故障的原因时操作难度较大，并且，无法准确判断待检测设备是否发生故障以及造成待检测设备故障的故障原因；因此，本实施例的终端可以通过如图3所示的方式，判断待检测设备是否发生故障，并确定待检测设备的故障诊断结果，具体包括如下步骤：步骤301，开始。步骤302，通过故障检测模型，基于配置后的目标传感器依赖图，判断待检测设备是否发生故障，若否，则执行步骤303，若是，则执行步骤304。作为一种实现方式，在判断待检测设备是否发生故障时，可将配置后的目标传感器依赖图，输入至故障检测模型，故障检测模型可根据输入的配置后的目标传感器依赖图，预测待检测设备是否发生故障，并输出预测结果；根据该预测结果即可确定待检测设备的故障情况。其中，故障检测模型的训练过程可包括以下内容：预先获取基于待检测设备历史配置参数配置后的历史传感器依赖图，并确定各历史传感器依赖图对应的待检测设备是否发生故障的情况；将历史传感器依赖图以及各历史传感器依赖图对应的待检测设备是否发生故障的情况作为训练样本，对候选检测模型进行训练，通过对候选检测模型进行参数调整，得到训练后的故障检测模型。在本申请的一种实现方式中，可根据预测器判断待检测设备是否发生故障，具体的，将配置后的目标传感器依赖图输入至预测器中，预测器可根据配置后的目标传感器依赖图中各传感器的仿真配置参数进行故障分析，进而确定待检测设备是否发生故障。可理解为，预测器与上述故障检测模块均由相同的功能。步骤303，确定待检测设备的故障诊断结果为无故障。需要说明的是，若待检测设备无故障，则表示该待检测设备无需进行后续故障原因的预测，因此，可直接将无故障作为待检测设备的故障诊断结果。步骤304，通过故障原因预测网络，基于配置后的目标传感器依赖图，预测待检测设备对应的至少一个故障原因。需要说明的是，在预测待检测设备对应的至少一个故障原因时，可将配置后的目标传感器依赖图，输入至故障原因预测网络，故障原因预测网络可根据配置后的目标传感器依赖图，输出待检测设备对应的至少一个故障原因。在本申请的一种实施例中，通过将配置后的目标传感器依赖图，输入至故障原因预测网络，故障原因预测网络可输出待检测设备对应的至少一种故障原因以及各故障原因对应的准确概率。其中，故障原因预测网络的训练过程可包括以下内容：预先获取基于待检测设备历史配置参数配置后的历史传感器依赖图，并确定各历史传感器依赖图对应的待检测设备的故障原因；将历史传感器依赖图以及各历史传感器依赖图对应的待检测设备的故障原因作为训练样本，对候选原因预测网络进行训练，通过对候选原因预测网络进行参数调整，得到训练后的故障原因预测网络。步骤305，根据各故障原因之间的因果关系，生成各故障原因对应的因果关系闭环图，并将因果关系闭环图作为待检测设备的故障诊断结果。需要说明的是，待检测设备的部分故障原因之间存在因果关系，通过各故障原因之间的因果关系，可根据待检测设备的故障原因，生成各故障原因对应的因果关系闭环图。作为一种示例，待检测设备故障原因的因果关系可如下所示：若待检测系统的故障原因为散热系统不工作，以及电机温度过高，其中，导致电机温度过高的原因即为散热系统不通过，因此可确定测设备故障原因的因果关系为，由于散热系统不工作，进而导致电机温度过高，使得待检测设备发生故障。在本申请的一种实施例中，若待检测设备的故障原因包括：散热系统不工作、电机温度过高、电机电压不足、电机输出功率不够；根据各故障原因之间的因果关系可确定，散热系统不工作是造成电机温度过高的原因，电机电压不足是造成电机输出功率不够的原因，因此可确定该待检测设备故障原因对应的因果关系闭环图如图4所示。在本申请的另一种实施例中，在对故障原因预测网络进行训练时，可将基于待检测设备历史配置参数配置后的历史传感器依赖图，并确定各历史传感器依赖图对应的待检测设备的因果关系闭环图，将历史传感器依赖图和各历史传感器依赖图对应的待检测设备的因果关系闭环图作为训练样本，对候选原因预测模型进行训练，实现对候选原因预测模型进行参数调整，得到故障原因预测模型；因此，若确定待检测设备发生故障，则将配置后的目标传感器依赖图输入至故障原因预测模型后，可得到故障原因预测模型输出的待检测设备故障原因对应的因果关系闭环图。根据本申请的设备故障诊断方法，通过故障检测模型，实现对于待检测设备是否发生故障进行预测，并且通过故障预测网络对发生故障的待检测设备进行故障原因预测，保证了能够基于配置后的目标传感器依赖图，对待检测设备进行准确的故障原因预测，保证了待检测设备的故障检测准确性，以及待检测设备的故障原因预测准确性。通过采集待检测设备的机械性能数据，对待检测设备进行故障原因分析时，由于机械性能数据无法充分、准确的体现待检测设备的实际运行状况，因此，根据机械性能数据对待检测设备进行故障原因分析时，得到的故障原因准确性较低；基于此，本实施例的终端可以通过如图5所示的方式，生成目标传感器依赖图，具体包括如下步骤：步骤501，向待检测设备中的各传感器输入观察信号，并获取观察信号在各传感器间传输后的传输结果。且各传感器的观察信号的输入时间不同。需要说明的是，当向待检测设备中的某一传感器输入观察信号后，观察信号会通过该传感器与其他传感器连接的依赖路径，传输至其他传感器，并且，各依赖路径所连接的两传感器之间的依赖值不同，会导致传输后的传输结果相对于观察信号发生改变。因此，通过获取观察信号在各传感器间传输后的传输结果，实现后续各传感器的重要性权重，以及各传感器间的实际依赖关系的确定。在本申请的一种实施例中，当需要获取观察信号在各传感器间传输后的传输结果时，可在向待检测设备中的传感器输入观察信号后，观察待检测设备中其他传感器是否存在信号输出，若存在，则将该信号输出作为观察信号在该传感器间传输后的传输结果。步骤502，根据各传感器的观察信号和观察信号在各传感器间的传输结果，确定各传感器的重要性权重，以及各传感器间的实际依赖关系。需要说明的是，确定各传感器间的实际依赖关系可包括以下步骤：基于观察信号在各传感器间的传输结果，确定观察信号在各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值；根据各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值，确定各传感器间的实际依赖关系。在本申请的一种实施例中，由于向待检测设备中的某一传感器输入观察信号后，观察信号会通过该传感器与其他传感器连接的依赖路径，传输至其他传感器，因此，可通过确定向传感器输入观察信号后接收到传输结果的传感器，进而确定该传感器与其他传感器之间存在的依赖路径，并且，传输结果与观察信号进行比值运算，即可确定两传感器之间的依赖值。其中，两传感器之间依赖值的取值范围为，可理解为，若两传感器之间依赖值为1，则表示观察信号可在两传感器之间进行完全传输，不会发生改变；若两传感器之间依赖值为0，则表示观察信号无法在两传感器之间进行传输。举例说明，如图6所示，向传感器A输入观察信号a后，从传感器B中获取观察信号在各传感器间传输后的传输结果b；因此，可确定传感器A与传感器B之间存在依赖路径，但传感器A与传感器C之间不存在依赖路径，并且，确定传输结果b的信号值为0.5，观察信号a的信号值为1，则根据传输结果b与观察信号a进行比值运算，即可确定两传感器之间的依赖值为0.5/1＝0.5。其中，实际依赖关系包括传感器之间的层索引。需要说明的是，确定各传感器的重要性权重可包括以下步骤：通过自注意力模型，根据观察信号的输入时间和观察信号在各传感器间的传输结果，确定各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵；基于各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵，确定各传感器的重要性权重。进一步说明，基于各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵，确定各传感器的重要性权重可包括以下步骤：根据各传感器对应的查询向量矩阵和键向量矩阵，确定各传感器对应的注意力分布矩阵；基于各传感器对应的注意力分布矩阵和值向量矩阵，确定各传感器的重要性权重。举例说明，如图7所示，在T1时刻，向传感器S1输入观察信号，并将S2、S3和S5接收到的信号作为T1时刻的观察信号在各传感器间的传输结果；在T2时刻，向传感器S3输入观察信号，并将S1和S2接收到的信号作为T2时刻的观察信号在各传感器间的传输结果……在Tn时刻，向传感器S2输入观察信号，并将S1、S3和S4接收到的信号作为Tn时刻的观察信号在各传感器间的传输结果；将不同时刻的观察信号和观察信号在各传感器间的传输结果输入至自注意力模型，得到自注意力模型输出的传感器对应的查询向量矩阵Q、键向量矩阵K和值向量矩阵V；基于归一化指数函数对查询向量矩阵Q和键向量矩阵K进行归一化运算，得到传感器对应的注意力分布矩阵；基于matmul函数对注意力分布矩阵和值向量矩阵V进行计算，确定传感器的重要性权重。步骤503，根据各传感器的重要性权重，以及各传感器间的实际依赖关系，生成目标传感器依赖图。作为一种实现方式，当需要生成目标传感器依赖图时，可基于各传感器间的实际依赖关系构建候选传感器依赖图；候选传感器依赖图仅包含各传感器之间的实际依赖关系，但候选传感器依赖图中的传感器不含有重要性权重；因此，将各传感器的重要性权重配置于候选传感器依赖图中对应的传感器中，得到目标传感器依赖图。根据本申请的设备故障诊断方法，通过确定各传感器的重要性权重，以及各传感器间的实际依赖关系，并根据各传感器的重要性权重，以及各传感器间的实际依赖关系，生成目标传感器依赖图，保证了目标传感器依赖图与待检测设备的相似性，提高了根据目标传感器依赖图，确定待检测设备的故障诊断结果的准确性。在本申请的一种实施例中，如图8所示，图8为本申请实施例提供的另一种设备故障诊断方法的步骤流程图，对待检测设备进行故障诊断时，具体可包括以下步骤：步骤801，获取待检测设备中各传感器的实际配置参数。步骤802，基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数；目标传感器依赖图中包括配置有重要性权重的各传感器，以及各传感器之间的实际依赖关系。步骤803，通过故障检测模型，基于配置后的目标传感器依赖图，判断待检测设备是否发生故障。若否，则执行步骤804；若是，则执行步骤805,。步骤804，确定待检测设备的故障诊断结果为无故障。步骤805，通过故障原因预测网络，基于配置后的目标传感器依赖图，预测待检测设备对应的至少一个故障原因。步骤806，根据各故障原因之间的因果关系，生成各故障原因对应的因果关系闭环图，并将因果关系闭环图作为待检测设备的故障诊断结果。根据本申请的设备故障诊断方法，根据待检测设备中各传感器的实际配置参数，配置完各传感器的仿真配置参数的目标传感器依赖图，进而根据目标传感器依赖图对待检测设备进行故障诊断；由于目标传感器依赖图中各传感器的仿真配置参数与待检测设备中各传感器的实际配置参数相对应，因此，在对待检测设备进行故障诊断时，可根据目标传感器依赖图模拟待检测设备的实际运行状态，确定待检测设备的故障诊断结果；由于根据目标传感器依赖图对待检测设备进行故障诊断的过程中，无需借助待检测设备的机械性能数据，并且本申请在对待检测设备进行故障诊断时，能够以待检测设备中各传感器的实际配置参数为依据，准确确定待检测设备的故障原因。应该理解的是，虽然如上的各实施例所涉及的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，如上的各实施例所涉及的流程图中的至少一部分步骤可以包括多个步骤或者多个阶段，这些步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤中的步骤或者阶段的至少一部分轮流或者交替地执行。基于同样的发明构思，本申请实施例还提供了一种用于实现上述所涉及的设备故障诊断方法的设备故障诊断装置。该装置所提供的解决问题的实现方案与上述方法中所记载的实现方案相似，故下面所提供的一个或多个设备故障诊断装置实施例中的具体限定可以参见上文中对于设备故障诊断方法的限定，在此不再赘述。在一个实施例中，如图9所示，图9为本申请实施例提供的第一种设备故障诊断装置的结构框图，提供了一种设备故障诊断装置，包括：获取模块10、配置模块20和诊断模块30，其中：获取模块10，用于获取待检测设备中各传感器的实际配置参数。配置模块20，用于基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数；目标传感器依赖图中包括配置有重要性权重的各传感器，以及各传感器之间的实际依赖关系。诊断模块30，用于基于配置后的目标传感器依赖图，对待检测设备进行故障诊断。根据本申请的设备故障诊断装置，根据待检测设备中各传感器的实际配置参数，配置完各传感器的仿真配置参数的目标传感器依赖图，进而根据目标传感器依赖图对待检测设备进行故障诊断；由于目标传感器依赖图中各传感器的仿真配置参数与待检测设备中各传感器的实际配置参数相对应，因此，在对待检测设备进行故障诊断时，可根据目标传感器依赖图模拟待检测设备的实际运行状态，确定待检测设备的故障诊断结果；由于根据目标传感器依赖图对待检测设备进行故障诊断的过程中，无需借助待检测设备的机械性能数据，并且本申请在对待检测设备进行故障诊断时，能够以待检测设备中各传感器的实际配置参数为依据，准确确定待检测设备的故障原因。在一个实施例中，如图10所示，图10为本申请实施例提供的第二种设备故障诊断装置的结构框图，提供了一种设备故障诊断装置，该设备故障诊断装置中诊断模块30包括：获取模块10、配置模块20和诊断模块30，其中：判断单元31，用于通过故障检测模型，基于配置后的目标传感器依赖图，判断待检测设备是否发生故障。预测单元32，用于若是，则通过故障原因预测网络，基于配置后的目标传感器依赖图，预测待检测设备对应的至少一个故障原因。生成单元33，用于根据各故障原因之间的因果关系，生成各故障原因对应的因果关系闭环图，并将因果关系闭环图作为待检测设备的故障诊断结果。在一个实施例中，如图11所示，图11为本申请实施例提供的第三种设备故障诊断装置的结构框图，提供了一种设备故障诊断装置，该设备故障诊断装置中还包括：输入模块40、确定模块50和生成模块60，其中：输入模块40，用于向待检测设备中的各传感器输入观察信号，并获取观察信号在各传感器间传输后的传输结果；且各传感器的观察信号的输入时间不同。确定模块50，用于根据各传感器的观察信号和观察信号在各传感器间的传输结果，确定各传感器的重要性权重，以及各传感器间的实际依赖关系。生成模块60，用于根据各传感器的重要性权重，以及各传感器间的实际依赖关系，生成目标传感器依赖图。在一个实施例中，如图12所示，图12为本申请实施例提供的第四种设备故障诊断装置的结构框图，提供了一种设备故障诊断装置，该设备故障诊断装置中确定模块50包括：第一确定单元51和第二确定单元52，其中：第一确定单元51，用于通过自注意力模型，根据观察信号的输入时间和观察信号在各传感器间的传输结果，确定各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵。第二确定单元52，用于基于各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵，确定各传感器的重要性权重。需要说明的是，第二确定单元具体用于：根据各传感器对应的查询向量矩阵和键向量矩阵，确定各传感器对应的注意力分布矩阵；基于各传感器对应的注意力分布矩阵和值向量矩阵，确定各传感器的重要性权重。在一个实施例中，如图13所示，图13为本申请实施例提供的第五种设备故障诊断装置的结构框图，提供了一种设备故障诊断装置，该设备故障诊断装置中确定模块50包括：第三确定单元53和第四确定单元54，其中：第三确定单元53，用于基于观察信号在各传感器间的传输结果，确定观察信号在各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值。第四确定单元54，用于根据各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值，确定各传感器间的实际依赖关系。上述设备故障诊断装置中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。在一个实施例中，提供了一种计算机设备，该计算机设备可以是终端，其内部结构图可以如图14所示。该计算机设备包括处理器、存储器、输入/输出接口、通信接口、显示单元和输入装置。其中，处理器、存储器和输入/输出接口通过系统总线连接，通信接口、显示单元和输入装置通过输入/输出接口连接到系统总线。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质和内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的输入/输出接口用于处理器与外部设备之间交换信息。该计算机设备的通信接口用于与外部的终端进行有线或无线方式的通信，无线方式可通过WIFI、移动蜂窝网络、NFC或其他技术实现。该计算机程序被处理器执行时以实现一种设备故障诊断方法。该计算机设备的显示单元用于形成视觉可见的画面，可以是显示屏、投影装置或虚拟现实成像装置。显示屏可以是液晶显示屏或者电子墨水显示屏，该计算机设备的输入装置可以是显示屏上覆盖的触摸层，也可以是计算机设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图14中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提供了一种计算机设备，包括存储器和处理器，存储器中存储有计算机程序，该处理器执行计算机程序时实现以下步骤：获取待检测设备中各传感器的实际配置参数；基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数；目标传感器依赖图中包括配置有重要性权重的各传感器，以及各传感器之间的实际依赖关系；基于配置后的目标传感器依赖图，对待检测设备进行故障诊断。在一个实施例中，处理器执行计算机程序时还实现以下步骤：通过故障检测模型，基于配置后的目标传感器依赖图，判断待检测设备是否发生故障；若是，则通过故障原因预测网络，基于配置后的目标传感器依赖图，预测待检测设备对应的至少一个故障原因；根据各故障原因之间的因果关系，生成各故障原因对应的因果关系闭环图，并将因果关系闭环图作为待检测设备的故障诊断结果。在一个实施例中，处理器执行计算机程序时还实现以下步骤：向待检测设备中的各传感器输入观察信号，并获取观察信号在各传感器间传输后的传输结果；且各传感器的观察信号的输入时间不同；根据各传感器的观察信号和观察信号在各传感器间的传输结果，确定各传感器的重要性权重，以及各传感器间的实际依赖关系；根据各传感器的重要性权重，以及各传感器间的实际依赖关系，生成目标传感器依赖图。在一个实施例中，处理器执行计算机程序时还实现以下步骤：通过自注意力模型，根据观察信号的输入时间和观察信号在各传感器间的传输结果，确定各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵；基于各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵，确定各传感器的重要性权重。在一个实施例中，处理器执行计算机程序时还实现以下步骤：基于观察信号在各传感器间的传输结果，确定观察信号在各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值；根据各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值，确定各传感器间的实际依赖关系。在一个实施例中，处理器执行计算机程序时还实现以下步骤：根据各传感器对应的查询向量矩阵和键向量矩阵，确定各传感器对应的注意力分布矩阵；基于各传感器对应的注意力分布矩阵和值向量矩阵，确定各传感器的重要性权重。在一个实施例中，提供了一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现以下步骤：获取待检测设备中各传感器的实际配置参数；基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数；目标传感器依赖图中包括配置有重要性权重的各传感器，以及各传感器之间的实际依赖关系；基于配置后的目标传感器依赖图，对待检测设备进行故障诊断。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：通过故障检测模型，基于配置后的目标传感器依赖图，判断待检测设备是否发生故障；若是，则通过故障原因预测网络，基于配置后的目标传感器依赖图，预测待检测设备对应的至少一个故障原因；根据各故障原因之间的因果关系，生成各故障原因对应的因果关系闭环图，并将因果关系闭环图作为待检测设备的故障诊断结果。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：向待检测设备中的各传感器输入观察信号，并获取观察信号在各传感器间传输后的传输结果；且各传感器的观察信号的输入时间不同；根据各传感器的观察信号和观察信号在各传感器间的传输结果，确定各传感器的重要性权重，以及各传感器间的实际依赖关系；根据各传感器的重要性权重，以及各传感器间的实际依赖关系，生成目标传感器依赖图。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：通过自注意力模型，根据观察信号的输入时间和观察信号在各传感器间的传输结果，确定各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵；基于各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵，确定各传感器的重要性权重。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：基于观察信号在各传感器间的传输结果，确定观察信号在各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值；根据各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值，确定各传感器间的实际依赖关系。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：根据各传感器对应的查询向量矩阵和键向量矩阵，确定各传感器对应的注意力分布矩阵；基于各传感器对应的注意力分布矩阵和值向量矩阵，确定各传感器的重要性权重。在一个实施例中，提供了一种计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现以下步骤：获取待检测设备中各传感器的实际配置参数；基于待检测设备中各传感器的实际配置参数，配置待检测设备的目标传感器依赖图中各传感器的仿真配置参数；目标传感器依赖图中包括配置有重要性权重的各传感器，以及各传感器之间的实际依赖关系；基于配置后的目标传感器依赖图，对待检测设备进行故障诊断。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：通过故障检测模型，基于配置后的目标传感器依赖图，判断待检测设备是否发生故障；若是，则通过故障原因预测网络，基于配置后的目标传感器依赖图，预测待检测设备对应的至少一个故障原因；根据各故障原因之间的因果关系，生成各故障原因对应的因果关系闭环图，并将因果关系闭环图作为待检测设备的故障诊断结果。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：向待检测设备中的各传感器输入观察信号，并获取观察信号在各传感器间传输后的传输结果；且各传感器的观察信号的输入时间不同；根据各传感器的观察信号和观察信号在各传感器间的传输结果，确定各传感器的重要性权重，以及各传感器间的实际依赖关系；根据各传感器的重要性权重，以及各传感器间的实际依赖关系，生成目标传感器依赖图。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：通过自注意力模型，根据观察信号的输入时间和观察信号在各传感器间的传输结果，确定各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵；基于各传感器对应的查询向量矩阵、键向量矩阵和值向量矩阵，确定各传感器的重要性权重。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：基于观察信号在各传感器间的传输结果，确定观察信号在各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值；根据各传感器间的依赖路径，以及各依赖路径所连接的两传感器之间的依赖值，确定各传感器间的实际依赖关系。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：根据各传感器对应的查询向量矩阵和键向量矩阵，确定各传感器对应的注意力分布矩阵；基于各传感器对应的注意力分布矩阵和值向量矩阵，确定各传感器的重要性权重。需要说明的是，本申请所涉及的用户信息和数据，均为经用户授权或者经过各方充分授权的信息和数据，且相关数据的收集、使用和处理需要遵守相关国家和地区的相关法律法规和标准。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存、光存储器、高密度嵌入式非易失性存储器、阻变存储器、磁变存储器、铁电存储器、相变存储器、石墨烯存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器等。作为说明而非局限，RAM可以是多种形式，比如静态随机存取存储器或动态随机存取存储器等。本申请所提供的各实施例中所涉及的数据库可包括关系型数据库和非关系型数据库中至少一种。非关系型数据库可包括基于区块链的分布式数据库等，不限于此。本申请所提供的各实施例中所涉及的处理器可为通用处理器、中央处理器、图形处理器、数字信号处理器、可编程逻辑器、基于量子计算的数据处理逻辑器等，不限于此。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本申请专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请的保护范围应以所附权利要求为准。
