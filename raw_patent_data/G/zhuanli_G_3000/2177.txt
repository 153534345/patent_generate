标题title
一种基于乳化高黏沥青的路面裂纹检测系统
摘要abst
本发明涉及图像数据处理技术领域，提出了一种基于乳化高黏沥青的路面裂纹检测系统，包括：获取道路灰度图；通过梯度算子获取像素点的梯度幅值，根据梯度幅值进行聚类得到若干簇类，得到簇类的相似度将灰度直方图分为若干灰度级；根据灰度级将道路灰度图进行划分，区域生长得到生长区域；根据生长区域得到像素点为裂纹区域的可能性；获得每个生长区域的第一延伸区域和第二延伸区域，根据第一延伸区域和第二延伸区域得到像素点为裂纹的概率，根据像素点为裂纹的概率得到不同灰度级的拉伸强度并获得增强图像；根据增强图像判断路面为裂纹的区域，并对路面裂纹进行修复。本发明能够更精确的对裂纹区域进行更大程度的拉伸，使得裂纹区域更明显。
权利要求书clms
1.一种基于乳化高黏沥青的路面裂纹检测系统，其特征在于，该系统包括以下模块：图像采集模块，获取道路灰度图及其灰度直方图；灰度级划分模块，根据梯度幅值对像素点进行聚类得到若干簇类，根据每个簇类像素点梯度幅值的差异和簇类中心的距离得到任意两个簇类的相似度，根据簇类的相似性对簇类进行迭代合并得到若干聚类簇，根据聚类簇的数量将灰度直方图分为若干灰度级；裂纹区域可能性获取模块，根据灰度级将道路灰度图进行划分，对于每个像素点在所在的灰度级内进行区域生长得到生长区域，将生长区域的像素点记为区域像素点，对生长区域进行主成分分析得到主成分直线以及参考线；根据生长区域内区域像素点数量、相邻像素点参考线长度得到像素点为裂纹区域的可能性；增强图像获取模块，获得每个生长区域的第一基准长度和第二基准长度，根据主成分直线、第一基准长度和第二基准长度延伸得到第一延伸区域和第二延伸区域，根据第一延伸区域和第二延伸区域分别与生长区域的灰度值差异、像素点为裂纹区域的可能性以及延伸区域宽度变化得到像素点为裂纹的概率，根据像素点为裂纹的概率得到不同灰度级的拉伸强度，根据拉伸强度使用直方图均衡化得到增强图像；裂纹修补模块，根据增强图像使用阈值分割得到若干连通域，找到裂纹连通域面积判断路面是否要进行保养。2.根据权利要求1所述的一种基于乳化高黏沥青的路面裂纹检测系统，其特征在于，所述根据每个簇类像素点梯度幅值的差异和簇类中心的距离得到任意两个簇类的相似度的方法为：对于每个簇类，得到簇类所有像素点灰度值的累加和，对于任意两个簇类，令两个簇类所有像素点灰度值的累加和作差，得到差值的绝对值，将两个簇类的簇类中心求欧式距离，得到欧氏距离通过指数函数归一化，将差值的绝对值和归一化后的欧氏距离的乘积进行线性归一化的结果，作为两个簇类的相似度。3.根据权利要求1所述的一种基于乳化高黏沥青的路面裂纹检测系统，其特征在于，所述根据簇类的相似性对簇类进行迭代合并得到若干聚类簇的方法为：设定预设合并阈值，将任意两个相似度大于预设合并阈值的簇类合并为一个簇类，并计算新的簇类与其余所有簇类的相似性，之后再进行合并，若同一个簇类与多个簇类之间的相似性都超过了合并阈值，那么选取最大相似性的两个簇类进行合并，继续合并直到所有簇类的相似性都不超过合并阈值时，停止迭代，此时就得到了若干聚类簇。4.根据权利要求1所述的一种基于乳化高黏沥青的路面裂纹检测系统，其特征在于，所述对生长区域进行主成分分析得到主成分直线以及参考线的方法为：对于生长区域使用主成分分析进行降维得到主成分方向，获得每个像素点垂直于主成分方向的直线在生长区域内的部分记为参考线。5.根据权利要求1所述的一种基于乳化高黏沥青的路面裂纹检测系统，其特征在于，所述根据生长区域内区域像素点数量、相邻像素点参考线长度得到像素点为裂纹区域的可能性的方法为：式中，为第i个像素点对应的生长区域中区域像素点的数量，/＞为图像像素点的总数量，/＞为第i个像素点对应的生长区域获得的最小外接矩形的长，/＞表示第i个像素点对应的生长区域的主成分直线中第j个区域像素点的参考线长度，/＞表示第i个像素点对应的生长区域的主成分直线中第j+1个区域像素点的参考线长度，/＞表示第i个像素点对应的生长区域的主成分直线中第j+2个区域像素点的参考线长度，/＞为第i个像素点对应的生长区域的主成分直线上区域像素点的数量，/＞表示第i个像素点为裂纹区域的可能性。6.根据权利要求1所述的一种基于乳化高黏沥青的路面裂纹检测系统，其特征在于，所述根据主成分直线、第一基准长度和第二基准长度延伸得到第一延伸区域和第二延伸区域的方法为：找到生长区域主成分方向上最两侧的像素点，得到所有垂直于主成分直线的参考线，在所有参考线中找到距离最右侧和最左侧像素点最近的参考线的长度，记长度为第一基准长度和第二基准长度，将主成分直线放在坐标系中分析此时的角度，若此时主成分直线在-45度到45度间，此时向右侧和左侧延伸10行，若主成分直线在-90度到-45度或45度到90度时，此时向右侧和左侧延伸10列，获得最大参考线与第一参考基准长度和第二基准长度作差与两个参考线之间长度的比值，由此得到了每单位长度参考线的变化量，获得最左侧和最右侧的像素点延伸10行或10列后的长度，将随着主成分直线延长的部分中，从端点延长的下一个像素点记为第一延长像素点，将第一延长像素点随着延长方向的下一个像素点记为第二延长像素点，依次类推，得到所有随着主成分直线延长的像素点，根据每单位长度参考线的变化量得到每个延伸像素点的参考线，将参考线宽度组合得到延伸区域，将右侧延伸区域记为第一延伸区域，左侧延伸区域记为第二延伸区域。7.根据权利要求6所述的一种基于乳化高黏沥青的路面裂纹检测系统，其特征在于，所述根据第一延伸区域和第二延伸区域分别与生长区域的灰度值差异、像素点为裂纹区域的可能性以及延伸区域宽度变化得到像素点为裂纹的概率的方法为：式中，为生长区域的所有像素点的平均灰度值，/＞为第一延伸区域所有像素点的平均灰度值，/＞为第一参考基准长度，/＞为第一延伸区域第一延长像素点对应的延伸区域的宽度，/＞为第一延伸区域第二延长像素点对应的延伸区域的宽度，/＞为第一延伸区域和生长区域的差异，/＞为第二延伸区域所有像素点的平均灰度值，/＞为第二参考基准长度，/＞为第二延伸区域第一延长像素点对应的延伸区域的宽度，/＞为第二延伸区域第二延长像素点对应的延伸区域的宽度，/＞为第二延伸区域和生长区域的差异，/＞为以自然常数为底的指数函数，/＞为第i个像素点为裂纹区域的可能性，/＞表示第i个像素点为裂纹的概率。
说明书desc
技术领域本发明涉及图像数据处理技术领域，具体涉及一种基于乳化高黏沥青的路面裂纹检测系统。背景技术良好的交通是一个城市快速发展的基础，随着城市中的车辆越来越多，对道路的建设质量要求也越来越高，需要能够经受住车辆的长时间碾压，并且能够到达使用年限的要求，因此若路面出现裂纹即影响美观也可能会导致危险，因此需要检测路面裂纹，提升行车安全，延长公路的使用时间。乳化高黏沥青是一种专门用于道路修复的涂层材料，它采用乳化高黏沥青为主要成分，并加入多种化学助剂、增粘剂及适量的填料进行调配。该材料具有卓越的抗水性和耐磨性能，能够有效抵御雨水、道路盐雾和车辆摩擦等外部因素的影响，延长道路使用寿命。并且具有优异的附着性能，能够牢固地附着在道路表面，形成均匀且密实的涂层，提高道路的稳定性和安全性。对路面危害最大的是病害是裂纹，当路面出现裂纹时，如果不及时的修复，会因为车辆的来回碾压导致路面断裂塌陷。因此需要及时的发现路面的裂纹病害，并使用乳化高黏沥青进行修补。在现有技术中，一般对道路裂纹病害监测采用机器视觉的方法，通过采集路面的图像，然后对路面进行分割，获得裂纹区域，然后根据裂纹区域的大小来判断路面病害的等级。但是一般的路面都是沥青路面，在形成较小的裂纹时，与路面的区别度不大，无法准确的分割出路面的小裂纹，因此需要对采集得到的图像进行增强，使得裂纹区域更加凸显，进而能够准确的分割出裂纹区域，因此本发明通过对单个像素点的分析进行图像增强使裂纹区域更加明显。发明内容本发明提供一种基于乳化高黏沥青的路面裂纹检测系统，以解决直接分割无法精确分割的问题，所采用的技术方案具体如下：本发明一个实施例提供了一种基于乳化高黏沥青的路面裂纹检测系统，该系统包括：图像采集模块，获取道路灰度图及其灰度直方图；灰度级划分模块，根据梯度幅值对像素点进行聚类得到若干簇类，根据每个簇类像素点梯度幅值的差异和簇类中心的距离得到任意两个簇类的相似度，根据簇类的相似性对簇类进行迭代合并得到若干聚类簇，根据聚类簇的数量将灰度直方图分为若干灰度级；裂纹区域可能性获取模块，根据灰度级将道路灰度图进行划分，对于每个像素点在所在的灰度级内进行区域生长得到生长区域，将生长区域的像素点记为区域像素点，对生长区域进行主成分分析得到主成分直线以及参考线；根据生长区域内区域像素点数量、相邻像素点参考线长度得到像素点为裂纹区域的可能性；增强图像获取模块，获得每个生长区域的第一基准长度和第二基准长度，根据主成分直线、第一基准长度和第二基准长度延伸得到第一延伸区域和第二延伸区域，根据第一延伸区域和第二延伸区域分别与生长区域的灰度值差异、像素点为裂纹区域的可能性以及延伸区域宽度变化得到像素点为裂纹的概率，根据像素点为裂纹的概率得到不同灰度级的拉伸强度，根据拉伸强度使用直方图均衡化得到增强图像；裂纹修补模块，根据增强图像使用阈值分割得到若干连通域，找到裂纹连通域面积判断路面是否要进行保养。优选的，所述根据每个簇类像素点梯度幅值的差异和簇类中心的距离得到任意两个簇类的相似度的方法为：对于每个簇类，得到簇类所有像素点灰度值的累加和，对于任意两个簇类，令两个簇类所有像素点灰度值的累加和作差，得到差值的绝对值，将两个簇类的簇类中心求欧式距离，得到欧氏距离通过指数函数归一化，将差值的绝对值和欧氏距离归一化后的值线性归一化作为两个簇类的相似度。优选的，所述根据簇类的相似性对簇类进行迭代合并得到若干聚类簇的方法为：设定预设合并阈值，将任意两个相似度大于预设合并阈值的簇类合并为一个簇类，并计算新的簇类与其余所有簇类的相似性，之后再进行合并，若同一个簇类与多个簇类之间的相似性都超过了合并阈值，那么选取最大相似性的两个簇类进行合并，继续合并直到所有簇类的相似性都不超过合并阈值时，停止迭代，此时就得到了若干聚类簇。优选的，所述对生长区域进行主成分分析得到主成分直线以及参考线的方法为：对于生长区域使用主成分分析进行降维得到主成分方向，获得每个像素点垂直于主成分方向的直线在生长区域内的部分记为参考线。优选的，所述根据生长区域内区域像素点数量、相邻像素点参考线长度得到像素点为裂纹区域的可能性的方法为：；式中，/＞为第i个像素点对应的生长区域中区域像素点的数量，/＞为图像像素点的总数量，/＞为第i个像素点对应的生长区域获得的最小外接矩形的长，/＞表示第i个像素点对应的生长区域的主成分直线中第j个区域像素点的参考线长度，/＞表示第i个像素点对应的生长区域的主成分直线中第j+1个区域像素点的参考线长度，/＞表示第i个像素点对应的生长区域的主成分直线中第j+2个区域像素点的参考线长度，/＞为第i个像素点对应的生长区域的主成分直线上区域像素点的数量，/＞表示第i个像素点为裂纹区域的可能性。优选的，所述根据主成分直线、第一基准长度和第二基准长度延伸得到第一延伸区域和第二延伸区域的方法为：找到生长区域主成分方向上最两侧的像素点，得到所有垂直于主成分直线的参考线，在所有参考线中找到距离最右侧和最左侧像素点最近的参考线的长度，记长度为第一基准长度和第二基准长度，将主成分直线放在坐标系中分析此时的角度，若此时主成分直线在-45度到45度间，此时向右侧和左侧延伸10行，若主成分直线在-90度到-45度或45度到90度时，此时向右侧和左侧延伸10列，获得最大参考线与第一参考基准长度和第二基准长度作差与两个参考线之间长度的比值，由此得到了每单位长度参考线的变化量，获得最左侧和最右侧的像素点延伸10行或10列后的长度，将随着主成分直线延长的部分中，从端点延长的下一个像素点记为第一延长像素点，将第一延长像素点随着延长方向的下一个像素点记为第二延长像素点，依次类推，得到所有随着主成分直线延长的像素点，根据每单位长度参考线的变化量得到每个延伸像素点的参考线，将参考线宽度组合得到延伸区域，将右侧延伸区域记为第一延伸区域，左侧延伸区域记为第二延伸区域。优选的，所述根据第一延伸区域和第二延伸区域分别与生长区域的灰度值差异、像素点为裂纹区域的可能性以及延伸区域宽度变化得到像素点为裂纹的概率的方法为：；/＞；/＞；式中，/＞为生长区域的所有像素点的平均灰度值，/＞为第一延伸区域所有像素点的平均灰度值，/＞为第一参考基准长度，/＞为第一延伸区域第一延长像素点对应的延伸区域的宽度，/＞为第一延伸区域第二延长像素点对应的延伸区域的宽度，/＞为第一延伸区域和生长区域的差异，为第二延伸区域所有像素点的平均灰度值，/＞为第二参考基准长度，/＞为第二延伸区域第一延长像素点对应的延伸区域的宽度，/＞为第二延伸区域第二延长像素点对应的延伸区域的宽度，/＞为第二延伸区域和生长区域的差异，/＞为以自然常数为底的指数函数，为第i个像素点为裂纹区域的可能性，/＞表示第i个像素点为裂纹的概率。本发明的有益效果是：本发明通过灰度直方图自适应拉伸，来增强裂纹区域，使得裂纹区域更加的明显，进而能够准确的检测出裂纹区域，便于判断道路是否需要进行修补。在通过直方图均衡化对图像进行增强时，首先根据图像灰度的变化进行灰度级的判断，然后根据路面的灰度特征和纹理特征来判断每个灰度区间的拉伸程度。但是因为路面的纹理灰度裂纹产生影响，因此本发明通过路面裂纹纹理的特征与裂纹的特征不同，计算每一个像素点归属于裂纹区域的的概率，进行能够更精确的对裂纹区域进行更大程度的拉伸，使得裂纹区域更明显。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明一个实施例所提供的一种基于乳化高黏沥青的路面裂纹检测系统的流程示意图；图2为延伸区域示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明的主要目的是为了对路面图像进行不同程度的增强。请参阅图1，其示出了本发明一个实施例提供的一种基于乳化高黏沥青的路面裂纹检测系统流程图，该系统包括：图像采集模块、灰度级划分模块、裂纹区域可能性获取模块、增强图像获取模块、裂纹修补模块。图像采集模块，首先使用相机采集道路表面图像，其中使用的相机为高清CCD相机，采集到的道路表面图像为RGB图像，对道路表面图像使用均值灰度化方法进行灰度化得到道路灰度图，对于得到的道路灰度图使用中值滤波进行去噪。至此，得到了道路灰度图。灰度级划分模块，在图像增强中，如果直接对整张图像进行增强，会导致不同细节的区域丢失不同程度的细节，因此本实施例对道路灰度图进行分割，因为在进行图像分割时，道路灰度图中各区域的对比度越大，图像的分割效果越好，在进行图像增强时，需要对道路灰度图中的各个区域进行不同程度的增强，凸出路面的裂纹区域，增大裂纹与路面的对比度，进而在对裂纹进行分割时，能够获得完整的裂纹区域，并且能够分割出路面细微的裂纹。本实施例对道路灰度图进行增强时，使用直方图均衡化算法进行增强，传统的直方图均衡化包含直方图拉伸和裁切，能够增强道路灰度图的对比度。直方图均衡化是一种全局处理算法，即对整幅道路灰度图进行像素值分布的重新分配。因此，它可能会导致不同区域像素灰度差异度过大，而丧失道路灰度图中的一些重要细节信息。因此，本实施例根据道路灰度图的灰度特征和纹理特征，通过分析道路灰度图的灰度分布对道路灰度图进行灰度级划分。首先得到道路灰度图的灰度直方图，之后通过sobel算子获得道路灰度图中每个像素点的梯度幅值和梯度方向，因为像素点灰度的变化表现为梯度的大小，因此将每一个像素点的梯度幅值作为该像素点的特征值，对道路灰度图中每个像素点进行聚类，使用的聚类算法为K-means聚类，设置初始K值为20，即分为20个簇类，聚类距离为两个像素点之间特征值的差值，因为是根据像素点的梯度幅值进行聚类的，因此每一簇类内都表示梯度变化相近的像素点，而梯度越大的像素点越会是不同区域边缘像素点，获得每个簇类内所有像素点的梯度幅值的均值，根据簇类间梯度幅值的差值以及簇类内质心点的位置关系获得两个簇类的相似度，公式如下：；式中，/＞表示第/＞个簇类中像素点的数量，/＞表示第/＞个簇类中所有像素点的梯度幅值的均值，/＞表示第h个簇类中像素点的数量，/＞表示第h个簇类中所有像素点的梯度幅值的均值，/＞表示第/＞个簇类中簇类中心的横坐标，/＞表示第h个簇类中簇类中心的横坐标，/＞表示第/＞个簇类中簇类中心的纵坐标，/＞表示第h个簇类中簇类中心的纵坐标，/＞表示以自然常数为底的指数函数，/＞表示线性归一化函数，/＞表示第/＞个簇类与第h个簇类的相似度。因为不同的簇类表示的路面像素点梯度的分布，同一个簇类中像素点的梯度幅值相近，而在进行K-means聚类时，设置的K值较大，目的是为尽可能将聚类中像素点的梯度分开，那么在进行簇类间相似度的衡量时，能够区别不同区域的像素点，进而在对灰度级进行划分时能够划分的更加细致，使得能够区分裂纹缺陷和正常的路面。表示两个簇类特征值之间的差异，差异越大，说明越不属于同一区域。/＞表示两个簇类内簇类中心之间的距离，因为两个簇类之间的距离越近，越可能是属于同一区域的像素点。根据获得的所有簇类之间的相似性，对区域进行迭代合并，设置合并阈值为0.6，若，则认为这两个簇类相似性较大，将两个簇类合并为一个簇类，并计算新的簇类与其余所有簇类的相似性，之后再进行合并，若同一个簇类与多个簇类之间的相似性都超过了合并阈值，那么选取最大相似性的两个簇类进行合并，之后继续合并，直到所有簇类的相似性都不超过合并阈值时，停止迭代，此时就得到了若干聚类簇。因为获得的每一个聚类簇中，都是梯度变化相似的像素点，因为其就可能表现为同一个区域像素点的灰度变化引起的，因此有几个聚类簇那么灰度直方图就均分为几个灰度级。至此，获得了若干个灰度级。裂纹区域可能性获取模块，因为在对沥青路面上的裂纹进行分割时，裂纹会具有自己的纹理特征，同时沥青路面也是具有纹理的，因此在根据灰度的变化来确定增强系数时是不够准确的，需要结合裂纹的特征以及裂纹特有的灰度变化关系来确定不同区域的增强系数。沥青路面是由许多小的石子颗粒混合沥青铺设而成的，会呈现许多细小的边缘，但是当多个细小的边缘连接起来会组成较大的边缘纹理；而裂纹是因为路面开裂形成的一个连续的纹理，并且纹理会向裂纹的两侧进行延伸，裂纹的边缘是连续不规则的石子颗粒边缘组成的。因此在根据边缘特征进行区分时，需要考虑不同纹理的灰度变化和边缘变化。首先，根据上述得到的灰度级对道路灰度图进行划分，将同一个灰度级的像素点作为一个类型的像素点，由于无论是道路纹理还是道路裂纹，像素点的灰度值都比较小，而路面的整体灰度值较大，将每个像素点作为一个种子像素点进行区域生长得到若干生长区域，将生长区域的像素点记为区域像素点，将区域生长的阈值设置为3，对于生长区域使用主成分分析进行降维得到主成分方向，获得每个像素点垂直于主成分方向的直线在生长区域的部分记为参考线，获得参考线长度，将生长区域中和主成分方向一致且在生长区域内部最长的直线记为主成分直线。值得说明的是对于每个像素点进行区域生长时，区域生长只在对应灰度级的区域内生长。在进行区域生长时设置的阈值是比较小的，目的是为了使得生长后的区域能够反映路面纹理与裂纹的特征。根据区域生长后区域像素点的数量、相邻像素点参考线长度的差值以及生长区域最小外接矩形的长得到像素点为裂纹区域的可能性，公式如下：；式中，/＞为第i个像素点对应的生长区域中区域像素点的数量，/＞为图像像素点的总数量，/＞为第i个像素点对应的生长区域获得的最小外接矩形较长边的长度，/＞表示第i个像素点对应的生长区域的主成分直线中第j个区域像素点的参考线长度，/＞表示第i个像素点对应的生长区域的主成分直线中第j+1个区域像素点的参考线长度，/＞表示第i个像素点对应的生长区域的主成分直线中第j+2个区域像素点的参考线长度，/＞为第i个像素点对应的生长区域的主成分直线上区域像素点的数量，/＞表示第i个像素点为裂纹区域的可能性。表示第/＞个像素点对应的生长区域的面积比值，因为在进行区域生长时，道路的纹理是比较细微的裂纹，而道路裂纹比较明显，因此若该像素点为裂纹区域的像素点，区域生长产生的区域中区域像素点数量较多，则说明该像素点为裂纹区域像素点的可能性越大。乘以/＞表示裂纹的大小，因为裂纹一般是较为长的纹理，因此最小外接矩形越长，则该点为裂纹区域像素点的可能程度越大。/＞表示该像素点对应的生长区域内部宽度的变化，因为裂纹是呈现中间宽，两侧窄，并且向外延伸的，其宽度呈现渐变的过程，因此根据生长区域宽度的变化来判断该像素点为裂纹区域像素点的可能程度，其差值的比值越小，为裂纹区域像素点的可能程度越大。至此，得到每个像素点为裂纹区域像素点的可能性。增强图像获取模块，将每个像素点得到的生长区域向两侧延伸，首先找到垂直于主成分直线的参考线，之后找到生长区域主成分直线上两端的像素点记为端点，在所有参考线中找到距离最右侧端点和最左侧端点最近的参考线的长度，以该长度为第一基准长度和第二基准长度，分别向主成分直线右侧端点和左侧端点延伸得到第一延伸区域和第二延伸区域，将主成分直线放在坐标系中分析此时的角度，若此时主成分直线在-45度到45度间，此时向右侧和左侧延伸10行，若主成分直线在-90度到-45度或45度到90度时，此时向右侧和左侧延伸10列，获得最大参考线与第一参考基准长度和第二基准长度作差与两个参考线之间长度的比值，由此得到了每单位长度参考线的变化量；得到第一延伸区域或第二延伸区域延伸10行或10列后变化的单位长度，根据单位长度得到第一延伸区域和第二延伸区域沿主成分方向的参考线长度，即得到了每延伸一个像素点得到第一延伸区域和第二延伸区域的宽度，将随着主成分直线延长的部分中，从端点延长的下一个像素点记为第一延长像素点，将第一延长像素点随着延长方向的下一个像素点记为第二延长像素点，依次类推，得到所有随着主成分直线延长的像素点。如图2所示，实线所构成的区域为某个生长区域，虚线所构成的区域为将该生长区域向其主成分直线右侧端点进行延伸后所得到的第一延伸区域。根据延伸区域和生长区域的灰度值差异、延伸宽度的变化以及像素点为裂纹区域像素点的可能性得到像素点为裂纹的概率，公式如下：；/＞；/＞；式中，/＞为生长区域的所有像素点的平均灰度值，/＞为第一延伸区域所有像素点的平均灰度值，/＞为第一参考基准长度，/＞为第一延伸区域第一延长像素点对应的延伸区域的宽度，/＞为第一延伸区域第二延长像素点对应的延伸区域的宽度，/＞为第一延伸区域和生长区域的差异，为第二延伸区域所有像素点的平均灰度值，/＞为第二参考基准长度，/＞为第二延伸区域第一延长像素点对应的延伸区域的宽度，/＞为第二延伸区域第二延长像素点对应的延伸区域的宽度，/＞为第二延伸区域和生长区域的差异，/＞为以自然常数为底的指数函数，为第i个像素点为裂纹区域的可能性，/＞表示第i个像素点为裂纹的概率。通过上述方法计算获得每个像素点为裂纹的概率，因为每一像素点在灰度直方图中都有对应的灰度级，因此其为裂纹的概率越大，那么在进行直方图拉伸时，对应灰度级区域的拉伸程度也需要较大，才能使得裂纹区域更加的明显，进而在检测裂纹缺陷时能够检测到完整的裂纹区域。由此得到不同灰度级的拉伸强度，公式如下：；式中，/＞为第/＞个灰度级中第/＞个像素点为裂纹的概率，/＞表示第/＞个灰度级像素点的数量，/＞表示灰度级的数量，/＞表示第/＞个灰度级的拉伸程度。若某一灰度级中包含的裂纹像素点越多，对其的拉伸程度越大，那么能够增强裂纹区域与路面区域之间的对比度，使得裂纹区域更加的突出。之后根据得到的不同灰度级的拉伸程度使用直方图均衡化对道路灰度图进行增强，至此得到增强图像。裂纹修补模块，通过上述方法得到拉伸图像，然后对该图像进行阈值分割，获得图像中的裂纹区域。在这里，使用OTSU阈值分割算法对道路图像进行分割，该算法为现有公知技术，在此不再进行赘述。根据分割出来的裂纹大小判断该路段是否需要进行修补，因为较细微的裂纹是不需要进行修补的，对道路的影响不大，而较大的裂纹需要及时的进行处理，防止长时间受到车辆的碾压造成路面塌陷。对于分割后的增强图像，使用连通域分析得到若干连通域，找到裂纹区域的最大连通域，当其连通域的面积与增强图像的面积比值达到5%以上时，对路面进行修补。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
