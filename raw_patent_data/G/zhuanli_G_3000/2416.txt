标题title
BIM数据处理方法、设备及计算机可读存储介质
摘要abst
本发明公开了一种BIM数据处理方法、设备及计算机可读存储介质，属于建筑信息模型领域。所述BIM数据处理方法包括以下步骤：获取数据提供方上传的BIM初始数据，并基于所述BIM初始数据在联盟链上创建智能合约；基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中；当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节。通过上述方法，可以在处理BIM数据过程中，快速从联盟链中定位找到出现BIM异常数据的处理环节，提升数据处理效率。
权利要求书clms
1.一种BIM数据处理方法，其特征在于，所述BIM数据处理方法包括以下步骤：获取数据提供方上传的BIM初始数据，并基于所述BIM初始数据在联盟链上创建智能合约，其中，所述联盟链用来记录链上各个节点的数据处理操作，所述联盟链上的节点包括所述数据提供方、数据存储方、数据处理方、系统管理方和数据使用方；基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中；当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节。2.如权利要求1所述的BIM数据处理方法，其特征在于，所述获取数据提供方上传的BIM初始数据，并基于所述BIM初始数据在联盟链上创建智能合约的步骤之后，还包括：根据所述智能合约，确定所述BIM初始数据的数据来源；所述数据提供方根据所述数据来源，对所述BIM初始数据进行权属切割，以明确所述BIM初始数据的归属权；在所述联盟链上生成区块头，并基于所述区块头记录所述BIM初始数据的相关信息。3.如权利要求1所述的BIM数据处理方法，其特征在于，所述基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中的步骤包括：所述数据存储方基于可视化模块，查看所述BIM初始数据对应的建筑信息模型；基于所述建筑信息模型，对所述BIM初始数据进行初步检测；将检测未通过的BIM初始数据进行标记，并通知对应的数据提供方重新提供被标记的所述BIM初始数据；将检测通过的BIM初始数据进行数模分离，并存储至分布式数据库中；基于所述联盟链上的数据区块，记录所述检测通过的BIM初始数据的存储信息。4.如权利要求3所述的BIM数据处理方法，其特征在于，所述基于所述联盟链上的数据区块，记录所述检测通过的BIM初始数据的存储信息的步骤之前，还包括：在所述联盟链上生成区块头；基于所述BIM初始数据，计算对应的哈希值；基于所述区块头和所述哈希值，构建所述数据区块。5.如权利要求1所述的BIM数据处理方法，其特征在于，所述基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中的步骤之后，还包括：所述数据处理方对所述BIM初始数据进行数据预处理；基于所述数据处理方的分布式账本记录所述数据预处理的操作信息；基于可视化模块，对所述BIM初始数据进行预览，以检测所述BIM初始数据中是否存在所述BIM异常数据。6.如权利要求1所述的BIM数据处理方法，其特征在于，所述当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节的步骤之前，还包括：所述数据使用方在获取数据服务使用权限时，调用所述BIM初始数据并对所述BIM初始数据进行质量检测；在所述数据使用方检测出所述BIM异常数据时，基于分布式账本初步查找所述BIM异常数据对应的操作记录；基于问题反馈模块，生成所述BIM异常数据和所述操作记录对应的反馈表单；将所述反馈表单流转给所述系统管理方，并在所述反馈表单通过所述系统管理方的审核时，流转给所述数据处理方。7.如权利要求1所述的BIM数据处理方法，其特征在于，所述当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节的步骤包括：所述数据处理方基于所述BIM异常数据，确定对应的数据特征；基于所述数据特征，确定包含所述BIM异常数据的区块高度和时间戳；基于所述区块高度和时间戳，查找所述BIM异常数据对应的异常处理环节。8.如权利要求1所述的BIM数据处理方法，其特征在于，所述当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节的步骤之后，还包括：所述数据处理方获取所述异常处理环节上一处理环节的BIM历史数据，并基于所述BIM历史数据重新处理，以生成正确的BIM数据；当所述BIM数据满足可视化要求时，将所述BIM数据存储至空间数据库，并基于加密模块对所述BIM数据进行加密处理；将加密后的所述BIM数据基于预设发布方式进行发布，以供所述数据使用方使用。9.一种BIM数据处理设备，其特征在于，所述BIM数据处理设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的BIM数据处理程序，所述BIM数据处理程序配置为实现如权利要求1至8中任一项所述的BIM数据处理方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有BIM数据处理程序，所述BIM数据处理程序被处理器执行时实现如权利要求1至8任一项所述的BIM数据处理方法的步骤。
说明书desc
技术领域本发明涉及建筑信息模型领域，尤其涉及BIM数据处理方法、设备及计算机可读存储介质。背景技术城市信息模型是以建筑信息模型、地理信息系统、物联网等技术为基础，通过整合城市地上地下、室内室外、历史现状未来多维信息模型数据和城市感知数据，构建出的三维数字空间的城市信息有机综合体。在将BIM数据导入CIM平台时，通常会先将各种格式的BIM数据转换成统一的数据格式，再存入到CIM平台数据库中。BIM数据在处理的过程中流经的环节较多，因此在BIM数据融合到CIM平台的过程中非常容易出错，为了不影响数据最终的呈现效果，还需要对处理后的BIM数据进行质量检查。在以往的数据质检过程中，处理的环节往往要经过多个角色，且数据流转则是通过线下的方式来进行，这样的方式存在着数据流转及处理环节记录缺失的缺陷，当BIM数据出现问题时，往往难以定位找到问题产生的环节。上述内容仅用于辅助理解本发明的技术方案，并不代表承认上述内容是现有技术。发明内容本发明的主要目的在于提供一种BIM数据处理方法、设备及计算机可读存储介质，旨在解决以往的数据质检过程中，处理的环节往往要经过多个角色，且数据流转则是通过线下的方式来进行，这样的方式存在着数据流转及处理环节记录缺失的缺陷，当BIM数据出现问题时，往往难以定位找到问题产生的环节的技术问题。为实现上述目的，本发明提供一种BIM数据处理方法，所述BIM数据处理方法包括以下步骤：获取数据提供方上传的BIM初始数据，并基于所述BIM初始数据在联盟链上创建智能合约，其中，所述联盟链用来记录链上各个节点的数据处理操作，所述联盟链上的节点包括所述数据提供方、数据存储方、数据处理方、系统管理方和数据使用方；基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中；当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节。可选地，所述获取数据提供方上传的BIM初始数据，并基于所述BIM初始数据在联盟链上创建智能合约的步骤之后，还包括：根据所述智能合约，确定所述BIM初始数据的数据来源；所述数据提供方根据所述数据来源，对所述BIM初始数据进行权属切割，以明确所述BIM初始数据的归属权；在所述联盟链上生成区块头，并基于所述区块头记录所述BIM初始数据的相关信息。可选地，所述基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中的步骤包括：所述数据存储方基于可视化模块，查看所述BIM初始数据对应的建筑信息模型；基于所述建筑信息模型，对所述BIM初始数据进行初步检测；将检测未通过的BIM初始数据进行标记，并通知对应的数据提供方重新提供被标记的所述BIM初始数据；将检测通过的BIM初始数据进行数模分离，并存储至分布式数据库中；基于所述联盟链上的数据区块，记录所述检测通过的BIM初始数据的存储信息。可选地，所述基于所述联盟链上的数据区块，记录所述检测通过的BIM初始数据的存储信息的步骤之前，还包括：在所述联盟链上生成区块头；基于所述BIM初始数据，计算对应的哈希值；基于所述区块头和所述哈希值，构建所述数据区块。可选地，所述基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中的步骤之后，还包括：所述数据处理方对所述BIM初始数据进行数据预处理；基于所述数据处理方的分布式账本记录所述数据预处理的操作信息；基于可视化模块，对所述BIM初始数据进行预览，以检测所述BIM初始数据中是否存在所述BIM异常数据。可选地，所述当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节的步骤之前，还包括：所述数据使用方在获取数据服务使用权限时，调用所述BIM初始数据并对所述BIM初始数据进行质量检测；在所述数据使用方检测出所述BIM异常数据时，基于分布式账本初步查找所述BIM异常数据对应的操作记录；基于问题反馈模块，生成所述BIM异常数据和所述操作记录对应的反馈表单；将所述反馈表单流转给所述系统管理方，并在所述反馈表单通过所述系统管理方的审核时，流转给所述数据处理方。可选地，所述当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节的步骤包括：所述数据处理方基于所述BIM异常数据，确定对应的数据特征；基于所述数据特征，确定包含所述BIM异常数据的区块高度和时间戳；基于所述区块高度和时间戳，查找所述BIM异常数据对应的异常处理环节。可选地，所述当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节的步骤之后，还包括：所述数据处理方获取所述异常处理环节上一处理环节的BIM历史数据，并基于所述BIM历史数据重新处理，以生成正确的BIM数据；当所述BIM数据满足可视化要求时，将所述BIM数据存储至空间数据库，并基于加密模块对所述BIM数据进行加密处理；将加密后的所述BIM数据基于预设发布方式进行发布，以供所述数据使用方使用。此外，为实现上述目的，本发明还提供一种BIM数据处理设备，所述BIM数据处理设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的BIM数据处理程序，所述BIM数据处理程序配置为实现如上所述的BIM数据处理方法的步骤。此外，为实现上述目的，本发明还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有BIM数据处理程序，所述BIM数据处理程序被处理器执行时实现如上所述的BIM数据处理方法的步骤。本发明实施例通过提供一种BIM数据处理方法，通过获取数据提供方基于数据上传模块上传的BIM初始数据，并基于初始BIM初始数据在联盟链上创建智能合约，其中，该联盟链用来记录链上各个节点的数据处理操作，所述联盟链上的节点包括数据提供方、数据存储方、数据处理方、系统管理方和数据使用方，进而，数据存储方对BIM初始数据进行初步质检，并将通过初步质检的BIM初始数据存储至数据库中，此后，BIM初始数据还会经过数据处理方进行预处理并进行质量检测，数据使用方也会在调用BIM初始数据时对数据进行质量检测，当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方就可以基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节。通过上述方法，能够在BIM数据进行数据处理过程中，当BIM数据出现异常时，快速溯源找到出现BIM异常数据对应的处理环节，方便从该处理环节的上一环节进行数据修正，提升BIM数据的处理效率。附图说明图1为本发明BIM数据处理方法第一实施例的流程示意图；图2为本发明BIM数据处理方法第一实施例中步骤S20的细化流程图；图3为本发明BIM数据处理方法第二实施例的流程示意图；图4为本发明BIM数据处理方法第三实施例的流程示意图；图5为本发明BIM数据处理方法第四实施例的流程示意图；图6为本发明BIM数据处理方法第一实施例数据处理流程示意图；图7为本发明BIM数据处理方法第二、第三、第四实施例的数据处理流程示意图；图8为本发明BIM数据处理方法区块链节点架构示意图；图9是本发明实施例方案涉及的硬件运行环境的终端结构示意图。本发明目的的实现、功能特点及优点将结合实施例，参照附图作进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。本发明实施例提供了一种BIM数据处理方法，参照图1，图1为本发明一种BIM数据处理方法第一实施例的流程示意图。本实施例中，所述BIM数据处理方法包括：步骤S10、获取数据提供方上传的BIM初始数据，并基于所述BIM初始数据在联盟链上创建智能合约。在本实施例中，将区块链技术和BIM数据处理技术相结合，构建BIM与区块链相结合的系统，参照图8，构建BIM数据接入-处理-发布的全生命周期相关主体的联盟链，联盟链上有多个节点，包括数据提供方、数据存储方、数据处理方、数据使用方和系统管理方。数据提供方通过数据输入模块提供BIM数据；数据存储方通过数据存储模块将BIM数据进行数模分离并存储至数据库中；数据处理方通过数据处理模块对BIM数据进行预处理和检查，并在数据有异常时追溯异常处理环节，完成数据修正等处理工作；数据使用方则是在获取数据服务权限后，调用BIM数据；系统管理方用来执行在出现BIM异常数据时，审批是否需要对BIM异常数据进行修正处理的工作。联盟链用来存储各个节点对BIM数据的每一处理环节，保证BIM数据的操作信息可追溯。此外，还包括数据可视化模块、数据加密模块，数据发布模块，问题反馈模块以及审核模块，这些模块都与区块链共享模块相连接。区块链共享模块是在区块链网络中被多个参与者共享和使用的功能模块或组件。它提供了一些常见的功能和服务，可以被不同的应用程序、智能合约或其他模块所调用和复用。区块链共享模块能够提供身份验证和访问控制的功能，提供加密算法、数字签名和密码学功能，保护数据的机密性和完整性，并防止恶意攻击和数据篡改。此外，区块链共享模块提供数据存储和检索的接口或服务，使得数据可以在区块链上进行持久化存储，并且可以高效地查询和检索。进一步地，参照图6，数据提供方在通过数据上传模块，将BIM初始数据进行上传，包括BIM结构数据和非结构数据。在获取到BIM数据的信息时，联盟链自动创建智能合约，以此来自动执行和实施各种数据处理规则和协议，加快数据处理的速度。此外，联盟链上的各个节点可以通过创建的智能合约实现协作和共享数据。进一步地，确定BIM数据的唯一来源，明确数据权属切割。与此同时，联盟链上生成区块头，该区块头记录BIM数据的数据来源、提交人、提交时间、数据格式、文件名称、文件大小，创建区块的哈希值。需要说明的是，这里的BIM初始数据是相对于后续的需要修改的BIM异常数据而言的，“初始”一词并不代表该BIM初始数据此前并未被修改过，在数据使用方使用之前，BIM数据在上传、存储的过程中，也会进行相应的数据检查，对于异常的BIM数据也会进行替换和修改。在本实施例中，基于数据提供方上传的BIM初始数据，在联盟链上自动创建智能合约，方便后续BIM初始数据的存储和调用工作，同时使用区块头记录BIM初始数据的相关信息，保证了数据信息的可追溯性步骤S20、基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中。在本实施例中，数据存储方会对BIM初始数据进行初步质检，以确保BIM初始数据的正确性和规范性，经过初步质检的BIM初始数据会存储到分布式数据库中，而没有经过质检的数据，则会通知数据提供方重新提供该数据。进一步地，参照图2，基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中包括以下步骤：步骤S21、所述数据存储方基于可视化模块，查看所述BIM初始数据对应的建筑信息模型。步骤S22、基于所述建筑信息模型，对所述BIM初始数据进行初步检测。步骤S23、将检测未通过的BIM初始数据进行标记，并通知对应的数据提供方重新提供被标记的所述BIM初始数据。步骤S24、将检测通过的BIM初始数据进行数模分离，并存储至分布式数据库中。步骤S25、基于所述联盟链上的数据区块，记录所述检测通过的BIM初始数据的存储信息。在本实施例中，数据提供方提供的BIM初始数据，由数据存储方来进行数据的存储工作。数据存储方通过可视化模块看模型，对BIM初始数据进行初步的完整性和正确性检测，主要是检测BIM初始数据是否完整，数据字段是否满足字段要求等。通过检测的BIM初始数据会存储至数据库中，应用数模分离的技术将BIM数据存储到分布式数据库中，而区块链则负责记录下各个部分数据的存储信息。检测没有通过的BIM初始数据，数据存储方会将其标记为不合格，将其提示给数据提供方，要求数据提供方重新提供该数据。进一步地，参照图6，数据存储方对BIM初始数据进行初步质检，当数据不满足提交要求时，则退回数据，要求重新上传。而当数据满足要求时，数据存储方，开始对BIM初始数据进行数模分离，即将建筑信息模型分为几个独立的部分或组件，并把不同组件的BIM数据进行分类存储，以便更好地进行管理、协作和使用。可选地，作为一种可行的实施方式，可以根据建筑信息模型中的构件类型，将其分离为单独的模型。例如，将墙体、楼板、柱子等不同类型的构件分别提取出来形成各自的模型文件。作为另一种可行的实施方式，还可以按功能进行分离，即根据建筑项目中的功能分区，将建筑信息模型分离为各个功能区域的模型。例如，将办公区、会议室、厨房等不同功能区域的构件分别提取出来形成各自的模型文件。此外，还可以使用按照层次或按照专业进行的方式进行分离。具体的分离方式可以根据具体情况来进行选择，这里不做过多限定。在实际操作中，可以使用BIM软件提供的工具和功能来进行数模分离。例如，使用选择工具选择特定类型的构件，并将其导出为单独的文件，或者使用过滤器按照特定的条件筛选构件，并将筛选结果导出为新的模型文件等。经过数模分离后的数据会存储到分布式数据库当中。与此同时，数据存储方还会通过BIM初始数据计算哈希值，创建区块头，通过哈希值和区块头构建数据区块，数据区块作为联盟链上一个区块，用来存储BIM初始数据的存储信息，如BIM初始数据的存储地址、数据字段等。哈希值则用于标识当前区块，通过将哈希值同步给下一个区块，可以建立联盟链上区块之间的连接。在本实施例中，数据存储方通过对BIM初始数据进行初步检查，可以提升BIM数据的正确性，降低后续调用BIM初始数据的出错率。此外，采用数模分离的方式对BIM初始数据进行存储，可以更加灵活地管理和利用建筑信息模型，提高项目的协作效率和信息传递的准确性。同时，各个独立存储的模型文件数据也可以便于后续的模拟、分析、维护和更新等操作。步骤S30、当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节。在本实施例中，联盟链采用分布式账本模式，链上所以节点自身都会维护一份账本。在分布式账本模式中，数据副本存储在网络中多个节点上，不存在单点故障，也不需要集中式服务器，参与节点共同维护账本，没有中央机构控制和管理数据，任何参与节点都可以验证和记录操作。本发明中，链上各个节点的任何操作都会被记录在账本中，一旦数据被记录到分布式账本中，就很难被篡改或删除，保证了数据的可追溯性和可信度。与此同时，分布式账本的数据是公开可查的，任何参与节点都可以查看和验证操作信息。经过存储后的BIM初始数据，还会经过数据处理方进行预处理，预处理之后会对其进行质量检测，数据使用方也会在调用BIM初始数据时对数据进行质量检测。对于数据处理方和数据使用方检查出BIM异常数据的情况，以下分为两种场景进行解释说明。场景一、当数据使用方在质量检查的过程中检查出了BIM异常数据时，会通过查看分布式账本，来查找BIM异常数据的操作记录。在查找的过程中，根据异常数据的特征，如异常类型、数据类型、哈希值等，逐个遍历区块，确定包含BIM异常数据的区块高度或时间戳。区块高度表示区块在联盟链上的位置或序号，用于标识区块在整个区块链结构上的相对位置，时间戳则记录BIM异常数据的生成时间和处理时间，通过查找包含BIM异常数据的区块，并根据时间戳找到其中相对应的操作记录，通过操作记录初步定位问题环节。数据使用方查找出BIM异常数据的操作记录后，其自身并不具备修改异常数据的权限，因此，参照图7，数据使用方基于问题反馈模块生成一个反馈表单，该反馈表单中包含了BIM异常数据和操作记录，进而会将反馈表单经由问题反馈模块流转至审核模块，达到系统管理方，以此实现向系统管理方反馈错误信息。系统管理方对数据使用方进行审核，判断当前BIM异常数据是否需要重新处理，对于不需要进行重新处理的反馈直接进行回复，告知数据使用方无需对该BIM异常数据进行特殊处理。而对于需要进行重新处理的反馈，则会审核通过该反馈表单，并将其流转给数据处理模块，由数据处理方对BIM异常数据进行修正处理。数据处理方在接收到反馈表单时，会基于反馈表单中BIM异常数据以及操作记录，在联盟链上查找到BIM异常数据的操作流程，以定位到BIM异常数据的对应的异常处理环节。数据处理方在查找定位异常处理环节时，根据异常数据的数据特征，如异常类型、数据类型、哈希值等，逐个遍历区块，来最终锁定对应的异常处理环节。可选地，在另外一种可行的实施方式中，数据使用方还可以对反馈表单中的操作记录进行仔细分析，特别关注与BIM异常数据相关的数据字段或操作，参考相关的协议、合约或应用程序的逻辑来理解交易的含义和目的。根据操作记录中BIM异常数据中的地址、哈希值等信息，逐步追踪数据的流动路径。根据追踪到的数据流动路径，一步一步地追溯与BIM异常数据相关的操作链，最终确定与BIM异常数据相关的处理环节。在追溯过程中，重要的是查看参与者的操作记录，每个处理环节都会有参与者对数据进行操作的痕迹。通过查看参与者的身份、权限和相应的操作，可以了解到是哪个参与者对数据进行了异常处理。可选地，如果异常数据是由于篡改或错误操作造成的，可以使用账本的历史记录来跟踪数据的变更。通过比对不同时间点的数据，在正常和异常处理环节之间找到差异，并确定异常数据是在哪个环节引入的。场景二、数据处理方在数据处理完成后，还会通过可视化模块对BIM数据进行预览，当出现数据处理有误的情况，如图形变形、位置便宜、材质丢失等，数据处理方通过查找联盟链上的记录来追踪到具体的操作步骤，定位到问题出现的环节。同样的，数据处理方会根据异常数据的特征，如异常类型、数据类型、哈希值等，逐个遍历区块，确定包含BIM异常数据的区块高度或时间戳。区块高度表示区块在联盟链上的位置或序号，用于标识区块在整个区块链结构上的相对位置，时间戳则记录BIM异常数据的生成时间和处理时间，通过查找包含BIM异常数据的区块，并根据时间戳找到其中相对应的操作记录，通过操作记录初步定位问题环节。需要说明的是，数据处理方在对BIM初始数据进行预处理包括至少以下几种，如轻量化处理、坐标转换、渲染参数设置、IFC格式转换等。其中，在进行坐标转换时，首先获取BIM初始数据对应的物体的几何信息和其在三维空间中的坐标系统以及坐标转换参数。坐标转换参数的确定，需要先得知将BIM数据转换到的目标参考系统，参考系统可以是地理坐标系或本地坐标系等。随后，根据BIM初始数据和目标参考系统，建立一个合适的坐标转换模型，这可以包括平移、旋转、缩放等变换操作来实现从原始坐标系到目标坐标系的转换，通过该转换模型中可以相对应的转换参数。进一步地，使用建立的坐标转换模型以及对应的转换参数，计算出在目标坐标系中的新坐标，以及完成对BIM初始数据进行坐标转换。在转换完成后，还对转换后的数据进行验证和调整，即使用一些参考点或控制点来比较原始数据和转换后的数据，确保转换结果准确无误。可选地，除了坐标转换的预处理外，还需进行轻量化处理，以减少模型文件的大小，提高数据传输和加载的效率。设置渲染参数，提升模型的呈现效果。通过将BIM数据转换为IFC格式，以实现不同BIM软件之间的数据交流和共享。需要说明的是，上述各个节点的操作同样会记录在账本中，即联盟链上各个节点的任何操作都会被记录下来，能够在后续数据出现问题时，进行追溯。在本实施例中，数据使用方通过自身维护的分布式账本，查找出BIM异常数据的异常操作记录，无需跑完全部流程来查找BIM异常数据，提升了数据处理的效率。此外，数据使用方并不会直接对BIM异常数据进行修正处理，而是由系统管理方来裁断是否需要进行处理，对需要处理的数据流转给数据处理方，即联盟链上各个节点各司其职，分工明确，降低了数据体系的治理难度。进一步的，参照图3，本发明BIM数据处理方法第二实施例，步骤S10之后，还包括以下步骤：步骤S11、根据所述智能合约，确定所述BIM初始数据的数据来源。步骤S12、所述数据提供方根据所述数据来源，对所述BIM初始数据进行权属切割，以明确所述BIM初始数据的归属权。步骤S13、在所述联盟链上生成区块头，并基于所述区块头记录所述BIM初始数据的相关信息。在本实施例中，参照图7，数据提供方通过数据接入模块上传BIM初始数据，包括BIM结构数据和非结构数据。在获取到BIM数据的信息时，联盟链自动创建智能合约，以此来自动执行和实施各种数据处理规则和协议，加快数据处理的速度。此外，联盟链上的各个节点可以通过创建的智能合约实现协作和共享数据。进一步地，确定BIM数据的唯一来源，明确数据权属切割。与此同时，联盟链上生成区块头，该区块头记录BIM数据的数据来源、提交人、提交时间、数据格式、文件名称、文件大小，创建区块的哈希值。数据使用方在明确数据权属切割时，需要将确定数据的所有者或使用权限，并根据不同的角色和需求来划分数据的所述的对象。例如，数据可能属于个人用户、组织机构或部门等。进而对数据进行分类和标记，将其划分为不同的类别或级别。这可以基于数据的敏感性、机密性、重要性等因素来进行划分，以便更好地管理和保护数据。随后，建立访问控制策略和机制，确保只有经过授权的用户或实体可以访问和操作特定的数据。这包括身份验证、权限管理、角色分配等措施，以保证数据的安全性和合规性。通过将BIM初始数据按照不同的属主或所有者进行划分和管理的过程，以此来保护数据的私密性、安全性和合规性，同时还能方便数据的访问和共享。进一步地，区块头作为区块链中各个区块的重要组成部分，包含了区块的元数据和摘要信息。在联盟链上生成区块头时，可以包含用于标识所使用区块链协议版本的版本号、记录区块头生成的时间戳以及上一个区块的哈希值等字段，通过这些字段通过进行哈希计算，生成了一个唯一的区块哈希值。这个哈希值用于标识整个区块，并作为下一个区块头中的“前一个区块哈希”字段的值。此外，该区块头中记录有BIM数据的数据来源、提交人、提交时间、数据格式、文件名称、文件大小等相关信息。在本实施例中，数据提供方通过提供BIM初始数据，并建立区块头，方便后续BIM数据的存储和调用工作，同时使用区块头记录BIM初始数据的相关信息，保证了数据信息的可追溯性。进一步地，参照图4，本发明BIM数据处理方法第三实施例，步骤S30之前，还包括：步骤S40、所述数据使用方在获取数据服务使用权限时，调用所述BIM初始数据并对所述BIM初始数据进行质量检测。步骤S50、在所述数据使用方检测出所述BIM异常数据时，基于分布式账本初步查找所述BIM异常数据对应的操作记录；步骤S60、基于问题反馈模块，生成所述BIM异常数据和所述操作记录对应的反馈表单。步骤S70、将所述反馈表单流转给所述系统管理方，并在所述反馈表单通过所述系统管理方的审核时，流转给所述数据处理方。在本实施例中，经由数据提供方提供数据、数据存储方存储数据以及数据处理方进行数据预处理后，数据使用方会基于自身的需求调用数据。当数据使用方想要使用BIM初始数据时，首先向数据存储方或联盟链中的其他授权机构发送授权请求，该请求包括明确指定所需的BIM数据类型、访问权限和时间范围等详细信息，以申请调用BIM数据服务。经过授权方的审批，验证了数据使用方身份的合法性之后，数据使用方获取到相应的数据服务使用权限，进而开始调用BIM初始数据应用在相应的建筑项目中，在应用过程中会同步对BIM初始数据进行质量检查。在对数据进行质量检查时，需要进行数据完整性检查，确保BIM数据的完整性，包括检查关键信息、属性和参数是否完整，并确认是否缺失或错误，此外，还需要进行数据一致性检查，验证BIM数据内部各个组件之间的一致性，例如构件位置、尺寸、关联关系等，确保相关数据之间的逻辑关系正确，并且不会产生冲突或矛盾；同时，还包括法规合规检查，即根据建筑法规、安全规范和环保要求等，对BIM数据进行合规性检查，确保设计符合相关法律法规，并符合可持续性和安全性标准；较为关键的检查可以通过BIM软件的可视化功能，对BIM模型进行视觉检查，从不同角度和视角查看模型的外观、结构和空间布局，以确保设计符合预期。可选地，BIM数据的质量检查还可以包括数据一致性与扩展性检查、审查文档和标准检查等，以确保BIM数据符合相关要求。具体的数据检查流程可能会因项目和组织的不同而有所差异。数据使用方可以根据自身需要和项目要求制定适合的数据检查程序，并结合专业的BIM软件和工具来执行相应的检查任务。数据使用方查找出BIM异常数据的操作记录后，其自身并不具备修改异常数据的权限，因此，参照图7，数据使用方基于问题反馈模块生成一个反馈表单，该反馈表单中包含了BIM异常数据和操作记录，进而会将反馈表单经由问题反馈模块流转至审核模块，达到系统管理方，以此实现向系统管理方反馈错误信息。系统管理方对数据使用方进行审核，判断当前BIM异常数据是否需要重新处理，对于不需要进行重新处理的反馈直接进行回复，告知数据使用方无需对该BIM异常数据进行特殊处理。而对于需要进行重新处理的反馈，则会审核通过该反馈表单，并将其流转给数据处理模块，由数据处理方对BIM异常数据进行修正处理。在本实施例中，数据使用方在获取数据服务使用权限时，调用BIM初始数据，并对BIM初始数据进行质量检查，以确保BIM初始数据进行数据应用时的规范性。进一步的，参照图5，本发明BIM数据处理方法第四实施例，步骤S30之后，还包括以下步骤：步骤S80、所述数据处理方获取所述异常处理环节上一处理环节的BIM历史数据，并基于所述BIM历史数据重新处理，以生成正确的BIM数据。步骤S90、当所述BIM数据满足可视化要求时，将所述BIM数据存储至空间数据库，并基于加密模块对所述BIM数据进行加密处理。步骤S100、将加密后的所述BIM数据基于预设发布方式进行发布，以供所述数据使用方使用。在本实施例中，当数据处理方定位到异常处理环节时，会获取该异常处理环节上一处理环节的BIM历史数据，并基于BIM历史数据重新处理，以得到正确的BIM数据。处理完之后，会通过数据可视化模块对BIM数据进行预览，保证处理之后的BIM数据符合可视化要求，只有符合可视化要求的BIM数据才会进一步存储到空间数据库中，并通过数据加密模块对数据进行加密，保证数据的安全性。最后将加密后的数据以预设发布方式，也就是数据服务的方式发布出去，以供数据使用方使用。同样的，BIM异常数据的查找和修改操作也会被记录下来。进一步地，在对BIM数据存储于区块链上可以提供额外的安全性和可追溯性，但直接将BIM数据加密存储在区块链上并非最佳选择。因此，需要对BIM数据进行加密，作为一种可行的实施方式，可以选择对于BIM中的敏感数据使用加密算法对其进行加密，加密算法会随机生成密钥，只有具备相应密钥的人才能解密和访问这些数据。此外，还可以将BIM数据的哈希值存储在区块链上。哈希值是数据的唯一标识，通过将哈希值存储在区块链上，可以确保数据的完整性和不可篡改性，区块链可以用作身份验证和访问控制的基础，只有经过授权的用户才能访问被加密的BIM数据，而区块链可以记录和验证用户的访问权限。此外，通过智能合约，可以在区块链上创建自动执行的条件和规则，这样可以确保只有在符合特定条件的情况下才能访问或修改BIM数据。经过加密处理并发布后的BIM数据，在被数据使用方调用时，会执行第一实施例当中的步骤，至此相当于完成了整个BIM数据处理的闭环。在本实施例中，通过利用区块链和加密技术可以加强对BIM数据的安全性和可追溯性。依托共识机制、智能合约，基于BIM数据接入-处理-发布的全生命周期相关主体构建联盟链，构建城市BIM生态，实现在区块链上各方角色均可对BIM数据进行质量检查，发现问题、定位问题，提升BIM数据的质量和处理的效率。参照图9，图9为本发明实施例方案涉及的硬件运行环境的BIM数据处理设备结构示意图。如图9所示，该BIM数据处理设备可以包括：处理器1001，例如中央处理器，通信总线1002、用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口接口）。存储器1005可以是高速的随机存取存储器存储器，也可以是稳定的非易失性存储器，例如磁盘存储器。存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图9中示出的结构并不构成对BIM数据处理设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如图9所示，作为一种存储介质的存储器1005中可以包括操作系统、数据存储模块、网络通信模块、用户接口模块以及BIM数据处理程序。在图9所示的BIM数据处理设备中，网络接口1004主要用于与其他设备进行数据通信；用户接口1003主要用于与用户进行数据交互；本发明BIM数据处理设备中的处理器1001、存储器1005可以设置在BIM数据处理设备中，所述BIM数据处理设备通过处理器1001调用存储器1005中存储的BIM数据处理程序，并执行以下步骤：获取数据提供方上传的BIM初始数据，并基于所述BIM初始数据在联盟链上创建智能合约，其中，所述联盟链用来记录链上各个节点的数据处理操作，所述联盟链上的节点包括所述数据提供方、数据存储方、数据处理方、系统管理方和数据使用方；基于所述数据存储方对所述BIM初始数据进行初步质检，并将通过所述初步质检的BIM初始数据存储至数据库中；当所述数据处理方，或所述数据使用方从已存储的所述BIM初始数据中检测出BIM异常数据时，所述数据处理方基于所述联盟链的操作记录确定所述BIM异常数据对应的异常处理环节。进一步地，所述BIM数据处理设备通过处理器1001调用存储器1005中存储的BIM数据处理程序，还执行以下步骤：根据所述智能合约，确定所述BIM初始数据的数据来源；所述数据提供方根据所述数据来源，对所述BIM初始数据进行权属切割，以明确所述BIM初始数据的归属权；在所述联盟链上生成区块头，并基于所述区块头记录所述BIM初始数据的相关信息。进一步地，所述BIM数据处理设备通过处理器1001调用存储器1005中存储的BIM数据处理程序，还执行以下步骤：所述数据存储方基于可视化模块，查看所述BIM初始数据对应的建筑信息模型；基于所述建筑信息模型，对所述BIM初始数据进行初步检测；将检测未通过的BIM初始数据进行标记，并通知对应的数据提供方重新提供被标记的所述BIM初始数据；将检测通过的BIM初始数据进行数模分离，并存储至分布式数据库中；基于所述联盟链上的数据区块，记录所述检测通过的BIM初始数据的存储信息。进一步地，所述BIM数据处理设备通过处理器1001调用存储器1005中存储的BIM数据处理程序，还执行以下步骤：在所述联盟链上生成区块头；基于所述BIM初始数据，计算对应的哈希值；基于所述区块头和所述哈希值，构建所述数据区块。进一步地，所述BIM数据处理设备通过处理器1001调用存储器1005中存储的BIM数据处理程序，还执行以下步骤：所述数据处理方对所述BIM初始数据进行数据预处理；基于所述数据处理方的分布式账本记录所述数据预处理的操作信息；基于可视化模块，对所述BIM初始数据进行预览，以检测所述BIM初始数据中是否存在所述BIM异常数据。进一步地，所述BIM数据处理设备通过处理器1001调用存储器1005中存储的BIM数据处理程序，还执行以下步骤：所述数据使用方在获取数据服务使用权限时，调用所述BIM初始数据并对所述BIM初始数据进行质量检测；在所述数据使用方检测出所述BIM异常数据时，基于分布式账本初步查找所述BIM异常数据对应的操作记录；基于问题反馈模块，生成所述BIM异常数据和所述操作记录对应的反馈表单；将所述反馈表单流转给所述系统管理方，并在所述反馈表单通过所述系统管理方的审核时，流转给所述数据处理方。进一步地，所述BIM数据处理设备通过处理器1001调用存储器1005中存储的BIM数据处理程序，还执行以下步骤：所述数据处理方基于所述BIM异常数据，确定对应的数据特征；基于所述数据特征，确定包含所述BIM异常数据的区块高度和时间戳；基于所述区块高度和时间戳，查找所述BIM异常数据对应的异常处理环节。进一步地，所述BIM数据处理设备通过处理器1001调用存储器1005中存储的BIM数据处理程序，还执行以下步骤：所述数据处理方获取所述异常处理环节上一处理环节的BIM历史数据，并基于所述BIM历史数据重新处理，以生成正确的BIM数据；当所述BIM数据满足可视化要求时，将所述BIM数据存储至空间数据库，并基于加密模块对所述BIM数据进行加密处理；将加密后的所述BIM数据基于预设发布方式进行发布，以供所述数据使用方使用。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还 包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、 方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述 实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通 过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体 现出来，该计算机软件产品存储在如上所述的一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
