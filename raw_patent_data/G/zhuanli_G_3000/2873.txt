标题title
一种计及测量值异常的锂离子电池模型参数鲁棒辨识方法
摘要abst
本发明涉及电池领域，公开了一种计及测量值异常的锂离子电池模型参数鲁棒辨识方法，该方法包括：首先从电池测试系统采集锂离子电池工作状态的数据，采用八阶多项式函数建立开路电压与电池荷电状态之间关系；之后建立锂离子电池的二阶等效电路模型，写出相应模型的状态空间方程并将其表述成一般回归方程；最后利用基于马氏距离准则的卡尔曼滤波算法对锂离子电池模型参数进行鲁棒辨识。本发明实施例的鲁棒参数辨识方法能够有效保证电池测量信号存在异常值时的参数识别性能，可以避免异常噪声、离群值对参数辨识结果的影响，对提高电池模型的精度具有重要作用。
权利要求书clms
1.一种计及测量值异常的锂离子电池模型参数鲁棒辨识方法，其特征在于，包括如下步骤：步骤A. 首先从电池测试系统采集锂离子电池工作状态的数据，建立开路电压与电池荷电状态SOC之间关系；步骤B. 之后建立锂离子电池的二阶等效电路模型，写出相应模型的状态空间方程并将其表述成一般回归方程；步骤C. 利用基于马氏距离准则的卡尔曼滤波算法对锂离子电池模型参数进行鲁棒辨识；在步骤C中，由于电池参数在相邻时刻其值不能突变，则，联立状态空间方程，得式： 式中和/＞分别为/＞和/＞时刻的辨识参数向量，/＞为/＞时刻的端电压值与开路电压之间的差值，/＞为/＞时刻的信息向量的转置；之后采用基于马氏距离准则的卡尔曼滤波算法进行参数辨识，包括初始化、状态预测，状态更新；具体如下：初始化；其中，/＞为起始时刻辨识参数向量，/＞为初始时刻误差协方差，/＞初始测量噪声协方差，/＞为初始过程噪声协方差，/＞为初始膨胀因子值；状态预测包括时刻的辨识参数预测向量和误差协方差预测值的计算，具体计算公式如式所示：式中为/＞时刻的辨识参数预测向量，/＞为/＞时刻的辨识参数向量，为/＞时刻的误差协方差，/＞为/＞时刻的误差协方差预测，/＞为/＞时刻过程噪声协方差；状态更新，计算新息值和相应的误差协方差，如式所示： 式中为 /＞时刻端电压值与开路电压之间的预测差值，/＞为测试所获得的电压值，/＞为新息值，/＞为/＞时刻的测量噪声协方差，/＞为新息值所相应的误差协方差；之后计算新息值的马氏距离平方 ，如式，由统计分析可知，新息的马氏距离的平方服从/＞个自由度，概率值为/＞的卡方分布/＞，其值可以通过查表获得，/＞为概率值， 如果小于/＞，则不存在异常值，继续更新/＞时刻卡尔曼增益矩阵、/＞时刻状态变量值和/＞时刻误差协方差，如式所示：式中,/＞,/＞分别为/＞时刻卡尔曼增益矩阵，辨识参数向量和误差协方差；如果大于/＞，则存在异常值，则计算新的膨胀因子，新的新息所对应的误差协方差以及新的新息的马氏距离平方，如式所示, 直到/＞小于/＞结束迭代；然后继续计算卡尔曼增益、/＞时刻状态变量值更新，/＞时刻误差协方差，如式所示：式中为每次迭代新息所对应的误差协方差，/＞和/＞为第/＞和/＞次迭代所对应的膨胀因子，/＞为每次迭代新息的马氏距离平方；对所有数据进行重复式至式，获得相应的每个时刻的辨识参数向量；最后将获得的辨识参数向量进行逆推计算，得到电池工作每时刻所对应的模型电阻、电容参数，计，其中为中间变量，/＞为系数，则逆推计算公式如式所示：其中为欧姆内阻，/＞分别为2个RC回路的极化内阻，/＞分别为2个RC回路的极化电容，/＞，/＞为时间常数，通过以下计算获得：/＞，/＞。2.根据权利要求1所述的一种计及测量值异常的锂离子电池模型参数鲁棒辨识方法，其特征在于，步骤A中，锂离子电池工作状态的数据包括混合功率脉冲特性HPPC工况电流、电压数据、动态测试应力DST工况电压、电流和/或温度数据。3.根据权利要求2所述的一种计及测量值异常的锂离子电池模型参数鲁棒辨识方法，其特征在于，利用HPPC测试数据确定电池开路电压以及对应的SOC，具体通过八阶多项式函数来拟合开路电压和SOC的数据；八阶多项式如公式所示：式中为开路电压，SOC为电池荷电状态，/＞为多项式系数，可以通过多开路电压和SOC数据进行拟合得到。4.根据权利要求1所述的一种计及测量值异常的锂离子电池模型参数鲁棒辨识方法，其特征在于，步骤B中，锂离子电池的二阶等效电路模型包括一个开路电压源、一个欧姆内阻、两个RC回路。5. 根据权利要求4所述的一种计及测量值异常的锂离子电池模型参数鲁棒辨识方法，其特征在于，步骤B中，根据基尔霍夫定律，二阶等效电路模型的参数关系如式所示：式中和/＞分别为开路电压和欧姆内阻，/＞分别为2个RC回路的极化内阻，分别为2个RC回路的极化电容；/＞分别为2个RC回路的极化电压，/＞为工作电流，分别为/＞的导数；/＞为电池的端电压；令，/＞为/＞时刻的开路电压值，/＞为/＞时刻电池的端电压；之后利用拉普拉斯变换以及离散系统的双线性变化将式转换成式： 式中为系数，/＞分别为/＞时刻、/＞时刻、/＞时刻的工作电流值，/＞为/＞时刻、/＞时刻、/＞时刻端电压值与开路电压之间的差值；令,/＞，/＞为/＞时刻的辨识向量，则式可以写成一般回归形式，如式所示： 式中和/＞分别为/＞和/＞时刻的辨识参数向量，/＞为/＞时刻的端电压值与开路电压之间的差值，/＞为/＞时刻的信息向量的转置。
说明书desc
技术领域本发明涉及一种计及测量值异常的锂离子电池参数鲁棒辨识方法。背景技术锂离子电池在可再生能源渗透、电动交通和便携式电子产品等许多领域得到了广泛应用。在实际应用中，一个可靠的电池管理系统是实现锂电池系统可靠性、效率和寿命的关键。特别是基于模型的管理，由于其较高的准确性和鲁棒性，得到了越来越多的研究。一些典型的应用包括基于模型的状态估计、健康预测、自加热、充电控制。然而锂离子电池模型参数的辨识是一个重要的课题，电池模型的准确性与参数识别方法密切相关。因此对获得一个高保真，准确的电池模型至关重要。目前，锂离子电池的参数辨识方法主要有两类，分别是基于智能算法的离线参数辨识和基于最小二乘或滤波器的在线参数辨识方法。基于智能算法的离线参数辨识需要不断的迭代，计算量大，不利于实际应用。而基于最小二乘的在线辨识方法需要批量数据回归与高维矩阵操作，当数据量逐渐增加时，历史数据对参数估计结果影响较大，导致算法对环境变化不敏感。基于滤波器的参数辨识方法利用最小化平方误差的平均值，为模型参数辨识提供了一种可靠的递归方法，目前在电池的模型参数中得到的广泛应用。在实际应用中，采集到的电压或电流数据通常包含意外噪声。这些噪声对模型参数识别的保真度产生不利影响，并进一步降低了估计性能。发明内容本发明的目的是提供一种计及测量值异常的锂离子电池参数鲁棒辨识方法，为提高电池模型精度提供技术方案，以避免异常噪声、离群值对参数辨识结果的影响。本发明是通过如下技术方案实现的：一种计及测量值异常的锂离子电池模型参数鲁棒辨识方法，其特征在于，包括如下步骤：步骤A. 首先从电池测试系统采集锂离子电池工作状态的数据，建立开路电压与电池荷电状态之间关系。该数据主要有混合功率脉冲特性工况电流、电压数据、动态测试应力工况电压、电流、温度数据。利用HPPC测试数据确定电池开路电压以及对应的SOC。可以通过八阶多项式函数来拟合开路电压和SOC的数据。八阶多项式如公式所示： 式中为开路电压，SOC为电池荷电状态，/＞为多项式系数，可以通过多开路电压和SOC数据进行拟合得到。步骤B. 之后建立锂离子电池的二阶等效电路模型，写出相应模型的状态空间方程并将其表述成一般回归方程。锂离子电池的二阶等效电路模型包括一个开路电压源、一个欧姆内阻、两个RC回路。根据基尔霍夫定律，该模型之间的参数关系可以写成式所示。 式中和/＞分别为开路电压和欧姆内阻，/＞分别为2个RC回路的极化内阻，/＞分别为2个RC回路的极化电容。/＞分别为2个RC回路的极化电压，/＞为工作电流，/＞分别为/＞的导数。/＞为电池的端电压。令，/＞为/＞时刻的开路电压值，/＞为/＞时刻电池的端电压。之后利用拉普拉斯变换以及离散系统的双线性变化将式转换成式。 式中为系数，/＞分别为/＞时刻、/＞时刻、/＞时刻的工作电流值，/＞为/＞时刻，/＞时刻，/＞时刻端电压值与开路电压之间的差值。令,/＞，/＞为/＞时刻的辨识向量。则式可以写成一般回归形式，如式所示。式中和/＞分别为/＞和/＞时刻的辨识参数向量，/＞为/＞时刻的端电压值与开路电压之间的差值，/＞为/＞时刻的信息向量的转置。步骤C. 利用基于马氏距离准则的卡尔曼滤波算法对锂离子电池模型参数进行鲁棒辨识，该方法可以避免异常噪声、离群值对参数辨识结果的影响。利用基于马氏距离准则的卡尔曼滤波算法对锂离子电池模型参数进行鲁棒辨识。由于电池参数在相邻时刻其值不能突变，则。之后将其联立式,可得式。 式中和/＞分别为/＞和/＞时刻的辨识参数向量，/＞为/＞时刻的端电压值与开路电压之间的差值，/＞为/＞时刻的信息向量的转置。之后采用基于马氏距离准则的卡尔曼滤波算法进行参数辨识，包括初始化、状态预测，状态更新。具体如下：初始化，/＞为起始时刻辨识参数向量，/＞为初始时刻误差协方差，/＞初始测量噪声协方差，/＞为初始过程噪声协方差，/＞为初始膨胀因子值。状态预测包括时刻的辨识参数预测向量和误差协方差预测值的计算，具体计算公式如式所示： 式中为/＞时刻的辨识参数预测向量，/＞为/＞时刻的辨识参数向量，/＞为/＞时刻的误差协方差，/＞为/＞时刻的误差协方差预测。/＞为时刻过程噪声协方差。状态更新，计算新息值和相应的误差协方差，如式所示：式中为 /＞时刻端电压值与开路电压之间的预测差值，/＞为测试所获得的电压值，/＞为新息值，/＞为/＞时刻的测量噪声协方差，/＞为新息值所相应的误差协方差。之后计算新息值的马氏距离平方 ，如式，由统计分析可知，新息的马氏距离的平方服从/＞个自由度，概率值为/＞的卡方分布/＞，其值可以通过查表获得，/＞为概率值。 如果小于/＞，则不存在异常值，继续更新/＞时刻卡尔曼增益矩阵、/＞时刻状态变量值和/＞时刻误差协方差，如式所示。 式中,/＞,/＞分别为/＞时刻卡尔曼增益矩阵，辨识参数向量和误差协方差。如果大于/＞，则存在异常值，则计算新的膨胀因子，新的新息所对应的误差协方差以及新的新息的马氏距离平方，如式所示, 直到/＞小于/＞结束迭代。然后继续计算卡尔曼增益、/＞时刻辨识参数向量，/＞时刻误差协方差，如式。 式中为每次迭代新息所对应的误差协方差，/＞和/＞为第/＞和/＞次迭代所对应的膨胀因子，/＞为每次迭代新息的马氏距离平方。 对所有数据进行重复式至式，获得相应的每个时刻的辨识参数向量。最后将获得的辨识参数向量进行逆推计算，得到电池工作每时刻所对应的模型电阻、电容参数，计，其中/＞为中间变量，/＞为系数，则逆推计算公式如式所示。 其中为欧姆内阻，/＞分别为2个RC回路的极化内阻，/＞分别为2个RC回路的极化电容，/＞，/＞为时间常数，通过以下计算获得：/＞，/＞。本发明具有以下有益效果：本发明所采用的计及测量值异常的锂离子电池参数鲁棒辨识方法，为提高电池模型精度提供技术方案，该发明精细考虑了传感器在测量时，可能会存在噪声干扰，会出现不同程度的异常测量值的影响，能够在复杂情况下实现电池模型参数准确的表达，对于提高电池SOC和SOH估计的精度奠定了重要的基础，具有重要意义。附图说明图1为锂离子电池二阶等效电路模型电路图。图2为一种计及测量值异常的锂离子电池参数鲁棒辨识方法的流程图。具体实施方式下面将结合附图和实施例对本发明进行详细说明。请参阅图1和图2，本发明实施例提供了一种计及测量值异常的锂离子电池参数鲁棒辨识方法，包括：步骤A. 首先从电池测试系统采集锂离子电池工作状态的数据，建立开路电压与电池荷电状态之间关系。该数据主要有混合功率脉冲特性工况电流、电压数据、动态测试应力工况电压、电流、温度数据。利用HPPC测试数据确定电池开路电压以及对应的SOC。可以通过八阶多项式函数来拟合开路电压和SOC的数据。八阶多项式如公式所示： 式中为开路电压，SOC为电池荷电状态，/＞为多项式系数，可以通过多开路电压和SOC数据进行拟合得到。步骤B. 之后建立锂离子电池的二阶等效电路模型，写出相应模型的状态空间方程并将其表述成一般回归方程。建立锂离子电池的二阶等效电路模型，写出相应模型的状态空间方程并将其表述成一般回归方程。锂离子电池的二阶等效电路模型如图1所示，包括一个开路电压源、一个欧姆内阻、两个RC回路。根据基尔霍夫定律，该模型之间的参数关系可以写成式所示。 式中和/＞分别为开路电压和欧姆内阻，/＞分别为2个RC回路的极化内阻，/＞分别为2个RC回路的极化电容。/＞分别为2个RC回路的极化电压，/＞为工作电流，/＞分别为/＞的导数。/＞为电池的端电压。令，/＞为/＞时刻的开路电压值，/＞为/＞时刻电池的端电压。之后利用拉普拉斯变换以及离散系统的双线性变化将式转换成式。 式中为系数，/＞分别为/＞时刻，/＞时刻，/＞时刻的工作电流值，/＞为/＞时刻，/＞时刻，/＞时刻端电压值与开路电压之间的差值。令,/＞，/＞为/＞时刻的辨识向量。则式可以写成一般回归形式，如式所示。式中和/＞分别为/＞和/＞时刻的辨识参数向量，/＞为/＞时刻的端电压值与开路电压之间的差值，/＞为/＞时刻的信息向量的转置。步骤C. 利用基于马氏距离准则的卡尔曼滤波算法对锂离子电池模型参数进行鲁棒辨识，该方法可以避免异常噪声、离群值对参数辨识结果的影响。利用基于马氏距离准则的卡尔曼滤波算法对锂离子电池模型参数进行鲁棒辨识。由于电池参数在相邻时刻其值不能突变，则。之后将其联立式,可得式。 式中和/＞分别为/＞和/＞时刻的辨识参数向量，/＞为/＞时刻的端电压值与开路电压之间的差值，/＞为/＞时刻的信息向量的转置。之后采用基于马氏距离准则的卡尔曼滤波算法进行参数辨识，主要包括初始化、状态预测，状态更新。具体如下：初始化，/＞为起始时刻辨识参数向量，/＞为初始时刻误差协方差，/＞初始测量噪声协方差，/＞为初始过程噪声协方差，/＞为初始膨胀因子值。状态预测包括时刻的辨识参数预测向量和误差协方差预测值的计算，具体计算公式如式所示： 式中为/＞时刻的辨识参数预测向量，/＞为/＞时刻的辨识参数向量，/＞为/＞时刻的误差协方差，/＞为/＞时刻的误差协方差预测。/＞为时刻过程噪声协方差。状态更新，计算新息值和相应的误差协方差，如式所示：式中为 /＞时刻端电压值与开路电压之间的预测差值，/＞为测试所获得的电压值，/＞为新息值，/＞为/＞时刻的测量噪声协方差，/＞为新息值所相应的误差协方差。之后计算新息值的马氏距离平方 ，如式，由统计分析可知，新息的马氏距离的平方服从/＞个自由度，概率值为/＞的卡方分布/＞，其值可以通过查表获得，/＞为概率值。 如果小于/＞，则不存在异常值，继续更新/＞时刻卡尔曼增益矩阵、/＞时刻状态变量值和/＞时刻误差协方差，如式所示。 式中,/＞,/＞分别为/＞时刻卡尔曼增益矩阵，辨识参数向量和误差协方差。如果大于/＞，则存在异常值，则计算新的膨胀因子，新的新息所对应的误差协方差以及新的新息的马氏距离平方，如式所示, 直到/＞小于/＞结束迭代。然后继续计算卡尔曼增益、/＞时刻辨识参数向量，/＞时刻误差协方差，如式。 式中为每次迭代新息所对应的误差协方差，/＞和/＞为第/＞和/＞次迭代所对应的膨胀因子，/＞为每次迭代新息的马氏距离平方。 对所有数据进行重复式至式，获得相应的每个时刻的辨识参数向量。最后将获得的辨识参数向量进行逆推计算，得到电池工作每时刻所对应的模型电阻、电容参数，计，其中为中间变量，/＞为系数，则逆推计算公式如式所示。 其中为欧姆内阻，/＞分别为2个RC回路的极化内阻，/＞分别为2个RC回路的极化电容，/＞，/＞为时间常数，通过以下计算获得：/＞，/＞。以上仅是对本发明优选实施方式的描述，本发明的保护范围并不局限于上述实施例，凡属于本发明思路下的技术方案均属于本发明的保护范围。本发明所属技术领域的技术人员在不偏离本发明的精神和原理的情况下对所描述的具体实施例做各种修改或补充或采用类似的方式替代，视为本发明的保护范围。
