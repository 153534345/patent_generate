标题title
视觉特征与向量语义空间耦合的地图场景识别方法及系统
摘要abst
本发明公开了视觉特征与向量语义空间耦合的地图场景识别方法及系统，本发明将卷积神经网络所提取的多层次视觉特征和地图语义信息相结合，对现有的地图场景识别方法进行进一步的优化和改进，使之能够具备一定的逻辑推理和知识泛化能力，适应于复杂的地图场景识别。既可有效利用现有先进的深度卷积神经网络在视觉特征提取和特征识别的强大能力，又可利用地图语义分析的手段赋予模型逻辑推理的能力。本发明为利用地理空间人工智能技术对泛源地图进行分析，并结合语义信息对复杂泛源地图场景进行识别提供一种可行的实现途径。并且可为地图内容识别、泛源地图检索、空间情感等等提供直接的参考和支持。
权利要求书clms
1.一种视觉特征与向量语义空间耦合的地图场景识别方法，其特征在于：分别针对待处理栅格地图数据库中的各栅格地图，执行以下步骤，对栅格地图进行场景识别，获得各栅格地图分别对应的场景表征：步骤A：针对栅格地图，结合预设各场景类型，利用预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，对该栅格地图进行多标签分类，获得该栅格地图对应的各场景类型、以及各场景类型分别对应的概率；进而获得该栅格地图对应的场景类型结果；步骤B：基于该栅格地图对应的场景类型结果，获得该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重；步骤C：基于该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重，结合预设各场景类型，获得该栅格地图对应的场景表征。2.根据权利要求1所述一种视觉特征与向量语义空间耦合的地图场景识别方法，其特征在于：所述步骤A中，具体执行以下步骤，获得该栅格地图对应的场景类型结果：步骤A1：针对待处理栅格地图数据库中的栅格地图，结合预设各场景类型，利用预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，对该栅格地图进行多标签分类，获得该栅格地图对应的各场景类型和各场景类型分别对应的概率；步骤A2：基于该栅格地图对应的各场景类型、以及各场景类型分别对应的概率，结合预设概率阈值，判断满足预设概率阈值的场景类型数量是否大于1，若满足预设概率阈值的场景类型数量不大于1，则满足预设概率阈值对应的场景类型，作为该栅格地图对应的场景类型结果；若满足预设概率阈值的场景类型数量大于1，迭代执行以下步骤，获得该栅格地图对应的场景类型结果：步骤A2.1：将栅格地图基于预设网格划分，获得预设个数子栅格地图；基于预设栅格地图尺寸，判断网格划分后的各子栅格地图是否小于预设栅格地图尺寸，若网格划分后的各子栅格地图均小于预设栅格地图尺寸，则当前在各迭代中满足预设概率阈值对应的各场景类型，作为该栅格地图对应的场景类型结果；若网格划分后的各子栅格地图中存在不小于预设栅格地图尺寸的子栅格地图，则不小于预设栅格地图尺寸的子栅格地图执行步骤A2.2；步骤A2.2：针对不小于预设栅格地图尺寸的子栅格地图，结合预设各场景类型，利用预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，对子栅格地图进行多标签分类，获得子栅格地图分应的各场景类型、以及各场景类型分别对应的概率；执行A2.3；步骤A2.3：基于子栅格地图对应的各场景类型和各场景类型分别对应的概率，结合预设概率阈值，判断各子栅格地图分别对应的满足预设概率阈值的场景类型数量是否大于1，若各子栅格地图分别对应的满足预设概率阈值的场景类型数量均不大于1，则当前在各迭代中满足预设概率阈值对应的各场景类型，作为该栅格地图对应的场景类型结果；若各子栅格地图中存在子栅格地图对应的满足预设概率阈值的场景类型数量大于1，则对应的满足预设概率阈值的场景类型数量大于1的子栅格地图返回执行步骤A2.1，将子栅格地图作为栅格地图进行预设网格划分。3.根据权利要求2所述一种视觉特征与向量语义空间耦合的地图场景识别方法，其特征在于：所述步骤B中，基于该栅格地图对应的场景类型结果，具体执行以下步骤，获得该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重：步骤B1：针对该栅格地图对应的场景类型结果中的各场景类型，通过以下公式，计算各场景类型在该栅格地图中的频率；式中，cfc表示场景类型c在该栅格地图中出现的频率，freqc表示该栅格地图对应的场景类型结果中是否存在场景类型c，存在时freqc＝1，不存在时freqc＝0；freqk，s，c表示第k次网格划分获得的子栅格地图s对应的场景类型结果中是否存在场景类型c，存在时freqk，s，c＝1，不存在时freqk，s，c＝0；sk表示第k次网格划分获得的子栅格地图总数量；b表示栅格地图进行网格划分获得的预设个数子栅格地图数量；步骤B2：基于各场景类型在该栅格地图中的频率，通过以下公式，计算各场景类型的的反频率；式中，a＝mo/mmin，mo表示该栅格地图尺寸、mmin表示最后一次网格划分的子栅格地图中尺寸最小的子栅格地图尺寸；imfc表示场景类型c在该栅格地图中出现的反频率；kmax表示网格划分的总次数；步骤B3：基于该栅格地图对应的场景类型结果中的各场景类型在该栅格地图中的频率、以及各场景类型的的反频率，通过以下公式，获得该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重；wc＝cfc×imfc式中，wc表示场景类型c在该栅格地图中的权重。4.根据权利要求1所述一种视觉特征与向量语义空间耦合的地图场景识别方法，其特征在于：所述步骤C中，基于该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重，结合预设各场景类型，获得该栅格地图对应的场景表征W如下所示：W＝式中，wc表示场景类型c在该栅格地图中的权重；n表示预设各场景类型总数，对于该栅格地图对应的场景类型结果中不包含的各场景类型的权重取0。5.根据权利要求1所述一种视觉特征与向量语义空间耦合的地图场景识别方法，其特征在于：基于待处理栅格地图数据库中的各栅格地图分别对应的场景表征，针对待处理栅格地图数据库中的目标栅格地图，通过以下公式，获得目标栅格地图与待处理栅格地图数据库中栅格地图的场景相似度，进而实现两栅格地图场景相似识别：式中，Ii表示待处理栅格地图数据库中的目标栅格地图；Ij表示待处理栅格地图数据库中的任意一栅格地图；sim表示栅格地图Ii和Ij的场景相似度，wi，c表示场景类型c在栅格地图Ii中的权重，wj，c表示场景类型c在栅格地图Ij中的权重；n表示预设各场景类型总数。6.根据权利要求2所述一种视觉特征与向量语义空间耦合的地图场景识别方法，其特征在于：针对该栅格地图对应的场景类型结果，基于文档词条矩阵，建立地图视觉场景—地图语义模型，用于执行步骤B-C；地图视觉场景—地图语义模型中：将预设各场景类型对应词；该栅格地图划分的子栅格地图对应文档词条矩阵中的文本；该栅格地图对应文档词条矩阵中的文本集；该栅格地图对应的场景表征对应文档词条矩阵中的文本集主题。7.根据权利要求1所述一种视觉特征与向量语义空间耦合的地图场景识别方法，其特征在于：所述分类模型采用预设深度卷积神经网络。8.一种基于权利要求1-7任意一项所述一种视觉特征与向量语义空间耦合的地图场景识别方法的系统，其特征在于：包括多标签分类模块、场景类型结果识别模块、权重计算模块、场景表征模块，分别针对待处理栅格地图数据库中的各栅格地图，结合预设各场景类型，多标签分类模型用于对栅格地图进行多标签分类，获得栅格地图对应的各场景类型、以及各场景类型分别对应的概率；场景类型结果识别模块基于栅格地图对应的各场景类型、以及各场景类型分别对应的概率，用于获得栅格地图对应的场景类型结果；权重计算模块基于栅格地图对应的场景类型结果，用于获得栅格地图对应的场景类型结果中各场景类型分别在栅格地图中的权重；场景表征模块基于栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重，结合预设各场景类型，用于获得栅格地图对应的场景表征。9.根据权利要求8所述一种视觉特征与向量语义空间耦合的地图场景识别方法的系统，其特征在于：还包括地图相似度计算模块，基于待处理栅格地图数据库中的各栅格地图分别对应的场景表征，针对待处理栅格地图数据库中的目标栅格地图，地图相似度计算模块用于计算目标栅格地图与待处理栅格地图数据库中栅格地图的场景相似度。10.一种视觉特征与向量语义空间耦合的栅格地图场景识别终端，其特征在于：包括存储器和处理器，所述存储器和所述处理器之间互相通信连接，所述存储器中存储有计算机程序，所述处理器通过执行所述计算机程序，从而执行权利要求1-7任一项所述一种视觉特征与向量语义空间耦合的地图场景识别方法。
说明书desc
技术领域本发明属于栅格地图大数据处理与分析领域，特别涉及视觉特征与向量语义空间耦合的地图场景识别方法及系统。背景技术海量的数字地图成为人们日常生活和生产过程中了解认识现实世界的重要参考资料。这些地图场景复杂，并且，大部分地图资源并没有被发现、获取和有效地利用过，造成了地图数据资源的浪费。与此同时，研究制图与地图可视化的学者发现在不同领域的多数应用中所采用的数字地图数据并不能与实际的应用需求完全匹配。鉴于地图的影响力日益增强，急需一种精确、高效的数字地图识别技术，实现对数字地图数据的准确获取，有助于数字地图资源的高效利用，有效实现对包含非法内容的数字地图的筛除，并进一步提升数字地图资源对于生活和生产的促进和发展作用。特别是地图大数据时代以来，随着支持大规模运算的GPU硬件的普及，以及深度卷积神经网络的爆炸式发展，数字地图识别所必须的理论和技术要求已经发生了革命性的变化，多种形态的地理空间人工智能技术极大地促进了地图大数据场景分类和识别中的运用。泛源地图场景识别属于测绘地图大数据研究中的高级解译阶段，是研究地图中所包含的场景模式，以及场景模式的下的潜在信息。然而，传统的地图处理算法、面向对象的地图分析、机器学习等等主要关注于对预定地图场景进行分类，单纯的分类结果往往无法表征复杂的地图场景。现有的通过卷积神经网络进行场景识别也是依赖于完备的地图标注数据，往往只能识别预定的地图场景，不具备逻辑推理和泛化的知识能力。而来源广泛的地图，即泛源地图场景则十分复杂，描述同一类地物和现象的地图场景往往具有很大的差异性。因此，需要对现有的地图场景分类方法进行进一步的优化和改进，使之能够具备一定的逻辑推理和知识泛化能力，适应于复杂的泛源地图场景识别。发明内容本发明所要解决的技术问题是：针对地图场景识别，传统的地图处理算法、面向对象的地图分析、机器学习等等主要关注于对预定地图场景进行分类，单纯的分类结果往往无法表征复杂的地图场景。现有的通过卷积神经网络进行场景识别也是依赖于完备的地图标注数据，往往只能识别预定的地图场景，不具备逻辑推理和泛化的知识能力。而泛源地图场景则十分复杂，描述同一类地物和现象的地图场景往往具有很大的差异性。为解决上述技术问题，本发明提出了视觉特征与向量语义空间耦合的地图场景识别方法及系统，采用以下技术方案：一种视觉特征与向量语义空间耦合的地图场景识别方法，分别针对待处理栅格地图数据库中的各栅格地图，执行以下步骤，对栅格地图进行场景识别，获得各栅格地图分别对应的场景表征：步骤A：针对栅格地图，结合预设各场景类型，利用预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，对该栅格地图进行多标签分类，获得该栅格地图对应的各场景类型、以及各场景类型分别对应的概率；进而获得该栅格地图对应的场景类型结果；步骤B：基于该栅格地图对应的场景类型结果，获得该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重；步骤C：基于该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重，结合预设各场景类型，获得该栅格地图对应的场景表征。作为本发明的一种优选技术方案，所述步骤A中，具体执行以下步骤，获得该栅格地图对应的场景类型结果：步骤A1：针对待处理栅格地图数据库中的栅格地图，结合预设各场景类型，利用预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，对该栅格地图进行多标签分类，获得该栅格地图对应的各场景类型和各场景类型分别对应的概率；步骤A2：基于该栅格地图对应的各场景类型、以及各场景类型分别对应的概率，结合预设概率阈值，判断满足预设概率阈值的场景类型数量是否大于1，若满足预设概率阈值的场景类型数量不大于1，则满足预设概率阈值对应的场景类型，作为该栅格地图对应的场景类型结果；若满足预设概率阈值的场景类型数量大于1，迭代执行以下步骤，获得该栅格地图对应的场景类型结果：步骤A2.1：将栅格地图基于预设网格划分，获得预设个数子栅格地图；基于预设栅格地图尺寸，判断网格划分后的各子栅格地图是否小于预设栅格地图尺寸，若网格划分后的各子栅格地图均小于预设栅格地图尺寸，则当前在各迭代中满足预设概率阈值对应的各场景类型，作为该栅格地图对应的场景类型结果；若网格划分后的各子栅格地图中存在不小于预设栅格地图尺寸的子栅格地图，则不小于预设栅格地图尺寸的子栅格地图执行步骤A2.2；步骤A2.2：针对不小于预设栅格地图尺寸的子栅格地图，结合预设各场景类型，利用预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，对子栅格地图进行多标签分类，获得子栅格地图分应的各场景类型、以及各场景类型分别对应的概率；执行A2.3；步骤A2.3：基于子栅格地图对应的各场景类型和各场景类型分别对应的概率，结合预设概率阈值，判断各子栅格地图分别对应的满足预设概率阈值的场景类型数量是否大于1，若各子栅格地图分别对应的满足预设概率阈值的场景类型数量均不大于1，则当前在各迭代中满足预设概率阈值对应的各场景类型，作为该栅格地图对应的场景类型结果；若各子栅格地图中存在子栅格地图对应的满足预设概率阈值的场景类型数量大于1，则对应的满足预设概率阈值的场景类型数量大于1的子栅格地图返回执行步骤A2.1，将子栅格地图作为栅格地图进行预设网格划分。作为本发明的一种优选技术方案，所述步骤B中，基于该栅格地图对应的场景类型结果，具体执行以下步骤，获得该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重：步骤B1：针对该栅格地图对应的场景类型结果中的各场景类型，通过以下公式，计算各场景类型在该栅格地图中的频率；式中，cfc表示场景类型c在该栅格地图中出现的频率，freqc表示该栅格地图对应的场景类型结果中是否存在场景类型c，存在时freqc＝1，不存在时freqc＝0；freqk，s，c表示第k次网格划分获得的子栅格地图s对应的场景类型结果中是否存在场景类型c，存在时freqk，s，c＝1，不存在时freqk，s，c＝0；sk表示第k次网格划分获得的子栅格地图总数量；b表示栅格地图进行网格划分获得的预设个数子栅格地图数量；步骤B2：基于各场景类型在该栅格地图中的频率，通过以下公式，计算各场景类型的的反频率；式中，a＝mo/mmin，mo表示该栅格地图尺寸、mmin表示最后一次网格划分的子栅格地图中尺寸最小的子栅格地图尺寸；imfc表示场景类型c在该栅格地图中出现的反频率；kmax表示网格划分的总次数；步骤B3：基于该栅格地图对应的场景类型结果中的各场景类型在该栅格地图中的频率、以及各场景类型的的反频率，通过以下公式，获得该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重；wc＝cfc×imfc式中，wc表示场景类型c在该栅格地图中的权重。作为本发明的一种优选技术方案，所述步骤C中，基于该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重，结合预设各场景类型，获得该栅格地图对应的场景表征W如下所示：W＝式中，wc表示场景类型c在该栅格地图中的权重；n表示预设各场景类型总数，对于该栅格地图对应的场景类型结果中不包含的各场景类型的权重取0。作为本发明的一种优选技术方案，基于待处理栅格地图数据库中的各栅格地图分别对应的场景表征，针对待处理栅格地图数据库中的目标栅格地图，通过以下公式，获得目标栅格地图与待处理栅格地图数据库中栅格地图的场景相似度，进而实现两栅格地图场景相似识别：式中，Ii表示对待处理栅格地图数据库中的目标栅格地图；Ij表示待处理栅格地图数据库中的任意一栅格地图；sim表示栅格地图Ii和Ij的场景相似度，wi，c表示场景类型c在栅格地图Ii中的权重，wj，c表示场景类型c在栅格地图Ij中的权重；n表示预设各场景类型总数。作为本发明的一种优选技术方案，针对该栅格地图对应的场景类型结果，基于文档词条矩阵，建立地图视觉场景—地图语义模型，用于执行步骤B-C；地图视觉场景—地图语义模型中：将预设各场景类型对应词；该栅格地图划分的子栅格地图对应文档词条矩阵中的文本；该栅格地图对应文档词条矩阵中的文本集；该栅格地图对应的场景表征对应文档词条矩阵中的文本集主题。作为本发明的一种优选技术方案，所述分类模型采用预设深度卷积神经网络。一种基于所述一种视觉特征与向量语义空间耦合的地图场景识别方法的系统，包括多标签分类模块、场景类型结果识别模块、权重计算模块、场景表征模块，分别针对待处理栅格地图数据库中的各栅格地图，结合预设各场景类型，多标签分类模型用于对栅格地图进行多标签分类，获得栅格地图对应的各场景类型、以及各场景类型分别对应的概率；场景类型结果识别模块基于栅格地图对应的各场景类型、以及各场景类型分别对应的概率，用于获得栅格地图对应的场景类型结果；权重计算模块基于栅格地图对应的场景类型结果，用于获得栅格地图对应的场景类型结果中各场景类型分别在栅格地图中的权重；场景表征模块基于栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重，结合预设各场景类型，用于获得栅格地图对应的场景表征。作为本发明的一种优选技术方案，还包括地图相似度计算模块，基于待处理栅格地图数据库中的各栅格地图分别对应的场景表征，针对待处理栅格地图数据库中的目标栅格地图，地图相似度计算模块用于计算目标栅格地图与待处理栅格地图数据库中栅格地图的场景相似度。一种视觉特征与向量语义空间耦合的栅格地图场景识别终端，包括存储器和处理器，所述存储器和所述处理器之间互相通信连接，所述存储器中存储有计算机程序，所述处理器通过执行所述计算机程序，从而执行所述一种视觉特征与向量语义空间耦合的地图场景识别方法。本发明的有益效果是：本发明提出了视觉特征与向量语义空间耦合的地图场景识别方法及系统，本发明将卷积神经网络所提取的多层次视觉特征和地图语义信息相结合，对现有的地图场景识别方法进行进一步的优化和改进，使之能够具备一定的逻辑推理和知识泛化能力，适应于复杂的地图场景识别，既可有效利用现有先进的深度卷积神经网络在视觉特征提取和特征识别的强大能力，又可利用地图语义分析的手段赋予模型逻辑推理的能力，并且进一步提升了场景相似度识别的精度。本发明可为地图内容识别、泛源地图检索、空间情感等等提供直接的参考和支持。附图说明图1为本发明实施例的原理图；图2为本发明实施例中网格划分流程的示例图；图3为本发明实施例中多标签分类计算的示例图；图4为本发明实施例中地图场景多标签分类信息映射到文本语义的示例图。具体实施方式下面结合附图对本发明进行进一步说明。下面的实施例可使本专业技术人员更全面地理解本发明，但不以任何方式限制本发明。一种视觉特征与向量语义空间耦合的地图场景识别方法，如图1所示，分别针对待处理栅格地图数据库中的各栅格地图，执行以下步骤，对栅格地图进行场景识别，获得各栅格地图分别对应的场景表征：步骤A：针对栅格地图，结合预设各场景类型，利用预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，对该栅格地图进行多标签分类，获得该栅格地图对应的各场景类型、以及各场景类型分别对应的概率；进而获得该栅格地图对应的场景类型结果。所述步骤A中，具体执行以下步骤，获得该栅格地图对应的场景类型结果：步骤A1：针对待处理栅格地图数据库中的栅格地图，结合预设各场景类型，利用预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，对该栅格地图进行多标签分类，获得该栅格地图对应的各场景类型和各场景类型分别对应的概率。步骤A2：基于该栅格地图对应的各场景类型、以及各场景类型分别对应的概率，结合预设概率阈值，判断满足预设概率阈值的场景类型数量是否大于1，默认没有小于1的存在，若满足预设概率阈值的场景类型数量不大于1，则满足预设概率阈值对应的场景类型，作为该栅格地图对应的场景类型结果；若满足预设概率阈值的场景类型数量大于1，如图2所示，迭代执行步骤A2.1至步骤A2.3，获得该栅格地图对应的场景类型结果。在本实施例中，针对原始栅格地图的预设概率阈值取0.75，如果对进行多标签分类的结果中，大于预设概率阈值的场景类型数量等于1，则大于预设概率阈值的场景类型作为该这个地图的类别，记为freqc＝1，c∈，不大于预设概率阈值的场景类型，记为freqc＝0；若大于预设概率阈值的场景类型数量大于1，则大于预设概率阈值的各场景类型记为freqc＝1，c∈，不大于预设概率阈值的场景类型，记为freqc＝0；并且迭代执行步骤A2.1至步骤A2.3。其中，c是场景类型的索引，共有n个场景类型。步骤A2.1：将栅格地图基于预设网格划分，获得预设个数子栅格地图；基于预设栅格地图尺寸，判断网格划分后的各子栅格地图是否小于预设栅格地图尺寸，若网格划分后的各子栅格地图均小于预设栅格地图尺寸，则当前在各迭代中满足预设概率阈值对应的各场景类型，作为该栅格地图对应的场景类型结果；若网格划分后的各子栅格地图中存在不小于预设栅格地图尺寸的子栅格地图，则不小于预设栅格地图尺寸的子栅格地图执行步骤A2.2。在本实施例中，对栅格地图进行基于预设网格划分，即对栅格地图进行四等分，获得四个子栅格地图，各子栅格地图的大小为x和y分别表示栅格地图的长和宽；预设栅格地图尺寸为64像素×64像素。各子栅格地图表示为/＞k表示网格划分的层级，即网格划分的次数；s表示网格划分后地图子区域的序号，第k次网格划分获得的子栅格地图总数量为sk。步骤A2.2：针对不小于预设栅格地图尺寸的子栅格地图，结合预设各场景类型，利用预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，对子栅格地图进行多标签分类，获得子栅格地图分应的各场景类型、以及各场景类型分别对应的概率；执行A2.3。在本实施例中，多标签分类是指对一幅地图场景中所包含的多个可能的类别进行标注，多标签分类结果采用“预测类别+预测概率”的形式，如图3所示。设结合预设各场景类型的样本空间为X＝{x1，x2，…，xn}，其中，n等于结合预设各场景类型总数量。多标签分类的结果表示为Lk＝{l1，l2，…，lm}，且m＝n。其中，lk表示每一个分类标签，且每一个分类标签的结果为0～1；0表示0％的概率为该类别，而1表示100％的概率为该类别。步骤A2.3：基于子栅格地图对应的各场景类型和各场景类型分别对应的概率，结合预设概率阈值，判断各子栅格地图分别对应的满足预设概率阈值的场景类型数量是否大于1，若各子栅格地图分别对应的满足预设概率阈值的场景类型数量均不大于1，则当前在各迭代中满足预设概率阈值对应的各场景类型，作为该栅格地图对应的场景类型结果；若各子栅格地图中存在子栅格地图对应的满足预设概率阈值的场景类型数量大于1，则对应的满足预设概率阈值的场景类型数量大于1的子栅格地图返回执行步骤A2.1，将子栅格地图作为栅格地图进行预设网格划分，即将子栅格地图作为步骤A2.1中预设网格划分的对象。在本实施例中，各迭代中的预设概率阈值取0.6；freqk，s，c表示第k次网格划分获得的子栅格地图s对应的场景类型结果中是否存在场景类型c，存在时freqk，s，c＝1，不存在时freqk，s，c＝0，其中，c是场景类型的索引，共有n个场景类型。在本实施例中，地图对应的预设各场景类型具体如下所示：预设各场景类型的标注为包含五个级别的数据结构，包括如下：第一层：二维平面地图、三维立体地图第二层：地形地图、交通地图、城市地图、水系地图、区划地图、室内地图、夜光地图；第三层：传统地图、数字地图、实景/影像地图、线划地图、漫画地图、数字高程模型；第四层：彩色绘图、单色绘图；第五级别：正射角度、斜射角度。地图场景类型不限于上述各场景类型，地图场景类型可包括现有的开源基准数据集所涉及的所有场景类型或基于待处理栅格地图数据库需求设定各场景类型；所述分类模型采用预设深度卷积神经网络，如ResNet。本实施例中，所述预训练的以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型，具体通过以下步骤获得：步骤1：建立泛源地图场景类型基准数据集，场景类型的标注为上述预设各场景类型。步骤2：对步骤1所建立的标注后的数据集进行数据增强操作，建立扩展基准数据集。在本实施例中，数据增强操作包括旋转、翻转、尺度变化、对比度改变、亮度调节以及云雾噪声增加。具体如下所述：旋转操作对原始样本每旋转十度生成1张新图像，共生成36张新样本。翻转操作对原始样本水平和垂直各自进行翻转，生成2张新样本。尺度变化操作对原始样本及旋转操作和翻转操作后的图像基于四种尺度进行缩放：1:4、1:2、2:1和4:1，共生成156张新样本。对比度更改操作对尺度变化操作后的样本用一种Adaptive Gamma CorrectionWith Weighting Distribution的方法进行增强处理，Gamma系数分别为：0.2、0.4、0.6和0.8。共生成624张新样本。亮度调节操作对对比度更改操作生成的样本随机生成2张不同亮度的新样本，共生成1248张新样本。云雾噪声增加操作对亮度调节操作生成的样本任意位置覆盖大小随机的云雾区域生成4张新样本，共生成4992张新样本。本实施例中，基于步骤1所建立的基准数据集，对待处理栅格地图数据库内每一张地图执行如上表所示的数据增强后，均可新增生成4992张样本。步骤3：基于步骤2生成的扩展基准数据集，对预设深度卷积神经网络进行训练和网络结构调式；获得以栅格地图为输入、以栅格地图对应的各场景类型及各场景类型分别对应的概率为输出的分类模型。所采用的深度卷积神经网络还可采用公开的卷积神经网络模型，包括：ResNet、Inception-ResNet和DenseNet。步骤B：基于该栅格地图对应的场景类型结果，获得该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重；所述步骤B中，基于该栅格地图对应的场景类型结果，具体执行以下步骤，获得该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重：步骤B1：针对该栅格地图对应的场景类型结果中的各场景类型，通过以下公式，计算各场景类型在该栅格地图中的频率；式中，cfc表示场景类型c在该栅格地图中出现的频率，freqc表示该栅格地图对应的场景类型结果中是否存在场景类型c，存在时freqc＝1，不存在时freqc＝0；freqk，s，c表示第k次网格划分获得的子栅格地图s对应的场景类型结果中是否存在场景类型c，存在时freqk，s，c＝1，不存在时freqk，s，c＝0；sk表示第k次网格划分获得的子栅格地图总数量；b表示栅格地图进行网格划分获得的预设个数子栅格地图数量；在本实施例中，基于对栅格地图进行进行四等分，各场景类型在该栅格地图中的频率公式如下所示：步骤B2：基于各场景类型在该栅格地图中的频率，通过以下公式，计算各场景类型的的反频率；式中，a＝mo/mmin，mo表示该栅格地图尺寸、mmin表示最后一次网格划分的子栅格地图中尺寸最小的子栅格地图尺寸；imfc表示场景类型c在该栅格地图中出现的反频率；kmax表示网格划分的总次数；步骤B3：基于该栅格地图对应的场景类型结果中的各场景类型在该栅格地图中的频率、以及各场景类型的的反频率，通过以下公式，获得该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重；wc＝cfc×imfc式中，wc表示场景类型c在该栅格地图中的权重。步骤C：基于该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重，结合预设各场景类型，获得该栅格地图对应的场景表征。所述步骤C中，基于该栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重，结合预设各场景类型，获得该栅格地图对应的场景表征W如下所示：W＝式中，wc表示场景类型c在该栅格地图中的权重；n表示预设各场景类型总数，对于该栅格地图对应的场景类型结果中不包含的各场景类型的权重取0。针对该栅格地图对应的场景类型结果，基于文档词条矩阵，建立地图视觉场景—地图语义模型，即Term-document模型，将地图的多标签分类信息映射到文本语义的计算中，用于执行步骤B-C；文档词条矩阵包括词、文本、文本集，以及文本集的主题；如图4所示，地图视觉场景—地图语义模型中：将预设各场景类型对应词；该栅格地图划分的子栅格地图对应文档词条矩阵中的文本；该栅格地图对应文档词条矩阵中的文本集；该栅格地图对应的场景表征对应文档词条矩阵中的文本集主题。基于待处理栅格地图数据库中的各栅格地图分别对应的场景表征，针对待处理栅格地图数据库中的目标栅格地图，采用改进的Cosine相似度进行分析，具体公式如下，获得目标栅格地图与待处理栅格地图数据库中栅格地图的场景相似度，进而实现两栅格地图场景相似识别：式中，Ii表示对待处理栅格地图数据库中的目标栅格地图；Ij表示待处理栅格地图数据库中的任意一栅格地图；sim表示栅格地图Ii和Ij的场景相似度，wi，c表示场景类型c在栅格地图Ii中的权重，wj，c表示场景类型c在栅格地图Ij中的权重；n表示预设各场景类型总数。本实施例中，可基于目标栅格地图与待处理栅格地图数据库中栅格地图的场景相似度，从待处理栅格地图数据库中获得与目标栅格地图基于相似度关联要求的栅格地图。基于上述方法，本方案还设计了一种视觉特征与向量语义空间耦合的地图场景识别方法的系统，包括多标签分类模块、场景类型结果识别模块、权重计算模块、场景表征模块，分别针对待处理栅格地图数据库中的各栅格地图，结合预设各场景类型，多标签分类模型用于对栅格地图进行多标签分类，获得栅格地图对应的各场景类型、以及各场景类型分别对应的概率；场景类型结果识别模块基于栅格地图对应的各场景类型、以及各场景类型分别对应的概率，用于获得栅格地图对应的场景类型结果；权重计算模块基于栅格地图对应的场景类型结果，用于获得栅格地图对应的场景类型结果中各场景类型分别在栅格地图中的权重；场景表征模块基于栅格地图对应的场景类型结果中各场景类型分别在该栅格地图中的权重，结合预设各场景类型，用于获得栅格地图对应的场景表征。一种视觉特征与向量语义空间耦合的地图场景识别方法的系统还包括地图相似度计算模块，基于待处理栅格地图数据库中的各栅格地图分别对应的场景表征，针对待处理栅格地图数据库中的目标栅格地图，地图相似度计算模块用于计算目标栅格地图与待处理栅格地图数据库中栅格地图的场景相似度。另外，本方案还包括一种视觉特征与向量语义空间耦合的栅格地图场景识别终端，包括存储器和处理器，所述存储器和所述处理器之间互相通信连接，所述存储器中存储有计算机程序，所述处理器通过执行所述计算机程序，从而执行所述一种视觉特征与向量语义空间耦合的地图场景识别方法。本发明设计了视觉特征与向量语义空间耦合的地图场景识别方法及系统，本发明将卷积神经网络所提取的多层次视觉特征和地图语义信息相结合，对现有的地图场景识别方法进行进一步的优化和改进，使之能够具备一定的逻辑推理和知识泛化能力，适应于复杂的地图场景识别。既可有效利用现有先进的深度卷积神经网络在视觉特征提取和特征识别的强大能力，又可利用地图语义分析的手段赋予模型逻辑推理的能力，并且进一步提升了场景相似度识别的精度。本发明可为地图内容识别、泛源地图检索、空间情感等等提供直接的参考和支持。以上仅为本发明的较佳实施例，但并不限制本发明的专利范围，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来而言，其依然可以对前述各具体实施方式所记载的技术方案进行修改，或者对其中部分技术特征进行等效替换。凡是利用本发明说明书及附图内容所做的等效结构，直接或间接运用在其他相关的技术领域，均同理在本发明专利保护范围之内。
