标题title
一种分布式高速信号收发处理系统
摘要abst
本发明公开了一种分布式高速信号收发处理系统，包括前端信号收发器、高速总线适配器以及后端信号处理机，高速总线适配器包括主雷电接口以及级联雷电接口，前端信号收发器通过PCIE线缆通信连接高速总线适配器，高速总线适配器通过主雷电接口通信连接后端信号处理机，高速总线适配器通过级联雷电接口通信连接扩展高速总线适配器，扩展高速总线适配器通过内部的级联雷电接口通信连接下一扩展高速总线适配器，且扩展高速总线适配器设置有扩展PCIE线缆接口；由此，本发明在物理上可实现远程分布式连接，同时，系统的尺寸小巧、算力强大、成本低廉，具有可热插拔、可灵活组合、可远程连接以及可分布式拓展的优点，适用于大规模应用与推广。
权利要求书clms
1.一种分布式高速信号收发处理系统，其特征在于，包括：前端信号收发器、高速总线适配器以及后端信号处理机，且所述前端信号收发器包括有第一通信互联单元；所述前端信号收发器通过PCIE线缆通信连接所述高速总线适配器，用于利用所述第一通信互联单元将外部设备发送的第一信号进行第一信号处理，得到处理后的第一信号，并将处理后的第一信号发送至所述高速总线适配器；和/或所述前端信号收发器，还用于接收所述高速总线适配器发送的第二信号，并通过所述第一通信互联单元对所述第二信号进行第二信号处理，得到处理后的第二信号，以便将处理后的第二信号发送至所述外部设备；所述高速总线适配器包括主雷电接口以及级联雷电接口，其中，所述高速总线适配器通过所述主雷电接口通信连接所述后端信号处理机，用于将所述处理后的第一信号发送至所述后端信号处理机，或接收所述后端信号处理机发送的第二信号；所述高速总线适配器通过所述级联雷电接口通信连接扩展高速总线适配器，其中，所述扩展高速总线适配器通过内部的级联雷电接口通信连接下一扩展高速总线适配器，以实现所述高速总线适配器和多个扩展高速总线适配器之间的级联连接，且所述扩展高速总线适配器设置有扩展PCIE线缆接口，用于通过所述扩展PCIE线缆接口通信连接扩展前端信号收发器，以实现所述前端信号收发器和多个扩展前端信号收发器之间的级联连接。2.如权利要求1所述的一种分布式高速信号收发处理系统，其特征在于，所述前端信号收发器还包括：第一线缆式PCIE连接器，且所述第一通信互联单元包括：第一通信互联处理单元、数据转换单元以及模拟前端；所述第一线缆式PCIE连接器的第一传输端通过所述PCIE线缆通信连接所述高速总线适配器，用于接收所述第二信号，所述第一线缆式PCIE连接器的第二传输端通信连接所述第一通信互联处理单元的第一接收端，用于将所述第二信号输入至所述第一通信互联处理单元中进行信号预处理，得到预处理第二信号；所述第一通信互联处理单元的第一发送端通信连接所述数据转换单元的数字信号输入端，用于将预处理第二信号输入至所述数据转换单元进行数模转换，得到处理后的第二信号；所述数据转换单元的模拟信号输出端通信连接所述模拟前端，用于通过所述模拟前端将所述处理后的第二信号传输至所述外部设备；所述模拟前端还用于接收所述外部设备发送的第一信号，其中，所述模拟前端通信连接所述数据转换单元的模拟信号输入端，用于将所述第一信号输入至所述数据转换单元中进行模数转换，得到数字第一信号；所述数据转换单元的数字信号输出端通信连接所述第一通信互联处理单元的第二接收端，用于将所述数字第一信号传输至第一通信互联处理单元进行信号处理，得到处理后的第一信号；所述第一通信互联处理单元的第二发送端通信连接所述第一线缆式PCIE连接器的第二传输端，用于通过第一线缆式PCIE连接器将处理后的第一信号传输至所述高速总线适配器。3.如权利要求2所述的一种分布式高速信号收发处理系统，其特征在于，所述前端信号收发器还包括：时钟和触发信号接口、锁相环控制单元以及晶体振荡器；所述时钟和触发信号接口电连接所述锁相环控制单元，用于将接收的外部时钟信号发送至所述锁相环控制单元，所述晶体振荡器电连接所述锁相环控制单元，用于产生时基信号，并发送至所述锁相环控制单元；所述锁相环控制单元用于根据所述外部时钟信号以及所述时基信号，生成系统时钟信号，以使所述前端信号收发器和所述扩展前端信号收发器基于所述系统时钟信号同步运行；所述时钟和触发信号接口还电连接所述第一通信互联处理单元，用于将接收的触发信号发送至所述第一通信互联处理单元，以使所述第一通信互联处理单元基于所述触发信号触发内部的处理机制。4.如权利要求1所述的一种分布式高速信号收发处理系统，其特征在于，所述高速总线适配器还包括：第二线缆式PCIE连接器、双路PCIE时钟发生器以及雷电控制器；所述第二线缆式PCIE连接器的第一传输端通过所述PCIE线缆通信连接所述前端信号收发器，所述第二线缆式PCIE连接器的第二传输端通信连接所述雷电控制器，其中，所述双路PCIE时钟发生器分别通信连接所述第二线缆式PCIE连接器以及所述雷电控制器，且所述雷电控制器通信连接主雷电接口，以基于所述主雷电接口通信连接所述后端信号处理机；所述扩展高速总线适配器通过所述级联雷电接口通信连接所述雷电控制器，以在扩展高速总线适配器存在多个时，基于每个扩展高速总线适配器上的级联雷电接口实现所述高速总线适配器与多个扩展高速总线适配器之间的级联连接。5.如权利要求4所述的一种分布式高速信号收发处理系统，其特征在于，所述高速总线适配器还包括：第一USB端口控制器、第二USB端口复用器以及第三USB端口控制器；所述级联雷电接口还分别通信连接所述第一USB端口控制器以及所述第二USB端口复用器，其中，所述第一USB端口控制器和所述第二USB端口复用器分别通过I2C总线通信连接所述雷电控制器，且所述第二USB端口复用器还通信连接所述主雷电接口；所述主雷电接口还通过所述第三USB端口控制器通信连接所述雷电控制器，以基于所述第三USB端口控制器实现与所述雷电控制器的USB通信。6.如权利要求4所述的一种分布式高速信号收发处理系统，其特征在于，所述高速总线适配器还包括：第一电源电路，其中，所述第一电源电路电连接所述主雷电接口，用于基于所述主雷电接口为所述高速总线适配器供电。7.如权利要求1所述的一种分布式高速信号收发处理系统，其特征在于，所述后端信号处理机包括：第一模块，或第一模块和第二模块，其中，第一模块包括中央处理单元、主板芯片、从雷电控制器和从雷电接口，第二模块包括图像处理单元和第二通信互联处理单元；所述中央处理单元分别通信连接所述图像处理单元以及所述第二通信互联处理单元，所述中央处理单元还通过所述主板芯片通信连接所述从雷电控制器，所述从雷电控制器通过所述从雷电接口通信连接所述高速总线适配器，以接收所述高速总线适配器发送的处理后的第一信号，以及向所述高速总线适配器发送第二信号。8.如权利要求7所述的一种分布式高速信号收发处理系统，其特征在于，所述后端信号处理机还包括：第二电源电路以及第四USB端口控制器，其中，所述第二电源电路分别电连接从雷电接口和第四USB端口控制器，用于通过从雷电接口为所述后端信号处理机供电；所述从雷电接口还通信连接所述第四USB端口控制器，用于基于所述第四USB端口控制器实现USB通信。9.如权利要求7所述的一种分布式高速信号收发处理系统，其特征在于，所述主板芯片还电连接有外设设备，且所述中央处理单元与所述图像处理单元之间，以及所述中央处理单元与所述第二通信互联处理单元之间均采用PCIE总线连接。10.如权利要求1所述的一种分布式高速信号收发处理系统，其特征在于，所述PCIE线缆包括：PCIE铜线线缆或PCIE光纤线缆，且所述扩展PCIE线缆接口包括PCIE Gen nxm总线接口，其中，n和m为大于或等于1的正整数。
说明书desc
技术领域本发明属于高速信号收发和处理技术领域，具体涉及一种分布式高速信号收发处理系统。背景技术随着模拟电路、数字电路和信号处理技术的快速发展，高速信号收发和实时信号处理的需求越来越多，比如雷达、通信、瞬态信号、复杂电磁环境等领域的应用都会涉及到高带宽或高速信号的接收和发射，以及存在对信号进行实时分析和实时生成的高性能计算需求，尤其是研究者在进行外场多通道信号收发和处理时，会需要便携、远程和分布式的信号收发和处理系统，因此，高速信号收发系统应运而生，该系统一般需要使用采样率达到数百MS/s至1GS/s之间，甚至1GS/s以上的ADC和DAC来采集或发送模拟信号，所以其产生的数字信号数据率可达到数GB/s，不仅对于数据传输的距离和速率要求很高，对数据的实时处理性能要求也很高，而如果需要构建分布式多通道系统，则系统内传输和处理的数据量会成倍上升，不仅如此，此类系统的需求多变，其通道数量、传输距离、连接拓扑等也有诸多变化，这就造成了既要高速率通信和高性能处理的特性，又需要灵活多变和可自定义的特性，而这两者往往难以兼顾。目前能够完成高速、高带宽信号收发的设备，尤其是同时能够进行实时信号处理的设备，以商用台式仪器和专用定制设备为主，商用台式仪器系统通常针对室内桌面工作场景设计，比如常见的实时频谱分析仪、高速任意波形发生器和矢量信号收发仪等，其虽然具有指标高、功能强的优点，但是其内部组件多、体积大、重量重、功耗高，且功能固定常常无法满足多变的用户应用需求，更无法应用于便携、远程和分布式部署的应用场景。而专用定制设备通过软硬件定制可实现对用户需求的良好匹配，但往往因为硬件、驱动程序、应用软件等均需要定制实现，设计优化迭代次数少，导致成熟度低、易用性差、扩展能力弱、可升级维护性差，体积、重量、功耗都难以做到理想状态，尤其对于远程和分布式信号收发和处理系统，其多个子系统之间需要建立高速的长距离通信连接，所以通常采用以高速串行接口或高速以太网进行上位机和下位机连接，从而实现分布式扩展，常见的高速串行协议比如RapidIO协议和Aurora协议，虽然在功能和性能上都能满足要求，但是其硬件和软件定制度和研发复杂度都很高，会造成成本高昂以及维护升级难度大；而如果采用高速以太网接口，虽然可以降低系统构建成本，但因为IP网络需要以交换机来构建多节点的拓扑，其数据传输延迟抖动大，对于部分需要实时闭环响应的应用而言不能满足需求。同时，不管是利用RapidIO、Aurora或是IP网络构建系统，都需要独立开发上下位机的系统程序，尤其涉及分布式多通道系统时开发难度会显著增加，难以用统一的系统结构适应变化多端的用户需求；因此，提供一种架构简单、扩展性强、开发容易，且尺寸小巧的信号收发处理系统迫在眉睫。发明内容本发明的目的是提供一种分布式高速信号收发处理系统，以解决商用台式仪器所存在的体积大、重量重和无法应用于便携、远程和分布式部署的应用场景的问题，以及专用定制设备所存在的扩展能力弱、可升级维护性差和开发难度高的问题。为了实现上述目的，本发明采用以下技术方案：第一方面，本发明提供了一种分布式高速信号收发处理系统，包括：前端信号收发器、高速总线适配器以及后端信号处理机，且所述前端信号收发器包括有第一通信互联单元；所述前端信号收发器通过PCIE线缆通信连接所述高速总线适配器，用于利用所述第一通信互联单元将外部设备发送的第一信号进行第一信号处理，得到处理后的第一信号，并将处理后的第一信号发送至所述高速总线适配器；和/或所述前端信号收发器，还用于接收所述高速总线适配器发送的第二信号，并通过所述第一通信互联单元对所述第二信号进行第二信号处理，得到处理后的第二信号，以便将处理后的第二信号发送至所述外部设备；所述高速总线适配器包括主雷电接口以及级联雷电接口，其中，所述高速总线适配器通过所述主雷电接口通信连接所述后端信号处理机，用于将所述处理后的第一信号发送至所述后端信号处理机，或接收所述后端信号处理机发送的第二信号；所述高速总线适配器通过所述级联雷电接口通信连接扩展高速总线适配器，其中，所述扩展高速总线适配器通过内部的级联雷电接口通信连接下一扩展高速总线适配器，以实现所述高速总线适配器和多个扩展高速总线适配器之间的级联连接，且所述扩展高速总线适配器设置有扩展PCIE线缆接口，用于通过所述扩展PCIE线缆接口通信连接扩展前端信号收发器，以实现所述前端信号收发器和多个扩展前端信号收发器之间的级联连接。基于上述公开的内容，本发明把传统集成信号收发和处理，设备互联和高速数据传输，以及数据计算和系统控制这三类功能的收发系统，分解为前端信号收发器、高速总线适配器以及后端信号处理机三个子系统，前述设计可使系统功能充分解耦和标准化，并在易于组合成为复杂分布式系统的同时，能够实现整体系统的高集成度，同时，各个子系统在具备相应功能的同时，还可大幅缩小整个系统的尺寸，不仅降低了成本，便于便携式应用，还可实现信号的高精度计算和处理。其次，前端信号收发器采用PCIE线缆与高速总线适配器连接，而高速总线适配器则通过雷电接口连接后端信号处理器，由此，实现了雷电技术和线缆式PCIE技术的集成和相互转换，使得整个系统具备高速通信、可热插拔、低延迟以及长距离传输的特性，同时，每个高速总线适配器均配备有级联雷电接口，可利用级联雷电接口来连接扩展高速总线适配器，且扩展高速总线适配器设置有扩展PCIE线缆接口，基于此，可利用每个高速总线适配器上的级联雷电接口来扩展PCIE线缆接口，从而实现多个高速总线适配器之间的级联以及多个前端信号收发器的级联，以大幅提高系统的可扩展性，满足不同应用领域的使用需求。最后，高速总线适配器基于PCIE技术与前端信号收发器连接，因此，所有的前端信号收发器在后端信号处理机中都会被识别为本地PCIE设备，由此，采用PCIE技术访问和控制设备，相比于通过以太网、Aurora和RapidIO协议对一个远程设备进行访问和控制要简单得多，所以本系统的开发复杂度得以大幅降低。通过上述设计，本系统在物理上可实现远程分布式连接，同时，系统的尺寸小巧、算力强大、成本低廉，具有可热插拔、可灵活组合、可远程连接以及可分布式拓展的优点，适用于大规模应用与推广。在一个可能的设计中，所述前端信号收发器包括：所述前端信号收发器还包括：第一线缆式PCIE连接器，且所述第一通信互联单元包括：第一通信互联处理单元、数据转换单元以及模拟前端；所述第一线缆式PCIE连接器的第一传输端通过所述PCIE线缆通信连接所述高速总线适配器，用于接收所述第二信号，所述第一线缆式PCIE连接器的第二传输端通信连接所述第一通信互联处理单元的第一接收端，用于将所述第二信号输入至所述第一通信互联处理单元中进行信号预处理，得到预处理第二信号；所述第一通信互联处理单元的第一发送端通信连接所述数据转换单元的数字信号输入端，用于将预处理第二信号输入至所述数据转换单元进行数模转换，得到处理后的第二信号；所述数据转换单元的模拟信号输出端通信连接所述模拟前端，用于通过所述模拟前端将所述处理后的第二信号传输至所述外部设备；所述模拟前端还用于接收所述外部设备发送的第一信号，其中，所述模拟前端通信连接所述数据转换单元的模拟信号输入端，用于将所述第一信号输入至所述数据转换单元中进行模数转换，得到数字第一信号；所述数据转换单元的数字信号输出端通信连接所述第一通信互联处理单元的第二接收端，用于将所述数字第一信号传输至第一通信互联处理单元进行信号处理，得到处理后的第一信号；所述第一通信互联处理单元的第二发送端通信连接所述第一线缆式PCIE连接器的第二传输端，用于通过第一线缆式PCIE连接器将处理后的第一信号传输至所述高速总线适配器。在一个可能的设计中，所述前端信号收发器还包括：时钟和触发信号接口、锁相环控制单元以及晶体振荡器；所述时钟和触发信号接口电连接所述锁相环控制单元，用于将接收的外部时钟信号发送至所述锁相环控制单元，所述晶体振荡器电连接所述锁相环控制单元，用于产生时基信号，并发送至所述锁相环控制单元；所述锁相环控制单元用于根据所述外部时钟信号以及所述时基信号，生成系统时钟信号，以使所述前端信号收发器和所述扩展前端信号收发器基于所述系统时钟信号同步运行；所述时钟和触发信号接口还电连接所述第一通信互联处理单元，用于将接收的触发信号发送至所述第一通信互联处理单元，以使所述第一通信互联处理单元基于所述触发信号触发内部的处理机制。基于上述公开的内容，本发明的前端信号收发器还设置有时钟和触发信号接口、晶体振荡器以及基于锁相环机制的锁相环控制单元，其中，时钟和触发信号接口用于接收外部时钟信号和触发信号，晶体振荡器用于产生时基信号，因此，锁相环控制单元可基于时基信号和外部时钟信号来生成系统时钟信号，由此，即可在存在多个前端信号收发器时，保证多个并联或分布式连接的前端信号收发器能够同时工作，实现多个信号的同步接收和发射，同时，第一通信互联处理单元还可基于触发信号，来触发内部的处理逻辑，进行相应的信号处理，以便后续进行信号的接收或发送。在一个可能的设计中，所述高速总线适配器还包括：第二线缆式PCIE连接器、双路PCIE时钟发生器以及雷电控制器；所述第二线缆式PCIE连接器的第一传输端通过所述PCIE线缆通信连接所述前端信号收发器，所述第二线缆式PCIE连接器的第二传输端通信连接所述雷电控制器，其中，所述双路PCIE时钟发生器分别通信连接所述第二线缆式PCIE连接器以及所述雷电控制器，且所述雷电控制器通信连接主雷电接口，以基于所述主雷电接口通信连接所述后端信号处理机；所述扩展高速总线适配器通过所述级联雷电接口通信连接所述雷电控制器，以在扩展高速总线适配器存在多个时，基于每个扩展高速总线适配器上的级联雷电接口实现所述高速总线适配器与多个扩展高速总线适配器之间的级联连接。基于上述公开的内容，本发明公开了高速总线适配器的具体结构，其中，该适配器上设置有第二线缆式PCIE连接器，其通过PCIE线缆与前端信号收发器上的第一线缆式PCIE连接器建立通信连接，以实现信号的发送与接收，同时，雷电控制器与双路PCIE时钟发生器相配合，来连接第二线缆式PCIE连接器，可实现最高32Gb/s的传输速率，且传输延迟可低至微秒级，由此，可满足高速数据传输需求；另外，高速总线适配器通过级联雷电接口连接扩展高速总线适配器，而扩展高速总线适配器通过内部的级联雷电接口连接下一扩展高速总线适配器，基于此，即可实现总线适配器与多个扩展高速总线适配器之间的级联连接，从而大幅提高系统的可扩展性。在一个可能的设计中，所述高速总线适配器还包括：第一USB端口控制器、第二USB端口复用器以及第三USB端口控制器；所述级联雷电接口还分别通信连接所述第一USB端口控制器以及所述第二USB端口复用器，其中，所述第一USB端口控制器和所述第二USB端口复用器分别通过I2C总线通信连接所述雷电控制器，且所述第二USB端口复用器还通信连接所述主雷电接口；所述主雷电接口还通过所述第三USB端口控制器通信连接所述雷电控制器，以基于所述第三USB端口控制器实现与所述雷电控制器的USB通信。基于上述公开的内容，本发明还设置有三个USB端口控制器，其中，第一USB端口控制器和第三USB端口控制器为USB3.1端口控制器，而第二USB端口复用器为USB2.0端口复用器，具体应用时，通过USB 2.0端口控制器与雷电控制器和级联雷电接口相连，可实现雷电控制器的控制连接和USB 2.0接口的级联，同时，高速总线适配器的级联雷电接口，配合第一USB端口控制器可实现用于高速总线适配器的USB通信，而第二USB端口复用器的连接通路和第一USB端口控制器均可用于对高速总线适配器内各功能组件，以及级联的扩展高速总线适配器进行参数配置和数据读取。在一个可能的设计中，所述高速总线适配器还包括：第一电源电路，其中，所述第一电源电路电连接所述主雷电接口，用于基于所述主雷电接口为所述高速总线适配器供电。在一个可能的设计中，所述后端信号处理机包括：第一模块，或第一模块和第二模块，其中，第一模块包括中央处理单元、主板芯片、从雷电控制器和从雷电接口，第二模块包括图像处理单元和第二通信互联处理单元；所述中央处理单元分别通信连接所述图像处理单元以及所述第二通信互联处理单元，所述中央处理单元还通过所述主板芯片通信连接所述从雷电控制器，所述从雷电控制器通过所述从雷电接口通信连接所述高速总线适配器，以接收所述高速总线适配器发送的处理后的第一信号，以及向所述高速总线适配器发送第二信号。在一个可能的设计中，所述后端信号处理机还包括：第二电源电路以及第四USB端口控制器，其中，所述第二电源电路分别电连接从雷电接口和第四USB端口控制器，用于通过所述从雷电接口为所述后端信号处理机供电；所述从雷电接口还通信连接所述第四USB端口控制器，用于基于所述第四USB端口控制器实现USB通信。在一个可能的设计中，所述主板芯片还电连接有外设设备，且所述中央处理单元与所述图像处理单元之间，以及所述中央处理单元与所述第二通信互联处理单元之间均采用PCIE总线连接。在一个可能的设计中，所述PCIE线缆包括：PCIE Gen nxm总线接口，其中，n和m为大于或等于1的正整数。本发明具有以下有益效果：本发明通过设计出高速总线适配器，将信号收发组件和信号处理组件独立解耦成为前端信号收发器和后端信号处理机；这样的设计，使得各独立组件均可以利用标准化且高度集成的商用技术，大幅减少定制开发，也能够大幅缩小各个组件的尺寸，可在减低成本的同时，实现高性能的计算和处理；同时，定制性的需求可以通过更改前端信号收发器的设计来满足，从而降低定制修改和设计的成本，缩短定制周期。基于级联雷电接口以及扩展PCIE线缆接口，可实现多个高速总线扩展接口以及多个前端信号收发器的级联，从而大幅提高本系统的可扩展性，以适应不同领域以及环境的使用需求，同时，前端信号收发器与后端信号处理机的连接，通过高速总线适配器实现了PCIE技术与雷电接口技术之间的相互转换，因此，使得本系统具有PCIE技术的优点以及雷电接口技术的优点，即本系统实现了高速通信、可级联以及可热插拔的特性，使后端信号处理机在开机的状态下仍然能够完成设备的接入和启动；另外，前端信号收发器设计了外部采样时钟、参考时钟、GPS秒脉冲和触发信号接收和触发逻辑，能够实现多个前端信号收发器之间的同步和触发工作，从而能够完成设备、分布式的相参信号接收和发射，让本系统也可以用于诸如阵列信号收发或MIMO系统的应用。本系统使用PCIE技术实现前端信号收发器与高速总线适配器的通信连接，因此，所有的前端信号收发器在后端信号处理机中都会被识别为本地的PCIE设备，相比于传统的使用以太网、RapidIO或Aurora等通信协议来远程连接设备，本系统的管理复杂度和开发复杂度都更为简单，另外，本系统也能够继承PCIE总线的数据传输带宽大和传输延迟低的优点。通过在分布式的前端信号收发器中设计通信互联处理单元，和在集中式的后端信号处理机中设计中央处理器、图像处理器和通信互联处理单元，同时实现了分布式边缘计算和集中式异构计算的能力，从而实现多节点的大规模分布式信号处理和高性能后端信号处理，满足分布式的高带宽或高速信号处理应用的计算需求。附图说明图1为本发明提供的分布式高速信号收发处理系统的架构示意图；图2为本发明提供的前端信号收发器的结构示意图；图3为本发明提供的高速总线适配器的结构示意图；图4为本发明提供的后端信号处理机的结构示意图；图5为本发明提供的基于PCIE铜线线缆连接的第一种分布式高速信号收发处理系统的结构图；图6为本发明提供的基于PCIE铜线线缆连接的第二种分布式高速信号收发处理系统的结构图；图7为本发明提供的基于PCIE光纤线缆连接的第一种分布式高速信号收发处理系统的结构图；图8为本发明提供的基于PCIE光纤线缆连接的第二种分布式高速信号收发处理系统的结构图；图9为本发明提供的第一线缆式PCIE连接器的电路图；图10为本发明提供的第一通信互联单元的第一电路图；图11为本发明提供的第一通信互联单元的第二电路图；图12为本发明提供的第一通信互联单元的第三电路图；图13为本发明提供的时钟和触发信号接口的电路图；图14为本发明提供的锁相环控制单元的电路图；图15为图14中A处的放大示意图；图16为图14中B处的放大示意图；图17为本发明提供的OCXO板载时基的电路图；图18为本发明提供的第一通信互联单元的晶体振荡器的电路图；图19为本发明提供的第一通信互联单元的Flash存储的电路图；图20为本发明提供的前端信号收发器的第一电源电路的具体电路图；图21为本发明提供的前端信号收发器的第二电源电路的具体电路图。具体实施方式实施例参见图1～4所示，本实施例第一方面所提供的分布式高速信号收发处理系统，可以但不限于包括：前端信号收发器、高速总线适配器以及后端信号处理机，其中，高速总线适配器通过PCIE线缆和主雷电接口的转换适配，分别通过PCIE线缆与前端信号收发器连接，以及通过主雷电接口与后端信号处理机连接，实现前端信号收发器和后端信号处理机之间的高速以及低延迟数据传输链路，同时，前端信号收发器负责接收高速总线适配器传输的第二信号，或者发射外部设备传输的第一信号，同时，在内部会完成信号的处理和实时反馈或控制，而后端信号处理机则接收来自前端信号收发器发送的第一信号或向其发送第二信号，负责进行实时信号处理，以及整套设备的人机交互、硬件控制和数据管理等。在具体应用时，举例所述前端信号收发器可以但不限于包括有第一通信互联单元，所述高速总线适配器则可以但不限于包括主雷电接口，其中，所述前端信号收发器通过PCIE线缆通信连接所述高速总线适配器，用于利用所述第一通信互联单元将外部设备发送的第一信号进行第一信号处理，得到处理后的第一信号，并将处理后的第一信号发送至所述高速总线适配器；同时，所述前端信号收发器，还用于接收所述高速总线适配器发送的第二信号，并通过所述第一通信互联单元对所述第二信号进行第二信号处理，得到处理后的第二信号，以便将处理后的第二信号发送至所述外部设备；可选的，前述第一信号处理和第二信号处理过程可以为第一信号和第二信号的预处理，以及对预处理后的信号进行模数转换或数模转换，以满足信号传输要求。同时，所述高速总线适配器通过所述主雷电接口通信连接所述后端信号处理机，用于将所述处理后的第一信号发送至所述后端信号处理机，或接收所述后端信号处理机发送的第二信号；由此，本发明相当于将传统集成有信号收发和控制、信号高速传输以及信号处理三个功能的收发系统，分解为前述前端信号收发器、高速总线适配器以及后端信号处理机三个子系统，从而将传统系统的功能充分解耦和标准化，以使三个子系统在易于组合成为复杂分布式系统的同时，能够实现整体系统的高集成度，另外，将传统的收发系统分解为前述三个子系统，还可大幅缩小整个系统的尺寸，不仅降低了成本，还便于便携式应用。另外，由于本系统使用PCIE技术实现前端信号收发器与高速总线适配器的通信连接，因此，所有的前端信号收发器在后端信号处理机中都会被识别为本地的PCIE设备，而利用PICE技术进行设备的访问与控制，相比于传统的使用以太网、RapidIO或Aurora等通信协议来远程连接设备，其管理复杂度和开发复杂度都更为简单，如此一来，整个系统虽然在物理上是分布式远程连接的结构，但对于后端信号处理机而言却都是本地设备，通过上述设计，该种结构易于实现设备访问和管理，且可以利用大量现成的软件开发工具和软件生态体系，让软件研发的复杂度和工作量得以大幅下降，系统成本大幅降低，同时可靠性以及开发性大幅提高。更进一步的，为提高了本系统的可扩展性，从而满足不同使用环境以及领域的信号收发需求，本实施例还在高速总线适配器上设置有级联雷电接口，在具体应用时，所述高速总线适配器通过所述级联雷电接口通信连接扩展高速总线适配器，其中，所述扩展高速总线适配器通过内部的级联雷电接口通信连接下一扩展高速总线适配器；通过上述设计，相当于高速总线适配器通过级联雷电接口连接一扩展高速总线适配器，而扩展高速总线适配器还可使用内部的级联雷电接口来连接下一扩展高速总线适配器，由此，重复上述连接操作，即可将多个扩展高速总线适配器连入本系统，从而实现高速总线适配器和多个扩展高速总线适配器之间的级联连接。相应的，本实施例还在所述扩展高速总线适配器上设置有扩展PCIE线缆接口，其用于通过所述扩展PCIE线缆接口通信连接扩展前端信号收发器，由此，每引入一个扩展高速总线适配器，即可连接一扩展前端信号收发器，通过上述设计，即可实现前端信号收发器和多个扩展前端信号收发器之间的级联连接。在本实施例中，举例所述扩展PCIE线缆接口包括PCIE Gen nxm总线接口，其中，n和m为大于或等于1的正整数；如PCIE Gen1、Gen2、Gen 3以及后续升级规范，包括x1、x4、x8、x16等接口类型。由此，基于级联雷电接口以及扩展PCIE线缆接口，即可实现多个高速总线扩展接口以及多个前端信号收发器的级联，从而大幅提高本系统的可扩展性，以适应不同领域以及环境的使用需求，同时，前端信号收发器与后端信号处理机的连接，通过高速总线适配器实现了PCIE技术与雷电接口技术之间的相互转换，因此，使得本系统具有PCIE技术的优点以及雷电接口技术的优点，即前端信号收发器可采用PCIE铜线线缆实现中距离传输，以及实现PCIE光纤线缆实现远距离传输，从而可实现便携式以及远程式信号的传输，而雷电接口技术具有热插拔的特性，且同时非常方便任何类型的设备扩展，因此，不仅可提供双向40Gbps的输出传输宽带，还能够使整个系统支持热插拔机制，使后端信号处理机在开机的状态下仍然能够完成设备的接入和启动，且结合前述可级联扩展的特性，本系统可在开机状态下实现拓扑扩展，形成可热插拔的分布式信号收发和处理系统。为进一步的阐述本实施例所提供的系统，下述详细阐述前端信号收发器、高速总线适配器以及后端信号处理机的详细结构：首先，举例所述前端信号收发器可以但不限于还包括：第一线缆式PCIE连接器；同时，举例第一通信互联单元可以但不限于包括有第一通信互联处理单元、数据转换单元以及模拟前端；在本实施例中，前端信号收发器具有信号接收和发送功能，因此下述分别以前述两个功能来分别阐述前端信号收发器的具体结构：参见图2所示，对于接收来自高速总线适配器发送的第二信号，其连接结构如下：所述第一线缆式PCIE连接器的第一传输端通过所述PCIE线缆通信连接所述高速总线适配器，用于接收所述第二信号，所述第一线缆式PCIE连接器的第二传输端通信连接所述第一FPGA处理单元的第一接收端，用于将所述第二信号输入至所述第一通信互联处理单元中进行信号预处理，得到预处理第二信号，其中，在本实施例中，举例第一通信互联处理单元可以但不限于为第一FPGA处理单元，即第一FPGA处理单元一方面是基于其高速并行定点数计算的特性，来对第二信号进行预处理，如编解码和/或闭环反馈控制等，另一方面，也可完成有效数据的提取和压缩，从而降低与后端信号处理机之间的传输数据量，同时，第一FPGA处理单元具有ns级的信号处理延迟，能够满足信号的处理和传输需求；当然，在本实施例中，只要具备前述预处理功能的芯片均可使用，在此不限定于使用第一FPGA处理单元；更进一步的，举例第一通信互联处理单元的具体电路图可参见图10、图11和图12所示。对第二信号进行预处理后，则需要将预处理第二信号发送至数据转换单元，进行相应的数据转换，即所述第一通信互联处理单元的第一发送端通信连接所述数据转换单元的数字信号输入端，用于将预处理第二信号输入至所述数据转换单元进行数模转换，得到处理后的第二信号，而所述数据转换单元的模拟信号输出端则通信连接所述模拟前端，用于通过所述模拟前端将所述处理后的第二信号传输至所述外部设备；由此，即可完成第二信号向外部设备的发射。同理，对于发送来自外部设备传输的第一信号，其处理过程与第二信号的发射过程相反，如下述所示：依旧参见图2所示，所述模拟前端还用于接收所述外部设备发送的第一信号，其中，所述模拟前端通信连接所述数据转换单元的模拟信号输入端，用于将所述第一信号输入至所述数据转换单元中进行模数转换，得到数字第一信号，所述数据转换单元的数字信号输出端通信连接所述第一通信互联处理单元的第二接收端，用于将所述数字第一信号传输至第一通信互联处理单元进行信号处理，得到处理后的第一信号，而所述第一通信互联处理单元的第二发送端通信连接所述第一线缆式PCIE连接器的第二传输端，用于通过第一线缆式PCIE连接器将处理后的第一信号传输至所述高速总线适配器；由此，即可将外部设备传输的第一信号发送至后端处理机，实现外部信号的发送；在本实施例中，外部设备则是指外界的设备，即从外界接收第一信号，或将处理后的第二信号发送至外界。在本实施例中，参见图2所示，数据转换单元则包括有ADC转换器和DAC转换器，由此，其与模拟前端相结合，用于变频、放大、调理、滤波、接收和发射模拟信号，并实现模拟信号和数字信号之间的转换，从而满足信号发射要求。在本实施例中，举例第一线缆式PCIE连接器中的PCIE总线接口可以但不限于采用PCIE Gen 3x4总线接口、PCIe Gen1 x4总线接口或PCIE Gen 2x4总线接口，其中，优选为PCIE Gen3x4总线接口，PCIE Gen 3x4总线接口具有4GB/s的理论数据吞吐率，同时具有短至微秒级的传输延迟，可以为大部分的实时信号处理应用提供足够大的传输带宽和足够短的传输延迟，确保数据传输的连续性和及时性，为实时信号处理提供基础条件；当传输性能要求不高时，即可以采用PCIE Gen1 x4总线接口或PCIE Gen 2x4总线接口；可选的，第一线缆式PCIE连接器的具体电路图可参见图9所示。更进一步的，本实施例优先采用SFF-8644型连接器和配套的铜线线缆或光纤线缆，即PCIE线缆包括PCIE铜线线缆或PCIE光纤线缆，其中，SFF-8644型连接器支持线缆式PCIE Gen3和Gen4标准，且采用铜线电缆时，线缆长度最长可达到10米，而采用光纤线缆时，线缆长度最长可达到100米，由此，即可满足短距离以及长距离的传输要求。在本实施例中，PCIE Gen 3x4总线接口表示第三代且具有4个通道的PCIE总线，同理PCIe Gen1 x4总线接口则表示第一代且具有4个通道的PCIE总线，而PCIE Gen 2x4总线接口则表示第二代且具有4个通道的PCIE总线。更进一步的，由于本系统可进行扩展前端信号收发器的级联，因此，为保证在连接有多个扩展前端信号收发器时，保证各扩展前端信号收发器的同步工作，本实施例在前端信号收发器中还设置有时钟和触发信号接口、锁相环控制单元以及晶体振荡器。参见图2所示，所述时钟和触发信号接口电连接所述锁相环控制单元，用于将接收的外部时钟信号发送至所述锁相环控制单元，其中，外部时钟信号可以但不限于包括：外部的采样时钟信号、参考时钟信号和/或GPS秒脉冲信号，当然，可根据具体信号频率数量进行选择，在此不限定于前述举例。同时，所述晶体振荡器电连接所述锁相环控制单元，用于产生时基信号，并发送至所述锁相环控制单元，由此，所述锁相环控制单元则可用于根据所述外部时钟信号以及所述时基信号，生成系统时钟信号，从而使前端信号收发器和所扩展前端信号收发器基于系统时钟信号同步运行，保证信号的同步发送；具体的，是将系统时钟信号发送至各个前端信号收发器的第一通信互联处理单元、数字转换单元以及模拟前端，来实现各个前端信号收发器的同步运行；更进一步的，时钟和触发信号接口和晶体振荡器的具体电路图可参见图13和图18所示，而锁相环控制单元的电路图则参见图14，图15和图16所示。另外，所述时钟和触发信号接口还电连接所述第一通信互联处理单元，用于将接收的触发信号发送至所述第一通信互联处理单元，以使所述第一通信互联处理单元基于所述触发信号触发内部的处理机制，从而实现信号的预处理。当然，在本实施例中，参见图2所示，前端信号收发器还通过FPGA芯片连接有DRAM和FLASH芯片，前者用于高速信号数据的本地缓存和暂存，后者用于存放固件程序，以实现第一FPGA处理单元的信号处理与数据缓存；可选的，举例第一FPGA处理单元还包括有OCXO板载时基，且FLASH芯片的具体电路图以及OCXO板载时基的具体电路图可参见图19和图17所示。当然，前端信号收发器也设置有相应的电源电路，以便为内部各个器件进行供电，保证整个前端信号收发器的正常工作，其中，该前端信号收发器的电源电路可以但不限于包括第三电源电路和第四电源电路，其中，二者的电路图可参见图20和图21所示。由此通过前述对前端信号收发器的详细阐述，即可实现信号的接收与发送、数模转换、模数转换、预处理以及闭环控制。其次，参见图3所示，下述提供高速总线适配器的其中一种具体结构：在本实施例中，举例所述高速总线适配器可以但不限于还包括：第二线缆式PCIE连接器、双路PCIE时钟发生器以及雷电控制器，其中，所述第二线缆式PCIE连接器的第一传输端通过所述PCIE线缆通信连接所述前端信号收发器的第一线缆式PCIE连接器，所述第二线缆式PCIE连接器的第二传输端通信连接所述雷电控制器，其中，所述双路PCIE时钟发生器分别通信连接所述第二线缆式PCIE连接器以及所述雷电控制器，且所述雷电控制器通信连接主雷电接口，以基于所述主雷电接口通信连接所述后端信号处理机；通过上述设计，即可基于高速总线适配器实现PCIE技术与雷电接口技术的集成与转换，从而建立一个或多个前端信号收发器和后端信号处理机之间的，且具有高速率、低延迟、长距离、分布式以及热插拔的特性的数据通信链路；同时，雷电控制器与双路PCIE时钟发生器相配合，来连接第二线缆式PCIE连接器，可实现最高32Gb/s的传输速率，且传输延迟可低至微秒级，由此，可满足高速数据传输需求。可选的，双路PCIE时钟发生器采用Si52112-B6型时钟芯片和25MHz的时钟源来产生前述数据通信链路所使用的时钟信号；另外，雷电控制器的型号可以但不限于采用intelJHL8440；当然，可根据实际使用而选择具体的型号，于此不限定于前述举例。更进一步的，所述扩展高速总线适配器通过所述级联雷电接口通信连接所述雷电控制器，由此，在当扩展高速总线适配器存在多个时，基于每个扩展高速总线适配器上的级联雷电接口，即可将下一级扩展高速总线适配器连入系统，从而实现高速总线适配器与多个扩展高速总线适配器之间的级联连接，以便提高系统的可扩展性，满足系统的级联扩展需求。另外，在具体应用时，举例所述高速总线适配器可以但不限于还包括：第一USB端口控制器、第二USB端口复用器以及第三USB端口控制器，参见图3所示，所述级联雷电接口还分别通信连接所述第一USB端口控制器以及所述第二USB端口复用器，其中，所述第一USB端口控制器和所述第二USB端口复用器分别通过I2C总线通信连接所述雷电控制器，且所述第二USB端口复用器还通信连接所述主雷电接口，同时，所述主雷电接口还通过所述第三USB端口控制器通信连接所述雷电控制器，以基于所述第三USB端口控制器实现与所述雷电控制器的USB通信。在本实施例中，举例第一USB端口控制器和第三USB端口控制器为USB3.1端口控制器，而第二USB端口复用器为USB2.1端口复用器，因此，通过USB 2.1端口控制器与雷电控制器和级联雷电接口相连，可实现雷电控制器的控制连接和USB 2.1接口的级联，同时，高速总线适配器的级联雷电接口，配合第一USB端口控制器可实现高速总线适配器的USB通信，而第二USB端口复用器的连接通路和第一USB端口控制器均可用于对高速总线适配器内各功能组件，以及级联的扩展高速总线适配器进行参数配置和数据读取；由此，通过上述设计，即可使高速总线适配器在支持雷电接口技术通信的同时，还支持USB通信；当然，在本实施例中，前述USB端口控制器的具体使用型号不作具体限定，即不限于前述USB3.1、USB2.1等端口控制器，可根据实际使用而具体设定。可选的，高速总线适配器内还设置有第一电源电路，其中，所述第一电源电路电连接所述主雷电接口，用于基于所述主雷电接口为所述高速总线适配器供电，当然，第一电源电路还电连接第三USB端口控制器，为第三USB端口控制器供电。当然，在本实施例中，参见图3所示，雷电控制器的功能配置程序储存于板载BIOSFLASH中，以便上电时加载程序让高速总线适配器开始工作，实现高速数据传输功能。在本实施例中，举例主雷电接口和级联雷电接口可以但不限于为雷电4接口或雷电3接口，而第二线缆式PCIE连接器与第一线缆式PCIE连接器结构一致，于此不再赘述。由此通过前述对高速总线适配器的详细传输，即可基于内部的雷电接口使高速总线适配器支持热插拔的特性，进而实现连同前端信号收发器的整体设备的可热插拔性，由此，可以在后端信号处理机开机的状态下完成设备的接入和启动，同时，级联雷电接口的设置，可实现系统的可扩展特性，基于此，结合前述可热插拔特性，可形成可热插拔的分布式信号收发和处理系统。最后，参见图4所示，下述提供后端信号处理机的其中一种具体结构：在本实施例中，举例所述后端信号处理机可以但不限于包括：第一模块，或第一模块和第二模块，其中，第一模块包括中央处理单元、主板芯片、从雷电控制器和从雷电接口，第二模块包括图像处理单元和第二通信互联处理单元；即在本实施例中，图像处理和第二通信互联处理单元是可选的。在具体应用时，所述中央处理单元分别通信连接所述图像处理单元以及所述第二通信互联处理单元，其中，中央处理单元用于进行复杂应用逻辑执行优化，并负责系统的总体控制，而图像处理单元和第二通信互联处理单元则用于完成浮点数和定点数的协处理运算，并配合中央处理单元实现信号的计算与处理，由此，即可使后端信号处理机包含三种不同架构的计算器件，从而具有通用且性能强大的处理能力，满足高速信号处理需求；另外，举例第二通信互联处理单元可以但不限于包括第二FPGA处理单元，同时，举例主板芯片可与中央处理单元集成为一体，二者间通过前端总线进行通信。同时，参见图4所示，所述中央处理单元还通过所述主板芯片通信连接所述从雷电控制器，所述从雷电控制器通过所述从雷电接口通信连接所述高速总线适配器，以接收所述高速总线适配器发送的处理后的第一信号，以及向所述高速总线适配器发送第二信号。同理，本实施例也为后端信号处理器设置有第二电源电路以及第四USB端口控制器，参见图4所示，其中，所述第二电源电路分别电连接从雷电接口和第四USB端口控制器，用于通过所述从雷电接口为所述后端信号处理机供电，且所述从雷电接口还通信连接所述第四USB端口控制器，用于基于所述第四USB端口控制器实现USB通信。更进一步的，所述主板芯片还电连接有外设设备，如SSD以及其它外设，以便用户基于外设设备进行人机交互，同时，所述中央处理单元与所述图像处理单元之间，以及所述中央处理单元与所述第二通信互联处理单元之间均采用PCIE总线连接，以实现高速数据交换。当然，在本实施例中，中央处理单元、图形处理单元和第二通信互联处理单元均配备有相应的DRAM内存用于暂存运算和逻辑数据，以实现对信号的计算与处理。由此通过前述对后端信号处理机的详细阐述，即可对从前端信号收发器接收到的高速数据流进行实时处理，或实时计算需要经由高速总线适配器向前端信号收发器发出的高速数据流，已完成信号的发送以及接收。在本实施例中，扩展高速总线适配器的结构与高速总线适配器结构相同，扩展前端信号收发器的结构与前端信号收发器的结构相同，于此不再赘述。在一个可能的设计中，本实施例第二方面提供实施例第一方面中所述分布式高速信号收发处理系统的其中一种具体应用结构，参见图5所示：本实施例第二方面中，仅设置一个前端信号收发器和一个高速总线适配器，其中，举例高速总线适配器与后端信号处理机之间，通过主雷电接口和有源雷电线缆连接，线缆长度不超过2米，前端信号收发器和高速总线适配器之间可通过PCIE铜线线缆连接，其铜缆长度不超过10米，同时，前端信号收发器可以接收外部时钟信号和触发信号，而该实施例中，由于前端信号收发器、高速总线适配器和后端信号处理机都具有尺寸小、重量轻的特点，因此，此种结构适用于构建便携式和嵌入式的高速信号收发处理系统。在一个可能的设计中，本实施例第三方面提供实施例第一方面中所述分布式高速信号收发处理系统的其中另一种具体应用结构，参见图6所示：相比于实施例第二方面，本实施例第三方面中高速总线适配器可通过其级联雷电接口连接下一级的扩展高速总线适配器，且级联扩展支持热插拔操作，参见图5所示，同时，前端信号收发器与其对应的高速总线适配器也是采用过PCIE铜线线缆连接，且多个前端信号收发器之间可以通过外部时钟信号和触发信号进行相参同步信号收发，因此，故此种结构适合快速构建多通道相参高速信号收发处理系统。在一个可能的设计中，本实施例第四方面提供第一方面中所述分布式高速信号收发处理系统的其中第三种具体应用结构，参见图7所示：相比于实施例第二方面，本实施例第四方面在前端信号收发器和高速总线适配器之间改为采用PICE光纤线缆连接，使其连接距离最长可达100米，同样，前端信号收发器可以接收外部时钟信号和触发信号，因此，此种结构适合快速构建远程式高速信号收发处理系统。在一个可能的设计中，本实施第五方面提供第一方面中所述分布式高速信号收发处理系统的其中第四种具体应用结构，参见图8所示：相比于实施例第二方面，多个前端信号收发器和高速总线适配器之间改为采用PCIE光纤线缆连接，连接距离最长可达100米，且高速总线适配器可通过其级联雷电接口连接下一级的扩展高速总线适配器，且级联扩展支持热插拔操作，同时，前端信号收发器可以通过高精度的分布式时钟信号和触发信号进行相参同步信号收发，因此，此种结构适合构建远程分布式高速信号收发处理系统。最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明的保护范围。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
