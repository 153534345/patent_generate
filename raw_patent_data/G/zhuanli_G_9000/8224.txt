标题title
一种基于多假设跟踪的全局初定位方法和装置
摘要abst
本发明属于全局初定位技术领域，涉及一种基于多假设跟踪的全局初定位方法和装置，该方法首先采集场景的点云数据和其对应的全局位姿数据，构建数据库，将采集的数据经过预处理存入数据库，同时生成点云地图，然后对当前帧点云数据与数据库中的数据进行匹配，得到匹配的候选结果，接着利用连续帧之间的约束关系对候选结果进行过滤，直到候选结果收敛后，利用当前帧数据和其对应的数据库中的数据进行平移和旋转的计算，从而得到全局初定位的初始值后与点云地图匹配得到精确的初定位结果。本发明的方法结合全局描述以及多帧数据进行场景初定位，采用多假设跟踪的方法对结果进行筛选，保证了定位的效率，同时提高了定位的鲁棒性。
权利要求书clms
1.一种基于多假设跟踪的全局初定位方法，其特征在于，包括以下步骤：步骤一，采集定位场景的点云数据和其对应的全局位姿数据，生成点云地图，同时对点云数据进行预处理，生成点云纹理图，根据点云纹理图统计出特征向量，再基于点云纹理图、特征向量和全局位姿数据构建三者映射关系并全部存入数据库；步骤二，对当前帧点云数据进行与步骤一中相同的预处理，得到当前帧点云纹理图的特征向量，对该特征向量与数据库中的所有特征向量进行向量匹配，得到候选特征向量，再根据映射关系，从数据库中提取出对应的点云纹理图和全局位姿数据，记作当前帧的候选结果；步骤三，遍历当前帧的候选结果，与上一帧的候选结果匹配构建二元组，计算每个二元组的置信度，并得到每个候选结果的置信度，后通过设置置信度阈值过滤无效的候选结果，再判断过滤后得到的候选结果是否收敛；步骤四，当过滤后得到的候选结果收敛时，对该候选结果进行平移和旋转的计算，得到全局初定位的初始值后与点云地图匹配得到精确的初定位结果。2.如权利要求1所述的一种基于多假设跟踪的全局初定位方法，其特征在于，所述步骤一，包括以下子步骤：步骤1.1，采用SLAM同步定位与建图算法在定位场景中基于笛卡尔坐标系采集点云数据和其对应的全局位姿数据，根据设置的距离间隔筛选出关键帧点云数据，…以及对应的全局位姿数据，…，n为大于等于1的整数，生成点云地图；步骤1.2，设置笛卡尔坐标系的平面距离阈值和值范围，将平面距离小于平面距离阈值，同时值在阈值范围内的点云数据保留，其他的点云数据过滤，得到过滤后的点云数据，；步骤1.3，在笛卡尔坐标系的平面里构建极坐标系，并在极坐标系的极径方向划分等份，在极角方向划分等份，将过滤后的点云数据划分成个数据块，每个数据块记作；步骤1.4，提取出每个数据块中过滤后的点云数据的特征，并排列成行列的二维矩阵，记作点云纹理图，个关键帧点云数据可以得到个点云纹理图；步骤1.5，从点云纹理图中的每一行数据中提取出个特征，则可以提取出个特征，将个特征排列成一维的向量，记作特征向量，个点云纹理图可以得到个特征向量；步骤1.6，构建点云纹理图、特征向量和全局位姿数据之间的映射关系，记作，其中，将映射关系、点云纹理图，…和特征向量，…,以及全局位姿数据，…存入数据库中。3.如权利要求2所述的一种基于多假设跟踪的全局初定位方法，其特征在于，所述步骤二，具体为：对当前帧点云数据按照步骤1.2至步骤1.5进行处理，得到当前帧点云纹理图的特征向量，与数据库中的所有特征向量进行向量相似度匹配，保留匹配相似度大于阈值的候选特征向量，并根据候选特征向量和映射关系，从数据库中取出候选特征向量对应的点云纹理图和全局位姿数据，记作候选结果,…，k表示保留的候选特征向量的数目。4.如权利要求3所述的一种基于多假设跟踪的全局初定位方法，其特征在于，所述步骤三，具体包括以下子步骤：步骤3.1，遍历当前帧的候选结果，每一个候选结果，与上一帧的J个候选结果匹配成J个二元组，每个二元组包含当前帧的候选位姿和上一帧的候选位姿，根据连续帧的候选位姿和得到平移变化量的预测值，将平移变化量的预测值代入正态高斯分布中，得到该预测值的置信度，表示期望值，表示标准差，因此，J个二元组可以得到J个置信度：，…，使用J个置信度之中的最大置信度，记为当前帧候选结果的最终置信度，遍历结束后，并根据置信度阈值，将最终置信度小于置信度阈值的候选结果过滤掉，得到L个过滤后的候选结果：，…；步骤3.2，统计得到的L个候选结果两两之间的平移距离，得到最大的平移距离，若最大的平移距离小于距离阈值，则认为候选结果已经收敛，取出L个候选结果中置信度最大的候选结果作为全局定位位姿的预测值；若最大距离大于距离阈值，则重复步骤3.1至步骤3.2。5.如权利要求4所述的一种基于多假设跟踪的全局初定位方法，其特征在于，所述步骤3.1中的平移变化量通过以下方式得到：将上一帧的点云数据和当前帧的点云数据按照点云匹配算法得到两个帧激光坐标系之间的位姿变化量，其中位姿变化量包括平移变化量和角度变化量，平移变化量为两个帧激光坐标系原点之间的平移值，角度变化量为两个帧激光坐标系之间的旋转值，平移值和旋转值均为的向量。6.如权利要求5所述的一种基于多假设跟踪的全局初定位方法，其特征在于，所述正态高斯分布，以平移变化量为均值，以设置在基于笛卡尔坐标系的X轴上、Y轴上和Z轴上的方差为方差。7.如权利要求5所述的一种基于多假设跟踪的全局初定位方法，其特征在于，所述步骤四，具体包括以下子步骤：步骤4.1，依次改变预测值中预测纹理图的列的顺序，列的顺序代表位姿中的航向角，进行列偏移，得到偏移后的数据，分别计算当前帧的点云纹理图和预测偏移后的数据的列均值向量，计算两个列均值特征向量之间的距离，对预测数据循环进行列偏移，得到距离最小即最佳的一次列偏移值，记为；步骤4.2，基于全局定位位姿的预测值以及最佳的列偏移值，将列偏移值乘以步骤1.3得到的极角方向划分等份后得到的角度值，得到角度的变化量，输出全局定位的初始值，全局定位的初始值包括平移的初始值和角度的初始值，平移的初始值采用全局定位位姿的预测值中的平移值，角度的初始值为全局定位位姿的预测值中的角度值加上由列偏移值得到的角度的变化量；步骤4.3，加载离线的点云地图，使用全局定位的初始值作为初始值，采用点云匹配算法，得到最终精确的全局定位位姿。8.一种基于多假设跟踪的全局初定位装置，包括数据库生成模块、激光里程计模块、候选结果获取模块、多假设跟踪模块，其特征在于，所述数据库生成模块用于保存和处理在定位场景中采集的点云数据，同时生成数据库和点云地图；所述激光里程计模块用于计算连续帧的点云数据的位姿变化；所述候选结果获取模块用于将处理过的连续帧的点云数据与保存在数据库中的数据进行匹配，得到匹配的候选结果；所述多假设模块用于将当前连续帧的候选结果进行置信度过滤，再取出其中收敛后的置信度最大的候选结果，进行平移和旋转的计算，从而得到全局初定位的初始值后与点云地图匹配得到精确的初定位结果。
说明书desc
技术领域本发明属于全局初定位技术领域，涉及一种基于多假设跟踪的全局初定位方法和装置。背景技术在无人驾驶定位中，全局初定位是必不可少的环节之一。在室外场景中，一般采用GPS进行初定位，然而在地下车库等室内场景中，没有GPS信号可以用于定位，因此采用基于视觉或者基于点云的方式进行场景识别定位。基于视觉的经典方法有《Bags of binarywords for fast place recognition in image sequences》，但是基于视觉的方法对光照和视角比较敏感，仅适合在部分场景使用。基于点云的方法常利用局部描述子或者全局描述子来进行场景定位，基于局部描述子的方法有《Fast point feature histograms for3d registration》和《Place recognition using keypoint voting in large 3d lidardataset》，具有精度高，但是提出的描述子维度较大，检索效率很低。基于全局描述子的方法有《Scan context: Egocentric spatial descriptor for place recognition within3d point cloud map》和《Intensity Scan Context: Coding Intensity and GeometryRelations for Loop Closure Detection》，上述方法具有检索效率快，但是精度低，同时对距离比较敏感。上述方法均是基于单帧数据进行场景定位，易受到相似场景的干扰，定位结果不鲁棒。发明内容为了解决现有技术中存在的上述技术问题，本发明提出了一种基于多假设跟踪的全局初定位方法和装置，结合全局描述子以及多帧数据进行场景初定位，采用多假设跟踪的方法对结果进行筛选，保证了定位的效率，同时提高了定位的鲁棒性，其具体技术方案如下：一种基于多假设跟踪的全局初定位方法，包括以下步骤：步骤一，采集定位场景的点云数据和其对应的全局位姿数据，生成点云地图，同时对点云数据进行预处理，生成点云纹理图，根据点云纹理图统计出特征向量，再基于点云纹理图、特征向量和全局位姿数据构建三者映射关系并全部存入数据库；步骤二，对当前帧点云数据进行与步骤一中相同的预处理，得到当前帧点云纹理图的特征向量，对该特征向量与数据库中的所有特征向量进行向量匹配，得到候选特征向量，再根据映射关系，从数据库中提取出对应的点云纹理图和全局位姿数据，记作当前帧的候选结果；步骤三，遍历当前帧的候选结果，与上一帧的候选结果匹配构建二元组，计算每个二元组的置信度，并得到每个候选结果的置信度，后通过设置置信度阈值过滤无效的候选结果，再判断过滤后得到的候选结果是否收敛；步骤四，当候选结果收敛时，对候选结果进行平移和旋转的计算，得到全局初定位的初始值后与点云地图匹配得到精确的初定位结果。进一步的，所述步骤一，包括以下子步骤：步骤1.1，采用SLAM同步定位与建图算法在定位场景中基于笛卡尔坐标系采集点云数据和其对应的全局位姿数据，根据设置的距离间隔筛选出关键帧点云数据,…以及对应的全局位姿数据,…，n为大于等于1的整数，生成点云地图；步骤1.2，设置笛卡尔坐标系的平面距离阈值和值范围，将平面距离小于平面距离阈值，同时值在阈值范围内的点云数据保留，其他的点云数据过滤，得到过滤后的点云数据，；步骤1.3，在笛卡尔坐标系的平面里构建极坐标系，并在极坐标系的极径方向划分等份，在极角方向划分等份，将过滤后的点云数据划分成个数据块，每个数据块记作；步骤1.4，提取出每个数据块中过滤后的点云数据的特征，并排列成行列的二维矩阵，记作点云纹理图，个关键帧点云数据可以得到个点云纹理图；步骤1.5，从点云纹理图中的每一行数据中提取出个特征，，则可以提取出个特征，将个特征排列成一维的向量，记作特征向量，个点云纹理图可以得到个特征向量；步骤1.6，构建点云纹理图、特征向量和全局位姿数据之间的映射关系，记作，其中，将映射关系、点云纹理图,…和特征向量,…,以及全局位姿数据,…存入数据库中。进一步的，所述步骤二，具体为：对当前帧点云数据按照步骤1.2至步骤1.5进行处理，得到当前帧点云纹理图的特征向量，与数据库中的所有特征向量进行向量相似度匹配，保留匹配相似度大于阈值的候选特征向量，并根据候选特征向量和映射关系，从数据库中取出候选特征向量对应的点云纹理图和全局位姿数据，记作候选结果,…，k表示保留的候选特征向量的数目。进一步的，所述步骤三，具体包括以下子步骤：步骤3.1，遍历当前帧的候选结果，每一个候选结果，与上一帧的J个候选结果匹配成J个二元组，每个二元组包含当前帧的候选位姿和上一帧的候选位姿，根据连续帧的候选位姿和得到平移变化量的预测值，将平移变化量的预测值代入正态高斯分布中，得到该预测值的置信度，表示期望值，表示标准差，因此，J个二元组可以得到J个置信度：,…，使用J个置信度之中的最大置信度，记为当前帧候选结果的最终置信度，遍历结束后，并根据置信度阈值，将最终置信度小于置信度阈值的候选结果过滤掉，得到L个过滤后的候选结果：,…；步骤3.2，统计得到的L个候选结果两两之间的平移距离，得到最大的平移距离，若最大的平移距离小于距离阈值，则认为候选结果已经收敛，取出L个候选结果中置信度最大的候选结果作为全局定位位姿的预测值；若最大距离大于距离阈值，则重复步骤3.1至步骤3.2。进一步的，所述步骤3.1中的平移变化量通过以下方式得到：将上一帧的点云数据和当前帧的点云数据按照点云匹配算法得到两个帧激光坐标系之间的位姿变化量，其中位姿变化量包括平移变化量和角度变化量，平移变化量为两个帧激光坐标系原点之间的平移值，角度变化量为两个帧激光坐标系之间的旋转值，平移值和旋转值均为的向量。进一步的，所述正态高斯分布，以平移变化量为均值，以设置在基于笛卡尔坐标系的X轴上、Y轴上和Z轴上的方差为方差。进一步的，所述步骤四，具体包括以下子步骤：步骤4.1，依次改变预测值中预测纹理图的列的顺序，列的顺序代表位姿中的航向角，进行列偏移，得到偏移后的数据，分别计算当前帧的点云纹理图和预测偏移后的数据的列均值向量，计算两个列均值特征向量之间的距离，对预测数据循环进行列偏移，得到距离最小即最佳的一次列偏移值，记为；步骤4.2，基于全局定位位姿的预测值以及最佳的列偏移值，将列偏移值乘以步骤1.3得到的极角方向划分等份后得到的角度值，得到角度的变化量，输出全局定位的初始值，全局定位的初始值包括平移的初始值和角度的初始值，平移的初始值采用全局定位位姿的预测值中的平移值，角度的初始值为全局定位位姿的预测值中的角度值加上由列偏移值得到的角度的变化量；步骤4.3，加载离线的点云地图，使用全局定位的初始值作为初始值，采用点云匹配算法，得到最终精确的全局定位位姿。一种基于多假设跟踪的全局初定位装置，包括数据库生成模块、激光里程计模块、候选结果获取模块、多假设跟踪模块，所述数据库生成模块用于保存和处理在定位场景中采集的点云数据，同时生成数据库和点云地图；所述激光里程计模块用于计算连续帧的点云数据的位姿变化；所述候选结果获取模块用于将处理过的连续帧的点云数据与保存在数据库中的数据进行匹配，得到匹配的候选结果；所述多假设模块用于将当前连续帧的候选结果进行置信度过滤，再取出其中收敛后的置信度最大的候选结果，进行平移和旋转的计算，从而得到全局初定位的初始值后与点云地图匹配得到精确的初定位结果。本发明的优点：本发明的方法结合全局描述以及多帧数据进行场景初定位，采用多假设跟踪的方法对结果进行筛选，保证了定位的效率，同时提高了定位的鲁棒性。附图说明图1为本发明的多假设跟踪全局初定位方法流程图；图2为本发明的点云数据在极坐标系划分为数据块的示意图；图3为本发明的候选过滤示意图；图4为本发明的点云数据候选结果处理流程图。具体实施方式为了使本发明的目的、技术方案和技术效果更加清楚明白，以下结合说明书附图和实施例，对本发明作进一步详细说明。如图1所示，本发明的了一种基于多假设跟踪的全局初定位方法，该方法首先采集场景的点云数据和其对应的全局位姿数据，构建数据库，将采集的数据经过预处理存入数据库，同时生成点云地图，然后对当前帧点云数据与数据库中的数据进行匹配，得到匹配的候选结果，接着利用连续帧之间的约束关系对候选结果进行过滤，直到候选结果收敛后，利用当前帧数据和其对应的数据库中的数据进行平移和旋转的计算，从而得到全局初定位的初始值后与点云地图匹配得到精确的初定位结果。具体包括以下步骤：步骤一，采集定位场景的点云数据和和对应的全局位姿数据，生成点云地图，同时对点云数据进行过滤、分块、二维矩阵化的预处理，生成点云纹理图，根据点云纹理图统计出特征向量，再基于点云纹理图、特征向量和全局位姿数据构建三者映射关系并全部存入数据库。具体的，所述步骤一包括以下子步骤：步骤1.1，采用SLAM算法在定位场景中基于笛卡尔坐标系采集点云数据和和对应的全局位姿数据，其中点云数据是笛卡尔坐标系下一系列点的集合，根据2m的距离间隔筛选出关键帧点云数据,…以及对应的全局位姿数据,…，n为大于等于1的整数，生成点云地图；步骤1.2，设置笛卡尔坐标系的平面距离阈值和值范围，对每一帧点云数据进行范围过滤，得到过滤后的点云数据；对每一帧点云数据，，按照范围进行过滤，其中笛卡尔坐标系的平面距离阈值设为50m，值范围设为-2.0m~0.0m，将平面距离小于平面距离阈值，同时值在阈值范围内的点保留，其他的点过滤，得到过滤后的点云数据，。步骤1.3，在平面里构建极坐标系，并在极坐标系的极径方向划分等份，在极角方向划分等份，将过滤后的点云数据划分成个数据块，每个数据块记作；本发明实施例中，在平面里构建极坐标系，并在极径方向划分25等份，每份间隔2m，极角方向划分60等份，每份间隔6°，将过滤后的点云数据，，分割成25*60个数据块，每个数据块记作，如图2所示。步骤1.4，提取出每个数据块中过滤后的点云数据的特征，并排列成行列的二维矩阵，记作点云纹理图，个关键帧点云数据可以得到个点云纹理图；统计出每一个数据块中过滤后的点云数据的最大值，记为，若数据块中没有过滤后的点云数据，则赋值为-100，将所有数据块的排列成25行60列的二维矩阵，记作点云纹理图。步骤1.5，从点云纹理图中的每一行数据中提取出个特征，特征采用均值特征，则整个点云纹理图可以提取出个特征，将个特征排列成一维的向量，记作，个点云纹理图可以得到个特征向量；从点云纹理图的每一行中提取个特征，其中设置为1，特征采用均值特征，即从点云纹理图中提取出每一行的均值，每一个点云纹理图可以得到25*1的特征向量，记作。步骤1.6，构建点云纹理图、特征向量和全局位姿数据之间的映射关系，记作，其中，将映射关系、点云纹理图,…和特征向量,…,以及全局位姿数据,…存入数据库中；读取数据库，将中的所有行的特征向量构建KDTree，即k-dimensional树。步骤二，对当前帧点云数据进行与步骤一中相同的预处理，得到当前帧点云纹理图的特征向量，对该特征向量与数据库中的所有特征向量进行向量匹配，得到候选特征向量，再根据映射关系，从数据库中提取出对应的点云纹理图和全局位姿数据，记作当前帧的候选结果。具体的，如图4所示，对当前帧点云数据按照步骤1.2至步骤1.5进行处理，得到当前帧点云纹理图的特征向量，与数据库中的所有特征向量进行向量匹配，保留匹配相似度大于阈值的候选特征向量，并根据候选特征向量和映射关系，从数据库中取出候选特征向量对应的点云纹理图和全局位姿数据，记作,…，k表示保留下来的候选特征向量的数目。本发明实施例中，在KDTree中搜索最邻近的10帧数据，并按照0.2的距离阈值进行过滤，将小于距离阈值的候选特征向量保留，根据映射关系，从数据库中提取出候选特征向量对应的点云纹理图和全局位姿数据，记作候选结果,…。步骤三，遍历当前帧的候选结果，与上一帧的候选结果匹配构建二元组，计算每个二元组的置信度，并得到每个候选结果的置信度，后通过设置置信度阈值过滤无效的候选结果，再判断过滤后得到的候选结果是否收敛。具体的包括以下子步骤：步骤3.1，如图3所示,遍历当前帧的候选结果，每一个候选结果，与上一帧的J个候选结果匹配成J个二元组，每个二元组包含当前帧的候选位姿和上一帧的候选位姿，根据连续帧的候选位姿和得到平移变化量的预测值，将平移变化量的预测值代入正态高斯分布中，得到该预测值的置信度，因此，J个二元组可以得到J个置信度，使用J个置信度之中的最大置信度，记为当前帧候选结果的最终置信度，并根据置信度阈值，将最终置信度小于置信度阈值的候选结果过滤掉，得到L个过滤后的候选结果。实施例中，遍历当前帧的候选结果，分别与上一帧的所有候选结果，比如说上一帧保留了5个候选结果：,…，进行两两配对，当前帧的每一个候选结果得到5个二元组，每个二元组中包含当前帧的候选位姿和上一帧的候选位姿，根据二元组得到两个帧之间的平移变化量，将平移变化量代入高斯分布中，得到该二元组的置信度，取5个二元组中最大的置信度作为该候选结果的最终置信度，因此当前帧十个候选结果可以得到十个置信度，将置信度小于0.8的候选结果过滤掉，保留过滤后的候选结果，比如还存在3个候选结果,,。其中，对于平移变化量的具体通过以下方式得到：将上一帧的点云数据和当前帧的点云数据按照点云匹配算法输出两者之间的位姿变化量，其中位姿变化量包括平移变化量和角度变化量，平移变化量为两个帧激光坐标系原点之间的平移值，角度变化量为两个帧激光坐标系之间的旋转值，平移值和旋转值均为的向量。其中，点云匹配算法包括：NDT点云匹配算法、ICP点云匹配算法。所述正态高斯分布，以平移变化量为均值，以设置在基于笛卡尔坐标系的X轴上、Y轴上和Z轴上的方差为方差。实施例的无人车运行过程中，将当前帧点云数据与上一帧的点云数据，进行NDT点云匹配，得到两个帧激光坐标系之间的位姿变化量，位姿变化量包括平移变化量和角度变化量，均为3*1的向量，以平移变化量为均值，设置X轴Y轴Z轴上的方差为，以此构建正太高斯分布，表示期望值，表示标准差。步骤3.2，统计得到的L个候选结果两两之间的平移距离，得到最大的平移距离，若最大的平移距离小于距离阈值，则认为候选结果已经收敛，取出个候选结果中置信度最大的候选结果作为全局定位位姿的预测值；若最大距离大于距离阈值，则重复该步骤3.1至步骤3.2。实施例中，根据剩余的3个候选结果，计算候选结果之间的最大平移距离，若最大平移距离小于1m，则认为候选结果已经收敛，输出置信度最大的候选结果作为全局定位位姿的预测值；反之，则重复步骤3.1至步骤3.2。步骤四，当候选结果收敛时，对候选结果进行平移和旋转的计算，得到全局初定位的初始值后与点云地图匹配得到精确的初定位结果。具体的，所述步骤四，包括以下子步骤：步骤4.1，依次改变预测值中预测纹理图的列的顺序，列的顺序代表位姿中的航向角，进行列偏移，例如列偏移5位，则将第1到4列数据依次放在列的最后面，第五列移至第一列，得到偏移后的数据，分别计算当前帧的点云纹理图和预测偏移后的数据的列均值向量，计算两个列均值特征向量之间的距离，对预测数据循环进行列偏移，得到距离最小即最佳的一次列偏移值，记为；步骤4.2，基于全局定位位姿的预测值以及最佳的列偏移值，将列偏移值乘以步骤1.3得到的极角方向划分等份后得到的角度值，得到角度的变化量，输出全局定位的初始值，全局定位的初始值包括平移的初始值和角度的初始值，平移的初始值采用全局定位位姿的预测值中的平移值，角度的初始值为全局定位位姿的预测值中的角度值加上由列偏移值得到的角度的变化量；步骤4.3，加载离线的点云地图，使用全局定位的初始值作为初始值，采用点云匹配算法，得到最终精确的全局定位位姿。本发明的一种基于多假设跟踪的全局初定位装置，包括：数据库生成模块、激光里程计模块、候选结果获取模块、多假设跟踪模块。所述数据库生成模块用于保存和处理在定位场景中采集的点云数据，同时生成数据库和点云地图，具体的：采集定位场景的点云数据和其对应的全局位姿数据，生成点云地图，同时对点云数据进行预处理，生成点云纹理图，根据点云纹理图统计出特征向量，再基于点云纹理图、特征向量和全局位姿数据构建三者映射关系并全部存入数据库；所述激光里程计模块用于计算连续帧的点云数据的位姿变化；所述候选结果获取模块用于将处理过的连续帧的点云数据与保存在数据库中的数据进行匹配，得到匹配的候选结果，具体的：将连续帧的点云数据预处理后得到的点云纹理图的特征向量，与数据库中的所有特征向量进行向量匹配，得到候选特征向量，再根据映射关系，从数据库中提取出对应的点云纹理图和全局位姿数据，记作连续帧的候选结果，即得到匹配的候选结果；所述多假设模块用于将当前连续帧的候选结果进行置信度过滤，再取出其中收敛后的置信度最大的候选结果，进行平移和旋转的计算，从而得到全局初定位的初始值后与点云地图匹配得到精确的初定位结果，具体的，遍历连续帧的候选结果，并匹配构建二元组，再计算每个二元组的置信度，从而得到每个候选结果的置信度，接着通过设置置信度阈值过滤无效的候选结果，后判断过滤以后得到的候选结果是否收敛，当候选结果收敛时，对候选结果进行平移和旋转的计算，得到全局初定位的初始值后与点云地图匹配得到精确的初定位结果。上述装置中各个模块的功能和作用的实现过程具体详见上述方法中对应步骤的实现过程，在此不再赘述。以上所述，仅为本发明的优选实施案例，并非对本发明做任何形式上的限制。虽然前文对本发明的实施过程进行了详细说明，对于熟悉本领域的人员来说，其依然可以对前述各实例记载的技术方案进行修改，或者对其中部分技术特征进行同等替换。凡在本发明精神和原则之内所做修改、同等替换等，均应包含在本发明的保护范围之内。
