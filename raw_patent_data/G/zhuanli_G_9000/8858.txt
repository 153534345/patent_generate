标题title
路口转向识别方法、装置、设备及存储介质
摘要abst
在本发明中，提供一种路口转向识别方法、装置、计算机设备和存储介质，该方法包括获取道路形态，生成与所述道路形态相应的拓扑结构图；将所述拓扑结构图输入卷积神经网络模型中，根据所述拓扑结构图生成路口转向图；根据所述路口转向图指示路口转向。本发明所提供的路口转向识别方法通过获取路网信息，根据路网拓扑信息，生成每个路口的局部拓扑图，再将所述局部拓扑图输入构建卷积神经网以输出路口的转向模型。
权利要求书clms
1.一种路口转向识别方法，其特征在于，包括以下步骤：获取道路形态，生成与所述道路形态相应的拓扑结构图；将所述拓扑结构图输入卷积神经网络模型中，根据所述拓扑结构图生成路口转向图；根据所述路口转向图指示路口转向。2.根据权利要求1所述的路口转向识别方法，其特征在于，所述道路形态包括至少一个路口和两段路段，所述获取道路形态，生成与所述道路形态相应的拓扑结构图的步骤，包括：获取所述路段的行驶方向；基于所述路口、路段和行驶方向生成道路有向图；将所述道路有向图抽象成相应的拓扑结构图。3.根据权利要求2所述的路口转向识别方法，其特征在于，所述基于所述路口、路段和行驶方向生成道路有向图的步骤，还包括：将所述路口转换为节点；根据所述路口流通转向的路段及所述路段的行驶方向，将所述路段转换为有向边。4.根据权利要求3所述的路口转向识别方法，其特征在于，所述路段包括道路属性信息，所述属性信息包括经纬度信息、道路宽度、道路数量和道路标识。5.根据权利要求2所述的路口转向识别方法，其特征在于，所述道路形态，生成与所述道路形态相应的拓扑结构图的步骤，还包括：设置所述路段的道路等级。6.根据权利要求1所述的路口转向识别方法，其特征在于，所述根据所述拓扑结构图生成路口转向图的步骤，包括：提取所述拓扑结构图的特征；连接所述拓扑结构图的所有特征，输出路口指示标签；根据所述指示标签，生成导航路线的路口转向图。7.根据权利要求6所述的路口转向识别方法，其特征在于，在提取所述拓扑结构图的特征的步骤之前，包括获取当前位置祖与当前路口的距离；获取当前位置到达当前路口所需经过的路口数量；当所述距离与所述路口数量均小于预设阈值时，生成导航路段的拓扑结构图。8.一种路口转向识别装置，其特征在于，包括：获取模块，用于获取道路交通网的道路形态，生成与所述道路形态相应的拓扑结构图；处理模块，用于根据所述拓扑结构图生成路口转向图；指示模块，用于根据所述路口转向图指示路口转向。9.一种计算机设备，包括存储器、处理器和网络接口，所述存储器存储有计算机程序，其征在于，所述处理器执行所述计算机程序时实现权利要求1至7中任一项所述路口转向识别方法的步骤。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至7中任一项所述路口转向识别方法的步骤。
说明书desc
技术领域本发明涉及智能交通技术领域，具体路口转向识别领域，特别是涉及一种路口转向识别方法、装置、计算机设备及计算机可读存储介质。背景技术路口转向识别，是指车辆在导航过程中，对各种不同路口形态的识别、并且给出正确的行驶方向，是地图导航应用中的重要模块。当前行业的路口转向模型识别，主要是根据路口和道路的地理信息和自身属性，建立起各种不同路口形态的基于规则的专家系统，在导航时先根据路口信息计算对应的路口形态，再根据路线从路口形态里匹配对应的转向。基于规则的路口转向识别模型，能获得不错的准确率，覆盖多数的路口情况，但该模型识别准确度过于依赖局部的地理信息。转向模型规则中，需要通过地理信息来计算道路的角度，根据角度来判断方向。一般地理位置信息是连续平滑的，但如果在道路采集时出现信号偏移，或地图数据制作时出现误差，对局部的角度计算影响是非常大的。比如一些路口转向从卫星图上看是左转，但可能目标地理信息和实际位置有偏差，用规则模型判断成为左后转弯。发明内容为了解决上述问题，本发明的目的是提供一种路口转向识别方法、装置、计算机设备及计算机可读存储介质，该方法通过使用图神经网络的思想，计算出每个路口节点的拓扑特征，再构建神经网络将节点属性和节点的拓扑特征拼接在一起进行识别，以降低采集的位置信息依赖性，并提高路口模型识别准确率。基于此，本发明提供了一种路口转向识别方法，所述路口转向识别方法包括：获取道路形态，生成与所述道路形态相应的拓扑结构图；将所述拓扑结构图输入卷积神经网络模型中，根据所述拓扑结构图生成路口转向图；根据所述路口转向图指示路口转向。进一步地，所述道路形态包括至少一个路口和两段路段，所述获取道路交通网的道路形态，生成与所述道路形态相应的拓扑结构图的步骤，包括：获取所述路段的行驶方向；基于所述路口、路段和行驶方向生成道路有向图；将所述道路有向图抽象成相应的拓扑结构图。进一步地，所述基于所述路口、路段和行驶方向生成道路有向图的步骤，还包括：将所述路口转换为节点；根据所述路口流通转向的路段及所述路段的行驶方向，将所述路段转换为有向边。进一步地，所述路段包括道路属性信息，所述属性信息包括经纬度信息、道路宽度、道路数量和道路标识。进一步地，所述道路形态，生成与所述道路形态相应的拓扑结构图的步骤，还包括：设置所述路段的道路等级。进一步地，所述根据所述拓扑结构图生成路口转向图的步骤，包括：提取所述拓扑结构图的特征；连接所述拓扑结构图的所有特征，输出路口指示标签；根据所述指示标签，生成所述导航路线的路口转向图。进一步地，在提取所述拓扑结构图的特征的步骤之前，包括获取当前位置祖与当前路口的距离；获取当前位置到达当前路口所需经过的路口数量；当所述距离与所述路口数量均小于预设阈值时，生成所述导航路段的拓扑结构图。本发明还提供了一种路口转向识别装置，包括：获取模块，用于获取道路交通网的道路形态，生成与所述道路形态相应的拓扑结构图；处理模块，用于根据所述拓扑结构图生成路口转向图；指示模块，用于根据所述路口转向图指示路口转向。本发明还提供了一种计算机设备，包括存储器、处理器和网络接口，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现路口转向识别方法的步骤。本发明还提供了一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现路口转向识别方法的步骤。在本发明中，提供一种路口转向识别方法，该方法包括获取道路形态，生成与所述道路形态相应的拓扑结构图；将所述拓扑结构图输入卷积神经网络模型中，根据所述拓扑结构图生成路口转向图；根据所述路口转向图指示路口转向。 本发明所提供的路口转向识别方法通过获取路网信息，根据路网拓扑信息，生成每个路口的局部拓扑图，再将所述局部拓扑图输入构建卷积神经网以输出路口的转向模型。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例可以应用于其中的示例性系统架构图；图2是本发明实施例提供的一种路口转向识别方法的示意图；图3是本发明实施例一个示例的路口转向识别方法的流程图；图4是本发明实施例一个示例的卷积神经网络结构图；图5是本发明实施例提供的路口转向识别方装置的结构示意图；图6根据本申请的计算机设备的一个实施例的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应该注意的是，相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。本文中术语“和/或”，仅仅是描述一种关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中术语“至少一种”表示多种中的任意一种或多种中的至少两种的任意组合，例如，包括A、B、C中的至少一种，可以表示包括从A、B和C构成的集合中选择的任意一个或多个元素。下面结合具体的系统应用架构对本申请方案进行详细说明。如图1所示，系统架构100可以包括终端设备101、102、103，网络104和服务器105。网络104用以在终端设备101、102、103和服务器105之间提供通信链路的介质。网络104可以包括各种连接类型，例如有线、无线通信链路或者光纤电缆等等。如图1中所示，终端设备101、102、103要访问某个站点时，将包含要访问站点域名的域名解析请求发送给服务器105，由服务器105进行域名解析，确定该域名对应的IP地址和目标项目的属相信息并返回给终端设备101、102、103，然后终端设备101、102、103依据该IP地址和项目属性，访问对应的目标项目。终端设备101、102、103可以是具有显示屏并且支持网页浏览的各种电子设备，包括但不限于用户设备、网络设备或用户设备与网络设备通过网络相集成所构成的设备。所述用户设备其包括但不限于任何一种可与用户通过触摸板进行人机交互的移动电子产品，例如智能手机、平板电脑等，所述移动电子产品可以采用任意操作系统，如android操作系统、IOS操作系统等。其中，所述网络设备包括一种能够按照事先设定或存储的指令，自动进行数值计算和信息处理的电子设备，其硬件包括但不限于微处理器、专用集成电路、可编程门阵列、数字处理器、嵌入式设备等。所述网络设备其包括但不限于计算机、网络主机、单个网络服务器、多个网络服务器集或多个服务器构成的云；在此，云由基于云计算的大量计算机或网络服务器构成，其中，云计算是分布式计算的一种，由一群松散耦合的计算机集组成的一个虚拟超级计算机。所述网络包括但不限于互联网、广域网、城域网、局域网、VPN网络、无线自组织网络 等。当然，本领域技术人员应能理解上述终端设备仅为举例，其他现有的或今后可能出现的终端设备如可适用于本申请，也应包含在本申请保护范围以内，并在此以引用方式包含于此。服务器105可以通过所述网络104和终端设备101、102、103进行通信，终端设备101、102、103之间可以双方甚至多方连接通信。服务器105可以是一台服务器，或者由若干台服务器组成的服务器集群，或者是一个云计算服务中心。其也可以是提供各种服务的服务器，以获取请求数据并分析处理，将处理结果反馈给终端设备。在一些实施例中，服务器105可包含处理设备。该处理设备可处理与服务请求有关的数据和/或信息以执行一个或多个本申请中描述的功能。例如处理设备可以接收终端设备101访问者发送的域名解析请求或目标项目访问请求，向终端用户反馈或应答所述访问请求。进一步地，处理设备可包含一个或多个子处理设备。仅仅作为范例，处理设备可包含中央处理器、专用集成电路、专用指令处理器、图形处理器、物理处理器、数字信号处理器、现场可编程门阵列、可编辑逻辑电路、控制器、微控制器单元、精简指令集电脑、微处理器等或以上任意组合。需要说明的是，本申请实施例所提供的路口转向识别方法一般由服务器执行，相应地，路口转向识别装置一般设置于服务器设备中，终端设备安装相应计算机程序或应用程序。应该理解，图1中的终端设备、网络和服务器的数目仅仅是示意性的。根据实现需要，可以具有任意数目的终端设备、网络和服务器。汽车导航是基于GPS全球卫星定位系统功能，驾车者把目的地输入汽车导航系统，系统根据电子地图自动计算出最合适的路线，并在车辆行驶过程中提醒驾驶员按照计算的路线行驶。目前导航技术在导航在路口转向时，一般是先根据路口信息计算对应的路口形态，再根据路线从路口形态里匹配对应的转向，导航精度依赖于采集的地理信息的准确度，并且路口分类的阈值难以设定，很多需要人为的设置经验值，并且系统分类过于复杂，不利于后续更新和维护，尤其是在复杂路口，使用规则的效果不佳。如在一些地形复杂的多叉路口，可能将路口识别成多个二岔路口，但实际地图中只有一个路口，如四岔路口。本发明所提供的路口转向识别方法通过获取路网信息，根据路网拓扑信息，生成每个路口的局部拓扑图，再将所述局部拓扑图输入构建卷积神经网以输出路口的转向模型。图2所示是本发明实施例提供的路口转向识别方法的示意图，所述方法包括：201：获取道路形态，生成与道路形态相应的拓扑结构图。202：将拓扑结构图输入卷积神经网络模型中，生成路口转向图。203：根据路口转向图指示路口转向。本实施例道路交通网由路段和路口组成，所述路口为交通流转换节点，路段为包括地面道路、高架道路和隧道等。所述路口将交通流周围的路段连通，路段在所述路口交叉。比如，十字路口，所述路口连通4条相交的路段，在当前路段行驶至所述路口时，可选择另一路段转换路段。需要说明的是，所述道路形态是从所述道路交通网提取的目标路线的形态，包括路段交叉形式及路口环境，如在某个路口有多个交叉连接的路段，可以往左上方上坡驶入路段1，也可以平滑直行驶入路段2等等。进一步地，所述道路形态包括至少一个路口和两段路段。基于所述道路交通网，获取所述路段的行驶方向，然后根据“点边”转换将所述道路形态。具体地，“点边”转换的规则是：把所述路口交通流转换为节点，将其连通的路段根据其行驶方向把路段交通流的上下流连通关系转换为有向边，即根据所述路口流通转向的路段及所述路段的行驶方向，将所述路段转换为有向边。其中双向路段有两个相反方向的交通流，而单向路段只有一个方向的交通流。将连接成有向边生成道路有向图，再将所述道路有向图根据路口与路段的关系，数学抽象成拓扑结构图，将所述路口与所有路段联系起来，形成网络拓扑图。在道路导航时，在行至路口路段根据路口转向图的指示路口转向。需要说明的是，所述边设置道路属性，包括但不限于道路的行驶方向、道路通道数量、道路标识、道路宽度。具体地，根据道路的行驶方向，所述道路分为潮汐道、单向路段、双向路段，其中双向路段有两个相反方向的交通流，而单向路段只有一个方向的交通流，潮汐道为不同时段设置不同的行驶方向。所述道路标识包括但不限于左转弯车道、直行车道、右转弯车道。进一步地，所述路段还设有道路等级，包括但不限于高速路、国道、省道、县道、快速公路、普通公路等等。进一步地，所述路段还包括其经纬度信息，所述经纬度信息保存在所述有向边上，用于精确定位计算位置信息。如图3所示，本发明另一实施例提供的路口转向识别方法的示意图，所述方法包括：301：获取目标道路的道路形态。302：获取道路形态的路口、路段及路段的行驶方向。303：将路口转换为节点，路段转换为有向边。304：抽象成与道路形态相应的拓扑结构图。305：将拓扑结构图输入卷积神经网络模型中。306：输出路口转向图。307：根据路口转向图导航路线。在本发明实施例中，步骤301中所述目标道路是导航系统根据驾驶员输入的起始位置与目的位置根据算法计算推荐的一种优选路线。根据目标道路导航驾驶至目的地。需要说明的是，步骤302中，所获取的路段包括所述目标路段中所经过的所有路口所涉及的路段，包括在行驶至路口时，与所述目标道路交叉的路段。需要说明的是，步骤304中，所生成的拓扑结构图包括所述目标道路中所述路口的局部网络拓扑图。需要说明的是，步骤305中，所述卷积神经网络模型中提取所述拓扑结构图的特征，提取其中每个路口的局部特征，提取路网空间关联特性，连接所述拓扑结构图的所有特征，以获取所述道路交通网的全局信息。通过卷积计算，输出路口指示标签；根据所述指示标签，生成所述导航路线的路口转向图。进一步地，为保证转向路口导航指示精确度，本实施例在提取所述拓扑结构图的特征前，获取当前位置与当前路口的距离、到达当前路口所需经过的路口数量等信息，当所述距离与所述路口数量均小于预设阈值时，生成所述导航路段的拓扑结构图，以在合适位置导航路口转向指示。比如在计算当前路口的转向时，所绘制当前路口的路段需同时满足：当前路口的连接距离小于等于80米，且与当前路口之间至多还有两个路口。在条件满足时，生成相应的拓扑图。需要说明的是，如图4所示，所述卷积神经网络模型包括输入层，卷积层、池化层、全连接层和输出层。其中：所述输入层输入与道路交通网的道路形态相应的拓扑结构图，本实施例所述道路形态相应的拓扑结构图为200*200像素的Graph结构图。所述卷积层、池化层和全连接层为所述卷积神经网络模型的隐含层，所述卷积层主要用于保留所述Graph结构图的特征，通过感知并提取拓扑图中的局部特征，对输入数据进行图卷积计算，提取道路交通网空间关联特性。然后通过高层次处理，对局部进行综合操作，获取所述道路交通网的全局信息。所述池化层主要用于所提取的道路交通网特征数据降维，统一前后网络层的数据维度，提升模型的泛化能力，避免数据过拟合。所述全连接层是所述卷积神经网络模型的高级推理层，采用全连接神经元将卷积层的输出结果与输出层相连。所述输出层采用归一化指数函数Softmax function函数对转向结果进行分类，并作为路口识别结果。在本实施例中，整个预测模型的损失函数采用多分类交叉熵函数，基于此误差进行反向传播更新神经网络的权重。需要说明的是，所述卷积神经网络模型具有表征学习能力，能够从输入信息中提取高阶特征，而不仅仅是基于规则模型的低阶特征，因此卷积神经网络的性能更加强大，特别是对于复杂路口有更好的预测能力。进一步地，所述卷积神经网络在计算路口转向时，是学习了整段路口的信息，不会只因为局部的地理位置不准确而导致预测错误。具体地，所述卷积神经网络的训练包括：生成样本数据集，训练和测试神经网络模型。基于步骤304生成的与所述道路形态相应的拓扑结构图，乱序拆分并生成训练数据集和测试数据集，输入训练模型中训练并测试卷积神经网络模型生成路口转向图。经过训练的卷积神经网络不需要设置业务参数阈值，易于训练设计网络结构模型，便于维护和迭代。图5是本发明实施例提供的路口转向识别装置500的示意图，所述装置包括：获取模块501，用于获取道路交通网的道路形态，生成与所述道路形态相应的拓扑结构图；处理模块502，用于根据所述拓扑结构图生成路口转向图；指示模块503，用于根据所述路口转向图指示路口转向。所述路口转向识别装置500还包括显示模块，所述显示模块用于显示所述路口转向识别装置500的导航指引页面。所述路口转向识别装置500还可以包括输入模块，所述输入模块与所述显示模块相连，所述输入模块可包括按键,可用于输入用户id的账号、密码、名称等信息。需要说明的是，本实施例的路口转向识别装置500，与方法实施例的属于同一构思，其具体实现过程详细见方法实施例，且方法实施例中的技术特征在本实施例中均对应适用，此处不再赘述。为解决上述技术问题，本申请实施例还提供计算机设备。具体请参阅图6，图6为本实施例计算机设备基本结构框图。所述计算机设备6包括通过系统总线相互通信连接存储器61、处理器62、网络接口63。需要指出的是，图中仅示出了具有组件61-63的计算机设备6，但是应理解的是，并不要求实施所有示出的组件，可以替代的实施更多或者更少的组件。其中，本技术领域技术人员可以理解，这里的计算机设备是一种能够按照事先设定或存储的指令，自动进行数值计算和/或信息处理的设备，其硬件包括但不限于微处理器、专用集成电路、可编程门阵列、数字处理器 、嵌入式设备等。所述计算机设备可以是桌上型计算机、笔记本、掌上电脑及云端服务器等计算设备。所述计算机设备可以与用户通过键盘、鼠标、遥控器、触摸板或声控设备等方式进行人机交互。所述存储器61至少包括一种类型的可读存储介质，所述可读存储介质包括闪存、硬盘、多媒体卡、卡型存储器、随机访问存储器、静态随机访问存储器、只读存储器、电可擦除可编程只读存储器、可编程只读存储器、磁性存储器、磁盘、光盘等。在一些实施例中，所述存储器61可以是所述计算机设备6的内部存储单元，例如该计算机设备6的硬盘或内存。在另一些实施例中，所述存储器61也可以是所述计算机设备6的外部存储设备，例如该计算机设备6上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。当然，所述存储器61还可以既包括所述计算机设备6的内部存储单元也包括其外部存储设备。本实施例中，所述存储器61通常用于存储安装于所述计算机设备6的操作系统和各类应用软件，例如路口转向识别方法的程序代码等。此外，所述存储器61还可以用于暂时地存储已经输出或者将要输出的各类数据。所述处理器62在一些实施例中可以是中央处理器、控制器、微控制器、微处理器、或其他数据处理芯片。该处理器62通常用于控制所述计算机设备6的总体操作。本实施例中，所述处理器62用于运行所述存储器61中存储的程序代码或者处理数据，例如运行所述路口转向识别方法的程序代码。所述网络接口63可包括无线网络接口或有线网络接口，该网络接口63通常用于在所述计算机设备6与其他电子设备之间建立通信连接。本发明的实施例还提出一种存储介质，其上存储有计算机程序，该程序被处理器执行时实现路口转向识别方法的步骤。在流程图中表示或在此以其他方式描述的逻辑和/或步骤，例如，可以被认为是用于实现逻辑功能的可执行指令的定序列表，可以具体实现在任何计算机可读介质中，以供指令执行系统、装置或设备使用，或结合这些指令执行系统、装置或设备而使用。就本说明书而言，“计算机可读介质”可以是任何可以包含、存储、通信、传播或传输程序以供指令执行系统、装置或设备或结合这些指令执行系统、装置或设备而使用的装置。计算机可读介质的更具体的示例包括以下：具有一个或多个布线的电连接部，便携式计算机盘盒，随机存取存储器，只读存储器，可擦除可编辑只读存储器，光纤装置，以及便携式光盘只读存储器。另外，计算机可读介质甚至可以是可在其上打印所述程序的纸或其他合适的介质，因为可以例如通过对纸或其他介质进行光学扫描，接着进行编辑、解译或必要时以其他合适方式进行处理来以电子方式获得所述程序，然后将其存储在计算机存储器中。应当理解，本发明的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件或固件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或他们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列，现场可编程门阵列等。在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。尽管已经示出和描述了本发明的实施例，本领域的普通技术人员可以理解：在不脱离本发明的原理和宗旨的情况下可以对这些实施例进行多种变化、修改、替换和变型，本发明的范围由权利要求及其等同物限定。以上所述仅是本发明的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明技术原理的前提下，还可以做出若干改进和替换，这些改进和替换也应视为本发明的保护范围。
