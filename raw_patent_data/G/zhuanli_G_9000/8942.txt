标题title
一种车辆停车引导方法及系统
摘要abst
本发明公开了一种车辆停车引导方法及系统，方法包括：车载终端接收信号范围内第一蓝牙车位设备的蓝牙信号，所述蓝牙信号包含对应停车位的车位标识和车位状态；确定接收的第一蓝牙车位设备的蓝牙信号是否对应有空闲停车位；若否，按照预设规则依次选择第一蓝牙车位设备作为搜索节点以搜索获取其周围第二蓝牙车位设备的蓝牙信号并发送至车载终端；车载终端将接收的蓝牙信号中车位状态标记在预存的停车场电子地图中；接收并根据用户的空闲停车位选择信息确定目标车位，生成车辆行驶至目标车位的指引控制信息。本发明能够实现待停放车辆快速高效的查找到空闲停车位，解决找车位难问题，大大提高了停车效率。
权利要求书clms
1.一种车辆停车引导方法，其特征在于，包括：S1：车载终端接收信号范围内第一蓝牙车位设备的蓝牙信号，所述蓝牙信号包含对应停车位的车位标识和车位状态；其中，各所述第一蓝牙车位设备对应不同的停车位；S2：确定接收的第一蓝牙车位设备的蓝牙信号是否对应有空闲停车位；若否，执行步骤S3；若是，执行步骤S4；S3：按照预设规则依次选择第一蓝牙车位设备作为搜索节点以搜索获取其周围第二蓝牙车位设备的蓝牙信号并发送至车载终端；S4：车载终端将接收的蓝牙信号中车位状态标记在预存的停车场电子地图中；S5：接收并根据用户的空闲停车位选择信息确定目标车位，生成车辆行驶至目标车位的指引控制信息。2.如权利要求1所述的车辆停车引导方法，其特征在于，所述步骤S1之前还包括：服务器接收用户在车载终端上的停车场选取指令，获取预先存储的对应的停车场电子地图并发送至车载终端；或者，车辆行驶至停车场入口时，建立与停车场入口终端的无线连接，入口终端将对应的停车场电子地图发送至车载终端；其中，停车场电子地图包括停车位及其对应的蓝牙车位设备位置分布信息及车位标识。3.如权利要求1所述的车辆停车引导方法，其特征在于，所述按照预设规则依次选择第一蓝牙车位设备作为搜索节点具体为：获取预设的第一蓝牙车位设备的蓝牙信号的搜索覆盖范围；确定各第一蓝牙车位设备的搜索覆盖范围内的第二蓝牙车位设备，建立以第二蓝牙车位设备为集合元素的各第一蓝牙车位设备的搜索集合；其中，第二蓝牙车位设备为当前未知状态停车位的蓝牙车位设备；将各搜索集合依次与其他搜索集合进行对比，删除各搜索集合中可为至少一个其他搜索集合的子集的搜索集合，将非子集的搜索集合对应的各第一蓝牙车位设备按照其与车载终端的距离由近及远依次作为搜索节点。4.如权利要求1所述的车辆停车引导方法，其特征在于，所述步骤S4具体包括：车载终端接收第一蓝牙车位设备发送的各蓝牙信号，获取各蓝牙信号包含的对应停车位的车位标识和车位状态；将蓝牙信号中的车位标识与车载终端预先接收的停车场电子地图中车位标识进行匹配确定对应停车位的车位状态并标记在所述停车场电子地图；其中，停车场电子地图中不同的车位状态区别标记显示，所述车位状态包括未知状态、空闲状态及占用状态。5.如权利要求1所述的车辆停车引导方法，其特征在于，所述步骤S5具体包括：接收用户的空闲停车位选择信息，将该空闲停车位记为目标车位；根据接收的若干蓝牙信号确定车辆位置，生成车辆从当前位置行驶至目标车位的指引控制信息。6.如权利要求5所述的车辆停车引导方法，其特征在于，所述车辆位置的确定方法为：获取停车场电子地图中各蓝牙车位设备位置；根据车载终端与各蓝牙车位设备之间的蓝牙信号强度，计算所述车载终端与各蓝牙车位设备之间的距离；根据至少三个蓝牙车位设备位置及其与车载终端之间的距离计算车载终端的位置，记为车辆位置。7.如权利要求5所述的车辆停车引导方法，其特征在于，还包括：车辆行驶至目标车位的剩余行驶距离小于预设距离时，搜索目标车位对应的目标蓝牙车位设备的蓝牙信号并建立连接，车载终端发送车位锁打开指令至目标蓝牙车位设备以控制目标车位的车位锁的打开。8.如权利要求1所述的车辆停车引导方法，其特征在于，所述步骤S3还包括：当各第一蓝牙车位设备搜索完成后无空闲车位时，车载终端提示当前周围无可用空闲停车位，车辆可继续行驶查找。9.如权利要求5所述的车辆停车引导方法，其特征在于，所述生成车辆从当前位置行驶至目标车位的指引控制信息具体包括：根据车辆位置和目标车位的位置确定车辆的停车行驶路线；车辆行驶过程中，车载终端蓝牙搜索所述停车行驶路线上的蓝牙车位设备，确定搜索结果中行驶方向上距离车辆最远且在驾驶员前方有效视距范围内的蓝牙车位设备为路线指引设备；车载终端控制所述路线指引设备生成指引信号，所述指引信号包括光信号。10.一种车辆停车引导系统，其特征在于，包括车载终端、设置在各停车位的蓝牙车位设备，所述车载终端包括第一蓝牙模块、确定模块、选择模块、处理模块和显示模块；所述第一蓝牙模块用于搜索其信号范围内的蓝牙车位设备，记为第一蓝牙车位设备，建立与第一蓝牙车位设备的蓝牙连接，接收第一蓝牙车位设备的蓝牙信号，蓝牙信号包含对应停车位的车位标识和车位状态；所述确定模块用于确定接收的第一蓝牙车位设备的蓝牙信号是否对应有空闲停车位；所述选择模块用于当无空闲停车位时，按照预设规则依次选择第一蓝牙车位设备作为搜索节点；所述第一蓝牙车位设备用于搜索其周围第二蓝牙车位设备并建立连接，接收第二蓝牙车位设备的蓝牙信号并发送至车载终端；所述处理模块用于将蓝牙信号中车位状态标记在预存的停车场电子地图；所述显示模块用于显示停车场电子地图，以及接收用户的空闲停车位选择操作；所述处理模块还用于根据用户的空闲停车位选择信息确定目标车位，生成车辆行驶至目标车位的指引控制信息。
说明书desc
技术领域本发明涉及停车指引技术领域，特别涉及一种车辆停车引导方法及系统。背景技术目前，随着车辆的不断增加，停车难依然成为当今社会的主要问题之一，为了方便用户快速寻找到停车位，多数停车场内均设有指引车辆行驶至空闲停车位的指示标识，如指示牌，指示灯等，并在停车位处设置能够区别该停车位是否被占用的指示灯，用户根据视野范围内的指示灯即可确定有空闲车位，但是个人视野范围有限，限制了快速找到空闲停车位的效率。发明内容为实现以上目的，第一方面，提供一种车辆停车引导方法，包括：S1：车载终端接收信号范围内第一蓝牙车位设备的蓝牙信号，所述蓝牙信号包含对应停车位的车位标识和车位状态；其中，各所述第一蓝牙车位设备对应不同的停车位；S2：确定接收的第一蓝牙车位设备的蓝牙信号是否对应有空闲停车位；若否，执行步骤S3；若是，执行步骤S4；S3：按照预设规则依次选择第一蓝牙车位设备作为搜索节点以搜索获取其周围第二蓝牙车位设备的蓝牙信号并发送至车载终端；S4：车载终端将接收的蓝牙信号中车位状态标记在预存的停车场电子地图中；S5：接收并根据用户的空闲停车位选择信息确定目标车位，生成车辆行驶至目标车位的指引控制信息。进一步地，所述步骤S1之前还包括：服务器接收用户在车载终端上的停车场选取指令，获取预先存储的对应的停车场电子地图并发送至车载终端；或者，车辆行驶至停车场入口时，建立与停车场入口终端的无线连接，入口终端将对应的停车场电子地图发送至车载终端；其中，停车场电子地图包括停车位及其对应的蓝牙车位设备位置分布信息及车位标识。进一步地，所述按照预设规则依次选择第一蓝牙车位设备作为搜索节点具体为：获取预设的第一蓝牙车位设备的蓝牙信号的搜索覆盖范围；确定各第一蓝牙车位设备的搜索覆盖范围内的第二蓝牙车位设备，建立以第二蓝牙车位设备为集合元素的各第一蓝牙车位设备的搜索集合；其中，第二蓝牙车位设备为当前未知状态停车位的蓝牙车位设备；将各搜索集合依次与其他搜索集合进行对比，删除各搜索集合中可为至少一个其他搜索集合的子集的搜索集合，将非子集的搜索集合对应的各第一蓝牙车位设备按照其与车载终端的距离由近及远依次作为搜索节点。进一步地，所述步骤S4具体包括：车载终端接收第一蓝牙车位设备发送的各蓝牙信号，获取各蓝牙信号包含的对应停车位的车位标识和车位状态；将蓝牙信号中的车位标识与车载终端预先接收的停车场电子地图中车位标识进行匹配确定对应停车位的车位状态并标记在所述停车场电子地图；其中，停车场电子地图中不同的车位状态区别标记显示，所述车位状态包括未知状态、空闲状态及占用状态。进一步地，所述步骤S5具体包括：接收用户的空闲停车位选择信息，将该空闲停车位记为目标车位；根据接收的若干蓝牙信号确定车辆位置，生成车辆从当前位置行驶至目标车位的指引控制信息。进一步地，所述车辆位置的确定方法为：获取停车场电子地图中各蓝牙车位设备位置；根据车载终端与各蓝牙车位设备之间的蓝牙信号强度，计算所述车载终端与各蓝牙车位设备之间的距离；根据至少三个蓝牙车位设备位置及其与车载终端之间的距离计算车载终端的位置，记为车辆位置。进一步地，还包括：车辆行驶至目标车位的剩余行驶距离小于预设距离时，搜索目标车位对应的目标蓝牙车位设备的蓝牙信号并建立连接，车载终端发送车位锁打开指令至目标蓝牙车位设备以控制目标车位的车位锁的打开。进一步地，所述步骤S3还包括：当各第一蓝牙车位设备搜索完成后无空闲车位时，车载终端提示当前周围无可用空闲停车位，车辆可继续行驶查找。进一步地，所述生成车辆从当前位置行驶至目标车位的指引控制信息具体包括：根据车辆位置和目标车位的位置确定车辆的停车行驶路线；车辆行驶过程中，车载终端蓝牙搜索所述停车行驶路线上的蓝牙车位设备，确定搜索结果中行驶方向上距离车辆最远且在驾驶员前方有效视距范围内的蓝牙车位设备为路线指引设备；车载终端控制所述路线指引设备生成指引信号，所述指引信号包括光信号。第二方面，提供一种车辆停车引导系统，包括车载终端、设置在各停车位的蓝牙车位设备，所述车载终端包括第一蓝牙模块、确定模块、选择模块、处理模块和显示模块；所述第一蓝牙模块用于搜索其信号范围内的蓝牙车位设备，记为第一蓝牙车位设备，建立与第一蓝牙车位设备的蓝牙连接，接收第一蓝牙车位设备的蓝牙信号，蓝牙信号包含对应停车位的车位标识和车位状态；所述确定模块用于确定接收的第一蓝牙车位设备的蓝牙信号是否对应有空闲停车位；所述选择模块用于当无空闲停车位时，按照预设规则依次选择第一蓝牙车位设备作为搜索节点；所述第一蓝牙车位设备用于搜索其周围第二蓝牙车位设备并建立连接，接收第二蓝牙车位设备的蓝牙信号并发送至车载终端；所述处理模块用于将蓝牙信号中车位状态标记在预存的停车场电子地图；所述显示模块用于显示停车场电子地图，以及接收用户的空闲停车位选择操作；所述处理模块还用于根据用户的空闲停车位选择信息确定目标车位，生成车辆行驶至目标车位的指引控制信息。与现有技术相比，本发明存在以下技术效果:本发明车载终端通过蓝牙信号搜索停车位处的蓝牙车位设备，获取蓝牙车位设备中的停车位状态进而确定车辆周围的空闲停车位，减少了车辆寻找车位的时间，降低用户的时间成本，提升了用户体验。附图说明图1是一种车辆停车引导方法的流程图；图2是本发明实施例中路线指引设备的确定原理示意图；图3是本发明实施例中车辆停车引导系统的结构框图。具体实施方式为便于本领域技术人员理解本发明技术方案，现结合说明书附图对本发明技术方案做进一步的说明。如图1所示，本实施例公开了一种车辆停车引导方法，包括：S1：车载终端接收信号范围内第一蓝牙车位设备的蓝牙信号，所述蓝牙信号包含对应停车位的车位标识和车位状态；其中，各所述第一蓝牙车位设备对应不同的停车位；本发明实施例中，停车场内所有停车位上均安装有蓝牙车位设备，蓝牙车位设备存储有该停车位的车位标识，且能够采集该停车位上的车位状态；并通过蓝牙信号发送至车载终端。本发明实施例中，所述步骤S1之前还包括：服务器接收用户在车载终端上的停车场选取指令，获取预先存储的对应的停车场电子地图并发送至车载终端；车载终端上可以安装有能够选择停车场的APP，用户使用APP进行停车场的选择；或者，车辆行驶至停车场入口时，建立与停车场入口终端的无线连接，入口终端将对应的停车场电子地图发送至车载终端；其中，停车场电子地图包括停车位及其对应的蓝牙车位设备位置分布信息及车位标识。S2：确定接收的第一蓝牙车位设备的蓝牙信号是否对应有空闲停车位；若否，执行步骤S3；若是，执行步骤S4；第一蓝牙车位设备的蓝牙信号中包含车位状态，车位状态包括空闲状态。S3：按照预设规则依次选择第一蓝牙车位设备作为搜索节点以搜索获取其周围第二蓝牙车位设备的蓝牙信号并发送至车载终端；本发明实施例中，所述按照预设规则依次选择第一蓝牙车位设备作为搜索节点具体为：获取预设的第一蓝牙车位设备的蓝牙信号的搜索覆盖范围；确定各第一蓝牙车位设备的搜索覆盖范围内的第二蓝牙车位设备，建立以第二蓝牙车位设备为集合元素的各第一蓝牙车位设备的搜索集合；其中，第二蓝牙车位设备为当前未知状态停车位的蓝牙车位设备；本发明实施例中，假定搜索覆盖范围为搜索半径25m，则根据停车场电子地图中蓝牙车位设备位置分布信息计算各蓝牙车位设备之间的距离，进而确定各第一蓝牙车位设备搜索覆盖的第二蓝牙车位设备。将各搜索集合依次与其他搜索集合进行对比，删除各搜索集合中可为至少一个其他搜索集合的子集的搜索集合，将非子集的搜索集合对应的各第一蓝牙车位设备按照其与车载终端的距离由近及远依次作为搜索节点。本发明技术方案中，由于停车场内的车位分布为非均匀，存在某第一蓝牙车位设备搜索覆盖的第二蓝牙车位设备被其他第一蓝牙车位设备完全搜索覆盖的情况，因而将此类第一蓝牙车位设备排除在搜索节点之外，能够减少搜索节点的数量，提升搜索效率。本发明实施例中，所述步骤S3还包括：当各第一蓝牙车位设备搜索完成后无空闲车位时，车载终端提示当前周围无可用空闲停车位，车辆可继续行驶查找。S4：车载终端将接收的蓝牙信号中车位状态标记在预存的停车场电子地图中；具体包括：车载终端接收第一蓝牙车位设备发送的各蓝牙信号，获取各蓝牙信号包含的对应停车位的车位标识和车位状态；将蓝牙信号中的车位标识与车载终端预先接收的停车场电子地图中车位标识进行匹配确定对应停车位的车位状态并标记在所述停车场电子地图；其中，停车场电子地图中不同的车位状态区别标记显示，所述车位状态包括未知状态、空闲状态及占用状态。车载终端显示停车场电子地图中各车位状态，车位状态可以通过颜色进行区分显示，如空闲状态的停车位可以标记为绿色，占用状态的标记为红色，未知状态的标记为灰色。当然也可以通过文字对各停车位的状态进行标记。本发明实施例中，停车场电子地图中未知状态的停车位为其对应的蓝牙车位设备的蓝牙信号当前没有被车载终端获取。S5：接收并根据用户的空闲停车位选择信息确定目标车位，生成车辆行驶至目标车位的指引控制信息。具体包括：接收用户的空闲停车位选择信息，将该空闲停车位记为目标车位；根据接收的若干蓝牙信号确定车辆位置，生成车辆从当前位置行驶至目标车位的指引控制信息。所述车辆位置的确定方法为：获取停车场电子地图中各蓝牙车位设备位置；根据车载终端与各蓝牙车位设备之间的蓝牙信号强度，计算所述车载终端与各蓝牙车位设备之间的距离；根据至少三个蓝牙车位设备位置及其与车载终端之间的距离计算车载终端的位置，记为车辆位置。本发明实施例中，所述生成车辆从当前位置行驶至目标车位的指引控制信息具体包括：根据车辆位置和目标车位的位置确定车辆的停车行驶路线；车辆行驶过程中，车载终端蓝牙搜索所述停车行驶路线上的蓝牙车位设备，确定搜索结果中行驶方向上距离车辆最远且在驾驶员前方有效视距范围内的蓝牙车位设备为路线指引设备；车载终端控制所述路线指引设备生成指引信号，所述指引信号包括光信号；本发明实施例中，所述驾驶员前方有效视距为能够保障驾驶员清晰看到指引信号的距离，驾驶员的有效视距可以根据路线指引设备显示的指引信号的大小进行设定，如指引信号为导向标识，路线指引设备上显示屏显示导向标识，驾驶员前方的有效视距可以根据显示的导向标识的大小尺寸进行设定，如设置20m。作为优选，本发明实施例中所述路线指引设备的显示屏可以悬挂在车位入口上方与车位入口方向平行或与道路行进方向垂直，保障显示屏在驾驶员的较佳视野范围内，所述导向标识包括直行箭头、左转、右转等。需要说明的是，本发明实施例中，车载终端的停车场电子地图中车位状态为根据车载终端实时接收的蓝牙信号实时更新，目标车位当前的状态信息根据车载终端接收第一蓝牙车位设备的蓝牙信号确定，当确定车辆的停车行驶路线时，车载终端依然与第一蓝牙车位设备建立连接，筛选确定位于停车行驶路线上的第一蓝牙车位设备为起始的路线指引设备。本发明实施例中，停车行驶路线上的蓝牙车位设备在行驶方向右侧停车位上。如图2所述，确定目标车位为A10，车辆当前位置W1至目标车位的停车行驶路线如图中箭头路线所示。车辆在位置W1时，车载终端蓝牙搜索到周围的蓝牙车位设备包括L1、L2、L3、L4、L5、L6，其中，位于停车行驶路线上的蓝牙车位设备为L4、L5、L6，假定驾驶员前方有效视距为20m，L4、L5、L6距离车辆当前位置W1在行驶方向上的距离分别为5m、15m和22m，则驾驶员前方有效视距范围内的蓝牙车位设备包括L4、L5,且L5距离车辆较远，因而确定蓝牙车位设备L5为路线指引设备，使用该技术方案，能够有效保障驾驶员能够看清路线指引设备的指引信号，且有效减少了路线指引设备的数量和资源浪费。本发明实施例中，作为优选，为时刻能够保障车辆行驶前方有路线指引设备提供指引信号，车辆到达某一路线指引设备时，车载终端根据搜索到的蓝牙车位设备确定下一路线指引设备，并建立连接以控制下一路线指引设备提供指引。需要说明的是，由于停车场内停车位分布均匀且密集，本发明技术方案默认为车载终端在行驶至目标车位的过程中，实时能够蓝牙搜索到位于停车行驶路线上停车位的蓝牙车位设备，以保证能够确定路线指引设备以提供不间断的指引信号。本发明实施例中，还包括：车辆行驶至目标车位的剩余行驶距离小于预设距离时，搜索目标车位对应的目标蓝牙车位设备的蓝牙信号并建立连接，车载终端发送车位锁打开指令至目标蓝牙车位设备以控制目标车位的车位锁的打开。本发明实施例中，停车位中的车位锁与对应的蓝牙车位设备连接。本发明技术方案，车载终端通过蓝牙信号搜索周围停车位处的蓝牙车位设备，获取蓝牙车位设备中的停车位状态进而确定车辆周围的空闲停车位，减少了车辆寻找车位的时间，降低用户的时间成本，提升了用户体验。实施例2本发明实施例提供了一种车辆停车引导系统，用于实现实施例1中的引导方法，包括车载终端1、设置在各停车位的蓝牙车位设备2，所述车载终端1包括第一蓝牙模块101、确定模块102、选择模块103、处理模块104和显示模块105；所述第一蓝牙模块101用于搜索其信号范围内的蓝牙车位设备，记为第一蓝牙车位设备201，建立与第一蓝牙车位设备201的蓝牙连接，接收第一蓝牙车位设备201的蓝牙信号，蓝牙信号包含对应停车位的车位标识和车位状态；车位状态包含空闲状态。所述确定模块102用于确定接收的第一蓝牙车位设备201的蓝牙信号是否对应有空闲停车位；所述选择模块103用于当无空闲停车位时，按照预设规则依次选择第一蓝牙车位设备201作为搜索节点；所述第一蓝牙车位设备201用于搜索其周围第二蓝牙车位设备202并建立连接，接收第二蓝牙车位设备202的蓝牙信号并发送至车载终端；所述处理模块104用于将蓝牙信号中车位状态标记在预存的停车场电子地图；所述显示模块105用于显示停车场电子地图，以及接收用户的空闲停车位选择操作；所述处理模块104还用于根据用户的空闲停车位选择信息确定目标车位，生成车辆行驶至目标车位的指引控制信息。本发明实施例中，为方便用户查看车载终端中各停车位的状态，提高用户体验，所述停车场电子地图中不同的车位状态区别标记显示，所述车位状态包括未知状态、空闲状态及占用状态。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
