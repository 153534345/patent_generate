标题title
设备共享方法、装置、设备及存储介质
摘要abst
本申请提供一种设备共享方法、装置、设备及存储介质，该方法区块链的血库节点广播放疗询问信息；用户节点在接收到广播放疗询问信息后，广播放疗设备委托信息；血库节点在接收到放疗设备委托信息后，广播共享设备需求信息；共享设备节点判断当前共享设备节点是否符合共享设备需求信息，若符合，则广播当前共享设备节点信息；用户节点在接收到多个共享设备节点发送的当前共享设备节点信息后，在多个共享设备节点中确定目标设备节点，根据当前血库节点信息和目标设备节点对应的的当前共享设备节点信息生成智能合约，并广播智能合约；血库节点和目标设备节点分别签订智能合约，并广播签订后的智能合约。
权利要求书clms
1.一种设备共享方法，其特征在于，包括：区块链的血库节点广播放疗询问信息，其中，所述放疗询问信息是根据用户输入的血液制品预约信息生成的；区块链的用户节点在接收到所述广播放疗询问信息后，若确定用户在所述血库节点进行放疗设备委托操作，则广播放疗设备委托信息；所述血库节点在接收到所述放疗设备委托信息后，广播共享设备需求信息，其中，所述共享设备需求信息包括当前血库节点信息和放疗需求信息；区块链的共享设备节点在接收到所述共享设备需求信息后，判断当前共享设备节点是否符合所述共享设备需求信息，若符合，则广播当前共享设备节点信息；区块链的用户节点在接收到多个共享设备节点发送的当前共享设备节点信息后，根据多个所述当前共享设备节点信息，在多个共享设备节点中确定目标设备节点，根据所述当前血库节点信息和所述目标设备节点对应的的当前共享设备节点信息生成智能合约，并广播所述智能合约；所述血库节点和所述目标设备节点分别签订所述智能合约，并广播签订后的智能合约，其中所述智能合约用于指示所述目标设备节点对从所述血库节点获取到的血液制品进行放疗辐照，以提供用户取得辐照的血液制品。2.根据权利要求1所述的方法，其特征在于，在所述血库节点和所述目标设备节点分别签订所述智能合约，并广播签订后的智能合约之后，还包括：区块链的打车系统节点在接收到所述签订后的智能合约后，根据所述签订后的智能合约确定是否接受运输订单；若接受所述运输订单，则将当前车辆的车牌号写入所述签订后的智能合约，得到运输订单智能合约，广播所述运输订单智能合约，其中，所述运输订单智能合约用于所述血库节点对运输车辆进行安全认证。3.根据权利要求2所述的方法，其特征在于，在所述广播所述运输订单智能合约之后，还包括：所述血库节点在接收到所述运输订单智能合约后，根据所述运输订单智能合约中的车牌号，对运输车辆进行安全认证；若运输车辆安全认证成功，则确定通过所述运输车辆运输血液制品。4.根据权利要求3所述的方法，其特征在于，所述确定通过所述运输车辆运输血液制品，包括：所述血库节点根据预设算法对所述血液制品进行加密处理，并广播加密结果、所述目标设备节点的标识和所述运输车辆的车牌号，以使所述运输车辆将所述血液制品运输至所述目标设备节点；所述目标设备节点接收所述加密结果和所述运输车辆的车牌号，并根据所述加密结果确定加密密码，其中，所述加密密码用于对所述车牌号对应的运输车辆中的血液制品进行解密处理，以对解密后的血液制品进行放疗辐照。5.根据权利要求4所述的方法，其特征在于，在所述目标设备节点接收所述加密结果和所述运输车辆的车牌号之后，还包括：确定所述运输车辆的运输费用；区块链的打车系统节点广播所述运输费用和所述运输车辆对应的智能合约的标识；所述血库节点在血液制品验收成功后，广播所述血液制品对应的智能合约的标识；若所述运输车辆对应的智能合约的标识和所述血液制品对应的智能合约的标识匹配成功，则根据所述运输费用，对所述智能合约对应的用户节点执行扣费操作。6.根据权利要求1至5任一项所述的方法，其特征在于，所述区块链的血库节点广播放疗询问信息，包括：区块链的血库节点通过私钥签名的方式，向区块链中的用户节点广播放疗询问信息，其中，所述放疗询问信息包括当前血库非辐照血液制品余量、用户节点的标识和询问请求。7.根据权利要求6所述的方法，其特征在于，所述当前血库节点信息包括当前血库位置，所述放疗需求信息包括设备空闲时间段需求；相应的，所述判断当前共享设备节点是否符合所述共享设备需求信息，包括：获取当前共享设备节点信息，其中，所述当前共享设备节点信息包括当前设备位置、当前设备空闲时间段；根据所述当前血库位置和所述当前设备位置，确定预计运输时间；根据所述预计运输时间、所述设备空闲时间段需求和当前设备空闲时间段，判断当前共享设备节点是否符合所述共享设备需求信息。8.一种设备共享装置，其特征在于，包括：第一广播模块，用于区块链的血库节点广播放疗询问信息，其中，所述放疗询问信息是根据用户输入的血液制品预约信息生成的；第一处理模块，用于区块链的用户节点在接收到所述广播放疗询问信息后，若确定用户在所述血库节点进行放疗设备委托操作，则广播放疗设备委托信息；第二广播模块，用于所述血库节点在接收到所述放疗设备委托信息后，广播共享设备需求信息，其中，所述共享设备需求信息包括当前血库节点信息和放疗需求信息；第二处理模块，用于区块链的共享设备节点在接收到所述共享设备需求信息后，判断当前共享设备节点是否符合所述共享设备需求信息，若符合，则广播当前共享设备节点信息；第三处理模块，用于区块链的用户节点在接收到多个共享设备节点发送的当前共享设备节点信息后，根据多个所述当前共享设备节点信息，在多个共享设备节点中确定目标设备节点，根据所述当前血库节点信息和所述目标设备节点对应的的当前共享设备节点信息生成智能合约，并广播所述智能合约；第四处理模块，用于所述血库节点和所述目标设备节点分别签订所述智能合约，并广播签订后的智能合约，其中所述智能合约用于指示所述目标设备节点对从所述血库节点获取到的血液制品进行放疗辐照，以提供用户取得辐照的血液制品。9.一种设备共享设备，其特征在于，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行如权利要求1至7中任一项所述的方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机执行指令，所述计算机执行指令被处理器执行时用于实现如权利要求1至7中任一项所述的设备共享方法。
说明书desc
技术领域本申请涉及区块链技术领域，尤其涉及一种设备共享方法、装置、设备及存储介质。背景技术人体血小板或新鲜血液中都混有淋巴细胞，当这种异体的含有大量免疫活性淋巴细胞的血液或血液成分输入到免疫低下患者体内时，可以引起“输血相关性移植物抗宿主病”的发生，程度严重的可导致患者死亡。而采用放射线对血红蛋白和血小板等血液制品进行放疗辐照，可有效灭活血液中具有免疫活性的T淋巴细胞，提高输血安全。目前，患者取得放疗辐照后的血液制品的方式主要为：患者根据血常规化验单去医院的急诊或者血液科门诊挂号，等待医生叫号后，根据医生开具的预约单，去护士站采血样，再将血样送至该医院的血库进行辐照后的血液制品的预约。然而，现有技术中的方法，取得辐照的血红蛋白和血小板等血液制品的时间长、效率低，用户输血的风险高。发明内容本申请提供一种设备共享方法、装置、设备及存储介质，以解决现有技术取得辐照的血红蛋白和血小板等血液制品的时间长、效率低，用户输血的风险高的技术问题。第一方面，本申请提供一种设备共享方法，包括：区块链的血库节点广播放疗询问信息，其中，所述放疗询问信息是根据用户输入的血液制品预约信息生成的；区块链的用户节点在接收到所述广播放疗询问信息后，若确定用户在所述血库节点进行放疗设备委托操作，则广播放疗设备委托信息；所述血库节点在接收到所述放疗设备委托信息后，广播共享设备需求信息，其中，所述共享设备需求信息包括当前血库节点信息和放疗需求信息；区块链的共享设备节点在接收到所述共享设备需求信息后，判断当前共享设备节点是否符合所述共享设备需求信息，若符合，则广播当前共享设备节点信息；区块链的用户节点在接收到多个共享设备节点发送的当前共享设备节点信息后，根据多个所述当前共享设备节点信息，在多个共享设备节点中确定目标设备节点，根据所述当前血库节点信息和所述目标设备节点对应的的当前共享设备节点信息生成智能合约，并广播所述智能合约；所述血库节点和所述目标设备节点分别签订所述智能合约，并广播签订后的智能合约，其中所述智能合约用于指示所述目标设备节点对从所述血库节点获取到的血液制品进行放疗辐照，以提供用户取得辐照的血液制品。这里，本申请提供了一种设备共享共享方法，应用于用户取得放疗辐照后的血液制品，在用户预约辐照的血液制品时，区块链中的血库节点询问区块链的用户节点是否需要协调放疗中心去辐照血液制品，在用户节点确定需要协调放疗中心去辐照血液制品时，广播共享设备需求信息，以使区块链的共享设备节点响应是否可以实现放疗中心的设备共享，用户节点可以通过多个共享共享设备节点的响应选择协调去辐照血液制品的放疗中心，通过区块链，实现了不同医院之间的闲置的辐照放疗设备来给非辐照的血液制品进行辐照，无需用户在医院通过长时间的预约来等待辐照血液制品，也无需用户四处奔波、自行寻找可以提供辐照放疗的医院，有效减少了取得辐照的血红蛋白和血小板等血液制品的时间，提高了用户取得辐照的血液制品的效率，无需用户长时间地等待辐照的血液制品，提高了用户输血的安全性。可选地，在所述血库节点和所述目标设备节点分别签订所述智能合约，并广播签订后的智能合约之后，还包括：区块链的打车系统节点在接收到所述签订后的智能合约后，根据所述签订后的智能合约确定是否接受运输订单；若接受所述运输订单，则将当前车辆的车牌号写入所述签订后的智能合约，得到运输订单智能合约，广播所述运输订单智能合约，其中，所述运输订单智能合约用于所述血库节点对运输车辆进行安全认证。这里，本申请中区块链节点还包括打车系统节点，打车系统节点可以接收用户节点、血库节点和目标设备节点共同签署后的智能合约，并通过签署该智能合约来实现对血液制品的运输，其中，当打车系统节点签署智能合约之后，即确定可以进行血液制品的运输，血库节点和目标设备节点可以通过打车系统节点签订的智能合约实现对车辆的安全认证，通过打车系统节点的智能合约的签署，无需用户自行耗费时间和路程来进行血液制品的运输，减少了患者的奔波，进一步地提高了患者的安全，打车系统节点可自动化、智能化地实现运输车辆的安排，提高了血液制品运输的效率，提高了用户取得血液制品的效率，保证了患者的安全。可选地，在所述广播所述运输订单智能合约之后，还包括：所述血库节点在接收到所述运输订单智能合约后，根据所述运输订单智能合约中的车牌号，对运输车辆进行安全认证；若运输车辆安全认证成功，则确定通过所述运输车辆运输血液制品。其中，本申请中的血库节点可以通过智能合约对运输车辆的车牌号进行识别，提供给车辆车牌号对应的血液制品，防止了血液制品冒领、误领现象的发生，提高了血液制品运输的安全性和准确性，进一步地保证了用户的安全。可选地，所述确定通过所述运输车辆运输血液制品，包括：所述血库节点根据预设算法对所述血液制品进行加密处理，并广播加密结果、所述目标设备节点的标识和所述运输车辆的车牌号，以使所述运输车辆将所述血液制品运输至所述目标设备节点；所述目标设备节点接收所述加密结果和所述运输车辆的车牌号，并根据所述加密结果确定加密密码，其中，所述加密密码用于对所述车牌号对应的运输车辆中的血液制品进行解密处理，以对解密后的血液制品进行放疗辐照。这里，本申请在血库节点将待运输的血液制品交给运输车辆之前，首先通过预设算法对血液制品进行加密处理，并将加密结果广播至目标设备节点，以使目标设备节点进行解密，通过对血液制品的加密处理，进一步地保证了血液制品的安全，保证了用户输血的安全。可选地，在所述目标设备节点接收所述加密结果和所述运输车辆的车牌号之后，还包括：确定所述运输车辆的运输费用；区块链的打车系统节点广播所述运输费用和所述运输车辆对应的智能合约的标识；所述血库节点在血液制品验收成功后，广播所述血液制品对应的智能合约的标识；若所述运输车辆对应的智能合约的标识和所述血液制品对应的智能合约的标识匹配成功，则根据所述运输费用，对所述智能合约对应的用户节点执行扣费操作。其中，本申请的打车系统节点可以实现自动计费，在运输完成后，根据自动计费的费用实现扣费，无需用户操作，提高了设备共享的效率和智能化，进一步地提高了用户体验，也保证了运输车辆的权益。可选地，所述区块链的血库节点广播放疗询问信息，包括：区块链的血库节点通过私钥签名的方式，向区块链中的用户节点广播放疗询问信息，其中，所述放疗询问信息包括当前血库非辐照血液制品余量、用户节点的标识和询问请求。这里，本申请血库节点广播放疗询问信息的方式为通过私钥签名的方式进行广播，其中放疗询问信息用户节点的标识，可以定向向用户节点发起询问，提高了设备共享的安全性，同时广播当前血库非辐照血液制品余量，以便用户节点了解血库状态，进一步地提高了用户体验。可选地，所述当前血库节点信息包括当前血库位置，所述放疗需求信息包括设备空闲时间段需求；相应的，所述判断当前共享设备节点是否符合所述共享设备需求信息，包括：获取当前共享设备节点信息，其中，所述当前共享设备节点信息包括当前设备位置、当前设备空闲时间段；根据所述当前血库位置和所述当前设备位置，确定预计运输时间；根据所述预计运输时间、所述设备空闲时间段需求和当前设备空闲时间段，判断当前共享设备节点是否符合所述共享设备需求信息。这里，本申请共享设备节点可以根据自己的物理位置查询地图与血库节点的物理位置的距离，计算出预计运输时间，来计算当前设备空闲时间段是否符合该广播信息的要求，如果不符合，则不继续操作，如果符合，则回复广播信息，确定可以实现设备共享，通过当前设备实现对血液制品的放疗辐照，通过准确地判断，可以实现设备的准确共享，提高了设备共享的稳定性和准确性。第二方面，本申请提供了一种设备共享装置，包括：第一广播模块，用于区块链的血库节点广播放疗询问信息，其中，所述放疗询问信息是根据用户输入的血液制品预约信息生成的；第一处理模块，用于区块链的用户节点在接收到所述广播放疗询问信息后，若确定用户在所述血库节点进行放疗设备委托操作，则广播放疗设备委托信息；第二广播模块，用于所述血库节点在接收到所述放疗设备委托信息后，广播共享设备需求信息，其中，所述共享设备需求信息包括当前血库节点信息和放疗需求信息；第二处理模块，用于区块链的共享设备节点在接收到所述共享设备需求信息后，判断当前共享设备节点是否符合所述共享设备需求信息，若符合，则广播当前共享设备节点信息；第三处理模块，用于区块链的用户节点在接收到多个共享设备节点发送的当前共享设备节点信息后，根据多个所述当前共享设备节点信息，在多个共享设备节点中确定目标设备节点，根据所述当前血库节点信息和所述目标设备节点对应的的当前共享设备节点信息生成智能合约，并广播所述智能合约；第四处理模块，用于所述血库节点和所述目标设备节点分别签订所述智能合约，并广播签订后的智能合约，其中所述智能合约用于指示所述目标设备节点对从所述血库节点获取到的血液制品进行放疗辐照，以提供用户取得辐照的血液制品。可选地，在所述第四处理模块在所述血库节点和所述目标设备节点分别签订所述智能合约，并广播签订后的智能合约之后，上述装置还包括：打车模块，用于区块链的打车系统节点在接收到所述签订后的智能合约后，根据所述签订后的智能合约确定是否接受运输订单；若接受所述运输订单，则将当前车辆的车牌号写入所述签订后的智能合约，得到运输订单智能合约，广播所述运输订单智能合约，其中，所述运输订单智能合约用于所述血库节点对运输车辆进行安全认证。可选地，在所述打车模块广播所述运输订单智能合约之后，上述装置还包括：运输模块，用于所述血库节点在接收到所述运输订单智能合约后，根据所述运输订单智能合约中的车牌号，对运输车辆进行安全认证；若运输车辆安全认证成功，则确定通过所述运输车辆运输血液制品。可选地，所述运输模块具体用于：所述血库节点根据预设算法对所述血液制品进行加密处理，并广播加密结果、所述目标设备节点的标识和所述运输车辆的车牌号，以使所述运输车辆将所述血液制品运输至所述目标设备节点；所述目标设备节点接收所述加密结果和所述运输车辆的车牌号，并根据所述加密结果确定加密密码，其中，所述加密密码用于对所述车牌号对应的运输车辆中的血液制品进行解密处理，以对解密后的血液制品进行放疗辐照。可选地，在所述目标设备节点接收所述加密结果和所述运输车辆的车牌号之后，上述装置还包括：计费模块，用于确定所述运输车辆的运输费用；区块链的打车系统节点广播所述运输费用和所述运输车辆对应的智能合约的标识；所述血库节点在血液制品验收成功后，广播所述血液制品对应的智能合约的标识；若所述运输车辆对应的智能合约的标识和所述血液制品对应的智能合约的标识匹配成功，则根据所述运输费用，对所述智能合约对应的用户节点执行扣费操作。可选地，所述第一广播模块具体用于：区块链的血库节点通过私钥签名的方式，向区块链中的用户节点广播放疗询问信息，其中，所述放疗询问信息包括当前血库非辐照血液制品余量、用户节点的标识和询问请求。可选地，所述当前血库节点信息包括当前血库位置，所述放疗需求信息包括设备空闲时间段需求；相应的，所述第二处理模块具体用于：获取当前共享设备节点信息，其中，所述当前共享设备节点信息包括当前设备位置、当前设备空闲时间段；根据所述当前血库位置和所述当前设备位置，确定预计运输时间；根据所述预计运输时间、所述设备空闲时间段需求和当前设备空闲时间段，判断当前共享设备节点是否符合所述共享设备需求信息。第三方面，本申请提供一种设备共享设备，包括：至少一个处理器和存储器；所述存储器存储计算机执行指令；所述至少一个处理器执行所述存储器存储的计算机执行指令，使得所述至少一个处理器执行如上第一方面以及第一方面各种可能的设计所述的设备共享方法。第四方面，本申请提供一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机执行指令，当处理器执行所述计算机执行指令时，实现如上第一方面以及第一方面各种可能的设计所述的设备共享方法。第五方面，本申请提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时，实现如上第一方面以及第一方面各种可能的设计所述的设备共享方法。本申请提供的设备共享方法、装置、服务器及存储介质，其中该方法应用于用户取得放疗辐照后的血液制品，在用户预约辐照的血液制品时，区块链中的血库节点询问区块链的用户节点是否需要协调放疗中心去辐照血液制品，在用户节点确定需要协调放疗中心去辐照血液制品时，广播共享设备需求信息，以使区块链的共享设备节点响应是否可以实现放疗中心的设备共享，用户节点可以通过多个共享共享设备节点的响应选择协调去辐照血液制品的放疗中心，通过区块链，实现了不同医院之间的闲置的辐照放疗设备来给非辐照的血液制品进行辐照，无需用户在医院通过长时间的预约来等待辐照血液制品，也无需用户四处奔波、自行寻找可以提供辐照放疗的医院，有效减少了取得辐照的血红蛋白和血小板等血液制品的时间，提高了用户取得辐照的血液制品的效率，无需用户长时间地等待辐照的血液制品，提高了用户输血的安全性。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例提供的一种设备共享系统区块链架构示意图；图2为本申请实施例提供的一种设备共享方法的流程示意图；图3为本申请实施例提供的另一种设备共享方法的流程示意图；图4为本申请实施例提供的一种设备共享装置的结构示意图；图5为本申请实施例提供的一种设备共享设备的结构示意图。通过上述附图，已示出本公开明确的实施例，后文中将有更详细的描述。这些附图和文字描述并不是为了通过任何方式限制本公开构思的范围，而是通过参考特定实施例为本领域技术人员说明本公开的概念。具体实施方式这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本公开的一些方面相一致的装置和方法的例子。本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”及“第四”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本申请的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。区块链是一种特殊的分布式数据库。区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式，本质上是一个去中心化的数据库。首先，区块链的主要作用是储存信息，任何需要保存的信息，都可以写入区块链，也可以从里面读取，所以它是数据库；其次，任何人都可以架设服务器，加入区块链网络，成为一个节点。区块链的世界里面，没有中心节点，每个节点都是平等的，都保存着整个数据库，可以向任何一个节点，写入/读取数据，因为所有节点最后都会同步，保证区块链一致。区块链是一串使用密码学方法相关联产生的数据块，每一个数据块中包含了一次比特币网络交易的信息，用于验证其信息的有效性和生成下一个区块。狭义来讲，区块链是一种按照时间顺序将数据区块以顺序相连的方式组合成的一种链式数据结构，并以密码学方式保证的不可篡改和不可伪造的分布式账本。广义来讲，区块链技术是利用块链式数据结构来验证与存储数据、利用分布式节点共识算法来生成和更新数据、利用密码学的方式保证数据传输和访问的安全、利用由自动化脚本代码组成的智能合约来编程和操作数据的一种全新的分布式基础架构与计算范式。区块链的设计是一种保护措施，比如高容错的分布式计算系统。区块链使混合一致性成为可能。这使区块链适合记录事件、标题、医疗记录和其他需要收录数据的活动、身份识别管理，交易流程管理和出处证明管理。目前，患者在去的辐照血液制品时，均是根据血常规化验单患者自己去医院的急诊或者血液科门诊挂号，等待医生叫号后，然后医生开输血或者输血小板的预约单，然后患者再去护士站采血样，然后患者再送自己的血样到该医院的血库进行预约。由于长期需要输血红蛋白或者输血小板依赖的患者，往往血红蛋白低于60就出现乏力昏厥等症状，血小板低于20就可能出现内出血或者外出血等情况，尤其是血小板低于10的情况下，脑出血的情况时有发生。特别是对于骨髓移植后和等待进行骨髓移植的患者，为了减少排异的可能，只能使用辐照的血红蛋白或者辐照的血小板。而目前非辐照的血红蛋白和血小板紧缺，往往都是第一天去预约，第一或二天可以有血红蛋白，第二天才有血小板的情况。而对于辐照的血红蛋白和血小板就更紧缺了，往往需要更多等待一天，需要全市统一调度和排队。对于这些需要输辐照的血红蛋白和血小板的骨髓移植完或等待进行骨髓移植的血液病患者来说，等待时间可能会带来生命危险。现有技术中的方法，取得辐照的血红蛋白和血小板等血液制品的时间长、效率低，用户输血的风险高。为了解决上述技术问题，本申请实施例提供一种设备共享方法、装置、服务器及存储介质，使用不同医院之间的闲置的辐照放疗设备来给非辐照的血液制品进行辐照，在用户预约辐照的血液制品时，区块链中的血库节点询问区块链的用户节点是否需要协调放疗中心去辐照血液制品，在用户节点确定需要协调放疗中心去辐照血液制品时，广播共享设备需求信息，以使区块链的共享设备节点响应是否可以实现放疗中心的设备共享，用户节点可以通过多个共享共享设备节点的响应选择协调去辐照血液制品的放疗中心。可选地，图1为本申请实施例提供的一种设备共享系统区块链架构示意图。如图1所示，上述架构包括血库节点101、血库节点102、血库节点103、用户节点104、用户节点105、用户节点106、共享设备节点107、共享设备节点108、共享设备节点109、打车系统节点110和打车系统节点111、可以理解的是，上述血库节点、用户节点、共享设备节点和打车系统节点的数量可以根据实际情况确定，图1仅是示意性的，本申请实施例对于上述节点的数目不作具体限制。上述血库节点、用户节点、共享设备节点和打车系统节点均是区块链中的节点，任意两个节点之间都可以实现通信。其中，用户可以与用户节点通过输入输出设备实现信息交互。可以理解的是，本申请实施例示意的结构并不构成对设备共享系统区块链架构的具体限定。在本申请另一些可行的实施方式中，上述架构可以包括比图示更多或更少的部件，或者组合某些部件，或者拆分某些部件，或者不同的部件布置，具体可根据实际应用场景确定，在此不做限制。图1所示的部件可以以硬件，软件，或软件与硬件的组合实现。另外，本申请实施例描述的网络架构以及业务场景是为了更加清楚的说明本申请实施例的技术方案，并不构成对于本申请实施例提供的技术方案的限定，本领域普通技术人员可知，随着网络架构的演变和新业务场景的出现，本申请实施例提供的技术方案对于类似的技术问题，同样适用。下面以几个实施例为例对本申请的技术方案进行描述，对于相同或相似的概念或过程可能在某些实施例不再赘述。图2为本申请实施例提供的一种设备共享方法的流程示意图，本申请实施例可以应用于服务端的区块链，区块链的节点可以如图1所示，具体执行主体可以根据实际应用场景确定。如图2所示，该方法包括如下步骤：S201：区块链的血库节点广播放疗询问信息。其中，放疗询问信息是根据用户输入的血液制品预约信息生成的。可选地，用户可以预先通过用户终端或者医院的预约设备实现辐照血液制品的预约。可选地，区块链的血库节点广播放疗询问信息，包括：区块链的血库节点通过私钥签名的方式，向区块链中的用户节点广播放疗询问信息，其中，放疗询问信息包括当前血库非辐照血液制品余量、用户节点的标识和询问请求。在一些实施例中，血库节点在区块链中使用私钥签名的广播消息的方式发布以下信息，用于询问患者节点已有非辐照的血红蛋白或血小板了，是否需要协调放疗中心去辐照血红蛋白或者血小板，该广播信息包括：患者节点的标识、已有血红蛋白或者血小板的信息、非辐照的标识，以及询问请求？这里，本申请实施例血库节点广播放疗询问信息的方式为通过私钥签名的方式进行广播，其中放疗询问信息用户节点的标识，可以定向向用户节点发起询问，提高了设备共享的安全性，同时广播当前血库非辐照血液制品余量，以便用户节点了解血库状态，进一步地提高了用户体验。S202：区块链的用户节点在接收到广播放疗询问信息后，若确定用户在血库节点进行放疗设备委托操作，则广播放疗设备委托信息。可选地，患者节点收到该广播放疗询问信息以后，对该广播放疗询问信息的私钥签名进行验证，如果验证通过，再根据自己的选择决定委托血库去联系空闲的放疗中心，患者节点使用私钥签名的广播方式发送放疗设备委托信息到区块链系统中，同意委托血库联系放疗中心S203：血库节点在接收到放疗设备委托信息后，广播共享设备需求信息。其中，共享设备需求信息包括当前血库节点信息和放疗需求信息。可选地，当前血库节点信息包括当前血库位置，放疗需求信息包括设备空闲时间段需求。在一些实施例中，血库节点收到该放疗设备委托信息后，在区块链中使用私钥签名的广播消息的方式发送消息：需要放疗的几个单位的血红蛋白或者血小板的数量，自己所在的物理位置、患者节点标识、预计需要放疗中心具有空闲放疗设备的时间段其中，本申请实施例通过血库节点广播放疗设备委托信息，防止了不法分子通过用户节点进行血液制品的倒卖，进一步地提高了血液制品的安全性，保证了用户和医院的权益。S204：区块链的共享设备节点在接收到共享设备需求信息后，判断当前共享设备节点是否符合共享设备需求信息，若符合，则广播当前共享设备节点信息。可选地，当前血库节点信息包括当前血库位置，放疗需求信息包括设备空闲时间段需求。相应的，判断当前共享设备节点是否符合共享设备需求信息，包括：获取当前共享设备节点信息，其中，当前共享设备节点信息包括当前设备位置、当前设备空闲时间段；根据当前血库位置和当前设备位置，确定预计运输时间；根据预计运输时间、设备空闲时间段需求和当前设备空闲时间段，判断当前共享设备节点是否符合共享设备需求信息。在一些实施例中，共享设备节点收到该共享设备需求信息后，对该共享设备需求信息的私钥签名进行验证，如果验证通过，再根据自己的物理位置查询地图与该血库的物理位置的距离，计算出大概的开车路途时间，来计算自己的空闲放疗设备的时间段是否符合该广播信息的要求，如果不符合，则不继续操作。如果符合，则回复当前共享设备节点信息，该当前共享设备节点信息包括：当前共享设备节点信息的区块链标识和物理位置，以及放疗的费用，空闲放疗设备的预计时间段、血库的标识和患者的标识等信息。这里，本申请实施例共享设备节点可以根据自己的物理位置查询地图与血库节点的物理位置的距离，计算出预计运输时间，来计算当前设备空闲时间段是否符合该广播信息的要求，如果不符合，则不继续操作，如果符合，则回复广播信息，确定可以实现设备共享，通过当前设备实现对血液制品的放疗辐照，通过准确地判断，可以实现设备的准确共享，提高了设备共享的稳定性和准确性。S205：区块链的用户节点在接收到多个共享设备节点发送的当前共享设备节点信息后，根据多个当前共享设备节点信息，在多个共享设备节点中确定目标设备节点，根据当前血库节点信息和目标设备节点对应的的当前共享设备节点信息生成智能合约，并广播智能合约。在一些实施例中，用户节点收到多个共享设备节点发送的当前共享设备节点信息后，对这些当前共享设备节点信息的私钥签名进行验证，如果验证通过，用户节点根据这些当前共享设备节点信息里面的放疗中心的物理位置和血库的物理位置的远近距离，以及放疗中心的空闲设备时间等选择一个自己同意的放疗中心进行血制品的放疗。则用户节点使用私钥签名的广播消息的方式发起智能合约的签订信息，该智能合约的内容包括：患者节点标识、血库节点的区块链标识和物理位置、目标设备节点的区块链标识和物理位置。可选地，智能合约的内容还包括放疗费用。可选地，智能合约的内容还包括打车系统来回的车费区间，以便区块链可以根据用户设备的车费区间进行准确、合理、优惠的自动化车辆规划，同时，车费区间也可以避免打车系统故意绕远等操作，比如地图系统计算出当前打车来回需要50元，则该区块可以限定该打车来回需要50-80元等，也就是说可以设定一个系统预计的打车费用的阈值来避免打车系统的司机故意绕远等情况，进一步地提高了用户体验，降低了运输成本。S206：血库节点和目标设备节点分别签订智能合约，并广播签订后的智能合约。其中智能合约用于指示目标设备节点对从血库节点获取到的血液制品进行放疗辐照，以提供用户取得辐照的血液制品。在一些实施例中，血库节点收到了智能合约后，对该广播智能合约的消息的私钥签名进行验证，如果验证通过，同意该智能合约的内容后，则对该广播消息的私钥签名进行二次私钥签名，签订该智能合约也就是对其进行二次私钥签名，然后血库节点使用私钥签名的广播消息将该二次私钥签名的智能合约发送到区块链中目标设备节点收到了该二次私钥签名的广播消息的智能合约后，对该广播消息的二次的私钥签名进行验证，如果都验证通过，同意该智能合约的内容后，签订该智能合约也就是对其进行三次私钥签名，然后目标设备使用私钥签名的广播消息方式将该三次私钥签名的智能合约发送到区块链中。本申请实施例提供了一种设备共享共享方法，应用于用户取得放疗辐照后的血液制品，在用户预约辐照的血液制品时，区块链中的血库节点询问区块链的用户节点是否需要协调放疗中心去辐照血液制品，在用户节点确定需要协调放疗中心去辐照血液制品时，广播共享设备需求信息，以使区块链的共享设备节点响应是否可以实现放疗中心的设备共享，用户节点可以通过多个共享共享设备节点的响应选择协调去辐照血液制品的放疗中心，通过区块链，实现了不同医院之间的闲置的辐照放疗设备来给非辐照的血液制品进行辐照，无需用户在医院通过长时间的预约来等待辐照血液制品，也无需用户四处奔波、自行寻找可以提供辐照放疗的医院，有效减少了取得辐照的血红蛋白和血小板等血液制品的时间，提高了用户取得辐照的血液制品的效率，无需用户长时间地等待辐照的血液制品，提高了用户输血的安全性。在一些实施例中，为了节约用户的时间，提高用户安全，本申请实施例还可以实现自动打车运输血液制品，相应的，图3为本申请实施例提供的另一种设备共享方法的流程示意图，如图3所示，该方法包括：S301：区块链的血库节点广播放疗询问信息。其中，放疗询问信息是根据用户输入的血液制品预约信息生成的。S302：区块链的用户节点在接收到广播放疗询问信息后，若确定用户在血库节点进行放疗设备委托操作，则广播放疗设备委托信息。S303：血库节点在接收到放疗设备委托信息后，广播共享设备需求信息。其中，共享设备需求信息包括当前血库节点信息和放疗需求信息。S304：区块链的共享设备节点在接收到共享设备需求信息后，判断当前共享设备节点是否符合共享设备需求信息，若符合，则广播当前共享设备节点信息。S305：区块链的用户节点在接收到多个共享设备节点发送的当前共享设备节点信息后，根据多个当前共享设备节点信息，在多个共享设备节点中确定目标设备节点，根据当前血库节点信息和目标设备节点对应的的当前共享设备节点信息生成智能合约，并广播智能合约。S306：血库节点和目标设备节点分别签订智能合约，并广播签订后的智能合约。其中智能合约用于指示目标设备节点对从血库节点获取到的血液制品进行放疗辐照，以提供用户取得辐照的血液制品。其中，步骤S301-S306的实现方式与步骤S201-S206的实现方式类似，本申请实施例在此不作赘述。S307：区块链的打车系统节点在接收到签订后的智能合约后，根据签订后的智能合约确定是否接受运输订单。在一些实施例中，打车系统节点收到了三次私钥签名的智能合约的广播消息，对该广播消息的三次的私钥签名进行验证，如果都验证通过，确定打车系统节点中是否有车愿意接受该订单，若有车接受该订单，则打车系统节点同意该智能合约的内容后，签订该智能合约，然后打车系统节点使用私钥签名的广播消息方式将该四次私钥签名的智能合约发送到区块链中。可选地，确定打车系统节点中是否有车愿意接受该订单的方式可以为确定该车辆当前的物理位置和血库节点的物理位置，以及血库节点和目标设备节点的物理位置的距离，还有车费等信息，同意接受该订单，则从从血库中接收到血液制品开始进入打车计费模式，最终的打车费用按计费系统的实际计费情况收取，则打车系统节点同意该智能合约的内容后，签订该智能合约也就是写入车牌号然后对该智能合约进行四次私钥签名，然后打车系统节点使用私钥签名的广播消息方式将该四次私钥签名的智能合约发送到区块链中。可选地，血液制品在运输时可以通过血箱子运输。S308：若接受运输订单，则将当前车辆的车牌号写入签订后的智能合约，得到运输订单智能合约，广播运输订单智能合约。其中，运输订单智能合约用于血库节点对运输车辆进行安全认证。可选地，在广播运输订单智能合约之后，还包括：血库节点在接收到运输订单智能合约后，根据运输订单智能合约中的车牌号，对运输车辆进行安全认证；若运输车辆安全认证成功，则确定通过运输车辆运输血液制品。其中，本申请实施例中的血库节点可以通过智能合约对运输车辆的车牌号进行识别，提供给车辆车牌号对应的血液制品，防止了血液制品冒领、误领现象的发生，提高了血液制品运输的安全性和准确性，进一步地保证了用户的安全。可选地，确定通过运输车辆运输血液制品，包括：血库节点根据预设算法对血液制品进行加密处理，并广播加密结果、目标设备节点的标识和运输车辆的车牌号，以使运输车辆将血液制品运输至目标设备节点；目标设备节点接收加密结果和运输车辆的车牌号，并根据加密结果确定加密密码，其中，加密密码用于对车牌号对应的运输车辆中的血液制品进行解密处理，以对解密后的血液制品进行放疗辐照。在一些实施例中，打车系统节点下属的运输车辆接单后出发去血库节点取血箱子，并向血库节点的医生出具自己的车辆行驶证的车牌号信息，如果与签订的智能合约的车牌号信息一致，则血库节点将该血箱子交付给该司机。与此同时，血库节点将该血箱子的密码按照预先约定的算法使用目标设备节点的公钥加密后得到加密结果1，再使用血库节点私钥签名的广播消息的方式将加密结果1和目标设备节点的区块链标识以及车辆的车牌号信息发送到区块链中，该运输车辆开始计费，出发去目标设备节点。在一些实施例中，目标设备节点可以对广播加密结果、目标设备节点的标识和运输车辆的车牌号的广播信息的私钥签名进行验证，如果验证通过，提取出其中的加密结果1，使用自己的私钥对其进行解密，得到打开血箱子的加密密码。当运输车辆到达目标设备节点，目标设备节点的放疗中心的医生核对该驾驶员的行驶证的车牌号信息，找到该车牌号对应的血库节点发送来的加密结果1对应的加密密码，然后使用加密密码1对该血箱子进行打开操作，取出其中的血制品，使用空闲的放疗设备对其进行辐照，辐照完成后，将该血制品放回到血箱子后，再关闭该血箱子，交给司机。这里，本申请实施例在血库节点将待运输的血液制品交给运输车辆之前，首先通过预设算法对血液制品进行加密处理，并将加密结果广播至目标设备节点，以使目标设备节点进行解密，通过对血液制品的加密处理，进一步地保证了血液制品的安全，保证了用户输血的安全。可选地，本申请实施例还可以实现自动计费功能，相应的，在目标设备节点接收加密结果和运输车辆的车牌号之后，还包括：确定运输车辆的运输费用；区块链的打车系统节点广播运输费用和运输车辆对应的智能合约的标识；血库节点在血液制品验收成功后，广播血液制品对应的智能合约的标识；若运输车辆对应的智能合约的标识和血液制品对应的智能合约的标识匹配成功，则根据运输费用，对智能合约对应的用户节点执行扣费操作。在一些实施例中，司机驾驶车辆回到血库节点，将血箱子交给血库节点的医生，然后出示自己的行驶证的车牌号，并停止本次送血辐照往返过程的计费。司机可以将本次计费结果的截图发送给打车系统节点，打车系统节点使用私钥签名的广播消息的方式发送该打车计费的截图和智能合约编号到区块链网络中，血库节点验收该血制品没问题后，也使用私钥签名的广播消息的方式发送该智能合约编号至区块链网络中，区块链的矿工收到了上述广播信息后，执行该智能合约，按照计费结果的截图进行扣费，如果没有超过之前的车费的阈值上限，则按照该计费截图的金额进行转账给打车系统节点，如果计费结果的截图如果超过之前的车费的阈值，则按照该车费的阈值上限金额进行转账给打车系统节点。区块链的矿工收到了上述广播信息后，执行该智能合约，将该智能合约约定的放疗费用金额转账给目标设备节点。其中，本申请实施例的打车系统节点可以实现自动计费，在运输完成后，根据自动计费的费用实现扣费，无需用户操作，提高了设备共享的效率和智能化，进一步地提高了用户体验，也保证了运输车辆的权益。本申请实施例中区块链节点还包括打车系统节点，打车系统节点可以接收用户节点、血库节点和目标设备节点共同签署后的智能合约，并通过签署该智能合约来实现对血液制品的运输，其中，当打车系统节点签署智能合约之后，即确定可以进行血液制品的运输，血库节点和目标设备节点可以通过打车系统节点签订的智能合约实现对车辆的安全认证，通过打车系统节点的智能合约的签署，无需用户自行耗费时间和路程来进行血液制品的运输，减少了患者的奔波，进一步地提高了患者的安全，打车系统节点可自动化、智能化地实现运输车辆的安排，提高了血液制品运输的效率，提高了用户取得血液制品的效率，保证了患者的安全。图4为本申请实施例提供的一种设备共享装置的结构示意图，如图4所示，本申请实施例的装置包括：第一广播模块401、第一处理模块402、第二广播模块403、第二处理模块404、第三处理模块405和第四处理模块406。这里的设备共享装置可以是区块链的服务器，或者是实现服务器的功能的芯片或者集成电路。这里需要说明的是，第一广播模块401、第一处理模块402、第二广播模块403、第二处理模块404、第三处理模块405和第四处理模块406的划分只是一种逻辑功能的划分，物理上两者可以是集成的，也可以是独立的。其中，第一广播模块，用于区块链的血库节点广播放疗询问信息，其中，放疗询问信息是根据用户输入的血液制品预约信息生成的；第一处理模块，用于区块链的用户节点在接收到广播放疗询问信息后，若确定用户在血库节点进行放疗设备委托操作，则广播放疗设备委托信息；第二广播模块，用于血库节点在接收到放疗设备委托信息后，广播共享设备需求信息，其中，共享设备需求信息包括当前血库节点信息和放疗需求信息；第二处理模块，用于区块链的共享设备节点在接收到共享设备需求信息后，判断当前共享设备节点是否符合共享设备需求信息，若符合，则广播当前共享设备节点信息；第三处理模块，用于区块链的用户节点在接收到多个共享设备节点发送的当前共享设备节点信息后，根据多个当前共享设备节点信息，在多个共享设备节点中确定目标设备节点，根据当前血库节点信息和目标设备节点对应的的当前共享设备节点信息生成智能合约，并广播智能合约；第四处理模块，用于血库节点和目标设备节点分别签订智能合约，并广播签订后的智能合约，其中智能合约用于指示目标设备节点对从血库节点获取到的血液制品进行放疗辐照，以提供用户取得辐照的血液制品。可选地，在第四处理模块在血库节点和目标设备节点分别签订智能合约，并广播签订后的智能合约之后，上述装置还包括：打车模块，用于区块链的打车系统节点在接收到签订后的智能合约后，根据签订后的智能合约确定是否接受运输订单；若接受运输订单，则将当前车辆的车牌号写入签订后的智能合约，得到运输订单智能合约，广播运输订单智能合约，其中，运输订单智能合约用于血库节点对运输车辆进行安全认证。可选地，在打车模块广播运输订单智能合约之后，上述装置还包括：运输模块，用于血库节点在接收到运输订单智能合约后，根据运输订单智能合约中的车牌号，对运输车辆进行安全认证；若运输车辆安全认证成功，则确定通过运输车辆运输血液制品。可选地，运输模块具体用于：血库节点根据预设算法对血液制品进行加密处理，并广播加密结果、目标设备节点的标识和运输车辆的车牌号，以使运输车辆将血液制品运输至目标设备节点；目标设备节点接收加密结果和运输车辆的车牌号，并根据加密结果确定加密密码，其中，加密密码用于对车牌号对应的运输车辆中的血液制品进行解密处理，以对解密后的血液制品进行放疗辐照。可选地，在目标设备节点接收加密结果和运输车辆的车牌号之后，上述装置还包括：计费模块，用于确定运输车辆的运输费用；区块链的打车系统节点广播运输费用和运输车辆对应的智能合约的标识；血库节点在血液制品验收成功后，广播血液制品对应的智能合约的标识；若运输车辆对应的智能合约的标识和血液制品对应的智能合约的标识匹配成功，则根据运输费用，对智能合约对应的用户节点执行扣费操作。可选地，第一广播模块具体用于：区块链的血库节点通过私钥签名的方式，向区块链中的用户节点广播放疗询问信息，其中，放疗询问信息包括当前血库非辐照血液制品余量、用户节点的标识和询问请求。可选地，当前血库节点信息包括当前血库位置，放疗需求信息包括设备空闲时间段需求；相应的，第二处理模块具体用于：获取当前共享设备节点信息，其中，当前共享设备节点信息包括当前设备位置、当前设备空闲时间段；根据当前血库位置和当前设备位置，确定预计运输时间；根据预计运输时间、设备空闲时间段需求和当前设备空闲时间段，判断当前共享设备节点是否符合共享设备需求信息。图5为本申请实施例提供的一种设备共享设备的结构示意图。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不限制本文中描述的和/或者要求的本申请的实现。如图5所示，该设备共享设备包括：处理器501和存储器502，各个部件利用不同的总线互相连接，并且可以被安装在公共主板上或者根据需要以其它方式安装。处理器501可以对在终端内执行的指令进行处理，包括存储在存储器中或者存储器上以在外部输入/输出装置上显示的图形信息的指令。在其它实施方式中，若需要，可以将多个处理器和/或多条总线与多个存储器和多个存储器一起使用。图5中以一个处理器501为例。存储器502作为一种非瞬时计算机可读存储介质，可用于存储非瞬时软件程序、非瞬时计算机可执行程序以及模块，如本申请实施例中的设备共享设备的方法对应的程序指令/模块。处理器501通过运行存储在存储器502中的非瞬时软件程序、指令以及模块，从而执行设备共享设备的各种功能应用以及数据处理，即实现上述方法实施例中的设备共享设备的方法。设备共享设备还可以包括：输入装置503和输出装置504。处理器501、存储器502、输入装置503和输出装置504可以通过总线或者其他方式连接，图5中以通过总线连接为例。输入装置503可接收输入的数字或字符信息，以及产生与设备共享设备的用户设置以及功能控制有关的键信号输入，例如触摸屏、小键盘、鼠标、或者多个鼠标按钮、轨迹球、操纵杆等输入装置。输出装置504可以是设备共享设备的显示设备等输出设备。该显示设备可以包括但不限于，液晶显示器、发光二极管显示器和等离子体显示器。在一些实施方式中，显示设备可以是触摸屏。本申请实施例的设备共享设备，可以用于执行本申请上述各方法实施例中的技术方案，其实现原理和技术效果类似，此处不再赘述。本申请实施例还提供一种计算机可读存储介质，该计算机可读存储介质中存储有计算机执行指令，计算机执行指令被处理器执行时用于实现上述任一的设备共享方法。本申请实施例还提供一种计算机程序产品，包括计算机程序，计算机程序被处理器执行时，用于实现上述任一项的设备共享方法。在本申请所提供的几个实施例中，应该理解到，所揭露的系统，装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。本领域技术人员在考虑说明书及实践这里公开的申请后，将容易想到本公开的其它实施方案。本申请旨在涵盖本公开的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本公开的一般性原理并包括本公开未公开的本技术领域中的公知常识或惯用技术手段。说明书和实施例仅被视为示例性的，本公开的真正范围和精神由下面的权利要求书指出。应当理解的是，本公开并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。本公开的范围仅由所附的权利要求书来限制。
