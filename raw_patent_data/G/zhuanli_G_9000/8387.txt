标题title
一种集成服务创建发布方法、数据分发方法及系统
摘要abst
本发明公开一种集成服务创建发布方法、数据分发方法及系统。集成服务创建发布方法包括以下步骤：服务端将业务流程拆分为若干个在一个集成服务中可独立办理的服务；根据服务创建单事项，设置单事项所需的申报表单填报项，并对申报表单打标识；创建集成服务，在集成服务中根据业务流程关联单事项，并设置集成服务在不同办理条件下的填报项；以单事项为分类，列出所有的表单填报项，并对可复用的填报项给予依次递增的记号；利用可视化表单技术，制作集成服务可视化表单；设置集成服务的情形选择，列出所有单事项上设置的情形选择项，按照集成服务的业务流程配置单事项的情形选择项；生成申报访问入口，发布集成服务。
权利要求书clms
1.一种集成服务创建发布方法，其特征在于，包括以下步骤：S1、服务端将业务流程拆分为若干个在一个集成服务中可独立办理的服务；S2、根据服务创建单事项，设置单事项所需的申报表单填报项，并对申报表单打标识；S3、创建集成服务，在集成服务中根据业务流程关联单事项，并设置集成服务在不同办理条件下的填报项；S4、以单事项为分类，列出所有的表单填报项，并对可复用的填报项给予依次递增的记号；利用可视化表单技术，进行表单布局，制作集成服务可视化表单；S5、设置集成服务的情形选择，服务端根据集成服务下的单事项，列出所有单事项上设置的情形选择项，按照集成服务的业务流程配置单事项的情形选择项；S6、生成申报访问入口，发布集成服务。2.根据权利要求1所述的集成服务创建发布方法，其特征在于，打标识操作具体包括如下步骤：设置填报项的唯一标识；设置填报项的数据类型、文件格式、校验规则、加密存储属性的一个或多个；针对可复用的填报项，进行同类项级别设置。3.根据权利要求2所述的集成服务创建发布方法，其特征在于：同类项级别分为：系统级、事项级和用户级；系统级：所有集成服务都可复用的内容；事项级：在单个集成服务内各个单事项之间可复用的内容；用户级：申报人可复用的个人隐私信息；当收到申报数据后，服务端采集可复用的同类项数据，做持久化存储，并通过根据新的申报数据更新相应的持久化存储的值；服务端扫描一张表的填报项，若发现存在已采集的同类项的数据，向申报人确认是否复用。4.根据权利要求3所述的集成服务创建发布方法，其特征在于：同类项的记号方式为：系统级按P1、P2、P3，事项级按S1、S2、S3，用户级按U1、U2、U3，标识相同的项其记号也相同；已被采用的填报项会在可选择里变灰无法进行拖拽操作，可复用的填报项会在全部置灰。5.根据权利要求1所述的集成服务创建发布方法，其特征在于，S5还包括以下步骤：设置情形选择数据：按照业务要求确定办理一件事的所有有效的选择情形，并在每个选择项上绑定所需要提供的数据和材料文件；组织情形层级数据：根据业务办理的选择逻辑，排列已经确定的情形选择顺序和上下层级，并设置每个情形选择的单选多选性质；情形选项排列总数计算：根据设置好的情形选择层级和顺序，结合每个情形单选多选的选择特性进行选择项的排列组合情况计算；按照设置好的情形选择数据，每一条情形选择做单选或多选判断；若为单选，则组织单选选项排列；若为多选，则组织多选选项排列；排列出当前情形选择项的组合情况；组织子选项排列：获在情形选择项下的子情形选择的所有排列组合情况，作为当前情形选择项总的情形排列组合，若没有子选项，则只有一条排列组合情况；组织同级选项排列：把同一层级的情形选择项排列做两列组合排列，最后得到本层级所有的情形排列组合；生成情形排列组合数据和情形总数：根据上一步得到的第一层级每个情形选择的情形排列组合，进行最后一层级的排列组合，得到整个一件事所有的情形选择项排列数据并作计数；根据情形排列和表单数据生成每个情形表单数据：排列每个情形选择项的排列，根据每个情形选择项上绑定的字段数据，在一件事已配置的表单数据中筛选需要出现的表单样式。6.根据权利要求1所述的集成服务创建发布方法，其特征在于，S6之前还包括以下步骤：预览一张表，生成可填写的申报表单和材料，支持模拟操作，用于验证设置的准确性。7.一种集成服务数据分发方法，其特征在于，包括以下步骤：基于权利要求1-6中任一项所述的集成服务创建发布方法发布集成服务时，在创建单事项过程中，配置单事项的数据分发接口，即配置单事项对接的第三方服务系统接收数据的接口地址；获取集成服务表单数据后，服务端查询集成服务和单事项的关联关系数据；根据关联关系数据循环拆分单事项表单数据，生成若干个单事项的表单数据；按照单事项的分发接口配置推送数据。8.一种集成服务系统，其特征在于，包括：单事项创建模块，根据服务创建单事项，设置单事项所需的申报表单填报项，并对申报表单打标识；集成服务创建模块，用于创建集成服务，在集成服务中根据业务流程关联单事项，并设置单事项在不同办理条件下的填报项；可视化表单创建模块，以单事项为分类，列出所有的表单填报项，并对可复用的填报项给予依次递增的记号；利用可视化表单技术，进行表单布局；通过拖拽表单填报项到相应的布局区域，制作集成服务可视化表单；情形设置模块，设置集成服务的情形选择，服务端根据集成服务下的单事项，列出所有单事项上设置的情形选择项，按照集成服务的业务流程配置单事项的情形选择项；发布模块，生成申报访问入口，发布集成服务。9.根据权利要求8所述的集成服务系统，其特征在于，还包括：分布式任务调度模块，用于设置集成服务的审批流程节点，设置制作的集成服务可视化表单提交后审批的步骤名称和对应的审核人员；受理分发模块，获取集成服务可视化表单的数据，服务端查询集成服务和单事项的关联关系数据；根据关联关系数据循环拆分单事项表单数据，生成若干个单事项表单数据；按照单事项的接口配置推送单事项表单数据。10.一种计算机可读存储介质，其特征在于：计算机可读存储介质中存储有计算机可执行指令，所述计算机可执行指令被处理器执行时实现如权利要求1至7中任意一项所述的方法中的步骤。
说明书desc
技术领域本发明属于软件技术领域，具体涉及一种实现政务服务“一件事”一表报的集成服务创建发布方法及系统。背景技术全国深化“放管服”改革优化营商环境下，正大力推行“一件事一次办”，从企业和群众“办成一件事”角度出发，将涉及的相关审批服务事项打包，提供套餐式、主题式集成服务，公布标准化的办事指南和流程图，实行一表申请、一套材料、一次提交、限时办结，避免企业和群众来回跑。当前政务服务网中的“一件事”服务，一部分只是将原来线下的办理模式搬到了线上，申请表单和材料跟随办理的事项，不同事项的申报内容存在重复，办理不同情况的填报时无法区分哪些要填，哪些无需填写；一部分是对线下办理模式做了一些优化，将所有事项的表单和材料做了梳理和合并，形成一份，虽然避免了重复填写，但也无法区分情形，同时还导致不同的审批系统需要对同一份材料做审核，需要工作人员甄别和当前审批有关的信息。总的来说，当前针对“一件事”服务申报的系统，未能有效的解决申报内容的重复录入、自动分类和自动分发问题，进而未能减轻企业和群众的负担，提升政务服务效能。发明内容针对上述技术问题，本发明提供一种集成服务创建发布方法，该方法兼顾了安全性和可靠性的特点，管理方便且能较好实现政务服务“一件事”一表报。为达到上述目的，本发明采用的技术方案为：为达到上述目的，本发明提供如下技术方案：一种集成服务创建发布方法，包括以下步骤：S1、服务端将业务流程拆分为若干个在一个集成服务中可独立办理的服务；S2、根据服务创建单事项，设置单事项所需的申报表单填报项，并对申报表单打标识；S3、创建集成服务，在集成服务中根据业务流程关联单事项，并设置集成服务在不同办理条件下的填报项；S4、以单事项为分类，列出所有的表单填报项，并对可复用的填报项给予依次递增的记号；利用可视化表单技术，进行表单布局，制作集成服务可视化表单；S5、设置集成服务的情形选择，服务端根据集成服务下的单事项，列出所有单事项上设置的情形选择项，按照集成服务的业务流程配置单事项的情形选择项；S6、生成申报访问入口，发布集成服务。进一步的，打标识操作具体包括如下步骤：设置填报项的唯一标识；设置填报项的数据类型、文件格式、校验规则、加密存储属性的一个或多个；针对可复用的填报项，进行同类项级别设置。进一步的，同类项级别分为：系统级、事项级和用户级；系统级：所有集成服务都可复用的内容；事项级：在单个集成服务内各个单事项之间可复用的内容；用户级：申报人可复用的个人隐私信息；当收到申报数据后，服务端采集可复用的同类项数据，做持久化存储，并通过根据新的申报数据更新相应的持久化存储的值；服务端扫描一张表的填报项，若发现存在已采集的同类项的数据，向申报人确认是否复用。进一步的，同类项的记号方式为：系统级按P1、P2、P3，事项级按S1、S2、S3，用户级按U1、U2、U3，标识相同的项其记号也相同。进一步的，已被采用的填报项会在可选择里变灰无法进行拖拽操作；若被采用的填报项为同类项，则所有单事项分类中的同一填报项都会置灰。进一步的，S5具体包括以下步骤：设置情形选择数据：按照业务要求确定办理一件事可能发生的所有的有效的选择情形，并在每个选择项上绑定所需要提供的数据和材料文件。组织情形层级数据：根据业务办理的选择逻辑，排列已经确定的情形选择顺序和上下层级，并设置每个情形选择的单选多选性质。情形选项排列总数计算：根据设置好的情形选择层级和顺序，结合每个情形单选多选的选择特性进行选择项的排列组合情况计算。用来标识选择的复杂性。按照设置好的情形选择数据，每一条情形选择做单选或多选判断；若为单选，则组织单选选项排列；若为多选，则组织多选选项排列；排列出当前情形选择项的组合情况。组织子选项排列：获在情形选择项下的子情形选择的所有排列组合情况，作为当前情形选择项总的情形排列组合，若没有子选项，则只有一条排列组合情况。组织同级选项排列：把同一层级的情形选择项排列做两列组合排列，最后得到本层级所有的情形排列组合。生成情形排列组合数据和情形总数：根据上一步得到的第一层级每个情形选择的情形排列组合，进行最后一层级的排列组合，得到整个一件事所有的情形选择项排列数据并作计数。根据情形排列和表单数据生成每个情形表单数据：排列每个情形选择项的排列，根据每个情形选择项上绑定的字段数据，在一件事已配置的表单数据中筛选需要出现的表单样式。进一步的，S6之前还包括以下步骤：预览一张表，生成可填写的申报表单和材料，支持模拟操作，用于验证设置的准确性。本发明还提供了一种集成服务数据分发方法，包括以下步骤：根据上述集成服务发布方法发布集成服务时，在创建单事项过程中，配置单事项的数据分发接口，即配置单事项对接的第三方服务系统接收数据的接口地址；获取集成服务表单数据后，服务端查询集成服务和单事项的关联关系数据；根据关联关系数据循环拆分单事项表单数据，生成若干个单事项的表单数据；按照单事项的分发接口配置推送数据。本发明还公开一种集成服务系统，包括单事项创建模块，根据服务创建单事项，设置单事项所需的申报表单填报项，并对申报表单打标识；集成服务创建模块，用于创建集成服务，在集成服务中根据业务流程关联单事项，并设置单事项在不同办理条件下的填报项；可视化表单创建模块，以单事项为分类，列出所有的表单填报项，并对可复用的填报项给予依次递增的记号；利用可视化表单技术，进行表单布局；通过拖拽表单填报项到相应的布局区域，制作集成服务可视化表单；情形设置模块，设置集成服务的情形选择，服务端根据集成服务下的单事项，列出所有单事项上设置的情形选择项，按照集成服务的业务流程配置单事项的情形选择项；发布模块，生成申报访问入口，发布集成服务。进一步的，集成服务系统中还包括：分布式任务调度模块，用于设置集成服务的审批流程节点，设置制作的集成服务可视化表单提交后审批的步骤名称和对应的审核人员；受理分发模块，获取集成服务表单数据，服务端查询集成服务和单事项的关联关系数据；根据关联关系数据循环拆分单事项表单数据，生成若干个单事项的表单数据；按照单事项的接口配置推送数据。本发明还公开一种计算机可读存储介质，计算机可读存储介质中存储有计算机可执行指令，计算机可执行指令被处理器执行时实现上述方法中的步骤。本发明具有以下有益效果：本发明综合配置了一件事和单事项的字段数据关系，减少了多个单事项对外输出服务的实施运维成本。本发明可以自定义配置不同单事项的自由组合和统一表单设计，简化了定制合并事项表单填报的工作。本发明可以自定义配置一件事的情形选择和情形表单，简化了不同情形需求表单填报的工作。本发明提供表单合并和数据拆分功能，“表单合并”是通过把集成服务下不同单事项的字段按照业务含义进行合并字段处理，减少需要重复填写的表单项，把原来多个单事项的填写表单可以合并成一个没有重复填报项的大表单。“数据拆分”是指在填写一份表单数据之后，把这份表单数据按照每个单事项需要的字段数据进行自适应的数据提取，按照每个单事项各自的数据模型分配表单数据。表单合并和数据拆分减少了前台重复数据填报，简化了多事项并发执行的工作流程。附图说明图1为本发明实施例的集成服务创建发布方法的单事项创建流程。图2为本发明实施例的集成服务创建发布方法的“一件事”创建流程。图3为本发明实施例的集成服务创建发布方法情形设置。图4为本发明实施例的集成服务数据分发的流程。具体实施方式为了便于本领域技术人员的理解，下面结合实施例与附图对本发明作进一步的说明。一种集成服务创建发布方法，实现政务服务“一件事”一表报，包括以下步骤：S1、服务端将业务流程拆分为若干个在一个集成服务中可独立办理的服务；创建“一件事”，包含描述、办事指南、流程图等。S2、根据服务创建单事项，如图1所示，设置单事项所需的申报表单填报项，即填写项和材料项。首先录入申报表单的填报项，可以通过数据采集、OCR识别等手段进行辅助；其次对申报表单打标识操作，具体包括：设置填报项的唯一标识：填写项以tab_为前缀、材料项以mat_为前缀，后面加能表达相应意义的英文单词；设置数据类型或文件格式、校验规则，是否加密存储；针对可复用的同类项，进行同类项级别设置。同类项级别一般分为：系统级、事项级和用户级。系统级：所有“一件事”都可复用的内容，比如处理部门、处理时限。事项级：在单个“一件事”内各个单事项之间可复用的内容，比如：情形选项、附件材料。用户级：申报人可复用的个人隐私信息，比如：身份证、手机号、营业执照。申报人提交申报数据后，服务端会采集可复用项的数据，做持久化存储，并根据新的申报更新相应的值。在申报人填写申报时，服务端会对一张表的填写项进行扫描，若发现存在已采集的可复用数据，会以建议的形式，咨询申报人是否直接复用，减少重复录入工作。S3、如图2所示，创建“一件事”，在“一件事”中根据业务流程关联单事项，并设置其在不同办理条件下的填报项。S4、制作“一件事”的一张表，服务端以单事项为分类，列出所有的表单填写项和材料项，并对可复用的填写项和材料项给予依次递增的记号，系统级按P1、P2、P3，事项级按S1、S2、S3，用户级按U1、U2、U3，标识相同的项其记号也相同。利用可视化表单技术，进行表单布局；通过拖拽表单填写项和材料项到相应的布局区域，已被采用的填写项和材料项会在可选择里变灰无法进行拖拽操作，可复用的字段会在全部置灰。通过流程设计技术，设置审批流程，在流程树结构上添加数据审核节点，设置表单数据提交后审批的步骤名称和对应审核人员。S5、设置“一件事”的情形选择，服务端根据“一件事”下的单事项，列出所有单事项上设置的情形选择项，按照“一件事”的业务流程配置“一件事”办理过程中办理人可能存在的客观需求。如图3所示，具体包括以下步骤：S51、设置情形选择数据：按照业务要求确定办理一件事可能发生的有效的选择情形，并在每个选择项上绑定所需要提供的数据和材料文件。S52、组织情形层级数据：根据业务办理的选择逻辑，排列已经确定的情形选择顺序和上下层级，并设置每个情形选择的单选多选性质。S53、情形选项排列总数计数：根据设置好的情形选择层级和顺序，结合每个情形单选多选的选择特性进行选择项的排列组合情况计算。用来标识选择的复杂性。S54、按照设置好的情形选择数据，每一条情形选择做单选或多选判断；若为单选，则组织单选选项排列并计数；若为多选，则组织多选选项排列并计数；排列出当前情形选择项的组合情况。S55、组织子选项排列：获在情形选择项下的子情形选择的所有排列组合情况，作为当前情形选择项总的情形排列组合，若没有子选项，则只有一条排列组合情况。S56、组织同级选项排列：把同一层级的情形选择项排列做两列组合排列，最后得到本层级所有的情形排列组合。S57、生成情形排列组合数据和情形总数：根据上一步得到的第一层级每个情形选择的情形排列组合，进行最后一层级的排列组合，得到整个一件事所有的情形选择项排列数据并作计数。S58、根据情形排列和表单数据生成每个情形表单数据：排列每个情形选择项的排列，根据每个情形选择项上绑定的字段数据，在一件事已配置的表单数据中筛选需要出现的表单样式。S6、预览一张表，生成可填写的申报表单和材料，支持模拟操作，用于验证设置的准确性。S7、“一件事”上线发布：生成申报访问入口。如图4所示，一种集成服务数据分发方法，包括以下步骤：S71、创建单事项时，配置单事项的数据分发接口，即配置单事项对接的第三方服务系统接收数据的接口地址；S72、上线发布的“一件事”经用户填写表单数据后，获取集成服务表单数据后，服务端查询集成服务和单事项的关联关系数据；S73、根据关联关系数据循环拆分单事项表单数据，生成若干个单事项的表单数据；S74、按照单事项的接口配置推送数据。本实施例的一种“一件事”一表报的集成服务系统，包括单事项创建模块，根据可独立办理的服务创建单事项，设置单事项所需的申报表单填报项，并对申报表单打标识；集成服务创建模块，用于创建“一件事”，在“一件事”中根据业务流程关联单事项，并设置单事项在不同办理条件下的填报项；可视化表单创建模块，以单事项为分类，列出所有的表单填报项，并对可复用的填报项给予依次递增的记号；利用可视化表单技术，进行表单布局；通过拖拽表单填报项到相应的布局区域，制作“一件事”的一张表；情形设置模块，设置“一件事”的情形选择，服务端根据“一件事”下的单事项，列出所有单事项上设置的情形选择项，按照“一件事”的业务流程配置单事项的情形选择项；发布模块，用于生成申报访问入口，发布“一件事”；分布式任务调度模块，用于设置集成服务的审批流程节点，设置制作的集成服务可视化表单提交后审批的步骤名称和对应的审核人员；受理分发模块，获取集成服务表单数据，服务端查询集成服务和单事项的关联关系数据；根据关联关系数据循环拆分单事项表单数据，生成若干个单事项的表单数据；按照单事项的接口配置推送数据。以上的实施例仅为说明本发明的技术思想，不能以此限定本发明的保护范围，凡是按照本发明提出的技术思想，在技术方案基础上所做的任何改动，均落入本发明保护范围之内。
