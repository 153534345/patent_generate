标题title
一种智能物流机器人及控制方法
摘要abst
本发明公开一种智能物流机器人及控制方法，视觉传感器将采集的图像信息通过5G通信模块传输至处理器，用三维重建算法进行物流机器人工作的仓库内的室内三维地图构建；将生成的三维地图与二维地图进行融合，建立融合地图，利用融合地图规划物流机器人行驶路线，控制物流机器人按照该规划的行驶路线运行。本发明使用了一种融合视觉传感器和激光雷达的方法来完成室内物流机器人使用的地图的建立与导航，解决了物流机器人在导航过程中容易碰撞障碍物的问题，使得物流机器人检测周围障碍物的能力以及自主导航的能力得到提高；采用5G通信，信息传输率高且准确、低消耗、低成本、高安全性。
权利要求书clms
1.一种智能物流机器人控制方法，其特征在于，视觉传感器收集物流机器人周围的仓库内的图像并将采集到的图像信息通过5G通信模块传输至处理器，处理器将图像进行预处理后传送至导向模块并在导向模块中处理，在导向模块中用三维重建算法进行物流机器人工作的仓库内的室内三维地图构建，同时导向模块将接收到的图像信息与激光雷达检测到的物流机器人工作的仓库内的障碍物信息以及实时定位信息结合生成二维地图，将生成的三维地图与二维地图进行融合，建立融合地图，总服务器将融合地图数据、物流机器人历史运行位置、运行时间、速度所形成的轨迹数据与物流机器人实时运行位置、运行时间、速度数据进行比对，利用融合地图规划物流机器人行驶路线，控制器通过驱动模块控制物流机器人按照该规划的行驶路线运行。2.根据权利要求1所述的一种智能物流机器人控制方法，其特征在于，总服务器与导向模块、控制器、视觉传感器、驱动模块之间基于5G通信框架进行数据高速映射。3.根据权利要求1所述的一种智能物流机器人控制方法，其特征在于，所述的导向模块包括激光雷达和里程计，基于里程计与视觉传感器用三维重建算法进行物流机器人工作的仓库内的室内三维地图构建，里程计用于提供智能物流机器人的实时位姿信息。4.根据权利要求1所述的一种智能物流机器人控制方法，其特征在于，所述导向模块中使用的三维重建算法包括如下步骤：S1.将视觉传感器捕捉到的物流机器人工作仓库的室内图像传输至处理器对图像进行预处理；S2.基于海森矩阵计算得到物流机器人工作仓库的室内图像的积分图像，找出增加积分图像的尺度空间后的不同尺度的每个像素层的所有像素点中的关键点，并为关键点设定一个主方向，根据关键点以及主方向计算特征矢量，并在得到物流机器人工作仓库的室内图像的特征点之后进行特征匹配；S3.处理器计算视觉传感器的内部参数矩阵A1与A2，随机选出4个不共线的在物流机器人工作仓库的室内图像的点集中的点，计算出其的变换矩阵并记为模型Q，并用模型Q测试点集中的点的所有数据并计算投影误差，迭代更新直至投影误差最小，取投影误差最小时所对应的模型Q为基础矩阵B，并计算本质矩阵E；S4.将方阵ETE和EET进行特征分解，计算特征值和特征向量，把ETE的所有特征向量组合得到正交矩阵V，把EET的所有特征向量组合得到正交矩阵U，计算旋转矩阵和平移向量；S5.用旋转矩阵和平移向量计算内部参数矩阵的投影矩阵，并得到物流机器人工作仓库的室内图像的空间三维点坐标，进而得到物流机器人工作仓库的室内图像的三维点云，剖分物流机器人工作仓库的室内图像的空间三维点坐标，得到物流机器人工作仓库的室内三维地图。5.根据权利要求1所述的一种智能物流机器人控制方法，其特征在于，所述建立融合地图包括如下步骤：S21.获得物流机器人坐标系与视觉传感器坐标系之间的变换矩阵；S22.将变换矩阵的信息进行即时定位与地图构建，建立基于激光的物流机器人工作仓库的室内局部二维栅格地图，该地图为激光局部二维栅格地图；S23.将物流机器人工作仓库的室内三维地图转化为跳表树表示的局部三维地图，并投影于一个平面，形成基于图像的物流机器人工作仓库的室内局部二维栅格地图，该地图为视觉局部二维栅格地图；S24.将激光局部二维栅格地图和视觉局部二维栅格地图进行融合，进而产生局部融合地图；S25.循环以上局部融合地图的形成步骤，形成物流机器人工作仓库的室内全局融合地图。6.根据权利要求1所述的一种智能物流机器人控制方法，其特征在于，所述的规划物流机器人行驶路线是使用物流机器人工作仓库的室内全局融合地图形成的泰森多边形的方法进行快速算法规划智能物流机器人的行驶路线。7.根据权利要求6所述的一种智能物流机器人控制方法，其特征在于，所述建立基于物流机器人工作仓库的室内全局融合地图的泰森多边形方法包括如下步骤：S31.将物流机器人工作仓库的室内全局融合地图最外侧特征点链接成一个多边形，并进行剖分；S32.对除了物流机器人工作仓库的室内全局融合地图最外侧特征点的其余离散点进行逐点内插，选择一个包含特征点的三角形并删除边，将其余离散点与三个顶点分别连接，三个顶点各自形成新的三角形，对所有新形成的三角形的所有边进行空外接圆检测与修改，直到所有边均通过空外接圆检测，重复上述操作，直到物流机器人工作仓库的室内全局融合地图中的所有离散点均完成内插；S33.将物流机器人工作仓库的室内全局融合地图中的所有离散点及每一个三角形进行编号，记录哪三个离散点构成一个三角形，并将与同一个离散点有关的三角形进行按顺时针方向排序；S34.计算并记录每个三角形的外接圆圆心，连接这些三角形的外接圆圆心，即得到基于物流机器人工作仓库的室内全局融合地图的泰森多边形。8.一种智能物流机器人，其特征在于，包括总服务器、视觉传感器、位于机体内部的底板和隔板；底板和隔板之间形成容纳内部部件的空间；内部部件包括用于提供电能的蓄电池、导向模块、控制器、5G通信模块和处理器；隔板上设置有可调节的载物模块；该空间内及底板下方设置有由控制器控制驱动行走的驱动模块；所述视觉传感器用于采集图像信息，并通过5G通信模块与处理器相通讯，处理器将处理过的图像信息通过5G通信模块传输至导向模块，导向模块将接收到的信息与总服务器内部地图结合，总服务器将融合地图数据、物流机器人历史运行位置、运行时间、速度所形成的轨迹数据与物流机器人实时运行位置、运行时间、速度数据进行比对，选择正确的控制结果传输至控制器，控制器通过驱动模块控制物流机器人运行，并通过载物模块装卸货物。9.根据权利要求8所述的一种智能物流机器人，其特征在于，所述驱动模块包括第一万向轮、第二万向轮、第一后轮、第二后轮、减速器、第一后轮制动装置、第二后轮制动装置、驱动电机和速度控制器，其中第一万向轮、第二万向轮、第一后轮和第二后轮由控制器控制的驱动电机驱动运动，并通过速度控制器控制运行速度，通过减速器减速，通过第一后轮制动装置和第二后轮制动装置紧急制动。10.根据权利要求8所述的一种智能物流机器人，其特征在于，所述载物模块包括第一底座连接件、第一伸缩杆、第一支撑连接件、第二底座连接件、第二伸缩杆、第二支撑连接件、矩形托盘、第三伸缩杆、第三底座连接件、第四伸缩杆和第四底座连接件；第一伸缩杆和第三伸缩杆的顶端均通过第一支撑连接件与矩形托盘相连，底端分别通过第一底座连接件和第三底座连接件与隔板相连；同样的，第二伸缩杆和第四伸缩杆的顶端均通过第二支撑连接件与矩形托盘相连，底端分别通过第二底座连接件和第四底座连接件与隔板相连，由控制器控制第一伸缩杆、第二伸缩杆、第三伸缩杆和第四伸缩杆的伸缩。
说明书desc
技术领域本发明涉及智能交通物流领域，尤其涉及一种智能物流机器人及其控制方法。背景技术物流机器人是针对物流运输方面设计的智能机器人。具有自主行走、自主避障、防跌落、自主语音提示、自主充电等功能。近年来，我国的现代物流以及相关技术正在高速发展，物流机器人已经广泛应用于各个场景。物流机器人可以在降低工作人员劳动强度的同时，大幅度节约运营成本，提高工作效率，提升服务质量，帮助实现工作场景信息化、智能化、科技化、现代化，为人们提供良好的服务体验。现有的物流机器人虽已可以实现自主行走、自主避障，但是无法在一些复杂场所进行避障工作。现有物流机器人的避障大都采用激光雷达、超声波传感器等。激光雷达无法胜任复杂场所的工作。超声波传感器虽然成本低廉、实施简单、可以识别透明的物体，但是它的检测距离近，三维轮廓识别精度不好，因此识别不清轮廓复杂的物体。现在需要的是可靠的、高效的物流机器人，然而只有很少的方法能够让物流机器人在任意环境有效地进行避障。而且物流机器人在信息传输效率低下时，无法接受实施命令。发明内容本发明的目的是为了解决物流机器人无法在任意环境有效地进行避障，以及物流机器人的信息传输效率低下的问题，从而提出的一种智能物流机器人及其控制方法。为了实现上述目的，本发明采用的如下技术方案：一种智能物流机器人控制方法，其特征在于，视觉传感器收集物流机器人周围的仓库内的图像并将采集到的图像信息通过5G通信模块传输至处理器，处理器将图像进行预处理，将剔除掉无用信息后的图像传送至导向模块并在导向模块中处理，在导向模块中用三维重建算法进行物流机器人工作的仓库内的室内三维地图构建，同时导向模块将接收到的图像信息与激光雷达检测到的物流机器人工作的仓库内的障碍物信息以及实时定位信息结合生成二维地图，将生成的三维地图与激光雷达所建的二维地图进行融合，建立融合地图，总服务器将融合地图数据、物流机器人历史运行位置、运行时间、速度所形成的轨迹数据与物流机器人实时运行位置、运行时间、速度数据进行比对，利用融合地图规划物流机器人行驶路线，控制器通过驱动模块控制物流机器人按照该规划的行驶路线运行。进一步地，总服务器与导向模块、控制器、视觉传感器、驱动模块之间基于5G通信框架进行数据高速映射。进一步地，所述的导向模块包括激光雷达和里程计，基于里程计与视觉传感器用三维重建算法进行物流机器人工作的仓库内的室内三维地图构建，里程计用于提供智能物流机器人的实时位姿信息。进一步地，所述导向模块中使用的三维重建算法包括如下步骤：S1.将视觉传感器捕捉到的物流机器人工作仓库的室内图像传输至处理器对图像进行预处理；S2.基于海森矩阵计算得到物流机器人工作仓库的室内图像的积分图像，找出增加积分图像的尺度空间后的不同尺度的每个像素层的所有像素点中的关键点，并为关键点设定一个主方向，根据关键点以及主方向计算特征矢量，并在得到物流机器人工作仓库的室内图像的特征点之后进行特征匹配；S3.处理器计算视觉传感器的内部参数矩阵A1与A2，随机选出4个不共线的在物流机器人工作仓库的室内图像的点集中的点，计算出其的变换矩阵并记为模型Q，并用模型Q测试点集中的点的所有数据并计算投影误差，迭代更新直至投影误差最小，取投影误差最小时所对应的模型Q为基础矩阵B，并计算本质矩阵E；S4.将方阵ETE和EET进行特征分解，计算特征值和特征向量，把ETE的所有特征向量组合得到正交矩阵V，把EET的所有特征向量组合得到正交矩阵U，计算旋转矩阵和平移向量；S5.用旋转矩阵和平移向量计算内部参数矩阵的投影矩阵，并得到物流机器人工作仓库的室内图像的空间三维点坐标，进而得到物流机器人工作仓库的室内图像的三维点云，剖分物流机器人工作仓库的室内图像的空间三维点坐标，得到物流机器人工作仓库的室内三维地图。进一步地，所述建立融合地图包括如下步骤：S21.获得物流机器人坐标系与视觉传感器坐标系之间的变换矩阵；S22.将变换矩阵的信息进行即时定位与地图构建，建立基于激光的物流机器人工作仓库的室内局部二维栅格地图，该地图为激光局部二维栅格地图；S23.将物流机器人工作仓库的室内三维地图转化为跳表树表示的局部三维地图，并投影于一个平面，形成基于图像的物流机器人工作仓库的室内局部二维栅格地图，该地图为视觉局部二维栅格地图；S24.将激光局部二维栅格地图和视觉局部二维栅格地图进行融合，进而产生局部融合地图；S25.循环以上局部融合地图的形成步骤，形成物流机器人工作仓库的室内全局融合地图。进一步地，所述的规划物流机器人行驶路线是使用物流机器人工作仓库的室内全局融合地图形成的泰森多边形的方法进行快速算法规划智能物流机器人的行驶路线。进一步地，所述建立基于物流机器人工作仓库的室内全局融合地图的泰森多边形方法包括如下步骤：S31.将物流机器人工作仓库的室内全局融合地图最外侧特征点链接成一个多边形，并进行剖分；S32.对除了物流机器人工作仓库的室内全局融合地图最外侧特征点的其余离散点进行逐点内插，选择一个包含特征点的三角形并删除边，将其余离散点与三个顶点分别连接，三个顶点各自形成新的三角形，对所有新形成的三角形的所有边进行空外接圆检测与修改，直到所有边均通过空外接圆检测，重复上述操作，直到物流机器人工作仓库的室内全局融合地图中的所有离散点均完成内插；S33.将物流机器人工作仓库的室内全局融合地图中的所有离散点及每一个三角形进行编号，记录哪三个离散点构成一个三角形，并将与同一个离散点有关的三角形进行按顺时针方向排序；S34.计算并记录每个三角形的外接圆圆心，连接这些三角形的外接圆圆心，即得到基于物流机器人工作仓库的室内全局融合地图的泰森多边形。进一步地，位于导向模块的物流机器人工作的仓库内的室内三维地图构建包括如下步骤：S1.将视觉传感器捕捉到的物流机器人工作仓库的室内图像传输至处理器对图像进行预处理，以求改善视觉效果，提高图像的清晰度，为后续建立三维地图打好基础；去除图像上与建立三维地图无关的价值，突出有用的信息，提高后续图片的处理效率，提高图片的使用价值；S2.将经过上述方法预处理过的物流机器人工作仓库的室内图像转换为积分图像，使用海森矩阵计算得到物流机器人工作仓库的室内图像的积分图像和找出增加图像的尺度空间后的不同尺度的每个像素层的所有像素点中的关键点，并对图像进行梯度运算依照运算结果为关键点设定一个主方向，根据关键点以及主方向计算特征矢量并在得到物流机器人工作仓库的室内图像的特征点之后进行特征匹配；S3.处理器计算视觉传感器的内部参数矩阵A1与A2，在物流机器人工作仓库的室内图像点集中随机选出4个没有线性关系的点，计算出其的变换矩阵并记为模型Q，用模型Q测试物流机器人工作仓库的室内图像点集中的所有数据，计算数据与模型Q的投影误差，对模型Q进行迭代更新直至投影误差最小，取投影误差最小所对应的模型Q为基础矩阵B，并计算本质矩阵：S4.将方阵ETE进行特征分解，计算特征值和特征向量：vi＝λivi其中vi为ETE所对应的特征向量，λi为ETE所对应的特征值，之后把ETE的所有特征向量组合得到正交矩阵V；将方阵EET进行特征分解，计算特征值和特征向量：ui＝λiui其中ui为EET所对应的特征向量，λi为EET所对应的特征值，之后把EET的所有特征向量组合得到正交矩阵U，计算旋转矩阵：R＝VUT，计算平移向量t：E＝t×R×t；S5.用计算得到的旋转矩阵R与平移向量t以及内部参数矩阵A1与A2对应相机的内部参数矩阵A来计算投影矩阵P：P＝A，并得到物流机器人工作仓库的室内图像的空间三维点坐标，进而得到物流机器人工作仓库的室内图像的三维点云，用直接剖分法对物流机器人工作仓库的室内图像的三维点坐标进行三角剖分，得到物流机器人工作仓库的室内图像的三维地图的大致模型，之后将视觉传感器获得的图像中选择质量最优的图像，并将其上纹理映射至物流机器人工作仓库的室内图像三维模型上以获得更加逼真的效果。进一步地，获得物流机器人工作仓库的室内三维地图与激光雷达所建的融合地图包括如下步骤：S21.将激光雷达收集到的室内数据与物流机器人工作的速度与位移的数据进行最优估计融合，其中物流机器人工作的速度与位移的数据由激光雷达、里程计和视觉传感器共同检测，然后得到智能物流机器人坐标系与视觉传感器坐标系之间的变换矩阵；S22.将变换矩阵的信息转换成激光信息并用赫克托耳法算法进行即时定位与地图构建，建立基于激光的物流机器人工作仓库的室内局部二维栅格地图，该地图为激光局部二维栅格地图；S23.将物流机器人工作仓库的室内三维地图转化为跳表树表示的局部三维地图，之后将用跳表树表示的物流机器人工作仓库的局部三维地图投影于一个平面，形成基于图像的物流机器人工作仓库的室内局部二维栅格地图，该地图为视觉局部二维栅格地图；S24.将激光局部二维栅格地图和视觉局部二维栅格地图的每个栅格都用0～1的概率表示，设定激光局部二维栅格地图的极限值t1和视觉局部二维栅格地图的极限值t2，之后将占有率与预先分别设定的激光局部二维栅格地图的极限值t1和视觉局部二维栅格地图的极限值t2进行比较，若占有率大于等于极限值则显示为占有，小于极限值则显示为空，保存显示时，1表示占有，0表示空，-1表示不确定；再将激光局部二维栅格地图和视觉局部二维栅格地图的每个栅格按照栅格的占有规则进行极限值的判别，其中两者都为空时则判定为空，两者都不确定时判定为不确定，其余则判定为占有，进而产生局部融合地图；S25.循环局部融合地图的形成过程，形成物流机器人工作仓库的室内全局融合地图。进一步地，规划物流机器人行驶路线是使用基于物流机器人工作仓库的室内全局融合地图的泰森多边形图的方法进行快速算法规划智能物流机器人的行驶路线。进一步地，获得基于物流机器人工作仓库的室内全局融合地图的泰森多边形的方法如下：S31.将物流机器人工作仓库的室内全局融合地图最外侧特征点链接成一个多边形，保证所有内角均＜180°，即生成凸包，通过连接凸包链表中的两个点“裁剪”掉一个凸包多边形的一个角生成新的凸包多边形，重复此操作直至最新凸包多边形为一个三角形，结束凸包三角剖分；S32.对除了物流机器人工作仓库的室内全局融合地图最外侧特征点的其余离散点进行逐点内插，选择一个包含特征点的三角形并删除边，将其余离散点与三个顶点分别连接，三个顶点各自形成新的三角形，对所有新形成的三角形的所有边进行空外接圆检测与修改，直到所有边均通过空外接圆检测，即使得边所在的两个三角形x，y的顶点A，B均不在另一个三角形的外接圆内，即重复上述操作，直到物流机器人工作仓库的室内全局融合地图的所有离散点均完成内插，其中x，y为新形成的三角形的任意一条边m所对应的两个三角形，A，B为这两个三角形远离边m的顶点，Ox为三角形x的外接圆圆心，为三角形y的B点到三角形x的外接圆心的距离，ax，bx，cx为三角形x的三边长，Sx为三角形x的面积；S33.将物流机器人工作仓库的室内全局融合地图中的离散点及每一个三角形进行编号，记录哪三个离散点构成一个三角形，找出与每一个物流机器人工作仓库的室内全局融合地图中的离散点临近的所有的三角形并记录其编号，与同一个离散点有关的三角形进行按顺时针方向排序；S34.计算并记录每个三角形的外接圆圆心；根据每一个物流机器人工作仓库的室内全局融合地图中的离散点的相邻的三角形，连接这些三角形的外接圆圆心，即得到基于物流机器人工作仓库的室内全局融合地图的泰森多边形。一种智能物流机器人，包括总服务器、视觉传感器、位于机体内部的底板和隔板；底板和隔板之间形成容纳内部部件的空间；内部部件包括用于提供电能的蓄电池、导向模块、控制器、5G通信模块和处理器；隔板上设置有可调节的载物模块；该空间内及底板下方设置有由控制器控制驱动行走的驱动模块；所述视觉传感器用于采集图像信息，并通过5G通信模块与处理器相通讯，处理器将处理过的图像信息通过5G通信模块传输至导向模块，导向模块将接收到的信息与总服务器内部地图结合，总服务器将融合地图数据、物流机器人历史运行位置、运行时间、速度所形成的轨迹数据与物流机器人实时运行位置、运行时间、速度数据进行比对，选择正确的控制结果传输至控制器，控制器通过驱动模块控制物流机器人运行，并可通过载物模块装卸货物。进一步地，智能物流机器人，基于5G通信模块，将地图数据、运行轨迹数据传输至接入部分，接着通过承载部分再进入核心部分，核心部分将地图数据、运行轨迹数据通过服务化架构实现数据处理，最后将处理过的地图数据、运行轨迹数据以及生成的地图数据回传至物流机器人，机器人与核心部分之间的接入部分采取分离的方式形成多种部署形态，以适应物流机器人的多种应用场景，核心部分基于服务化架构将一个多功能整体拆分成具有独自功能的个体，在集中接收物流机器人传输的地图数据、运行轨迹数据以及工作数据之后能独立按不同的工作场景要求对数据进行分析、传送，以实现在物流机器人运行时所需的移动、搬运、组合等的需求。进一步地，5G通信模块采用时延0.5毫秒的可靠连接进行稳定数据传输，基站的峰值速度不低于25Gb/s，采用广覆盖的5G组网为建在地下的仓库提供了良好的质量。进一步地，物流机器人内部的导向模块装备有激光雷达、里程计，里程计与视觉传感器可以帮助三维重建算法进行室内三维地图构建，预处理过后的视觉传感器捕获的图像需要进行的二维投影，之后将生成的三维地图与激光雷达所建的二维地图进行结合，建立融合地图规划物流机器人行进路线，躲避障碍。进一步地，物流机器人的蓄电池通过机体外壳背面左下角所设置的充电口进行充电；特别的，物流机器人内部的视觉传感器通过5G通信模块与处理器相通，处理器再通过5G通信模块将处理过的图像信息传输至导向模块，导向模块生成地图，并将地图信息输送至控制器，控制器通过驱动模块控制物流机器人运行并在装载货物时通过装载模块装卸。进一步地，物流机器人通过蓝牙声控和红外线感应遥控两种方式控制，两种模式可以相互切换，且控制范围均为30米以内，保证智能物流机器人能全覆盖区域进行工作。进一步地，所述驱动模块包括第一万向轮、第二万向轮、第一后轮、第二后轮、减速器、第一后轮制动装置、第二后轮制动装置、驱动电机和速度控制器，其中第一万向轮、第二万向轮、第一后轮和第二后轮由控制器控制的驱动电机驱动运动，并通过速度控制器控制运行速度，通过减速器减速，通过第一后轮制动装置和第二后轮制动装置制动。进一步地，四个车轮分为第一万向轮、第二万向轮、第一后轮和第二后轮，第一万向轮通过第一轮胎连接件与底板相连；同样的，第二万向轮通过第二轮胎连接件与机体底板相连，第一万向轮和第二万向轮由控制器控制转动方向，第一后轮和第二后轮通过车轴相连，第一后轮通过第一后轮制动装置与底板相连；同样的，第二后轮通过第二后轮制动装置与底板相连，第一后轮和第二后轮由第一万向轮和第二万向轮带动，并且通过第一后轮制动装置和第二后轮制动装置制动。进一步地，物流机器人内部的驱动模块与导向模块相结合，导向模块规定物流机器人行走路径，通过速度控制器控制运行速度，靠近目标时通过减速器减速，遇到紧急状况可通过第一后轮制动装置和第二后轮制动装置进行紧急制动。进一步地，物流机器人的外壳分为两部分，有机体主体外壳、底板，底板嵌套在机体主体外壳中，两部分通过机体主体外壳下方的螺丝钉固定。进一步地，物流机器人的载物模块包括第一底座连接件、第一伸缩杆、第一支撑连接件、第二底座连接件、第二伸缩杆、第二支撑连接件、矩形托盘、第三伸缩杆、第三底座连接件、第四伸缩杆、第四底座连接件；第一伸缩杆和第三伸缩杆顶端通过第一支撑连接件与矩形托盘相连，底端分别通过第一底座连接件和第三底座连接件与隔板相连；第二伸缩杆和第四伸缩杆的顶端通过第二支撑连接件与矩形托盘相连，底端分别通过第二底座连接件和第四底座连接件与隔板相连，由控制器控制第一伸缩杆、第二伸缩杆、第三伸缩杆、第四伸缩杆的伸缩。进一步地，机体主体外壳上方设有矩形带盖开口，开口内设视觉传感器，机体主体外壳正面中央设置显示屏，正面右侧设有方形开口装有激光雷达，正面左侧设有控制开关，背面左下角设有充电口。进一步地，物流机器人蓄电池采用铅酸蓄电池，可回收率高达95％以上，所述充电口设置有Micro USB接口、USB Type C接口、Lightning接口三种接口，支持多种数据线进行充电。与现有技术相比，本发明具备以下有益效果：1、本发明使用了一种融合视觉传感器和激光雷达的方法来完成室内移动物流机器人使用的地图的建立与导航，可以建立与现有方法相比更加完善的地图，解决了物流机器人在装载货物的导航过程中容易碰撞障碍物的问题，使得物流机器人检测周围障碍物的能力以及自主导航的能力得到提高。2、本发明运用到了5G通信模块，实现局域部分内的5G通信，使得本发明的传输具有低消耗、低成本、高安全性以及高传输速率等优良特质。本发明在使用时可有效打破时间和空间限制，实现万物互联，使得物流机器人的操作更加流畅，具有更高的操作精准性。该机体中未涉及部分均与现有技术相同或可采用现有技术加以实现，本发明结构简单，使用方式简单快捷。附图说明图1为本实施例的智能物流机器人展开时整体结构示意图；图2为本实施例的智能物流机器人收起时整体结构示意图；图3为本实施例的智能物流机器人局部构件连接示意图；图4为本实施例的智能物流机器人运行控制更新控制流程图；图5为本实施例的智能物流机器人工作的仓库内的室内三维地图构建流程图；图6为本实施例的智能物流机器人工作仓库的室内三维地图与激光雷达建立融合地图的流程图；图7为本发明的基于物流机器人工作仓库的室内全局融合地图的泰森多边形的方法流程图；图中：1、机体主体外壳；2、第一底座连接件；3、第一伸缩杆；4、第一支撑连接件；5、第二底座连接件；6、第二伸缩杆；7、第二支撑连接件；8、矩形托盘；9、第一托盘把手；10、激光雷达；11、方形开口；12、显示屏；13、开关；14、矩形带盖开口；15、视觉传感器；16、第一万向轮；17、第二万向轮；18、第一轮胎连接件；19、第二轮胎连接件；20、第一后轮；21、第一后轮制动装置；22、车轴；23、第二后轮制动装置；24、第二后轮；25、充电口；26、底板；27、第一蓄电池；28、驱动电机；29、控制器；30、处理器；31、减速器；32、速度控制器；33、第二托盘把手；34、第三伸缩杆；35、第三底座连接件；36、第四伸缩杆；37、第四底座连接件；38、里程计；39、第二蓄电池；40、隔板。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。在本发明的描述中，需要理解的是，术语“上”、“下”、“前”、“后”、“左”、“右”、“顶”、“底”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的机体或元件必须具有特定的方位，以特定的方位构造和操作，因此不能理解为对本发明的限制。如图1至图3所示，本实施例中公开了一种智能物流机器人，物流机器人外部设置总服务器，总服务器内部有虚拟控制器；所述虚拟控制器与导向模块、控制器29、视觉传感器15、载物模块、驱动模块形成基于5G通信模块的高速映射；所述视觉传感器15、导向模块、处理器30通过5G通信模块将实时数据映射至总服务器。总服务器将核心部分处理的地图数据、运行轨迹数据与物流机器人实时运行数据进行比对，选择正确的控制结果传输至控制器29，实现自动更新控制。结合图4所示，智能物流机器人可以通过以下方式实现自动更新，将机器人实时运行的数据传输至总服务器，然后将物流机器人的总服务器生成的地图数据和运行轨迹数据与机器人实时运行数据进行参数对比，如果参数不在正常范围以内，则表示物流机器人自查异常，那么物流机器人则开始进行自动更新，如果自动更新失败，则关闭小车，并报告上传异常数据；如果物流机器人的总服务器生成的地图数据和运行轨迹数据与机器人实时运行数据参数比对正常，则进行总服务器核心部分处理的地图数据、运行轨迹数据的比对，如果总服务器核心部分处理的地图数据、运行轨迹数据的比对结果不在正常范围内，则输出导向模块的实时数据控制结果以及与之相匹配的地图数据，显示物流机器人自查异常并进行自动更新，如果自动更新失败，则关闭小车并报告异常上传异常数据；如果总服务器核心部分处理的地图数据、运行轨迹数据是正常的，那么检查物流机器人运行是否正常，如果运行不正常，就输出处理器30处理的地图数据与规划运行轨迹数据的计算过程以及输出原始数据以备检验以及显示物流机器人自查异常并进行自动更新，如果自动更新失败，则关闭小车，并报告上传异常数据；如果机器人运行正常，那么机器人就继续运行。外部总服务器可以同时连接多台智能物流机器人，有利于智能物流机器人的组织管理，减少了重复的建设控制程序的步骤，极大地提高了控制的效率，并且在5G通信模块的背景下提高了数据传输的速度、实现更精确的控制。物流机器人内部的导向模块装备有激光雷达10、里程计38，里程计38与视觉传感器15所获得的数据经过处理器30预处理后传送至导向模块采用三维重建算法进行室内三维地图构建，同时将视觉传感器15所获得的图像在处理器30中进行处理后传送至导向模块并与激光雷达10所检测到的数据相结合生成二维地图，之后在导向模块中将室内三维地图与激光雷达10所建的二维地图进行结合，建立融合地图，规划物流机器人行进路线，解决了传统机器人只能直线行走的问题，当多个机器人工作相遇时，会根据预先设置的导向轨迹数据，寻找最优路径，躲避障碍，保证物流机器人的使用安全。结合图5所示，导向模块用于对物流机器人工作仓库内的室内三维地图构建，该三维地图构建方法包括如下步骤：S1.将视觉传感器15捕捉到的物流机器人工作仓库的室内图像传输至处理器30对图像进行预处理，采用中值滤波、形态学滤波、双边滤波等过滤方法，以改善视觉效果，提高建立物流机器人工作仓库的室内三维地图的效率，重点去除图像上与建立物流机器人工作仓库的室内三维地图无关的信息，突出有用的信息，提高图片的使用价值；S2.将经过预处理的物流机器人工作仓库的室内图像转换为基于物流机器人工作仓库的室内图像的积分图像，可以利用海森矩阵计算积分图像，并且给图像增加尺度空间，之后找出不同尺度的每个像素层的所有像素点中的关键点，并对图像进行梯度运算，依照梯度运算的结果为关键点设定一个主方向，在得到物流机器人工作仓库的室内图像的特征点之后进行特征匹配，特征点可以根据关键点并计算特征矢量后获得；S3.视觉传感器15的内部参数矩阵A1与A2可以通过处理器30读取获得，在物流机器人工作仓库的室内图像集中点随机选出4个没有线性关系的点，依靠着4个点获得变换矩阵，并将该矩阵记为模型Q，用模型Q测试物流机器人工作仓库的室内图像集中点的所有数据并计算投影误差，迭代更新模型Q直至投影误差最小，之后就可以得到基础矩阵B，基础矩阵B为投影误差最小时所对应的模型Q，通过基础矩阵B计算本质矩阵E：S4.将方阵ETE进行特征分解，计算特征值和特征向量：vi＝λivi其中vi为ETE所对应的特征向量，λi为ETE所对应的特征值，之后把ETE的所有特征向量组合得到正交矩阵V；将方阵EET进行特征分解，计算特征值和特征向量：ui＝λiui其中ui为EET所对应的特征向量，λi为EET所对应的特征值，之后把EET的所有特征向量组合得到正交矩阵U，计算旋转矩阵：R＝VUT，计算平移向量t：E＝t×R×t；S5.用计算得到的旋转矩阵R与平移向量t以及内部参数矩阵A1与A2对应相机的内部参数矩阵A来计算投影矩阵P：P＝A，这时可以调用reprojectimageto3d函数，这样就可以得到物流机器人工作仓库的室内图像的空间三维点坐标，进而得到物流机器人工作仓库的室内图像的三维点云，对物流机器人工作仓库的室内图像的三维点坐标进行三角剖分就可以得到物流机器人工作仓库的室内图像的三维地图，之后将选择的视觉传感器15和里程计38获得的质量最优的图像上的纹理映射至物流机器人工作仓库的室内图像三维地图的模型上就可以获得更加精确、逼真的效果。结合图6所示，智能物流机器人获得物流机器人工作仓库室内三维地图与激光雷达10所建的融合地图包括如下步骤：S21.获得智能物流机器人坐标系与视觉传感器15坐标系之间的变换矩阵，这一步可以通过将激光雷达10收集到的物流机器人工作仓库的室内数据、视觉传感器15与激光雷达10检测到的物流机器人工作的速度和位移的数据进行最优估计融合实现；S22获得基于激光的物流机器人工作仓库的室内激光局部二维栅格地图，这一步可以通过将变换矩阵的信息转换成激光信息并用赫克托耳法算法进行即时定位与地图构建实现；S23.将物流机器人工作仓库的室内图像三维地图转化为跳表树表示的局部三维地图之后投影于一个平面，就可以得到基于图像的物流机器人工作仓库的室内视觉局部二维栅格地图；S24.将激光局部二维栅格地图和视觉局部二维栅格地图的每个栅格都用0～1的概率表示，设定激光局部二维栅格地图的极限值t1和视觉局部二维栅格地图的极限值t2，之后将占有率与预先分别设定的激光局部二维栅格地图的极限值t1和视觉局部二维栅格地图的极限值t2进行比较，若占有率大于等于极限值则显示为占有，小于极限值则显示为空，保存显示时，1表示占有，0表示空，-1表示不确定；再将激光局部二维栅格地图和视觉局部二维栅格地图的每个栅格按照栅格的占有规则进行极限值的判别，其中两者都为空时则判定为空，两者都不确定时判定为不确定，其余则判定为占有，进而产生局部融合地图；S25.循环以上步骤，得到物流机器人工作仓库的室内全局融合地图。结合图7所示，规划物流机器人行驶路线是使用基于物流机器人工作仓库的室内全局融合地图的泰森多边形图的方法进行快速行进算法规划智能物流机器人的行驶路线。该方法的具体步骤为：S31.将物流机器人工作仓库的室内全局融合地图最外侧特征点链接成一个多边形，保证所有内角均＜180°，即生成凸包，通过连接凸包链表中的两个点“裁剪”掉一个凸包多边形的一个角从而生成新的凸包多边形，重复此操作直至最新凸包多边形为一个三角形，结束凸包三角剖分；S32.对除了物流机器人工作仓库的室内全局融合地图最外侧特征点的其余离散点进行逐点内插，选择一个包含特征点的三角形并删除边，将其余离散点与三个顶点分别连接，三个顶点各自形成新的三角形，对所有新形成的三角形的所有边进行空外接圆检测与修改，直到所有边均通过空外接圆检测，即该边所在的两个三角形x，y的顶点A，B均不在另一个三角形的外接圆内，即重复上述操作，直到所有物流机器人工作仓库的室内全局融合地图的离散点均完成内插；其中x，y为新形成的三角形的任意一条边m所对应的两个三角形，A，B为这两个三角形远离边m的顶点，Ox为三角形x的外接圆圆心，为三角形y的B点到三角形x的外接圆心的距离，ax，bx，cx为三角形x的三边长，Sx为三角形x的面积；S33.将物流机器人工作仓库的室内全局融合地图中的离散点及每一个三角形进行编号，记录哪三个离散点构成一个三角形，找出与每一个物流机器人工作仓库的室内全局融合地图中的离散点临近的所有的三角形并记录其编号，与同一个离散点有关的三角形进行按顺时针方向排序；S34.计算并记录每个三角形的外接圆圆心，根据每一个物流机器人工作仓库的室内全局融合地图中的离散点的相邻的三角形，连接这些三角形的外接圆圆心，即得到基于物流机器人工作仓库的室内全局融合地图的泰森多边形。物流机器人使用5G通信技术加快了控制机器人信息传输效率，物流机器人内部的5G通信模块把视觉传感器15采集到的信息传送至处理器30进行实时H.264编码，以完成采集的视频信息处理，该模块所需实时消息传输协议的码率为6～20Mbps，将信息传输到云端进行实时H.265转码和分发加速，大大提高速度，之后信息通过逆变换、解码，解决信息在传播过程中被阻断而导致物流机器人故障的问题。如图1至图3所示，物流机器人包括总服务器、视觉传感器15、位于物流机器人机体内部的底板26、隔板40；底板26和隔板40之间形成容纳内部部件的空间。内部部件包括第一蓄电池27、第二蓄电池39、导向模块、控制器29、5G通信模块、处理器30。隔板40上设置有载物模块。该空间内及底板下方设置有驱动模块。物流机器人的第一蓄电池27和第二蓄电池39都可以通过机体外壳上设置的三种充电口25中任意一种进行充电，多种数据线插口的设置，大大提高了物流机器人的充电效率。特别的，视觉传感器15通过5G通信模块与处理器30相连，将采集的图像信息传送至处理器30，处理器30再通过5G通信模块将处理过的图像信息传输至导向模块，导向模块将图像信息进行处理得到物流机器人工作仓库的室内全局融合地图，并存储在导向模块和总控制器中，提高机器人的轨迹正确安全性，地图信息输送至控制器29，控制器29通过驱动模块控制物流机器人运行并在装载货物时通过装载模块装卸。物流机器人通过蓝牙声控和红外线感应遥控两种方式控制，两种模式可以相互切换，所述控制方法设置控制范围均为30米以内，保证智能物流机器人能在全覆盖区域进行工作，大大提高了智能物流机器人的利用率。物流机器人内部的驱动模块包括减速器31、第一后轮制动装置21、第二后轮制动装置23、驱动电机28、速度控制器32、第一万向轮16、第二万向轮17、第一后轮20、第二后轮24。第一万向轮16通过第一轮胎连接件18与底板26相连，第二万向轮17通过第二轮胎连接件19与底板26相连，第一万向轮16和第二万向轮17由驱动电机28驱动运动，并由速度控制器32控制运动速度，由控制器29控制转动方向，第一后轮20和第二后轮24通过车轴22相连，第一后轮20通过第一后轮制动装置21与底板26相连、第二后轮24通过第二后轮制动装置23与底板26相连，第一后轮20和第二后轮24由第一万向轮16和第二万向轮17带动，并且通过第一后轮制动装置21和第二后轮制动装置23制动，驱动模块一体化，串联控制工作，减少能源损耗，且可以自由控制物流机器人的转向。物流机器人内部的驱动模块与导向模块相结合，导向模块规定物流机器人行走路径，驱动模块通过速度控制器32控制运行速度，靠近目标时通过减速器31减速，遇到紧急状况可通过第一后轮制动装置21和第二后轮制动装置23紧急制动，多方面保证物流机器人的使用安全，延长机器人的使用寿命。物流机器人的外壳分为两部分，有机体主体外壳1、底板26，底板26嵌套在机体主体外壳1中，两部分通过机体主体外壳1下方的螺丝钉固定，机体主体外壳1上设有矩形带盖开口14和载物模块，矩形带盖开口14内置视觉传感器15，机体主体外壳1正面中央设有显示屏12，可以显示电量，当电量不足时可以进行语音播报，提示充电，保证机器人正常工作。物流机器人的载物模块包括第一底座连接件2、第一伸缩杆3、第一支撑连接件4、第二底座连接件5、第二伸缩杆6、第二支撑连接件7、矩形托盘8、第一托盘把手9、第二托盘把手33、第三伸缩杆34、第三底座连接件35、第四伸缩杆36、第四底座连接件37。第一伸缩杆3和第三伸缩杆34的顶端均通过第一支撑连接件4与矩形托盘8相连，底端分别通过第一底座连接件2和第三底座连接件35与隔板40相连；同样的，第二伸缩杆6和第四伸缩杆36的顶端均通过第二支撑连接件7与矩形托盘8相连，底端分别通过第二底座连接件5和第四底座连接件37与隔板40相连，由控制器29控制第一伸缩杆3、第二伸缩杆6、第三伸缩杆34、第四伸缩杆36的伸缩，用来调节矩形托盘8的升降。连接件之间可由人工拆卸，便于自由组装，可通过与其他配件组装以实现更多的功能，矩形托盘8的两个相对的外侧面上设置有第一托盘把手9和第二托盘把手33，带把手的矩形托盘8便于在物流机器人不工作时由人工进行搬运，以适应更多的实际情况。以上所述，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，根据本发明的技术方案及其专利构思加以等同替换或改变，都应涵盖在本发明的保护范围之内。
