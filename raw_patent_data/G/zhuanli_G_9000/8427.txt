标题title
基于区块链的工业互联网数据存储方法、系统及存储介质
摘要abst
本发明涉及工业互联网技术领域，具体涉及一种基于区块链的工业互联网数据存储方法，包括：获取工业设备的传感器数据，对传感器数据进行过滤处理，得到待处理数据；将待处理数据发送至边缘服务器，进行分组和关联，得到待上传数据；其中，每个分组标签对应至少一个传感器；待上传数据的数据结构为：分组标签，；边缘服务器接收云服务器的区块链节点上训练好的自适应神经网络数据过滤模型，使用自适应神经网络数据过滤模型对待上传数据进行过滤处理，获得待存储数据；将待存储数据转发至云服务器的区块链节点上基于分组标签进行关联存储。
权利要求书clms
1.一种基于区块链的工业互联网数据存储方法，其特征在于，包括：获取工业设备的传感器数据，对传感器数据进行过滤处理，得到待处理数据；将所述待处理数据发送至边缘服务器，进行分组和关联，得到待上传数据；其中，每个分组标签对应至少一个传感器；待上传数据的数据结构为：分组标签，，其中，1≤i≤M，M为正整数，n为所述分组标签包含的传感器的数量，n为大于等于1的正整数；边缘服务器接收云服务器的区块链节点上训练好的自适应神经网络数据过滤模型，使用所述自适应神经网络数据过滤模型对待上传数据进行过滤处理，获得待存储数据；将所述待存储数据转发至云服务器的区块链节点上基于分组标签进行关联存储。2.如权利要求1所述的基于区块链的工业互联网数据存储方法，其特征在于，使用所述自适应神经网络数据过滤模型对分组标签和对应的传感器数据进行过滤处理，获得待存储数据，包括：基于边缘服务器的预设负载，根据传感器的核定负载和核定能耗情况，确定传感器的第一分组；基于边缘服务器的剩余负载，根据传感器的工作负载和工作能耗情况，确定传感器的第二分组；基于所述第一分组和第二分组，确定是否需要对传感器的组别进行调整；若是，则将传感器从第一分组调整到第二分组，得到第三分组；或者从第二分组调整到第一分组，得到第四分组；若得到的是第三分组，对所述第三分组里面每个ID集合里面的传感器数据做进一步处理；若得到的是第四分组，对所述第四分组里面每个ID集合里面的传感器数据做进一步处理。3.如权利要求1所述的基于区块链的工业互联网数据存储方法，其特征在于，还包括：当接收到查询指令时，确定所述查询指令是否为异常确认指令；若是，则根据预设算法计算传感器分组异常的概率，根据分组标签的异常概率确定异常分组；根据异常分组的传感器的分组标签查找对应的异常传感器数据。4.如权利要求3所述的基于区块链的工业互联网数据存储方法，所述根据异常分组的传感器的分组标签查找对应的异常传感器数据，包括：根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyk =Hashk ；其中，为所述分组标签，Hashk为序号为k的哈希函数，HashKeyk为运算得到的序号为k的哈希值，1≤k≤K，K为大于1的整数；为序号为i的分组标签，1≤i≤I，I为大于1的整数；获取分组标签对应的数组，并判断数组是否满足以下判断条件：对任意一个k的取值，等式ARRAY==Value_1均成立，其中，ARRAY为查询数组，Value_1为预设的第一数值；若所述数组不满足所述判断条件，则判定在服务器的传感器数据库中未查询到所述分组标签。5.如权利要求4所述的基于区块链的工业互联网数据存储方法，其特征在于，还包括：当边缘服务器中没有存储任何传感器数据时，对任意一个m的取值，均执行以下赋值操作：ARRAY=Value_2其中，1≤m≤M，M为所述数组中的传感器个数，Value_2为预设的第二数值；当边缘服务器中存在传感器数据时，提取所述传感器数据中的分组标签；根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyExistk=Hashk ；其中， Exist为所述分组标签，HashKeyExistk为运算得到的序号为k的哈希值；对任意一个k的取值，均执行以下赋值操作：ARRAY=Value_1。6.如权利要求4或5所述的基于区块链的工业互联网数据存储方法，其特征在于，还包括：确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据。7.如权利要求4或5所述的基于区块链的工业互联网数据存储方法，其特征在于，还包括：确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据和正常传感器数据。8.一种基于区块链的工业互联网数据存储系统，其特征在于，包括：获取模块，被配置为获取工业设备的传感器数据，对传感器数据进行过滤处理，得到待处理数据；上传模块，被配置为将所述待处理数据发送至边缘服务器，进行分组和关联，得到待上传数据；其中，每个分组标签对应至少一个传感器；待上传数据的数据结构为：分组标签，，其中，1≤i≤M，M为正整数，n为所述分组标签包含的传感器的数量，n为大于等于1的正整数；过滤模块，被配置为边缘服务器接收云服务器的区块链节点上训练好的自适应神经网络数据过滤模型，使用所述自适应神经网络数据过滤模型对待上传数据进行过滤处理，获得待存储数据；存储模块，被配置为将所述待存储数据转发至云服务器的区块链节点上基于分组标签进行关联存储。9.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至7中任一项所述的工业互联网数据存储方法。10.一种电子设备，其特征在于，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器实现如权利要求1至6中任一项所述的工业互联网数据存储方法。
说明书desc
技术领域本发明涉及工业互联网技术领域，具体涉及一种基于区块链的工业互联网数据存储方法、系统、计算机可读存储介质及电子设备。背景技术随着工业互联网时代的到来，工业生产制造过程产生的大量大数据如何处理受到越来越多的关注。同时随着工业互联网的发展，在很多领域都需要用到大数据和云计算，尤其是在工业生产的过程中，其中生成的各种工业数据都需要通过大数据或者云计算的方式来进行处理。但是相关领域中的工业数据处理过程中，数据量庞大，一般统一对数据进行处理然后进行存储，目前的处理和存储方法存在效率低的问题。发明内容本申请的实施例提供了一种基于区块链的工业互联网数据存储方法、系统、计算机可读存储介质及电子设备，进而至少在一定程度上可以提高数据处理和存储的效率。根据本申请实施例的第一方面，提供了一种基于区块链的工业互联网数据存储方法，包括：获取工业设备的传感器数据，对传感器数据进行过滤处理，得到待处理数据；将所述待处理数据发送至边缘服务器，进行分组和关联，得到待上传数据；其中，每个分组标签对应至少一个传感器；待上传数据的数据结构为：分组标签，，其中，1≤i≤M，M为正整数，n为所述分组标签包含的传感器的数量，n为大于等于1的正整数；边缘服务器接收云服务器的区块链节点上训练好的自适应神经网络数据过滤模型，使用所述自适应神经网络数据过滤模型对待上传数据进行过滤处理，获得待存储数据；将所述待存储数据转发至云服务器的区块链节点上基于分组标签进行关联存储。在本申请的一些实施例中，基于前述方案，使用所述自适应神经网络数据过滤模型对分组标签和对应的传感器数据进行过滤处理，获得待存储数据，包括：基于边缘服务器的预设负载，根据传感器的核定负载和核定能耗情况，确定传感器的第一分组；基于边缘服务器的剩余负载，根据传感器的工作负载和工作能耗情况，确定传感器的第二分组；基于所述第一分组和第二分组，确定是否需要对传感器的组别进行调整；若是，则将传感器从第一分组调整到第二分组，得到第三分组；或者从第二分组调整到第一分组，得到第四分组；若得到的是第三分组，对所述第三分组里面每个ID集合里面的传感器数据做进一步处理；若得到的是第四分组，对所述第四分组里面每个ID集合里面的传感器数据做进一步处理。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储方法，还包括：当接收到查询指令时，确定所述查询指令是否为异常确认指令；若是，则根据预设算法计算传感器分组异常的概率，根据分组标签的异常概率确定异常分组；根据异常分组的传感器的分组标签查找对应的异常传感器数据。在本申请的一些实施例中，基于前述方案，所述根据异常分组的传感器的分组标签查找对应的异常传感器数据，包括：根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyk =Hashk ；其中，为所述分组标签，Hashk为序号为k的哈希函数，HashKeyk为运算得到的序号为k的哈希值，1≤k≤K，K为大于1的整数；为序号为i的分组标签，1≤i≤I，I为大于1的整数；获取分组标签对应的数组，并判断数组是否满足以下判断条件：对任意一个k的取值，等式ARRAY==Value_1均成立，其中，ARRAY为所述查询数组，Value_1为预设的第一数值；若所述数组不满足所述判断条件，则判定在服务器的传感器数据库中未查询到所述分组标签。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储方法，还包括：当边缘服务器中没有存储任何传感器数据时，对任意一个m的取值，均执行以下赋值操作：ARRAY=Value_2；其中，1≤m≤M，M为所述数组中的传感器个数，Value_2为预设的第二数值；当边缘服务器中存在传感器数据时，提取所述传感器数据中的分组标签；根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyExistk=Hashk ；其中， Exist为所述分组标签，HashKeyExistk为运算得到的序号为k的哈希值；对任意一个k的取值，均执行以下赋值操作：ARRAY=Value_1。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储方法，还包括：确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储方法还包括：确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据和正常传感器数据。根据本申请实施例的第二方面，提供了一种基于区块链的工业互联网数据存储系统，包括：获取模块，被配置为获取工业设备的传感器数据，对传感器数据进行过滤处理，得到待处理数据；上传模块，被配置为将所述待处理数据发送至边缘服务器，进行分组和关联，得到待上传数据；其中，每个分组标签对应至少一个传感器；待上传数据的数据结构为：分组标签，，其中，1≤i≤M，M为正整数，n为所述分组标签包含的传感器的数量，n为大于等于1的正整数；过滤模块，被配置为边缘服务器接收云服务器的区块链节点上训练好的自适应神经网络数据过滤模型，使用所述自适应神经网络数据过滤模型对待上传数据进行过滤处理，获得待存储数据；存储模块，被配置为将所述待存储数据转发至云服务器的区块链节点上基于分组标签进行关联存储。在本申请的一些实施例中，基于前述方案，过滤模块包括：第一确定单元，被配置为基于边缘服务器的预设负载，根据传感器的核定负载和核定能耗情况，确定传感器的第一分组；第二确定单元，被配置为基于边缘服务器的剩余负载，根据传感器的工作负载和工作能耗情况，确定传感器的第二分组；第三确定单元，被配置为基于所述第一分组和第二分组，确定是否需要对传感器的组别进行调整；第一分组调整单元，被配置为若是，则将传感器从第一分组调整到第二分组，得到第三分组；或者从第二分组调整到第一分组，得到第四分组；第二分组调整单元，被配置为若得到的是第三分组，对所述第三分组里面每个ID集合里面的传感器数据做进一步处理；第三分组调整单元，被配置为若得到的是第四分组，对所述第四分组里面每个ID集合里面的传感器数据做进一步处理。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储系统还包括：第一确定模块，被配置为当接收到查询指令时，确定所述查询指令是否为异常确认指令；第二确定模块，被配置为若是，则根据预设算法计算传感器分组异常的概率，根据分组标签的异常概率确定异常分组；查找模块，被配置为根据异常分组的传感器的分组标签查找对应的异常传感器数据。在本申请的一些实施例中，基于前述方案，查找模块包括：运算单元，被配置为根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyk =Hashk ；其中，为所述分组标签，Hashk为序号为k的哈希函数，HashKeyk为运算得到的序号为k的哈希值，1≤k≤K，K为大于1的整数；为序号为i的分组标签，1≤i≤I，I为大于1的整数；判断单元，被配置为获取分组标签对应的数组，并判断数组是否满足以下判断条件：对任意一个k的取值，等式ARRAY==Value_1均成立，其中，ARRAY为所述查询数组，Value_1为预设的第一数值；判定单元，被配置为若所述数组不满足所述判断条件，则判定在服务器的传感器数据库中未查询到所述分组标签。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储系统还包括：第一赋值模块，被配置为当边缘服务器中没有存储任何传感器数据时，对任意一个m的取值，均执行以下赋值操作：ARRAY=Value_2；其中，1≤m≤M，M为所述数组中的传感器个数，Value_2为预设的第二数值；提取模块，被配置为当边缘服务器中存在传感器数据时，提取所述传感器数据中的分组标签；运算模块，被配置为根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyExistk=Hashk ；其中， Exist为所述分组标签，HashKeyExistk为运算得到的序号为k的哈希值；第一赋值模块，被配置为对任意一个k的取值，均执行以下赋值操作：ARRAY=Value_1。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储系统还包括：第一创建模块，被配置为确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；其中，所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储系统还包括：第二创建模块，被配置为确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据和正常传感器数据。根据本申请实施例的第三方面，提供了一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求第一方面中所述的工业互联网数据存储方法。根据本申请实施例的第四方面，提供了一种电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器实现如第一方面中所述的工业互联网数据存储方法。在本申请的一些实施例所提供的基于区块链的工业互联网数据存储方法 中，获取工业设备的传感器数据，对传感器数据进行过滤，得到待处理数据；将所述待处理数据发送至边缘服务器，进行分组和关联，得到待上传数据；其中，每个分组标签对应至少一个传感器；待上传数据的数据结构为：分组标签，，其中，1≤i≤M，M为正整数，n为所述分组标签包含的传感器的数量，n为大于等于1的正整数；边缘服务器接收云服务器的区块链节点上训练好的自适应神经网络数据过滤模型，使用所述自适应神经网络数据过滤模型对待上传数据进行过滤处理，获得待存储数据；将所述待存储数据转发至云服务器的区块链节点上基于分组标签进行关联存储。本方案通过在工业生产过程中，对获取的传感器数据进行过滤处理然后上传到边缘服务器进行分组和关联，得到待上传数据；再通过边缘服务器的自适应神经网络数据过滤模型对待上传数据进行过滤处理，得到待存储数据；并将待存储数据发送至云服务器的区块链节点上基于分组标签进行关联存储，从而基于边缘服务器和云服务器以及区块链的特点提高了数据处理效率和数据存储效率，另外也便于数据的可追溯。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本申请。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本申请的实施例，并与说明书一起用于解释本申请的原理。显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1示意性示出了根据本申请的一个实施例的基于区块链的工业互联网数据存储方法的一个流程图；图2示意性示出了根据本申请的一个实施例的基于区块链的工业互联网数据存储方法的另一个流程图；图3示意性示出了根据本申请的一个实施例的基于区块链的工业互联网数据存储方法的区块链上存储的传感器数据格式示意图；图4示意性示出了根据本申请的一个实施例的基于区块链的工业互联网数据存储方法的区块链上存储的传感器数据格式另一示意图；图5示意性示出了根据本申请的一个实施例的基于区块链的工业互联网数据存储系统的示意图；图6示出了适于用来实现本申请实施例的电子设备的计算机系统的结构示意图。具体实施方式现在将参考附图更全面地描述示例实施方式。然而，示例实施方式能够以多种形式实施，且不应被理解为限于在此阐述的范例；相反，提供这些实施方式使得本申请将更加全面和完整，并将示例实施方式的构思全面地传达给本领域的技术人员。此外，所描述的特征、结构或特性可以以任何合适的方式结合在一个或更多实施例中。在下面的描述中，提供许多具体细节从而给出对本申请的实施例的充分理解。然而，本领域技术人员将意识到，可以实践本申请的技术方案而没有特定细节中的一个或更多，或者可以采用其它的方法、组元、装置、步骤等。在其它情况下，不详细示出或描述公知方法、装置、实现或者操作以避免模糊本申请的各方面。附图中所示的方框图仅仅是功能实体，不一定必须与物理上独立的实体相对应。即，可以采用软件形式来实现这些功能实体，或在一个或多个硬件模块或集成电路中实现这些功能实体，或在不同网络和/或处理器装置和/或微控制器装置中实现这些功能实体。附图中所示的流程图仅是示例性说明，不是必须包括所有的内容和操作/步骤，也不是必须按所描述的顺序执行。例如，有的操作/步骤还可以分解，而有的操作/步骤可以合并或部分合并，因此实际执行的顺序有可能根据实际情况改变。以下对本申请实施例的技术方案的实现细节进行详细阐述：图1示出了根据本申请的一个实施例的基于区块链的工业互联网数据存储方法的流程图，该基于区块链的工业互联网数据存储方法可以由服务器来执行，该服务器包括边缘服务器和云服务器。参照图1所示，该基于区块链的工业互联网数据存储方法至少包括步骤S110至步骤S140，详细介绍如下：步骤S110：获取工业设备的传感器数据，对传感器数据进行过滤处理，得到待处理数据。对于步骤S110，可选的，本实施例中的工业设备包括车床、铣床、磨床、冲床、柔性化制造线、PLC、加工中心、机器人、激光机、工控机、对刀仪、切割机、焊接机等工业设备。为了监控工业设备的工作状态，会设置有各种类别的传感器。获取这些传感器的数据，并对传感器数据进行过滤处理，得到待处理数据。步骤S120：将所述待处理数据发送至边缘服务器，进行分组和关联，得到待上传数据；其中，每个分组标签对应至少一个传感器；待上传数据的数据结构为：分组标签，，其中，1≤i≤M，M为正整数，n为所述分组标签包含的传感器的数量，n为大于等于1的正整数。对于步骤S120，将所述待处理数据发送至边缘服务器，在边缘服务器中对待处理数据进行分组，然后通过分组标签让在同一组的传感器数据处于同一个分组标签下面，每个分组标签对应至少一个传感器。例如分组标签对应传感器61、传感器62和传感器63的传感器数据。将多个传感器与分组标签进行关联，便于对传感器数据的管理以及若后续出现异常对数据的追查。具体地，待上传数据的数据结构可以为：分组标签，，其中，1≤i≤M，M为正整数。其中，数据发送后的数据传输可以通过有线或者无线等方式，其中，上述无线连接方式可以包括但不限于3G/4G连接、WiFi连接、蓝牙连接、WiMAX连接、Zigbee连接、UWB连接、以及其他现在已知或将来开发的无线连接方式。步骤S130：边缘服务器接收云服务器的区块链节点上训练好的自适应神经网络数据过滤模型，使用所述自适应神经网络数据过滤模型对待上传数据进行过滤处理，获得待存储数据。参考图2，在步骤S130中，使用所述自适应神经网络数据过滤模型对分组标签和对应的传感器数据进行过滤处理，获得待存储数据，包括：步骤S1301：基于边缘服务器的预设负载，根据传感器的核定负载和核定能耗情况，确定传感器的第一分组。步骤S1302：基于边缘服务器的剩余负载，根据传感器的工作负载和工作能耗情况，确定传感器的第二分组。对于步骤S1301和S1302，其中，预分组可以先确定传感器的初步的分组情况，再根据传感器的实际工作负载和工作能耗情况，确定最终的分组情况，并且基于分组标签作为传感器的身份标签，使得不是基于每一个传感器进行分组而是基于分组标签进行分组，大大降低了计算量。可选地，负载的相关信息包括机器负载信息、机器配置信息、数据量负载信息中的任一项或多项。一种可选实现方式中，负载的相关信息包括机器负载信息、机器配置信息和数据量负载信息。步骤S1303：基于所述第一分组和第二分组，确定是否需要对传感器的组别进行调整。步骤S1304：若是，则将传感器从第一分组调整到第二分组，得到第三分组；或者从第二分组调整到第一分组，得到第四分组。步骤S1305：若得到的是第三分组，对所述第三分组里面每个ID集合里面的传感器数据做进一步处理。步骤S1306：若得到的是第四分组，对所述第四分组里面每个ID集合里面的传感器数据做进一步处理。对于步骤S1303至S1306，根据实际情况对分组进行调整，得到最优的分组和数据机构，然后得到待存储数据。需要说明的是，在云服务器的区块链节点上训练自适应神经网络数据过滤模型，也可以将步骤S1301至S1306得到的待存储数据和对应的初始传感器数据分别作为输出和输入，对自适应神经网络数据过滤模型的参数进行进一步的优化和迭代。步骤S140：将所述待存储数据转发至云服务器的区块链节点上基于分组标签进行关联存储。在步骤S140中，将各个边缘服务器中的待存储数据转发至云服务器的区块链节点上，基于分组标签进行关联存储，在边缘服务器中的过滤处理可以并行，提高了数据处理的效率，在云服务的区块链节点上统一存储，便于管理，提高了存储效率，也便于数据的可追溯。在本申请的一些实施例所提供的基于区块链的工业互联网数据存储方法中，获取工业设备的传感器数据，对传感器数据进行过滤，得到待处理数据；将所述待处理数据发送至边缘服务器，进行分组和关联，得到待上传数据；其中，每个分组标签对应至少一个传感器；待上传数据的数据结构为：分组标签，，其中，1≤i≤M，M为正整数，n为所述分组标签包含的传感器的数量，n为大于等于1的正整数；边缘服务器接收云服务器的区块链节点上训练好的自适应神经网络数据过滤模型，使用所述自适应神经网络数据过滤模型对待上传数据进行过滤处理，获得待存储数据；将所述待存储数据转发至云服务器的区块链节点上基于分组标签进行关联存储。本方案通过在工业生产过程中，对获取的传感器数据进行过滤处理然后上传到边缘服务器进行分组和关联，得到待上传数据；再通过边缘服务器的自适应神经网络数据过滤模型对待上传数据进行过滤处理，得到待存储数据；并将待存储数据发送至云服务器的区块链节点上基于分组标签进行关联存储，从而基于边缘服务器和云服务器以及区块链的特点提高了数据处理效率和数据存储效率，另外也便于数据的可追溯。在本申请的一些实施例中，基于前述方案，在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储方法，还包括：步骤S150：当接收到查询指令时，确定所述查询指令是否为异常确认指令。步骤S160：若是，则根据预设算法计算传感器分组异常的概率，根据分组标签的异常概率确定异常分组。其中，预设算法如下：其中，m为传感器节点的序号，，M为传感器节点的个数，为第i分组的分布向量。为预设的与第m个传感器节点对应的权值向量，，为包括m个传感器节点的第i分组异常的概率值。步骤S170：根据异常分组的传感器的分组标签查找对应的异常传感器数据。在本申请的一些实施例中，基于前述方案，所述根据异常分组的传感器的分组标签查找对应的异常传感器数据，包括：步骤S1701：根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyk =Hashk ；其中，为所述分组标签，Hashk为序号为k的哈希函数，HashKeyk为运算得到的序号为k的哈希值，1≤k≤K，K为大于1的整数；为序号为i的分组标签，1≤i≤I，I为大于1的整数；步骤S1702：获取分组标签对应的数组，并判断数组是否满足以下判断条件：对任意一个k的取值，等式ARRAY==Value_1均成立，其中，ARRAY为所述查询数组，Value_1为预设的第一数值；步骤S1703：若所述数组不满足所述判断条件，则判定在服务器的传感器数据库中未查询到所述分组标签。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储方法，还包括：步骤S180：当边缘服务器中没有存储任何传感器数据时，对任意一个m的取值，均执行以下赋值操作：ARRAY=Value_2；其中，1≤m≤M，M为所述数组中的传感器个数，Value_2为预设的第二数值。步骤S190：当边缘服务器中存在传感器数据时，提取所述传感器数据中的分组标签；根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyExistk=Hashk ；其中， Exist为所述分组标签，HashKeyExistk为运算得到的序号为k的哈希值；对任意一个k的取值，均执行以下赋值操作：ARRAY=Value_1。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储方法，还包括：确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据。在本实施例中，区块数据仅仅包含异常传感器数据，进一步提高了存储的效率，也提高而查找异常传感器数据的效率。具体地，图3是基于区块链的工业互联网数据存储方法的区块链上存储的传感器数据格式的一示意图。其中，示意了3个节点，区块链上每个节点上存储的数据格式相同，存储的是传感器数据，不同的区块链平台传感器数据的格式会有所不同， 但基本都是由区块组成传感器数据。具体地，区块头包含区块号，当前区块Hash， 前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名等。区块数据包含了一组异常传感器数据，传感器数据在创建区块时写入。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储方法还包括：确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据和正常传感器数据。区块数据包括异常传感器数据和正常传感器数据使得传感器数据更为全面。具体地，图4是基于区块链的工业互联网数据存储方法的区块链上存储的传感器数据格式另一示意图。其中，示意了3个节点，区块链上每个节点上存储的数据格式相同，存储的是传感器数据，不同的区块链平台传感器数据的格式会有所不同， 但基本都是由区块组成传感器数据。具体地，区块头包含区块号，当前区块Hash， 前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名等。区块数据包含了一组异常传感器数据，传感器数据在创建区块时写入。一组传感器数据包括了正常数据和异常数据。请参考图5所示，以下介绍本申请的基于区块链的工业互联网数据存储系统实施例，可以用于执行本申请实施例中的基于区块链的工业互联网数据存储方法。可以理解的是，所述系统可以是运行于计算机设备中的一个计算机程序，例如该系统为一个应用软件；该系统可以用于执行本申请实施例提供的方法中的相应步骤。对于本申请装置实施例中未披露的细节，请参照本申请上述的基于区块链的工业互联网数据存储方法的实施例。参照图5所示，根据本申请的一个实施例的基于区块链的工业互联网数据存储系统500，包括：获取模块510，被配置为获取工业设备的传感器数据，对传感器数据进行过滤处理，得到待处理数据。上传模块520，被配置为将所述待处理数据发送至边缘服务器，进行分组和关联，得到待上传数据；其中，每个分组标签对应至少一个传感器；待上传数据的数据结构为：分组标签，，其中，1≤i≤M，M为正整数，n为所述分组标签包含的传感器的数量，n为大于等于1的正整数。过滤模块530，被配置为边缘服务器接收云服务器的区块链节点上训练好的自适应神经网络数据过滤模型，使用所述自适应神经网络数据过滤模型对待上传数据进行过滤处理，获得待存储数据。存储模块540，被配置为将所述待存储数据转发至云服务器的区块链节点上基于分组标签进行关联存储。在本申请的一些实施例中，基于前述方案，过滤模块包括：第一确定单元，被配置为基于边缘服务器的预设负载，根据传感器的核定负载和核定能耗情况，确定传感器的第一分组；第二确定单元，被配置为基于边缘服务器的剩余负载，根据传感器的工作负载和工作能耗情况，确定传感器的第二分组；第三确定单元，被配置为基于所述第一分组和第二分组，确定是否需要对传感器的组别进行调整；第一分组调整单元，被配置为若是，则将传感器从第一分组调整到第二分组，得到第三分组；或者从第二分组调整到第一分组，得到第四分组；第二分组调整单元，被配置为若得到的是第三分组，对所述第三分组里面每个ID集合里面的传感器数据做进一步处理；第三分组调整单元，被配置为若得到的是第四分组，对所述第四分组里面每个ID集合里面的传感器数据做进一步处理。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储系统还包括：第一确定模块，被配置为当接收到查询指令时，确定所述查询指令是否为异常确认指令；第二确定模块，被配置为若是，则根据预设算法计算传感器分组异常的概率，根据分组标签的异常概率确定异常分组；查找模块，被配置为根据异常分组的传感器的分组标签查找对应的异常传感器数据。在本申请的一些实施例中，基于前述方案，查找模块包括：运算单元，被配置为根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyk =Hashk ；其中，为所述分组标签，Hashk为序号为k的哈希函数，HashKeyk为运算得到的序号为k的哈希值，1≤k≤K，K为大于1的整数；为序号为i的分组标签，1≤i≤I，I为大于1的整数；判断单元，被配置为获取分组标签对应的数组，并判断数组是否满足以下判断条件：对任意一个k的取值，等式ARRAY==Value_1均成立，其中，ARRAY为所述查询数组，Value_1为预设的第一数值；判定单元，被配置为若所述数组不满足所述判断条件，则判定在服务器的传感器数据库中未查询到所述分组标签。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储系统还包括：第一赋值模块，被配置为当边缘服务器中没有存储任何传感器数据时，对任意一个m的取值，均执行以下赋值操作：ARRAY=Value_2；其中，1≤m≤M，M为所述数组中的传感器个数，Value_2为预设的第二数值；提取模块，被配置为当边缘服务器中存在传感器数据时，提取所述传感器数据中的分组标签；运算模块，被配置为根据下式分别使用K个相互独立的哈希函数对所述分组标签进行哈希运算：HashKeyExistk=Hashk ；其中， Exist为所述分组标签，HashKeyExistk为运算得到的序号为k的哈希值；第一赋值模块，被配置为对任意一个k的取值，均执行以下赋值操作：ARRAY=Value_1。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储系统还包括：第一创建模块，被配置为确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；其中，所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据。在本申请的一些实施例中，基于前述方案，基于区块链的工业互联网数据存储系统还包括：第二创建模块，被配置为确定了异常传感器数据时，创建对应区块，并将异常传感器数据在区块链上进行存储；所述区块链通过区块头关联；每个区块包括区块头、区块元数据和区块数据；其中，区块头包含区块号、当前区块Hash和前一个区块的Hash；区块元数据包含区块创建时间，写入程序的证书、公钥和签名；区块数据包括异常传感器数据和正常传感器数据。图6示出了适于用来实现本申请实施例的电子设备的计算机系统的结构示意图。需要说明的是，图6示出的电子设备的计算机系统600仅是一个示例，不应对本申请实施例的功能和使用范围带来任何限制。如图6所示，计算机系统600包括中央处理单元601，其可以根据存储在只读存储器602中的程序或者从储存部分608加载到随机访问存储器603中的程序而执行各种适当的动作和处理，例如执行上述实施例中所述的方法。在RAM 603中，还存储有系统操作所需的各种程序和数据。CPU 601、ROM 602以及RAM 603通过总线604彼此相连。输入/输出接口605也连接至总线604。以下部件连接至I/O接口605：包括键盘、鼠标等的输入部分606；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分607；包括硬盘等的储存部分608；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分609。通信部分609经由诸如因特网的网络执行通信处理。驱动器610也根据需要连接至I/O接口605。可拆卸介质611，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器610上，以便于从其上读出的计算机程序根据需要被安装入储存部分608。特别地，根据本申请的实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本申请的实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的计算机程序。在这样的实施例中，该计算机程序可以通过通信部分609从网络上被下载和安装，和/或从可拆卸介质611被安装。在该计算机程序被中央处理单元601执行时，执行本申请的系统中限定的各种功能。需要说明的是，本申请实施例所示的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是——但不限于——电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、闪存、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本申请中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。而在本申请中，计算机可读的信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的计算机程序。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读的信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的计算机程序可以用任何适当的介质传输，包括但不限于：无线、有线等等，或者上述的任意合适的组合。附图中的流程图和框图，图示了按照本申请各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。其中，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，上述模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图或流程图中的每个方框、以及框图或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本申请实施例中所涉及到的单元可以通过软件的方式实现，也可以通过硬件的方式来实现，所描述的单元也可以设置在处理器中。其中，这些单元的名称在某种情况下并不构成对该单元本身的限定。根据本申请的一个方面，提供了一种计算机程序产品或计算机程序，该计算机程序产品或计算机程序包括计算机指令，该计算机指令存储在计算机可读存储介质中。计算机设备的处理器从计算机可读存储介质读取该计算机指令，处理器执行该计算机指令，使得该计算机设备执行上述各种可选实现方式中提供的方法。作为另一方面，本申请还提供了一种计算机可读介质，该计算机可读介质可以是上述实施例中描述的电子设备中所包含的；也可以是单独存在，而未装配入该电子设备中。上述计算机可读介质承载有一个或者多个程序，当上述一个或者多个程序被一个该电子设备执行时，使得该电子设备实现上述实施例中所述的方法。应当注意，尽管在上文详细描述中提及了用于动作执行的设备的若干模块或者单元，但是这种划分并非强制性的。实际上，根据本申请的实施方式，上文描述的两个或更多模块或者单元的特征和功能可以在一个模块或者单元中具体化。反之，上文描述的一个模块或者单元的特征和功能可以进一步划分为由多个模块或者单元来具体化。通过以上的实施方式的描述，本领域的技术人员易于理解，这里描述的示例实施方式可以通过软件实现，也可以通过软件结合必要的硬件的方式来实现。因此，根据本申请实施方式的技术方案可以以软件产品的形式体现出来，该软件产品可以存储在一个非易失性存储介质中或网络上，包括若干指令以使得一台计算设备执行根据本申请实施方式的方法。本领域技术人员在考虑说明书及实践这里公开的实施方式后，将容易想到本申请的其它实施方案。本申请旨在涵盖本申请的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本申请的一般性原理并包括本申请未公开的本技术领域中的公知常识或惯用技术手段。应当理解的是，本申请并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。本申请的范围仅由所附的权利要求来限制。
