标题title
一种基于区块链的数据共享方法及系统
摘要abst
本发明提供了一种基于区块链的数据共享方法及系统，涉及区块链相关技术领域，方法包括：获得第一用户的第一使用请求；根据第一使用请求，生成第一公私钥对；将第一公钥和第一用户的请求文件作为第一传输数据输入到区块链平台中获得第一输出信息；将所述第一输出信息发送给第二用户；第二用户根据所述第一输出信息，生成第二公私钥对；将所述第二私钥和所述第一公钥作为第二传输数据输入所述区块链平台中，根据所述区块链平台获得第二输出信息；所述第一用户根据所述第二输出信息并结合IPFS系统对所述请求文件进行解密读取，完成共享访问。解决了现有技术中由于数据共享的方式安全程度不够，导致存在数据隐私泄露风险的技术问题。
权利要求书clms
1.一种基于区块链的数据共享方法，其中，所述方法应用于一种基于区块链的数据共享系统，所述系统与一区块链平台通信连接，所述方法包括：获得第一用户的第一使用请求，其中，所述第一用户为数据使用者；根据所述第一使用请求，生成第一公私钥对，其中，所述第一公私钥对包括第一公钥和第一私钥；将所述第一公钥和所述第一用户的请求文件作为第一传输数据输入到所述区块链平台中，根据所述区块链平台获得第一输出信息；将所述第一输出信息发送给第二用户，其中，所述第二用户为所述请求文件对应的数据拥有者；所述第二用户根据所述第一输出信息，生成第二公私钥对，其中，所述第二公私钥对包括第二公钥和第二私钥；将所述第二私钥和所述第一公钥作为第二传输数据输入所述区块链平台中，根据所述区块链平台获得第二输出信息；所述第一用户根据所述第二输出信息并结合IPFS系统对所述请求文件进行解密读取，完成共享访问。2.如权利要求1所述的方法，其中，所述方法还包括：获得所述第二用户的第一登录信息；当所述第一登录信息验证通过时，获得第一上传文件；通过AES加密算法对所述第一上传文件进行加密，生成第一密钥，其中，所述第一密钥包括第一明文哈希值和第一AES密钥；根据第一调用指令调用AES对称加密函数对所述第一上传文件进行加密，获得第一文件密文；将所述第一文件密文上传至所述IPFS系统中。3.如权利要求2所述的方法，其中，所述方法还包括：所述IPFS系统根据所述第一文件密文进行哈希值计算，获得第一密文哈希值；将所述第一密文哈希值传输至所述第二用户；所述第二用户通过调用智能合约将第一明文哈希值和所述第一密文哈希值和所述请求文件信息存储至所述区块链平台中；根据所述区块链平台，生成所述请求文件的ID信息。4.如权利要求3所述的方法，其中，所述将所述第一输出信息发送给第二用户之后，所述方法还包括：所述第二用户获得所述第一输出信息，其中，所述第一输出信息包括所述第一明文哈希值和所述第一公钥；所述第二用户根据所述第一明文哈希值，获得对应的所述第一AES密钥；根据所述第二用户的所述第二公钥对所述第一AES密钥进行加密，生成第一密钥密文；将所述第一密钥密文添加至所述第二传输数据中输入所述区块链平台进行重加密。5.如权利要求4所述的方法，其中，所述方法还包括：获得所述区块链平台获得第一重加密密钥；根据所述第一密钥密文和所述第一重加密密钥，获得第一解密密钥密文，其中，所述第一解密密钥密文为所述第一用户可以解密的AES密钥密文；将所述第一解密密钥密文发送至所述第一用户。6.如权利要求5所述的方法，其中，所述方法还包括：所述第一用户根据所述请求文件的ID信息，获得所述第一私钥；根据所述第一私钥对所述第一解密密钥密文进行解密，获得所述请求文件对应的所述第一密钥；根据所述第一密钥中从所述IPFS系统中获得所述第一文件密文；所述第一用户通过对所述第一文件密文进行解密获取源文件。7.如权利要求1所述的方法，其中，所述获得第一用户的第一使用请求之后，所述方法还包括：判断所述第一用户的所述第一使用请求是否得到所述第二用户的访问授权；若所述第一用户的所述第一使用请求未得到所述第二用户的访问授权，获得第一提醒信息；将所述第一提醒信息发送至所述第一用户。8.一种基于区块链的数据共享系统，其中，所述系统包括：第一获得单元，所述第一获得单元用于获得第一用户的第一使用请求，其中，所述第一用户为数据使用者；第一生成单元，所述第一生成单元用于根据所述第一使用请求，生成第一公私钥对，其中，所述第一公私钥对包括第一公钥和第一私钥；第一输入单元，所述第一输入单元用于将所述第一公钥和所述第一用户的请求文件作为第一传输数据输入到区块链平台中，根据所述区块链平台获得第一输出信息；第一发送单元，所述第一发送单元用于将所述第一输出信息发送给第二用户，其中，所述第二用户为所述请求文件对应的数据拥有者；第二生成单元，所述第二生成单元用于所述第二用户根据所述第一输出信息，生成第二公私钥对，其中，所述第二公私钥对包括第二公钥和第二私钥；第二输入单元，所述第二输入单元用于将所述第二私钥和所述第一公钥作为第二传输数据输入所述区块链平台中，根据所述区块链平台获得第二输出信息；第一解密单元，所述第一解密单元用于所述第一用户根据所述第二输出信息并结合IPFS系统对所述请求文件进行解密读取，完成共享访问。9.一种基于区块链的数据共享系统，包括：处理器，所述处理器与存储器耦合，所述存储器用于存储程序，当所述程序被所述处理器执行时，使系统以执行如权利要求1至7任一项所述的方法。
说明书desc
技术领域本发明涉及区块链相关技术领域，具体涉及一种基于区块链的数据共享方法及系统。背景技术随着区块链技术越来越多地出现在人们的视野，其去中心化的特性颠覆性地解决了许多问题，为多企业、多单位共同参与项目提供了一致性的保障，为数据安全、数据增值、成果认定提供了平台支撑，促使各参与方更精于合作，更专注于研究工作本身，减少数据泄密带来的风险，然而，区块链技术的交易公开性也有弊端，数据请求方的数据属性集合被封装在交易信息中，使用共识算法将其广播到区块链网络，使得所有节点公开可见。但数据属性集合极易被恶意参与方盗用，并且生成对应的用户密钥，从而窃取区块链上的交易数据。目前的技术中都是将简单的把文件上传至区块链中进行加密解密的过程，此种加密方式安全程度不够，在区块链中多方进行数据交互时，容易造成数据及用户隐私泄露，风险较高。但本申请发明人在实现本申请实施例中发明技术方案的过程中，发现上述技术至少存在如下技术问题：现有技术中由于数据共享的方式安全程度不够，导致存在数据隐私泄露风险的技术问题。发明内容本申请实施例通过提供了一种基于区块链的数据共享方法及系统，解决了现有技术中由于数据共享的方式安全程度不够，导致存在数据隐私泄露风险的技术问题。通过读取使用者用户文件范文请求信息，为使用者随机生成一对公私密钥，将私钥存储在本地，将公钥和请求文件上传到区块链平台，然后区块链平台基于请求文件读取到待访问文件的明文哈希值，将待访问文件的明文哈希值和公钥作为输出信息传送到文件拥有者端，拥有者端在接收到输出信息后随机生成第二对公私钥，使用公钥对待访问文件密钥进行再加密，将第二个私钥和第一个公钥以及再加密后的待访问文件密钥上传至区块链平台，对加密文件处理得到使用者的私钥可以解密的待访问文件密钥密文，再发送至使用者端进行解密得到原文。一者通过将文件存储在文件拥有者放，在区块链缓解存储压力的同时保障了数据安全；二者将解密密钥存储在本地避免被劫持，提高了数据共享的安全性；三者通过多重加密解密方式，复杂化解密过程，保障数据安全性，进而达到了提高数据交互安全性和缓解区块链数据存储压力的技术效果。鉴于上述问题，本申请实施例提供了一种基于区块链的数据共享方法及系统。第一方面，本申请实施例提供了一种基于区块链的数据共享方法，其中，所述方法应用于一种基于区块链的数据共享系统，所述系统与一区块链平台通信连接，所述方法包括：获得第一用户的第一使用请求，其中，所述第一用户为数据使用者；根据所述第一使用请求，生成第一公私钥对，其中，所述第一公私钥对包括第一公钥和第一私钥；将所述第一公钥和所述第一用户的请求文件作为第一传输数据输入到所述区块链平台中，根据所述区块链平台获得第一输出信息；将所述第一输出信息发送给第二用户，其中，所述第二用户为所述请求文件对应的数据拥有者；所述第二用户根据所述第一输出信息，生成第二公私钥对，其中，所述第二公私钥对包括第二公钥和第二私钥；将所述第二私钥和所述第一公钥作为第二传输数据输入所述区块链平台中，根据所述区块链平台获得第二输出信息；所述第一用户根据所述第二输出信息并结合IPFS系统对所述请求文件进行解密读取，完成共享访问。另一方面，本申请实施例提供了一种基于区块链的数据共享系统，其中，所述系统包括：第一获得单元，所述第一获得单元用于获得第一用户的第一使用请求，其中，所述第一用户为数据使用者；第一生成单元，所述第一生成单元用于根据所述第一使用请求，生成第一公私钥对，其中，所述第一公私钥对包括第一公钥和第一私钥；第一输入单元，所述第一输入单元用于将所述第一公钥和所述第一用户的请求文件作为第一传输数据输入到区块链平台中，根据所述区块链平台获得第一输出信息；第一发送单元，所述第一发送单元用于将所述第一输出信息发送给第二用户，其中，所述第二用户为所述请求文件对应的数据拥有者；第二生成单元，所述第二生成单元用于所述第二用户根据所述第一输出信息，生成第二公私钥对，其中，所述第二公私钥对包括第二公钥和第二私钥；第二输入单元，所述第二输入单元用于将所述第二私钥和所述第一公钥作为第二传输数据输入所述区块链平台中，根据所述区块链平台获得第二输出信息；第一解密单元，所述第一解密单元用于所述第一用户根据所述第二输出信息并结合IPFS系统对所述请求文件进行解密读取，完成共享访问。第三方面，本申请实施例提供了一种基于区块链的数据共享系统，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其中，所述处理器执行所述程序时实现第一方面任一项所述方法的步骤。本申请实施例中提供的一个或多个技术方案，至少具有如下技术效果或优点：由于采用了获得第一用户的第一使用请求，其中，所述第一用户为数据使用者；根据所述第一使用请求，生成第一公私钥对，其中，所述第一公私钥对包括第一公钥和第一私钥；将所述第一公钥和所述第一用户的请求文件作为第一传输数据输入到所述区块链平台中，根据所述区块链平台获得第一输出信息；将所述第一输出信息发送给第二用户，其中，所述第二用户为所述请求文件对应的数据拥有者；所述第二用户根据所述第一输出信息，生成第二公私钥对，其中，所述第二公私钥对包括第二公钥和第二私钥；将所述第二私钥和所述第一公钥作为第二传输数据输入所述区块链平台中，根据所述区块链平台获得第二输出信息；所述第一用户根据所述第二输出信息并结合IPFS系统对所述请求文件进行解密读取，完成共享访问的技术方案，通过读取使用者用户文件范文请求信息，为使用者随机生成一对公私密钥，将私钥存储在本地，将公钥和请求文件上传到区块链平台，然后区块链平台基于请求文件读取到待访问文件的明文哈希值，将待访问文件的明文哈希值和公钥作为输出信息传送到文件拥有者端，拥有者端在接收到输出信息后随机生成第二对公私钥，使用公钥对待访问文件密钥进行再加密，将第二个私钥和第一个公钥以及再加密后的待访问文件密钥上传至区块链平台，对加密文件处理得到使用者的私钥可以解密的待访问文件密钥密文，再发送至使用者端进行解密从第三方文件存储平台得到原文。一者通过将文件存储在第三方文件存储平台，在区块链缓解存储压力的同时保障了数据安全；二者将解密密钥存储在本地避免被劫持，提高了数据共享的安全性；三者通过多重加密解密方式，复杂化解密过程，保障数据安全性，进而达到了提高数据交互安全性和缓解区块链数据存储压力的技术效果。上述说明仅是本申请技术方案的概述，为了能够更清楚了解本申请的技术手段，而可依照说明书的内容予以实施，并且为了让本申请的上述和其它目的、特征和优点能够更明显易懂，以下特举本申请的具体实施方式。附图说明图1为本申请实施例提供了一种基于区块链的数据共享方法流程示意图；图2为本申请实施例提供了一种基于区块链的数据共享的加密数据解密方法流程示意图；图3为本申请实施例提供了一种基于区块链的数据共享系统结构示意图；图4为本申请实施例示例性电子设备的结构示意图。附图标记说明：第一获得单元11，第一生成单元12，第一输入单元13，第一发送单元14，第二生成单元15，第二输入单元16，第一解密单元17，电子设备300，存储器301，处理器302，通信接口303，总线架构304。具体实施方式本申请实施例通过提供了一种基于区块链的数据共享方法及系统，解决了现有技术中由于数据共享的方式安全程度不够，导致存在数据隐私泄露风险的技术问题。通过读取使用者用户文件范文请求信息，为使用者随机生成一对公私密钥，将私钥存储在本地，将公钥和请求文件上传到区块链平台，然后区块链平台基于请求文件读取到待访问文件的明文哈希值，将待访问文件的明文哈希值和公钥作为输出信息传送到文件拥有者端，拥有者端在接收到输出信息后随机生成第二对公私钥，使用公钥对待访问文件密钥进行再加密，将第二个私钥和第一个公钥以及再加密后的待访问文件密钥上传至区块链平台，对加密文件处理得到使用者的私钥可以解密的待访问文件密钥密文，再发送至使用者端进行解密得到原文。一者通过将文件存储在文件拥有者放，在区块链缓解存储压力的同时保障了数据安全；二者将解密密钥存储在本地避免被劫持，提高了数据共享的安全性；三者通过多重加密解密方式，复杂化解密过程，保障数据安全性，进而达到了提高数据交互安全性和缓解区块链数据存储压力的技术效果。申请概述随着区块链技术越来越多地出现在人们的视野，其去中心化的特性颠覆性地解决了许多问题，为多企业、多单位共同参与项目提供了一致性的保障，为数据安全、数据增值、成果认定提供了平台支撑，促使各参与方更精于合作，更专注于研究工作本身，减少数据泄密带来的风险，然而，区块链技术的交易公开性也有弊端，数据请求方的数据属性集合被封装在交易信息中，使用共识算法将其广播到区块链网络，使得所有节点公开可见。但数据属性集合极易被恶意参与方盗用，并且生成对应的用户密钥，从而窃取区块链上的交易数据。目前的技术中都是将简单的把文件上传至区块链中进行加密解密的过程，此种加密方式安全程度不够，在区块链中多方进行数据交互时，容易造成数据及用户隐私泄露，风险较高，但现有技术中由于数据共享的方式安全程度不够，导致存在数据隐私泄露风险的技术问题。针对上述技术问题，本申请提供的技术方案总体思路如下：本申请实施例提供了一种基于区块链的数据共享方法，其中，所述方法应用于一种基于区块链的数据共享系统，所述系统与一区块链平台通信连接，所述方法包括：获得第一用户的第一使用请求，其中，所述第一用户为数据使用者；根据所述第一使用请求，生成第一公私钥对，其中，所述第一公私钥对包括第一公钥和第一私钥；将所述第一公钥和所述第一用户的请求文件作为第一传输数据输入到所述区块链平台中，根据所述区块链平台获得第一输出信息；将所述第一输出信息发送给第二用户，其中，所述第二用户为所述请求文件对应的数据拥有者；所述第二用户根据所述第一输出信息，生成第二公私钥对，其中，所述第二公私钥对包括第二公钥和第二私钥；将所述第二私钥和所述第一公钥作为第二传输数据输入所述区块链平台中，根据所述区块链平台获得第二输出信息；所述第一用户根据所述第二输出信息并结合IPFS系统对所述请求文件进行解密读取，完成共享访问。在介绍了本申请基本原理后，下面将结合说明书附图来具体介绍本申请的各种非限制性的实施方式。实施例一如图1所示，本申请实施例提供了一种基于区块链的数据共享方法，其中，所述方法应用于一种基于区块链的数据共享系统，所述系统与一区块链平台通信连接，所述方法包括：S100：获得第一用户的第一使用请求，其中，所述第一用户为数据使用者；具体而言，所述第一用户为需要通过区块链平台共享待读取文件的用户；所述第一使用请求为在获得对待读取文件的访问授权之后，点击访问按钮生成的访问请求信息，访问请求信息中包括：待读取文件的ID信息等信息。通过在得到访问授权之后才可以生成访问请求信息，避免了不被信任的第三方进行访问，保障了数据交互的安全性。S200：根据所述第一使用请求，生成第一公私钥对，其中，所述第一公私钥对包括第一公钥和第一私钥；具体而言，在生成第一使用请求之后，点击访问请求链接，为了对区块链中进行传输的文件进行机密，因此在浏览器中随机生成所述第一公私钥对，其中，采用的加密算法为非对称加密算法，所述第一公钥用于上传至区块链平台进行对读取到的待读取文件进行加密，所述第一私钥用于存储本地，便于后步在区块链平台将待读取文件传回第一用户时进行解密。通过将所述第一私钥存储在第一用户本地，和区块链隔离存储，避免在数据交互时被劫持，进而保障了区块链数据共享的安全性。S300：将所述第一公钥和所述第一用户的请求文件作为第一传输数据输入到所述区块链平台中，根据所述区块链平台获得第一输出信息；具体而言，所述第一用户的请求文件指的是基于第一使用请求得到请求文件信息，其内包括：授权信息、待读取文件ID信息，生成的请求指令信息等；所述区块链平台为去中心化进行数据共享的分布式平台，多个参与方可以在区块链平台进行数据共享，提高了信息获取效率；将第一用户的请求文件和第一公钥整合作为所述第一传输数据上传至区块链平台，区块链平台根据授权信息确定第一用户的访问权限，根据请求指令基于待读取文件ID信息在区块链平台中检索到待读取文件的明文哈希值，进而基于明文哈希值确定待读取文件的拥有者，将第一公钥和待读取文件的明文哈希值作为输出信息传输至待读取文件拥有者端，其中，待读取文件文件的明文哈希值相当于待读取文件的身份识别信息，和待读取文件ID信息在区块链中一一对应。S400：将所述第一输出信息发送给第二用户，其中，所述第二用户为所述请求文件对应的数据拥有者；S500：所述第二用户根据所述第一输出信息，生成第二公私钥对，其中，所述第二公私钥对包括第二公钥和第二私钥；具体而言，所述第二用户为请求文件的拥有者参与方，为了保证待读取文件的安全性，第二用户在接收到第一输出信息后，就基于非对称算法随机生成所述第二公私钥对，其中，所述第二公钥用来对待读取文件加密密文进行加密，所述第二私钥用来解密所述第二公钥加密的结果。通过待读取文件的明文哈希值在本地数据库中检索得到加密处理后的密钥密文，再使用所述第二公钥对加密处理后的密钥密文进行加密处理，得到多重加密密文；更进一步的，将多重加密密文、所述第二私钥和所述第一公钥传输至区块链平台。由于对待读取文件多重加密，增加了解密难度，保障了数据传输过程的数据安全性。S600：将所述第二私钥和所述第一公钥作为第二传输数据输入所述区块链平台中，根据所述区块链平台获得第二输出信息；S700：所述第一用户根据所述第二输出信息并结合IPFS系统对所述请求文件进行解密读取，完成共享访问。具体而言，所述第二用户将多重加密密文、所述第二私钥和所述第一公钥作为所述第二传输信息上传至区块链平台，区块链平台基于代理重加密合约使用所述第一公钥对多重加密密文和所述第二私钥进行重加密，将得到的加密结果作为所述第二输出信息返回至第一用户，第一用户通过浏览器调用存储在本地的第一私钥对加密结果进行解密，解密后的到第二私钥和使用第二公钥加密的待读取文件密钥密文信息，使用第二私钥对第二公钥进行解密，得到待读取文件密钥的信息，进一步将待读取文件密钥信息发送至IPFS系统，得到待读取文件密文信息，使用待读取文件密钥信息对待读取文件密文信息进行解密，得到待读取文件的原文信息，完成数据共享，通过将待读取文件密文存储在IPFS系统可以缓解区块链的存储压力也可保障数据交互过程中的安全性，其中，IPFS系统为星际文件系统，旨在创建持久且分布式存储和共享文件的网络传输协议。它是一种内容可寻址的对等超媒体分发协议，在IPFS网络中的节点将构成一个分布式文件系统。进一步的，所述方法还包括步骤S800：S810：获得所述第二用户的第一登录信息；S820：当所述第一登录信息验证通过时，获得第一上传文件；S830：通过AES加密算法对所述第一上传文件进行加密，生成第一密钥，其中，所述第一密钥包括第一明文哈希值和第一AES密钥；S840：根据第一调用指令调用AES对称加密函数对所述第一上传文件进行加密，获得第一文件密文；S850：将所述第一文件密文上传至所述IPFS系统中。具体而言，所述第一登录信息为所述第二用户在所述IPFS系统注册的登录信息，一个用户在IPFS系统中的登录信息具有唯一性；当所述第二用户需要在IPFS系统中存储文件时，需要验证登录信息，验证通过后，从本地提取所述第一上传文件，填写文件名称以及备注等，点击上传；然后浏览器基于所述AES：高级加密标准算法对第一上传文件进行对称加密，生成第一AES密钥，浏览器端会将密钥保存到浏览器本地，并且浏览器基于哈希算法生成第一AES密钥的第一明文哈希值，可以在本地快速调用第一AES密钥，将第一明文哈希值和第一AES密钥共同记为：所述第一密钥存储在本地，以便后续使用；进一步的，将加密后得到的所述第一文件密文上传到IPFS系统。通过对上传文件进行加密保障了文件在云端传输的安全性，将密钥保存在本地，避免被劫持，提高了安全性，将文件存储在IPFS系统缓解了区块链到的存储压力同时提高了文件管理效率。进一步的，所述方法步骤S800还包括步骤S860：S861：所述IPFS系统根据所述第一文件密文进行哈希值计算，获得第一密文哈希值；S862：将所述第一密文哈希值传输至所述第二用户；S863：所述第二用户通过调用智能合约将第一明文哈希值和所述第一密文哈希值和所述请求文件信息存储至所述区块链平台中；S864：根据所述区块链平台，生成所述请求文件的ID信息。具体而言，为了便于对上传文件及上传文件的加密密钥进行快速调用，通过所述IPFS系统对第一文件密文进行哈希值计算，得到所述第一密文哈希值，其中，哈希算法将任意长度的二进制值映射为固定长度的较小二进制值,这个小的二进制值称为哈希值。哈希值是一段数据唯一且极其紧凑的数值表示形式，如果散列一段明文而且哪怕只更改该段落的一个字母,随后的哈希都将产生不同的值。因此计算得到所述第一密文哈希值具有唯一性；所述IPFS系统将生成的所述第一密文哈希值反馈至所述第二用户；进一步的，在接收到所述第一密文哈希值后，通过所述第二用户的浏览器可以基于哈希算法生成明文的哈希值，记为所述第一明文哈希值，通过所述第一明文哈希值可以快速调用存储在第二用户本地的第一AES密钥；更进一步的，所述第二用户将所述第一明文哈希值和所述第一密文哈希值和所述请求文件信息基于所述智能合约存储至所述区块链平台中，其中，所述智能合约是为对读入信息进行代理重加密运作的预设合约，通过基于所述智能合约存储各文件，便于后步对调用文件时进行代理重加密。更进一步的，在区块链平台中生成所述请求文件的ID信息，用来封装所述第一明文哈希值和所述第一密文哈希值和所述请求文件信息，便于在区块链中进行快速检索，提高数据共享的效率。进一步的，基于所述将所述第一输出信息发送给第二用户之后，所述方法步骤S400还包括：S410：所述第二用户获得所述第一输出信息，其中，所述第一输出信息包括所述第一明文哈希值和所述第一公钥；S420：所述第二用户根据所述第一明文哈希值，获得对应的所述第一AES密钥；S430：根据所述第二用户的所述第二公钥对所述第一AES密钥进行加密，生成第一密钥密文；S440：将所述第一密钥密文添加至所述第二传输数据中输入所述区块链平台进行重加密。具体而言，当区块链平台识别出第一用户请求信息中的请求文件ID信息后，区块链将依据请求文件ID信息的检索得到的第一用户的第一公钥和待读取文件文件的第一明文哈希值作为第一输出信息传输至第二用户；第二用户通过第一明文哈希值在浏览器上的本地数据库进行遍历检索得到所述第一AES密钥；进一步的，在第二用户的本地浏览器中随机生成一对公私钥，记为：第二私钥、第二公钥，其中，第二公钥用来加密，第二私钥用来对第二公钥加密的内容解密，基于非对称加密算法使用第二公钥对第一AES密钥进行加密，得到所述第一密钥密文，即对应于上述的多重加密密文，将所述第一密钥密文作为多重加密密文添加进所述第二传输数据。通过对所述第一密钥进行加密，双重加密增加了解密难度，保障了数据传输过程的安全性。进一步的，所述方法还包括步骤S900：S910：获得所述区块链平台获得第一重加密密钥；S920：根据所述第一密钥密文和所述第一重加密密钥，获得第一解密密钥密文，其中，所述第一解密密钥密文为所述第一用户可以解密的AES密钥密文；S930：将所述第一解密密钥密文发送至所述第一用户。具体而言，所述第一重加密密钥为在所述区块链平台接收到所述第二传输数据后，基于智能合约使用所述第一公钥对所述第一密钥密文和第二私钥进行代理重加密得到的加密结果，其中，代理指的是智能合约中对于访问权限的设定，重加密指的是多重加密技术；进一步的，所述第一解密密钥密文为基于所述第一密钥密文和所述第一重加密密钥得到对所述第一重加密密钥进行解密的解密流程，以及对加密密钥的加密进行解密的密钥密文，将所述第一解密密钥密文发送至第一用户，第一用户依据所述第一解密密钥密文调用第一私钥对所述第一重加密密钥进行解密，得到第二私钥和使用第二公钥加密的加密密钥密文，再使用第二私钥对使用第二公钥加密的加密密钥密文解密，得到所述第一密钥密文，再通过所述第一解密密钥密文对第一密钥密文的加密信息进行解密，得到第一密钥。通过多重加密技术，提高了数据共享的安全阈值，保障数据隐私安全。进一步的，如图2所示，所述方法还包括步骤S1000：S1010：所述第一用户根据所述请求文件的ID信息，获得所述第一私钥；S1020：根据所述第一私钥对所述第一解密密钥密文进行解密，获得所述请求文件对应的所述第一密钥；S1030：根据所述第一密钥中从所述IPFS系统中获得所述第一文件密文；S1040：所述第一用户通过对所述第一文件密文进行解密获取源文件。具体而言，当所述第一用户接收到所述第一解密密钥密文后，基于所述请求文件的ID信息检索在本地浏览器存储的所述第一私钥，使用第一私钥对所述第一解密密钥密文进行解密，得到所述请求文件对应的所述第一密钥；进一步的，将所述请求文件的ID信息对应密文哈希值发送至所述IPFS系统检索得到所述第一文件密文，下载到本地数据库，并调用所述第一密钥进行文件解密得到源文件。通过将第一密钥存储在本地，避免线上交易过程密钥被劫持，提高了数据交互的安全性。进一步的，基于所述获得第一用户的第一使用请求之后，所述方法步骤S100还包括：S110：判断所述第一用户的所述第一使用请求是否得到所述第二用户的访问授权；S120：若所述第一用户的所述第一使用请求未得到所述第二用户的访问授权，获得第一提醒信息；S130：将所述第一提醒信息发送至所述第一用户。具体而言，评估所述第一用户的所述第一使用请求是否得到所述第二用户的访问授权，在发出请求信息之前，所述第一用户会和所述第二用户进行交互，向第二用户申请待读取文件的访问授权，若是得到授权，则对所述第一用户的进行授权标识，当区块链平台接收到第一用户的请求信息时，依据授权标识评估访问权限，当所述第一用户的所述第一使用请求未得到所述第二用户的访问授权就生成所述第一提醒信息，示例性的为：您未获得当前文件的访问权限，请核实。将第一提醒信息发送至所述第一用户，提醒其申请权限。通过访问权限的设定，提高了交互过程的智能性。综上所述，本申请实施例所提供的一种基于区块链的数据共享方法及系统具有如下技术效果：1.本申请实施例通过提供了一种基于区块链的数据共享方法及系统，解决了现有技术中由于数据共享的方式安全程度不够，导致存在数据隐私泄露风险的技术问题。通过读取使用者用户文件范文请求信息，为使用者随机生成一对公私密钥，将私钥存储在本地，将公钥和请求文件上传到区块链平台，然后区块链平台基于请求文件读取到待访问文件的明文哈希值，将待访问文件的明文哈希值和公钥作为输出信息传送到文件拥有者端，拥有者端在接收到输出信息后随机生成第二对公私钥，使用公钥对待访问文件密钥进行再加密，将第二个私钥和第一个公钥以及再加密后的待访问文件密钥上传至区块链平台，对加密文件处理得到使用者的私钥可以解密的待访问文件密钥密文，再发送至使用者端进行解密得到原文。一者通过将文件存储在文件拥有者放，在区块链缓解存储压力的同时保障了数据安全；二者将解密密钥存储在本地避免被劫持，提高了数据共享的安全性；三者通过多重加密解密方式，复杂化解密过程，保障数据安全性，进而达到了提高数据交互安全性和缓解区块链数据存储压力的技术效果。实施例二基于与前述实施例中一种基于区块链的数据共享方法相同的发明构思，如图3所示，本申请实施例提供了一种基于区块链的数据共享系统，其中，所述系统包括：第一获得单元11，所述第一获得单元11用于获得第一用户的第一使用请求，其中，所述第一用户为数据使用者；第一生成单元12，所述第一生成单元12用于根据所述第一使用请求，生成第一公私钥对，其中，所述第一公私钥对包括第一公钥和第一私钥；第一输入单元13，所述第一输入单元13用于将所述第一公钥和所述第一用户的请求文件作为第一传输数据输入到区块链平台中，根据所述区块链平台获得第一输出信息；第一发送单元14，所述第一发送单元14用于将所述第一输出信息发送给第二用户，其中，所述第二用户为所述请求文件对应的数据拥有者；第二生成单元15，所述第二生成单元15用于所述第二用户根据所述第一输出信息，生成第二公私钥对，其中，所述第二公私钥对包括第二公钥和第二私钥；第二输入单元16，所述第二输入单元16用于将所述第二私钥和所述第一公钥作为第二传输数据输入所述区块链平台中，根据所述区块链平台获得第二输出信息；第一解密单元17，所述第一解密单元17用于所述第一用户根据所述第二输出信息并结合IPFS系统对所述请求文件进行解密读取，完成共享访问。进一步的，所述系统还包括：第二获得单元，所述第二获得单元用于获得所述第二用户的第一登录信息；第三获得单元，所述第三获得单元用于当所述第一登录信息验证通过时，获得第一上传文件；第三生成单元，所述第三生成单元用于通过AES加密算法对所述第一上传文件进行加密，生成第一密钥，其中，所述第一密钥包括第一明文哈希值和第一AES密钥；第一加密单元，所述第一加密单元用于根据第一调用指令调用AES对称加密函数对所述第一上传文件进行加密，获得第一文件密文；第一上传单元，所述第一上传单元用于将所述第一文件密文上传至所述IPFS系统中。进一步的，所述系统还包括：第四获得单元，所述第四获得单元用于所述IPFS系统根据所述第一文件密文进行哈希值计算，获得第一密文哈希值；第一传输单元，所述第一传输单元用于将所述第一密文哈希值传输至所述第二用户；第一存储单元，所述第一存储单元用于所述第二用户通过调用智能合约将第一明文哈希值和所述第一密文哈希值和所述请求文件信息存储至所述区块链平台中；第四生成单元，所述第四生成单元用于根据所述区块链平台，生成所述请求文件的ID信息。进一步的，所述系统还包括：第五获得单元，所述第五获得单元用于所述第二用户获得所述第一输出信息，其中，所述第一输出信息包括所述第一明文哈希值和所述第一公钥；第六获得单元，所述第六获得单元用于所述第二用户根据所述第一明文哈希值，获得对应的所述第一AES密钥；第五生成单元，所述第五生成单元用于根据所述第二用户的所述第二公钥对所述第一AES密钥进行加密，生成第一密钥密文；第三输入单元，所述第三输入单元用于将所述第一密钥密文添加至所述第二传输数据中输入所述区块链平台进行重加密。进一步的，所述系统还包括：第七获得单元，所述第七获得单元用于获得所述区块链平台获得第一重加密密钥；第八获得单元，所述第八获得单元用于根据所述第一密钥密文和所述第一重加密密钥，获得第一解密密钥密文，其中，所述第一解密密钥密文为所述第一用户可以解密的AES密钥密文；第二发送单元，所述第二发送单元用于将所述第一解密密钥密文发送至所述第一用户。进一步的，所述系统还包括：第九获得单元，所述第九获得单元用于所述第一用户根据所述请求文件的ID信息，获得所述第一私钥；第十获得单元，所述第十获得单元用于根据所述第一私钥对所述第一解密密钥密文进行解密，获得所述请求文件对应的所述第一密钥；第十一获得单元，所述第十一获得单元用于根据所述第一密钥中从所述IPFS系统中获得所述第一文件密文；第二解密单元，所述第二解密单元用于所述第一用户通过对所述第一文件密文进行解密获取源文件。进一步的，所述系统还包括：第一判断单元，所述第一判断单元用于判断所述第一用户的所述第一使用请求是否得到所述第二用户的访问授权；第十二获得单元，所述第十二获得单元用于若所述第一用户的所述第一使用请求未得到所述第二用户的访问授权，获得第一提醒信息；第三发送单元，所述第三发送单元用于将所述第一提醒信息发送至所述第一用户。示例性电子设备下面参考图4来描述本申请实施例的电子设备。基于与前述实施例中一种基于区块链的数据共享方法相同的发明构思，本申请实施例还提供了一种基于区块链的数据共享系统，包括：处理器，所述处理器与存储器耦合，所述存储器用于存储程序，当所述程序被所述处理器执行时，使得系统以执行第一方面任一项所述的方法。该电子设备300包括：处理器302、通信接口303、存储器301。可选的，电子设备300还可以包括总线架构304。其中，通信接口303、处理器302以及存储器301可以通过总线架构304相互连接；总线架构304可以是外设部件互连标总线或扩展工业标准结构总线等。所述总线架构304可以分为地址总线、数据总线、控制总线等。为便于表示，图4中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。处理器302可以是一个CPU，微处理器，ASIC，或一个或多个用于控制本申请方案程序执行的集成电路。通信接口303，使用任何收发器一类的系统，用于与其他设备或通信网络通信，如以太网，无线接入网,无线局域网，有线接入网等。存储器301可以是ROM或可存储静态信息和指令的其他类型的静态存储设备，RAM或者可存储信息和指令的其他类型的动态存储设备，也可以是电可擦可编程只读存储器、只读光盘或其他光盘存储、光碟存储、磁盘存储介质或者其他磁存储设备、或者能够用于携带或存储具有指令或数据结构形式的期望的程序代码并能够由计算机存取的任何其他介质，但不限于此。存储器可以是独立存在，通过总线架构304与处理器相连接。存储器也可以和处理器集成在一起。其中，存储器301用于存储执行本申请方案的计算机执行指令，并由处理器302来控制执行。处理器302用于执行存储器301中存储的计算机执行指令，从而实现本申请上述实施例提供的一种基于区块链的数据共享方法。可选的，本申请实施例中的计算机执行指令也可以称之为应用程序代码，本申请实施例对此不作具体限定。本申请实施例通过提供了一种基于区块链的数据共享方法及系统，解决了现有技术中由于数据共享的方式安全程度不够，导致存在数据隐私泄露风险的技术问题。通过读取使用者用户文件范文请求信息，为使用者随机生成一对公私密钥，将私钥存储在本地，将公钥和请求文件上传到区块链平台，然后区块链平台基于请求文件读取到待访问文件的明文哈希值，将待访问文件的明文哈希值和公钥作为输出信息传送到文件拥有者端，拥有者端在接收到输出信息后随机生成第二对公私钥，使用公钥对待访问文件密钥进行再加密，将第二个私钥和第一个公钥以及再加密后的待访问文件密钥上传至区块链平台，对加密文件处理得到使用者的私钥可以解密的待访问文件密钥密文，再发送至使用者端进行解密得到原文。一者通过将文件存储在文件拥有者放，在区块链缓解存储压力的同时保障了数据安全；二者将解密密钥存储在本地避免被劫持，提高了数据共享的安全性；三者通过多重加密解密方式，复杂化解密过程，保障数据安全性，进而达到了提高数据交互安全性和缓解区块链数据存储压力的技术效果。本领域普通技术人员可以理解：本申请中涉及的第一、第二等各种数字编号仅为描述方便进行的区分，并不用来限制本申请实施例的范围，也不表示先后顺序。“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。“至少一个”是指一个或者多个。至少两个是指两个或者多个。“至少一个”、“任意一个”或其类似表达，是指的这些项中的任意组合，包括单项或复数项的任意组合。例如，a,b,或c中的至少一项，可以表示：a,b,c,a-b,a-c,b-c,或a-b-c，其中a,b,c可以是单个，也可以是多个。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机程序指令时，全部或部分地产生按照本申请实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程系统。所述计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一个计算机可读存储介质传输，例如，所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线)或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包括一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质，、光介质、或者半导体介质)等。本申请实施例中所描述的各种说明性的逻辑单元和电路可以通过通用处理器，数字信号处理器，专用集成电路，现场可编程门阵列或其它可编程逻辑系统，离散门或晶体管逻辑，离散硬件部件，或上述任何组合的设计来实现或操作所描述的功能。通用处理器可以为微处理器，可选地，该通用处理器也可以为任何传统的处理器、控制器、微控制器或状态机。处理器也可以通过计算系统的组合来实现，例如数字信号处理器和微处理器，多个微处理器，一个或多个微处理器联合一个数字信号处理器核，或任何其它类似的配置来实现。本申请实施例中所描述的方法或算法的步骤可以直接嵌入硬件、处理器执行的软件单元、或者这两者的结合。软件单元可以存储于RAM存储器、闪存、ROM存储器、EPROM存储器、EEPROM存储器、寄存器、硬盘、可移动磁盘、CD-ROM或本领域中其它任意形式的存储媒介中。示例性地，存储媒介可以与处理器连接，以使得处理器可以从存储媒介中读取信息，并可以向存储媒介存写信息。可选地，存储媒介还可以集成到处理器中。处理器和存储媒介可以设置于ASIC中，ASIC可以设置于终端中。可选地，处理器和存储媒介也可以设置于终端中的不同的部件中。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。尽管结合具体特征及其实施例对本申请进行了描述，显而易见的，在不脱离本申请的精神和范围的情况下，可对其进行各种修改和组合。相应地，本说明书和附图仅仅是所附权利要求所界定的本申请的示例性说明，且视为已覆盖本申请范围内的任意和所有修改、变化、组合或等同物。显然，本领域的技术人员可以对本申请进行各种改动和变型而不脱离本申请的范围。这样，倘若本申请的这些修改和变型属于本申请权利要求及其等同技术的范围之内，则本申请意图包括这些改动和变型在内。
