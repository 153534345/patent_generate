标题title
一种两位置控制机构接近传感器故障检测方法
摘要abst
本申请提供了一种两位置控制机构接近传感器故障检测方法，属于自动控制检测技术领域，具体包括：启动两位置控制机构，驱动两位置控制机构的切换机构由一侧开始向另一侧运动；对两位置控制机构的运动过程进行划分，设定各运动过程的时间阈值；实时采集并判断接近传感器的状态，接近传感器感应到切换机构时，记录感应时间；所切换机构位置切换结束后，对各运动过程中接近传感器的感应时间进行判断，对接近传感器异常情况进行判断。通过本申请的处理方案，提高排查接近传感器的排查效率。
权利要求书clms
1.一种两位置控制机构接近传感器故障检测方法，其特征在于，包括：步骤1，启动两位置控制机构，步骤2，驱动两位置控制机构的切换机构由一侧开始向另一侧运动；步骤3，对两位置控制机构的运动过程进行划分，设定各运动过程的时间阈值；步骤4，实时采集并判断接近传感器的状态，接近传感器感应到切换机构时，记录感应时间；步骤5，所切换机构位置切换结束后，对各运动过程中接近传感器的感应时间进行判断，对接近传感器异常情况进行判断。2.根据权利要求1所述的两位置控制机构接近传感器故障检测方法，其特征在于，所述接近传感器的数量为四个，所述步骤2中，将两位置控制机构的运动过程划分为四段，分别为所述切换结构到达第一接近传感器、第二接近传感器、第三接近传感器和第四接近传感器的运动过程。3.根据权利要求2所述的两位置控制机构接近传感器故障检测方法，其特征在于，所述步骤3中设置切换机构到达第一接近传感器、第二接近传感器、第三接近传感器和第四接近传感器的时间阈值分别为T0±ΔT、T1±ΔT、T2±ΔT和T3±ΔT，所述ΔT允许的误差范围。4.根据权利要求3所述的两位置控制机构接近传感器故障检测方法，其特征在于，所述T0＝0。5.根据权利要求1所述的两位置控制机构接近传感器故障检测方法，其特征在于，所述步骤5中，对接近传感器异常情况进行判断的方法为：若在各运动过程的感应时间阈值内，未感应到接近传感器状态，认为接近传感器损坏或感应位置不合适导致感应失效；若在感应时间阈值内，感应到其他接近传感器状态，认为接近传感器安装顺序异常。6.根据权利要求1所述的两位置控制机构接近传感器故障检测方法，其特征在于，还包括：步骤6，对接近传感器安装顺序异常的情况进行重新排序，得到正确的安装顺序。7.根据权利要求6所述的两位置控制机构接近传感器故障检测方法，其特征在于，所述步骤6包括：根据运动过程中的接近传感器的感应顺序先后，将实际接近传感器位置与理论顺序进行映射，得到映射关系，按照映射关系得到接近传感器顺序纠正措施。8.一种两位置控制机构接近传感器故障检测装置，其特征在于，包括CPU控制板、供电系统及上位机；所述上位机通过串口发送检测命令至控制板，所述控制板控制供电系统为两位所述检测装置供电，且控制所述两位置控制机构运动，并记录接近传感的感应时间，所述控制板采集并判断接近传感器状态，感应到接近传感器状态时，记录感应时间，所述控制板分析检测信息生成检测结果，所述控制板通过串口发送检测结果至上位机进行检测结果显示，检测结果包含感应传感器是否损坏标志，感应传感器顺序纠正方法。9.根据权利要求8所述的两位置控制机构接近传感器故障检测装置，其特征在于，还包括接线盒，所述接近传感器感应信号以及两位至控制机构的直流电机的驱动信号和接线盒交联，接线盒将作为中继和CPU控制板相连，接线盒对接近传感器感应信号进行采集，并经过隔离及电平转换后通过IO接口发送至控制板进行处理。10.根据权利要求9所述的两位置控制机构接近传感器故障检测装置，其特征在于，所述接线盒上设置有指示灯，用于直观观察各接近传感器状态。
说明书desc
技术领域本申请涉及自动控制检测的领域，尤其是涉及一种两位置控制机构接近传感器故障检测方法。背景技术在工业控制领域，两位置控制机构为常见的控制机构，控制过程为根据控制指令，机构在两固定位置往复运动。常见的控制方法为：采用接近传感器进行位置判断，采用电机及机械结构实现位置的切换。常见的接近传感器有电感式接近传感器及霍尔传感器，其结构简单，灵敏度和分辩力高，寿命长，在自动控制与电子信息技术以及检测技术领域有着广泛应用。由于位移传感器都安装在产品内部，且布局多个，产品密封之后无法观察到其状态，，针对常见的故障提出了解决措施，并借鉴移位传感器的特性设计了本发明，用来解决此类问题。常见的接近传感器应用方式为：接近传感器应用在产品中的两位置控制机构上，起减速和到位判断作用。当有金属件靠近移位传感器感应面时，感应指示灯点亮，并且信号输出电压变为低电平。通过采集感应电平即可获得接近传感器状态。接近传感器一般安装在产品内部，产品密封后无法观察传感器状态，当其产生故障时，无法直接查找故障传感器，难以分析故障原因，且一般排查均采用手动测试的方式，排查难度大，排查周期长。发明内容有鉴于此，本申请提供一种两位置控制机构接近传感器故障检测方法，解决了现有技术中的问题，提高排查接近传感器的排查效率。一方面，本申请提供的一种两位置控制机构接近传感器故障检测方法采用如下的技术方案：一种两位置控制机构接近传感器故障检测方法，包括：步骤1，启动两位置控制机构，步骤2，驱动两位置控制机构的切换机构由一侧开始向另一侧运动；步骤3，对两位置控制机构的运动过程进行划分，设定各运动过程的时间阈值；步骤4，实时采集并判断接近传感器的状态，接近传感器感应到切换机构时，记录感应时间；步骤5，所切换机构位置切换结束后，对各运动过程中接近传感器的感应时间进行判断，对接近传感器异常情况进行判断。可选的，所述接近传感器的数量为四个，所述步骤2中，将两位置控制机构的运动过程划分为四段，分别为所述切换结构到达第一接近传感器、第二接近传感器、第三接近传感器和第四接近传感器的运动过程。可选的，所述步骤3中设置切换机构到达第一接近传感器、第二接近传感器、第三接近传感器和第四接近传感器的时间阈值分别为T0±ΔT、T1±ΔT、T2±ΔT和T3±ΔT，所述ΔT允许的误差范围。可选的，所述T0＝0。可选的，所述步骤5中，对接近传感器异常情况进行判断的方法为：若在各运动过程的感应时间阈值内，未感应到接近传感器状态，认为接近传感器损坏或感应位置不合适导致感应失效；若在感应时间阈值内，感应到其他接近传感器状态，认为接近传感器安装顺序异常。可选的，还包括：步骤6，对接近传感器安装顺序异常的情况进行重新排序，得到正确的安装顺序。可选的，所述步骤6包括：根据运动过程中的接近传感器的感应顺序先后，将实际接近传感器位置与理论顺序进行映射，得到映射关系，按照映射关系得到接近传感器顺序纠正措施。另一方面，本申请提供的一种两位置控制机构接近传感器故障检测装置采用如下的技术方案：一种两位置控制机构接近传感器故障检测装置，包括CPU控制板、供电系统及上位机；所述上位机通过串口发送检测命令至控制板，所述控制板控制供电系统为两位所述检测装置供电，且控制所述两位置控制机构运动，并记录接近传感的感应时间，所述控制板采集并判断接近传感器状态，感应到接近传感器状态时，记录感应时间，所述控制板分析检测信息生成检测结果，所述控制板通过串口发送检测结果至上位机进行检测结果显示，检测结果包含感应传感器是否损坏标志，感应传感器顺序纠正方法。可选的，还包括接线盒，所述接近传感器感应信号以及两位至控制机构的直流电机的驱动信号和接线盒交联，接线盒将作为中继和CPU控制板相连，接线盒对接近传感器感应信号进行采集，并经过隔离及电平转换后通过IO接口发送至控制板进行处理。可选的，所述接线盒上设置有指示灯，用于直观观察各接近传感器状态。综上所述，本申请包括以下有益技术效果：解决在两位置控制机构接近传感器损坏或安装位置不合适、安装顺序不正确时的故障定位问题，实现自动化故障检测的功能附图说明为了更清楚地说明本申请实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它的附图。图1为本申请实施例两位控制机构的结构示意图；图2为本申请两位置控制机构接近传感器故障检测方法的流程图；图3为本申请两位置控制机构接近传感器故障检测装置的结构示意图；图4为本申请接近传感器信号采集电路的结构示意图。附图标记说明：101、第一传感器；102、第二传感器；103、第三传感器；104、第四传感器；105、直流电机；106、齿条结构；107、切换机构；201、两位置控制机构；202、供电系统；203、接线盒；204、CPU控制板；205、上位机；206、指示灯。具体实施方式下面结合附图对本申请实施例进行详细描述。以下通过特定的具体实例说明本申请的实施方式，本领域技术人员可由本说明书所揭露的内容轻易地了解本申请的其他优点与功效。显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。本申请还可以通过另外不同的具体实施方式加以实施或应用，本说明书中的各项细节也可以基于不同观点与应用，在没有背离本申请的精神下进行各种修饰或改变。需说明的是，在不冲突的情况下，以下实施例及实施例中的特征可以相互组合。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。要说明的是，下文描述在所附权利要求书的范围内的实施例的各种方面。应显而易见，本文中所描述的方面可体现于广泛多种形式中，且本文中所描述的任何特定结构及/或功能仅为说明性的。基于本申请，所属领域的技术人员应了解，本文中所描述的一个方面可与任何其它方面独立地实施，且可以各种方式组合这些方面中的两者或两者以上。举例来说，可使用本文中所阐述的任何数目个方面来实施设备及/或实践方法。另外，可使用除了本文中所阐述的方面中的一或多者之外的其它结构及/或功能性实施此设备及/或实践此方法。还需要说明的是，以下实施例中所提供的图示仅以示意方式说明本申请的基本构想，图式中仅显示与本申请中有关的组件而非按照实际实施时的组件数目、形状及尺寸绘制，其实际实施时各组件的型态、数量及比例可为一种随意的改变，且其组件布局型态也可能更为复杂。另外，在以下描述中，提供具体细节是为了便于透彻理解实例。然而，所属领域的技术人员将理解，可在没有这些特定细节的情况下实践所述方面。本申请实施例提供一种两位置控制机构接近传感器故障检测方法。如图1所示，本申请实施例的两位置控制机构201包括切换机构107，切换机构107安装在齿条结构106上，直流电机105通过齿轮与齿条结构106啮合，当直流电机105运动时，即可带动切换机构107在结构上直线运动。当机构运动到最左侧时，第一接近传感器感应，当机构由电机驱动逐步向右侧运动过程中，第二接近传感器，第三接近传感器，第四接近传感器依次感应。故可通过接近传感器状态判断当前切换机构107的大致位置。一般情况下，将第二传感器102及第三传感器103称作减速传感器，当其感应时，认为机构接近目标位置，电机慢速运转，以保证平稳到位。将第一传感器101和第四传感器104称为到位传感器，当其感应时，认为机构到达目标位置，可作为到位状态上报的触发。如图2所示，一种两位置控制机构接近传感器故障检测方法，包括：步骤1，启动两位置控制机构201。步骤2，驱动两位置控制机构201的切换机构107由一侧开始向另一侧运动，接近传感器的数量为四个，将两位置控制机构201的运动过程划分为四段，分别为切换结构到达第一接近传感器、第二接近传感器、第三接近传感器和第四接近传感器的运动过程。步骤3，对两位置控制机构201的运动过程进行划分，设定各运动过程的时间阈值，设置切换机构107到达第一接近传感器、第二接近传感器、第三接近传感器和第四接近传感器的时间阈值分别为T0±T、T1±T、T2±T和T3±T，T允许的误差范围；其中T0＝0。步骤4，实时采集并判断接近传感器的状态，接近传感器感应到切换机构107时，记录感应时间；步骤5，所切换机构107位置切换结束后，对各运动过程中接近传感器的感应时间进行判断，对接近传感器异常情况进行判断。对接近传感器异常情况进行判断的方法为：若在各运动过程的感应时间阈值内，未感应到接近传感器状态，认为接近传感器损坏或感应位置不合适导致感应失效；若在感应时间阈值内，感应到其他接近传感器状态，认为接近传感器安装顺序异常。步骤6，对接近传感器安装顺序异常的情况进行重新排序，得到正确的安装顺序。根据运动过程中的接近传感器的感应顺序先后，将实际接近传感器位置与理论顺序进行映射，得到映射关系，按照映射关系得到接近传感器顺序纠正措施。本申请还公开了一种两位置控制机构接近传感器故障检测装置。如图3所示，一种两位置控制机构201接近传感器故障检测装置，包括CPU控制板204、供电系统202及上位机205。上位机205通过串口发送检测命令至控制板，控制板控制供电系统202为两位检测装置供电，且控制两位置控制机构201运动，并记录接近传感的感应时间，控制板采集并判断接近传感器状态，感应到接近传感器状态时，记录感应时间，控制板分析检测信息生成检测结果，控制板通过串口发送检测结果至上位机205进行检测结果显示，检测结果包含感应传感器是否损坏标志，感应传感器顺序纠正方法。两位置控制机构201接近传感器故障检测装置还包括接线盒203，两位置控制机构201与接线盒203交联，接近传感器感应信号以及两位至控制机构的直流电机105的驱动信号和接线盒203交联，接线盒203将作为中继和CPU控制板204相连，接线盒203对接近传感器感应信号进行采集，并经过隔离及电平转换后通过IO接口发送至控制板进行处理。接线盒203上设置有指示灯206，用于直观观察各接近传感器状态。接线盒203上设置有电机驱动信号测试点，用于对电机工作情况进行测试。接线盒203对接近传感器感应信号进行采集，并经过隔离及电平转换后通过IO接口发送至CPU控制板204进行处理。接近传感器信号采集电路在接线盒203中实现，原理如附图4所示，接近传感器输出接入光耦进行隔离和电平转换，指示灯206驱动通过上拉电路实现。CPU控制板204为控制核心，用于整个故障检测流程的控制及电机的驱动。在完成故障检测后，CPU控制板204将检测结果及纠正措施通过串口发送给上位机205电脑显示，操作者可直接通过上位机205电脑屏幕确认切换机构107状态。操作方便快捷。接线盒203和CPU控制板204通过+28V电源供电，通过接线盒203的开关进行上电控制。以上所述，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以权利要求的保护范围为准。
