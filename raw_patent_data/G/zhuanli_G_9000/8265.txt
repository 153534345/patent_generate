标题title
自动驾驶车辆定位方法和装置、电子设备和存储介质
摘要abst
本申请公开了一种自动驾驶车辆定位方法和装置、电子设备和存储介质，该方法包括：获取自动驾驶车辆的视觉横向校正信息和融合定位信息队列，融合定位信息队列用于实时缓存融合定位信息；根据融合定位信息队列确定视觉横向校正信息是否满足第一预设校正条件；若满足，则获取融合定位信息队列中当前时刻的融合定位信息，并利用视觉横向校正信息对当前时刻的融合定位信息进行校正，得到校正后的融合定位信息；将校正后的融合定位信息作为量测信息进行融合定位，得到最终融合定位结果。本申请利用视觉横向校正信息对当前时刻的融合定位结果进行校正，提高了融合定位精度和定位实时性，并实现车道保持，且在定位信号较差的路段也能实现高精度定位。
权利要求书clms
1.一种自动驾驶车辆定位方法，其中，所述方法包括：获取自动驾驶车辆的视觉横向校正信息和融合定位信息队列，所述融合定位信息队列用于实时缓存融合定位信息；根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件；在所述视觉横向校正信息满足第一预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息；将校正后的融合定位信息作为量测信息进行融合定位，得到所述自动驾驶车辆的最终融合定位结果。2.如权利要求1所述方法，其中，所述融合定位信息包括位置坐标和所述位置坐标对应的时间戳，所述视觉横向校正信息包括位置偏移量和所述位置偏移量对应的时间戳，所述根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件包括：遍历所述融合定位信息队列中的各个位置坐标对应的时间戳；确定所述融合定位信息队列中是否存在所述位置坐标对应的时间戳与所述位置偏移量对应的时间戳的差值绝对值小于预设差值阈值的时间戳；若存在，则确定所述视觉横向校正信息满足所述第一预设校正条件。3.如权利要求1所述方法，其中，在根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件之后，所述方法还包括：确定所述视觉横向校正信息是否满足第二预设校正条件；在所述视觉横向校正信息满足所述第二预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息，得到校正后的融合定位信息；在所述视觉横向校正信息不满足第二预设校正条件的情况下，直接丢弃所述视觉横向校正信息。4.如权利要求3所述方法，其中，所述视觉横向校正信息包括位置偏移量，所述确定所述视觉横向校正信息是否满足第二预设校正条件包括：确定所述位置偏移量是否大于预设偏移量阈值；若所述位置偏移量不大于预设偏移量阈值，则确定所述视觉横向校正信息满足所述第二预设校正条件；若所述位置偏移量大于预设偏移量阈值，则确定所述视觉横向校正信息不满足所述第二预设校正条件并丢弃所述视觉横向校正信息。5.如权利要求3所述方法，其中，所述确定所述视觉横向校正信息是否满足第二预设校正条件包括：确定所述自动驾驶车辆是否处于转弯状态；若所述自动驾驶车辆未处于转弯状态，则确定所述视觉横向校正信息满足所述第二预设校正条件；若所述自动驾驶车辆处于转弯状态，则确定所述视觉横向校正信息不满足所述第二预设校正条件并丢弃所述视觉横向校正信息。6.如权利要求5所述方法，其中，所述确定所述自动驾驶车辆是否处于转弯状态包括：确定所述自动驾驶车辆的当前角速率和/或当前偏航角变化率；若所述当前角速率不大于预设角速率阈值，且所述当前偏航角变化率不大于预设偏航角变化率阈值，则确定所述自动驾驶车辆未处于转弯状态；否则，则确定所述自动驾驶车辆处于转弯状态。7.如权利要求1所述方法，其中，所述视觉横向校正信息包括位置偏移量，所述当前时刻的融合定位信息包括当前时刻的偏航角，所述利用所述视觉横向校正信息对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息包括：基于所述当前时刻的偏航角，将所述位置偏移量转换到导航坐标系下；利用导航坐标系下的位置偏移量对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息。8.一种自动驾驶车辆定位装置，其中，所述装置包括：获取单元，用于获取自动驾驶车辆的视觉横向校正信息和融合定位信息队列，所述融合定位信息队列用于实时缓存融合定位信息；第一确定单元，用于根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件；校正单元，用于在所述视觉横向校正信息满足第一预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息；融合定位单元，用于将校正后的融合定位信息作为量测信息进行融合定位，得到所述自动驾驶车辆的最终融合定位结果。9.一种电子设备，包括：处理器；以及被安排成存储计算机可执行指令的存储器，所述可执行指令在被执行时使所述处理器执行所述权利要求1~7之任一所述方法。10.一种计算机可读存储介质，所述计算机可读存储介质存储一个或多个程序，所述一个或多个程序当被包括多个应用程序的电子设备执行时，使得所述电子设备执行所述权利要求1~7之任一所述方法。
说明书desc
技术领域本申请涉及自动驾驶技术领域，尤其涉及一种自动驾驶车辆定位方法和装置、电子设备和存储介质。背景技术自动驾驶场景下，需要实现自动驾驶车辆的高精度定位，目前通常采用多传感器融合定位的方式，即通过卡尔曼滤波器融合多个传感器采集的定位信息，从而实现车辆的高精度定位。现有技术中的一种融合定位方案是基于IMU和RTK实现的融合定位方案。然而，此种方案在自动驾驶车辆遇到城市、峡谷或者隧道等工况时，RTK会受到干扰或者无信号导致无法工作，尤其是在长隧道工况，无法得到高精度的定位信息，且自动驾驶车辆由于上述原因将无法进行车道保持。发明内容本申请实施例提供了一种自动驾驶车辆定位方法和装置、电子设备和存储介质，以提高自动驾驶车辆的融合定位精度。本申请实施例采用下述技术方案：第一方面，本申请实施例提供一种自动驾驶车辆定位方法，其中，所述方法包括：获取自动驾驶车辆的视觉横向校正信息和融合定位信息队列，所述融合定位信息队列用于实时缓存融合定位信息；根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件；在所述视觉横向校正信息满足第一预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息；将校正后的融合定位信息作为量测信息进行融合定位，得到所述自动驾驶车辆的最终融合定位结果。可选地，所述融合定位信息包括位置坐标和所述位置坐标对应的时间戳，所述视觉横向校正信息包括位置偏移量和所述位置偏移量对应的时间戳，所述根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件包括：遍历所述融合定位信息队列中的各个位置坐标对应的时间戳；确定所述融合定位信息队列中是否存在所述位置坐标对应的时间戳与所述位置偏移量对应的时间戳的差值绝对值小于预设差值阈值的时间戳；若存在，则确定所述视觉横向校正信息满足所述第一预设校正条件。可选地，在根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件之后，所述方法还包括：确定所述视觉横向校正信息是否满足第二预设校正条件；在所述视觉横向校正信息满足所述第二预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息，得到校正后的融合定位信息；在所述视觉横向校正信息不满足第二预设校正条件的情况下，直接丢弃所述视觉横向校正信息。可选地，所述视觉横向校正信息包括位置偏移量，所述确定所述视觉横向校正信息是否满足第二预设校正条件包括：确定所述位置偏移量是否大于预设偏移量阈值；若所述位置偏移量不大于预设偏移量阈值，则确定所述视觉横向校正信息满足所述第二预设校正条件；若所述位置偏移量大于预设偏移量阈值，则确定所述视觉横向校正信息不满足所述第二预设校正条件并丢弃所述视觉横向校正信息。可选地，所述确定所述视觉横向校正信息是否满足第二预设校正条件包括：确定所述自动驾驶车辆是否处于转弯状态；若所述自动驾驶车辆未处于转弯状态，则确定所述视觉横向校正信息满足所述第二预设校正条件；若所述自动驾驶车辆处于转弯状态，则确定所述视觉横向校正信息不满足所述第二预设校正条件并丢弃所述视觉横向校正信息。可选地，所述确定所述自动驾驶车辆是否处于转弯状态包括：确定所述自动驾驶车辆的当前角速率和/或当前偏航角变化率；若所述当前角速率不大于预设角速率阈值，且所述当前偏航角变化率不大于预设偏航角变化率阈值，则确定所述自动驾驶车辆未处于转弯状态；否则，则确定所述自动驾驶车辆处于转弯状态。可选地，所述视觉横向校正信息包括位置偏移量，所述当前时刻的融合定位信息包括当前时刻的偏航角，所述利用所述视觉横向校正信息对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息包括：基于所述当前时刻的偏航角，将所述位置偏移量转换到导航坐标系下；利用导航坐标系下的位置偏移量对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息。第二方面，本申请实施例还提供一种自动驾驶车辆定位装置，其中，所述装置包括：获取单元，用于获取自动驾驶车辆的视觉横向校正信息和融合定位信息队列，所述融合定位信息队列用于实时缓存融合定位信息；第一确定单元，用于根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件；校正单元，用于在所述视觉横向校正信息满足第一预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息；融合定位单元，用于将校正后的融合定位信息作为量测信息进行融合定位，得到所述自动驾驶车辆的最终融合定位结果。第三方面，本申请实施例还提供一种电子设备，包括：处理器；以及被安排成存储计算机可执行指令的存储器，所述可执行指令在被执行时使所述处理器执行前述之任一所述方法。第四方面，本申请实施例还提供一种计算机可读存储介质，所述计算机可读存储介质存储一个或多个程序，所述一个或多个程序当被包括多个应用程序的电子设备执行时，使得所述电子设备执行前述之任一所述方法。本申请实施例采用的上述至少一个技术方案能够达到以下有益效果：本申请实施例的自动驾驶车辆定位方法，先获取自动驾驶车辆的视觉横向校正信息和融合定位信息队列，融合定位信息队列用于实时缓存融合定位信息；然后根据融合定位信息队列确定视觉横向校正信息是否满足第一预设校正条件；之后在视觉横向校正信息满足第一预设校正条件的情况下，获取融合定位信息队列中的当前时刻的融合定位信息，并利用视觉横向校正信息对当前时刻的融合定位信息进行校正，得到校正后的融合定位信息；最后将校正后的融合定位信息作为量测信息进行融合定位，得到自动驾驶车辆的最终融合定位结果。本申请实施例的自动驾驶车辆定位方法利用视觉横向校正信息对当前时刻的融合定位结果进行校正，提高了融合定位精度和定位实时性，并实现车道保持，且在定位信号较差的路段也能实现高精度定位。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1为本申请实施例中一种自动驾驶车辆定位方法的流程示意图；图2为本申请实施例中一种自动驾驶车辆定位装置的结构示意图；图3为本申请实施例中一种电子设备的结构示意图。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合本申请具体实施例及相应的附图对本申请技术方案进行清楚、完整地描述。显然，所描述的实施例仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。以下结合附图，详细说明本申请各实施例提供的技术方案。对于现有技术中采用IMU+RTK等组合导航定位的方式，在自动驾驶车辆进入隧道等场景导致RTK定位信号较差或者无法获取到RTK定位信号时，此时只能单纯依靠IMU进行融合定位，由于IMU的定位结果存在累计误差，长时间依靠IMU进行定位将导致定位结果出现较大偏差。基于此，本申请实施例提供了一种自动驾驶车辆定位方法，通过借助视觉横向校正信息对当前时刻的定位结果进行了一定程度的纠正，进而提高了RTK定位信号较差等场景下的融合定位精度和定时实时性，同时也为自动驾驶车辆的车道保持提供了基础。如图1所示，提供了本申请实施例中一种自动驾驶车辆定位方法的流程示意图，所述方法至少包括如下的步骤S110至步骤S140：步骤S110，获取自动驾驶车辆的视觉横向校正信息和融合定位信息队列，所述融合定位信息队列用于实时缓存融合定位信息。本申请实施例的自动驾驶车辆定位方法可以由自动驾驶系统中的融合定位子系统来实现，在进行融合定位时需要先获取自动驾驶车辆的视觉横向校正信息和融合定位信息队列。视觉横向校正信息是由自动驾驶系统中的图像处理子系统发送过来的，图像处理子系统通过实时采集道路图像，并基于高精地图结合视觉识别算法对图像中的车道线信息进行提取和识别，从而计算得到视觉横向校正信息，用以表征车道线识别的横向偏差，是提高融合定位精度和车道保持的重要基础。融合定位信息队列用于实时缓存融合定位子系统输出的融合定位信息，也即融合定位信息队列中的融合定位信息是动态更新的。融合定位信息可以通过卡尔曼滤波器对多个传感器如IMU+RTK采集的定位信息进行融合得到，当然，本领域技术人员可以采用其他组合导航模式，在此不作具体限定。融合定位信息队列具体可以采用deque实现，deque是一种具有队列和栈的性质的数据结构，双端队列中的元素可以从两端弹出，在本申请实施例中，通过deque实时缓存一定时间长度如1s内的融合定位信息，当有新的融合定位信息进入队列时，最早的融合定位信息将从队列中弹出，从而保证队列中始终保存有最新1s内的融合定位信息。步骤S120，根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件。实际应用场景下，图像处理子系统发送视觉横向校正信息的频率与融合定位的频率一般不同，且视觉横向校正信息的接收会存在70ms至100ms左右的延迟，导致当前接收到的视觉横向校正信息与当前融合定位子系统输出的融合定位信息并非是对应的，而如果根据当前接收到的视觉横向校正信息对其所实际对应的融合定位信息进行校正，将导致最终输出的定位结果丧失了实时性。基于此，为了提高自动驾驶场景下融合定位的实时性，需要对当前时刻的融合定位信息进行校正。本申请实施例可以基于事先设定的第一预设校正条件，利用融合定位信息队列中当前存储的融合定位信息判断获取到的视觉横向校正信息能否用于校正当前时刻的融合定位信息，即是否满足实时定位的要求。步骤S130，在所述视觉横向校正信息满足第一预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息。如果图像处理子系统发送过来的视觉横向校正信息满足上述第一预设校正条件，说明由于视觉横向校正信息的接收延迟而导致视觉横向校正信息与当前时刻的融合定位信息不对应的情况并不影响视觉横向校正信息的使用，该延迟误差是可被接受的，因此可以利用视觉横向校正信息对融合定位信息队列中的当前时刻的融合定位信息进行校正，从而得到校正后的融合定位信息。步骤S140，将校正后的融合定位信息作为量测信息进行融合定位，得到所述自动驾驶车辆的最终融合定位结果。在得到校正后的融合定位信息后，为了进一步提高定位精度，可以将校正后的融合定位信息作为观测值进行量测更新，这里可以采用EKF进行融合定位，从而得到最终的融合定位结果。本申请实施例的自动驾驶车辆定位方法利用视觉横向校正信息对当前时刻的融合定位结果进行校正，提高了融合定位精度和定位实时性，并实现车道保持，且在定位信号较差的路段也能实现高精度定位。在本申请的一个实施例中，所述融合定位信息包括位置坐标和所述位置坐标对应的时间戳，所述视觉横向校正信息包括位置偏移量和所述位置偏移量对应的时间戳，所述根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件包括：遍历所述融合定位信息队列中的各个位置坐标对应的时间戳；确定所述融合定位信息队列中是否存在所述位置坐标对应的时间戳与所述位置偏移量对应的时间戳的差值绝对值小于预设差值阈值的时间戳；若存在，则确定所述视觉横向校正信息满足所述第一预设校正条件。本申请实施例的视觉横向校正信息具体可以包括位置偏移量和位置偏移量对应的时间戳time0，融合定位信息队列中实时缓存的融合定位信息具体可以包括位置坐标和位置坐标对应的时间戳time，这里的位置坐标可以采用UTM或者WGS84得到，当然也可以采用其他形式，在此不作具体限定。本申请实施例的融合定位频率一般为100Hz，因此如果是缓存1s内的融合定位信息，那么融合定位信息队列中就会有100个位置坐标和时间戳组成的数据对。基于此，在判断视觉横向校正信息是否满足第一预设校正条件时，可以先遍历融合定位信息队列中当前缓存的各个位置坐标对应的时间戳time，将各个位置坐标对应的时间戳time与视觉横向校正信息对应的时间戳time0进行比较，如果二者之间的差值的绝对值小于一定的差值阈值，则说明当前接收到的视觉横向校正信息的延迟误差是可被接受的，因此可以确定确定视觉横向校正信息满足第一预设校正条件，可以用于对当前时刻的融合定位信息进行校正。上述预设差值阈值的大小主要取决于融合定位频率，例如融合定位频率为100Hz，那么这里的预设差值阈值就可以设置为0.01s，如果|time- time0|＜0.01s，说明视觉横向校正信息可用于校正当前时刻的融合定位信息，因此可以记录融合定位信息队列中缓存的当前时刻的time1所对应的位置信息。在本申请的一个实施例中，在根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件之后，所述方法还包括：确定所述视觉横向校正信息是否满足第二预设校正条件；在所述视觉横向校正信息满足所述第二预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息，得到校正后的融合定位信息；在所述视觉横向校正信息不满足第二预设校正条件的情况下，直接丢弃所述视觉横向校正信息。本申请实施例在根据融合定位信息队列确定视觉横向校正信息是否满足第一预设校正条件之后，还可以进一步确定视觉横向校正信息是否满足第二预设校正条件，这里的第二预设校正条件可以理解为是用于判断视觉横向校正信息自身是否可用，因为实际应用场景下，图像处理子系统通过视觉识别算法处理得到的视觉横向校正信息本身可能存在一定误差，如果该误差在可接受范围内，那么该视觉横向校正信息满足第二预设校正条件，可以用于后续校正，而如果该误差不在可接受范围内，那么该视觉横向校正信息不满足第二预设校正条件，不能用于后续校正，此时直接丢弃本次接收到的视觉横向校正信息即可。需要说明的是，上述第一预设校正条件的判断和第二预设校正条件的判断没有严格的执行顺序上的要求，即也可以先判断视觉横向校正信息是否满足第二预设校正条件，再判断是否满足第一预设校正条件。在本申请的一个实施例中，所述视觉横向校正信息包括位置偏移量，所述确定所述视觉横向校正信息是否满足第二预设校正条件包括：确定所述位置偏移量是否大于预设偏移量阈值；若所述位置偏移量不大于预设偏移量阈值，则确定所述视觉横向校正信息满足所述第二预设校正条件；若所述位置偏移量大于预设偏移量阈值，则确定所述视觉横向校正信息不满足所述第二预设校正条件并丢弃所述视觉横向校正信息。如前所述，视觉横向校正信息可以包括位置偏移量Δ，正常行驶情况下，该位置偏移量Δ存在一定上限，即存在对应的偏移量阈值，如果图像处理子系统通过视觉识别算法计算到的位置偏移量Δ超出了该偏移量阈值，说明视觉识别算法计算出的该位置偏移量Δ是不准确的，且误差较大，无法用于后续的校正环节，反之，则说明该位置偏移量Δ的误差是可被接收的，可以用于后续的校正环节。在本申请的一个实施例中，所述视觉横向校正信息包括位置偏移量，所述确定所述视觉横向校正信息是否满足第二预设校正条件包括：确定所述自动驾驶车辆是否处于转弯状态；若所述自动驾驶车辆未处于转弯状态，则确定所述视觉横向校正信息满足所述第二预设校正条件；若所述自动驾驶车辆处于转弯状态，则确定所述视觉横向校正信息不满足所述第二预设校正条件并丢弃所述视觉横向校正信息。除了通过上述事先设定好的偏移量阈值来判断视觉横向校正信息是否可用，本申请实施例还可以根据当前自动驾驶车辆的行驶状态来判断视觉横向校正信息是否可用，例如在自动驾驶车辆处于转弯工况时，视觉识别算法计算出的视觉横向校正信息的误差往往较大，进而不适用于后续的校正环节，因此本申请实施例可以通过车辆的航向角yaw变化等判断自动驾驶车辆是否处于转弯状态，从而确定视觉横向校正信息是否满足第二预设校正条件。实际应用场景下，上述实施例中采用的两种判断方式可以结合使用，也可以单独使用，具体如何实现，本领域技术人员可根据实际需求灵活选择，在此不作具体限定。在本申请的一个实施例中，所述确定所述自动驾驶车辆是否处于转弯状态包括：确定所述自动驾驶车辆的当前角速率和/或当前偏航角变化率；若所述当前角速率不大于预设角速率阈值，且所述当前偏航角变化率不大于预设偏航角变化率阈值，则确定所述自动驾驶车辆未处于转弯状态；否则，则确定所述自动驾驶车辆处于转弯状态。本申请实施例在确定自动驾驶车辆当前是否处于转弯状态时，可以通过采集车辆的当前角速率或者当前偏航角变化率来判断，如果当前角速率不大于预设角速率阈值，并且当前偏航角变化率也不大于预设偏航角变化率阈值，说明当前自动驾驶车辆没有处于转弯状态，而如果当前角速率超过了预设角速率阈值，或者当前偏航角变化率超过了预设偏航角变化率阈值，说明当前自动驾驶车辆处于转弯状态，那么此种状态下接收到的视觉横向校正信息将不能用于后续的校正环节。在本申请的一个实施例中，所述视觉横向校正信息包括位置偏移量，所述当前时刻的融合定位信息包括当前时刻的偏航角，所述利用所述视觉横向校正信息对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息包括：基于所述当前时刻的偏航角，将所述位置偏移量转换到导航坐标系下；利用导航坐标系下的位置偏移量对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息。本申请实施例在利用视觉横向校正信息对当前时刻的融合定位信息进行校正时，可以先根据当前时刻的融合定位信息中的偏航角yaw将视觉横向校正信息中的位置偏移量Δ转换到导航坐标系下，例如东北天坐标系下，从而得到导航坐标系下的位置偏移量，具体可以通过如下方式实现：dx=-Δ*sin；dy=Δ*sin。之后利用上述导航坐标系下的位置偏移量校正当前时刻的位置坐标，从而得到校正后的位置坐标，具体可以通过如下方式实现：Posx＇= Posx+dx；Posy＇= Posy+dy。最后将作为新的量测信息进行EKF量测更新，从而得到高精度的融合定位信息，并且可以使自动驾驶车辆保持在车道中间。本申请实施例还提供了一种自动驾驶车辆定位装置200，如图2所示，提供了本申请实施例中一种自动驾驶车辆定位装置的结构示意图，所述装置200至少包括：获取单元210、第一确定单元220、校正单元230以及融合定位单元240，其中：获取单元210，用于获取自动驾驶车辆的视觉横向校正信息和融合定位信息队列，所述融合定位信息队列用于实时缓存融合定位信息；第一确定单元220，用于根据所述融合定位信息队列确定所述视觉横向校正信息是否满足第一预设校正条件；校正单元230，用于在所述视觉横向校正信息满足第一预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息；融合定位单元240，用于将校正后的融合定位信息作为量测信息进行融合定位，得到所述自动驾驶车辆的最终融合定位结果。在本申请的一个实施例中，所述融合定位信息包括位置坐标和所述位置坐标对应的时间戳，所述视觉横向校正信息包括位置偏移量和所述位置偏移量对应的时间戳，所述第一确定单元220具体用于：遍历所述融合定位信息队列中的各个位置坐标对应的时间戳；确定所述融合定位信息队列中是否存在所述位置坐标对应的时间戳与所述位置偏移量对应的时间戳的差值绝对值小于预设差值阈值的时间戳；若存在，则确定所述视觉横向校正信息满足所述第一预设校正条件。在本申请的一个实施例中，所述装置还包括：第二确定单元，用于确定所述视觉横向校正信息是否满足第二预设校正条件；所述校正单元230，还用于在所述视觉横向校正信息满足所述第二预设校正条件的情况下，获取所述融合定位信息队列中的当前时刻的融合定位信息，并利用所述视觉横向校正信息对所述当前时刻的融合定位信息，得到校正后的融合定位信息；在所述视觉横向校正信息不满足第二预设校正条件的情况下，直接丢弃所述视觉横向校正信息。在本申请的一个实施例中，所述视觉横向校正信息包括位置偏移量，所述第二确定单元具体用于：确定所述位置偏移量是否大于预设偏移量阈值；若所述位置偏移量不大于预设偏移量阈值，则确定所述视觉横向校正信息满足所述第二预设校正条件；若所述位置偏移量大于预设偏移量阈值，则确定所述视觉横向校正信息不满足所述第二预设校正条件并丢弃所述视觉横向校正信息。在本申请的一个实施例中，所述第二确定单元具体用于：确定所述自动驾驶车辆是否处于转弯状态；若所述自动驾驶车辆未处于转弯状态，则确定所述视觉横向校正信息满足所述第二预设校正条件；若所述自动驾驶车辆处于转弯状态，则确定所述视觉横向校正信息不满足所述第二预设校正条件并丢弃所述视觉横向校正信息。在本申请的一个实施例中，所述第二确定单元具体用于：确定所述自动驾驶车辆的当前角速率和/或当前偏航角变化率；若所述当前角速率不大于预设角速率阈值，且所述当前偏航角变化率不大于预设偏航角变化率阈值，则确定所述自动驾驶车辆未处于转弯状态；否则，则确定所述自动驾驶车辆处于转弯状态。在本申请的一个实施例中，所述视觉横向校正信息包括位置偏移量，所述当前时刻的融合定位信息包括当前时刻的偏航角，所述校正单元230具体用于：基于所述当前时刻的偏航角，将所述位置偏移量转换到导航坐标系下；利用导航坐标系下的位置偏移量对所述当前时刻的融合定位信息进行校正，得到校正后的融合定位信息。能够理解，上述自动驾驶车辆定位装置，能够实现前述实施例中提供的自动驾驶车辆定位方法的各个步骤，关于自动驾驶车辆定位方法的相关阐释均适用于自动驾驶车辆定位装置，此处不再赘述。图3是本申请的一个实施例电子设备的结构示意图。请参考图3，在硬件层面，该电子设备包括处理器，可选地还包括内部总线、网络接口、存储器。其中，存储器可能包含内存，例如高速随机存取存储器，也可能还包括非易失性存储器，例如至少1个磁盘存储器等。当然，该电子设备还可能包括其他业务所需要的硬件。处理器、网络接口和存储器可以通过内部总线相互连接，该内部总线可以是ISA总线或EISA、输入/输出接口、网络接口和内存。内存可能包括计算机可读介质中的非永久性存储器，随机存取存储器  和/或非易失性内存等形式，如只读存储器  或闪存。内存是计算机可读介质的示例。计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存 、静态随机存取存储器 、动态随机存取存储器 、其他类型的随机存取存储器 、只读存储器 、电可擦除可编程只读存储器 、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘  或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体 ，如调制的数据信号和载波。还需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、商品或者设备中还存在另外的相同要素。本领域技术人员应明白，本申请的实施例可提供为方法、系统或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。以上所述仅为本申请的实施例而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
