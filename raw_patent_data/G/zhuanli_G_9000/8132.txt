标题title
基于冗余防御规避算法的健康出行路线规划系统
摘要abst
基于冗余防御规避算法的健康出行路线规划系统，它属于出行路线规划技术领域。本发明解决了现有系统在进行出行路线规划时并未对疫情区域进行规避，且不具备保护用户出行轨迹功能的问题。本发明建立了实时的疫情热点图和交通枢纽热点图，再根据用户输入的出行起始点和终点将所有可行的安全路径构建为一张疫情热点的动态拓扑图，由源点到汇点生成一条安全且相对便捷的路径，达到自动安全规划路径的效果。而且利用用户路线中的途经点和路径上的交通枢纽额外生成冗余路径，使真实规避路径与冗余查询路段形成一张复杂的路网，使攻击者难以从路网的冗余路径中找到真实路径，用户出行轨迹得到很好的保护。本发明可以应用于对出行路线进行规划。
权利要求书clms
1.基于冗余防御规避算法的健康出行路线规划系统，其特征在于，所述系统包括服务器端和用户端，其中：所述服务器端包括数据存储模块、防疫政策存储模块以及热点图生成模块；所述数据存储模块用于存储用户的账号密码的杂凑值；所述防疫政策存储模块用于存储各地的防疫政策信息，并根据各地的防疫政策对存储的信息进行实时更新；所述热点图生成模块用于根据防疫政策存储模块存储的防疫政策信息生成疫情热点图，根据各地的道路情况生成交通枢纽热点图；所述用户端包括用户认证模块、防疫政策查询模块、地图显示及定位模块、路径规划模块；所述用户认证模块用于用户的注册与登录，根据用户注册时设置的账号密码生成对应的杂凑值，并将用户注册时设置的账号密码对应的杂凑值发送给服务器端的数据存储模块；在用户登录时，用户认证模块根据用户输入的验证密码生成杂凑值，再将验证密码对应的杂凑值与数据存储模块存储的数据进行匹配，若匹配成功，则用户登录成功，若匹配不成功，则用户没有登录系统权限；所述防疫政策查询模块用于登录的用户查询服务器端的防疫政策存储模块内存储的信息；所述地图显示及定位模块用于定位和显示登录用户的位置；所述路径规划模块用于登录的用户输入起始点和终点，并根据用户输入的起始点、终点以及热点图生成模块生成的疫情热点图和交通枢纽热点图进行出行路径规划。2.根据权利要求1所述的基于冗余防御规避算法的健康出行路线规划系统，其特征在于，所述疫情热点图的生成方式为：步骤一、若某个疫情区域不与其它任何疫情区域存在重合部分，则执行步骤二；若仅有两个疫情区域存在重合部分，则执行步骤三；若n，n≥3个疫情区域存在重合部分，则执行步骤四；步骤二、在疫情热点图中，为该疫情区域生成一个疫情热点P0，疫情热点P0所对应的二元组形式为{R0，}，其中，R0表示疫情热点P0的疫情范围半径大小，分别代表疫情热点P0的经纬度；步骤三、将为两个疫情区域分别生成疫情热点时，所生成的疫情热点分别记为疫情热点P1和P2，那么，为疫情热点P1和疫情热点P2共同生成一个新的疫情热点Pnew，利用新的疫情热点Pnew替换掉原来的P1和P2两个疫情热点；新疫情热点Pnew为：将连接疫情热点P1和疫情热点P2的直线与疫情热点P1的疫情范围以及疫情热点P2的疫情范围相交所形成的最长线段记为AB，新疫情热点Pnew即为线段AB的中点；新的疫情热点Pnew对应的二元组为{Rnew，（LOnew，LAnew)}，表示新的疫情热点Pnew的经纬度，Rnew表示新的疫情热点Pnew的疫情范围半径大小；步骤四、重复n-1次步骤三的过程，得到一个代表n个疫情地区的疫情热点，以及疫情热点对应的二元组。3.根据权利要求2所述的基于冗余防御规避算法的健康出行路线规划系统，其特征在于，所述根据用户注册时设置的账号密码生成对应的杂凑值，生成杂凑值是通过SM3国密算法实现的。4.根据权利要求3所述的基于冗余防御规避算法的健康出行路线规划系统，其特征在于，所述根据用户输入的起始点、终点以及热点图生成模块生成的疫情热点图和交通枢纽热点图进行路径规划，其具体过程为：步骤1、对疫情热点图中的每个疫情热点进行处理，得到每个疫情热点周围的拟通行区域半径；将第i个疫情热点周围的拟通行区域半径与第i个疫情热点的疫情范围半径之间的环形区域记为B3；步骤2、根据用户输入的起始点与终点，生成一条从起始点到终点且未考虑疫情热点的初始路径；步骤3、根据每个疫情热点对应的环形区域以及交通枢纽热点图对初始路径中经过的疫情范围进行规避，得到最终的出行路径规划结果。5.根据权利要求4所述的基于冗余防御规避算法的健康出行路线规划系统，其特征在于，所述步骤1中，对疫情热点图中的每个疫情热点进行处理，得到每个疫情热点周围的拟通行区域半径；其具体过程为：步骤、计算疫情热点图中的全部疫情热点的疫情范围半径中的最大值L1；L1＝max)，Pi∈P其中，P为疫情热点图中的全部疫情热点的集合，Pi为疫情热点图中的第i个疫情热点，R1为疫情热点图中的第i个疫情热点的疫情范围半径；步骤、计算疫情热点图中的每个疫情热点周围的拟通行区域半径；其中，R2为疫情热点图中的第i个疫情热点周围的拟通行区域半径，L2为第i个疫情热点对应的中间变量；L2＝min-R1)，Pi，Pj∈P其中，Pj为疫情热点图中的第j个疫情热点，i≠j，dis代表Pi与Pj之间的距离，R1为疫情热点图中的第j个疫情热点的疫情范围半径。6.根据权利要求5所述的基于冗余防御规避算法的健康出行路线规划系统，其特征在于，所述步骤3中，根据每个疫情热点对应的环形区域以及交通枢纽热点图对初始路径中经过的疫情范围进行规避，得到最终的出行路径规划结果；其具体过程为：对于初始路径中所经过的任意一个疫情热点Pi，在该疫情热点所对应的环形区域B3中，分别找到与初始路径进入B3区域的位置和离开B3区域的位置距离最近的交通枢纽点，将与初始路径进入B3区域的位置距离最近的交通枢纽点作为源点S，将与初始路径离开B3区域的位置距离最近的交通枢纽点作为汇点D；基于源点S、汇点D和环形区域B3内的交通枢纽点构建拓扑图，并在拓扑图中求出由源点S到汇点D路径的最短长度Q，在由源点S到汇点D的全部路径中，选取出长度在1.2Q以内的路径，再从选取出的路径中随机选取出一条作为规避该疫情热点的路径；并为规避该疫情热点的路径生成冗余路径；同理，分别对初始路径中所经过的其它疫情热点进行规避。7.根据权利要求6所述的基于冗余防御规避算法的健康出行路线规划系统，其特征在于，所述基于源点S、汇点D和环形区域B3内的交通枢纽点构建拓扑图，其具体过程为：步骤①：假设环形区域B3内共有包含源点S和汇点D在内的5个交通枢纽点，并将其它的3个交通枢纽点分别记为A、B、C；步骤②：定义集合CloseList和OpenList，并初始化CloseList为空集，初始化OpenList＝{S，A，B，C，D}；步骤③：选择源点S为当前点，分别得到源点S指向集合OpenList中其它各点的路径，并删除需要经过疫情范围的路径；步骤④：更新集合CloseList＝{S}，更新集合OpenList＝{A，B，C，D}；步骤⑤：选择点A为当前点，再重复步骤③至步骤④的过程，直至集合OpenList中仅剩余一个点时，拓扑图生成完成。
说明书desc
技术领域本发明属于出行路线规划技术领域，具体涉及一种基于冗余防御规避算法的健康出行路线规划系统。背景技术新冠病毒传染性强、扩散性快、潜伏期长，再加上当今交通方式的发达，使得人民的生命安全受到了严重的威胁，也让疫情的防控成为了全世界各国迫切需要解决的问题。针对疫情期间人们的出行问题，现在已经出现了不少解决措施，例如各个旅行购票平台针对游客所在地与目的地对游客发出的专项提醒、记录了用户是否途径风险地区，帮助各地更好地分流人群的各地健康码、大数据行程码以及记录了各个城市最新疫情防控通报的应用宝。根据我们的网络问卷调查，身边大部分人仍然受困于以下问题：1.出行困难由于各地疫情不断反复，各个公共场所，特别是学校、医院等人员密集场所，纷纷推行了各种限行政策，一定程度上干扰了人们往日的正常生活。2.对出行隐私泄露的担忧进行路线规划，势必要将自己的计划在网络上进行传输，这将会有很大的几率造成泄露，若深入分析用户的位置和运动轨迹等信息，则可能发现用户的行为模式、兴趣爱好，甚至健康等个人隐私信息。用户轨迹隐私泄漏甚至有可能使用户受到恶意攻击者的人身骚扰和人生攻击，严重威胁用户安全，这种风险常常被人们所担心。但是，现有的系统在进行出行路线规划时并未考虑到对疫情区域的规避，且现有系统并不具备保护用户出行隐私的功能，因此，迫切需要提出一种具有保护用户出行轨迹功能且能够对出行路径进行安全规划的方法。发明内容本发明的目的是为解决现有系统在进行出行路线规划时并未对疫情区域进行规避，且不具备保护用户出行轨迹功能的问题，而提出了一种基于冗余防御规避算法的健康出行路线规划系统。本发明为解决上述技术问题所采取的技术方案是：一种基于冗余防御规避算法的健康出行路线规划系统，所述系统包括服务器端和用户端，其中：所述服务器端包括数据存储模块、防疫政策存储模块以及热点图生成模块；所述数据存储模块用于存储用户的账号密码的杂凑值；所述防疫政策存储模块用于存储各地的防疫政策信息，并根据各地的防疫政策对存储的信息进行实时更新；所述热点图生成模块用于根据防疫政策存储模块存储的防疫政策信息生成疫情热点图，根据各地的道路实际情况生成交通枢纽热点图；所述用户端包括用户认证模块、防疫政策查询模块、地图显示及定位模块、路径规划模块；所述用户认证模块用于用户的注册与登录，根据用户注册时设置的账号密码生成对应的杂凑值，并将用户注册时设置的账号密码对应的杂凑值发送给服务器端的数据存储模块；在用户登录时，用户认证模块根据用户输入的验证密码生成杂凑值，再将验证密码对应的杂凑值与数据存储模块存储的数据进行匹配，若匹配成功，则用户登录成功，若匹配不成功，则用户没有登录系统权限；所述防疫政策查询模块用于登录的用户查询服务器端的防疫政策存储模块内存储的信息；所述地图显示及定位模块用于定位和显示登录用户的位置；所述路径规划模块用于登录的用户输入起始点和终点，并根据用户输入的起始点、终点以及热点图生成模块生成的疫情热点图和交通枢纽热点图进行出行路径规划。本发明的有益效果是：本发明建立了实时的疫情热点图和交通枢纽热点图，由用户输入出行起始地点和终点，根据输入的出行起始地点和终点将所有可行的安全路径构建为一张疫情热点的动态拓扑图，由源点到汇点生成一条安全且相对便捷的路径，达到自动安全规划路径的效果。为了避免用户在使用过程中生成的路径被攻击者截获，利用用户路线中的途经点和路径上的交通枢纽额外生成一些冗余路径，使真实的规避路径与冗余查询路段形成一张复杂的路网，使攻击者难以从路网的冗余路径中找到真实路径，用户的出行轨迹将会得到很好的保护。附图说明图1为本发明的一种基于冗余防御规避算法的健康出行路线规划系统的框图；图2为当且仅当两个疫情热点的疫情范围重合时，生成新疫情热点的示意图；图3为n个疫情热点的疫情范围重合时，生成新疫情热点的示意图；图4为疫情热点图中疫情热点存储方式的示意图；图5为标记交通枢纽的示意图；图6为交通枢纽经纬度坐标存储的示意图；图7为防疫政策数据库的层级结构图；图8为SM3加密示意图；图9为拟通行区域半径选取的示意图；图10为疫情热点中心示意图；图11为选择源点和汇点的示意图；图12为构建拓扑图的流程图；图13为以点S为当前点规划路径的示意图；图13为以点A为当前点规划路径的示意图；图13为以点B为当前点规划路径的示意图；图13为以点C为当前点规划路径的示意图；图14为RPP路网示意图；图15为第1次申请路径时的轨迹映射图；图15为第2次申请路径时的轨迹映射图；图15为第3次申请路径时的轨迹映射图；图15为第4次申请路径时的轨迹映射图；图16为SM3算法迭代压缩的流程图；图17为压缩函数的计算流程图；图18为规划路线长度为1～10m时，路线规划成功率示意图；图18为规划路线长度为10～100m时，路线规划成功率示意图；图18为规划路线长度为100～1000m时，路线规划成功率示意图；图18为规划路线长度为1～10km时，路线规划成功率示意图；图18为规划路线长度为10～20km时，路线规划成功率示意图；图19为朴素算法、D*算法与本发明方法的面积比-成功率折线对比图；图20为本发明方法的Edr分布的饼状图；图20为D*算法的Edr分布的饼状图。具体实施方式具体实施方式一、结合图1说明本实施方式。本实施方式所述的一种基于冗余防御规避算法的健康出行路线规划系统，所述系统包括服务器端和用户端，其中：所述服务器端包括数据存储模块、防疫政策存储模块以及热点图生成模块；所述数据存储模块用于存储用户的账号密码的杂凑值；所述防疫政策存储模块用于存储各地的防疫政策信息，并根据各地的防疫政策对存储的信息进行实时更新；防疫政策来源于政府文件、权威媒体等可靠的消息源，构建了以省、市具体政策文本为主体的三层层级结构，数据库的层级结构如图7所示；所述热点图生成模块用于根据防疫政策存储模块存储的防疫政策信息生成疫情热点图，根据各地的道路实际情况生成交通枢纽热点图；所述用户端包括用户认证模块、防疫政策查询模块、地图显示及定位模块、路径规划模块；所述用户认证模块用于用户的注册与登录，根据用户注册时设置的账号密码生成对应的杂凑值，并将用户注册时设置的账号密码对应的杂凑值发送给服务器端的数据存储模块；在用户登录时，用户认证模块根据用户输入的验证密码生成杂凑值，再将验证密码对应的杂凑值与数据存储模块存储的数据进行匹配，若匹配成功，则用户登录成功，若匹配不成功，则用户没有登录系统权限；所述防疫政策查询模块用于登录的用户查询服务器端的防疫政策存储模块内存储的信息；所述地图显示及定位模块用于定位和显示登录用户的位置；所述路径规划模块用于登录的用户输入起始点和终点，并根据用户输入的起始点、终点以及热点图生成模块生成的疫情热点图和交通枢纽热点图进行出行路径规划。用户端的具体功能介绍如下：1.登录和注册功能：用户可以注册自己的账号密码，并在以后使用时登录，以便于后续APP推出更多的个性化功能；2.显示地图和定位功能：这个功能我们使用了百度地图的SDK，实现了地图显示和定位的功能；3.查询防疫政策：用户可以在用户防疫政策查询页面查询全国各地的疫情防控政策，以备外出旅居之需。疫情防控政策查询功能具有准确性和实时性两个特点：①准确性：通过查询权威的网站如当地政府官网、权威媒体等途径获取可靠并准确的信息，按照层级结构添加到数据库中，从而确保疫情防控政策的准确性；②实时性：根据政府部门发布的政策或者公告及时的进行调整，更新数据库，从而确保疫情防控政策的实时性。4.路径规划功能：单击规划按钮进入路径规划页面，用户可以通过输入的起始地点和终点来生成一条能够避开疫情点的安全路径。并且路径规划功能将保护用户的出行隐私，即通过冗余路径的方式，既保证了用户的身体健康杜绝疫情的侵犯，也保证了用户的隐私不会泄露。5.静态文字导航：在路径规划后，还通过百度的SDK返回了文字形式的路径提示，便于用户使用。具体实施方式二：结合图2、图3和图4说明本实施方式。本实施方式与具体实施方式一不同的是，所述疫情热点图的生成方式为：步骤一、若某个疫情区域不与其它任何疫情区域存在重合部分，则执行步骤二；若仅有两个疫情区域存在重合部分，则执行步骤三；若n，n≥3个疫情区域存在重合部分，则执行步骤四；如图2所示，仅有两个疫情区域存在重合部分是指连接在一起的疫情区域仅有2个，如图3所示，连接在一起的疫情区域的个数为3个，同样，也可以是超过3个，超过3个时的处理方法同步骤四；步骤二、在疫情热点图中，为该疫情区域生成一个疫情热点P0，疫情热点P0所对应的二元组形式为{R0，}，其中，R0表示疫情热点P0的疫情范围半径大小，分别代表疫情热点P0的经纬度，即longitude和latitude；步骤三、将为两个疫情区域分别生成疫情热点时，所生成的疫情热点分别记为疫情热点P1和P2，那么，为疫情热点P1和疫情热点P2共同生成一个新的疫情热点Pnew，利用新的疫情热点Pnew替换掉原来的P1和P2两个疫情热点；新疫情热点Pnew为：将连接疫情热点P1和疫情热点P2的直线与疫情热点P1的疫情范围以及疫情热点P2的疫情范围相交所形成的最长线段记为AB，新疫情热点Pnew即为线段AB的中点；新的疫情热点Pnew对应的二元组为{Rnew，}，表示新的疫情热点Pnew的经纬度，Rnew表示新的疫情热点Pnew的疫情范围半径大小，Rnew＝L/2；步骤四、重复n-1次步骤三的过程，得到一个代表n个疫情地区的疫情热点，以及疫情热点对应的二元组。如图3所示，首先基于第1个疫情区域的疫情热点和第2个疫情区域的疫情热点为第1个疫情区域和第2个疫情区域生成一个共同的疫情热点，再基于生成的共同疫情热点和第3个疫情区域的疫情热点为第1个疫情区域、第2个疫情区域和第3个疫情区域生成一个共同的疫情热点。采用本实施方式的方法对当前城市内的全部疫情区域进行处理后，得到当前城市的疫情热点图。R1表示该疫情热点的疫情范围大小，这个变量是根据当地政府官网等网站发布的疫情防控政策、防控需求、当地疫情的风险等级等因素决定的：例如根据当地的政府公告需要暂时隔离某个小区，那么我们选择的R1就需要完全覆盖这个小区。又例如当地的疫情风险等级为高等级，那么R1就相对较大；当地疫情风险等级为低等级或中等级，那么R1相对较小。交通枢纽是一个宽泛的概念，本发明中交通枢纽泛指使用频率高，也就是人流量车流量明显高于别的地方的地点或者路段，都可以当作一个交通枢纽，或者叫做交通热点。交通枢纽热点图就是根据由大量的交通枢纽构成的热点图层。人流量车流量明显高于别的地方的地点或者路段，在城市中通常是路口，或者大型设施、场所所在的路段，例如十字路口、医院大门口、学校大门口、小吃街等。这些地点通常都满足人们的出行需求，符合对交通枢纽的预期。同时，为了满足使用，交通枢纽应该是密集的。以哈尔滨主城区部分为例，标记交通枢纽后如图5所示，将图中交通枢纽的经纬度坐标存储在如图6所示的list中，标记在地图上，构成不可视的交通枢纽热点图层。如果有新的交通枢纽出现，可以获取新交通枢纽的经纬度，并通过数据库维护。其它步骤及参数与具体实施方式一相同。具体实施方式三：结合图16说明本实施方式。本实施方式与具体实施方式一或二不同的是，所述根据用户注册时设置的账号密码生成对应的杂凑值，生成杂凑值是通过SM3国密算法实现的。作为一种加密哈希，SM3国密算法常常被用来对用户的ID、密码进行加密，以达到保护用户隐私不被窃取的目的。在用户注册时就将用户的ID、密码信息使用SM3国密算法进行加密，如图8所示，用户在注册时，将得到的256位比特杂凑值存放在数据库中，在用户的登录过程，同样对用户输入信息进行加密，通过将用户输入的相关信息的杂凑值与数据库中的信息进行对比，若该值与相应ID对应的杂凑值相同，则匹配完成，用户成功登录账号，这样的方式可以防止用户登录信息遭到泄露。SM3和MD5的迭代过程类似，均采用Merkle-Damgard结构。消息分组长度为512位，摘要值长度为256位。SM3国密算法概括为四个步骤：消息填充、迭代压缩、消息扩展、输出结果。1、消息填充假设消息m的长度为l比特。首先将比特“1”添加到消息的末尾，再添加k个“0”，其中k时满足l+k+1＝448 mod 512的最小非负整数。然后再添加一个64位的比特串，该比特串是长度l的二进制表示。填充后的消息m′的比特长度为512的整数倍，结果以大端序存放。2、迭代压缩将填充后的消息m′按512比特进行分组：m′＝BB...B。其中B为第i个消息分组，长度为32比特，按照下述方法对m′进行迭代：V←CF，B)其中，CF是压缩函数，V为一个256比特初始值，B为填充后的消息分组，i＝0，1，…，n-1，迭代压缩的结果为V。3、消息扩展将消息分组B按以下方法扩展成132个32位比特串W0，W1，...，W67，W′0，W′1...W′63，用于压缩函数CF：16，17，...，67a、将消息分组B划分为16个字W0，W1，...，W15；b、其中，j＝16，17...67；c、其中，←为左向赋值运算符，＜＜＜k为循环左移k比特运算，为32位异或运算符，P1为置换函数，有压缩函数。令A，B，C，D，E，F，G，H为32位比特寄存器，SS1，SS2，TT1，TT2为中间变量，压缩函数V＝CF，B)，0≤i≤n-1，将计算过程描述为表1所示：表1其中，Tj为常量，有jFFj与GGj为32位布尔函数，有其中，∩，∪，分别代表与、或、非运算，P0代表另一个置换函数，有压缩函数的计算过程如图17所示；计算杂凑值：ABCDEFGH←V由上式即可得到256比特的杂凑值y＝ABCDEFGH。4、输出结果输出计算得到的杂凑值y。其它步骤及参数与具体实施方式一或二相同。具体实施方式四：本实施方式与具体实施方式一至三之一不同的是，所述根据用户输入的起始点、终点以及热点图生成模块生成的疫情热点图和交通枢纽热点图进行路径规划，其具体过程为：步骤1、对疫情热点图中的每个疫情热点进行处理，得到每个疫情热点周围的拟通行区域半径；将第i个疫情热点周围的拟通行区域半径与第i个疫情热点的疫情范围半径之间的环形区域记为B3；步骤2、根据用户输入的起始点与终点，生成一条从起始点到终点且未考虑疫情热点的初始路径；步骤3、根据每个疫情热点对应的环形区域以及交通枢纽热点图对初始路径中经过的疫情范围进行规避，得到最终的出行路径规划结果。其它步骤及参数与具体实施方式一至三之一相同。具体实施方式五：结合图9和图10说明本实施方式。本实施方式与具体实施方式一至四之一不同的是，所述步骤1中，对疫情热点图中的每个疫情热点进行处理，得到每个疫情热点周围的拟通行区域半径；其具体过程为：步骤、计算疫情热点图中的全部疫情热点的疫情范围半径中的最大值L1；L1＝max)，Pi∈P其中，P为疫情热点图中的全部疫情热点的集合，Pi为疫情热点图中的第i个疫情热点，R1为疫情热点图中的第i个疫情热点的疫情范围半径；步骤、计算疫情热点图中的每个疫情热点周围的拟通行区域半径；其中，R2为疫情热点图中的第i个疫情热点周围的拟通行区域半径，L2为第i个疫情热点对应的中间变量；L2＝min-R1)，Pi，Pj∈P其中，Pj为疫情热点图中的第j个疫情热点，i≠j，dis代表Pi与Pj之间的距离，R1为疫情热点图中的第j个疫情热点的疫情范围半径。将以R1为半径和以R2为半径的圆的区域分别称为B1和B2，B1/B2的环形区域为B3。图10中，中心点P为疫情热点中心，用×表示，小圆圈为交通枢纽，R1为半径的小圆表示疫情热点的疫情区域范围，R2为半径的大圆表示的是正常情况下，疫情热点周围的拟通行区域范围。其它步骤及参数与具体实施方式一至四之一相同。具体实施方式六：结合图11说明本实施方式。本实施方式与具体实施方式一至五之一不同的是，所述步骤3中，根据每个疫情热点对应的环形区域以及交通枢纽热点图对初始路径中经过的疫情范围进行规避，得到最终的出行路径规划结果；其具体过程为：对于初始路径中所经过的任意一个疫情热点Pi，在该疫情热点所对应的环形区域B3中，分别找到与初始路径进入B3区域的位置和离开B3区域的位置距离最近的交通枢纽点，将与初始路径进入B3区域的位置距离最近的交通枢纽点作为源点S，将与初始路径离开B3区域的位置距离最近的交通枢纽点作为汇点D；基于源点S、汇点D和环形区域B3内的交通枢纽点构建拓扑图，并在拓扑图中求出由源点S到汇点D路径的最短长度Q，在由源点S到汇点D的全部路径中，选取出长度在1.2Q以内的路径，再从选取出的路径中随机选取出一条作为规避该疫情热点的路径；并为规避该疫情热点的路径生成冗余路径；同理，分别对初始路径中所经过的其它疫情热点进行规避。对于某些情况，可能无法选择S和D或者选择了S与D两点之后，并没有一条完整的路径能绕开疫情区域，则向疫情热点中心区域外寻找离B2最近的交通枢纽T，分别根据上述策略寻找S0→T，T→D0的安全路径。如果S0→T，T→D0路径中依旧存在没有安全路径的情况，那么仍根据上述方法再选取点继续迭代，直到找到一条完整的可行的安全路径为止。如果没有合理的途经点，那么算法返回Null，表示路径规划失败。基于这种策略，设计出了基于动态拓扑图的局部规避的路径规划算法。冗余路径的生成是为了进行隐私保护：在向服务器查询一组起终点的路径规划时，由于起点和终点是确定且真实的，那么在数据传输的过程中，攻击者很容易获得真实的路径信息，从而获取用户的位置隐私。打乱策略查询虽然可以将查询序列打乱，但是由于向服务器申请的每一条路径其起点和终点都是真实的，攻击者可以通过将每个路段排序从而形成一条完整的线路，用户的位置隐私依然得不到完全的保障。针对于这种情况，本发明设计出了一种基于冗余路径的隐私保护方法RPP，通过许多冗余且合理的路径查询，服务器返回的路径结果可以形成一张较为复杂的虚拟路网，路网中有一个起点S、一个真实终点D和多个虚拟终点，这样，攻击者在获取服务器的信息后，无法通过用户的查询信息确定用户的行动轨迹，从而保护了用户位置信息隐私安全。1.保护策略当用户选定了路径的起点与终点后，首先向服务器申请一条初始路径，然后根据我们设计的局部规避算法，会生成一条避开疫情热点地区的安全路径，如果原本路线中经过了疫情热点地区，那么根据算法会选择额外的两个点从而进行局部规避，我们记录下这些点，称为途经点；如果没有这样的途经点或者数量很少不足以形成规模较大的路网时，我们选择额外的几个路径上的交通枢纽，同样作为途经点。然后，对于每一次的局部路径查询，我们都额外的申请一些冗余路径，这样在查询完所有真实路径段后，真实的查询与冗余查询路段可以形成一张复杂的路网，从用户给定的起点出发可以有多条合理的且与真实的规避路径不同的冗余路径，并且路网中有多个虚拟的终点D1、D2...。2.实例分析节点S和D分别表示路径的起点和终点，如图14所示，D1、D2表示两条候选虚拟路径的终点，路口这些中间节点即真实路径上局部规避算法选择的途经点和自己选择的途经点与其他冗余点在图中用数字表示。通过局部规避算法得到了一条避开所有疫情热点的路径并找到途经点，路径表示为S→1→3→6→9→D，那么我们在每一次申请局部路径时，均采用RPP策略，根据表2生成冗余路径：表2第几次申请路径申请路径的终点11，223，5，734，6，945，8，D，D1，D2通过这些真实与冗余的路径申请，可以构造出四个阶段的轨迹映射图，如图15至图15所示，分别为四个阶段攻击者根据所获得的信息可以构造的映射图。3.策略评价RPP技术的可行性根据上面的实例可以看出，第一次询问后，生成的路线只有2条，但第二、三、四次查询后根据查询的消息可以构造出5、7和9条线路，并且这些路径在现实中都是合理的，则站在攻击者的角度在路网中从这些冗余路径找到真实的路径是极其困难的。这说明了冗余路径技术保护用户隐私的方法在理论层面上是可行的。复杂的两级路网结构基于冗余路径的隐私保护方法，从路径的整体上看，通过路径上的途经点将路线划分为几个阶段，对于每个阶段，都申请一些冗余路径，这样在总体上就形成了一张大路网；从路径的局部来看，经过疫情热点会生成动态疫情热点拓扑图，而拓扑图中可能含有多条可行的路径，而我们最后只选择了其中的一条作为我们的结果，每一个拓扑图中也有许多冗余路径的申请，每一张动态拓扑图也是一张小路网。局部规避算法与冗余路径算法相互配合，使得所有的申请路径形成了两级路网结构，使得路网冗余信息更加复杂，既很好的保护了用户的出行安全，又保护了用户的隐私安全。其它步骤及参数与具体实施方式一至五之一相同。具体实施方式七：结合图12说明本实施方式。本实施方式与具体实施方式一至六之一不同的是，所述基于源点S、汇点D和环形区域B3内的交通枢纽点构建拓扑图，其具体过程为：步骤①：假设环形区域B3内共有包含源点S和汇点D在内的5个交通枢纽点，并将其它的3个交通枢纽点分别记为A、B、C；步骤②：定义集合CloseList和OpenList，并初始化CloseList为空集，初始化OpenList＝{S,A,B,C,D}；步骤③：选择源点S为当前点，分别得到源点S指向集合OpenList中其它各点的路径，并删除需要经过疫情范围的路径；步骤④：更新集合CloseList＝{S}，更新集合OpenList＝{A,B,C,D}；步骤⑤：选择点A为当前点，再重复步骤③至步骤④的过程，直至集合OpenList中仅剩余一个点时，拓扑图生成完成。其它步骤及参数与具体实施方式一至六之一相同。如图12所示，对于选定的起点和终点，我们采用迭代加深搜素的算法构建疫情热点的拓扑图，首先我们定义如下概念：S：拓扑图的源点，即选定的起点；D：拓扑图的汇点，即选定的终点；Now：当前点，表示从这个点继续向终点寻找安全的路径；OpenList：表示所有未以这个点为当前点寻找安全路径的点；CloseList：表示所有已经以这个点为当前点寻找安全路径的点。构建拓扑图算法的实现步骤如下：A.将所有B1区域内的交通枢纽点加入到CloseList中，因为以这些点为起点或终点的路径一定会经过危险区域，并选择起点作为当前点；B.以当前点为规划起点，所有OpenList中的点为规划终点，利用百度地图SDK中路径规划的方法，向服务器各申请规划一条路径，并返回；C.对于刚刚返回的这些有向路径，我们首先判断是否经过了危险区域B1，如果经过了，那么将这条有向路从拓扑图中删去；其次再判断加入到这条有向路径后，是否出现了有向环，如果有则删去；D.将现在的当前点加入到CloseList表中：a)对于上一步骤，如果存在可行的有向路径的终点，并且不是拓扑图的汇点D，则分别当做新的当前点，跳转到步骤C；b)如果不存在则跳转到步骤E；E.如果除了终点以外的所有点都已经加入到了CloseList中，则结束算法，算法生成了一张拓扑图。以图13至图13所示的过程为例，进一步说明拓扑图的生成过程：第一步：如图13所示，CloseList为{F}，OpenList为{S,A,B,C,D}。选择起点为当前点，向所有其他OpenList表中的点即A、B、C、D规划路径，其中蓝色线表示可行路径，红色线表示不可行路径。生成了安全路径S→A、S→B、S→C，并将S加入CloseList中，更新点A为当前点；第二步：如图13所示，更新CloseList为{F,S}，OpenList为{A,B,C,D}。以A为起点向所有其他OpenList表中的点规划路径，其中黑色路线代表之前步骤已经生成的路，生成安全路径A→D，并将A加入CloseList中，更新点B为当前点；第三步：如图13所示，更新CloseList为{F,S,A}，OpenList为{B,C,D}。以B为起点向所有其他OpenList表中的点即C、D两点规划路径，生成安全路径B→C，并将B加入CloseList中，更新点C为当前点；第四步：如图13所示，CloseList为{F,S,A,B}，OpenList为{C,D}。以C为起点向所有其他OpenList表中的点即D点规划路径，生成安全路径C→D，并将C加入CloseList中，更新D为当前点；第五步：更新CloseList表为{F,S,A,B,C}，此时除了汇点D所有的点都已经加入到了CloseList，拓扑图生成完成，算法结束。拓扑图的动态性：疫情热点图的动态变化：由于疫情热点的更新，疫情热点图也是动态变化的，R2的值也随疫情热点图的更新而动态变化。虽然是同一个疫情中心点，但是时间不同R2的大小不同，区域内的交通枢纽点不同，生成的拓扑图就不同。起点与终点的动态变化：在路径规划的过程中，由于起点和终点的不同，进入到疫情热点中心区域的位置也不同，拓扑图选取的源点和汇点也不同，构建的拓扑图自然不同。所以拓扑图是在路径规划的过程中动态生成的，并不是在规划开始就已经生成，生成的拓扑图也不是唯一的，因此疫情热点拓扑图是动态的。系统性能评估1、评估的参数1.1系统输入的约束参数：选定区域：在城市内选择一片范围较大的区域作为选定区域，并假设所选择的起点和终点与路径都在选定区域内，选定多个不同的区域分别测试。距离区间：为了保证测试数据的覆盖面广，将起点和终点所生成的不考虑疫情热点的初始路径的长度分类，分为如下四个区间：A.近距离：路程小于3km；B.中距离：路程在3km到6km之间；C.远距离：路程在6km到12km之间；D.超远距离：路程在12km以上。交通枢纽密度：选定区域内单位面积的交通枢纽个数。单位：个/平方千米。疫情区域面积比：在选定区域内，疫情热点危险区域的面积与选定区域总面积的比。1.2系统输出的性能参数：成功率：如果给定了起点和终点，算法成功返回了一条完整的路径，并且路径成功避开了所有的疫情热点区域，那么我们说算法成功的得到了一条安全路径。成功率就是对于所有的数据，算法获得成功路径的数量与数据总数量的比值。额外距离比：由于算法会规避经过的疫情热点，所以结果路径会产生额外的距离，定义额外距离比为结果路径长度减去初始路径长度的差与初始路径长度的比值，如下式所示。2、系统在不同情况下的性能我们测试了规划路线不同长度下，在疫情区域面积比ρv和交通枢纽密度ρt的影响下路径规划的成功率，结果如图18至图18所示。3、不同算法的性能比较3.1测试数据分别测试不同算法下规划出的路径的优劣。将疫情区域面积比分为四类：0％～10％、10％～20％、20％～40％、40％～100％。对于每一类疫情区域面积比，还要约束初始路径的距离，即距离区间，对四类距离区间各生成50组起点与终点。所以数据总量为50*4*4＝800。3.2测试结果选择设置途经点的朴素算法、D*算法与本发明的局部规避算法进行比较，分别测试算法的成功率以及路径距离。根据三种算法在各个疫情面积比区间能够返回完整的且避开所有疫情热点的路径占数据总量的比值，得到如图19所示的面积比-成功率折线对比图。根据记录好的每组起终点的初始路径长度，分别与三种算法所生成的成功路径的长度进行比较，求出每种算法生成路径的额外距离比Edr，由于朴素算法的成功率过低，所以只比较D*算法与本发明的局部规避算法，根据Edr是否小于等于0.5将所有的结果分为两类，得到两种算法Edr分布的饼状图，如图20和图20所示。3.3性能分析根据不同算法的测试与比较，局部规避算法的成功率最高，生成的路径绕远更少，性能最优。局部规避算法成功率高成功率是判断算法好坏的决定因素，根据第一个面积比-成功率折线图，朴素的在疫情热点外寻找途经点的方法在疫情热点面积比较大的时候，成功率会变得很低，在疫情面积比大于40％的时候甚至只有35％的成功率。而D*算法和局部规避算法的成功率很高，都在90％左右，但是相比较而言局部规避算法的成功率下降的更为缓慢，在同一区间下成功率也高于D*算法。局部规避算法额外距离比低在成功率较高的情况下，额外距离比也是衡量算法优劣的一个标准，额外距离比越高，说明与初始路径的长度相比规划出来的路径长度更大；而额外距离比越低则说明规划出来的路径绕远的距离越小，所得到的路径也就更好。由于朴素算法的成功率过低，所以讨论其路径长度意义不大。比较D*算法与局部规避算法，前者额外距离比Edr≤0.5的路径数量占所有数据的70％以上，而后者只占36％，可见采用局部规避算法所规划出来的路径绕远更少，相比于D*算法更优越。本发明的上述算例仅为详细地说明本发明的计算模型和计算流程，而并非是对本发明的实施方式的限定。对于所属领域的普通技术人员来说，在上述说明的基础上还可以做出其它不同形式的变化或变动，这里无法对所有的实施方式予以穷举，凡是属于本发明的技术方案所引伸出的显而易见的变化或变动仍处于本发明的保护范围之列。
