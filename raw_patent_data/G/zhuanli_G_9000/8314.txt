标题title
一种基于微服务的ICT虚拟运营安全接入管控方法
摘要abst
本发明提供一种基于微服务的ICT虚拟运营安全接入管控方法。所述基于微服务的ICT虚拟运营安全接入管控方法，包括以下操作步骤：S1、在微服务架构系统与电网终端建立连接之后，通过访问控制微服单元准许或者限制电网终端的访问能力。本发明提供一种基于微服务的ICT虚拟运营安全接入管控方法，通过使用微服务架构，是一种能够实现将一个单一应用程序开发为一组小型服务的方法，使得每个服务运行在自己的进程中，服务间通信采用轻量级通信机制，并且服务围绕业务能力构建并且可通过全自动部署机制独立部署，同时在海量终端接入时系统的可扩展性、认证服务的高可用性多种终端因业务场景不同而需要不同的认证和授权策略等多个方便均得到了进一步提升。
权利要求书clms
1.一种基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，包括以下操作步骤：S1、在微服务架构系统与电网终端建立连接之后，通过访问控制微服单元准许或者限制电网终端的访问能力，而通过访问控制微服务单元分别采用访问控制列表、能力列表、自主访问控制、强制访问控制、基于角色的访问控制多种访问控制方式，对电网终端资源进行访问控制，其中，所述微服务架构系统包括微服务网关、微服务模块以及安全策略管理模块，其中所述微服务模块分为注册与发现微服务单元、终端认证微服务单元、访问控制微服务单元、其它业务服务单元，所述安全策略管理模块包括数字证书管理单元和授权管理单元；S2、在电网终端接入请求时，首先通过注册与发现微服务单元注册终端的信息，将终端自己的地址和各种信息提供出来，使得服务的调用者通过提供的地址和各种信息订阅服务，之后注册与发现微服务单元则会把服务的相关地址列表发送给服务调用者，服务的调用者由此来发现目标服务；S3、之后服务的调用者进入到电网终端内部，通过终端认证微服务单元对服务的调用者进行身份验证，身份验证通过后，服务调用者对内部资源进行访问，反之则不允许继续访问，通过访问控制微服务模块对所需访问的服务进行控制，确保访问服务正常进行。2.根据权利要求1所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，所述S1中，所述微服务架构系统与电网终端建立连接之前，需要对微服务架构系统进行身份验证，根据电网终端内嵌数字证书信息，采用基于公开密钥认证的技术，使得电网终端通过认证服务器进行身份认证，而在微服务构架系统通过电网终端身份认证后，进而能够与电网终端建立连接。3.根据权利要求1所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，在构建微服务架构系统之后，所述终端认证微服务单元根据电网终端内嵌数字证书信息，采用基于公开密钥认证的技术，使得电网终端通过认证服务器进行身份认证，而在微服务构架系统通过电网终端身份认证后，进而能够与电网终端建立连接。4.根据权利要求3所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，所述终端认证微服务单元的数字证书具体的认证过程为：a、验证发行者CA的公钥能否正确解开客户实体证书中的发行者的数字签名，两个证书在交换传递之后，要进行拆封，看是否能够拆封，如果能正确解开，输出结果为用户的公钥；b、通过证书链追溯到可信赖的CA的根，要验证签发用户实体证书的CA是否是权威可信的CA，证书链验证的要求是，路径中每个证书从最终实体到根证书都是有效的，并且每个证书都要正确地对应发行该证书的权威可信任性CA；c、检查实体证书中的签名实体序列号是否与签发者证书的序列号相一致，验证证书的真伪，验证操作过程是：用户实体证书中的公钥标识扩展项证书序列号，即签发证书的序列号，检查CA证书中的证书序列号证书序列号，二者应该相一致，否则证书不是可信任的认证机构CA所签发；d、有效期验证就是检查用户证书使用的日期是否合法，有无过期，具体做法为：用户实体证书的有效期及私钥的有效期d，应当在CA证书的有效日期之内；用户实体证书有效期开始时间中以前没有日期应在CA证书的私钥有效期私钥usagc周期日期之内，否则证书是不安全的；e、证书作废止列表查询，是检查用户的证书是否已经作废，并发布在证书吊销列表中，CA实时地通过LDAP标准协议向证书库中以X.500的格式进行发布，以供访问时实体间进行开放式查询；f、即用户实体证书中的桥CA体系中证书策略的设置应为CA所承认的证书政策列表，它是用特殊扩展域来限定的，用来指定用户证书所适用的政策，这些政策应在CA的CPS中有明确规定，对象标识符不超过200个字符，没有CA承认的政策，用户证书是不能执行的；g、之后CA所签发的认证机构内部管理员的证书要与最终用户实体证书相区分，进而最终确认用户实体证书，完成证书认证。5.根据权利要求1所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，所述S1中访问控制列表的方法，每个客体与一个ACL进行关联，记录了允许访问该客体的主体及其允许的访问操作，相当于按列存储访问矩阵，ACL方法可以很容易地查看所有能够访问一个客体的主体，也可以容易地撤销所有主体对客体的访问权限；能力列表是对主体访问能力的描述，按照CL的方法，每个主体关联一个CL，CL列出了该主体允许访问的所有客体及对应的访问操作。6.根据权利要求1所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，所述S1中自主访问控制是在确认主体身份及所属组的基础上，根据访问者的身份和授权来决定访问模式、对访问进行限定的一种控制策略，DAC允许对客体拥有控制权的主体明确地指定其他主体对该客体的访问权限，DAC允许合法用户以用户或用户组的身份访问策略规定的客体，同时阻止非授权用户访问客体。7.根据权利要求1所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，所述S1中强制访问控制是依据主体和客体的安全级别来决定主体是否有对客体的访问权，强制访问控制本质上是基于规则的访问控制，系统中的每个进程、每个文件、每个IPC客体都被赋予了相应的安全属性，而基于角色的访问控制是通过引入角色的概念，把对客体对象的访问权限授予角色而不是直接授予用户，然后为用户分配角色，用户通过角色获得访问权限，RBAC模型通过将权限与角色相关联。8.根据权利要求1所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，所述微服务网关用于对外屏蔽内部服务，同时具备完成一些限流和容错、监控日志以及将外部的请求反向映射到内部具体某个微服务去。9.根据权利要求1所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，通过安全策略管理模块实时运行，根据人工制定或是系统接收到安全态势感知系统的通知后触发的安全规划，把安全策略通过微服务接口更新到终端身份认证服务单元和访问控制微服务单元中，实现系统的实时信息更新。10.根据权利要求1所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，所述数字证书管理单元包括以下服务：a、证书状态服务，证书目录实时更新与发布，满足OCSP查询功能；b、用户证书服务，满足证书申请、证书下载、证书更新、证书吊销、冻结/解冻、在线解锁等证书全流程服务。
说明书desc
技术领域本发明涉及电网ICT领域，尤其涉及一种基于微服务的ICT虚拟运营安全接入管控方法。背景技术以新一代信息通信技术为基础建成的智能电网，能够实现能源生产、存储、传输和共享智能化，与社会经济紧密联系，助力智能交通、智能社区、智慧城市等未来发展，发挥社会公共管理服务平台的作用，代表着电力行业价值创新转型的重要方向，而智能电网集成现代通信信息技术、自动控制技术、决策支持技术与先进电力技术，具有信息化、自动化、互动化特征，云计算、大数据、物联网和移动化等新ICT技术，将各类电源和用电设施的灵活接入与退出，实现与用户友好互动，具有智能响应与系统自愈，从而提高电力系统安全可靠性和运行效率。随着新一轮电力体制改革和新技术突破，综合能源业务是衍生出来的一种新型能源服务形态，其实质是以市场为牵引，以数字技术推进多维度协调互动，实现能源效率、能源安全、服务精准、生态协调和经济性等多重目标，ICT虚拟运营平台是综合能源服务业务的大脑，这一平台的搭建关系到项目的运作成效与经济效益，智慧能源平台运用大数据和云计算等技术，智能分析用户需求、负荷预测、设备管理、信息化管理、配电运维、需求响应等，提供有效的决策支撑服务，最终给出智能化和最优化的解决方案。从终端接入的角度看，平台要支持多种智能终端的大批量接入，而现有技术中，终端接入认证的方法在电网ICT虚拟运营的场景下，在海量终端接入时系统的可扩展性、认证服务的高可用性、服务的易部署性、多种终端因业务场景不同而需要不同的认证和授权策略等多个方便均表现的不是很理想，进而容易导致系统故障率较高，对整个电网的安全带来巨大的挑战。因此，有必要提供一种基于微服务的ICT虚拟运营安全接入管控方法解决上述技术问题。发明内容本发明提供一种基于微服务的ICT虚拟运营安全接入管控方法，解决了在海量终端接入时系统的可扩展性和认证服务的高可用性不够理想的问题。为解决上述技术问题，本发明提供的基于微服务的ICT虚拟运营安全接入管控方法，包括以下操作步骤：S1、在微服务架构系统与电网终端建立连接之后，通过访问控制微服单元准许或者限制电网终端的访问能力，而通过访问控制微服务单元分别采用访问控制列表、能力列表、自主访问控制、强制访问控制、基于角色的访问控制多种访问控制方式，对电网终端资源进行访问控制，其中，所述微服务架构系统包括微服务网关、微服务模块以及安全策略管理模块，其中所述微服务模块分为注册与发现微服务单元、终端认证微服务单元、访问控制微服务单元、其它业务服务单元，所述安全策略管理模块包括数字证书管理单元和授权管理单元；S2、在电网终端接入请求时，首先通过注册与发现微服务单元注册终端的信息，将终端自己的地址和各种信息提供出来，使得服务的调用者通过提供的地址和各种信息订阅服务，之后注册与发现微服务单元则会把服务的相关地址列表发送给服务调用者，服务的调用者由此来发现目标服务；S3、之后服务的调用者进入到电网终端内部，通过终端认证微服务单元对服务的调用者进行身份验证，身份验证通过后，服务调用者对内部资源进行访问，反之则不允许继续访问，通过访问控制微服务模块对所需访问的服务进行控制，确保访问服务正常进行。优选的，所述S1中，所述微服务架构系统与电网终端建立连接之前，需要对微服务架构系统进行身份验证，根据电网终端内嵌数字证书信息，采用基于公开密钥认证的技术，使得电网终端通过认证服务器进行身份认证，而在微服务构架系统通过电网终端身份认证后，进而能够与电网终端建立连接。优选的，在构建微服务架构系统之后，所述终端认证微服务单元根据电网终端内嵌数字证书信息，采用基于公开密钥认证的技术，使得电网终端通过认证服务器进行身份认证，而在微服务构架系统通过电网终端身份认证后，进而能够与电网终端建立连接。优选的，所述终端认证微服务单元的数字证书具体的认证过程为：a、验证发行者CA的公钥能否正确解开客户实体证书中的发行者的数字签名，两个证书在交换传递之后，要进行拆封，看是否能够拆封，如果能正确解开，输出结果为用户的公钥；b、通过证书链追溯到可信赖的CA的根，要验证签发用户实体证书的CA是否是权威可信的CA，证书链验证的要求是，路径中每个证书从最终实体到根证书都是有效的，并且每个证书都要正确地对应发行该证书的权威可信任性CA；c、检查实体证书中的签名实体序列号是否与签发者证书的序列号相一致，验证证书的真伪，验证操作过程是：用户实体证书中的公钥标识扩展项证书序列号，即签发证书的序列号，检查CA证书中的证书序列号证书序列号，二者应该相一致，否则证书不是可信任的认证机构CA所签发；d、有效期验证就是检查用户证书使用的日期是否合法，有无过期，具体做法为：用户实体证书的有效期及私钥的有效期d，应当在CA证书的有效日期之内；用户实体证书有效期开始时间中以前没有日期应在CA证书的私钥有效期私钥usagc周期日期之内，否则证书是不安全的；e、证书作废止列表查询，是检查用户的证书是否已经作废，并发布在证书吊销列表中，CA实时地通过LDAP标准协议向证书库中以X.500的格式进行发布，以供访问时实体间进行开放式查询；f、即用户实体证书中的桥CA体系中证书策略的设置应为CA所承认的证书政策列表，它是用特殊扩展域来限定的，用来指定用户证书所适用的政策，这些政策应在CA的CPS中有明确规定，对象标识符不超过200个字符，没有CA承认的政策，用户证书是不能执行的；g、之后CA所签发的认证机构内部管理员的证书要与最终用户实体证书相区分，进而最终确认用户实体证书，完成证书认证。优选的，所述S1中访问控制列表的方法，每个客体与一个ACL进行关联，记录了允许访问该客体的主体及其允许的访问操作，相当于按列存储访问矩阵，ACL方法可以很容易地查看所有能够访问一个客体的主体，也可以容易地撤销所有主体对客体的访问权限；能力列表是对主体访问能力的描述，按照CL的方法，每个主体关联一个CL，CL列出了该主体允许访问的所有客体及对应的访问操作。优选的，所述S1中自主访问控制是在确认主体身份及所属组的基础上，根据访问者的身份和授权来决定访问模式、对访问进行限定的一种控制策略，DAC允许对客体拥有控制权的主体明确地指定其他主体对该客体的访问权限，DAC允许合法用户以用户或用户组的身份访问策略规定的客体，同时阻止非授权用户访问客体。优选的，所述S1中强制访问控制是依据主体和客体的安全级别来决定主体是否有对客体的访问权，强制访问控制本质上是基于规则的访问控制，系统中的每个进程、每个文件、每个IPC客体都被赋予了相应的安全属性，而基于角色的访问控制是通过引入角色的概念，把对客体对象的访问权限授予角色而不是直接授予用户，然后为用户分配角色，用户通过角色获得访问权限，RBAC模型通过将权限与角色相关联。优选的，所述微服务网关用于对外屏蔽内部服务，同时具备完成一些限流和容错、监控日志以及将外部的请求反向映射到内部具体某个微服务去。优选的，通过安全策略管理模块实时运行，根据人工制定或是系统接收到安全态势感知系统的通知后触发的安全规划，把安全策略通过微服务接口更新到终端身份认证服务单元和访问控制微服务单元中，实现系统的实时信息更新。优选的，所述数字证书管理单元包括以下服务：a、证书状态服务，证书目录实时更新与发布，满足OCSP查询功能；b、用户证书服务，满足证书申请、证书下载、证书更新、证书吊销、冻结/解冻、在线解锁等证书全流程服务。与相关技术相比较，本发明提供的基于微服务的ICT虚拟运营安全接入管控方法具有如下有益效果：本发明提供一种基于微服务的ICT虚拟运营安全接入管控方法，通过使用微服务架构，是一种能够实现将一个单一应用程序开发为一组小型服务的方法，使得每个服务运行在自己的进程中，服务间通信采用轻量级通信机制，并且服务围绕业务能力构建并且可通过全自动部署机制独立部署，进而使得各个服务高度解耦，没有代码上和部署上的依赖，使得故障率大大降低，同时在实际开发过程中能够实现灵活快速的开发，而采用一个微服务只会关注一个特定的业务功能，业务边界清晰，易于维护，另外各个微服务实现高度解耦，各个业务独立部署，部署更加简单，同时在海量终端接入时系统的可扩展性、认证服务的高可用性、服务的易部署性、多种终端因业务场景不同而需要不同的认证和授权策略等多个方便均得到了进一步提升，进而更好满足人们的使用需求。附图说明图1为本发明提供的基于微服务的ICT虚拟运营安全接入管控方法中微服务构架结构图；图2为本发明提供的基于微服务的ICT虚拟运营安全接入管控方法中服务与注册运行框图；图3为本发明提供的基于微服务的ICT虚拟运营安全接入管控方法中服务网关运行框图；图4为本发明提供的基于微服务的ICT虚拟运营安全接入管控方法中均匀负载时运行框图。具体实施方式下面结合附图和实施方式对本发明作进一步说明。请结合参阅图1、图2、图3、图4，其中，图1为本发明提供的基于微服务的ICT虚拟运营安全接入管控方法中微服务构架结构图；图2为本发明提供的基于微服务的ICT虚拟运营安全接入管控方法中服务与注册运行框图；图3为本发明提供的基于微服务的ICT虚拟运营安全接入管控方法中服务网关运行框图；图4为本发明提供的基于微服务的ICT虚拟运营安全接入管控方法中均匀负载时运行框图。基于微服务的ICT虚拟运营安全接入管控方法，包括以下操作步骤：S1、在微服务架构系统与电网终端建立连接之后，通过访问控制微服单元准许或者限制电网终端的访问能力，而通过访问控制微服务单元分别采用访问控制列表、能力列表、自主访问控制、强制访问控制、基于角色的访问控制多种访问控制方式，对电网终端资源进行访问控制，其中，所述微服务架构系统包括微服务网关、微服务模块以及安全策略管理模块，其中所述微服务模块分为注册与发现微服务单元、终端认证微服务单元、访问控制微服务单元、其它业务服务单元，所述安全策略管理模块包括数字证书管理单元和授权管理单元；S2、在电网终端接入请求时，首先通过注册与发现微服务单元注册终端的信息，将终端自己的地址和各种信息提供出来，使得服务的调用者通过提供的地址和各种信息订阅服务，之后注册与发现微服务单元则会把服务的相关地址列表发送给服务调用者，服务的调用者由此来发现目标服务；S3、之后服务的调用者进入到电网终端内部，通过终端认证微服务单元对服务的调用者进行身份验证，身份验证通过后，服务调用者对内部资源进行访问，反之则不允许继续访问，通过访问控制微服务模块对所需访问的服务进行控制，确保访问服务正常进行。所述S1中，所述S1中，所述微服务架构系统与电网终端建立连接之前，需要对微服务架构系统进行身份验证，根据电网终端内嵌数字证书信息，采用基于公开密钥认证的技术，使得电网终端通过认证服务器进行身份认证，而在微服务构架系统通过电网终端身份认证后，进而能够与电网终端建立连接。所述终端认证微服务单元的数字证书具体的认证过程为：a、验证发行者CA的公钥能否正确解开客户实体证书中的发行者的数字签名，两个证书在交换传递之后，要进行拆封，看是否能够拆封，如果能正确解开，输出结果为用户的公钥；b、通过证书链追溯到可信赖的CA的根，要验证签发用户实体证书的CA是否是权威可信的CA，证书链验证的要求是，路径中每个证书从最终实体到根证书都是有效的，并且每个证书都要正确地对应发行该证书的权威可信任性CA；c、检查实体证书中的签名实体序列号是否与签发者证书的序列号相一致，验证证书的真伪，验证操作过程是：用户实体证书中的公钥标识扩展项证书序列号，即签发证书的序列号，检查CA证书中的证书序列号证书序列号，二者应该相一致，否则证书不是可信任的认证机构CA所签发；d、有效期验证就是检查用户证书使用的日期是否合法，有无过期，具体做法为：用户实体证书的有效期及私钥的有效期d，应当在CA证书的有效日期之内；用户实体证书有效期开始时间中以前没有日期应在CA证书的私钥有效期私钥usagc周期日期之内，否则证书是不安全的；e、证书作废止列表查询，是检查用户的证书是否已经作废，并发布在证书吊销列表中，CA实时地通过LDAP标准协议向证书库中以X.500的格式进行发布，以供访问时实体间进行开放式查询；f、即用户实体证书中的桥CA体系中证书策略的设置应为CA所承认的证书政策列表，它是用特殊扩展域来限定的，用来指定用户证书所适用的政策，这些政策应在CA的CPS中有明确规定，对象标识符不超过200个字符，没有CA承认的政策，用户证书是不能执行的；g、之后CA所签发的认证机构内部管理员的证书要与最终用户实体证书相区分，进而最终确认用户实体证书，完成证书认证。所述S1中访问控制列表的方法，每个客体与一个ACL进行关联，记录了允许访问该客体的主体及其允许的访问操作，相当于按列存储访问矩阵，ACL方法可以很容易地查看所有能够访问一个客体的主体，也可以容易地撤销所有主体对客体的访问权限；能力列表是对主体访问能力的描述，按照CL的方法，每个主体关联一个CL，CL列出了该主体允许访问的所有客体及对应的访问操作。所述S1中自主访问控制是在确认主体身份及所属组的基础上，根据访问者的身份和授权来决定访问模式、对访问进行限定的一种控制策略，DAC允许对客体拥有控制权的主体明确地指定其他主体对该客体的访问权限，DAC允许合法用户以用户或用户组的身份访问策略规定的客体，同时阻止非授权用户访问客体。所述S1中强制访问控制是依据主体和客体的安全级别来决定主体是否有对客体的访问权，强制访问控制本质上是基于规则的访问控制，系统中的每个进程、每个文件、每个IPC客体都被赋予了相应的安全属性，而基于角色的访问控制是通过引入角色的概念，把对客体对象的访问权限授予角色而不是直接授予用户，然后为用户分配角色，用户通过角色获得访问权限，RBAC模型通过将权限与角色相关联。所述微服务网关用于对外屏蔽内部服务，同时具备完成一些限流和容错、监控日志以及将外部的请求反向映射到内部具体某个微服务去。通过安全策略管理模块实时运行，根据人工制定或是系统接收到安全态势感知系统的通知后触发的安全规划，把安全策略通过微服务接口更新到终端身份认证服务单元和访问控制微服务单元中，实现系统的实时信息更新。10、根据权利要求1所述的基于微服务的ICT虚拟运营安全接入管控方法，其特征在于，所述数字证书管理单元包括以下服务：a、证书状态服务，证书目录实时更新与发布，满足OCSP查询功能；b、用户证书服务，满足证书申请、证书下载、证书更新、证书吊销、冻结/解冻、在线解锁等证书全流程服务。与相关技术相比较，本发明提供的基于微服务的ICT虚拟运营安全接入管控方法具有如下有益效果：本发明提供一种基于微服务的ICT虚拟运营安全接入管控方法，通过使用微服务架构，是一种能够实现将一个单一应用程序开发为一组小型服务的方法，使得每个服务运行在自己的进程中，服务间通信采用轻量级通信机制，并且服务围绕业务能力构建并且可通过全自动部署机制独立部署，进而使得各个服务高度解耦，没有代码上和部署上的依赖，使得故障率大大降低，同时在实际开发过程中能够实现灵活快速的开发，而采用一个微服务只会关注一个特定的业务功能，业务边界清晰，易于维护，另外各个微服务实现高度解耦，各个业务独立部署，部署更加简单，同时在海量终端接入时系统的可扩展性、认证服务的高可用性、服务的易部署性、多种终端因业务场景不同而需要不同的认证和授权策略等多个方便均得到了进一步提升，进而更好满足人们的使用需求。以上所述仅为本发明的实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其它相关的技术领域，均同理包括在本发明的专利保护范围内。
