标题title
一种回收料混合比例在线检测方法、装置及存储介质
摘要abst
本发明公开了一种回收料混合比例在线检测方法、装置及存储介质，方法包括：获取生产过程中的原始数据集，并构建输出矩阵；其中，原始数据集包括生产过程中每个批次生产时使用的回收料比例；根据原始数据集构建输入矩阵；其中，输入矩阵包括生产过程中的批次数量、测量变量的种类以及单批次内的时间采样点的个数；通过主成分分析，将输入矩阵分解为列向量相互正交的主成分矩阵；对输出矩阵和主成分矩阵进行最小二乘回归处理，得到系数矩阵；根据主成分矩阵和系数矩阵，计算待检测批次的回收料比例。本发明提高了效率，能够准确计算待检测批次的回收料比例，进而监控当前批次产品是否满足质量要求，可广泛应用于计算机技术领域。
权利要求书clms
1.一种回收料混合比例在线检测方法，其特征在于，包括：获取生产过程中的原始数据集，并构建输出矩阵；其中，所述原始数据集包括生产过程中每个批次生产时使用的回收料比例；根据所述原始数据集构建输入矩阵；其中，所述输入矩阵包括生产过程中的批次数量、测量变量的种类以及单批次内的时间采样点的个数；通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵；对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵；根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例。2.根据权利要求1所述的一种回收料混合比例在线检测方法，其特征在于，所述方法还包括：根据所述待检测批次的回收料比例，生成对应批次的产品的质量检测结果。3.根据权利要求1所述的一种回收料混合比例在线检测方法，其特征在于，所述获取生产过程中的原始数据集，并构建输出矩阵，包括：通过模内压力传感器采集模腔表面受到熔体的压力，得到第一数据；通过模内电容传感器采集模腔的电容值和探头温度，得到第二数据；通过注塑机内部传感器系统采集料筒温度、注射速度、螺杆行程及保压压力，得到第三数据；根据所述第一数据、所述第二数据和所述第三数据，分析熔体的典型回收料混合比例；根据所述第一数据、所述第二数据和所述第三数据，确定生产过程中的原始数据集；根据所述原始数据集构建所述输出矩阵。4.根据权利要求3所述的一种回收料混合比例在线检测方法，其特征在于，所述模内压力传感器和所述模内电容传感器均安装在模具上靠近浇口的位置。5.根据权利要求1所述的一种回收料混合比例在线检测方法，其特征在于，所述通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵这一步骤中，所述主成分分析过程的表达式为：Xk＝TkPkT+Ek其中，Xk代表输入矩阵；Tk代表主成分矩阵；Pk代表载荷矩阵；Ek代表主成分分析中的残差矩阵；k代表单批次内的采样时刻。6.根据权利要求1所述的一种回收料混合比例在线检测方法，其特征在于，所述对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵这一步骤中，所述最小二乘回归处理的表达式为：Yk＝TkCkT+Fk其中，Yk代表输出矩阵；Tk代表主成分矩阵；Ck代表系数矩阵；Fk代表最小二乘回归处理中的残差矩阵；k代表单批次内的采样时刻。7.根据权利要求1所述的一种回收料混合比例在线检测方法，其特征在于，所述根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例这一步骤中，所述回收料比例的计算公式为：其中，代表估计的熔体回收料比例；C代表不特指某一时刻下的系数矩阵；P代表不特指某一时刻下的载荷矩阵；x代表在线检测中测量得到的输入矩阵。8.一种回收料混合比例在线检测装置，其特征在于，包括：第一模块，用于获取生产过程中的原始数据集，并构建输出矩阵；其中，所述原始数据集包括生产过程中每个批次生产时使用的回收料比例；第二模块，用于根据所述原始数据集构建输入矩阵；其中，所述输入矩阵包括生产过程中的批次数量、测量变量的种类以及单批次内的时间采样点的个数；第三模块，用于通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵；第四模块，用于对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵；第五模块，用于根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例。9.一种电子设备，其特征在于，包括处理器以及存储器；所述存储器用于存储程序；所述处理器执行所述程序实现如权利要求1至7中任一项所述的方法。10.一种计算机可读存储介质，其特征在于，所述存储介质存储有程序，所述程序被处理器执行实现如权利要求1至7中任一项所述的方法。
说明书desc
技术领域本发明涉及计算机技术领域，尤其是一种回收料混合比例在线检测方法、装置及存储介质。背景技术热塑性塑料的特性意味着固体熔融成熔体，熔体冷却成固体这系列过程在相对应的温度条件下是可重复进行的。因此，为了环保以及节约成本的目的，相关主体希望将注塑过程中产生的不良品及流道进行回收、破碎、熔融挤出等一系列操作形成回收料。与原生料相比，回收料具有两个明显的特性，一个是在大小与形状上可能存在较大的差异。更为重要的一点是，回收料在经过一次甚至多次热成型过程之后，塑料内部的分子链遭到破坏，意味着回收料与原生料即使是同一种材料，其物化性质上仍存在一定的差异。这些特性导致产品差异表现为如下两个方面：1)、回收料产品质量较为不均匀；2)、回收料机械强度较弱。以产品重量作为一个质量指标，在相同的生产条件下，由于回收料具有更好的流动性，更多的熔体在相同时间内会被注射到模腔内，导致产品的重量更大。因此，纯回收料难以被直接用于注塑生产。在实际生产过程中，回收料与原生料会以一定比例混合使用，而不恰当的原材料比例会导致产品良率不足，这种不恰当的材料比例可能由配比的不恰当或者原材料混合的不均匀等因素导致。而注塑过程是一个典型的批次过程，每一批次由一系列顺序性的操作组成，在批次结束得到产品，这一系列操作随批次具有重复性。因此，如何估计当前批次下的原料比例是否接近设定比例成为一个亟待解决的问题。目前来说，回收料与原生料的混合比例并没有系统的理论方法来确定，通常这一比例根据要求的质量指标不同，由原料提供商的建议、调机师的经验与测试等意见综合给出。而对于生产过程中当前批次内的原料比例则没有合适的在线测量方法，这主要由原料混合、熔融、注射过程中产生的不均匀所导致。因此，对于使用回收料生产的产品的质量监控，通常需要对产品一一进行质量测试才能够得到，若缺乏监控或者测试的过程，由于回收料引入的较大波动会导致产品质量参差不齐，难以被消费者所接受。发明内容有鉴于此，本发明实施例提供一种效率高的回收料混合比例在线检测方法、装置及存储介质，能够准确监控当前批次产品是否满足质量要求。本发明的一方面提供了一种回收料混合比例在线检测方法，包括：获取生产过程中的原始数据集，并构建输出矩阵；其中，所述原始数据集包括生产过程中每个批次生产时使用的回收料比例；根据所述原始数据集构建输入矩阵；其中，所述输入矩阵包括生产过程中的批次数量、测量变量的种类以及单批次内的时间采样点的个数；通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵；对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵；根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例。可选地，所述方法还包括：根据所述待检测批次的回收料比例，生成对应批次的产品的质量检测结果。可选地，所述获取生产过程中的原始数据集，并构建输出矩阵，包括：通过模内压力传感器采集模腔表面受到熔体的压力，得到第一数据；通过模内电容传感器采集模腔的电容值和探头温度，得到第二数据；通过注塑机内部传感器系统采集料筒温度、注射速度、螺杆行程及保压压力，得到第三数据；根据所述第一数据、所述第二数据和所述第三数据，分析熔体的典型回收料混合比例；根据所述第一数据、所述第二数据和所述第三数据，确定生产过程中的原始数据集；根据所述原始数据集构建所述输出矩阵。可选地，所述模内压力传感器和所述模内电容传感器均安装在模具上靠近浇口的位置。可选地，所述通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵这一步骤中，所述主成分分析过程的表达式为：Xk＝TkPkT+Ek其中，Xk代表输入矩阵；Tk代表主成分矩阵；Pk代表载荷矩阵；Ek代表主成分分析中的残差矩阵；k代表单批次内的采样时刻。可选地，所述对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵这一步骤中，所述最小二乘回归处理的表达式为：Yk＝TkCkT+Fk其中，Yk代表输出矩阵；Tk代表主成分矩阵；Ck代表系数矩阵；Fk代表最小二乘回归处理中的残差矩阵；k代表单批次内的采样时刻。可选地，所述根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例这一步骤中，所述回收料比例的计算公式为：其中，代表估计的熔体回收料比例；C代表不特指某一时刻下的系数矩阵；P代表不特指某一时刻下的载荷矩阵；x代表在线检测中测量得到的输入矩阵。本发明实施例的另一方面还提供了一种回收料混合比例在线检测装置，包括：第一模块，用于获取生产过程中的原始数据集，并构建输出矩阵；其中，所述原始数据集包括生产过程中每个批次生产时使用的回收料比例；第二模块，用于根据所述原始数据集构建输入矩阵；其中，所述输入矩阵包括生产过程中的批次数量、测量变量的种类以及单批次内的时间采样点的个数；第三模块，用于通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵；第四模块，用于对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵；第五模块，用于根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例。本发明实施例的另一方面还提供了一种电子设备，包括处理器以及存储器；所述存储器用于存储程序；所述处理器执行所述程序实现如前面所述的方法。本发明实施例的另一方面还提供了一种计算机可读存储介质，所述存储介质存储有程序，所述程序被处理器执行实现如前面所述的方法。本发明的实施例获取生产过程中的原始数据集，并构建输出矩阵；其中，所述原始数据集包括生产过程中每个批次生产时使用的回收料比例；根据所述原始数据集构建输入矩阵；其中，所述输入矩阵包括生产过程中的批次数量、测量变量的种类以及单批次内的时间采样点的个数；通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵；对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵；根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例。本发明提高了效率，能够准确计算待检测批次的回收料比例，进而监控当前批次产品是否满足质量要求。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的模内传感器的安装位置示意图；图2为本发明实施例提供的注塑机结构简图；图3为本发明实施例提供的回收料混合比例在线监控模型流程图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。针对现有技术存在的问题，本发明实施例提供了一种回收料混合比例在线检测方法，包括：获取生产过程中的原始数据集，并构建输出矩阵；其中，所述原始数据集包括生产过程中每个批次生产时使用的回收料比例；根据所述原始数据集构建输入矩阵；其中，所述输入矩阵包括生产过程中的批次数量、测量变量的种类以及单批次内的时间采样点的个数；通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵；对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵；根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例。可选地，所述方法还包括：根据所述待检测批次的回收料比例，生成对应批次的产品的质量检测结果。可选地，所述获取生产过程中的原始数据集，并构建输出矩阵，包括：通过模内压力传感器采集模腔表面受到熔体的压力，得到第一数据；通过模内电容传感器采集模腔的电容值和探头温度，得到第二数据；通过注塑机内部传感器系统采集料筒温度、注射速度、螺杆行程及保压压力，得到第三数据；根据所述第一数据、所述第二数据和所述第三数据，分析熔体的典型回收料混合比例；根据所述第一数据、所述第二数据和所述第三数据，确定生产过程中的原始数据集；根据所述原始数据集构建所述输出矩阵。可选地，所述模内压力传感器和所述模内电容传感器均安装在模具上靠近浇口的位置。可选地，所述通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵这一步骤中，所述主成分分析过程的表达式为：Xk＝TkPkT+Ek其中，Xk代表输入矩阵；Tk代表主成分矩阵；Pk代表载荷矩阵；Ek代表主成分分析中的残差矩阵；k代表单批次内的采样时刻。可选地，所述对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵这一步骤中，所述最小二乘回归处理的表达式为：Yk＝TkCkT+Fk其中，Yk代表输出矩阵；Tk代表主成分矩阵；Ck代表系数矩阵；Fk代表最小二乘回归处理中的残差矩阵；k代表单批次内的采样时刻。可选地，所述根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例这一步骤中，所述回收料比例的计算公式为：其中，代表估计的熔体回收料比例；C代表不特指某一时刻下的系数矩阵；P代表不特指某一时刻下的载荷矩阵；x代表在线检测中测量得到的输入矩阵。本发明实施例的另一方面还提供了一种回收料混合比例在线检测装置，包括：第一模块，用于获取生产过程中的原始数据集，并构建输出矩阵；其中，所述原始数据集包括生产过程中每个批次生产时使用的回收料比例；第二模块，用于根据所述原始数据集构建输入矩阵；其中，所述输入矩阵包括生产过程中的批次数量、测量变量的种类以及单批次内的时间采样点的个数；第三模块，用于通过主成分分析，将所述输入矩阵分解为列向量相互正交的主成分矩阵；第四模块，用于对所述输出矩阵和所述主成分矩阵进行最小二乘回归处理，得到系数矩阵；第五模块，用于根据所述主成分矩阵和所述系数矩阵，计算待检测批次的回收料比例。本发明实施例的另一方面还提供了一种电子设备，包括处理器以及存储器；所述存储器用于存储程序；所述处理器执行所述程序实现如前面所述的方法。本发明实施例的另一方面还提供了一种计算机可读存储介质，所述存储介质存储有程序，所述程序被处理器执行实现如前面所述的方法。下面结合说明书附图，对本发明的具体实现原理进行详细说明：本发明中，为了在线检测当前批次下产品的典型回收料比例，以达到在线监控产品是否符合质量要求的目的，一种基于数据驱动的PCR建模方法得到了运用，取一系列过程变量为输入，以当前批次下原料的比例为建模对象进行建模。以样条模具为例，在接近浇口处安装了几种典型模内传感器，如图1所示，P1是模内压力传感器所安装的位置，可以测量P1处模腔表面受到熔体的压力P。C1是模内电容传感器安装的位置，电容传感器同时集成了温度测量的功能，可以测量C1处电容值C以及探头温度T，模内电容通常可以反映该处熔体的密度变化情况，在已发表过的论文及专利之中已证明电容测量值与产品重量具有直接联系。在靠近浇口的位置设置传感器的目的是保证尽可能多的熔体流经探头表面，并通过传感器测量的数据进行分析得到熔体的典型回收料混合比例。否则，则有大量的熔体不会经过传感器表面而无法探知相应的熔体状态。在本发明中，为实现对熔体回收料比例的在线检测，第一步是对该生产过程进行测试，获得充足的数据集，包含输出矩阵Y，包含每个批次生产时所使用的回收料比例。输入矩阵则为过程变量X，即输入矩阵中包含I个数的批次，J种类的测量变量以及单批次内的K个时间采样点。在本实施例中，K即射胶阶段和保压阶段的所有时刻，这两个阶段中不断有熔体进入模腔，在保压完成后浇口冷却，整个零件逐步降温并凝固成产品。在本实施例中，I的值与数据集的规模相关，越多批次的数据被用于离线建模，则I越大。J则是注塑过程中被选取的过程变量种类，在本发明中，J＝7。如表1所示，表1用来描述选取的过程变量，在本实施例中，所有的过程变量都需要进行归一化操作。表1编号描述1模腔电容2模腔温度3模腔压力4注射速度5保压压力6料筒温度7螺杆行程其中，编号为1，2，3的模内变量即由本实施例设置的模内传感器测量得到。编号4到7的变量则是注塑机一侧典型的受控变量，由机器内部传感器测量，如图2所示。当这些受控变量的设定值发生变化时，模内传感器的测量值也会受到变化。这体现了过程变量之间存在的一定的共线性关系，而主成分回归包含如下两步：1、进行主成分分析，将输入矩阵分解为列向量相互正交的主成分矩阵Tk：Xk＝TkPkT+Ek其中，Pk∈RJ×q为载荷矩阵，Tk∈RI×q为主成分矩阵，q则是被选中的主成分的数目，根据不同的案例可以选择不同的值。k＝1,2,…，K，代表在每一个采样时刻都对输入矩阵Xk进行了主成分分析。Ek是残差矩阵。这一步消除了过程变量之间的共线性问题，避免了趋近于0的特征根，使模型的估计失真。2、对输出矩阵Y和主成分矩阵Xk进行最小二乘回归，得到系数矩阵Ck：Y＝TkCkT+Fk其中，Ck∈R1×q为各采样时刻的系数矩阵，Fk同样为相应的残差矩阵。以上两式便是通过测试数据得到的数学模型。这个模型可以用于在线检测熔体中回收料的比例，当新的批次中，本实施例测量到新的过程变量矩阵x∈RJ×1时，可以计算处当前批次对应的典型回收料比例：若计算出的回收料比例高于设定的比例阈值，可以认为当前批次内有局部的原料存在着比较严重的不均匀，进而判定当前批次所生产的产品不能满足质量要求，实现了回收料比例的检测以及对生产过程的监控。整个测试，离线建模，在线监测的流程可以通过图3所表示。综上所述，本发明提出了一种回收料混合比例的在线检测方法。该方法基于传感器测量值，利用一种数据驱动的方法建立了回收料比例与传感器测量值的数学模型。该数学模型可用于相同生产条件下对当前批次的回收料比例进行间接检测与产品质量监控。由于在回收料比例不同时，熔体的流动性，产品的重量等均会发生改变。因此模内状态传感器包括电容，温度，压力等测量被记录作为输入变量。同时为了保证生产过程中工艺条件的稳定，注塑机一侧的传感器所记录的过程变量同样被考虑作为输入。为了消除高维输入矩阵中所含有的共线性问题，一种主成分回归的方法得到使用，将输入矩阵分解为正交的主成分矩阵，进而对输出变量即回收料比例与主成分矩阵进行了多元最小二乘回归建模，得到相应的系数矩阵，即得到一套过程变量与回收料比例之间的数学模型。该模型可以直接被用于相同生产条件下，对当前批次下各时刻的回收料比例进行间接检测，当计算得到的回收料比例高于设定的回收料比例阈值，则代表原料在混合，熔融，注射时存在严重的不均匀的情况，局部回收料比例过高，从而导致产品重量，机械强度等质量指标不能达标。从而实现了对回收料生产产品的在线监控。在一些可选择的实施例中，在方框图中提到的功能/操作可以不按照操作示图提到的顺序发生。例如，取决于所涉及的功能/操作，连续示出的两个方框实际上可以被大体上同时地执行或所述方框有时能以相反顺序被执行。此外，在本发明的流程图中所呈现和描述的实施例以示例的方式被提供，目的在于提供对技术更全面的理解。所公开的方法不限于本文所呈现的操作和逻辑流程。可选择的实施例是可预期的，其中各种操作的顺序被改变以及其中被描述为较大操作的一部分的子操作被独立地执行。此外，虽然在功能性模块的背景下描述了本发明，但应当理解的是，除非另有相反说明，所述的功能和/或特征中的一个或多个可以被集成在单个物理装置和/或软件模块中，或者一个或多个功能和/或特征可以在单独的物理装置或软件模块中被实现。还可以理解的是，有关每个模块的实际实现的详细讨论对于理解本发明是不必要的。更确切地说，考虑到在本文中公开的装置中各种功能模块的属性、功能和内部关系的情况下，在工程师的常规技术内将会了解该模块的实际实现。因此，本领域技术人员运用普通技术就能够在无需过度试验的情况下实现在权利要求书中所阐明的本发明。还可以理解的是，所公开的特定概念仅仅是说明性的，并不意在限制本发明的范围，本发明的范围由所附权利要求书及其等同方案的全部范围来决定。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。在流程图中表示或在此以其他方式描述的逻辑和/或步骤，例如，可以被认为是用于实现逻辑功能的可执行指令的定序列表，可以具体实现在任何计算机可读介质中，以供指令执行系统、装置或设备使用，或结合这些指令执行系统、装置或设备而使用。就本说明书而言，“计算机可读介质”可以是任何可以包含、存储、通信、传播或传输程序以供指令执行系统、装置或设备或结合这些指令执行系统、装置或设备而使用的装置。计算机可读介质的更具体的示例包括以下：具有一个或多个布线的电连接部，便携式计算机盘盒，随机存取存储器，只读存储器，可擦除可编辑只读存储器，光纤装置，以及便携式光盘只读存储器。另外，计算机可读介质甚至可以是可在其上打印所述程序的纸或其他合适的介质，因为可以例如通过对纸或其他介质进行光学扫描，接着进行编辑、解译或必要时以其他合适方式进行处理来以电子方式获得所述程序，然后将其存储在计算机存储器中。应当理解，本发明的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件或固件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或他们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列，现场可编程门阵列等。在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。尽管已经示出和描述了本发明的实施例，本领域的普通技术人员可以理解：在不脱离本发明的原理和宗旨的情况下可以对这些实施例进行多种变化、修改、替换和变型，本发明的范围由权利要求及其等同物限定。以上是对本发明的较佳实施进行了具体说明，但本发明并不限于所述实施例，熟悉本领域的技术人员在不违背本发明精神的前提下还可做出种种的等同变形或替换，这些等同的变形或替换均包含在本申请权利要求所限定的范围内。
