标题title
连接建立方法、装置、设备及计算机可读存储介质
摘要abst
本公开涉及一种连接建立方法、装置、设备及计算机可读存储介质，该方法包括：向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端。进一步，从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系，在检测到用户敲击键盘的事件时，生成第二会话标识。若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。本公开只要检测到用户敲击键盘，就可以重新连接远程终端，不需要输入账号密码，简化了操作，从而提高了使用效率和用户体验。
权利要求书clms
1.一种连接建立方法，其特征在于，应用于第一终端，所述方法包括：向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端；从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系；在检测到用户敲击键盘的事件时，生成第二会话标识；若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。2.根据权利要求1所述的方法，其特征在于，从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系之后，所述方法还包括：存储所述第一会话标识和第二终端标识之间的对应关系；当所述对应关系的存储时间超出预设时长时，删除所述对应关系。3.根据权利要求1所述的方法，其特征在于，若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端，包括：若所述对应关系的存储时间未超出预设时长，且所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。4.根据权利要求1-3任一项所述的方法，其特征在于，所述第一会话标识或所述第二会话标识是根据所述账号、所述密码、随机数生成的。5.根据权利要求1所述的方法，其特征在于，从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系之后，所述方法还包括：存储所述第一会话标识和第二终端标识之间的对应关系；在所述对应关系中增加第一系统标识；相应的，在检测到用户敲击键盘的事件时，生成第二会话标识，包括：在检测到用户敲击键盘的事件时，生成第二会话标识和第二系统标识；若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端，包括：若所述第二会话标识和所述第一会话标识匹配，且所述第二系统标识和所述第一系统标识匹配，则根据所述第二终端标识重新连接所述第二终端。6.一种连接建立装置，其特征在于，所述装置包括在第一终端中，所述装置包括：发送模块，用于向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端；获取模块，用于从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系；生成模块，用于在检测到用户敲击键盘的事件时，生成第二会话标识；连接模块，用于若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。7.根据权利要求6所述的装置，其特征在于，所述装置还包括：存储模块，用于存储所述第一会话标识和第二终端标识之间的对应关系；删除模块，用于当所述对应关系的存储时间超出预设时长时，删除所述对应关系。8.根据权利要求6所述的装置，其特征在于，所述连接模块具体用于：若所述对应关系的存储时间未超出预设时长，且所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。9.根据权利要求6-8任一项所述的装置，其特征在于，所述第一会话标识或所述第二会话标识是根据所述账号、所述密码、随机数生成的。10.根据权利要求6所述的装置，其特征在于，所述存储模块还用于：存储所述第一会话标识和第二终端标识之间的对应关系；在所述对应关系中增加第一系统标识；相应的，所述生成模块在检测到用户敲击键盘的事件时，生成第二会话标识时，具体用于：在检测到用户敲击键盘的事件时，生成第二会话标识和第二系统标识；所述连接模块在若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端时，具体用于：若所述第二会话标识和所述第一会话标识匹配，且所述第二系统标识和所述第一系统标识匹配，则根据所述第二终端标识重新连接所述第二终端。11.一种电子设备，其特征在于，包括：存储器；处理器；以及计算机程序；其中，所述计算机程序存储在所述存储器中，并被配置为由所述处理器执行以实现如权利要求1-5中任一项所述的方法。12.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-5中任一项所述的方法。
说明书desc
技术领域本公开涉及计算机技术领域，尤其涉及一种连接建立方法、装置、设备及计算机可读存储介质。背景技术随着信息化建设和互联网技术技术的快速发展，互联网技术的应用越来越深入广泛。通常情况下，终端在访问远程服务器的时候，终端需要安装有常见的通信工具，例如，OpenSSH和PuTTY。其中，OpenSSH是安全外壳协议的免费开源实现。PuTTY是一个远程终端协议、SSH、远程登录、传输控制协议以及串行接口连接软件。但是，这些通信工具可能会被防火墙拦截，从而阻止访问。因此，可以在终端中安装Shellinabox远程模拟器，使得即使在防火墙的后面，也可以访问远程服务器。其中，Shellinabox是一款使用异步JavaScript和可扩展标记语言的基于全球广域网的终端模拟器。JavaScript是一种具有函数优先的轻量级，解释型或即时编译型的编程语言。通常情况下，当某终端配置完成Shellinabox远程模拟器后，可以通过该终端中的浏览器以及远程服务器访问远程终端。但是，当该终端和远程终端之间的通信连接断开后，该终端的用户需要通过一系列复杂的操作才能使得该终端和远程终端重新建立连接。从而增加了操作复杂性，降低了使用效率和用户体验。发明内容为了解决上述技术问题或者至少部分地解决上述技术问题，本公开提供了一种连接建立方法、装置、设备及计算机可读存储介质，用户只需要敲击键盘，就可以重新连接远程终端，不需要输入账号密码，简化了操作，从而提高了使用效率和用户体验。第一方面，本公开实施例提供一种连接建立方法，应用于第一终端，所述方法包括：向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端；从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系；在检测到用户敲击键盘的事件时，生成第二会话标识；若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。第二方面，本公开实施例提供一种连接建立装置，所述装置包括在第一终端中，所述装置包括：发送模块，用于向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端；获取模块，用于从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系；生成模块，用于在检测到用户敲击键盘的事件时，生成第二会话标识；连接模块，用于若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。第三方面，本公开实施例提供一种电子设备，包括：存储器；处理器；以及计算机程序；其中，所述计算机程序存储在所述存储器中，并被配置为由所述处理器执行以实现如第一方面所述的方法。第四方面，本公开实施例提供一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行以实现第一方面所述的方法。第五方面，本公开实施例还提供了一种计算机程序产品，该计算机程序产品包括计算机程序或指令，该计算机程序或指令被处理器执行时实现如上所述的连接建立方法。本公开实施例提供的连接建立方法、装置、设备及计算机可读存储介质，通过向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端。进一步，从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系，在检测到用户敲击键盘的事件时，生成第二会话标识。若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。由于用户只需要敲击键盘，就可以重新连接远程终端，不需要输入账号密码，简化了操作，从而提高了使用效率和用户体验。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本公开的实施例，并与说明书一起用于解释本公开的原理。为了更清楚地说明本公开实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，对于本领域普通技术人员而言，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本公开实施例提供的连接建立方法流程图；图2为本公开实施例提供的一种应用场景的示意图；图3为本公开另一实施例提供的连接建立方法流程图；图4为本公开实施例提供的连接建立装置的结构示意图；图5为本公开实施例提供的电子设备的结构示意图。具体实施方式为了能够更清楚地理解本公开的上述目的、特征和优点，下面将对本公开的方案进行进一步描述。需要说明的是，在不冲突的情况下，本公开的实施例及实施例中的特征可以相互组合。在下面的描述中阐述了很多具体细节以便于充分理解本公开，但本公开还可以采用其他不同于在此描述的方式来实施；显然，说明书中的实施例只是本公开的一部分实施例，而不是全部的实施例。随着信息化建设和互联网技术技术的快速发展，互联网技术的应用越来越深入广泛。通常情况下，终端在访问远程服务器的时候，终端需要安装有常见的通信工具，例如，OpenSSH和PuTTY。其中，OpenSSH是安全外壳协议的免费开源实现。PuTTY是一个远程终端协议、SSH、远程登录、传输控制协议以及串行接口连接软件。但是，这些通信工具可能会被防火墙拦截，从而阻止访问。因此，可以在终端中安装Shellinabox远程模拟器，使得即使在防火墙的后面，也可以访问远程服务器。其中，Shellinabox是一款使用异步JavaScript和可扩展标记语言的基于全球广域网的终端模拟器。JavaScript是一种具有函数优先的轻量级，解释型或即时编译型的编程语言。通常情况下，当某终端配置完成Shellinabox远程模拟器后，可以通过该终端中的浏览器以及远程服务器访问远程终端。但是，当该终端和远程终端之间的通信连接断开后，该终端的用户需要通过一系列复杂的操作才能使得该终端和远程终端重新建立连接。从而增加了操作复杂性，降低了使用效率和用户体验。针对该问题，本公开实施例提供了一种连接建立方法，下面结合具体的实施例对该方法进行介绍。图1为本公开实施例提供的连接建立方法流程图。该方法可以应用于图2所示的应用场景，该应用场景中包括电子设备21，远程服务器22和远程第二终端23，电子设备21具体可以是终端，例如，智能手机、掌上电脑、平板电脑、带显示屏的可穿戴设备、台式机、笔记本电脑、一体机、智能家居设备等。可以理解的是，本公开实施例提供的连接建立方法还可以应用在其他场景中。下面结合图2所示的应用场景，对图1所示的连接建立方法进行介绍，该方法包括的具体步骤如下：S101、向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端。如图2所示的电子设备21打开浏览器，向远程服务器22发送访问请求，所述访问请求包括账号、密码、第一会话标识，同时电子设备21会生成一个时域会话，Session会话用于电子设备21通过远程服务器22与远程第二终端23建立连接后，访问远程的第二终端23。远程服务器21接收到电子设备21发送的访问请求后，将所述访问请求发送给远程的第二终端23。S102、从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系。电子设备21向远程服务器22发送访问请求时，所述访问请求包括账号、密码、第一会话标识，会从远程服务器22中获取所述第一会话标识和第二终端标识之间的对应关系，第二终端标识具体是第二终端的标识信息，例如可以是第二终端的身份标识号。远程服务器22根据所述第一会话标识和第二终端标识之间的对应关系，然后将所述访问请求发送给远程的第二终端23。S103、在检测到用户敲击键盘的事件时，生成第二会话标识。如果电子设备21与远程第二终端23的连接断开，要重新连接远程第二终端23时，当检测到用户敲击键盘的事件，例如可以是敲击键盘上的回车键，也可以是其他键，电子设备21会生成一个时域会话，同时生成第二会话标识。S104、若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。电子设备21调用登录认证的插件，JWT安装在电子设备21里，电子设备21首次访问远程的第二终端，会将登录使用的相关信息包括所述第一会话标识发送给JWT。重新连接时，电子设备21会将新生成的相关信息包括所述第二会话标识发送给JWT。JWT做一个相关信息的对比，校验所述第二会话标识是否与所述第一会话标识匹配。若所述第二会话标识和所述第一会话标识匹配，则电子设备21根据所述第二终端标识重新连接所述第二终端23。本公开实施例通过向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端。进一步，从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系，在检测到用户敲击键盘的事件时，生成第二会话标识。若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。由于用户只需要敲击键盘，就可以重新连接远程终端，不需要输入账号密码，简化了操作，从而提高了使用效率和用户体验。在上述实施例的基础上，从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系之后，所述方法还包括：存储所述第一会话标识和第二终端标识之间的对应关系；当所述对应关系的存储时间超出预设时长时，删除所述对应关系。如图2所示的电子设备21从远程服务器22中获取所述第一会话标识和第二终端标识之间的对应关系之后，电子设备21会将所述第一会话标识和第二终端标识之间的对应关系传给JWT，JWT会存储所述第一会话标识和第二终端标识之间的对应关系，当所述对应关系的存储时间超出预设时长时，电子设备21会删除JWT中存储的所述对应关系。可选的，若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端，包括：若所述对应关系的存储时间未超出预设时长，且所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。例如，电子设备21如果长时间没有重新连接远程的第二终端23，所述对应关系就会被删除，即Session对象过期了，所述Session对象包括所述第一会话标识和第二终端标识之间的对应关系。当电子设备21重新连接远程的第二终端时，只有当所述对应关系的存储时间未超出预设时长即Session对象未过期，且所述第二会话标识和所述第一会话标识匹配时，电子设备21根据所述第二终端标识重新连接所述第二终端23。具体的，电子设备21会将新生成的相关信息包括所述第二会话标识发送给JWT。JWT做一个相关信息的对比，校验所述第二会话标识是否与所述第一会话标识匹配，若所述第二会话标识和所述第一会话标识匹配，则电子设备21根据所述第二终端标识重新连接所述第二终端23。可选的，所述第一会话标识或所述第二会话标识是根据所述账号、所述密码、随机数生成的。所述第一会话标识或所述第二会话标识是指电子设备21连接远程的第二终端23时，生成的时域身份标识号，所述Session ID是通过账号、密码、随机数用哈希算法处理后，然后再用信息-摘要算法5处理得到的值。Hash算法是将任意长度的二进制值映射为较短的固定长度的二进制值，这个较短的二进制值称为哈希值。MD5算法对任意输入值处理后会产生128位的输出值。本公开实施例通过存储所述第一会话标识和第二终端标识之间的对应关系，当所述对应关系的存储时间超出预设时长时，删除所述对应关系。若所述对应关系的存储时间未超出预设时长，且所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端，所述第一会话标识或所述第二会话标识是根据所述账号、所述密码、随机数生成的。由于只有当所述对应关系的存储时间未超出预设时长即Session对象未过期，且所述第二会话标识和所述第一会话标识匹配时，电子设备才能根据所述第二终端标识重新连接所述第二终端，提升了连接的安全性。并且第一会话标识或所述第二会话标识是根据所述账号、所述密码、随机数生成的，具有唯一性，可以防止恶意连接，进一步保证了连接的安全。图3为本公开另一实施例提供的连接建立方法流程图，如图3所示，该方法包括如下几个步骤：S301、向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端。具体的，S301和S101的实现过程和原理一致，此处不再赘述。S302、从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系。具体的，S302和S102的实现过程和原理一致，此处不再赘述。S303、存储所述第一会话标识和第二终端标识之间的对应关系。如图2所示的电子设备21从远程服务器22中获取所述第一会话标识和第二终端标识之间的对应关系之后，电子设备21会将所述第一会话标识和第二终端标识之间的对应关系传给JWT，JWT会存储所述第一会话标识和第二终端标识之间的对应关系。S304、在所述对应关系中增加第一系统标识。例如，电子设备21从远程服务器22中获取所述第一会话标识和第二终端标识之间的对应关系之后，电子设备会在所述对应关系中增加第一系统标识。可选的，所述系统标识可以是随机不重复的数。S305、在检测到用户敲击键盘的事件时，生成第二会话标识和第二系统标识。如果电子设备21与远程第二终端23的连接断开，要重新连接远程第二终端23时，当检测到用户敲击键盘的事件，例如可以是敲击键盘上的回车键，电子设备21会生成一个时域会话，同时生成第二会话标识和第二系统标识。S306、若所述第二会话标识和所述第一会话标识匹配，且所述第二系统标识和所述第一系统标识匹配，则根据所述第二终端标识重新连接所述第二终端。重新连接时，电子设备21会将新生成的相关信息包括所述第二会话标识和第二系统标识发送给JWT。JWT做一个相关信息的对比，校验所述第二会话标识和第二系统标识是否与所述第一会话标识和第一系统标识分别对应匹配。若所述第二会话标识和所述第一会话标识匹配，且所述第二系统标识和所述第一系统标识匹配，则电子设备21根据所述第二终端标识重新连接所述第二终端23。本公开实施例通过向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端。进一步，从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系，存储所述第一会话标识和第二终端标识之间的对应关系并在所述对应关系中增加第一系统标识。然后，在检测到用户敲击键盘的事件时，生成第二会话标识和第二系统标识，若所述第二会话标识和所述第一会话标识匹配，且所述第二系统标识和所述第一系统标识匹配，则根据所述第二终端标识重新连接所述第二终端。由于用户只需要敲击键盘，就可以重新连接远程终端，不需要输入账号密码，简化了操作，从而提高了使用效率和用户体验。另外，在所述第一会话标识和第二终端标识之间的对应关系中新增加了系统标识，只有当会话标识和系统标识同时匹配时，才能实现一键重连，进一步提升连接的安全性。图4为本公开实施例提供的连接建立装置的结构示意图。该连接建立装置可以是如上实施例所述第一终端，或者该连接建立装置可以是第一终端中的部件或组件。本公开实施例提供的连接建立装置可以执行连接建立方法实施例提供的处理流程，如图4所示，连接建立装置40包括：发送模块41、获取模块42、生成模块43、连接模块44；其中，发送模块41用于向远程服务器发送访问请求，所述访问请求包括账号、密码、第一会话标识，所述远程服务器用于将所述访问请求发送给远程的第二终端，以使所述第一终端通过所述远程服务器访问所述第二终端；获取模块42用于从所述远程服务器获取所述第一会话标识和第二终端标识之间的对应关系；生成模块43用于在检测到用户敲击键盘的事件时，生成第二会话标识；连接模块44用于若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端。可选的，所述装置还包括：存储模块45和删除模块46；存储模块45用于存储所述第一会话标识和第二终端标识之间的对应关系；删除模块46用于当所述对应关系的存储时间超出预设时长时，删除所述对应关系。可选的，所述连接模块44具体用于若所述对应关系的存储时间未超出预设时长，且所述第二会话标识和所述第一会话标识匹配时，则根据所述第二终端标识重新连接所述第二终端。可选的，所述第一会话标识或所述第二会话标识是根据所述账号、所述密码、随机数生成的。可选的，所述存储模块45还用于存储所述第一会话标识和第二终端标识之间的对应关系，在所述对应关系中增加第一系统标识；相应的，所述生成模块43在检测到用户敲击键盘的事件时，生成第二会话标识时，具体用于：在检测到用户敲击键盘的事件时，生成第二会话标识和第二系统标识；所述连接模块44在若所述第二会话标识和所述第一会话标识匹配，则根据所述第二终端标识重新连接所述第二终端时，具体用于：若所述第二会话标识和所述第一会话标识匹配，且所述第二系统标识和所述第一系统标识匹配，则根据所述第二终端标识重新连接所述第二终端。图4所示实施例的连接建立装置可用于执行上述方法实施例的技术方案，其实现原理和技术效果类似，此处不再赘述。图5为本公开实施例提供的电子设备的结构示意图。该电子设备可以是如上实施例所述的第一终端。本公开实施例提供的电子设备可以执行连接建立方法实施例提供的处理流程，如图5所示，电子设备50包括：存储器51、处理器52、计算机程序和通讯接口53；其中，计算机程序存储在存储器51中，并被配置为由处理器52执行如上所述的连接建立方法。另外，本公开实施例还提供一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行以实现上述实施例所述的连接建立方法。此外，本公开实施例还提供了一种计算机程序产品，该计算机程序产品包括计算机程序或指令，该计算机程序或指令被处理器执行时实现如上所述的连接建立方法。需要说明的是，在本文中，诸如“第一”和“第二”等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。以上所述仅是本公开的具体实施方式，使本领域技术人员能够理解或实现本公开。对这些实施例的多种修改对本领域的技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本公开的精神或范围的情况下，在其它实施例中实现。因此，本公开将不会被限制于本文所述的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
