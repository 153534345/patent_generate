标题title
图像处理方法、装置、电子设备及存储介质
摘要abst
本公开提供了一种图像处理方法、装置、电子设备及存储介质。方法包括：获取包含目标被美妆部位的目标图像；获取目标被美妆部位的轮廓特征点在目标图像中的坐标值，以作为目标坐标值；根据目标坐标值，以及预先确定的配置文件，得到目标被美妆部位的网格结构，以作为目标网格结构；根据目标网格结构，对目标被美妆部位进行美妆处理，得到美妆图像。在本公开中，根据上述配置文件生成的目标网格结构，可以跟随目标被美妆部位状态的变化产生不同的变化，从而可以根据目标网格结构生成适应目标被美妆部位不同状态的美妆图像，即可以在不同状态产生不同的美妆效果。
权利要求书clms
1.一种图像处理方法，其特征在于，包括：获取包含目标被美妆部位的目标图像；获取所述目标被美妆部位的轮廓特征点在所述目标图像中的坐标值，以作为目标坐标值；根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，以作为目标网格结构；根据所述目标网格结构，对所述目标被美妆部位进行美妆处理，得到美妆图像；其中，所述配置文件中包括被美妆部位的网格结构中的预设三角形以及所述预设三角形的顶点的坐标值，所述预设三角形包括至少一个第一类三角形和与所述第一类三角形对应的第二类三角形，一个第一类三角形的顶点包括两个稳定点和一个第一扩展点，一个第二类三角形的顶点包括与其对应的第一类三角形中的第一扩展点、一个开关点和一个第二扩展点；所述稳定点和所述开关点分别为在被美妆部位从第一状态变化至第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最小的一点和运动幅度最大的点，所述第一扩展点和所述第二扩展点为预先根据所述被美妆部位的轮廓设置的点。2.根据权利要求1所述的图像处理方法，其特征在于，所述获取包含目标被美妆部位的目标图像之前，所述方法还包括：响应于用户的第一操作，修改预先确定的所述配置文件中的其中一个第一扩展点的坐标值；保存修改后的所述配置文件；所述根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，包括：根据所述目标坐标值，以及修改后的所述配置文件，得到所述目标网格结构。3.根据权利要求1所述的图像处理方法，其特征在于，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述获取包含目标被美妆部位的目标图像之前，所述方法还包括：根据所述第二类三角形与其对应的目标三角形的相似关系，以及所述第二类三角形的顶点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值，计算所述目标点的坐标值；根据所述目标点的坐标值以及所述第二扩展点的坐标值，显示从所述目标点指向与其对应的第二扩展点的方向；其中，与目标点对应的第二扩展点，为与目标点所属目标三角形对应的第二类三角形中的第二扩展点。4.根据权利要求2所述的图像处理方法，其特征在于，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述第一操作为用户对目标界面上显示的一个目标点的坐标值的修改操作；所述响应于用户的第一操作，修改预先确定的所述配置文件中的其中一个第一扩展点的坐标值，包括：根据所述第一操作，确定参考点修改后的坐标值，所述参考点为所述第一操作针对的目标点；根据参考点所属的目标三角形，与该目标三角形对应的第二类三角形的相似关系，以及目标参数，计算与所述参考点所属的目标三角形对应的第二类三角形的第一扩展点修改后的坐标值；其中，所述目标参数包括所述参考点修改后的坐标值、被美妆部位处于所述第一状态时所述开关点所处位置上的点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值、与所述参考点所属目标三角形对应的第二类三角形的第二扩展点的坐标值。5.根据权利要求1所述的图像处理方法，其特征在于，所述根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，包括：采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的稳定点的坐标值，以及所述配置文件中的第一类三角形的顶点的坐标值，计算得到第一类扩展点的坐标值；采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的开关点的坐标值、所述第一类扩展点的坐标值以及所述配置文件中的第二类三角形的顶点的坐标值，计算得到第二类扩展点的坐标值；根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，计算得到第三类扩展点的坐标值；根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述第三类扩展点的坐标值，得到所述目标网格结构；其中，所述第一类扩展点为所述目标网格结构中，与所述第一类三角形中的第一扩展点对应的点；所述第二类扩展点为所述目标网格结构中，与所述第二类三角形中的第二扩展点对应的点，所述第三类扩展点为所述目标网格结构中除所述目标图像中的被美妆部位的轮廓特征点、所述第一类扩展点和所述第二类扩展点之外的其他点。6.根据权利要求5所述的图像处理方法，其特征在于，所述第三类扩展点中的至少部分点的坐标值是采用平滑过渡或插值方法确定的。7.根据权利要求5所述的图像处理方法，其特征在于，所述预设三角形还包括至少一个第三类三角形，其中，一个第三类三角形的顶点包括一个第三扩展点和目标集合中的其中两个点，所述第三扩展点为预先根据所述被美妆部位的轮廓设置的点，所述目标集合中包括所述第一类三角形的顶点和所述第二类三角形的顶点，以及所述被美妆部位的轮廓特征点中除去所述稳定点和所述开关点之外的其他点；所述根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，计算得到第三类扩展点的坐标值，包括：采用相似三角形算法，根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，以及所述配置文件中的第三类三角形的顶点的坐标值，计算得到所述第三类扩展点的坐标值。8.一种图像处理装置，其特征在于，包括：图像获取模块，被配置为获取包含目标被美妆部位的目标图像；坐标获取模块，被配置为获取所述目标被美妆部位的轮廓特征点在所述目标图像中的坐标值，以作为目标坐标值；网格结构获取模块，被配置为根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，以作为目标网格结构；图像绘制模块，被配置为根据所述目标网格结构，对所述目标被美妆部位进行美妆处理，得到美妆图像；其中，所述配置文件中包括被美妆部位的网格结构中的预设三角形以及所述预设三角形的顶点的坐标值，所述预设三角形包括至少一个第一类三角形和与所述第一类三角形对应的第二类三角形，一个第一类三角形的顶点包括两个稳定点和一个第一扩展点，一个第二类三角形的顶点包括与其对应的第一类三角形中的第一扩展点、一个开关点和一个第二扩展点；所述稳定点和所述开关点分别为在被美妆部位从第一状态变化至第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最小的一点和运动幅度最大的点，所述第一扩展点和所述第二扩展点为预先根据所述被美妆部位的轮廓设置的点。9.一种电子设备，其特征在于，包括：处理器；用于存储所述处理器可执行指令的存储器；其中，所述处理器被配置为执行以实现如权利要求1至7中任一项所述的图像处理方法所执行的操作。10.一种存储介质，其特征在于，当所述存储介质中的指令由电子设备的处理器执行时，使得所述电子设备能够执行如权利要求1至7中任一项所述的图像处理方法所执行的操作。
说明书desc
技术领域本公开涉及计算机技术领域，尤其涉及一种图像处理方法、装置、电子设备及存储介质。背景技术伴随智能手机发展，手机运算拍照性能大幅提升。尤其是近年更先进的AI处理功能，使得手机终端可以进行实时运算，从而诞生了大批带有特效功能的摄像录像应用程序。在各种特效中，美妆是最常见的特效之一。针对眼睛的美妆，目前通过创建扩展点，使其再与AI点组合形成一整套详细网格结构。其中，现实世界眼妆会有平滑曲线，闭眼时会适当的向上弯折，睁眼时平直或向下。然而，目前构造的网格结构过于稳定，导致利用其进行美妆时，效果并不理想。如图1所示，整体网格结构无法跟随眼睛灵活运动，导致在闭眼时眼角位置结构异常。其中，图1中M标记展示了闭眼时，网格结构外眼角部分依然和睁眼时相差不大，但是眼皮部分已经整体跟随向下移动，从而导致该部分图像产生较大幅度的错位，即如图1中M标记所指效果。由上述可知，针对眼部的美妆，目前构造的网格结构，无法适应眼睛的不同状态，从而导致美妆效果过于刻板，或产生怪异的弯折问题。同理，对于人脸其他的被美妆部位，采用现有技术构造的网格结构，也会存在同样的问题。发明内容本公开提供一种图像处理方法、装置、电子设备及存储介质，以解决现有技术中构造的网格结构，无法适应被美妆部位的不同状态，从而导致美妆效果过于刻板，或产生怪异弯折的问题。根据本公开的第一方面，提供一种图像处理方法，包括：获取包含目标被美妆部位的目标图像；获取所述目标被美妆部位的轮廓特征点在所述目标图像中的坐标值，以作为目标坐标值；根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，以作为目标网格结构；根据所述目标网格结构，对所述目标被美妆部位进行美妆处理，得到美妆图像；其中，所述配置文件中包括被美妆部位的网格结构中的预设三角形以及所述预设三角形的顶点的坐标值，所述预设三角形包括至少一个第一类三角形和与所述第一类三角形对应的第二类三角形，一个第一类三角形的顶点包括两个稳定点和一个第一扩展点，一个第二类三角形的顶点包括与其对应的第一类三角形中的第一扩展点、一个开关点和一个第二扩展点；所述稳定点和所述开关点分别为在被美妆部位从第一状态变化至第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最小的一点和运动幅度最大的点，所述第一扩展点和所述第二扩展点为预先根据所述被美妆部位的轮廓设置的点。可选的，所述获取包含目标被美妆部位的目标图像之前，所述方法还包括：响应于用户的第一操作，修改预先确定的所述配置文件中的其中一个第一扩展点的坐标值；保存修改后的所述配置文件；所述根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，包括：根据所述目标坐标值，以及修改后的所述配置文件，得到所述目标网格结构。可选的，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述获取包含目标被美妆部位的目标图像之前，所述方法还包括：根据所述第二类三角形与其对应的目标三角形的相似关系，以及所述第二类三角形的顶点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值，计算所述目标点的坐标值；根据所述目标点的坐标值以及所述第二扩展点的坐标值，显示从所述目标点指向与其对应的第二扩展点的方向；其中，与目标点对应的第二扩展点，为与目标点所属目标三角形对应的第二类三角形中的第二扩展点。可选的，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述第一操作为用户对目标界面上显示的一个目标点的坐标值的修改操作；所述响应于用户的第一操作，修改预先确定的所述配置文件中的其中一个第一扩展点的坐标值，包括：根据所述第一操作，确定参考点修改后的坐标值，所述参考点为所述第一操作针对的目标点；根据参考点所属的目标三角形，与该目标三角形对应的第二类三角形的相似关系，以及目标参数，计算与所述参考点所属的目标三角形对应的第二类三角形的第一扩展点修改后的坐标值；其中，所述目标参数包括所述参考点修改后的坐标值、被美妆部位处于所述第一状态时所述开关点所处位置上的点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值、与所述参考点所属目标三角形对应的第二类三角形的第二扩展点的坐标值。可选的，所述根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，包括：采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的稳定点的坐标值，以及所述配置文件中的第一类三角形的顶点的坐标值，计算得到第一类扩展点的坐标值；采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的开关点的坐标值、所述第一类扩展点的坐标值以及所述配置文件中的第二类三角形的顶点的坐标值，计算得到第二类扩展点的坐标值；根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，计算得到第三类扩展点的坐标值；根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述第三类扩展点的坐标值，得到所述目标网格结构；其中，所述第一类扩展点为所述目标网格结构中，与所述第一类三角形中的第一扩展点对应的点；所述第二类扩展点为所述目标网格结构中，与所述第二类三角形中的第二扩展点对应的点，所述第三类扩展点为所述目标网格结构中除所述目标图像中的被美妆部位的轮廓特征点、所述第一类扩展点和所述第二类扩展点之外的其他点。可选的，所述第三类扩展点中的至少部分点的坐标值是采用平滑过渡或插值方法确定的。可选的，所述预设三角形还包括至少一个第三类三角形，其中，一个第三类三角形的顶点包括一个第三扩展点和目标集合中的其中两个点，所述第三扩展点为预先根据所述被美妆部位的轮廓设置的点，所述目标集合中包括所述第一类三角形的顶点和所述第二类三角形的顶点，以及所述被美妆部位的轮廓特征点中除去所述稳定点和所述开关点之外的其他点；所述根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，计算得到第三类扩展点的坐标值，包括：采用相似三角形算法，根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，以及所述配置文件中的第三类三角形的顶点的坐标值，计算得到所述第三类扩展点的坐标值。可选的，当所述被美妆部位为眼睛时，所述稳定点为两个眼角点，所述开关点为上眼皮轮廓的中点。根据本公开的第二方面，提供一种图像处理装置，包括：图像获取模块，被配置为获取包含目标被美妆部位的目标图像；坐标获取模块，被配置为获取所述目标被美妆部位的轮廓特征点在所述目标图像中的坐标值，以作为目标坐标值；网格结构获取模块，被配置为根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，以作为目标网格结构；图像绘制模块，被配置为根据所述目标网格结构，对所述目标被美妆部位进行美妆处理，得到美妆图像；其中，所述配置文件中包括被美妆部位的网格结构中的预设三角形以及所述预设三角形的顶点的坐标值，所述预设三角形包括至少一个第一类三角形和与所述第一类三角形对应的第二类三角形，一个第一类三角形的顶点包括两个稳定点和一个第一扩展点，一个第二类三角形的顶点包括与其对应的第一类三角形中的第一扩展点、一个开关点和一个第二扩展点；所述稳定点和所述开关点分别为在被美妆部位从第一状态变化至第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最小的一点和运动幅度最大的点，所述第一扩展点和所述第二扩展点为预先根据所述被美妆部位的轮廓设置的点。可选的，所述装置还包括：修改模块，被配置为响应于用户的第一操作，修改预先确定的所述配置文件中的其中一个第一扩展点的坐标值；保存模块，被配置为保存修改后的所述配置文件；所述网格结构获取模块具体被配置为：根据所述目标坐标值，以及修改后的所述配置文件，得到所述目标网格结构。可选的，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述装置还包括：第一计算模块，被配置为根据所述第二类三角形与其对应的目标三角形的相似关系，以及所述第二类三角形的顶点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值，计算所述目标点的坐标值；显示模块，被配置为根据所述目标点的坐标值以及所述第二扩展点的坐标值，显示从所述目标点指向与其对应的第二扩展点的方向；其中，与目标点对应的第二扩展点，为与目标点所属目标三角形对应的第二类三角形中的第二扩展点。可选的，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述第一操作为用户对目标界面上显示的一个目标点的坐标值的修改操作；所述修改模块包括：第一确定子模块，被配置为根据所述第一操作，确定参考点修改后的坐标值，所述参考点为所述第一操作针对的目标点；第一计算子模块，被配置为根据参考点所属的目标三角形，与该目标三角形对应的第二类三角形的相似关系，以及目标参数，计算与所述参考点所属的目标三角形对应的第二类三角形的第一扩展点修改后的坐标值；其中，所述目标参数包括所述参考点修改后的坐标值、被美妆部位处于所述第一状态时所述开关点所处位置上的点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值、与所述参考点所属目标三角形对应的第二类三角形的第二扩展点的坐标值。可选的，所述网格结构获取模块包括：第二计算子模块，被配置为采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的稳定点的坐标值，以及所述配置文件中的第一类三角形的顶点的坐标值，计算得到第一类扩展点的坐标值；第三计算子模块，被配置为采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的开关点的坐标值、所述第一类扩展点的坐标值以及所述配置文件中的第二类三角形的顶点的坐标值，计算得到第二类扩展点的坐标值；第四计算子模块，被配置为根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，计算得到第三类扩展点的坐标值；网格结构绘制子模块，被配置为根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述第三类扩展点的坐标值，得到所述目标网格结构；其中，所述第一类扩展点为所述目标网格结构中，与所述第一类三角形中的第一扩展点对应的点；所述第二类扩展点为所述目标网格结构中，与所述第二类三角形中的第二扩展点对应的点，所述第三类扩展点为所述目标网格结构中除所述目标图像中的被美妆部位的轮廓特征点、所述第一类扩展点和所述第二类扩展点之外的其他点。可选的，所述第三类扩展点中的至少部分点的坐标值是采用平滑过渡或插值方法确定的。可选的，所述预设三角形还包括至少一个第三类三角形，其中，一个第三类三角形的顶点包括一个第三扩展点和目标集合中的其中两个点，所述第三扩展点为预先根据所述被美妆部位的轮廓设置的点，所述目标集合中包括所述第一类三角形的顶点和所述第二类三角形的顶点，以及所述被美妆部位的轮廓特征点中除去所述稳定点和所述开关点之外的其他点；所述第四计算子模块具体被配置为：采用相似三角形算法，根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，以及所述配置文件中的第三类三角形的顶点的坐标值，计算得到所述第三类扩展点的坐标值。可选的，当所述被美妆部位为眼睛时，所述稳定点为两个眼角点，所述开关点为上眼皮轮廓的中点。根据本公开的第三方面，提供一种电子设备，包括：处理器；用于存储所述处理器可执行指令的存储器；其中，所述处理器被配置为执行以实现上述任一种所述的图像处理方法所执行的操作。根据本公开的第四方面，提供一种计算机可读存储介质，当所述存储介质中的指令由电子设备的处理器执行时，使得所述电子设备能够执行上述任一种所述的图像处理方法所执行的操作。根据本公开实施例的第五方面，提供根据本公开实施例的第五方面，提供一种计算机程序产品，包括一条或多条指令，该一条或多条指令可以由电子设备的处理器执行时，使得电子设备能够执行一种以实现如本公开提供的图像处理方法所执行的操作。与现有技术相比，本公开具有以下优点：本公开的实施例，采用两个稳定点、一个第一扩展点组成第一类三角形，一个第一扩展点、开关点和一个第二扩展点组成第二类三角形，即采用二重相似三角形构造组成被美妆部位的网格结构的三角形，形成配置文件，从而利于该配置文件，以及目标被美妆部位的轮廓特征点在目标图像中的坐标值，计算获得该目标被美妆部位的目标网格结构，进而根据该目标网格结构，对目标被美妆部位进行美妆处理，得到美妆图像。其中，第一类三角形中包括稳定点和第一扩展点，从而使得目标被美妆部位的状态变化，对第一扩展点的验算结果影响不大，而第二类三角形中包括第一扩展点、开关点和第二扩展点，则在对第二扩展点进行验算时，目标被美妆部位处于不同状态时，第二扩展点的验算结果的改变，取决于开关点在目标被美妆部位的不同状态的位置，由此可见，根据上述配置文件生成的目标网格结构，可以跟随目标被美妆部位状态的变化产生不同的变化，从而在目标被美妆部位的不同状态产生不同的美妆效果。由此可见，本公开的实施例，可以在目标被美妆部位的不同状态下产生不同的美妆效果，从而在一定程度上解决美妆效果过于刻板，或产生怪异弯折的问题。此处需要说明的是，配置文件中包括的点，与所要计算的上述目标网格结构中的点是一一对应的关系，则对配置文件中的一个扩展点进行验算，即为计算配置文件中的这个扩展点在目标网格结构中对应的点的坐标。上述说明仅是本公开技术方案的概述，为了能够更清楚了解本公开的技术手段，而可依照说明书的内容予以实施，并且为了让本公开的上述和其它目的、特征和优点能够更明显易懂，以下特举本公开的具体实施方式。附图说明通过阅读下文优选实施方式的详细描述，各种优点和益处对于本领域普通技术人员将变得清楚明了。附图仅用于示出优选实施方式，而并不认为是对本公开的限制。而且在整个附图中，用相同的参考符号表示相同的部件。在附图中：图1是利用现有技术中构造的网格结构在人眼不同状态的显示及美妆效果对比示意图；图2是本公开实施例一的图像处理方法的流程图；图3是本公开实施例二的图像处理方法的流程图；图4是本公开实施例中一个配置文件从设计到使用的流程示意图；图5是本公开实施例中一个第一类三角形和第二类三角形的设计流程示意图；图6是本公开实施例中针对眨眼眼角外伸的美妆效果设置的点位结构示意图；图7是本公开实施例中针对眨眼眼角上扬的美妆效果设置的点位结构示意图；图8是本公开实施例中一个配置文件中所形成的第一类三角形的示意图；图9是本公开实施例中一个配置文件中所形成的第二类三角形的示意图；图10是本公开实施例中一个配置文件中所形成的第三类三角形的示意图之一；图11是本公开实施例中一个配置文件中所形成的第三类三角形的示意图之二；图12是本公开实施例中一个目标点指向与其对应的第二扩展点的方向的显示示意图；图13是利用本公开实施例中的配置文件得到的网格结构在人眼不同状态的显示及美妆效果对比示意图；图14是本公开实施例三的图像处理装置的结构框图；图15是本公开实施例四的图像处理装置的结构框图；图16是本公开实施例五的电子设备的结构框图；图17是本公开实施例中已知三点坐标求解该三点组成三角形其中一个角的原理示意图；图18是本公开实施例中相似三角形算法原理示意图。具体实施方式这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本公开的一些方面相一致的装置和方法的例子。下面将参照附图更详细地描述本公开的示例性实施例。虽然附图中显示了本公开的示例性实施例，然而应当理解，可以以各种形式实现本公开而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更透彻地理解本公开，并且能够将本公开的范围完整的传达给本领域的技术人员。实施例一参照图2，示出了本公开实施例提供的一种图像处理方法，该图像处理方法可以包括以下步骤：步骤801：获取包含目标被美妆部位的目标图像。其中，目标图像可以为本地存储的图像，也可以为电子设备实时拍摄的图像，也可以为本地存储的视频文件中的其中一帧图像，也可以为电子设备实时拍摄的视频文件中的其中一帧图像。步骤802：获取所述目标被美妆部位的轮廓特征点在所述目标图像中的坐标值，以作为目标坐标值。其中，上述轮廓特征点为位于被美妆部位的轮廓上的点。步骤803：根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，以作为目标网格结构。其中，所述配置文件中包括被美妆部位的网格结构中的预设三角形以及所述预设三角形的顶点的坐标值，所述预设三角形包括至少一个第一类三角形和与所述第一类三角形对应的第二类三角形，一个第一类三角形的顶点包括两个稳定点和一个第一扩展点，一个第二类三角形的顶点包括与其对应的第一类三角形中的第一扩展点、一个开关点和一个第二扩展点；所述稳定点和所述开关点分别为在被美妆部位从第一状态变化至第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最小的一点和运动幅度最大的点。即所述稳定点为在被美妆部位从第一状态变化至第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最小的一点；所述开关点为在所述被美妆部位从所述第一状态变化至所述第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最大的点，所述第一扩展点和所述第二扩展点为预先根据所述被美妆部位的轮廓设置的点。由此可知，本公开的实施例中，配置文件中包括多个点，这多个点中包括被美妆部位的轮廓特征点，以及人工设置的点。例如，针对眼睛的配置文件中可包括如图8中所示的点39～50、点401～404、点481～484、点423～478，其中，图8中的点39～50为轮廓特征点，点401～404、点481～484、点423～478均为扩展点。其中，配置文件中包括的多个点按照一定的规则组成多个三角形。而组成三角形的规则，是预先确定的。其中，配置文件，在对被美妆部位进行美妆的过程中，作为生成网格结构的依据。具体的，利用一个已知的配置文件，对被美妆部位进行美妆时，首先需要获取被美妆部位的图像，然后检测该图像中被美妆部位的轮廓特征点，然后从这些轮廓特征点中选取与配置文件中包括的轮廓特征点对应的点，作为输入参数，进而利用该输入参数和配置文件，计算构成网格结构的扩展点，进而由输入参数所包括的所有轮廓特征点以及计算出的所有扩展点，绘制成网格结构。最后，利用绘制而成的网格结构，将预先绘制好的美化图片绘制到被美妆部位，从而实现对被美妆部位的美妆。其中，确定配置文件中的多个点组成三角形的规则的具体过程可如下所述：首先，确认应用场景，例如针对眼睛的美妆，在眨眼时，外眼角存在弯折角度的问题。在此问题中，运动场景是“眨眼”，要控制的区域是“外眼角”，则目标是得到一个随眨眼合理运动的点，可以称其为“最终点”。其次，为了得到最终点，需要生成一个中间点，可以称其为“杠杆点”，该杠杆点也是人工设置的点。其中，遵循相似三角形的计算规则，但验算它的两个AI点需要特殊选择，即需要选择在眨眼过程中位置相对稳定的点。这样可保证在整个运动过程中，杠杆点的位置是稳固的，便于进行后续处理。而在眨眼过程中，位于眼角的两个点的位置几乎不变，因而，这两个点是稳定点，即如图5中的点A1和A2即为稳定点，则图5中的点A1、A2、A组成一个第一类三角形。再次，还需要寻找到整个眨眼过程中，变化最明显的点，通常也是在轮廓特征点中寻找，该点的运动轨迹，可以称之为“开关路径”。其中，在眨眼过程中，眼部的“开关点”显然为上眼皮的中心点，该点在现实世界眨眼动作中，运动幅度最大。其中，希望“最终点”的运动轨迹与开关点在开关轨迹中运动节奏同步。最后，找到杠杆点和开关点之后，可以这两个作为相似三角形的输入参数，来生成最终点，如图5所示，点A、S、F组成一个三角形。此时这三个点，将类似于一个杠杆，一端运动另一端也做出相应的运动。最终点因此也具备了动态位置变化的特性，它将随开关点同步运动，如图5中，开关点从点S所处位置运动至点S`所处位置后，最终点则从点F所处位置移动到点F`所处位置。由上述可知，本公开的实施例中的配置文件，一个第一类三角形的第一扩展点，又作为了第二类三角形的顶点，因而，本发的实施例采用的是二重相似三角形。此外，需要说明的是，上述只是介绍了组成一个第一类三角形和与其对应的第二类三角形的过程。而采用上述相同的方法，可以得到多个第一类三角形，和与每一个第一类三角形对应的第二类三角形。例如，图8所示的针对眼睛的配置文件中，点401～404均为杠杆点、点481～484均为最终点，点42为开关点，则这个配置文件中的第一类三角形包括如图8中所示的虚线所连接的三角形，第二类三角形包括如图9中所示的虚线所连接的三角形。可选的，所述根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，包括：采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的稳定点的坐标值，以及所述配置文件中的第一类三角形的顶点的坐标值，计算得到第一类扩展点的坐标值；采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的开关点的坐标值、所述第一类扩展点的坐标值以及所述配置文件中的第二类三角形的顶点的坐标值，计算得到第二类扩展点的坐标值；根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，计算得到第三类扩展点的坐标值；根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述第三类扩展点的坐标值，得到所述目标网格结构；其中，所述第一类扩展点为所述目标网格结构中，与所述第一类三角形中的第一扩展点对应的点；所述第二类扩展点为所述目标网格结构中，与所述第二类三角形中的第二扩展点对应的点，所述第三类扩展点为所述目标网格结构中除所述目标图像中的被美妆部位的轮廓特征点、所述第一类扩展点和所述第二类扩展点之外的其他点。本公开的实施例中，配置文件中包括第一类三角形和第二类三角形，且第一类三角形的第一扩展点也是第二类三角形的一个顶点，因而，在利用本公开的实施例中的配置文件，计算目标网格结构的扩展点时，存在一个计算顺序，即首先验算第一类三角形的第一扩展点，其次验算第二类三角形的第二扩展点。具体的，例如图8所示的配置文件，则需要首先根据图8中虚线所示的三角形，验算点401～404，其次，根据图9中虚线所示的三角形，验算点481～484，再次，验算静态配置文件中的其他扩展点。其中，在验算静态配置文件中的其他扩展点的过程中，是基于前面过程中已知的点，来验算其他的扩展点。可选的，所述第三类扩展点中的至少部分点的坐标值是采用平滑过渡或插值方法确定的。其中，在对配置文件中的部分扩展点验算完毕之后，与之临近的相关扩展点，可以利用平滑过渡或差插值的方式生成，从而可以减少运算量，进而提升处理速度。可选的，所述预设三角形还包括至少一个第三类三角形，其中，一个第三类三角形的顶点包括一个第三扩展点和目标集合中的其中两个点，所述第三扩展点为预先根据所述被美妆部位的轮廓设置的点，所述目标集合中包括所述第一类三角形的顶点和所述第二类三角形的顶点，以及所述被美妆部位的轮廓特征点中除去所述稳定点和所述开关点之外的其他点；所述根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，计算得到第三类扩展点的坐标值，包括：采用相似三角形算法，根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，以及所述配置文件中的第三类三角形的顶点的坐标值，计算得到所述第三类扩展点的坐标值。由此可知，本公开的实施例中，一个配置文件中还可以包括由第三扩展点，以及被美妆部位的轮廓特征点、第一扩展点以及第二扩展点中其中的两个点组成的第三类三角形，例如图10和图11中虚线所示的三角形。具体的，配置文件中包括的点，与所要计算的上述目标网格结构中的点是一一对应的关系，且配置文件中包括的预设三角形，与所上述目标网格结构中包括的三角形一一对应且相似，则上述采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的稳定点的坐标值，以及所述配置文件中的第一类三角形的顶点的坐标值，计算得到第一类扩展点的坐标值的过程，具体如下所述：根据所述第一类三角形，与所述目标网格结构中与所述第一类三角形对应的三角形的相似关系，以及所述目标图像中的被美妆部位的轮廓特征点中的稳定点的坐标值、所述配置文件中的第一类三角形的顶点的坐标值，计算得到所述第一类扩展点的坐标值。同理，上述“采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的开关点的坐标值、所述第一类扩展点的坐标值以及所述配置文件中的第二类三角形的顶点的坐标值，计算得到第二类扩展点的坐标值”的过程，与上述“采用相似三角形算法，根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，以及所述配置文件中的第三类三角形的顶点的坐标值，计算得到所述第三类扩展点的坐标值”的过程，与此处计算得到第一类扩展点的具体过程相似，此处不再赘述。总之，如图18所示，对于相似三角形算法，需要使用5个已知点，其中三个点是前述配置文件中的点，此处我们将其命名为A、B，C。另外两个点是由AI模块提供，其值为屏幕坐标的值，此处将其命名A`、B`。A与A`、B与B`在网格结构中，表示同一个点。通过基本三角函数相关知识即可求出一点C`的值，满足△ABC∽△A`B`C`，其中，C`即为所要构建的网格结构的一个扩展点。其中，本公开的实施例中，配置文件中的预设三角形与上述目标网格结构中与预设三角形对应的三角形相似，二者顶点一一对应，即二者相似存在唯一的方向，因而计算得到的扩展点是唯一的。步骤804：根据所述目标网格结构，对所述目标被美妆部位进行美妆处理，得到美妆图像。由上述可知，本公开的实施例，采用两个稳定点、一个第一扩展点组成第一类三角形，一个第一扩展点、开关点和一个第二扩展点组成第二类三角形，即采用二重相似三角形构造组成被美妆部位的网格结构的三角形，形成配置文件，从而利于该配置文件，以及目标被美妆部位的轮廓特征点在目标图像中的坐标值，计算获得该目标被美妆部位的目标网格结构，进而根据该目标网格结构，对目标被美妆部位进行美妆处理，得到美妆图像。其中，第一类三角形中包括稳定点和第一扩展点，从而使得目标被美妆部位的状态变化，对第一扩展点的验算结果影响不大，而第二类三角形中包括第一扩展点、开关点和第二扩展点，则在对第二扩展点进行验算时，目标被美妆部位处于不同状态时，第二扩展点的验算结果的改变，取决于开关点在目标被美妆部位的不同状态的位置，由此可见，根据上述配置文件生成的目标网格结构，可以跟随目标被美妆部位状态的变化产生不同的变化，从而在目标被美妆部位的不同状态产生不同的美妆效果。由此可见，本公开的实施例，可以在目标被美妆部位的不同状态下产生不同的美妆效果，从而在一定程度上解决美妆效果过于刻板，或产生怪异弯折的问题。实施例二在该实施例中，需要提前说明的是，如图4所示，一个配置文件首先由程序开发人员预先设计完成，然后提供给美妆制作人员，其中，美妆制作人员可以对该配置文件进行修改，以调试出可以呈现不同美妆效果的配置文件，进而使得调试好的配置文件对应的美妆效果可以发布给体验用户进行使用。参照图3，示出了本公开实施例提供的一种图像处理方法，该图像处理方法可以包括以下步骤：步骤901：响应于用户的第一操作，修改预先确定的配置文件中的其中一个第一扩展点的坐标值。其中，所述配置文件中包括被美妆部位的网格结构中的预设三角形以及所述预设三角形的顶点的坐标值，所述预设三角形包括至少一个第一类三角形和与所述第一类三角形对应的第二类三角形，一个第一类三角形的顶点包括两个稳定点和一个第一扩展点，一个第二类三角形的顶点包括与其对应的第一类三角形中的第一扩展点、一个开关点和一个第二扩展点；所述稳定点和所述开关点分别为在被美妆部位从第一状态变化至第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最小的一点和运动幅度最大的点，所述第一扩展点和所述第二扩展点为预先根据所述被美妆部位的轮廓设置的点。对于配置文件的相关说明，以及确定配置文件中的多个点组成三角形的规则的具体过程，可参见实施例一的相关描述，此处不再赘述。另外，第一操作用于修改预先确定的配置文件中的其中一个第一扩展点。而本公开的实施例中，一个配置文件中可以包括多个第一类三角形，因而一个配置文件中可以包括多个第一扩展点，而每一个第一扩展点都可以进行修改，从而可以针对被美妆部位的不同部分的美妆效果进行调整。例如图8中所示的点401～404均是第一扩展点，则可以改变点401～404的每一个点的具体坐标值，从而改变不同部分的美妆效果，例如可以修改点401的坐标值，以改变图8中H箭头指示的眼角处的美妆效果。例如修改点401的坐标值后得到的配置文件，在眼睛睁开和闭合的两种状态下，生成的网格结构如图13所示，则这两个网格结构对眼睛所产生的美妆效果可如图13所示，其中，睁眼时，图13中所示的P位置处的美妆效果有一个上翘的效果，且闭眼时，图13中所示的Q位置处的美妆效果则调整为上翘，而不再向下弯折。即通过图1与图13的对比可知，现有技术的美妆效果在闭眼时眼角弯折问题十分明显，而采用本公开实施例的图像处理方法，整体更加平滑，弯折效果较好。步骤902：保存修改后的所述配置文件。步骤903：获取包含目标被美妆部位的目标图像。其中，目标图像可以为本地存储的图像，也可以为电子设备实时拍摄的图像，也可以为本地存储的视频文件中的其中一帧图像，也可以为电子设备实时拍摄的视频文件中的其中一帧图像。步骤904：获取所述目标被美妆部位的轮廓特征点在所述目标图像中的坐标值，以作为目标坐标值。其中，上述轮廓特征点为位于被美妆部位的轮廓上的点。步骤905：根据所述目标坐标值，以及修改后的所述配置文件，得到所述目标被美妆部位的网格结构，以作为目标网格结构。步骤906：根据所述目标网格结构，对所述目标被美妆部位进行美妆处理，得到美妆图像。由上述可知，在确定出配置文件之后，美妆制作人员可以通过修改配置文件中的第一扩展点的坐标值，产生对应不同美妆效果的配置文件，并进行保存，从而后续可以直接利用修改后的各种不同美妆效果的配置文件，对包含被美妆部位的图像进行处理。可选的，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述获取包含目标被美妆部位的目标图像之前，所述方法还包括：根据所述第二类三角形与其对应的目标三角形的相似关系，以及所述第二类三角形的顶点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值，计算所述目标点的坐标值；根据所述目标点的坐标值以及所述第二扩展点的坐标值，显示从所述目标点指向与其对应的第二扩展点的方向；其中，与目标点对应的第二扩展点，为与目标点所属目标三角形对应的第二类三角形中的第二扩展点。此处需要说明的是，目标点的坐标值为，被美妆部位处于第二状态时，与该目标点对应的第二扩展点所处位置的坐标值。即被美妆部位由第一状态变化为第二状态，则第二扩展点跟随开关点由第一位置移动到第二位置，处于第二位置上的点即形成一个目标点。由此可知，配置文件中包括的预设三角形组成的被美妆部位的网格结构，可以与被美妆部位的第一状态相匹配，则从目标点指向与其对应的第二扩展点的方向，用于表示被美妆部位由第一状态变化为第二状态的过程中，第二扩展点的运动轨迹或者运动趋势。其中，由于即第一扩展点是相对稳定的，基本不需要考虑被美妆部位的状态变化时它的微弱运动。因此第二扩展点的运动则取决于开关点的运动，如图6所示，可以预先设想出开关点的运动终点为点S`，则可以计算第二扩展点的运动终点F`，从而得到FF`这样一条线段，即第二扩展点运动轨迹或者运动趋势。另外，通过调节第一扩展点的位置，可以实现出第二扩展点的不同运动趋势。例如，针对眨眼的应用场景，通过修改第一扩展点的坐标值，可以得到如图6和图7所示的两个点位结构，分别对应了“眨眼眼角外伸”、“眨眼眼角上扬”两种效果。其中眼角上扬效果是符合现实世界中的眼角运动效果的，有很重要的实用意义。另外，一些与现世界不符的效果，也可以做出特殊效果，例如眼角下坠会产生一种很“弱势”的感觉。在特定需求中也具有实用意义。综上所述，本公开的实施例中，一个配置文件中可以包括多个第二类三角形，而每一个第二类三角形的第二扩展点在开关点从起始位置运动至终止位置时，都会随之运动，从而可以得到每一个第二类三角形的第二扩展点的运动方向，或运动趋势。例如图12所示的配置文件中，可以修改A点的坐标值之后，显示出F指向F`的箭头，则可以表示出由点F跟随开关点从点S的位置运动到点S`的位置的运动趋势。即本公开的实施例，可以实时显示配置文件中的第二扩展点，跟随开关点的运动趋势。其中，配置文件中的点与网格结构中的点是一一对应的关系，因而，配置文件中的第二扩展点，跟随开关点的运动趋势，可以表示网格结构中与第二扩展点对应的点，跟随开关点的运动趋势，从而可以使得美妆制作人员能够及时了解到修改一个第一扩展点之后，对应生成的网格结构的变化情况，进而对修改这个第一扩展点所引起的美妆效果的变化有一个较好的预估，即修改后的第一扩展点所属第二类三角形的第二扩展点，跟随开关点的运动趋势的显示，为美妆制作人员提供了调整不同美妆效果的依据。可选的，可以在显示上述目标点指向与其对应的第二扩展点的方向的界面上，设置一个保存按钮，当美妆制作人员，通过前面显示的从目标点指向与其对应的第二扩展点的方向，预估修改后的配置文件可以达到所要的美妆效果时，可以点击该保存按钮，从而可以将修改后的配置文件保存下来。可选的，所述第一操作为用户对显示的一个第一扩展点的第一拖动操作；所述响应于用户的第一操作，修改预先确定的所述配置文件中的其中一个第一扩展点的坐标值，包括：获取所述第一拖动操作的终止位置的坐标值；将所述拖动操作的终止位置的坐标值，确定为被拖动的第一扩展点修改后的坐标值。由此可知，本公开的实施例中，可以显示出每一个第一扩展点，则美妆制作人员可以拖动其中任何一个第一扩展点，来实现对该第一扩展点的坐标值的修改，即所显示的第一扩展点被拖动到哪个位置，哪个位置处的坐标值即为修改后的第一扩展点的坐标值，极大的方便了美妆制作人员对第一扩展点的修改。可选的，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述第一操作为用户对目标界面上显示的一个目标点的坐标值的修改操作；所述响应于用户的第一操作，修改预先确定的所述配置文件中的其中一个第一扩展点的坐标值，包括：根据所述第一操作，确定参考点修改后的坐标值，所述参考点为所述第一操作针对的目标点；根据参考点所属的目标三角形，与该目标三角形对应的第二类三角形的相似关系，以及目标参数，计算与所述参考点所属的目标三角形对应的第二类三角形的第一扩展点修改后的坐标值；其中，所述目标参数包括所述参考点修改后的坐标值、被美妆部位处于所述第一状态时所述开关点所处位置上的点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值、与所述参考点所属目标三角形对应的第二类三角形的第二扩展点的坐标值。本公开的实施例中，修改第一扩展点的坐标值的最终目的是改变这个第一扩展点所属第二类三角形的第二扩展点，跟随开关点的运动趋势，即如图12所示，修改点A的坐标值的目的就是改变F指向F`的方向，而点F是配置文件中设置好的一个点，即其为已知点，因而想要改变点F指向点F’的方向，还可以改变点F`的位置，因而，本公开的实施例中，还可以显示出点F’，使得美妆制作人员可以直接拖动点F`点，使得对点F指向点F’的方向的调整更加灵活。然而，此种方式需要基于点F`反推第一扩展点A的位置，需要注意的是这种逆向求解的方程组是二元二次方程组，存在无解的情况，需要合理处理。具体地，在基于点F`反推第一扩展点A的位置之前，可按如下过程推导一个计算公式。如图17所示，已知三点坐标：D、B、C，则在求解夹角∠BDC时，首先，基于D点，做X轴的平行线，并在其正向远端取点E，从而得到∠BDC＝∠EDB-∠EDC；其次，分别基于B、C两点做DE的垂线，得到B`、C`两点，其中B`的坐标为，C`的坐标为；再次则可以根据图17以及前面已知点的坐标进行如下计算：cos∠BDC＝cos＝cos∠EDB*cos∠EDC+sin∠EDB*sin∠EDC＝|DB`|/|DB|*|DC`|/|DC|+|BB`|/|DB|*|CC`|/|DC|＝/|DB||DC|经过上述分析，则可以得到目标公式：cos∠BDC＝/|DB||DC|。此时，则可以利用上述公式基于点F`反推第一扩展点A的位置。即如图12所示，由于△F`AS`∽△FAS，则有∠F`AS`＝∠FAS，∠F`S`A＝∠FSA，从而可以得到cos∠F`AS`＝cos∠FAS，cos∠F`S`A＝cos∠FSA，则其中点A的坐标未知，设其为，而F、F`、S、S`的坐标均为已知，则可以依据cos∠F`AS`＝cos∠FAS，cos∠F`S`A＝cos∠FSA，以及上述目标公式得到关于x、y的二元二次方程组，则可以基于该二元二次方程组求解得到点A的坐标。其中，需要说明的是，基于二元二次方程组的特性，在不同判别式情况下其解的个数可能存在0个、1个、2个、无穷多个解的情况。因此，基于点F`反推杠杆点A的位置时，可能存在无解的情况。可选的，当所述被美妆部位为眼睛时，所述稳定点为两个眼角点，所述开关点为上眼皮轮廓的中点。即本公开实施例中的图像处理方法可以应用于眼睛的美妆，其中需要说明的是，本公开实施例中的图像处理方法并不限于只应用于眼睛的美妆，还可是人脸其他部位的美妆。此外需要说明的是，本公开实施例中的配置文件，一个三角形的扩展点，又作为了另一个三角形的顶点，因而，本发的实施例采用的是二重相似三角形。而二重相似三角形可扩展为更多重的相似三角形，其原理一致，此处不再赘述。综上所述，本公开的实施例，使用相似三角形算法的多重组合，提供了美妆可变弯折角度的完整实现方案，使美妆效果更自然，并且提供了一套高效实现二重相似三角形算法配置的工具实现方案，可大幅减轻配置难度。此外，针对扩展点的设置，可以通过编码方式为特定的点开发构建逻辑，变化会非常灵活，且能效果表现高度依赖代码逻辑，可以得到更奇特、更自然的效果。但此种方式工作量较大，效果灵活但制作不灵活。但此种方式可以与本公开实施例中所采用的二重相似三角形方案及常见的基本相似三角形方案混合使用。实施例三参照图14，示出了本公开实施例提供的一种图像处理装置，该图像处理装置200可以包括：图像获取模块2001，被配置为获取包含目标被美妆部位的目标图像；坐标获取模块2002，被配置为获取所述目标被美妆部位的轮廓特征点在所述目标图像中的坐标值，以作为目标坐标值；网格结构获取模块2003，被配置为根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，以作为目标网格结构；图像绘制模块2004，被配置为根据所述目标网格结构，对所述目标被美妆部位进行美妆处理，得到美妆图像；其中，所述配置文件中包括被美妆部位的网格结构中的预设三角形以及所述预设三角形的顶点的坐标值，所述预设三角形包括至少一个第一类三角形和与所述第一类三角形对应的第二类三角形，一个第一类三角形的顶点包括两个稳定点和一个第一扩展点，一个第二类三角形的顶点包括与其对应的第一类三角形中的第一扩展点、一个开关点和一个第二扩展点；所述稳定点和所述开关点分别为在被美妆部位从第一状态变化至第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最小的一点和运动幅度最大的点，所述第一扩展点和所述第二扩展点为预先根据所述被美妆部位的轮廓设置的点。由上述可知，本公开的实施例，采用两个稳定点、一个第一扩展点组成第一类三角形，一个第一扩展点、开关点和一个第二扩展点组成第二类三角形，即采用二重相似三角形构造组成被美妆部位的网格结构的三角形，形成配置文件，从而利于该配置文件，以及目标被美妆部位的轮廓特征点在目标图像中的坐标值，计算获得该目标被美妆部位的目标网格结构，进而根据该目标网格结构，对目标被美妆部位进行美妆处理，得到美妆图像。其中，第一类三角形中包括稳定点和第一扩展点，从而使得目标被美妆部位的状态变化，对第一扩展点的验算结果影响不大，而第二类三角形中包括第一扩展点、开关点和第二扩展点，则在对第二扩展点进行验算时，目标被美妆部位处于不同状态时，第二扩展点的验算结果的改变，取决于开关点在目标被美妆部位的不同状态的位置，由此可见，根据上述配置文件生成的目标网格结构，可以跟随目标被美妆部位状态的变化产生不同的变化，从而在目标被美妆部位的不同状态产生不同的美妆效果。由此可见，本公开的实施例，可以在目标被美妆部位的不同状态下产生不同的美妆效果，从而在一定程度上解决美妆效果过于刻板，或产生怪异弯折的问题。实施例四参照图15，示出了本公开实施例提供的一种图像处理装置，该图像处理装置210可以包括：图像获取模块2101，被配置为获取包含目标被美妆部位的目标图像；坐标获取模块2102，被配置为获取所述目标被美妆部位的轮廓特征点在所述目标图像中的坐标值，以作为目标坐标值；网格结构获取模块2103，被配置为根据所述目标坐标值，以及预先确定的配置文件，得到所述目标被美妆部位的网格结构，以作为目标网格结构；图像绘制模块2104，被配置为根据所述目标网格结构，对所述目标被美妆部位进行美妆处理，得到美妆图像；其中，所述配置文件中包括被美妆部位的网格结构中的预设三角形以及所述预设三角形的顶点的坐标值，所述预设三角形包括至少一个第一类三角形和与所述第一类三角形对应的第二类三角形，一个第一类三角形的顶点包括两个稳定点和一个第一扩展点，一个第二类三角形的顶点包括与其对应的第一类三角形中的第一扩展点、一个开关点和一个第二扩展点；所述稳定点和所述开关点分别为在被美妆部位从第一状态变化至第二状态的过程中，所述被美妆部位的轮廓特征点中运动幅度最小的一点和运动幅度最大的点，所述第一扩展点和所述第二扩展点为预先根据所述被美妆部位的轮廓设置的点。可选的，所述装置还包括：修改模块2105，被配置为响应于用户的第一操作，修改预先确定的所述配置文件中的其中一个第一扩展点的坐标值；保存模块2106，被配置为保存修改后的所述配置文件；所述网格结构获取模块2103具体被配置为：根据所述目标坐标值，以及修改后的所述配置文件，得到所述目标网格结构。可选的，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述装置还包括：第一计算模块2107，被配置为根据所述第二类三角形与其对应的目标三角形的相似关系，以及所述第二类三角形的顶点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值，计算所述目标点的坐标值；显示模块2108，被配置为根据所述目标点的坐标值以及所述第二扩展点的坐标值，显示从所述目标点指向与其对应的第二扩展点的方向；其中，与目标点对应的第二扩展点，为与目标点所属目标三角形对应的第二类三角形中的第二扩展点。可选的，所述第二类三角形中的开关点的坐标值为，被美妆部位处于所述第一状态时，所述开关点所处位置处的坐标值，其中，一个第二类三角形存在一个与其对应的目标三角形，所述目标三角形的顶点包括与其对应的第二类三角形中的第一扩展点、被美妆部位处于所述第二状态时所述开关点所处位置上的点和目标点，所述第二类三角形与其对应的所述目标三角形相似；所述第一操作为用户对目标界面上显示的一个目标点的坐标值的修改操作；所述修改模块2105包括：第一确定子模块21051，被配置为根据所述第一操作，确定参考点修改后的坐标值，所述参考点为所述第一操作针对的目标点；第一计算子模块21052，被配置为根据参考点所属的目标三角形，与该目标三角形对应的第二类三角形的相似关系，以及目标参数，计算与所述参考点所属的目标三角形对应的第二类三角形的第一扩展点修改后的坐标值；其中，所述目标参数包括所述参考点修改后的坐标值、被美妆部位处于所述第一状态时所述开关点所处位置上的点的坐标值、被美妆部位处于所述第二状态时所述开关点所处位置上的点的坐标值、与所述参考点所属目标三角形对应的第二类三角形的第二扩展点的坐标值。可选的，所述网格结构获取模块2103包括：第二计算子模块21031，被配置为采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的稳定点的坐标值，以及所述配置文件中的第一类三角形的顶点的坐标值，计算得到第一类扩展点的坐标值；第三计算子模块21032，被配置为采用相似三角形算法，根据所述目标图像中的被美妆部位的轮廓特征点中的开关点的坐标值、所述第一类扩展点的坐标值以及所述配置文件中的第二类三角形的顶点的坐标值，计算得到第二类扩展点的坐标值；第四计算子模块21033，被配置为根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，计算得到第三类扩展点的坐标值；网格结构绘制子模块21034，被配置为根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述第三类扩展点的坐标值，得到所述目标网格结构；其中，所述第一类扩展点为所述目标网格结构中，与所述第一类三角形中的第一扩展点对应的点；所述第二类扩展点为所述目标网格结构中，与所述第二类三角形中的第二扩展点对应的点，所述第三类扩展点为所述目标网格结构中除所述目标图像中的被美妆部位的轮廓特征点、所述第一类扩展点和所述第二类扩展点之外的其他点。可选的，所述第三类扩展点中的至少部分点的坐标值是采用平滑过渡或插值方法确定的。可选的，所述预设三角形还包括至少一个第三类三角形，其中，一个第三类三角形的顶点包括一个第三扩展点和目标集合中的其中两个点，所述第三扩展点为预先根据所述被美妆部位的轮廓设置的点，所述目标集合中包括所述第一类三角形的顶点和所述第二类三角形的顶点，以及所述被美妆部位的轮廓特征点中除去所述稳定点和所述开关点之外的其他点；所述第四计算子模块21033具体被配置为：采用相似三角形算法，根据所述第一类扩展点的坐标值、所述第二类扩展点的坐标值和所述目标坐标值，以及所述配置文件中的第三类三角形的顶点的坐标值，计算得到所述第三类扩展点的坐标值。可选的，当所述被美妆部位为眼睛时，所述稳定点为两个眼角点，所述开关点为上眼皮轮廓的中点。由上述可知，本公开的实施例，采用两个稳定点、一个第一扩展点组成第一类三角形，一个第一扩展点、开关点和一个第二扩展点组成第二类三角形，即采用二重相似三角形构造组成被美妆部位的网格结构的三角形，形成配置文件，从而利于该配置文件，以及目标被美妆部位的轮廓特征点在目标图像中的坐标值，计算获得该目标被美妆部位的目标网格结构，进而根据该目标网格结构，对目标被美妆部位进行美妆处理，得到美妆图像。其中，第一类三角形中包括稳定点和第一扩展点，从而使得目标被美妆部位的状态变化，对第一扩展点的验算结果影响不大，而第二类三角形中包括第一扩展点、开关点和第二扩展点，则在对第二扩展点进行验算时，目标被美妆部位处于不同状态时，第二扩展点的验算结果的改变，取决于开关点在目标被美妆部位的不同状态的位置，由此可见，根据上述配置文件生成的目标网格结构，可以跟随目标被美妆部位状态的变化产生不同的变化，从而在目标被美妆部位的不同状态产生不同的美妆效果。由此可见，本公开的实施例，可以在目标被美妆部位的不同状态下产生不同的美妆效果，从而在一定程度上解决美妆效果过于刻板，或产生怪异弯折的问题。关于上述实施例中的装置，其中各个模块执行操作的具体方式已经在有关该方法的实施例中进行了详细描述，此处将不做详细阐述说明。实施例五参照图16，示出了本公开提供的一种电子设备的结构框图。本公开的电子设备可以包括：存储器、处理器及存储在存储器上并可在处理器上运行的用于确定动作执行的程序，用于确定动作执行程序被处理器执行时实现本公开中所述的任意一种图像处理方法的步骤。图16是根据一示例性实施例示出的一种电子设备2200的框图。例如，电子设备2200可以是移动电话，计算机，数字广播电子设备，消息收发设备，游戏控制台，平板设备，医疗设备，健身设备，个人数字助理等。参照图16，电子设备2200可以包括以下一个或多个组件：处理组件2202，存储器2204，电源组件2206，多媒体组件2208，音频组件2210，输入/输出的接口2212，传感器组件2214，以及通信组件2216。处理组件2202通常控制装置2200的整体操作，诸如与显示，电话呼叫，数据通信，相机操作和记录操作相关联的操作。处理组件2202可以包括一个或多个处理器2220来执行指令，以完成上述图像处理的方法的全部或部分步骤。此外，处理组件2202可以包括一个或多个模块，便于处理组件2202和其他组件之间的交互。例如，处理部件2202可以包括多媒体模块，以方便多媒体组件2208和处理组件2202之间的交互。存储器2204被配置为存储各种类型的数据以支持在电子设备2200的操作。这些数据的示例包括用于在电子设备2200上操作的任何应用程序或方法的指令，联系人数据，电话簿数据，消息，图片，视频等。存储器2204可以由任何类型的易失性或非易失性存储设备或者它们的组合实现，如静态随机存取存储器，电可擦除可编程只读存储器，可擦除可编程只读存储器，可编程只读存储器，只读存储器，磁存储器，快闪存储器，磁盘或光盘。电源组件2206为电子设备2200的各种组件提供电力。电源组件2206可以包括电源管理系统，一个或多个电源，及其他与为电子设备2200生成、管理和分配电力相关联的组件。多媒体组件2208包括在所述电子设备2200和用户之间的提供一个输出接口的屏幕。在一些实施例中，屏幕可以包括液晶显示器和触摸面板。如果屏幕包括触摸面板，屏幕可以被实现为触摸屏，以接收来自用户的输入信号。触摸面板包括一个或多个触摸传感器以感测触摸、滑动和触摸面板上的手势。所述触摸传感器可以不仅感测触摸或滑动动作的边界，而且还检测与所述触摸或滑动操作相关的持续时间和压力。在一些实施例中，多媒体组件2208包括一个前置摄像头和/或后置摄像头。当电子设备2200处于操作模式，如拍摄模式或视频模式时，前置摄像头和/或后置摄像头可以接收外部的多媒体数据。每个前置摄像头和后置摄像头可以是一个固定的光学透镜系统或具有焦距和光学变焦能力。音频组件2210被配置为输出和/或输入音频信号。例如，音频组件2210包括一个麦克风，当电子设备2200处于操作模式，如呼叫模式、记录模式和语音识别模式时，麦克风被配置为接收外部音频信号。所接收的音频信号可以被进一步存储在存储器2204或经由通信组件2216发送。在一些实施例中，音频组件810还包括一个扬声器，用于输出音频信号。I/O接口2212为处理组件2202和外围接口模块之间提供接口，上述外围接口模块可以是键盘，点击轮，按钮等。这些按钮可包括但不限于：主页按钮、音量按钮、启动按钮和锁定按钮。传感器组件2214包括一个或多个传感器，用于为电子设备2200提供各个方面的状态评估。例如，传感器组件2214可以检测到电子设备2200的打开/关闭状态，组件的相对定位，例如所述组件为电子设备2200的显示器和小键盘，传感器组件2214还可以检测电子设备2200或电子设备2200一个组件的位置改变，用户与电子设备2200接触的存在或不存在，装置2200方位或加速/减速和电子设备2200的温度变化。传感器组件2214可以包括接近传感器，被配置用来在没有任何的物理接触时检测附近物体的存在。传感器组件2214还可以包括光传感器，如CMOS或CCD图像传感器，用于在成像应用中使用。在一些实施例中，该传感器组件2214还可以包括加速度传感器，陀螺仪传感器，磁传感器，压力传感器或温度传感器。通信组件2216被配置为便于电子设备2200和其他设备之间有线或无线方式的通信。电子设备2200可以接入基于通信标准的无线网络，如WiFi，2G或3G，或它们的组合。在一个示例性实施例中，通信部件2216经由广播信道接收来自外部广播管理系统的广播信号或广播相关信息。在一个示例性实施例中，所述通信部件2216还包括近场通信模块，以促进短程通信。例如，在NFC模块可基于射频识别技术，红外数据协会技术，超宽带技术，蓝牙技术和其他技术来实现。在示例性实施例中，电子设备2200可以被一个或多个应用专用集成电路、数字信号处理器、数字信号处理设备、可编程逻辑器件、现场可编程门阵列、控制器、微控制器、微处理器或其他电子元件实现，用于执行本公开中所述的任意一种图像处理方法。在示例性实施例中，还提供了一种包括指令的计算机可读存储介质，例如包括指令的存储器2204，上述指令可由电子设备2200的处理器2220执行以完成上述图像处理方法。例如，所述计算机可读存储介质可以是ROM、随机存取存储器、CD-ROM、磁带、软盘和光数据存储设备等。当存储介质中的指令由电子设备的处理器执行时，使得电子设备能够执行本公开中所述的任意一种图像处理方法的步骤。对于装置实施例而言，由于其与方法实施例基本相似，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。在此提供的信息提取方案不与任何特定计算机、虚拟系统或者其它设备固有相关。各种通用系统也可以与基于在此的示教一起使用。根据上面的描述，构造具有本公开方案的系统所要求的结构是显而易见的。此外，本公开也不针对任何特定编程语言。应当明白，可以利用各种编程语言实现在此描述的本公开的内容，并且上面对特定语言所做的描述是为了披露本公开的最佳实施方式。在此处所提供的说明书中，说明了大量具体细节。然而，能够理解，本公开的实施例可以在没有这些具体细节的情况下实践。在一些实例中，并未详细示出公知的方法、结构和技术，以便不模糊对本说明书的理解。类似地，应当理解，为了精简本公开并帮助理解各个发明方面中的一个或多个，在上面对本公开的示例性实施例的描述中，本公开的各个特征有时被一起分组到单个实施例、图、或者对其的描述中。然而，并不应将该公开的方法解释成反映如下意图：即所要求保护的本公开要求比在每个权利要求中所明确记载的特征更多的特征。更确切地说，如权利要求书所反映的那样，发明方面在于少于前面公开的单个实施例的所有特征。因此，遵循具体实施方式的权利要求书由此明确地并入该具体实施方式，其中每个权利要求本身都作为本公开的单独实施例。本领域那些技术人员可以理解，可以对实施例中的设备中的模块进行自适应性地改变并且把它们设置在与该实施例不同的一个或多个设备中。可以把实施例中的模块或单元或组件组合成一个模块或单元或组件，以及此外可以把它们分成多个子模块或子单元或子组件。除了这样的特征和/或过程或者单元中的至少一些是相互排斥之外，可以采用任何组合对本说明书中公开的所有特征以及如此公开的任何方法或者设备的所有过程或单元进行组合。除非另外明确陈述，本说明书中公开的每个特征可以由提供相同、等同或相似目的的替代特征来代替。此外，本领域的技术人员能够理解，尽管在此所述的一些实施例包括其它实施例中所包括的某些特征而不是其它特征，但是不同实施例的特征的组合意味着处于本公开的范围之内并且形成不同的实施例。例如，在权利要求书中，所要求保护的实施例的任意之一都可以以任意的组合方式来使用。本公开的各个部件实施例可以以硬件实现，或者以在一个或者多个处理器上运行的软件模块实现，或者以它们的组合实现。本领域的技术人员应当理解，可以在实践中使用微处理器或者数字信号处理器来实现根据本公开的信息提取方案中的一些或者全部部件的一些或者全部功能。本公开还可以实现为用于执行这里所描述的方法的一部分或者全部的设备或者装置程序。这样的实现本公开的程序可以存储在计算机可读介质上，或者可以具有一个或者多个信号的形式。这样的信号可以从因特网网站上下载得到，或者在载体信号上提供，或者以任何其他形式提供。应该注意的是上述实施例对本公开进行说明而不是对本公开进行限制，并且本领域技术人员在不脱离所附权利要求的范围的情况下可设计出替换实施例。在权利要求中，不应将位于括号之间的任何参考符号构造成对权利要求的限制。单词“包含”不排除存在未列在权利要求中的元件或步骤。位于元件之前的单词“一”或“一个”不排除存在多个这样的元件。本公开可以借助于包括有若干不同元件的硬件以及借助于适当编程的计算机来实现。在列举了若干装置的单元权利要求中，这些装置中的若干个可以是通过同一个硬件项来具体体现。单词第一、第二、以及第三等的使用不表示任何顺序。可将这些单词解释为名称。
