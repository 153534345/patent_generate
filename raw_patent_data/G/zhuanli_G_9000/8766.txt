标题title
安全监控装置、包括其的车辆及相应的方法、设备和介质
摘要abst
提出安全监控装置、包括其的车辆及相应的方法、设备和介质。根据本发明，对车辆自动驾驶系统已生成但尚未执行的至少一种自动驾驶命令采样以对于每种命令获得一命令矢量；利用神经网络由基于获得的命令矢量生成的一输入矢量得到分别表示该自动驾驶命令是安全的可能性和是危险的可能性的安全值和危险值；基于安全值和危险值计算危险分使得危险值相对于安全值越大危险分越高；仅当危险分不大于阈值时将命令传输至车辆的执行单元。由此，可避免或降低危险的自动驾驶命令被执行的风险及与此相关的后果、提高安全性，另外可通过根据驾驶员对利用本发明的自动驾驶系统提供的控制和警示作出的反馈来优化神经网络，实现系统对不同驾驶风格和习惯的自适应。
权利要求书clms
1.一种用于车辆的安全监控装置，包括：获取单元，被配置为：在触发条件满足的情况下，对预定长度的采样时间段内来自所述车辆的生成自动驾驶命令的命令生成单元的至少一种感兴趣命令中的每种进行采样以对于每种感兴趣命令获得一个相应的命令矢量，其中对于每种感兴趣命令：相应的命令矢量由采样得到的多个该感兴趣命令样本的序列形成，所述多个该感兴趣命令样本在所述序列中按它们被采样的时间顺序排列；分析单元，被配置为：至少基于获得的各对应于所述至少一种感兴趣命令的至少一个命令矢量生成一个输入矢量，利用经训练的神经网络由所述输入矢量得到一个输出矢量，所述输出矢量包括一个安全值和一个危险值，所述安全值和危险值分别表示所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令是安全的可能性和是危险的可能性；计算单元，被配置为基于所述安全值和危险值计算所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令的危险分，使得所述危险值相对于所述安全值越大，所述危险分越高；控制单元，被配置为：仅当所述危险分不大于一阈值时，将所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令中的每种传输至所述车辆的相应执行单元。2.根据权利要求1所述的安全监控装置，其中以一预定采样率进行所述采样，其中所述神经网络具有用于接收所述输入矢量作为其输入的输入层，所述输入层的大小至少部分地基于所述预定长度、所述预定采样率和所述至少一种感兴趣命令包括的命令种类的数量。3.根据权利要求1所述的安全监控装置，其中，所述危险分等于所述危险值除以所述安全值和危险值之和。4.根据权利要求1所述的安全监控装置，其中，所述分析单元被配置为：对于每种感兴趣命令：计算相应的命令矢量所包括的多个该感兴趣命令样本的平均值和标准偏差，通过将每个该感兴趣命令样本减去所述平均值得到的差除以所述标准偏差得到与该感兴趣命令样本对应的处理后命令样本，通过将相应的命令矢量中的每个该感兴趣命令样本替换成对应的处理后命令样本获得一处理后命令矢量；至少将获得的各对应于所述至少一种感兴趣命令的至少一个处理后命令矢量相连接以生成所述输入矢量。5.根据权利要求1所述的安全监控装置，其中，所述控制单元还被配置为：检测所述车辆的人类驾驶员对所述控制单元传输或不传输所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令的控制和/或所述控制单元触发的对所述人类驾驶员的警示的反馈；以及，当与所述反馈相关联的所述人类驾驶员的操作或行为与所述控制和/或警示所指示的人类驾驶员的操作或行为不一致时，根据所述反馈对所述输入矢量进行标记，并记录所述输入矢量及其标记结果作为一训练实例用于进一步训练所述神经网络，其中，所述控制单元被配置为：当所述危险分大于一小于所述阈值的安全阈值时触发所述警示。6.根据权利要求1至5中任一项所述的安全监控装置，其中，所述至少一种感兴趣命令包括指示转向角的转向命令和指示加速度的加速度命令。7.一种用于车辆的安全监控方法，包括：在触发条件满足的情况下，对预定长度的采样时间段内来自所述车辆的生成自动驾驶命令的命令生成单元的至少一种感兴趣命令中的每种进行采样以对于每种感兴趣命令获得一个相应的命令矢量，其中对于每种感兴趣命令：相应的命令矢量由采样得到的多个该感兴趣命令样本的序列形成，所述多个该感兴趣命令样本在所述序列中按它们被采样的时间顺序排列；至少基于获得的各对应于所述至少一种感兴趣命令的至少一个命令矢量生成一个输入矢量，利用经训练的神经网络由所述输入矢量得到一个输出矢量，所述输出矢量包括一个安全值和一个危险值，所述安全值和危险值分别表示所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令是安全的可能性和是危险的可能性；基于所述安全值和危险值计算所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令的危险分，使得所述危险值相对于所述安全值越大，所述危险分越高；仅当所述危险分不大于一阈值时，将所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令中的每种传输至所述车辆的相应执行单元。8.根据权利要求7所述的安全监控方法，其中以一预定采样率进行所述采样，其中所述神经网络具有用于接收所述输入矢量作为其输入的输入层，所述输入层的大小至少部分地基于所述预定长度、所述预定采样率和所述至少一种感兴趣命令包括的命令种类的数量。9.根据权利要求7所述的安全监控方法，其中，所述危险分等于所述危险值除以所述安全值和危险值之和。10.根据权利要求7所述的安全监控方法，其中，对于每种感兴趣命令：计算相应的命令矢量所包括的多个该感兴趣命令样本的平均值和标准偏差，通过将每个该感兴趣命令样本减去所述平均值得到的差除以所述标准偏差得到与该感兴趣命令样本对应的处理后命令样本，通过将相应的命令矢量中的每个该感兴趣命令样本替换成对应的处理后命令样本获得一处理后命令矢量；至少将获得的各对应于所述至少一种感兴趣命令的至少一个处理后命令矢量相连接以生成所述输入矢量。11.根据权利要求7所述的安全监控方法，还包括：检测所述车辆的人类驾驶员对传输或不传输所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令的控制和/或触发的对所述人类驾驶员的警示的反馈；以及，当与所述反馈相关联的所述人类驾驶员的操作或行为与所述控制和/或警示所指示的人类驾驶员的操作或行为不一致时，根据所述反馈对所述输入矢量进行标记，并记录所述输入矢量及其标记结果作为一训练实例用于进一步训练所述神经网络，其中，所述方法包括：当所述危险分大于一小于所述阈值的安全阈值时触发所述警示。12.根据权利要求7至11中任一项所述的安全监控方法，其中，所述至少一种感兴趣命令包括指示转向角的转向命令和指示加速度的加速度命令。13.包括根据权利要求1-6中任一项所述的安全监控装置的车辆。14.一种计算机设备，包括存储器和处理器，所述存储器上存储有计算机程序，所述计算机程序在由所述处理器执行时导致权利要求7至12中任一项所述的安全监控方法被执行。15.一种非暂时性计算机可读存储介质，其上存储有计算机程序，所述计算机程序在由处理器执行时导致权利要求7至12中任一项所述的安全监控方法被执行。
说明书desc
技术领域本发明涉及车辆领域，尤其涉及用于车辆的安全监控装置、包括其的车辆及相应的安全监控方法、计算机设备和计算机可读存储介质。背景技术具有自动驾驶功能的车辆是已知的。用于车辆的自动驾驶命令，如方向盘控制命令、速度控制命令等，通常由自动驾驶系统基于可用的信息借助于软件生成。如此生成的自动驾驶命令可能是不合理、不安全的，例如包括在转向时紧急制动的命令、急剧转向的命令等；执行这样的命令可能导致车辆处于不利的境地或甚至发生事故，是不期望的。此外，不同的车辆，如不同型号的车辆或来自不同制造商的车辆，可能采用不同的自动驾驶策略，具有不同的控制风格，和/或具有不同的性能等。就自动驾驶命令是否合理、安全而言，不同的车辆可能适用不同的准则。发明内容本发明的目的在于提供一种方案，其能够解决或缓解上述问题中的至少部分。按照本发明一实施例的用于车辆的安全监控装置包括：获取单元，被配置为：在触发条件满足的情况下，对预定长度的采样时间段内来自所述车辆的生成自动驾驶命令的命令生成单元的至少一种感兴趣命令中的每种进行采样以对于每种感兴趣命令获得一个相应的命令矢量，其中对于每种感兴趣命令：相应的命令矢量由采样得到的多个该感兴趣命令样本的序列形成，所述多个该感兴趣命令样本在所述序列中按它们被采样的时间顺序排列；分析单元，被配置为：至少基于获得的各对应于所述至少一种感兴趣命令的至少一个命令矢量生成一个输入矢量，利用经训练的神经网络由所述输入矢量得到一个输出矢量，所述输出矢量包括一个安全值和一个危险值，所述安全值和危险值分别表示所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令是安全的可能性和是危险的可能性；计算单元，被配置为基于所述安全值和危险值计算所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令的危险分，使得所述危险值相对于所述安全值越大，所述危险分越高；控制单元，被配置为：仅当所述危险分不大于一阈值时，将所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令中的每种传输至所述车辆的相应执行单元。本发明的一实施例提供与上述安全监控装置相应的安全监控方法。本发明的一实施例提供一种包括上述安全监控装置的车辆。按照本发明一实施例的一种计算机设备包括存储器和处理器，所述存储器上存储有计算机程序，所述计算机程序在由所述处理器执行时导致上述的安全监控方法被执行。按照本发明一实施例的一种非暂时性计算机可读存储介质上存储有计算机程序，所述计算机程序在由处理器执行时导致上述的安全监控方法被执行。根据本发明的方案，对车辆的自动驾驶系统已生成但尚未执行的一种或多种感兴趣自动驾驶命令进行危险性分析、计算其危险分，并仅在该危险分不大于一阈值的情况下允许将所述感兴趣自动驾驶命令传输给相应的执行单元供执行。由此，可避免或降低危险的自动驾驶命令被执行的风险及与此相关的后果，提高自动驾驶的安全性。另外，本发明的方案利用经训练的神经网络进行分析，为针对不同的车辆进行车辆特定的分析和提供车辆特定的控制和响应创造了条件。附图说明以示例的方式参考以下附图描述本发明的非限制性且非穷举性实施例，其中：图1是示出按照本发明一实施例的用于车辆的安全监控装置的示意图；图2是示出本发明的安全监控装置用于车辆自动驾驶系统的示意图；图3是示意性示出按照本发明一实施例的用于车辆的安全监控方法的流程图。具体实施方式图1示意性示出按照本发明一实施例的用于车辆的安全监控装置100。该车辆尤其是具有自动驾驶功能的车辆。安全监控装置100可以包括获取单元101、分析单元102、计算单元103和控制单元104。分析单元102与获取单元101通信地耦合，计算单元103与分析单元102及控制单元104通信地耦合。获取单元101可以被配置为：在触发条件满足的情况下，对预定长度的采样时间段内来自生成自动驾驶命令的命令生成单元的至少一种感兴趣命令中的每种进行采样以对于每种感兴趣命令获得一个相应的命令矢量。对于每种感兴趣命令：相应的命令矢量由采样得到的多个该感兴趣命令样本的序列形成，所述多个该感兴趣命令样本在所述序列中按它们被采样的时间顺序排列。触发条件可以包括车辆处于自动驾驶模式下，并且可选地，可以包括其他可能的触发条件，如车辆在感兴趣道路上行驶，车辆在感兴趣天气状况下行驶等。感兴趣道路可以是高速公路、山区道路等。感兴趣天气状况可以是有雾、下雨、下雪等。命令生成单元可以是车辆自动驾驶系统的一部分，可以被广义地理解为适于生成用于车辆自动驾驶的命令即自动驾驶命令的任何部件、模块、装置或其组合。安全监控装置可以其获取单元直接或间接地与命令生成单元通信地耦合，由此获取单元可以对命令生成单元生成的命令进行采样。这里，预定长度的采样时间段可称为一个采样窗口，可与“采样窗口”互换地使用。该预定长度可以根据情况合适地确定，例如可以是1分钟、2分钟或更长或更短的时间段。所述至少一种感兴趣命令可以包括一种或多种感兴趣自动驾驶命令，如指示转向角的转向命令、指示加速度的加速度命令、指示换挡的换挡命令等中的一种或多种。每种感兴趣命令可以合适的方式表示。例如，对于转向命令，负转向角可以指示向左转向，正转向角可以指示向右转向；对于加速度命令，负加速度值可以指示降低速度，正加速度值可以指示提高速度；对于挡位命令，期望的挡位可以用相应的字母或数字指示。分析单元102可以被配置为：至少基于获得的各对应于所述至少一种感兴趣命令的至少一个命令矢量生成一个输入矢量，利用经训练的神经网络由所述输入矢量得到一个输出矢量。输出矢量可以包括一个安全值和一个危险值，该安全值和危险值分别表示上述采样时间段内来自命令生成单元的所述至少一种感兴趣命令是安全的可能性和是危险的可能性。可选地，输出矢量中包括的安全值和危险值可以是经受了归一化处理的使得其各自的值在0至1的范围内，以便安全值和危险值提供更直观的指示。该归一化处理可以在神经网络内部进行，例如通过合适地配置神经网络的输出层实现。或者，可以在神经网络以外对来自其输出层的输出进行归一化处理以得到该输出矢量。例如，可以利用sigmoid函数或以其他合适的方式进行归一化处理。例如，该归一化处理使得：当神经网络预测感兴趣命令将导致危险的情形时，输出的危险值将较大而安全值将较小；当神经网络预测感兴趣命令将导致安全的情形时，输出的危险值将较小而安全值将较大；当神经网络预测感兴趣命令将导致中立的情形时，输出的危险值和安全值可以具有相似的值。这里，神经网络可以包括各种可能的神经网络，如深度学习神经网络。神经网络可以包括一个输入层、一个输出层和其之间的至少一个隐藏层。在该至少一个隐藏层包括两个或更多个依次连接的隐藏层的情况下，输入层连接到第一个隐藏层，最后一个隐藏层连接到输出层。神经网络的每一层可以用一个矢量表示。具体地，每一层可以包括一定数量的神经元，每个神经元用于接收一个为变量的输入，这样的变量的按顺序的序列构成表示该层的矢量，其中每个变量构成该矢量的一个分量，每个变量在该序列中的位置体现该变量与预定用于接收其作为输入的神经元之间的对应性。根据这样的对应性，输入矢量的每个变量被提供至输入层的预定用于接收其的对应神经元。神经网络的上一层的矢量作为下一层的矢量的输入。在一实施例中，下一层的矢量ai和其上一层的矢量ai-1之间的映射关系由相关联的权重Wi和偏置项bi限定，即下一层的矢量ai＝上一层的矢量ai-1*权重Wi+偏置项bi。可选地，对于每种感兴趣命令，分析单元102可以任意合适的方式对其相应的命令矢量进行预处理以获得处理后命令矢量。在一实施例中，分析单元被配置为：对于每种感兴趣命令：计算相应的命令矢量包括的多个该感兴趣命令样本的一个平均值和一个标准偏差，通过将每个该感兴趣命令样本减去该平均值得到的差除以该标准偏差得到与该感兴趣命令样本对应的处理后命令样本，通过将相应的命令矢量中的每个该感兴趣命令样本替换成对应的处理后命令样本获得处理后命令矢量。分析单元可以各种合适的方式生成输入矢量。根据一可能的实施方式，通过将所述至少一个命令矢量相连接得到输入矢量。根据另一可能的实施方式，对所述至少一个命令矢量中的每个进行处理，并通过将如此得到的至少一个处理后命令矢量相连接得到输入矢量。可选地，可以将一个或多个附加变量引入该输入矢量。每个附加变量可以表示一个附加的考虑因素，如在上述采样时间段内车辆所处的驾驶场景、天气状况、道路状况等。单个采样窗口内得到的各命令样本和可能的附加变量各构成输入矢量的分量。输入矢量包括的分量的数量决定神经网络的输入层的大小，即输入层的神经元的数量。输出矢量包括的分量的数量决定神经网络的输出层的大小，即输出层的神经元的数量。在确定了输入层和输出层的神经元数量即结构的情况下，可以各种合适的方式，包括现有技术中已知的手段，构建神经网络，并确定其参数，如上述的权重和偏置项。例如，神经网络的参数可以首先通过初始化或通过借鉴用于相同目的的先前类似神经网络的参数来预设，然后通过利用训练数据进行训练来优化。用于训练神经网络的训练数据可以各种可能的方式获取。在一实施例中，通过包括阶段1)和2)的过程获得一组训练样本。在阶段1)，让一训练车在一时间段内按照一训练命令序列行驶并获取车辆在行驶期间的视频。这里，该训练车可以是与安全监控装置旨在用于的车辆具有相同或类似型号的车辆；该时间段的长度不小于采样窗口的长度；该训练命令序列包括供训练车按时间顺序执行的多组命令，每组命令可以由训练车同时或基本同时地执行，包括各对应于所述至少一种感兴趣命令中一种不同命令的至少一个命令，并可以可选地包括除所述感兴趣命令外的其他种类的命令，这些命令可以来自人类驾驶员或自动驾驶系统；该视频可以例如用摄像头在训练车行驶期间捕获，或基于在训练车行驶期间用毫米波雷达、激光雷达等传感器获得的数据利用3D重建技术获取。在阶段2)，利用获取的视频以众包标签的方式或其他合适的方式得到该训练命令序列的标记结果，该标记结果指示该训练命令序列是安全的还是危险的。在一实施例中，在阶段2)，将获取的视频呈现给一组人类评委，由这组人类评委就视频中显示的车辆行驶是危险的还是安全的进行投票，根据投票结果对相应的训练命令序列进行标记。例如，如果大多数的人类评委认为视频中显示的车辆行驶是危险的，则相应的训练命令序列被标记为危险的；如果大多数的人类评委认为视频中显示的车辆行驶是安全的，则相应的训练命令序列被标记为安全的；如果没有要求比例的大多数人类评委对视频中显示的车辆行驶是安全的或危险的给出一致的判断，则放弃相应的数据。该组人类评委可以被选择为例如包括来自各种相关方的人员，如私家车主、全职司机、警察、保险公司员工、市民、其他可能的人员等。如果对感兴趣命令的分析需考虑一个或多个附加因素，在阶段1)可以使训练车在体现这一个或多个附加因素的多种可能条件下行驶，由此将所述附加因素引入训练样本。可以重复上述过程多次，以得到足够的训练样本。在一实施例中，当神经网络输出的预测结果和相应的实际情况之间的误差在允许的误差范围内时，可以认为神经网络是经训练的或训练好的。这样的误差可以用损失函数来衡量，损失函数可以为各种合适的形式，如现有技术中已知的形式。计算单元103可以被配置为：基于安全值和危险值计算所述采样时间段内来自命令生成单元的所述至少一种感兴趣命令的危险分，使得危险值相对于安全值越大，危险分越高。危险分可以各种合适的方式计算。在一实施例中，危险分等于危险值/。控制单元104可以被配置为：仅当计算的危险分不大于一阈值时，将所述采样时间段内来自命令生成单元的所述至少一种感兴趣命令中的每种感兴趣命令传输至车辆的相应执行单元。该阈值可以称为危险阈值。可选地，控制单元还可以被配置为：当危险分不大于危险阈值但大于一小于危险阈值的安全阈值时，触发警示以提示人类驾驶员做好接管控制的准备，例如在车辆具有人类驾驶员的情况下。另外，当危险分大于危险阈值时，控制单元可以可选地触发警示以提示人类驾驶员接管控制，例如在车辆具有人类驾驶员的情况下。这里，危险阈值和安全阈值可以根据情况合适地确定。例如，在危险值和安全值均被归一化为处于0-1的范围内的情况下，危险阈值可以为0.7，安全阈值可以为0.5。上述警示可以是各种可能的形式，例如可以是用于向人类驾驶员呈现的视觉和/或声音警示——其可以例如通过车辆上安装的显示屏和/或扬声器呈现和/或发送。在任一情况下，可以与处理所述感兴趣命令相同或不同的方式处理命令生成单元生成的命令中除所述至少一种感兴趣命令之外的其他自动驾驶命令——如果有的话。例如，在危险分大于危险阈值的情况下，命令生成单元生成的命令中除所述至少一种感兴趣命令之外的其他自动驾驶命令——如果有的话，可以被传输或不被传输至相应的执行单元。安全监控装置可以包括存储单元，用于存储命令生成单元发出的命令。控制单元可以与存储单元通信地耦合，以根据情况从存储单元获取所述采样时间段内命令生成单元发出的部分或全部命令以传输至执行单元。可选地，控制单元可以控制存储单元清除存储在其中的来自命令生成单元的部分或全部命令。安全监控装置可以其控制单元直接或间接地与一个或多个执行单元通信地耦合。这里，执行单元可以被广义地理解为适于执行自动驾驶命令的任何车辆部件、模块、装置或其组合，可以是车辆自动驾驶系统的部分。例如，这一个或多个执行单元可以是控制车辆行进方向的转向执行单元、控制车辆行进速度的速度控制单元、控制车辆挡位的挡位控制单元等中的一个或多个。对于转向执行单元、速度控制单元和挡位控制单元中的每个，其实现功能的具体手段及其具体形式取决于车辆。例如，转向执行单元可以包括控制方向盘扭矩的部件如电机、控制车轮行进轨迹的部件等；速度控制单元可以包括控制油门的机构、控制车轮行进速度的部件如车轮内装电机等；挡位控制单元可以包括控制挡位的换挡机构等。图2示出了本发明的安全监控装置与命令生成单元及多个执行单元耦合。例如，执行单元1、执行单元2和执行单元M可以分别是转向执行单元、速度控制单元和挡位控制单元。安全监控装置可以通过其控制单元将转向命令传输给转向执行单元，将加速度命令传输给速度控制单元，将挡位控制命令传输给挡位控制单元。在一实施例中，控制单元还可以检测车辆的人类驾驶员对控制单元作出的对感兴趣命令的控制和/或提供的警示的反馈。当针对基于单个采样窗口内采样得到的至少一个命令矢量生成的输入矢量，驾驶员的反馈显示出驾驶员对神经网络的预测的不认同时，例如驾驶员的相关联操作或行为与控制单元基于该预测作出的控制和/或提供的警示所指示的驾驶员的操作或行为不一致时，控制单元可以根据驾驶员的反馈将相应的命令序列标记为危险的或安全的，并且例如借助于存储单元，记录该命令序列及其标记结果作为一训练实例。这样的训练实例可用于进一步训练神经网络以进一步调整其参数，以使其预测更准确。因而，可通过根据驾驶员对利用本发明的自动驾驶系统提供的控制和警示作出的反馈来优化神经网络，实现系统对不同驾驶风格和习惯的自适应。例如，如果在控制单元将感兴趣命令传输给执行单元的情况下驾驶员主动接管了控制，或者在控制单元提供了指示驾驶员接管控制的警示的情况下驾驶员未接管控制，控制单元可以检测到驾驶员不认同神经网络的预测。自动驾驶系统生成的自动驾驶命令，尤其是已生成但尚未执行的自动驾驶命令，可以各种可能的方式，例如经由车载显示屏，呈现给车辆的人类驾驶员，以便驾驶员就是否让车辆按照该自动驾驶命令行驶或是否接管控制作出判断。下面，以示例的方式结合获取单元和分析单元进一步描述本发明。获取单元可以一预定采样率或采样频率持续对来自命令生成单元的感兴趣命令采样。该预定采样频率可以根据情况确定，例如可以是1赫兹、5赫兹或更高或更低的频率。当前采样窗口相对于前一采样窗口以一时间量偏移，该时间量等于预定采样频率的倒数。当前采样窗口与前一采样窗口重叠的时间长度等于上述预定长度减去该时间量。每一单个采样窗口内采样得到的命令样本可以被作为一个整体分析，这在下面将进一步描述。采样得到的命令样本可存储在先进先出存储器中。在每个采样时刻，对于所述至少一种感兴趣命令中的每种可以采样到一个命令样本；单个采样时刻采样到的命令样本可以称为一组命令样本。先进先出存储器可以被设计成适于刚好存储在单个采样窗口内采样得到的所有命令样本。这样，每当采样到一组新命令样本，存储器中当前存储的最早被采样到的一组命令样本被从存储器移出，该组新命令样本被存储到存储器中作为最新被采样到的一组命令样本，从而更新存储器中的命令样本。如此，进行上述分析/计算/控制的频率，以及存储器中的命令样本被更新的频率，可以等于上述预定采样率。在一实施例中，获取单元以一采样频率f分别对两种感兴趣命令即转向命令和加速度命令进行采样，以获得转向命令矢量和加速度命令矢量假设采样窗口的长度为t秒。在某个采样窗口内在n个相继时刻t1、t2、...tn采样得到n个转向命令样本S1、S2、…Sn和n个加速度命令样本A1、A2、…An，其中n＝f*t。这n个转向命令样本S1、S2、…Sn按它们被采样的时间顺序排列，形成一个转向命令矢量即；这n个加速度命令样本A1、A2、…An按它们被采样的时间顺序排列，形成一个加速度命令矢量即。同样地，在下一个采样窗口，在n个相继时刻t2、...tn、tn+1采样得到n个转向命令样本S2、…Sn、Sn+1和n个加速度命令样本A2、…An、An+1，从而得到一个转向命令矢量和一个加速度命令矢量。如此，在每个采样窗口内获得的每个命令矢量包括相同数量的命令样本。对于每种感兴趣命令，分析单元对其相应的命令矢量进行预处理以获得处理后命令矢量。例如，对于转向命令矢量，计算转向命令样本S1、S2、…Sn的平均值MS和标准偏差δS；对于第i个转向命令样本Si，根据公式/δS得到对应的处理后转向命令样本PSi，由此得到处理后的转向命令矢量；对于加速度命令矢量，计算加速度命令样本A1、A2、…An的平均值MA和标准偏差δA；对于第i个加速度命令样本Ai，根据公式/δA得到相应的处理后加速度命令样本PAi，由此得到处理后的加速度命令矢量。分析单元可以通过至少将获得的至少一个处理后命令矢量相连接生成输入矢量。可选地，对于每种感兴趣命令，可以将针对其计算的平均值和/或标准偏差引入对应的处理后命令矢量。根据一可能的实施方式，分析单元可以将处理后的转向命令矢量和处理后的加速度命令矢量相连接以生成输入矢量。根据另一可能的实施方式，可以在处理后的转向命令矢量的最后一个分量PSn之后附接相应的平均值MS和标准偏差δS，得到；在处理后的加速度命令矢量的最后一个分量PAn之后附接相应的平均值MA和标准偏差δA，得到；然后，将两者相连接以生成输入矢量。在处理后命令矢量的其他位置如最前面附接相应的平均值和标准偏差是可能的。然后，分析单元可以将生成的输入矢量提供给经训练的神经网络作为其输入，利用该神经网络由该输入矢量得到包括2个分量的输出矢量。例如，输出矢量的第一个分量表示危险值，第二个分量表示安全值。每个训练样本或训练实例可以提供一个输入样本矢量。该输入样本矢量可以与上述的输入矢量具有相同数量的分量，该输入样本矢量中的各分量可以与输入矢量中的各分量一一对应。对于输入矢量和输入样本矢量中的每个，其每个分量所代表的及其与输入层的每个神经元之间的对应关系，以及输出矢量的每个分量所表示的，是在构建神经网络时预先确定的。上文关于输入矢量描述的处理、内容以及各操作和细节可以类似地适用于输入样本矢量。图3示意性示出按照本发明一实施例的用于车辆的安全监控方法S200。该方法包括获取步骤S201、分析步骤S202、计算步骤S203和控制步骤S204。在步骤S201，在触发条件满足的情况下，对预定长度的采样时间段内来自车辆的生成自动驾驶命令的命令生成单元的至少一种感兴趣命令中的每种进行采样以对于每种感兴趣命令获得一个相应的命令矢量。对于每种感兴趣命令：相应的命令矢量由采样得到的多个该感兴趣命令样本的序列形成，所述多个该感兴趣命令样本在所述序列中按它们被采样的时间顺序排列。在步骤S202，至少基于获得的各对应于所述至少一种感兴趣命令的至少一个命令矢量生成一个输入矢量，利用经训练的神经网络由所述输入矢量得到一个输出矢量，所述输出矢量包括一个安全值和一个危险值，所述安全值和危险值分别表示所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令是安全的可能性和是危险的可能性。在步骤S203，基于所述安全值和危险值计算所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令的危险分，使得所述危险值相对于所述安全值越大，危险分越高。在步骤S204，仅当所述危险分不大于一阈值时，将所述采样时间段内来自所述命令生成单元的所述至少一种感兴趣命令中的每种传输至车辆的相应执行单元。上述步骤中的每个可由本发明的安全监控装置的相应单元执行，如上文结合图1所述。另外，如上文结合本发明的安全监控装置的各单元所述的各操作和细节可被包括或体现在本发明的安全监控方法中。本发明的方案适用于各种具有自动驾驶功能的车辆，包括自动驾驶车辆。本发明用于基于线控驱动系统实现自动驾驶功能的车辆是尤其有利的。应理解，本发明的安全监控装置的各个单元可全部或部分地通过软件、硬件、固件或其组合来实现。所述各单元各自可以硬件或固件形式内嵌于计算机设备的处理器中或独立于所述处理器，也可以软件形式存储于计算机设备的存储器中以供处理器调用来执行所述各单元的操作。所述各单元各自可以实现为独立的部件或模块，或者两个或更多个单元可实现为单个部件或模块。本领域普通技术人员应理解，图1中示出的装置的示意图仅仅是与本发明的方案相关的部分结构的示例性说明框图，并不构成对体现本发明的方案的计算机设备、处理器或计算机程序的限定。具体的计算机设备、处理器或计算机程序可以包括比图中所示更多或更少的部件或模块，或者组合或拆分某些部件或模块，或者可具有不同的部件或模块布置。在一个实施例中，提供了一种计算机设备，其包括存储器和处理器，所述存储器上存储有可由处理器执行的计算机程序，处理器执行所述计算机程序时执行本发明的方法的部分或全部步骤。该计算机设备可以广义地为服务器、车载终端，或任何其他具有必要的计算和/或处理能力的电子设备。在一个实施例中，该计算机设备可包括通过系统总线连接的处理器、存储器、网络接口、通信接口等。该计算机设备的处理器可用于提供必要的计算、处理和/或控制能力。该计算机设备的存储器可包括非易失性存储介质和内存储器。该非易失性存储介质中或上可存储有操作系统、计算机程序等。该内存储器可为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的网络接口和通信接口可用于与外部的设备通过网络连接和通信。该计算机程序被处理器执行时执行本发明的方法的步骤。本发明可以实现为一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序在由处理器执行时实现本发明的方法的部分或全部步骤。在一个实施例中，所述计算机程序被分布在网络耦合的多个计算机设备或处理器上，以使得所述计算机程序由一个或多个计算机设备或处理器以分布式方式存储、访问和执行。单个方法步骤/操作，或者两个或更多个方法步骤/操作，可以由单个计算机设备或处理器或由两个或更多个计算机设备或处理器执行。一个或多个方法步骤/操作可以由一个或多个计算机设备或处理器执行，并且一个或多个其他方法步骤/操作可以由一个或多个其他计算机设备或处理器执行。一个或多个计算机设备或处理器可以执行单个方法步骤/操作，或执行两个或更多个方法步骤/操作。本领域普通技术人员可以理解，本发明的方法的全部或部分步骤可以通过计算机程序来指示相关的硬件如计算机设备或处理器完成，所述的计算机程序可存储于非暂时性计算机可读存储介质中，该计算机程序被执行时导致本发明的方法的步骤被执行。根据情况，本文中对存储器、存储、数据库或其它介质的任何引用可包括非易失性和/或易失性存储器。非易失性存储器的示例包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM、闪存、磁带、软盘、磁光数据存储装置、光学数据存储装置、硬盘、固态盘等。易失性存储器的示例包括随机存取存储器、外部高速缓冲存储器等。以上描述的各技术特征可以任意地组合。尽管未对这些技术特征的所有可能组合进行描述，但这些技术特征的任何组合都应当被认为由本说明书涵盖，只要这样的组合不存在矛盾。尽管结合实施例对本发明进行了描述，但本领域技术人员应理解，上文的描述和附图仅是示例性而非限制性的，本发明不限于所公开的实施例。在不偏离本发明的精神的情况下，各种改型和变体是可能的。
