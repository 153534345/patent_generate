标题title
基于多时序网络的仿真交通流变道方法和系统
摘要abst
本发明涉及交通流仿真技术领域，提供一种基于多时序网络的仿真交通流变道方法，方法包括：根据至少两帧的交通流历史帧提取车辆历史运动状态；所将车辆历史运动状态输入第一时序网络，得到生成帧中关注车辆的变道结果；确定变道结果为向左变道或向右变道，则将车辆历史运动状态输入第二时序网络，得到生成帧中关注车辆的横向加速度；将车辆历史运动状态输入第三时序网络，得到生成帧中关注车辆的纵向加速度；本发明能够针对不同路况仿真得到更为多样真实的变道交通流；同时，通过分离横向加速度与纵向加速度，通过两个独立的时序网络进行预测，能够有效避免关联，使得不同量级的横向加速度与纵向加速度预测结果更为准确。
权利要求书clms
1.一种基于多时序网络的仿真交通流变道方法，其特征在于，包括：根据至少两帧的交通流历史帧数据提取车辆历史运动状态数据；所述车辆历史运动状态数据包括关注车辆历史运动状态数据和交互车辆历史运动状态数据；将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果；所述第一时序网络是根据第一样本和第一标签训练得到的；确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度；所述第二时序网络是根据第二样本和第二标签训练得到的；所述第三时序网络是根据第三样本和第三标签训练得到的；根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据。2.根据权利要求1所述的基于多时序网络的仿真交通流变道方法，其特征在于，所述根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据的步骤包括：根据时间积分所述关注车辆的横向加速度和纵向加速度，得到所述关注车辆的速度；根据时间积分所述关注车辆的速度，得到所述关注车辆的位置。3.根据权利要求2所述的基于多时序网络的仿真交通流变道方法，其特征在于，在所述根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据的步骤后，还包括：遍历仿真交通流中的全部车辆，得到所述生成帧中全部车辆的运动状态数据；根据设定数量的连续生成帧，得到仿真交通流。4.根据权利要求1所述的基于多时序网络的仿真交通流变道方法，其特征在于，所述将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果的步骤包括：根据所述车辆历史运动状态数据提取关注车辆位置、关注车辆速度、关注车辆加速度、相邻车辆位置、相邻车辆速度以及相邻车辆加速度作为第一输入量集合；基于第一输入量集合运行第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果。5.根据权利要求1所述的基于多时序网络的仿真交通流变道方法，其特征在于，所述确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度的步骤包括：确定所述变道结果为向左变道或者向右变道，则：根据所述车辆历史运动状态数据提取关注车辆位置、关注车辆速度、关注车辆加速度、目标车道车辆位置、目标车道车辆速度以及目标车道车辆加速度作为第二输入量集合；根据所述关注车辆位置，计算得到所述关注车辆相对于目标车道的距离作为第三输入量集合；基于所述第二输入量集合和第三输入量集合运行第二时序网络，得到生成帧中所述关注车辆的横向加速度；基于所述第二输入量集合运行第三时序网络，得到生成帧中所述关注车辆的纵向加速度。6.根据权利要求1所述的基于多时序网络的仿真交通流变道方法，其特征在于：所述第一时序网络包括依次设置的门控循环单元层、随机失活层以及线性层；所述第一时序网络的训练损失函数包括交叉熵函数；所述第二时序网络与第三时序网络的结构相同，包括依次设置的长短时记忆网络层、修正线性单元层以及线性层；所述第一时序网络和第二时序网络的训练损失函数均包括均方误差函数。7.一种基于多时序网络的仿真交通流变道系统，其特征在于，包括：历史模块，用于根据至少两帧的交通流历史帧数据提取车辆历史运动状态数据；所述车辆历史运动状态数据包括关注车辆历史运动状态数据和交互车辆历史运动状态数据；变道决策模块，用于将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果；所述第一时序网络是根据第一样本和第一标签训练得到的；运动决策模块，用于确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度；所述第二时序网络是根据第二样本和第二标签训练得到的；所述第三时序网络是根据第三样本和第三标签训练得到的；生成模块，用于根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据。8.一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1至6任一项所述基于多时序网络的仿真交通流变道方法的步骤。9.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至6任一项所述基于多时序网络的仿真交通流变道方法的步骤。10.一种计算机程序产品，包括计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至6任一项所述基于多时序网络的仿真交通流变道方法的步骤。
说明书desc
技术领域本发明涉及交通流仿真技术领域，尤其涉及一种基于多时序网络的仿真交通流变道方法和系统。背景技术自动驾驶，又称无人驾驶、电脑驾驶或轮式移动机器人，是依靠计算机与人工智能技术在没有人为操纵的情况下，完成完整、安全、有效的驾驶的一项前沿科技。在21世纪，由于汽车用户的不断增加，公路交通面临的拥堵、安全事故等问题越发严重。自动驾驶技术在车联网技术和人工智能技术的支持下，能够协调出行路线与规划时间，从而大程度提高出行效率，并在一定程度上减少能源消耗。自动驾驶同时还能帮助避免醉驾，疲劳驾驶等安全隐患，减少驾驶员失误，提升安全性。自动驾驶也因此成为各国近年的一项研发重点。然而无人驾驶也面临着许多挑战，比如恶劣的天气、复杂的交通环境等等，因此在某些场景下的表现可能无法匹敌人类驾驶员，甚至存在新的更加严重的事故风险。一些分析显示，在95％的置信度下，无人驾驶系统需要进行约50亿英里的路测才可证明其事故率显著小于人类驾驶员，也就是100辆车在全天24小时、全年365天及平均车速为25英里每小时的情况下，需要测试约225年。可见，长远来看，自动驾驶或辅助驾驶场景下，模拟环境下的测试开发必须占比更高，才能够满足开发和测试需求。而现有的仿真方法中，车辆变道通常是基于预设轨迹的方法得以实现的，这种方法存在着变道路线同质化高、不能全面体现实际路况的问题。因此，如何更为准确全面的在交通流中仿真车辆的变道运动成为了业内亟需解决的技术问题。发明内容本发明提供一种基于多时序网络的仿真交通流变道方法和系统，用以解决现有技术中变道路线同质化高、不能全面体现实际路况的缺陷，实现更为准确全面的车辆的变道运动仿真。本发明提供一种基于多时序网络的仿真交通流变道方法，包括：根据至少两帧的交通流历史帧数据提取车辆历史运动状态数据；所述车辆历史运动状态数据包括关注车辆历史运动状态数据和交互车辆历史运动状态数据；将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果；所述第一时序网络是根据第一样本和第一标签训练得到的；确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度；所述第二时序网络是根据第二样本和第二标签训练得到的；所述第三时序网络是根据第三样本和第三标签训练得到的；根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据。根据本发明提供的一种基于多时序网络的仿真交通流变道方法，所述根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据的步骤包括：根据时间积分所述关注车辆的横向加速度和纵向加速度，得到所述关注车辆的速度；根据时间积分所述关注车辆的速度，得到所述关注车辆的位置。根据本发明提供的一种基于多时序网络的仿真交通流变道方法，在所述根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据的步骤后，还包括：遍历仿真交通流中的全部车辆，得到所述生成帧中全部车辆的运动状态数据；根据设定数量的连续生成帧，得到仿真交通流。根据本发明提供的一种基于多时序网络的仿真交通流变道方法，所述将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果的步骤包括：根据所述车辆历史运动状态数据提取关注车辆位置、关注车辆速度、关注车辆加速度、相邻车辆位置、相邻车辆速度以及相邻车辆加速度作为第一输入量集合；基于第一输入量集合运行第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果。根据本发明提供的一种基于多时序网络的仿真交通流变道方法，所述确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度的步骤包括：确定所述变道结果为向左变道或者向右变道，则：根据所述车辆历史运动状态数据提取关注车辆位置、关注车辆速度、关注车辆加速度、目标车道车辆位置、目标车道车辆速度以及目标车道车辆加速度作为第二输入量集合；根据所述关注车辆位置，计算得到所述关注车辆相对于目标车道的距离作为第三输入量集合；基于所述第二输入量集合和第三输入量集合运行第二时序网络，得到生成帧中所述关注车辆的横向加速度；基于所述第二输入量集合运行第三时序网络，得到生成帧中所述关注车辆的纵向加速度。根据本发明提供的一种基于多时序网络的仿真交通流变道方法：所述第一时序网络包括依次设置的门控循环单元层、随机失活层以及线性层；所述第一时序网络的训练损失函数包括交叉熵函数；所述第二时序网络与第三时序网络的结构相同，包括依次设置的长短时记忆网络层、修正线性单元层以及线性层；所述第一时序网络和第二时序网络的训练损失函数均包括均方误差函数。本发明还提供一种基于多时序网络的仿真交通流变道系统，包括：历史模块，用于根据至少两帧的交通流历史帧数据提取车辆历史运动状态数据；所述车辆历史运动状态数据包括关注车辆历史运动状态数据和交互车辆历史运动状态数据；变道决策模块，用于将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果；所述第一时序网络是根据第一样本和第一标签训练得到的；运动决策模块，用于确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度；所述第二时序网络是根据第二样本和第二标签训练得到的；所述第三时序网络是根据第三样本和第三标签训练得到的；生成模块，用于根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据。本发明还提供一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如上述任一种所述基于多时序网络的仿真交通流变道方法的步骤。本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现如上述任一种所述基于多时序网络的仿真交通流变道方法的步骤。本发明还提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现如上述任一种所述基于多时序网络的仿真交通流变道方法的步骤。本发明提供的基于多时序网络的仿真交通流变道方法和系统，以历史帧数据作为输入，通过时序网络预测车辆变道决策和变道运动状态，能够针对不同路况仿真得到更为多样真实的变道交通流；同时，通过将变道车辆的横向加速度与纵向加速度分离，通过两个独立的时序网络进行预测，能够有效避免数据关联，使得不同量级的横向加速度与纵向加速度预测结果更为准确。附图说明为了更清楚地说明本发明或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明提供的基于多时序网络的仿真交通流变道方法的流程示意图；图2是本发明提供的基于多时序网络的仿真交通流变道系统的结构示意图；图3是本发明提供的电子设备的结构示意图。附图标记：1：历史模块； 2：变道决策模块；3：运动决策模块；4：生成模块； 310：处理器；320：通信接口；330：存储器； 340：通信总线。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合本发明中的附图，对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。下面结合图1描述本发明的基于多时序网络的仿真交通流变道方法.如图1所示，本发明实施例提供一种基于多时序网络的仿真交通流变道方法，包括：步骤101，根据至少两帧的交通流历史帧数据提取车辆历史运动状态数据；所述车辆历史运动状态数据包括关注车辆历史运动状态数据和交互车辆历史运动状态数据；步骤103，将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果；所述第一时序网络是根据第一样本和第一标签训练得到的；步骤105，确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度；所述第二时序网络是根据第二样本和第二标签训练得到的；所述第三时序网络是根据第三样本和第三标签训练得到的；步骤107，根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据。步骤101中，车辆历史运动状态数据包括：-帧数标记和帧数标记对应车辆的单帧历史运动状态数据；或者-按照帧序列排序的车辆单帧历史运动状态数据序列。在一个优选的实施方式中，所述时序网络是基于均方误差损失函数训练得到的，包括依次设置的第一线性层、第一修正线性单元层、第二线性层、第二修正线性单元层以及第三线性层。在一个优选的实施方式中，所述历史帧是指早于当前帧的设定数量的连续帧集合；例如，以第11帧作为生成帧，则历史帧是指第1至10帧。在此基础上，本实施例方法可以迭代实时实现，即第一时刻执行本实施例方法得到第一生成帧；以第一生成帧配合其它历史帧为基础，在第二时刻再次执行本实施例方法得到第二生成帧；以第一生成帧和第二生成帧作为历史帧，在第三时刻再次执行本实施例方法得到第三生成帧…以此类推，从而得到交通流仿真结果。值得说明的是，在迭代实时实现的过程中，可以添加被测车辆至本实施例方法得到的交通流仿真结果中，也可以选定交通流仿真结果中的任一车辆作为被测车辆。随后对被测车辆执行预设的测试控制策略，并返回被测车辆的控制结果至本实施例方法的执行主体处，配合本实施例方法实时生成交通流仿真环境执行测试任务。在一个优选的实施方式中，所述第一时序网络的训练集，即第一样本和第一标签是基于真实交通流数据设置的；所述第一时序网络的输出值是三元的0、-1、1，分别对应保持车道、向左变道、向右变道。本实施例的有益效果在于：以历史帧数据作为输入，通过时序网络预测车辆变道决策和变道运动状态，能够针对不同路况仿真得到更为多样真实的变道交通流；同时，通过将变道车辆的横向加速度与纵向加速度分离，通过两个独立的时序网络进行预测，能够有效避免数据关联，使得不同量级的横向加速度与纵向加速度预测结果更为准确。根据上述实施例，在本实施例中：所述根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据的步骤包括：根据时间积分所述关注车辆的横向加速度和纵向加速度，得到所述关注车辆的速度；根据时间积分所述关注车辆的速度，得到所述关注车辆的位置。在所述根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据的步骤后，还包括：遍历仿真交通流中的全部车辆，得到所述生成帧中全部车辆的运动状态数据；根据设定数量的连续生成帧，得到仿真交通流。本实施例在上一实施例的基础上，进一步提供了基于横向加速度和纵向加速度的车辆运动状态数据的计算步骤，这一步骤能够在简化第二、第三时序网络的前提下，提供更为全面的车辆状态数据，并在遍历所有车辆后，得出完整的仿真交通流数据。根据上述任一实施例，在本实施例中：所述将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果的步骤包括：根据所述车辆历史运动状态数据提取关注车辆位置、关注车辆速度、关注车辆加速度、相邻车辆位置、相邻车辆速度以及相邻车辆加速度作为第一输入量集合；在一个优选的实施方式中，所述相邻车辆为：-与关注车辆距离小于设定关注阈值的车辆；或者-关注车辆所在车道内的前车、关注车辆所在车道内的后车、关注车辆相邻车道内的前车以及关注车辆相邻车道内的后车。进一步地，所述相邻车辆还可以为关注车辆所在车道内的前车、关注车辆所在车道内的后车、关注车辆相邻车道内的前车以及关注车辆相邻车道内的后车中，与关注车辆距离小于设定关注阈值的车辆。所述关注阈值是根据关注车辆和相邻车辆的速度差确定的。基于第一输入量集合运行第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果。所述确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度的步骤包括：确定所述变道结果为向左变道或者向右变道，则：根据所述车辆历史运动状态数据提取关注车辆位置、关注车辆速度、关注车辆加速度、目标车道车辆位置、目标车道车辆速度以及目标车道车辆加速度作为第二输入量集合；根据所述关注车辆位置，计算得到所述关注车辆相对于目标车道的距离作为第三输入量集合；基于所述第二输入量集合和第三输入量集合运行第二时序网络，得到生成帧中所述关注车辆的横向加速度；基于所述第二输入量集合运行第三时序网络，得到生成帧中所述关注车辆的纵向加速度。所述第一时序网络包括依次设置的门控循环单元层、随机失活层以及线性层；所述第一时序网络的训练损失函数包括交叉熵函数；所述第二时序网络与第三时序网络的结构相同，包括依次设置的长短时记忆网络层、修正线性单元层以及线性层；所述第一时序网络和第二时序网络的训练损失函数均包括均方误差函数。在一个优选的实施方式中，所述目标车道车辆为：-关注车辆变道前所在车道和变道后所在车道中，与关注车辆距离小于设定关注阈值的车辆；或者-关注车辆变道前所在车道内的前车、关注车辆变道前所在车道内的后车、关注车辆变道后所在车道内的前车以及关注车辆变道后所在车道内的后车。进一步地，所述目标车道车辆还可以为关注车辆变道前所在车道内的前车、关注车辆变道前所在车道内的后车、关注车辆变道后所在车道内的前车以及关注车辆变道后所在车道内的后车中，与关注车辆距离小于设定关注阈值的车辆。所述关注阈值是根据关注车辆和目标车道车辆的速度差确定的。本实施例的有益效果在于：以历史帧数据作为输入，通过时序网络预测车辆变道决策和变道运动状态，能够针对不同路况仿真得到更为多样真实的变道交通流；同时，通过将变道车辆的横向加速度与纵向加速度分离，通过两个独立的时序网络进行预测，能够有效避免数据关联，使得不同量级的横向加速度与纵向加速度预测结果更为准确。下面对本发明提供的基于多时序网络的仿真交通流变道装置进行描述，下文描述的基于多时序网络的仿真交通流变道装置与上文描述的基于多时序网络的仿真交通流变道方法可相互对应参照。如图2所示，本发明实施例还提供一种基于多时序网络的仿真交通流变道系统，包括：历史模块1，用于根据至少两帧的交通流历史帧数据提取车辆历史运动状态数据；所述车辆历史运动状态数据包括关注车辆历史运动状态数据和交互车辆历史运动状态数据；变道决策模块2，用于将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果；所述第一时序网络是根据第一样本和第一标签训练得到的；运动决策模块3，用于确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度；所述第二时序网络是根据第二样本和第二标签训练得到的；所述第三时序网络是根据第三样本和第三标签训练得到的；生成模块4，用于根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据。进一步地，所述生成模块4包括：速度单元，用于根据时间积分所述关注车辆的横向加速度和纵向加速度，得到所述关注车辆的速度；位置单元，用于根据时间积分所述关注车辆的速度，得到所述关注车辆的位置。所述变道决策模块2包括：第一输入单元，用于根据所述车辆历史运动状态数据提取关注车辆位置、关注车辆速度、关注车辆加速度、相邻车辆位置、相邻车辆速度以及相邻车辆加速度作为第一输入量集合；第一网络单元，用于基于第一输入量集合运行第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果。所述运动决策模块3包括：确定单元，用于确定所述变道结果为向左变道或者向右变道。第二输入单元，用于根据所述车辆历史运动状态数据提取关注车辆位置、关注车辆速度、关注车辆加速度、目标车道车辆位置、目标车道车辆速度以及目标车道车辆加速度作为第二输入量集合；第三输入单元，用于根据所述关注车辆位置，计算得到所述关注车辆相对于目标车道的距离作为第三输入量集合；第二网络单元，用于基于所述第二输入量集合和第三输入量集合运行第二时序网络，得到生成帧中所述关注车辆的横向加速度；第三网络单元，用于基于所述第二输入量集合运行第三时序网络，得到生成帧中所述关注车辆的纵向加速度。更进一步地，所述系统还包括：遍历模块，用于遍历仿真交通流中的全部车辆，得到所述生成帧中全部车辆的运动状态数据；仿真模块，用于根据设定数量的连续生成帧，得到仿真交通流。所述第一时序网络包括依次设置的门控循环单元层、随机失活层以及线性层；所述第一时序网络的训练损失函数包括交叉熵函数；所述第二时序网络与第三时序网络的结构相同，包括依次设置的长短时记忆网络层、修正线性单元层以及线性层；所述第一时序网络和第二时序网络的训练损失函数均包括均方误差函数。图3示例了一种电子设备的实体结构示意图，如图3所示，该电子设备可以包括：处理器310、通信接口320、存储器330和通信总线340，其中，处理器310，通信接口320，存储器330通过通信总线340完成相互间的通信。处理器310可以调用存储器330中的逻辑指令，以执行基于多时序网络的仿真交通流变道方法，该方法包括：根据至少两帧的交通流历史帧数据提取车辆历史运动状态数据；所述车辆历史运动状态数据包括关注车辆历史运动状态数据和交互车辆历史运动状态数据；将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果；所述第一时序网络是根据第一样本和第一标签训练得到的；确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度；所述第二时序网络是根据第二样本和第二标签训练得到的；所述第三时序网络是根据第三样本和第三标签训练得到的；根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据。此外，上述的存储器330中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。另一方面，本发明还提供一种计算机程序产品，所述计算机程序产品包括计算机程序，计算机程序可存储在非暂态计算机可读存储介质上，所述计算机程序被处理器执行时，计算机能够执行上述各方法所提供的基于多时序网络的仿真交通流变道方法，该方法包括：根据至少两帧的交通流历史帧数据提取车辆历史运动状态数据；所述车辆历史运动状态数据包括关注车辆历史运动状态数据和交互车辆历史运动状态数据；将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果；所述第一时序网络是根据第一样本和第一标签训练得到的；确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度；所述第二时序网络是根据第二样本和第二标签训练得到的；所述第三时序网络是根据第三样本和第三标签训练得到的；根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据。又一方面，本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现以执行上述各方法提供的基于多时序网络的仿真交通流变道方法，该方法包括：根据至少两帧的交通流历史帧数据提取车辆历史运动状态数据；所述车辆历史运动状态数据包括关注车辆历史运动状态数据和交互车辆历史运动状态数据；将所述车辆历史运动状态数据输入第一时序网络，得到生成帧中所述关注车辆向左变道、保持车道或者向右变道的变道结果；所述第一时序网络是根据第一样本和第一标签训练得到的；确定所述变道结果为向左变道或向右变道，则将所述车辆历史运动状态数据输入第二时序网络，得到生成帧中所述关注车辆的横向加速度；将所述车辆历史运动状态数据输入第三时序网络，得到生成帧中所述关注车辆的纵向加速度；所述第二时序网络是根据第二样本和第二标签训练得到的；所述第三时序网络是根据第三样本和第三标签训练得到的；根据生成帧中所述关注车辆的横向加速度和纵向加速度，得到生成帧中所述关注车辆的运动状态数据。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的方法。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
