标题title
一种厢式货车多批次货物装载方法及应用
摘要abst
本发明公开了一种厢式货车多批次货物装载方法及应用，属于货物运输技术领域，本发明考虑到货物之间的支撑情况，规避了底面大的货物堆叠在底面小的货物之上的情况。生成了5种空块对货物进行装载，从而预穷举了装载方案；并以静态稳定性作为约束，构建聚集项指标，并基于聚集项指标求解各装载方案的权重值，选取权重值较大的装载项进行装箱，能够保证货物之间的稳定性。另外，本发明分析了装卸顺序、货物稳定性和货物批次之间的联系，装载表的每一项对应一个装载活动，通过引入临界坐标，使得每一个装载表都对应一个可行的装货顺序，将其倒排即可得到卸货顺序，能够同时保证装货和卸货顺序。
权利要求书clms
1.一种厢式货车多批次货物装载方法，其特征在于，包括以下步骤：S11、取某一未处理的批次作为当前批次，生成当前批次所对应的聚集表；所述批次包括待装载的各类货物的数量；所述聚集表用于表示多个货物堆积后的情形，包括当前批次下所有能够被放置在货箱中的聚集项；以货箱的某一下角C为原点，货箱的横向方向为横轴、货箱的纵向方向为纵轴、货箱的竖向方向为竖轴进行建立坐标系；所述聚集项包括：每类货物的数量、各类货物整体摆放后所构成的聚集块的整体尺寸、以及单类货物情况；所述单类货物情况包括：在货箱横、纵、竖三个方向上每一类货物的堆叠个数；S12、初始化空块，使其尺寸与货厢尺寸相同，并放置在空块集中；所述空块为货箱中的一个未占用的方体空间；S13、分别对所述聚集表中的各聚集项与所述空块集中的各空块进行匹配：若所述聚集表中的某一聚集项所对应的聚集块的尺寸小于或等于所述空块集中的某一空块的尺寸，则将该聚集项和该空块对应并为一个配合项，并加入到配合表中；S14、判断所述配合表中的配合项数量是否为0，若是，则转至步骤S19；S15、基于预设权重系数序列对聚集项指标进行加权求和，得到所述配合表中的各聚集项的权重值；将所述配合表中权重值最大的聚集项所对应的聚集块agg的下角B与对应空块b的下角C对齐放置，并将所述权重值最大的聚集项以及聚集块agg的下角B与货箱的下角C的相对坐标一起构成装载项L加入到装载表中；将临界坐标设置为所述聚集块agg的下角B的横坐标；所述聚集项指标由货箱中是否有货物放入、以及聚集项所对应的聚集块和空块的相对信息确定；S16、将当前批次中的每类货物的数量与所述装载项L中的每类货物的数量对应相减，以对当前批次进行更新；对于所述聚集表中的每个聚集项，若聚集项中任意一种货物的数量超过更新后的当前批次中该类货物的数量，则将其从所述聚集表中删除；S17、基于所述空块b生成对应的空块1至空块5，并放置在所述空块集中；删除所述空块集中体积为0的空块，对所述空块集中的空块进行去重后，对所述空块集中的空块进行扩展；从扩展后的空块集中删除与所述装载表中任意装载项所对应的聚集块存在重叠的空块、以及下角C的横坐标小于所述临界坐标的空块；其中，基于所述空块b生成的空块1的横长和纵长分别为所述聚集块agg的横长和纵长、竖长为所述空块b与所述聚集块agg的竖长之差；基于所述空块b生成的空块2的横长为所述空块b与所述聚集块agg的横长之差、纵长为所述聚集块agg的纵长，竖长为所述空块b的竖长；基于所述空块b生成的空块3的横长为所述聚集块agg的横长、纵长为所述空块b与所述聚集块agg的纵长之差，竖长为所述空块b的竖长；基于所述空块b生成的空块4的横长为所述空块b的横长、纵长为所述空块b与所述聚集块agg的纵长之差，竖长为所述空块b的竖长；基于所述空块b生成的空块5的横长为所述空块b与所述聚集块agg的横长之差、纵长为所述空块b的纵长、竖长为所述空块b的竖长；S18、重复步骤S13-S17，直至当前批次中各类货物的总数为0；S19、重复步骤S11-S18，直至全部批次均处理完毕。2.根据权利要求1所述的厢式货车多批次货物装载方法，其特征在于，当货箱中未放入货物时，所述聚集项指标包括聚集项所对应的聚集块与货箱的体积比、聚集项中的货物总数与当前批次的货物总数之比、以及聚集项所对应的聚集块与货箱的竖长比；当货箱中已有货物放入时，所述聚集项指标包括：聚集项所对应的聚集块与其所对应的空块的体积比、以及聚集项所对应的聚集块与其所对应的空块的竖长比。3.根据权利要求1所述的厢式货车多批次货物装载方法，其特征在于，所述预设权重系数序列的获取方法包括：随机生成一组权重系数，并进行非均匀化，得到所述预设权重系数序列；所述预设权重系数序列包括：货箱中未放入货物场景所对应的权重系数和货箱中已有货物放入场景所对应的权重系数；其中，货箱中未放入货物场景所对应的权重系数的个数与货箱中未放入货物场景所对应的聚集项指标的个数相同；货箱中已有货物放入场景所对应的权重系数的个数与货箱中已有货物放入场景所对应的聚集项指标的个数相同。4.根据权利要求1所述的厢式货车多批次货物装载方法，其特征在于，对所述空块集中的空块进行扩展的方法包括：判断所述空块集中是否同时存在基于同一空块b生成的空块2和空块4，若是，则基于空块b生成对应的空块3和空块5；判断空块集中是否同时存在基于同一空块b生成的空块3和空块5，若是，则基于空块b生成对应的空块2和空块4；将新生成的空块并加入到所述空块集中。5.根据权利要求1-4任意一项所述的厢式货车多批次货物装载方法，其特征在于，所述生成当前批次所对应的聚集表的方法包括：穷举当前批次下的各类货物分别在货箱中的聚集情况：将当前批次的货物按照类别分别在货箱中进行不同数量的聚集，得到不同的聚集块；将满足尺寸小于货箱的尺寸、且聚集数量小于当前批次下对应类别的货物总数的聚集块筛选出来；分别记录筛选出来的各聚集块的相关信息；每一个聚集块的相关信息均构成一个聚集项，加入到所述聚集表中；其中，所述聚集块的相关信息包括：聚集块内每类货物的数量、聚集块的尺寸、以及聚集块内的单类货物情况。6.根据权利要求5所述的厢式货车多批次货物装载方法，其特征在于，还包括在步骤S11与步骤S13之间执行的步骤，具体包括：对聚集表中的任意两个单类货物聚集项，若二者所对应的聚集块的某个相对应的侧面尺寸完全相同，且拼合之后的尺寸仍能放置在货厢内，则将这两个单类货物聚集项合并成一个聚集项；其中，所述单类货物聚集项为只有一种类型的货物数量不为0，其余类型的货物数量均为0的聚集项。7.一种厢式货车分批送货配载与装车作业协同优化方法，其特征在于，包括以下步骤：S21、随机生成一组权重系数，得到基准权重系数序列；对所述基准权重系数序列进行非均匀化，得到基准非均匀权重系数序列；以所述基准非均匀权重系数序列为预设权重系数序列，执行权利要求1-6任意一项所述的厢式货车多批次货物装载方法，得到基准装载表，进而得到所述基准装载表所对应的评价值，记为基准评价值；所述装载表的评价值为装载表中货物总数、货物总体积和货物总竖长的加权求和结果；S22、在所述基准权重系数序列的邻域内随机生成一个新的权重系数序列，并进行非均匀化，得到邻域非均匀权重系数序列；以所述邻域非均匀权重系数序列为预设权重系数序列，执行权利要求1-6任意一项所述的厢式货车多批次货物装载方法，得到邻域装载表，进而得到所述邻域装载表所对应的评价值，记为邻域评价值；S23、判断所述邻域评价值是否小于所述基准评价值，若是，则将所述基准权重系数序列设定为所述邻域权重系数序列、将所述基准评价值设定为所述邻域评价值；否则，以过程概率将所述基准权重系数序列设定为所述邻域权重系数序列、将所述基准评价值设定为所述邻域评价值；S24、重复执行步骤S22-S23进行迭代，直至迭代次数达到第一预设迭代次数；S25、重复执行步骤S21-S24进行迭代，直至迭代次数达到第二预设迭代次数；S26、将整个迭代过程中的最小评价值所对应的基准非均匀权重系数序列作为预设权重系数序列，执行权利要求1-6任意一项所述的厢式货车多批次货物装载方法，得到对应的装载表，即最优装载方案。8.根据权利要求7所述的厢式货车分批送货配载与装车作业协同优化方法，其特征在于，所述步骤S21中的权重系数序列包括：货箱中未放入货物场景所对应的权重系数和货箱中已有货物放入场景所对应的权重系数；所述货箱中未放入货物场景所对应的权重系数的个数与所述货箱中未放入货物场景所对应的聚集项指标的个数相同；所述货箱中已有货物放入场景所对应的权重系数的个数与所述货箱中已有货物放入场景所对应的聚集项指标的个数相同；当货箱中未放入货物时，所述聚集项指标包括聚集项所对应的聚集块与货箱的体积比、聚集项中的货物总数与当前批次的货物总数之比、以及聚集项所对应的聚集块与货箱的竖长比；当货箱中已有货物放入时，所述聚集项指标包括：聚集项所对应的聚集块与其所对应的空块的体积比、以及聚集项所对应的聚集块与其所对应的空块的竖长比。9.一种机器可读存储介质，所述机器可读存储介质存储有机器可执行指令，所述机器可执行指令在被处理器调用和执行时，所述机器可执行指令促使所述处理器实现权利要求1-6任意一项所述的厢式货车多批次货物装载方法、和/或本发明权利要求7-8任意一项所述的厢式货车分批送货配载与装车作业协同优化方法。
说明书desc
技术领域本发明属于货物运输技术领域，更具体地，涉及一种厢式货车多批次 货物装载方法及应用。背景技术以成品烟配载与装车作业为例，这种作业要求在厢式货车的长方体状 货厢中装入若干长方体状成品烟。因为烟草类货物的特性，这些长方体状 的成品烟被禁止侧放。同时由于厢式货车在一次送货的过程中将经过多个 客户点，进而先到达的客户点对应的货物应该靠外摆放。由于烟草类货物 价格高而易损坏，在评价作业的好坏时，首先将考察装入货物的数量或体 积，然后评价货物装载的稳定性。现有的厢式货车多批次货物装载方法均以填充率最大化为目标，因此 货物之间的支撑情况通常被忽略。当货物在堆叠时无法满足完全支撑时， 货物在支撑面上的受力分布将不均衡，对于如烟草类货物而言将通常造成 包装和烟丝损坏。此外，在货车运行时货物将容易失去平衡，且这些装载 方法均未给出一致可行的装货和卸货顺序。发明内容针对现有技术的以上缺陷或改进需求，本发明提供一种厢式货车多批 次货物装载方法及应用，用以解决现有技术由于未考虑完全支撑约束而存 在的货物稳定性较差的技术问题。为了实现上述目的，第一方面，本发明提供了一种厢式货车多批次货 物装载方法，包括以下步骤：S11、取某一未处理的批次作为当前批次，生成当前批次所对应的聚集 表；其中，批次包括待装载的各类货物的数量；聚集表用于表示多个货物 堆积后的情形，包括当前批次下所有能够被放置在货箱中的聚集项；以货 箱的某一下角C为原点，货箱的横向方向为横轴、货箱的纵向方向为纵轴、 货箱的竖向方向为竖轴进行建立坐标系；聚集项包括：每类货物的数量、 各类货物整体摆放后所构成的聚集块的整体尺寸、以及单类货物情况；单 类货物情况包括：在货箱横、纵、竖三个方向上每一类货物的堆叠个数；S12、初始化空块，使其尺寸与货厢尺寸相同，并放置在空块集中；其 中，空块为货箱中的一个未占用的方体空间；S13、分别对聚集表中的各聚集项和空块集中的各空块进行匹配：若聚 集表中的某一聚集项所对应的聚集块的尺寸小于或等于空块集中的某一空 块的尺寸，则将该聚集项和该空块对应并为一个配合项，并加入到配合表 中；S14、判断配合表中的配合项数量是否为0，若是，则转至步骤S19；S15、基于预设权重系数序列对聚集项指标进行加权求和，得到配合表 中的各聚集项的权重值；将配合表中权重值最大的聚集项所对应的聚集块 agg的下角B与对应空块b的下角C对齐放置，并将并将权重值最大的聚 集项以及聚集块agg的下角B与货箱的下角C的相对坐标一起构成装载项 L加入到装载表中；将临界坐标设置为聚集块agg的下角B的横坐标；其 中，聚集项指标由货箱中是否有货物放入、以及聚集项所对应的聚集块和 空块的相对信息确定；S16、将当前批次中的每类货物的数量与装载项L中的每类货物的数量 对应相减，以对当前批次进行更新；对于聚集表中的每个聚集项，若聚集 项中任意一种货物的数量超过更新后的当前批次中该类货物的数量，则将 其从聚集表中删除；S17、基于空块b生成对应的空块1至空块5，并放置在空块集中；删 除空块集中体积为0的空块，对空块集中的空块进行去重后，对空块集中 的空块进行扩展；从扩展后的空块集中删除与装载表中任意装载项所对应 的聚集块存在重叠的空块、以及下角C的横坐标小于临界坐标的空块；其 中，基于空块b生成的空块1的横长和纵长分别为聚集块agg的横长和纵 长、竖长为空块b与聚集块agg的竖长之差；基于空块b生成的空块2的 横长为空块b与聚集块agg的横长之差、纵长为聚集块agg的纵长，竖长为 空块b的竖长；基于空块b生成的空块3的横长为聚集块agg的横长、纵 长为空块b与聚集块agg的纵长之差，竖长为空块b的竖长；基于空块b 生成的空块4的横长为空块b的横长、纵长为空块b与聚集块agg的纵长之差，竖长为空块b的竖长；基于空块b生成的空块5的横长为空块b与 聚集块agg的横长之差、纵长为空块b的纵长、竖长为空块b的竖长；S18、重复步骤S13-S17，直至当前批次中各类货物的总数为0；S19、重复步骤步骤S11-S18，直至全部批次均处理完毕。进一步优选地，当货箱中未放入货物时，聚集项指标包括聚集项所对 应的聚集块与货箱的体积比、聚集项中的货物总数与当前批次的货物总数 之比、以及聚集项所对应的聚集块与货箱的竖长比；当货箱中已有货物放入时，聚集项指标包括：聚集项所对应的聚集块 与其所对应的空块的体积比、以及聚集项所对应的聚集块与其所对应的空 块的竖长比。进一步优选地，预设权重系数序列的获取方法包括：随机生成一组权 重系数，并进行非均匀化，得到预设权重系数序列；其中，预设权重系数 序列包括：货箱中未放入货物场景所对应的权重系数和货箱中已有货物放 入场景所对应的权重系数；货箱中未放入货物场景所对应的权重系数的个 数与货箱中未放入货物场景所对应的聚集项指标的个数相同；货箱中已有 货物放入场景所对应的权重系数的个数与货箱中已有货物放入场景所对应 的聚集项指标的个数相同。进一步优选地，对空块集中的空块进行扩展的方法包括：判断空块集 中是否同时存在基于同一空块b生成的空块2和空块4，若是，则基于空块 b生成对应的空块3和空块5；判断空块集中是否同时存在基于同一空块b 生成的空块3和空块5，若是，则基于空块b生成对应的空块2和空块4； 将新生成的空块并加入到空块集中。进一步优选地，生成当前批次所对应的聚集表的方法包括：穷举当前 批次下的各类货物分别在货箱中的聚集情况：将当前批次的货物按照类别 分别在货箱中进行不同数量的聚集，得到不同的聚集块；将满足尺寸小于 货箱的尺寸、且聚集数量小于当前批次下对应类别的货物总数的聚集块筛 选出来；分别记录筛选出来的各聚集块的相关信息；每一个聚集块的相关 信息均构成一个聚集项，加入到聚集表中；其中，聚集块的相关信息包括：聚集块内每类货物的数量、聚集块的 尺寸、以及聚集块内的单类货物情况；单类货物情况包括：在货箱横、纵、 竖三个方向上每一类货物的堆叠个数。进一步优选地，上述厢式货车多批次货物装载方法还包括在步骤S11 与步骤S13之间执行的步骤，具体包括：对聚集表中的任意两个单类货物聚集项，若二者所对应的聚集块的某 个相对应的侧面尺寸完全相同，且拼合之后的尺寸仍能放置在货厢内，则 将这两个单类货物聚集项合并成一个聚集项；其中，单类货物聚集项为只 有一种类型的货物数量不为0，其余类型的货物数量均为0的聚集项。第二方面，本发明提供了一种厢式货车分批送货配载与装车作业协同 优化方法，包括以下步骤：S21、随机生成一组权重系数，得到基准权重系数序列；对基准权重系 数序列进行非均匀化，得到基准非均匀权重系数序列；以上述基准非均匀 权重系数序列为预设权重系数序列，执行本发明第一方面所提供的厢式货 车多批次货物装载方法，得到基准装载表，进而得到基准装载表所对应的 评价值，记为基准评价值；其中，装载表的评价值为装载表中货物总数、 货物总体积和货物总竖长的加权求和结果；S22、在基准权重系数序列的邻域内随机生成一个新的权重系数序列， 并进行非均匀化，得到邻域非均匀权重系数序列；以上述邻域非均匀权重 系数序列为预设权重系数序列，执行本发明第一方面所提供的厢式货车多 批次货物装载方法，得到邻域装载表，进而得到邻域装载表所对应的评价 值，记为邻域评价值；S23、判断邻域评价值是否小于基准评价值，若是，则将基准权重系数 序列设定为邻域权重系数序列、将基准评价值设定为邻域评价值；否则， 以过程概率将基准权重系数序列设定为邻域权重系数序列、将基准评价值 设定为邻域评价值；S24、重复执行步骤S22-S23进行迭代，直至迭代次数达到第一预设迭 代次数；S25、重复执行步骤S21-S24进行迭代，直至迭代次数达到第二预设迭 代次数；S26、将整个迭代过程中的最小评价值所对应的基准非均匀权重系数序 列作为预设权重系数序列，执行本发明第一方面所提供的厢式货车多批次 货物装载方法，得到对应的装载表，即最优装载方案。进一步优选地，步骤S21中的权重系数序列包括：货箱中未放入货物 场景所对应的权重系数和货箱中已有货物放入场景所对应的权重系数；货箱中未放入货物场景所对应的权重系数的个数与货箱中未放入货物 场景所对应的聚集项指标的个数相同；货箱中已有货物放入场景所对应的 权重系数的个数与货箱中已有货物放入场景所对应的聚集项指标的个数相 同；当货箱中未放入货物时，聚集项指标包括聚集项所对应的聚集块与货 箱的体积比、聚集项中的货物总数与当前批次的货物总数之比、以及聚集 项所对应的聚集块与货箱的竖长比；当货箱中已有货物放入时，聚集项指标包括：聚集项所对应的聚集块 与其所对应的空块的体积比、以及聚集项所对应的聚集块与其所对应的空 块的竖长比。第三方面，本发明还提供了一种机器可读存储介质，所述机器可读存 储介质存储有机器可执行指令，所述机器可执行指令在被处理器调用和执 行时，所述机器可执行指令促使所述处理器实现本发明第一方面所提供的 厢式货车多批次货物装载方法、和/或本发明第二方面所提供的厢式货车分 批送货配载与装车作业协同优化方法。总体而言，通过本发明所构思的以上技术方案，能够取得以下有益效 果：1、本发明提供了一种厢式货车多批次货物装载方法，考虑到货物之间 的支撑情况，规避了底面较大的货物堆叠在底面较小的货物之上的情况生 成了5种类型的空块，对货物进行装载，得到预穷举的装载方案；并以静 态稳定性作为约束，构建聚集项指标，并基于聚集项指标求解各装载方案 的权重值，并选取权重值较大的装载项进行装箱。在这个过程中，由于空 块表的生成过程蕴含着完全支撑的前提，因此本发明能够保证货物的稳定性。2、本发明所提供的厢式货车多批次货物装载方法，分析了装卸顺序、 货物稳定性和货物批次之间的联系，装载表的每一项对应一个装载活动， 通过引入临界坐标，使得装载表的各项是从货厢内向货厢外 、从地面向上排列，从而每一个 装载表都对应一个可行的装货顺序，将其倒排即可得到卸货顺序。因此本 发明所提供的装载方法能同时保证装货和卸货顺序。3、本发明所提供的厢式货车多批次货物装载方法，在生成新空块的过 程中，考虑到存在等价空块对的情况，对空块集中的空块进行扩展，添入 所有可能的空块项，以提高货箱体积的利用率。4、本发明所提供的厢式货车多批次货物装载方法，包含货物的聚集过 程，通过将满足合并条件的单类货物聚集项合并成一个聚集项，由此将装 载算法中每个循环放置单个货物优化为多个货物，进而减少循环次数。5、本发明提供了一种厢式货车分批送货配载与装车作业协同优化方 法，考虑到货物之间的支撑情况，以静态稳定性作为约束，动态稳定性作 为目标，将货物最大高度这一指标加入了优化算法的评价值中，通过对权 重系数进行优化来控制放置过程中装载表的排序结果，进而实现装箱过程， 通过搜索权重可以达到优化装载率和稳定度的目的。在这个过程中，对相 同的若干货物而言，当货物最大高度降低时，货物之间的自由活动空间减 小，从而提升货物之间的动态稳定性。附图说明图1为本发明实施例1提供的厢式货车多批次货物装载方法流程图；图2为本发明实施例1提供的某一聚集项所对应的装载示意图；图3为本发明实施例1提供的某一装载项所对应的装载示意图；图4为本发明实施例1提供的空块示意图；图5为本发明实施例1提供的第一个批次的装置过程示意图；图6为本发明实施例1提供的第二个批次的装置过程示意图；图7为本发明实施例2提供的厢式货车分批送货配载与装车作业协同 优化方法流程图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图 及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体 实施例仅仅用以解释本发明，并不用于限定本发明。此外，下面所描述的 本发明各个实施方式中所涉及到的技术特征只要彼此之间未构成冲突就可 以相互组合。实施例1、一种厢式货车多批次货物装载方法，如图1所示，厢式货车多批次货 物装载方法包括以下步骤：S11、取某一未处理的批次作为当前批次，生成当前批次所对应的聚集表；其中，批次包括待装载 的各类货物的数量；聚集表用于表示多个货物堆积后的情形，包括当前批 次下所有能够被放置在货箱中的聚集项；以货箱的某一下角C为原点，货箱的横向方向为横轴、货箱的纵向方向为纵轴、 货箱的竖向方向为竖轴进行建立坐标系；聚集项包括：每类货物的数量、 各类货物整体摆放后所构成的聚集块的整体尺寸、以及单类货物情况；单 类货物情况包括：在货箱横、纵、竖三个方向上每一类货物的堆叠个数；具体地，本实施例所提及的货物信息包括货物长度列表、货物宽度列表、货物 高度列表和批次表。本实施例所提及的货厢信息包括货厢长度、货厢宽 度和货厢高度。本实施例所提及的聚集项是记录货物聚集情况的列表；本 发明提及的聚集表是聚集项的列表。聚集项中的每个子项分别代表聚集项 中每类货物的总个数、聚集项总体的尺寸大小、每一个聚集子项的货物种 类、单个货物尺寸、三个方向上各自堆叠的货物个数、聚集子项前左下角 相对于聚集项前左下角的坐标。货物聚集项的数据结构定义式为：K≡，，{})其中，第一项表示这个货物聚集项中各类货物的个数； 第二项表示这个货物聚集项整体的长宽高尺寸；第三项为一 个列表，表中的每一项称为一个单类货物聚集项，表中各项表示货物种类、 单个货物的x轴尺寸、y轴尺寸、z轴尺寸、x轴向排列个数、y轴向排列 个数、z轴向排列个数、x轴相对位置、y轴相对位置、z轴相对位置。具体地，如图2所示，全体货物可以视作一个聚集项，包括甲乙两种 类型的货物；其中，横纹为甲类货物，斜纹为乙类获取；聚集项的描述如 表1所示：表1从表1可以看出，该聚集项一共包含2个货物甲和4个货物乙，整体 尺寸横向占据1个单位、纵向占据4个单位、竖向占据4个单位。其中包 含两个聚集子项。第一个聚集子项为货物乙，其横向占据1个单位、纵向 占据1个单位、竖向占据2个单位，该聚集子项横向堆叠1个、纵向堆叠4 个、竖向堆叠1个，其前左下角相对于聚集项的坐标为。第二个聚 集子项为货物乙，其横向占据1个单位、纵向占据2个单位、竖向占据2 个单位，该聚集子项横向堆叠1个、纵向堆叠2个、竖向堆叠1个，其前 左下角相对于聚集项的坐标为。具体地，生成当前批次所对应的聚集表的方法包括：穷举当前批次下 的各类货物分别在货箱中的聚集情况：将当前批次的货物按照类别分别在 货箱中进行不同数量的聚集，得到不同的聚集块；将满足尺寸小于货箱的 尺寸、且聚集数量小于当前批次下对应类别的货物总数的聚集块筛选出来； 分别记录筛选出来的各聚集块的相关信息；每一个聚集块的相关信息均构 成一个聚集项，加入到聚集表中；其中，聚集块的相关信息包括：聚集块内每类货物的数量、聚集块的尺寸、以及聚集块内的单类货物情况；单类 货物情况包括：在货箱横、纵、竖三个方向上每一类货物的堆叠个数。进一步地，在一些可选实施方式下，生成货物聚集表的方法还包括： 对聚集表中的任意两个单类货物聚集项，若二者所对应的聚集块的某个相 对应的侧面尺寸完全相同，且拼合之后的尺寸仍能放置在货厢内，则将这 两个单类货物聚集项合并成一个聚集项；其中，单类货物聚集项为只有一 种类型的货物数量不为0，其余类型的货物数量均为0的聚集项。此时，生 成货物聚集表过程包含两步，第一步是生成单类货物聚集表，第二步是根 据第一部生成的单类货物聚集表生成多类货物聚集表。在第一步中，考察每一类货物的每一个合法的朝向，由于货物须要堆 叠成立方体状，即由横向、纵向、竖向堆叠若干货物构成，因而这一过程 受到两部分约束，其一是货厢各方向尺寸可供容纳的货物数，其二是该批 次的该类货物数。因而考察所有可能的横向、纵向、竖向堆叠个数，如果 其乘积小于等于该批次的该类货物数，则将其添入单类货物聚集表，否则 不添入。其中用到以下符号：nx，ny，nz——横向、纵向、竖向堆叠个数；A，B，C——货厢长、货厢宽、货厢高；a，b，c——货物在该朝向下的三向尺寸；πm——该批次内第m类货物的个数。进而横向、纵向、竖向堆叠个数最小值为1，最大值分别为：在第二步中，考察任两个单类货物聚集项，如果二者的某个相对应的 侧面尺寸完全相同，且拼合之后的尺寸仍能位于货厢内，则生成对应的一 个多类货物聚集项，由于何者在前何者在后是对称的，因而取任意一个单 类货物聚集项的相对坐标为即可。在完成之后，对货物聚集表进 行去重，即可得到最终的货物聚集表。S12、初始化空块，使其尺寸与货厢尺寸相同，并放置在空块集中；其 中，空块为货箱中的一个未占用的方体空间；需要说明的是，本实施例所提及的空块是长方体状的块状空间，表示 货厢中的一个未占用的立方体状空间，空块项是记录空块属性的列表，共 包括六个子项，分别表示空块的长、宽、高、 前左下角横坐标、前左下角纵坐标、前左下角竖坐标。空块项的数据结构 定义式为：各项分别表示空块x轴尺寸、y轴尺寸、z轴尺寸、前左下角x轴坐标、 前左下角y轴坐标、前左下角z轴坐标。空块项的列表称为空块表。S13、分别对聚集表中的各聚集项和空块集中的各空块进行匹配：若聚 集表中的某一聚集项所对应的聚集块的尺寸小于或等于空块集中的某一空 块的尺寸，则将该聚集项和该空块对应并为一个配合项，并加入到配合表 中；其中，本实施例所提及的配合项是记录聚集项和空块项的配合情况的 项，配合项的第一项是聚集项，第二项是空块项；配合表是配合项的列表。其中，配合项表示一种可能的货物聚集项和空块项的搭配情况，数据 结构定义式为：P≡各项分别表示货物聚集项和空块项。S14、判断配合表中的配合项数量是否为0，若是，则转至步骤S19；S15、基于预设权重系数序列对聚集项指标进行加权求和，得到配合表 中的各聚集项的权重值；将配合表中权重值最大的聚集项所对应的聚集块 agg的下角B与对应空块b的下角C对齐放置，并将权重值最大的聚集项 以及聚集块agg的下角B与货箱的下角C的相对坐标一起构成装载项L加 入到装载表中；将临界坐标设置为聚集块agg的下角B的横坐标；其中， 聚集项指标由货箱中是否有货物放入、以及聚集项所对应的聚集块和空块 的相对信息确定；其中，当货箱中未放入货物时，聚集项指标包括聚集项所对应的聚集 块与货箱的体积比、聚集项中的货物总数与当前批次的货物总数之比、以 及聚集项所对应的聚集块与货箱的竖长比。当货箱中已有货物放入时，聚 集项指标包括：聚集项所对应的聚集块与其所对应的空块的体积比、以及 聚集项所对应的聚集块与其所对应的空块的竖长比。需要说明的是，用于为聚集项进行排序的聚集项指标应与聚集项中货 物总个数正相关。构造若干指标后，通过实际案例进行仿真实验可以遴选 出与装载方案优劣程度相关性显著的指标。需要说明的是，预设权重系数序列可以是经过非均匀化后的一组权重 系数；也可以通过以下方式获取：随机生成一组权重系数，并进行非均匀 化，得到预设权重系数序列；其中，预设权重系数序列包括：货箱中未放 入货物场景所对应的权重系数和货箱中已有货物放入场景所对应的权重系 数；货箱中未放入货物场景所对应的权重系数的个数与货箱中未放入货物 场景所对应的聚集项指标的个数相同；货箱中已有货物放入场景所对应的权重系数的个数与货箱中已有货物放入场景所对应的聚集项指标的个数相 同。其中，本实施例所提及的权重系数序列的数据结构可以为权重向量。 权重向量的每一项是一个数，通过权重向量和聚集项指标进行运算将得到 作为一个数的权重。本实施例所提及的装载项是记录货物装载情况的列表，装载项的第一 个子项为一个聚集项，装载项的第二个子项为聚集项的前左下角相对于货 厢前左下角的坐标。装载项表示一个将货物聚集项装载入货厢中的操作， 装载项的列表称为装载表，装载表的列表称为多批装载表。装载项的数据 结构定义式为：其中，第一项为货物聚集项，第二项为该货物聚集项在放置后的前左下 角相对于货厢而言的x轴坐标、y轴坐标和z轴坐标。具体地，如图3所示的装载情形可以视作一个装载项，装载项的描述 如表2所示：表2从表2可以看出装载项的前15个数同装载表的解释相同。后3个数表 示该装载项的前左下角放置在相对于货厢前左下角的处。S16、将当前批次中的每类货物的数量与装载项L中的每类货物的数量 对应相减，以对当前批次进行更新；对于聚集表中的每个聚集项，若聚集 项中任意一种货物的数量超过更新后的当前批次中该类货物的数量，则将 其从聚集表中删除；S17、基于空块b生成对应的空块1至空块5，并放置在空块集中，如 图4所示；删除空块集中体积为0的空块，对空块集中的空块进行去重后， 对空块集中的空块进行扩展；从扩展后的空块集中删除与装载表中任意装 载项所对应的聚集块存在重叠的空块、以及下角C的横坐标小于临界坐标 的空块；其中，基于空块b生成的空块1的横长和纵长分别为聚集块agg 的横长和纵长、竖长为空块b与聚集块agg的竖长之差；基于空块b生成 的空块2的横长为空块b与聚集块agg的横长之差、纵长为聚集块agg的纵 长，竖长为空块b的竖长；基于空块b生成的空块3的横长为聚集块agg 的横长、纵长为空块b与聚集块agg的纵长之差，竖长为空块b的竖长； 基于空块b生成的空块4的横长为空块b的横长、纵长为空块b与聚集块 agg的纵长之差，竖长为空块b的竖长；基于空块b生成的空块5的横长为 空块b与聚集块agg的横长之差、纵长为空块b的纵长、竖长为空块b的 竖长；以图4为例，其中，虚线立方体为空块b，实线立方体为生成的空块， 分别标注为1、2、3、4、5，对应空块1至空块5。考虑空块1至空块5处 在同一个空块b内，则空块2、4与空块3、5表达了完全相同的一块可利 用空间，称空块2、4和空块3、5是等价的空块。在上述过程中，将不断 生成存在等价空块的空块项，因此可以对空块集中的空块进行扩展，在空 块表中添入所有可能的空块项，以提高体积利用率。具体地，对空块集中 的空块进行扩展的方法包括：判断空块集中是否同时存在基于同一空块b 生成的空块2和空块4，若是，则基于空块b生成对应的空块3和空块5； 判断空块集中是否同时存在基于同一空块b生成的空块3和空块5，若是， 则基于空块b生成对应的空块2和空块4；将新生成的空块并加入到空块集 中。考虑任两个空块项，如果其坐标与尺寸关系如同空块2、4，则在空块 表中添入空块3、5。与之类似的等价空块还有若干种，这些等价关系是自然而易于提出的。S18、重复步骤S13-S17，直至当前批次中各类货物的总数为0；S19、重复步骤步骤S11-S18，直至全部批次均处理完毕。为了方便理解，在一个具体实施例中包含两类货物，其中，货物甲的 规格为2×2×1，货物乙的规格为2×1×1。货厢的规格为4×4×4。一共 有两个批次，第一个批次有4件货物甲和6件货物乙，第二个批次有5件 货物甲和8件货物乙。本实施例将上述过程分为首次放置过程和非首次放置过程。对应地将 上述步骤S11-S19变换为以下步骤：a1、确定货物信息、货厢信息和基准权重向量，初始化装载表和空块 表；其中，货物信息包括以下列表：货物长的列表a＝，货物宽的列 表b＝，货物高的列表c＝，批次表P＝,]。货厢信息 包括以下变量：货厢长A＝4，货厢宽B＝4，货厢高C＝4。具体地，随机生成一个基准权重向量，通过变换函数得到变换后的基 准权重向量。在本实施例中，假设随机生成基准权重向量为。变换函数b将基准权重向量中的每个数转换为另一个数，其表达式为：进而基准权重向量被转换为变换后的基准权重向量。搜索部分的后续过程中，当出现变换函数时相关操作与本处相同。需要 说明的是，基准权重向量是各聚集项指标所对应的权重系数构成的向量， 本实施例中分别对首次放置和非首次放置的预设权重系数序列同时进行了 初始化，基准权重向量的前四项对应首次放置的预设权重系数序列，后四 项对应非首次放置的预设权重系数序列。在本实施例中，确定货物信息、货厢信息为上述的列表和变量。确定 权重向量为。装载表和空块表均初始化为空表。a2、取批次表中的其中一个批次，生成货物聚集表，如果它是批次表 中的第一个批次，执行首次放置过程，否则不执行首次放置过程；在本实施例中，取批次表中的第一个批次，生成货物聚集表。通 过穷举货物在货箱中横向、纵向、竖向堆叠个数，使得整体货物的尺寸小 于货箱的尺寸，且每一类的货物总数小于该批次下对应类 的货物总数，生成所有可被放置在货厢中的货物聚集项。部分结果如表3 所示：表3a3、如果批次中的货物总数不等于0，执行非首次放置过程；a4、循环执行a3直到满足该批次中的货物总数等于0；a5、循环执行a2至a4，直到全部批次被取遍，输出装载表。在上述过程中，首次放置的过程如下：b1、对聚集表中的元素按权重排序，权重由各种指标按权重向量加权 得到；此时的空块b即为货箱。在本实施例中，取权重向量的前四项，对首次放置下各聚集 项指标进行加权求和得到权重值为：0×整体体积÷货厢体积+0×货物总 数÷批次货物总数+1×整体宽÷货厢宽+0×整体高÷货厢高。由此对聚 集表进行排序。这里的宽和高分别对应纵长和竖长。其中，批次货物总数 为10。b2、取聚集表的第一项，将其前左下角与货厢的前左下角对齐放置， 生成装载项加入装载表；在本实施例中，装载表由空表更新为如表4的一项。表4b3、批次中的每种货物个数减去装载项中的每种货物个数得到更新后 的批次；b4、对于聚集表中的每个聚集项，如果聚集项中任意一种货物的个数 超过更新后的批次中该种货物的个数，则从聚集表中删除该聚集项；b5、在空块表中添加五个空块项，基于空块b生成的空 块1至空块5。在上述过程中，非首次放置的过程如下：c1、对于聚集表中的每个聚集项，对于空块表中的每个空块项，如果 聚集项的尺寸比空块项小，将聚集项和空块项并为一个配合项，添入配合 表；c2、如果配合表中没有配合项，该部分算法结束，否则执行c3；c3、对配合表中的元素按权重排序，权重由各种指标按权重向量加权 得到；需要说明的是，配合表是更新后的聚集项和空块项的对应集合；穷举 聚集表和空块表，将所有聚集项的货物整体尺寸的横、纵、竖的尺寸均小 于对应空块项的横、纵、竖的尺寸保留。c4、取配合表的第一项，将其聚集项的前左下角与其空块项的前左下 角对齐放置，生成装载项加入装载表；c5、将临界坐标更新为聚集项的前左下角的横坐标；c6、批次中的每种货物个数减去装载项中的每种货物个数得到更新后 的批次；c7、对于聚集表中的每个聚集项，如果聚集项中任意一种货物的个数 超过更新后的批次中该种货物的个数，则从聚集表中删除该聚集项；c8、添入装载项所对应的五个空块项，删去体积为0的空块项，执行 空块项合并过程，删去空块表中重复的空块项，删去和装载项中的聚集项 存在重叠的空块项，删去前左下角横坐标小于临界坐标的空块项。在本实施例中，执行非首次放置过程时，取权重向量的后四项。对非首次放置下各聚集项指标进行加权求和得到权重值为：：1×整体 体积÷空块体积+0×整体宽÷空块宽+0×整体高÷空块高+0×货物 总数÷批次货物总数。这里的宽和高分别对应纵长和竖长。由此对配合表中的配合项进行排序，取第一项 放置在装载表中。经过多次执行非首次放置过程之后，装载表更新为如下 表5所示的如下四项。表5在第二个批次的执行过程完毕后，装载表更新为如下表6所示的八项。表6具体地，基于上述方法，第一个批次的装置过程如图5所示。第二个 批次的装载过程如图6所示。实施例2、一种厢式货车分批送货配载与装车作业协同优化方法，如图7所示， 包括以下步骤：S21、随机生成一组权重系数，得到基准权重系数序列；对基准权重系 数序列进行非均匀化，得到基准非均匀权重系数序列；以上述基准非均匀 权重系数序列为预设权重系数序列，执行本发明实施例1所提供的厢式货 车多批次货物装载方法，得到基准装载表，进而得到基准装载表所对应的 评价值，记为基准评价值；其中，装载表的评价值为装载表中货物总数、 货物总体积和货物总竖长的加权求和结果；具体地，权重系数序列包括：货箱中未放入货物场景所对应的权重系 数和货箱中已有货物放入场景所对应的权重系数；货箱中未放入货物场景所对应的权重系数的个数与货箱中未放入货物 场景所对应的聚集项指标的个数相同；货箱中已有货物放入场景所对应的 权重系数的个数与货箱中已有货物放入场景所对应的聚集项指标的个数相 同；当货箱中未放入货物时，聚集项指标包括聚集项所对应的聚集块与货 箱的体积比、聚集项中的货物总数与当前批次的货物总数之比、以及聚集 项所对应的聚集块与货箱的竖长比；当货箱中已有货物放入时，聚集项指标包括：聚集项所对应的聚集块 与其所对应的空块的体积比、以及聚集项所对应的聚集块与其所对应的空 块的竖长比。S22、在基准权重系数序列的邻域内随机生成一个新的权重系数序列， 并进行非均匀化，得到邻域非均匀权重系数序列；以上述邻域非均匀权重 系数序列为预设权重系数序列，执行本发明实施例1所提供的厢式货车多 批次货物装载方法，得到邻域装载表，进而得到邻域装载表所对应的评价 值，记为邻域评价值；S23、判断邻域评价值是否小于基准评价值，若是，则将基准权重系数 序列设定为邻域权重系数序列、将基准评价值设定为邻域评价值；否则， 以过程概率将基准权重系数序列设定为邻域权重系数序列、将基准评价值 设定为邻域评价值；S24、重复执行步骤S22-S23进行迭代，直至迭代次数达到第一预设迭 代次数；S25、重复执行步骤S21-S24进行迭代，直至迭代次数达到第二预设迭 代次数；S26、将整个迭代过程中的最小评价值所对应的基准非均匀权重系数序 列作为预设权重系数序列，执行本发明实施例1所提供的厢式货车多批次 货物装载方法，得到对应的装载表，即最优装载方案。具体地，为了获取整个迭代过程中的最小评价值，其中一个方式为在 步骤S21之前执行步骤S20，具体为：将最小评价值初始化为足够大的数，将最小权重系数序列初始化为空序列。然后在步骤S24的迭代过程 中，记录迭代所生成的评价值最小的装载表及其评价值，记为最小基准评 价。在步骤S24与步骤S25之间执行步骤S27，具体为：判断最小基准评 价值是否小于最小评价值，若是，则将最小权重系数序列设定为最小基准 评价值所对应的基准权重系数序列，将最小评价值设定为最小基准评价值。 最后在步骤S26中，以最小评价值所对应的基准非均匀权重系数序列为预 设权重系数序列，执行本发明实施例1所提供的厢式货车多批次货物装载 方法，得到对应的装载表，即最优装载方案。相关技术方案同实施例1，这里不做赘述。综上，本发明主要考察的稳定性问题包括静态稳定性和动态 稳定性问题。这两个约束首先应与货厢约束的货物整体重心投影 约束相区别。后者来自国家标准声明的汽车轴重限制，仅间接地影响货物 在货车行进过程中的稳定性。在考虑静态稳定性时，必须注意其与底面接触面积比之间的关系既不 充分也不必要。这是因为接触面积比小于100％时必然可构造重心投影点偏 移的情形，进而由于货物的尺寸有限，从而一定导致偏移有限累积后失衡 的情形。反之在接触面积比较小时，也可构造“多货支撑一货”的稳定结 构。因而当接触面积比等于100％时，必然能构造保证货物的静态稳定性的 方法。在考虑动态稳定性时，该约束被考虑为货物可自由活动的空间的总和。 一般而言，某货物的自由活动空间是指固定其他全体货物的前提下，该货 物朝各方向移动所经过的空间总体积。为此应当考虑货厢在货厢全空间中 同货物当前位置连通且可达的区域，其中的可达性指代货物的尺寸在可能 的路径下适合通过。同时全体货物的空间则应当表达为令一个至全体货物 自由活动而固定其他货物坐标下的所有可能情形下空间并集的总体积。这 一过程难以在模型中直接表示，但可求一上界。考虑同质货物的同朝向排 列，则此时的全体货物的自由活动空间即为以货厢长和宽为长和宽，以货 物最高顶面到货厢底面距离为高的立方体。由于货厢尺寸为定值，进而可 取货物最高顶面到货厢底面的高度为间接指标。基于上述分析建立目标模型，模型中的静态稳定性作为约束，动态稳 定性作为目标，并转化为以下目标，当货物未全部装入时，最小化未装入 的货物总体积；当货物全部装入时，最小化货物的水平稳定度；且对应的约束条件为：1)朝向约束：每个货物有且仅有 一边每个轴平行、有且仅有一轴同每个货物的每条边平行、以长和高构成 的两个面不得朝上、每个货物的左下角和其它边界点都在货箱内、以及货 物之间不得重叠。2)顺序约束：卸货顺序为货物索引的排列、以及先卸的 货要么比后卸的货物靠右，要么靠上。3)多批次约束：先卸批次的货物比 后卸批次的货物先卸；4)静态稳定性约束：每个货物都被比它后卸的货物100％地支撑。另外，本发明分析了装卸顺序、货物稳定性和货物批次之间的联系， 指出装卸顺序是后两者得以分析和度量的前提。然后分析了建立模型的过 程，指出为描述各约束有必要引入的各类变量和函数。最后将问题描述为 一个最优化问题，给出其目标和约束。基于此，本发明首先构造了绝对符 合全体约束的装箱过程，因为装箱过程中的决策过程由一系列权重决定， 进而算法将最优化问题转为另一最优化问题，其中自变量为权重向量，因 变量仍为目标函数。基于以上思路，本申请提出了上述厢式货车多批次货 物装载方法及优化方法。实施例3、一种机器可读存储介质，所述机器可读存储介质存储有机器可执行指 令，所述机器可执行指令在被处理器调用和执行时，所述机器可执行指令 促使所述处理器实现实施例1所提供的厢式货车多批次货物装载方法、和/ 或实施例2所提供的厢式货车分批送货配载与装车作业协同优化方法。相关技术方案同实施例1和实施例2，这里不做赘述。本领域的技术人员容易理解，以上所述仅为本发明的较佳实施例而已， 并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等 同替换和改进等，均应包含在本发明的保护范围之内。
