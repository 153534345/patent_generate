标题title
钢结构形变检测方法、装置、计算机设备及存储介质
摘要abst
本申请公开一种钢结构形变检测方法、装置、计算机设备及存储介质，涉及计算机应用技术领域，所述方法包括通过获取钢结构的三维点云数据，根据三维点云数据提取钢结构的二维轮廓数据，将二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据，根据迭代最近点算法，对第一测量数据进行精配准，以得到第二测量数量，计算第二测量数据到钢结构轮廓模板的最小距离误差，以确定钢结构的形变量，一方面，二维轮廓数据有利于减少不必要的干扰数据，减少了钢结构形变的计算量，另一方面，对钢结构的二维轮廓数据进行粗配准和精配准，即双重配准方式有利于提高钢结构变量的准确率，进而实现全面、精确、快速的钢结构形变分析效果。
权利要求书clms
1.一种钢结构形变检测方法，其特征在于，所述方法包括：获取钢结构的三维点云数据；根据所述三维点云数据提取所述钢结构的二维轮廓数据；将所述二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据；根据迭代最近点算法，对所述第一测量数据进行精配准，以得到第二测量数量；计算所述第二测量数据到所述钢结构轮廓模板的最小距离误差，以确定所述钢结构的形变量。2.根据权利要求1所述的钢结构形变检测方法，其特征在于，所述根据所述三维点云数据提取所述钢结构的二维轮廓数据包括：根据所述钢结构的三维点云数据确定所述钢结构的延伸方向；从所述钢结构的三维点云数据确定所述钢结构的包围盒数据；根据所述延伸方向，从所述包围盒数据提取所述钢结构的二维轮廓数据。3.根据权利要求2所述的钢结构形变检测方法，其特征在于，所述根据所述钢结构的三维点云数据确定所述钢结构的延伸方向包括：从所述钢结构的三维点云数据确定所述三维点云数据的质心数据；根据所述三维点云数据和所述质心数据构建协方差矩阵；根据所述协方差矩阵确定所述钢结构的延伸方向。4.根据权利要求2所述的钢结构形变检测方法，其特征在于，所述根据所述延伸方向，从所述包围盒数据提取所述钢结构的二维轮廓数据包括：根据所述延伸方向和所述质心数据确定所述包围盒数据对应的横截面；根据所述包围盒数据到所述横截面的距离，将符合预设距离区间的距离所对应的包围盒数据作为截面数据；将所述截面数据投影到所述横截面，以获取二维轮廓数据。5.根据权利要求1所述的钢结构形变检测方法，其特征在于，所述钢结构轮廓模板包括多个第二角点和以及根据所述第二角点构建的多个第二三角形，所述将所述二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据包括：获取所述二维轮廓数据的第一角点；构建所述第一角点对应的多个第一三角形；将所述第一三角形和所述第二三角形进行匹配计算，以获取旋转矩阵和平移向量；将所述旋转矩阵和所述平移向量进行转换，以得到第一测量数据。6.根据权利要求5所述的钢结构形变检测方法，其特征在于，所述获取所述二维轮廓数据的第一角点包括：获取所述二维轮廓数据的多个临近点；将所述多个临近点与所述二维轮廓数据进行连接得到多条边；从所述多条边中获取每两条边之间所形成的夹角，所述夹角包括角度值；将符合预设角度值的夹角对应的二维轮廓数据作为第一角点。7.根据权利要求5所述的钢结构形变检测方法，其特征在于所述将所述第一三角形和所述第二三角形进行匹配计算，以获取旋转矩阵和平移向量包括：从所述第二三角形中获取与所述第一三角形匹配的多个相似三角形；计算每两个所述相似三角形之间对应点重合的初始旋转矩阵和初始平移向量；根据所述初始旋转矩阵和所述初始平移向量，获取多个配准误差；从所述多个配准误差中确定最小的配准误差，并将最小的配准误差对应的初始旋转矩阵和初始平移向量作为最终的旋转矩阵和平移向量。8.一种钢结构形变检测装置，其特征在于，所述钢结构形变检测装置包括：获取模块，用于获取钢结构的三维点云数据；提取模块，用于根据所述三维点云数据提取所述钢结构的二维轮廓数据；粗配准模块，用于将所述二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据；精配准模块，用于根据迭代最近点算法，对所述第一测量数据进行精配准，以得到第二测量数量；计算模块，用于计算所述第二测量数据到所述钢结构轮廓模板的最小距离误差，以确定所述钢结构的形变量。9.一种计算机设备，包括存储器和处理器，所述存储器中存储有计算机程序，所述处理器执行所述计算机程序时实现如权利要求1至7中任一项所述的钢结构形变检测方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1至7中任一项所述的钢结构形变检测方法的步骤。
说明书desc
技术领域本申请涉及工程结构形变检测技术领域，尤其涉及一种钢结构形变检测方法、装置、计算机设备及存储介质。背景技术钢结构因其强度大、跨度大、塑形好、耐高温等优异性能被广泛应用于大型工程建设场地。然而，钢结构在装配成型后受外界环境影响，即钢结构受周围载荷的变化，例如受风、温度等天气变化，使得钢结构的内部应力会产生变化，导致钢结构局部不均匀变形。钢结构变形是工程、工业领域常见问题，对工程的正常建设及工业的正常运转都会产生不良影响。若钢结构变形超过报警值，则有可能导致安全事故的发生，从而威胁到人民群众的安全。因此，需要及时对钢结构变形进行检测，分析钢结构的安全状态，并预测后续的变形趋势。针对钢结构的形变检测，传统检测手段主要是采用全站仪测量的方式，即对钢结构变形区域逐个采集空间特征点的三维坐标，根据点位坐标值分析变形区域的特征点与空间基准面、线的几何关系，从而计算出变形值。这种检测手段外业作业效率低，计算量大，且空间离散点的变形值难以全面、精确地反映钢结构的空间整体变形情况。针对现有技术中难以全面、准确、高效地实现钢结构点云数据的处理及整体形变分析，目前尚未提出有效的解决方案。发明内容本申请实施例的目的在于提出一种钢结构形变检测方法，以解决目前钢结构变形测量效率低和准确率低的问题。为了解决上述技术问题，本申请实施例提供一种钢结构形变检测方法，包括如下步骤：获取钢结构的三维点云数据；根据三维点云数据提取钢结构的二维轮廓数据；将二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据；根据迭代最近点算法，对第一测量数据进行精配准，以得到第二测量数量；计算第二测量数据到钢结构轮廓模板的最小距离误差，以确定钢结构的形变量。在一些实施方式中，根据三维点云数据提取钢结构的二维轮廓数据包括：根据钢结构的三维点云数据确定钢结构的延伸方向；从钢结构的三维点云数据确定钢结构的包围盒数据；根据延伸方向，从包围盒数据提取钢结构的二维轮廓数据。在一些实施方式中，根据钢结构的三维点云数据确定钢结构的延伸方向包括：从钢结构的三维点云数据确定三维点云数据的质心数据；根据三维点云数据和质心数据构建协方差矩阵；根据协方差矩阵确定钢结构的延伸方向。在一些实施方式中，根据延伸方向，从包围盒数据提取钢结构的二维轮廓数据包括：根据延伸方向和质心数据确定包围盒数据对应的横截面；根据包围盒数据到横截面的距离，将符合预设距离区间的距离所对应的包围盒数据作为截面数据；将截面数据投影到横截面，以获取二维轮廓数据。在一些实施方式中，钢结构轮廓模板包括多个第二角点和以及根据第二角点构建的多个第二三角形，将二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据包括：获取二维轮廓数据的第一角点；构建第一角点对应的多个第一三角形；将第一三角形和第二三角形进行匹配计算，以获取旋转矩阵和平移向量；将旋转矩阵和平移向量进行转换，以得到第一测量数据。在一些实施方式中，获取二维轮廓数据的第一角点包括：获取二维轮廓数据的多个临近点；将多个临近点与二维轮廓数据进行连接得到多条边；从多条边中获取每两条边之间所形成的夹角，所述夹角包括角度值；将符合预设角度值的夹角对应的二维轮廓数据作为第一角点。在一些实施方式中，将第一三角形和第二三角形进行匹配计算，以获取旋转矩阵和平移向量包括：从第二三角形中获取与第一三角形匹配的多个相似三角形；计算每两个相似三角形之间对应点重合的初始旋转矩阵和初始平移向量；根据初始旋转矩阵和初始平移向量，获取多个配准误差；从多个配准误差中确定最小的配准误差，并将最小的配准误差对应的初始旋转矩阵和初始平移向量作为最终的旋转矩阵和平移向量。为了解决上述技术问题，本申请实施例提供一种钢结构形变检测装置，钢结构形变检测装置包括：获取模块，用于获取钢结构的三维点云数据；提取模块，用于根据所述三维点云数据提取所述钢结构的二维轮廓数据；粗配准模块，用于将所述二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据；精配准模块，用于根据迭代最近点算法，对所述第一测量数据进行精配准，以得到第二测量数量；计算模块，用于计算所述第二测量数据到所述钢结构轮廓模板的最小距离误差，以确定所述钢结构的形变量。在一些实施方式中，提取模块包括：延伸方向确定单元，用于根据钢结构的三维点云数据确定钢结构的延伸方向；包围盒单元，用于从钢结构的三维点云数据确定钢结构的包围盒数据；提取单元，用于根据延伸方向，从包围盒数据提取钢结构的二维轮廓数据。在一些实施方式中，延伸方向确定单元包括：质心子单元，用于从钢结构的三维点云数据确定三维点云数据的质心数据；矩阵子单元，用于根据三维点云数据和质心数据构建协方差矩阵；延伸方向子单元，用于根据协方差矩阵确定钢结构的延伸方向。在一些实施方式中，提取单元包括：横截面子单元，用于根据延伸方向和质心数据确定包围盒数据对应的横截面；截面数据子单元，用于根据包围盒数据到横截面的距离，将符合预设距离区间的距离所对应的包围盒数据作为截面数据；投影子单元，用于将截面数据投影到横截面，以获取二维轮廓数据。在一些实施方式中，钢结构轮廓模板包括多个第二角点和以及根据第二角点构建的多个第二三角形，粗配准模块包括：角点获取单元，用于获取二维轮廓数据的第一角点；构建单元，用于构建第一角点对应的多个第一三角形；匹配计算单元，用于将第一三角形和第二三角形进行匹配计算，以获取旋转矩阵和平移向量；转换单元，用于将旋转矩阵和平移向量进行转换，以得到第一测量数据。在一些实施方式中，角点获取单元包括：临近点获取子单元，用于获取二维轮廓数据的多个临近点；边连接子单元，用于将多个临近点与二维轮廓数据进行连接得到多条边；夹角获取子单元，用于从多条边中获取每两条边之间所形成的夹角，所述夹角包括角度值；角点获取子单元，用于将符合预设角度值的夹角对应的二维轮廓数据作为第一角点。在一些实施方式中，匹配计算单元包括：相似子单元，用于从第二三角形中获取与第一三角形匹配的多个相似三角形；姿态计算子单元，用于计算每两个相似三角形之间对应点重合的初始旋转矩阵和初始平移向量；配准误差获取子单元，用于根据初始旋转矩阵和初始平移向量，获取多个配准误差；姿态确定子单元，用于从多个配准误差中确定最小的配准误差，并将最小的配准误差对应的初始旋转矩阵和初始平移向量作为最终的旋转矩阵和平移向量。为了解决上述技术问题，本申请实施例还提供一种计算机设备，包括存储器和处理器，所述存储器中存储有计算机程序，所述处理器执行所述计算机程序时实现上述钢结构形变检测方法的步骤。为了解决上述技术问题，本申请实施例还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现上述的钢结构形变检测方法的步骤。与现有技术相比，本申请实施例主要有以下有益效果：通过获取钢结构的三维点云数据，根据三维点云数据提取钢结构的二维轮廓数据，将二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据，根据迭代最近点算法，对第一测量数据进行精配准，以得到第二测量数量，计算第二测量数据到钢结构轮廓模板的最小距离误差，以确定钢结构的形变量，一方面，三维点云数据提高了钢结构表面数据采集的效率和精度，同时从三维点云数据提取到二维轮廓数据有利于减少不必要的干扰数据，减少了钢结构形变的计算量，提高了配准和计算的效率，另一方面，对钢结构的二维轮廓数据进行粗配准和精配准，即双重配准方式有利于提高钢结构变量测量的准确率，进而实现全面、精确、快速的钢结构形变分析效果。附图说明为了更清楚地说明本申请中的方案，下面将对本申请实施例描述中所需要使用的附图作一个简单介绍，显而易见地，下面描述中的附图是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请可以应用于其中的示例性系统架构图；图2是本申请实施例提供的钢结构形变检测方法的流程示意图；图3-a是本申请实施例的钢结构三维点云数据示意图；图3-b是本申请实施例的钢结构二维轮廓提取及角点检测结果示意图；图4是本申请实施例的钢结构轮廓模板示意图；图5是本申请实施例的基于模板轮廓匹配的三维点云数据与设计模板粗配准的结果示意图；图6是本申请实施例的三维点云数据及设计模板精配准结果示意图；图7是本申请提供的钢结构形变检测装置的一个实施例的结构示意图；图8是本申请提供的计算机设备的一个实施例的结构示意图。具体实施方式除非另有定义，本文所使用的所有的技术和科学术语与属于本申请的技术领域的技术人员通常理解的含义相同；本文中在申请的说明书中所使用的术语只是为了描述具体的实施例的目的，不是旨在于限制本申请；本申请的说明书和权利要求书及上述附图说明中的术语“包括”和“具有”以及它们的任何变形，意图在于覆盖不排他的包含。本申请的说明书和权利要求书或上述附图中的术语“第一”、“第二”等是用于区别不同对象，而不是用于描述特定顺序。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。为了使本技术领域的人员更好地理解本申请方案，下面将结合附图，对本申请实施例中的技术方案进行清楚、完整地描述。如图1所示，系统架构100可以包括终端设备101、102、103，网络104和服务器105。网络104用以在终端设备101、102、103和服务器105之间提供通信链路的介质。网络104可以包括各种连接类型，例如有线、无线通信链路或者光纤电缆等等。用户可以使用终端设备101、102、103通过网络104与服务器105交互，以接收或发送消息等。终端设备101、102、103上可以安装有各种通讯客户端应用，例如网页浏览器应用、购物类应用、搜索类应用、即时通信工具、邮箱客户端、社交平台软件等。终端设备101、102、103可以是具有显示屏并且支持网页浏览的各种电子设备，包括但不限于智能手机、平板电脑、电子书阅读器、MP3播放器、MP4播放器、膝上型便携计算机和台式计算机等等。服务器105可以是提供各种服务的服务器，例如对终端设备101、102、103上显示的页面提供支持的后台服务器。需要说明的是，本申请实施例所提供的钢结构形变检测方法一般由服务器/终端设备执行，相应地，钢结构形变检测装置一般设置于服务器/终端设备中。应该理解，图1中的终端设备、网络和服务器的数目仅仅是示意性的。根据实现需要，可以具有任意数目的终端设备、网络和服务器。在本申请实施例中，如图2所示，图2是本申请实施例提供的钢结构形变检测方法的流程示意图，钢结构形变检测方法的具体实现包括：S201：获取钢结构的三维点云数据。三维点云数据是在同一空间参考系下表达目标空间分布和目标表面特性的海量点集合，在获取物体表面每个采样点的空间坐标后，得到的是点的集合。三维点云数据包括钢结构的三维图像，三维图像表达了空间中三个维度，例如长度、宽度和深度的数据。三维点云数据的获取根据测量原理主要分为两种，一种是根据激光测量原理得到，包括三维坐标和激光反射强度，强度信息与目标的表面材质、粗糙度、入射角方向，以及仪器的发射能量，激光波长有关；另一种是根据摄影测量原理得到，包括三维坐标和颜色信息。在本申请实施例中，采用深度相机获取钢结构的三维点云数据。如图3-a所示，图3-a是本申请实施例的钢结构三维点云数据示意图。S202：根据三维点云数据提取钢结构的二维轮廓数据。进一步地，从三维点云数据中提取钢结构轮廓的二维数据，也就是每个二维数据表示二维轮廓点的坐标信息，即二维轮廓数据，与直接采用三维点云数据进行配准计算测量钢结构相比，二维轮廓数据减少了其他与计算钢结构变形数据的无关数据的干扰，同时二维数据量要远少于三维点云数据，以提高钢结构的测量效率。在一些实施方式中，根据三维点云数据提取钢结构的二维轮廓数据具体包括如下步骤：根据钢结构的三维点云数据确定钢结构的延伸方向；从钢结构的三维点云数据确定钢结构的包围盒数据；根据延伸方向，从包围盒数据提取钢结构的二维轮廓数据。具体地，为了测量钢结构内部的变形情况，需要确定钢结构内部构造情况，即确定钢结构的延伸方向，进而确定围绕延伸方向的包围盒数据。在一些实施方式中，根据钢结构的三维点云数据确定钢结构的延伸方向包括：从钢结构的三维点云数据确定三维点云数据的质心数据；根据三维点云数据和质心数据构建协方差矩阵；根据协方差矩阵确定钢结构的延伸方向。可示例性的，确定钢结构的延伸方向，具体可以根据如公式和公式求得。进一步地，从钢结构的三维点云数确定三维点云数据的质心数据如公式所示：其中，o为质心，质心数据可以表示为o＝，ox，oy，oz分别表示为质心在空间坐标系上的三维坐标，k为三维点云数据p中三维空间点的数目，pi为任意一个三维点云数据。进一步地，根据三维点云数据和质心数据构建协方差矩阵如公式所示：其中，CV为协方差矩阵，协方差矩阵中包括每个特征向量对应的三个特征值，是矢量外积符号。进一步地，协方差矩阵的最大的特征值对应的特征向量即为钢结构的三维点云数据拟合成的直线的方向，也就是拟合得到延伸方向。因此，从协方差矩阵CV得中获取最大特征值对应的特征向量，并将该特征向量作为钢结构三维数据的延伸方向，延伸方向可以表示为其中，ax，ay，az分别表示为延伸方向在空间坐标系上的三维坐标，即x坐标、y坐标和z坐标。在本申请实施例中，通过结合钢结构的三维点云数据的质心数据，以及根据三维点云数据和质心数据构建协方差矩阵，进而确定钢结构的延伸方向，为后续全面、准确、高效实现钢结构的三维点云数据的处理及整体形变分析提供基础数据支撑。在一些实施方式中，根据延伸方向，从包围盒数据提取钢结构的二维轮廓数据包括：根据延伸方向和质心数据确定包围盒数据对应的横截面；根据包围盒数据到横截面的距离，将符合预设距离区间的距离所对应的包围盒数据作为截面数据；将截面数据投影到横截面，以获取二维轮廓数据。具体地，包围盒算法是一种求解离散点集最优包围空间的算法，基本思想是用体积稍大且特性简单的几何体来近似地代替复杂的几何对象，因此，可以采用包围盒算法从三维点云数据中确定钢结构的包围盒数据，即包围盒数据为钢结构的部分三维点云数据，包围盒算法可以但不限于AABB包围盒、包围球、方向包围盒OBB以及固定方向凸包FDH等，此处不作限定。进一步地，垂直于钢结构的延伸方向，在钢结构的包围盒数据的中间部分截取钢结构的二维轮廓数据，具体实现可以根据公式和公式得到：根据延伸方向和质心数据确定包围盒数据对应的横截面可以根据公式得到：ax·x+ay·y+az·z+c＝0公式其中，延伸方向c＝-，质心数据即公式为横截面的表达式，根据包围盒数据和已知的横截面的表达式，可以得到各个包围盒数据到横截面的距离为其中，b表示包围盒中点的数量，具体数量受传感器采集的点云的稀疏程度影响。进一步地，记录所有距离di落在预设距离区间内的点，例如预设距离区间设为，即将落在预设距离区间的包围盒数据为截面数据，并将截面数据投影到横截面，以获得二维轮廓数据即得到二维轮廓点。其中，表示是二维轮廓对应的点云数据，m表示横截面上的数据点的数量，具体数量受传感器采集的点云的稀疏程度影响。示例性的，图3-b是本申请实施例的钢结构二维轮廓提取及角点检测结果示意图。通过从三维点云数据中确定整体包围钢结构的包围盒数据，进而通过对延伸方向的包围数据进行计算和投影，以筛选出钢结构的二维轮廓数据，减少了其他与计算钢结构变形数据的无关的三维点云数据的干扰，同时二维数据量要远少于三维点云数据，以提高钢结构的测量效率。S203：将二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据。其中，第一测量数据为二维轮廓数据经过粗配准计算得到。如图4所示，图4是本申请实施例的钢结构轮廓模板示意图。预设的钢结构轮廓模板为理论模型轮廓的标准结构参考数据，通过与实际的钢结构的数据比对，可以确定实际的钢结构是否发生形变，预设的钢结构轮廓模板可以看作是一种理想模型，可通过建模软件生成。具体地，将二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据包括：获取二维轮廓数据的第一角点；构建第一角点对应的多个第一三角形；将第一三角形和第二三角形进行匹配计算，以获取旋转矩阵和平移向量；将旋转矩阵和平移向量进行转换，以得到第一测量数据。在一些实施方式中，获取二维轮廓数据的第一角点包括：获取二维轮廓数据的多个临近点；将多个临近点与二维轮廓数据进行连接得到多条边；从多条边中获取每两条边之间所形成的夹角，所述夹角包括角度值；将符合预设角度值的夹角对应的二维轮廓数据作为第一角点。具体地，使用KNN算法在二维轮廓数据中的二维轮廓点找到w个临近点，将w个临近点与二维轮廓点分别连接，得到w条边。计算任意两条边形成的夹角对应的角度值，即可以得到个角度值。预设角度值可以设置在90度，如果夹角对应的角度值分布在90度附近，则将此时的夹角对应的二维轮廓点作为角点，即为第一角点，如果角度值大多分布在180度或者0度附近内，则此时的夹角对应的二维轮廓点不是角点。如图4所示，图4是本申请实施例的钢结构二维轮廓提取及角点检测结果示意图。由于二维轮廓数据的第一角点不仅保留了钢结构的形状的重要特征,而且可以有效地减少钢结构计算形变的数据量，有效地提高了计算的速度,有利于后续与钢结构轮廓模板的可靠匹配,使得实时处理成为可能。进一步地，通过上述方式可以获得多个第一角点，可以将多个第一角点作为二维截面角点集，可以表示为H。在二维截面角点集H中，任意选择3个第一角点，以构成一个第一三角形，最终得到个第一三角形。进一步地，钢结构轮廓模板包括标准钢结构轮廓的多个第二角点和以及根据第二角点构建的多个第二三角形，获取第二角点和第二三角形的方式和获取第一角点和第一三角形的方式一样，即可以将多个第二角点作为理论模型轮廓角点集I中，并同样在理论模型轮廓角点集I中任选三个第二角点作为一个第二三角形，最终得到个第二三角形，具体过程此处不再赘述。在一些实施方式中，将第一三角形和第二三角形进行匹配计算，以获取旋转矩阵和平移向量包括：从第二三角形中获取与第一三角形匹配的多个相似三角形；计算每两个相似三角形之间对应点重合的初始旋转矩阵和初始平移向量；根据初始旋转矩阵和初始平移向量，获取多个配准误差；从多个配准误差中确定最小的配准误差，并将最小的配准误差对应的初始旋转矩阵和初始平移向量作为最终的旋转矩阵和平移向量。具体地，针对个第一三角形中的每一个三角形，在个第二三角形中查找最相似的多个第二三角形，即相似三角形，其中，相似三角形的数量可以根据实际测量来设定，本申请实施例获取的是3个相似三角形。相似三角形的获取方式包括：记录每个第一三角形的三个边长值，并按从小到大的顺序排列，也即：对于第i个第一三角形，第一三角形的边长值分别为其中同样，记录每个第二三角形的三个边长值，同样按照从小到大排序，第二三角形的边长值分别为计算任意第一三角形i和第二三角形j之间的差异值dij越小，表示第一三角形和第二三角形越相似；根据dij的排序，针对来自个第一三角形的每一个三角形，在个第二三角形中查找最相似的3个第二三角形。进一步地，计算每两个相似三角形之间对应点重合的初始旋转矩阵和初始平移向量包括：根据3个最相似的第二三角形的边长的对应关系，即可确定第二三角形顶点的对应关系，即第一三角形的三个顶点分别对应第二三角形的三个顶点计算协方差矩阵其中对协方差矩阵H进行SVD分解，得到＝SVD，其中，U和V代表两个相互正交矩阵，而S代表一对角矩阵；通过分解得到的U和V，从而得到初始旋转矩阵Ri＝VUT,初始平移向量进一步地，根据公式计算配准误差：在所有的配准误差中，找到最小误差对应的初始旋转矩阵及初始平移向量，即为最终的旋转矩阵和平移向量。进一步地，基于得到的旋转矩阵及平移向量，实现钢结构的二维轮廓数据与钢结构轮廓模板的粗配准，以变换成第一测量数据，可以根据公式得到：Q＝R*P+L*公式其中，R*表示最终的旋转矩阵，P表示实际的二维轮廓数据，L*表示最终的平移向量，Q表示为第一测量数据，即实际二维轮廓数据变换后得到的新的数据集，此时Q与钢结构轮廓模板的姿态基本一致。如图5所示，图5是本申请实施例的基于模板轮廓匹配的三维点云数据与设计模板粗配准的结果示意图。S204：根据迭代最近点算法，对第一测量数据进行精配准，以得到第二测量数量。进一步地，迭代最近点算法为ICP算法，利用迭代最近点ICP算法，实现钢结构的第一测量数据与钢结构轮廓模板的精配准，具体包括：将钢结构廓模板离散化得到一个点集S；针对第一测量数据Q中每一个点qi，利用KNN算法在点集S中查找最近的点，即为qi的对应点；计算使对应点对的平均距离最小的刚体变换矩阵；基于此刚体变换矩阵，对第一测量数据Q进行空间变换得到新的点集Q′；迭代以上找对应点——计算刚体变换矩阵——变换实际测量点集的过程，直至两个点集的对应点的平均距离小于阈值δ为止，最终变换得到的实际测量点集为Q*，也就是第二测量数据。具体地，计算刚体变换矩阵包括：基于点集S与点集Q中点的对应关系，计算协方差矩阵其中，为第一测量数据Q中每一个点，为点集S中查找的最近的点，也就是第一测量数据Q中每一个点的对应点，l是对应的点对的数目；同样对协方差矩阵CV进行SVD分解，得到＝SVD,其中，U’和V’代表两个相互正交矩阵，而S’代表一对角矩阵；；使得点集Q和点集S平均距离最小的刚体变换矩阵，包括最小的旋转矩阵R＝V′U′T,最小的平移向量进一步地，基于以上获取的刚体变换，对第一测量数据Q进行刚体变换，得到新的点集Q*，即第二测量数据，其中,Q*＝R*Q+t。如图6所示，图6是本申请实施例的三维点云数据及设计模板精配准结果示意图。S205：计算第二测量数据到钢结构轮廓模板的最小距离误差，以确定钢结构的形变量。计算第二测量数据到钢结构轮廓模板的最小距离误差，即为实际钢结构的形变量，包括：针对Q*中的每一个二维轮廓数据点，计算其到钢结构轮廓模板的最小距离，即为实际钢结构的形变量。通过获取钢结构的三维点云数据，根据三维点云数据提取钢结构的二维轮廓数据，将二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据，根据迭代最近点算法，对第一测量数据进行精配准，以得到第二测量数量，计算第二测量数据到钢结构轮廓模板的最小距离误差，以确定钢结构的形变量，一方面，三维点云数据提高了钢结构表面数据采集的效率和精度，同时从三维点云数据提取到二维轮廓数据有利于减少不必要的干扰数据，减少了钢结构形变的计算量，提高了配准和计算的效率，另一方面，对钢结构的二维轮廓数据进行粗配准和精配准，即双重配准方式有利于提高钢结构变量测量的准确率，进而实现全面、精确、快速的钢结构形变分析效果。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，该计算机程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，前述的存储介质可为磁碟、光盘、只读存储记忆体等非易失性存储介质，或随机存储记忆体等。应该理解的是，虽然附图的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，其可以以其他的顺序执行。而且，附图的流程图中的至少一部分步骤可以包括多个子步骤或者多个阶段，这些子步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，其执行顺序也不必然是依次进行，而是可以与其他步骤或者其他步骤的子步骤或者阶段的至少一部分轮流或者交替地执行。进一步参考图7，作为对上述图2所示方法的实现，本申请提供了一种钢结构形变检测装置的一个实施例，该装置实施例与图2所示的方法实施例相对应，该装置具体可以应用于各种电子设备中。如图7所示，为本申请提供的钢结构形变检测装置的一个实施例的结构示意图，所述钢结构形变检测装置还包括：获取模块71、提取模块72、粗配准模块73、精配准模块74以及计算模块75。其中，获取模块71，用于获取钢结构的三维点云数据；提取模块72，用于根据所述三维点云数据提取所述钢结构的二维轮廓数据；粗配准模块73，用于将所述二维轮廓数据与预设的钢结构轮廓模板进行粗配准，以得第一测量数据；精配准模块74，用于根据迭代最近点算法，对所述第一测量数据进行精配准，以得到第二测量数量；计算模块75，用于计算所述第二测量数据到所述钢结构轮廓模板的最小距离误差，以确定所述钢结构的形变量。在一些实施方式中，提取模块包72括：延伸方向确定单元，用于根据钢结构的三维点云数据确定钢结构的延伸方向；包围盒单元，用于从钢结构的三维点云数据确定钢结构的包围盒数据；提取单元，用于根据延伸方向，从包围盒数据提取钢结构的二维轮廓数据。在一些实施方式中，延伸方向确定单元包括：质心子单元，用于从钢结构的三维点云数据确定三维点云数据的质心数据；矩阵子单元，用于根据三维点云数据和质心数据构建协方差矩阵；延伸方向子单元，用于根据协方差矩阵确定钢结构的延伸方向。在一些实施方式中，提取单元包括：横截面子单元，用于根据延伸方向和质心数据确定包围盒数据对应的横截面；截面数据子单元，用于根据包围盒数据到横截面的距离，将符合预设距离区间的距离所对应的包围盒数据作为截面数据；投影子单元，用于将截面数据投影到横截面，以获取二维轮廓数据。在一些实施方式中，钢结构轮廓模板包括多个第二角点和以及根据第二角点构建的多个第二三角形，粗配准模块73包括：角点获取单元，用于获取二维轮廓数据的第一角点；构建单元，用于构建第一角点对应的多个第一三角形；匹配计算单元，用于将第一三角形和第二三角形进行匹配计算，以获取旋转矩阵和平移向量；转换单元，用于将旋转矩阵和平移向量进行转换，以得到第一测量数据。在一些实施方式中，角点获取单元包括：临近点获取子单元，用于获取二维轮廓数据的多个临近点；边连接子单元，用于将多个临近点与二维轮廓数据进行连接得到多条边；夹角获取子单元，用于从多条边中获取每两条边之间所形成的夹角，所述夹角包括角度值；角点获取子单元，用于将符合预设角度值的夹角对应的二维轮廓数据作为第一角点。在一些实施方式中，匹配计算单元包括：相似子单元，用于从第二三角形中获取与第一三角形匹配的多个相似三角形；姿态计算子单元，用于计算每两个相似三角形之间对应点重合的初始旋转矩阵和初始平移向量；配准误差获取子单元，用于根据初始旋转矩阵和初始平移向量，获取多个配准误差；姿态确定子单元，用于从多个配准误差中确定最小的配准误差，并将最小的配准误差对应的初始旋转矩阵和初始平移向量作为最终的旋转矩阵和平移向量。关于上述实施例中钢结构形变检测装置，其中各个模块执行操作的具体方式已经在有关该方法的实施例中进行了详细描述，此处将不做详细阐述说明。为解决上述技术问题，本申请实施例还提供计算机设备。具体请参阅图8，图8为本实施例计算机设备基本结构框图。所述计算机设备8包括通过系统总线相互通信连接存储器81、处理器82、网络接口83。需要指出的是，图中仅示出了具有组件81-83的计算机设备8，但是应理解的是，并不要求实施所有示出的组件，可以替代的实施更多或者更少的组件。其中，本技术领域技术人员可以理解，这里的计算机设备是一种能够按照事先设定或存储的指令，自动进行数值计算和/或信息处理的设备，其硬件包括但不限于微处理器、专用集成电路、可编程门阵列、数字处理器、嵌入式设备等。所述计算机设备可以是桌上型计算机、笔记本、掌上电脑及云端服务器等计算设备。所述计算机设备可以与用户通过键盘、鼠标、遥控器、触摸板或声控设备等方式进行人机交互。所述存储器81至少包括一种类型的可读存储介质，所述可读存储介质包括闪存、硬盘、多媒体卡、卡型存储器、随机访问存储器、静态随机访问存储器、只读存储器、电可擦除可编程只读存储器、可编程只读存储器、磁性存储器、磁盘、光盘等。在一些实施例中，所述存储器81可以是所述计算机设备8的内部存储单元，例如该计算机设备8的硬盘或内存。在另一些实施例中，所述存储器81也可以是所述计算机设备8的外部存储设备，例如该计算机设备8上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。当然，所述存储器81还可以既包括所述计算机设备8的内部存储单元也包括其外部存储设备。本实施例中，所述存储器81通常用于存储安装于所述计算机设备8的操作系统和各类应用软件，例如钢结构形变检测方法的程序代码等。此外，所述存储器81还可以用于暂时地存储已经输出或者将要输出的各类数据。所述处理器82在一些实施例中可以是中央处理器、控制器、微控制器、微处理器、或其他数据处理芯片。该处理器82通常用于控制所述计算机设备8的总体操作。本实施例中，所述处理器82用于运行所述存储器81中存储的程序代码或者处理数据，例如运行所述钢结构形变检测方法的程序代码。所述网络接口83可包括无线网络接口或有线网络接口，该网络接口83通常用于在所述计算机设备8与其他电子设备之间建立通信连接。本申请还提供了另一种实施方式，即提供一种计算机可读存储介质，所述计算机可读存储介质存储有钢结构形变检测程序，所述钢结构形变检测程序可被至少一个处理器执行，以使所述至少一个处理器执行如上述的钢结构形变检测方法的步骤。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端设备执行本申请各个实施例所述的方法。显然，以上所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例，附图中给出了本申请的较佳实施例，但并不限制本申请的专利范围。本申请可以以许多不同的形式来实现，相反地，提供这些实施例的目的是使对本申请的公开内容的理解更加透彻全面。尽管参照前述实施例对本申请进行了详细的说明，对于本领域的技术人员来而言，其依然可以对前述各具体实施方式所记载的技术方案进行修改，或者对其中部分技术特征进行等效替换。凡是利用本申请说明书及附图内容所做的等效结构，直接或间接运用在其他相关的技术领域，均同理在本申请专利保护范围之内。
