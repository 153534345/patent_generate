标题title
一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法
摘要abst
本发明涉及数据处理技术领域，具体涉及一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法。该方法是一种应用电子设备进行识别的方法，利用生产领域人工智能系统完成抛光定位。首先利用相机获取目标轴承图像；对目标轴承图像进行数据处理得到初始缺陷区域群，由初始缺陷区域群进一步得到目标缺陷区域。本发明通过利用相机采集得到的目标轴承图像进行数据处理后得到目标缺陷区域，实现了在目标轴承图像分布不均匀的情况下得到属于同一撞伤的缺陷区域，完成了抛光定位。
权利要求书clms
1.一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法，其特征在于，该方法包括以下步骤：采集初始轴承图像，识别所述初始轴承图像中的轴承，得到目标轴承图像；基于灰度值，对所述目标轴承图像进行多阈值分割得到多个第一区域群；根据第一区域群内区域的中心点距离和重叠面积匹配所述第一区域群得到多个初始区域群组；分割所述目标轴承图像得到背景区域以及对应的背景像素点；根据所述初始区域群组内背景像素点的数量占比，筛选所述初始区域群组得到多个目标区域群组；连接各所述目标区域群组内的区域，得到多个特征区域；根据区域的面积大小对特征区域内第一区域群的多个区域进行分类，得到第二区域群；获取第二区域群内各区域的灰度值、灰度均值和最大灰度值，根据相邻区域的灰度值的差值构建灰度差值序列；获取所述灰度差值序列中正负值的转换次数，由所述转换次数、所述灰度均值和所述最大灰度值得到缺陷概率，从第二区域群中筛选出初始缺陷区域群；根据所述初始缺陷区域群的灰度异常情况和方向异常情况得到目标缺陷区域。2.根据权利要求1所述的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法，其特征在于，所述对所述目标轴承图像进行多阈值分割得到多个第一区域群，包括：对所述目标轴承图像进行多阈值分割得到多个不同的灰度级，将同一灰度级的区域作为同一灰度级的第一区域群。3.根据权利要求1所述的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法，其特征在于，所述根据第一区域群内区域的中心点距离和重叠面积匹配所述第一区域群得到多个初始区域群组，包括：基于第一区域群内区域的中心点距离，利用KM匹配算法将不同第一区域群内的区域进行匹配，将得到的最大KM匹配值作为两个第一区域群的中心点匹配率；获取各第一区域群的最小外接矩形，获取各第一区域群之间的最小外接矩形的重叠面积作为范围匹配率；将所述中心点匹配率和所述范围匹配率均大于预设匹配率的第一区域群划分至同一初始区域群组。4.根据权利要求1所述的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法，其特征在于，所述根据所述初始区域群组内背景像素点的数量占比，筛选所述初始区域群组得到多个目标区域群组，包括：将背景像素点的数量占比小于预设占比阈值的初始区域群组作为目标区域群组。5.根据权利要求1所述的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法，其特征在于，所述连接各所述目标区域群组内的区域，得到多个特征区域，包括：以目标区域群组的中心点为原点，向不同的方向做射线，得到与目标区域群组内区域的最外层交点，所述最外层交点作为连接点；根据贝塞尔区域连接原理连接所述连接点，得到多个特征区域。6.根据权利要求1所述的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法，其特征在于，所述由所述转换次数、所述灰度均值和所述最大灰度值得到缺陷概率，包括：所述缺陷概率的计算公式为：其中，为所述缺陷概率；为所述转折次数；为所述最大灰度值；为所述灰度均值。7.根据权利要求1所述的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法，其特征在于，所述根据所述初始缺陷区域群的灰度异常情况和方向异常情况得到目标缺陷区域，包括：对特征区域利用大津阈值分割法进行阈值分割得到分割阈值，灰度值小于所述分割阈值的像素点作为目标像素点，目标像素点占比大于预设像素占比的初始缺陷区域群作为第二缺陷区域群；获取所述目标轴承图像上所有区域的主成分方向值，构建主成分方向值序列；选择所述主成分方向值序列中出现频率最大的主成分方向值作为纹理方向值；获取所述第二缺陷区域群的第二主成分方向，所述第二主成分方向和所述纹理方向值的差值大于预设主成分方向差值的第二缺陷区域群为所述目标缺陷区域。
说明书desc
技术领域本发明涉及数据处理技术领域，具体涉及一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法。背景技术轴承是用于确定旋转轴与其他零件相对运动位置，起支撑或者导向作用的零部件，轴承的主要功能是支撑旋转轴或其他运动体，引导转动或移动运动并承受由轴或轴上零件传递而来的载荷。轴承在磨削工艺中容易导致内圈滚道撞伤，存在撞伤缺陷的轴承在液压机使用过程中容易出现问题，进而可能会导致重大事故发生。目前，对轴承进行缺陷识别的方法为通过阈值分割和边界识别技术对轴承的缺陷进行识别。但是由于轴承属于金属制品，受光照影响较大，会将一个缺陷分割至不同的区域，导致缺陷识别不准确。发明内容为了解决上述技术问题，本发明的目的在于提供一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法，所采用的技术方案具体如下：采集初始轴承图像，识别所述初始轴承图像中的轴承，得到目标轴承图像；基于灰度值，对所述目标轴承图像进行多阈值分割得到多个第一区域群；根据第一区域群内区域的中心点距离和重叠面积匹配所述第一区域群得到多个初始区域群组；分割所述目标轴承图像得到背景区域以及对应的背景像素点；根据所述初始区域群组内背景像素点的数量占比，筛选所述初始区域群组得到多个目标区域群组；连接各所述目标区域群组内的区域，得到多个特征区域；根据区域的面积大小对特征区域内第一区域群的多个区域进行分类，得到第二区域群；获取第二区域群内各区域的灰度值、灰度均值和最大灰度值，根据相邻区域的灰度值的差值构建灰度差值序列；获取所述灰度差值序列中正负值的转换次数，由所述转换次数、所述灰度均值和所述最大灰度值得到缺陷概率，从第二区域群中筛选出初始缺陷区域群；根据所述初始缺陷区域群的灰度异常情况和方向异常情况得到目标缺陷区域。优选的，所述对所述目标轴承图像进行多阈值分割得到多个第一区域群，包括：对所述目标轴承图像进行多阈值分割得到多个不同的灰度级，将同一灰度级的区域作为同一灰度级的第一区域群。优选的，所述根据最小外接矩形的中心点距离和重叠面积匹配所述第一区域群得到多个初始区域群组，包括：基于第一区域群内区域的中心点距离，利用KM匹配算法将不同第一区域群内的区域进行匹配，将得到的最大KM匹配值作为两个第一区域群的中心点匹配率；获取各第一区域群的最小外接矩形，获取各第一区域群之间的最小外接矩形的重叠面积作为范围匹配率；将所述中心点匹配率和所述范围匹配率均大于预设匹配率的第一区域群划分至同一初始区域群组。优选的，所述根据所述初始区域群组内背景像素点的数量占比，筛选所述初始区域群组得到多个目标区域群组，包括：将背景像素点的数量占比小于预设占比阈值的初始区域群组作为目标区域群组。优选的，所述连接各所述目标区域群组内的区域，得到多个特征区域，包括：以目标区域群组的中心点为原点，向不同的方向做射线，得到与目标区域群组内区域的最外层交点，所述最外层交点作为连接点；根据贝塞尔区域连接原理连接所述连接点，得到多个特征区域。优选的，缺陷概率的计算公式为：其中，为所述缺陷概率；为所述转折次数；为所述最大灰度值；为所述灰度均值。优选的，所述根据所述初始缺陷区域的灰度异常情况和主方向异常情况得到目标缺陷区域，包括：对特征区域利用大津阈值分割法进行阈值分割得到分割阈值，灰度值小于所述分割阈值的像素点作为目标像素点，目标像素点占比大于预设像素占比的初始缺陷区域群作为第二缺陷区域群；获取所述目标轴承图像上所有区域的主成分方向值，构建主成分方向值序列；选择所述主成分方向值序列中出现频率最大的主成分方向值作为纹理方向值；获取所述第二缺陷区域群的第二主成分方向，所述第二主成分方向和所述纹理方向值的差值大于预设主成分方向差值的第二缺陷区域群为所述目标缺陷区域。本发明实施例至少具有如下有益效果：本发明实施例利用数据处理技术，该方法是一种应用电子设备进行识别的方法，利用生产领域人工智能系统完成抛光定位。该方法首先获取目标轴承图像；基于灰度值，对目标轴承图像进行多阈值分割得到多个第一区域群；根据第一区域群内区域的中心点距离和重叠面积匹配第一区域群得到多个初始区域群组；分割目标轴承图像得到背景像素点；根据初始区域群组内背景像素点的数量占比，筛选初始区域群组得到多个目标区域群组；连接各目标区域群组内的区域，得到多个特征区域，提出了特征区域，以符合人眼视觉的区域划分，即划分好的特征区域内同时存在灰度值较大或灰度值较小的像素点，实现了在光照影响下采集到的目标轴承图像颜色分布不均匀的情况下，将属于同一缺陷的缺陷区域划分至同一特征区域内。根据区域的面积大小对特征区域内第一区域群的多个区域进行分类，得到第二区域群；获取第二区域群内各区域的灰度值、灰度均值和最大灰度值，根据相邻区域的灰度值的差值构建灰度差值序列；获取灰度差值序列中正负值的转换次数，由转换次数、灰度均值和最大灰度值得到缺陷概率，从第二区域群中筛选出初始缺陷区域群；根据初始缺陷区域群的灰度异常情况和方向异常情况得到目标缺陷区域。本发明通过利用相机采集得到的目标轴承图像进行数据处理后得到目标缺陷区域，实现了在目标轴承图像分布不均匀的情况下得到属于同一撞伤的缺陷区域，完成了抛光定位。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法的方法流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构、或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。本发明实施例提供了一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法的具体实施方法，该方法适用于轴承撞伤识别和抛光定位场景。该场景下利用RGB相机俯视采集初始轴承图像。为了解决由于光照影响较大，会将一个缺陷分割至不同的区域，导致缺陷识别不准确的问题。本发明实施例应用电子设备进行识别的方法，利用生产领域人工智能系统完成抛光定位，具体通过将像素属性特征差异较大距离较近的区域划分至同一特征区域，以避免将缺陷分割至不同区域的问题，还进一步的对缺陷区域进行多次筛选，通过利用相机采集得到的目标轴承图像进行数据处理后得到目标缺陷区域，实现了在目标轴承图像分布不均匀的情况下得到属于同一撞伤的缺陷区域，完成了抛光定位。下面结合附图具体的说明本发明所提供的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种磨削工艺中轴承滚道撞伤识别及自动抛光定位方法的步骤流程图，该方法包括以下步骤：步骤S100，采集初始轴承图像，识别初始轴承图像中的轴承，得到目标轴承图像。利用RGB相机俯视采集初始轴承图像，该初始轴承图像为RGB图像。利用DNN语义分割网络对初始轴承图像中的轴承进行识别分割。具体的：DNN语义分割网络的数据集为历史数据中俯视采集的初始轴承图像，其中，轴承的样式多种多样。需要进行语义分割的像素点分为两类，即训练集对应的标签标注过程为单通道的语义标签，其中，轴承区域标记为1，其他区域标记为0，即得到0-1掩膜图像。0-1掩膜图像与初始轴承图像相乘得到目标轴承图像。需要说明的是，目标轴承图像中只含有轴承，DNN语义分割网络的任务是进行分类，该网络的损失函数为交叉熵损失函数。将得到的目标轴承图像进行灰度化，更新目标轴承图像，即更新后的目标轴承图像为灰度图像。步骤S200，基于灰度值，对目标轴承图像进行多阈值分割得到多个第一区域群；根据第一区域群内区域的中心点距离和重叠面积匹配第一区域群得到多个初始区域群组。由于轴承是金属制品，其受光照影响较大，阈值分割的结果往往不理想，同时由边界识别方法识别到的边界中含有轴承本身边界，且由于光照影响，难以提取到完整的缺陷边界，本发明将阈值分割后的不属于同一阈值的区域但距离相近的区域划分至同一初始区域群组，因为由于金属制品受到光照影响，可能会导致同一缺陷被分割至多个区域中。通过多阈值分割可以将目标轴承图像上灰度值相近的像素值识别至同一个区域，赋予相同的属性值，避免由于电子识别装置存在的系统误差以及金属制品由光照影响带来的误差而对由于磨削工艺造成的缺陷区域的识别造成影响，进而影响抛光工艺的精准定位。首先，基于灰度值，对目标轴承图像进行多阈值分割得到多个不同的灰度级，得到灰度级图像。灰度级图像中每个像素点的灰度值为原始像素点所在灰度级的灰度均值。在本发明实施例中根据费歇尔准则，利用类间方差最大，类内方差最小的原则对灰度图进行多阈值分割得到不同的灰度级。其中，多阈值分割的目的是为了削弱光照不均匀的影响，使得灰度相近的像素值成为同一灰度级，从而得到了灰度级图。将属于同一个灰度级的区域称之为同一灰度级的第一区域群，即通过多阈值分割得到了多个第一区域群。获取第一区域群对应的最小外接矩形。通过计算区域群组，可以把存在属性值差异，但空间分布上距离较近的第一区域群分类到同一区域群组中，进而得到符合磨削工艺造成的缺陷区域的特征区域，即计算得到多个符合人眼视觉分割效果的特征区域，为后续步骤的识别完整的缺陷区域提供一个良好的分割区域，为抛光工艺提供精准的定位。通过计算不同区域群内区域的中心点的KM匹配和不同区域群的重叠面积对区域群进行匹配得到不同的区域群组。基于第一区域群内区域的中心点距离，利用KM匹配算法将不同第一区域群内的区域进行匹配得到KM匹配值，将得到的最大KM匹配值作为两个第一区域群的中心点匹配率。需要说明的是，KM匹配是一种二分图匹配方法，即二分图的每条边都有一个权值，KM匹配是求一种完备匹配方案，使得所有匹配边的权和最大，记做最佳完美匹配。KM匹配结果是一对一匹配，且要求左右两边的匹配数量要一致。故在对不同第一区域群进行两两匹配时，首先需要将区域数量大的区域群进行组合得到多个区域组合，如区域群内有b1，b2，b3三个区域，则将其三个区域两两组合为、和，然后通过KM匹配计算两个第一区域群的匹配结果。计算两个第一区域群中每两个属于不同第一区域群的区域的一对一的权值，权值是指对应区域的中心点的欧氏距离。对两个第一区域群进行匹配时，对第一两个区域群中区域数量较大的第一区域群和区域数量较小的区域群中的第一区域进行组合匹配，如一个第一区域群内有b1，b2，b3三个区域，另一第一区域群内有a1，a2两个区域，则分别计算和、和、和的KM匹配值，KM匹配值也即匹配的边权值总和。将所有KM匹配结果中最大的匹配值作为两个区域群的KM匹配值，也可将计算得到的KM匹配值称为中心点匹配率。对中心点匹配率进行归一化，将中心点匹配率新为归一化后的中心点匹配率。进一步的，获取第一区域群所在的空间范围，具体的：获取第一区域群对应的最小外接矩形作为区域群的空间范围。获取不同第一区域群的空间范围，将不同第一区域群的最小外接矩形的重叠面积作为范围匹配率。对范围匹配率进行归一化，将范围匹配率更新为归一化后的范围匹配率。根据第一区域群内区域的中心点距离和重叠面积对第一区域群进行匹配，得到多个初始区域群组。具体的：将范围匹配率和中心点匹配率均大于预设匹配率的第一区域群划分至同一区域群组。在本发明实施例中预设匹配率为0.8，在其他实施例中实施者可根据实际情况调整该取值。步骤S300，分割目标轴承图像得到背景区域以及对应的背景像素点；根据初始区域群组内背景像素点的数量占比，筛选初始区域群组得到多个目标区域群组；连接各目标区域群组内的区域，得到多个特征区域。在得到多个初始区域群组后，进一步获取特征区域，特征区域是指从初始区域群组中识别得到的通过边界线分割的不同区域，识别得到的不同区域符合磨削工艺导致的缺陷区域特征，通过特征区域可以对缺陷区域进行完整精确的识别，进而对轴承进行抛光工艺。目标轴承图像中，认为灰度值较小，也即颜色较深的区域为目标区域，目标区域也即前景区域。由于光照的影响，目标轴承图像中颜色较深和颜色较浅的区域往往是间隔存在的，故为同一缺陷的缺陷区域常常难以识别为同一缺陷，故提出了特征区域，以符合人眼视觉的区域划分，即划分好的特征区域内同时存在灰度值较大或灰度值较小的像素点，实现了在光照影响下采集到的目标轴承图像颜色分布不均匀的情况下，将属于同一缺陷的缺陷区域划分至同一特征区域内。对目标轴承图像进行大津阈值分割法得到背景阈值，将大于背景阈值的像素点作为背景像素点，并得到对应的背景区域。获取各初始区域群组内背景像素点的数量占比，筛选初始区域群组得到多个目标区域群组。具体的：将背景像素点的数量占比小于预设占比阈值的初始区域群组作为目标区域群组。在本发明实施例中预设占比阈值为0.4，在其他实施例中实施者可根据实际情况调整该取值。进一步的，连接各目标区域群组内的区域，得到多个特征区域。具体的：步骤一，以目标区域群组的中心点为原点，向不同的方向做射线，得到与目标区域群组内区域的最外层交点，最外层交点作为连接点。获取各目标区域群组的中心点，以中心点为原点，向不同的方向做射线，得到与目标区域群组的区域交点，该区域交点是指对应射线沿着该方向持续延伸得到的与目标区域群组内区域的边界的最外层交点。在本发明实施例中不同的方向指以原点为中心的360个方向，一度一方向，故得到的最外层交点共有360个，该最外层交点也称之为连接点。步骤二，根据贝塞尔区域连接原理连接连接点，得到多个特征区域。对于得到的多个连接点，根据贝塞尔区域连接原理得到连接线，也称之为边界线，即得到了不同目标区域群组的边界线，边界线将目标轴承图像分成了多个不同的特征区域。步骤S400，根据区域的面积大小对特征区域内第一区域群的多个区域进行分类，得到第二区域群；获取第二区域群内各区域的灰度值、灰度均值和最大灰度值，根据相邻区域的灰度值的差值构建灰度差值序列；获取灰度差值序列中正负值的转换次数，由转换次数、灰度均值和最大灰度值得到缺陷概率，从第二区域群中筛选出初始缺陷区域群。轴承滚道撞伤形成撞伤区域群，以受力最大的撞伤区域为目标区域群组的中心区域，灰度值向外变大，中心区域的颜色最深，对应的灰度值最小。首先根据区域的面积大小对特征区域内第一区域群的多个区域进行初步分类，得到多个第二区域群。具体的：基于同一第一区域群内的不同区域的面积，利用多阈值分割得到多个面积级，使得面积相近的区域分至同一第二区域群。在本发明实施例中根据费歇尔准则，利用类间方差最大，类内方差最小的原则对区域面积进行多阈值分割。即后续步骤为基于面积相近的划分至同一第二区域群的区域群进行计算。获取各第二区域群的灰度值、灰度均值和最大灰度值。根据第二区域群内的相邻区域的灰度值的差值，构建灰度差值序列。获取灰度差值序列中的正负数的转折点，得到转折次数，该灰度差值序列和对应的转折次数反映了第二区域群中相邻区域的灰度值的波动程度。转折次数越接近于1，对应的第二区域群为缺陷区域的概率越大，且转折点的位置越靠近中心位置，其第二区域群为缺陷区域的概率越大。由转换次数、灰度均值和最大灰度值得到缺陷概率。该缺陷概率的计算公式为：其中，为转折次数；为最大灰度值；为灰度均值。将缺陷概率大于预设缺陷概率阈值的第二区域群作为初始缺陷区域群，在本发明实施例中预设缺陷概率阈值的取值为0.7，在其他实施例中实施者可根据实际情况调整该取值。步骤S500，根据初始缺陷区域群的灰度异常情况和方向异常情况得到目标缺陷区域。一个特征区域中可能同时存在多个初始缺陷区域群，对初始缺陷区域群进一步的去考虑区域群的方向和灰度情况，对初始缺陷区域群进行再次筛选得到目标缺陷区域。获取初始缺陷区域群内各区域的各像素点的坐标，利用主成分分析算法得到区域内像素点的主成分方向，可获得多个主成分方向，获取特征值最大的主成分方向，将其最大的主成分方向作为区域的主方向，表示这些数据投影方差最大的方向，即这次数据的主要分布方向。各初始缺陷区域群内各区域均对应一个主方向。进而通过区域中心点和主成分方向得到主方向线，主方向线与区域边界的交点称为端点，对属于同一初始缺陷区域群内的所有区域的端点数据进行凸包计算，得到包围这些区域的外接图形范围，该外接图形范围即为初始缺陷区域群的分割线。根据初始缺陷区域群对应的外接图形范围的灰度异常情况和方向异常情况筛选出目标缺陷区域。需要说明的是，目标缺陷区域是特征区域内部的缺陷，通过对不同特征区域进行计算可以得到受光照影响较小的较为完整的由磨削不良导致的缺陷区域，进而进行抛光控制。对特征区域利用大津阈值分割法进行阈值分割得到分割阈值，将像素点灰度值小于分割阈值的像素点作为目标像素点，初始缺陷区域群中目标像素点占比大于预设像素占比的区域群作为第二缺陷区域群。在本发明实施例中预设像素占比的取值为0.8，在其他实施例中实施者可根据实际情况调整该取值。即完成了根据初始缺陷区域群的灰度异常情况对初始缺陷区域群进行筛选的目的。计算目标轴承图像上所有区域的主成分方向值，构建主成分方向值序列，选择出现频率最大的主成分方向值作为目标轴承图像的纹理方向值。获取第二缺陷区域群内各像素点的坐标，利用主成分方向分析法获得第二缺陷区域群的第二主成分方向，若第二缺陷区域群有K个，则可得到K个第二主成分方向。获取各第二缺陷区域群的第二主成分方向和该纹理方向值的差值，该差值大于预设主成分方向差值的第二缺陷区域群为目标缺陷区域群，该目标缺陷区域群对应的外接图形范围为目标缺陷区域。在本发明实施例中预设主成分方向差值为20，在其他实施例中实施者可根据实际情况调整该取值。即完成了根据初始缺陷区域群的方向异常情况对初始缺陷区域群进行筛选的目的。计算得到不同特征区域内的目标缺陷区域后，即确定了抛光工艺的抛光位置，对识别到的目标缺陷区域进行自动抛光工艺，对缺陷进行消除。综上所述，本发明实施例利用数据处理技术，该方法是一种应用电子设备进行识别的方法，利用生产领域人工智能系统完成抛光定位。首先获取目标轴承图像；基于灰度值，对目标轴承图像进行多阈值分割得到多个第一区域群；根据第一区域群内区域的中心点距离和重叠面积匹配第一区域群得到多个初始区域群组；分割目标轴承图像得到背景像素点；根据初始区域群组内背景像素点的数量占比，筛选初始区域群组得到多个目标区域群组；连接各目标区域群组内的区域，得到多个特征区域；根据区域的面积大小对特征区域内第一区域群的多个区域进行分类，得到第二区域群；获取第二区域群内各区域的灰度值、灰度均值和最大灰度值，根据相邻区域的灰度值的差值构建灰度差值序列；获取灰度差值序列中正负值的转换次数，由转换次数、灰度均值和最大灰度值得到缺陷概率，从第二区域群中筛选出初始缺陷区域群；根据初始缺陷区域群的灰度异常情况和方向异常情况得到目标缺陷区域。本发明通过利用相机采集得到的目标轴承图像进行数据处理后得到目标缺陷区域，实现了在目标轴承图像分布不均匀的情况下得到属于同一撞伤的缺陷区域，完成了抛光定位。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。且上述对本说明书特定实施例进行了描述。其它实施例在所附权利要求书的范围内。在一些情况下，在权利要求书中记载的动作或步骤可以按照不同于实施例中的顺序来执行并且仍然可以实现期望的结果。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
