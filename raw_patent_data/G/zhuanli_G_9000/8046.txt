标题title
节点交互及协议识别方法、装置、设备及计算机介质
摘要abst
本发明涉及一种节点交互及协议识别方法、装置、设备及计算机介质，堆叠环境下的节点交互方法包括：确定堆叠环境引擎节点中的主节点，并将堆叠环境中的剩余引擎节点确定为从节点；获取配置信息及主节点的第一协议识别价值数据，并基于第一预设通讯方式将配置信息及第一协议识别价值数据发送至各个从节点中；接收每一从节点发送的第二协议识别价值数据，并将第二协议识别价值数据保存至第一本地缓存数据库；基于第一预设通讯方式将第一本地缓存数据库中协议识别价值数据发送至各个从节点，以使每一从节点将协议识别价值数据保存至第二本地缓存数据库，其中，第一本地缓存数据库及第二本地缓存数据库中包括协议识别价值数据库。本发明提升了堆叠环境中协议识别引擎节点的整体处理能力。
权利要求书clms
1.一种堆叠环境下的节点交互方法，其特征在于，包括：确定堆叠环境引擎节点中的主节点，并将堆叠环境中的剩余引擎节点确定为从节点；获取配置信息及主节点的第一协议识别价值数据，并基于第一预设通讯方式将所述配置信息及所述第一协议识别价值数据发送至各个从节点中；接收每一从节点发送的第二协议识别价值数据，并将所述第二协议识别价值数据保存至第一本地缓存数据库；基于第一预设通讯方式将所述第一本地缓存数据库中协议识别价值数据发送至各个从节点，以使每一从节点将所述协议识别价值数据保存至第二本地缓存数据库，其中，所述第一本地缓存数据库及所述第二本地缓存数据库中包括协议识别价值数据库。2.根据权利要求1所述的方法，其特征在于，所述第一预设通讯方式包括广播方式；所述基于第一预设通讯方式将所述配置信息及所述第一协议识别价值数据发送至各个从节点中，包括：通过广播方式将所述配置信息发送至各个从节点中；通过广播方式将所述第一协议识别价值数据基于预设时间间隔发送至各个从节点中；所述基于第一预设通讯方式将所述第一本地缓存数据库中协议识别价值数据发送至各个从节点，包括：通过广播方式将第一本地缓存数据库中协议识别价值数据基于预设时间间隔发送至各个从节点中。3.根据权利要求1所述的方法，其特征在于，若所述堆叠环境中新增引擎节点，所述方法还包括：构建关于新增引擎节点的组网信息，以使所述新增引擎节点接收所述主节点发送的同步报文信息；接收所述新增引擎节点基于第二预设通讯方式发送的报文确认信息，基于所述报文确定信息将所述新增引擎节点确认为第一从节点；基于第二预设通讯方式将所述配置信息，所述第一本地缓存数据库中的协议识别价值数据发送至所述第一从节点，以使第一从节点将所述协议识别价值数据保存至第三本地缓存数据库，其中，第三本地缓存数据库中包括所述协议识别价值数据库。4.根据权利要求1所述的方法，其特征在于，所述协议识别价值数据库具体包括：源端口、目的端口、协议类型及识别的应用ID。5.一种堆叠环境下的协议识别方法，其特征在于，包括：获取待识别协议；利用所述堆叠环境中的任一节点基于所述协议价值数据库对所述待识别协议进行第一识别；若所述待识别协议的第一识别失败，基于预设的协议应用特征库对所述待识别协议进行第二识别，其中，所述预设的协议应用特征库包括协议识别特征值；若所述待识别协议的第二识别失败，标注所述待识别协议；若所述待识别协议的第二识别成功，生成针对于所述待识别协议的第三协议识别价值数据，并将所述第三协议识别价值数据发送至所述主节点。6.根据权利要求5所述的方法，其特征在于，所述堆叠环境下的协议识别方法还包括：基于第一预设通讯方式将所述第三协议识别价值数据发送至堆叠环境中包括所述第一从节点的各个从节点，并更新所述协议识别价值数据库。7.一种堆叠环境下的节点交互装置，其特征在于，包括：主节点确定模块，用于确定堆叠环境引擎节点中的主节点，并将堆叠环境中的剩余引擎节点确定为从节点；第一数据发送模块，用于获取配置信息及主节点的第一协议识别价值数据，并基于第一预设通讯方式将所述配置信息及所述第一协议识别价值数据发送至各个从节点；第一数据接收模块，用于接收每一从节点发送的第二协议识别价值数据，并将所述第二协议识别价值数据保存至第一本地缓存数据库；第二数据发送模块，用于基于第一预设通讯方式将所述第一本地缓存数据库中协议识别价值数据发送至各个从节点，以使每一从节点将所述协议识别价值数据保存至第二本地缓存数据库，其中，所述第一本地缓存数据库及所述第二本地缓存数据库中包括协议识别价值数据库。8.一种堆叠环境下的协议识别装置，其特征在于，包括：协议获取模块，用于获取待识别协议；第一协议识别模块，用于利用所述堆叠环境中的任一节点基于所述协议价值数据库对所述待识别协议进行第一识别；第二协议识别模块，用于若所述待识别协议的第一识别失败，基于预设的协议应用特征库对所述待识别协议进行第二识别，其中，所述预设的协议应用特征库包括协议识别特征值；协议标注模块，用于若所述待识别协议的第二识别失败，标注所述待识别协议；数据生成模块，用于若所述待识别协议的第二识别成功，生成针对于所述待识别协议的第三协议识别价值数据，并将所述第三协议识别价值数据发送至所述主节点。9.一种电子设备，其特征在于，包括存储器和处理器，其中，所述存储器，用于存储程序；所述处理器，与所述存储器耦合，用于执行所述存储器中存储的所述程序，以实现上述权利要求1至6中任一项所述堆叠环境下的节点交互及协议识别方法中的步骤。10.一种计算机可读存储介质，其特征在于，用于存储计算机可读取的程序或指令，所述程序或指令被处理器执行时，能够实现上述权利要求1至6中任一项所述堆叠环境下的节点交互及协议识别方法中的步骤。
说明书desc
技术领域本发明涉及交互技术领域，尤其涉及一种堆叠环境下的节点交互及协议识别方法、装置、设备及介质。背景技术伴随着互联网流量的高速增长，网络应用也出现了井喷式地增长，协议类型也越来越多，现有网络架构的协议识别引擎节点迎来了很大的挑战，因此需要网络中各协议识别引擎节点进行扩充升级以提升对新协议的识别；并且为了应对流量的增加，也需要扩充协议识别引擎节点。现有技术中在堆叠环境中，对协议识别引擎节点的扩充升级，参阅图1，图1为本发明提供的现有技术中协议识别引擎节点的网络架构图，主要包括：新增协议识别引擎节点；配置新增的协议识别引擎节点；调整负载均衡节点配置，把部分流量导入新增的协议识别引擎节点；批量升级协议识别引擎节点的协议特征库，以支持新的协议。可见，现有技术中在堆叠环境中，协议识别引擎节点扩充升级效率低，并且协议识别引擎堆叠环境中没有东西向的交互，导致堆叠环境的整体处理能力低。因此，如何提高堆叠环境中协议识别引擎节点的整体处理能力及协议识别引擎节点扩充升级效率，以保证准确、迅速、高效地识别数据包是一个亟待解决的问题。发明内容有鉴于此，有必要提供一种节点交互及协议识别方法、装置、设备及计算机介质，用以解决堆叠环境中协议识别引擎节点的整体处理能力较低的问题。为了解决上述问题，第一方面，本发明提供一种堆叠环境下的节点交互方法，包括：确定堆叠环境引擎节点中的主节点，并将堆叠环境中的剩余引擎节点确定为从节点；获取配置信息及主节点的第一协议识别价值数据，并基于第一预设通讯方式将所述配置信息及所述第一协议识别价值数据发送至各个从节点中；接收每一从节点发送的第二协议识别价值数据，并将所述第二协议识别价值数据保存至第一本地缓存数据库；基于第一预设通讯方式将所述第一本地缓存数据库中协议识别价值数据发送至各个从节点，以使每一从节点将所述协议识别价值数据保存至第二本地缓存数据库，其中，所述第一本地缓存数据库及所述第二本地缓存数据库中包括协议识别价值数据库。可选的，所述第一预设通讯方式包括广播方式；所述基于第一预设通讯方式将所述配置信息及所述第一协议识别价值数据发送至各个从节点中，包括：通过广播方式将所述配置信息发送至各个从节点中；通过广播方式将所述第一协议识别价值数据基于预设时间间隔发送至各个从节点中；所述基于第一预设通讯方式将所述第一本地缓存数据库中协议识别价值数据发送至各个从节点，包括：通过广播方式将第一本地缓存数据库中协议识别价值数据基于预设时间间隔发送至各个从节点中。可选的，若所述堆叠环境中新增引擎节点，所述方法还包括：构建关于新增引擎节点的组网信息，以使所述新增引擎节点接收所述主节点发送的同步报文信息；接收所述新增引擎节点基于第二预设通讯方式发送的报文确认信息，基于所述报文确定信息将所述新增引擎节点确认为第一从节点；基于第二预设通讯方式将所述配置信息，所述第一本地缓存数据库中的协议识别价值数据发送至所述第一从节点，以使第一从节点将所述协议识别价值数据保存至第三本地缓存数据库。可选的，所述第一本地缓存数据库、所述第二本地缓存数据库及所述第三本地缓存数据库中包括协议识别价值数据库；所述协议识别价值数据库具体包括：源端口、目的端口、协议类型及识别的应用ID。第二方面，本发明还提供一种堆叠环境下的协议识别方法，包括：获取待识别协议；利用所述堆叠环境中的任一节点基于所述协议价值数据库对所述待识别协议进行第一识别；若所述待识别协议的第一识别失败，基于预设的协议应用特征库对所述待识别协议进行第二识别，其中，所述预设的协议应用特征库包括协议识别特征值；若所述待识别协议的第二识别失败，标注所述待识别协议；若所述待识别协议的第二识别成功，生成针对于所述待识别协议的第三协议识别价值数据，并将所述第三协议识别价值数据发送至所述主节点。可选的，所述堆叠环境下的协议识别方法还包括：基于第一预设通讯方式将所述第三协议识别价值数据发送至堆叠环境中包括所述第一从节点的各个从节点，并更新所述协议识别价值数据库。第三方面，本发明还提供一种堆叠环境下的节点交互装置，包括：主节点确定模块，用于确定堆叠环境引擎节点中的主节点，并将堆叠环境中的剩余引擎节点确定为从节点；第一数据发送模块，用于获取配置信息及主节点的第一协议识别价值数据，并基于第一预设通讯方式将所述配置信息及所述第一协议识别价值数据发送至各个从节点；第一数据接收模块，用于接收每一从节点发送的第二协议识别价值数据，并将所述第二协议识别价值数据保存至第一本地缓存数据库；第二数据发送模块，用于基于第一预设通讯方式将所述第一本地缓存数据库中协议识别价值数据发送至各个从节点，以使每一从节点将所述协议识别价值数据保存至第二本地缓存数据库，其中，所述第一本地缓存数据库及所述第二本地缓存数据库中包括协议识别价值数据库。第四方面，本发明还提供一种堆叠环境下的协议识别装置，包括：协议获取模块，用于获取待识别协议；第一协议识别模块，用于利用所述堆叠环境中的任一节点基于所述协议价值数据库对所述待识别协议进行第一识别；第二协议识别模块，用于若所述待识别协议的第一识别失败，基于预设的协议应用特征库对所述待识别协议进行第二识别，其中，所述预设的协议应用特征库包括协议识别特征值；协议标注模块，用于若所述待识别协议的第二识别失败，标注所述待识别协议；数据生成模块，用于若所述待识别协议的第二识别成功，生成针对于所述待识别协议的第三协议识别价值数据，并将所述第三协议识别价值数据发送至所述主节点。第五方面，本发明还提供一种电子设备，包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，处理器执行计算机程序时实现上述所述堆叠环境下的节点交互及协议识别方法中的步骤。第六方面，本发明还提供一种计算机存储介质，计算机可读存储介质存储有计算机程序，计算机程序被处理器执行时实现如上述所述堆叠环境下的节点交互及协议识别方法中的步骤。采用上述实施例的有益效果是：本发明通过确定堆叠环境引擎节点中的主节点，并通过主节点将配置信息发送至各从节点，便于主从节点之间的数据交互；并且通过将主节点中的第一协议识别价值数据与各从节点之间的第二协议识别价值数据进行数据交互，并保存至各自的本地缓存数据库中，利用了东西向的少量价值数据交互，改进了堆叠环境下协议识别流量，提高了协议识别整体处理效率。此外，本发明还在不改变现有网络架构前提下，优化了新增协议识别引擎节点流程，提高了新增协议识别引擎节点的处理能力。附图说明图1为本发明提供的现有技术中协议识别引擎节点的网络架构图；图2为本发明提供的一种堆叠环境下的节点交互方法的一实施例的流程示意图；图3为本发明一实施例提供的一种堆叠环境下的增引擎节点交互的流程示意图；图4为本发明提供的一种堆叠环境下的协议识别方法的一实施例的流程示意图；图5为本发明提供的堆叠环境下的节点交互装置的一实施例的结构示意图；图6为本发明提供的堆叠环境下的协议识别装置的一实施例的结构示意图；图7为本发明提供的一种电子设备的结构示意图。具体实施方式下面结合附图来具体描述本发明的优选实施例，其中，附图构成本发明一部分，并与本发明的实施例一起用于阐释本发明的原理，并非用于限定本发明的范围。在本发明的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本发明的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。本发明提供了一种节点交互及协议识别方法、装置、设备及计算机介质，以下分别进行说明。请参阅图2，图2为本发明提供的一种堆叠环境下的节点交互方法的一实施例的流程示意图，包括：步骤S201：确定堆叠环境引擎节点中的主节点，并将堆叠环境中的剩余引擎节点确定为从节点；首先需要说明的是，堆叠是指将一台以上的节点组合起来共同工作，以便在有限的空间内提供尽可能的处理能力。其中，堆叠环境中的任一节点都可以作为主节点，但是有个收敛规则，比如采用节点号小的，或IP地址小的节点为主节点，可以理解的是，通过选用采用IP地址小，或节点号小的节点作为主节点，在新节点加入的时候，不会改变主节点；并且在主节点down掉后，可以快速完成新的主节点选举，并且原有的主节点对应的价值数据都已经同步到新的主节点中。步骤S202：获取配置信息及主节点的第一协议识别价值数据，并基于第一预设通讯方式将配置信息及第一协议识别价值数据发送至各个从节点中；可以理解的是，为了使堆叠环境中的主节点与丛节点进行数据交互，需要配置信息进行连接，具体的，可以获取配置信息，并且由主节点通过第一预设通讯方式同步发送到堆叠环境中的所有从节点。具体的，第一预设通讯方式可以为组播方式，也可以为广播方式，基于上述两种通讯方式可以将配置信息同步至堆叠环境中的所有从节点中。其中，第一协议识别价值数据包括主节点可以进行识别的协议数据，也包括主节点自身的节点信息，在确定主节点后，主节点可以通过广播方式将第一协议识别价值数据发送至各个从节点中。可以理解的是，由于节点对协议的识别是动态变化的，因此第一协议识别价值数据包括的内容也是动态变化的，为了堆叠环境中的节点可以获取新的协议识别价值数据，可以基于预设时间间隔，即周期性地广播第一协议识别价值数据。从节点接收到配置信息后，可以与主节点进行数据交互，在接收到第一协议识别价值数据后，可以更新从节点本地的引擎能力。步骤S203：接收每一从节点发送的第二协议识别价值数据，并将第二协议识别价值数据保存至第一本地缓存数据库；可以理解的是，在构建主节点与从节点的交互桥梁后，从节点也可以预设时间间隔，即周期性的将第二协议识别价值数据，即从节点本地的协议识别价值数据同步给主节点，以实现交互数据共享。主节点在接收每一从节点发送第二协议识别价值数据后，将第二协议识别价值数据保存在主节点的第一本地缓存数据库中，其中，第一本地缓存数据库为主节点对应的缓存数据库，其中包括了协议识别价值数数据库，该数据库中即保存了主节点本身可以识别协议价值数据，也保存了其他从节点可以识别的协议价值数据。进一步地，协议识别价值数据库具体包括：源端口、目的端口、协议类型及识别的应用ID。步骤S204：基于第一预设通讯方式将第一本地缓存数据库中协议识别价值数据发送至各个从节点，以使每一从节点将协议识别价值数据保存至第二本地缓存数据库，其中，所述第一本地缓存数据库及所述第二本地缓存数据库中包括协议识别价值数据库。可以理解的是，通过将第一本地缓存数据库中的协议识别价值数据发送至各个从节点，从节点也接收到了来自其他从节点的第二协议识别价值数据，进一步共享了堆叠环境中的价值数据，提高了堆叠环境的协议识别引擎的整体效率。从节点在接收到第一本地缓存数据库中的协议识别价值数据后，将接收到的数据同时保存到从节点对应的第二本地缓存数据库中。至此，主节点对应的第一本地缓存数据库与每一从节点对应的第二本地缓存数据库均保存了所有节点对应的协议识别价值数据。即主节点与从节点的本地缓存数据库中均包括了协议识别价值数据库。在本发明的一个具体实施例中，基于第一预设通讯方式将第一本地缓存数据库中协议识别价值数据发送至各个从节点，包括：通过广播方式将第一本地缓存数据库中协议识别价值数据基于预设时间间隔发送至各个从节点中。同样的，由于协议识别的动态变化，第一本地缓存数据库中协议识别价值数据也在不停地发生变化，为了堆叠环境中的节点可以获取新的协议识别价值数据，需要通过广播方式将第一本地缓存数据库中协议识别价值数据基于预设时间间隔，即周期性地发送至各个从节点中。本发明通过确定堆叠环境引擎节点中的主节点，并通过主节点将配置信息发送至各从节点，便于主从节点之间的数据交互；并且通过将主节点中的第一协议识别价值数据与各从节点之间的第二协议识别价值数据进行数据交互，并保存至各自的本地缓存数据库中，利用了东西向的少量价值数据交互，改进了堆叠环境下协议识别流量，提高了协议识别整体处理效率。需要说明的是，现有技术在增加新的协议识别引擎节点，需要调节负载均衡，把部分流量导入后，批量升级协议识别引擎节点的协议特征库，以支持新的协议，但是这种方式整个过程比较繁琐，整体更新花费时间较长。在本发明的一个实施例中，请参阅图3，图3为本发明一实施例提供的一种堆叠环境下的增引擎节点交互的流程示意图。若堆叠环境中新增引擎节点，上述方法还包括：步骤S301：构建关于新增引擎节点的组网信息，以使新增引擎节点接收主节点发送的同步报文信息；可以理解的是，若堆叠环境中新增引擎节点，首先需要对新增引擎节点进行组网信息的构建，具体的，可以在堆叠环境中完成物理组网，并完成网络配置，以保证三层的连通性。步骤S302：接收新增引擎节点基于第二预设通讯方式发送的报文确认信息，基于报文确定信息将新增引擎节点确认为第一从节点；在组网信息构建完成后，可以周期性地发送主节点报文信息至新增的引擎节点，当新增引擎节点接收到该报文信息后，可以向主节点发送报文确认信息。需要说明的是，由于在新增引擎节点时，节点交互的对象仅涉及主节点和新增引擎节点，因此，第二预设通讯方式包括单播方式，即新增引擎节点可以通过单播方式向主节点发送报文确认信息。此时，可以将新增引擎节点确认为第一从节点，并将该第一从节点加入从节点池中。步骤S303：基于第二预设通讯方式将配置信息，第一本地缓存数据库中的协议识别价值数据发送至第一从节点，以使第一从节点将协议识别价值数据保存至第三本地缓存数据库，其中，第三本地缓存数据库中包括协议识别价值数据库。主节点将配置信息、第一本地缓存数据库的协议识别价值数据内容采用单播方式同步给第一从节点，其中，第一本地缓存数据库的协议识别价值数据即为协议识别价值数据库中的协议识别价值数据，第一从节点在接收到主节点发送的配置信息和协议识别价值数据后，将协议识别价值数据保存在第一从节点对应的第三本地缓存数据库中，至此，第三本地缓存数据库中也包括了上述协议识别价值数据库。第一从节点通过接收协议识别价值数据可以更新第一从节点的协议识别能力，使得协议识别能力快速地和主节点同步，提高更新效率。需要说明的是，本发明实施例中的第一本地缓存数据库、第二本地缓存数据库及第三本地缓存数据库中均包括协议识别价值数据库，而协议识别价值数据库具体包括：源端口、目的端口、协议类型及识别的应用ID。此外，由于每一节点对应的本地缓存数据库中均包括协议识别价值数据库，因此可以利用该协议识别价值数据库对未知协议进行具体的识别，具体的，请参阅图4，图4为本发明提供的一种堆叠环境下的协议识别方法的一实施例的流程示意图，包括：步骤S401：获取待识别协议；步骤S402：利用所述堆叠环境中的任一节点基于协议价值数据库对待识别协议进行第一识别；步骤S403：若待识别协议的第一识别失败，基于预设的协议应用特征库对待识别协议进行第二识别，其中，预设的协议应用特征库包括协议识别特征值；步骤S404：若待识别协议的第二识别失败，标注待识别协议；步骤S405：若待识别协议的第二识别成功，生成针对于待识别协议的第三协议识别价值数据，并将第三协议识别价值数据发送至主节点。其中，待识别协议包括网络流量中的任一协议，可以利用堆叠环境中的任一协议识别引擎节点，根据其对应的协议识别价值数据库对未知协议尽进行快速得匹配识别。如果第一识别成功，即未知协议中的源端口、目的端口、协议类型及识别的应用ID与协议识别价值数据库中的特征相同，则结束识别流程。如果第一识别不成功，此时可以基于预设的协议应用特征库对所述待识别协议进行第二识别，其中，预设的协议应用特征库包括协议识别特征值，举例而言：sig_match：tcp_payload＝％c5％00。如果第二识别成功，则生成针对于所述待识别协议的第三协议识别价值数据，并将第三协议识别价值数据发送至主节点，主节点可以将第三协议识别价值数据保存在第一本地缓存数据库中的协议识别价值数据库中。在本发明的一个实施例中，还可以基于第一预设通讯方式将第三协议识别价值数据发送至堆叠环境中包括第一从节点的各个从节点，并更新协议识别价值数据库。可以理解的是，主节点可以将第三协议识别价值数据广播发送至其他从节点，以使其他从节点更新本地缓存库中的协议识别价值数据库，进一步提高了堆叠环境中引擎节点的协议识别能力。如果第二识别失败，则标注该待识别协议为未知协议应用，等待后续处理。协议识别引擎利用堆叠环境下各节点产生的协议识别价值数据提升协议应用的匹配效率流程。为了更好实施本发明实施例中的堆叠环境下的节点交互方法，在堆叠环境下的节点交互方法基础之上，对应的，请参阅图5，图5为本发明提供的堆叠环境下的节点交互装置的一实施例的结构示意图，本发明实施例提供了一种堆叠环境下的节点交互装置500，包括：主节点确定模块501，用于确定堆叠环境引擎节点中的主节点，并将堆叠环境中的剩余引擎节点确定为从节点；第一数据发送模块502，用于获取配置信息及主节点的第一协议识别价值数据，并基于第一预设通讯方式将所述配置信息及所述第一协议识别价值数据发送至各个从节点；第一数据接收模块503，用于接收每一从节点发送的第二协议识别价值数据，并将所述第二协议识别价值数据保存至第一本地缓存数据库；第二数据发送模块504，用于基于第一预设通讯方式将所述第一本地缓存数据库中协议识别价值数据发送至各个从节点，以使每一从节点将所述协议识别价值数据保存至第二本地缓存数据库，其中，第一本地缓存数据库及第二本地缓存数据库中包括协议识别价值数据库。这里需要说明的是：上述实施例提供的装置500可实现上述堆叠环境下的节点交互方法实施例中描述的技术方案，上述各模块或单元具体实现的原理可参见上述堆叠环境下的节点交互方法实施例中的相应内容，此处不再赘述。为了更好实施本发明实施例中的堆叠环境下的协议识别方法，在堆叠环境下的协议识别方法基础之上，对应的，请参阅图6，图6为本发明提供的堆叠环境下的协议识别装置的一实施例的结构示意图，本发明实施例提供了一种堆叠环境下的协议识别装置600，包括：协议获取模块601，用于获取待识别协议；第一协议识别模块602，用于利用堆叠环境中的任一节点基于所述协议价值数据库对所述待识别协议进行第一识别；第二协议识别模块603，用于若所述待识别协议的第一识别失败，基于预设的协议应用特征库对所述待识别协议进行第二识别，其中，所述预设的协议应用特征库包括协议识别特征值；协议标注模块604，用于若所述待识别协议的第二识别失败，标注所述待识别协议；数据生成模块605，用于若所述待识别协议的第二识别成功，生成针对于所述待识别协议的第三协议识别价值数据，并将所述第三协议识别价值数据发送至所述主节点。这里需要说明的是：上述实施例提供的装置600可实现上述堆叠环境下的协议识别方法实施例中描述的技术方案，上述各模块或单元具体实现的原理可参见上述堆叠环境下的协议识别方法实施例中的相应内容，此处不再赘述。基于上述堆叠环境下的节点交互及协议识别方法，本发明实施例还相应的提供一种电子设备，包括：处理器和存储器以及存储在存储器中并可在处理器上执行的计算机程序；处理器执行计算机程序时实现如上述各实施例的堆叠环境下的节点交互及协议识别方法中的步骤。图7中示出了适于用来实现本发明实施例的电子设备700的结构示意图。本发明实施例中的电子设备可以包括但不限于诸如移动电话、笔记本电脑、数字广播接收器、PDA、PAD、PMP、车载终端等等的移动终端以及诸如数字TV、台式计算机等等的固定终端。图7示出的电子设备仅仅是一个示例，不应对本发明实施例的功能和使用范围带来任何限制。电子设备包括：存储器以及处理器，其中，这里的处理器可以称为下文的处理装置701，存储器可以包括下文中的只读存储器702、随机访问存储器703以及存储装置708中的至少一项，具体如下所示：如图7所示，电子设备700可以包括处理装置701，其可以根据存储在只读存储器702中的程序或者从存储装置708加载到随机访问存储器703中的程序而执行各种适当的动作和处理。在RAM703中，还存储有电子设备700操作所需的各种程序和数据。处理装置701、ROM702以及RAM703通过总线704彼此相连。输入/输出接口705也连接至总线704。通常，以下装置可以连接至I/O接口705：包括例如触摸屏、触摸板、键盘、鼠标、摄像头、麦克风、加速度计、陀螺仪等的输入装置706；包括例如液晶显示器、扬声器、振动器等的输出装置707；包括例如磁带、硬盘等的存储装置708；以及通信装置709。通信装置709可以允许电子设备700与其他设备进行无线或有线通信以交换数据。虽然图7示出了具有各种装置的电子设备700，但是应理解的是，并不要求实施或具备所有示出的装置。可以替代地实施或具备更多或更少的装置。特别地，根据本发明的实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本发明的实施例包括一种计算机程序产品，其包括承载在非暂态计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信装置709从网络上被下载和安装，或者从存储装置708被安装，或者从ROM702被安装。在该计算机程序被处理装置701执行时，执行本发明实施例的方法中限定的上述功能。基于上述堆叠环境下的节点交互及协议识别方法，本发明实施例还相应的提供一种计算机可读存储介质，该计算机可读存储介质存储有一个或者多个程序，一个或者多个程序可被一个或者多个处理器执行，以实现如上述各实施例的堆叠环境下的节点交互及协议识别方法中的步骤。本领域技术人员可以理解，实现上述实施例方法的全部或部分流程，可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于计算机可读存储介质中。其中，所述计算机可读存储介质为磁盘、光盘、只读存储记忆体或随机存储记忆体等。以上所述，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。
