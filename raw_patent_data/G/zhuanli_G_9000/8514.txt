标题title
样本纤维蛋白原浓度确定方法、装置、凝血分析仪和介质
摘要abst
本申请公开了一种样本纤维蛋白原浓度确定方法、装置、凝血分析仪和介质。其中方法包括：获取多个血液样本的凝固曲线数据，凝固曲线数据为在不同浓度的多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据；根据多个血液样本的凝固曲线数据，计算多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，目标特征为反应吸光度变化量的特征；将目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，所述标准曲线用于表示纤维蛋白原浓度与凝固曲线数据计算出的目标特征的映射关系；获取测试样本的所述凝固曲线数据，计算所述测试样本的所述目标特征，再根据标准曲线计算所述测试样本的纤维蛋白原浓度值。
权利要求书clms
1.一种样本纤维蛋白原浓度确定方法，其特征在于，包括：获取多个血液样本的凝固曲线数据，所述凝固曲线数据为在不同浓度的所述多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据；根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，所述目标特征为反应吸光度变化量的特征；将所述目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，所述标准曲线用于表示所述纤维蛋白原浓度与所述凝固曲线数据计算出的目标特征的映射关系；获取测试样本的所述凝固曲线数据，计算所述测试样本的所述目标特征，再根据所述标准曲线计算所述测试样本的纤维蛋白原浓度值。2.根据权利要求1所述的样本纤维蛋白原浓度确定方法，其特征在于，所述根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，包括：根据第一浓度样本的第一凝固曲线数据，计算所述第一凝固曲线数据的一阶导数曲线，所述第一浓度样本为所述多个血液样本中的一个；对所述一阶导数曲线进行滤波处理，再对滤波后的一阶导数求最大值dMax；根据所述最大值dMax与所述一阶导数曲线，确定两个光强点；根据所述光强点对应的光强值计算所述第一浓度样本的目标特征；通过以上步骤计算每个血液样本所对应的目标特征，获得所述不同浓度的血液样本与目标特征的对应关系。3.根据权利要求2所述的样本纤维蛋白原浓度确定方法，其特征在于，所述根据所述最大值dMax与所述一阶导数曲线，确定两个光强点，包括：在所述一阶导数曲线中生成判断线，得到与所述一阶导数曲线的多个交点，所述判断线为所述一阶导数曲线中α*dMax的位置的一条平行x轴的线，所述α为预设常数；在所述多个交点中确定第一交点和第二交点；上述根据所述光强点对应的光强值计算所述第一浓度样本的目标特征，包括：从所述第一凝固曲线数据中获取所述第一交点对应的第一光强和所述第二交点对应的第二光强；根据所述第一光强和所述第二光强，通过预设公式计算所述第一浓度样本的目标特征。4.根据权利要求3所述的样本纤维蛋白原浓度确定方法，其特征在于，所述在所述多个交点中确定第一交点和第二交点，包括：若所述多个交点中存在与所述最大值dMax距离最近且不在所述最大值dMax同侧的两个交点，确定所述两个交点分别为所述第一交点和所述第二交点；或者，若在所述最大值dMax左边，一阶导数曲线与所述判断线没有交点，则所述第一交点为1；若在所述最大值dMax右边，一阶导数曲线与所述判断线没有交点，则第二交点为第一凝固曲线数据长度。5.根据权利要求3所述的样本纤维蛋白原浓度确定方法，其特征在于，所述方法还包括：若在所述最大值dMax左边或右边，一阶导数曲线与所述判断线没有交点，增大所述α的值，生成新的判断线进行处理，或者，对所述第一凝固曲线数据进行异常处理。6.根据权利要求1所述的样本纤维蛋白原浓度确定方法，其特征在于，所述根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，包括：对所述多个血液样本中每个血液样本的凝固曲线数据进行从小到大排序，获得排序数据；取所述排序数据中a%和b%位置的值，作为第一光强和第二光强；所述a和所述b为预设常数；根据所述第一光强和所述第二光强，通过预设公式计算所述每个血液样本所对应的目标特征，获得所述不同浓度的血液样本与目标特征的对应关系。7.根据权利要求1所述的样本纤维蛋白原浓度确定方法，其特征在于，所述凝固曲线数据包括凝血酶原时间曲线数据、活化部分凝血活酶时间曲线数据和凝血酶时间曲线数据；所述方法还包括：基于所述凝血酶原时间曲线数据、活化部分凝血活酶时间曲线数据和凝血酶时间曲线数据分别计算出三个纤维蛋白原浓度值；根据所述三个纤维蛋白原浓度值和预设规则确定目标纤维蛋白原浓度值。8.一种样本纤维蛋白原浓度确定装置，其特征在于，包括：获取模块，用于获取多个血液样本的凝固曲线数据，所述凝固曲线数据为在不同浓度的所述多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据；计算模块，用于根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，所述目标特征为反应吸光度变化量的特征；拟合模块，用于将所述目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，所述标准曲线用于表示所述纤维蛋白原浓度与所述凝固曲线数据计算出的目标特征的映射关系；处理模块，用于获取测试样本的所述凝固曲线数据，计算所述测试样本的所述目标特征，再根据所述标准曲线计算所述测试样本的纤维蛋白原浓度值。9.一种凝血分析仪，其特征在于，包括制样部件、光照检测部件以及如权利要求8所述的一种样本纤维蛋白原浓度确定装置；所述制样部件用于混合血液样本和试剂，获得反应样本；所述光照检测部件，用于光照所述反应样本以及检测透过所述反应样本的光；所述获取模块具体用于，根据所述光照检测部件的检测结果，获取所述反应样本的凝固曲线数据。10.一种计算机可读存储介质，其特征在于，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行如权利要求1至7中任一项所述的样本纤维蛋白原浓度确定方法的步骤。
说明书desc
技术领域本发明涉及医疗检测分析技术领域，尤其是涉及一种样本纤维蛋白原浓度确定方法、装置、凝血分析仪和介质。背景技术在医疗或者实验场景中，常需要对各类样本进行测试分析。凝血分析仪是血栓与止血分析的专用仪器，可检测多种血栓与止血指标，为出血和血栓性疾病诊断、溶栓与抗凝治疗监测及疗效观察提供了有价值的指标，是目前血栓/止血实验室中使用的最基本的设备。纤维蛋白原是参与凝血和止血过程中的重要蛋白纤维蛋白。纤维蛋白原浓度本来要用专门的纤维蛋白原浓度测定用试剂进行测定，这种测定比较花费时间和成本。发明内容本申请提供了一种样本纤维蛋白原浓度确定方法、装置、凝血分析仪和介质。第一方面，提供了一种样本纤维蛋白原浓度确定方法，包括：获取多个血液样本的凝固曲线数据，所述凝固曲线数据为在不同浓度的所述多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据；根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，所述目标特征为反应吸光度变化量的特征；将所述目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，所述标准曲线用于表示所述纤维蛋白原浓度与所述凝固曲线数据计算出的目标特征的映射关系；获取测试样本的所述凝固曲线数据，计算所述测试样本的所述目标特征，再根据所述标准曲线计算所述测试样本的纤维蛋白原浓度值。在一种可选的实施方式中，所述根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，包括：根据第一浓度样本的第一凝固曲线数据，计算所述第一凝固曲线数据的一阶导数曲线，所述第一浓度样本为所述多个血液样本中的一个；对所述一阶导数曲线进行滤波处理，再对滤波后的一阶导数求最大值dMax；根据所述最大值dMax与所述一阶导数曲线，确定两个光强点；根据所述光强点对应的光强值计算所述第一浓度样本的目标特征；通过以上步骤计算每个血液样本所对应的目标特征，获得所述不同浓度的血液样本与目标特征的对应关系。在一种可选的实施方式中，所述根据所述最大值dMax与所述一阶导数曲线，确定两个光强点，包括：在所述一阶导数曲线中生成判断线，得到与所述一阶导数曲线的多个交点，所述判断线为所述一阶导数曲线中α*dMax的位置的一条平行x轴的线，所述α为预设常数；在所述多个交点中确定第一交点和第二交点；上述根据所述光强点对应的光强值计算所述第一浓度样本的目标特征，包括：从所述第一凝固曲线数据中获取所述第一交点对应的第一光强和所述第二交点对应的第二光强；根据所述第一光强和所述第二光强，通过预设公式计算所述第一浓度样本的目标特征。在一种可选的实施方式中，所述在所述多个交点中确定第一交点和第二交点，包括：若所述多个交点中存在与所述最大值dMax距离最近且不在所述最大值dMax同侧的两个交点，确定所述两个交点分别为所述第一交点和所述第二交点；或者，若在所述最大值dMax左边，一阶导数曲线与所述判断线没有交点，则所述第一交点为1；若在所述最大值dMax右边，一阶导数曲线与所述判断线没有交点，则第二交点为第一凝固曲线数据长度。在一种可选的实施方式中，所述方法还包括：若在所述最大值dMax左边或右边，一阶导数曲线与所述判断线没有交点，增大所述α的值，生成新的判断线进行处理，或者，对所述第一凝固曲线数据进行异常处理。在一种可选的实施方式中，所述根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，包括：对所述多个血液样本中每个血液样本的凝固曲线数据进行从小到大排序，获得排序数据；取所述排序数据中a%和b%位置的值，作为第一光强和第二光强；所述a和所述b为预设常数；根据所述第一光强和所述第二光强，通过预设公式计算所述每个血液样本所对应的目标特征，获得所述不同浓度的血液样本与目标特征的对应关系。在一种可选的实施方式中，所述凝固曲线数据包括凝血酶原时间曲线数据、活化部分凝血活酶时间曲线数据和凝血酶时间曲线数据；所述方法还包括：基于所述凝血酶原时间曲线数据、活化部分凝血活酶时间曲线数据和凝血酶时间曲线数据分别计算出三个纤维蛋白原浓度值；根据所述三个纤维蛋白原浓度值和预设规则确定目标纤维蛋白原浓度值。第二方面，提供了一种样本纤维蛋白原浓度确定装置，包括：获取模块，用于获取多个血液样本的凝固曲线数据，所述凝固曲线数据为在不同浓度的所述多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据；计算模块，用于根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，所述目标特征为反应吸光度变化量的特征；拟合模块，用于将所述目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，所述标准曲线用于表示所述纤维蛋白原浓度与所述凝固曲线数据计算出的目标特征的映射关系；处理模块，用于获取测试样本的所述凝固曲线数据，计算所述测试样本的所述目标特征，再根据所述标准曲线计算所述测试样本的纤维蛋白原浓度值。第三方面，提供了一种凝血分析仪，包括制样部件、光照检测部件以及如第二方面所述的一种样本纤维蛋白原浓度确定装置。第四方面，提供了一种计算机存储介质，所述计算机存储介质存储有一条或多条指令，所述一条或多条指令适于由处理器加载并执行如上述第一方面及其任一种可能的实现方式的步骤。本申请中的样本纤维蛋白原浓度确定方法，通过获取多个血液样本的凝固曲线数据，所述凝固曲线数据为在不同浓度的所述多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据；根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，所述目标特征为反应吸光度变化量的特征；将所述目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，所述标准曲线用于表示所述纤维蛋白原浓度与所述凝固曲线数据计算出的目标特征的映射关系；获取测试样本的所述凝固曲线数据，计算所述测试样本的所述目标特征，再根据所述标准曲线计算所述测试样本的纤维蛋白原浓度值；该方法可从样本的凝固曲线数据中获取特征，使用该特征来演算出纤维蛋白原浓度值，不需要专门的纤维蛋白原浓度测定，可以简便、准确地获取纤维蛋白原浓度。附图说明为了更清楚地说明本申请实施例或背景技术中的技术方案，下面将对本申请实施例或背景技术中所需要使用的附图进行说明。图1为本申请实施例提供的一种样本纤维蛋白原浓度确定方法的流程示意图；图2为本申请实施例提供的一种标准曲线示意图；图3为本申请实施例提供的一种计算目标特征方法的流程示意图；图4A为本申请实施例提供的一种PT曲线计算示意图；图4B为本申请实施例提供的一种PT曲线的一阶导数曲线示意图；图5为本申请实施例提供的另一种计算目标特征方法的流程示意图；图6为本申请实施例提供的另一种PT曲线计算示意图；图7为本申请实施例提供的一种样本纤维蛋白原浓度确定装置的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别不同对象，而不是用于描述特定顺序。此外，术语“包括”和“具有”以及它们任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其他步骤或单元。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。本申请实施例中提到的凝血酶原时间主要反映外源性凝血是否正常，记录的是在缺乏血小板的血浆中加入过量的组织因子后，凝血酶原转化为凝血酶，导致血浆凝固所需的时间。本申请实施例中涉及到光学法，使用光学法进行样本检测时，血浆由于发生一定的理化反应而凝结，透射光和散射光的强度也会随之发生改变，将测得的光强信号的变化转换成电信号的变化，经采集可显示整个凝结过程电信号，经数据处理后计算，可得到需要的信息。下面结合本申请实施例中的附图对本申请实施例进行描述。请参阅图1，图1是本申请实施例提供的一种样本纤维蛋白原浓度确定方法的流程示意图。该方法可包括：101、获取多个血液样本的凝固曲线数据，上述凝固曲线数据为在不同浓度的上述多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据。本申请实施例的执行主体可以为一种样本纤维蛋白原浓度确定装置，在具体应用中可以为一种凝血分析仪。其中，上述凝固曲线数据可以为PT曲线数据。在可选的实施方式中，该凝固曲线数据也可以是TT曲线数据或APTT曲线数据，本申请实施例对此不做限制。具体的，可以使用FIB校准品或凝血综合校准品，将校准品稀释成多个浓度梯度作为上述血液样本，再使用特定试剂对每个浓度梯度的血液样本进行凝血测试，获取每个浓度梯度的凝固曲线数据。例如可使用PT试剂对每个浓度梯度的血液样本进行PT测试，获取每个浓度梯度的PT曲线数据。其中，浓度和样本个数可以根据需要设置。102、根据上述多个血液样本的凝固曲线数据，计算上述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，上述目标特征为反应吸光度变化量的特征。具体的，根据获得的多个血液样本的凝固曲线数据，可以计算出各个血液样本所对应的目标特征，即每个浓度梯度对应的能反应吸光度变化量的特征dH。目标特征的选择规则可以根据需要进行适当调整，具体可参见后续实施例中的描述。103、将上述目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，上述标准曲线用于表示上述纤维蛋白原浓度与上述凝固曲线数据计算出的目标特征的映射关系。具体的，将获得的目标特征与纤维蛋白原浓度进行曲线拟合，来获取标准曲线。本申请实施例中提到的曲线拟合是指选择适当的曲线类型来拟合观测数据，并用拟合的曲线方程分析两变量间的关系。可选的，获得标准曲线可以有多种方式，包括线性拟合、三次项拟合、双对数线性拟合等，本申请实施例对此不做限制。其中，上述标准曲线的x轴为FIB浓度，y轴为凝固曲线数据计算出的反应吸光度变化的特征dH，例如，图2为本申请提供的一种标准曲线示意图，图2中的该标准曲线是通过双对数线性拟合获得。本申请实施例中获得的标准曲线，可以用于判断样本的纤维蛋白原浓度。104、获取测试样本的上述凝固曲线数据，计算上述测试样本的上述目标特征，再根据上述标准曲线计算上述测试样本的纤维蛋白原浓度值。具体的，通过上述步骤101-步骤103可以获得用于确定样本的纤维蛋白原浓度的标准曲线，进而之后可以利用该标准曲线辅助确定样本的纤维蛋白原浓度。可选的，上述步骤101-步骤104可以在同一装置或设备中执行，也可以在第一装置或设备中执行上述步骤101-步骤103，以获得上述标准曲线，再通过存储有该标准曲线的第二装置或设备中执行步骤104，即常规测定时可以通过该标准曲线换算出样本的纤维蛋白原浓度。进一步的，在实际应用中，对于任意测试样本，可以通过常规方法加入试剂进行测试，获取凝固曲线数据，并计算目标特征，此处可以选择与上述步骤102中计算目标特征的方法相同，不再赘述。然后，可以根据已有的标准曲线计算该测试样本的纤维蛋白原浓度值。具体的，上述标准曲线实质上表示纤维蛋白原浓度与凝固曲线数据计算出的目标特征的映射关系，则再已经获得测试样本的目标特征的情况下，可以根据该映射关系确定测试样本的目标特征所对应的纤维蛋白原浓度值。本申请实施例中的方法可以为一种PT演算法，根据PT测定完成时, 全部的纤维蛋白原均变成纤维蛋白，其发生的浊度改变与纤维蛋白原的含量成正比，由此根据浊度推算出纤维蛋白原含量。在得到PT演算法结果时需要用到PT曲线吸光度的变化值参数，它与PT存在一定的线性关系，通过制定出标准曲线，常规测定时就可以通过这个曲线换算出样本的纤维蛋白原浓度结果。本申请中的样本纤维蛋白原浓度确定方法，通过获取多个血液样本的凝固曲线数据，所述凝固曲线数据为在不同浓度的所述多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据；根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，所述目标特征为反应吸光度变化量的特征；将所述目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，所述标准曲线用于表示所述纤维蛋白原浓度与所述凝固曲线数据计算出的目标特征的映射关系；获取测试样本的所述凝固曲线数据，计算所述测试样本的所述目标特征，再根据所述标准曲线计算所述测试样本的纤维蛋白原浓度值；该方法可从样本的凝固曲线数据中获取特征，使用该特征来演算出纤维蛋白原浓度值，不需要专门的纤维蛋白原浓度测定，可以简便、准确地获取纤维蛋白原浓度。图3是本申请实施例提供的一种计算目标特征方法的流程示意图，该方法可以用于图1所示实施例中的步骤102；如图3所示该方法包括：301、根据第一浓度样本的第一凝固曲线数据，计算上述第一凝固曲线数据的一阶导数曲线，上述第一浓度样本为上述多个血液样本中的一个；302、对上述一阶导数曲线进行滤波处理，再对滤波后的一阶导数求最大值dMax；303、根据上述最大值dMax与上述一阶导数曲线，确定两个光强点；304、根据上述光强点对应的光强值计算上述第一浓度样本的目标特征；305、通过以上步骤计算每个血液样本所对应的目标特征，获得上述不同浓度的血液样本与目标特征的对应关系。为了方便描述，此处选择多个血液样本中的任一个样本对其处理步骤进行介绍，该个样本称为第一浓度样本。其中，上述滤波处理可以包括均值滤波、中值滤波等，此处不做限制。在一种可选的实施方式中，上述步骤303包括：11、在上述一阶导数曲线中生成判断线，得到与上述一阶导数曲线的多个交点，上述判断线为上述一阶导数曲线中α*dMax的位置的一条平行x轴的线，上述α为预设常数；12、在上述多个交点中确定第一交点和第二交点；进一步的，上述步骤304包括：13、从上述第一凝固曲线数据中获取上述第一交点对应的第一光强和上述第二交点对应的第二光强；14、根据上述第一光强和上述第二光强，通过预设公式计算上述第一浓度样本的目标特征。从第一凝固曲线数据获取的第一交点和第二交点分别记为a点和b点，对应的光强分别记为A和B。可选的，上述预设公式可以根据需要进行设置，例如：dH = log，也可以使用其他公式，如dH = B - A，dH = B/A等。可选的，上述步骤12包括：若上述多个交点中存在距离与上述最大值dMax距离最近且不在上述最大值dMax同侧的两个交点，确定上述两个交点分别为上述第一交点和上述第二交点；或者，若在上述最大值dMax左边，一阶导数曲线与上述判断线没有交点，则上述第一交点为1，即上述第一交点赋为起始时刻的点；；若在上述最大值dMax右边，一阶导数曲线与上述判断线没有交点，则第二交点为第一凝固曲线数据长度。可选的，上述方法还包括：若在上述最大值dMax左边或右边，一阶导数曲线与上述判断线没有交点，增大上述α的值，生成新的判断线进行处理，或者，对上述第一凝固曲线数据进行异常处理。生成的判断线与一阶导数曲线可能存在多个交点，一般是大于等于2个交点，若在上述最大值dMax的一侧没有交点，可以调整α的值以生成新的判断线重新确定交点，也可以进行异常处理，具体的异常处理步骤可以根据需要预先设置，比如输出提示异常的信息等，可以重新选择样本或曲线进行处理，本申请实施例对此不做限制。举例来讲，图4A为本申请实施例提供的一种PT曲线计算示意图，其中，该曲线为某样本的PT曲线；图4B为图4A中的PT曲线的一阶导数曲线示意图。具体的，对于基于PT曲线的目标特征计算流程可包括：步骤一：输入PT曲线数据；步骤二：根据PT曲线数据，计算该曲线的一阶导数；步骤三：对上述一阶导数进行滤波处理；步骤三：对滤波后的一阶导数求最大值，记为dMax；步骤四：在α*dMax的位置画一条平行x轴的判断线，得到与一阶导数曲线的多个交点；α可以选择0.1或者0.05；其中，该判断线与一阶导数曲线可能存在多个交点，一般是大于等于2个交点；步骤五：取距离一阶导数最大值最近的两个交点，记为a和b；如果一阶导数最大值左边，一阶导数曲线与判断线没有交点，则a=1；如果一阶导数最大值右边，一阶导数曲线与判断线没有交点，则b=PT曲线长度；或者可以将α的值变大，也可以根据此来对曲线进行异常处理；步骤六：从原始PT曲线获取a和b点对应的光强A和B；步骤七：计算dH = log；这里也可以使用其他公式，如dH = B - A，dH = B/A，等。请参见图5，图5是本申请实施例提供的另一种计算目标特征方法的流程示意图，该方法可以用于图1所示实施例中的步骤102；如图5所示该方法包括：501、对多个血液样本中每个血液样本的凝固曲线数据进行从小到大排序，获得排序数据；502、取上述排序数据中a%和b%位置的值，作为第一光强和第二光强；上述a和上述b为预设常数；503、根据上述第一光强和上述第二光强，通过预设公式计算上述每个血液样本所对应的目标特征，获得上述不同浓度的血液样本与目标特征的对应关系。其中，上述预设常数可以根据需要进行设置，例如a%和b%分别设置为1%和99%；如果机器的曲线非常光滑，不会出现波动，则可以直接取0%和100%；如果机器的曲线可能出现毛刺或者波动，则可以取2%和98%，或者其他值。可选的，上述预设公式可以根据需要进行设置，例如：dH = log，也可以使用其他公式，如dH = B - A，dH = B/A等。举例来讲，图6为本申请实施例提供的另一种PT曲线计算示意图，如图6所示，该曲线为某样本的PT曲线；具体的，对于基于PT曲线的目标特征计算流程可包括：步骤一：输入PT曲线数据；步骤二：对PT曲线数据进行从小到大排序；步骤三：取排序数据a%和b%位置的值，记为A和B；步骤四：计算dH = B - A，这里也可以使用其他公式。在一种可选的实施方式中，上述凝固曲线数据包括凝血酶原时间曲线数据、活化部分凝血活酶时间曲线数据和凝血酶时间曲线数据；上述方法还包括：基于上述凝血酶原时间曲线数据、活化部分凝血活酶时间曲线数据和凝血酶时间曲线数据分别计算出三个纤维蛋白原浓度值；根据上述三个纤维蛋白原浓度值和预设规则确定目标纤维蛋白原浓度值。本申请实施例中的样本纤维蛋白原浓度确定方法，除了针对PT曲线，基于TT曲线、APTT曲线都可以根据相同的方式演算出FIB浓度值，此处不再赘述。进一步的，可以通过这三种曲线分别通过本申请实施例中的方法演算FIB浓度值，并根据预设规则综合三种曲线对应的三个结果，可以获得最终的FIB浓度，即上述目标纤维蛋白原浓度值。其中，上述预设规则可以根据需要进行设置，比如求三个数值的均值，或者加权平均，本申请实施例对此不做限制。一般测凝血的时候，PT、TT和APTT都会同时测得，同时采用三种曲线演算FIB浓度，并综合三个结果得到最终的FIB浓度，准确性更高。基于上述样本纤维蛋白原浓度确定方法实施例的描述，本申请实施例还公开了一种样本纤维蛋白原浓度确定装置，如图7所示，样本纤维蛋白原浓度确定装置700包括：获取模块710，用于获取多个血液样本的凝固曲线数据，所述凝固曲线数据为在不同浓度的所述多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据；计算模块720，用于根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，所述目标特征为反应吸光度变化量的特征；拟合模块730，用于将所述目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，所述标准曲线用于表示所述纤维蛋白原浓度与所述凝固曲线数据计算出的目标特征的映射关系；处理模块740，用于获取测试样本的所述凝固曲线数据，计算所述测试样本的所述目标特征，再根据所述标准曲线计算所述测试样本的纤维蛋白原浓度值。根据本申请的一个实施例，图1图3和图5所示的方法所涉及的各个步骤均可以是由图7所示的样本纤维蛋白原浓度确定装置700中的各个模块执行的，此处不再赘述。本申请实施例中的样本纤维蛋白原浓度确定装置700，可以通过获取多个血液样本的凝固曲线数据，所述凝固曲线数据为在不同浓度的所述多个血液样本中分别加入试剂进行凝血测试获得的多组反应曲线数据；根据所述多个血液样本的凝固曲线数据，计算所述多个血液样本所对应的目标特征，获得不同浓度的血液样本与目标特征的对应关系，所述目标特征为反应吸光度变化量的特征；将所述目标特征与纤维蛋白原浓度进行曲线拟合，获得标准曲线，所述标准曲线用于表示所述纤维蛋白原浓度与所述凝固曲线数据计算出的目标特征的映射关系；获取测试样本的所述凝固曲线数据，计算所述测试样本的所述目标特征，再根据所述标准曲线计算所述测试样本的纤维蛋白原浓度值；该方法可从样本的凝固曲线数据中获取特征，使用该特征来演算出纤维蛋白原浓度值，不需要专门的纤维蛋白原浓度测定，可以简便、准确地获取纤维蛋白原浓度。基于上述方法实施例以及装置实施例的描述，本申请实施例还提供一种凝血分析仪。该凝血分析仪包括制样部件、光照检测部件，还包括如图7所示的一种样本纤维蛋白原浓度确定装置700；所述制样部件用于混合血液样本和试剂，获得反应样本；所述光照检测部件，用于光照所述反应样本以及检测透过所述反应样本的光；所述获取模块具体用于，根据所述光照检测部件的检测结果，获取所述反应样本的凝固曲线数据。其中，上述样本纤维蛋白原浓度确定装置700可以执行如图1、图3和图5中的任意步骤，此处不再赘述。该凝血分析仪还可以包括其他部件或模块，本申请实施例对该凝血分析仪的具体硬件结构不做限制。本申请实施例还提供了一种计算机存储介质，上述计算机存储介质是电子设备中的记忆设备，用于存放程序和数据。可以理解的是，此处的计算机存储介质既可以包括电子设备中的内置存储介质，当然也可以包括电子设备所支持的扩展存储介质。计算机存储介质提供存储空间，该存储空间存储了电子设备的操作系统。并且，在该存储空间中还存放了适于被处理器加载并执行的一条或多条的指令，这些指令可以是一个或一个以上的计算机程序。需要说明的是，此处的计算机存储介质可以是高速RAM存储器，也可以是非不稳定的存储器，例如至少一个磁盘存储器；可选的还可以是至少一个位于远离前述处理器的计算机存储介质。在一个实施例中，可由处理器加载并执行计算机存储介质中存放的一条或多条指令，以实现上述实施例中的相应步骤；具体实现中，计算机存储介质中的一条或多条指令可以由处理器加载并执行图1、图3和图5所示实施例中方法的任意步骤，此处不再赘述。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的装置和模块的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本申请所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，该模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如，多个模块或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。所显示或讨论的相互之间的耦合、或直接耦合、或通信连接可以是通过一些接口，装置或模块的间接耦合或通信连接，可以是电性，机械或其它的形式。作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理模块，即可以位于一个地方，或者也可以分布到多个网络模块上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。该计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行该计算机程序指令时，全部或部分地产生按照本申请实施例的流程或功能。该计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。该计算机指令可以存储在计算机可读存储介质中，或者通过该计算机可读存储介质进行传输。该计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线）或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。该计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。该可用介质可以是只读存储器，或随机存储存储器，或磁性介质，例如，软盘、硬盘、磁带、磁碟、或光介质，例如，数字通用光盘、或者半导体介质，例如，固态硬盘等。
