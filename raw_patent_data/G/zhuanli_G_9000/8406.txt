标题title
痉挛程度计算的方法、装置、电子设备及存储介质
摘要abst
本发明公开了痉挛程度计算的方法、装置、电子设备及存储介质，包括：获取患者的动力学特征以及电生理学特征；将动力学特征以及电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果；其中，训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。本发明针对患者患侧肢体在被动牵拉运动中的动力学特征以及电生理学特征，通过痉挛程度计算模型对造成痉挛症状的神经成分和非神经成分进行独立分析，实现对患者痉挛程度的全面客观分析。
权利要求书clms
1.一种痉挛程度计算的方法，其特征在于，包括：获取患者的动力学特征以及电生理学特征；将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果；其中，所述训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。2.根据权利要求1所述的痉挛程度计算的方法，其特征在于，所述动力学特征包含关节的机械阻抗参数，所述获取患者的动力学特征，包括：获取患者的运动学数据以及生物力学数据；采用卡尔曼滤波根据所述运动学数据确定关节角度、关节角速度以及关节角加速度；对所述生物力学数据进行低通滤波，得到力矩数据；采用惯量-阻尼-弹簧模型根据所述关节角度、所述关节角速度、所述关节角加速度以及所述力矩数据对所述患者的动力学特性进行建模；基于遗传算法对所述关节的机械阻抗参数进行辨识，得到动力学特征。3.根据权利要求2所述的痉挛程度计算的方法，其特征在于，所述机械阻抗参数包含患者患肢的惯量、阻尼以及刚度，所述基于遗传算法对所述关节的机械阻抗参数进行辨识，包括：根据预设的评价函数确定种群中每个个体的适应度函数值；其中，每个个体由所述惯量、所述阻尼以及所述刚度构成；根据所述每个个体的适应度函数值对种群中所有个体排序并筛选，得到第一个体集合；根据所述第一个体集合中每个个体的适应度函数值确定对应的交叉概率；根据所述交叉概率对所述第一个体集合进行交叉操作，得到第二个体集合；根据所述第二个体集合中每个个体的适应度函数值确定对应的变异概率；根据所述变异概率对所述第二个体集合进行变异操作，得到第三个体集合；重复上述步骤直到迭代次数达到预设阈值，得到对所述关节的机械阻抗参数的辨识结果。4.根据权利要求1所述的痉挛程度计算的方法，其特征在于，所述获取电生理学特征，包括：获取电生理学数据；所述电生理学数据包含多个通道的肌电信号；对所述多个通道的肌电信号进行预处理；分别提取各通道的肌电信号的平均绝对偏差特征和均方根特征；根据所述多个通道的肌电信号确定协同收缩率；根据所述平均绝对偏差特征、所述均方根特征、所述协同收缩率确定电生理学特征。5.根据权利要求4所述的痉挛程度计算的方法，其特征在于，所述多个通道的肌电信号为来自旋前圆肌、肱二头肌及肱三头肌三个通道的肌电信号，所述协同收缩率包含第一协同收缩率以及第二协同收缩率，所述根据所述多个通道的肌电信号确定协同收缩率，包括：根据来自旋前圆肌的肌电信号以及来自肱二头肌的肌电信号确定所述第一协同收缩率；根据来自肱二头肌的肌电信号以及来自肱三头肌的肌电信号确定所述第二协同收缩率。6.根据权利要求1所述的痉挛程度计算的方法，其特征在于，在所述将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果之前，还包括：获取训练样本集；其中，每组训练样本包含动力学特征、电生理学特征以及痉挛程度标签；将所述训练样本集中每组训练样本分别输入至所述痉挛程度计算模型，得到对应的痉挛程度预测值；根据所述痉挛程度标签以及对应的痉挛程度预测值确定损失值；根据所述损失值更新所述痉挛程度计算模型的参数，得到训练好的痉挛程度计算模型。7.一种痉挛程度计算的系统，其特征在于，包括：牵拉手柄、角度传感器、力矩传感器、肌电传感器、支撑架以及痉挛程度计算模型；所述牵拉手柄与所述支撑架固定连接，用于在外力作用下对患者的患肢进行牵拉；所述角度传感器、所述力矩传感器与患者的关节同轴；所述角度传感器用于获取患者的运动学数据；所述力矩传感器用于获取患者的生物力学数据；所述肌电传感器用于获取患者的电生理学数据；所述支撑架用于固定患者的患肢；所述痉挛程度计算模型用于在所述运动学数据、所述生物力学数据以及所述电生理学数据输入后，得到痉挛程度计算结果。8.一种痉挛程度计算的装置，其特征在于，包括：获取模块，用于获取患者的动力学特征以及电生理学特征；处理模块，用于将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果；其中，所述训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。9.一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1至6任一项所述方法的步骤。10.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至6任一项所述方法的步骤。
说明书desc
技术领域本发明涉及计算机技术领域，具体涉及痉挛程度计算的方法、装置、电子设备及存储介质。背景技术脑卒中是一种由于脑部血管的阻塞或破裂而引起的持续性脑组织功能结构受损的急性脑血管疾病，大多数患者会由于上运动元损伤产生不同程度的痉挛并发症，主要表现为肌张力升高、肌肉僵硬以及肢体疼痛等症状，对患者的日常活动能力及生活自理能力造成极大的影响。目前常用的针对脑卒中患者的痉挛治疗方法主要有药物治疗、手术治疗以及物理治疗等。对患者的痉挛程度进行及时的量化评估对制定治疗方案及评价治疗效果具有重要意义，因此是整个运动康复训练过程中的基础环节。目前临床上普遍采用的痉挛评价方法有Ashworth痉挛评价法、改良的Ashworth痉挛评价法、Tardieu量表及改良Tardieu量表等。这些传统的康复评价方法以医生观察为主，辅助一些定性或宏观的测量数据，结合量表打分完成，所得到的半定量评估结果易受医生主观经验的影响且难免存在偏差。除此之外，以上评价方法没有考虑到痉挛的速度依赖特性，即患者所表现出的痉挛阻力随着牵张速度的增加而增加，同时也没有对痉挛阻力中的神经成分和非神经成分进行区分。综上，目前亟需一种痉挛程度计算的方法，用于解决上述现有技术存在的问题。发明内容由于现有方法存在上述问题，本发明提出痉挛程度计算的方法、装置、电子设备及存储介质。第一方面，本发明提供了一种痉挛程度计算的方法，包括：获取患者的动力学特征以及电生理学特征；将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果；其中，所述训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。进一步地，所述动力学特征包含关节的机械阻抗参数，所述获取患者的动力学特征，包括：获取患者的运动学数据以及生物力学数据；采用卡尔曼滤波根据所述运动学数据确定关节角度、关节角速度以及关节角加速度；对所述生物力学数据进行低通滤波，得到力矩数据；采用惯量-阻尼-弹簧模型根据所述关节角度、所述关节角速度、所述关节角加速度以及所述力矩数据对所述患者的动力学特性进行建模；基于遗传算法对所述关节的机械阻抗参数进行辨识，得到动力学特征。进一步地，所述机械阻抗参数包含患者患肢的惯量、阻尼以及刚度，所述基于遗传算法对所述关节的机械阻抗参数进行辨识，包括：根据预设的评价函数确定种群中每个个体的适应度函数值；其中，每个个体由所述惯量、所述阻尼以及所述刚度构成；根据所述每个个体的适应度函数值对种群中所有个体排序并筛选，得到第一个体集合；根据所述第一个体集合中每个个体的适应度函数值确定对应的交叉概率；根据所述交叉概率对所述第一个体集合进行交叉操作，得到第二个体集合；根据所述第二个体集合中每个个体的适应度函数值确定对应的变异概率；根据所述变异概率对所述第二个体集合进行变异操作，得到第三个体集合；重复上述步骤直到迭代次数达到预设阈值，得到对所述关节的机械阻抗参数的辨识结果。进一步地，所述获取电生理学特征，包括：获取电生理学数据；所述电生理学数据包含多个通道的肌电信号；对所述多个通道的肌电信号进行预处理；分别提取各通道的肌电信号的平均绝对偏差特征和均方根特征；根据所述多个通道的肌电信号确定协同收缩率；根据所述平均绝对偏差特征、所述均方根特征、所述协同收缩率确定电生理学特征。进一步地，所述多个通道的肌电信号为来自旋前圆肌、肱二头肌及肱三头肌三个通道的肌电信号，所述协同收缩率包含第一协同收缩率以及第二协同收缩率，所述根据所述多个通道的肌电信号确定协同收缩率，包括：根据来自旋前圆肌的肌电信号以及来自肱二头肌的肌电信号确定所述第一协同收缩率；根据来自肱二头肌的肌电信号以及来自肱三头肌的肌电信号确定所述第二协同收缩率。进一步地，在所述将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果之前，还包括：获取训练样本集；其中，每组训练样本包含动力学特征、电生理学特征以及痉挛程度标签；将所述训练样本集中每组训练样本分别输入至所述痉挛程度计算模型，得到对应的痉挛程度预测值；根据所述痉挛程度标签以及对应的痉挛程度预测值确定损失值；根据所述损失值更新所述痉挛程度计算模型的参数，得到训练好的痉挛程度计算模型。第二方面，本发明提供了一种痉挛程度计算的装置，包括：获取模块，用于获取患者的动力学特征以及电生理学特征；处理模块，用于将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果；其中，所述训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。进一步地，所述动力学特征包含关节的机械阻抗参数，所述处理模块具体用于：获取患者的运动学数据以及生物力学数据；采用卡尔曼滤波根据所述运动学数据确定关节角度、关节角速度以及关节角加速度；对所述生物力学数据进行低通滤波，得到力矩数据；采用惯量-阻尼-弹簧模型根据所述关节角度、所述关节角速度、所述关节角加速度以及所述力矩数据对所述患者的动力学特性进行建模；基于遗传算法对所述关节的机械阻抗参数进行辨识，得到动力学特征。进一步地，所述机械阻抗参数包含患者患肢的惯量、阻尼以及刚度，所述处理模块具体用于：根据预设的评价函数确定种群中每个个体的适应度函数值；其中，每个个体由所述惯量、所述阻尼以及所述刚度构成；根据所述每个个体的适应度函数值对种群中所有个体排序并筛选，得到第一个体集合；根据所述第一个体集合中每个个体的适应度函数值确定对应的交叉概率；根据所述交叉概率对所述第一个体集合进行交叉操作，得到第二个体集合；根据所述第二个体集合中每个个体的适应度函数值确定对应的变异概率；根据所述变异概率对所述第二个体集合进行变异操作，得到第三个体集合；重复上述步骤直到迭代次数达到预设阈值，得到对所述关节的机械阻抗参数的辨识结果。进一步地，所述处理模块具体用于：获取电生理学数据；所述电生理学数据包含多个通道的肌电信号；对所述多个通道的肌电信号进行预处理；分别提取各通道的肌电信号的平均绝对偏差特征和均方根特征；根据所述多个通道的肌电信号确定协同收缩率；根据所述平均绝对偏差特征、所述均方根特征、所述协同收缩率确定电生理学特征。进一步地，所述多个通道的肌电信号为来自旋前圆肌、肱二头肌及肱三头肌三个通道的肌电信号，所述协同收缩率包含第一协同收缩率以及第二协同收缩率，所述处理模块具体用于：根据来自旋前圆肌的肌电信号以及来自肱二头肌的肌电信号确定所述第一协同收缩率；根据来自肱二头肌的肌电信号以及来自肱三头肌的肌电信号确定所述第二协同收缩率。进一步地，所述处理模块还用于：在所述将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果之前，获取训练样本集；其中，每组训练样本包含动力学特征、电生理学特征以及痉挛程度标签；将所述训练样本集中每组训练样本分别输入至所述痉挛程度计算模型，得到对应的痉挛程度预测值；根据所述痉挛程度标签以及对应的痉挛程度预测值确定损失值；根据所述损失值更新所述痉挛程度计算模型的参数，得到训练好的痉挛程度计算模型。第三方面，本发明提供了一种痉挛程度计算的系统，包括：牵拉手柄、角度传感器、力矩传感器、肌电传感器、支撑架以及痉挛程度计算模型；所述牵拉手柄与所述支撑架固定连接，用于在外力作用下对患者的患肢进行牵拉；所述角度传感器、所述力矩传感器与患者的关节同轴；所述角度传感器用于获取患者的运动学数据；所述力矩传感器用于获取患者的生物力学数据；所述肌电传感器用于获取患者的电生理学数据；所述支撑架用于固定患者的患肢；所述痉挛程度计算模型用于在所述运动学数据、所述生物力学数据以及所述电生理学数据输入后，得到痉挛程度计算结果。第四方面，本发明还提供了一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如第一方面所述的痉挛程度计算的方法。第五方面，本发明还提供了一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现如第一方面所述的痉挛程度计算的方法。由上述技术方案可知，本发明提供的痉挛程度计算的方法、装置、电子设备及存储介质，针对患者患侧肢体在被动牵拉运动中的动力学特征以及电生理学特征，通过痉挛程度计算模型对造成痉挛症状的神经成分和非神经成分进行独立分析，实现对患者痉挛程度的全面客观分析。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些图获得其他的附图。图1为本发明提供的痉挛程度计算的方法的系统框架；图2为本发明提供的痉挛程度计算的方法的流程示意图；图3为本发明提供的痉挛程度计算的方法的流程示意图；图4为本发明提供的痉挛程度计算的方法的流程示意图；图5为本发明提供的痉挛程度计算的方法的流程示意图；图6为本发明提供的痉挛程度计算的装置的结构示意图；图7为本发明提供的电子设备的结构示意图。具体实施方式下面结合附图，对本发明的具体实施方式作进一步描述。以下实施例仅用于更加清楚地说明本发明的技术方案，而不能以此来限制本发明的保护范围。本发明实施例提供的痉挛程度计算的方法，可以适用于如图1所示的系统架构中，该系统架构包括多模态数据采集设备100、痉挛程度计算模型200。具体的，多模态数据采集设备100用于获取患者的动力学特征以及电生理学特征；痉挛程度计算模型200用于在输入动力学特征以及电生理学特征后得到痉挛程度计算结果。需要说明的是，所述训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。进一步地，多模态数据采集设备100包括：牵拉手柄、角度传感器、力矩传感器、肌电传感器以及支撑架；牵拉手柄与支撑架固定连接，用于在外力作用下对患者的患肢进行牵拉；角度传感器和力矩传感器与患者的关节同轴；角度传感器用于获取患者的运动学数据；力矩传感器用于获取患者的生物力学数据；肌电传感器用于获取患者的电生理学数据；在一种可能的实施方式中，肌电传感器直接贴附于患者的旋前圆肌、肱二头肌及肱三头肌。支撑架用于固定患者的患肢。上述方案，角度传感器和力矩传感器与患者的肘关节同轴，保证了关节角度、关节角速度、关节角加速度以及力矩数据采集的准确性。进一步地，多模态数据采集设备还包括模数转换器；模数转换器用于将角度传感器和力矩传感器输出数据同步数字化。本发明实施例中，患侧肢体穿戴多模态数据采集设备，调节至适合高度后，通过自粘绑带固定。进一步地，在医生的辅助下，完成低速比如中速比如高速比如下的三种被动牵拉任务。在一种可能的实施方式中，在节拍器的指示下以特定速度通过多模态数据采集设备的牵拉手柄向患者的患侧前臂施加多次被动的牵拉运动。本发明实施例中，举例来说设定各不同速度的任务之间的间隔为10s以避免连续肌肉收缩对痉挛程度的影响。需要说明的是，图1仅是本发明实施例系统架构的一种示例，本发明对此不做具体限定。基于上述所示意的系统架构，图2为本发明实施例提供的一种痉挛程度计算的方法所对应的流程示意图，如图2所示，该方法包括：步骤201，获取患者的动力学特征以及电生理学特征。步骤202，将动力学特征以及电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果。需要说明的是，其中，训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。上述方案，针对患者患侧肢体在被动牵拉运动中的动力学特征以及电生理学特征，通过痉挛程度计算模型对造成痉挛症状的神经成分和非神经成分进行独立分析，实现对患者痉挛程度的全面客观分析。本发明实施例在获取患者的动力学特征中，步骤流程如图3所示，具体如下：步骤301，获取患者的运动学数据以及生物力学数据。本发明实施例中，通过角度传感器获取患者的运动学数据，通过力矩传感器获取患者的生物力学数据。进一步地，角度传感器和力矩传感器与患者的肘关节同轴，保证数据采集的准确性。步骤302，采用卡尔曼滤波根据运动学数据确定关节角度、关节角速度以及关节角加速度。具体的，本发明实施例基于卡尔曼滤波以最小均方误差为最佳估计准则，利用上一时刻的关节角度、关节角速度、关节角加速度的估计值和当前时刻关节角度的测量值更新对状态变量的估计，得到当前时刻关节角度、关节角速度、关节角加速度的估计值。步骤303，对生物力学数据进行低通滤波，得到力矩数据。本发明实施例中，通过力矩传感器采集得到医生通过牵拉扶手向患者的患侧前臂施加的力矩值。在一种可能的实施方式中，采用巴特沃思低通滤波器对生物力学数据进行低通滤波。需要说明的是，还可以采用切比雪夫滤波器等，本发明实施例对此不做具体限定。举例来说，采用截止频率为20Hz的巴特沃思低通滤波器对生物力学数据进行低通滤波。步骤304，采用惯量-阻尼-弹簧模型根据关节角度、关节角速度、关节角加速度以及力矩数据对患者的动力学特性进行建模。具体的，利用二阶的惯量-阻尼-弹簧模型对患者的动力学特性进行建模，具体如下：其中，τ表示患肢在被动牵拉运动过程中产生的阻力矩，θ、和分别表示关节角度、关节角速度及关节角加速度，θ0是肘关节的平衡位置，I、B及K分别是肘关节的机械阻抗参数，G和L分别是患肢的重力和力臂。进一步地，医生施加在牵拉手柄上的力矩τp与患者患肢产生对应阻力矩之间的关系如下：τp＝τ+GLcos基于此，将患肢的阻抗关系模型改写为：其中G和L分别是患肢的重力和力臂。步骤305，基于遗传算法对关节的机械阻抗参数进行辨识，得到动力学特征。上述方案，采用卡尔曼滤波避免了差分运算带来的相位延迟，提高了系统的稳定性，采用惯量-阻尼-弹簧模型提高了动力学特征的准确性。本发明实施例中，机械阻抗参数包含患者患肢的惯量、阻尼以及刚度。具体的，根据预设的评价函数确定种群中每个个体的适应度函数值；需要说明的是，每个个体由惯量、阻尼以及刚度构成。在一种可能的实施方式中，采用的评价函数为外部施加力矩的估计值和实际值之间的均方根误差。根据每个个体的适应度函数值对种群中所有个体排序并筛选，得到第一个体集合；根据第一个体集合中每个个体的适应度函数值确定对应的交叉概率；根据交叉概率对第一个体集合进行交叉操作，得到第二个体集合；根据第二个体集合中每个个体的适应度函数值确定对应的变异概率；根据变异概率对第二个体集合进行变异操作，得到第三个体集合；重复上述步骤直到迭代次数达到预设阈值，得到对关节的机械阻抗参数的辨识结果。举例来说，步骤如下：S1：初始化种群并定义种群规模为T，采用浮点数编码方式得到遗传空间内由基因构成的个体。需要说明的是，基因可以为惯量、阻尼、刚度、关节的平衡位置等。S2：计算初始种群中每个个体的适应度函数值，对种群中所有个体的适应度值进行降序排列，选择适应度最高的个体作为种群中的精英。S3：对上述种群进行交叉操作生成T个新个体，其中父代种群中个体的交叉概率根据其适应度函数值确定，计算父代和子代个体的适应度函数值，依次选择父代和子代群体中适应度最高的个体进行比较，保留最佳适应度个体作为精英，构成新一代种群。S4：对上述种群进行变异操作生成T个新个体，其中父代种群中个体的变异概率根据其适应度函数值确定，计算父代和子代个体的适应度函数值，依次选择父代和子代群体中适应度最高的个体进行比较，保留最佳适应度个体作为精英，构成新一代种群；S5：重复步骤S2，当迭代次数达到最大进化代数N时，迭代过程终止，否则返回S3循环执行。上述方案，通过对遗传算法改进，提高了关节的机械阻抗参数辨识的准确性，从而提高了痉挛程度计算结果的准确性。本发明实施例在获取电生理学特征中，步骤流程如图4所示，具体如下：步骤401，获取电生理学数据。需要说明的是，电生理学数据包含多个通道的肌电信号。在一种可能的实施方式中，多个通道的肌电信号为来自旋前圆肌、肱二头肌及肱三头肌三个通道的肌电信号。需要说明的是，还可以为来自三角肌前部、三角肌中部、三角肌后部、肱桡肌、指伸肌等的肌电信号，本发明实施例对此不做具体限定。步骤402，对多个通道的肌电信号进行预处理。具体的，采用带通滤波器分别对各个通道的肌电信号进行处理，比如采用截止频率分为20Hz和200Hz的带通滤波器对肌电信号进行处理，去除直流偏置和高频噪声，然后对各通道的肌电信号进行全波整流和低通滤波以获得信号的包络线，最后对其进行归一化处理。步骤403，分别提取各通道的肌电信号的平均绝对偏差特征和均方根特征。分别提取各通道的平均绝对偏差特征νk和均方根特征σk的计算公式具体如下：其中，M表示第K个通道肌电信号的采样点总数，sEMGk表示第K个通道的肌电信号。需要说明的是，采样点总数由采样频率和采样时长确定。步骤404，根据多个通道的肌电信号确定协同收缩率。本发明实施例中，协同收缩率包含第一协同收缩率以及第二协同收缩率。具体的，根据来自旋前圆肌的肌电信号以及来自肱二头肌的肌电信号确定第一协同收缩率；根据来自肱二头肌的肌电信号以及来自肱三头肌的肌电信号确定第二协同收缩率。本发明实施例中，提取2对主动肌和拮抗肌之间的协同收缩率CR1、CR2，具体计算公式如下：其中，sEMG1，sEMG2及sEMG3分别表示旋前圆肌、肱二头肌及肱三头肌的肌电信号，t1和t2分别表示单个预设速度牵拉运动的初始时刻和结束时刻。步骤405，根据平均绝对偏差特征、均方根特征、协同收缩率确定电生理学特征。上述方案，通过提取各通道的肌电信号的平均绝对偏差特征、均方根特征以及协同收缩率对肌肉活动特征进行量化，提高了电生理学特征的准确性。进一步地，本发明实施例在步骤202之前，步骤流程如图5所示，具体如下：步骤501，获取训练样本集。需要说明的是，其中，每组训练样本包含动力学特征、电生理学特征以及痉挛程度标签。举例来说，痉挛程度标签为0表示正常状态，痉挛程度标签为1表示非正常状态。步骤502，将训练样本集中每组训练样本分别输入至痉挛程度计算模型，得到对应的痉挛程度预测值。在一种可能的实施方式中，通过前馈神经网络构造痉挛程度计算模型。举例来说，FFNN具有一个输入层，一个隐含层和一个输出层，其隐含层和输出层的神经元分别采用hyperbolic tangent和linear transfer激活函数。步骤503，根据痉挛程度标签以及对应的痉挛程度预测值确定损失值。步骤504，根据损失值更新痉挛程度计算模型的参数，得到训练好的痉挛程度计算模型。基于上述构成多层面融合的输入向量如下：其中，ηn表示患者患肢的惯量、阻尼、刚度、各通道肌电信号的平均绝对偏差特征、均方根特征、第一协同收缩率或第二协同收缩率。该输入向量的维度为11。进一步地，得到的输出向量表示如下：Si＝F在一种可能的实施方式中，将不同速度下牵拉任务中获得的结果进行进一步融合：其中，表示患者痉挛程度计算结果。举例来说，当痉挛程度标签对患者标1，非患者标0时，该数值越接近于0时，就表明患者上肢的痉挛症状的严重程度的越轻，运动功能越接近正常。基于同一发明构思，图6示例性的示出了本发明实施例提供的一种痉挛程度计算的装置，该装置可以为一种痉挛程度计算的方法的流程。所述装置，包括：获取模块601，用于获取患者的动力学特征以及电生理学特征；处理模块602，用于将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果；其中，所述训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。进一步地，所述动力学特征包含关节的机械阻抗参数，所述处理模块602具体用于：获取患者的运动学数据以及生物力学数据；采用卡尔曼滤波根据所述运动学数据确定关节角度、关节角速度以及关节角加速度；对所述生物力学数据进行低通滤波，得到力矩数据；采用惯量-阻尼-弹簧模型根据所述关节角度、所述关节角速度、所述关节角加速度以及所述力矩数据对所述患者的动力学特性进行建模；基于遗传算法对所述关节的机械阻抗参数进行辨识，得到动力学特征。进一步地，所述机械阻抗参数包含患者患肢的惯量、阻尼以及刚度，所述处理模块602具体用于：根据预设的评价函数确定种群中每个个体的适应度函数值；其中，每个个体由所述惯量、所述阻尼以及所述刚度构成；根据所述每个个体的适应度函数值对种群中所有个体排序并筛选，得到第一个体集合；根据所述第一个体集合中每个个体的适应度函数值确定对应的交叉概率；根据所述交叉概率对所述第一个体集合进行交叉操作，得到第二个体集合；根据所述第二个体集合中每个个体的适应度函数值确定对应的变异概率；根据所述变异概率对所述第二个体集合进行变异操作，得到第三个体集合；重复上述步骤直到迭代次数达到预设阈值，得到对所述关节的机械阻抗参数的辨识结果。进一步地，所述处理模块602具体用于：获取电生理学数据；所述电生理学数据包含多个通道的肌电信号；对所述多个通道的肌电信号进行预处理；分别提取各通道的肌电信号的平均绝对偏差特征和均方根特征；根据所述多个通道的肌电信号确定协同收缩率；根据所述平均绝对偏差特征、所述均方根特征、所述协同收缩率确定电生理学特征。进一步地，所述多个通道的肌电信号为来自旋前圆肌、肱二头肌及肱三头肌三个通道的肌电信号，所述协同收缩率包含第一协同收缩率以及第二协同收缩率，所述处理模块602具体用于：根据来自旋前圆肌的肌电信号以及来自肱二头肌的肌电信号确定所述第一协同收缩率；根据来自肱二头肌的肌电信号以及来自肱三头肌的肌电信号确定所述第二协同收缩率。进一步地，所述处理模块602还用于：在所述将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果之前，获取训练样本集；其中，每组训练样本包含动力学特征、电生理学特征以及痉挛程度标签；将所述训练样本集中每组训练样本分别输入至所述痉挛程度计算模型，得到对应的痉挛程度预测值；根据所述痉挛程度标签以及对应的痉挛程度预测值确定损失值；根据所述损失值更新所述痉挛程度计算模型的参数，得到训练好的痉挛程度计算模型。基于相同的发明构思，本发明又一实施例提供了一种电子设备，参见图7，所述电子设备具体包括如下内容：处理器701、存储器702、通信接口703和通信总线704；其中，所述处理器701、存储器702、通信接口703通过所述通信总线704完成相互间的通信；所述通信接口703用于实现各设备之间的信息传输；所述处理器701用于调用所述存储器702中的计算机程序，所述处理器执行所述计算机程序时实现上述痉挛程度计算的方法的全部步骤，例如，所述处理器执行所述计算机程序时实现下述步骤：获取患者的动力学特征以及电生理学特征；将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果；其中，所述训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。基于相同的发明构思，本发明又一实施例提供了一种非暂态计算机可读存储介质，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器执行时实现上述痉挛程度计算的方法的全部步骤，例如，所述处理器执行所述计算机程序时实现下述步骤：获取患者的动力学特征以及电生理学特征；将所述动力学特征以及所述电生理学特征输入至训练好的痉挛程度计算模型，得到痉挛程度计算结果；其中，所述训练好的痉挛程度计算模型为利用不同患者的动力学特征、电生理学特征以及对应的痉挛程度标签进行训练后得到。此外，上述的存储器中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本发明实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的痉挛程度计算的方法。此外，在本发明中，诸如“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。在本发明的描述中，“多个”的含义是至少两个，例如两个，三个等，除非另有明确具体的限定。此外，在本发明中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。此外，在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任一个或多个实施例或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本说明书中描述的不同实施例或示例以及不同实施例或示例的特征进行结合和组合。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
