标题title
一种基于一致性监测的航班时隙自动优化方法及系统
摘要abst
本发明公开了一种基于一致性监测的航班时隙自动优化方法及系统，步骤如下：1）获取航班动态数据、初始分配时隙、流量措施数据及基础环境数据；2）对航班执行情况一致性进行判断；3）航班时隙重新分配计算。本发明通过获取运行系统中实时动态数据，从航班动态变化和措施变化两个角度详细分析变化的数据项，定位需要调整的航班队列，按新要求调整或移动航班在队列上的次序，从而时隙自动化优化计算，节约了系统计算资源，提升计算效率，从而增强了系统的可靠性。
权利要求书clms
1.一种基于一致性监测的航班时隙自动优化方法，其特征在于，步骤如下：1)获取航班动态数据、初始分配时隙、流量措施数据及基础环境数据；2)对航班执行情况一致性进行判断；3)航班时隙重新分配计算。2.根据权利要求1所述的基于一致性监测的航班时隙自动优化方法，其特征在于，所述步骤1)具体包括：11)航班动态数据：从空管业务系统实时获取航班动态数据，包括标识航班唯一身份的各基础数据项、航班当前位置和状态，以及未来飞行轨迹数据；12)初始分配时隙数据：从空管业务系统实时获取系统初次为每一个航班计算的放行时隙数据，包括停机位对应的计算推出时间、跑道头的计算起飞时间、经过限制对象的计算过点时间、影响该航班的流量措施数量以及各措施的唯一标识号；13)流量措施数据：从空管业务系统实时获取流量管理措施，其包括措施唯一标识号、措施起始时间、措施类型、限制对象、上游限制条件、下游限制条件、限制间隔、限制容量、限制高度层、豁免条件；14)基础环境数据：从空管业务系统实时获取系统计算范围内的管制区、管制区内所辖机场、管制区内移交航路点数据，包括唯一标识号、物理空间中对应点或多边形边界坐标、高度上下限数值。3.根据权利要求1所述的基于一致性监测的航班时隙自动优化方法，其特征在于，所述步骤2)具体包括：21)对步骤1)中获取的各类型数据进行存储：按照航班+时隙类、措施类、环境类三类分别存储；22)在一致性分析时，对航班集合中的所有航班按初始时隙排序；23)航班是否依据初始分配时隙执行保障，需要实时进行一致性分析；一致性分析包括航班数据变化、流量管理措施变化对初始分配的影响；对比同一唯一标识号前后两次收到的数据内容子项，根据关键数值变化情况，从而判断出航班执行是否能保持与初始分配的一致性，若不一致则触发时隙重新计算。4.根据权利要求3所述的基于一致性监测的航班时隙自动优化方法，其特征在于，所述步骤23)包括：231)航班动态判断分析；232)流量管理措施变化判断分析；233)触发机制合并延时分析。5.根据权利要求1所述的基于一致性监测的航班时隙自动优化方法，其特征在于，所述步骤3)具体包括：31)分类筛选定位方法；32)时隙优化重新计算方法。6.根据权利要求5所述的基于一致性监测的航班时隙自动优化方法，其特征在于，所述步骤31)具体包括：收到触发命令后，根据命令的类型分类；若是航班动态变化触发的计算，将动态变化的航班定义为引子航班，将所有引子航班逐条判断，循环每一条引子航班数据，获取该航班关联的流量管理措施条数，逐条判断航班所关联的流量管理措施中的限制对象，筛选提取该限制对象下该航班的起飞机场对应的放行队列，对该放行队列中排列在该航班前面的其它航班保持不动，放行队列上从该航班开始之后的所有航班进一步优化重算，为该放行队列增加标识以及该放行队列上引子航班增加标识；若是流量管理措施变化触发的计算，将变化的措施定义为引子措施，将所有引子措施逐条判断，循环每一条引子措施，筛选出引子措施影响的所有航班，并按航班起飞机场依次读取各起飞机场的按初始时隙排列的放行队列，将每条队列上的航班作为时隙优化计算的对象，为筛选的每条队列增加优化标识。7.根据权利要求5所述的基于一致性监测的航班时隙自动优化方法，其特征在于，所述步骤32)具体包括：将分类筛选定位后筛选出的有标识记录的放行队列作为优化计算的对象；若是引子航班的变化引起的重算，进一步判断数据项内容。8.根据权利要求7所述的基于一致性监测的航班时隙自动优化方法，其特征在于，所述进一步判断数据项内容包括：321)若是引子航班优先级变化，则在初始时隙排列的放行队列中找到同级优先级的位置，按照引子航班的原预计过点时间的先后位置插入放行队列，考虑与前一航班的间隔要求，重新计算过点时间，相应地后一航班要满足与该航班新计算过点时间的间隔要求计算调整量，同时放行队列上后一航班之后的航班整体平移该调整量；整个放行队列中需计算的航班的计算过点时间安排确定后，减去4D轨迹中从跑道头到限制点的飞行时长，进而计算出跑道头的计算起飞时间，减去场面滑行可变时间，得到停机位对应的计算推出时间；若是新计算预计起飞时间、离场程序、航路数据、高度层变化引起的引子航班新的预计过点时间发生变化，则在原优先级位置处与前后航班按间隔要求重新计算过点时间，放行队列上后面的航班整体平移相应调整量；进一步计算出跑道头的计算起飞时间、停机位对应的计算推出时间；322)若是引子措施更新引起的重算，则对放行队列上的所有航班进行分类，分为锁定层、非锁定层；按照时间范围锁定，即从当前时间往后一段时间范围的航班时隙保持不动；时间范围外所有航班，按照新的措施间隔要求调整，不改变航班的次序关系，只调整前后间隔；323)若是引子航班和引子措施双重更新引起的重算，则对被引子航班和引子措施双重命中的航班队列，优化计算时以引子措施为优先标识，将关联的所有队列依次循环判断，在每个队列的计算过程中，结合考虑引子航班的标识，即考虑措施变化后的新要求，又考虑引子航班的要求，调整优化整个队列。9.一种基于一致性监测的航班时隙自动优化系统，其特征在于，包括：数据获取模块，用于获取航班动态数据、初始分配时隙、流量措施数据及基础环境数据；判断模块，用于对航班执行情况一致性进行判断；计算模块，用于航班时隙重新分配计算。
说明书desc
技术领域本发明属于空中交通管理领域，具体涉及一种基于一致性监测的航班时隙自动优化方法及系统。背景技术随着国民经济快速发展，民用航空运输领域日渐繁忙，采用自动化、智能化的计算机决策系统对航班运行管理提前规划安排是确保安全、提升效率的强有力手段。全国流量管理系统、地区流量系统/多机场协同决策CDM系统逐步建设，依据提前掌握的运行条件变化情况，以容量和流量平衡为目标，针对机场、航路、航路点、扇区等拥堵点发布诸如GDP、AFP、GS、MIT、RR等流量管理措施，达到削峰填谷的作用，保障运行顺畅。同时从精细化运行指导角度，系统进一步提供放行算法模型，考虑流量管理措施的约束、各种运行规则等因素，在航班起飞前几个小时计算并提前发布航班的放行时隙，作为各执行单位保障的依据。由此可见，放行算法对日常航班运行保障来说是非常重要的模块，流量管理系统或CDM系统都基本实现了时隙初始分配及时隙优化再分配两个层面的要求，一般来说，初始时隙提前2-4小时发布了。但是，在航班要起飞前的这2-4个小时，每个航班从场面保障、各管制单位运行指挥到最后安全落地入位这全飞行过程中每个环节的条件会发生变化，与初始分配时考虑的约束出现差异，进而导致安排的时隙无法执行，对各运行保障单位则没有指导意义，于是需要再次分配新的时隙。目前是利用系统和人工相结合的方式进行时隙再分配，一方面利用流量管理系统或CDM系统重新计算时隙，另一方面流量管理运行人员人为根据当时的运行环境人工指定时隙。通过运行人员反馈及系统运行分析，发现目前的方法存在以下缺陷：1)系统缺乏自动判断分析机制，仅靠设置的条件，就触发时隙重新计算。设置条件过于简单且过于刚性，未对实际运行数据进行分析，未考虑实际运行中的柔性冗余条件，导致触发计算过于频繁，缺乏触发机制的综合处理，对系统设备计算资源消耗过大。2)重新计算算法，未进行筛选分析，而是对系统计算范围内所有机场的所有航班的时隙重新计算，计算一次耗时长，且波动范围广，对运行造成影响。3)重新计算时未考虑运行中可接受的“柔性条件”，导致时隙资源浪费，计算结果不合理，大量的航班的时隙不停的往后推迟，人工干预工作量大，需要值班人员大量的脑力计算调整时隙，整体效率不高，导致整体服务保障能力不强。发明内容针对于上述现有技术的不足，本发明的目的在于提供一种基于一致性监测的航班时隙自动优化方法及系统，以解决现有技术中的时隙重新计算过于频繁、重新计算方法影响范围广、计算耗时长、计算结果不合理的问题。为达到上述目的，本发明采用的技术方案如下：本发明的一种基于一致性监测的航班时隙自动优化方法，步骤如下：1)获取航班动态数据、初始分配时隙、流量措施数据及基础环境数据；2)对航班执行情况一致性进行判断；3)航班时隙重新分配计算。进一步地，所述步骤1)具体包括：11)航班动态数据：从空管业务系统实时获取航班动态数据，包括标识航班唯一身份的各基础数据项、航班当前位置和状态，以及未来飞行轨迹数据；12)初始分配时隙数据：从空管业务系统实时获取系统初次为每一个航班计算的放行时隙数据，包括停机位对应的计算推出时间、跑道头的计算起飞时间、经过限制对象的计算过点时间、影响该航班的流量措施数量以及各措施的唯一标识号；13)流量措施数据：从空管业务系统实时获取流量管理措施，其包括措施唯一标识号、措施起始时间、措施类型、限制对象、上游限制条件、下游限制条件、限制间隔、限制容量、限制高度层、豁免条件；14)基础环境数据：从空管业务系统实时获取系统计算范围内的管制区、管制区内所辖机场、管制区内移交航路点数据，包括唯一标识号、物理空间中对应点或多边形边界坐标、高度上下限数值。进一步地，所述步骤2)具体包括：21)对步骤1)中获取的各类型数据进行存储：按照航班+时隙类、措施类、环境类三类分别存储：定义Fight{f,s,t}为航班数据集合，i＝0,1,…,n，表示共有n条航班数据，f存储第i个航班的包含唯一标识号、航班号、状态的基本信息数据；s存储第i个航班的初始时隙信分配信息：包括计算推出时间、计算起飞时间、计算过点时间；t表示第i个航班所受的措施数量num个以及每条措施的唯一标识号id；定义TMI为流量措施集合，t＝0,1…,M，表示共有M条流量措施；TMI存储每条流量管理措施的唯一标识号、具体内容；定义ENV{S，A，R，F}为环境数据集合，h＝0,1,…,a，表示共a个管制单元，S存储每一个管制单元的包含唯一标识号、名称、位置的属性数据；k＝0,1,…,b，表示第h个管制单元内共有b个机场，A存储每个机场的包含唯一标识号、名称、位置、包含的跑道的属性数据；g＝0,1,…,c，表示第h个管制区内共有c个航路段，R存储每个航段的包含唯一标识号、名称、位置、单双向的属性数据；m＝0,1,…,d，表示第h个管制区内共有d个航路点，F存储每个航路点的包含唯一标识号、名称、位置、高度层的属性数据；考虑各类数据的实时传输特性，对每次收到的数据，根据数据类型判定存入相应集合中，同时根据新收到数据的唯一标识号与各自类别已存储的唯一标识号进行对比匹配：若未匹配到相同的唯一标识号，则判断为首次新收到数据，以新记录的身份存入各类数据集合中；若匹配到相同的唯一标识号，则进一步根据数据子项内容的前后变化情况分析航班运行的一致性；22)在一致性分析时，对航班集合中的所有航班按初始时隙排序；221)按照每个起飞机场跑道头的计算起飞时间的次序排一个队列，判断航班状态，如果是航班从跑道起飞进入空中状态以前的，则航班在地面上；若是航班从跑道起飞进入空中状态或航班从跑道起飞进入空中状态以后，则航班在空中；每个队列中先排空中航班，后排地面航班，形成所有机场的初始时隙队列；222)按照每个限制对象，对经过该限制对象的航班按计算过点时间先后次序进行排序，形成所有限制对象的初始时隙队列；23)航班是否依据初始分配时隙执行保障，需要实时进行一致性分析；一致性分析包括航班数据变化、流量管理措施变化对初始分配的影响；对比同一唯一标识号前后两次收到的数据内容子项，根据关键数值变化情况，从而判断出航班执行是否能保持与初始分配的一致性，若不一致则触发时隙重新计算。进一步地，所述步骤23)包括：231)航班动态判断分析；232)流量管理措施变化判断分析；233)触发机制合并延时分析。进一步地，所述步骤231)具体包括：从与时隙变化相关的角度进行分析，判断航班位置和状态并进行标识，并进一步判断以下子项：空中航班：判断航班当前位置是否飞越过措施限制对象，若否，则记录该航班4D轨迹中推算经过限制对象点的预计过点时间与当前时间的差异；若是，则直接从时隙计算范围剔除；空中航班的措施间隔一致性判断：循环判断各措施限制对象点：提取各机场经过对应措施限制对象的航班按初始跑道头的计算起飞时间排序的队列；循环判断各队列，统计所有未飞越措施限制对象的空中航班的数量为n1，根据起飞跑道到限制对象航路点飞行经验时间总长，除以措施要求的限制间隔，换算为可容纳架次量n2；地面航班动态引起的时隙一致性判断：地面航班根据状态分为A、B、C三类，A类是准备好状态之前的所有航班；B类是准备好状态到推出状态之前的航班；C类是推出状态后滑行到跑道这一过程的所有航班。进一步地，所述空中航班的措施间隔一致性判断具体包括：若n1大于n2，则目前机场从起飞到限制对象点这个空间内运行中指挥的空中飞机已超载，对该限制对象点所属的机场的队列中地面航班整体后移；定义措施限制间隔为T，计算需要弥补的空中时间值deltT1＝*T，计算空中最后一架航班与地面第一架航班的初始跑道头的计算起飞时间的时间间隔deltT2，则地面多出来的时间值deltT3＝deltT2-T，从地面第一架航班开始整体后移的时间间隔为deltT4＝deltT1–deltT3；根据运行柔性冗余度设置，判断deltT4是否大于等于5，若是，则记录该队列航班整体时隙后移优化；若n1小于等于n2，则地面航班时隙不需要优化。进一步地，所述地面航班动态引起的时隙一致性判断具体包括：A类航班：判断计划撤轮档时间是否有变化，若有变化，则记录航班排序优先级有更新；判断预计撤轮档时间、目标撤轮档时间、场面可变滑行时间是否有变化，若任何一个发生变化，则重新计算预计起飞时间＝目标撤轮档时间/预计撤轮档时间+场面可变滑行时间；若计算的预计起飞时间发生变化，则记录航班计算基准有更新；判断航班的离场程序、航路数据、高度层是否有变化，若有则提取4D轨迹中经过限制对象的高度和预计过点时间；通过更新的航班排序优先级、新的预计起飞时间和新的预计过点时间判断与初始时的计算起飞时间、计算过点时间之间的差异，若差异超过时隙规定的范围前5后3分钟)，则记录航班的时隙需要优化；B类航班：以航班的准备好时间+5分钟为基准，判断航班的状态是否变化为推出状态，若状态未变化，则航班需要重新分配时隙，记录为该航班对应计算起飞时间时隙空出，而该航班标记为协调状态；若变化为推出状态，则标记为不需要时隙重新计算；C类航班：以航班的推出时间+场面滑行可变时间分钟为基准，判断航班的状态是否变化为上跑道状态，若状态未变化，则需要重新分配时隙，记录为该航班对应计算起飞时间时隙空出，而该航班标记为协调状态；若变化为上跑道状态，则标记为不需要时隙重新计算。进一步地，所述步骤232)具体包括：对流量管理措施的数据子项进行前后对比分析，包括唯一标识号、措施作用时间、措施类型、措施中限制对象、上游限制条件、下游限制条件、限制间隔、限制容量、限制高度层、备注信息、措施原因；具体分析方法如下：新增措施：将收到的措施的唯一标识号与存储的各条措施的唯一标识号进行对比匹配，若未匹配到则为新增措施，需触发时隙优化计算；检查筛选所属的管制区、与限制对象上下游条件有关的航路航线、关联的起飞机场，实现受影响航班定位，触发局部时隙优化；原措施更新：将收到的措施的唯一标识号与存储的各条措施的唯一标识号进行对比匹配，若匹配到相同唯一标识号，则为原措施更新，进一步判断更新标识，以确认是措施内容修改或措施删除。进一步地，所述措施内容修改：对比前后数据各子项具体内容，若是描述性文本内容修改，则不触发时隙计算；若是数据项变化，则触发时隙优化计算。进一步地，所述措施删除：若措施取消，只需满足管制安全间隔就可放行，考虑机场、航司场面保障参考前面发布时隙分配各种保障资源，分情况进行解锁提示；对地面A类和B类航班全部解锁并提示时隙重算。进一步地，所述步骤233)具体包括：采用10秒等待机制，即第一次接收到触发命令开始倒计时，在此过程中收到的触发命令一并记录，倒计时结束后进行一次性触发时隙优化计算。进一步地，所述步骤3)具体包括：31)分类筛选定位方法；32)时隙优化重新计算方法。进一步地，所述步骤31)具体包括：收到触发命令后，根据命令的类型分类；若是航班动态变化触发的计算，将动态变化的航班定义为引子航班，将所有引子航班逐条判断，循环每一条引子航班数据，获取该航班关联的流量管理措施条数，逐条判断航班所关联的流量管理措施中的限制对象，筛选提取该限制对象下该航班的起飞机场对应的放行队列，对该放行队列中排列在该航班前面的其它航班保持不动，放行队列上从该航班开始之后的所有航班进一步优化重算，为该放行队列增加标识以及该放行队列上引子航班增加标识；若是流量管理措施变化触发的计算，将变化的措施定义为引子措施，将所有引子措施逐条判断，循环每一条引子措施，筛选出引子措施影响的所有航班，并按航班起飞机场依次读取各起飞机场的按初始时隙排列的放行队列，将每条队列上的航班作为时隙优化计算的对象，为筛选的每条队列增加优化标识。进一步地，所述步骤32)具体包括：将上述分类筛选定位后筛选出的有标识记录的放行队列作为优化计算的对象；若是引子航班的变化引起的重算，进一步判断数据项内容：321)若是引子航班优先级变化，则在初始时隙排列的放行队列中找到同级优先级的位置，按照引子航班的原预计过点时间的先后位置插入放行队列，考虑与前一航班的间隔要求，重新计算过点时间，相应地后一航班要满足与该航班新计算过点时间的间隔要求计算调整量，同时放行队列上后一航班之后的航班整体平移该调整量；整个放行队列中需计算的航班的计算过点时间安排确定后，减去4D轨迹中从跑道头到限制点的飞行时长，进而计算出跑道头的计算起飞时间，减去场面滑行可变时间，得到停机位对应的计算推出时间；若是新计算预计起飞时间、离场程序、航路数据、高度层变化引起的引子航班新的预计过点时间发生变化，则在原优先级位置处与前后航班按间隔要求重新计算过点时间，放行队列上后面的航班整体平移相应调整量；进一步计算出跑道头的计算起飞时间、停机位对应的计算推出时间；322)若是引子措施更新引起的重算，则对放行队列上的所有航班进行分类，分为锁定层、非锁定层；按照时间范围锁定，即从当前时间往后一段时间范围的航班时隙保持不动；时间范围外所有航班，按照新的措施间隔要求调整，不改变航班的次序关系，只调整前后间隔；323)若是引子航班和引子措施双重更新引起的重算，则对被引子航班和引子措施双重命中的航班队列，优化计算时以引子措施为优先标识，将关联的所有队列依次循环判断，在每个队列的计算过程中，结合考虑引子航班的标识，即考虑措施变化后的新要求，又考虑引子航班的要求，调整优化整个队列。本发明还提供一种基于一致性监测的航班时隙自动优化系统，包括：数据获取模块，用于获取航班动态数据、初始分配时隙、流量措施数据及基础环境数据；判断模块，用于对航班执行情况一致性进行判断；计算模块，用于航班时隙重新分配计算。本发明的有益效果：本发明通过获取运行系统中实时动态数据，从航班动态变化和措施变化两个角度详细分析变化的数据项，定位需要调整的航班队列，按新要求调整或移动航班在队列上的次序，从而时隙自动化优化计算；该方法相比现有的计算方法，有以下优点：1)精准的局部优化，影响波动面小，对航空公司、机场运行保障来说提供了更加合理的参考时隙；并且减少了计算频率，相对来说，发布的航班时隙比较稳定，全系统整体放行队列的稳定性提升，为运行保障提供有效的行动基准，有利于保障工作的高效执行；2)节约系统计算资源，提升计算效率，从而增强了系统的可靠性；符合空管运行规则的要求，时隙资源得到有效利用，大大提升了空管服务保障效率。附图说明图1为本发明方法的原理图。图2为空中间隔一致性判断示意图。图3为地面航班分类示意图。图4为时隙队列中的引子航班和引子措施标识示意图。具体实施方式为了便于本领域技术人员的理解，下面结合实施例与附图对本发明作进一步的说明，实施方式提及的内容并非对本发明的限定。本发明中名词术语定义如下：SOBT，计划撤轮档时间；SIBT，计划上轮档时间；EOBT，预计撤轮档时间；TOBT，目标撤轮档时间；VTT，场面可变滑行时间；CTO，计算过点时间；CTOT，计算起飞时间；ETOT，预的起飞时间；ETO，预计过点时间；DEP，航班起飞状态，；注：ETOT、ETO为同一次预测计算中的两种变量，代表未来的运动趋势。CTO、CTOT为同一次排序计算出的安排结果。系统会根据实时动态不断的去预测未来运动趋势，与接收到初始分配的CTOT、CTO进行是否一致的对比，然后启动再次分配。参照图1所示，本发明的一种基于一致性监测的航班时隙自动优化方法，步骤如下：1)获取航班动态数据、初始分配时隙、流量措施数据及基础环境数据；其中，所述步骤1)具体包括：11)航班动态数据：从空管业务系统实时获取航班动态数据，包括标识航班唯一身份的各基础数据项、航班当前位置和状态，以及未来飞行轨迹数据；12)初始分配时隙数据：从空管业务系统实时获取系统初次为每一个航班计算的放行时隙数据，包括停机位对应的计算推出时间、跑道头的计算起飞时间、经过限制对象的计算过点时间、影响该航班的流量措施数量以及各措施的唯一标识号；13)流量措施数据：从空管业务系统实时获取流量管理措施，其包括措施唯一标识号、措施起始时间、措施类型、限制对象、上游限制条件、下游限制条件、限制间隔、限制容量、限制高度层、豁免条件；14)基础环境数据：从空管业务系统实时获取系统计算范围内的管制区、管制区内所辖机场、管制区内移交航路点数据，包括唯一标识号、物理空间中对应点或多边形边界坐标、高度上下限数值。2)对航班执行情况一致性进行判断；其中，所述步骤2)具体包括：21)对步骤1)中获取的各类型数据进行存储：按照航班+时隙类、措施类、环境类三类分别存储：定义Fight{f,s,t}为航班数据集合，i＝0,1,…,n，表示共有n条航班数据，f存储第i个航班的包含唯一标识号、航班号、状态的基本信息数据；s存储第i个航班的初始时隙信分配信息：包括计算推出时间、计算起飞时间、计算过点时间；t表示第i个航班所受的措施数量num个以及每条措施的唯一标识号id；定义TMI为流量措施集合，t＝0,1…,M，表示共有M条流量措施；TMI存储每条流量管理措施的唯一标识号、具体内容；定义ENV{S，A，R，F}为环境数据集合，h＝0,1,…,a，表示共a个管制单元，S存储每一个管制单元的包含唯一标识号、名称、位置的属性数据；k＝0,1,…,b，表示第h个管制单元内共有b个机场，A存储每个机场的包含唯一标识号、名称、位置、包含的跑道的属性数据；g＝0,1,…,c，表示第h个管制区内共有c个航路段，R存储每个航段的包含唯一标识号、名称、位置、单双向的属性数据；m＝0,1,…,d，表示第h个管制区内共有d个航路点，F存储每个航路点的包含唯一标识号、名称、位置、高度层的属性数据；考虑各类数据的实时传输特性，对每次收到的数据，根据数据类型判定存入相应集合中，同时根据新收到数据的唯一标识号与各自类别已存储的唯一标识号进行对比匹配：若未匹配到相同的唯一标识号，则判断为首次新收到数据，以新记录的身份存入各类数据集合中；若匹配到相同的唯一标识号，则进一步根据数据子项内容的前后变化情况分析航班运行的一致性；22)在一致性分析时，对航班集合中的所有航班按初始时隙排序；221)按照每个起飞机场跑道头的计算起飞时间的次序排一个队列，判断航班状态，如果是航班从跑道起飞进入空中状态以前的，则航班在地面上；若是航班从跑道起飞进入空中状态或航班从跑道起飞进入空中状态以后，则航班在空中；每个队列中先排空中航班，后排地面航班，形成所有机场的初始时隙队列；222)按照每个限制对象，对经过该限制对象的航班按计算过点时间先后次序进行排序，形成所有限制对象的初始时隙队列；23)航班是否依据初始分配时隙执行保障，需要实时进行一致性分析；一致性分析包括航班数据变化、流量管理措施变化对初始分配的影响；对比同一唯一标识号前后两次收到的数据内容子项，根据关键数值变化情况，从而判断出航班执行是否能保持与初始分配的一致性，若不一致则触发时隙重新计算。具体地，所述步骤23)包括：231)航班动态判断分析；232)流量管理措施变化判断分析；233)触发机制合并延时分析。所述步骤231)具体包括：从与时隙变化相关的角度进行分析，判断航班位置和状态并进行标识，并进一步判断以下子项：空中航班：判断航班当前位置是否飞越过措施限制对象，若否，则记录该航班4D轨迹中推算经过限制对象点的预计过点时间与当前时间的差异；若是，则直接从时隙计算范围剔除；空中航班的措施间隔一致性判断：循环判断各措施限制对象点：提取各机场经过对应措施限制对象的航班按初始跑道头的计算起飞时间排序的队列；循环判断各队列，统计所有未飞越措施限制对象的空中航班的数量为n1，根据起飞跑道到限制对象航路点飞行经验时间总长，除以措施要求的限制间隔，换算为可容纳架次量n2；地面航班动态引起的时隙一致性判断：地面航班根据状态分为A、B、C三类，A类是准备好状态之前的所有航班；B类是准备好状态到推出状态之前的航班；C类是推出状态后滑行到跑道这一过程的所有航班。如图3所示。其中，所述空中航班的措施间隔一致性判断具体包括：若n1大于n2，则目前机场从起飞到限制对象点这个空间内运行中指挥的空中飞机已超载，对该限制对象点所属的机场的队列中地面航班整体后移；定义措施限制间隔为T，计算需要弥补的空中时间值deltT1＝*T，计算空中最后一架航班与地面第一架航班的初始跑道头的计算起飞时间的时间间隔deltT2，则地面多出来的时间值deltT3＝deltT2-T，从地面第一架航班开始整体后移的时间间隔为deltT4＝deltT1–deltT3；根据运行柔性冗余度设置，判断deltT4是否大于等于5，若是，则记录该队列航班整体时隙后移优化；如图2所示；若n1小于等于n2，则地面航班时隙不需要优化。具体地，所述地面航班动态引起的时隙一致性判断具体包括：A类航班：判断计划撤轮档时间是否有变化，若有变化，则记录航班排序优先级有更新；判断预计撤轮档时间、目标撤轮档时间、场面可变滑行时间是否有变化，若任何一个发生变化，则重新计算预计起飞时间＝目标撤轮档时间/预计撤轮档时间+场面可变滑行时间；若计算的预计起飞时间发生变化，则记录航班计算基准有更新；判断航班的离场程序、航路数据、高度层是否有变化，若有则提取4D轨迹中经过限制对象的高度和预计过点时间；通过更新的航班排序优先级、新的预计起飞时间和新的预计过点时间判断与初始时的计算起飞时间、计算过点时间之间的差异，若差异超过时隙规定的范围前5后3分钟)，则记录航班的时隙需要优化；B类航班：以航班的准备好时间+5分钟为基准，判断航班的状态是否变化为推出状态，若状态未变化，则航班需要重新分配时隙，记录为该航班对应计算起飞时间时隙空出，而该航班标记为协调状态；若变化为推出状态，则标记为不需要时隙重新计算；C类航班：以航班的推出时间+场面滑行可变时间分钟为基准，判断航班的状态是否变化为上跑道状态，若状态未变化，则需要重新分配时隙，记录为该航班对应计算起飞时间时隙空出，而该航班标记为协调状态；若变化为上跑道状态，则标记为不需要时隙重新计算。所述步骤232)具体包括：对流量管理措施的数据子项进行前后对比分析，包括唯一标识号、措施作用时间、措施类型、措施中限制对象、上游限制条件、下游限制条件、限制间隔、限制容量、限制高度层、备注信息、措施原因；具体分析方法如下：新增措施：将收到的措施的唯一标识号与存储的各条措施的唯一标识号进行对比匹配，若未匹配到则为新增措施，需触发时隙优化计算；检查筛选所属的管制区、与限制对象上下游条件有关的航路航线、关联的起飞机场，实现受影响航班定位，触发局部时隙优化；原措施更新：将收到的措施的唯一标识号与存储的各条措施的唯一标识号进行对比匹配，若匹配到相同唯一标识号，则为原措施更新，进一步判断更新标识，以确认是措施内容修改或措施删除。所述措施内容修改：对比前后数据各子项具体内容，若是描述性文本内容修改，则不触发时隙计算；若是数据项变化，则触发时隙优化计算。所述措施删除：若措施取消，只需满足管制安全间隔就可放行，考虑机场、航司场面保障参考前面发布时隙分配各种保障资源，分情况进行解锁提示；对地面A类和B类航班全部解锁并提示时隙重算。所述步骤233)具体包括：采用10秒等待机制，即第一次接收到触发命令开始倒计时，在此过程中收到的触发命令一并记录，倒计时结束后进行一次性触发时隙优化计算。3)航班时隙重新分配计算；其中，所述步骤3)具体包括：31)分类筛选定位方法；32)时隙优化重新计算方法。具体地，所述步骤31)具体包括：收到触发命令后，根据命令的类型分类；如图4所示；若是航班动态变化触发的计算，将动态变化的航班定义为引子航班，将所有引子航班逐条判断，循环每一条引子航班数据，获取该航班关联的流量管理措施条数，逐条判断航班所关联的流量管理措施中的限制对象，筛选提取该限制对象下该航班的起飞机场对应的放行队列，对该放行队列中排列在该航班前面的其它航班保持不动，放行队列上从该航班开始之后的所有航班进一步优化重算，为该放行队列增加标识以及该放行队列上引子航班增加标识；若是流量管理措施变化触发的计算，将变化的措施定义为引子措施，将所有引子措施逐条判断，循环每一条引子措施，筛选出引子措施影响的所有航班，并按航班起飞机场依次读取各起飞机场的按初始时隙排列的放行队列，将每条队列上的航班作为时隙优化计算的对象，为筛选的每条队列增加优化标识。所述步骤32)具体包括：将上述分类筛选定位后筛选出的有标识记录的放行队列作为优化计算的对象；若是引子航班的变化引起的重算，进一步判断数据项内容：321)若是引子航班优先级变化，则在初始时隙排列的放行队列中找到同级优先级的位置，按照引子航班的原预计过点时间的先后位置插入放行队列，考虑与前一航班的间隔要求，重新计算过点时间CTO，相应地后一航班要满足与该航班新计算过点时间的间隔要求计算调整量，同时放行队列上后一航班之后的航班整体平移该调整量；整个放行队列中需计算的航班的计算过点时间安排确定后，减去4D轨迹中从跑道头到限制点的飞行时长，进而计算出跑道头的计算起飞时间，减去场面滑行可变时间，得到停机位对应的计算推出时间；若是新计算预计起飞时间、离场程序、航路数据、高度层变化引起的引子航班新的预计过点时间发生变化，则在原优先级位置处与前后航班按间隔要求重新计算过点时间，放行队列上后面的航班整体平移相应调整量；进一步计算出跑道头的计算起飞时间、停机位对应的计算推出时间；322)若是引子措施更新引起的重算，则对放行队列上的所有航班进行分类，分为锁定层、非锁定层；按照时间范围锁定，即从当前时间往后一段时间范围的航班时隙保持不动；时间范围外所有航班，按照新的措施间隔要求调整，不改变航班的次序关系，只调整前后间隔；323)若是引子航班和引子措施双重更新引起的重算，则对被引子航班和引子措施双重命中的航班队列，优化计算时以引子措施为优先标识，将关联的所有队列依次循环判断，在每个队列的计算过程中，结合考虑引子航班的标识，即考虑措施变化后的新要求，又考虑引子航班的要求，调整优化整个队列。示例中，两个管制区，管制区内所辖机场，关联的移交点M；移交点上发布的流量措施，即M点为一个限制对象。一致性监测触发时隙计算：考虑到民航飞行规则中高度层配置以及东西向不同高度层的原则，虽然为同一个M航路点，从华东区内起飞经过M点飞往华北区的方向为西向W总队列，那从华北区内飞往华东的则为东向E总队列，两者使用的高度层不同，不属于一个队列，所以对于M点发布流量措施时，不同方向、不同上下游条件影响的航班是有范围和边界的，对应的在M点所对应的各个总队列倒推到起飞机场时形成的各机场队列都是局部范围且互不影响。当M点上某一措施变化时，筛选出与该措施关联的总队列，比如W总队列，同时引出各机场的子队列；当某航班动态变化时，筛选出该航班关联的M点的某一措施对应的W总队列，同时结合航班的起飞机场，从W总队列关联的各机场的子队列筛选出该航班对应的子队列，从以上过程得知，这个计算过程不需要重新计算E总队列中子队列的时隙，这样极大的缩小计算范围、减少波动、降低计算资源消耗。本发明还提供一种基于一致性监测的航班时隙自动优化系统，包括：数据获取模块，用于获取航班动态数据、初始分配时隙、流量措施数据及基础环境数据；判断模块，用于对航班执行情况一致性进行判断；计算模块，用于航班时隙重新分配计算。本发明具体应用途径很多，以上所述仅是本发明的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明原理的前提下，还可以作出若干改进，这些改进也应视为本发明的保护范围。
