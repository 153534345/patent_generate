标题title
一种基于蓝牙通讯的智能家居控制系统及方法
摘要abst
本发明公开了一种基于蓝牙通讯的智能家居控制系统及方法，所述命令适应校准模块获取命令控制模块中获取的控制命令、位置采集模块采集的结果及联动及类别区分模块的处理结果，并对家居环境进行实时采集，进而对控制命令进行校准，并根据校准后的控制命令实现对家居设备的控制管理。本发明家居控制系统控制的家居设备更多，同时控制较多的家居设备的情况下，相比现有技术对应的控制效果更好；能够根据实际家居环境对控制命令进行校准，在无需用户多次控制的情况下，实现对待控制的家居设备及与其构成联动关系的家居设备进行控制，使得用户的体验更好，同时从多个因素对控制命令进行校准，使得控制效果更加精准。
权利要求书clms
1.一种基于蓝牙通讯的智能家居控制系统，其特征在于，包括：至少一个家居设备、至少一个控制处理终端和至少一个遥控端，所述控制处理终端包括：设备连接模块，所述设备连接模块通过蓝牙信号与家居设备及遥控端相连；命令接收模块，所述命令接收模块用于获取遥控端发送的对家居设备的控制命令；位置采集模块，所述位置采集模块实时采集各个家居设备的空间位置及遥控端对应的空间位置；联动及类别区分模块，所述联动及类别区分模块对各个家居设备的类别进行划分，并获取各个家居设备对应的与其构成联动关系的其他家居设备；命令适应校准模块，所述命令适应校准模块获取命令控制模块中获取的控制命令、位置采集模块采集的结果及联动及类别区分模块的处理结果，并对家居环境进行实时采集，进而对控制命令进行校准，并根据校准后的控制命令实现对家居设备的控制管理。2.根据权利要求1所述的一种基于蓝牙通讯的智能家居控制系统，其特征在于：所述设备连接模块分别与家居设备及遥控端建立连接后，家居设备及遥控端分别是通过蓝牙信号与控制处理终端实现信息交流的，在信息交流过程中，设备连接模块负责发送/接收信息，命令接收模块及位置采集模块获取的信息是通过设备连接模块接收的信息中得到的，命令适应校准模块在得到校准后的控制命令后，通过设备连接模块以蓝牙信号的形式向相应的家居设备发送相应的控制信息。3.根据权利要求1所述的一种基于蓝牙通讯的智能家居控制系统，其特征在于：所述位置采集模块包括家居设备位置采集模块及遥控端位置采集模块，所述位置采集模块获取用户家居的地面的中心点o，并以中心点o为原点，以过原点且从东至的西的方向为x轴正方向，以过原点且从南至北的方向为y轴正方向，以过原点从下至上的方向为z轴正方向建立空间直角坐标系，所述家居位置采集模块通过家居设备上的位置传感器获取对应家居设备在空间直角坐标系中坐标位置，所述遥控端位置采集模块通过遥控端上的位置传感器获取遥控端在空间直角坐标系中坐标位置。4.根据权利要求3所述的一种基于蓝牙通讯的智能家居控制系统，其特征在于：所述联动及类别区分模块包括设备联动模块及设备类别区分模块，所述设备联动模块用于记录各个家居设备对应的与其构成联动关系的其他家居设备，并将每个家居设备及对应的与其构成联动关系的其他家居设备构成关联数据对；所述设备类别区分模块根据家居设备对应的使用特性将其划分成不同的类别。5.根据权利要求4所述的一种基于蓝牙通讯的智能家居控制系统，其特征在于：所述设备联动模块包括系统联动模块和自定义联动模块，所述系统联动模块记录系统预制的关联数据对，所述自定义联动模块用于对系统预制的关联数据对进行修改，得到自定义关联数据对，在修改完成后，自定义联动模块将该相应的自定义关联数据对对应的系统预制的关联数据对进行删除；每个自定义关联数据对或系统预制的关联数据对均用{A，B}来表示，所述A表示每个家居设备名称，不同的家居设备对应不同的名称，所述B表示与A对应的家居设备构成联动关系的所有家居设备的集合，该集合内的每一项表示与A对应的家居设备构成联动关系的一个家居设备名称，该集合内不同项对应的家居设备名称不同；两个家居设备a1、a2，在A等于a1对应的名称，且B中包含a2对应的名称的情况下，当A等于a2对应的名称时，B中不一定包含a1对应的名称。6.根据权利要求5所述的一种基于蓝牙通讯的智能家居控制系统，其特征在于：所述设备类别区分模块中，家居设备对应的使用特性指家居设备使用过程中，是否能够阶段性的关闭或开启，将使用过程中不能够进行阶段性关闭或开启的家居设备划分为不可休眠设备类，将使用过程中能够进行阶段性关闭或开启的家居设备划分为可休眠设备类。7.根据权利要求6所述的一种基于蓝牙通讯的智能家居控制系统，其特征在于：所述命令适应校准模块包括环境采集模块和命令校准模块，所述环境采集模块通过传感器实时获取各家居设备位置对应的家居环境，所述家居环境包括：温度、湿度及亮度，所述命令校准模块通过命令控制模块中的控制命令筛选出该控制命令对应的家居设备c，获取位置采集模块中家居设备c及遥控端的坐标位置，获取以家居设备c为中心，第一单位距离范围内家居设备c对应的所有联动的家居设备d，并根据家居设备c与家居设备d分别对应的家居环境信息，及家居设备c、家居设备d分别与遥控端之间的直线距离L1，调整家居设备c与家居设备d对应的状态，所得调整的结果即为校准后的控制命令对应的控制信息；所述获取以家居设备c为中心，第一单位距离内家居设备c对应的所有联动的家居设备d的方法包括以下步骤：S1.1、获取家居设备c在空间直角坐标系中对应的坐标位置；S1.2、获取与家居设备c构成联动关系的所有家居设备的集合中，每一项对应的家居设备在空间直角坐标系中对应的坐标位置；S1.3、结合家居结构模型，判断对应的家居设备与家居设备c是否在同一密闭空间内，若对应的家居设备与家居设备c在同一密闭空间内，则根据距离公式，直接计算出与之间的距离，得到对应的家居设备与家居设备c之间的距离；若对应的家居设备与家居设备c不在同一密闭空间内，则获取对应的家居设备所属密闭空间出入口的中心点e1，获取家居设备c所属密闭空间出入口的中心点e2，并根据距离公式，分别计算出与e1对应坐标之间的距离、e2对应坐标与之间的距离及e1对应坐标与e2对应坐标之间的距离，所得三段距离的和为对应的家居设备与家居设备c之间的距离；S1.4、通过S1.3中所得结果，得到S1.2所得集合中每一项对应的与之间的距离，记为L；S1.5、将S1.4中获取的所有的L值与第一单位距离进行比较，筛选出S1.3所得集合中所有的对应L值小于第一单位距离的家居设备，得到家居设备d。8.根据权利要求7所述的一种基于蓝牙通讯的智能家居控制系统，其特征在于：根据家居设备c与家居设备d分别对应的家居环境信息，调整家居设备c与家居设备d对应的状态的方法包括以下步骤：S2.1、获取家居设备c与家居设备d分别对应的家居环境信息；S2.2、分别获取S2.1中每个家居设备的开关对家居环境信息能够进行调节的变量种类，记为f，所述变量种类包括温度、湿度及亮度，每个家居设备对应能够调节的变量种类个数可以为一个或多个，也可以为0；S2.3、获取S2.1中每个家居设备对应的f及该家居设备对应的家居环境信息中f对应的各个变量种类的数值，当f对应的变量种类个数不为0时，分别计算每个f对应的每个变量种类的数值与相应的变量种类预制值的差值的绝对值，将所得每个f中各变量种类分别对应的绝对值乘上相应的变量种类系数，得到每个f中各变量种类分别对应的归一化值，将每个f中各变量种类分别对应的归一化值进行求和，得到该f对应的归一化值，当f对应的变量种类个数为0时，判定该f对应的归一化值为0，进而得到S2.1中每个家居设备对应的归一化值，各变量种类相应的变量种类系数通过数据库查询获取；S2.4、分别获取S2.1中每个家居设备在数据库中对应的归一化阈值，并分别将S2.1中每个家居设备对应的归一化值与相应家居设备对应的归一化阈值进行比较，当家居设备对应的归一化值大于等于相应家居设备对应的归一化阈值时，则调整后该家居设备对应的状态为开启状态，当家居设备对应的归一化值小于相应家居设备对应的归一化阈值时，则调整后该家居设备对应的状态为关闭状态，进而得到调整后家居设备c与家居设备d中各家居设备对应的状态。9.根据权利要求8所述的一种基于蓝牙通讯的智能家居控制系统，其特征在于：根据家居设备c、家居设备d分别与遥控端之间的距离，调整家居设备c与家居设备d对应的状态的方法包括以下步骤：S3.1、获取S2.4中家居设备c与家居设备d中判定结果为开启状态且为可休眠类别的各个家居设备；S3.2、获取S3.1中所得家居设备分别对遥控端之间的直线距离，记为L2，并计算获取的每个家居设备对应的L2与第二单位距离的比值，所得结果记为该家居设备对应的状态校准系数β；S3.3、将S3.2中获取的每个家居设备对应的状态校准系数β与相应的家居设备对应的归一化值相乘，所得乘积记为该家居设备的状态校准值；S3.4、将S3.3中获取的每个家居设备的状态校准值与相应家居设备对应的归一化阈值进行比较，当家居设备的状态校准值大于等于相应家居设备对应的归一化阈值时，则判定调整后该家居设备对应的状态为休眠状态，当家居设备的状态校准值小于相应家居设备对应的归一化阈值时，则判定调整后该家居设备对应的状态为正常开启状态，可休眠设备类别的家居设备的开启状态包括正常开启状态及休眠状态，所述正常开启状态表示相应家居设备在当前家居环境信息及与遥控端之间的直线距离不变的情况下，该家居设备正常工作，所述休眠状态表示相应家居设备在当前家居环境信息及与遥控端之间的直线距离不变的情况下，该家居设备不进行工作，但是命令校准模块会在接下来的第二单位时间内继续实时获取该家居设备与遥控端的直线距离，计算新的状态校准值，若存在新的状态校准值小于相应家居设备对应的归一化阈值的情况时，则将该家居设备的状态变换为正常开启状态，若新的状态校准值均大于等于相应家居设备对应的归一化阈值的情况时，则将该家居设备的状态变换为关闭状态。10.应用权利要求1-9任意一项所述的一种基于蓝牙通讯的智能家居控制系统的基于蓝牙通讯的智能家居控制方法，其特征在于：该方法包括以下步骤：S1、在设备连接模块中，通过蓝牙信号与家居设备及遥控端相连；S2、通过命令接收模块获取遥控端发送的对家居设备的控制命令；S3、在位置采集模块中，实时采集各个家居设备的空间位置及遥控端对应的空间位置；S4、通过联动及类别区分模块对各个家居设备的类别进行划分，并获取各个家居设备对应的与其构成联动关系的其他家居设备；S5、通过命令适应校准模块获取命令控制模块中获取的控制命令、位置采集模块采集的结果及联动及类别区分模块的处理结果，并对家居环境进行实时采集，进而对控制命令进行校准，并根据校准后的控制命令实现对家居设备的控制管理。
说明书desc
技术领域本发明涉及智能家居控制技术领域，具体为一种基于蓝牙通讯的智能家居控制系统及方法。背景技术随着科技的不断发展，人们对科学技术的大胆运用，使得人们的生活水平越来越好，科技为人们的生活提供了较大的便捷，尤其是在智能家居方面，通过一个统一的控制管理系统实现对所有家居设备的全面且有效的控制，有效提高了人们的生活品质。但是现有的家居控制系统尚且存在较大的不足：①家居控制系统控制的家居设备较少，同时控制较多的家居设备的情况下，控制效果较差；②对家居设备只是做到简单的控制，无法根据实际家居环境对控制命令进行校准，导致控制效果不精准且在一定程度上造成了能源浪费。针对上述情况，我们需要一种基于蓝牙通讯的智能家居控制系统及方法。发明内容本发明的目的在于提供一种基于蓝牙通讯的智能家居控制系统及方法，以解决上述背景技术中提出的问题。为了解决上述技术问题，本发明提供如下技术方案：一种基于蓝牙通讯的智能家居控制系统及方法，包括：至少一个家居设备、至少一个控制处理终端和至少一个遥控端，所述控制处理终端包括：设备连接模块，所述设备连接模块通过蓝牙信号与家居设备及遥控端相连；命令接收模块，所述命令接收模块用于获取遥控端发送的对家居设备的控制命令；位置采集模块，所述位置采集模块实时采集各个家居设备的空间位置及遥控端对应的空间位置；联动及类别区分模块，所述联动及类别区分模块对各个家居设备的类别进行划分，并获取各个家居设备对应的与其构成联动关系的其他家居设备；命令适应校准模块，所述命令适应校准模块获取命令控制模块中获取的控制命令、位置采集模块采集的结果及联动及类别区分模块的处理结果，并对家居环境进行实时采集，进而对控制命令进行校准，并根据校准后的控制命令实现对家居设备的控制管理。本发明通过各个模块的协同合作，共同实现了对控制命令的接收及识别，并根据该控制命令对应的家居设备对应的家居环境信息，对该控制命令对应的控制信息进行校准，并根据校准后的控制信息实现对相应家居设备的控制。进一步的，所述设备连接模块分别与家居设备及遥控端建立连接后，家居设备及遥控端分别是通过蓝牙信号与控制处理终端实现信息交流的，在信息交流过程中，设备连接模块负责发送/接收信息，命令接收模块及位置采集模块获取的信息是通过设备连接模块接收的信息中得到的，命令适应校准模块在得到校准后的控制命令后，通过设备连接模块以蓝牙信号的形式向相应的家居设备发送相应的控制信息。本发明设备连接模块负责实现家居设备、遥控端及控制处理终端这三者之间的信息沟通，通过蓝牙通讯的形式能够使得三者之间无需进行线性连接，避免了相互之间的电线排布，不仅美观，还节省了空间；设备连接模块在接收到家居设备或遥控端发送的信息后，会根据所得信息的内容传送到控制处理终端中的其他模块进行数据处理分析，实现对家居设备的控制管理。进一步的，所述位置采集模块包括家居设备位置采集模块及遥控端位置采集模块，所述位置采集模块获取用户家居的地面的中心点o，并以中心点o为原点，以过原点且从东至的西的方向为x轴正方向，以过原点且从南至北的方向为y轴正方向，以过原点从下至上的方向为z轴正方向建立空间直角坐标系，所述家居位置采集模块通过家居设备上的位置传感器获取对应家居设备在空间直角坐标系中坐标位置，所述遥控端位置采集模块通过遥控端上的位置传感器获取遥控端在空间直角坐标系中坐标位置。本发明位置采集模块构建空间直角坐标系是为能够获取各个家居设备与遥控端的具体位置坐标，分别将其对应位置具体化、数值化，能够便于根据家居设备及遥控端对应的具体坐标对控制命令进行数据分析，便于对控制命令内容进行校准，并使得校准结果更加精准。进一步的，所述联动及类别区分模块包括设备联动模块及设备类别区分模块，所述设备联动模块用于记录各个家居设备对应的与其构成联动关系的其他家居设备，并将每个家居设备及对应的与其构成联动关系的其他家居设备构成关联数据对；所述设备类别区分模块根据家居设备对应的使用特性将其划分成不同的类别。本发明联动及类别区分模块中设备联动模块获取各个家居设备对应的联动设备是为了从家居设备的联动关系出发，在相应的联动设备中进行筛选，获取相应控制命令校准过程中需要校准的家居设备，比如：用户想控制开启一个屋子里的空调，与该空调构成联动关系的家居设备有该屋子内的灯，因此，在控制空调开启时，校准的控制命令也会对该屋子内该灯的状态进行控制；设备类别区分模块对家居设备的类别进行划分是为了根据家居设备不同的类别进步不同的控制方式，如：冰箱所属的类别在控制时不能将其关闭，而灯在控制时，既可以保持开启，也可以保持关闭，同时还能够将其保持休眠状态等等。进一步的，所述设备联动模块包括系统联动模块和自定义联动模块，所述系统联动模块记录系统预制的关联数据对，所述自定义联动模块用于对系统预制的关联数据对进行修改，得到自定义关联数据对，在修改完成后，自定义联动模块将该相应的自定义关联数据对对应的系统预制的关联数据对进行删除；每个自定义关联数据对或系统预制的关联数据对均用{A，B}来表示，所述A表示每个家居设备名称，不同的家居设备对应不同的名称，所述B表示与A对应的家居设备构成联动关系的所有家居设备的集合，该集合内的每一项表示与A对应的家居设备构成联动关系的一个家居设备名称，该集合内不同项对应的家居设备名称不同；两个家居设备a1、a2，在A等于a1对应的名称，且B中包含a2对应的名称的情况下，当A等于a2对应的名称时，B中不一定包含a1对应的名称。本发明设备联动模块以关联数据对的形式对家居设备对应的联动关系进行保存是为了便于进行数据存储，且通过关联数据对能够较为直观的获取到该家居设备信息及与该家居设备构成联动关系的设备信息；关联数据对中B为一个集合是因为关联数据对中B所处的位置只有一个，但是与A构成联动关系的家居设备个数可能不止一个，因此以集合的方式进行记录，既能够记录下与A构成联动关系的所有家居设备，还能够不该编关联数据对的结构形式，使得最终结果较为直观；设置“相同的两个家居设备a1、a2，在A等于a1对应的名称，且B中包含a2对应的名称的情况下，当A等于a2对应的名称，B中不一定包含a1对应的名称”是考虑到A对应的家居设备不同，对应的与A构成联动关系的家居设备也不相同，哪怕是相同的两个家居设备，两者的联动关系也不一定是可逆的，如灯和空调两者之间的关系，当A为空调时，用户子在享受到温度调节的基础上，必须要满足自身的基本需要，避免对自身行为造成不便，因此B包含灯，但是当A为灯时，用户需要的是视物功能，能够满足用户的基本需要且不会对自身行为造成不便，因此，此时B不包括空调。进一步的，所述设备类别区分模块中，家居设备对应的使用特性指家居设备使用过程中，是否能够阶段性的关闭或开启，将使用过程中不能够进行阶段性关闭或开启的家居设备划分为不可休眠设备类，将使用过程中能够进行阶段性关闭或开启的家居设备划分为可休眠设备类。进一步的，所述命令适应校准模块包括环境采集模块和命令校准模块，所述环境采集模块通过传感器实时获取各家居设备位置对应的家居环境，所述家居环境包括：温度、湿度及亮度，所述命令校准模块通过命令控制模块中的控制命令筛选出该控制命令对应的家居设备c，获取位置采集模块中家居设备c及遥控端的坐标位置，获取以家居设备c为中心，第一单位距离范围内家居设备c对应的所有联动的家居设备d，并根据家居设备c与家居设备d分别对应的家居环境信息，及家居设备c、家居设备d分别与遥控端之间的直线距离L1，调整家居设备c与家居设备d对应的状态，所得调整的结果即为校准后的控制命令对应的控制信息；所述获取以家居设备c为中心，第一单位距离内家居设备c对应的所有联动的家居设备d的方法包括以下步骤：S1.1、获取家居设备c在空间直角坐标系中对应的坐标位置；S1.2、获取与家居设备c构成联动关系的所有家居设备的集合中，每一项对应的家居设备在空间直角坐标系中对应的坐标位置；S1.3、结合家居结构模型，判断对应的家居设备与家居设备c是否在同一密闭空间内，若对应的家居设备与家居设备c在同一密闭空间内，则根据距离公式，直接计算出与之间的距离，得到对应的家居设备与家居设备c之间的距离；若对应的家居设备与家居设备c不在同一密闭空间内，则获取对应的家居设备所属密闭空间出入口的中心点e1，获取家居设备c所属密闭空间出入口的中心点e2，并根据距离公式，分别计算出与e1对应坐标之间的距离、e2对应坐标与之间的距离及e1对应坐标与e2对应坐标之间的距离，所得三段距离的和为对应的家居设备与家居设备c之间的距离；S1.4、通过S1.3中所得结果，得到S1.2所得集合中每一项对应的与之间的距离，记为L；S1.5、将S1.4中获取的所有的L值与第一单位距离进行比较，筛选出S1.3所得集合中所有的对应L值小于第一单位距离的家居设备，得到家居设备d。本发明获取联动的家居设备d的过程中，结合家居结构模型是因为实际生活中，不能只通过两个家居设备对应坐标之间的直线距离对两者距离进行判断的，还需要考虑到房屋形状，隔墙的大小、分布，不同的隔墙会将屋子隔成一个个密闭空间，若两个家居设备在同一密闭空间中，可以根据对应坐标之间的直线距离获取两者之间的距离，但是当两个家居设备不在同一个密闭空间中时，则不能仅仅考虑对应坐标之间的直线距离，还要考虑到两家居设备分别所属的密闭空间的出口位置，根据密闭空间出口位置确定从一个家居设备至另一个家居设备位置移动的总距离即为两者之间的距离；将获取的L值与第一单位距离进行比较是为了对家居设备c对应的联动设备进一步进行筛选，这个第一单位距离是可变的，可以通过人为进行设置，不同的值对应不同的筛选精度，第一单位距离的值越大，则筛选精度越小，筛选后剩余的家居设备个数越多，相应的校准后控制命令对应的控制信息中包含的需要控制的家居设备个数越多。进一步的，根据家居设备c与家居设备d分别对应的家居环境信息，调整家居设备c与家居设备d对应的状态的方法包括以下步骤：S2.1、获取家居设备c与家居设备d分别对应的家居环境信息；S2.2、分别获取S2.1中每个家居设备的开关对家居环境信息能够进行调节的变量种类，记为f，所述变量种类包括温度、湿度及亮度，每个家居设备对应能够调节的变量种类个数可以为一个或多个，也可以为0；S2.3、获取S2.1中每个家居设备对应的f及该家居设备对应的家居环境信息中f对应的各个变量种类的数值，当f对应的变量种类个数不为0时，分别计算每个f对应的每个变量种类的数值与相应的变量种类预制值的差值的绝对值，将所得每个f中各变量种类分别对应的绝对值乘上相应的变量种类系数，得到每个f中各变量种类分别对应的归一化值，将每个f中各变量种类分别对应的归一化值进行求和，得到该f对应的归一化值，当f对应的变量种类个数为0时，判定该f对应的归一化值为0，进而得到S2.1中每个家居设备对应的归一化值，各变量种类相应的变量种类系数通过数据库查询获取；S2.4、分别获取S2.1中每个家居设备在数据库中对应的归一化阈值，并分别将S2.1中每个家居设备对应的归一化值与相应家居设备对应的归一化阈值进行比较，当家居设备对应的归一化值大于等于相应家居设备对应的归一化阈值时，则调整后该家居设备对应的状态为开启状态，当家居设备对应的归一化值小于相应家居设备对应的归一化阈值时，则调整后该家居设备对应的状态为关闭状态，进而得到调整后家居设备c与家居设备d中各家居设备对应的状态。本发明根据家居环境信息调整家居设备c与家居设备d对应的状态时，获取每个家居设备的开关对家居环境信息能够进行调节的变量种类是因为不同的家居设设备能够调节的家居环境信息中的变量种类不同，如：灯调节的是亮度、空调调节的是温度和湿度；获取每个家居设备对应的家居环境信息中f对应的各个变量种类的数值，并计算对应的归一化值是为了对各个家居设备的当前环境状况进行获取、衡量，进而通过多个因素对该家居设备需要控制的状态进行判断，判断出该家居设备是否需要控制开启；设置相应家居设备对应的归一化阈值是因为各个家居设备获取归一化值时对应的标准不同，因此，针对不同的标准需要制定不同的归一化阈值，进而使得比较结果更加精确。进一步的，根据家居设备c、家居设备d分别与遥控端之间的距离，调整家居设备c与家居设备d对应的状态的方法包括以下步骤：S3.1、获取S2.4中家居设备c与家居设备d中判定结果为开启状态且为可休眠类别的各个家居设备；S3.2、获取S3.1中所得家居设备分别对遥控端之间的直线距离，记为L2，并计算获取的每个家居设备对应的L2与第二单位距离的比值，所得结果记为该家居设备对应的状态校准系数β；S3.3、将S3.2中获取的每个家居设备对应的状态校准系数β与相应的家居设备对应的归一化值相乘，所得乘积记为该家居设备的状态校准值；S3.4、将S3.3中获取的每个家居设备的状态校准值与相应家居设备对应的归一化阈值进行比较，当家居设备的状态校准值大于等于相应家居设备对应的归一化阈值时，则判定调整后该家居设备对应的状态为休眠状态，当家居设备的状态校准值小于相应家居设备对应的归一化阈值时，则判定调整后该家居设备对应的状态为正常开启状态，可休眠设备类别的家居设备的开启状态包括正常开启状态及休眠状态，所述正常开启状态表示相应家居设备在当前家居环境信息及与遥控端之间的直线距离不变的情况下，该家居设备正常工作，所述休眠状态表示相应家居设备在当前家居环境信息及与遥控端之间的直线距离不变的情况下，该家居设备不进行工作，但是命令校准模块会在接下来的第二单位时间内继续实时获取该家居设备与遥控端的直线距离，计算新的状态校准值，若存在新的状态校准值小于相应家居设备对应的归一化阈值的情况时，则将该家居设备的状态变换为正常开启状态，若新的状态校准值均大于等于相应家居设备对应的归一化阈值的情况时，则将该家居设备的状态变换为关闭状态。本发明将状态校准系数β与相应的家居设备对应的归一化值相乘，得到家居设备的状态校准值，能够将各个家居设备对应的条件数值化，便于对各个家居设备需要变换的状态进行判断；获取所得家居设备分别对遥控端之间的直线距离就是获取空间直角坐标系中该家居设备与该遥控端分别对应的坐标点之间的直线距离。一种基于蓝牙通讯的智能家居控制方法，该方法包括以下步骤：S1、在设备连接模块中，通过蓝牙信号与家居设备及遥控端相连；S2、通过命令接收模块获取遥控端发送的对家居设备的控制命令；S3、在位置采集模块中，实时采集各个家居设备的空间位置及遥控端对应的空间位置；S4、通过联动及类别区分模块对各个家居设备的类别进行划分，并获取各个家居设备对应的与其构成联动关系的其他家居设备；S5、通过命令适应校准模块获取命令控制模块中获取的控制命令、位置采集模块采集的结果及联动及类别区分模块的处理结果，并对家居环境进行实时采集，进而对控制命令进行校准，并根据校准后的控制命令实现对家居设备的控制管理。与现有技术相比，本发明所达到的有益效果是：本发明家居控制系统控制的家居设备更多，同时控制较多的家居设备的情况下，相比现有技术对应的控制效果更好；在对家居设备进行控制的过程中，能够根据实际家居环境对控制命令进行校准，在无需用户多次控制的情况下，实现对待控制的家居设备及与其构成联动关系的家居设备进行控制，使得用户的体验更好，同时从多个因素对控制命令进行校准，使得控制效果更加精准。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1是本发明一种基于蓝牙通讯的智能家居控制系统的结构示意图；图2是本发明一种基于蓝牙通讯的智能家居控制系统中获取以家居设备c为中心，第一单位距离内家居设备c对应的所有联动的家居设备d的方法的流程示意图；图3是本发明一种基于蓝牙通讯的智能家居控制系统中根据家居设备c、家居设备d分别与遥控端之间的距离，调整家居设备c与家居设备d对应的状态的方法的流程示意图；图4是本发明一种基于蓝牙通讯的智能家居控制方法的流程示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1-图4，本发明提供技术方案：一种基于蓝牙通讯的智能家居控制系统及方法，包括：至少一个家居设备、至少一个控制处理终端和至少一个遥控端，所述控制处理终端包括：设备连接模块，所述设备连接模块通过蓝牙信号与家居设备及遥控端相连；命令接收模块，所述命令接收模块用于获取遥控端发送的对家居设备的控制命令；位置采集模块，所述位置采集模块实时采集各个家居设备的空间位置及遥控端对应的空间位置；联动及类别区分模块，所述联动及类别区分模块对各个家居设备的类别进行划分，并获取各个家居设备对应的与其构成联动关系的其他家居设备；命令适应校准模块，所述命令适应校准模块获取命令控制模块中获取的控制命令、位置采集模块采集的结果及联动及类别区分模块的处理结果，并对家居环境进行实时采集，进而对控制命令进行校准，并根据校准后的控制命令实现对家居设备的控制管理。本发明通过各个模块的协同合作，共同实现了对控制命令的接收及识别，并根据该控制命令对应的家居设备对应的家居环境信息，对该控制命令对应的控制信息进行校准，并根据校准后的控制信息实现对相应家居设备的控制。所述设备连接模块分别与家居设备及遥控端建立连接后，家居设备及遥控端分别是通过蓝牙信号与控制处理终端实现信息交流的，在信息交流过程中，设备连接模块负责发送/接收信息，命令接收模块及位置采集模块获取的信息是通过设备连接模块接收的信息中得到的，命令适应校准模块在得到校准后的控制命令后，通过设备连接模块以蓝牙信号的形式向相应的家居设备发送相应的控制信息。本发明设备连接模块负责实现家居设备、遥控端及控制处理终端这三者之间的信息沟通，通过蓝牙通讯的形式能够使得三者之间无需进行线性连接，避免了相互之间的电线排布，不仅美观，还节省了空间；设备连接模块在接收到家居设备或遥控端发送的信息后，会根据所得信息的内容传送到控制处理终端中的其他模块进行数据处理分析，实现对家居设备的控制管理。所述位置采集模块包括家居设备位置采集模块及遥控端位置采集模块，所述位置采集模块获取用户家居的地面的中心点o，并以中心点o为原点，以过原点且从东至的西的方向为x轴正方向，以过原点且从南至北的方向为y轴正方向，以过原点从下至上的方向为z轴正方向建立空间直角坐标系，所述家居位置采集模块通过家居设备上的位置传感器获取对应家居设备在空间直角坐标系中坐标位置，所述遥控端位置采集模块通过遥控端上的位置传感器获取遥控端在空间直角坐标系中坐标位置。本发明位置采集模块构建空间直角坐标系是为能够获取各个家居设备与遥控端的具体位置坐标，分别将其对应位置具体化、数值化，能够便于根据家居设备及遥控端对应的具体坐标对控制命令进行数据分析，便于对控制命令内容进行校准，并使得校准结果更加精准。所述联动及类别区分模块包括设备联动模块及设备类别区分模块，所述设备联动模块用于记录各个家居设备对应的与其构成联动关系的其他家居设备，并将每个家居设备及对应的与其构成联动关系的其他家居设备构成关联数据对；所述设备类别区分模块根据家居设备对应的使用特性将其划分成不同的类别。本发明联动及类别区分模块中设备联动模块获取各个家居设备对应的联动设备是为了从家居设备的联动关系出发，在相应的联动设备中进行筛选，获取相应控制命令校准过程中需要校准的家居设备，比如：用户想控制开启一个屋子里的空调，与该空调构成联动关系的家居设备有该屋子内的灯，因此，在控制空调开启时，校准的控制命令也会对该屋子内该灯的状态进行控制；设备类别区分模块对家居设备的类别进行划分是为了根据家居设备不同的类别进步不同的控制方式，如：冰箱所属的类别在控制时不能将其关闭，而灯在控制时，既可以保持开启，也可以保持关闭，同时还能够将其保持休眠状态等等。所述设备联动模块包括系统联动模块和自定义联动模块，所述系统联动模块记录系统预制的关联数据对，所述自定义联动模块用于对系统预制的关联数据对进行修改，得到自定义关联数据对，在修改完成后，自定义联动模块将该相应的自定义关联数据对对应的系统预制的关联数据对进行删除；每个自定义关联数据对或系统预制的关联数据对均用{A，B}来表示，所述A表示每个家居设备名称，不同的家居设备对应不同的名称，所述B表示与A对应的家居设备构成联动关系的所有家居设备的集合，该集合内的每一项表示与A对应的家居设备构成联动关系的一个家居设备名称，该集合内不同项对应的家居设备名称不同；两个家居设备a1、a2，在A等于a1对应的名称，且B中包含a2对应的名称的情况下，当A等于a2对应的名称时，B中不一定包含a1对应的名称。本发明设备联动模块以关联数据对的形式对家居设备对应的联动关系进行保存是为了便于进行数据存储，且通过关联数据对能够较为直观的获取到该家居设备信息及与该家居设备构成联动关系的设备信息；关联数据对中B为一个集合是因为关联数据对中B所处的位置只有一个，但是与A构成联动关系的家居设备个数可能不止一个，因此以集合的方式进行记录，既能够记录下与A构成联动关系的所有家居设备，还能够不该编关联数据对的结构形式，使得最终结果较为直观；设置“相同的两个家居设备a1、a2，在A等于a1对应的名称，且B中包含a2对应的名称的情况下，当A等于a2对应的名称，B中不一定包含a1对应的名称”是考虑到A对应的家居设备不同，对应的与A构成联动关系的家居设备也不相同，哪怕是相同的两个家居设备，两者的联动关系也不一定是可逆的，如灯和空调两者之间的关系，当A为空调时，用户子在享受到温度调节的基础上，必须要满足自身的基本需要，避免对自身行为造成不便，因此B包含灯，但是当A为灯时，用户需要的是视物功能，能够满足用户的基本需要且不会对自身行为造成不便，因此，此时B不包括空调。所述设备类别区分模块中，家居设备对应的使用特性指家居设备使用过程中，是否能够阶段性的关闭或开启，将使用过程中不能够进行阶段性关闭或开启的家居设备划分为不可休眠设备类，将使用过程中能够进行阶段性关闭或开启的家居设备划分为可休眠设备类。所述命令适应校准模块包括环境采集模块和命令校准模块，所述环境采集模块通过传感器实时获取各家居设备位置对应的家居环境，所述家居环境包括：温度、湿度及亮度，所述命令校准模块通过命令控制模块中的控制命令筛选出该控制命令对应的家居设备c，获取位置采集模块中家居设备c及遥控端的坐标位置，获取以家居设备c为中心，第一单位距离范围内家居设备c对应的所有联动的家居设备d，并根据家居设备c与家居设备d分别对应的家居环境信息，及家居设备c、家居设备d分别与遥控端之间的直线距离L1，调整家居设备c与家居设备d对应的状态，所得调整的结果即为校准后的控制命令对应的控制信息；所述获取以家居设备c为中心，第一单位距离内家居设备c对应的所有联动的家居设备d的方法包括以下步骤：S1.1、获取家居设备c在空间直角坐标系中对应的坐标位置；S1.2、获取与家居设备c构成联动关系的所有家居设备的集合中，每一项对应的家居设备在空间直角坐标系中对应的坐标位置；S1.3、结合家居结构模型，判断对应的家居设备与家居设备c是否在同一密闭空间内，若对应的家居设备与家居设备c在同一密闭空间内，则根据距离公式，直接计算出与之间的距离，得到对应的家居设备与家居设备c之间的距离；若对应的家居设备与家居设备c不在同一密闭空间内，则获取对应的家居设备所属密闭空间出入口的中心点e1，获取家居设备c所属密闭空间出入口的中心点e2，并根据距离公式，分别计算出与e1对应坐标之间的距离、e2对应坐标与之间的距离及e1对应坐标与e2对应坐标之间的距离，所得三段距离的和为对应的家居设备与家居设备c之间的距离；S1.4、通过S1.3中所得结果，得到S1.2所得集合中每一项对应的与之间的距离，记为L；S1.5、将S1.4中获取的所有的L值与第一单位距离进行比较，筛选出S1.3所得集合中所有的对应L值小于第一单位距离的家居设备，得到家居设备d。本实施例中若家居设备c的坐标为，若存在家居设备甲与家居设备c构成联动关系，家居设备甲的坐标为，且家居设备c与家居设备甲不在同一密闭空间内，家居设备c对应的密闭空间的出入口的中心点e1的坐标为，家居设备甲对应的密闭空间与家居设备c对应的密闭空间相邻且功用一个出入口，则e2对应的坐标为，第一单位距离为3米，则根据距离公式，得到家居设备c与e1之间的距离为家居设备甲与e2之间的距离为e2与e1之间的距离为则家居设备甲与家居设备c之间的距离为因为所以家居设备c对应的家居设备d不包括家居设备甲。本发明获取联动的家居设备d的过程中，结合家居结构模型是因为实际生活中，不能只通过两个家居设备对应坐标之间的直线距离对两者距离进行判断的，还需要考虑到房屋形状，隔墙的大小、分布，不同的隔墙会将屋子隔成一个个密闭空间，若两个家居设备在同一密闭空间中，可以根据对应坐标之间的直线距离获取两者之间的距离，但是当两个家居设备不在同一个密闭空间中时，则不能仅仅考虑对应坐标之间的直线距离，还要考虑到两家居设备分别所属的密闭空间的出口位置，根据密闭空间出口位置确定从一个家居设备至另一个家居设备位置移动的总距离即为两者之间的距离；将获取的L值与第一单位距离进行比较是为了对家居设备c对应的联动设备进一步进行筛选，这个第一单位距离是可变的，可以通过人为进行设置，不同的值对应不同的筛选精度，第一单位距离的值越大，则筛选精度越小，筛选后剩余的家居设备个数越多，相应的校准后控制命令对应的控制信息中包含的需要控制的家居设备个数越多。根据家居设备c与家居设备d分别对应的家居环境信息，调整家居设备c与家居设备d对应的状态的方法包括以下步骤：S2.1、获取家居设备c与家居设备d分别对应的家居环境信息；S2.2、分别获取S2.1中每个家居设备的开关对家居环境信息能够进行调节的变量种类，记为f，所述变量种类包括温度、湿度及亮度，每个家居设备对应能够调节的变量种类个数可以为一个或多个，也可以为0；S2.3、获取S2.1中每个家居设备对应的f及该家居设备对应的家居环境信息中f对应的各个变量种类的数值，当f对应的变量种类个数不为0时，分别计算每个f对应的每个变量种类的数值与相应的变量种类预制值的差值的绝对值，将所得每个f中各变量种类分别对应的绝对值乘上相应的变量种类系数，得到每个f中各变量种类分别对应的归一化值，将每个f中各变量种类分别对应的归一化值进行求和，得到该f对应的归一化值，当f对应的变量种类个数为0时，判定该f对应的归一化值为0，进而得到S2.1中每个家居设备对应的归一化值，各变量种类相应的变量种类系数通过数据库查询获取；S2.4、分别获取S2.1中每个家居设备在数据库中对应的归一化阈值，并分别将S2.1中每个家居设备对应的归一化值与相应家居设备对应的归一化阈值进行比较，当家居设备对应的归一化值大于等于相应家居设备对应的归一化阈值时，则调整后该家居设备对应的状态为开启状态，当家居设备对应的归一化值小于相应家居设备对应的归一化阈值时，则调整后该家居设备对应的状态为关闭状态，进而得到调整后家居设备c与家居设备d中各家居设备对应的状态。本发明根据家居环境信息调整家居设备c与家居设备d对应的状态时，获取每个家居设备的开关对家居环境信息能够进行调节的变量种类是因为不同的家居设设备能够调节的家居环境信息中的变量种类不同，如：灯调节的是亮度、空调调节的是温度和湿度；获取每个家居设备对应的家居环境信息中f对应的各个变量种类的数值，并计算对应的归一化值是为了对各个家居设备的当前环境状况进行获取、衡量，进而通过多个因素对该家居设备需要控制的状态进行判断，判断出该家居设备是否需要控制开启；设置相应家居设备对应的归一化阈值是因为各个家居设备获取归一化值时对应的标准不同，因此，针对不同的标准需要制定不同的归一化阈值，进而使得比较结果更加精确。根据家居设备c、家居设备d分别与遥控端之间的距离，调整家居设备c与家居设备d对应的状态的方法包括以下步骤：S3.1、获取S2.4中家居设备c与家居设备d中判定结果为开启状态且为可休眠类别的各个家居设备；S3.2、获取S3.1中所得家居设备分别对遥控端之间的直线距离，记为L2，并计算获取的每个家居设备对应的L2与第二单位距离的比值，所得结果记为该家居设备对应的状态校准系数β；S3.3、将S3.2中获取的每个家居设备对应的状态校准系数β与相应的家居设备对应的归一化值相乘，所得乘积记为该家居设备的状态校准值；S3.4、将S3.3中获取的每个家居设备的状态校准值与相应家居设备对应的归一化阈值进行比较，当家居设备的状态校准值大于等于相应家居设备对应的归一化阈值时，则判定调整后该家居设备对应的状态为休眠状态，当家居设备的状态校准值小于相应家居设备对应的归一化阈值时，则判定调整后该家居设备对应的状态为正常开启状态，可休眠设备类别的家居设备的开启状态包括正常开启状态及休眠状态，所述正常开启状态表示相应家居设备在当前家居环境信息及与遥控端之间的直线距离不变的情况下，该家居设备正常工作，所述休眠状态表示相应家居设备在当前家居环境信息及与遥控端之间的直线距离不变的情况下，该家居设备不进行工作，但是命令校准模块会在接下来的第二单位时间内继续实时获取该家居设备与遥控端的直线距离，计算新的状态校准值，若存在新的状态校准值小于相应家居设备对应的归一化阈值的情况时，则将该家居设备的状态变换为正常开启状态，若新的状态校准值均大于等于相应家居设备对应的归一化阈值的情况时，则将该家居设备的状态变换为关闭状态。本发明将状态校准系数β与相应的家居设备对应的归一化值相乘，得到家居设备的状态校准值，能够将各个家居设备对应的条件数值化，便于对各个家居设备需要变换的状态进行判断；获取所得家居设备分别对遥控端之间的直线距离就是获取空间直角坐标系中该家居设备与该遥控端分别对应的坐标点之间的直线距离。一种基于蓝牙通讯的智能家居控制方法，该方法包括以下步骤：S1、在设备连接模块中，通过蓝牙信号与家居设备及遥控端相连；S2、通过命令接收模块获取遥控端发送的对家居设备的控制命令；S3、在位置采集模块中，实时采集各个家居设备的空间位置及遥控端对应的空间位置；S4、通过联动及类别区分模块对各个家居设备的类别进行划分，并获取各个家居设备对应的与其构成联动关系的其他家居设备；S5、通过命令适应校准模块获取命令控制模块中获取的控制命令、位置采集模块采集的结果及联动及类别区分模块的处理结果，并对家居环境进行实时采集，进而对控制命令进行校准，并根据校准后的控制命令实现对家居设备的控制管理。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
