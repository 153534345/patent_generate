标题title
训练路径表征模型、输出信息的方法和装置
摘要abst
本公开提供了训练路径表征模型和输出信息的方法和装置，涉及人工智能领域，尤其涉及大数据分析领域。具体实现方案为：获取至少一个用户的至少一个轨迹点，其中，每个用户的每个轨迹点包括该用户途经的地点、开始时间和持续时间；将至少一个用户的至少一个轨迹点输入预训练模型，得到每个用户的轨迹表征；对于每个用户，根据该用户的每个轨迹点的开始时间和持续时间从该用户的轨迹表征中查询出每个轨迹点的位置；根据每个用户途经的地点和查询出的每个轨迹点的位置之间的差异调整预训练模型的网络参数，得到路径表征模型。通过该实施方式能够针对对轨迹数据的特点进行建模，可生成灵活适用于多种任务的统一表征。
权利要求书clms
1.一种训练路径表征模型的方法，包括：获取至少一个用户的至少一个轨迹点，其中，每个用户的每个轨迹点包括该用户途经的地点、开始时间和持续时间；将所述至少一个用户的至少一个轨迹点输入预训练模型，得到每个用户的轨迹表征；对于每个用户，根据该用户的每个轨迹点的开始时间和持续时间从该用户的轨迹表征中查询出每个轨迹点的位置；根据每个用户途经的地点和查询出的每个轨迹点的位置之间的差异调整所述预训练模型的网络参数，得到路径表征模型。2.根据权利要求1所述的方法，其中，所述方法还包括：获取样本集，其中，所述样本集中的样本包括样本轨迹和标签；将所述样本集中的样本轨迹和标签分别作为所述路径表征模型输入和期望输出，对所述路径表征模型进行有监督训练。3.根据权利要求2所述的方法，其中，所述方法还包括：对于样本集中样本轨迹的总持续时间超过预定值的目标样本轨迹，将所述目标样本轨迹按预定时间间隔切割成至少一个片段；对于每个目标样本轨迹，将该目标样本轨迹的至少一个片段输入所述路径表征模型得到该目标样本轨迹的每个片段的表征；对于每个目标样本轨迹，将每个片段的表征构建成该目标样本轨迹的序列，将所述序列和每个片段对应的时间标识输入序列模型中，输出该目标样本轨迹的序列表征。4.根据权利要求3所述的方法，其中，所述方法还包括：将每个目标样本轨迹的序列表征输出预测模型，得到每个目标样本轨迹的预测结果；根据每个目标样本轨迹的预测结果与对应的标签的差异调整所述序列模型的网络参数。5.根据权利要求2所述的方法，其中，所述标签包括以下至少一种：路径类别标签、异常事件标签、下个位置标签和日程标签。6.根据权利要求1-5中任一项所述的方法，其中，所述方法还包括：根据掩码规则将所述至少一个用户的至少一个轨迹点中部分轨迹点的用户途经的地点掩盖，得到至少一个掩码轨迹点；将所述至少一个掩码轨迹点输入预训练模型，得到掩码位置；根据所述掩码位置和所述掩码规则之间的差异调整所述预训练模型的网络参数，得到路径表征模型。7.一种输出信息的方法，包括：获取待分析的用户轨迹信息；将所述用户轨迹信息输入根据权利要求1-6中任一项所述的方法生成的路径表征模型，输出路径表征；将所述路径表征输入预测模型，输出预测结果。8.根据权利要求7所述的方法，其中，所述预测结果包括以下至少一种：路径类别、异常事件、下个位置、日程。9.一种训练路径表征模型的装置，包括：获取单元，被配置成获取至少一个用户的至少一个轨迹点，其中，每个用户的每个轨迹点包括该用户途经的地点、开始时间和持续时间；转换单元，被配置成将所述至少一个用户的至少一个轨迹点输入预训练模型，得到每个用户的轨迹表征；查询单元，被配置成对于每个用户，根据该用户的每个轨迹点的开始时间和持续时间从该用户的轨迹表征中查询出每个轨迹点的位置；调整单元，被配置成根据每个用户途经的地点和查询出的每个轨迹点的位置之间的差异调整所述预训练模型的网络参数，得到路径表征模型。10.根据权利要求9所述的装置，其中，所述装置还包括训练单元，被配置成：获取样本集，其中，所述样本集中的样本包括样本轨迹和标签；将所述样本集中的样本轨迹和标签分别作为所述路径表征模型输入和期望输出，对所述路径表征模型进行有监督训练。11.根据权利要求10所述的装置，其中，所述转换单元进一步被配置成：对于样本集中样本轨迹的总持续时间超过预定值的目标样本轨迹，将所述目标样本轨迹按预定时间间隔切割成至少一个片段；对于每个目标样本轨迹，将该目标样本轨迹的至少一个片段输入所述路径表征模型得到该目标样本轨迹的每个片段的表征；对于每个目标样本轨迹，将每个片段的表征构建成该目标样本轨迹的序列，将所述序列和每个片段对应的时间标识输入序列模型中，输出该目标样本轨迹的序列表征。12.根据权利要求11所述的装置，其中，所述训练单元进一步被配置成：将每个目标样本轨迹的序列表征输出预测模型，得到每个目标样本轨迹的预测结果；根据每个目标样本轨迹的预测结果与对应的标签的差异调整所述序列模型的网络参数。13.根据权利要求10所述的装置，其中，所述标签包括以下至少一种：路径类别标签、异常事件标签、下个位置标签和日程标签。14.根据权利要求9-13中任一项所述的装置，其中，所述装置还包括掩码单元，被配置成：根据掩码规则将所述至少一个用户的至少一个轨迹点中部分轨迹点的用户途经的地点掩盖，得到至少一个掩码轨迹点；将所述至少一个掩码轨迹点输入预训练模型，得到掩码位置；根据所述掩码位置和所述掩码规则之间的差异调整所述预训练模型的网络参数，得到路径表征模型。15.一种输出信息的装置，包括：获取单元，被配置成获取待分析的用户轨迹信息；转换单元，被配置成将所述用户轨迹信息输入根据权利要求9-14中任一项所述的装置生成的路径表征模型，输出路径表征；预测单元，被配置成将所述路径表征输入预测模型，输出预测结果。16.根据权利要求15所述的装置，其中，所述预测结果包括以下至少一种：路径类别、异常事件、下个位置、日程。17.一种电子设备，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-8中任一项所述的方法。18.一种存储有计算机指令的非瞬时计算机可读存储介质，其中，所述计算机指令用于使所述计算机执行根据权利要求1-8中任一项所述的方法。19.一种计算机程序产品，包括计算机程序，所述计算机程序在被处理器执行时实现根据权利要求1-8中任一项所述的方法。
说明书desc
技术领域本公开涉及人工智能领域，尤其涉及大数据分析领域，具体为一种训练路径表征模型的方法和装置以及一种输出信息的方法和装置。背景技术路径表征技术是指将运动路径转化成可以表示路径特点的向量的技术，这一向量可以用于与活动路径有关的各种任务中。当今大数据分析技术高速发展，如何对人的各种信息进行表征成为数据分析和个性化服务的基础。而人员路径可以充分反应人的活动情况和行为模型，对于信息表征是十分重要的方面。如对于人员下一步活动的预测，根据行为对人员身份进行估计等等都需要路径的表征信息。如何获取广泛的路径数据，合理准确的表征人员路径就成为亟待解决的问题。发明内容本公开提供了一种训练路径表征模型、输出信息的方法、装置、设备、存储介质以及计算机程序产品。根据本公开的第一方面，提供了一种训练路径表征模型的方法，包括：获取至少一个用户的至少一个轨迹点，其中，每个用户的每个轨迹点包括该用户途经的地点、开始时间和持续时间；将所述至少一个用户的至少一个轨迹点输入预训练模型，得到每个用户的轨迹表征；对于每个用户，根据该用户的每个轨迹点的开始时间和持续时间从该用户的轨迹表征中查询出每个轨迹点的位置；根据每个用户途经的地点和查询出的每个轨迹点的位置之间的差异调整所述预训练模型的网络参数，得到路径表征模型。根据本公开的第二方面，提供了一种输出信息的方法，包括：获取待分析的用户轨迹信息；将所述用户轨迹信息输入根据第一方面所述的方法生成的路径表征模型，输出路径表征；将所述路径表征输入预测模型，输出预测结果。根据本公开的第三方面，提供了一种训练路径表征模型的装置，包括：获取单元，被配置成获取至少一个用户的至少一个轨迹点，其中，每个用户的每个轨迹点包括该用户途经的地点、开始时间和持续时间；转换单元，被配置成将所述至少一个用户的至少一个轨迹点输入预训练模型，得到每个用户的轨迹表征；查询单元，被配置成对于每个用户，根据该用户的每个轨迹点的开始时间和持续时间从该用户的轨迹表征中查询出每个轨迹点的位置；调整单元，被配置成根据每个用户途经的地点和查询出的每个轨迹点的位置之间的差异调整所述预训练模型的网络参数，得到路径表征模型。根据本公开的第四方面，提供了一种输出信息的装置，包括：获取单元，被配置成获取待分析的用户轨迹信息；转换单元，被配置成将所述用户轨迹信息输入根据第二方面所述的装置生成的路径表征模型，输出路径表征；预测单元，被配置成将所述路径表征输入预测模型，输出预测结果。根据本公开的第五方面，提供了一种电子设备，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行第一方面所述的方法。根据本公开的第六方面，提供了一种存储有计算机指令的非瞬时计算机可读存储介质，其中，所述计算机指令用于使所述计算机执行第一方面所述的方法。根据本公开的第七方面，提供了一种计算机程序产品，包括计算机程序，所述计算机程序在被处理器执行时实现第一方面所述的方法。本公开实施例提供的训练路径表征模型、输出信息的方法和装置，通过将连续不变的轨迹变为一个包含地点，开始时间和持续时间的轨迹点进行建模，可以提高建模效率，增强语义表征。这些表征可以直接用于各种分析预测任务，提高了预测的准确性。应当理解，本部分所描述的内容并非旨在标识本公开的实施例的关键或重要特征，也不用于限制本公开的范围。本公开的其它特征将通过以下的说明书而变得容易理解。附图说明附图用于更好地理解本方案，不构成对本公开的限定。其中：图1是本公开可以应用于其中的示例性系统架构图；图2是根据本公开训练路径表征模型的方法的一个实施例的流程图；图3a、3b是根据本公开训练路径表征模型的方法的应用场景的示意图；图4是根据本公开输出信息的方法的一个实施例的流程图；图5是根据本公开训练路径表征模型的装置的一个实施例的结构示意图；图6是根据本公开输出信息的装置的一个实施例的结构示意图；图7是适于用来实现本公开实施例的电子设备的计算机系统的结构示意图。具体实施方式以下结合附图对本公开的示范性实施例做出说明，其中包括本公开实施例的各种细节以助于理解，应当将它们认为仅仅是示范性的。因此，本领域普通技术人员应当认识到，可以对这里描述的实施例做出各种改变和修改，而不会背离本公开的范围和精神。同样，为了清楚和简明，以下的描述中省略了对公知功能和结构的描述。图1示出了可以应用本公开实施例的训练路径表征模型的方法、训练路径表征模型的装置、输出信息的方法或输出信息的装置的示例性系统架构100。如图1所示，系统架构100可以包括终端101、102，网络103、数据库服务器104和服务器105。网络103用以在终端101、102，数据库服务器104与服务器105之间提供通信链路的介质。网络103可以包括各种连接类型，例如有线、无线通信链路或者光纤电缆等等。用户110可以使用终端101、102通过网络103与服务器105进行交互，以接收或发送消息等。终端101、102上可以安装有各种客户端应用，例如模型训练类应用、轨迹分析类应用、购物类应用、支付类应用、网页浏览器和即时通讯工具等。这里的终端101、102可以是硬件，也可以是软件。当终端101、102为硬件时，可以是具有无线上网功能的各种电子设备，包括但不限于智能手机、平板电脑、电子书阅读器、MP3播放器、膝上型便携计算机和台式计算机等等。当终端101、102为软件时，可以安装在上述所列举的电子设备中。其可以实现成多个软件或软件模块，也可以实现成单个软件或软件模块。在此不做具体限定。当终端101、102为硬件时，其上还可以安装有无线通信设备。无线通信设备可以是支持各种无线通信协议的设备，如wifi、nfc、rfid、蓝牙、红外线等等。可以利用终端101、102上的无线通信设备，来采集用户110的轨迹点。数据库服务器104可以是提供各种服务的数据库服务器。例如数据库服务器中可以存储有样本集。样本集中包含有大量的样本。其中，样本可以包括样本轨迹以及与样本轨迹对应的标签。这样，用户110也可以通过终端101、102，从数据库服务器104所存储的样本集中选取样本。服务器105也可以是提供各种服务的服务器，例如对终端101、102上显示的各种应用提供支持的后台服务器。后台服务器可以利用终端101、102采集的用户轨迹进行自监督的训练，得到初始的路径表征模型。再使用样本对初始的路径表征模型进行有监督的训练，得到微调后的路径表征模型。最后将路径表征模型发送给终端101、102，由终端101、102进行轨迹分析。也可将路径表征模型保存在本地，接收终端101、102发送的轨迹，对接收到的轨迹进行轨迹分析。这里的数据库服务器104和服务器105同样可以是硬件，也可以是软件。当它们为硬件时，可以实现成多个服务器组成的分布式服务器集群，也可以实现成单个服务器。当它们为软件时，可以实现成多个软件或软件模块，也可以实现成单个软件或软件模块。在此不做具体限定。数据库服务器104和服务器105也可以为分布式系统的服务器，或者是结合了区块链的服务器。数据库服务器104和服务器105也可以是云服务器，或者是带人工智能技术的智能云计算服务器或智能云主机。需要说明的是，本公开实施例所提供的训练路径表征模型的方法或输出信息的方法一般由服务器105执行。相应地，训练路径表征模型的装置或输出信息的装置一般也设置于服务器105中。需要指出的是，在服务器105可以实现数据库服务器104的相关功能的情况下，系统架构100中可以不设置数据库服务器104。应该理解，图1中的终端、网络、数据库服务器和服务器的数目仅仅是示意性的。根据实现需要，可以具有任意数目的终端、网络、数据库服务器和服务器。继续参见图2，其示出了根据本公开的训练路径表征模型的方法的一个实施例的流程200。该训练路径表征模型的方法可以包括以下步骤：步骤201，获取至少一个用户的至少一个轨迹点。在本实施例中，训练路径表征模型的方法的执行主体可以通过多种方式来获取用户的轨迹信息。轨迹信息可包括多个轨迹点，其中，每个用户的每个轨迹点包括该用户途经的地点、开始时间和持续时间。可从无线接入点的日志中获取至少一个用户的至少一个轨迹点。当用户在一个无线接入点附近停留时，其携带的移动通信设备会接入附近的无线接入点，因此无线接入点的位置可以在一定范围内反应用户的位置。特别是的在室内环境，用户接入的无线接入点可以很好的反应用户所在的区域。而无线接入点的日志数据中记录了在不同时间点接入的设备名和用户名，通过这一日志可以确定在不同时刻用户所在的位置，进而构造出用户的活动轨迹。针对不同场景的轨迹可以有不同的进一步处理方案，如对于室内场所人员的活动并不频繁，经常会出现在一个场景下待很长时间的情况。这时则将连续不变的轨迹变为一个包含地点，开始时间和持续时间的轨迹点进行建模，可以提高建模效率，增强语义表征。可选地，可从导航日志中获取至少一个用户的至少一个轨迹点。上述用户的轨迹点的获取是经过用户授权的。比如，用户设置主动连接到wifi路由器时，就已经授权wifi路由器获取用户的轨迹信息。本申请可以匿名处理用户主动接入，仅区分用户的轨迹，不获取用户的其它信息，例如用户名、性别等。步骤202，将至少一个用户的至少一个轨迹点输入预训练模型，得到每个用户的轨迹表征。在本实施例中，利用无线接入点构造的轨迹数据会得到大量的未标注轨迹，这些轨迹难以在特定的任务中进行利用，但是其中包含了大量的轨迹通用特征和每个接入点的相对位置信息。因此本申请设计了一种针对无线接入点轨迹的自监督的预训练模型让模型学习到这些通用信息，并生成可以全面表示轨迹信息的表征。针对不同的数据特点和需求，可以使用不同的模型结构，例如自注意力机制的神经网络模型Transformer；也可以使用不同的时间信息编码方法和不同的自监督训练目标。例如针对室内场景，可以使用会话形式的位置编码将每个轨迹点的开始时间和持续时间同时进行编码，而自监督目标则采用掩码预测任务和/或位置查询任务，一个用于学习不同时间点之间的关系，一个用于使轨迹表征的信息更加全面。在预训练后，可以得到每段轨迹的通用表征，这些表征可以直接用于各种分析预测任务，也可以根据目标任务的标注数据进一步微调提升任务效果。步骤203，对于每个用户，根据该用户的每个轨迹点的开始时间和持续时间从该用户的轨迹表征中查询出每个轨迹点的位置。在本实施例中，如图3a所示，展示了预训练阶段的框架，Session Trajectory是合并过连续不变地点的无线接入点轨迹序列，Session Position Embedding则是会话形式的位置编码，同时编码开始和持续时间。Transformer-D是可替换的预训练模型。R代表预训练阶段产生的轨迹表征。FC是全连接层，①是掩码预测任务，预测被盖住的位置，②是位置查询任务。本实施例中输入开始时间和持续时间的预测时间编码“1-4”和“737-1”，则查询这两个时间编码所代表的时间内人员所在的位置P1和P37。步骤204，根据每个用户途经的地点和查询出的每个轨迹点的位置之间的差异调整预训练模型的网络参数，得到路径表征模型。在本实施例中，将位置查询任务作为监督目标，实现自监督训练。即用户途经的地点相当于是真值，查询出的每个轨迹点的位置相当于预测值。根据真值和预测值之间的差异可以计算损失值。然后再根据损失值调整预训练模型的网络参数，得到路径表征模型。不断根据位置查询结果调整预训练模型的网络参数，直到损失值小于预定阈值，则路径表征模型训练完成。上述实施例通过将连续不变的轨迹变为一个包含地点，开始时间和持续时间的轨迹点进行建模，可以提高建模效率，增强语义表征。这些表征可以直接用于各种分析预测任务，提高了预测的准确性。在本实施例的一些可选地实现方式中，该方法还包括：根据掩码规则将所述至少一个用户的至少一个轨迹点中部分轨迹点的用户途经的地点掩盖，得到至少一个掩码轨迹点；将所述至少一个掩码轨迹点输入预训练模型，得到掩码位置；根据所述掩码位置和所述掩码规则之间的差异调整所述预训练模型的网络参数，得到路径表征模型。掩码规则用于指定掩盖哪个轨迹点中的地点，仅保留经过该地点的开始时间和持续时间，得到了至少一个掩码轨迹点，如图3a中MASK。预训练模型可以根据掩码轨迹点的开始时间和持续时间预测出被掩盖的地点，即掩码位置。根据预测出的掩码位置和实际掩码规则中掩盖的位置，可计算出预训练模型的损失值。然后再根据损失值调整预训练模型的网络参数，得到路径表征模型。不断根据位置查询结果调整预训练模型的网络参数，直到损失值小于预定阈值，则路径表征模型训练完成。这里涉及两个任务：位置查询任务和掩码预测任务。每种任务对应一种损失值，可将两种损失值的加权和作为总损失值，通过总损失值的梯度下降反向传播来调整预训练模型的网络参数，直到总损失值小于预定阈值，则路径表征模型训练完成。通过两种自监督任务对路径表征模型进行自监督训练，可以加快模型的收敛速度，并提高模型的准确性。此外，模型还可用于预测用户在指定时间段的位置。在本实施例的一些可选地实现方式中，该方法还包括：获取样本集，其中，所述样本集中的样本包括样本轨迹和标签；将所述样本集中的样本轨迹和标签分别作为所述路径表征模型输入和期望输出，对所述路径表征模型进行有监督训练。在预训练过后，若有任务目标的相关标注数据，则可以利用标注数据对模型参数进行进一步的微调。若目标任务所需的路径长度在计算量可接受范围内，则可以直接利用预训练的模型进行微调。样本集中的标签可以是自监督目标，也可以是其它的目标，例如，路径类别标签、异常事件标签、下个位置标签和日程标签。通过有监督地训练进一步地提高了路径表征模型的准确性，并且还可利用模型输出的路径表征实现多个任务，例如，根据轨迹预测路径类别、异常事件、下个位置、日程等。在本实施例的一些可选地实现方式中，该方法还包括：对于样本集中样本轨迹的总持续时间超过预定值的目标样本轨迹，将所述目标样本轨迹按预定时间间隔切割成至少一个片段；对于每个目标样本轨迹，将该目标样本轨迹的至少一个片段输入所述路径表征模型得到该目标样本轨迹的每个片段的表征；对于每个目标样本轨迹，将每个片段的表征构建成该目标样本轨迹的序列，将所述序列和每个片段对应的时间标识输入序列模型中，输出该目标样本轨迹的序列表征。若目标所需的路径长度过长，或者说数据须有很强的周期性，则可以使用多层次的模型结构。具体来说可以根据数据自身的周期性将输入序列切割成一个个片段，例如以天为时间间隔切割分段。然后将这些片段输入到预训练模型得到每个片段的表征，再将这些表征构建成一个序列，将新构成的序列输入具有新参数的序列模型中，最终输出全序列的表征。这一表征可以用于目标任务的分析和预测。这种方法可以提高效率，增强周期性信息的表达，同时也可以灵活应对不同长度的输入序列。图3b展示了如何在预训模型的基础上微调训练出新的多层次模型。不同片段的轨迹会通过预训练模型转化为表征，而这些表征会构成新的序列，如果片段长度为一天则是Daily Representation，然后为这个新的表征加入时间信息Position Embedding，最后通过具有全新参数的高层次模型Transformer-T获取全路径的表征，应用于多种多样的任务，如①Type Classification②AnomalyDetection③Next Location Prediction④SchedulePrediction。①表示路径分类任务，路径分类是一个普适性的任务，在不同的场景有不同的对应，如顾客类别的分类，用户的潜在属性等。②表示异常检测任务，异常检测则是可以检测路径中的异常事件，以发现风险或值得注意的特殊事件，如学生的异常行为，顾客的异常行动等等。③表示下个位置预测任务，用于预测用户下个目的地④表示日程预测任务，用于预测用户指定时间内的目的地。样本标签中标记了样本轨迹对应的用户的路径类别、异常事件、下个位置、日程，则可通过有监督训练过程学习样本轨迹的特征，得到微调的多层次模型，用于以上四种任务的预测。本实施例中利用广泛存在的无线接入点设备，使得大规模的路径表征成为可能。同时根据路径数据的特点设计出预训练模型充分利用未标注数据学习通用表征，可以灵活应用于多种任务。进一步设计了路径表征模型，可以利用目标任务的标注数据提高效果。其中多层次的模型结构可以增强周期性表达，并在长序列情况下指数级减少所需的计算量和计算空间。在本实施例的一些可选地实现方式中，该方法还包括：将每个目标样本轨迹的序列表征输出预测模型，得到每个目标样本轨迹的预测结果；根据每个目标样本轨迹的预测结果与对应的标签的差异调整所述序列模型的网络参数。根据预测结果可以不断地优化路径表征模型。该方法也可以是上述各实施例所生成的路径表征模型的实际应用方法。采用上述各实施例所生成的路径表征模型，来将轨迹点转换成向量形式的路径表征，有助于提高路径表征的性能，并减少计算量和计算空间。在本实施例的一些可选地实现方式中，标签包括以下至少一种：路径类别标签、异常事件标签、下个位置标签和日程标签。各标签对应于图3b中的任务。路径类别标签作为路径类别预测任务的真值，例如，将逛母婴用户商店的用户的轨迹收集起来打上“母婴”路径类别标签。异常事件标签作为异常事件预测任务的真值，例如，将有偷盗行为的用户的轨迹收集起来打上“偷盗”标签。下个位置标签作为下个位置预测任务的真值，例如，将下个位置为会议室的用户的轨迹收集起来打上会议室标签。日程标签作为日程任务的真值，例如，将前一天晚上加班第二天早上去会议室的用户的轨迹打上第二天开会的标签。使用多种标签的样本，可以提高模型的收敛速度，并提高模型的准确性，扩大模型的应用场景。请参见图4，其示出了本公开提供的输出信息的方法的一个实施例的流程400。该输出信息的方法可以包括以下步骤：步骤401，获取待分析的用户轨迹信息。在本实施例中，输出信息的方法的执行主体可以通过多种方式来获取检测对象的轨迹信息。例如，执行主体可以通过有线连接方式或无线连接方式，从数据库服务器中获取存储于其中的轨迹信息。再例如，执行主体也可以接收终端或其他设备采集的轨迹信息。检测对象是授权给服务器进行轨迹分析的用户。轨迹信息包括经过的地点、开始时间和持续时间。可通过提取无线接入日志的方式获取轨迹信息，也可通过其它定位方式获取轨迹信息。步骤402，将用户轨迹信息输入路径表征模型，输出路径表征。在本实施例中，执行主体可以将步骤401中获取的用户轨迹信息输入路径表征模型中，从而生成检测对象的路径表征。路径表征可以是用于描述轨迹的向量。例如路径表征可以包括经过哪些地点，以及到达地点的时间和停留时间等。在本实施例中，路径表征模型可以是采用如上述图2实施例所描述的方法而生成的。具体生成过程可以参见图2实施例的相关描述，在此不再赘述。步骤403，将路径表征输入预测模型，输出预测结果。在本实施例中，预测模型可以是分类器，或者是全连接层。用于将路径表征分类，类别可以根据样本标签来设置，例如，路径的类别、异常事件的类别等。需要说明的是，本实施例输出信息的方法可以用于测试上述各实施例所生成的路径表征模型。进而根据预测结果可以不断地优化路径表征模型。该方法也可以是上述各实施例所生成的路径表征模型的实际应用方法。采用上述各实施例所生成的路径表征模型，来进行轨迹分析，有助于提高轨迹分析的准确性。在本实施例的一些可选地实现方式中，预测结果包括以下至少一种：路径类别、异常事件、下个位置、日程。使得路径表征模型可以有广泛的应用场景，例如，为用户进行路径推荐、方便人力资源管理、分析用户行为以进行安保防护等。继续参见图5，作为对上述图2所示方法的实现，本公开提供了一种训练路径表征模型的装置的一个实施例。该装置实施例与图2所示的方法实施例相对应，该装置具体可以应用于各种电子设备中。如图5所示，本实施例的训练路径表征模型的装置500可以包括：获取单元501、转换单元502、查询单元503和调整单元504。其中，获取单元501，被配置成获取至少一个用户的至少一个轨迹点，其中，每个用户的每个轨迹点包括该用户途经的地点、开始时间和持续时间；转换单元502，被配置成将所述至少一个用户的至少一个轨迹点输入预训练模型，得到每个用户的轨迹表征；查询单元503，被配置成对于每个用户，根据该用户的每个轨迹点的开始时间和持续时间从该用户的轨迹表征中查询出每个轨迹点的位置；调整单元504，被配置成根据每个用户途经的地点和查询出的每个轨迹点的位置之间的差异调整所述预训练模型的网络参数，得到路径表征模型。在本实施例的一些可选的实现方式中，装置500还包括训练单元，被配置成：获取样本集，其中，所述样本集中的样本包括样本轨迹和标签；将所述样本集中的样本轨迹和标签分别作为所述路径表征模型输入和期望输出，对所述路径表征模型进行有监督训练。在本实施例的一些可选的实现方式中，转换单元502进一步被配置成：对于样本集中样本轨迹的总持续时间超过预定值的目标样本轨迹，将所述目标样本轨迹按预定时间间隔切割成至少一个片段；对于每个目标样本轨迹，将该目标样本轨迹的至少一个片段输入所述路径表征模型得到该目标样本轨迹的每个片段的表征；对于每个目标样本轨迹，将每个片段的表征构建成该目标样本轨迹的序列，将所述序列和每个片段对应的时间标识输入序列模型中，输出该目标样本轨迹的序列表征。在本实施例的一些可选的实现方式中，训练单元进一步被配置成：将每个目标样本轨迹的序列表征输出预测模型，得到每个目标样本轨迹的预测结果；根据每个目标样本轨迹的预测结果与对应的标签的差异调整所述序列模型的网络参数。在本实施例的一些可选的实现方式中，标签包括以下至少一种：路径类别标签、异常事件标签、下个位置标签和日程标签。在本实施例的一些可选的实现方式中，装置500还包括掩码单元，被配置成：根据掩码规则将所述至少一个用户的至少一个轨迹点中部分轨迹点的用户途经的地点掩盖，得到至少一个掩码轨迹点；将所述至少一个掩码轨迹点输入预训练模型，得到掩码位置；根据所述掩码位置和所述掩码规则之间的差异调整所述预训练模型的网络参数，得到路径表征模型。继续参见图6，作为对上述图4所示方法的实现，本公开提供了一种输出信息的装置的一个实施例。该装置实施例与图4所示的方法实施例相对应，该装置具体可以应用于各种电子设备中。如图6所示，本实施例的输出信息的装置600可以包括：获取单元601、转换单元602、预测单元603。其中，获取单元601，被配置成获取待分析的用户轨迹信息；转换单元602，被配置成将所述用户轨迹信息输入装置500生成的路径表征模型，输出路径表征；预测单元603，被配置成将所述路径表征输入预测模型，输出预测结果。在本实施例的一些可选的实现方式中，预测结果包括以下至少一种：路径类别、异常事件、下个位置、日程。本公开的技术方案中，所涉及的用户个人信息的收集、存储、使用、加工、传输、提供和公开等处理，均符合相关法律法规的规定，且不违背公序良俗。根据本公开的实施例，本公开还提供了一种电子设备、一种可读存储介质和一种计算机程序产品。一种电子设备，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行流程200或400所述的方法。一种存储有计算机指令的非瞬时计算机可读存储介质，其中，所述计算机指令用于使所述计算机执行流程200或400所述的方法。一种计算机程序产品，包括计算机程序，所述计算机程序在被处理器执行时实现流程200或400所述的方法。图7示出了可以用来实施本公开的实施例的示例电子设备700的示意性框图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本公开的实现。如图7所示，设备700包括计算单元701，其可以根据存储在只读存储器702中的计算机程序或者从存储单元708加载到随机访问存储器703中的计算机程序，来执行各种适当的动作和处理。在RAM703中，还可存储设备700操作所需的各种程序和数据。计算单元701、ROM 702以及RAM 703通过总线704彼此相连。输入/输出接口705也连接至总线704。设备700中的多个部件连接至I/O接口705，包括：输入单元706，例如键盘、鼠标等；输出单元707，例如各种类型的显示器、扬声器等；存储单元708，例如磁盘、光盘等；以及通信单元709，例如网卡、调制解调器、无线通信收发机等。通信单元709允许设备700通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。计算单元701可以是各种具有处理和计算能力的通用和/或专用处理组件。计算单元701的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的计算单元、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。计算单元701执行上文所描述的各个方法和处理，例如训练路径表征模型的方法。例如，在一些实施例中，训练路径表征模型的方法可被实现为计算机软件程序，其被有形地包含于机器可读介质，例如存储单元708。在一些实施例中，计算机程序的部分或者全部可以经由ROM 702和/或通信单元709而被载入和/或安装到设备700上。当计算机程序加载到RAM 703并由计算单元701执行时，可以执行上文描述的训练路径表征模型的方法的一个或多个步骤。备选地，在其他实施例中，计算单元701可以通过其他任何适当的方式而被配置为执行训练路径表征模型的方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本公开的方法的程序代码可以采用一个或多个编程语言的任何组合来编写。这些程序代码可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器或控制器，使得程序代码当由处理器或控制器执行时使流程图和/或框图中所规定的功能/操作被实施。程序代码可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本公开的上下文中，机器可读介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的程序。机器可读介质可以是机器可读信号介质或机器可读储存介质。机器可读介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在计算机上实施此处描述的系统和技术，该计算机具有：用于向用户显示信息的显示装置或者LCD监视器)；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给计算机。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网和互联网。计算机系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，也可以为分布式系统的服务器，或者是结合了区块链的服务器。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发公开中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本公开公开的技术方案所期望的结果，本文在此不进行限制。上述具体实施方式，并不构成对本公开保护范围的限制。本领域技术人员应该明白的是，根据设计要求和其他因素，可以进行各种修改、组合、子组合和替代。任何在本公开的精神和原则之内所作的修改、等同替换和改进等，均应包含在本公开保护范围之内。
