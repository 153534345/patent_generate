标题title
障碍物定位方法、泊车控制方法、装置和车辆
摘要abst
本发明公开了一种基于超声波传感器的障碍物定位方法、泊车控制方法、装置和车辆。所述障碍物定位方法包括：获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离；以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算所述检测组合检测到的障碍物的位置信息；根据每一所述检测组合检测到的障碍物的位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。采用本发明实施例，能有效提高对车辆周围障碍物的定位准确性，从而提升车位识别准确率，为用户出行提供便利。
权利要求书clms
1.一种基于超声波传感器的障碍物定位方法，其特征在于，包括：获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离；以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算所述检测组合检测到的障碍物的位置信息；根据每一所述检测组合检测到的障碍物的位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。2.如权利要求1所述的基于超声波传感器的障碍物定位方法，其特征在于，所述预设的定位算法为两点画圆定位算法；则，所述以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算所述检测组合检测到的障碍物的位置信息，具体为：以相邻的两个超声波传感器为一个检测组合，根据所述检测组合中两个超声波传感器检测到的障碍物距离，以及所述两个超声波传感器的位置信息，采用所述两点画圆定位算法，计算得到两圆相交的至少一交点位置信息；根据当前时刻所述车辆的位置信息和所述交点位置信息，确定所述检测组合检测到的障碍物的位置信息。3.如权利要求1所述的基于超声波传感器的障碍物定位方法，其特征在于，所述预设的定位算法为三角定位算法；则，所述以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算所述检测组合检测到的障碍物的位置信息，具体为：以相邻的两个超声波传感器为一个检测组合，根据所述检测组合中两个超声波传感器检测到的障碍物距离，以及所述两个超声波传感器的位置信息，采用所述三角定位算法，计算得到至少一个三角形的顶点位置信息；根据当前时刻所述车辆的位置信息和所述顶点位置信息，确定所述检测组合检测到的障碍物的位置信息。4.如权利要求1至3任一项所述的基于超声波传感器的障碍物定位方法，其特征在于，所述根据每一所述检测组合检测到的障碍物的位置信息，确定当前时刻所述车辆周围的障碍物的位置信息，具体包括：判断每一所述检测组合检测到的障碍物的位置信息，是否位于所述检测组合中每一超声波传感器的可探测范围所形成的相交区域内；若是，保留所述检测组合检测到的障碍物的位置信息；若否，删除所述检测组合检测到的障碍物的位置信息；根据保留的每一所述检测组合检测到的障碍物的位置信息，得到当前时刻所述车辆周围的障碍物的位置信息。5.一种基于超声波传感器的障碍物定位方法，其特征在于，包括：获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离，并对同一超声波传感器检测到的障碍物距离进行第一预设数量的覆盖存储；当检测到同一超声波传感器当前存储的第一预设数量的障碍物距离的值均相同时，根据所述同一超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，采用预设的定位算法，计算所述超声波传感器检测到的障碍物的位置信息；根据每一所述超声波传感器检测到的障碍物的位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。6.如权利要求5所述的基于超声波传感器的障碍物定位方法，其特征在于，在所述获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离，并对同一超声波传感器检测到的障碍物距离进行第一预设数量的覆盖存储之后，所述方法还包括：计算同一超声波传感器当前存储的障碍物距离中对应首尾两个时刻的车辆的位置信息的差值；若所述差值大于预设的距离阈值时，以预设的调整步长减少所述第一预设数量的值，直到所述差值小于等于所述预设的距离阈值，或所述第一预设数量等于第二预设数量；其中，所述第二预设数量小于所述第一预设数量。7.如权利要求5所述的基于超声波传感器的障碍物定位方法，其特征在于，所述预设的定位算法为两点画圆定位算法；则，所述根据所述同一超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，采用预设的定位算法，计算所述超声波传感器检测到的障碍物的位置信息，具体为：根据同一超声波传感器当前存储的首尾两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述两个不同时刻的位置信息，采用所述两点画圆定位算法，计算得到两圆相交的至少一交点位置信息；根据当前时刻所述车辆的位置信息和所述交点位置信息，确定所述超声波传感器检测到的障碍物的位置信息。8.如权利要求5所述的基于超声波传感器的障碍物定位方法，其特征在于，所述预设的定位算法为三角定位算法；则，所述根据所述同一超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，采用预设的定位算法，计算所述超声波传感器检测到的障碍物的位置信息，具体为：根据同一超声波传感器当前存储的首尾两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述两个不同时刻的位置信息，采用所述三角定位算法，计算得到至少一个三角形的顶点位置信息；根据当前时刻所述车辆的位置信息和所述顶点位置信息，确定所述检测组合检测到的障碍物的位置信息。9.如权利要求5至8任一项所述的基于超声波传感器的障碍物定位方法，其特征在于，所述根据每一所述超声波传感器检测到的障碍物的位置信息，确定当前时刻所述车辆周围的障碍物的位置信息，具体包括：根据所述超声波传感器检测到的障碍物的位置信息，确定另一超声波传感器的位置信息，以使所述障碍物的位置信息位于所述超声波传感器和所述另一超声波传感器在同一时刻的可探测范围所形成的相交区域内；其中，所述时刻为所述当前存储的至少两个不同时刻中的任意一个；判断所述超声波传感器检测到的障碍物的位置信息与所述另一超声波传感器的位置信息之间的距离，是否大于所述另一超声波传感器在所述时刻检测到的障碍物距离；若是，保留所述超声波传感器检测到的障碍物的位置信息；若否，删除所述超声波传感器检测到的障碍物的位置信息；根据保留的每一所述超声波传感器检测到的障碍物的位置信息，得到当前时刻所述车辆周围的障碍物的位置信息。10.一种基于超声波传感器的障碍物定位方法，其特征在于，包括：获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离，并对同一超声波传感器检测到的障碍物距离进行第一预设数量的覆盖存储；以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算所述检测组合检测到的障碍物的位置信息，作为第一障碍物位置信息；当检测到同一超声波传感器当前存储的第一预设数量的障碍物距离的值均相同时，根据所述同一超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，采用预设的定位算法，计算所述超声波传感器检测到的障碍物的位置信息，作为第二障碍物位置信息；根据每一所述第一障碍物位置信息和每一所述第二障碍物位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。11.如权利要求10所述的基于超声波传感器的障碍物定位方法，其特征在于，在所述获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离，并对同一超声波传感器检测到的障碍物距离进行第一预设数量的覆盖存储之后，所述方法还包括：计算同一超声波传感器当前存储的障碍物距离中对应首尾两个时刻的车辆的位置信息的差值；若所述差值大于预设的距离阈值时，以预设的调整步长减少所述第一预设数量的值，直到所述差值小于等于所述预设的距离阈值，或所述第一预设数量等于第二预设数量；其中，所述第二预设数量小于所述第一预设数量。12.如权利要求10所述的基于超声波传感器的障碍物定位方法，其特征在于，所述预设的定位算法为两点画圆定位算法或三角定位算法。13.一种泊车控制方法，其特征在于，包括：获取当前时刻车辆的位置信息；检测当前时刻所述车辆周围的障碍物的位置信息；其中，所述车辆周围的障碍物的位置信息采用如权利要求1至12任一项所述的基于超声波传感器的障碍物定位方法检测得到；根据所述车辆的位置信息和所述车辆周围的障碍物的位置信息，控制所述车辆执行泊车操作。14.一种泊车控制装置，其特征在于，包括：车辆位置信息获取模块，用于获取当前时刻车辆的位置信息；障碍物定位检测模块，用于检测当前时刻所述车辆周围的障碍物的位置信息；其中，所述车辆周围的障碍物的位置信息采用如权利要求1至12任一项所述的基于超声波传感器的障碍物定位方法检测得到；泊车操作控制模块，用于根据所述车辆的位置信息和所述车辆周围的障碍物的位置信息，控制所述车辆执行泊车操作。15.如权利要求14所述的泊车控制装置，其特征在于，所述泊车控制装置集成在车辆的ADAS域控制器中。16.一种车辆，其特征在于，包括：若干个超声波雷达传感器，以及泊车控制装置；其中，所述泊车控制装置用于执行如权利要求13所述的一种泊车控制方法。
说明书desc
技术领域本发明涉及车辆控制技术领域，尤其涉及一种基于超声波传感器的障碍物定位方法、泊车控制方法、装置和车辆。背景技术高级辅助驾驶对车辆驾驶者出行带来极大的便利，可以增加车主使用车辆的安全性和智能性，目前越来越多的车辆已经了安装自动泊车系统。车辆的自动泊车算法依赖于对周围障碍物的定位，然而，目前的泊车系统一般只能泊入大于自车尺寸加1m的车位，对周围障碍物的识别定位还不够精准，无法精确修正车位，导致车位识别准确率不高。当泊车系统在搜索或泊入过程中提示未识别车位或泊车失败，会指示用户自行泊出或再行寻找车位，增加了人力成本，影响用户的用车体验。发明内容本发明实施例的目的是提供一种基于超声波传感器的障碍物定位方法、泊车控制方法、装置和车辆，能有效提高对车辆周围障碍物的定位准确性，从而提升车位识别准确率，为用户出行提供便利。为实现上述目的，本发明实施例提供了一种基于超声波传感器的障碍物定位方法，包括：获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离；以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算所述检测组合检测到的障碍物的位置信息；根据每一所述检测组合检测到的障碍物的位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。与现有技术相比，本发明实施例公开的基于超声波传感器的障碍物定位方法，当车辆在行驶过程中逐渐逼近障碍物时，根据相邻的多个超声波传感器检测到的障碍物距离来实现对障碍物的定位检测，能够有效提高检测车辆周围的障碍物的位置信息的精准性。本发明实施例还提供了另一种基于超声波传感器的障碍物定位方法，包括：获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离，并对同一超声波传感器检测到的障碍物距离进行第一预设数量的覆盖存储；当检测到同一超声波传感器当前存储的第一预设数量的障碍物距离的值均相同时，根据所述同一超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，采用预设的定位算法，计算所述超声波传感器检测到的障碍物的位置信息；根据每一所述超声波传感器检测到的障碍物的位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。与现有技术相比，本发明实施例公开的基于超声波传感器的障碍物定位方法，当车辆在行驶过程中扫过障碍物时，根据同一超声波传感器在连续时间内检测到的多个相同的障碍物距离，来实现对障碍物的定位检测，能够有效提高检测车辆周围的障碍物的位置信息的精准性。本发明实施例还提供了另一种基于超声波传感器的障碍物定位方法，包括：获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离，并对同一超声波传感器检测到的障碍物距离进行第一预设数量的覆盖存储；以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算所述检测组合检测到的障碍物的位置信息，作为第一障碍物位置信息；当检测到同一超声波传感器当前存储的第一预设数量的障碍物距离的值均相同时，根据所述同一超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，采用预设的定位算法，计算所述超声波传感器检测到的障碍物的位置信息，作为第二障碍物位置信息；根据每一所述第一障碍物位置信息和每一所述第二障碍物位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。与现有技术相比，本发明实施例公开的基于超声波传感器的障碍物定位方法，当车辆在行驶过程中逐渐逼近障碍物时，根据相邻的多个超声波传感器检测到的障碍物距离来实现对障碍物的定位检测；当车辆在行驶过程中扫过障碍物时，根据同一超声波传感器在连续时间内检测到的多个相同的障碍物距离，来实现对障碍物的定位检测。采用本发明实施例，对于装配有多颗超声波传感器的车辆，将超声波传感器扫描障碍物过程中车辆的运动类型分为逼近障碍物和扫过障碍物两种，对应每种运动状态，分别应用不同的传感器回波取值策略，以提供更准确的障碍物定位结果，能够有效提高检测车辆周围的障碍物的位置信息的精准性。本发明实施例提供了一种泊车控制方法，包括：获取当前时刻车辆的位置信息；检测当前时刻所述车辆周围的障碍物的位置信息；其中，所述车辆周围的障碍物的位置信息采用如上述任一项所述的基于超声波传感器的障碍物定位方法检测得到；根据所述车辆的位置信息和所述车辆周围的障碍物的位置信息，控制所述车辆执行泊车操作。本发明实施例提供了一种泊车控制装置，包括：车辆位置信息获取模块，用于获取当前时刻车辆的位置信息；障碍物定位检测模块，用于检测当前时刻所述车辆周围的障碍物的位置信息；其中，所述车辆周围的障碍物的位置信息采用如上述任一项所述的基于超声波传感器的障碍物定位方法检测得到；泊车操作控制模块，用于根据所述车辆的位置信息和所述车辆周围的障碍物的位置信息，控制所述车辆执行泊车操作。本发明实施例提供了一种车辆，包括：若干个超声波雷达传感器，以及泊车控制装置；其中，所述泊车控制装置用于执行如上述所述的一种泊车控制方法。附图说明图1是本发明实施例一提供的一种基于超声波传感器的障碍物定位方法的流程示意图；图2是本发明实施例中车辆逼近障碍物的场景的示意图；图3是本发明实施例二提供的一种基于超声波传感器的障碍物定位方法的流程示意图；图4是本发明实施例中车辆扫过障碍物的场景的示意图；图5是本发明实施例三提供的一种基于超声波传感器的障碍物定位方法的流程示意图；图6是本发明实施例四提供的一种泊车控制方法的流程示意图；图7是本发明实施例五提供的一种泊车控制装置的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。参见图1，是本发明实施例一提供的一种基于超声波传感器的障碍物定位方法的流程示意图。本发明实施例提供了一种基于超声波传感器的障碍物定位方法，通过步骤S11至S13执行：S11、获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离；S12、以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算所述检测组合检测到的障碍物的位置信息；S13、根据每一所述检测组合检测到的障碍物的位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。在本发明实施例中，所述车辆上预先配置有若干个超声波传感器，用于实现障碍物距离的检测。所述超声波传感器的配置个数和安装位置可以根据实际情况设置，不构成对本方案的具体限定。优选地，所述超声波传感器的配置个数为12个，并划分为4组，分别安装于车辆的前方右侧、前方左侧、后方右侧和后方左侧的位置。每一所述超声波传感器在其收发波周期内发射探测声波，并接收所述探测声波在遇到障碍物之后返回的回波，根据发射声波的时间和接收回波的时间，可以计算得到该超声波传感器检测到的障碍物与该超声波传感器之间的距离，也即所述障碍物距离。参见图2，是本发明实施例中车辆逼近障碍物的场景的示意图。图中车辆上的实点表示当前时刻超声波传感器的位置点，虚点表示下一时刻超声波传感器的位置点。当车辆在行驶过程中逐渐逼近障碍物时，靠近障碍物的距离从大到小，会出现相邻的多个超声波传感器同时检测到同一障碍物的小范围区域的情况。因此，在本发明实施例中，利用相邻的至少两个超声波传感器同时检测到的障碍物距离，来实现对车辆逼近障碍物过程中的障碍物定位。具体地，当所述车辆上任一超声波传感器检测并计算得到障碍物距离时，接收所述超声波传感器返回的障碍物距离值。获取所述车辆上在当前时刻有检测到障碍物的每一超声波传感器返回的障碍物距离，以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算得到所述检测组合中的超声波传感器共同检测到的障碍物的位置信息。需要说明的是，所述检测组合中包括的相邻的至少两个超声波传感器可以预先指定，作为举例，当所述检测组合包括的超声波传感器为两个时，可能的组合方式有：车辆后方单边的侧雷达和其相邻的角雷达、车辆后方单边的角雷达和其相邻的中间雷达、车辆后方中间的两颗雷达。结合在当前时刻的每一所述检测组合检测到的障碍物的位置信息，得到当前时刻所述车辆周围的所有障碍物的位置信息。根据检测到的所述障碍物的位置信息，可以用于执行相应的自动泊车控制、遥控泊车控制或辅助驾驶控制等。本发明实施例一提供了一种基于超声波传感器的障碍物定位方法，以车辆上相邻的多个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，来计算车辆周围的障碍物的位置信息。采用本发明实施例的技术手段，当车辆在行驶过程中逐渐逼近障碍物时，根据相邻的多个超声波传感器检测到的障碍物距离来实现对障碍物的定位检测，能够有效提高检测车辆周围的障碍物的位置信息的精准性。作为优选的实施方式，在步骤S12中，当设置所述检测组合中包括的相邻的超声波传感器的数量为两个时，所述预设的定位算法为：两点画圆定位算法或三角定位算法。具体地，在一种实施方式下，所述预设的定位算法为两点画圆定位算法。则步骤S12具体通过步骤S1211至S1212执行：S1211、以相邻的两个超声波传感器为一个检测组合，根据所述检测组合中两个超声波传感器检测到的障碍物距离，以及所述两个超声波传感器的位置信息，采用所述两点画圆定位算法，计算得到两圆相交的至少一交点位置信息；S1212、根据当前时刻所述车辆的位置信息和所述交点位置信息，确定所述检测组合检测到的障碍物的位置信息。需要说明的是，所述超声波传感器的位置信息指的是超声波传感器的安装位置对应到全局坐标系下的坐标。作为举例，在当前时刻，某一检测组合中相邻的两颗超声波传感器检测到的两个障碍物距离值分别为180cm和190cm，此时两颗超声波传感器的安装位置是不同的，根据安装位置对应的全局坐标系下坐标，画两个以各自安装位置为圆心，半径为各自检测到的障碍物距离值的圆。通常情况下，两个圆会出现两个交点，一个交点位于靠近车身的一侧，另一个交点位于远离车身的一侧。根据当前时刻所述车辆的位置信息，确定远离车身的交点，则该点就是定位出的障碍物的位置信息。在另一种实施方式下，所述预设的定位算法为三角定位算法。则步骤S12具体通过步骤S1221至S1222执行：S1221、以相邻的两个超声波传感器为一个检测组合，根据所述检测组合中两个超声波传感器检测到的障碍物距离，以及所述两个超声波传感器的位置信息，采用所述三角定位算法，计算得到至少一个三角形的顶点位置信息；S1222、根据当前时刻所述车辆的位置信息和所述顶点位置信息，确定所述检测组合检测到的障碍物的位置信息。作为举例，在当前时刻，某一检测组合中相邻的两颗超声波传感器检测到的两个障碍物距离值分别为180cm和190cm，根据两颗超声波传感器的安装位置对应的全局坐标系下坐标，计算两颗超声波传感器之间的距离值，利用三角几何原理，可以得到以两颗超声波传感器的安装位置为顶点的三角形。根据三角形中除两颗超声波传感器之外另一顶点，再结合当前时刻所述车辆的位置信息，可以确定得到远离车身的顶点为定位出的障碍物的位置信息。作为优选的实施方式，在步骤S13中，通过对当前时刻每一所述检测组合检测到的障碍物的位置信息进行审核，以判断检测到的障碍物的位置信息是否为真实存在的障碍物的位置信息，从而有效避免由于计算误差导致的对障碍物的错误定位。步骤S13具体通过步骤S131至S133执行。S131、判断每一所述检测组合检测到的障碍物的位置信息，是否位于所述检测组合中每一超声波传感器的可探测范围所形成的相交区域内；S132、若是，保留所述检测组合检测到的障碍物的位置信息；若否，删除所述检测组合检测到的障碍物的位置信息；S133、根据保留的每一所述检测组合检测到的障碍物的位置信息，得到当前时刻所述车辆周围的障碍物的位置信息。具体地，参见图2，每一超声波传感器在探测过程中，会形成一个扇形的探测视野，也即所述可探测范围。在某一检测组合中的两颗超声波传感器检测到一障碍物的位置信息之后，根据所述障碍物的位置信息，判断是否位于所述两个超声波传感器在全局坐标系下的可探测范围所形成的相交区域内。若是，表明检测到的该障碍物的位置信息为真实的障碍点，则保留。若否，表明检测到的该障碍物的位置信息为错误的障碍点，则丢弃。根据保留下来的障碍物的位置信息，作为当前时刻所述车辆周围的障碍物的位置信息，以此提高对检测到的障碍物的位置信息的审核准确性。参见图3，是本发明实施例二提供的一种基于超声波传感器的障碍物定位方法的流程示意图。本发明实施例提供了一种基于超声波传感器的障碍物定位方法，通过步骤S21至S23执行：S21、获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离，并对同一超声波传感器检测到的障碍物距离进行第一预设数量的覆盖存储；S22、当检测到同一超声波传感器当前存储的第一预设数量的障碍物距离的值均相同时，根据所述同一超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，采用预设的定位算法，计算所述超声波传感器检测到的障碍物的位置信息；S23、根据每一所述超声波传感器检测到的障碍物的位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。参见图4，是本发明实施例中车辆扫过障碍物的场景的示意图。图中车辆上的虚点表示上一时刻超声波传感器的位置点，实点表示当前时刻超声波传感器的位置点。当车辆在行驶过程中扫过障碍物时，车辆距离障碍物的距离基本相同，会出现同一颗超声波传感器在连续时间内检测到同一障碍物的小范围区域的情况。因此，在本发明实施例中，利用同一颗超声波传感器在至少两个不同时刻检测到的障碍物距离，来实现对车辆扫过障碍物过程中的障碍物定位。具体地，当所述车辆上任一超声波传感器检测并计算得到障碍物距离时，接收所述超声波传感器返回的障碍物距离值，并进行存储。针对每一颗超声波传感器，存储的障碍物距离值的数量为所述第一预设数量，例如30个，当存储的障碍物距离的数量达到30个之后，再接收到当前收发周期检测到的障碍物距离值时，将存储的第一个障碍物距离进行删除，并存储当前接收到的障碍物距离值。进一步地，当出现某一超声波传感器当前存储的多个的障碍物距离的值均相同时，判定当前所述车辆处于扫过障碍物的场景。则根据该超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，采用预设的定位算法，计算所述超声波传感器检测到的障碍物的位置信息。需要说明的是，所述至少两个不同时刻可以预先指定，例如，当以两个不同时刻检测到的障碍物距离进行计算时，所述两个不同时刻可以为当前存储的首尾两个不同时刻，也即当前存储的数据中的第一个数据和最后一个数据。结合在当前时刻的每一所述检测组合检测到的障碍物的位置信息，得到当前时刻所述车辆周围的所有障碍物的位置信息。根据检测到的所述障碍物的位置信息，可以用于执行相应的自动泊车控制、遥控泊车控制或辅助驾驶控制等。本发明实施例二提供了一种基于超声波传感器的障碍物定位方法，通过接收每一超声波传感器检测到的障碍物距离并进行一定数量的覆盖存储，当检测到同一超声波传感器当前存储的第一预设数量的障碍物距离的值均相同时，根据所述同一超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，来计算车辆周围的障碍物的位置信息。采用本发明实施例的技术手段，当车辆在行驶过程中扫过障碍物时，根据同一超声波传感器在连续时间内检测到的多个相同的障碍物距离，来实现对障碍物的定位检测，能够有效提高检测车辆周围的障碍物的位置信息的精准性。作为优选的实施方式，在步骤S22中，当采用当前存储的两个不同时刻的障碍物距离来进行障碍点计算时，所述预设的定位算法为：两点画圆定位算法或三角定位算法。具体地，在一种实施方式下，所述预设的定位算法为两点画圆定位算法；则步骤S22具体通过步骤S2211至S2212执行：S2211、根据同一超声波传感器当前存储的首尾两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述两个不同时刻的位置信息，采用所述两点画圆定位算法，计算得到两圆相交的至少一交点位置信息；S2212、根据当前时刻所述车辆的位置信息和所述交点位置信息，确定所述超声波传感器检测到的障碍物的位置信息。作为举例，某一连续检测到相同的障碍物距离值的超声波传感器，其当前存储的第一个障碍物距离值和最后一个障碍物距离值分别为180cm和190cm，该超声波传感器在所述首尾两个不同时刻的安装位置对应的全局坐标系下坐标是不同的，画两个以两个时刻的安装位置为圆心，半径为两个时刻检测到的障碍物距离值的圆。通常情况下，两个圆会出现两个交点，一个交点位于靠近车身的一侧，另一个交点位于远离车身的一侧。根据当前时刻所述车辆的位置信息，确定远离车身的交点，则该点就是定位出的障碍物的位置信息。在另一种实施方式下，所述预设的定位算法为三角定位算法；则步骤S22具体通过步骤S2221至S2222执行：S2221、根据同一超声波传感器当前存储的首尾两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述两个不同时刻的位置信息，采用所述三角定位算法，计算得到至少一个三角形的顶点位置信息；S2221、根据当前时刻所述车辆的位置信息和所述顶点位置信息，确定所述检测组合检测到的障碍物的位置信息。作为举例，某一连续检测到相同的障碍物距离值的超声波传感器，其当前存储的第一个障碍物距离值和最后一个障碍物距离值分别为180cm和190cm，根据所述超声波传感器在所述首尾两个不同时刻的安装位置对应的全局坐标系下的坐标，利用三角几何原理，可以得到以两个安装位置为顶点的三角形。根据三角形中除两个安装位置之外另一顶点，再结合当前时刻所述车辆的位置信息，可以确定得到远离车身的顶点为定位出的障碍物的位置信息。作为优选的实施方式，为了提高当前存储的障碍物距离值用于计算障碍物的位置信息的准确性，本发明实施例对当前存储的障碍物距离进行筛选操作。具体地，在步骤S21之后，在步骤S22之前，所述方法还包括步骤S24至S25：S24、计算同一超声波传感器当前存储的障碍物距离中对应首尾两个时刻的车辆的位置信息的差值；S25、若所述差值大于预设的距离阈值时，以预设的调整步长减少所述第一预设数量的值，直到所述差值小于等于所述预设的距离阈值，或所述第一预设数量等于第二预设数量；其中，所述第二预设数量小于所述第一预设数量。在本发明实施例中，根据同一超声波传感器当前存储的数据中，检测第一个障碍物距离的时刻对应的车辆的位置信息，以及检测最后一个障碍物距离的时刻对应的车辆的位置信息，计算两者的差值。当所述差值大于预设的距离阈值时，表明该时间段内所述车辆的车速过快，存储的首尾两个时刻对应的障碍物距离值不满足两点画圆定位算法和三角定位算法适应的相邻点最小允许值。因此，需要减少所述第一预设数量，也即减少存储的障碍物距离的数量，以保证首尾两个时刻对应的障碍物距离值能够满足两点画圆定位算法和三角定位算法适应的相邻点最小允许值。需要说明的是，当存储的障碍物距离的数量减少到一定数量，也即所述第二预设数量后，则不再进行第一预设数量的调整。所述第二预设数量可以根据实际情况进行设定，例如5个。作为优选的实施方式，在步骤S23中，通过对每一所述超声波传感器检测到的障碍物的位置信息进行审核，以判断检测到的障碍物的位置信息是否为真实存在的障碍物的位置信息，从而有效避免由于计算误差导致的对障碍物的错误定位。步骤S23具体通过步骤S231至S234执行。S231、根据所述超声波传感器检测到的障碍物的位置信息，确定另一超声波传感器的位置信息，以使所述障碍物的位置信息位于所述超声波传感器和所述另一超声波传感器在同一时刻的可探测范围所形成的相交区域内；其中，所述时刻为所述当前存储的至少两个不同时刻中的任意一个；S232、判断所述超声波传感器检测到的障碍物的位置信息与所述另一超声波传感器的位置信息之间的距离，是否大于所述另一超声波传感器在所述时刻检测到的障碍物距离；S233、若是，保留所述超声波传感器检测到的障碍物的位置信息；若否，删除所述超声波传感器检测到的障碍物的位置信息；S234、根据保留的每一所述超声波传感器检测到的障碍物的位置信息，得到当前时刻所述车辆周围的障碍物的位置信息。具体地，在不同的两个时刻，同一颗超声波传感器A在全局坐标系下有两个安装位置坐标，选取任意的一个时刻，根据已经计算出的障碍物的位置信息的全局坐标，若该障碍物的位置信息点在选取时刻位于超声波传感器A和超声波传感器B的可探测范围所形成的相交区域内，则计算障碍物的位置信息与超声波传感器B的安装位置的全局坐标之间的距离，若该距离小于选取时刻超声波传感器B检测到的障碍物距离值，则表明定位错误，丢弃该点；若该距离值大于选取时刻超声波传感器B检测到的障碍物距离值，则保留该点。根据保留下来的障碍物的位置信息，作为当前时刻所述车辆周围的障碍物的位置信息，以此提高对检测到的障碍物的位置信息的审核准确性。参见图5，是本发明实施例三提供的一种基于超声波传感器的障碍物定位方法的流程示意图。本发明实施例提供了一种基于超声波传感器的障碍物定位方法，通过步骤S31至S34执行：S31、获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离，并对同一超声波传感器检测到的障碍物距离进行第一预设数量的覆盖存储；S32、以相邻的至少两个超声波传感器为一个检测组合，根据所述检测组合中每一超声波传感器检测到的障碍物距离，以及所述检测组合中每一超声波传感器的位置信息，采用预设的定位算法，计算所述检测组合检测到的障碍物的位置信息，作为第一障碍物位置信息；S33、当检测到同一超声波传感器当前存储的第一预设数量的障碍物距离的值均相同时，根据所述同一超声波传感器当前存储的至少两个不同时刻检测到的障碍物距离，以及所述超声波传感器在所述至少两个不同时刻的位置信息，采用预设的定位算法，计算所述超声波传感器检测到的障碍物的位置信息，作为第二障碍物位置信息；S33、根据每一所述第一障碍物位置信息和每一所述第二障碍物位置信息，确定当前时刻所述车辆周围的障碍物的位置信息。需要说明的是，当车辆在行驶过程中，会遇到逼近障碍物和扫过障碍物的情况，作为举例，在一次泊车中，车辆会先扫过车位一边的障碍物，之后继续向后倒车，车辆会逼近第二边的障碍物，最终在靠近第二边的障碍物之前停止。在本发明实施例中，通过获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离并进行存储，利用相邻的至少两个超声波传感器同时检测到的障碍物距离，来实现对车辆逼近障碍物过程中的障碍物定位；并利用同一颗超声波传感器在至少两个不同时刻检测到的障碍物距离，来实现对车辆扫过障碍物过程中的障碍物定位。优选地，所述预设的定位算法为两点画圆定位算法或三角定位算法。作为优选的实施方式，为了提高当前存储的障碍物距离值用于计算所述第二障碍物位置信息的准确性，本发明实施例对当前存储的障碍物距离进行筛选操作。具体地，在步骤S31之后，在步骤S33之前，所述方法还包括步骤S35至S36：S35、计算同一超声波传感器当前存储的障碍物距离中对应首尾两个时刻的车辆的位置信息的差值；S36、若所述差值大于预设的距离阈值时，以预设的调整步长减少所述第一预设数量的值，直到所述差值小于等于所述预设的距离阈值，或所述第一预设数量等于第二预设数量；其中，所述第二预设数量小于所述第一预设数量。在本发明实施例中，根据同一超声波传感器当前存储的数据中，检测第一个障碍物距离的时刻对应的车辆的位置信息，以及检测最后一个障碍物距离的时刻对应的车辆的位置信息，计算两者的差值。当所述差值大于预设的距离阈值时，表明该时间段内所述车辆的车速过快，存储的首尾两个时刻对应的障碍物距离值不满足两点画圆定位算法和三角定位算法适应的相邻点最小允许值。因此，需要减少所述第一预设数量，也即减少存储的障碍物距离的数量，以保证首尾两个时刻对应的障碍物距离值能够满足两点画圆定位算法和三角定位算法适应的相邻点最小允许值。需要说明的是，当存储的障碍物距离的数量减少到一定数量，也即所述第二预设数量后，则不再进行第一预设数量的调整。所述第二预设数量可以根据实际情况进行设定，例如5个。作为优选的实施方式，在步骤S34中，通过对每一所述超声波传感器检测到的障碍物的位置信息进行审核，以判断检测到的障碍物的位置信息是否为真实存在的障碍物的位置信息，从而有效避免由于计算误差导致的对障碍物的错误定位。步骤S34具体包括：S341、对每一所述第一障碍物位置信息，执行预设的第一审核操作，以保留符合对应的审核条件的第一障碍物位置信息，并删除不符合所述审核条件的第一障碍物位置信息；S342、对每一所述第二障碍物位置信息，执行预设的第二审核操作，以保留符合对应的审核条件的第二障碍物位置信息，并删除不符合所述审核条件的第二障碍物位置信息。S343、根据保留的每一所述第一障碍物位置信息和保留的每一所述第二障碍物位置信息，得到当前时刻所述车辆周围的障碍物的位置信息。优选地，所述第一审核操作具体包括：判断每一所述第一障碍物位置信息，是否位于检测所述第一障碍物位置信息对应的检测组合中每一超声波传感器的可探测范围所形成的相交区域内；若是，保留所述第一障碍物位置信息；若否，删除所述第一障碍物位置信息。优选地，所述第二审核操作具体为包括：根据所述第二障碍物位置信息，确定另一超声波传感器的位置信息，以使所述第二障碍物位置信息位于检测所述第二障碍物位置信息的超声波传感器和所述另一超声波传感器在同一时刻的可探测范围所形成的相交区域内；其中，所述时刻为所述当前存储的至少两个不同时刻中的任意一个；判断所述第二障碍物位置信息与所述另一超声波传感器的位置信息之间的距离，是否大于所述另一超声波传感器在所述时刻检测到的障碍物距离；若是，保留所述第二障碍物位置信息；若否，删除所述第二障碍物位置信息。需要说明的是，确定所述第一障碍物位置信息的具体实施方式可以参见上述实施例一提供的基于超声波传感器的障碍物定位方法，确定所述第二障碍物位置信息的具体实施方式可以参见上述实施例二提供的基于超声波传感器的障碍物定位方法，两者的工作原理和有益效果一一对应，在此不再赘述。本发明实施例三提供了一种基于超声波传感器的障碍物定位方法，当车辆在行驶过程中逐渐逼近障碍物时，根据相邻的多个超声波传感器检测到的障碍物距离来实现对障碍物的定位检测；当车辆在行驶过程中扫过障碍物时，根据同一超声波传感器在连续时间内检测到的多个相同的障碍物距离，来实现对障碍物的定位检测。采用本发明实施例，对于装配有多颗超声波传感器的车辆，将超声波传感器扫描障碍物过程中车辆的运动类型分为逼近障碍物和扫过障碍物两种，对应每种运动状态，分别应用不同的传感器回波取值策略，以提供更准确的障碍物定位结果，能够有效提高检测车辆周围的障碍物的位置信息的精准性。参见图6，是本发明实施例四提供的一种泊车控制方法的流程示意图。本发明实施例提供了一种泊车控制方法，通过步骤S41至S43执行：S41、获取当前时刻车辆的位置信息；S42、检测当前时刻所述车辆周围的障碍物的位置信息；S43、根据所述车辆的位置信息和所述车辆周围的障碍物的位置信息，控制所述车辆执行泊车操作。其中，所述车辆周围的障碍物的位置信息采用如上述实施例一至三任一实施例提供的基于超声波传感器的障碍物定位方法检测得到。作为举例，在一个双边障碍物场景下的垂直车位，在泊车过程中，车辆位姿会时刻发生变化。在一次泊车中，车辆会先扫过车位一边的障碍物，之后继续向后倒车，车辆会逼近第二边的障碍物，最终在靠近第二边的障碍物之前停止。整车的入库过程中，会遇到逼近障碍物和扫过障碍物的情况。在本发明实施例中，通过获取当前时刻车辆上的每一超声波传感器检测到的障碍物距离并进行存储，利用相邻的至少两个超声波传感器同时检测到的障碍物距离，来实现对车辆逼近障碍物过程中的障碍物定位；并利用同一颗超声波传感器在至少两个不同时刻检测到的障碍物距离，来实现对车辆扫过障碍物过程中的障碍物定位。进而，根据当前时刻所述车辆的位置信息，以及当前检测到的所述车辆周围的障碍物的位置信息，控制所述车辆执行泊车操作。需要说明的是，所述泊车操作的执行控制可以采用现有技术中的泊车操作，在此不做具体限定。需要说明的是，本发明实施例的步骤S42包括如上述实施例一至三任一实施例中的一种基于超声波传感器的障碍物定位方法的所有流程步骤，两者的工作原理和有益效果一一对应，因而不再赘述。本发明实施例提供了一种泊车控制方法，当泊车过程中车辆逐渐逼近障碍物时，根据相邻的多个超声波传感器检测到的障碍物距离来实现对障碍物的定位检测；当泊车过程中车辆扫过障碍物时，根据同一超声波传感器在连续时间内检测到的多个相同的障碍物距离，来实现对障碍物的定位检测。采用本发明实施例，对于装配有多颗超声波传感器的车辆，将超声波传感器扫描障碍物过程中车辆的运动类型分为逼近障碍物和扫过障碍物两种，对应每种运动状态，分别应用不同的传感器回波取值策略，以提供更准确的障碍物定位结果，能够有效提高检测车辆周围的障碍物的位置信息的精准性，可实现超声感知在泊车工况下的所有场景应用，从而有效提升车位识别准确率，提高泊车控制过程的准确性，为用户出行提供便利。参见图7，是本发明实施例五提供的一种泊车控制装置的结构示意图。本发明实施例提供了一种泊车控制装置50，包括：车辆位置信息获取模块51，用于获取当前时刻车辆的位置信息；障碍物定位检测模块52，用于检测当前时刻所述车辆周围的障碍物的位置信息；其中，所述车辆周围的障碍物的位置信息采用如上述实施例一至三任一实施例提供的基于超声波传感器的障碍物定位方法检测得到；泊车操作控制模块53，用于根据所述车辆的位置信息和所述车辆周围的障碍物的位置信息，控制所述车辆执行泊车操作。优选地，所述泊车控制装置50集成在车辆的ADAS域控制器中。需要说明的是，本发明实施例五提供的一种泊车控制装置用于执行上述实施例四提供的一种泊车控制方法的所有流程步骤，两者的工作原理和有益效果一一对应，因而不再赘述。本发明实施例还提供了一种车辆，包括：若干个超声波雷达传感器，以及泊车控制装置；其中，所述泊车控制装置用于执行如上述实施例四提供的一种泊车控制方法。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，所述的存储介质可为磁碟、光盘、只读存储记忆体或随机存储记忆体等。以上所述是本发明的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也视为本发明的保护范围。
