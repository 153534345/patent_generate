标题title
路径规划方法、装置、设备及可读存储介质
摘要abst
本发明提供一种路径规划方法、装置、设备及可读存储介质。该方法包括：根据起点、终点、类别约束以及排序约束构建限定的有向无环图；根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点；将路网中不符合偏好约束的兴趣点删除，得到有效兴趣点集合；基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径。通过本发明，综合考虑起点、终点、类别约束、排序约束以及偏好约束确定最优路径，从而解决了具有多重约束条件的路径规划问题。
权利要求书clms
1.一种路径规划方法，其特征在于，所述路径规划方法包括：根据起点、终点、类别约束以及排序约束构建限定的有向无环图；根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点；将路网中不符合偏好约束的兴趣点删除，得到有效兴趣点集合；基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径。2.如权利要求1所述的路径规划方法，其特征在于，所述基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径的步骤包括：基于有效兴趣点集合，确定一候选路径序列对应的最短路径，并以所述最短路径的权值为阈值；从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点，以第一兴趣点与上一位置点的距离更新所述另一候选路径序的权值，判断更新后的权值是否大于阈值；若更新后的权值小于阈值，则检测另一候选路径序中多个类别结点是否遍历完成；若另一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若另一候选路径序中多个类别结点遍历完成，则以另一候选路径序最新的权值为阈值；检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为另一候选路径序，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径；若更新后的权值大于阈值，则检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为另一候选路径序，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径。3.如权利要求2所述的路径规划方法，其特征在于，所述基于有效兴趣点集合，确定一候选路径序列对应的最短路径的步骤包括：确定一候选路径序列中第一个类别结点的类别；从有效兴趣点集合中选取所述类别对应的可选兴趣点；以所述可选兴趣点中距离上一位置点最近的可选兴趣点为目标兴趣点；检测一候选路径序中多个类别结点是否遍历完成；若一候选路径序中多个类别结点遍历完成，则以所述起点、所有目标兴趣点以及所述终点构成的路径为最短路径，其中，在最短路径中最先确定的目标兴趣点与所述起点相邻，最后确定的目标兴趣点与所述终点相邻，各个目标兴趣点之间按照确定顺序进行排序；若一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述确定一候选路径序列中第一个类别结点的类别的步骤。4.如权利要求1所述的路径规划方法，其特征在于，在所述根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点的步骤之后，还包括：基于偏好约束和若干候选路径序列，得到每条候选路径序列对应的最短路径；以权值最小的最短路径为最优路径。5.如权利要求4所述的路径规划方法，其特征在于，所述基于偏好约束和若干候选路径序列，得到每条候选路径序列对应的最短路径的步骤包括：确定一候选路径序列中第一个类别结点的类别；从路网中选取所述类别对应的兴趣点；从所述类别对应的兴趣点中选取符合偏好约束的的可选兴趣点；以所述可选兴趣点中距离上一位置点最近的可选兴趣点为目标兴趣点；检测一候选路径序中多个类别结点是否遍历完成；若一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述确定一候选路径序列中第一个类别结点的类别的步骤；若一候选路径序中多个类别结点遍历完成，则以所述起点、所有目标兴趣点以及所述终点构成的路径为最短路径，其中，在最短路径中最先确定的目标兴趣点与所述起点相邻，最后确定的目标兴趣点与所述终点相邻，各个目标兴趣点之间按照确定顺序进行排序；检测检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为一候选路径序，返回所述确定一候选路径序列中第一个类别结点的类别的步骤。6.一种路径规划装置，其特征在于，所述路径规划装置包括：构建模块，用于根据起点、终点、类别约束以及排序约束构建限定的有向无环图；排序模块，用于根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点；删除模块，用于将路网中不符合偏好约束的兴趣点删除，得到有效兴趣点集合；确定模块，用于基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径。7.如权利要求6所述的路径规划装置，其特征在于，所述确定模块用于：基于有效兴趣点集合，确定一候选路径序列对应的最短路径，并以所述最短路径的权值为阈值；从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点，以第一兴趣点与上一位置点的距离更新所述另一候选路径序的权值，判断更新后的权值是否大于阈值；若更新后的权值小于阈值，则检测另一候选路径序中多个类别结点是否遍历完成；若另一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若另一候选路径序中多个类别结点遍历完成，则以另一候选路径序最新的权值为阈值；检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为另一候选路径序，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径；若更新后的权值大于阈值，则检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为另一候选路径序，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径。8.如权利要求7所述的路径规划装置，其特征在于，所述确定模块用于：确定一候选路径序列中第一个类别结点的类别；从有效兴趣点集合中选取所述类别对应的可选兴趣点；以所述可选兴趣点中距离上一位置点最近的可选兴趣点为目标兴趣点；检测一候选路径序中多个类别结点是否遍历完成；若一候选路径序中多个类别结点遍历完成，则以所述起点、所有目标兴趣点以及所述终点构成的路径为最短路径，其中，在最短路径中最先确定的目标兴趣点与所述起点相邻，最后确定的目标兴趣点与所述终点相邻，各个目标兴趣点之间按照确定顺序进行排序；若一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述确定一候选路径序列中第一个类别结点的类别的步骤。9.一种路径规划设备，其特征在于，所述路径规划设备包括处理器、存储器、以及存储在所述存储器上并可被所述处理器执行的路径规划程序，其中所述路径规划程序被所述处理器执行时，实现如权利要求1至5中任一项所述的路径规划方法的步骤。10.一种可读存储介质，其特征在于，所述可读存储介质上存储有路径规划程序，其中所述路径规划程序被处理器执行时，实现如权利要求1至5中任一项所述的路径规划方法的步骤。
说明书desc
技术领域本发明涉及数据处理技术领域，尤其涉及一种路径规划方法、装置、设备及可读存储介质。背景技术在基于位置的服务中，最短路径是一个重要的问题，常见的路径规划中，一般是指定起点和终点，然后规划出最短路径。但在日常生活中，例如用户希望找到一条经过电影院、餐厅和银行的最佳路线；而且，在去电影院和商场之前要先去银行取钱；另外，餐厅的评分不得低于4.8分，人均价格不得高于60元。现有的路径规划方法无法解决这类路径规划问题，因此，亟需一种新的路径规划方法。发明内容为解决上述技术问题，本发明提供一种路径规划方法、装置、设备及可读存储介质。第一方面，本发明提供一种路径规划方法，所述路径规划方法包括：根据起点、终点、类别约束以及排序约束构建限定的有向无环图；根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点；将路网中不符合偏好约束的兴趣点删除，得到有效兴趣点集合；基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径。第二方面，本发明还提供一种路径规划装置，所述路径规划装置包括：构建模块，用于根据起点、终点、类别约束以及排序约束构建限定的有向无环图；排序模块，用于根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点；删除模块，用于将路网中不符合偏好约束的兴趣点删除，得到有效兴趣点集合；确定模块，用于基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径。第三方面，本发明还提供一种路径规划设备，所述路径规划设备包括处理器、存储器、以及存储在所述存储器上并可被所述处理器执行的路径规划程序，其中所述路径规划程序被所述处理器执行时，实现如上所述的路径规划方法的步骤。第四方面，本发明还提供一种可读存储介质，所述可读存储介质上存储有路径规划程序，其中所述路径规划程序被处理器执行时，实现如上所述的路径规划方法的步骤。本发明中，根据起点、终点、类别约束以及排序约束构建限定的有向无环图；根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点；将路网中不符合偏好约束的兴趣点删除，得到有效兴趣点集合；基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径。通过本发明，综合考虑起点、终点、类别约束、排序约束以及偏好约束确定最优路径，从而解决了具有多重约束条件的路径规划问题。附图说明图1为本发明实施例方案中涉及的路径规划设备的硬件结构示意图；图2为本发明路径规划方法第一实施例的流程示意图；图3为初始化的BDAG的示意图；图4为构建中的BDAG的示意图；图5为构建完成的BDAG的示意图；图6为图2中步骤S40的细化流程示意图；图7为本发明路径规划方法第二实施例的流程示意图；图8为图7中步骤S50的细化流程示意图；图9为路径规划装置一实施例的功能模块示意图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。第一方面，本发明实施例提供一种路径规划设备，该路径规划设备可以是个人计算机、笔记本电脑、服务器等具有数据处理功能的设备。参照图1，图1为本发明实施例方案中涉及的路径规划设备的硬件结构示意图。本发明实施例中，路径规划设备可以包括处理器1001，通信总线1002，用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信；用户接口1003可以包括显示屏、输入单元比如键盘；网络接口1004可选的可以包括标准的有线接口、无线接口；存储器1005可以是高速随机存取存储器，也可以是稳定的存储器，例如磁盘存储器，存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图1中示出的硬件结构并不构成对本发明的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。继续参照图1，图1中作为一种计算机存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及路径规划程序。其中，处理器1001可以调用存储器1005中存储的路径规划程序，并执行本发明实施例提供的路径规划方法。第二方面，本发明实施例提供了一种路径规划方法。一实施例中，参照图2，图2为本发明路径规划方法第一实施例的流程示意图。如图2所示，路径规划方法包括：步骤S10，根据起点、终点、类别约束以及排序约束构建限定的有向无环图；本实施例中，例如用户从起点vs出发，要去银行、餐厅、电影院、邮局以及商场，最后前往终点ve。其中，银行、餐厅、电影院、邮局以及商场便是5个类别结点，分别以tag1、tag2、tag3、tag4以及tag5表示，则类别约束tc＝。其中，去餐厅前要先去银行，去邮局前要先去银行，则排序约束oc＝{＜tag2，tag3＞以及＜tag2，tag4＞}。首先，让起点vs分别指向所有的类别结点，而所有的类别结点指向终点ve，得到初始化的限定的有向无环图BDAG。参照图3，图3为初始化的BDAG的示意图。然后，遍历上述排序约束oc中的所有元素，当其不为空时，取出其中的元素，例如对于排序约束oc中的元素＜tag2，tag3＞，首先将tag3的父结点集合置为空集，同时遍历tag2中的所有子结点集合；若tag2的子结点集合中包含终点ve，则从该集合中删除ve，同时将tag3加入tag2的子结点集合中，最后将＜tag2，tag3＞从排序约束oc中删除，得到构建中的BDAG。参照图4，图4为构建中的BDAG的示意图。类似地，对于排序约束oc中的元素＜tag2，tag4＞，首先将tag4的父结点集合置为空集，同时遍历tag2中的所有子结点。若tag2的子结点集合中包含终点ve，则从该集合中删除ve，同时将tag4加入到tag2的子结点集合中，最后将＜tag2，tag4＞从排序约束集合oc中删除，重复执行上述操作，直到排序约束oc为空，即得到构建完成的BDAG。参照图5，图5为构建完成的BDAG的示意图。步骤S20，根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点；本实施例中，限定的有向无环图以图5为例，则对BDAG进行拓扑排序可以得到16个候选路径序列：若仅仅是以用户要去的5个地点进行拓扑排序，则会得到5！＝120个候选路径序列，可见，通过构建BDAG，大大减少了不必要的候选路径序列，从而缩减了确定最优路径所需的时间。步骤S30，将路网中不符合偏好约束的兴趣点删除，得到有效兴趣点集合；本实施例中，偏好约束根据实际需求制定，例如偏好约束为餐厅评分不得低于4.8分，人均价格不得高于60元；电影院的评分不得低于4.8分，人均价格不得高于40元。基于该偏好约束，则将路网中评分低于4.8分或人均价格高于60元的餐厅兴趣点删除，将路网中评分低于4.8分或人均价格高于40元的电影院兴趣点删除，得到有效兴趣点集合。具体的，本实施例中提出CAIR-tree索引结构，其中，CAIR-tree中每个叶子结点用一个三元组表示它所包含的每一个对象，其中pid是路网中一兴趣点的id，tag为路网中一兴趣点的关键字信息，＜A，V＞为属性和属性值对，A表示兴趣点p对应tag的属性，V是对应的属性值；非叶子结点表示为一个三元组，其中ct表示为指向其孩子结点的指针，rect为该结点的最小边界矩形，akl为其所有孩子结点的关键字描述集合以及属性描述集合，用倒排文件来组织。倒排文件由两种倒排列表构成，关键字列表tag1：和属性列表Ai：。其中关键字列表tag1：中{1}表示该非叶子结点中包含关键字tag1；{R1，…，Ri}表示在区域R1，…，Ri中都包含关键字tag1。属性列表Ai：中{tag1，tag2}表示关键字tag1到tagi中包含属性Ai；若该属性为数值属性，则{V1，…，Vi}中Vi为V2表示该数值属性在该结点中的最小值V1和最大值V2，若该属性为非数值属性，则{V1，…，Vi}为该非数值属性在该结点区域内所有值的集合。首先初始化两个优先队列U、U＇以及一个数组Pcand的类别约束和偏好约束，再对结点e进行遍历，并依次考察其各子结点e′：若e′为非叶子结点，则将其加入到队列U，否则将其加入到队列U′中。然后，对队列U′进行判断，若队列U′不为空，则依次将队列U′队首元素出队，出队元素记为TNode，当出队的元素TNode符合偏好约束时，将其加入到数组Pcand中。最后，返回得到的Pcand，完成剪枝过程。步骤S40，基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径。本实施例中，基于若干候选路径序列以及有效兴趣点集合构建路径，并基于构建的路径的权值选取最优路径。进一步地，一实施例中，参照图6，图6为图2中步骤S40的细化流程示意图。如图6所示，步骤S40包括：基于有效兴趣点集合，确定一候选路径序列对应的最短路径，并以所述最短路径的权值为阈值；从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点，以第一兴趣点与上一位置点的距离更新所述另一候选路径序的权值，判断更新后的权值是否大于阈值；若更新后的权值小于阈值，则检测另一候选路径序中多个类别结点是否遍历完成；若另一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若另一候选路径序中多个类别结点遍历完成，则以另一候选路径序最新的权值为阈值；检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为另一候选路径序，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径；若更新后的权值大于阈值，则检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为另一候选路径序，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径。本实施例中，例如若干候选路径序列包括：候选路径序列1：起点→银行→餐厅→电影院→终点；候选路径序列2：起点→银行→电影院→餐厅→终点；候选路径序列3：起点→电影院→银行→餐厅→终点；有效兴趣点集合中的银行有银行1、银行2以及银行3，餐厅有餐厅1和餐厅3，电影院有电影院1。首先，基于有效兴趣点集合，确定一候选路径序列对应的最短路径，并以最短路径的权值为阈值。其中，一候选路径序列可以是候选路径序列1～3中任一条，此处以候选路径序列1为例，则得到候选路径序列1对应的最短路径1，以最短路径1的权值1为阈值。其中，具体可以最短路径1的长度为权值1。另一候选路径序列可以是候选路径序列2～3中任一条，此处以候选路径序列2为例，候选路径序列2中第一个类别结点为银行，则可选的兴趣点包括银行1、银行2以及银行3，若银行1距离起点的距离最近，则以银行1与上一位置点的距离更新候选路径序2的权值，判断更新后的权值是否大于阈值。此时更新后的权值可以是起点→银行1的长度。若此时更新后的权值小于阈值，则检测候选路径序2中多个类别结点是否遍历完成；由于此时还有电影院以及餐厅这两个类别结点没有遍历完成，则以下一个类别结点为第一个类别结点，返回从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；在第一个类别结点为电影院时，则可选的兴趣点仅有电影院1，则以电影院1与上一位置点的距离更新候选路径序2的权值，判断更新后的权值是否大于阈值。此时更新后的权值可以是起点→银行1→电影院1的长度。若此时更新后的权值还是小于阈值，则检测候选路径序2中多个类别结点是否遍历完成；由于此时还有餐厅这个类别结点没有遍历完成，则以下一个类别结点为第一个类别结点，返回从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；在第一个类别结点为餐厅时，则可选的兴趣点有餐厅1和餐厅3，若餐厅3距离电影院1的距离最近，则以餐厅3与上一位置点的距离更新候选路径序2的权值，判断更新后的权值是否大于阈值。此时更新后的权值可以是起点→银行1→电影院1→餐厅3→终点的长度。若此时更新后的权值还是小于阈值，且候选路径序2中多个类别结点遍历完成，则以候选路径序2的最新的权值为阈值；检测若干候选路径序列是否遍历完成；此时还有候选路径序列3未遍历完成，则以候选路径序列3为另一候选路径序，返回从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径。若另一候选路径序的权值更新后的权值大于阈值，则检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为另一候选路径序，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径。进一步地，一实施例中，所述基于有效兴趣点集合，确定一候选路径序列对应的最短路径的步骤包括：确定一候选路径序列中第一个类别结点的类别；从有效兴趣点集合中选取所述类别对应的可选兴趣点；以所述可选兴趣点中距离上一位置点最近的可选兴趣点为目标兴趣点；检测一候选路径序中多个类别结点是否遍历完成；若一候选路径序中多个类别结点遍历完成，则以所述起点、所有目标兴趣点以及所述终点构成的路径为最短路径，其中，在最短路径中最先确定的目标兴趣点与所述起点相邻，最后确定的目标兴趣点与所述终点相邻，各个目标兴趣点之间按照确定顺序进行排序；若一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述确定一候选路径序列中第一个类别结点的类别的步骤。本实施例中，例如若干候选路径序列包括：候选路径序列1：起点→银行→餐厅→电影院→终点；候选路径序列2：起点→银行→电影院→餐厅→终点；候选路径序列3：起点→电影院→银行→餐厅→终点；有效兴趣点集合中的银行有银行1、银行2以及银行3，餐厅有餐厅1和餐厅3，电影院有电影院1。一候选路径序列以候选路径序列1为例，候选路径序列1中第一个类别结点的类别为银行，则从有效兴趣点集合中选取的银行对应的可选兴趣点包括银行1、银行2以及银行3，其中，银行1距离上一位置点最近，则以银行1为目标兴趣点；此时，候选路径序1中还有餐厅和电影院这两个类别结点未遍历，则以下一个类别结点为第一个类别结点，返回确定一候选路径序列中第一个类别结点的类别的步骤；当第一个类别结点为餐厅时，此时候选路径序列1中第一个类别结点的类别为餐厅，则从有效兴趣点集合中选取的餐厅对应的可选兴趣点包括餐厅1和餐厅3，其中，餐厅3距离上一位置点最近，则以餐厅3为目标兴趣点；此时，候选路径序1中还有电影院这个类别结点未遍历，则以下一个类别结点为第一个类别结点，返回确定一候选路径序列中第一个类别结点的类别的步骤；当第一个类别结点为电影院时，此时候选路径序列1中第一个类别结点的类别为电影院，则从有效兴趣点集合中选取的电影院对应的可选兴趣点仅有电影院1，则以电影院1为目标兴趣点；此时，候选路径序1中多个类别结点遍历完成，则以起点、所有目标兴趣点以及终点构成的路径为最短路径，其中，在最短路径中最先确定的目标兴趣点与所述起点相邻，最后确定的目标兴趣点与所述终点相邻，各个目标兴趣点之间按照确定顺序进行排序，即候选路径序列1对应的最短路径为：起点→银行1→餐厅3→电影院1→终点。本实施例中，根据起点、终点、类别约束以及排序约束构建限定的有向无环图；根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点；将路网中不符合偏好约束的兴趣点删除，得到有效兴趣点集合；基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径。通过本实施例，综合考虑起点、终点、类别约束、排序约束以及偏好约束确定最优路径，从而解决了具有多重约束条件的路径规划问题。进一步地，一实施例中，参照图7，图7为本发明路径规划方法第二实施例的流程示意图。如图7所示，在步骤S20之后，还包括：步骤S50，基于偏好约束和若干候选路径序列，得到每条候选路径序列对应的最短路径；本实施例中，基于若干候选路径序列以及偏好约束构建得到每条候选路径序列对应的最短路径，并基于构建的路径的权值选取最优路径。进一步地，一实施例中，参照图8，图8为图7中步骤S50的细化流程示意图。如图8所示，步骤S50包括：确定一候选路径序列中第一个类别结点的类别；从路网中选取所述类别对应的兴趣点；从所述类别对应的兴趣点中选取符合偏好约束的的可选兴趣点；以所述可选兴趣点中距离上一位置点最近的可选兴趣点为目标兴趣点；检测一候选路径序中多个类别结点是否遍历完成；若一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述确定一候选路径序列中第一个类别结点的类别的步骤；若一候选路径序中多个类别结点遍历完成，则以所述起点、所有目标兴趣点以及所述终点构成的路径为最短路径，其中，在最短路径中最先确定的目标兴趣点与所述起点相邻，最后确定的目标兴趣点与所述终点相邻，各个目标兴趣点之间按照确定顺序进行排序；检测检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为一候选路径序，返回所述确定一候选路径序列中第一个类别结点的类别的步骤。本实施例中，例如若干候选路径序列包括：候选路径序列1：起点→银行→餐厅→电影院→终点；候选路径序列2：起点→银行→电影院→餐厅→终点；候选路径序列3：起点→电影院→银行→餐厅→终点；路网中的银行有银行1、银行2以及银行3，餐厅有餐厅1、餐厅2和餐厅3，电影院有电影院1以及电影院2。偏好约束为：银行包含的柜台数量不低于20个、餐厅评分不低于4.8分以及电影院评分不低于4.8分。一候选路径序列为候选路径序列1～3中任一条，以一候选路径序列为候选路径序列1为例，候选路径序列1中第一个类别结点的类别为银行，则从路网中选取银行对应的兴趣点包括银行1、银行2以及银行3；若银行1的柜台数量为15个，银行2的柜台数量为25个，银行3的柜台数量为20个。则符合偏好约束的的可选兴趣点包括银行2和银行3。若银行2距离上一位置点最近，则以银行2为目标兴趣点。此时，候选路径序列1中还有餐厅和电影院这两个类别结点未遍历完成，则以下一个类别结点餐厅为第一个类别结点，返回所述确定一候选路径序列中第一个类别结点的类别的步骤；此时，候选路径序列1中第一个类别结点的类别为餐厅，则从路网中选取餐厅对应的兴趣点包括餐厅1、餐厅2和餐厅3；若餐厅1的评分为5.0分，餐厅2的评分为4.0分，餐厅3的评分为3.0分。则符合偏好约束的的可选兴趣点包括餐厅1。则距离上一位置点最近的可选兴趣点为餐厅1，则以餐厅1为目标兴趣点。此时，候选路径序列1中还有电影院这个类别结点未遍历完成，则以下一个类别结点电影院为第一个类别结点，返回所述确定一候选路径序列中第一个类别结点的类别的步骤；此时，候选路径序列1中第一个类别结点的类别为电影院，则从路网中选取电影院对应的兴趣点包括电影院1以及电影院2；若电影院1的评分为5.0分，电影院2的评分为4.9分。则符合偏好约束的的可选兴趣点包括电影院1以及电影院2。若电影院2距离上一位置点最近，则以电影院2为目标兴趣点。此时，候选路径序列1中各个类别结点遍历完成，则以起点、所有目标兴趣点以及终点构成的路径为最短路径，其中，在最短路径中最先确定的目标兴趣点与所述起点相邻，最后确定的目标兴趣点与所述终点相邻，各个目标兴趣点之间按照确定顺序进行排序；例如，候选路径序列1的最短路径为：起点→银行2→餐厅1→电影院2→终点。此时，还有候选路径序列2和3未遍历完成，则以一未遍历的候选路径序列为一候选路径序，返回确定一候选路径序列中第一个类别结点的类别的步骤，从而得到候选路径序列2的最短路径。此时，还有候选路径序列3未遍历完成，则以一未遍历的候选路径序列为一候选路径序，返回确定一候选路径序列中第一个类别结点的类别的步骤，从而得到候选路径序列3的最短路径。至此，即可得到每条候选路径序列对应的最短路径。步骤S60，以权值最小的最短路径为最优路径。本实施例中，比较每条最短路径的权值，并以权值最小的最短路径为最优路径。其中，可以最短路径的长度为最短路径的权值。第三方面，本发明实施例还提供一种路径规划装置。一实施例中，参照图9，图9为路径规划装置一实施例的功能模块示意图。如图9所示，路径规划装置包括：构建模块10，用于根据起点、终点、类别约束以及排序约束构建限定的有向无环图；排序模块20，用于根据限定的有向无环图进行拓扑排序，得到若干候选路径序列，其中每条候选路径序列的第一个点为所述起点，最后一个点为所述终点；删除模块30，用于将路网中不符合偏好约束的兴趣点删除，得到有效兴趣点集合；确定模块40，用于基于所述若干候选路径序列以及有效兴趣点集合，确定最优路径。进一步地，一实施例中，确定模块40用于：基于有效兴趣点集合，确定一候选路径序列对应的最短路径，并以所述最短路径的权值为阈值；从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点，以第一兴趣点与上一位置点的距离更新所述另一候选路径序的权值，判断更新后的权值是否大于阈值；若更新后的权值小于阈值，则检测另一候选路径序中多个类别结点是否遍历完成；若另一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若另一候选路径序中多个类别结点遍历完成，则以另一候选路径序最新的权值为阈值；检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为另一候选路径序，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径；若更新后的权值大于阈值，则检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为另一候选路径序，返回所述从有效兴趣点集合中选取另一候选路径序中第一个类别结点对应的第一兴趣点的步骤；若若干候选路径序列遍历完成，则以阈值对应的最短路径为最优路径。进一步地，一实施例中，确定模块40用于：确定一候选路径序列中第一个类别结点的类别；从有效兴趣点集合中选取所述类别对应的可选兴趣点；以所述可选兴趣点中距离上一位置点最近的可选兴趣点为目标兴趣点；检测一候选路径序中多个类别结点是否遍历完成；若一候选路径序中多个类别结点遍历完成，则以所述起点、所有目标兴趣点以及所述终点构成的路径为最短路径，其中，在最短路径中最先确定的目标兴趣点与所述起点相邻，最后确定的目标兴趣点与所述终点相邻，各个目标兴趣点之间按照确定顺序进行排序；若一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述确定一候选路径序列中第一个类别结点的类别的步骤。进一步地，一实施例中，路径规划还包括：最短路径构建模块，用于基于偏好约束和若干候选路径序列，得到每条候选路径序列对应的最短路径；选择模块，用于以权值最小的最短路径为最优路径。进一步地，一实施例中，最短路径构建模块，用于：确定一候选路径序列中第一个类别结点的类别；从路网中选取所述类别对应的兴趣点；从所述类别对应的兴趣点中选取符合偏好约束的的可选兴趣点；以所述可选兴趣点中距离上一位置点最近的可选兴趣点为目标兴趣点；检测一候选路径序中多个类别结点是否遍历完成；若一候选路径序中多个类别结点未遍历完成，则以下一个类别结点为第一个类别结点，返回所述确定一候选路径序列中第一个类别结点的类别的步骤；若一候选路径序中多个类别结点遍历完成，则以所述起点、所有目标兴趣点以及所述终点构成的路径为最短路径，其中，在最短路径中最先确定的目标兴趣点与所述起点相邻，最后确定的目标兴趣点与所述终点相邻，各个目标兴趣点之间按照确定顺序进行排序；检测检测若干候选路径序列是否遍历完成；若若干候选路径序列未遍历完成，则以一未遍历的候选路径序列为一候选路径序，返回所述确定一候选路径序列中第一个类别结点的类别的步骤。其中，上述路径规划装置中各个模块的功能实现与上述路径规划方法实施例中各步骤相对应，其功能和实现过程在此处不再一一赘述。第四方面，本发明实施例还提供一种可读存储介质。本发明可读存储介质上存储有路径规划程序，其中所述路径规划程序被处理器执行时，实现如上述的路径规划方法的步骤。其中，路径规划程序被执行时所实现的方法可参照本发明路径规划方法的各个实施例，此处不再赘述。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在如上所述的一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
