标题title
一种摄像头图像拼接处理方法和系统
摘要abst
本申请公开了一种摄像头图像拼接处理方法和系统，该方法包括：获取时间信息，并获取在所述时间信息所指示的时间范围内所述多个监控摄像头拍摄得到的多张图像；判断所述多张图像是否具有重叠景象；如果有重叠景象，则将具有重叠景象的图像中的重叠部分删除；将删除重叠景象之后的图像进行拼接得到拼接图像。通过本申请解决了现有技术中没有一个整体图像查看预定区域内监控的问题，从而对多个摄像头的图像进行拼接形成了一个整体的图像，能够提高查看的效率。
权利要求书clms
1.一种摄像头图像拼接处理方法，其特征在于，包括：获取时间信息，并获取在所述时间信息所指示的时间范围内所述多个监控摄像头拍摄得到的多张图像；判断所述多张图像是否具有重叠景象；如果有重叠景象，则将具有重叠景象的图像中的重叠部分删除；将删除重叠景象之后的图像进行拼接得到拼接图像；如果所述多张图像中存在至少一张预定图像与其他图像均没有重叠，则获取拍摄所述至少一张预定图像的第一监控摄像头；从拍摄所述其他图像中的第二监控摄像头中查找地理位置关系与所述第一监控摄像头最近的第三摄像头；获取所述第三摄像头和所述第一监控摄像头拍摄的图像；将所述第三摄像头和所述第一监控摄像头拍摄的图像进行拼接后得到所述拼接图像；其中，获取所述第三摄像头拍摄的第三图像和所述第一监控摄像头拍摄的第一图像；在所述第三图像和所述第一图像中增加过渡图像；将所述第三图像、所述过渡图像和所述第一图像进行拼接得到所述拼接图像；其中，获取一张道路的照片，将所述道路的照片拆分成三个连续的部分，其中，第一部分和第三部分是道路的两端的部分，所述第二部分为连接所述第一部分和第三部分的部分；将所述第一部分和第三部分作为训练数据的输入数据部分，将所述道路的图片作为训练数据的输出数据部分；将多张道路照片进行上述拆分得到多组训练数据，其中，所述多组训练数据均包括数据输入部分和数据输出部分，使用所述多组训练数据训练得到一个机器学习模型；将第三摄像头和所述第一监控摄像头拍摄得到的图像作为输入数据输入到所述机器学习模型中，从所述机器学习模型获取输出的拼接后的图像。2.根据权利要求1所述的方法，其特征在于，还包括：接收用户输入的信息，其中，所述信息中包括时间信息；根据所述用户输入的时间信息查找与该时间信息对应的拼接图像；显示所述拼接图像。3.根据权利要求2所述的方法，其特征在于，显示所述拼接图像包括：接收所述用户对所述拼接图像的操作信息，其中，所述操作信息用于对所述拼接图像进行移动；根据所述操作信息对所述拼接图像进行移动，并显示移动之后的所述拼接图像。4.一种摄像头图像拼接处理系统，其特征在于，包括：获取模块，用于获取时间信息，并获取在所述时间信息所指示的时间范围内所述多个监控摄像头拍摄得到的多张图像；判断模块，用于判断所述多张图像是否具有重叠景象；删除模块，用于如果有重叠景象，则将具有重叠景象的图像中的重叠部分删除；拼接模块，用于将删除重叠景象之后的图像进行拼接得到拼接图像；如果所述多张图像中存在至少一张预定图像与其他图像均没有重叠，则获取拍摄所述至少一张预定图像的第一监控摄像头；从拍摄所述其他图像中的第二监控摄像头中查找地理位置关系与所述第一监控摄像头最近的第三摄像头；获取所述第三摄像头和所述第一监控摄像头拍摄的图像；将所述第三摄像头和所述第一监控摄像头拍摄的图像进行拼接后得到所述拼接图像；获取所述第三摄像头拍摄的第三图像和所述第一监控摄像头拍摄的第一图像；在所述第三图像和所述第一图像中增加过渡图像；将所述第三图像、所述过渡图像和所述第一图像进行拼接得到所述拼接图像；其中，获取一张道路的照片，将所述道路的照片拆分成三个连续的部分，其中，第一部分和第三部分是道路的两端的部分，所述第二部分为连接所述第一部分和第三部分的部分；将所述第一部分和第三部分作为训练数据的输入数据部分，将所述道路的图片作为训练数据的输出数据部分；将多张道路照片进行上述拆分得到多组训练数据，其中，所述多组训练数据均包括数据输入部分和数据输出部分，使用所述多组训练数据训练得到一个机器学习模型；将第三摄像头和所述第一监控摄像头拍摄得到的图像作为输入数据输入到所述机器学习模型中，从所述机器学习模型获取输出的拼接后的图像。5.根据权利要求4所述的系统，其特征在于，还包括：显示模块，用于接收用户输入的信息，其中，所述信息中包括时间信息；根据所述用户输入的时间信息查找与该时间信息对应的拼接图像；显示所述拼接图像。6.根据权利要求5所述的系统，其特征在于，所述显示模块用于：接收所述用户对所述拼接图像的操作信息，其中，所述操作信息用于对所述拼接图像进行移动；根据所述操作信息对所述拼接图像进行移动，并显示移动之后的所述拼接图像。
说明书desc
技术领域本申请涉及到图像处理领域，具体而言，涉及一种摄像头图像拼接处理方法和系统。背景技术现有技术中，城市中针对不同的道路安装了多个摄像头，并且在某些区域，还安装了多个摄像头。在进行摄像头图像查看的时候，一般情况下对于每个摄像头的图像进行单独查看，这种查看方式费时费力，并且没有一个整体的图像来显示该区域所有摄像头覆盖的区域。发明内容本申请实施例提供了一种摄像头图像拼接处理方法和系统，以至少解决现有技术中没有一个整体图像查看预定区域内监控的问题。根据本申请的一个方面，提供了一种摄像头图像拼接处理方法，包括：获取时间信息，并获取在所述时间信息所指示的时间范围内所述多个监控摄像头拍摄得到的多张图像；判断所述多张图像是否具有重叠景象；如果有重叠景象，则将具有重叠景象的图像中的重叠部分删除；将删除重叠景象之后的图像进行拼接得到拼接图像。进一步地，还包括：如果所述多张图像中存在至少一张预定图像与其他图像均没有重叠，则获取拍摄所述至少一张预定图像的第一监控摄像头；从拍摄所述其他图像中的第二监控摄像头中查找地理位置关系与所述第一监控摄像头最近的第三摄像头；获取所述第三摄像头和所述第一监控摄像头拍摄的图像；将所述第三摄像头和所述第一监控摄像头拍摄的图像进行拼接后得到所述拼接图像。进一步地，将所述第三摄像头和所述第一监控摄像头拍摄的图像进行拼接后得到所述拼接图像包括：获取所述第三摄像头拍摄的第三图像和所述第一监控摄像头拍摄的第一图像；在所述第三图像和所述第一图像中增加过渡图像；将所述第三图像、所述过渡图像和所述第一图像进行拼接得到所述拼接图像。进一步地，还包括：接收用户输入的信息，其中，所述信息中包括时间信息；根据所述用户输入的时间信息查找与该时间信息对应的拼接图像；显示所述拼接图像。进一步地，显示所述拼接图像包括：接收所述用户对所述拼接图像的操作信息，其中，所述操作信息用于对所述拼接图像进行移动；根据所述操作信息对所述拼接图像进行移动，并显示移动之后的所述拼接图像。根据本申请的另一个方面，还提供了一种摄像头图像拼接处理系统，包括：获取模块，用于获取时间信息，并获取在所述时间信息所指示的时间范围内所述多个监控摄像头拍摄得到的多张图像；判断模块，用于判断所述多张图像是否具有重叠景象；删除模块，用于如果有重叠景象，则将具有重叠景象的图像中的重叠部分删除；拼接模块，用于将删除重叠景象之后的图像进行拼接得到拼接图像。进一步地，所述拼接模块还用于：如果所述多张图像中存在至少一张预定图像与其他图像均没有重叠，则获取拍摄所述至少一张预定图像的第一监控摄像头；从拍摄所述其他图像中的第二监控摄像头中查找地理位置关系与所述第一监控摄像头最近的第三摄像头；获取所述第三摄像头和所述第一监控摄像头拍摄的图像；将所述第三摄像头和所述第一监控摄像头拍摄的图像进行拼接后得到所述拼接图像。进一步地，所述拼接模块还用于：获取所述第三摄像头拍摄的第三图像和所述第一监控摄像头拍摄的第一图像；在所述第三图像和所述第一图像中增加过渡图像；将所述第三图像、所述过渡图像和所述第一图像进行拼接得到所述拼接图像。进一步地，还包括：显示模块，用于接收用户输入的信息，其中，所述信息中包括时间信息；根据所述用户输入的时间信息查找与该时间信息对应的拼接图像；显示所述拼接图像。进一步地，所述显示模块用于：接收所述用户对所述拼接图像的操作信息，其中，所述操作信息用于对所述拼接图像进行移动；根据所述操作信息对所述拼接图像进行移动，并显示移动之后的所述拼接图像。在本申请实施例中，采用了获取时间信息，并获取在所述时间信息所指示的时间范围内所述多个监控摄像头拍摄得到的多张图像；判断所述多张图像是否具有重叠景象；如果有重叠景象，则将具有重叠景象的图像中的重叠部分删除；将删除重叠景象之后的图像进行拼接得到拼接图像。通过本申请解决了现有技术中没有一个整体图像查看预定区域内监控的问题，从而对多个摄像头的图像进行拼接形成了一个整体的图像，能够提高查看的效率。附图说明构成本申请的一部分的附图用来提供对本申请的进一步理解，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1是根据本申请实施例的摄像头图像拼接处理方法的流程图。具体实施方式需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。下面将参考附图并结合实施例来详细说明本申请。需要说明的是，在附图的流程图示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤。提供了一种摄像头图像拼接处理方法，图1是根据本申请实施例的摄像头图像拼接处理方法的流程图，如图1所示，该流程包括如下步骤：步骤S102，获取时间信息，并获取在所述时间信息所指示的时间范围内所述多个监控摄像头拍摄得到的多张图像；步骤S104，判断所述多张图像是否具有重叠景象；步骤S106，如果有重叠景象，则将具有重叠景象的图像中的重叠部分删除；步骤S108，将删除重叠景象之后的图像进行拼接得到拼接图像。通过上述步骤解决了现有技术中没有一个整体图像查看预定区域内监控的问题，从而对多个摄像头的图像进行拼接形成了一个整体的图像，能够提高查看的效率。在一个可选的实施方式中，如果所述多张图像中存在至少一张预定图像与其他图像均没有重叠，则获取拍摄所述至少一张预定图像的第一监控摄像头；从拍摄所述其他图像中的第二监控摄像头中查找地理位置关系与所述第一监控摄像头最近的第三摄像头；获取所述第三摄像头和所述第一监控摄像头拍摄的图像；将所述第三摄像头和所述第一监控摄像头拍摄的图像进行拼接后得到所述拼接图像。可选地，将所述第三摄像头和所述第一监控摄像头拍摄的图像进行拼接后得到所述拼接图像包括：获取所述第三摄像头拍摄的第三图像和所述第一监控摄像头拍摄的第一图像；在所述第三图像和所述第一图像中增加过渡图像；将所述第三图像、所述过渡图像和所述第一图像进行拼接得到所述拼接图像。增加过渡图像的方式有很多种，作为一个可以增加的实施方式方式，可以使用机器学习的方式来进行。获取一张道路的照片，将所述道路的照片拆分成三个连续的部分，其中，第一部分和第三部分是道路的两端的部分，所述第二部分为连接所述第一部分和第三部分的部分；将所述第一部分和第三部分作为训练数据的输入数据部分，将所述道路的图片作为训练数据的输出数据部分；将多张道路照片进行上述拆分得到多组训练数据，其中，所述多组训练数据均包括数据输入部分和数据输出部分，使用所述多组训练数据训练得到一个机器学习模型；将第三摄像头和所述第一监控摄像头拍摄得到的图像作为输入数据输入到所述机器学习模型中，从所述机器学习模型获取输出的拼接后的图像。作为另一个可选的实施方式，可以训练多个机器学习模型，其中，所述多个机器学习模型是使用不同时间段和光照条件的道路照片训练得到的，获取第三摄像头和第一监控摄像头拍摄得到图像的时间段或者光照条件，并根据该时间段或者光照条件得到对应的机器学习模型，将将第三摄像头和所述第一监控摄像头拍摄得到的图像作为输入数据输入到该对应的机器学习模型中，从该对应的机器学习模型获取输出的拼接后的图像。在本实施例中，还可以根据用户输入的信息来显示相关的图像。下面对本实施例的该功能进行说明。接收用户输入的信息，其中，所述信息中包括时间信息；根据所述用户输入的时间信息查找与该时间信息对应的拼接图像；显示所述拼接图像。可选地，用户还可以对拼接图像进行操作，此时，接收所述用户对所述拼接图像的操作信息，其中，所述操作信息用于对所述拼接图像进行移动；根据所述操作信息对所述拼接图像进行移动，并显示移动之后的所述拼接图像。作为一个可以增加的实施方式，在显示拼接图像之后，接收用户从所述拼接图像中选择出的预定对象，按照时间顺序在不同位置的摄像头中查找所述预定对象出现的时间以及所述预定对象出现的图像，按照所述时间的先后关系对所述预定对象出现的位置上的监控摄像头拍摄得到的图像进行拼接，得到所述预定对象在监控摄像头中移动的拼接图像，其中，所述拼接图像中显示有所述预定对象在预定位置上的时间标签；所述时间标签用于指示所述预定对象出现的时间。在本实施例中，提供一种电子装置，包括存储器和处理器，存储器中存储有计算机程序，处理器被设置为运行计算机程序以执行以上实施例中的方法。上述程序可以运行在处理器中，或者也可以存储在存储器中，计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存 、静态随机存取存储器 、动态随机存取存储器 、其他类型的随机存取存储器 、只读存储器 、电可擦除可编程只读存储器 、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘  或其他光学存储、磁盒式磁带，磁带磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体 ，如调制的数据信号和载波。这些计算机程序也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤，对应与不同的步骤可以通过不同的模块来实现。该本实施例中就提供了这样的一种装置或系统。该系统被称为一种摄像头图像拼接处理系统，包括：获取模块，用于获取时间信息，并获取在所述时间信息所指示的时间范围内所述多个监控摄像头拍摄得到的多张图像；判断模块，用于判断所述多张图像是否具有重叠景象；删除模块，用于如果有重叠景象，则将具有重叠景象的图像中的重叠部分删除；拼接模块，用于将删除重叠景象之后的图像进行拼接得到拼接图像。该系统或者装置用于实现上述的实施例中的方法的功能，该系统或者装置中的每个模块与方法中的每个步骤相对应，已经在方法中进行过说明的，在此不再赘述。例如，所述拼接模块还用于：如果所述多张图像中存在至少一张预定图像与其他图像均没有重叠，则获取拍摄所述至少一张预定图像的第一监控摄像头；从拍摄所述其他图像中的第二监控摄像头中查找地理位置关系与所述第一监控摄像头最近的第三摄像头；获取所述第三摄像头和所述第一监控摄像头拍摄的图像；将所述第三摄像头和所述第一监控摄像头拍摄的图像进行拼接后得到所述拼接图像。可选地，所述拼接模块还用于：获取所述第三摄像头拍摄的第三图像和所述第一监控摄像头拍摄的第一图像；在所述第三图像和所述第一图像中增加过渡图像；将所述第三图像、所述过渡图像和所述第一图像进行拼接得到所述拼接图像。又例如，还包括：显示模块，用于接收用户输入的信息，其中，所述信息中包括时间信息；根据所述用户输入的时间信息查找与该时间信息对应的拼接图像；显示所述拼接图像。可选地，所述显示模块用于：接收所述用户对所述拼接图像的操作信息，其中，所述操作信息用于对所述拼接图像进行移动；根据所述操作信息对所述拼接图像进行移动，并显示移动之后的所述拼接图像。通过上述实施例解决了现有技术中没有一个整体图像查看预定区域内监控的问题，从而对多个摄像头的图像进行拼接形成了一个整体的图像，能够提高查看的效率。以上仅为本申请的实施例而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
