标题title
一种基于电导率测量的溶液离子浓度测量方法
摘要abst
本发明属于计量测量领域，具体涉及一种基于电导率测量的溶液离子浓度测量方法，该方法包括：构建温度‑离子浓度‑电导率表；获取待测溶液的温度；将通电的后的电极插入到待测溶液中，构成电导池，并获取导电池的电导；设置定时时间T，根据设置的定时时间将导电池的电导信号输入到电导‑频率转换电路中，得到待测溶液的电导率；根据获取的待测溶液温度采用温度‑离子浓度‑电导率表对待测溶液的导电率进行温度补偿，得到待测溶液的离子浓度；本发明通过电导—频率转化电路直接与电导电极一起构成振荡器，能够根据待测电极电阻大小实现自动变频，抑制测量过程中的极化效应和电容效应，使得测量结果更精确。
权利要求书clms
1.一种基于电导率测量的溶液离子浓度测量方法，其特征在于，该方法包括：构建温度-离子浓度-电导率表；获取待测溶液的温度；将通电的后的电极插入到待测溶液中，构成电导池，并获取导电池的电导；设置定时时间T，根据设置的定时时间将导电池的电导信号输入到电导-频率转换电路中，得到待测溶液的电导率；根据获取的待测溶液温度采用温度-离子浓度-电导率表对待测溶液的导电率进行温度补偿，得到待测溶液的离子浓度。2.根据权利要求1所述的一种基于电导率测量的溶液离子浓度测量方法，其特征在于，构建温度-离子浓度-电导率表的过程包括：获取不同浓度的溶液，在不同温度下测量各浓度溶液的导电率；根据离子溶液的浓度、当前浓度溶液的温度以及该浓度和温度下溶液的导电率构建温度-离子浓度-电导率表。3.根据权利要求1所述的一种基于电导率测量的溶液离子浓度测量方法，其特征在于，电导-频率转换电路包括比较器、连接电路以及积分器；连接电路包括电阻R2、电阻R3、二级管DW1、二级管DW2以及电位器RW；比较器的正极输入端连接积分器的输出端，负极输入端连接积分器的负极输入端；比较器的输出端连接电阻R2的一端，电阻R2的另一端分别连接电阻R3和二级管DW1的正极；二级管DW1的负极连接二级管DW2的负极，二级管DW2的正极分别与比较器和积分器的负极输入端连接；电阻R3的另一端连接电位RW的一端，电位RW的可调端连接积分器的正极输入端，电位RW的另一端分别与比较器和积分器的负极输入端连接，构成电导-频率转换电路。4.根据权利要求3所述的一种基于电导率测量的溶液离子浓度测量方法，其特征在于，比较器包括运算放大器A1、电阻RX、电阻Rf以及电阻R1；运算放大器A1的正极输入端连接电阻RX，负极输入端连接电阻R1；电阻Rf的两端分别连接运算放大器A1的正极输入端和输出端，构成比较器。5.根据权利要求3所述的一种基于电导率测量的溶液离子浓度测量方法，其特征在于，积分器包括运算放大器A2、电阻Rt、电容C1以及电阻R4；运算放大器A2的正极输入端连接电阻Rt，负极输入端连接电阻R4；电容C1的两端分别连接运算放大器A2的正极输入端和输出端，构成积分器。6.根据权利要求1所述的一种基于电导率测量的溶液离子浓度测量方法，其特征在于，根据电导-频率转换电路获取待测溶液的电导率的公式为：σ＝kTSx其中，σ表示溶液的电导率，k表示电导-频率转换电路的参数，T表示定时时间，Sx表示导电池的电导，Rf表示电导-频率转换电路中电阻Rf的阻值，aw表示电位器RW的分压比，Rt表示电导-频率转换电路中电阻Rt的阻值，C表示电容C1的容值。7.根据权利要求1所述的一种基于电导率测量的溶液离子浓度测量方法，其特征在于，采用温度-离子浓度-电导率表对待测溶液的导电率进行温度补偿包括：根据获取的待测离子溶液温度t确定在温度-离子浓度-电导率表中的位置，即Ti＜t＜Ti+1；在表中获取Ti和Ti+1对应的数据，并采用线性插值放计算各个浓度溶液在温度t时的电导率σ1k～σlk；确定实际的待测溶液导电率σxt在σ1k～σlk中的位置，并采用插值计算当前待测离子溶液浓度。8.根据权利要求7所述的一种基于电导率测量的溶液离子浓度测量方法，其特征在于，用线性插值放计算各个浓度溶液在温度t时的电导率σ1k～σlk的公式为：其中，σi+1表示第i+1个离子浓度溶液的电导率，σi表示第i个离子浓度溶液的电导率，ti+1表示第i+1个离子浓度溶液的温度，ti表示第i个离子浓度溶液的温度，t表示待测离子溶液的温度。9.根据权利要求7所述的一种基于电导率测量的溶液离子浓度测量方法，其特征在于，采用插值计算当前待测离子溶液浓度公式为：其中，cx表示当前待测离子溶液浓度，cn+1表示第n+1个位置处的离子溶液浓度，cn表示第n个位置处的离子溶液浓度，σk表示第n+1个位置处的离子溶液导电率，σnk表示第n个位置处的离子溶液导电率，σxk表示实际的待测溶液导电率。
说明书desc
技术领域本发明属于计量测量领域，具体涉及一种基于电导率测量的溶液离子浓度测量方法。背景技术溶液的离子浓度测量是指在水溶液中测量水中的离子数量；例如对溶液中的盐度的测量；盐度定义为单位质量的水中溶解的盐的数量，盐度检测对于工业领域非常重要，例如海洋环境的检测，季节性气候预测和海洋养殖业，工业废水处理，特别是对于保护海洋环境和水资源检测有着广泛的应用背景和显著的实际意义。盐度测量方法主要分为电导率测量法、光学折射法、微波检测法、核磁共振法等。其中从测量速度，测量范围，长期性以及成本来看，电导率法是最普遍的检测方法,即我们可以把待测溶液盐度量的变化转化为电导率的变化。其中，电极电导率法采用的电极结构简单，造价低廉，测量范围广。根据电极电导法检测盐度的原理，采用一对导电电极作为测量溶液浓度的媒介，在电极两端通电。在盐度测量时，将电压施加到电极两端，形成一个电导池，通过电极之间电导的不同，计算得到对应的盐度。溶液在电解过程中会出现的一种现象。在电极的两端如果加上一个直流电压,那么溶液中的电阻会有增大的趋势,导致测量的误差増大,造成的效应就是极化效应。为了降低极化效应的影响，需要给极板加较高频率正负对称的交流电压，并且应尽可能地降低流过电导池的电流。由于温度对电化学反应速度有一定的影响，即温度对等效电阻值有一定的影响，温度越高等效电阻就越小，导致最终测量的结果精确度差。发明内容为解决以上现有技术存在的问题，本发明提出了一种基于电导率测量的溶液离子浓度测量方法，该方法包括：构建温度-离子浓度-电导率表；获取待测溶液的温度；将通电的后的电极插入到待测溶液中，构成电导池，并获取导电池的电导；设置定时时间T，根据设置的定时时间将导电池的电导信号输入到电导-频率转换电路中，得到待测溶液的电导率；根据获取的待测溶液温度采用温度-离子浓度-电导率表对待测溶液的导电率进行温度补偿，得到待测溶液的离子浓度。优选的，构建温度-离子浓度-电导率表的过程包括：获取不同浓度的溶液，在不同温度下测量各浓度溶液的导电率；根据离子溶液的浓度、当前浓度溶液的温度以及该浓度和温度下溶液的导电率构建温度-离子浓度-电导率表。优选的，电导-频率转换电路包括比较器、连接电路以及积分器；连接电路包括电阻R2、电阻R3、二级管DW1、二级管DW2以及电位器RW；比较器的正极输入端连接积分器的输出端，负极输入端连接积分器的负极输入端；比较器的输出端连接电阻R2的一端，电阻R2的另一端分别连接电阻R3和二级管DW1的正极；二级管DW1的负极连接二级管DW2的负极，二级管DW2的正极分别与比较器和积分器的负极输入端连接；电阻R3的另一端连接电位RW的一端，电位RW的可调端连接积分器的正极输入端，电位RW的另一端分别与比较器和积分器的负极输入端连接，构成电导-频率转换电路。进一步的，比较器包括运算放大器A1、电阻RX、电阻Rf以及电阻R1；运算放大器A1的正极输入端连接电阻RX，负极输入端连接电阻R1；电阻Rf的两端分别连接运算放大器A1的正极输入端和输出端，构成比较器。进一步的，积分器包括运算放大器A2、电阻Rt、电容C1以及电阻R4；运算放大器A2的正极输入端连接电阻Rt，负极输入端连接电阻R4；电容C1的两端分别连接运算放大器A2的正极输入端和输出端，构成积分器。优选的，根据电导-频率转换电路获取待测溶液的电导率的公式为：σ＝kTSx其中，σ表示溶液的电导率，k表示电导-频率转换电路的参数，T表示定时时间，Sx表示导电池的电导，Rf表示电导-频率转换电路中电阻Rf的阻值，aw表示电位器RW的分压比，Rt表示电导-频率转换电路中电阻Rt的阻值，C表示电容C1的容值。优选的，采用温度-离子浓度-电导率表对待测溶液的导电率进行温度补偿包括：根据获取的待测离子溶液温度t确定在温度-离子浓度-电导率表中的位置，即Ti＜t＜Ti+1；在表中获取Ti和Ti+1对应的数据，并采用线性插值放计算各个浓度溶液在温度t时的电导率σ1k～σlk；确定实际的待测溶液导电率σxt在σ1k～σlk中的位置，并采用插值计算当前待测离子溶液浓度。进一步的，用线性插值放计算各个浓度溶液在温度t时的电导率σ1k～σlk的公式为：其中，σi+1表示第i+1个离子浓度溶液的电导率，σi表示第i个离子浓度溶液的电导率，ti+1表示第i+1个离子浓度溶液的温度，ti表示第i个离子浓度溶液的温度，t表示待测离子溶液的温度。进一步的，采用插值计算当前待测离子溶液浓度公式为：其中，cx表示当前待测离子溶液浓度，cn+1表示第n+1个位置处的离子溶液浓度，cn表示第n个位置处的离子溶液浓度，σk表示第n+1个位置处的离子溶液导电率，σnk表示第n个位置处的离子溶液导电率，σxk表示实际的待测溶液导电率。本发明的有益效果：本测量方法首先通过电导—频率转化电路直接与电导电极一起构成振荡器，该方法能够根据待测电极电阻大小实现自动变频，较好的抑制极化效应和电容效应。由于采用频率传送方式，可以采用少量的光电耦合器将电导.频率转换器与单片机系统实现电器隔离，保证所组成的智能测量仪表具极强的抗干扰能力和噪声抑制能力，然后配合温度传感器进行查表插值算法以减小温度效应误差，整个离子浓度测量过程电路简单，测量速度快。附图说明图1为本发明的离子浓度测量硬件框图；图2为本发明的电导-频率转换电路图；图3为本发明的温度补偿流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。一种基于电导率测量的溶液离子浓度测量方法，该方法包括：构建温度-离子浓度-电导率表；获取待测溶液的温度；将通电的后的电极插入到待测溶液中，构成电导池，并获取导电池的电导；设置定时时间T，根据设置的定时时间将导电池的电导信号输入到电导-频率转换电路中，得到待测溶液的电导率；根据获取的待测溶液温度采用温度-离子浓度-电导率表对待测溶液的导电率进行温度补偿，得到待测溶液的离子浓度。在以下的实施例中以盐溶液的离子浓度测量来进行说明。一种基于电导率测量的溶液盐度测量器件，该器件如图1所示，包括盐度电极、电导-频率转换电路、微控制器、温度传感器、传输电路以及电源电路；所述电源电路用于为整个器件供电；所述传输电路用于将测量结果进行输出；盐度电极与电导-频率转换电路进行导通；电导-频率转换电路的输出端与微控制器的输入端连接；所述温度传感器用于测量待测溶液的温度，并将测量结果输入到微控制器中；微控制器对待测溶液的温度以及电导-频率转换电路输出的振荡频率进行处理，得到待测溶液的盐浓度。具体的，基于电导率测量的溶液盐度测量器件的电极采用一对石墨电极作为盐度电极，其特性是具有优秀的导电性，化学稳定性强、耐腐蚀、易加工且成本低。在盐度测量时，在盐度电极两端通电，形成一个电导池，然后由电导-频率转换电路够成一个振荡电路，电导池中的电导通过该电路变换为相应频率的方波，成为频率量，计算得到待测盐度电阻的振荡频率，并将频率值上传到微控制器中进行处理。同时温度传感器测量得到相应的温度值，采用查表插值法完成温度补偿。如图2所示，电导-频率转换电路包括比较器、连接电路以及积分器；连接电路包括电阻R2、电阻R3、二级管DW1、二级管DW2以及电位器RW；比较器的正极输入端连接积分器的输出端，负极输入端连接积分器的负极输入端；比较器的输出端连接电阻R2的一端，电阻R2的另一端分别连接电阻R3和二级管DW1的正极；二级管DW1的负极连接二级管DW2的负极，二级管DW2的正极分别与比较器和积分器的负极输入端连接；电阻R3的另一端连接电位RW的一端，电位RW的可调端连接积分器的正极输入端，电位RW的另一端分别与比较器和积分器的负极输入端连接，构成电导-频率转换电路。比较器包括运算放大器A1、电阻RX、电阻Rf以及电阻R1；运算放大器A1的正极输入端连接电阻RX，负极输入端连接电阻R1；电阻Rf的两端分别连接运算放大器A1的正极输入端和输出端，构成比较器。积分器包括运算放大器A2、电阻Rt、电容C1以及电阻R4；运算放大器A2的正极输入端连接电阻Rt，负极输入端连接电阻R4；电容C1的两端分别连接运算放大器A2的正极输入端和输出端，构成积分器。电导-频率转换电路与盐度电极进行连接，构成了一个自激振荡器，振荡器的振荡频率为：其中，f表示振荡频率，Rf表示电导-频率转换电路中电阻Rf的阻值，aw表示电位器RW的分压比，Rt表示电导-频率转换电路中电阻Rt的阻值，C表示电容C1的容值，Rx表示电导-频率转换电路中电阻Rx的阻值。由于频率与Rx、Rt成反比，如果用电导池代替Rx、Rt，就能把电导池的电导量Sx变换成频率量。对于电路中将电导池的电阻用Rx代替，如果用电导池替代；可得到：f＝kSx将输出频率送到微处理机中进行计数,可得到计数器内的计数值为：N＝kTSx其中T为定时时间,通过选择参数k和定时时间T，使kT＝l，那么电导率的值就是计数器内数值N。电导率和盐度是非线性关系，且受温度影响较大，因此本系统采用温度传感器提供参考温度，并通过一定的经验公式进行校准，一般电解质溶液中电导率和温度的关系为：σt≈σ0其中σt和σ0分别为温度t和t0的电导率；β1为电导率的温度系数。由上式可知，只要知道温度t和该温度下的电导率，就可以求出基准温度t0时的电导率。但是当被测电解质溶液的电导率与温度之间的关系是未知的，那么面对的被测介质很可能处于一种不断变化的状态。如果不同浓度下的被测介质在不同温度下有不同的温度系数，那么简单的套用上式，就会造成很大的误差。因此采用查表插值算法的方法进行温度补偿。构建温度-离子浓度-电导率表的过程包括：获取不同浓度的溶液，在不同温度下测量各浓度溶液的导电率；根据离子溶液的浓度、当前浓度溶液的温度以及该浓度和温度下溶液的导电率构建温度-离子浓度-电导率表。具体的，通过电导-频率法和温度传感器，建立一个不同盐度和温度间隔下的电导率表格。表1不同温度下盐度溶液的电导率值如图3所示，用温度-离子浓度-电导率表对待测溶液的导电率进行温度补偿包括：根据获取的待测离子溶液温度t确定在温度-离子浓度-电导率表中的位置，即Ti＜t＜Ti+1；在表中获取Ti和Ti+1对应的数据，并采用线性插值放计算各个浓度溶液在温度t时的电导率σ1k～σlk；确定实际的待测溶液导电率σxt在σ1k～σlk中的位置，并采用插值计算当前待测离子溶液浓度。通过温度传感器测得当前温度t，然后确定t在表1中的位置k，利用线性插值法求出该溶液在温度t下的l个浓度范围的电导值σ1k～σlk：其中，σi+1表示第i+1个离子浓度溶液的电导率，σi表示第i个离子浓度溶液的电导率，ti+1表示第i+1个离子浓度溶液的温度，ti表示第i个离子浓度溶液的温度，t表示待测离子溶液的温度。然后测出当前溶液的实际电导率值σxt，确定σxt在表σ1k～σlk中的位置，这里假设σnk＜σxk＜σk，且1≤n≤l-1。通过表格插值计算得到当前溶液的盐度：其中，cx表示当前待测离子溶液浓度，cn+1表示第n+1个位置处的离子溶液浓度，cn表示第n个位置处的离子溶液浓度，σk表示第n+1个位置处的离子溶液导电率，σnk表示第n个位置处的离子溶液导电率，σxk表示实际的待测溶液导电率。具体做法是在恒温条件下测量温度范围在0℃～40℃，盐度范围在0.0％～20％浓度的氯化钠溶液，然后将其测得的电导值写入单片机中，建立温度-盐度-电导率的表格，在测量未知溶液浓度时利用该表格进行温度补偿。以下是实际计算过程中建立的部分表格实际表格数据：表2实际测试中温度-盐度-电导率表：根据建立的表格，配置1％、5％、10％、15％四组氯化钠溶液，并设定三个温度点进行测试验证，测试结果如下：表3不同温度下盐度测试结果由测试结果可知，盐度测量误差不超过1％。本测量方法首先通过电导—频率转化电路直接与电导电极一起构成振荡器，该方法能够根据待测电极电阻大小实现自动变频，较好的抑制极化效应和电容效应。由于采用频率传送方式，可以采用少量的光电耦合器将电导.频率转换器与单片机系统实现电器隔离，保证所组成的智能测量仪表具极强的抗干扰能力和噪声抑制能力，然后配合温度传感器进行查表插值算法以减小温度效应误差，整个盐度测量过程电路简单，测量速度快。以上所举实施例，对本发明的目的、技术方案和优点进行了进一步的详细说明，所应理解的是，以上所举实施例仅为本发明的优选实施方式而已，并不用以限制本发明，凡在本发明的精神和原则之内对本发明所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
