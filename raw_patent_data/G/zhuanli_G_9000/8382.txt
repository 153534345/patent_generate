标题title
一种面向电网调控业务的AI模型服务化共享方法及系统
摘要abst
本发明公开了一种面向电网调控业务的AI模型服务化共享方法及系统，其包括：获取AI模型仓库，所述AI模型仓库包括多个模型集，每个模型集中存储有多个相同类型的AI模型；以AI模型仓库中的模型集为粒度在集群系统中创建AI模型的模型在线服务；通过启动模型在线服务将AI模型仓库中的AI模型保存到集群系统中；根据外部请求从集群系统中加载AI模型。本发明采用批量存取AI模型方式，减少了网络传输频率，有效提高了存取效率，基于Kubernetes提供AI模型服务一体化发布，实现快速平滑升级和扩容，提高硬件资源利用率，方便快捷、安全可靠、低成本，构建应用AI模型成果在调控系统内部共建共享的生态环境。
权利要求书clms
1.一种面向电网调控业务的AI模型服务化共享方法，其特征在于，包括如下步骤：获取AI模型仓库，所述AI模型仓库包括多个模型集，每个模型集中存储有多个相同类型的AI模型；以AI模型仓库中的模型集为粒度在集群系统中创建AI模型的模型在线服务；通过启动模型在线服务将AI模型仓库中的AI模型保存到集群系统中；根据外部请求从集群系统中加载AI模型。2.根据权利要求1所述的一种面向电网调控业务的AI模型服务化共享方法，其特征在于，AI模型仓库中的每个模型集配置有唯一的模型集ID，同一个模型集包括一个或多个模型集版本，每个模型版本配置有唯一的模型集版本ID；AI模型仓库中的每个AI模型配置有唯一的模型UID。3.根据权利要求2所述的一种面向电网调控业务的AI模型服务化共享方法，其特征在于，AI模型仓库中设置有模型集信息表、模型集版本信息表和AI模型信息表，均为二维表形式；模型集信息表包括模型集ID、模型集名称、模型类型、模型来源；模型集版本信息表包括模型集ID、模型集版本ID、更新时间；AI模型信息表包括模型UID、模型集ID、模型集版本ID、更新时间。4.根据权利要求1所述的一种面向电网调控业务的AI模型服务化共享方法，其特征在于，AI模型仓库的构建方法为：通过电网调控业务训练获取多个AI模型，并将获取到的AI模型以内存块形式暂存；利用校验算法计算内存块的特征值，记为第一特征值；将内存块与第一特征值共同发送给服务器的文件管理服务；文件管理服务利用校验算法再次计算内存块的特征值，记为第二特征值；判断第一特征值与第二特征值是否相同，如果相同，从内存块中获取AI模型，并将AI模型存储到AI模型仓库对应的模型集中。5.根据权利要求1或2所述的一种面向电网调控业务的AI模型服务化共享方法，其特征在于，模型在线服务的创建方法包括：获取服务名称、实例数、CPU、GPU和内存；根据模型集ID、模型集版本ID和服务名称，设置模型在线服务的集群标签为“app=服务名称-集群ID”；调用Kubernetes API创建Deployment，Deployment的标签label为集群标签；通过Deployment创建ReplicaSet，并利用ReplicaSet在系统后台创建与实例数相等个数的Pod；调用Kubernetes API创建Service，并将Service的selector和Deployment的label设置一致；调用Kubernetes API创建Ingress，并将Ingress与Service关联起来。6.根据权利要求1所述的一种面向电网调控业务的AI模型服务化共享方法，其特征在于，通过启动模型在线服务将AI模型仓库中的AI模型保存到集群系统中的方法为：根据模型集ID、模型集版本ID从AI模型仓库中获取对应的模型UID列表；根据模型UID列表，通过文件管理服务从AI模型仓库中批量获取AI模型，并将获取到的AI模型以内存块形式暂存；利用校验算法计算内存块的特征值，记为第一特征值；通过文件管理服务将第一特征值与内存块一起发送至集群系统；集群系统利用校验算法再次计算内存块的特征值，记为第二特征值；判断第一特征值与第二特征值是否相同，如果相同，将该内存块保存至集群系统。7.根据权利要求5所述的一种面向电网调控业务的AI模型服务化共享方法，其特征在于，在集群系统中，通过修改Ingress对象的backend配置信息进行模型在线服务的蓝绿集群部署升级。8. 根据权利要求5所述的一种面向电网调控业务的AI模型服务化共享方法，其特征在于，在集群系统中，调用Kubernetes API修改Deployment的replicas参数，从而增减Pod的数量；调用Kubernetes API修改Deployment的requests和limits参数，从而修改每个Pod的CPU、GPU和内存。9.根据权利要求5所述的一种面向电网调控业务的AI模型服务化共享方法，其特征在于，根据外部请求从集群系统中加载AI模型的方法包括：通过Ingress获取集群外部URL格式的http请求，并根据预先设置的规则列表对接收到的http请求进行规则匹配；规则匹配成功后，Ingress根据Service名称和端口号将http请求转发给Service；Service根据selector将http请求代理到对应的Deployment的Pod上；模型在线服务解析http请求，根据解析出的模型UID使用各AI算法框架相应的模型加载方式加载集群系统中的AI模型。10.一种面向电网调控业务的AI模型服务化共享系统，其特征在于，包括：AI模型仓库，用于以模型集的形式存储AI模型，每个模型集存储相同类型的AI模型；模型管理模块，用于批量存取AI模型，更新AI模型，管理AI模型仓库中的模型集信息和模型集版本；模型在线服务部署模块，用于以AI模型仓库中的模型集为粒度在集群系统中部署AI模型的模型在线服务；服务启动模块，通过启动模型在线服务将AI模型仓库中的AI模型保存到集群系统中；模型加载模块，根据外部请求从集群系统中加载AI模型。
说明书desc
技术领域本发明涉及一种面向电网调控业务的AI模型服务化共享方法及系统，属于电网调控技术领域。背景技术目前电网调控技术领域的人工智能技术应用取得了初步的成果，但各类业务应用多采用AI模型独立管理模式，存在底层资源重复建设、多种算法框架模型压缩与转换能力不足、模型来源与版本无法溯源、异构系统模型部署与服务化发布能力较弱等方面问题，且应用AI模型成果没有形成共建共享的生态环境。根据目前电网调控业务的发展趋势，迫切需要提供一个人工智能模型全生命周期管理框架与系统，实现人工智能模型存储、版本控制、模型检索、云-边-端模型按需部署和模型推理能力服务化共享。发明内容为了解决现有技术中AI模型管理薄弱、模型无法共享的问题，本发明提出了一种面向电网调控业务的AI模型服务化共享方法及系统，对AI模型进行统一存储和版本管理，并通过集群系统进行模型调用，降低业务应用AI模型管理成本，提高管理效率，实现应用AI模型成果在电网调控系统内部共建共享。为解决上述技术问题，本发明采用了如下技术手段：第一方面，本发明提出了一种面向电网调控业务的AI模型服务化共享方法，包括如下步骤：获取AI模型仓库，所述AI模型仓库包括多个模型集，每个模型集中存储有多个相同类型的AI模型；以AI模型仓库中的模型集为粒度在集群系统中创建AI模型的模型在线服务；通过启动模型在线服务将AI模型仓库中的AI模型保存到集群系统中；根据外部请求从集群系统中加载AI模型。结合第一方面，进一步的，AI模型仓库中的每个模型集配置有唯一的模型集ID，同一个模型集包括一个或多个模型集版本，每个模型版本配置有唯一的模型集版本ID；AI模型仓库中的每个AI模型配置有唯一的模型UID。结合第一方面，进一步的，AI模型仓库中设置有模型集信息表、模型集版本信息表和AI模型信息表，均为二维表形式；模型集信息表包括模型集ID、模型集名称、模型类型、模型来源；模型集版本信息表包括模型集ID、模型集版本ID、更新时间；AI模型信息表包括模型UID、模型集ID、模型集版本ID、更新时间。结合第一方面，进一步的，AI模型仓库的构建方法为：通过电网调控业务训练获取多个AI模型，并将获取到的AI模型以内存块形式暂存；利用校验算法计算内存块的特征值，记为第一特征值；将内存块与第一特征值共同发送给服务器的文件管理服务；文件管理服务利用校验算法再次计算内存块的特征值，记为第二特征值；判断第一特征值与第二特征值是否相同，如果相同，从内存块中获取AI模型，并将AI模型存储到AI模型仓库对应的模型集中。结合第一方面，进一步的，模型在线服务的创建方法包括：获取服务名称、实例数、CPU、GPU和内存；根据模型集ID、模型集版本ID和服务名称，设置模型在线服务的集群标签为“app＝服务名称-集群ID”；调用Kubernetes API创建Deployment，Deployment的标签label为集群标签；通过Deployment创建ReplicaSet，并利用ReplicaSet在系统后台创建与实例数相等个数的Pod；调用Kubernetes API创建Service，并将Service的selector和Deployment的label设置一致；调用Kubernetes API创建Ingress，并将Ingress与Service关联起来。结合第一方面，进一步的，通过启动模型在线服务将AI模型仓库中的AI模型保存到集群系统中的方法为：根据模型集ID、模型集版本ID从AI模型仓库中获取对应的模型UID列表；根据模型UID列表，通过文件管理服务从AI模型仓库中批量获取AI模型，并将获取到的AI模型以内存块形式暂存；利用校验算法计算内存块的特征值，记为第一特征值；通过文件管理服务将第一特征值与内存块一起发送至集群系统；集群系统利用校验算法再次计算内存块的特征值，记为第二特征值；判断第一特征值与第二特征值是否相同，如果相同，将该内存块保存至集群系统。结合第一方面，进一步的，在集群系统中，通过修改Ingress对象的backend配置信息进行模型在线服务的蓝绿集群部署升级。结合第一方面，进一步的，在集群系统中，调用Kubernetes API修改Deployment的replicas参数，从而增减Pod的数量；调用Kubernetes API修改Deployment的requests和limits参数，从而修改每个Pod的CPU、GPU和内存。结合第一方面，进一步的，根据外部请求从集群系统中加载AI模型的方法包括：通过Ingress获取集群外部URL格式的http请求，并根据预先设置的规则列表对接收到的http请求进行规则匹配；规则匹配成功后，Ingress根据Service名称和端口号将http请求转发给Service；Service根据selector将http请求代理到对应的Deployment的Pod上；模型在线服务解析http请求，根据解析出的模型UID使用各AI算法框架相应的模型加载方式加载集群系统中的AI模型。第二方面，本发明提出了一种面向电网调控业务的AI模型服务化共享系统，包括：AI模型仓库，用于以模型集的形式存储AI模型，每个模型集存储相同类型的AI模型；模型管理模块，用于批量存取AI模型，更新AI模型，管理AI模型仓库中的模型集信息和模型集版本；模型在线服务部署模块，用于以AI模型仓库中的模型集为粒度在集群系统中部署AI模型的模型在线服务；服务启动模块，通过启动模型在线服务将AI模型仓库中的AI模型保存到集群系统中；模型加载模块，根据外部请求从集群系统中加载AI模型。采用以上技术手段后可以获得以下优势：本发明提出了一种面向电网调控业务的AI模型服务化共享方法及系统，通过AI模型仓库汇聚调控应用AI模型成果，实现电网调控领域AI模型的共建；针对电网调控业务应用AI模型文件小但数量多的特点，本发明以模型集为粒度进行管理，支持批量持久化存储和获取AI模型，减少网络传输频率，有效提高了模型存取效率；本发明基于Kubernetes提供AI模型服务一体化发布，可以快速平滑的进行模型升级和扩容，提高硬件资源利用率，实现跨调度机构与业务系统的AI模型能力共享；通过模型在线服务蓝绿部署升级，保证不间断的对外提供服务，只要老版本的服务不被删除，可以在任何时间切换至老版本对应的模型在线服务，有效降低AI模型升级风险。本发明方法和系统可以显著降低业务应用对AI模型管理的沟通成本和人力成本，有效提高模型管理效率，实现应用AI模型成果在调控系统内部共建共享。附图说明图1为本发明一种面向电网调控业务的AI模型服务化共享方法的步骤流程图；图2为本发明实施例中AI模型管理和服务化共享数据流程图；图3为本发明实施例中创建模型在线服务的流程图。具体实施方式下面结合附图对本发明的技术方案作进一步说明：为了在电网调度系统中实现AI模型的共建共享，本发明提供了一种面向电网调控领域的AI模型管理方法，以模型集为粒度对电网调控领域AI模型进行存储和管理，构建AI模型仓库，具体操作如下：S1、用户按需创建多个模型集，每个模型集配置有唯一的模型集ID，每个模型集仅存储相同类型的AI模型，常见人工智能算法框架和模型文件类型对应关系如表1所示。表1S2、通过电网调控业务训练获取多个AI模型，每个AI模型配置有唯一的模型UID，并将获取到的AI模型以内存块形式暂存。S3、利用校验算法计算内存块的特征值，记为第一特征值，将内存块与第一特征值共同发送给服务器的文件管理服务。S4、文件管理服务利用校验算法再次计算内存块的特征值，记为第二特征值。S5、判断第一特征值与第二特征值是否相同，如果相同，从内存块中获取AI模型，并将AI模型存储到AI模型仓库对应的模型集中。在本发明实施例中，校验算法包括但不限于CRC-32、CRC-64、SHA-1、SHA-256、MD5等。本发明可以对模型集进行版本控制，同一个模型集可以包括一个或多个模型集版本，每个模型版本配置有唯一的模型集版本ID。当一个模型集中的任一AI模型更新时，就会生成一个新版本的模型集，AI模型可以自动更新或手动更新，即新的模型集版本可以自动创建或手动创建，AI模型手动更新过程一般为用户主动上传新的AI模型或修改现有AI模型的参数并重新训练，AI模型自动更新过程为：针对电网调控业务不同应用需要按日、周、月、季度、年等不同周期重新训练AI模型，并进行批量AI模型更新，通过内部自动更新模式代替人工维护，可以降低沟通成本和人力成本，有效提高管理效率。在AI模型仓库中，以二维表形式存储了模型集信息、模型集版本信息和AI模型信息，分别记为模型集信息表、模型集版本信息表和AI模型信息表。模型集信息包括模型集ID、模型集名称、模型类型、模型来源等；其中，模型来源可以是平台自定义的或者是用户自定义的。模型集版本信息表包括模型集ID、模型集版本ID、版本更新时间等；AI模型信息包括模型UID、模型集ID、模型集版本ID、更新时间等。电网调控领域部分业务应用，需要针对不同电网设备构建成百上千个相同类型的AI模型，模型文件相对较小但数量相对较多，以模型集为粒度进行管理，可以有效降低沟通成本和人力成本，提高管理效率。此外，本发明采用批量持久化存储AI模型模式，减少了网络传输频率，有效提高了传输和存储效率根据上述构建的AI模型仓库，本发明提出了一种面向电网调控业务的AI模型服务化共享方法，如图1、2所示，具体包括如下步骤：步骤A、获取AI模型仓库。步骤B、以AI模型仓库中的模型集为粒度在集群系统中创建AI模型的模型在线服务；模型在线服务可以是自动创建的也可以手动创建的，模型在线服务可以对外提供模型预测、手动或自动更新等功能，如图3所示，具体包括如下步骤：步骤B01、获取服务名称、实例数、CPU、GPU和内存等所需机器资源，这些所需的机器资源一般是人为设置的。对于AI模型仓库中的任一模型集，仅存在一个且名称唯一的模型在线服务，服务名称与模型集ID对应，服务名称以二维表形式存储。一个模型集版本有且仅有一个集群，由于一个模型集可能包括多个版本，因此对于任一模型在线服务，支持存在多个集群，但仅集群外部通过URL可访问模型在线服务中的一个集群，该集群为绿集群，其它集群为蓝集群。集群ID属于UID，其与模型集ID、模型集版本ID、实例数、CPU、GPU、内存、集群状态等，以二维表形式存储，保证映射关系的完整性。在本发明实施例中，假定模型集为g1，模型集版本为v1，设置模型在线服务名称test、集群ID为d1、实例数为2、CPU核数为2、GPU核数为0和内存大小为2G。步骤B02、根据模型集ID、模型集版本ID和服务名称，设置模型在线服务的集群标签为“app＝服务名称-集群ID”。步骤B03、创建Deployment.yaml文件，调用Kubernetes API创建Deployment，Deployment的标签label为步骤B02中的集群标签。Kubernetes会使用Deployment创建ReplicaSet，ReplicaSet在后台创建与所设置的实例数相等个数的Pod。每个Pod对应一个基于基础镜像创建的容器，该容器可以启动模型在线服务，对外提供模型预测、手动或自动更新等功能，每次接收到http请求时调用相应函数。基础镜像内预装包括但不限于Spark、TensorFlow、Keras、Scikit-learn等模型在线服务所需的Java/Python模块。在本发明实施例中，调用Kubernetes API创建的Deployment对象名称为“test-d1”，标签label为“app＝test-d1”，假定模型发布服务对外暴露端口号为12345，Deployment.yaml文件的示例如下：步骤B04、创建Service.yaml文件，调用Kubernetes API创建Service，并将Service的selector和Deployment的label设置一致，使步骤B03创建的这一组Pod能够被该Service访问到。在本实施例中，调用Kubernetes API创建Service名称为“test-d1”，该Service的selector为“app＝test-d1”，它会将请求代理到步骤B03创建的Pod上，Service.yaml文件的示例如下：步骤B05、创建Ingress.yaml文件，调用Kubernetes API创建Ingress，并将Ingress与Service关联起来。Service和Pod仅可在Kubernetes集群内部网络中通过IP地址访问，无法被集群外部访问，因此本发明通过Ingress实现集群外部通过URL向指定Pod发送http请求的功能。Ingress中设置了入站请求的规则列表，可在接到http请求后进行规则匹配，并将流量转发到Service名称和端口号。在本发明实施例中，创建一个名称为“test”的Ingress对象，它会匹配http规则/modelService/test并将流量转发至步骤B04中创建的名称为“test-d1”的Service对象的12345端口。Ingress.yaml文件的示例如下：步骤C、通过启动模型在线服务将AI模型仓库中的AI模型保存到集群系统中，具体操作如下：步骤C01、启动模型在线服务，根据该模型在线服务对应的模型集ID、模型集版本ID从AI模型仓库中获取对应的模型UID列表。根据模型集ID和模型集版本ID检索AI模型仓库中的模型集信息表、模型集版本信息表和AI模型信息表，可以得到所有符合要求的AI模型UID，形成模型UID列表。步骤C02、根据模型UID列表，通过文件管理服务从AI模型仓库中批量获取AI模型，并将获取到的AI模型以内存块形式暂存。步骤C03、利用校验算法计算内存块的特征值，记为第一特征值；通过文件管理服务将第一特征值与内存块一起发送至集群系统。步骤C04、集群系统利用校验算法再次计算内存块的特征值，记为第二特征值，并判断第一特征值与第二特征值是否相同，如果相同，将该内存块保存至集群系统中。AI模型是暂存在集群系统中，停止模型在线服务集群时删除并释放机器资源。模型在线服务启动后，对外发布模型在线服务，外部可以请求模型在线服务。通过重复步骤C01～C04，实现用户需求通过外部URL请求、内部自动更新AI模型，支持全模型集更新至指定版本和更新任一版本的任一AI模型。一站式AI模型升级，同时满足业务应用在不同场景下AI模型手动更新、自动定期更新需求。对于同一个模型在线服务，如果有新的模型集版本出现或者需要更换服务对应的模型集版本，可通过修改Ingress对象的backend配置信息进行模型在线服务的蓝绿集群部署升级。蓝绿部署在升级过程中，模型在线服务始终在线，可以保证不间断的对外提供服务。同时，新版本上线的过程中，并没有修改老版本的任何内容，在部署期间，老版本的状态不受影响，只要老版本的服务不被删除，可以在任何时间切换至老版本对应的模型在线服务，降低AI模型升级风险。在本发明实施例中，假定新的模型集版本为v2，实例数为1、CPU核数为2、GPU核数为0和内存大小为2G，蓝绿集群部署升级的具体操作如下：根据模型集、模型集版本、服务名称、实例数、CPU、GPU和内存等配置信息，设置新的集群标签“app＝test-d2”，调用Kubernetes API创建的Deployment对象名称为“test-d2”，标签label为“app＝test-d2”，并利用Kubernetes与实例数相等个数的Pod，此时，该组Pod为蓝集群，步骤B03中创建的一组Pod为绿集群。创建Service.yaml文件，调用Kubernetes API创建Service名称为“test-d2”，并将Service的selector为“app＝test-d2”，它会将请求代理到步骤创建的Pod上。调用Kubernetes API修改步骤B05创建的Ingress对象的配置信息，实现服务流量切换。修改“test”的Ingress对象的backend配置信息，将流量转发至步骤中创建的名称为“test-d2”的Service对象的12345端口。切换后，步骤中创建的一组Pod变为绿集群，步骤B03中创建的一组Pod变为蓝集群。在集群系统中，当模型服务的负载能力有较高要求时，可调用Kubernetes API修改Deployment的replicas参数以增加Pod的数量，也可根据集群资源使用情况，修改requests和limits参数以修改每个Pod的CPU、GPU和内存等资源。步骤D、根据外部请求从集群系统中加载AI模型，完成模型调用，对外提供模型预测等功能。步骤D01、通过Ingress获取集群外部URL格式的http请求，并根据预先设置的规则列表对接收到的http请求进行规则匹配。步骤D02、规则匹配成功后，Ingress根据Service名称和端口号将http请求转发给Service。步骤D03、Service根据selector将http请求代理到对应的Deployment的Pod上，Pod上的容器内的模型在线服务可以接收到http请求。步骤D04、模型在线服务解析http请求，根据解析出的模型UID使用各AI算法框架相应的模型加载方式加载集群系统中的AI模型，返回模型预测结果，完成AI模型调用。外部可通过URL访问一个版本的模型集，可以同时调用该版本模型集中的多个AI模型。本发明方法还包括如下步骤：步骤E：根据集群ID停止不使用的模型在线服务集群，具体操作如下：步骤E01：调用Kubernetes API删除名称为“服务名称-集群ID”的Deployment。在本实施例中，调用Kubernetes API删除名称为“test-d1”的Deployment。步骤E02：调用Kubernetes API删除标签为“app＝服务名称-集群ID”ReplicaSet。在本实施例中，调用Kubernetes API删除标签为“app＝test-d1”的ReplicaSet。步骤E03：调用Kubernetes API删除标签为“app＝服务名称-集群ID”的Pod。在本实施例中，调用Kubernetes API删除标签为“app＝test-d1”的Pod。步骤E04：调用Kubernetes API删除名称为“服务名称-集群ID”Service。在本实施例中，调用Kubernetes API删除名称为“test-d1”的Service。步骤E05：根据集群ID，删除模型在线服务集群配置信息。在本实施例中，删除集群ID为d1的模型在线服务集群配置信息。步骤F：根据服务名称删除模型在线服务，具体操作如下：步骤F01：根据服务名称，查询所有集群列表。步骤F02：重复步骤E01-E05，依次删除所有集群。在本实施例中，调用KubernetesAPI删除名称为“test-d2”的Deployment、标签为“app＝test-d2”的ReplicaSet、标签为“app＝test-d2”的Pod和名称为“test-d2”的Service，删除集群ID为d2的模型在线服务集群配置信息。步骤F03：调用Kubernetes API删除名称为“服务名称”Ingress。在本实施例中，调用Kubernetes API删除名称为“test”的Ingress。步骤F04：根据服务名称，删除模型在线服务信息。在本实施例中，删除服务名称为test的模型在线服务信息。本发明基于Kubernetes提供AI模型服务一体化发布，实现快速平滑升级和扩容，提高硬件资源利用率，实现跨调度机构与业务系统的AI模型能力共享，可显著降低业务应用对AI模型管理的沟通成本和人力成本，有效提高管理效率，实现应用AI模型成果在调控系统内部共建共享。本发明还提出了一种面向电网调控业务的AI模型服务化共享系统，主要包括AI模型仓库、模型管理模块、模型在线服务部署模块、服务启动模块和模型加载模块。AI模型仓库主要用于以模型集的形式存储AI模型，每个模型集存储相同类型的AI模型。模型管理模块主要用于批量存取AI模型，更新AI模型，管理AI模型仓库中的模型集信息和模型集版本。模型管理模块包括如下子模块：模块M101：模型集管理子模块，提供模型集信息的增加、删除、修改和模型集版本控制功能。模块M102：AI模型批量存取子模块，批量持久化存储和获取AI模型，并根据校验算法生成特征值。模块M103：AI模型更新子模块，支持http请求和自动定期更新全模型集至指定版本和更新任一版本的任一AI模型。模型在线服务部署模块主要用于以AI模型仓库中的模型集为粒度在集群系统中部署AI模型的模型在线服务，模型在线服务部署模块的具体操作与本发明方法的步骤B一致。模型在线服务部署模块包括如下子模块：模块M201：Deployment创建子模块，根据指定模型集、模型集版本，并设置服务名称、实例数、CPU、GPU和内存等所需机器资源，创建Deployment.yaml文件，调用KubernetesAPI创建Deployment。模块M202：Service创建子模块，创建Service.yaml文件，调用Kubernetes API创建Service。模块M203：Ingress创建子模块，创建Ingress.yaml文件，调用Kubernetes API创建Ingress。模块M204：流量切换子模块，根据需要切换蓝绿集群ID，调用Kubernetes API修改Ingress配置信息。模块M205：集群状态查询子模块，根据集群ID，查询该集群中所有Pod的状态，常见Pod状态如表2所示：表2服务状态名称服务状态描述创建中ContainerCreating运行Running停止Terminating等待Pending失败Fail服务启动模块主要用于通过启动模型在线服务将AI模型仓库中的AI模型保存到集群系统中，具体操作与本发明方法的步骤C一致。模型加载模块主要用于根据外部请求从集群系统中加载AI模型，具体操作与本发明方法的步骤D一致。本发明方法和系统可以显著降低业务应用对AI模型管理的沟通成本和人力成本，有效提高模型管理效率，实现应用AI模型成果在调控系统内部共建共享。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。以上所述仅是本发明的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明技术原理的前提下，还可以做出若干改进和变形，这些改进和变形也应视为本发明的保护范围。
