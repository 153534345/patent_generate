标题title
基于加速度计、太阳敏感器和GNSS的定姿方法及数字罗盘
摘要abst
本发明提供一种基于加速度计、太阳敏感器和GNSS的定姿方法及数字罗盘，定姿方法包括：计算加速度计相对于载体坐标系的测量矢量aB、太阳敏感器相对于载体坐标系的测量矢量Sb、太阳矢量在北西天坐标系的理论矢量Sg；根据aB、Sg、Sb，以及重力矢量在北西天坐标系的理论矢量ag，利用双矢量定姿算法计算载体坐标系相对北西天坐标系的姿态矩阵根据姿态矩阵利用求姿态角公式求解出偏航角、俯仰角、滚动角。寻北精度提高到0.1°，且完全摒弃了地磁的方法，避免了环境对地磁扰动进而影响定向定姿精度的问题，同时继承了数字罗盘小型化轻量化便捷化的优点。
权利要求书clms
1.基于加速度计、太阳敏感器和GNSS的定姿方法，其特征在于，包括：计算加速度计相对于载体坐标系的测量矢量aB；计算太阳敏感器相对于载体坐标系的测量矢量Sb；计算太阳矢量在北西天坐标系的理论矢量Sg，包括步骤：计算太阳矢量在惯性系下的参数Ri、计算惯性系到地固系的变换阵计算地固系到北西天坐标系的变换阵根据公式得到Sg；根据aB、Sg、Sb，以及重力矢量在北西天坐标系的理论矢量ag，利用双矢量定姿算法计算载体坐标系相对北西天坐标系的姿态矩阵其中，ag为’；根据姿态矩阵利用求姿态角公式求解出偏航角、俯仰角、滚动角。2.根据权利要求1所述的基于加速度计、太阳敏感器和GNSS的定姿方法，其特征在于，计算加速度计相对于载体坐标系的测量矢量aB，包括步骤：根据三轴加速度计的测量数据为a1、a2、a3，以及加速度计头部在加速度计坐标系下的安装矢量为VA 1、VA 2、VA 3，通过如下转换公式计算：然后进行归一化处理：其中，为加速度计坐标系到载体坐标系的转换矩阵。3.根据权利要求1所述的基于加速度计、太阳敏感器和GNSS的定姿方法，其特征在于，太阳敏感器为APS数字式太阳敏感器，用于测量太阳矢量双轴角度，太阳敏感器测得的太阳的两个角度在数字太阳敏感器坐标系内分别用α、β表示，太阳敏感器坐标系到载体坐标系的转换矩阵为太阳敏感器相对于载体坐标系的测量矢量Sb过如下公式计算获得：Ss1＝-tanα*Ss3Ss2＝-tanβ*Ss34.根据权利要求1所述的基于加速度计、太阳敏感器和GNSS的定姿方法，其特征在于，太阳矢量在惯性系下的参数Ri，通过如下公式计算：a＝149598023280.828e＝0.01670862-0.00004204*Tc-0.00000124*Tc2i＝0.42909280228307-0.0002269655829*Tc-0.00000000279*Tc2ω＝4.9381882820077+0.00562976999*Tc-0.00000275*Tc2M＝modu＝ω+f求得Ri后对其进行归一化处理：式中t表示当前时刻相对预设时间的时间，单位为秒，当前时刻的时间通过GNSS信号获得，式中Ω的值为0。5.根据权利要求1所述的基于加速度计、太阳敏感器和GNSS的定姿方法，其特征在于，惯性系到地固系的变换阵通过如下公式计算：a1＝0.01118*Tca2＝0.00971717*Tcb1＝2.18243862-33.75704593*Tcb2＝-2.77625791+1256.66393243*Tcd1＝-8.3386*10-5*sin-6.393*10-6*sind2＝4.4615*10-5*cos+2.781*10-6*cosd3＝0.91747721*d1λg＝*π/180λ＝mod式中t表示当前时刻相对预设时间的时间，单位为秒，当前时刻的时间通过GNSS信号获得。6.根据权利要求1所述的基于加速度计、太阳敏感器和GNSS的定姿方法，其特征在于，计算地固系到北西天坐标系的变换阵时，首先通过GNSS信号获取当前时刻的经度W、纬度L和高度h信息，计算采用如下公式：x＝*cosW*cosLy＝*cosW*sinLz＝*sinLr＝Ze＝TYc＝Zc×ZeXc＝Yc×Zc7.根据权利要求1所述的基于加速度计、太阳敏感器和GNSS的定姿方法，其特征在于，计算Sg时，还对计算得到的Sg进行归一化：8.根据权利要求1所述的基于加速度计、太阳敏感器和GNSS的定姿方法，其特征在于，姿态矩阵通过如下公式计算：V2i＝ag×SgV3i＝ag×V2iV2b＝ab×SbV3b＝ab×V2b9.根据权利要求1所述的基于加速度计、太阳敏感器和GNSS的定姿方法，其特征在于，偏航角：俯仰角：滚动角：10.基于加速度计、太阳敏感器和GNSS的数字罗盘，用于实现如权利要求1～9中任意一项所述的定姿方法，其特征在于，数字罗盘包括：装于同一载体上的太阳敏感器、三轴加速度计以及处理器，处理器连接太阳敏感器、三轴加速度计，处理器还用于接收外部输入的GNSS信号。
说明书desc
技术领域本发明涉及寻北测量及数字罗盘技术领域，尤其涉及一种基于加速度计、太阳敏感器和GNSS的定姿方法及数字罗盘。背景技术数字罗盘是寻北仪的一种，其克服了传统机械罗盘的结构复杂、体积大、价格高的缺点，作为姿态和航向测量设备得到了广泛应用，尤其是在车辆导航、机器人、无人机、雷达、航空、航海等领域有着广阔的应用。传统的电子罗盘/数字罗盘是基于磁通门传感器或磁阻传感器、双轴倾角传感器，通过内置微处理器计算传感器与磁北夹角。一般情况下多利用磁阻传感器测量地磁原理，其航向测量精度大多在0.5°～1°左右，且抗干扰能力差，在实际应用过程中，会有干扰磁场叠加到地磁场上，会改变磁场的大小和方向，会对磁阻传感器造成干扰，产生较大的测量误差。发明内容针对上述现有技术不足，本发明提供一种基于加速度计、太阳敏感器和GNSS的定姿方法及数字罗盘，寻北精度提高到0.1°，且完全摒弃了地磁的方法，避免了环境对地磁扰动进而影响定向定姿精度的问题，同时继承了数字罗盘小型化轻量化便捷化的优点。为了实现本发明的目的，拟采用以下方案：基于加速度计、太阳敏感器和GNSS的定姿方法，包括步骤：计算加速度计相对于载体坐标系的测量矢量aB；计算太阳敏感器相对于载体坐标系的测量矢量Sb；计算太阳矢量在北西天坐标系的理论矢量Sg，包括步骤：计算太阳矢量在惯性系下的参数Ri、计算惯性系到地固系的变换阵计算地固系到北西天坐标系的变换阵根据公式得到Sg；根据aB、Sg、Sb，以及重力矢量在北西天坐标系的理论矢量ag，利用双矢量定姿算法计算载体坐标系相对北西天坐标系的姿态矩阵其中，ag为’；根据姿态矩阵利用求姿态角公式求解出偏航角、俯仰角、滚动角。基于加速度计、太阳敏感器和GNSS的数字罗盘，用于实现所述的定姿方法，数字罗盘包括：装于同一载体上的太阳敏感器、三轴加速度计以及处理器，处理器连接太阳敏感器、三轴加速度计，处理器还用于接收外部输入的GNSS信号。本发明的有益效果在于：1、与现有电子罗盘基于磁敏感器寻北的原理不同，本发明基于太阳敏感器寻北，使得寻北精度由磁寻北0.5°提升至太阳寻北0.1°，适用于露天野外的姿态测量，对载体的使用工况环境没有特殊要求；2、输出的方位数据具有速度快，无等待时间；输出数据稳定性好，且长时间输出数据不漂移、受仪表手持稳定性的影响小，输出姿态角基本无波动；3、是一种小型化、轻量化、低功耗的寻北方案。在单兵装备寻北，微小轻型飞行器、无人机航向确定、野外定向等方面有着价值的应用。附图说明图1为本申请实施例的定姿方法流程示意图。图2为本申请实施例的计算太阳矢量在北西天坐标系的理论矢量Sg的流程示意图。图3为本申请实施例的数字罗盘结构框图。具体实施方式为了使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明做进一步的详细描述。需要注意的，在下面进行的详细描述中，对于方法步骤的顺序限定应仅限于所列举的具体举例，在某些实施条件下，其中至少部分步骤，在顺序更换的情况下，并不影响实施。坐标系定义：地固系：即地球固联坐标系/大地坐标系/84坐标系，Xe轴在赤道平面内指向零度经线，Ze轴指向地球北极方向，Ye轴与Xe轴、Ze轴构成右手系。惯性系，即J2000惯性坐标系，Xi轴平行于历元J2000.0地球平赤道平春分点方向。北西天坐标系，为载体所在位置对应的的参考坐标系，定义为Xg轴指向北，Yg轴指向西，Zg轴指向天。载体坐标系：Xb轴指向前，Yb轴指向左，Zb轴指向上。本申请实施例的提供一种基于加速度计、太阳敏感器和GNSS的数字罗盘及定姿方法。具体的，如图3所示，数字罗盘包括：装于同一载体上的太阳敏感器、三轴加速度计、以及处理器/微处理电路，GNSS信息通过外部输入到载体，并传递于处理器。处理器连接太阳敏感器、三轴加速度计。具体的，三轴加速度计加装于太阳敏感器内部。处理器也集成于太阳敏感器内。处理器采用单片机和/或可编程逻辑器件。太阳敏感器为APS数字式太阳敏感器，用于测量太阳矢量双轴角度。加速度计用于测量载体加速度数据。处理器用于通过外部输入的GNSS信号，当前时间以及当前时间的经度W、纬度L和高度h信息。处理器还用于进行定姿方法实施的相关计算。具体的，所述定姿方法，根据各器件获取/测量的数据，通过处理器进行计算完成，获得偏航角、俯仰角、滚动角。如图1所示，本申请实施例的定姿方法包括如下步骤：S100、计算加速度计相对于载体坐标系的测量矢量aB。根据三轴加速度计的测量数据为a1、a2、a3，以及加速度计头部在加速度计坐标系下的安装矢量为VA 1、VA 2、VA 3，通过如下转换公式计算：然后进行归一化处理：其中，为加速度计坐标系到载体坐标系的转换矩阵。S200、计算太阳敏感器相对于载体坐标系的测量矢量Sb。太阳敏感器测得的太阳的两个角度在数字太阳敏感器坐标系内分别用α、β表示，太阳敏感器坐标系到载体坐标系的转换矩阵为太阳敏感器相对于载体坐标系的测量矢量Sb过如下公式计算获得：Ss1＝-tanα*Ss3Ss2＝-tanβ*Ss3S300、计算太阳矢量在北西天坐标系的理论矢量Sg。如图2所示，具体包括步骤：S310、计算太阳矢量在惯性系下的参数Ri，通过如下公式计算：a＝149598023280.828e＝0.01670862-0.00004204*Tc-0.00000124*Tc2i＝0.42909280228307-0.0002269655829*Tc-0.00000000279*Tc2ω＝4.9381882820077+0.00562976999*Tc-0.00000275*Tc2M＝modu＝ω+f求得Ri后对其进行归一化处理：式中t表示当前时刻相对预设时间的时间，单位为秒，当前时刻的时间通过外部输入的GNSS信号获得，式中Ω的值为0。S320、计算惯性系到地固系的变换阵通过如下公式计算：a1＝0.01118*Tca2＝0.00971717*Tcb1＝2.18243862-33.75704593*Tcb2＝-2.77625791+1256.66393243*Tcd1＝-8.3386*10-5*sin-6.393*10-6*sind2＝4.4615*10-5*cos+2.781*10-6*cosd3＝0.91747721*d1λg＝*π/180λ＝modS330、计算地固系到北西天坐标系的变换阵首先通过外部输入的GNSS信号获取当前时刻的精度W、纬度L和高度h信息，地固系到北西天坐标系的变换阵计算采用如下公式：x＝*cosW*cosLy＝*cosW*sinLz＝*sinLr＝Ze＝TYc＝Zc×ZeXc＝Yc×ZcS340、根据公式得到Sg；然后对计算得到的Sg进行归一化：S400、根据aB、Sg、Sb，以及重力矢量在北西天坐标系的理论矢量ag，利用双矢量定姿算法计算载体坐标系相对北西天坐标系的姿态矩阵其中，ag为’；姿态矩阵通过如下公式计算：V2i＝ag×SgV3b＝ab×V2bS500、根据姿态矩阵求解出偏航角、俯仰角、滚动角：偏航角俯仰角滚动角本申请实施例的方案，利用宇航成熟产品、将现有纳型数字太阳敏感器通过在内部增加三轴加速度计，在外部输入GNSS信号的情况下，在微处理电路/处理器内部以一定算法实现了对载体在参考系下的姿态确定。与磁测量方案相比，显著提高了寻北精度，可以在一定条件下代替磁测量方案，且做到了轻重量、低功耗、对于野外移动手持环境有很强的适用性。以上仅为本发明的优选实施例，并不表示是唯一的或是限制本发明。本领域技术人员应理解，在不脱离本发明的范围情况下，对本发明进行的各种改变或同等替换，均属于本发明保护的范围。
