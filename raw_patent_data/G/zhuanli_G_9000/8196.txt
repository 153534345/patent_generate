标题title
一种超短基线水声测距方法及系统
摘要abst
本发明公开了一种超短基线水声测距方法及系统，所述超短基线水声测距方法包括：步骤1，获取超短基线定位系统声线的初始掠射角估计值；步骤2，根据所述初始掠射角估计值与声学基阵高度对应的映射表，实时计算当前有效声速ce；步骤3，根据所述ce与实测的声线传播时长τ的乘积，获得应答器斜距。本发明能够提高水声测量斜距的效率，避免传统的声线跟踪算法实时还原水声传播轨迹的复杂运算。
权利要求书clms
1.一种超短基线水声测距方法，其特征在于，包括：步骤1，获取超短基线定位系统声线的初始掠射角估计值；步骤2，根据所述初始掠射角估计值与声学基阵高度对应的映射表，实时计算当前有效声速ce；步骤3，根据所述ce与实测的声线传播时长τ的乘积，获得应答器斜距。2.如权利要求1所述的超短基线水声测距方法，其特征在于，所述步骤1中，所述初始掠射角估计值的获取方法具体包括：步骤11，设置应答器的深度prz、初始掠射角范围和搜索停止阈值τt以及载入声速剖面c，将目标水域划分成K层恒定深度梯度连接的水层；步骤12，根据初始掠射角范围，获取初始掠射角α0；步骤13，根据所述α0，确定划分好的第k水层的声线掠射角αk，并利用下式计算声线传播时长τ′；其中，gk为由式描述的第k水层的声速梯度，c和c分别为深度zk和zk+1下的声速；步骤14，对比所述τ′与实际测量到的声线传播时长τ，如果|τ′-τ|＜τt，则停止搜索，并将当前的α0作为初始掠射角估计值予以输出；否则，更新α0的值，重复步骤12和步骤13。3.如权利要求2所述的超短基线水声测距方法，其特征在于，所述步骤14中，更新α0的值的方法具体包括：如果τ′-τ≤0，则如果τ′-τ＞0，则4.如权利要求1或2或3所述的超短基线水声测距方法，其特征在于，所述映射表通过如下离线方法获得：步骤21，将目标水域划分成K层恒定深度梯度连接的水层；步骤22，设定所述声学基阵高度范围及声线初始掠射角范围，并等间隔采样，形成采样值组合向量：{ptz、α0}，ptz表示内的第i个等间隔采样值，通过式计算获得；α0表示内的第j个等间隔采样值，通过式计算获得；i|i≤n，i∈N*，j|j≤m，j∈N*，N*表示正整数集合；步骤23，利用下式计算声线长度：其中，x和r分别表示ptz和α0对应的应答器水平距离和声线长度；prz表示应答器的高度；步骤24，利用下式求解声线传播时长；其中，τ表示声学基阵高度为ptz、声线初始掠射角为α0时的声线传播时长；αk为第k水层的声线掠射角；gk为第k水层的声速梯度，c和c分别为深度zk和zk+1下的声速；步骤25，利用下式求解等效声速ce：步骤26，遍历所述步骤22获得所有采样值组合向量，并返回所述步骤13，将采样值组合向量与其相应的等效声速建立成所述映射表。5.如权利要求4所述的超短基线水声测距方法，其特征在于，所述步骤2中，根据所述映射表，利用式和式获取ce和ce，利用式获取ce：其中，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，α0表示初始掠射角估计值，ptz表示声学基阵高度测量值。6.一种超短基线水声测距系统，其特征在于，包括：初始掠射角估计单元，其用于获取超短基线定位系统声线的初始掠射角估计值；当前有效声速获取单元，其用于根据所述初始掠射角估计值与声学基阵高度对应的映射表，实时计算当前有效声速ce；应答器斜距获取单元，其用于根据所述ce与实测的声线传播时长τ的乘积，获得应答器斜距。7.如权利要求6所述的超短基线水声测距系统，其特征在于，所述初始掠射角估计单元具体包括：参数预设子单元，其用于设置应答器的深度prz、初始掠射角范围和搜索停止阈值τt以及载入声速剖面c，将目标水域划分成K层恒定深度梯度连接的水层；初始掠射角计算子单元，其用于根据初始掠射角范围，获取初始掠射角α0；声线传播时长计算子单元，其用于根据所述α0，确定划分好的第k水层的声线掠射角αk，并利用下式计算声线传播时长τ′；其中，gk为由式描述的第k水层的声速梯度，c和c分别为深度zk和zk+1下的声速；初始掠射角估计值计算子单元，其用于对比所述τ′与实际测量到的声线传播时长τ，如果|τ′-τ|＜τt，则停止搜索，并将当前的α0作为初始掠射角估计值予以输出；否则，更新α0的值。8.如权利要求7所述的超短基线水声测距系统，其特征在于，初始掠射角估计值计算子单元更新α0的值的方法具体包括：如果τ′-τ≤0，则如果τ′-τ＞0，则9.如权利要求6-8中任一项所述的超短基线水声测距系统，其特征在于，所述当前有效声速获取单元具体根据所述映射表，利用式和式获取ce和ce，利用式获取ce：其中，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，α0表示初始掠射角估计值，所述声线初始掠射角取值范围为，ptz表示声学基阵高度测量值。10.如权利要求6或7或8所述的超短基线水声测距系统，其特征在于，所述映射表通过上位机离线获得，所述初始掠射角估计单元、当前有效声速获取单元和应答器斜距获取单元均预先设置在嵌入式导航计算机，所述上位机与所述嵌入式导航计算机之间采用开关相连，所述上位机在所述开关的联通状态下为所述嵌入式导航计算机提供所述映射表，所述上位机在所述开关的断开状态下脱离与所述嵌入式导航计算机连接。
说明书desc
技术领域本发明涉及水声定位与导航技术领域，特别是关于一种超短基线水声测距方法及系统。背景技术在精度要求不高的场景下，声音在水中的传播速度可近似为1500m/s，但其实声速会随着水体的温度、盐度和压力等因素的变化而实时改变，这种简单的近似带来的误差称之为声速误差，而声速误差不仅是影响应答器位置估计精度的主要因素，还是引起超短基线测量斜距和方位角的主要误差来源。在目前的研究中，关于声速误差的校正方法主要有两种：RT法和EESP法。RT法将水体分成若干个等厚度的水层，并假设声速仅在水层间发生变化，而在水层内无变化，那么根据标准光线方程即可模拟出声线在水中的传播轨迹，然后通过累加每层的轨迹长度即可达到近似“积分”的效果，求得声音传播轨迹的总长度，而总长度和声传播时长的比值即为待求声速。此方法求解的声速精度较高，但其过程却极其复杂，需要不断地重复全过程，才能实时地更新准确的声速值。而在EESP算法中，其假设声速在层间的变化梯度为常值，因此无需逐层计算声速变化，有效简化了RT法的求解过程。但在此假设下，声音的传播轨迹接近于一个曲率不变的弧形，当轨迹较短时，该算法的计算误差并不明显，但当轨迹较长时，周围环境变化复杂多变，声线的真实形状也逐渐偏离弧形，导致计算误差增大，因此ESSP通常应用于工作距离仅为几十米的USBL中。发明内容本发明的目的在于提供一种兼顾测距精度和效率的超短基线水声测距方法及系统。为实现上述目的，本发明提供一种超短基线水声测距方法，其包括：步骤1，获取超短基线定位系统声线的初始掠射角估计值；步骤2，根据所述初始掠射角估计值与声学基阵高度对应的映射表，实时计算当前有效声速ce；步骤3，根据所述ce与实测的声线传播时长τ的乘积，获得应答器斜距。进一步地，所述步骤1中，所述初始掠射角估计值的获取方法具体包括：步骤11，设置应答器的深度prz、初始掠射角范围和搜索停止阈值τt以及载入声速剖面c，将目标水域划分成K层恒定深度梯度连接的水层；步骤12，根据初始掠射角范围，获取初始掠射角α0；步骤13，根据所述α0，确定划分好的第k水层的声线掠射角αk，并利用下式计算声线传播时长τ′；其中，gk为由式描述的第k水层的声速梯度，c和c分别为深度zk和zk+1下的声速；步骤14，对比所述τ′与实际测量到的声线传播时长τ，如果|τ′-τ|＜τt，则停止搜索，并将当前的α0作为初始掠射角估计值予以输出；否则，更新α0的值，重复步骤12和步骤13。进一步地，所述步骤14中，更新α0的值的方法具体包括：如果τ′-τ≤0，则如果τ′-τ＞0，则进一步地，所述映射表通过如下离线方法获得：步骤21，将目标水域划分成K层恒定深度梯度连接的水层；步骤22，设定所述声学基阵高度范围及声线初始掠射角范围，并等间隔采样，形成采样值组合向量：{ptz、α0}，ptz表示内的第i个等间隔采样值，通过式计算获得；α0表示内的第j个等间隔采样值，通过式计算获得；i|i≤n,i∈N*，j|j≤m,j∈N*，N*表示正整数集合；步骤23，利用下式计算声线长度：其中，x和r分别表示ptz和α0对应的应答器水平距离和声线长度；prz表示应答器的高度；步骤24，利用下式求解声线传播时长；其中，τ表示声学基阵高度为ptz、声线初始掠射角为α0时的声线传播时长；αk为第k水层的声线掠射角；gk为第k水层的声速梯度,c和c分别为深度zk和zk+1下的声速；步骤25，利用下式求解等效声速ce：步骤26，遍历所述步骤22获得所有采样值组合向量，并返回所述步骤13，将采样值组合向量与其相应的等效声速建立成所述映射表。进一步地，所述步骤2中，根据所述映射表，利用式和式获取ce和ce，利用式获取ce：其中，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，α0表示初始掠射角估计值，ptz表示声学基阵高度测量值。本发明还提供一种超短基线水声测距系统，其包括：初始掠射角估计单元，其用于获取超短基线定位系统声线的初始掠射角估计值；当前有效声速获取单元，其用于根据所述初始掠射角估计值与声学基阵高度对应的映射表，实时计算当前有效声速ce；应答器斜距获取单元，其用于根据所述ce与实测的声线传播时长τ的乘积，获得应答器斜距。进一步地，所述初始掠射角估计单元具体包括：参数预设子单元，其用于设置应答器的深度prz、初始掠射角范围和搜索停止阈值τt以及载入声速剖面c，将目标水域划分成K层恒定深度梯度连接的水层；初始掠射角计算子单元，其用于根据初始掠射角范围，获取初始掠射角α0；声线传播时长计算子单元，其用于根据所述α0，确定划分好的第k水层的声线掠射角αk，并利用下式计算声线传播时长τ′；其中，gk为由式描述的第k水层的声速梯度，c和c分别为深度zk和zk+1下的声速；初始掠射角估计值计算子单元，其用于对比所述τ′与实际测量到的声线传播时长τ，如果|τ′-τ|＜τt，则停止搜索，并将当前的α0作为初始掠射角估计值予以输出；否则，更新α0的值。进一步地，初始掠射角估计值计算子单元更新α0的值的方法具体包括：如果τ′-τ≤0，则如果τ′-τ＞0，则进一步地，所述当前有效声速获取单元具体根据所述映射表，利用式和式获取ce和ce，利用式获取ce：其中，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，α0表示初始掠射角估计值，所述声线初始掠射角取值范围为，ptz表示声学基阵高度测量值。进一步地，所述映射表通过上位机离线获得，所述初始掠射角估计单元、当前有效声速获取单元和应答器斜距获取单元均预先设置在嵌入式导航计算机，所述上位机与所述嵌入式导航计算机之间采用开关相连，所述上位机在所述开关的联通状态下为所述嵌入式导航计算机提供所述映射表，所述上位机在所述开关的断开状态下脱离与所述嵌入式导航计算机连接。本发明由于采取以上技术方案，其具有以下优点：本发明利用映射表，实时计算当前有效声速，省略了重复还原声线传播轨迹的计算过程，因此具有计算效率高的优点。附图说明图1为本发明实施例提供的超短基线水声测距系统框图；图2为本发明实施例提供的超短基线水声测距方法流程图；图3为本发明实施例提供的线性声速分层近似下的声线图；如图3所示，按照深度梯度Δzi将深度为z的目标水域划分为多层等深介质。图中c表示深度为z时的声速值；x为水平距离；α0表示声线初始掠射角；αi和αi+1分别表示第i和i+1水层的声线掠射角。图4为本发明实施例提供的初始掠射角搜索流程图。具体实施方式下面结合附图和实施例对本发明进行详细的描述。本发明实施例提供的超短基线水声测距方法包括：步骤1，获取超短基线定位系统声线的初始掠射角估计值。步骤2，根据所述初始掠射角估计值与声学基阵高度对应的映射表，实时计算当前有效声速ce。步骤3，根据所述ce与实测的声线传播时长τ的乘积，即：r＝ceτ，获得应答器斜距。本发明实施例利用映射表，实时计算当前有效声速，省略了重复还原声线传播轨迹的计算过程，因此具有计算效率高的优点。在一个实施例中，如图4所示，所述步骤1中，所述初始掠射角估计值的获取方法具体包括：步骤11，设置应答器的深度prz、初始掠射角范围和搜索停止阈值τt以及载入声速剖面c，将目标水域划分成K层恒定深度梯度连接的水层。其中，τt可以但不限于0.1°。步骤12，根据初始掠射角范围，获取初始掠射角α0。例如可以采用下式表示的二分法预测初始掠射角：步骤13，根据所述α0，根据Snell定理，确定划分好的第k水层的声线掠射角αk，并利用下式计算声线传播时长τ′：其中，gk为由式描述的第k水层的声速梯度，c和c分别为深度zk和zk+1下的声速：步骤14，对比所述τ′与实际测量到的声线传播时长τ，如果|τ′-τ|＜τt，则停止搜索，并将当前的α0作为初始掠射角估计值予以输出；否则，更新α0的值，重复步骤12和步骤13。在一个实施例中，步骤14中，更新α0的值的方法具体包括：如果τ′-τ≤0，则如果τ′-τ＞0，则在一个实施例中，映射表可以但不限于设置在上位机中，在离线阶段，遍历超短基线定位系统在目标水域的声学基阵工作高度以及声线初始掠射角，基于高精度声线跟踪法建立其与有效声速值之间的典型值映射表，如图2所示，具体包括：步骤21，将目标水域划分成K层恒定深度梯度连接的水层，即用每个分层为折线的声速分布来代替连续变化的声速分布，如图3所示。步骤22，设定所述声学基阵高度范围及声线初始掠射角取值范围，并等间隔采样，形成采样值组合向量：{ptz、α0}，ptz表示内的第i个等间隔采样值，通过式计算获得；α0表示内的第j个等间隔采样值，通过式计算获得；i|i≤n,i∈N*，j|j≤m,j∈N*，N*表示正整数集合。步骤23，利用下式计算声线长度：其中，x和r分别表示ptz和α0对应的应答器水平距离和声线长度；prz表示应答器的高度，由于应答器固定于水底，其高度值视为常值。需要说明的是，声学基阵高度范围及声线初始掠射角取值范围必须完全覆盖两变量所有取值可能，需根据超短基线测量的实际工作场景设定。另外，两变量的取值间隔，主要影响算法的计算效率和精度，即取值间隔越小，声线分段数量增加，声线还原精度也越高，那么相应的计算压力也会变大；反之，则声线还原精度下降，计算压力变小。可根据实际应用需求灵活调整，实现计算精度与效率的平衡。步骤24，利用下式求解声线传播时长：其中，τ表示声学基阵高度为ptz、声线初始掠射角为α0时的声线传播时长；αk为第k水层的声线掠射角；gk为第k水层的声速梯度,c和分别为深度zk和zk+1下的声速。步骤25，利用下式求解等效声速ce：步骤26，遍历所述步骤22获得所有采样值组合向量，并返回所述步骤13，将采样值组合向量与其相应的等效声速建立成所述映射表。将声学基阵高度和声线初始掠射角取值范围内所有的可能值代入以上过程，计算相应等效声速，建立上述三种变量典型值的映射表。在一个实施例中，步骤2中，根据所述映射表，利用式和式获取ce和ce，将初始掠射角估计值和实测的声学基阵高度一同代入映射表，利用式表示的插值法确定当前有效声速值ce：其中，ce表示声学基阵高度为ptz、声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，α0表示初始掠射角估计值，α0表示声线初始掠射角取值范围内第j个等间隔采样值，α0表示声线初始掠射角取值范围内第j+1个等间隔采样值，所述声线初始掠射角取值范围为，ptz表示声学基阵高度测量值，ptz表示声学基阵高度范围内第i个等间隔采样值，ptz表示声学基阵高度范围内第i+1个等间隔采样值，所述声学基阵高度范围为。本发明实施例提供的超短基线水声测距系统包括初始掠射角估计单元、当前有效声速获取单元和应答器斜距获取单元，其中：初始掠射角估计单元用于获取超短基线定位系统声线的初始掠射角估计值。当前有效声速获取单元用于根据所述初始掠射角估计值与声学基阵高度对应的映射表，实时计算当前有效声速ce。应答器斜距获取单元用于根据所述ce与实测的声线传播时长τ的乘积，获得应答器斜距。在一个实施例中，所述初始掠射角估计单元具体包括参数预设子单元、初始掠射角计算子单元、声线传播时长计算子单元和初始掠射角估计值计算子单元，其中：参数预设子单元用于设置应答器的深度prz、初始掠射角范围和搜索停止阈值τt以及载入声速剖面c，将目标水域划分成K层恒定深度梯度连接的水层。初始掠射角计算子单元用于根据初始掠射角范围，获取初始掠射角α0。声线传播时长计算子单元，其用于根据所述α0，确定划分好的第k水层的声线掠射角αk，并利用下式计算声线传播时长τ′：其中，gk为由式描述的第k水层的声速梯度，c和c分别为深度zk和zk+1下的声速。初始掠射角估计值计算子单元，其用于对比所述τ′与实际测量到的声线传播时长τ，如果|τ′-τ|＜τt，则停止搜索，并将当前的α0作为初始掠射角估计值予以输出；否则，更新α0的值。在一个实施例中，初始掠射角估计值计算子单元更新α0的值的方法具体包括：如果τ′-τ≤0，则如果τ′-τ＞0，则在一个实施例中，所述当前有效声速获取单元具体根据所述映射表，利用式和式获取ce和ce，利用式获取ce：其中，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，ce表示声学基阵高度为ptz，声线初始掠射角为α0时的等效声速，α0表示初始掠射角估计值，α0表示声线初始掠射角取值范围内第j个等间隔采样值，α0表示声线初始掠射角取值范围内第j+1个等间隔采样值，所述声线初始掠射角取值范围为，ptz表示声学基阵高度测量值，ptz表示声学基阵高度范围内第i个等间隔采样值，ptz表示声学基阵高度范围内第i+1个等间隔采样值，所述声学基阵高度范围为。在一个实施例中，所述映射表通过上位机离线获得，所述初始掠射角估计单元、当前有效声速获取单元和应答器斜距获取单元均预先设置在嵌入式导航计算机，所述上位机与所述嵌入式导航计算机之间采用开关相连，所述上位机在所述开关的联通状态下为所述嵌入式导航计算机提供所述映射表，所述上位机在所述开关的断开状态下脱离与所述嵌入式导航计算机连接，以减轻后者的数据转发负担。传感器包括超短基线定位系统、深度计和声速剖面仪，其中超短基线定位系统由声学基阵和应答器两部分组成，前者通过向后者发送声波，并测量声波往返时间，可计算两者之间的相对距离。由于声学基阵由多个间隔距离较近的声学换能器排列组成，因此该系统被成为超短基线定位系统。最后需要指出的是：以上实施例仅用以说明本发明的技术方案，而非对其限制。本领域的普通技术人员应当理解：可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
