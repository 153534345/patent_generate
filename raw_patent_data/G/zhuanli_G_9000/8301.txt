标题title
基于物联网的温控设备降噪方法、装置以及系统
摘要abst
本发明涉及物联网技术领域，特别是涉及一种基于物联网的温控设备降噪方法、装置以及系统，所述基于物联网的温控设备降噪方法包括：启动采样线程，获取一段设定时长的采样噪声；根据所述采样噪声确定存在的设备、设备的数量以及各自对应的频率；将确定出的设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合；在设备组合内，根据各设备的噪声分布确定各设备的功率权重；根据确定出的功率权重控制设备的运行。本发明提供的方法通过分析各设备的噪声情况，确定出设备组合，在达到温控要求的条件下，减少了总的噪声，充分利用了各设备的特点，实现了温控降噪的智能化管理。
权利要求书clms
1.一种基于物联网的温控设备降噪方法，其特征在于，所述基于物联网的温控设备降噪方法包括：启动采样线程，获取一段设定时长的采样噪声；根据所述采样噪声确定存在的设备、设备的数量以及各自对应的频率；将确定出的设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合；在设备组合内，根据各设备的噪声分布确定各设备的功率权重；根据确定出的功率权重控制设备的运行。2.根据权利要求1所述的基于物联网的温控设备降噪方法，其特征在于，所述启动采样线程，获取一段设定时长的采样噪声，包括以下步骤：启动采样线程，以第一采样频率进行高频率采样，获取预设时长的第一采样噪声；以第二采样频率进行低频率采样，获取预设时长的第二采样噪声。3.根据权利要求2所述的基于物联网的温控设备降噪方法，其特征在于，所述根据所述采样噪声确定存在的设备、设备的数量以及各自对应的频率，包括以下步骤：对第一采样噪声进行频谱分析，根据频率波峰的数量确定高频设备及其数量，根据频率波峰的位置确定相应高频设备的噪声频率；对第二采样噪声进行频谱分析，根据频率波峰的数量确定低频设备及其数量，根据频率波峰的位置确定相应低频设备的噪声频率。4.根据权利要求3所述的基于物联网的温控设备降噪方法，其特征在于，所述将确定出的设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合，包括以下步骤：根据频谱分析结果，确定各设备的音量大小，根据音量大小是否小于设定阈值，将设备划分为高噪声设备以及低噪声设备；根据当前的噪声容忍值，关闭音量高于容忍值的设备得到当前的设备组合。5.根据权利要求1所述的基于物联网的温控设备降噪方法，其特征在于，所述在设备组合内，根据各设备的噪声分布确定各设备的功率权重，包括以下步骤：获取设备组合的数量，根据设备组合的数量设定功率梯度权重；根据各设备的音量由小到大赋予相应的功率梯度权重；判断相邻功率梯度权重的设备的频率的差值是否满足设定阈值，若否，则交换两台设备的功率梯度权重。6.根据权利要求5所述的基于物联网的温控设备降噪方法，其特征在于，所述根据确定出的功率权重控制设备的运行，包括以下步骤：根据确定的功率梯度权重控制设备组合内各设备的运行功率和/或时长。7.根据权利要求6所述的基于物联网的温控设备降噪方法，其特征在于，所述根据确定的功率梯度权重控制设备组合内各设备的运行功率，包括以下步骤：获取当前温度与设定温度的差值；判断温度差值是否满足设定阈值，若否，则确定一个第一控制周期；在第一控制周期内，按设定的温度到达时间确定总功率；根据各设备的功率梯度权重分配总功率到各设备。8.根据权利要求7所述的基于物联网的温控设备降噪方法，其特征在于，所述判断温度差值是否满足设定阈值，包括：若是，则确定一个第二控制周期，其中，第二控制周期小于第一控制周期；在第二控制周期内，确定温度维持所需要的总功率；根据确定出的总功率按噪音总量最低原则确定设备组合及对应的功率组合；根据确定出的设备组合以及功率组合控制各设备的运行。9.一种基于物联网的温控设备降噪装置，其特征在于，所述基于物联网的温控设备降噪装置包括：采样模块，用于启动采样线程，获取一段设定时长的采样噪声；频率确定模块，用于根据所述采样噪声确定存在的设备、设备的数量以及各自对应的频率；等级划分模块，用于将确定出的设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合；权重确定模块，用于在设备组合内，根据各设备的噪声分布确定各设备的功率权重；控制模块，用于根据确定出的功率权重控制设备的运行。10.一种基于物联网的温控设备降噪系统，其特征在于，所述基于物联网的温控设备降噪系统包括：若干温控设备；以及物联网控制设备，所述温控设备与所述物联网控制设备连接，所述物联网控制设备用于执行如权利要求1-8任意一项所述的基于物联网的温控设备降噪方法。
说明书desc
技术领域本发明涉及物联网技术领域，特别是涉及一种基于物联网的温控设备降噪方法、装置以及系统。背景技术建筑物的一个重要功能是构建一个稳定的内部环境，为建筑内的工作、生活等各项活动提供环境条件保障。这里的稳定的内部环境，其中一个重要方面即是室内温度的稳定。在现有建筑中，用于维持建筑室内温度、温度稳定的设备越来越丰富，以家庭为例，包括但不限于空调、加热器、排风扇、加湿器等，这些设备的使用会产生较大的噪声，如何处理优化设备运行以达到降低噪声的目的，是一个研究热点。可见，现有技术对于多温控设备协同运行时的噪声并没有给出有效的处理方式，需要解决。发明内容基于此，有必要针对上述的问题，提供一种基于物联网的温控设备降噪方法、装置以及系统。本发明实施例是这样实现的，一种基于物联网的温控设备降噪方法，所述基于物联网的温控设备降噪方法包括：启动采样线程，获取一段设定时长的采样噪声；根据所述采样噪声确定存在的设备、设备的数量以及各自对应的频率；将确定出的设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合；在设备组合内，根据各设备的噪声分布确定各设备的功率权重；根据确定出的功率权重控制设备的运行。在其中一个实施例中，本发明实施例还提供了一种基于物联网的温控设备降噪装置，所述基于物联网的温控设备降噪装置包括：采样模块，用于启动采样线程，获取一段设定时长的采样噪声；频率确定模块，用于根据所述采样噪声确定存在的设备、设备的数量以及各自对应的频率；等级划分模块，用于将确定出的设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合；权重确定模块，用于在设备组合内，根据各设备的噪声分布确定各设备的功率权重；控制模块，用于根据确定出的功率权重控制设备的运行。在其中一个实施例中，本发明还提供了一种基于物联网的温控设备降噪系统，所述基于物联网的温控设备降噪系统包括：若干温控设备；以及物联网控制设备，所述温控设备与所述物联网控制设备连接，所述物联网控制设备用于执行如本发明实施例所述的基于物联网的温控设备降噪方法。本发明提供的方法通过分析各设备的噪声情况，确定出设备组合，在达到温控要求的条件下，减少了总的噪声，充分利用了各设备的特点，实现了温控降噪的智能化管理。附图说明图1为一个实施例提供的基于物联网的温控设备降噪方法的流程图；图2为一个实施例提供的基于物联网的温控设备降噪装置的结构框图；图3为一个实施例提供的基于物联网的温控设备降噪系统的结构框图；图4为一个实施例中计算机设备的内部结构框图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。可以理解，本申请所使用的术语“第一”、“第二”等可在本文中用于描述各种元件，但除非特别说明，这些元件不受这些术语限制。这些术语仅用于将第一个元件与另一个元件区分。举例来说，在不脱离本申请的范围的情况下，可以将第一xx脚本称为第二xx脚本，且类似地，可将第二xx脚本称为第一xx脚本。如图1所示，在一个实施例中，提出了一种基于物联网的温控设备降噪方法，所述基于物联网的温控设备降噪方法包括：启动采样线程，获取一段设定时长的采样噪声；根据所述采样噪声确定存在的设备、设备的数量以及各自对应的频率；将确定出的设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合；在设备组合内，根据各设备的噪声分布确定各设备的功率权重；根据确定出的功率权重控制设备的运行。在本实施例中，可以通过麦克风对设备运行过程中产生的噪声进行采样从而获取采样噪声，采样噪声以音频的形式进行存储和处理。在本实施例中，通过对采样噪声进行处理可以确定出设备的数量以及各个设备对应的频率。可以理解，单一设备运行时其频率并不唯一，此是由于设备上存在多种振动导致的，本申请主要是设备的主要振动对设备进行识别的，这里的主要振动是指音量最大的一种振动。在本发明中，还可以通过获取单一设备工作时的采样噪声，准确地将设备识别出来，当多设备同时工作时，能够准确地确定当前工作的设备组合。在本实施例中，还包括将设备进行噪声等级划分的步骤，根据划分结果，可以选定噪声更低的设备启动，从而减小工作时的噪声；当然，当不要求较低的噪声时，通过这种划分也可以用于确定温控更高效的设备。在本实施例中，通过分配功率权重，可以减少噪声的产生，同时达到温控的目标。在本实施例中，温控设备包括但不限于空调、风扇、加湿器、电热器、排风扇等。本发明提供的方法通过分析各设备的噪声情况，确定出设备组合，在达到温控要求的条件下，减少了总的噪声，充分利用了各设备的特点，实现了温控降噪的智能化管理。在一个实施例中，所述启动采样线程，获取一段设定时长的采样噪声，包括以下步骤：启动采样线程，以第一采样频率进行高频率采样，获取预设时长的第一采样噪声；以第二采样频率进行低频率采样，获取预设时长的第二采样噪声。在本实施例中，可选地，第一采样频率可以设置为10KHz，第二采样频率可以设置为1KHz，在不同的采样频率下，选取不同的采样结果。例如在第一采样频率下，只考虑5KHz以上的采样结果，若采样结果中出现低于5KHz的频率，则舍弃；同理，在第二采样频率下，高于5KHz的频率被舍弃。这种划分可以使采样频率与噪声频率更接近，从而防止过渡采样在增加数据量，也可以避免漏采。采样的时长可以自行设定，也可以根据采样时是否达到稳定状态自动调整，是否达到稳定状态可以通过判断变动量是否低于10%确定。在一个实施例中，所述根据所述采样噪声确定存在的设备、设备的数量以及各自对应的频率，包括以下步骤：对第一采样噪声进行频谱分析，根据频率波峰的数量确定高频设备及其数量，根据频率波峰的位置确定相应高频设备的噪声频率；对第二采样噪声进行频谱分析，根据频率波峰的数量确定低频设备及其数量，根据频率波峰的位置确定相应低频设备的噪声频率。在本实施例中，通过频谱分析可以确定设备的数量以及各个设备对应的噪声频率，此主要是通过频谱分析确定主要的噪声波峰的数量以及位置得到的。对于频谱分析可以参考现有技术实现，本发明实施例对此不作进一步限定。在一个实施例中，所述将确定出的设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合，包括以下步骤：根据频谱分析结果，确定各设备的音量大小，根据音量大小是否小于设定阈值，将设备划分为高噪声设备以及低噪声设备；根据当前的噪声容忍值，关闭音量高于容忍值的设备得到当前的设备组合。在本实施例中，通过各设备的音量大小，将设备划分为高噪声设备以及低噪声设备，根据用户设定的噪声容忍值，关闭高噪声设备，以减小噪声的影响。在一个实施例中，所述在设备组合内，根据各设备的噪声分布确定各设备的功率权重，包括以下步骤：获取设备组合的数量，根据设备组合的数量设定功率梯度权重；根据各设备的音量由小到大赋予相应的功率梯度权重；判断相邻功率梯度权重的设备的频率的差值是否满足设定阈值，若否，则交换两台设备的功率梯度权重。在本实施例中，以设备数量为4为例，权重梯度为10%，则得到功率梯度权重分别为10%、20%、30%以及40%，音量越小的设备分配到的功率权重越大，以减小噪声设备的运行，从源头实现降噪。进一步地，对于分配到20%权重的设置A和分配到30%权重的设备B，若设备A的频率高于设备B且差值大于设定阈值，则调换设备A、B的权重，以减少高频噪声的产生。在一个实施例中，所述根据确定出的功率权重控制设备的运行，包括以下步骤：根据确定的功率梯度权重控制设备组合内各设备的运行功率和/或时长。在本实施例中，可以通过两种方式控制设备的运行，一种是通过功率分配，使设备工作于分配的功率之下，另一种是通过使不同设备分别运行一定时长，达到将总功率进行分配的目标。在一个实施例中，所述根据确定的功率梯度权重控制设备组合内各设备的运行功率，包括以下步骤：获取当前温度与设定温度的差值；判断温度差值是否满足设定阈值，若否，则确定一个第一控制周期；在第一控制周期内，按设定的温度到达时间确定总功率；根据各设备的功率梯度权重分配总功率到各设备。在本实施例中，若温度差值较大，则启用一个预设的第一控制周期，通过软件算法或者历史记录预估在设定时间内，从当前温度升温到设定温度所需的功率，根据各设备的分配到的功率梯度将总功率进行分配，使设备同时运行。在本实施例中，在第一控制周期时间内，实时检测室内温度的变化情况，重新判断是否满足设定阈值，若同样不满足，则经过一个第一控制周期后，重新计算总功率；若满足，则按下一个实施例的方法执行。在一个实施例中，所述判断温度差值是否满足设定阈值，还包括：若是，则确定一个第二控制周期，其中，第二控制周期小于第一控制周期；在第二控制周期内，确定温度维持所需要的总功率；根据确定出的总功率按噪音总量最低原则确定设备组合及对应的功率组合；根据确定出的设备组合以及功率组合控制各设备的运行。在本实施例中，当前温度与设定温度的温差较小时，启用一个预设的第二控制周期，第二控制周期的时长较第一控制周期短，则控制更为灵活。温度维持所需要的总功率与室内面积、当前的室内温度、目标温度、室外温度等有关，对于具体的计算方法可以参考现有技术，或者调用历史记录，通过查表的方式得到。按噪音总量最低原则确定设备组合及对应的功率组合，即优选启动噪声最小的设备且使之满功率运行，余下的功率由其它噪声较小的设备补齐。在一个实施例中，如图2所示，本发明还提供了一种基于物联网的温控设备降噪装置，所述基于物联网的温控设备降噪装置包括：采样模块，用于启动采样线程，获取一段设定时长的采样噪声；频率确定模块，用于根据所述采样噪声确定存在的设备、设备的数量以及各自对应的频率；等级划分模块，用于将确定出的设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合；权重确定模块，用于在设备组合内，根据各设备的噪声分布确定各设备的功率权重；控制模块，用于根据确定出的功率权重控制设备的运行。在本实施例中，对于上述各个模块的具体说明请参考本发明方法部分的解释说明，本实施例在此不再赘述。在一个实施例中，如图3所示，本发明还提供了一种基于物联网的温控设备降噪系统，所述基于物联网的温控设备降噪系统包括：若干温控设备；以及物联网控制设备，所述温控设备与所述物联网控制设备连接，所述物联网控制设备用于执行如本发明实施例所述的基于物联网的温控设备降噪方法。在本实施例中，物联网控制设备可以集成于现有设备中，例如智能手机、智能音响等，还可以是单独设置的智能产品；温控设备具体可以是空调、风扇、加湿器、排风机、加热器等，多个温控设备可以相同也可以不同。温控设备与物联网控制设备之间通过物联网连接，需要理解，这里的物联网是指用于多设备之间连接的网络，而非一种全新的网络形式。图4示出了一个实施例中计算机设备的内部结构图。如图4所示，该计算机设备包括该计算机设备包括通过系统总线连接的处理器、存储器、网络接口、输入装置和显示屏。其中，存储器包括非易失性存储介质和内存储器。该计算机设备的非易失性存储介质存储有操作系统，还可存储有计算机程序，该计算机程序被处理器执行时，可使得处理器实现基于物联网的温控设备降噪方法。该内存储器中也可储存有计算机程序，该计算机程序被处理器执行时，可使得处理器执行基于物联网的温控设备降噪方法。计算机设备的显示屏可以是液晶显示屏或者电子墨水显示屏，计算机设备的输入装置可以是显示屏上覆盖的触摸层，也可以是计算机设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图4中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，本申请提供的基于物联网的温控设备降噪装置可以实现为一种计算机程序的形式，计算机程序可在如图4所示的计算机设备上运行。在一个实施例中，提出了一种计算机设备，所述计算机设备包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现以下步骤：启动采样线程，获取一段设定时长的采样噪声；根据所述采样噪声确定设备的数量以及各自对应的频率；将设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合；在设备组合内，根据各设备的噪声分布确定各设备的功率权重；根据确定出的功率权重控制设备的运行。在一个实施例中，提供一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，计算机程序被处理器执行时，使得处理器执行以下步骤：启动采样线程，获取一段设定时长的采样噪声；根据所述采样噪声确定设备的数量以及各自对应的频率；将设备划分噪声等级，根据噪声等级以及预设的噪声条件确定设备组合；在设备组合内，根据各设备的噪声分布确定各设备的功率权重；根据确定出的功率权重控制设备的运行。应该理解的是，虽然本发明各实施例的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，各实施例中的至少一部分步骤可以包括多个子步骤或者多个阶段，这些子步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些子步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤的子步骤或者阶段的至少一部分轮流或者交替地执行。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一非易失性计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路 DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。以上所述实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本发明的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干变形和改进，这些都属于本发明的保护范围。因此，本发明专利的保护范围应以所附权利要求为准。
