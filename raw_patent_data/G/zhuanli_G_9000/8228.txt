标题title
一种存储阵列的供电方法、装置及服务器
摘要abst
本发明公开了一种存储阵列的供电方法、装置及服务器，首先获取用于表征电源模块供电状态的状态数据，根据状态数据判定存储阵列是否达到掉电触发条件，在存储阵列达到掉电触发条件的情况下，控制当前的电源模块切换为其他的电源模块或者备用电池，本方案可以在存储阵列达到掉电触发条件时，及时的切换其他的没有异常的电源模块或者备用电池继续为存储阵列供电，使得对存储阵列的供电不停止，降低了存储阵列的掉电风险，提高了数据安全性。
权利要求书clms
1.一种存储阵列的供电方法，其特征在于，包括：获取用于表征电源模块供电状态的状态数据；根据所述状态数据判断所述存储阵列是否达到掉电触发条件；在所述存储阵列达到所述掉电触发条件的情况下，控制当前的所述电源模块切换为其他的所述电源模块或者备用电池。2.如权利要求1所述的存储阵列的供电方法，其特征在于，获取用于表征电源模块供电状态的状态数据，包括：获取电网的供电数据、多个所述电源模块的输出数据、用于控制多个所述电源模块的控制信号、可控开关的温度数据及用于驱动多个所述电源模块的驱动数据；所述掉电触发条件，包括：电网的供电停止或者供电稳定性阈值小于预设阈值、所述电源模块的输出停止、输出电压未达到所述存储阵列所需的最小供电电压或者超过所述存储阵列的最大供电电压、用于控制多个所述电源模块的控制信号消失、所述可控开关的温度过高及所述电源模块的驱动异常。3.如权利要求1所述的存储阵列的供电方法，其特征在于，获取用于表征电源模块供电状态的状态数据之前，还包括：判断是否接收到所述存储阵列的在位的信号；若接收到所述存储阵列的在位的信号，判断所述信号是否为干扰信号；若为干扰信号，则返回判断是否接收到所述存储阵列的在位的信号的步骤；若不为干扰信号，进入获取用于表征电源模块供电状态的状态数据的步骤。4.如权利要求1所述的存储阵列的供电方法，其特征在于，获取用于表征电源模块供电状态的状态数据之后，还包括：根据所述状态数据重新确定所述存储阵列的供电控制方式。5.如权利要求4所述的存储阵列的供电方法，其特征在于，所述存储阵列的供电控制方式，包括：分布式逻辑并联控制、主从冗余并联控制或者其他模式控制，所述其他模式控制为根据所述状态数据判定所述电源模块供电状态异常时启动的模式。6.如权利要求2所述的存储阵列的供电方法，其特征在于，所述输出数据包括母线输出电压，获取用于表征电源模块供电状态的状态数据之后，还包括：通过APFC控制子程序，并根据所述状态数据，对多个所述电源模块进行PID控制以使多个所述电源模块的母线输出电压稳定。7.如权利要求5所述的存储阵列的供电方法，其特征在于，所述供电控制方式为所述分布式逻辑并联控制，根据所述状态数据重新确定所述存储阵列的供电控制方式，包括：调用对应所述分布式逻辑并联控制的第一算法；根据所述第一算法重新确定所述存储阵列的供电控制方式；所述供电控制方式为所述主从冗余并联控制，根据所述状态数据确定所述存储阵列的供电控制方式，包括：调用对应所述主从冗余并联控制的第二算法；根据所述第二算法重新确定所述存储阵列的供电控制方式。8.如权利要求5所述的存储阵列的供电方法，其特征在于，所述存储阵列的供电控制方式为所述其他模式控制；对应的，所述根据所述状态数据重新确定所述存储阵列的供电控制方式之后，还包括：通过自诊断子程序修复异常；判断所述异常是否修复；若是，继续通过所述电源模块为所述存储阵列供电；若否，控制所述备用电池为所述存储阵列供电并控制报警模块报警。9.一种存储阵列的供电装置，其特征在于，包括：存储器，用于存储计算机程序；处理器，用于执行所述计算机程序以实现上述1至8任一项所述存储阵列的供电方法的步骤。10.一种服务器，其特征在于，包括如权利要求9所述的存储阵列的供电装置。
说明书desc
技术领域本发明涉及存储领域，特别是涉及一种存储阵列的供电方法、装置及服务器。背景技术存储阵列正常工作时，需要使用电源模块为其供电，请参照图1，图1为现有技术一种存储阵列的供电示意图，现有技术中，电网的输入与APFC电路的输入端连接，APFC电路的输出端与逆变电路的第一端连接，逆变电路的第二端与整流电路的一端连接，逆变电路的第三端与驱动电路连接，整流电路的另一端与电源模块的控制电路的一端连接，控制电路的另一端与电源模块连接，电源模块与存储阵列连接，在APFC电路和控制电路中还设置有可控开关，可控开关参与实现APFC电路和控制电路的功能，电网的输入经APFC电路转换，经驱动电路的驱动，再进行逆变和整流，输出到电源模块的控制电路，通过控制电路选择电源模块，进而完成电源模块为存储阵列的供电。在发现存储阵列异常掉电之后，可以通过处理器控制切换备用电池为存储阵列供电，但是此时由于存储阵列已经掉电，切换备用电池供电的步骤在存储阵列掉电之后，此时存储阵列的数据可能已经丢失，提高了数据丢失风险性。发明内容本发明的目的是提供一种存储阵列的供电方法、装置及服务器，降低了存储阵列的掉电风险，提高了数据安全性。为解决上述技术问题，本发明提供了一种存储阵列的供电方法，该方法包括：获取用于表征电源模块供电状态的状态数据；根据所述状态数据判断所述存储阵列是否达到掉电触发条件；在所述存储阵列达到所述掉电触发条件的情况下，控制当前的所述电源模块切换为其他的所述电源模块或者备用电池。优选的，获取用于表征电源模块供电状态的状态数据，包括：获取电网的供电数据、多个所述电源模块的输出数据、用于控制多个所述电源模块的控制信号、可控开关的温度数据及用于驱动多个所述电源模块的驱动数据；所述掉电触发条件，包括：电网的供电停止或者供电稳定性阈值小于预设阈值、所述电源模块的输出停止、输出电压未达到所述存储阵列所需的最小供电电压或者超过所述存储阵列的最大供电电压、用于控制多个所述电源模块的控制信号消失、所述可控开关的温度过高及所述电源模块的驱动异常。优选的，获取用于表征电源模块供电状态的状态数据之前，还包括：判断是否接收到所述存储阵列的在位的信号；若接收到所述存储阵列的在位的信号，判断所述信号是否为干扰信号；若为干扰信号，则返回判断是否接收到所述存储阵列的在位的信号的步骤；若不为干扰信号，进入获取用于表征电源模块供电状态的状态数据的步骤。优选的，获取用于表征电源模块供电状态的状态数据之后，还包括：根据所述状态数据重新确定所述存储阵列的供电控制方式。优选的，所述存储阵列的供电控制方式，包括：分布式逻辑并联控制、主从冗余并联控制或者其他模式控制，所述其他模式控制为根据所述状态数据判定所述电源模块供电状态异常时启动的模式。优选的，所述输出数据包括母线输出电压，获取用于表征电源模块供电状态的状态数据之后，还包括：通过APFC控制子程序，并根据所述状态数据，对多个所述电源模块进行PID控制以使多个所述电源模块的母线输出电压稳定。优选的，所述供电控制方式为所述分布式逻辑并联控制，根据所述状态数据重新确定所述存储阵列的供电控制方式，包括：调用对应所述分布式逻辑并联控制的第一算法；根据所述第一算法重新确定所述存储阵列的供电控制方式；所述供电控制方式为所述主从冗余并联控制，根据所述状态数据确定所述存储阵列的供电控制方式，包括：调用对应所述主从冗余并联控制的第二算法；根据所述第二算法重新确定所述存储阵列的供电控制方式。优选的，所述存储阵列的供电控制方式为所述其他模式控制；对应的，所述根据所述状态数据重新确定所述存储阵列的供电控制方式之后，还包括：通过自诊断子程序修复异常；判断所述异常是否修复；若是，继续通过所述电源模块为所述存储阵列供电；若否，控制所述备用电池为所述存储阵列供电并控制报警模块报警。为解决上述技术问题，本发明还提供了一种存储阵列的供电装置，包括：存储器，用于存储计算机程序；处理器，用于执行所述计算机程序以实现上述所述存储阵列的供电方法的步骤。为解决上述技术问题，本发明还提供了一种服务器，包括上述所述的存储阵列的供电装置。本申请提供了一种存储阵列的供电方法、装置及服务器，首先获取用于表征电源模块供电状态的状态数据，根据状态数据判定存储阵列是否达到掉电触发条件，在存储阵列达到掉电触发条件的情况下，控制当前的电源模块切换为其他的电源模块或者备用电池，本方案可以在存储阵列达到掉电触发条件时，及时的切换其他的没有异常的电源模块或者备用电池继续为存储阵列供电，使得对存储阵列的供电不停止，降低了存储阵列的掉电风险，提高了数据安全性。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对现有技术和实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为现有技术一种存储阵列的供电示意图；图2为本发明提供的一种存储阵列的供电方法的流程图；图3为本发明提供的一种存储阵列的供电示意图；图4为本发明提供的一种接口保护电路的结构示意图；图5为本发明提供的另一种接口保护电路的结构示意图；图6为本发明提供的另一种接口保护电路的结构示意图；图7为本发明提供的另一种接口保护电路的结构示意图；图8为本发明提供的一种存储阵列的供电装置的结构示意图。具体实施方式本发明的核心是提供一种存储阵列的供电方法、装置及服务器，降低了存储阵列的掉电风险，提高了数据安全性。为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参照图2，图2为本发明提供的一种存储阵列的供电方法的流程图。该方法包括：S11：获取用于表征电源模块供电状态的状态数据；S12：根据状态数据判断存储阵列是否达到掉电触发条件，若是，进入S13；S13：控制当前的电源模块切换为其他的电源模块或者备用电池。电源模块为存储阵列供电时，如果存储阵列异常掉电，就会导致存储阵列的存储数据丢失，如果在存储阵列掉电之前，为存储阵列提供一个可以正常供电的电源模块或者备用电池，就会使得存储阵列不掉电，继续运行。本申请通过获取用于表征电源模块供电状态的状态数据，根据状态数据判定存储阵列是否达到掉电触发条件，在存储阵列达到掉电触发条件的情况下，控制当前的电源模块切换为其他的电源模块或者备用电池，在存储阵列掉电之前继续为其提供供电电源，使存储阵列继续工作，降低了存储阵列的掉电风险，提高了数据安全性。具体的，首先获取用于表征电源模块供电状态的状态数据，状态数据指的是可以表征电源模块供电状态的数据，可以是电源模块本身的数据也可以是其他的数据，比如电网的输入到电源模块之间的传输路径上的所有可以表征电源模块供电状态的数据，通过这些数据也可以反应出电源模块的供电状态，之后电源模块供电状态的状态数据达到掉电触发条件，就说明存储阵列即将会发生掉电，或者发生掉电的可能性较大，就根据状态数据的具体情况切换当前的电源模块为其他的没有故障的电源模块或者备用电池，提高了方案的可靠性。需要说明的是，掉电触发条件的时间在存储阵列掉电之前，所以为存储阵列切换电源模块和备用电源的时间发生在存储阵列掉电之前，提高了方案的可靠性。本申请提供了一种存储阵列的供电方法，首先获取用于表征电源模块供电状态的状态数据，根据状态数据判定存储阵列是否达到掉电触发条件，在存储阵列达到掉电触发条件的情况下，控制当前的电源模块切换为其他的电源模块或者备用电池，本方案可以在存储阵列达到掉电触发条件时，及时的切换其他的没有异常的电源模块或者备用电池继续为存储阵列供电，使得对存储阵列的供电不停止，降低了存储阵列的掉电风险，提高了数据安全性。在上述实施例的基础上：请参照图3、图4、图5、图6及图7，图3为本发明提供的一种存储阵列的供电示意图，图4为本发明提供的一种接口保护电路的结构示意图，图5为本发明提供的另一种接口保护电路的结构示意图，图6为本发明提供的另一种接口保护电路的结构示意图，图7为本发明提供的另一种接口保护电路的结构示意图。作为一种优选的实施例，获取用于表征电源模块供电状态的状态数据，包括：获取电网的供电数据、多个电源模块的输出数据、用于控制多个电源模块的控制信号、可控开关的温度数据及用于驱动多个电源模块的驱动数据；掉电触发条件，包括：电网的供电停止或者供电稳定性阈值小于预设阈值、电源模块的输出停止、输出电压未达到存储阵列所需的最小供电电压或者超过存储阵列的最大供电电压、用于控制多个电源模块的控制信号消失、可控开关的温度过高及电源模块的驱动异常。电源模块为存储阵列供电的具体实现是，电网的输入经APFC电路1转换，经驱动电路3的驱动，再进行逆变和整流，输出到电源模块的控制电路5，通过控制电路5选择电源模块，进而完成电源模块为存储阵列的供电，可控开关参与实现APFC电路1和控制电路5的功能。从电网的输入到电源模块，中间的过程的数据包括电网的供电数据、多个电源模块的输出数据、用于控制多个电源模块的控制信号、可控开关的温度数据及用于驱动多个电源模块的驱动数据，这些数据都可以用以反应电源模块的供电状态，只要在电网的输入到电源模块之间的电路哪一个出现了影响电源模块为存阵列供电的问题，都视为存储阵列即将掉电，之后在存储阵列掉电之前切换其他的电源模块或者备用电池为存储阵列供电，提高了方案的可靠性。电网的输入与APFC电路1的输入端连接，APFC电路1的输出端与逆变电路2的第一端连接，逆变电路2的第二端与整流电路4的一端连接，逆变电路2的第三端与驱动电路3连接，整流电路4的另一端与电源模块的控制电路5的一端连接，控制电路5的另一端与电源模块连接，电源模块与存储阵列连接，在APFC电路1和控制电路5中还设置有可控开关，提高了方案的完整性。另外，在获取用于驱动多个电源模块的驱动数据时是通过处理器21直接获取驱动电路3的数据，判断驱动电路3是否异常，而其他的数据，电网的供电数据、多个电源模块的输出数据、用于控制多个电源模块的控制信号、可控开关的温度数据通过电路中的采样模块6获取，采样模块6和处理器21连接，采样模块6可以包括不同的种类，比如采集电网的供电数据就可以包括电流采样和电压采样和电网的输入的频率采样，采集多个电源模块的输出数据可以包括电流采样和电压采样，采集可控开关的温度数据可以通过温度传感器，这里的采样模块6可以根据具体想要采集的数据的类型而相适应的变换，提高了方案的灵活性与可行性。根据获取的电网的供电数据、多个电源模块的输出数据、用于控制多个电源模块的控制信号、可控开关的温度数据及用于驱动多个电源模块的驱动数据的具体情况，就可以分析出是否存在问题需要为存储阵列切换电源模块和备用电池，掉电触发条件，包括电网的供电停止或者供电稳定性阈值小于预设阈值、电源模块的输出停止、输出电压未达到存储阵列所需的最小供电电压或者超过存储阵列的最大供电电压、用于控制多个电源模块的控制信号消失、可控开关的温度过高及电源模块的驱动异常。具体的，电网供电根据国家的不同可能会有220V供电和110V供电或者其他供电电压，如果供电电网故障，电源模块都不会在供电，切换备用电池供电，电网的电压如果不稳定供电稳定性阈值小于预设阈值，也就是小于电源模块和存储阵列所需的稳定性值，也会导致存储阵列掉电，这时候也需要切换备用电池，多个电源模块的输出数据、用于控制多个电源模块的控制信号及多个电源模块的驱动数据异常时，也会导致存储阵列异常掉电，提高了方案的可靠性与完整性。可控开关设置在APFC电路1和控制电路5中，属于电路中的关键元器件，这些元器件的温度过高时，也会使得存储阵列掉电，同时，电路异常时，关键元器件比较容易发生温度变化，通过检测关键元器件的温度变化可以较好的反映出存储阵列的供电是否异常，提高了方案的可靠性。另外，本申请在电路中增加多出保护电路，第一瞬态抑制二极管D1、第二瞬态抑制二极管D2、第三瞬态抑制二极管D3、第四瞬态抑制二极管D4、第五瞬态抑制二极管D5、第六瞬态抑制二极管D6、第七瞬态抑制二极管D7、第八瞬态抑制二极管D8是增加的增加TVS，防止静电、热拔损坏电源控制信号管脚。第五开关管Q5、第六开关管Q6 及控制电路5消除上电时序对PMUS影响，防止异常电源影响存储系统PMBUS链路，达到真正冗余供电目的。智能PWOK信号控制电路5，12V出现异常，PWOK异常信号第一时间发出，消除软件延时影响。第一瞬态抑制二极管D1、第二瞬态抑制二极管D2、第三瞬态抑制二极管D3、第四瞬态抑制二极管D4、第五瞬态抑制二极管D5、第六瞬态抑制二极管D6、第七瞬态抑制二极管D7、第八瞬态抑制二极管D8作为TVS管加入电路，起到保护电路的作用，可以保护接口信号，还有防止回流对电路造成的影响，保护电路，提高了电路的安全性。第七瞬态抑制二极管D7和第八瞬态抑制二极管D8可以抑制雷击、静电等瞬态电压对SDA/SCl链路影响，第五开关管Q5和第六开关管Q6防止异常电源模块对系统通讯链路影响，第四瞬态抑制二极管D4和第三瞬态抑制二极管D3抑制雷击、静电等瞬态电压对Vingood信号影响，第四电阻R4与第一电容C1组成Rc滤波电路，第三开关管Q3和第四开关管Q4组成或门，硬件软件共同监控电源工作状态，第六瞬态抑制二极管D6可以抑制雷击、静电等瞬态电压对Pson信号影响，第五瞬态抑制二极管D5作用相当于钳位二极管，保护Mcu管脚。作为一种优选的实施例，获取用于表征电源模块供电状态的状态数据之前，还包括：判断是否接收到存储阵列的在位的信号；若接收到存储阵列的在位的信号，判断信号是否为干扰信号；若为干扰信号，则返回判断是否接收到存储阵列的在位的信号的步骤；若不为干扰信号，进入获取用于表征电源模块供电状态的状态数据的步骤。在软件层面，存储阵列与电源模块连接时，处理器21接收存储阵列的在位的信号，同时PSON消抖判定子程序对PSON信号进行侦测软件滤波消抖处理，判断信号是否为干扰信号，检测到PSON信号低电平，电源模块开始正常工作，说明此时的信号不是干扰信号，检测到非低电平状态，返回到主程序初始流程继续对PSON信号进行侦测，说明可能并不是真正的在位信号，是一种误触发的干扰信号，返回判断是否接收到存储阵列的在位的信号的步骤，继续进行判断，若不为干扰信号，进入获取用于表征电源模块供电状态的状态数据的步骤，以便于后续步骤，提高了方案的可靠性。作为一种优选的实施例，获取用于表征电源模块供电状态的状态数据之后，还包括：根据状态数据重新确定存储阵列的供电控制方式。根据状态数据可以在存储阵列与电源模块连接之后，经过状态数据重新确定一个适合该存储阵列的供电控制方式，可以进行智能的切换，提高了方案的可靠性和自动化程度。在软件层面，供电模式判定子程序状态数据进行智能分析，根据分析结果调用不同控制算法子程序，结合状态数据选择与存储阵列对应的子程序，提高了供电效率，由于针对存储阵列选择恰当的供电控制方式，还可以节约电能，避免资源浪费。作为一种优选的实施例，存储阵列的供电控制方式，包括：分布式逻辑并联控制、主从冗余并联控制或者其他模式控制，其他模式控制为根据状态数据判定电源模块供电状态异常时启动的模式。多个电源模块可以有不同的供电控制方式，其中分布式逻辑并联控制指的是多个电源模块同时供电，主从冗余并联控制指的是单独一个电源模块供电，其他的电源模块处于“待机”状态，这样就可以节约电能。在软件层面，均流控制子程序把均流母线电压作为控制参数加至PID控制环，同时作为前馈信号提高在负载突变时均流精度，主备控制子程序如收到主备主机配置指令，发出冷冗余控制信号；如收到主备从机配置指令，调整输出电压比正常输出电压低0.3V，保证主从冗余并联控制供电模式。在软件层面，需要说明的是，分布式逻辑并联控制相当于均流控制子程序，主从冗余并联控制相当于主备控制子程序。作为一种优选的实施例，输出数据包括母线输出电压，获取用于表征电源模块供电状态的状态数据之后，还包括：通过APFC控制子程序，并根据状态数据，对多个电源模块进行PID控制以使多个电源模块的母线输出电压稳定。多个电源模块在供电时，在软件层面，还可以通过APFC控制子程序，根据状态数据进行PID控制，电源模块的输出数据其中包括母线输出电压，对多个电源模块进行PID控制，可以将电源模块的母线输出电压稳定，例如，如果存储阵列的正常工作需要12V的电压，通过PID控制可以使电源模块的母线输出电压稳定，正常情况下电源模块的输出可能存在一定的波动，通过对多个电源模块进行PID控制就可以减少波动将电压稳定在12V，以对存储阵列供电时更加可靠，提高了方案的可行性。作为一种优选的实施例，供电控制方式为分布式逻辑并联控制，根据状态数据重新确定存储阵列的供电控制方式，包括：调用对应分布式逻辑并联控制的第一算法；根据第一算法重新确定存储阵列的供电控制方式；供电控制方式为主从冗余并联控制，根据状态数据确定存储阵列的供电控制方式，包括：调用对应主从冗余并联控制的第二算法；根据第二算法重新确定存储阵列的供电控制方式。不同供电模式下调用不同智能控制算法，保证不同工作模式电源参数精度。供电控制方式为分布式逻辑并联控制时，调用对应分布式逻辑并联控制的第一算法，根据第一算法重新确定存储阵列的供电控制方式，确定出适合存储阵列的供电控制方式，保证此时的电源参数精度，供电控制方式为主从冗余并联控制时，调用对应主从冗余并联控制的第二算法，根据第二算法重新确定存储阵列的供电控制方式，确定出适合存储阵列的供电控制方式，保证此时的电源参数精度，根据对应不同供电模式下调用不同智能控制算法，可以保证此时的电源参数精度，提高了方案的可靠性。作为一种优选的实施例，存储阵列的供电控制方式为其他模式控制；对应的，根据状态数据重新确定存储阵列的供电控制方式之后，还包括：通过自诊断子程序修复异常；判断异常是否修复；若是，继续通过电源模块为存储阵列供电；若否，控制备用电池为存储阵列供电并控制报警模块报警。存储阵列的供电控制方式为其他模式控制时，说明此时对存储阵列的供电已经异常，处于一种备用电池供电的准备状态，根据状态数据重新确定存储阵列的供电控制方式为其他模式控制时，在软件层面，通过自诊断子程序修复异常，该过程为尝试修复的过程，如果异常问题是可以在处理器21的软件层面上可以解决的，异常就可以修复，继续通过电源模块为存储阵列供电，如果异常取法修复，证明是硬件上的问题或者其他较为复杂的问题，这时控制备用电池为存储阵列供电并控制报警模块报警，首先要保证存储阵列不断电，保证供电可靠性和存储数据的安全性，然后同时控制报警模块报警，以便于用户及时发现问题，进行相适应的维护，备用电池有一定的使用寿命，维护之后才可以再次利用电源模块供电，提高了方案的完整性。在软件层面，自诊断修复子程序根据电源工作状态、关键参数智能分析结果，智能控制发出电源工作状态接口信号，同时根据智能分析结果更新电源状态寄存器，并对异常状态进行三次尝试修复，提高了方案的可靠性。请参照图8，图8为本发明提供的一种存储阵列的供电装置的结构示意图。本发明还提供了一种存储阵列的供电装置，包括：存储器22，用于存储计算机程序；处理器21，用于执行计算机程序以实现上述所述存储阵列的供电方法的步骤。对于本发明提供的存储阵列的供电装置的介绍请参考上述所述存储阵列的供电方法的实施例，此处不再赘述。本发明还提供了一种服务器，包括上述所述的存储阵列的供电装置。对于本发明提供的服务器的介绍请参考上述所述存储阵列的供电方法的实施例，此处不再赘述。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。专业人员还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。
