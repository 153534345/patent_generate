标题title
一种高精度同步扫描光学系统装调精度评估方法
摘要abst
本发明涉及一种高精度同步扫描光学系统装调精度评估方法，属于光学系统高精度装调领域。通过同步扫描镜的旋转，使得激光光源投射在屏上不同的位置，记录扫描镜处于不同角度位置时的探测器上像点的像面坐标；同时根据小孔成像原理将物方光点投影至探测器，得到像方光点的横向坐标，再通过直线拟合，得到直线斜率，进而可得到该斜率的反正切角度，该角度即为反映同步扫描光学系统装调状态的量。本发明有效解决了同步扫描光学系统装调状态评估步骤复杂、效率低下的问题，具有操作简单、易于实施的特点。
权利要求书clms
1.一种高精度同步扫描光学系统装调精度评估方法，其特征在于，包括以下步骤：根据同步扫描系统的视场，确定同步扫描镜的扫描范围，将其扫描范围等分成N份，共可取N+1个点；并在同步扫描光学系统的前方放置一个接收屏，使得激光光点打在接收屏上；设置面阵探测器的积分时间，使得接收屏对应的灰度值不超过灰度饱和值×30/255；设置激光光源的发光功率，使得像面上激光光点区域像素的最大灰度值超过灰度饱和值×150/255，且不能出现饱和像素；控制扫描系统使得同步扫描镜进行偏转，使得同步扫描镜分别在上述N+1个点处停留，记录各点处同步扫描镜的角度；获取面阵探测器的图像数据，通过直方图统计方式确定背景阈值，在接收屏对应的图像范围内，所有灰度值高于背景阈值的像素点为激光点对应的像点；根据小孔成像原理，计算屏上每个激光光点投影到面阵探测器上的横向坐标；以激光光点投影到面阵探测器的横向坐标为因变量，像点的在像面上的行坐标为从变量，拟合直线，得到直线的斜率k，计算反正切角度theta，theta即此时同步扫描系统的调整评估值；调整同步扫描镜的法线和基准面的夹角，使得theta的绝对值减小，直到满足需求。2.根据权利要求1所述的一种高精度同步扫描光学系统装调精度评估方法，其特征在于，步骤中，激光点的像素坐标为：其中，xi、yi和hi分别指第i个灰度值大于背景阈值的像素点的在图像中的行、列像素坐标和灰度值，为激光光点对应的面阵探测器像面上的像点质心坐标，m为高于背景阈值的像素点个数。3.根据权利要求1所述的一种高精度同步扫描光学系统装调精度评估方法，其特征在于，步骤中，激光光点投影到面阵探测器的横向坐标为因变量计算公式为：f×tan，其中f为接收光学系统的焦距，θ0为同步扫描镜和接收旁镜平行时的角度值。4.根据权利要求1所述的一种高精度同步扫描光学系统装调精度评估方法，其特征在于，步骤中，以像点的在像面上的行坐标为从变量计算公式为：Xi×Δ，其中Xi为像点质心行坐标，Δ为像元的尺寸。5.根据权利要求1所述的一种高精度同步扫描光学系统装调精度评估方法，其特征在于，高精度同步扫描光学系统包括面阵探测器、接收光学系统、接收旁镜、同步扫描镜、发射旁镜、激光光源和接收屏，激光光源用于发射激光，激光经同步扫描镜和发射旁镜反射之后照射到接收屏上，被接收屏反射的光再经接收旁镜和同步扫描镜后被接收光学系统收集，最终聚焦到面阵探测器上。6.根据权利要求1所述的一种高精度同步扫描光学系统装调精度评估方法，其特征在于，步骤中，若为彩色图像，则将彩色图像转为灰度图之后再进行直方图统计。7.根据权利要求1或6所述的一种高精度同步扫描光学系统装调精度评估方法，其特征在于，选取统计次数最高的灰度值的1.5～2倍为背景阈值。
说明书desc
技术领域本发明涉及一种装调精度评估方法，尤其是一种高精度同步扫描光学系统装调精度评估方法，属于光学系统高精度装调领域。背景技术各类主、被动三维成像测量方法以其非接触、高精度、高速度、小型化、一体化和动态测量的特点，广泛应用于测绘、卫星地外天体着陆避障和空间非合作目标测量等领域。三维成像测量的体制主要有双目立体视觉、基于飞行时间法的激光雷达和三角结构光测量法等。双目立体视觉法测量速度快、效率，但图像匹配比较困难，而且受目标纹理和环境光的影响较大；基于飞行时间法的激光雷达测量范围大、抗杂光能力强，但测量精度为几厘米，无法满足高精度测量的需求。三角结构光由于激光能量集中抗杂光能力强、结构简单和精度高而得到广泛的应用。三角结构光系统一般采用激光器移动或偏转、多面体棱镜旋转和两个振镜同时旋转等方法实现光束二维扫描，但驱动装置负载较大，不适合快速测量，测量范围比较小。Marc等提出在接收光路中加入以扫描镜，使接收光和发射光同步旋转，即同步扫描的思想。与传统三角测量法相比，同步扫描技术的引入扩大了三角结构光系统的景深和测量范围。但，同步扫描光学系统的装调是相对普通反射光学系统而言，难度稍大。一般情况下需要利用经纬仪等仪器测量系统中各反射镜的法线，然后得到各反射镜尤其是同步扫描镜和基准面之间的位置关系，测量步骤繁杂，效率低下。发明内容本发明所要解决的技术问题是：本发明通过采用同步扫描镜旋转的方式，得到扫描镜处于不同角度位置处的像方光点的像面坐标和横向坐标，通过直线拟合和反正切计算即可得到同步扫描光学系统装调状态的评估量，有效解决了同步扫描光学系统装调状态评估步骤复杂、效率低下的问题，具有操作简单、易于实施的特点。本发明技术解决方案：一种高精度同步扫描光学系统装调精度评估方法，包括以下步骤：根据同步扫描系统的视场，确定同步扫描镜的扫描范围，将其扫描范围等分成N份，共可取N+1个点；并在同步扫描光学系统的前方放置一个接收屏，使得激光光点打在接收屏上；设置面阵探测器的积分时间，使得接收屏对应的灰度值不超过灰度饱和值×30/255；设置激光光源的发光功率，使得像面上激光光点区域像素的最大灰度值超过灰度饱和值×150/255，且不能出现饱和像素；控制扫描系统使得同步扫描镜进行偏转，使得同步扫描镜分别在上述N+1个点处停留，记录各点处同步扫描镜的角度；获取面阵探测器的图像数据，通过直方图统计方式确定背景阈值，在接收屏对应的图像范围内，所有灰度值高于背景阈值的像素点为激光点对应的像点；根据小孔成像原理，计算屏上每个激光光点投影到面阵探测器上的横向坐标；以激光光点投影到面阵探测器的横向坐标为因变量，像点的在像面上的行坐标为从变量，拟合直线，得到直线的斜率k，计算反正切角度theta，theta即此时同步扫描系统的调整评估值；调整同步扫描镜的法线和基准面的夹角，使得theta的绝对值减小，直到满足需求。进一步的，步骤中，激光点的像素坐标为：其中，xi、yi和hi分别指第i个灰度值大于背景阈值的像素点的在图像中的行、列像素坐标和灰度值，为激光光点对应的面阵探测器像面上的像点质心坐标，m为高于背景阈值的像素点个数。进一步的，步骤中，激光光点投影到面阵探测器的横向坐标为因变量计算公式为：f×tan，其中f为接收光学系统的焦距，θ0为同步扫描镜和接收旁镜平行时的角度值。进一步的，步骤中，以像点的在像面上的行坐标为从变量计算公式为：Xi×Δ，其中Xi为像点质心行坐标，Δ为像元的尺寸。进一步的，高精度同步扫描光学系统包括面阵探测器、接收光学系统、接收旁镜、同步扫描镜、发射旁镜、激光光源和接收屏，激光光源用于发射激光，激光经同步扫描镜和发射旁镜反射之后照射到接收屏上，被接收屏反射的光再经接收旁镜和同步扫描镜后被接收光学系统收集，最终聚焦到面阵探测器上。进一步的，步骤中，若为彩色图像，则将彩色图像转为灰度图之后再进行直方图统计。进一步的，选取统计次数最高的灰度值的1.5～2倍为背景阈值。本发明与现有技术相比的优点在于：本发明通过采用同步扫描镜旋转的方式，得到扫描镜处于不同角度位置处的像方光点的像面坐标和横向坐标，通过直线拟合和反正切计算即可得到同步扫描光学系统装调状态的评估量，有效解决了同步扫描光学系统装调状态评估步骤复杂、效率低下的问题，具有操作简单、易于实施的特点。附图说明图1为同步扫描系统示意图；图2为探测器上像点质心行坐标和其横向坐标的实测值；图3为本发明方法流程图；图4为探测输出的图像示意图；图5为对图像进行直方图统计后的结果示意图。具体实施方式下面结合附图对本发明进一步说明。图1所示为同步扫描系统的示意图，包括面阵探测器、接收光学系统、接收旁镜、同步扫描镜、发射旁镜、激光光源和接收屏。激光光源用于发射激光，激光经同步扫描镜和发射旁镜反射之后照射到接收屏上。被接收屏反射的光再经接收旁镜和同步扫描镜后被接收光学系统收集，最终聚焦到面阵探测器上。CCD或CMOS图像探测器。图3所示为本发明的实施流程图。本发明的主要步骤如下：对基于同步扫描技术的三维成像敏感器一般具备二维扫描系统，同步扫描镜则对应其中一维扫描，其由以扫描机构驱动进行扫描。首先，根据同步扫描系统的视场大小确定同步扫描镜的扫描范围，根据几何光学知识，同步扫描镜扫描范围为同步扫描系统的视场大小的一半。将同步扫描镜的扫描范围等分成N份，N一般取大于等于10，共有N+1个点。在距离同步测量系统距离L处，L取值一般约为产品测量范围，设置一接收屏；控制扫描机构，改变同步扫描镜的角度位置。使得激光发射点处于上述N+1个点当中的第1个点位置处，激光光点在屏上处于编号1的位置处；采集并记录此时同步扫描镜的角度θ1；激光光源照射到接收屏上后，反射的光信号经接收旁镜和同步扫描镜后进入接收光学系统，然后在探测器上形成亮斑。该亮点即为接收屏上激光光点在探测器上形成的像点。为便于处理面阵探测器的图像数据，确定像点在探测器上的位置，需要使得背景在探测器上的灰度尽量低，在实验室光照环境下，设置面阵探测器的积分时间使得探测器上接收屏对应的灰度值不超过灰度饱和值×30/255。设置激光光源的发光功率，使得像面上激光光点区域像素的最大灰度值超过灰度饱和值×150/255，且不能出现饱和像素。这样，得到的图像数据内一般只有像点这一个亮点，其余为黑背景，如附图4所示，通过设定合适的阈值，即可得到像点的质心坐标。对采集到的图像数据进行直方图统计。若为彩色图像，则将彩色图像转为灰度图之后再进行直方图统计，如附图5所示为图像直方图统计结果。选取统计次数最高的灰度值的1.5～2倍为背景阈值。统计图像上所有灰度高于背景阈值的像素点，假设高于背景阈值的像素点的个数为m。根据所有高于阈值的像素点的像素坐标和灰度值计算像点的质心坐标，计算公式如下式所示：其中，xi、yi和hi分别指第i个背景阈值的像素点的在图像中的行、列像素坐标和灰度值。为第一个位置处的激光光点对应的探测器像面上的像点的质心坐标，m为高于背景阈值的像素点个数。按照-的步骤，对第条中所述的所有N+1个点的位置进行操作，分别得到N+1个位置处同步扫描镜的角度θ1、θ2……θn和面阵探测器上光点的行列坐标，、……，进而得到各点的像面坐标，Δ为像元的尺寸。如附图2所示。假设接收光学系统的焦距记为f，同步扫描镜和接收旁镜平行时的角度记为θ0。对所有N+1个位置点，根据小孔成像原理，将其投影至像面处。以第i个光点为例，其投影到像面的横向坐标为f×tan，此时，以θi增大的方向为正，θi为使得激光发射点处于接收屏N+1个点中第i个位置时的同步反射镜的角度。以f×tan为因变量，Xi·Δ为从变量，拟合直线，得到直线的斜率记为k，其反正切角度为theta)。theta即此时同步扫描系统的装调评估值。theta的绝对值越接近于零，则表示同步扫描系统装调状态越好。微调同步扫描镜，使其法线和基准面的夹角稍微变化，在重复上述第至得到theta′，根据theta′和theta的绝对值大小关系确定同步扫描镜的调整方向。不断重复第至使得theta的绝对值减小直至满足需求，则说明同步扫描系统处于较为理想的装调状态。本发明仅依托同步扫描系统自身即可完成其装调状态的评估，无需利用经纬仪等外部高端仪器，也无需进行多个光学仪器间的精细瞄准。通过同步扫描镜的旋转，记录激光光点在探测器像面上的像面坐标和其横向移动坐标，即可得到装调状态的量化评估值，具有操作简单、易于实施的特点。本发明操作步骤简单，可以快速得到同步扫描光学系统的装调精度，非常便于进行同步扫描光学系统的装调精度评估。本发明虽然已以较佳实施例公开如上，但其并不是用来限定本发明，任何本领域技术人员在不脱离本发明的精神和范围内，都可以利用上述揭示的方法和技术内容对本发明技术方案做出可能的变动和修改，因此，凡是未脱离本发明技术方案的内容，依据本发明的技术实质对以上实施例所作的任何简单修改、等同变化及修饰，均属于本发明技术方案的保护范围。
