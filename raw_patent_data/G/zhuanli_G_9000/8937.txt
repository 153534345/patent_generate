标题title
一种语音识别时延测试方法、系统及存储介质
摘要abst
本发明公开了一种语音识别时延测试方法、系统及存储介质，方法包括：测试服务器执行测试用例，播放语音文件；记录起始播放时间为第一时间；语音识别完成后，记录语音识别完成时刻的时间为第二时间；在界面中显示第二时间到当前时间的第一时间差；拍摄语音识别装置的界面，获得包含第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；使用图像识别技术对时间差图片进行处理，获取时间差图片中的第一时间差；使用第三时间减去第一时间差，获得第四时间；使用第四时间减去第一时间，得到语音识别的第一响应时延。通过本发明实施例，能够自动获取语音识别的时延，获取的时延数据精确度高，不需要使用高速拍摄装置，降低测试成本。
权利要求书clms
1.一种语音识别时延测试方法，其特征在于，所述方法包括：步骤A1：测试服务器执行测试用例，调用语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间；步骤A2：语音识别装置对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间；步骤A3：所述语音识别装置在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；所述语音识别装置实时更新所述第一时间差；步骤A4：所述测试服务器在播放完所述语音文件的第一时长后，使用拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；步骤A5：所述测试服务器使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差；步骤A6：使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间；步骤A7：使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延。2.根据权利要求1所述方法，其特征在于，所述方法还包括以下步骤：步骤A8：所述第一响应时延减去第一时间差误差，得到第二响应时延。3.根据权利要求2所述方法，其特征在于，所述第一时间差误差，通过以下步骤获取：步骤B1：在所述语音识别装置与所述拍摄装置距离相同的位置处设置显示装置；步骤B2：所述显示装置和所述测试服务器电气连接，用于显示所述测试服务器本地时间；步骤B3：所述测试服务器使用所述拍摄装置拍摄所述显示装置，获得包含所述测试服务器本地时间的本地时间图片，同时记录起始拍摄时间为第五时间；步骤B4：所述测试服务器使用图像识别技术对所述本地时间图片进行处理，获取所述本地时间图片中本地时间为第六时间；步骤B5：使用所述第五时间减去所述第六时间获得所述第一时间差误差。4.根据权利要求1所述方法，其特征在于，所述方法还包括以下步骤：多次执行步骤A4～步骤A7，得到多个所述第一响应时延；对多个所述第一响应时延求平均值，得到第三响应时延。5.根据权利要求3所述方法，其特征在于，所述方法还包括以下步骤：多次执行步骤B3～步骤B5，得到多个所述第一时间差误差；对多个所述第一时间差误差求平均值，得到第二时间差误差。6.根据权利要求1所述方法，其特征在于，所述方法包括以下步骤：所述语音识别装置没有显示屏幕时，所述语音识别装置和第三方显示装置进行电气连接；所述语音识别装置在完成语音识别时输出语音识别完成信号，通知所述第三显示装置已完成语音识别；所述第三方显示装置收到所述语音识别完成信号，记录接收到所述语音识别完成信号的时间为第七时间；所述第三方显示装置在界面中显示所述第七时间到当前时间的第二时间差；所述第三方显示装置实时更新所述第二时间差。7.一种语音识别时延测试系统，其特征在于，包括测试服务器、拍摄装置、语音播放装置、语音识别装置；所述测试服务器，用于执行测试用例，调用所述语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间；还用于在播放完所述语音文件的第一时长后，使用所述拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；还用于使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差；还用于使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间；还用于使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延；所述语音识别装置，用于对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间；还用于在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；所述语音识别装置实时更新所述第一时间差；所述语音播放装置，用于播放所述测试用例的语音文件；所述拍摄装置，用于拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片。8.根据权利要求7所述系统，其特征在于，所述测试服务器包括：用例执行模块，用于执行测试用例，调用语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间；图像拍摄模块，用于在播放完所述语音文件的第一时长后，使用拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；图像识别模块，用于使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差；时延计算模块，用于使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间；还用于使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延。9.根据权利要求8所述系统，其特征在于，所述语音识别装置包括：语音识别模块，用于对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间；时间差显示模块，用于在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；还用于实时更新所述第一时间差。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该计算机程序被处理器执行时实现如权利要求1-6任一所述的语音识别时延测试方法。
说明书desc
技术领域本发明涉及语音识别技术领域，尤其涉及一种语音识别时延测试方法、系统及存储介质。背景技术随着技术的不断发展，具有语音识别功能智能终端设备越来越受到用户的欢迎。在应用语音识别功能时，用户语音信息与智能终端识别结果呈现不同步，用户语音与智能终端语音识别完成并呈现识别结果之间存在一定的时间延迟。为了降低时间延迟，提高用户体验，需要对存在的时间延迟进行语音识别测试。目前主要采用两种方式进行语音识别测试：第一种是对智能终端和测试设备进行时间同步，然后抓取智能终端设备底层接口的各个时间点；第二种是通过摄像设备拍摄屏幕显示的信息。但现有技术中至少存在如下问题：智能终端和测试设备之间通过时间同步，时间同步精度较低，NTP时间同步精度在100毫秒～1秒之间；获取智能终端数据，需要获取智能终端的管理权限，存在一定的数据安全风险。使用摄像设备获取智能终端语音识别完成时刻的图像信息来判断时延，要求使用高速拍摄装置，测试成本较高；高速拍摄装置拍摄的照片较多，获得智能终端语音识别完成时刻的照片，处理时间较长。发明内容本发明的主要目的在于提供一种语音识别时延测试方法、系统及存储介质，旨在解决现有技术中获取的时延数据精度低，测试成本高的问题。为实现上述目的，本发明提供了一种语音识别时延测试方法所述方法包括：步骤A1：测试服务器执行测试用例，调用语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间；步骤A2：语音识别装置对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间；步骤A3：所述语音识别装置在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；所述语音识别装置实时更新所述第一时间差；步骤A4：所述测试服务器在播放完所述语音文件的第一时长后，使用拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；步骤A5：所述测试服务器使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差；步骤A6：使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间；步骤A7：使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延。可选地，所述方法还包括以下步骤：步骤A8：所述第一响应时延减去第一时间差误差，得到第二响应时延。可选地，所述第一时间差误差，通过以下步骤获取：步骤B1：在所述语音识别装置与所述拍摄装置距离相同的位置处设置显示装置；步骤B2：所述显示装置和所述测试服务器电气连接，用于显示所述测试服务器本地时间；步骤B3：所述测试服务器使用所述拍摄装置拍摄所述显示装置，获得包含所述测试服务器本地时间的本地时间图片，同时记录起始拍摄时间为第五时间；步骤B4：所述测试服务器使用图像识别技术对所述本地时间图片进行处理，获取所述本地时间图片中本地时间为第六时间；步骤B5：使用所述第五时间减去所述第六时间获得所述第一时间差误差。可选地，所述方法还包括以下步骤：多次执行步骤A4～步骤A7，得到多个所述第一响应时延；对多个所述第一响应时延求平均值，得到第三响应时延。可选地，所述方法还包括以下步骤：多次执行步骤B3～步骤B5，得到多个所述第一时间差误差；对多个所述第一时间差误差求平均值，得到第二时间差误差。可选地，所述方法包括以下步骤：所述语音识别装置没有显示屏幕时，所述语音识别装置和第三方显示装置进行电气连接；所述语音识别装置在完成语音识别时输出语音识别完成信号，通知所述第三显示装置已完成语音识别；所述第三方显示装置收到所述语音识别完成信号，记录接收到所述语音识别完成信号的时间为第七时间；所述第三方显示装置在界面中显示所述第七时间到当前时间的第二时间差；所述第三方显示装置实时更新所述第二时间差。此外，为实现上述目的，本发明还提出一种语音识别时延测试系统，包括测试服务器、拍摄装置、语音播放装置、语音识别装置；所述测试服务器，用于执行测试用例，调用所述语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间；还用于在播放完所述语音文件的第一时长后，使用所述拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；还用于使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差；还用于使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间；还用于使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延；所述语音识别装置，用于对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间；还用于在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；所述语音识别装置实时更新所述第一时间差；所述语音播放装置，用于播放所述测试用例的语音文件；所述拍摄装置，用于拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片。可选地，所述测试服务器包括：用例执行模块，用于执行测试用例，调用语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间；图像拍摄模块，用于在播放完所述语音文件的第一时长后，使用拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；图像识别模块，用于使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差；时延计算模块，用于使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间；还用于使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延。可选地，所述语音识别装置包括：语音识别模块，用于对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间；时间差显示模块，用于在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；还用于实时更新所述第一时间差。此外，为实现上述目的，本发明还提出一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现如上文所述的语音识别时延测试方法。从以上技术方法可以看出，本申请具有以下优点：本申请中，对智能终端进行语音识别测试时，能够自动获取智能终端语音识别的时延。获取的时延数据精确度高，不需要使用高速拍摄装置，降低测试成本。附图说明图1为本发明提供的语音识别时延测试方法的一个流程示意图。图2为本发明提供的语音识别时延测试方法的另一个流程示意图。图3为本发明提供的获取时间误差方法的一个流程示意图。图4为本发明提供的对接第三方显示设备的一个流程示意图。图5为本发明提供的显示时间差的一个示意图。图6为本发明提供的显示本地时间的一个示意图。图7为本发明测试服务器实施例的结构框图。图8为本发明语音识别装置实施例的结构框图。图9为本发明语音识别时延测试系统的实施例的结构示意图。图10是本发明实施例方案涉及的硬件运行环境的结构示意图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式为了使本发明所要解决的技术问题、技术方案及有益效果更加清楚、明白，以下结合附图和实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅以解释本发明，并不用于限定本发明。在后续的描述中，使用用于表示元件的诸如“模块”、“部件”或“单元”的后缀仅为了有利于本发明的说明，其本身没有特定的意义。因此，“模块”、“部件”或“单元”可以混合地使用。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应理解，本申请应用于语音识别时延测试系统，请参阅图9，图9为本申请实施例中语音识别时延测试系统的实施例的结构示意图，如图9所示，图9中包括测试服务器100、拍摄装置300、语音播放装置200、语音识别装置400；测试服务器100，用于执行测试用例，调用语音播放装置200播放测试用例的语音文件；记录播放语音文件的起始播放时间为第一时间；还用于在播放完语音文件的第一时长后，使用拍摄装置300拍摄语音识别装置400的界面，获得包含第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；还用于使用图像识别技术对时间差图片进行处理，获取时间差图片中的第一时间差；还用于使用第三时间减去第一时间差，获得语音识别装置400完成语音识别时的测试服务器本地时间的第四时间；还用于使用第四时间减去第一时间，得到语音识别装置400的语音识别的第一响应时延。语音识别装置400，用于对语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；语音识别完成后，记录语音识别完成时刻的时间为第二时间；语音识别装置400在语音识别完成后，在界面中显示第二时间到当前时间的第一时间差；语音识别装置400实时更新第一时间差。语音播放装置200，用于播放测试用例的语音文件。拍摄装置300，用于拍摄语音识别装置400的界面，获得包含第一时间差的时间差图片。在一个实施例中，如图1所示，本发明提供语音识别时延测试方法，所述方法包括：步骤A1：测试服务器执行测试用例，调用语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间。测试服务器根据已编写的测试用例，调用该测试用例对应的语音文件，然后通过播放设备对该语音文件进行播放。记录起始播放时间为第一时间T1，该时间可以UTC时间，如：北京时间：2021-10-22 18:17:16:894对应时间戳：1634897836894毫秒。步骤A2：语音识别装置对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间。语音识别装置，本实施例以智能手机为例。智能手机的麦克风接收到语音后，记录测试服务器播放的语音内容，然后对语音内容进行语音识别，识别完成后，根据识别内容进行处理。如测试服务器播放的语音：“今天的天气如何”。智能手机收到语音后，进行语音识别。语音识别完成后，根据应用识别结果进行语义处理，然后根据语义处理结果进行处理，如播放今天的天气信息：“今天晴，温度28度”。智能手机可以在语音识别完成后记录语音识别完成时间为第二时间T2，也可以在语义处理完成，开始播放语义结果时记录语义处理完成时间为第二时间T2。具体在那个阶段记录，可以根据实际测试情况决定。第二时间T2为UTC时间，如：北京时间：2021-10-22 18:17:55:369对应时间戳：1634897875369毫秒。步骤A3：所述语音识别装置在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；所述语音识别装置实时更新所述第一时间差。语音识别设备在语音识别完成后，如播放完今天的天气信息后。通过智能手机的显示屏显示当前时间和第二时间T2的时间差Δt1，精确到毫秒，如图5所示。如当前时间为2021-10-22 18:18:25:108对应时间戳：1634897905108毫秒。则Δt1＝1634889535108–1634889505369＝29739毫秒。智能手机每隔一段时间，如1秒更新一次当前时间和第二时间T2的时间差Δt1。把时间差Δt1在手机显示屏中间显示。该时间差表示，语音识别是在距当前时间Δt1之前时刻完成的。语音识别设备可以根据需求，在界面中显示多个完成时间，如收到语音的时间、完成语音多媒体处理的时间；在不同区域进行显示这些时间。步骤A4：所述测试服务器在播放完所述语音文件的第一时长后，使用拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间。测试服务器在播放完语音后，获得该语音识别测试用例已测试完成。如何判断该测试已完成，属于现有技术。如可以通过人工判断，或通过视频采集设备进行判断。测试服务器在判断该测试用户测试完成后且语音识别成功后的第一时长后，如2分钟后，使用拍摄装置拍摄智能手机的显示屏幕，得到包含时间差Δt的图片。拍摄图片时，记录起始拍摄时间为第三时间T3。第三时间T3为UTC时间，如：北京时间：2021-10-22 18:18:26:354对应时间戳：1634897906354毫秒。测试服务器可以控制网络摄像机定期拍摄多张包含时间差Δt的图片，获得的图片与拍摄时间的关系如下表：拍摄时间拍摄图片1634897906312时间差图片A11634897928616时间差图片A21634897986458时间差图片A3步骤A5：所述测试服务器使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差。测试服务器使用图像识别技术对时间差图片进行图像识别，获取图片中的时间差Δt1值。具体使用那种图像识别技术，不做限定。如可以使用第三方平台提供的API，如百度OCR识别API。对时间差图片识别结果如下表所示：步骤A6：使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间。测试服务器使用起始拍摄时间的第三时间T3减去时间差Δt1值，得到语音识别设备语音识别的完成时间为第四时间T4。该时间是测试服务器上的时间。通过拍摄多次图片，可以得到多个第四时间T4。如下表所示：拍摄时间时间差Δt1值第四时间T41634897906312297391634897876573163489792861652042163489787657416348979864581098831634897876575步骤A7：使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延。测试服务器使用语音识别的完成时间T4-语音播放起始时间T1，得到语音识别设备的响应时延。如：T4-T1＝1634897876574-1634897836894＝39680毫秒。通过拍摄多次图片，可以得到多个第四时间T4，然后使用语音识别的完成时间T4-语音播放起始时间T1，得到多个响应时延。如下表所示：语音播放起始时间T1第四时间T4响应时延163489783689416348978765733967916348978368941634897876574396801634897836894163489787657539681对多个响应时延求平均值，得到平均值＝39680。把获取的语音识别的响应时延和语音测试用例关联，测试完成后测试报告中记录该响应时延。语音识别设备重新开始进行语音识别处理时，清除之前记录的时间，在UI界面中不显示时间差。通过本发明实施例，对智能终端进行语音识别测试时，能够自动获取智能终端语音识别的时延。获取的时延数据精确度高，不需要使用高速拍摄装置，降低测试成本。此外，本发明实施例还提出另外一种语音识别时延测试方法，参照图2，该方法在图1所述的方法中还包括以下步骤：步骤A8：所述第一响应时延减去第一时间差误差，得到第二响应时延。通过拍摄装置拍摄图片，然后识别图片中的时间差，得到该图片对应的测试服务器时间会存在一定误差。主要是由于拍摄照片处理时间、时间在显示屏幕显示的处理时间等引起。为了提高语音识别的延迟测试的准确性，即得到更为准确的语音识别延时的时长，需要把上述流程中得到的响应时延减去误差值。所示第一时间差误差，通过如图3所示流程实现。步骤B1、在所述语音识别装置与所述拍摄装置距离相同的位置处设置显示装置。步骤B2：所述显示装置和所述测试服务器电气连接，用于显示所述测试服务器本地时间。在语音识别设备同一位置处部署测试服务器的显示器，把该显示器和测试服务器进行连接，实时显示测试服务器的时间为第五时间T5，如图6所示。该第五时间T5为UTC时间，如：北京时间：2021-10-2218:19:22:168对应时间戳：1634897962168毫秒。步骤B3：所述测试服务器使用所述拍摄装置拍摄所述显示装置，获得包含所述测试服务器本地时间的本地时间图片，同时记录起始拍摄时间为第五时间。测试服务器在拍摄时间差时，可以通过一个随机值，定期使用拍摄装置拍摄测试服务器显示器上显示的时间信息，得到包含测试服务器本地时间第五时间T5的图片。拍摄图片时，记录起始拍摄时间为第六时间T6。第六时间T6为UTC时间，如：北京时间：2021-10-22 18:19:22:352对应时间戳：1634897962354毫秒。测试服务器可以控制网络摄像机定期拍摄多张包含第五时间T5的图片，获得的图片与拍摄时间的关系如下表：步骤B4：所述测试服务器使用图像识别技术对所述本地时间图片进行处理，获取所述本地时间图片中本地时间为第六时间。步骤B5：使用所述第五时间减去所述第六时间获得所述第一时间差误差。测试服务器使用图像识别技术对第五时间图片进行图像识别，获取图片中的第五时间T5值。然后使用T6-T5，得到时间差误差Δt2。该时间差误差表示通过拍摄设备获取的时间和服务器真实时间的时间误差。对图片识别结果如下表所示：求平均值得到时间差的误差Δt2，Δt2＝/3＝69。然后使用第一响应时延Δt1-Δt2，得到的时间差Δt3作为语音识别设备的第二响应时延。如：Δt3＝Δt1-Δt2＝39680–69＝39611毫秒。通过时间差误差的计算，从而得到更为准确的语音识别响应时延。通过本发明实施例，通过计算实际时间和通过拍摄图片获取的时间之间的时间误差，把通过拍摄获取的语音识别响应时延减去时间误差，得到更为准确的语音识别响应时延。此外，本发明实施例还提出另外一种语音识别时延测试方法，参照图4，该方法在图1所述的方法中还包括以下步骤：步骤C1、所述语音识别装置没有显示屏幕时，所述语音识别装置和第三方显示装置进行电气连接。步骤C2、所述语音识别装置在完成语音识别时输出语音识别完成信号，通知所述第三显示装置已完成语音识别。步骤C3、所述第三方显示装置收到所述语音识别完成信号，记录接收到所述语音识别完成信号的时间为第七时间。步骤C4、所述第三方显示装置在界面中显示所述第七时间到当前时间的第二时间差；所述第三方显示装置实时更新所述第二时间差。语音识别测试没有显示屏幕时，可以通过语音识别设备在语音识别完成时，通过信号输出来触发第三方设备的时间显示。如通过串口输出信号，第三方设备收到信号后，记录收到信号的时间，然后在UI界面中实时显示时间差。通过本发明实施例，语音识别设备无显示屏时和第三方显示设备对接，在第三方显示设备显示时间来获取语音识别响应时延。从而扩充了语音识别响应识别测试的应用场景。此外，本发明实施例还提出语音识别时延测试系统，参照图9，该系统包括：试服务器100、拍摄装置300、语音播放装置200、语音识别装置400；测试服务器100，用于执行测试用例，调用语音播放装置200播放测试用例的语音文件；记录播放语音文件的起始播放时间为第一时间；还用于在播放完语音文件的第一时长后，使用拍摄装置300拍摄语音识别装置400的界面，获得包含第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；还用于使用图像识别技术对时间差图片进行处理，获取时间差图片中的第一时间差；还用于使用第三时间减去第一时间差，获得语音识别装置400完成语音识别时的测试服务器100本地时间的第四时间；还用于使用第四时间减去第一时间，得到语音识别装置400的语音识别的第一响应时延。语音识别装置400，用于对语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；语音识别完成后，记录语音识别完成时刻的时间为第二时间；语音识别装置400在语音识别完成后，在界面中显示第二时间到当前时间的第一时间差；语音识别装置400实时更新第一时间差。语音播放装置200，用于播放测试用例的语音文件。拍摄装置300，用于拍摄语音识别装置400的界面，获得包含第一时间差的时间差图片。通过本发明实施例，对智能终端进行语音识别测试时，能够自动获取智能终端语音识别的时延。获取的时延数据精确度高，不需要使用高速拍摄装置，降低测试成本。此外，本发明实施例还提出一种测试服务器，参照图7，该服务器100包括：用例执行模块101，用于执行测试用例，调用语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间；图像拍摄模块102，用于在播放完所述语音文件的第一时长后，使用拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；图像识别模块103，用于使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差；时延计算模块104，用于使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间；还用于使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延。通过本发明实施例，对智能终端进行语音识别测试时，能够自动获取智能终端语音识别的时延。获取的时延数据精确度高，不需要使用高速拍摄装置，降低测试成本。此外，本发明实施例还提出一种语音识别装置，参照图8，该语音识别装置400包括：语音识别模块401，用于对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间；时间差显示模块402，用于在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；还用于实时更新所述第一时间差。通过本发明实施例，对智能终端进行语音识别测试时，能够自动获取智能终端语音识别的时延。获取的时延数据精确度高，不需要使用高速拍摄装置，降低测试成本。参照图10，图10为本发明实施例方案涉及的测试服务器100和语音识别装置400的硬件运行环境的结构示意图。如图10所示，该硬件运行环境可以包括：处理器1001，例如CPU，通信总线1002、用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口。存储器1005可以是高速RAM存储器，也可以是稳定的存储器，例如磁盘存储器。存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图10中示出的结构并不构成对测试服务器100和语音识别装置200的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如图10所示，作为一种计算机存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及语音识别时延测试程序。在图10所示的硬件运行环境中，网络接口1004主要用于与外部网络进行数据通信；用户接口1003主要用于接收用户的输入指令；硬件运行环境通过处理器1001调用存储器1005中存储的语音识别时延测试程序，并执行以下操作：步骤A1：测试服务器执行测试用例，调用语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间；步骤A2：语音识别装置对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间；步骤A3：所述语音识别装置在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；所述语音识别装置实时更新所述第一时间差；步骤A4：所述测试服务器在播放完所述语音文件的第一时长后，使用拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；步骤A5：所述测试服务器使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差；步骤A6：使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间；步骤A7：使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延。可选地，所述方法还包括以下步骤：步骤A8：所述第一响应时延减去第一时间差误差，得到第二响应时延。可选地，所述第一时间差误差，通过以下步骤获取：步骤B1：在所述语音识别装置与所述拍摄装置距离相同的位置处设置显示装置；步骤B2：所述显示装置和所述测试服务器电气连接，用于显示所述测试服务器本地时间；步骤B3：所述测试服务器使用所述拍摄装置拍摄所述显示装置，获得包含所述测试服务器本地时间的本地时间图片，同时记录起始拍摄时间为第五时间；步骤B4：所述测试服务器使用图像识别技术对所述本地时间图片进行处理，获取所述本地时间图片中本地时间为第六时间；步骤B5：使用所述第五时间减去所述第六时间获得所述第一时间差误差。可选地，所述方法还包括以下步骤：多次执行步骤A4～步骤A7，得到多个所述第一响应时延；对多个所述第一响应时延求平均值，得到第三响应时延。可选地，所述方法还包括以下步骤：多次执行步骤B3～步骤B5，得到多个所述第一时间差误差；对多个所述第一时间差误差求平均值，得到第二时间差误差。可选地，所述方法包括以下步骤：所述语音识别装置没有显示屏幕时，所述语音识别装置和第三方显示装置进行电气连接；所述语音识别装置在完成语音识别时输出语音识别完成信号，通知所述第三显示装置已完成语音识别；所述第三方显示装置收到所述语音识别完成信号，记录接收到所述语音识别完成信号的时间为第七时间；所述第三方显示装置在界面中显示所述第七时间到当前时间的第二时间差；所述第三方显示装置实时更新所述第二时间差。通过本发明实施例，对智能终端进行语音识别测试时，能够自动获取智能终端语音识别的时延。获取的时延数据精确度高，不需要使用高速拍摄装置，降低测试成本。此外，本发明实施例还提出一种计算机可读存储介质，计算机可读存储介质上存储有语音识别时延测试程序，语音识别时延测试程序被处理器执行时实现如下操作：步骤A1：测试服务器执行测试用例，调用语音播放装置播放所述测试用例的语音文件；记录播放所述语音文件的起始播放时间为第一时间；步骤A2：语音识别装置对所述语音文件的播放内容进行接收，然后对接收到的语音内容进行语音识别；所述语音识别完成后，记录所述语音识别完成时刻的时间为第二时间；步骤A3：所述语音识别装置在所述语音识别完成后，在界面中显示所述第二时间到当前时间的第一时间差；所述语音识别装置实时更新所述第一时间差；步骤A4：所述测试服务器在播放完所述语音文件的第一时长后，使用拍摄装置拍摄所述语音识别装置的界面，获得包含所述第一时间差的时间差图片，同时记录起始拍摄时间为第三时间；步骤A5：所述测试服务器使用图像识别技术对所述时间差图片进行处理，获取所述时间差图片中的第一时间差；步骤A6：使用第三时间减去第一时间差，获得所述语音识别装置完成语音识别时的所述测试服务器本地时间的第四时间；步骤A7：使用所述第四时间减去所述第一时间，得到所述语音识别装置的语音识别的第一响应时延。可选地，所述方法还包括以下步骤：步骤A8：所述第一响应时延减去第一时间差误差，得到第二响应时延。可选地，所述第一时间差误差，通过以下步骤获取：步骤B1：在所述语音识别装置与所述拍摄装置距离相同的位置处设置显示装置；步骤B2：所述显示装置和所述测试服务器电气连接，用于显示所述测试服务器本地时间；步骤B3：所述测试服务器使用所述拍摄装置拍摄所述显示装置，获得包含所述测试服务器本地时间的本地时间图片，同时记录起始拍摄时间为第五时间；步骤B4：所述测试服务器使用图像识别技术对所述本地时间图片进行处理，获取所述本地时间图片中本地时间为第六时间；步骤B5：使用所述第五时间减去所述第六时间获得所述第一时间差误差。可选地，所述方法还包括以下步骤：多次执行步骤A4～步骤A7，得到多个所述第一响应时延；对多个所述第一响应时延求平均值，得到第三响应时延。可选地，所述方法还包括以下步骤：多次执行步骤B3～步骤B5，得到多个所述第一时间差误差；对多个所述第一时间差误差求平均值，得到第二时间差误差。可选地，所述方法包括以下步骤：所述语音识别装置没有显示屏幕时，所述语音识别装置和第三方显示装置进行电气连接；所述语音识别装置在完成语音识别时输出语音识别完成信号，通知所述第三显示装置已完成语音识别；所述第三方显示装置收到所述语音识别完成信号，记录接收到所述语音识别完成信号的时间为第七时间；所述第三方显示装置在界面中显示所述第七时间到当前时间的第二时间差；所述第三方显示装置实时更新所述第二时间差。通过本发明实施例，对智能终端进行语音识别测试时，能够自动获取智能终端语音识别的时延。获取的时延数据精确度高，不需要使用高速拍摄装置，降低测试成本。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在如上所述的一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
