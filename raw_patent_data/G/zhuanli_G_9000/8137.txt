标题title
一种数据存储方法及装置
摘要abst
本申请实施例提供了一种数据存储的方法及装置，用于提高存储效率，该方法包括：获取目标批次中的存储请求，及存储通道的配置信息。根据存储请求和存储通道的配置信息，筛选出配置信息满足预设存储条件的存储通道，并将满足预设存储条件的存储通道作为存储请求的备选存储通道。根据存储请求及与存储请求对应的备选存储通道，利用最速下降法，生成初始解，并计算初始解对应的目标批次中的所有存储请求存入备选存储通道所用时间之和。采用极值优化算法，对初始解进行更新，得到目标批次的最优总和存储时间，采用与最优总和存储时间对应的各个备选存储通道对目标批次中的存储请求所对应的数据进行存储。
权利要求书clms
1.一种数据存储方法，其特征在于，包括：获取目标批次中的存储请求，及存储通道的配置信息；所述目标批次中的存储请求包括至少一个存储请求；根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述配置信息满足预设存储条件的存储通道，并将满足所述预设存储条件的存储通道作为所述存储请求对应的备选存储通道；根据所述目标批次中的存储请求及所述备选存储通道，利用最速下降法，生成初始解；计算所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和；根据所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和，采用极值优化算法，对所述初始解进行更新，得到与所述目标批次中的所有存储请求对应的最优总和存储时间；采用与所述最优总和存储时间对应的各个备选存储通道对所述目标批次中的存储请求所对应的数据进行存储。2.根据权利要求1所述的数据存储方法，其特征在于，所述获取目标批次中的存储请求，及存储通道的配置信息，包括：获取所述目标批次中的存储请求携带的数据包大小，以及每个存储通道的剩余空间大小和对应的带宽大小。3.根据权利要求2所述的数据存储方法，其特征在于，所述根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述配置信息满足预设存储条件的存储通道，并将满足所述预设存储条件的存储通道作为所述存储请求对应的备选存储通道，包括：根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述存储通道的剩余空间大小大于所述存储请求携带的数据包大小的所述存储通道，将满足所述预设存储条件的所述存储通道作为所述存储请求的备选存储通道。4.根据权利要求1所述的数据存储方法，其特征在于，当所述目标批次中的存储请求为多个时，所述根据所述目标批次中的存储请求及所述备选存储通道，利用最速下降法，生成初始解，包括：获取所述目标批次中的存储请求的自由度，按照所述自由度由低到高的顺序对所有存储请求进行排序，以得到所述所有存储请求的自由度排序结果；其中，所述存储请求的自由度由所述存储请求对应的备选存储通道的数量和所述存储请求的数据包大小决定，所述备选存储通道的数量越多，则所述自由度越高；当所述备选存储通道的数量相同时，所述存储请求的数据包越大，所述自由度越低；根据所述所有存储请求的自由度排序结果，依次为所述所有存储请求分配所述存储通道，直至所述所有存储请求均分配至所述存储通道中；将所述所有存储请求的分配结果作为所述初始解。5.根据权利要求4所述的数据存储方法，其特征在于，所述方法还包括：若所述根据所述所有存储请求的自由度排序结果，依次为所述所有存储请求分配所述存储通道，不能将所述所有存储请求均分配至所述存储通道中，则将已配置到所述备选存储通道中的所述存储请求分配到比当前存储通道带宽更小的所述备选存储通道中，直至所述所有存储请求均分配至所述存储通道中。6.根据权利要求2所述的数据存储方法，其特征在于，计算所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道所用的时间之和，包括：基于公式确定所述初始解对应的所述目标批次中的所有存储请求的总和存储时间；且满足条件Σθ*m≤X以及Σm＜ΣX，i∈，j∈，使得匹配到第j个存储通道的总数据量不大于所述第j个存储通道的剩余空间，所述目标批次的所有存储请求的总数据量小于所有备选存储通道的总剩余空间；其中，当第i个存储请求匹配到第j个存储通道时，θ的值为1，否则，θ的值为0；θ为所述目标批次的第i个存储请求；m为所述目标批次的第i个存储请求的数据量；ti为所述目标批次的第i个存储请求x在第j个存储通道的存储所用时间；H为第j个通道的带宽；X为第j个通道的剩余空间；q为所述存储请求的总个数，n为所述存储通道的总个数。7.根据权利要求6所述的数据存储方法，其特征在于，所述根据所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和，采用极值优化算法，对所述初始解进行更新，得到与所述目标批次中的所有存储请求对应的最优总和存储时间，包括：确定α＝ti-ti_best表示所述目标批次的第i个存储请求对应的第一变异因子；其中，ti_best为所述目标批次的第i个存储请求在对应的所述至少一个备选存储通道中最少的存储用时；计算所有存储请求对应的第一变异因子的值，并对所述目标批次中各个存储请求对应的所述第一变异因子的值进行降序排序；选出所述排序中最大的所述第一变异因子的值，对与所述第一变异因子对应的所述目标批次的第i个存储请求对应的所述存储通道序号进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据更新后的所述所有存储请求与所述存储通道的对应关系计算函数Σti的值；判断minT是否在连续迭代预设的m次后均未更新，若是，则停止迭代；若否，则重新计算所述第一变异因子的值，并对所述目标批次中各个存储请求对应的所述第一变异因子的值进行降序排序，选出所述排序中最大的所述第一变异因子的值，对与所述第一变异因子对应的所述目标批次的第i个存储请求对应的所述存储通道序号进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据所述更新后的所述所有存储请求与所述存储通道的对应关系计算所述函数Σti的值，直至minT在连续迭代所述预设的m次后均未更新为止；m为大于0的整数，minT为与所述目标批次中的所有存储请求对应的最优总和存储时间。8.根据权利要求7所述的数据存储方法，其特征在于，在minT在连续迭代所述预设的m次后均未更新为止之后，还包括：确定β＝/ti_best表示所述目标批次的第i个存储请求对应的第二变异因子；计算所有存储请求对应的第二变异因子的值，并对所述目标批次中各个存储请求对应的所述第二变异因子的值进行降序排序；选出所述排序中最大的所述第二变异因子的值，对与所述第二变异因子对应的所述目标批次的第i个存储请求对应的所述存储通道序号进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据更新后的所述所有存储请求与所述存储通道的对应关系计算函数Σti的值；判断minT是否在连续迭代预设的k次后均未更新，若是，则停止迭代；若否，则重新计算所述第二变异因子的值，并对所述目标批次中各个存储请求对应的所述第二变异因子的值进行降序排序，选出所述排序中最大的所述第二变异因子的值，对与所述第二变异因子对应的所述目标批次的第i个存储请求对应的所述存储通道序号进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据更新后的所述所有存储请求与所述存储通道的对应关系计算函数Σti的值，直至minT在连续迭代预设的k次后均未更新为止；k为大于0的整数。9.一种数据存储装置，其特征在于，包括：获取单元，用于获取目标批次中的存储请求，及存储通道的配置信息；所述目标批次中的存储请求包括至少一个存储请求；筛选单元，用于根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述配置信息满足预设存储条件的存储通道，并将满足所述预设存储条件的存储通道作为所述存储请求对应的备选存储通道；初始解生成单元，用于根据所述目标批次中的存储请求及所述备选存储通道，利用最速下降法，生成初始解；计算单元，用于计算所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和；根据所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和，采用极值优化算法，对所述初始解进行更新，得到与所述目标批次中的所有存储请求对应的最优总和存储时间；存储单元，用于采用与所述最优总和存储时间对应的各个备选存储通道对所述目标批次中的存储请求所对应的数据进行存储。10.一种计算机可读存储介质，其特征在于，包括计算机操作指令，当所述计算机操作指令在计算机上运行时，使得所述计算机执行如权利要求1-8任一项所述的数据存储方法。
说明书desc
技术领域本申请涉及数据处理技术领域，特别涉及一种数据存储方法及装置。背景技术随着数据时代的到来和不断发展，每天所需要处理的数据信息不断增多，在进行数据存储时，若遇到大量数据待存储请求，且处理器只能进行串行处理的情况下，目前没有存储速度较快的存储方法，存储效率低下。若要提高存储效率，通常做法是增加硬件处理器，但是这增加了经济成本，且并没有从根本上提高数据存储效率。因此，如何在处理器只能进行串行处理的情况下，提高数据存储效率已成为本领域急需解决的技术问题。发明内容鉴于上述问题，本发明的目的在于提供一种数据存储方法及装置，以便克服上述问题或者至少部分地解决上述问题。具体方案如下：本发明实施例公开了一种数据存储方法，所述方法包括：获取目标批次中的存储请求，及存储通道的配置信息；所述目标批次中的存储请求包括至少一个存储请求；根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述配置信息满足预设存储条件的存储通道，并将满足所述预设存储条件的存储通道作为所述存储请求对应的备选存储通道；根据所述目标批次中的存储请求及所述备选存储通道，利用最速下降法，生成初始解；计算所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和；根据所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和，采用极值优化算法，对所述初始解进行更新，得到与所述目标批次中的所有存储请求对应的最优总和存储时间；采用与所述最优总和存储时间对应的各个备选存储通道对所述目标批次中的存储请求所对应的数据进行存储。优选的，所述获取目标批次中的存储请求，及存储通道的配置信息，包括：获取所述目标批次中的存储请求携带的数据包大小，以及每个存储通道的剩余空间大小和对应的带宽大小。优选的，所述根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述配置信息满足预设存储条件的存储通道，并将满足所述预设存储条件的存储通道作为所述存储请求对应的备选存储通道，包括：根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述存储通道的剩余空间大小大于所述存储请求携带的数据包大小的所述存储通道，将满足所述预设存储条件的所述存储通道作为所述存储请求的备选存储通道。优选的，当所述目标批次中的存储请求为多个时，所述根据所述目标批次中的存储请求及所述备选存储通道，利用最速下降法，生成初始解，包括：获取所述目标批次中的存储请求的自由度，按照所述自由度由低到高的顺序对所有存储请求进行排序，以得到所述所有存储请求的自由度排序结果；其中，所述存储请求的自由度由所述存储请求对应的备选存储通道的数量和所述存储请求的数据包大小决定，所述备选存储通道的数量越多，则所述自由度越高；当所述备选存储通道的数量相同时，所述存储请求的数据包越大，所述自由度越低；根据所述所有存储请求的自由度排序结果，依次为所述所有存储请求分配所述存储通道，直至所述所有存储请求均分配至所述存储通道中；将所述所有存储请求的分配结果作为所述初始解。优选的，所述方法还包括：若所述根据所述所有存储请求的自由度排序结果，依次为所述所有存储请求分配所述存储通道，不能将所述所有存储请求均分配至所述存储通道中，则将已配置到所述备选存储通道中的所述存储请求分配到比当前存储通道带宽更小的所述备选存储通道中，直至所述所有存储请求均分配至所述存储通道中。优选的，计算所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道所用的时间之和，包括：基于公式确定所述初始解对应的所述目标批次中的所有存储请求的总和存储时间；且满足条件Σθ*m≤X以及Σm＜ΣX，i∈，j∈，使得匹配到第j个存储通道的总数据量不大于所述第j个存储通道的剩余空间，所述目标批次的所有存储请求的总数据量小于所有备选存储通道的总剩余空间；其中，当第i个存储请求匹配到第j个存储通道时，θ的值为1，否则，θ的值为0；θ为所述目标批次的第i个存储请求；m为所述目标批次的第i个存储请求的数据量；ti为所述目标批次的第i个存储请求x在第j个存储通道的存储所用时间；H为第j个通道的带宽；X为第j个通道的剩余空间；q为所述存储请求的总个数，n为所述存储通道的总个数。优选的，所述根据所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和，采用极值优化算法，对所述初始解进行更新，得到与所述目标批次中的所有存储请求对应的最优总和存储时间，包括：确定α＝ti-ti_best表示所述目标批次的第i个存储请求对应的第一变异因子；其中，ti_best为所述目标批次的第i个存储请求在对应的所述至少一个备选存储通道中最少的存储用时；计算所有存储请求对应的第一变异因子的值，并对所述目标批次中各个存储请求对应的所述第一变异因子的值进行降序排序；选出所述排序中最大的所述第一变异因子的值，对与所述第一变异因子对应的所述目标批次的第i个存储请求对应的所述存储通道序号进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据更新后的所述所有存储请求与所述存储通道的对应关系计算函数Σti的值；判断minT是否在连续迭代预设的m次后均未更新，若是，则停止迭代；若否，则重新计算所述第一变异因子的值，并对所述目标批次中各个存储请求对应的所述第一变异因子的值进行降序排序，选出所述排序中最大的所述第一变异因子的值，对与所述第一变异因子对应的所述目标批次的第i个存储请求对应的所述存储通道序号进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据所述更新后的所述所有存储请求与所述存储通道的对应关系计算所述函数Σti的值，直至minT在连续迭代所述预设的m次后均未更新为止；m为大于0的整数，minT为与所述目标批次中的所有存储请求对应的最优总和存储时间。优选的，在minT在连续迭代所述预设的m次后均未更新为止之后，还包括：确定β＝/ti_best表示所述目标批次的第i个存储请求对应的第二变异因子；计算所有存储请求对应的第二变异因子的值，并对所述目标批次中各个存储请求对应的所述第二变异因子的值进行降序排序；选出所述排序中最大的所述第二变异因子的值，对与所述第二变异因子对应的所述目标批次的第i个存储请求对应的所述存储通道序号进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据更新后的所述所有存储请求与所述存储通道的对应关系计算函数Σti的值；判断minT是否在连续迭代预设的k次后均未更新，若是，则停止迭代；若否，则重新计算所述第二变异因子的值，并对所述目标批次中各个存储请求对应的所述第二变异因子的值进行降序排序，选出所述排序中最大的所述第二变异因子的值，对与所述第二变异因子对应的所述目标批次的第i个存储请求对应的所述存储通道序号进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据更新后的所述所有存储请求与所述存储通道的对应关系计算函数Σti的值，直至minT在连续迭代预设的k次后均未更新为止；k为大于0的整数。其次，本发明实施例公开了一种数据存储装置，所述装置包括：获取单元，用于获取目标批次中的存储请求，及存储通道的配置信息；所述目标批次中的存储请求包括至少一个存储请求；筛选单元，用于根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述配置信息满足预设存储条件的存储通道，并将满足所述预设存储条件的存储通道作为所述存储请求对应的备选存储通道；初始解生成单元，用于根据所述目标批次中的存储请求及所述备选存储通道，利用最速下降法，生成初始解；计算单元，用于计算所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和；根据所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和，采用极值优化算法，对所述初始解进行更新，得到与所述目标批次中的所有存储请求对应的最优总和存储时间；存储单元，用于采用与所述最优总和存储时间对应的各个备选存储通道对所述目标批次中的存储请求所对应的数据进行存储。一种计算机可读存储介质，包括计算机操作指令，当所述计算机操作指令在计算机上运行时，使得所述计算机执行上述数据存储方法的步骤。由上述方案可知，本申请提供的数据存储方法及装置通过根据存储请求和存储通道的配置信息，筛选出配置信息满足预设存储条件的存储通道，并将满足预设存储条件的存储通道作为备选存储通道，根据目标批次中的存储请求以及备选存储通道，利用最速下降法生成初始解，根据初始解计算初始解下目标批次中的所有存储请求存入备选存储通道所用时间之和，采用极值优化算法，对初始解进行更新，得到与目标批次中的所有存储请求对应的最优总和存储时间，采用与最优总和存储时间对应的各个存储通道对目标批次中的存储请求对应的数据进行存储。从而通过利用最速下降法得到的初始解使得每个存储请求都初步配置到相应的存储通道，且总存储时间较低，大大降低后续进行极值优化的时间，减少极值优化过程对计算机资源的占用，快速得到目标批次中的存储请求对应的最优存储通道，实现对大量存储请求的快速存储，提高存储效率。附图说明通过阅读下文优选实施方式的详细描述，各种其他的优点和益处对于本领域普通技术人员将变得清楚明了。附图仅用于示出优选实施方式的目的，而并不认为是对本申请的限制。而且在整个附图中，用相同的参考符号表示相同的部件。图1是本申请实施例中数据存储方法的流程图；图2是本申请实时例与传统数据存储方法在计算机处理速度上的对比图；图3是本申请实施例中数据存储的装置的示意图。具体实施方式下面将参照附图更详细地描述本公开的示例性实施例。虽然附图中显示了本公开的示例性实施例，然而应当理解，可以以各种形式实现本公开而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更透彻地理解本公开，并且能够将本公开的范围完整的传达给本领域的技术人员。由背景技术可知，处理器只能串行处理的情况下，目前没有存储速度较快的存储方法，在遇到待存储的文件多且量大时，在处理过程中可能出现拥堵卡死的情况，存储的效率非常低下。而采用遗传算法来对大量数据的存储请求和存储通道进行匹配，通过大量的遗传变异反复迭代后得到存储请求与存储通道匹配的最优解，速度非常慢，计算机资源占用大，导致存储效率还是很低。本申请实施例中就是针对上述情况，提供了相应的解决方案。下面对本申请实施例提供的具体实现方案进行详细介绍。参见图1，图1为本申请实施例提供的一种数据存储方法的流程示意图，该方法具体可以包括：S101：获取目标批次中的存储请求，及存储通道的配置信息；所述目标批次中的存储请求包括至少一个存储请求。获取目标批次中的所有存储请求和处理器中的存储通道的配置信息，存储请求包括数据包大小信息，存储通道的配置信息包括剩余空间大小信息和对应的带宽大小信息；在本申请实施例的一些可能的实现方式中，存储请求可以为客户端发送。S102：根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述配置信息满足预设存储条件的存储通道，并将满足所述预设存储条件的存储通道作为所述存储请求对应的备选存储通道。根据存储请求的数据包大小和存储通道的剩余空间大小，为存储请求筛选出存储通道剩余空间大小大于存储请求所包括的数据包大小的存储通道，将筛选出的存储通道作为与存储请求对应的备选存储通道，使得存储请求能够成功在备选存储通道中进行数据存储，避免由于存储通道剩余空间不足导致数据存储失败。其中，各个存储请求至少对应一个备选存储通道。S103:根据所述目标批次中的存储请求及所述备选存储通道，利用最速下降法，生成初始解。需要说明的是，利用最速下降法生成初始解，包括，当目标批次中的存储请求为多个时：A1、获取目标批次中的所有存储请求的自由度，按照自由度由低到高的顺序对所有存储请求进行排序，存储请求的自由度由存储请求对应的备选存储通道的数量和存储请求的数据包大小决定，具体为，优先比较存储请求对应的备选存储通道数量，存储请求对应的备选存储通道数量越多则自由度越高，当备选存储通道的数量相同时，存储请求的数据包越大，自由度越低。A2、根据所有存储请求的自由度排序结果，由低到高依次为所有存储请求分配存储通道，直至目标批次中的所有存储请求均分配至存储通道中，将存储请求的分配结果作为初始解。A3、若根据所有存储请求的自由度排序结果，依次为所有存储请求分配存储通道，不能将目标批次中的所有存储请求均分配至存储通道中，则将已配置到备选存储通道中的存储请求分配到比当前存储通道带宽更小的备选存储通道中，直至目标批次中的所有存储请求均分配至存储通道中。使得获取到的初始解为每个存储请求都初步配置到符合剩余空间大小大于存储请求所包括的数据包大小的备选存储通道中，且总的存储时间较少。S104：计算所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和。根据利用最速下降法生成的初始解，计算将初始解中的目标批次的存储请求中的数据包，全部存储到相应的备选存储通道所花费的时间总和。S105：根据所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和，采用极值优化算法，对所述初始解进行更新，得到与所述目标批次中的所有存储请求对应的最优总和存储时间。需要说明的是，最优总和存储时间是指目标批次中的所有存储请求对应的最优存储时间之和。在本实施例中，可以所述目标批次中的所有存储请求对应的总和存储时间最短为极值优化算法的目标函数，以对目标批次的存储请求对应的存储通道进行更新的原则，对目标批次的存储请求对应的存储通道进行迭代优化，计算与目标批次中的所有存储请求对应的最优总和存储时间。S106：采用与所述最优总和存储时间对应的各个备选存储通道对所述目标批次中的存储请求所对应的数据进行存储。本实施例中，在确定最优总和存储时间之后，各个存储请求对应的存储通道相应确定，分别采用各个存储请求对应的存储通道对各个存储请求进行处理。本实施例中公开了一种数据存储方法，在获取目标批次的至少一个存储请求之后，先分别确定与各个存储请求对应的至少一个备选存储通道；再基于每个存储请求的备选存储通道，利用最速下降法，生成初始解，然后采用极值优化算法，对初始解进行更新，得到与目标批次中的所有存储请求对应的最优总和存储时间；最后，采用与最优总和存储时间对应的各个存储通道对目标批次的所有存储请求进行存储。上述方案中，在对目标批次的至少一个存储请求进行存储时，先通过给每个存储请求筛选出配置信息满足预设条件的备选存储通道，再利用最速下降法生成一个初始解，该初始解使得每个存储请求都初步配置到符合预设条件的备选存储通道，同时总的存储时间较低。对比遗传算法中随机生成初始解的方案，利用最速下降法思想生成初始解比随机生成初始解对求解最优方案更加有指导性。因为最速下降法生成的初始解比随机生成的初始解在存储时间上更短，这为后续的极值优化提供了一个更好的初始解，大大降低极值优化的时间以及减少极值优化过程的计算机资源占用；而随机生成的初始解，对于大部分数据存储都没有放到最优的通道，且，因为随机生成无法保证每个存储请求都被配置到剩余空间大小大于数据包大小的存储通道，导致后续的部分优化产生了无效优化，大大增加极值优化所需要消耗的时间和占用的计算机资源。采用极值优化算法相对于遗传算法，能够快速得到最优总和存储时间，进而为每个存储请求快速匹配存储通道，降低了计算机计算资源，同时提高存储时效。在一个实施例中，本申请详细介绍了分别确定与各个所述存储请求对应的至少一个备选存储通道的具体实现方式，该方式具体包括：针对每个存储请求，比较存储请求的数据量大小和每个存储通道的剩余空间大小，若存储通道的剩余空间大于等于存储请求的数据量大小，则该存储通道作为当前存储请求的备选通道。经过筛选将每个存储请求的备选存储通道筛选出来后，基于每个存储请求的备选存储通道，利用最速下降法生成初始解。为了便于理解，下面举个简例说明。现有3个存储通道：序号剩余空间对应带宽C120005C210006C39008本批次有5个存储请求，该5个存储请求对应的备选存储通道以及每个备选存储通道的剩余存储空间如下：此时，备选存储通道中均未匹配存储请求。针对上述情况，由于第5个存储请求只有1个备选存储通道，因此是自由度最低的，因此最先处理自由度最低的第5个存储请求，将其匹配到C1中，此时，备选存储通道状态如下表：待存储的请求变成下表：选择自由度最低的第2个请求，将第2个请求匹配到存储通道C2中，存储通道状态如下：待存储的请求变成下表：剩下的3个请求中，第3个和第4个请求都只有1个备选存储通道，但是第3个请求的数据包比第4个大，因此，第3个请求自由度更低，优先处理第3个请求，将第3个请求匹配至C3中，存储通道状态如下：待存储的请求变成下表：选择自由度更低的第4个请求，将其匹配到C3，存储通道状态如下：待存储的请求变成下表：最后处理第1个请求，按照存储速快更快、所用时间最少的原则，优先选C3，因此存储通道状态如下：最速下降法得到的初始解如下：上述过程中刚好可以将每个存储请求匹配完，若当前存储请求的所有备选存储通道的总剩余空间均不能满足配置要求，则需要从已配置到备选存储通道中的存储请求中按照待存储请求数据从小到大的顺序依次选择，并将其配置到比当前存储通道带宽更小的备选存储通道中，直至当前存储请求均能配置到存储通道中。为便于理解，下面进行举例说明。现有2个存储通道：序号剩余空间对应带宽C120005C210006本批次有5个存储请求，该5个存储请求对应的备选存储通道以及每个备选存储通道的剩余存储空间如下：由于第1个存储请求只有1个备选存储通道，即，第1个存储请求自由度最低，将第1个存储请求放入C1中，此时，存储通道状态如下表：待存储的请求变为下表：此时剩下的4个存储请求中的备选存储通道数量都相同，但第2个存储请求的数据包大小最大，即第2个存储请求自由度最低，按照存储速快更快、所用时间最少的原则，优将第2个存储请求放入C2中，因此存储通道状态如下：待存储的请求变为下表：此时，第3个存储请求和第4个存储请求的备选存储通道相同，由于第3个存储请求的数据包大小大于第4个存储请求的数据包大小，即，第3个存储请求的自由度最低，将第3个存储请求放入C1中。存储通道状态如下表：待存储的请求变为下表：此时第4个存储请求自由度最低，但剩余空间不满足预设要求，不存在备选存储通道。在当前存储请求的所有备选存储通道的总剩余空间均不能满足配置要求的情况下，将已配置到备选存储通道中的存储请求，按照存储请求数据从小到大的顺序依次选择，即，依次调整第3个存储请求、第2个存储请求和第1个存储请求。由于第3个存储请求只能选择存储通道C1，无法进行调整，则进一步调整第2个存储请求，第2个存储请求的备选存储通道为C1和C2，因为C1比C2带宽更低，所以将第2个存储请求放入C1。此时，存储通道状态如下表：待存储的请求变为下表：此时，按照自由度由低到高进行排序，依次为第3个存储请求、第4个存储请求和第5个存储请求，且，第3个存储请求、第4个存储请求和第5个存储请求均能依次放入C2中，实现将当前所有存储请求都配置到存储通道中，且当前所有存储请求的所有备选存储通道的总剩余空间均满足配置要求。通过上述最速下降法得到初始解，该初始解使得每个存储请求都初步配置到符合硬约束条件的备选存储通道同时总的存储时间较少。对比随机生成初始解的方案，利用最速下降法生成的初始解相比随机生成初始解而言更优，因为最速下降法生成的初始解比随机生成的初始解在总存储时间更少，这为后续的极值优化提供了一个更好的初始解，大大降低极值优化的时间以及减少极值优化过程的计算机资源占用。在一个实施例中，本申请详细介绍了以所述目标批次的存储请求对应的总和存储时间最短为所述极值优化算法的目标函数，以对所述目标批次的存储请求中的目标存储请求的存储通道进行更新的原则，对所述目标批次的存储请求对应的存储通道进行迭代优化，计算与所述目标批次的存储请求对应的最优总和存储时间的具体实现方式，该方式具体包括：确定目标函数即目标批次的存储请求的总和存储时间最低；确定约束条件为Σθ*m≤X和Σm＜ΣX；其中，θ＝1 if c＝j,θ＝0 if c≠j，即当第i个存储请求匹配到第j个存储通道时，θ的值为1，否则，θ的值为0。Σθ*m≤X使得匹配到第j个存储通道的总数据量不大于该存储通道的剩余空间。Σm＜ΣX使得目标批次的总存储请求的数据量小于所有备选通道的总剩余空间。最速下降法得到的初始解，所述初始解中包括θ、c、m；其中，θ为目标批次的第i个存储请求；c为目标批次的第i个存储请求对应的通道序号；m为目标批次的第i个存储请求的数据量；ti为目标批次的第i个存储请求x在当前通道c的存储所用时间；H为第j个通道的带宽；X为第j个通道的剩余空间；q为存储请求总个数，n为备选存储通道总个数；根据所述初始解计算函数Σti的值，即计算初始解下目标批次中每个存储请求存入存储通道所用时间之和。然后按照下述原则对初始解进行更新，具体如下：S1：确定α＝ti-ti_best表示所述目标批次的第i个存储请求对应的第一变异因子；其中，ti_best为所述目标批次的第i个存储请求在对应的至少一个备选存储通道中最少的存储用时；S2：针对所述目标批次中每个存储请求计算α的值，并对所述目标批次中各个存储请求对应的α的值进行降序排序；需要说明的是，α的设计使得选择当前解下，存储请求的存储用时与该存储请求在对应的至少一个备选存储通道中最少的存储用时差值最大的那个存储请求进行更新，这样能够使得解集快速收敛，从而快速得到最优解。S3：选出所述排序中最大的所述第一变异因子的值，对与所述第一变异因子对应的所述目标批次的第i个存储请求对应的所述存储通道序号进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据更新后的所述所有存储请求与所述存储通道的对应关系计算函数Σti的值；在本步骤中，α值越大被选中概率越大，该方式可有效防止陷入局部最优解。S4：判断minT是否在连续迭代预设的m次后均未更新，若是，则停止迭代；若否，则返回S2，直至minT在连续迭代预设的m次后均未更新为止；m为大于0的整数；比如，预设m为50，即当判断minT在连续迭代50次后均未更新，也就是说最低总和存储用时无法变得更低时，停止迭代。其中，S4中得到的minT为与所述目标批次的存储请求对应的最优总和存储用时。需要说明的是，在所述S4之后还包括：在所述目标函数和所述约束条件不变的前提下，对所述S4中得到的minT进一步优化更新，更新原则具体如下：S5：确定β＝/ti_best表示所述目标批次的第i个存储请求对应的第二变异因子；需要说明的是，β的设计使得选择当前解下，“存储请求的存储用时与该个存储请求在对应的至少一个备选存储通道中最少的存储用时的差值”与“该个存储请求在对应的至少一个备选存储通道中最低的存储用时”之比最大的那个存储请求进行更新，这样能够使得解集在快速收敛的同时，还可以将那些存储用时较小，但适值较优的存储请求进行更新，对最优解进一步优化得到全局最优解。S6：针对目标批次中每个存储请求计算β的值，并对所述目标批次中各个存储请求对应的β的值进行降序排序，S7：选出所述排序中最大的β的值，对与其对应的x对应的c进行更新，以得到更新后的所述所有存储请求与所述存储通道的对应关系；根据更新后的所述所有存储请求与所述存储通道的对应关系计算函数Σti的值；在本步骤中，β值越大被选中概率越大，该方式可有效防止陷入局部最优解。S8：判断minT是否在连续迭代预设的k次后均未更新，若是，则停止迭代；若否，则返回S6，直至minT在连续迭代预设的k次后均未更新为止；k为大于0的整数；比如，预设k为50，即当判断minT在连续迭代50次后均未更新，也就是说最低总和存储用时无法变得更低时，停止迭代。选择这种方式作为停止迭代的条件，避免无效的迭代更新，能进一步节省计算机处理的时间。其中，S8中得到的minT为所述目标批次的所有存储请求对应的最优总和存储用时。基于以上，在第一变异因子更新迭代结束之后，比较选出第一阶段的最低总和存储用时，即S4中得到的minT，此时得到对应的存储通道匹配序列。再基于第一阶段得到的存储通道匹配序列采用第二变异因子进行更新迭代，迭代结束后，比较选出第二阶段的最低总和存储用时，即S8中得到的minT，S8中得到的minT即为全局最低总和存储用时，其对应的存储通道匹配序列即为本发明实施例的全局最优解。第一变异因子更新迭代结束之后即可收敛到最优解附近，大大降低计算机处理速度，减少计算机资源占用，利用第二变异因子对存储通道匹配序列进一步更新迭代，使得总和存储用时进一步优化。本发明与现有技术中的数据存储方法相比，在保证得到同样的最优解的情况下，极大地加快了计算机处理速度，降低了计算机资源占用，从而加快了存储通道匹配效率，进一步提高了存储请求的存储速度。如图2所示为本发明与传统数据存储方法在计算机处理速度上的对比图。从图中可以看出，本发明可以快速收敛到最优解附近，随后展开广度搜索。而现有技术中的数据存储方法采用遗传算法，其一开始的收敛性并不好，需要迭代8000次左右才能达到最优解附近，而本发明只需要迭代2000次左右即可达到最优解，从图对比可明显看出，在达到同样效果的前提下，本发明比现有技术加快了75％的时间，同时大大节约了计算资源，加快了存储请求的存储效率。本申请先针对每个存储请求结合硬约束条件筛选出备选的存储通道，再利用最速下降法生成初始解，然后基于初始解不断迭代优化，且优化的方法是：选择当前解下，存储请求的存储用时与该个存储请求在对应的至少一个备选存储通道中最少的存储用时差值最大的那个存储请求进行更新，这样能够使得解集快速收敛，从而快速得到最优解。本发明中的优化方法在处理海量的存储请求时，能快速得到最优解，保证存储用时最低的情况下，为每个存储请求快速匹配存储通道，从而加快存储速度，提高存储效率。处理器中包含内核，由内核去存储器中调取相应的程序单元。内核可以设置一个或以上，通过调整内核参数来实现对恶意代码的检测。存储器可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存，存储器包括至少一个存储芯片。参见图3，本申请实施例提供了一种数据存储装置，具体包括以下单元：获取单元301，用于获取目标批次中的存储请求，及存储通道的配置信息；所述目标批次中的存储请求包括至少一个存储请求；筛选单元302，用于根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述配置信息满足预设存储条件的存储通道，并将满足所述预设存储条件的存储通道作为所述存储请求对应的备选存储通道；初始解生成单元303，用于根据所述目标批次中的存储请求及所述备选存储通道，利用最速下降法，生成初始解；计算单元304，用于计算所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和；根据所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和，采用极值优化算法，对所述初始解进行更新，得到与所述目标批次中的所有存储请求对应的最优总和存储时间；存储单元305，用于采用与所述最优总和存储时间对应的各个备选存储通道对所述目标批次中的存储请求所对应的数据进行存储。本申请实施例提供了一种存储介质，其上存储有程序，该程序被处理器执行时实现所述数据存储方法。本申请实施例提供了一种处理器，所述处理器用于运行程序，其中，所述程序运行时执行所述数据存储方法。本申请实施例提供了一种电子设备，电子设备包括处理器、存储器及存储在存储器上并可在处理器上运行的程序，处理器执行程序时实现以下步骤：获取目标批次中的存储请求，及存储通道的配置信息；所述目标批次中的存储请求包括至少一个存储请求；根据所述存储请求和所述存储通道的配置信息，为所述存储请求筛选出所述配置信息满足预设存储条件的存储通道，并将满足所述预设存储条件的存储通道作为所述存储请求对应的备选存储通道；根据所述目标批次中的存储请求及所述备选存储通道，利用最速下降法，生成初始解；计算所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和；根据所述初始解对应的所述目标批次中的所有存储请求存入所述备选存储通道的所用时间之和，采用极值优化算法，对所述初始解进行更新，得到与所述目标批次中的所有存储请求对应的最优总和存储时间；采用与所述最优总和存储时间对应的各个备选存储通道对所述目标批次中的存储请求所对应的数据进行存储。本文中的电子设备可以是服务器、PC、PAD、手机等。本申请还提供了一种计算机程序产品，当在数据处理设备上执行时，适于执行初始化有上述数据存储方法步骤的程序：本领域内的技术人员应明白，本申请的实施例可提供为方法、装置、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、装置、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。在一个典型的配置中，计算设备包括一个或多个处理器、输入/输出接口、网络接口和内存。存储器可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存。存储器是计算机可读介质的示例。计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体，如调制的数据信号和载波。还需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、商品或者设备中还存在另外的相同要素。本领域技术人员应明白，本申请的实施例可提供为方法、装置或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。以上仅为本申请的实施例而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
