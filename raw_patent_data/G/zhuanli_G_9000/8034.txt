标题title
一种船舶电能质量检测方法及装置
摘要abst
本发明涉及电能质量检测技术领域，具体涉及一种船舶电能质量检测方法及装置。该方法为：通过获取船舶在每次航行中不同工况的电能质量指标，从而预测出该船舶在下次航行中对应工况的预测电能指标向量；根据预测电能指标向量及对应的权重获取预测电能质量指标，基于预测电能质量指标得到不同工况下的差异程度从而将工况分为多个组；根据组内每个工况的置信度以及预测电能质量指标获取该组的预测电能质量评分；进而根据该船舶在每个工况下的预测电量消耗指标和预测电能质量评分得到综合预测电能质量评分，更加及时的对船舶下次航行的电能质量进行判断，提高了对船舶电能质量评价的准确性。
权利要求书clms
1.一种船舶电能质量检测方法，其特征在于，该方法包括以下步骤：获取船舶在一次航行中每个工况下的电能指标，根据每个工况对应的电能指标构成电能指标向量，为所述电能指标向量中每个所述电能指标分配权重；获取所述船舶在多次航行中每个所述工况的电能指标向量，将多次航行中所述工况的所述电能指标向量输入时间卷积网络，输出所述船舶在下次航行中对应工况的预测电能指标向量；根据所述预测电能指标向量及对应电能指标的权重获取所述工况的预测电能质量指标；根据每个所述工况下的预测电能指标向量以及预测电能质量指标获取不同所述工况下的差异程度，根据不同所述工况下的差异程度将所述工况分为多个组；获取所述组内每个所述工况的置信度，根据所述组内每个工况的预测电能质量指标及其置信度获取所述组的预测电能质量评分；获取所述船舶在下次航行中每个所述工况对应的预测电量消耗指标，根据每个所述组内工况的所述预测电量消耗指标以及预测电能质量评分得到综合预测电能质量评分，根据所述综合预测电能质量评分判断所述船舶下次航行的电能质量。2.根据权利要求1所述的方法，其特征在于，所述根据所述预测电能指标向量及对应电能指标的权重获取所述工况的预测电能质量指标的步骤，包括：获取所述预测电能指标向量中每个电能指标与其对应权重的乘积，所有所述电能指标与其对应权重的乘积的和为当前所述工况的预测电能质量指标。3.根据权利要求1所述的方法，其特征在于，所述时间卷积网络的损失函数为：其中，表示第次时间卷积网络预测数据与目标数据的均方差；表示第个电能指标向量对应的权重。4.根据权利要求1所述的方法，其特征在于，所述根据每个所述工况下的预测电能指标向量以及预测电能质量指标获取不同所述工况下的差异程度的步骤，包括：获取每两个所述工况之间的预测电能质量指标的差值，以及两个所述工况之间的预测电能指标向量之间的相似度，所述差值与所述相似度的比值为所述差异程度。5.根据权利要求1所述的方法，其特征在于，所述获取所述组内每个所述工况的置信度的步骤，包括：每个所述工况在实际运行中的电能消耗包括有功功率和无功功率；获取每个所述工况在运行中无功功率分配系数，根据所述无功功率分配系数获取所述工况的置信度。6.根据权利要求5所述的方法，其特征在于，所述根据所述无功功率分配系数获取所述工况的置信度的步骤，包括：获取所述船舶在任意工况航行时对应的无功功率序列，所述无功功率序列由航行中的无功功率分配系数获取；计算所述无功功率序列的方差，每个所述工况的置信度与所述方差呈负相关关系。7.根据权利要求1所述的方法，其特征在于，所述根据所述组内每个工况的预测电能质量指标及其置信度获取所述组的预测电能质量评分的步骤，包括：获取所述组内每个工况的预测电能质量指标与其置信度的乘积，所述组内所有所述工况的预测电能质量指标与其置信度的乘积之和为所述组的预测电能质量评分。8.根据权利要求1所述的方法，其特征在于，所述综合预测电能质量评分与所述预测电能质量评分和所述电量消耗指标呈正相关关系。9.一种船舶电能质量检测装置，包括存储器、处理器以及存储在所述存储器内并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求18任意一项方法所述的步骤。
说明书desc
技术领域本发明涉及电能质量检测技术领域，具体涉及一种船舶电能质量检测方法及装置。背景技术电能质量是指电力系统中电能的质量，随着电力电子器件在船舶上的广泛应用和船舶电力系统容量的不断增加，船舶电能质量问题也日益突出；电能质量的下降不仅会影响到船用电气设备的正常运行，甚至可能影响电气设备故障，严重危害船舶的安全。传统的船舶电能质量的检测方法一般是对船舶本身电能数据指标进行检测，但这种方法忽略了船舶本身的运行状况，从而导致传统的电能质量检测方法的适应性较差；船舶在不断运行过程中其电能质量可能也在不断的降低，需要及时进行预警维修，但现有的人工检测方法只能通过人为经验分析船舶在下一次航行时可能出现电能质量不达标的现象，判断的准确率较低。发明内容为了解决上述技术问题，本发明的目的在于提供一种船舶电能质量检测方法及装置，所采用的技术方案具体如下：第一方面，本发明一个实施例提供了一种船舶电能质量检测方法，该方法包括以下步骤：获取船舶在一次航行中每个工况下的电能指标，根据每个工况对应的电能指标构成电能指标向量，为所述电能指标向量中每个所述电能指标分配权重；获取所述船舶在多次航行中每个所述工况的电能指标向量，将多次航行中所述工况的所述电能指标向量输入时间卷积网络，输出所述船舶在下次航行中对应工况的预测电能指标向量；根据所述预测电能指标向量及对应电能指标的权重获取所述工况的预测电能质量指标；根据每个所述工况下的预测电能指标向量以及预测电能质量指标获取不同所述工况下的差异程度，根据不同所述工况下的差异程度将所述工况分为多个组；获取所述组内每个所述工况的置信度，根据所述组内每个工况的预测电能质量指标及其置信度获取所述组的预测电能质量评分；获取所述船舶在下次航行中每个所述工况对应的预测电量消耗指标，根据每个所述组内工况的所述预测电量消耗指标以及预测电能质量评分得到综合预测电能质量评分，根据所述综合预测电能质量评分判断所述船舶下次航行的电能质量。优选的，所述根据所述预测电能指标向量及对应电能指标的权重获取所述工况的预测电能质量指标的步骤，包括：获取所述预测电能指标向量中每个电能指标与其对应权重的乘积，所有所述电能指标与其对应权重的乘积的和为当前所述工况的预测电能质量指标。优选的，所述时间卷积网络的损失函数为：其中，表示第次时间卷积网络预测数据与目标数据的均方差；表示第个电能指标向量对应的权重。优选的，所述根据每个所述工况下的预测电能指标向量以及预测电能质量指标获取不同所述工况下的差异程度的步骤，包括：获取每两个所述工况之间的预测电能质量指标的差值，以及两个所述工况之间的预测电能指标向量之间的相似度，所述差值与所述相似度的比值为所述差异程度。优选的，所述获取所述组内每个所述工况的置信度的步骤，包括：每个所述工况在实际运行中的电能消耗包括有功功率和无功功率；获取每个所述工况在运行中无功功率分配系数，根据所述无功功率分配系数获取所述工况的置信度。优选的，所述根据所述无功功率分配系数获取所述工况的置信度的步骤，包括：获取所述船舶在任意工况航行时对应的无功功率序列，所述无功功率序列由航行中的无功功率分配系数获取；计算所述无功功率序列的方差，每个所述工况的置信度与所述方差呈负相关关系。优选的，所述根据所述组内每个工况的预测电能质量指标及其置信度获取所述组的预测电能质量评分的步骤，包括：获取所述组内每个工况的预测电能质量指标与其置信度的乘积，所述组内所有所述工况的预测电能质量指标与其置信度的乘积之和为所述组的预测电能质量评分。优选的，所述综合预测电能质量评分与所述预测电能质量评分和所述电量消耗指标呈正相关关系。第二方面，本发明另一个实施例提供了一种船舶电能质量检测装置，该装置包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时能够实现上述方法所述的步骤。本发明具有如下有益效果：本发明实施例中通过获取船舶在多次航行中每个工况的电能指标向量，输入网络中进行得到该船舶在下次航行时每个工况对应的预测电能指标向量，通过对船舶自身的数据进行预测，能够提高预测的准确度，并且该方法的适应性较强，进一步根据预测电能指标向量以及每个电能指标对应的权重得到预测电能质量指标，根据每个工况对应的预测电能质量指标获取每两个工况之间的差异程度，从而根据差异程度将不同的工况分为不同的组，获取组内每个工况对应的置信度，根据每个工况的置信度和对应的预测电能质量指标得到该组的预测电能质量评分，进一步预测每组对应的预测电量消耗指标，根据预测电量消耗指标和预测电能质量评分得到该船舶在下次航行对应的综合预测电能质量评分，从而判断该船舶在下一次航行时的电能质量，提高了对船舶电能质量评价的准确性，根据预测的电能质量结果能够及时的对船舶的电气设备进行防护。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种船舶电能质量检测方法流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种船舶电能质量检测方法及装置，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构、或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。本发明实施例主要适用于对船舶电能质量的检测，为了解决传统检测方法适应性差并且不能准确预测船舶后续航行的电能质量的问题，本发明实施例中通过获取船舶在多次航行中每个工况的电能指标向量，预测该船舶在下次航行时每个工况对应的预测电能指标向量，进一步得到预测电能质量指标，根据每个工况对应的预测电能质量指标将不同的工况分为不同的组，得到每组预测电能质量评分，根据预测电量消耗指标和预测电能质量评分得到该船舶在下一次航行对应的综合预测电能质量评分，从而判断该船舶在下一次航行时的电能质量，提高了对船舶电能质量评价的准确性，同时根据预测的电能质量及时对船舶的电气设备进行防护。下面结合附图具体的说明本发明所提供的一种船舶电能质量检测方法及装置的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种船舶电能质量检测方法流程图，该方法包括以下步骤：步骤S100，获取船舶在一次航行中每个工况下的电能指标，根据每个工况对应的电能指标构成电能指标向量，为电能指标向量中每个电能指标分配权重。船舶电能质量是表征船舶在各种工况下产生、分配及使用电能的一组参数；船舶电能质量将影响船舶电力系统的持续性、可靠性和稳定性，是动力推进、甲板机械、控制与通信设备等正常工作的重要保障。在实际对船舶电能质量评估时，应考虑船舶系统安全运行的相关指标，确保所选指标可以明确指示船舶电力系统的状态，本发明实施例中选取船舶运行中电压偏差、电压波动、频率偏差、频率波动、谐波以及三相不平衡度等6个指标作为对船舶电能质量评估的电能指标。船舶航行的过程中，在不同工况下所对应的电能指标的大小不同，获取船舶在不同工况下的电能指标，每个工况下的电能指标构成电能指标向量，本发明实施例中将船舶航行中的工况分为航行工况、进港工况、出港工况、装货工况、卸货工况、停泊工况以及应急工况。为提升后续计算的效率，本发明实施例中以中国船级社的规范标准为依据，将每个电能指标根据实际情况划分为五个评估等级，等级越高，说明此时的电能指标质量越好，即每个工况对应的电能指标向量中元素的取值范围为1-5。进一步的，采用层次分析法根据重要程度对六个电能指标分别分配权重，即每个电能指标的重要程度，建立每两个电能指标之间的评估矩阵，该评估矩阵表示每两个指标之间的相对重要性，通常采用1-9标度法进行重要性比例标度描述；本发明实施例中评估矩阵通过专家确定，由此获取根据每个电能指标的重要程度得到的对应的权重。步骤S200，获取船舶在多次航行中每个工况的电能指标向量，将多次航行中工况的电能指标向量输入时间卷积网络，输出船舶在下次航行中对应工况的预测电能指标向量；根据预测电能指标向量及对应电能指标的权重获取工况的预测电能质量指标。由步骤S100中获取到船舶在当前工况下的电能指标向量，获取该船舶在多次航行过程中每个工况对应的电能指标向量，根据获取到的历史电能指标向量数据对下一次航行时该船舶的电能指标向量的变化趋势进行预测，本发明实施例中采用时间卷积网络对下一次航行时该船舶的电能指标向量进行预测，网络的结构为编码器-解码器结构，具体训练过程如下：时间卷积网络的输入为历史电能指标向量；为每个历史电能指标向量分配占的比重，最新一次电能指标向量的比重最大，以此类推，对其余历史电能指标向量进行比重动态调整；损失函数采用均方误差损失函数；时间卷积网络的输出为预测电能指标向量。其中，迭代损失函数具体为：其中，表示第次时间卷积网络预测数据与目标数据的均方差；表示第个电能指标向量对应的权重。以此类推，获取该船舶在下一次航行时每个工况对应的电能指标向量。进一步的，获取预测电能指标向量中每个电能指标与其对应权重的乘积，所有电能指标与其对应权重的乘积的和为当前工况的预测电能质量指标。船舶在每个工况的电能质量指标与电能指标的评估等级和电能指标的权重呈正相关关系，获取当前工况的每个电能指标与其对应权重的乘积，所有电能指标与其对应权重的乘积的和为当前工况的电能质量指标，则电能质量指标为：其中，表示船舶的第个工况的电能质量指标；表示第个电能指标的权重；表示第个电能指标对应的评估等级；表示电能指标的数量，本发明实施例中。基于上述计算电能质量指标相同的方法，根据该船舶在下一次航行时每个工况对应的预测电能指标向量得到该船舶在下一次航行中每个工况对应的预测电能质量指标。步骤S300，根据每个工况下的预测电能指标向量以及预测电能质量指标获取不同工况下的差异程度，根据不同工况下的差异程度将工况分为多个组；获取组内每个工况的置信度，根据组内每个工况的预测电能质量指标及其置信度获取组的预测电能质量评分。由步骤S200中获取到该船舶在下一次航行中每个工况对应的预测电能指标向量以及预测电能质量指标，进一步对该船舶的电能质量进行具体评估，获取每两个不同工况下的差异程度，根据差异程度将不同工况分为多个组。获取每两个工况之间的预测电能质量指标的差值，以及两个工况之间的预测电能指标向量之间的相似度，差值与相似度的比值为差异程度。具体的，获取每两个不同工况下差异程度为：其中，表示第个工况和第个工况之间的差异程度；表示第个工况的预测电能指标向量与第个工况的预测电能指标向量之间的相似度；表示第个工况的预测电能质量指标；表示第个工况的预测电能质量指标。作为优选，本发明实施例中通过余弦相似度的方法计算第个工况的预测电能指标向量与第个工况的预测电能指标向量之间的相似度，在其他实施例中可以采用欧式距离或者皮尔逊相关法等常用的手段。以此类推，获取该船舶在下一次航行途中任意两个工况之间的差异程度，将差异程度较小的工况分为一组进行分析，有效减少了后续的计算量。本发明实施例中采用k-means均值聚类算法对所有的工况进行分组，每个组内工况的电能质量指标相似。进一步的，每个工况在实际运行中的的电能消耗分为有功功率和无功功率；获取每个工况在运行中无功功率分配系数，获取船舶在任意工况航行时对应的无功功率序列，无功功率序列由航行中的无功功率分配系数获取；计算无功功率序列的方差，每个工况的置信度与方差呈负相关关系。具体的，船舶在正常的航行过程中对于电能功率的消耗可以分为有功功率和无功功率两种类别，而无功功率较大时就会对电能质量产生较大的影响，因此采集在不同工况下航行的船舶的无功功率分配系数。本发明实施例中在船舶供电配备中心安装变频功率计，获取电气设备运行中的总功率与无功功率，得到每个工况下的无功功率分配系数；本发明实施例中以每5秒更新一次的频率，采集船舶每个工况的无功功率序列。计算每个工况对应的无功功率序列的方差，根据方差获取组内每个工况对应的置信度为：其中，表示第个工况对应的置信度；表示第个工况对应的无功功率序列的方差。进一步的，获取组内每个工况的预测电能质量指标与其置信度的乘积，组内所有工况的预测电能质量指标与其置信度的乘积之和为组的预测电能质量评分；根据组内每个工况对应的预测电能质量指标以及置信度获取该组的预测电能质量评分为：其中，表示第个组对应的预测电能质量评分；表示第个组内第个工况对应的预测电能质量指标；表示第个组内第个工况对应的置信度。步骤S400，获取船舶在下次航行中每个工况对应的预测电量消耗指标，根据每个组内工况的预测电量消耗指标以及预测电能质量评分得到综合预测电能质量评分，根据综合预测电能质量评分判断船舶下次航行的电能质量。由于船舶在不同工况下进行航行时对应电量消耗不同，因此获取该船舶在历史航行中每个工况下蓄电池的电量消耗指标，基于步骤S200中获取预测电能质量指标相同的方法，获取该船舶在下次航行过程中每个工况对应的预测电量消耗指标；基于步骤S300中不同的工况的分组，每个组内所有工况对应的预测电量消耗指标占所有组内工况总预测电量消耗指标的比重作为该组的权重，综合预测电能质量评分与预测电能质量评分和电量消耗指标呈正相关关系，进而计算该船舶在下次航行时的综合预测电能质量评分为：其中，表示该船舶在下次航行时的综合预测电能质量评分；表示第个组对应的预测电能质量评分；表示第个组对应的预测电能消耗指标占所有组内工况总预测电量消耗指标的比重，即第个组对应的权重。人为设置电能质量风险预警值，当得到的综合预测电能质量评分低于该电能质量风险预警值时，则应该及时对下一次航行中蓄电池供应的电气设备进行防护。综上所述，本发明实施例中通过获取船舶在多次航行中每个工况的电能指标向量，将多个电能指标向量输入时间卷积网络得到该船舶在下次航行时每个工况对应的预测电能指标向量，进一步根据预测电能指标向量以及每个电能指标对应的权重得到预测电能质量指标，根据每个工况对应的预测电能质量指标获取每两个工况之间的差异程度，从而根据差异程度将不同的工况分为不同的组，获取组内每个工况的置信度，根据每个工况的置信度和对应的预测电能质量指标得到该组的预测电能质量评分，进一步预测每组对应的预测电量消耗指标，根据预测电量消耗指标和预测电能质量评分得到该船舶在下一次航行对应的综合预测电能质量评分，从而判断该船舶在下一次航行时的电能质量，提高了对船舶电能质量评价的准确性，根据船舶自身的数据进行预测，适应性较强，同时根据预测的电能质量及时对船舶的电气设备进行防护。基于与上述方法实施例相同的发明构思，本发明实施例还提供了一种船舶电能质量检测装置，该装置包括：存储器、处理器以及存储在所述存储器中并可在处理器上运行的计算机程序。处理器执行所述计算机程序时实现上述一种船舶电能质量检测方法实施例中的步骤，例如图1所示的步骤。该一种船舶电能质量检测方法在上述实施例中已经详细说明，不再赘述。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。且上述对本说明书特定实施例进行了描述。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。
