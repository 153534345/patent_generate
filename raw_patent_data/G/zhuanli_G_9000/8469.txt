标题title
相机视野内分段式手眼标定方法
摘要abst
本发明公开了一种相机视野内分段式手眼标定方法，第1步骤、安装标定板采集图像，在图像中绘制特征区域创建匹配模板，绘制并计算标定范围；第2步骤、配置标定参数，计算标定带数量；第3步骤、划分标定带，计算各标定带上标定点机械轴坐标；第4步骤、对各标定带以此执行标定动作，移动机械轴到当前标定带各个标定点位置之后执行：采集图像、执行视觉模板匹配；第5步骤、计算各标定带手眼标定矩阵；第6步骤、分段式手眼标定矩阵的变换。该相机视野内分段式手眼标定方法具有提高标定精度的优点。
权利要求书clms
1.一种相机视野内分段式手眼标定方法，其特征在于，包括以下步骤：第1步骤、安装标定板采集图像，在图像中绘制特征区域创建匹配模板，绘制并计算标定范围；第2步骤、配置标定参数，计算标定带数量；第3步骤、划分标定带，计算各标定带上标定点机械轴坐标；第4步骤、对各标定带以此执行标定动作，移动机械轴到当前标定带各个标定点位置之后执行：采集图像、执行视觉模板匹配；第5步骤、计算各标定带手眼标定矩阵；第6步骤、分段式手眼标定矩阵的变换。2.根据权利要求1所述的相机视野内分段式手眼标定方法，其特征在于：所述手眼标定矩阵表示为：机械轴平面运动时图像坐标系下的像素移动间距转到机械轴坐标系下轴移动间距之间的关系矩阵。3.根据权利要求2所述的相机视野内分段式手眼标定方法，其特征在于：所述机械轴坐标系的坐标轴与所述图像坐标系的坐标轴平行。4.根据权利要求1所述的相机视野内分段式手眼标定方法，其特征在于：在所述第4步骤中，所述视觉模板匹配由HALCON算法库提供，根据在参考图像中绘制特征区域创建模板，然后在其他图像中匹配特征区域，获得特征区域的中心坐标及角度。5.根据权利要求1所述的相机视野内分段式手眼标定方法，其特征在于：所述第1步骤包括以下步骤：第1.1步骤、将标定板放置到相机视野中心位置，采集清晰的标定板图像作为参考图像，绘制视觉匹配模板区域，创建视觉匹配模板，记录此时机械轴坐标；第1.2步骤、计算理论像素当量：理论像素当量=相机像元尺寸/镜头放大倍率；第1.3步骤、计算图像标定矩形：图像标定矩形为图像上的标定动作最大可移动范围，在参考图像上绘制与图像坐标轴平行的标定矩形，计算视觉匹配模板区域的最小且与图像坐标轴平行的外接矩形，得到外接矩形到标定矩形四个对应顶点间的像素间距，则图像标定矩形等于标定矩形与外接矩形之差乘以理论像素当量后再加上机械轴坐标；第1.4步骤、计算机械轴标定矩形：机械轴标定矩形为机械轴行程所限制的最大标定范围，则机械轴标定矩形等于机械轴X、Y方向行程范围矩形的左上、左下、右上、右下四个顶点分别减去机械轴坐标；第1.5步骤、计算最终标定正方形：最终标定正方形由图像标定矩形和机械轴标定矩形的8个顶点的X、Y方向的16个机械坐标轴值中的最小值决定。6.根据权利要求1所述的相机视野内分段式手眼标定方法，其特征在于：所述第2步骤包括以下步骤：第2.1步骤、配置标定参数，标定参数包括标定圈距离和标定点数；其中，标定圈距离表示标定带之间的物理距离；标定点数表示标定点组成的正方形上一个边上标定点个数；第2.2步骤、计算标定带数量：取第1步骤最终标定正方形的边长的一半除以标定圈距离得到标定带数量。7.根据权利要求1所述的相机视野内分段式手眼标定方法，其特征在于：所述第3步骤包括以下步骤：第3.1步骤、划分标定带：第个标定带的外边缘正方形为；第3.2步骤、计算当前标定带正方形标定轨迹线：当前标定带正方形标定轨迹线由提取当前标定带的中心骨架线得来；第3.3步骤、计算当前标定带正方形标定轨迹线上所有标定点机械坐标：以当前标定带正方形标定轨迹线的左上角点为起点，以为移动间距，以为正方形标定轨迹线每个边上的移动次数，依次沿着当前标定带正方形标定轨迹线上边、右边、下边、左边移动，并将移动点的机械坐标依次塞入数组中。8.根据权利要求1所述的相机视野内分段式手眼标定方法，其特征在于：所述第4步骤包括以下步骤：第4.1步骤：取当前标定带的标定轨迹上所有标定点的机械坐标 ，依次移动机械轴到数组上各点位置采集图像并对图像执行视觉匹配算法，得到模板区域中心点像素坐标塞入数组中；第4.2步骤：遍历所有标定带循环执行第4.1步骤。9.根据权利要求8所述的相机视野内分段式手眼标定方法，其特征在于：所述第5步骤包括以下步骤：第5.1步骤、计算当前标定带像素间距数组和对应的机械轴间距数组：当前标定带标定轨迹线上各点到第一点的像素距离数组为，当前标定带标定轨迹线上各点到第一点的机械轴距离数组为；第5.2步骤、计算当前标定带手眼变换矩阵：当前手眼标定矩阵由当前标定带标定轨迹线上各点到第一点的像素距离数组和当前标定带标定轨迹线上各点到第一点的机械轴距离数组带入Halcon视觉库求解得出；第5.3步骤：遍历所有标定带循环执行第5.1步骤和第5.2步骤。10.根据权利要求7所述的相机视野内分段式手眼标定方法，其特征在于：所述第6步骤包括以下步骤：第6.1步骤：遍历上述各标定带转换到图像参考系下，第个标定带外边缘正方形转成图像参考系下的标定带；第6.2步骤：计算图像参考系下的各标定带分割出来的线段：当输入的像素轨迹线的起始点落在同一个标定带时，将输入的像素轨迹线的起点到终点X、Y方向的像素间距乘以完成转换；当输入的像素轨迹线被各标定带分割成几个像素线段时，从输入的像素轨迹线的起点到终点方向按顺序遍历分割出的所有像素线段，遍历过程为：将像素线段的起点到终点X、Y方向的像素间距乘以后累加完成转换；其中，表示当前遍历到的像素线段所在标定带的手眼标定矩阵。
说明书desc
技术领域本发明涉及智能贴装的技术领域，尤其是一种相机视野内分段式手眼标定方法。背景技术关于智能贴装设备，在贴装工作前对设备进行手眼标定至关重要，而手眼标定的精度也直接影响到智能贴装机械设备的贴装精度。由于镜头普遍存在畸变，而且经过一定的畸变矫正的图像实际上不能完全消除畸变，因此图像中心区域的像素间距与边缘的像素间距会存在一定的误差。而使用理想的像素点坐标执行手眼标定，计算得到手眼标定矩阵会存在一定的误差，会导致在相机视野中心和在相机视野边缘分别轴移动时有较大偏差。即，由于镜头畸变普遍存在，现有手眼标定方式会受图像畸变影响导致图像不同区域实际标定值出现偏差问题。显然，当前方式不适用于贴装要求精度较高的应用场合，会导致贴装精度低，影响实际贴装效果等。发明内容本发明旨在至少解决现有技术中存在的技术问题之一。为此，本发明提出一种相机视野内分段式手眼标定方法，旨在解决现有手眼标定方式会受图像畸变影响导致图像不同区域实际标定值出现偏差的问题，具有提高标定精度的优点。根据本发明实施例的相机视野内分段式手眼标定方法，包括以下步骤：第1步骤、安装标定板采集图像，在图像中绘制特征区域创建匹配模板，绘制并计算标定范围；第2步骤、配置标定参数，计算标定带数量；第3步骤、划分标定带，计算各标定带上标定点机械轴坐标；第4步骤、对各标定带以此执行标定动作，移动机械轴到当前标定带各个标定点位置之后执行：采集图像、执行视觉模板匹配；第5步骤、计算各标定带手眼标定矩阵；第6步骤、分段式手眼标定矩阵的变换。本发明的有益效果是，可以在图像相机视野内，以图像中心为中心点，使用算法按一定的规律将相机视野内图像划分成不同标定带，分别进行手眼标定，建立像素间距与轴间距变换矩阵；通过获得的分段式标定矩阵，进行分段式标定应用，当轴于哪个标定带范围内移动时，便会自动使用该标定带的标定矩阵进行计算；该方法可以大大降低图像畸变对手眼标定造成的误差影响，进一步提高贴装精度，使其可满足现场的高精度贴装需求。根据本发明一个实施例，所述手眼标定矩阵表示为：机械轴平面运动时图像坐标系下的像素移动间距转到机械轴坐标系下轴移动间距之间的关系矩阵。根据本发明一个实施例，所述机械轴坐标系的坐标轴与所述图像坐标系的坐标轴平行。根据本发明一个实施例，在所述第4步骤中，所述视觉模板匹配由HALCON算法库提供，根据在参考图像中绘制特征区域创建模板，然后在其他图像中匹配特征区域，获得特征区域的中心坐标及角度。根据本发明一个实施例，所述第1步骤包括以下步骤：第1.1步骤、将标定板放置到相机视野中心位置，采集清晰的标定板图像作为参考图像，绘制视觉匹配模板区域，创建视觉匹配模板，记录此时机械轴坐标；第1.2步骤、计算理论像素当量：理论像素当量=相机像元尺寸/镜头放大倍率；第1.3步骤、计算图像标定矩形：图像标定矩形为图像上的标定动作最大可移动范围，在参考图像上绘制与图像坐标轴平行的标定矩形，计算视觉匹配模板区域的最小且与图像坐标轴平行的外接矩形，得到外接矩形到标定矩形四个对应顶点间的像素间距，则图像标定矩形等于标定矩形与外接矩形之差乘以理论像素当量后再加上机械轴坐标；第1.4步骤、计算机械轴标定矩形：机械轴标定矩形为机械轴行程所限制的最大标定范围，则机械轴标定矩形等于机械轴X、Y方向行程范围矩形的左上、左下、右上、右下四个顶点分别减去机械轴坐标；第1.5步骤、计算最终标定正方形：最终标定正方形由图像标定矩形和机械轴标定矩形的8个顶点的X、Y方向的16个机械坐标值中的最小值决定。根据本发明一个实施例，所述第2步骤包括以下步骤：第2.1步骤、配置标定参数，标定参数包括标定圈距离和标定点数；其中，标定圈距离表示标定带之间的物理距离；标定点数表示标定点组成的正方形上一个边上标定点个数；第2.2步骤、计算标定带数量：取第1步骤最终标定正方形的边长的一半除以标定圈距离得到标定带数量。根据本发明一个实施例，所述第3步骤包括以下步骤：第3.1步骤、划分标定带：第个标定带的外边缘正方形为； 第3.2步骤、计算当前标定带正方形标定轨迹线：当前标定带正方形标定轨迹线由提取当前标定带的中心骨架线得来； 第3.3步骤、计算当前标定带正方形标定轨迹线上所有标定点机械坐标：以当前标定带正方形标定轨迹线的左上角点为起点，以为移动间距，以为正方形标定轨迹线每个边上的移动次数，依次沿着当前标定带正方形标定轨迹线上边、右边、下边、左边移动，并将移动点的机械坐标依次塞入数组中。根据本发明一个实施例，所述第4步骤包括以下步骤：第4.1步骤：取当前标定带的标定轨迹上所有标定点的机械坐标 ，依次移动机械轴到数组上各点位置采集图像并对图像执行视觉匹配算法，得到模板区域中心点像素坐标塞入数组中；第4.2步骤：遍历所有标定带循环执行第4.1步骤。根据本发明一个实施例，所述第5步骤包括以下步骤：第5.1步骤、计算当前标定带像素间距数组和对应的机械轴间距数组：当前标定带标定轨迹线上各点到第一点的像素距离数组为，当前标定带标定轨迹线上各点到第一点的机械轴距离数组为；第5.2步骤、计算当前标定带手眼变换矩阵：当前手眼标定矩阵由当前标定带标定轨迹线上各点到第一点的像素距离数组和当前标定带标定轨迹线上各点到第一点的机械轴距离数组带入Halcon视觉库求解得出；第5.3步骤：遍历所有标定带循环执行第5.1步骤和第5.2步骤。根据本发明一个实施例，所述第6步骤包括以下步骤：第6.1步骤：遍历上述各标定带转换到图像参考系下，第个标定带外边缘正方形转成图像参考系下的标定带；第6.2步骤：计算图像参考系下的各标定带分割出来的线段：当输入的像素轨迹线的起始点落在同一个标定带时，将输入的像素轨迹线的起点到终点X、Y方向的像素间距乘以完成转换；当输入的像素轨迹线被各标定带分割成几个像素线段时，从输入的像素轨迹线的起点到终点方向按顺序遍历分割出的所有像素线段，遍历过程为：将像素线段的起点到终点X、Y方向的像素间距乘以后累加完成转换；其中，表示当前遍历到的像素线段所在标定带的手眼标定矩阵。本发明的其他特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点在说明书、权利要求书以及附图中所特别指出的结构来实现和获得。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请中记载的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明的流程图；图2是标定带划分示意图；图3是标定点选取图。具体实施方式为了使本发明所解决的技术问题、技术方案及有益效果更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。下面参考附图具体描述本发明实施例的相机视野内分段式手眼标定方法。见图1，一种相机视野内分段式手眼标定方法，包括以下步骤：第1步骤、安装标定板采集图像，在图像中绘制特征区域创建匹配模板，绘制并计算标定范围。第1步骤包括以下步骤：第1.1步骤、将标定板放置到相机视野大约中心位置，采集清晰的标定板图像作为参考图像，绘制视觉匹配模板区域，该视觉匹配模板区域的中心尽量对应图像中心，创建视觉匹配模板，记录此时机械轴坐标为。第1.2步骤、计算理论像素当量：理论像素当量=相机像元尺寸/镜头放大倍率，理论像素当量的计算公式如下：其中，表示理论像素当量；表示相机像元尺寸；表示镜头放大倍率。第1.3步骤、计算图像标定矩形：图像标定矩形为图像上的标定动作最大可移动范围，在参考图像上绘制与图像坐标轴平行的标定矩形，计算视觉匹配模板区域的最小且与图像坐标轴平行的外接矩形，外接矩形到标定矩形四个对应顶点间的像素间距的计算公式如下：其中，表示图像上绘制得到的标定矩形；表示外接矩形；表示外接矩形到图像标定矩形左上顶点间的像素间距；表示外接矩形到图像标定矩形左下顶点间的像素间距；表示外接矩形到图像标定矩形右上顶点间的像素间距；表示外接矩形到图像标定矩形右下顶点间的像素间距。则图像标定矩形等于标定矩形与外接矩形之差乘以理论像素当量后再加上机械轴坐标，即图像标定矩形的计算公式如下：其中，表示图像标定矩形；表示图像上绘制得到的标定矩形；表示外接矩形；表示理论像素当量；表示机械轴坐标，即为参考图像采集时的机械轴坐标。第1.4步骤、计算机械轴标定矩形：机械轴标定矩形为机械轴行程所限制的最大标定范围，则机械轴标定矩形等于机械轴X、Y方向行程范围矩形的左上、左下、右上、右下四个顶点分别减去机械轴坐标；机械轴标定矩形的计算公式如下：其中，表示机械轴标定矩形；表示机械轴行程范围矩形；表示机械轴坐标。第1.5步骤、计算最终标定正方形：最终标定正方形由图像标定矩形和机械轴标定矩形的8个顶点的X、Y方向的16个机械坐标轴值中的最小值决定，最小值的计算公式如下：其中，表示求最小值；表示图像标定矩形左上角点的X方向的坐标值；表示图像标定矩形左上角点的Y方向的坐标值；表示图像标定矩形左下角点的X方向的坐标值；表示图像标定矩形左下角点的Y方向的坐标值；表示图像标定矩形右上角点的X方向的坐标值；表示图像标定矩形右上角点的Y方向的坐标值；表示图像标定矩形右下角点的X方向的坐标值；表示图像标定矩形右下角点的Y方向的坐标值；表示机械轴标定矩形左上角点的X方向的坐标值；表示机械轴标定矩形左上角点的Y方向的坐标值；表示机械轴标定矩形左下角点的X方向的坐标值；表示机械轴标定矩形左下角点的Y方向的坐标值；表示机械轴标定矩形右上角点的X方向的坐标值；表示机械轴标定矩形右上角点的Y方向的坐标值；表示机械轴标定矩形右下角点的X方向的坐标值；表示机械轴标定矩形右下角点的Y方向的坐标值。最终标定正方形的中心点为机械轴坐标，最终标定正方形的计算公式如下：其中，表示最终标定正方形；表示最终标定正方形的左上角点，且的表达式如下：表示最终标定正方形的左下角点，且的表达式如下：表示最终标定正方形的右上角点，且的表达式如下： 表示最终标定正方形的右下角点，且的表达式如下：第2步骤、配置标定参数，计算标定带数量。第2步骤包括以下步骤：第2.1步骤、配置标定参数，标定参数包括标定圈距离和标定点数；其中，标定圈距离表示标定带之间的物理距离，单位为mm；标定点数表示标定点组成的正方形上一个边上标定点个数；第2.2步骤、计算标定带数量：取第1步骤最终标定正方形的边长的一半除以标定圈距离得到标定带数量，即标定带数量的计算公式如下： 其中，表示标定带数量；表示最终标定正方形的边长；表示标定圈距离。第3步骤、划分标定带，计算各标定带上标定点机械轴坐标。第3步骤包括以下步骤：第3.1步骤、划分标定带：设为标定带的下标，第个标定带的外边缘正方形为，其中，i是大于等于1的正整数，的表达式如下：其中，表示外边缘正方形左上角点，且的表达式如下：表示外边缘正方形左下角点，且的表达式如下：表示外边缘正方形右上角点，且的表达式如下：表示外边缘正方形右下角点，且的表达式如下：如图2所示，表示第1个标定带的外边缘正方形；表示第2个标定带的外边缘正方形；表示第个标定带的外边缘正方形；表示标定圈距离；表示机械轴坐标。第3.2步骤、计算当前标定带正方形标定轨迹线：设为当前标定带的下标，为当前标定带正方形标定轨迹线，当前标定带正方形标定轨迹线是由提取当前标定带的中心骨架线得来，其中，i是大于等于1的正整数。当前标定带正方形标定轨迹线的表达式如下：其中，表示当前标定带正方形标定轨迹线；表示当前标定带正方形标定轨迹线左上角点，且的表达式如下：表示当前标定带正方形标定轨迹线左下角点，且的表达式如下：表示当前标定带正方形标定轨迹线右上角点，且的表达式如下： 表示当前标定带正方形标定轨迹线右下角点，且的表达式如下：第3.3步骤、计算当前标定带正方形标定轨迹线上所有标定点机械坐标：设为当前标定带下标，以当前标定带正方形标定轨迹线的左上角点为起点，以为移动间距，以为正方形标定轨迹线每个边上的移动次数，依次沿着当前标定带正方形标定轨迹线上边、右边、下边、左边移动，并将移动点的机械坐标依次塞入数组中，移动间距的计算公式如下：其中，表示移动间距；表示当前标定带下标；表示标定圈距离；表示标定点数。正方形标定轨迹线每个边上的移动次数的计算公式如下： 其中，表示正方形标定轨迹线每个边上的移动次数；表示标定点数。数组的表达式如下：其中， 表示当前标定带正方形标定轨迹线上边所有标定点机械坐标的数组；表示当前标定带正方形标定轨迹线右边所有标定点机械坐标的数组；表示当前标定带正方形标定轨迹线下边所有标定点机械坐标的数组；表示当前标定带正方形标定轨迹线左边所有标定点机械坐标的数组。当前标定带正方形标定轨迹线上边所有标定点机械坐标的数组的表达式如下：其中，表示当前标定带正方形标定轨迹线上边第一次移动后的点机械轴坐标；表示当前标定带正方形标定轨迹线上边第二次移动后的点机械轴坐标；表示当前标定带正方形标定轨迹线上边第次移动后的点机械轴坐标；表示当前边上的移动的下标，且是大于等于2的正整数。当前标定带正方形标定轨迹线上边第次移动后的点机械轴坐标的表达式如下：当前第个标定带正方形标定轨迹线右边所有标定点机械坐标的数组的表达式如下： 其中，表示当前标定带正方形标定轨迹线右边第一次移动后的点机械轴坐标；表示当前标定带正方形标定轨迹线右边第二次移动后的点机械轴坐标；表示当前标定带正方形标定轨迹线右边第次移动后的点机械轴坐标。当前标定带正方形标定轨迹线右边第次移动后的点机械轴坐标的表达式如下： 当前第个标定带正方形标定轨迹线下边所有标定点机械坐标的数组的表达式如下：其中，表示当前标定带正方形标定轨迹线下边第一次移动后的点机械轴坐标；表示当前标定带正方形标定轨迹线下边第二次移动后的点机械轴坐标；表示当前标定带正方形标定轨迹线下边第次移动后的点机械轴坐标。当前标定带正方形标定轨迹线下边第次移动后的点机械轴坐标的表达式如下：当前第个标定带正方形标定轨迹线左边所有标定点机械坐标的数组的表达式如下：其中，表示当前标定带正方形标定轨迹线左边第一次移动后的点机械轴坐标；表示当前标定带正方形标定轨迹线左边第二次移动后的点机械轴坐标；表示当前标定带正方形标定轨迹线左边第次移动后的点机械轴坐标。当前标定带正方形标定轨迹线左边第次移动后的点机械轴坐标的表达式如下： 如图3所示，以一圈标定点数为例，图中的表示标定圈距离；为表示第1个标定带正方形标定轨迹线；表示第1个标定带的外边缘正方形；O1表示左上角点；O2表示左下角点；O3表示右上角点；O4表示右下角点。第4步骤、对各标定带以此执行标定动作，移动机械轴到当前标定带各个标定点位置之后执行：采集图像、执行视觉模板匹配。视觉模板匹配由HALCON算法库提供，其主题思路为：根据在参考图像中绘制特征区域创建模板，然后在其他图像中匹配特征区域，获得特征区域的中心坐标及角度。第4步骤包括以下步骤：第4.1步骤：设为当前标定带的下标，取当前标定带的标定轨迹上所有标定点的机械坐标 ，依次移动机械轴到数组上各点位置采集图像并对图像执行视觉匹配算法，得到模板区域中心点像素坐标塞入数组中。第4.2步骤：遍历所有标定带循环执行第4.1步骤。第5步骤、计算各标定带手眼标定矩阵。手眼标定矩阵表示为：机械轴平面运动时图像坐标系下的像素移动间距转到机械轴坐标系下轴移动间距之间的关系矩阵；手眼标定矩阵为先旋转、再缩放的仿射变换矩阵：其中，表示方向的移动轴间距；表示方向的移动轴间距；表示轴在轴上的尺度因子；表示轴在轴上的尺度因子；表示旋转角度；表示方向上的移动像素间距；表示方向上的移动像素间距。需要说明的是，机械轴坐标系的坐标轴与图像坐标系的坐标轴大约平行。第5步骤包括以下步骤：第5.1步骤、计算当前标定带像素间距数组和对应的机械轴间距数组：设为当前标定带的下标，当前标定带标定轨迹线上各点到第一点的像素距离数组为，即为中所有点坐标分别减去数组中第一个点的坐标的数组，当前标定带标定轨迹线上各点到第一点的机械轴距离数组为，即为中所有点坐标分别减去数组中第一个点的坐标的数组；第5.2步骤、计算当前标定带手眼变换矩阵：设为当前标定带的下标，当前手眼标定矩阵由当前标定带标定轨迹线上各点到第一点的像素距离数组和当前标定带标定轨迹线上各点到第一点的机械轴距离数组带入Halcon视觉库求解得出。第5.3步骤：遍历所有标定带循环执行第5.1步骤和第5.2步骤。第6步骤、分段式手眼标定矩阵的变换。第6步骤包含以下步骤：第6.1步骤：遍历上述各标定带转换到图像参考系下，设为标定带下标，第个标定带外边缘正方形转成图像参考系下的标定带，图像参考系下的第个标定带的外边缘正方形的计算公式如下： 其中，表示图像参考系下的第个标定带的外边缘正方形；表示第个标定带的外边缘正方形；表示机械轴坐标；表示理论像素当量；表示图像中心点坐标。第6.2步骤：计算图像参考系下的各标定带分割出来的线段：当输入的像素轨迹线的起始点落在同一个标定带时，设这一标定带下标为，将输入的像素轨迹线的起点到终点X、Y方向的像素间距乘以完成转换。当输入的像素轨迹线被各标定带分割成几个像素线段时，从输入的像素轨迹线的起点到终点方向按顺序遍历分割出的所有像素线段，遍历过程为：将像素线段的起点到终点X、Y方向的像素间距乘以后累加完成转换。其中，表示当前遍历到的像素线段所在标定带的手眼标定矩阵。以上，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，根据本发明的技术方案及其发明构思加以等同替换或改变，都应涵盖在本发明的保护范围之内。
