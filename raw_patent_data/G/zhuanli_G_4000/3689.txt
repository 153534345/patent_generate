标题title
一种粮食并肩杂质含量的检测方法及装置
摘要abst
本发明涉及检测技术领域，公开了一种粮食并肩杂质含量的检测方法及装置，旨在解决现有检测方法存在效率低以及准确性差的问题，方案主要包括：对粮食样本进行逐粒图像采集，获得粮食样本的单体图像；对各单体图像进行图像预处理；根据预先训练的并肩杂质识别模型分别对各单体图像进行分类识别，确定出粮食图像和并肩杂质图像；分别在各粮食图像中确定粮食轮廓所形成区域的第一像素面积，并分别在各并肩杂质图像中确定并肩杂质轮廓所形成区域的第二像素面积；根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量。本发明提高了粮食并肩杂质含量的检测效率和准确性，适用于各类粮食。
权利要求书clms
1.一种粮食并肩杂质含量的检测方法，其特征在于，所述方法包括：对粮食样本进行逐粒图像采集，获得粮食样本的单体图像，所述单体图像包括粮食图像和并肩杂质图像；对各单体图像进行图像预处理；根据预先训练的并肩杂质识别模型分别对各单体图像进行分类识别，确定出粮食图像和并肩杂质图像；分别在各粮食图像中确定粮食轮廓所形成区域的第一像素面积，并分别在各并肩杂质图像中确定并肩杂质轮廓所形成区域的第二像素面积；根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量。2.如权利要求1所述的粮食并肩杂质含量的检测方法，其特征在于，所述并肩杂质识别模型的训练方法包括：收集粮食的多种并肩杂质并对其进行逐粒图像采集，将获得的并肩杂质图像进行图像预处理后作为负样本图像；获取多个粮食图像，并将获得的粮食图像进行图像预处理后作为正样本图像；根据所述正样本图像和负样本图像训练深度学习模型，获得并肩杂质识别模型。3.如权利要求1或2所述的粮食并肩杂质含量的检测方法，其特征在于，所述图像预处理具体包括：对图像进行二值化滤波处理和形态学处理。4.如权利要求1所述的粮食并肩杂质含量的检测方法，其特征在于，根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量，具体包括：确定所有粮食图像的第一像素面积和以及所有并肩杂质图像的第二像素面积和，并确定第一像素面积和与第二像素面积和的像素面积总和；根据第一像素面积和与像素面积总和的比值确定粮食样本中并肩杂质的质量占比。5.如权利要求1所述的粮食并肩杂质含量的检测方法，其特征在于，所述粮食为稻类粮食、麦类粮食、豆类粮食或粗粮类粮食。6.一种粮食并肩杂质含量的检测装置，其特征在于，所述装置包括：采集单元，用于对粮食样本进行逐粒图像采集，获得粮食样本的单体图像，所述单体图像包括粮食图像和并肩杂质图像；处理单元，用于对各单体图像进行图像预处理；识别单元，用于根据预先训练的并肩杂质识别模型分别对各单体图像进行分类识别，确定出粮食图像和并肩杂质图像；确定单元，用于分别在各粮食图像中确定粮食轮廓所形成区域的第一像素面积，并分别在各并肩杂质图像中确定并肩杂质轮廓所形成区域的第二像素面积；以及根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量。7.如权利要求6所述的粮食并肩杂质含量的检测装置，其特征在于，所述装置还包括训练单元，所述训练单元用于：收集粮食的多种并肩杂质并对其进行逐粒图像采集，将获得的并肩杂质图像进行图像预处理后作为负样本图像；获取多个粮食图像，并将获得的粮食图像进行图像预处理后作为正样本图像；根据所述正样本图像和负样本图像训练深度学习模型，获得并肩杂质识别模型。8.如权利要求6或7所述的粮食并肩杂质含量的检测装置，其特征在于，所述处理单元具体用于：对图像进行二值化滤波处理和形态学处理。9.如权利要求6所述的粮食并肩杂质含量的检测装置，其特征在于，所述确定单元，具体用于：确定所有粮食图像的第一像素面积和以及所有并肩杂质图像的第二像素面积和，并确定第一像素面积和与第二像素面积和的像素面积总和；根据第一像素面积和与像素面积总和的比值确定粮食样本中并肩杂质的质量占比。10.如权利要求6所述的粮食并肩杂质含量的检测装置，其特征在于，所述粮食为稻类粮食、麦类粮食、豆类粮食或粗粮类粮食。
说明书desc
技术领域本发明涉及检测技术领域，具体涉及一种粮食并肩杂质含量的检测方法及装置。背景技术粮食质量检验是粮食入库前的第一道门槛，准确判定粮食质量是确保储粮安全和科学管理的前提。并肩杂质是指与被检测样大小相当的杂质，由于并肩杂质与粮食的物理特性相近，因此很难用传统的筛法等方式过滤掉粮食中的并肩杂质，而粮食中并肩杂质的含量高低会影响到粮食质量，因此有必要对粮食的并肩杂质含量进行检测。为了确定粮食中并肩杂质的含量，传统的方式是通过获取一定量的粮食样本，由人工在粮食样本中筛选出并肩杂质，再通过对并肩杂质进行称重进而确定并肩杂质含量。这种方式存在耗时长效率低的缺点，并且由于主观性较强，使得检测准确性较差。发明内容本发明旨在解决现有粮食并肩杂质含量的检测方法存在效率低以及准确性差的问题，提出另一种粮食并肩杂质含量的检测方法及装置。本发明解决上述技术问题所采用的技术方案是：一方面，提出一种粮食并肩杂质含量的检测方法，所述方法包括：对粮食样本进行逐粒图像采集，获得粮食样本的单体图像，所述单体图像包括粮食图像和并肩杂质图像；对各单体图像进行图像预处理；根据预先训练的并肩杂质识别模型分别对各单体图像进行分类识别，确定出粮食图像和并肩杂质图像；分别在各粮食图像中确定粮食轮廓所形成区域的第一像素面积，并分别在各并肩杂质图像中确定并肩杂质轮廓所形成区域的第二像素面积；根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量。进一步地，所述并肩杂质识别模型的训练方法包括：收集粮食的多种并肩杂质并对其进行逐粒图像采集，将获得的并肩杂质图像进行图像预处理后作为负样本图像；获取多个粮食图像，并将获得的粮食图像进行图像预处理后作为正样本图像；根据所述正样本图像和负样本图像训练深度学习模型，获得并肩杂质识别模型。进一步地，所述图像预处理具体包括：对图像进行二值化滤波处理和形态学处理。进一步地，根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量，具体包括：确定所有粮食图像的第一像素面积和以及所有并肩杂质图像的第二像素面积和，并确定第一像素面积和与第二像素面积和的像素面积总和；根据第一像素面积和与像素面积总和的比值确定粮食样本中并肩杂质的质量占比。进一步地，所述粮食为稻类粮食、麦类粮食、豆类粮食或粗粮类粮食。另一方面，提出一种粮食并肩杂质含量的检测装置，所述装置包括：采集单元，用于对粮食样本进行逐粒图像采集，获得粮食样本的单体图像，所述单体图像包括粮食图像和并肩杂质图像；处理单元，用于对各单体图像进行图像预处理；识别单元，用于根据预先训练的并肩杂质识别模型分别对各单体图像进行分类识别，确定出粮食图像和并肩杂质图像；确定单元，用于分别在各粮食图像中确定粮食轮廓所形成区域的第一像素面积，并分别在各并肩杂质图像中确定并肩杂质轮廓所形成区域的第二像素面积；以及根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量。进一步地，所述装置还包括训练单元，所述训练单元用于：收集粮食的多种并肩杂质并对其进行逐粒图像采集，将获得的并肩杂质图像进行图像预处理后作为负样本图像；获取多个粮食图像，并将获得的粮食图像进行图像预处理后作为正样本图像；根据所述正样本图像和负样本图像训练深度学习模型，获得并肩杂质识别模型。进一步地，所述处理单元具体用于：对图像进行二值化滤波处理和形态学处理。进一步地，所述确定单元，具体用于：确定所有粮食图像的第一像素面积和以及所有并肩杂质图像的第二像素面积和，并确定第一像素面积和与第二像素面积和的像素面积总和；根据第一像素面积和与像素面积总和的比值确定粮食样本中并肩杂质的质量占比。进一步地，所述粮食为稻类粮食、麦类粮食、豆类粮食或粗粮类粮食。本发明的有益效果是：本发明所述的粮食并肩杂质含量的检测方法及装置，通过获取粮食样本的图像并基于预先训练的预先训练的并肩杂质识别模型对粮食样本中的并肩杂质进行识别，并根据图像的像素面积确定粮食样本中并肩杂质的质量占比，相较于传统的人工筛选而言，提高了并肩杂质含量的检测效率和准确性。并且本发明通过对图像进行二值化滤波处理和形态学处理，提高了模型训练以及并肩杂质识别的准确性。附图说明图1为本发明实施例所述粮食并肩杂质含量的检测方法的流程示意图；图2为本发明实施例所述小麦图像的一种示意图；图2为本发明实施例所述小麦图像的另一种示意图；图3为本发明实施例所述小麦的并肩杂质图像的一种示意图；图3为本发明实施例所述小麦图像的另一种示意图；图4为本发明实施例所述并肩杂质识别模型的训练方法的流程示意图；图5为本发明实施例所述小麦的负样本图像的示意图；图6为本发明实施例所述小麦的正样本图像的示意图；图7为本发明实施例所述粮食并肩杂质含量的检测装置的结构示意图。具体实施方式下面将结合附图对本发明的实施方式进行详细描述。本发明旨在提供一种粮食并肩杂质含量的检测方法及装置，以提高粮食并肩杂质含量的检测效率和准确性，其主要的技术构思如下：对粮食样本进行逐粒图像采集，获得粮食样本的单体图像，所述单体图像包括粮食图像和并肩杂质图像；对各单体图像进行图像预处理；根据预先训练的并肩杂质识别模型分别对各单体图像进行分类识别，确定出粮食图像和并肩杂质图像；分别在各粮食图像中确定粮食轮廓所形成区域的第一像素面积，并分别在各并肩杂质图像中确定并肩杂质轮廓所形成区域的第二像素面积；根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量。可以理解，本发明首先需要通过收集大量的并肩杂质图像和目标粮食图像，并对其进行图像处理后训练并肩杂质识别模型。在需要进行粮食并肩杂质含量的检测时，对粮食样本进行逐粒图像采集，即获取粮食样本中每粒粮食或者并肩杂质的单体图像，针对各单体图像，分别对其进行图像处理后输入至并肩杂质识别模型中，即可识别出单体图像为粮食图像还是并肩杂质图像，最后根据粮食图像和并肩杂质图像的像素面积确定粮食样本中并肩杂质的质量占比。实施例请参阅图1，本发明实施例所述的粮食并肩杂质含量的检测方法，包括以下步骤：S1、对粮食样本进行逐粒图像采集，获得粮食样本的单体图像，所述单体图像包括粮食图像和并肩杂质图像。本实施例中，粮食样本可以是从待检测粮食中选取的部分粮食，待检测粮食可以为稻类粮食、麦类粮食、豆类粮食或粗粮类粮食。其中，稻类粮食可以为：粳稻，籼稻，糯稻，陆稻，深水稻等，麦类粮食可以为：小麦，大麦，青稞，黑麦，燕麦等，豆类粮食可以为：大豆，小豆，绿豆等，粗粮类粮食可以为：玉米，高粱，荞麦，粟，黍等。可以理解，粮食样本中包含粮食和并肩杂质，在选取粮食样本后，可以通过专用工具对粮食样本进行逐粒图像采集，具体可以通过振动设备将粮食样本逐粒分开，并通过传送带逐粒传送至拍摄位置，再由摄像机进行逐粒拍摄，进而获得粮食样本的单体图像.本实施例中，单体图像为粮食图像或并肩杂质图像，图2和图2分别示出了小麦对应的粮食图像，图3和图3分别示出了小麦的并肩杂质图像。S2、对各单体图像进行图像预处理。本实施例中，图像预处理具体包括：对图像进行二值化滤波处理和形态学处理。其中，二值化滤波处理包括滤波和图像灰度划分，滤波用于降低像素噪声，图像灰度划分即根据灰度值与阈值的大小区分图形和背景。通过对单体图像进行图像预处理能够有效提高后续像素面积确定的准确性。形态学处理是指利用特殊的结构元来测量或提取单体图像中相应的形状或特征，通过对图像进行形态学处理能够提高并肩杂质识别的准确性。S3、根据预先训练的并肩杂质识别模型分别对各单体图像进行分类识别，确定出粮食图像和并肩杂质图像；请参阅图4，本实施例需要预先训练并肩杂质识别模型，具体包括以下步骤：S31、收集粮食的多种并肩杂质并对其进行逐粒图像采集，将获得的并肩杂质图像进行图像预处理后作为负样本图像；具体而言，在收集获得大量的并肩杂质后，可以采用与上述步骤相同的专用工具对并肩杂质进行逐粒图像采集，并采用与上述步骤相同的图像预处理方法对并肩杂质图像进行预处理，通过对并肩杂质图像进行图像预处理能够有效提高模型训练的准确性。本实施例中收集的小麦的负样本图像请参阅图5。S32、获取多个粮食图像，并将获得的粮食图像进行图像预处理后作为正样本图像；其中，多个粮食为待检测粮食的同类粮食，例如，均为小麦。同理也可以采用与上述步骤相同的专用工具对粮食进行逐粒图像采集，并采用与上述步骤相同的图像预处理方法对粮食图像进行预处理，通过对粮食图像进行图像预处理能够有效提高模型训练的准确性。本实施例中收集的小麦的正样本图像请参阅图6。S33、根据所述正样本图像和负样本图像训练深度学习模型，获得并肩杂质识别模型。可以理解，通过将获得的正样本图像和负样本图像分别输入至深度学习模型进行训练，即可获得并肩杂质识别模型，在获得并肩杂质识别模型，还可以基于验证样本对并肩杂质识别模型的识别准确率进行验证，如果验证不通过，则重新训练，如果验证通过，则训练完成。在训练获得并肩杂质识别模型后，即可将各单体图像分别输入至并肩杂质识别模型中，即可确定单体图像为粮食图像还是并肩杂质图像，实现对粮食中并肩杂质的分类。S4、分别在各粮食图像中确定粮食轮廓所形成区域的第一像素面积，并分别在各并肩杂质图像中确定并肩杂质轮廓所形成区域的第二像素面积；可以理解，在确定粮食图像和并肩杂质图像后，可以根据图像中目标物体的轮廓所形成区域内的像素点个数确定对应的像素面积，针对粮食图像确定对应的第一像素面积，针对并肩杂质图像确定对应的第二像素面积。S5、根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量。具体地，本实施例先确定所有粮食图像的第一像素面积和以及所有并肩杂质图像的第二像素面积和，并确定第一像素面积和与第二像素面积和的像素面积总和，再根据第二像素面积和与像素面积总和的比值确定粮食样本中并肩杂质的质量占比。可以理解，通常情况下，单体图像中目标物体的轮廓所形成区域的像素面积越大，则对应的目标物体也越重。基于此，本实施例先确定所有并肩杂质的轮廓所形成区域的第二像素面积和，再确定所有粮食以及并肩杂质的轮廓所形成区域的像素面积总和，最后根据第二像素面积和与像素面积总和的比值并结合相关系数即可估算出粮食样本中并肩杂质的质量占比。综上所述，本实施例提供的粮食并肩杂质含量的检测方法，通过获取粮食样本的图像并基于预先训练的预先训练的并肩杂质识别模型对粮食样本中的并肩杂质进行识别，并根据图像的像素面积确定粮食样本中并肩杂质的质量占比，相较于传统的人工筛选而言，提高了并肩杂质含量的检测效率和准确性。并且本实施例通过对图像进行二值化滤波处理和形态学处理，提高了模型训练以及并肩杂质识别的准确性。请参阅图7，基于上述技术方案，本实施例还提供一种粮食并肩杂质含量的检测装置,所述装置包括：采集单元，用于对粮食样本进行逐粒图像采集，获得粮食样本的单体图像，所述单体图像包括粮食图像和并肩杂质图像；处理单元，用于对各单体图像进行图像预处理；识别单元，用于根据预先训练的并肩杂质识别模型分别对各单体图像进行分类识别，确定出粮食图像和并肩杂质图像；确定单元，用于分别在各粮食图像中确定粮食轮廓所形成区域的第一像素面积，并分别在各并肩杂质图像中确定并肩杂质轮廓所形成区域的第二像素面积；以及根据所述第一像素面积和第二像素面积确定粮食样本中并肩杂质的含量。可以理解，由于本发明实施例所述的粮食并肩杂质含量的检测装置是用于实现实施例所述粮食并肩杂质含量的检测方法的装置，对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的较为简单，相关之处参见方法的部分说明即可。
