标题title
一种受天基测控约束的火箭姿态角自动优化方法
摘要abst
本发明涉及一种受天基测控约束的火箭姿态角自动优化方法，根据中继卫星与火箭的位置关系，以及火箭姿态和天基相控阵天线在火箭上的位置关系等信息求出最优滚转角和天基相控阵天线指向夹角，可避免使用STK软件调用弹道数据进行测控分析，能够有效减少运算量，缩短设计周期，提高工作效率。本发明根据天基相控阵天线指向夹角是否满足测控需求并根据最优滚转角变化规律，自动迭代设计出满足测控约束的火箭姿态角，给出测控方案，从而减少人工设计过程。同时该设计方法可针对不同发射任务设计出满足天基测控约束的火箭姿态角，从而实现测控方案的去任务化设计，在一定程度上推动了弹箭载天基测控技术的发展。
权利要求书clms
1.一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，包括步骤：选取中继卫星，根据中继卫星与火箭的位置关系、火箭姿态以及天基天线在火箭上的位置，求出各时刻的天基天线指向夹角Jiajiao；比较火箭起飞后Jiajiao与天基天线波束角A0的大小关系；若火箭飞行全程Jiajiao不大于A0，则判定中继卫星和滚转角满足天基测控需求；若Jiajiao大于A0，则判定当前T0时刻天基天线与中继卫星链路断连，按照以下步骤调整滚转角：求出飞行全程各时刻的最优滚转角GAM，得到时刻T0之前的最优滚转角的最大值GAMmax；在T0时刻的前t秒调整滚转角至GAMmax，计算天基测控覆盖范围；若天基测控覆盖范围满足要求，则判定当前设计的滚转角满足天基测控要求；若天基测控覆盖范围不满足要求，重新计算天基测控断连时刻，则执行以下步骤：若调整滚转角后，计算到天基测控仍在T0时刻或T0时刻之前断连，则更换中继卫星重新进行最优滚转角设计过程；若调整滚转角后，计算到天基测控在T0时刻之后断连，则继续判断下一个天基链路断连时刻及最优滚转角，直至天基测控覆盖范围满足要求。2.一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，包括步骤：设定火箭飞行过程中调整滚转角的n个调整时刻；选取中继卫星，根据中继卫星与火箭的位置关系、火箭姿态以及天基天线在火箭上的位置，求出各时刻的天基天线指向夹角Jiajiao；比较火箭起飞后Jiajiao与天基天线波束角A0的大小；若火箭飞行全程Jiajiao不大于A0，则判定中继卫星和滚转角满足天基测控需求；若Jiajiao大于A0，则判定当前T0时刻天基天线与中继卫星链路断连，按照以下步骤调整滚转角：求出飞行全程各时刻的最优滚转角GAM；令T0之后最近的调整时刻为调整时刻k，1≤k≤n，k为整数；得到调整时刻k之前的最优滚转角的最大值GAMmax；在调整时刻k-1调整滚转角至GAMmax，计算天基测控覆盖范围；若天基测控覆盖范围满足要求，则判定当前设计的滚转角满足天基测控要求；若天基测控覆盖范围不满足要求，则执行以下步骤：若计算到天基测控断连时刻T1仍在调整时刻k或调整时刻k之前，则更换中继卫星重新进行最优滚转角设计过程；若计算到天基测控断连时刻T1在调整时刻k之后，则继续判断下一个天基链路断连时刻及最优滚转角，直至天基测控覆盖范围满足要求。3.根据权利要求1或2所述的一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，所述根据中继卫星与火箭的位置关系，包括：根据卫星所在轨道经度得到中继卫星在发射坐标系内的位置矢量，再得到此刻火箭在发射坐标系内的位置矢量/＞；将/＞、/＞通过坐标转换投影到导航坐标系，分别得到导航坐标系下卫星的位置矢量/＞和火箭的位置矢量/＞；计算得到在导航坐标系内火箭到中继卫星的位置矢量，将位置矢量/＞通过坐标转换投影到箭体坐标系，得到箭体坐标系下火箭到中继卫星的位置矢量/＞。4.根据权利要求3所述的一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，所述箭体坐标系定义为：坐标原点位于火箭质心，OX1轴与箭体纵对称轴一致，指向头部方向，OY1轴垂直于OX1轴，位于火箭纵对称面内，指向上方，OZ1轴与OX1轴、OY1轴构成右手直角坐标系；所述各时刻的最优滚转角GAM为火箭到中继卫星的矢量投影到箭体坐标系Y1OZ1平面后与天基天线指向的夹角；所述天基天线指向夹角Jiajiao为火箭到中继卫星的矢量与天基天线指向之间的夹角。5.根据权利要求4所述的一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，所述求出飞行全程各时刻的最优滚转角GAM包括：从箭尾沿箭体纵轴向箭头看，当天基天线指向以最小的角度转向位置矢量在Y1OZ1平面的投影，若其转动方向为顺时针，则GAM为正：，当天基天线指向以最小的角度转向位置矢量在Y1OZ1平面的投影，若其转动方向为逆时针，则GAM为负：。6.根据权利要求4所述的一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，所述求出各时刻的天基天线指向夹角Jiajiao包括：天基天线指向与箭体0Z1轴的夹角为θ，-180°≤θ≤180°，当天基天线指向箭体坐标系X10Z1平面上方时θ为正，否则为负；计算得到后，求出/＞与天基天线指向的夹角Jiajiao：。7.根据权利要求2所述的一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，所述设定火箭飞行过程中调整滚转角的n个调整时刻，所述n个调整时刻设定在火箭的无动力飞行段。8.根据权利要求1或2所述的一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，所述计算天基测控覆盖范围包括：判断满足Jiajiao≤A0的测控弧段T_tj00~T_tj01、T_tj10~T_tj11、T_tj20~T_tj21……T_tjm0~T_tjm1，选取测控弧段最长的一段T_tjx0~T_tjx1，得到天基测控覆盖范围，m为正整数，0≤x≤m。9.根据权利要求3所述的一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，所述发射坐标系定义为：坐标原点位于发射原点，OY轴取过发射点的铅垂线，向上为正，OX轴与OY轴垂直，指向理论射向，OZ轴与OX轴、OY轴构成右手直角坐标系。10.根据权利要求3所述的一种受天基测控约束的火箭姿态角自动优化方法，其特征在于，所述导航坐标系定义为：导航坐标系在火箭点火瞬时与发射坐标系重合，点火后，坐标原点位置以发射时刻发射点的牵连速度移动，坐标轴OXd、OYd、OZd方向保持不变；所述的牵连速度是指惯性空间下发射点在发射时刻的速度，是发射点相对于地球中心的速度。
说明书desc
技术领域本发明涉及火箭弹道及天基测控技术领域，具体涉及一种受天基测控约束的火箭姿态角自动优化方法。背景技术天基测控是一种应用中继卫星进行航天器的跟踪及数据传输的技术。火箭飞行过程中，火箭到中继卫星的矢量与天基相控阵天线指向的夹角在天基相控阵天线波束角范围内才能保证数据有效传输。但在实际飞行过程中，由于火箭发射场、目标轨道、飞行过程中姿态角变化等的不同，导致对于同一型号的火箭由于其天基相控阵天线位置固定，天基相控阵天线并不能全程指向中继卫星，需要通过调整滚转角来优化弹道及测控方案。专利CN 114036780 A提出了一种受天基测控约束的火箭姿态角设计方法，该方法可避免使用STK软件调用弹道数据进行测控分析，能有效提升设计效率。但是考虑不够全面，操作性较低。在专利CN 114036780 A的基础上，需要一种更具操作性的火箭姿态角自动优化方法，让天基天线在火箭侧面任意方位都可以计算，并通过自己编程能够让软件针对不同的发射任务自行快速设计出最优的测控方案，实现天基测控去任务化需求。发明内容为解决上述技术问题，本发明提出了一种受天基测控约束的火箭姿态角设计方法，能够根据火箭与中继卫星的相对位置并结合弹道自动优化出火箭飞行过程中满足天基测控约束的姿态角，从而实现天基测控去任务化需求。本发明提供的技术方案具体为：一种受天基测控约束的火箭姿态角自动优化方法，包括步骤：选取中继卫星，根据中继卫星与火箭的位置关系、火箭姿态以及天基天线在火箭上的位置，求出各时刻的天基天线指向夹角Jiajiao；比较火箭起飞后Jiajiao与天基天线波束角A0的大小关系；若火箭飞行全程Jiajiao不大于A0，则判定中继卫星和滚转角满足天基测控需求；若Jiajiao大于A0，则判定当前T0时刻天基天线与中继卫星链路断连，按照以下步骤调整滚转角：求出飞行全程各时刻的最优滚转角GAM，得到时刻T0之前的最优滚转角的最大值GAMmax；在T0时刻的前t秒调整滚转角至GAMmax，计算天基测控覆盖范围；若天基测控覆盖范围满足要求，则判定当前设计的滚转角满足天基测控要求；若天基测控覆盖范围不满足要求，重新计算天基测控断连时刻，则执行以下步骤：若调整滚转角后，计算到天基测控仍在T0时刻或T0时刻之前断连，则更换中继卫星重新进行最优滚转角设计过程；若调整滚转角后，计算到天基测控在T0时刻之后断连，则继续判断下一个天基链路断连时刻及最优滚转角，直至天基测控覆盖范围满足要求。基于同一发明构思，本发明还提供另一种受天基测控约束的火箭姿态角自动优化方法，包括步骤：设定火箭飞行过程中调整滚转角的n个调整时刻；选取中继卫星，根据中继卫星与火箭的位置关系、火箭姿态以及天基天线在火箭上的位置，求出各时刻的天基天线指向夹角Jiajiao；比较火箭起飞后Jiajiao与天基天线波束角A0的大小；若火箭飞行全程Jiajiao不大于A0，则判定中继卫星和滚转角满足天基测控需求；若Jiajiao大于A0，则判定当前T0时刻天基天线与中继卫星链路断连，按照以下步骤调整滚转角：求出飞行全程各时刻的最优滚转角GAM；令T0之后最近的调整时刻为调整时刻k，1≤k≤n，k为整数；得到调整时刻k之前的最优滚转角的最大值GAMmax；在调整时刻k-1调整滚转角至GAMmax，计算天基测控覆盖范围；若天基测控覆盖范围满足要求，则判定当前设计的滚转角满足天基测控要求；若天基测控覆盖范围不满足要求，则执行以下步骤：若计算到天基测控断连时刻T1仍在调整时刻k或调整时刻k之前，则更换中继卫星重新进行最优滚转角设计过程；若计算到天基测控断连时刻T1在调整时刻k之后，则继续判断下一个天基链路断连时刻及最优滚转角，直至天基测控覆盖范围满足要求。进一步地，所述根据中继卫星与火箭的位置关系，包括根据卫星所在轨道经度得到中继卫星在发射坐标系内的位置矢量，再得到此刻火箭在发射坐标系内的位置矢量/＞；将/＞、/＞通过坐标转换投影到导航坐标系，分别得到导航坐标系下卫星的位置矢量/＞和火箭的位置矢量/＞；计算得到在导航坐标系内火箭到中继卫星的位置矢量，将位置矢量通过坐标转换投影到箭体坐标系，得到箭体坐标系下火箭到中继卫星的位置矢量/＞。进一步地，所述箭体坐标系定义为：坐标原点位于火箭质心，OX1轴与箭体纵对称轴一致，所述箭体坐标系定义为：坐标原点位于火箭质心，OX1轴与箭体纵对称轴一致，指向头部方向，OY1轴垂直于OX1轴，位于火箭纵对称面内，指向上方，OZ1轴与OX1轴、OY1轴构成右手直角坐标系；所述各时刻的最优滚转角GAM为火箭到中继卫星的矢量投影到箭体坐标系Y1OZ1平面后与天基天线指向的夹角；所述天基天线指向夹角Jiajiao为火箭到中继卫星的矢量与天基天线指向之间的夹角。进一步地，所述求出飞行全程各时刻的最优滚转角GAM包括：从箭尾沿箭体纵轴向箭头看，当天基天线指向以最小的角度转向位置矢量在Y1OZ1平面的投影，若其转动方向为顺时针，则GAM为正：，当天基天线指向以最小的角度转向位置矢量在Y1OZ1平面的投影，若其转动方向为逆时针，则GAM为负：。进一步地，所述求出各时刻的天基天线指向夹角Jiajiao包括：天基天线指向与箭体0Z1轴的夹角为θ，-180°≤θ≤180°，当天基天线指向箭体坐标系X10Z1平面上方时为θ正，否则为负；计算得到后，求出/＞与天基天线指向的夹角Jiajiao：。进一步地，所述设定火箭飞行过程中调整滚转角的n个调整时刻，所述n个调整时刻设定在火箭的无动力飞行段。若调整滚转角的过程不影响飞行安全性，也可选择设定在有动力飞行段。进一步地，所述计算天基测控覆盖范围包括：判断满足Jiajiao≤A0的测控弧段T_tj00~T_tj01、T_tj10~T_tj11、T_tj20~T_tj21……T_tjm0~T_tjm1，选取测控弧段最长的一段T_tjx0~T_tjx1，得到天基测控覆盖范围，m为正整数，0≤x≤m。进一步地，所述发射坐标系定义为：坐标原点位于发射原点，OY轴取过发射点的铅垂线，向上为正，OX轴与OY轴垂直，指向理论射向，OZ轴与OX轴、OY轴构成右手直角坐标系。进一步地，所述导航坐标系定义为：导航坐标系在火箭点火瞬时与发射坐标系重合，点火后，坐标原点位置以发射时刻发射点的牵连速度移动，坐标轴OXd、OYd、OZd方向保持不变；所述的牵连速度是指惯性空间下发射点在发射时刻的速度，是发射点相对于地球中心的速度。相比于现有技术，本发明具有如下有益效果：本发明根据中继卫星与火箭的位置关系，以及火箭姿态和天基相控阵天线在火箭上的位置关系等信息求出最优滚转角和天基相控阵天线指向夹角，可避免使用STK软件调用弹道数据进行测控分析，能够有效减少运算量，缩短设计周期，提高工作效率。本发明根据天基相控阵天线指向夹角是否满足测控需求并根据最优滚转角变化规律，自动迭代设计出满足测控约束的火箭姿态角，给出测控方案，从而减少人工设计过程。同时该设计方法可针对不同发射任务设计出满足天基测控约束的火箭姿态角，从而实现测控方案的去任务化设计，在一定程度上推动了弹箭载天基测控技术的发展。附图说明图1为箭体坐标系示意图；图2为实施例2火箭姿态角自动优化方法流程图。具体实施方式下面结合实施例对本发明作进一步阐述。本发明提出了一种受天基测控约束的火箭姿态角设计方法，能够根据火箭与中继卫星的相对位置并结合弹道自动优化出火箭飞行过程中满足天基测控约束的姿态角，从而满足天基测控去任务化需求。实施例1本发明的一种受天基测控约束的火箭姿态角自动优化方法，主要包括以下步骤：S1、选取中继卫星，根据中继卫星与火箭的位置关系、火箭姿态以及天基天线在火箭上的位置，求出各时刻的天基天线指向夹角Jiajiao；具体的，本实施例的发射坐标系定义为：坐标原点位于发射原点，OY轴取过发射点的铅垂线，向上为正，OX轴与OY轴垂直，指向理论射向，OZ轴与OX轴、OY轴构成右手直角坐标系；具体的，本实施例的导航坐标系定义为：导航坐标系在火箭点火瞬时与发射坐标系重合，点火后，坐标原点位置以发射时刻发射点的牵连速度移动，坐标轴OXd、OYd、OZd方向保持不变；所述的牵连速度是指惯性坐标系下发射点在发射时刻的速度，是发射点相对于地球中心的速度。具体的，本实施例的箭体坐标系定义为：坐标原点位于火箭质心，OX1轴与箭体纵对称轴一致，指向箭体头部方向，OY1轴垂直于OX1轴，位于火箭纵对称面内，指向上方，OZ1轴与OX1轴、OY1轴构成右手直角坐标系，参见图1，图中Ⅰ、Ⅱ、Ⅲ、Ⅳ是指火箭的四个象限。求夹角Jiajiao具体方法为：根据卫星所在轨道经度得到中继卫星在发射坐标系内的位置矢量，再得到此刻火箭在发射坐标系内的位置矢量/＞；将/＞、/＞通过坐标转换投影到导航坐标系，分别得到导航坐标系下卫星的位置矢量/＞和火箭的位置矢量/＞；计算得到在导航坐标系内火箭到中继卫星的位置矢量，将位置矢量通过坐标转换投影到箭体坐标系，得到箭体坐标系下火箭到中继卫星的位置矢量。天基天线指向与箭体0Z1轴的夹角为θ，-180°≤θ≤180°，当天基天线指向箭体坐标系X10Z1平面上方时θ为正，否则为负；计算得到后，求出/＞与天基天线指向的夹角Jiajiao：。天基天线一般位于火箭侧面，为便于说明，假定天基天线指向在箭体坐标系-OZ1轴方向，即θ=180°；；S2、比较火箭起飞后Jiajiao与天基天线波束角A0的大小关系；若火箭飞行全程Jiajiao不大于A0，则判定中继卫星和滚转角满足天基测控需求；若Jiajiao大于A0，则判定当前T0时刻天基天线与中继卫星链路断连，按照步骤S3调整滚转角；S3、求出飞行全程各时刻的最优滚转角GAM，得到时刻T0之前的最优滚转角的最大值GAMmax；求出各时刻的最优滚转角GAM的方法为：从箭尾沿箭体纵轴向箭头看，当天基天线指向以最小的角度转向位置矢量在Y1OZ1平面的投影，若其转动方向为顺时针，则GAM为正：，当天基天线指向以最小的角度转向位置矢量在Y1OZ1平面的投影，若其转动方向为逆时针，则GAM为负：。在T0时刻的前t秒调整滚转角至GAMmax，计算天基测控覆盖范围；t一般取10-30。计算天基测控覆盖范围包括，先得到满足Jiajiao≤A0的测控弧段T_tj00~T_tj01、T_tj10~T_tj11、T_tj20~T_tj21……T_tjm0~T_tjm1，m为正整数，选取测控弧段最长的一段T_tjx0~T_tjx1，0≤x≤m，由此得到天基测控覆盖范围。判断天基测控覆盖范围是否满足要求，即判断T_tjx0~T_tjx1是否能覆盖火箭的飞行过程，保证火箭飞行全程都能与天链卫星建立数据连接。测控弧段的形式为时间段。S4、若天基测控覆盖范围满足要求，则判定当前设计的滚转角满足天基测控要求；若天基测控覆盖范围不满足要求，重新计算天基测控断连时刻，则执行以下步骤：若调整滚转角后，计算到天基测控在T0时刻之后断连，则在时刻T0时刻的前t秒调整滚转角至GAMmax的基础上，返回步骤S1继续判断下一个天基链路断连时刻及最优滚转角，直至天基测控覆盖范围满足要求。若调整滚转角后，计算到天基测控仍在T0时刻或T0时刻之前断连，则说明通过调整滚转角的方法无法优化测控连接情况，当前选取的中继卫星无法满足测控需求，需更换中继卫星重新进行步骤S1至步骤S4的滚转角设计过程。本实施例的方法中，调整滚转角的时间由系统自行计算得出，调整时间可以是飞行过程中任意时间。实施例2对于测控方案来说，最优的方案即是火箭在不同时刻按照对应的最优滚转角飞行，在实际设计过程中，一般选择几个固定的时刻调整滚转角，本实施例即基于此方案进行设计；如图2所示，本发明的一种受天基测控约束的火箭姿态角自动优化方法，包括步骤：S1、设定火箭飞行过程中可以调整滚转角的n个调整时刻，调整时刻设定在火箭的无动力飞行段，以避免影响飞行安全性；选取中继卫星，根据中继卫星与火箭的位置关系、火箭姿态以及天基天线在火箭上的位置，求出各时刻的天基天线指向夹角Jiajiao；S2、比较火箭起飞后Jiajiao与天基天线波束角A0的大小；若火箭飞行全程Jiajiao不大于A0，则判定中继卫星和滚转角满足天基测控需求；若Jiajiao大于A0，则判定当前T0时刻天基天线与中继卫星链路断连，按照步骤S3调整滚转角；S3、求出飞行全程各时刻的最优滚转角GAM；令T0之后最近的调整时刻为调整时刻k，1≤k≤n，k为整数；得到调整时刻k之前的最优滚转角的最大值GAMmax；在调整时刻k-1调整滚转角至GAMk-1，GAMk-1=GAMmax，计算天基测控覆盖范围；计算天基测控覆盖范围包括，先得到满足Jiajiao≤A0的测控弧段T_tj00~T_tj01、T_tj10~T_tj11、T_tj20~T_tj21……T_tjm0~T_tjm1，m为正整数，选取测控弧段最长的一段T_tjx0~T_tjx1，0≤x≤m，由此得到天基测控覆盖范围。判断天基测控覆盖范围是否满足要求，即判断T_tjx0~T_tjx1是否能覆盖火箭的飞行过程，保证火箭飞行全程都能与天链卫星建立数据连接。测控弧段的形式为时间段。S4、若天基测控覆盖范围满足要求，则判定当前设计的滚转角满足天基测控要求；若天基测控覆盖范围不满足要求，则执行以下步骤：计算此时天基链路断连的时刻T1，若计算到天基测控断连时刻T1在调整时刻k之后，则说明调整滚转角有效，在调整时刻k-1调整滚转角至GAMk-1的基础上，继续判断下一个天基链路断连时刻及最优滚转角，直至天基测控覆盖范围满足要求；若计算到此时天基测控断连时刻T1仍在调整时刻k或调整时刻k之前，则说明通过调整滚转角的方法无法优化测控连接情况，需更换中继卫星重新进行步骤S1至步骤S4的滚转角设计过程。本实施例中，求夹角Jiajiao和最优滚转角GAM的方法和实施例1相同。本实施例中调整滚转角的时刻是在提前设置好的n个调整时刻中选取，相较于实施例1，本实施例方案对飞行的影响更小，更加安全，但实施例1方案智能化程度更高。
