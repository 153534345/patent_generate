标题title
基于模糊PID的薄膜生产智能控制系统
摘要abst
本发明涉及智能控制技术领域，具体涉及一种基于模糊PID的薄膜生产智能控制系统，该系统包括存储器和处理器，处理器执行存储器存储的计算机程序，以实现如下步骤：获取薄膜拉伸机对应的预设数目组历史生产数据；确定厚度偏差指标和数值偏差指标，进而确定数值偏差与厚度偏差之间的相关系数；确定默认比例增益系数的补偿值和拉伸工艺损失程度，根据补偿值和拉伸工艺损失程度确定当前薄膜对应的优化比例增益系数，将当前PID控制器的默认比例增益系数调整为优化比例增益系数，进而利用调整后的PID控制器对薄膜拉伸机的各个实时工艺参数进行控制。本发明提高了薄膜拉伸机的工艺参数的控制精度，优化了薄膜产品的质量。
权利要求书clms
1.一种基于模糊PID的薄膜生产智能控制系统，其特征在于，包括存储器和处理器，所述处理器执行所述存储器存储的计算机程序，以实现如下步骤：获取薄膜拉伸机对应的数目不少于2个的历史薄膜对应的加工前母膜的厚度分布矩阵、加工后薄膜的厚度分布矩阵以及各个历史工艺参数；确定每个历史薄膜对应的母膜的厚度偏差指标、每个历史薄膜对应的各个历史工艺参数的数值偏差指标以及当前薄膜对应的各个实时工艺参数的数值偏差指标；根据每个历史薄膜对应的母膜的厚度偏差指标和各个历史工艺参数的数值偏差指标，确定各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数；根据所述相关系数、预先获取的各个标准工艺参数和默认比例增益系数、当前薄膜对应的各个实时工艺参数的数值偏差指标，确定默认比例增益系数的补偿值；根据每个历史薄膜对应的加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵，确定每个历史薄膜对应的拉伸工艺损失程度；根据当前薄膜对应的默认比例增益系数的补偿值、默认比例增益系数以及每个历史薄膜对应的拉伸工艺损失程度，确定当前薄膜对应的优化比例增益系数；将当前PID控制器的默认比例增益系数调整为优化比例增益系数，进而利用调整后的PID控制器对薄膜拉伸机的各个实时工艺参数进行控制。2.根据权利要求1所述的一种基于模糊PID的薄膜生产智能控制系统，其特征在于，根据所述相关系数、预先获取的各个标准工艺参数和默认比例增益系数、当前薄膜对应的各个实时工艺参数的数值偏差指标，确定默认比例增益系数的补偿值，包括：对各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数进行归一化处理，将归一化处理后的相关系数确定为对应历史工艺参数的第一补偿因子；将当前薄膜对应的各个实时工艺参数的数值偏差指标与对应标准工艺参数之间的比值，确定为对应实时工艺参数的第二补偿因子；对于任意一个工艺参数，将该工艺参数对应的历史工艺参数的第一补偿因子和该工艺参数对应的实时工艺参数的第二补偿因子的乘积，确定对应工艺参数的第三补偿因子；计算每个工艺参数的第三补偿因子的累加和，将所述累加和确定为默认比例增益系数的加权权重；将所述加权权重与默认比例增益系数的乘积确定为默认比例增益系数的补偿值。3.根据权利要求1所述的一种基于模糊PID的薄膜生产智能控制系统，其特征在于，根据每个历史薄膜对应的加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵，确定每个历史薄膜对应的拉伸工艺损失程度，包括：对于任意一个历史薄膜对应的加工前母膜，对加工前母膜的厚度分布矩阵进行上采样处理，每次上采样时均在相邻行、列之间插入空白值，然后以预设尺寸的卷积核对插入空白值后的厚度分布矩阵进行卷积计算，填充空白值，不断重复上采样处理步骤，直至上采样后的厚度分布矩阵的尺寸与加工后薄膜的厚度分布矩阵的尺寸一致，从而得到每个历史薄膜对应的上采样后的厚度分布矩阵；根据每个历史薄膜对应的上采样后的厚度分布矩阵和加工后薄膜的厚度分布矩阵，计算每个历史薄膜对应的拉伸工艺损失程度。4.根据权利要求3所述的一种基于模糊PID的薄膜生产智能控制系统，其特征在于，所述拉伸工艺损失程度的计算公式为：其中，为第i个历史薄膜对应的拉伸工艺损失程度，/＞为厚度分布矩阵中的坐标位置，/＞为厚度分布矩阵的行数，/＞为厚度分布矩阵的列数，/＞为厚度分布矩阵中所有厚度值的个数，/＞为第i个历史薄膜对应的上采样后的厚度分布矩阵中/＞坐标位置处的厚度值，/＞为第i个历史薄膜对应的上采样后的厚度分布矩阵中的最大厚度值，/＞为第i个历史薄膜对应的上采样后的厚度分布矩阵中的最小厚度值，/＞为第i个历史薄膜对应的加工后薄膜的厚度分布矩阵中/＞坐标位置处的厚度值，/＞为第i个历史薄膜对应的加工后薄膜的厚度分布矩阵中最大厚度值，/＞为第i个历史薄膜对应的加工后薄膜的厚度分布矩阵中最小厚度值，i为历史薄膜的序号。5.根据权利要求1所述的一种基于模糊PID的薄膜生产智能控制系统，其特征在于，根据当前薄膜对应的默认比例增益系数的补偿值、默认比例增益系数以及每个历史薄膜对应的拉伸工艺损失程度，确定当前薄膜对应的优化比例增益系数，包括：计算所有历史薄膜对应的拉伸工艺损失程度的标准差，对所述标准差进行负相关映射处理，将负相关映射后的标准差确定为默认比例增益系数的矫正系数；将所述矫正系数与默认比例增益系数的乘积，确定为当前薄膜对应的第一优化比例增益系数；将所述第一优化比例增益系数与默认比例增益系数的补偿值相加后的数值，确定为当前薄膜对应的优化比例增益系数。6.根据权利要求1所述的一种基于模糊PID的薄膜生产智能控制系统，其特征在于，确定每个历史薄膜对应的母膜的厚度偏差指标，包括：对于任意一个历史薄膜，将历史薄膜对应的加工前母膜的厚度分布矩阵中每个厚度值与标准厚度值之间的差值，确定为加工前母膜对应位置处的厚度偏差值；将加工前母膜中相同的厚度偏差值确定为一类厚度偏差值，进而统计每类厚度偏差值在加工前母膜中的出现次数；对于任意一类厚度偏差值，将对应类厚度偏差值在加工前母膜中的出现次数与总厚度偏差值数量之间的比值，确定为第一厚度偏差因子；将第一厚度偏差因子与对应类厚度偏差值的乘积，确定为第二厚度偏差因子，从而获得每类厚度偏差值对应的第二厚度偏差因子；将每类厚度偏差值对应的第二厚度偏差因子的累加和，确定为历史薄膜对应的母膜的厚度偏差指标。7.根据权利要求1所述的一种基于模糊PID的薄膜生产智能控制系统，其特征在于，确定每个历史薄膜对应的各个历史工艺参数的数值偏差指标，包括：对于任意一个历史薄膜对应的任意一个历史工艺参数，将历史工艺参数与标准工艺参数之间的差值，确定为对应历史工艺参数的数值偏差指标。8.根据权利要求1所述的一种基于模糊PID的薄膜生产智能控制系统，其特征在于，根据每个历史薄膜对应的母膜的厚度偏差指标和各个历史工艺参数的数值偏差指标，确定各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数，包括：对于任意一个历史工艺参数，基于每个历史薄膜对应的母膜的厚度偏差指标以及每个历史薄膜对应的历史工艺参数的数值偏差指标，计算历史工艺参数的数值偏差与母膜的厚度偏差之间的皮尔逊相关系数，将所述皮尔逊相关系数的绝对值确定为对应历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数。
说明书desc
技术领域本发明涉及智能控制技术领域，具体涉及一种基于模糊PID的薄膜生产智能控制系统。背景技术薄膜是一种常见的功能材料，在电子、光学、食品包装、医疗等领域被广泛使用，例如塑料薄膜、钙钛矿电池薄膜以及医疗袋薄膜等。薄膜的核心制备过程为浇铸或喷涂工艺，将混合后的材料通过浇铸或喷涂等方式涂覆到一定大小和形状的模具表面上，形成母膜，然后通过拉伸、延压等处理，使薄膜达到需要的厚度和尺寸。但是，浇铸、喷涂法形成母膜的厚度均匀性较差，拉伸过程中难以保证薄膜拉伸均匀。此时，需要利用模糊比例积分微分控制系统，控制拉伸工艺，得到质量较优的薄膜。模糊PID控制器是一种常用的控制算法，能够在工业控制系统中有效地实现控制。在薄膜生产智能控制系统中，模糊PID控制器可以用来实现对薄膜材料的厚度和质量等关键参数的控制，以提高薄膜生产线的工作效率和产品质量。但基于模糊PID的薄膜生产控制在实际生产过程中受到的误差影响较多，其中，PID控制器参数中比例增益系数的选取不当，可以导致实际PID控制器的稳定性较差，进而使输入变量的隶属度模糊，影响控制精度。发明内容为了解决上述在现有模糊PID的薄膜生产控制方法中，未考虑预备工艺精度和拉伸工艺损失对PID控制器参数的影响，导致最终的控制精度较差的技术问题，本发明的目的在于提供一种基于模糊PID的薄膜生产智能控制系统，所采用的技术方案具体如下：本发明一个实施例提供了一种基于模糊PID的薄膜生产智能控制系统，包括存储器和处理器，所述处理器执行所述存储器存储的计算机程序，以实现如下步骤：获取薄膜拉伸机对应的数目不少于2个的历史薄膜对应的加工前母膜的厚度分布矩阵、加工后薄膜的厚度分布矩阵以及各个历史工艺参数；确定每个历史薄膜对应的母膜的厚度偏差指标、每个历史薄膜对应的各个历史工艺参数的数值偏差指标以及当前薄膜对应的各个实时工艺参数的数值偏差指标；根据每个历史薄膜对应的母膜的厚度偏差指标和各个历史工艺参数的数值偏差指标，确定各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数；根据所述相关系数、预先获取的各个标准工艺参数和默认比例增益系数、当前薄膜对应的各个实时工艺参数的数值偏差指标，确定默认比例增益系数的补偿值；根据每个历史薄膜对应的加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵，确定每个历史薄膜对应的拉伸工艺损失程度；根据当前薄膜对应的默认比例增益系数的补偿值、默认比例增益系数以及每个历史薄膜对应的拉伸工艺损失程度，确定当前薄膜对应的优化比例增益系数；将当前PID控制器的默认比例增益系数调整为优化比例增益系数，进而利用调整后的PID控制器对薄膜拉伸机的各个实时工艺参数进行控制。进一步地，根据所述相关系数、预先获取的各个标准工艺参数和默认比例增益系数、当前薄膜对应的各个实时工艺参数的数值偏差指标，确定默认比例增益系数的补偿值，包括：对各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数进行归一化处理，将归一化处理后的相关系数确定为对应历史工艺参数的第一补偿因子；将当前薄膜对应的各个实时工艺参数的数值偏差指标与对应标准工艺参数之间的比值，确定为对应实时工艺参数的第二补偿因子；对于任意一个工艺参数，将该工艺参数对应的历史工艺参数的第一补偿因子和该工艺参数对应的实时工艺参数的第二补偿因子的乘积，确定对应工艺参数的第三补偿因子；计算每个工艺参数的第三补偿因子的累加和，将所述累加和确定为默认比例增益系数的加权权重；将所述加权权重与默认比例增益系数的乘积确定为默认比例增益系数的补偿值。进一步地，根据每个历史薄膜对应的加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵，确定每个历史薄膜对应的拉伸工艺损失程度，包括：对于任意一个历史薄膜对应的加工前母膜，对加工前母膜的厚度分布矩阵进行上采样处理，每次上采样时均在相邻行、列之间插入空白值，然后以预设尺寸的卷积核对插入空白值后的厚度分布矩阵进行卷积计算，填充空白值，不断重复上采样处理步骤，直至上采样后的厚度分布矩阵的尺寸与加工后薄膜的厚度分布矩阵的尺寸一致，从而得到每个历史薄膜对应的上采样后的厚度分布矩阵；根据每个历史薄膜对应的上采样后的厚度分布矩阵和加工后薄膜的厚度分布矩阵，计算每个历史薄膜对应的拉伸工艺损失程度。进一步地，所述拉伸工艺损失程度的计算公式为：其中，为第i个历史薄膜对应的拉伸工艺损失程度，/＞为厚度分布矩阵中的坐标位置，/＞为厚度分布矩阵的行数，/＞为厚度分布矩阵的列数，/＞为厚度分布矩阵中所有厚度值的个数，/＞为第i个历史薄膜对应的上采样后的厚度分布矩阵中/＞坐标位置处的厚度值，/＞为第i个历史薄膜对应的上采样后的厚度分布矩阵中的最大厚度值，/＞为第i个历史薄膜对应的上采样后的厚度分布矩阵中的最小厚度值，/＞为第i个历史薄膜对应的加工后薄膜的厚度分布矩阵中/＞坐标位置处的厚度值，/＞为第i个历史薄膜对应的加工后薄膜的厚度分布矩阵中最大厚度值，/＞为第i个历史薄膜对应的加工后薄膜的厚度分布矩阵中最小厚度值，i为历史薄膜的序号。进一步地，根据当前薄膜对应的默认比例增益系数的补偿值、默认比例增益系数以及每个历史薄膜对应的拉伸工艺损失程度，确定当前薄膜对应的优化比例增益系数，包括：计算所有历史薄膜对应的拉伸工艺损失程度的标准差，对所述标准差进行负相关映射处理，将负相关映射后的标准差确定为默认比例增益系数的矫正系数；将所述矫正系数与默认比例增益系数的乘积，确定为当前薄膜对应的第一优化比例增益系数；将所述第一优化比例增益系数与默认比例增益系数的补偿值相加后的数值，确定为当前薄膜对应的优化比例增益系数。进一步地，确定每个历史薄膜对应的母膜的厚度偏差指标，包括：对于任意一个历史薄膜，将历史薄膜对应的加工前母膜的厚度分布矩阵中每个厚度值与标准厚度值之间的差值，确定为加工前母膜对应位置处的厚度偏差值；将加工前母膜中相同的厚度偏差值确定为一类厚度偏差值，进而统计每类厚度偏差值在加工前母膜中的出现次数；对于任意一类厚度偏差值，将对应类厚度偏差值在加工前母膜中的出现次数与总厚度偏差值数量之间的比值，确定为第一厚度偏差因子；将第一厚度偏差因子与对应类厚度偏差值的乘积，确定为第二厚度偏差因子，从而获得每类厚度偏差值对应的第二厚度偏差因子；将每类厚度偏差值对应的第二厚度偏差因子的累加和，确定为历史薄膜对应的母膜的厚度偏差指标。进一步地，确定每个历史薄膜对应的各个历史工艺参数的数值偏差指标，包括：对于任意一个历史薄膜对应的任意一个历史工艺参数，将历史工艺参数与标准工艺参数之间的差值，确定为对应历史工艺参数的数值偏差指标。进一步地，根据每个历史薄膜对应的母膜的厚度偏差指标和各个历史工艺参数的数值偏差指标，确定各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数，包括：对于任意一个历史工艺参数，基于每个历史薄膜对应的母膜的厚度偏差指标以及每个历史薄膜对应的历史工艺参数的数值偏差指标，计算历史工艺参数的数值偏差与母膜的厚度偏差之间的皮尔逊相关系数，将所述皮尔逊相关系数的绝对值确定为对应历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数。本发明具有如下有益效果：本发明提供了一种基于模糊PID的薄膜生产智能控制系统，该系统利用智能控制技术，控制薄膜拉伸机的设备参数，为了提高控制精度，对模糊PID控制器的控制器参数进行优化处理，与现有技术通过历史经验确定控制器参数的方法相比，本发明提供了一种可以确定更精准模糊PID控制器参数的具体实现方法，增强了模糊PID控制器的控制稳定性。具体为：首先，获取多组历史生产数据，以便于分析薄膜拉伸机的历史拉伸情况；然后，确定母膜的厚度偏差指标和历史工艺参数的数值偏差指标，是为了便于后续分析工艺参数偏差与母膜厚度偏差之间的相关关系，即计算个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数；相关系数可以被用于表征预备工艺对控制器比例增益系数的影响情况，相关系数的计算因素涉及到厚度偏差指标和数值偏差指标，多个计算因素确定的相关系数的数值准确度更高，准确的相关系数有助于进一步提升补偿值的可靠程度；其次，基于加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵计算的拉伸工艺损失程度，可被用于表征拉伸工艺损失对控制器比例增益系数的影响情况；接着，基于当前薄膜对应的默认比例增益系数的补偿值和每个历史薄膜对应的拉伸工艺损失程度，对默认比例增益系数进行校正，获得了可以实现更精准控制的优化比例增益系数；最后，将当前PID控制器的默认比例增益系数调整为优化比例增益系数，进而利用调整后的PID控制器对薄膜拉伸机的各个实时工艺参数进行控制，以降低实时工艺参数的误差波动，提高控制精度。本发明主要应用于薄膜生产智能控制领域。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一种基于模糊PID的薄膜生产智能控制方法的流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的技术方案的具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一个实施例。此外，一个或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。本实施例提供了一种基于模糊PID的薄膜生产智能控制系统，包括存储器和处理器，所述处理器执行所述存储器存储的计算机程序，以实现如下步骤：获取薄膜拉伸机对应的数目不少于2个的历史薄膜对应的加工前母膜的厚度分布矩阵、加工后薄膜的厚度分布矩阵以及各个历史工艺参数；确定每个历史薄膜对应的母膜的厚度偏差指标、每个历史薄膜对应的各个历史工艺参数的数值偏差指标以及当前薄膜对应的各个实时工艺参数的数值偏差指标；根据每个历史薄膜对应的母膜的厚度偏差指标和各个历史工艺参数的数值偏差指标，确定各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数；根据相关系数、预先获取的各个标准工艺参数和默认比例增益系数、当前薄膜对应的各个实时工艺参数的数值偏差指标，确定默认比例增益系数的补偿值；根据每个历史薄膜对应的加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵，确定每个历史薄膜对应的拉伸工艺损失程度；根据当前薄膜对应的默认比例增益系数的补偿值、默认比例增益系数以及每个历史薄膜对应的拉伸工艺损失程度，确定当前薄膜对应的优化比例增益系数；将当前PID控制器的默认比例增益系数调整为优化比例增益系数，进而利用调整后的PID控制器对薄膜拉伸机的各个实时工艺参数进行控制。下面对上述各个步骤进行详细展开：参考图1，示出了本发明一种基于模糊PID的薄膜生产智能控制方法，该薄膜生产智能控制方法包括以下步骤：S1，获取薄膜拉伸机对应的数目不少于2个的历史薄膜对应的加工前母膜的厚度分布矩阵、加工后薄膜的厚度分布矩阵以及各个历史工艺参数。在本实施例中，为了便于后续分析预备工艺和拉伸工艺造成的拉伸损失影响，需要获取薄膜拉伸机对应的数目不少于2个的历史薄膜对应的加工前母膜的厚度分布矩阵、加工后薄膜的厚度分布矩阵以及各个历史工艺参数。首先，获得每个历史薄膜对应的加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵。薄膜厚度均匀度是薄膜生成过程中一个至关重要的指标，一般通过激光扫描机等全自动在线测量方法进行检测，可以获得薄膜厚度分布图，在厚度分布图中两个相邻厚度值之间的间隔距离可以为1厘米。基于薄膜厚度分布图中每个位置处的厚度值，可以构成厚度分布矩阵。其中，历史薄膜为薄膜拉伸机在过去历史时段内生产的薄膜，历史薄膜的数量记为L，历史薄膜数量L可以设置为50。此时，获得了薄膜拉伸机对应的50个历史薄膜对应的加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵。值得说明的是，相邻厚度值之间的间隔距离和历史薄膜数量可以由实施者根据薄膜拉伸机具体型号的实际情况自行设置，本实施例不做具体限定。然后，获得每个历史薄膜对应的各个历史工艺参数。历史工艺参数为在过去历史时段生产历史薄膜时薄膜拉伸机运行拉伸工艺前的生产工艺参数，例如，薄膜拉伸机的功率、拉伸程度、运转速度以及电压等。对于现代自动化工厂而言，每次喷涂工艺的所有参数均存储于数字化监控系统的历史记录中，故利用工艺环节的多源传感器所组成的数字化监控系统，可以获得每个历史薄膜对应的各个历史工艺参数。至此，本实施例获得了薄膜拉伸机对应的预设数目组历史生产数据。S2，确定每个历史薄膜对应的母膜的厚度偏差指标、每个历史薄膜对应的各个历史工艺参数的数值偏差指标以及当前薄膜对应的各个实时工艺参数的数值偏差指标。首先，需要说明的是，对于薄膜拉伸工艺，其预准备环节为原材料喷涂形成母膜，母膜的厚度均匀性影响最终薄膜的质量和性能，而造成母膜厚度不均匀的主要原因是工艺参数调节不准确导致薄膜拉伸机的控制精度较差，例如，喷涂工艺基材表面的光滑程度不均匀、喷涂压力过大或者喷涂速度快等。工艺参数对母膜厚度均匀度的影响并非线性相关，导致难以实现预准备过程的各项工艺参数的量化。但是，在实际应用过程中的工艺参数并非自适应变化，而是存在标准参数。因此，可以对历史工艺参数与标准工艺参数之间的差异以及母膜厚度均匀度进行分析，以便于后续计算两者之间的相关系数。第一步，确定每个历史薄膜对应的母膜的厚度偏差指标。在本实施例中，对于任意一个历史薄膜，将历史薄膜对应的加工前母膜的厚度分布矩阵中每个厚度值与标准厚度值之间的差值，确定为加工前母膜对应位置处的厚度偏差值；将加工前母膜中相同的厚度偏差值确定为一类厚度偏差值，进而统计每类厚度偏差值在加工前母膜中的出现次数；对于任意一类厚度偏差值，将对应类厚度偏差值在加工前母膜中的出现次数与总厚度偏差值数量之间的比值，确定为第一厚度偏差因子；将第一厚度偏差因子与对应类厚度偏差值的乘积，确定为第二厚度偏差因子；将每类厚度偏差值对应的第二厚度偏差因子的累加和，确定为历史薄膜对应的母膜的厚度偏差指标。例如，每个历史薄膜对应的母膜的厚度偏差指标的计算公式可以为：其中，为第i个历史薄膜对应的母膜的厚度偏差指标，/＞为第i个历史薄膜对应的厚度偏差值的总类数目，/＞为第i个历史薄膜对应的第v类厚度偏差值，第v类厚度偏差值即为第v个相同的厚度偏差值，/＞为第v类厚度偏差值在第i个历史薄膜对应的加工前母膜中的出现次数，/＞为第i个历史薄膜对应的总厚度偏差值数量，/＞为厚度分布矩阵的行数，为厚度分布矩阵的列数，/＞为第v类厚度偏差值对应的第一厚度偏差因子，/＞为第v类厚度偏差值对应的第二厚度偏差因子，i为历史薄膜的序号，v为每类厚度偏差值的序号。在厚度偏差指标的计算公式中，对于第v类厚度偏差值，例如，历史薄膜对应的厚度偏差值大致为10个数据，10个数据分别为0.3、0.31、0.3、0.32、0.32、0.31、0.33、0.33以及0.30，那么每类厚度偏差值分别为0.30、0.32、0.33以及0.31，主要表现在整张母膜中一部分区域的厚度偏差值为0.30微米，另外一部分区域的厚度偏差值为0.32微米，再另一部分区域的厚度偏差值为0.33微米等，其呈现出母膜厚度分布不均匀的特征，同时厚度偏差值可以为正数，可以为负数，同样可以为数值0。厚度偏差值是通过母膜厚度分布矩阵的厚度值与标准厚度值相减得到的；第一厚度偏差因子/＞为第v类厚度偏差值的出现次数除以总厚度偏差值数据得到的，第一厚度偏差因子/＞可以被表征为第v类厚度偏差值/＞的权重值，其可以用于衡量第v类厚度偏差值在母膜中所占区域的大小，有利于增强母膜的厚度偏差指标的精准度；第一厚度偏差因子/＞越大，第v类厚度偏差值在母膜的厚度偏差指标计算过程中的重要程度越大；第二厚度偏差因子/＞为第v类厚度偏差值的权重值与第v类厚度偏差值的乘积，为了统计整张母膜的厚度偏差程度，将每类厚度偏差值进行累加分析，可以获得/＞。厚度偏差指标/＞越大，说明第i个历史薄膜对应的母膜的厚度越偏离标准厚度。第二步，确定每个历史薄膜对应的各个历史工艺参数的数值偏差指标以及当前薄膜对应的各个实时工艺参数的数值偏差指标。在本实施例中，对于任意一个历史薄膜对应的任意一个历史工艺参数，将历史工艺参数与标准工艺参数之间的差值，确定为对应历史工艺参数的数值偏差指标。例如，每个历史薄膜对应的各个历史工艺参数的数值偏差指标的计算公式可以为：其中，为第i个历史薄膜对应的第k个历史工艺参数的数值偏差指标，/＞为第i个历史薄膜对应的第k个历史工艺参数，/＞为第k个标准工艺参数，i为历史薄膜的序号，k为历史工艺参数的序号。在数值偏差指标的计算公式中，数值偏差指标越大，表征第i个历史薄膜对应的第k个历史工艺参数偏离标准工艺参数的程度越大。参考第i个历史薄膜对应的第k个历史工艺参数的数值偏差指标的计算过程，可以获得每个历史薄膜对应的各个历史工艺参数的数值偏差指标。同理，基于当前薄膜对应的各个实时工艺参数，计算实时工艺参数与标准工艺参数之间的差值，并将其确定为对应实时工艺参数的数值偏差指标，可以获得当前薄膜对应的各个实时工艺参数的数值偏差指标。至此，本实施例获得了每个历史薄膜对应的母膜的厚度偏差指标、每个历史薄膜对应的各个历史工艺参数的数值偏差指标以及当前薄膜对应的各个实时工艺参数的数值偏差指标。S3，根据每个历史薄膜对应的母膜的厚度偏差指标和各个历史工艺参数的数值偏差指标，确定各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数。在本实施例中，为了明确分析每个工艺参数对母膜厚度均匀性的影响程度，需要确定各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数，具体实现步骤包括：对于任意一个历史工艺参数，基于每个历史薄膜对应的母膜的厚度偏差指标以及每个历史薄膜对应的历史工艺参数的数值偏差指标，计算历史工艺参数的数值偏差与母膜的厚度偏差之间的皮尔逊相关系数，将皮尔逊相关系数的绝对值确定为对应历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数。例如，历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数的计算公式可以为：其中，为第k个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数，为所有历史薄膜的总数量，/＞为历史薄膜的序号，/＞为第/＞个历史薄膜对应的第k个历史工艺参数的数值偏差指标，/＞为所有历史薄膜对应的第k个历史工艺参数的数值偏差指标的平均值，/＞为第/＞个历史薄膜对应的母膜的厚度偏差指标，/＞为所有历史薄膜对应的母膜的厚度偏差指标的平均值，/＞为所有历史薄膜对应的第k个历史工艺参数的数值偏差指标的标准差，/＞为所有历史薄膜对应的母膜的厚度偏差指标的标准差，k为历史工艺参数的序号，/＞为对/＞求绝对值。在相关系数的计算公式中，可以表征第/＞个历史薄膜对应的第k个历史工艺参数的数值偏差指标与所有历史薄膜对应的第k个历史工艺参数的数值偏差指标的平均值之间的差异程度，/＞可以表征第/＞个历史薄膜对应的母膜的厚度偏差指标与所有历史薄膜对应的母膜的厚度偏差指标的平均值之间的差异程度；可以表征通过第k个类型的历史工艺参数偏差集合与历史母膜厚度偏差集合得到的协方差，/＞为两个集合标准差的乘积，根据皮尔逊相关系数，协方差除以两个集合的标准差乘积，可以得到第k个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数；由于皮尔逊相关系数的计算结果存在为负数的特殊情况，为了便于后续计算，需要对/＞求绝对值。相关系数/＞越大，第k个历史工艺参数的数值偏差对母膜的厚度偏差的影响越大，第k个历史工艺参数越异常。参考第k个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数的计算过程，可以获得各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数。至此，本实施例获得了各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数。S4，根据相关系数、预先获取的各个标准工艺参数和默认比例增益系数、当前薄膜对应的各个实时工艺参数的数值偏差指标，确定默认比例增益系数的补偿值。在本实施例中，当前薄膜的拉伸质量受相关系数的影响，而默认PID控制器的比例增益值需要根据模糊变量，即薄膜厚度偏差所隶属的模糊区间确定。工艺参数调整不精确带来的影响会对PID控制器的比例增益值产生隶属度模糊，故需要确定默认比例增益系数的补偿值，以便于后续获得更准确的比例增益系数。其中，默认比例增益系数是根据实际生产过程的模糊变量隶属区间而确定的，为现有技术，本发明不展开赘述。确定默认比例增益系数的补偿值的具体步骤可以包括：对各个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数进行归一化处理，将归一化处理后的相关系数确定为对应历史工艺参数的第一补偿因子；将当前薄膜对应的各个实时工艺参数的数值偏差指标与对应标准工艺参数之间的比值，确定为对应实时工艺参数的第二补偿因子；对于任意一个工艺参数，将该工艺参数对应的历史工艺参数的第一补偿因子和该工艺参数对应的实时工艺参数的第二补偿因子的乘积，确定对应工艺参数的第三补偿因子；计算每个工艺参数的第三补偿因子的累加和，将累加和确定为默认比例增益系数的加权权重；将加权权重与默认比例增益系数的乘积确定为默认比例增益系数的补偿值。例如，默认比例增益系数的补偿值的计算公式可以为：其中，为默认比例增益系数的补偿值，/＞为第k个历史工艺参数的数值偏差与母膜的厚度偏差之间的相关系数，/＞为归一化函数，/＞为第k个历史工艺参数的第一补偿因子，/＞为当前薄膜对应的第k个实时工艺参数的数值偏差指标，/＞为第k个实时工艺参数对应的标准工艺参数，/＞为第k个实时工艺参数的第二补偿因子，为第k个工艺参数的第三补偿因子，/＞为默认比例增益系数的加权权重，/＞为默认比例增益系数，k为历史工艺参数的序号，K为不同类型的历史工艺参数的总个数，同时也为实时工艺参数和工艺参数的序号，历史工艺参数、实时工艺参数和工艺参数为一一对照关系。在默认比例增益系数的补偿值的计算公式中，为了便于计算，使用线性归一化函数对/＞进行归一化处理，使/＞的数值范围在0到1之间，第一补偿因子/＞与补偿值/＞为正相关，第一补偿因子/＞越大，说明第k个历史工艺参数对母膜厚度均匀性的影响越大，越需要补偿，补偿值/＞越大；第二补偿因子/＞可以量化第k个实时工艺参数相对标准历史工艺参数的偏离程度，可以表征为当前薄膜对应的母膜在实际加工过程中的第k个实时工艺参数的偏差比例，第二补偿因子/＞与补偿值/＞为正相关，第二补偿因子/＞越大，说明第k个历史工艺参数越偏离标准历史工艺参数，越需要补偿，补偿值/＞越大；加权权重/＞，从工艺参数偏离程度和工艺参数偏差值对母膜厚度均匀性的相关系数的角度分析对默认比例增益系数的影响程度，有利于提高默认比例增益系数的补偿值的准确度。S5，根据每个历史薄膜对应的加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵，确定每个历史薄膜对应的拉伸工艺损失程度。首先，需要说明的是，薄膜拉伸机的拉伸工艺可以通过控制辊轴转动速度，使母膜得到更均匀的拉伸力，但实际生产过程还是会存在工艺损失。为了分析拉伸工艺损失对PID控制器增益系数的影响，基于薄膜拉伸机的运作实现过程，通过加工前母膜的厚度分布矩阵和加工后薄膜的厚度分布矩阵，计算拉伸工艺损失程度。在本实施例中，对于历史生产数据中的所有母膜以及拉伸后薄膜的厚度分布图，若拉伸过程辊轴转速使母膜处于完全受力均匀状态，那么母膜与拉伸后薄膜的厚度分布关系应当具有极高的相似度。因此，为了便于分析拉伸工艺损失程度，需要对加工前母膜的厚度分布矩阵进行上采样处理，使母膜尺寸与薄膜尺寸保持一致，具体步骤可以包括：对于任意一个历史薄膜对应的加工前母膜，对加工前母膜的厚度分布矩阵进行上采样处理，每次上采样时均在相邻行、列之间插入空白值，然后以预设尺寸的卷积核对插入空白值后的厚度分布矩阵进行卷积计算，填充空白值，不断重复上采样处理步骤，直至上采样后的厚度分布矩阵的尺寸与加工后薄膜的厚度分布矩阵的尺寸一致，从而得到每个历史薄膜对应的上采样后的厚度分布矩阵。其中，卷积核的预设尺寸可以为；关于上采样层数，按照母膜尺寸与成品薄膜尺寸决定上采样层数或者插入的行数和列数，例如，母膜尺寸为/＞，成品薄膜尺寸为/＞，如塑料薄膜，根据单方向的尺寸比例确定单方向上的插值层数，即/＞或/＞层。上采样处理的具体实现过程为现有技术，不在本发明保护范围内，此处不再进行详细阐述。在得到每个历史薄膜对应的上采样后的厚度分布矩阵后，使上采样后的厚度分布矩阵与加工后薄膜的厚度分布矩阵进行对比，值得说明的是，两个厚度分布矩阵的对比并非厚度值的直接对比，而是相对比例关系之间的对比，即母膜的上采样厚度分布矩阵与成品薄膜的厚度分布矩阵中同位置的厚度值在各自厚度矩阵中的比例值。具体为：根据每个历史薄膜对应的上采样后的厚度分布矩阵和加工后薄膜的厚度分布矩阵，计算每个历史薄膜对应的拉伸工艺损失程度。其中，每个历史薄膜对应的拉伸工艺损失程度的计算公式可以为：其中，为第i个历史薄膜对应的拉伸工艺损失程度，/＞为厚度分布矩阵中的坐标位置，/＞为厚度分布矩阵的行数，/＞为厚度分布矩阵的列数，/＞为厚度分布矩阵中所有厚度值的个数，/＞为第i个历史薄膜对应的上采样后的厚度分布矩阵中/＞坐标位置处的厚度值，/＞为第i个历史薄膜对应的上采样后的厚度分布矩阵中的最大厚度值，/＞为第i个历史薄膜对应的上采样后的厚度分布矩阵中的最小厚度值，/＞为第i个历史薄膜对应的加工后薄膜的厚度分布矩阵中/＞坐标位置处的厚度值，/＞为第i个历史薄膜对应的加工后薄膜的厚度分布矩阵中最大厚度值，/＞为第i个历史薄膜对应的加工后薄膜的厚度分布矩阵中最小厚度值，i为历史薄膜的序号。在拉伸工艺损失程度的计算公式中，可以被用于表征上采样厚度分布矩阵中的厚度极差值，/＞可以被用于表征/＞位置处的厚度在与母膜对应的上采样厚度分布矩阵中的厚度极差值的比例；/＞可以被用于表征加工后薄膜的厚度分布矩阵中的厚度极差值，/＞可以被用于表征/＞位置处的厚度在与加工后薄膜的厚度分布矩阵中的厚度极差值的比例；/＞可以被用于表征两个厚度分布矩阵中同位置的厚度值比例之间的差异情况，/＞可以为两个厚度分布矩阵的均方误差；拉伸工艺损失程度/＞可以表征第i个历史薄膜在生产制作过程中的拉伸工艺均匀度的损失情况，拉伸工艺损失程度/＞越大，第i个历史薄膜的损失越大，反之则损失越小。需要说明的是，上采样后的厚度分布矩阵为母膜对应的上采样厚度分布矩阵，若母膜中的每个位置受到的拉伸力完全均匀时，成品薄膜的每个位置的厚度相当于母膜的同比例变化，成品薄膜也就是加工后的薄膜，因此将两个厚度分布矩阵中相同位置的厚度值各自转化为比例值，即和/＞，计算均方误差，以准确评估历史薄膜对应的拉伸工艺损失程度。S6，根据当前薄膜对应的默认比例增益系数的补偿值、默认比例增益系数以及每个历史薄膜对应的拉伸工艺损失程度，确定当前薄膜对应的优化比例增益系数。在本实施例中，当前薄膜对应的默认比例增益系数的补偿值和每个历史薄膜对应的拉伸工艺损失程度，可以为实际拉伸工艺的模糊变量隶属度提供矫正作用，即对当前薄膜对应的默认比例增益系数进行矫正，以确定当前薄膜对应的优化比例增益系数，具体步骤可以包括：计算所有历史薄膜对应的拉伸工艺损失程度的标准差，对标准差进行负相关映射处理，将负相关映射后的标准差确定为默认比例增益系数的矫正系数；将矫正系数与默认比例增益系数的乘积，确定为当前薄膜对应的第一优化比例增益系数；将第一优化比例增益系数与默认比例增益系数的补偿值相加后的数值，确定为当前薄膜对应的优化比例增益系数。例如，优化比例增益系数的计算公式可以为：其中，为当前薄膜对应的优化比例增益系数，e为自然常数，/＞为所有历史薄膜对应的拉伸工艺损失程度的标准差，/＞为默认比例增益系数的矫正系数，/＞为默认比例增益系数，/＞为当前薄膜对应的第一优化比例增益系数，/＞也为自然常数的/＞次幂，/＞为默认比例增益系数的补偿值。在优化比例增益系数的计算公式中，标准差可以被用于表征拉伸工艺的损失波动，通过负相关映射函数/＞将损失波动转化为矫正系数，损失波动越大，当前默认增益系数应需要调小，当前默认增益系数也就是当前薄膜对应的默认比例增益系数；调小的目的是约束比例增益系数调试薄膜拉伸机参数的变化率，也就是薄膜拉伸机的拉伸对当前母膜的损失较大的情况下，不适合频繁且较大幅度地更新薄膜拉伸机参数；由于母膜的厚度偏差指标和工艺参数的数值偏差指标存在为负数、正数以及零等多种情况，故默认比例增益系数的补偿值/＞可能为正数，也可能为负数。S7，将当前PID控制器的默认比例增益系数调整为优化比例增益系数，进而利用调整后的PID控制器对薄膜拉伸机的各个实时工艺参数进行控制。在本实施例中，将当前PID控制器的默认比例增益系数调整为优化比例增益系数后，利用调整后的PID控制器对薄膜拉伸机的各个实时工艺参数进行控制，具体步骤可以包括：将优化比例增益系数、积分时间和微分时间传输到可编程逻辑控制器芯片中，对薄膜拉伸机所有的托辊的伺服电机的功率进行控制，使各个托辊达到设定的速度，以提高PID控制器的控制精度，进一步增强薄膜的拉伸均匀度和产品质量。需要说明的是，对于功率和速度的变化关系，可以根据托辊的伺服电机的线速度以及功率，获取对应的映射关系，进而控制调节功率等设备参数，这里的设备参数也就是实时工艺参数。对于PID控制器，根据模糊规则库设计PID控制器时，依赖三个PID参数：比例增益系数、积分时间、微分时间。其中，比例增益是指控制器输出与误差之间的比例关系，控制器的输出与误差增大时也相应地增大。根据控制对象的稳态误差以及系统响应时间等指标，通过试验的方法，不断调整比例增益的大小，以达到最优的控制效果。但是以历史数据得到的比例增益，仍会受到预备工艺精度和拉伸工艺损失的影响，导致实际PID控制器的稳定性较差，故需要将当前PID控制器的默认比例增益系数调整为优化比例增益系数，再实现薄膜生产智能控制。本发明提供了一种基于模糊PID的薄膜生产智能控制方法，首先，通过分析历史生产数据，计算拉伸工艺前的各个工艺参数偏差与母膜厚度偏差的相关系数，结合实际拉伸工艺前的工艺参数，得到薄膜拉伸机PID控制器增益系数的加权补偿值，即默认比例增益系数的补偿值。然后，利用上采样的方式对母膜厚度矩阵进行插值，计算母膜上采样厚度矩阵与对应薄膜厚度矩阵的均方误差，得到拉伸工艺的损失值以及损失波动，即拉伸工艺损失程度。将默认比例增益系数的补偿值和拉伸工艺损失程度作为默认比例增益系数的矫正系数，当拉伸工艺存在较大损失波动时，将默认比例增益系数调小以约束控制器输出的变化率，降低设备参数的误差波动，提高控制精度。以上所述实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围，均应包含在本发明的保护范围之内。
