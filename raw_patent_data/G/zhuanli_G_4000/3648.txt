标题title
一种基于区块链的数据分析系统以及方法
摘要abst
本发明适用于数据处理技术领域，尤其涉及一种基于区块链的数据分析系统以及方法，所述方法包括：对各个路口的通行数据进行记录，得到历史通行数据；根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量；获取交通路口的位置信息，调取对应的交通控制地图，获取通行车辆数据；根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向。本发明构建车道通行基础向量，在控制可变车道时，直接根据实时数据生成车道同行实时向量，从而根据两组向量之间的相似性判定可变车道的通行方向，实现了根据路口的交通状况自动切换的目的，提高了通行效率。
权利要求书clms
1.一种基于区块链的数据分析方法，其特征在于，所述方法包括：对各个路口的通行数据进行记录，得到历史通行数据；根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链；获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据，所述交通控制地图中标记个车道以及各个车道的通行方向；根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向。2.根据权利要求1所述的基于区块链的数据分析方法，其特征在于，所述根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链的步骤，具体包括：以红绿灯切换时间为周期对历史通行数据进行分割，得到周期通行数据；根据周期通行数据计算各个车道内在一个周期内通过的车辆数量，计算得到各个车道的通行效率，生成生成车道通行基础向量；采集当前车道的车道信息，构建车道信息与生成车道通行基础向量之间的映射关系，将其公布于区块链中。3.根据权利要求1所述的基于区块链的数据分析方法，其特征在于，所述获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据的步骤，具体包括：获取交通路口的位置信息，调取对应的交通控制地图；根据交通控制地图进行通行方向查询，确定各个邻接路口与本交通路口接驳的车道；调取对应的监控视频，统计各个车道内的车辆数量，生成通行车辆数据。4.根据权利要求1所述的基于区块链的数据分析方法，其特征在于，所述根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向的步骤，具体包括：根据通行车辆数据生成车道通行实时向量，并收集实时路口信息；根据实时路口信息从区块链中调取对应的车道通行基础向量；计算车道通行实时向量与车道通行基础向量之间的向量夹角，将向量夹角与阈值进行比对，以确定可变车道的通行方向。5.根据权利要求1所述的基于区块链的数据分析方法，其特征在于，在一个路口中，可变车道每有一个通行方向，便对应有一个车道通行基础向量。6.根据权利要求1所述的基于区块链的数据分析方法，其特征在于，所述车道通行基础向量周期性更新。7.一种基于区块链的数据分析系统，其特征在于，所述系统包括：数据获取模块，用于对各个路口的通行数据进行记录，得到历史通行数据；基础向量生成模块，用于根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链；通行数据采集模块，用于获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据，所述交通控制地图中标记个车道以及各个车道的通行方向；通行方向控制模块，用于根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向。8.根据权利要求7所述的基于区块链的数据分析系统，其特征在于，所述基础向量生成模块包括：数据分割单元，用于以红绿灯切换时间为周期对历史通行数据进行分割，得到周期通行数据；通行效率计算单元，用于根据周期通行数据计算各个车道内在一个周期内通过的车辆数量，计算得到各个车道的通行效率，生成生成车道通行基础向量；数据存储单元，用于采集当前车道的车道信息，构建车道信息与生成车道通行基础向量之间的映射关系，将其公布于区块链中。9.根据权利要求7所述的基于区块链的数据分析系统，其特征在于，所述通行数据采集模块包括：地图调取单元，用于获取交通路口的位置信息，调取对应的交通控制地图；车道识别单元，用于根据交通控制地图进行通行方向查询，确定各个邻接路口与本交通路口接驳的车道；数据统计单元，用于调取对应的监控视频，统计各个车道内的车辆数量，生成通行车辆数据。10.根据权利要求7所述的基于区块链的数据分析系统，其特征在于，所述通行方向控制模块包括：路况信息收集单元，用于根据通行车辆数据生成车道通行实时向量，并收集实时路口信息；向量查询单元，用于根据实时路口信息从区块链中调取对应的车道通行基础向量；控制计算单元，用于计算车道通行实时向量与车道通行基础向量之间的向量夹角，将向量夹角与阈值进行比对，以确定可变车道的通行方向。
说明书desc
技术领域本发明属于数据处理技术领域，尤其涉及一种基于区块链的数据分析系统以及方法。背景技术区块链，就是一个又一个区块组成的链条，每一个区块中保存了一定的信息，它们按照各自产生的时间顺序连接成链条，这个链条被保存在所有的服务器中，只要整个系统中有一台服务器可以工作，整条区块链就是安全的。在当前的交通系统中，由于在不同时间内车辆的通行需求不同，因此为了方便车辆通过，很多路口设置了可变车道，可变车道的通行方向可以根据交警的控制进行切换，但是现有的可变车道的通行方向却无法根据实际车流量进行自主切换。发明内容本发明实施例的目的在于提供一种基于区块链的数据分析方法，旨在解决现有的可变车道的通行方向却无法根据实际车流量进行自主切换的问题。本发明实施例是这样实现的，一种基于区块链的数据分析方法，所述方法包括：对各个路口的通行数据进行记录，得到历史通行数据；根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链；获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据，所述交通控制地图中标记个车道以及各个车道的通行方向；根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向。优选的，所述根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链的步骤，具体包括：以红绿灯切换时间为周期对历史通行数据进行分割，得到周期通行数据；根据周期通行数据计算各个车道内在一个周期内通过的车辆数量，计算得到各个车道的通行效率，生成生成车道通行基础向量；采集当前车道的车道信息，构建车道信息与生成车道通行基础向量之间的映射关系，将其公布于区块链中。优选的，所述获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据的步骤，具体包括：获取交通路口的位置信息，调取对应的交通控制地图；根据交通控制地图进行通行方向查询，确定各个邻接路口与本交通路口接驳的车道；调取对应的监控视频，统计各个车道内的车辆数量，生成通行车辆数据。优选的，所述根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向的步骤，具体包括：根据通行车辆数据生成车道通行实时向量，并收集实时路口信息；根据实时路口信息从区块链中调取对应的车道通行基础向量；计算车道通行实时向量与车道通行基础向量之间的向量夹角，将向量夹角与阈值进行比对，以确定可变车道的通行方向。优选的，在一个路口中，可变车道每有一个通行方向，便对应有一个车道通行基础向量。优选的，所述车道通行基础向量周期性更新。本发明实施例的另一目的在于提供一种基于区块链的数据分析系统，所述系统包括：数据获取模块，用于对各个路口的通行数据进行记录，得到历史通行数据；基础向量生成模块，用于根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链；通行数据采集模块，用于获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据，所述交通控制地图中标记个车道以及各个车道的通行方向；通行方向控制模块，用于根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向。优选的，所述基础向量生成模块包括：数据分割单元，用于以红绿灯切换时间为周期对历史通行数据进行分割，得到周期通行数据；通行效率计算单元，用于根据周期通行数据计算各个车道内在一个周期内通过的车辆数量，计算得到各个车道的通行效率，生成生成车道通行基础向量；数据存储单元，用于采集当前车道的车道信息，构建车道信息与生成车道通行基础向量之间的映射关系，将其公布于区块链中。优选的，所述通行数据采集模块包括：地图调取单元，用于获取交通路口的位置信息，调取对应的交通控制地图；车道识别单元，用于根据交通控制地图进行通行方向查询，确定各个邻接路口与本交通路口接驳的车道；数据统计单元，用于调取对应的监控视频，统计各个车道内的车辆数量，生成通行车辆数据。优选的，所述通行方向控制模块包括：路况信息收集单元，用于根据通行车辆数据生成车道通行实时向量，并收集实时路口信息；向量查询单元，用于根据实时路口信息从区块链中调取对应的车道通行基础向量；控制计算单元，用于计算车道通行实时向量与车道通行基础向量之间的向量夹角，将向量夹角与阈值进行比对，以确定可变车道的通行方向。本发明实施例提供的一种基于区块链的数据分析方法，通过对路口的车流量进行统计，从而形成历史通行数据，根据历史通行数据确定各个车道的通行效率，构建车道通行基础向量，在控制可变车道时，直接根据实时数据生成车道同行实时向量，从而根据两组向量之间的相似性判定可变车道的通行方向，实现了根据路口的交通状况自动切换的目的，提高了通行效率。附图说明图1为本发明实施例提供的一种基于区块链的数据分析方法的流程图；图2为本发明实施例提供的根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链的步骤的流程图；图3为本发明实施例提供的获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据的步骤的流程图；图4为本发明实施例提供的根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向的步骤的流程图；图5为本发明实施例提供的一种基于区块链的数据分析系统的架构图；图6为本发明实施例提供的一种基础向量生成模块的架构图；图7为本发明实施例提供的一种通行数据采集模块的架构图；图8为本发明实施例提供的一种通行方向控制模块的架构图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。可以理解，本申请所使用的术语“第一”、“第二”等可在本文中用于描述各种元件，但除非特别说明，这些元件不受这些术语限制。这些术语仅用于将第一个元件与另一个元件区分。举例来说，在不脱离本申请的范围的情况下，可以将第一xx脚本称为第二xx脚本，且类似地，可将第二xx脚本称为第一xx脚本。如图1所示，为本发明实施例提供的一种基于区块链的数据分析方法的流程图，所述方法包括：S100，对各个路口的通行数据进行记录，得到历史通行数据。在本步骤中，对各个路口的通行数据进行记录，利用路口设置的监控设备进行车辆识别，通过识别车牌号来统计路口中各个车道的通行车辆的数量，并且同步统计与当前路口相邻的其他路口的车辆的数量，如当前路口为A路口，与当前路口相邻的路口有四个，分别位于东南西北四个方向上，为B路口，C路口，D路口和E路口，B路口，C路口，D路口和E路口中均存在直行车道、左转车道和右转车道能够抵达当前路口，对上述车道内的数量也进行统计，得到历史通行时数据。S200，根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链。在本步骤中，根据历史通行数据计算各个车道的通行效率，通行效率即为单位时间内通过车辆的数量，具体的，根据历史通行数据计算各个车道内单位时间通行的数量，可以以一个红绿灯周期为一个时间段，从而计算在一个红绿灯周期内各个车道内的车辆通行数量，如A路口中，a车道的通行效率为a1，b车道的通行效率为b1，以此类推，通过查询历史通行数据，判断该可变车道在不同时间内的通行方向以及车辆拥堵情况，确定可变车道在不同通行方向下的通行效率的最大值，确定通行效率的最大值对应的各个车道的通行效率，从而生成车道通行基础向量，车道通行基础向量中各个元素即为各个车道的通行效率，那么可变车道的每一个通行状态便对应了一个车道通行基础向量，收集车道信息，车道信息包括车道的位置，将上述信息公布于区块链中进行存储。S300，获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据，所述交通控制地图中标记个车道以及各个车道的通行方向。在本步骤中，获取交通路口的位置信息，在得到交通路口的位置之后，通过查询预设的地图，即可得到交通控制地图，在交通控制地图中标明了各个车道的位置、各个路口的位置以及各个车道的通行方向，根据当前路口的位置确定与本路口相邻接的路口，在该路口中设置的监控设备能够根据车辆的车牌号数据进行车辆统计，从而知晓相邻路口中各个车道内的车辆数量，并且通过本路口设置的监控装置对车辆的车牌号进行识别，从而确定当前路口内各车道内的车辆数量，以得到通行车辆数据。S400，根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向。在本步骤中，根据通行车辆数据生成车道通行实时向量，在通行车辆数据中已经记录了各个与本路口相关的车道内的车辆数量，以各个车道内的车辆数量为元素值，构建车道通行实时向量，并且保证车道通行实时向量中各元素对应的车道顺序与车道通行基础向量中各元素对应的车道顺序一致，进而计算车道通行实时向量与车道通行基础向量之间夹角，该夹角即用于表征车道通行实时向量与车道通行基础向量之间的相似性，两者之间的夹角越小，则说明二者相似性越高，当其大于预设值时，则当前可变车道采用该车道通行基础向量对应的通行方向，具体的，可以计算车道通行实时向量与所有车道通行基础向量之间的夹角，选择夹角值最小的一个车道通行基础向量对应的通行方向作为当前可变车道的通行方向即可。如图2所示，作为本发明的一个优选实施例，所述根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链的步骤，具体包括：S201，以红绿灯切换时间为周期对历史通行数据进行分割，得到周期通行数据。在本步骤中，以红绿灯切换时间为周期对历史通行数据进行分割，根据当前路口的位置，查询当前路口的交通信号灯的红绿灯切换周期，以该周期为限对历史通行数据进行分割，即可得到多组周期通行数据，为了保证数据的完整性，以红绿灯变化时为切割数据的起点时间。S202，根据周期通行数据计算各个车道内在一个周期内通过的车辆数量，计算得到各个车道的通行效率，生成车道通行基础向量。在本步骤中，根据周期通行数据计算各个车道内在一个周期内通过的车辆数量，具体的，根据每个周期的实际时间查询对应的监控数据，识别监控数据中该车道内的车辆的车牌号码，一个车牌号码即为一个车次，从而得到一个红绿灯周期内该车道内通过的车辆数据，即可计算得到各个车道的通行效率，以各个车道内单位时间通过的车辆数量为元素，构建车道通行基础向量，那么在可变车道处于不同的通行状态下，将会产生多个车道通行基础向量。S203，采集当前车道的车道信息，构建车道信息与生成车道通行基础向量之间的映射关系，将其公布于区块链中。在本步骤中，采集当前车道的车道信息，如与当前路口邻接的路口情况，邻接路口的车道情况，构建车道信息与生成车道通行基础向量之间的映射关系，两者之间一一对应，将其公布于区块链中。如图3所示，作为本发明的一个优选实施例，所述获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据的步骤，具体包括：S301，获取交通路口的位置信息，调取对应的交通控制地图。在本步骤中，获取交通路口的位置信息，根据交通路口的位置获取对应的交通控制地图，如以当前交通路口为中心，划分预设直径范围的圆形区域，截取对应圆形范围内的地图，得到交通控制地图。S302，根据交通控制地图进行通行方向查询，确定各个邻接路口与本交通路口接驳的车道。在本步骤中，根据交通控制地图进行通行方向查询，即识别所有与本交通路口相邻的邻接路口中能够直接驶入当前交通路口的车道，此时即可确定多个车道，上述车道中的车辆数量将会影响本交通路口中的车辆数量，其他车道内的车辆则不会进入到本交通路口当中。S303，调取对应的监控视频，统计各个车道内的车辆数量，生成通行车辆数据。在本步骤中，调取对应的监控视频，通过图像识别技术，可以直接根据视频识别得到视频中各个车道内的车辆的车牌号，通过统计车牌号就能够知晓各个车道内的车辆数量，以形成通行车辆数据。如图4所示，作为本发明的一个优选实施例，所述根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向的步骤，具体包括：S401，根据通行车辆数据生成车道通行实时向量，并收集实时路口信息。在本步骤中，根据通行车辆数据生成车道通行实时向量，根据当前路口的位置，同样的，查询与当前车道具有通行关系的车道，即能够直接进入到本交通路口的车道，统计上述车道内的车辆数量，以各个车道内的车辆数量为元素，构建车道通行实时向量，并收集实时路口信息。S402，根据实时路口信息从区块链中调取对应的车道通行基础向量。在本步骤中，根据实时路口信息从区块链中调取对应的车道通行基础向量，实时路口信息即为当前路口的车道划分数据以及相邻的车道划分情况，以此作为检索条件，从区块链中下载与之匹配的车道通行基础向量。S403，计算车道通行实时向量与车道通行基础向量之间的向量夹角，将向量夹角与阈值进行比对，以确定可变车道的通行方向。在本步骤中，计算车道通行实时向量与车道通行基础向量之间的向量夹角，具体的，调取本交通路口可用的所有车道通行基础向量，从而得到多个向量夹角，选择向量夹角最小的一组车道通行基础向量，确定可变车道的通行方向。如图5所示，为本发明实施例提供的一种基于区块链的数据分析系统，所述系统包括：数据获取模块100，用于对各个路口的通行数据进行记录，得到历史通行数据。在本系统中，数据获取模块100对各个路口的通行数据进行记录，利用路口设置的监控设备进行车辆识别，通过识别车牌号来统计路口中各个车道的通行车辆的数量，并且同步统计与当前路口相邻的其他路口的车辆的数量，如当前路口为A路口，与当前路口相邻的路口有四个，分别位于东南西北四个方向上，为B路口，C路口，D路口和E路口，B路口，C路口，D路口和E路口中均存在直行车道、左转车道和右转车道能够抵达当前路口，对上述车道内的数量也进行统计，得到历史通行时数据。基础向量生成模块200，用于根据历史通行数据计算各个车道的通行效率，生成车道通行基础向量，将车道通行基础向量以及当前车道信息公布于区块链。在本系统中，基础向量生成模块200根据历史通行数据计算各个车道的通行效率，通行效率即为单位时间内通过车辆的数量，具体的，根据历史通行数据计算各个车道内单位时间通行的数量，可以以一个红绿灯周期为一个时间段，从而计算在一个红绿灯周期内各个车道内的车辆通行数量，如A路口中，a车道的通行效率为a1，b车道的通行效率为b1，以此类推，通过查询历史通行数据，判断该可变车道在不同时间内的通行方向以及车辆拥堵情况，确定可变车道在不同通行方向下的通行效率的最大值，确定通行效率的最大值对应的各个车道的通行效率，从而生成车道通行基础向量，车道通行基础向量中各个元素即为各个车道的通行效率，那么可变车道的每一个通行状态便对应了一个车道通行基础向量，收集车道信息，车道信息包括车道的位置，将上述信息公布于区块链中进行存储。通行数据采集模块300，用于获取交通路口的位置信息，调取对应的交通控制地图，从与本交通路口相邻的邻接路口获取对应的通行车辆数据，所述交通控制地图中标记个车道以及各个车道的通行方向。在本系统中，通行数据采集模块300获取交通路口的位置信息，在得到交通路口的位置之后，通过查询预设的地图，即可得到交通控制地图，在交通控制地图中标明了各个车道的位置、各个路口的位置以及各个车道的通行方向，根据当前路口的位置确定与本路口相邻接的路口，在该路口中设置的监控设备能够根据车辆的车牌号数据进行车辆统计，从而知晓相邻路口中各个车道内的车辆数量，并且通过本路口设置的监控装置对车辆的车牌号进行识别，从而确定当前路口内各车道内的车辆数量，以得到通行车辆数据。通行方向控制模块400，用于根据通行车辆数据生成车道通行实时向量，计算车道通行实时向量与车道通行基础向量的相似度，根据相似度确定可变车道的通行方向。在本系统中，通行方向控制模块400根据通行车辆数据生成车道通行实时向量，在通行车辆数据中已经记录了各个与本路口相关的车道内的车辆数量，以各个车道内的车辆数量为元素值，构建车道通行实时向量，并且保证车道通行实时向量中各元素对应的车道顺序与车道通行基础向量中各元素对应的车道顺序一致，进而计算车道通行实时向量与车道通行基础向量之间夹角，该夹角即用于表征车道通行实时向量与车道通行基础向量之间的相似性，两者之间的夹角越小，则说明二者相似性越高，当其大于预设值时，则当前可变车道采用该车道通行基础向量对应的通行方向，具体的，可以计算车道通行实时向量与所有车道通行基础向量之间的夹角，选择夹角值最小的一个车道通行基础向量对应的通行方向作为当前可变车道的通行方向即可。如图6所示，作为本发明的一个优选实施例，所述基础向量生成模块200包括：数据分割单元201，用于以红绿灯切换时间为周期对历史通行数据进行分割，得到周期通行数据。在本模块中，数据分割单元201以红绿灯切换时间为周期对历史通行数据进行分割，根据当前路口的位置，查询当前路口的交通信号灯的红绿灯切换周期，以该周期为限对历史通行数据进行分割，即可得到多组周期通行数据，为了保证数据的完整性，以红绿灯变化时为切割数据的起点时间。通行效率计算单元202，用于根据周期通行数据计算各个车道内在一个周期内通过的车辆数量，计算得到各个车道的通行效率，生成生成车道通行基础向量。在本模块中，通行效率计算单元202根据周期通行数据计算各个车道内在一个周期内通过的车辆数量，具体的，根据每个周期的实际时间查询对应的监控数据，识别监控数据中该车道内的车辆的车牌号码，一个车牌号码即为一个车次，从而得到一个红绿灯周期内该车道内通过的车辆数据，即可计算得到各个车道的通行效率，以各个车道内单位时间通过的车辆数量为元素，构建车道通行基础向量，那么在可变车道处于不同的通行状态下，将会产生多个车道通行基础向量。数据存储单元203，用于采集当前车道的车道信息，构建车道信息与生成车道通行基础向量之间的映射关系，将其公布于区块链中。在本模块中，数据存储单元203采集当前车道的车道信息，如与当前路口邻接的路口情况，邻接路口的车道情况，构建车道信息与生成车道通行基础向量之间的映射关系，两者之间一一对应，将其公布于区块链中。如图7所示，作为本发明的一个优选实施例，所述通行数据采集模块300包括：地图调取单元301，用于获取交通路口的位置信息，调取对应的交通控制地图。在本模块中，地图调取单元301获取交通路口的位置信息，根据交通路口的位置获取对应的交通控制地图，如以当前交通路口为中心，划分预设直径范围的圆形区域，截取对应圆形范围内的地图，得到交通控制地图。车道识别单元302，用于根据交通控制地图进行通行方向查询，确定各个邻接路口与本交通路口接驳的车道。在本模块中，车道识别单元302根据交通控制地图进行通行方向查询，即识别所有与本交通路口相邻的邻接路口中能够直接驶入当前交通路口的车道，此时即可确定多个车道，上述车道中的车辆数量将会影响本交通路口中的车辆数量，其他车道内的车辆则不会进入到本交通路口当中。数据统计单元303，用于调取对应的监控视频，统计各个车道内的车辆数量，生成通行车辆数据。在本模块中，数据统计单元303调取对应的监控视频，通过图像识别技术，可以直接根据视频识别得到视频中各个车道内的车辆的车牌号，通过统计车牌号就能够知晓各个车道内的车辆数量，以形成通行车辆数据。如图8所示，作为本发明的一个优选实施例，所述通行方向控制模块400包括：路况信息收集单元401，用于根据通行车辆数据生成车道通行实时向量，并收集实时路口信息。在本模块中，路况信息收集单元401根据通行车辆数据生成车道通行实时向量，根据当前路口的位置，同样的，查询与当前车道具有通行关系的车道，即能够直接进入到本交通路口的车道，统计上述车道内的车辆数量，以各个车道内的车辆数量为元素，构建车道通行实时向量，并收集实时路口信息。向量查询单元402，用于根据实时路口信息从区块链中调取对应的车道通行基础向量。在本模块中，向量查询单元402根据实时路口信息从区块链中调取对应的车道通行基础向量，实时路口信息即为当前路口的车道划分数据以及相邻的车道划分情况，以此作为检索条件，从区块链中下载与之匹配的车道通行基础向量。控制计算单元403，用于计算车道通行实时向量与车道通行基础向量之间的向量夹角，将向量夹角与阈值进行比对，以确定可变车道的通行方向。在本模块中，控制计算单元403计算车道通行实时向量与车道通行基础向量之间的向量夹角，具体的，调取本交通路口可用的所有车道通行基础向量，从而得到多个向量夹角，选择向量夹角最小的一组车道通行基础向量，确定可变车道的通行方向。应该理解的是，虽然本发明各实施例的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，各实施例中的至少一部分步骤可以包括多个子步骤或者多个阶段，这些子步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些子步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤的子步骤或者阶段的至少一部分轮流或者交替地执行。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一非易失性计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。以上所述实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本发明的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干变形和改进，这些都属于本发明的保护范围。因此，本发明专利的保护范围应以所附权利要求为准。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
