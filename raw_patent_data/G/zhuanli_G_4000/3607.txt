标题title
求图像中最大连通域的方法及装置
摘要abst
本申请涉及一种求图像中最大连通域的方法及装置，其中所述方法通过线扫描的方式按照预设方向对图像的每一行进行扫描，建立当前扫描线中线段所属连通域和上一行扫描线中与当前扫描线线段邻接的线段所属连通域之间的绑定关系，全部扫描完成后计算出最大的具有绑定关系的连通域的面积作为图像的最大连通域。根据本申请提供的方案，能够实现在多个连通域并存的情况下通过一次扫描完成整个图像像素的访问，并求出图像的最大连通域，具有内存占用少、运行速度快的优点。
权利要求书clms
1.一种求图像中最大连通域的方法，包括：步骤S101，按照预设的扫描方向对图像的行进行扫描，生成当前扫描线；步骤S102，确定当前扫描线上是否存在连续的目标格式像素点；步骤S103，在当前扫描线存在连续的目标格式像素点的情况下，将所述连续的目标格式像素点作为第一线段；步骤S104，在当前扫描线不是所述图像第一个扫描线的情况下，判断所述第一线段在上一条扫描线是否存在邻接的第二线段；步骤S105，在所述第一线段在上一条扫描线不存在邻接的所述第二线段的情况下，生成新的连通域作为所述第一线段所属的连通域，并将新生成的连通域加入到连通域集合，将图像的下一行作为当前扫描线，返回步骤S102；步骤S106，在所述第一线段在上一条扫描线存在一个或多个邻接的第二线段的情况下，建立所述第一线段所属连通域和所述一个或多个邻接的第二线段分别所属的连通域之间的绑定关系，将图像的下一行作为当前扫描线，返回步骤S102；步骤S107，在所述当前扫描线为所述图像的最后一个扫描线的情况下，分别计算所述连通域集合中具有绑定关系的连通域的总面积，将最大总面积对应的具有绑定关系的连通域确定为所述图像的最大连通域。2.如权利要求1所述的方法，其特征在于，所述建立所述第一线段所属连通域和所述一个或多个邻接的第二线段中的每一个对应的连通域之间的绑定关系包括：将所述第一线段所属的连通域确定为从所述一个或多个第二线段中选定的一个第二线段所属的连通域，并将所选定的第二线段所属的连通域作为根连通域；在存在多个邻接的第二线段的情况下，将所述多个第二线段中的其他第二线段所属连通域作为与所述根连通域对应的子连通域。3.如权利要求2所述的方法，其特征在于，所述分别计算所述连通域集合中具有绑定关系的连通域的总面积包括：分别求解所述连通域合集中所有的根连通域及其子连通域的面积。4.如权利要求1所述的方法，其特征在于，所述建立所述第一线段所属连通域和所述多个邻接的第二线段中的每一个对应的连通域之间的绑定关系包括：对所述第一线段所属连通域和所有所述多个邻接的第二线段中的每一个第二线段对应的连通域标记相同标识。5.如权利要求4所述的方法，其特征在于，所述分别计算所述连通域集合中具有绑定关系的连通域的总面积包括：将具有相同标识的所有连通域的面积相加。6.如权利要求1所述的方法，其特征在于，所述建立所述第一线段所属连通域和所述多个邻接的第二线段中的每一个对应的连通域之间的绑定关系包括：在所述第一线段在上一条扫描线存在一条邻接的第二线段的情况下，将所述第一线段所属的连通域确定为所述第二线段所属的连通域。7.如权利要求1所述的方法，其特征在于，所述方法还包括：当前扫描线中每段连续的目标格式像素点构成的第一线段生成当前扫描线的线段集合。8.如权利要求7所述的方法，其特征在于，所述判断所述第一线段在上一条扫描线是否存在邻接的第二线段包括：响应于上一条扫描线上存在与所述第一线段上在预设的扫描方向相垂直的方向上坐标相同的目标格式像素点，确定所述第一线段在上一条扫描线存在邻接的第二线段。9.一种抠图方法，包括：将图像中的目标物和非目标物的像素点格式进行处理，生成目标格式像素点及非目标格式像素点；根据如权利要求1-8任一者所述的方法生成所述目标格式像素点构成的最大连通域；保留所述目标格式像素点构成的最大连通域，将图像中的其他像素点设置为预设的过滤格式。10.一种求图像中最大连通域的装置，包括初始扫描模块、线段判断模块、线段生成模块、邻接判断模块、连通域生成模块、绑定关系模块和面积计算模块，其中：所述初始扫描模块用于按照预设的扫描方向对图像的行进行扫描，生成当前扫描线；所述线段判断模块用于确定当前扫描线上是否存在连续的目标格式像素点；所述线段生成模块用于在当前扫描线存在连续的目标格式像素点的情况下，将所述连续的目标格式像素点作为第一线段；所述邻接判断模块用于在当前扫描线不是所述图像第一个扫描线的情况下，判断所述第一线段在上一条扫描线是否存在邻接的第二线段；所述连通域生成模块用于在所述第一线段在上一条扫描线不存在邻接的所述第二线段的情况下，生成新的连通域作为所述第一线段所属的连通域，并将新生成的连通域加入到连通域集合，将图像的下一行作为当前扫描线，重新确定当前扫描线上是否存在连续的目标格式像素点；所述绑定关系模块用于在所述第一线段在上一条扫描线存在一个或多个邻接的第二线段的情况下，建立所述第一线段所属连通域和所述一个或多个邻接的第二线段分别所属的连通域之间的绑定关系，将图像的下一行作为当前扫描线，重新确定当前扫描线上是否存在连续的目标格式像素点；所述面积计算模块用于在所述当前扫描线为所述图像的最后一个扫描线的情况下，分别计算所述连通域集合中具有绑定关系的连通域的总面积，将最大总面积对应的具有绑定关系的连通域确定为所述图像的最大连通域。11.一种电子设备，包括：处理器；存储器，存储有计算机程序，当所述计算机程序被所述处理器执行时，使得所述处理器执行如权利要求1-9中任一项所述的方法。12.一种非瞬时性计算机可读存储介质，其上存储有计算机可读指令，当所述指令被处理器执行时，使得所述处理器执行如权利要求1-9中任一项所述的方法。
说明书desc
技术领域本申请涉及图像检测编辑领域，特别是涉及一种求图像中最大连通域的方法及装置。背景技术自然抠图是对背景不加限制的条件下利用神经网络进行图像检测的算法，已经广泛应用于视频会议中。在视频会议场景下，需要保留图像中占比最大的部分，例如在单人视频会议时有人闯入，此时我们只希望留下主要人物，将其他不必要的部分从图像画面中删除。这种保留主要人物的需求可以归结为求最大连通域问题。目前已有的求图像中最大连通域的方法利用不规则图形的填充算法寻找各个连通域，最常见的包括4连通域点扩散法和传统线扫描算法。目前已有的方法存在以下问题：都基于递归程序结构，在推进当中存在栈过深的风险；只负责寻找一个连通域，因为算法的初衷就是填充。故此对于一张有多个连通域的图，必须反复执行算法直到全部找完为止；需要额外的一幅图像大小的内存空间以存放已经访问过的轨迹。发明内容针对现有技术中的问题，需要一种在多个连通域并存的情况下能通过一次扫描完成全图像素的访问，并得出图像最大连通域的方法。本申请提供了一种求图像中最大连通域的方法及装置，本申请提出的方法通过线扫描的方式按照预设方向对图像的每一行进行扫描，建立当前扫描线中线段所属连通域和上一行扫描线中与当前扫描线线段邻接的线段所属连通域之间的绑定关系，全部扫描完成后计算出最大的具有绑定关系的连通域的面积作为图像的最大连通域。根据本申请的第一个方面，提出一种求图像中最大连通域的方法，包括：步骤S101，按照预设的扫描方向对图像的行进行扫描，生成当前扫描线；步骤S102，确定当前扫描线上是否存在连续的目标格式像素点；步骤S103，在当前扫描线存在连续的目标格式像素点的情况下，将所述连续的目标格式像素点作为第一线段；步骤S104，在当前扫描线不是所述图像第一个扫描线的情况下，判断所述第一线段在上一条扫描线是否存在邻接的第二线段；步骤S105，在所述第一线段在上一条扫描线不存在邻接的所述第二线段的情况下，生成新的连通域作为所述第一线段所属的连通域，并将新生成的连通域加入到连通域集合，将图像的下一行作为当前扫描线，返回步骤S102；步骤S106，在所述第一线段在上一条扫描线存在一个或多个邻接的第二线段的情况下，建立所述第一线段所属连通域和所述一个或多个邻接的第二线段分别所属的连通域之间的绑定关系，将图像的下一行作为当前扫描线，返回步骤S102；步骤S107，在所述当前扫描线为所述图像的最后一个扫描线的情况下，分别计算所述连通域集合中具有绑定关系的连通域的总面积，将最大总面积对应的具有绑定关系的连通域确定为所述图像的最大连通域。根据一些实施例，所述建立所述第一线段所属连通域和所述一个或多个邻接的第二线段中的每一个对应的连通域之间的绑定关系包括：将所述第一线段所属的连通域确定为从所述一个或多个第二线段中选定的一个第二线段所属的连通域，并将所选定的第二线段所属的连通域作为根连通域；在存在多个邻接的第二线段的情况下，将所述多个第二线段中的其他第二线段所属连通域作为与所述根连通域对应的子连通域。根据一些实施例，所述分别计算所述连通域集合中具有绑定关系的连通域的总面积包括：分别求解所述连通域合集中所有的根连通域及其子连通域的面积。根据一些实施例，所述建立所述第一线段所属连通域和所述多个邻接的第二线段中的每一个对应的连通域之间的绑定关系包括：对所述第一线段所属连通域和所有所述多个邻接的第二线段中的每一个第二线段对应的连通域标记相同标识。根据一些实施例，所述分别计算所述连通域集合中具有绑定关系的连通域的总面积包括：将具有相同标识的所有连通域的面积相加。根据一些实施例，所述建立所述第一线段所属连通域和所述多个邻接的第二线段中的每一个对应的连通域之间的绑定关系包括：在所述第一线段在上一条扫描线存在一条邻接的第二线段的情况下，将所述第一线段所属的连通域确定为所述第二线段所属的连通域。根据一些实施例，所述方法还包括：当前扫描线中每段连续的目标格式像素点构成的第一线段生成当前扫描线的线段集合。根据一些实施例，所述判断所述第一线段在上一条扫描线是否存在邻接的第二线段包括：上一条扫描线上存在与所述第一线段上在预设的扫描方向相垂直的方向上坐标相同的目标格式像素点，确定所述第一线段在上一条扫描线存在邻接的第二线段。根据本申请的第二个方面，提出一种抠图方法，包括：将图像中的目标物和非目标物的像素点格式进行处理，生成目标格式像素点及非目标格式像素点；根据如本申请第一个方面所述的方法生成所述目标格式像素点构成的最大连通域；保留所述目标格式像素点构成的最大连通域，将图像中的其他像素点设置为预设的过滤格式。根据本申请的第三个方面，提出一种求图像中最大连通域的装置，包括初始扫描模块、线段判断模块、线段生成模块、邻接判断模块、连通域生成模块、绑定关系模块和面积计算模块，其中：所述初始扫描模块用于按照预设的扫描方向对图像的行进行扫描，生成当前扫描线；所述线段判断模块用于确定当前扫描线上是否存在连续的目标格式像素点；所述线段生成模块用于在当前扫描线存在连续的目标格式像素点的情况下，将所述连续的目标格式像素点作为第一线段；所述邻接判断模块用于在当前扫描线不是所述图像第一个扫描线的情况下，判断所述第一线段在上一条扫描线是否存在邻接的第二线段；所述连通域生成模块用于在所述第一线段在上一条扫描线不存在邻接的所述第二线段的情况下，生成新的连通域作为所述第一线段所属的连通域，并将新生成的连通域加入到连通域集合，将图像的下一行作为当前扫描线，重新确定当前扫描线上是否存在连续的目标格式像素点；所述绑定关系模块用于在所述第一线段在上一条扫描线存在一个或多个邻接的第二线段的情况下，建立所述第一线段所属连通域和所述一个或多个邻接的第二线段分别所属的连通域之间的绑定关系，将图像的下一行作为当前扫描线，重新确定当前扫描线上是否存在连续的目标格式像素点；所述面积计算模块用于在所述当前扫描线为所述图像的最后一个扫描线的情况下，分别计算所述连通域集合中具有绑定关系的连通域的总面积，将最大总面积对应的具有绑定关系的连通域确定为所述图像的最大连通域。根据本申请的第四个方面，提出一种电子设备，包括：处理器；存储器，存储有计算机程序，当所述计算机程序被所述处理器执行时，使得所述处理器执行如本申请第一个方面所述的方法。根据本申请的第五个方面，提出一种非瞬时性计算机可读存储介质，其上存储有计算机可读指令，当所述指令被处理器执行时，使得所述处理器执行如本申请第一个方面所述的方法。本申请提供的一种求图像中最大连通域的方法及装置，通过线扫描的方式按照预设方向对图像的每一行进行扫描，建立当前扫描线中线段所属连通域和上一行扫描线中与当前扫描线线段邻接的线段所属连通域之间的绑定关系，全部扫描完成后计算出最大的具有绑定关系的连通域的面积作为图像的最大连通域。本申请提供的方案，能够实现在多个连通域并存的情况下通过一次扫描完成整个图像像素的访问，并求出图像的最大连通域，具有内存占用少、运行速度快的优点。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，还可以根据这些附图获得其他的附图，而并不超出本申请要求保护的范围。图1为本申请的求图像中最大连通域的方法的流程图；图2为本申请的抠图方法的流程图；图3为本申请的求图像中最大连通域的装置的示意图；图4为本申请的求图像中最大连通域的方法中求解一个连通域面积的实施例的示意图；图5为本申请提供的一种电子设备的结构图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。图1为本申请的求图像中最大连通域的方法的流程图。如图1所示，该方法包括如下步骤。步骤S101，按照预设的扫描方向对图像的行进行扫描，生成当前扫描线。步骤S102，确定当前扫描线上是否存在连续的目标格式像素点。步骤S103，在当前扫描线存在连续的目标格式像素点的情况下，将所述连续的目标格式像素点作为第一线段。在一些具体实施例中，预设的扫描方向为水平方向。在一些具体实施例中，按照预设的扫描方向对整个图像的所有行像素进行扫描。在一些具体实施例中，扫描中生成当前扫描线。在一些具体实施例中，图像包括目标格式像素点和非目标格式像素点。在一些具体实施例中，目标物为人物。在一些具体实施例中，对图像内容进行识别，将和人物相关的像素点作为目标格式像素点，将和人物无关的像素点作为非目标格式像素点。在一些具体实施例中，将目标格式像素点设置为白色像素点，非目标格式像素点设置为黑色像素点。在一些具体实施例中，当前扫描线上存在连续的目标格式像素点，将连续的目标格式像素点作为第一线段。在一些具体实施例中，当前扫描线上存在多个第一线段。在一些具体实施例中，将当前扫描线上存在的多个第一线段生成当前扫描线的线段集合。步骤S104，在当前扫描线不是所述图像第一个扫描线的情况下，判断所述第一线段在上一条扫描线是否存在邻接的第二线段。在一些具体实施例中，当前扫描线是图像的第一个扫描线，将图像的下一行作为当前扫描线，返回步骤S102。在一些具体实施例中，当前扫描线不是图像的第一个扫描线，判断当前扫描线上的每个第一线段在上一条扫描线上是否存在邻接的第二线段。在一些具体实施例中，上一条扫描线上存在与第一线段上在预设的扫描方向相垂直的方向上坐标相同的目标格式像素点，第一线段在上一条扫描线存在邻接的第二线段。在一些具体实施例中，上一条扫描线中在预设的扫描方向相垂直的方向上坐标相同的目标格式像素点所属的线段为第二线段。步骤S105，在所述第一线段在上一条扫描线不存在邻接的所述第二线段的情况下，生成新的连通域作为所述第一线段所属的连通域，并将新生成的连通域加入到连通域集合，将图像的下一行作为当前扫描线，返回步骤S102。在一些具体实施例中，第一线段在上一条扫描线不存在邻接的第二线段，生成新的连通域作为第一线段所属的连通域。在一些具体实施例中，将新生成的连通域加入到连通域集合。在一些具体实施例中，将图像的下一行作为当前扫描线，返回步骤S102。步骤S106，在所述第一线段在上一条扫描线存在一个或多个邻接的第二线段的情况下，建立所述第一线段所属连通域和所述一个或多个邻接的第二线段分别所属的连通域之间的绑定关系，将图像的下一行作为当前扫描线，返回步骤S102。在一些具体实施例中，第一线段在上一条扫描线上存在一个邻接的第二线段，将第一线段所属的连通域确定为第二线段所属的连通域。在一些具体实施例中，第一线段在上一条扫描线上存在多个邻接的第二线段，将第一线段所属的连通域确定为从多个第二线段中选定的一个第二线段所属的连通域，并将所选定的第二线段所属的连通域作为根连通域。在一些具体实施例中，存在多个邻接的第二线段，将多个第二线段中的不是所选定的其他第二线段所属连通域作为与根连通域对应的子连通域。在一些具体实施例中，第一线段在上一条扫描线上存在多个邻接的第二线段，对第一线段所属连通域和多个邻接的第二线段中的每一个第二线段对应的连通域标记相同标识。步骤S107，在所述当前扫描线为所述图像的最后一个扫描线的情况下，分别计算所述连通域集合中具有绑定关系的连通域的总面积，将最大总面积对应的具有绑定关系的连通域确定为所述图像的最大连通域。在一些具体实施例中，第一线段在上一条扫描线上存在一个邻接的第二线段，分别求解所述连通域合集中所有的根连通域及其子连通域的面积，将面积最大的根连通域及其子连通域作为图像的最大连通域。在一些具体实施例中，第一线段在上一条扫描线上存在一个邻接的第二线段，将具有相同标识的所有连通域的面积相加，面积最大的具有相同标识的连通域集合作为图像的最大连通域。本申请提供的一种求图像中最大连通域的方法及装置，通过线扫描的方式按照预设方向对图像的每一行进行扫描，建立当前扫描线中线段所属连通域和上一行扫描线中与当前扫描线线段邻接的线段所属连通域之间的绑定关系，全部扫描完成后计算出最大的具有绑定关系的连通域的面积作为图像的最大连通域。本申请提供的方案，能够实现在多个连通域并存的情况下通过一次扫描完成整个图像像素的访问，并求出图像的最大连通域，具有内存占有少、运行速度快的优点。图2为本申请的抠图方法的流程图。如图2所示，该方法包括如下步骤。步骤S201，将图像中的目标物和非目标物的像素点格式进行处理，生成目标格式像素点及非目标格式像素点。在一些具体实施例中，图像包括目标格式像素点和非目标格式像素点。在一些具体实施例中，目标物为人物。在一些具体实施例中，对图像内容进行识别，将和人物相关的像素点作为目标格式像素点，将和人物无关的像素点作为非目标格式像素点。在一些具体实施例中，将目标格式像素点设置为白色像素点，非目标格式像素点设置为黑色像素点。步骤S202，根据如图1所述的方法生成所述目标格式像素点构成的最大连通域。步骤S203，保留所述目标格式像素点构成的最大连通域，将图像中的其他像素点设置为预设的过滤格式。在一些具体实施例中，扫描图像，生成目标格式像素点构成的最大连通域。在一些具体实施例中，保留最大连通域的像素，将图像中的其他像素点设置为预设的过滤格式。在一些具体实施例中，预设的过滤格式为将像素点值置为0。图3为本申请的求图像中最大连通域的装置的示意图。如图3所示，求图像中最大连通域的装置包括初始扫描模块、线段判断模块、线段生成模块、邻接判断模块、连通域生成模块、绑定关系模块和面积计算模块。所述初始扫描模块用于按照预设的扫描方向对图像的行进行扫描，生成当前扫描线。所述线段判断模块用于确定当前扫描线上是否存在连续的目标格式像素点。所述线段生成模块用于在当前扫描线存在连续的目标格式像素点的情况下，将所述连续的目标格式像素点作为第一线段。在一些具体实施例中，预设的扫描方向为水平方向。在一些具体实施例中，按照预设的扫描方向对整个图像的所有行像素进行扫描。在一些具体实施例中，扫描中生成当前扫描线。在一些具体实施例中，图像包括目标格式像素点和非目标格式像素点。在一些具体实施例中，目标物为人物。在一些具体实施例中，对图像内容进行识别，将和人物相关的像素点作为目标格式像素点，将和人物无关的像素点作为非目标格式像素点。在一些具体实施例中，将目标格式像素点设置为白色像素点，非目标格式像素点设置为黑色像素点。在一些具体实施例中，当前扫描线上存在连续的目标格式像素点，将连续的目标格式像素点作为第一线段。在一些具体实施例中，当前扫描线上存在多个第一线段。在一些具体实施例中，将当前扫描线上存在的多个第一线段生成当前扫描线的线段集合。所述邻接判断模块用于在当前扫描线不是所述图像第一个扫描线的情况下，判断所述第一线段在上一条扫描线是否存在邻接的第二线段。在一些具体实施例中，当前扫描线是图像的第一个扫描线，将图像的下一行作为当前扫描线，重新确定当前扫描线上是否存在连续的目标格式像素点。在一些具体实施例中，当前扫描线不是图像的第一个扫描线，判断当前扫描线上的每个第一线段在上一条扫描线上是否存在邻接的第二线段。在一些具体实施例中，上一条扫描线上存在与第一线段上在预设的扫描方向相垂直的方向上坐标相同的目标格式像素点，第一线段在上一条扫描线存在邻接的第二线段。在一些具体实施例中，上一条扫描线中在预设的扫描方向相垂直的方向上坐标相同的目标格式像素点所属的线段为第二线段。所述连通域生成模块用于在所述第一线段在上一条扫描线不存在邻接的所述第二线段的情况下，生成新的连通域作为所述第一线段所属的连通域，并将新生成的连通域加入到连通域集合，将图像的下一行作为当前扫描线，重新确定当前扫描线上是否存在连续的目标格式像素点。在一些具体实施例中，第一线段在上一条扫描线不存在邻接的第二线段，生成新的连通域作为第一线段所属的连通域。在一些具体实施例中，将新生成的连通域加入到连通域集合。在一些具体实施例中，将图像的下一行作为当前扫描线，重新确定当前扫描线上是否存在连续的目标格式像素点。所述绑定关系模块用于在所述第一线段在上一条扫描线存在一个或多个邻接的第二线段的情况下，建立所述第一线段所属连通域和所述一个或多个邻接的第二线段分别所属的连通域之间的绑定关系，将图像的下一行作为当前扫描线，重新确定当前扫描线上是否存在连续的目标格式像素点。在一些具体实施例中，第一线段在上一条扫描线上存在一个邻接的第二线段，将第一线段所属的连通域确定为第二线段所属的连通域。在一些具体实施例中，第一线段在上一条扫描线上存在多个邻接的第二线段，将第一线段所属的连通域确定为从多个第二线段中选定的一个第二线段所属的连通域，并将所选定的第二线段所属的连通域作为根连通域。在一些具体实施例中，存在多个邻接的第二线段，将多个第二线段中的不是所选定的其他第二线段所属连通域作为与根连通域对应的子连通域。在一些具体实施例中，第一线段在上一条扫描线上存在多个邻接的第二线段，对第一线段所属连通域和多个邻接的第二线段中的每一个第二线段对应的连通域标记相同标识。所述面积计算模块用于在所述当前扫描线为所述图像的最后一个扫描线的情况下，分别计算所述连通域集合中具有绑定关系的连通域的总面积，将最大总面积对应的具有绑定关系的连通域确定为所述图像的最大连通域。在一些具体实施例中，第一线段在上一条扫描线上存在一个邻接的第二线段，分别求解所述连通域合集中所有的根连通域及其子连通域的面积，将面积最大的根连通域及其子连通域作为图像的最大连通域。在一些具体实施例中，第一线段在上一条扫描线上存在一个邻接的第二线段，将具有相同标识的所有连通域的面积相加，面积最大的具有相同标识的连通域集合作为图像的最大连通域。图4为本申请的求图像中最大连通域的方法中求解一个连通域面积的实施例的示意图。参见图4，在一些具体实施例中，当前扫描线为扫描线1，扫描线1上具有连续的预设格式的像素点的线段包括线段1、线段2。其中，线段1在扫描线1的上一行扫描线，在与扫描方向垂直的方向同坐标处不是预设格式的像素点，因此将线段1生成其所属的新的连通域3。线段2在上一行扫描线，在与扫描方向垂直的方向同坐标处存在预设格式的像素点。上一行扫描线中第一条连续的预设格式像素点属于线段3，线段3所属连通域为连通域1，因此将线段2所属连通域确定为连通域1。在一些具体实施例中，线段2与属于连通域2的线段4也是邻接关系，因此将连通域1和连通域2设置相同的标识为连通域集合1。同理在扫描线2上，线段7所属连通域确定为连通域3，线段7和线段6具有邻接关系，因此将连通域3设置和连通域1相同的标识为连通域集合1。扫描完成后计算具有连通域集合1标识的所有连通域的面积，即为当前所求的连通域面积。在一些具体实施例中，线段2与线段3和线段4都是邻接关系，因此将线段3和线段2所属的连通域1确定为根连通域，线段4所属的连通域2确定为与根连通域相对应的子连通域。同理，将线段5和线段7所属的连通域3确定为根连通域，将线段6所属的连通域1确定为子连通域。因此，可以得到连通域3为连通域1的根连通域，连通域1为连通域2的根连通域。计算最顶层的根连通域即连通域3及其所有子连通域的面积，即为当前所求的连通域面积。参阅图5，图5提供一种电子设备，包括处理器以及存储器。存储器存储有计算机指令，当计算机指令被处理器执行时，使得处理器执行所述计算机指令从而实现如图1或图2所示的方法以及细化方案。应该理解，上述的装置实施例仅是示意性的，本发明披露的装置还可通过其它的方式实现。例如，上述实施例中所述单元/模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。例如，多个单元、模块或组件可以结合，或者可以集成到另一个系统，或一些特征可以忽略或不执行。另外，若无特别说明，在本发明各个实施例中的各功能单元/模块可以集成在一个单元/模块中，也可以是各个单元/模块单独物理存在，也可以两个以上单元/模块集成在一起。上述集成的单元/模块既可以采用硬件的形式实现，也可以采用软件程序模块的形式实现。所述集成的单元/模块如果以硬件的形式实现时，该硬件可以是数字电路，模拟电路等等。硬件结构的物理实现包括但不局限于晶体管，忆阻器等等。若无特别说明，所述处理器或芯片可以是任何适当的硬件处理器，比如CPU、GPU、FPGA、DSP和ASIC等等。若无特别说明，所述片上缓存、片外内存、存储器可以是任何适当的磁存储介质或者磁光存储介质，比如，阻变式存储器RRAM、动态随机存取存储器DRAM、静态随机存取存储器SRAM、增强动态随机存取存储器EDRAM、高带宽内存HBM、混合存储立方 HMC等等。所述集成的单元/模块如果以软件程序模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储器中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储器中，包括若干指令用以使得一台计算机设备执行本披露各个实施例所述方法的全部或部分步骤。而前述的存储器包括：U盘、只读存储器、随机存取存储器、移动硬盘、磁碟或者光盘等各种可以存储程序代码的介质。本申请实施例还提供一种非瞬时性计算机存储介质，存储有计算机程序，当所述计算机程序被多个处理器执行时，使得所述处理器执行如图1或图2所示的方法以及细化方案。以上对本申请实施例进行了详细介绍，本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明仅用于帮助理解本申请的方法及其核心思想。同时，本领域技术人员依据本申请的思想，基于本申请的具体实施方式及应用范围上做出的改变或变形之处，都属于本申请保护的范围。综上所述，本说明书内容不应理解为对本申请的限制。
