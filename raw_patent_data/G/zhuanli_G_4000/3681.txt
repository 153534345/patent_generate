标题title
一种牵引供电广域保护测控系统馈线自适应控制方法
摘要abst
本发明涉及供电广域保护技术领域，具体涉及一种牵引供电广域保护测控系统馈线自适应控制方法。该方法首先获取各牵引供电区间对应的时间特征向量和阻抗角，根据时间特征向量和阻抗角构建延迟时长特征向量；对延迟时长特征向量进行异常判断，得到异常判断结果；根据牵引供电区间的延迟时长特征向量和延迟时长特征向量的修正标签确定牵引供电区间的工况特征码，确定工况特征码的异常程度；根据异常程度和异常判断结果对牵引供电区间的馈线进行测控。本发明结合网络通信状态上下文和多模态馈线监测数据的自适应控制方法，提高了传统对馈线单点超控的可靠性。
权利要求书clms
1.一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，该方法包括以下步骤：获取各牵引供电区间对应的时间特征向量和阻抗角，根据时间特征向量和阻抗角构建延迟时长特征向量；对延迟时长特征向量序列中的延迟时长特征向量打上对应的标签，得到对应的标签序列；对标签序列进行修正，得到对应的修正标签序列，并得到各延迟时长特征向量对应的修正标签；对延迟时长特征向量进行异常判断，得到异常判断结果；根据牵引供电区间的延迟时长特征向量、牵引供电区间和其他牵引供电区间延迟时长特征向量之间的相似度、延迟时长特征向量的修正标签确定牵引供电区间的工况特征码；根据各牵引供电区间之间对应的延迟时长特征向量的差异和牵引供电区间的时间特征向量确定样本距离；基于所述样本距离确定工况特征码的异常程度；根据异常程度和异常判断结果对牵引供电区间的馈线进行超控。2.根据权利要求1所述的一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，所述对延迟时长特征向量序列中的延迟时长特征向量打上对应的标签，得到对应的标签序列，包括：基于延迟时长特征向量之间的距离，利用K-MEANS算法对延迟时长特征向量进行分类，得到至少两个类别，对每个类别内的延迟特征向量打上标签；获取延迟时长特征向量序列中各延迟特征向量对应的标签，构建对应的标签序列。3.根据权利要求1所述的一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，所述对标签序列进行修正，得到对应的修正标签序列，包括：对标签序列进行平滑处理，得到对应的修正标签序列。4.根据权利要求1所述的一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，所述对延迟时长特征向量进行异常判断，得到异常判断结果，包括：将部分延迟时长特征向量作为训练集；计算延迟时长特征向量到训练集的待判断距离；当所述待判断距离大于异常阈值时，将延迟时长特征向量作为异常延迟时长特征向量；当所述待判断距离小于等于异常阈值时，将延迟时长特征向量作为正常延迟时长特征向量。5.根据权利要求1所述的一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，所述根据时间特征向量和阻抗角构建延迟时长特征向量，包括：由当前时刻所采集到的阻抗角、当前时刻和前一时刻的阻抗角的差值绝对值、预测时间特征向量和实际的时间特征向量的L2距离、时间特征向量的最大值元素和最小值元素构建延迟时长特征向量。6.根据权利要求1所述的一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，所述根据牵引供电区间的延迟时长特征向量、牵引供电区间和其他牵引供电区间延迟时长特征向量之间的相似度、延迟时长特征向量的修正标签确定牵引供电区间的工况特征码，包括：将牵引供电区间的当前时刻的延迟时长特征向量和前两个时刻的延迟时长特征向量构成的高维向量作为输入，得到当前时刻的延迟时长特征向量的修正标签对应的独热编码；由牵引供电区间的延迟时长特征向量、牵引供电区间的延迟时长特征向量和其他牵引供电区间的延迟时长特征向量的最小余弦相似度、牵引供电区间的延迟时长特征向量对应的独热编码、牵引供电区间和邻域内其他牵引供电区间的最短时间特征，构建工况特征码。7.根据权利要求6所述的一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，所述根据各牵引供电区间之间对应的延迟时长特征向量的差异和牵引供电区间的时间特征向量确定样本距离，包括：对于任意两个牵引供电区间，计算两个牵引供电区间对应的延迟时长特征向量的余弦相似度，作为第一相似度；将预设第一阈值和第一相似度的差值作为第一因子；分别获取两个牵引供电区间与其他牵引供电区间的延迟时长特征向量的两个最小余弦相似度，将两个最小余弦相似度中的较大值和较小值的比值，作为第二因子；分别获取两个牵引供电区间向其对应的邻域内的牵引供电区间的两个最短时间特征，将两个最短时间特征中的最大值作为第三因子；将两个牵引供电区间对应的独热编码的汉明距离作为第四因子；第一因子、第二因子、第三因子和第四因子均与样本距离呈正相关关系。8.根据权利要求1所述的一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，所述基于所述样本距离确定工况特征码的异常程度，包括：将样本距离作为工况特征码之间的可达距离，基于样本距离计算工况特征码的局部离群因子，将工况特征码的局部离群因子作为工况特征码的异常程度。9.根据权利要求1所述的一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，所述根据异常程度和异常判断结果对牵引供电区间的馈线进行超控，包括：异常判定结果在预设超时时长内连续处于异常，且预设超时时长内异常程度的最大值大于历史时刻的最大异常程度时，则对馈线进行超控。10.根据权利要求1所述的一种牵引供电广域保护测控系统馈线自适应控制方法，其特征在于，所述最短时间特征为：牵引供电区间与邻域内其他牵引供电区间对应的时间特征向量中最小的元素值。
说明书desc
技术领域本发明涉及供电广域保护技术领域，具体涉及一种牵引供电广域保护测控系统馈线自适应控制方法。背景技术在电气化铁路牵引供电广域保护测控系统中，馈线保护测控装置配置有广域保护，具有选择性跳闸、减小停电区间、动作速度快等特点，对提高牵引供电的可靠性及稳定性具有重大意义。广域保护一般采用电流或阻抗原理，通过广域网络实时进行数据交互，各所馈线装置间通过联跳或闭锁信号实现快速跳闸或快速闭锁。实际应用中，当电气化铁路的接触网发生故障时，广域保护动作跳开故障侧供电臂上馈线断路器以及所有并联断路器，非故障侧断路器不动作。若广域网络通信延时过大，导致非故障侧变电所馈线不能及时接受其它所发送的闭锁信号闭锁广域保护，或者故障侧馈线不能及时接受其它所发送的联跳信号跳开断路器，将会牵连其它变电所馈线，造成非故障侧跳闸，导致既有区间的保护失去选择性。目前，现有广域保护逻辑过于简单，对广域网络通信延时较为敏感，一般要求通信延时不大于0.01s。在既有铁路所间数据传输通信网络中，由于路由、报文和核心网等通信的影响，通信延时很难做到小于0.01s，对于一般的网络通信时间抖动，超时时间通常在100ms~1s左右。所以在实际应用中，广域网络一般都采用铺设专用光纤数据通道直连组网，需要对该网络进行专门监测和维护。对于这种分布式节点代价过高，因此需要新方法以实现自适应的集散控制，从而降低设计、施工、维护难度。传统的牵引供电区间集散控制只能通过分析广域保护测控装置上送的相关触发信号来实现，无法根据现场情形进行断路的判别。由于现有方法中，当无法在网络通信较差的情况下进行及时的跳闸动作时，无法得知所在地馈线是否异常，进而难以实现对馈线的测控。发明内容为了解决难以实现对馈线的控制的技术问题，本发明的目的在于提供一种牵引供电广域保护测控系统馈线自适应控制方法，所采用的技术方案具体如下：获取各牵引供电区间对应的时间特征向量和阻抗角，根据时间特征向量和阻抗角构建延迟时长特征向量；对延迟时长特征向量序列中的延迟时长特征向量打上对应的标签，得到对应的标签序列；对标签序列进行修正，得到对应的修正标签序列，并得到各延迟时长特征向量对应的修正标签；对延迟时长特征向量进行异常判断，得到异常判断结果；根据牵引供电区间的延迟时长特征向量、牵引供电区间和其他牵引供电区间延迟时长特征向量之间的相似度、延迟时长特征向量的修正标签确定牵引供电区间的工况特征码；根据各牵引供电区间之间对应的延迟时长特征向量的差异和牵引供电区间的时间特征向量确定样本距离；基于所述样本距离确定工况特征码的异常程度；根据异常程度和异常判断结果对牵引供电区间的馈线进行超控。优选的，所述对延迟时长特征向量序列中的延迟时长特征向量打上对应的标签，得到对应的标签序列，包括：基于延迟时长特征向量之间的距离，利用K-MEANS算法对延迟时长特征向量进行分类，得到至少两个类别，对每个类别内的延迟特征向量打上标签；获取延迟时长特征向量序列中各延迟特征向量对应的标签，构建对应的标签序列。优选的，所述对标签序列进行修正，得到对应的修正标签序列，包括：对标签序列进行平滑处理，得到对应的修正标签序列。优选的，所述对延迟时长特征向量进行异常判断，得到异常判断结果，包括：将部分延迟时长特征向量作为训练集；计算延迟时长特征向量到训练集的待判断距离；当所述待判断距离大于异常阈值时，将延迟时长特征向量作为异常延迟时长特征向量；当所述待判断距离小于等于异常阈值时，将延迟时长特征向量作为正常延迟时长特征向量。优选的，所述根据时间特征向量和阻抗角构建延迟时长特征向量，包括：由当前时刻所采集到的阻抗角、当前时刻和前一时刻的阻抗角的差值绝对值、预测时间特征向量和实际的时间特征向量的L2距离、时间特征向量的最大值元素和最小值元素构建延迟时长特征向量。优选的，所述根据牵引供电区间的延迟时长特征向量、牵引供电区间和其他牵引供电区间延迟时长特征向量之间的相似度、延迟时长特征向量的修正标签确定牵引供电区间的工况特征码，包括：将牵引供电区间的当前时刻的延迟时长特征向量和前两个时刻的延迟时长特征向量构成的高维向量作为输入，得到当前时刻的延迟时长特征向量的修正标签对应的独热编码；由牵引供电区间的延迟时长特征向量、牵引供电区间的延迟时长特征向量和其他牵引供电区间的延迟时长特征向量的最小余弦相似度、牵引供电区间的延迟时长特征向量对应的独热编码、牵引供电区间和邻域内其他牵引供电区间的最短时间特征，构建工况特征码。优选的，所述根据各牵引供电区间之间对应的延迟时长特征向量的差异和牵引供电区间的时间特征向量确定样本距离，包括：对于任意两个牵引供电区间，计算两个牵引供电区间对应的延迟时长特征向量的余弦相似度，作为第一相似度；将预设第一阈值和第一相似度的差值作为第一因子；分别获取两个牵引供电区间与其他牵引供电区间的延迟时长特征向量的两个最小余弦相似度，将两个最小余弦相似度中的较大值和较小值的比值，作为第二因子；分别获取两个牵引供电区间向其对应的邻域内的牵引供电区间的两个最短时间特征，将两个最短时间特征中的最大值作为第三因子；将两个牵引供电区间对应的独热编码的汉明距离作为第四因子；第一因子、第二因子、第三因子和第四因子均与样本距离呈正相关关系。优选的，所述基于所述样本距离确定工况特征码的异常程度，包括：将样本距离作为工况特征码之间的可达距离，基于样本距离计算工况特征码的局部离群因子，将工况特征码的局部离群因子作为工况特征码的异常程度。优选的，所述根据异常程度和异常判断结果对牵引供电区间的馈线进行超控，包括：异常判定结果在预设超时时长内连续处于异常，且预设超时时长内异常程度的最大值大于历史时刻的最大异常程度时，则对馈线进行超控。优选的，所述最短时间特征为：牵引供电区间与邻域内其他牵引供电区间对应的时间特征向量中最小的元素值。本发明实施例至少具有如下有益效果：本发明涉及供电广域保护技术领域。该方法首先通过对延迟时长特征向量进行异常判断，得到异常判断结果，实现对时间特征向量和阻抗角的异常判断及监测。进一步的，根据牵引供电区间的延迟时长特征向量、牵引供电区间和其他牵引供电区间延迟时长特征向量之间的相似度、延迟时长特征向量的修正标签确定牵引供电区间的工况特征码，该工况特征码进一步通过对延迟时长特征向量进行分析，并结合了时间特征向量的差异来实现对工况特征码的异常监测，最后结合异常程度和异常判断结果对牵引供电区间的馈线进行测控。传统控制网络的时延要限制在0.01s，基于超控逻辑，可以将容忍网络Jitter的时长延长高至预设超时时长。即预设超时时长内无法联系到其它牵引供电区间时，如果相邻牵引供电区间出现跳闸情况，保证该牵引供电区间处于供电状态直到超时容忍时间，从而保护主供电线路的工作，使得连接恢复后区间保护仍然具备选择性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种牵引供电广域保护测控系统馈线自适应控制方法的方法流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种牵引供电广域保护测控系统馈线自适应控制方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。本发明实施例提供了一种牵引供电广域保护测控系统馈线自适应控制方法的具体实施方法，该方法适用于牵引供电广域保护测控场景。该场景下牵引供电区间是由一个变电站、一段区间的馈线、一个联网设备和配套电力系统构成。为了解决难以实现对馈线的控制的技术问题，本发明结合网络通信状态上下文和多模态馈线监测数据的自适应控制方法，提高了传统对馈线单点超控的可靠性。下面结合附图具体的说明本发明所提供的一种牵引供电广域保护测控系统馈线自适应控制方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种牵引供电广域保护测控系统馈线自适应控制方法的方法流程图，该方法包括以下步骤：步骤S100，获取各牵引供电区间对应的时间特征向量和阻抗角，根据时间特征向量和阻抗角构建延迟时长特征向量。首先根据各牵引供电区间采集信息的网络波动构建时间特征向量N，时间特征向量用于表示一个牵引供电区间的RTT特征。其中，网络波动是各个牵引供电区间内与广域保护系统总节点、各个牵引供电区间的节点之间的RTT的大小变化。其中RTT为往返时延，是指数据从源主机发送到目标主机，再从目标主机回到源主机所需要的时间，具体使用Traceroute，Traceroute命令也是网络诊断工具中的一种，可以跟踪数据包从源主机到目标主机的路径，进而得到每个源主机对应的RTT。需要说明的是，获取RTT的方法为本领域技术人员的公知技术，在此不再进行赘述。在本发明实施例中牵引供电区间对应的RTT也即为从一个牵引供电区间发送数据开始，到牵引供电区间收到来自其他牵引供电区间的确认，总共经历的时延，其中，将牵引供电区间作为发送端或源主机，将其他牵引供电区间作为接收端或目标主机。故RTT值也可以说是时延时长。时间特征向量N用于联合一个牵引供电区间和其他牵引供电区间的各个RTT的波动大小，来描述一个牵引供电区间面向其它牵引供电区间以及广域保护系统的网络质量特征。由一个牵引供电区间a向其余牵引供电区间以及广域保护系统发送信息采集得到的RTT数值，按照从大到小的顺序排列，得到牵引供电区间a对应的时间特征向量。其中牵引供电区间对应的时间特征向量为每秒采集一次，也可以说是每秒更新一次。由于牵引供电区间不止一个，故对应的时间特征向量为多维的，例如有10个牵引供电区间，那对应的时间特征向量的维度为10。为各个牵引供电区间训练各自对应的第一RNN网络，进行时间特征向量的预测。对于每秒更新的时间特征向量，由实施者指定一个观测期间，例如一个月，对时间特征向量N进行长时间的记录。由于连续记录的序列过长无法直接训练，因此进行切分处理，对于一个长度过长的序列，可以通过将其切分成较短的序列，从而将其变成训练集。公知的有时间间隔法和固定长度法，本实施例使用固定长度法，将原始序列按照固定长度进行切分，每个子序列长度相等，可以通过调整子序列长度和重叠率来控制子序列的数量。需要说明的是，将长序列切分成多个较短的序列的方法为本领域技术人员的公知技术，在此不再进行赘述。将每个牵引供电区间对应的切分后的短时间特征向量序列作为第一RNN网络的数据集，用来训练RNN各个牵引供电区间对应的第一RNN网络，使将牵引供电区间对应的时间特征向量训练好的第一RNN网络中，输出牵引供电区间下一时刻的预测时间特征向量。RNN具有内部循环结构，能够将之前的状态信息传递到当前时刻，从而实现对序列数据的建模和预测，训练时只需要将数据集的序列作为输入序列，通过RNN网络前向传播，得到预测结果。在前向传播过程中，需要利用Pytorch等深度学习框架可以保存每个时刻的隐藏状态，以便于反向传播时计算梯度。由于时间特征向量N是多维的，所以对应的短时间特征向量序列为多维的序列，本发明使用均方误差来计算损失差异，将下一时刻作为预测的真实标签，RNN预测结果和真实标签进行比较后可以得到MSE损失。深度学习框架可以根据损失函数的值计算参数的梯度，并利用优化器进行参数更新。实施者设定合理的训练轮数，例如10000epoch，直到模型收敛或达到预设的训练轮数。对各个牵引供电区间记录实时阻抗角，构建预测结果和实时结果之间差异的大小，阻抗角以及此时延迟时长的特征向量C。在电路中，交流电压和电流都是正弦波形式，可以表示为和，其中和分别是电压和电流的最大值，ω是角频率，和分别是电压和电流的相位角，sin为正弦函数，t为时间。阻抗角theta可以表示为，表示电压相位角和电流相位角之间的差异。如果电路中的电压领先于电流，则阻抗角为正；如果电路中的电流领先于电压，则阻抗角为负。在纯电阻电路中，电压和电流相位相同，阻抗角为零；而在纯电感电路中，电压领先于电流90°，阻抗角为正90°；在纯电容电路中，电压滞后于电流90°，阻抗角为负90°。阻抗角和时间特征向量N之间的结果本应是无关的，但对于一个长期工作且存在多种潜在工况的系统而言，会存在常见的综合运行工况。故进一步的，结合阻抗角和时间特征向量构建对应的延迟时长特征向量，用延迟时长特征向量反映系统的综合运行工况。由于网络波动时一种随机现象，但也存在常见的时间抖动特征，因此，延迟时长特征向量能够避免具体的时间特征向量N的结果带来的非自洽性，原因是时间特征向量N的情形是多变的，如果要在后期进行合理的处理，则需要大幅度降低时间特征向量N无法完全覆盖所有可能存在的情形的影响。由于各个第一RNN网络已经能够在较为典型的情况下准确预测下一时刻的时间特征向量N，因此，延迟时长特征向量C借助由第一RNN网络得到的预测时间特征向量和实际的时间特征向量的差异大小、实时阻抗角进行牵引供电区间工况异同的描述，从而无视时间特征向量N的所有可能性，避免长尾效应的问题，将牵引供电区间工况的特征进行准确描述，便于后期的处理和分析。根据时间特征向量和阻抗角构建延迟时长特征向量，具体的：由当前时刻所采集到的阻抗角、当前时刻和前一时刻的阻抗角的差值绝对值、预测时间特征向量和实际的时间特征向量的L2距离、时间特征向量的最大值元素和最小值元素构建延迟时长特征向量，也即延迟时长特征向量为一个5维的向量。其中当前时刻所采集的阻抗角用于描述典型负载；当前时刻和前一时刻的阻抗角的差值绝对值用于描述阻抗角的波动情况；预测时间特征向量和实际的时间特征向量的L2距离用于描述预测结果值和实际结果值的差异；时间特征向量的最大值元素和最小值元素用于描述牵引供电区间与其他牵引供电区间的通信性能。步骤S100中的时间特征向量和阻抗角的采集频率均为1Hz，也即每秒采集一次，针对不同的牵引供电区间进行采集。步骤S200，对延迟时长特征向量序列中的延迟时长特征向量打上对应的标签，得到对应的标签序列；对标签序列进行修正，得到对应的修正标签序列，并得到各延迟时长特征向量对应的修正标签；对延迟时长特征向量进行异常判断，得到异常判断结果。在广域系统中设定一个观测期，根据观测期内的延迟时长特征向量C的数据，基于相似程度进行聚类，且根据类内的样本的时间连续性，修正时间过短的聚类结果，得到修正的数据集。先对延迟时长特征向量序列中的延迟时长特征向量打上对应的标签，得到对应的标签序列；然后对标签序列进行修正，得到对应的修正标签序列，并得到各延迟时长特征向量对应的修正标签。对延迟时长特征向量序列中的延迟时长特征向量打上对应的标签，得到对应的标签序列，具体的：基于延迟时长特征向量之间的距离，利用K-MEANS算法对延迟时长特征向量进行分类，得到至少两个类别，对每个类别内的延迟特征向量打上标签；获取延迟时长特征向量序列中各延迟特征向量对应的标签，构建对应的标签序列。在本发明实施例中延迟时长特征向量之间的距离为L2距离，在其他实施例中实施者可根据实际情况调整该距离的获取方法。基于所有牵引供电区间观测期的延迟时长特征向量的记录，按照L2距离，实施者可以基于K-MEANS算法对不同情形的延迟时长特征向量的状态进行分类，本实施例使用K=10作为分类目标数量，在其他实施例中实施者可根据实际情况调整该取值。需要说明的是，牵引供电区间的延迟时长特征向量C能够代表的工况数量可能不到10种，为了尽可能涵盖和分类，故将K的取值设定为了10。需要说明的是，由于K-MEANS算法是本领域技术人员的公知技术，本发明不再赘述聚类原理。通过K-MEANS算法实现延迟时长特征向量的过度分类，将不同类别的延迟时长特征向量打上标签，由于分为了10个类别，故可以对每个类别分配一个标签，分配0~9共10个标签。对标签序列进行修正，得到对应的修正标签序列，并得到各延迟时长特征向量对应的修正标签，具体的：对标签序列进行平滑处理，得到对应的修正标签序列。如延迟时长特征向量序列｛a1，a2，a3，a4｝，为a1，a2，a3，a4分别打上标签b1，b2，b3，b4，得到对应的标签序列为｛b1，b2，b3，b4｝，也即延迟时长特征向量a1对应的标签为b1，延迟时长特征向量a2对应的标签为b2，延迟时长特征向量a3对应的标签为b3，延迟时长特征向量a4对应的标签为b4。对标签序列｛b1，b2，b3，b4｝进行修正，得到对应的修正标签序列{c1，c2，c3，c4}，则延迟时长特征向量a1对应的修正标签为c1，延迟时长特征向量a2对应的修正标签为c2，延迟时长特征向量a3对应的修正标签为c3，延迟时长特征向量a4对应的修正标签为c4。对标签序列进行平滑处理的步骤，也即对聚类后的标签进行标签平滑处理，防止FCN训练失败，具体的：使用时域平滑方式进行处理，对于一个牵引供电区间，其延迟时长特征向量C构成的延迟时长特征向量序列的每个时刻都具备一个标签，也即延迟时长特征向量序列中每个元素均具备一个标签，当延迟时长特征向量C的标签来回在不同标签值跳动时，说明标签存在时域上无关的过度分类的特性。因此对标签序列使用中值滤波算法对标签序列中突变的标签值进行平滑处理。中值滤波算法是一种非线性滤波算法，用于去除信号中的噪声和异常值。对于一个序列中标签值的中断或者异常值，可以通过中值滤波算法进行平滑处理。平滑处理的具体步骤如下：首先将延迟时长特征向量序列C中的各元素对应的标签值按照时间顺序排列成一个待处理的标签序列；设定一个窗口大小w，本发明实施例中w=5，即5s内的工况模式被视为不可能发生明显突变，窗口的长度与假设的一种工况持续时间大致相当，在其他实施例中可实施者根据实际情况调整该窗口大小。从第3个样本开始，逐个移动窗口并计算窗口内标签值的中位数，也可以说将移动步长作为1，移动窗口w。需要说明的是从第3个样本开始移动窗口，也即将延迟时长特征向量序列中第3个延迟时长特征向量作为中心点，然后开始向左移动窗口，直接以第3个延迟时长特征向量为中心点的窗口作为窗口的初始位置的目的是，为了使初始窗口的能够完整的含有5个延迟时长特征向量。例如，对于当一个窗口大小为5时，在标签序列上移动窗口，第1个窗口覆盖样本1到样本5，第2个窗口覆盖样本2到样本6，以此类推。将窗口内五个标签值的中位数作为当前窗口的中心点平滑后的修正标签。对于标签序列最后两端的样本，可以采用较小的窗口或者将窗口截断，以避免过度平滑。例如，对于标签序列的第一个元素，将第一个元素作为窗口的中心点时，由于第一个元素的左侧没有别的元素，故可将窗口内有实际意义的元素的中值作为第一个元素的修正标签值，也可以说将第一个元素、第二个元素和第三个元素的中值作为第一个元素对应的修正标签；对于标签序列的第二个元素，将第二个元素作为窗口的中心点时，由于第二个元素的左侧仅有一个元素，故可将窗口内有实际意义的元素的中值作为第二个元素的修正标签值，也可以说将第一个元素、第二个元素、第三个元素和第四个元素的中值作为第二个元素对应的修正标签。需要说明的是，标签也即标签值，修正标签也即修正标签值。实现对所有牵引供电区间都进行标签的修正，使得各延迟时长特征向量均有各自对应的修正标签。进一步的，根据修正标签的数据集，将各个时刻所属的延迟时长特征向量C标记为不同的类型的One-Hot编码。训练全连接神经网络，对标记的延迟时长特征向量C的修正标签进行训练，从而识别观测期之后的延迟时长特征向量所对应的修正标签，该修正标签也可以说反映了延迟时长特征向量的类型。由于延迟时长特征向量是一个5维向量，上下文信息过少，本发明使用延迟时长特征向量的前n个时刻共同构成的高维向量作为FCN网络的输入。本发明实施例中n的取值为3，在其他实施例中实施者可根据实际情况调整该取值。因此，对于一个训练数据，当前时刻的延迟时长特征向量，前两个时刻的延迟时长特征向量共同构成12维度的高维向量，顺序为，其中为第t时刻的延迟时长特征向量；第t-1时刻的延迟时长特征向量；为第t-2时刻的延迟时长特征向量。直接对延迟时长特征向量对应的修正标签进行0~9的one-hot编码，训练时将每个当前时刻的延迟时长特征向量，前两个时刻的延迟时长特征向量共同构成12维度的高维向量作为输入，将修正标签对应的One-Hot编码作为输出，将预测结果和真实修正标签进行比较，计算交叉熵损失函数的值。由实施者设定一定的训练轮数，例如10000epoch，直到模型收敛或达到预设的训练轮数。FCN网络可以根据延迟时长特征向量的修正标签进行属于何种类别的分类，输出经过后处理可以得到一种one-hot编码形式的10个0或1的数值，其中只有一个位置为1，即对应类型的位置。此外，观测器还需要为每个牵引供电区间构建基于延迟时长特征向量的OCSVM识别模型，判别延迟时长特征向量的异常与否，并确定阈值，作为实时的异常判定器。具体训练方式如下：从正常分布的延迟时长特征向量的数据集中随机选择一部分用于训练，剩余数据作为测试数据。其中，向量机模型 需要选择核函数和参数，用于将数据映射到高维空间中。使用网格搜索工具GridSearchCV来进行交叉验证，选择最佳的核函数和参数。参数kernel和nu分别表示核函数和惩罚因子。具体的kernel参数为，nu参数为，其中，rbf为高斯核，linear为线性核函数。使用选择的核函数和参数训练One-Class SVM模型后，新的数据点输入训练好的OCSVM模型，新数据被分类为异常的依据是其到训练数据的距离。具体地，如果一个新的数据点到训练数据的中心的距离超过了异常阈值，那么它就被分类为异常延迟时长特征向量。在本发明实施例中异常阈值的取值为0.7，在其他实施例中实施者可根据实际情况调整该取值。故也可以说当所述待判断距离大于异常阈值时，将延迟时长特征向量作为异常延迟时长特征向量；当所述待判断距离小于等于异常阈值时，将延迟时长特征向量作为正常延迟时长特征向量。步骤S300，根据牵引供电区间的延迟时长特征向量、牵引供电区间和其他牵引供电区间延迟时长特征向量之间的相似度、延迟时长特征向量的修正标签确定牵引供电区间的工况特征码。在广域测控系统对各个牵引供电区间建立实时邻接矩阵，对每个供电站的管辖区域中的延迟时长特征向量进行双方的单向表示，由双方的延迟时长特征向量构成二元组，也即邻接矩阵中每个元素即为二元组，例如第一行第二列邻接矩阵中的元素即为第一个牵引供电区间和第二个牵引供电区间的延迟时长特征向量构成的二元组，第二行第三列邻接矩阵中的元素即为第二个牵引供电区间和第三个牵引供电区间的延迟时长特征向量构成的二元组，第一行第二列邻接矩阵中的元素即为第一个牵引供电区间和第一个牵引供电区间的延迟时长特征向量构成的二元组，也即为0。二元组的数据被处理为工况特征码D，从而作为通信正常时，每个供电站的工况异同情形的联合表示。对于邻接矩阵，为了观测邻域的牵引供电区间的工作情况，在邻接矩阵中采用8邻域的方式描述当前牵引供电区间的工况特征码D。根据牵引供电区间的数量，本发明实施例假设一个广域保护系统需要管理10个牵引供电区间，那么邻接矩阵包含了100个两两比照的二元组，即每个元组内包含此时的双方各自的两个延迟时长特征向量，按照行、列的对应的对象方式先后排列。二元组是用于评估此时两个牵引供电区间之间的工况的前置信息，由于后面要描述两个牵引供电区间之间的工况的关联性和工况相关指标，所以二元组是一种方便表示两个必要信息来源的格式。任意两个牵引供电区间之间，行对应的牵引供电区间要与列对应的牵引供电区间进行通信，从而进一步根据网络上下行的关系来描述网络质量，由于各个牵引供电区间之间的连接是依赖主干网络的，实质上存在相关的阻塞的潜在风险，因此牵引供电区间对应的RTT特征此时有可能是互相关的。对于邻接矩阵中任意元素的八邻域，是描述了一个牵引供电区间与目标牵引供电区间的通信，以及目标牵引供电区间地理位置邻域的牵引供电区间之间通信的特征。由于一个牵引供电区间的相邻牵引供电区间使用的主干网络可能是公用的，且接地因素相仿，因此可以用于相邻工况的参照表示。所述八邻域是矩阵中一个位置向各个方向存在行列相邻和对角方向相邻的8个方向的邻域所属的区域。故在正常工作过程中，对局部的8邻域进行牵引供电区间的工况特征码D的描述。在牵引供电区间实情未知的情况下，描述牵引供电区间和邻域之间的工况特征，不但能够描述整体的工况变动、网络变动情况，还能根据各个牵引供电区间的网络RTT的预测误差特征来统一描述相邻牵引供电区间的区间潜在关系，具体可以通过各个牵引供电区间的RTT、阻抗角的特征来表示。基于一个牵引供电区间进行延迟时长特征向量的特征编码，作为工况特征码，具体编码方式为：对于牵引供电区间，进行自身和邻域内延迟时长特征向量的数值采集。将牵引供电区间的当前时刻的延迟时长特征向量和前两个时刻的延迟时长特征向量构成的高维向量作为输入，得到当前时刻的延迟时长特征向量的修正标签对应的独热编码；由牵引供电区间的延迟时长特征向量、牵引供电区间的延迟时长特征向量和其他牵引供电区间的延迟时长特征向量的最小余弦相似度、牵引供电区间的延迟时长特征向量对应的独热编码、牵引供电区间和邻域内其他牵引供电区间的最短时间特征，构建工况特征码。其中，最短时间特征为牵引供电区间向邻域内其他牵引供电区间的最低时间延迟，也即最小RTT值，也即为最短时延时长。在本发明实施例中牵引供电区间的邻域内的牵引供电区间为相邻的两个牵引供电区间。步骤S400，根据各牵引供电区间之间对应的延迟时长特征向量的差异和牵引供电区间的时间特征向量确定样本距离；基于所述样本距离确定工况特征码的异常程度。为防止集散控制的裂解，广域保护系统为部分牵引供电区间动态启用超控的权限。基于邻接矩阵，按照1小时的时长统计每个牵引供电区间的工况特征码的局部异常因子，从而确定前n个异动较为强烈的供电站，从而在网络延迟大的情况下仍然能够主动切换至备用供电站。也可以说根据各牵引供电区间之间对应的延迟时长特征向量的差异和牵引供电区间的时间特征向量确定样本距离，进一步基于样本距离确定工况特征码的异常程度。样本距离的获取方法为：对于任意两个牵引供电区间，计算两个牵引供电区间对应的延迟时长特征向量的余弦相似度，作为第一相似度；将预设第一阈值和第一相似度的差值作为第一因子；分别获取两个牵引供电区间与其他牵引供电区间的延迟时长特征向量的两个最小余弦相似度，将两个最小余弦相似度中的较大值和较小值的比值，作为第二因子；分别获取两个牵引供电区间向其对应的邻域内的牵引供电区间的两个最短时间特征，将两个最短时间特征中的最大值作为第三因子；将两个牵引供电区间对应的独热编码的汉明距离作为第四因子；第一因子、第二因子、第三因子和第四因子均与样本距离呈正相关关系。在本发明实施例中预设第一阈值的取值为1，在其他实施例中实施者可根据实际情况调整该取值。该样本距离也即为局部异常因子的获取中的样本距离，可根据该样本距离得到局部密度，进而根据局部密度得到样本的局部异常因子。需要说明的是，获取样本的局部异常因子的步骤为本领域技术人员的公知技术，在此不再进行赘述。首先计算每个时刻的LOF值：对于一小时内任意时刻、任意牵引供电区间的工况特征码，将每个样本牵引供电区间作为样本对其进行局部异常因子的评估，使用局部异常因子来表明罕见程度：局部离群因子检测方法是一种根据样本空间分布进行无监督的离群检测的方法。该方法为每个样本点计算一个离群因子LOF，通过判断LOF是否接近于1来判定是否是离群因子。LOF越大于1，越有可能是离群因子，越接近于1，越有可能是正常点。首先建立一个假设空间，通过度量准则函数Z为样本集合建立空间的分布关系，该度量准则函数也即为样本距离。需要对样本D之间的分布关系进行定义，从而得到样本空间的分布关系。其中，是牵引供电区间a和牵引供电区间b之间对应的样本距离；为牵引供电区间a和牵引供电区间b对应的延迟时长特征向量的余弦相似度，也即为牵引供电区间a和牵引供电区间b对应的第一相似度；1为预设第一阈值；为牵引供电区间a和牵引供电区间b对应的第一因子；为牵引供电区间a与其他牵引供电区间的延迟时长特征向量的最小余弦相似度；为牵引供电区间b与其他牵引供电区间的延迟时长特征向量的最小余弦相似度；为牵引供电区间a和牵引供电区间b对应的第二因子；为取最大值函数；为取最小值函数；为牵引供电区间a与其他牵引供电区间的最短时间特征；为牵引供电区间b与其他牵引供电区间的最短时间特征；为牵引供电区间a和牵引供电区间b对应的第三因子；为牵引供电区间a对应的独热编码；为牵引供电区间b对应的独热编码；为牵引供电区间a和牵引供电区间b对应的第四因子；为汉明距离。其中，样本距离可以反映两个牵引供电区间之间的距离。任意两个样本，基于样本距离，可以说明样本的分布中有的样本之间距离较近，有的较远。因此，基于样本分布可以利用K-近邻算法得知样本集合F中任意样本在此空间中的K个近邻的子块样本。在计算了两个牵引供电区间的余弦相似度之后，根据余弦相似度得到第一因子，该第一因子也可以说是反映了两个牵引供电区间的余弦距离，两个牵引供电区间的余弦相似度越大，对应的余弦距离越小，则两个牵引供电区间之间对应的样本距离越小，反之，两个牵引供电区间的余弦相似度越小，对应的余弦距离越大，则两个牵引供电区间之间对应的样本距离越大。其中，将两个牵引供电区间与其他牵引供电区间的延迟时长特征向量的两个最小余弦相似度中的较大值和较小值的比值，也即第二因子作为两个牵引供电区间的余弦相似度的约束项，如果此时延迟时长特征向量相对于其它牵引供电区间的最小余弦相似度有一个较小，说明此时的C值已经出现了一定程度的异常分布，因此约束样本距离更大。最短时间特征是指两个牵引供电区间向邻域的最低延迟的时长，代表了两者通信的理论性能，最短时间特征也即为牵引供电区间与邻域内其他牵引供电区间对应的时间特征向量中最小的元素值。为两个牵引供电区间的延迟时长特征向量的独热编码或H之间不同的比特数的个数，即不同类型模式之间的差异大小，该第四因子越大，说明两个不同的牵引供电区间模式与所对应8邻域牵引供电区间的模式差异越大。至此，可以得到样本之间的距离关系，从而计算距离可达密度和LOF。需要说明的是，在进行局部异常因子计算的步骤中样本即为牵引供电区间。基于K-近邻可达距离的计算，计算每个样本点的局部可达密度LRD。需要说明的是，由于局部可达密度的计算是本领域技术人员的公知技术，在此不再赘述。然后，基于每样本的lrd，计算LOF：考虑一个样本点p。局部异常因子是用来衡量样本点p是否为离群点的一种方法。LOF计算样本点p的K个最近邻点的局部可达密度与样本点p的局部可达密度之比的平均值。如果LOF的值越接近1，说明样本点p的邻域点的密度与样本点p的密度相似，这意味着样本点p可能与其邻域点属于同一簇。反之，如果LOF值小于1，则说明样本点p的密度高于其邻域点的密度，这表示样本点p是一个密集点。另一方面，如果LOF值大于1，则说明点p的密度低于其邻域点的密度，这表示点p可能是一个异常点。因此，基于1小时内所有的牵引供电区间的记录，进而计算各个牵引供电区间各个时刻LOF大小。LOF越大，则越罕见。如果一个牵引供电区间的工况特征码出现了罕见的情形，则牵引供电区间负载和通信情况都不稳定，如果邻域的牵引供电区间异常，产生了跳闸，则可能会导致该牵引供电区间也产生异常的跳闸保护动作，即错误触发保护动作，LOF较大。反之，LOF较小。步骤S400可以说是将样本距离作为工作特征码之间的可达距离，基于样本距离计算工况特征码的局部离群因子，将工况特征码的局部离群因子作为反映工况特征码的异常程度的指标。需要说明的是异常离群因子也即为局部异常因子。步骤S500，根据异常程度和异常判断结果对牵引供电区间的馈线进行超控。实时对前n个供电站动态赋予断网时超控的临时权限，对不属于前n个的供电站，解除超控的权限。基于有权限超控的供电站，根据异常程度的变化情况，以及异常判定器的输出的异常判断结果，由于异常判定结果为出现异常延迟时长特征向量，故异常判定结果在预设超时时长内连续处于异常，且预设超时时长内异常程度的最大值大于历史时刻的最大异常程度时，则对馈线进行超控。需要说明的是，异常判定结果处于异常也即延迟时长特征向量为异常延迟时长特征向量。在本发明实施例中预设超时时长的大小为1s，也即当异常判定结果超过1s内处于异常，且1s内的LOF的最大值大于1s前的最大值，则对牵引供电区间的馈线进行超控。由于相邻牵引供电区间可能处于保护状态，故此时的牵引供电区间只需要观测自身的阻抗角的变化率，若超过变化率，则认为负载出现了位置的大变动，很有可能是相邻牵引供电区间保护动作导致跳闸的一瞬间带来的影响，因此在联网超时的过程中不执行跳闸动作。具体的，对牵引供电区间的馈线进行超控的方法是：由实施者设定超时时间的最长超时容忍时间，本发明实施例中预设超时时长为1s，超时容忍时间为5s。如果延迟时长特征向量前一秒被OCSVM判断为异常延迟时长特征向量，无论此时是否已经因保护电路触发跳闸信号，都不跳闸，因为有可能是相邻区间的供电跳闸带来了干扰，且此时本区间无法与广域控制系统取得联系。当超过了5s时，网络仍未恢复，即仍未接收到广域系统的控制信号和心跳包，则根据跳闸信号决定是否跳闸。综上所述，本发明涉及供电广域保护技术领域。该方法获取各牵引供电区间对应的时间特征向量和阻抗角，根据时间特征向量和阻抗角构建延迟时长特征向量；对延迟时长特征向量序列中的延迟时长特征向量打上对应的标签，得到对应的标签序列；对标签序列进行修正，得到对应的修正标签序列，并得到各延迟时长特征向量对应的修正标签；对延迟时长特征向量进行异常判断，得到异常判断结果；根据牵引供电区间之间相互对应的延迟时长特征向量构建对应的各牵引供电区间的二元组；根据牵引供电区间的延迟时长特征向量、牵引供电区间和其他牵引供电区间之间的相似度、延迟时长特征向量的修正标签确定牵引供电区间的工况特征码；根据各牵引供电区间之间对应的延迟时长特征向量的差异和牵引供电区间的时间特征向量确定样本距离；基于所述样本距离确定工况特征码的异常程度；根据异常程度和异常判断结果对牵引供电区间的馈线进行测控。传统控制网络的时延要限制在0.01s，基于超控逻辑，可以将容忍网络Jitter的时长延长高至1s。即1s内无法联系到其它牵引供电区间时，如果相邻牵引供电区间出现跳闸情况，保证该牵引供电区间处于供电状态直到最长超时时间，从而保护主供电线路的工作，使得连接恢复后区间保护仍然具备选择性。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。
