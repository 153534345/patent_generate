标题title
一种应用于海洋测量仪器的数据无线传输电路及装置
摘要abst
本发明提供了一种应用于海洋测量仪器的数据无线传输电路及装置，属于海洋监测技术领域，电路包括：模拟开关、主蓝牙模块、上拉电阻、磁性开关、微处理器、Flash存储器、数据采集模块等；主蓝牙模块用于与测量船数据回收单元内的从蓝牙模块连接并进行数据传输；微处理器用于控制主蓝牙模块的上电工作；电路具有数据采集模式和数据传输模式，当电路为数据采集模式时，模拟开关和磁性开关均处于打开状态，当电路为数据传输模式时，模拟开关和磁性开关均处于关闭状态。本发明的技术方案克服现有技术中的海洋测量仪器回收后，测量船数据回收单元与海洋测量仪器舱内的处理电路进行连接的方式复杂，不能自主完成电气连接的问题。
权利要求书clms
1.一种应用于海洋测量仪器的数据无线传输电路，其特征在于，包括：电源、天线、模拟开关、主蓝牙模块、上拉电阻、磁性开关、微处理器、Flash存储器、数据采集模块和传感器；所述天线与所述主蓝牙模块连接；所述主蓝牙模块通过所述模拟开关与所述电源的正极相连，用于与测量船数据回收单元内的从蓝牙模块连接并进行数据传输；所述微处理器与所述主蓝牙模块、所述Flash存储器和所述数据采集模块相连，用于控制所述主蓝牙模块的上电工作并控制所述主蓝牙模块进行指令和数据的双向传输；还用于读取所述Flash存储器存储的数据，以及用于控制所述数据采集模块采集数据；所述微处理器还通过所述上拉电阻与所述电源的正极相连，所述磁性开关一端接地，另一端与所述上拉电阻相连；所述数据采集模块还与所述电源正极和所述传感器相连；所述电源负极接地；所述电路具有数据采集模式和数据传输模式，当所述电路为数据采集模式时，所述模拟开关和所述磁性开关均处于打开状态，当所述电路为数据传输模式时，所述模拟开关和所述磁性开关均处于关闭状态。2.根据权利要求1所述的一种应用于海洋测量仪器的数据无线传输电路，其特征在于，所述微处理器具有输入端口，所述输入端口与所述磁性开关连接。3.根据权利要求1所述的一种应用于海洋测量仪器的数据无线传输电路，其特征在于，所述磁性开关还可以替换为压力开关。4.一种应用于海洋测量仪器的数据无线传输装置，利用如权利要求1-3中任意一项所述的电路，其特征在于，包括舱体、舱盖、辅助支架和数据传输底座，所述电路封装于所述舱体内部，两个所述舱盖分别位于所述舱体的两端，所述辅助支架位于所述舱体的一端，并固定于所述舱盖的外侧，所述数据传输底座内部安装有磁钢；所述装置具有所述数据采集模式和所述数据传输模式，当所述装置处于所述数据采集模式时，所述舱体位于水下，与所述数据传输底座分离；当所述装置处于所述数据传输模式时，所述舱盖与所述数据传输底座固定连接，所述磁性开关位于与所述磁钢相对位置处。5.根据权利要求4所述的一种应用于海洋测量仪器的数据无线传输装置，其特征在于，所述天线为PCB结构，封装在所述舱盖本体内并靠近所述舱盖上壁，并在所述舱体内留出接头，留出接头与所述主蓝牙模块相连。6.根据权利要求4所述的一种应用于海洋测量仪器的数据无线传输装置，其特征在于，所述天线为棒状结构，位于所述舱体外部，通过水密接头引入所述舱体内，与所述主蓝牙模块相连。7.根据权利要求4所述的一种应用于海洋测量仪器的数据无线传输装置，其特征在于，所述辅助支架底部具有凸块，所述数据传输底座内具有与所述凸块相适配的凹槽。8.根据权利要求4所述的一种应用于海洋测量仪器的数据无线传输装置，其特征在于，所述舱体为耐压密封舱，所述舱盖为耐压密封舱盖。
说明书desc
技术领域本发明涉及海洋监测技术领域，具体涉及一种应用于海洋测量仪器的数据无线传输电路及装置。背景技术海洋科研、监测中常使用测量仪器来获取海水要素数据。通过绞车下放，获取海水指定深度或剖面要素数据。这类测量仪器的数据处理电路为了防止被海水或水压损坏，通常放置在耐压密封舱内。测量仪器一般通过安装在耐压密封舱上的水密连接缆与外部进行电气连接。这类结构的测量仪器一般有自容式和直读式两种工作方式，自容式工作方式为，将测量数据存储在测量仪器内部的存储器上，回收测量仪器后，连接水密缆或打开耐压密封舱舱盖，测量船数据回收单元与测量仪器舱内的处理电路建立有线通讯连接，再读取数据。直读式工作方式为，通过水密缆一直保持与岸上或测量船上的数据连接，可随时读取测量数据。在实际应用中，广泛地使用无人船进行海洋参数测量，即绞车采用无人控制，可自动完成测量仪下放和回收控制。但对于深水测量或小型无人船场合，因为长距离传输技术限制、水密缆重量过大、自动排缆故障率高等原因，都不适合采用直读方式工作。而采用自容式工作方式，其连接方式复杂，无法自主完成电气连接后进行数据传输。因此，现需要一种在将海洋测量仪器回收后，测量船数据回收单元与海洋测量仪器舱内处理电路连接方便、能自主完成电气连接的应用于海洋测量仪器的数据无线传输电路及装置。发明内容本发明的主要目的在于提供一种应用于海洋测量仪器的数据无线传输电路及装置，以解决现有技术中的海洋测量仪器数据回收的时效性差，连接方式复杂的问题。为实现上述目的，本发明提供了一种应用于海洋测量仪器的数据无线传输电路，包括：电源、天线、模拟开关、主蓝牙模块、上拉电阻、磁性开关、微处理器、Flash存储器、数据采集模块和传感器；天线与主蓝牙模块连接；主蓝牙模块通过模拟开关与电源的正极相连，用于与测量船数据回收单元内的从蓝牙模块连接并进行数据传输；微处理器与主蓝牙模块、Flash存储器和数据采集模块相连，用于控制主蓝牙模块的上电工作并控制主蓝牙模块进行指令和数据的双向传输；还用于读取Flash存储器存储的数据，以及用于控制数据采集模块采集数据；微处理器还通过上拉电阻与电源的正极相连，磁性开关一端接地，另一端与上拉电阻相连；数据采集模块还与电源正极和传感器相连；电源负极接地；电路具有数据采集模式和数据传输模式，当电路为数据采集模式时，模拟开关和磁性开关均处于打开状态，当电路为数据传输模式时，模拟开关和磁性开关均处于关闭状态。进一步地，微处理器具有输入端口，输入端口与磁性开关连接。进一步地，磁性开关还可以替换为压力开关。本发明还提供一种应用于海洋测量仪器的数据无线传输装置，包括舱体、舱盖、辅助支架和数据传输底座，电路封装于舱体内部，两个舱盖分别位于舱体的两端，辅助支架位于舱体的一端，并固定于舱盖的外侧，数据传输底座内部安装有磁钢；装置具有数据采集模式和数据传输模式，当装置处于数据采集模式时，舱体位于水下，与数据传输底座分离；当装置处于数据传输模式时，舱盖与数据传输底座固定连接，磁性开关位于与磁钢相对位置处。进一步地，天线为PCB结构，封装在舱盖本体内并靠近舱盖上壁，在舱体内留出接头，与主蓝牙模块相连。进一步地，天线为棒状结构，位于舱体外部，通过水密接头引入舱体内，与主蓝牙模块相连。进一步地，辅助支架底部具有凸块，数据传输底座内具有与凸块相适配的凹槽。进一步地，舱体为耐压密封舱，舱盖为耐压密封舱盖。本发明具有如下有益效果：本发明提供的电路或装置，可以在将海洋测量仪器回收后，测量船数据回收单元自动与海洋测量仪器舱内的处理电路进行连接并进行数据传输，显著简化了海洋测量仪器进行数据回收时需要连接水密缆或打开测量仪耐压密封舱的过程，大大扩展了相关仪器的应用场景。在完成数据传输后，电路中的主蓝牙模块能自动或依据指令断电休眠，降低海洋测量仪器的电能消耗。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。在附图中：图1示出了本发明的一种应用于海洋测量仪器的数据无线传输电路的实施例一的结构示意图；图2示出了本发明的一种应用于海洋测量仪器的数据无线传输装置的实施例一的结构示意图。其中，上述附图中的附图标记为：1、电源；2、天线；3、模拟开关；4、主蓝牙模块；5、上拉电阻；6、磁性开关；7、微处理器；8、Flash存储器；9、数据采集模块；10、传感器；20、舱体；21、舱盖；22、辅助支架；221、凸块；30、数据传输底座；31、磁钢；32、凹槽。具体实施方式下面将结合附图对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例一如图1所示的一种应用于海洋测量仪器的数据无线传输电路，包括：电源1、天线2、模拟开关3、主蓝牙模块4、上拉电阻5、磁性开关6、微处理器7、Flash存储器8、数据采集模块9和传感器10；天线2与主蓝牙模块4连接；主蓝牙模块4通过模拟开关3与电源1的正极相连，用于与测量船数据回收单元内的从蓝牙模块连接并进行数据传输；微处理器7与主蓝牙模块4、Flash存储器8和数据采集模块9相连，用于控制主蓝牙模块4的上电工作并控制主蓝牙模块4进行指令和数据的双向传输；还用于读取Flash存储器8存储的数据，以及用于控制数据采集模块9采集数据；微处理器7还通过上拉电阻5与电源1的正极相连，磁性开关6一端接地，另一端与上拉电阻5相连；数据采集模块9还与电源1正极和传感器10相连；电源1负极接地；电路具有数据采集模式和数据传输模式，当电路为数据采集模式时，模拟开关3和磁性开关6均处于打开状态，当电路为数据传输模式时，模拟开关3和磁性开关6均处于关闭状态。其中，主蓝牙模块4由模拟开关3控制通断，模拟开关3的关闭或打开由微处理器7控制。其中，测量船数据回收单元内具有从蓝牙模块，在进行数据传输时，与主蓝牙模块连接后，即可进行数据传输。本发明提供的电路或装置，可以在将海洋测量仪器回收后，测量船数据回收单元自动与海洋测量仪器舱内的处理电路进行连接并进行数据传输，显著简化了海洋测量仪器进行数据回收时需要连接水密缆或打开测量仪耐压密封舱的过程，大大扩展了相关仪器的应用场景。在完成数据传输后，电路中的主蓝牙模块能自动或依据指令断电休眠，降低海洋测量仪器的电能消耗。具体地，微处理器7具有输入端口P1.1，输入端口P1.1与磁性开关6连接。如图2所示，本发明还提供一种应用于海洋测量仪器的数据无线传输装置，包括舱体20、舱盖21、辅助支架22和数据传输底座30，电路封装于舱体20内部，两个舱盖21分别位于舱体20的两端，辅助支架22位于舱体20的一端，并固定于舱盖21的外侧，数据传输底座30内部安装有磁钢31；装置具有数据采集模式和数据传输模式，当装置处于数据采集模式时，舱体位于水下，与数据传输底座30分离；当装置处于数据传输模式时，舱盖21与数据传输底座30固定连接，磁性开关6位于与磁钢31相对位置处。其中，辅助支架22通过螺钉固定在舱盖21上。具体应用中，主蓝牙模块4、模拟开关3、微处理器7、Flash存储器8、磁性开关6、数据采集模块9安放在海洋测量仪器的舱体20内部，即耐压密封舱内。磁性开关6固定安装在耐压密封舱内底壁上。数据传输底座30上安装有磁钢31，放置在测量船上，为磁性开关6提供外部触发信号。在实际应用中，海洋测量仪器通过绞车下放，测量各类海水要素，测量数据经数据采集模块9处理后，存放在Flash存储器8中。测量工作完成后，通过绞车回收。测量人员将测量仪器放置在数据传输底座30上，磁性开关6在磁钢31磁场的作用下导通，微处理器7在监测到输入端口P1.1发生由高到低的电平变化后，自动向模拟开关3发出控制信号，让其导通，耐压密封舱内的主蓝牙模块4开始上电工作。实现了连接方便、能自主完成电气连接的功能。微处理器7向其发送AT指令，搜索安装在测量船数据回收单元内的从蓝牙模块，与其配对并建立连接后，即可进行数据传输，并能根据接收到的指令，可修改测量仪器配置参数或传输测量数据。通讯结束后，可根据指令断开模拟开关3，将舱内的主蓝牙模块4断电，以节省能耗。也可将测量仪器从数据传输底座30脱离，控制磁性开关6导通的外部磁场消失，微处理器7的输入端口P1.1变为高电平，微处理器7在监测到输入端口P1.1发生由低到高的电平变化后，自动关闭模拟开关3，主蓝牙模块4断电关机。具体地，天线2为PCB结构，封装在舱盖21本体内并靠近舱盖上壁，在舱体20内留出接头，与主蓝牙模块4相连。把天线封装在舱盖21本体内部并靠近舱盖上壁，再通过注塑等方式密封，既可以让天线2尽可能地靠近舱盖21外侧，保证通讯，也不影响舱盖的密封性。具体地，辅助支架22底部具有凸块221，数据传输底座30内具有与凸块221相适配的凹槽32。辅助支架22底部的长方形凸起正好可以放入数据传输底座30上的凹槽32内，将安装有辅助支架22的测量仪器放置在数据传输底座30上时，可以确保两者相对位置的固定。具体地，舱体20为耐压密封舱，舱盖21为耐压密封舱盖21。实施例二本实施例提供一种应用于海洋测量仪器的数据无线传输电路，其是在实施例一基础上的形变，区别在于磁性开关6还可以替换为压力开关。对于无人船，由于无法把耐压密封舱放置在数据传输底座上，因此可以将磁性开关替换为压力开关，由海水压力控制开关通断。设置压力开关也可以实现连接方便、能自主完成电气连接并进行数据传输的功能。当测量仪器到达水面后，压力开关导通，微处理器7在监测到输入端口P1.1发生由高到低的电平变化后，向模拟开关3发出控制信号，让其导通，耐压密封舱内的主蓝牙模块4开始上电工作。同样的，将测量仪器下放入水或发送指令都可关断模拟开关3，主蓝牙模块4断电关机。实施例三本实施例提供一种应用于海洋测量仪器的数据无线传输装置，其是在实施例一基础上的形变，区别在于天线2为棒状结构，位于舱体20外部，通过水密接头引入舱体20内，与主蓝牙模块4相连。当然，上述说明并非是对本发明的限制，本发明也并不仅限于上述举例，本技术领域的技术人员在本发明的实质范围内所做出的变化、改型、添加或替换，也应属于本发明的保护范围。
