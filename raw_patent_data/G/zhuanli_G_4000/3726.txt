标题title
面向多目标优化的圆极化微带天线参数优化方法及系统
摘要abst
本发明公开了面向多目标优化的圆极化微带天线参数优化方法及系统，该方法包括以下步骤：S1)根据设计要求，初始化N组天线结构参数作为父代种群Pt，种群中的个体数为N，并根据设定的优化目标个数M，初始化参考点集合Zs；S2)根据天线结构参数对圆极化微带天线进行电磁建模；S3)进行电磁计算得到对应工作频点的M个天线性能指标作为优化目标；S4)根据M个优化目标，通过自适应的NSGA‑III算法寻找天线更优结构参数，转至步骤S2)，直至满足设定条件，得到最优天线结构参数，从而实现圆极化微带天线的参数优化。本发明结合多目标优化算法，对多个天线性能指标进行优化，通过引入支配关系及参考点在高维度空间维持解的多样性。
权利要求书clms
1.一种面向多目标优化的圆极化微带天线参数优化方法，所述方法包括：步骤S1)根据设计要求，初始化N组天线结构参数作为父代种群Pt，种群中的个体数为N，并根据设定的优化目标个数M，初始化参考点集合Zs；步骤S2)根据天线结构参数对圆极化微带天线进行电磁建模；步骤S3)进行电磁计算得到对应工作频点的M个天线性能指标，作为M个优化目标；步骤S4)根据M个优化目标，通过自适应的NSGA-III算法寻找天线更优结构参数，转至步骤S2)，直至满足设定条件，得到最优天线结构参数，从而实现圆极化微带天线的参数优化。2.根据权利要求1所述的面向多目标优化的圆极化微带天线参数优化方法，其特征在于，所述步骤S1)中根据设定的优化目标个数M，初始化参考点Zs；具体包括：在超平面上确定参考点，根据设定的优化目标个数M，将每个优化目标分为H份，生成集合p＝{0/H,1/H,2/H,...,H/H}，从中任意选择M个元素pj∈p，对于满足的构成外边界层参考点集合Zs_boundary；按照对应关系生成内边界层的参考点集Zs_inside；Zs_boundary和Zs_inside合并构成一致性参考点集合Zs。3.根据权利要求2所述的面向多目标优化的圆极化微带天线参数优化方法，其特征在于，所述步骤S1)还包括：设定迭代次数t初值为1，迭代次数最大值为tmax。4.根据权利要求3所述的面向多目标优化的圆极化微带天线参数优化方法，其特征在于，所述步骤S2)具体包括：根据N组天线结构参数，通过HFSS-MATLAB-API工具包生成脚本，基于脚本采用HFSS三维电磁仿真软件对圆极化微带天线进行电磁建模。5.根据权利要求4所述的面向多目标优化的圆极化微带天线参数优化方法，其特征在于，所述步骤S3)具体包括：通过HFSS三维电磁仿真软件的求解器进行电磁计算，得到对应工作频点Freq的M个天线性能指标作为优化目标，所述性能目标包括回波损耗S11Freq、轴比Axial RatioFreq、天线增益GainFreq和对应俯仰角或方位角Theta的天线极化比满足下式：6.根据权利要求5所述的面向多目标优化的圆极化微带天线参数优化方法，其特征在于，所述步骤S4)包括：步骤S4-1)以天线结构参数作为待优化种群，对于迭代次数t，当t＝1时待优化种群为第一代父代种群Pt，当t＞1时待优化种群为含有父代种群Pt和子代种群Qt的混合种群Rt；步骤S4-2)根据步骤S3)的优化目标，遍历Pt或Rt中的每个个体s，均进行快速非支配化排序，得到多个非支配层F＝{F1,F2,…}中的个体；步骤S4-3)将多个非支配层中的个体由F1开始，逐层放入新种群St，直至St数目第一次不小于种群中的个体数N；步骤S4-4)判断St的个数是否等于N，判断为是，将St放入新的父代种群Pt+1，转至步骤S4-5)；判断为否，令最后放入的非支配层为第h层Fh，则将第1层F1到第h-1层Fh-1个体放入新的父代种群Pt+1中，此时个体数为T，然后从第h层Fh中选择剩余K＝N-T个个体，进行归一化、连接与筛选操作，将新的个体放入新的父代种群Pt+1中，此时种群个数为N个；步骤S4-5)对新的父代种群Pt+1分别计算适应度函数Vt和多样性度量Gt，根据当前迭代次数t更新交叉概率pc和变异概率pm；步骤S4-6)根据步骤S4-5)更新后的交叉概率pc和变异概率pm，进行自适应二进制交叉和自适应多项式变异，生成新的子代种群Qt+1；步骤S4-7)迭代次数t加1，若迭代次数t未达到预设值tmax，将新子代种群Qt+1和新的父代种群Pt+1合并为新的混合种群Rt+1，此时种群个数为2N，并将Rt+1的结构参数设定为天线结构参数，转至步骤S2)，否则，转至步骤S4-8)；步骤S4-8)由种群Pt+1得到天线结构参数，从而实现圆极化微带天线参数的优化。7.根据权利要求6所述的面向多目标优化的圆极化微带天线参数优化方法，其特征在于，所述步骤S4-2)具体包括：步骤S4-2-1)对属于Pt或Rt的个体s的目标函数f＝{f1,f2,...,fM}进行归一化，并进行快速非支配排序，产生多个非支配层F＝{F1,F2,…}，其中快速非支配排序采用串行搜索方法，将待优化种群按照第一个目标函数f1进行升序排列，得到排列后的种群Ptrank和对应的顺序rank；步骤S4-2-2)进行串行搜索排序，当前非支配层数FrontNum＝1，每个个体的初始非支配层数PFrontNum＝Inf，其中，Inf表示无穷大；步骤S4-2-3)从当前排列后的种群Ptrank的第1个个体si开始，对每一个当前非支配层数PFrontNum＝Inf的个体进行排序，i＝1；步骤S4-2-4)遍历排在此个体前面rank＜i的每个个体sj，其中，下标j＝1,2,…,i-1；如果有个体sj的非支配层数PFrontNum＝FrontNum，则判断剩下的M-1个目标是否有si的目标函数小于sj的目标函数：如果有，则说明si非支配，此时当前个体si对应的非支配层数PFrontNum＝FrontNum，i加1；如果没有，则说明si是被支配的，不进行非支配排列，i加1，转至步骤S4-2-4)，直至i等于当前种群Ptrank中个体数；如果没有个体sj的非支配层数PFrontNum＝FrontNum，则sj为非支配，对应的非支配层数PFrontNum＝FrontNum，i加1，转至步骤S4-2-4)执行，直至i等于当前种群Ptrank中个体数；对当前非支配层数FrontNum加1，转至步骤S4-2-3)执行，直到对每个个体均进行非支配排序，即不存在个体其非支配层数PFrontNum＝Inf，此时的FrontNum为最大非支配层数。8.根据权利要求7所述的面向多目标优化的圆极化微带天线参数优化方法，其特征在于，所述步骤S4-4)具体包括：判断St的个数是否等于N，判断为是，将St放入新的父代种群Pt+1，转至步骤S4-5)；判断为否，则进行如下处理：步骤S4-4-1)根据当前种群的目标向量最小值对种群每个个体s∈St对应的目标向量f＝映射到目标向量f′：并计算当前种群在每个目标上的最大值点以这M个最大值点构成超平面，得到在各个目标对应的坐标轴上的截距aj，其中j＝1,2,…,M，对每个个体映射后的目标向量f′进行归一化操作；步骤S4-4-2)对于归一化后的超平面构造参考点集合Zr，有Zr＝Zs；针对已有的结构化参考点z∈Zr，确定每个参考点z相对应的参考线w，计算每个个体s∈St和各个参考线之间的距离，找到每个个体s距离最近的参考点π，此时得到π对应的参考线与个体s之间的距离d)，从而实现种群个体和参考点之间的连接；步骤S4-4-3)令第i个参考点zi∈Zr和种群Pt+1＝St/Fh所连接的个体数量为ρ；步骤S4-4-4)生成最小连接数参考点集合步骤S4-4-5)对于随机的确定集合/＞判断集合/＞是否为空集/＞如果则/＞并且转至步骤S4-4-4)继续执行；如果且/＞则选择集合/＞中d)最小的个体s放入种群Pt+1中，此时并且Fh＝Fh/s，转至步骤S4-4-4)继续执行；如果且/＞则从集合/＞中随机选择一个个体s放入种群Pt+1中，此时并且Fh＝Fh/s，转至步骤S4-4-4)继续执行，直至共筛选得到K个个体并放入种群Pt+1中。9.根据权利要求8所述的面向多目标优化的圆极化微带天线参数优化方法，其特征在于，所述步骤S4-5)具体包括：根据下式分别得到第t次迭代的适应度函数Vt和多样性度量Gt：/＞其中，ωj为归一化目标函数对应的权重，满足Wi为第t次迭代第i个个体对应的适应度函数，/＞为第t次迭代种群Pt+1中的第i个个体，i＝1,2,…,N，fj为个体/＞对应的天线在工作频点Freq或角度Theta对应的归一化后的第j个天线性能指标，j＝1,2,…,M；为第t次迭代，种群Pt+1中的第i个非支配个体/＞和非支配个体/＞的欧式距离，这些个体即为天线结构参数；根据当前迭代次数t，由适应度函数Vt和多样性度量Gt更新交叉概率pc和变异概率pm：其中，分别为设定的交叉概率的最大值和最小值，/＞分别为设定的变异概率的最大值和最小值。10.一种面向多目标优化的圆极化微带天线参数优化系统，其特征在于，所述系统包括：初始化模块，用于根据设计要求，初始化N组天线结构参数作为父代种群Pt，种群中的个体数为N，并根据设定的优化目标个数M，初始化参考点集合Zs；电磁建模模块，用于根据天线结构参数对圆极化微带天线进行电磁建模；优化目标计算模块，用于进行电磁计算得到对应工作频点的M个天线性能指标，作为M个优化目标；多目标优化模块，用于根据M个优化目标，通过自适应的NSGA-III算法寻找天线更优结构参数，转至电磁建模模块，直至满足设定条件，得到最优天线结构参数，从而实现圆极化微带天线的参数优化。
说明书desc
技术领域本发明涉及天线的多目标优化领域，涉及面向多目标优化的圆极化微带天线参数优化方法及系统。背景技术目前天线参数优化的方法主要分为三类，基于智能优化算法、基于神经网络以及基于智能优化算法和神经网络结合的方法。智能优化算法在天线设计中的应用比较成熟，主要包括遗传算法、粒子群算法、蚁群算法等，通过将天线参数作为优化对象，将回波损耗作为优化的目标，通过不断迭代直至最终得到合适的天线尺寸。而基于神经网络类的天线优化设计算法主要是通过将电磁仿真软件的结果和设置的天线尺寸作为训练数据，通过不断学习天线参数和天线性能的特征来实现不经过电磁软件直接将天线尺寸数据输入即可得到相关天线电磁特性。其中以卷积神经网络为主。而基于二者结合的算法可以做到通过传统智能算法对参数进行寻优，通过神经网络对电磁性能进行预测从而替代电磁仿真软件，提高了优化和设计效率。在进行圆极化微带天线设计时，天线设计人员除了关注回波损耗外，还要关注天线的轴比、天线的增益，有时会关注某个方向的极化比以此来确定该方向的极化特性。为此，传统的智能优化算法因为无法在多维空间寻找到合适的解而不再适用。而采用神经网络的天线优化方法则很难做到通过训练能都同时对多个性能指标进行预测，有些性能的优化可能是互相冲突的，同时采用CNN等网络有可能陷入局部最优。为此，需要考虑一种针对多目标进行优化的算法。目前国内外在多目标优化领域研究较为成熟的算法有NSGA-II、SPEA2、MOPSO算法等，随着目标的增多时，上述算法的收敛性能下降，对算法在高维空间的寻优能力有较大挑战。NSGA-III算法通过引入了参考点机制，维持了种群的多样性，使最佳个体不易丢失，避免了局部最优。而在现有算法中暂时没有发现针对圆极化天线多目标进行优化的文献资料，主要是针对单目标的。发明内容本发明的目的在于克服现有技术缺陷，提出了面向多目标优化的圆极化微带天线参数优化方法及系统。采用基于自适应的NSGA-III算法对天线参数进行优化。为了实现上述目的，本发明提出了一种面向多目标优化的圆极化微带天线参数优化方法，所述方法包括：步骤S1)根据设计要求，初始化N组天线结构参数作为父代种群Pt，种群中的个体数为N，并根据设定的优化目标个数M，初始化参考点集合Zs；步骤S2)根据天线结构参数对圆极化微带天线进行电磁建模；步骤S3)进行电磁计算得到对应工作频点的M个天线性能指标，作为M个优化目标；步骤S4)根据M个优化目标，通过自适应的NSGA-III算法寻找天线更优结构参数，转至步骤S2)，直至满足设定条件，得到最优天线结构参数，从而实现圆极化微带天线的参数优化。作为上述方法的一种改进，所述步骤S1)中根据设定的优化目标个数M，初始化参考点Zs；具体包括：在超平面上确定参考点，根据设定的优化目标个数M，将每个优化目标分为H份，生成集合p＝{0/H,1/H,2/H,...,H/H}，从中任意选择M个元素pj∈p，对于满足的构成外边界层参考点集合Zs_boundary；按照对应关系生成内边界层的参考点集Zs_inside；Zs_boundary和Zs_inside合并构成一致性参考点集合Zs。作为上述方法的一种改进，所述步骤S1)还包括：设定迭代次数t初值为1，迭代次数最大值为tmax。作为上述方法的一种改进，所述步骤S2)具体包括：根据N组天线结构参数，通过HFSS-MATLAB-API工具包生成脚本，基于脚本采用HFSS三维电磁仿真软件对圆极化微带天线进行电磁建模。作为上述方法的一种改进，所述步骤S3)具体包括：通过通过HFSS三维电磁仿真软件的求解器进行电磁计算，得到对应工作频点Freq的M个天线性能指标作为优化目标，所述性能目标包括回波损耗S11Freq、轴比AxialRatioFreq、天线增益GainFreq和对应俯仰角或方位角Theta的天线极化比满足下式：作为上述方法的一种改进，所述步骤S4)包括：步骤S4-1)以天线结构参数作为待优化种群，对于迭代次数t，当t＝1时待优化种群为第一代父代种群Pt，当t＞1时待优化种群为含有父代种群Pt和子代种群Qt的混合种群Rt；步骤S4-2)根据步骤S3)的优化目标，遍历Pt或Rt中的每个个体s，均进行快速非支配化排序，得到多个非支配层F＝{F1,F2,…}中的个体；步骤S4-3)将多个非支配层中的个体由F1开始，逐层放入新种群St，直至St数目第一次不小于种群中的个体数N；步骤S4-4)判断St的个数是否等于N，判断为是，将St放入新的父代种群Pt+1，转至步骤S4-5)；判断为否，令最后放入的非支配层为第h层Fh，则将第1层F1到第h-1层Fh-1个体放入新的父代种群Pt+1中，此时个体数为T，然后从第h层Fh中选择剩余K＝N-T个个体，进行归一化、连接与筛选操作，将新的个体放入新的父代种群Pt+1中，此时种群个数为N个；步骤S4-5)对新的父代种群Pt+1分别计算适应度函数Vt和多样性度量Gt，根据当前迭代次数t更新交叉概率pc和变异概率pm；步骤S4-6)根据步骤S4-5)更新后的交叉概率pc和变异概率pm，进行自适应二进制交叉和自适应多项式变异，生成新的子代种群Qt+1；步骤S4-7)迭代次数t加1，若迭代次数t未达到预设值tmax，将新子代种群Qt+1和新的父代种群Pt+1合并为新的混合种群Rt+1，此时种群个数为2N，并将Rt+1的结构参数设定为天线结构参数，转至步骤S2)，否则，转至步骤S4-8)；步骤S4-8)由种群Pt+1得到天线结构参数，从而实现圆极化微带天线参数的优化。作为上述方法的一种改进，所述步骤S4-2)具体包括：步骤S4-2-1)对属于Pt或Rt的个体s的目标函数f＝{f1,f2,...,fM}进行归一化，并进行快速非支配排序，产生多个非支配层F＝{F1,F2,…}，其中快速非支配排序采用串行搜索方法，将待优化种群按照第一个目标函数f1进行升序排列，得到排列后的种群Ptrank和对应的顺序rank；步骤S4-2-2)进行串行搜索排序，当前非支配层数FrontNum＝1，每个个体的初始非支配层数PFrontNum＝Inf，Inf表示无穷大；步骤S4-2-3)从当前排列后的种群Ptrank第1个个体si开始，对每一个当前非支配层数PFrontNum＝Inf的个体进行排序，i＝1；步骤S4-2-4)遍历排在此个体前面rank＜i的每个个体sj，其中下标j＝1,2,…,i-1；如果有个体sj的非支配层数PFrontNum＝FrontNum，则判断剩下的M-1个目标是否有si的目标函数小于sj的目标函数：如果有，则说明si非支配，此时当前个体si对应的非支配层数PFrontNum＝FrontNum，i加1；如果没有，则说明si是被支配的，不进行非支配排列，i加1，转至步骤S4-2-4)，直至i等于当前种群Ptrank中个体数；如果没有个体sj的非支配层数PFrontNum＝FrontNum，则sj为非支配，对应的非支配层数PFrontNum＝FrontNum，i加1，转至步骤S4-2-4)执行，直至i等于当前种群Ptrank中个体数；对当前非支配层数FrontNum加1，转至步骤S4-2-3)执行，直到对每个个体均进行非支配排序，即不存在个体其非支配层数PFrontNum＝Inf，此时的FrontNum为最大非支配层数。作为上述方法的一种改进，所述步骤S4-4)具体包括：判断St的个数是否等于N，判断为是，将St放入新的父代种群Pt+1，转至步骤S4-5)；判断为否，则进行如下处理：步骤S4-4-1)根据当前种群的目标向量最小值对种群每个个体s∈St对应的目标向量f＝映射到目标向量f′：并计算当前种群在每个目标上的最大值点以这M个最大值点构成超平面，得到在各个目标对应的坐标轴上的截距aj，其中j＝1,2,…,M，对每个个体映射后的目标向量f′进行归一化操作；步骤S4-4-2)对于归一化后的超平面构造参考点集合Zr，有Zr＝Zs；针对已有的结构化参考点z∈Zr，确定每个参考点z相对应的参考线w，计算每个个体s∈St和各个参考线之间的距离，找到每个个体s距离最近的参考点π，此时得到π对应的参考线与个体s之间的距离d)，从而实现种群个体和参考点之间的连接；步骤S4-4-3)令第i个参考点zi∈Zr和种群Pt+1＝St/Fh所连接的个体数量为ρ；步骤S4-4-4)生成最小连接数参考点集合步骤S4-4-5)对于随机的确定集合/＞判断集合Ii是否为空集/＞如果则/＞并且转至步骤S4-4-4)继续执行；如果且/＞则选择集合/＞中d)最小的个体s放入种群Pt+1中，此时/＞并且Fh＝Fh/s，转至步骤S4-4-4)继续执行；如果且/＞则从集合/＞中随机选择一个个体s放入种群Pt+1中，此时并且Fh＝Fh/s，转至步骤S4-4-4)继续执行，直至共筛选得到K个个体并放入种群Pt+1中。作为上述方法的一种改进，所述步骤S4-5)具体包括：根据下式分别得到第t次迭代的适应度函数Vt和多样性度量Gt：其中，ωj为归一化目标函数对应的权重，满足Wi为第t次迭代第i个个体对应的适应度函数，/＞为第t次迭代种群Pt+1中的第i个个体，i＝1,2,…,N，fj为个体/＞对应的天线在工作频点Freq或角度Theta对应的归一化后的第j个天线性能指标，j＝1,2,…,M；为第t次迭代，种群Pt+1中的第i个非支配个体/＞和非支配个体/＞的欧式距离，这些个体即为天线结构参数；根据当前迭代次数t，由适应度函数Vt和多样性度量Gt更新交叉概率pc和变异概率pm：其中，分别为设定的交叉概率的最大值和最小值，/＞分别为设定的变异概率的最大值和最小值。另一方面，本发明提出了一种面向多目标优化的圆极化微带天线参数优化系统，所述系统包括：初始化模块，用于根据设计要求，初始化N组天线结构参数作为父代种群Pt，种群中的个体数为N，并根据设定的优化目标个数M，初始化参考点集合Zs；电磁建模模块，用于根据天线结构参数对圆极化微带天线进行电磁建模；优化目标计算模块，用于进行电磁计算得到对应工作频点的M个天线性能指标，作为M个优化目标；多目标优化模块，用于根据M个优化目标，通过自适应的NSGA-III算法寻找天线更优结构参数，转至电磁建模模块，直至满足设定条件，得到最优天线结构参数，从而实现圆极化微带天线的参数优化。与现有技术相比，本发明的优势在于：1、本发明结合多目标优化算法NSGA-III，可以对多个天线性能指标进行优化，通过引入支配关系以及参考点使得在高维度空间维持解的多样性；2、本发明通过自适应更新交叉概率和变异概率，提高前期对决策空间的探索能力以及后期的收敛能力，提高寻优的效率。附图说明图1是本发明的面向多目标优化的圆极化微带天线参数优化方法流程图；图2是实施例1的参考点示意图；图3是实施例1天线结构尺寸示意图；图4是实施例1S11参数示意图；图5是实施例1轴比参数示意图；图6是实施例1极化比示意图；图7是实施例1天线增益示意图。具体实施方式本发明的目的在于提供一种基于自适应NSGA-III算法的圆极化微带天线参数优化算法，针对圆极化微带天线比较关注的多个性能指标，对天线参数进行优化。相比于传统的优化算法，该算法能同时对多个指标进行优化，通过自适应的更新交叉概率和变异概率来提高前期对解空间的探索能力以及后期的收敛能力，强化了Pareto解集的搜索能力。为了实现上述目的，本发明通过HFSS-MATLAB-API工具，编写VB脚本宏指令控制HFSS三维电磁仿真软件进行天线建模，调用HFSS求解器得到回波损耗、轴比、天线增益和天线极化比等，将其中关注的某些频点对应的值记录并作为优化目标传回MATLAB，然后采用自适应NSGA-III算法进行优化，将天线结构参数作为种群，通过非支配排序，种群的筛选和合并，并且每次迭代时根据迭代次数、适应度函数和多样性度量，对交叉概率和变异概率进行自适应更新，将新的子代种群和父代种群即新的结构参数传给HFSS并求解当前结构下的相关参数，不断迭代。最后当达到最大迭代次数时结束，得到对应的Pareto解集。本发明主要是借助HFSS求解器以及自适应NSGA-III算法，通过不断地生成新的天线结构参数，最终得到合适的Pareto解集。Pareto解集也称为非支配解，这些解的特征是在不优化任何目标函数的同时，也不削弱至少一个目标函数。图1给出了一种基于自适应NSGA-III算法的圆极化微带天线参数优化算法流程图。下面是具体的实现步骤。步骤1)在MATLAB利用HFSS-MATLAB-API提供的相关m程序和函数，来编写VB脚本。在MATLAB中初始化一组天线结构参数作为第一代种群，步骤2)为了后面对种群进行筛选，还需要初始化参考点。为了便于说明，以M＝3，H＝4为例，按照以下方法生成：a.按照Das and Dennis’s method，将每个目标分为4份，生成集合p＝{0/H,1H,2/H,…,H/H}，从中任意选择三个元素pj∈p组成三维空间中的参考点，其中第k个点可以表示为zk＝，满足例如，等，由此得到外边界层参考点集Zs_boundary；b.将a步骤中得到的参考点zk＝按照对应关系生成内边界层/＞其中j＝1,2,…,M，如图2所示，由此得到内边界层参考点集Zs_inside。总参考点集Zs为外边界层参考点集和内边界层参考点集的并集，有Zs＝Zs_boundary∪Zs_inside，需要说明的是内边界层参考点集和外边界层参考点集在一个超平面上。步骤3)并且根据结构参数进行建模，调用HFSS求解器得到所关注的M个性能指标比如回波损耗，轴比，天线增益，天线极化比等，在调用相关求解函数时可以设置关注的求解频率Freq和角度Theta。步骤4)将HFSS返回的每个个体对应的M个目标函数值进行归一化，归一化函数可以为分段函数或多项式函数等，如下所示，以M＝4为例，/＞步骤5)对于t＝1时的个体s∈Pt或者t＞1时的个体s∈Rt的目标函数f＝{f1,f2,f3,f4}进行快速非支配排序，产生多个非支配层F＝{F1,F2,…}。其中快速非支配排序采用串行搜索方法，将待优化种群按照第一个目标函数进行升序排列，得到排列后的种群Ptrank和对应的顺序rank。开始进行串行搜索排序，当前非支配层数FrontNum＝1，每个个体的初始非支配层数PFrontNum＝Inf，步骤5-1)从当前排列后的种群Ptrank第一个个体si开始，对每一个当前非支配层数PFrontNum＝Inf的个体进行排序，步骤5-2)遍历排在此个体前面的每个个体sj，其中j＝1,2,…,i-1，如果有个体sj的非支配层数PFrontNum＝FrontNum，则判断剩下的M-1个目标是否存在si的目标函数小于sj的目标函数的：如果存在，则说明si非支配，此时当前个体si对应的非支配层数PFrontNum＝FrontNum，此时i＝i+1；如果不存在，则说明si是被支配的，不进行非支配排列，此时i＝i+1，回到步骤5-2)，直至i等于当前种群Ptrank中个体数。如果没有个体sj的非支配层数PFrontNum＝FrontNum，则sj为非支配，对应的非支配层数PFrontNum＝FrontNum，i＝i+1，然后回到步骤5-2)，直至i等于当前种群Ptrank中个体数。完成上述步骤后，此时当前非支配层数FrontNum＝FrontNum+1，回到步骤5-1)执行，直到对每个个体均进行非支配排序，即不存在个体其非支配层数PFrontNum＝Inf，此时的FrontNum为最大非支配层数。步骤6)将多个非支配层中的个体由F1层开始，将F2层，F3层，…逐层放入新种群St，后面直至St中的个体数目第一次不小于N，判断St的个数是否等于N：判断为是，将St放入新的父代种群Pt+1，转至步骤7)；判断为否，令最后放入的非支配层为第h层Fh，则将第1层F1到第h-1层Fh-1个体放入新的父代种群Pt+1中，此时个体数为T，然后从第h层Fh中选择剩余K＝N-T个个体，进行归一化、连接、筛选操作，将新的个体放入新的父代种群Pt+1中，此时种群个数为N个。已经对当前目标函数进行归一化，故此时不需要进行归一化操作，如果天线设计人员在步骤4)中采用其他函数映射方式导致结果不是归一化的，则此时需要进行归一化，即归一化操作为可选)对于归一化操作后的参考点，有Zr＝Zs。步骤6-1)根据当前种群的目标向量最小值对种群每个个体s∈St对应的目标向量f＝映射到目标向量f′，有并计算当前种群在每个目标上的最大值点以这M个最大值点构成超平面，得到在各个目标对应的坐标轴上的截距aj，其中j＝1,2,…,M，对每个个体映射后的目标向量f′进行归一化操作，有步骤6-2)对于归一化后的超平面构造参考点集合，有Zr＝Zs。针对已有的结构化参考点z∈Zr，确定每个参考点z相对应的参考线w，参考线为经过原点与参考点的直线，如图2所示，计算每个个体s∈St和各个参考线之间的距离，找到每个个体s距离最近的参考点π，此时得到π对应的参考线与个体s之间的距离d)，从而实现种群个体和参考点之间的连接。步骤6-3)令第i个参考点zi∈Zr和种群Pt+1＝St/Fh所连接的个体数量为ρ，步骤6-3-1)生成最小连接数参考点集合步骤6-3-2)对于随机的确定集合/＞判断集合/＞是否为空集/＞如果则/＞并且回到步骤6-3-1)继续执行；如果判断连接数/＞是否为0：如果则选择集合/＞中d)最小的个体s放入种群Pt+1中，此时并且Fh＝Fh/s，回到步骤6-3-1)继续执行；如果则从集合/＞中随机选择一个个体s放入种群Pt+1中，此时并且Fh＝Fh/s，回到步骤6-3-1)继续执行。步骤6-3)执行直至共筛选得到K个个体并放入种群Pt+1中。此时完成筛选操作。步骤7)根据下式分别得到第t次迭代的适应度函数Vt和多样性度量Gt：/＞其中，ωj为归一化目标函数对应的权重，满足Wi为第t次迭代第i个个体对应的适应度函数，/＞为第t次迭代种群Pt+1中的第i个个体，i＝1,2,…,N，经过加权平均后得到种群的适应度函数Vt。fj为个体/＞对应的天线在工作频点Freq或者角度Theta对应的归一化后的第j个天线性能指标，其中j＝1,2,…,M；/＞为第t次迭代，种群Pt+1中的第i个非支配个体/＞和非支配个体/＞的欧式距离，这些个体即为天线结构参数；步骤8)根据当前迭代次数t，由适应度函数Vt和多样性度量Gt更新交叉概率pc和变异概率pm：其中，分别为设定的交叉概率的最大值和最小值，/＞分别为设定的变异概率的最大值和最小值。步骤9)根据更新后的自适应交叉概率pc和自适应变异概率pm，对种群Pt+1进行二进制交叉和多项式变异，得到子代种群Qt+1，并将子代种群Qt+1和父代种群Pt+1合并为新种群Rt+1。步骤9-1)在种群Pt+1进行锦标赛选择，每次从Pt+1中随机选择两个个体进行比较，选择适应值最小的个体，逐个放入新种群Tt+1，直至新种群Tt+1中个体数达到N。步骤9-2)将新得到的种群Tt+1的第1个个体到第个个体作为父代种群P1，将第/＞到第/＞个个体作为父代种群P2，即Tt+1＝P1∪P2。对每个个体每个基因生成随机数μ∈，这里的基因为天线的某个待优化结构参数。计算均匀分布因子βc，其中ηc为交叉分布指数，一般取20～30。对每个个体的每个基因，生成随机数r∈，其中pc为自适应交叉概率。根据P1、P2，得到子代种群Q1、Q2，有步骤9-3)将步骤9-2)得到的子代种群Q1、Q2进行多项式变异。对于每个个体每个基因，生成随机数μ∈，计算均匀分布因子βm，其中ηm为变异分布指数，一般为20～30。对于每个个体每个基因，生成随机数r∈，其中pm为自适应变异概率。对于新种群Mnew＝Q1∪Q2，第j个个体mj∈Mnew，对应的第j个新的个体qj，经过变异后有，其中与/＞为每个个体的上界和下界。新的N个个体qj组成新的子代种群Qt+1。步骤10)迭代次数t＝t+1，判断t是否小于tmax：如果小于，则将新子代种群Qt+1和父代种群Pt+1合并为Rt+1，个体数为2N。将Rt+1作为新的天线参数送入HFSS进行电磁建模和计算，回到步骤3)继续执行；否则，退出，种群Pt+1即为所求优化结构参数。下面结合附图和实施例对本发明的技术方案进行详细的说明。实施例1本发明的实施例1提出了一种面向多目标优化的圆极化微带天线参数优化方法。在本实施例中对单频圆极化微带天线进行多目标优化，天线频点为2.65GHz，极化方式为左旋圆极化，板材介质为Rogers RT/duroid 6002，介电常数σ＝2.94，损耗角正切tanδ＝0.0012。优化目标如下：需要说明优化目标包括但不限于此。初始化参考点，目标数M＝4，种群个数N＝100，按照前述方法生成参考点，见表1。表1参考点坐标/＞/＞初始化一组天线结构参数见表2：表2天线结构尺寸初始参数配置W23.5L20L_GND13W13.6L112W22.2L215W32.2L319H1.5且天线结构如图3所示。初步将参数导入HFSS进行电磁仿真，得到以下目标函数结果：Axial RatioS11GainPolarization Ratio1.15dB-19dB-7.5dB17.12dBGain和Polarization Ration未满足优化指标，对W、L、W1、L1、W2、L2、W3、L3、LGND等多个天线参数进行优化。分别对每个个体下的每个参数生成随机数，有randk∈，k＝1,2,…9，然后按照以下映射，得到实际的天线参数，如表3：表3天线待优化参数种群/＞本实例针对以下变量进行优化，以此初始化种群中的个体，介质高度H为不变的1.5mm：将个体导入HFSS进行电磁计算，返回相应的目标函数值，将其归一化，归一化函数如前面步骤4)描述所示，得到t＝1时刻各个个体对应的目标函数值，部分结果如表4所示。表4归一化目标函数个体f1f2f3f4110.6611210.661131111410.331150.9748660340.6610.66..............................接下来进行非支配排序，进行分层，并且产生N个父代个体作为新的父代种群Pt+1，计算适应度函数Vt和多样性度量Gt，其中归一化权重wi均为1/4，交叉概率和变异概率的最大值和最小值分别为在本次实例中，交叉分布指数ηc为20，变异分布指数ηm为20。此时计算得到种群适应度Vt为0.819，多样性度量Gt为2.0301，比如计算个体x和个体y时的欧氏距离就可以通过以下方式计算，/＞经过自适应交叉和自适应变异，得到子代种群Qt+1，t＝t+1，将新的子代种群和父代种群Pt+1合并后得到的新种群Rt+1后，导入HFSS进行电磁建模和电磁计算，得到每个个体的目标函数，并按照流程图的步骤，进行新一轮的归一化、非支配排序等，不断迭代。第t＝5时的个体以及对应的归一化目标函数部分结果如表5所示，表5归一化目标函数个体f1f2f3f4110.3310.6620.6925051740.3310.6630.010044190.6610410.3310.6650.0076218940.6610..............................此时种群适应度Vt为0.627，多样性度量Gt为1.6940。可以看出种群整体在向好的方向发展，由于淘汰了劣等个体，多样性度量较t＝1时要小。经过不断地迭代，直至t＝tmax，最后得到了优化后的微带天线，尺寸如表6所示。表6优化后的天线尺寸天线的性能如图4～图7所示，其中，图4是S11参数，图5是轴比参数，图6是极化比，图7是天线增益，各频点或者角度对应的性能指标如表7所示。表7天线性能Axial RatioS11GainPolarization Ratio1.16dB-24.6dB0.35dBi26.05dB至此，圆极化微带天线优化结果符合目标，值得注意的是，此时结果只是满足设计的需求，并不是最好的结果，还有进一步优化的空间。实施例2本发明的实施例2提出了一种面向多目标优化的圆极化微带天线参数优化系统，基于实施例1的方法实现，所述系统包括：初始化模块，用于根据设计要求，初始化N组天线结构参数作为父代种群Pt，种群中的个体数为N，并根据设定的优化目标个数M，初始化参考点集合Zs；电磁建模模块，用于根据天线结构参数对圆极化微带天线进行电磁建模；优化目标计算模块，用于进行电磁计算得到对应工作频点的M个天线性能指标，作为M个优化目标；多目标优化模块，用于根据M个优化目标，通过自适应的NSGA-III算法寻找天线更优结构参数，转至电磁建模模块，直至满足设定条件，得到最优天线结构参数，从而实现圆极化微带天线的参数优化。综上所述，本发明的方法，通过HFSS-MATLAB-API使HFSS以脚本的形式进行天线建模和仿真，将圆极化天线比较关注的性能如回波损耗、轴比、天线增益、天线极化比等作为优化目标，通过一种自适应的NSGA-III算法寻找最优结构参数。面对多目标天线优化问题时，传统的遗传算法迭代次数增加并且很难寻找到一种合适的解使多个目标都达到最优，而基于CNN的天线优化算法需要更多样更复杂的样本数据进行学习且可能会陷入局部最优。NSGA-III算法是一种并行全局优化算法，通过引入支配关系以及参考点使得在高维度空间维持解的多样性，同时本发明中的自适应改变交叉概率和变异概率强化了搜索Pareto解集的能力。最后所应说明的是，以上实施例仅用以说明本发明的技术方案而非限制。尽管参照实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，对本发明的技术方案进行修改或者等同替换，都不脱离本发明技术方案的精神和范围，其均应涵盖在本发明的权利要求范围当中。
