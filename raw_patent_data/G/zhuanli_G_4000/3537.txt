标题title
一种康复机器人性能分析方法
摘要abst
本发明涉及机器人性能分析领域，公开了一种康复机器人性能分析方法，一种康复机器人性能分析方法，包括轨迹捕获步骤，捕获康复机器人的运动信息，得到康复机器人的运动数据集；有效信息获取步骤，从所述运动数据集中筛选有效运动信息；运动信息分析步骤，对所述有效运动信息进行分析，得到康复机器人性能指标；分级步骤，按照预设规则对所述性能指标进行分级，得到分级结果；匹配步骤，将所述分级结果在预存的最优使用表中匹配出最优使用方法，并将最优使用方法进行反馈。本申请能够对康复机器人的性能进行分析，从而获取康复机器人最优的使用方式，为后续康复机器人的运动时的路径规划和速度控制提供指导。
权利要求书clms
1.一种康复机器人性能分析方法，其特征在于，包括：轨迹捕获步骤，捕获康复机器人的运动信息，得到康复机器人的运动数据集；有效信息获取步骤，从所述运动数据集中筛选有效运动信息；运动信息分析步骤，对所述有效运动信息进行分析，得到康复机器人性能指标；分级步骤，按照预设规则对所述性能指标进行分级，得到分级结果；匹配步骤，将所述分级结果在预存的最优使用表中匹配出最优使用方法，并将最优使用方法进行反馈。2.根据权利要求1所述的一种康复机器人性能分析方法，其特征在于：所述运动信息通过网口相机和光学靶标进行捕获。3.根据权利要求1所述的一种康复机器人性能分析方法，其特征在于，所述轨迹捕获步骤的具体流程为：轨迹设置子步骤，设置康复机器人的参考运动轨迹，并对所述参考运动轨迹进行存储，所述参考运动轨迹包括运动的起点位置、终点位置、拐点位置、路径、时长、力度、速度和重复轮次；运行子步骤，根据设置的参考运动轨迹驱动康复机器人运动，获取康复机器人实际运动轨迹所对应的运动信息，将康复机器人的运动信息进行存储；所述运动信息主要包括康复机器人在三维坐标系中的时间信息、位置坐标信息、次序编号信息、运动轮次信息、康复机器人型号与ID；重复执行子步骤，重复执行轨迹设置子步骤和运行子步骤，重新设置参考运动轨迹，将多次重复执行所产生的运动信息存储到运动数据集中。4.根据权利要求3所述的一种康复机器人性能分析方法，其特征在于，所述有效信息获取步骤包括：历史数据获取子步骤，获取康复机器人的历史参考运动轨迹的路径和历史运动轨迹的路径；历史标准轨迹获取子步骤，对相同历史参考运动轨迹下的历史运动轨迹的路径进行众数分析，获取唯一路径，即历史标准路径；筛选子步骤，将实际运动轨迹的路径与历史标准路径进行分析，获得偏差值，筛选一定阈值范围内偏差值所对应的实际运动轨迹，此实际运动轨迹产生的运动信息为有效运动信息。5.根据权利要求1所述的一种康复机器人性能分析方法，其特征在于，所述性能指标包括：轨迹准确度、位姿准确度、定位精度、自由度、冗余自由度、重复度、工作空间、负载。6.根据权利要求1所述的一种康复机器人性能分析方法，其特征在于，所述预设规则包括：对单个性能指标进行分级；对所有性能指标进行综合处理，获取综合性能指标，并对综合性能指标进行分级。7.根据权利要求1所述的一种康复机器人性能分析方法，其特征在于，所述匹配步骤还包括：修改子步骤，对最优使用表进行删除、增加、修改和更新操作，并对修改后的最优使用表进行存储。8.根据权利要求1所述的一种康复机器人性能分析方法，其特征在于，还包括：质量评估步骤，根据性能指标对康复机器人的质量进行评估，获得质量评估系数；性能提升建议反馈步骤，当质量评估系数低于阈值时，反馈性能提升建议，以及对应的操作指南。9.根据权利要求1所述的一种康复机器人性能分析方法，其特征在于，还包括：病患分类步骤，将病患病情信息按照患病程度和患病类型进行分类；识别步骤，识别患病程度为一级的病患，并获取对应的病患属性；聚类步骤，将一级病患与其历史性能指标和参考运动轨迹进行聚类分析，获得一级病患恢复情况所需最佳性能指标和最佳参考运动轨迹，同时获取一级病患各个恢复阶段与对应时长。10.根据权利要求9所述的一种康复机器人性能分析方法，其特征在于，还包括：分配步骤，根据病患所需最佳性能指标分配康复训练的康复机器人；参考运动轨迹配置步骤，根据病患类型配置最佳参考运动轨迹；提示步骤，当采用最佳性能指标与最佳参考运动轨迹进行康复训练，在任一阶段的恢复时长超出时间阈值时，将此阶段定义为非正常阶段，并发出提示；策略调整步骤，对非正常阶段的下一阶段的病患属性进行分析，当恢复时长超出时间阈值是由病患属性引起时，重新调整最佳性能指标与最佳参考运动轨迹，并进行存储。
说明书desc
技术领域本发明涉及机器人性能分析领域，具体涉及一种康复机器人性能分析方法。背景技术康复训练机器人是帮助中风等运动神经损伤病人进行主、被动训练的智能化装置，现在的康复机器人的运动模式多为速度控制或力度控制。由于康复机器人是近几年才开始研究的新技术，因此，康复机器人在实际应用中还存在一些潜在的性能问题，如稳定性差、精度差等，如何对康复机器人的性能进行获取，从而分析康复机器人最优的使用方式，为后续康复机器人的运动时的路径规划和速度控制提供指导，成为亟需解决的问题。发明内容本发明意在提供一种康复机器人性能分析方法，以对康复机器人的性能进行分析，从而获取康复机器人最优的使用方式，为后续康复机器人的运动时的路径规划和速度控制提供指导。为达到上述目的，本发明采用如下技术方案：一种康复机器人性能分析方法，包括：轨迹捕获步骤，捕获康复机器人的运动信息，得到康复机器人的运动数据集；有效信息获取步骤，从所述运动数据集中筛选有效运动信息；运动信息分析步骤，对所述有效运动信息进行分析，得到康复机器人性能指标；分级步骤，按照预设规则对所述性能指标进行分级，得到分级结果；匹配步骤，将所述分级结果在预存的最优使用表中匹配出最优使用方法，并将最优使用方法进行反馈。本方案的原理及优点是：实际应用时，轨迹捕获步骤，捕获康复机器人的运动信息，采集大量的康复机器人的运动轨迹，得到康复机器人的运动数据集，为后续康复机器人的性能分析提供数据支撑；有效信息获取步骤，从所述运动数据集中筛选有效运动信息，避免无效信息对后续的分析产生干扰，从而对准确性产生影响；运动信息分析步骤，对所述有效运动信息进行分析，得到康复机器人性能指标，通过性能指标，能够对康复机器人的运行状态多角度的全面的掌握；分级步骤，按照预设规则对所述性能指标进行分级，得到分级结果，将康复机器人按照性能指标进行分级利于清晰掌握其性能层次，并获取此层次的康复机器人的最优使用方式；匹配步骤，将所述分级结果在预存的最优使用表中匹配出最优使用方法，并将最优使用方法进行反馈，为后续康复机器人的运动时的路径规划和速度控制等提供指导依据。优选的，作为一种改进，所述运动信息通过网口相机和光学靶标进行捕获。技术效果：利用网口相机构建精度可调的相机检测视场，在康复机器人上连接光学靶标，通过记录康复机器人在不同运动参数下光学靶标在相机检测视场移动产生的坐标变化，能够提供直观的运动信息。优选的，作为一种改进，所述轨迹捕获步骤的具体流程为：轨迹设置子步骤，设置康复机器人的参考运动轨迹，并对所述参考运动轨迹进行存储，所述参考运动轨迹包括运动的起点位置、终点位置、拐点位置、路径、时长、力度、速度和重复轮次；运行子步骤，根据设置的参考运动轨迹驱动康复机器人运动，获取康复机器人实际运动轨迹所对应的运动信息，将康复机器人的运动信息进行存储；所述运动信息主要包括康复机器人在三维坐标系中的时间信息、位置坐标信息、次序编号信息、运动轮次信息、康复机器人型号与ID；重复执行子步骤，重复执行轨迹设置子步骤和运行子步骤，重新设置参考运动轨迹，将多次重复执行所产生的运动信息存储到运动数据集中。技术效果：通过轨迹捕获，能够获取大量的康复机器人的运动轨迹，为后续康复机器人的性能分析提供数据支撑；通过多次重新设置不同的参考运动轨迹，能够全面的获取康复机器人的运动信息。优选的，作为一种改进，所述有效信息获取步骤包括：历史数据获取子步骤，获取康复机器人的历史参考运动轨迹的路径和历史运动轨迹的路径；历史标准轨迹获取子步骤，对相同历史参考运动轨迹下的历史运动轨迹的路径进行众数分析，获取唯一路径，即历史标准路径；筛选子步骤，将实际运动轨迹的路径与历史标准路径进行分析，获得偏差值，筛选一定阈值范围内偏差值所对应的实际运动轨迹，此实际运动轨迹产生的运动信息为有效运动信息。技术效果：通过和历史标准路径进行分析，筛选一定阈值范围内偏差值所对应的实际运动轨迹，能够避免无效数据对最终分析结果产生影响，影响分析准确性。优选的，作为一种改进，所述性能指标包括：轨迹准确度、位姿准确度、定位精度、自由度、冗余自由度、重复度、工作空间、负载。技术效果：通过获取康复机器人的性能指标，能够从多个角度了解康复机器人的运动特性，为后续获取对应的最优使用方法提供理论支撑。优选的，作为一种改进，所述预设规则包括：对单个性能指标进行分级；对所有性能指标进行综合处理，获取综合性能指标，并对综合性能指标进行分级。技术效果：分别对单个性能指标以及综合混合指标进行分级，能够对独立的性能指标进行分析了解的同时，还能从整体上进行把控。优选的，作为一种改进，所述匹配步骤还包括：修改子步骤，对最优使用表进行删除、增加、修改和更新操作，并对修改后的最优使用表进行存储。技术效果：当分级结果对应的最优使用方法改变，以及无法匹配出合适的最优使用方法时，能够对最优使用表及时进行修改，避免出现错误。优选的，作为一种改进，还包括：质量评估步骤，根据性能指标对康复机器人的质量进行评估，获得质量评估系数；性能提升建议反馈步骤，当质量评估系数低于阈值时，反馈性能提升建议，以及对应的操作指南。技术效果：对康复机器人的质量进行评估，并反馈性能提升建议，利于康复机器人的整体质量的提升。优选的，作为一种改进，还包括：病患分类步骤，将病患病情信息按照患病程度和患病类型进行分类；识别步骤，识别患病程度为一级的病患，并获取对应的病患属性；聚类步骤，将一级病患与其历史性能指标和参考运动轨迹进行聚类分析，获得一级病患恢复情况所需最佳性能指标和最佳参考运动轨迹，同时获取一级病患各个恢复阶段与对应时长。技术效果：只对一级病患进行聚类步骤，针对性更强，避免了冗余数据影响聚类分析的结果，提升聚类分析效率。优选的，作为一种改进，还包括：分配步骤，根据病患所需最佳性能指标分配康复训练的康复机器人；参考运动轨迹配置步骤，根据病患类型配置最佳参考运动轨迹；提示步骤，当采用最佳性能指标与最佳参考运动轨迹进行康复训练，在任一阶段的恢复时长超出时间阈值时，将此阶段定义为非正常阶段，并发出提示；策略调整步骤，对非正常阶段的下一阶段的病患属性进行分析，当恢复时长超出时间阈值是由病患属性引起时，重新调整最佳性能指标与最佳参考运动轨迹，并进行存储。技术效果：将重新调整最佳性能指标与最佳参考运动轨迹进行存储，能够对历史数据进行丰富，为后续的分析提供充足的数据支撑。附图说明图1为一种康复机器人性能分析方法的流程示意图。具体实施方式下面通过具体实施方式进一步详细说明：实施例一实施例基本如附图1所示：一种康复机器人性能分析方法，包括：轨迹捕获步骤，捕获康复机器人的运动信息，得到康复机器人的运动数据集；所述运动信息通过网口相机和光学靶标进行获取，所述光学靶标位于所述网口相机的相机检测视场内，所述光学靶标的靶面与所述网口相机的镜头的镜面相对且平行；利用网口相机构建精度可调的相机检测视场，在康复机器人上连接光学靶标，通过记录康复机器人在不同运动参数下光学靶标在相机检测视场移动产生的坐标变化，能够提供直观的运动信息。所述轨迹捕获步骤的具体流程为：轨迹设置子步骤，设置康复机器人的参考运动轨迹，并对所述参考运动轨迹进行存储，所述参考运动轨迹包括运动的起点位置、终点位置、拐点位置、路径、时长、力度、速度和重复轮次；设置参考运动轨迹是为康复机器人提供参考运动指令，以便于后续与实际运动参数进行比对，从而获取性能指标。运行子步骤，根据设置的参考运动轨迹驱动康复机器人运动，获取康复机器人实际运动轨迹所对应的运动信息，将康复机器人的运动信息进行存储；所述运动信息主要包括康复机器人在三维坐标系中的时间信息、位置坐标信息、次序编号信息、运动轮次信息、康复机器人型号与ID；如康复机器人的型号为Flexo-Arm1，ID为上肢康复机器人1号，次序编号为3，即第三次重新设置参考运动轨迹，对应轮次信息为2，即第三次重新设置参考运动轨迹状态下，第二次根据此参考运动轨迹重复运行；运行过程中，经过的每一个位置均捕获其位置坐标和对应时间点。重复执行子步骤，重复执行轨迹设置子步骤和运行子步骤，重新设置参考运动轨迹，将多次重复执行所产生的运动信息存储到运动数据集中。这里进行重复执行时，需要设置参考运动轨迹，本申请中进行的多次参考运动轨迹的设置需对康复机器人的运动范围全面覆盖，如应用控制变量法进行参考运动轨迹设置，控制起点位置、终点位置、拐点位置、路径、时长、力度相同，多次调整速度，以全面获取不同速度对性能的影响，便于后续性能提升提供数据支撑；同理的，采用相同的方式控制路径、时长、力度、拐点位置。有效信息获取步骤，从所述运动数据集中获取有效运动信息；所述有效信息获取步骤包括：历史数据获取子步骤，获取康复机器人的历史参考运动轨迹的路径和历史运动轨迹的路径；引入历史数据，避免因数据少或者康复机器人故障等引发误差，能够有效避免偶然性事件对后续性能分析结果的准确性产生影响。历史标准轨迹获取子步骤，对相同历史参考运动轨迹下的历史运动轨迹的路径进行众数分析，获取唯一路径，即历史标准路径；如，历史参考运动轨迹为：起点位置A，终点位置B，拐点位置C1、C2、C3、C4，路径1、时长1分钟，力度2N，速度0.1m/s，重复运动3轮；在此参考运动轨迹模式下，将所有历史运动轨迹的路径进行众数分析，即重复次数最多的路径为历史标准路径。筛选子步骤，将实际运动轨迹的路径与历史标准路径进行分析，获得偏差值，筛选一定阈值范围内偏差值所对应的实际运动轨迹，此实际运动轨迹产生的运动信息为有效运动信息。本申请中偏差值采用离散算法获取，即将历史标准路径划分为若干离散点，将实际运动轨迹的路径划分为与所述历史标准路径离散点相对应的离散点，计算每一离散点的偏差，再将所有偏差进行加权平均即获得偏差值。筛选时，如第三次重新设置参考运动轨迹模式下，对应轮次信息为2，第1轮次和第2轮次实际运动轨迹的路径与历史标准路径的偏差值分别为0.2和0.5，偏差值的阈值范围为，此时第1轮次实际运动轨迹产生的运动信息为有效运动信息。通过筛选子步骤，能够筛选出有效的运动数据，从而避免无效数据对最终分析结果产生影响，干扰分析准确性。运动信息分析步骤，对所述有效运动信息进行分析，得到康复机器人性能指标；所述性能指标包括：轨迹准确度、位姿准确度、定位精度、自由度、冗余自由度、重复度、工作空间、负载。轨迹准确度是康复机器人从同一方向若干次跟随参考轨迹的接近程度；位姿精度是参考位姿和从同一方向接近该参考位姿时的实到位姿中心之间的偏差；定位精度是康复机器人末端参考点实际到达的位置与所需要到达的理想位置之间的差距；自由度是康复机器人在空间运动所需的变量数，用以表示机器人动作灵活程度的参数，以沿轴线移动和绕轴线转动的独立运动的数目来表示；自由度、冗余自由度能够增加机器人的灵活性、躲避障碍物和改善动力性能，本申请中包括六个自由度，即三个转动自由度和三个移动自由度；重复度是康复机器人重复到达某一目标位置的差异程度；工作空间是康复机器人臂杆的特定部位在一定条件下所能到达空间的位置集合，工作空间的性状和大小能够反映康复机器人工作能力的大小；负载是康复机器人工作时臂端搬运的物体重量或所能承受的力或力矩，康复机器人在不同位姿时，允许的最大搬运质量不同，因此需对康复机器人的负载进行分析，减少操作失误。通过获取康复机器人的性能指标，能够从多个角度了解康复机器人的运动特性，为后续获取对应的最优使用方法提供理论支撑。分级步骤，按照预设规则对所述性能指标进行分级，得到分级结果；所述预设规则包括：对单个性能指标进行分级；采用加权平均方法对轨迹准确度、位姿准确度、定位精度、自由度、冗余自由度、重复度、工作空间、负载进行综合计算，获取的综合性能指标，再对综合性能指标进行分级，这里根据预设的阈值范围进行分级。分别对单个性能指标以及综合混合指标进行分级，能够对独立的性能指标进行分析了解的同时，还能从整体上进行把控。匹配步骤，将所述分级结果在预存的最优使用表中匹配出最优使用方法，并将最优使用方法进行反馈。所述匹配步骤还包括：修改步骤，对最优使用表进行删除、增加、修改、更新操作，并对修改后的最优使用表进行存储。当分级结果对应的最优使用方法改变，以及无法匹配出合适的最优使用方法时，能够对最优使用表及时进行修改，避免出现错误。一种康复机器人性能分析方法，还包括：质量评估步骤，根据性能指标对康复机器人的质量进行评估，获得质量评估系数；性能提升建议反馈步骤，当质量评估系数低于阈值时，反馈性能提升建议，以及对应的操作指南。对康复机器人的质量进行评估，并反馈性能提升建议，利于康复机器人的整体质量的提升。实施例二与实施例一不同的是，康复机器人在治疗中，能够代替治疗师做长时间的、重复次数非常多的、简单的相同运动，康复机器人适合的人群，包括脑血管意外、脑外伤、脑瘫等引起的肢体瘫痪，肌腱或韧带断裂、脊髓损伤等运动创伤的早期康复训练。实际应用中，还包括历史治疗信息获取步骤，获取康复机器人进行康复训练的病患信息和性能指标的历史数据；分析步骤，根据历史数据分析不同性能指标下病患的恢复程度；预测步骤，预测病患在一定的性能指标下的恢复时长。康复机器人分为上肢、下肢、全身的康复机器人，不同类型、不同型号和不同参考运动轨迹的康复机器人所表现出的性能指标不同，通过获取各康复机器人进行康复训练的病患历史病情信息和性能指标，并对不同性能指标下病患病情的恢复程度进行分析，能够得到性能指标对病患病情恢复程度的影响，如历史上肢瘫痪患者受康复机器人的工作空间和位姿准确度影响较大，工作空间越大，位姿准确度越高，恢复越快，且恢复程度呈曲线型变化，再根据分析对病患进行预测，即能够对相同病情的病人进行康复时长预测。实施例三与实施例一和实施例二不同的是，还包括病患分类步骤，将病患病情信息按照患病程度和患病类型进行分类，充分考虑病患的个体差异；这里的患病类型包括肢体瘫痪、肌腱、韧带断裂和脊髓损伤；患病程度分为6级，分别是：零级，完全的瘫痪；一级，肌肉可收缩，但不能产生动作；二级，肢体能移动但没有抵抗力，不能抬起；三级，肢体能抵抗重力离开床面，但不能抵抗阻力；四级，肢体能做抗阻力运动但没有达到正常；五级，正常的肌力，没有瘫痪。识别步骤，识别患病程度为一级的病患，并获取对应的病患属性，所述病患属性包括性别、年龄、住址、疾病史、遗传病史、工作、运动状况、季节。一级病患是肌肉可收缩，但不能产生动作的病患，一级病患通过康复机器人进行被动运动和助力运动等方式进行训练，在经过系统、专业的训练后能够康复。被动运动训练是应用推揉拿捏等进行传递神经冲动的练习，以延缓肌肉萎缩和引起瘫痪肌肉的主动收缩，助力运动训练是在肌肉主动收缩的同时施加外力给予帮助，以便完成较大幅度的肌肉和关节运动。相对于零级病患，一级病患通过康复机器人痊愈的概率大，恢复效果明显；二至五级病患能够通过药物治疗能在短时间内激活受损的休眠脑组织细胞，促进脑细胞再生，达到逐渐恢复的效果，相对于二至五级病患，一级病患对康复机器人的依赖程度高。聚类步骤，将一级病患与其历史性能指标和参考运动轨迹进行聚类分析，获得一级病患恢复情况所需最佳性能指标和最佳参考运动轨迹，同时获取一级病患各个恢复阶段与对应时长。如一级病患采用最佳性能指标和最佳参考运动轨迹时，恢复共有6个阶段：第一阶段四肢肌张力较低，身体无明显独立活动；第二阶段，手指肌张力随关节反应开始增加，从第一阶段到第二阶段需3个月；第三阶段，伴随关节运动，能够随意引起关节运动，第二阶段到三阶段需2个月；第四阶段，进入分离运动状态，能够开始抓握运动，第三阶段到第四阶段需2个月；第五阶段，手伸和单指运动，分离运动进一步加强，更加自由，第四阶段到第五阶段需1个月；第六阶段，完全恢复，第五阶段到第六阶段需1个月。只对一级病患进行聚类步骤，针对性更强，避免了冗余数据影响聚类分析的结果，提升聚类分析效率。分配步骤，根据病患所需最佳性能指标分配康复训练的康复机器人，将康复机器人资源利用效益最大化。参考运动轨迹配置步骤，根据病患类型配置最佳参考运动轨迹，提高康复机器人的工作效益。提示步骤，当采用最佳性能指标与最佳参考运动轨迹进行康复训练，在任一阶段的恢复时长超出时间阈值时，将此阶段定义为非正常阶段，并发出提示。当康复训练姿势错误、突发其他病情等情况时，会导致康复训练效果偏离预测效果，发出提示利于及时发现发现问题，并进行调整。策略调整步骤，对非正常阶段的下一阶段的病患属性进行分析，当恢复时长超出时间阈值是由病患属性引起时，重新调整最佳性能指标与最佳参考运动轨迹，并进行存储。病患属性包括性别、年龄、住址、疾病史、遗传病史、工作、运动状况、季节，如第一阶段到第二阶段实际恢复时长为4个月，超出时间阈值3个月，则第一阶段为非正常阶段，则对第二阶段到第三阶段时的恢复情况与性别、年龄、住址、疾病史、遗传病史、工作、运动状况、季节进行对比分析，如历史数据中女性比男性在某个阶段恢复时间均较长，那么应及时对女性所需的最佳性能指标与最佳参考运动轨迹进行聚类分析，并根据分析结果及时进行调整；对年龄、住址、疾病史、遗传病史、工作、运动状况、季节的分析同理。并将重新调整最佳性能指标与最佳参考运动轨迹进行存储，对历史数据进行丰富，为后续的分析提供充足的数据支撑。还包括统计步骤，统计不同类型的病患所需性能指标所对应的康复机器人数量；根据实际所需的康复机器人数量，进行康复机器人的配置，避免资源配置不平衡而导致部分康复机器人闲置，部分康复机器人过度使用的情况。以上所述的仅是本发明的实施例，方案中公知的具体技术方案和/或特性等常识在此未作过多描述。应当指出，对于本领域的技术人员来说，在不脱离本发明技术方案的前提下，还可以作出若干变形和改进，这些也应该视为本发明的保护范围，这些都不会影响本发明实施的效果和专利的实用性。本申请要求的保护范围应当以其权利要求的内容为准，说明书中的具体实施方式等记载可以用于解释权利要求的内容。
