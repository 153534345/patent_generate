标题title
基于无模型自适应迭代学习的激光增材制造分区控制方法
摘要abst
本发明属于金属材料增材制造技术领域，公开了一种基于无模型自适应迭代学习的激光增材制造分区控制方法，包括：先将待打印目标沿高度方向分层，然后再将每层按照扫描方向分为N段不重叠区域；最后基于无模型自适应迭代学习控制算法对每个区域的工艺参数进行控制以实现激光增材制造分层分区控制；本发明将每个要打印的目标层沿扫描方向划分为多个不重叠的区域，并根据过程中从前一层获取的历史信息自适应地控制每个区域的工艺参数，解决了激光增材制造打印过程中沉积和扫描方向的潜在不稳定性。
权利要求书clms
1.基于无模型自适应迭代学习的激光增材制造分区控制方法，其特征在于，包括：先将待打印目标沿高度方向分层，然后再将每层按照扫描方向分为N段不重叠区域；最后基于无模型自适应迭代学习控制算法对每个区域的工艺参数进行控制以实现激光增材制造分层分区控制；其中，工艺参数控制模型为：，式中，为第N个区域的输入的工艺参数，S为第N个区域内离散点的个数，为增材制造系统输入的工艺参数，k为第N个区域内第k个离散点，i为沿高度方向分层的第i层；增材制造系统输入的工艺参数是根据打印过程中从前几层获得的历史信息进行自适应控制；，式中，为第i层的增材制造系统输入的工艺参数，/＞为第i-1层的增材制造系统输入的工艺参数，ρ为提高算法普适性的步长因子，/＞为伪偏导数，β为抑制控制输入变化率的加权因子，/＞，为第i-1层第k+1个离散点增材制造系统输出的期望值；为第i-1层第k+1个离散点增材制造系统输出的实际值；伪偏导数是通过PPD估算获得，，式中，为第i层第k个离散点的伪偏导数，/＞为第i-1层第k个离散点的伪偏导数，δ、τ为加权系数，/＞为第i-1层第k个离散点的增材制造系统输入的工艺参数，/＞为第i-2层第k个离散点的增材制造系统输入的工艺参数，为第i-1层第k+1个离散点增材制造系统输出的实际值，/＞为第i-2层第k+1个离散点增材制造系统输出的实际值。2.根据权利要求1所述的基于无模型自适应迭代学习的激光增材制造分区控制方法，其特征在于，对所述伪偏导数设置有重置算法，式中，为第i层第k个离散点的伪偏导数，ε为一个正数，/＞为第i层的增材制造系统输入的工艺参数，/＞为第i-1层的增材制造系统输入的工艺参数。3.根据权利要求1所述的基于无模型自适应迭代学习的激光增材制造分区控制方法，其特征在于，将每一层沿扫描方向分成N个等长的非重叠区域，将某一区域内所有离散点的平均控制输入作为该区域的系统控制输入。
说明书desc
技术领域本发明属于金属材料增材制造技术领域，具体涉及一种基于无模型自适应迭代学习的激光增材制造分区控制方法。背景技术激光增材制造由于其在复杂结构制造和材料利用效率方面的优势，被广泛应用于汽车、航空航天、生物医学等各个行业。然而，尽管有这些好处，LAM仍面临某些局限性，例如过程中的不稳定性和制造零件缺乏可重复性，这阻碍了其进一步发展。由于受多个参数影响的LAM工艺的复杂性，即使来自激光与材料相互作用或环境因素的微小干扰也会显着影响所生产零件的微观结构和机械性能。为了应对这些挑战，当前的研究工作集中在开发LAM过程中的监控和反馈控制方法，以提高LAM制造零件的质量。为了在LAM过程中收集用于在线监测和反馈控制的信号，非接触式传感器如高温计、电荷耦合器件相机和热成像仪等经常被使用，从这些传感器获取的信息，包括沉积高度、飞溅和羽流的动态，以及熔池的形态和温度场，与制造零件的质量高度相关。这些监测数据可进一步用于过程控制的实施，以提高制造零件的质量。由于研究人员对探索LAM过程的稳定控制方法越来越感兴趣，因此致力于开发适当的控制算法和策略，以促进开发具有更好性能的控制器。Song等采用状态空间动力学模型开发了广义预测控制器，能够实现LAM过程中熔池温度的实时控制。Salehi等人开发了一种基于阶跃响应的在线温度控制器，验证了控制热量积聚和稀释的可行性。Xiong等人构建了非线性Hammerstein模型来描述层宽和行进速度之间的动态关系，随后开发了一个智能控制器，实现了不同层的可变宽度控制。Almir等通过实施过程中高度控制器制造了一个表面光滑的圆柱体。在Song等人的另一项工作中，开发了一个双输入混合控制系统，随后用于构建具有更平坦表面的复杂3D涡轮叶片。通常，此类模型仅基于特定单层的图案开发，并且过程参数和受控变量之间建立的动态关系在表征实际多层印刷过程时的普遍性可能有限。此外，一些研究人员研究了LAM制造过程中的分层控制方法，这种策略根据前几层的历史信息控制某一层的打印工艺参数，已成功应用于熔池形貌和沉积高度的控制。Li等提出了一种层间闭环控制机制，该机制考虑了在已沉积层上测量的几何误差。使用ICLC制造的长方体块显示出良好的高度精度。Rezaeifar开发了一种用于调节熔池温度的分层控制系统，以提高所制造样件的质量。Xia等利用迭代学习控制实现了WAAM熔池的宽度控制。LAM工艺中使用的这种分层控制方法倾向于优先考虑连续的逐层沉积图案，而忽略了工艺沿扫描方向的动态和演化特性。由于LAM是一个复杂的过程，受多个参数的影响，制造的零件的性能很容易受到微小扰动的影响，因此这种分层控制方法可能无法充分应对层内不稳定性，从而可能导致冶金缺陷；考虑到LAM的循环和逐层处理原理，在沉积和扫描方向的打印过程中存在潜在的不稳定性，这会影响打印部件的质量。发明内容本发明的目的在于提供一种基于无模型自适应迭代学习的激光增材制造分区控制方法，该方法将每个要打印的目标层沿扫描方向划分为多个不重叠的区域，并根据过程中从前一层获取的历史信息自适应地控制每个区域的工艺参数，解决了激光增材制造打印过程中沉积和扫描方向的潜在不稳定性。基于无模型自适应迭代学习的激光增材制造分区控制方法，包括：先将待打印目标沿高度方向分层，然后再将每层按照扫描方向分为N段不重叠区域；最后基于无模型自适应迭代学习控制算法对每个区域的工艺参数进行控制以实现激光增材制造分层分区控制；其中，工艺参数控制模型为：，式中，为第N个区域的输入的工艺参数，S为第N个区域内离散点的个数，为增材制造系统输入的工艺参数，k为第N个区域内第k个离散点，i为沿高度方向分层的第i层；增材制造系统输入的工艺参数是根据打印过程中从前几层获得的历史信息进行自适应控制；，式中，为第i层的增材制造系统输入的工艺参数，为第i-1层的增材制造系统输入的工艺参数，ρ为提高算法普适性的步长因子，为伪偏导数，β为抑制控制输入变化率的加权因子，，为第i-1层第k+1个离散点增材制造系统输出的期望值；为第i-1层第k+1个离散点增材制造系统输出的实际值；伪偏导数是通过PPD估算获得，，式中，为第i层第k个离散点的伪偏导数，为第i-1层第k个离散点的伪偏导数，δ、τ为加权系数，为第i-1层第k个离散点的增材制造系统输入的工艺参数，为第i-2层第k个离散点的增材制造系统输入的工艺参数，为第i-1层第k+1个离散点增材制造系统输出的实际值，为第i-2层第k+1个离散点增材制造系统输出的实际值。进一步地，对所述伪偏导数设置有重置算法，式中，为第i层第k个离散点的伪偏导数，ε为一个正数，为第i层的增材制造系统输入的工艺参数，为第i-1层的增材制造系统输入的工艺参数。进一步地，将每一层沿扫描方向分成N个等长的非重叠区域，将某一区域内所有离散点的平均控制输入作为该区域的系统控制输入。与现有技术相比，本发明提供的分层分区控制方法对每个要打印的目标层沿扫描方向被划分为多个不重叠的区域，并且每个区域的工艺参数根据过程中从前一层获取的历史信息自适应控制，使用与打印系统集成的热像仪捕获和提取熔池的温度信息，实验结果证明了本发明方法的有效性和优越性。附图说明图1为本发明的控制方法的原理示意图；图2为本发明实验过程控制过程示意图；图3为打印样件1、2、3和4的示意图，为样件1，为样件2，为样件3，为样件4；图4为样件1的熔池温度曲线图；图5为样件2的熔池温度曲线图；图6为样件3的熔池温度曲线图；图7为样件4的熔池温度曲线图；图8为干扰信号阶跃函数示意图；图9为打印样件5和6的示意图；图10为样件6的熔池温度曲线图。具体实施方式如图1所示，本实施例提供的基于无模型自适应迭代学习的激光增材制造分区控制方法包括：先将待打印目标沿高度方向分层，然后再将每层按照扫描方向分为N段不重叠区域；最后基于无模型自适应迭代学习控制算法对每个区域的工艺参数进行控制以实现激光增材制造分层分区控制。具体地，工艺参数控制模型为：，式中，为第N个区域的输入的工艺参数，S为第N个区域内离散点的个数，为增材制造系统输入的工艺参数，k为第N个区域内第k个离散点，i为沿高度方向分层的第i层；将每一层沿扫描方向分成N个等长的非重叠区域，将某一区域内所有离散点的平均控制输入作为该区域的系统控制输入；这种分区策略允许沿扫描方向多次控制工艺参数，增强了解决沉积过程中层内不稳定性的能力。增材制造系统输入的工艺参数是根据打印过程中从前几层获得的历史信息进行自适应控制，，式中，为第i层的增材制造系统输入的工艺参数，为第i-1层的增材制造系统输入的工艺参数，ρ为提高算法普适性的步长因子，为伪偏导数，β为抑制控制输入变化率的加权因子，，为第i-1层第k+1个离散点增材制造系统输出的期望值；为第i-1层第k+1个离散点增材制造系统输出的实际值。伪偏导数是通过PPD估算获得，，式中，为第i层第k个离散点的伪偏导数，为第i-1层第k个离散点的伪偏导数，δ、τ为加权系数，为第i-1层第k个离散点的增材制造系统输入的工艺参数，为第i-2层第k个离散点的增材制造系统输入的工艺参数，为第i-1层第k+1个离散点增材制造系统输出的实际值，为第i-2层第k+1个离散点增材制造系统输出的实际值。为了保证估计算法的泛化性，采用了重置算法，式中，为第i层第k个离散点的伪偏导数，ε为一个正数，为第i层的增材制造系统输入的工艺参数，为第i-1层的增材制造系统输入的工艺参数。通过实验验证了本实施例的可行性和有效性。在LAM系统上打印了典型的环形薄壁试样，在LAM打印过程中，每一层的沉积都被视为一次迭代，过程信号是从热成像监控系统获得的，最高温度作为熔池的典型特征被指定为系统输出y，激光功率作为系统输入u，考虑到激光和热像仪的工作极差，控制器的输出限制在400W到2200W之间，如图2所示，本实施例的分层分区控制方法的流程示意图。打印材料选用30CrNi2MoVA，基体材料为Q235，实验前进行了抛光去除氧化膜。打印4个样件进行比较，如表1所示，初始激光功率设置为1200W，扫描速度、z轴抬升量和送粉速度分别设置为10mm/s、0.3mm和1.5r/min，每个样件沉积20层。本实施例基于无模型自适应迭代学习控制算法的参数为β=0.6，ρ=1，=0.1，δ=0.6，初始PPD设置为=4，熔池温度的期望值设置为1630°C。表1 试验参数设定样件1是在没有控制的情况下打印的，而其他三个样件是使用本实施例的控制方法打印的，N值分别设置为1、2和4。需要注意的是，当N=1时相当于分层控制方式，打印的样件如图3所示，图3显示了打印的样件1，它在顶面上表现出高低起伏。与没有控制打印的样件1相比，样件2、3和4表现出更好的质量，壁厚均匀且没有明显的缺陷。此外，样件3和样件4中显示的表面比样件2中的更光滑，表明与分层控制方法相比，本实施例分层分区控制方法的实施导致更好的控制性能。实验过程中试样件的熔池温度曲线如图4~7所示，图中虚线表示期望值，实线表示过程中的实际值。图4显示样件1的熔池温度，随着层的积累逐渐增加。相比之下，本实施例的熔池温度最终稳定在期望值附近。这些结果表明，本实施例可以在有限的迭代次数内有效地跟踪熔池的所需温度值，从而提高LAM工艺的沉积质量。在环形薄壁试样的圆周上均匀选择了总共12个点，并在每个点上测量了沉积高度和沉积宽度。随后计算所有四个样件的平均值、均方根误差、平均绝对误差和极差，统计结果分别见表2和表3。结果表明，与其他三个样件相比，样件1具有更大的偏差，沉积高度的极差和均方根误差值分别为3.10mm和0.52mm，而沉积宽度的极差和均方根误差值分别为3.113mm和0.689mm，这表明未经控制打印的样件在沉积高度和宽度上表现出显著波动，而实施控制方法的其他样件在此过程中实现了更稳定的沉积。与样件3和4相比，样件2的沉积高度和沉积宽度的均方根误差值更高，表明表面更不平坦。与用于样件2的分层方法相比，分层并分2区和分层并分4区实现了更好的控制性能并显着提高了打印部件的质量。与样件3相比，样件4的沉积高度和沉积宽度的均方根误差值分别降低了27.4%和31.6%。平均绝对误差分别下降了28.4%和22.5%，而极差下降了约25%和41.2%。这表明本实施例的分层分区控制方法具有更好的控制性能，从而获得更好的打印样件质量。此外，与没有控制打印的样件相比，样件4的沉积高度的均方根误差、平均绝对误差和极差分别显着降低了51.4%、47.3%和55.5%。表2 样件在沉积高度上的统计值表3 样件在沉积宽度上的统计值为了验证本实施例在非线性和动态场景中的鲁棒性，进行了额外的鲁棒性实验。打印了两个环形薄壁样件，在此过程中引入了外部干扰。每个样件沉积30层，初始激光功率设置为1050W，其他实验参数如表4所示。所需的熔池温度值设置为1630°C。为了模拟真实的外部干扰，在激光功率中引入了偏差，具体地，在第5、11、17和23次迭代时，在LAM过程中添加了阶跃函数，如图8所示。为了进行比较，阶跃函数的值设置为在扫描路径的初始1/4长度部分中为零。表4 试验参数设定样件5是在没有控制的情况下打印的，而样件6是使用本实施例的分层分区控制方法打印的。鲁棒性实验中打印的环形薄壁试样如图9所示。每个试样从点A开始按顺时针方向放置。图9为打印的样件5，它具有倾斜表面，D-A段的沉积高度明显高于A-B段，B-C和C-D段的沉积高度呈逐渐增加的趋势。从图8可以看出，增加的功率干扰沿扫描路径逐渐增大，最后1/4部分比开始1/4部分高150W，在环形结构中这两个部分紧邻，即D-A部分和A-B部分。这表明增加的外部干扰对沉积高度有显着影响，干扰强度越大，影响越明显。相比之下，样件6表现出更光滑的表面和更好的质量。结果证明，本实施例的分层分区控制方法具有良好的鲁棒性和迅速适应干扰的能力。表5和表6分别列出了打印样件的沉积高度和沉积宽度的平均值、均方根误差、平均绝对误差和极差。对鲁棒性实验中打印的两个环形薄壁试样的统计分析表明，本实施例具有处理各种干扰的能力，并在打印过程中实现了更好的稳定性。样件5在高度和扫描方向上都表现出显着的波动，沉积高度的极差、平均绝对误差和均方根误差值分别为4.26mm、1.171mm和4.688mm，沉积宽度的极差、平均绝对误差和均方根误差值分别为0.58mm、0.150mm和0.599mm。相比之下，样件6的沉积高度的极差、平均绝对误差和均方根误差值分别降低50.7%、52%和51.9%，以及沉积宽度的极差、平均绝对误差和均方根误差值分别减少44.8%、54.7%和50.4%。表5样件在沉积高度上的统计值表6样件在沉积高度上的统计值图10为样件6在打印过程中的熔池温度曲线，图中虚线表示所需温度，实线表示过程中的实际温度。尽管干扰导致后续层的熔池温度显着升高，但在鲁棒性实验中获得的结果表明，即使在存在干扰的情况下，本实施例也能够在多次迭代后收敛到期望值。本实施例提出了一种分层和分区域无模型自适应迭代学习控制方法，该方法将每个要打印的目标层沿扫描方向划分为多个不重叠的区域，并根据过程中从前一层获取的历史信息自适应地控制每个区域的工艺参数，解决了激光增材制造打印过程中沉积和扫描方向的潜在不稳定性。实验结果表明，本实施例可以有效地实现所需温度的跟踪，与没有控制或使用分层方法控制打印的标本相比，打印标本的质量显着提高。具体来说，分层且分4区控制导致沉积高度和沉积宽度分别的均方根误差降低了51.4%和40.4%，平均绝对误差降低了47.3%和40.3%，极差降低了55.5%和36%。此外，鲁棒性实验证明良好的鲁棒性和对干扰的快速适应性。与没有对照打印的标本相比，本实施例打印的标本的沉积高度均方根误差显着降低了51.9%，平均绝对误差降低了52%，极差降低了50.7%。以上所述仅是本发明优选的实施方式，但本发明的保护极差并不局限于此，任何基于本发明所提供的技术方案和发明构思进行的改造和替换都应涵盖在本发明的保护极差内。
