标题title
节能方法、装置及存储介质
摘要abst
本公开提供一种节能方法、装置及存储介质，涉及通信技术领域，解决了相关技术中边缘云数据中心的节能策略存在安全风险的技术问题。该方法包括：确定在边缘云中部署的物理机的数量、以及在边缘云中部署分布式存储系统CEPH系统集群的运行状态；在物理机的数量满足需求、且CEPH系统集群的运行状态满足节能要求的情况下，根据物理机运行状态，确定物理机中满足节能要求的目标物理机；根据目标物理机的运行状态值，确定目标物理机的关机优先级；根据目标物理机的关机优先级，确定目标物理机中待关机的物理机，从而降低边缘云数据中心关闭物理机进行节能的安全风险。本公开用于边缘云中心节能的场景中。
权利要求书clms
1.一种节能方法，其特征在于，包括：确定在边缘云中部署的物理机的数量、以及在所述边缘云中部署分布式存储系统CEPH系统集群的运行状态；在所述物理机的数量满足需求、且所述CEPH系统集群的运行状态满足节能要求的情况下，根据所述物理机运行状态，确定所述物理机中满足节能要求的目标物理机；根据目标物理机的运行状态值，确定目标物理机的关机优先级；根据所述目标物理机的关机优先级，确定所述目标物理机中待关机的物理机。2.根据权利要求1所述的方法，其特征在于，所述物理机的数量满足需求包括：所述物理机的数量大于或等于第一预设值。3.根据权利要求1所述的方法，其特征在于，所述CEPH系统集群的运行状态满足节能要求，包括以下至少一项：所述CEPH系统集群稳定运行；所述CEPH系统集群在预设时间段内运行稳定度小于第二预设值；所述CEPH系统集群在所述预设时间段内的存储使用率小于第三预设值。4.根据权利要求1所述的方法，其特征在于，所述目标物理机满足以下至少一项：所述目标物理机中部署的虚拟机数量小于第四预设值；所述目标物理机中在预设时间段内部署的虚拟机的平均数量小于第五预设值；所述目标物理机在预设时间段内的CPU使用率平均值小于第六预设值；所述目标物理机在预设时间段内的内存使用率平均值小于第七预设值；所述目标物理机在预设时间段内的硬盘读取速率平均值小于第八预设值；所述目标物理机在预设时间段内的硬盘写入速率平均值小于第九预设值；所述目标物理机在预设时间段内的网络发送速率平均值小于第十预设值；所述目标物理机在预设时间段内的网络接收速率平均值小于第十一预设值。5.根据权利要求4所述的方法，其特征在于，所述根据目标物理机的运行状态值，确定目标物理机的关机优先级，包括：确定所述目标物理机的各个运行状态的运行参数，以及所述各个运行状态的权重值；确定所述目标物理机的各个运行状态的运行参数的容忍度值；根据所述目标物理机的各个运行状态的运行参数、权重值和容忍度值，确定所述目标物理机的得分；根据所述目标物理机的得分，确定所述目标物理机的关机优先级。6.根据权利要求5所述的方法，其特征在于，所述目标物理机的得分Score满足以下公式：其中，xi为所述目标物理机的各个运行状态的运行参数；x容忍度为所述目标物理机的各个运行状态参数的容忍度值；y权重为所述目标物理机的各个运行状态的权重值。7.一种节能装置，其特征在于，包括：通信单元和处理单元；所述通信单元，用于确定在边缘云中部署的物理机的数量、以及在所述边缘云中部署分布式存储系统CEPH系统集群的运行状态；所述处理单元，用于在所述物理机的数量满足需求、且所述CEPH系统集群的运行状态满足节能要求的情况下，根据所述物理机运行状态，确定所述物理机中满足节能要求的目标物理机；所述处理单元，还用于根据目标物理机的运行状态值，确定目标物理机的关机优先级；所述处理单元，还用于根据所述目标物理机的关机优先级，确定所述目标物理机中待关机的物理机。8.根据权利要求7所述的装置，其特征在于，所述物理机的数量满足需求，包括：所述物理机的数量大于或等于第一预设值。9.根据权利要求7所述的装置，其特征在于，所述确定CEPH系统集群的运行状态满足节能要求，包括以下至少一项：确定所述CEPH系统集群稳定运行；确定所述CEPH系统集群在预设时间段内运行稳定度小于第二预设值；确定所述CEPH系统集群在所述预设时间段内的存储使用率小于第三预设值。10.根据权利要求7所述的装置，其特征在于，所述目标物理机满足以下至少一项：确定所述目标物理机中部署的虚拟机数量小于第四预设值；确定所述目标物理机中在预设时间段内部署的虚拟机的平均数量小于第五预设值；确定所述目标物理机在预设时间段内的CPU使用率平均值小于第六预设值；确定所述目标物理机在预设时间段内的内存使用率平均值小于第七预设值；确定所述目标物理机在预设时间段内的硬盘读取速率平均值小于第八预设值；确定所述目标物理机在预设时间段内的硬盘写入速率平均值小于第九预设值；确定所述目标物理机在预设时间段内的网络发送速率平均值小于第十预设值；确定所述目标物理机在预设时间段内的网络接收速率平均值小于第十一预设值。11.根据权利要求10所述的装置，其特征在于，所述通信单元，还用于确定所述目标物理机的各个运行状态的运行参数，以及所述各个运行状态的权重值；所述通信单元，还用于确定所述目标物理机的各个运行状态的运行参数的容忍度值；所述处理单元，还用于根据所述目标物理机的各个运行状态的运行参数、权重值和容忍度值，确定所述目标物理机的得分；所述处理单元，还用于根据所述目标物理机的得分，确定所述目标物理机的关机优先级。12.根据权利要求11所述的装置，其特征在于，所述目标物理机的得分Score满足以下公式：其中，xi为所述目标物理机的各个运行状态的运行参数；x容忍度为所述目标物理机的各个运行状态参数的容忍度值；y权重为所述目标物理机的各个运行状态的权重值。13.一种节能装置，其特征在于，包括：处理器以及存储器；其中，所述存储器用于存储计算机执行指令，当所述节能装置运行时，所述处理器执行所述存储器存储的所述计算机执行指令，以使节能装置执行权利要求1-6中任一项所述的节能方法。14.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有指令，当计算机可读存储介质中的指令由节能装置的处理器执行时，使得所述节能装置执行权利要求1-6中任一项所述的节能方法。
说明书desc
技术领域本公开涉及通信技术领域，尤其涉及一种节能方法、装置及存储介质。背景技术边缘云数据中心需要进行节能减排以降低能耗减少碳排放量，目前，常见的节能方法是通过采集影响边缘云节能的因子，根据节能分析模型进行计算分析，在不影响边缘云数据中心正常运行的情况下，关闭低负荷物理机，从而达到节能目的。但是由于节能分析模型对影响边缘云节能问题的因素考虑地不够全面，导致根据节能分析模型计算分析，确定的可关闭的物理机不合理，节能策略存在安全风险。发明内容本公开提供一种节能方法、装置及存储介质，解决了相关技术中，确定的可关闭的物理机不合理，节能策略存在安全风险的技术问题。为达到上述目的，本公开采用如下技术方案：第一方面，提供一种节能方法，包括：确定在边缘云中部署的物理机的数量、以及在边缘云中部署分布式存储系统CEPH系统集群的运行状态；在物理机的数量满足需求、且CEPH系统集群的运行状态满足节能要求的情况下，根据物理机运行状态，确定物理机中满足节能要求的目标物理机；根据目标物理机的运行状态值，确定目标物理机的关机优先级；根据目标物理机的关机优先级，确定目标物理机中待关机的物理机。结合上述第一方面，在一种可能的实现方式中，物理机的数量满足需求包括：物理机的数量大于或等于第一预设值。结合上述第一方面，在一种可能的实现方式中，CEPH系统集群的运行状态满足节能要求，包括以下至少一项：CEPH系统集群稳定运行；CEPH系统集群在预设时间段内运行稳定度小于第二预设值；CEPH系统集群在预设时间段内的存储使用率小于第三预设值。结合上述第一方面，在一种可能的实现方式中，目标物理机满足以下至少一项：目标物理机中部署的虚拟机数量小于第四预设值；目标物理机中在预设时间段内部署的虚拟机的平均数量小于第五预设值；目标物理机在预设时间段内的CPU使用率小于第六预设值；目标物理机在预设时间段内的内存使用率小于第七预设值；目标物理机在预设时间段内的硬盘读取速率小于第八预设值；目标物理机在预设时间段内的硬盘写入速率小于第九预设值；目标物理机在预设时间段内的网络发送速率平均值小于第十预设值；目标物理机在预设时间段内的网络接收速率平均值小于第十一预设值。结合上述第一方面，在一种可能的实现方式中，根据目标物理机的运行状态值，确定目标物理机的关机优先级，包括：确定目标物理机的各个运行状态的运行参数，以及各个运行状态的权重值；确定目标物理机的各个运行状态的运行参数的容忍度值；根据目标物理机的各个运行状态的运行参数、权重值和容忍度值，确定目标物理机的得分；根据目标物理机的得分，确定目标物理机的关机优先级。结合上述第一方面，在一种可能的实现方式中，目标物理机的得分Score满足以下公式：其中，xi为目标物理机的各个运行状态的运行参数；x容忍度为目标物理机的各个运行状态参数的容忍度值；y权重为目标物理机的各个运行状态的权重值。第二方面，提供一种节能装置，包括：通信单元和处理单元；通信单元，用于确定在边缘云中部署的物理机的数量、以及在边缘云中部署分布式存储系统CEPH系统集群的运行状态；处理单元，用于在物理机的数量满足需求、且CEPH系统集群的运行状态满足节能要求的情况下，根据物理机运行状态，确定物理机中满足节能要求的目标物理机；处理单元，还用于根据目标物理机的运行状态值，确定目标物理机的关机优先级；处理单元，还用于根据目标物理机的关机优先级，确定目标物理机中待关机的物理机。结合上述第二方面，在一种可能的实现方式中，物理机的数量满足需求，包括：物理机的数量大于或等于第一预设值。结合上述第二方面，在一种可能的实现方式中，确定CEPH系统集群的运行状态满足节能要求，包括以下至少一项：确定CEPH系统集群稳定运行；确定CEPH系统集群在预设时间段内运行稳定度小于第二预设值；确定CEPH系统集群在预设时间段内的存储使用率小于第三预设值。结合上述第二方面，在一种可能的实现方式中，目标物理机满足以下至少一项：确定目标物理机中部署的虚拟机数量小于第四预设值；确定目标物理机中在预设时间段内部署的虚拟机的平均数量小于第五预设值；确定目标物理机在预设时间段内的CPU使用率平均值小于第六预设值；确定目标物理机在预设时间段内的内存使用率平均值小于第七预设值；确定目标物理机在预设时间段内的硬盘读取速率平均值小于第八预设值；确定目标物理机在预设时间段内的硬盘写入速率平均值小于第九预设值；确定目标物理机在预设时间段内的网络发送速率平均值小于第十预设值；确定目标物理机在预设时间段内的网络接收速率平均值小于第十一预设值。结合上述第二方面，在一种可能的实现方式中，通信单元，还用于确定目标物理机的各个运行状态的运行参数，以及各个运行状态的权重值；通信单元，还用于确定目标物理机的各个运行状态的运行参数的容忍度值；处理单元，还用于根据目标物理机的各个运行状态的运行参数、权重值和容忍度值，确定目标物理机的得分；处理单元，还用于根据目标物理机的得分，确定目标物理机的关机优先级。结合上述第二方面，在一种可能的实现方式中，目标物理机的得分Score满足以下公式：其中，xi为目标物理机的各个运行状态的运行参数；x容忍度为目标物理机的各个运行状态参数的容忍度值；y权重为目标物理机的各个运行状态的权重值。第三方面，提供一种节能装置，包括：处理器以及存储器；其中，存储器用于存储计算机执行指令，当节能装置运行时，处理器执行存储器存储的计算机执行指令，以使节能装置执行上述第一方面及其任一种可能的实现方式中记载的节能方法。第四方面，提供一种计算机可读存储介质，计算机可读存储介质中存储有指令，当计算机可读存储介质中的指令由节能装置的处理器执行时，以使节能装置执行上述第一方面及其任一种可能的实现方式中记载的节能方法。在本公开中，上述节能装置的名字对设备或功能模块本身不构成限定，在实际实现中，这些设备或功能模块可以以其他名称出现。只要各个设备或功能模块的功能和本公开类似，属于本公开及其等同技术的范围之内。本公开的这些方面或其他方面在以下的描述中会更加简明易懂。本公开提供的技术方案至少带来以下有益效果：本公开提供了一种可应用于边缘云中心节能的场景中的节能方法，节能装置确定在边缘云中部署的物理机的数量、以及在边缘云中部署分布式存储系统CEPH系统集群的运行状态；从而确保此时关闭部分低负荷的物理机，不会影响边缘云中心的稳定运行。在物理机的数量满足需求、且CEPH系统集群的运行状态满足节能要求的情况下，根据物理机运行状态，确定物理机中满足节能要求的目标物理机；即确定了可以关闭的部分低负荷的物理机。根据目标物理机的运行状态值，确定目标物理机的关机优先级；根据目标物理机的关机优先级，确定目标物理机中待关机的物理机，进一步降低了关闭物理机进行节能带来的安全风险。附图说明为了更清楚地说明本公开实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍。图1为本公开实施例提供的一种节能装置的硬件结构示意图；图2为本公开实施例提供的一种节能推荐平台架构示意图；图3为本公开实施例提供的一种节能分析模型的算法逻辑示意图；图4为本公开实施例提供的一种节能方法的流程示意图；图5为本公开实施例提供的又一种节能方法的流程示意图；图6为本公开实施例提供的一种节能装置的结构示意图。具体实施方式下面结合附图对本公开实施例提供的一种节能方法、装置及存储介质进行详细地描述。本文中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。本公开的说明书以及附图中的术语“第一”和“第二”等是用于区别不同的对象，或者用于区别对同一对象的不同处理，而不是用于描述对象的特定顺序。此外，本公开的描述中所提到的术语“包括”和“具有”以及它们的任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括其他没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其它步骤或单元。需要说明的是，本公开实施例中，“示例性的”或者“例如”等词用于表示作例子、例证或说明。本公开实施例中被描述为“示例性的”或者“例如”的任何实施例或设计方案不应被解释为比其它实施例或设计方案更优选或更具优势。确切而言，使用“示例性的”或者“例如”等词旨在以具体方式呈现相关概念。在本公开的描述中，除非另有说明，“多个”的含义是指两个或两个以上。图1为本公开实施例提供的一种节能装置的结构示意图，如图1所示，该节能装置100包括至少一个处理器101，通信线路102，以及至少一个通信接口104，还可以包括存储器103。其中，处理器101，存储器103以及通信接口104三者之间可以通过通信线路102连接。处理器101可以是一个中央处理器，也可以是特定集成电路，或者是被配置成实施本公开实施例的一个或多个集成电路，例如：一个或多个数字信号处理器，或，一个或者多个现场可编程门阵列。通信线路102可以包括一通路，用于在上述组件之间传送信息。通信接口104，用于与其他设备或通信网络通信，可以使用任何收发器一类的装置，如以太网，无线接入网，无线局域网等。存储器103可以是只读存储器或可存储静态信息和指令的其他类型的静态存储设备，随机存取存储器或者可存储信息和指令的其他类型的动态存储设备，也可以是电可擦可编程只读存储器、只读光盘或其他光盘存储、光碟存储、磁盘存储介质或者其他磁存储设备、或者能够用于包括或存储具有指令或数据结构形式的期望的程序代码并能够由计算机存取的任何其他介质，但不限于此。一种可能的设计中，存储器103可以独立于处理器101存在，即存储器103可以为处理器101外部的存储器，此时，存储器103可以通过通信线路102与处理器101相连接，用于存储执行指令或者应用程序代码，并由处理器101来控制执行，实现本公开下述实施例提供的节能方法。又一种可能的设计中，存储器103也可以和处理器101集成在一起，即存储器103可以为处理器101的内部存储器，例如，该存储器103为高速缓存，可以用于暂存一些数据和指令信息等。作为一种可实现方式，处理器101可以包括一个或多个CPU，例如图1中的CPU0和CPU1。作为另一种可实现方式，节能装置100可以包括多个处理器，例如图1中的处理器101和处理器107。作为再一种可实现方式，节能装置100还可以包括输出设备105和输入设备106。通过以上的实施方式的描述，所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，仅以上述各功能模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能模块完成，即将网络节点的内部结构划分成不同的功能模块，以完成以上描述的全部或者部分功能。上述描述的系统，模块和网络节点的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。以下，对本公开实施例涉及的名词进行解释，以方便读者理解。1.边缘云数据中心边缘云数据中心是建立在网络边缘的数据中心。边缘云数据中心平台能通过提供存储、计算、网络等资源，基于分布式的计算与存储能力，在本地直接处理或解决特定的业务需求，以减少网络传输和多级转发带来的带宽与时延损耗。随着数字经济的快速发展，作为数字产业底层支撑的边缘云数据中心在高能耗方面的问题亟待解决，常见的节能方式是通过将低负荷物理机中的虚拟机迁移至其他物理机，关闭低负荷物理机从而减少运行的服务器数目，进而减少云计算的能量消耗。但是节能分析模型可能由于对影响边缘云节能问题的因素考虑地不够全面或对影响边缘云节能问题的因素配置的权重不合理，导致根据节能分析模型确定的可关闭的低负荷物理机不合理，节能策略存在安全风险。2.普罗米修斯普罗米修斯是一种开源系统监视和警报工具包，主要用于对服务器，数据库进行监控。一种可能的实现方式中，如图2所示，图2为节能推荐平台架构示意图，本公开提供了一种边缘云物理机节能推荐平台201，该边缘云物理机节能推荐平台201结合边缘云203中的CEPH系统2033和物理机2032的运行特点，通过普罗米修斯监控服务中心202运行在边缘云203上的普罗米修斯监控服务装置2031，获取Exporter服务2034采集的边缘云203中的CEPH系统2033和物理机2032的运行状态参数；其中，Exporter服务2034用于向普罗米修斯监控服务装置2031提供监控样本数据的参数。边缘云物理机节能推荐平台201通过普罗米修斯监控服务装置2031获取边缘云203中的CEPH系统2033和物理机2032的运行状态参数，根据节能分析模型确定关闭低负荷物理机的节能策略。节能分析模型的算法逻辑如图3所示，以下进行详细说明。S301、采集物理机的运行状态数据以及CEPH系统集群的运行状态数据。S302、判断物理机数量是否满足容忍度。在物理机数量不满足容忍度的情况下执行以下S311。在物理机数量满足容忍度的情况下执行以下S303。S303、判断CEPH系统集群的运行状态是否满足容忍度。在CEPH系统集群的运行状态满足容忍度的情况下执行以下S304。在CEPH系统集群的运行状态不满足容忍度的情况下执行以下S311。S304、遍历边缘云所有物理机。在遍历过程中，确定每一个物理机的运行状态是否满足容忍度。S305、确定是否遍历完所有物理机。若没有遍历完所有物理机，则继续对未遍历完的物理机执行以下S306。若已遍历完所有物理机，则执行S308S306、判断物理机的运行状态是否满足容忍度。S307、添加满足容忍度的物理机至物理机可关机列表中。S308、确定物理机可关机列表是否为空。在物理机可关机列表为空的情况下，执行以下S311、确定边缘云此时不适合进行节能，本次分析结束。在物理机可关机列表不为空的情况下，执行以下S309。S309、对可关机列表中的物理机进行得分排序，提供优先关机的决策建议。S310、确定边缘云此时适合进行节能，本次分析结束。S311、确定边缘云此时不适合进行节能，本次分析结束。在执行该节能分析模型的算法逻辑进行分析时，需确定如以下表1所示的CEPH系统和物理机的运行状态的维度，以及如以下表2所示的各维度的容忍度样例表，该各维度的容忍度样例表用于确定执行节能策略是否会影响边缘云中心的正常运行，若CEPH系统和物理机的运行状态参数全部处于相应的维度的容忍度范围内，则可确定此时执行节能策略不会影响边缘云中心的正常运行。表1存储系统和物理机的运行状态的维度表表2各维度的容忍度样例表在确定此时执行关闭低负载物理机的节能策略不会影响边缘云中心的正常运行的情况下，根据以下表3物理机的各维度权重值样例表，以及物理机得分计算公式进行计算，确定关闭低负载物理机的关机优先级，从而进一步降低了关闭物理机进行节能带来的安全风险。表3物理机的各维度权重值样例表目前，节能减排是边缘云数据中心亟待解决的问题，常见的节能方法是通过采集影响边缘云节能的因子，根据节能分析模型进行计算分析，在不影响边缘云数据中心正常运行的情况下，关闭低负荷物理机，从而达到节能目的。但是由于节能分析模型对影响边缘云节能问题的因素考虑地不够全面，导致根据节能分析模型计算分析，确定的可关闭的低负荷物理机不合理，节能策略存在安全风险。为解决相关技术中存在的技术问题，本公开提供了一种节能方法、装置及存储介质，节能装置确定在边缘云中部署的物理机的数量、以及在边缘云中部署分布式存储系统CEPH系统集群的运行状态；从而确保此时关闭部分低负荷的物理机，不会影响边缘云中心的稳定运行。在物理机的数量满足需求、且CEPH系统集群的运行状态满足节能要求的情况下，根据物理机运行状态，确定物理机中满足节能要求的目标物理机；即确定了可以关闭的部分低负荷的物理机。根据目标物理机的运行状态值，确定目标物理机的关机优先级；根据目标物理机的关机优先级，确定目标物理机中待关机的物理机，进一步降低了关闭物理机进行节能带来的安全风险。如图4所示，图4为本公开实施例提供的节能方法，可以应用于如图1所示的节能装置中，该方法包括以下S401-S404。S401、节能装置确定在边缘云中部署的物理机的数量、以及在边缘云中部署的分布式存储系统CEPH系统集群的运行状态。一种可能的实现方式中，节能装置可以通过普罗米修斯监控装置集群确定边缘云中部署的物理机数量及边缘云中部署的分布式存储系统CEPH系统集群的运行状态。可以理解的是，确定边缘云中部署的物理机数量，可以确定边缘云中部署的物理机数量是否满足边缘云运行的需求，CEPH系统集群的运行状态可以从多维度确定此时CEPH系统集群的状态是否满足边缘云运行的需求，进而可以确定此时边缘云进行节能，是否会影响边缘云的稳定运行。S402、在物理机的数量满足需求、且CEPH系统集群的运行状态满足节能要求的情况下，节能装置根据物理机运行状态，确定物理机中满足节能要求的目标物理机。可选的，目标物理机为节能装置确定的，不会因为节能关机导致边缘云运行出现重大风险的物理机。可选的，在物理机数量不满足边缘云运行需求或CEPH系统集群的运行状态不满足节能要求的情况下，节能装置确定此时边缘云进行节能，会导致边缘云运行出现重大风险。S403、节能装置根据目标物理机的运行状态值，确定目标物理机的关机优先级。一种可能的实现方式中，节能装置通过普罗米修斯监控装置集群确定了目标物理机的运行状态值，根据节能分析模型进行计算分析，确定了关闭目标物理机的优先级顺序。S404、节能装置根据目标物理机的关机优先级，确定目标物理机中待关机的物理机。可以理解的是，目标物理机的关机优先级，是根据目标物理机的运行状态值确定的，根据目标物理机的关机优先级，确定标物理机中待关机的物理机，可进一步降低关闭物理机进行节能的安全风险。上述实施例提供的技术方案至少能够带来以下有益效果：节能装置确定在边缘云中部署的物理机的数量、以及在边缘云中部署分布式存储系统CEPH系统集群的运行状态；从而确保此时关闭部分低负荷的物理机，不会影响边缘云中心的稳定运行。在物理机的数量满足需求、且CEPH系统集群的运行状态满足节能要求的情况下，根据物理机运行状态，确定物理机中满足节能要求的目标物理机；即确定了可以关闭的部分低负荷物理机。根据目标物理机的运行状态值，确定目标物理机的关机优先级；根据目标物理机的关机优先级，确定目标物理机中待关机的物理机，进一步降低了关闭物理机进行节能带来的安全风险。一种可能的实现方式中，物理机的数量满足需求包括：物理机的数量大于或等于第一预设值。也即是说，节能装置在边缘云中部署的物理机的数量大于或等于第一预设值的情况下，确定边缘云中部署的物理机的数量满足需求。示例性的，该第一预设值为3。也即是说，在物理机的数量大于或等于3台的情况下，确定物理机的数量满足需求。又一种可能的实现方式中，节能装置确定CEPH系统集群的运行状态满足节能要求，包括以下至少一项：条件1、CEPH系统集群稳定运行。条件2、CEPH系统集群在预设时间段内运行稳定度小于第二预设值。条件3、CEPH系统集群在预设时间段内的存储使用率小于第三预设值。也即是说，节能装置在CEPH系统集群的运行状态满足以上条件1、条件2和条件3情况下，确定CEPH系统集群的运行状态满足节能要求。可选的，针对条件1、CEPH系统集群稳定运行，若节能装置确定CEPH系统集群的稳定度为“0”，则节能装置确定此时CEPH系统集群运行稳定。若节能装置确定CEPH系统集群的稳定度为“1”，则节能装置确定此时CEPH系统集群运行不稳定，此时边缘云节能，可能会导致边缘云运行出现事故。针对上述条件2、CEPH系统集群在预设时间段内运行稳定度小于第二预设值。若节能装置确定CEPH系统集群在预设时间段内运行稳定度小于第二预设值，则节能装置确定此时CEPH系统集群运行稳定。若节能装置确定CEPH系统在预设时间段内运行稳定度大于或等于第二预设值，则节能装置确定此时CEPH系统集群运行不稳定，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第二预设值为0.2，当CEPH系统集群在预设时间段内运行稳定度小于0.2时，节能装置可确定CEPH系统集群状态在预设时间段内稳定运行。针对上述条件3、CEPH系统集群在预设时间段内的存储使用率小于第三预设值。若节能装置确定CEPH系统集群在预设时间段内的存储使用率小于第三预设值，则节能装置确定此时CEPH系统集群运行稳定。若节能装置确定CEPH系统集群在预设时间段内的存储使用率大于或等于第三预设值，则节能装置确定此时CEPH系统集群运行不稳定，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第三预设值为0.7，当CEPH系统集群在预设时间段内的存储使用率小于0.7时，节能装置可确定CEPH系统集群的存储使用率在预设时间段内处于低位，也即是说CEPH系统集群处于低负荷状态。又一种可能的实现方式中，节能装置确定物理机中目标物理机满足节能要求，包括以下至少一项：条件4、目标物理机中部署的虚拟机数量小于第四预设值。条件5、目标物理机中在预设时间段内部署的虚拟机的平均数量小于第五预设值。条件6、目标物理机在预设时间段内的CPU使用率平均值小于第六预设值。条件7、目标物理机在预设时间段内的内存使用率平均值小于第七预设值。条件8、目标物理机在预设时间段内的硬盘读取速率平均值小于第八预设值。条件9、目标物理机在预设时间段内的硬盘写入速率平均值小于第九预设值。条件10、目标物理机在预设时间段内的网络发送速率平均值小于第十预设值。条件11、目标物理机在预设时间段内的网络接收速率平均值小于第十一预设值。也即是说，节能装置在物理机的运行状态满足以上条件4-11的情况下，确定物理机的运行状态满足节能要求。可选的，针对上述条件4、目标物理机中部署的虚拟机数量小于第四预设值。若节能装置确定目标物理机中部署的虚拟机数量小于第四预设值。则节能装置确定此时目标物理机处于低负载状态。若节能装置确定物理机中部署的虚拟机数量大于或等于第四预设值。则节能装置确定此时目标物理机处于高负载状态，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第四预设值为3，当物理机承载的虚拟机数量小于3时，节能装置可确定此时目标物理机处于低负载状态。针对上述条件5、目标物理机中在预设时间段内部署的虚拟机的平均数量小于第五预设值。若节能装置确定目标物理机中在预设时间段内部署的虚拟机的平均数量小于第五预设值，则节能装置确定此时目标物理机处于低负载状态。若节能装置确定目标物理机中在预设时间段内部署的虚拟机的平均数量大于或等于第五预设值，则节能装置确定此时目标物理机处于高负载状态，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第五预设值为2，当物理机承载的虚拟机数量小于2时，节能装置可确定在预设时间段内目标物理机处于低负载状态。针对上述条件6、目标物理机中在预设时间段内部署的虚拟机的平均数量小于第五预设值。若节能装置确定目标物理机在预设时间段内的CPU使用率平均值小于第六预设值，则节能装置确定此时目标物理机处于低负载状态。若节能装置确定目标物理机在预设时间段内的CPU使用率平均值大于或等于第六预设值，则节能装置确定此时目标物理机处于高负载状态，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第六预设值为0.6，当物理机承载的虚拟机数量小于0.6时，则节能装置可确定在预设时间段内目标物理机处于低负载状态。针对上述条件7、目标物理机在预设时间段内的内存使用率平均值小于第七预设值。若节能装置确定目标物理机在预设时间段内的内存使用率平均值小于第七预设值，则节能装置确定此时目标物理机处于低负载状态。若节能装置确定目标物理机在预设时间段内的内存使用率平均值大于或等于第七预设值，则节能装置确定此时目标物理机处于高负载状态，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第七预设值为0.6，当目标物理机在预设时间段内的内存使用率平均值小于0.6时，节能装置可确定在预设时间段内目标物理机处于低负载状态。针对上述条件8、目标物理机在预设时间段内的内存使用率平均值小于第七预设值。若节能装置确定目标物理机在预设时间段内的硬盘读取速率平均值小于第八预设值，则节能装置确定此时目标物理机处于低负载状态。若节能装置确定目标物理机在预设时间段内的硬盘读取速率平均值大于或等于第八预设值，则节能装置确定此时目标物理机处于高负载状态，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第八预设值为2Mpbs，当目标物理机在预设时间段内的硬盘读取速率平均值小于2Mpbs时，节能装置可确定在预设时间段内目标物理机处于低负载状态。针对上述条件9、目标物理机在预设时间段内的硬盘写入速率平均值小于第九预设值。若节能装置确定目标物理机在预设时间段内的硬盘写入速率平均值小于第九预设值，则节能装置确定此时目标物理机处于低负载状态。目标物理机在预设时间段内的硬盘写入速率平均值大于或等于第九预设值，则节能装置确定此时目标物理机处于高负载状态，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第九预设值为2Mpbs，当目标物理机在预设时间段内的硬盘写入速率平均值小于2Mpbs时，节能装置可确定在预设时间段内目标物理机处于低负载状态。针对上述条件10、目标物理机在预设时间段内的网络发送速率平均值小于第十预设值。若节能装置确定目标物理机在预设时间段内的网络发送速率平均值小于第十预设值，则节能装置确定此时目标物理机处于低负载状态。目标物理机在预设时间段内的网络发送速率平均值大于或等于第十预设值，则节能装置确定此时目标物理机处于高负载状态，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第十预设值为2Mpbs，当目标物理机在预设时间段内的网络发送速率平均值小于2Mpbs时，节能装置可确定在预设时间段内目标物理机处于低负载状态。针对上述条件11、目标物理机在预设时间段内的网络接收速率平均值小于第十一预设值。若节能装置确定目标物理机在预设时间段内的网络接收速率平均值小于第十一预设值，则节能装置确定此时目标物理机处于低负载状态。目标物理机在预设时间段内的网络接收速率平均值大于或等于第十一预设值，则节能装置确定此时目标物理机处于高负载状态，此时边缘云节能，可能会导致边缘云运行出现事故。示例性的，该第十一预设值为2Mpbs，当目标物理机在预设时间段内的网络接收速率平均值小于2Mpbs时，节能装置可确定在预设时间段内目标物理机处于低负载状态。以上，为本公开实施例提供的一种节能的方法。以下，对上述节能方法的具体实现方法进行详细解释说明。一种可能的实现方式中，结合图4，如图5所示，上述S403中节能装置根据目标物理机的运行状态值，确定目标物理机的关机优先级，具体可以通过以下S501-S504实现，以下进行详细说明。S501、节能装置确定目标物理机的各个运行状态的运行参数，以及各个运行状态的权重值。示例性的，各个运行状态的运行参数及权重值包括：物理机中部署的虚拟机数量，其权重值为10。预设时间段内部署的虚拟机的平均数量，其权重值为10。预设时间段内的CPU使用率平均值，其权重值为10。预设时间段内的内存使用率平均值，其权重值为10。预设时间段内的硬盘读取速率平均值，其权重值为5。预设时间段内的硬盘写入速率平均值，其权重值为5。预设时间段内的网络发送速率平均值，其权重值为5。预设时间段内的网络接收速率平均值，其权重值为5。S502、节能装置确定目标物理机的各个运行状态的运行参数的容忍度值。示例性的，各个运行状态的容忍度值包括：物理机中部署的虚拟机数量，其容忍度值为3。预设时间段内部署的虚拟机的平均数量，其容忍度值为2。预设时间段内的CPU使用率平均值，其容忍度值为0.6。预设时间段内的内存使用率平均值，其容忍度值为0.6。预设时间段内的硬盘读取速率平均值，其容忍度值为2Mpbs。预设时间段内的硬盘写入速率平均值，其容忍度值为2Mpbs。预设时间段内的网络发送速率平均值，其容忍度值为2Mpbs。预设时间段内的网络接收速率平均值，其权重值为2Mpbs。S503、节能装置根据目标物理机的各个运行状态的运行参数、权重值和容忍度值，确定目标物理机的得分。一种可能实现的方式中，上述S403中目标物理机的得分满足以下公式：其中，xi为目标物理机的各个运行状态的运行参数；x容忍度为目标物理机的各个运行状态参数的容忍度值；y权重为目标物理机的各个运行状态的权重值。S504、节能装置根据目标物理机的得分，确定目标物理机的关机优先级。一种可能实现的方式中，节能装置根据目标物理机的得分从高到低将目标物理机的关机优先级进行排序，确定优先关闭得分高的物理机。上述实施例提供的技术方案至少能够带来以下有益效果：节能装置确定在边缘云中部署的物理机的数量、以及在边缘云中部署分布式存储系统CEPH系统集群的运行状态；从而确保此时关闭部分低负荷的物理机，不会影响边缘云中心的稳定运行。在物理机的数量满足需求、且CEPH系统集群的运行状态满足节能要求的情况下，根据物理机运行状态，确定物理机中满足节能要求的目标物理机；即确定了可以关闭的部分低负荷的物理机。根据目标物理机的运行状态值，通过公式进行计算，确定目标物理机的关机优先级；根据目标物理机的关机优先级，确定目标物理机中待关机的物理机，进一步降低了关闭物理机进行节能带来的安全风险。以上，对本公开实施例涉及到的节能方法进行了详细说明。可以看出，上述主要从方法的角度对本公开实施例提供的技术方案进行了介绍。为了实现上述功能，其包含了执行各个功能相应的硬件结构和/或软件模块。本领域技术人员应该很容易意识到，结合本文中所公开的实施例描述的各示例的模块及算法步骤，本公开实施例能够以硬件或硬件和计算机软件的结合形式来实现。某个功能究竟以硬件还是计算机软件驱动硬件的方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本公开的范围。本公开实施例可以根据上述方法示例对节能装置进行功能模块的划分，例如，可以对应各个功能划分各个功能模块，也可以将两个或两个以上的功能集成在一个处理模块中。上述集成的模块既可以采用硬件的形式实现，也可以采用软件功能模块的形式实现。可选的，本公开实施例中对模块的划分是示意性的，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。如图6所示，为本公开实施例提供的一种节能装置600的结构示意图。该节能装置包括：通信单元601和处理单元602；通信单元601，用于确定在边缘云中部署的物理机的数量、以及在边缘云中部署分布式存储系统CEPH系统集群的运行状态；处理单元602，用于在物理机的数量满足需求、且CEPH系统集群的运行状态满足节能要求的情况下，根据物理机运行状态，确定物理机中满足节能要求的目标物理机；处理单元602，还用于根据目标物理机的运行状态值，确定目标物理机的关机优先级；处理单元602，还用于根据目标物理机的关机优先级，确定目标物理机中待关机的物理机。一种可能的实现方式中，物理机的数量满足需求，包括：物理机的数量大于或等于第一预设值。一种可能的实现方式中，处理单元602确定CEPH系统集群的运行状态满足节能要求，包括以下至少一项：确定CEPH系统集群稳定运行；确定CEPH系统集群在预设时间段内运行稳定度小于第二预设值；确定CEPH系统集群在预设时间段内的存储使用率小于第三预设值。一种可能的实现方式中，处理单元602确定物理机中目标物理机满足节能要求，包括以下至少一项：确定目标物理机中部署的虚拟机数量小于第四预设值；确定目标物理机中在预设时间段内部署的虚拟机的平均数量小于第五预设值；确定目标物理机在预设时间段内的CPU使用率平均值小于第六预设值；确定目标物理机在预设时间段内的内存使用率平均值小于第七预设值；确定目标物理机在预设时间段内的硬盘读取速率平均值小于第八预设值；确定目标物理机在预设时间段内的硬盘写入速率平均值小于第九预设值；确定目标物理机在预设时间段内的网络发送速率平均值小于第十预设值；确定目标物理机在预设时间段内的网络接收速率平均值小于第十一预设值。一种可能的实现方式中，通信单元601还用于确定目标物理机的各个运行状态的运行参数，以及各个运行状态的权重值；通信单元601，还用于确定目标物理机的各个运行状态的运行参数的容忍度值；处理单元602，还用于根据目标物理机的各个运行状态的运行参数、权重值和容忍度值，确定目标物理机的得分；处理单元602，还用于根据目标物理机的得分，确定目标物理机的关机优先级。一种可能的实现方式中，目标物理机的得分Score满足以下公式：其中，xi为目标物理机的各个运行状态的运行参数；x容忍度为目标物理机的各个运行状态参数的容忍度值；y权重为目标物理机的各个运行状态的权重值。本公开实施例还提供一种节能装置，该节能装置包含处理器以及存储器；其中，存储器用于存储计算机执行指令，当节能装置运行时，处理器执行存储器存储的计算机执行指令，以使节能装置执行本公开实施例所记载的节能方法。本公开实施例还提供一种计算机可读存储介质，计算机可读存储介质中存储有指令，当计算机可读存储介质中的指令由节能装置的处理器执行时，使得节能装置执行本公开实施例所记载的节能方法。本公开的实施例提供一种包含指令的计算机程序产品，当指令在计算机上运行时，使得计算机执行上述方法实施例中的节能方法。本公开的实施例提供一种芯片，芯片包括处理器和通信接口，通信接口和处理器耦合，处理器用于运行计算机程序或指令，以实现如上述方法实施例中的节能方法。其中，计算机可读存储介质，例如可以是但不限于电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘。随机存取存储器、只读存储器、可擦式可编程只读存储器、寄存器、硬盘、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的人以合适的组合、或者本领域数值的任何其他形式的计算机可读存储介质。一种示例性的存储介质耦合至处理器，从而使处理器能够从该存储介质读取信息，且可向该存储介质写入信息。当然，存储介质也可以是处理器的组成部分。处理器和存储介质可以位于特定用途集成电路中。在本公开实施例中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。由于本公开的实施例中的装置、设备、计算机可读存储介质、计算机程序产品可以应用于上述方法，因此，其所能获得的技术效果也可参考上述方法实施例，本公开实施例在此不再赘述。以上所示，仅为本公开的具体实施方式，但本公开的保护范围并不局限于此，任何在本公开揭露的技术范围内的变化或替换，都应涵盖在本公开的保护范围之内。因此，本公开的保护范围应该以权利要求的保护范围为准。
