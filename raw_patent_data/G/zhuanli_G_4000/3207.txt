标题title
地质建模方法、装置、计算机设备及计算机可读存储介质
摘要abst
本申请公开了一种地质建模方法、装置、计算机设备及计算机可读存储介质，涉及三维地质建模技术领域，提升模型精度的同时还保证地质模型与巷道模型、煤层模型的高度吻合，减少建模过程的人为干预，简化构建流程，减轻人力负担。所述方法包括：响应于数据扫描指令，获取扫描仪输出的多个目标点云数据，用多个目标点云数据构建巷道模型；利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用巷道模型建立多个虚拟钻井，用多个虚拟钻井、煤层模型中的煤层相关数据构建层面模型；采用断层数据构建断层模型，利用断层模型生成地层框架网格；将层面模型导入地层框架网格中，得到地层模型，利用断距信息对地层模型进行调整，得到目标地质模型。
权利要求书clms
1.一种地质建模方法，其特征在于，包括：响应于数据扫描指令，运行扫描仪以及获取所述扫描仪输出的多个目标点云数据，采用所述多个目标点云数据构建巷道模型；利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用所述巷道模型建立多个虚拟钻井，以及利用所述多个虚拟钻井、所述煤层模型中的煤层相关数据构建层面模型；获取断层图，采用所述断层图中的断层数据构建断层模型，以及利用所述断层模型生成地层框架网格；将所述层面模型导入所述地层框架网格中，得到地层模型，以及利用所述断层图中的断距信息对所述地层模型进行调整，得到目标地质模型。2.根据权利要求1所述的方法，其特征在于，所述响应于数据扫描指令，运行扫描仪以及获取所述扫描仪输出的多个目标点云数据，采用所述多个目标点云数据构建巷道模型，包括：当接收到所述数据扫描指令时，确定所述数据扫描指令指示的目标巷道，获取预设第一间距，以及基于所述目标巷道，按照所述预设第一间距确定多个控制点；获取基于平面控制测量方法得到的所述每个控制点的平面位置，获取基于高程控制测量方法得到的所述每个控制点的高程，以及利用所述每个控制点的平面位置、所述每个控制点的高程确定所述每个控制点的控制点坐标，得到多个控制点坐标；运行所述扫描仪，获取所述扫描仪在所述每个控制点坐标输出的多个点云数据，得到多个目标点云数据，以及利用所述多个目标点云数据、所述多个控制点坐标构建三维仿射变换模型；在所述三维仿射变换模型中获取多个配准点云数据，对所述多个配准点云数据进行预处理操作，所述预处理操作包括滤波去噪、数据精简、数据插补；获取多维二叉树算法，利用所述多维二叉树算法将预处理后的所述多个配准点云数据聚类为多个目标数据；获取预设构建算法，采用所述预设构建算法对所述多个目标数据进行三角网格化处理，得到所述巷道模型，所述预设构建算法是凸包算法、凹包算法中的一种。3.根据权利要求1所述的方法，其特征在于，所述利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用所述巷道模型建立多个虚拟钻井，以及利用所述多个虚拟钻井、所述煤层模型中的煤层相关数据构建层面模型，包括：获取钻孔轨迹坐标，根据所述钻孔轨迹坐标确定多个分支孔，以及在所述钻孔轨迹坐标中提取所述每个分支孔的起点坐标值、终点坐标值，得到多个起点坐标值、多个终点坐标值；获取最小二乘算法，利用所述最小二乘算法对所述多个起点坐标值、所述终点坐标值进行拟合计算，得到钻孔轨迹趋势线，以及分别计算所述多个起点坐标值、所述多个终点坐标值到所述钻孔轨迹趋势线的距离，得到多个距离值；计算所述多个距离值的平均值，得到平均距离值，获取预设距离阈值计算规则，利用所述预设距离阈值计算规则对所述平均距离值进行计算，得到目标距离阈值；在所述多个距离值中获取未超过所述目标距离阈值的多个第一距离值，以及在所述多个距离值中将所述第一距离值删除，得到多个目标距离值；确定所述多个目标距离值对应的多个目标起点坐标值、多个目标终点坐标值，以及利用所述多个目标起点坐标值、所述多个目标终点坐标值确定多个煤层顶点坐标、多个煤层底点坐标；利用所述多个煤层顶点坐标、所述多个煤层底点坐标生成煤层剖面线，获取所述克里金插值算法，以及利用所述克里金插值算法对所述多个煤层顶点坐标、所述多个煤层底点坐标、所述煤层剖面线进行处理，得到所述煤层模型；获取所述巷道模型，获取预设第二间距，在所述巷道模型中按照所述预设第二间距设置虚拟钻井，得到多个虚拟钻井，以及利用所述多个虚拟钻井、在所述煤层模型获取的煤层相关数据构建所述层面模型。4.根据权利要求3所述的方法，其特征在于，所述利用所述多个虚拟钻井、在所述煤层模型获取的煤层相关数据构建所述层面模型，包括：在所述巷道模型中获取所述多个虚拟钻井对应的多个钻井数据，获取多个预设项目，按照所述多个钻井数据中各项数据与所述多个预设项目之间的映射关系，对所述多个钻井数据进行整理，得到第一井位数据，所述多个预设项目包括钻井名称、横轴坐标、纵轴坐标、底部深度、千字节；获取钻井柱状图，在所述钻井柱状图中确定多个层位，以及在所述钻井柱状图中读取所述每个层位对应的顶深信息，得到多个顶深信息；将所述多个顶深信息整理成表格，得到第一数据表格；在所述钻井柱状图中读取钻井相关信息，按照所述钻井相关信息中各项数据与所述多个预设项目之间的映射关系，对所述钻井相关信息进行整理，得到第二井位数据；在所述煤层模型中获取煤层相关数据，将所述煤层相关数据整理成表格，得到第二数据表格，所述煤层相关数据包括多个煤层顶点坐标、多个煤层底点坐标、煤层层位信息；利用所述第一井位数据、所述第一数据表格、所述第二数据表格、所述第二井位数据生成目标层位数据；获取克里金插值算法，利用所述克里金插值算法对所述目标层位数据进行计算，得到所述层面模型。5.根据权利要求4所述的方法，其特征在于，所述利用所述克里金插值算法对所述目标层位数据进行计算，得到所述层面模型，包括：对于每个层位，在所述目标层位数据中提取所述层位的多个层位坐标、所述每个层位坐标对应的层位坐标值，利用多个层位坐标值计算所述多个层位坐标中任意两个层位坐标的层位距离值和半方差，得到多个层位距离值和多个半方差；采用所述多个层位距离值和所述多个半方差建立关系函数，获取指数模型，利用所述指数模型对所述关系函数进行拟合，得到拟合函数；利用拟合函数对所述多个层位距离值进行计算，得到多个第一半方差，以及利用所述多个第一半方差计算得到半方差系数矩阵；获取所述层位的未知层位坐标，计算所述未知层位坐标到所述多个层位坐标的半方差，得到多个第二半方差，以及利用所述多个第二半方差计算得到系数方程；对所述半方差系数矩阵、所述系数方程进行计算，得到加权系数，在所述目标层位数据中获取所述多个层位坐标对应的多个属性值，以及利用所述加权系数对所述多个属性值进行加权求和计算，得到所述未知层位坐标的估计值；分别对所述每个层位的多个层位坐标进行计算，得到多个估计值，利用所述目标层位数据、所述多个估计值构建所述层面模型。6.根据权利要求1所述的方法，其特征在于，所述获取断层图，采用所述断层图中的断层数据构建断层模型，以及利用所述断层模型生成地层框架网格，包括：获取所述断层图，对所述断层图进行坐标校正，以及在校正后的所述断层图中读取断层倾角、高程范围；利用所述断层倾角、所述高程范围计算出煤层顶线、煤层底线在所述断层图中的投影位置，并在所述断层图的投影位置确定断层线的平行线，所述平行线包括断层顶线、断层底线、煤层顶线、煤层底线；获取预设处理算法，利用所述预设处理算法对校正后的所述断层图进行矢量化处理，对校正后的所述断层图的背景颜色、目标颜色进行设定，以及对所述断层线、所述断层线的平行线进行像素自动追踪，得到多个像素点坐标；获取预设像素点过滤规则，利用所述预设像素点过滤规则对所述多个像素点坐标进行过滤，利用过滤后的所述多个像素点坐标生成断层数据；获取预设第三间距，按照所述预设第三间距对所述断层数据进行数字化处理，得到多个离散线段；对于所述每个离散线段，获取所述离散线段的端点坐标，得到第一端点坐标、第二端点坐标，计算所述离散线段对应的平面向量、垂直向量，确定所述断层线对应的断层面；利用所述平面向量、所述垂直向量计算与所述离散线段垂直且平行于所述断层面的目标向量；对所述平面向量、所述目标向量进行计算，得到断层面法向量，以及获取初始平面方程，将所述断层面法向量、所述第一端点坐标加入所述初始平面方程，得到断层平面方程；利用所述断层平面方程、所述高程范围构建所述断层模型；在所述断层模型中提取中间形状点，获取所述断层模型的模型边界，以及获取预设坐标方向、所述预设坐标方向对应的预设网格数，所述中间形状点是所述断层模型对应的地质体在高程方向分为的三个平面与所述断层面的交点；利用所述中间形状点、所述模型边界、所述预设坐标方向、所述预设坐标方向对应的预设网格数生成平面四边形网格；在所述断层模型中获取断层走向、断层顶部、断层底部，按照所述断层走向将所述平面四边形网格构建到所述断层顶部、所述断层底部，得到连接所述断层顶部、断层中部、所述断层底部的柱状三维框架网络，将所述柱状三维框架网络作为所述地层框架网格。7.根据权利要求1所述的方法，其特征在于，所述将所述层面模型导入所述地层框架网格中，得到地层模型，以及利用所述断层图中的断距信息对所述地层模型进行调整，得到目标地质模型，包括：将所述层面模型导入所述地层框架网格中，得到三维网格，获取目标层位数据，在所述目标层位数据中读取多个地层厚度值，以及获取预设地层模型精度；利用所述多个地层厚度值、所述预设地层模型精度构建多个垂向网格，利用所述多个垂向网格、所述目标层位数据对导入所述层面模型的地层框架网格进行调整，得到所述地层模型；获取所述断层图，在所述断层图中读取断距信息、断层影响范围，获取所述地层模型的第一断距信息、断层信息，利用所述断距信息、所述断层影响范围对所述地层模型的第一断距信息、断层信息进行调整，得到所述目标地质模型。8.一种地质建模装置，其特征在于，包括：获取模块，用于响应于数据扫描指令，运行扫描仪以及获取所述扫描仪输出的多个目标点云数据，以及采用所述多个目标点云数据构建巷道模型；构建模块，用于利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用所述巷道模型建立多个虚拟钻井，以及利用所述多个虚拟钻井、所述煤层模型中的煤层相关数据构建层面模型；生成模块，用于获取断层图，采用所述断层图中的断层数据进行模型构建，得到断层模型，以及利用所述断层模型生成地层框架网格；调整模块，用于将所述层面模型导入所述地层框架网格中，得到地层模型，以及利用所述断层图中的断距信息对所述地层模型进行调整，得到目标地质模型。9.一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至7中任一项所述方法的步骤。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至7中任一项所述方法的步骤。
说明书desc
技术领域本申请涉及三维地质建模技术领域，特别是涉及一种地质建模方法、装置、计算机设备及计算机可读存储介质。背景技术随着三维地质建模技术的快速发展，在城市建设、矿山开采、岩土工程等领域被广泛应用。三维地质建模技术是将地质理论知识、计算机三维可视化融合在一起，进而在三维条件下通过这些信息技术达到地址空间建模的目的，并对各类地质空间和结构进行解释。相关技术中，三维地质建模方法按数据源类型不同可分为基于钻孔、基于地质剖面、基于多源数据等建模方法。基于钻孔自动建模适用于层状地质建模，基于剖面的半自动交互式建模适用于复杂地质构造的构建，基于物探、钻孔、地质等多源数据的建模方法模型精度高，能够真实反应三维空间特征。但是申请人认识到，基于钻孔建模不能很好反映地下褶皱、断裂等复杂构造的空间展布情况，而且采用地质剖面建模过程繁琐复杂，需要耗费大量人力物力且效率低，而基于多源数据的建模方法的融合难度大，模型的准确度低，且剖面数据建模过程繁琐，需要人工干预，导致模型后续更新困难。发明内容有鉴于此，本申请提供了一种地质建模方法、装置、计算机设备及计算机可读存储介质，主要目的在于解决基于钻孔建模不能很好反映地下褶皱、断裂等复杂构造的空间展布情况，而且采用地质剖面建模过程繁琐复杂，需要耗费大量人力物力且效率低，而基于多源数据的建模方法的融合难度大，模型的准确度低，且剖面数据建模过程繁琐，需要人工干预，导致模型后续更新困难的问题。依据本申请第一方面，提供了一种地质建模方法，该方法包括：响应于数据扫描指令，运行扫描仪以及获取所述扫描仪输出的多个目标点云数据，采用所述多个目标点云数据构建巷道模型；利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用所述巷道模型建立多个虚拟钻井，以及利用所述多个虚拟钻井、所述煤层模型中的煤层相关数据构建层面模型；获取断层图，采用所述断层图中的断层数据构建断层模型，以及利用所述断层模型生成地层框架网格；将所述层面模型导入所述地层框架网格中，得到地层模型，以及利用所述断层图中的断距信息对所述地层模型进行调整，得到目标地质模型。依据本申请第二方面，提供了一种地质建模装置，该装置包括：获取模块，用于响应于数据扫描指令，运行扫描仪以及获取所述扫描仪输出的多个目标点云数据，以及采用所述多个目标点云数据构建巷道模型；构建模块，用于利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用所述巷道模型建立多个虚拟钻井，以及利用所述多个虚拟钻井、所述煤层模型中的煤层相关数据构建层面模型；生成模块，用于获取断层图，采用所述断层图中的断层数据进行模型构建，得到断层模型，以及利用所述断层模型生成地层框架网格；调整模块，用于将所述层面模型导入所述地层框架网格中，得到地层模型，以及利用所述断层图中的断距信息对所述地层模型进行调整，得到目标地质模型。依据本申请第三方面，提供了一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现上述第一方面中任一项所述方法的步骤。依据本申请第四方面，提供了一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上述第一方面中任一项所述的方法的步骤。借由上述技术方案，本申请提供的一种地质建模方法、装置、计算机设备及计算机可读存储介质，本申请响应于数据扫描指令，运行扫描仪以及获取扫描仪输出的多个目标点云数据，采用多个目标点云数据构建巷道模型，利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用巷道模型建立多个虚拟钻井，以及利用多个虚拟钻井、煤层模型中的煤层相关数据构建层面模型，获取断层图，采用断层图中的断层数据构建断层模型，以及利用断层模型生成地层框架网格，将层面模型导入地层框架网格中，得到地层模型，以及利用断层图中的断距信息对地层模型进行调整，得到目标地质模型，引入大量高精度巷道层位点、煤层顶底板数据点作为虚拟钻井构建高精度巷道模型、高精度煤层模型以约束地层模型，充分融合钻孔、断层等数据实现高精度三维地质模型的构建，提升整体地质模型精度的同时还保证地质模型与巷道模型、煤层模型的高度吻合，且能够减少建模过程的人为干预，简化地质模型的构建流程，减轻人力负担。上述说明仅是本申请技术方案的概述，为了能够更清楚了解本申请的技术手段，而可依照说明书的内容予以实施，并且为了让本申请的上述和其它目的、特征和优点能够更明显易懂，以下特举本申请的具体实施方式。附图说明通过阅读下文优选实施方式的详细描述，各种其他的优点和益处对于本领域普通技术人员将变得清楚明了。附图仅用于示出优选实施方式的目的，而并不认为是对本申请的限制。而且在整个附图中，用相同的参考符号表示相同的部件。在附图中：图1示出了本申请实施例提供的一种地质建模的方法流程示意图；图2A示出了本申请实施例提供的一种地质建模的方法流程示意图；图2B示出了本申请实施例提供的一种三维模型的构建流程图；图2C示出了本申请实施例提供的一种井下千米钻孔剖面轨迹示意图；图2D示出了本申请实施例提供的一种虚拟钻井数据的示意图；图2E示出了本申请实施例提供的一种ZL028综合柱状图；图2F示出了本申请实施例提供的一种矿区大断层图；图2G示出了本申请实施例提供的一种断层顶底线的示意图；图2H示出了本申请实施例提供的一种平面断层扫描图；图2I示出了本申请实施例提供的一种平面断层数字化结果的示意图；图2J示出了本申请实施例提供的一种断层三维模型的架构示意图；图2K示出了本申请实施例提供的一种地层框架网格的架构示意图；图2L示出了本申请实施例提供的一种地质网格模型的架构示意图；图2M示出了本申请实施例提供的一种地质建模的方法流程示意图；图3示出了本申请实施例提供的一种地质建模的结构示意图；图4示出了本申请实施例提供的一种计算机设备的装置结构示意图。具体实施方式下面将参照附图更详细地描述本申请的示例性实施例。虽然附图中显示了本申请的示例性实施例，然而应当理解，可以以各种形式实现本申请而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更透彻地理解本申请，并且能够将本申请的范围完整的传达给本领域的技术人员。本申请实施例提供了一种地质建模方法，如图1所示，该方法包括：101、响应于数据扫描指令，运行扫描仪以及获取扫描仪输出的多个目标点云数据，采用多个目标点云数据构建巷道模型。目前三维地质模型研究发展过程可以概括为三个阶段：第一阶段主要是基于钻孔数据的三维地质建模研究。第二阶段主要是基于地球物理探测数据的三维可视化研究。第三阶段为基于多源数据的综合地质建模研究，该阶段主要进行高精度、透明化采掘工作面的构建和动态更新，从而满足煤炭智能精准开采的地质条件需求。这三个阶段的发展独立且相辅相成，各个阶段之间没有界限、相互穿插，共同向高精度、透明化目标迈进，但整个透明地质条件建设过程还有待进一步向着智能化推进。因此，三维地质建模方法按数据源类型不同可分为基于钻孔、基于地质剖面、基于多源数据等建模方法。基于钻孔自动建模速度快，适用于层状地质建模，但建模精度与钻孔分布数量有直接关系，不能很好反映地下褶皱、断裂等复杂构造的空间展布情况。基于剖面的半自动交互式建模，适用于复杂地质构造的构建，虽然建模结果符合专业人员的地质认识，但建模过程繁琐复杂，需要大量人力物力以及时间的投入，造成建模效率低。而基于物探、钻孔、地质等多源数据的建模方法虽然模型精度高，能够真实反应三维空间特征，但是融合难度大。为解决这一问题，本申请提出一种地质建模方法，通过高精度激光巷道三维模型引入大量高精度虚拟钻井作为地层约束，再融合钻孔、断层、地层揭露信息等数据实现高精度三维地质模型的构建，能够在提升整体地质模型精度的同时还能够保证地质模型与巷道模型、煤层模型的高度吻合。本申请的执行主体可以是地质建模系统，地质建模系统面向用户提供前端应用，也即提供客户端，用户可以基于前端应用请求进行地质建模，以使地质建模系统依靠服务器的计算能力为用户提供建模服务，服务器可以是独立的服务器，也可以提供云服务、云数据库、云计算、云函数、云存储、网络服务、云通信、中间件服务、域名服务、安全服务、内容分发网络、以及大数据和人工智能平台等基础云计算的服务器，以便减少建模过程的人为干预，简化地质模型的构建流程，减轻人力负担。传统煤矿井下巷道数据都是二维平面CAD图，巷道模型重建通常采用平面图加断面图的方法。然而通过这种方法得到的巷道模型精度低、细节丰富度不够，因此，本申请通过GeoSLAM Horizon手持式移动三维激光扫描仪，能够实现对煤矿巷道的三维信息直接采集、快速复制实体目标进行三维建模。在本申请实施例中，地质建模系统响应于数据扫描指令，并根据数据扫描指令运行扫描仪，其中，扫描仪可以是GeoSLAM Horizon手持式移动三维激光扫描仪，通过扫描仪能够获取井下激光点云数据，为地质建模系统提供高精度的数据。数据扫描指令可以由工作人员通过地质建模系统提供的前端应用下发，工作人员可以事先通过前端应用将扫描仪绑定或者将扫描仪接入地质建模系统，这样，当工作人员下发数据扫描指令时，响应于数据扫描指令，地质建模系统会运行扫描仪，以获取扫描仪扫描得到的点云数据。接着，地质建模系统获取扫描仪输出的多个目标点云数据，并采用多个目标点云数据构建巷道模型，其中，多个目标点云数据是手持式移动三维激光扫描仪通过对目标巷道扫描得到的激光点云数据。这样，地质建模系统通过高精度激光点云数据能够构建高精度巷道三维模型，从而提升底层模型的精度。102、利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用巷道模型建立多个虚拟钻井，以及利用多个虚拟钻井、煤层模型中的煤层相关数据构建层面模型。为了更好地提升整体地质模型精度，本申请通过基于激光点云数据的高精巷道三维模型和基于千米钻孔数据的煤层层面模型，再引入大量高精度巷道层位点、煤层顶底板数据点作为虚拟钻井构建高精度巷道模型、高精度煤层模型以约束地层模型。在本申请实施例中，地质建模系统利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，其中，地质建模系统能够从千米钻孔数据提取煤层顶、底点坐标，从而构建高精度的煤层层面模型。接着，地质建模系统利用巷道模型建立多个虚拟钻井，以及利用多个虚拟钻井、煤层模型中的煤层相关数据构建层面模型，其中，虚拟钻孔和真实钻孔一样是具有单一地质属性的钻孔，能够使地质模型与地质体更加贴合。这样，地质建模系统能够利用高精度巷道层位点、煤层顶底板数据点生成虚拟钻井，从而对地层进行约束，减少由于钻井数据质量、分布带来的影响。103、获取断层图，采用断层图中的断层数据构建断层模型，以及利用断层模型生成地层框架网格。为了更加精准地将钻孔、断层等数据进行融合，地质建模系统对地质图进行数字化获取断层数据，并根据断层数据构建断层模型，然后由给定的格网大小构建角点网格模型形成三维地层框架。在本申请实施例中，地质建模系统获取断层图，采用断层图中的断层数据构建断层模型。通过对断层图进行处理，能够从中得到断层顶线、断层底线、煤层顶线、煤层底线等断层数据信息，并利用断层数据信息构建断层模型，以便后续地质建模系统能够将高精度断层数据融入地质模型。接着，地质建模系统利用断层模型生成地层框架网格，这样，地质建模系统能够利用断层数据构建断层模型，进而构建角点网格模型得到三维地层框架网格，能够减少建模过程的人为干预，简化地质模型的构建流程，从而提升整体地质模型精度。104、将层面模型导入地层框架网格中，得到地层模型，以及利用断层图中的断距信息对地层模型进行调整，得到目标地质模型。本申请将层面模型插入到三维地层框架网格，根据地层厚度和模型精度构建垂向网格，完成三维地层模型初步构建，然后，对地层模型根据断距大小对断层两侧地层进行调整构造合理的三维地质模型，减少人工操作对地质模型构建的影响。在本申请实施例中，地质建模系统将层面模型导入地层框架网格中，得到地层模型。接着，地质建模系统利用断层图中的断距信息对地层模型进行调整，得到目标地质模型。本申请将高精激光点云数据、地面钻孔、地下钻孔、地质断层数据等多源数据进行融合，使得目标地质模型具有较高的精度，能够实现千米钻孔煤层模型、巷道模型、地质层面模型之间的高度吻合，简化模型构建的流程，提高地质模型构建的效率，提高地层数据的分辨率，同时还能够满足煤矿在实际生产、地质预警以及应急救援等方面对地质模型的需要。本申请实施例提供的方法，响应于数据扫描指令，运行扫描仪以及获取扫描仪输出的多个目标点云数据，采用多个目标点云数据构建巷道模型，利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用巷道模型建立多个虚拟钻井，以及利用多个虚拟钻井、煤层模型中的煤层相关数据构建层面模型，获取断层图，采用断层图中的断层数据构建断层模型，以及利用断层模型生成地层框架网格，将层面模型导入地层框架网格中，得到地层模型，以及利用断层图中的断距信息对地层模型进行调整，得到目标地质模型，引入大量高精度巷道层位点、煤层顶底板数据点作为虚拟钻井构建高精度巷道模型、高精度煤层模型以约束地层模型，充分融合钻孔、断层等数据实现高精度三维地质模型的构建，提升整体地质模型精度的同时还保证地质模型与巷道模型、煤层模型的高度吻合，且能够减少建模过程的人为干预，简化地质模型的构建流程，减轻人力负担。进一步的，作为上述实施例具体实施方式的细化和扩展，为了完整说明本实施例的具体实施过程，本申请实施例提供了另一种地质建模方法，如图2A所示，该方法包括：201、响应于数据扫描指令，运行扫描仪以及获取扫描仪输出的多个目标点云数据。现有技术都是利用钻孔、剖面等常规地质资料对地质模型进行约束，钻孔数据的数量质量和分布会直接影响地层三维模型精度。但现实生产中由于地质条件的复杂性以及成本问题，钻井数据的质量和分布很难达到理想状态，模型的准确度很难具有一致性，而且剖面数据建模过程繁琐、人工干预过大、模型后续更新困难。因此，本申请采用控制测量方法将地面控制点引入井下并布设了大量高精度控制点，既统一了矿井上下的坐标系统，又保障了激光扫描仪扫描构建巷道三维模型的精度。由于在煤矿巷道掘进过程中，巷道地板始终沿着煤层底板推进，所以巷道底板也就是煤层底板，它包含了煤层层面地质属性，因此，后续地质建模系统可以将其底板特征点看作具有单一地质属性的虚拟钻井，能够大大提高地质模型的构建精度。在此之前，地质建模系统需要先构建高精度巷道模型，从而根据高精度巷道模型获取特征点建立虚拟钻井。在本申请实施例中，当接收到数据扫描指令时，地质建模系统确定数据扫描指令指示的目标巷道，获取预设第一间距，比如100米。接着，地质建模系统基于目标巷道，按照预设第一间距确定多个控制点。由于GeoSLAM生成的点云数据为局部坐标，需要在井下巷道内布设控制点用于将局部坐标转换为统一的国家坐标系统。随后，地质建模系统获取基于平面控制测量方法得到的每个控制点的平面位置，以及获取基于高程控制测量方法得到的每个控制点的高程。然后，地质建模系统利用每个控制点的平面位置、每个控制点的高程确定每个控制点的控制点坐标，得到多个控制点坐标，以便地质建模系统利用多个控制点坐标以及扫描仪在多个控制点坐标获取的局部坐标建立三维仿射变换模型，从而获取配准的激光点云数据。最后，地质建模系统运行扫描仪，获取扫描仪在每个控制点坐标输出的多个点云数据，得到多个目标点云数据。需要说明的是，若地质建模系统没有接收到绑定的扫描仪输出的多个目标点云数据，则可以通过工作人员在前端应用输入从扫描仪得到的多个目标点云数据，以使地质建模系统快速准确地对多个目标点云数据进行处理。其中，目标点云数据的获取可以根据规划的扫描路线用手持式移动三维激光扫描仪从某一控制点开始扫描至另外一个控制点，或从一个控制点出发后绕一圈，回到出发点形成一个闭合环。且为了确保扫描精度，每次扫描至少覆盖三个及以上控制点。202、采用多个目标点云数据构建巷道模型。在本申请实施例中，地质建模系统利用多个目标点云数据、多个控制点坐标构建三维仿射变换模型。接着，地质建模系统在三维仿射变换模型中获取多个配准点云数据，并对多个配准点云数据进行预处理操作，其中，预处理操作包括滤波去噪、数据精简、数据插补。由于激光扫描获取的数据中常常伴有杂点或噪声，会影响后续的数据处理，因此，为了获取完整的巷道模型，需要对点云数据进行一定的预处理。随后，地质建模系统获取多维二叉树算法，利用多维二叉树算法将预处理后的多个配准点云数据聚类为多个目标数据，也就是进行分割操作，分割是指将整个点云也就是多个配准点云数据聚类为多个点云，每个点云也就是目标数据对应独立的物体对象。最后，为了便于后续的网格渲染，需要提前将点云进行三角网格化，因此，地质建模系统获取预设构建算法，采用预设构建算法对多个目标数据进行三角网格化处理，得到巷道模型，其中，预设构建算法是凸包算法、凹包算法中的一种。需要说明的是，地质建模系统将多个目标数据进行三角网格化后会得到空间拓扑结构，再进行纹理映射的网格渲染得到巷道模型，提升巷道模型的精度，以便后续利用高精度巷道模型对地层模型进行约束，对模型构建的流程进行简化。为此，本申请实施例提出的一种三维模型的构建流程图如下：如图2B所示，地质建模系统先通过巷道控制测量，得到巷道内的控制点，再进行巷道激光扫描，获取扫描仪从控制点激光扫描得到的点云数据，然后进行激光点云配准，得到配准后的点云数据，最后对配准后的点云数据进行预处理、分割、三角网格化操作，实现点云建模，得到三维巷道模型。203、利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型。井下千米定向钻孔主要用于煤矿瓦斯气体抽放，同时也用于煤矿边界勘探、采空区探放水等，因此，本申请通过井下千米定向钻孔的轨迹坐标建立煤层模型，减少建模过程的人为干预。在本申请实施例中，地质建模系统获取钻孔轨迹坐标，根据钻孔轨迹坐标确定多个分支孔，并在钻孔轨迹坐标中提取每个分支孔的起点坐标值、终点坐标值，得到多个起点坐标值、多个终点坐标值。接着，地质建模系统获取最小二乘算法，利用最小二乘算法对多个起点坐标值、终点坐标值进行拟合计算，得到钻孔轨迹趋势线，通过钻孔轨迹趋势线能够确定煤层顶、底点坐标，从而构建高精度煤层模型。随后，地质建模系统分别计算多个起点坐标值、多个终点坐标值到钻孔轨迹趋势线的距离，得到多个距离值，并计算多个距离值的平均值，得到平均距离值。然后，地质建模系统获取预设距离阈值计算规则，利用预设距离阈值计算规则对平均距离值进行计算，得到目标距离阈值，比如预设距离阈值计算规则可以是0.3乘以平均距离值。再然后，地质建模系统在多个距离值中获取未超过目标距离阈值的多个第一距离值，以及在多个距离值中将第一距离值删除，得到多个目标距离值。接着，地质建模系统确定多个目标距离值对应的多个目标起点坐标值、多个目标终点坐标值，以及利用多个目标起点坐标值、多个目标终点坐标值确定多个煤层顶点坐标、多个煤层底点坐标。地质建模系统再利用多个煤层顶点坐标、多个煤层底点坐标生成煤层剖面线。为此，本申请实施例提出的一种井下千米钻孔剖面轨迹示意图如下：如图2C所示，地质建模系统获取井下千米钻孔剖面轨迹图，其中，实线为钻孔轨迹，点划线为趋势线，虚线为顶底板。具体地，地质建模系统在剖面轨迹图读取钻孔轨迹坐标，并提取分支孔的起、终点坐标值。接着，地质建模系统用多项式最小二乘算法拟合钻孔轨迹趋势线，也就是点划线。随后，地质建模系统计算各个分支孔起、终点到趋势线的距离，并计算所有距离的平均值，比如平均值可以是D，剔除距离小于阈值的起、终点，比如阈值可以是0.3*D，得到煤层顶、底点坐标，也就是三角形标志。最后，地质建模系统将顶、底点进行连线得到煤层剖面线，并将所有钻孔数据提取的煤层顶、底点坐标合并，得到煤层顶、底板，也就是虚线。最后，地质建模系统获取克里金插值算法，以及利用克里金插值算法对多个煤层顶点坐标、多个煤层底点坐标、煤层剖面线进行处理，得到煤层模型。这样，地质建模系统能够根据千米钻孔轨迹坐标，通过剖面轨迹处理结合钻探过程中的勘探信息，自动提取煤层顶底板坐标并构建高精度煤层模型，以便后续构建的地质模型与煤层模型高度吻合，提升模型精度。204、利用巷道模型建立多个虚拟钻井。由于钻井数据质量以及分布会对地质模型的精度的影响，本申请用虚拟钻孔代替真实钻孔，能够减少真实钻孔数据的数量、质量以及分布对模型造成的偏差，同时本申请增加虚拟钻孔的数据，使得地层数据分辨率高。进一步地，虚拟钻孔和真实钻孔一样，是利用实际揭露的地质信息经过预处理和专家研判后具有单一地质属性的钻孔，可以约束地层模型，保证地质模型与地质体更加贴合逼真。在本申请实施例中，地质建模系统获取巷道模型，获取预设第二间距，比如100米，并在巷道模型中按照预设第二间距设置虚拟钻井，得到多个虚拟钻井。预设第二距离可以地质建模系统在巷道模型底板上按一定间距布设均匀分布的特征点作为虚拟钻井。这样，地质建模系统通过高精度的巷道模型建立多个虚拟钻井，以便后续再多个虚拟钻井中获取更加精确的钻井数据。205、在巷道模型中获取多个虚拟钻井对应的多个钻井数据，获取多个预设项目，按照多个钻井数据中各项数据与多个预设项目之间的映射关系，对多个钻井数据进行整理，得到第一井位数据。为了构建层面模型，需要利用目标层位数据进行构建，其中，目标层位数据包括利用多个虚拟钻井得到的第一井位数据、利用钻井柱状图得到的第一数据表格、利用钻井柱状图得到的第二井位数据以及通过煤层模型得到的第二井位数据。对于第一井位数据，本申请将根据高精度巷道点数据坐标建立的虚拟钻孔，按真实钻孔数据相同格式直接写入目标层位数据中。在本申请实施例中，地质建模系统在巷道模型中获取多个预设项目，多个预设项目包括钻井名称、横轴坐标、纵轴坐标、底部深度、千字节。接着，地质建模系统获取多个虚拟钻井对应的多个钻井数据，其中，多个钻井数据可以是钻井坐标、Bottom Depth值、KB值等。最后，地质建模系统按照多个钻井数据中各项数据与多个预设项目之间的映射关系，对多个钻井数据进行整理，得到第一井位数据。比如，地质建模系统将钻井坐标的横坐标作为横轴坐标、将钻井坐标的纵坐标作为纵轴坐标、将BottomDepth值作为底部深度、将KB值作为千字节，并将这些数据作为第一井位数据。下面，对一种虚拟钻井数据的示意图进行描述：如图2D所示，真实钻孔的钻孔数据有限，而通过构建的虚拟钻孔数据能够提供更加丰富的数据，因此，本申请将虚拟钻孔数据按照真实钻孔数据的格式写入层位数据。且为了计算方便，地质建模系统将格式统一设置为Bottom depth值和KB值。206、在钻井柱状图中读取每个层位对应的顶深信息，得到多个顶深信息，以及将多个顶深信息整理成表格，得到第一数据表格。由于层位数据是煤田三维地质建模的重要参数，且准确的分层和分层数字化是良好建模展示的重要前提，因此，本申请通过读取钻井柱状图中的顶深信息，为模型构建提供更加全面的数据支持。在本申请实施例中，地质建模系统获取钻井柱状图，比如ZL028综合柱状图。下面对一种ZL028综合柱状图进行描述：如图2E所示，本申请以竹林山煤矿实际地质资料为例说明钻井层位数字化过程，该矿区共有21口钻井综合柱状图，共分六个层位：15号煤层底，也就是15bottom，15号煤层顶，也就是15top，上石炭统太原组顶，也就是C3t，下二叠统山西组顶，也就是P1s，下二叠统下石盒子组顶，也就是P1x，上二叠统上石盒子组顶，也就是P2s。这样，地质建模系统根据钻井综合柱状图，读出每口井中各层组的顶深。具体地，以竹林山煤矿实际地质资料中的ZL028综合柱状图为例，地质建模系统在该钻井柱状图中确定P1x层的顶深为第一条线标识处也就是218.35m，P1s层的顶深是第二条线标识处，也就是251.9m，3号煤层和15号煤层的顶底深度分别命名为3top、3bottom及15top、15bottom。因此，煤层为黑色矩形区域， 3top的深度对应267.5m，3bottom对应271.05m。这样，地质建模系统将这些各层组的顶深以表格形式进行整理，生成层位文件，且层位文件的格式为b.txt。需要说明的是，由于原始ZL028综合柱状图像太大，因此并没有完全显示。通过上述的钻井柱状图，地质建模系统在钻井柱状图中确定多个层位。接着，地质建模系统在钻井柱状图中读取每个层位对应的顶深信息，得到多个顶深信息。最后，地质建模系统将多个顶深信息整理成表格，得到第一数据表格。207、在钻井柱状图中读取钻井相关信息，按照钻井相关信息中各项数据与多个预设项目之间的映射关系，对钻井相关信息进行整理，得到第二井位数据。在本申请实施例中，地质建模系统在钻井柱状图中读取钻井相关信息，按照钻井相关信息中各项数据与多个预设项目之间的映射关系，对钻井相关信息进行整理，得到第二井位数据。比如，在钻井柱状图中获取钻井的名称、钻井的平面坐标、钻井的底深、钻井的补心高，并以well name、X-coord、Y-coord、Bottomdepth、KB的格式创建井位文件，井位文件的格式为a.txt。208、在煤层模型中获取煤层相关数据，将煤层相关数据整理成表格，得到第二数据表格。在本申请实施例中，地质建模系统在煤层模型中获取煤层相关数据，其中，煤层相关数据包括多个煤层顶点坐标、多个煤层底点坐标、煤层层位信息。然后，地质建模系统将煤层相关数据整理成表格，得到第二数据表格。这样，地质建模系统利用多个虚拟钻井得到第一井位数据、利用钻井柱状图得到第一数据表格、利用钻井柱状图得到第二井位数据以及通过煤层模型得到第二井位数据，以便后续将钻孔、层位以及煤层数据融入层面模型，不仅减少了人工的干预，还能够简化模型构建的流程。209、利用第一井位数据、第一数据表格、第二数据表格、第二井位数据生成目标层位数据。为了提升模型精度，本申请利用数字化获取的井位、层位数据，引入巷道三维模型特征点、煤层顶底板数据点作为虚拟钻井构建地层层面模型，因此，在本申请实施例中，地质建模系统利用第一井位数据、第一数据表格、第二数据表格、第二井位数据生成目标层位数据。这样，地质建模系统能够利用目标层位数据构建层面模型，使得钻孔、层位等数据实现精准融合。210、获取克里金插值算法，利用克里金插值算法对目标层位数据进行计算，得到层面模型。本申请采用克里金插值方法对目标层位数据进行处理，从而建立各层顶面模型。其中，克里金插值方法原理是概率统计估计理论中无偏、最小方差条件，在内插过程中考虑被描述对象的空间相关性，使插值更科学、更接近于实际情况。在本申请实施例中，对于每个层位，地质建模系统在目标层位数据中提取层位的多个层位坐标、每个层位坐标对应的层位坐标值，利用多个层位坐标值计算多个层位坐标中任意两个层位坐标的层位距离值和半方差，得到多个层位距离值和多个半方差，也就是对同一层位的坐标数据两两计算距离和半方差。接着，地质建模系统采用多个层位距离值和多个半方差建立关系函数，以及获取指数模型，利用指数模型对关系函数进行拟合，得到拟合函数，从而能根据任意距离计算相应的半方差。随后，地质建模系统利用拟合函数对多个层位距离值进行计算，得到多个第一半方差，以及利用多个第一半方差计算得到半方差系数矩阵。然后，地质建模系统获取层位的未知层位坐标，计算未知层位坐标到多个层位坐标的半方差，得到多个第二半方差，以及利用多个第二半方差计算得到系数方程。再然后，地质建模系统对半方差系数矩阵、系数方程进行计算，得到加权系数，并在目标层位数据中获取多个层位坐标对应的多个属性值，利用加权系数对多个属性值进行加权求和计算，得到未知层位坐标的估计值。最后，地质建模系统分别对每个层位的多个层位坐标进行计算，得到多个估计值，并利用目标层位数据、多个估计值构建层面模型。这样，地质建模系统利用克里金插值算法，对目标层位数据进行统计特征计算，实现层面模型的构建，也能够实现千米钻孔煤层模型、巷道模型的高度融合，提升模型精度。211、获取断层图，利用预设处理算法获取断层图的断层数据。为了有效提高整体地质模型精度，本申请还将断层数据与钻孔、层位等数据进行了融合。因此，在本申请实施例中，地质建模系统获取断层图，对断层图进行坐标校正。对断层图进行校正，也就是将断层图中的各位置校准为实际坐标。下面对一种矿区大断层图进行描述：如图2F所示，矿区大断层图中包括白庄向斜、北坡沟背斜、城后腰断层。地质建模系统对白庄向斜、北坡沟背斜以及城后腰断层的位置进行校准，确定实际坐标。通过上述断层图，地质建模系统在校正后的断层图中读取断层倾角、高程范围。接着，地质建模系统利用断层倾角、高程范围计算出煤层顶线、煤层底线在断层图中的投影位置，并在断层图的投影位置确定断层线的平行线，其中，平行线包括断层顶线、断层底线、煤层顶线、煤层底线。下面对一种断层顶底线的示意图进行描述：如图2G所示，地质建模系统根据断层图读出断层倾角、高程范围算出煤层顶、底线在此平面的投影位置，并在相应位置画出断层线的平行线，即断层顶线F1304-TOP、断层底线F1304-BOTTOM。随后，地质建模系统获取预设处理算法，校正后的断层图进行矢量化处理，对校正后的断层图的背景颜色、目标颜色进行设定，以及对断层线、断层线的平行线进行像素自动追踪，得到密集像素点坐标。最后，地质建模系统获取预设像素点过滤规则，利用预设像素点过滤规则对密集像素点坐标进行抽稀过滤，利用抽稀过滤后的稀疏像素点坐标生成断层数据。需要说明的是，预设像素点过滤规则可以是道格拉斯-普克算法，具体地，对密集像素点坐标进行抽稀过滤时，采用道格拉斯-普克算法将密集像素点的两个端点，即像素点A、像素点B，连线作一条直线AB，如果所有像素点到这条直线AB的垂直距离小于阈值d，那么就用这条直线AB替代，去掉除像素点A、像素点B之外的剩余像素点，其中，阈值d通常设为2个像素。且在按顺序检查像素点垂直距离的过程中，如果有某一个像素点的垂直距离大于阈值d，那么保留这个像素点，将该像素点作为新的端点，即像素点C，并分别连接像素点A、像素点B，得到直线AC和直线CB，接着继续考察下一像素点的垂直距离。重复以上操作，遍历所有像素点，完成保留或者抽去中间像素点的操作。通过密集像素点的抽稀过滤可以适当的减少弧线像素点密度，在保证直线或者曲线准确的情况下减少像素点坐标的个数，简化后续断层数据的计算过程，提高计算速率。这样，地质建模系统能够利用断层数据构建断层模型，提高模型构建的效率。212、利用断层数据进行模型构建，得到断层模型。断层是实际断层在某一平面上的投影，因此，本申请根据断层的倾角、倾向计算断层法向量，从而计算断层平面方程以及平面上点的坐标，进而构建断层模型。下面对一种平面断层扫描图进行描述：如图2H所示，断层是实际断层在某一平面上的投影，在平面断层扫描图中可以获取断层的倾角、倾向，断层编号为F1的倾角是70度、断层落差H是8m，断层编号为F1304的倾角是75度、断层落差H是2.5m-6.0m，断层编号为F1408的倾角是70度、断层落差H是5m-9m，城后腰断层的倾角是75度、断层落差H包括260m、269m、318m、328m、364m。在本申请实施例中，地质建模系统获取预设第三间距，按照预设第三间距对断层数据进行数字化处理，得到多个离散线段。下面对一种平面断层数字化结果进行描述：如图2I所示，地质建模系统对断层数据按给定间距数字化为离散点串，即多个线段。具体地，将断层编号为F1、F1304、F1408以及城后腰断层按照预设的间距进行数字化，得到对应的线段。接着，对于每个离散线段，地质建模系统获取离散线段的端点坐标，得到第一端点坐标、第二端点坐标，比如第一端点坐标为、第二端点坐标为/＞。随后，地质建模系统计算离散线段对应的平面向量、垂直向量，比如平面向量为/＞、垂直向量为/＞，并确定断层线对应的断层面。然后，地质建模系统利用平面向量、垂直向量计算与离散线段垂直且平行于断层面的目标向量，比如目标向量为/＞，并对平面向量、目标向量进行计算，得到断层面法向量/＞，断层面法向量的计算公式参见下述公式1：公式1：其中，为平面向量且坐标为/＞，/＞为目标向量且坐标为/＞。再然后，地质建模系统获取初始平面方程，将断层面法向量、第一端点坐标加入初始平面方程，得到断层平面方程，断层平面方程的计算公式参见下述公式2：公式2：其中，m为断层面法向量的横坐标，n为断层面法向量的纵坐标，p为断层面法向量的高度，x0为第一端点坐标的横坐标，y0为第一端点坐标的纵坐标，z0为第一端点坐标的高度。最后，地质建模系统利用断层平面方程、高程范围构建断层模型。这样，地质建模系统利用断层数据构建断层模型，能够更好地反映地下褶皱、断裂等复杂构造的空间展布情况。下面对一种断层三维模型的架构示意图进行描述：如图2J所示，地质建模系统根据断面平面方程以及高程范围构建断层三维模型。其中，高程指的是某点沿铅垂线方向到绝对基面的距离。213、利用断层模型生成地层框架网格。角点网格模型是目前应用较广的一种结构化网格类型，网格位置能用i，j，k定义，单元网格长宽大小可变，且垂向连接顶底网格点的网格面可以倾斜，网格可以扭曲，可以方便地模拟断层线、边界或灭尖线。因此，本申请根据钻井层位信息、断层信息确定模型边界利用角点网格模型生成框架网格，以便更好地构建地质模型。在本申请实施例中，地质建模系统在断层模型中提取中间形状点，获取断层模型的模型边界，以及获取预设坐标方向、预设坐标方向对应的预设网格数，其中，中间形状点是断层模型对应的地质体在高程方向分为的三个平面与断层面的交点。接着，地质建模系统利用中间形状点、模型边界、预设坐标方向、预设坐标方向对应的预设网格数生成平面四边形网格。随后，地质建模系统在断层模型中获取断层走向、断层顶部、断层底部，按照断层走向将平面四边形网格构建到断层顶部、断层底部，得到连接断层顶部、断层中部、断层底部的柱状三维框架网络，将柱状三维框架网络作为地层框架网格，使得地质建模系统根据断层数据构建断层模型后，由给定的格网大小构建角点网格模型形成三维地层框架，化简了建模过程，避免了大量人力、物力以及时间的投入，提升地质模型构建的效率。因此，本申请实施例提出的一种地层框架网格的架构示意图如下：如图2K所示，地质建模系统提取断层模型中间形状点，结合模型边界，并根据给定的沿X，Y方向的格网数生成平面四边形网格。其中，将该区域的地质体在高程方向分为三个面与断层面交点作为中间形状点。接着，地质建模系统将生成的平面网格点沿断层走向外推到断层模型的顶底，生成连接顶部、中部、底部的柱状三维框架网格。214、将层面模型导入地层框架网格中，得到地层模型。本申请将生成的层面模型导入到地层框架网格模型中，并根据地层厚度和模型精度构建垂向网格，完成三维地层模型初步构建，实现千米钻孔煤层模型、巷道模型、地质层面模型的高度融合，提升模型进度。在本申请实施例中，地质建模系统将层面模型导入地层框架网格中，得到三维网格。其中，所有网格和层面之间的交点变成了三维网格的一个节点，使得Z轴方向上的网格单元同时被定义，生成粗略的三维网格。接着，地质建模系统获取目标层位数据，在目标层位数据中读取多个地层厚度值，以及获取预设地层模型精度。随后，地质建模系统利用多个地层厚度值、预设地层模型精度构建多个垂向网格。最后，地质建模系统利用多个垂向网格、目标层位数据对导入层面模型的地层框架网格进行调整，得到地层模型。需要说明的是，地质建模系统根据地层厚度和模型精度构建更为精细的垂向网格，也就是在各层组地层之间划分为多个垂向网格并利用钻井层位点对模型进行优化调整。这样，地质建模系统通过将高精激光点云数据、地面钻孔、地下钻孔、地质断层数据等多源数据进行充分融合，使得模型具有较高的精度。215、利用断层图中的断距信息对地层模型进行调整，得到目标地质模型。由于地层模型生成后，受所用软件算法及地质条件复杂性的影响，所生成地质模型断层的断距可能出现不合理现象，因此，需要利用建模软件的模型编辑功能根据大断层图所标的断距和断层影响范围对模型的断层断距进行调整，位置使地质模型变得合理，与实际情况相吻合。在本申请实施例中，地质建模系统获取断层图，在断层图中读取断距信息、断层影响范围。接着，地质建模系统获取地层模型的第一断距信息、断层信息，利用断距信息、断层影响范围对地层模型的第一断距信息、断层信息进行调整，得到目标地质模型。这样，地质建模系统通过前端应用将得到的目标地质模型推送给工作人员，以使工作人员进行参考和运用，满足煤矿在实际生产、地质预警以及应急救援等方面对地质模型的需要。地质建模系统根据断距大小对地层模型的断层两侧地层进行调整，构造合理的三维地质模型，能够在此地质模型的基础上完成模型可视化与剖切、储量计算、开采规划设计、采掘进度显示、救援方案等功能，还能够降低后续模型的更新难度。因此，本申请实施例提出的一种地质网格模型的架构示意图如下：如图2L所示，地层模型生成后，需要对断距进行调整，构造具有合理断距的地质模型。其中，断距是从平面断层扫描图中提取的，且断距指的是错断岩层在两盘上的对应岩层之间的相对距离。综上所述，本申请实施例提出的一种地质建模的方法流程示意图如下：如图2M所示，地质建模系统采用控制测量方法将地面控制点引入井下并布设了大量高精度控制点，既统一了矿井上下的坐标系统，又保障了激光扫描仪扫描构建巷道三维模型的精度。接着，地质建模系统对井下千米钻孔数据进行过滤处理获取煤层顶底板数据点，构建煤层层面模型。随后，地质建模系统利用数字化获取的井位、层位、断层数据，引入巷道三维模型特征点、煤层顶底板数据点作为虚拟钻井构建地层层面模型，同时用断层数据构建断层模型进而构建角点网格模型得到三维地层框架。然后，地质建模系统将层面模型插入到三维地层框架，根据地层厚度和模型精度构建垂向网格，完成三维地层模型初步构建。最后，地质建模系统对地层模型根据断距大小对断层两侧地层进行调整构造合理的三维地质模型。本申请实施例提供的方法，响应于数据扫描指令，运行扫描仪以及获取扫描仪输出的多个目标点云数据，采用多个目标点云数据构建巷道模型，利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用巷道模型建立多个虚拟钻井，以及利用多个虚拟钻井、煤层模型中的煤层相关数据构建层面模型，获取断层图，采用断层图中的断层数据构建断层模型，以及利用断层模型生成地层框架网格，将层面模型导入地层框架网格中，得到地层模型，以及利用断层图中的断距信息对地层模型进行调整，得到目标地质模型，引入大量高精度巷道层位点、煤层顶底板数据点作为虚拟钻井构建高精度巷道模型、高精度煤层模型以约束地层模型，充分融合钻孔、断层等数据实现高精度三维地质模型的构建，提升整体地质模型精度的同时还保证地质模型与巷道模型、煤层模型的高度吻合，且能够减少建模过程的人为干预，简化地质模型的构建流程，减轻人力负担。进一步地，作为图1所述方法的具体实现，本申请实施例提供了一种地质建模装置，如图3所示，所述装置包括：获取模块301，构建模块302，生成模块303和调整模块304。获取模块301，用于响应于数据扫描指令，运行扫描仪以及获取所述扫描仪输出的多个目标点云数据，以及采用所述多个目标点云数据构建巷道模型；构建模块302，用于利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用所述巷道模型建立多个虚拟钻井，以及利用所述多个虚拟钻井、所述煤层模型中的煤层相关数据构建层面模型；生成模块303，用于获取断层图，采用所述断层图中的断层数据进行模型构建，得到断层模型，以及利用所述断层模型生成地层框架网格；调整模块304，用于将所述层面模型导入所述地层框架网格中，得到地层模型，以及利用所述断层图中的断距信息对所述地层模型进行调整，得到目标地质模型。在具体的应用场景中，该获取模块301，用于当接收到所述数据扫描指令时，确定所述数据扫描指令指示的目标巷道，获取预设第一间距，以及基于所述目标巷道，按照所述预设第一间距确定多个控制点；获取基于平面控制测量方法得到的所述每个控制点的平面位置，获取基于高程控制测量方法得到的所述每个控制点的高程，以及利用所述每个控制点的平面位置、所述每个控制点的高程确定所述每个控制点的控制点坐标，得到多个控制点坐标；运行所述扫描仪，获取所述扫描仪在所述每个控制点坐标输出的多个点云数据，得到多个目标点云数据，以及利用所述多个目标点云数据、所述多个控制点坐标构建三维仿射变换模型；在所述三维仿射变换模型中获取多个配准点云数据，对所述多个配准点云数据进行预处理操作，所述预处理操作包括滤波去噪、数据精简、数据插补；获取多维二叉树算法，利用所述多维二叉树算法将预处理后的所述多个配准点云数据聚类为多个目标数据；获取预设构建算法，采用所述预设构建算法对所述多个目标数据进行三角网格化处理，得到所述巷道模型，所述预设构建算法是凸包算法、凹包算法中的一种。在具体的应用场景中，该构建模块302，用于获取钻孔轨迹坐标，根据所述钻孔轨迹坐标确定多个分支孔，以及在所述钻孔轨迹坐标中提取所述每个分支孔的起点坐标值、终点坐标值，得到多个起点坐标值、多个终点坐标值；获取最小二乘算法，利用所述最小二乘算法对所述多个起点坐标值、所述终点坐标值进行拟合计算，得到钻孔轨迹趋势线，以及分别计算所述多个起点坐标值、所述多个终点坐标值到所述钻孔轨迹趋势线的距离，得到多个距离值；计算所述多个距离值的平均值，得到平均距离值，获取预设距离阈值计算规则，利用所述预设距离阈值计算规则对所述平均距离值进行计算，得到目标距离阈值；在所述多个距离值中获取未超过所述目标距离阈值的多个第一距离值，以及在所述多个距离值中将所述第一距离值删除，得到多个目标距离值；确定所述多个目标距离值对应的多个目标起点坐标值、多个目标终点坐标值，以及利用所述多个目标起点坐标值、所述多个目标终点坐标值确定多个煤层顶点坐标、多个煤层底点坐标；利用所述多个煤层顶点坐标、所述多个煤层底点坐标生成煤层剖面线，获取所述克里金插值算法，以及利用所述克里金插值算法对所述多个煤层顶点坐标、所述多个煤层底点坐标、所述煤层剖面线进行处理，得到所述煤层模型；获取所述巷道模型，获取预设第二间距，在所述巷道模型中按照所述预设第二间距设置虚拟钻井，得到多个虚拟钻井，以及利用所述多个虚拟钻井、在所述煤层模型获取的煤层相关数据构建所述层面模型。在具体的应用场景中，该构建模块302，用于在所述巷道模型中获取所述多个虚拟钻井对应的多个钻井数据，获取多个预设项目，按照所述多个钻井数据中各项数据与所述多个预设项目之间的映射关系，对所述多个钻井数据进行整理，得到第一井位数据，所述多个预设项目包括钻井名称、横轴坐标、纵轴坐标、底部深度、千字节；获取钻井柱状图，在所述钻井柱状图中确定多个层位，以及在所述钻井柱状图中读取所述每个层位对应的顶深信息，得到多个顶深信息；将所述多个顶深信息整理成表格，得到第一数据表格；在所述钻井柱状图中读取钻井相关信息，按照所述钻井相关信息中各项数据与所述多个预设项目之间的映射关系，对所述钻井相关信息进行整理，得到第二井位数据；在所述煤层模型中获取煤层相关数据，将所述煤层相关数据整理成表格，得到第二数据表格，所述煤层相关数据包括多个煤层顶点坐标、多个煤层底点坐标、煤层层位信息；利用所述第一井位数据、所述第一数据表格、所述第二数据表格、所述第二井位数据生成目标层位数据；获取克里金插值算法，利用所述克里金插值算法对所述目标层位数据进行计算，得到所述层面模型。在具体的应用场景中，该构建模块302，还用于对于每个层位，在所述目标层位数据中提取所述层位的多个层位坐标、所述每个层位坐标对应的层位坐标值，利用多个层位坐标值计算所述多个层位坐标中任意两个层位坐标的层位距离值和半方差，得到多个层位距离值和多个半方差；采用所述多个层位距离值和所述多个半方差建立关系函数，获取指数模型，利用所述指数模型对所述关系函数进行拟合，得到拟合函数；利用拟合函数对所述多个层位距离值进行计算，得到多个第一半方差，以及利用所述多个第一半方差计算得到半方差系数矩阵；获取所述层位的未知层位坐标，计算所述未知层位坐标到所述多个层位坐标的半方差，得到多个第二半方差，以及利用所述多个第二半方差计算得到系数方程；对所述半方差系数矩阵、所述系数方程进行计算，得到加权系数，在所述目标层位数据中获取所述多个层位坐标对应的多个属性值，以及利用所述加权系数对所述多个属性值进行加权求和计算，得到所述未知层位坐标的估计值；分别对所述每个层位的多个层位坐标进行计算，得到多个估计值，利用所述目标层位数据、所述多个估计值构建所述层面模型。在具体的应用场景中，该生成模块303，用于获取所述断层图，对所述断层图进行坐标校正，以及在校正后的所述断层图中读取断层倾角、高程范围；利用所述断层倾角、所述高程范围计算出煤层顶线、煤层底线在所述断层图中的投影位置，并在所述断层图的投影位置确定断层线的平行线，所述平行线包括断层顶线、断层底线、煤层顶线、煤层底线；获取预设处理算法，利用所述预设处理算法对校正后的所述断层图进行矢量化处理，对校正后的所述断层图的背景颜色、目标颜色进行设定，以及对所述断层线、所述断层线的平行线进行像素自动追踪，得到多个像素点坐标；获取预设像素点过滤规则，利用所述预设像素点过滤规则对所述多个像素点坐标进行过滤，利用过滤后的所述多个像素点坐标生成断层数据；获取预设第三间距，按照所述预设第三间距对所述断层数据进行数字化处理，得到多个离散线段；对于所述每个离散线段，获取所述离散线段的端点坐标，得到第一端点坐标、第二端点坐标，计算所述离散线段对应的平面向量、垂直向量，确定所述断层线对应的断层面；利用所述平面向量、所述垂直向量计算与所述离散线段垂直且平行于所述断层面的目标向量；对所述平面向量、所述目标向量进行计算，得到断层面法向量，以及获取初始平面方程，将所述断层面法向量、所述第一端点坐标加入所述初始平面方程，得到断层平面方程；利用所述断层平面方程、所述高程范围构建所述断层模型；在所述断层模型中提取中间形状点，获取所述断层模型的模型边界，以及获取预设坐标方向、所述预设坐标方向对应的预设网格数，所述中间形状点是所述断层模型对应的地质体在高程方向分为的三个平面与所述断层面的交点；利用所述中间形状点、所述模型边界、所述预设坐标方向、所述预设坐标方向对应的预设网格数生成平面四边形网格；在所述断层模型中获取断层走向、断层顶部、断层底部，按照所述断层走向将所述平面四边形网格构建到所述断层顶部、所述断层底部，得到连接所述断层顶部、断层中部、所述断层底部的柱状三维框架网络，将所述柱状三维框架网络作为所述地层框架网格。在具体的应用场景中，该调整模块304，用于将所述层面模型导入所述地层框架网格中，得到三维网格，获取目标层位数据，在所述目标层位数据中读取多个地层厚度值，以及获取预设地层模型精度；利用所述多个地层厚度值、所述预设地层模型精度构建多个垂向网格，利用所述多个垂向网格、所述目标层位数据对导入所述层面模型的地层框架网格进行调整，得到所述地层模型；获取所述断层图，在所述断层图中读取断距信息、断层影响范围，获取所述地层模型的第一断距信息、断层信息，利用所述断距信息、所述断层影响范围对所述地层模型的第一断距信息、断层信息进行调整，得到所述目标地质模型。本申请实施例提供的装置，响应于数据扫描指令，运行扫描仪以及获取扫描仪输出的多个目标点云数据，采用多个目标点云数据构建巷道模型，利用克里金插值算法对千米钻孔数据进行处理，得到煤层模型，利用巷道模型建立多个虚拟钻井，以及利用多个虚拟钻井、煤层模型中的煤层相关数据构建层面模型，获取断层图，采用断层图中的断层数据构建断层模型，以及利用断层模型生成地层框架网格，将层面模型导入地层框架网格中，得到地层模型，以及利用断层图中的断距信息对地层模型进行调整，得到目标地质模型，引入大量高精度巷道层位点、煤层顶底板数据点作为虚拟钻井构建高精度巷道模型、高精度煤层模型以约束地层模型，充分融合钻孔、断层等数据实现高精度三维地质模型的构建，提升整体地质模型精度的同时还保证地质模型与巷道模型、煤层模型的高度吻合，且能够减少建模过程的人为干预，简化地质模型的构建流程，减轻人力负担。需要说明的是，本申请实施例提供的一种地质建模装置所涉及各功能单元的其他相应描述，可以参考图1和图2A至图2M中的对应描述，在此不再赘述。在示例性实施例中，参见图4，还提供了一种计算机设备，该计算机设备包括总线、处理器、存储器和通信接口，还可以包括输入输出接口和显示设备，其中，各个功能单元之间可以通过总线完成相互间的通信。该存储器存储有计算机程序，处理器，用于执行存储器上所存放的程序，执行上述实施例中的地质建模方法。一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现所述的地质建模方法的步骤。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到本申请可以通过硬件实现，也可以借助软件加必要的通用硬件平台的方式来实现。基于这样的理解，本申请的技术方案可以以软件产品的形式体现出来，该软件产品可以存储在一个非易失性存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施场景所述的方法。本领域技术人员可以理解附图只是一个优选实施场景的示意图，附图中的模块或流程并不一定是实施本申请所必须的。本领域技术人员可以理解实施场景中的装置中的模块可以按照实施场景描述进行分布于实施场景的装置中，也可以进行相应变化位于不同于本实施场景的一个或多个装置中。上述实施场景的模块可以合并为一个模块，也可以进一步拆分成多个子模块。上述本申请序号仅仅为了描述，不代表实施场景的优劣。以上公开的仅为本申请的几个具体实施场景，但是，本申请并非局限于此，任何本领域的技术人员能思之的变化都应落入本申请的保护范围。
