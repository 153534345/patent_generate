标题title
船舶结构设计中线性波浪载荷的预报方法及系统
摘要abst
本发明涉及一种船舶结构设计中线性波浪载荷的预报方法及系统。其包括构建线性波浪载荷预报模型LWLC，其中，在构建线性波浪载荷预报模型LWLC时，利用与船舶结构适配的波浪载荷标准数据集构建基于深度神经网络DNN的载荷预报基准模型WLIP；对构建的载荷预报基准模型WLIP，以模型试验规则波数据集作为目标域，进行线性波浪载荷的知识迁移学习，以在知识迁移学习后得到线性波浪载荷预报模型LWLC；在线性波浪载荷预报时，对船舶的一不规则波工况，利用所述线性波浪载荷预报模型LWLC得到与所述不规则波工况相对应的波浪载荷。本发明可快速准确地对线性波浪载荷预报，满足船舶设计阶段的需求。
权利要求书clms
1.一种船舶结构设计中线性波浪载荷的预报方法，其特征是，所述预报方法包括：构建用于对线性波浪载荷预报的线性波浪载荷预报模型LWLC，其中，在构建线性波浪载荷预报模型LWLC时，利用与船舶结构适配的波浪载荷标准数据集构建基于深度神经网络DNN的载荷预报基准模型WLIP；对构建的载荷预报基准模型WLIP，以模型试验规则波数据集作为目标域，进行线性波浪载荷的知识迁移学习，以在知识迁移学习后得到线性波浪载荷预报模型LWLC；在线性波浪载荷预报时，对船舶的一不规则波工况，利用所述线性波浪载荷预报模型LWLC得到与所述不规则波工况相对应的波浪载荷，其中，对船舶的不规则波工况，包括船舶的航速、波高、周期、航向角以及剖面位置；对与不规则波工况相对应的波浪载荷，包括垂向弯矩、水平弯矩以及扭矩。2.根据权利要求1所述船舶结构设计中线性波浪载荷的预报方法，其特征是，对与船舶结构适配的波浪载荷标准数据集，生成所述波浪载荷标准数据集的方法包括：对船舶结构，利用优化拉丁超立方和切片理论生成波浪载荷样本基本数据集；对波浪载荷样本基本数据集进行均值归一化，以得到适于神经元之间传递的波浪载荷标准数据集。3.根据权利要求2所述船舶结构设计中线性波浪载荷的预报方法，其特征是，利用优化拉丁超立方和切片理论生成波浪载荷样本基本数据集时，则有：其中，D为波浪载荷样本基本数据集，{x1,x2,x3,x4,x5}分别为航速、周期、波高、航向角和剖面位置，{y1,y2,y3}分别为垂向弯矩、水平弯矩和扭矩；X为经5次迭代后样本数为1800的拉丁超立方试验样本工况；Xlow为试验工况的下边界值，Xup为试验工况的上边界值；为基于切片理论计算得到拉丁超立方试验样本工况下的线性波浪载荷。4.根据权利要求3所述船舶结构设计中线性波浪载荷的预报方法，其特征是，对波浪载荷样本基本数据集进行均值归一化时，则有：其中：为航速、周期、波高、航向角、剖面位置、垂向弯矩、水平弯矩和扭矩相对应的均值，Ds为航速、周期、波高、航向角、剖面位置、垂向弯矩、水平弯矩和扭矩相对应的方差。5.根据权利要求3所述船舶结构设计中线性波浪载荷的预报方法，其特征是，对构建的载荷预报基准模型WLIP，则有：其中，RD，θWLIP)为载荷预报基准模型WLIP的损失函数；N为波浪载荷数据库大小；θWLIP为载荷预报基准模型WLIP内神经元之间训练的权重wij和偏置bj的集合；f；θWLIP)为载荷预报基准模型WLIP输出层的输出函数，为波浪载荷标准数据集内第i个标准数据输出子集，为载荷预报基准模型WLIP的预测值。6.根据权利要求1至5任一项所述船舶结构设计中线性波浪载荷的预报方法，其特征是，以模型试验规则波数据集作为目标域，进行线性波浪载荷的知识迁移学习时，包括：对由规则波模型试验得到的试验数据，基于Jonswap海浪谱确定对应的载荷短期预报值，以利用所确定的载荷短期预报值构建得到模型试验规则波数据集，其中，对载荷短期预报值，则有：其中，Yexp为载荷短期预报值，为Jonswap海浪谱的海浪谱密度，G为单位规则波试验下波浪载荷响应幅值，ω是波浪圆频率，V是航速，θ是组合波与主浪向的夹角，H是有义波高，T是波浪的特征周期，β为航向角。7.根据权利要求6所述船舶结构设计中线性波浪载荷的预报方法，其特征是，基于知识迁移学习得到线性波浪载荷预报模型LWLC时，包括：在构建的载荷预报基准模型WLIP添加两层神经元，利用模型试验规则波数据集作为目标域对所添加的两层神经元进行训练，且在训练时，利用自动调整调参方法调节所添加两层神经元的参数，直至达到目标训练状态，以得到线性波浪载荷预报模型LWLC。8.根据权利要求7所述船舶结构设计中线性波浪载荷的预报方法，其特征是，线性波浪载荷预报模型LWLC，则有：其中，RD为线性波浪载荷预报模型LWLC的损失函数；θadd为增加两层神经元之间的权重和偏置；M为模型规则波数据集的大小；f；θWLIP；θadd)为线性波浪载荷预报模型LWLC输出层的输出函数，为波浪载荷标准数据集内第i个标准数据输出子集，为载荷预报基准模型WLIP的预测值。9.根据权利要求7所述船舶结构设计中线性波浪载荷的预报方法，其特征是，对自动调整调参方法，则有：其中：x为设计变量，af为激活函数，bs为批量输入样本数，lr初始学习率，nh神经网络隐含层数，minf为目标函数，测试集预测值与试验值的均方根误差；s.t.为优化约束条件；参数调整时，实时计算目标函数minf，将所计算的目标函数minf进行判断，所述判断的条件为：达到最大迭代次数max_evals，或者目标函数不再下降且达到提前结束条件early_stop_fn；满足判断条件时，即实现参数自动调整；对目标函数minf，n为波浪载荷样本库内测试集的个数，为样本库测试集内第i个工况预测值，为样本库测试集第i个工况的数据值。10.一种船舶结构设计中线性波浪载荷的预报系统，其特征是，包括用于对线性波浪载荷预报的线性波浪载荷预报器，其中，对船舶的一不规则波工况，线性波浪载荷预报器采用上述权利要求1～权利要求9任一项的预报方法进行线性波浪载荷预报。
说明书desc
技术领域本发明涉及一种预报方法及系统，尤其是一种船舶结构设计中线性波浪载荷的预报方法及系统。背景技术船舶的波浪载荷是船舶在海洋风浪流环境下的受载，包括作用于船舶的多种类型的外部力以及船舶内部因受到外力而在内部产生的总体上或局部的动态应力。船舶承载波浪载荷的能力波浪载荷是评估船舶船体结构安全性的重要因素之一，也影响着船舶的航行速度等性能，则波浪载荷的计算在船舶的设计阶段以及船舶运营期间的维护阶段都发挥着重要作用。波浪载荷为船舶在海浪中结构受到的力及力矩，分为低频与高频部分，分为低频与高频部分，其中，低频部分为规则波频率下船体结构受到的线性波浪载荷。高频部分为船舶在波浪中受到的抨击、波激颤振、甲板上浪等非线性波浪载荷。船舶线性波浪载荷对于船舶设计阶段中的船舶结构强度评估非常重要，如今波浪载荷理论发展越趋成熟，如较为成熟的各种线性波浪载荷理论计算最终也是与模型试验对比来验证其准确性，且线性成分理论值与试验值存在一定的误差。因此，如何快速有效实现线性波浪载荷的预报，是目前船舶设计中急需解决的技术难题。发明内容本发明的目的是克服现有技术中存在的不足，提供一种船舶结构设计中线性波浪载荷的预报方法及系统，其可快速准确地对线性波浪载荷预报，满足船舶设计阶段的需求。按照本发明提供的技术方案，一种船舶结构设计中线性波浪载荷的预报方法，所述预报方法包括：构建用于对线性波浪载荷预报的线性波浪载荷预报模型LWLC，其中，在构建线性波浪载荷预报模型LWLC时，利用与船舶结构适配的波浪载荷标准数据集构建基于深度神经网络DNN的载荷预报基准模型WLIP；对构建的载荷预报基准模型WLIP，以模型试验规则波数据集作为目标域，进行线性波浪载荷的知识迁移学习，以在知识迁移学习后得到线性波浪载荷预报模型LWLC；在线性波浪载荷预报时，对船舶的一不规则波工况，利用所述线性波浪载荷预报模型LWLC得到与所述不规则波工况相对应的波浪载荷，其中，对船舶的不规则波工况，包括船舶的航速、波高、周期、航向角以及剖面位置；对与不规则波工况相对应的波浪载荷，包括垂向弯矩、水平弯矩以及扭矩。对与船舶结构适配的波浪载荷标准数据集，生成所述波浪载荷标准数据集的方法包括：对船舶结构，利用优化拉丁超立方和切片理论生成波浪载荷样本基本数据集；对波浪载荷样本基本数据集进行均值归一化，以得到适于神经元之间传递的波浪载荷标准数据集。利用优化拉丁超立方和切片理论生成波浪载荷样本基本数据集时，则有：其中，D为波浪载荷样本基本数据集，{x1,x2,x3,x4,x5}分别为航速、周期、波高、航向角和剖面位置，{y1,y2,y3}分别为垂向弯矩、水平弯矩和扭矩；X为经5次迭代后样本数为1800的拉丁超立方试验样本工况；Xlow为试验工况的下边界值，Xup为试验工况的上边界值；为基于切片理论计算得到拉丁超立方试验样本工况下的线性波浪载荷。对波浪载荷样本基本数据集进行均值归一化时，则有：其中：为航速、周期、波高、航向角、剖面位置、垂向弯矩、水平弯矩和扭矩相对应的均值，Ds为航速、周期、波高、航向角、剖面位置、垂向弯矩、水平弯矩和扭矩相对应的方差。对构建的载荷预报基准模型WLIP，则有：其中，RD，θWLIP)为载荷预报基准模型WLIP的损失函数；N为波浪载荷数据库大小；θWLIP为载荷预报基准模型WLIP内神经元之间训练的权重wij和偏置bj的集合；f；θWLIP)为载荷预报基准模型WLIP输出层的输出函数，为波浪载荷标准数据集内第i个标准数据输出子集，为载荷预报基准模型WLIP的预测值。以模型试验规则波数据集作为目标域，进行线性波浪载荷的知识迁移学习时，包括：对由规则波模型试验得到的试验数据，基于Jonswap海浪谱确定对应的载荷短期预报值，以利用所确定的载荷短期预报值构建得到模型试验规则波数据集，其中，对载荷短期预报值，则有：其中，Yexp为载荷短期预报值，为Jonswap海浪谱的海浪谱密度，G为单位规则波试验下波浪载荷响应幅值，ω是波浪圆频率，V是航速，θ是组合波与主浪向的夹角，H是有义波高，T是波浪的特征周期，β为航向角。基于知识迁移学习得到线性波浪载荷预报模型LWLC时，包括：在构建的载荷预报基准模型WLIP添加两层神经元，利用模型试验规则波数据集作为目标域对所添加的两层神经元进行训练，且在训练时，利用自动调整调参方法调节所添加两层神经元的参数，直至达到目标训练状态，以得到线性波浪载荷预报模型LWLC。线性波浪载荷预报模型LWLC，则有：其中，RD为线性波浪载荷预报模型LWLC的损失函数；θadd为增加两层神经元之间的权重和偏置；M为模型规则波数据集的大小；f；θWLIP；θadd)为线性波浪载荷预报模型LWLC输出层的输出函数，为波浪载荷标准数据集内第i个标准数据输出子集，为载荷预报基准模型WLIP的预测值。对自动调整调参方法，则有：其中：x为设计变量，af为激活函数，bs为批量输入样本数，lr初始学习率，nh神经网络隐含层数，minf为目标函数，测试集预测值与试验值的均方根误差；s.t.为优化约束条件；参数调整时，实时计算目标函数minf，将所计算的目标函数minf进行判断，所述判断的条件为：达到最大迭代次数max_evals，或者目标函数不再下降且达到提前结束条件early_stop_fn；满足判断条件时，即实现参数自动调整；对目标函数minf，n为波浪载荷样本库内测试集的个数，为样本库测试集内第i个工况预测值，为样本库测试集第i个工况的数据值。一种船舶结构设计中线性波浪载荷的预报系统，包括用于对线性波浪载荷预报的线性波浪载荷预报器，其中，对船舶的一不规则波工况，线性波浪载荷预报器采用上述权的预报方法进行线性波浪载荷预报。本发明的优点：基于深度神经网络DNN的载荷预报基准模型WLIP模型代替了传统的波浪载荷切片理论，从机器学习的角度来说，该方法经过波浪载荷标准数据集学习了波浪载荷理论知识，并经过验证得到满足损失函数较小的载荷预报基准模型WLIP，因此，可得到全域空间中不规则波工况的低频水平弯矩、垂向弯矩和扭矩。考虑到同工况下模型试验与数值计算存在波浪载荷误差，基于迁移学习建立线性波浪载荷预报模型LWLC，即在WLIP网络的基础之上增加两层进行模型微调，最终得到线性波浪载荷预报模型LWLC。本发明采用深度学习和迁移学习融合了波浪载荷理论、短期预报知识与模型试验历史经验，实现了机器学习在船舶结构设计领域中的运用。附图说明图1为本发明构建线性波浪载荷预报模型LWLC一种实施例的流程图。图2为本发明载荷预报基准模型WLIP的示意图。图3为本发明构建得到线性波浪载荷预报模型LWLC一种实施例的示意图。具体实施方式下面结合具体附图和实施例对本发明作进一步说明。为了可快速准确地对线性波浪载荷预报，满足船舶设计阶段的需求，对船舶结构设计中线性波浪载荷的预报方法，本发明的一种实施例中，所述预报方法包括：构建用于对线性波浪载荷预报的线性波浪载荷预报模型LWLC，其中，在构建线性波浪载荷预报模型LWLC时，利用与船舶结构适配的波浪载荷标准数据集构建基于深度神经网络DNN的载荷预报基准模型WLIP；对构建的载荷预报基准模型WLIP，以模型试验规则波数据集作为目标域，进行线性波浪载荷的知识迁移学习，以在知识迁移学习后得到线性波浪载荷预报模型LWLC；在线性波浪载荷预报时，对船舶的一不规则波工况，利用所述线性波浪载荷预报模型LWLC得到与所述不规则波工况相对应的波浪载荷，其中，对船舶的不规则波工况，包括船舶的航速、波高、周期、航向角以及剖面位置；对与不规则波工况相对应的波浪载荷，包括垂向弯矩、水平弯矩以及扭矩。在构建得到线性波浪载荷预报模型LWLC时，图1中示出了一种实施例的流程图，即先基于深度神经网络DNN构建载荷预报基准模型WLIP，并基于载荷预报基准模型WLIP进行知识迁移学习后构建得到线性波浪载荷预报模型LWLC。在构建得到线性波浪载荷预报模型LWLC后，对船舶的任一不规则波工况，即可利用所述线性波浪载荷预报模型LWLC快速准确地预报出相应的波浪载荷。一般地，对船舶的不规则波工况，包括船舶的航速、波高、周期、航向角以及剖面位置；对与不规则波工况相对应的波浪载荷，包括垂向弯矩、水平弯矩以及扭矩。下面根据图1和图3，对构建得到线性波浪载荷预报模型LWLC的过程进行详细说明。本发明的一种实施例中，对与船舶结构适配的波浪载荷标准数据集，生成所述波浪载荷标准数据集的方法包括：对船舶结构，利用优化拉丁超立方和切片理论生成波浪载荷样本基本数据集；对波浪载荷样本基本数据集进行均值归一化，以得到适于神经元之间传递的波浪载荷标准数据集。具体地，对设计中的船舶结构，可利用优化拉丁超立方和切片理论生成相应的波浪载荷样本基本数据集，其中，利用优化拉丁超立方和切片理论生成波浪载荷样本基本数据集时，则有：其中，D为波浪载荷样本基本数据集，{x1,x2,x3,x4,x5}分别为航速、周期、波高、航向角和剖面位置，{y1,y2,y3}分别为垂向弯矩、水平弯矩和扭矩；X为经5次迭代后样本数为1800的拉丁超立方试验样本工况；Xlow为试验工况的下边界值，Xup为试验工况的上边界值；为基于切片理论计算得到拉丁超立方试验样本工况下的线性波浪载荷。具体实施时，对船舶结构，利用优化拉丁超立方生成拉丁超立方试验样本工况，即所生成的拉丁超立方试验样本工况包括在多种工况下的航速、周期、波高、航向角和剖面位置，在利用优化拉丁超立方生成拉丁超立方试验样本工况时，一般需要配置试验工况的下边界值Xlow以及试验工况的上边界值Xup，其中，航速的下边界值Xlow、上边界值Xup一般可根据船舶的工作场景设定，周期下边界值Xlow与上边界值Xup的范围通常为3.5-18s,波高下边界值Xlow与上边界值Xup的范围通常为0.5-16.5m,航向角下边界值Xlow与上边界值Xup的范围通常为0-180°，剖面位置下边界值Xlow与上边界值Xup的范围通常为0-20。本发明的一种实施例中，为利用优化拉丁超立方生成拉丁超立方试验样本工况时，经5次迭代，可得到样本数为1800的拉丁超立方试验样本工况X，也即拉丁超立方试验样本工况X内包括1800个拉丁超立方试验样本工况。对生成的拉丁超立方试验样本工况，利用切片理论计算得到拉丁超立方试验样本工况下的线性波浪载荷。LILoad)为对拉丁超立方试验样本工况X进行基于切片理论的计算。在基于切片理论计算得到拉丁超立方试验样本工况下的线性波浪载荷时，一般需要配置切片理论计算条件，所配置的切片理论计算条件包括船舶结构的船体型线、重量分布、剪切面积以及吃水，即在配置切片理论计算条件后，可根据切片理论可计算得到拉丁超立方试验样本工况下的线性波浪载荷。本发明的一种实施例中，对波浪载荷样本基本数据集进行均值归一化时，则有：其中：为航速、周期、波高、航向角、剖面位置、垂向弯矩、水平弯矩和扭矩相对应的均值，Ds为航速、周期、波高、航向角、剖面位置、垂向弯矩、水平弯矩和扭矩相对应的方差。由上述说明可知，波浪载荷样本基本数据集包括拉丁超立方试验样本工况以及线性波浪载荷，在进行均值归一化时，则需要对拉丁超立方试验样本工况、线性波浪载荷相应的元素均进行均值归一化。如对航速均值归一化时，则需要确定1800个拉丁超立方试验样本工况对应航速的均值以及相对应的方差Ds，在得到航速的均值与方差Ds后，对任一航速，可进行所需的均值归一化。对周期、波高、航向角、剖面位置、垂向弯矩、水平弯矩和扭矩相对应的均值归一化，可参考航速均值归一化的说明，此处不再赘述。本发明的一种实施例中，对构建的载荷预报基准模型WLIP，则有：其中，RD，θWLIP)为载荷预报基准模型WLIP的损失函数；N为波浪载荷数据库大小；θWLIP为载荷预报基准模型WLIP内神经元之间训练的权重wij和偏置bj的集合。f；θWLIP)为载荷预报基准模型WLIP输出层的输出函数，为波浪载荷标准数据集内第i个标准数据输出子集，为载荷预报基准模型WLIP的预测值。载荷预报基准模型WLIP的预测值也即为输出函数f；θWLIP)输出的预测值。由上述说明可知，载荷预报基准模型WLIP以深度神经网络DNN为基础，即利用波浪载荷标准数据集对深度神经网络DNN训练后达到目标训练状态后，即可得到载荷预报基准模型WLIP。图2中示出了载荷预报基准模型WLIP的一种实施例，具体地，对载荷预报基准模型WLIP，以航速v、周期t、波高h、航行角angle和站位x为输入，垂向弯矩、水平弯矩和扭矩为输出；因此，利用波浪载荷标准数据集进行训练时，则利用均值归一化后的拉丁超立方试验样本工况作为深度神经网络DNN的输入，以拉丁超立方试验样本工况下的线性波浪载荷作为深度神经网络DNN的输出。具体训练时，损失函数收敛作为目标训练状态，达到训练状态时，即可得到θWLIP。对载荷预报基准模型WLIP，图2中，隐含层为64Nh*32Nh*16Nh*8Nh的形式，其中，wij和bj分别为神经元之间的权重和偏置。在训练时，训练的条件可配置为：迭代2000次，损失函数梯度下降采用Adam算法，激活函数采用Sigmoid函数，批量输入样本数K为40，初始学习率α取0.00157。因此，达到目标训练状态后，即得到载荷预报基准模型WLIP的损失函数RD，θWLIP)，当采用波浪载荷标准数据集训练时，波浪载荷数据库大小N即为1800。本发明的一种实施例中，以模型试验规则波数据集作为目标域，进行线性波浪载荷的知识迁移学习时，包括：将不同条件下的单位波高下波浪载荷响应幅值经过基于Jonswap海浪谱可得到相应的波浪载荷短期预报值，利用波浪载荷短期预报值构建形成模型规则波数据集；对载荷短期预报值，则有：其中，Yexp为载荷短期预报值，为Jonswap海浪谱的海浪谱密度，G为单位规则波试验下波浪载荷响应幅值，ω是波浪圆频率，V是航速，θ是组合波与主浪向的夹角，H是有义波高，T是波浪的特征周期，β为航向角。具体实施时，波浪圆频率ω、航速V、组合波与主浪向的夹角θ，有义波高H、波浪的特征周期T、航向角β构成规则波模型试验的条件，在船舶设计阶段，条件的具体取值可根据经验等选定，以能满足船舶结构设计的需求为准。由上述说明可知，模型规则波数据集内包括若干规则波数据组，一规则波数据组包括一规则波输入子集以及与所述规则波驶入子集关联对应的规则波输出子集，规则波输入子集、规则波输出子集的具体情况可参考数值计算输入子集、数值计算输出子集的说明，此处不再赘述。规则波模型试验值具体为在不同航速、航向角、波浪频率下单位波高的载荷响应幅值，为了与数值计算数据集和模型试验不规则波数据集对齐，因此，需对规则波模型试验值进行短期预报，以使得形成的模型规则波数据集与数值计算数据集和模型试验不规则波数据集具有相同的数据形式，即包括若干组规则波输入以及与规则波输入对应的规则波输出。由上述说明可知，对模型规则波试验，通过设定航速、航向角、波浪频率可测量在单位波高下波浪载荷响应幅值，本发明的一种实施例中，将不同条件下的单位波高下波浪载荷响应幅值经过基于Jonswap海浪谱可得到相应的波浪载荷短期预报值，即利用所需的波浪载荷短期预报值可构建形成模型规则波数据集，构建形成模型规则波数据集的方式以及过程可根据实际需要选择，具体为本技术领域人员所熟知，此处不再赘述。本发明的一种实施例中，基于知识迁移学习得到线性波浪载荷预报模型LWLC时，包括：在构建的载荷预报基准模型WLIP添加两层神经元，利用模型试验规则波数据集作为目标域对所添加的两层神经元进行训练，且在训练时，利用自动调整调参方法调节所添加两层神经元的参数，直至达到目标训练状态，以得到线性波浪载荷预报模型LWLC。图3中，载荷预报基准模型WLIP内包括六层神经元，添加的两层神经元直接添加在作为载荷预报基准模型WLIP的输出层。添加两层神经元后，需要对所添加的两层神经元训练，在训练时，保持载荷预报基准模型WLIP内神经元之间的权重和偏置θWLIP，即冻结载荷预报基准模型WLIP内神经元之间的权重和偏置θWLIP，只改变增加两层神经元之间的权重和偏置θadd。对添加的两层神经元训练达到目标训练状态时，即可得到线性波浪载荷预报模型LWLC。在训练时，本发明利用自动调整调参方法调节所添加两层神经元的参数。具体实施时，训练的条件可位置为：迭代次数为500，激活函数采用Sigmoid函数，批量输入样本数K为23，初始学习率取0.001。对线性波浪载荷预报模型LWLC，则有：其中，RD为线性波浪载荷预报模型LWLC的损失函数；θadd为增加两层神经元之间的权重和偏置；M为模型规则波数据集的大小；f；θWLIP；θadd)为线性波浪载荷预报模型LWLC输出层的输出函数，为波浪载荷标准数据集内第i个标准数据输出子集，为载荷预报基准模型WLIP的预测值。具体地，训练得到线性波浪载荷预报模型LWLC时，即可得到线性波浪载荷预报模型LWLC的损失函数RD，载荷预报基准模型WLIP的预测值即为输出函数f；θWLIP；θadd)对应的输出值。本发明的一种实施例中，对自动调整调参方法，则有：其中：x为设计变量，af为激活函数，bs为批量输入样本数，lr初始学习率，nh神经网络隐含层数，minf为目标函数，测试集预测值与试验值的均方根误差；s.t.为优化约束条件。利用自动调整调参方法在训练时进行参数自动调整，即图1中的调整网络模型，其中，对自动调整调参方法，所利用的波浪载荷样本库即为利用确定的载荷短期预报值作为目标域。对波浪载荷样本库，需要定义批量输入样本数、初始学习率、激活函数、神经网络隐含层数和优化数约束条件，此后，调用Hyperopt库，设置目标函数minf，最大迭代次数max_evals，优化提前终止early_stop_fn。具体实施时，定义批量输入样本数、初始学习率、激活函数、神经网络隐含层数时，即为在上述的取值区间内取值。Hyperopt库是一个python库，用于优化的计算，利用Hyperopt库进行优化计算的方式以及过程均与现有相一致，此处不再赘述。自动调整参数时，实时计算目标函数minf，将所计算的目标函数minf进行判断，所述判断的条件为：达到最大迭代次数max_evals，或者目标函数不再下降且达到提前结束条件early_stop_fn；满足判断条件时，即达到训练目标，实现参数的调整。对目标函数minf，n为波浪载荷样本库内测试集的个数，为样本库测试集内第i个工况预测值，此处，θ即为上述的权重与偏置。为样本库测试集第i个工况的数据值，由上述说明可知，所述数据值为计算值或试验值。RMSE为目标函数minf，max_evals为最大优化迭代次数，具体实施时可设置为3000次，early_stop_fn为提前结束条件，具体实施时可设置为500次，即目标函数minf在迭代500次后不再下降时提前结束优化。对于波浪载荷样本库内的测试集，一般均需要对波浪载荷样本库进行划分，划分后形成训练集、测试集以及验证集等，因此，测试集的具体个数n可根据实际的需要选择确定，以能满足训练以及自动调整的需求组确定，此处不再赘述。由上述说明，可得到船舶结构设计中线性波浪载荷的预报系统，本发明的一种实施例中，包括用于对线性波浪载荷预报的线性波浪载荷预报器，其中，对船舶的一不规则波工况，线性波浪载荷预报器采用上述的预报方法进行线性波浪载荷预报。具体地，线性波浪载荷预报器一般可为常用的计算机设备，即在计算机设备内构建线性波浪载荷预报模型LWLC，利用线性波浪载荷预报模型LWLC能实现线性波浪载荷的预报。对波浪载荷预报时，对不规则波工况，利用载荷预报基准模型WLIP以及所添加的两层神经元依次处理，最终由整个线性波浪载荷预报模型LWLC输出的波浪载荷即为线性波浪载荷。综上，本发明基于深度神经网络DNN的载荷预报基准模型WLIP模型代替了传统的波浪载荷切片理论，从机器学习的角度来说，该方法经过波浪载荷标准数据集学习了波浪载荷理论知识，并经过验证得到满足损失函数较小的载荷预报基准模型WLIP，因此，可得到全域空间中不规则波工况的低频水平弯矩、垂向弯矩和扭矩。考虑到同工况下模型试验与数值计算存在波浪载荷误差，基于迁移学习建立线性波浪载荷预报模型LWLC，即在WLIP网络的基础之上增加两层进行模型微调，最终得到线性波浪载荷预报模型LWLC。本发明采用深度学习和迁移学习融合了波浪载荷理论、短期预报知识与模型试验历史经验，实现了机器学习在船舶结构设计领域中的运用。
