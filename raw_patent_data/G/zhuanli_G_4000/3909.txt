标题title
一种智能控制器及其智能控制系统
摘要abst
本发明涉及一种智能控制器及其智能控制系统，所述智能控制器用于对升降装置进行控制，还用于接收移动终端的控制指令并和移动终端进行数据交互；所述智能控制器包括两个部分，第一控制器和第二控制器；其中，第一控制器用于对升降装置控制过程中的各种类型的数据作处理，对升降桌的运行状态进行控制；本发明适用于大量用户和房间用升降桌的场合，且能够快速的实现用户定制升降以及房间、升降桌、用户之间的解耦合，具有较高稳定性、人性化和智能化。
权利要求书clms
1.一种智能控制器，其特征在于，包括：所述智能控制器用于对升降装置进行控制，还用于接收移动终端的控制指令并和移动终端进行数据交互；所述智能控制器包括两个部分，第一控制器和第二控制器；其中，第一控制器用于对升降装置控制过程中的不同类型的数据作处理；接收第二控制器的控制信号、传感器得到的传感数据、升降马达控制和位置数据对升降桌的位置进行控制，对升降桌的运行状态进行控制；第一控制器有四个运行状态，调整状态、休眠状态、待机状态和关闭状态；在第一控制器处于调整状态时，升降马达不关闭；在待机状态时，第一控制器保持现场数据，升降马达保持当前位置并关闭；在休眠状态时，第一控制器的现场数据被存入非易失存储装置，升降马达保持当前位置并关闭；在关闭状态，第一控制器关闭，升降马达回到默认位置或者保持当前位置并关闭；第一控制器保持在休眠状态，只有在被第二控制器唤醒时，才进入待机或调整状态；第二控制器有三个运行状态，工作状态、待机状态和关闭状态；第二控制器基本上保持在待机状态，只有在被用户触发关闭时，才进入关闭状态；在第二控制器处于待机状态时，被用户触发而进入工作状态；第二控制器发信号以使得第一控制器进入调整状态；第二控制器读取用户标识以获取用户数据，第二控制器将用户数据发送给第一控制器，第一控制器基于用户数据将升降桌调整到第一目标位置；在第一目标位置的基础上微调整将升降桌调整到第二目标位置；将第二目标位置发送给第二控制器，将第二目标位置作为第一目标位置保存在用户数据中；第二控制器确定用户停止操作的时间长度以及当前场景以确定第一控制器和第二控制器的下一状态。2.根据权利要求1所述的智能控制器，其特征在于，所述传感器包括平衡传感器。3.根据权利要求2所述的智能控制器，其特征在于，所述传感器是安装于桌面上的陀螺仪传感器，用于检测升降装置的平衡度和高度，发送传感数据至第一控制器。4.根据权利要求3所述的智能控制器，其特征在于，第二控制器和第一控制器是独立的控制器。5.根据权利要求4所述的智能控制器，其特征在于，第二控制器设置有唯一标识；移动终端通过所述唯一标识发现升降桌。6.根据权利要求5所述的智能控制器，其特征在于，第二控制器设置于升降桌上。7.根据权利要求6所述的智能控制器，其特征在于，第二控制器通过可拆卸的方式和升降桌连接。8.一种智能控制系统，其特征在于，包括：如权利要求1-7中任一项所述智能控制器，升降桌和移动终端。9.根据权利要求8所述的智能控制系统，其特征在于，所述升降桌为多个，同时存在于一个空间中，所述移动终端为多个，使用所述多个移动终端的用户共同进入所述空间并使用所述升降桌。10.根据权利要求9所述的智能控制系统，其特征在于，使用所述多个移动终端的用户先后进入所述空间。
说明书desc
技术领域本发明属于升降桌控制技术领域，尤其涉及一种智能控制器及其智能控制系统。背景技术人们逐渐意识到久坐反而不利于身心健康和工作效率的提高，舒适的办公条件也成为追求的目标，人们开始尝试坐站交替式办公，渐渐的升降桌也就出现了，使用升降桌轮换使用站式和坐式办公成为一种流行的健康办公方式。传统的办公桌子高度一般都是固定的，很多时候与工作人员的身高不相符合，长时间会导致工作人员不舒服，影响其工作效果。即使高度合适，长期保持一种姿势进行工作也会对工作人员的身心带来压力，在工作之外带来额外的负担。目前，升降桌已经很普及的用于住宅中，随着人民生活水平的提高，电动升降桌也逐渐的在办公环境、教室等存在大量差异化人群，批量使用的环境中了，实际上，智能调平的升降桌可实现高度和平衡度的调节，是理想的办公方式，由于，原来电动升降平台一般用在住宅和医疗领域，如高度可调节的书桌、厨房、榻榻米、办公桌、医护床等等，对应新型的使用环境，如何适应存在大量差异化人群，批量使用的环境，在保障使用感受的同时降低升降桌的开销，充分的利用大数据信息提高用户体验，充分的利用环境特定，均是需要解决的新问题；此外，在这种场合下，空间的安静也是非常重要的，当很多控制器一直保持待机或者工作状态时，会制造大量的热量和声音噪音，因此，如何对升降桌的工作状态做高效率的控制，也是很重要的问题。本发明适用于大量人和房间用升降桌的场合，且能够快速的实现用户定制升降以及房间、升降桌、用户之间的解耦合，具有较高稳定性、人性化和智能化。发明内容为了解决现有技术中的上述问题，本发明提出了一种智能控制器及其智能控制系统，所述智能控制器用于对升降装置进行控制，还用于接收移动终端的控制指令并和移动终端进行数据交互；所述智能控制器包括两个部分，第一控制器和第二控制器；其中，第一控制器用于对升降装置控制过程中的不同类型的数据作处理；接收第二控制器的控制信号、传感器得到的传感数据、升降马达控制和位置数据对升降桌的位置进行控制，对升降桌的运行状态进行控制；第一控制器有四个运行状态，调整状态、休眠状态、待机状态和关闭状态；在第一控制器处于调整状态时，升降马达不关闭；在待机状态时，第一控制器保持现场数据，升降马达保持当前位置并关闭；在休眠状态时，第一控制器的现场数据被存入非易失存储装置，升降马达保持当前位置并关闭；在关闭状态，第一控制器关闭，升降马达回到默认位置或者保持当前位置并关闭；第一控制器保持在休眠状态，只有在被第二控制器唤醒时，才进入待机或调整状态；第二控制器有三个运行状态，工作状态、待机状态和关闭状态；第二控制器基本上保持在待机状态，只有在被用户触发关闭时，才进入关闭状态；在第二控制器处于待机状态时，被用户触发而进入工作状态；第二控制器发信号以使得第一控制器进入调整状态；第二控制器读取用户标识以获取用户数据，第二控制器将用户数据发送给第一控制器，第一控制器基于用户数据将升降桌调整到第一目标位置；在第一目标位置的基础上微调整将升降桌调整到第二目标位置；将第二目标位置发送给第二控制器，将第二目标位置作为第一目标位置保存在用户数据中；第二控制器确定用户停止操作的时间长度以及当前场景以确定第一控制器和第二控制器的下一状态。进一步的，所述传感器包括平衡传感器。进一步的，所述传感器是安装于桌面上的陀螺仪传感器，用于检测升降装置的平衡度和高度，发送传感数据至第一控制器。进一步的，第二控制器和第一控制器是独立的控制器。进一步的，第二控制器设置有唯一标识；移动终端通过所述唯一标识发现升降桌。进一步的，第二控制器设置于升降桌上。进一步的，第二控制器通过可拆卸的方式和升降桌连接。一种智能控制系统，包括：上述智能控制器，升降桌和移动终端。进一步的，所述升降桌为多个，同时存在于一个空间中，所述移动终端为多个，使用所述多个移动终端的用户共同进入所述空间并使用所述升降桌。进一步的，使用所述多个移动终端的用户先后进入所述空间。本发明的有益效果包括：设置第包含第一控制器和第二控制器的独立状态控制机制，两个控制器部分独立而又相关的作状态转换，使得运行开销大的控制器能够进入真正的关闭状态而不影响用户使用体验；通过场景将房间使用和用户使用关联起来，基于大数据信息准确的将升降桌调整到是和场景的当前用户使用位置，还能够根据计划得到场景持续时间的准确数据，引导智能控制器精准转换运行场景；适用于大量人和房间用升降桌的场合，且能够快速的实现用户定制升降以及房间、升降桌、用户之间的解耦合；附图说明此处所说明的附图是用来提供对本发明的进一步理解，构成本申请的一部分，但并不构成对本发明的不当限定，在附图中：图1为本发明的智能控制器应用场景示意图。具体实施方式下面将结合附图以及具体实施例来详细说明本发明，其中的示意性实施例以及说明仅用来解释本发明，但并不作为对本发明的限定通过本发明提出一种智能控制器及其智能控制系统；如附图1所示，所述智能控制器用于对升降装置3进行控制，还用于接收移动终端4的控制指令并和移动终端进行数据交互；所述智能控制器适用于大量人和房间用升降桌的场合，且能够快速的实现用户定制升降以及房间、升降桌、用户之间的解耦合；在这种场景下，所述升降桌为多个，同时存在于一个空间中，所述移动终端为多个，使用所述多个移动终端的用户共同进入所述空间并使用所述升降桌；用户可以根据需要选择一个升降桌来使用，这种选择是符合自身喜好的选择，是符合房间使用计划和体现自身计划的选择；一个升降桌子供一个人使用；实际上，在这种场合下，空间的安静也是非常重要的，当很多控制器一直保持待机或者工作状态时，会制造大量的热量和声音噪音，因此，如何使得升降桌尽量的保持低耗状态来降低热量和噪音污染也是非常重要的；所述智能控制器包括两个部分，第一控制器1和第二控制器2；其中，第一控制器用于对升降装置控制过程中的各种类型的数据作处理；接收第二控制器的控制信号、传感器得到的传感数据、升降马达控制和位置数据等对升降桌的位置进行控制，对升降桌的运行状态进行控制；所述传感器包括平衡传感器，例如：安装于桌面上的陀螺仪传感器，用于检测升降装置的平衡度和高度等位置信息，发送至第一控制器；平衡度为桌面和水平面的倾斜角度；可替换的：所述平衡度是桌面和特定角度平面的倾斜角度；优选的：所述传感器水平安装于桌面上；优选的：第二控制器和第一控制器是独立的控制器；第二控制器设置有唯一标识；移动终端通过所述唯一标识发现升降桌，所述唯一标识被记录在所述移动终端中，从而建立移动终端和第二控制器之间的关联关系；当移动终端在第二控制器的控制范围内时，移动终端发现所述唯一标识，用户确定是否创建和所述第二控制器的连接；在确定创建时，建立和第二控制器的通信连接，第二控制器作状态改变，并使得第一控制器作状态改变以适应所述移动终端用户，在确定适应所述移动终端用户后，用户使用升降桌，在使用过程中第一控制器和第二控制器根据升降桌的使用情况作状态转换以节约运行开销；在使用完毕后第二控制器进入待机状态，而第一控制器进入关闭状态、待机状态或待机状态；优选的：所述关联关系存在于移动终端中；优选的；第二控制器设置于升降桌上，或者设置于独立于升降桌的控制终端上；第二控制器通过可拆卸的方式和升降桌连接；通过这样的方式，可以快速的进行物资的转移的，当升降桌和用户之间的紧密连接关系发生改变，或者升降桌和空间的关系发生改变时，可以通过拆除第二控制器的方式，解除这种链接关系，并将第二控制器安装到新的升降桌上，就可以实现用户数据的转移；优选的：通过设置在移动终端中的应用程序管理所述关联关系；移动终端中建立所有唯一标识列表以管理所述关联关系；移动终端采用蓝牙等近场通信创建和第二控制器的连接；优选的：所述第二控制的唯一标识是可设置的，所述唯一标识和升降桌的空间位置相关；通过所述唯一标识用户能够了解所述升降桌在摆放空间内的位置；例如：三行五列；第一控制器有四个运行状态，调整状态、休眠状态、待机状态和关闭状态；在第一控制器处于调整状态时，升降马达不关闭而处于热状态；在待机状态时，第一控制器保持现场数据，升降马达保持当前位置并关闭；在休眠状态时，第一控制器的现场数据被存入非易失存储装置，升降马达保持当前位置并关闭；在关闭状态，第一控制器关闭，升降马达回到默认位置或者保持当前位置并关闭；所述热状态是指升降马达的马达控制器不关闭，而随时可以接受调整指令；不需要重新开启马达；当第一控制器处于休眠状态时需要等待第二控制器或者定时装置唤醒；优选的：当第一控制器处于较长的待机状态而未被第二控制器触发时，进入休眠状态；而第二控制器由于没有休眠状态而始终保持在待机状态；第一控制器进入休眠状态是在第二控制器的触发下或自行进入；可替换的的：当第一控制器处于较长的待机状态且升降桌未被使用时，进入休眠状态；而第二控制器由于没有休眠状态而始终保持在待机状态；第一控制器进入休眠状态是在第二控制器的触发下或自行进入；当第一控制器被用户触发关闭，或第二控制器发送关闭信号时，第一控制器进入关闭状态；第二控制器有三个运行状态，工作状态、待机状态和关闭状态；第二控制器基本上保持在待机状态，只有在固定情况或者被用户触发关闭时，才进入关闭状态；第一控制器基本上保持在休眠状态，只有在被第二控制器唤醒时，才进入待机或调整状态；也就是说，第二控制器通过自身的小待机开销保障了第一控制器更长的休眠和关闭；所述固定情况为空间关闭时间，此时对应的是确定的空闲场景等；在固定情况下，第二控制器可设置为被定时装置触发而进入待机状态；优选的：第一控制器比第二控制器的性能更优；代表着更大的运行开销和价格；第一控制器为计算型控制器，而第二控制器为存储型控制器；设置第包含第一控制器和第二控制器的独立状态控制机制，两个控制器部分独立而又相关的作状态转换，使得运行开销大的控制器能够进入真正的关闭状态而不影响用户使用体验；那么在很多情况下，第一控制器保持关闭或者休眠，而第二控制器为待机或者工作状态，从而形成了差异化或者存在时间先后的状态转换，大大的减少了运行开销；在第二控制器处于待机状态时，被用户触发而进入工作状态；第二控制器发信号以使得第一控制器进入调整状态；第二控制器读取用户标识以获取用户数据，第二控制器将用户数据发送给第一控制器，第一控制器基于用户数据将升降桌调整到第一目标位置；在第一目标位置的基础上微调整将升降桌调整到第二目标位置；将第二目标位置发送给第二控制器，将第二目标位置作为第一目标位置保存在用户数据中；第二控制器确定用户停止操作的时间长度以及当前场景以确定第一控制器和第二控制器的下一状态；所述第二控制器确定用户停止操作的时间长度以及当前场景以确定第一控制器和第二控制器的下一状态，具体包括如下步骤：步骤SK1：读取用户计划和房间使用计划以得到当前场景的下一场景是否为空闲场景，如果是且用户停止操作的时间长度大于低时间阈值，则发送信号以使得第一控制器提前进入关闭状态；第二控制器进入待机状态；空闲场景中，升降桌将保持长时间的空闲；在当前用户的用户计划和房间使用计划均指示升降桌在当前场景后将不在被使用时，确定下一场景时空闲场景；例如：后续将进入房间关闭阶段，升降桌将不再被使用；通过提前关闭第一控制器能够使得关闭时间增加当前场景的持续时间；优选的：在进入关闭状态后，升降马达保持当前位置并断电；步骤SK2：若当前场景的持续时间TC小于低时间阈值TL和第一转换比例a的乘积TL×a，则进入步骤SK4；否则，进入下一步骤；步骤SK3：若用户停止操作的时间长度大于低时间阈值，且当前场景的持续时间TC大于低时间阈值TL和第二转换比例b的乘积TL×b，则发送信号以使得第一控制器进入休眠状态；第二控制器进入待机状态；优选的：在用户停止操作的时间长度大于低时间阈值后，将第一控制器从调整状态进入待机状态；优选的：b＞a；第一转换比例a＝2，第二转换比例b＝5；优选的：根据运行开销来设置和每个智能控制器相关的第一转换比例和第二转换比例；步骤SK4：发送信号以使得第一控制器进入待机状态；第二控制器进入待机状态；也就是说，第一目标位置是用户在当前场景下习惯使用的位置；例如：针对当前场景下用户在所有升降桌最近使用的合适位置、经常使用的合适位置；此时，适用于从移动终端获取用户数据；或针对当前场景下当前升降桌最近使用的合适位置、经常使用的合适位置等；此时，适用于从移动终端获取用户数据，或从第二控制器获取用户数据；优选的：第一目标位置和第二目标位置包括垂直高度和水平倾斜度；用户在不同的场景下需要的目标位置是不同的；例如：在制图课上使用的位置显然不同于自习时使用的位置；所述被用户触发，具体为：用户通过移动终端连接第二控制器、用户通过设置在第二控制器上的硬件按钮或触摸按钮触发第二控制器；所述第二控制器读取用户标识以获取用户数据，具体为：第二控制器基于用户标识从存储装置读取用户数据；优选的：所述存储装置位于所述第二控制器内；所述存储装置可插拔的连接于第二控制器；可替换的：存储装置位于移动终端中，移动终端将用户数据发送给第二控制装置；所述第一控制器基于用户数据将升降桌调整到第一目标位置，具体为包括如下步骤：步骤SA1：确定当前场景；具体为：读取用户计划和房间使用计划以得到当前场景；用户计划包括课表、学习计划等；房间使用计划为房间被预定、关闭等使用计划；步骤SA2：确定用户数据中是否有针对当前场景的第一目标位置；若是，则直接获取所述第一目标位置并进行调整；否则，进入下一步骤；此时，用户是首次，或者首次在当前场景下使用升降桌；步骤SA3：基于用户数据中的用户属性预测位置基本信息，基于用户数据中的当前场景、位置基本信息确定第一目标位置；其中：用户属性包括用户身高、体重、年龄等；位置基本信息包括坐高和站高，优选的：通过大数据统计得到用户属性对应的位置基本信息，基于大数据统计得到位置基本信息在当前场景下的第一目标位置；通过基于场景的主动用户数据获取和用户数据管理，使得升降桌在用户使用前基本达到包括桌面高度和倾斜度的桌面位置的一次到位，大大的提高了用户体验；所述在第一目标位置的基础上微调整将升降桌调整到第二目标位置，具体为：提示用户对升降桌的位置进行调整，第二控制器接收所述调整数据，并将调整数据发送给第一控制器，第一控制器发送调整信号给升降马达，从而对升降桌的升降进行控制；本发明通过场景将房间使用和用户使用关联起来，基于大数据信息准确的将升降桌调整到是和场景的当前用户使用位置，还能够根据计划得到场景持续时间的准确数据，引导智能控制器精准转换运行场景；在第一控制器和第二控制器均处于关闭状态时，也就是智能控制器处于关闭状态时，第二控制器根据预先设置的根据升降桌的使用计划设置的定时时间，在定时时间到达时，第二控制器从关闭状态进入待机状态，并进一步发送信号以使得第一控制器打开并进入待机状态；或者第二控制器被用户触发而进入工作状态，第二控制器发信号以使得第一控制器进入调整状态；优选的：第二控制器根据升降桌使用计划中的预定情况设置定时装置；并使得定时时间早于预定时间；术语“数据处理装置”、“数据处理系统”、“用户设备”或“计算设备”包涵用于处理数据的所有种类的装置、设备和机器，举例包括可编程处理器、计算机、片上系统、或者上述中的多个或其组合。所述装置能够包括专用逻辑电路，例如FPGA或ASIC。除了硬件，所述装置还可以包括代码，创建用于所述计算机程序的执行环境，例如，构成处理器固件、协议栈、数据库管理系统、操作系统、跨平台运行环境、虚拟机或上述一个或多个的组合的代码。该装置和执行环境可以实现各种不同计算模型基础设施，诸如web服务、分布式计算、和网格计算基础设施。计算机程序能够以编程语言的任何形式来撰写，包括汇编或解释语言、说明或过程性语言，且其可以以任何形式部署，包括作为单机程序或者作为模块、组件、子例程、对象或适于在计算环境中使用的其他单元。计算机程序可以但不必与文件系统中的文件相对应。程序能够存储在保持其他程序或数据的文件的一部分中，在专用于所述程序的单个文件中，或者在多个协同文件中。计算机程序可以部署为在一个计算机上或位于一个站点或跨多个站点分布且由通信网络互连的多个计算机上执行。本领域内的技术人员应明白，本发明的实施例可提供为方法、系统、或计算机程序产品。因此，本发明可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本发明可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本发明是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。最后应当说明的是：以上实施例仅用以说明本发明的技术方案而非对其限制，尽管参照上述实施例对本发明进行了详细的说明，所属领域的普通技术人员应当理解：依然可以对本发明的具体实施方式进行修改或者等同替换，而未脱离本发明精神和范围的任何修改或者等同替换，其均应涵盖在本发明的权利要求保护范围之内。
