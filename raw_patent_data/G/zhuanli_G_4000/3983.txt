标题title
基于数据处理的除草任务路径规划方法及装置
摘要abst
本申请提供一种基于数据处理的除草任务路径规划方法及装置。该方法包括通过无人机获取目标区域的初始整体图像，并根据预设目标识别模型识别出整体图像中的各类目标对象，再确定预规划路线，并当除草机器人根据预规划路线运动至预警位置时，无人机再次获取目标区域的修正整体图像，从而根据修正整体图像中的临时障碍物对预规划路线进行调整，生成修正规划路线，以使除草机器人根据修正规划路线继续完成除草任务，以以更好地满足复杂场景下的除草需求。
权利要求书clms
1.一种基于数据处理的除草任务路径规划方法，其特征在于，包括：通过无人机获取目标区域的初始整体图像，所述目标区域对应所述除草任务中的待除草范围，并根据预设目标识别模型识别出所述整体图像中的各类目标对象，所述目标对象为固定障碍物、临时障碍物以及待除草区域中的至少一类；根据所述固定障碍物对应的第一位置数据、所述待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，其中，所述预规划路线的起始路段中不包括所述临时障碍物，所述起始路段为所述预规划路线中的前预设距离对应的路段；当所述除草机器人根据所述预规划路线运动至预警位置时，所述无人机再次获取所述目标区域的修正整体图像，其中，当所述除草机器人位于所述预警位置时，与所述初始整体图像中的所述临时障碍物之间的距离满足预设条件；并根据所述修正整体图像中的所述临时障碍物对所述预规划路线进行调整，生成修正规划路线，以使所述除草机器人根据所述修正规划路线继续完成所述除草任务。2.根据权利要求1所述的基于数据处理的除草任务路径规划方法，其特征在于，若所述待除草范围内存在运动障碍物，则所识别出的所述临时障碍物包括所述运动障碍物；对应的，根据所述修正整体图像中的所述临时障碍物对所述预规划路线进行调整，生成修正规划路线，包括：对所述运动障碍物进行目标位置预测，以确定所述运动障碍物在预设时长后的位置集合，所述位置集合包括多个位置数据，所述多个位置数据中的各个位置数据对应不同的目标位置预测算法进行确定的位置，所述预设时长为所述除草机器人运动至危险区域的时长；所述危险区域为以所述运动障碍物当前位置为中心，以所述运动障碍物在所述预设时长内的预测运动直线距离为半径所确定的扇形，所述扇形的展开方向与所述运动障碍物的运动方向之间的夹角在预设夹角范围之内；根据所述位置集合对所述预规划路线进行调整，以生成所述修正规划路线，其中，所述修正规划路线与所述位置集合相互不干涉。3.根据权利要求2所述的基于数据处理的除草任务路径规划方法，其特征在于，所述扇形的角度与所述运动障碍物的运动速度成正相关，所述预设夹角范围根据所述运动障碍物的运动方向以及所述运动障碍物当前所运动的路线的轮廓线进行确定。4.根据权利要求3所述的基于数据处理的除草任务路径规划方法，其特征在于，所述根据所述位置集合对所述预规划路线进行调整，包括：获取所述运动障碍物在预设时长内的历史位置数据，所述历史位置数据包括所述预设时长内各个时刻下的位置数据，根据所述历史位置数据以及第一目标位置预测算法确定第一位置数据，根据所述历史位置数据以及第二目标位置预测算法确定第二位置数据，根据所述历史位置数据以及第三目标位置预测算法确定第三位置数据；根据公式1确定初始回避区域：公式1：其中，；；；为所述运动障碍物的类型与所述第一目标位置预测算法之间的预设关联函数，为所述运动障碍物的类型与所述第二目标位置预测算法之间的预设关联函数，为所述运动障碍物的类型与所述第三目标位置预测算法之间的预设关联函数，A为所述运动障碍物的类型，为预设半径值,S1、S2、S3分别为第一区域、第二区域以及第三区域，、、分别为所述第一区域、所述第二区域以及所述第三区域的半径，所述初始回避区域为所述第一区域、所述第二区域以及所述第三区域的并集；对所述初始回避区域划分网格，最小网格的边界尺寸根据公式2进行确定：公式2：其中，d为最小网格的边界尺寸，为所述运动障碍物在所述预设时长内的速度函数，为所述运动障碍物在所述预设时长内的运动方向变化函数，为第一权重，为第二权重，为预设时间间隔；根据公式3确定划分后的各个网格的规避权重：公式3：其中，为网格边界点与S1、S2、S3之间的位置关系函数，、、、为常数；根据所述初始回避区域中各个网格的所述规避权重对所述预规划路线进行调整，生成修正规划路线。5.根据权利要求4所述的基于数据处理的除草任务路径规划方法，其特征在于，所述根据所述初始回避区域中各个网格的所述规避权重对所述预规划路线进行调整，包括：若第一网格的所述规避权重大于或等于第一预设阈值，则所述修正规划路线与所述第一网格之间的最短距离大于预设距离阈值；若第二网格的所述规避权重大于或等于第二预设阈值，且小于所述第一预设阈值，则所述修正规划路线避开所述第二网格对应的区域；若第三网格的所述规避权重小于所述第二预设阈值，则判断所述第三网格是否落入所述扇形；若判断结果为是，则所述修正规划路线避开所述第三网格对应的区域；若判断结果为否，则当在满足预设规划条件时，将所述第三网格对应的区域规划入所述修正规划路线。6.根据权利要求3-5中任意一项所述的基于数据处理的除草任务路径规划方法，其特征在于，在获取所述运动障碍物在预设时长内的历史位置数据之后，还包括：根据所述历史位置数据中各对相邻的两个位置坐标数据确定运动矢量序列；根据所述修正整体图像确定所述运动障碍物所在当前路径的边界线；若所述运动矢量序列的角度变化率与所述边界线的对应的角度变化率之间的偏差小于预设偏差，且所述运动障碍物距离所述当前路径的变化点距离大于预设安全距离，则所述修正规划路线避开所述当前路径的当前路段，所述当前路段为所述运动障碍物当前位置至预测位置之间的路段，所述预测位置根据所述当前位置与所述预设安全距离进行确定，所述预设安全距离根据所述运动障碍物的运动速度以及所述预设时长进行确定，所述变化点包括：所述当前路径的拐点以及交汇点。7.根据权利要求1-5中任意一项所述的基于数据处理的除草任务路径规划方法，其特征在于，所述根据所述历史位置数据以及第一目标位置预测算法确定第一位置数据，包括：根据所述历史位置数据以及所述第一目标位置预测算法说对应的神经网络模型，其中，所述历史位置数据包括所述预设时长内的视频数据，所述视频数据包括N帧RGB3通道的图像；将所述N帧RGB3通道的图像和所述预设时长组合为4通道的N×H×W大小的立体，其中，H为图片的长，W为图片的宽；将所述4通道的N×H×W大小的立体输入至3D深度卷积残差网络，提取特征，输出不同尺度的特征图，并利用预设特征金字塔对不同尺度的特征进行融合，以得到2D多通道的特征图；根据所述2D多通道的特征图，对待预测层中的位置进行预测，并将图像上的位置转化为坐标，以得到所述第一位置数据。8.一种基于数据处理的除草任务路径规划装置，其特征在于，包括：获取模块，用于获取目标区域的初始整体图像，所述目标区域对应所述除草任务中的待除草范围，并根据预设目标识别模型识别出所述整体图像中的各类目标对象，所述目标对象为固定障碍物、临时障碍物以及待除草区域中的至少一类；处理模块，用于根据所述固定障碍物对应的第一位置数据、所述待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，其中，所述预规划路线的起始路段中不包括所述临时障碍物，所述起始路段为所述预规划路线中的前预设距离对应的路段；所述获取模块，还用于当所述除草机器人根据所述预规划路线运动至预警位置时，再次获取所述目标区域的修正整体图像，其中，当所述除草机器人位于所述预警位置时，与所述初始整体图像中的所述临时障碍物之间的距离满足预设条件；规划模块，用于根据所述修正整体图像中的所述临时障碍物对所述预规划路线进行调整，生成修正规划路线，以使所述除草机器人根据所述修正规划路线继续完成所述除草任务。9.一种电子设备，其特征在于，包括：处理器；以及，存储器，用于存储所述处理器的可执行指令；其中，所述处理器配置为经由执行所述可执行指令来执行权利要求1至7任一项所述的基于数据处理的除草任务路径规划方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机执行指令，所述计算机执行指令被处理器执行时用于实现如权利要求1至7任一项所述的基于数据处理的除草任务路径规划方法。
说明书desc
技术领域本申请涉及数据处理技术，尤其涉及一种基于数据处理的除草任务路径规划方法及装置。背景技术随着我国城镇化发展，对于社会公共区域的除草所面临的两大问题：一是从事农业劳动的人员不断减少，用于除草的人力成本不断上升；二是环境保护意识不断提，各地对除草剂使用量的限制程度不断增加。而人工智能技术、机器人技术的出现为解决以上问题提供了有效途径。现有的物理除草机器人系统，可以用于有效地对大面积区域进行除草工作。具体的，现有的除草机器人通常是基于固定路线进行运动，在运动地过程中通过除草机器人的机器视觉进行避障与调整。但是，上述基于固定路线进行运动以及根据机器视觉进行调整的方式，仅仅只能实现除草机器人的避障功能，而无法有效地进行路线整体规划调整，进而难以满足公园、社区等复杂场景的除草需求。发明内容本申请提供一种基于数据处理的除草任务路径规划方法及装置，用以解决基于固定路线进行运动以及根据机器视觉进行调整的方式，无法有效地进行路线整体规划调整的技术问题。第一方面，本申请提供一种基于数据处理的除草任务路径规划方法，包括：通过无人机获取目标区域的初始整体图像，所述目标区域对应所述除草任务中的待除草范围，并根据预设目标识别模型识别出所述整体图像中的各类目标对象，所述目标对象为固定障碍物、临时障碍物以及待除草区域中的至少一类；根据所述固定障碍物对应的第一位置数据、所述待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，其中，所述预规划路线的起始路段中不包括所述临时障碍物，所述起始路段为所述预规划路线中的前预设距离对应的路段；当所述除草机器人根据所述预规划路线运动至预警位置时，所述无人机再次获取所述目标区域的修正整体图像，其中，当所述除草机器人位于所述预警位置时，与所述初始整体图像中的所述临时障碍物之间的距离满足预设条件；并根据所述修正整体图像中的所述临时障碍物对所述预规划路线进行调整，生成修正规划路线，以使所述除草机器人根据所述修正规划路线继续完成所述除草任务。可选的，若所述待除草范围内存在运动障碍物，则所识别出的所述临时障碍物包括所述运动障碍物；对应的，根据所述修正整体图像中的所述临时障碍物对所述预规划路线进行调整，生成修正规划路线，包括：对所述运动障碍物进行目标位置预测，以确定所述运动障碍物在预设时长后的位置集合，所述位置集合包括多个位置数据，所述多个位置数据中的各个位置数据对应不同的目标位置预测算法进行确定的位置，所述预设时长为所述除草机器人运动至危险区域的时长；所述危险区域为以所述运动障碍物当前位置为中心，以所述运动障碍物在所述预设时长内的预测运动直线距离为半径所确定的扇形，所述扇形的展开方向与所述运动障碍物的运动方向之间的夹角在预设夹角范围之内；根据所述位置集合对所述预规划路线进行调整，以生成所述修正规划路线，其中，所述修正规划路线与所述位置集合相互不干涉。可选的，所述扇形的角度与所述运动障碍物的运动速度成正相关，所述预设夹角范围根据所述运动障碍物的运动方向以及所述运动障碍物当前所运动的路线的轮廓线进行确定。可选的，所述根据所述位置集合对所述预规划路线进行调整，包括：获取所述运动障碍物在预设时长内的历史位置数据，所述历史位置数据包括所述预设时长内各个时刻下的位置数据，根据所述历史位置数据以及第一目标位置预测算法确定第一位置数据，根据所述历史位置数据以及第二目标位置预测算法确定第二位置数据，根据所述历史位置数据以及第三目标位置预测算法确定第三位置数据；根据公式1确定初始回避区域：公式1：其中，；；；为所述运动障碍物的类型与所述第一目标位置预测算法之间的预设关联函数，为所述运动障碍物的类型与所述第二目标位置预测算法之间的预设关联函数，为所述运动障碍物的类型与所述第三目标位置预测算法之间的预设关联函数，A为所述运动障碍物的类型，为预设半径值,S1、S2、S3分别为第一区域、第二区域以及第三区域，、、分别为所述第一区域、所述第二区域以及所述第三区域的半径，所述初始回避区域为所述第一区域、所述第二区域以及所述第三区域的并集；对所述初始回避区域划分网格，最小网格的边界尺寸根据公式2进行确定：公式2：其中，d为最小网格的边界尺寸，为所述运动障碍物在所述预设时长内的速度函数，为所述运动障碍物在所述预设时长内的运动方向变化函数，为第一权重，为第二权重，为预设时间间隔；根据公式3确定划分后的各个网格的规避权重：公式3：其中，为网格边界点与S1、S2、S3之间的位置关系函数，、、、为常数；根据所述初始回避区域中各个网格的所述规避权重对所述预规划路线进行调整，生成修正规划路线。可选的，所述根据所述初始回避区域中各个网格的所述规避权重对所述预规划路线进行调整，包括：若第一网格的所述规避权重大于或等于第一预设阈值，则所述修正规划路线与所述第一网格之间的最短距离大于预设距离阈值；若第二网格的所述规避权重大于或等于第二预设阈值，且小于所述第一预设阈值，则所述修正规划路线避开所述第二网格对应的区域；若第三网格的所述规避权重小于所述第二预设阈值，则判断所述第三网格是否落入所述扇形；若判断结果为是，则所述修正规划路线避开所述第三网格对应的区域；若判断结果为否，则当在满足预设规划条件时，将所述第三网格对应的区域规划入所述修正规划路线。可选的，在获取所述运动障碍物在预设时长内的历史位置数据之后，还包括：根据所述历史位置数据中各对相邻的两个位置坐标数据确定运动矢量序列；根据所述修正整体图像确定所述运动障碍物所在当前路径的边界线；若所述运动矢量序列的角度变化率与所述边界线的对应的角度变化率之间的偏差小于预设偏差，且所述运动障碍物距离所述当前路径的变化点距离大于预设安全距离，则所述修正规划路线避开所述当前路径的当前路段，所述当前路段为所述运动障碍物当前位置至预测位置之间的路段，所述预测位置根据所述当前位置与所述预设安全距离进行确定，所述预设安全距离根据所述运动障碍物的运动速度以及所述预设时长进行确定，所述变化点包括：所述当前路径的拐点以及交汇点。可选的，所述根据所述历史位置数据以及第一目标位置预测算法确定第一位置数据，包括：根据所述历史位置数据以及所述第一目标位置预测算法说对应的神经网络模型，其中，所述历史位置数据包括所述预设时长内的视频数据，所述视频数据包括N帧RGB3通道的图像；将所述N帧RGB3通道的图像和所述预设时长组合为4通道的N×H×W大小的立体，其中，H为图片的长，W为图片的宽；将所述4通道的N×H×W大小的立体输入至3D深度卷积残差网络，提取特征，输出不同尺度的特征图，并利用预设特征金字塔对不同尺度的特征进行融合，以得到2D多通道的特征图；根据所述2D多通道的特征图，对待预测层中的位置进行预测，并将图像上的位置转化为坐标，以得到所述第一位置数据。第二方面，本申请提供一种基于数据处理的除草任务路径规划装置，包括：获取模块，用于获取目标区域的初始整体图像，所述目标区域对应所述除草任务中的待除草范围，并根据预设目标识别模型识别出所述整体图像中的各类目标对象，所述目标对象为固定障碍物、临时障碍物以及待除草区域中的至少一类；处理模块，用于根据所述固定障碍物对应的第一位置数据、所述待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，其中，所述预规划路线的起始路段中不包括所述临时障碍物，所述起始路段为所述预规划路线中的前预设距离对应的路段；所述获取模块，还用于当所述除草机器人根据所述预规划路线运动至预警位置时，再次获取所述目标区域的修正整体图像，其中，当所述除草机器人位于所述预警位置时，与所述初始整体图像中的所述临时障碍物之间的距离满足预设条件；规划模块，用于根据所述修正整体图像中的所述临时障碍物对所述预规划路线进行调整，生成修正规划路线，以使所述除草机器人根据所述修正规划路线继续完成所述除草任务。可选的，若所述待除草范围内存在运动障碍物，则所识别出的所述临时障碍物包括所述运动障碍物；所述规划模块，具体用于：对所述运动障碍物进行目标位置预测，以确定所述运动障碍物在预设时长后的位置集合，所述位置集合包括多个位置数据，所述多个位置数据中的各个位置数据对应不同的目标位置预测算法进行确定的位置，所述预设时长为所述除草机器人运动至危险区域的时长；所述危险区域为以所述运动障碍物当前位置为中心，以所述运动障碍物在所述预设时长内的预测运动直线距离为半径所确定的扇形，所述扇形的展开方向与所述运动障碍物的运动方向之间的夹角在预设夹角范围之内；根据所述位置集合对所述预规划路线进行调整，以生成所述修正规划路线，其中，所述修正规划路线与所述位置集合相互不干涉。可选的，所述扇形的角度与所述运动障碍物的运动速度成正相关，所述预设夹角范围根据所述运动障碍物的运动方向以及所述运动障碍物当前所运动的路线的轮廓线进行确定。可选的，所述规划模块，具体用于：获取所述运动障碍物在预设时长内的历史位置数据，所述历史位置数据包括所述预设时长内各个时刻下的位置数据，根据所述历史位置数据以及第一目标位置预测算法确定第一位置数据，根据所述历史位置数据以及第二目标位置预测算法确定第二位置数据，根据所述历史位置数据以及第三目标位置预测算法确定第三位置数据；根据公式1确定初始回避区域：公式1：其中，；；；为所述运动障碍物的类型与所述第一目标位置预测算法之间的预设关联函数，为所述运动障碍物的类型与所述第二目标位置预测算法之间的预设关联函数，为所述运动障碍物的类型与所述第三目标位置预测算法之间的预设关联函数，A为所述运动障碍物的类型，为预设半径值,S1、S2、S3分别为第一区域、第二区域以及第三区域，、、分别为所述第一区域、所述第二区域以及所述第三区域的半径，所述初始回避区域为所述第一区域、所述第二区域以及所述第三区域的并集；对所述初始回避区域划分网格，最小网格的边界尺寸根据公式2进行确定：公式2：其中，d为最小网格的边界尺寸，为所述运动障碍物在所述预设时长内的速度函数，为所述运动障碍物在所述预设时长内的运动方向变化函数，为第一权重，为第二权重，为预设时间间隔；根据公式3确定划分后的各个网格的规避权重：公式3：其中，为网格边界点与S1、S2、S3之间的位置关系函数，、、、为常数；根据所述初始回避区域中各个网格的所述规避权重对所述预规划路线进行调整，生成修正规划路线。可选的，所述规划模块，具体用于：若第一网格的所述规避权重大于或等于第一预设阈值，则规划所述修正规划路线与所述第一网格之间的最短距离大于预设距离阈值；若第二网格的所述规避权重大于或等于第二预设阈值，且小于所述第一预设阈值，则规划所述修正规划路线避开所述第二网格对应的区域；若第三网格的所述规避权重小于所述第二预设阈值，则判断所述第三网格是否落入所述扇形；若判断结果为是，则规划所述修正规划路线避开所述第三网格对应的区域；若判断结果为否，则当在满足预设规划条件时，规划将所述第三网格对应的区域规划入所述修正规划路线。可选的，所述规划模块，还具体用于：根据所述历史位置数据中各对相邻的两个位置坐标数据确定运动矢量序列；根据所述修正整体图像确定所述运动障碍物所在当前路径的边界线；若所述运动矢量序列的角度变化率与所述边界线的对应的角度变化率之间的偏差小于预设偏差，且所述运动障碍物距离所述当前路径的变化点距离大于预设安全距离，则所述修正规划路线避开所述当前路径的当前路段，所述当前路段为所述运动障碍物当前位置至预测位置之间的路段，所述预测位置根据所述当前位置与所述预设安全距离进行确定，所述预设安全距离根据所述运动障碍物的运动速度以及所述预设时长进行确定，所述变化点包括：所述当前路径的拐点以及交汇点。可选的，所述规划模块，还具体用于：根据所述历史位置数据以及所述第一目标位置预测算法说对应的神经网络模型，其中，所述历史位置数据包括所述预设时长内的视频数据，所述视频数据包括N帧RGB3通道的图像；将所述N帧RGB3通道的图像和所述预设时长组合为4通道的N×H×W大小的立体，其中，H为图片的长，W为图片的宽；将所述4通道的N×H×W大小的立体输入至3D深度卷积残差网络，提取特征，输出不同尺度的特征图，并利用预设特征金字塔对不同尺度的特征进行融合，以得到2D多通道的特征图；根据所述2D多通道的特征图，对待预测层中的位置进行预测，并将图像上的位置转化为坐标，以得到所述第一位置数据。第三方面，本申请提供一种电子设备，包括：处理器；以及，存储器，用于存储所述处理器的可执行指令；其中，所述处理器配置为经由执行所述可执行指令来执行第一方面中所述的任一种可能的基于数据处理的除草任务路径规划方法。第四方面，本申请提供一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机执行指令，所述计算机执行指令被处理器执行时用于实现第一方面中所述的任一种可能的基于数据处理的除草任务路径规划方法。本申请提供的基于数据处理的除草任务路径规划方法及装置，通过无人机获取目标区域的初始整体图像，并根据预设目标识别模型识别出整体图像中的各类目标对象，再根据固定障碍物对应的第一位置数据、待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，而当除草机器人根据预规划路线运动至预警位置时，无人机再次获取目标区域的修正整体图像，并根据修正整体图像中的临时障碍物对预规划路线进行调整，生成修正规划路线，以使除草机器人根据修正规划路线继续完成除草任务。可见，本实施例提供的方法既可以通过初始整体图像确定预规划路线，以满足复杂场景下障碍物变化下的整体路线规划需求，还可以通过根据修正整体图像生成修正规划路线，以满足复杂场景下临时障碍物动态变化后的局部路线调整需求。进而能够有效地提高除草机器人的路线规划合理性和适应性，以更好地满足复杂场景下的除草需求。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本申请的实施例，并与说明书一起用于解释本申请的原理。图1是本申请根据一示例实施例示出的基于数据处理的除草任务路径规划方法的流程示意图;图2是本申请根据一示例实施例示出的S105的流程示意图；图3是本申请根据一示例实施例示出的基于数据处理的除草任务路径规划装置的流程示意图；图4是本发明根据一示例实施例示出的电子设备的结构示意图。通过上述附图，已示出本申请明确的实施例，后文中将有更详细的描述。这些附图和文字描述并不是为了通过任何方式限制本申请构思的范围，而是通过参考特定实施例为本领域技术人员说明本申请的概念。具体实施方式这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本申请相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本申请的一些方面相一致的装置和方法的例子。随着我国城镇化发展，对于社会公共区域的除草所面临的两大问题：一是从事农业劳动的人员不断减少，用于除草的人力成本不断上升；二是环境保护意识不断提，各地对除草剂使用量的限制程度不断增加。而人工智能技术、机器人技术的出现为解决以上问题提供了有效途径。现有的物理除草机器人系统，可以用于有效地对大面积区域进行除草工作。具体的，现有的除草机器人通常是基于固定路线进行运动，在运动地过程中通过除草机器人的机器视觉进行避障与调整。但是，上述基于固定路线进行运动以及根据机器视觉进行调整的方式，仅仅只能实现除草机器人的避障功能，而无法有效地进行路线整体规划调整，进而难以满足公园、社区等复杂场景的除草需求。具体的，由于复杂场景中的障碍物是动态变化的，除固定障碍物外，还会有临时障碍物，例如，临时停靠的车辆、堆放的货物，当除草机器人仅仅利用现有基于固定路线进行运动时，可能当前障碍物的分布情况已经与设置该固定路线时，发生了很大的变化。而在这种情况下，继续利用固定路线运动时，后续虽然可以利用机器视觉进行避障，但是，频繁的避障就会浪费除草机器人大量的工作时间，严重影响除草机器人的工作效率。为了解决上述问题，本申请提供的实施例，通过无人机获取目标区域的初始整体图像，并根据预设目标识别模型识别出整体图像中的各类目标对象，再根据固定障碍物对应的第一位置数据、待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，而当除草机器人根据预规划路线运动至预警位置时，无人机再次获取目标区域的修正整体图像，并根据修正整体图像中的临时障碍物对预规划路线进行调整，生成修正规划路线，以使除草机器人根据修正规划路线继续完成除草任务。可见，本实施例提供的方法既可以通过初始整体图像确定预规划路线，以满足复杂场景下障碍物变化下的整体路线规划需求，还可以通过根据修正整体图像生成修正规划路线，以满足复杂场景下临时障碍物动态变化后的局部路线调整需求。进而能够有效地提高除草机器人的路线规划合理性和适应性，以更好地满足复杂场景下的除草需求。图1是本申请根据一示例实施例示出的基于数据处理的除草任务路径规划方法的流程示意图。如图1所示，本实施例提供的基于数据处理的除草任务路径规划方法，包括：S101、通过无人机获取目标区域的初始整体图像。当触发除草任务时，先通过无人机获取目标区域的初始整体图像，其中，目标区域对应除草任务中的待除草范围，例如，社区、公园等的初始整体图像。可选的，若目标区域范围较大，则可以先通过多台无人机分别获取部分图像的方式，再将各个部分图像进行图像拼接，以生成目标区域的初始整体图像。此外，对于存在目标区域中存在遮挡的区域，例如，公园草坪中的固定天幕会对部分草坪进行遮挡，对于此类范围，由于均为固定遮挡范围，因此，可以将初始整体图像中该部分对应的范围自动添加入待除草范围即可。S102、根据预设目标识别模型识别出整体图像中的各类目标对象。在获取到目标区域的初始整体图像之后，可以根据预设目标识别模型识别出整体图像中的各类目标对象，目标对象为固定障碍物、临时障碍物以及待除草区域中的至少一类。其中，目标识别模型可以根据各个场景的中常见出现的各类障碍物进行训练。而所识别出的固定障碍物可以是固定的柱子、临时障碍物可以是临时停靠的车辆、待除草区域即为需进行除草作业的草坪。S103、根据固定障碍物对应的第一位置数据、待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线。在本步骤中，可以根据固定障碍物对应的第一位置数据、待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，其中，预规划路线的起始路段中不包括临时障碍物，起始路段为预规划路线中的前预设距离对应的路段。值得说明的，上述的预设路线规划模型可以是基于PREC算法的路径规划或其他全区域覆盖路径算法，在本实施例中不作具体限定。S104、当除草机器人根据预规划路线运动至预警位置时，无人机再次获取目标区域的修正整体图像。当除草机器人根据预规划路线运动至预警位置时，无人机再次获取目标区域的修正整体图像，其中，当除草机器人位于预警位置时，与初始整体图像中的临时障碍物之间的距离满足预设条件。可以理解的，预警位置为除草机器人与临时障碍物之间距离小于或等于预设距离时，该除草机器人所处的位置，即当除草机器人位于预警位置时，除草机器人与初始整体图像中的临时障碍物之间的距离小于或等于预设距离。S105、根据修正整体图像中的临时障碍物对预规划路线进行调整，生成修正规划路线。S106、除草机器人根据修正规划路线继续完成除草任务。在S105- S106中，根据修正整体图像中的临时障碍物对预规划路线进行调整，生成修正规划路线，以使除草机器人根据修正规划路线继续完成除草任务。在本实施例中，通过无人机获取目标区域的初始整体图像，并根据预设目标识别模型识别出整体图像中的各类目标对象，再根据固定障碍物对应的第一位置数据、待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，而当除草机器人根据预规划路线运动至预警位置时，无人机再次获取目标区域的修正整体图像，并根据修正整体图像中的临时障碍物对预规划路线进行调整，生成修正规划路线，以使除草机器人根据修正规划路线继续完成除草任务。可见，本实施例提供的方法既可以通过初始整体图像确定预规划路线，以满足复杂场景下障碍物变化下的整体路线规划需求，还可以通过根据修正整体图像生成修正规划路线，以满足复杂场景下临时障碍物动态变化后的局部路线调整需求。进而能够有效地提高除草机器人的路线规划合理性和适应性，以更好地满足复杂场景下的除草需求。图2是本申请根据一示例实施例示出的S105的流程示意图。如图2所示，本实施例提供的基于数据处理的除草任务路径规划方法中的S105，包括：S1051、对运动障碍物进行目标位置预测，以确定运动障碍物在预设时长后的位置集合。若待除草范围内存在运动障碍物，则所识别出的临时障碍物包括运动障碍物。其中，运动障碍物可以是运动的车辆、另一除草机器人、草料回收机器人等。具体的，可以是对运动障碍物进行目标位置预测，以确定运动障碍物在预设时长后的位置集合，其中，位置集合包括多个位置数据，多个位置数据中的各个位置数据对应不同的目标位置预测算法进行确定的位置，预设时长为除草机器人运动至危险区域的时长。而上述危险区域为以运动障碍物当前位置为中心，以运动障碍物在预设时长内的预测运动直线距离为半径所确定的扇形，扇形的展开方向与运动障碍物的运动方向之间的夹角在预设夹角范围之内，其中，扇形的展开方向为从扇形对应的圆心指向扇形对应的弧中点的矢量方向。可选的，上述扇形的角度还可以是与运动障碍物的运动速度成正相关，其中，预设夹角范围根据运动障碍物的运动方向以及运动障碍物当前所运动的路线的轮廓线进行确定。可以理解的，当运动障碍物的运动速度越快时，其对应的危险程度越高，因此，对应越大的扇形角度。此外，当运动障碍物运动在相应的路线上时，运动障碍物的运动方向以及运动障碍物当前所运动的路线的轮廓线所形成的夹角可以用于表征运动障碍物偏离当前路线的运动意图，而将扇形的展开方向与运动障碍物的运动方向之间的夹角在预设夹角范围之内，既可以有效地保证运动障碍物继续运动在该路线上的安全性，也可以有效地保证运动障碍物偏离该路线后的安全性。S1052、根据位置集合对预规划路线进行调整，以生成修正规划路线。具体的，在本步骤中，可以是获取运动障碍物在预设时长内的历史位置数据，历史位置数据包括预设时长内各个时刻下的位置数据，根据历史位置数据以及第一目标位置预测算法确定第一位置数据，根据历史位置数据以及第二目标位置预测算法确定第二位置数据，根据历史位置数据以及第三目标位置预测算法确定第三位置数据。值得说明的，第一目标位置预测算法、第二目标位置预测算法、第三目标位置预测算法可以是完全不同的算法，例如，可以是基于线性高斯系统的跟踪算法，或者是目标运动趋势预测跟踪算法，在本实施例中不做具体限定。其中，在一种可能的实现方式中，可以是基于神经网络模型的目标位置预测算法。具体的，可以是根据历史位置数据以及第一目标位置预测算法说对应的神经网络模型，其中，历史位置数据包括预设时长内的视频数据，视频数据包括N帧RGB3通道的图像；将N帧RGB3通道的图像和预设时长组合为4通道的N×H×W大小的立体，其中，H为图片的长，W为图片的宽；将4通道的N×H×W大小的立体输入至3D深度卷积残差网络，提取特征，输出不同尺度的特征图，并利用预设特征金字塔对不同尺度的特征进行融合，以得到2D多通道的特征图；根据2D多通道的特征图，对待预测层中的位置进行预测，并将图像上的位置转化为坐标，以得到第一位置数据。在确定第一位置数据、第二位置数据以及第三位置数据之后，根据公式1确定初始回避区域：公式1：其中，；；；为运动障碍物的类型与第一目标位置预测算法之间的预设关联函数，为运动障碍物的类型与第二目标位置预测算法之间的预设关联函数，为运动障碍物的类型与第三目标位置预测算法之间的预设关联函数，A为运动障碍物的类型，为预设半径值,S1、S2、S3分别为第一区域、第二区域以及第三区域，、、分别为第一区域、第二区域以及第三区域的半径，初始回避区域为第一区域、第二区域以及第三区域的并集，为初始回避区域的任意点坐标；对初始回避区域划分网格，最小网格的边界尺寸根据公式2进行确定：公式2：其中，d为最小网格的边界尺寸，为运动障碍物在预设时长内的速度函数，为运动障碍物在预设时长内的运动方向变化函数，为第一权重，为第二权重，为预设时间间隔；根据公式3确定划分后的各个网格的规避权重：公式3：其中，为网格边界点与S1、S2、S3之间的位置关系函数，、、、为常数；根据初始回避区域中各个网格的规避权重对预规划路线进行调整，生成修正规划路线。在一种可能的设计中，若第一网格的规避权重大于或等于第一预设阈值，则修正规划路线与第一网格之间的最短距离大于预设距离阈值；若第二网格的规避权重大于或等于第二预设阈值，且小于第一预设阈值，则修正规划路线避开第二网格对应的区域；若第三网格的规避权重小于第二预设阈值，则判断第三网格是否落入扇形；若判断结果为是，则修正规划路线避开第三网格对应的区域；若判断结果为否，则当在满足预设规划条件时，将第三网格对应的区域规划入修正规划路线。此外，在另一种可能的实现方式中，在获取运动障碍物在预设时长内的历史位置数据之后，还可以根据历史位置数据中各对相邻的两个位置坐标数据确定运动矢量序列，然后，根据修正整体图像确定运动障碍物所在当前路径的边界线。若运动矢量序列的角度变化率与边界线的对应的角度变化率之间的偏差小于预设偏差，且运动障碍物距离当前路径的变化点距离大于预设安全距离，则修正规划路线避开当前路径的当前路段，其中，当前路段为运动障碍物当前位置至预测位置之间的路段，预测位置根据当前位置与预设安全距离进行确定，预设安全距离根据运动障碍物的运动速度以及预设时长进行确定，变化点包括：当前路径的拐点以及交汇点。在本实现方式中，可以是通过确定运动矢量序列的角度变化率与边界线的对应的角度变化率之间的偏差小于预设偏差，且运动障碍物距离当前路径的变化点距离大于预设安全距离时，运动障碍物始终是运动在当前路径上，并且在所预测的时长之后，依旧运动在当前路径上，从而利用该特征增加此类运动障碍物的位置预测可靠性，进而提高修正规划路线的合理性。图3是本申请根据一示例实施例示出的基于数据处理的除草任务路径规划装置的流程示意图。如图3所示，本实施例提供的基于数据处理的除草任务路径规划装置300，包括：获取模块301，用于获取目标区域的初始整体图像，所述目标区域对应所述除草任务中的待除草范围，并根据预设目标识别模型识别出所述整体图像中的各类目标对象，所述目标对象为固定障碍物、临时障碍物以及待除草区域中的至少一类；处理模块302，用于根据所述固定障碍物对应的第一位置数据、所述待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，其中，所述预规划路线的起始路段中不包括所述临时障碍物，所述起始路段为所述预规划路线中的前预设距离对应的路段；所述获取模块301，还用于当所述除草机器人根据所述预规划路线运动至预警位置时，再次获取所述目标区域的修正整体图像，其中，当所述除草机器人位于所述预警位置时，与所述初始整体图像中的所述临时障碍物之间的距离满足预设条件；规划模块303，用于根据所述修正整体图像中的所述临时障碍物对所述预规划路线进行调整，生成修正规划路线，以使所述除草机器人根据所述修正规划路线继续完成所述除草任务。可选的，若所述待除草范围内存在运动障碍物，则所识别出的所述临时障碍物包括所述运动障碍物；所述规划模块303，具体用于：对所述运动障碍物进行目标位置预测，以确定所述运动障碍物在预设时长后的位置集合，所述位置集合包括多个位置数据，所述多个位置数据中的各个位置数据对应不同的目标位置预测算法进行确定的位置，所述预设时长为所述除草机器人运动至危险区域的时长；所述危险区域为以所述运动障碍物当前位置为中心，以所述运动障碍物在所述预设时长内的预测运动直线距离为半径所确定的扇形，所述扇形的展开方向与所述运动障碍物的运动方向之间的夹角在预设夹角范围之内；根据所述位置集合对所述预规划路线进行调整，以生成所述修正规划路线，其中，所述修正规划路线与所述位置集合相互不干涉。可选的，所述扇形的角度与所述运动障碍物的运动速度成正相关，所述预设夹角范围根据所述运动障碍物的运动方向以及所述运动障碍物当前所运动的路线的轮廓线进行确定。可选的，所述规划模块303，具体用于：获取所述运动障碍物在预设时长内的历史位置数据，所述历史位置数据包括所述预设时长内各个时刻下的位置数据，根据所述历史位置数据以及第一目标位置预测算法确定第一位置数据，根据所述历史位置数据以及第二目标位置预测算法确定第二位置数据，根据所述历史位置数据以及第三目标位置预测算法确定第三位置数据；根据公式1确定初始回避区域：公式1：其中，；；；为所述运动障碍物的类型与所述第一目标位置预测算法之间的预设关联函数，为所述运动障碍物的类型与所述第二目标位置预测算法之间的预设关联函数，为所述运动障碍物的类型与所述第三目标位置预测算法之间的预设关联函数，A为所述运动障碍物的类型，为预设半径值,S1、S2、S3分别为第一区域、第二区域以及第三区域，、、分别为所述第一区域、所述第二区域以及所述第三区域的半径，所述初始回避区域为所述第一区域、所述第二区域以及所述第三区域的并集；对所述初始回避区域划分网格，最小网格的边界尺寸根据公式2进行确定：公式2：其中，d为最小网格的边界尺寸，为所述运动障碍物在所述预设时长内的速度函数，为所述运动障碍物在所述预设时长内的运动方向变化函数，为第一权重，为第二权重，为预设时间间隔；根据公式3确定划分后的各个网格的规避权重：公式3：其中，为网格边界点与S1、S2、S3之间的位置关系函数，、、、为常数；根据所述初始回避区域中各个网格的所述规避权重对所述预规划路线进行调整，生成修正规划路线。可选的，所述规划模块303，具体用于：若第一网格的所述规避权重大于或等于第一预设阈值，则规划所述修正规划路线与所述第一网格之间的最短距离大于预设距离阈值；若第二网格的所述规避权重大于或等于第二预设阈值，且小于所述第一预设阈值，则规划所述修正规划路线避开所述第二网格对应的区域；若第三网格的所述规避权重小于所述第二预设阈值，则判断所述第三网格是否落入所述扇形；若判断结果为是，则规划所述修正规划路线避开所述第三网格对应的区域；若判断结果为否，则当在满足预设规划条件时，规划将所述第三网格对应的区域规划入所述修正规划路线。可选的，所述规划模块303，还具体用于：根据所述历史位置数据中各对相邻的两个位置坐标数据确定运动矢量序列；根据所述修正整体图像确定所述运动障碍物所在当前路径的边界线；若所述运动矢量序列的角度变化率与所述边界线的对应的角度变化率之间的偏差小于预设偏差，且所述运动障碍物距离所述当前路径的变化点距离大于预设安全距离，则所述修正规划路线避开所述当前路径的当前路段，所述当前路段为所述运动障碍物当前位置至预测位置之间的路段，所述预测位置根据所述当前位置与所述预设安全距离进行确定，所述预设安全距离根据所述运动障碍物的运动速度以及所述预设时长进行确定，所述变化点包括：所述当前路径的拐点以及交汇点。可选的，所述规划模块303，还具体用于：根据所述历史位置数据以及所述第一目标位置预测算法说对应的神经网络模型，其中，所述历史位置数据包括所述预设时长内的视频数据，所述视频数据包括N帧RGB3通道的图像；将所述N帧RGB3通道的图像和所述预设时长组合为4通道的N×H×W大小的立体，其中，H为图片的长，W为图片的宽；将所述4通道的N×H×W大小的立体输入至3D深度卷积残差网络，提取特征，输出不同尺度的特征图，并利用预设特征金字塔对不同尺度的特征进行融合，以得到2D多通道的特征图；根据所述2D多通道的特征图，对待预测层中的位置进行预测，并将图像上的位置转化为坐标，以得到所述第一位置数据。在本实施例中，通过无人机获取目标区域的初始整体图像，并根据预设目标识别模型识别出整体图像中的各类目标对象，再根据固定障碍物对应的第一位置数据、待除草区域对应的第二位置数据以及预设路线规划模型确定预规划路线，而当除草机器人根据预规划路线运动至预警位置时，无人机再次获取目标区域的修正整体图像，并根据修正整体图像中的临时障碍物对预规划路线进行调整，生成修正规划路线，以使除草机器人根据修正规划路线继续完成除草任务。可见，本实施例提供的方法既可以通过初始整体图像确定预规划路线，以满足复杂场景下障碍物变化下的整体路线规划需求，还可以通过根据修正整体图像生成修正规划路线，以满足复杂场景下临时障碍物动态变化后的局部路线调整需求。进而能够有效地提高除草机器人的路线规划合理性和适应性，以更好地满足复杂场景下的除草需求。值得说明地，图3所示实施例提供的基于数据处理的除草任务路径规划装置，可用于执行上述图1-图2所示实施例提供的基于数据处理的除草任务路径规划方法，具体实现方式和技术效果类似，这里不再赘述。图4是本发明根据一示例实施例示出的电子设备的结构示意图。如图4所示，本实施例提供的一种电子设备400包括：处理器401以及存储器402；其中：存储器402，用于存储计算机程序，该存储器还可以是flash。处理器401，用于执行存储器存储的执行指令，以实现上述方法中的各个步骤。具体可以参见前面方法实施例中的相关描述。可选地，存储器402既可以是独立的，也可以跟处理器401集成在一起。当所述存储器402是独立于处理器401之外的器件时，所述电子设备400还可以包括：总线403，用于连接所述存储器402和处理器401。本实施例还提供一种可读存储介质，可读存储介质中存储有计算机程序，当电子设备的至少一个处理器执行该计算机程序时，电子设备执行上述的各种实施方式提供的方法。本实施例还提供一种程序产品，该程序产品包括计算机程序，该计算机程序存储在可读存储介质中。电子设备的至少一个处理器可以从可读存储介质读取该计算机程序，至少一个处理器执行该计算机程序使得电子设备实施上述的各种实施方式提供的方法。本领域技术人员在考虑说明书及实践这里公开的发明后，将容易想到本申请的其它实施方案。本申请旨在涵盖本申请的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本申请的一般性原理并包括本申请未公开的本技术领域中的公知常识或惯用技术手段。说明书和实施例仅被视为示例性的，本申请的真正范围和精神由下面的权利要求书指出。应当理解的是，本申请并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。本申请的范围仅由所附的权利要求书来限制。
