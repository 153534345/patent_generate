标题title
BIM项目信息联动实现方法和装置
摘要abst
本申请提供一种BIM项目信息联动实现方法和装置，设计建筑BIM模型中项目信息的共享参数并生成参数中间文件，将共享参数添加至项目文件中作为项目参数、图框族中作为标签，将所属同一层级各专业的共享参数对应的标签放置在图框族的相同位置并重叠放置。为各专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制显示控制参数来控制对应标签的可见性。将图框族载入项目文件，基于参数中间文件将项目文件和图框族进行信息联动。本方案中，在项目文件和图框族中添加和应用共享参数，并实现两者之间的信息联动设置，可满足建筑设计实践的需求。且可基于专业码实现过滤多余专业项目信息、显示所需专业项目信息的效果，便捷且高效。
权利要求书clms
1.一种BIM项目信息联动实现方法，其特征在于，所述方法包括：定义并设计建筑BIM模型中项目信息的共享参数，并基于所述共享参数生成参数中间文件，所述共享参数包括多个专业的共享参数，各所述专业下的共享参数包括多个层级的共享参数；将所述参数中间文件中的共享参数添加至项目文件中作为项目参数；将所述参数中间文件中的共享参数添加至图框族中作为标签，其中，所属同一层级的各专业的共享参数对应的标签放置在所述图框族的相同位置并重叠放置；为各所述专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制所述显示控制参数来控制对应专业的共享参数的标签的可见性；将添加有共享参数的图框族载入所述项目文件中，以基于所述参数中间文件将所述项目文件和所述图框族进行信息联动设置。2.根据权利要求1所述的BIM项目信息联动实现方法，其特征在于，所述方法还包括：基于Dynamo编程识别图纸的图纸图号，基于所述图纸图号为所述图纸设定对应的专业码参数，并将图纸图号与专业码参数的对应关系进行保存。3.根据权利要求1所述的BIM项目信息联动实现方法，其特征在于，所述为各所述专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制所述显示控制参数来控制对应专业的共享参数的标签的可见性的步骤，包括：在所述图框族处于编辑状态时，在创建面板栏下族类型对话框中添加各所述专业对应的显示控制参数项；在所述族类型对话框中添加专业码参数项，并定义所述专业码的形式，所述专业码为整数形式；通过公式，将各专业的显示控制参数与专业码参数进行关联；依次选择重叠放置的各专业的共享参数对应的标签，将所述标签的可见性关联至对应专业的显示控制参数。4.权利要求3所述的BIM项目信息联动实现方法，其特征在于，所述方法还包括：针对待生成图纸，获得所述待生成图纸的目标图纸图号；基于Dynamo编程，并根据保存的图纸图号与专业码参数的对应关系，获得所述目标图纸图号的专业码参数，以基于所述专业码参数将所述待生成图纸所需生成的信息所属的专业对应的标签进行显示，并将其他专业对应的标签进行隐藏。5.根据权利要求1所述的BIM项目信息联动实现方法，其特征在于，所述将添加有共享参数的图框族载入所述项目文件中的步骤，包括：将添加有共享参数的图框族设计为包含全专业项目信息的专用图框族；将所述专用图框族载入所述项目文件中，并在所述项目文件中基于所述专用图框族创建对应的专用图纸；将所述专用图纸设置为所述项目文件的启动视图，其中，所述启动视图为在所述项目文件打开时即启动的视图。6.根据权利要求1所述的BIM项目信息联动实现方法，其特征在于，所述基于所述共享参数生成参数中间文件的步骤，包括：基于预先发布的任一样板创建一空白中间文件；创建一与共享参数相关的参数组，以将所述共享参数归属于所述参数组；将归属于所述参数组的各个共享参数依次添加至所述空白中间文件中，以生成所述参数中间文件。7.根据权利要求6所述的BIM项目信息联动实现方法，其特征在于，所述将所述参数中间文件中的共享参数添加至项目文件中作为项目参数的步骤，包括：在项目文件中跳转至添加界面，并在所述添加界面中确定待添加的参数类型为共享参数类型；在所述添加界面选择所述参数中间文件中的任一共享参数，并确定所述任一共享参数所属的参数组，以将所述任一共享参数添加至所述项目文件中作为项目参数。8.根据权利要求1所述的BIM项目信息联动实现方法，其特征在于，所述将所述参数中间文件中的共享参数添加至图框族中作为标签的步骤，包括：基于已有的项目图纸或开启的图框族文件，进入族的编辑状态；将所述项目图纸或图框族文件的图签区域中原有的项目信息相关的参数标签删除；进入标签编辑状态，选择待添加的参数类型为共享参数类型；选择所述参数中间文件中的任一共享参数，将所述任一共享参数添加至图框族中并作为标签。9.根据权利要求1-8任意一项所述的BIM项目信息联动实现方法，其特征在于，所述方法还包括：将载入有所述图框族的项目文件生成项目样板文件；使用导航命令定位到所需的保存位置，将所述项目样板文件存储至所述保存位置，以用于后续提取所述项目样板文件进行项目设计。10.一种BIM项目信息联动实现装置，其特征在于，所述装置包括：定义模块，用于定义并设计建筑BIM模型中项目信息的共享参数，并基于所述共享参数生成参数中间文件，所述共享参数包括多个专业的共享参数，各所述专业下的共享参数包括多个层级的共享参数；第一添加模块，用于将所述参数中间文件中的共享参数添加至项目文件中作为项目参数；第二添加模块，用于将所述参数中间文件中的共享参数添加至图框族中作为标签，其中，所属同一层级的各专业的共享参数对应的标签放置在所述图框族的相同位置并重叠放置；设置模块，用于为各所述专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制所述显示控制参数来控制对应专业的共享参数的标签的可见性；载入模块，用于将添加有共享参数的图框族载入所述项目文件中，以基于所述参数中间文件将所述项目文件和所述图框族进行信息联动设置。
说明书desc
技术领域本申请涉及建筑工程信息化技术领域，具体而言，涉及一种BIM项目信息联动实现方法和装置。背景技术近年来，建筑设计行业正逐步从传统的使用二维技术转变为使用BIM三维技术，并对作为BIM三维设计的主要软件Revit进行若干探索。“项目信息”是指全项目统一设置，相对稳定的常用信息，其值与项目模型构件属性无关，大多是人为定义的文字类信息。其值常展示在项目图纸图签中。在Revit中，可使用任意官方项目样板建立一个新设计文件。此设计文件中，输入项目信息的方式可以是在项目信息对话框中进行信息输入，也可以是在新建或新开启的图纸中，在图纸图签中的项目信息位置直接输入。然而，目前建筑设计行业常见的项目信息数量众多，项目信息对话框中输入的方式中，Revit官方项目样板项目信息设置不能完成满足建筑设计实践全部需求。对于没有对应项的项目信息，设计人员只能通过在图签中使用纯文字输入的方法逐张图纸和逐个信息进行输入，效率低下且不利于项目信息的统一管理。发明内容本申请的目的包括，例如，提供了一种BIM项目信息联动实现方法和装置，其能够在满足建筑设计实践需求的基础上实现项目文件和图框族之间的信息联动且便捷、高效地实现项目创建。本申请的实施例可以这样实现：第一方面，本申请提供一种基于Dynamo的BIM信息联动实现方法，所述方法包括：定义并设计建筑BIM模型中项目信息的共享参数，并基于所述共享参数生成参数中间文件，所述共享参数包括多个专业的共享参数，各所述专业下的共享参数包括多个层级的共享参数；将所述参数中间文件中的共享参数添加至项目文件中作为项目参数；将所述参数中间文件中的共享参数添加至图框族中作为标签，其中，所属同一层级的各专业的共享参数对应的标签放置在所述图框族的相同位置并重叠放置；为各所述专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制所述显示控制参数来控制对应专业的共享参数的标签的可见性；将添加有共享参数的图框族载入所述项目文件中，以基于所述参数中间文件将所述项目文件和所述图框族进行信息联动设置。在可选的实施方式中，BIM项目信息联动实现方法还可以包括：基于Dynamo编程识别图纸的图纸图号，基于所述图纸图号为所述图纸设定对应的专业码参数，并将图纸图号与专业码参数的对应关系进行保存。在可选的实施方式中，所述为各所述专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制所述显示控制参数来控制对应专业的共享参数的标签的可见性的步骤，包括：在所述图框族处于编辑状态时，在创建面板栏下族类型对话框中添加各所述专业对应的显示控制参数项；在所述族类型对话框中添加专业码参数项，并定义所述专业码的形式，所述专业码为整数形式；通过公式，将各专业的显示控制参数与专业码参数进行关联；依次选择重叠放置的各专业的共享参数对应的标签，将所述标签的可见性关联至对应专业的显示控制参数。在可选的实施方式中，所述方法还包括：针对待生成图纸，获得所述待生成图纸的目标图纸图号；基于Dynamo编程，并根据保存的图纸图号与专业码参数的对应关系，获得所述目标图纸图号的专业码参数，以基于所述专业码参数将所述待生成图纸所需生成的信息所属的专业对应的标签进行显示，并将其他专业对应的标签进行隐藏。在可选的实施方式中，所述将添加有共享参数的图框族载入所述项目文件中的步骤，包括：将添加有共享参数的图框族设计为包含全专业项目信息的专用图框族；将所述专用图框族载入所述项目文件中，并在所述项目文件中基于所述专用图框族创建对应的专用图纸；将所述专用图纸设置为所述项目文件的启动视图，其中，所述启动视图为在所述项目文件打开时即启动的视图。在可选的实施方式中，所述基于所述共享参数生成参数中间文件的步骤，包括：基于预先发布的任一样板创建一空白中间文件；创建一与共享参数相关的参数组，以将所述共享参数归属于所述参数组；将归属于所述参数组的各个共享参数依次添加至所述空白中间文件中，以生成所述参数中间文件。在可选的实施方式中，所述将所述参数中间文件中的共享参数添加至项目文件中作为项目参数的步骤，包括：在项目文件中跳转至添加界面，并在所述添加界面中确定待添加的参数类型为共享参数类型；在所述添加界面选择所述参数中间文件中的任一共享参数，并确定所述任一共享参数所属的参数组，以将所述任一共享参数添加至所述项目文件中作为项目参数。在可选的实施方式中，所述将所述参数中间文件中的共享参数添加至图框族中作为标签的步骤，包括：基于已有的项目图纸或开启的图框族文件，进入族的编辑状态；将所述项目图纸或图框族文件的图签区域中原有的项目信息相关的参数标签删除；进入标签编辑状态，选择待添加的参数类型为共享参数类型；选择所述参数中间文件中的任一共享参数，将所述任一共享参数添加至图框族中并作为标签。在可选的实施方式中，所述方法还包括：将载入有所述图框族的项目文件生成项目样板文件；使用导航命令定位到所需的保存位置，将所述项目样板文件存储至所述保存位置，以用于后续提取所述项目样板文件进行项目设计。第二方面，本申请提供一种BIM项目信息联动实现装置，所述装置包括：定义模块，用于定义并设计建筑BIM模型中项目信息的共享参数，并基于所述共享参数生成参数中间文件，所述共享参数包括多个专业的共享参数，各所述专业下的共享参数包括多个层级的共享参数；第一添加模块，用于将所述参数中间文件中的共享参数添加至项目文件中作为项目参数；第二添加模块，用于将所述参数中间文件中的共享参数添加至图框族中作为标签，其中，所属同一层级的各专业的共享参数对应的标签放置在所述图框族的相同位置并重叠放置；设置模块，用于为各所述专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制所述显示控制参数来控制对应专业的共享参数的标签的可见性；载入模块，用于将添加有共享参数的图框族载入所述项目文件中，以基于所述参数中间文件将所述项目文件和所述图框族进行信息联动设置。本申请实施例的有益效果包括，例如：本申请提供一种BIM项目信息联动实现方法和装置，通过定义并设计建筑BIM模型中项目信息的共享参数并生成参数中间文件，将参数中间文件中的共享参数分别添加至项目文件中作为项目参数、图框族中作为标签，其中，将所属同一层级的各专业的共享参数对应的标签放置在图框族的相同位置并重叠放置。为各专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制显示控制参数来控制对应专业的共享参数的标签的可见性。将添加有共享参数的图框族载入项目文件中，以基于参数中间文件将项目文件和图框族进行信息联动设置。本方案中，可基于需求设计共享参数，在项目文件和图框族中添加和应用共享参数，并实现两者之间的信息联动设置，可满足建筑设计实践的需求，且使用显隐的专业码参数设置，可基于专业码参数实现过滤多余专业项目信息、显示所需专业项目信息的效果，便捷且高效。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为项目文件信息输入界面示意图；图2为图纸图签信息输入界面示意图；图3为本申请实施例提供的BIM项目信息联动实现方法的流程图；图4为图3中步骤S11包含的子步骤的流程图；图5为添加共享参数生成参数中间文件的示意图；图6为项目文件和图框族之间信息联动的示意图；图7为图3中步骤S12包含的子步骤的流程图；图8为添加共享参数至项目文件后的示意图；图9为图3中步骤S13包含的子步骤的流程图；图10为图纸图签中删除参数标签前的示意图；图11为图纸图签中删除参数标签后的示意图；图12为添加共享参数至图框族中作为标签的示意图；图13为同级共享参数对应的标签重叠放置的示意图；图14为图3中步骤S14包含的子步骤的流程图；图15为基于专业码参数进行显示控制的示意图；图16为本申请实施例提供的显示控制方法的流程图；图17为项目文件和图框族之间信息联动测试结果的示意图；图18为图3中步骤S15包含的子步骤的流程图；图19为本申请实施例提供的存储方法的流程图；图20为本申请实施例提供的BIM项目信息联动实现方法的整体流程示意图；图21为本申请实施例提供的电子设备的结构框图；图22为本申请实施例提供的BIM项目信息联动实现装置的功能模块框图。图标：110-存储介质；120-处理器；130-BIM项目信息联动实现装置；131-定义模块；132-第一添加模块；133-第二添加模块；134-设置模块；135-载入模块；140-通信接口。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本申请实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本申请的实施例的详细描述并非旨在限制要求保护的本申请的范围，而是仅仅表示本申请的选定实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。此外，若出现术语“第一”、“第二”等仅用于区分描述，而不能理解为指示或暗示相对重要性。需要说明的是，在不冲突的情况下，本申请的实施例中的特征可以相互结合。在Revit中，可使用任意官方项目样板建立一个新设计文件，在该设计文件中，输入项目信息的方式可如图1中所示，在弹出的项目信息对话框中进行输入。或者参见图2所示，在新建或新打开的图纸中，在图纸图签中的项目信息位置直接输入。而在目前建筑设计实践中，全专业的常见的项目信息内容具有几十项，例如表1中所示。表1 建筑实际实践中常见的项目信息表对比图1和表1中所示可知，图1中项目信息可输入项很少，未能覆盖表1中的所有内容，也即Revit官方项目样板项目信息设置不满足建筑设计实践全部需求。而对于没有对应项的项目信息，设计人员只能通过在图签中使用纯文字输入的方法逐张图纸和逐个信息进行输入。此外，现有的处理方式还存在诸多缺点，例如在项目信息对话框中进行输入的方式，输入界面对大部分设计人员较为陌生，存在输入效率较低的问题。而在图纸图签中输入的方式，各图签可能只展示部分或者部分专业的项目信息，可能出现项目信息输入的遗漏。对于图纸图签中使用纯文字来输入项目信息的方式，既不利于项目信息的统一管理，也没有把BIM信息联动的优势充分利用起来。基于上述研究发现，本申请提供一种BIM项目信息联动实现方案，该方案可基于需求设计共享参数，在项目文件和图框族中添加和应用共享参数，并实现两者之间的信息联动设置，可满足建筑设计实践需求。此外，使用显隐的专业码参数设置，可基于专业码参数实现过滤多余专业项目信息、显示所需专业项目信息的效果，便捷且高效。请参阅图3，为本申请实施例提供的BIM项目信息联动实现方法的流程图，该BIM项目信息联动实现方法有关的流程所定义的方法步骤可以由电子设备所实现，该电子设备可以是个人计算机、服务器等具备数据处理功能的设备。下面将对图 3所述的具体流程进行详细阐述。S11，定义并设计建筑BIM模型中项目信息的共享参数，并基于所述共享参数生成参数中间文件，所述共享参数包括多个专业的共享参数，各所述专业下的共享参数包括多个层级的共享参数。S12，将所述参数中间文件中的共享参数添加至项目文件中作为项目参数。S13，将所述参数中间文件中的共享参数添加至图框族中作为标签，其中，所属同一层级的各专业的共享参数对应的标签放置在所述图框族的相同位置并重叠放置。S14，为各所述专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制所述显示控制参数来控制对应专业的共享参数的标签的可见性。S15，将添加有共享参数的图框族载入所述项目文件中，以基于所述参数中间文件将所述项目文件和所述图框族进行信息联动设置。本实施例中，可以根据建筑设计实践需求自定义并设计建筑BIM模型中项目信息的共享参数，例如，自定义的共享参数可以包括我国建筑设计行业常见的所有项目信息，如表1中所示的项目信息。可以对如表1中所示的项目信息进行参数格式化策划，即对项目信息各项名称进行优化，使其成为易于计算机分类、排序、检索的名称，且自定义的共享参数的名称不可相同，以避免出现处理混乱的问题。最终设计得到的共享参数可如表2中所示。表2 建筑实际实践中优化后的项目信息表需要说明的是，表2中示出的共享参数具体的参数名称仅为示例，在实际应用时，可基于需求进行相应设置，本实施例对此不作具体限制。如表2中所示，共享参数包括多个专业的共享参数，例如包括建筑、结构、给排水、暖通、电、弱电等。并且，各个专业下的共享参数包括多个层级的共享参数，以建筑为例，不同行的共享参数所属不同层级。从多个专业的角度来看，则不同专业的处于同一行的共享参数则属于同一个层级。在设计得到上述共享参数的基础上，可基于共享参数生成参数中间文件。该参数中间文件可以作为项目文件和图框族的参数来源，并作为两者之间信息联动的媒介。本实施例中，可以将参数中间文件中的共享参数分别添加至项目文件中和图框族中，共享参数添加至项目文件中作为项目参数，添加至图框族中的共享参数可作为图框族中的标签。由于图框族中的展示位置有限，而建筑设计项目信息数量众多，如何便捷且高效地实现共享参数在图框族中的添加以及后续的展示十分重要。本实施例中，为了解决上述问题，通过将所属同一层级的各专业的共享参数对应的标签放置在图框族的相同位置并重叠放置。并且，各个专业的共享参数对应的标签有显示控制参数，此外，还设置有专业码参数，可利用专业码参数通过控制显示控制参数来控制对应专业的共享参数的标签的可见性。如此，在成功地将共享参数添加至图框族的基础上，基于专业码参数来实现基于需求的显隐控制，便捷且高效。在上述基础上，图框族作为可载入族，基于关联命令，可以将添加有共享参数的图框族载入项目文件中，如此，两者可实现信息联动。也即，无论更新项目文件中的项目信息对话框，还是更新图框族中图纸图签中哪一侧的内容，另一侧与其对应的内容会自动更新。本实施例提供的BIM项目信息联动实现方案，可基于需求自定义并设计共享参数，例如自定义包括建筑全专业相关的项目信息的共享参数，并在项目文件和图框族中添加和应用共享参数，实现项目文件和图框族两者之间的信息联动设置，可满足建筑设计实践的需求。此外，使用控制显隐的专业码参数设置，可基于专业码参数实现过滤多余专业项目信息、显示所需专业项目信息的效果，便捷且高效。由上述可知，本实施例中，在自定义共享参数后，基于共享参数生成参数中间文件，以该参数中间文件作为项目文件和图框族的媒介。请参阅图4，生成参数中间文件的实现步骤可包括以下子步骤：S111，基于预先发布的任一样板创建一空白中间文件。S112，创建一与共享参数相关的参数组，以将所述共享参数归属于所述参数组。S113，将归属于所述参数组的各个共享参数依次添加至所述空白中间文件中，以生成所述参数中间文件。本实施例中，将自定义的共享参数添加到Revit项目中。可使用Revit官方发布的任一样板建立一个新设计文件，作为空白中间文件。例如，该空白中间文件的名称可为“共享参数.txt”，该空白中间文件可保存在计算机中的任意位置。为了便于对共享参数的统一管理，可使用新建命令，创建一与共享参数相关的参数组，例如，可在新参数组中建立“项目信息组”，以将共享参数归属在该“项目信息组”的参数组中。接着可以依次添加各个共享参数至空白中间文件中，添加完成的空白中间文件即为参数中间文件。例如，在“参数”栏下采用新建命令，在弹出的“参数属性”对话框中，名称项中输入如上述表2中的“PI项信-设计项目名”，在规程项中选择公共类型，在参数类型项中选择文字类型，从而以将自定义共享参数“PI项信-设计项目名”添加至空白中间文件“共享参数.txt”中。按照上述方式，依次将其他的共享参数添加到空白中间文件“共享参数.txt”中。添加完成共享参数以生成参数中间文件，在Revit中添加完成共享参数后示意效果可如图5中所示。Revit中，日常设计使用的文件为项目文件，后缀为.rvt。图框属于可载入族，后缀为.rfa，两者皆可独立存储到计算机中 。“共享参数.txt” 作为中间文件，可以使项目信息在项目文件和可载入图框族之间形成数据联动，如图6中所示。请参阅图7，本实施例中，将参数中间文件中的共享参数添加至项目文件中的步骤可包括以下子步骤：S121，在项目文件中跳转至添加界面，并在所述添加界面中确定待添加的参数类型为共享参数类型。S122，在所述添加界面选择所述参数中间文件中的任一共享参数，并确定所述任一共享参数所属的参数组，以将所述任一共享参数添加至所述项目文件中作为项目参数。本实施例中，在项目文件中，可在“项目参数”对话框中使用添加命令，在添加界面的参数类型项选择共享参数类型，可以基于需求选择参数中间文件中的任一共享参数添加至项目文件中作为项目参数。例如，在弹出的共享参数对话框中选择如表2中的“PI项信-设计项目名”，并确定所属的参数组“项目信息”参数组，执行添加命令，则可以将表2中的项目信息“设计项目名”的自定义的共享参数添加至项目文件中。按照上述方式重复操作，则可以将参数中间文件“共享参数.txt”中其他的共享参数全部添加至项目文件中。在Revit中，添加完成所有共享参数的项目文件其对应的示意效果如图8中所示。此外，请参阅图9，将参数中间文件中的共享参数添加至图框族中作为标签的步骤可包括以下子步骤：S131，基于已有的项目图纸或开启的图框族文件，进入族的编辑状态。S132，将所述项目图纸或图框族文件的图签区域中原有的项目信息相关的参数标签删除。S133，进入标签编辑状态，选择待添加的参数类型为共享参数类型。S134，选择所述参数中间文件中的任一共享参数，将所述任一共享参数添加至图框族中并作为标签。本实施例中，在Revit中，在项目图纸基于对图框的点击命令，或者是对图框族文件的开启命令，进入族的编辑状态。在图签区域删除所有项目信息相关的参数标签，如图10和图11所示，其中，图10为删除参数标签之前的示意效果，图11为删除参数标签后的示意效果。同样地，确定需要添加的参数类型为共享参数类型。使用创建命令进入标签的创建流程，在编辑标签对话框中，使用添加参数命令以添加参数中间文件中的任一共享参数。例如，在共享参数对话框中选择“PI项信-设计项目名”，将该项目信息对应的共享参数添加图框族中作为标签。如图12所示，为将“PI项信-设计项目名”项目信息对应的共享参数添加至图框族中并作为标签的展示效果。重复上述操作，可依次将“共享参数.txt”中剩余的其他共享参数全部添加到图框族中作为标签。其中，在将共享参数添加至图框族中作为标签的步骤中，需要将不同专业中属于同一层级的共享参数对应的标签放置在图框族的同一位置，并重叠放置，例如下述表3中的共享参数即为不同专业间所属同一层级的共享参数，如图13所示即为这些共享参数添加至图框族中后其重叠放置的标签的示意图。表3 所属同一层级的共享参数信息表考虑到采用上述的添加方式后，属于同一层级的标签重叠放置在图框族的同一位置上，用于项目时，这些共享参数的标签都会显示出内容，导致无法使用。基于此考虑，本实施例中，通过为各专业的共享参数的标签设置显示控制参数，并用专业码参数通过控制显示参数来控制对应专业的共享参数的标签的可见性。如此，后续具体需要某一个专业的信息时，可控制图框实现只显示该专业对应的标签，同时隐藏其他专业的标签的效果。请参阅图14，本实施例中，设置显示控制参数、专业码参数的步骤可包括以下子步骤：S141，在所述图框族处于编辑状态时，在创建面板栏下族类型对话框中添加各所述专业对应的显示控制参数项。S142，在所述族类型对话框中添加专业码参数项，并定义所述专业码的形式，所述专业码为整数形式。S143，通过公式，将各专业的显示控制参数与专业码参数进行关联。S144，依次选择重叠放置的各专业的共享参数对应的标签，将所述标签的可见性关联至对应专业的显示控制参数。在上述基础上，本实施例可从各专业的图纸的角度，对各个专业的图纸进行可见性的设置，具体地，还可包括以下步骤：基于Dynamo编程识别图纸的图纸图号，基于所述图纸图号为所述图纸设定对应的专业码参数，并将图纸图号与专业码参数的对应关系进行保存。本实施例中，在图框族处于编辑状态，在创建面板栏下弹出的族类型对话框中新建参数以添加“专业图纸”参数，规程可设置为公共类型，可选择“实例”参数。针对各个专业重复此操作，则可分别将多个专业对应参数电气图纸、弱电图纸等）进行添加。在此基础上，同样地在族类型对话框中使用创建命令进行专业码参数的设置，例如，可将规程设置为公共类型，将专业码的参数类型设置为整数类型，并选择“实例”参数。如此，可以将各专业图纸设置关联的专业码，例如，建筑图纸关联的专业码为1，结构图纸关联的专业码为2，给排水图纸关联的专业码为3，暖通图纸关联的专业码为4，电气图纸关联的专业码为5，弱电图纸关联的专业码为6。在进行标签与专业码的关联时，例如可依次选择重叠的同一层级的标签中的各个标签，如选择“PI项信-专负1建筑a”的标签。采用关联设置命令，在弹出的关联族参数对话框中，选择所添加的专业图纸，例如建筑图纸。如此，建筑专业所需的共享参数的标签的可见性即关联到了建筑图纸上，进而关联到了建筑图纸所关联的专业码上。重复上述操作，即可分别将重叠的各专业的标签的显隐属性关联到对应专业的专业图纸上，进而关联到同一专业下的专业码上。Revit中，图纸名称有两个字段：“编号”和“名称”。通过分析不同专业图纸编号特征，使用Dynamo编程，即可实现通过图纸编号，自动向每张图纸的图框赋予不同的“专业码”值。例如，常见的各专业图纸编号如表4中所示：表4 图纸编号表“A-”、“S-”、“P-”、“M-”、“E-”、“ES-”即为此6个专业的图纸编号特征，据此特征，即可使用Dynamo编程自动为图纸的图框指定“专业码”分别为：“1”、“2”、“3”、“4”、“5”、“6”。因此，基于各个专业的图纸的图纸编号，即可将图纸图号与专业码参数建立对应关系并保存。如此，通过向参数“专业码”输入专业码数值，即可控制对应的专业图纸相关的共享参数以及其他专业图纸相关的共享参数的显示或隐藏。重叠标签中需要显示哪一单专业的参数时，即可通过向参数“专业码”输入1-6中对应的整数来控制，例如图15中所示，可通过输入1、2来分别驱动建筑专业相关的信息和结构专业相关信息的显示。同时，控制其他专业的相关信息的隐藏。运行上述设计的Dynamo程序，所有图纸将被自动赋予对应的 “专业码”，进而实现项目信息的自动过滤显隐。本实施例中，可将此Dynamo编程存储待用。如此，各专业即可快速的使用Dynamo结合深化的图框族，快速从所有项目信息中过滤需要在图纸图框中显示的本专业相关项目信息。请参阅图16，在上述设置的基础上，在实际应用阶段，本实施例所提供的BIM项目信息联动实现方法还可包括以下步骤：S21，针对待生成图纸，获得所述待生成图纸的目标图纸图号。S22，基于Dynamo编程，并根据保存的图纸图号与专业码参数的对应关系，获得所述目标图纸图号的专业码参数，以基于所述专业码参数将所述待生成图纸所需生成的信息所属的专业对应的标签进行显示，并将其他专业对应的标签进行隐藏。基于预先配置的不同图纸编号与不同专业码参数之间的对应关系，确定待生成图纸所对应的目标图纸图号的专业码参数。本实施例中，在上述分别添加参数中间文件中的共享参数至项目文件和图框族，并且设置各专业对应的专业码的基础上，可将添加有共享参数的图框族载入项目文件，以基于参数中间文件将项目文件和图框族进行信息联动设置。本实施例中，可使用载入命令，在弹出的载入到项目的对话框中选择项目文件，以将图框族载入到项目文件，如此，在参数中间文件“共享参数.txt”的基础上，项目文件和图框族中分别添加的关于项目信息的自定义的共享参数就产生了联动关系。基于上述设置，在项目文件中，如采用设置命令以在弹出的项目信息对话框中输入项目信息，并采用测试命令启动测试的情况下，则图纸的图框图签中对应部分也将联动更新，如图17所示，也即，项目文件和图框族的项目信息联动建立成功。经过测试发现，Revit的项目信息仅可被图框族读取，即仅可以和图框族内信息联动，而Revit具有设置启动视图的功能，其中，视图、图纸、明细表等均可称为启动视图。也即，设置项目文件打开时显示某一特定场景。基于此考虑，本实施例中，在将添加有共享参数的图框族载入项目文件时，可对图像族进行优化设计以实现一种系统性的易用的输入环境。请参阅图18，可通过以下方式实现：S151，将添加有共享参数的图框族设计为包含全专业项目信息的专用图框族。S152，将所述专用图框族载入所述项目文件中，并在所述项目文件中基于所述专用图框族创建对应的专用图纸。S153，将所述专用图纸设置为所述项目文件的启动视图，其中，所述启动视图为在所述项目文件打开时即启动的视图。本实施例中，考虑到设计人员对于常规图框图签中的项目信息结果比较熟悉，因此，以此结果作为系统性地输入方式最为合适。本实施例中，可以在常规的图框族的基础上进行优化设置，例如仅保留图签部分，并加部分说明信息以制作形成专用图框族，并且，该专用图框族包括全专业项目信息，也即，我国建筑设计实践中所涉及到的项目信息，如表2中所示。可将上述设计的专用图框族存储并命名为“项目信息启动专用图框.rfa”并载入项目中。例如，可在项目文件中，使用图纸创建命令，在弹出的新建图纸对话框中，选择该专用图框族“项目信息启动专用图框”，如此，以创建包括项目信息启动专用图框族的专用图纸。本实施例中，还可对新创建的专用图纸进行重命名，包括编号命名和名称命名，例如编号命名可为“000”，名称命名可为“项目信息启动专用视图”。可使用启动设置命令，在弹出的启动视图对话框中选择所创建的专用图纸，例如“000–项目信息启动专用视图”，如此，可将专用图纸设置为项目文件的启动视图。在每次打开项目文件时，包括项目信息的启动视图即可打开，设计人员可查看或编辑项目信息，而这些项目信息与所有图框中的项目信息可联动。请参阅图19，本实施例中，在上述基础上， BIM项目信息联动实现方法还可包括以下步骤：S31，将载入有所述图框族的项目文件生成项目样板文件。S32，使用导航命令定位到所需的保存位置，将所述项目样板文件存储至所述保存位置，以用于后续提取所述项目样板文件进行项目设计。本实施例中，载入有图框族的项目文件的格式可为项目文件，该项目文件可生成项目样板文件。根据实际所需，可将该项目样板文件保存到所需的保存位置。如此，后续在需要使用该项目样板文件时，即可导航到该项目样板文件的保存位置，选择该项目样板文件，即可使用该项目样板文件进行项目设计。为了对本申请实施例所提供的BIM项目信息联动实现方法有更清楚的认识，以下结合图20所示，对该实现方法的整体流程进行介绍。本实施例中，首先执行参数策划流程，具体地，基于建筑实际实践中项目信息所需，例如，我国建筑设计中所需的项目信息策划自定义参数名。进而生成参数中间文件“共享参数.txt”。在Revit设置部分，将参数中间文件中的共享参数添加至图框族中，并且，将共享参数添加至Revit项目文件中。其中，添加至图框族中的共享参数包含“同级参数”，其中，“同级参数”对应的标签在图框族中重叠放置。因此，可深化Revit图框族，采用图纸专业码以过滤同级参数。并且，基于添加有共享参数的图框族，可将图框族设计为启动专用图框族。将深化处理的图框族以及设计的启动专用图框族载入项目文件中，并将启动专用图框族设置为启动视图。此外，在Dynamo编程部分，可在设计的图纸专业码的基础上，快速获取图纸专业码，从而为各专业的共享参数的标签写入对应的图纸专业码。如此，后续在读取到图纸编号的基础上，即可确定对应的图纸专业码，进而输入对应的图纸专业码即可将对应专业的信息进行显示，而将其他专业的信息进行隐藏。进一步地，还可以将上述载入有图框族的项目文件另存为Revit项目样板文件并保存，以供后续使用。此外，可将上述编程的Dynamo程序进行保存，以供后续调用。本实施例所提供的BIM项目信息联动实现方法，对应建筑设计实践中所需的若干项目信息，进行自定义的共享参数的设计以满足实际所需。并且，将共享参数添加至项目文件和图框族中，实现两者之间信息的联动设置。基于Dynamo编程设置可控制显隐的专业码，可实现在各专业图框图签中过滤多余项目信息，显示所需专业的项目信息的效果。进一步地，实现一种设计人员熟悉的项目信息输入界面，把添加的项目信息的自定义的共享参数放置于该界面，并设计为项目文件的启动视图，如此，构建系统性的易用性的输入环境。请参阅图21，为本申请实施例提供的电子设备的示例性组件示意图，该电子设备可以是上述的计算机设备。该电子设备可包括存储介质110、处理器120、BIM项目信息联动实现装置130及通信接口140。本实施例中，存储介质110与处理器120均位于电子设备中且二者分离设置。然而，应当理解的是，存储介质110也可以是独立于电子设备之外，且可以由处理器120通过总线接口来访问。可替换地，存储介质110也可以集成到处理器120中，例如，可以是高速缓存和/或通用寄存器。BIM项目信息联动实现装置130可以理解为上述电子设备，或电子设备的处理器120，也可以理解为独立于上述电子设备或处理器120之外的在电子设备控制下实现上述BIM项目信息联动实现方法的软件功能模块。如图22所示， BIM项目信息联动实现装置130可以包括定义模块131、第一添加模块132、第二添加模块133、设置模块134和载入模块135。下面分别对该BIM项目信息联动实现装置130的各个功能模块的功能进行详细阐述。定义模块131，用于定义并设计建筑BIM模型中项目信息的共享参数，并基于所述共享参数生成参数中间文件，所述共享参数包括多个专业的共享参数，各所述专业下的共享参数包括多个层级的共享参数；可以理解，该定义模块131可以用于执行上述步骤S11，关于该定义模块131的详细实现方式可以参照上述对步骤S11有关的内容。第一添加模块132，用于将所述参数中间文件中的共享参数添加至项目文件中作为项目参数；可以理解，该第一添加模块132可以用于执行上述步骤S12，关于该第一添加模块132的详细实现方式可以参照上述对步骤S12有关的内容。第二添加模块133，用于将所述参数中间文件中的共享参数添加至图框族中作为标签，其中，所属同一层级的各专业的共享参数对应的标签放置在所述图框族的相同位置并重叠放置；可以理解，该第二添加模块133可以用于执行上述步骤S13，关于该第二添加模块133的详细实现方式可以参照上述对步骤S13有关的内容。设置模块134，用于为各所述专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制所述显示控制参数来控制对应专业的共享参数的标签的可见性；可以理解，该设置模块134可以用于执行上述步骤S14，关于该设置模块134的详细实现方式可以参照上述对步骤S14有关的内容。载入模块135，用于将添加有共享参数的图框族载入所述项目文件中，以基于所述参数中间文件将所述项目文件和所述图框族进行信息联动设置。可以理解，该载入模块135可以用于执行上述步骤S15，关于该载入模块135的详细实现方式可以参照上述对步骤S15有关的内容。在一种可能的实施方式中，上述设置模块134可以用于：在所述图框族处于编辑状态时，在创建面板栏下族类型对话框中添加各所述专业对应的显示控制参数项；在所述族类型对话框中添加专业码参数项，并定义所述专业码的形式，所述专业码为整数形式；通过公式，将各专业的显示控制参数与专业码参数进行关联；依次选择重叠放置的各专业的共享参数对应的标签，将所述标签的可见性关联至对应专业的显示控制参数。在一种可能的实施方式中，BIM项目信息联动实现装置130还可以包括设定模块，该设定模块可以用于：基于Dynamo编程识别图纸的图纸图号，基于所述图纸图号为所述图纸设定对应的专业码参数，并将图纸图号与专业码参数的对应关系进行保存。在一种可能的实施方式中， BIM项目信息联动实现装置130还可以包括显示控制模块，该显示控制模块可以用于：针对待生成图纸，获得所述待生成图纸的目标图纸图号；基于Dynamo编程，并根据保存的图纸图号与专业码参数的对应关系，获得所述目标图纸图号的专业码参数，以基于所述专业码参数将所述待生成图纸所需生成的信息所属的专业对应的标签进行显示，并将其他专业对应的标签进行隐藏。在一种可能的实施方式中，上述载入模块135可以用于：将添加有共享参数的图框族设计为包含全专业项目信息的专用图框族；将所述专用图框族载入所述项目文件中，并在所述项目文件中基于所述专用图框族创建对应的专用图纸；将所述专用图纸设置为所述项目文件的启动视图，其中，所述启动视图为在所述项目文件打开时即启动的视图。在一种可能的实施方式中，上述定义模块131可以用于：基于预先发布的任一样板创建一空白中间文件；创建一与共享参数相关的参数组，以将所述共享参数归属于所述参数组；将归属于所述参数组的各个共享参数依次添加至所述空白中间文件中，以生成所述参数中间文件。在一种可能的实施方式中，上述第一添加模块132可以用于：在项目文件中跳转至添加界面，并在所述添加界面中确定待添加的参数类型为共享参数类型；在所述添加界面选择所述参数中间文件中的任一共享参数，并确定所述任一共享参数所属的参数组，以将所述任一共享参数添加至所述项目文件中作为项目参数。在一种可能的实施方式中，上述第二添加模块133可以用于：基于已有的项目图纸或开启的图框族文件，进入族的编辑状态；将所述项目图纸或图框族文件的图签区域中原有的项目信息相关的参数标签删除；进入标签编辑状态，选择待添加的参数类型为共享参数类型；选择所述参数中间文件中的任一共享参数，将所述任一共享参数添加至图框族中并作为标签。在一种可能的实施方式中，BIM项目信息联动实现装置130还可以包括存储模块，该存储模块可以用于：将载入有所述图框族的项目文件生成项目样板文件；使用导航命令定位到所需的保存位置，将所述项目样板文件存储至所述保存位置，以用于后续提取所述项目样板文件进行项目设计。关于装置中的各模块的处理流程、以及各模块之间的交互流程的描述可以参照上述方法实施例中的相关说明，这里不再详述。进一步地，本申请实施例还提供一种计算机可读存储介质，计算机可读存储介质存储有机器可执行指令，机器可执行指令被执行时实现上述实施例提供的BIM项目信息联动实现方法。具体地，该计算机可读存储介质能够为通用的存储介质，如移动磁盘、硬盘等，该计算机可读存储介质上的计算机程序被运行时，能够执行上述BIM项目信息联动实现方法。关于计算机可读存储介质中的及其可执行指令被运行时，所涉及的过程，可以参照上述方法实施例中的相关说明，这里不再详述。综上所述，本申请实施例提供的BIM项目信息联动实现方法和装置，通过定义并设计建筑BIM模型中项目信息的共享参数并生成参数中间文件，将参数中间文件中的共享参数分别添加至项目文件中作为项目参数、图框族中作为标签，其中，将所属同一层级的各专业的共享参数对应的标签放置在图框族的相同位置并重叠放置。为各专业的共享参数对应的标签设置显示控制参数，并用专业码参数通过控制显示控制参数来控制对应专业的共享参数的标签的可见性。将添加有共享参数的图框族载入项目文件中，以基于参数中间文件将项目文件和图框族进行信息联动设置。本方案中，可基于需求设计共享参数，在项目文件和图框族中添加和应用共享参数，并实现两者之间的信息联动设置，可满足建筑设计实践的需求，且使用显隐的专业码参数设置，可基于专业码参数实现过滤多余专业项目信息、显示所需专业项目信息的效果，便捷且高效。以上所述，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以所述权利要求的保护范围为准。
