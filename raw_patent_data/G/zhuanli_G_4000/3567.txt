标题title
一种钢筋绑扎机器人的行走控制系统及方法
摘要abst
本发明涉及一种钢筋绑扎机器人的行走控制系统及方法，该系统包括：感知层，用于收集场景信息并传输给决策层；决策层，用于根据感知层收集的场景信息，识别需要进行绑扎的钢筋交叉点的位置和数量，进行路径规划；以及根据路径规划，向执行层发送行走电机的行走指令以及云台的旋转指令；还用于确定待绑扎钢筋交叉点的坐标，向执行层发送坐标以及绑扎指令；执行层，用于根据行走电机的行走指令以及云台的旋转指令分别控制行走电机执行钢筋绑扎机器人的行走，以及控制云台执行钢筋绑扎机器人的旋转，以及控制绑扎电机执行钢筋交叉点的绑扎。本发明能在保证效率的前提下实现区域的全覆盖的步履式机器人的控制。
权利要求书clms
1.一种钢筋绑扎机器人的行走控制系统，其特征在于，包括：感知层，决策层以及执行层；所述感知层，用于收集场景信息并传输给决策层；所述决策层，用于根据感知层收集的场景信息，识别需要进行绑扎的钢筋交叉点的位置和数量，进行路径规划；以及根据所述路径规划，向执行层发送行走电机的行走指令以及云台的旋转指令；还用于根据收集的场景信息，确定待绑扎钢筋交叉点的坐标，向执行层发送所述坐标以及绑扎指令；所述执行层，用于根据行走电机的行走指令以及云台的旋转指令分别控制行走电机执行钢筋绑扎机器人的行走，以及控制云台执行钢筋绑扎机器人的旋转，以及根据所述坐标以及绑扎指令控制绑扎电机执行钢筋交叉点的绑扎。2.如权利要求1所述的钢筋绑扎机器人的行走控制系统，其特征在于：钢筋绑扎机器人行走时：所述决策层，根据场景信息获取第一方向或第二方向的视野内钢筋交叉点的第一数量，判断第一数量是否大于等于阈值，若第一数量大于等于阈值，则通过执行层指示行走电机对应向第一方向或第二方向行走一步；若数量小于阈值，则通过执行层指示云台转入第三方向或者第四方向；所述决策层，根据场景信息获取第三方向或者第四方向的视野内钢筋交叉点的第二数量，判断第二数量是否大于等于阈值，若第二数量大于等于阈值，则通过执行层指示行走电机对应向第三方向或者第四方向行走一步并将第一方向或第二方向的第一标志位置为反数；所述第一方向的相对方向为第二方向，第一标志位用于标识所述第一方向和第二方向；第一方向与第二方向的第一标志位的值互为反数；所述第三方向的相对方向为第四方向，第二标志位用于标识第三方向和第四方向；第三方向与第四方向的第二标志位的值互为反数。3.如权利要求2所述的钢筋绑扎机器人的行走控制系统，其特征在于：所述决策层，根据场景信息获取第三方向或者第四方向的视野内钢筋交叉点的第二数量后，若第二数量小于阈值，根据第二标志位判断当前行走朝向是第三方向还是第四方向；若当前行走朝向为第四方向时，完成当前行走任务；若当前行走朝向为第三方向时，通过执行层指示行走电机使用归零算法移动回第三方向或第四方向的起始位置。4.如权利要求2-3中任一项所述的钢筋绑扎机器人的行走控制系统，其特征在于：所述决策层，判断第一数量是否大于等于阈值时，若第一数量大于等于阈值，则先判断第一方向或者第二方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再通过执行层指示行走电机对应向第一方向或第二方向行走一步；判断第二数量是否大于等于阈值时，若第二数量大于等于阈值，则先判断第三方向或者第四方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再通过执行层指示行走电机对应向第三方向或第四方向行走一步。5.如权利要求4所述的钢筋绑扎机器人的行走控制系统，其特征在于：所述避障，包括：当第一方向或者第二方向的前进路线上有障碍物时，通过执行层指示云台以及行走电机依照以下步骤从第三方向绕过障碍物：行走-判断过程A：通过执行层指示云台以及行走电机向第三方向行走一步，并将步数S记录，同时检测第一方向或者第二方向的前进路线上是否有障碍物，若有障碍物，则继续此行走-判断过程A，若没有障碍物，则进入判断-行走-判断过程B；判断-行走-判断过程B：检测第一方向或者第二方向的前进路线上是否有障碍物，若有，则进入行走-判断过程A；若没有，通过执行层指示行走电机对应向第一方向或第二方向行走一步，同时检测第四方向是否有障碍物，若有障碍物，则继续此判断-行走-判断过程B，若没有障碍物，则进入判断-行走-判断过程C；判断-行走-判断过程C：检测第四方向是否有障碍物，若有，则进入判断-行走-判断过程B；若没有，通过执行层指示行走电机对应向第四方向行走一步，同时检测是否将第三方向移动步数清零，若未清零，则继续此判断-行走-判断过程B，若清零，则结束此第一方向或第二方向避障；当第三方向或者第四方向的前进路线上有障碍物时，通过执行层指示云台以及行走电机向第一方向或者第二方向行走一步；再检测第三方向或者第四方向的前进路线上是否有障碍物；直至第三方向或第四方向的前进路线上无障碍物时，再通过执行层指示行走电机对应向第三方向或第四方向行走一步。6.一种钢筋绑扎机器人的行走控制方法，其特征在于：包括以下步骤：控制钢筋绑扎机器人行走时：获取第一方向或第二方向的视野内钢筋交叉点的第一数量，判断第一数量是否大于等于阈值，若第一数量大于等于阈值，则对应向第一方向或第二方向行走一步；若数量小于阈值，则转入第三方向或者第四方向；获取第三方向或者第四方向的视野内钢筋交叉点的第二数量，判断第二数量是否大于等于阈值，若第二数量大于等于阈值，则对应向第三方向或者第四方向行走一步并将第一方向或第二方向的第一标志位置为反数；所述第一方向的相对方向为第二方向，第一标志位用于标识所述第一方向和第二方向；第一方向与第二方向的第一标志位的值互为反数；所述第三方向的相对方向为第四方向，第二标志位用于标识第三方向和第四方向；第三方向与第四方向的第二标志位的值互为反数。7.如权利要求6所述的钢筋绑扎机器人的行走控制方法，其特征在于：获取第三方向或者第四方向的视野内钢筋交叉点的第二数量后，若第二数量小于阈值，根据第二标志位判断当前行走朝向是第三方向还是第四方向；若当前行走朝向为第四方向时，完成当前行走任务；若当前行走朝向为第三方向时，使用归零算法移动回第三方向或第四方向的起始位置。8.如权利要求6所述的钢筋绑扎机器人的行走控制方法，其特征在于：所述阈值根据钢筋绑扎机器人一次可绑扎的钢筋交叉点的数量确定。9.如权利要求6-8中任一项所述的钢筋绑扎机器人的行走控制方法，其特征在于：判断数量是否大于第一阈值时，若第一数量大于等于阈值，则先判断第一方向或者第二方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再对应向第一方向或第二方向行走一步；判断第二数量是否大于等于阈值时，若第二数量大于等于阈值，则先判断第三方向或者第四方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再对应向第三方向或第四方向行走一步。10.如权利要求9所述的钢筋绑扎机器人的行走控制方法，其特征在于：所述避障，包括：当第一方向或者第二方向的前进路线上有障碍物时，依照以下步骤从第三方向绕过障碍物：行走-判断过程A：向第三方向行走一步，并将步数S记录，检测第一方向或者第二方向的前进路线上是否有障碍物，若有障碍物，则继续此行走-判断过程A，若没有障碍物，则进入判断-行走-判断过程B；判断-行走-判断过程B：检测第一方向或者第二方向的前进路线上是否有障碍物，若有，则进入行走-判断过程A；若没有，向第一方向或第二方向行走一步，同时检测第四方向是否有障碍物，若有障碍物，则继续此判断-行走-判断过程B，若没有障碍物，则进入判断-行走-判断过程C；判断-行走-判断过程C：检测第四方向是否有障碍物，若有，则进入判断-行走-判断过程B；若没有，向第四方向行走一步，同时检测是否将第三方向移动步数清零，若未清零，则继续此判断-行走-判断过程B，若清零，则结束此第一方向或第二方向的避障；当第三方向或者第四方向的前进路线上有障碍物时，向第一方向或者第二方向行走一步；再检测第三方向或者第四方向的前进路线上是否有障碍物；直至第三方向或第四方向的前进路线上无障碍物时，再对应向第三方向或第四方向行走一步。
说明书desc
技术领域本发明涉及钢筋绑扎机器人技术领域，尤其涉及一种钢筋绑扎机器人的行走控制系统及方法。背景技术建筑行业智能化发展是未来长远发展方向。钢筋作为建筑行业中广泛应用的提供承载力构件，对保障施工建设、使用安全至关重要。然而，近年来人口老龄化问题，建筑行业存在工人紧缺现状，但钢筋绑扎仍需大量劳动力进行手动完成，尤其是大型承台钢筋和桥面板钢筋，劳动强度大。因此研制钢筋绑扎机器人代替人工实现钢筋交点识别，进而完成绑扎作业具有重要意义。传统机器人多数采用轮式行走，但轮式机器人并不适用于钢筋表面。目前有部分研究者设计了搭载scars机械臂的履带式钢筋绑扎机器人，但履带式钢筋绑扎机器人在行走及转向时极易使未绑扎的钢筋位移。另一些研究者还设计了一款沿钢筋行走的轮式机器人，但此类机器人在变间距钢筋表面无法工作，实用性不高。步履式底盘不是连续在平面滚动，不涉及轮子转弯，因此可避免未绑扎的钢筋位移，可以克服上述履带式和轮式机器人用于钢筋绑扎的缺陷。但是钢筋绑扎的需求是在保证效率的前提下实现区域的全覆盖，进一步地，绑扎现场还有自主避障的需求，因此需要一种与轮式机器人和履带式机器人不同的步履式控制方法。发明内容要解决的技术问题鉴于现有技术的上述缺点、不足，本发明提供一种钢筋绑扎机器人的行走控制系统及方法，其解决了目前缺少在保证效率的前提下实现区域的全覆盖的步履式控制方法的技术问题。技术方案为了达到上述目的，本发明采用的主要技术方案包括：第一方面，本发明实施例提供一种钢筋绑扎机器人的行走控制系统，包括：感知层，决策层以及执行层；感知层，用于收集场景信息并传输给决策层；决策层，用于根据感知层收集的场景信息，识别需要进行绑扎的钢筋交叉点的位置和数量，进行路径规划；以及根据路径规划，向执行层发送行走电机的行走指令以及云台的旋转指令；还用于根据收集的场景信息，确定待绑扎钢筋交叉点的坐标，向执行层发送坐标以及绑扎指令；执行层，用于根据行走电机的行走指令以及云台的旋转指令分别控制行走电机执行钢筋绑扎机器人的行走，以及控制云台执行钢筋绑扎机器人的旋转，以及根据坐标以及绑扎指令控制绑扎电机执行钢筋交叉点的绑扎。本发明实施例提出的钢筋绑扎机器人的行走控制系统，通过决策层进行路径规划，并通过执行层控制行走电机的行走以及云台的旋转，能控制钢筋绑扎机器人的进行步履式行走，能实现保证效率的前提下实现区域的全覆盖。可选地，钢筋绑扎机器人行走时：决策层，根据场景信息获取第一方向或第二方向的视野内钢筋交叉点的第一数量，判断第一数量是否大于等于阈值，若第一数量大于等于阈值，则通过执行层指示行走电机对应向第一方向或第二方向行走一步；若数量小于阈值，则通过执行层指示云台转入第三方向或者第四方向；决策层，根据场景信息获取第三方向或者第四方向的视野内钢筋交叉点的第二数量，判断第二数量是否大于等于阈值，若第二数量大于等于阈值，则通过执行层指示行走电机对应向第三方向或者第四方向行走一步并将第一方向或第二方向的第一标志位置为反数；第一方向的相对方向为第二方向，第一标志位用于标识第一方向和第二方向；第一方向与第二方向的第一标志位的值互为反数；第三方向的相对方向为第四方向，第二标志位用于标识第三方向和第四方向；第三方向与第四方向的第二标志位的值互为反数。可选地，决策层，根据场景信息获取第三方向或者第四方向的视野内钢筋交叉点的第二数量后，若第二数量小于阈值，根据第二标志位判断当前行走朝向是第三方向还是第四方向；若当前行走朝向为第四方向时，完成当前行走任务；若当前行走朝向为第三方向时，通过执行层指示行走电机使用归零算法移动回第三方向或第四方向的起始位置。可选地，决策层，判断第一数量是否大于等于阈值时，若第一数量大于等于阈值，则先判断第一方向或者第二方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再通过执行层指示行走电机对应向第一方向或第二方向行走一步；判断第二数量是否大于等于阈值时，若第二数量大于等于阈值，则先判断第三方向或者第四方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再通过执行层指示行走电机对应向第三方向或第四方向行走一步。可选地，避障，包括：当第一方向或者第二方向的前进路线上有障碍物时，通过执行层指示云台以及行走电机依照以下步骤从第三方向绕过障碍物：行走-判断过程A：通过执行层指示云台以及行走电机向第三方向行走一步，并将步数S记录，同时检测第一方向或者第二方向的前进路线上是否有障碍物，若有障碍物，则继续此行走-判断过程A，若没有障碍物，则进入判断-行走-判断过程B；判断-行走-判断过程B：检测第一方向或者第二方向的前进路线上是否有障碍物，若有，则进入行走-判断过程A；若没有，通过执行层指示行走电机对应向第一方向或第二方向行走一步，同时检测第四方向是否有障碍物，若有障碍物，则继续此判断-行走-判断过程B，若没有障碍物，则进入判断-行走-判断过程C；判断-行走-判断过程C：检测第四方向是否有障碍物，若有，则进入判断-行走-判断过程B；若没有，通过执行层指示行走电机对应向第四方向行走一步，同时检测是否将第三方向移动步数清零，若未清零，则继续此判断-行走-判断过程B，若清零，则结束此第一方向或第二方向避障；当第三方向或者第四方向的前进路线上有障碍物时，通过执行层指示云台以及行走电机向第一方向或者第二方向行走一步；再检测第三方向或者第四方向的前进路线上是否有障碍物；直至第三方向或第四方向的前进路线上无障碍物时，再通过执行层指示行走电机对应向第三方向或第四方向行走一步。第二方面，本发明实施例还提供一种钢筋绑扎机器人的行走控制方法，包括以下步骤：控制钢筋绑扎机器人行走时：获取第一方向或第二方向的视野内钢筋交叉点的第一数量，判断第一数量是否大于等于阈值，若第一数量大于等于阈值，则对应向第一方向或第二方向行走一步；若数量小于阈值，则转入第三方向或者第四方向；获取第三方向或者第四方向的视野内钢筋交叉点的第二数量，判断第二数量是否大于等于阈值，若第二数量大于等于阈值，则对应向第三方向或者第四方向行走一步并将第一方向或第二方向的第一标志位置为反数；第一方向的相对方向为第二方向，第一标志位用于标识第一方向和第二方向；第一方向与第二方向的第一标志位的值互为反数；第三方向的相对方向为第四方向，第二标志位用于标识第三方向和第四方向；第三方向与第四方向的第二标志位的值互为反数。可选地，获取第三方向或者第四方向的视野内钢筋交叉点的第二数量后，若第二数量小于阈值，根据第二标志位判断当前行走朝向是第三方向还是第四方向；若当前行走朝向为第四方向时，完成当前行走任务；若当前行走朝向为第三方向时，使用归零算法移动回第三方向或第四方向的起始位置。可选地，阈值根据钢筋绑扎机器人一次可绑扎的钢筋交叉点的数量确定。可选地，判断数量是否大于第一阈值时，若第一数量大于等于阈值，则先判断第一方向或者第二方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再对应向第一方向或第二方向行走一步；判断第二数量是否大于等于阈值时，若第二数量大于等于阈值，则先判断第三方向或者第四方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再对应向第三方向或第四方向行走一步。可选地，避障，包括：当第一方向或者第二方向的前进路线上有障碍物时，依照以下步骤从第三方向绕过障碍物：行走-判断过程A：向第三方向行走一步，并将步数S记录，检测第一方向或者第二方向的前进路线上是否有障碍物，若有障碍物，则继续此行走-判断过程A，若没有障碍物，则进入判断-行走-判断过程B；判断-行走-判断过程B：检测第一方向或者第二方向的前进路线上是否有障碍物，若有，则进入行走-判断过程A；若没有，向第一方向或第二方向行走一步，同时检测第四方向是否有障碍物，若有障碍物，则继续此判断-行走-判断过程B，若没有障碍物，则进入判断-行走-判断过程C；判断-行走-判断过程C：检测第四方向是否有障碍物，若有，则进入判断-行走-判断过程B；若没有，向第四方向行走一步，同时检测是否将第三方向移动步数清零，若未清零，则继续此判断-行走-判断过程B，若清零，则结束此第一方向或第二方向的避障；当第三方向或者第四方向的前进路线上有障碍物时，向第一方向或者第二方向行走一步；再检测第三方向或者第四方向的前进路线上是否有障碍物；直至第三方向或第四方向的前进路线上无障碍物时，再对应向第三方向或第四方向行走一步。有益效果本发明的有益效果是：本发明的钢筋绑扎机器人的行走控制系统和方法，通过决策层进行路径规划，并通过执行层控制行走电机的行走以及云台的旋转，能控制钢筋绑扎机器人的进行步履式行走，能实现保证效率的前提下实现区域的全覆盖。附图说明图1为本发明实施例一的钢筋绑扎机器人的行走控制系统的结构示意图；图2为本发明实施例一的钢筋绑扎机器人的硬件结构示意图；图3为本发明实施例二的钢筋绑扎机器人的行走控制方法的流程示意图；图4为本发明实施例二的钢筋绑扎机器人的行走控制方法的行走路径示意图；图5为本发明实施例二的钢筋绑扎机器人的行走控制方法的优选流程示意图；图6为本发明实施例二的钢筋绑扎机器人的视觉检测方法的流程示意图；图7为本发明实施例二的钢筋绑扎机器人的前后方向自主避障的流程示意图；图8为本发明实施例二的钢筋绑扎机器人的左右方向自主避障的流程示意图；图9为本发明实施例二的钢筋绑扎机器人的归零算法的流程示意图。具体实施方式为了更好的解释本发明，以便于理解，下面结合附图，通过具体实施方式，对本发明作详细描述。本发明实施例提出的本发明实施例提出的钢筋绑扎机器人的行走控制系统，通过决策层进行路径规划，并通过执行层控制行走电机的行走以及云台的旋转，能控制钢筋绑扎机器人的进行步履式行走，能实现保证效率的前提下实现区域的全覆盖。为了更好的理解上述技术方案，下面将参照附图更详细地描述本发明的示例性实施例。虽然附图中显示了本发明的示例性实施例，然而应当理解，可以以各种形式实现本发明而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更清楚、透彻地理解本发明，并且能够将本发明的范围完整的传达给本领域的技术人员。以下的本发明实施例中，均是基于图2所示的钢筋绑扎机器人的硬件结构实现，但是实际使用时，可以是其他的步履式机器人，只要能实现本申请的系统的功能或者方法的步骤即可。参见图2，钢筋绑扎机器人的硬件包括：传感系统、主控模块、电源模块和驱动模块。其中，传感系统由激光雷达和云台双视觉相机组成，负责将收集到的场景信息传输到中央处理器。云台双视觉相机包括深度相机以及工业相机。在本发明实施例中，深度相机安装在整个机器人最高点，并搭载二轴云台，负责拍摄待执行绑扎的区域的深度图像，供主控系统识别钢筋交叉点的位置和数量，从而实现责机器人导航及三轴模组绑扎路径规划；工业相机安装在绑扎头上与绑扎头一同移动，用于拍摄绑扎头的近景，结合深度相机采集的场景信息确定的钢筋交叉点的位置和数量，结合当前的近景图像，确定当前执行的绑扎点的精确的坐标，进而将调整和修正绑扎头的位置，并在主控模块的指令下控制绑扎头进行绑扎；激光雷达用于采集指定方向上的图像，用于机器人的自主避障。其中，驱动模块包括云台驱动组件、伺服电机驱动组件以及绑扎头驱动组件。云台驱动组件，包括：云台控制板和云台电机，用于控制移动机器人的旋转；伺服电机驱动组件包括：多组伺服驱动器和伺服电机。以下实施例中，参见图2，为三组三轴模组伺服驱动器以及对应的伺服电机，分别用于；以及二组行走伺服驱动器以及对应的伺服电机，用于。绑扎头驱动组件包括绑扎头控制板和多个绑扎头电机，用于对钢筋交叉点执行绑扎。以下实施例中，伺服驱动器采用canopen＆modbus绝对值式伺服驱动器，采用通信控制方式，由主控模块通过db9接口以rs485协议进行总线通信控制，主控模块使用pythonserial实现串口的收发，根据伺服驱动器的modbus字典发送十六进制的指令，可实现对伺服电机的直接控制。伺服电机采用rs485总线通信，其余传感器采用USB及Enternet通信。电源模块，以机器人每天工作20小时以上，换3次电池需连续工作6.7小时以上，电池应该保证在使用时间内电量充足。机器人虽然电机数量多，但并行工作的情况较少，平均功率约200w。按平均功率计算，连续运行时间6.7小时的耗电量为：1340KW·h。电机驱动器额定电压为48V，所以电池输出电压计算值取48V。可得电池容量：27.9Ah。由上式得到的电池容量需要大于27.9Ah。经比选，选用亿纬锂能32Ah磷酸铁锂电芯。以下实施例中，假设基于ROS系统对机器人多传感器、边缘计算设备、电机等各个节点通信连接，主控模块与伺服电机采用 Modbus通讯协议，总线传输形式进行通信，突破传统使用PLC或单片机进行伺服控制的方式，实现传感器-中控系统-伺服控制一体化解决。以下实施例中第一方向优选为前，第二方向优选为后，第三方向优选为右，第四方向优选为左。但实际实施时，四个方向均可以两两互换，不影响本发明的功能。实施例一参见图1，本实施例的钢筋绑扎机器人的行走控制系统，包括：感知层，决策层以及执行层；感知层，用于收集场景信息并传输给决策层；决策层，用于根据感知层收集的场景信息，识别需要进行绑扎的钢筋交叉点的位置和数量，进行路径规划；以及根据路径规划，向执行层发送行走电机的行走指令以及云台的旋转指令；还用于根据收集的场景信息，确定待绑扎钢筋交叉点的坐标，向执行层发送坐标以及绑扎指令；执行层，用于根据行走电机的行走指令以及云台的旋转指令分别控制行走电机执行钢筋绑扎机器人的行走，以及控制云台执行钢筋绑扎机器人的旋转，以及根据坐标以及绑扎指令控制绑扎电机执行钢筋交叉点的绑扎。本发明实施例提出的钢筋绑扎机器人的行走控制系统，通过决策层进行路径规划，并通过执行层控制行走电机的行走以及云台的旋转，能控制钢筋绑扎机器人的进行步履式行走，能实现保证效率的前提下实现区域的全覆盖。本实施例中，感知层对应于图2中的传感系统的控制单元，实施时通过软件配合传感系统的硬件实现功能。决策层对应于主控模块的存储器和内置程序，实施时通过内置程序配合传感系统的硬件实现功能。执行层对应于驱动模块，实施时通过程序指令配合驱动模块的硬件实现功能。实施时，钢筋绑扎机器人行走时：决策层，根据场景信息获取第一方向或第二方向的视野内钢筋交叉点的第一数量，判断第一数量是否大于等于阈值，若第一数量大于等于阈值，则通过执行层指示行走电机对应向第一方向或第二方向行走一步；若数量小于阈值，则通过执行层指示云台转入第三方向或者第四方向；决策层，根据场景信息获取第三方向或者第四方向的视野内钢筋交叉点的第二数量，判断第二数量是否大于等于阈值，若第二数量大于等于阈值，则通过执行层指示行走电机对应向第三方向或者第四方向行走一步并将第一方向或第二方向的第一标志位置为反数；第一方向的相对方向为第二方向，第一标志位用于标识第一方向和第二方向；第一方向与第二方向的第一标志位的值互为反数；第三方向的相对方向为第四方向，第二标志位用于标识第三方向和第四方向；第三方向与第四方向的第二标志位的值互为反数。实施时，决策层还可以，根据场景信息获取第三方向或者第四方向的视野内钢筋交叉点的第二数量后，若第二数量小于阈值，根据第二标志位判断当前行走朝向是第三方向还是第四方向；若当前行走朝向为第四方向时，完成当前行走任务；参见图9，若当前行走朝向为第三方向时，通过执行层指示行走电机使用归零算法移动回第三方向或第四方向的起始位置，即N=0位置。N=0位置是第三或第四方向的零点。假设第一方向代表上、第二方向代表下、第三方向代表右、第四方向代表左，基于此假设：机器人的起点是随机的，但是不管机器人在哪个起点，先判断向上能不能走、能走向上走到上边界；接下来判断向右能不能走、能走右移一步；再向下走到上边界；再向右一步；再向上走到上边界。重复此过程直到达到右边界，假设此时向右共走了N步。判断到了右边界的时候一定是在右上角或者右下角，显然若N为奇数就是右下，若N为偶就为右上。所以到使用右归零算法移动回到的N=0位置相当于向左直行N步，会回到机器人起点的正上方或正下方，取决于N的奇偶性。实施时，决策层，判断第一数量是否大于等于阈值时，若第一数量大于等于阈值，则先判断第一方向或者第二方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再通过执行层指示行走电机对应向第一方向或第二方向行走一步；判断第二数量是否大于等于阈值时，若第二数量大于等于阈值，则先判断第三方向或者第四方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再通过执行层指示行走电机对应向第三方向或第四方向行走一步。实施时，避障，针对不规则障碍物涉及，本实施例优选从右侧绕过障碍物，假设右为第三方向，可以绕过不规则障碍物：当第一方向或者第二方向的前进路线上有障碍物时，通过执行层指示云台以及行走电机依照以下步骤从第三方向绕过障碍物：行走-判断过程A：通过执行层指示云台以及行走电机向第三方向行走一步，并将步数S记录，同时检测第一方向或者第二方向的前进路线上是否有障碍物，若有障碍物，则继续此行走-判断过程A，若没有障碍物，则进入判断-行走-判断过程B；判断-行走-判断过程B：检测第一方向或者第二方向的前进路线上是否有障碍物，若有，则进入行走-判断过程A；若没有，通过执行层指示行走电机对应向第一方向或第二方向行走一步，同时检测第四方向是否有障碍物，若有障碍物，则继续此判断-行走-判断过程B，若没有障碍物，则进入判断-行走-判断过程C；判断-行走-判断过程C：检测第四方向是否有障碍物，若有，则进入判断-行走-判断过程B；若没有，通过执行层指示行走电机对应向第四方向行走一步，同时检测是否将第三方向移动步数清零，若未清零，则继续此判断-行走-判断过程B，若清零，则结束此第一方向或第二方向避障；当第三方向或者第四方向的前进路线上有障碍物时，通过执行层指示云台以及行走电机向第一方向或者第二方向行走一步；再检测第三方向或者第四方向的前进路线上是否有障碍物；直至第三方向或第四方向的前进路线上无障碍物时，再通过执行层指示行走电机对应向第三方向或第四方向行走一步。实施例二参见图3和图4，本发明实施例提供一种钢筋绑扎机器人的行走控制方法，该控制方法包括以下步骤：控制钢筋绑扎机器人行走时：S1：获取第一方向或第二方向的视野内钢筋交叉点的第一数量，判断第一数量是否大于等于阈值，若第一数量大于等于阈值，则对应向第一方向或第二方向行走一步；若数量小于阈值，则转入第三方向或者第四方向；S2：获取第三方向或者第四方向的视野内钢筋交叉点的第二数量，判断第二数量是否大于等于阈值，若第二数量大于等于阈值，则对应向第三方向或者第四方向行走一步并将第一方向或第二方向的第一标志位置为反数；其中，第一方向的相对方向为第二方向，第一标志位用于标识第一方向和第二方向；第一方向与第二方向的第一标志位的值互为反数；第三方向的相对方向为第四方向，第二标志位用于标识第三方向和第四方向；第三方向与第四方向的第二标志位的值互为反数。实施时：获取第三方向或者第四方向的视野内钢筋交叉点的第二数量后，若第二数量小于阈值，根据第二标志位判断当前行走朝向是第三方向还是第四方向；若当前行走朝向为第三方向时，完成当前行走任务。若当前行走朝向为第四方向时，使用右归零算法移动回N=0位置。实施时，阈值根据钢筋绑扎机器人一次可绑扎的钢筋交叉点的数量确定。阈值的数量是机器人本身的机械机构设计决定的，机器人一次绑扎最多12个点或9个点，因此阈值可设为10。实施时，判断数量是否大于第一阈值时，若第一数量大于等于阈值，则先判断第一方向或者第二方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再对应向第一方向或第二方向行走一步；判断第二数量是否大于等于阈值时，若第二数量大于等于阈值，则先判断第三方向或者第四方向的前进路线上有无障碍物，若有障碍物，则进行避障，直至没有障碍物，再对应向第三方向或第四方向行走一步。实施时，避障方法，包括：参见图7，当第一方向或者第二方向的前进路线上有障碍物时，依照以下步骤从第三方向绕过障碍物，针对不规则障碍物涉及，可以绕过不规则障碍物：行走-判断过程A：向第三方向行走一步，并将步数S记录，检测第一方向或者第二方向的前进路线上是否有障碍物，若有障碍物，则继续此行走-判断过程A，若没有障碍物，则进入判断-行走-判断过程B；判断-行走-判断过程B：检测第一方向或者第二方向的前进路线上是否有障碍物，若有，则进入行走-判断过程A；若没有，向第一方向或第二方向行走一步，同时检测第四方向是否有障碍物，若有障碍物，则继续此判断-行走-判断过程B，若没有障碍物，则进入判断-行走-判断过程C；判断-行走-判断过程C：检测第四方向是否有障碍物，若有，则进入判断-行走-判断过程B；若没有，向第四方向行走一步，同时检测是否将第三方向移动步数清零，若未清零，则继续此判断-行走-判断过程B，若清零，则结束此第一方向或第二方向的避障；参见图8，当第三方向或者第四方向的前进路线上有障碍物时，向第一方向或者第二方向行走一步；再检测第三方向或者第四方向的前进路线上是否有障碍物；直至第三方向或第四方向的前进路线上无障碍物时，再对应向第三方向或第四方向行走一步。以第一方向优选为前，第二方向优选为后，第三方向优选为左，第四方向优选为右。本实施例工作时：参见图6，视野内钢筋交叉点检测算法：通过深度相机获取视野内的图片，输入训练好的深度神经网络模型，输出每一帧的所有钢筋交叉点的位置及绑扎状态；通过聚类算法进行异常点剔除，并统计出所有待绑扎的钢筋交叉点的数量。参见图5，前后向行走一次：在钢筋平面任意位置启动后，云台向前or后开始检测视野内钢筋交叉点的数量，若大于等于阈值，则认为该区域待绑扎，进一步判断前or后向前进路线上有无障碍物，若有则进入前后避障算法，如没有则前进一步，完成一次走行；若小于阈值，则进入左右向转弯程序；左右向行走一次：首先云台向右or左开始检测视野内钢筋交叉点的数量，若大于等于阈值，则认为右or左侧存在待绑扎区域，进一步判断右or左向前进路线上有无障碍物，若有则进入左右避障算法，如没有则进一步判断左右，若为右,右向移动一步且记录向右步数N=N+1，并将云台前后默认改为相反，相当于向右完成一次转弯；若为左,左向移动一，并将云台前后默认改为相反，相当于向左完成一次转弯。完成转弯后前后统一变为反方向行驶；若小于阈值，依然先判断左右，若为右则使用右归零算法移动回N=0位置；若为左，相当于完成了平面内所有的绑扎任务，相当于先一直扫描右侧，到达右边界后再右归零，一直扫描左侧，左侧也没有则判定完成了全部的任务。参见图7，前后避障：当前或者后的前进路线上有障碍物时，向左或者右行走一步；再检测前或者后的前进路线上是否有障碍物；直至前或后的前进路线上无障碍物时，再对应向前或后行走一步；参见图8，当左或者右的前进路线上有障碍物时，向前或者后行走一步；再检测左或者右的前进路线上是否有障碍物；直至左或右的前进路线上无障碍物时，再对应向左或右行走一步。综上可知，本发明的钢筋绑扎机器人的行走控制系统及方法，适用于在钢筋表面行走的步履式机器人，并基于机器人操作系统结合视觉识别技术，能控制实现在平面钢筋网上自主定位绑扎十字交叉点及智能规划行路径。机器人可自主识别钢筋交点、钢筋绑扎状态，可根据识别的交点信息完成转向判断；可根据交叉点信息、激光雷达信息完成自主导航、自主避障。本发明的钢筋绑扎机器人的行走控制系统及方法，基于预先设定的路径规划算法可从任意起点出发、自主探寻边界、自主避障，实现对钢筋平面的全覆盖走行。其在每一次走行前采用云台视觉相机按指定的顺序获取前or后、左or右方向的视野内图像，并进行钢筋交点检测，当检测到交点数量小于预设值时，转变机器人预定走行方向；且在每一次移动前使用激光雷达探测当前移动步是否会碰到障碍，没有则正常行走，有则可自动避障。步履式即一步步走行，每次移动前都经过严密规划和判断，以此实现对机器人方向及走行距离的实时控制。本发明的钢筋绑扎机器人的行走控制系统及方法，兼顾准确性和快速性。在本发明的描述中，需要理解的是，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本发明的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。在本发明中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”、“固定”等术语应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或成一体；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连；可以是两个元件内部的连通或两个元件的相互作用关系。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。在本发明中，除非另有明确的规定和限定，第一特征在第二特征 “上”或“下”，可以是第一和第二特征直接接触，或第一和第二特征通过中间媒介间接接触。而且，第一特征在第二特征“之上”、“上方”和“上面”，可以是第一特征在第二特征正上方或斜上方，或仅仅表示第一特征水平高度高于第二特征。第一特征在第二特征“之下”、“下方”和“下面”，可以是第一特征在第二特征正下方或斜下方，或仅仅表示第一特征水平高度低于第二特征。在本说明书的描述中，术语“一个实施例”、“一些实施例”、“实施例”、“示例”、“具体示例”或“一些示例”等的描述，是指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任一个或多个实施例或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本说明书中描述的不同实施例或示例以及不同实施例或示例的特征进行结合和组合。尽管上面已经示出和描述了本发明的实施例，可以理解的是，上述实施例是示例性的，不能理解为对本发明的限制，本领域的普通技术人员在本发明的范围内可以对上述实施例进行改动、修改、替换和变型。
