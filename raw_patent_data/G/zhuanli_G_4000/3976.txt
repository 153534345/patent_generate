标题title
一种电芯的膨胀力预测模型的训练方法及装置
摘要abst
本申请实施例提供了一种电芯的膨胀力预测模型的训练方法及装置、电芯的膨胀力预测方法、计算机设备及存储介质，电芯的膨胀力预测模型的训练方法包括获取电芯在不同时刻的膨胀力以及与所述膨胀力对应的温度、电压以及电流的实际值，生成样本数据集，将所述样本数据集划分为训练集以及验证集，将所述训练集作为模型输入对基于神经网络搭建的模型进行训练，并将所述验证集作为模型输入对训练后的模型进行验证，获取电芯的膨胀力预测模型，通过采用多输入单输出，即结合电压、电流、温度、膨胀力多个输入预测未来膨胀力，提高模型的精确度，考虑了膨胀力数据间的时序性，可以预测较长时间后的膨胀力变化。
权利要求书clms
1.一种电芯的膨胀力预测模型的训练方法，其特征在于，所述方法包括：获取电芯在不同时刻的膨胀力以及与所述膨胀力对应的温度、电压以及电流的实际值，生成样本数据集；将所述样本数据集划分为训练集以及验证集；将所述训练集作为模型输入对基于神经网络搭建的模型进行训练，并将所述验证集作为模型输入对训练后的模型进行验证，获取电芯的膨胀力预测模型。2.根据权利要求1所述的电芯的膨胀力预测模型的训练方法，其特征在于，将所述样本数据集划分为训练集以及验证集前，所述方法还包括：对所述样本数据集中的所述膨胀力、所述温度、所述电压以及所述电流的实际值分别进行归一化处理。3.根据权利要求2所述的电芯的膨胀力预测模型的训练方法，其特征在于，所述归一化处理的计算公式为：其中，为膨胀力、温度、电压以及电流的实际值中的其中一个，Fmin为膨胀力、温度、电压或电流取值范围的最小值，Fmax为膨胀力、温度、电压或电流取值范围的最大值。4.根据权利要求1至3任一项所述的电芯的膨胀力预测模型的训练方法，其特征在于，所述将所述训练集作为模型输入对基于神经网络搭建的模型进行训练包括：步骤一、将所述训练集中第一时刻经过归一化的数据输入基于神经网络搭建的模型中，获取第二时刻的膨胀力的预测值；步骤二、根据所述第二时刻的膨胀力的预测值以及实际值计算得到损失值；步骤三、重复迭代上述步骤一至步骤二，直至所述损失值小于预设阈值或迭代次数超过预设迭代次数上限。5.根据权利要求4所述的电芯的膨胀力预测模型的训练方法，其特征在于，所述根据所述膨胀力的预测值以及实际值计算得到损失值的计算公式如下：其中，N为带入数据样本的数量，为i时刻模型输出的膨胀力的预测值，/＞为i时刻膨胀力的实际值。6.根据权利要求1至3 任一项所述的电芯的膨胀力预测模型的训练方法，其特征在于，所述神经网络包括LSTM。7.一种电芯的膨胀力预测模型的训练装置，其特征在于，所述装置包括：数据获取模块，用于获取电芯在不同时刻的膨胀力以及与所述膨胀力对应的温度、电压以及电流的实际值，生成样本数据集；数据处理模块，用于将所述样本数据集划分为训练集以及验证集；模型获取模块，用于将所述训练集作为模型输入对基于神经网络搭建的模型进行训练，并将所述验证集作为模型输入对训练后的模型进行验证，获取电芯的膨胀力测试模型。8.一种电芯的膨胀力预测方法，其特征在于，所述方法包括：获取待预测电芯当前时刻对应的当前膨胀力以及所述当前膨胀力对应的温度、电压以及电流；对所述当前膨胀力以及所述当前膨胀力对应的温度、电压以及电流进行归一化处理，获取归一化结果；将所述归一化结果输入至根据权利要求1至6任一项所述的方法得到的电芯的膨胀力预测模型中，获取所述待预测电芯在待预测时刻的膨胀力的预测值。9.一种计算机设备，其特征在于，包括存储器和处理器，所述存储器上存储有可在所述处理器上运行的计算机程序，当所述计算机程序被所述处理器执行时，实现权利要求1～6中任一项所述的电芯的膨胀力预测模型的训练方法。10.一种计算机可读存储介质，所述计算机可读存储介质内存储有计算机程序，其特征在于，所述计算机程序被执行时，实现权利要求1～6中任一项所述的电芯的膨胀力预测模型的训练方法。
说明书desc
技术领域本申请涉及电池生产技术领域，尤其涉及一种电芯的膨胀力预测模型的训练方法及装置、电芯的膨胀力预测方法、计算机设备及存储介质。背景技术随着技术的发展，电池已经成为人类的重要能源之一，为各领域设备提供持续稳定的工作电能，逐步成为人类科技发展中不可或缺的产品，其中锂电池因其高能量密度和长循环寿命而得到广泛应用。但是电池使用过程中会产生大量的热量，尤其是密闭环境下的大型电池包工作发热特别可观，不仅会影响整个电池包性能，而且长期积聚的热量甚至会造成电池包发生起火爆炸等危险事故。目前由于电池起火爆炸的事件对社会造成了不良影响。为了起到预示警报的作用，可以通过对电芯进行膨胀力测试，但是当前预测膨胀力技术仍不成熟导致存在预警有延迟、响应不灵敏等现象。因此，亟需提出一种新的预测膨胀力的方法，以解决上述问题。发明内容为了解决现有技术中存在的上述一个或多个技术问题，本申请实施例提供了一种电芯的膨胀力预测模型的训练方法及装置、电芯的膨胀力预测方法、计算机设备及存储介质，以解决现有技术中的电芯膨胀力预测技术不成熟导致存在预警有延迟、响应不灵敏等问题。为了达到上述目的，本申请就解决其技术问题所采用的技术方案是：第一方面，本申请提供了一种电芯的膨胀力预测模型的训练方法，所述方法包括：获取电芯在不同时刻的膨胀力以及与所述膨胀力对应的温度、电压以及电流的实际值，生成样本数据集；将所述样本数据集划分为训练集以及验证集；将所述训练集作为模型输入对基于神经网络搭建的模型进行训练，并将所述验证集作为模型输入对训练后的模型进行验证，获取电芯的膨胀力预测模型。在一个具体的实施例中，将所述样本数据集划分为训练集以及验证集前，所述方法还包括：对所述样本数据集中的所述膨胀力、所述温度、所述电压以及所述电流的实际值分别进行归一化处理。在一个具体的实施例中，所述归一化处理的计算公式为：其中，F为膨胀力、温度、电压以及电流的实际值中的其中一个，Fmin为膨胀力、温度、电压或电流取值范围的最小值，Fmax为膨胀力、温度、电压或电流取值范围的最大值。在一个具体的实施例中，所述将所述训练集作为模型输入对基于神经网络搭建的模型进行训练包括：步骤一、将所述训练集中第一时刻经过归一化的数据输入基于神经网络搭建的模型中，获取第二时刻的膨胀力的预测值；步骤二、根据所述第二时刻的膨胀力的预测值以及实际值计算得到损失值；步骤三、重复迭代上述步骤一至步骤二，直至所述损失值小于预设阈值或迭代次数超过预设迭代次数上限。在一个具体的实施例中，所述根据所述膨胀力的预测值以及实际值计算得到损失值的计算公式如下：其中，N为带入数据样本的数量，为i时刻模型输出的膨胀力的预测值，/＞为i时刻膨胀力的实际值。在一个具体的实施例中，所述神经网络包括LSTM。第二方面，本申请还提供了一种电芯的膨胀力预测模型的训练装置，所述装置包括：数据获取模块，用于获取电芯在不同时刻的膨胀力以及与所述膨胀力对应的温度、电压以及电流的实际值，生成样本数据集；数据处理模块，用于将所述样本数据集划分为训练集以及验证集；模型获取模块，用于将所述训练集作为模型输入对基于神经网络搭建的模型进行训练，并将所述验证集作为模型输入对训练后的模型进行验证，获取电芯的膨胀力测试模型。第三方面，还提供了一种电芯的膨胀力预测方法，所述方法包括：获取待预测电芯当前时刻对应的当前膨胀力以及所述当前膨胀力对应的温度、电压以及电流；对所述当前膨胀力以及所述当前膨胀力对应的温度、电压以及电流进行归一化处理，获取归一化结果；将所述归一化结果输入至根据上述电芯的膨胀力预测模型的训练方法得到的电芯的膨胀力预测模型中，获取所述待预测电芯在待预测时刻的膨胀力的预测值。第四方面，还提供了一种计算机设备，包括存储器和处理器，所述存储器上存储有可在所述处理器上运行的计算机程序，当所述计算机程序被所述处理器执行时，实现所述电芯的膨胀力预测模型的训练方法。第五方面，还提供了一种计算机可读存储介质，所述计算机可读存储介质内存储有计算机程序，所述计算机程序被执行时，实现所述电芯的膨胀力预测模型的训练方法。本申请实施例提供的技术方案带来的有益效果是：本申请实施例提供的电芯的膨胀力预测模型的训练方法及装置、电芯的膨胀力预测方法、计算机设备及存储介质，电芯的膨胀力预测模型的训练方法包括获取电芯在不同时刻的膨胀力以及与所述膨胀力对应的温度、电压以及电流的实际值，生成样本数据集，将所述样本数据集划分为训练集以及验证集，将所述训练集作为模型输入对基于神经网络搭建的模型进行训练，并将所述验证集作为模型输入对训练后的模型进行验证，获取电芯的膨胀力预测模型，通过采用多输入单输出，即结合电压、电流、温度、膨胀力多个输入预测未来膨胀力，提高模型的精确度，考虑了膨胀力数据间的时序性，可以预测较长时间后的膨胀力变化；进一步地，本申请实施例提供的电芯的膨胀力预测模型的训练方法及装置、电芯的膨胀力预测方法、计算机设备及存储介质，在模型训练过程中，通过采用代价函数计算损失值进行重复迭代，直至损失值小于预设损失值或者迭代次数超过最大迭代次数上限，使得训练得到模型的精确度更高。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请实施例提供的电芯的膨胀力预测模型的训练方法的流程图；图2是本申请实施例提供的LSTM单元结构图；图3是本申请实施例提供的电芯的膨胀力预测模型的训练装置的结构示意图；图4是本申请实施例提供的电芯的膨胀力预测方法的流程图；图5是本申请实施例提供的计算机设备的机构示例图。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。如背景技术所述，现有技术中的电芯的膨胀力预测技术还不成熟，导致存在预警有延迟、响应不灵敏等现象，因此，现有技术中的电芯的膨胀力预测技术不能满足对电芯膨胀力的精准预测，从而不能做出精确预警。为解决上述一个或多个问题，本申请中创造性地提出了一种新的电芯的膨胀力预测模型的训练方法，该方法中，在进行电芯的膨胀力预测模型的训练过程中，一方面，与现有的模型输入和输出方式不同，采用多输入单输出，即结合电压、电流、温度、膨胀力多个输入预测未来膨胀力，提高模型的精确度，另一方面，通过采用代价函数计算损失值进行重复迭代，直至损失值小于预设损失值或者迭代次数超过最大迭代次数上限，进一步使得训练得到模型的精确度更高。下面将结合附图和各个实施例，对本申请的方案进行详细介绍。实施例一为实现本申请的方案，本申请实施例提供了一种电芯的膨胀力预测模型的训练方法，参照图1所示，该方法包括如下步骤：S110：获取电芯在不同时刻的膨胀力以及与所述膨胀力对应的温度、电压以及电流的实际值，生成样本数据集。具体地，为了提高模型的预测结果的精准度，与现有技术中的模型所采用的输入的输出方式不同之处在于，本申请实施中训练的模型采用多输入单输出的方式，将影响电芯膨胀力的电压、电流、温度等因素以及前序时刻的膨胀力均作为模型的输入以预测未来某个时刻的膨胀力，一方面提高了模型预测结果的精准度，另一方面由于考虑了膨胀力数据间的时序性，也即当前状态对后续状态变化的影响，从而可以预测较长时间后的膨胀力变化。基于上述原因，本申请实施例中，在模型训练前，首先采集目标电芯在各个时刻的电芯膨胀力、以及对应的电压、电流、温度的实际值，并将这四类数据一一对应后生成的大的数据集作为样本数据集。这里需要说明的是，本申请实施例中对目标电芯没有具体限制，任何会产生膨胀力的电芯均可作为本申请中的目标电芯，优选地，目标电芯为与后续需要预测膨胀力的待预测电芯为同一种或同一类型的电芯。S120：将所述样本数据集划分为训练集以及验证集。具体的，由于模型训练过程中需要使用样本数据训练模型，也需要使用样本数据验证训练后的模型，寻找最优的模型，因而，在生成样本数据集后，可以将样本数据集按照一定比例划分为两部分，即训练集和验证集。这里需要说明的是，本申请实施例中不对划分比例做具体限制，在不违背本申请发明构思的前提下，用户可根据实际训练需求进行设置，例如将样本数据集的70%划分为训练集，剩余的30%划分为验证集等。S130：将所述训练集作为模型输入对基于神经网络搭建的模型进行训练，并将所述验证集作为模型输入对训练后的模型进行验证，获取电芯的膨胀力预测模型。具体地，在训练数据准备好后，首先搭建神经网络模型，优选地，神经网络包括LSTM，然后利用训练集中的数据对预先搭建好的神经网络模型进行训练，训练完成后，再利用验证集中的数据对训练得到的模型进行验证，获取最优模型作为本申请中的电芯的膨胀力预测模型。作为一种较优的实施方式，本申请实施例中，将所述样本数据集划分为训练集以及验证集前，所述方法还包括：对所述样本数据集中的所述膨胀力、所述温度、所述电压以及所述电流的实际值分别进行归一化处理。具体地，在将样本数据集划分为训练集以及验证集前，可以先对样本数据集中的数据分别进行归一化处理，以去除量纲，即去除数据单位之间的不统一，从而去除掉单位对数值的影响，使得所有的变量都在同等的水平上参与后续处理。作为一种较优的实施方式，本申请实施例中，所述归一化处理的计算公式为：/＞其中，为膨胀力、温度、电压以及电流的实际值中的其中一个，Fmin为膨胀力、温度、电压或电流取值范围的最小值，Fmax为膨胀力、温度、电压或电流取值范围的最大值。具体地，样本数据集中的所有数据均需进行归一化处理，以膨胀力的归一化处理为例，为样本数据集中的其中一个膨胀力的实际值，Fmin为膨胀力、取值范围的最小值，Fmax为膨胀力取值范围的最大值，同理，对于温度、电压或电流的归一化处理可参照膨胀力的计算方式。作为一种较优的实施方式，本申请实施例中，所述将所述训练集作为模型输入对基于神经网络搭建的模型进行训练包括：步骤一、将所述训练集中第一时刻经过归一化的数据输入基于神经网络搭建的模型中，获取第二时刻的膨胀力的预测值；步骤二、根据所述第二时刻的膨胀力的预测值以及实际值计算得到损失值；步骤三、重复迭代上述步骤一至步骤二，直至所述损失值小于预设阈值或迭代次数超过预设迭代次数上限。具体地，以采用的神经网络为LSTM为例，其一般性地包括输入层、隐藏层以及输出层。数据经归一化处理后，将训练集中的数据依次输入预先搭建的神经网络模型中，其中，X1、 X2 …Xn依次表示第1时刻、第2时刻…第n时刻对应的温度、电压、电流以及膨胀力，y1、y2…yn依次表示根据第1时刻、第2时刻…第n时刻对应的温度、电压、电流以及膨胀力预测出的下一时刻的膨胀力的预测值，其中，预测出的下一时刻的膨胀力的预测值对应于训练集中某一时刻的膨胀力的实际值。然后根据预测出的下一时刻的膨胀力的预测值以及该时刻对应的膨胀力的实际值计算得到两者的损失值，通过重复迭代，直至损失值小于预设阈值或者迭代次数超过预设迭代次数上限。将LSTM单元的参数更新为最优损失值下的参数作为电芯的膨胀力预测模型。其中，根据所述膨胀力的预测值以及实际值计算得到损失值的计算公式如下：其中，N为带入数据样本的数量，为i时刻模型输出的膨胀力的预测值，/＞为i时刻膨胀力的实际值。参照图2所示，作为一种较优的实施方式，本申请实施例中，LSTM模型包括一般性地遗忘门、输入门和输出门，其中Xt表示当前时刻网络的输入，ht-1表示上一时刻的LSTM单元的输出值，Ct-1表示上一时刻的单元状态。具体地，遗忘门表示为：遗忘门决定了上一时刻的单元状态Ct-1能够保留多少数据信息到当前时刻Ct，中σ指Sigmoid激活函数，/＞为遗忘门的权重矩阵，/＞为偏置项。/＞的数值范围为，0代表该信息被丢弃，1则表示该信息被完全保留。其中sigmoid函数公式为：其中，表示为/＞。输入门表示为：输入门决定了当前时刻网络的输入Xt有多少数据信息保留到单元状态。输入门分为两部分，一部分是找到输入Xt中需要保留的状态，由/＞和/＞描述，另一部分是更新/＞的状态。其中，/＞为输入门的权重矩阵，/＞为偏置项。输出门表示为输出门控制单元状态有多少输出到LSTM的当前输出值。其中/＞为输入门的权重矩阵，/＞为偏置项。其中，输出门中的tanh函数公式为：其中，该公式中的表示/＞。综上，由于本申请中的LSTM模型采用多输入单输出，因而在有一定量的数据训练后，模型精确度高，同时由于考虑了膨胀力数据间的时序性，因而可以预测较长时间后的膨胀力变化。实施例二对应于上述实施例一，本申请还提供了一种电芯的膨胀力预测模型的训练装置，其中，本实施例中，与上述实施例一相同或相似的内容，可以参考上文介绍，后续不再赘述。参照图3示，该装置包括：数据获取模块，用于获取电芯在不同时刻的膨胀力以及与所述膨胀力对应的温度、电压以及电流的实际值，生成样本数据集；数据处理模块，用于将所述样本数据集划分为训练集以及验证集；模型获取模块，用于将所述训练集作为模型输入对基于神经网络搭建的模型进行训练，并将所述验证集作为模型输入对训练后的模型进行验证，获取电芯的膨胀力测试模型。实施例三对应于上述实施例一和二，本申请还提供了一种电芯的膨胀力预测方法，其中，本实施例中，与上述实施例一或二相同或相似的内容，可以参考上文介绍，后续不再赘述。参照图4示，该方法包括如下步骤：S210：获取待预测电芯当前时刻对应的当前膨胀力以及所述当前膨胀力对应的温度、电压以及电流；S220：对所述当前膨胀力以及所述当前膨胀力对应的温度、电压以及电流进行归一化处理，获取归一化结果；S230：将所述归一化结果输入至根据上述电芯的膨胀力预测模型的训练方法得到的电芯的膨胀力预测模型中，获取所述待预测电芯在待预测时刻的膨胀力的预测值。实施例四对应上述实施例一至三，本申请还提供了一种计算机设备，包括：处理器和存储器，存储器上存储有可在处理器上运行的计算机程序，当计算机程序被处理器执行时，执行上述任意一个实施例提供的电芯的膨胀力预测模型的训练方法。其中，图5示例性的展示出了计算机设备1500，具体可以包括处理器1510，视频显示适配器1511，磁盘驱动器1512，输入/输出接口1513，网络接口1514，以及存储器1520。上述处理器1510、视频显示适配器1511、磁盘驱动器1512、输入/输出接口1513、网络接口1514，与存储器1520之间可以通过通信总线1530进行通信连接。其中，处理器1510可以采用通用的CPU、微处理器、应用专用集成电路、或者一个或多个集成电路等方式实现，用于执行相关程序，以实现本发明所提供的技术方案。存储器1520可以采用ROM、RAM、静态存储设备，动态存储设备等形式实现。存储器1520可以存储用于控制电子设备运行的操作系统1521，用于控制电子设备的低级别操作的基本输入输出系统1522。另外，还可以存储网页浏览器1523，数据存储管理系统1524，以及设备标识信息处理系统1525等等。上述设备标识信息处理系统1525就可以是本发明实施例中具体实现前述各步骤操作的应用程序。总之，在通过软件或者固件来实现本发明所提供的技术方案时，相关的程序代码保存在存储器1520中，并由处理器1510来调用执行。输入/输出接口1513用于连接输入/输出模块，以实现信息输入及输出。输入输出/模块可以作为组件配置在设备中，也可以外接于设备以提供相应功能。其中输入设备可以包括键盘、鼠标、触摸屏、麦克风、各类传感器等，输出设备可以包括显示器、扬声器、振动器、指示灯等。网络接口1514用于连接通信模块，以实现本设备与其他设备的通信交互。其中通信模块可以通过有线方式实现通信，也可以通过无线方式实现通信。总线包括一通路，在设备的各个组件之间传输信息。另外，该电子设备还可以从虚拟资源对象领取条件信息数据库中获得具体领取条件的信息，以用于进行条件判断，等等。需要说明的是，尽管上述设备仅示出了处理器1510、视频显示适配器1511、磁盘驱动器1512、输入/输出接口1513、网络接口1514，存储器1520，总线等，但是在具体实施过程中，该设备还可以包括实现正常运行所必需的其他组件。此外，本领域的技术人员可以理解的是，上述设备中也可以仅包含实现本发明方案所必需的组件，而不必包含图中所示的全部组件。实施例五对应于上述实施例一至三，本申请实施例还提供了一种计算机可读存储介质，其中，本实施例中，与上述实施例一至三相同或相似的内容，可以参考上文介绍，后续不再赘述。所述计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时，实现如下步骤：获取电芯在不同时刻的膨胀力以及与所述膨胀力对应的温度、电压以及电流的实际值，生成样本数据集；将所述样本数据集划分为训练集以及验证集；将所述训练集作为模型输入对基于神经网络搭建的模型进行训练，并将所述验证集作为模型输入对训练后的模型进行验证，获取电芯的膨胀力预测模型。在一些实施方式中，本申请实施例中，所述计算机程序被处理器执行时，还可以实现与实施例一所述方法对应的步骤，可以参考实施例一的详细描述，此处不作赘述。通过以上的实施方式的描述可知，本领域的技术人员可以清楚地了解到本发明可借助软件加必需的通用硬件平台的方式来实现。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行本发明各个实施例或者实施例的某些部分所述的方法。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于系统或系统实施例而言，由于其基本相似于方法实施例，所以描述得比较简单，相关之处参见方法实施例的部分说明即可。以上所描述的系统及系统实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性劳动的情况下，即可以理解并实施。以上对本发明所提供的技术方案，进行了详细介绍，本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处。综上所述，本说明书内容不应理解为对本发明的限制。
