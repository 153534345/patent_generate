标题title
数控机床协同控制方法、装置、设备以及计算机存储介质
摘要abst
本申请涉及数控技术领域，尤其涉及一种数控机床协同控制方法、装置、设备以及计算机存储介质，该方法包括：接收至少两个边缘节点上传的实时状态数据；基于预设的训练LSTM模型对各实时状态数据进行实时预测，得到状态预测结果，状态预测结果为各数控机床在下一时间节点对应的运行状态参数；当多个运行状态参数中存在大于预设的设备状态阈值的异常参数时，确定各边缘节点中数控机床对应的当前适应度，当前适应度是依据数控机床对应的初始加工任务参数确定的；若当前适应度与数控机床的历史最优适应度匹配时，将各边缘节点中数控机床对应的运行加工任务参数同步调整为初始加工任务参数，本申请提高了数控系统的性能稳定性。
权利要求书clms
1.一种数控机床协同控制方法，其特征在于，所述数控机床协同控制方法应用于数控系统中的云端，所述云端与多个边缘节点连接；所述数控机床协同控制方法包括：接收至少两个所述边缘节点上传的实时状态数据，所述实时状态数据为所述边缘节点对应的数控机床的工作状态数据；基于预设的训练LSTM模型对各所述实时状态数据进行实时预测，得到状态预测结果，所述状态预测结果为各所述数控机床在下一时间节点对应的运行状态参数；当多个所述运行状态参数中存在大于预设的设备状态阈值的异常参数时，确定各所述数控机床对应的当前适应度，所述当前适应度是依据所述数控机床对应的初始加工任务参数确定的；当所述当前适应度与所述数控机床的历史最优适应度匹配时，将各所述边缘节点中数控机床对应的运行加工任务参数同步调整为所述初始加工任务参数。2.如权利要求1所述数控机床协同控制方法，其特征在于，在所述确定各所述数控机床对应的当前适应度的步骤之后，所述数控机床协同控制方法包括：检测所述当前适应度与所述数控机床的历史最优适应度之间绝对差值是否小于预设的适应阈值；若所述绝对差值小于所述适应阈值，则确定所述当前适应度与所述数控机床的历史最优适应度匹配；若所述绝对差值大于或等于所述适应阈值，则确定所述当前适应度与所述数控机床的历史最优适应度不匹配，依据所述当前适应度对各所述初始加工任务参数进行比较，并将比较得到的较优加工任务参数进行更新，得到新加工任务参数，依据所述新加工任务参数执行所述确定各所述数控机床对应的当前适应度的步骤。3.如权利要求2所述数控机床协同控制方法，其特征在于，所述较优加工任务参数包括较优加工任务，所述将比较得到的较优加工任务参数进行更新，得到新加工任务参数的步骤，包括：将所述较优加工任务进行更新，得到更新任务解集，并获取所述更新任务解集中子代加工任务对应的当前更新次数，所述更新至少包括交叉操作、变异操作和选择操作；依据所述当前更新次数确定所述子代加工任务对应的第一加工路径，并依据所述当前更新次数和所述第一加工路径确定所述子代加工任务对应的目标位移向量；将所述目标位移向量叠加在所述第一加工路径上，得到所述子代加工任务对应的子代加工路径，并将所述子代加工任务和所述子代加工路径作为新加工任务参数。4.如权利要求3所述数控机床协同控制方法，其特征在于，所述更新任务解集还包括目标加工任务，所述目标加工任务为除所述子代加工任务之外的其它加工任务；所述依据所述当前更新次数和所述第一加工路径确定所述子代加工任务对应的目标位移向量的步骤，包括：依据所述当前更新次数确定所述目标加工任务的目标加工路径；并依据所述第一加工路径与所述目标加工路径之间的差值，和所述目标加工任务的质量数值，确定所述子代加工任务与所述目标加工任务之间的吸引力数值；当所述当前更新次数与初始更新次数匹配时，根据预设的万有引力常数与所述吸引力数值之间的乘积，得到目标位移向量。5.如权利要求4所述数控机床协同控制方法，其特征在于，在所述确定所述子代加工任务与所述目标加工任务之间的吸引力数值的步骤之后，所述数控机床协同控制方法，还包括：判断所述当前更新次数是否与所述初始更新次数一致；若所述当前更新次数与所述初始更新次数一致，则确定所述当前更新次数与所述初始更新次数匹配；若所述当前更新次数与所述初始更新次数不一致，则确定所述当前更新次数与所述初始更新次数不匹配，依据所述当前更新次数的前一次更新次数确定所述子代加工任务的历史位移向量，并将所述历史位移向量与预设的惯性系数之间的乘积叠加到所述万有引力常数与所述吸引力数值之间的乘积上，得到目标位移向量。6.如权利要求1所述数控机床协同控制方法，其特征在于，所述基于预设的训练LSTM模型对各所述实时状态数据进行实时预测，得到状态预测结果步骤，包括：对各所述实时状态数据进行数据预处理，得到当前状态数据，其中，所述数据预处理至少包括去噪处理、归一化处理和滤波处理；基于预设的注意力机制对各所述当前状态数据进行关注权重分配，得到各所述当前状态数据各自对应的加权特征向量；将各所述加权特征向量输入至预设的训练LSTM模型进行模型训练，得到状态预测结果。7.如权利要求1所述数控机床协同控制方法，其特征在于，所述基于预设的训练LSTM模型对各所述实时状态数据进行实时预测的步骤之前，所述数控机床协同控制方法还包括：获取预设的设备状态数据集，所述设备状态数据集包括所有所述边缘节点中数控机床的历史状态数据和所述实时状态数据；将所述设备状态数据集分为训练数据集和验证集；将所述训练数据集中的状态特征数据输入至预设的原始LSTM模型进行模型训练，生成状态识别参数；在所述验证集中获取与所述状态识别参数对应的状态验证参数；根据所述状态识别参数和所述状态验证参数进行计算，得到所述原始LSTM模型的设备状态误差率；当所述设备状态误差率大于或者等于预设的误差率阈值时，根据所述状态识别参数和所述状态验证参数调整所述原始LSTM模型，直至计算得到最新的设备状态误差率小于所述误差率阈值，得到训练好的原始LSTM模型，并将所述训练好的原始LSTM模型作为预设的训练LSTM模型。8.一种数控机床协同控制装置，其特征在于，所述数控机床协同控制装置，包括：接收模块，用于接收至少两个边缘节点上传的实时状态数据，所述实时状态数据为所述边缘节点对应的数控机床的工作状态数据；预测模块，用于基于预设的训练LSTM模型对各所述实时状态数据进行实时预测，得到状态预测结果，所述状态预测结果为各所述数控机床在下一时间节点对应的运行状态参数；适应度确定模块，用于当多个所述运行状态参数中存在大于预设的设备状态阈值的异常参数时，确定各所述数控机床对应的当前适应度，所述当前适应度是依据所述数控机床对应的初始加工任务参数确定的；协同模块，用于当所述当前适应度与所述数控机床的历史最优适应度匹配时，将各所述边缘节点中数控机床对应的运行加工任务参数同步调整为所述初始加工任务参数。9.一种终端设备，其特征在于，所述终端设备包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的数控机床协同程序，所述处理器执行所述数控机床协同程序时实现如权利要求1至7中任一项所述数控机床协同控制方法的步骤。10.一种计算机存储介质，其特征在于，所述计算机存储介质上存储有数控机床协同程序，所述数控机床协同程序被处理器执行时实现如权利要求1至7中任一项所述数控机床协同控制方法的步骤。
说明书desc
技术领域本申请涉及数控技术领域，尤其涉及一种数控机床协同控制方法、装置、设备以及计算机存储介质。背景技术数控机床作为工业母机，是制造业核心基础装备。传统的数控系统解决方案主要是将多台数控机床通过有线网络连接到一个中央控制器上，中央控制器负责向各个数控设备发送指令和接收反馈信息。这种方式的缺点在于，中央控制器作为单点故障，一旦中央控制器出现问题，整个系统都将失去控制和监控。此外，由于多台数控设备的计算负载分布不均，一些数控设备可能会出现性能瓶颈，从而影响整个系统的效率和稳定性。也就是说，现有的数控系统解决方案存在着系统性能稳定性差的技术问题。发明内容本申请的主要目的在于提供一种数控机床协同控制方法、装置、设备以及计算机存储介质，旨在提高数控系统的性能稳定性。为实现上述目的，本申请提供一种数控机床协同控制方法，数控机床协同控制方法应用于数控系统中的云端，所述云端与多个边缘节点连接；所述数控机床协同控制方法包括：接收至少两个所述边缘节点上传的实时状态数据，所述实时状态数据为所述边缘节点对应的数控机床的工作状态数据；基于预设的训练LSTM模型对各所述实时状态数据进行实时预测，得到状态预测结果，所述状态预测结果为各所述数控机床在下一时间节点对应的运行状态参数；当多个所述运行状态参数中存在大于预设的设备状态阈值的异常参数时，确定各所述数控机床对应的当前适应度，所述当前适应度是依据所述数控机床对应的初始加工任务参数确定的；当所述当前适应度与所述数控机床的历史最优适应度匹配时，将各所述边缘节点中数控机床对应的运行加工任务参数同步调整为所述初始加工任务参数。可选地，在所述确定各所述数控机床对应的当前适应度的步骤之后，所述数控机床协同控制方法包括：检测所述当前适应度与所述数控机床的历史最优适应度之间绝对差值是否小于预设的适应阈值；若所述绝对差值小于所述适应阈值，则确定所述当前适应度与所述数控机床的历史最优适应度匹配；若所述绝对差值大于或等于所述适应阈值，则确定所述当前适应度与所述数控机床的历史最优适应度不匹配，依据所述当前适应度对各所述初始加工任务参数进行比较，并将比较得到的较优加工任务参数进行更新，得到新加工任务参数，依据所述新加工任务参数执行所述确定各所述数控机床对应的当前适应度的步骤。可选地，所述较优加工任务参数包括较优加工任务，所述将比较得到的较优加工任务参数进行更新，得到新加工任务参数的步骤，包括：将所述较优加工任务进行更新，得到更新任务解集，并获取所述更新任务解集中子代加工任务对应的当前更新次数，所述更新至少包括交叉操作、变异操作和选择操作；依据所述当前更新次数确定所述子代加工任务对应的第一加工路径，并依据所述当前更新次数和所述第一加工路径确定所述子代加工任务对应的目标位移向量；将所述目标位移向量叠加在所述第一加工路径上，得到所述子代加工任务对应的子代加工路径，并将所述子代加工任务和所述子代加工路径作为新加工任务参数。可选地，所述更新任务解集还包括目标加工任务，所述目标加工任务为除所述子代加工任务之外的其它加工任务；所述依据所述当前更新次数和所述第一加工路径确定所述子代加工任务对应的目标位移向量的步骤，包括：依据所述当前更新次数确定所述目标加工任务的目标加工路径；并依据所述第一加工路径与所述目标加工路径之间的差值，和所述目标加工任务的质量数值，确定所述子代加工任务与所述目标加工任务之间的吸引力数值；当所述当前更新次数与初始更新次数匹配时，根据预设的万有引力常数与所述吸引力数值之间的乘积，得到目标位移向量。可选地，在所述确定所述子代加工任务与所述目标加工任务之间的吸引力数值的步骤之后，所述数控机床协同控制方法，还包括：判断所述当前更新次数是否与所述初始更新次数一致；若所述当前更新次数与所述初始更新次数一致，则确定所述当前更新次数与所述初始更新次数匹配；若所述当前更新次数与所述初始更新次数不一致，则确定所述当前更新次数与所述初始更新次数不匹配，依据所述当前更新次数的前一次更新次数确定所述子代加工任务的历史位移向量，并将所述历史位移向量与预设的惯性系数之间的乘积叠加到所述万有引力常数与所述吸引力数值之间的乘积上，得到目标位移向量。可选地，所述基于预设的训练LSTM模型对各所述实时状态数据进行实时预测，得到状态预测结果步骤，包括：对各所述实时状态数据进行数据预处理，得到当前状态数据，其中，所述数据预处理至少包括去噪处理、归一化处理和滤波处理；基于预设的注意力机制对各所述当前状态数据进行关注权重分配，得到各所述当前状态数据各自对应的加权特征向量；将各所述加权特征向量输入至预设的训练LSTM模型进行模型训练，得到状态预测结果。可选地，所述基于预设的训练LSTM模型对各所述实时状态数据进行实时预测的步骤之前，所述数控机床协同控制方法还包括：获取预设的设备状态数据集，所述设备状态数据集包括所有所述边缘节点中数控机床的历史状态数据和所述实时状态数据；将所述设备状态数据集分为训练数据集和验证集；将所述训练数据集中的状态特征数据输入至预设的原始LSTM模型进行模型训练，生成状态识别参数；在所述验证集中获取与所述状态识别参数对应的状态验证参数；根据所述状态识别参数和所述状态验证参数进行计算，得到所述原始LSTM模型的设备状态误差率；当所述设备状态误差率大于或者等于预设的误差率阈值时，根据所述状态识别参数和所述状态验证参数调整所述原始LSTM模型，直至计算得到最新的设备状态误差率小于所述误差率阈值，得到训练好的原始LSTM模型，并将所述训练好的原始LSTM模型作为预设的训练LSTM模型。此外，为实现上述目的，本申请还提供一种数控机床协同装置，本申请数控机床协同装置包括：接收模块，用于接收至少两个边缘节点上传的实时状态数据，所述实时状态数据为所述边缘节点对应的数控机床的工作状态数据；预测模块，用于基于预设的训练LSTM模型对各所述实时状态数据进行实时预测，得到状态预测结果，所述状态预测结果为各所述数控机床在下一时间节点对应的运行状态参数；适应度确定模块，用于当多个所述运行状态参数中存在大于预设的设备状态阈值的异常参数时，确定各所述数控机床对应的当前适应度，所述当前适应度是依据所述数控机床对应的初始加工任务参数确定的；协同模块，用于当所述当前适应度与所述数控机床的历史最优适应度匹配时，将各所述边缘节点中数控机床对应的运行加工任务参数同步调整为所述初始加工任务参数。本申请数控机床协同装置的各个功能模块在运行时实现如上所述的本申请数控机床协同控制方法的步骤。此外，为实现上述目的，本申请还提供一种终端设备，所述终端设备包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的数控机床协同程序，所述数控机床协同程序被所述处理器执行时实现上述数控机床协同控制方法的步骤。此外，为实现上述目的，本申请还提供一种计算机存储介质，所述计算机存储介质上存储有数控机床协同程序，所述数控机床协同程序被处理器执行时实现上述的数控机床协同控制方法的步骤。本申请根据云端与多个边缘节点之间的连接，可以实时获取边缘节点上传的实时状态数据，基于预设的训练LSTM模型对多个实时状态数据进行实时预测，提高了状态预测结果的预测精度和预测实时性，即可以及时准确地得到每个数控机床在下一时间节点时的运行状态参数，并在检测到多个运行状态参数中存在大于预设的设备状态阈值的异常参数时，可以迅速地依据每个数控机床对应的初始加工任务参数确定各数控机床对应的当前适应度，然后在确定当前适应度与数控机床的历史最优适应度匹配的同一时刻，将各边缘节点中数控机床对应的运行加工任务参数同步调整为初始加工任务参数，即通过对各数控机床的协同控制进一步提高了数控系统的性能稳定性，从而解决了现有的数控系统解决方案存在着系统性能稳定性差的技术问题。附图说明图1是本申请数控机床协同控制方法第一实施例的流程示意图；图2是本申请数控系统的结构示意图；图3是本申请数控机床协同控制方法第二实施例的流程示意图；图4是本申请实施例方案涉及的数控机床协同装置的结构示意图；图5为本申请实施例方案涉及的终端设备的结构示意图；图6是本申请实施例方案涉及的计算机存储介质的结构示意图。本申请目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式本申请实施例提供了一种数控机床协同控制方法，参照图1所示，图1是本申请数控机床协同控制方法第一实施例的流程示意图。这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本申请相一致的所有实施方式。本实施例中，本申请数控机床协同控制方法具体由数控系统中的云端来执行。参照图2，图2是本申请数控系统的结构示意图，数控系统还包括多个边缘节点，云端和多个边缘节点连接，且每个边缘节点都包括多个边缘子节点，各边缘子节点之间建立有通信连接。具体的，每一边缘子节点连接着一个传感器，该传感器用于采集边缘节点中数控机床的原始工作状态数据，且传感器包括但不限于温度传感器和振动传感器。另外，需要说明的是，原始工作状态数据包括但不限于数控机床的机床速度和刀具切削力。在本实施例中，本申请云端与多个边缘节点建立有连接关系，可以支持各边缘节点中的数控机床进行多机协同计算，进而实现更加智能化和自适应的任务调度，从而提高系统的整体效率和可靠性。本申请数控机床协同控制方法包括：步骤S10：接收至少两个所述边缘节点上传的实时状态数据，所述实时状态数据为所述边缘节点对应的数控机床的工作状态数据；在本实施例中，根据传感器和边缘节点中边缘子节点之间的连接，边缘节点接收传感器采集的原始工作状态数据，此时，边缘节点会对原始工作状态数据进行数据清洗，将原始工作状态数据中存在的错误数据、重复数据和残缺数据进行删除，得到实时状态数据，即本申请将原始工作状态数据分散到不同的边缘节点上，可以利用各边缘节点的计算资源和存储空间实现对各边缘节点中数控机床的原始工作状态数据的高效处理，通过各边缘节点分担云端数据处理的压力以提高数控系统的性能。然后根据云端和多个边缘节点之间的连接，云端可以及时地接收到至少两个边缘节点发送的实时状态数据，即将对实时状态数据推送到云端进行处理可以提高数控系统整体的计算效率和响应速度。具体的，实时状态数据的数量有多个，实时状态数据为每个边缘节点中数控机床的工作状态数据，且工作状态数据是指数据清洗后的原始工作状态数据。步骤S20：基于预设的训练LSTM模型对各所述实时状态数据进行实时预测，得到状态预测结果，所述状态预测结果为各所述数控机床在下一时间节点对应的运行状态参数；在本实施例中，云端先对多个实时状态数据进行数据预处理，并将预处理后的实时状态数据作为当前状态数据，基于预设的注意力机制对每个当前状态数据中的不同特征数据进行关注权重分配，从而增加了预设的训练LSTM模型的稳健性和泛化性；然后将关注权重分配后的每一数控机床的当前状态数据对应的加权特征向量输入预设的训练LSTM模型进行模型训练，可以更加准确地预测数控机床的状态预测结果，即可以更好地应对每一实时状态数据的处理，进而提高了状态预测结果的预测精度和实时性，从而优化了数控系统的运行效率和稳定性。需要说明的是，状态预测结果可以理解为各数控机床在下一时间节点对应的运行状态参数。且运行状态参数包括但不限于数控机床的机床速度预测结果和刀具切削力预测结果；另外，不同特征数据可以根据用户的需求进行自定义，本申请的不同特征数据包括但不限于机床速度的特征向量和刀具切削力的特征向量。步骤S30：当多个所述运行状态参数中存在大于预设的设备状态阈值的异常参数时，确定各所述数控机床对应的当前适应度，所述当前适应度是依据所述数控机床对应的初始加工任务参数确定的；在本实施例中，云端判断多个运行状态参数中时是否存在大于预设的设备状态阈值的异常参数，当多个运行状态参数中存在有大于预设的设备状态阈值的异常参数时，随机生成每一数控机床对应的初始加工参数，然后依据初始加工参数确定各边缘节点中数控机床对应的当前适应度，实现了对多个数控机床的优化调度。具体的，在确定初始加工参数，根据以下公式1可以确定各边缘节点中数控机床对应的当前适应度，其中，初始加工参数包括初始加工任务和初始加工路径。公式1其中，表示种群中第/＞个个体的位置，/＞为目标函数的个数，/＞为第/＞个目标函数的权重系数，/＞表示第/＞个目标函数在/＞处的函数值。在具体实施例中，本申请种群可以理解为由多个数控机床的加工任务和加工路径组成的集合；第个个体可以理解为第/＞个数控机床的加工任务；第/＞个个体的位置可以理解为数控机床的加工路径；目标函数可以理解为包含特征数据的函数，且每一特征数据对应着一个目标函数，例如，机床速度对应着一个机床速度目标函数。需要说明的是，数控机床的加工任务可以理解为初始加工任务或者子代加工任务；数控机床的加工路径可以理解为初始加工路径或者子代加工路径。步骤S40：当所述当前适应度与所述数控机床的历史最优适应度匹配时，将各所述边缘节点中数控机床对应的运行加工任务参数同步调整为所述初始加工任务参数。在本实施例中，在确定当前适应度与数控机床的历史最优适应度匹配的同一时刻，将当前适应度对应的初始加工任务参数作为最优解下发给各个边缘节点，以供各边缘节点同时将该初始加工任务参数叠加到各边缘节点中的数控机床上，即可以将各边缘节点中数控机床对应的运行加工任务参数同步调整为该初始加工任务参数，从而实现了多个数控机床的同步控制，进而可以自动化地调整数控机床的工作状态和工作流程以提高数控机床的生产效率和准确性。具体的，当前适应度与历史最优适应度匹配的条件需要满足下述公式2：公式2其中，为数控机床的历史最优适应度，且历史最优适应度可以理解为历史种群对应的适应度数值最好的数据；/＞是指当前适应度；/＞可以理解为预设的适应阈值，本申请对预设的适应阈值不做限制，可以根据用户的需求进行自定义。综上，本申请根据云端与多个边缘节点之间的连接，可以实时获取边缘节点上传的实时状态数据，基于预设的训练LSTM模型对多个实时状态数据进行实时预测，提高了状态预测结果的预测精度和预测实时性，即可以及时准确地得到每个数控机床在下一时间节点时的运行状态参数，并在检测到多个运行状态参数中存在大于预设的设备状态阈值的异常参数时，可以迅速地依据每个数控机床对应的初始加工任务参数确定各数控机床对应的当前适应度，然后在确定当前适应度与数控机床的历史最优适应度匹配的同一时刻，将各边缘节点中数控机床对应的运行加工任务参数同步调整为初始加工任务参数，即通过对各数控机床的协同控制进一步提高了数控系统的性能稳定性，从而解决了现有的数控系统解决方案存在着系统性能稳定性差的技术问题。进一步地，基于本申请数控机床协同控制方法的第一实施例，提出本申请数控机床协同控制方法的第二实施例，参照图3，图3是本申请数控机床协同控制方法第二实施例的流程示意图。进一步地，在一些可行的实施例中，在上述步骤S30：确定各所述数控机床对应的当前适应度之后，数控机床协同控制方法还可以包括以下实施步骤：步骤A10：检测所述当前适应度与所述数控机床的历史最优适应度之间绝对差值是否小于预设的适应阈值；在本实施例中，云端获取数控机床的历史种群中的历史最优适应度，再检测当前适应度与数控机床的历史最优适应度之间差的绝对值是否小于预设的适应阈值。需要说明的是，历史种群可以理解为由多个数控机床的历史加工任务和历史加工路径组成的集合。步骤A20：若所述绝对差值小于所述适应阈值，则确定所述当前适应度与所述数控机床的历史最优适应度匹配；在本实施例中，若当前适应度与历史最优适应度之间差的绝对值小于预设的适应阈值，确定当前适应度与历史最优适应度匹配。步骤A30：若所述绝对差值大于或等于所述适应阈值，则确定所述当前适应度与所述数控机床的历史最优适应度不匹配，依据所述当前适应度对各所述初始加工任务参数进行比较，并将比较得到的较优加工任务参数进行更新，得到新加工任务参数；在本实施例中，若当前适应度与历史最优适应度之间差的绝对值大于或等于预设的适应阈值，则确定当前适应度与数控机床的历史最优适应度不匹配，按照当前适应度从多个初始加工任务参数中筛选出较优加工任务参数，并对较优加工任务参数进行更新，得到新加工任务参数。需要说明的是，每一初始加工任务参数对应一个数控机床的生产效率，较优加工任务参数可以理解为在多个初始加工任务参数中生产效率最高的数据。步骤A40：依据所述新加工任务参数执行所述确定各所述数控机床对应的当前适应度的步骤。在本实施例中，将新加工任务参数作为下一个初始加工任务参数，并返回执行确定各所述数控机床对应的当前适应度的步骤，其中，当前适应度是依据数控机床对应的初始加工任务参数确定的。进一步地，在一些可行的实施例中，所述较优加工任务参数包括较优加工任务，上述步骤A30：将比较得到的较优加工任务参数进行更新，得到新加工任务参数，还可以包括以下实施步骤：步骤A301：将所述较优加工任务进行更新，得到更新任务解集，并获取所述更新任务解集中子代加工任务对应的当前更新次数，所述更新至少包括交叉操作、变异操作和选择操作；在本实施例中，云端按照预设的遗传算法对较优加工任务参数中的较优加工任务进行交叉、变异和选择等操作，得到由多个更新后的较优加工任务所组成的更新任务解集，然后获取更新任务解集中子代加工任务对应的当前更新次数。需要说明的是，更新任务解集包括子代加工任务和目标加工任务，且子代加工任务是指多个更新后的较优加工任务中的任意一个加工任务，目标加工任务为除子代加工任务之外的其它加工任务；较优加工任务参数还包括较优加工路径。步骤A302：依据所述当前更新次数确定所述子代加工任务对应的第一加工路径，并依据所述当前更新次数和所述第一加工路径确定所述子代加工任务对应的目标位移向量；在本实施例中，云端在获取到子代加工任务在当前更新次数时的第一加工路径的同一时刻，根据第一加工路径确定子代加工任务在当前更新次数时的目标位移向量。需要说明的是，第一加工路径可以理解为在当前更新次数对应的时间节点上，依据子代加工任务在数控机床上的位置而确定的。步骤A303：将所述目标位移向量叠加在所述第一加工路径上，得到所述子代加工任务对应的子代加工路径，并将所述子代加工任务和所述子代加工路径作为新加工任务参数。在本实施例中，云端依据目标位移向量对较优加工任务参数中的较优加工路径进行更新，即根据目标位移向量与第一加工路径之间的和，得到更新后的较优加工路径，然后将更新后的较优加工路径作为子代加工任务对应的子代加工路径，再将子代加工任务和子代加工路径作为新加工任务参数。在具体实施例中，按照下述公式3得到子代加工任务对应的子代加工路径。公式3其中，表示种群中第/＞个个体在第/＞代时的位置，/＞表示第/＞个个体在第/＞代时的位移向量，/＞可以理解为当前更新次数，/＞表示子代加工任务对应的子代加工路径。进一步地，在另一些可行的实施例中，所述更新任务解集还包括目标加工任务，所述目标加工任务为除所述子代加工任务之外的其它加工任务；上述步骤A302：依据所述当前更新次数和所述第一加工路径确定所述子代加工任务对应的目标位移向量，还可以包括以下实施步骤：步骤A3021：依据所述当前更新次数确定所述目标加工任务的目标加工路径；并依据所述第一加工路径与所述目标加工路径之间的差值，和所述目标加工任务的质量数值，确定所述子代加工任务与所述目标加工任务之间的吸引力数值；在本实施例中，云端获取目标加工任务在当前更新次数时的目标加工路径，依据获取到的第一加工路径与目标加工路径之间的差值和目标加工任务的质量数值，确定子代加工任务与目标加工任务之间的吸引力数值。在本实施例中，本申请通过引入物体的质量来影响其被其它物体吸引的程度，从而实现对数控机床加工任务的分配和优化，即本申请能够处理大规模和复杂的优化问题，实现高效的数控机床调度和优化。步骤A3022：当所述当前更新次数与初始更新次数匹配时，根据预设的万有引力常数与所述吸引力数值之间的乘积，得到目标位移向量。在本实施例中，若当前更新次数的数值为1，则确定当前更新次数与初始更新次数匹配，并根据预设的万有引力常数与吸引力数值之间的乘积，得到目标位移向量。进一步地，在一些可行的实施例中，在上述步骤A3021：确定所述子代加工任务与所述目标加工任务之间的吸引力数值之后，数控机床协同控制还可以包括以下实施步骤：步骤B10：判断所述当前更新次数是否与所述初始更新次数一致；步骤B20：若所述当前更新次数与所述初始更新次数一致，则确定所述当前更新次数与所述初始更新次数匹配；步骤B30：若所述当前更新次数与所述初始更新次数不一致，则确定所述当前更新次数与所述初始更新次数不匹配，依据所述当前更新次数的前一次更新次数确定所述子代加工任务的历史位移向量，并将所述历史位移向量与预设的惯性系数之间的乘积叠加到所述万有引力常数与所述吸引力数值之间的乘积上，得到目标位移向量。在本实施例中，云端判断当前更新次数是否与初始更新次数一致，若当前更新次数与初始更新次数一致，则确定当前更新次数与初始更新次数匹配；若当前更新次数与初始更新次数不一致，则确定当前更新次数与初始更新次数不匹配，依据当前更新次数的前一次更新次数确定子代加工任务的历史位移向量；并将历史位移向量与预设的惯性系数之间的乘积叠加到万有引力常数与吸引力数值之间的乘积上，得到目标位移向量。在具体实施例中，根据下述公式4得到目标位移向量。公式4其中，为第/＞个个体在本代的位置，即可以理解为目标加工任务在当前更新次数时的目标加工路径；/＞为第/＞个个体的质量，即可以理解为目标加工任务的质量数值；/＞为第/＞个个体到第/＞个个体的距离，即可以理解为子代加工任务到目标加工任务的距离；/＞为万有引力常数，/＞为惯性系数，/＞为第/＞个个体在上一代的位移向量，可以理解为子代加工任务在当前更新次数的前一次更新次数时的历史位移向量。进一步地，在另一些可行的实施例中，上述步骤S20：基于预设的训练LSTM模型对各所述实时状态数据进行实时预测，得到状态预测结果，还可以包括以下实施步骤：步骤S201：对各所述实时状态数据进行数据预处理，得到当前状态数据，其中，所述数据预处理至少包括去噪处理、归一化处理和滤波处理；在本实施例中，云端对各实时状态数据进行数据预处理，可以有效提高实时状态数据的质量和准确性，然后将得到的多个预处理的实时状态数据作为当前状态数据，其中，数据预处理至少包括去噪处理、归一化处理和滤波处理。步骤S202：基于预设的注意力机制对各所述当前状态数据进行关注权重分配，得到各所述当前状态数据各自对应的加权特征向量；在本实施例中，云端通过多头注意力机制来处理各数控机床对应的当前状态数据，即通过每个注意力头自适应地关注每个当前状态数据中的不同特征数据，得到各特征数据的权重比例，然后依据特征数据和特征数据的权重比例确定当前状态数据对应的加权特征向量。步骤S203：将各所述加权特征向量输入至预设的训练LSTM模型进行模型训练，得到状态预测结果。在本实施例中，云端将各加权特征向量输入至预设的训练LSTM模型进行模型训练，可以准确地得到状态预测结果。进一步地，在一些可行的实施例中，在上述步骤S20：基于预设的训练LSTM模型对各所述实时状态数据进行实时预测之前，数控机床协同控制方法还可以包括以下实施步骤：步骤C10：获取预设的设备状态数据集，所述设备状态数据集包括所有所述边缘节点中数控机床的历史状态数据和所述实时状态数据；在本实施例中，云端获取预设的设备状态数据集，其中，设备状态数据集包括所有边缘节点中数控机床的历史状态数据和实时状态数据。具体的，历史状态数据存储在边缘节点中的本地缓存，或者/和云端的存储空间中。步骤C20：将所述设备状态数据集分为训练数据集和验证集；在本实施例中，云端对设备状态数据集进行划分，即随机从设备状态数据集选出一部分数据作为训练数据集，并将余下的部分数据作为验证集。需要说明的是，训练数据集在设备状态数据集中所占的比例大于验证集在设备状态数据集中所占的比例。步骤C30：将所述训练数据集中的状态特征数据输入至预设的原始LSTM模型进行模型训练，生成状态识别参数；在本实施例中，云端将训练数据集中的状态特征数据输入至预设的原始LSTM模型进行模型训练，生成状态识别参数。步骤C30：在所述验证集中获取与所述状态识别参数对应的状态验证参数；在本实施例中，云端在验证集中获取与状态识别参数对应的状态验证参数。步骤C40：根据所述状态识别参数和所述状态验证参数进行计算，得到所述原始LSTM模型的设备状态误差率；在本实施例中，云端根据状态识别参数和状态验证参数进行计算，得到所述原始LSTM模型的设备状态误差率；步骤C50：当所述设备状态误差率大于或者等于预设的误差率阈值时，根据所述状态识别参数和所述状态验证参数调整所述原始LSTM模型，直至计算得到最新的设备状态误差率小于所述误差率阈值，得到训练好的原始LSTM模型，并将所述训练好的原始LSTM模型作为预设的训练LSTM模型。在本实施例中，当设备状态误差率大于或者等于预设的误差率阈值时，云端根据状态识别参数和状态验证参数调整原始LSTM模型，直至计算得到最新的设备状态误差率小于误差率阈值，得到训练好的原始LSTM模型，并将训练好的原始LSTM模型作为预设的训练LSTM模型。在本实施例中，本申请基于预设的训练LSTM模型对历史状态数据进行学习和分析，实现对数控机床未来状态的预测，并根据实时状态数据不断更新预测结果，从而提高预测的准确性和实时性。此外，本申请还提供一种数控机床协同装置，请参照图4，图4是本申请实施例方案涉及的数控机床协同装置的结构示意图。本申请数控机床协同装置包括：接收模块H01，用于接收至少两个边缘节点上传的实时状态数据，所述实时状态数据为所述边缘节点对应的数控机床的工作状态数据；预测模块H02，用于基于预设的训练LSTM模型对各所述实时状态数据进行实时预测，得到状态预测结果，所述状态预测结果为各所述数控机床在下一时间节点对应的运行状态参数；适应度确定模块H03，用于当多个所述运行状态参数中存在大于预设的设备状态阈值的异常参数时，确定各所述数控机床对应的当前适应度，所述当前适应度是依据所述数控机床对应的初始加工任务参数确定的；协同模块H04，用于当所述当前适应度与所述数控机床的历史最优适应度匹配时，将各所述边缘节点中数控机床对应的运行加工任务参数同步调整为所述初始加工任务参数。可选地，适应度确定模块H03还可以包括：检测单元，用于检测所述当前适应度与所述数控机床的历史最优适应度之间绝对差值是否小于预设的适应阈值；第一匹配单元，用于检测若所述绝对差值小于所述适应阈值，则确定所述当前适应度与所述数控机床的历史最优适应度匹配；比较单元，用于若所述绝对差值大于或等于所述适应阈值，则确定所述当前适应度与所述数控机床的历史最优适应度不匹配，依据所述当前适应度对各所述初始加工任务参数进行比较，并将比较得到的较优加工任务参数进行更新，得到新加工任务参数；执行单元，用于依据所述新加工任务参数执行所述确定各所述数控机床对应的当前适应度的步骤。可选地，适应度确定模块H03还可以包括：更新单元，用于将所述较优加工任务进行更新，得到更新任务解集，并获取所述更新任务解集中子代加工任务对应的当前更新次数，所述更新至少包括交叉操作、变异操作和选择操作；位移单元，用于依据所述当前更新次数确定所述子代加工任务对应的第一加工路径，并依据所述当前更新次数和所述第一加工路径确定所述子代加工任务对应的目标位移向量；第一叠加单元，用于将所述目标位移向量叠加在所述第一加工路径上，得到所述子代加工任务对应的子代加工路径，并将所述子代加工任务和所述子代加工路径作为新加工任务参数。可选地，适应度确定模块H03还可以包括：第一计算单元，用于依据所述当前更新次数确定所述目标加工任务的目标加工路径；并依据所述第一加工路径与所述目标加工路径之间的差值，和所述目标加工任务的质量数值，确定所述子代加工任务与所述目标加工任务之间的吸引力数值；第二匹配单元，用于当所述当前更新次数与初始更新次数匹配时，根据预设的万有引力常数与所述吸引力数值之间的乘积，得到目标位移向量。可选地，适应度确定模块H03还可以包括：判断单元，用于判断所述当前更新次数是否与所述初始更新次数一致；第三匹配单元，用于若所述当前更新次数与所述初始更新次数一致，则确定所述当前更新次数与所述初始更新次数匹配；历史位移向量确定单元，用于若所述当前更新次数与所述初始更新次数不一致，则确定所述当前更新次数与所述初始更新次数不匹配，依据所述当前更新次数的前一次更新次数确定所述子代加工任务的历史位移向量，并将所述历史位移向量与预设的惯性系数之间的乘积叠加到所述万有引力常数与所述吸引力数值之间的乘积上，得到目标位移向量。可选地，预测模块H02，还可以包括：预处理单元，用于对各所述实时状态数据进行数据预处理，得到当前状态数据，其中，所述数据预处理至少包括去噪处理、归一化处理和滤波处理；分配单元，用于基于预设的注意力机制对各所述当前状态数据进行关注权重分配，得到各所述当前状态数据各自对应的加权特征向量；模型训练单元，用于将各所述加权特征向量输入至预设的训练LSTM模型进行模型训练，得到状态预测结果。可选地，预测模块H02，还可以包括：获取单元，用于获取预设的设备状态数据集，所述设备状态数据集包括所有所述边缘节点中数控机床的历史状态数据和所述实时状态数据；划分单元，用于将所述设备状态数据集分为训练数据集和验证集；状态识别单元，用于将所述训练数据集中的状态特征数据输入至预设的原始LSTM模型进行模型训练，生成状态识别参数；状态验证单元，用于在所述验证集中获取与所述状态识别参数对应的状态验证参数；第二计算单元，用于根据所述状态识别参数和所述状态验证参数进行计算，得到所述原始LSTM模型的设备状态误差率；第三计算单元，用于当所述设备状态误差率大于或者等于预设的误差率阈值时，根据所述状态识别参数和所述状态验证参数调整所述原始LSTM模型，直至计算得到最新的设备状态误差率小于所述误差率阈值，得到训练好的原始LSTM模型，并将所述训练好的原始LSTM模型作为预设的训练LSTM模型。本申请数控机床协同装置的各个功能模块在运行时实现如上所述的本申请数控机床协同控制方法的步骤。此外，本申请还提供一种终端设备。请参照图5，图5为本申请实施例方案涉及的终端设备的结构示意图。本申请实施例终端设备具体可以是为本地运行数控机床协同的设备。如图5所示，本申请实施例终端设备可以包括：处理器1001，例如CPU，通信总线1002，用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口。存储器1005设置在终端设备主体上，存储器1005上存储有程序，该程序被处理器1001执行时实现相应的操作。存储器1005还用于存储供终端设备使用的参数。存储器1005可以是高速RAM存储器，也可以是稳定的存储器，例如磁盘存储器。存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图5中示出的终端设备结构并不构成对终端设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如图5所示，作为一种存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及终端设备的数控机床协同程序。在图5所示的终端设备中，处理器1001可以用于调用存储器1005中存储的终端设备的数控机床协同程序，并执行上述数控机床协同控制方法的步骤。此外，请参照图6，图6是本申请实施例方案涉及的计算机存储介质的结构示意图。本申请提供了一种计算机存储介质。该计算机存储介质上存储有数控机床协同程序，数控机床协同程序被处理器执行时实现上述的数控机床协同控制方法的步骤。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本申请实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在如上述的一个计算机存储介质中，包括若干指令用以使得一台终端设备执行本申请各个实施例所述的方法。以上仅为本申请的优选实施例，并非因此限制本申请的专利范围，凡是利用本申请说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本申请的专利保护范围内。
