标题title
基于指针网络的解码器的生物医药知识抽取方法和装置
摘要abst
本申请涉及大数据处理技术领域的一种基于指针网络的解码器的生物医药知识抽取方法和装置。所述方法包括：设置相互作用元组表示形式；获取生物医药文献的摘要文本数据，并将摘要文本数据中的单词和字符映射成嵌入向量，得到源文本序列的特征表示；将源文本序列特征表示的向量输入到编码器中，得到隐藏表示；将隐藏表示采用注意力机制，得到文本序列编码向量；将源文本序列编码、隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组。该方法提取整个相互作用元组，而不是单个单词，有助于加快训练过程，并且需要更少的资源，有助于模型从基于句子级的知识抽取转移到基于文档级的知识抽取。
权利要求书clms
1.一种基于指针网络的解码器的生物医药知识抽取方法，其特征在于，所述方法包括：设置相互作用元组为三元组，包括两个实体和两个实体之间的相互作用，三元组中组件之间用组件分隔符分隔，三元组之间采用元组分隔符分隔；获取生物医药文献的摘要文本数据，并将所述摘要文本数据中的单词和符号映射成嵌入向量，得到源文本序列的特征表示；所述源文本序列包括摘要文本数据中所有单词、符号和每个相互作用的线索词；将所述源文本序列的特征表示输入到编码器中，得到编码器的隐藏表示；所述编码器用于将所述源文本序列的特征信息采用Bi-LSTM进行编码；将所述编码器的隐藏表示采用注意力机制，得到源文本序列编码；将所述源文本序列编码、所述编码器的隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组；所述基于指针网络的解码器包括用于生成元组序列的解码模块，用于查找实体的指针网络，以及用于查找一个元组的相互作用的分类网络，其中两个指针网络是结构相同的网络。2.根据权利要求1所述的方法，其特征在于，获取生物医药文献的摘要文本数据，并将所述摘要文本数据中的单词和符号映射成嵌入向量，得到源文本序列的特征表示，包括：获取生物医药文献的源摘要文本；根据所述源摘要文本构建词汇表，所述词汇表包括源摘要文本令牌、相互作用集R中的相互作用的名称、组件分隔符、元组分割符、目标序列开始令牌、结束目标序列令牌；对源摘要文本采用Word2Vec工具初始化单词嵌入，得到预训练词向量；对源摘要文本采用具有最大池化的卷积网络提取基于字符的单词特征向量；将所述预训练词向量和所述基于字符的单词特征向量连接，得到源文本序列的特征表示。3.根据权利要求1所述的方法，其特征在于，所述编码器包括若干个Bi-LSTM网络单元，Bi-LSTM网络单元的数量与源文本序列的特征表示的长度相同；将所述源文本序列的特征表示输入到编码器中，得到编码器的隐藏表示，包括：将所述源文本序列的特征表示中的每个令牌向量表示分别输入到编码器中对应的Bi-LSTM网络单元中，得到所述源文本序列的特征表示中的每个令牌向量表示的隐藏表示。4.根据权利要求1所述的方法，其特征在于，将所述编码器的隐藏表示采用注意力机制，得到源文本序列编码，步骤中所述注意力机制为：Single注意力机制；Single注意力机制的表达式为：；；；；；/＞其中, 、/＞和/＞都是可训练的注意参数，是一个偏置向量，/＞是第/＞个词在解码时间步长/＞的归一化注意分数，/＞是解码器中LSTM网络单元的前向隐层状态。5.根据权利要求1所述的方法，其特征在于，所述解码模块为LSTM网络单元；将所述源文本序列编码、所述编码器的隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组，包括：将所述源文本序列编码、t时刻之前生成的所有元组以及LSTM网络单元的前向隐层状态输入到LSTM网络单元中，得到当前元组的隐藏表示；将当前元组的隐藏表示与所述编码器的隐藏表示连接后输入到两个指针网络中，得到第一实体向量表示和第二实体向量表示；将所述第一实体向量表示、第二实体向量表示以及当前元组的隐藏表示输入到分类网络中，得到第一实体和第二实体的相互作用嵌入向量；根据第一实体的向量表示、第二实体的向量表示以及第一实体和第二实体的相互作用嵌入向量，得到一组相互作用的元组。6.根据权利要求5所述的方法，其特征在于，指针网络包括一个Bi-LSTM网络单元和两个前馈层；将当前元组的隐藏表示与所述编码器的隐藏表示连接后输入到两个指针网络中，得到第一实体的向量表示和第二实体向量表示，包括：将所述当前元组的隐藏表示与所述编码器的隐藏表示连接后输入到第一个指针网络的Bi-LSTM网络单元中，得到Bi-LSTM网络单元的隐藏向量；将所述Bi-LSTM网络单元的隐藏向量输入到两个前馈层中，并将得到的输出采用softmax函数激活，得到预测元组的第一个实体的开始位置和结束位置的归一化概率；根据预测元组的第一个实体的开始位置和结束位置的归一化概率、所述Bi-LSTM网络单元的隐藏向量，得到第一个实体的向量表示；第一个实体的向量表示为：；其中，为第一个实体的向量表示；将Bi-LSTM网络单元的隐藏向量、所述当前元组的隐藏表示与所述编码器的隐藏表示连接后输入到第二个指针网络中，得到第二个实体的开始位置和结束位置的归一化概率；根据预测元组的第二个实体的开始位置和结束位置的归一化概率、第二个指针网络中Bi-LSTM网络单元的隐藏向量，得到第二个实体的向量表示；第二个实体的向量表示为：；其中，为第二个实体的向量表示。7.根据权利要求6所述的方法，其特征在于，将所述Bi-LSTM网络单元的隐藏向量输入到两个前馈层中，并将得到的输出采用softmax函数激活，得到预测元组的第一个实体的开始位置和结束位置的归一化概率，包括：将所述Bi-LSTM网络单元的隐藏向量输入到两个前馈层中，并将得到的输出采用softmax函数激活，得到预测元组的第一个实体的开始位置和结束位置的归一化概率为：；其中，表示嵌入词汇表中的所有单词在时间步长t的归一化概率。8.根据权利要求5所述的方法，其特征在于，分类网络包括softmax函数和前馈网络；将所述第一实体向量表示、第二实体向量表示以及当前元组的隐藏表示输入到分类网络中，得到第一实体和第二实体的相互作用，包括：将所述第一实体向量表示、第二实体向量表示以及当前元组的隐藏表示连接后输入到前馈网络中，并将得到的输出采用softmax函数激活，得到相互作用元组的归一化概率；所述相互作用元组的归一化概率为：；其中，表示时间步长t处相互作用元组的归一化概率，/＞为前馈网络的权重矩阵，/＞为前馈网络的偏置向量；根据所述相互作用元组的归一化概率和相互作用嵌入矩阵，得到相互作用嵌入向量；相互作用嵌入向量为：；表示时间步长/＞处相互作用元组的归一化概率。9.根据权利要求5所述的方法，其特征在于，根据第一实体的向量表示、第二实体的向量表示以及第一实体和第二实体的相互作用嵌入向量，得到一组相互作用的元组，包括：根据第一实体的向量表示、第二实体的向量表示以及第一实体和第二实体的相互作用嵌入向量，得到一组相互作用的元组为：；其中，是在时间步长/＞预测的元组的向量表示。10.一种基于指针网络的解码器的生物医药知识抽取装置，其特征在于，所述装置包括：相互作用元组形式设置模块，用于设置相互作用元组为三元组，包括两个实体和两个实体之间的相互作用，三元组中组件之间用组件分隔符分隔，三元组之间采用元组分隔符分隔；摘要文本数据获取模块，用于获取生物医药文献的摘要文本数据，并将所述摘要文本数据中的单词和符号映射成嵌入向量，得到源文本序列的特征表示；所述源文本序列包括摘要文本数据中所有单词、符号和每个相互作用的线索词；编码模块，用于将所述源文本序列的特征表示输入到编码器中，得到编码器的隐藏表示；所述编码器用于将所述源文本序列的特征信息采用Bi-LSTM进行编码；将所述编码器的隐藏表示采用注意力机制，得到源文本序列编码；基于指针网络的解码模块，用于将所述源文本序列编码、所述编码器的隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组；所述基于指针网络的解码器包括用于生成元组序列的解码模块，用于查找实体的指针网络，以及用于查找一个元组的相互作用的分类网络，其中两个指针网络是结构相同的网络。
说明书desc
技术领域本申请涉及大数据技术领域，特别是涉及一种基于指针网络的解码器的生物医药知识抽取方法和装置。背景技术作为一项基础性研究，有针对性地从生物医学文献中抽取医药研究所需要的像药物-蛋白质实体及其相互作用这样的知识信息为药物挖掘、药物重利用、药物设计，以及以知识图谱形式建立的生物信息知识库提供了强有力支撑。但是，随着研究人员对该任务的研究逐渐深入，宏观上和微观上的问题不断浮出水面。从生物医学文献的摘要中抽取药物-蛋白质相互作用元组也是一个具有挑战性十足的任务。在宏观上，前人主要将任务分为实体识别和关系抽取两部分。所建立的模型不光没有考虑上下文信息，还衍生出来两个子任务的先后顺序和特征信息共享的问题。在微观上，实体的长度不同、存在多个元组以及元组之间的实体重叠困扰着抽取三元组的准确性，具体可以罗列为三类：无实体重叠：一个序列包含一个或多个元组，但它们之间不共享任何实体。实体对重叠：在给定的序列中有多个元组，并且至少两个元组以相同或相反的顺序共享两个实体。单一实体重叠：给定的序列包含多个元组，并且至少两个元组正好共享一个实体。这里需要注意的是，一个序列可以是实体对重叠或单一实体重叠。发明内容基于此，有必要针对上述技术问题，提供一种基于指针网络的解码器的生物医药知识抽取方法和装置。一种基于指针网络的解码器的生物医药知识抽取方法，所述方法包括：设置相互作用元组为三元组，包括两个实体和两个实体之间的相互作用，三元组中组件之间用组件分隔符分隔，三元组之间采用元组分隔符分隔。获取生物医药文献的摘要文本数据，并将所述摘要文本数据中的单词和符号映射成嵌入向量，得到源文本序列的特征表示；所述源文本序列包括摘要文本数据中所有单词、符号和每个相互作用的线索词。将所述源文本序列的特征表示输入到编码器中，得到编码器的隐藏表示；所述编码器用于将所述源文本序列的特征信息采用Bi-LSTM进行编码。将所述编码器的隐藏表示采用注意力机制，得到源文本序列编码。将所述源文本序列编码、所述编码器的隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组；所述基于指针网络的解码器包括用于生成元组序列的解码模块，用于查找实体的指针网络，以及用于查找一个元组的相互作用的分类网络，其中两个指针网络是结构相同的网络。一种基于指针网络的解码器的生物医药知识抽取装置，所述装置包括：相互作用元组形式设置模块，用于设置相互作用元组为三元组，包括两个实体和两个实体之间的相互作用，三元组中组件之间用组件分隔符分隔，三元组之间采用元组分隔符分隔。摘要文本数据获取模块，用于获取生物医药文献的摘要文本数据，并将所述摘要文本数据中的单词和符号映射成嵌入向量，得到源文本序列的特征表示；所述源文本序列包括摘要文本数据中所有单词、符号和每个相互作用的线索词。编码模块，用于将所述源文本序列的特征表示输入到编码器中，得到编码器的隐藏表示；所述编码器用于将所述源文本序列的特征信息采用Bi-LSTM进行编码；将所述编码器的隐藏表示采用注意力机制，得到源文本序列编码。基于指针网络的解码模块，用于将所述源文本序列编码、所述编码器的隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组；所述基于指针网络的解码器包括用于生成元组序列的解码模块，用于查找实体的指针网络，以及用于查找一个元组的相互作用的分类网络，其中两个指针网络是结构相同的网络。上述基于指针网络的解码器的生物医药知识抽取方法和装置。所述方法包括：设置相互作用元组表示形式；获取生物医药文献的摘要文本数据，并将摘要文本数据中的单词和字符映射成嵌入向量，得到源文本序列的特征表示；将源文本序列特征表示的向量输入到编码器中，得到隐藏表示；将隐藏表示采用注意力机制，得到文本序列编码向量；将源文本序列编码、隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组。该方法提取整个相互作用元组，而不是单个单词，有助于加快训练过程，并且需要更少的资源，有助于模型从基于句子级的知识抽取转移到基于文档级的知识抽取。附图说明图1为一个实施例中基于指针网络的解码器的生物医药知识抽取方法的流程示意图；图2为另一个实施例中基于指针网络解码的模型的结构示意图；图3为一个实施例中基于指针网络的解码器的生物医药知识抽取装置的结构框图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。在一个实施例中，如图1所示，提供了一种基于指针网络的解码器的生物医药知识抽取方法，该方法包括以下步骤：步骤100：设置相互作用元组为三元组，包括两个实体和两个实体之间的相互作用，三元组中组件之间用组件分隔符分隔，三元组之间采用元组分隔符分隔。具体的，将每个相互作用元组表示为：实体 1；实体 2；相互作用。用“；”作为分隔元组组件的分隔符，以及“|”分隔多个元组的符号。可以使用这些特殊令牌以简单的方式表示具有重叠实体和不同长度实体的多个相互作用元组。在推理过程中，序列生成结束后，可以使用这些特殊令牌轻松提取相互作用元组。由于这种统一的相互作用元组表示方案，实体令牌、相互作用令牌和特殊令牌被类似地对待，在编码器和解码器之间使用一个包含所有这些令牌的共享词汇表。输入的文本序列中包含了每个相互作用的线索词，这有助于生成相互作用令牌。使用两个特殊令牌，以便编码器-解码器模型可以区分相互作用元组的开头和元组组件的开头。为了使用编码器-解码器模型从文本序列中提取相互作用元组，该模型必须生成实体令牌，找到相互作用的线索词并将它们映射到相互作用令牌，并在适当的时候生成特殊令牌。表1所示为相互作用元组表示方式示例。表1相互作用元组表示方式示例表步骤102：获取生物医药文献的摘要文本数据，并将摘要文本数据中的单词和符号映射成嵌入向量，得到源文本序列的特征表示；源文本序列包括摘要文本数据中所有单词、符号和每个相互作用的线索词。步骤104：将源文本序列的特征表示输入到编码器中，得到编码器的隐藏表示；编码器用于将源文本序列的特征信息采用Bi-LSTM进行编码。步骤106：将编码器的隐藏表示采用注意力机制，得到源文本序列编码。具体的，为了获得源上下文特征信息，将编码器的隐藏表示采用注意力机制，得到序列编码向量。作为优选，注意力机制可以选用Single注意力机制。步骤108：将源文本序列编码、编码器的隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组。基于指针网络的解码器包括用于生成元组序列的解码模块，用于查找实体的指针网络，以及用于查找一个元组的相互作用的分类网络，其中两个指针网络是结构相同的网络。具体的，由编码器、注意力机制以及基于指针网络的解码器构成基于指针网络解码的模型，该模型的结构如图2所示。基于指针网络的解码器用于采用LSTM网络单元对源文本序列编码、t时刻之前生成的所有元组以及LSTM网络单元的前向隐层状态进行处理，得到当前元组的隐藏表示；采用两个结构相同的指针网络根据当前元组的隐藏表示与编码器的隐藏表示，查找两个实体的位置，得到两个实体的向量表示，采用分类网络对第一实体向量表示、第二实体向量表示以及当前元组的隐藏表示进行处理，得到第一实体和第二实体的相互作用嵌入向量，根据第一实体向量表示、第二实体向量表示以及第一实体和第二实体的相互作用嵌入向量，得到一组相互作用元组。上述基于指针网络的解码器的生物医药知识抽取方法中，所述方法包括：设置相互作用元组表示形式；获取生物医药文献的摘要文本数据，并将摘要文本数据中的单词和字符映射成嵌入向量，得到源文本序列的特征表示；将源文本序列特征表示的向量输入到编码器中，得到隐藏表示；将隐藏表示采用注意力机制，得到文本序列编码向量；将源文本序列编码、隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组。该方法提取整个相互作用元组，而不是单个单词，有助于加快训练过程，并且需要更少的资源，有助于模型从基于句子级的知识抽取转移到基于文档级的知识抽取。在其中一个实施例中，步骤102包括：获取生物医药文献的源摘要文本；根据源摘要文本构建词汇表，词汇表包括源摘要文本令牌、相互作用集R中的相互作用的名称、组件分隔符、元组分割符、目标序列开始令牌、结束目标序列令牌；对源摘要文本采用Word2Vec工具初始化单词嵌入，得到预训练词向量；对源摘要文本采用具有最大池化的卷积网络提取基于字符的单词特征向量；将所述预训练词向量和所述基于字符的单词特征向量连接，得到源文本序列的特征表示。具体的，创建一个的词汇表V，词汇表V包括：源摘要文本令牌、相互作用集R中的相互作用的名称、特殊分隔符、目标序列开始令牌、结束目标序列令牌。词级嵌入由两部分组成：预训练词向量；基于字符嵌入的特征向量。使用词嵌入层和字符嵌入层/＞，其中/＞是词向量的维数，A是输入文本序列令牌的字符字母表，/＞是字符嵌入向量的维度。使用具有最大池的卷积神经网络为每个单词提取大小为/＞的特征向量。将词嵌入和基于字符嵌入的特征向量连接以获得输入令牌的表示。在其中一个实施例中，编码器包括若干个Bi-LSTM网络单元，Bi-LSTM网络单元的数量与源文本序列的特征表示的长度相同。步骤104包括：将源文本序列的特征表示中的每个令牌向量表示分别输入到编码器中对应的Bi-LSTM网络单元中，得到源文本序列的特征表示中的每个令牌向量表示的隐藏表示。具体的，源文本序列S由其令牌的向量表示，其中/＞是第/＞个单词的向量表示，n是源文本序列S的长度。向量/＞被传递到双向长短期记忆网络以获得隐藏表示/＞。将Bi-LSTM的前向和后向LSTM的隐藏维数设置为/＞，以获得，其中/＞是基于指针网络的解码器的解码模块LSTM网络单元的隐藏维数。在其中一个实施例中，步骤106中注意力机制为：Single注意力机制；Single注意力机制的表达式为：/＞其中,、/＞和/＞都是可训练的注意参数，是一个偏置向量，/＞是第i个词在解码时间步长t的归一化注意分数，/＞是基于指针网络的解码器中解码模块LSTM网络单元的前向隐层状态。具体的，使用Single注意力模型的三种变体。首先，用来计算注意机制中的/＞。接下来，用/＞计算/＞，其中/＞。在最后的变体中，通过拼接/＞和/＞获得的两个注意力向量来获得注意上下文的向量。在其中一个实施例中，解码模块为LSTM网络单元；步骤108包括：将源文本序列编码、t时刻之前生成的所有元组以及LSTM网络单元的前向隐层状态输入到LSTM网络单元中，得到当前元组的隐藏表示；将当前元组的隐藏表示与编码器的隐藏表示连接后输入到两个指针网络中，得到第一实体向量表示和第二实体向量表示；将第一实体向量表示、第二实体向量表示以及当前元组的隐藏表示输入到分类网络中，得到第一实体和第二实体的相互作用嵌入向量；根据第一实体的向量表示、第二实体的向量表示以及第一实体和第二实体的相互作用嵌入向量，得到一组相互作用的元组。具体的，在基于指针网络的解码器，使用文本序列中的实体的开始和结束位置来识别它们。从单词词汇表中移除特殊令牌和相互作用名称对应的令牌，单词嵌入仅在编码器端与字符嵌入一起使用。在模型的解码端使用了一个额外的相互作用嵌入矩阵，其中R是相互作用的集合，/＞是相互作用向量的维数。相互作用集合R包括指示序列结束的特殊相互作用令牌EOS。相互作用元组表示为一个序列/＞，其中/＞是一个元组，由源文本序列中的四个索引组成，指示两个实体的开始和结束位置以及它们之间的相互作用。/＞是一个虚拟元组，它表示序列的开始元组，/＞充当序列的结束元组，该序列具有EOS作为相互作用。该解码器由一个具有隐层维数/＞的LSTM网络单元来生成元组序列，两个指针网络来查找两个实体，以及一个分类网络来查找一个元组的相互作用。在时间步t，解码器将源文本序列编码和所有先前生成的元组的表示作为输入，并生成当前元组的隐藏表示，/＞。文本序列编码/＞是使用注意机制获得的。相互作用元组是一个集合，为了防止解码器再次生成相同的元组，在解码的每个时间步传递关于所有先前生成的元组的信息。/＞是在时间步长j＜t预测的元组的向量表示，使用零向量来表示虚拟元组/＞。/＞是时间步长/＞处LSTM的隐藏状态。/＞在其中一个实施例中，指针网络包括一个Bi-LSTM网络单元和两个前馈层。将当前元组的隐藏表示与编码器的隐藏表示连接后输入到两个指针网络中，得到第一实体的向量表示和第二实体向量表示，包括：将当前元组的隐藏表示与编码器的隐藏表示连接后输入到第一个指针网络的Bi-LSTM网络单元中，得到Bi-LSTM网络单元的隐藏向量；将Bi-LSTM网络单元的隐藏向量输入到两个前馈层中，并将得到的输出采用softmax函数激活，得到预测元组的第一个实体的开始位置和结束位置的归一化概率；根据预测元组的第一个实体的开始位置和结束位置的归一化概率、Bi-LSTM网络单元的隐藏向量，得到第一个实体的向量表示；第一个实体的向量表示为：其中，为第一个实体的向量表示。将Bi-LSTM网络单元的隐藏向量、当前元组的隐藏表示与编码器的隐藏表示连接后输入到第二个指针网络中，得到第二个实体的开始位置和结束位置的归一化概率；根据预测元组的第二个实体的开始位置和结束位置的归一化概率、第二个指针网络中Bi-LSTM网络单元的隐藏向量，得到第二个实体的向量表示；第二个实体的向量表示为：其中，为第二个实体的向量表示。具体的，在获得当前元组的隐藏表示之后，首先在源文本序列中找到两个实体的开始和结束指针。将当前元组的隐藏表示/＞与编码器的隐藏表示/＞连接起来，并将它们传递到具有隐藏维数/＞的Bi-LSTM网络单元，用于前向和后向LSTM。该Bi-LSTM层的隐藏表示通过softmax传递到两个前馈网络，以将每个隐藏表示转换成0和1之间的两个标量值。Softmax运算应用于输入序列中的所有单词。这两个标量值表示对应的源文本序列令牌成为第一实体的开始和结束位置的概率。具有两个前馈层的Bi-LSTM层是识别当前相互作用元组的第一个实体的指针网络。其中，、/＞、/＞和/＞是前馈网络的权重和偏置参数。、/＞分别表示作为预测元组的第一个实体的开始和结束令牌的第i个源词的归一化概率。使用另一个指针网络来提取元组的第二个实体。将隐藏向表示/＞与/＞和/＞连接起来，并将它们传递给第二个指针网络，以获得/＞和/＞，它们表示作为第二个实体的开始和结束的第i个源词的归一化概率。这些归一化概率用于找到两个实体/＞和/＞的向量表示。在其中一个实施例中，将Bi-LSTM网络单元的隐藏向量输入到两个前馈层中，并将得到的输出采用softmax函数激活，得到预测元组的第一个实体的开始位置和结束位置的归一化概率，包括：将Bi-LSTM网络单元的隐藏向量输入到两个前馈层中，并将得到的输出采用softmax函数激活，得到预测元组的第一个实体的开始位置和结束位置的归一化概率为：其中，表示嵌入词汇表中的所有单词在时间步长t的归一化概率。在其中一个实施例中，分类网络包括softmax函数和前馈网络。将第一实体向量表示、第二实体向量表示以及当前元组的隐藏表示输入到分类网络中，得到第一实体和第二实体的相互作用，包括：将第一实体向量表示、第二实体向量表示以及当前元组的隐藏表示连接后输入到前馈网络中，并将得到的输出采用softmax函数激活，得到相互作用元组的归一化概率；相互作用元组的归一化概率为：其中，表示时间步长/＞处相互作用元组的归一化概率，/＞为前馈网络的权重矩阵，/＞，/＞为前馈网络的偏置向量，/＞。根据相互作用元组的归一化概率和相互作用嵌入矩阵，得到相互作用嵌入向量；相互作用嵌入向量为：其中，表示时间步长t处相互作用元组的归一化概率。具体的，将实体向量表示和/＞与/＞连接起来，并将其传递给具有softmax函数的前馈网络以找到相互作用，时间步长t处相互作用的归一化概率如式所示。利用/＞和/＞的argmax得到相互作用嵌入向量/＞，如式所示。在训练过程中，传递‘goldlabel’关系的嵌入向量来代替预测的相互作用。因此，argmax函数不会影响训练期间的反向传播。当预测关系为EOS时，解码器停止序列生成过程。这是解码器的分类网络。在推理过程中，选择两个实体的开始和结束位置，使得四个指针概率的乘积最大化，同时保持两个实体不相互重叠和的约束，其中b和e是相应实体的开始和结束位置。首先基于相应的开始和结束指针概率的最大乘积来选择实体1的开始和结束位置。然后以类似的方式找到实体2，排除实体1的跨度以避免重叠。重复相同的过程，但这次首先找到实体2，然后是实体1。选择给出这两个选择之间四个指针概率的较高乘积的实体对。在其中一个实施例中，根据第一实体的向量表示、第二实体的向量表示以及第一实体和第二实体的相互作用嵌入向量，得到一组相互作用的元组，包括：根据第一实体的向量表示、第二实体的向量表示以及第一实体和第二实体的相互作用嵌入向量，得到一组相互作用的元组为：其中，是在时间步长t预测的元组的向量表示。对于基于指针网络的解码器，最小化关系分类的负对数似然损失和四个指针位置。指针位置/＞为：其中，b、t和c分别指第b个训练实例、第t个解码时间步长和元组的两个实体。B和T分别是解码器的批量大小和最大时间步长。应该理解的是，虽然图1的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，图1中的至少一部分步骤可以包括多个子步骤或者多个阶段，这些子步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些子步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤的子步骤或者阶段的至少一部分轮流或者交替地执行。在一个验证性实施例中，本方法主要用于从生物医学摘要文本中提取具有重叠实体的多个元组，这是国际评测平台BioCreative中的一项重要任务。该任务提供了两个带注释的语料库。 DrugProt语料库包含总共4227个人工注释的PubMed摘要。将原始数据进行了6-2-2分割，分成训练集、验证集和测试集。 ChemProt语料库由1015个训练集、611个开发集和799个测试集组成。表2列出了每组的统计数据。表2 实验语料库的训练/验证/测试统计/＞本发明将所述的模型与BioCreative VI和VII分别发布的文本挖掘药物-蛋白质/化学-蛋白质相互作用性能的前三个模型进行了比较。在表3中，分析了每个团队提出或使用的策略和模型。BioCreative VI中的团队提出的模型没有BioCreative VII中的复杂，更倾向于模型集成和多层次。然而，BioCreative VII中表现最好的模型都来自微调，甚至是预先训练的语言模型的集合。对于从生物医学文献摘要等长文本序列中提取知识信息的任务，在一定的实验硬件条件下，模型越大，通常可以提取信息的文本序列长度越短。此外，虽然预训练语言模型的大规模不方便其自身的微调，但当它被转移到其他具有高度专业性的任务时，它可能不会表现良好。表3 BioCreative两项任务Top3统计本发明受Peng等人和Mehryary等人工作的启发，基准还包括自然语言处理中最先进的联合实体和关系提取模型。如表4所示，这些模型分为基于传统机器学习、基于深度学习和基于强化学习，并且，这些模型采用的策略可以分为两类：串行策略：一种传统的方法，以句子任务为目标。首先，识别句子中的所有实体，然后判断所有候选实体对的关系。这种方法的缺点是级联错误，即前一阶段的子任务识别的错误会传播到下一个子任务，后续子任务的提取结果不会影响前一阶段的任务。联合策略：目前流行的一种方法，在识别实体的同时判断关系，两个子任务之间存在相互作用，可以相互影响。然而，是否首先识别实体，然后预测它们之间的候选关系，或者两者同时执行。所有的工作都将任务分为实体识别和关系预测，作为两个子任务，采用双流水线或分层方法。在本发明的工作中，药物-蛋白质实体及其相互作用以三联体生成的方式生成出来）从生物医学文献中联合提取。此外，当在不同语料库上执行联合提取任务时，所述模型的编码器和解码器所采用的神经网络可以根据适应性而改变，不同的网络和注意力建模方法将被选择。表4 来自NLP的最新基准的统计精确率、召回率和F1分数被用作本实验的评价指标，其中TP代表正确分类和划分的样本数；FP代表分类和划分不正确的样本数量；FN表示未分类样本的数量，这是错误的。并且，设置i来表示对应于类别的值，n来表示预测类别的数量。精度率仅适用于具有正确预测的阳性样本，而不是具有正确预测的所有样本。它的计算方法是将预测正确的阳性样本数除以模型预测的阳性样本数之比。它表明预测的阳性样本确实是阳性的，如公式所示：召回率是通过将预测的阳性样本的正确数量除以测试集中的阳性样本的实际数量来计算的；它表明，通过使用分类器可以调用真正阳性的样本的数量，如公式所示：F1分数是准确率和召回率的调和平均值。精确度和召回率都有望更高；然而，这两个指标是矛盾的，不可能都很高。因此，应引入F1分数作为适当的阈值点，以最大化分类器的能力，如公式所示：本发明在BioCreative的基准测试中，所述的模型在ChemProt和DrugProt语料库上的综合性能都优于原始任务中的顶级模型，如表5、表6所示。表5为将BioCreative VI上表现良好的模型与基于指针网络解码的模型PNDec和进行比较。表6为在BioCreative VII上表现良好的模型与所述的模型之间的比较。表5本发明模型与在ChemProt语料库上排名前三模型之间的性能对比表6 本发明模型与在DrugProt语料库上排名前三模型之间的性能对比在表5中，单个基于指针网络解码的模型PNDec在ChemProt语料库上获得的F1分数比他的模型高3.35%。在表6中，在Drugprot语料库上的单个PNDec模型的F1分数分别比NLM-NCBI模型高1.65%。此外，将集成机制应用于模型的构建，以便随后与NLP中最先进的模型进行比较，这将模型在语料库上的F1分数平均提高了2.95%。在NLP的基准中，HRL在语料库上获得了明显更高的F1分数。运行他们的模型和本发明所述的模型五次，并在表7中报告中值结果。所述的基于指针网络解码的模型在ChemProt和DrugProt数据集上获得的F1分数分别比HRL高1.79%和0.51%。本发明在HRL和所述的模型之间的自举配对下进行了统计显著性检验，并看到所述的模型获得的较高F1分数具有统计显著性。接下来，将五次运行的模型和五次运行的HRL的输出结合起来，建立集合模型。对于一个测试实例，包括那些在五次运行的大多数中提取的元组。这种集成机制显著提高了两个数据集的精度，同时召回率也略有提高。在集成情况下，与HRL相比，PNDec在ChemProt和DrugProt语料库上的F1得分分别高出4.47%和1.42%。表7 所有模型在两个语料库上的性能比较在表8中，基于指针网络模型的单一注意力机制的三种变体的消融结果。当结合关于解码器LSTM的先前隐藏向量和所有先前提取的元组的表示的两种注意力机制时，基于指针网络模型获得最高的F1分数。表8 所述模型注意力机制的消融实验综上所述，本发明提出了一个改进的带有指针网络的解码框架，以适应本发明任务的编码器-解码器模型。该方法提取整个相互作用元组，而不是单个单词，这有助于加快训练过程，并且需要更少的资源。这有助于模型从基于句子级的知识抽取转移到基于文档级的知识抽取。在BioCreative VI&amp;VII发布的ChemProt和DrugProt语料库上的实验表明，本发明的方法显著优于所有以前最先进的模型，并在这些数据集上树立了新的基准。在一个实施例中，如图3所示，提供了一种基于指针网络的解码器的生物医药知识抽取装置，包括：相互作用元组形式设置模块、摘要文本数据获取模块、编码模块和基于指针网络的解码模块，其中：相互作用元组形式设置模块，用于设置相互作用元组为三元组，包括两个实体和两个实体之间的相互作用，三元组中组件之间用组件分隔符分隔，三元组之间采用元组分隔符分隔。摘要文本数据获取模块，用于获取生物医药文献的摘要文本数据，并将摘要文本数据中的单词和符号映射成嵌入向量，得到源文本序列的特征表示；源文本序列包括摘要文本数据中所有单词、符号和每个相互作用的线索词。编码模块，用于将源文本序列的特征表示输入到编码器中，得到编码器的隐藏表示；编码器用于将源文本序列的特征信息采用Bi-LSTM进行编码；将编码器的隐藏表示采用注意力机制，得到源文本序列编码。基于指针网络的解码模块，用于将源文本序列编码、编码器的隐藏表示以及t时刻之前生成的所有元组输入到基于指针网络的解码器中，得到一组相互作用元组；基于指针网络的解码器包括用于生成元组序列的解码模块，用于查找实体的指针网络，以及用于查找一个元组的相互作用的分类网络，其中两个指针网络是结构相同的网络。在其中一个实施例中，摘要文本数据获取模块，还用于获取生物医药文献的源摘要文本；根据源摘要文本构建词汇表，词汇表包括源摘要文本令牌、相互作用集R中的相互作用的名称、组件分隔符、元组分割符、目标序列开始令牌、结束目标序列令牌；对源摘要文本采用Word2Vec工具初始化单词嵌入，得到预训练词向量；对源摘要文本采用具有最大池化的卷积网络提取基于字符的单词特征向量；将所述预训练词向量和所述基于字符的单词特征向量连接，得到源文本序列的特征表示。在其中一个实施例中，编码器包括若干个Bi-LSTM网络单元，Bi-LSTM网络单元的数量与源文本序列的特征表示的长度相同。编码模块，还用于将源文本序列的特征表示中的每个令牌向量表示分别输入到编码器中对应的Bi-LSTM网络单元中，得到源文本序列的特征表示中的每个令牌向量表示的隐藏表示。在其中一个实施例中，编码模块中注意力机制为：Single注意力机制；Single注意力机制的表达式如式至式所示。在其中一个实施例中，解码模块为LSTM网络单元；基于指针网络的解码模块，还用于将源文本序列编码、t时刻之前生成的所有元组以及LSTM网络单元的前向隐层状态输入到LSTM网络单元中，得到当前元组的隐藏表示；将当前元组的隐藏表示与编码器的隐藏表示连接后输入到两个指针网络中，得到第一实体向量表示和第二实体向量表示；将第一实体向量表示、第二实体向量表示以及当前元组的隐藏表示输入到分类网络中，得到第一实体和第二实体的相互作用嵌入向量；根据第一实体的向量表示、第二实体的向量表示以及第一实体和第二实体的相互作用嵌入向量，得到一组相互作用的元组。在其中一个实施例中，指针网络包括一个Bi-LSTM网络单元和两个前馈层。将当前元组的隐藏表示与编码器的隐藏表示连接后输入到两个指针网络中，得到第一实体的向量表示和第二实体向量表示，包括：将当前元组的隐藏表示与编码器的隐藏表示连接后输入到第一个指针网络的Bi-LSTM网络单元中，得到Bi-LSTM网络单元的隐藏向量；将Bi-LSTM网络单元的隐藏向量输入到两个前馈层中，并将得到的输出采用softmax函数激活，得到预测元组的第一个实体的开始位置和结束位置的归一化概率；根据预测元组的第一个实体的开始位置和结束位置的归一化概率、Bi-LSTM网络单元的隐藏向量，得到第一个实体的向量表示；第一个实体的向量表示如式所示。将Bi-LSTM网络单元的隐藏向量、当前元组的隐藏表示与编码器的隐藏表示连接后输入到第二个指针网络中，得到第二个实体的开始位置和结束位置的归一化概率；根据预测元组的第二个实体的开始位置和结束位置的归一化概率、第二个指针网络中Bi-LSTM网络单元的隐藏向量，得到第二个实体的向量表示；第二个实体的向量表示如式所示。在其中一个实施例中，基于指针网络的解码模块，还用于将Bi-LSTM网络单元的隐藏向量输入到两个前馈层中，并将得到的输出采用softmax函数激活，得到预测元组的第一个实体的开始位置和结束位置的归一化概率的表达式如式所示。在其中一个实施例中，分类网络包括softmax函数和前馈网络。基于指针网络的解码模块，还用于将第一实体向量表示、第二实体向量表示以及当前元组的隐藏表示连接后输入到前馈网络中，并将得到的输出采用softmax函数激活，得到相互作用元组的归一化概率；相互作用元组的归一化概率的表达式如式所示。根据相互作用元组的归一化概率和相互作用嵌入矩阵，得到相互作用嵌入向量；相互作用嵌入向量的表达式如式所示。在其中一个实施例中，基于指针网络的解码模块，还用于根据第一实体的向量表示、第二实体的向量表示以及第一实体和第二实体的相互作用嵌入向量，得到一组相互作用的元组的表达式如式所示。关于基于指针网络的解码器的生物医药知识抽取装置的具体限定可以参见上文中对于基于指针网络的解码器的生物医药知识抽取方法的限定，在此不再赘述。上述基于指针网络的解码器的生物医药知识抽取装置中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
