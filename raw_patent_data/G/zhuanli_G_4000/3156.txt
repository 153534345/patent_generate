标题title
视频处理方法及相关设备
摘要abst
本申请提供一种视频处理方法及相关设备，所述方法包括：获取摄像头拍摄的视频数据，对视频数据进行处理；对处理后的视频数据进行分析，得到视频数据对应的主题标签；若所述主题标签为人像，对视频数据中的视频帧图像进行人像抠图；对视频帧图像的背景区域进行虚化处理；将提取的人像区域与虚化的背景区域进行融合；确定主题标签对应的滤镜，基于滤镜对视频数据进行调色处理，得到视频文件。本申请可以在拍摄的视频数据中包含人像时，在对视频数据进行优化处理的同时，也可以对视频数据中的人像进行优化处理，有效提升了用户体验。
权利要求书clms
1.一种视频处理方法，其特征在于，所述方法包括：获取摄像头拍摄的视频数据，对所述视频数据进行处理；对处理后的所述视频数据进行分析，得到所述视频数据对应的主题标签；若所述视频数据包含人像，对所述视频数据中包含人像的视频帧图像进行人像抠图，提取所述视频帧图像中的人像区域；对所述视频帧图像的背景区域进行虚化处理；将提取的所述人像区域与虚化的所述背景区域进行融合；确定主题标签对应的滤镜，基于滤镜对所述视频数据进行调色处理，得到视频文件。2.如权利要求1所述的视频处理方法，其特征在于，所述对所述视频数据进行处理包括：对所述视频数据进行色彩空间转换；获取所述摄像头的防抖数据，基于所述防抖数据对所述视频数据进行防抖处理；对防抖处理后的所述视频数据进行降噪处理；对降噪处理后的所述视频数据进行伽马校正。3.如权利要求2所述的视频处理方法，其特征在于，所述对所述视频数据进行色彩空间转换包括：获取所述摄像头拍摄的所述视频数据中的RAW视频帧图像，将所述RAW视频帧图像转换为YUV视频帧图像。4.如权利要求2所述的视频处理方法，其特征在于，所述获取所述摄像头的防抖数据包括：基于惯性测量单元侦测的数据确定电子设备的运动特征，并基于所述电子设备的运动特征确定预设方向和预设距离。5.如权利要求4所述的视频处理方法，其特征在于，所述基于所述防抖数据对所述视频数据进行防抖处理包括：以所述视频数据中所述视频帧图像的中心向所述预设方向移动所述预设距离后的位置为中心，对所述视频帧图像进行裁切得到防抖处理后的所述视频帧图像。6.如权利要求2或4所述的视频处理方法，其特征在于，所述对防抖处理后的所述视频数据进行降噪处理包括：基于运动时域滤波对防抖处理后的所述视频数据进行时域降噪。7.如权利要求2所述的视频处理方法，其特征在于，所述对降噪处理后的所述视频数据进行伽马校正包括：对所述视频数据中的视频帧图像的每个像素点的像素值进行归一化，将所述像素值转换为0-1之间的数值；对归一化后的数值进行预补偿，计算像素值归一化后的数值以1/gamma值为指数的对应值；对预补偿后的数值进行反归一化，将所述预补偿后的数值反变换为0-255之间的整数值。8.如权利要求1所述的视频处理方法，其特征在于，所述对处理后的所述视频数据进行分析，得到所述视频数据对应的主题标签包括：获取所述视频数据的至少一个文本描述信息，将所述至少一个文本描述信息输入至预先训练的视频分类模型，通过所述预先训练的视频分类模型输出所述视频数据对应的主题标签。9.如权利要求8所述的视频处理方法，其特征在于，所述获取视频数据的至少一个文本描述信息包括：将所述视频数据的多个视频帧图像输入图文转换模型，得到每个视频帧图像的至少一个文本描述信息。10.如权利要求1所述的视频处理方法，其特征在于，所述对所述视频数据中的视频帧图像进行人像抠图包括：将所述视频帧图像输入人像抠图模型，通过所述人像抠图模型提取出所述视频帧图像中的人像区域。11.如权利要求1所述的视频处理方法，其特征在于，所述对所述视频帧图像的背景区域进行虚化处理包括：对所述背景区域进行高斯模糊处理，得到所述虚化的背景区域。12.如权利要求1所述的视频处理方法，其特征在于，所述确定主题标签对应的滤镜包括：基于所述主题标签以及所述主题标签与所述滤镜之间的映射关系表，确定所述主题标签对应的滤镜。13.如权利要求1所述的视频处理方法，其特征在于，所述基于所述滤镜对所述视频数据进行调色处理包括：基于所述滤镜对应的三维颜色查找表对所述视频数据进行调色。14.如权利要求1所述的视频处理方法，其特征在于，所述方法还包括：生成所述视频数据对应的短视频；若所述短视频中包含人像，对所述短视频中的人像进行处理；基于所述滤镜对所述短视频进行调色处理。15.如权利要求14所述的视频处理方法，其特征在于，所述生成所述视频数据对应的短视频包括：基于所述主题标签获取所述视频数据的短片模板，并基于所述短片模板生成所述视频数据对应的短视频。16.如权利要求15所述的视频处理方法，其特征在于，所述短片模板包括多个模板片段，每个模板片段包括场景匹配信息，所述基于所述短片模板生成所述视频数据对应的短视频包括：将符合场景匹配信息的视频数据填充至对应的模板片段，生成短视频片段，根据多个所述短视频片段生成所述短视频。17.如权利要求14所述的视频处理方法，其特征在于，所述方法还包括：确定所述主题标签对应的背景音乐，将所述背景音乐添加至所述短视频。18.一种电子设备，其特征在于，所述电子设备包括存储器和处理器：其中，所述存储器，用于存储程序指令；所述处理器，用于读取并执行所述存储器中存储的所述程序指令，当所述程序指令被所述处理器执行时，使得所述电子设备执行如权利要求1至17中任一项所述的视频处理方法。19.一种芯片，与电子设备中的存储器耦合，其特征在于，所述芯片用于控制所述电子设备执行权利要求1至17中任一项所述的视频处理方法。20.一种计算机存储介质，其特征在于，所述计算机存储介质存储有程序指令，当所述程序指令在电子设备上运行时，使得所述电子设备执行如权利要求1至17中任一项所述的视频处理方法。
说明书desc
技术领域本申请涉及智能终端技术领域，尤其涉及一种视频处理方法及相关设备。背景技术随着终端技术的发展，用户对电子设备的视频处理功能的需求越来越高。目前，电子设备可以对拍摄的视频进行智能处理，自动生成效果更佳的视频，例如，可以自动优化视频的视觉效果和听觉效果等。然而，电子设备无法对视频中的人像进行智能处理，如此，电子设备对视频的智能处理较为局限，难以满足用户的个性化需求，从而影响用户体验。发明内容鉴于以上内容，有必要提供一种视频处理方法及相关设备，解决电子设备在对视频进行智能优化处理时无法对视频中的人像进行智能处理的技术问题。第一方面，本申请提供一种视频处理方法，所述方法包括：获取摄像头拍摄的视频数据，对所述视频数据进行处理；对处理后的所述视频数据进行分析，得到所述视频数据对应的主题标签；若所述视频数据包含人像，对所述视频数据中包含人像的视频帧图像进行人像抠图，提取所述视频帧图像中的人像区域；对所述视频帧图像的背景区域进行虚化处理；将提取的所述人像区域与虚化的所述背景区域进行融合；确定主题标签对应的滤镜，基于滤镜对视频数据进行调色处理，得到视频文件。通过上述技术方案，可以在拍摄的视频数据中包含人像时，在对视频数据进行智能优化处理的同时，也可以对视频数据中的人像进行优化处理，优化了人像视频的显示效果，使得一键大片功能可以应用于人像视频模式，扩展了视频智能处理的应用范围。在一种可能的实现方式中，所述对所述视频数据进行处理包括：对所述视频数据进行色彩空间转换；获取所述摄像头的防抖数据，基于所述防抖数据对所述视频数据进行防抖处理；对防抖处理后的所述视频数据进行降噪处理；对降噪处理后的所述视频数据进行伽马校正。通过上述技术方案，可以对摄像头拍摄的视频数据进行色彩空间转换处理、防抖处理、降噪处理及伽马校正处理，从而对视频数据进行优化处理，提高视频数据的质量。在一种可能的实现方式中，所述对所述视频数据进行色彩空间转换包括：获取所述摄像头拍摄的所述视频数据中的RAW视频帧图像，将所述RAW视频帧图像转换为YUV视频帧图像。通过上述技术方案，将所述RAW视频数据转换为YUV视频数据，可以扩展视频数据的色彩范围。在一种可能的实现方式中，所述获取所述摄像头的防抖数据包括：基于惯性测量单元侦测的数据确定电子设备的运动特征，并基于所述电子设备的运动特征确定预设方向和预设距离。通过上述技术方案，采用惯性测量单元获取电子设备的姿态，从而精确地确定摄像头的防抖数据。在一种可能的实现方式中，所述基于所述防抖数据对所述视频数据进行防抖处理包括：以所述视频数据中视频帧图像的中心向所述预设方向移动所述预设距离后的位置为中心，对所述视频帧图像进行裁切得到防抖处理后的视频帧图像。通过上述技术方案，基于摄像头的防抖数据对视频数据进行防抖处理，避免拍摄的视频数据产生模糊，有效提高视频数据的质量。在一种可能的实现方式中，所述对防抖处理后的所述视频数据进行降噪处理包括：基于运动时域滤波对防抖处理后的所述视频数据进行时域降噪。通过上述技术方案，基于时域滤波对防抖处理后的视频数据进行时域降噪，减少拍摄的视频数据的噪点，有效提高视频数据的质量。在一种可能的实现方式中，所述对降噪处理后的所述视频数据进行伽马校正包括：对所述视频数据中的视频帧图像的每个像素点的像素值进行归一化，将像素值转换为0-1之间的数值；对归一化后的数值进行预补偿，计算像素值归一化后的数值以1/gamma值为指数的对应值；对预补偿后的数值进行反归一化，将所述预补偿后的数值反变换为0-255之间的整数值。通过上述技术方案，可以精确地对视频数据进行伽马校正，提高颜色显示的准确度。在一种可能的实现方式中，所述对处理后的所述视频数据进行分析，得到所述视频数据对应的主题标签包括：获取所述视频数据的至少一个文本描述信息，将所述至少一个文本描述信息输入至预先训练的视频分类模型，通过所述预先训练的视频分类模型输出所述视频数据对应的主题标签。通过上述技术方案，预先训练的视频分类模型自动识别视频数据对应的主题标签，提高了主题标签的识别效率和识别准确度。在一种可能的实现方式中，所述获取视频数据的至少一个文本描述信息包括：将所述视频数据的多个视频帧图像输入图文转换模型，得到每个视频帧图像的至少一个文本描述信息。通过上述技术方案，在采用预先训练的视频分类模型自动识别视频数据对应的主题标签之前，先获取视频数据的文本描述信息，将文本描述信息作为视频分类模型输入数据，提高了视频数据的分析效率。在一种可能的实现方式中，所述对所述视频数据中的视频帧图像进行人像抠图包括：将所述视频帧图像输入人像抠图模型，通过所述人像抠图模型提取出所述视频帧图像中的人像区域。通过上述技术方案，采用人像抠图模型进行人像抠图，提升了抠图效率。在一种可能的实现方式中，所述对所述视频帧图像的背景区域进行虚化处理包括：对所述背景区域进行高斯模糊处理，得到虚化的所述背景区域。通过上述技术方案，对背景区域进行高斯模糊处理，提高了对背景区域的处理效率。在一种可能的实现方式中，所述确定主题标签对应的滤镜包括：基于所述主题标签以及所述主题标签与所述滤镜之间的映射关系表，确定所述主题标签对应的滤镜。通过上述技术方案，基于主题标签与滤镜之间的映射关系确定用于调色处理的滤镜，使得滤镜与视频场景相适应。在一种可能的实现方式中，所述基于获取的所述滤镜对所述视频数据进行调色处理包括：基于所述滤镜对应的三维颜色查找表对所述视频数据进行调色。通过上述技术方案，可以精确地对视频数据的颜色进行映射，得到调色后的颜色，有效地优化了视频数据的视觉效果。在一种可能的实现方式中，所述方法还包括生成所述视频数据对应的短视频；若所述短视频中包含人像，对所述短视频中的人像进行处理；基于所述滤镜对所述短视频进行调色处理。通过上述技术方案，通过生成短视频可以提取出视频数据中精彩片段，提升用户体验。在一种可能的实现方式中，所述生成所述视频数据对应的短视频包括：基于所述主题标签获取所述视频数据的短片模板，并基于所述短片模板生成所述视频数据对应的短视频。通过上述技术方案，基于短片模板生成短视频，提高了短视频的生成效率，减少了用户浏览视频的时间。在一种可能的实现方式中，所述短片模板包括多个模板片段，每个模板片段包括场景匹配信息，所述基于所述短片模板生成所述视频数据对应的短视频包括：将符合场景匹配信息的视频数据填充至对应的模板片段，生成短视频片段，根据多个所述短视频片段生成所述短视频。通过上述技术方案，基于短片模板中模板片段的场景匹配信息生成短视频，提高了短视频的生成效率。在一种可能的实现方式中，所述方法还包括：确定所述主题标签对应的背景音乐，将所述背景音乐添加至所述短视频。通过上述技术方案，优化了短视频的听觉效果。第二方面，本申请提供一种电子设备，所述电子设备包括存储器和处理器：其中，所述存储器，用于存储程序指令；所述处理器，用于读取并执行所述存储器中存储的所述程序指令，当所述程序指令被所述处理器执行时，使得所述电子设备执行上述的视频处理方法。第三方面，本申请提供一种芯片，与电子设备中的存储器耦合，所述芯片用于控制所述电子设备执行上述的视频处理方法。第四方面，本申请提供一种计算机存储介质，所述计算机存储介质存储有程序指令，当所述程序指令在电子设备上运行时，使得所述电子设备执行上述的视频处理方法。另外，第二方面至第四方面所带来的技术效果可参见上述方法部分各设计的方法相关的描述，此处不再赘述。附图说明图1A是本申请一实施例提供的电子设备的显示界面的示意图。图1B是本申请一实施例提供的电子设备的另一显示界面的示意图。图1C是本申请一实施例提供的电子设备的另一显示界面的示意图。图1D是本申请一实施例提供的电子设备的另一显示界面的示意图。图2是本申请一实施例提供的电子设备的软件架构图。图3是本申请一实施例提供的视频处理方法的流程图。图4是本申请一实施例提供的对视频数据进行处理的流程图。图5是本申请一实施例提供的视频处理系统的架构示意图。图6是本申请另一实施例提供的视频处理系统的架构示意图。图7是本申请另一实施例提供的视频处理系统的架构示意图。图8是本申请另一实施例提供的视频处理方法的流程图。图9是本申请另一实施例提供的视频处理方法的流程图。图10是本申请一实施例提供的电子设备的硬件架构图。具体实施方式本申请实施例中所涉及的术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本申请实施例的描述中，“示例性的”或者“例如”等词用于表示作例子、例证或说明。本申请实施例中被描述为“示例性的”或者“例如”的任何实施例或设计方案不应被解释为比其它实施例或设计方案更优选或更具优势。确切而言，使用“示例性的”或者“例如”等词旨在以具体方式呈现相关概念。除非另有定义，本文所使用的所有的技术和科学术语与属于本申请中的技术领域的技术人员通常理解的含义相同。本申请的说明书中所使用的术语只是为了描述具体的实施例的目的，不是旨在于限制本申请。应理解，本申请中除非另有说明，“/”表示或的意思。例如，A/B可以表示A或B。本申请中的“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系。例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B三种情况。“至少一个”是指一个或者多个。“多个”是指两个或多于两个。例如，a、b或c中的至少一个，可以表示：a，b，c，a和b，a和c，b和c，a、b和c七种情况。本申请实施例中的用户界面，是应用程序或操作系统与用户之间进行交互和信息交换的介质接口，可实现信息的内部形式与用户可以接受形式之间的转换。应用程序的用户界面是通过JAVA、可扩展标记语言等特定计算机语言编写的源代码，界面源代码在电子设备上经过解析、渲染，最终呈现为用户可以识别的内容，比如图片、文字、按钮等控件。控件，是用户界面的基本元素，典型的控件有按钮、小工具、工具栏、菜单栏、文本框、滚动条、图片和文本。界面中的控件的属性和内容是通过标签或者节点来定义的，比如XML通过＜Textview＞、＜ImgView＞、＜VideoView＞等节点来规定界面所包含的控件。一个节点对应界面中一个控件或属性，节点经过解析和渲染之后呈现为用户可视的内容。此外，很多应用程序，比如混合应用的界面中通常还包含有网页。网页，也称为页面，可以理解为内嵌在应用程序界面中的一个特殊的控件，网页是通过特定计算机语言编写的源代码，例如超文本标记语言，层叠样式表，JAVA脚本等，网页源代码可以由浏览器或与浏览器功能类似的网页显示组件加载和显示为用户可识别的内容。网页所包含的具体内容也是通过网页源代码中的标签或者节点来定义的，比如HTML通过＜p＞、＜img＞、＜video＞、＜canvas＞来定义网页的元素和属性。用户界面常用的表现形式是图形用户界面，是指采用图形方式显示的与计算机操作相关的用户界面。它可以是在电子设备的显示屏中显示的一个图标、窗口、控件等界面元素。在不冲突的情况下，下述的实施例及实施例中的特征可以相互组合。随着终端技术的发展，用户对电子设备中的视频处理功能的需求越来越高。目前，电子设备具有一键大片功能，在触发一键大片功能后，电子设备可以对拍摄的视频进行智能处理，自动生成效果更佳的视频，例如，可以自动优化视频的视觉效果和听觉效果等。然而，电子设备无法对视频中的人像进行智能处理，因此，用户在人像视频模式下拍摄视频就不能使用一键大片的功能。如此，电子设备对视频的智能处理较为局限，难以满足用户的个性化需求，从而影响用户体验。为了避免由于电子设备无法对视频中的人像进行智能处理而导致对视频的智能处理不适用于拍摄人像视频的人像视频模式，为了在人像视频模式下也支持一键大片功能，本申请实施例提供一种视频处理方法，在拍摄的视频中包含人像时，可以自动生成效果更佳的人像短视频，满足用户的人像视频拍摄需求，有效提升用户体验。为了更好地理解本申请实施例提供的视频处理方法，下面结合图1A、图1B、图1C、图1D对本申请实施例的视频处理方法的应用场景进行描述。参阅图1A所示，在用户开启电子设备上的相机应用程序，通过相机应用程序进行视频录制时，在电子设备的显示界面20显示拍摄界面201、拍摄控件202、一键大片控件203及图库控件204。显示界面20为电子设备当前显示的用户界面，拍摄界面201用于显示电子设备的摄像头拍摄的预览画面，拍摄控件202用于供用户触发，控制电子设备将摄像头拍摄的画面录制成视频，一键大片控件203设置于拍摄控件202的上方，用于供用户触发，控制电子设备对拍摄的视频进行优化处理。图库控件204用于供用户触发，控制电子设备当前显示录制得到的视频。参阅图1B所示，当用户触发显示界面20上的一键大片控件203后，电子设备显示视频编辑界面30，视频编辑界面30至少包括音乐控件301、滤镜控件302及编辑确认控件303。参阅图1C所示，当用户触发视频编辑界面30上的音乐控件301时，电子设备显示音乐编辑界面40，音乐编辑界面上包括音乐确认控件401、退出控件402以及多首音乐对应的控件403。用户可以触发任一首音乐对应的控件403，并触发音乐确认控件401，以设置视频的背景音乐，然后自动返回视频编辑界面30。用户可以触发退出控件402以退出音乐编辑界面，放弃对视频背景音乐的设置。参阅图1D所示，当用户触发视频编辑界面30上的滤镜控件302时，电子设备显示滤镜编辑界面50，滤镜编辑界面50包括滤镜确认控件501、退出控件502以及多个滤镜对应的控件503。用户可以触发任一滤镜对应的控件503，并触发滤镜确认控件501，以设置视频的滤镜，然后自动返回视频编辑界面30。用户可以触发退出控件502以退出滤镜编辑界面，放弃对视频滤镜的设置。完成背景音乐和滤镜的设置之后，视频编辑界面30上显示的视频为添加有背景音乐和经过滤镜处理后的视频，视频的视觉效果和听觉效果得到有效的优化。然而，一键大片功能无法对视频中的人像进行优化处理，导致视频中的人像显示效果不佳，如此，一键大片功能无法有效地适用于人像视频模式。参阅图2所示，为本申请实施例提供的电子设备的软件架构图。分层架构将软件分成若干个层，每一层都有清晰的角色和分工。层与层之间通过软件接口通信。例如，将安卓系统分为四层，从上至下分别为应用程序层101，框架层102，安卓运行时和系统库103，硬件抽象层104，内核层105，硬件层106。应用程序层可以包括一系列应用程序包。例如，应用程序包可以包括相机，图库，日历，通话，地图，导航，WLAN，蓝牙，音乐，视频，短信息，设备控制服务等应用程序。框架层为应用程序层的应用程序提供应用编程接口和编程框架。应用程序框架层包括一些预先定义的函数。例如，应用程序框架层可以包括窗口管理器，内容提供器，视图系统，电话管理器，资源管理器，通知管理器等。其中，窗口管理器用于管理窗口程序。窗口管理器可以获取显示屏大小，判断是否有状态栏，锁定屏幕，截取屏幕等。内容提供器用来存放和获取数据，并使这些数据可以被应用程序访问。所述数据可以包括视频，图像，音频，拨打和接听的电话，浏览历史和书签，电话簿等。视图系统包括可视控件，例如显示文字的控件，显示图片的控件等。视图系统可用于构建应用程序。显示界面可以由一个或多个视图组成的。例如，包括短信通知图标的显示界面，可以包括显示文字的视图以及显示图片的视图。电话管理器用于提供电子设备的通信功能。例如通话状态的管理。资源管理器为应用程序提供各种资源，比如本地化字符串，图标，图片，布局文件，视频文件等。通知管理器使应用程序可以在状态栏中显示通知信息，可以用于传达告知类型的消息，可以短暂停留后自动消失，无需用户交互。比如通知管理器被用于告知下载完成，消息提醒等。通知管理器还可以是以图表或者滚动条文本形式出现在系统顶部状态栏的通知，例如后台运行的应用程序的通知，还可以是以对话窗口形式出现在屏幕上的通知。例如在状态栏提示文本信息，发出提示音，电子设备振动，指示灯闪烁等。Android Runtime包括核心库和虚拟机。Android runtime负责安卓系统的调度和管理。核心库包含两部分：一部分是java语言需要调用的功能函数，另一部分是安卓的核心库。应用程序层和框架层运行在虚拟机中。虚拟机将应用程序层和框架层的java文件执行为二进制文件。虚拟机用于执行对象生命周期的管理，堆栈管理，线程管理，安全和异常的管理，以及垃圾回收等功能。系统库可以包括多个功能模块。例如，表面管理器，媒体库，三维图形处理库，2D图形引擎等。其中，表面管理器用于对显示子系统进行管理，并且为多个应用程序提供了2D和3D图层的融合。媒体库支持多种常用的音频，视频格式回放和录制，以及静态图像文件等。媒体库可以支持多种音视频编码格式，例如:MPEG4，H.264，MP3，AAC，AMR，JPG，PNG等。三维图形处理库用于实现三维图形绘图，图像渲染，合成，和图层处理等。2D图形引擎是2D绘图的绘图引擎。内核层是硬件和软件之间的层。内核层至少包含显示驱动，摄像头驱动，音频驱动，传感器驱动。内核层是电子设备的操作系统的核心，是基于硬件的第一层软件扩充，提供操作系统最基本的功能，是操作系统工作的基础，负责管理系统的进程、内存、设备驱动程序、文件和网络系统，决定了系统的性能和稳定性。例如，内核可以决定一个应用程序对某部分硬件的操作时间。内核层包括与硬件紧密相关的程序，例如中断处理程序、设备驱动程序等，还包括基本的、公共的、运行频率较高的模块，例如时钟管理模块、进程调度模块等，还包括关键性的数据结构。内核层可以设置于处理器中，或固化在内部存储器。硬件层包括电子设备的多个硬件设备，例如摄像头、显示屏等。参阅图3所示，为本申请一实施例提供的视频处理方法的流程图。所述方法应用于电子设备中，所述视频处理方法包括：S101，获取摄像头拍摄的视频数据，对视频数据进行处理。在本申请的一实施例中，对视频数据进行处理的细化流程如图4所示，具体包括：S1011，对视频数据进行色彩空间转换。如图2所示，在本申请的一实施例中，硬件层106包括图像处理器1061，图像处理器1061包括，但不限于，图像前端1062和图像处理引擎1063。图像处理器1061通过移动行业处理器接口与摄像头193通信。摄像头193包括，但不限于，镜头和图像传感器。镜头用于采集摄像头拍摄范围内的光信号，图像传感器用于将镜头采集的光信号转换为电信号，得到图像数据或视频帧数据。其中，图像传感器得到的图像数据为RAW图像，图像传感器得到的视频帧数据为RAW视频帧图像。参阅图5所示，为本申请实施例提供的视频处理系统的架构示意图。视频处理系统10包括，但不限于，摄像头193、图像前端1062、防抖模块11、惯性测量单元1064、图像处理引擎1063、单目焦外处理模块12、3DLUT模块13。在本申请的一实施例中，摄像头拍摄得到的视频数据包括多个视频帧图像，对视频数据进行色彩空间转换包括：获取摄像头拍摄的视频数据中的RAW视频帧图像，将RAW视频帧图像转换为YUV视频帧图像。其中，YUV视频帧图像数据为YUV格式的图像。S1012，获取摄像头的防抖数据。在本申请的一实施例中，硬件层106还包括惯性测量单元1064。获取摄像头的防抖数据包括：防抖模块11基于惯性测量单元1064侦测的数据确定电子设备的运动特征，并基于电子设备的运动特征确定预设方向和预设距离。其中，电子设备的运动特征包括移动方向和移动距离，预设方向为与移动方向相反的方向，预设距离与移动距离相同。在本申请的一实施例中，惯性测量单元1064用于侦测电子设备的三轴姿态角及加速度，图像处理器可以基于惯性测量单元1064侦测得到的数据提取电子设备的运动特征，并根据提取的电子设备的运动特征对拍摄的视频进行防抖处理。在本申请的一实施例中，惯性测量单元1064包括陀螺仪传感器和加速度传感器。陀螺仪传感器可以用于确定电子设备的运动姿态。例如，可以通过陀螺仪传感器确定电子设备围绕三个轴的角速度，并根据陀螺仪传感器侦测的角速度，实现拍摄时的防抖。加速度传感器可检测电子设备在各个方向上的加速度的大小，当电子设备静止时可检测出重力的大小及方向，还可以用于识别电子设备姿态。S1013，基于摄像头的防抖数据对视频数据进行防抖处理。在本申请的一实施例中，图像处理引擎1063通过移动行业处理器接口与图像前端1062通信连接，从图像前端1062获取色彩空间转换后的视频数据。在本申请的一实施例中，基于摄像头的防抖数据对视频数据进行防抖处理包括：图像处理引擎1063以视频数据中视频帧图像的中心向预设方向移动预设距离后的位置为中心，对视频帧图像进行裁切得到防抖处理后的视频帧图像。S1014，对防抖处理后的视频数据进行降噪处理。在本申请的一实施例中，对防抖处理后的视频数据进行降噪处理包括：图像处理引擎1063基于运动时域滤波对防抖处理后的视频数据进行时域降噪。运动时域滤波的降噪方法为现有技术，在此不作赘述。S1015，对降噪处理后的视频数据进行伽马校正。在本申请的一实施例中，对降噪处理后的视频数据进行伽马校正包括：图像处理引擎1063对视频帧图像的每个像素点的像素值进行归一化，将像素值转换为0-1之间的数值；对归一化后的数值进行预补偿，计算像素值归一化后的数值以1/gamma值为指数的对应值；对预补偿后的数值进行反归一化，将预补偿后的数值反变换为0-255之间的整数值，得到伽马变化后的每个像素点的像素值。可选地，gamma值为1.5。在其他实施方式中，gamma值也可以根据需求设置为其他合适的数值。S102，对处理后的视频数据进行分析，得到视频数据对应的主题标签。在本申请的一实施例中，响应于用户的预设操作，对处理后的视频数据进行分析，得到视频数据对应的主题标签。其中，如图1A所示，用户的预设操作为触发一键大片控件和录制控件的操作，即开启一键大片和开始录制视频的操作。在本申请的一实施例中，对处理后的视频数据进行分析，得到视频数据对应的主题标签包括：获取视频数据的至少一个文本描述信息，将至少一个文本描述信息输入至预先训练的视频分类模型，通过预先训练的视频分类模型输出视频数据对应的主题标签。在本申请的一实施例中，获取视频数据的至少一个文本描述信息包括：将视频数据的多个视频帧图像输入图文转换模型，得到每个视频帧图像的至少一个文本描述信息。其中，图文转换模型为语言形象对比预训练模型。图文转换模型基于大量图像和对应文本描述信息组成的训练数据进行训练而建立。具体地，每个视频帧图像可以对应至少一个文本描述信息，文本描述信息用于描述视频帧图像中的内容信息，通过图文转换模型可以将视频帧图像中的图像内容转换成文字描述信息。例如，若输入图文转换模型的视频帧图像为用户收拾行李的图像，则图文转换模型输出的视频帧图像的文本描述信息可以为“一个人在收拾行李”，若输入图文转换模型的视频帧图像为用户在吃饭的图像，则图文转换模型输出的视频帧图像的文本描述信息可以为“一个人在吃饭”，若输入图文转换模型的视频帧图像为用户在自然景观附近的图像，则图文转换模型输出的视频帧图像的文本描述信息可以为“一个人在游览景点”。在本申请的一实施例中，预先训练的视频分类模型为隐含狄利克雷分布模型，预先训练的视频分类模型基于多个主题标签与每个主题标签对应的大量文本进行训练而建立。其中，多个主题标签可以是预设的主题标签。例如，主题标签可以是旅行、美食、人物等。主题标签用于表征主题类别，可以是视频中与整体的图像内容相关联的主题思想，即，可以反映视频数据的主题，对于不同的主题标签，对应的视频处理方式可以不同，在确定相应的主题标签后，后续可调用对应的视频处理方式进行优化。S103，若视频数据包含人像，对视频数据中包含人像的视频帧图像进行人像抠图，提取视频帧图像中的人像区域。在本申请的一实施例中，对处理后的视频数据进行分析还包括判断视频数据是否包含人像，若视频数据包含人像，对视频数据中包含人像的视频帧图像进行人像抠图，提取视频帧图像中的人像区域。在本申请的一实施例中，判断视频数据是否包含人像包括：判断视频数据的主题标签是否为人像，若视频数据的主题标签为人像，确定视频数据包含人像，若视频数据的主题标签不是人像，不对视频数据中的人像进行处理。若视频数据包含人像，通过单目焦外处理模块12对视频数据中的人像进行处理。在本申请的另一实施例中，判断视频数据是否包含人像包括：判断当前的视频拍摄模式是否为人像模式，若当前的视频拍摄模式为人像模式，确定视频数据包含人像；若当前的视频拍摄模式不是人像模式，不对视频数据中的人像进行处理。在本申请的另一实施例中，视频处理系统还包括人脸识别模块，判断视频数据是否包含人像包括：通过人脸识别模块识别视频数据的每一视频帧图像，判断视频数据是否包含人像，若识别到视频帧图像中包含人脸，确定视频数据包含人像；若识别到所有视频帧图像都不包含人脸，确定视频数据不包含人脸。在本申请的一实施例中，人像处理基于单目bokeh算法实现，单目bokeh算法包括人像抠图模块、背景虚化模块及融合模块。对视频帧图像进行人像抠图，提取视频帧图像中的人像区域包括：人像抠图模块将视频帧图像输入人像抠图模型，通过人像抠图模型提取出视频帧图像中的人像区域。在本申请的一实施例中，人像抠图模型可以是全卷积神经网络、语义分割网络SegNet、稠密预测网络Unet。S104，对视频帧图像的背景区域进行虚化处理。在本申请的一实施例中，视频帧图像的背景区域为视频帧图像中除人像区域之外的区域。对视频帧图像中的背景区域进行虚化处理包括：对背景区域进行高斯模糊处理，得到虚化的背景区域。具体地，对背景区域进行高斯模糊处理包括：预设二维高斯分布函数的均值和标准差，将背景区域划分为多个n*n预设区域，将每个n*n预设区域内的每个像素点的坐标输入二维高斯分布函数，得到二维高斯分布函数的输出值，并将每个像素点对应的输出值除以预设区域内所有像素点对应的输出值之和，得到预设区域内每个像素点的权重，将像素点的RGB三通道像素值分别乘以权重，得到高斯模糊处理后的像素值，将像素点的初始像素值替换为高斯模糊处理后的像素值，得到高斯模糊处理后的像素点，将多个n*n预设区域内高斯模糊处理后的像素点组成的图像确定为虚化处理后的视频帧图像。其中，n为模糊半径，取值可以是任意正整数。可选地，二维高斯分布函数的均值为0，标准差为1.5。S105，将提取的人像区域与虚化的背景区域融合。在本申请的一实施例中，将提取的人像区域放置于初始的人像位置，对提取的人像区域与虚化的背景区域进行合并，使得人像区域与虚化的背景区域融合。S106，确定主题标签对应的滤镜，基于滤镜对视频数据进行调色处理，得到视频文件。在本申请的一实施例中，电子设备预先存储有主题标签与滤镜之间的映射关系表，用于记录主题标签与滤镜之间的对应关系，一个主题标签可以对应一个或多个滤镜。基于主题标签生成视频数据的滤镜包括：基于主题标签以及主题标签与滤镜之间的映射关系表，确定主题标签对应的滤镜。在本申请的一实施例中，基于滤镜对视频数据进行调色包括：3DLUT模块13基于滤镜对应的3D LUT对视频数据进行调色。电子设备进一步存储调色后的视频数据，得到视频文件。在本申请的一实施例中，每个滤镜对应一个3D LUT，3D LUT为图像中的三维颜色查找表，可以将每一组RGB像素的输入值转化为输出值。例如，LUT接收到一个信号时就是接收到一个查表地址，通过查表得到该信号对应的内容并输出，显示器可以显示该内容并输出。3D LUT可以准确描述所有的颜色，可以处理图像显示时颜色的非线性属性问题，还可以用于处理颜色的大幅变动等。因此，3D LUT可以用于精准的颜色校准工作。采用3D LUT可以处理预览图像或拍摄图像显示中的颜色校准和颜色调整，例如，颜色的gamma值，颜色范围，颜色范围追踪错误，修正颜色显示中的非线性属性，颜色串扰，颜色饱和度等。在本申请的一实施例中，若一个主题标签对应一个滤镜，基于该滤镜对应的3DLUT对视频数据进行调色。若一个主题标签对应多个滤镜，将多个滤镜对应的控件显示在拍摄界面，供用户选择，响应于用户触发的一滤镜对应的控件，基于该滤镜对应的3D LUT对视频数据进行调色。在本申请的一实施例中，响应于用户再次触发录制控件的操作，将调色处理后的视频数据编码成视频文件，并进行存储。在本申请的一实施例中，电子设备还将调色处理后的视频数据显示在显示屏，形成预览视频流。具体地，电子设备将调色处理后的视频数据显示在相机应用程序的拍摄界面。参阅图6所示，为本申请另一实施例提供的视频处理系统的架构示意图。视频处理系统10包括，不限于，摄像头193、图像前端1062、防抖模块11、惯性测量单元1064、图像处理引擎1063、视频分析模块14、模板获取模块15。视频处理系统10用于执行一键大片功能，将优化处理后的视频数据保存在图库中。参阅图7所示，为本申请另一实施例提供的视频处理系统的架构示意图。视频处理系统10包括，不限于，摄像头193、图像前端1062、防抖模块11、惯性测量单元1064、图像处理引擎1063、单目焦外处理模块12、3DLUT模块13、视频分析模块14、模板获取模块15。参阅图8所示，为本申请另一实施例提供的视频处理方法的流程图。所述方法应用于电子设备中，所述视频处理方法包括：S201，获取摄像头拍摄的视频数据，对视频数据进行处理。S202，对处理后的视频数据进行分析，得到视频数据对应的主题标签。S203，生成视频数据对应的短视频。在本申请的所述另一实施例中，生成视频数据对应的短视频包括：基于主题标签获取视频数据的短片模板，并基于短片模板生成视频数据对应的短视频。在本申请的所述另一实施例中，在本申请的所述另一实施例中，电子设备对于不同的主题标签，可以预先配置主题标签对应的短片模板。短片模板包括多个模板片段，每个模板片段包括场景匹配信息，将符合场景匹配信息的视频数据填充至对应的模板片段，形成短视频片段，多个短视频片段形成短视频。例如，主题标签为旅行，短片模板为旅行视频的短片模板，该短片模板的多个模板片段分别对应旅行过程中的一个景点，模板片段1对应景点1，模板片段2对应景点2，以此类推。在本申请的所述另一实施例中，基于短片模板生成视频数据对应的短视频包括：基于视频帧图像与短片模板中模板片段的场景匹配信息的相似度，选取多个视频帧图像填充至每个模板片段，形成多个短视频片段，将多个短视频片段组成短视频。具体地，视频帧图像与场景匹配信息的相似度可以通过相似度置信值，或者距离值表示；例如，若视频帧图像的场景特征信息与场景匹配信息的文本特征之间的相似度越高，则相似度置信值越大，距离度量值越小；若视频帧图像的场景特征信息与主题标签的文本特征之间的相似度越低，则相似度置信值越小，距离度量值越大。在本申请的所述另一实施例中，可以基于视频帧图像的场景特征信息与场景匹配信息的相关性，确定与场景匹配信息相关性较高的多个视频帧图像；基于本申请实施例的方案，能够有效删除与场景匹配信息无关或者关联度较低的视频帧图像，确保筛选出的视频帧图像与场景匹配信息相关；另一方面，通过计算视频帧图像的场景特征信息与场景匹配信息的相似度置信值，通过采用多个视频帧图像形成短视频片段，再由多个短视频片段得到短视频，因此短视频的连续性较好。例如，可以遍历视频数据中的全部视频帧图像的场景特征信息，判断每一个视频帧图像的场景特征信息与主题标签信息的文本信息之间的相似度。例如，可以提取视频数据中的部分视频帧图像的场景特征信息，即，可以等间隔的选取视频帧图像，对选取的视频帧图像进行特征提取得到场景特征信息。例如，每间隔5帧视频帧图像选取一视频帧图像。在本申请的另一实施例中，基于视频帧图像与主题标签的相似度，选取多个视频帧图像组成短视频包括：将多个视频帧图像与主题标签输入至预先训练的相似度匹配模型，得到视频帧图像与主题标签的相似度置信值，其中，预先训练的相似度匹配模型中包括图像编码器、文本编码器与相似度度量模块，图像编码器用于从视频帧图像提取图像特征，文本编码器用于从主题标签提取文本特征，相似度度量模块用于度量视频帧图像的图像特征与主题标签的文本特征之间的相似度，相似度置信值用于表示视频帧图像与主题标签相似的概率；基于视频帧图像与主题标签的相似度置信值，选取多个视频帧图像组成短视频。预先训练的相似度匹配模型可以为深度语义匹配模型。在本申请的另一实施例中，生成视频数据对应的短视频包括：分析视频数据的多个场景标签和转场信息，基于多个场景标签对视频数据进行分段，得到多个视频片段，基于转场信息将多个视频片段合并，生成短视频。在本申请的所述另一实施例中，场景标签用于表征场景类别，例如雪景、古建筑等，用于在视频中选择较优视频片段，并识别出视频的场景类别变化，得到转场信息，例如人像主体切换、快速运镜、语义场景变化，用于视频分段。在本申请的一实施例中，短视频的时间小于完整视频数据的时间。可选地，短视频的时间为15秒。在其他实施例中，短视频的时间也可以根据需求设置为其他时间。S204，若短视频中包含人像，对短视频中的人像进行处理。人像的具体处理过程可参考如图3所示的步骤S103-S105。S205，确定主题标签对应的滤镜，基于滤镜对短视频进行调色处理，得到视频文件。具体的处理过程可参考如图3所示的步骤S103-S106。参阅图9所示，为本申请另一实施例提供的视频处理方法的流程图。所述方法应用于电子设备中，所述视频处理方法包括：S301，获取摄像头拍摄的视频数据，对视频数据进行处理。S302，对处理后的视频数据进行分析，得到视频数据对应的主题标签。S303，生成视频数据对应的短视频。S304，若短视频中包含人像，对短视频中的人像进行处理。人像的具体处理过程可参考如图3所示的步骤S103-S105。S305，确定主题标签对应的滤镜，基于滤镜对短视频进行调色处理。具体的处理过程可参考如图3所示的步骤S103-S106。S306，确定主题标签对应的背景音乐，将背景音乐添加至短视频，得到视频文件。在本申请的所述另一实施例中，确定主题标签对应的背景音乐包括：基于短视频的时长与主题标签，得到与主题标签相匹配的音乐。其中，音乐的时长大于或等于短视频的时长。具体地，基于短视频的时长可以确定背景音乐的总时长，进行音乐匹配时通常选取的背景音乐需要大于或者等于短视频的总时长；基于主题标签，可以确定背景音乐的音乐风格。在本申请的所述另一实施例中，将调色处理后的短视频与背景音乐合成并存储，得到短视频对应的视频文件。本申请实施例在普通录像的数据通路中，在平台模块IPE后面添加单目bokeh算法模块，对经过平台ISP处理之后的数据流进行虚化处理，最终输出预览和视频数据流。在“单目bokeh”算法模块中，进行人像抠图，背景高斯模糊，人像和模糊背景融合的处理。本申请实施例在用户打开一键大片之后，视频录制过程中，启用感知引擎，进行语义分析，得到拍摄场景分析结果，传输到图库中；图库编辑根据接收到的信息，智能生成15s音乐短片模板。本申请实施例的语义分析主要通过Best Moment感知引擎实现，具体由AI场景检测、转场检测、笑脸检测等检测算法组成。语义分析主要分为两层，第一层LV1为主题类别，表示整个视频的风格、氛围，包括美食、人物、旅行等，用来给短片适配背景音乐和滤镜等；第二层LV2为场景类别，例如雪景、古建筑等，用于在视频中选择较优视频片段，并识别出视频场景变化，例如人物主体切换、快速运镜、语义场景变化，用于视频分段。最终在图库中生成的视频带有人像虚化效果，且能生成带有虚化效果的音乐小短片。参阅图10所示，为本申请实施例还提供一种电子设备。所述电子设备100可以是手机、平板电脑、桌面型计算机、膝上型计算机、手持计算机、笔记本电脑、超级移动个人计算机、上网本，以及蜂窝电话、个人数字助理、增强现实设备、虚拟现实设备、人工智能设备、可穿戴式设备、车载设备、智能家居设备和/或智慧城市设备，本申请实施例对该电子设备100的具体类型不作特殊限制。电子设备100可以包括处理器110，外部存储器接口120，内部存储器121，通用串行总线接口130，充电管理模块140，电源管理模块141，电池142，天线1，天线2，移动通信模块150，无线通信模块160，音频模块170，扬声器170A，受话器170B，麦克风170C，耳机接口170D，传感器模块180，按键190，马达191，指示器192，摄像头193，显示屏194，以及用户标识模块卡接口195等。其中传感器模块180可以包括压力传感器180A，陀螺仪传感器180B，气压传感器180C，磁传感器180D，加速度传感器180E，距离传感器180F，接近光传感器180G，指纹传感器180H，温度传感器180J，触摸传感器180K，环境光传感器180L，骨传导传感器180M等。可以理解的是，本发明实施例示意的结构并不构成对电子设备100的具体限定。在本申请另一些实施例中，电子设备100可以包括比图示更多或更少的部件，或者组合某些部件，或者拆分某些部件，或者不同的部件布置。图示的部件可以以硬件，软件或软件和硬件的组合实现。处理器110可以包括一个或多个处理单元，例如：处理器110可以包括应用处理器，调制解调处理器，图形处理器，图像信号处理器，控制器，视频编解码器，数字信号处理器，基带处理器，和/或神经网络处理器等。其中，不同的处理单元可以是独立的器件，也可以集成在一个或多个处理器中。控制器可以根据指令操作码和时序信号，产生操作控制信号，完成取指令和执行指令的控制。处理器110中还可以设置存储器，用于存储指令和数据。在一些实施例中，处理器110中的存储器为高速缓冲存储器。该存储器可以保存处理器110刚用过或循环使用的指令或数据。如果处理器110需要再次使用该指令或数据，可从所述存储器中直接调用。避免了重复存取，减少了处理器110的等待时间，因而提高了系统的效率。在一些实施例中，处理器110可以包括一个或多个接口。接口可以包括集成电路接口，集成电路内置音频接口，脉冲编码调制接口，通用异步收发传输器接口，移动产业处理器接口，通用输入输出接口，用户标识模块接口，和/或通用串行总线接口等。I2C接口是一种双向同步串行总线，包括一根串行数据线和一根串行时钟线。在一些实施例中，处理器110可以包含多组I2C总线。处理器110可以通过不同的I2C总线接口分别耦合触摸传感器180K，充电器，闪光灯，摄像头193等。例如：处理器110可以通过I2C接口耦合触摸传感器180K，使处理器110与触摸传感器180K通过I2C总线接口通信，实现电子设备100的触摸功能。I2S接口可以用于音频通信。在一些实施例中，处理器110可以包含多组I2S总线。处理器110可以通过I2S总线与音频模块170耦合，实现处理器110与音频模块170之间的通信。在一些实施例中，音频模块170可以通过I2S接口向无线通信模块160传递音频信号，实现通过蓝牙耳机接听电话的功能。PCM接口也可以用于音频通信，将模拟信号抽样，量化和编码。在一些实施例中，音频模块170与无线通信模块160可以通过PCM总线接口耦合。在一些实施例中，音频模块170也可以通过PCM接口向无线通信模块160传递音频信号，实现通过蓝牙耳机接听电话的功能。所述I2S接口和所述PCM接口都可以用于音频通信。UART接口是一种通用串行数据总线，用于异步通信。该总线可以为双向通信总线。它将要传输的数据在串行通信与并行通信之间转换。在一些实施例中，UART接口通常被用于连接处理器110与无线通信模块160。例如：处理器110通过UART接口与无线通信模块160中的蓝牙模块通信，实现蓝牙功能。在一些实施例中，音频模块170可以通过UART接口向无线通信模块160传递音频信号，实现通过蓝牙耳机播放音乐的功能。MIPI接口可以被用于连接处理器110与显示屏194，摄像头193等外围器件。MIPI接口包括摄像头串行接口，显示屏串行接口等。在一些实施例中，处理器110和摄像头193通过CSI接口通信，实现电子设备100的拍摄功能。处理器110和显示屏194通过DSI接口通信，实现电子设备100的显示功能。GPIO接口可以通过软件配置。GPIO接口可以被配置为控制信号，也可被配置为数据信号。在一些实施例中，GPIO接口可以用于连接处理器110与摄像头193，显示屏194，无线通信模块160，音频模块170，传感器模块180等。GPIO接口还可以被配置为I2C接口，I2S接口，UART接口，MIPI接口等。USB接口130是符合USB标准规范的接口，具体可以是Mini USB接口，Micro USB接口，USB Type C接口等。USB接口130可以用于连接充电器为电子设备100充电，也可以用于电子设备100与外围设备之间传输数据。也可以用于连接耳机，通过耳机播放音频。该接口还可以用于连接其他电子设备100，例如AR设备等。可以理解的是，本发明实施例示意的各模块间的接口连接关系，只是示意性说明，并不构成对电子设备100的结构限定。在本申请另一些实施例中，电子设备100也可以采用上述实施例中不同的接口连接方式，或多种接口连接方式的组合。充电管理模块140用于从充电器接收充电输入。其中，充电器可以是无线充电器，也可以是有线充电器。在一些有线充电的实施例中，充电管理模块140可以通过USB接口130接收有线充电器的充电输入。在一些无线充电的实施例中，充电管理模块140可以通过电子设备100的无线充电线圈接收无线充电输入。充电管理模块140为电池142充电的同时，还可以通过电源管理模块141为电子设备100供电。电源管理模块141用于连接电池142，充电管理模块140与处理器110。电源管理模块141接收电池142和/或充电管理模块140的输入，为处理器110，内部存储器121，显示屏194，摄像头193，和无线通信模块160等供电。电源管理模块141还可以用于监测电池容量，电池循环次数，电池健康状态等参数。在其他一些实施例中，电源管理模块141也可以设置于处理器110中。在另一些实施例中，电源管理模块141和充电管理模块140也可以设置于同一个器件中。电子设备100的无线通信功能可以通过天线1，天线2，移动通信模块150，无线通信模块160，调制解调处理器以及基带处理器等实现。天线1和天线2用于发射和接收电磁波信号。电子设备100中的每个天线可用于覆盖单个或多个通信频带。不同的天线还可以复用，以提高天线的利用率。例如：可以将天线1复用为无线局域网的分集天线。在另外一些实施例中，天线可以和调谐开关结合使用。移动通信模块150可以提供应用在电子设备100上的包括2G/3G/4G/5G等无线通信的解决方案。移动通信模块150可以包括至少一个滤波器，开关，功率放大器，低噪声放大器等。移动通信模块150可以由天线1接收电磁波，并对接收的电磁波进行滤波，放大等处理，传送至调制解调处理器进行解调。移动通信模块150还可以对经调制解调处理器调制后的信号放大，经天线1转为电磁波辐射出去。在一些实施例中，移动通信模块150的至少部分功能模块可以被设置于处理器110中。在一些实施例中，移动通信模块150的至少部分功能模块可以与处理器110的至少部分模块被设置在同一个器件中。调制解调处理器可以包括调制器和解调器。其中，调制器用于将待发送的低频基带信号调制成中高频信号。解调器用于将接收的电磁波信号解调为低频基带信号。随后解调器将解调得到的低频基带信号传送至基带处理器处理。低频基带信号经基带处理器处理后，被传递给应用处理器。应用处理器通过音频设备输出声音信号，或通过显示屏194显示图像或视频。在一些实施例中，调制解调处理器可以是独立的器件。在另一些实施例中，调制解调处理器可以独立于处理器110，与移动通信模块150或其他功能模块设置在同一个器件中。无线通信模块160可以提供应用在电子设备100上的包括无线局域网网络)，蓝牙，全球导航卫星系统，调频，近距离无线通信技术，红外技术等无线通信的解决方案。无线通信模块160可以是集成至少一个通信处理模块的一个或多个器件。无线通信模块160经由天线2接收电磁波，将电磁波信号调频以及滤波处理，将处理后的信号发送到处理器110。无线通信模块160还可以从处理器110接收待发送的信号，对其进行调频，放大，经天线2转为电磁波辐射出去。在一些实施例中，电子设备100的天线1和移动通信模块150耦合，天线2和无线通信模块160耦合，使得电子设备100可以通过无线通信技术与网络以及其他设备通信。所述无线通信技术可以包括全球移动通讯系统，通用分组无线服务，码分多址接入，宽带码分多址，时分码分多址，长期演进，BT，GNSS，WLAN，NFC，FM，和/或IR技术等。所述GNSS可以包括全球卫星定位系统，全球导航卫星系统，北斗卫星导航系统，准天顶卫星系统和/或星基增强系统。电子设备100通过GPU，显示屏194，以及应用处理器等实现显示功能。GPU为图像处理的微处理器，连接显示屏194和应用处理器。GPU用于执行数学和几何计算，用于图形渲染。处理器110可包括一个或多个GPU，其执行程序指令以生成或改变显示信息。显示屏194用于显示图像，视频等。显示屏194包括显示面板。显示面板可以采用液晶显示屏，有机发光二极管，有源矩阵有机发光二极体或主动矩阵有机发光二极体，柔性发光二极管，Miniled，Microled，Micro-OLED，量子点发光二极管等。在一些实施例中，电子设备100可以包括1个或N个显示屏194，N为大于1的正整数。电子设备100可以通过ISP，摄像头193，视频编解码器，GPU，显示屏194以及应用处理器等实现拍摄功能。ISP用于处理摄像头193反馈的数据。例如，拍照时，打开快门，光线通过镜头被传递到摄像头感光元件上，光信号转换为电信号，摄像头感光元件将所述电信号传递给ISP处理，转化为肉眼可见的图像。ISP还可以对图像的噪点，亮度，肤色进行算法优化。ISP还可以对拍摄场景的曝光，色温等参数优化。在一些实施例中，ISP可以设置在摄像头193中。摄像头193用于捕获静态图像或视频。物体通过镜头生成光学图像投射到感光元件。感光元件可以是电荷耦合器件或互补金属氧化物半导体光电晶体管。感光元件把光信号转换成电信号，之后将电信号传递给ISP转换成数字图像信号。ISP将数字图像信号输出到DSP加工处理。DSP将数字图像信号转换成标准的RGB，YUV等格式的图像信号。在一些实施例中，电子设备100可以包括1个或N个摄像头193，N为大于1的正整数。数字信号处理器用于处理数字信号，除了可以处理数字图像信号，还可以处理其他数字信号。例如，当电子设备100在频点选择时，数字信号处理器用于对频点能量进行傅里叶变换等。视频编解码器用于对数字视频压缩或解压缩。电子设备100可以支持一种或多种视频编解码器。这样，电子设备100可以播放或录制多种编码格式的视频，例如：动态图像专家组1，MPEG2，MPEG3，MPEG4等。NPU为神经网络计算处理器，通过借鉴生物神经网络结构，例如借鉴人脑神经元之间传递模式，对输入信息快速处理，还可以不断的自学习。通过NPU可以实现电子设备100的智能认知等应用，例如：图像识别，人脸识别，语音识别，文本理解等。内部存储器121可以包括一个或多个随机存取存储器和一个或多个非易失性存储器。随机存取存储器可以包括静态随机存储器、动态随机存储器、同步动态随机存储器、双倍资料率同步动态随机存取存储器等；非易失性存储器可以包括磁盘存储器件、快闪存储器。快闪存储器按照运作原理划分可以包括NOR FLASH、NAND FLASH、3DNAND FLASH等，按照存储单元电位阶数划分可以包括单阶存储单元、多阶存储单元、三阶储存单元、四阶储存单元等，按照存储规范划分可以包括通用闪存存储、嵌入式多媒体存储卡等。随机存取存储器可以由处理器110直接进行读写，可以用于存储操作系统或其他正在运行中的程序的可执行程序，还可以用于存储用户及应用程序的数据等。非易失性存储器也可以存储可执行程序和存储用户及应用程序的数据等，可以提前加载到随机存取存储器中，用于处理器110直接进行读写。外部存储器接口120可以用于连接外部的非易失性存储器，实现扩展电子设备100的存储能力。外部的非易失性存储器通过外部存储器接口120与处理器110通信，实现数据存储功能。例如将音乐，视频等文件保存在外部的非易失性存储器中。内部存储器121或外部存储器接口120用于存储一个或多个计算机程序。一个或多个计算机程序被配置为被该处理器110执行。该一个或多个计算机程序包括多个指令，多个指令被处理器110执行时，可实现上述实施例中在电子设备100上执行的屏幕显示检测方法，以实现电子设备100的屏幕显示检测功能。电子设备100可以通过音频模块170，扬声器170A，受话器170B，麦克风170C，耳机接口170D，以及应用处理器等实现音频功能。例如音乐播放，录音等。音频模块170用于将数字音频信息转换成模拟音频信号输出，也用于将模拟音频输入转换为数字音频信号。音频模块170还可以用于对音频信号编码和解码。在一些实施例中，音频模块170可以设置于处理器110中，或将音频模块170的部分功能模块设置于处理器110中。扬声器170A，也称“喇叭”，用于将音频电信号转换为声音信号。电子设备100可以通过扬声器170A收听音乐，或收听免提通话。受话器170B，也称“听筒”，用于将音频电信号转换成声音信号。当电子设备100接听电话或语音信息时，可以通过将受话器170B靠近人耳接听语音。麦克风170C，也称“话筒”，“传声器”，用于将声音信号转换为电信号。当拨打电话或发送语音信息时，用户可以通过人嘴靠近麦克风170C发声，将声音信号输入到麦克风170C。电子设备100可以设置至少一个麦克风170C。在另一些实施例中，电子设备100可以设置两个麦克风170C，除了采集声音信号，还可以实现降噪功能。在另一些实施例中，电子设备100还可以设置三个，四个或更多麦克风170C，实现采集声音信号，降噪，还可以识别声音来源，实现定向录音功能等。耳机接口170D用于连接有线耳机。耳机接口170D可以是USB接口130，也可以是3.5mm的开放移动电子设备100平台标准接口，美国蜂窝电信工业协会标准接口。按键190包括开机键，音量键等。按键190可以是机械按键。也可以是触摸式按键。电子设备100可以接收按键输入，产生与电子设备100的用户设置以及功能控制有关的键信号输入。马达191可以产生振动提示。马达191可以用于来电振动提示，也可以用于触摸振动反馈。例如，作用于不同应用的触摸操作，可以对应不同的振动反馈效果。作用于显示屏194不同区域的触摸操作，马达191也可对应不同的振动反馈效果。不同的应用场景也可以对应不同的振动反馈效果。触摸振动反馈效果还可以支持自定义。指示器192可以是指示灯，可以用于指示充电状态，电量变化，也可以用于指示消息，未接来电，通知等。SIM卡接口195用于连接SIM卡。SIM卡可以通过插入SIM卡接口195，或从SIM卡接口195拔出，实现和电子设备100的接触和分离。电子设备100可以支持1个或N个SIM卡接口，N为大于1的正整数。SIM卡接口195可以支持Nano SIM卡，Micro SIM卡，SIM卡等。同一个SIM卡接口195可以同时插入多张卡。所述多张卡的类型可以相同，也可以不同。SIM卡接口195也可以兼容不同类型的SIM卡。SIM卡接口195也可以兼容外部存储卡。电子设备100通过SIM卡和网络交互，实现通话以及数据通信等功能。在一些实施例中，电子设备100采用eSIM，即：嵌入式SIM卡。eSIM卡可以嵌在电子设备100中，不能和电子设备100分离。本申请实施例还提供一种计算机存储介质，该计算机存储介质中存储有计算机指令，当该计算机指令在电子设备100上运行时，使得电子设备100执行上述相关方法步骤实现上述实施例中的视频处理方法。本申请实施例还提供了一种计算机程序产品，当该计算机程序产品在计算机上运行时，使得计算机执行上述相关步骤，以实现上述实施例中的视频处理方法。另外，本申请的实施例还提供一种装置，这个装置具体可以是芯片，组件或模块，该装置可包括相连的处理器和存储器；其中，存储器用于存储计算机执行指令，当装置运行时，处理器可执行存储器存储的计算机执行指令，以使芯片执行上述各方法实施例中的视频处理方法。其中，本实施例提供的电子设备、计算机存储介质、计算机程序产品或芯片均用于执行上文所提供的对应的方法，因此，其所能达到的有益效果可参考上文所提供的对应的方法中的有益效果，此处不再赘述。通过以上的实施方式的描述，所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，仅以上述各功能模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能模块完成，即将装置的内部结构划分成不同的功能模块，以完成以上描述的全部或者部分功能。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，该模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个装置，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。该作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是一个物理单元或多个物理单元，即可以位于一个地方，或者也可以分布到多个不同地方。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。该集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个可读取存储介质中。基于这样的理解，本申请实施例的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该软件产品存储在一个存储介质中，包括若干指令用以使得一个设备或处理器执行本申请各个实施例方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。最后应说明的是，以上实施例仅用以说明本申请的技术方案而非限制，尽管参照较佳实施例对本申请进行了详细说明，本领域的普通技术人员应当理解，可以对本申请的技术方案进行修改或等同替换，而不脱离本申请技术方案的精神和范围。
