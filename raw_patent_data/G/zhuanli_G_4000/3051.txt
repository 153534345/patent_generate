标题title
一种漏电流测试装置及漏电流测试方法
摘要abst
本申请实施例提供一种漏电流测试装置及漏电流测试方法，包括：第一接口、第二接口以及测试电路，测试电路包括：电源模块，分别与第一接口和第二接口连接；数据传输模块，分别与第一接口、第二接口以及控制模块连接；控制模块，分别与电源模块、数据传输模块以及采样模块连接；采样模块，与控制模块连接，在需要进行漏电流测试时，可以通过第一接口与检测设备连接，通过第二接口与终端连接，通过漏电流测试电路中的电源模块根据检测设备的供电电压输出与终端工作状态对应的工作电压，以此实现终端的供电，并且通过改变终端的状态，由终端VBUS通路读取整机的漏电流，即插即用，不需要另外设置程控电源，使方便灵活，实现成本低。
权利要求书clms
1.一种漏电流测试装置，其特征在于，包括：第一接口，用于连接检测设备；第二接口，用于连接终端；测试电路，分别与所述第一接口和所述第二接口连接；所述测试电路包括：电源模块，分别与所述第一接口和所述第二接口连接，用于在所述第一接口连接所述检测设备，第二接口连接所述终端时，根据所述检测设备的供电电压生成测试所需的工作电压，并根据电源控制指令切换输出至所述终端的工作电压；数据传输模块，分别与所述第一接口、所述第二接口以及控制模块连接，用于传输状态控制指令以及测试指令；控制模块，分别与所述电源模块、所述数据传输模块以及采样模块连接，用于根据测试指令输出所述电源控制指令；采样模块，与所述控制模块连接，用于采集所述终端的VBUS通路电压；所述控制模块还用于根据所述终端的VBUS通路电压计算检测值，并将所述检测值传输至所述检测设备。2.如权利要求1所述的漏电流测试装置，其特征在于，所述电源模块包括过压保护单元、电源单元以及开关单元；所述过压保护单元的输入端连接所述第一接口的供电引脚，所述过压保护单元的输出端与所述电源单元的输入端连接，所述电源单元的第一输出端与所述开关单元的第一输入端连接，所述电源单元的第二输出端与所述开关单元的第二输入端连接，所述开关单元的输出端连接所述第二接口的供电引脚，所述开关单元的控制端与所述控制模块连接，所述电源单元的第三输出端分别与所述数据传输模块和所述控制模块连接，为所述数据传输模块和所述控制模块供电；其中，所述电源单元的第一输出端输出第一工作电压，所述第一工作电压为所述终端进入测试模式下所需的工作电压；所述电源单元的第二输出端输出第二工作电压，所述第二工作电压为终端解除测试模式后所需的工作电压。3.如权利要求1所述的漏电流测试装置，其特征在于，所述数据传输模块包括集线控制器和数据转换单元；所述集线控制器的输入端与所述第一接口的差分数据引脚连接，所述集线控制器的第一输出端与第二接口连接，所述集线控制器的第二输出端与所述数据转换单元的输入端连接，所述数据转换单元的输出端与所述控制模块连接。4.如权利要求1所述的漏电流测试装置，其特征在于，所述采样模块包括采样电阻和放大电路；所述采样电阻的第一端与所述第二接口连接，所述采样电阻的第二端与所述放大电路的输入端连接，所述放大电路的输出端与所述控制模块连接。5.如权利要求2所述的漏电流测试装置，其特征在于，所述开关单元包括第一开关子单元、第二开关子单元以及开关芯片；所述第一开关子单元用于控制所述第一工作电压与第一输出电压的连通；所述第二开关子单元用于控制所述第二工作电压与第二输出电压的连通；所述开关芯片用于根据电源控制指令将输出至所述终端的工作电压切换为所述第一输出电压或所述第二输出电压。6.如权利要求1所述的漏电流测试装置，其特征在于，所述测试电路还包括第三开关子单元、第四开关子单元、第一上拉电阻以及第二上拉电阻；所述第三开关子单元用于控制所述第一上拉电阻的接入；所述第四开关子单元用于控制所述第二上拉电阻的接入。7.如权利要求1至6任意一项所述的漏电流测试装置，其特征在于，所述第一接口、所述第二接口以及所述测试电路设置于集成电路板上。8.如权利要求7所述漏电流测试装置，其特征在于，所述漏电流测试装置还包括外壳，所述外壳形成一容置腔，所述集成电路板容置于所述容置腔中。9.如权利要求7所述的漏电流测试装置，其特征在于，所述第一接口和所述第二接口均包括通信串行总线接口。10.一种漏电流测试方法，其特征在于，检测设备通过如权利要求1至9任意一项所述的漏电流测试装置与终端连接，所述漏电流测试方法包括：控制所述漏电流测试装置为所述终端供电；控制所述终端更改内部供电方式，将供电方式更改为VBUS供电；控制所述漏电流测试装置输出第一工作电压至所述终端；控制所述终端进入测试模式，并控制所述终端关机；获取所述漏电流测试装置上传的检测值，根据所述检测值确定漏电流测试结果；在漏电流测试完成后，控制漏电流测试装置输出第二工作电压至所述终端。11.根据权利要求10所述的漏电流测试方法，其特征在于，所述控制所述终端进入测试模式，并控制所述终端关机，包括：控制所述终端进入测试模式并停止充电；控制所述终端进入待机模式；在预设时间间隔后，控制所述终端关机。12.根据权利要求10或11所述的漏电流测试方法，其特征在于，在所述在漏电流测试完成后，控制漏电流测试装置输出第二工作电压至所述终端之后，还包括：控制所述终端开机。
说明书desc
技术领域本申请涉及电子技术领域，尤其涉及一种漏电流测试装置及漏电流测试方法。背景技术电流是电子产品的一项重要指标，电流测试是电子产品生产过程中的重要的测试项目。在电子设备的生产过程中，通常会在单板测试阶段进行漏电流测试，并在组装测试阶段也会进行漏电流测试，测试电子设备的漏电流是否符合出厂要求。然而，在实际应用过程中，在电子产品出厂后，仍存在部分因漏电流问题发生退货的情况。因此，为了减少因漏电流问题产生的退货问题，通常需要对老化操作后的电子产品进行整机的漏电流测试。而目前的整机漏电流测试方法都需要另外设置程控电源，使得整机漏电流测试存在不够灵活方便的情况。发明内容本申请提供了一种漏电流测试装置及漏电流测试方法，可以实现即插即用，不需要另外设置程控电源，使用方便灵活，实现成本低，在老化操作后任意一工位都能够灵活地对整机进行漏电流测试。第一方面，提供了一种漏电流测试装置，包括，用于连接检测设备的第一接口；用于连接终端的第二接口；以及分别与所述第一接口和所述第二接口连接测试电路。上述所述测试电路包括：电源模块，分别与所述第一接口和所述第二接口连接，用于在所述第一接口连接所述检测设备，第二接口连接所述终端时，根据所述检测设备的供电电压生成测试所需的工作电压，并根据电源控制指令切换输出至所述终端的工作电压；数据传输模块，分别与所述第一接口、所述第二接口以及控制模块连接，用于传输状态控制指令以及测试指令；控制模块，分别与所述电源模块、所述数据传输模块以及采样模块连接，用于根据测试指令输出所述电源控制指令；采样模块，与所述控制模块连接，用于采集所述终端的VBUS通路电压；所述控制模块还用于根据所述终端的VBUS通路电压计算检测值，并将所述检测值传输至所述检测设备。其中，上述第一接口和上述第二接口可以使用通用串行总线接口。上述第一接口和上述第二接口的接口类型可以根据实际需求进行设置，例如可以将第一接口设置为USB Type C的插头类型，将第二接口设置为USB Type C的插头类型；或者，将第一接口设置为USB Type C的插口类型，将第二接口设置为USB Type C的插口类型；又或者，将第一接口设置为USB Type C的插头类型，将第二接口设置为USB Type C的插口类型；又或者，将第一接口设置为USB Type C的插口类型，将第二接口设置为USB Type C的插头类型；又或者，将第一接口设置为USB A型接口，将第二接口设置为USB B型接口等等。可理解的是，本申请实施例中提及的将第一接口与检测设备连接，可以是直接通过第一接口与检测设备连接，也可以是通过数据线与检测设备连接。同理，将第二接口与终端连接可以是直接通过第二接口与终端连接，也可以是通过数据线与终端连接。终端可以是手机、可穿戴设备、平板电脑、笔记本电脑、超级移动个人计算机、上网本、个人数字助理等电子设备。上述检测设备可以是老化操作后各个测试工位所用的检测设备，例如可以是PC机、平板电脑、笔记本电脑、超级移动个人计算机等电子设备。通过将终端30的供电方式由VBAT供电更改为VBUS供电，利用检测设备的供电电压生成测试所需的工作电压，并根据电源控制指令切换输出至终端的工作电压从而能够通过无源的漏电流测试装置实现终端的漏电流测试。以上可以看出，本申请实施例提供的漏电流测试装置，在需要进行漏电流测试时，可以通过第一接口与终端连接，通过第二接口与检测设备连接，通过漏电流测试电路中的电源模块根据检测设备的供电电压输出与终端工作状态对应的工作电压，以此实现终端的供电，并且通过改变终端的状态，由终端VBUS通路读取整机的漏电流，从而实现终端的整机漏电流测试，即插即用，不需要另外设置程控电源，使用方便灵活，实现成本低，在老化操作后任意一工位都能够灵活地对整机进行漏电流测试。基于此，在老化操作后到出厂前的任意一工位都能够对整机进行漏电流测试，在出厂前再测试整机的漏电流，能够有效筛选出因老化操作或其他测试导致的器件状态改变而导致漏电流不符合要求的产品，减少出厂后的产品退货率。在第一方面的一种可能的实现方式中，所述电源模块包括过压保护单元、电源单元以及开关单元；所述过压保护单元的输入端连接所述第一接口的供电引脚，所述过压保护单元的输出端与所述电源单元的输入端连接，所述电源单元的第一输出端与所述开关单元的第一输入端连接，所述电源单元的第二输出端与所述开关单元的第二输入端连接，所述开关单元的输出端连接所述第二接口的供电引脚，所述开关单元的控制端与所述控制模块连接，所述电源单元的第三输出端分别与所述数据传输模块和所述控制模块连接，为所述数据传输模块和所述控制模块供电；其中，所述电源单元的第一输出端输出第一工作电压，所述第一工作电压为所述终端进入测试模式下所需的工作电压；所述电源单元的第二输出端输出第二工作电压，所述第二工作电压为终端解除测试模式后所需的工作电压。通过电源单元产生第一工作电压和第二工作电压，通过第一工作电压为终端进入测试模式进行测试时供电，通过第二工作电压为终端接触测试模式后为终端供电，从而实现利用检测设备提供终端测试所需的电源，使得漏电流测试装置不用另外接入程控电源，实现小型化和无源化。在第一方面的一种可能的实现方式中，所述数据传输模块包括集线控制器和数据转换单元；所述集线控制器的输入端与所述第一接口的差分数据引脚连接，所述集线控制器的第一输出端与第二接口连接，所述集线控制器的第二输出端与所述数据转换单元的输入端连接，所述数据转换单元的输出端与所述控制模块连接。上述数据转换单元可以将USB协议数据转换为USART协议数据。在第一方面的一种可能的实现方式中，所述采样模块包括采样电阻和放大电路；所述采样电阻的第一端与所述第二接口连接，所述采样电阻的第二端与所述放大电路的输入端连接，所述放大电路的输出端与所述控制模块连接。在第一方面的一种可能的实现方式中，所述开关单元包括第一开关子单元、第二开关子单元以及开关芯片；所述第一开关子单元用于控制所述第一工作电压与第一输出电压的连通；所述第二开关子单元用于控制所述第二工作电压与第二输出电压的连通；所述开关芯片用于根据电源控制指令将输出至所述终端的工作电压切换为所述第一输出电压或所述第二输出电压。具体的，当需要输出第一输出电压时，可以控制第一开关子单元连通并控制开关芯片切换至输出第一输出电压的通路，当需要输出第二输出电压时，可以控制第二开关子单元连通并控制开关芯片切换至第二输出电压的通路。在第一方面的一种可能的实现方式中，所述测试电路还包括第三开关子单元、第四开关子单元、第一上拉电阻以及第二上拉电阻；所述第三开关子单元用于控制所述第一上拉电阻的接入；所述第四开关子单元用于控制所述第二上拉电阻的接入。具体的，在第一接口连接检测设备之后，通过控制第三开关子单元连通、第四开关子单元连通，使得第一上拉电阻和第二上拉电阻连接终端内部的VBUS_PHONE通路，从而实现终端对外围电路的硬件要求，从而使得上述漏电流测试装置可以修改终端的寄存器状态。在第一方面的一种可能的实现方式中，所述第一接口、所述第二接口以及所述测试电路设置于集成电路板上。在第一方面的一种实现方式中，所述漏电流测试装置还包括外壳，所述外壳形成一容置腔，所述集成电路板容置于所述容置腔中。以上可以看出，上述一种漏电流测试装置具有类“集线器”的结构，具有小型化的特点，能够根据需求实现灵活地漏电流测试。第二方面，本申请实施例提供一种漏电流测试方法，检测设备通过如第一方面所述的漏电流测试装置与终端连接，所述漏电流测试方法包括：控制所述漏电流测试装置为所述终端供电；控制所述终端更改内部供电方式，将供电方式更改为VBUS供电；控制所述漏电流测试装置输出第一工作电压至所述终端；控制所述终端进入测试模式，并控制所述终端关机；获取所述漏电流测试装置上传的检测值，根据所述检测值确定漏电流测试结果；在漏电流测试完成后，控制漏电流测试装置输出第二工作电压至所述终端。在具体应用中，检测设备可以通过输出第一控制指令至漏电流测试装置的控制模块，以使控制模块控制第三继电器闭合、第四继电器闭合，使得第一上拉电阻和第二上拉电阻连接终端内部的VBUS_PHONE通路，从而实现终端对外围电路的硬件要求，从而使得上述漏电流测试装置可以修改终端的寄存器状态。第一控制指令用于控制第三继电器和第四继电器闭合，从而使漏电流测试装置通过CC1的第一上拉电阻和CC2的第二上拉电阻与内部的上拉电阻并联，形成双上拉。上述控制所述终端进入测试模式，并控制所述终端关机可以包括：控制所述终端进入测试模式并停止充电；控制所述终端进入待机模式；在预设时间间隔后，控制所述终端关机。控制所述终端更改内部供电方式，将供电方式更改为VBUS供电具体可以是输出第二控制指令至终端，上述第二控制指令用于控制手机改变终端内部供电方式，将终端供电方式由VBAT供电修改为VBUS供电。上述第二控制指令可以通过上述漏电流测试装置提供的USB_P_1-USB_N_1传输通路传输到终端上。在具体应用中，上述第二控制指令可以包括更改与终端内部供电方式相关的寄存器的状态的指令，以实现对终端内部供电方式的改变。对于不同型号的终端，其采用的主控板型号不同，与内部供电方式相关的寄存器也就不同，在此只需要根据终端主控板的型号确定出与内部供电方式相关的寄存器，并修改相关的寄存器的状态，使得终端将内部供电方式切换至VBUS供电即可。在具体应用中，在修改了上述寄存器的状态后，还可以锁定寄存器，以避免寄存器的状态由于其他情况发生变化的情况。上述控制所述漏电流测试装置输出第一工作电压至所述终端具体可以是输出第三控制指令至漏电流测试装置的控制模块，以使控制模块控制第一继电器闭合，第二继电器断开，并将开关芯片切换至输出第一工作电压。在本申请实施例中，通过第一继电器闭合，第二继电器断开，并将开关芯片切换至输出第一工作电压使得漏电流测试装置输出第一工作电压给手机供电。示例性的，上述第一工作电压为4V，即输出4V给手机供电。上述控制所述终端进入测试模式，并控制所述终端关机具体可以包括控制所述终端进入测试模式并停止充电；控制所述终端进入待机模式；在预设时间间隔后，控制所述终端关机。上述控制所述终端进入测试模式并停止充电具体可以是输出第四控制指令至终端，上述第四控制指令用于控制终端进入测试模式并停止充电。在本申请实施例中，上述第四控制指令可以通过上述漏电流测试装置提供的USB_P_1-USB_N_1传输通路传输到终端上。在具体应用中，上述第四控制指令可以包括更改与控制终端进入测试模式相关的寄存器的状态的相关指令，来实现对控制终端进入测试模式并停止充电。对于不同型号的终端，其采用的主控板型号不同，与进入测试模式相关的寄存器也就不同，在此只需要根据终端主控板的型号确定出与控制终端进入测试模式相关的寄存器，并修改相关的寄存器的状态，就能够使得终端进入测试模式并停止充电。上述控制所述终端进入待机模式具体可以是输出第五控制指令至终端，上述第五控制指令用于控制终端进入待机模式。在本申请实施例中，上述第五控制指令可以通过上述漏电流测试装置提供的USB_P_1-USB_N_1传输通路传输到终端上。在具体应用中，上述第五控制指令可以包括更改与控制终端进入待机模式相关的寄存器的状态的相关指令，来实现对控制终端进入待机模式并停止充电。对于不同型号的终端，其采用的主控板型号不同，与进入待机模式相关的寄存器也就不同，在此只需要根据终端主控板的型号确定出与控制终端进入待机模式相关的寄存器，并修改相关的寄存器的状态，就能够使得终端进入待机模式。上述在预设时间间隔后，控制所述终端关机具体可以是在预设时间间隔后，输出第六控制指令至终端，上述第六控制指令用于控制终端关机。在本申请实施例中，上述第六控制指令可以通过上述漏电流测试装置提供的USB_P_1-USB_N_1传输通路传输到终端上。上述第六控制指令可以是任意常用的控制终端关机的指令，本申请对此不加以限制。在本申请实施例中，上述预设时间间隔可以根据实际测试场景进行设置，例如可以将预设时间间隔设置为30s，具体可以通过定时器计时30s，在终端进入待机模式30s后输出第六控制指令控制终端关机。在终端关机后，漏电流测试装置的控制模块能够通过采样模块采集到的VBUS通路电压和采样电阻的电阻值计算得到检测值，该检测值就是终端的关机漏电流对应的电流值。控制模块能够将该检测值上传给检测设备，由检测设备进行漏电流情况的判断，得到漏电流测试结果。上述在漏电流测试完成后，控制漏电流测试装置输出第二工作电压至所述终端具体可以是在漏电流测试完成后，输出第七控制指令至漏电流测试装置的控制模块，以使控制模块控制第一继电器断开，第二继电器闭合，并将开关芯片切换至输出第二工作电压，并控制第三继电器断开、第四继电器断开。在测试完成后，控制漏电流测试装置切换为第二工作电压，使得终端机供电恢复到正常运行时的供电电压。示例性的，上述第二工作电压为5V，即输出5V给手机供电。以上可以看出，本申请实施例提供的漏电流测试方法，在第二方面的一种实现方式中，在所述在漏电流测试完成后，控制漏电流测试装置输出第二工作电压至所述终端之后，还包括：控制所述终端开机。在本申请实施例中，在恢复终端第二工作电压供电后，还可以通过检测设备控制终端开机，例如通过定时器触发终端开机。还可以通过测试人员手动通过电源按键来实现终端开机，或者通过夹具按压电源按键实现找的终端开机。终端开机后之前被修改了状态的寄存器都会自行复位，之后便可以继续后续的测试流程以上可以看出，本申请实施例提供的漏电流测试方法，同样能够在需要进行漏电流测试时，可以通过第一接口与检测设备连接，通过第二接口与终端连接，通过漏电流测试电路中的电源模块根据检测设备的供电电压输出与终端工作状态对应的工作电压，以此实现终端的供电，并且通过改变终端的状态，由终端VBUS通路读取整机的漏电流，从而实现终端的整机漏电流测试，即插即用，不需要另外设置程控电源，使用方便灵活，实现成本低，在老化操作后任意一工位都能够灵活地对整机进行漏电流测试。附图说明图1是电子产品的生产过程的测试项目示意图。图2是本申请一实施例提供的一种漏电流测试装置的结构示意图。图3是本申请一实施例提供的一种漏电流测试装置的结构示意图。图4是本申请实施例提供的漏电流测试装置的多种应用结构的示意图。图5是本申请实施例提供的漏电流测试装置应用场景示意图。图6是本申请一实施例提供另一种漏电流测试装置的结构示意图。图7是本申请实施例提供的漏电流测试装置中过压保护单元的电路结构示意图。图8是本申请实施例提供的漏电流测试装置中第一电源芯片U2的应用电路示意图。图9是本申请实施例提供的漏电流测试装置中第二电源芯片U3的应用电路示意图。图10是本申请实施例提供的漏电流测试装置中第一开关子单元的电路结构示意图。图11是本申请实施例提供的漏电流测试装置中第二开关子单元的电路结构示意图。图12是本申请实施例提供的漏电流测试装置中开关芯片U4的应用电路示意图。图13是本申请实施例提供的漏电流测试装置中第三开关子单元的电路结构示意图。图14是本申请实施例提供的漏电流测试装置中第四开关子单元的电路结构示意图。图15是本申请实施例提供的漏电流测试装置中集线控制芯片U6的应用电路示意图。图16是本申请实施例提供的漏电流测试装置中数据转换芯片U7的应用电路示意图。图17是本申请实施例提供的漏电流测试装置中控制芯片U8的应用电路示意图。图18是本申请实施例提供的第一接口11和第二接口12的电路结构示意图。图19是本申请实施例提供的漏电流测试方法的实现流程示意图。具体实施方式需要说明的是，本申请实施例的实施方式部分使用的术语仅用于对本申请的具体实施例进行解释，而非旨在限定本申请。在本申请实施例的描述中，除非另有说明，“/”表示或的意思，例如，A/B可以表示A或B；本文中的“和/或”仅仅是一种描述关联物的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，在本申请实施例的描述中，除非另有说明，“多个”是指两个或多于两个，“至少一个”、“一个或多个”是指一个、两个或两个以上。以下，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”特征可以明示或者隐含地包括一个或者更多个该特征。在本说明书中描述的参考“一个实施例”或“一些实施例”等意味着在本申请的一个或多个实施例中包括结合该实施例描述的特定特征、结构或特点。由此，在本说明书中的不同之处出现的语句“在一个实施例中”、“在一些实施例中”、“在其他一些实施例中”、“在另外一些实施例中”等不是必然都参考相同的实施例，而是意味着“一个或多个但不是所有的实施例”，除非是以其他方式另外特别强调。术语“包括”、“包含”、“具有”及它们的变形都意味着“包括但不限于”，除非是以其他方式另外特别强调。电流是电子产品的一项重要指标，在电子产品的生产过程中，会对电子产品的电流进行相关的测试，电流测试项目包括但不限于充电电流测试、待机电流测试和关机漏电流测试等。示例性的，请参阅图1，图1为电子产品出厂前的测试过程示意图。如图1所示，电子设备在生产过程中会经过多个测试流程，例如表面贴装后在单板加载基带测试工位的单板加载基带测试、组装测试阶段在整机基带测试工位的整机基带测试、老化操作后的整机性能测试等。由图1可以看出，在电子产品的生产过程中，只会在单板加载基带测试工位和整机基带测试工位进行漏电流测试，在组装测试完成之后的各个环节都不会进行关机漏电流测试。然而，在实际应用过程中，在电子产品出厂后，仍存在部分因漏电流问题发生退货的情况。因此，为了减少因漏电流问题产生的退货问题，通常需要对老化操作后的电子产品进行整机的漏电流测试。目前对于整机进行漏电流测试通常需要设置外部的程控电源为终端供电，再通过检测设备连接程控电源和终端，由检测设备控制终端关机，并由程控电源为终端提供关机状态下的电压，通过程控电源读取终端的VBAT通路电流来获取整机关机漏电流，并由检测设备进行漏电流情况的判断。由此可以看出，目前的整机漏电流测试需要在测试工位上另外设置程控电源，使用不够方便灵活。因此，亟需一种在老化操作后任意一工位都能够灵活地对整机进行漏电流测试的测试装置和方法。基于上述问题，本申请实施例提供了一种漏电流测试装置，在需要进行漏电流测试时，可以通过第一接口与检测设备连接，通过第二接口与终端连接，通过漏电流测试电路中的电源模块根据检测设备的供电电压输出与终端工作状态对应的工作电压，以此实现终端的供电，并且通过改变终端的状态，由终端VBUS通路读取整机的漏电流，从而实现终端的整机漏电流测试，即插即用，不需要另外设置程控电源，使用方便灵活，实现成本低，在老化操作后任意一工位都能够灵活地对整机进行漏电流测试。下面结合附图对本申请实施例提供的漏电流测试装置及测试方法进行详细描述。请参阅图2，图2是本申请一实施例提供的一种漏电流测试装置的结构示意图，如图2所示，该漏电流测试装置10可以包括第一接口11、第二接口12以及测试电路13。第一接口11用于连接检测设备20，第二接口12用于连接终端30。在实际应用中，上述第一接口11和上述第二接口12可以使用通用串行总线接口。USB接口是符合USB标准规范的接口，具体可以是MiniUSB接口，USB-A接口，Micro USB接口，USB Type C接口等。在实际应用中，上述终端30可以是手机、可穿戴设备、平板电脑、笔记本电脑、超级移动个人计算机、上网本、个人数字助理等电子设备。上述检测设备20可以是老化操作后各个测试工位所用的检测设备，例如可以是PC机、平板电脑、笔记本电脑、超级移动个人计算机等电子设备。上述电子设备的示例性实施例包括但不限于搭载iOS®、Android®、Microsoft®、鸿蒙系统或者其他操作系统的设备。上述电子设备也可以是其他电子设备，诸如具有触敏表面的膝上型计算机等，本申请实施例对电子设备的具体类型不做任何限制。上述测试电路13分别与第一接口11和第二接口12电连接，上述测试电路13包括电源模块131、数据传输模块132、控制模块133以及采样模块134。其中，电源模块131，分别与第一接口11、第二接口12连接，用于根据检测设备20的供电电压生成测试所需的工作电压，并根据电源控制指令切换输出至终端30的工作电压。数据传输模块132，分别与第一接口11、第二接口12以及控制模块133连接，用于传输状态控制指令以及测试指令。上述控制模块133，分别与上述电源模块131、数据传输模块132以及采样模块134连接，用于根据测试指令输出所述电源控制指令。上述采样模块134，与上述控制模块133连接，用于采集终端30的VBUS通路电压。上述控制模块133还用于根据上述终端30的VBUS通路电压计算检测值，并将所述检测值传输至上述检测设备20。在本申请实施例中，上述状态控制指令用于控制终端30根据状态控制指令切换工作状态。上述终端30的工作状态包括但不限于更改终端的供电方式、进入测试模式、关机、开机等。上述供电模块131还分别与数据传输模块132和上述采样模块134连接，为数据传输模块132和上述采样模块134供电。可理解的是，上述供电模块131也为控制模块133供电。在本申请实施例中，通过将终端30的供电方式由VBAT供电更改为VBUS供电，利用检测设备20的供电电压生成测试所需的工作电压，并根据电源控制指令切换输出至终端30的工作电压从而能够通过无源的漏电流测试装置实现终端30的漏电流测试。在本申请一实施例中，上述漏电流测试装置10还可以包括外壳。上述第一接口11、第二接口12以及测试电路13设置在PCB板14上，上述PCB板14容置于外壳中。示例性，请参阅图3，图3是本申请一实施例提供的一种漏电流测试装置的结构示意图，如图3所示，外壳15包括第一外壳151和第二外壳152，第一外壳151和第二外壳152结合形成一容置腔，上述设置有第一接口11、第二接口12以及测试电路13的PCB板14容置于上述容置腔中。由此可以看出，本申请实施例提供的一种漏电流测试装置10具有类“集线器”的结构，具有小型化的特点，能够根据需求实现灵活地漏电流测试。需要说明的是，图3仅为本申请实施例提供的漏电流测试装置10的一种结构示意，本申请实施例提供的漏电流测试装置还可以包括其他任意可以实现上述功能的结构。例如图4中所示的各种结构。上述第一接口11和上述第二接口12的接口类型可以根据实际需求进行设置，例如可以将第一接口11设置为USB Type C的插头类型，将第二接口12设置为USB Type C的插头类型；或者，将第一接口11设置为USB Type C的插口类型，将第二接口12设置为USB Type C的插口类型；又或者，将第一接口11设置为USB Type C的插头类型，将第二接口12设置为USB Type C的插口类型；又或者，将第一接口11设置为USB Type C的插口类型，将第二接口12设置为USB Type C的插头类型；又或者，将第一接口11设置为USB A型接口，将第二接口12设置为USB B型接口等等。可理解的是，本申请实施例中提及的将第一接口11与检测设备20连接，可以是直接通过第一接口11与检测设备20连接，也可以是通过数据线与检测设备20连接。同理，将第二接口12与终端30连接可以是直接通过第二接口12与终端30连接，也可以是通过数据线与终端30连接。请参见图5，图5为本申请实施例提供的漏电流测试装置10的应用场景示意图。如图5所示，本申请实施例提供的漏电流测试装置10依托于现有的测试工位，在需要测试整机的漏电流时，只需将本申请实施例提供的漏电流测试装置通过第一接口11连接测试工位上的检测设备20，通过第二接口12连接需要测试的终端30，通过数据传输模块132将状态控制指令传输给终端30，以此来控制终端30将供电方式切换至VBUS供电，并进入与状态控制指令对应的工作状态，控制模块133可以根据检测设备20发送的测试指令，输出相应的电源控制指令给到电源模块，以切换输出至终端30的工作电压，从而提供测试流程所需的工作电压，并在终端进入测试模式的情况下，通过采样模块134采集VBUS通路电压，从而得到对应的检测值，由检测设备20基于检测值完成漏电流测试。以上可以看出，本申请实施例提供的漏电流测试装置，在需要进行漏电流测试时，可以通过第一接口与终端连接，通过第二接口与检测设备连接，通过漏电流测试电路中的电源模块根据检测设备的供电电压输出与终端工作状态对应的工作电压，以此实现终端的供电，并且通过改变终端的状态，由终端VBUS通路读取整机的漏电流，从而实现终端的整机漏电流测试，即插即用，不需要另外设置程控电源，使用方便灵活，实现成本低，在老化操作后任意一工位都能够灵活地对整机进行漏电流测试。基于此，在老化操作后到出厂前的任意一工位都能够对整机进行漏电流测试，在出厂前再测试整机的漏电流，能够有效筛选出因老化操作或其他测试导致的器件状态改变而导致漏电流不符合要求的产品，减少出厂后的产品退货率。以下以上述第一接口11和上述第二接口12均为USB Type C接口，以上述终端30为手机为例，对本申请实施例提供的漏电流测试装置10的电路结构进行进一步说明：请参阅图6，在本申请一实施例中，上述电源模块131可以包括过压保护单元131a、电源单元131b以及开关单元131c。其中，过压保护单元131a的输入端连接第一Type C接口J1的供电引脚VCHG_USB_CON，过压保护单元131a的输出端与电源单元131b的输入端连接，上述电源单元131b的第一输出端与开关单元131c的第一输入端连接，电源单元131b的第二输出端与开关单元131c的第二输入端连接，开关单元131c的输出端连接第二Type C接口J2的供电引脚VBUS_PHONE，上述开关单元131c的控制端与控制模块133连接，上述电源单元131b的第三输出端分别与集线控制器132a、数据转换单元132b、控制模块133、放大电路134a、第三开关子单元135以及第四开关子单元136连接，分别为集线控制器132a、数据转换单元132b、控制模块133、放大电路134a、第三开关子单元135以及第四开关子单元136供电。上述电源单元131b的第一输出端输出第一工作电压，上述第一工作电压为终端30进入测试模式下所需的工作电压；上述电源单元131b的第二输出端输出第二工作电压，上述第二工作电压为终端30解除测试模式后所需的工作电压。以手机为例，上述第一工作电压为4V，上述第二工作电压为5V。在漏电流测试装置10通过第一Type C接口J1连接检测设备20后，可以由检测设备20获取供电电压，供电电压经过过压保护单元131a的处理，输出5V电压至电源单元131b，通过电源单元131b的处理，输出数据传输模块132和控制模块133所需的供电电压以及测试所需的工作电压，开关单元131c根据电源控制指令切换输出至第二Type C接口J2的供电引脚VBUS_PHONE的工作电压。请继续参阅图6，上述数据传输模块132可以包括集线控制器132a和数据转换单元132b。上述集线控制器132a的输入端与第一Type C接口J1的差分数据引脚USB_DP_BTB和USB_DN_BTB连接，集线控制器132a的第一输出端与第二Type C接口J2连接，用于与终端30进行数据传输，集线控制器132的第二输出端与数据转换单元132b的输入端连接，数据转换单元132b的输出端与控制模块133连接。上述集线控制器132a将传输的信号分成两路，将控制终端30的状态控制指令通过USB_P_1-USB_N_1发送给手机，将测试指令通过USB_P_2-USB_N_2传输至数据转换单元132b，由数据转换单元132b将测试指令由USB协议转换成USART协议，并将转换后的测试指令通过USART_RX和USART_TX传输至控制模块133。需要说明的是，上述第一Type C接口J1的其他引脚与第二Type C接口J2的其他引脚可以对应连接，即将第一Type C接口J1的USB0_ss_RX1_P_CON与第一Type C接口J2的USB0_ss_RX1_P_CON连接，将第一Type C接口J1的USB0_ss_TX1_P_CON与第一Type C接口J2的USB0_ss_TX1_P_CON连接等；上述第一Type C接口J1的其他引脚和上述第二Type C接口J2的其他引脚也可以根据实际场景选择性地连接，本申请对此不作限制。请继续参阅图6，采样模块134可以包括采样电阻和放大电路134a。在本申请实施例中，上述开关单元131c还可以包括第一开关子单元、第二开关子单元以及开关芯片。上述测试电路13还可以包括第三开关子单元135、第四开关子单元136、第一上拉电阻137以及第二上拉电阻138。第一上拉电阻137与上述第二Type C接口的CC1引脚的连接通路通过第三开关子单元135控制，第二上拉电阻138与上述第二Type C接口的CC2引脚的连接通路通过第四开关子单元135控制。采样电阻的第一端连接第二Type C接口J2的供电引脚VBUS_PHONE，采样电阻的第二端与放大电路134a的输入端连接，放大电路134a的输出端与控制模块133连接。通过采样电阻的阻值以及采集到的VBUS通路的电压，放大电路134a可以对通路电压进行放大，从而能够使控制模块计算得到对应的检测值。为进一步说明本申请实施例提供的漏电流测试装置10的工作原理，以下基于示例性的电路结构图对本申请实施例提供的漏电流测试装置10进行说明：请一并参阅图7至图9，在本示例中，上述过压保护单元131a包括过压保护芯片U1，电源单元131b可以包括第一电源芯片U2和第二电源芯片U3。过压保护芯片U1及其外围器件将检测设备提供的供电电源进行降压、稳压等处理后，输出5V电源。第一电源芯片U2的输入引脚IN接入5V电源，由第一电源芯片U2及图7中第一电源芯片U2的外围器件将5V电源降压至4V；第二电源芯片U3的输入引脚IN也接入与5V电源，由第二电源芯片U3及图7中第二电源芯片U3的外围器件将5V电源降压至3.3V。请一并参阅图10至图12，上述开关单元131c可以包括第一继电器K1、第二继电器K2以及开关芯片U4，上述放大电路还包括信号放大芯片U5。其中，第一继电器K1用于控制4V电源与4V输出电压的连通，第二继电器K2用于控制5V电源和5V输出电压的连通，所述开关芯片U4用于根据电源控制指令将输出至手机VBUS_PHONE的工作电压切换至4V输出电压或5V输出电压。请一并参阅图13至图14，上述测试电路13还可以包括第三继电器K3、第一上拉电阻137、第四继电器K3以及第二上拉电阻138。其中，第三继电器K3用于控制第二USBType C接口J2的USB_CC1的第一上拉电阻137的接入，上述第四继电器K4用于控制第二USBType C接口J2的USB_CC2的第二上拉电阻138的接入。请参阅图15至17，上述集线控制器132a采用集线控制芯片U6来实现将检测设备20传输的信号分成两路，将状态控制指令通过USB_P_1-USB_N_1发送给手机，将测试指令通过USB_P_2-USB_N_2传输至数据转换芯片U7，由数据转换芯片U7将测试指令由USB协议转换成USART协议，并将转换后的测试指令通过USART_RX和USART_TX传输至控制芯片U8，控制芯片U8可以通过USART_RX和USART_TX接收测试指令，并根据测试指令生成相应的控制信号、控制第二继电器开关K2的控制信号、控制第三继电器K3开关的控制信号、控制第四继电器K4开关的控制信号以及控制开关芯片U4切换输出电压的控制信号等）。此外，第一USB Type C接口J1的引脚接线情况和第二USB Type C接口J2的引脚接线情况如图18所示。需要说明的是，以上电路结构仅为示意而非限制，例如电源单元也可以采用能够同时输出的3.3V、4V、5V的电源芯片来实现，又如继电器也可以使用其他能够实现开关控制的器件来实现，又如，上述数据转换芯片也可以根据实际应用场景下来进行选择，且以上电路中器件的取值可以根据实际产品和实际所需电气参数值来确定，本申请对此均不做限制。以下结合图7至图18的相关介绍，对本申请实施例提供的漏电流测试方法进行说明：请参阅图19，图19为本申请实施例提供漏电流测试方法的实现流程示意图。需要说明的是，本申请实施例提供的漏电流测试方法的执行主体可以为上述检测设备20。具体的，上述检测设备20可以安装能够实现以下测试方法的应用程序来进行测试。在需要测试终端的漏电流时，将本申请实施例提供的漏电流测试装置10安装在测试工位的检测设备与待测的终端之间，然后通过检测设备执行以下步骤实现漏电流测试。请参阅图19，本申请实施例提供的漏电流测试方法包括以下步骤：S191：输出第一控制指令至漏电流测试装置的控制模块，以使控制模块控制第三继电器闭合、第四继电器闭合。在此步骤中，第一控制指令用于控制第三继电器和第四继电器闭合，从而使漏电流测试装置通过CC1的第一上拉电阻和CC2的第二上拉电阻与手机内部的上拉电阻并联，形成双上拉，使得上述第一上拉电阻和第二上拉电阻与手机内部的VBUS_PHONE通路连接，从而实现手机对外围电路的硬件要求，从而使得上述漏电流测试装置可以修改手机的寄存器状态。S192：输出第二控制指令至手机，上述第二控制指令用于控制手机改变手机内部供电方式，将供电方式由VBAT供电修改为VBUS供电。在本申请实施例中，上述第二控制指令可以通过上述漏电流测试装置提供的USB_P_1-USB_N_1传输通路传输到手机上。在具体应用中，上述第二控制指令可以包括更改与手机内部供电方式相关的寄存器的状态的指令，以实现对手机内部供电方式的改变。对于不同型号的手机，其采用的主控板型号不同，与内部供电方式相关的寄存器也就不同，在此只需要根据手机主控板的型号确定出与内部供电方式相关的寄存器，并修改相关的寄存器的状态，使得手机将内部供电方式切换至VBUS供电即可。在具体应用中，在修改了上述寄存器的状态后，还可以锁定寄存器，以避免寄存器的状态由于其他情况发生变化的情况。S193：输出第三控制指令至漏电流测试装置的控制模块，以使控制模块控制第一继电器闭合，第二继电器断开，并将开关芯片切换至输出第一工作电压。在本申请实施例中，通过第一继电器闭合，第二继电器断开，并将开关芯片切换至输出第一工作电压使得漏电流测试装置输出第一工作电压给手机供电。示例性的，上述第一工作电压为4V，即输出4V给手机供电。S194：输出第四控制指令至手机，上述第四控制指令用于控制手机进入测试模式并停止充电。在本申请实施例中，上述第四控制指令可以通过上述漏电流测试装置提供的USB_P_1-USB_N_1传输通路传输到手机上。在具体应用中，上述第四控制指令可以包括更改与控制手机进入测试模式相关的寄存器的状态的相关指令，来实现对控制手机进入测试模式并停止充电。对于不同型号的手机，其采用的主控板型号不同，与进入测试模式相关的寄存器也就不同，在此只需要根据手机主控板的型号确定出与控制手机进入测试模式相关的寄存器，并修改相关的寄存器的状态，就能够使得手机进入测试模式并停止充电。S195：输出第五控制指令至手机，上述第五控制指令用于控制手机进入待机模式。在本申请实施例中，上述第五控制指令可以通过上述漏电流测试装置提供的USB_P_1-USB_N_1传输通路传输到手机上。在具体应用中，上述第五控制指令可以包括更改与控制手机进入待机模式相关的寄存器的状态的相关指令，来实现对控制手机进入待机模式并停止充电。对于不同型号的手机，其采用的主控板型号不同，与进入待机模式相关的寄存器也就不同，在此只需要根据手机主控板的型号确定出与控制手机进入待机模式相关的寄存器，并修改相关的寄存器的状态，就能够使得手机进入待机模式。S196：在预设时间间隔后，输出第六控制指令至手机，上述第六控制指令用于控制手机关机。在本申请实施例中，上述第六控制指令可以通过上述漏电流测试装置提供的USB_P_1-USB_N_1传输通路传输到手机上。上述第六控制指令可以是任意常用的控制手机关机的指令，本申请对此不加以限制。在本申请实施例中，上述预设时间间隔可以根据实际测试场景进行设置，例如可以将预设时间间隔设置为30s，具体可以通过定时器计时30s，在手机进入待机模式30s后输出第六控制指令控制手机关机。S197：获取检测值，并根据所述检测值确定漏电流测试结果。在本申请实施例中，在手机关机后，漏电流测试装置的控制模块能够通过采样模块采集到的VBUS通路电压和采样电阻的电阻值计算得到检测值，该检测值就是手机的关机漏电流对应的电流值。控制模块能够将该检测值上传给检测设备，由检测设备进行漏电流情况的判断，得到漏电流测试结果。S198：在漏电流测试完成后，输出第七控制指令至漏电流测试装置的控制模块，以使控制模块控制第一继电器断开，第二继电器闭合，并将开关芯片切换至输出第二工作电压，并控制第三继电器断开、第四继电器断开。在测试完成后，控制漏电流测试装置切换为第二工作电压，使得手机供电恢复到正常运行时的供电电压。示例性的，上述第二工作电压为5V，即输出5V给手机供电。在本申请实施例中，在恢复手机5V供电后，还可以通过检测设备控制手机开机，例如通过定时器触发手机开机。还可以通过测试人员手动通过电源按键来实现手机开机。手机开机后之前被修改了状态的寄存器都会自行复位，之后便可以继续后续的测试流程。以上可以看出，本申请实施例提供的漏电流测试方法，同样能够通过在需要进行漏电流测试时，可以通过第一接口与检测设备连接，通过第二接口与终端连接，通过漏电流测试电路中的电源模块根据检测设备的供电电压输出与终端工作状态对应的工作电压，以此实现终端的供电，并且通过改变终端的状态，由终端VBUS通路读取整机的漏电流，从而实现终端的整机漏电流测试，即插即用，不需要另外设置程控电源，使用方便灵活，实现成本低，在老化操作后任意一工位都能够灵活地对整机进行漏电流测试。以上所述，仅为本申请实施例的具体实施方式，但本申请实施例的保护范围并不局限于此，任何在本申请实施例揭露的技术范围内的变化或替换，都应涵盖在本申请实施例的保护范围之内。因此，本申请实施例的保护范围应以所述权利要求的保护范围为准。
