标题title
一种基于无线路由器的软件更新方法及装置
摘要abst
本发明提供了一种基于无线路由器的软件更新方法及装置，涉及无线通信技术领域，在网络设备需要进行软件更新时，通过与无线路由器的历史网络连接情况对待更新网络设备当前的网络质量进行评估，以预估判断其能否完成更新，对于无法完成的情况能够及时进行反馈，有效减少了因网络质量导致网络设备软件更新失败的情况发生，同时也避免了因网络设备软件更新失败导致设备出现故障或损坏的情况发生。
权利要求书clms
1.一种基于无线路由器的软件更新方法，其特征在于，所述方法包括：获取与无线路由器建立过连接的网络设备列表以及网络设备信息；根据所述网络设备信息获取所述网络设备列表中每个网络设备的软件更新信息；根据所述软件更新信息确定对应网络设备的进行软件更新时的更新方式和更新需求；所述更新方式包括离线更新、在线更新以及半离线更新，所述更新需求包括更新文件大小、更新花费时间以及更新所需网络带宽；当接收到某个网络设备发送的软件更新请求后，根据无线路由器与待更新网络设备的历史网络连接情况，判断当前的网络质量能否支持待更新网络设备进行软件更新；将判断结果反馈给发送软件更新请求的网络设备。2.根据权利要求1所述的基于无线路由器的软件更新方法，其特征在于，所述判断当前的网络质量能否支持待更新网络设备进行软件更新的步骤，具体包括：获取在第一时间阈值范围内无线路由器与待更新网络设备的历史网络连接情况；根据所获取的信息，预估在未来的第二时间阈值范围内的网络质量情况；所述第二时间阈值范围以当前时刻为起点，长度大于所述更新花费时间；将预估的网络质量情况与待更新网络设备的更新需求进行匹配，判断能否支持待更新网络设备进行软件更新，如果预估的网络质量情况无法达到更新需求的最低要求，则判定不能支持待更新网络设备进行软件更新。3.根据权利要求2所述的基于无线路由器的软件更新方法，其特征在于，所述预估在未来的第二时间阈值范围内的网络质量情况的步骤，具体包括：根据无线路由器在所述第一时间阈值范围的网络状态规律，预估无线路由器在未来的第二时间阈值范围内的所提供无线网络整体质量；根据待更新网络设备在所述第一时间阈值范围与无线路由器的连接状态规律，预估待更新网络设备未来的第二时间阈值范围内的所能够使用的提供无线网络质量。4.根据权利要求3所述的基于无线路由器的软件更新方法，其特征在于，所述方法还包括：如果判断当前的网络质量不能支持待更新网络设备进行软件更新，则在未来的第三时间阈值范围内查找预估可以达到更新需求的时间段；所述第三时间阈值范围以所述第二时间阈值范围的结束点为起点，长度大于所述更新花费时间；如果查找到，则将时间段反馈给发送软件更新请求的网络设备，如果未查找到，则将查找失败的结果反馈给发送软件更新请求的网络设备。5.根据权利要求4所述的基于无线路由器的软件更新方法，其特征在于，所述方法还包括：如果查找到多个预估可以达到更新需求的时间段，则根据所述历史网络连接情况，从多个时间段中选择待更新网络设备使用网络流量最少的时间段，作为最优时间段进行反馈。6.根据权利要求4所述的基于无线路由器的软件更新方法，其特征在于，所述方法包括：如果查找到多个预估可以达到更新需求的时间段，则根据所述历史网络连接情况，从多个时间段中选择待更新网络设备可用网络带宽最大的时间段，作为最优时间段进行反馈。7.根据权利要求1中所述的基于无线路由器的软件更新方法，其特征在于，所述方法还包括：当接收到待更新网络设备发送的准备进行软件更新的信息后；调整对待更新网络设备的可用带宽分配，使得可用带宽大于所述更新所需网络带宽，直到更新完成。8.根据权利要求1中所述的基于无线路由器的软件更新方法，其特征在于，所述方法还包括：针对更新方式为离线更新或者半离线更新的待更新网络设备；提前下载对应可离线更新部分的更新文件。9.根据权利要求8中所述的基于无线路由器的软件更新方法，其特征在于，所述方法还包括：针对更新方式为半离线更新的待更新网络设备，在判断当前的网络质量能否支持待更新网络设备进行软件更新时，如果对应可离线更新部分的更新文件已经下载完成，则将不可离线更新部分的更新需求作为判断标准。10.一种基于无线路由器的软件更新装置，其特征在于，所述装置包括：设备信息获取单元，用于获取与无线路由器建立过连接的网络设备列表以及网络设备信息；更新信息获取单元，用于根据所述网络设备信息获取所述网络设备列表中每个网络设备的软件更新信息；更新需求确定单元，用于根据所述软件更新信息确定对应网络设备的进行软件更新时的更新方式和更新需求；所述更新方式包括离线更新、在线更新以及半离线更新，所述更新需求包括更新文件大小、更新花费时间以及更新所需网络带宽；更新需求判断单元，用于当接收到某个网络设备发送的软件更新请求后，根据无线路由器与待更新网络设备的历史网络连接情况，判断当前的网络质量能否支持待更新网络设备进行软件更新；判断结果反馈单元，用于将判断结果反馈给发送软件更新请求的网络设备。
说明书desc
技术领域本发明涉及无线通信技术领域，具体而言，涉及一种基于无线路由器的软件更新方法及装置。背景技术随着物联网技术的不断发展，无线路由器在家庭或者办公环境中已越来越普及，多数的智能化产品都是通过无线路由器实现与互联网的连接的。随着智能化产品越来越多，功能越来越复杂，部分产品在进行软件更新时，需要保持互联网的网络连接状态，如果中途出现断网或者网络质量不佳的情况，可能会导致更新失败，甚至部分产品会因此导致设备故障。因此，如何有效的降低网络质量对软件更新造成的影响，是目前亟待解决的问题。发明内容为了改善上述问题，本发明提供了一种基于无线路由器的软件更新方法及装置。本发明实施例的第一方面，提供了一种基于无线路由器的软件更新方法，所述方法包括：获取与无线路由器建立过连接的网络设备列表以及网络设备信息；根据所述网络设备信息获取所述网络设备列表中每个网络设备的软件更新信息；根据所述软件更新信息确定对应网络设备的进行软件更新时的更新方式和更新需求；所述更新方式包括离线更新、在线更新以及半离线更新，所述更新需求包括更新文件大小、更新花费时间以及更新所需网络带宽；当接收到某个网络设备发送的软件更新请求后，根据无线路由器与待更新网络设备的历史网络连接情况，判断当前的网络质量能否支持待更新网络设备进行软件更新；将判断结果反馈给发送软件更新请求的网络设备。可选地，所述判断当前的网络质量能否支持待更新网络设备进行软件更新的步骤，具体包括：获取在第一时间阈值范围内无线路由器与待更新网络设备的历史网络连接情况；根据所获取的信息，预估在未来的第二时间阈值范围内的网络质量情况；所述第二时间阈值范围以当前时刻为起点，长度大于所述更新花费时间；将预估的网络质量情况与待更新网络设备的更新需求进行匹配，判断能否支持待更新网络设备进行软件更新，如果预估的网络质量情况无法达到更新需求的最低要求，则判定不能支持待更新网络设备进行软件更新。可选地，所述预估在未来的第二时间阈值范围内的网络质量情况的步骤，具体包括：根据无线路由器在所述第一时间阈值范围的网络状态规律，预估无线路由器在未来的第二时间阈值范围内的所提供无线网络整体质量；根据待更新网络设备在所述第一时间阈值范围与无线路由器的连接状态规律，预估待更新网络设备未来的第二时间阈值范围内的所能够使用的提供无线网络质量。可选地，所述方法还包括：如果判断当前的网络质量不能支持待更新网络设备进行软件更新，则在未来的第三时间阈值范围内查找预估可以达到更新需求的时间段；所述第三时间阈值范围以所述第二时间阈值范围的结束点为起点，长度大于所述更新花费时间；如果查找到，则将时间段反馈给发送软件更新请求的网络设备，如果未查找到，则将查找失败的结果反馈给发送软件更新请求的网络设备。可选地，所述方法还包括：如果查找到多个预估可以达到更新需求的时间段，则根据所述历史网络连接情况，从多个时间段中选择待更新网络设备使用网络流量最少的时间段，作为最优时间段进行反馈。可选地，所述方法包括：如果查找到多个预估可以达到更新需求的时间段，则根据所述历史网络连接情况，从多个时间段中选择待更新网络设备可用网络带宽最大的时间段，作为最优时间段进行反馈。可选地，所述方法还包括：当接收到待更新网络设备发送的准备进行软件更新的信息后；调整对待更新网络设备的可用带宽分配，使得可用带宽大于所述更新所需网络带宽，直到更新完成。可选地，所述方法还包括：针对更新方式为离线更新或者半离线更新的待更新网络设备；提前下载对应可离线更新部分的更新文件。可选地，所述方法还包括：针对更新方式为半离线更新的待更新网络设备，在判断当前的网络质量能否支持待更新网络设备进行软件更新时，如果对应可离线更新部分的更新文件已经下载完成，则将不可离线更新部分的更新需求作为判断标准。本发明实施例的第二方面，提供了一种基于无线路由器的软件更新装置，所述装置包括：设备信息获取单元，用于获取与无线路由器建立过连接的网络设备列表以及网络设备信息；更新信息获取单元，用于根据所述网络设备信息获取所述网络设备列表中每个网络设备的软件更新信息；更新需求确定单元，用于根据所述软件更新信息确定对应网络设备的进行软件更新时的更新方式和更新需求；所述更新方式包括离线更新、在线更新以及半离线更新，所述更新需求包括更新文件大小、更新花费时间以及更新所需网络带宽；更新需求判断单元，用于当接收到某个网络设备发送的软件更新请求后，根据无线路由器与待更新网络设备的历史网络连接情况，判断当前的网络质量能否支持待更新网络设备进行软件更新；判断结果反馈单元，用于将判断结果反馈给发送软件更新请求的网络设备。本发明的有益效果为：本发明提供了一种基于无线路由器的软件更新方法及装置，在网络设备需要进行软件更新时，通过与无线路由器的历史网络连接情况对待更新网络设备当前的网络质量进行评估，以预估判断其能否完成更新，对于无法完成的情况能够及时进行反馈，有效减少了因网络质量导致网络设备软件更新失败的情况发生，同时也避免了因网络设备软件更新失败导致设备出现故障或损坏的情况发生。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本发明实施例的基于无线路由器的软件更新方法及装置的应用场景示意图；图2为本发明实施例的基于无线路由器的软件更新方法的方法流程图；图3为本发明实施例的判断当前的网络质量能否支持待更新网络设备进行软件更新的方法流程图；图4为本发明实施例的基于无线路由器的软件更新装置的功能模块框图。附图标记：无线路由器100；网络设备200；设备信息获取单元110；更新信息获取单元120；更新需求确定单元130；更新需求判断单元140；判断结果反馈单元150。具体实施方式随着物联网技术的不断发展，无线路由器在家庭或者办公环境中已越来越普及，多数的智能化产品都是通过无线路由器实现与互联网的连接的。随着智能化产品越来越多，功能越来越复杂，部分产品在进行软件更新时，需要保持互联网的网络连接状态，如果中途出现断网或者网络质量不佳的情况，可能会导致更新失败，甚至部分产品会因此导致设备故障。因此，如何有效的降低网络质量对软件更新造成的影响，是目前亟待解决的问题。鉴于此，本发明设计者设计了一种基于无线路由器的软件更新方法及装置，在网络设备需要进行软件更新时，通过与无线路由器的历史网络连接情况对待更新网络设备当前的网络质量进行评估，以预估判断其能否完成更新，对于无法完成的情况能够及时进行反馈，有效减少了因网络质量导致网络设备软件更新失败的情况发生，同时也避免了因网络设备软件更新失败导致设备出现故障或损坏的情况发生。为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。需要说明的是，在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。请参阅图1，本实施例提供的一种基于无线路由器的软件更新方法、装置的应用场景示意图。如图1所示，本发明提供的一种基于无线路由器的软件更新方法、装置，应用于无线路由器100，网络设备200通过无线路由器100提供的网络与无线路由器100连接。其中，网络设备200可以是带有无线通信模块的物联网设备，也可以是手机、电脑等具有网络连接功能的设备终端。需要注意的是，网络设备200与无线路由器100连接后产生的历史网络连接情况的相关信息，由无线路由器100记录之后，可以直接保存于无线路由器100，也可以保存于与无线路由器100连接的其他服务器或者云端设备上。需要调用历史网络使用情况的信息时，无线路由器100向保存有历史网络连接情况的其他服务器或者云端设备发送请求信息，并获取根据请求信息反馈的历史网络连接情况的信息。在上述基础上，如图2所示，为本发明一实施例提供的基于无线路由器的软件更新方法，该方法包括：步骤S101,获取与无线路由器建立过连接的网络设备列表以及网络设备信息。通过获取网络设备列表，可以知道在无线路由器提供的无线网络中，有哪些网络设备曾经和无线路由器发生过连接。在此基础上，再通过网络设备信息进一步了解这些网络设备的具体情况，其中网络设备信息包括网络设备的设备类型、版本型号、物理地址、系统版本等。需要注意的是，在实际的无线网络使用中，有的网络设备是临时使用，有的则是长期使用，为了提高方法执行的效率。可以针对网络设备列表的获取，预先设置一些与连接情况相关的筛选条件，包括但不限于：与无线路由器发生过连接的次数、连接时长等，除此之外网络设备信息相关的维度，例如设备类型、物理地址等，也可以作为筛选条件。步骤S102，根据所述网络设备信息获取所述网络设备列表中每个网络设备的软件更新信息。通过网络设备信息可以从提供对应网络设备服务的平台处获取与网络设备信息相关的软件更新信息。具体包括历史的软件版本、软件更新文件大小、支持更新版本的硬件要求、软件更新的执行方法等。作为本发明实施例的优选实施方式，在获取了软件更新信息后，根据网络设备信息可以做初步的判断，网络设备信息的硬件是否支持进行软件更新，对于硬件不支持更新的网络设备，则不用进行后续的方法步骤，并向网络设备的用户发出提示信息，已告知其相应网络设备的硬件已经不能支持后续的软件更新。步骤S103，根据所述软件更新信息确定对应网络设备的进行软件更新时的更新方式和更新需求。所述更新方式包括离线更新、在线更新以及半离线更新，所述更新需求包括更新文件大小、更新花费时间以及更新所需网络带宽。目前市面上常见的网络设备，在进行软件更新时，主要采用的策略有三种，即离线更新、在线更新以及半离线更新。其中，离线更新指网络设备提前通过网络获取相应的软件更新文件，然后再在本地安装完成更新，这类方式在整个更新过程中，只对软件更新文件有要求，整个过程是否连接网络对更新没有直接影响。在线更新指网络设备在更新过程中，需要持续保持与网络的连接状态，实时获取软件更新的相关文件，并执行安装操作，这类方式对网络连接质量有较高要求，在需要保持网络连接的情况下，还需要足够的带宽进行支持。半离线更新指网络设备在离线更新方式基础上，增加了几个关键的时间节点需要与网络连接以完成与指定平台或者网站的验证程序，这类方式对网络连接的主要需求体现在关键的时间节点能够访问相应的平台或者网站并完成数据的交互。在此基础上，针对不同类型的设备、不同版本的软件，对应的更新需求，即更新文件大小、更新花费时间以及更新所需网络带宽，也会有所区别。因此需要根据软件更新信息的相关内容来确定更新需求。步骤S104，当接收到某个网络设备发送的软件更新请求后，根据无线路由器与待更新网络设备的历史网络连接情况，判断当前的网络质量能否支持待更新网络设备进行软件更新。在获得了网络设备的更新需求，就能够通过网络质量进行判断，当用户需要对某个网络设备进行软件更新时，当前的网络质量能否支持待更新网络设备进行软件更新。当用户需要对某个网络设备进行软件更新时，通过网络设备向网络发送的软件更新请求，该请求需要通过无线路由器向互联网发送。无线路由器，接收到某个网络设备发送的软件更新请求后，就开始进行判断。需要注意的是，网络设备准备进行系统更新的触发动作通常分为两种情况，一种是使用该设备的用户，主动通过设备发送相关指令，希望进行更新。另一种是设备对自身的情况进行监控，当达到某个预先设置的触发标准后，就开始自动执行更新动作。常见的触发标准有固定时间周期、接收到服务商推送的更新提醒等。作为本发明实施例的优选实施方式，如图3所示，步骤S104执行判断当前的网络质量能否支持待更新网络设备进行软件更新的步骤，具体包括：步骤S201,获取在第一时间阈值范围内无线路由器与待更新网络设备的历史网络连接情况。通常情况下，在一个由固定无线路由器提供的无线网络中，其网络质量与用户使用情况，都具有一定的规律性。因此，对于网络设备与无线路由器之间的网络质量，可以通过在过去一段时间内的网络连接情况进行预估。其中，第一时间阈值的设置与计算所花费的时间以及准确度相关，第一时间阈值设置得越长，后续预估的准确度自然越高，相应的需要计算的数据也就更多，花费的时间和计算资源也更多，用户可以根据无线路由器的设置进行第一时间阈值的配置。步骤S202,根据所获取的信息，预估在未来的第二时间阈值范围内的网络质量情况；所述第二时间阈值范围以当前时刻为起点，长度大于所述更新花费时间。具体的执行方式为：根据无线路由器在所述第一时间阈值范围的网络状态规律，预估无线路由器在未来的第二时间阈值范围内的所提供无线网络整体质量；根据待更新网络设备在所述第一时间阈值范围与无线路由器的连接状态规律，预估待更新网络设备未来的第二时间阈值范围内的所能够使用的提供无线网络质量。无线路由器针对某个网络设备所提供的无线网络质量通常主要由两个方面的影响因素决定，一个是与无线路由器连接的网络接入设备所提供的宽带质量，这部分的宽带质量通常有一定的时间规律性，比如某用户的家里的宽带网络，受局部区域网络用户数量的影响，在每天晚上固定的8-9点的时间段范围内，宽带质量较差。另一个是无线路由器与网络设备之间的网络连接质量，影响的主要因素包括无线路由器的设备配置、两者之间的物理距离位置、网络设备的使用状态、无线网络中的其他设备使用情况等，如果在相对固定的环境中，如办公室、家中，无线路由器与网络设备之间的网络连接质量也会表现出一定的规律性。比如在办公室中，对应工作时间段09：00-18：00由于连接网络的设备数量较多，流量使用较大，可能导致某个设备的网络连接质量较差。通过对上述两个因素的综合考虑，就能够较为准确的预估待更新网络设备未来的第二时间阈值范围内的所能够使用的提供无线网络质量了。在进行网络质量情况的预估时，首先考虑的用户需要立即开始进行网络设备的软件更新，因此第二时间阈值范围以当前时刻为起点开始进行计算，由于要保证软件更新的顺利完成，第二时间阈值的长度大于待更新网络设备的更新花费时间。步骤S203,将预估的网络质量情况与待更新网络设备的更新需求进行匹配，判断能否支持待更新网络设备进行软件更新，如果预估的网络质量情况无法达到更新需求的最低要求，则判定不能支持待更新网络设备进行软件更新。对于更新需求所对应的更新文件大小、更新花费时间以及更新所需网络带宽，不同的网络设备、不同的软件版本都存在区别，有的网络设备在更新时，不一定对三个维度的指标都有要求，有可能只包括了其中的两个或者一个。对于存在指标，有最低要求和最优配置建议，在进行判断时，以最低要求作为判断标准，如果最低要求都无法到达，才判定为不能支持待更新网络设备进行软件更新。步骤S105，将判断结果反馈给发送软件更新请求的网络设备。根据上述的判断逻辑，判断的结果分为两种情况，一种是判定为支持，一种是判定为不支持。无论结果是哪种，都需要反馈给发送软件更新请求的网络设备，然后根据待更新网络设备的动作执行后续操作。通常来说，对于判定为支持的情况，待更新网络设备会发送的准备进行软件更新的信息。此时即可保持该设备与无线路由器的网络连接状态。作为优选的实施方式，在某个网络设备正在更新时，可以采取合适的处理方式，进一步为其提供更优的网络质量。例如调整对待更新网络设备的可用带宽分配，使得可用带宽大于所述更新所需网络带宽，直到更新完成。或者是根据无线网络环境的其他因素，调整路由器使用质量更好的信道等方式。对于判定为不支持的情况，作为本发明实施例的优选实施方式，软件更新方法还包括：如果判断当前的网络质量不能支持待更新网络设备进行软件更新，则在未来的第三时间阈值范围内查找预估可以达到更新需求的时间段；所述第三时间阈值范围以所述第二时间阈值范围的结束点为起点，长度大于所述更新花费时间；如果查找到，则将时间段反馈给发送软件更新请求的网络设备，如果未查找到，则将查找失败的结果反馈给发送软件更新请求的网络设备。对于待更新网络设备的来说，其主要目标还是完成本次的软件更新，因此如果判定当前的网络质量不能支持待更新网络设备进行软件更新，其采用的最佳策略就是从未来的时间中，选择离当前时间点最近的，且网络质量支持待更新网络设备进行软件更新的时间段。在满足上述条件的时间段进行查找时，判断网络质量能否支持更新的标准与上述的判断方式相同。第三时间阈值范围如果设置得越长，则找到的概率就越大，但消耗的计算资源就更多，反之亦然。因此用户可以根据自己的需求对第三时间阈值进行设置。如果查找到了满足上述条件的时间段，通过将时间段反馈给发送软件更新请求的网络设备的方式，实现对待更新网络设备的通知。相应的，如果未查找到，也会将查找失败的结果反馈给发送软件更新请求的网络设备。在此基础上，如果第三时间阈值范围如果设置得够长，则可能在第三时间阈值范围内查找到多个预估可以达到更新需求的时间段。在这多个时间段内，都能够达到待更新网络设备的更新需求。用户可以选择在任意一个时间段内进行待更新网络设备的软件更新。作为优选的实施方式，根据所述历史网络连接情况，从多个时间段中选择待更新网络设备使用网络流量最少的时间段，作为最优时间段进行反馈。对于待更新网络设备使用网络流量最少的时间段，说明该设备在这个时间段内的使用相对较少，执行系统更新对设备的使用影响最少。作为优选的实施方式，根据所述历史网络连接情况，从多个时间段中选择待更新网络设备可用网络带宽最大的时间段，作为最优时间段进行反馈。在无线路由器提供的无线网络中，可能同时存在多个网络设备在使用流量，选择可用网络带宽最大的时间段，可以尽量减少因为其他设备的使用带宽导致对待更新网络设备进行系统更新产生的影响。通过上述的筛选条件，用户可以从多个可用的时间段中选择一个执行更新，或者设置相应的延时指令，当到达指令对应的时间段时，待更新网络设备自动发起软件更新。下面通过一个具体的例子来进行说明：与无线路由器建立过连接的网络设备列表中的某个网络设备A，通过软件更新信息，确定该设备的更新方式为在线更新，更新文件大小为1G、更新花费时间为20分钟，更新所需网络带宽为20M。首先根据无线路由器与网络设备A的历史网络连接情况，判断在当前时间开始的20分钟内，无法提供符合更新需求的网络质量。然后在后续的时间段内进行查找，发现从第二天00:00开始直到06:00的任意时间段，都可以提供符合更新需求的网络质量。由于从00:00开始到06:00的任意时间段，用户已经睡觉了，所以提前设置延时指令，当时间到达00:00时，网络设备A开始执行软件更新。同时，在00:00-00:20的时段内，无线路由器调整对网络设备A的可用带宽分配，对网络设备A的带宽分配始终高于20M。在上述方案的基础上，作为本发明实施例的优选实施方式，本发明实施例提供的软件更新方法还包括：针对更新方式为离线更新或者半离线更新的待更新网络设备；提前下载对应可离线更新部分的更新文件。对于更新方式为离线更新的待更新网络设备，只需要获取到对应的更新文件，就可以进行软件更新，因此可以由无线路由器提前下载更新文件，在下载过程中，对于待更新网络设备的正常使用不构成影响，当待更新网络设备需要进行更新时，通过与无线路由器的连接直接获取提前下载好的更新文件即可，即使无线路由器无法提供较好的互联网网络流量，也不会对更新造成影响。对于更新方式为半离线更新的待更新网络设备，提前下载对应可离线更新部分的更新文件，可以使得待更新网络设备在进行软件更新时，将网络流量使用在不可离线执行的部分上，降低了这类设备的实际更新需求。相对应的，由于通过这种方式降低了更新需求，针对更新方式为半离线更新的待更新网络设备，在判断当前的网络质量能否支持待更新网络设备进行软件更新时，如果对应可离线更新部分的更新文件已经下载完成，则将不可离线更新部分的更新需求作为判断标准。综上所述，本发明实施例提供的基于无线路由器的软件更新方法，在网络设备需要进行软件更新时，通过与无线路由器的历史网络连接情况对待更新网络设备当前的网络质量进行评估，以预估判断其能否完成更新，对于无法完成的情况能够及时进行反馈，有效减少了因网络质量导致网络设备软件更新失败的情况发生，同时也避免了因网络设备软件更新失败导致设备出现故障或损坏的情况发生。如图4所示，本发明实施提供的基于无线路由器的软件更新装置，所述装置包括：设备信息获取单元110，用于获取与无线路由器建立过连接的网络设备列表以及网络设备信息；更新信息获取单元120，用于根据所述网络设备信息获取所述网络设备列表中每个网络设备的软件更新信息；更新需求确定单元130，用于根据所述软件更新信息确定对应网络设备的进行软件更新时的更新方式和更新需求；所述更新方式包括离线更新、在线更新以及半离线更新，所述更新需求包括更新文件大小、更新花费时间以及更新所需网络带宽；更新需求判断单元140，用于当接收到某个网络设备发送的软件更新请求后，根据无线路由器与待更新网络设备的历史网络连接情况，判断当前的网络质量能否支持待更新网络设备进行软件更新；判断结果反馈单元150，用于将判断结果反馈给发送软件更新请求的网络设备。本发明实施例提供的基于无线路由器的软件更新装置，用于实现上述基于无线路由器的软件更新方法，因此具体实施方式与上述方法相同，在此不再赘述。综上所述，本发明提供了一种基于无线路由器的软件更新方法及装置，在网络设备需要进行软件更新时，通过与无线路由器的历史网络连接情况对待更新网络设备当前的网络质量进行评估，以预估判断其能否完成更新，对于无法完成的情况能够及时进行反馈，有效减少了因网络质量导致网络设备软件更新失败的情况发生，同时也避免了因网络设备软件更新失败导致设备出现故障或损坏的情况发生。在本申请所公开的几个实施例中，应该理解到，所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，附图中的流程图和框图显示了根据本申请的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本申请各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。所述功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。
