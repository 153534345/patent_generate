标题title
应用于磁轴承转子参数辨识的数据的处理方法
摘要abst
本申请公开了一种应用于磁轴承转子参数辨识的数据的处理方法。该方法包括：将应用于磁轴承转子参数辨识算法的目标数据的数值，作为除数；根据除数的值域范围，确定迭代初始值；根据被除数和除数的符号，确定迭代结果的符号；根据除数的绝对值，确定商的定点格式；将迭代初始值代入运算函数，计算迭代预设次数之后的迭代结果；根据迭代结果的符号，迭代结果，以及定点格式，确定商；根据商确定磁轴承转子的参数辨识算法的增益，利用参数辨识算法辨识模型参数。解决了相关技术的磁轴承转子模型参数的在线辨识中，递推最小二乘法采用常规的除法器，存在的迭代周期长、资源占用高，计算精度差，进而导致磁轴承转子参数辨识的准确率较低的问题。
权利要求书clms
1.一种应用于磁轴承转子参数辨识的数据的处理方法，其特征在于，所述方法包括：将应用于磁轴承转子参数辨识算法的目标数据的数值，作为除数输入除法器，其中，所述参数辨识算法用于辨识磁轴承转子的模型参数；根据所述除数的值域范围，确定所述除法器的迭代初始值，其中，所述除数的值域范围不同，对应的迭代初始值不同；根据被除数和除数的符号，确定所述除法器的迭代结果的符号；根据所述除数的绝对值，确定商的定点格式，其中，所述绝对值所处的范围不同，对应的所述定点格式不同；将所述迭代初始值代入所述除法器的运算函数，计算迭代预设次数之后的迭代结果；根据所述迭代结果的符号，所述迭代结果，以及所述定点格式，确定所述除法器输出的商；根据所述商确定磁轴承转子的参数辨识算法的增益，根据所述增益确定所述参数辨识算法，利用所述参数辨识算法辨识并输出所述磁轴承转子的模型参数。2.根据权利要求1所述的方法，其特征在于，根据除数的值域范围，确定所述除法器的迭代初始值包括：对所述除数取绝对值，确定所述除数的绝对值；根据所述除数的绝对值确定所述除数所属的值域范围，其中，所述值域范围为多个，每个值域范围对应一个迭代初始值；将所述值域范围对应的迭代初始值，作为所述迭代初始值。3.根据权利要求1所述的方法，其特征在于，根据被除数和除数的符号，确定所述除法器的迭代结果的符号包括：根据被除数的符号，和除数的符号为同号或异号，确定所述迭代结果的符号；在所述被除数与所述除数同号的情况下，确定所述迭代结果的符号为正；在所述被除数与所述除数异号的情况下，确定所述迭代结果的符号为负。4.根据权利要求1所述的方法，其特征在于，根据所述除数的绝对值，确定所述商的定点格式包括：确定所述除数的绝对值与1 的大小关系；在所述除数的绝对值大于1的情况下，采用第一定点格式；在所述除数的绝对值小于1的情况下，采用第二定点格式，其中第一定点格式的小数位数大于所述第二定点格式的小数位数。5.根据权利要求1所述的方法，其特征在于，根据所述除数的绝对值，确定所述商的定点格式包括：根据所述除数的绝对值，确定所述商的取值范围，其中，在所述除数的绝对值大于1的情况下，所述商的取值范围为小于1；在所述除数的绝对值小于1的情况下，所述商的取值范围为大于1；在所述商的取值范围为小于1的情况下，采用第一定点格式；在所述商的取值范围为大于1的情况下，采用第二定点格式，其中第一定点格式的小数位数大于所述第二定点格式的小数位数。6.根据权利要求1所述的方法，其特征在于，将所述迭代初始值代入除法器的运算函数，计算迭代预设次数之后的迭代结果包括：将所述迭代初始值带入所述运算函数，确定第一次运算的运算结果并记录运算次数；根据所述第一次运算的运算结果确定第二次运算的初始值；将所述第二次运算的初始值带入所述运算函数，确定第二次的运算结果，并记录运算次数；在所述运算次数未达到所述预设次数的情况下，继续进行迭代运算，直至所述运算次数达到所述预设次数，将最终的运算结果作为所述迭代结果。7.根据权利要求6所述的方法，其特征在于，所述运算函数为：M=Divisor*x式中，M为商，x为迭代结果，Divisor为被除数，，n为预设次数，/＞，/＞为除数，/＞为/＞的导数。8.根据权利要求1至7中任一项所述的方法，其特征在于，根据所述迭代结果的符号，迭代结果，以及所述定点格式，确定所述除法器的商包括：将所述迭代结果的符号作为商的符号；根据所述定点格式和所述迭代结果，确定所述商的数值；根据所述商的符号和数值，确定所述除法器输出的商。9.一种计算机可读存储介质，其特征在于，所述存储介质用于存储程序，其中，所述程序执行权利要求1至8中任意一项所述的应用于磁轴承转子参数辨识的数据的处理方法。10.一种磁轴承控制器，其特征在于，包括一个或多个处理器和存储器，所述存储器用于存储一个或多个程序，其中，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器实现权利要求1至8中任意一项所述的应用于磁轴承转子参数辨识的数据的处理方法。
说明书desc
技术领域本申请涉及磁悬浮领域，具体而言，涉及一种应用于磁轴承转子参数辨识的数据的处理方法。背景技术飞轮储能系统主要包括飞轮本体设计、电机设计以及控制、磁轴承本体设计及其控制三大部分。磁轴承转子模型参数在线辨识成为磁轴承控制必需解决的问题。基于递推最小二乘的方法在线辨识算法是当前主流的辨识算法。递推最小二乘方法增益矩阵的计算需要高精度、宽范围的除法运算。现有技术中的硬件除法器通常为阵列除法器，在一个时钟周期完成整体的除法运算，使用大量的资源一次性得到运算结果，使用大面积的电路资源，资源利用率低，时序差，系统主频设计低。还可以为循环相减的多周期除法器，占用资源少，但存在迭代周期长，效率比较低。针对相关技术的磁轴承转子模型参数的在线辨识中，递推最小二乘法采用常规的除法器，存在的迭代周期长、资源占用高，计算精度差，进而导致磁轴承转子参数辨识的准确率较低的问题，目前尚未提出有效的解决方案。发明内容本申请的主要目的在于提供一种应用于磁轴承转子参数辨识的数据的处理方法，以解决相关技术的磁轴承转子模型参数的在线辨识中，递推最小二乘法采用常规的除法器，存在的迭代周期长、资源占用高，计算精度差，进而导致磁轴承转子参数辨识的准确率较低的问题。为了实现上述目的，根据本申请的一个方面，提供了一种应用于磁轴承转子参数辨识的数据的处理方法，所述方法包括：将应用于磁轴承转子参数辨识算法的目标数据的数值，作为除数输入除法器，其中，所述参数辨识算法用于辨识磁轴承转子的模型参数；根据所述除数的值域范围，确定所述除法器的迭代初始值，其中，所述除数的值域范围不同，对应的迭代初始值不同；根据被除数和除数的符号，确定所述除法器的迭代结果的符号；根据所述除数的绝对值，确定商的定点格式，其中，所述绝对值所处的范围不同，对应的所述定点格式不同；将所述迭代初始值代入所述除法器的运算函数，计算迭代预设次数之后的迭代结果；根据所述迭代结果的符号，所述迭代结果，以及所述定点格式，确定所述除法器输出的商；根据所述商确定磁轴承转子的参数辨识算法的增益，根据增益确定所述参数辨识算法，利用参数辨识算法辨识并输出磁轴承转子的模型参数。可选的，根据除数的值域范围，确定所述除法器的迭代初始值包括：对所述除数取绝对值，确定所述除数的绝对值；根据所述除数的绝对值确定所述除数所属的值域范围，其中，所述值域范围为多个，每个值域范围对应一个迭代初始值；将所述值域范围对应的迭代初始值，作为所述迭代初始值。可选的，根据被除数和除数的符号，确定所述除法器的迭代结果的符号包括：根据被除数的符号，和除数的符号为同号或异号，确定所述迭代结果的符号；在所述被除数与所述除数同号的情况下，确定所述迭代结果的符号为正；在所述被除数与所述除数异号的情况下，确定所述迭代结果的符号为负。可选的，根据所述除数的绝对值，确定所述商的定点格式包括：确定所述除数的绝对值与1 的大小关系；在所述除数的绝对值大于1的情况下，采用第一定点格式；在所述除数的绝对值小于1的情况下，采用第二定点格式，其中，第一定点格式的小数位数大于所述第二定点格式的小数位数。可选的，根据所述除数的绝对值，确定所述商的定点格式包括：根据所述除数的绝对值，确定所述商的取值范围，其中，在所述除数的绝对值大于1的情况下，所述商的取值范围为小于1；在所述除数的绝对值小于1的情况下，所述商的取值范围为大于1；在所述商的取值范围为小于1的情况下，采用第一定点格式；在所述商的取值范围为大于1的情况下，采用第二定点格式，其中第一定点格式的小数位数大于所述第二定点格式的小数位数。可选的，将所述迭代初始值代入除法器的运算函数，计算迭代预设次数之后的迭代结果包括：将所述迭代初始值带入所述运算函数，确定第一次运算的运算结果并记录运算次数；根据所述第一次运算的运算结果确定第二次运算的初始值；将所述第二次运算的初始值带入所述运算函数，确定第二次的运算结果，并记录运算次数；在所述运算次数未达到所述预设次数的情况下，继续进行迭代运算，直至所述运算次数达到所述预设次数，将最终的运算结果作为所述迭代结果。可选的，所述运算函数为：M=Divisor*x，式中，M为商，x为迭代结果，Divisor为被除数，，n为预设次数，/＞，/＞为除数，/＞为/＞的导数。可选的，根据所述迭代结果的符号，迭代结果，以及所述定点格式，确定所述除法器的商包括：将所述迭代结果的符号作为商的符号；根据所述定点格式和所述迭代结果，确定所述商的数值；根据所述商的符号和数值，确定所述除法器输出的商。为了实现上述目的，根据本申请的另一方面，提供了一种计算机可读存储介质，所述存储介质用于存储程序，其中，所述程序执行上述中任意一项所述的应用于磁轴承转子参数辨识的数据的处理方法。为了实现上述目的，根据本申请的另一方面，提供了一种磁轴承控制器，包括一个或多个处理器和存储器，所述存储器用于存储一个或多个程序，其中，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器实现上述中任意一项所述的应用于磁轴承转子参数辨识的数据的处理方法。本申请根据除数的值域范围，确定迭代初始值，其中，除数的值域范围不同，对应的迭代初始值不同；根据被除数和除数的符号，确定迭代结果的符号；根据除数的绝对值，确定定点格式，其中，绝对值所处的范围不同，对应的定点格式不同；将迭代初始值代入除法器的运算函数，计算迭代预设次数之后的迭代结果；根据迭代结果的符号，以及定点格式，迭代结果，确定除法器的商。达到了以较低次数的迭代收敛，占用较少的运算资源得到商，进而确定参数识别算法的增益；并针对不同情况采用不同的定点格式进行商的确定，实现较高精度的运算的目的，实现了降低迭代次数，减少资源占用，提高运算精度和速度，从而提高磁轴承转子参数辨识的准确率的技术效果，进而解决了相关技术的磁轴承转子模型参数的在线辨识中，递推最小二乘法采用常规的除法器，存在的迭代周期长、资源占用高，计算精度差，进而导致磁轴承转子参数辨识的准确率较低的问题。附图说明构成本申请的一部分的附图用来提供对本申请的进一步理解，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1是根据本申请实施例提供的一种磁轴承转子参数辨识的数据处理方法的流程图；图2是根据本申请实施方式提供的除法器的系统框图；图3是根据本申请实施方式提供的状态机的示意图；图4是根据本申请实施例提供的一种应用于磁轴承转子参数辨识的数据的处理的磁轴承控制器的示意图。具体实施方式需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。下面将参考附图并结合实施例来详细说明本申请。为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分的实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本申请保护的范围。需要说明的是，本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本申请的实施例。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。下面结合优选的实施步骤对本发明进行说明，图1是根据本申请实施例提供的一种应用于磁轴承转子参数辨识的数据的处理方法的流程图，如图1所示，该方法包括如下步骤：步骤S101，将应用于磁轴承转子参数辨识算法的目标数据的数值，作为除数输入除法器，其中，参数辨识算法用于辨识磁轴承转子的模型参数；步骤S102，根据除数的值域范围，确定除法器的迭代初始值，其中，除数的值域范围不同，对应的迭代初始值不同；步骤S103，根据被除数和除数的符号，确定除法器的迭代结果的符号；步骤S104，根据除数的绝对值，确定商的定点格式，其中，绝对值所处的范围不同，对应的定点格式不同；步骤S105，将迭代初始值代入除法器的运算函数，计算迭代预设次数之后的迭代结果；步骤S106，根据迭代结果的符号，迭代结果，以及定点格式，确定除法器输出的商；步骤S107，根据商确定磁轴承转子的参数辨识算法的增益，根据增益确定参数辨识算法，利用参数辨识算法辨识并输出磁轴承转子的模型参数。上述步骤根据除数的值域范围，确定迭代初始值，其中，除数的值域范围不同，对应的迭代初始值不同；根据被除数和除数的符号，确定迭代结果的符号；根据除数的绝对值，确定定点格式，其中，绝对值所处的范围不同，对应的定点格式不同；将迭代初始值代入除法器的运算函数，计算迭代预设次数之后的迭代结果；根据迭代结果的符号，以及定点格式，迭代结果，确定除法器的商。达到了以较低次数的迭代收敛，占用较少的运算资源得到商，进而确定参数识别算法的增益，并针对不同情况采用不同的定点格式进行商的确定，实现较高精度的运算的目的，实现了降低迭代次数，减少资源占用，提高运算精度和速度，从而提高磁轴承转子参数辨识的准确率的技术效果，进而解决了相关技术的磁轴承转子模型参数的在线辨识中，递推最小二乘法采用常规的除法器，存在的迭代周期长、资源占用高，计算精度差，进而导致磁轴承转子参数辨识的准确率较低的问题。上述步骤的执行主体可以为磁轴承控制器，该磁轴承控制器可以包括处理装置，来执行上述步骤中的数据处理操作，例如，步骤S101-步骤S107。需要说明的是，磁轴承控制器中可能设置有不止一个数据处理设备，甚至还可能与远程设备或者云端设备进行数据连接。上述数据处理操作可以根据实际的情况，分配给不同的数据处理执行主体进行操作。飞轮储能是清洁能源的一种。飞轮储能具有转换效率高、充放电速度快、无污染等优点。磁悬浮控制技术是飞轮储能的核心技术之一。飞轮转子悬浮控制模型具有控制对象时变的特点。飞轮转子悬浮控制模型在线辨识成为磁悬浮控制亟待解决的问题。上述模型参数可以为飞轮转子悬浮控制模型的参数，例如，转子转速，频率等参数。上述参数辨识算法可以为递推最小二乘的方法。递推最小二乘方法增益矩阵的计算需要高精度、宽范围的除法运算。相关技术中的阵列触发器，循环相减的多周期除法器，存在占用资源较多，准确率差，迭代时间长等问题。本实施例提供了一种利用乘法器实现增益矩阵的除法数据处理。因为除法可以看作是除数与被除数倒数的乘积。本实施例的除法器，主要采用牛顿迭代法进行连续的乘法运算，迭代出商的值。具体的，上述目标数据可以为参数辨识算法的增益矩阵中需要进行除法运算处理的数据，包括除数数据和被除数数据。当然在另一些实施例中，上述目标数据也可以增益矩阵之外的，需要进行除法运算处理的数据。在除数和被除数确定后，根据除数的值域范围，确定除法器的迭代初始值，其中，除数的值域范围不同，对应的迭代初始值不同。迭代初始值是用于除法器利用牛顿迭代法来计算商的。迭代初始值可以决定牛顿迭代法的迭代次数和迭代效率，对于不同的除数其最优的迭代初始值不同。理论上每一个除数都对应一个最优的迭代初始值考虑到除数，但是考虑到除数的具体数值无法预知，则可以根据除数的值域，进行范围划分。将除数的值域划分为多个值域范围，每个值域范围设置一个迭代初始值。该值域范围内的除数数值，基于该迭代初始值进行迭代，都能具有良好迭代效果，进而保证牛顿迭代法的效率。上述根据被除数和除数的符号，确定除法器的迭代结果的符号，也即是最终商的符号。考虑到除数和被除数的正负，也是需要根据除法的符号原则，同号得正，异号得负的原则，确定商的符号。上述根据除数的绝对值，确定商的定点格式，其中，除数的绝对值所处的范围不同，对应的定点格式不同。上述定点格式是用于将固定位数的二进制数据转换为十进制的商的小数位和整数位的格式，定点格式包括整数位数，小数位数以及小数点位置，不同的定点格式，小数位数不同，也即是其商的小数位数不同。上述除数的绝对值是否大于1，可以确定商的绝对值是否大于1。除数的绝对值小于1，则商的绝对值大于1，其对小数位数的要求不高，主要是完整得出整数部分。因此，采用是小数点位较少的第二定点格式。除数的绝对值大于1，则商的绝对值小于1，其对小数位数的要求较高，主要是尽量多得出更多的小数部分，来提高精度。因此，采用是小数点位较多的第一定点格式。上述将迭代初始值代入除法器的运算函数，计算迭代预设次数之后的迭代结果，也即是将除数和被除数，结合迭代初始值带入除法器进行牛顿迭代法，确定最终的迭代结果，上述迭代结果可以为二进制的字符串。然后根据迭代结果的符号，迭代结果，以及定点格式，确定除法器输出的商。根据商确定磁轴承转子的参数辨识算法的增益，根据增益确定参数辨识算法，利用参数辨识算法辨识并输出磁轴承转子的模型参数。达到了以较低次数的迭代收敛，占用较少的运算资源得到商，进而确定参数识别算法的增益，并针对不同情况采用不同的定点格式进行商的确定。实现较高精度的运算的目的，实现了降低迭代次数，减少资源占用，提高运算精度和速度，从而提高磁轴承转子参数辨识的准确率的技术效果。进而解决了相关技术的磁轴承转子模型参数的在线辨识中，递推最小二乘法采用常规的除法器，存在的迭代周期长、资源占用高，计算精度差，进而导致磁轴承转子参数辨识的准确率较低的问题。可选的，根据除数的值域范围，确定除法器的迭代初始值包括：对除数取绝对值，确定除数的绝对值；根据除数的绝对值确定除数所属的值域范围，其中，值域范围为多个，每个值域范围对应一个迭代初始值；将值域范围对应的迭代初始值，作为迭代初始值。相对于一个除法器，能够计算的数据位数是有限的。除数也会具有相应的值域，例如，一个除法器能够输入的数据位数有10位，其除数的总位数不会超过这个最大位数。意味着除数对应的值域也是有限的。需要说明的是，在本实施例中的除法器，其除数的值域可以根据需求的位数进行设定，但是其值域仍然是有限的。如上所述，迭代初始值是用于除法器利用牛顿迭代法来计算商的。理论上每一个除数都对应一个最优的迭代初始值考虑到除数，但是考虑到除数的具体数值无法预知，则可以根据除数的值域，进行范围划分。将除数的值域划分为多个值域范围，每个值域范围设置一个迭代初始值。该值域范围内的除数数值，在该迭代初始值的作用下，都能具有良好迭代效果。进而保证牛顿迭代法的效率。在一种可选的实施例中，优选的，除数的值域范围对应的迭代初始值为值域范围的两个端点中，数值较大的端点对应的数值的倒数，可以使该值域范围内的除数具有较快的迭代速度，以及较高的准确性。例如，值域范围为0.1~0.01，其数值较大的端点对应的数值为0.1，其倒数为10，则该值域范围0.1~0.01对应的迭代初始值为10。可选的，根据被除数和除数的符号，确定除法器的迭代结果的符号包括：根据被除数的符号，和除数的符号为同号或异号，确定迭代结果的符号；在被除数与除数同号的情况下，确定迭代结果的符号为正；在被除数与除数异号的情况下，确定迭代结果的符号为负。上述迭代结果可以是除法器输出的二进制字符串，是用来根据与被除数的乘积确定最终的商的二进制字符串。某种意义上，迭代结果的数值和除数分之一的数值是一致的，只不过是不同进制形式的表示，也即是，x为迭代结果，divider为除数。定点格式是用来将商的二进制字符串转化为常见的十进制，并带有小数点的数值。根据除法的符号原则，同号得正，异号得负的原则，确定商的符号。在被除数与除数同号的情况下，确定迭代结果的符号为正；在被除数与除数异号的情况下，确定迭代结果的符号为负。可选的，根据除数的绝对值，确定商的定点格式包括：确定除数的绝对值与1 的大小关系；在除数的绝对值大于1的情况下，采用第一定点格式；在除数的绝对值小于1的情况下，采用第二定点格式，其中第一定点格式的小数位数大于第二定点格式的小数位数。定点格式是将迭代结果的二进制字符串，转换为十进制的商时，所需要划分整数位和小数位的格式，主要作用是限定小数位数的长度。考虑到商在大于1时，主要侧重于整数部分，商在小于1时，主要侧重于小数部分。因此，本实施例，针对商大于1，也即是除数的绝对值小于1，以及商小于1，也即是除数的绝对值大于1的不同情况，设置不同的定点格式，来提高商的准确性。本实施例中，上述第一定点格式可以为Q48，上述第二定点格式可以为Q32，Q48的小数位为8位，Q32的小数位为2位，Q48的小数位数大于Q32的小数位数。需要说明的是，在另一种情况下，上述除数的绝对值等于1，这种情况下，商就等于被除数本身，不需要进行迭代运算，也不会涉及到迭代运算的迭代结果，以及迭代结果转化成商的定点格式。可选的，根据除数的绝对值，确定商的定点格式包括：根据除数的绝对值，确定商的取值范围，其中，在除数的绝对值大于1的情况下，商的取值范围为小于1；在除数的绝对值小于1的情况下，商的取值范围为大于1；在商的取值范围为小于1的情况下，采用第一定点格式；在商的取值范围为大于1的情况下，采用第二定点格式，其中第一定点格式的小数位数大于第二定点格式的小数位数。由于除数的绝对值大于1或者小于1，本质上是为了体现商小于1或者大于1。因此，在确定定点格式时，也可以根据除数的绝对值，确定商的取值范围，进而根据商的取值范围确定定点格式。具体的，在除数的绝对值大于1的情况下，商的取值范围为小于1；在除数的绝对值小于1的情况下，商的取值范围为大于1。在商的取值范围为小于1的情况下，说明商更侧重小数部分的表达，采用小数位数较多的第一定点格式；在商的取值范围为大于1的情况下，说明商更侧重整数部分的表达，采用整数位数较多的第二定点格式，其中第一定点格式的小数位数大于第二定点格式的小数位数。可选的，将迭代初始值代入除法器的运算函数，计算迭代预设次数之后的迭代结果包括：将迭代初始值带入运算函数，确定第一次运算的运算结果并记录运算次数；根据第一次运算的运算结果确定第二次运算的初始值；将第二次运算的初始值带入运算函数，确定第二次的运算结果，并记录运算次数；在运算次数未达到预设次数的情况下，继续进行迭代运算，直至运算次数达到预设次数，将最终的运算结果作为迭代结果。在迭代时可以采用牛顿迭代法，具体如下。其中M为商，Divisor为被除数，Divider为除数。则上述公式可以转化为：由上式，把除法运算变成了乘法运算，只要求出除数的倒数，然后再把被除数乘上就能得到最终的结果，因此令：式中b为除数。则根据牛顿迭代法得到：把代入得到：令，最终迭代结果为：则最终的商M为上述n=1时，x也即是迭代初始值。将迭代初始值x带入运算函数，确定第一次运算的运算结果x并记录运算次数1；根据第一次运算的运算结果x确定第二次运算的初始值x。本实施例中，将第一次运算的运算结果x，作为第二次运算的初始值x，也即是x=x。将第二次运算的初始值x带入运算函数，确定第二次的运算结果x，并记录运算次数2；在运算次数未达到预设次数的情况下，继续进行迭代运算，直至运算次数达到预设次数，将最终的运算结果作为迭代结果。在本实施例中，上述预设次数可以为10次。迭代次数越多，其准确率越高，迭代速度越慢；迭代次数越少，迭代速度越快，但是准确率降低。预设次数可以根据需求进行设定。可选的，运算函数为：M=Divisor*x，式中，x为迭代结果，Divisor为被除数，，n为预设次数，/＞，/＞为除数，/＞为/＞的导数。需要说明的是，为了方便计算，通常将被除数divisor转化为正整数，这样就可以根据除数的值域范围，来确定商的取值范围。在被除数divisor小于1的情况下，将小数看作分数，对除数和被除数都乘以被除数的分母，不改变商的结果。在被除数divisor大于或等于1的情况下，自然也没有必要进行转换，可以直接根据除数的绝对值大于1或小于1，确定商的取值范围大于1或者小于1。可选的，根据迭代结果的符号，迭代结果，以及定点格式，确定除法器的商包括：将迭代结果的符号作为商的符号；根据定点格式和迭代结果，确定商的数值；根据商的符号和数值，确定除法器输出的商。根据除法器输出的商，确定递推最小二乘方法的增益矩阵，然后基于确定的增益矩阵，利用上述递推最小二乘法，进行飞轮转子悬浮控制模型的参数的识别。也即是上述模型参数可以为飞轮转子悬浮控制模型的参数，具体可以包括，飞轮的转速，频率等参数。需要说明的是，上述递推最小二乘法及其增益矩阵的确定方法均为现有技术，得到除法器的商后根据现有技术中一般的方式，确定递推最小二乘法的增益矩阵，并采用一般的在线辨识算法进行模型参数的辨识。需要说明的是，在附图的流程图示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以不同于此处的顺序执行所示出或描述的步骤。需要说明的是，本申请还提供了一种可选的实施方式，下面对该实施方式进行详细说明。针对相关技术中磁轴承转子模型参数的在线辨识中，递推最小二乘法采用常规的除法器，存在的迭代周期长、资源占用高，计算精度差，进而导致磁轴承转子参数辨识的准确率较低的问题，提供了一种使用乘法器进行迭代来确定参数辨识算法的增益方法，利用器件内部的乘法器，实现资源占用少，迭代次数稳定，计算精度高。本实施方式提出了一种迭代硬件除法器。图2是根据本申请实施方式提供的除法器的系统框图，如图2所示，该迭代硬件除法器包括3大部分功能，数据预处理与迭代初值确定、牛顿迭代运算、被乘数乘入与结果处理。该除法器系统框图如图1所示。数据预处理与迭代初值确定主要对被除数和除数取绝对值、确定商的符号、牛顿迭代收敛域判断及确定迭代初始值使得迭代收敛到符合要求的精度。牛顿迭代部分主要进行10次牛顿迭代运算。被除数乘入与结果处理主要把被除数与除数的倒数相乘得出最终值，并且根据上述确定商的符号，确定最终值的符号。本实施方式的迭代除法器主要原理是基于牛顿迭代法得到被除数与除数的商。其原理如下。其中M为商，Divisor为被除数，Divider为除数。则上述公式可以转化为：由上式，把除法运算变成了乘法运算，只要求出除数的倒数，然后再把被除数乘上就能得到最终的结果，因此令：式中b为除数。则根据牛顿迭代法得到：把代入得到：令，最终迭代结果为：当，/＞；当/＞，/＞。在数据位宽固定的情况下，要在两种情况下都达到较高的精确度，必须在两种情况下采用定点格式不同的数据，因此需要在两种情况下对数据格式进行切换。当/＞时，采用Q48定点数格式，当时，采用Q32定点格式，保证在/＞整个范围内都能实现运算结果相对较高的运算精度。除法器模块运算结果为：为了使迭代速度更快，理论上要迭代次数更少，但是迭代是次数少就可能不收敛或者精度低，迭代次数多，运算的效率就低。在仿真与实验基础上，综合考虑运算精度和运算效率，选择运算次数位10次。并且为了使上述迭代过程在的全范围内收敛并且在计算结果始终保持较高的精确度，需要在Divider不同值域时设置不同的迭代初始值。迭代值设置为值域的倒数。上述除法器由一个状态机实现，各个状态如图3所示，图3是根据本申请实施方式提供的状态机的示意图。其状态机描述如下：State0：对除数取绝对值、实现数据域的判断，并且根据除数值范围的确定迭代初始值,根据除数的符号判断迭代结果的符号，当，进入State1；State1：给乘法器乘数、被乘数赋值，并且启动乘法器，进入State2；State2：如果乘法器运算完成则进入State3,否则继续State2；State3： 进行迭代运算1运算；State4：给乘法器乘数、被乘数赋值，并且启动乘法器，进入State5；State5：如果乘法器运算完成则进入State6，否则继续State5；State6：进行迭代运算2，如果迭代次数等于10进入State7，否则进入State1；State7：给乘法器乘数、被乘数赋值，并且启动乘法器，进入State8；State8：如果乘法器运算完成则进入State9，否则继续State8；State9：根据前面符号判断给商赋值，并且给商确定定点数格式。本实施方式针对商大于1和小于1两种情况进行了区分，在固定位宽的情况下，小于1时小数位数实现 的运算精度，在大于1情况下最大值能达到次方，实现了算法相对较宽范围的计算。针对除数的绝对值不同，通过给赋不同初始迭代值的方法，实现了算法10次迭代收敛，并且能保证相当高的运算精度，达到资源利用与运算速度的平衡。图4是根据本申请实施例提供的一种应用于磁轴承转子参数辨识的数据的处理的磁轴承控制器的示意图，如图4所示，本申请实施例还提供了一种应用于磁轴承转子参数辨识的数据的处理的磁轴承控制器，用来执行上述应用于磁轴承转子参数辨识的数据的处理方法，该磁轴承控制器包括：输入模块41，第一确定模块42，第二确定模块43，第三确定模块44，计算模块45，输出模块46，辨识模块47，具体如下。输入模块41，用于将应用于磁轴承转子参数辨识算法的目标数据的数值，作为除数输入除法器，其中，所述参数辨识算法用于辨识磁轴承转子的模型参数；第一确定模块42，与上述输入模块41相连，用于根据所述除数的值域范围，确定所述除法器的迭代初始值，其中，所述除数的值域范围不同，对应的迭代初始值不同；第二确定模块43，与上述第一确定模块42相连，用于根据被除数和除数的符号，确定所述除法器的迭代结果的符号；第三确定模块44，与上述第二确定模块43相连，用于根据所述除数的绝对值，确定商的定点格式，其中，所述绝对值所处的范围不同，对应的所述定点格式不同；计算模块45，与上述第三确定模块44相连，用于将所述迭代初始值代入所述除法器的运算函数，计算迭代预设次数之后的迭代结果；输出模块46，与上述计算模块45相连，用于根据所述迭代结果的符号，所述迭代结果，以及所述定点格式，确定所述除法器输出的商；辨识模块47，与上述输出模块46相连，用于根据所述商确定磁轴承转子的参数辨识算法的增益，根据增益确定所述参数辨识算法，利用参数辨识算法辨识并输出磁轴承转子的模型参数。上述磁轴承控制器根据除数的值域范围，确定迭代初始值，其中，除数的值域范围不同，对应的迭代初始值不同；根据被除数和除数的符号，确定迭代结果的符号；根据除数的绝对值，确定定点格式，其中，绝对值所处的范围不同，对应的定点格式不同；将迭代初始值代入除法器的运算函数，计算迭代预设次数之后的迭代结果；根据迭代结果的符号，以及定点格式，迭代结果，确定除法器的商。达到了以较低次数的迭代收敛，占用较少的运算资源得到商，进而确定参数识别算法的增益，并针对不同情况采用不同的定点格式进行商的确定，实现较高精度的运算的目的，实现了降低迭代次数，减少资源占用，提高运算精度和速度，从而提高磁轴承转子参数辨识的准确率的技术效果，进而解决了相关技术的磁轴承转子模型参数的在线辨识中，递推最小二乘法采用常规的除法器，存在的迭代周期长、资源占用高，计算精度差，进而导致磁轴承转子参数辨识的准确率较低的问题。所述磁轴承控制器包括处理器和存储器，上述输入模块41，第一确定模块42，第二确定模块43，第三确定模块44，计算模块45，输出模块46，辨识模块47等均作为程序单元存储在存储器中，由处理器执行存储在存储器中的上述程序单元来实现相应的功能。处理器中包含内核，由内核去存储器中调取相应的程序单元。内核可以设置一个或以上，通过调整内核参数来解决了相关技术的磁轴承转子模型参数的在线辨识中，递推最小二乘法采用常规的除法器，存在的迭代周期长、资源占用高，计算精度差，进而导致磁轴承转子参数辨识的准确率较低的问题。存储器可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存，存储器包括至少一个存储芯片。本发明实施例提供了一种计算机可读存储介质，其上存储有程序，该程序被处理器执行时实现所述应用于磁轴承转子参数辨识的数据的处理方法。本发明实施例提供了一种处理器，所述处理器用于运行程序，其中，所述程序运行时执行所述应用于磁轴承转子参数辨识的数据的处理方法。本申请实施例提供了一种磁轴承控制器，设备包括处理器、存储器及存储在存储器上并可在处理器上运行的程序，处理器执行程序时实现上述应用于磁轴承转子参数辨识的数据的处理方法的步骤：本文中的设备可以是服务器、PC、PAD、手机等。本申请还提供了一种计算机程序产品，当在磁轴承控制器上执行时，适于执行初始化有上述任一方法步骤的程序。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程磁轴承控制器的处理器以产生一个机器，使得通过计算机或其他可编程磁轴承控制器的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程磁轴承控制器以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程磁轴承控制器上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。在一个典型的配置中，计算设备包括一个或多个处理器 、输入/输出接口、网络接口和内存。存储器可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存。存储器是计算机可读介质的示例。计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存 、静态随机存取存储器 、动态随机存取存储器 、其他类型的随机存取存储器 、只读存储器 、电可擦除可编程只读存储器 、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘  或其他光学存储、磁盒式磁带，磁带磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体 ，如调制的数据信号和载波。还需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、商品或者设备中还存在另外的相同要素。本领域技术人员应明白，本申请的实施例可提供为方法、系统或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。以上仅为本申请的实施例而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
