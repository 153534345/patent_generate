标题title
一种线状要素单线拓扑状态的判断方法和装置
摘要abst
本发明提供了一种线状要素单线拓扑状态的判断方法和装置，涉及电子地图的技术领域，包括：获取待处理线状要素单线数据，并对待处理线状要素单线数据的类型和等级进行分类，得到分类数据；利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，目标线状要素为连通性不完整的目标线状要素；基于目标线状要素对应的几何坐标序列，确定出的目标线状要素的长度；在目标线状要素的长度大于预设阈值，基于目标线状要素对应的几何坐标序列，确定出断点位置的坐标，解决了现有的电子地图线性要素的连通性检查效率较低的技术问题。
权利要求书clms
1.一种线状要素单线拓扑状态的判断方法，其特征在于，包括：获取待处理线状要素单线数据，并对所述待处理线状要素单线数据的类型和等级进行分类，得到分类数据；利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，所述目标线状要素为连通性不完整的目标线状要素；基于所述目标线状要素对应的几何坐标序列，确定出的所述目标线状要素的长度；在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标。2.根据权利要求1所述的方法，其特征在于，所述待处理线状要素单线数据的类型包括：道路，铁路和水系。3.根据权利要求1所述的方法，其特征在于，所述合并线状要素的类型包括：单线和多线，其中，所述单线为连通性完整的合并线状要素，所述多线为连通性不完整的合并线状要素；确定出合并线状要素中的目标线状要素，包括：将所述合并线状要素的类型为多线的合并线状要素，确定为所述目标线状要素。4.根据权利要求1所述的方法，其特征在于，在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标，包括：将长度大于所述预设阈值的目标线状要素确定为浮岛；计算出所述浮岛对应的几何坐标序列的均值，得到均值坐标；将所述均值坐标确定为所述断点位置的坐标。5.根据权利要求1所述的方法，其特征在于，所述方法包括：对所述断点位置进行去重处理。6.一种线状要素单线拓扑状态的判断装置，其特征在于，包括：获取单元，用于获取待处理线状要素单线数据，并对所述待处理线状要素单线数据的类型和等级进行分类，得到分类数据；第一确定单元，用于利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，所述目标线状要素为连通性不完整的目标线状要素；第二确定单元，用于基于所述目标线状要素对应的几何坐标序列，确定出的所述目标线状要素的长度；计算单元，用于在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标。7.根据权利要求6所述的判断装置，其特征在于，所述待处理线状要素单线数据的类型包括：道路，铁路和水系。8.根据权利要求6所述的判断装置，其特征在于，所述合并线状要素的类型包括：单线和多线，其中，所述单线为连通性完整的合并线状要素，所述多线为连通性不完整的合并线状要素；所述第一确定单元，用于：将所述合并线状要素的类型为多线的合并线状要素，确定为所述目标线状要素。9.一种电子设备，其特征在于，包括存储器以及处理器，所述存储器用于存储支持处理器执行权利要求1至5任一项所述方法的程序，所述处理器被配置为用于执行所述存储器中存储的程序。10.一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，其特征在于，计算机程序被处理器运行时执行上述权利要求1至5任一项所述方法的步骤。
说明书desc
技术领域本发明涉及电子地图的技术领域，尤其是涉及一种线状要素单线拓扑状态的判断方法和装置。背景技术电子地图是指利用计算机技术，以数字方式存储和查阅的地图。包含城市区域信息或高速道路信息的地图数据，一般是在1:5000或更大比例尺下显示的城市详细地图数据，用于数据显示、辅助定位和辅助导航等。其除了应用于常规精度的二维地图数据外，也应用于高精度的辅助驾驶和自动驾驶的三维地图数据的底图的二维显示，在数据图层中处于底层。现有技术对于深度优先或广度优先遍历检查来说，由于电子地图数据量一般较大，在实际应用中往往效率极低，且对设备要求较高，且现有技术对电子地图线性要素的连通性检查效率较低。针对上述问题，还未提出有效的解决方案。发明内容有鉴于此，本发明的目的在于提供一种线状要素单线拓扑状态的判断方法和装置，以缓解了现有的电子地图线性要素的连通性检查效率较低的技术问题。第一方面，本发明实施例提供了一种线状要素单线拓扑状态的判断方法，包括：获取待处理线状要素单线数据，并对所述待处理线状要素单线数据的类型和等级进行分类，得到分类数据；利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，所述目标线状要素为连通性不完整的目标线状要素；基于所述目标线状要素对应的几何坐标序列，确定出的所述目标线状要素的长度；在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标。进一步的，所述待处理线状要素单线数据的类型包括：道路，铁路和水系。进一步的，所述合并线状要素的类型包括：单线和多线，其中，所述单线为连通性完整的合并线状要素，所述多线为连通性不完整的合并线状要素确定出合并线状要素中的目标线状要素，包括：将所述合并线状要素的类型为多线的合并线状要素，确定为所述目标线状要素。进一步的，在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标，包括：将长度大于所述预设阈值的目标线状要素确定为浮岛；计算出所述浮岛对应的几何坐标序列的均值，得到均值坐标；将所述均值坐标确定为所述断点位置的坐标。进一步的，所述方法包括：对所述断点位置进行去重处理。第二方面，本发明实施例还提供了一种线状要素单线拓扑状态的判断装置，包括：获取单元，用于获取待处理线状要素单线数据，并对所述待处理线状要素单线数据的类型和等级进行分类，得到分类数据；第一确定单元，用于利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，所述目标线状要素为连通性不完整的目标线状要素；第二确定单元，用于基于所述目标线状要素对应的几何坐标序列，确定出的所述目标线状要素的长度；计算单元，用于在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标。进一步的，所述待处理线状要素单线数据的类型包括：道路，铁路和水系。进一步的，所述合并线状要素的类型包括：单线和多线，其中，所述单线为连通性完整的合并线状要素，所述多线为连通性不完整的合并线状要素；所述第一确定单元，用于：将所述合并线状要素的类型为多线的合并线状要素，确定为所述目标线状要素。第三方面，本发明实施例还提供了一种电子设备，包括存储器以及处理器，所述存储器用于存储支持处理器执行上述第一方面中所述方法的程序，所述处理器被配置为用于执行所述存储器中存储的程序。第四方面，本发明实施例还提供了一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序。在本发明实施例中，通过获取待处理线状要素单线数据，并对所述待处理线状要素单线数据的类型和等级进行分类，得到分类数据；利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，所述目标线状要素为连通性不完整的目标线状要素；基于所述目标线状要素对应的几何坐标序列，确定出的所述目标线状要素的长度；在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标，达到了对电子地图中的线状要素进行高效的分级连通性检查的目的，进而解决了现有的电子地图线性要素的连通性检查效率较低，从而实现了提高电子地图线性要素的连通性检查效率的技术效果。本发明的其他特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点在说明书、权利要求书以及附图中所特别指出的结构来实现和获得。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种线状要素单线拓扑状态的判断方法的流程图；图2为本发明实施例提供的待处理线状要素单线数据的示意图；图3为本发明实施例提供的合并线状要素的示意图；图4为本发明实施例提供的断点位置的示意图；图5为本发明实施例提供的一种线状要素单线拓扑状态的判断装置的示意图；图6为本发明实施例提供的一种电子设备的示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合附图对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例一：根据本发明实施例，提供了一种线状要素单线拓扑状态的判断方法的实施例，需要说明的是，在附图的流程图示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤。图1是根据本发明实施例的一种线状要素单线拓扑状态的判断方法的流程图，如图1所示，该方法包括如下步骤：步骤S102，获取待处理线状要素单线数据，并对所述待处理线状要素单线数据的类型和等级进行分类，得到分类数据；具体的，待处理线状要素单线数据如图2所示。步骤S104，利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，所述目标线状要素为连通性不完整的目标线状要素；步骤S106，基于所述目标线状要素对应的几何坐标序列，确定出的所述目标线状要素的长度；步骤S108，在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标。在本发明实施例中，通过获取待处理线状要素单线数据，并对所述待处理线状要素单线数据的类型和等级进行分类，得到分类数据；利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，所述目标线状要素为连通性不完整的目标线状要素；基于所述目标线状要素对应的几何坐标序列，确定出的所述目标线状要素的长度；在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标，达到了对电子地图中的线状要素进行高效的分级连通性检查的目的，进而解决了现有的电子地图线性要素的连通性检查效率较低，从而实现了提高电子地图线性要素的连通性检查效率的技术效果。需要说明的是，上述待处理线状要素单线数据的类型包括：道路，铁路和水系，以道路为例道路的分级包括高速公路、省道、县道等。下面以待处理线状要素单线数据的类型是道路为例，对本发明实施例进行说明。在本发明实施例中，所述合并线状要素的类型包括：单线和多线，其中，所述单线为连通性完整的合并线状要素，所述多线为连通性不完整的合并线状要素确定出合并线状要素中的目标线状要素，包括：将所述合并线状要素的类型为多线的合并线状要素，确定为所述目标线状要素。步骤S108包括如下步骤：将长度大于所述预设阈值的目标线状要素确定为浮岛；计算出所述浮岛对应的几何坐标序列的均值，得到均值坐标；将所述均值坐标确定为所述断点位置的坐标。在本发明实施例中，利用预设平台提供方法将第一步筛选出的数据进行合并；如postgis中，“SELECT ST_UION  FROM 道路group by 类别”，依赖数据库独特的索引、读写机制，可以极大提高计算性能，且在执行中均为并行搜索，也就是说所有线同时搜索自己周围的线，利用平台提供的空间索引，并行处理效率得到极大提升，但会出现相邻线相互找到彼此的场景，这在后面步骤中）会进行去重，合并后得到的合并线状要素如图3所示。利用预设平台提供方法判断＞1；其他平台不赘述），如postgis中，“SELECT St_GeometryType as GeomType FROM 道路”，即可得到每个合并线状要素的类型，连通性完整线类型为polyline ,连通性存在问题线类型为MultiPolyline；再用坐标序列直接求得长度，若长度大于给定阈值则为浮岛;获取每个浮岛的代表点，即浮岛内所有点x、y的平均值构成点，得到断点位置的坐标，如图4所示。在本发明实施例中，所述方法还包括：对所述断点位置进行去重处理。在本发明实施例中，由于每一个断点都是由至少两条线构成，所以，断点会出现重复，所以按照浮岛代表点坐标值进行去重。本发明实施例对于针对更新后道路检查而言，本发明也可适用于局部道路的检查更新，且实现逻辑更为通俗易懂。对于分级检查连通性来说，本发明也可适用于按照属性或相似性对分类后的数据进行连通性检查，且效率较高方法快。实施例二：本发明实施例还提供了一种线状要素单线拓扑状态的判断装置，该基于卫星遥感的盐湖锂矿项目产能监测装置用于执行本发明实施例上述内容所提供的线状要素单线拓扑状态的判断方法，以下是本发明实施例提供的装置的具体介绍。如图5所示，图5为上述线状要素单线拓扑状态的判断的示意图，该线状要素单线拓扑状态的判断包括：获取单元10，用于获取待处理线状要素单线数据，并对所述待处理线状要素单线数据的类型和等级进行分类，得到分类数据；第一确定单元20，用于利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，所述目标线状要素为连通性不完整的目标线状要素；第二确定单元30，用于基于所述目标线状要素对应的几何坐标序列，确定出的所述目标线状要素的长度；计算单元40，用于在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标。在本发明实施例中，通过获取待处理线状要素单线数据，并对所述待处理线状要素单线数据的类型和等级进行分类，得到分类数据；利用预设平台对每一分类数据进行合并，得到合并线状要素，并确定出合并线状要素中的目标线状要素，其中，所述目标线状要素为连通性不完整的目标线状要素；基于所述目标线状要素对应的几何坐标序列，确定出的所述目标线状要素的长度；在所述目标线状要素的长度大于预设阈值时，基于所述目标线状要素对应的几何坐标序列，确定出断点位置的坐标，达到了对电子地图中的线状要素进行高效的分级连通性检查的目的，进而解决了现有的电子地图线性要素的连通性检查效率较低，从而实现了提高电子地图线性要素的连通性检查效率的技术效果。实施例三：本发明实施例还提供了一种电子设备，包括存储器以及处理器，所述存储器用于存储支持处理器执行上述实施例一中所述方法的程序，所述处理器被配置为用于执行所述存储器中存储的程序。参见图6，本发明实施例还提供一种电子设备100，包括：处理器60，存储器61，总线62和通信接口63，所述处理器60、通信接口63和存储器61通过总线62连接；处理器60用于执行存储器61中存储的可执行模块，例如计算机程序。其中，存储器61可能包含高速随机存取存储器，也可能还包括非不稳定的存储器，例如至少一个磁盘存储器。通过至少一个通信接口63实现该系统网元与至少一个其他网元之间的通信连接，可以使用互联网，广域网，本地网，城域网等。总线62可以是ISA总线、PCI总线或EISA总线等。所述总线可以分为地址总线、数据总线、控制总线等。为便于表示，图6中仅用一个双向箭头表示，但并不表示仅有一根总线或一种类型的总线。其中，存储器61用于存储程序，所述处理器60在接收到执行指令后，执行所述程序，前述本发明实施例任一实施例揭示的流过程定义的装置所执行的方法可以应用于处理器60中，或者由处理器60实现。处理器60可能是一种集成电路芯片，具有信号的处理能力。在实现过程中，上述方法的各步骤可以通过处理器60中的硬件的集成逻辑电路或者软件形式的指令完成。上述的处理器60可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。可以实现或者执行本发明实施例中的公开的各方法、步骤及逻辑框图。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合本发明实施例所公开的方法的步骤可以直接体现为硬件译码处理器执行完成，或者用译码处理器中的硬件及软件模块组合执行完成。软件模块可以位于随机存储器，闪存、只读存储器，可编程只读存储器或者电可擦写可编程存储器、寄存器等本领域成熟的存储介质中。该存储介质位于存储器61，处理器60读取存储器61中的信息，结合其硬件完成上述方法的步骤。实施例四：本发明实施例还提供了一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，计算机程序被处理器运行时执行上述实施例一中所述方法的步骤。另外，在本发明实施例的描述中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。在本发明的描述中，需要说明的是，术语“中心”、“上”、“下”、“左”、“右”、“竖直”、“水平”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，术语“第一”、“第二”、“第三”仅用于描述目的，而不能理解为指示或暗示相对重要性。在本申请所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，又例如，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些通信接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。最后应说明的是：以上所述实施例，仅为本发明的具体实施方式，用以说明本发明的技术方案，而非对其限制，本发明的保护范围并不局限于此，尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，其依然可以对前述实施例所记载的技术方案进行修改或可轻易想到变化，或者对其中部分技术特征进行等同替换；而这些修改、变化或者替换，并不使相应技术方案的本质脱离本发明实施例技术方案的精神和范围，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应所述以权利要求的保护范围为准。
