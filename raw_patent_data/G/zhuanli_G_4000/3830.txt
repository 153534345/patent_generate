标题title
一种对射型光电传感器的发射器生产检测方法和系统
摘要abst
本申请涉及一种对射型光电传感器的发射器生产检测方法和系统，包括获取正常检测距离下基准接收器接收到基准发射器发射光信号的强度，作为光信号强度基准值；依据预设的检测距离，设定模拟接收器接收到基准发射器发射光信号的强度等于光信号强度基准值；根据模拟接收器接收待检测发射器的发射光信号的强度是否低于光信号强度基准值，来判断待检测发射器是否合格。本申请通过模拟接收器来减小实际接收的距离，在确保模拟接收器接收到的信号强度和实际位置接收到的信号强度相同后，以相同的信号强度来建立实际检测距离和当前检测距离之间的对应关系，利用信号强度来判定是否合格时，减小了实际检测所需要使用的场地大小。
权利要求书clms
1.一种对射型光电传感器的发射器生产检测方法，其特征在于，包括以下步骤：获取正常检测距离下基准接收器接收到基准发射器发射光信号的强度，作为光信号强度基准值；依据预设的检测距离，设定模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值，其中，预设的检测距离小于正常检测距离；获取模拟接收器接收到待检测发射器在预设的检测距离下发射光信号的强度；判断模拟接收器接收的发射光信号的强度是否低于光信号强度基准值，若为是，则确定待检测发射器不合格，若为否，则确定待检测发射器合格。2.根据权利要求1所述的方法，其特征在于：所述光信号强度基准值为基准接收器在正常检测距离下检测基准发射器发出的最低光信号强度对应的检测值。3.根据权利要求1所述的方法，其特征在于：在依据预设的检测距离，设定模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值中，包括：基于光电转换电路，将接收的光信号转变为电信号；由MCU读取外部接入的阈值调控电压，并输出调控信号；由增益控制电路响应于调控信号，对增益控制电路接收的电信号进行幅值调控，使模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值。4.根据权利要求3所述的方法，其特征在于：在由MCU读取外部接入的阈值调控电压，并输出调控信号中，包括：获取预先设置的阈值调控电压的最大值和最小值；读取接入阈值调控电压的电压值，计算电压变化百分比；基于电压变化百分比，设置调控信号的占空比，并输出调控信号。5.一种检测系统，其特征在于，所述检测系统应用如权利要求1-4任一项所述的方法，所述检测系统包括：基准信号强度获取模块，所述基准信号强度获取模块用于获取正常检测距离下基准接收器接收到基准发射器发射光信号的强度；模拟接收器设定模块，所述模拟接收器设定模块用于设定模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值；实际信号强度获取模块，所述实际信号强度获取模块用于获取模拟接收器接收到待检测发射器在预设的检测距离下发射光信号的强度；判断模块，所述判断模块用于根据模拟接收器接收的发射光信号的强度是否低于光信号强度基准值来判断待检测发射器是否合格。6.根据权利要求5所述的检测系统，其特征在于：所述模拟接收器设定模块包括阈值调控单元和增益控制单元，所述阈值调控单元用于输出调控信号，所述增益控制单元用于依据调控信号控制模拟接收器接收到待检测发射器在预设的检测距离下发射光信号的强度。7.一种电子设备，其特征在于，所述电子设备包括处理器和存储器；所述存储器与所述处理器耦合，所述存储器用于存储程序代码，所述程序代码包括指令，所述处理器调用所述指令以使得所述电子设备执行如权利要求1-4中任意一项所述的方法。8.一种存储介质，其特征在于，所述存储介质中存储有指令，当所述指令在处理器中执行时，使所述处理器执行如权利要求1-4中任一项所述的方法。
说明书desc
技术领域本申请涉及传感器测试技术领域，尤其是涉及一种对射型光电传感器的发射器生产检测方法和系统。背景技术传感器是工业现场经常使用的一种检测元器件，通过传感器输出电信号来控制工业现场的工作过程。在很多工业现场中，均会要求使用精度很高的传感器作为信号的采集端。但是对于传感器的生产制造而言，传感器的工作参数不一定完全准确，因此需要对传感器做进一步的测试检验。对于对射型光电传感器，传感器的检测距离一般比较远，近则数米，远则数十米。在该类型传感器生产过程中，需要按照传感器设定的检测距离参数来建立一个试验场地。并且在测试对射型光电传感器的发射器时，需要使用到标准的接收器来确定发射器是否良好。针对上述中的相关技术，在对射型光电传感器的发射器进行发射参数性能检测时，若要求的检测距离较大时，需要的试验场地也比较大，存在不方便对射型光电传感器的发射器进行检测的缺陷。发明内容为了简化对射型光电传感器的发射器的检测过程，本申请提供一种对射型光电传感器的发射器生产检测方法和系统。本申请提供的一种对射型光电传感器的发射器生产检测方法，采用如下的技术方案。第一方面，本申请提供一种对射型光电传感器的发射器生产检测方法，采用如下的技术方案：一种对射型光电传感器的发射器生产检测方法，包括以下步骤：获取正常检测距离下基准接收器接收到基准发射器发射光信号的强度，作为光信号强度基准值；依据预设的检测距离，设定模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值，其中，预设的检测距离小于正常检测距离；获取模拟接收器接收到待检测发射器在预设的检测距离下发射光信号的强度；判断模拟接收器接收的发射光信号的强度是否低于光信号强度基准值，若为是，则确定待检测发射器不合格，若为否，则确定待检测发射器合格。通过采用上述技术方案，利用基准发射器和基准接收器在正常检测环境下来确定基准发射器发出的光信号的基准强度值，并通过模拟接收器来减小实际接收的距离，同时还确保模拟接收器接收到的信号强度和实际位置接收到的信号强度相同。以相同的信号强度来建立实际检测距离和当前检测距离之间的对应关系，从而减小了实际检测所需要使用的场地大小。在对待检测发射器进行实际检测过程中，通过模拟接收器接收的光信号强度大小，和基准发射器发出的光信号的基准强度值进行比较，从而确定待检测的发射器是否合格。可选的，所述光信号基准强度值为基准接收器在正常检测距离下检测基准发射器发出的最低光信号强度对应的检测值。通过采用上述技术方案，将基准接收器在正常检测距离下检测基准发射器发出的最低光信号强度对应的检测值作为光信号强度基准值，即检测所依据的基准值是判定发射器合格的最低限度。可选的，在依据预设的检测距离，设定模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值中，包括：基于光电转换电路，将接收的光信号转变为电信号；由MCU读取外部接入的阈值调控电压，并输出调控信号；由增益控制电路响应于调控信号，对增益控制电路接收的电信号进行幅值调控，使模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值。通过采用上述技术方案，模拟接收器和基准接收器都具有接收光信号的元器件，并且通过外部接入的阈值调控电压来改变模拟接收器的调控信号，从而使得增益控制电路对接收的电信号进行幅值调控，以满足模拟接收器接收的光信号强度值和基准强度值相同。可选的，在由MCU读取外部接入的阈值调控电压，并输出调控信号中，包括：获取预先设置的阈值调控电压的最大值和最小值；读取接入阈值调控电压的电压值，计算电压变化百分比；基于电压变化百分比，设置调控信号的占空比，并输出调控信号。通过采用上述技术方案，通过实时获取阈值调控电压值，利用阈值调控电压的变化百分比来改变调控信号的占空比，从而实现阈值调控电压和增益控制电路之间的实时调节。第二方面，本申请提供一种检测系统，所述检测系统应用上述方案记载的方法，所述检测系统采用如下的技术方案。一种检测系统，包括：基准信号强度获取模块，所述基准信号强度获取模块用于获取正常检测距离下基准接收器接收到基准发射器发射光信号的强度；模拟接收器设定模块，所述模拟接收器设定模块用于设定模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值；实际信号强度获取模块，所述实际信号强度获取模块用于获取模拟接收器接收到待检测发射器在预设的检测距离下发射光信号的强度；判断模块，所述判断模块用于根据模拟接收器接收的发射光信号的强度是否低于光信号强度基准值来判断待检测发射器是否合格。通过采用上述技术方案，利用基准信号强度获取模块来获取基准接收器在正常检测环境下来确定基准发射器发出的光信号的基准强度值；通过模拟接收器设定模块来将模拟接收器所在位置接收到的信号强度和实际检测位置接收到的信号强度相同，以此来减小检测距离；通过实际信号强度获取模块来获取模拟接收器接收的待检测发射器所发射出的光信号的强度值，并通过判断模块来确定待检测发射器是否合格。可选的，所述模拟接收器设定模块包括阈值调控单元和增益控制单元，所述阈值调控单元用于输出调控信号，所述增益控制单元用于依据调控信号控制模拟接收器接收到待检测发射器在预设的检测距离下发射光信号的强度。通过采用上述技术方案，利用阈值调控单元来输出调控信号，以使得增益控制单元能够及时对接收到的电信号进行调控，使得最终检测结果和基准接收器检测的基准发射器在正常检测距离下发射的光信号强度值相同。第三方面，本申请提供一种电子设备，所述电子设备应用上述方案记载的方法，所述电子设备包括处理器和存储器；所述存储器与所述处理器耦合，所述存储器用于存储程序代码，所述程序代码包括指令，所述处理器调用所述指令以使得所述电子设备执行上述方案记载的方法。第四方面，本申请提供一种存储介质，所述存储介质中存储有指令，当所述指令在处理器中执行时，使所述处理器执行上述方案记载的方法。综上所述，本申请包括以下至少一种有益技术效果：1.通过模拟接收器来减小实际接收的距离，在确保模拟接收器接收到的信号强度和实际位置接收到的信号强度相同后，以相同的信号强度来建立实际检测距离和当前检测距离之间的对应关系，利用信号强度来判定是否合格时，减小了实际检测所需要使用的场地大小。2.将基准发射器发出的最低光信号强度对应的检测值作为光信号强度基准值，提高了检测准确度。3.通过实时获取阈值调控电压值，利用阈值调控电压的变化百分比来改变调控信号的占空比，从而实现阈值调控电压和增益控制电路之间的实时调节。附图说明图1是本申请对射型光电传感器的发射器检测装置的应用场景示意图。图2是本申请实施例一种对射型光电传感器的发射器生产检测方法的流程示意图。图3是本申请实施例一种对射型光电传感器的发射器生产检测方法中设定模拟接收器具有相同结果的流程示意图。图4是本申请实施例一种对射型光电传感器的发射器生产检测方法中采用的模拟接收器的硬件处理结构图。图5是本申请实施例一种对射型光电传感器的发射器生产检测方法中设置调控信号的流程示意图。图6是申请实施例一种检测系统的模块组成示意图。附图标记说明：1、测试平台支架；2、接收器固定支架；21、接收器安装位；3、发射器固定支架；31、发射器安装位；4、移动导轨；10、基准信号强度获取模块；20、模拟接收器设定模块；201、阈值调控单元；202、增益控制单元；30、实际信号强度获取模块；40、判断模块。具体实施方式以下结合附图1-6对本申请作进一步详细说明。参照图1，为方便描述本申请公开的一种对射型光电传感器的发射器生产检测方法，本申请还公开一种检测装置。检测装置包括测试平台支架1、接收器固定支架2、发射器固定支架3和移动导轨4。其中，接收器固定支架2固定在测试平台支架1上，并且在接收器固定支架2上设置有用于安装接收器的接收器安装位21。移动导轨4固定在测试平台支架1上，而发射器固定支架3滑动设置在移动导轨4上，并且在发射器固定支架3上设置有用于安装发射器的发射器安装位31。接收器安装位21和发射器安装位31相对设置，以使得发射器和接收器之间能够相对设置。通过发射器固定支架3在移动导轨4上移动，来改变发射器和接收器之间的距离。本申请实施例公开一种对射型光电传感器的发射器生产检测方法。参照图2，该方法包括以下步骤。S1、获取正常检测距离下基准接收器接收到基准发射器发射光信号的强度，作为光信号强度基准值。其中，正常检测距离为发射器在正常工作时的额定检测距离。基准接收器为经过检测后，功能正常的接收器。基准发射器为经过检测后，功能正常的发射器。按照正常使用状态来通过基准发射器发射出光信号，然后通过基准接收器接收光信号，并通过基准接收器中的光电转换元件将光信号转换为电信号。通过电信号的幅值大小，从而确定基准发射器发出的光信号的性能参数。光信号基准强度值为基准接收器在正常检测距离下检测基准发射器发出的最低光信号强度对应的检测值。例如：对射型光电传感器的检测距离为10米，在10米距离下，接收器接收到发射器的发射出的光信号功率最低为200微瓦，经过电信号转换之后，输出的检测电压值最低为2V。并以2V作为基准发射器发射出的光信号基准强度值。S2、依据预设的检测距离，设定模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值。其中，预设的检测距离为实际检测过程中采用的距离，并且预设的检测距离小于正常检测距离。例如，预设的检测距离可以是0.2米、0.5米或者1米等，预设的检测距离可根据实际场景进行调节。模拟接收器是和基准接收器具有相同光电转换部件的接收装置，并且在接收装置内还设置有可调节接收信号幅度大小的电位器。通过模拟接收器上的电位器来调节接收到的基准发射器发射光信号信号幅度，使模拟接收器最终输出的检测结果和光信号基准强度值相同。参照图3和图4，在步骤S2中，包括以下步骤。S21、基于光电转换电路，将接收的光信号转变为电信号。其中，光电转换电路为模拟接收器中的光电转换元件所在的电路。通过光电转换电路，将接收的光信号的大小，转变为电信号的大小。在本实施例中，转变的电信号为电压信号。S22、由MCU读取外部接入的阈值调控电压，并输出调控信号。其中，外部接入的阈值调控电压由连接于MCU的电位器进行调节。MCU在接收到电位器的电压值之后，输出对应于电位器电压值的调控信号。S23、由增益控制电路响应于调控信号，对增益控制电路接收的电信号进行幅值调控，使模拟接收器在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值。其中，增益电路同样和MCU连接，通过MCU发出的调控信号来调整光电转换元件经过光线接收后产生的电信号。在本实施例中，在光电转换电路和增益控制电路之间还设置有一级放大电路，在增益控制电路和MCU之间还设置有二级放大电路。通过一级放大电路和二级放大电路的放大作用，来使得MCU最终输出的结果更便于比较。参照图5，在步骤S22中，包括以下步骤。S221、获取预先设置的阈值调控电压的最大值和最小值。其中，阈值调控电压的最大值和最小值均是由模拟接收器所使用的电位器硬件结构来决定的。在模拟接收器使用的电位器确定之后，电位器所能够决定的电压最大值和电压最小值均确定下来，然后输入到MCU中进行预先设置保存。S222、读取接入阈值调控电压的电压值，计算电压变化百分比。其中，电压变化百分比为当前电压值在电位器最小电压上的变化量和电位器能够实现的电压最大变化量之间的比值。结合电位器的电压最小值和电压最大值，可以计算出电位器的电压变化最大范围。通过读取接入阈值调控电压的电压值，根据电位器的最小电压值，可计算出当前电压变化量，从而确定出电压变化百分比。S223、基于电压变化百分比，设置调控信号的占空比，并输出调控信号。其中，调控信号为PWM信号，并且PWM信号的占空比和电压变化百分比相同。例如：若电位器的电压最小值为5V，最大值为10V，此时读取的电压为8V，那么此时的电压变化百分比为/*100%=60%，即PWM的占空比为0.6。在设置好PWM信号的占空比之后，由MCU向增益控制电路输出PWM增益信号。S3、获取模拟接收器接收到待检测发射器在预设的检测距离下发射光信号的强度。其中，待检测发射器距离模拟接收器之间的距离和预设的检测距离相同。更具体的，在将模拟接收器的检测结果调试为光信号基准强度值之后，通过将基准发射器拆卸下来，并更换上需要进行检测的待检测发射器，从而确保待检测发射器和模拟接收器之间的距离符合预设的检测距离。S4、判断模拟接收器接收的发射光信号的强度是否低于光信号强度基准值。S41、若为是，则确定待检测发射器不合格。S42、若为否，则确定待检测发射器合格。其中，光信号强度基准值为正常强度标准下的最低值，在预设的检测距离下，接收到的发射光信号的强度还低于正常强度标准下的最低值，即表明此时的发射器所发射出的光信号功率不够，那么在实际远距离应用时，所造成的偏差量会更大。而在预设的检测距离下，接收到的发射光信号的强度高于或者等于正常强度标准下的最低值，即表明此时的发射器所发射出的光信号功率满足正常检测距离下的光信号功率输出，此时的发射器为合格的产品。本申请实施例的实施原理为：利用基准发射器和基准接收器在正常检测环境下来确定基准发射器发出的光信号的基准强度值，并通过模拟接收器来减小实际接收的距离，同时还确保模拟接收器接收到的信号强度和实际位置接收到的信号强度相同。以相同的信号强度来建立实际检测距离和当前检测距离之间的对应关系，从而减小了实际检测所需要使用的场地大小。在对待检测发射器进行实际检测过程中，通过模拟接收器接收的光信号强度大小，和基准发射器发出的光信号的基准强度值进行比较，从而确定待检测的发射器是否合格。本申请实施例还公开一种检测系统。参照图6，检测系统包括基准信号强度获取模块10、模拟接收器设定模块20、实际信号强度获取模块30和判断模块40。基准信号强度获取模块10用于获取正常检测距离下，基准接收器接收到基准发射器发射光信号的强度。模拟接收器设定模块20用于设定模拟接收器，在预设的检测距离下接收到基准发射器发射光信号的强度等于光信号强度基准值。实际信号强度获取模块30用于获取模拟接收器接收到待检测发射器在预设的检测距离下发射光信号的强度。判断模块40用于根据模拟接收器接收的发射光信号的强度是否低于光信号强度基准值来判断待检测发射器是否合格。具体的，模拟接收器设定模块20包括阈值调控单元201和增益控制单元202。阈值调控单元201通过接收外部输入的电位器电压，来调整输出调控信号。而增益控制单元202接收调控信号，并根据调控信号来控制模拟接收器接收到光信号的强度，以使得模拟接收器接收到待检测发射器在预设的检测距离下发射光信号的强度和光信号基准强度值相同。本申请实施例还公开一种电子设备，电子设备包括处理器和存储器；存储器与处理器耦合，存储器用于存储程序代码，程序代码包括指令，处理器调用指令以使得电子设备执行如上述实施例记载的方法。本申请实施例还公开一种存储介质，存储介质中存储有指令，当指令在处理器中执行时，使处理器执行如上述实施例记载的方法。以上均为本申请的较佳实施例，并非依此限制本申请的保护范围，故：凡依本申请的结构、形状、原理所做的等效变化，均应涵盖于本申请的保护范围之内。
