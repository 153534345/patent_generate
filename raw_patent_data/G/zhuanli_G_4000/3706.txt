标题title
基于人工智能的风机叶片缺陷区域快速分割方法及系统
摘要abst
本发明涉及图像处理技术领域，具体涉及一种基于人工智能的风机叶片缺陷区域快速分割方法及系统。该方法首先获取像素点与邻域范围内每个邻域像素点之间的像素值相似度。然后在每个像素点的邻域范围内，通过在不同预设方向下进行扩展，根据扩展区域与风机叶片图像之间像素值分布特征的差异控制扩展过程，根据扩展次数确定对应方向下的权重，进而获得每个邻域像素点的像素值权重。根据像素值权重调整对应的像素值相似度，获得每个像素点的邻域像素相似特征向量，进而进行谱聚类操作，完成对缺陷区域的定位及分割。本发明通过在谱聚类过程中的邻域相似度向量中引入纹理特征，提高了最终对于缺陷区域分割的准确性。
权利要求书clms
1.一种基于人工智能的风机叶片缺陷区域快速分割方法，其特征在于，所述方法包括：获取风机叶片图像；获取所述风机叶片图像中每个像素点在预设邻域范围内与邻域像素点之间的像素值相似度；在每个像素点的所述邻域范围内，沿着预设方向依次按照预设扩展步长进行扩展，每次扩展获得扩展区域，根据所述扩展区域内与所述风机叶片图像内像素值分布特征的差异，判断所述扩展区域是否继续扩展，直至无法扩展，根据扩展的次数确定对应方向下的权重；以每个方向下的所述权重作为所述风机叶片图像中每个像素点在预设邻域范围内所述方向对应邻域像素点的像素值权重；根据所述像素值权重及其对应的像素值相似度获得每个像素点的邻域像素相似特征向量；根据所述邻域像素相似特征向量对所述风机叶片图像进行谱聚类操作，获得聚类结果，根据所述聚类结果对叶片表面缺陷区域进行定位并分割。2.根据权利要求1所述的一种基于人工智能的风机叶片缺陷区域快速分割方法，其特征在于，所述像素值相似度的获取方法包括：在每个像素点的所述邻域范围内，以中心像素点的像素值与邻域像素点的像素值比值作为初始相似度；将所述初始相似度除以所述邻域像素点与所述中心像素点之间的距离，获得所述像素值相似度。3.根据权利要求2所述的一种基于人工智能的风机叶片缺陷区域快速分割方法，其特征在于，所述判断所述扩展区域是否继续扩展的方法包括：在所述风机叶片图像中，以非边缘像素点的平均像素值与边缘像素点的平均像素值之间的比值作为整体像素值分布特征；在所述扩展区域中，若平均像素值相似度与所述整体像素值分布特征之间的差异大于预设判断指标，则认为满足扩展条件，所述扩展区域能够继续扩展；反之则不能继续扩展。4.根据权利要求1所述的一种基于人工智能的风机叶片缺陷区域快速分割方法，其特征在于，所述根据扩展的次数确定对应方向下的权重包括：将扩展的次数归一化，获得对应方向下的权重。5.根据权利要求1所述的一种基于人工智能的风机叶片缺陷区域快速分割方法，其特征在于，所述根据所述像素值权重及其对应的像素值相似度获得每个像素点的邻域像素相似特征向量包括：所述风机叶片图像中每个像素点所述邻域范围内的所述像素值相似度构成像素值相似度矩阵；所述邻域范围内各个所述邻域像素点的所述像素值权重构成像素值权重矩阵；将所述像素值相似度矩阵与所述像素值权重矩阵中对应位置的元素相乘，获得初始邻域像素相似特征矩阵；将所述初始邻域像素相似特征矩阵展开为向量形式，并将每个元素归一化，获得所述邻域像素相似特征向量。6.一种基于人工智能的风机叶片缺陷区域快速分割系统，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1~5任意一项所述方法的步骤。
说明书desc
技术领域本发明涉及图像处理技术领域，具体涉及一种基于人工智能的风机叶片缺陷区域快速分割方法及系统。背景技术一般风机叶片的缺陷类型可以分为：裂纹、磨损、变形和粘连，其中，裂纹表示风机叶片在制造过程中或者使用过程中可能会出现的细小裂痕，通常表现为叶片表面的裂纹或者裂纹坑。这种缺陷因为与正常叶片区域存在明显的图像特征差异，因此现有技术中可通过聚类算法对图像中的缺陷进行分割。为了最终的聚类效果，可通过谱聚类算法对图像进行处理，在通过谱聚类对风机叶片缺陷进行分割时，先通过前处理算法获得K-means聚类的K值，进而通过K-means聚类获得最终分割结果。但是在谱聚类的前处理过程中，需要构建每个像素点的邻域相似度向量，而常规的邻域相似度向量仅通过像素值获得，而对于风机叶片图像中的缺陷而言，因为细小裂痕的特征并不明显，因此若仅通过邻域像素点的像素值获得相似度向量，则会使得最终聚类结果获得的缺陷区域不准确，影响缺陷区域分割结果。发明内容为了解决谱聚类的前过程在风机叶片图像中处理效果不佳进而导致缺陷分割效果较差的技术问题，本发明的目的在于提供一种基于人工智能的风机叶片缺陷区域快速分割方法及系统，所采用的技术方案具体如下：本发明提出了一种基于人工智能的风机叶片缺陷区域快速分割方法，所述方法包括：获取风机叶片图像；获取所述风机叶片图像中每个像素点在预设邻域范围内与邻域像素点之间的像素值相似度；在每个像素点的所述邻域范围内，沿着预设方向依次按照预设扩展步长进行扩展，每次扩展获得扩展区域，根据所述扩展区域内与所述风机叶片图像内像素值分布特征的差异，判断所述扩展区域是否继续扩展，直至无法扩展，根据扩展的次数确定对应方向下的权重；以每个方向下的所述权重作为所述风机叶片图像中每个像素点在预设邻域范围内所述方向对应邻域像素点的像素值权重；根据所述像素值权重及其对应的像素值相似度获得每个像素点的邻域像素相似特征向量；根据所述邻域像素相似特征向量对所述风机叶片图像进行谱聚类操作，获得聚类结果，根据所述聚类结果对叶片表面缺陷区域进行定位并分割。进一步地，所述像素值相似度的获取方法包括：在每个像素点的所述邻域范围内，以中心像素点的像素值与邻域像素点的像素值比值作为初始相似度；将所述初始相似度除以所述邻域像素点与所述中心像素点之间的距离，获得所述像素值相似度。进一步地，所述判断所述扩展区域是否继续扩展的方法包括：在所述风机叶片图像中，以非边缘像素点的平均像素值与边缘像素点的平均像素值之间的比值作为整体像素值分布特征；在所述扩展区域中，若平均像素值相似度与所述整体像素值分布特征之间的差异大于预设判断指标，则认为满足扩展条件，所述扩展区域能够继续扩展；反之则不能继续扩展。进一步地，所述根据扩展的次数确定对应方向下的权重包括：将扩展的次数归一化，获得对应方向下的权重。进一步地，所述根据所述像素值权重及其对应的像素值相似度获得每个像素点的邻域像素相似特征向量包括：所述风机叶片图像中每个像素点所述邻域范围内的所述像素值相似度构成像素值相似度矩阵；所述邻域范围内各个所述邻域像素点的所述像素值权重构成像素值权重矩阵；将所述像素值相似度矩阵与所述像素值权重矩阵中对应位置的元素相乘，获得初始邻域像素相似特征矩阵；将所述初始邻域像素相似特征矩阵展开为向量形式，并将每个元素归一化，获得所述邻域像素相似特征向量。本发明还提出了一种基于人工智能的风机叶片缺陷区域快速分割系统，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现任意一项所述基于人工智能的风机叶片缺陷区域快速分割方法的步骤。本发明具有如下有益效果：本发明首先根据像素点邻域范围内的像素值获得像素值相似度，进而通过扩展操作分析像素点的邻域范围内每个方向下的纹理特征，通过依次对不同方向进行扩展，并且分析扩展区域与风机叶片图像内像素值分布差异的特征，判断该方向下包含的纹理特征信息量，即扩展的次数越多，说明对应方向下的纹理信息越多，则需要增强该方向下的特征，因此获得每个方向下的权重，进而通过每个方向下对应的邻域像素点的像素值权重对像素值相似度进行调整，获得邻域像素相似特征向量。因为邻域像素相似特征向量中包含纹理信息，因此基于邻域像素相似特征向量进行的谱聚类操作能够将裂痕缺陷像素点有效的分为一类，减少了分割误差，增强了风机叶片图像中缺陷区域的分割效果。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种基于人工智能的风机叶片缺陷区域快速分割方法流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种基于人工智能的风机叶片缺陷区域快速分割方法及系统，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种基于人工智能的风机叶片缺陷区域快速分割方法及系统的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种基于人工智能的风机叶片缺陷区域快速分割方法流程图，该方法包括：步骤S1：获取风机叶片图像；获取所述风机叶片图像中每个像素点在预设邻域范围内与邻域像素点之间的像素值相似度。在生产阶段，生产完毕后的风机叶片会在车间运输过程中发生剐蹭、碰撞等操作，进而在风机叶片表面产生划痕缺陷，因此在对风机叶片进行包装售卖之前，需要对其进行缺陷检测。在本发明实施例中，将生产完毕的风机叶片放置在缺陷检测流水线的传送带上，传送带上方部署有工业相机，通过垂直向下的视角拍摄风机叶片的表面图像。在本发明实施例中，为了后续图像处理过程中的效率与精度，需要对表面图像进行图像预处理操作，增强图像质量，获得风机叶片图像。需要说明的是，图像预处理操作为本领域技术人员熟知的技术手段，在其他实施例中可根据具体实施场景自行选取图像预处理手段，在本发明实施例中，先表面图像进行灰度化处理，然后通过直方图均衡化增强图像对比度，进而获得风机叶片图像用于后续的图像处理。谱聚类算法的简要步骤包括：首先构建表示对象集的相似度矩阵；然后通过像素点矩阵或者拉普拉斯矩阵的前K个特征值与特征向量，构建特征向量空间；最后利用K-means聚类算法对特征向量空间中的特征向量进行聚类。而传统的相似度矩阵仅是根据像素值确定的，而风机叶片表面的裂痕缺陷存在较为明显的纹理以及走势特征，因此为了在谱聚类过程中增加纹理信息，需要首先获得原始的像素值相似度，即获取风机叶片图像中每个像素点在预设邻域范围内与邻域像素点之间的像素值相似度。在本发明一个实施例中，邻域范围设置为八邻域。需要说明的是，谱聚类算法为本领域技术人员熟知的技术手段，具体过程在此不再赘述。优选地，本发明一个实施例中，像素值相似度的获取方法包括：在每个像素点的邻域范围内，以中心像素点的像素值与邻域像素点的像素值比值，作为初始相似度；将初始相似度除以邻域像素点与中心像素点之间的距离，获得像素值相似度。在本发明一个实施例中像素值相似度用公式表示为：其中，为第/＞个邻域像素点的像素值相似度，/＞为中心像素点的像素值，/＞为第/＞个邻域像素点的像素值，/＞为第/＞个邻域像素点与中心像素点之间的距离。由像素值相似度的公式可知，表示像素值比值，像素值比值越接近于1，则相似度越大。进一步引入邻域像素点与中心像素点之间的距离，距离越远说明两个像素点之间的相关性越差，则对应的像素值相似度越小。因为像素值相似度中表示像素值差异是通过比值形式，因此在后续通过权重调整过程中能够放大像素点之间的特征，更方便后续聚类分析。需要说明的是，因为本发明一个实施例中邻域范围设置为八邻域范围，因此八个邻域像素点与中心像素点之间的距离均为1，其单位为像素点数量。步骤S2：在每个像素点的邻域范围内，沿着不同预设方向依次进行扩展，每次扩展获得扩展区域，根据扩展区域内与风机叶片图像内像素值分布特征的差异，判断扩展区域是否继续扩展，直至无法扩展，根据扩展的次数确定对应方向下的权重，以每个方向下的权重作为风机叶片图像中每个像素点在预设邻域范围内方向对应邻域像素点的像素值权重。因为风机叶片表面的裂痕缺陷存在明显的纹理以及走势特征，因此为了在谱聚类的相似度矩阵中添加纹理信息，需要判断像素点邻域范围内是否存在边缘像素点并且确定存在的边缘像素点的走势。因此在每个像素点的邻域范围内，设置不同预设方向，在每个预设方向下，沿着预设方向依次按照预设扩展步长进行扩展，每次扩展即可获得扩展区域。若扩展后的扩展区域中包含边缘像素点，则说明对应方向下存在裂痕缺陷像素点的概率越大，进而继续扩展，扩展的次数越多即说明对应方向下具有明显的边缘走势。因为风机叶片表面正常像素点的像素值都是一致的，因此可根据扩展区域内与风机叶片图像内像素值分布特征的差异判断扩展区域是否继续扩展，若判断为继续扩展，说明当前扩展区域的像素值分布特征与风机叶片图像整体的像素值分布特征存在差异，即扩展区域内存在边缘像素点，可继续进行扩展，直至无法扩展，可根据扩展的次数确定对应方向下的权重。即扩展的次数越多，说明对应方向为裂痕缺陷走势的概率的越大，则对应的权重越大。因为每个方向下均对应邻域像素点，因此以每个方向下的权重作为风机叶片图像中每个像素点在预设邻域范围内方向对应邻域像素点的像素值权重。在本发明一个实施例中，因为邻域范围设置为八邻域范围，则方向可设置为八个方向，每个方向对应一个邻域像素点，将扩展步长设置为1，即每次扩展1个像素点。优选地，判断扩展区域是否继续扩展的方法包括：在风机叶片图像中，以非边缘像素点的平均像素值与边缘像素点的平均像素值之间的比值作为整体像素值分布特征；在扩展区域中，若平均像素值相似度与整体像素值分布特征之间的差异大于预设判断指标，则认为满足扩展条件，扩展区域能够继续扩展；反之则不能继续扩展。在本发明实施例中，获得风机叶片图像中的边缘像素点和非边缘像素点可直接通过canny算子边缘检测算法进行检测，其为本领域技术人员熟知的技术手段，在此不做赘述。需要说明的是，通过边缘检测算法获得的边缘像素点并不能直接认定为裂痕缺陷像素点，因为风扇叶片表面可能存在花纹、光线、噪声等其他的边缘信息，因此需要后续通过聚类算法将缺陷区域进行准确分割。在风机叶片图像中，因为非边缘像素点相对于边缘像素点更多，因此整体像素值分布特征表示更多的正常像素点信息，因为像素值相似度公式中是以两个像素点之间的像素值的比值作为像素值相似度，所以当平均像素值相似度与所述整体像素值分布特征之间的差异大于预设指标时，说明扩展区域中包含的边缘像素点较多，纹理特征较为明显，因此可以继续沿着此方向进行扩展；若差异不大于预设指标，说明扩展区域内的像素值分布特征相对于整体像素值分布特征而言差异较小，包含的正常像素点信息更多，则不能继续扩展。在本发明实施例中，将整体像素值分布特征与扩展区域的平均像素值相似度的差异进行归一化，将判断指标设置为0.3，即当整体像素值分布特征与扩展区域的平均像素值相似度的差异大于0.3时，认为扩展区域与风机叶片图像之间的像素值分布特征存在较大的差异，扩展区域能够继续扩展。若无法继续扩展，说明此时扩展区域内的像素值分布特征与风机叶片图像整体的像素值分布特征较为相似，则停止扩展。需要说明的是，为了防止陷入无限扩展死循环，在本发明一个实施例中设置一个扩展次数门限值，当扩展次数到达门限值后停止扩展，扩展次数门限值设置为10。扩展次数越多，说明该方向下的纹理信息越明显，纹理趋势越强，因此根据扩展的次数确定对应方向下的权重，权重越大说明对应方向下包含的纹理特征和纹理走势特征越强。又因为每个方向均有对应的邻域像素点，因此可以每个方向下的权重作为风机叶片图像中每个像素点在预设邻域范围内方向对应邻域像素点的像素值权重。步骤S3：根据像素值权重及其对应的像素值相似度获得每个像素点的邻域像素相似特征向量；根据邻域像素相似特征向量对风机叶片图像进行谱聚类操作，获得聚类结果，根据聚类结果对叶片表面缺陷区域进行定位并分割。根据步骤S2获得每个邻域像素点的像素值权重，因此可根据像素值权重及其对应的像素值相似度获得每个像素点的邻域像素相似特征向量，通过像素值权重对像素值相似度的调整，可使得所获得的邻域像素相特征向量中包含纹理信息，因此在后续聚类操作过程中可通过邻域像素相似特征向量准确的将同样具有邻域边缘特征的像素点聚为一类，进而实现对风机叶片表面裂痕缺陷的准确分割。优选地，本发明一个实施例中将扩展的次数归一化，获得对应方向下的权重。优选地，本发明一个实施例中根据所述像素值权重及其对应的像素值相似度获得每个像素点的邻域像素相似特征向量包括：风机叶片图像中每个像素点邻域范围内的像素值相似度构成像素值相似度矩阵；邻域范围内各个邻域像素点的像素值权重构成像素值权重矩阵；将像素值相似度矩阵与像素值权重矩阵中对应位置的元素相乘，获得初始邻域像素相似特征矩阵；将初始邻域像素相似特征矩阵展开为向量形式，并将每个元素归一化，获得邻域像素相似特征向量。需要说明的是，矩阵的构建与展开为本领域技术人员熟知的技术手段，在此不做赘述。获得邻域像素相似特征向量后可继续进行谱聚类操作，通过将每个像素的邻域像素相似特征向量进行排列，获得特征向量矩阵，该特征向量矩阵即为谱聚类算法中的相似度矩阵，对相似度矩阵进行拉普拉斯矩阵的特征分解即可获得聚类数目K，进一步通过K-means聚类算法即可进行准确的聚类分割，因为风机叶片表面缺陷具有明显并且独特的形状特征，通过聚类分割所获得的区域结果中根据形状特征即可筛选出缺陷区域。需要说明的是，谱聚类的具体操作为本领域技术人员熟知的技术手段，根据区域的形状特征识别出缺陷区域以及缺陷区域的类别也为本领域技术人员熟知的技术手段，在此不做赘述。综上所述，本发明首先获取像素点与邻域范围内每个邻域像素点之间的像素值相似度。然后在每个像素点的邻域范围内，通过在不同预设方向下进行扩展，根据扩展区域与风机叶片图像之间像素值分布特征的差异控制扩展过程，根据扩展次数确定对应方向下的权重，进而获得每个邻域像素点的像素值权重。根据像素值权重调整对应的像素值相似度，获得每个像素点的邻域像素相似特征向量，进而进行谱聚类操作，完成对缺陷区域的定位及分割。本发明还提出了一种基于人工智能的风机叶片缺陷区域快速分割系统包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，处理器执行计算机程序时实现任意一项基于人工智能的风机叶片缺陷区域快速分割方法的步骤。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。
