标题title
一种基于深度学习的三维玩具设计方法
摘要abst
本发明涉及深度学习技术领域，公开了一种基于深度学习的三维玩具设计方法，包括以下步骤：通过三维玩具模型数据生成模型类型特征；通过三维玩具模型数据生成模型整体特征；提取连接特征；构建三维玩具模型生成模型，包括组合器、生成器和判别器；训练三维玩具模型生成模型；使用三维玩具模型生成模型输出第一特征；将第一特征转化为生成三维玩具模型文件；本发明基于现有的三维玩具模型混合玩具类型特征训练三维玩具模型生成模型，基于用户输入的类型标签来自动生成匹配用户需求的三维玩具模型；训练时混合了多部件三维玩具模型之间的连接特征，生成多部件的组合式三维玩具模型，保证三维玩具模型整体性的同时不会出现部件打印后无法拼接的问题。
权利要求书clms
1.一种基于深度学习的三维玩具设计方法，其特征在于，包括以下步骤：步骤一：通过三维玩具模型数据生成模型类型特征；三维玩具模型数据包括三维玩具模型文件，一个三维玩具模型文件对应一个三维玩具标签；步骤二：通过三维玩具模型数据生成模型整体特征；模型整体特征表示为：，其中/＞表示其中的第b行的第v列的元素，并表示三维玩具模型的第v个顶点的第b个维度，每个顶点包括六个维度，分别对应于顶点的三维坐标和顶点的法线向量的三个维度；M表示三维玩具模型的顶点序号极大值；步骤三：提取连接特征；连接特征表示为：，其中/＞表示其中的第m列的元素，并表示三维玩具模型的第m个顶点的连接值，连接值为0表示该顶点不是连接面的顶点，连接值为1表示该顶点是连接面的顶点；M表示顶点序号极大值；步骤四：构建三维玩具模型生成模型，包括组合器、生成器和判别器；组合器用于混合随机噪声向量和模型类型特征获得混合特征；步骤五：训练三维玩具模型生成模型；将混合特征输入生成器，生成器输出第一特征；将训练集的三维玩具模型数据的模型整体特征混合连接特征后输入判别器或将第一特征输入判别器；步骤六：基于用户输入的三维玩具标签生成模型类型特征，输入模型类型特征到三维玩具模型生成模型，三维玩具模型生成模型的生成器生成对应模型类型特征的第一特征；第一特征表示为，其中/＞分别表示三维玩具模型的第v个顶点的六个维度，六个维度对应于顶点的三维坐标和顶点的法线向量的三个维度；/＞表示三维玩具模型的第v个顶点的连接值；M表示三维玩具模型的顶点序号极大值；步骤七：将第一特征转化为生成三维玩具模型文件。2.根据权利要求1所述的一种基于深度学习的三维玩具设计方法，其特征在于，三维玩具标签包括颜色标签、透明度标签和材质标签；一个三维玩具模型数据生成的模型类型特征表示为：，其中分别表示该三维玩具模型数据的颜色标签、透明度标签和材质标签；颜色标签属于颜色标签集合，颜色标签集合表示为：，其中的元素分别表示颜色为红色、橙色、黄色、绿色、青色、蓝色和紫色；透明度标签属于透明度标签集合，透明度标签集合表示为：，其中的元素分别表示一个透明度值；材质标签属于材质标签集合，材质标签集合表示为：，其中的元素分别表示塑料、木材、金属。3.根据权利要求1所述的一种基于深度学习的三维玩具设计方法，其特征在于，如果三维玩具模型的顶点的最大序号值为K，K＜M，则对模型整体特征的第K列至第M列之间的列和第M列的元素赋值为0。4.根据权利要求1所述的一种基于深度学习的三维玩具设计方法，其特征在于，三维玩具模型数据的三维玩具模型文件包括三维玩具模型网格化之后的顶点的序号、顶点的坐标值、顶点法线向量；三维玩具模型文件的顶点坐标集合表示为：，其中/＞表示序号值为1的顶点的顶点三维坐标值；三维玩具模型文件的顶点法线向量集合表示为：，其中/＞表示序号值为1的顶点的顶点法线向量三个维度。5.根据权利要求1所述的一种基于深度学习的三维玩具设计方法，其特征在于，通过人工标注的方式对三维玩具部件模型的连接面的顶点进行标注。6.根据权利要求1所述的一种基于深度学习的三维玩具设计方法，其特征在于，如果三维玩具模型的顶点的最大序号值为K，K＜M，则对连接特征的第K列至第M列之间的列和第M列的元素赋值为0。7.根据权利要求1所述的一种基于深度学习的三维玩具设计方法，其特征在于，随机噪声向量随机生成；随机噪声向量的维度数等于模型整体特征和连接特征向量化之后的总维度数。8.根据权利要求1所述的一种基于深度学习的三维玩具设计方法，其特征在于，三维玩具模型生成模型的生成器的损失函数表示为：，其中，n表示训练集的训练样本的数量，表示第i个训练样本的第一特征输入到判别器输出分类标签是对应输入包含训练样本的模型整体特征的概率值；三维玩具模型生成模型的判别器的损失函数表示为：，其中，n表示训练集的训练样本的数量，表示将第i训练样本的模型整体特征混合连接特征输入到判别器输出分类标签是对应输入包含训练样本的模型整体特征的概率值，/＞表示第i个训练样本的第一特征输入到判别器输出的分类标签是对应输入包含训练样本的模型整体特征的概率值。9.根据权利要求1所述的一种基于深度学习的三维玩具设计方法，其特征在于，生成三维玩具模型文件包括顶点坐标集合、顶点法线向量集合和顶点连接值集合。10.根据权利要求9所述的一种基于深度学习的三维玩具设计方法，其特征在于，基于生成三维玩具模型文件生成整体三维模型，根据属于切面的顶点切割整体三维模型，获得三维模型部件，基于获得的三维模型部件映射到新的坐标空间重新建立坐标系来生成每个三维模型部件的顶点坐标。
说明书desc
技术领域本发明涉及深度学习技术领域，更具体地说，它涉及一种基于深度学习的三维玩具设计方法。背景技术三维玩具模型是立体模型，无法通过现有的图像生成软件进行生成，需要专业的设计人员进行建模设计。发明内容本发明提供一种基于深度学习的三维玩具设计方法，解决相关技术中三维玩具模型必须要专业的设计人员进行建模设计的技术问题。本发明提供了一种基于深度学习的三维玩具设计方法，包括以下步骤：步骤一：通过三维玩具模型数据生成模型类型特征；三维玩具模型数据包括三维玩具模型文件，一个三维玩具模型文件对应一个三维玩具标签；步骤二：通过三维玩具模型数据生成模型整体特征；模型整体特征表示为：，其中/＞表示其中的第b行的第v列的元素，并表示三维玩具模型的第v个顶点的第b个维度，每个顶点包括六个维度，分别对应于顶点的三维坐标和顶点的法线向量的三个维度；M表示三维玩具模型的顶点序号极大值；步骤三：提取连接特征；连接特征表示为：，其中/＞表示其中的第m列的元素，并表示三维玩具模型的第m个顶点的连接值，连接值为0表示该顶点不是连接面的顶点，连接值为1表示该顶点是连接面的顶点；M表示顶点序号极大值；步骤四：构建三维玩具模型生成模型，包括组合器、生成器和判别器；组合器用于混合随机噪声向量和模型类型特征获得混合特征；步骤五：训练三维玩具模型生成模型；将混合特征输入生成器，生成器输出第一特征；将训练集的三维玩具模型数据的模型整体特征混合连接特征后输入判别器或将第一特征输入判别器；步骤六：基于用户输入的三维玩具标签生成模型类型特征，输入模型类型特征到三维玩具模型生成模型，三维玩具模型生成模型的生成器生成对应模型类型特征的第一特征；第一特征表示为，其中/＞分别表示三维玩具模型的第v个顶点的六个维度，六个维度对应于顶点的三维坐标和顶点的法线向量的三个维度；表示三维玩具模型的第v个顶点的连接值；M表示三维玩具模型的顶点序号极大值；步骤七：将第一特征转化为生成三维玩具模型文件。进一步地，三维玩具标签包括颜色标签、透明度标签和材质标签；一个三维玩具模型数据生成的模型类型特征表示为：，其中分别表示该三维玩具模型数据的颜色标签、透明度标签和材质标签；颜色标签属于颜色标签集合，颜色标签集合表示为：，其中的元素分别表示颜色为红色、橙色、黄色、绿色、青色、蓝色和紫色；透明度标签属于透明度标签集合，透明度标签集合表示为：，其中的元素分别表示一个透明度值；材质标签属于材质标签集合，材质标签集合表示为：，其中的元素分别表示塑料、木材、金属。进一步地，如果三维玩具模型的顶点的最大序号值为K，K＜M，则对模型整体特征的第K列至第M列之间的列和第M列的元素赋值为0。进一步地，三维玩具模型数据的三维玩具模型文件包括三维玩具模型网格化之后的顶点的序号、顶点的坐标值、顶点法线向量；顶点法线向量用于确定三角形面片的朝向；三维玩具模型文件的顶点坐标集合表示为：，其中/＞表示序号值为1的顶点的顶点三维坐标值；三维玩具模型文件的顶点法线向量集合表示为：，其中/＞表示序号值为1的顶点的顶点法线向量三个维度。进一步地，通过人工标注的方式对三维玩具部件模型的连接面的顶点进行标注。进一步地，如果三维玩具模型的顶点的最大序号值为K，K＜M，则对连接特征的第K列至第M列之间的列和第M列的元素赋值为0。进一步地，随机噪声向量随机生成；随机噪声向量的维度数等于模型整体特征和连接特征向量化之后的总维度数。进一步地，三维玩具模型生成模型的生成器的损失函数表示为：，其中，n表示训练集的训练样本的数量，表示第i个训练样本的第一特征输入到判别器输出分类标签是对应输入包含训练样本的模型整体特征的概率值；三维玩具模型生成模型的判别器的损失函数表示为：，其中，n表示训练集的训练样本的数量，表示将第i训练样本的模型整体特征混合连接特征输入到判别器输出分类标签是对应输入包含训练样本的模型整体特征的概率值，/＞表示第i个训练样本的第一特征输入到判别器输出的分类标签是对应输入包含训练样本的模型整体特征的概率值。进一步地，生成三维玩具模型文件包括顶点坐标集合、顶点法线向量集合和顶点连接值集合。进一步地，基于生成三维玩具模型文件生成整体三维模型，根据属于切面的顶点切割整体三维模型，获得三维模型部件，基于获得的三维模型部件映射到新的坐标空间重新建立坐标系来生成每个三维模型部件的顶点坐标。本发明的有益效果在于：本发明基于现有的三维玩具模型混合玩具类型特征训练三维玩具模型生成模型，能够基于用户根据自己需求输入的类型标签来自动生成匹配用户需求的三维玩具模型；训练时混合了多部件三维玩具模型之间的连接特征，能够生成多部件的组合式三维玩具模型，保证三维玩具模型整体性的同时不会出现部件打印后无法拼接的问题。附图说明图1是本发明的一种基于深度学习的三维玩具设计方法步骤图。具体实施方式现在将参考示例实施方式讨论本文描述的主题。应该理解，讨论这些实施方式只是为了使得本领域技术人员能够更好地理解从而实现本文描述的主题，可以在不脱离本说明书内容的保护范围的情况下，对所讨论的元素的功能和排列进行改变。各个示例可以根据需要，省略、替代或者添加各种过程或组件。另外，相对一些示例所描述的特征在其他例子中也可以进行组合。如图1所示，一种基于深度学习的三维玩具设计方法，包括：步骤一：通过三维玩具模型数据生成模型类型特征；三维玩具模型数据包括三维玩具模型文件，一个三维玩具模型文件对应一个三维玩具标签；三维玩具标签包括颜色标签、透明度标签和材质标签；一个三维玩具模型数据生成的模型类型特征表示为：，其中分别表示该三维玩具模型数据的颜色标签、透明度标签和材质标签；颜色标签属于颜色标签集合，颜色标签集合表示为：，其中的元素分别表示颜色为红色、橙色、黄色、绿色、青色、蓝色和紫色，/＞的元素值通过一个实数值表示；比如/＞赋值为1.7；透明度标签属于透明度标签集合，透明度标签集合表示为：，其中的元素分别表示一个透明度值；/＞表示透明度为100，/＞表示透明度为0；材质标签属于材质标签集合，材质标签集合表示为：，其中的元素分别表示塑料、木材、金属，/＞的元素值通过一个实数值表示；比如/＞赋值为1.3；三维玩具模型文件的格式为.obj。步骤二：通过三维玩具模型数据生成模型整体特征；模型整体特征表示为：其中，表示其中的第b行的第v列的元素，表示三维玩具模型的第v个顶点的第b个维度，每个顶点包括六个维度，分别对应于顶点的三维坐标和顶点的法线向量的三个维度；M表示三维玩具模型的顶点序号极大值，如果三维玩具模型的顶点的最大序号值为K，K＜M，则对第K列至第M列之间的列和第M列的元素赋值为0；在本发明的一个实施例中，M为自定义参数。在本发明的一个实施例中，顶点序号极大值是训练集的三维玩具模型的顶点序号数量的最大值。一个三维玩具模型是通过三角形面片网格化表示，将一个三维玩具模型表面划分为若干个三角形面片；三维玩具模型数据的三维玩具模型文件包括三维玩具模型网格化之后的顶点的序号、顶点的坐标值、顶点法线向量；顶点法线向量用于确定三角形面片的朝向；三维玩具模型文件的顶点坐标集合表示为：，其中/＞表示序号值为1的顶点的顶点三维坐标值；三维玩具模型文件的顶点法线向量集合表示为：，其中表示序号值为1的顶点的顶点法线向量三个维度；在本发明的一个实施例中，顶点坐标集合归一化，为了消除不同三维玩具模型存在不同的尺寸影响，通过归一化将顶点坐标集合的元素值进行归一化；在本发明的一个实施例中，顶点法线向量集合归一化，通过归一化将顶点法线向量集合的元素值进行归一化。步骤三：提取连接特征；一个完整的三维玩具模型由多个三维玩具部件模型通过堆叠或者连接的方式获得，通过人工标注的方式对一个完整的三维玩具模型的三维玩具部件模型的连接面的顶点进行标注；连接特征表示为：，其中表示其中的第m列的元素，并表示三维玩具模型的第m个顶点的连接值，连接值为0表示该顶点不是连接面的顶点，连接值为1表示该顶点是连接面的顶点；M表示顶点序号极大值，如果三维玩具模型的顶点的最大序号值为K，K＜M，则对第K列至第M列之间的列和第M列的元素赋值为0；步骤四：构建三维玩具模型生成模型，包括组合器、生成器和判别器；组合器用于混合随机噪声向量和模型类型特征获得混合特征；随机噪声向量随机生成；随机噪声向量的维度数等于模型整体特征和连接特征向量化之后的总维度数。步骤五：训练三维玩具模型生成模型；将混合特征输入生成器，生成器输出第一特征；将训练集的三维玩具模型数据的模型整体特征混合连接特征后输入判别器或将第一特征输入判别器；训练集通过现有的三维玩具模型数据进行构建。生成器和判别器的对抗训练为常规技术手段，在本发明的一个实施例中，判别器输出层为softmax分类层，分类空间二分类，两个分类标签分别对应输入包含训练样本的模型整体特征、输入不包含训练样本的模型整体特征；三维玩具模型生成模型的生成器的损失函数表示为：，其中，n表示训练集的训练样本的数量，表示第i个训练样本的第一特征输入到判别器输出分类标签是对应输入包含训练样本的模型整体特征的概率值；三维玩具模型生成模型的判别器的损失函数表示为：，其中，n表示训练集的训练样本的数量，表示将第i训练样本的模型整体特征混合连接特征输入到判别器输出分类标签是对应输入包含训练样本的模型整体特征的概率值，/＞表示第i个训练样本的第一特征输入到判别器输出的分类标签是对应输入包含训练样本的模型整体特征的概率值；步骤六：使用三维玩具模型生成模型输出第一特征；基于用户输入的三维玩具标签生成模型类型特征，输入模型类型特征到三维玩具模型生成模型，三维玩具模型生成模型的生成器生成对应模型类型特征的第一特征；第一特征表示为其中，分别表示三维玩具模型的第v个顶点的六个维度，六个维度对应于顶点的三维坐标和顶点的法线向量的三个维度；/＞表示三维玩具模型的第v个顶点的连接值；M表示三维玩具模型的顶点序号极大值。在本发明的一个实施例中，通过反归一化对第一特征的元素进行处理；步骤七：将第一特征转化为生成三维玩具模型文件。生成三维玩具模型文件包括顶点坐标集合、顶点法线向量集合和顶点连接值集合。基于生成三维玩具模型文件生成整体三维模型，根据属于切面的顶点切割整体三维模型，获得三维模型部件，基于获得的三维模型部件映射到新的坐标空间重新建立坐标系来生成每个三维模型部件的顶点坐标。进一步地，结合三维打印技术，使用绿色环保材料将三维玩具模型部件打印为真实的三维玩具部件。上面对本实施例的实施例进行了描述，但是本实施例并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本实施例的启示下，还可做出很多形式，均属于本实施例的保护之内。
