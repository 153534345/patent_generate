标题title
一种车辆过弯冲撞路侧护栏的风险评估方法及系统
摘要abst
本发明实施例提供一种车辆过弯冲撞路侧护栏的风险评估方法及系统，包括：基于所述车辆通过弯道的俯拍视频数据，对所述视频数据中的车辆进行标定跟踪并标定护栏特征点；根据车辆过弯全程的位置坐标数据拟合得到车辆过弯全程的行车轨迹曲线；根据所标定护栏特征点的坐标数据拟合得到护栏线形拟合曲线；计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；计算每个位置坐标处的车辆与护栏的距离碰撞时间；根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险，本发明实施例实现了以TTC作为交通冲突判别指标，评价弯道路段车辆冲撞护栏风险的目的。
权利要求书clms
1.一种车辆过弯冲撞路侧护栏的风险评估方法，其特征在于，包括：获取车辆通过弯道的俯拍视频数据；基于所述车辆通过弯道的俯拍视频数据，对所述视频数据中的车辆进行标定跟踪并标定护栏特征点；根据车辆过弯全程的位置坐标数据拟合得到车辆过弯全程的行车轨迹曲线；根据所标定护栏特征点的坐标数据拟合得到护栏线形拟合曲线；根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；根据车辆过弯全程的每个位置坐标的行驶速度数据和与每个位置坐标处的车辆对应的碰撞点坐标数据，计算每个位置坐标处的车辆与护栏的距离碰撞时间；根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险。2.如权利要求1所述车辆过弯冲撞路侧护栏的风险评估方法，其特征在于，还包括：从俯拍视频数据中提取车辆过弯全程的位置坐标数据、行驶速度数据以及所标定护栏特征点的坐标数据。3.如权利要求1所述车辆过弯冲撞路侧护栏的风险评估方法，其特征在于，车辆通过弯道的俯拍视频数据包括弯道路段道路几何特征和车辆行驶状况；所述弯道路段道路几何特征包括道路宽度和道路车道数信息；所述车辆行驶状况包括车辆行驶方向、行驶速度和行驶轨迹坐标。4.如权利要求1所述车辆过弯冲撞路侧护栏的风险评估方法，其特征在于，根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险；包括：根据所有位置坐标处的车辆与护栏的距离碰撞时间的最小值，判断当前车辆通过所述弯道的冲撞护栏的风险。5.如权利要求4所述车辆过弯冲撞路侧护栏的风险评估方法，其特征在于，计算每个位置坐标处的车辆与护栏的距离碰撞时间包括：根据公式和计算每个位置坐标处的车辆与护栏的距离碰撞时间TTC；TTCn＝dn/Vn其中，TTC表示距离碰撞时间，n为1,2,3……N,N为正整数，表示每个位置的序数；d为每个位置坐标处的车辆到对应的碰撞点坐标的距离；V表示每个位置坐标处的车辆的行驶速度；每个位置坐标处的车辆的坐标为,每个位置坐标处的车辆对应的碰撞点坐标为。6.如权利要求1所述车辆过弯冲撞路侧护栏的风险评估方法，其特征在于，根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；包括：计算过弯全程车辆的行车轨迹曲线的切线方程；根据所述切线方程计算过弯全程行车轨迹曲线上每个位置坐标处的切线与护栏曲线的交点坐标，得到过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据。7.一种车辆过弯冲撞路侧护栏的风险评估系统，其特征在于，包括：获取单元，用于获取车辆通过弯道的俯拍视频数据；处理单元，用于基于所述车辆通过弯道的俯拍视频数据，对所述视频数据中的车辆进行标定跟踪并标定护栏特征点；拟合单元，用于根据车辆过弯全程的位置坐标数据拟合得到车辆过弯全程的行车轨迹曲线；根据所标定护栏特征点的坐标数据拟合得到护栏线形拟合曲线；第一计算单元，用于根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；第二计算单元，用于根据车辆过弯全程的每个位置坐标的行驶速度数据和与每个位置坐标处的车辆对应的碰撞点坐标数据，计算每个位置坐标处的车辆与护栏的距离碰撞时间；以及判断单元，用于根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险。8.如权利要求7所述车辆过弯冲撞路侧护栏的风险评估系统，其特征在于，还包括提取单元，用于从俯拍视频数据中提取车辆过弯全程的位置坐标数据、行驶速度数据以及所标定护栏特征点的坐标数据。9.如权利要求7所述车辆过弯冲撞路侧护栏的风险评估系统，其特征在于，判断单元，还用于根据所有位置坐标处的车辆与护栏的距离碰撞时间的最小值，判断当前车辆通过所述弯道的冲撞护栏的风险。10.如权利要求7所述车辆过弯冲撞路侧护栏的风险评估系统，其特征在于，判断单元，还用于根据公式和计算每个位置坐标处的车辆与护栏的距离碰撞时间TTC；TTCn＝dn/Vn其中，TTC表示距离碰撞时间，n为1,2,3……N,N为正整数，表示每个位置的序数；d为每个位置坐标处的车辆到对应的碰撞点坐标的距离；V表示每个位置坐标处的车辆的行驶速度；每个位置坐标处的车辆的坐标为,每个位置坐标处的车辆对应的碰撞点坐标为。
说明书desc
技术领域本发明属于交通安全领域，本发明涉及一种车辆过弯冲撞路侧护栏的风险评估方法及系统。背景技术在公路弯道路段，由于车辆车速过快、行车路线不合理、道路线形复杂等原因冲撞护栏或冲出道路的车辆事故时有发生。传统交通安全研究领域主要依赖历史事故统计数据研究道路交通的安全性。然而，目前我国尚未建立完善的事故数据库，现存事故数据在准确性和易获得性上存在较大不足，制约了交通安全研究的发展。而交通冲突技术以观测到的交通冲突作为交通事故的替代指标来评价车辆行为及道路交通设施的安全性，由于其数据获得迅速、评价周期短、样本量大等优点获得了广泛应用。众多研究表明，交通冲突数据可以代替交通事故数据作为交通安全评价的指标。然而，传统交通冲突采集主要依赖于观测人员的长时间现场观测，并且观测人员需进行严格的培训以统一冲突辨别标准，由于冲突采集的难度大，使得交通冲突技术在交通工程中的应用存在一定的不便性。发明内容为解决现有技术中以交通冲突数据作为交通安全评价的指标，由于交通冲突数据采集难度大使得交通冲突技术的应用存在不便性的技术问题，本发明实施例提供一种车辆过弯冲撞路侧护栏的风险评估方法及系统，以实现以TTC作为交通冲突判别指标，评价弯道路段车辆冲撞护栏风险。本发明实施例通过下述技术方案实现：第一方面，本发明实施例提供一种车辆过弯冲撞路侧护栏的风险评估方法，包括：获取车辆通过弯道的俯拍视频数据；基于所述车辆通过弯道的俯拍视频数据，对所述视频数据中的车辆进行标定跟踪并标定护栏特征点；根据车辆过弯全程的位置坐标数据拟合得到车辆过弯全程的行车轨迹曲线；根据所标定护栏特征点的坐标数据拟合得到护栏线形拟合曲线；根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；根据车辆过弯全程的每个位置坐标的行驶速度数据和与每个位置坐标处的车辆对应的碰撞点坐标数据，计算每个位置坐标处的车辆与护栏的距离碰撞时间；根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险。进一步的，所述车辆过弯冲撞路侧护栏的风险评估方法还包括：从俯拍视频数据中提取车辆过弯全程的位置坐标数据、行驶速度数据以及所标定护栏特征点的坐标数据。进一步的，车辆通过弯道的俯拍视频数据包括弯道路段道路几何特征和车辆行驶状况；所述弯道路段道路几何特征包括道路宽度和道路车道数信息；所述车辆行驶状况包括车辆行驶方向、行驶速度和行驶轨迹坐标。进一步的，根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险；包括：根据所有位置坐标处的车辆与护栏的距离碰撞时间的最小值，判断当前车辆通过所述弯道的冲撞护栏的风险。进一步的，计算每个位置坐标处的车辆与护栏的距离碰撞时间包括：根据公式和计算每个位置坐标处的车辆与护栏的距离碰撞时间TTC；TTCn＝dn/Vn其中，TTC表示距离碰撞时间，n为1,2,3……N,N为正整数，表示每个位置的序数；d为每个位置坐标处的车辆到对应的碰撞点坐标的距离；V表示每个位置坐标处的车辆的行驶速度；每个位置坐标处的车辆的坐标为,每个位置坐标处的车辆对应的碰撞点坐标为。进一步的，根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；包括：计算过弯全程车辆的行车轨迹曲线的切线方程；根据所述切线方程计算过弯全程行车轨迹曲线上每个位置坐标处的切线与护栏曲线的交点坐标，得到过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据。第二方面，本发明实施例提供一种车辆过弯冲撞路侧护栏的风险评估系统，包括：获取单元，用于获取车辆通过弯道的俯拍视频数据；处理单元，用于基于所述车辆通过弯道的俯拍视频数据，对所述视频数据中的车辆进行标定跟踪并标定护栏特征点；拟合单元，用于根据车辆过弯全程的位置坐标数据拟合得到车辆过弯全程的行车轨迹曲线；根据所标定护栏特征点的坐标数据拟合得到护栏线形拟合曲线；第一计算单元，用于根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；第二计算单元，用于根据车辆过弯全程的每个位置坐标的行驶速度数据和与每个位置坐标处的车辆对应的碰撞点坐标数据，计算每个位置坐标处的车辆与护栏的距离碰撞时间；以及判断单元，用于根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险。进一步的，所述车辆过弯冲撞路侧护栏的风险评估系统还包括提取单元，用于从俯拍视频数据中提取车辆过弯全程的位置坐标数据、行驶速度数据以及所标定护栏特征点的坐标数据。进一步的，判断单元，还用于根据所有位置坐标处的车辆与护栏的距离碰撞时间的最小值，判断当前车辆通过所述弯道的冲撞护栏的风险。进一步的，判断单元，还用于根据公式和计算每个位置坐标处的车辆与护栏的距离碰撞时间TTC；TTCn＝dn/Vn其中，TTC表示距离碰撞时间，n为1,2,3……N,N为正整数，表示每个位置的序数；d为每个位置坐标处的车辆到对应的碰撞点坐标的距离；V表示每个位置坐标处的车辆的行驶速度；每个位置坐标处的车辆的坐标为,每个位置坐标处的车辆对应的碰撞点坐标为。本发明实施例与现有技术相比，具有如下的优点和有益效果：本发明实施例的一种车辆过弯冲撞路侧护栏的风险评估方法及系统，通过获取车辆通过弯道的俯拍视频数据；基于所述车辆通过弯道的俯拍视频数据，对所述视频数据中的车辆进行标定跟踪并标定护栏特征点；根据车辆过弯全程的位置坐标数据拟合得到车辆过弯全程的行车轨迹曲线；根据所标定护栏特征点的坐标数据拟合得到护栏线形拟合曲线；根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；根据车辆过弯全程的每个位置坐标的行驶速度数据和与每个位置坐标处的车辆对应的碰撞点坐标数据，计算每个位置坐标处的车辆与护栏的距离碰撞时间；根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险；从而，解决了现有技术中以交通冲突数据作为交通安全评价的指标，由于交通冲突数据采集难度大使得交通冲突技术的应用存在不便性的技术问题。附图说明为了更清楚地说明本发明示例性实施方式的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为车辆过弯冲撞路侧护栏的风险评估方法流程示意图。图2为车辆过弯冲撞路侧护栏的风险评估系统结构示意图。图3为示例的车辆过弯冲撞路侧护栏的风险评估方法流程示意图。图4为示例的Tracker软件提取数据图。图5为示例的轨迹曲线拟合图，其中最上方的实线为车辆行驶轨迹拟合曲线，最上方的虚线为车辆行驶轨迹，最下方的实线为路侧护栏拟合曲线，最下方的虚线为路侧护栏。图6为示例的交通冲突指标TTC的计算模型示意图。图7为示例的交通冲突指标TTC在拟合曲线上各车辆位置坐标的计算模型示意图，其中最上方的实线为车辆行驶轨迹拟合曲线，最上方的虚线为车辆行驶轨迹，最下方的实线为路侧护栏拟合曲线，最下方的虚线为路侧护栏。图8为示例的计算碰撞点坐标的mat l ab程序代码示意图。图9为示例的计算交通冲突指标TTC的最小值的结果截图。具体实施方式为使本发明的目的、技术方案和优点更加清楚明白，下面结合实施例和附图，对本发明作进一步的详细说明，本发明的示意性实施方式及其说明仅用于解释本发明，并不作为对本发明的限定。在以下描述中，为了提供对本发明的透彻理解阐述了大量特定细节。然而，对于本领域普通技术人员显而易见的是：不必采用这些特定细节来实行本发明。在其他实施例中，为了避免混淆本发明，未具体描述公知的结构、电路、材料或方法。在整个说明书中，对“一个实施例”、“实施例”、“一个示例”或“示例”的提及意味着：结合该实施例或示例描述的特定特征、结构或特性被包含在本发明至少一个实施例中。因此，在整个说明书的各个地方出现的短语“一个实施例”、“实施例”、“一个示例”或“示例”不一定都指同一实施例或示例。此外，可以以任何适当的组合和、或子组合将特定的特征、结构或特性组合在一个或多个实施例或示例中。此外，本领域普通技术人员应当理解，在此提供的示图都是为了说明的目的，并且示图不一定是按比例绘制的。这里使用的术语“和/或”包括一个或多个相关列出的项目的任何和所有组合。在本发明的描述中，术语“前”、“后”、“左”、“右”、“上”、“下”、“竖直”、“水平”、“高”、“低”“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明保护范围的限制。实施例为解决现有技术中以交通冲突数据作为交通安全评价的指标，由于交通冲突数据采集难度大使得交通冲突技术的应用存在不便性的技术问题，本发明实施例提通过TTC作为交通冲突判别指标，评价弯道路段车辆冲撞护栏风险。第一方面，本发明实施例提供一种车辆过弯冲撞路侧护栏的风险评估方法，参考图1所示，包括：S1.获取车辆通过弯道的俯拍视频数据；可选地，所述视频数据的获取通过无人机高空静止悬停垂直向下拍摄，飞行高度和位置根据弯道范围调整，确保视频画面包含整个弯道入弯、曲中、出弯等关键断面。所述弯道路段道路特征包括道路宽度、道路车道数信息。所述车辆行驶状况包括车辆行驶方向、行驶速度、行驶轨迹坐标。S2.基于所述车辆通过弯道的俯拍视频数据，对所述视频数据中的车辆进行标定跟踪并标定护栏特征点；可选地，运用视频分析追踪技术进行车辆以及路侧护栏特征点标定，进行行车轨迹追踪，具体如下：1)、根据视频格式，设置视频播放帧率为30帧/秒、设置播放步长为3帧/步，选取视频画面最左下角处作为坐标原点，新建定标尺标定视频中已知实际距离的两点作为距离的参照物。2)、选取视频中右转车辆的左前侧为特征区域进行识别跟踪，选取左转车辆的右前侧为特征区域进行识别跟踪。连续捕捉每3帧画面车辆特征点坐标跟踪结果为车辆的行驶轨迹，以3帧为间隔捕捉车辆特征点坐标，跟踪结果为车辆的行驶轨迹，车辆特征点在一定帧数内行驶过的轨迹为y＝f，其中x为车辆轨迹水平方向上的坐标，其中y为车辆轨迹垂直方向上的坐标，并对照所标定的参照物特征长度来确定车辆在曲线行驶时的每一帧坐标。S3.根据车辆过弯全程的位置坐标数据拟合得到车辆过弯全程的行车轨迹曲线；根据所标定护栏特征点的坐标数据拟合得到护栏线形拟合曲线；S4.根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；可选地，所述车辆轨迹特征及弯道护栏线形呈类似抛物线的曲线形式，故选择非线性拟合中的一元多项式拟合方法对坐标数据进行拟合，拟合方程形式为y＝a0+a1x+a2x2+a3x3+…anxn，拟合车辆轨迹曲线方程和护栏轨迹方程后，根据拟合多项式的决定系数R2设置拟合阶数，增加拟合阶数使多项式R2＞0.99。R2越大说明拟合的曲线和实际曲线越趋近，确保拟合方程R2＞0.99，可使拟合曲线更接近车辆的实际行驶轨迹，更好的还原护栏的轨迹曲线。S5.根据车辆过弯全程的每个位置坐标的行驶速度数据和与每个位置坐标处的车辆对应的碰撞点坐标数据，计算每个位置坐标处的车辆与护栏的距离碰撞时间；可选地，计算车辆轨迹曲线在车辆位置坐标的切线方程计算方法具体如下：车辆轨迹方程为：y＝f；车辆所在位置点为:)；对车辆轨迹方程求导得到f'；带入车辆位置坐标，得到f'，即求得曲线过点)的切线斜率；由直线的点斜式方程，得到切线的方程:y-f＝f'。所述切线方程与护栏方程的交点坐标为，联立切线方程与护栏轨迹方程解得的交点坐标即碰撞点坐标。分别代入车辆间隔3帧的位置坐标进行计算，求得车辆每隔0.1s所在的位置与护栏的潜在碰撞点坐标。S6.根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险。可选地，车辆与护栏的距离碰撞时间计算方法具体如下：某时刻车辆所在位置点为:；车辆与路侧护栏潜在碰撞点为：；则车辆到碰撞点的直线距离距离碰撞时间根据以下公式进行计算:TTC1＝d1/V1TTC2＝d2/V2TTC3＝d3/V3＝…TTCn＝dn/VnTTC＝min{TTC1,TTC2……TTCn}。进一步可选地，车辆与弯道护栏碰撞时间值作为弯道单车冲撞护栏风险的量化指标，即TTC值越小，当前车辆通过所述弯道的冲撞护栏的风险越高。从而，本发明实施例通过获取车辆通过弯道的俯拍视频数据；基于所述车辆通过弯道的俯拍视频数据，对所述视频数据中的车辆进行标定跟踪并标定护栏特征点；根据车辆过弯全程的位置坐标数据拟合得到车辆过弯全程的行车轨迹曲线；根据所标定护栏特征点的坐标数据拟合得到护栏线形拟合曲线；根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；根据车辆过弯全程的每个位置坐标的行驶速度数据和与每个位置坐标处的车辆对应的碰撞点坐标数据，计算每个位置坐标处的车辆与护栏的距离碰撞时间；根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险；从而，解决了现有技术中以交通冲突数据作为交通安全评价的指标，由于交通冲突数据采集难度大使得交通冲突技术的应用存在不便性的技术问题。进一步的，所述车辆过弯冲撞路侧护栏的风险评估方法还包括：S.从俯拍视频数据中提取车辆过弯全程的位置坐标数据、行驶速度数据以及所标定护栏特征点的坐标数据。进一步的，车辆通过弯道的俯拍视频数据包括弯道路段道路几何特征和车辆行驶状况；所述弯道路段道路几何特征包括道路宽度和道路车道数信息；所述车辆行驶状况包括车辆行驶方向、行驶速度和行驶轨迹坐标。进一步的，根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险；包括：根据所有位置坐标处的车辆与护栏的距离碰撞时间的最小值，判断当前车辆通过所述弯道的冲撞护栏的风险。进一步的，计算每个位置坐标处的车辆与护栏的距离碰撞时间包括：根据公式和计算每个位置坐标处的车辆与护栏的距离碰撞时间TTC；TTCn＝dn/Vn其中，TTC表示距离碰撞时间，即TTC为两交通参与者保持当前运行状态行驶下去至两者发生碰撞的预估时间；n为1,2,3……N,N为正整数，表示每个位置的序数；d为每个位置坐标处的车辆到对应的碰撞点坐标的距离；V表示每个位置坐标处的车辆的行驶速度；每个位置坐标处的车辆的坐标为,每个位置坐标处的车辆对应的碰撞点坐标为。进一步的，根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；包括：计算过弯全程车辆的行车轨迹曲线的切线方程；根据所述切线方程计算过弯全程行车轨迹曲线上每个位置坐标处的切线与护栏曲线的交点坐标，得到过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据。本发明实施例的方法实现了对弯道路段车辆的行车安全评价，克服了现有交通安全评价依赖于难以获取的事故数据的缺陷，填补了弯道路段车辆行车安全评价方法的空白，相比人工观测冲突进行交通安全评价的方法更准确和科学。示例性的，以包头市九峰山枣沟公路某弯道某车辆通过弯道时的车辆碰撞路侧护栏时间的计算进行示例说明。一种车辆过弯冲撞路侧护栏的风险评估方法，参考图3所示，包括步骤：步骤1、利用无人机拍摄目标弯道路段车辆过弯全过程画面，无人机高空静止悬停垂直向下拍摄，设置拍摄参数为4K/30帧，飞行高度和位置根据弯道区域大小调整，确保视频画面包含整个弯道入弯、曲中、出弯等关键断面画。拍摄时放置一块颜色鲜艳的纸板作为距离标定参照物。步骤2、对视频中的过弯车辆进行标定跟踪并标定护栏特征点。参考图4所示将无人机拍摄的视频导入Tracker软件中，根据视频格式，设置视频播放帧率为30帧/秒、设置播放步长为3帧/步，根据所拍摄视频的帧宽度和帧高度设置坐标系原点位置至画面左下角、新建定标尺标定视频中的纸板或标定视频中已知实际距离的两点为距离参照物。步骤3、提取车辆过弯全程的位置坐标、行驶速度、时间，获取所标定护栏特征点坐标数据。参考图4所示，新建质点A,选定弯道护栏上的若干点作为特征点提取坐标数据。新建质点B，标定过弯车辆靠近护栏位置标记，点击搜索，按设置步长播放画面并自动捕捉车辆过弯全过程数据。步骤4、将质点A的坐标数据，质点B的坐标以及车速数据提取保存至exce l中，参考图5所示，将质点A弯道护栏特征点坐标数据导入or igin软件进行一元多项式拟合，拟合出护栏的方程表达式，将质点B车辆过弯位置坐标数据导入or igin软件拟合出车辆过弯过程的轨迹方程表达式,九峰山枣沟公路某弯道路侧护栏拟合方程为：y＝4.40308+0.95392x-0.00325x2-0.00002398x3。步骤5、计算车辆所在位置与护栏发生碰撞的碰撞点坐标，基于步骤4拟合的过弯车辆行车轨迹方程，采用图6-图7所示计算方法计算每间隔0.1s时车辆轨迹方程在车辆位置坐标的切线方程，其次计算切线方程与护栏方程的交点坐标。利用图8所示mat l ab编写程序实现上述功能，输入车辆及护栏轨迹，并将步骤4所述exce l中车辆坐标导入程序，程序运行结果即为车辆过弯过程中每间隔0.1s的位置坐标所对应的切线与护栏的交点坐标即碰撞点坐标。步骤6、计算车辆与护栏的距离碰撞时间：参考图8所示将步骤5中mat l ab程序计算所得数据导入exce l中，编辑两点间距离公式计算车辆位置坐标和碰撞点坐标间距离，再用距离除以对应速度得出碰撞时间。计算结果参考图9所示，车辆每个时刻都对应一个TTC值，选取车辆过弯全程TTC最小值作为此车过弯TTC冲突指标TTC根据以下公式进行计算。TTC1＝d1/V1TTC2＝d2/V2TTC3＝d3/V3＝…TTCn＝dn/VnTTC＝min{TTC1,TTC2……TTCn}步骤7、以步骤6所得的车辆与弯道护栏碰撞时间值作为弯道车辆冲撞护栏风险的量化指标，即此示例中的车辆车辆碰撞时间TTC为1.49s，说明车辆与弯道护栏可能发生碰撞的最小时间为1.49s，对应位置切线与护栏交点坐标即为碰撞点坐标。TTC值越小车辆冲撞护栏的风险越高。第二方面，本发明实施例提供一种车辆过弯冲撞路侧护栏的风险评估系统，参考图2所示，包括：获取单元，用于获取车辆通过弯道的俯拍视频数据；处理单元，用于基于所述车辆通过弯道的俯拍视频数据，对所述视频数据中的车辆进行标定跟踪并标定护栏特征点；拟合单元，用于根据车辆过弯全程的位置坐标数据拟合得到车辆过弯全程的行车轨迹曲线；根据所标定护栏特征点的坐标数据拟合得到护栏线形拟合曲线；第一计算单元，用于根据行车轨迹曲线和护栏线形拟合曲线，计算过弯全程在每个位置坐标处车辆与护栏发生碰撞的碰撞点坐标数据；第二计算单元，用于根据车辆过弯全程的每个位置坐标的行驶速度数据和与每个位置坐标处的车辆对应的碰撞点坐标数据，计算每个位置坐标处的车辆与护栏的距离碰撞时间；以及判断单元，用于根据每个位置坐标处的车辆与护栏的距离碰撞时间，判断当前车辆通过所述弯道的冲撞护栏的风险。进一步的，所述车辆过弯冲撞路侧护栏的风险评估系统还包括提取单元，用于从俯拍视频数据中提取车辆过弯全程的位置坐标数据、行驶速度数据以及所标定护栏特征点的坐标数据。进一步的，判断单元，还用于根据所有位置坐标处的车辆与护栏的距离碰撞时间的最小值，判断当前车辆通过所述弯道的冲撞护栏的风险。进一步的，判断单元，还用于根据公式和计算每个位置坐标处的车辆与护栏的距离碰撞时间TTC；TTCn＝dn/Vn其中，TTC表示距离碰撞时间，n为1,2,3……N,N为正整数，表示每个位置的序数；d为每个位置坐标处的车辆到对应的碰撞点坐标的距离；V表示每个位置坐标处的车辆的行驶速度；每个位置坐标处的车辆的坐标为,每个位置坐标处的车辆对应的碰撞点坐标为。本发明实施例相比传统交通安全评价方法，本发明实施例所述方法使用了易获得的交通冲突数据代替了难以获得的交通事故数据。与依靠人工观测交通冲突进行安全评价的方法相比，本发明实施例的技术方案获取数据更便捷，交通冲突判定更具客观性、科学性。本发明实施例对交通冲突指标TTC的计算模型进行了改进，使其适用于弯道车辆与路侧护栏间距离碰撞时间的计算。以上所述的具体实施方式，对本发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施方式而已，并不用于限定本发明的保护范围，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
