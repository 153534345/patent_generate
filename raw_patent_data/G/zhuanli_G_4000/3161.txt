标题title
一种基于地理位置的AR虚拟空间定位方法
摘要abst
本发明涉及虚拟空间定位技术领域，涉及到一种基于地理位置的AR虚拟空间定位方法。本发明通过获取接单车辆和目标用户对应终端设备的中心点位置信息，分析接单车辆与目标用户对应终端设备的方位夹角以及位置间距，进而导入AR虚拟空间，并根据AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角，分析与显示AR虚拟空间内接单车辆的虚拟中心点坐标，从而提供具有真实感、立体感和直观感的定位信息和场景展示，给用户带来更加便捷和舒适的用车服务体验。同时对AR虚拟空间内设定时间段内接单车辆的偏航系数进行提醒处理，从而降低车辆行驶路程和时间增加的风险，提高接单车辆运营的顺畅程度和用户的体验感受。
权利要求书clms
1.一种基于地理位置的AR虚拟空间定位方法，其特征在于，包括如下步骤：通过目标用户使用终端设备发出线上打车订单，当订单接单后，实时获取接单车辆的中心点位置信息；获取目标用户对应终端设备的中心点位置信息和实际朝向，分析接单车辆与目标用户对应终端设备的方位夹角以及位置间距，进而导入AR虚拟空间；构建AR虚拟空间的三维空间坐标系，获取AR虚拟空间内目标用户对应终端设备的虚拟姿态；分析AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数，若小于虚拟姿态符合系数阈值，则执行，反之则执行；对AR虚拟空间内目标用户对应终端设备的虚拟姿态进行调整，调整后重复执行；获取AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角，分析AR虚拟空间内接单车辆的虚拟中心点坐标，进而进行显示；对AR虚拟空间内设定时间段中接单车辆进行监测，分析AR虚拟空间内设定时间段内接单车辆的偏航系数，进而进行对应提醒处理。2.根据权利要求1所述的一种基于地理位置的AR虚拟空间定位方法，其特征在于：所述接单车辆的中心点位置信息获取方式为：通过接单车辆对应中心点安装的GPS定位仪对接单车辆进行实时地图定位，得到接单车辆的中心点位置信息，其中中心点位置信息为中心点位置的经度与纬度。3.根据权利要求2所述的一种基于地理位置的AR虚拟空间定位方法，其特征在于：所述接单车辆与目标用户对应终端设备的方位夹角以及位置间距分析方式为：提取接单车辆的中心点位置的经度与纬度，将其记为，并提取目标用户对应终端设备的中心点位置的经度/＞与纬度/＞，分析接单车辆与目标用户对应终端设备的位置间距/＞，其中/＞为地球的半径；将接单车辆的中心点位置与目标用户对应终端设备的中心点位置代入平面地图中，得到接单车辆与目标用户对应终端设备的中心点位置连线，记为接单车辆与目标用户对应终端设备的方位参考线，并以目标用户对应终端设备的实际朝向为参考方向，建立目标用户对应终端设备的朝向参考线，同时以接单车辆的中心点位置为起点，作垂直与目标用户对应终端设备的朝向参考线的垂线，记为垂线参考线，进而获得朝向参考线与垂线参考线之间交点位置的经度与纬度，同理得到目标用户对应终端设备与交点的位置间距，分析接单车辆与目标用户对应终端设备的方位夹角/＞，其中/＞。4.根据权利要求1所述的一种基于地理位置的AR虚拟空间定位方法，其特征在于：所述虚拟姿态包括虚拟中心点坐标和虚拟朝向。5.根据权利要求4所述的一种基于地理位置的AR虚拟空间定位方法，其特征在于：所述AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数分析方式为：以现实场景中指定点为原点建立现实场景的三维空间坐标系，进而得到现实场景中目标用户对应终端设备的实际中心点坐标，并根据AR虚拟空间内目标用户对应终端设备的虚拟朝向和实际朝向，得到AR虚拟空间内目标用户对应终端设备的虚拟朝向夹角，记为/＞；分析AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数，其中/＞为预设的终端设备虚拟姿态符合影响因子，/＞为自然常数，/＞、/＞分别为预设的AR虚拟空间与现实场景中终端设备的允许朝向夹角误差值、允许中心点坐标偏移距离误差值，/＞为AR虚拟空间与现实场景中目标用户对应终端设备的中心点坐标偏移距离，/＞，/＞为AR虚拟空间内目标用户对应终端设备的虚拟中心点坐标。6.根据权利要求3所述的一种基于地理位置的AR虚拟空间定位方法，其特征在于：所述AR虚拟空间内接单车辆的虚拟中心点坐标分析方式为：将AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角代入分析公式，得到AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟朝向的虚拟方位夹角/＞，其中/＞为AR虚拟空间内目标用户对应终端设备的虚拟朝向投影与/＞轴的夹角，/＞为现实场景中目标用户对应终端设备的实际朝向投影与/＞轴的夹角；结合目标用户对应终端设备的虚拟朝向，得到AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟方位参考线，并根据接单车辆与目标用户对应终端设备的位置间距，在AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟方位参考线上得到接单车辆的虚拟中心点坐标。7.根据权利要求6所述的一种基于地理位置的AR虚拟空间定位方法，其特征在于：所述AR虚拟空间内设定时间段内接单车辆的偏航系数分析方式为：对AR虚拟空间内设定时间段中接单车辆进行监测，得到AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角以及接单车辆与目标用户对应终端设备虚拟朝向的虚拟方位夹角/＞，/＞，/＞为各采集时间点的编号；分析AR虚拟空间内设定时间段内接单车辆的偏航系数，/＞分别为设定的虚拟朝向角、虚拟方位夹角对应的偏航影响因子，/＞为采集时间点数量，/＞为AR虚拟空间内设定时间段中接单车辆的平均虚拟朝向角，/＞为AR虚拟空间内设定时间段的第/＞采集时间点中接单车辆与目标用户对应终端设备虚拟朝向的虚拟方位夹角，/＞为设定的允许虚拟方位夹角误差值。8.根据权利要求7所述的一种基于地理位置的AR虚拟空间定位方法，其特征在于：所述AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角获得方式为：将设定时间段按照设定采集时长进行划分，按照时间顺序依次得到设定时间段内各采集点，将设定时间段内第一时间顺序的采集点作为初始采集时间点，将其余采集点作为各采集时间点，监测AR虚拟空间内设定时间段的初始采集点和各采集时间点中接单车辆的虚拟中心点位置，将各采集时间点与其对应采集时间点的前一采集时间点中接单车辆的虚拟中心点位置进行连线，得到各采集时间点中接单车辆的虚拟朝向，将其与AR虚拟空间内目标用户对应终端设备的虚拟朝向进行对比，得到AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角。9.根据权利要求7所述的一种基于地理位置的AR虚拟空间定位方法，其特征在于：所述AR虚拟空间内设定时间段中接单车辆的平均虚拟朝向角分析公式为，其中/＞分别为AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角最大值、最小值。
说明书desc
技术领域本发明涉及虚拟空间定位技术领域，涉及到一种基于地理位置的AR虚拟空间定位方法。背景技术AR技术是一种将现实世界信息和虚拟世界信息“无缝”集成的技术，是把原本在现实世界的一定时间空间范围内很难体验到的实体信息，通过计算机技术，将真实环境和虚拟物体实时地叠加到同一个空间中，被人类感官所感知的过程，以达到超越现实感官体验的目的。AR虚拟空间定位可以在打车服务中起到很好的作用。而在现实生活中，GPS定位是目前最常见的打车定位技术，通过给出用户与线上接单车辆之间的距离和行驶路线，帮助用户快速准确地了解接单车辆的行驶位置。虽然在接单车辆叫车服务方面具有一定优势，但也存在以下几个缺陷：用户只能通过APP显示界面查看接单车辆的2D位置信息，从而无法呈现出具有真实感和立体感的定位信息和场景展示，对于一些方向感较差或是不太懂地图的用户，无法直观地了解与识别接单车辆的实时位置和行驶方向，进而降低用户的视觉体验，并无法带来更加便捷和舒适的用车服务体验。在接单车辆接送用户途中，有些车辆司机会根据自己的经验选择偏离预定路线的熟知路段，从而出现车辆偏航现象，导致车辆无法按照预期路径行驶，存在车辆行驶路程和时间增加的风险，对车辆的行驶路线和行驶效率产生影响，进一步存在用户等待时间增加或无法准确抵达目标地点的问题，进而影响车辆运营的顺畅程度和用户的体验感受，影响车辆对应平台的口碑和服务质量。发明内容本发明的目的在于提供一种基于地理位置的AR虚拟空间定位方法，解决了背景技术中存在的问题。本发明解决其技术问题采用的技术方案是：本发明提供一种基于地理位置的AR虚拟空间定位方法，包括以下步骤：通过目标用户使用终端设备发出线上打车订单，当订单接单后，实时获取接单车辆的中心点位置信息。获取目标用户对应终端设备的中心点位置信息和实际朝向，分析接单车辆与目标用户对应终端设备的方位夹角以及位置间距，进而导入AR虚拟空间。构建AR虚拟空间的三维空间坐标系，获取AR虚拟空间内目标用户对应终端设备的虚拟姿态。分析AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数，若小于虚拟姿态符合系数阈值，则执行，反之则执行。对AR虚拟空间内目标用户对应终端设备的虚拟姿态进行调整，调整后重复执行。获取AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角，分析AR虚拟空间内接单车辆的虚拟中心点坐标，进而进行显示。对AR虚拟空间内设定时间段中接单车辆进行监测，分析AR虚拟空间内设定时间段内接单车辆的偏航系数，进而进行对应提醒处理。优选地，所述接单车辆的中心点位置信息获取方式为：通过接单车辆对应中心点安装的GPS定位仪对接单车辆进行实时地图定位，得到接单车辆的中心点位置信息，其中中心点位置信息为中心点位置的经度与纬度。优选地，所述接单车辆与目标用户对应终端设备的方位夹角以及位置间距分析方式为：提取接单车辆的中心点位置的经度与纬度，将其记为，并提取目标用户对应终端设备的中心点位置的经度/＞与纬度/＞，分析接单车辆与目标用户对应终端设备的位置间距/＞，其中/＞为地球的半径。将接单车辆的中心点位置与目标用户对应终端设备的中心点位置代入平面地图中，得到接单车辆与目标用户对应终端设备的中心点位置连线，记为接单车辆与目标用户对应终端设备的方位参考线，并以目标用户对应终端设备的实际朝向为参考方向，建立目标用户对应终端设备的朝向参考线，同时以接单车辆的中心点位置为起点，作垂直与目标用户对应终端设备的朝向参考线的垂线，记为垂线参考线，进而获得朝向参考线与垂线参考线之间交点位置的经度与纬度，同理得到目标用户对应终端设备与交点的位置间距，分析接单车辆与目标用户对应终端设备的方位夹角/＞，其中/＞。优选地，所述虚拟姿态包括虚拟中心点坐标和虚拟朝向。优选地，所述AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数分析方式为：以现实场景中指定点为原点建立现实场景的三维空间坐标系，进而得到现实场景中目标用户对应终端设备的实际中心点坐标，并根据AR虚拟空间内目标用户对应终端设备的虚拟朝向和实际朝向，得到AR虚拟空间内目标用户对应终端设备的虚拟朝向夹角，记为/＞。分析AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数，其中/＞为预设的终端设备虚拟姿态符合影响因子，/＞为自然常数，/＞、/＞分别为预设的AR虚拟空间与现实场景中终端设备的允许朝向夹角误差值、允许中心点坐标偏移距离误差值，/＞为AR虚拟空间与现实场景中目标用户对应终端设备的中心点坐标偏移距离，/＞，为AR虚拟空间内目标用户对应终端设备的虚拟中心点坐标。优选地，所述AR虚拟空间内接单车辆的虚拟中心点坐标分析方式为：将AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角代入分析公式，得到AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟朝向的虚拟方位夹角/＞，其中/＞为AR虚拟空间内目标用户对应终端设备的虚拟朝向投影与/＞轴的夹角，/＞为现实场景中目标用户对应终端设备的实际朝向投影与/＞轴的夹角。结合目标用户对应终端设备的虚拟朝向，得到AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟方位参考线，并根据接单车辆与目标用户对应终端设备的位置间距，在AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟方位参考线上得到接单车辆的虚拟中心点坐标。优选地，所述AR虚拟空间内设定时间段内接单车辆的偏航系数分析方式为：对AR虚拟空间内设定时间段中接单车辆进行监测，得到AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角以及接单车辆与目标用户对应终端设备虚拟朝向的虚拟方位夹角/＞，/＞，/＞为各采集时间点的编号。分析AR虚拟空间内设定时间段内接单车辆的偏航系数，/＞分别为设定的虚拟朝向角、虚拟方位夹角对应的偏航影响因子，/＞为采集时间点数量，/＞为AR虚拟空间内设定时间段中接单车辆的平均虚拟朝向角，/＞为AR虚拟空间内设定时间段的第/＞采集时间点中接单车辆与目标用户对应终端设备虚拟朝向的虚拟方位夹角，/＞为设定的允许虚拟方位夹角误差值。优选地，所述AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角获得方式为：将设定时间段按照设定采集时长进行划分，按照时间顺序依次得到设定时间段内各采集点，将设定时间段内第一时间顺序的采集点作为初始采集时间点，将其余采集点作为各采集时间点，监测AR虚拟空间内设定时间段的初始采集点和各采集时间点中接单车辆的虚拟中心点位置，将各采集时间点与其对应采集时间点的前一采集时间点中接单车辆的虚拟中心点位置进行连线，得到各采集时间点中接单车辆的虚拟朝向，将其与AR虚拟空间内目标用户对应终端设备的虚拟朝向进行对比，得到AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角。优选地，所述AR虚拟空间内设定时间段中接单车辆的平均虚拟朝向角分析公式为，其中/＞分别为AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角最大值、最小值。相对于现有技术，本发明具有以下有益效果：本发明通过获取接单车辆和目标用户对应终端设备的中心点位置信息，分析接单车辆与目标用户对应终端设备的方位夹角以及位置间距，进而导入AR虚拟空间，从而实现虚实融合，使车辆与目标用户能够和虚拟场景紧密结合，有利于为用户提供更加智能化、个性化、实用化的交通服务，也为整个行业的智能化发展提供了更多的可能性。本发明通过获取AR虚拟空间内目标用户对应终端设备的虚拟姿态，当目标用户对应终端设备的虚拟姿态不符合时，对其进行调整处理，从而能够使得虚拟场景与现实场景更好地呼应，让用户更好融入AR虚拟场景中，让用户感觉更加真实，使得用户对AR虚拟场景体验更为卓越。本发明通过获取AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角，分析AR虚拟空间内接单车辆的虚拟中心点坐标，进而进行显示，从而提供具有真实感、立体感和直观感的定位信息和场景展示，进一步提高用户的视觉体验，并给用户带来更加便捷和舒适的用车服务体验。本发明通过分析AR虚拟空间内设定时间段内接单车辆的偏航系数，并进行对应提醒处理，从而确保车辆能够按照预期路径行驶，降低车辆行驶路程和时间增加的风险，确保车辆的行驶路线和行驶效率不受影响，进一步避免用户等待时间增加或无法准确抵达目标地点的问题，进而提高接单车辆运营的顺畅程度和用户的体验感受，增加接单车辆对应平台的口碑与服务质量。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例描述所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明的方法流程示意图。图2为接单车辆与目标用户对应终端设备的方位夹角示意图。图3为朝向参考线与垂线参考线之间交点位置示意图。附图标记：1、接单车辆的中心点位置；2、目标用户对应终端设备的中心点位置；3、接单车辆与目标用户对应终端设备的方位夹角；4、目标用户对应终端设备的朝向参考线；5、垂线参考线；6、朝向参考线与垂线参考线之间交点位置。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。请参阅图1所示，本发明提供一种基于地理位置的AR虚拟空间定位方法，包括如下步骤：通过目标用户使用终端设备发出线上打车订单，当订单接单后，实时获取接单车辆的中心点位置信息。在上述实施例的基础上，所述接单车辆的中心点位置信息获取方式为：通过接单车辆对应中心点安装的GPS定位仪对接单车辆进行实时地图定位，得到接单车辆的中心点位置信息，其中中心点位置信息为中心点位置的经度与纬度。获取目标用户对应终端设备的中心点位置信息和实际朝向，分析接单车辆与目标用户对应终端设备的方位夹角以及位置间距，进而导入AR虚拟空间。在上述实施例的基础上，所述接单车辆与目标用户对应终端设备的方位夹角以及位置间距分析方式为：提取接单车辆的中心点位置的经度与纬度，将其记为，并提取目标用户对应终端设备的中心点位置的经度/＞与纬度/＞，分析接单车辆与目标用户对应终端设备的位置间距/＞，其中/＞为地球的半径。如图2和图3所示，将接单车辆的中心点位置与目标用户对应终端设备的中心点位置代入平面地图中，得到接单车辆与目标用户对应终端设备的中心点位置连线，记为接单车辆与目标用户对应终端设备的方位参考线，并以目标用户对应终端设备的实际朝向为参考方向，建立目标用户对应终端设备的朝向参考线，同时以接单车辆的中心点位置为起点，作垂直与目标用户对应终端设备的朝向参考线的垂线，记为垂线参考线，进而获得朝向参考线与垂线参考线之间交点位置的经度与纬度，同理得到目标用户对应终端设备与交点的位置间距，分析接单车辆与目标用户对应终端设备的方位夹角/＞，其中/＞。需要说明的是，本发明通过获取接单车辆和目标用户对应终端设备的中心点位置信息，分析接单车辆与目标用户对应终端设备的方位夹角以及位置间距，进而导入AR虚拟空间，从而实现虚实融合，使车辆与目标用户能够和虚拟场景紧密结合，有利于为用户提供更加智能化、个性化、实用化的交通服务，也为整个行业的智能化发展提供了更多的可能性。构建AR虚拟空间的三维空间坐标系，获取AR虚拟空间内目标用户对应终端设备的虚拟姿态，其中所述虚拟姿态包括虚拟中心点坐标和虚拟朝向。进一步地，所述构建AR虚拟空间的三维空间坐标系方式为：以AR虚拟空间内指定点为原点，建立AR虚拟空间的三维空间坐标系，其中AR虚拟空间与现实场景实时同步，因此AR虚拟空间和现实场景的指定点是相同，且建立的AR虚拟空间的三维空间坐标系与现实场景的三维空间坐标系相同，进而能够将目标用户对应终端设备与AR虚拟空间内目标用户对应终端设备进行虚拟姿态分析对比。分析AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数，若小于虚拟姿态符合系数阈值，则执行，反之则执行。在上述实施例的基础上，所述AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数分析方式为：以现实场景中指定点为原点建立现实场景的三维空间坐标系，进而得到现实场景中目标用户对应终端设备的实际中心点坐标，并根据AR虚拟空间内目标用户对应终端设备的虚拟朝向和实际朝向，得到AR虚拟空间内目标用户对应终端设备的虚拟朝向夹角，记为/＞。分析AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数，其中/＞为预设的终端设备虚拟姿态符合影响因子，/＞为自然常数，/＞、/＞分别为预设的AR虚拟空间与现实场景中终端设备的允许朝向夹角误差值、允许中心点坐标偏移距离误差值，/＞为AR虚拟空间与现实场景中目标用户对应终端设备的中心点坐标偏移距离，/＞，为AR虚拟空间内目标用户对应终端设备的虚拟中心点坐标。进一步地，所述AR虚拟空间内目标用户对应终端设备的虚拟朝向夹角获取方式为：将AR虚拟空间内目标用户对应终端设备的虚拟朝向代入AR虚拟空间的三维空间坐标系，获取AR虚拟空间的三维空间坐标系对应平面中目标用户对应终端设备的虚拟朝向投影，得到AR虚拟空间内目标用户对应终端设备的虚拟朝向投影与/＞轴的夹角/＞以及虚拟朝向投影所处象限，同理获取现实场景中目标用户对应终端设备的实际朝向投影与/＞轴的夹角/＞以及实际朝向投影所处象限，分析AR虚拟空间内目标用户对应终端设备的虚拟朝向夹角/＞，其中/＞为虚拟朝向投影所处象限与实际朝向投影所处象限在同一象限，/＞为虚拟朝向投影所处象限为第一象限且实际朝向投影所处象限在第二象限或者虚拟朝向投影所处象限为第二象限且实际朝向投影所处象限在第一象限，/＞为虚拟朝向投影所处象限为第三象限且实际朝向投影所处象限为第一象限，/＞为虚拟朝向投影所处象限为第一象限且实际朝向投影所处象限为第三象限，为虚拟朝向投影所处象限为第一象限且实际朝向投影所处象限为第四象限或者虚拟朝向投影所处象限为第四象限且实际朝向投影所处象限为第一象限。作为本发明的一个具体实施例，所述将AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数与设定的虚拟姿态符合系数阈值进行对比，若AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数小于虚拟姿态符合系数阈值，则对AR虚拟空间内目标用户对应终端设备的虚拟姿态进行调整，直至调整后的AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数大于或等于虚拟姿态符合系数阈值，则执行。对AR虚拟空间内目标用户对应终端设备的虚拟姿态进行调整，调整后重复执行。需要说明的是，本发明通过获取AR虚拟空间内目标用户对应终端设备的虚拟姿态，当目标用户对应终端设备的虚拟姿态不符合时，对其进行调整处理，从而能够使得虚拟场景与现实场景更好地呼应，让用户更好融入AR虚拟场景中，让用户感觉更加真实，使得用户对AR虚拟场景体验更为卓越。获取AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角，分析AR虚拟空间内接单车辆的虚拟中心点坐标，进而进行显示。在上述实施例的基础上，所述AR虚拟空间内接单车辆的虚拟中心点坐标分析方式为：将AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角代入分析公式，得到AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟朝向的虚拟方位夹角/＞，其中/＞为AR虚拟空间内目标用户对应终端设备的虚拟朝向投影与/＞轴的夹角，/＞为现实场景中目标用户对应终端设备的实际朝向投影与/＞轴的夹角。结合目标用户对应终端设备的虚拟朝向，得到AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟方位参考线，并根据接单车辆与目标用户对应终端设备的位置间距，在AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟方位参考线上得到接单车辆的虚拟中心点坐标。进一步地，当AR虚拟空间内目标用户对应终端设备的虚拟姿态符合系数大于或等于虚拟姿态符合系数阈值时，将此时的AR虚拟空间内目标用户对应终端设备的虚拟朝向夹角作为AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角。需要说明的是，本发明通过获取AR虚拟空间内目标用户对应终端设备的当前虚拟朝向夹角，分析AR虚拟空间内接单车辆的虚拟中心点坐标，进而进行显示，从而提供具有真实感、立体感和直观感的定位信息和场景展示，进一步提高用户的视觉体验，并给用户带来更加便捷和舒适的用车服务体验。对AR虚拟空间内设定时间段中接单车辆进行监测，分析AR虚拟空间内设定时间段内接单车辆的偏航系数，进而将AR虚拟空间内设定时间段内接单车辆的偏航系数与预设的偏航系数阈值进行对比，若AR虚拟空间内设定时间段内接单车辆的偏航系数大于预设的偏航系数阈值，则对接单车辆进行预警提醒。在上述实施例的基础上，所述AR虚拟空间内设定时间段内接单车辆的偏航系数分析方式为：对AR虚拟空间内设定时间段中接单车辆进行监测，得到AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角以及接单车辆与目标用户对应终端设备虚拟朝向的虚拟方位夹角/＞，/＞，/＞为各采集时间点的编号。分析AR虚拟空间内设定时间段内接单车辆的偏航系数，/＞分别为设定的虚拟朝向角、虚拟方位夹角对应的偏航影响因子，/＞为采集时间点数量，/＞为AR虚拟空间内设定时间段中接单车辆的平均虚拟朝向角，/＞为AR虚拟空间内设定时间段的第/＞采集时间点中接单车辆与目标用户对应终端设备虚拟朝向的虚拟方位夹角，/＞为设定的允许虚拟方位夹角误差值。作为本发明的一个具体实施例，所述AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角获得方式为：将设定时间段按照设定采集时长进行划分，按照时间顺序依次得到设定时间段内各采集点，将设定时间段内第一时间顺序的采集点作为初始采集时间点，将其余采集点作为各采集时间点，监测AR虚拟空间内设定时间段的初始采集点和各采集时间点中接单车辆的虚拟中心点位置，将各采集时间点与其对应采集时间点的前一采集时间点中接单车辆的虚拟中心点位置进行连线，得到各采集时间点中接单车辆的虚拟朝向，将其与AR虚拟空间内目标用户对应终端设备的虚拟朝向进行对比，得到AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角。需要解释的是，所述第1个采集时间点中接单车辆的虚拟朝向获取方式为：将第1个采集时间点与初始采集时间点中接单车辆的虚拟中心位置进行连线，得到第1个采集时间点中接单车辆的虚拟朝向。进一步地，所述根据AR虚拟空间内接单车辆与目标用户对应终端设备的虚拟朝向的虚拟方位夹角分析方式，得到AR虚拟空间内设定时间段的各采集点中接单车辆与目标用户对应终端设备的虚拟朝向的虚拟方位夹角。在上述实施例的基础上，所述AR虚拟空间内设定时间段中接单车辆的平均虚拟朝向角分析公式为，其中/＞分别为AR虚拟空间内设定时间段的各采集时间点中接单车辆的虚拟朝向角最大值、最小值。需要说明的是，本发明通过分析AR虚拟空间内设定时间段内接单车辆的偏航系数，并进行对应提醒处理，从而确保车辆能够按照预期路径行驶，降低车辆行驶路程和时间增加的风险，确保车辆的行驶路线和行驶效率不受影响，进一步避免用户等待时间增加或无法准确抵达目标地点的问题，进而提高接单车辆运营的顺畅程度和用户的体验感受，增加接单车辆对应平台的口碑与服务质量。以上内容仅仅是对本发明的构思所作的举例和说明，所属本技术领域的技术人员对所描述的具体实施例做各种各样的修改或补充或采用类似的方式替代，只要不偏离发明的构思或者超越本发明所定义的范围，均应属于本发明的保护范围。
