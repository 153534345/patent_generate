标题title
一种多机器人协同搬运力位混合控制方法
摘要abst
本发明公开了一种多机器人协同搬运力位混合控制方法，首先建立多个机器人的协同搬运动力学模型；然后设置机器人位置误差并引入误差转换函数进行误差转换，对机器人转换后位置误差进行处理，并结合协同搬运动力学模型得到误差传递动力学模型；重写误差传递动力学模型，并设置滑模函数和扰动估计误差，根据重写后的误差传递动力学模型、滑模函数和扰动估计误差设计规定性能控制器，并计算机器人的输入力矩；接着预设阻抗模型、弹簧模型和环境刚度估计，计算得出机器人末端执行器的接触力估计和位置；最后搭建数学仿真模型，验证多机器人协同搬运控制方法的有效性。该方法可保证多个机器人在协同搬运过程中的精度和安全性。
权利要求书clms
1.一种多机器人协同搬运力位混合控制方法，其特征在于，所述方法包括：S1、建立机器人的搬运动力学模型，根据机器人的搬运动力学模型建立多个机器人组成的机器人系统的协同搬运动力学模型；S2、设置机器人位置误差，引入误差转换函数对所述机器人位置误差进行转换，得到机器人转换后位置误差，根据所述机器人转换后位置误差和所述协同搬运动力学模型得到误差传递动力学模型；S3、重写所述误差传递动力学模型，得到重写后的误差传递动力学模型，设置滑模函数和扰动估计误差，根据重写后的误差传递动力学模型、滑模函数和扰动估计误差设计规定性能控制器，根据规定性能控制器计算出机器人系统的输入力矩；S4、预设阻抗模型、弹簧模型和环境刚度估计，根据阻抗模型、弹簧模型和环境刚度估计设计阻抗控制方法，计算出机器人系统末端执行器的接触力估计和位置；S5、根据所述协同搬运动力学模型、误差传递动力学模型和规定性能控制器搭建数学仿真模型，将计算出的机器人系统的输入力矩、机器人系统末端执行器的接触力估计以及位置输入至仿真模型中，验证机器人系统的协同搬运控制方法的有效性。2.如权利要求1所述的多机器人协同搬运力位混合控制方法，其特征在于，所述S1中的协同搬运动力学模型具体为：其中，/＞式中，/＞为机器人系统的对称正定惯性矩阵，/＞为机器人系统的离心项和克利奥利项矩阵，/＞为机器人系统在建模过程产生的总摩擦力，/＞为从机器人系统的关节矢量至工作空间的速度雅可比矩阵，/＞为重力加速度矩阵，/＞为机器人系统的关节矢量，/＞和/＞分别为机器人系统的关节矢量/＞的一阶导数和二阶导数，/＞为机器人系统的自由度，/＞，/＞为第/＞个机器人的自由度，/＞为机器人系统末端执行器的实际接触力，/＞为机器人系统的输入力矩。3.如权利要求2所述的多机器人协同搬运力位混合控制方法，其特征在于，所述S2具体包括：S21、设置机器人的规定性能和性能函数，根据所述规定性能和性能函数确定机器人的位置误差；S22、设置误差转换函数，使用所述误差转换函数对所述机器人的位置误差进行转换，得到机器人转换后位置误差；S23、根据所述机器人转换后位置误差建立机器人系统转换后位置误差，对所述机器人系统转换后位置误差进行处理，并结合所述协同搬运动力学模型，得到误差传递动力学模型。4.如权利要求3所述的多机器人协同搬运力位混合控制方法，其特征在于，所述S23中的误差传递动力学模型，具体公式为：其中，/＞/＞式中，/＞为机器人系统转换后位置误差/＞的二阶导数，/＞为机器人系统的对称正定惯性矩阵，/＞为机器人系统的离心项和克利奥利项矩阵，/＞为从机器人系统的关节矢量至工作空间的速度雅可比矩阵，/＞为重力加速度矩阵，/＞和/＞表示第i个机器人系统规定性能的上下界，/＞表示第i个机器人的性能函数，/＞为机器人系统的输入力矩，/＞为机器人系统的位置误差/＞的一阶导数，/＞为第i个机器人的位置误差，/＞为机器人系统的关节矢量/＞的一阶导数，/＞为第i个机器人的关节矢量，/＞为机器人系统的期望位置/＞的二阶导数，/＞为第i个机器人的希望位置，/＞为机器人系统末端执行器的实际接触力，/＞、/＞、/＞、/＞为误差传递动力学模型的中间变量。5.如权利要求4所述的多机器人协同搬运力位混合控制方法，其特征在于，所述S3具体包括：S31、对所述误差传递动力学模型进行重写，得到重写后的误差传递动力学模型，所述重写后的误差传递动力学模型中包含规定性能控制器；S32、根据步骤S23中所述机器人系统转换后位置误差设置滑模函数；S33、设置扰动估计误差，根据滑模函数和扰动估计误差设置第一李雅普诺夫函数；S34、根据所述第一李雅普诺夫函数判定所述误差传递动力学模型的稳定性，并设计所述误差传递动力学模型稳定时对应的规定性能控制器。6.如权利要求5所述的多机器人协同搬运力位混合控制方法，其特征在于，所述S34中的规定性能控制器，具体可用公式表示为：式中，/＞为机器人系统的输入力矩，/＞为机器人系统的对称正定惯性矩阵，/＞为滑模函数，/＞为规定性能控制器增益，/＞为扰动估计，也就是实际扰动/＞的估计值，/＞为机器人系统转换后位置误差的一阶导数，/＞为对角增益矩阵，/＞为机器人系统的位置误差/＞的一阶导数，/＞为机器人系统转换后位置误差/＞的一阶导数，/＞、/＞为误差传递动力学模型的中间变量。7.如权利要求6所述的多机器人协同搬运力位混合控制方法，其特征在于，所述S4具体包括：S41、预设阻抗模型和弹簧模型，根据所述阻抗模型和弹簧模型推导出末端执行器的接触力误差；S42、根据所述末端执行器的接触力误差和所述阻抗模型得到力跟踪误差传递动力学模型；S43、设计环境刚度估计，根据所述力跟踪误差传递动力学模型和所述环境刚度估计设计第二和第三李雅普诺夫函数，通过所述第二和第三李雅普诺夫函数推导出环境刚度估计的一阶导数；S44、根据所述环境刚度估计的一阶导数和所述弹簧模型得出机器人系统末端执行器的接触力估计；S45、根据所述末端执行器的接触力误差和所述阻抗模型得到机器人系统末端执行器的位置。8.如权利要求7所述的多机器人协同搬运力位混合控制方法，其特征在于，所述S42中的力跟踪误差传递动力学模型具体为：式中，/＞、/＞、/＞分别为第i个机器人的阻抗模型的惯性、阻尼和刚度，/＞为第i个机器人环境刚度/＞的估计值，/＞为第i个机器人末端执行器的接触力误差，/＞和/＞分别为第i个机器人末端执行器的接触力误差/＞的一阶导数和二阶导数，/＞。9.如权利要求8所述的多机器人协同搬运力位混合控制方法，其特征在于，所述S44中机器人系统末端执行器的接触力估计，具体公式为：式中，/＞为第i个机器人末端执行器的接触力估计，/＞为第i个机器人环境刚度/＞的估计，/＞为第i个机器人末端执行器的位置，/＞为目标物体的位置。10.如权利要求9所述的多机器人协同搬运力位混合控制方法，其特征在于，所述S45中机器人系统末端执行器的位置，具体公式为：式中，/＞为阻抗模型输出的第i个机器人末端执行器的位置，/＞为阻抗模型输出的第i个机器人末端执行器位置的一阶导数，/＞为阻抗模型输入的第i个机器人末端执行器位置，/＞，/＞、/＞分别为第i个阻抗模型的惯性、阻尼和刚度，/＞和/＞分别为阻抗模型输入的第i个机器人末端执行器位置的一阶导数和二阶导数，/＞为第i个机器人末端执行器的位置误差，/＞为第i个机器人环境刚度/＞的估计。/＞
说明书desc
技术领域本发明涉及多机器人协同搬运控制技术领域，尤其是涉及一种多机器人协同搬运力位混合控制方法。背景技术近年来，以机器人为代表的智能制造技术正逐渐成为重大装备大型复杂部件高品质制造的新趋势。相比于数控机床，机器人或机器人化装备具有运动灵活、工作空间大、并行协调作业能力强等优点，且易于集成多类型传感器，能够适应复杂的加工环境，由一定规模的单体机器人化装备组成的多机器人制造系统能够进一步增加机器人作业的工作空间与灵巧度，因此设计多机器人高精度、高安全性自主控制方法对智能制造具有重要意义。多移动机器人实现无人驾驶的方式从遥控驾驶，到机载计算机自主控制。移动机器人已经是成熟的移动平台，可以在移动平台上搭载不同的组件应用在不同领域。比如，状态检测、目标跟踪等领域都有移动机器人应用的潜能。其中，这些应用需要在移动平台上搭载机械臂，将二者结合起来就是移动机器人，如此高端的设备可使工业获得很大的便利。随着研究人员对这块领域的深入，已经有学者实现了移动机器人搭载机械臂在实际中的应用。例如灵活的完成抓取和装配作业任务、代替力传感器完成接触力测量工作、借助并联机械臂完成仿生工作。多机器人协同搬运作为智能制造产业中必不可少的一个环节，尽管已经有一些学者对其进行了一定程度的研究，但是仍然存在一些技术难点需要攻克。在机器人运动过程中，外部扰动作用环境下机器人之间的相互干涉问题无疑是当今的研究热点之一；其次，在仅有位置控制下机械臂对搬运物体产生的挤压等也会对物体与机器人本身产生一定程度的损害。发明内容本发明要解决的技术问题在于考虑到多个机器人协同搬运过程的精度需要和安全性，提供了一种多机器人协同搬运力位混合控制方法。一种多机器人协同搬运力位混合控制方法，包括如下步骤：S1、建立机器人的搬运动力学模型，根据机器人的搬运动力学模型建立多个机器人组成的机器人系统的协同搬运动力学模型；S2、设置机器人位置误差，引入误差转换函数对机器人位置误差进行转换，得到机器人转换后位置误差，根据机器人转换后位置误差和协同搬运动力学模型得到误差传递动力学模型；S3、重写误差传递动力学模型，得到重写后的误差传递动力学模型，设置滑模函数和扰动估计误差，根据重写后的误差传递动力学模型、滑模函数和扰动估计误差设计规定性能控制器，根据规定性能控制器计算出机器人系统的输入力矩；S4、预设阻抗模型、弹簧模型和环境刚度估计，根据阻抗模型、弹簧模型和环境刚度估计设计阻抗控制方法，计算出机器人系统末端执行器的接触力估计和位置；S5、根据协同搬运动力学模型、误差传递动力学模型和规定性能控制器搭建数学仿真模型，将计算出的机器人系统的输入力矩、机器人系统末端执行器的接触力估计以及位置输入至仿真模型中，验证机器人系统的协同搬运控制方法的有效性。优选地，S1中的协同搬运动力学模型具体为：其中，式中，为机器人系统的对称正定惯性矩阵，/＞为机器人系统的离心项和克利奥利项矩阵，/＞为机器人系统在建模过程产生的总摩擦力，/＞为从机器人系统的关节矢量至工作空间的速度雅可比矩阵，/＞为重力加速度矩阵，/＞为机器人系统的关节矢量，/＞和/＞分别为机器人系统的关节矢量/＞的一阶导数和二阶导数，/＞为机器人系统的自由度，，/＞为第/＞个机器人的自由度，/＞为机器人系统末端执行器的实际接触力，/＞为机器人系统的输入力矩。优选地，S2具体包括：S21、设置机器人的规定性能和性能函数，根据规定性能和性能函数确定机器人的位置误差；S22、设置误差转换函数，使用误差转换函数对机器人的位置误差进行转换，得到机器人转换后位置误差；S23、根据机器人转换后位置误差建立机器人系统转换后位置误差，对机器人系统转换后位置误差进行处理，并结合协同搬运动力学模型，得到误差传递动力学模型。优选地，S23中的误差传递动力学模型，具体公式为：其中，/＞式中，为机器人系统转换后位置误差/＞的二阶导数，/＞为机器人系统的对称正定惯性矩阵，/＞为机器人系统的离心项和克利奥利项矩阵，/＞为从机器人系统的关节矢量至工作空间的速度雅可比矩阵，/＞为重力加速度矩阵，/＞和/＞表示第i个机器人系统规定性能的上下界，/＞表示第i个机器人的性能函数，/＞为机器人系统的输入力矩，/＞为机器人系统的位置误差/＞的一阶导数，/＞为第i个机器人的位置误差，/＞为机器人系统的关节矢量/＞的一阶导数，/＞为第i个机器人的关节矢量，/＞为机器人系统的期望位置/＞的二阶导数，/＞为第i个机器人的希望位置，/＞为机器人系统末端执行器的实际接触力，/＞、/＞、/＞、/＞为误差传递动力学模型的中间变量。优选地，S3具体包括：S31、对误差传递动力学模型进行重写，得到重写后的误差传递动力学模型，重写后的误差传递动力学模型中包含规定性能控制器；S32、根据步骤S23中机器人系统转换后位置误差设置滑模函数；S33、设置扰动估计误差，根据滑模函数和扰动估计误差设置第一李雅普诺夫函数；S34、根据第一李雅普诺夫函数判定误差传递动力学模型的稳定性，并设计误差传递动力学模型稳定时对应的规定性能控制器。优选地，S34中的规定性能控制器，具体可用公式表示为：式中，为机器人系统的输入力矩，/＞为机器人系统的对称正定惯性矩阵，/＞为滑模函数，/＞为规定性能控制器增益，/＞为扰动估计，也就是实际扰动/＞的估计值，/＞为机器人系统转换后位置误差的一阶导数，/＞为对角增益矩阵，/＞为机器人系统的位置误差/＞的一阶导数，/＞为机器人系统转换后位置误差/＞的一阶导数，/＞、/＞为误差传递动力学模型的中间变量。优选地，S4具体包括：S41、预设阻抗模型和弹簧模型，根据阻抗模型和弹簧模型推导出末端执行器的接触力误差；S42、根据末端执行器的接触力误差和阻抗模型得到力跟踪误差传递动力学模型；S43、设计环境刚度估计，根据力跟踪误差传递动力学模型和环境刚度估计设计第二和第三李雅普诺夫函数，通过第二和第三李雅普诺夫函数推导出环境刚度估计的一阶导数；S44、根据环境刚度估计的一阶导数和弹簧模型得出机器人系统末端执行器的接触力估计；S45、根据末端执行器的接触力误差和阻抗模型得到机器人系统末端执行器的位置。优选地，S42中的力跟踪误差传递动力学模型具体为：式中，、/＞、/＞分别为第i个机器人的阻抗模型的惯性、阻尼和刚度，/＞为第i个机器人环境刚度/＞的估计值，/＞为第i个机器人末端执行器的接触力误差，/＞和/＞分别为第i个机器人末端执行器的接触力误差/＞的一阶导数和二阶导数，/＞。优选地，S44中机器人系统末端执行器的接触力估计，具体公式为：式中，为第i个机器人末端执行器的接触力估计，/＞为第i个机器人环境刚度/＞的估计，/＞为第i个机器人末端执行器的位置，/＞为目标物体的位置。优选地，S45中机器人系统末端执行器的位置，具体公式为：式中，为阻抗模型输出的第i个机器人末端执行器的位置，/＞为阻抗模型输出的第i个机器人末端执行器位置的一阶导数，/＞为阻抗模型输入的第i个机器人末端执行器位置，/＞，/＞、/＞分别为第i个阻抗模型的惯性、阻尼和刚度，/＞和/＞分别为阻抗模型输入的第i个机器人末端执行器位置的一阶导数和二阶导数，/＞为第i个机器人末端执行器的位置误差，/＞为第i个机器人环境刚度/＞的估计。上述一种多机器人协同搬运力位混合控制方法，通过设计规定性能控制器，实现多个机器人相互之间严格的误差控制，保证在协同搬运过程中的精度；采用自适应阻抗力控制方法设计机器人末端执行器的接触力估计方法以及阻抗控制，保证了机器人在搬运过程中的安全性。附图说明图1是本发明一实施例中一种多机器人协同搬运力位混合控制方法的流程图；图2是本发明一实施例中多机器人协同搬运的俯视图；图3是本发明一实施例中多机器人协同搬运的场景图；图4是本发明一实施例中一种多机器人协同搬运力位混合控制方法示意图；图5是本发明一实施例中三台机器人协同搬运过程中机器人1的x轴分量控制误差；图6是本发明一实施例中三台机器人协同搬运过程中机器人2的x轴分量控制误差；图7是本发明一实施例中三台机器人协同搬运过程中机器人3的x轴分量控制误差；图8是本发明一实施例中三台机器人协同搬运过程的效果图；图9是本发明一实施例中三台机器人协同搬运过程机器人1的力跟踪效果图；图10是本发明一实施例中三台机器人协同搬运过程机器人2的力跟踪效果图；图11是本发明一实施例中三台机器人协同搬运过程机器人3的力跟踪效果图。具体实施方式为了使本技术领域的人员更好地理解本发明的技术方案，下面结合附图对本发明作进一步的详细说明。一种多机器人协同搬运力位混合控制方法，具体包括：S1、建立机器人的搬运动力学模型，根据机器人的搬运动力学模型建立多个机器人组成的机器人系统的协同搬运动力学模型；S2、设置机器人位置误差，引入误差转换函数对机器人位置误差进行转换，得到机器人转换后位置误差，根据机器人转换后位置误差和协同搬运动力学模型得到误差传递动力学模型；S3、重写误差传递动力学模型，得到重写后的误差传递动力学模型，设置滑模函数和扰动估计误差，根据重写后的误差传递动力学模型、滑模函数和扰动估计误差设计规定性能控制器，根据规定性能控制器计算出机器人系统的输入力矩；S4、预设阻抗模型、弹簧模型和环境刚度估计，根据阻抗模型、弹簧模型和环境刚度估计设计阻抗控制方法，计算出机器人系统末端执行器的接触力估计和位置；S5、根据协同搬运动力学模型、误差传递动力学模型和规定性能控制器搭建数学仿真模型，将计算出的机器人系统的输入力矩、机器人系统末端执行器的接触力估计以及位置输入至仿真模型中，验证机器人系统的协同搬运控制方法的有效性。具体地，参见图1、图2、图3和图4，图1为本发明一实施例中的多机器人协同搬运力位混合控制方法流程图；图2为本发明一实施例中多机器人协同搬运的俯视图；图3为本发明一实施例中多机器人协同搬运的场景图；图4为本发明一实施例中一种多机器人协同搬运力位混合控制方法示意图。一种多机器人协同搬运力位混合控制方法，首先建立单个机器人的搬动动力学模型，在此基础上建立多个机器人组成的机器人系统的协同搬运动力学模型；然后设置机器人位置误差，并引入误差转换函数对机器人位置误差进行转换，根据机器人转换后位置误差和协同搬运动力学模型设计误差传递方法，建立误差传递动力学模型；接着对误差传递动力学模型进行重写，设置滑模函数和扰动估计误差，根据重写后的误差传递动力学模型、滑模函数和扰动估计误差设计规定性能控制器并计算得出输入力矩；接着预设阻抗模型、弹簧模型和环境刚度估计，根据阻抗模型、弹簧模型和环境刚度估计设计阻抗控制方法，计算得出阻抗位置输出，阻抗位置输出包括机器人系统末端执行器的接触力估计和位置；最后根据协同搬运动力学模型、误差传递动力学模型、规定性能控制器以及阻抗控制器搭建数学仿真模型，验证多机器人的协同搬运方法的有效性。在一个实施例中，S1中的协同搬运动力学模型具体为：其中，/＞式中，为机器人系统的对称正定惯性矩阵，/＞为机器人系统的离心项和克利奥利项矩阵，/＞为机器人系统在建模过程产生的总摩擦力，/＞为从机器人系统的关节矢量至工作空间的速度雅可比矩阵，/＞为重力加速度矩阵，/＞为机器人系统的关节矢量，/＞和/＞分别为机器人系统的关节矢量/＞的一阶导数和二阶导数，/＞为机器人系统的自由度，，/＞为第/＞个机器人的自由度，/＞为机器人系统末端执行器的实际接触力，/＞为机器人系统的输入力矩。具体地，建立机器人系统的协同搬运动力学模型包括如下步骤：1）建立单个机器人的动力学模型：其中，式中，为第i个机器人的对称正定惯性矩阵，/＞为第i个机器人的离心项和克利奥利项矩阵，/＞为第i个机器人建模过程产生的摩擦力，/＞第i个机器人的重力加速度矩阵，/＞为第i个机器人的重力加速度矢量，/＞为第i个机器人的关节矢量，/＞和/＞分别为第i个机器人的关节矢量/＞的一阶导数和二阶导数，/＞为第i个机器人的输入力矩，/＞为第i个机器人的末端执行器受到的力，/＞为从第i个机器人的关节矢量/＞到工作空间/＞的速度雅可比矩阵，可由力传递过程得到，具体如下：，/＞为第i个机器人末端执行器坐标，也就是第i个机器人的工作空间，一般情况下/＞，通过对第i个机器人末端执行器坐标/＞求一阶导数可以得到：，因此，取/＞。则机器人系统的工作空间为：。 2）建立由多个机器人组成机器人系统的协同搬运动力学模型：其中，式中，为机器人系统的对称正定惯性矩阵，/＞为机器人系统的离心项和克利奥利项矩阵，/＞为机器人系统在建模过程产生的总摩擦力，/＞为机器人系统的关节矢量，/＞为从机器人系统的关节矢量至工作空间的速度雅可比矩阵，/＞为机器人系统的总自由度，/＞为第/＞个机器人的自由度，/＞表示实数域。在一个实施例中，S2具体包括：S21、设置机器人的规定性能和性能函数，根据规定性能和性能函数确定机器人的位置误差；S22、设置误差转换函数，使用误差转换函数对机器人的位置误差进行转换，得到机器人转换后位置误差；S23、根据机器人转换后位置误差建立机器人系统转换后位置误差，对机器人系统转换后位置误差进行处理，并结合协同搬运动力学模型，得到误差传递动力学模型。在一个实施例中，S23中的误差传递动力学模型，具体公式为：其中，式中，为机器人系统转换后位置误差/＞的二阶导数，/＞为机器人系统的对称正定惯性矩阵，/＞为机器人系统的离心项和克利奥利项矩阵，/＞为从机器人系统的关节矢量至工作空间的速度雅可比矩阵，/＞为重力加速度矩阵，/＞和/＞表示第i个机器人系统规定性能的上下界，/＞表示第i个机器人的性能函数，/＞为机器人系统的输入力矩，/＞为机器人系统的位置误差/＞的一阶导数，/＞为第i个机器人的位置误差，/＞为机器人系统的关节矢量/＞的一阶导数，/＞为第i个机器人的关节矢量，/＞为机器人系统的期望位置/＞的二阶导数，/＞为第i个机器人的希望位置，/＞为机器人系统末端执行器的实际接触力，/＞、/＞、/＞、/＞为误差传递动力学模型的中间变量。具体地，由于每个机器人的期望位置是有界的，可基于此定义机器人的位置误差：式中，为第i个机器人的位置误差，/＞为第i个机器人的关节矢量，/＞为第i个机器人的期望位置。定义机器人规定性能的上、下界和性能函数，根据规定性能的上下界以及性能函数设置机器人的位置误差范围：其中，/＞式中，和/＞分别为第i个机器人规定性能的上、下界，/＞为第i个机器人的性能函数，/＞、/＞、/＞均为正常数，/＞和/＞分别表示性能函数/＞在/＞和/＞时的值，且，/＞表示第i个机器人的性能函数的逼近速度。为了实现对多个机器人的规定性能控制，需要设计误差传递动力学模型，设计过程如下：1）首先引入误差转换函数对每个机器人的位置误差进行误差转换，得到机器人转换后位置误差：设置误差转换函数，/＞，该误差转换函数满足。经过误差转换，得到机器人转换后位置误差：其中，式中，为第i个机器人转换后位置误差，/＞和/＞分别为第i个机器人规定性能的上、下界，/＞为第i个机器人的位置误差，/＞为第i个机器人的性能函数，/＞为中间变量。在此基础上，机器人系统转换后位置误差可表示为：2）对机器人系统转换后位置误差求一阶导数：其中，式中，、/＞为中间变量。3）对机器人系统转换后位置误差求二阶导数，并结合协同搬运动力学模型得到误差传递动力学模型：对机器人系统转换后位置误差求二阶导数：将协同搬运动力学模型公式代入上式，可以得出误差传递动力学模型，具体公式如下：其中，/＞式中，为机器人系统转换后位置误差的二阶导数，/＞为机器人系统的对称正定惯性矩阵，/＞为重力加速度矩阵，/＞为机器人系统的输入力矩，/＞为机器人系统的期望位置的二阶导数，/＞为中间变量。在一个实施例中，S3具体包括：S31、对误差传递动力学模型进行重写，得到重写后的误差传递动力学模型，重写后的误差传递动力学模型中包含规定性能控制器；S32、根据步骤S23中机器人系统转换后位置误差设置滑模函数；S33、设置扰动估计误差，根据滑模函数和扰动估计误差设置第一李雅普诺夫函数；S34、根据第一李雅普诺夫函数判定误差传递动力学模型的稳定性，并设计误差传递动力学模型稳定时对应的规定性能控制器。在一个实施例中，S34中的规定性能控制器，具体可用公式表示为：式中，为机器人系统的输入力矩，/＞为机器人系统的对称正定惯性矩阵，/＞为滑模函数，/＞为规定性能控制器增益，/＞为扰动估计，也就是实际扰动/＞的估计值，/＞为机器人系统转换后位置误差的一阶导数，/＞为对角增益矩阵，/＞为机器人系统的位置误差/＞的一阶导数，/＞为机器人系统转换后位置误差/＞的一阶导数，/＞、/＞为误差传递动力学模型的中间变量。具体地，根据误差传递动力学模型设计规定性能控制器，过程如下：1）对误差传递动力学模型公式进行重写，得到重写后的误差传递动力学模型其中，式中，为控制输入，是一个中间变量，用来通过公式进行/＞的解算。/＞为实际扰动，即操纵过程中机器人末端执行器受到的力和内外扰动力之和。2）根据机器人系统转换后位置误差及其一阶导数设置滑模函数式中，为滑模函数，/＞为对角增益矩阵，/＞为机器人系统转换后位置误差，/＞为机器人系统转换后位置误差的一阶导数。3）对滑模函数求一阶导数，结合重写后的误差传递动力学模型，得到滑模函数的一阶导数：式中，为滑模函数的一阶导数。4）根据外部扰动、扰动估计/＞计算扰动估计误差/＞：为了验证误差传递动力学模型、重写后的误差传递动力学模型以及误差扰动估计误差模型的稳定性，引入李雅普诺夫函数并对相关参数进行求解，具体过程如下：1）在重写后的误差传递动力学模型的基础上，考虑滑模函数与扰动估计误差/＞，设置第一李雅普诺夫函数：式中，为第一李雅普诺夫函数，/＞为扰动估计误差，/＞为滑模函数。对公式中的第一李雅普诺夫函数求一阶导数，并将公式代入可得：式中，为第一李雅普诺夫函数的一阶导数，/＞为实际扰动，/＞为扰动估计误差，/＞为控制输入，是一个中间变量，/＞为扰动估计误差的一阶导数，/＞为滑模函数。2）根据第一李雅普诺夫函数的一阶导数设计规定性能控制器：当第一李雅普诺夫函数的一阶导数不大于0，即时，说明前面得到的误差传递动力学模型、重写后的误差传递动力学模型以及扰动估计误差是稳定性的。因此，通过计算得出在/＞时，需要将对应的规定性能控制器设计为：因此可以通过公式进行的解算，在此基础上，通过公式计算出机器人系统的输入力矩/＞，其中，/＞可使用干扰观测器得出，具体公式如下：式中，为滑模函数，/＞为规定性能控制器增益，/＞为扰动估计，也就是实际扰动/＞的估计值，/＞为正增益矩阵。3）根据公式求扰动估计的一阶导数： 式中，为扰动估计的一阶导数。4）根据公式和公式，通过扰动估计误差和扰动估计的一阶导数/＞计算扰动估计误差的一阶导数，具体公式为：/＞式中，为扰动估计误差，/＞为扰动估计误差的一阶导数，/＞为正增益矩阵。5）将公式和代入公式，计算得到第一李雅普诺夫函数的一阶导数：通过分析公式可知，为了使，就应该使/＞。假设由于机器人的性能约束，即使在搬运过程中，外部扰动的变化率/＞仍然可以认为是未知有界的，即/＞。由不等式可以得出：将上式代入到公式，可以得出：其中，式中，为规定性能控制器增益，/＞为正增益矩阵，/＞为单位向量。由上述可以得出：当第一李雅普诺夫函数导数小于零，就意味着机器人系统转换后位置误差/＞趋向于0，渐近稳定。由以及公式计算得到规定性能控制器，具体可用公式表示为：式中，为机器人系统的输入力矩。在一个实施例中，S4具体包括：S41、预设阻抗模型和弹簧模型，根据阻抗模型和弹簧模型推导出末端执行器的接触力误差；S42、根据末端执行器的接触力误差和阻抗模型得到力跟踪误差传递动力学模型；S43、设计环境刚度估计，根据力跟踪误差传递动力学模型和环境刚度估计设计第二和第三李雅普诺夫函数，通过第二和第三李雅普诺夫函数推导出环境刚度估计的一阶导数；S44、根据环境刚度估计的一阶导数和弹簧模型得出机器人系统末端执行器的接触力估计；S45、根据末端执行器的接触力误差和阻抗模型得到机器人系统末端执行器的位置。在一个实施例中，S42中的力跟踪误差传递动力学模型具体为：式中，、/＞、/＞分别为第i个机器人的阻抗模型的惯性、阻尼和刚度，/＞为第i个机器人环境刚度/＞的估计值，/＞为第i个机器人末端执行器的接触力误差，/＞和/＞分别为第i个机器人末端执行器的接触力误差/＞的一阶导数和二阶导数，/＞。在一个实施例中，S44中机器人系统末端执行器的接触力估计，具体公式为：式中，为第i个机器人末端执行器的接触力估计，/＞为第i个机器人环境刚度/＞的估计，/＞为第i个机器人末端执行器的位置，/＞为目标物体的位置。在一个实施例中，S45中机器人系统末端执行器的位置，具体公式为：式中，为阻抗模型输出的第i个机器人末端执行器的位置，/＞为阻抗模型输出的第i个机器人末端执行器位置的一阶导数，/＞为阻抗模型输入的第i个机器人末端执行器位置，/＞，/＞、/＞分别为第i个阻抗模型的惯性、阻尼和刚度，/＞和/＞分别为阻抗模型输入的第i个机器人末端执行器位置的一阶导数和二阶导数，/＞为第i个机器人末端执行器的位置误差，/＞为第i个机器人环境刚度/＞的估计。具体地，考虑机器人系统末端执行器的搬运安全性，设计阻抗控制方法，计算得出机器人系统末端执行器的接触力估计与机器人系统末端执行器的位置，过程如下：1）定义广义目标阻抗模型式中，为第i个机器人阻抗模型输出的末端执行器位置，也就是阻抗参考位置输出，/＞为第i个机器人阻抗模型输入的末端执行器位置，/＞，/＞、/＞分别为第i个阻抗模型的惯性、阻尼和刚度，/＞为第i个机器人末端执行器的接触力误差。2）定义末端执行器的接触力误差：式中，为第i个机器人末端执行器的接触力误差，/＞为第i个机器人末端执行器的参考接触力，/＞为第i个机器人末端执行器的实际接触力。在实际应用中，末端执行器的实际力/＞可以从弹簧模型中获得，弹簧模型可以表示为： 式中，为第i个机器人末端执行器的位置，/＞为目标物体的位置，/＞第i个机器人的环境刚度，/＞。/＞3）由公式和计算得出机器人末端执行器的位置：假设机器人末端执行器的位置达到阻抗模型输出的末端执行器的位置，即，根据公式和可以得出： 式中，为第i个机器人末端执行器的接触力误差，/＞为第i个阻抗模型的刚度，为第i个机器人末端执行器的参考力，/＞为阻抗模型输入的第i个机器人末端执行器位置，/＞为第i个机器人环境刚度。由上式可知，一旦机器人系统达到稳态，为了使稳态时第i个机器人末端执行器的接触力误差等于0，必须满足以下条件：设为第i个机器人环境刚度/＞的估计值，用环境刚度估计值/＞分别取代公式和中的环境刚度： 定义为第i个机器人末端执行器的位置误差，/＞，将上述公式和相减可以得出末端执行器的接触力误差与末端执行器的位置误差的关系：式中，为第i个机器人末端执行器的接触力误差，/＞为第i个机器人末端执行器的位置误差，/＞为第i个机器人环境刚度的估计值。将公式代入公式中的阻抗模型，得到力跟踪误差传递动力学模型：定义环境刚度估计误差：式中，为第i个机器人环境刚度估计误差。基于公式中的力跟踪误差传递动力学模型，考虑第i个机器人末端执行器的接触力误差与环境刚度估计误差/＞，设置第二李雅普诺夫函数：/＞式中，为第二李雅普诺夫函数，/＞为数学符号，表示求矩阵里面的对角线上元素的和。求解第二李雅普诺夫函数的一阶导数：设置第三李雅普诺夫函数：式中，为第三李雅普诺夫函数。求解第三李雅普诺夫函数的一阶导数：对第二李雅普诺夫函数的一阶导数和第三李雅普诺夫函数的一阶导数/＞求和可以得出：通过分析公式可知，为了使末端执行器的接触力误差收敛，应当使，因此设计环境刚度估计的一阶导数如下：将公式代入公式，可以得出：综上，随着时间趋于无穷，第i个机器人末端执行器的接触力误差根据公式设计的环境刚度估计的一阶导数和公式中的弹簧模型，可以得出机器人末端执行器的接触力估计：根据公式中的阻抗模型和公式中的末端执行器的接触力误差，可以计算机器人末端执行器的位置，具体公式为：/＞式中，为阻抗模型输出的第i个机器人末端执行器的位置，也就是阻抗参考位置输出，/＞为阻抗模型输出的第i个机器人末端执行器位置的一阶导数，/＞为阻抗模型输入的第i个机器人末端执行器位置，/＞，/＞、/＞分别为第i个阻抗模型的惯性、阻尼和刚度，和/＞分别为阻抗模型输入的第i个机器人末端执行器位置的一阶导数和二阶导数，/＞为第i个机器人末端执行器的位置误差，/＞为第i个机器人环境刚度/＞的估计。最后，根据协同搬运动力学模型、误差传递动力学模型和规定性能控制器搭建数学仿真模型，将计算得出的机器人系统的输入力矩、机器人末端执行器的接触力估计以及位置输入至仿真模型中，验证机器人系统的协同搬运控制方法的有效性。主要步骤为：在机器人自由运动过程中，由机器人的参考位置与实际位置计算机器人位置误差，通过误差转换函数对机器人位置误差进行转换，得到机器人系统转换后位置误差，根据机器人系统转换后位置误差和协同搬运动力学模型得到误差传递动力学模型，设计规定性能控制器并计算得出机器人系统运动需要的输入力矩/＞，之后将输入力矩/＞输入到协同搬运动力学模型中，使多个机器人进行协同搬运，在协同搬运过程，由机器人末端执行器的位置计算公式计算出机器人末端执行器的位置，将其输入到机器人系统计算位置误差/＞，从而实现机器人位置控制。具体地，仿真曲线验证了位置跟踪性能与力估计性能。参见图5至图11，图5、图6和图7分别为本发明一实施例中三台机器人协同搬运过程中机器人1、机器人2和机器人3的x轴分量控制误差；图8是本发明一实施例中三台机器人协同搬运过程的效果图；图9、图10和图11分别为本发明一实施例中三台机器人协同搬运过程机器人1、机器人2和机器人3的力跟踪效果图。由图5至图7可以看出，机器人移动平台在搬运过程中被严格限制在误差安全范围内，保证了搬运过程的精度和安全性；图8为三台机器人协同搬运过程效果图，由图8可以看出，机器人可以在较小的误差下完成轨迹跟踪；在图9至图11中，机械臂可以完成对期望力的跟踪控制，保证了在搬运中的安全性。采用上述一种多机器人协同搬运力位混合控制方法，具有如下优点：1.通过设计规定性能控制器，实现多个机器人相互之间严格的误差控制，保证了搬运过程中的精度；2.采用自适应阻抗力控制方法设计机器人末端执行器的接触力估计以及阻抗控制，保证了机器人在搬运过程中的安全性能。以上对本发明所提供的一种多机器人协同搬运力位混合控制方法进行了详细介绍。本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的核心思想。应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明原理的前提下，还可以对本发明进行若干改进和修饰，这些改进和修饰也落入本发明权利要求的保护范围内。
