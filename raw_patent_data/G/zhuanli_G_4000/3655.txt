标题title
一种基于RFID标签识别的打印机智能管理系统及方法
摘要abst
本发明涉及打印管理技术领域，具体为一种基于RFID标签识别的打印机智能管理系统及方法，包括：预处理模块、数据库、信息采集模块、数据分析模块、数据处理模块和信息反馈模块；通过所述预处理模块对标签纸的质量进行测试，并生成商品信息的RFID标签数据；通过所述数据库存储所有商品数据的RFID标签数据；通过所述信息采集模块采集目标区域内摄像头的所有监控内容；通过所述数据分析模块分析监控内容，确认用户挑选的商品类型并分析商品数据是否发生异常；通过所述数据处理模块识别商品正常数据的RFID标签密钥，自助称重打印；通过所述信息反馈模块对商品异常数据进行提醒，提高系统的智能性，为用户生活提供便利。
权利要求书clms
1.一种基于RFID标签识别的打印机智能管理系统，其特征在于：所述系统包括：预处理模块、数据库、信息采集模块、数据分析模块、数据处理模块和信息反馈模块；通过所述预处理模块对标签纸的质量进行测试，并生成商品信息的RFID标签数据；通过所述数据库存储所有商品数据的RFID标签数据；通过所述信息采集模块采集目标区域内摄像头的所有监控内容；通过所述数据分析模块分析监控内容，确认用户挑选的商品类型并分析商品数据是否发生异常；通过所述数据处理模块识别商品正常数据的RFID标签密钥，自助称重打印；通过所述信息反馈模块对商品异常数据进行提醒。2.根据权利要求1所述的一种基于RFID标签识别的打印机智能管理系统，其特征在于：所述预处理模块包括自检测试单元和信息生成单元；所述自检测试单元用于确认标签纸数量并测试放入打印机内的标签纸质量；所述信息生成单元用于根据录入的商品信息生成RFID标签数据，同时在标签数据中配置读写密钥，并将所有数据上传至所述数据库中；所述信息采集模块包括人像采集单元和区域判别单元；所述人像采集单元用于利用OpenCV采集在目标区域内所有的人像信息，并将信息发送至所述区域判别单元；所述区域判别单元用于采集用户区域停留时间，判断用户选择的商品可能数据，进行标记；所述数据分析模块包括趋势判断单元和重量分析单元；所述趋势判断单元用于提取离称重区最近的摄像头用户图像数据，分析用户的打印趋势，若判断为准备自助打印，则进入所述重量分析单元；所述重量分析单元用于分析商品重量，识别用户挑选的商品类型，若无法识别，则确认商品数据异常。3.一种基于RFID标签识别的打印机智能管理方法，其特征在于：包括以下步骤：S100：对标签纸的质量进行测试，并根据录入的商品信息生成商品信息的RFID标签数据；S200：存储步骤S100中所有商品数据的RFID标签数据；S300：将目标区域内的打印机与目标区域内的所有摄像头进行网络互联，采集目标区域内摄像头的所有监控内容；S400：分析步骤S300的监控内容，确认用户挑选的商品类型并分析商品数据是否发生异常；S500：识别商品正常数据的RFID标签密钥，自助称重打印；S600：在商品称重数据发生异常时，确认用户挑选了不同类型的商品，对用户进行语音提醒；同时在打印过程中，商品标签纸识别异常时，将信息发送至相关人员进行及时反馈处理。4.根据权利要求3所述的一种基于RFID标签识别的打印机智能管理方法，其特征在于：在步骤S100中，还包括以下步骤：S101：每当识别到标签纸被放入并合盖时，对标签纸的数量进行确认，对质量存在问题的标签纸进行提醒；S102：采集工作人员录入的所有商品信息，并根据不同的商品信息生成不同的RFID标签数据，形成标签信息集：B。5.根据权利要求3所述的一种基于RFID标签识别的打印机智能管理方法，其特征在于：在步骤S300中：采集目标区域内摄像头的所有监控内容，包括以下步骤：S301：利用OpenCV采集在目标区域内所有的人像信息，形成用户信息集：A；S302：提取用户信息集A中的任意用户信息，对任意用户信息/＞在目标区域内产生的停留时间进行捕捉采集；S303：基于用户停留时间对任意用户信息的目标商品范围进行锁定，并将任意用户信息/＞与所述目标商品范围内各商品对应的标签信息进行关联标记。6.根据权利要求5所述的一种基于RFID标签识别的打印机智能管理方法，其特征在于：在步骤S303中，确认目标商品范围，包括以下步骤：1）在目标区域内构建二维平面坐标系，基于所述二维平面坐标系对数据库中存储的各种类商品所在的位置信息进行相应标识；2）当基于摄像头识别到所述任意用户信息在所述目标区域内某个区域范围的停留时间/＞时，其中/＞表示时间阈值，基于定位算法系统对所述某个区域范围所包含的空间位置信息范围进行提取；3）提取在所述空间位置信息范围内覆盖的所有商品信息，将所述覆盖的所有商品信息判断为用户的目标商品范围，对所述目标商品范围内各商品对应的标签信息进行提取，得到对应所述目标商品范围的商品标签信息集：，其中，/＞，其中，/＞分别表示对应所述目标商品范围内的第1,2,...,s个商品的标签信息，将任意用户信息/＞与商品标签信息集U内各商品的标签信息进行关联标记。7.根据权利要求6所述的一种基于RFID标签识别的打印机智能管理方法，其特征在于：在步骤S400中：分析步骤S300的监控内容，判断用户的打印趋势，确认用户挑选的商品类型，包括以下步骤：S401：对离称重区最近的摄像头提取用户图像数据，分析用户的打印趋势，若所述任意用户信息的打印趋势呈现自助打印，则进入步骤S402；S402：提取商品标签信息集U，捕捉任意用户信息在对最终选中商品进行称重时对应的商品重量信息，根据商品重量信息确认用户挑选的商品类型；在步骤S401中，根据用户路径分析任意用户信息的打印趋势，包括以下步骤：1）当摄像头识别到任意用户信息时，利用定时器进行定时拍照处理，则得到g个图像数据；利用LBP特征提取法分别在所述g个图像数据对用户特征进行提取，基于在各个所述图像数据中识别得到的用户特征分布，分别锁定用户对应各个所述图像数据的空间位置信息；2）将从各个图像数据中得到的空间位置信息进行直线拟合，得到直线拟合方程：；其中，v表示直线拟合方程的斜率，/＞表示常数项；将所述直线拟合方程作为所述任意用户信息/＞的移动轨迹方程；3）提取称重区的位置坐标，获取位置坐标/＞到直线的距离/＞；4）根据距离q分析任意用户信息的打印趋势：当/＞时，其中/＞表示距离误差，则判断任意用户信息/＞的打印趋势呈现自助打印，进入步骤S402；反之，当/＞时，则返回步骤S300。8.根据权利要求7所述的一种基于RFID标签识别的打印机智能管理方法，其特征在于：在步骤S402中，确认用户挑选的商品类型并分析商品称重数据是否发生异常，包括以下步骤：1）获取称重机对当前用户最终选中商品所显示的商品重量w；提取商品标签信息集U内所包含各商品对应的重量，汇成对应的商品重量集S；2）遍历重量集S，分别计算商品重量w与商品标签信息集U内所包含各类型商品对应的平均重量之间的比例：/＞，分别得到商品标签信息集U内所包含各类型商品与商品重量w之间呈现的重量余数，汇得重量余数集合；3）遍历重量余数集合，判断任意重量余数与重量误差/＞的关系：当/＞时，对所述任意重量余数/＞所对应商品的商品标签信息进行提取，设定所述商品标签信息为目标商品标签信息，进入步骤S500；反之，若/＞时，打印机无法识别商品类型，系统判定任意用户信息/＞因挑选了不同类型的商品进行称重导致商品打印数据发生异常，进入步骤S600。9.根据权利要求8所述的一种基于RFID标签识别的打印机智能管理方法，其特征在于：在步骤S500中，还包括以下步骤：S501：对打印机内标签纸张数进行识别：当标签纸的剩余张数p＞0时，则打印机识别标签纸成功，进入步骤S502；反之，当剩余张数p=0时，打印机识别标签纸失败，则不允许打印，进入步骤S600；S502：在目标商品标签信息中提取对应的密钥信息，识别密钥数据，进行智能自助打印，此时，将标签纸剩余张数变为p-1并回写到打印机标签中。
说明书desc
技术领域本发明涉及打印管理技术领域，具体为一种基于RFID标签识别的打印机智能管理系统及方法。背景技术现代社会，无论什么行业的产品，都需要打印标签贴在产品上；随着社会的发展，普通商品标签已经越来越不能满足制造业实时、高效的生产需求，同时随着RFID物联网技术的不断成熟，RFID条码标签打印机也越来越受到许多行业的青睐。RFID打印机实际上是热敏打印机，是一种在加热状态下利用敏感元件的化学反应进行打印的仪器，同时还配备了用于加热热敏纸的半导体元件，通过热敏打印模式，将数据信息打印在标签表面，再通过天线与RFID电子标签芯片进行无线通信，实现对标签芯片内存数据的读取和写入操作。在使用条码数据采集器时，需要对准条形码进行近距离读取；而RFID标签数据可在一定范围内进行被采集读取，最远可达100米；RFID标签信息能更快地被阅读，阅读速率可以实现每秒高达几百个标签；而阅读普通条形码标签，则需一个个进行；普通条形码标签没有内置芯片天线，只能通过条码打印机进行条形码和其它内容的可视化打印；RFID电子标签内涵芯片和天线，在可视化打印同时将数据内容写入芯片中存取，或者仅读写芯片，不进行可视化打印，标签内容具有保密性。发明内容本发明的目的在于提供一种基于RFID标签识别的打印机智能管理系统及方法，以解决上述背景技术中提出的问题。为了解决上述技术问题，本发明提供如下技术方案：一种基于RFID标签识别的打印机智能管理系统，所述系统包括：预处理模块、数据库、信息采集模块、数据分析模块、数据处理模块和信息反馈模块；通过预处理模块对标签纸的质量进行测试，并生成商品信息的RFID标签数据上传至数据库中；通过数据库存储所有商品数据的RFID标签数据；通过信息采集模块采集目标区域内摄像头的所有监控内容，并将打印机与目标区域内的摄像头进行网络互联；通过数据分析模块分析监控内容，根据商品重量确认用户挑选的商品类型并分析商品数据是否发生异常；通过数据处理模块识别商品正常数据的RFID标签密钥，自助称重打印；通过信息反馈模块对商品异常数据进行提醒。进一步的，预处理模块包括自检测试单元和信息生成单元；自检测试单元用于确认标签纸数量并测试放入打印机内的标签纸质量；信息生成单元用于根据录入的商品信息生成RFID标签数据，同时在标签数据中配置读写密钥，并将所有数据上传至数据库中；其中，商品信息包括商品类型、单个商品重量和商品位置；同时，RFID标签数据包括第一存储区和存储控制区，其中，商品数据以16字节进行存储，包括标签宽度、高度、间隔、剩余张数，传感器类型，纸张类型等，最后一个字节是校验码，它存储于RFID标签的第一存储区，并配置了读写密钥；存储控制区设为可读可写；进一步的，数据库用于存储所有商品数据的RFID标签数据，同时存储所有区域的位置信息；进一步的，信息采集模块包括人像采集单元和区域判别单元；人像采集单元用于利用OpenCV采集在目标区域内所有的人像信息，并将信息发送至区域判别单元；区域判别单元用于采集用户区域停留时间，判断用户选择的商品可能数据，并根据用户信息得到个性化商品数据，进行标记；其中，所述目标区域内属于需要自助打印称重的区域。进一步的，数据分析模块包括趋势判断单元和重量分析单元；趋势判断单元用于提取离称重区最近的摄像头用户图像数据，分析用户的打印趋势，若判断为准备自助打印，则提取标记信息，确认该用户的个性化商品数据，进入重量分析单元，反之，则返回信息采集模块；重量分析单元用于分析商品重量，识别用户挑选的商品类型，若无法识别，则确认商品数据异常，反之，若正常识别，则将商品RFID标签数据发送至数据处理模块。进一步的，数据处理模块包括标签纸识别单元和自主打印单元；标签纸识别单元用于在打印过程中识别标签纸的剩余张数，当剩余张数p＞0时，进入自主打印单元；自主打印单元用于读取RFID标签密钥，进行自主打印。进一步的，信息反馈模块包括称重异常反馈单元和打印异常反馈单元；称重异常反馈单元用于对称重异常数据进行反馈，确认用户挑选了不同类型的商品，对用户进行语音提醒；打印异常反馈单元用于将商品标签纸识别异常信息发送至相关人员进行及时反馈处理。一种基于RFID标签识别的打印机智能管理方法，包括以下步骤：S100：对标签纸的质量进行测试，并根据录入的商品信息生成商品信息的RFID标签数据；S200：存储步骤S100中所有商品数据的RFID标签数据；S300：将打印机与目标区域内的摄像头进行网络互联，采集目标区域内摄像头的所有监控内容；S400：分析步骤S300的监控内容，根据商品重量确认用户挑选的商品类型并分析商品数据是否发生异常；S500：识别商品正常数据的RFID标签密钥，自助称重打印；S600：在商品称重数据发生异常时，确认用户挑选了不同类型的商品，对用户进行语音提醒；同时在打印过程中，商品标签纸识别异常时，将信息发送至相关人员进行及时反馈处理。进一步的，在步骤S100中，还包括以下步骤：S101：识别到标签纸被放入并合盖时，确认标签纸数量并对质量存在问题的标签纸进行提醒；S102：采集工作人员录入的所有商品信息，并根据不同的商品信息生成不同的RFID标签数据，形成标签信息集：B。进一步的，在步骤S200中：利用数据库存储所有商品数据的RFID标签数据和目标区域的位置信息。进一步的，在步骤S300中：采集目标区域内摄像头的所有监控内容；在步骤S300中：采集目标区域内摄像头的所有监控内容，包括以下步骤：S301：利用OpenCV采集在目标区域内所有的人像信息，形成用户信息集：A；其中，目标区域内属于需要自助打印称重的区域；S302：提取用户信息集A中的任意用户信息，采集用户/＞分别在区域内的停留时间t；S303：基于用户停留时间对任意用户信息的目标商品范围进行锁定，并将任意用户信息/＞与所述目标商品范围内各商品对应的标签信息进行关联标记；在步骤S303中，确认选择范围，包括以下步骤：1）在目标区域内构建二维平面坐标系，基于所述二维平面坐标系对数据库中存储的各种类商品所在的位置信息进行相应标识；2）当利用摄像头识别到用户在区域内的停留时间时，表示用户有选择该区域内商品的可能性，其中/＞表示时间阈值，利用定位算法确认用户/＞的位置为，此时，以用户/＞的位置为圆心，r为半径建立圆形区域；3）提取在所述空间位置信息范围内覆盖的所有商品信息，将所述覆盖的所有商品信息判断为用户的目标商品范围，对所述目标商品范围内各商品对应的标签信息进行提取，得到对应所述目标商品范围的商品标签信息集：，其中，，其中，/＞分别表示对应所述目标商品范围内的第1,2,...,s个商品的标签信息，将任意用户信息/＞与商品标签信息集U内各商品的标签信息进行关联标记。进一步的，在步骤S400中：分析步骤S300的监控内容，根据商品重量确认用户挑选的商品类型并分析商品数据是否发生异常，具体步骤如下：S401：对离称重区最近的摄像头提取用户图像数据，分析用户的打印趋势，若所述任意用户信息的打印趋势呈现自助打印，则进入步骤S402；在步骤S401中，根据用户路径分析任意用户信息的打印趋势，包括以下步骤：1）当摄像头识别到任意用户信息时，利用定时器进行定时拍照处理，则得到g个图像数据；利用LBP特征提取法分别在所述g个图像数据对用户特征进行提取，基于在各个所述图像数据中识别得到的用户特征分布，分别锁定用户对应各个所述图像数据的空间位置信息；其中，所述LBP特征提取法和所述重合算法均属于本领域技术人员的常规技术手段，因此在本申请中就不再做出过多的赘述；2）根据位置坐标集进行直线拟合：提取位置坐标集,f=1,2,…,g，得到横坐标均值/＞，同理纵坐标均值/＞，则得到直线拟合方程：；其中/＞；其中，v表示直线拟合方程的斜率，/＞表示常数项；将所述直线拟合方程作为所述任意用户信息/＞的移动轨迹方程；3）提取称重区的位置坐标，确认位置/＞到直线的距离为/＞；4）根据距离q分析任意用户信息的打印趋势：当/＞时，表示用户有进行自助称重打印的趋势，其中/＞表示距离误差，则判断用户准备进行自助打印，进入步骤S402；反之，当/＞时，表示用户挑选商品后未打算立刻打印商品，则返回步骤S300。S402：提取相关标签信息集U，进行称重时，分析商品重量，确认用户挑选的商品类型。在步骤S402中，确认用户挑选的商品类型并分析商品称重数据是否发生异常，包括以下步骤：1）获取称重机对当前用户最终选中商品所显示的商品重量w；提取商品标签信息集U内所包含各商品对应的重量，汇成对应的商品重量集S；2）遍历重量集S，分别计算商品重量w与商品标签信息集U内所包含各类型商品对应的平均重量之间的比例：/＞，分别得到商品标签信息集U内所包含各类型商品与商品重量w之间呈现的重量余数，汇得重量余数集合E；其中，各类型表示同一类型商品的不同品种；一般情况下各类型的商品净重并不完全一致，但存在一定规律性，因此当用户挑选的商品重量与单个商品重量成倍数或余数在误差内时，商品类型则可以确认；3）遍历重量余数集合，判断任意重量余数与重量误差/＞的关系：当时，对所述任意重量余数/＞所对应商品的商品标签信息进行提取，设定所述商品标签信息为目标商品标签信息，进入步骤S500；反之，若/＞时，打印机无法识别商品类型，系统判定任意用户信息/＞因挑选了不同类型的商品进行称重导致商品打印数据发生异常，进入步骤S600。进一步的，在步骤S500中，还包括以下步骤：S501：对打印机内标签纸张数进行识别：当标签纸的剩余张数p＞0时，则打印机识别标签纸成功，进入步骤S503；反之，当剩余张数p=0时，打印机识别标签纸失败，则不允许打印，进入步骤S600；S502：在目标商品标签信息中提取对应的密钥信息，识别密钥数据，进行智能自助打印，此时，将标签纸剩余张数变为p-1并回写到打印机标签中；进一步的，在步骤S600中，还包括以下步骤：S601：商品称重数据发生异常时，确认用户挑选了不同类型的商品，对用户进行语音提醒；S602：打印过程中，商品标签纸识别异常时，将信息发送至相关人员进行及时反馈处理。与现有技术相比，本发明所达到的有益效果是：本发明在放入标签纸时，通过确认标签纸数量并测试放入打印机内的标签纸质量，避免了使用非法标签纸以冒充正品，保证了打印的质量和用户权益；通过将打印机与目标区域内的摄像头进行网络互联，实现人工智能，提高系统的智能性，为用户生活提供便利；通过在RFID标签上配置专属密钥，有利于保护数据的安全性，防止数据的篡改等；通过利用摄像头采集用户信息，并根据用户在区域内的停留时间筛选用户个性化商品数据，有利于减少系统的计算时间，提高系统工作效率，减少误差，通过对不同用户形成个性化商品大数据，有利于系统分析的准确性，也同时有利于后续对用户选择商品类型的核实；通过对提取离称重区最近的拍照图像进行图像重合，获取用户移动轨迹，有利于后续对路线的拟合与活动预测的分析；通过建立二维平面坐标，对用户位置变化进行直线拟合，并计算称重区与直线之间的距离，有利于预测用户是否存在称重打印的趋势，利用误差分析有助于路径分析的准确性；通过根据用户最终选中商品所显示的商品重量与单个商品的平均重量进行比较，由于一般情况下各类型的商品净重并不完全一致，但存在一定规律性，因此当用户挑选的商品重量与单个商品重量成倍数或余数在误差内时，商品类型则可以确认，无需利用人工进行输入商品，极大地提高了效率，减少了人工成本；通过识别标签纸剩余张数，分析是否可以正常打印，进行智能提醒，有助于及时对打印标签进行更换增加，提高系统的智能性，为用户生活提供便利。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1是本发明一种基于RFID标签识别的打印机智能管理系统的结构图；图2是本发明一种基于RFID标签识别的打印机智能管理方法的流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1-图2，本发明提供技术方案：一种基于RFID标签识别的打印机智能管理系统，系统包括：预处理模块、数据库、信息采集模块、数据分析模块、数据处理模块和信息反馈模块；通过预处理模块对标签纸的质量进行测试，并生成商品信息的RFID标签数据上传至数据库中；预处理模块包括自检测试单元和信息生成单元；自检测试单元用于确认标签纸数量上传至数据库并测试放入打印机内的标签纸质量，避免了使用非法标签纸以冒充正品，保证了打印的质量和用户权益；信息生成单元用于根据录入的商品信息生成RFID标签数据，同时在标签数据中配置读写密钥，并将所有数据上传至数据库中；其中，商品信息包括商品类型、单个商品重量和商品位置；同时，所述RFID标签数据包括第一存储区和存储控制区，其中，商品数据以16字节进行存储，包括标签宽度、高度、间隔、剩余张数，传感器类型，纸张类型等，最后一个字节是校验码，它存储于RFID标签的第一存储区，并配置了读写密钥；存储控制区设为可读可写。通过数据库存储所有商品数据的RFID标签数据；数据库用于存储所有商品数据的RFID标签数据，同时存储所有区域的位置信息。通过信息采集模块采集目标区域内摄像头的所有监控内容，并将打印机与目标区域内的摄像头进行网络互联，有利于后续对监控内容的分析；信息采集模块包括人像采集单元和区域判别单元；人像采集单元用于利用OpenCV采集在目标区域内所有的人像信息，并将信息发送至区域判别单元；区域判别单元用于采集用户区域停留时间，判断用户选择的商品可能数据：若用户在某一位置停留时间超过阈值，则建立圆形区域，将圆形区域内的商品信息作为个性化商品数据，进行标记；其中，所述目标区域内属于需要自助打印称重的区域；通过对不同用户形成个性化商品大数据，有利于系统分析的准确性，也同时有利于后续对用户选择商品类型的核实。通过数据分析模块分析监控内容，根据商品重量确认用户挑选的商品类型并分析商品数据是否发生异常；数据分析模块包括趋势判断单元和重量分析单元；趋势判断单元用于提取离称重区最近的摄像头用户图像数据，分析用户的打印趋势，若判断为准备自助打印，则提取标记信息，确认该用户的个性化商品数据，进入重量分析单元，反之，则返回信息采集模块；重量分析单元用于分析商品重量，识别用户挑选的商品类型，若无法识别，则确认商品数据异常，反之，若正常识别，则将商品RFID标签数据发送至数据处理模块；通过根据商品的重量分析商品的类型，当用户挑选的商品重量与单个商品重量成倍数或余数在误差内时，商品类型则可以确认，无需利用人工进行输入商品，极大地提高了效率，减少了人工成本。通过数据处理模块识别商品正常数据的RFID标签密钥，自助称重打印；数据处理模块包括标签纸识别单元和自主打印单元；标签纸识别单元用于在打印过程中识别标签纸的剩余张数，当剩余张数P＞0时，进入自主打印单元；自主打印单元用于读取RFID标签密钥，进行自主打印。通过信息反馈模块对商品异常数据进行提醒。信息反馈模块包括称重异常反馈单元和打印异常反馈单元；称重异常反馈单元用于对称重异常数据进行反馈，确认用户挑选了不同类型的商品，对用户进行语音提醒；打印异常反馈单元用于将商品标签纸识别异常信息发送至相关人员进行及时反馈处理。一种基于RFID标签识别的打印机智能管理方法，包括以下步骤：S100：对标签纸的质量进行测试，并根据录入的商品信息生成商品信息的RFID标签数据；在步骤S100中，还包括以下步骤：S101：识别到标签纸被放入并合盖时，确认标签纸数量并对质量存在问题的标签纸进行提醒；S102：采集工作人员录入的所有商品信息，并根据不同的商品信息生成不同的RFID标签数据，形成标签信息集：B。S200：存储步骤S100中所有商品数据的RFID标签数据；在步骤S200中：利用数据库存储所有商品数据的RFID标签数据和目标区域的位置信息。S300：将打印机与目标区域内的摄像头进行网络互联，采集目标区域内摄像头的所有监控内容；在步骤S300中：采集目标区域内摄像头的所有监控内容，包括以下步骤：S301：利用OpenCV采集在目标区域内所有的人像信息，形成用户信息集：A；其中，目标区域内属于需要自助打印称重的区域；S302：提取用户信息集A中的任意用户信息，采集用户/＞分别在区域内的停留时间t；S303：根据用户停留时间t确定任意用户信息选择的商品可能数据，根据用户信息得到个性化商品数据，进行标记；在步骤S303中，确认商品可能数据，包括以下步骤：1）根据目标区域位置构建二维平面坐标系，并对数据库中存储的商品位置信息进行相应标识；2）当利用摄像头识别到用户在区域内的停留时间时，表示用户有选择该区域内商品的可能性，其中/＞表示时间阈值，利用定位算法确认用户/＞的位置为，此时，以用户/＞的位置为圆心，r为半径建立圆形区域；3）提取在所述空间位置信息范围内覆盖的所有商品信息，将所述覆盖的所有商品信息判断为用户的目标商品范围，对所述目标商品范围内各商品对应的标签信息进行提取，得到对应所述目标商品范围的商品标签信息集：，其中，，其中，/＞分别表示对应所述目标商品范围内的第1,2,...,s个商品的的标签信息，将任意用户信息/＞与商品标签信息集U内各商品的标签信息进行关联标记。S400：分析步骤S300的监控内容，根据商品重量确认用户挑选的商品类型并分析商品数据是否发生异常；在步骤S400中：分析步骤S300的监控内容，根据商品重量确认用户挑选的商品类型并分析商品数据是否发生异常，具体步骤如下：S401：提取离称重区最近的摄像头用户图像数据，分析用户的打印趋势，若判断为准备自助打印，则进入步骤S402；在步骤S401中，根据用户路径分析用户的打印趋势，包括以下步骤：1）当摄像头识别到用户时，利用定时器进行定时拍照处理，则得到g个图像数据；利用LBP特征提取法提取g个图像数据的纹理特征，并利用重合算法将每一个像素点相同的图像纹理依次进行像素融合，此时，产生的新的像素点则为用户的移动位置；其中，所述LBP特征提取法和所述重合算法均属于本领域技术人员的常规技术手段，因此在本申请中就不再做出过多的赘述；2）根据位置坐标集进行直线拟合：提取位置坐标集，得到横坐标均值/＞，同理纵坐标均值/＞，则得到直线拟合方程：；其中其中，v表示直线拟合方程的斜率，表示常数项；将所述直线拟合方程作为所述任意用户信息/＞的移动轨迹方程；3）提取称重区的位置坐标，确认位置/＞到直线/＞的距离为/＞；4）根据距离q分析用户的打印趋势：当/＞时，表示用户有进行自助称重打印的趋势，其中/＞表示距离误差，则判断用户准备进行自助打印，进入步骤S402；反之，当时，表示用户挑选商品后未打算立刻打印商品，则返回步骤S300。S402：提取相关标签信息集U，进行称重时，分析商品重量，确认用户挑选的商品类型。在步骤S402中，确认用户挑选的商品类型并分析商品称重数据是否发生异常，包括以下步骤：1）获取称重机对当前用户最终选中商品所显示的商品重量w；提取商品标签信息集U内所包含各商品对应的重量，汇成对应的商品重量集S；2）遍历重量集S，分别计算商品重量w与商品标签信息集U内所包含各类型商品对应的平均重量之间的比例：/＞，分别得到商品标签信息集U内所包含各商品与商品重量w之间呈现的重量余数，汇得重量余数集合E；其中，各类型表示同一类型商品的不同品种；一般情况下各类型的商品净重并不完全一致，但存在一定规律性，因此当用户挑选的商品重量与单个商品重量成倍数或余数在误差内时，商品类型则可以确认；3）遍历重量余数集合，判断任意重量余数与重量误差/＞的关系：当时，对所述任意重量余数/＞所对应商品的商品标签信息进行提取，设定所述商品标签信息为目标商品标签信息，进入步骤S500；反之，若/＞时，打印机无法识别商品类型，系统判定任意用户信息/＞因挑选了不同类型的商品进行称重导致商品打印数据发生异常，进入步骤S600。S500：识别商品正常数据的RFID标签密钥，自助称重打印；在步骤S500中，还包括以下步骤：S501：对打印机内标签纸张数进行识别：当标签纸的剩余张数p＞0时，则打印机识别标签纸成功，进入步骤S502；反之，当剩余张数p=0时，打印机识别标签纸失败，则不允许打印，进入步骤S600；S502：提取商品RFID标签信息，识别密钥数据，进行智能自助打印，此时，将标签纸剩余张数变为p-1并回写到打印机标签中；S600：对商品异常数据进行提醒；在步骤S600中，还包括以下步骤：S601：商品称重数据发生异常时，确认用户挑选了不同类型的商品，对用户进行语音提醒；S602：打印过程中，商品标签纸识别异常时，将信息发送至相关人员进行及时反馈处理。实施例一：在步骤S100中，还包括以下步骤：S101：识别到标签纸被放入并合盖时，确认标签纸数量1000，并对标签纸的质量进行自检，此时标签纸检测正常；目前，RFID技术已经应用于许多大型超市管理中，然而在许多超市里，存在许多商品是需要称重并打印标签信息的，这些过程的实施均需要人工进行处理，当客户量过大时，由于人力有限会出现排队时间过长的现象，大大增加了时间成本。S102：采集工作人员录入的所有商品信息{“苹果，600g，”,“西瓜，1.5kg，”...}，并根据不同的商品信息生成不同的RFID标签数据，形成标签信息集：B。在步骤S200中：利用数据库存储所有商品数据的RFID标签数据和目标区域的位置信息。在步骤S300中：采集目标区域内摄像头的所有监控内容，包括以下步骤：S301：利用OpenCV采集在目标区域内所有的人像信息，形成用户信息集：A；其中，所述目标区域内属于需要自助打印称重的区域；S302：提取用户信息集A中的任意用户信息，采集用户/＞分别在区域内的停留时间t；S303：根据用户停留时间t确定用户选择的商品可能数据，根据用户信息得到个性化商品数据，进行标记；在步骤S303中，确认商品可能数据，包括以下步骤：1）根据目标区域位置构建二维平面坐标系，并对数据库中存储的商品位置信息进行相应标识；2）当利用摄像头识别到用户在区域内的停留时间t＞5s时，表示用户有选择该区域内商品的可能性；利用定位算法提取停留时间t=10s时用户的位置为，此时，以用户/＞的位置为圆心，r为半径建立圆形区域：2+2=4；3）提取在圆形区域内覆盖到的5个商品信息，将其确认为商品可能数据，形成用户的个性化商品大数据，得到相关标签信息集：,j=1,2,...,5，其中，/＞，此时，将用户/＞与标签信息集U进行标记对应。在步骤S400中：分析步骤S300的监控内容，根据商品重量确认用户挑选的商品类型并分析商品数据是否发生异常，具体步骤如下：S401：提取离称重区最近的摄像头用户图像数据，分析用户的打印趋势，若判断为准备自助打印，则进入步骤S402；S402：提取相关标签信息集U，进行称重时，分析商品重量，确认用户挑选的商品类型。在步骤S401中，根据用户路径分析用户的打印趋势，包括以下步骤：/＞1）当摄像头v识别到用户时，利用定时器进行定时拍照处理，则得到3个图像数据；利用LBP特征提取法提取3个图像数据的纹理特征，并利用重合算法将每一个像素点相同的图像纹理依次进行像素融合，此时，产生的新的像素点则为用户的移动位置；2）以摄像头v的位置为中心建立二维平面坐标，提取用户的移动位置，并根据摄像内用户的图像大小分析确认用户/＞的实际位置坐标，得到位置坐标集：=,f=1,2,...,10；3）根据位置坐标集进行直线拟合：提取位置坐标集={,,}，得到横坐标均值，同理纵坐标均值，则得到直线拟合方程：/＞；其中/＞；4）提取称重区的位置坐标，确认位置到直线的距离为；5）根据距离q分析用户的打印趋势：此时q≤2时，表示用户有进行自助称重打印的趋势，则判断用户准备进行自助打印，进入步骤S402；在步骤S402中，确认用户挑选的商品类型并分析商品称重数据是否发生异常，包括以下步骤：1）进行称重时，利用称重机识别商品重量为3.7kg，则提取相关标签信息集中5个商品的重量，形成重量集S={0.6,1,1.5...}；2）遍历重量集S，根据，得到5个商品的重量余数E={0.01,0.7,0.7,...},j=1,2,...,5；3）遍历重量余数E，判断任意商品重量余数与重量误差/＞的关系：时，则表示商品称重数据正常，此时确认该商品标签信息为/＞={“苹果，600g，”}，进入步骤S500；在步骤S500中，还包括以下步骤：S501：对打印机内标签纸张数进行识别：标签纸的剩余张数p=500,则打印机识别标签纸成功，进入步骤S502；S502：提取商品RFID标签信息，识别密钥数据，进行智能自助打印，此时，将标签纸剩余张数变为500-1=499并回写到打印机标签中；/＞最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
