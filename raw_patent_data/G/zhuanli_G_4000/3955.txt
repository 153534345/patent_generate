标题title
一种小车防碰撞控制方法
摘要abst
本发明公开了一种小车防碰撞控制方法，包括：步骤1：控制系统接收从起始地到目的地的至少一条搬送指令；步骤2：控制系统对若干个搬送指令进行分析排序；步骤3：控制系统将分析排序后选择的搬送指令传输至搬运小车；步骤4：控制系统判断当前搬运小车是否能进行安全运输；步骤5：搬运小车依据步骤4的判断结果执行搬送任务，从而可以智能的选择执行当前搬运指令或者替换当前搬运指令，执行无路径干涉的其他指令，来有效的减少搬运小车的等待时间，最大化搬运小车的运行时间。
权利要求书clms
1.一种小车防碰撞控制方法，其特征在于，包括以下步骤：步骤1：控制系统接收从起始地到目的地的至少一条搬送指令；步骤2：控制系统对若干个搬送指令进行分析排序；步骤3：控制系统将分析排序后选择的搬送指令传输至搬运小车；步骤4：控制系统判断当前搬运小车是否能进行安全运输；步骤5：搬运小车依据步骤4的判断结果执行搬送任务。2.根据权利要求1的一种小车防碰撞控制方法，其特征在于：控制系统判断当前搬运小车是否能进行安全运输的步骤为：判断当前搬运小车是否存在关联的安全边界设定值。3.根据权利要求2的一种小车防碰撞控制方法，其特征在于：若当前搬运小车不存在安全边界设定值，则由当前搬送指令计算后设定第一安全边界，当前搬运小车去往搬送指令的目的地，执行搬送动作，到达目的地后将之前设置的第一安全边界重置。4.根据权利要求3的一种小车防碰撞控制方法，其特征在于：第一安全边界存在期间会影响到下一个搬运小车的搬送移动。5.根据权利要求4的一种小车防碰撞控制方法，其特征在于：若存在关联的安全边界设定值，判断当前搬送小车要去往的目的地与第一安全边界是否存在路径干涉。6.根据权利要求5的一种小车防碰撞控制方法，其特征在于：若不存在路径干涉，则当前搬运小车去往搬运指令的目的地，完成搬送动作；若存在路径干涉，筛选是否还有无路径干涉的等待指令；若找到等待指令，则替换当前搬运小车的当前搬送指令，确保当前搬运小车能安全去往目的地，执行搬送动作；若存在路径干涉但又没有可用的等待指令，则根据第一安全边界的位置、当前搬运指令的目的地位置以及前一个搬运小车的实时位置综合分析后，得到当前搬运小车可前往的等待位置。7.根据权利要求6的一种小车防碰撞控制方法，其特征在于：当前搬运小车依据前往等待位置的动作指令，去往等待位置，当前一个搬运小车完成搬送任务后重置安全边界。8.根据权利要求7的一种小车防碰撞控制方法，其特征在于：当前搬运小车重新设置第一安全边界，前一个搬运小车实行实时距离管控，避让当前搬运小车至新的安全边界，当前搬运小车依据搬运指令，执行搬送动作，到达目的地后，重置当前搬运小车的第一安全边界。9.根据权利要求7的一种小车防碰撞控制方法，其特征在于：实时距离管控的步骤为：各搬运小车之间的实时位置进行信息交互，在出现搬送交叉或干涉的情况下，实现跟随、避让搬送逻辑，保证各搬运小车之间的安全距离，若出现异常则紧急停止搬送任务；实时距离管控的步骤还包括：若当前搬运小车没有搬运指令，当有其他搬运小车距离当前搬运小车越来越近时，判定是否存在路径干涉；若存在，则当前搬运小车执行避让动作；若不存在，则原地不动；若当前搬运小车正在执行搬运指令，当距离其他搬运小车距离越来越近时，判定是否存在路径干涉，若存在，则当前搬运小车先移动至等待位置，并等待其他搬运小车的避让，当其他搬运小车避让后持续跟随移动；若不存在，则直接前往目的地。10.根据权利要求9的一种小车防碰撞控制方法，其特征在于：所述安全边界的范围为Se- Sn；Se为搬运小车急停和/或电机抱死，仅凭摩擦力将小车从高速状态刹车至停止状态的距离；Se = vt1 – 0.5g t1²；式中v：小车行驶的最大速度；t1：小车的急停时间,t1 = v/g；um：小车电机抱死的摩擦系数；uw：小车轮子与轨道的摩擦系数；g：重力加速度；Sn为搬运小车受到伺服电机控制，从高速状态匀减速至停滞状态的距离；Sn= v t2 – 0.5 a t2²；式中，v：小车行驶的最大速度；t2：伺服设置的停止时间；a：伺服给与的刹车减速度；a =v/ t2。
说明书desc
技术领域本发明涉及物流设备技术领域，具体是一种小车防碰撞控制方法。背景技术当前自动化物流设备多小车的搬送规则：将整个物流设备搬送范围分为2N-1个区域，包括N个私有区域 + 个交互区域。每个小车负责各自私有区域的搬送，交互区域用于相邻两个小车的物料传递，每个小车只在自己的私有区域和相邻的交互区域搬送，不能到其他私有区域进行搬送，当某个交互搬送区域中已经有一个小车时，另外一个小车不能进入该区域。现有技术存在以下缺点：搬运小车不能跨区域搬送，设备利用率低；各个搬运小车之间不知道对方的实时位置，在移动时存在一定的碰撞安全隐患。发明内容本发明的目的在于提供一种小车防碰撞控制方法，以解决背景技术中所提及的技术问题。本发明提出来一种技术方案是：一种小车防碰撞控制方法，包括以下步骤：步骤1：控制系统接收从起始地到目的地的至少一条搬送指令；步骤2：控制系统对若干个搬送指令进行分析排序；步骤3：控制系统将分析排序后选择的搬送指令传输至搬运小车；步骤4：控制系统判断当前搬运小车是否能进行安全运输；步骤5：搬运小车依据步骤4的判断结果执行搬送任务。控制系统判断当前搬运小车是否能进行安全运输的步骤为：判断当前搬运小车是否存在关联的安全边界设定值。若当前搬运小车不存在安全边界设定值，则由当前搬送指令计算后设定第一安全边界，当前搬运小车去往搬送指令的目的地，执行搬送动作，到达目的地后将之前设置的第一安全边界重置。第一安全边界存在期间会影响到下一个搬运小车的搬送移动。若存在关联的安全边界设定值，判断当前搬送小车要去往的目的地与第一安全边界是否存在路径干涉。若不存在路径干涉，则当前搬运小车去往搬运指令的目的地，完成搬送动作；若存在路径干涉，筛选是否还有无路径干涉的等待指令；若找到等待指令，则替换当前搬运小车的当前搬送指令，确保当前搬运小车能安全去往目的地，执行搬送动作；若存在路径干涉但又没有可用的等待指令，则根据第一安全边界的位置、当前搬运指令的目的地位置以及前一个搬运小车的实时位置综合分析后，得到当前搬运小车可前往的等待位置。当前搬运小车依据前往等待位置的动作指令，去往等待位置，当前一个搬运小车完成搬送任务后重置安全边界。当前搬运小车重新设置第一安全边界，前一个搬运小车实行实时距离管控，避让当前搬运小车至新的安全边界，当前搬运小车依据搬运指令，执行搬送动作，到达目的地后，重置当前搬运小车的第一安全边界。实时距离管控的步骤为：各搬运小车之间的实时位置进行信息交互，在出现搬送交叉或干涉的情况下，实现跟随、避让搬送逻辑，保证各搬运小车之间的安全距离，若出现异常则紧急停止搬送任务。实时距离管控的步骤还包括：若当前搬运小车没有搬运指令，当有其他搬运小车距离当前搬运小车越来越近时，判定是否存在路径干涉；若存在，则当前搬运小车执行避让动作；若不存在，则原地不动；若当前搬运小车正在执行搬运指令，当距离其他搬运小车距离越来越近时，判定是否存在路径干涉，若存在，则当前搬运小车先移动至等待位置，并等待其他搬运小车的避让，当其他搬运小车避让后持续跟随移动；若不存在，则直接前往目的地。所述安全边界的范围为Se至Sn；Se为搬运小车急停和/或电机抱死，仅凭摩擦力将小车从高速状态刹车至停止状态的距离；Se = vt1 – 0.5g t1²；式中v：小车行驶的最大速度；t1：小车的急停时间， t1 = v/g；um：小车电机抱死的摩擦系数；uw：小车轮子与轨道的摩擦系数；g：重力加速度；Sn为搬运小车受到伺服电机控制，从高速状态匀减速至停滞状态的距离；Sn= v t2 – 0.5 a t2²；式中，v：小车行驶的最大速度；t2：伺服设置的停止时间；a：伺服给与的刹车减速度；a = v/ t2。本发明通过改进在此提供一种小车防碰撞控制方法，与现有技术相比，具有如下改进及优点：当某个搬运小车设定了一个安全边界后，其他搬运小车会根据安全边界的位置和各个搬运指令的目的地，智能的选择执行当前搬运指令或者替换当前搬运指令，执行无路径干涉的其他指令，来有效的减少小车的等待时间，最大化小车的运行时间。综合安全边界位置和小车实时位置互相通信，能应对不同的搬送场景，解决复杂的搬送需求，完成搬运小车独立搬送、跟随搬送以及避让搬送等复杂搬送逻辑，最大化我们的搬送次数。附图说明下面结合附图和实施例对本发明作进一步解释:图1为本发明实施例的第一逻辑框图；图2为本发明实施例中搬运小车运动的路径示意图；图3为本发明实施例的第二逻辑框图。实施方式本发明的核心是提供一种小车防碰撞控制方法，以解决背景技术中所提及的问题。下面将结合附图1至图3对本发明进行详细说明，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明的是，本发明实施例中所使用的“第一”“第二”等描述仅用于描述目的，不应当理解为其指示或隐含指示所限定的技术特征的数量，由此，本说明书各实施例中限定有“第一”“第二”的特征可以表明包括至少一个该被限定的技术特征。本说明书中所记载的本发明的各个实施例之间的技术方案可以相互结合，但是必须是以本领域普通技术人员能够实现为基础，当技术方案的结合出现相互矛盾或无法实现时，应当认为该技术方案的结合不存在。第一方面，本发明为一种小车搬送控制系统，包括：物流仓储模块、小车运动控制模块以及中央控制模块，中央控制模块与小车运动模块通信连接，物流仓储模块包括多个物流储位点，每个物流储位点均设置有至少两层存储仓，小车搬运控制模块设置在搬运小车上，用以控制搬运小车从物流储位点搬运货物。中央控制模块包括起始位置信号发送单元、中央处理器以及目的地信号发送单元，起始位置信号发送单元与中央处理器通信连接，目的地信号发生单元与中央处理器通信连接。该搬送控制系统的搬运步骤为中央处理器接收起始位置及目的地发出的多条搬送指令；中央处理器对多条搬送指令进行分析及整理；中央处理器将分析及整理后的搬送指令发送至小车运动控制模块；小车运动控制模块控制搬运小车执行搬送指令。第二方面，如图1-3所示，本发明为一种小车防碰撞控制方法，包括以下步骤：步骤1：控制系统接收从起始地到目的地的至少一条搬送指令；步骤2：控制系统对若干个搬送指令进行分析排序；步骤3：控制系统将分析排序后选择的搬送指令传输至搬运小车；步骤4：控制系统判断当前搬运小车是否能进行安全运输；步骤5：搬运小车依据步骤4的判断结果执行搬送任务。通过上述控制方法，小车不再局限于原有设定的搬送区域，能够跨越区域到相邻小车的区域进行搬送，提高设备的利用率；搬运小车的可搬送位置不是死板的设定位置，而是根据各个搬运小车的状态、指令的路径综合运算得出，能够最大化搬运小车的搬送速度。控制系统判断当前搬运小车是否能进行安全运输的步骤为：判断当前搬运小车是否存在关联的安全边界设定值。若当前搬运小车不存在安全边界设定值，则由当前搬送指令计算后设定第一安全边界，当前搬运小车去往搬送指令的目的地，执行搬送动作，到达目的地后将之前设置的第一安全边界重置，第一安全边界存在期间会影响到下一个搬运小车的搬送移动。在本发明的一个实施例中，若存在关联的安全边界设定值，判断当前搬送小车要去往的目的地与第一安全边界是否存在路径干涉。若不存在路径干涉，则当前搬运小车去往搬运指令的目的地，完成搬送动作；若存在路径干涉，筛选是否还有无路径干涉的等待指令；若找到等待指令，则替换当前搬运小车的当前搬送指令，确保当前搬运小车能安全去往目的地，执行搬送动作；若存在路径干涉但又没有可用的等待指令，则根据第一安全边界的位置、当前搬运指令的目的地位置以及前一个搬运小车的实时位置综合分析后，得到当前搬运小车可前往的等待位置。当前搬运小车依据前往等待位置的动作指令，去往等待位置，当前一个搬运小车完成搬送任务后重置安全边界。当前搬运小车重新设置第一安全边界，前一个搬运小车实行实时距离管控，避让当前搬运小车至新的安全边界，当前搬运小车依据搬运指令，执行搬送动作，到达目的地后，重置当前搬运小车的第一安全边界。使得搬运小车的可搬送位置不是死板的设定位置，而是根据各个小车的状态、指令的路径综合运算得出，能够最大化搬运小车的搬送速度，实时刷新的安全边界既能保证搬运小车的安全性，也能给与各个搬运小车安全移动的范围，当某个搬运小车设定了一个安全边界后，其他小车会根据安全边界的位置和各个搬运指令的目的地，智能的选择执行当前搬运指令或者替换当前搬运指令，执行无路径干涉的其他指令，来有效的减少小车的等待时间，最大化搬运小车的运行时间。实时距离管控的步骤为：各搬运小车之间的实时位置进行信息交互，在出现搬送交叉或干涉的情况下，实现跟随、避让搬送逻辑，保证各搬运小车之间的安全距离，若出现异常则紧急停止搬送任务。实时距离管控的步骤还包括：若当前搬运小车没有搬运指令，当有其他搬运小车距离当前搬运小车越来越近时，判定是否存在路径干涉；若存在，则当前搬运小车执行避让动作；若不存在，则原地不动；若当前搬运小车正在执行搬运指令，当距离其他搬运小车距离越来越近时，判定是否存在路径干涉，若存在，则当前搬运小车先移动至等待位置，并等待其他搬运小车的避让，当其他搬运小车避让后持续跟随移动；若不存在，则直接前往目的地。各个搬运小车间互相知晓对方的实时位置信息，若实时间距小于设定的安全值，则触发对应的安全保护机制，若两个搬运小车的间距小于设定的安全警告距离，则让两个搬运小车停止运行并产生报警；若两个搬运小车的间距小于设定的安全急停距离，则将搬运小车断电急停，保护设备间不发生碰撞。综合安全边界位置和小车实时位置互相通信，能应对不同的搬送场景，解决复杂的搬送需求，完成搬运小车独立搬送、跟随搬送以及避让搬送等复杂搬送逻辑，最大化我们的搬送次数。所述安全边界的范围为Se至Sn；Se为搬运小车急停和/或电机抱死，仅凭摩擦力将小车从高速状态刹车至停止状态的距离；Se = vt1 – 0.5g t1²；式中v：小车行驶的最大速度；t1：小车的急停时间， t1 = v/g；um：小车电机抱死的摩擦系数；uw：小车轮子与轨道的摩擦系数；g：重力加速度；Sn为搬运小车受到伺服电机控制，从高速状态匀减速至停滞状态的距离；Sn= v t2 – 0.5 a t2²式中，v：小车行驶的最大速度；t2：伺服设置的停止时间；a：伺服给与的刹车减速度；a = v/ t2。将搬运小车的安全边界限定在Se-Sn的范围区间内，从而能避免搬运小车碰撞事故的发生，并且能保证搬运小车的搬送效率。以上仅为本发明的较佳实施例，并非因此限制本发明的专利保护范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
