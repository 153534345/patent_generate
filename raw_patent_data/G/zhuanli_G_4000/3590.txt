标题title
油位异常检测方法、装置、设备及计算机可读存储介质
摘要abst
本发明公开了一种油位异常检测方法、装置、设备及计算机可读存储介质，所述方法包括：获取油位数据以及平滑数据；根据当前时刻的第一预设时间窗口内的平滑数据的一阶差分确定油位异常阈值，根据油位异常阈值以及当前时刻的油位数据的一阶差分，确定当前时刻是否为可疑时刻；根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的油位数据的中位数，确定当前可疑时刻是否为异常时刻；对当前异常时刻及其前时刻和后时刻的第二预设时间窗口内的油位数据的中位数进行线性拟合，根据拟合的线性函数确定当前异常时刻是否存在油位异常。利用本发明公开的方法，可以提高油位异常检测的准确性，可以提高偷油行为的监测效率以及监测精准度。
权利要求书clms
1.一种油位异常检测方法，其特征在于，包括：获取车辆的油位数据以及平滑处理所述油位数据得到的平滑数据，其中，所述油位数据及所述平滑数据均为时间序列数据；针对每一时刻，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，并根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻；针对每一可疑时刻，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻；针对每一异常时刻，对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，并根据拟合的线性函数确定当前异常时刻是否存在油位异常，其中，所述第二预设时间窗口大小为/＞。2.根据权利要求1所述的油位异常检测方法，其特征在于，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，包括：根据异常阈值计算公式以及所述当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分，计算马氏距离以及置信度，并对所述置信度以及马氏距离加权求和，确定油位异常阈值，所述异常阈值计算公式为：；其中，为车辆i在当前时刻t的所述平滑数据，/＞为车辆i在当前时刻t的所述平滑数据的一阶差分，/＞为车辆i在当前时刻t的前n时刻的所述平滑数据的一阶差分，n为所述第一预设时间窗口的值，/＞为车辆i在当前时刻t的第一预设时间窗口内的所述平滑数据的一阶差分的均值，/＞为车辆i在当前时刻t的第一预设时间窗口内的所述平滑数据的一阶差分的标准差，/＞为所述马氏距离，/＞为协方差的逆，/＞为所述置信度，/＞为所述油位异常阈值，/＞、/＞为权值参数。3.根据权利要求1所述的油位异常检测方法，其特征在于，根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻，包括：若当前时刻的所述油位数据的一阶差分小于或等于所述油位异常阈值，并且当前时刻的所述油位数据的一阶差分小于0，确定当前时刻为可疑时刻。4.根据权利要求1所述的油位异常检测方法，其特征在于，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻，包括：若当前可疑时刻的前一时刻的第一预设时间窗口内的所述油位数据的中位数与系数的乘积，大于当前可疑时刻的后一时刻的第一预设时间窗口内的所述油位数据的中位数的判断公式成立，确定当前可疑时刻为异常时刻，所述判断公式为：；其中，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为当前可疑时刻，n为所述第一预设时间窗口的值，/＞为系数，/＞。5.根据权利要求1所述的油位异常检测方法，其特征在于，所述对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，包括：以当前异常时刻的所述油位数据以及当前异常时刻前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数/＞作为纵坐标/＞的样本，以/＞作为横坐标x的样本进行拟合，得到线性函数/＞；其中，为当前异常时刻，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，a1、a2为所述线性函数的斜率，b1、b2为所述线性函数的截距，R为实数。6.根据权利要求1所述的油位异常检测方法，其特征在于，根据拟合的线性函数确定当前异常时刻是否存在油位异常，包括：根据拟合的线性函数以及均方根误差计算公式，计算均方根误差；若 ，/＞，且当前异常时刻及所述当前异常时刻之后时刻对应的线性函数的斜率/＞，确定当前异常时刻存在油位异常；其中，所述均方根误差计算公式为；其中，/＞为预设的大于0小于0.1的阈值，/＞为预设的大于0小于0.05的阈值，/＞为所述当前异常时刻的所述油位数据，/＞为当前异常时刻/＞对应的线性函数值，/＞为当前异常时刻前/＞时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为/＞对应的线性函数值。7.根据权利要求1所述的油位异常检测方法，其特征在于，所述获取车辆的油位数据之后，还包括：对所述油位数据中值为0的数据进行过滤。8.一种油位异常检测装置，其特征在于，包括数据获取模块、可疑时刻确定模块、异常时刻确定模块及油位异常判断模块；所述数据获取模块，用于获取车辆的油位数据以及平滑处理所述油位数据得到的平滑数据，其中，所述油位数据及所述平滑数据均为时间序列数据；所述可疑时刻确定模块，用于针对每一时刻，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，并根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻；所述异常时刻确定模块，用于针对每一可疑时刻，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻；所述油位异常判断模块，用于针对每一异常时刻，对当前异常时刻及其前时刻和后时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，并根据拟合的线性函数确定当前异常时刻是否存在油位异常，其中，所述第二预设时间窗口大小为/＞。9.一种油位异常检测设备，其特征在于，包括存储器和处理器，其中：所述存储器用于存储计算机程序；所述处理器用于读取所述存储器中的计算机程序，并执行如权利要求1~7所述的任一油位异常检测方法的步骤。10.一种计算机可读存储介质，其特征在于，其上存储有可读的计算机程序，该程序被处理器执行时实现如权利要求1~7所述的任一油位异常检测方法的步骤。
说明书desc
技术领域本发明涉及油位检测技术领域，具体涉及一种油位异常检测方法、装置、设备及计算机可读存储介质。背景技术燃油作为一种动力来源，其被广泛的使用在汽车上；随着燃油成本的不断提高，交通运输行业对于燃油成本管控变得越来越重要。偷油行为等情况会导致燃油的油位异常，通过对油位异常进行检测可以实现对偷油行为的监测，进而可以节省交通运输的成本。现有偷油行为的监测方案主要是通过人工巡检和视频设备监测来实现，但这种方案效率较低，并且视频设备容易被遮挡，容易出现误判，监测精准度较低。发明内容本发明提供一种油位异常检测方法、装置、设备及计算机可读存储介质，用以解决现有技术中偷油行为的监测效率较低及精准度较低的技术问题。为了解决上述技术问题，第一方面，本发明提供一种油位异常检测方法，该油位异常检测方法包括：获取车辆的油位数据以及平滑处理所述油位数据得到的平滑数据，其中，所述油位数据及所述平滑数据均为时间序列数据；针对每一时刻，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，并根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻；针对每一可疑时刻，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻；针对每一异常时刻，对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，并根据拟合的线性函数确定当前异常时刻是否存在油位异常，其中，所述第二预设时间窗口大小为/＞。可选地，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，包括：根据异常阈值计算公式以及所述当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分，计算马氏距离以及置信度，并对所述置信度以及马氏距离加权求和，确定油位异常阈值，所述异常阈值计算公式为：：其中，为车辆i在当前时刻t的所述平滑数据，/＞为车辆i在当前时刻t的所述平滑数据的一阶差分，/＞为车辆i在当前时刻t的前n时刻的所述平滑数据的一阶差分，n为所述第一预设时间窗口的值，/＞为车辆i在当前时刻t的第一预设时间窗口内的所述平滑数据的一阶差分的均值，/＞为车辆i在当前时刻t的第一预设时间窗口内的所述平滑数据的一阶差分的标准差，/＞为所述马氏距离，/＞为协方差的逆，/＞为所述置信度，/＞为所述油位异常阈值，/＞、/＞为权值参数。可选地，根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻，包括：若当前时刻的所述油位数据的一阶差分小于或等于所述油位异常阈值，并且当前时刻的所述油位数据的一阶差分小于0，确定当前时刻为可疑时刻。可选地，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻，包括：若当前可疑时刻的前一时刻的第一预设时间窗口内的所述油位数据的中位数与系数的乘积，大于当前可疑时刻的后一时刻的第一预设时间窗口内的所述油位数据的中位数的判断公式成立，确定当前可疑时刻为异常时刻，所述判断公式为：；其中，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为当前可疑时刻，n为所述第一预设时间窗口的值，/＞为系数，/＞。可选地，所述对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，包括：以当前异常时刻的所述油位数据以及当前异常时刻前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数/＞作为纵坐标/＞的样本，以/＞作为横坐标x的样本进行拟合，得到线性函数：；其中，为当前异常时刻，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，a1、a2为所述线性函数的斜率，b1、b2为所述线性函数的截距，R为实数。可选地，根据拟合的线性函数确定当前异常时刻是否存在油位异常，包括：根据拟合的线性函数以及均方根误差计算公式，计算均方根误差；若 ，/＞，且当前异常时刻及所述当前异常时刻之后时刻对应的线性函数的斜率/＞，确定当前异常时刻存在油位异常；其中，所述均方根误差计算公式为：；其中，为预设的大于0小于0.1的阈值，/＞为预设的大于0小于0.05的阈值，/＞为所述当前异常时刻的所述油位数据，/＞为当前异常时刻/＞对应的线性函数值，/＞为当前异常时刻前/＞时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为/＞对应的线性函数值。可选地，所述获取车辆的油位数据之后，还包括：对所述油位数据中值为0的数据进行过滤。第二方面，本发明提供了一种油位异常检测装置，包括数据获取模块、可疑时刻确定模块、异常时刻确定模块及油位异常判断模块；所述数据获取模块，用于获取车辆的油位数据以及平滑处理所述油位数据得到的平滑数据，其中，所述油位数据及所述平滑数据均为时间序列数据；所述可疑时刻确定模块，用于针对每一时刻，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，并根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻；所述异常时刻确定模块，用于针对每一可疑时刻，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻；所述油位异常判断模块，用于针对每一异常时刻，对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，并根据拟合的线性函数确定当前异常时刻是否存在油位异常，其中，所述第二预设时间窗口大小为/＞。第三方面，本发明提供一种油位异常检测设备，包括存储器和处理器，其中：所述存储器用于存储计算机程序；所述处理器用于读取所述存储器中的程序并执行如上述第一方面提供的油位异常检测方法的步骤。第四方面，本发明提供一种计算机可读存储介质，其上存储有可读的计算机程序，该程序被处理器执行时实现如上述第一方面提供的油位异常检测方法的步骤。与现有技术相比，本发明提供的一种油位异常检测方法、装置、设备及计算机可读存储介质，具有以下有益效果：可以提高油位异常检测的准确性，并可以提高偷油行为的监测效率以及监测精准度；通过获取车辆的油位数据以及平滑处理所述油位数据得到的平滑数据，针对每一时刻，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，并根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻；可以从时间序列数据中初步确定可疑时刻，从而对油位数据进行初步筛选；通过针对每一可疑时刻，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻；可以从可疑时刻的集合中确定异常时刻，从而实现对油位数据的进一步筛选，以便最终判断油位异常；针对每一异常时刻，对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，并根据拟合的线性函数确定当前异常时刻是否存在油位异常；可以从所有异常时刻对应的油位数据中进一步进行筛选，以确定油位异常，从而可以提高油位异常检测的准确性，进而可以提高偷油行为的监测效率以及监测精准度。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一部分实施例，而不是全部的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，根据这些附图获得的其他的附图，都属于本申请保护的范围。图1是本发明实施例提供的一种油位异常检测方法的流程示意图。图2是本发明实施例提供的一种油位异常检测装置的结构示意图。图3是本发明实施例提供的一种油位异常检测设备的结构示意图。图4是本发明实施例提供的一种计算机可读存储介质的结构示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，下面结合附图和具体实施例对本发明作进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。为了使本揭示内容的叙述更加详尽与完备，下文针对本发明的实施方式与具体实施例提出了说明性的描述；但这并非实施或运用本发明具体实施例的唯一形式。实施方式中涵盖了多个具体实施例的特征以及用以建构与操作这些具体实施例的方法步骤与其顺序。然而，亦可利用其它具体实施例来达成相同或均等的功能与步骤顺序。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。实施例1如图1所述，为本发明实施例提供的一种油位异常检测方法的流程示意图，该油位异常检测方法包括以下步骤。步骤S101，获取车辆的油位数据以及平滑处理所述油位数据得到的平滑数据，其中，所述油位数据及所述平滑数据均为时间序列数据；其中，可以通过OBD检测设备实时采集车辆燃油的油位数据，以获取车辆的油位数据；可以将车辆的油位数据实时传入到大数据平台。作为一种可选的实施方式，所述获取车辆的油位数据之后，还包括：对所述油位数据中值为0的数据进行过滤。其中，所述油位数据中值为0的数据为无效数据，因此可以对所述油位数据中值为0的数据进行过滤。实际应用当中，OBD信号中可能会存在油位为零的误报，这种情况对油位异常检测干扰巨大，本发明实施例的油位异常检测方法，可以规避OBD信号误报或者信号异常。本发明实施例的油位异常检测方法，还可以避免因车辆行驶抖动而对油位异常检测产生的不良影响，并避免由此产生的对偷油行为的误报，提高油位异常检测准确性以及偷油行为监测的准确率。在平滑处理所述油位数据时，对应的油位数据可以为过滤后的油位数据。对油位数据进行平滑处理的平滑手段并不限定，可以使用任意平滑手段对油位数据进行平滑处理。由于车辆行驶过程中，油箱处于震动状态，OBD油杆采集的油位数据可能存在较大的波动，可以利用kalman滤波，对油位数据进行平滑处理，以消除部分噪音数据，得到一个比较稳定的时间序列数据，即为平滑数据。需要说明的是，由于所述油位数据及所述平滑数据均为时间序列数据，因此，每一时刻均对应一个油位数据和平滑数据。步骤S102，针对每一时刻，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，并根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻；需要说明的是，油位异常阈值并不固定，在确定不同时刻是否为可疑时刻时，对应的油位异常阈值都需要重新计算。步骤S103，针对每一可疑时刻，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻；其中，所有的可疑时刻可以形成可疑时刻集合，针对可疑时刻集合中的每一可疑时刻，可以确定异常时刻，所有的异常时刻可以形成异常时刻集合。步骤S104，针对每一异常时刻，对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，并根据拟合的线性函数确定当前异常时刻是否存在油位异常，其中，所述第二预设时间窗口大小为/＞。本发明实施例，获取车辆的油位数据以及平滑处理所述油位数据得到的平滑数据，先确定可疑时刻，然后确定异常时刻，然后根据异常时刻确定是否存在油位异常，可以提高油位异常检测的准确性，并可以提高偷油行为的监测效率以及监测精准度。作为一种可选的实施方式，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，包括：根据异常阈值计算公式以及所述当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分，计算马氏距离以及置信度，并对所述置信度以及马氏距离加权求和，确定油位异常阈值，所述异常阈值计算公式为：；其中，为车辆i在当前时刻t的所述平滑数据，/＞为车辆i在当前时刻t的所述平滑数据的一阶差分，/＞为车辆i在当前时刻t的前n时刻的所述平滑数据的一阶差分，n为所述第一预设时间窗口的值，/＞为车辆i在当前时刻t的第一预设时间窗口内的所述平滑数据的一阶差分的均值，/＞为车辆i在当前时刻t的第一预设时间窗口内的所述平滑数据的一阶差分的标准差，/＞为所述马氏距离，/＞为协方差的逆，/＞为所述置信度，/＞为所述油位异常阈值，/＞、/＞为权值参数。本发明实施例，通过异常阈值计算公式以及所述当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分，计算马氏距离以及置信度，并对所述置信度以及马氏距离加权求和，确定油位异常阈值，可以确定合理的油位异常阈值，以便实现可疑时刻的确定。其中，上述异常阈值计算公式中，具体为/＞协方差的逆，权值参数/＞、/＞可以根据实际进行调整，该异常阈值计算公式引入统计置信度区间，并将置信度与马氏距离进行加权，以增加油位异常检测的精准度，以便灵敏的监测出偷油行为，即使不法分子每次只是偷很少的燃油，也可以监测出偷油行为。一些实施例中，可以设上述油位数据为，其中，/＞为车辆i在起始时刻q的油位数据，/＞为车辆i在截止时刻p的油位数据，/＞为车辆i在当前时刻t的油位数据，同理，可以设上述平滑数据为/＞，其中，/＞为车辆i在起始时刻q的平滑数据，/＞为车辆i在截止时刻p的平滑数据，/＞为车辆i在当前时刻t的平滑数据。可以利用/＞对油位数据进行一阶差分计算，得到车辆i在当前时刻t的所述油位数据的一阶差分/＞，可以利用/＞对平滑数据进行一阶差分计算，得到车辆i在当前时刻t的所述平滑数据的一阶差分/＞。作为一个示例，第一预设时间窗口的值是预先设定的，而不同时刻的时间窗口是动态计算的。若第一预设时间窗口的值为40，其单位可以为数量单位个，当前时刻t为60，其单位可以为数量单位个，则当前时刻的第一预设时间窗口包括第20-60个所述平滑数据，根据第20-60个所述平滑数据的一阶差分确定油位异常阈值；若当前时刻t为61，则当前时刻的第一预设时间窗口为21~61，根据第21-61个所述平滑数据的一阶差分确定油位异常阈值。或，若第一预设时间窗口的值为40，其单位可以为秒，当前时刻t为60，其单位可以为秒，则当前时刻的第一预设时间窗口为20s~60s，根据20s~60s内的所述平滑数据的一阶差分确定油位异常阈值；若当前时刻t为61s，则当前时刻的第一预设时间窗口为21s~61s，根据21s~61s内的所述平滑数据的一阶差分确定油位异常阈值。作为一种可选的实施方式，根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻，包括：若当前时刻的所述油位数据的一阶差分小于或等于所述油位异常阈值，并且当前时刻的所述油位数据的一阶差分小于0，确定当前时刻为可疑时刻。本发明实施例，通过根据当前时刻的所述油位数据的一阶差分与所述油位异常阈值的关系，以及当前时刻的所述油位数据是否小于0，确定可疑时刻，提高了可疑时刻判断的准确性，进而可以提高油位异常检测的准确性。一些实施例中，当前时刻的所述油位数据的一阶差分小于或等于所述油位异常阈值，并且当前时刻的所述油位数据的一阶差分小于0时，则可以确定当前时刻为可疑时刻，以此可以确定所有的可疑时刻，可以得到可疑时刻集合，进而也可以得到可疑异常数据集合SP，，其中，k表示存在可疑异常数据的车辆总数，/＞表示第i车辆在t时刻对应的油位数据，此时的油位数据也可以称之为可疑异常数据。作为一种可选的实施方式，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻，包括：若当前可疑时刻的前一时刻的第一预设时间窗口内的所述油位数据的中位数与系数的乘积，大于当前可疑时刻的后一时刻的第一预设时间窗口内的所述油位数据的中位数的判断公式成立，确定当前可疑时刻为异常时刻，所述判断公式为：；其中，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为当前可疑时刻，n为所述第一预设时间窗口的值，/＞为系数，/＞。本发明实施例，根据当前可疑时刻的前一时刻的第一预设时间窗口内的所述油位数据的中位数与系数的乘积，与当前可疑时刻的后一时刻的第一预设时间窗口内的所述油位数据的中位数的关系，提高了异常时刻判断的准确性，进而可以提高油位异常检测的准确性。需要说明的是，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，也即为车辆i在当前可疑时刻t’的前一时刻的第一预设时间窗口内的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，也即为车辆i在当前可疑时刻/＞的后一时刻的第一预设时间窗口内的所述油位数据的中位数。一些实施例中，在得到可疑异常数据集合SP之后，获取可疑异常数据集合SP中每个可疑时刻的前一时刻的第一预设时间窗口内的所述油位数据的中位数以及后一时刻的第一预设时间窗口内的所述油位数据的中位数，例如，计算当前可疑时刻的第一预设时间窗口n内的所述油位数据的中位数，可疑为计算从/＞时刻到/＞时刻的所述油位数据的中位数，或从/＞时刻到/＞时刻的所述油位数据的中位数，中位数集合可以用/＞表示，其中，/＞，其中f = -1时，/＞表示/＞时刻至/＞时刻的中位数集合，其中f = 1时表示/＞时刻至/＞时刻的中位数集合。一些实施例中，对于可疑时刻集合中的每个可疑时刻，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻；其中，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定异常时刻，而不是根据对应所述油位数据的均值，是由于车辆剧烈颠簸可能会导致油位数据过大或过小，从而对均值造成影响，从而影响异常时刻判断的准确性，选择所述油位数据的中位数则可以尽可能的消除这种影响，另外，正常一个时间段内，车辆的燃油消耗是一个缓慢的过程，选择根据所述油位数据的中位数，确定异常时刻，鲁棒性更好，异常时刻判断得更准确。一个具体实施例中，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻，以得到异常时刻的集合，从而可以得到异常时刻/＞的集合，进而可以得到异常时刻的所述油位数据的集合，/＞为当前异常时刻/＞的所述油位数据，g表示存在异常时刻的车辆总数。作为一种可选的实施方式，所述对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，包括：以当前异常时刻的所述油位数据以及当前异常时刻前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数/＞作为纵坐标/＞的样本，以/＞作为横坐标x的样本进行拟合，得到线性函数：；其中，为当前异常时刻，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，a1、a2为所述线性函数的斜率，b1、b2为所述线性函数的截距，R为实数。本发明实施例，通过对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，可以得到线性函数，以便根据线性函数可以准确地确定对应异常时刻是否存在油位异常，从而提高油位异常检测的准确性。一些实施例中，根据异常时刻的所述油位数据的集合，获取当前异常时刻/＞的所述油位数据/＞以及当前异常时刻前/＞时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数/＞，并将其作为纵坐标/＞的样本，以/＞作为横坐标x的样本进行拟合，得到分段线性函数。作为一种可选的实施方式，根据拟合的线性函数确定当前异常时刻是否存在油位异常，包括：根据拟合的线性函数以及均方根误差计算公式，计算均方根误差；若 ，/＞，且当前异常时刻及所述当前异常时刻之后时刻对应的线性函数的斜率/＞，确定当前异常时刻存在油位异常；其中，所述均方根误差计算公式为；其中，为预设的大于0小于0.1的阈值，/＞为预设的大于0小于0.05的阈值，/＞为所述当前异常时刻的所述油位数据，/＞为当前异常时刻/＞对应的线性函数值，/＞为当前异常时刻前/＞时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，为车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，车辆i在/＞时刻至/＞时刻之间的所述油位数据的中位数，/＞为/＞对应的线性函数值。本发明实施例，根据均方根误差、当前异常时刻对应的线性函数值、当前异常时刻及所述当前异常时刻之后时刻对应的线性函数的斜率以及异常时刻的所述油位数据，综合判断当前异常时刻是否存在油位异常，提高了油位异常检测的准确性。需要说明的是，具体取值范围可以根据实际设置，其都是在0附近的极小值。本发明实施例提供的油位异常检测方法，通过获取车辆的油位数据以及平滑处理所述油位数据得到的平滑数据，针对每一时刻，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，并根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻；可以从时间序列数据中初步确定可疑时刻，从而对油位数据进行初步筛选；通过针对每一可疑时刻，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻；可以从可疑时刻的集合中确定异常时刻，从而实现对油位数据的进一步筛选，以便最终判断油位异常；针对每一异常时刻，对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，并根据拟合的线性函数确定当前异常时刻是否存在油位异常；可以从所有异常时刻对应的油位数据中进一步进行筛选，以确定油位异常，从而可以提高油位异常检测的准确性，进而可以提高偷油行为的监测效率以及监测精准度。实施例2基于上述油位异常检测方法，本发明实施例提供了一种油位异常检测装置，其结构示意图如图2所示，该油位异常检测装置20包括数据获取模块21、可疑时刻确定模块22、异常时刻确定模块23及油位异常判断模块24；所述数据获取模块21，用于获取车辆的油位数据以及平滑处理所述油位数据得到的平滑数据，其中，所述油位数据及所述平滑数据均为时间序列数据；所述可疑时刻确定模块22，用于针对每一时刻，根据当前时刻的第一预设时间窗口内的所述平滑数据的一阶差分确定油位异常阈值，并根据所述油位异常阈值以及当前时刻的所述油位数据的一阶差分，确定当前时刻是否为可疑时刻；所述异常时刻确定模块23，用于针对每一可疑时刻，根据当前可疑时刻的前一时刻和后一时刻的第一预设时间窗口内的所述油位数据的中位数，确定当前可疑时刻是否为异常时刻；所述油位异常判断模块24，用于针对每一异常时刻，对当前异常时刻及其前时刻和后/＞时刻的第二预设时间窗口内的所述油位数据的中位数进行线性拟合，并根据拟合的线性函数确定当前异常时刻是否存在油位异常，其中，所述第二预设时间窗口大小为/＞。关于上述油位异常检测装置中各模块实现上述技术方案的其他细节，可参见上述发明实施例中提供的油位异常检测方法中的描述，此处不再赘述。实施例3基于上述油位异常检测方法，本发明实施例提供了一种油位异常检测设备，其结构示意图如图3所示，该设备30包括处理器31和与该处理器31耦合的存储器32。存储器32存储有计算机程序，计算机程序被处理器31执行时，使得处理器31执行上述实施例中的油位异常检测方法的步骤。关于上述油位异常检测设备中处理器31实现上述技术方案的其他细节，可参见上述发明实施例中提供的油位异常检测方法中的描述，此处不再赘述。其中，处理器31还可以称为CPU，处理器31可能是一种集成电路芯片，具有信号的处理能力；处理器31还可以是通用处理器、DSP、ASIC、FPGA或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件，其中通用处理器可以是微处理器或者该处理器31也可以是任何常规的处理器等。实施例4本发明实施例还提供了一种计算机可读存储介质，其结构示意图如图4所示，该存储介质40上存储有可读的计算机程序41；其中，该计算机程序41可以以软件产品的形式存储在上述存储介质40中，包括若干指令用以使得一台计算机设备或处理器执行本发明各个实施方式所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、磁碟或者光盘、ROM、RAM等各种可以存储程序代码的介质，或者是计算机、服务器、手机、平板等终端设备。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个模块或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或模块的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理模块，即可以位于一个地方，或者也可以分布到多个网络模块上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能模块可以集成在一个处理模块中，也可以是各个模块单独物理存在，也可以两个或两个以上模块集成在一个模块中。上述集成的模块既可以采用硬件的形式实现，也可以采用软件功能模块的形式实现。所述集成的模块如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机程序指令时，全部或部分地产生按照本申请实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一计算机可读存储介质传输，例如，所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线）或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存储的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质，、光介质、或者半导体介质）等。以上对本申请所提供的技术方案进行了详细介绍，本申请中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请的方法及其核心思想；同时，对于本领域的一般技术人员，依据本申请的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本申请的限制。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请的方法、设备和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。显然，本领域的技术人员可以对本申请进行各种改动和变型而不脱离本申请的精神和范围。这样，倘若本申请的这些修改和变型属于本申请权利要求及其等同技术的范围之内，则本申请也意图包含这些改动和变型在内。
