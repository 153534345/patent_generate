标题title
基于物理和数据双驱动的桥梁内部响应重构方法
摘要abst
本发明公开了一种基于物理和数据双驱动的桥梁内部响应重构方法，首先利用加速度传感器获得桥梁未知荷载下作用的加速度响应；其次基于频响函数，将物理逻辑嵌入到神经网络中；把物理方程以及相应的边界条件和初始条件作为惩罚项放入损失函数，并以此来限制可行性解的空间；然后训练神经网络模型，在将传感器得到的已知点加速度响应集输入到网络中预测未知点的加速度。本发明通过将直接求解控制方程的问题转换为损失函数的优化问题来找到方程的解，能有效解决桥梁內部响应难以测量、过分依赖测量数据等问题，并能提高桥梁内部响应预测的准确性和鲁棒性。
权利要求书clms
1.一种基于物理和数据双驱动的桥梁内部响应重构方法，其特征是，包括以下步骤：步骤1：在桥梁的m个节点上分别布置传感器，用于记录桥梁的加速度响应；步骤2：利用有限元模型对桥梁进行建模，得到桥梁有限元模型，并对所述桥梁有限元模型施加随机荷载，得到m个外部节点的加速度响应矩阵及其频响函数矩阵Hk＝T、n个桥梁内部的加速度响应矩阵/＞及其频响函数矩阵Hu＝T，其中，ui为第i个外部节点处长度为w的加速度响应，u′j为第j个内部节点处长度为w的加速度响应，Hi为第m个外部节点处长度为w的频率响应，Hj为第n个内部节点处长度为w的频率响应，令总加速度响应集/＞令总频响函数集H＝{Hk,Hu}；步骤3：构建卷积神经网络模型，依次包括：输入层、a层卷积层、a-1层最大池化层、e层全连接层、输出层；且相邻两个卷积层之间添加有一层所述最大池化层；各全连接层之间采用relu激活函数；将作为输入集输入所述卷积神经网络中，并依次经过交叉连接的a层卷积层和a-1层最大池化层的卷积、池化处理后，由第a层卷积层输出维度为b×c×d的特征向量；其中b表示输入信号的通道数，c表示卷积产生的通道数，c表示卷积核的大小；维度为b×c×d的特征向量集通过扁平处理后，得到维度为b×c的特征向量集；维度为b×c的特征向量集依次经过e层全连接层的处理后，得到维度为w×n的内部节点响应预测向量记为步骤4：构建差值函数；步骤4.1：对中的每个加速度响应进行降维处理后，再进行傅里叶转换，并得到维度为m×w的频域上m个外部节点的加速度响应矩阵/＞其中，ui为第i个节点处长度为w的频域上的加速度响应；步骤4.2：对进行傅里叶变换，得到维度为n×w的频域上n个内部响节点应预测向量其中，u′j为网络预测的第j个内部节点处长度为w的频域上的加速度响应；步骤4.3：利用式构建结构动力学中外部节点响应与内部节点响应的关系方程：式中，Taku为传递矩阵，将内部点的加速度频响函数矩阵即Hu与外部节点的加速度频响函数矩阵Hk的伪逆相乘后，得到真实的加速度响应传递矩阵Taku，从而利用式计算差值f：步骤4.4：将与/＞的伪逆相乘后，得到一个预测的加速度响应传递矩阵Tnet＝；其中，aj为第j个外部节点处长度为n的加速度响应传递函数；利用式得到差值T：T＝Tnet-Taku 步骤5：利用式生成卷积神经网络的总损失Lall：Lall＝L1+L2+L3+L4 式中，L1表示第一损失，并由式得到，L2表示第二损失，并由式得到，L3表示第三损失，并由式得到，L4表示第四损失，并由式得到；L1＝T L2＝T 式-式中，f0为维度为n×w的全零矩阵；为初始条件下加速度响应矩阵经过所述卷积神经网络模型后输出的预测响应，其中，令初始条件下加速度响应矩阵为维度为w×1×m的全零矩阵；/＞为/＞在初始条件下的加速度响应；步骤6：基于总加速度响应集和总频响函数集H＝{Hk,Hu}，使用Adam优化器对卷积神经网络进行训练，并计算总损失Lall以更新网络参数，直到达到最大训练次数或总损失Lall收敛为止，从而得到训练好的卷积神经网络，用于实现对任一结构内部节点的响应重构。2.一种电子设备，包括存储器以及处理器，其特征在于，所述存储器用于存储支持处理器执行权利要求1所述桥梁内部响应重构方法的程序，所述处理器被配置为用于执行所述存储器中存储的程序。3.一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，其特征在于，所述计算机程序被处理器运行时执行权利要求1所述桥梁内部响应重构方法的步骤。
说明书desc
技术领域本发明涉及桥梁结构健康监测领域，具体地说是一种桥梁响应重构方法。背景技术近十年来，结构内部响应重构引起了人们的广泛关注。对于工程结构的综合诊断和预测，需要准确估计结构内部关键部位的健康状态，以确定维修计划。由于结构内部点的响应不可达，即传感器无法测量到结构内部的响应。因此，发展一种在工作状态下对难以直接测得的结构内部响应进行预示的方法便尤为重要。在建筑结构中，虚拟传感器方法通过采集部分容易测量的物理量进行处理和计算，得到需要监测的其他物理量的值。根据虚拟传感器的思想，使用部分可以测得的结构位置的响应，来预示难测得位置的响应，从而解决目标位置响应无法在工作状态下直接测量的问题。针对以上问题，主要有两种建模方法：基于物理/方程的建模和基于数据驱动的机器学习。基于模型的方法假设一个精确的系统模型的可用性，而数据驱动的方法基于机器学习。这两种方法都有一定的局限性，基于物理/方程的建模，基于预先已知的机理的知识对于需要监测的过程进行建模。然而，在实际应用中，即使有了对整个模型的知识，还是很难通过这些已有的知识建立一个完备的机理模型。其中的原因，一是因为通常情况下整个模型结构十分复杂，很难建立一个非常准确的机理模型，二是因为在工作过程中，会产生很多的不确定性，也使得机理模型很难用于解决实际的工程问题中。数据驱动的虚拟传感器是通过整理与处理收集的历史数据来进行分析与回归。由于其不需要对原系统结构具有完全的了解，而是需要大量的数据对模型进行训练，因此其效率较高，然而，由于系统的输入参数和输出变量的离散性，数据永远不可能是完整的，不管数据获取是否昂贵，数据永远无法填充状态空间。因此，系统和它产生的数据之间的鸿沟在数据驱动模型中根深蒂固。它们往往会在训练数据之外失败。因此缺乏推断力。导致实际响应预测的结果并不准确。发明内容本发明是为了解决上述现有技术存在的不足之处，提供一种基于物理和数据双驱动的桥梁内部响应重构方法，以期能有效解决桥梁內部响应难以测量、过分依赖测量数据等问题，并能提高桥梁内部响应预测的准确性和鲁棒性。本发明为达到上述发明目的，采用如下技术方案：本发明一种基于物理和数据双驱动的桥梁内部响应重构方法的特点是，包括以下步骤：步骤1：在桥梁的m个节点上分别布置传感器，用于记录桥梁的加速度响应；步骤2：利用有限元模型对桥梁进行建模，得到桥梁有限元模型，并对所述桥梁有限元模型施加随机荷载，得到m个外部节点的加速度响应矩阵及其频响函数矩阵Hk＝T、n个桥梁内部的加速度响应矩阵/＞及其频响函数矩阵Hu＝T，其中，ui为第i个外部节点处长度为w的加速度响应，u′j为第j个内部节点处长度为w的加速度响应，Hi为第m个外部节点处长度为w的频率响应，Hj为第n个内部节点处长度为w的频率响应，令总加速度响应集/＞令总频响函数集H＝{Hk,Hu}；步骤3：构建卷积神经网络模型，依次包括：输入层、a层卷积层、a-1层最大池化层、e层全连接层、输出层；且相邻两个卷积层之间添加有一层所述最大池化层；各全连接层之间采用relu激活函数；将作为输入集输入所述卷积神经网络中，并依次经过交叉连接的a层卷积层和a-1层最大池化层的卷积、池化处理后，由第a层卷积层输出维度为b×c×d的特征向量；其中b表示输入信号的通道数，c表示卷积产生的通道数，c表示卷积核的大小；维度为b×c×d的特征向量集通过扁平处理后，得到维度为b×c的特征向量集；维度为b×c的特征向量集依次经过e层全连接层的处理后，得到维度为w×n的内部节点响应预测向量记为步骤4：构建差值函数；步骤4.1：对中的每个加速度响应进行降维处理后，再进行傅里叶转换，并得到维度为m×w的频域上m个外部节点的加速度响应矩阵其中，ui为第i个节点处长度为w的频域上的加速度响应；步骤4.2：对进行傅里叶变换，得到维度为n×w的频域上n个内部响节点应预测向量/＞其中，u′j为网络预测的第j个内部节点处长度为w的频域上的加速度响应；步骤4.3：利用式构建结构动力学中外部节点响应与内部节点响应的关系方程：式中，Taku为传递矩阵，将内部点的加速度频响函数矩阵即Hu与外部节点的加速度频响函数矩阵Hk的伪逆相乘后，得到真实的加速度响应传递矩阵Taku，从而利用式计算差值f：步骤4.4：将与/＞的伪逆相乘后，得到一个预测的加速度响应传递矩阵Tnet＝；其中，aj为第j个外部节点处长度为n的加速度响应传递函数；利用式得到差值T：T＝Tnet-Taku步骤5：利用式生成卷积神经网络的总损失Lall：Lall＝L1+L2+L3+L4式中，L1表示第一损失，并由式得到，L2表示第二损失，并由式得到，L3表示第三损失，并由式得到，L4表示第四损失，并由式得到；L1＝TL2＝T式-式中，f0为维度为n×w的全零矩阵；为初始条件下加速度响应矩阵经过所述卷积神经网络模型后输出的预测响应，其中，令初始条件下加速度响应矩阵为维度为w×1×m的全零矩阵；/＞为/＞在初始条件下的加速度响应；步骤6：基于总加速度响应集和总频响函数集H＝{Hk,Hu}，使用Adam优化器对卷积神经网络进行训练，并计算总损失Lall以更新网络参数，直到达到最大训练次数或总损失Lall收敛为止，从而得到训练好的卷积神经网络，用于实现对任一结构内部节点的响应重构。本发明一种电子设备，包括存储器以及处理器的特点在于，所述存储器用于存储支持处理器执行所述桥梁内部响应重构方法的程序，所述处理器被配置为用于执行所述存储器中存储的程序。本发明一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序的特点在于，所述计算机程序被处理器运行时执行所述桥梁内部响应重构方法的步骤。与现有技术相比，本发明有益效果体现在：1、本发明相较于传统的物理建模，降低了对模型精确度的要求，在机理模型不完备的情况下利用物理逻辑建立结构外部点与内部点的联系，通过外部点的数据来修正内部重构的响应。同时，得益于确定的物理关系，这使得混合驱动模型在面对复杂的工程问题时结果更加准确可靠。2、本发明相较于基于数据驱动的机器学习，在数据驱动的基础上,辅以物理约束，在损失函数中加入控制方程等物理规律，减少了网络对标签数据的依赖，大幅提高泛化能力与应用价值。在预测结果上，由于物理逻辑限制了可行性解的空间，因此只需要较少的迭代次数模型就能够快速收敛，在面对实际工程中数据缺失，数据过于集中等问题可以得到更精确的预测值，在复杂荷载下也能能够获得更准确的响应结果。附图说明图1为本发明数值模拟简支梁桥模型正面示意图；图2为本发明方法的响应重构过程示意图；图3为本发明随机荷载激励下等截面简支梁桥内部响应重构预测值与真实值对比图；图4为本发明随机荷载激励下等截面简支梁桥内部响应重构误差百分比；图5为本发明随机荷载激励下等截面简支梁桥内部响应重构损失函数图；图6为本发明数值模拟悬臂梁桥模型正面示意图；图7为本发明随机荷载激励下等截面悬臂梁桥内部响应重构预测值与真实值对比图；图8为本发明随机荷载激励下等截面悬臂梁桥内部响应重构误差百分比；图9为本发明随机荷载激励下等截面悬臂桥内部响应重构损失函数图。具体实施方式本实施例1中，桥梁跨长为50m，宽和高为10m，弹性模量21Gpa。每延米质量7800kg/m。采用有限元法模拟时，桥梁采用六面体单元划分。一种基于物理和数据双驱动的桥梁内部响应重构方法，能避免有限元模型精度不足以及训练数据缺乏所导致对于结构内部加速度响应预测不准确或者偏离的现象。通过将物理模型嵌入到神经网络中，用物理逻辑来限制可行性解的空间，只需要较少的迭代次数就能够快速收敛，对于不同的结构都能够得出较为准确的结果，在复杂荷载下也能能够获得准确的响应集结果。具体的说，一种桥梁内部响应重构方法的原理，所使用的简支梁桥模型如图1所示，包括以下步骤：步骤1：在桥梁的m＝2个节点上分别布置传感器，用于记录桥梁的加速度响应；步骤2：利用有限元模型对桥梁进行建模，得到桥梁有限元模型，并对所述桥梁有限元模型施加随机荷载，得到2个外部节点的加速度响应矩阵及其频响函数矩阵Hk＝T、n＝1个桥梁内部的加速度响应矩阵/＞及其频响函数矩阵Hu＝T，其中，u1和u2分别为为第1个外部节点和第2个节点处长度为w＝32的加速度响应，u′1为第1个内部节点处长度为32的加速度响应，H1和H2分别为第1个外部节点和第2个外部节点处长度为32的频率响应，H1为第1个内部节点处长度为32的频率响应，令总加速度响应集令总频响函数集H＝{Hk,Hu}；步骤3：构建卷积神经网络模型，依次包括：输入层、a＝3层卷积层、2层最大池化层、e＝4层全连接层、输出层；且相邻两个卷积层之间添加有一层所述最大池化层；各全连接层之间采用relu激活函数；将作为输入集输入所述卷积神经网络中，并依次经过交叉连接的3层卷积层和2层最大池化层的卷积、池化处理后，由第3层卷积层输出维度为b×c×d＝128×256×3的特征向量。维度为128×256×3的特征向量集通过扁平处理后，得到维度为b×c＝128×256的特征向量集；维度为128×256的特征向量集依次经过3层全连接层的处理后，得到维度为w×n＝1×32的内部节点响应预测向量记为步骤4：构建差值函数；步骤4.1：对中的每个加速度响应进行降维处理后，再进行傅里叶转换，并得到维度为m×w＝2×32的频域上2个外部节点的加速度响应矩阵/＞其中，u1和u2分别为第1个节点和第2个节点处长度为32的频域上的加速度响应；步骤4.2：对进行傅里叶变换，得到维度为n×w＝1×32的频域上1个内部响节点应预测向量/＞且/＞其中，u′1为网络预测的第1个内部节点处长度为32的频域上的加速度响应；步骤4.3：利用式构建结构动力学中外部节点响应与内部节点响应的关系方程：式中，Taku为传递矩阵，将内部点的加速度频响函数矩阵即Hu与外部节点的加速度频响函数矩阵Hk的伪逆相乘得到真实的加速度响应传递矩阵Taku并利用式计算差值f：步骤4.4：将与/＞的伪逆相乘，得到一个预测的加速度响应传递矩阵Tnet＝；其中，a1和a2分别为第1个外部节点和第2个外部节点处长度为32的加速度响应传递函数，将Tnet与真实的加速度响应传递矩阵Taku相减，从而利用式得到差值T：T＝Tnet-Taku步骤5：利用式生成卷积神经网络的总损失Lall：Lall＝L1+L2+L3+L4式中，L1表示第一损失，并由式得到，L2表示第二损失，并由式得到，L3表示第三损失，并由式得到，L4表示第四损失，并由式得到；L1＝TL2＝T式-式中，f0为维度为n×w＝1×32的全零矩阵；为初始条件下加速度响应矩阵经过所述卷积神经网络模型后输出的预测响应，其中，令初始条件下加速度响应矩阵为维度为w×1×m＝32×1×2的全零矩阵；/＞为/＞在初始条件下的加速度响应；步骤5：基于总加速度响应集和总频响函数集H＝{Hk,Hu}，使用Adam优化器对卷积神经网络进行训练，并计算总损失Lall以更新网络参数，直到达到最大训练次数或总损失Lall收敛为止，从而得到训练好的卷积神经网络，用于实现对任一结构内部节点的响应重构，响应结构过程示意图见图2。/＞本实施例中，一种电子设备，包括存储器以及处理器，该存储器用于存储支持处理器执行上述方法的程序，该处理器被配置为用于执行该存储器中存储的程序。本实施例中，一种计算机可读存储介质，是在计算机可读存储介质上存储有计算机程序，该计算机程序被处理器运行时执行上述方法的步骤。结构内部测点响应部分结果与真实值的对比见表1，图3，图4，损失函数见图5。表1本实施例1中，桥梁跨长为50m，宽和高为10m，弹性模量21Gpa。每延米质量7800kg/m。采用有限元法模拟时，桥梁采用六面体单元划分。本实施例2中，如图6所示的悬臂梁桥模型，桥梁跨长为50m，宽和高度为10m，弹性模量21Gpa。每延米质量7800kg/m。采用有限元法模拟时，桥梁采用六面体单元划分。重构方法和响应重构过程与实施例1过程一致，结构内部测点响应部分结果与真实值的对比见表2，图7，图8，损失函数见图9。表2由表1和表2可知对于桥梁内部响应的预测，该网络的精度可以到0.1％左右，在不同的桥型以及复杂荷载下均有良好的表现。由图5和图9可知该网络可以在训练次数较少的情况下快速收敛，减少了训练时间。综上所述该方法能够在数据量不足，荷载复杂的情况下较好的预测桥梁内部的响应。
