标题title
基于协议分析的工控系统运维管控系统及方法
摘要abst
本发明公开了基于协议分析的工控系统运维管控系统及方法，属于运维管控技术领域。本发明包括以下步骤：步骤一：基于工控系统所采用的协议，结合工控系统正常运行情况对工控系统的状态特征进行获取；步骤二：根据步骤一获取的状态特征，对工控系统的状态变更情况进行预测；步骤三：对步骤二中的预测结果进行处理并确定；步骤四：基于步骤三的确定结果，对工控系统进行协同维护处理，本发明基于两次相似度计算结果对工业设备的状态变更情况进行预测，并对预测结果中因环境因素和人工因素产生的误差进行消除，提高了系统的预测精度，有利于对工控设备进行运维管控，通过将属于静态干扰确定的干扰值加入到相似度计算中，提高预测精度。
权利要求书clms
1.基于协议分析的工控系统运维管控方法，其特征在于：所述方法包括以下步骤：步骤一：基于工控系统所采用的协议，结合工控系统正常运行情况对工控系统的状态特征进行获取；步骤二：根据步骤一获取的状态特征，对工控系统的状态变更情况进行预测；步骤三：对步骤二中的预测结果进行处理并确定；步骤四：基于步骤三的确定结果，对工控系统进行协同维护处理。2.根据权利要求1所述的基于协议分析的工控系统运维管控方法，其特征在于：所述步骤一包括：步骤一：基于工控系统所采用的协议内容，对工控数据进行分类处理，得到工控数据分包数量，并根据每一分包对应的工控数据数量，对对应分包的长度进行设置；步骤一：工控系统运行时，对每一分包的状态特征进行获取，具体的获取方法为：对每一分包中工控数据对应的状态进行确定，当工控数据随工业设备运行时间而变化时，则认为工控数据对应的状态为离散状态，当工控数据不随工业设备运行时间而变化时，则认为工控数据对应的状态为持久化状态；根据每一分包中工控数据对应的状态分析结果，对工控数据的状态比例进行计算，利用计算的状态比例和对应分包的长度作为分包的状态特征，具体方法为：利用公式或公式对工控数据的状态比例进行计算，其中， 表示工控数据总量，表示工控数据为离散状态时对应的数据量， 表示工控数据为持久化状态时对应的数据量；获取每一分包对应的数据长度，将每一分包对应的数据长度转换为二进制值，利用字母串 对每一分包对应的状态特征进行表示，其中，表示分包对应的编号。3.根据权利要求2所述的基于协议分析的工控系统运维管控方法，其特征在于:所述步骤二包括：步骤二：工控系统在工业设备运行时，向每一分包定时发送工业设备信息，分包根据接收的工业设备信息，反馈工业设备在对应分包表示的状态特征；步骤二：将步骤二反馈的状态特征，与工业设备在正常工作状态下的状态特征进行对比，对两者的相似度进行计算，具体的计算公式 为：；其中， 表示工业设备在正常工作状态下第个分包对应的二进制值， 表示工业设备运行时第 个分包对应的二进制值， 表示工业设备运行时第个分包对应的离散状态比值， 表示工业设备运行时第个分包对应的持久化状态比值， 表示关系系数， 分别表示相似角度值，利用角度值对两者的相似度进行计算，计算量较小，有利于提高计算精度，避免计算误差对计算结果产生影响；步骤二：判断步骤二的计算结果是否高于设定的阈值，若高于设定的阈值，则工控系统无需再次向分包发送工业设备信息，认为工控系统状态特征未发生变化，若低于设定的阈值，则工控系统需再次向高于设定阈值的分包发送工业设备信息，并执行步骤二、步骤二；步骤二：若第二次计算结果与第一次计算结果保持一致，则对工控系统的状态变更情况进行确定，若两次计算结果不一致，则执行步骤三。4.根据权利要求3所述的基于协议分析的工控系统运维管控方法，其特征在于：所述步骤三包括：步骤三：消除两次计算结果中因环境因素和人工因素造成的误差，具体的方法为：获取工业设备在工作时的环境参数和人工操作参数，基于获取的参数构建数学模型，对两次计算结果之间存在的误差进行分析，具体的数学模型为：；其中，表示环境参数类型对应的编号，表示人工操作参数类型对应的编号， 分别表示所能取到的最大值， 分别表示工业设备在工作时对应的环境参数和人工操作参数， 分别表示环境参数和人工操作参数对应的误差比例值， 表示工业设备运行时第个分包第二次计算得到的相似度值，表示工业设备运行时第 个分包两次相似度计算结果之间的差值，若 ，则表示两次计算结果之间无除环境因素和人工操作因素之外的其他因素，若 ，则表示两次计算结果之间存在除环境因素和人工操作因素之外的其他因素；步骤三：基于步骤三中的计算结果，当 时，将获取的环境参数值和人工操作参数值与对应的标准值进行比较，根据比较结果对工控系统的状态变更情况进行确定，当时，则根据 值对其他因素的干扰度进行确定；步骤三：利用步骤三定时对其他因素的干扰度进行计算，若计算的干扰度值为定值，则将计算的干扰度值作为误差加入到相似度计算中，若计算的干扰度值为变量，则根据干扰度值随时间的变化趋势，对干扰因素类型进行判断。5.根据权利要求4所述的基于协议分析的工控系统运维管控方法，其特征在于：所述步骤四将步骤三中确定的工控系统状态变更情况发送至对应专业的维修人员，将步骤三中判断的干扰因素类型发送至其他维修人员，其他维修人员在对工业设备进行维修处理时，对应工业设备将维修数据反馈至工控系统，工控系统利用步骤二和步骤三对维修数据进行处理，并将处理后数据再次发送至维修人员，维修人员根据反馈数据判断对应的工业设备是否维修完成。6.应用于权利要求1-5任一项所述的基于协议分析的工控系统运维管控方法的基于协议分析的工控系统运维管控系统，其特征在于：所述系统包括状态特征获取模块、工控系统状态变更预测模块、确定处理模块和运维管控模块；所述状态特征获取模块用于根据工控系统所采用的协议，结合工控系统正常运行情况对工控系统的状态特征进行获取，并将获取的状态特征传输至工控系统状态变更预测模块；所述工控系统状态变更预测模块用于对状态特征获取模块传输的状态特征进行接收，基于接收内容对工控系统的状态变更情况进行预测，并将预测结果传输至确定处理模块；所述确定处理模块用于对工控系统状态变更预测模块传输的预测结果进行接收，通过消除环境因素和人工操作因素的影响，对预测结果进行确定，并将确定的工控系统状态变更情况传输至运维管控模块；所述运维管控模块用于对确定处理模块传输的确定结果进行接收，根据接收内容对工业设备进行运维管控。7.根据权利要求6所述的基于协议分析的工控系统运维管控系统，其特征在于：所述状态特征获取模块包括分包设置单元和状态特征获取单元；所述分包设置单元根据工控系统所采用的协议内容，对工控数据进行分类处理，根据分类数量得到工控数据的分包数量，并根据每一分包对应的工控数据数量，对对应分包的长度进行设置，并将设置的分包传输至状态特征获取单元；所述状态特征获取单元对分包设置单元传输的分包进行接收，对每一分包中工控数据对应的状态进行确定，当工控数据随工业设备运行时间而变化时，则认为工控数据对应的状态为离散状态，当工控数据不随工业设备运行时间而变化时，则认为工控数据对应的状态为持久化状态，根据确定结果对工控数据的状态比例进行计算，利用计算的状态比例和对应分包的长度作为分包的状态特征，并将获取的每一分包对应的状态特征传输至工控系统状态变更预测模块。8.根据权利要求7所述的基于协议分析的工控系统运维管控系统，其特征在于：所述工控系统状态变更预测模块包括信息反馈单元、相似度计算单元、判断单元和初步确定单元；所述信息反馈单元对状态特征获取单元传输的每一分包对应的状态特征进行接收，工业设备运行时，向每一分包定时发送工业设备信息，分包根据接收的工业设备信息，反馈工业设备在对应分包表示的状态特征，并将对应分包反馈的状态特征传输至相似度计算单元；所述相似度计算单元对信息反馈单元传输的反馈信息进行接收，将接收信息与工业设备在正常工作状态下的状态特征进行对比，对两者的相似度进行计算，并将计算结果传输至判断单元；所述判断单元对相似度计算单元传输的计算结果进行接收，判断接收的计算结果是否高于设定的阈值，若高于设定的阈值，则工控系统无需再次向分包发送工业设备信息，认为工控系统状态特征未发生变化，若低于设定的阈值，则工控系统需再次向高于设定阈值的分包发送工业设备信息，并再次进行相似度计算，将两次相似度计算结果传输至初步确定单元；所述初步确定单元对判断单元传输的两次相似度计算结果进行接收，若第二次计算结果与第一次计算结果保持一致，则对工控系统的状态变更情况进行确定，若两次计算结果不一致，则将两次计算结果传输至确定处理模块，将确定的工控系统状态变更情况传输至运维管控模块。9.根据权利要求8所述的基于协议分析的工控系统运维管控系统，其特征在于：所述确定处理模块包括误差消除单元、干扰度确定单元和干扰因素判断单元；所述误差消除单元对初步确定单元传输的两次相似度计算结果进行接收，获取工业设备在工作时的环境参数和人工操作参数，基于获取的参数构建数学模型，对两次计算结果之间存在的误差进行分析，并将分析结果传输至干扰度确定单元；所述干扰度确定单元对误差消除单元传输的分析结果进行接收，当 时，将获取的环境参数值和人工操作参数值与对应的标准值进行比较，根据比较结果对工控系统的状态变更情况进行确定，当 时，则根据 值对其他因素的干扰度进行确定，并将工业设备对应的干扰度确定结果传输至干扰因素判断单元；所述干扰因素判断单元对干扰度确定单元传输的干扰度确定结果进行接收，定时对其他因素的干扰度进行计算，若计算的干扰度值为定值，则将计算的干扰度值作为误差加入到相似度计算中，若计算的干扰度值为变量，则根据干扰度值随时间的变化趋势，对干扰因素类型进行判断，并将判断结果传输至运维管控模块。10.根据权利要求9所述的基于协议分析的工控系统运维管控系统，其特征在于：所述运维管控模块对初步确定单元传输的确定的工控系统的状态变更情况，和干扰因素判断单元传输的干扰因素类型进行接收，将接收的内容分别发送至匹配的维修人员，维修人员根据工控系统处理的维修数据判断对应的工业设备是否维修完成。
说明书desc
技术领域本发明涉及运维管控技术领域，具体为基于协议分析的工控系统运维管控系统及方法。背景技术协议分析是使用解码网络协议头部和尾部的方法，以获取协议数据所表示的信息的过程，利用协议分析对工业系统进行运维管控，安全性较低，且存在网络延迟的情况，从而导致管控信息发布不及时。现有的工控系统运维管控模块在对工业设备进行管控时，通常根据工业设备工作数据对工业设备的未来状态进行预测，但在工业设备数量较多的情况，根据工业设备工作数据预测的结果往往与实际情况出入较大，且基于预测结果无法直接对工业设备发生状态变化的主导因素进行确认，以及无法及时对其他潜在干扰因素进行了解，降低了运维管控系统的管控效果。发明内容本发明的目的在于提供基于协议分析的工控系统运维管控系统及方法，以解决上述背景技术中提出的问题。为了解决上述技术问题，本发明提供如下技术方案：基于协议分析的工控系统运维管控方法，所述方法包括以下步骤：步骤一：基于工控系统所采用的协议，结合工控系统正常运行情况对工控系统的状态特征进行获取；步骤二：根据步骤一获取的状态特征，对工控系统的状态变更情况进行预测；步骤三：对步骤二中的预测结果进行处理并确定；步骤四：基于步骤三的确定结果，对工控系统进行协同维护处理。进一步的，所述步骤一包括：步骤一：基于工控系统所采用的协议内容，对工控数据进行分类处理，得到工控数据分包数量，并根据每一分包对应的工控数据数量，对对应分包的长度进行设置；步骤一：工控系统运行时，对每一分包的状态特征进行获取，具体的获取方法为：1）对每一分包中工控数据对应的状态进行确定，当工控数据随工业设备运行时间而变化时，则认为工控数据对应的状态为离散状态，当工控数据不随工业设备运行时间而变化时，则认为工控数据对应的状态为持久化状态；2）根据每一分包中工控数据对应的状态分析结果，对工控数据的状态比例进行计算，利用计算的状态比例和对应分包的长度作为分包的状态特征，具体方法为：利用公式或公式 对工控数据的状态比例进行计算，其中，表示工控数据总量，表示工控数据为离散状态时对应的数据量，表示工控数据为持久化状态时对应的数据量；获取每一分包对应的数据长度，将每一分包对应的数据长度转换为二进制值 ，利用字母串 对每一分包对应的状态特征进行表示，其中， 表示分包对应的编号。进一步的，所述步骤二包括：步骤二：工控系统在工业设备运行时，向每一分包定时发送工业设备信息，分包根据接收的工业设备信息，反馈工业设备在对应分包表示的状态特征；步骤二：将步骤二反馈的状态特征，与工业设备在正常工作状态下的状态特征进行对比，对两者的相似度进行计算，具体的计算公式 为：；其中，表示工业设备在正常工作状态下第 个分包对应的二进制值，表示工业设备运行时第 个分包对应的二进制值，表示工业设备运行时第 个分包对应的离散状态比值，表示工业设备运行时第 个分包对应的持久化状态比值， 表示关系系数，分别表示相似角度值，利用角度值对两者的相似度进行计算，计算量较小，有利于提高计算精度，避免计算误差对计算结果产生影响；步骤二：判断步骤二的计算结果是否高于设定的阈值，若高于设定的阈值，则工控系统无需再次向分包发送工业设备信息，认为工控系统状态特征未发生变化，若低于设定的阈值，则工控系统需再次向高于设定阈值的分包发送工业设备信息，并执行步骤二、步骤二；步骤二：若第二次计算结果与第一次计算结果保持一致，则对工控系统的状态变更情况进行确定，若两次计算结果不一致，则执行步骤三。进一步的，所述步骤三包括：步骤三：消除两次计算结果中因环境因素和人工因素造成的误差，具体的方法为：获取工业设备在工作时的环境参数和人工操作参数，基于获取的参数构建数学模型，对两次计算结果之间存在的误差进行分析，具体的数学模型 为：；其中，表示环境参数类型对应的编号，表示人工操作参数类型对应的编号，分别表示 所能取到的最大值，分别表示工业设备在工作时对应的环境参数和人工操作参数， 分别表示环境参数和人工操作参数对应的误差比例值，表示工业设备运行时第个分包第二次计算得到的相似度值，表示工业设备运行时第个分包两次相似度计算结果之间的差值，若 ，则表示两次计算结果之间无除环境因素和人工操作因素之外的其他因素，若 ，则表示两次计算结果之间存在除环境因素和人工操作因素之外的其他因素；步骤三：基于步骤三中的计算结果，当 时，将获取的环境参数值和人工操作参数值与对应的标准值进行比较，根据比较结果对工控系统的状态变更情况进行确定，当 时，则根据 值对其他因素的干扰度进行确定；步骤三：利用步骤三定时对其他因素的干扰度进行计算，若计算的干扰度值为定值，则将计算的干扰度值作为误差加入到相似度计算中，若计算的干扰度值为变量，则根据干扰度值随时间的变化趋势，对干扰因素类型进行判断。进一步的，所述步骤四将步骤三中确定的工控系统状态变更情况发送至对应专业的维修人员，将步骤三中判断的干扰因素类型发送至其他维修人员，其他维修人员在对工业设备进行维修处理时，对应工业设备将维修数据反馈至工控系统，工控系统利用步骤二和步骤三对维修数据进行处理，并将处理后数据再次发送至维修人员，维修人员根据反馈数据判断对应的工业设备是否维修完成。基于协议分析的工控系统运维管控系统，所述系统包括状态特征获取模块、工控系统状态变更预测模块、确定处理模块和运维管控模块；所述状态特征获取模块用于根据工控系统所采用的协议，结合工控系统正常运行情况对工控系统的状态特征进行获取，并将获取的状态特征传输至工控系统状态变更预测模块；所述工控系统状态变更预测模块用于对状态特征获取模块传输的状态特征进行接收，基于接收内容对工控系统的状态变更情况进行预测，并将预测结果传输至确定处理模块；所述确定处理模块用于对工控系统状态变更预测模块传输的预测结果进行接收，通过消除环境因素和人工操作因素的影响，对预测结果进行确定，并将确定的工控系统状态变更情况传输至运维管控模块；所述运维管控模块用于对确定处理模块传输的确定结果进行接收，根据接收内容对工业设备进行运维管控。进一步的，所述状态特征获取模块包括分包设置单元和状态特征获取单元；所述分包设置单元根据工控系统所采用的协议内容，对工控数据进行分类处理，根据分类数量得到工控数据的分包数量，并根据每一分包对应的工控数据数量，对对应分包的长度进行设置，并将设置的分包传输至状态特征获取单元；所述状态特征获取单元对分包设置单元传输的分包进行接收，对每一分包中工控数据对应的状态进行确定，当工控数据随工业设备运行时间而变化时，则认为工控数据对应的状态为离散状态，当工控数据不随工业设备运行时间而变化时，则认为工控数据对应的状态为持久化状态，根据确定结果对工控数据的状态比例进行计算，利用计算的状态比例和对应分包的长度作为分包的状态特征，并将获取的每一分包对应的状态特征传输至工控系统状态变更预测模块。进一步的，所述工控系统状态变更预测模块包括信息反馈单元、相似度计算单元、判断单元和初步确定单元；所述信息反馈单元对状态特征获取单元传输的每一分包对应的状态特征进行接收，工业设备运行时，向每一分包定时发送工业设备信息，分包根据接收的工业设备信息，反馈工业设备在对应分包表示的状态特征，并将对应分包反馈的状态特征传输至相似度计算单元；所述相似度计算单元对信息反馈单元传输的反馈信息进行接收，将接收信息与工业设备在正常工作状态下的状态特征进行对比，对两者的相似度进行计算，并将计算结果传输至判断单元；所述判断单元对相似度计算单元传输的计算结果进行接收，判断接收的计算结果是否高于设定的阈值，若高于设定的阈值，则工控系统无需再次向分包发送工业设备信息，认为工控系统状态特征未发生变化，若低于设定的阈值，则工控系统需再次向高于设定阈值的分包发送工业设备信息，并再次进行相似度计算，将两次相似度计算结果传输至初步确定单元；所述初步确定单元对判断单元传输的两次相似度计算结果进行接收，若第二次计算结果与第一次计算结果保持一致，则对工控系统的状态变更情况进行确定，若两次计算结果不一致，则将两次计算结果传输至确定处理模块，将确定的工控系统状态变更情况传输至运维管控模块。进一步的，所述确定处理模块包括误差消除单元、干扰度确定单元和干扰因素判断单元；所述误差消除单元对初步确定单元传输的两次相似度计算结果进行接收，获取工业设备在工作时的环境参数和人工操作参数，基于获取的参数构建数学模型，对两次计算结果之间存在的误差进行分析，并将分析结果传输至干扰度确定单元；所述干扰度确定单元对误差消除单元传输的分析结果进行接收，当时，将获取的环境参数值和人工操作参数值与对应的标准值进行比较，根据比较结果对工控系统的状态变更情况进行确定，当时，则根据值对其他因素的干扰度进行确定，并将工业设备对应的干扰度确定结果传输至干扰因素判断单元；所述干扰因素判断单元对干扰度确定单元传输的干扰度确定结果进行接收，定时对其他因素的干扰度进行计算，若计算的干扰度值为定值，则将计算的干扰度值作为误差加入到相似度计算中，若计算的干扰度值为变量，则根据干扰度值随时间的变化趋势，对干扰因素类型进行判断，并将判断结果传输至运维管控模块。进一步的，所述运维管控模块对初步确定单元传输的确定的工控系统的状态变更情况，和干扰因素判断单元传输的干扰因素类型进行接收，将接收的内容分别发送至匹配的维修人员，维修人员根据工控系统处理的维修数据判断对应的工业设备是否维修完成。与现有技术相比，本发明所达到的有益效果是：1.本发明通过根据工控系统所采用的协议，对工控数据进行分类处理，基于分类结果将属于同一类别的工控数据放置在同一分包中，通过每一分包中工控数据对应的状态比列，对每一分包的状态特征进行表示，利用每一分包的状态特征替代每一分包内的全部工控数据，缩小了数据处理量，且提高了数据处理精度。2.本发明利用工业设备在分包中对应的状态特征，和对应工业设备在正常工作状态下的状态特征，对工业设备两次状态特征的相似度进行计算，基于计算结果对工业设备的状态变更情况进行预测，并对预测结果中因环境因素和人工因素产生的误差进行消除，提高了系统的预测精度，有利于对工控设备进行运维管控。3.本发明通过对工业设备在工作过程中的其他干扰因素进行确定，判断其他干扰因素属于静态干扰还是动态干扰，若属于静态干扰，则将确定的干扰值加入到相似度计算中，提高预测精度，若属于动态干扰，则根据干扰值随时间的变化趋势，对干扰因素类型进行确定，通过工控系统与维修人员之间的多次通信反馈，提高了系统对工业设备的维修效果。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1是本发明基于协议分析的工控系统运维管控系统及方法的工作流程示意图；图2是本发明基于协议分析的工控系统运维管控系统及方法的工作原理结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1和图2，本发明提供技术方案：基于协议分析的工控系统运维管控方法，方法包括以下步骤：步骤一：基于工控系统所采用的协议，结合工控系统正常运行情况对工控系统的状态特征进行获取；步骤一包括：步骤一：基于工控系统所采用的协议内容，对工控数据进行分类处理，得到工控数据分包数量，并根据每一分包对应的工控数据数量，对对应分包的长度进行设置；步骤一：工控系统运行时，对每一分包的状态特征进行获取，具体的获取方法为：1）对每一分包中工控数据对应的状态进行确定，当工控数据随工业设备运行时间而变化时，则认为工控数据对应的状态为离散状态，当工控数据不随工业设备运行时间而变化时，则认为工控数据对应的状态为持久化状态；2）根据每一分包中工控数据对应的状态分析结果，对工控数据的状态比例进行计算，利用计算的状态比例和对应分包的长度作为分包的状态特征，具体方法为：利用公式 或公式对工控数据的状态比例进行计算，其中， 表示工控数据总量，表示工控数据为离散状态时对应的数据量，表示工控数据为持久化状态时对应的数据量；获取每一分包对应的数据长度，将每一分包对应的数据长度转换为二进制值 ，利用字母串对每一分包对应的状态特征进行表示，其中， 表示分包对应的编号；步骤二：根据步骤一获取的状态特征，对工控系统的状态变更情况进行预测；步骤二包括：步骤二：工控系统在工业设备运行时，向每一分包定时发送工业设备信息，分包根据接收的工业设备信息，反馈工业设备在对应分包表示的状态特征；步骤二：将步骤二反馈的状态特征，与工业设备在正常工作状态下的状态特征进行对比，对两者的相似度进行计算，具体的计算公式为：；其中，表示工业设备在正常工作状态下第个分包对应的二进制值，表示工业设备运行时第个分包对应的二进制值，表示工业设备运行时第个分包对应的离散状态比值，表示工业设备运行时第 个分包对应的持久化状态比值，表示关系系数，分别表示相似角度值，利用角度值对两者的相似度进行计算，计算量较小，有利于提高计算精度，避免计算误差对计算结果产生影响；步骤二：判断步骤二的计算结果是否高于设定的阈值，若高于设定的阈值，则工控系统无需再次向分包发送工业设备信息，认为工控系统状态特征未发生变化，若低于设定的阈值，则工控系统需再次向高于设定阈值的分包发送工业设备信息，并执行步骤二、步骤二；步骤二：若第二次计算结果与第一次计算结果保持一致，则对工控系统的状态变更情况进行确定，若两次计算结果不一致，则执行步骤三；步骤三：对步骤二中的预测结果进行处理并确定；步骤三包括：步骤三：消除两次计算结果中因环境因素和人工因素造成的误差，具体的方法为：获取工业设备在工作时的环境参数和人工操作参数，基于获取的参数构建数学模型，对两次计算结果之间存在的误差进行分析，具体的数学模型为：；其中，表示环境参数类型对应的编号，表示人工操作参数类型对应的编号，分别表示所能取到的最大值，分别表示工业设备在工作时对应的环境参数和人工操作参数，分别表示环境参数和人工操作参数对应的误差比例值，表示工业设备运行时第 个分包第二次计算得到的相似度值，表示工业设备运行时第个分包两次相似度计算结果之间的差值，若，则表示两次计算结果之间无除环境因素和人工操作因素之外的其他因素，若 ，则表示两次计算结果之间存在除环境因素和人工操作因素之外的其他因素；步骤三：基于步骤三中的计算结果，当 时，将获取的环境参数值和人工操作参数值与对应的标准值进行比较，根据比较结果对工控系统的状态变更情况进行确定，当 时，则根据值对其他因素的干扰度进行确定；步骤三：利用步骤三定时对其他因素的干扰度进行计算，若计算的干扰度值为定值，则将计算的干扰度值作为误差加入到相似度计算中，若计算的干扰度值为变量，则根据干扰度值随时间的变化趋势，对干扰因素类型进行判断；步骤四：基于步骤三的确定结果，对工控系统进行协同维护处理，步骤四将步骤三中确定的工控系统状态变更情况发送至对应专业的维修人员，将步骤三中判断的干扰因素类型发送至其他维修人员，其他维修人员在对工业设备进行维修处理时，对应工业设备将维修数据反馈至工控系统，工控系统利用步骤二和步骤三对维修数据进行处理，并将处理后数据再次发送至维修人员，维修人员根据反馈数据判断对应的工业设备是否维修完成。基于协议分析的工控系统运维管控系统，系统包括状态特征获取模块、工控系统状态变更预测模块、确定处理模块和运维管控模块；状态特征获取模块用于根据工控系统所采用的协议，结合工控系统正常运行情况对工控系统的状态特征进行获取，并将获取的状态特征传输至工控系统状态变更预测模块；状态特征获取模块包括分包设置单元和状态特征获取单元；分包设置单元根据工控系统所采用的协议内容，对工控数据进行分类处理，根据分类数量得到工控数据的分包数量，并根据每一分包对应的工控数据数量，对对应分包的长度进行设置，并将设置的分包传输至状态特征获取单元；状态特征获取单元对分包设置单元传输的分包进行接收，对每一分包中工控数据对应的状态进行确定，当工控数据随工业设备运行时间而变化时，则认为工控数据对应的状态为离散状态，当工控数据不随工业设备运行时间而变化时，则认为工控数据对应的状态为持久化状态，根据确定结果对工控数据的状态比例进行计算，利用计算的状态比例和对应分包的长度作为分包的状态特征，并将获取的每一分包对应的状态特征传输至工控系统状态变更预测模块；工控系统状态变更预测模块用于对状态特征获取模块传输的状态特征进行接收，基于接收内容对工控系统的状态变更情况进行预测，并将预测结果传输至确定处理模块；工控系统状态变更预测模块包括信息反馈单元、相似度计算单元、判断单元和初步确定单元；信息反馈单元对状态特征获取单元传输的每一分包对应的状态特征进行接收，工业设备运行时，向每一分包定时发送工业设备信息，分包根据接收的工业设备信息，反馈工业设备在对应分包表示的状态特征，并将对应分包反馈的状态特征传输至相似度计算单元；相似度计算单元对信息反馈单元传输的反馈信息进行接收，将接收信息与工业设备在正常工作状态下的状态特征进行对比，对两者的相似度进行计算，并将计算结果传输至判断单元；判断单元对相似度计算单元传输的计算结果进行接收，判断接收的计算结果是否高于设定的阈值，若高于设定的阈值，则工控系统无需再次向分包发送工业设备信息，认为工控系统状态特征未发生变化，若低于设定的阈值，则工控系统需再次向高于设定阈值的分包发送工业设备信息，并再次进行相似度计算，将两次相似度计算结果传输至初步确定单元；初步确定单元对判断单元传输的两次相似度计算结果进行接收，若第二次计算结果与第一次计算结果保持一致，则对工控系统的状态变更情况进行确定，若两次计算结果不一致，则将两次计算结果传输至确定处理模块，将确定的工控系统状态变更情况传输至运维管控模块；确定处理模块用于对工控系统状态变更预测模块传输的预测结果进行接收，通过消除环境因素和人工操作因素的影响，对预测结果进行确定，并将确定的工控系统状态变更情况传输至运维管控模块；确定处理模块包括误差消除单元、干扰度确定单元和干扰因素判断单元；误差消除单元对初步确定单元传输的两次相似度计算结果进行接收，获取工业设备在工作时的环境参数和人工操作参数，基于获取的参数构建数学模型，对两次计算结果之间存在的误差进行分析，并将分析结果传输至干扰度确定单元；干扰度确定单元对误差消除单元传输的分析结果进行接收，当时，将获取的环境参数值和人工操作参数值与对应的标准值进行比较，根据比较结果对工控系统的状态变更情况进行确定，当时，则根据值对其他因素的干扰度进行确定，并将工业设备对应的干扰度确定结果传输至干扰因素判断单元；干扰因素判断单元对干扰度确定单元传输的干扰度确定结果进行接收，定时对其他因素的干扰度进行计算，若计算的干扰度值为定值，则将计算的干扰度值作为误差加入到相似度计算中，若计算的干扰度值为变量，则根据干扰度值随时间的变化趋势，对干扰因素类型进行判断，并将判断结果传输至运维管控模块；运维管控模块对初步确定单元传输的确定的工控系统的状态变更情况，和干扰因素判断单元传输的干扰因素类型进行接收，将接收的内容分别发送至匹配的维修人员，维修人员根据工控系统处理的维修数据判断对应的工业设备是否维修完成。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
