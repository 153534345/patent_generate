标题title
可犯错的拟人化随机跟车驾驶行为建模方法
摘要abst
一种可犯错的拟人化随机跟车驾驶行为建模方法，属于驾驶员建模技术领域。本发明的目的是解决了跟车场景下拟人化特征提取困难的问题，使得跟车模型具有随机性、“可犯错”机制等拟人化效果的可犯错的拟人化随机跟车驾驶行为建模方法。本发明步骤是：自然行驶数据原始采集,以SPMD数据集作为自然行驶大数据；跟车场景提取，生成跟车轨迹片段数据库；跟车数据预处理；建立一种可犯错的拟人化随机跟车模型。本发明具有计算简单且可移植性强的特点。
权利要求书clms
1.一种可犯错的拟人化随机跟车驾驶行为建模方法，S1、自然行驶数据原始采集，以SPMD数据集作为自然行驶大数据；S2、跟车场景提取，生成跟车轨迹片段数据库；S3、跟车数据预处理；其特征在于：S4、建立一种可犯错的拟人化随机跟车模型；S41、建立与两车距离、速度差、车头距以及前车速度相关的名义驾驶员跟车概率模型，其中名义是指不犯错名义；S411、名义驾驶员跟车模型期望加速度公式如下：P)＝P3·)+P2·)+P1·)+P0 其中：ad为第t时刻期望加速度，R为第t时刻两车车距，Th为车头距，VF为后车车速，P)为速度差比例增益，P0、P1、P2、P3为系数，该系数从SPMD数据集中标定得到的；其标定的方法为：首先提取跟车数据集中根据不同R的范围分为13类并在不同类内提取两车车速差以及加速度。具体分类为：0＜R≤10为一类；10＜R≤20为一类；20＜R≤30为一类；30＜R≤40为一类；40＜R≤50为一类；50＜R≤60为一类；60＜R≤70为一类；70＜R≤80为一类；80＜R≤90为一类；90＜R≤100为一类；100＜R≤110为一类；110＜R≤120为一类；120＜R≤130为一类；针对每一类，通过最小二乘法求出两车车速差与加速度的斜率，然后通过最小二乘法，拟合出公式的系数P0、P1、P2、P3；S412、名义驾驶员跟车模型期望加速度分布公式如下：σ)＝Q5·)+Q4·)+Q3·)+Q2·)+Q1·)+Q0 其中：σ)为在两车距离为R时期望加速度的标准差；R为第t时刻两车车距；Q0、Q1、Q2、Q3、Q4、Q5为系数，该系数从SPMD数据集中标定得到的，其标定的方法为：首先提取跟车数据集中根据不同R的范围分为13类；13类的具体分类如下：0＜R≤10、10＜R≤20、20＜R≤30、30＜R≤40、40＜R≤50、50＜R≤60、60＜R≤70、70＜R≤80、80＜R≤90、90＜R≤100、100＜R≤110、110＜R≤120、120＜R≤130；针对每一类，计算加速度分布的标准差，然后通过最小二乘法，拟合出公式的Q0、Q1、Q2、Q3、Q4、Q5系数；S413、名义驾驶员跟车模型实际加速度公式如下：a＝f，σ)) 其中：a为名义驾驶员跟车模型实际加速度；f从SPMD数据集中标定得到的加速度概率密度分布；其具体标定方法为：提取不同跟车距离的加速度频率分布直方图，并采用各种概率密度函数进行拟合并选取最切合频率分布直方图的概率密度函数作为公式的概率密度函数；S42、基于抗饱和速度差来描述人类驾驶员感知受限的犯错机制并建立基于感知受限的跟车模型：通过两车相对速度来模拟人类驾驶员感知受限的机制，其公式为：其中：为第t时刻两车速度差，为第t时刻感知范围率；S43、基于人类驾驶员驾驶过程中注意力分散的情况描述人类驾驶员分心驾驶的犯错机制并建立基于分心驾驶的跟车模型：驾驶员在制动响应时制动响应时间为1.5-3.5秒，故对驾驶员反应延迟的时长设置最长为3s，即30个延迟步长，首先获取跟车的序列数据，采用具有不同延迟步骤的三十个ARMA模型同时预测跟车的序列数据，并与实际数据点进行比较，误差最小的ARMA模型的延迟步长即为该数据的反应延迟步长；S44、基于分心域约束来描述人类驾驶员反应延迟的犯错机制并建立基于反应延迟的跟车模型：从实际跟车数据获取当前时刻名义跟车模型的输入；根据步骤S41所设计的名义驾驶员跟车模型预测下一个车辆状态的均值及标准差，其均值及标准差所确定的区域为分心域；从实际跟车数据中获取下一时刻车辆的真实状态，若车辆真实状态处于分心域以外，我们将其定义为驾驶员的分心驾驶行为，同理，若车辆真实状态处于分心域以内，我们将其定义为驾驶员的正常驾驶行为，对所有真实数据进行上述步骤的判断，并提取所有真实跟车数据中的分心驾驶数据。
说明书desc
技术领域本发明属于驾驶员建模技术领域。背景技术跟车和换道等典型场景下的驾驶员行为建模是自动驾驶研究领域中一个重要课题。在自动驾驶技术的发展进程中，自动驾驶车辆与人类驾驶车辆混行的场景将持续相当长的时间。人类驾驶的车辆对周围交通状况做出的反应行为直接影响着自动驾驶车辆的决策行为。跟车行驶是车辆行驶过程中最典型的场景，建立拟人化跟车行驶模型是驾驶员行为研究、汽车智能辅助驾驶系统开发及其安全性评价的重要环节。在自动驾驶安全性评价中，已有的测试方法多数是基于测试矩阵的固定背景车辆轨迹测试方法、缺少与测试的自动驾驶车辆交互、无法让背景车辆通过“可犯错”的行为使得自动驾驶测试场景更具有挑战性，从而提升自动驾驶测试的效率。故在建立驾驶员模型时，更需要考虑驾驶员模型是一个具有“可犯错”机制的模型。目前已公开的跟车驾驶模型主要分为两大类：基于运动学的跟车模型和基于数据驱动的跟车模型。基于动力学的跟车驾驶模型是后车根据前车运动状态调整自身运动状态的数学描述，而基于数据驱动的模型则利用自然行驶大数据通过深度学习或者强化学习训练一个跟车模型。面向基于动力学的跟车驾驶建模方法，专利CN108845498A公开了一种考虑反应滞后时间的驾驶员跟车模型的建模方法。其将驾驶员反应滞后划分为相对于前车速度变化的反应滞后和相对于车间距变化的反应滞后，使用不同形式的对数函数分别描述了驾驶员两种反应滞后时间随平均车间距变化的特性。将车间距、前车速度、自车速度作为模型输入变量,将一定时间延迟后的期望加速度作为模型输出,建立模型实现对汽车纵向速度的控制。该发明在计算纵向加速度时充分考虑了驾驶员反应滞后的变化性，可以更加真实的体现驾驶员的实际驾驶行为。但是，但此驾驶模型未考虑跟车场景下驾驶员的随机性、以及“可犯错”机制。专利CN110979309A公开了一种考虑驾驶人感知误差的车辆跟车模型稳定性控制方法。在考虑驾驶人在跟车过程中对前车运动状态存在信息感知误差的情况下，引入车头间距与前车车速置信水平参数，建立一种考虑驾驶人感知误差的车辆跟驰模型，并在此基础上，设计了一种反馈控制方法来增强模型的稳定性。该发明中的跟车模型提出的反馈控制方法能有效的提高队列的稳定性。该模型并未考虑跟车场景下驾驶员的随机性以及拟人化特征。上述两种发明可归纳为跟车模型建模方法，具体是指基于车间动力学关系建立起跟车模型。虽然易于计算，但建立起的都是特定场景下的确定性模型，没有考虑到驾驶员的随机性，缺少与交通环境的行为关联交互、无法使模型具有拟人化特征，在复杂交通环境下的泛化能力较差、以及缺少“可犯错”机制。基于数据驱动的跟车模型可以有效解决传统跟车模型精度有限等缺陷，为自动驾驶车辆跟车控制提供参考。例如，专利CN 112560354 A公开了一种基于高斯过程回归的跟车行为建模方法，其由驾驶员使用模拟驾驶器进行仿真环境下的模拟驾驶试验，采集了包括前车相对距离、前车相对纵向速度、前车相对加速度、主车相对加速度的实验数据，使用分类算法对实验数据进行聚类。基于聚类后的数据集和高斯过程回归算法，训练得到三个基于高斯过程回归的跟车行为模型，测试基于高斯过程回归的跟车行为模型。该发明数据采集便捷、建模成本低、模型计算速度快，但此驾驶模型未考虑跟车场景下驾驶员随机性以及拟人化特征。专利CN109733415A公开一种基于深度强化学习的跟车模型。基于上海自然驾驶实验数据，将选取的快速路跟车数据集分为训练数据和验证数据。通过构建仿真环境以使强化学习智能体通过一系列状态、行动和奖励值与环境交互，选取评价指标，设置奖励函数，选择神经网络结构，设置神经网络跟新策略、超参数及探索策略，构建深度强化学习的跟车模型。通过训练并测试模型，进一步优化模型，从而适应自动驾驶场景。但此驾驶模型未考虑跟车场景下驾驶员随机性以、拟人化特征、以及“可犯错”机制。综上所述，目前关于运动学的跟车模型和基于数据驱动的跟车模型已经有一些相关专利获得公开，但是上述模型建立的是确定性跟车模型，未能考虑实际行驶中人类驾驶员行为的随机性、且缺少拟人化效果。缺少拟人化效果的驾驶模型将自动驾驶车辆安全性测试及评价带来巨大的挑战。目前建立一个能准确反映人类驾驶员跟车行驶特性的具有“可犯错”机制的随机跟车驾驶模型在跟车模型领域尚属于空白。发明内容本发明的目的是解决了跟车场景下拟人化特征提取困难的问题，使得跟车模型具有随机性、“可犯错”机制等拟人化效果的可犯错的拟人化随机跟车驾驶行为建模方法。本发明步骤是：S1、自然行驶数据原始采集，以SPMD数据集作为自然行驶大数据；S2、跟车场景提取，生成跟车轨迹片段数据库；S3、跟车数据预处理；S4、建立一种可犯错的拟人化随机跟车模型；S41、建立与两车距离、速度差、车头距以及前车速度相关的名义驾驶员跟车概率模型，其中名义是指不犯错名义；S411、名义驾驶员跟车模型期望加速度公式如下：P)＝P3·)+P2·)+P1·)+P0 其中：ad为第t时刻期望加速度，R为第t时刻两车车距，Th为车头距，VF为后车车速，P)为速度差比例增益，P0、P1、P2、P3为系数，该系数从SPMD数据集中标定得到的；其标定的方法为：首先提取跟车数据集中根据不同R的范围分为13类并在不同类内提取两车车速差以及加速度。具体分类为：0＜R≤10为一类；10＜R≤20为一类；20＜R≤30为一类；30＜R≤40为一类；40＜R≤50为一类；50＜R≤60为一类；60＜R≤70为一类；70＜R≤80为一类；80＜R≤90为一类；90＜R≤100为一类；100＜R≤110为一类；110＜R≤120为一类；120＜R≤130为一类；针对每一类，通过最小二乘法求出两车车速差与加速度的斜率，然后通过最小二乘法，拟合出公式的系数P0、P1、P2、P3；S412、名义驾驶员跟车模型期望加速度分布公式如下：σ)＝Q5·)+Q4·)+Q3·)+Q2·)+Q1·)+Q0 其中：σ)为在两车距离为R时期望加速度的标准差；R为第t时刻两车车距；Q0、Q1、Q2、Q3、Q4、Q5为系数，该系数从SPMD数据集中标定得到的，其标定的方法为：首先提取跟车数据集中根据不同R的范围分为13类；13类的具体分类如下：0＜R≤10、10＜R≤20、20＜R≤30、30＜R≤40、40＜R≤50、50＜R≤60、60＜R≤70、70＜R≤80、80＜R≤90、90＜R≤100、100＜R≤110、110＜R≤120、120＜R≤130；针对每一类，计算加速度分布的标准差，然后通过最小二乘法，拟合出公式的Q0、Q1、Q2、Q3、Q4、Q5系数；S413、名义驾驶员跟车模型实际加速度公式如下：a＝f，σ)) 其中：a为名义驾驶员跟车模型实际加速度；f从SPMD数据集中标定得到的加速度概率密度分布；其具体标定方法为：提取不同跟车距离的加速度频率分布直方图，并采用各种概率密度函数进行拟合并选取最切合频率分布直方图的概率密度函数作为公式的概率密度函数；S42、基于抗饱和速度差来描述人类驾驶员感知受限的犯错机制并建立基于感知受限的跟车模型：通过两车相对速度来模拟人类驾驶员感知受限的机制，其公式为：其中：为第t时刻两车速度差，为第t时刻感知范围率；S43、基于人类驾驶员驾驶过程中注意力分散的情况描述人类驾驶员分心驾驶的犯错机制并建立基于分心驾驶的跟车模型：驾驶员在制动响应时制动响应时间为1.5-3.5秒，故对驾驶员反应延迟的时长设置最长为3s，即30个延迟步长，首先获取跟车的序列数据，采用具有不同延迟步骤的三十个ARMA模型同时预测跟车的序列数据，并与实际数据点进行比较，误差最小的ARMA模型的延迟步长即为该数据的反应延迟步长；S44、基于分心域约束来描述人类驾驶员反应延迟的犯错机制并建立基于反应延迟的跟车模型：从实际跟车数据获取当前时刻名义跟车模型的输入；根据步骤S41所设计的名义驾驶员跟车模型预测下一个车辆状态的均值及标准差，其均值及标准差所确定的区域为分心域；从实际跟车数据中获取下一时刻车辆的真实状态，若车辆真实状态处于分心域以外，我们将其定义为驾驶员的分心驾驶行为，同理，若车辆真实状态处于分心域以内，我们将其定义为驾驶员的正常驾驶行为，对所有真实数据进行上述步骤的判断，并提取所有真实跟车数据中的分心驾驶数据。本发明有益效果是：1.发明了一种基于“可犯错”机制的拟人化跟车驾驶行为建模方法，该方法在传统运动学跟车模型的基础上，考虑了人类驾驶员在跟车过程中常见的犯错误行为，如“感知受限”、“分心驾驶”以及“反应延迟”等，针对跟车场景拟人化特征提取困难的问题，分别描述了跟车场景下的“感知限制”机制、“分心驾驶”机制以及“反应延迟”机制，解决了跟车场景下拟人化特征提取困难的问题，使得跟车模型具有随机性、“可犯错”机制等拟人化效果。2.在考虑拟人化因素及随机性的前提下采用基于传统动力学模型建立的“可犯错”机制的拟人化跟车驾驶模型具有计算简单且可移植性强的特点。3.建立的“可犯错”机制的拟人化跟车模型具有驾驶行为随机性、可以模拟驾驶员跟车状态下的犯错误行为的特点，采用本模型进行自动驾驶车辆测试可以使得自动驾驶测试具有随机性且使自动驾驶测试环境更加真实有效。附图说明图1本发明为本发明“可犯错”机制的拟人化跟车驾驶概率模型的建模方法结构图；图2为本发明“可犯错”机制的拟人化跟车驾驶概率模型的建模设计流程图；图3为跟车场景提取逻辑；图4为名义跟车驾驶概率模型结构框图；图5为描述反应延迟机制建模的逻辑图；图6为反应延迟特征数据以及概率密度分布；图7为描述分心驾驶机制建模示意图；图8为分心驾驶特征概率密度分布；图9为拟人化随机跟车模型验证结果图。具体实施方式本发明提出了一种“可犯错”机制的拟人化随机跟车驾驶建模方法。该方法在传统运动学跟车模型的基础上，考虑了人类驾驶员在跟车过程中常见的犯错误行为，如“感知受限”、“分心驾驶”以及“反应延迟”等，针对跟车场景拟人化特征提取困难的问题，分别描述了跟车场景下的“感知限制”机制、“分心驾驶”机制以及“反应延迟”机制，解决了跟车场景下拟人化特征提取困难的问题，使得跟车模型具有随机性、“可犯错”机制等拟人化效果。本发明通过以下技术方案实现：一种基于“可犯错”机制的拟人化跟车驾驶概率模型的建模方法，包括：跟车场景驾驶片段数据库逻辑提取模块、名义跟车模型模块；感知受限模块、反应延迟模块以及分心驾驶模块。本发明通过以下步骤实现：步骤一：自然行驶数据原始采集。包括：车辆GPS信息、CAN信息、传感器信息等；步骤二：跟车场景提取，生成跟车轨迹片段数据库。设计跟车提取逻辑，在自然行驶数据库中采集跟车拟人化驾驶模型所需变量，其中包括：前车车速、两车相对距离以及本车车速等变量；步骤三：跟车数据预处理。为了给提供更平滑的轨迹故对采集的变量进行滤波处理；步骤四：建立一种“可犯错”的拟人化随机跟车模型首先建立与两车距离、速度差、车头距以及前车速度等相关的名义驾驶员跟车概率模型。其次，基于人类驾驶员对感知两车速度差的能力描述人类驾驶员“感知受限”的犯错机制并建立基于“感知受限”的跟车模型。之后，基于人类驾驶员驾驶过程中注意力分散的情况描述人类驾驶员“分心驾驶”的犯错机制并建立基于“分心驾驶”的跟车模型。随后基于人类驾驶员执行驾驶动作所需的反应时间来描述人类驾驶员“反应延迟”的犯错机制并建立基于“反应延迟”的跟车模型。最后，完成一种“可犯错”的拟人化随机跟车模型建立。步骤五：对“可犯错”的拟人化随机跟车模型进行验证。以下结合附图对本发明做进一步详细描述：本发明提出一种基于“可犯错”机制的跟车驾驶行为建模方法。该方法在传统跟车模型的基础上，考虑了人类驾驶员在跟车过程中如“感知受限”、“分心驾驶”以及“反应延迟”等常见的犯错误行为，实现了跟车模型的拟人化效果。针对跟车场景拟人化特征提取困难的问题，分别设计了跟车场景下的“感知限制”机制、“分心驾驶”机制以及“反应延迟”机制，解决了跟车场景下拟人化特征提取困难的问题。本发明基于“可犯错”机制的跟车驾驶行为建模方法结构图，如图1所示。具体实施为：首先，对自然行驶数据原始采集。包括：车辆GPS信息、CAN信息、传感器信息等。其次，提取跟车场景，生成跟车轨迹片段数据库。设计跟车提取逻辑，在自然行驶数据库中采集跟车拟人化驾驶模型所需变量，其中包括：前车车速、两车相对距离以及本车车速等变量。随后，为了给提供更平滑的轨迹故对采集的变量进行滤波处理。之后根据数据库中前车车速、两车距离、两车速度差等信息，建立名义驾驶员跟车概率模型；随后根据驾驶员对两车速度差感知受驾驶员生理影响无法准确感知部分两车速度差的机制，设计拟人化因素“感知限制”；针对人类驾驶员在驾驶车辆时会出现分心驾驶的情况，如：使用手机和跟乘客互动。利用名义驾驶员跟车概率模型的预测输出的区间作为正常驾驶的输出区间，并据此判断是否发生了分心驾驶，设计拟人化因素“分心驾驶”；其后人类驾驶员在驾驶车辆时总会出现反应延迟的情况，其中神经肌肉延迟和人类驾驶员决策时间是两个主要时间延迟来源，根据跟车轨迹序列利用ARMA算法来获取跟车序列中的反应延迟特征，并设计拟人化因素“反应延迟”；最后完成了基于“可犯错”机制的跟车驾驶行为模型。具体地：一种基于“可犯错”机制的跟车驾驶行为建模方法设计流程图如图2所示，具体包括以下步骤：S1.自然行驶数据原始采集SPMD数据集由美国交通部支持下建立，是目前世界最大的自然行驶数据库，其记录了密歇根州安阿伯2842辆装备车辆超过3490万英里的自然驾驶。其中，在SPMD数据库中，有98辆轿车配备了MobilEye的数据采集系统，该系统能够测量和记录主车和前车之间的相对速度、相对距离和道路曲率。数据的采样频率为10Hz。本文以SPMD数据集作为自然行驶大数据。S2.跟车场景提取，生成跟车轨迹片段数据库。其逻辑框图如图3所示首先，提取SPMD数据集中前车数据集和换道数据集。其次，进行相对补集运算，选择在前车数据集但不在换道数据集中的数据；随后，逐帧对数据进行逻辑判断，判断前车在相邻时刻内是否是同一辆小汽车，若是则将该帧数据放入跟车片段库中，否则对下一帧数据进行判断，直到所有数据筛选完毕为止。S3.跟车数据预处理首先将采集的变量如前车车速、两车相对距离以及本车车速等转化为时序信号，并计算该时序信号的长度，并对该信号进行填充处理，其次对处理后的数据进行快速傅里叶变换，得到数据的频谱。随后根据数据的采样频率与滤波所需的截止频率，将频谱中截止频率之外的信号清除。最后将获得的频谱进行逆傅里叶变换，将其转化为时域信号，得到滤波后的数据。S4.建立一种“可犯错”的拟人化随机跟车模型S4.1.建立与两车距离、速度差、车头距以及前车速度等相关的名义驾驶员跟车概率模型。其名义跟车驾驶概率模型结构图如图4所示。S4.11.名义驾驶员跟车模型期望加速度公式如下是所示：P)＝P3·)+P2·)+P1·)+P0 其中：ad为第t时刻期望加速度；R为第t时刻两车车距；Th为车头距，VF为后车车速；P)为速度差比例增益；P0、P1、P2、P3为系数。该系数从SPMD数据集中标定得到的。系数P0、P1、P2、P3标定的方法为：首先提取跟车数据集中根据不同R的范围分为13类并在不同类内提取两车车速差以及加速度。具体分类为：0＜R≤10为一类；10＜R≤20为一类；20＜R≤30为一类；30＜R≤40为一类；40＜R≤50为一类；50＜R≤60为一类；60＜R≤70为一类；70＜R≤80为一类；80＜R≤90为一类；90＜R≤100为一类；100＜R≤110为一类；110＜R≤120为一类；120＜R≤130为一类。针对每一类，通过最小二乘法求出两车车速差与加速度的斜率，然后通过最小二乘法，拟合出公式的系数P0、P1、P2、P3。S4.12.名义驾驶员跟车模型期望加速度分布公式如下是所示：σ)＝Q5·)+Q4·)+Q3·)+Q2·)+Q1·)+Q0 其中：σ)为在两车距离为R时期望加速度的标准差；R为第t时刻两车车距；Q0、Q1、Q2、Q3、Q4、Q5为系数。该系数从SPMD数据集中标定得到的。其标定的方法为：首先提取跟车数据集中根据不同R的范围分为13类。具体分类见下表：针对每一类，计算加速度分布的标准差，然后通过最小二乘法，拟合出公式的Q0、Q1、Q2、Q3、Q4、Q5系数。S4.13.名义驾驶员跟车模型实际加速度公式如下式所示：a＝f，σ)) 其中：a为名义驾驶员跟车模型实际加速度；f从SPMD数据集中标定得到的加速度概率密度分布。其具体标定方法为：提取不同跟车距离的加速度频率分布直方图，并采用各种概率密度函数进行拟合并选取最切合频率分布直方图的概率密度函数作为公式的概率密度函数。S4.2.基于抗饱和速度差来描述人类驾驶员“感知受限”的犯错机制并建立基于“感知受限”的跟车模型人类驾驶员感觉和感知环境变量，如范围，范围率和车速，以执行驾驶任务。但是人类驾驶员对环境的感知不是精确的，故需要研究人类驾驶员“感知受限”的犯错机制。在人类驾驶员驾驶汽车的过程中，检测距离和速度变化的能力是至关重要的。人类驾驶员目前主要通过视觉系统的分辨率来感知速度变化，除了视角之外，人类驾驶员还利用了地面的眼高、相对位置和纹理等环境信息来感知速度变化。故不实施距离或范围的感知限制。人类驾驶员在驾驶车辆的过程中对车辆运动和位置感知是两种不同的机制，在低频范围中，人类驾驶员直接评估速度，但对于更高的频率，两车相对速度是占主导地位的。通过两车相对速度来模拟人类驾驶员感知受限的机制，其公式为：其中：为第t时刻两车速度差，为第t时刻感知范围率S4.3.基于人类驾驶员驾驶过程中注意力分散的情况描述人类驾驶员“分心驾驶”的犯错机制并建立基于“分心驾驶”的跟车模型反应延迟是另一个人类驾驶员犯错误机制。神经肌肉延迟和驾驶员决策时间是两个主要时间延迟来源。每个人类驾驶员的神经肌肉延迟可能接近恒定，但决策处理时间则不尽相同。因此，总时间延迟变化。故需要研究人类驾驶员“反应延迟”的犯错机制。人类驾驶员在制动响应时制动响应时间为1.5-3.5秒，故对驾驶员反应延迟的时长设置最长为3s，即30个延迟步长。反应延迟的框图如图5所示。首先获取跟车的序列数据，采用具有不同延迟步骤的三十个ARMA模型同时预测跟车的序列数据，并与实际数据点进行比较，误差最小的ARMA模型的延迟步长即为该数据的反应延迟步长。SPMD跟车数据集的反应延迟步长及概率密度分布如图6如下所示。S4.4.基于分心域约束来描述人类驾驶员“反应延迟”的犯错机制并建立基于“反应延迟”的跟车模型。其分心驾驶的框图如图7所示人类驾驶员分心是一个重要的犯错误诱导机制。人类驾驶员在驾驶车辆时可能会手机使用，或与其他乘客的互动等。故需要研究人类驾驶员“分心驾驶”的犯错机制。针对实际跟车数据，名义驾驶员跟车模型可以预测下一个车辆状态并分别计算它们的偏差。如果实际跟车数据降落在预测的一个标准偏差之外，我们将其定义为驾驶员的“分心驾驶”行为。其SPMD数据集中分心驾驶的统计图如图8所示。从实际跟车数据获取当前时刻名义跟车模型的输入；根据步骤4.1所设计的名义驾驶员跟车模型预测下一个车辆状态的均值及标准差，其均值及标准差所确定的区域为“分心域”；从实际跟车数据中获取下一时刻车辆的真实状态，若车辆真实状态处于“分心域”以外，我们将其定义为驾驶员的“分心驾驶”行为，同理，若车辆真实状态处于“分心域”以内，我们将其定义为驾驶员的“正常驾驶”行为。对所有真实数据进行上述步骤的判断，并提取所有真实跟车数据中的“分心驾驶”数据。其SPMD数据集中分心驾驶的统计图如图8所不。模型验证图9为SPMD后车速度与拟人化模型后车速度对比。从图9可以看出，基于“可犯错”机制的拟人化跟车驾驶模型与真实SPMD数据中速度趋势基本保持一致。采用决定系数R2对拟人化跟车驾驶模型进行验证，其决定系数的公式为其中：为预测值、yi为真实值。通过对决定系数求解，得R2＝0.9982。故拟人化跟车驾驶模型具备拟人化效果。本发明一种基于“可犯错”机制的拟人化跟车驾驶概率模型的建模方法表现出如下优越性：充分考虑到跟车过程中人类驾驶员可能遇到的“感知受限”、“分心驾驶”以及“反应延迟”等常见的犯错误行为。
