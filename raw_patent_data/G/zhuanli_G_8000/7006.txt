标题title
基于业务的偏差原因识别方法、装置及电子设备
摘要abst
本说明书实施例提供一种基于业务的偏差原因识别方法、装置及电子设备。所述方法包括：获取业务的业务流数据，并根据原子事件对应的第一定义规则对业务流数据进行处理得到至少一个原子事件；根据至少一个原子事件对有向图中的节点依次进行遍历，以确定有向图中是否存在与至少一个原子事件对应的节点，其中，有向图为根据预定的复杂事件所对应的第二定义规则生成的图数据结构；当有向图中存在节点时，根据节点对应的逻辑运算规则，确定由至少一个原子事件所形成的复杂事件；将复杂事件作为执行业务过程中产生偏差的原因。本公开通过实现对偏差原因的定义，能够准确识别偏差原因，提高识别效率。
权利要求书clms
1.一种基于业务的偏差原因识别方法，其特征在于，包括：获取由一个或多个业务产生的业务流数据，并根据预定的原子事件所对应的第一定义规则，对所述业务流数据进行处理得到至少一个原子事件；根据所述至少一个原子事件对有向图中的节点依次进行遍历，以确定所述有向图中是否存在与所述至少一个原子事件对应的节点，其中，所述有向图为根据预定的复杂事件所对应的第二定义规则生成的图数据结构；当所述有向图中存在所述节点时，根据所述节点对应的逻辑运算规则，确定由所述至少一个原子事件所形成的复杂事件，其中，所述逻辑运算规则用于将所述至少一个原子事件处理成所述复杂事件；将所述复杂事件作为执行业务过程中产生偏差的原因，其中，所述第二定义规则为基于所述第一定义规则所生成的规则。2.根据权利要求1所述的方法，其特征在于，所述获取由一个或多个业务产生的业务流数据，包括：获取业务系统在执行业务过程中产生的业务流数据，其中，当所述业务的数量为多个时，所述业务流数据中包含按照所述业务执行的先后顺序排列的业务数据序列。3.根据权利要求1所述的方法，其特征在于，所述根据预定的原子事件所对应的第一定义规则，对所述业务流数据进行处理得到至少一个原子事件，包括：根据所述第一定义规则中的事件属性，从所述业务流数据中提取出与所述事件属性相对应的属性数据，基于所述属性数据生成符合所述第一定义规则要求的原子事件。4.根据权利要求1或3所述的方法，其特征在于，所述第一定义规则包括以下格式的规则：e其中，e表示原子事件，tid表示对象标识，sta表示事件类型标识，t表示原子事件发生的时间戳，attr表示原子事件的其它属性列表。5.根据权利要求1所述的方法，其特征在于，所述方法还包括：获取对所述复杂事件的初始规则的描述，根据所述初始规则的描述抽象出所述复杂事件对应的第二定义规则，将所述第二定义规则存储至复杂事件模式库中；对所述复杂事件模式库中的所述第二定义规则执行解析操作，得到与所述第二定义规则相对应的条件表达式、事件构造符及动作命令；基于所述事件构造符，将所述复杂事件以及与所述复杂事件对应的原子事件映射到有向图中的节点上。6.根据权利要求5所述的方法，其特征在于，所述方法还包括：在所述根据所述至少一个原子事件对有向图中的节点依次进行遍历之前，基于所述条件表达式对所述至少一个原子事件进行筛选，以便过滤掉不符合所述条件表达式的格式要求的原子事件，并将符合所述条件表达式的格式要求的原子事件存储到原子事件实例库中。7.根据权利要求1或5所述的方法，其特征在于，所述第二定义规则包括以下格式的规则：E＝其中，E表示复杂事件，opt表示事件构造符，req表示事件属性的条件约束，attr表示事件属性集，c表示复杂事件的相关事件，do表示事件触发条件。8.根据权利要求1所述的方法，其特征在于，所述逻辑运算规则包括所述原子事件的属性值的判断规则，以及多个所述原子事件之间的逻辑运算规则；所述根据所述节点对应的逻辑运算规则，确定由所述至少一个原子事件所形成的复杂事件，包括：根据所述判断规则对所述原子事件的属性值进行判断，当所述原子事件的属性值符合所述判断规则对应的要求时，基于所述原子事件生成所述复杂事件；或者，根据所述逻辑运算规则对多个所述原子事件之间的逻辑关系进行判断，当多个所述原子事件之间的逻辑关系符合所述逻辑运算规则的要求时，基于多个所述原子事件生成所述复杂事件。9.一种基于业务的偏差原因识别装置，其特征在于，包括：获取模块，被配置为获取由一个或多个业务产生的业务流数据，并根据预定的原子事件所对应的第一定义规则，对所述业务流数据进行处理得到至少一个原子事件；遍历模块，被配置为根据所述至少一个原子事件对有向图中的节点依次进行遍历，以确定所述有向图中是否存在与所述至少一个原子事件对应的节点，其中，所述有向图为根据预定的复杂事件所对应的第二定义规则生成的图数据结构；运算模块，被配置为当所述有向图中存在所述节点时，根据所述节点对应的逻辑运算规则，确定由所述至少一个原子事件所形成的复杂事件，其中，所述逻辑运算规则用于将所述至少一个原子事件处理成所述复杂事件；确定模块，被配置为将所述复杂事件作为执行业务过程中产生偏差的原因，其中，所述第二定义规则为基于所述第一定义规则所生成的规则。10.一种电子设备，包括存储器，处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如权利要求1至8中任一项所述的方法。
说明书desc
技术领域本公开涉及计算机技术领域，尤其涉及一种基于业务的偏差原因识别方法、装置及电子设备。背景技术随着互联网技术的发展，越来越多的业务通过业务系统来实现。在业务系统中会对一些业务设定初始的业务目标，以预计业务所能达到的结果，但是，在业务系统的实际运行过程中，受到外部环境的影响，业务有时无法达到预计的结果，或者与预计的结果之间产生偏差。因此，如何对导致业务的实际结果与预计结果之间的偏差原因进行识别，以便针对性的做出调整，这对业务的实现来说具有重要意义。在相关技术中，以房地产业务系统为例，当前房地产行业对于收入预算这一业务的偏差原因的分析采用的是人工线下分析方式。由各项目自主定义若干原因，通过一线摸排、查阅合同来了解情况，员工依靠经验和主观判断给出一个关键原因，各员工对所辖资源逐条填写原因向上汇报，再由专人统一汇总最后输出分析报告。上述偏差原因的分析方式中，对偏差原因的定义无统一规范，人为分析存在主观性偏误，无法准确识别偏差原因，且浪费资源，识别效率低。发明内容有鉴于此，本公开实施例提供了一种基于业务的偏差原因识别方法、装置及电子设备，以解决现有技术存在的对偏差原因的定义无统一规范，无法准确识别偏差原因，且浪费资源，识别效率低的问题。本公开实施例的第一方面，提供了一种基于业务的偏差原因识别方法，包括：获取由一个或多个业务产生的业务流数据，并根据预定的原子事件所对应的第一定义规则，对业务流数据进行处理得到至少一个原子事件；根据至少一个原子事件对有向图中的节点依次进行遍历，以确定有向图中是否存在与至少一个原子事件对应的节点，其中，有向图为根据预定的复杂事件所对应的第二定义规则生成的图数据结构；当有向图中存在节点时，根据节点对应的逻辑运算规则，确定由至少一个原子事件所形成的复杂事件，其中，逻辑运算规则用于将至少一个原子事件处理成复杂事件；将复杂事件作为执行业务过程中产生偏差的原因，其中，第二定义规则为基于第一定义规则所生成的规则。本公开实施例的第二方面，提供了一种基于业务的偏差原因识别装置，包括：获取模块，被配置为获取由一个或多个业务产生的业务流数据，并根据预定的原子事件所对应的第一定义规则，对业务流数据进行处理得到至少一个原子事件；遍历模块，被配置为根据至少一个原子事件对有向图中的节点依次进行遍历，以确定有向图中是否存在与至少一个原子事件对应的节点，其中，有向图为根据预定的复杂事件所对应的第二定义规则生成的图数据结构；运算模块，被配置为当有向图中存在节点时，根据节点对应的逻辑运算规则，确定由至少一个原子事件所形成的复杂事件，其中，逻辑运算规则用于将至少一个原子事件处理成复杂事件；确定模块，被配置为将复杂事件作为执行业务过程中产生偏差的原因，其中，第二定义规则为基于第一定义规则所生成的规则。本公开实施例的第三方面，提供了一种电子设备，包括存储器，处理器及存储在存储器上并可在处理器上运行的计算机程序，处理器执行程序时实现上述方法的步骤。本公开实施例采用的上述至少一个技术方案能够达到以下有益效果：通过获取由一个或多个业务产生的业务流数据，并根据预定的原子事件所对应的第一定义规则，对业务流数据进行处理得到至少一个原子事件；根据至少一个原子事件对有向图中的节点依次进行遍历，以确定有向图中是否存在与至少一个原子事件对应的节点，其中，有向图为根据预定的复杂事件所对应的第二定义规则生成的图数据结构；当有向图中存在节点时，根据节点对应的逻辑运算规则，确定由至少一个原子事件所形成的复杂事件，其中，逻辑运算规则用于将至少一个原子事件处理成复杂事件；将复杂事件作为执行业务过程中产生偏差的原因，其中，第二定义规则为基于第一定义规则所生成的规则。本方案通过定义规则实现对偏差原因的规范化定义，自动化识别可达到有效、准确识别偏差原因的效果，无需人工标注原因，降低工作量，提升识别效率。附图说明为了更清楚地说明本公开实施例中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本公开的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它的附图。图1是本公开实施例在实际应用场景中涉及的系统整体架构的示意图；图2是本公开实施例提供的基于业务的偏差原因识别方法的流程示意图；图3是本公开实施例提供的基于业务的偏差原因识别装置的结构示意图；图4是本公开实施例提供的电子设备的结构示意图。具体实施方式以下描述中，为了说明而不是为了限定，提出了诸如特定系统结构、技术之类的具体细节，以便透彻理解本公开实施例。然而，本领域的技术人员应当清楚，在没有这些具体细节的其它实施例中也可以实现本公开。在其它情况中，省略对众所周知的系统、装置、电路以及方法的详细说明，以免不必要的细节妨碍本公开的描述。为了清楚的理解业务的实际运行效果，在将业务部署到业务系统之前，可以在业务系统中对一些业务设定初始的业务目标，即预计业务所能达到的结果，但是，在实际的业务工作过程中，受到外部环境或人为等因素的影响，业务最终的实际结果与预计结果之间可能会产生一些偏差，而准确的识别出产生这些偏差的原因，并利用其指导后续的业务以及实现业务的复盘，这是十分必要的。下面以房地产业务系统中的预算项目为例，对预算收入产生偏差的原因以及现有技术的分析方式进行详细说明，具体可以包括以下内容：在商业地产行业中，在预算年度内通常会制定初始的预算收入目标，同时，完成预先制定的预算收入目标也是各项目最关键的考核任务之一。但是，在实际业务开展过程中，商业地产的预算收入与实际收入之间有时会产生一些偏差，为了提升业务的实际运行效果，并达到制定的预算收入目标，需要各项目不断的分析偏差原因并针对性的做出调整。由此可见，如何高效地识别出预算收入的偏差原因对商业地产项目来说非常重要，但是，当前房地产行业对于预算收入偏差分析还处于人工线下分析阶段。各项目自主定义若干关注的原因，由各项目招商员工通过一线摸排、查阅合同来了解店铺情况，员工依靠经验和主观判断给出一个关键原因。各员工对所辖资源逐条填写原因向上汇报，再由专人统一汇总最后输出分析报告。因此，目前采用人工分析偏差原因的方式存在以下问题：1)对偏差原因的定义无统一规范，原因定义不准确。偏差原因是由各项目人员自主定义，定义存在不规范、不准确，语意不明会导致不同人对偏差原因的理解不同；2)员工标注原因，人为分析存在主观性偏误。靠人工调研合同或商户摸底给出原因，不同员工定位到的原因不同；原因定位要求员工对商户情况非常清楚，容易导致问题定位不清，容易标注错误；3)人工汇总耗时耗力且容易出错。需要所辖员工逐条资源位填写，填写后将各版本汇总，不仅工作量大且容易出错。需要说明的是，上述在对现有技术以及现有技术的缺陷进行描述时，是以房地产行业的预算收入偏差作为实际应用场景来叙述的，在对该具体场景下的技术问题进行介绍时，虽然采用了一些具有一定商业意义的术语，但是应当理解的是，由于这是对特定应用场景下的技术问题的描述，因此，不应简单地将这些技术问题认为是本申请实际解决的技术问题。另外，本公开实施例也不限于房地产行业的预算收入偏差的业务场景，在任何业务系统中实际业务结果与预计业务结果之间存在偏差时都可应用本方案来解决。下面结合附图对本公开基于业务的偏差原因识别方法在实际应用场景中涉及的系统架构进行说明。图1是本公开实施例在实际应用场景中涉及的系统整体架构的示意图。如图1所示，该系统架构中主要包括以下内容：本公开实施例的系统架构也可以认为是一种复杂事件检测框架，该复杂事件检测框架中包括复杂事件模式库、事件解析器、原子事件抽取器、复杂事件构造器以及动作执行器。其中，复杂事件模式库可以由多个复杂事件对应的规则组成；复杂事件检测框架中的事件解析器将复杂事件模式库中的复杂事件对应的规则自动解析为条件表达式、事件构造符和动作指令；利用条件表达式可以对输入到原子事件抽取器中的业务流数据进行识别和筛选，选择符合条件表达式要求的原子事件；复杂事件构造器根据事件构造符对原子事件实例进行构建得到复杂事件实例；在完成复杂事件的构建之后，动作执行器根据解析得到的动作指令发出反馈动作指令，输出给各业务系统。基于该复杂事件检测框架可实现自动化监测偏差原因的目标。图2是本公开实施例提供的基于业务的偏差原因识别方法的流程示意图。图2的基于业务的偏差原因识别方法可以由服务器执行。如图2所示，该基于业务的偏差原因识别方法具体可以包括：S201，获取由一个或多个业务产生的业务流数据，并根据预定的原子事件所对应的第一定义规则，对业务流数据进行处理得到至少一个原子事件；S202，根据至少一个原子事件对有向图中的节点依次进行遍历，以确定有向图中是否存在与至少一个原子事件对应的节点，其中，有向图为根据预定的复杂事件所对应的第二定义规则生成的图数据结构；S203，当有向图中存在节点时，根据节点对应的逻辑运算规则，确定由至少一个原子事件所形成的复杂事件，其中，逻辑运算规则用于将至少一个原子事件处理成复杂事件；S204，将复杂事件作为执行业务过程中产生偏差的原因，其中，第二定义规则为基于第一定义规则所生成的规则。具体地，本公开实施例中业务流数据可以是线上业务系统在运行过程中产生的数据，不同的业务动作触发业务系统执行不同的操作，例如：当业务人员通过线上业务系统对合同执行解约操作时，解约这一业务动作行为将产生解约对应的业务流数据，业务系统将业务流数据发送给复杂事件检测框架对应的后台服务器，以使后台服务器根据业务流数据判断偏差原因是否发生。进一步地，原子事件可以认为是不能再分解成子事件的最小事件单元，原子事件一般具备以下两个属性：瞬时性属性，即原子事件的发生开始时间即为结束时间，因此一般将一些瞬间完成的动作为标志来表示一个原子事件的发生，比如解约业务的发生一般都是瞬时完成的，而不是持续进行的；原子性属性，原子事件不能再进一步拆分成更小的原子事件，原子事件要么完全发生，要么完全不发生，将原子事件作为事件处理的最小单位构成复杂事件监测框架中的数据流。另外，复杂事件是由原子事件加工而来的，复杂事件可以认为是由原子事件通过逻辑运算处理得到的具有一定业务含义的事件，因此复杂事件能够表示单一动作或多个复杂动作共同作用的结果，并且由于复杂事件一般具备特定的业务含义，因此复杂事件的描述更加近似于业务语言。在本公开实施例中，有向图是一种有向的图数据结构，有向图中可以包含若干个有向树，并且有向图中的节点之间可能存在一定的逻辑关系，本公开实施例通过将原子事件映射到有向图的节点中，并建立原子事件节点之间的逻辑关系，基于原子事件节点之间的逻辑关系进行运算构造复杂事件。根据本公开实施例提供的技术方案，本公开采用基于复杂事件的分析方法，首先给出原子事件、复杂事件的标准化定义规则，确保对偏差原因的定义准确清晰，避免产生歧义；其次，采用复杂事件检测框架，自动化识别具备业务含义的复杂事件，用以描述偏差产生的各种原因；最后，在识别偏差原因的同时向业务系统发送动作指令，指导业务。通过对偏差原因的准确识别，一方面可以在偏差发生后帮助项目有效复盘，总结经验；另一方面，通过有效识别偏差原因，可以为后期风险管控以及自动化反馈做准备，指导一线业务。在一些实施例中，获取由一个或多个业务产生的业务流数据，包括：获取业务系统在执行业务过程中产生的业务流数据，其中，当业务的数量为多个时，业务流数据中包含按照业务执行的先后顺序排列的业务数据序列。具体地，业务流数据可以认为是由一组有序的字节所组成的数据序列。在实际应用中，可以在业务系统的运行过程中实时获取业务产生的业务流数据，也可以在业务发生之后，进行定期复盘的时候，获取业务系统数据库中存储的业务流数据。进一步地，在一些复杂业务场景中，业务可能由一连串的更小的业务动作来完成，每一个更小的业务动作对应一个业务数据，因此，将这些业务动作所产生的业务数据按照业务动作的执行顺序进行排列，即可得到业务流数据。在一些实施例中，根据预定的原子事件所对应的第一定义规则，对业务流数据进行处理得到至少一个原子事件，包括：根据第一定义规则中的事件属性，从业务流数据中提取出与事件属性相对应的属性数据，基于属性数据生成符合第一定义规则要求的原子事件。具体地，原子事件是指不能再分解成子事件的最小事件单元，原子事件的第一定义规则是根据实际业务预先配置好的规则，原子事件可以认为是由一些属性组成的元组，原子事件是组成复杂事件的基本单元；以房地产领域的业务为例，原子事件可以对应解约、签约等事件。进一步地，第一定义规则中的事件属性是指第一定义规则中定义的一些属性，即第一定义规则中包含哪些属性，在实际应用中，第一定义规则中的事件属性包括但不限于以下属性：对象标识、事件类型标识、事件发生的时间戳、其他属性列表等。在一些实施例中，第一定义规则包括以下格式的规则：e其中，e表示原子事件，tid表示对象标识，sta表示事件类型标识，t表示原子事件发生的时间戳，attr表示原子事件的其它属性列表。具体地，下面结合具体应用场景下的实施例，对第一定义规则的内容进行说明，在商业地产预算偏差分析的业务场景下，涉及到签约、合同提网、合同归档、合同变更、接铺、开业、解约等可能造成偏差的关键业务动作，这些业务动作的发生都可以被定义为原子事件。也就是说，当业务系统监测到上述业务发生时，即可认为发生了原子事件。第一定义规则中的对象标识是指事件的对象是资源还是合同等，事件类型标识表示签约事件、解约事件等。进一步地，以合同归档为例，可以定义原子事件为e1合同归档。其中，＜合同接铺时间，合同开业时间，合同结束时间，装修期价格，运营期价格＞可以认为是与该原子事件相关的其它属性列表。在一些实施例中，该方法还包括：获取对复杂事件的初始规则的描述，根据初始规则的描述抽象出复杂事件对应的第二定义规则，将第二定义规则存储至复杂事件模式库中；对复杂事件模式库中的第二定义规则执行解析操作，得到与第二定义规则相对应的条件表达式、事件构造符及动作命令；基于事件构造符，将复杂事件以及与复杂事件对应的原子事件映射到有向图中的节点上。具体地，在获取用于抽象出第二定义规则的初始规则的描述时，可以根据领域内专家给出的对具有业务含义的若干偏差原因的描述，将这些描述作为抽象的对象，之后，按照预先配置的复杂事件的定义规则将各项偏差原因转译为对复杂事件的标准化定义，并基于抽象化得到的第二定义规则形成复杂事件模式库。在一些实施例中，该方法还包括：在根据至少一个原子事件对有向图中的节点依次进行遍历之前，基于条件表达式对至少一个原子事件进行筛选，以便过滤掉不符合条件表达式的格式要求的原子事件，并将符合条件表达式的格式要求的原子事件存储到原子事件实例库中。具体地，从业务系统中获取执行业务操作得到的业务流数据之后，根据原子事件的规则从业务流数据中提取出原子事件，并利用条件表达式对提取出来的原子事件进行过滤，以判断哪些是真实的原子事件实例。在实际应用中，条件表达式的内容可以与第一定义规则的内容相同，也可以与第一定义规则的内容不同，当两者之间相同时，则可以不对原子事件进行过滤，直接将利用第一定义规则从业务流数据中提取出来的原子事件作为后续处理的原子事件实例。在一些实施例中，第二定义规则包括以下格式的规则：E＝其中，E表示复杂事件，opt表示事件构造符，req表示事件属性的条件约束，attr表示事件属性集，c表示复杂事件的相关事件，do表示事件触发条件。具体地，复杂事件是由原子事件通过逻辑运算处理得到的具有一定业务含义的事件。下面结合具体应用场景下的实施例，对第二定义规则的内容进行说明，比如以下三个复杂事件：复杂事件一：E＝AND，该规则表示同时发生时事件E发生；复杂事件二：E＝NOT，该规则表示e1不发生，一般情况下，NOT可以与其它运算符组合使用，共同定义复杂事件；复杂事件三：E＝SEQ表示需要e1，e2...en按照顺序发生后，事件E才算发生。进一步地，req表示事件属性的条件约束，它针对不同事件类型对属性进行约束，过滤掉不符合条件的原子事件；attr{attr1，attr2...}表示事件属性集；c表示事件成员，即该复杂事件和哪些其他事件相关；do表示事件触发行为，可由业务自主定义，以接口形式调用指定动作；opt表示原子事件构造符，描述了原子事件构成复杂事件的逻辑关系；常用的逻辑关系包括但不限于：AND，OR，NOT，SEQ，REL，BET，DUR，TCS，PER，ANY，COU，SIM，TIM。在一些实施例中，逻辑运算规则包括原子事件的属性值的判断规则，以及多个原子事件之间的逻辑运算规则；根据节点对应的逻辑运算规则，确定由至少一个原子事件所形成的复杂事件，包括：根据判断规则对原子事件的属性值进行判断，当原子事件的属性值符合判断规则对应的要求时，基于原子事件生成复杂事件；或者，根据逻辑运算规则对多个原子事件之间的逻辑关系进行判断，当多个原子事件之间的逻辑关系符合逻辑运算规则的要求时，基于多个原子事件生成复杂事件。具体地，逻辑运算规则主要包含以下两类：第一类是对原子事件属性值的判断；第二类是对多个原子事件或复杂事件进行逻辑与、或、非、序列等关系的运算。下面结合一个具体实施例，对复杂事件的构建过程进行详细说明，具体可以包括以下内容：以主动调整业务为例，主动调整业务含义是指由于店铺经营不善、项目策略调整等原因，在预算上手合同解约时间之前，与原商户提前解约并与新商户签约。主动调整会导致新商户入驻装修期，短期内会导致短期的收入偏低，但由于签约价格会较原商户较高，在后续几个月会有正向的收入偏差。可以发现主动调整与解约和签约两个动作相关，当顺序发生提前解约和提前签约这两个事件时，即可视为主动调整事件发生。下面使用三个步骤对主动调整这一偏差原因的复杂事件进行定义。步骤一：定义原子事件e1解约、e2签约。e1解约＝、e2签约＝。步骤二：构建复杂事件E1提前解约、E2提前签约。E1提前解约＝；E2提前签约＝；步骤三：构建复杂事件E3主动调整。E3主动调整＝，E1.合同解约结束时间＜E2.合同签约时间，{资源编号，合同编号，主动调整时间，合同原计划结束时间，下手合同计划接铺时间}，{E1，E2}，主动调整事件标记)。需要说明的是，根据上述定义复杂事件的方式可以发现，复杂事件是由原子事件加工而来的，因此复杂事件能够表示单一动作或者多个复杂动作共同作用的结果；并且由于复杂事件具备特定的业务含义，因此复杂事件的描述更加近似于业务语言。因此，使用复杂事件来描述业务的偏差原因将会更加精准。根据本公开实施例提供的技术方案，本公开实施例具有以下优点：1)采用复杂事件描述规则标准化偏差原因的定义方法。根据原子事件瞬时性和原子性特征，将瞬时的业务动作抽象为原子事件；通过原子事件间的逻辑构建抽象出复杂事件，用以描述具备业务意义的偏差原因。2)采用复杂事件检测框架，自动化识别资源月度偏差原因，避免人工识别的误差。将签约、解约等线上化动作以原子事件流的形式输入到复杂事件检测器中，系统可以自动化识别并输出具备业务价值的复杂事件，用以解释产生偏差的原因。3)作为应用拓展，系统支持监测到偏差后及时向业务系统发送指令，指导业务动作。下述为本公开装置实施例，可以用于执行本公开方法实施例。对于本公开装置实施例中未披露的细节，请参照本公开方法实施例。图3是本公开实施例提供的基于业务的偏差原因识别装置的结构示意图。如图3所示，该基于业务的偏差原因识别装置包括：获取模块301，被配置为获取由一个或多个业务产生的业务流数据，并根据预定的原子事件所对应的第一定义规则，对业务流数据进行处理得到至少一个原子事件；遍历模块302，被配置为根据至少一个原子事件对有向图中的节点依次进行遍历，以确定有向图中是否存在与至少一个原子事件对应的节点，其中，有向图为根据预定的复杂事件所对应的第二定义规则生成的图数据结构；运算模块303，被配置为当有向图中存在节点时，根据节点对应的逻辑运算规则，确定由至少一个原子事件所形成的复杂事件，其中，逻辑运算规则用于将至少一个原子事件处理成复杂事件；确定模块304，被配置为将复杂事件作为执行业务过程中产生偏差的原因，其中，第二定义规则为基于第一定义规则所生成的规则。在一些实施例中，图3的获取模块301获取业务系统在执行业务过程中产生的业务流数据，其中，当业务的数量为多个时，业务流数据中包含按照业务执行的先后顺序排列的业务数据序列。在一些实施例中，图3的获取模块301根据第一定义规则中的事件属性，从业务流数据中提取出与事件属性相对应的属性数据，基于属性数据生成符合第一定义规则要求的原子事件。在一些实施例中，第一定义规则包括以下格式的规则：e其中，e表示原子事件，tid表示对象标识，sta表示事件类型标识，t表示原子事件发生的时间戳，attr表示原子事件的其它属性列表。在一些实施例中，图3的获取模块301获取对复杂事件的初始规则的描述，根据初始规则的描述抽象出复杂事件对应的第二定义规则，将第二定义规则存储至复杂事件模式库中；对复杂事件模式库中的第二定义规则执行解析操作，得到与第二定义规则相对应的条件表达式、事件构造符及动作命令；基于事件构造符，将复杂事件以及与复杂事件对应的原子事件映射到有向图中的节点上。在一些实施例中，图3的获取模块301在根据至少一个原子事件对有向图中的节点依次进行遍历之前，基于条件表达式对至少一个原子事件进行筛选，以便过滤掉不符合条件表达式的格式要求的原子事件，并将符合条件表达式的格式要求的原子事件存储到原子事件实例库中。在一些实施例中，第二定义规则包括以下格式的规则：E＝其中，E表示复杂事件，opt表示事件构造符，req表示事件属性的条件约束，attr表示事件属性集，c表示复杂事件的相关事件，do表示事件触发条件。在一些实施例中，逻辑运算规则包括原子事件的属性值的判断规则，以及多个原子事件之间的逻辑运算规则；图3的运算模块303根据判断规则对原子事件的属性值进行判断，当原子事件的属性值符合判断规则对应的要求时，基于原子事件生成复杂事件；或者，根据逻辑运算规则对多个原子事件之间的逻辑关系进行判断，当多个原子事件之间的逻辑关系符合逻辑运算规则的要求时，基于多个原子事件生成复杂事件。应理解，上述实施例中各步骤的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本公开实施例的实施过程构成任何限定。图4是本公开实施例提供的电子设备4的结构示意图。如图4所示，该实施例的电子设备4包括：处理器401、存储器402以及存储在该存储器402中并且可以在处理器401上运行的计算机程序403。处理器401执行计算机程序403时实现上述各个方法实施例中的步骤。或者，处理器401执行计算机程序403时实现上述各装置实施例中各模块/单元的功能。示例性地，计算机程序403可以被分割成一个或多个模块/单元，一个或多个模块/单元被存储在存储器402中，并由处理器401执行，以完成本公开。一个或多个模块/单元可以是能够完成特定功能的一系列计算机程序指令段，该指令段用于描述计算机程序403在电子设备4中的执行过程。电子设备4可以是桌上型计算机、笔记本、掌上电脑及云端服务器等电子设备。电子设备4可以包括但不仅限于处理器401和存储器402。本领域技术人员可以理解，图4仅仅是电子设备4的示例，并不构成对电子设备4的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如，电子设备还可以包括输入输出设备、网络接入设备、总线等。处理器401可以是中央处理单元，也可以是其它通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其它可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。存储器402可以是电子设备4的内部存储单元，例如，电子设备4的硬盘或内存。存储器402也可以是电子设备4的外部存储设备，例如，电子设备4上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，存储器402还可以既包括电子设备4的内部存储单元也包括外部存储设备。存储器402用于存储计算机程序以及电子设备所需的其它程序和数据。存储器402还可以用于暂时地存储已经输出或者将要输出的数据。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将装置的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。实施例中的各功能单元、模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中，上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。另外，各功能单元、模块的具体名称也只是为了便于相互区分，并不用于限制本申请的保护范围。上述系统中单元、模块的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述或记载的部分，可以参见其它实施例的相关描述。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本公开的范围。在本公开所提供的实施例中，应该理解到，所揭露的装置/计算机设备和方法，可以通过其它的方式实现。例如，以上所描述的装置/计算机设备实施例仅仅是示意性的，例如，模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通讯连接可以是通过一些接口，装置或单元的间接耦合或通讯连接，可以是电性，机械或其它的形式。作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本公开各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读存储介质中。基于这样的理解，本公开实现上述实施例方法中的全部或部分流程，也可以通过计算机程序来指令相关的硬件来完成，计算机程序可以存储在计算机可读存储介质中，该计算机程序在被处理器执行时，可以实现上述各个方法实施例的步骤。计算机程序可以包括计算机程序代码，计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。计算机可读介质可以包括：能够携带计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，计算机可读介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如，在某些司法管辖区，根据立法和专利实践，计算机可读介质不包括电载波信号和电信信号。以上实施例仅用以说明本公开的技术方案，而非对其限制；尽管参照前述实施例对本公开进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本公开各实施例技术方案的精神和范围，均应包含在本公开的保护范围之内。
