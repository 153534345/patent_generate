标题title
金融终端机芯日志传输方法、装置、电子设备和介质
摘要abst
本发明实施例提供了一种金融终端机芯日志传输方法、装置、电子设备和可读存储介质，所述方法包括：在金融终端机芯处理介质的工作过程中，获取所述金融终端机芯待处理介质的数量信息，以及预设数据存储空间的容量信息；根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度；控制所述金融终端机芯按照所述目标介质处理速度处理介质；针对处理后的介质生成日志数据并存储于所述预设数据存储空间，以及将所述预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。根据本发明实施例，保证处理介质的速度不会影响金融业务处理体验的情况下，也不会造成机芯中存储的日志数据的丢失。
权利要求书clms
1.一种金融终端机芯日志传输方法，其特征在于，所述方法包括：在金融终端机芯处理介质的工作过程中，获取所述金融终端机芯待处理介质的数量信息，以及预设数据存储空间的容量信息；根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度；所述目标介质处理速度能够使得，所述金融终端机芯若按照所述目标介质处理速度处理介质，日志数据不会从所述预设数据存储空间溢出；控制所述金融终端机芯按照所述目标介质处理速度处理介质；针对处理后的介质生成日志数据并存储于所述预设数据存储空间，以及将所述预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。2.根据权利要求1所述的方法，其特征在于，所述根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度，包括：获取第一制约关系；所述第一制约关系为所述金融终端机芯预先建立的介质处理速度信息和日志上传速度信息之间的针对日志传输速度的约束关系；根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定第二制约关系；基于所述第一制约关系和所述第二制约关系计算得到处理介质的速度取值范围；在所述速度取值范围内，确定所述金融终端机芯所需的所述目标介质处理速度。3.根据权利要求2所述的方法，其特征在于，所述根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定第二制约关系，包括：确定所述金融终端机芯处理所述数量信息对应数量的介质所需耗费的时长信息；获取所述金融终端机芯处理单位数量介质后所产生的日志数据所需占用所述预设数据存储空间的单位容量信息；建立所述容量信息，所述时长信息，所述单位容量信息，所述介质处理速度信息和所述日志上传速度信息之间的针对存储空间容量的所述第二制约关系。4.根据权利要求2所述的方法，其特征在于，所述在所述速度取值范围内，确定所述金融终端机芯所需的所述目标介质处理速度，包括：获取处理介质的最大限制速度和最小限制速度；将所述最大限制速度，所述最小限制速度和所述速度取值范围作比较，得到所述金融终端机芯所需的所述目标介质处理速度。5.根据权利要求2所述的方法，其特征在于，所述获取第一制约关系，包括：确定所述金融终端机芯的类型；获取与所述类型匹配的目标第一制约关系。6.根据权利要求4所述的方法，其特征在于，所述速度取值范围包括最大取值，所述将所述最大限制速度，所述最小限制速度和所述速度取值范围作比较，得到所述金融终端机芯所需的所述目标介质处理速度，包括：若所述最大取值不小于所述最小限制速度且不大于所述最大限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度；若所述最大取值大于所述最大限制速度，则将所述最大限制速度作为所述金融终端机芯所需的所述目标介质处理速度；若所述最大取值小于所述最小限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度。7.根据权利要求1所述的方法，其特征在于，所述容量信息包括剩余容量信息，所述根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度，包括：确定所述金融终端机芯处理所述数量信息对应数量的介质后所产生的日志数据所需占用所述预设数据存储空间的占用容量信息；若所述占用容量信息大于所述剩余容量信息，则确定所述金融终端机芯所需的最大介质处理速度；所述最大介质处理速度能够使得，所述金融设备机芯若按照所述最大介质处理速度处理介质所产生的日志数据，会将所述预设数据存储空间填满；若所述占用容量信息不大于所述剩余容量信息，则将所述预设日志上传速度作为所述金融终端机芯所需的最小介质处理速度。8.一种金融终端机芯日志传输装置，其特征在于，所述装置包括：获取模块，用于在金融终端机芯处理介质的工作过程中，获取所述金融终端机芯待处理介质的数量信息，以及预设数据存储空间的容量信息；确定模块，用于根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度；所述目标介质处理速度能够使得，所述金融终端机芯若按照所述目标介质处理速度处理介质，日志数据不会从所述预设数据存储空间溢出；控制模块，用于控制所述金融终端机芯按照所述目标介质处理速度处理介质；日志传输模块，用于针对处理后的介质生成日志数据并存储于所述预设数据存储空间，以及将所述预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。9.一种电子设备，其特征在于，包括：处理器、存储器及存储在所述存储器上并能够在所述处理器上运行的计算机程序，所述计算机程序被所述处理器执行时实现如权利要求1-7中任一项所述的一种金融终端机芯日志传输方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储计算机程序，所述计算机程序被处理器执行时实现如权利要求1-7中任一项所述的一种金融终端机芯日志传输方法的步骤。
说明书desc
技术领域本发明涉及金融设备技术领域，特别是涉及一种金融终端机芯日志传输方法、一种金融终端机芯日志传输装置、一种电子设备和一种计算机可读存储介质。背景技术机芯是金融设备中的重要模块，机芯可以完成对介质，如纸币、票据等的存入、取出功能，为满足用户对于介质跟踪、查错等方面的业务需要，机芯固件在处理介质的过程中会记录日志。机芯在存取介质过程中会处理大量的介质，固件也会在此过程中记录大量的日志信息。现有机芯在上传日志时，是在处理完介质后再将相关的日志信息进行上传的，但是机芯的数据存储空间有限，如果不及时将日志上传，当处理介质过多，存储空间不足时，旧日志被新日志覆盖，从而造成介质的日志数据丢失，对金融业务处理造成严重影响。此外，若在处理介质的过程中发现存储空间不足时，停止处理介质，进行日志数据的上传，则会延长金融终端处理介质的时间，降低金融终端的业务处理效率，影响用户体验。发明内容鉴于上述问题，提出了本发明实施例以便提供一种克服上述问题或者至少部分地解决上述问题的一种金融终端机芯日志传输方法和相应的一种金融终端机芯日志传输装置、一种电子设备、以及一种计算机可读存储介质。本发明实施例公开了一种金融终端机芯日志传输方法，所述方法包括：在金融终端机芯处理介质的工作过程中，获取所述金融终端机芯待处理介质的数量信息，以及预设数据存储空间的容量信息；根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度；所述目标介质处理速度能够使得，所述金融终端机芯若按照所述目标介质处理速度处理介质，日志数据不会从所述预设数据存储空间溢出；控制所述金融终端机芯按照所述目标介质处理速度处理介质；针对处理后的介质生成日志数据并存储于所述预设数据存储空间，以及将所述预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。可选地，所述根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度，包括：获取第一制约关系；所述第一制约关系为所述金融终端机芯预先建立的介质处理速度信息和日志上传速度信息之间的针对日志传输速度的约束关系；根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定第二制约关系；基于所述第一制约关系和所述第二制约关系计算得到处理介质的速度取值范围；在所述速度取值范围内，确定所述金融终端机芯所需的所述目标介质处理速度。可选地，所述根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定第二制约关系，包括：确定所述金融终端机芯处理所述数量信息对应数量的介质所需耗费的时长信息；获取所述金融终端机芯处理单位数量介质后所产生的日志数据所需占用所述预设数据存储空间的单位容量信息；建立所述容量信息，所述时长信息，所述单位容量信息，所述介质处理速度信息和所述日志上传速度信息之间的针对存储空间容量的所述第二制约关系。可选地，所述在所述速度取值范围内，确定所述金融终端机芯所需的所述目标介质处理速度，包括：获取处理介质的最大限制速度和最小限制速度；将所述最大限制速度，所述最小限制速度和所述速度取值范围作比较，得到所述金融终端机芯所需的所述目标介质处理速度。可选地，所述获取第一制约关系，包括：确定所述金融终端机芯的类型；获取与所述类型匹配的目标第一制约关系。可选地，所述速度取值范围包括最大取值，所述将所述最大限制速度，所述最小限制速度和所述速度取值范围作比较，得到所述金融终端机芯所需的所述目标介质处理速度，包括：若所述最大取值不小于所述最小限制速度且不大于所述最大限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度；若所述最大取值大于所述最大限制速度，则将所述最大限制速度作为所述金融终端机芯所需的所述目标介质处理速度；若所述最大取值小于所述最小限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度。可选地，所述容量信息包括剩余容量信息，所述根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度，包括：确定所述金融终端机芯处理所述数量信息对应数量的介质后所产生的日志数据所需占用所述预设数据存储空间的占用容量信息；若所述占用容量信息大于所述剩余容量信息，则确定所述金融终端机芯所需的最大介质处理速度；所述最大介质处理速度能够使得，所述金融设备机芯若按照所述最大介质处理速度处理介质所产生的日志数据，会将所述预设数据存储空间填满；若所述占用容量信息不大于所述剩余容量信息，则将所述预设日志上传速度作为所述金融终端机芯所需的最小介质处理速度。本发明实施例还公开了一种金融终端机芯日志传输装置，所述装置包括：获取模块，用于在金融终端机芯处理介质的工作过程中，获取所述金融终端机芯待处理介质的数量信息，以及预设数据存储空间的容量信息；确定模块，用于根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度；所述目标介质处理速度能够使得，所述金融终端机芯若按照所述目标介质处理速度处理介质，日志数据不会从所述预设数据存储空间溢出；控制模块，用于控制所述金融终端机芯按照所述目标介质处理速度处理介质；日志传输模块，用于针对处理后的介质生成日志数据并存储于所述预设数据存储空间，以及将所述预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。可选地，所述确定模块，包括：获取子模块，用于获取第一制约关系；所述第一制约关系为所述金融终端机芯预先建立的介质处理速度信息和日志上传速度信息之间的针对日志传输速度的约束关系；第一确定子模块，用于根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定第二制约关系；计算子模块，用于基于所述第一制约关系和所述第二制约关系计算得到处理介质的速度取值范围；第二确定子模块，用于在所述速度取值范围内，确定所述金融终端机芯所需的所述目标介质处理速度。可选地，所述第一确定子模块，包括：第一确定单元，用于确定所述金融终端机芯处理所述数量信息对应数量的介质所需耗费的时长信息；第一获取单元，用于获取所述金融终端机芯处理单位数量介质后所产生的日志数据所需占用所述预设数据存储空间的单位容量信息；建立单元，用于建立所述容量信息，所述时长信息，所述单位容量信息，所述介质处理速度信息和所述日志上传速度信息之间的针对存储空间容量的所述第二制约关系。可选地，所述第二确定子模块，包括：第二获取单元，用于获取处理介质的最大限制速度和最小限制速度；比较单元，用于将所述最大限制速度，所述最小限制速度和所述速度取值范围作比较，得到所述金融终端机芯所需的所述目标介质处理速度。可选地，所述获取子模块，包括：第二确定单元，用于确定所述金融终端机芯的类型；第三获取单元，用于获取与所述类型匹配的目标第一制约关系。可选地，所述速度取值范围包括最大取值，所述比较单元，包括：第一确定子单元，用于若所述最大取值不小于所述最小限制速度且不大于所述最大限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度；第二确定子单元，用于若所述最大取值大于所述最大限制速度，则将所述最大限制速度作为所述金融终端机芯所需的所述目标介质处理速度；第三确定子单元，用于若所述最大取值小于所述最小限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度。可选地，所述容量信息包括剩余容量信息，所述确定模块，包括：第三确定子模块，用于确定所述金融终端机芯处理所述数量信息对应数量的介质后所产生的日志数据所需占用所述预设数据存储空间的占用容量信息；第四确定子模块，用于若所述占用容量信息大于所述剩余容量信息，则确定所述金融终端机芯所需的最大介质处理速度；所述最大介质处理速度能够使得，所述金融设备机芯若按照所述最大介质处理速度处理介质所产生的日志数据，会将所述预设数据存储空间填满。第五确定子模块，用于若所述占用容量信息不大于所述剩余容量信息，则将所述预设日志上传速度作为所述金融终端机芯所需的最小介质处理速度。本发明实施例还公开了一种电子设备，包括：处理器、存储器及存储在所述存储器上并能够在所述处理器上运行的计算机程序，所述计算机程序被所述处理器执行时实现如上所述的一种金融终端机芯日志传输方法的步骤。本发明实施例还公开了一种计算机可读存储介质，所述计算机可读存储介质上存储计算机程序，所述计算机程序被处理器执行时实现如上所述的一种金融终端机芯日志传输方法的步骤。本发明实施例包括以下优点：在本发明实施例中，在金融终端机芯处理介质的工作过程中，通过获取待处理介质的数量信息和预设数据存储空间的容量信息确定处理介质的目标速度，从而达到在该目标介质处理速度下，金融终端机芯按照预设日志上传速度上传日志时，日志数据不会从机芯的预设数据存储空间中溢出。通过采用上述方法，确定金融终端机芯的目标介质处理速度，使得金融终端机芯在处理介质的工作过程中，按照该目标介质处理速度处理介质，且按照预设日志上传速度上传日志时，保证处理介质的速度不会影响金融业务处理体验的情况下，也不会造成机芯中存储的日志数据的丢失。附图说明图1是本发明实施例的一种金融终端机芯日志传输方法的步骤流程图；图2是本发明实施例的另一种金融终端机芯日志传输方法的步骤流程图；图3是本发明实施例的一种金融终端机芯日志传输装置的结构框图。具体实施方式为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图和具体实施方式对本发明作进一步详细的说明，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员所获得的所有其他实施例，都属于本发明保护的范围。在处理存取介质，如纸币、票据等业务的过程中，由于金融设备机芯的存储空间有限，如果不及时将日志取走，处理介质新生成的日志数据会将早期的日志数据覆盖掉，导致日志数据的丢失，会对金融业务造成严重的影响。进一步地，若在处理介质的过程中发现存储空间不足时，停止处理介质，进行日志数据的上传，则会延长金融终端处理介质的时间，降低金融终端的业务处理效率，从而影响用户体验。此外，如果在用户需要查看交易日志时再将相关的日志数据导出，由于日志量大，从机芯传输的传输时间会比较长，造成用户体验下降。本发明实施例的核心构思之一在于，在金融终端机芯处理介质的工作过程中，通过获取待处理介质的数量信息和预设数据存储空间的容量信息确定处理介质的目标速度，从而达到在该目标介质处理速度下，金融终端机芯按照预设日志上传速度上传日志时，日志数据不会从机芯的预设数据存储空间中溢出。通过采用上述方法，确定金融终端机芯的目标介质处理速度，使得金融终端机芯在处理介质的工作过程中，按照该目标介质处理速度处理介质，且按照预设日志上传速度上传日志时，保证处理介质的速度不会影响金融业务处理体验的情况下，也不会造成机芯中存储的日志数据的丢失。参照图1，示出了本发明实施例的一种金融终端机芯日志传输方法的步骤流程图，具体可以包括如下步骤：步骤101，在金融终端机芯处理介质的工作过程中，获取所述金融终端机芯待处理介质的数量信息，以及预设数据存储空间的容量信息；在本发明实施例中，金融终端可以是银行自助终端设备等金融自助终端设备，银行自助终端机的功能主要包括：现金取款、现金存款、现金存取款、余额查询、本行或异行转账、修改密码等基本功能。此外，部分自助终端机还提供诸如存折打印、对账单打印、支票存款、信封存款、缴费、充值等一系列便捷服务。机芯是金融终端中的其中一个模块，机芯可以完成对介质，如纸币、票据等的存入、取出功能，并在存取介质的业务处理过程中记录相关日志，以及将记录的日志上传到预设服务器，满足用户对交易业务进行后续跟踪或者查错等需求，当用户需要调用日志数据时，可以直接从预设服务器中调用，即金融终端机芯处理介质的工作过程包括对介质进行处理，针对处理后的介质生成日志数据并存储于预设数据存储空间，以及将预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。在本发明实施例中，金融终端机芯在介质处理的过程中就能够把处理介质得到的介质日志数据上传到预设服务器中，大大缓解了机芯存储空间的压力。其中，预设数据存储空间的日志数据包括处理介质生成的日志数据和其他业务生成的日志数据，其他业务根据金融终端类型的不同对应业务类型不同，其他业务包括为用户提供缴费、查询、密码修改等服务。在金融终端机芯处理介质的工作过程中，获取待处理介质的数量信息，以及预设数据存储空间的容量信息。对于获取待处理介质的数量信息，以纸币作为待处理的介质为例，在一种示例中，可以是通过用户在金融终端中输入的业务参数信息中获取，例如，用户输入的取款金额、存款金额、现金转账金额等，利用获取的金额数据，除以常用面额，可以得到所需处理的现金钞票张数。在另一种示例中，如果业务处理过程中，用户无须输入处理钞票的金额数，则可以将本机设置的一次业务处理最大现金量，或者本次业务的最大资源数作为待处理钞票的数量，此外，还可以是金融终端机芯处理一次业务的最大点钞量等。对于获取的预设数据存储空间的容量信息，即获取当前机芯的预设数据存储空间的空间大小信息。其中，空间大小信息包括初始空间大小和剩余空间大小。步骤102，根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度；在本发明实施例中，目标介质处理速度是指能够使得，金融终端机芯若按照目标介质处理速度处理介质，日志数据不会从预设数据存储空间溢出的介质处理速度。目标介质处理速度由介质数量和预设数据存储空间的容量确定。在一种示例中，可以通过介质数量估算其生成的日志数据所需占用的预设数据存储空间的容量大小，若所需占用的预设数据存储空间的容量大于当前预设数据存储空间的剩余容量，则目标介质处理速度小于预设日志上传速度，且目标介质处理速度与预设日志上传速度之间的差值根据容量差值确定。在另一种示例中，若所需占用的预设数据存储空间的容量不大于当前预设数据存储空间的剩余容量，则目标介质处理速度可以采用尽可能大的介质处理速度。在本发明实施例中，目标介质处理速度是动态变化的，根据每次业务需要处理的介质数量和空间容量的不同而不同。步骤103，控制所述金融终端机芯按照所述目标介质处理速度处理介质。在确定目标介质处理速度后，即可以控制金融终端机芯按照该速度处理介质，以使日志数据不会从预设数据存储空间溢出。具体的，可以通过CPU的中断方式实现，中断方式是指CPU暂时中止现行程序的执行，转去执行为某个随机事态服务的中断处理程序，处理完毕后自动恢复原程序的执行。在本发明实施例中，金融终端机芯可以一边处理验钞器送来的钞票，一边将机芯数据存储空间的日志数据上传到预设服务器。步骤104，针对处理后的介质生成日志数据并存储于所述预设数据存储空间，以及将所述预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。在本发明实施例中，在控制金融终端机芯按照目标介质处理速度处理介质时，对于处理介质后生成并存储于机芯的预设数据存储空间的日志数据，可以按照预设日志上传速度进行上传，当用户需要对日志数据进行查询时，可以直接从预设服务器中获取，方便快捷。其中，日志上传速度可以预先进行设置，在一种实施例中，日志上传速度是根据机芯的性能进行设定的，对于预设日志上传速度可以基于用户需求或者实际经验进行设置，对此，本发明实施例不加以具体限制。综上，在本发明实施例中，在金融终端机芯处理介质的工作过程中，通过获取待处理介质的数量信息和预设数据存储空间的容量信息确定处理介质的目标速度，从而达到在该目标介质处理速度下，金融终端机芯按照预设日志上传速度上传日志时，日志数据不会从机芯的预设数据存储空间中溢出。通过采用上述方法，确定金融终端机芯的目标介质处理速度，使得金融终端机芯在处理介质的工作过程中，按照该目标介质处理速度处理介质，且按照预设日志上传速度上传日志时，保证处理介质的速度不会影响金融业务处理体验的情况下，也不会造成机芯中存储的日志数据的丢失。为了使本领域的技术人员能够更好地理解本发明的机芯日志传输方法，下面以钞票作为待处理的介质，对本发明的金融终端机芯的日志传输方法进行详细说明，需要说明的是，钞票只是机芯处理的其中一种介质，下面提及的针对钞票的处理方法也可以用于对其他介质的处理，对此，本发明实施例不加以具体限制。参照图2，示出了本发明实施例的另一种金融终端机芯日志传输方法的步骤流程图，具体可以包括如下步骤：步骤201，在金融终端机芯处理介质的工作过程中，获取所述金融终端机芯待处理介质的数量信息，以及预设数据存储空间的容量信息。金融终端机芯处理介质的工作过程包括对介质进行处理，针对处理后的介质生成日志数据并存储于预设数据存储空间，以及将预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。在本发明实施例中，获取机芯需要处理的钞票数量，以及机芯主控数据存储空间的容量。步骤202，获取第一制约关系。其中，第一制约关系为金融终端机芯预先建立的介质处理速度信息和日志上传速度信息之间的针对日志传输速度的约束关系。在本发明实施例中，在介质处理速度和日志上传速度之间建立约束关系，具体的，该约束关系是函数关系式。以处理钞票为例，不妨假设，机芯处理钞票的速度V和机芯上传日志的速度U之间的约束关系为：f＝C，其中C为常数。针对步骤202，可以执行以下步骤：子步骤S11，确定所述金融终端机芯的类型。子步骤S12，获取与所述类型匹配的目标第一制约关系。介质处理速度和日志上传速度之间的第一制约关系根据金融终端机芯类型的不同而不同，即针对它们之间的制约关系可以进行多种建模，但是两者互相制约的趋势则是对所有机芯适用的。当进行钞票处理时，验钞器验钞获取的钞票首先要传输给机芯主控，在主控存储空间形成日志，机芯主控再把日志信息上传给服务器。考虑到他们之间数据传输速率的模式不一样，但是总的传输镀铝之间有一定的制约关系，经过试验测量，可以认为构成以下约束关系：机芯处理钞票的速度V和机芯上传日志的速度U之间的约束关系为：Ub+d*Va＝C；为简化计算，可以考虑以下情况：U+d*V＝C。需要说明的是，上述第一制约关系只是其中一种机芯类型对应的第一制约关系，不同的机芯类型可以根据试验或者测试数据建立其他的介质处理速度和日志上传速度之间的制约关系，对此，本发明实施例不加以具体限制。步骤203，根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定第二制约关系。在本发明实施例中，为计算得到目标介质处理速度，还需要建立第二制约关系，第二制约关系是介质处理速度信息和日志上传速度信息之间的针对存储空间容量的约束关系，具体的，表现为函数关系式。对于第二制约关系的建立过程，针对步骤203，具体的可以执行以下步骤：子步骤S21，确定所述金融终端机芯处理所述数量信息对应数量的介质所需耗费的时长信息。子步骤S22，获取所述金融终端机芯处理单位数量介质后所产生的日志数据所需占用所述预设数据存储空间的单位容量信息。子步骤S23，建立所述容量信息，所述时长信息，所述单位容量信息，所述介质处理速度信息和所述日志上传速度信息之间的针对存储空间容量的所述第二制约关系。在本发明实施例中，获取到机芯需要处理的介质数量后，可以根据介质数量计算处理时长。例如，可以获取机芯处理一张钞票所需的时长，用t表示，若钞票数量为N，则处理该数量的钞票所需耗费的时长T＝t*N。此外，还需要获取该金融终端机芯处理单位数量介质后，生成的日志数据所需占用的机芯预设数据存储空间的容量，也就是单位容量。需要说明的是，单位容量也是基于机芯性能的不同而不同的。基于预设数据存储空间的总容量，处理介质所需耗费的处理时长，单位容量，介质处理速度和日志上传速度建立第二制约关系。在一种示例中，不妨将机芯的预设数据存储空间的容量表示为M，处理一张钞票所需占用的单位容量表示为m，一次钞票业务的处理时长为T,机芯处理钞票的速度为V，机芯上传日志的速度为U，则对应的第二制约关系为U*T+M＞＝m*V*T。步骤204，基于所述第一制约关系和所述第二制约关系计算得到处理介质的速度取值范围。通过对第一制约关系和第二制约关系两个函数式进行计算，可以求得处理介质的速度取值范围。在一种示例中，若第一制约关系为U+d*V＝C；第二制约关系为U*T+M＞＝m*V*T，以V，U为自变量，其他为常数，联立两个式子，得到V＜＝/，即得到钞票处理速度的取值范围。步骤205，在所述速度取值范围内，确定所述金融终端机芯所需的所述目标介质处理速度。目标介质处理速度能够使得，金融终端机芯若按照目标介质处理速度处理介质，日志数据不会从预设数据存储空间溢出。在本发明实施例中，可以从介质处理的速度取值范围中挑选其中一个速度值作为目标介质处理速度。在一种示例中，可以将最大速度取值作为目标介质处理速度；在另一种示例中，可以将最大速度取值的80％作为目标介质处理速度，对于如何从该取值范围中确定目标介质处理速度，用户可以根据实际情况进行设置，对此，本发明实施例不加以具体限制。针对步骤205，可以执行以下步骤：子步骤S31，获取处理介质的最大限制速度和最小限制速度。子步骤S32，将所述最大限制速度，所述最小限制速度和所述速度取值范围作比较，得到所述金融终端机芯所需的所述目标介质处理速度。在本发明实施例中，由于机芯处理介质的速度具有相关限制，需要获取处理介质的限制速度，即最大限制速度和最小限制速度，例如验钞器的电子机械特性限制了处理钞票的速度极限，此外，国家标准要求钞票处理速度不得少于8张/秒。在一种示例中，机芯处理钞票的最大限制速度可以表示为Vmax，机芯处理钞票的最小限制速度可以表示为Vmin，则有Vmin＜＝V＜＝Vmax，其中，机芯处理钞票的速度为V。将最大限制速度，最小限制速度和速度取值范围进行比较，进一步确定目标介质处理速度，具体的，速度取值范围包括最大取值，针对子步骤S32，可以执行以下步骤：若所述最大取值不小于所述最小限制速度且不大于所述最大限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度。若所述最大取值大于所述最大限制速度，则将所述最大限制速度作为所述金融终端机芯所需的所述目标介质处理速度。若所述最大取值小于所述最小限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度。在一种示例中，若钞票处理速度的取值范围为V＜＝/，且钞票处理速度的限制关系有：Vmin＜＝V＜＝Vmax，通过联立上述两个式子，可以计算求出机芯处理钞票的最大速度Vm，具体的分成以下几种情况进行说明：1)当Vmin＜＝/＜＝Vmax时则机芯处理钞票的最大速度Vm＝/；2)当Vmax＜/时则机芯处理钞票的最大速度Vm＝Vmax；3)当/＜Vmin时则机芯处理钞票的最大速度Vm＝/，此时，机芯处理钞票的速度低于相关标准，以低验钞速度，来换取高速日志上传。步骤206，控制所述金融终端机芯按照所述目标介质处理速度处理介质。在本发明实施例中，控制金融终端机芯按照目标介质处理速度处理介质。金融终端机芯处理介质的工作过程是利用中断方式实现的，利用机芯处理器的空闲时间，将处理得到的介质日志数据传输给服务器，节省数据传输时间，减短介质处理时长。在一种示例中，机芯在处理钞票时，一般不会占用到CPU的所有时间，如果处理一张钞票的时间为50ms，在12张/秒的情况下，1秒中会有400ms的空闲时间，从该空闲时间中选取部分时间用于实时向预设服务器传输日志，预设服务器就可以实时获取到机芯中的日志数据，避免机芯的数据存储空间存储满。此外，容量信息包括剩余容量信息，除了上述提及的确定目标介质处理速度的方法，还可以采用以下方法确定金融终端机芯所需的目标介质处理速度：确定所述金融终端机芯处理所述数量信息对应数量的介质后所产生的日志数据所需占用所述预设数据存储空间的占用容量信息；若所述占用容量信息大于所述剩余容量信息，则确定所述金融终端机芯所需的最大介质处理速度；所述最大介质处理速度能够使得，所述金融设备机芯若按照所述最大介质处理速度处理介质所产生的日志数据，会将所述预设数据存储空间填满；若所述占用容量信息不大于所述剩余容量信息，则将所述预设日志上传速度作为所述金融终端机芯所需的最小介质处理速度。在本发明实施例中，可以在获取到待处理的介质数量后，计算该数量的介质生成的日志数据能够占用的机芯数据存储空间的空间容量。以钞票为例，在一种示例中可以先获取单张钞票能够占用的单位容量，再将单位容量和钞票数量相乘后得到所有待处理钞票所需占用的空间容量。在占用容量大于机芯当前剩余容量的情况下，为了不使日志数据溢出，钞票处理速度的上限是恰好用完机芯的数据存储空间，此时生成的日志数据将存储空间填满但是不至于溢出。在占用容量不大于机芯当前剩余容量的情况下，此时无论如何设定钞票处理速度，日志数据均不会从机芯数据存储空间溢出，为了提高业务处理效率，可以设定钞票处理速度的下限为预设日志上传速度。此外，为了使日志数据不会从机芯的数据存储空间溢出，上述提供的方法是在金融终端机芯处理介质的工作过程中协调日志上传速度和介质处理速度的关系，此外，进一步地，若仅仅协调速度关系仍然不能实现该目的，则可以进一步地，在处理介质和上传日志两个任务上进行时间上的合理分配。步骤207，针对处理后的介质生成日志数据并存储于所述预设数据存储空间，以及将所述预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。在控制金融终端机芯按照目标介质处理速度处理介质时，对于处理介质后生成并存储于机芯的预设数据存储空间的日志数据，可以按照预设日志上传速度进行上传，当用户需要对日志数据进行查询时，可以直接从预设服务器中获取，方便快捷。综上，在本发明实施例中，在金融终端机芯处理介质的工作过程中，通过获取待处理介质的数量信息和预设数据存储空间的容量信息确定处理介质的目标速度，从而达到在该目标介质处理速度下，金融终端机芯按照预设日志上传速度上传日志时，日志数据不会从机芯的预设数据存储空间中溢出。通过采用上述方法，确定金融终端机芯的目标介质处理速度，使得金融终端机芯在处理介质的工作过程中，按照该目标介质处理速度处理介质，且按照预设日志上传速度上传日志时，保证处理介质的速度不会影响金融业务处理体验的情况下，也不会造成机芯中存储的日志数据的丢失。此外，本发明实施例还提供了计算处理介质的速度最大允许值的方法，从而可以达到在使用最快介质处理速度处理介质的同时，又不会丢失机芯处理介质获取的日志数据。进一步地，中断方式实现了有效利用机芯处理器的空闲时间，将处理得到的介质日志数据传输给服务器，节省数据传输时间，减短介质处理时长。需要说明的是，对于方法实施例，为了简单描述，故将其都表述为一系列的动作组合，但是本领域技术人员应该知悉，本发明实施例并不受所描述的动作顺序的限制，因为依据本发明实施例，某些步骤可以采用其他顺序或者同时进行。其次，本领域技术人员也应该知悉，说明书中所描述的实施例均属于优选实施例，所涉及的动作并不一定是本发明实施例所必须的。参照图3，示出了本发明实施例的一种金融终端机芯日志传输装置的结构框图，具体可以包括如下模块：获取模块301，用于在金融终端机芯处理介质的工作过程中，获取所述金融终端机芯待处理介质的数量信息，以及预设数据存储空间的容量信息；确定模块302，用于根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定所述金融终端机芯所需的目标介质处理速度；所述目标介质处理速度能够使得，所述金融终端机芯若按照所述目标介质处理速度处理介质，日志数据不会从所述预设数据存储空间溢出；控制模块303，用于控制所述金融终端机芯按照所述目标介质处理速度处理介质；日志传输模块304，用于针对处理后的介质生成日志数据并存储于所述预设数据存储空间，以及将所述预设数据存储空间的日志数据按照预设日志上传速度上传至预设服务器。在本发明实施例中，所述确定模块，包括：获取子模块，用于获取第一制约关系；所述第一制约关系为所述金融终端机芯预先建立的介质处理速度信息和日志上传速度信息之间的针对日志传输速度的约束关系；第一确定子模块，用于根据所述待处理介质的数量信息和所述预设数据存储空间的容量信息确定第二制约关系；计算子模块，用于基于所述第一制约关系和所述第二制约关系计算得到处理介质的速度取值范围；第二确定子模块，用于在所述速度取值范围内，确定所述金融终端机芯所需的所述目标介质处理速度。在本发明实施例中，所述第一确定子模块，包括：第一确定单元，用于确定所述金融终端机芯处理所述数量信息对应数量的介质所需耗费的时长信息；第一获取单元，用于获取所述金融终端机芯处理单位数量介质后所产生的日志数据所需占用所述预设数据存储空间的单位容量信息；建立单元，用于建立所述容量信息，所述时长信息，所述单位容量信息，所述介质处理速度信息和所述日志上传速度信息之间的针对存储空间容量的所述第二制约关系。在本发明实施例中，所述第二确定子模块，包括：第二获取单元，用于获取处理介质的最大限制速度和最小限制速度；比较单元，用于将所述最大限制速度，所述最小限制速度和所述速度取值范围作比较，得到所述金融终端机芯所需的所述目标介质处理速度。在本发明实施例中，所述获取子模块，包括：第二确定单元，用于确定所述金融终端机芯的类型；第三获取单元，用于获取与所述类型匹配的目标第一制约关系。在本发明实施例中，所述速度取值范围包括最大取值，所述比较单元，包括：第一确定子单元，用于若所述最大取值不小于所述最小限制速度且不大于所述最大限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度；第二确定子单元，用于若所述最大取值大于所述最大限制速度，则将所述最大限制速度作为所述金融终端机芯所需的所述目标介质处理速度；第三确定子单元，用于若所述最大取值小于所述最小限制速度，则将所述最大取值作为所述金融终端机芯所需的所述目标介质处理速度。在本发明实施例中，所述容量信息包括剩余容量信息，所述确定模块，包括：第三确定子模块，用于确定所述金融终端机芯处理所述数量信息对应数量的介质后所产生的日志数据所需占用所述预设数据存储空间的占用容量信息；第四确定子模块，用于若所述占用容量信息大于所述剩余容量信息，则确定所述金融终端机芯所需的最大介质处理速度；所述最大介质处理速度能够使得，所述金融设备机芯若按照所述最大介质处理速度处理介质所产生的日志数据，会将所述预设数据存储空间填满。第五确定子模块，用于若所述占用容量信息不大于所述剩余容量信息，则将所述预设日志上传速度作为所述金融终端机芯所需的最小介质处理速度。综上，在本发明实施例中，在金融终端机芯处理介质的工作过程中，通过获取待处理介质的数量信息和预设数据存储空间的容量信息确定处理介质的目标速度，从而达到在该目标介质处理速度下，金融终端机芯按照预设日志上传速度上传日志时，日志数据不会从机芯的预设数据存储空间中溢出。通过采用上述方法，确定金融终端机芯的目标介质处理速度，使得金融终端机芯在处理介质的工作过程中，按照该目标介质处理速度处理介质，且按照预设日志上传速度上传日志时，保证处理介质的速度不会影响金融业务处理体验的情况下，也不会造成机芯中存储的日志数据的丢失。对于装置实施例而言，由于其与方法实施例基本相似，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。本发明实施例还提供了一种电子设备，包括：处理器、存储器及存储在所述存储器上并能够在所述处理器上运行的计算机程序，所述计算机程序被所述处理器执行时实现上述一种金融终端机芯日志传输方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。本发明实施例还提供了一种计算机可读存储介质，计算机可读存储介质上存储计算机程序，所述计算机程序被处理器执行时实现上述一种金融终端机芯日志传输方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。对于装置实施例而言，由于其与方法实施例基本相似，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。本说明书中的各个实施例均采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似的部分互相参见即可。本领域内的技术人员应明白，本发明实施例的实施例可提供为方法、装置、或计算机程序产品。因此，本发明实施例可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本发明实施例可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本发明实施例是参照根据本发明实施例的方法、终端设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理终端设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理终端设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理终端设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理终端设备上，使得在计算机或其他可编程终端设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程终端设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。尽管已描述了本发明实施例的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例做出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本发明实施例范围的所有变更和修改。最后，还需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者终端设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者终端设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者终端设备中还存在另外的相同要素。以上对本发明所提供的一种金融终端机芯日志传输方法、一种金融终端机芯日志传输装置、一种电子设备和一种计算机可读存储介质，进行了详细介绍，本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本发明的限制。
