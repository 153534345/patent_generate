标题title
文本分类方法、装置、设备以及存储介质
摘要abst
本公开提供了一种文本分类方法、装置、设备以及存储介质，涉及人工智能技术领域，具体涉及自然语言处理和深度学习技术领域。该方法包括：获取待分类文本；对待分类文本进行体裁分类，得到体裁标签；从待分类文本的文本内容中提取年级特征，其中，年级特征为作者年级相关联的特征；响应于确定年级特征的数目大于一个，基于体裁标签、年级特征和预先生成的体裁年级关系表，确定待分类文本的年级标签，其中，体裁年级关系表中保存有与体裁及作者年级相关联的文本字数范围；输出待分类文本的体裁标签和年级标签。本公开提供的文本分类方法可以从多个维度对待分类文本进行分类，满足了用户对多维度标签的需求。
权利要求书clms
1.一种文本分类方法，包括：获取待分类文本；对所述待分类文本进行体裁分类，得到体裁标签；从所述待分类文本的文本内容中提取年级特征，其中，所述年级特征为作者年级相关联的特征；响应于确定所述年级特征的数目大于一个，基于所述体裁标签、所述年级特征和预先生成的体裁年级关系表，确定所述待分类文本的年级标签，其中，所述体裁年级关系表中保存有与体裁及作者年级相关联的文本字数范围；输出所述待分类文本的体裁标签和年级标签。2.根据权利要求1所述的方法，其中，所述对所述待分类文本进行体裁分类，得到体裁标签，包括：利用预先训练的体裁分类模型对所述待分类文本进行体裁分类，得到体裁标签。3.根据权利要求2所述的方法，其中，所述体裁分类模型通过如下步骤训练得到：获取训练文本集，其中，所述训练文本集中的训练文本带有体裁标签；基于每个体裁标签对应的训练文本的数目在所述训练文本集中的占比，确定所述每个体裁标签对应的类别权重，其中，所述类别权重与所述占比成反比；基于所述类别权重计算所述训练文本集的样本损失值；基于所述样本损失值更新所述初始体裁分类模型的参数，得到体裁分类模型。4.根据权利要求1所述的方法，还包括：响应于确定所述体裁标签为预设体裁标签，通过后置规则对所述体裁标签进行验证。5.根据权利要求4所述的方法，其中，所述响应于确定所述体裁标签为预设体裁标签，通过后置规则对所述体裁标签进行验证，包括：响应于确定所述体裁标签为诗歌或记叙文，通过所述待分类文本的总字数和/或换行数来对所述体裁标签进行验证。6.根据权利要求1所述的方法，其中，所述基于所述体裁标签、所述年级特征和预先生成的体裁年级关系表，确定所述待分类文本的年级标签，包括：分别生成所述年级特征对应的第一年级标签；确定所述待分类文本的字数；基于所述体裁标签、所述字数和预先生成的体裁年级关系表，从所述第一年级标签中确定所述待分类文本的年级标签。7.根据权利要求1所述的方法，还包括：响应于确定所述年级特征的数目为一个，生成所述年级特征对应的第二年级标签；将所述待分类文本和所述第二年级标签输入至打分模型中，输出得到所述第二年级标签的打分结果；响应于确定所述打分结果满足预设条件，将所述第二年级标签作为所述待分类文本的年级标签。8.根据权利要求1-7中任一项所述的方法，还包括：利用预先训练的主题分类模型确定所述待分类文本的主题标签；以及所述输出所述待分类文本的体裁标签和年级标签，包括：输出所述待分类文本的体裁标签、年级标签和主题标签。9.一种文本分类装置，包括：获取模块，被配置成获取待分类文本；体裁分类模块，被配置成对所述待分类文本进行体裁分类，得到体裁标签；提取模块，被配置成从所述待分类文本的文本内容中提取年级特征，其中，所述年级特征为作者年级相关联的特征；年级分类模块，被配置成响应于确定所述年级特征的数目大于一个，基于所述体裁标签、所述年级特征和预先生成的体裁年级关系表，确定所述待分类文本的年级标签，其中，所述体裁年级关系表中保存有与体裁及作者年级相关联的文本字数范围；输出模块，被配置成输出所述待分类文本的体裁标签和年级标签。10.根据权利要求9所述的装置，其中，所述体裁分类模块包括：体裁分类子模块，被配置成利用预先训练的体裁分类模型对所述待分类文本进行体裁分类，得到体裁标签。11.根据权利要求10所述的装置，其中，所述装置还包括用于训练体裁分类模型的训练模块，所述训练模块被配置成：获取训练文本集，其中，所述训练文本集中的训练文本带有体裁标签；基于每个体裁标签对应的训练文本的数目在所述训练文本集中的占比，确定所述每个体裁标签对应的类别权重，其中，所述类别权重与所述占比成反比；基于所述类别权重计算所述训练文本集的样本损失值；基于所述样本损失值更新所述初始体裁分类模型的参数，得到体裁分类模型。12.根据权利要求9所述的装置，还包括：验证模块，被配置成响应于确定所述体裁标签为预设体裁标签，通过后置规则对所述体裁标签进行验证。13.根据权利要求12所述的装置，其中，所述验证模块包括：验证子模块，被配置成响应于确定所述体裁标签为诗歌或记叙文，通过所述待分类文本的总字数和/或换行数来对所述体裁标签进行验证。14.根据权利要求9所述的装置，其中，所述年级分类模块包括：生成子模块，被配置成分别生成所述年级特征对应的第一年级标签；第一确定子模块，被配置成确定所述待分类文本的字数；第二确定子模块，被配置成基于所述体裁标签、所述字数和预先生成的体裁年级关系表，从所述第一年级标签中确定所述待分类文本的年级标签。15.根据权利要求9所述的装置，还包括：生成模块，被配置成响应于确定所述年级特征的数目为一个，生成所述年级特征对应的第二年级标签；打分模块，被配置成将所述待分类文本和所述第二年级标签输入至打分模型中，输出得到所述第二年级标签的打分结果；作为模块，被配置成响应于确定所述打分结果满足预设条件，将所述第二年级标签作为所述待分类文本的年级标签。16.根据权利要求9-15中任一项所述的装置，还包括：确定模块，被配置成利用预先训练的主题分类模型确定所述待分类文本的主题标签；以及所述输出模块包括：输出子模块，被配置成输出所述待分类文本的体裁标签、年级标签和主题标签。17.一种电子设备，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-8中任一项所述的方法。18.一种存储有计算机指令的非瞬时计算机可读存储介质，所述计算机指令用于使所述计算机执行权利要求1-8中任一项所述的方法。19.一种计算机程序产品，包括计算机程序，所述计算机程序在被处理器执行时实现根据权利要求1-8中任一项所述的方法。
说明书desc
技术领域本公开涉及人工智能技术领域，具体涉及自然语言处理和深度学习技术领域，尤其涉及文本分类方法、装置、设备以及存储介质。背景技术众所周知，阅读范文是学生学习写作的重要方法，通过阅读范文能明显提高学生的写作成绩，故范文素材库的快速构建是实现写作信息化辅助手段的重要环节。文本分类是自然语言处理领域的一个经典课题，它可以为文档集合中的每个文档确定一个类别，随着数据时代的到来，互联网上电子文档的数量大幅增长，文本分类已经成为信息检索和管理的关键技术。发明内容本公开提供了一种文本分类方法、装置、设备以及存储介质。根据本公开的第一方面，提供了一种文本分类方法，包括：获取待分类文本；对待分类文本进行体裁分类，得到体裁标签；从待分类文本的文本内容中提取年级特征，其中，年级特征为作者年级相关联的特征；响应于确定年级特征的数目大于一个，基于体裁标签、年级特征和预先生成的体裁年级关系表，确定待分类文本的年级标签，其中，体裁年级关系表中保存有与体裁及作者年级相关联的文本字数范围；输出待分类文本的体裁标签和年级标签。根据本公开的第二方面，提供了一种文本分类装置，包括：获取模块，被配置成获取待分类文本；体裁分类模块，被配置成对待分类文本进行体裁分类，得到体裁标签；提取模块，被配置成从待分类文本的文本内容中提取年级特征，其中，年级特征为作者年级相关联的特征；年级分类模块，被配置成响应于确定年级特征的数目大于一个，基于体裁标签、年级特征和预先生成的体裁年级关系表，确定待分类文本的年级标签，其中，体裁年级关系表中保存有与体裁及作者年级相关联的文本字数范围；输出模块，被配置成输出待分类文本的体裁标签和年级标签。根据本公开的第三方面，提供了一种电子设备，包括：至少一个处理器；以及与至少一个处理器通信连接的存储器；其中，存储器存储有可被至少一个处理器执行的指令，指令被至少一个处理器执行，以使至少一个处理器能够执行如第一方面中任一实现方式描述的方法。根据本公开的第四方面，提供了一种存储有计算机指令的非瞬时计算机可读存储介质，计算机指令用于使计算机执行如第一方面中任一实现方式描述的方法。根据本公开的第五方面，提供了一种计算机程序产品，包括计算机程序，计算机程序在被处理器执行时实现如第一方面中任一实现方式描述的方法。应当理解，本部分所描述的内容并非旨在标识本公开的实施例的关键或重要特征，也不用于限制本公开的范围。本公开的其它特征将通过以下的说明书而变得容易理解。附图说明附图用于更好地理解本方案，不构成对本公开的限定。其中：图1是本公开可以应用于其中的示例性系统架构图；图2是根据本公开的文本分类方法的一个实施例的流程图；图3是根据本公开的文本分类方法的另一个实施例的流程图；图4是根据本公开的文本分类方法的又一个实施例的流程图；图5是根据本公开的文本分类方法的再一个实施例的流程图；图6是根据本公开的文本分类方法的一个应用场景图；图7是根据本公开的文本分类装置的一个实施例的结构示意图；图8是用来实现本公开实施例的文本分类方法的电子设备的框图。具体实施方式以下结合附图对本公开的示范性实施例做出说明，其中包括本公开实施例的各种细节以助于理解，应当将它们认为仅仅是示范性的。因此，本领域普通技术人员应当认识到，可以对这里描述的实施例做出各种改变和修改，而不会背离本公开的范围和精神。同样，为了清楚和简明，以下的描述中省略了对公知功能和结构的描述。需要说明的是，在不冲突的情况下，本公开中的实施例及实施例中的特征可以相互组合。下面将参考附图并结合实施例来详细说明本公开。图1示出了可以应用本公开的文本分类方法或文本分类装置的实施例的示例性系统架构100。如图1所示，系统架构100可以包括终端设备101、102、103，网络104和服务器105。网络104用以在终端设备101、102、103和服务器105之间提供通信链路的介质。网络104可以包括各种连接类型，例如有线、无线通信链路或者光纤电缆等等。用户可以使用终端设备101、102、103通过网络104与服务器105交互，以接收或发送信息等。终端设备101、102、103上可以安装有各种客户端应用。终端设备101、102、103可以是硬件，也可以是软件。当终端设备101、102、103为硬件时，可以是各种电子设备，包括但不限于智能手机、平板电脑、膝上型便携计算机和台式计算机等等。当终端设备101、102、103为软件时，可以安装在上述电子设备中。其可以实现成多个软件或软件模块，也可以实现成单个软件或软件模块。在此不做具体限定。服务器105可以提供各种服务。例如，服务器105可以对从终端设备101、102、103获取的待分类文本进行分析和处理，并生成处理结果。需要说明的是，服务器105可以是硬件，也可以是软件。当服务器105为硬件时，可以实现成多个服务器组成的分布式服务器集群，也可以实现成单个服务器。当服务器105为软件时，可以实现成多个软件或软件模块，也可以实现成单个软件或软件模块。在此不做具体限定。需要说明的是，本公开实施例所提供的文本分类方法一般由服务器105执行，相应地，文本分类装置一般设置于服务器105中。应该理解，图1中的终端设备、网络和服务器的数目仅仅是示意性的。根据实现需要，可以具有任意数目的终端设备、网络和服务器。继续参考图2，其示出了根据本公开的文本分类方法的一个实施例的流程200。该文本分类方法包括以下步骤：步骤201，获取待分类文本。在本实施例中，文本分类方法的执行主体可以获取待分类文本，待分类文本即为需要进行分类的文本，其可以为作文，或者还可以为其他形式的文本，如日记等。这里的分类可以包括体裁分类、年级分类等等，体裁分类即对待分类文本的体裁进行分类，体裁一般包括记叙文、说明文、议论文、应用文、诗歌、散文等。年级分类即对待分类文本的作者的年级进行分类，年级包括小学一年级至六年级、初中一年级至三年级、高中一年级至三年级等等。可选地，上述执行主体还会对待分类文本的主题进行分类，主题一般包括人生哲理，如命运、美、价值、生命、历史等，为人处世，如宽容、帮助、尊重等，读书做人，如成熟、情操等，人生观、价值观，人与自然等。步骤202，对待分类文本进行体裁分类，得到体裁标签。在本实施例中，上述执行主体会对获取的待分类文本进行体裁分类，从而得到待分类文本的体裁标签。这里的体裁标签可以包括记叙文、说明文、议论文、应用文、诗歌、散文等。例如，上述执行主体可以先从待分类文本中提取用于表征体裁的特征，再基于提取的体裁特征来确定待分类文本的体裁标签。再例如，上述执行主体可以利用预先训练的体裁分类模型来对待分类作文的体裁进行分类，从而得到待分类作文的体裁标签。步骤203，从待分类文本的文本内容中提取年级特征。在本实施例中，上述执行主体会从待分类文本的文本内容中提取年级特征，其中，年级特征为作者年级相关联的特征。上述执行主体会预先设置用于表征作者年级相关的特征，在对待分类文本进行年级分类时，会对待分类文本进行识文本识别，将待分类文本的特征信息与预设的年级特征进行匹配，从而确定待分类文本中是否包含预设的年级特征，若包含，则从待分类文本的文本内容中提取年级特征。可选地，若待分类文本的文本内容中不包含年级特征，则上述执行主体会确定待分类文本的字数，然后根据预设的年级字数对照表确定待分类文本的年级标签。步骤204，响应于确定年级特征的数目大于一个，基于体裁标签、年级特征和预先生成的体裁年级关系表，确定待分类文本的年级标签。在本实施例中，在确定年级特征的数目大于一个的情况下，上述执行主体会基于体裁标签、年级特征和预先生成的体裁年级关系表，确定待分类文本的年级标签，其中，体裁年级关系表中保存有与体裁及作者年级相关联的文本字数范围。也即在年级特征的数目大于一个时，上述执行主体会分别生成每个年级特征对应的年级标签。然后上述执行主体会确定待分类文本的字数。由于预先生成的体裁年级关系表中存储有不同体裁、不同作者年级对应的文本字数范围，所以上述执行主体会基于待分类文本的体裁标签、字数和体裁年级关系表，来从年级特征对应的年级标签中确定待分类文本对应的年级标签。例如，假设待分类文本的体裁标签为记叙文，待分类文本的字数为380字，从待分类文本中提取的年级特征为“三年级”、“六年级”，那么基于年级特征生成的年级标签为“小学三年级”和“小学六年级”，而关于上述两个年级标签，体裁年级关系表中存储了：小学三年级、记叙文为300-400字；小学六年级、记叙文为500-800字。而380字在300-400字之间，基于此，可以确定待分类文本的年级标签为“小学三年级”。步骤205，输出待分类文本的体裁标签和年级标签。在本实施例中，上述执行主体会将上述步骤确定的体裁标签和年级标签作为待分类文本的最终分类结果并进行输出，从而实现对待分类文本的分类。可选地，当上述执行主体对待分类文本的主题进行分类得到主题标签时，上述执行主体会将确定的体裁标签、年级标签和主题标签作为待分类文本的最终分类结果并进行输出。本公开实施例提供的文本分类方法，首先获取待分类文本；然后对待分类文本进行体裁分类，得到体裁标签；之后从待分类文本的文本内容中提取年级特征；并响应于确定年级特征的数目大于一个，基于体裁标签、年级特征和预先生成的体裁年级关系表，确定待分类文本的年级标签；最后输出待分类文本的体裁标签和年级标签。本实施例中的文本分类方法，该方法可以对待分类文本的体裁进行分类，得到体裁标签，并基于体裁标签确定待分类文本的年级标签，从而实现了从多个维度对待分类文本进行分类，满足了用户对多维度标签的需求；此外，精细化的标签也提升了用户的搜索体验。本公开的技术方案中，所涉及的用户个人信息的收集、存储、使用、加工、传输、提供和公开等处理，均符合相关法律法规的规定，且不违背公序良俗。继续参考图3，图3示出了根据本公开的文本分类方法的另一个实施例的流程300。该文本分类方法包括以下步骤：步骤301，获取待分类文本。在本实施例中，文本分类方法的执行主体会获取待分类文本。步骤301与前述实施例的步骤201基本一致，具体实现方式可以参考前述对步骤201的描述，此处不再赘述。步骤302，利用预先训练的体裁分类模型对待分类文本进行体裁分类，得到体裁标签。在本实施例中，上述执行主体会预先训练体裁分类模型，并使用该体裁分类模型对待分类文本进行体裁分类，从而得到待分类文本的体裁标签。利用体裁分类模型来对待分类文本进行体裁分类，可以提升体裁分类的效率和准确性。在本实施例的一些可选的实施方式中，上述体裁分类模型通过如下步骤训练得到：获取训练文本集，其中，训练文本集中的训练文本带有体裁标签；基于每个体裁标签对应的训练文本的数目在训练文本集中的占比，确定每个体裁标签对应的类别权重，其中，类别权重与占比成反比；基于类别权重计算训练文本集的样本损失值；基于样本损失值更新初始体裁分类模型的参数，得到体裁分类模型。在本实现方式中，上述执行主体会先获取训练文本集，训练文本集中都是已经打好体裁标签的文本数据。然后上述执行主体会统计各个体裁标签对应的训练文本的数目在训练文本集中的占比情况，并基于占比情况来确定每个体裁标签对应的类别权重，需要说明的是，每个体裁标签的类别权重与占比成反比。由于不同体裁的样本数据分布不均匀，不同标签占比的偏差会导致模型更倾向于挖掘样本量大的文本的深层特征，而很难学习到样本量小的文本的特征，为了解决这一问题，本实施例中会为样本量少的数据设置更高的损失权重，从而让模型更多的挖掘样本量小的文本的深层语义特征。之后，上述执行主体会基于各个体裁标签对应的类别权重来计算训练文本集的样本损失值，例如可以基于focalloss损失函数来计算训练文本集的样本损失值，focal loss损失函数可以解决样本不平衡和难易样本不平衡的问题。最后，上述执行主体会基于样本损失值来更新初始体裁分类模型的参数，从而得到体裁分类模型，这里的初始体裁分类模型可以为TextCNN模型，TextCNN模型是一个文本分类模型，用于对文本体裁进行判断。在体裁分类模型的训练过程中，通过给样本量少的数据设置更高的损失权重来让模型更多的挖掘样本量小的文本深层语义特征，从而提升了体裁分类模型的准确性。步骤303，响应于确定体裁标签为预设体裁标签，通过后置规则对体裁标签进行验证。在本实施例中，在生成待分类文本的体裁标签后，上述执行主体会判断待分类文本的体裁标签是否为预设的体裁标签，并在确定体裁标签为预设体裁标签的情况下，通过后置规则对体裁标签进行验证。由于不同体裁之间是有特征交叉的，例如诗歌在一定程度上更像是散文，然而散文又是记叙文的一种，所以，会导致模型有一定的精度损失。为了解决这一问题，本实施例中会预先设置需要验证的体裁标签，例如可以包括诗歌、记叙文等，当待分类文本的体裁标签为需要验证的体裁标签，会采用后置规则来对待分类文本的体裁标签进行验证，从而提升体裁标签的准确性。在本实施例的一些可选的实施方式中，步骤303包括：响应于确定体裁标签为诗歌或记叙文，通过待分类文本的总字数和/或换行数来对体裁标签进行验证。在本实现方式中，由于诗歌在一定程度上更像是散文，然而散文又是记叙文的一种，所以，体裁分类模型对于诗歌和记叙文的判断会存在一定的精度损失，基于此，本实现方式中会采用换行符和/或总字数来判定诗歌跟记叙文的区别，诗歌的换行数明显要多于记叙文的换行数，而诗歌的总字数要明显少于记叙文的总字数。所以，本实施例中会预先设置诗歌对应的换行数与总字数，记叙文对应的换行数与总字数，通过待分类文本的换行数和/或总字数来验证待分类文本的体裁标签，从而进一步提高了诗歌跟记叙文体裁标签的准确度。步骤304，从待分类文本的文本内容中提取年级特征。在本实施例中，上述执行主体会从待分类文本的文本内容中提取年级特征，其中，年级特征为作者年级相关联的特征。步骤304与前述实施例的步骤203基本一致，具体实现方式可以参考前述对步骤203的描述，此处不再赘述。步骤305，响应于确定年级特征的数目大于一个，基于体裁标签、年级特征和预先生成的体裁年级关系表，确定待分类文本的年级标签。在本实施例中，上述执行主体会响应于确定年级特征的数目大于一个，基于体裁标签、年级特征和预先生成的体裁年级关系表，确定待分类文本的年级标签，其中，体裁年级关系表中保存有与体裁及作者年级相关联的文本字数范围。步骤305与前述实施例的步骤204基本一致，具体实现方式可以参考前述对步骤204的描述，此处不再赘述。步骤306，输出待分类文本的体裁标签和年级标签。在本实施例中，上述执行主体会输出待分类文本的体裁标签和年级标签。步骤306与前述实施例的步骤205基本一致，具体实现方式可以参考前述对步骤205的描述，此处不再赘述。从图3中可以看出，与图2对应的实施例相比，本实施例中的文本分类方法，该方法突出了采用体裁分类模型确定待分类文本的体裁标签的步骤以及采用后置规则对待分类文本的体裁标签进行验证的步骤，从而提升了得到的待分类文本的体裁标签的准确性。继续参考图4，图4示出了根据本公开的文本分类方法的又一个实施例的流程400。该文本分类方法包括以下步骤：步骤401，获取待分类文本。步骤402，利用预先训练的体裁分类模型对待分类文本进行体裁分类，得到体裁标签。步骤403，响应于确定体裁标签为预设体裁标签，通过后置规则对体裁标签进行验证。步骤404，从待分类文本的文本内容中提取年级特征。在本实施例中，文本分类方法的执行主体会从待分类文本的文本内容中提取年级特征，其中，年级特征为作者年级相关联的特征。步骤401-404与前述实施例的步骤301-304基本一致，具体实现方式可以参考前述对步骤301-304的描述，此处不再赘述。步骤405，响应于确定年级特征的数目大于一个，分别生成年级特征对应的第一年级标签。在本实施例中，在确定年级特征的数目大于一个的情况下，上述执行主体会分别生成年级特征对应的第一年级标签，也即会生成多个第一年级标签。例如，年级特征“三年级”对应的第一年级标签为“小学三年级”，年级特征“七年级”对应的第一年级标签为“初中一年级”。步骤406，确定待分类文本的字数。在本实施例中，上述执行主体会确定待分类文本的字数，这里可采用现有的模型来确定待分类文本的字数。需要说明的是，本实施例不限制步骤404-405与步骤406的执行顺序，也即步骤404-405可以在步骤406之前执行，还可以在步骤406之后执行，甚至还可以与步骤406同时执行。步骤407，基于体裁标签、字数和预先生成的体裁年级关系表，从第一年级标签中确定待分类文本的年级标签。在本实施例中，上述执行主体会从预先生成的体裁年级关系表中获取待分类文本的体裁标签和字数对应的年级信息，从而从多个第一年级标签中确定待分类文本的年级标签。例如，假设待分类文本的体裁标签为记叙文，待分类文本的字数为380字，从待分类文本中提取的年级特征为“三年级”、“六年级”，那么基于年级特征生成的年级标签为“小学三年级”和“小学六年级”，而关于上述两个年级标签，体裁年级关系表中存储了：小学三年级、记叙文为300-400字；小学六年级、记叙文为500-800字。而380字在300-400字之间，基于此，可以确定待分类文本的年级标签为“小学三年级”。步骤408，利用预先训练的主题分类模型确定待分类文本的主题标签。在本实施例中，上述执行主体会利用预先训练的主题分类模型确定待分类文本的主题标签。也即上述执行主体会预先训练主题分类模型，训练过程可以包括：获取训练数据集，训练数据集中包括样本文本和样本文本对应的主题标签；然后将样本文本作为输入，将样本文本对应的主题标签作为输出，对初始卷积神经网络进行训练，从而得到训练之后的主题分类模型。最后将待分类文本输入至训练完成的主题分类模型，即可输出得到待分类文本的主题标签。步骤409，输出待分类文本的体裁标签、年级标签和主题标签。在本实施例中，上述执行主体会将上述步骤确定的体裁标签、年级标签以及主题标签作为待分类文本的最终分类结果并进行输出，从而实现对待分类文本的分类。从而生成待分类文本的主题标签，实现从多个维度对待分类文本进行分类。从图4中可以看出，与图3对应的实施例相比，本实施例中的文本分类方法，该方法突出了生成待分类文本的体裁标签以及待分类文本的主题标签的步骤，从而实现了从多个维度对待分类文本进行分类，满足了用户对多维度标签的需求；此外，精细化的标签也提升了用户的搜索体验。继续参考图5，图5示出了根据本公开的文本分类方法的再一个实施例的流程500。该文本分类方法包括以下步骤：步骤501，获取待分类文本。步骤502，利用预先训练的体裁分类模型对待分类文本进行体裁分类，得到体裁标签。步骤503，响应于确定体裁标签为预设体裁标签，通过后置规则对体裁标签进行验证。步骤504，从待分类文本的文本内容中提取年级特征。在本实施例中，文本分类方法的执行主体会从待分类文本的文本内容中提取年级特征，其中，年级特征为作者年级相关联的特征。步骤501-504与前述实施例的步骤401-404基本一致，具体实现方式可以参考前述对步骤401-404的描述，此处不再赘述。步骤505，响应于确定年级特征的数目为一个，生成年级特征对应的第二年级标签。在本实施例中，在确定年级特征的数目为一个的情况下，上述执行主体会生成年级特征对应的第二年级标签，如假设年级特征为“七年级”，则可以直接生成对应的第二年级标签为“初中一年级”。步骤506，将待分类文本和第二年级标签输入至打分模型中，输出得到第二年级标签的打分结果。在本实施例中，上述执行主体会将待分类文本和第二年级标签输入至打分模型中，从而输出得到第二年级标签的打分结果。打分模型是预先训练好的，可以对年级标签的准确度进行打分，并输出打分结果。步骤507，响应于确定打分结果满足预设条件，将第二年级标签作为待分类文本的年级标签。在本实施例中，上述执行主体会判断步骤506输出的打分结果是否满足预设条件，并在其满足预设条件的情况下，将第二年级标签作为待分类文本的年级标签，预设条件可以为打分结果大于预设阈值。例如，打分模型对年级标签的准确度进行打分的打分结果为90分，预设阈值为80分，那么可以确定打分结果满足预设条件，此时将第二年级标签确定为待分类文本的年级标签。步骤508，利用预先训练的主题分类模型确定待分类文本的主题标签。步骤509，输出待分类文本的体裁标签、年级标签和主题标签。步骤508-509与前述实施例的步骤408-409基本一致，具体实现方式可以参考前述对步骤408-409的描述，此处不再赘述。从图5中可以看出，与图4对应的实施例相比，本实施例中的文本分类方法，该方法突出了在年级特征只有一个的情况下生成年级标签的步骤，从而实现了在不同情况下生成待分类文本的年级标签，提高了确定待分类文本的年级标签的全面性和准确性。进一步参考图6，图6示出了根据本公开的文本分类方法的一个应用场景图。在该应用场景中，待分类文本为待分类作文，上述执行主体会先使用预先训练好的体裁分类模型对待分类作文的体裁进行分类，得到待分类作文的体裁标签。当然，也会存在无法基于体裁分类模型得到待分类作文的体裁标签的情况。所以，上述执行主体会判断待分类作文是否有体裁标签。若待分类作文有体裁标签，上述执行主体会从待分类作文的作文标题跟正文中提取年级标签，然后判断提取的年级标签的个数是否为一个，如果提取出的年级标签的个数为一个，则利用打分模型进行打分，从而返回待分类作文的年级标签。如果提取出的年级标签的个数不止一个，则统计不同体裁、不同年级的作文字数范围，最后根据统计结果并结合作文体裁确定待分类作文的年级标签。若待分类作文没有体裁标签，根据不同年级无体裁标签的作文字数范围，确定待分类作文的年级标签。之后，上述执行主体会利用预先训练的篇章级主题模型来确定待分类模型的主题标签。最后，将上述步骤确定的体裁标签、年级标签和主题标签作为待分类作文的分类结果进行输出。进一步参考图7，作为对上述各图所示方法的实现，本公开提供了一种文本分类装置的一个实施例，该装置实施例与图2所示的方法实施例相对应，该装置具体可以应用于各种电子设备中。如图7所示，本实施例的文本分类装置700包括：获取模块701、体裁分类模块702、提取模块703、年级分类模块704和输出模块705。其中，获取模块701，被配置成获取待分类文本；体裁分类模块702，被配置成对待分类文本进行体裁分类，得到体裁标签；提取模块703，被配置成从待分类文本的文本内容中提取年级特征，其中，年级特征为作者年级相关联的特征；年级分类模块704，被配置成响应于确定年级特征的数目大于一个，基于体裁标签、年级特征和预先生成的体裁年级关系表，确定待分类文本的年级标签，其中，体裁年级关系表中保存有与体裁及作者年级相关联的文本字数范围；输出模块705，被配置成输出待分类文本的体裁标签和年级标签。在本实施例中，文本分类装置700中：获取模块701、体裁分类模块702、提取模块703、年级分类模块704和输出模块705的具体处理及其所带来的技术效果可分别参考图2对应实施例中的步骤201-205的相关说明，在此不再赘述。在本实施例的一些可选的实现方式中，体裁分类模块包括：体裁分类子模块，被配置成利用预先训练的体裁分类模型对待分类文本进行体裁分类，得到体裁标签。在本实施例的一些可选的实现方式中，上述文本分类装置700还包括用于训练体裁分类模型的训练模块，训练模块被配置成：获取训练文本集，其中，训练文本集中的训练文本带有体裁标签；基于每个体裁标签对应的训练文本的数目在训练文本集中的占比，确定每个体裁标签对应的类别权重，其中，类别权重与占比成反比；基于类别权重计算训练文本集的样本损失值；基于样本损失值更新初始体裁分类模型的参数，得到体裁分类模型。在本实施例的一些可选的实现方式中，上述文本分类装置700还包括：验证模块，被配置成响应于确定体裁标签为预设体裁标签，通过后置规则对体裁标签进行验证。在本实施例的一些可选的实现方式中，验证模块包括：验证子模块，被配置成响应于确定体裁标签为诗歌或记叙文，通过待分类文本的总字数和/或换行数来对体裁标签进行验证。在本实施例的一些可选的实现方式中，年级分类模块包括：生成子模块，被配置成分别生成年级特征对应的第一年级标签；第一确定子模块，被配置成确定待分类文本的字数；第二确定子模块，被配置成基于体裁标签、字数和预先生成的体裁年级关系表，从第一年级标签中确定待分类文本的年级标签。在本实施例的一些可选的实现方式中，上述文本分类装置700还包括：生成模块，被配置成响应于确定年级特征的数目为一个，生成年级特征对应的第二年级标签；打分模块，被配置成将待分类文本和第二年级标签输入至打分模型中，输出得到第二年级标签的打分结果；作为模块，被配置成响应于确定打分结果满足预设条件，将第二年级标签作为待分类文本的年级标签。在本实施例的一些可选的实现方式中，上述文本分类装置700还包括：确定模块，被配置成利用预先训练的主题分类模型确定待分类文本的主题标签；以及输出模块包括：输出子模块，被配置成输出待分类文本的体裁标签、年级标签和主题标签。根据本公开的实施例，本公开还提供了一种电子设备、一种可读存储介质和一种计算机程序产品。图8示出了可以用来实施本公开的实施例的示例电子设备800的示意性框图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本公开的实现。如图8所示，设备800包括计算单元801，其可以根据存储在只读存储器802中的计算机程序或者从存储单元808加载到随机访问存储器803中的计算机程序，来执行各种适当的动作和处理。在RAM 803中，还可存储设备800操作所需的各种程序和数据。计算单元801、ROM 802以及RAM 803通过总线804彼此相连。输入/输出接口805也连接至总线804。设备800中的多个部件连接至I/O接口805，包括：输入单元806，例如键盘、鼠标等；输出单元807，例如各种类型的显示器、扬声器等；存储单元808，例如磁盘、光盘等；以及通信单元809，例如网卡、调制解调器、无线通信收发机等。通信单元809允许设备800通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。计算单元801可以是各种具有处理和计算能力的通用和/或专用处理组件。计算单元801的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的计算单元、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。计算单元801执行上文所描述的各个方法和处理，例如文本分类方法。例如，在一些实施例中，文本分类方法可被实现为计算机软件程序，其被有形地包含于机器可读介质，例如存储单元808。在一些实施例中，计算机程序的部分或者全部可以经由ROM 802和/或通信单元809而被载入和/或安装到设备800上。当计算机程序加载到RAM 803并由计算单元801执行时，可以执行上文描述的文本分类方法的一个或多个步骤。备选地，在其他实施例中，计算单元801可以通过其他任何适当的方式而被配置为执行文本分类方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本公开的方法的程序代码可以采用一个或多个编程语言的任何组合来编写。这些程序代码可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器或控制器，使得程序代码当由处理器或控制器执行时使流程图和/或框图中所规定的功能/操作被实施。程序代码可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本公开的上下文中，机器可读介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的程序。机器可读介质可以是机器可读信号介质或机器可读储存介质。机器可读介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在计算机上实施此处描述的系统和技术，该计算机具有：用于向用户显示信息的显示装置或者LCD监视器)；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给计算机。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网和互联网。云计算，指的是通过网络接入弹性可扩展的共享物理或虚拟资源池，资源可以包括服务器、操作系统、网络、软件、应用或存储设备等，并可以以按需、自服务的方式对资源进行部署和管理的技术体系。通过云计算技术，可以为人工智能、区块链等技术应用、模型训练提供高效强大的数据处理能力。计算机系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，也可以为分布式系统的服务器，或者是结合了区块链的服务器。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发公开中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本公开公开的技术方案所期望的结果，本文在此不进行限制。上述具体实施方式，并不构成对本公开保护范围的限制。本领域技术人员应该明白的是，根据设计要求和其他因素，可以进行各种修改、组合、子组合和替代。任何在本公开的精神和原则之内所作的修改、等同替换和改进等，均应包含在本公开保护范围之内。
