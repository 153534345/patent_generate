标题title
一种路网约束下的空地无人集群多任务点路径规划方法
摘要abst
本发明公开了一种路网约束下的空地无人集群多任务点路径规划方法，利用无人车和多个车载旋翼无人机组成空地无人集群系统，该方法首先考虑路网约束、无人机性能参数、任务时长等因素，计算各任务点与路网的邻接关系，求解无人车的最优路径，然后将无人车的可行路径进行离散化，计算无人车释放回收车载无人机的停靠点及每个停靠点能够访问的任务点序列，最后每个停靠点位置处，对多无人机访问多任务点进行路径规划。本发明方法的优点是适用于无人车载多旋翼无人机集群连续访问多任务点的情形，协同规划路径时考虑了路网约束和道路不可通行的情况，以及不同任务的时长约束。本发明能够有效协同规划出空地无人集群的路径，实现任务点全覆盖且任务总用时最短。
权利要求书clms
1.一种路网约束下的空地无人集群多任务点路径规划方法，其特征在于：利用无人车和多个车载旋翼无人机组成空地无人集群系统，首先考虑路网约束、无人机性能参数、任务时长这些因素，计算各任务点与路网的邻接关系，求解无人车的最优路径，然后将无人车的可行路径进行离散化，计算无人车释放回收车载无人机的停靠点及每个停靠点能够访问的任务点序列，最后在每个停靠点位置处，对多无人机访问多任务点进行路径规划。2.根据权利要求1所述的方法，其特征在于，具体实施步骤如下：步骤：设置无人机UAV的续航时间Tuav、飞行速度Vuav、N个任务点信息，n＝1,2,...,N，包括任务类型对应的任务时长Tmission，计算得到各任务点相对应的任务半径Rn，n＝1,...,N；步骤：根据路网信息，得到道路端点坐标序列X，计算各任务点的任务半径Rn与路网的邻接关系；步骤：以任务用时最短为优化目标，根据邻接关系和道路不可通行的情况，采用蚁群算法计算UGV经过的道路端点序列，得到UGV一种可行的路径规划结果；步骤：判断是否所有的任务点都能被访问，如果是，则得到UGV的可行路径规划结果；否则，转至步骤；步骤：将计算得到的UGV路径按照精度L进行离散化，计算无人车释放回收无人机的停靠点，得到I个UGV停靠点以及每个停靠点处能访问的任务点序列Qj；步骤：对于第I个UGV停靠点，计算UAV在该停靠点与能访问的任务点的飞行距离Dij，同时计算UAV在每个停靠点处能访问的任务点中任意两个任务点间的飞行距离Djj；步骤：对第I个停靠点，将能访问到的任务点按Dij倒序排列，基于续航时间Tuav计算出K次任务，组成飞行路径表Pik，即每个停靠点每次任务UAV访问的任务点序列表；步骤：以任务用时最短为优化目标，判断飞行路径表Pik是否存在多次单个任务且Tzs都小于阈值，若存在跳至步骤7；步骤：飞行路径表Pik完成后，基于M架UAV进行任务分配,得到每架UAV的任务访问序列，即该停靠点位置处每架UAV的路径规划结果；步骤：判断是否对所有停靠点都已计算完成，如果不是则跳转至步骤7；否则，表示计算完成，输出无人机和无人车的路径规划结果。3.根据权利要求2所述的方法，其特征在于：所述步骤中，根据每个任务的时长Tmission、UAV的续航时间Tuav以及飞行速度Vuav求出任务半径Rn，计算公式如下：4.根据权利要求2所述的方法，其特征在于，所述步骤的实现步骤为：步骤2.1：根据实际路网信息得到相邻道路的信息素S，在道路不可通行区域设置相应涉及的道路为死路，同时在算法中设置每条死路对应的信息素为0；加上道路不可通行时的信息素生成信息素矩阵Sxxs；步骤2.2：以任务点为圆心，以Rn为半径画任务圆，计算任务点与各条道路距离D，若D小于半径Rn，则任务圆与该段道路相交，信息素增大，反之信息素不变。5.根据权利要求2所述的方法，其特征在于，所述步骤的实现步骤为：步骤3.1：初始化蚁群算法各参数；步骤3.2：计算当前可达道路节点的转移概率，若下一段道路经过的任务圆越多，则转移概率越大，若下一段道路存在道路施工或其他交通障碍时，则转移概率为0；按照轮盘赌方法选择蚂蚁下一步访问的道路节点，并将该道路节点放至禁忌表内，重复该步骤直至所有任务点均被访问，此时生成一条可行路径，记录该可行路径的总长度与UGV的行驶时间，清空禁忌表，为下一次迭代做准备，转移概率的计算公式如下：其中，k为第z只蚂蚁当前道路节点可到达的点集，τij为两节路径上的信息素，α是信息素重要程度因子，ηij是节点i至节点j的启发函数，dij是节点i至节点j的欧拉距离，β为启发函数重要程度因子，wij为节点i至节点j之间经过的任务圆个数；步骤3.3：更新信息素，信息素更新公式如下：τij＝τij+Δτij其中，τij为当前迭代时节点至i至节点j的信息素浓度，τij为下一次迭代时节点i至节点j的信息素浓度，Δτijt为第t只蚂蚁在节点i至节点j路径上释放的信息素，ρ为信息素衰减系数，Lt为第t只蚂蚁走过的路径长度，Q为蚂蚁在一次搜索过程中释放的信息素总量；步骤3.4：设置最大迭代次数D，当迭代次数未达到最大迭代次数D时，则迭代次数加1，转至步骤3.2；若达到，转至步骤3.5；步骤3.5：最后一次迭代之后得到的UGV路径规划结果。6.根据权利要求2所述的方法，其特征在于，所述步骤的实现步骤为：步骤5.1：根据离散精度L将规划好的UGV路径离散化得到点集；步骤5.2：从起点开始，UGV开始前行，假设经过某一路段，驶入与此路段相交的任务圆，直至驶出这个任务圆，这段道路为相交路段，若此任务圆不与其他任务圆相交则UGV在此处相交的路段上只执行单个任务点，此相交路段为任务停靠路段；若多个任务圆与这个任务圆相交，先排除不与相交路段相交的其他任务圆，若排除之后依然存在多个任务圆，则在此任务停靠路段上执行多个任务点；以此类推，直至任务点全部执行完毕，归类得到I个任务停靠路段，根据每个停靠路段离散化后的点集数据计算UGV与所有任务点的距离总和最短的点，该点为UAV的起飞点和降落点，最终求得UGV的I个任务停靠点。7.根据权利要求2所述的方法，其特征在于，所述步骤的实现步骤为：步骤7.1：得到I个UGV的停靠点后，判断第I个停靠点的任务点个数N是否小于UAV个数M，m＝1,2,...M，若此处需要执行的任务点个数小于等于UAV个数，则共有K＝N次任务且每个任务点派出一架UAV执行任务，形成飞行路径表Pik，然后跳至步骤7.3；反之，顺延至步骤7.2；步骤7.2：若此处任务点个数N大于UAV个数M时，假设一开始任务次数为K，首先将Dij按倒序排列，从第一个即最远的任务点开始计算单程飞行时间与任务时长之和Tzs，若Tzs大于设定阈值，则此次任务只包含单个任务点，添加至飞行路径表Pik，令K+1并计算下一次任务；反之，循环计算加上其他任务点的距离时间Tjj、任务时长计算出新的Tzs，判断Tzs中最小值是否依然小于阈值，若是则继续增加直至超出阈值，上一轮任务点序列为此次任务的访问序列并添加至飞行路径表Pik；不是则重复步骤7.2直至此停靠点的所有任务点皆被访问；步骤7.3:输出第I次停靠的飞行路径表Pik。8.根据权利要求2所述的方法，其特征在于，所述步骤的实现步骤为：步骤9.1：得到每个停靠点的飞行路径表Pik后，首先判断K值是否大于UAV的个数M，若不是则派出K架无人机执行任务，且最晚回到UGV的任务时长为此停靠点的最短任务时长并跳至步骤9.3，反之，顺延至步骤9.2；步骤9.2：将飞行路径表按时间倒序排列，依次派出所有UAV执行任务并计时，最先返回的UAV继续执行未完成的任务点，直至完成所有任务点，比较M架UAV的任务总用时，用时最长为此次停靠点的最短任务用时；步骤9.3：重复步骤9.1直至I个飞行路径表都被分配完毕。
说明书desc
技术领域本发明属于无人系统导航技术领域，具体是一种路网约束下的空地无人集群多任务点路径规划方法。背景技术微小型旋翼无人机因其成本低、隐蔽性强、机动性强、视野范围大等优势，被广泛应用于执行监视、侦察、电力巡检、环境监测等任务，但UAV由于体积重量空间相对较小，因此续航能力是有限的；无人车带载能力强、续航时间长，一般不受电量约束，但其在实际路网条件下侦察视角有限，因此采用UAV与UGV组成空地无人集群，能够实现优势互补，更高效地完成任务。专利CN111708369B提出了一种变电站巡检机器人路径规划方法，该专利考虑到实际路网约束条件，以完成巡检的时间最小为目标建立巡检机器人路径规划模型，但该方法必须限制每个停靠点所对应的测温点集在UGV附近且没有考虑任务时长与道路不可通行情形，一次只完成访问一个任务点，导致远距离且长时间的多任务情况是不可行的。发明内容本发明的目的在于提出一种路网约束下的空地无人集群多任务点路径规划方法，本发明方法利用无人车和多个车载旋翼无人机组成的空地无人集群系统，UGV为UAV集群进行充电、释放和回收，面向区域内多任务点全覆盖，实现路网约束下的旋翼无人机集群与无人车的协同路径规划。实现本发明目的技术解决方案为：一种路网约束下的空地无人集群多任务点路径规划方法，利用无人车和多个车载旋翼无人机组成空地无人集群系统，该方法首先考虑路网约束、无人机性能参数、任务时长等因素，计算各任务点与路网的邻接关系，求解无人车的最优路径，然后将无人车的可行路径进行离散化，计算无人车释放回收车载无人机的停靠点及每个停靠点能够访问的任务点序列，最后在每个停靠点位置处，对多无人机访问多任务点进行路径规划。具体实现步骤如下：步骤：设置无人机UAV的续航时间Tuav、飞行速度Vuav、N个任务点信息，n＝1,2,...,N，包括任务类型对应的任务时长Tmission，计算得到各任务点相对应的任务半径Rn，n＝1,...,N；步骤：根据路网信息，得到道路端点坐标序列X，计算各任务点的任务半径Rn与路网的邻接关系；步骤：以任务用时最短为优化目标，根据邻接关系和道路不可通行的情况，采用蚁群算法计算UGV经过的道路端点序列，得到UGV一种可行的路径规划结果；步骤：判断是否所有的任务点都能被访问，如果是，则得到UGV的可行路径规划结果；否则，转至步骤；步骤：将计算得到的UGV路径按照精度L进行离散化，计算无人车释放回收无人机的停靠点，得到I个UGV停靠点以及每个停靠点处能访问的任务点序列Qj；步骤：对于第I个UGV停靠点，计算UAV在该停靠点与能访问的任务点的飞行距离Dij，同时计算UAV在每个停靠点处能访问的任务点中任意两个任务点间的飞行距离Djj；步骤：对第I个停靠点，将能访问到的任务点按Dij倒序排列，基于续航时间Tuav计算出K次任务，组成飞行路径表Pik，即每个停靠点每次任务UAV访问的任务点序列表；步骤：以任务用时最短为优化目标，判断飞行路径表Pik是否存在多次单个任务且Tzs都小于阈值，若存在跳至步骤7；步骤：飞行路径表Pik完成后，基于M架UAV进行任务分配,得到每架UAV的任务访问序列，即该停靠点位置处每架UAV的路径规划结果；步骤：判断是否对所有停靠点都已计算完成，如果不是则跳转至步骤7；否则，表示计算完成，输出无人机和无人车的路径规划结果。本发明与现有技术相比，其显著优点为：协同规划路径时考虑了路网约束和道路不可通行的情况，以及不同任务的时长约束；能够有效协同规划出旋翼无人机集群与无人车的路径，实现任务点全覆盖且任务总用时最短。附图说明图1是本发明一种路网约束下的空地无人集群多任务点路径规划方法的流程图。图2是本发明实施例中在路网和道路不可通行情形约束下设置15个任务点时UGV的最优行驶轨迹仿真图。图3是本发明实施例中在路网和道路不可通行情形约束下设置35个任务点时，UGV的最优行驶轨迹以及UAV飞行轨迹仿真图。具体实施方式下面结合说明书附图和实施例对本发明作进一步说明。如图1所示，本发明为一种路网约束下的空地无人集群多任务点路径规划方法，包括以下步骤：步骤1：设置无人机UAV的续航时间Tuav、飞行速度Vuav、N个任务点信息，n＝1,2,...,N，包括任务类型对应的任务时长Tmission，计算得到各任务点相对应的任务半径Rn，n＝1,...,N；步骤1.1：根据每个任务的时长Tmission、UAV的续航时间Tuav以及飞行速度Vuav求出任务半径Rn，计算公式如下：步骤2：根据路网信息，得到道路端点坐标序列X，计算各任务点的任务半径Rn与路网的邻接关系；步骤2.1：根据实际路网信息得到相邻道路的信息素S，在道路不可通行区域设置相应涉及的道路为死路，同时在算法中设置每条死路对应的信息素为0；加上道路不可通行时的信息素生成信息素矩阵Sxxs；步骤2.2：以任务点为圆心，以Rn为半径画任务圆，计算任务点与各条道路距离D，若D小于半径Rn，则任务圆与该段道路相交，信息素增大，反之信息素不变；步骤3：以任务用时最短为优化目标，根据邻接关系和道路不可通行的情况，采用蚁群算法计算UGV经过的道路端点序列，得到UGV一种可行的路径规划结果；步骤3.1：初始化蚁群算法各参数；步骤3.2：计算当前可达道路节点的转移概率，若下一段道路经过的任务圆越多，则转移概率越大，若下一段道路存在道路施工或其他交通障碍时，则转移概率为0；按照轮盘赌方法选择蚂蚁下一步访问的道路节点，并将该道路节点放至禁忌表内，重复该步骤直至所有任务点均被访问，这样就生成了一条可行路径，记录该可行路径的总长度与UGV的行驶时间，清空禁忌表，为下一次迭代做准备，转移概率的公式如下：其中k为第z只蚂蚁当前道路节点可到达的点集，τij为两节路径上的信息素，α是信息素重要程度因子，ηij是节点i至节点j的启发函数，dij是节点i至节点j的欧拉距离，β为启发函数重要程度因子，wij为节点i至节点j之间经过的任务圆个数；步骤3.3：更新信息素，信息素更新公式如下：τij＝τij+Δτij其中τij为当前迭代时节点至i至节点j的信息素浓度，τij以及每个停靠点处能访问的任务点序列Qj；步骤5.1：根据离散精度L将规划好的UGV路径离散化得到点集；步骤5.2：从起点开始，UGV开始前行，假设经过某一路段，驶入与此路段相交的任务圆，直至驶出这个任务圆，这段道路为相交路段，若此任务圆不与其他任务圆相交则UGV在此处相交的路段上只执行单个任务点，此相交路段为任务停靠路段；若多个任务圆与这个任务圆相交，先排除不与相交路段相交的其他任务圆，若排除之后依然存在多个任务圆，则在此任务停靠路段上执行多个任务点；以此类推，直至任务点全部执行完毕，归类得到I个任务停靠路段，根据每个停靠路段离散化后的点集数据计算UGV与所有任务点距离总和最短的点，这个点为UAV的起飞点和降落点，最终求得UGV的I个任务停靠点。步骤6：对于第I个UGV停靠点，计算UAV在该停靠点与能访问的任务点的飞行距离Dij，同时计算UAV在每个停靠点处能访问的任务点中任意两个任务点间的飞行距离Djj；步骤7：对第I个停靠点，将能访问到的任务点按Dij倒序排列，基于续航时间Tuav计算出K次任务，组成飞行路径表Pik，即每个停靠点每次任务UAV访问的任务点序列表；步骤7.1：得到I个UGV的停靠点后，判断第I个停靠点的任务点个数N是否小于UAV个数M，若此处需要执行的任务点个数小于等于UAV个数，则共有K＝N次任务且每个任务点派出一架UAV执行任务，形成飞行路径表Pik，然后跳至步骤7.3；反之，顺延至步骤7.2；步骤7.2：若此处任务点个数N大于UAV个数M时，假设一开始任务次数为K，首先将Dij按倒序排列，从第一个即最远的任务点开始计算单程飞行时间与任务时长之和Tzs，若Tzs大于设定阈值，则此次任务只包含单个任务点，添加至飞行路径表Pik，令K+1并计算下一次任务；反之，循环计算加上其他任务点的距离时间Tjj、任务时长计算出新的Tzs，判断Tzs中最小值是否依然小于阈值，若是则继续增加直至超出阈值，上一轮任务点序列为此次任务的访问序列并添加至飞行路径表Pik；不是则重复步骤7.2直至此停靠点的所有任务点皆被访问；步骤7.3:输出第I次停靠的飞行路径表Pik；步骤8：以任务用时最短为优化目标，判断飞行路径表Pik是否存在多次单个任务且Tzs都小于阈值，若存在跳至步骤7；步骤9：飞行路径表Pik完成后，基于M架UAV进行任务分配,得到每架UAV的任务访问序列，即该停靠点位置处每架UAV的路径规划结果；步骤9.1：得到每个停靠点的飞行路径表Pik后，首先判断K值是否大于UAV的个数M，若不是则派出K架无人机执行任务，且最晚回到UGV的任务时长为此停靠点的最短任务时长并跳至步骤9.3，反之，顺延至步骤9.2；步骤9.2：将飞行路径表按时间倒序排列，依次派出所有UAV执行任务并计时，最先返回的UAV继续执行未完成的任务点，直至完成所有任务点，比较M架UAV的任务总用时，用时最长为此次停靠点的最短任务用时；步骤9.3：重复步骤9.1直至I个飞行路径表都被分配完毕；步骤10：判断是否对所有停靠点都已计算完成，如果不是则跳转至步骤7；否则，表示计算完成，输出无人机和无人车的路径规划结果。实施例为了对本发明方法的有效性进行说明，充分展现出该方法具有协同路径规划的功能，完成实验如下：实验初始条件及参数设置仿真实验中UAV和UGV的运动速度设为Vugv＝Vuav＝36km/h，UAV的飞行高度为h＝60m，UAV的续航时间为Tuav＝0.5h，在本发明仿真实验中设置三种不同类型的任务，其对应的任务时长分别为20min、10min、3min，仿真实验设置1辆UGV，4架UAV为空地无人集群系统。实验结果分析图2为本方法在仿真条件下得到的在实际路网和环境态势约束条件下设置15个任务点时UGV的最优行驶轨迹仿真图。横坐标和纵坐标单位为km，图中S为空地无人集群系统的起始点，图中线段皆为任务区域的道路，空心圆圈是以任务点为圆心，UAV续航时间扣除任务用时得出最长单程飞行路径为半径R，图中星号数字为道路各路段编号，五角星、圆形和方形图案为各个任务点代号，黑色粗实线为UGV最优行驶路径。图3为考虑实际路网和环境态势约束设置35个任务点的UGV的最优行驶轨迹以及UAV飞行轨迹仿真图。图中实心圆圈为道路不可通行情形，表示此区域路段故障，细直线为4架UAV访问各任务点的飞行路线，其他和图2一致。综上所述，本发明能满足在实际路网和环境态势约束下对空地无人集群进行多任务点的路径规划。实现UGV最优路径规划，UAV集群在多任务点情况下任务分配和路径规划，保证任务总用时最短。
