标题title
势变谱构造方法、网络流异常行为识别方法及相关装置
摘要abst
本申请提供一种势变谱构造方法、网络流异常行为识别方法及相关装置，势变谱构造方法包括：通过预定义分析原子和原子学习两种方式得到超完备原子库；根据预设的基底筛选规则自超完备原子库中选取对应的原子以构成基底；基于基底生成用于识别目标网络流数据对应的网络流异常行为的势变谱，其中，势变谱为目标网络流数据的网络流映射表征集合。本申请能够自动学习网络流行为以得到精确且简练的网络流表达，并能够以更少的特征针对经稀疏表达后的网络流进行重新表达，使得针对不同业务类型的网络流能够具有更清晰的可解释性，并能够将网络流以直观、可视化的形式展现出来，进而能够有效提高恶意网络流识别的效率、便捷性、准确性及可靠性。
权利要求书clms
1.一种势变谱构造方法，其特征在于，包括：构建用于对目标网络流数据进行稀疏表达的超完备原子库；根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底；基于所述基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，其中，所述势变谱为所述目标网络流数据的网络流映射表征集合。2.根据权利要求1所述的势变谱构造方法，其特征在于，在所述根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底之前，还包括：采用模糊神经网络输出的模糊规则集合确定作为基底筛选规则的目标系数；相对应的，所述基于所述基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，包括：基于所述基底和所述目标系数生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱。3.根据权利要求2所述的势变谱构造方法，其特征在于，所述根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底，包括：应用多目标空间搜索算法，基于所述目标系数自所述超完备原子库中选取对应的原子以构成基底。4.根据权利要求2所述的势变谱构造方法，其特征在于，所述根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底，包括：若经判断获知所述超完备原子库当前满足预设的追踪限制条件，则应用匹配追踪算法，基于所述目标系数自所述超完备原子库中选取对应的原子以构成基底。5.根据权利要求1至4任一项所述的势变谱构造方法，其特征在于，所述构建用于对目标网络流数据进行稀疏表达的超完备原子库，包括：采用预定义的分析原子构建用于对目标网络流数据进行稀疏表达的超完备原子库。6.根据权利要求1至4任一项所述的势变谱构造方法，其特征在于，所述构建用于对目标网络流数据进行稀疏表达的超完备原子库，包括：采用各个预定义的分析原子组成对应的并行多原子结构；基于所述并行多原子结构，针对目标网络流数据进行原子学习以构建用于对目标网络流数据进行稀疏表达的超完备原子库。7.一种网络流异常行为识别方法，其特征在于，包括：基于如权利要求1至6任一项所述的势变谱构造方法得到的势变谱，生成该势变谱对应的网络流威胁数据；输出所述网络流威胁数据以基于该网络流威胁数据进行网络流异常行为识别。8.一种势变谱构造装置，其特征在于，包括：原子库构建模块，用于构建用于对目标网络流数据进行稀疏表达的超完备原子库；基底筛选模块，用于根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底；势变谱生成模块，用于基于所述基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，其中，所述势变谱为所述目标网络流数据的网络流映射表征集合。9.一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至6任一项所述的势变谱构造方法，或者，所述处理器执行所述计算机程序时实现如权利要求7所述的网络流异常行为识别方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该计算机程序被处理器执行时实现如权利要求1至6任一项所述的势变谱构造方法，或者，该计算机程序被处理器执行时实现如权利要求7所述的网络流异常行为识别方法。
说明书desc
技术领域本申请涉及网络流异常行为检测技术领域，尤其涉及势变谱构造方法、网络流异常行为识别方法及势变谱构造装置。背景技术网络流异常行为识别是网络安全领域的研究热点，其中，人工智能的迅猛发展带动的恶意网络流分类研究也取得了重大突破。基于机器学习ML的恶意流量检测是一种新兴的安全范式，尤其适用于零日攻击检测，是现有的基于规则检测方式的补充。但由于网络流特征提取效率低，特别是在基于规则检测的过程中，很容易被复杂的攻击所回避。因此如何形成可分离、可解释、可计算的特征表示集合，以实现网络行为的可视化与业务可理解，是亟待解决的问题。目前，现有的恶意网络流识别方法通常基于传统机器学习算法实现，可以手工提取的流量特征信息，利用频域特征所代表的序列信息，实现有界的信息的筛选，一定程度上保证了较高的检测精度；同时约束特征的规模，以实现较高的检测吞吐量。然而，在现有的恶意网络流识别方法中：其一为：手工提取的流量特征信息损失较大。特别是针对业务的频域特征无法有效地表示业务的各种数据包，特征冗余度较高。高信息损失的频域特征分析使检测精度低，较高的特征冗余难以保证高吞吐量的网络流检测。其二为：业务描述不可解释，传统机器学习算法的可视化图像与模型的分类机制之间存在矛盾，因此在对解释性要求较高的场景下难以推广应用。发明内容鉴于此，本申请实施例提供了一种势变谱构造方法、网络流异常行为识别方法及势变谱构造装置，以消除或改善现有技术中存在的一个或更多个缺陷。本申请的一个方面提供了一种势变谱构造方法，包括：构建用于对目标网络流数据进行稀疏表达的超完备原子库；根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底；基于所述基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，其中，所述势变谱为所述目标网络流数据的网络流映射表征集合。在本申请的一些实施例中，在所述根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底之前，还包括：采用模糊神经网络输出的模糊规则集合确定作为基底筛选规则的目标系数；相对应的，所述基于所述基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，包括：基于所述基底和所述目标系数生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱。在本申请的一些实施例中，所述根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底，包括：应用多目标空间搜索算法，基于所述目标系数自所述超完备原子库中选取对应的原子以构成基底。在本申请的一些实施例中，所述根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底，包括：若经判断获知所述超完备原子库当前满足预设的追踪限制条件，则应用匹配追踪算法，基于所述目标系数自所述超完备原子库中选取对应的原子以构成基底。在本申请的一些实施例中，所述构建用于对目标网络流数据进行稀疏表达的超完备原子库，包括：采用预定义的分析原子构建用于对目标网络流数据进行稀疏表达的超完备原子库。在本申请的一些实施例中，所述构建用于对目标网络流数据进行稀疏表达的超完备原子库，包括：采用各个预定义的分析原子组成对应的并行多原子结构；基于所述并行多原子结构，针对目标网络流数据进行原子学习以构建用于对目标网络流数据进行稀疏表达的超完备原子库。本申请的另一个方面提供了一种网络流异常行为识别方法，包括：基于如权利要求1至6任一项所述的势变谱构造方法得到的势变谱，生成该势变谱对应的网络流威胁数据；输出所述网络流威胁数据以基于该网络流威胁数据进行网络流异常行为识别。本申请的另一个方面提供了一种势变谱构造装置，包括：原子库构建模块，用于构建用于对目标网络流数据进行稀疏表达的超完备原子库；基底筛选模块，用于根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底；势变谱生成模块，用于基于所述基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，其中，所述势变谱为所述目标网络流数据的网络流映射表征集合。本申请的另一个方面提供了一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现所述的势变谱构造方法，或者，所述处理器执行所述计算机程序时实现所述的网络流异常行为识别方法。本申请的另一个方面提供了一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现所述的势变谱构造方法，或者，该计算机程序被处理器执行时实现所述的网络流异常行为识别方法。本申请提供的势变谱构造方法，构建用于对目标网络流数据进行稀疏表达的超完备原子库；根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底；基于所述基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，其中，所述势变谱为所述目标网络流数据的网络流映射表征集合；通过构建用于对目标网络流数据进行稀疏表达的超完备原子库，能够实现对网络流的稀疏表示，能够有效避免分析无用信息对正确的分类结果的干扰，能够采用超完备原子库自动学习网络流行为以得到精确且简练的网络流表达，能够有效提高构造的用于识别所述目标网络流数据对应的网络流异常行为的势变谱的有效性及可靠性，进而能够有效提高采用该势变谱进行网络流异常行为的准确性及可靠性；通过根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底，能够实现以更少的特征针对经稀疏表达后的网络流进行重新表达，使得针对不同业务类型的网络流能够具有更清晰的可解释性，即更少的信息具有更强的决策性，在对解释性要求较高的场景下也能够有效推广应用；通过生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，能够将网络流以直观、可视化的形式展现出来，可以较为明显的查看恶意流量和良性流量在谱图上的差异，进而能够有效提高恶意网络流识别的效率、便捷性、准确性及可靠性。本申请的附加优点、目的，以及特征将在下面的描述中将部分地加以阐述，且将对于本领域普通技术人员在研究下文后部分地变得明显，或者可以根据本申请的实践而获知。本申请的目的和其它优点可以通过在说明书以及附图中具体指出的结构实现到并获得。本领域技术人员将会理解的是，能够用本申请实现的目的和优点不限于以上具体所述，并且根据以下详细说明将更清楚地理解本申请能够实现的上述和其他目的。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，并不构成对本申请的限定。附图中的部件不是成比例绘制的，而只是为了示出本申请的原理。为了便于示出和描述本申请的一些部分，附图中对应部分可能被放大，即，相对于依据本申请实际制造的示例性装置中的其它部件可能变得更大。在附图中：图1为本申请一实施例中的势变谱构造方法的总流程示意图。图2为本申请一实施例中的势变谱构造方法的具体流程示意图。图3为本申请另一实施例中的网络流异常行为识别方法的总流程示意图。图4为本申请另一实施例中的势变谱构造装置的结构示意图。图5为本申请应用实例提供的网络流势变谱构造模块的结构图。图6为本申请应用实例提供的基底筛选过程示意图。图7为本申请应用实例提供的模糊神经网络示意图。具体实施方式为使本申请的目的、技术方案和优点更加清楚明白，下面结合实施方式和附图，对本申请做进一步详细说明。在此，本申请的示意性实施方式及其说明用于解释本申请，但并不作为对本申请的限定。在此，还需要说明的是，为了避免因不必要的细节而模糊了本申请，在附图中仅仅示出了与根据本申请的方案密切相关的结构和/或处理步骤，而省略了与本申请关系不大的其他细节。应该强调，术语“包括/包含”在本文使用时指特征、要素、步骤或组件的存在，但并不排除一个或更多个其它特征、要素、步骤或组件的存在或附加。在此，还需要说明的是，如果没有特殊说明，术语“连接”在本文不仅可以指直接连接，也可以表示存在中间物的间接连接。在下文中，将参考附图描述本申请的实施例。在附图中，相同的附图标记代表相同或类似的部件，或者相同或类似的步骤。由于现有的恶意网络流识别方法存在两个主要问题：手工提取的流量特征信息损失较大。特别是针对业务的频域特征无法有效地表示业务的各种数据包，且特征冗余度较高。高信息损失的频域特征分析使检测精度低，高特征冗余难以保证高吞吐量的网络流检测。业务描述不可解释，传统机器学习算法的可视化图像与模型的分类机制之间存在矛盾，因此在对解释性要求较高的场景下难以推广应用。因此，申请的目的是为了解决以上描述的问题而提出的。针对问题，本申请采用基于超完备原子库对网络流进行稀疏表示，一般来说网络流的大部分数据都不会为最终的分类结果产生影响，如果分析这些无用的信息，反而易干扰正确的分类结果，因此本申请采用超完备原子库自动学习网络流行为以得到精确且简练的网络流表达。针对问题，以更少的特征针对经稀疏表达后的网络流进行重新表达，使得针对不同业务类型的网络流能够具有更清晰的可解释性，即更少的信息具有更强的决策性，因此本申请采用模糊神经网络生成新的空间并搜索超完备原子库中的原子，这些被搜索出来的原子被称为基底，以供后续势变谱的生成。另外，为了进行可视化展示，本申请同时采用势变谱将网络流以直观、可视化的形式展现出来，可以较为明显的查看恶意流量和良性流量在谱图上的差异，进而能够有效提高恶意网络流识别的效率、便捷性、准确性及可靠性。针对上述需求可以采用“势变谱”的流谱表达形式，进而直接推导出“威胁谱”，可以根据该方式达到显著提升网络威胁发现效率和能力的效果。势变谱为本申请首次提出的概念，结合超完备原子库构建理论、基底矩阵搜索和构建理论，根据网络流特征矩阵的性质和特点，能够将网络流映射到势变域上，进而构建势变谱。在本申请的一个或多个实施例中，势变谱的任务目的是检测网络流异常行为。网络空间中的势变是行为变化趋势，势域是由势变产生的表征域，网络流映射表征集合称为势变谱，构成势变谱的基称为势变基底。搭建超完备原子库构造势变基底，原子库中的元素被称为原子。通过搜索算法构造超完备原子库的稀疏解，稀疏解的原子集合被称为势变基底。在本申请的一个或多个实施例中，超完备原子库也可以称之为过完备原子库；是指：使用超完备的冗余函数字典作为基函数，字典的选择尽可能地符合被逼近信号的结构，字典中的元素被称为原子。利用贪婪算法或者自适应追踪算法，从字典中找到具有最佳线性组合的很少的几项原子来表示一个信号，也称作高度非线性逼近。构建超完备原子库与基底选择本质上属于网络流分解和表示的过程。按照与待表示网络流结构相关性从强到弱的顺序，从超完备原子库中筛选出一组基底，这组基底以及它们对应的系数按照某种方式组合成新的网络流，从而替代原始待表达网络流。在本申请的一个或多个实施例中，模糊神经网络是指：模糊神经网络FNN是一种将模糊推理系统和神经网络有机结合，功能上与模糊推理系统完全等价的自适应网络，具有强大的学习和推理能力。它已经在非线性系统辨识、控制、故障诊断等领域得到了广泛应用。在本技术方案中用于输出模糊规则的集合，从而确定基底前的系数，根据系数再从超完备原子库中搜索出对应的基底以构成网络流的稀疏表达。基于此，本申请实施例提供一种势变谱构造方法，参见图1，所述势变谱构造方法具体包含有如下内容：步骤100：构建用于对目标网络流数据进行稀疏表达的超完备原子库。在步骤100中，使用超完备原子库求解势变谱时，原子只有与网络流的内在结构接近，才能获得网络流的稀疏表征，因此超完备原子库的构造对网络流的稀疏表征非常关键。步骤200：根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底。可以理解的是，基底筛选规则是指预先设置的用于对超完备原子库进行原子筛选的规则，具体可以根据实际应用情形预先构建。而为了进一步提高本申请的势变谱构造方法的自动化程度及智能化程度，在一种更为优选的方式中，可以采用自动生成基底筛选规则的方式来替代人为预先设置的方式，例如可以采用自动生成基地前的系数，并将该基底前的系数作为目标系数确认为基底筛选规则，具体在下述实施例中再详细说明。步骤300：基于所述基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，其中，所述势变谱为所述目标网络流数据的网络流映射表征集合。可以理解的是，网络空间中的势变是行为变化趋势，势域是由势变产生的表征域，网络流映射表征集合称为势变谱，构成势变谱的基称为势变基底。从上述描述可知，本申请实施例提供的势变谱构造方法，通过构建用于对目标网络流数据进行稀疏表达的超完备原子库，能够实现对网络流的稀疏表示，能够有效避免分析无用信息对正确的分类结果的干扰，能够采用超完备原子库自动学习网络流行为以得到精确且简练的网络流表达，能够有效提高构造的用于识别所述目标网络流数据对应的网络流异常行为的势变谱的有效性及可靠性，进而能够有效提高采用该势变谱进行网络流异常行为的准确性及可靠性；通过根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底，能够实现以更少的特征针对经稀疏表达后的网络流进行重新表达，使得针对不同业务类型的网络流能够具有更清晰的可解释性，即更少的信息具有更强的决策性，在对解释性要求较高的场景下也能够有效推广应用；通过生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，能够将网络流以直观、可视化的形式展现出来，可以较为明显的查看恶意流量和良性流量在谱图上的差异；本申请将原域空间的复杂网络流特征变换到流谱空间上，从而以直观的方式可视化异常流和正常流的区别。稀疏表达后的网络流更具有可解释性，进而能够有效提高恶意网络流识别的效率、便捷性、准确性及可靠性。为了进一步提高生成的势变谱的有效性及可靠性，在本申请实施例提供的一种势变谱构造方法中，参见图2，所述势变谱构造方法中的步骤200之前还具体包含有如下内容：步骤010：采用模糊神经网络输出的模糊规则集合确定作为基底筛选规则的目标系数。相对应的，所述势变谱构造方法中的步骤300还具体包含有如下内容：步骤310：基于所述基底和所述目标系数生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱。可以理解的是，模糊神经网络主要包含模型的输入、隐藏层和模型的输出三部分。模型的输入为原始的网络流数据集x＝，其中x1,x2,...,xk为每条网络流的特征。隐藏层中包含两层。第一层通过模糊聚类得到系数{a1,a2,...,ak}，第二层计算原子的值,通过聚类中心获取原子的聚类中心，并通过g函数来得到原子的值。模型的输出可以通过一系列的规则来进行表述，则图7中的yk即为要求得的势变谱。生成基函数g并采用多目标空间搜索算法对模糊神经网络进行结构优化和参数优化，选择性能最好的N个神经元或模糊神经元，检查是否满足终止条件。保留当前N个最好神经元作为下一层输入变量，最终输出多项式模糊算法的结果，即为一系列模糊规则的集合。从上述描述可知，本申请实施例提供的势变谱构造方法，通过引入用于构建基底的目标系数，采用模糊神经网络生成该目标系数，并基于该目标系数和基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，能够进一步提高生成的势变谱的有效性及可靠性，以将网络流以直观、可视化的形式展现出来，可以较为明显的查看恶意流量和良性流量在谱图上的差异。为了进一步提高基底生成的效率、可靠性及自动化程度，在本申请实施例提供的一种势变谱构造方法中，参见图2，所述势变谱构造方法中的步骤200还具体包含有如下内容：步骤210：应用多目标空间搜索算法，基于所述目标系数自所述超完备原子库中选取对应的原子以构成基底。可以理解的是，采用多目标空间搜索算法对模糊神经网络进行优化，即引入一种空间搜索机制，用于更新当前解决方案并构造局部空间搜索算子。空间搜索的作用是从旧的解决方案中产生新的解决方案。该搜索方法基于局部搜索算子，实现了两个通用步骤：基于一个选定的解生成新的子空间和实现对新空间的搜索。在这个新空间中完成的搜索是通过在这个空间中生成一个新的解来随机实现的。解决方案表示为一个向量，该向量包含模糊化系数、模糊规则的数量以及每个模糊规则的结果部分中的基底类型。至此搜索得到了模糊神经网络中所需要的参数。从上述描述可知，本申请实施例提供的势变谱构造方法，通过采用多目标空间搜索算法自所述超完备原子库中选取对应的原子以构成基底，采用多目标空间搜索算法对模糊神经网络进行优化，即引入一种空间搜索机制，用于更新当前解决方案并构造局部空间搜索算子。空间搜索的作用是从旧的解决方案中产生新的解决方案，能够有效提高基底生成的效率、可靠性及自动化程度。为了进一步提高基底生成的便捷性、可靠性及自动化程度，在本申请实施例提供的一种势变谱构造方法中，参见图2，所述势变谱构造方法中的步骤200还具体包含有如下内容：步骤220：若经判断获知所述超完备原子库当前满足预设的追踪限制条件，则应用匹配追踪算法，基于所述目标系数自所述超完备原子库中选取对应的原子以构成基底。从上述描述可知，本申请实施例提供的势变谱构造方法，通过采用匹配追踪算法自所述超完备原子库中选取对应的原子以构成基底，能够有效提高基底生成的便捷性、可靠性及自动化程度，需要注意的是，当过完备原子库中的所有原子不相干或者即使相干，其相干系数足够小时，则此时所有的原子之间几乎是正交的。因此需要注意此类匹配追踪算法对过完备原子库的相关系数和参与稀疏表达的原子个数之间存在一定的限制条件。为了进一步提高超完备原子库的构建效率，在本申请实施例提供的一种势变谱构造方法中，参见图2，所述势变谱构造方法中的步骤100具体可以包含有如下内容：步骤110：采用预定义的分析原子构建用于对目标网络流数据进行稀疏表达的超完备原子库。可以理解的是，常用的预定义分析原子有Heaviside原子、Gabor原子、Dirac原子、Fourier原子和小波原子等。从上述描述可知，本申请实施例提供的势变谱构造方法，通过采用常用的预定义分析原子有Heaviside原子、Gabor原子、Dirac原子、Fourier原子和小波原子等中的任意一个对目标网络流数据进行稀疏表达，能够有效提高超完备原子库的构建效率。为了提高超完备原子库的构建过程的智能化程度、准确性应用及可靠性，在本申请实施例提供的一种势变谱构造方法中，参见图2，所述势变谱构造方法中的步骤100还可以具体包含有如下内容：步骤120：采用各个预定义的分析原子组成对应的并行多原子结构。步骤130：基于所述并行多原子结构，针对目标网络流数据进行原子学习以构建用于对目标网络流数据进行稀疏表达的超完备原子库。可以理解的是，组合这些分析原子得到并行多原子。原子学习指的是在新的训练数据集的基础上采用奇异值分解字典学习算法得到新的原子表示，构成超完备原子库。具体可以使用并行多原子结构来学习原子以构建超完备原子库。多原子的设计相较于同等尺寸的单原子包含了更多的网络流特征原子列，更重要的是应用分布式集成学习思想大大加速了原子学习速度。多原子结构的设计思路即定义原子序列号t＝1，原子学习迭代次数k＝0，训练集矩阵T等输入参数。将网络流集中的数据分为P类，则对应的训练集分为P份子数据集T＝。对于任意类的网络流x∈Tp，其可由构成稀疏网络流的原子集合G及基底系数集合a＝{aj；j＝1,2,...,K}表示，如果系数集中只有少数为非零元素，则称集合a为网络流x在原子G上的稀疏表示。当非零系数的个数达到最小时，称其为网络流的一个最优稀疏表示。利用L0范数求解，则上述网络流的最优稀疏表示可以等价为下式的优化问题：其中原子G中的基底是以向量形式排列的矩阵，矩阵的每一列为一个原子，L0范数||a||0定义为系数向量a中的非零元素的个数。假如原子G中只有k个原子用于稀疏网络流的表示，上式又可以转化为：x＝Ga s.t.||a||0≤k上式被称为k稀疏逼近问题。由于逼近的网络流与原始网络流之间存在残差，所以原始网络流表达为：x＝Ga+s其中s∈Rk表示残差，边界为||s||2≤ε。所以网络流的稀疏表示就变为：这是一个条件约束问题，根据拉格朗日乘子理论，引入合适的常数λ，可以将其转化为无条件的最小化问题：t+＝1，当t＞P时，结束迭代，完成多原子学习，输出超完备原子库集合{Ψ1,Ψ2,...,Ψp}。从上述描述可知，本申请实施例提供的势变谱构造方法，通过基于所述并行多原子结构，针对目标网络流数据进行原子学习以实现所述目标网络流数据的稀疏表达，能够有效提高超完备原子库的构建过程的智能化程度、准确性应用及可靠性。为了进一步提高网络流异常行为识别的可靠性及有效性，在前述的势变谱构造方法的各个实施例的基础上，在本申请实施例提供的一种网络流异常行为识别方法，参见图3，所述网络流异常行为识别方法具体包含有如下内容：步骤400：基于所述的势变谱构造方法得到的势变谱，生成该势变谱对应的网络流威胁数据。步骤500：输出所述网络流威胁数据以基于该网络流威胁数据进行网络流异常行为识别。从上述描述可知，本申请实施例提供的网络流异常行为识别方法，通过构建用于对目标网络流数据进行稀疏表达的超完备原子库，能够实现对网络流的稀疏表示，能够有效避免分析无用信息对正确的分类结果的干扰，能够采用超完备原子库自动学习网络流行为以得到精确且简练的网络流表达，能够有效提高构造的用于识别所述目标网络流数据对应的网络流异常行为的势变谱的有效性及可靠性，进而能够有效提高采用该势变谱进行网络流异常行为的准确性及可靠性；通过根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底，能够实现以更少的特征针对经稀疏表达后的网络流进行重新表达，使得针对不同业务类型的网络流能够具有更清晰的可解释性，即更少的信息具有更强的决策性，在对解释性要求较高的场景下也能够有效推广应用；通过生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，能够将网络流以直观、可视化的形式展现出来，可以较为明显的查看恶意流量和良性流量在谱图上的差异，进而能够有效提高恶意网络流识别的效率、便捷性、准确性及可靠性。从软件层面来说，本申请还提供一种用于执行所述势变谱构造方法中全部或部分内的势变谱构造装置，参见图4，所述势变谱构造装置具体包含有如下内容：原子库构建模块10，用于构建用于对目标网络流数据进行稀疏表达的超完备原子库。基底筛选模块20，用于根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底。势变谱生成模块30，用于基于所述基底生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，其中，所述势变谱为所述目标网络流数据的网络流映射表征集合。本申请提供的势变谱构造装置的实施例具体可以用于执行上述实施例中的势变谱构造方法的实施例的处理流程，其功能在此不再赘述，可以参照上述势变谱构造方法实施例的详细描述。所述势变谱构造装置进行势变谱构造的部分可以在服务器中执行，而在另一种实际应用情形中，也可以所有的操作都在客户端设备中完成。具体可以根据所述客户端设备的处理能力，以及用户使用场景的限制等进行选择。本申请对此不作限定。若所有的操作都在所述客户端设备中完成，所述客户端设备还可以包括处理器，用于势变谱构造的具体处理。上述的客户端设备可以具有通信模块，可以与远程的服务器进行通信连接，实现与所述服务器的数据传输。所述服务器可以包括任务调度中心一侧的服务器，其他的实施场景中也可以包括中间平台的服务器，例如与任务调度中心服务器有通信链接的第三方服务器平台的服务器。所述的服务器可以包括单台计算机设备，也可以包括多个服务器组成的服务器集群，或者分布式装置的服务器结构。上述服务器与所述客户端设备端之间可以使用任何合适的网络协议进行通信，包括在本申请提交日尚未开发出的网络协议。所述网络协议例如可以包括TCP/IP协议、UDP/IP协议、HTTP协议、HTTPS协议等。当然，所述网络协议例如还可以包括在上述协议之上使用的RPC协议、REST协议等。从上述描述可知，本申请实施例提供的势变谱构造装置，通过构建用于对目标网络流数据进行稀疏表达的超完备原子库，能够实现对网络流的稀疏表示，能够有效避免分析无用信息对正确的分类结果的干扰，能够采用超完备原子库自动学习网络流行为以得到精确且简练的网络流表达，能够有效提高构造的用于识别所述目标网络流数据对应的网络流异常行为的势变谱的有效性及可靠性，进而能够有效提高采用该势变谱进行网络流异常行为的准确性及可靠性；通过根据预设的基底筛选规则自所述超完备原子库中选取对应的原子以构成基底，能够实现以更少的特征针对经稀疏表达后的网络流进行重新表达，使得针对不同业务类型的网络流能够具有更清晰的可解释性，即更少的信息具有更强的决策性，在对解释性要求较高的场景下也能够有效推广应用；通过生成用于识别所述目标网络流数据对应的网络流异常行为的势变谱，能够将网络流以直观、可视化的形式展现出来，可以较为明显的查看恶意流量和良性流量在谱图上的差异，进而能够有效提高恶意网络流识别的效率、便捷性、准确性及可靠性。从软件层面来说，本申请还提供一种用于执行所述网络流异常行为识别方法中全部或部分内的网络流异常行为识别装置，所述网络流异常行为识别装置可以与所述势变谱构造装置集成或相互独立设置，若二者相互独立，则所述势变谱构造装置在生成势变谱之后可以自行或通过第三方服务器将该势变谱发送至所述网络流异常行为识别装置进行应用，所述网络流异常行为识别装置具体用于执行前述实施例提及的网络流异常行为识别方法中的步骤。本申请提供的网络流异常行为识别装置的实施例具体可以用于执行上述实施例中的网络流异常行为识别方法的实施例的处理流程，其功能在此不再赘述，可以参照上述网络流异常行为识别方法实施例的详细描述。为了进一步说明本方案，本申请还提供一种势变谱构造方法的具体应用实例，所述势变谱构造方法整体包含有如下内容：基本原理为实现基于网络流势变谱的构建，进而准确检测、识别恶意网络流，可以采用基于超完备原子库的网络流势变谱构造模块，该网络流势变谱构造模块的结构图如图5所示。网络流的稀疏表示属于线性时频表示，其分解集是超完备原子库。基底筛选过程示意图如图6所示，首先分析原始网络流的特征，然后根据该原始网络流的特征在超完备原子库中选择对应的原子，经过筛选后得到的基底，该基底如图6中的正方体的中心大方格内的各个筛孔，而后网络流经过筛选得到的基底重新进行稀疏表示后，构成如图6中最下层所示的谱线。使用超完备原子库求解势变谱时，原子只有与网络流的内在结构接近，才能获得网络流的稀疏表征，因此超完备原子库的构造对网络流的稀疏表征非常关键。超完备原子构造方法包括预定义的分析原子和原子学习算法。基于构建完成的超完备原子库，采用模糊算法构造搜索目标空间并确定最终的势变谱，由多目标空间搜索算法辅助优化模糊算法。具体技术方案本应用实例提供的势变谱构造方法主要分为三部分：S0：获取预定义的分析原子；S1：第一次稀疏表达：采用预定义的分析原子针对原始网络流数据进行稀疏表达，以得到对应的第一超完备原子库；两种方式：其一采用分析原子直接对原始数据进行稀疏表达，第一超完备原子库；其二为：采用各个分析原子得到并行多原子结构，然后采用该多原子结构对原始数据对应的训练集进行稀疏表达，以得到第一超完备原子库。S2：采用模糊神经网络输出的模糊规则集合，确定基底前的系数，即图7中的a1,a2,...,ak。根据基底前的系数从第一超完备原子库中的基底系数筛选出对应的基底以构成网络流的新的稀疏表达，即形成第二超完备原子库。S3：势变谱表达：由多目标空间搜索算法根据基底前的系数从超完备原子库中找到对应的原子，以构成势变谱的基底，而后根据该基底和系数S确定最终的势变谱，即为图7中的yk。在S3中，从过完备原子库中搜索基底得到以构造网络流的系数表达的过还程可以用匹配追踪算法进行替代。当过完备原子库中的所有原子不相干或者即使相干，其相干系数足够小时，则此时所有的原子之间几乎是正交的。需要注意此类方法对过完备原子库的相关系数和参与稀疏表达的原子个数之间存在一定的限制条件。可以理解的是，模糊神经网络把基底前的系数确定下来，多目标空间搜索算法根据系数从超完备原子库中找到对应的原子，这些挑选出来的原子就是势变谱的基底，基底和前面的系数构成势变谱。其中，上述的步骤S1至S3的详细说明如下：①超完备原子库构建：包含预定义分析原子和原子学习两种方式。常用的预定义分析原子有Heaviside原子、Gabor原子、Dirac原子、Fourier原子和小波原子等，还可以组合这些分析原子得到并行多原子。原子学习指的是在新的训练数据集的基础上采用奇异值分解字典学习算法得到新的原子表示，构成超完备原子库。具体可以使用并行多原子结构来学习原子以构建超完备原子库。多原子的设计相较于同等尺寸的单原子包含了更多的网络流特征原子列，更重要的是应用分布式集成学习思想大大加速了原子学习速度。多原子结构的设计思路即定义原子序列号t＝1，原子学习迭代次数k＝0，训练集矩阵T等输入参数。将网络流集中的数据分为P类，则对应的训练集分为P份子数据集T＝。对于任意类的网络流x∈Tp，其可由构成稀疏网络流的原子集合G及基底系数集合a＝{aj；j＝1,2,...,K}表示，如果系数集中只有少数为非零元素，则称集合a为网络流x在原子G上的稀疏表示。当非零系数的个数达到最小时，称其为网络流的一个最优稀疏表示。利用L0范数求解，则上述网络流的最优稀疏表示可以等价为下式的优化问题：其中原子G中的基底是以向量形式排列的矩阵，矩阵的每一列为一个原子，L0范数||a||0定义为系数向量a中的非零元素的个数。假如原子G中只有k个原子用于稀疏网络流的表示，上式又可以转化为：x＝Ga s.t.||a||0≤k上式被称为k稀疏逼近问题。由于逼近的网络流与原始网络流之间存在残差，所以原始网络流表达为：x＝Ga+s其中s∈Rk表示残差，边界为||s||2≤ε。所以网络流的稀疏表示就变为：这是一个条件约束问题，根据拉格朗日乘子理论，引入合适的常数λ，可以将其转化为无条件的最小化问题：t+＝1，当t＞P时，结束迭代，完成多原子学习，输出超完备原子库集合{Ψ1,Ψ2,...,Ψp}。②模糊神经网络辅助势变搜索：拟采用多目标空间搜索算法对模糊神经网络进行优化，即引入一种空间搜索机制，用于更新当前解决方案并构造局部空间搜索算子。空间搜索的作用是从旧的解决方案中产生新的解决方案。该搜索方法基于局部搜索算子，实现了两个通用步骤：基于一个选定的解生成新的子空间和实现对新空间的搜索。在这个新空间中完成的搜索是通过在这个空间中生成一个新的解来随机实现的。解决方案表示为一个向量，该向量包含模糊化系数、模糊规则的数量以及每个模糊规则的结果部分中的基底类型。至此搜索得到了模糊神经网络中所需要的参数。③势变谱目标空间重构：模糊神经网络主要包含模型的输入、隐藏层和模型的输出三部分。模型的输入为原始的网络流数据集x＝，其中x1,x2,...,xk为每条网络流的特征。隐藏层中包含两层。第一层通过模糊聚类得到系数{a1,a2,...,ak}，第二层计算原子的值,通过聚类中心获取原子的聚类中心，并通过g函数来得到原子的值。模型的输出可以通过一系列的规则来进行表述，则图7中的yk即为要求得的势变谱。生成基函数g并采用多目标空间搜索算法对模糊神经网络进行结构优化和参数优化，选择性能最好的N个神经元或模糊神经元，检查是否满足终止条件。保留当前N个最好神经元作为下一层输入变量，最终输出多项式模糊算法的结果，即为一系列模糊规则的集合。综上，本申请应用实例提供的上述方法，1.提出势变谱的概念，将网络流以可视化的方式使网络空间被看见、被理解，能够发现新现象合网络行为；2.采用多原子并行或基于学习的方法得到过完备字典以稀疏表达网络流，提高网络流的可解释性；3.利用模糊神经网络确定过完备字典中基底前的系数以及势变谱的表达式，利用多目标搜索算法辅助得到模糊神经网络中的参数。基于此，本申请应用实例具有如下有益效果：1、基于势变谱的方法：基于变换域的思想，采取模糊神经网络、多目标空间搜索等算法，基于尺度拉伸、位移中心、频率变换、相位变化等构建超完备原子库完成网络流的系数表达，将原域空间的复杂网络流特征变换到流谱空间上，从而以直观的方式可视化异常流和正常流的区别。稀疏表达后的网络流更具有可解释性。2、由于基于Whisper最主要的缺点是频谱变换时仅采用了离散傅里叶变换算法，对不同业务类型的网络流不一定具备普适性。而相较于Whisper的方法，本申请应用实例中采用了超完备原子库，包含Heaviside原子、Gabor原子、Dirac原子、Fourier原子和小波原子等多种类型的原子，因此在重塑网络流时能够具备较好的普适性，重塑的网络流精确且简练，从而高效准确的完成恶意流量分类任务。本申请实施例还提供了一种计算机设备，该计算机设备可以包括处理器、存储器、接收器及发送器，处理器用于执行上述实施例提及的势变谱构造方法或网络流异常行为识别方法，其中处理器和存储器可以通过总线或者其他方式连接，以通过总线连接为例。该接收器可通过有线或无线方式与处理器、存储器连接。所述计算机设备与势变谱构造装置或网络流异常行为识别装置之间通信连接。处理器可以为中央处理器。处理器还可以为其他通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等芯片，或者上述各类芯片的组合。存储器作为一种非暂态计算机可读存储介质，可用于存储非暂态软件程序、非暂态计算机可执行程序以及模块，如本申请实施例中的势变谱构造方法对应的程序指令/模块。处理器通过运行存储在存储器中的非暂态软件程序、指令以及模块，从而执行处理器的各种功能应用以及数据处理，即实现上述方法实施例中的势变谱构造方法或网络流异常行为识别方法。存储器可以包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需要的应用程序；存储数据区可存储处理器所创建的数据等。此外，存储器可以包括高速随机存取存储器，还可以包括非暂态存储器，例如至少一个磁盘存储器件、闪存器件、或其他非暂态固态存储器件。在一些实施例中，存储器可选包括相对于处理器远程设置的存储器，这些远程存储器可以通过网络连接至处理器。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。所述一个或者多个模块存储在所述存储器中，当被所述处理器执行时，执行实施例中的势变谱构造方法或网络流异常行为识别方法。在本申请的一些实施例中，用户设备可以包括处理器、存储器和收发单元，该收发单元可包括接收器和发送器，处理器、存储器、接收器和发送器可通过总线系统连接，存储器用于存储计算机指令，处理器用于执行存储器中存储的计算机指令，以控制收发单元收发信号。作为一种实现方式，本申请中接收器和发送器的功能可以考虑通过收发电路或者收发的专用芯片来实现，处理器可以考虑通过专用处理芯片、处理电路或通用芯片实现。作为另一种实现方式，可以考虑使用通用计算机的方式来实现本申请实施例提供的服务器。即将实现处理器，接收器和发送器功能的程序代码存储在存储器中，通用处理器通过执行存储器中的代码来实现处理器，接收器和发送器的功能。本申请实施例还提供一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时以实现前述势变谱构造方法或网络流异常行为识别方法的步骤。该计算机可读存储介质可以是有形存储介质，诸如随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、软盘、硬盘、可移动存储盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质。本领域普通技术人员应该可以明白，结合本文中所公开的实施方式描述的各示例性的组成部分、系统和方法，能够以硬件、软件或者二者的结合来实现。具体究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本申请的范围。当以硬件方式实现时，其可以例如是电子电路、专用集成电路、适当的固件、插件、功能卡等等。当以软件方式实现时，本申请的元素是被用于执行所需任务的程序或者代码段。程序或者代码段可以存储在机器可读介质中，或者通过载波中携带的数据信号在传输介质或者通信链路上传送。需要明确的是，本申请并不局限于上文所描述并在图中示出的特定配置和处理。为了简明起见，这里省略了对已知方法的详细描述。在上述实施例中，描述和示出了若干具体的步骤作为示例。但是，本申请的方法过程并不限于所描述和示出的具体步骤，本领域的技术人员可以在领会本申请的精神后，作出各种改变、修改和添加，或者改变步骤之间的顺序。本申请中，针对一个实施方式描述和/或例示的特征，可以在一个或更多个其它实施方式中以相同方式或以类似方式使用，和/或与其他实施方式的特征相结合或代替其他实施方式的特征。以上所述仅为本申请的优选实施例，并不用于限制本申请，对于本领域的技术人员来说，本申请实施例可以有各种更改和变化。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
