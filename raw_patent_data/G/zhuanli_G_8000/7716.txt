标题title
用于电流传感器的脉冲电流保护电路及方法、电流传感器
摘要abst
本发明实施例公开了一种用于电流传感器的脉冲电流保护电路，感应线圈用于感应电流传感器的待测电流，所述电路包括：两个TVS管，分别并联于感应线圈两端，以使待测电流产生脉冲电流时，感应线圈感应出的电流经过回路电阻产生的电压U小于回路中元器件的耐压UDS，所述回路表示电流传感器的传感器驱动电路和感应线圈，U＝IC/n*R，IC表示脉冲电流，n表示感应线圈的初级线圈和次级线圈的匝数比，R表示回路电阻，U表示回路电阻上产生的电压。本发明实施例公开了一种用于电流传感器的脉冲电流保护方法以及一种电流传感器。本发明通过在回路里增加两个TVS管来保护回路，使得发生脉冲电流后，电流传感器仍然能正常工作。
权利要求书clms
1.一种用于电流传感器的脉冲电流保护电路，其特征在于，感应线圈用于感应电流传感器的待测电流，所述电路包括：两个TVS管，所述两个TVS管分别并联于所述感应线圈两端，以使所述待测电流产生脉冲电流时，所述感应线圈感应出的电流经过回路电阻产生的电压U小于回路中元器件的耐压UDS，所述回路表示电流传感器的传感器驱动电路和所述感应线圈，其中，回路电阻产生的电压U＝IC/n*R，IC表示脉冲电流，n表示所述感应线圈的初级线圈和次级线圈的匝数比，R表示回路电阻，U表示回路电阻上产生的电压。2.如权利要求1所述的电路，其中，所述传感器驱动电路包括多个MOS管组成的H桥电路，MCU控制各个MOS管的开启和关闭，以输出方波式的激励信号使所述H桥电路工作，传输所述感应线圈感应到的电流。3.如权利要求1所述的电路，其中，TVS管的峰值防护电压UP＝IPP*RL-VC，其中，VC表示TVS管的最大钳位电压，IPP表示TVS管的脉冲峰值电流，RL表示所述感应线圈的内阻。4.如权利要求3所述的电路，其中，回路电阻产生的电压U小于TVS管的峰值防护电压UP，以使脉冲电流经过后所述电流传感器可以正常工作。5.一种用于电流传感器的脉冲电流保护方法，其特征在于，感应线圈用于感应电流传感器的待测电流，所述方法包括：在感应线圈的两端分别并联两个TVS管，以使所述待测电流产生脉冲电流时，所述感应线圈感应出的电流经过回路电阻产生的电压小于或等于回路中元器件的耐压，所述回路表示电流传感器的传感器驱动电路和所述感应线圈，其中，回路电阻产生的电压U＝IC/n*R，IC表示脉冲电流，n表示所述感应线圈的初级线圈和次级线圈的匝数比，R表示回路电阻，U表示回路电阻上产生的电压。6.如权利要求5所述的方法，其中，所述传感器驱动电路包括多个MOS管组成的H桥电路，MCU控制各个MOS管的开启和关闭，以输出方波式的激励信号使所述H桥电路工作，传输所述感应线圈感应到的电流。7.如权利要求5所述的方法，其中，TVS管的峰值防护电压UP＝IPP*RL-VC，其中，VC表示TVS管的最大钳位电压，IPP表示TVS管的脉冲峰值电流，RL表示所述感应线圈的内阻。8.如权利要求7所述的方法，其中，回路电阻产生的电压U小于TVS管的峰值防护电压UP，以使脉冲电流经过后所述电流传感器可以正常工作。9.一种电流传感器，其特征在于，所述传感器采用如权利要求1-4中任意一项所述的电路。10.如权利要求9所述的传感器，其特征在于，所述传感器还包括：电源输入电路、CAN通信电路、MCU、输入电源检测电路、温度检测电路、传感器驱动电路和电流放大电路；所述电源输入电路连接所述MCU，所述CAN通信电路与所述MCU双向通信连接，所述输入电源检测电路连接所述MCU，所述感应线圈感应出的电流通过所述传感器驱动电路输出至所述电流放大电路，所述电流放大电路连接所述MCU，所述温度检测电路连接所述MCU。
说明书desc
技术领域本发明涉及电流传感器技术领域，具体而言，涉及一种用于电流传感器的脉冲电流保护电路及方法。背景技术相关技术中，如图1所示，在采用感应线圈对电流传感器进行测量时，待测电流穿过感应线圈，感应线圈的次级线圈感应出电流，电流经过回路流过电阻产生电压，产生出的电压经过放大器放大后输入MCU做数据处理。在这个过程中，当待测电流产生脉冲电流，感应线圈感应出电流经过回路电阻产生的电压会大于回路中元器件的耐压，使电流传感器发生不可逆转的损坏。发明内容为解决上述问题，本发明的目的在于提供一种用于电流传感器的脉冲电流保护电路及方法、电流传感器，通过在回路里增加两个TVS管来保护回路，使得发生脉冲电流后，电流传感器仍然能正常工作。本发明实施例提供了一种用于电流传感器的脉冲电流保护电路，感应线圈用于感应电流传感器的待测电流，所述电路包括：两个TVS管，所述两个TVS管分别并联于所述感应线圈两端，以使所述待测电流产生脉冲电流时，所述感应线圈感应出的电流经过回路电阻产生的电压U小于回路中元器件的耐压UDS，所述回路表示电流传感器的传感器驱动电路和所述感应线圈，其中，回路电阻产生的电压U＝IC/n*R，IC表示脉冲电流，n表示所述感应线圈的初级线圈和次级线圈的匝数比，R表示回路电阻，U表示回路电阻上产生的电压。作为本发明进一步的改进，所述传感器驱动电路包括多个MOS管组成的H桥电路，MCU控制各个MOS管的开启和关闭，以输出方波式的激励信号使所述H桥电路工作，传输所述感应线圈感应到的电流。作为本发明进一步的改进，TVS管的峰值防护电压UP＝IPP*RL-VC，其中，VC表示TVS管的最大钳位电压，IPP表示TVS管的脉冲峰值电流，RL表示所述感应线圈的内阻。作为本发明进一步的改进，回路电阻产生的电压U小于TVS管的峰值防护电压UP，以使脉冲电流经过后所述电流传感器可以正常工作。本发明实施例还提供了一种用于电流传感器的脉冲电流保护方法，感应线圈用于感应电流传感器的待测电流，所述方法包括：在感应线圈的两端并联两个TVS管，以使所述待测电流产生脉冲电流时，所述感应线圈感应出的电流经过回路电阻产生的电压小于或等于回路中元器件的耐压，所述回路表示电流传感器的传感器驱动电路和所述感应线圈，其中，回路电阻产生的电压U＝IC/n*R，IC表示脉冲电流，n表示所述感应线圈的初级线圈和次级线圈的匝数比，R表示回路电阻，U表示回路电阻上产生的电压。作为本发明进一步的改进，所述传感器驱动电路包括多个MOS管组成的H桥电路，MCU控制各个MOS管的开启和关闭，以输出方波式的激励信号使所述H桥电路工作，传输所述感应线圈感应到的电流。作为本发明进一步的改进，TVS管的峰值防护电压UP＝IPP*RL-VC，其中，VC表示TVS管的最大钳位电压，IPP表示TVS管的脉冲峰值电流，RL表示所述感应线圈的内阻。作为本发明进一步的改进，回路电阻产生的电压U小于TVS管的峰值防护电压UP，以使脉冲电流经过后所述电流传感器可以正常工作。本发明实施例还提供了一种电流传感器，所述传感器采用所述的电路。作为本发明进一步的改进，所述传感器还包括：电源输入电路、CAN通信电路、MCU、输入电源检测电路、温度检测电路、传感器驱动电路和电流放大电路；所述电源输入电路连接所述MCU，所述CAN通信电路与所述MCU双向通信连接，所述输入电源检测电路连接所述MCU，所述感应线圈感应出的电流通过所述传感器驱动电路输出至所述电流放大电路，所述电流放大电路连接所述MCU，所述温度检测电路连接所述MCU。本发明的有益效果为：通过在回路里增加两个TVS管来保护回路，使得发生脉冲电流后，电流传感器仍然能正常工作。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍。显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明一示例性实施例所述的感应线圈感应待测电流的示意图；图2为本发明一示例性实施例所述的电流传感器中元器件的连接关系和信号走向的示意图；图3为本发明一示例性实施例所述的传感器驱动电路的示意图；图4为图3中PCH MOS的参数示意图；图5为TVS管的参数示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明，若本发明实施例中有涉及方向性指示，则该方向性指示仅用于解释在某一特定姿态下各部件之间的相对位置关系、运动情况等，如果该特定姿态发生改变时，则该方向性指示也相应地随之改变。另外，在本发明的描述中，所用术语仅用于说明目的，并非旨在限制本发明的范围。术语“包括”和/或“包含”用于指定所述元件、步骤、操作和/或组件的存在，但并不排除存在或添加一个或多个其他元件、步骤、操作和/或组件的情况。术语“第一”、“第二”等可能用于描述各种元件，不代表顺序，且不对这些元件起限定作用。此外，在本发明的描述中，除非另有说明，“多个”的含义是两个及两个以上。这些术语仅用于区分一个元素和另一个元素。结合以下附图，这些和/或其他方面变得显而易见，并且，本领域普通技术人员更容易理解关于本发明所述实施例的说明。附图仅出于说明的目的用来描绘本发明所述实施例。本领域技术人员将很容易地从以下说明中认识到，在不背离本发明所述原理的情况下，可以采用本发明所示结构和方法的替代实施例。本发明实施例所述的一种用于电流传感器的脉冲电流保护电路，感应线圈用于感应电流传感器的待测电流，所述电路包括：两个TVS管，所述两个TVS管分别并联于所述感应线圈两端，以使所述待测电流产生脉冲电流时，所述感应线圈感应出的电流经过回路电阻产生的电压U小于回路中元器件的耐压UDS，所述回路表示电流传感器的传感器驱动电路和所述感应线圈，其中，回路电阻产生的电压U＝IC/n*R，IC表示脉冲电流，n表示所述感应线圈的初级线圈和次级线圈的匝数比，R表示回路电阻，U表示回路电阻上产生的电压。如图2所示，是电流传感器的连接关系和信号走向。电流传感器包括电源输入电路、CAN通信电路、MCU、输入电源检测电路、温度检测电路、传感器驱动电路和电流放大电路。其中，电源输入电路接外部电源，提供MCU可工作的电压，CAN通信电路连接上位机与MCU，实现上位机与MCU之间的通信。输入电源检测电路的输入端是电流传感器的电源输入电压，该电路用于检测电源输入电压是否超过电流传感器工作电压。温度检测电路的输入端是由电源输入电压经过LDO稳压后的5V电压，该电路用于标定采样电流，减少因温度漂移产生的影响。传感器驱动电路用于传输感应线圈感应到的电流至电流放大电路。电流放大电路用于对感应到的电流进行放大，以输入MCU进行数据处理。在采用感应线圈对电流传感器检测电流时，检测电流会产生脉冲电流，现有的电流传感器电路对传感器驱动电路没有任何保护，该脉冲电流会通过感应线圈感应到回路中，导致传感器驱动电路因为耐压不够会发生损坏。为了防止脉冲电流将传感器驱动电路损坏，增加了脉冲电流保护电路，在感应线圈两端并联两个TVS管。TVS管是双向的，两个TVS管分别并联在感应线圈两端。通过并联两个TVS管后，对传感器驱动电路起到脉冲电流保护作用，使得电流传感器在工作时可靠性更高。其中，TVS管，即为瞬变电压抑制二极管，对电路进行快速过压保护。在规定的反向应用条件下，当承受一个高能量的瞬时过压脉冲时，其工作阻抗能立即降至很低的导通值，允许大电流通过，并将电压箝制到预定水平，从而有效地保护电子线路中的精密元器件免受损坏。上述回路是指传感器驱动电路+感应线圈，回路电阻可以理解为传感器驱动电路中的元器件的内阻+电流采样电阻+感应线圈的内阻。一种实施方式中，所述传感器驱动电路包括多个MOS管组成的H桥电路，MCU控制各个MOS管的开启和关闭，以输出方波式的激励信号使所述H桥电路工作，传输所述感应线圈感应到的电流。一种实施方式中，TVS管的峰值防护电压UP＝IPP*RL-VC，其中，VC表示TVS管的最大钳位电压，IPP表示TVS管的脉冲峰值电流，RL表示感应线圈的内阻。最大钳位电压VC：TVS管流过脉冲峰值电流IPP时两端所呈现的电压脉冲峰值电流IPP：TVS管允许通过10/1000μs波的最大峰值电流，超过这个电流值就可能造成永久性损坏。可以理解的是，两个TVS管参数相同，峰值防护电压UP的计算方式相同。一种实施方式中，回路电阻产生的电压U小于TVS管的峰值防护电压UP，以使脉冲电流经过后电流传感器可以正常工作。如图3所示，为一示例性的传感器驱动电路，H桥电路使用了四个MOS管组成，其中，Q4A和Q4B是PCH MOS，Q6A和Q6B是NCH MOS，Q4A和Q6A与感应线圈L2是串联，Q4B和Q6B与感应线圈L2也是串联。图3中，回路电阻为传感器驱动电路中PCH MOS的内阻+NCH MOS内阻+电流采样电阻+感应线圈L2的内阻。回路中元器件的耐压指PCH MOS的耐压，NCH MOS在传感器驱动电路中是H桥的低边，PCH MOS是高边，因此当电压U过大时，发生损坏的是高边的PCH MOS。MCU通过控制各个MOS管的开启关闭，输出方波式的激励信号使H桥电路工作，传输感应线圈感应到的电流。在图3示的传感器驱动电路中，L2为感应线圈，该感应线圈的初级线圈和次级线圈的匝数比为1500，内阻为9Ω。在没有增加该脉冲电流保护电路时，当脉冲电流IC＝6000A时，根据U＝IC/n*R，计算得到U＝36V。如图4所示，PCH MOS的耐压VDS最大为30V，U＞UDS，PCH MOS会损坏。为了防止脉冲电流将传感器驱动电路损坏，增加了脉冲电流保护电路，在感应线圈两端并联两个TVS管。如图5所示，TVS管的最大钳位电压VC＝29.2V，脉冲峰值电流IPP＝13.7A，线圈内阻RL＝9Ω，计算得到对应峰值防护电压为UP＝13.7*9-29.2＝94.1V。如前述图3中的L2，感应线圈的初级线圈和次级线圈的匝数比为1500，内阻为9Ω。在增加该脉冲电流保护电路时，当脉冲电流IC＝15000A时，根据U＝IC/n*R，计算得到U＝90V，U＜UP，脉冲电流过后电流传感器可以正常工作。由此可见，在没有增加脉冲电流保护电路时，IC最大等于5000A，可以保证电流传感器正常工作，而在增加脉冲电流保护电路后，IC最大等于15000A，可以保证电流传感器正常工作，增加了电流传感器的可靠性。本发明实施例所述的一种用于电流传感器的脉冲电流保护方法，感应线圈用于感应电流传感器的待测电流，所述方法包括：在感应线圈的两端分别并联两个TVS管，以使所述待测电流产生脉冲电流时，所述感应线圈感应出的电流经过回路电阻产生的电压小于或等于回路中元器件的耐压，所述回路表示电流传感器的传感器驱动电路和所述感应线圈，其中，回路电阻产生的电压U＝IC/n*R，IC表示脉冲电流，n表示所述感应线圈的初级线圈和次级线圈的匝数比，R表示回路电阻，U表示回路电阻上产生的电压。一种实施方式中，所述传感器驱动电路包括多个MOS管组成的H桥电路，MCU控制各个MOS管的开启和关闭，以输出方波式的激励信号使所述H桥电路工作，传输所述感应线圈感应到的电流。一种实施方式中，TVS管的峰值防护电压UP＝IPP*RL-VC，其中，VC表示TVS管的最大钳位电压，IPP表示TVS管的脉冲峰值电流，RL表示所述感应线圈的内阻。一种实施方式中，回路电阻产生的电压U小于TVS管的峰值防护电压UP，以使脉冲电流经过后电流传感器可以正常工作。本发明实施例所述的一种电流传感器，所述传感器采用前述实施方式中所述的电路。通过该脉冲电流保护电路可以对传感器驱动电路产生保护作用。如图2所示，所述传感器还包括：电源输入电路、CAN通信电路、MCU、输入电源检测电路、温度检测电路、传感器驱动电路和电流放大电路；所述电源输入电路连接所述MCU，所述CAN通信电路与所述MCU双向通信连接，所述输入电源检测电路连接所述MCU，所述感应线圈感应出的电流通过所述传感器驱动电路输出至所述电流放大电路，所述电流放大电路连接所述MCU，所述温度检测电路连接所述MCU。电源输入电路接外部电源，提供MCU可工作的电压，CAN通信电路连接上位机与MCU，实现上位机与MCU之间的通信。输入电源检测电路用于检测电源输入电压是否超过系统工作电压，该电路的输入端是电流传感器的电源输入电压，输出端输出电压检测结果。温度检测电路用于标定采样电流，减少因温度漂移产生的影响，该电路的输入端是由电源输入电压经过LDO稳压后的5V电压，输出端输出温度检测结果。传感器驱动电路用于传输感应线圈感应到的电流至电流放大电路。电流放大电路用于对感应到的电流进行放大，以输入MCU进行数据处理。在此处所提供的说明书中，说明了大量具体细节。然而，能够理解，本发明的实施例可以在没有这些具体细节的情况下实践。在一些实例中，并未详细示出公知的方法、结构和技术，以便不模糊对本说明书的理解。此外，本领域普通技术人员能够理解，尽管在此所述的一些实施例包括其它实施例中所包括的某些特征而不是其它特征，但是不同实施例的特征的组合意味着处于本发明的范围之内并且形成不同的实施例。例如，在权利要求书中，所要求保护的实施例的任意之一都可以以任意的组合方式来使用。本领域技术人员应理解，尽管已经参考示例性实施例描述了本发明，但是在不脱离本发明的范围的情况下，可进行各种改变并可用等同物替换其元件。另外，在不脱离本发明的实质范围的情况下，可进行许多修改以使特定情况或材料适应本发明的教导。因此，本发明不限于所公开的特定实施例，而是本发明将包括落入所附权利要求范围内的所有实施例。
