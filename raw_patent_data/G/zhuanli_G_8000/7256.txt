标题title
一种大型斜拉桥索力在线监测系统
摘要abst
一种大型斜拉桥索力在线监测系统，包括加速度传感器、现场采集站和远程监控中心，其中，所述加速度传感器安装在斜拉桥的拉索上，所述现场采集站中设置有索力采集工控机与数据集成工控机，所述索力采集工控机与加速度传感器连接，所述索力采集工控机、数据集成工控机分别与远程监控中心连接；并在索力采集工控机上装载有用于采集加速度信号的索力采集程序，所述远程监控中心设置有WEB服务器与数据库服务器，所述索力采集程序采集加速度信号批量发送至数据集成工控机装载的桥梁采集客户端程序，由桥梁采集客户端程序对加速度信号进行处理并实时求出索力，计算速度快，且能够实现全桥索力动态分布的可视化，为斜拉桥的索力监测提供便利。
权利要求书clms
1.一种大型斜拉桥索力在线监测系统，包括加速度传感器、现场采集站和远程监控中心，其特征在于，所述加速度传感器安装在斜拉桥的拉索上，所述现场采集站中设置有索力采集工控机与数据集成工控机，所述索力采集工控机与加速度传感器连接，所述索力采集工控机、数据集成工控机分别与远程监控中心连接；并在索力采集工控机上装载有用于采集加速度信号的索力采集程序，所述远程监控中心设置有WEB服务器与数据库服务器，所述索力采集程序采集加速度信号批量发送至数据集成工控机装载的桥梁采集客户端程序，由桥梁采集客户端程序对加速度信号进行处理实时求出索力，以对斜拉桥索力进行监测。2.根据权利要求1所述的一种大型斜拉桥索力在线监测系统，其特征在于，所述加速度传感器通过信号调理仪与索力采集工控机连接。3.根据权利要求1所述的一种大型斜拉桥索力在线监测系统，其特征在于，所述索力采集工控机、数据集成工控机通过现场交换机与远程监控中心的中心交换机连接。4.根据权利要求1所述的一种大型斜拉桥索力在线监测系统，其特征在于，所述加速度传感器为CA-YD-188压电式加速度传感器。5.根据权利要求1所述的一种大型斜拉桥索力在线监测系统，其特征在于，所述WEB服务器中装载有数据服务端程序。6.根据权利要求1～5任一项所述的一种大型斜拉桥索力在线监测系统，对斜拉桥索力进行在线监测，其特征在于，具体实施步骤如下：第一步：搭建在线监测系统搭建加速度传感器、现场采集站及远程监控中心，加速度传感器安装在斜拉桥的拉索上，加速度振动信号由电缆线接入现场采集站的信号调理仪，再传输至索力采集工控机，索力采集工控机上装载索力采集程序，该程序采集加速度信号批量发送至数据集成工控机装载的桥梁采集客户端程序，由桥梁采集客户端程序对加速度信号进行处理并实时求出索力；第二步：开发软件平台软件平台由索力采集程序、桥梁采集客户端、数据服务端程序及WEB展示平台组成；本在线监测系统设计有两个采集端：索力采集程序与桥梁采集客户端程序；第三步：设计数据处理流程数据采集，拉索的振动信号首先由索力采集程序通过API接口进行实时高速采集，所得数据为一个经过封装的二维矩阵结构，该结构中包含通道号、电压值及采集时间，索力采集程序对该矩阵进行遍历，并将通道号与加速度传感器编号建立映射关系，而后通过TCP协议将数据发送至桥梁采集客户端程序，桥梁采集客户端程序接收数据后进行处理；数据缓存，在桥梁采集客户端程序中进行数据缓存控制；频谱分析，首先对缓存空间中的数据量进行检测，当缓存空间被填满后开始进行多线程频谱分析，由定时器计时，每计时时间T触发一次回调，此时线程完成一次频谱分析并输出一个索力值；第四步：基频提取由索力与各阶自振频率关系可知，拉索功率谱上的各个峰值在理论上等间距，且间距的值即为拉索的基频，根据该原理，设计基于频谱分组的自振频率搜索算法，而后根据搜索到的自振频率求取基频f1；第五步：结果可视化提取出所有拉索的基频，并根据提取的基频计算出全桥索力，再由WEB展示平台进行可视化呈现监测。7.根据权利要求6所述的一种大型斜拉桥索力在线监测系统，其特征在于，第二步中，索力采集程序、桥梁采集客户端程序、数据服务端程序采用.NET Framework平台的WPF技术实现，WEB展示平台采用Java EE技术实现。8.根据权利要求6所述的一种大型斜拉桥索力在线监测系统，其特征在于，第三步中，数据缓存空间采用线程安全的ConcurrentQueue对象实现。9.根据权利要求6所述的一种大型斜拉桥索力在线监测系统，其特征在于，第四步中，基频提取具体如下：1)数据采集，假设有M组拉索振动时域信号，每组信号包含N个采样点，用矩阵A表示：2)频谱变换，对每组拉索振动时域信号做FFT变换，得到M组包含2n个数据点的离散频谱序列，由于频谱具有对称性，只取其一半离散频谱序列B，即3)移窗分组，对离散频谱序列B的每一组频谱再次进行分组，每组的点数为p，要求p的取值为2的整数次幂，则每组频谱均可得到2n-1/p组子向量，其中最后一个子向量的元素个数可以小于p，即4)提取峰值，对步骤3)中每组子向量求最大值，各组的最大值组成一个新的向量C’其中，c11＝max b1 b1…b1}，依此类推；5)剔除直流，由于C’中第一列均为频谱序列中的直流和近直流成分，因而剔除，得峰值向量C6)识别主振幅，取步骤5)中峰值向量C矩阵的全局最大值，即主振频率的幅值：E＝max)7)提取有效振幅，对峰值向量C向量进行筛选，仅保留大于m*E的值，其中m是之间的常数，得到一个新向量G：8)提取自振频率，取新向量G中的每一个元素值对应的频率，得到自振频率向量F，即各阶自振频率：F＝{f1 f2 f3…fk}9)假设自振频率向量F中有k个元素且k＞＝2，从提取到的第2个自振频率开始，依次与其前一个自振频率相减，得到一个频差向量DD＝diff＝{d1 d2 d3…dk-1}，di＝fj-fj-1，j＝2，3，4，..k10)提取基频，对步骤9)的频差向量D求众数，即为基频f1f1＝mode。10.根据权利要求6所述的一种大型斜拉桥索力在线监测系统，其特征在于，第四步中，索力T计算如下：根据弦振动理论进行推导，对斜拉索的自由振动方程进行求解即可得到索力：其中，T为索力，K＝4Wl2/g为比例系数，W为单位索长的重力，l为索长，g为重力加速度，fn为索的第n阶自振频率，显然，求出索力的关键是要先求出基频f1，根据公式，拉索功率谱上的各个峰值在理论上是等间距，且间距的值就是拉索的基频f1，高阶频率是基频的整数倍，故：T＝K2。
说明书desc
技术领域本发明涉及索力监测技术领域，尤其涉及一种大型斜拉桥索力在线监测系统。背景技术随着我国交通基础设施的不断完善，越来越多的大型斜拉桥投入运营。大型斜拉桥一般包含数百根斜拉索，对索力进行测量和评估是桥梁健康监测的重要内容。与温度、位移、风速、应变等物理量的监测不同，索力在线监测在设计和实施上更加复杂。在桥梁运营过程中，无论是结构本身的应力集中、腐蚀、疲劳、破损，还是外部的风霜雨雪、车辆通行，均会造成索力动态变化，而这种变化将通过索的振动模态表现出来。由于索的振动模态是动态变化，通过人工分析很难满足桥梁健康监测的实时性要求，因此进行在线监测具有重要意义。当前使用较多的索力测量方法包括油压法、压力法、磁通量法、振动频率法等，其中磁通量法和振动频率法在索力动态监测领域均有应用，振动频率法由于实施较简单、精度基本满足应用需求，故是当前应用最为广泛的索力测量技术之一。然而，基于振动频率法的索力测量存在以下几个难点：数据量巨大，振动频率法是通过拾取斜拉索的高频振动信号分析索力，信号的采集频率至少在50Hz以上，一般大型斜拉桥的拉索数量少则几十根，多则几百上千根，其产生的数据量巨大，传统的处理方法很难满足要求；振动模态复杂，拉索的振动频谱包含有基频和高阶自振频率，其中基频是用于计算索力的中间值，但对于不同的拉索，其振动基频和高阶自振频率的位置、幅值和形态各异，给振动模态分析带来很大难度；基频识别准确性低，由于环境和安装条件等因素的影响，频谱中的基频往往会被噪声淹没，无法直接识别出基频；同时，由于高阶自振频率也可能出现严重缺失或失真，只能依靠有限的高阶自振频率计算基频，成功率较低，因此当前一般以人工识别为主；索力计算结果不直观，分别计算出全部拉索的索力后，只是一系列的数值，不能直观反映出全桥索力分布状态，尤其是索力需要动态计算，这对索力分布的可视化要求更高。发明内容本发明所解决的技术问题在于提供一种大型斜拉桥索力在线监测系统，以解决上述背景技术中的问题。本发明所解决的技术问题采用以下技术方案来实现：一种大型斜拉桥索力在线监测系统，包括加速度传感器、现场采集站和远程监控中心，其中，所述加速度传感器安装在斜拉桥的拉索上，所述现场采集站中设置有索力采集工控机与数据集成工控机，所述索力采集工控机与加速度传感器连接，所述索力采集工控机、数据集成工控机分别与远程监控中心连接；并在索力采集工控机上装载有用于采集加速度信号的索力采集程序，所述远程监控中心设置有WEB服务器与数据库服务器，所述索力采集程序采集加速度信号批量发送至数据集成工控机的桥梁采集客户端程序，由桥梁采集客户端程序对加速度信号进行处理实时求出索力，以对斜拉桥索力进行监测。在本发明中，所述加速度传感器通过信号调理仪与索力采集工控机连接。在本发明中，所述索力采集工控机、数据集成工控机通过现场交换机与远程监控中心的中心交换机连接。在本发明中，所述加速度传感器采用CA-YD-188压电式加速度传感器。在本发明中，所述WEB服务器中装载有数据服务端程序。一种大型斜拉桥索力在线监测系统，对斜拉桥索力进行在线监测，具体实施步骤如下：第一步：搭建在线监测系统搭建加速度传感器、现场采集站及远程监控中心，加速度传感器安装在斜拉桥的拉索上，以对拉索的振动情况进行实时高速采集；加速度振动信号由电缆线就近接入现场采集站的信号调理仪，再传输至索力采集工控机，索力采集工控机上装载有索力采集程序，该程序采集加速度信号批量发送至数据集成工控机的桥梁采集客户端程序，由桥梁采集客户端程序对加速度信号进行处理并实时求出索力；加速度原始数据由数据集成工控机本地保存并定期清理，索力数据发送至远程监控中心的数据库服务器进行永久保存；第二步：开发软件平台软件平台由索力采集程序、桥梁采集客户端程序、数据服务端程序及WEB展示平台组成，其前三者采用.NET Framework平台的WPF技术实现，WEB展示平台采用Java EE技术实现；本在线监测系统设计有两个采集端：一个是索力采集程序，一个是桥梁采集客户端程序；第三步：设计数据处理流程数据采集，拉索的振动信号首先由索力采集程序通过API接口进行实时高速采集，所得数据为一个经过封装的二维矩阵结构AnalogWaveform＜double＞，该结构中包含通道号、电压值及采集时间，索力采集程序对该矩阵进行遍历，并将通道号与加速度传感器编号建立映射关系，而后通过TCP协议将数据发送至桥梁采集客户端程序，桥梁采集客户端程序接收数据后进行处理；数据缓存，数据缓存是数据预处理的重要内容，在桥梁采集客户端程序中进行数据缓存控制，同时为避免访问冲突，缓存空间采用线程安全的ConcurrentQueue对象实现；频谱分析，首先对缓存空间中的数据量进行检测，当缓存空间被填满后开始进行多线程频谱分析，由定时器计时，每计时时间T触发一次回调，此时线程完成一次频谱分析并输出一个索力值；第四步：基频提取由索力与各阶自振频率关系可知，拉索功率谱上的各个峰值在理论上等间距，且间距的值即为拉索的基频，根据该原理，设计基于频谱分组的自振频率搜索算法，而后根据搜索到的自振频率求取基频，具体如下：1)数据采集，假设有M组拉索振动时域信号，每组信号包含N个采样点，用矩阵A表示：2)频谱变换，对每组拉索振动时域信号做FFT变换，得到M组包含2n个数据点的离散频谱序列，由于频谱具有对称性，只取其一半离散频谱序列B，即3)移窗分组，对离散频谱序列B的每一组频谱再次进行分组，每组的点数为p，要求p的取值为2的整数次幂，例如p＝2,4,8,16,32,64……，则每组频谱均可得到2n-1/p组子向量，其中最后一个子向量的元素个数可以小于p，即4)提取峰值，对步骤3)中每组子向量求最大值，各组的最大值组成一个新的向量C’其中，c11＝max{b11 b12 b13 … b1p}，c12＝max{b1 b1 b1 … b1}，依此类推；5)剔除直流，由于C’中第一列均为频谱序列中的直流和近直流成分，因而剔除，得峰值向量C6)识别主振幅，取步骤5)中峰值向量C矩阵的全局最大值，即主振频率的幅值：E＝max)7)提取有效振幅，对峰值向量C向量进行筛选，仅保留大于m*E的值，其中m是之间的常数，得到一个新向量G：8)提取自振频率，取新向量G中的每一个元素值对应的频率，得到自振频率向量F，即各阶自振频率：F＝{f1 f2 f3 … fk}9)假设自振频率向量F中有k个元素且k＞＝2，从提取到的第2个自振频率开始，依次与其前一个自振频率相减，得到一个频差向量DD＝diff＝{d1 d2 d3 … dk-1}，di＝fj-fj-1，j＝2，3，4…k10)提取基频，对步骤9)的频差向量D求众数，即为基频f1f1＝mode11)求索力T振动频率法是根据弦振动理论进行推导，对斜拉索的自由振动方程进行求解即可得到索力：其中，T为索力，K＝4Wl2/g为比例系数，W为单位索长的重力，l为索长，g为重力加速度，fn为索的第n阶自振频率，显然，求出索力的关键是要先求出基频f1，根据公式，拉索功率谱上的各个峰值在理论上是等间距，且间距的值就是拉索的基频f1，高阶频率是基频的整数倍，故：T＝K2；第五步：结果可视化提取所有拉索的基频，并根据提取的基频计算出全桥索力，再由WEB展示平台进行可视化呈现监测。有益效果：本发明通过高性能采集系统与采集程序设计，能够完成海量加速度数据的高效采集和传输；本发明采用多线程编程技术，在不增加硬件成本的基础上提高索力计算速度；本发明基于频谱分组的自振频率搜索算法，使自振频率的搜索简洁，只需要通过两个参数的调整，即可准确、快速地完成基频提取；本发明实现全桥索力动态分布的可视化，为斜拉桥的索力监测提供便利。附图说明图1为本发明实施例的总体架构图。图2为本发明实施例中系统软件及数据流转示意图。图3为本发明实施例中多线程频谱分析流程图。图4为本发明实施例中基频提取算法过程中分组拾取最大值示意图。图5为本发明实施例中基频提取算法过程中筛选自振频率示意图。图6为本发明实施例中拉索时域振动信号示意图。图7为本发明实施例中拉索信号频谱分布示意图。图8为本发明实施例中拉索信号频谱分析自振频率提取示意图。图9为本发明实施例中斜拉索基频分布示意图。图10为本发明实施例中斜拉索的索力分布可视化示意图。具体实施方式为了使本发明实现的技术手段、创作特征、达成目的与功效易于明白了解，下面结合具体图示，进一步阐述本发明。一种大型斜拉桥索力在线监测系统，对斜拉桥索力进行在线监测，具体实施步骤如下：第一步：搭建在线监测系统本在线监测系统包括加速度传感器、现场采集站和远程监控中心，如图1所示，本系统加速度传感器采用CA-YD-188压电式加速度传感器，其内置低噪声IEPE，IEPE采用12～24VDC/2～10mA恒流源激励，恒流源采用YE3826多通道IEPE恒流适调器通过BNC接头与传感器相连，加速度信号由NI 9205采集板卡进行采集，该采集板卡具有32通道，额定输入电压±0.2～±10V可配，采集板卡通过可拆卸式弹簧端子连接器直接插入索力采集工控机的NI cDAQ-9139控制器卡槽上，NI cDAQ-9139控制器内部搭载Intel Core i7双核处理器，配备USB高速接口、千兆以太网接口和串行接口，自带WES7和LabVIEW Real-Time操作系统，可独立完成加速度传感器的信号采集，但由于NI cDAQ-9139控制器配置的硬盘容量较少且难以扩展，因此本实施例仅将控制器作为采集平台，采集到的数据通过局域网传输至数据集成工控机进行处理；加速度传感器安装在斜拉桥的拉索上，以对拉索的振动情况进行实时高速采集；加速度振动信号由电缆线就近接入现场采集站的信号调理仪，再传输至索力采集工控机，索力采集工控机上装载有索力采集程序，该程序采集加速度信号批量发送至数据集成工控机的桥梁采集客户端程序，由桥梁采集客户端程序对加速度信号进行处理并实时求出索力；加速度原始数据由数据集成工控机本地保存并定期清理，索力数据发送至远程监控中心的数据库服务器进行永久保存；第二步：开发软件平台软件平台由索力采集程序、桥梁采集客户端程序、数据服务端程序及WEB展示平台组成，其前三者采用.NET Framework平台的WPF技术实现，WEB展示平台采用Java EE技术实现，软件系统结构如图2所示；本在线监测系统设计有两个采集端：一个是索力采集程序，一个是桥梁采集客户端，加速度振动信号由索力采集程序采集，这主要是考虑NI采集系统本身是一套独立的平台，开发独立的采集程序可避免其与桥梁采集客户端程序产生耦合，便于程序开发和后期运维；第三步：设计数据处理流程数据采集，拉索的振动信号首先由索力采集程序通过NI公司提供的API接口进行实时高速采集，所得数据为一个经过封装的二维矩阵结构AnalogWaveform＜double＞，该结构中包含通道号、电压值和采集时间等信息，索力采集程序对该矩阵进行遍历，并将通道号与加速度传感器编号建立映射关系，而后通过TCP协议将数据发送至桥梁采集客户端程序，桥梁采集客户端程序接收数据后进行去噪、频谱分析、索力计算等后续处理，最后发送至数据服务端程序完成统计、预警、存库等更高级别的数据分析工作；数据缓存，数据预处理工作在桥梁采集客户端程序中进行，预处理的内容主要是进行数据缓存控制，由于后续的频谱分析工作需要进行FFT变换，为提高效率和精度，本实施例采用的是基2FFT算法，要求加速度传感器的时域信号具有2n个采集点，程序通过建立缓存并将缓存空间限制在固定长度，作为FFT变换的输入数据，尽管缓存空间的容量固定，但缓存中的数据是动态更新，新的数据会将旧的数据覆盖；考虑多个线程访问数据缓存空间的需求，同时满足数据先进先出原则，为了避免访问冲突，缓存空间采用线程安全的ConcurrentQueue对象实现；频谱分析，首先对缓存空间中的数据量进行检测，当缓存空间被填满后开始进行频谱分析，本系统通过软件编程实现多线程频谱分析，如图3所示，假设斜拉索数量为M，FFT计算点数为N，定时作业间隔为T，程序启动后将直接开辟M个工作线程，每个线程负责一根斜拉索的索力计算，M个线程并行工作，以提高CPU利用率，实现索力的实时计算与在线监测；在每个工作线程内，又分别开辟3个子线程，其中，线程a负责数据缓存控制，线程b负责频谱分析，线程c负责定时触发作业；线程b中的频谱分析函数是线程c的回调函数，由定时器计时，每计时时间T触发一次回调，由线程b完成一次频谱分析并输出一个索力值；第四步：基频提取由索力与各阶自振频率关系可知，拉索功率谱上的各个峰值在理论上等间距，且间距的值即为拉索的基频，根据该原理，设计基于频谱分组的自振频率搜索算法，而后根据搜索到的自振频率求取基频，具体如下：1)数据采集，如图6所示，假设有M组拉索振动时域信号，每组信号包含N个采样点，用矩阵A表示：2)频谱变换，对每组拉索振动时域信号做FFT变换，得到M组包含2n个数据点的离散频谱序列，由于频谱具有对称性，本实施例只取其一半离散频谱序列B，如图7所示，即3)移窗分组，对离散频谱序列B的每一组频谱再次进行分组，每组的点数为p，要求p的取值为2的整数次幂，例如p＝2,4,8,16,32,64……，则每组频谱均可得到2n-1/p组子向量，其中最后一个子向量的元素个数可以小于p，即4)提取峰值，对步骤3)中每组子向量求最大值，各组的最大值组成一个新的向量C’其中，c11＝max{b11 b12 b13 … b1p}，c12＝max{b1 b1 b1 … b1}，依此类推，如图4所示；5)剔除直流，由于C’中第一列均为频谱序列中的直流和近直流成分，因而剔除，得峰值向量C6)识别主振幅，取步骤5)中峰值向量C矩阵的全局最大值，即主振频率的幅值：E＝max)7)提取有效振幅，对峰值向量C向量进行筛选，仅保留大于m*E的值，其中m是之间的常数，得到一个新向量G：8)提取自振频率，取新向量G中的每一个元素值对应的频率，得到自振频率向量F，即各阶自振频率：F＝{f1 f2 f3 … fk} 如图5所示，F＝{3.1250,4.6875,5.4688,6.2500,7.0313,7.6563,8.2813,9.0625,10.4688,11.2500,12.1875,12.9688,13.7500,14.5313,15.3125,16.2500,17.0313}9)假设自振频率向量F中有k个元素且k＞＝2，从提取到的第2个自振频率开始，依次与其前一个自振频率相减，得到一个频差向量DD＝diff＝{d1 d2 d3 … dk-1}，di＝fj-fj-1，j＝2，3，4…k计算得D＝{1.5625,0.7813,0.7813,0.7813,0.6250,0.6250,0.7813,1.4063,0.7813,0.9375,0.7813,0.7813,0.7813,0.7813,0.9375,0.7813}10)提取基频，对步骤9)的频差向量D求众数，即为基频f1f1＝mode计算得基频f1，f1＝0.781311)求索力T振动频率法是根据弦振动理论进行推导，对斜拉索的自由振动方程进行求解即可得到索力：其中，T为索力，K＝4Wl2/g为比例系数，W为单位索长的重力，l为索长，g为重力加速度，fn为索的第n阶自振频率，显然，求出索力的关键是要先求出基频f1，根据公式，拉索功率谱上的各个峰值在理论上是等间距，且间距的值就是拉索的基频f1，高阶频率是基频的整数倍，根据工程资料，该索的比例系数K为5630，故：T＝K2＝5630×2＝3437；第五步：结果可视化根据图3所示流程，提取所有拉索的基频，如图9所示，根据提取的基频计算出全桥索力，再由WEB展示平台进行可视化呈现监测，如图10所示，全桥索力分布一目了然。
