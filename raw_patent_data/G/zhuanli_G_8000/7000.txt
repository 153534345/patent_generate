标题title
一种加密流量识别方法和装置、电子设备
摘要abst
本发明提供了一种加密流量识别方法和装置、电子设备，其中，该方法包括：获取待检测的加密流量，并提取出所述待检测的加密流量的载荷数据；将所述待检测的加密流量的载荷数据转换为图片；利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，其中，处理结果指示待检测的加密流量是自定义C&amp;C协议加密流量，或者处理结果指示待检测的加密流量是完全加密流量。通过本发明实施例提供的加密流量识别方法和装置、电子设备，可以对待检测的加密流量是否为自定义C&amp;C协议加密流量进行有效检测。
权利要求书clms
1.一种加密流量识别方法，其特征在于，包括：获取待检测的加密流量，并提取出所述待检测的加密流量的载荷数据；将所述待检测的加密流量的载荷数据转换为图片；利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，其中，所述处理结果指示所述待检测的加密流量是自定义C&amp;C协议加密流量，或者所述处理结果指示所述待检测的加密流量是完全加密流量。2.根据权利要求1所述的方法，其特征在于，还包括：获取用于得到卷积神经网络训练数据集和测试数据集的加密流量；从所述加密流量中提取出携带有所述加密流量使用的加密协议的协议头；获取加密协议列表，当能够从所述加密协议列表中查询出所述协议头携带的加密协议时，将所述加密协议确定为完全加密流量，其中，所述完全加密流量，用于表示使用标准加密协议算法得到的流量；从所述完全加密流量的所述协议头中提取出第一载荷数据；当未能从所述加密协议列表中查询出所述协议头携带的加密协议时，将所述加密协议确定为自定义C&amp;C协议加密流量；从所述自定义C&amp;C协议加密流量的所述协议头中提取出第二载荷数据；对提取出的第一载荷数据和第二载荷数据进行处理，得到作为所述卷积神经网络训练数据集和测试数据集的图片；利用得到的作为所述卷积神经网络训练数据集和测试数据集的图片对所述卷积神经网络进行训练，得到用于识别自定义C&amp;C协议加密流量的卷积神经网络。3.根据权利要求2所述的方法，其特征在于，对提取出的第一载荷数据进行处理，包括：获取作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度，并确定所述第一载荷数据的字节数；当所述第一载荷数据的字节数小于作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度平方时，计算所述图片的边长长度平方与所述第一载荷数据的字节数的差值；从所述第一载荷数据中取出与所述差值数量相同的载荷数据，并将取出的载荷数据补充到所述第一载荷数据中，得到与图片的边长长度平方相同的第一载荷数据；将得到的将与图片的边长长度平方相同的第一载荷数据填充到空白的文本中，并将填充有与图片的边长长度平方相同的第一载荷数据的文本的格式转换成图片格式。4.根据权利要求2所述的方法，其特征在于，利用得到的作为所述卷积神经网络训练数据集和测试数据集的图片对所述卷积神经网络进行训练，得到用于识别自定义C&amp;C协议加密流量的卷积神经网络，包括：将对第一载荷数据和第二载荷数据处理后得到的图片划分为作为卷积神经网络的训练数据集的第一部分图片和作为卷积神经网络的测试数据集的第二部分图片；当所述测试结果指示训练后的卷积神经网络未能将第二部分图片中的所有由第二载荷数据得到的图片识别出来时，将作为所述卷积神经网络的训练数据集的第一部分图片输入到卷积神经网络中，对所述卷积神经网络进行训练；利用训练后的卷积神经网络对作为所述卷积神经网络测试数据集的第一部分图片进行测试，得到测试结果；当所述测试结果指示训练后的卷积神经网络能够将第二部分图片中的所有由第二载荷数据得到的图片识别出来时，确定训练后的卷积神经网络能够作为用于识别自定义C&amp;C协议加密流量的卷积神经网络使用，从而得到用于识别自定义C&amp;C协议加密流量的卷积神经网络。5.一种加密流量识别装置，其特征在于，包括：获取模块，用于获取待检测的加密流量，并提取出所述待检测的加密流量的载荷数据；转换模块，用于将所述待检测的加密流量的载荷数据转换为图片；处理模块，用于利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，其中，所述处理结果指示所述待检测的加密流量是自定义C&amp;C协议加密流量，或者所述处理结果指示所述待检测的加密流量是完全加密流量。6.根据权利要求5所述的装置，其特征在于，还包括：流量获取模块，用于获取用于得到卷积神经网络训练数据集和测试数据集的加密流量；第一提取模块，用于从所述加密流量中提取出携带有所述加密流量使用的加密协议的协议头；第一确定模块，用于获取加密协议列表，当能够从所述加密协议列表中查询出所述协议头携带的加密协议时，将所述加密协议确定为完全加密流量，其中，所述完全加密流量，用于表示使用标准加密协议算法得到的流量；第二提取模块，用于从所述完全加密流量的所述协议头中提取出第一载荷数据；第二确定模块，用于当未能从所述加密协议列表中查询出所述协议头携带的加密协议时，将所述加密协议确定为自定义C&amp;C协议加密流量；第三提取模块，用于从所述自定义C&amp;C协议加密流量的所述协议头中提取出第二载荷数据；图片处理模块，用于对提取出的第一载荷数据和第二载荷数据进行处理，得到作为所述卷积神经网络训练数据集和测试数据集的图片；训练模块，用于利用得到的作为所述卷积神经网络训练数据集和测试数据集的图片对所述卷积神经网络进行训练，得到用于识别自定义C&amp;C协议加密流量的卷积神经网络。7.根据权利要求6所述的装置，其特征在于，所述图片处理模块，用于对提取出的第一载荷数据进行处理，包括：获取作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度，并确定所述第一载荷数据的字节数；当所述第一载荷数据的字节数小于作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度平方时，计算所述图片的边长长度平方与所述第一载荷数据的字节数的差值；从所述第一载荷数据中取出与所述差值数量相同的载荷数据，并将取出的载荷数据补充到所述第一载荷数据中，得到与图片的边长长度平方相同的第一载荷数据；将得到的将与图片的边长长度平方相同的第一载荷数据填充到空白的文本中，并将填充有与图片的边长长度平方相同的第一载荷数据的文本的格式转换成图片格式。8.根据权利要求6所述的装置，其特征在于，所述训练模块，具体用于：将对第一载荷数据和第二载荷数据处理后得到的图片划分为作为卷积神经网络的训练数据集的第一部分图片和作为卷积神经网络的测试数据集的第二部分图片；当所述测试结果指示训练后的卷积神经网络未能将第二部分图片中的所有由第二载荷数据得到的图片识别出来时，将作为所述卷积神经网络的训练数据集的第一部分图片输入到卷积神经网络中，对所述卷积神经网络进行训练；利用训练后的卷积神经网络对作为所述卷积神经网络测试数据集的第一部分图片进行测试，得到测试结果；当所述测试结果指示训练后的卷积神经网络能够将第二部分图片中的所有由第二载荷数据得到的图片识别出来时，确定训练后的卷积神经网络能够作为用于识别自定义C&amp;C协议加密流量的卷积神经网络使用，从而得到用于识别自定义C&amp;C协议加密流量的卷积神经网络。9.一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，其特征在于，所述计算机程序被处理器运行时执行上述权利要求1-4任一项所述的方法的步骤。10.一种电子设备，其特征在于，所述电子设备包括有存储器，处理器以及一个或者一个以上的程序，其中所述一个或者一个以上程序存储于所述存储器中，且经配置以由所述处理器执行权利要求1-4任一项所述的方法的步骤。
说明书desc
技术领域本发明涉及计算机技术领域，具体而言，涉及一种加密流量识别方法和装置、电子设备和计算机可读存储介质。背景技术目前，自定义命令与控制协议加密流量，用于表示在传输控制协议协议、用户数据报协议协议、或者超文本传输协议协议的载荷中使用了自定义的非标准加密协议和安全外壳协议等)加密算法得到的流量。自定义C&amp;C协议加密流量在检测方面没有固定的特征用来进行检测。从未知的加密流量中检测得到自定义C&amp;C协议加密流量比较困难。发明内容为解决上述问题，本发明实施例的目的在于提供一种加密流量识别方法和装置、电子设备和计算机可读存储介质。第一方面，本发明实施例提供了一种加密流量识别方法，包括：获取待检测的加密流量，并提取出所述待检测的加密流量的载荷数据；将所述待检测的加密流量的载荷数据转换为图片；利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，其中，所述处理结果指示所述待检测的加密流量是自定义C&amp;C协议加密流量，或者所述处理结果指示所述待检测的加密流量是完全加密流量。第二方面，本发明实施例还提供了一种加密流量识别装置，包括：获取模块，用于获取待检测的加密流量，并提取出所述待检测的加密流量的载荷数据；转换模块，用于将所述待检测的加密流量的载荷数据转换为图片；处理模块，用于利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，其中，所述处理结果指示所述待检测的加密流量是自定义C&amp;C协议加密流量，或者所述处理结果指示所述待检测的加密流量是完全加密流量。第三方面，本发明实施例还提供了计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器运行时执行上述第一方面所述的方法的步骤。第四方面，本发明实施例还提供了一种电子设备，所述电子设备包括有存储器，处理器以及一个或者一个以上的程序，其中所述一个或者一个以上程序存储于所述存储器中，且经配置以由所述处理器执行上述第一方面所述的方法的步骤。本发明实施例上述第一方面至第四方面提供的方案中，通过将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，从而识别出加密流量是自定义C&amp;C协议加密流量或者完全加密流量，与相关技术中无法使用固定的特征对自定义C&amp;C协议加密流量进行检测相比，可以巧妙的将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对图片进行处理，从而对待检测的加密流量是否为自定义C&amp;C协议加密流量进行有效检测；而且，使用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对自定义C&amp;C协议加密流量进行检测，可以大大提高自定义C&amp;C协议加密流量的识别效率与准确性。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1示出了本发明实施例1所提供的一种加密流量识别方法的流程图；图2示出了本发明实施例2所提供的一种加密流量识别装置的结构示意图；图3示出了本发明实施例所提供的一种电子设备的结构示意图。具体实施方式目前，自定义C&amp;C协议加密流量指在TCP、UDP、HTTP等协议的载荷中使用了自定义的非标准加密算法得到的流量，自定义C&amp;C协议加密流量的控制指令往往有特定的格式与规律，而大部分自定义C&amp;C协议加密流量的载荷部分会有类似标准加密协议在内容上完全随机，小部分也会有因为制作者设计不周密而导致随机性低于标准加密方式。使用自定义C&amp;C协议加密流量识别是安全检测的一个难题和瓶颈。对比使用标准加密协议且加密性好的完全加密流量，自定义C&amp;C协议加密流量在检测方面没有固定的特征用来进行检测，而针对自定义C&amp;C协议加密流量的传统检测方法局限于ip地址、域名、特征字符串等固定规则，这些方法只能检测到已经提前拥有对应规则的自定义C&amp;C协议加密流量，换言之，传统方法无法检测到未知的使用自定义C&amp;C协议的恶意加密流量。基于此，本实施例提出的一种加密流量识别方法和装置、电子设备和计算机可读存储介质，通过将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，从而识别出加密流量是自定义C&amp;C协议加密流量或者完全加密流量，可以巧妙的将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对图片进行处理，从而对待检测的加密流量是否为自定义C&amp;C协议加密流量进行有效检测。所述卷积神经网络是一类包含卷积计算且具有深度结构的前馈神经网络，是深度学习的代表算法之一。本申请提出的一种加密流量识别方法和装置、电子设备和计算机可读存储介质，就是使用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对自定义C&amp;C协议加密流量进行识别的。在本申请各实施例中，所述加密流量包括：协议头和载荷数据。假设本申请以下各实施例中深度神经网络处理的图片是正方形图片，则需要填充图片的像素数是图片边长的平方大小的像素数。为使本申请的上述目的、特征和优点能够更加明显易懂，下面结合附图和具体实施方式对本申请做进一步详细的说明。实施例1本实施例提出一种加密流量识别方法的执行主体是服务器。所述服务器，可以采用现有的任何可以对自定义C&amp;C协议加密流量进行识别的计算设备，这里不再一一赘述。在利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对自定义C&amp;C协议加密流量进行识别之前，需要先通过以下步骤至步骤训练得到用于识别自定义C&amp;C协议加密流量的卷积神经网络：获取用于得到卷积神经网络训练数据集和测试数据集的加密流量；从所述加密流量中提取出携带有所述加密流量使用的加密协议的协议头；获取加密协议列表，当能够从所述加密协议列表中查询出所述协议头携带的加密协议时，将所述加密协议确定为完全加密流量，其中，所述完全加密流量，用于表示使用标准加密协议算法得到的流量；从所述完全加密流量的所述协议头中提取出第一载荷数据；当未能从所述加密协议列表中查询出所述协议头携带的加密协议时，将所述加密协议确定为自定义C&amp;C协议加密流量；从所述自定义C&amp;C协议加密流量的所述协议头中提取出第二载荷数据；对提取出的第一载荷数据和第二载荷数据进行处理，得到作为所述卷积神经网络训练数据集和测试数据集的图片；利用得到的作为所述卷积神经网络训练数据集和测试数据集的图片对所述卷积神经网络进行训练，得到用于识别自定义C&amp;C协议加密流量的卷积神经网络。在上述步骤中。所述服务器可以从所述服务器互联网中获取到用于得到卷积神经网络训练数据集和测试数据集的加密流量。在上述步骤中，服务器可以对所述加密流量的报文进行解析，从所述加密流量中提取出携带有所述加密流量使用的加密协议的协议头，具体过程是现有技术，这里不再赘述。所述协议头携带有所述加密流量使用的加密协议。在上述步骤中，所述加密协议列表，缓存在所述服务器中。所述加密协议列表，用于存储有多个标准加密协议的名称。所述服务器可以获取所述协议头携带的加密协议，并根据获取到的加密协议在所述加密协议列表中进行遍历查询操作，当能够从所述加密协议列表中查询出所述协议头携带的加密协议时，将所述加密协议确定为完全加密流量。在上述步骤中，服务器去掉协议头后，就可以从所述完全加密流量中提取出第一载荷数据了，具体过程是现有技术，这里不再赘述。在一个实施方式中，当完全加密流量使用的标准加密协议是安全传输层协议时，所述第一载荷数据，可以是协议头中记载的应用数据0x1703030105。服务器在得到第一载荷数据后，还可以确定出第一载荷数据的字节数。在上述步骤中，从所述自定义C&amp;C协议加密流量的所述协议头中提取出第二载荷数据的过程与上述步骤中描述的从所述完全加密流量的所述协议头中提取出第一载荷数据的过程类似，这里不再赘述。当自定义C&amp;C协议加密流量的协议头只携带有TCP协议时，那么第二载荷数据可以是协议头中携带的TCP协议中的TCP的有效载荷。当自定义C&amp;C协议加密流量的协议头只携带有UDP协议时，那么第二载荷数据可以是协议头中携带的UDP协议中的UDP的载荷。当自定义C&amp;C协议加密流量的协议头只携带有HTTP协议时，那么第二载荷数据可以是协议头中携带的HTTP协议中的HTTP的载荷。上述第一载荷数据和上述第二载荷数据均是十六进制数。在上述步骤中，为了得到作为所述卷积神经网络训练数据集和测试数据集的图片，可以分别对上述的上述第一载荷数据和上述第二载荷数据分别进行处理。在对上述第一载荷数据进行处理时，可以执行以下步骤至步骤：获取作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度，并确定所述第一载荷数据的字节数；当所述第一载荷数据的字节数小于作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度平方时，计算所述图片的边长长度平方与所述第一载荷数据的字节数的差值；从所述第一载荷数据中取出与所述差值数量相同的载荷数据，并将取出的载荷数据补充到所述第一载荷数据中，得到与图片的边长长度平方相同的第一载荷数据；将得到的将与图片的边长长度平方相同的第一载荷数据填充到空白的文本中，并将填充有与图片的边长长度平方相同的第一载荷数据的文本的格式转换成图片格式。在上述步骤中，所述图片的边长长度，缓存在所述服务器中。在一个实施方式中，所述图片的边长长度，可以是2到6之间的任一像素值。如果图片的边长是4像素，那么得到的图片就是具有16个像素的正方形图片。服务器在得到第一载荷数据后，可以对得到的第一载荷数据进行解析，确定出第一载荷数据的字节数。所述第一载荷数据的字节数，是指组成第一载荷数据的字符串包含的字符数量。在一个实施方式中，当所述第一载荷数据是0x1703030105时，服务器通过解析可知第一载荷数据具有12个字符，那么此时第一载荷数据的字节数就是12。当所述第一载荷数据具有的字节数与作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度平方相同时，那么无需对所述第一载荷数据进行处理，就可以直接使用上述步骤描述的流程，将所述第一载荷数据转换为图片。即如果所述第一载荷数据具有16个字节，那么就可以直接将所述第一载荷数据转换为图片。当所述第一载荷数据的字节数小于作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度平方时，执行上述步骤的流程，对所述第一载荷数据进行处理。在上述步骤中，当所述第一载荷数据是0x1703030105时，服务器通过解析可知第一载荷数据确定所述第一载荷数据的字节数是12。而图片的边长是4像素，那么图片边长的边长平方是16像素，那么，服务器可以确定所述第一载荷数据的字节数小于作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度平方，那么可以继续计算出所述图片的边长长度平方16与所述第一载荷数据的字节数12的差值是4，说明第一载荷数据还需要4个字节的字符才能够完全填充16像素的图片。在上述步骤中，当所述第一载荷数据是0x1703030105时，服务器可以从所述第一载荷数据的字符串中取出前4个字符的载荷数据，即取出载荷数据0x17，并将取出的载荷数据0x17拼接到所述第一载荷数据的尾部，得到与图片的边长长度平方相同的第一载荷数据。具体地，拼接载荷数据0x17后得到的与图片的边长长度平方相同的第一载荷数据是0x17030301050x17。在上述步骤中，服务器可以生成空白的文本。空白的文本的格式是txt格式。所述图片格式，可以是现有的任何已有的图片的格式，可以是但不限于：位图格式、联合图像专家组格式、以及便携式网络图形格式。可选地，所述服务器将填充有与图片的边长长度平方相同的第一载荷数据的文本的格式转换成png格式，从而将第一载荷数据转换成图片。在另一个实现方式中，当所述第一载荷数据的字节数大于作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度平方时，服务器会从所述第一载荷数据中获取与图片的边长长度平方相同的载荷数据填充到空白的文本中，并将填充有与图片的边长长度平方相同的第一载荷数据的文本的格式转换成图片格式。在一个实施方式中，设置所述第一载荷数据是0x17030301050x172255，作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度平方是16。那么服务器解析出所述第一载荷数据具有20个字节，就会从所述第一载荷数据0x17030301050x172255中获取与图片的边长长度平方相同的载荷数据0x17030301050x17填充到空白的文本中，完成将第一载荷数据转换成图片的操作。通过以上步骤至步骤的描述，可以将第一载荷数据转换成作为所述卷积神经网络训练数据集和测试数据集的图片。将第二载荷数据转换成作为所述卷积神经网络训练数据集和测试数据集的图片的过程与上述将第一载荷数据转换成作为所述卷积神经网络训练数据集和测试数据集的图片的过程类似，这里不再赘述。当然，本实施例提出的加密流量识别方法还可以使用现有技术中的其他任何能够将字节数据转换为图片的方法，对提取出的第一载荷数据和第二载荷数据进行处理，得到作为所述卷积神经网络训练数据集和测试数据集的图片，这里不再赘述。在通过上述步骤对提取出的第一载荷数据和第二载荷数据进行处理，得到作为所述卷积神经网络训练数据集和测试数据集的图片后，可以继续执行步骤对用于识别自定义C&amp;C协议加密流量的卷积神经网络进行训练。在上述步骤中，为了训练得到用于识别自定义C&amp;C协议加密流量的卷积神经网络，可以执行以下步骤至步骤：将对第一载荷数据和第二载荷数据处理后得到的图片划分为作为卷积神经网络的训练数据集的第一部分图片和作为卷积神经网络的测试数据集的第二部分图片；当所述测试结果指示训练后的卷积神经网络未能将第二部分图片中的所有由第二载荷数据得到的图片识别出来时，将作为所述卷积神经网络的训练数据集的第一部分图片输入到卷积神经网络中，对所述卷积神经网络进行训练；利用训练后的卷积神经网络对作为所述卷积神经网络测试数据集的第一部分图片进行测试，得到测试结果；当所述测试结果指示训练后的卷积神经网络能够将第二部分图片中的所有由第二载荷数据得到的图片识别出来时，确定训练后的卷积神经网络能够作为用于识别自定义C&amp;C协议加密流量的卷积神经网络使用，从而得到用于识别自定义C&amp;C协议加密流量的卷积神经网络。在上述步骤中，在一个实施方式中，作为卷积神经网络的训练数据集的第一部分图片，可以包括第一载荷数据和第二载荷数据处理后得到的图片中70％的图片；作为卷积神经网络的测试数据集的第二部分图片，可以包括第一载荷数据和第二载荷数据处理后得到的图片中30％的图片。在上述步骤中，将作为所述卷积神经网络的训练数据集的第一部分图片输入到卷积神经网络中，对所述卷积神经网络进行训练时，由于输入的第一部分图片既包括完全加密流量的协议头中的第一载荷数据，又包括自定义C&amp;C协议加密流量的协议头中的第二载荷数据，可以使训练后的卷积神经网络可以对完全加密流量和自定义C&amp;C协议加密流量进行区分，提高自定义C&amp;C协议加密流量的识别成功率。具体的对所述卷积神经网络进行训练的过程是现有技术，这里不再赘述。在上述步骤中，利用训练后的卷积神经网络对作为所述卷积神经网络测试数据集的第一部分图片进行测试，得到测试结果的具体过程是现有技术，这里不再赘述。在通过上述步骤至步骤描述的内容训练得到用于识别自定义C&amp;C协议加密流量的卷积神经网络后，可以继续执行以下步骤100至步骤104，通过训练得到用于识别自定义C&amp;C协议加密流量的卷积神经网络，对待检测的加密流量是否为自定义C&amp;C协议加密流量进行检测。参见图1所示的一种加密流量识别方法的流程图，本实施例提出一种加密流量识别方法，包括以下具体步骤：步骤100、获取待检测的加密流量，并提取出所述待检测的加密流量的载荷数据。在上述步骤100中，待检测的加密流量是服务器从互联网实时获取到的。步骤102、将所述待检测的加密流量的载荷数据转换为图片。在上述步骤102中，为了将所述待检测的加密流量的载荷数据转换为图片，可以执行以下具体步骤至步骤：从所述待检测的加密流量中提取出携带有所述加密流量使用的加密协议的协议头；从所述待检测的加密流量的所述协议头中提取出所述待检测的加密流量的载荷数据；将所述待检测的加密流量的载荷数据转换为图片。在上述步骤至步骤描述的从所述待检测的加密流量的所述协议头中提取出所述待检测的加密流量的载荷数据的具体过程，与上述步骤至上述步骤描述的将第一载荷数据转换成作为所述卷积神经网络训练数据集和测试数据集的图片的过程类似，这里不再赘述。步骤104、利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，其中，所述处理结果指示所述待检测的加密流量是自定义C&amp;C协议加密流量，或者所述处理结果指示所述待检测的加密流量是完全加密流量。在上述步骤104中，利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理的过程是现有技术，这里不再赘述。综上所述，本实施例提出的一种加密流量识别方法，通过将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，从而识别出加密流量是自定义C&amp;C协议加密流量或者完全加密流量，与相关技术中无法使用固定的特征对自定义C&amp;C协议加密流量进行检测相比，可以巧妙的将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对图片进行处理，从而对待检测的加密流量是否为自定义C&amp;C协议加密流量进行有效检测；而且，使用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对自定义C&amp;C协议加密流量进行检测，可以大大提高自定义C&amp;C协议加密流量的识别效率与准确性。实施例2本实施例提出一种加密流量识别装置。用于执行上述实施例1提出的加密流量识别方法。参见图2所示的一种加密流量识别装置的结构示意图，本实施例提出一种加密流量识别装置，包括：获取模块200，用于获取待检测的加密流量，并提取出所述待检测的加密流量的载荷数据；转换模块202，用于将所述待检测的加密流量的载荷数据转换为图片；处理模块204，用于利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，其中，所述处理结果指示所述待检测的加密流量是自定义C&amp;C协议加密流量，或者所述处理结果指示所述待检测的加密流量是完全加密流量。可选地，本实施例提出的加密流量识别装置，还包括：流量获取模块，用于获取用于得到卷积神经网络训练数据集和测试数据集的加密流量；第一提取模块，用于从所述加密流量中提取出携带有所述加密流量使用的加密协议的协议头；第一确定模块，用于获取加密协议列表，当能够从所述加密协议列表中查询出所述协议头携带的加密协议时，将所述加密协议确定为完全加密流量，其中，所述完全加密流量，用于表示使用标准加密协议算法得到的流量；第二提取模块，用于从所述完全加密流量的所述协议头中提取出第一载荷数据；第二确定模块，用于当未能从所述加密协议列表中查询出所述协议头携带的加密协议时，将所述加密协议确定为自定义C&amp;C协议加密流量；第三提取模块，用于从所述自定义C&amp;C协议加密流量的所述协议头中提取出第二载荷数据；图片处理模块，用于对提取出的第一载荷数据和第二载荷数据进行处理，得到作为所述卷积神经网络训练数据集和测试数据集的图片；训练模块，用于利用得到的作为所述卷积神经网络训练数据集和测试数据集的图片对所述卷积神经网络进行训练，得到用于识别自定义C&amp;C协议加密流量的卷积神经网络。具体地，所述图片处理模块，用于对提取出的第一载荷数据进行处理，包括：获取作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度，并确定所述第一载荷数据的字节数；当所述第一载荷数据的字节数小于作为所述卷积神经网络训练数据集和测试数据集的图片的边长长度平方时，计算所述图片的边长长度平方与所述第一载荷数据的字节数的差值；从所述第一载荷数据中取出与所述差值数量相同的载荷数据，并将取出的载荷数据补充到所述第一载荷数据中，得到与图片的边长长度平方相同的第一载荷数据；将得到的将与图片的边长长度平方相同的第一载荷数据填充到空白的文本中，并将填充有与图片的边长长度平方相同的第一载荷数据的文本的格式转换成图片格式。具体地，所述训练模块，具体用于：将对第一载荷数据和第二载荷数据处理后得到的图片划分为作为卷积神经网络的训练数据集的第一部分图片和作为卷积神经网络的测试数据集的第二部分图片；当所述测试结果指示训练后的卷积神经网络未能将第二部分图片中的所有由第二载荷数据得到的图片识别出来时，将作为所述卷积神经网络的训练数据集的第一部分图片输入到卷积神经网络中，对所述卷积神经网络进行训练；利用训练后的卷积神经网络对作为所述卷积神经网络测试数据集的第一部分图片进行测试，得到测试结果；当所述测试结果指示训练后的卷积神经网络能够将第二部分图片中的所有由第二载荷数据得到的图片识别出来时，确定训练后的卷积神经网络能够作为用于识别自定义C&amp;C协议加密流量的卷积神经网络使用，从而得到用于识别自定义C&amp;C协议加密流量的卷积神经网络。综上所述，本实施例提出的一种加密流量识别装置，通过将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，从而识别出加密流量是自定义C&amp;C协议加密流量或者完全加密流量，与相关技术中无法使用固定的特征对自定义C&amp;C协议加密流量进行检测相比，可以巧妙的将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对图片进行处理，从而对待检测的加密流量是否为自定义C&amp;C协议加密流量进行有效检测；而且，使用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对自定义C&amp;C协议加密流量进行检测，可以大大提高自定义C&amp;C协议加密流量的识别效率与准确性。实施例3本实施例提出一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器运行时执行上述实施例1描述的数据处理方法的步骤。具体实现可参见方法实施例1，在此不再赘述。此外，参见图3所示的一种电子设备的结构示意图，本实施例还提出一种电子设备，上述电子设备包括总线51、处理器52、收发机53、总线接口54、存储器55和用户接口56。上述电子设备包括有存储器55。本实施例中，上述电子设备还包括：存储在存储器55上并可在处理器52上运行的一个或者一个以上的程序，经配置以由上述处理器执行上述一个或者一个以上程序用于进行以下步骤至步骤：获取待检测的加密流量，并提取出所述待检测的加密流量的载荷数据；将所述待检测的加密流量的载荷数据转换为图片；利用用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，其中，所述处理结果指示所述待检测的加密流量是自定义C&amp;C协议加密流量，或者所述处理结果指示所述待检测的加密流量是完全加密流量。收发机53，用于在处理器52的控制下接收和发送数据。在图3中，总线架构，总线51可以包括任意数量的互联的总线和桥，总线51将包括由通用处理器52代表的一个或多个处理器和存储器55代表的存储器的各种电路链接在一起。总线51还可以将诸如外围设备、稳压器和功率管理电路等之类的各种其他电路链接在一起，这些都是本领域所公知的，因此，本实施例不再对其进行进一步描述。总线接口54在总线51和收发机53之间提供接口。收发机53可以是一个元件，也可以是多个元件，比如多个接收器和发送器，提供用于在传输介质上与各种其他装置通信的单元。例如：收发机53从其他设备接收外部数据。收发机53用于将处理器52处理后的数据发送给其他设备。取决于计算系统的性质，还可以提供用户接口56，例如小键盘、显示器、扬声器、麦克风、操纵杆。处理器52负责管理总线51和通常的处理，如前述上述运行通用操作系统。而存储器55可以被用于存储处理器52在执行操作时所使用的数据。可选的，处理器52可以是但不限于：中央处理器、单片机、微处理器或者可编程逻辑器件。可以理解，本发明实施例中的存储器55可以是易失性存储器或非易失性存储器，或可包括易失性和非易失性存储器两者。其中，非易失性存储器可以是只读存储器、可编程只读存储器、可擦除可编程只读存储器、电可擦除可编程只读存储器或闪存。易失性存储器可以是随机存取存储器，其用作外部高速缓存。通过示例性但不是限制性说明，许多形式的RAM可用，例如静态随机存取存储器、动态随机存取存储器、同步动态随机存取存储器、双倍数据速率同步动态随机存取存储器、增强型同步动态随机存取存储器、同步连接动态随机存取存储器和直接内存总线随机存取存储器。本实施例描述的系统和方法的存储器55旨在包括但不限于这些和任意其它适合类型的存储器。在一些实施方式中，存储器55存储了如下的元素，可执行模块或者数据结构，或者他们的子集，或者他们的扩展集：操作系统551和应用程序552。其中，操作系统551，包含各种系统程序，例如框架层、核心库层、驱动层等，用于实现各种基础业务以及处理基于硬件的任务。应用程序552，包含各种应用程序，例如媒体播放器、浏览器等，用于实现各种应用业务。实现本发明实施例方法的程序可以包含在应用程序552中。综上所述，本实施例提出的计算机可读存储介质和电子设备，通过将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对所述图片进行处理，得到处理结果，从而识别出加密流量是自定义C&amp;C协议加密流量或者完全加密流量，与相关技术中无法使用固定的特征对自定义C&amp;C协议加密流量进行检测相比，可以巧妙的将待检测的加密流量的载荷数据转换为图片，并利用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对图片进行处理，从而对待检测的加密流量是否为自定义C&amp;C协议加密流量进行有效检测；而且，使用训练好的用于识别自定义C&amp;C协议加密流量的卷积神经网络对自定义C&amp;C协议加密流量进行检测，可以大大提高自定义C&amp;C协议加密流量的识别效率与准确性。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换的技术方案，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
