标题title
一种多时相主被动遥感随机森林农作物识别方法及系统
摘要abst
本发明公开一种多时相主被动遥感随机森林农作物识别方法及系统，包括：获取监测区域的主动遥感影像和被动遥感影像，对主动遥感影像和被动遥感影像进行预处理；对预处理后的主动遥感影像和预处理后的被动遥感影像进行融合，得到主被动遥感影像融合数据；获取样本标签，基于样本标签得到训练集样本；对训练集样本进行训练，并对主被动遥感影像融合数据进行识别，验证识别结果，完成农作物识别。以主动遥感影像和被动遥感影像为数据源，对多源特征进行融合，根据实地样本和高分辨率遥感影像创建样本标签，将融合数据和样本标签结合制作样本，使用随机森林对融合数据进行识别，提高了监测区域农作物遥感识别的准确性。
权利要求书clms
1.一种多时相主被动遥感随机森林农作物识别方法，其特征在于，包括以下步骤：S1，获取监测区域的主动遥感影像和被动遥感影像，对所述主动遥感影像和所述被动遥感影像进行预处理；S2，对预处理后的所述主动遥感影像和预处理后的所述被动遥感影像进行融合，得到主被动遥感影像融合数据；S3，获取样本标签，基于所述样本标签得到训练集样本；S4，对所述训练集样本进行训练，并对所述主被动遥感影像融合数据进行识别，验证识别结果，完成农作物识别。2.根据权利要求1所述的多时相主被动遥感随机森林农作物识别方法，其特征在于，所述主动遥感影像的获取过程包括：根据农作物的生长周期，确定获取农作物影像的时间范围；基于所述时间范围，获取所述监测区域内的雷达遥感数据，得到主动遥感影像。3.根据权利要求1所述的多时相主被动遥感随机森林农作物识别方法，其特征在于，对所述主动遥感影像进行预处理的过程包括：采用边界噪声去除方法，去除所述主动遥感影像边界的伪图像；采用热噪声消除方法，消除去除边界伪图像后的所述主动遥感影像的热噪声；采用相干斑滤波方法，对消除热噪声后的所述主动遥感影像进行滤波；采用辐射定标方法，将滤波后的所述主动遥感影像的强度值转换为后向散射系数；采用地形校正方法，赋予经辐射定标后的所述主动遥感影像真实的地理坐标；采用分贝转换方法，将地形校正后的所述主动遥感影像的所述后向散射系数转换为分贝值，完成所述主动遥感影像的预处理。4.根据权利要求1所述的多时相主被动遥感随机森林农作物识别方法，其特征在于，对所述被动遥感影像进行预处理的过程包括：将所述监测区域的边界作为要素类进行读取；采用大气校正方法，消除所述被动遥感影像中因大气和光照产生的图像误差；对所述被动遥感影像进行云处理，消除所述被动遥感影像中云层遮盖的部分，完成所述被动遥感影像的预处理。5.根据权利要求1所述的多时相主被动遥感随机森林农作物识别方法，其特征在于，所述主被动遥感影像融合数据的获取过程包括：提取所述主动遥感影像的时间序列特征、后向散射系数特征和极化分解特征，通过时间叠加，生成所述主动遥感影像的后向散射系数时间序列和极化分解时间序列；提取所述被动遥感影像的时间序列特征和植被指数特征，通过时间叠加，生成所述被动遥感影像的植被指数时间序列；对所述后向散射系数时间序列、所述极化分解时间序列和所述植被指数时间序列进行叠加融合，得到所述主被动遥感影像融合数据。6.根据权利要求1所述的多时相主被动遥感随机森林农作物识别方法，其特征在于，所述S3包括：通过实地考察和高分辨率遥感影像创建样本标签，并将所述样本标签分为训练集标签和测试集标签；将所述训练集标签覆盖至所述主被动遥感影像融合数据中，得到训练集样本。7.根据权利要求1所述的多时相主被动遥感随机森林农作物识别方法，其特征在于，采用随机森林对所述训练集样本进行训练。8.根据权利要求7所述的多时相主被动遥感随机森林农作物识别方法，其特征在于，所述随机森林的分类器的决策树个数为300，特征数目为特征总数的开方值。9.一种多时相主被动遥感随机森林农作物识别系统，其特征在于，包括：第一获取模块、预处理模块、融合模块、第二获取模块和识别模块；所述第一获取模块用于获取监测区域的主动遥感影像和被动遥感影像；所述预处理模块用于对所述主动遥感影像和所述被动遥感影像进行预处理；所述融合模块用于对预处理后的所述主动遥感影像和预处理后的所述被动遥感影像进行融合，得到主被动遥感影像融合数据；所述第二获取模块用于获取样本标签，并基于所述样本标签得到训练集样本；所述识别模块用于对所述训练集样本进行训练，并对所述主被动遥感影像融合数据进行识别，验证识别结果。
说明书desc
技术领域本发明涉及农业遥感监测技术领域，特别涉及一种多时相主被动遥感随机森林农作物识别方法及系统。背景技术由于作物的生长具有季相节律性和物候变化规律性的特点，遥感数据的时间序列可以从时间这一全新的维度刻画作物特性。目前农作物识别的方法主要是基于被动遥感植被指数时间序列和基于主动遥感雷达特征时间序列的方法。利用被动遥感植被指数时间序列进行农作物识别是一种行之有效的方法，但容易受到阴雨天云层遮盖的影响，很难得到完整的时间序列。主动遥感可以不受天气影响，获得连续的时间序列图像，但农作物识别精度较低。因此，如何利用主被动遥感的特点，针对典型农作物的生长特性进行农作物识别是目前亟需解决的问题。发明内容为解决上述现有技术中所存在的问题，本发明提供一种多时相主被动遥感随机森林农作物识别方法及系统，融合多时相主被动遥感数据，采用参数优化的随机森林分类器进行农作物识别，提高了监测区域农作物遥感识别的准确性。为了实现上述技术目的，本发明提供了一种多时相主被动遥感随机森林农作物识别方法，包括以下步骤：S1，获取监测区域的主动遥感影像和被动遥感影像，对所述主动遥感影像和所述被动遥感影像进行预处理；S2，对预处理后的所述主动遥感影像和预处理后的所述被动遥感影像进行融合，得到主被动遥感影像融合数据；S3，获取样本标签，基于所述样本标签得到训练集样本；S4，对所述训练集样本进行训练，并对所述主被动遥感影像融合数据进行识别，验证识别结果，完成农作物识别。可选地，所述主动遥感影像的获取过程包括：根据农作物的生长周期，确定获取农作物影像的时间范围；基于所述时间范围，获取所述监测区域内的雷达遥感数据，得到主动遥感影像。可选地，对所述主动遥感影像进行预处理的过程包括：采用边界噪声去除方法，去除所述主动遥感影像边界的伪图像；采用热噪声消除方法，消除去除边界伪图像后的所述主动遥感影像的热噪声；采用相干斑滤波方法，对消除热噪声后的所述主动遥感影像进行滤波；采用辐射定标方法，将滤波后的所述主动遥感影像的强度值转换为后向散射系数；采用地形校正方法，赋予经辐射定标后的所述主动遥感影像真实的地理坐标；采用分贝转换方法，将地形校正后的所述主动遥感影像的所述后向散射系数转换为分贝值，完成所述主动遥感影像的预处理。可选地，对所述被动遥感影像进行预处理的过程包括：将所述监测区域的边界作为要素类进行读取；采用大气校正方法，消除所述被动遥感影像中因大气和光照产生的图像误差；对所述被动遥感影像进行云处理，消除所述被动遥感影像中云层遮盖的部分，完成所述被动遥感影像的预处理。可选地，所述主被动遥感影像融合数据的获取过程包括：提取所述主动遥感影像的时间序列特征、后向散射系数特征和极化分解特征，通过时间叠加，生成所述主动遥感影像的后向散射系数时间序列和极化分解时间序列；提取所述被动遥感影像的时间序列特征和植被指数特征，通过时间叠加，生成所述被动遥感影像的植被指数时间序列；对所述后向散射系数时间序列、所述极化分解时间序列和所述植被指数时间序列进行叠加融合，得到所述主被动遥感影像融合数据。可选地，所述S3包括：通过实地考察和高分辨率遥感影像创建样本标签，并将所述样本标签分为训练集标签和测试集标签；将所述训练集标签覆盖至所述主被动遥感影像融合数据中，得到训练集样本。可选地，采用随机森林对所述训练集样本进行训练。可选地，所述随机森林的分类器的决策树个数为300，特征数目为特征总数的开方值。本发明还提供了一种多时相主被动遥感随机森林农作物识别系统，包括：第一获取模块、预处理模块、融合模块、第二获取模块和识别模块；所述第一获取模块用于获取监测区域的主动遥感影像和被动遥感影像；所述预处理模块用于对所述主动遥感影像和所述被动遥感影像进行预处理；所述融合模块用于对预处理后的所述主动遥感影像和预处理后的所述被动遥感影像进行融合，得到主被动遥感影像融合数据；所述第二获取模块用于获取样本标签，并基于所述样本标签得到训练集样本；所述识别模块用于对所述训练集样本进行训练，并对所述主被动遥感影像融合数据进行识别，验证识别结果。本发明具有如下技术效果：以主动遥感影像数据和被动遥感影像数据为数据源，通过对后向散射系数、极化分解、植被指数、时间序列等多源特征进行融合，得到主被动遥感影像融合数据，根据实地样本数据和高分辨率影像创建农作物样本标签，将融合数据和样本标签结合制作样本，使用随机森林对融合数据进行识别，提高了监测区域农作物遥感识别的准确性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例一多时相主被动遥感随机森林农作物识别方法的流程框图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例一如图1所示，本发明公开一种多时相主被动遥感随机森林农作物识别方法，包括：S1，获取监测区域的主动遥感影像和被动遥感影像，对主动遥感影像和被动遥感影像进行预处理；主动遥感影像的获取过程包括：根据农作物的生长周期，确定获取农作物影像的时间范围；根据时间范围，获取监测区域内的雷达遥感数据，得到主动遥感影像。在本实施例中，以河南省温县为监测区域，在网站https://vertex.daac.asf.alaska.edu/下载Sentinel-1的C波段干涉宽幅模式GRD级图像。其中干涉宽幅模式支持合并更宽的条带宽度，下载得到具有中等分辨率的图像。GRD图像包括同向极化和异向极化两种极化方式，在原始Sentinel-1的基础上进行了一级处理，包括椭球投影、热噪声去除、仰角天线方向图和距离扩展损耗校正，它的距离向、方位向分辨率分别是20m、22m,其像素间距均为10m。最终选取2020年7月1日、7月25日、8月6日、8月18日、8月30日、9月11日、9月23日、10月5日、10月17日和10月29日的10景时相的主动遥感影像进行农作物分类。被动遥感影像的获取过程包括：将上述获取主动遥感影像的时间范围作为获取被动影像的时间范围，然后获取监测区域内的多光谱遥感数据，得到被动遥感影像。在本实施例中，哨兵卫星2号进行图像采集的日期包括2020年6月25日、7月1日、7月10日、8月5日、8月20日、9月1日、9月25日、10月1日和10月10日。这些Level-2A级数据涵盖了2020年7月到2020年10月间的不同植物生长期，通过谷歌地球引擎平台获取上述日期农作物的多光谱遥感数据，得到被动遥感影像。对主动遥感影像进行预处理的过程为：采用欧洲航天局的开源遥感处理软件SNAP及遥感处理软件ENVI5.3对哨兵卫星1号采集的主动遥感影像进行预处理，具体包括：采用边界噪声去除方法，去除所述主动遥感影像边界的伪图像；采用热噪声消除方法，消除去除边界伪图像后的所述主动遥感影像的热噪声；采用相干斑滤波方法，对消除热噪声后的所述主动遥感影像进行滤波；采用辐射定标方法，将滤波后的所述主动遥感影像的强度值转换为后向散射系数；采用地形校正方法，赋予经辐射定标后的所述主动遥感影像真实的地理坐标；采用分贝转换方法，将地形校正后的所述主动遥感影像的所述后向散射系数转换为分贝值，完成所述主动遥感影像的预处理。对被动遥感影像进行预处理的过程为：在GEE中对Sentinel-2采集的被动遥感影像进行预处理，具体包括：将监测区域的边界作为要素类进行读取，为了划分研究区，河南省温县的行政边界在GEE中作为要素类读取，并覆盖至Sentinel-2采集的被动遥感影像上；采用大气校正方法，消除被动遥感影像中因大气和光照产生的图像误差；对监测区域内被动遥感影像进行去云处理，消除被动遥感影像中云层遮盖的部分，完成被动遥感影像的预处理。S2，对预处理后的主动遥感影像和预处理后的被动遥感影像进行融合，得到主被动遥感影像融合数据；S21，提取主动遥感影像的时间序列特征、后向散射系数特征和极化分解特征，通过时间叠加，生成主动遥感影像的后向散射系数时间序列和极化分解时间序列，具体包括：将S1预处理后的主动遥感影像的后向散射系数按照数据本身的极化方式分为VV、VH极化后向散射系数，然后按照时间顺序叠加成VV、VH极化后向散射系数时间序列数据集。利用T3矩阵对VV、VH极化后向散射系数时间序列数据集进行进一步的Free-man极化分解，分解得到VV、VH极化分解时间序列数据集，该数据集中的极化分解特征是按照时间顺序叠加的。T3矩阵的计算公式如下所示：其中，k为散射矢量矩阵，k*为共轭转置矢量矩阵；SX＝SHV＝SVV，SHH、SVV为同极化分量；SHV、SVH为交叉极化分量。对VV、VH极化后向散射系数时间序列数据集和VV、VH极化分解时间序列数据集进行特征规范化：将每幅影像的像素值转换成通用比例，同时保留固有的相似性和变化。规范化可以提升机器学习算法的运行效率。规范化后生成Sentinel-1采集的主动遥感影像的后向散射系数时间序列和极化分解时间序列。S22，提取所述被动遥感影像的时间序列特征和植被指数特征，通过时间叠加，生成所述被动遥感影像的植被指数时间序列，具体包括：在GEE中提取被动遥感影像的光学特征并建立归一化植被指数时间序列数据集，该植被指数时间序列数据集中的植被指数特征是按照时间顺序叠加的。NDVI根据近红外和红光反射率的归一化变换计算，计算公式如下：其中，ρNIR是近红外波段，ρRED是红光波段。为了便于机器学习的计算，对获取的植被指数时间序列数据集进行特征规范化。规范化后生成Sentinel-2采集的被动遥感影像的植被指数时间序列。S23，对后向散射系数时间序列、极化分解时间序列和植被指数时间序列进行叠加融合，得到主被动遥感影像融合数据，具体包括：在遥感图像处理平台envi5.3软件中，对Sentinel-1得到的后向散射系数时间序列、Sentinel-1得到的极化分解时间序列和Sentinel-2得到的植被指数时间序列进行叠加融合操作，得到主被动遥感影像融合数据。后向散射系数时间序列数据集、极化分解时间序列数据集和植被指数时间序列数据集采用了相同的地球空间参考和空间数据投影，因此，叠加融合之前不需要地理配准。S3，获取样本标签，基于样本标签得到训练集样本；S31，通过实地考察和高分辨率遥感影像创建样本标签，并将样本标签分为训练集标签和测试集标签。具体包括：S311，在本实施例中，在实地考察过程中，除了记录每个地块的农作物属性信息外，还使用手持差分GNSS定位工具记录每个地块的中心经纬度坐标，采用WGS84椭球体的UTM坐标系，定位误差小于2m；S312，在ArcGIS软件平台中将GNSS定位工具产生的位置信息以及属性信息合并转换成矢量格式，并匹配至S1中Sentinel-1和Sentinel-2采集的遥感影像上；S313，采用目视解译的方法，在S312得到的遥感影像上以矢量文件为中心，标记标签多边形，得到样本标签。考虑Sentinel-1和Sentinel-2的地面采样距离，每个多边形都距离边界至少10m，避免边界处的像素混合。S314，按照7：3的比例将样本标签分为训练集标签和测试集标签。S32，将训练集标签覆盖至主被动遥感影像融合数据中，得到训练集样本。具体包括：S2得到的主被动遥感影像融合数据和S31得到的训练集标签都带有地理坐标，在遥感图像处理平台envi5.3软件中，同时加载训练集标签和主被动遥感影像融合数据，并通过地理坐标配准使二者坐标保持一致。在本实施例中，主被动遥感影像融合数据被训练集标签覆盖的部分与训练集标签匹配，生成训练集样本。S4，对训练集样本进行训练，并对主被动遥感影像融合数据进行识别，验证识别结果，完成农作物识别。S41，采用随机森林对训练集样本进行训练，并对主被动遥感影像融合数据进行识别，具体包括：随机森林的分类器通常有两个参数需要优化，即分类器中决策树的个数和在寻找最佳分割时需要考虑的特征数目。通常随机森林分类器中的决策树越多，分类效果就越好，但计算时间也就越长，而特征数目越少，方差就会减少，但同时偏差也会增加。所以本实施例对分类精度及时间效率进行综合考虑，将决策树的个数设置为300，特征数目为特征总数的开方值。在本实施例中，将训练集样本输入至设置好分类器参数的随机森林模型中进行训练，然后使用训练后的随机森林模型对主被动遥感影像融合数据进行识别。为了评估主被动遥感影像融合数据以及多时相数据的优势，还分别对Sentinel-1的后向散射系数时间序列、Sentinel-2的植被指数时间序列和Sentinel-2的植被指数时间序列中2020年9月1日的单时相影像进行了相同参数的训练和识别。S42，将测试集标签视为真实值，对识别结果进行精度验证，具体包括：采用总体分类精度和Kappa系数对S41的识别结果的四种数据进行精度验证，计算公式如下：总体分类精度的计算公式为：其中，pi,j表示属于第i类并被分配到第j类的像元总数，n表示类别数。Kappa系数的计算公式为：其中，N表示像元总数，a1，a2，…,an为每个类型的真实像元个数，b1，b2，…,bn为每个类型的预测像元个数。在本实施例中，为了评估主被动遥感影像融合数据以及多时相数据的优势，总体分类精度和Kappa系数的精度验证结果如表1所示：表1相对于单时相Sentinel-2，多时相Sentinel-2的总体分类精度提升了3.1％，Kappa系数提升了0.014。这一结果可以解释为，Sentinel-2图像的像素值随时间的变化规律显示了农作物的生长物候信息，所以使用多时相数据有助于识别不同作物。主被动遥感影像融合数据表现得最好，精度高于Sentinel-1、2时间序列数据，这就表明主被动遥感影像中数据的融合为农作物的识别提供了更加丰富的特征，比如植被指数、后向散射系数、极化分解等。此外，主被动遥感影像融合数据获得了丰富的时间序列图像，解决了云层遮盖、时间信息不足等问题。实施例二本发明还公开一种多时相主被动遥感随机森林农作物识别系统，其特征在于，包括：第一获取模块、预处理模块、融合模块、第二获取模块和识别模块；第一获取模块用于获取监测区域的主动遥感影像和被动遥感影像；预处理模块用于对主动遥感影像和被动遥感影像进行预处理；融合模块用于对预处理后的主动遥感影像和预处理后的被动遥感影像进行融合，得到主被动遥感影像融合数据；第二获取模块用于获取样本标签，并基于样本标签得到训练集样本；识别模块用于对训练集样本进行训练，并对主被动遥感影像融合数据进行识别，验证识别结果。以上显示和描述了本发明的基本原理、主要特征和优点。本行业的技术人员应该了解，本发明不受上述实施例的限制，上述实施例和说明书中描述的只是说明本发明的原理，在不脱离本发明精神和范围的前提下，本发明还会有各种变化和改进，这些变化和改进都落入要求保护的本发明范围内。本发明要求保护范围由所附的权利要求书及其等效物界定。
