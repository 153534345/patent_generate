标题title
一种有源负载电路和有源负载模组
摘要abst
本发明公开了一种有源负载电路和有源负载模组，有源负载电路的电压调节模块分别与供电电源、电阻调节模块和电流调节模块连接，根据电阻调节模块的不同电阻值，生成不同电压值的中间电压，中间电压的电压值与电阻调节模块的电阻值成正比例关系；电流调节模块分别与被测电源和供电电源连接，用于根据供电电源的电压、被测电源的电压和不同电压值的中间电压，生成不同电流值的目标电流，目标电流表征被测电源性能，目标电流的电流值与中间电压的电压值成正比例关系。由于电阻值和电压值成正比例关系，电压值与电流值成正比例关系，因此，电阻值与电流值成正比例关系，从而抽取目标电流测试被测电源的性能时，使电流调节更简便，提高用户体验。
权利要求书clms
1.一种有源负载电路，其特征在于，该电路包括：电阻调节模块、电压调节模块和电流调节模块；所述电压调节模块分别与供电电源、所述电阻调节模块和所述电流调节模块连接，用于根据调节所述电阻调节模块得到的不同电阻值，生成不同电压值的中间电压，并将所述中间电压输向所述电流调节模块，其中，所述中间电压的电压值与所述电阻调节模块的电阻值成正比例关系；所述电流调节模块分别与所述供电电源和被测电源连接，用于根据所述供电电源的电压、所述被测电源的电压和所述不同电压值的中间电压，生成不同电流值的目标电流，其中，所述目标电流用于表征所述被测电源的性能，所述目标电流的电流值与所述中间电压的电压值成正比例关系。2.如权利要求1所述的电路，其特征在于，所述电压调节模块包括第一电阻和第一电压控制单元；所述第一电阻的一端作为所述电压调节模块的第一端，与所述供电电源的正极连接，所述第一电阻的另一端作为所述电压调节模块的第三端，分别与所述第一电压控制单元的第一端和所述电阻调节模块的第一端连接；所述第一电压控制单元的第二端作为所述电压调节模块的第四端，与所述电阻调节模块的第二端连接；所述第一电压控制单元的第三端接地，所述第一电压控制单元的第四端作为所述电压调节模块的第二端，与所述供电电源的负极连接；所述第一电压控制单元，用于基于所述第一电阻分压后的电压，控制所述第一电压控制单元第一端的电压等于所述第一电压控制单元的第三端的电压。3.如权利要求2所述的电路，其特征在于，所述第一电压控制单元包括第二电阻、第一运算放大器以及第一开关管；所述第一运算放大器的正输入端作为所述第一电压控制单元的第一端，所述第一运算放大器的负输入端作为所述第一电压控制单元的第三端，所述第一运算放大器的输出端分别与所述第二电阻的一端和所述第一开关管的第一端连接，作为所述第一电压控制单元的第二端；所述第二电阻的另一端与所述第一开关管的控制端连接；所述第一开关管的第二端作为所述第一电压控制单元的第四端。4.如权利要求1所述的电路，其特征在于，所述电流调节模块包括功率电阻、第二电压控制单元和第三电压控制单元；所述第二电压控制单元的第一端作为所述电流调节模块的第一端，分别与所述电阻调节模块的第二端和所述电压调节模块的第四端连接，所述第二电压控制单元的第二端与所述功率电阻的一端连接，所述第二电压控制单元的第三端作为所述电流调节模块的第三端，与所述供电电源的负极连接；所述第二电压控制单元，用于基于所述供电电源的负极输出的电压，控制所述第二电压控制单元的第三端的电压等于所述第二电压控制单元的第一端的电压；所述第三电压控制单元的第一端与所述功率电阻的另一端连接，所述第三电压控制单元的第二端接地，所述第三电压控制单元的第三端作为所述电流调节模块的第二端，与所述被测电源的正极连接；所述第三电压控制单元，用于基于所述被测电源的正极输出的电压，控制所述第三电压控制单元的第一端的电压等于所述第三电压控制单元的第二端的电压。5.如权利要求4所述的电路，其特征在于，所述第二电压控制单元包括第二运算放大器、第三电阻、第四电阻以及第二开关管；所述第二运算放大器的负输入端作为所述第二电压控制单元的第一端，所述第二运算放大器的正输入端与所述第二开关管的第一端连接，作为所述第二电压控制单元的第二端，所述第二运算放大器的输出端与所述第三电阻的一端连接；所述第三电阻的另一端分别与所述第四电阻的一端和所述第二开关管的控制端连接；所述第四电阻的另一端与所述第二开关管的第二端连接，作为所述第二电压控制单元的第三端。6.如权利要求4或5所述的电路，其特征在于，所述第三电压控制单元包括第三运算放大器、第五电阻、第六电阻以及第三开关管；所述第三运算放大器的负输入端与所述第三开关管的第一端连接，作为所述第三电压控制单元的第一端，所述第三运算放大器的正输入端与所述第五电阻的一端连接，并接地，所述第三运算放大器的输出端与所述第六电阻的一端连接；所述第六电阻的另一端分别与所述第五电阻的另一端和所述第三开关管的控制端连接；所述第三开关管的第二端作为所述第三电压控制单元的第三端。7.如权利要求6所述的电路，其特征在于，还包括瞬态电流抑制模块；所述瞬态电流抑制模块与所述被测电源、所述供电电源和所述第三开关管的控制端连接，用于基于所述供电电源输出的供电电压，通过所述第三开关管对所述被测电源输出的瞬态电流进行抑制。8.如权利要求7所述的电路，其特征在于，所述瞬态电流抑制模块包括比较器、第四开关管、第五开关管、第七电阻以及第八电阻；所述比较器的正输入端分别与所述比较器的输出端和所述第七电阻的一端连接，并接地，所述比较器的负输入端作为所述瞬态电流抑制模块的第一端，与所述被测电源的正极连接；所述第七电阻的另一端与所述第四开关管的控制端连接；所述第四开关管的第一端作为所述瞬态电流抑制模块的第二端，与所述供电电源的正极连接，所述第四开关管的第二端分别与所述第八电阻的一端和所述第五开关管的控制端连接；所述第八电阻的另一端作为所述瞬态电流抑制模块的第三端，分别与所述第五开关管的第一端和所述供电电源的负极连接；所述第五开关管的第二端作为所述瞬态电流抑制模块的第四端，与所述第三开关管的控制端连接。9.如权利要求8所述的电路，其特征在于，所述瞬态电流抑制模块还包括第九电阻和第十电阻；所述第九电阻的一端接地，所述第九电阻的另一端分别与所述比较器的正输入端和所述第十电阻的一端连接；所述第十电阻的另一端与所述比较器的输出端连接；其中，所述第十电阻的阻值大于所述第九电阻的阻值。10.一种有源负载模组，其特征在于，包括如权利要求1～9任一所述的有源负载电路和电源发生电路；所述电源发生电路用于输出所述供电电源。
说明书desc
技术领域本发明涉及电源测试技术领域，特别涉及一种有源负载电路和有源负载模组。背景技术负载测试装置主要用于对电源板、蓄电池、发电机等电源设备进行负载测试，模拟电源设备在实际应用时的负载状况，测试电源性能。目前使用的负载电路，一般有电子负载和纯阻性的负载两种。电子负载，在初次连接供电电源时，会有大的电流脉冲。在测试电源的过程中，会随着输入电压的抖动而出现负载电流的波动，严重时会产生振荡。在输入电压较低时，会有调节不准的问题。纯阻性的负载，可以避免上述问题，但是调节起来较为麻烦。调节负载时电阻线性变化，所以电阻值与抽取的电流值的变化是反比例关系，不够直观，用户体验差。发明内容本发明提供一种有源负载电路和有源负载模组，用以解决现有技术中存在的在对电源的性能进行测试时，抽取的电流值随电阻值的变化不够直观，电流调节不够便捷，用户体验差的问题。第一方面，本发明实施例提供一种有源负载电路，该电路包括：电阻调节模块、电压调节模块和电流调节模块；所述电压调节模块分别与供电电源、电阻调节模块和电流调节模块连接，用于根据调节所述电阻调节模块得到的不同电阻值，生成不同电压值的中间电压，并将所述中间电压输向所述电流调节模块，其中，所述中间电压的电压值与所述电阻调节模块的电阻值成正比例关系；所述电流调节模块分别与所述供电电源和被测电源连接，用于根据所述供电电源的电压、所述被测电源的电压和不同电压值的中间电压，生成不同电流值的目标电流，其中，所述目标电流用于表征所述被测电源性能的电流，所述目标电流的电流值与所述中间电压的电压值成正比例关系。在一种可能的实现方式中，所述电压调节模块还包括第一电阻和第一电压控制单元；所述第一电阻的一端作为所述电压调节模块的第一端，与所述供电电源的正极连接，所述第一电阻的另一端作为所述电压调节模块的第三端，分别与所述第一电压控制单元的第一端和所述电阻调节模块的第一端连接；所述第一电压控制单元的第二端作为所述电压调节模块的第四端，与所述电阻调节模块的第二端连接；所述第一电压控制单元的第三端接地，所述第一电压控制单元的第四端作为所述电压调节模块的第二端，与所述供电电源的负极连接；所述第一电压控制单元，用于基于所述第一电阻分压后的电压，控制所述第一电压控制单元的第一端的电压等于所述第一电压控制单元的第三端的电压。在一种可能的实现方式中，所述第一电压控制单元包括第二电阻、第一运算放大器以及第一开关管；所述第一运算放大器的正输入端作为所述第一电压控制单元的第一端，所述第一运算放大器的负输入端作为所述第一电压控制单元的第三端，所述第一运算放大器的输出端分别与所述第二电阻的一端和所述第一开关管的第一端连接，作为所述第一电压控制单元的第二端；所述第二电阻的另一端与所述第一开关管的控制端连接；所述第一开关管的第二端作为所述第一电压控制单元的第四端。在一种可能的实现方式中，所述电压调节模块还包括第一电容；所述第一电容的一端与所述供电电源的正极连接，所述第一电容的另一端作为所述电压调节模块第四端。在一种可能的实现方式中，所述电流调节模块包括功率电阻、第二电压控制单元和第三电压控制单元；所述第二电压控制单元的第一端作为所述电流调节模块的第一端，分别与所述电阻调节模块的第二端和所述电压调节模块的第四端连接，所述第二电压控制单元的第二端与所述功率电阻的一端连接，所述第二电压控制单元的第三端作为所述电流调节模块的第三端，与所述供电电源的负极连接；所述第二电压控制单元，用于基于所述供电电源的负极输出的电压，控制所述第二电压控制单元的第三端的电压等于所述第二电压控制单元的第一端的电压；所述第三电压控制单元的第一端与所述功率电阻的另一端连接，所述第三电压控制单元的第二端接地，所述第三电压控制单元的第三端作为所述电流调节模块的第二端，与所述被测电源的正极连接；所述第三电压控制单元，用于基于所述被测电源的正极输出的电压，控制所述第三电压控制单元的第一端的电压上等于所述第三电压控制单元的第二端的电压。在一种可能的实现方式中，所述第二电压控制单元包括第二运算放大器、第三电阻、第四电阻以及第二开关管；所述第二运算放大器的负输入端作为所述第二电压控制单元的第一端，所述第二运算放大器的正输入端与所述第二开关管的第一端连接，作为所述第二电压控制单元的第二端，所述第二运算放大器的输出端与所述第三电阻的一端连接；所述第三电阻的另一端分别与所述第四电阻的一端和所述第二开关管的控制端连接；所述第四电阻的另一端与所述第二开关管的第二端连接，作为所述第二电压控制单元的第三端。在一种可能的实现方式中，所述第三电压控制单元包括第三运算放大器、第五电阻、第六电阻以及第三开关管；所述第三运算放大器的负输入端与所述第三开关管的第一端连接，作为所述第三电压控制单元的第一端，所述第三运算放大器的正输入端与所述第五电阻的一端连接，并接地，所述第三运算放大器的输出端与所述第六电阻的一端连接；所述第六电阻的另一端分别与所述第五电阻的另一端和所述第三开关管的控制端连接；所述第三开关管的第二端作为所述第三电压控制单元的第三端。在一种可能的实现方式中，所述电流调节模块还包括第二电容；所述第二电容的一端与所述功率电阻的一端连接，所述第二电容的另一端与所述第三电阻的另一端连接。在一种可能的实现方式中，所述电路还包括瞬态电流抑制模块；所述瞬态电流抑制模块与所述被测电源、所述供电电源和所述第三开关管的控制端连接，用于基于所述供电电源，对所述被测电源的正极输出的瞬态电流进行抑制。在一种可能的实现方式中，还包括比较器、第四开关管、第五开关管、第七电阻以及第八电阻；所述比较器的正输入端分别与所述比较器的输出端和所述第七电阻的一端连接，并接地，所述比较器的负输入端作为所述瞬态电流抑制模块的第一端，与所述被测电源的正极连接；所述第七电阻的另一端与所述第四开关管的控制端连接；所述第四开关管的第一端作为所述瞬态电流抑制模块的第二端，与所述供电电源的正极连接，所述第四开关管的第二端分别与所述第八电阻的一端和所述第五开关管的控制端连接；所述第八电阻的另一端作为所述瞬态电流抑制模块的第三端，分别与所述第五开关管的第一端和所述供电电源的负极连接；所述第五开关管的第二端作为所述瞬态电流抑制模块的第四端，与所述第三开关管的控制端连接。在一种可能的实现方式中，还包括第九电阻和第十电阻；所述第九电阻的一端接地，所述第九电阻的另一端分别与所述比较器的正输入端和所述第十电阻的一端连接；所述第十电阻的另一端与所述比较器的输出端连接；其中，所述第十电阻的阻值大于所述第九电阻的阻值。第二方面，本发明实施例提供一种有源负载模组，包括如第一方面中任一所述的有源负载电路和电源发生电路；所述电源发生电路用于输出所述供电电源。在一种可能的实现方式中，所述供电电源为共地的正负电源。本发明有益效果如下：本发明实施例提供的一种有源负载电路和有源负载模组，由于电压调节模块可以使中间电压的电压值与电阻调节模块的电阻值成正比例关系，电流调节模块可以使目标电流的电流值与中间电压的电压值成正比例关系，因此可以使电阻调节模块的电阻值和目标电流的电流值成正比例关系，从而在基于电阻调节模块的电阻值和目标电流的电流值测试被测电源的性能时，使电流调节更简便，测试数据更直观，提高用户体验。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简要介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域的普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种有源负载电路的结构示意图；图2为本发明实施例提供的又一种有源负载电路的结构示意图；图3为本发明实施例提供的又一种有源负载电路的结构示意图；图4为本发明实施例提供的又一种有源负载电路的结构示意图；图5为本发明实施例提供的又一种有源负载电路的结构示意图；图6为本发明实施例提供的又一种有源负载电路的结构示意图；图7为本发明实施例提供的又一种有源负载电路的结构示意图；图8为本发明实施例提供的又一种有源负载电路的结构示意图；图9为本发明实施例提供的又一种有源负载电路的结构示意图；图10为本发明实施例提供的又一种有源负载电路的结构示意图；图11为本发明实施例提供的又一种有源负载电路的结构示意图；图12为本发明实施例提供的又一种有源负载电路的结构示意图；图13为本发明实施例提供的又一种有源负载电路的结构示意图；图14为本发明实施例提供的一种有源负载模组的结构示意图。具体实施方式为了使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明作进一步地详细描述，显然，所描述的实施例仅仅是本发明一部份实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。在使用纯阻性负载测试电源的性能时，存在电流变化和电阻变化不够直观，用户体验差的问题。基于上述问题，本发明实施例提供了一种有源负载电路，如图1所示，该电路包括电阻调节模块101、电压调节模块102和电流调节模块103；电压调节模块102分别与供电电源V、电阻调节模块101和电流调节模块103谅解，用于根据调节所述电阻调节模块101得到的不同电阻值，生成不同电压值的中间电压，并将所述中间电压输向电流调节模块103，其中，中间电压的电压值与电阻调节模块的电阻值成正比例关系；电流调节模块103分别与供电电源的负极V-和被测电源的正极Vin+连接，用于根据供电电源的电压、被测电源的电压和不同电压值的中间电压，生成不同电流值的目标电流，其中，目标电流用于表征被测电源性能的电流，目标电流的电流值与中间电压的电压值成正比例关系。本发明实施例提供的有源负载电路，由于电压调节模块可以使中间电压的电压值与电阻调节模块的电阻值成正比例关系，电流调节模块可以使目标电流的电流值与中间电压的电压值成正比例关系，因此可以使电阻调节模块的电阻值和目标电流的电流值成正比例关系，从而在基于电阻调节模块的电阻值和目标电流的电流值测试被测电源的性能时，使电流调节更简便，测试数据更直观，提高用户体验。需要说明的是，本发明实施例中的被测电源的负极Vin-接地；电阻调节模块可以为可调电阻。下面以电阻调节模块101为可调电阻RS为例进行说明。在具体实施中，电压调节模块102可以包括第一电阻R1和第一电压控制单元1021，如图2所示：第一电阻R1的一端作为电压调节模块102的第一端，与供电电源的正极V+连接，第一电阻R1的另一端作为电压调节模块102的第三端，分别与第一电压控制单元1021的第一端A和可调电阻RS的一端连接；第一电压控制单元1021的第二端B作为电压调节模块102的第四端，与可调电阻RS的另一端连接，第一电压控制单元1021的第三端接地，第一电压控制单元1021的第四端作为电压调节模块的第二端，与供电电源的负极V-连接；第一电压控制单元1021用于基于第一电阻R1分压后的电压，控制第一电压控制单元1021第一端A的电压等于第一电压控制单元1021的第三端的电压。由于第一电压控制单元1021的第三端接地，第一电压控制单元1021控制电压控制单元1021的第一端的电压等于第一电压控制单元1021的第三端的电压，即将第一电压控制单元1021第一端A点的电压值固定在0V，也就是流过电阻R1的电流为供电电源输出的电压值除以电阻R1的阻值，由于供电电源输出的电压值和电阻R1的阻值为定值，所以流过电阻R1的电流为定值，可变电阻RS与电阻R1串联，则流过可变电阻RS的电流值为定值，又因为B点的电压值除以RS的阻值等于流过可变电阻RS的电流值，所以B点输出的电压值与电阻RS的阻值成正比例关系。如果A点处的电压不为定值，则中间电压的电压值与电阻调节模块的电阻值不能成正比例关系。第一电压控制单元1021的作用为控制A点的电压值等于0V，从而可以确保B点的电压值与可变电阻RS的阻值成正比例关系。进一步的，如图3所示，第一电压控制单元1021可以包括第二电阻R2、第一运算放大器A1以及第一开关管Q1；第一运算放大器A1的正输入端作为第一电压控制单元1021的第一端，第一运算放大器A1的负输入端作为第一电压控制单元1021的第三端，第一运算放大器A1的输出端分别与第二电阻R2的一端和第一开关管Q1的第一端连接，作为第一电压控制单元1021的第二端；第二电阻R2的另一端与第一开关管Q1的控制端连接；第一开关管Q1的第二端作为第一电压控制单元1021的第四端。其中，第一开关管Q1可以为NPN三极管，第一开关管Q1的控制端为三极管的基极，第一开关管Q1的第一端为三极管的集电极，第一开关管Q1的第二端为三极管的发射极。如图3所示的电路，本发明实施例中的电压调节模块的工作原理如下：当节点A电压VA高于GND时，即运算放大器A1的正输入端的电压高于负输入端的电压时，运算放大器A1的输出电压升高，三极管Q1的基极电流增大，集电极电流增大，VA电压下降；当VA低于GND时，运算放大器A1的输出电压降低，三极管Q1基极电流减小，集电极电流减小，VA电压上升。通过上述两个状态，节点A的电压VA始终保持在GND电平上，则：VA＝V-I1*R1＝0其中，V为供电电源的正极输出的电压值，I1为流过电阻R1的电流值，R1为电阻R1的阻值。I1＝V/R1节点B的电压VB为：VB＝-I1*RS其中，RS为可变电阻RS的阻值。即：VB/RS＝-I1 由公式2可知，电流I1为定值，由公式4可知，节点B的电压VB的电压值与可调电阻RS的电阻值的比值为一常数，因此节点B的电压VB的电压值与可调电阻RS的电阻值成正比例关系。在一种可能的实现方式中，如图4所示，本发明实施例提供的电压调节模块还可以包括第一电容C1；第一电容C1的一端与供电电源的正极V+连接，第一电容C1的另一端与可调电阻RS的另一端连接。第一电容C1起滤波作用。上述是对本发明实施例公开的电压调节模块102的说明，下面对本发明实施例提供的电流调节模块103进行说明。如图5所示，本发明实施例提供的一种电流调节模块103，电流调节模块103可以包括功率电阻RP、第二电压控制单元1031和第三电压控制单元1032；第二电压控制单元1031的第一端作为电流调节模块103的第一端，分别与可变电阻RS的另一端和电压调节模块的第四端连接，第二电压控制单元1031的第二端与功率电阻RP的一端连接，第二电压控制单元1031的第三端作为电流调节模块103的第三端，与供电电源的负极V-连接；第二电压控制单元1031用于基于供电电源的负极V-输出的电压，控制第二电压控制单元1031的第三端C的电压等于第二电压控制单元1031的第一端B的电压。第三电压控制单元1032的第一端与功率电阻RP的另一端连接，第三电压控制单元1032的第二端接地，第三电压控制单元1032的第三端作为电流调节模块103的第二端，与被测电源的正极V+连接；第三电压控制单元1032用于基于被测电源的正极Vin+输出的电压，控制第三电压控制单元1032的第一端D的电压等于第三电压控制单元的第二端的电压，即D点的电压等于GND。需要说明的是，本发明实施例中的目标电流为流过功率电阻RP的电流。本发明实施例中，第二电压控制单元控制C点的电压与B点的电压相等，第三电压控制单元将D点的电压控制在一定值0V，则C点的电压和D点的电压的电压差除以目标电流的电流值，得到功率电阻的阻值，由于功率电阻的阻值不变，所以C点的电压和D点的电压的电压差与目标电流的电流值成正比例关系；如果将D点的电压控制在0V，则C点的电压与目标电流的电流值成正比例关系，第三电压控制单元的作用为将D点的电压控制在0V，确保C点的电压值与目标电流的电流值成正比例关系，第二电压控制单元控制C点的电压与B点的电压相等，从而可以确保B点的电压与目标电流的电流值成正比例关系。具体的，如图6所示，第二电压控制单元1031可以包括第二运算放大器A2、第三电阻R3、第四电阻R4以及第二开关管Q2；第二运算放大器A2的负输入端作为第二电压控制单元1031的第一端，第二运算放大器A2的正输入端与第二开关管Q2的第一端连接，作为第二电压控制单元1031的第二端，第二运算放大器A2的输出端与第三电阻R3的一端连接；第三电阻R3的另一端分别与第四电阻R4的一端和第二开关管Q2的控制端连接；第四电阻R4的另一端与第二开关管Q2的第二端连接，作为第二电压控制单元1031的第三端。其中，第二开关管Q2可以为N沟道MOSFET，第二开关管Q2的控制端为晶体管的栅极，第二开关管Q2的第一端为晶体管的漏极，第二开关管Q2的第二端为晶体管的源极。本发明实施例提供的第三电压控制单元1032，如图7所示，可以包括第三运算放大器A3、第五电阻R5、第六电阻R6以及第三开关管Q3；第三运算放大器A3的负输入端与第三开关管Q3的第一端连接，作为第三电压控制单元1032的第一端，第三运算放大器A3的正输入端与第五电阻R5的一端连接，并接地，第三运算放大器A3的输出端与第六电阻R6的一端连接；第六电阻R6的另一端分别与第五电阻R5的另一端和第三开关管Q3的控制端连接；第三开关管Q3的第二端作为第三电压控制单元1032的第三端。其中，第三开关管Q3可以为N沟道MOSFET，第三开关管Q3的控制端为晶体管的栅极，第三开关管Q3的第一端为晶体管的源极，第二开关管Q2的第二端为晶体管的漏极。基于图6和图7所示的第二电压控制单元1031和第三电压控制单元1032的结构示意图，电流调节模块的工作原理如下：由于运算放大器A3的正输入端接在GND上，输出端通过分压电阻R5、R6接到Q3的栅极，Q3工作在线性区，节点D的电压VD为：VD＝Vin-I2*RQ3其中，Vin为被测电源的正极输出的电压值，I2为流过开关管Q3、功率电阻RP的电流值，RQ3为开关管Q3工作在线性区的电阻值。当节点D的电压VD低于GND时，运算放大器A3的输出电压升高，Q3电阻值RQ3减小，VD电压上升；当节点D的电压VD高于GND时，运算放大器A3的输出电压降低，Q3电阻值RQ3增加，VD电压下降。节点D电压始终保持在GND电平上。由于D点的电压为GND，则Q2工作在线性区，节点C的电压VC为：VC＝I2*RQ2-V 其中，RQ2为开关管Q2工作在线性区的电阻值，V为供电电源的正极输出的电压值。当节点C的电压VC高于节点B的电压VB时，运算放大器A2的输出电压升高，Q2的电阻值RQ2减小，VC电压下降；当节点C的电压VC低于节点B的电压VB时，运算放大器A2的输出电压降低，Q2的电阻值RQ2增加，VC电压上升。节点C的电压VC始终与节点B的电压VB相等。VC＝-V*RS/R1则电流I2为：I2＝/RP由于VD电压为GND，因此：I2＝-VC/RP 即：VC/I2＝-RP从公式10可以看出，电流I2的电流值与节点C的电压VC的电压值成正比例关系。本发明实施例中，功率电阻RP和第二电压控制单元可以都工作在负电压域，这种设计保证了在被测电源电压很低时，电流采样电路两端仍有足够压差，可以满足电流调节的需求。如图8所示，为本发明实施例提供的一种有源负载电路，由于VB＝VC，因此：I2＝/RP＝V*RS/即：I2/RS＝V/ 从公式12可以看出，电流I2与供电电源的正极输出的供电电压V、功率电阻RP、分压电阻R1、可调电阻RS四个参数相关，供电电压V、功率电阻RP、分压电阻R1的参数是固定的，只有可调电阻RS可变。因此，I2的电流值与RS的阻值成正比例关系。本发明实施例中，I2即流过功率电阻RP的电流，也为从被测电源Vin抽取的电流。在具体实施中，本发明实施例提供的电流调节模块，如图9所示，还可以包括第二电容C2；第二电容C2的一端与功率电阻RP的一端连接，第二电容C2的另一端与第三电阻R3的另一端连接。第二电容C2为滤波电容。在具体实施中，本发明实施例提供的电流调节模块，如图10所示，还可以包括第三电容C3；第三电容C3的一端接地，第三电容C3的另一端与第五电阻R5的另一端连接。第三电容C3为软启动电容，用于增强电路稳定性。本发明实施例提供的有源负载电路，如图11所示，还可以包括瞬态电流抑制模块110，其中，瞬态电流抑制模块分别与被测电源的正极Vin+、供电电源的正极V+、供电电源的负极V-连接和第三开关管Q3的控制端连接，瞬态电流抑制模块110用于基于供电电源，对被测电源的正极Vin+输出的瞬态电流进行抑制。在具体实施中，如图12所示，瞬态电流抑制模块110可以包括比较器COMP1、第四开关管Q4、第五开关管Q5、第七电阻R7以及第八电阻R8；比较器COMP1的正输入端分别与比较器COMP1的输出端和第七电阻R7的一端连接，并接地，比较器COMP1的负输入端作为瞬态电流抑制模块110的第一端，与被测电源的正极Vin+连接；第七电阻R7的另一端与第四开关管Q4的控制端连接；第四开关管Q4的第一端作为瞬态电流抑制模块110的第二端，与供电电源的正极V+连接，第四开关管Q4的第二端分别与第八电阻R8的一端和第五开关管Q5的控制端连接；第八电阻R8的另一端作为瞬态电流抑制模块110的第三端，分别与第五开关管Q5的第一端和供电电源的负极V-连接；第五开关管Q5的第二端作为瞬态电流抑制模块110的第四端，与第三开关管Q3的控制端连接。其中，第四开关管Q4可以为PNP型三极管，Q4的控制端为PNP型三极管的基极，Q4的第一端为PNP型三极管的发射极，Q4的第二端为PNP型三极管的集电极；第五开关管Q5可以为P型MOSFET，Q5的控制端为P型MOSFET的栅极，Q5的第一端为P型MOSFET的源极，Q5的第二端为P型MOSFET的漏极。在电路接上被测电源后，瞬态电流抑制模块110可以抑制电流尖峰的出现，即抑制瞬态电流。电流尖峰即电流值很大的电流，如果存在电流尖峰，流过该电流的器件可能被损坏，因此抑制电流尖峰，可以保护电路中的器件不被损坏。基本思想为当被测电源的正极Vin+的电压低于GND时，Q3完全关闭，当被测电源的正极Vin+的电压低于GND时，Q3缓开启。当Vin+端有被测电源接入时，比较器COMP1输出为-V，第四开关管Q4导通，节点F电压接近V-VT，VT为开关管Q5的体二极管的导通电压，因此VF电压高于VG，Q5不导通，各节点电压正常。当Vin+端被测电源拔出时，I2变成0，节点D的电压VD下降到负值，Q3管子的电阻变小，Vin+也下降到负值，比较器COMP1输出变为+V，第四开关管Q4不再导通。VF电压变成-V，Q5导通，将节点G电压下拉，直到Q5进入亚阈值导通。Q3关闭，对外呈现高阻态。Vin+端有被测电源接入，COMP1输出为-V，Q4导通，节点F电压接近V-VT。VF电压高于VG，Q5关闭，节点G电压回升。此过程中，节点G电压上升，Q3进入从截止区进入线性区，I2不再是0。I2一旦不再为0，VC电压迅速和VB电压相等，VD也开始随之上升。当点D电压略微超过GND时，A3的输出下降，点D稳定在GND上。由于软启动电容C3的存在，此上升时间有us级。为了增加一些滞回，可以不直接将比较器COMP1的正输入端接地，而是接在分压电阻R9、R10之间。如图13所示，第九电阻R9的一端接地，第九电阻R9的另一端分别与比较器COMP1的正输入端和第十电阻R10的一端连接；第十电阻R10的另一端与比较器COMP1的输出端连接。其中，第十电阻R10的阻值大于第九电阻R9的阻值，需要有R10＞＞R9。这样，判断被测电源拔出的Vin+阈值电压为-V*R9/R10，判断有被测电源插入的Vin+阈值电压为V*R9/R10。本发明实施例中，利用被测电源的电压控制功率管开关，在未加上被测电源时关闭负载电路，防止接上被测电源时产生电流尖峰。需要说明的是，本发明实施例中的运算放大器和比较器正常工作时的供电电压均由供电电源提供，上图中均未标出，也就是运算放大器的电源正极与供电电源的正极连接，运算放大器的电源负极与供电电源的负极连接，比较器的电源正极与供电电源的正极连接，比较器电源负极与供电电源的负极连接。基于相同的发明构思，本发明实施例还提供一种有源负载模组，如图14所示，包括电源发生电路1401和如上所述的有源负载电路1402，其中，电源发生电路用于输出供电电源。本发明实施例中的供电电源为共地的正负电源。显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。
