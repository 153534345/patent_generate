标题title
服务请求响应方法、装置、设备及介质
摘要abst
本公开提供了一种服务请求响应方法、装置、设备及介质，可以应用于计算机技术领域和金融技术领域。该服务请求响应方法包括：在接收服务请求指令之前，通过读取配置关系表，将请求域名信息与用户数据库的配置关系加载到缓存服务器中；接收来自客户端页面的服务请求指令，其中，服务请求指令中包括服务类型信息、请求域名信息和用户标识信息；利用拦截器基于请求域名信息，通过从所述缓存服务器中查询所述请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口；通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板；以及根据目标服务流程模板，执行针对服务请求指令的响应操作。
权利要求书clms
1.一种服务请求响应方法，包括：在接收服务请求指令之前，通过读取配置关系表，将请求域名信息与用户数据库的配置关系加载到缓存服务器中；接收来自客户端页面的所述服务请求指令，其中，所述服务请求指令中包括服务类型信息、请求域名信息和用户标识信息；利用拦截器基于所述请求域名信息，通过从所述缓存服务器中查询所述请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口；通过调用所述目标数据库的访问接口，根据所述服务类型信息和所述用户标识信息，从所述目标数据库中获取目标服务流程模板；以及根据所述目标服务流程模板，执行针对所述服务请求指令的响应操作。2.根据权利要求1所述的方法，其中，所述通过调用所述目标数据库的访问接口，根据所述服务类型信息和所述用户标识信息，从所述目标数据库中获取目标服务流程模板，包括：通过调用所述目标数据库的访问接口，根据所述服务类型信息，从所述目标数据库中获取第一目标用户权限列表，其中，所述第一目标用户权限列表中包括目标服务类型对应的不同用户标识信息；在确定所述用户标识信息存在于所述第一目标用户权限列表的情况下，从所述目标数据库中获取所述目标服务流程模板。3.根据权利要求1所述的方法，其中，所述用户标识信息包括用户角色标识和用户实体标识，所述通过调用所述目标数据库的访问接口，根据所述服务类型信息和所述用户标识信息，从所述目标数据库中获取目标服务流程模板，包括：通过调用所述目标数据库的访问接口，根据所述服务类型信息，从所述目标数据库中获取第二目标用户权限列表，其中，所述第二目标用户权限列表中包括目标服务类型对应的不同用户角色标识；在确定所述用户角色标识存在于所述第二目标用户权限列表的情况下，查询所述用户角色标识对应的目标用户实体标识列表，其中，所述目标用户实体标识列表中包括所述用户角色标识信息对应的不同用户实体标识；在确定所述用户实体标识存在于所述目标用户实体标识列表的情况下，从所述目标数据库中获取目标服务流程模板。4.根据权利要求1所述的方法，其中，所述根据所述目标服务流程模板，执行针对所述服务请求指令的服务请求处理操作，包括：根据所述目标服务流程模板，确定目标服务请求响应流程和用于执行所述目标服务请求响应流程的配置参数；按照所述目标服务请求响应流程和所述用于执行所述目标服务请求响应流程的配置参数，执行针对所述服务请求指令的所述服务请求处理操作。5.根据权利要求4所述的方法，其中，所述目标数据库中包括公共数据库和私有数据库，所述根据所述目标服务流程模板，确定目标服务请求响应流程和用于执行所述目标服务请求响应流程的配置参数，包括：根据所述目标服务流程模板，确定所述目标服务流程；在所述目标服务流程为公共服务流程的情况下，从所述公共数据库中获取所述用于执行所述目标服务请求响应流程的配置参数；在所述目标服务流程为私有服务流程的情况下，根据用户标识信息，从所述私有数据库中获取所述用于执行所述目标服务请求响应流程的配置参数。6.根据权利要求5所述的方法，其中，所述在所述目标服务流程为私有服务流程的情况下，根据用户标识信息，从所述私有数据库中获取所述用于执行所述目标服务请求响应流程的配置参数，包括：根据用户标识信息，从所述私有数据库中获取第三目标用户权限列表，其中，所述第三目标用户权限列表中包括所述目标服务流程对应的不同用户标识信息；在确定所述用户标识信息存在于所述第三目标用户权限列表中的情况下，从所述私有数据库中获取所述用于执行所述目标服务请求响应流程的配置参数。7.一种服务请求响应装置，包括：加载模块，用于在接收服务请求指令之前，通过读取配置关系表，将请求域名信息与用户数据库的配置关系加载到缓存服务器中；接收模块，用于接收来自客户端页面的服务请求指令，其中，所述服务请求指令中包括服务类型信息、请求域名信息和用户标识信息；查询模块，用于利用拦截器基于所述请求域名信息，通过从所述缓存服务器中查询所述请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口；获取模块，用于通过调用所述目标数据库的访问接口，根据所述服务类型信息和所述用户标识信息，从所述目标数据库中获取目标服务流程模板；以及执行模块，用于根据所述目标服务流程模板，执行针对所述服务请求指令的响应操作。8.一种电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，其中，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器执行根据权利要求1～6中任一项所述的方法。9.一种计算机可读存储介质，其上存储有可执行指令，该指令被处理器执行时使处理器执行根据权利要求1～6中任一项所述的方法。10.一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现根据权利要求1～6中任一项所述的方法。
说明书desc
技术领域本公开涉及计算机技术领域和金融技术领域，具体地涉及一种服务请求响应方法、装置、设备、介质和程序产品。背景技术传统的农产品批发服务平台中，服务流程较为单一，较难满足不同商户的需求。以农产品初始重量审核为例，一般采用农产品与运载工具的合计称重作为农产品初始重量，但这种重量审核方式，并不适用于水产类农产品的商户。因此，随着商户的个性化需求数量的增多，平台中的服务流程种类和数量不断增加，需要从大量服务流程中查询到能够满足用户需求的服务流程，导致服务平台对服务请求的响应速度较慢。发明内容鉴于上述问题，本公开提供了一种服务请求响应方法、装置、设备、介质和程序产品。根据本公开的一个方面，提供了一种服务请求响应方法，包括：在接收服务请求指令之前，通过读取配置关系表，将请求域名信息与用户数据库的配置关系加载到缓存服务器中；接收来自客户端页面的服务请求指令，其中，服务请求指令中包括服务类型信息、请求域名信息和用户标识信息；利用拦截器基于请求域名信息，通过从缓存服务器中查询请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口；通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板；以及根据目标服务流程模板，执行针对服务请求指令的响应操作。根据本公开的实施例，通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板，包括：通过调用目标数据库的访问接口，根据服务类型信息，从目标数据库中获取第一目标用户权限列表，其中，第一目标用户权限列表中包括目标服务类型对应的不同用户标识信息；在确定用户标识信息存在于第一目标用户权限列表的情况下，从目标数据库中获取目标服务流程模板。根据本公开的实施例，用户标识信息包括用户角色标识和用户实体标识，通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板，包括：通过调用目标数据库的访问接口，根据服务类型信息，从目标数据库中获取第二目标用户权限列表，其中，第二目标用户权限列表中包括目标服务类型对应的不同用户角色标识；在确定用户角色标识存在于第二目标用户权限列表的情况下，查询用户角色标识对应的目标用户实体标识列表，其中，目标用户实体标识列表中包括用户角色标识信息对应的不同用户实体标识；在确定用户实体标识存在于目标用户实体标识列表的情况下，从目标数据库中获取目标服务流程模板。根据本公开的实施例，根据目标服务流程模板，执行针对服务请求指令的服务请求处理操作，包括：根据目标服务流程模板，确定目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数；按照目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数，执行针对服务请求指令的服务请求处理操作。根据本公开的实施例，目标数据库中包括公共数据库和私有数据库，根据目标服务流程模板，确定目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数，包括：根据目标服务流程模板，确定目标服务流程；在目标服务流程为公共服务流程的情况下，从公共数据库中获取用于执行目标服务请求响应流程的配置参数；在目标服务流程为私有服务流程的情况下，根据用户标识信息，从私有数据库中获取用于执行目标服务请求响应流程的配置参数。根据本公开的实施例，在目标服务流程为私有服务流程的情况下，根据用户标识信息，从私有数据库中获取用于执行目标服务请求响应流程的配置参数，包括：根据用户标识信息，从私有数据库中获取第三目标用户权限列表，其中，第三目标用户权限列表中包括目标服务流程对应的不同用户标识信息；在确定用户标识信息存在于第三目标用户权限列表中的情况下，从私有数据库中获取用于执行目标服务请求响应流程的配置参数。本公开的另一个方面提供了一种服务请求响应装置，包括：加载模块、接收模块、查询模块、获取模块、执行模块。其中，加载模块，用于通过读取配置关系表，将请求域名信息与用户数据库的配置关系加载到缓存服务器中。接收模块，用于接收来自客户端页面的服务请求指令，其中，服务请求指令中包括服务类型信息、请求域名信息和用户标识信息。查询模块，用于利用拦截器基于请求域名信息，通过从缓存服务器中查询请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口。获取模块，用于通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板。执行模块，用于根据目标服务流程模板，执行针对服务请求指令的响应操作。根据本公开的实施例，获取模块包括第一获取单元和第二获取单元。其中，第一获取单元，用于通过调用目标数据库的访问接口，根据服务类型信息，从目标数据库中获取第一目标用户权限列表，其中，第一目标用户权限列表中包括目标服务类型对应的不同用户标识信息。第二获取单元，用于在确定用户标识信息存在于第一目标用户权限列表的情况下，从目标数据库中获取目标服务流程模板。根据本公开的实施例，获取模块包括第三获取单元、第一查询单元和第四获取单元。其中，第三获取单元，用于通过调用目标数据库的访问接口，根据服务类型信息，从目标数据库中获取第二目标用户权限列表，其中，第二目标用户权限列表中包括目标服务类型对应的不同用户角色标识。第一查询单元，用于在确定用户角色标识存在于第二目标用户权限列表的情况下，查询用户角色标识对应的目标用户实体标识列表，其中，目标用户实体标识列表中包括用户角色标识信息对应的不同用户实体标识。第四获取单元，用于在确定用户实体标识存在于目标用户实体标识列表的情况下，从目标数据库中获取目标服务流程模板。根据本公开的实施例，执行模块包括确定单元和执行单元。其中，确定单元，用于根据目标服务流程模板，确定目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数。执行单元，用于按照目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数，执行针对服务请求指令的服务请求处理操作。根据本公开的实施例，确定单元包括确定子模块、第一获取子模块和第二获取子模块。其中，确定子模块，用于根据目标服务流程模板，确定目标服务流程。第一获取子模块，用于在目标服务流程为公共服务流程的情况下，从公共数据库中获取用于执行目标服务请求响应流程的配置参数。第二获取子模块，用于在目标服务流程为私有服务流程的情况下，根据用户标识信息，从私有数据库中获取用于执行目标服务请求响应流程的配置参数。根据本公开的实施例，确定子模块包括第一获取子单元和第二获取子单元。其中，第一获取子单元，用于根据用户标识信息，从私有数据库中获取第三目标用户权限列表，其中，第三目标用户权限列表中包括目标服务流程对应的不同用户标识信息。第二获取子单元，用于在确定用户标识信息存在于第三目标用户权限列表中的情况下，从私有数据库中获取用于执行目标服务请求响应流程的配置参数。本公开的另一个方面提供了一种电子设备，包括：一个或多个处理器；存储器，用于存储一个或多个程序，其中，当所述一个或多个程序被所述一个或多个处理器执行时，使得一个或多个处理器执行上述服务请求响应方法。本公开的第四方面还提供了一种计算机可读存储介质，其上存储有可执行指令，该指令被处理器执行时使处理器执行上述服务请求响应方法。本公开的第五方面还提供了一种计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现上述服务请求响应方法。根据本公开的实施例，通过利用拦截器基于请求域名信息，通过从缓存服务器中查询请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口，再通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板。由于将用于执行针对服务请求指令的响应操作的服务流程，存储在目标数据库中，当接收到客户端页面的服务请求指令时，利用拦截器基于请求域名信息查询并调用目标数据库的访问接口，实现了不同用户的个性化服务流程数据之间的数据隔离，以便于快速响应用户在客户端页面的服务请求，提高了对客户端页面的服务请求的响应速度。附图说明通过以下参照附图对本公开实施例的描述，本公开的上述内容以及其他目的、特征和优点将更为清楚，在附图中：图1示意性示出了根据本公开实施例的服务请求响应方法、装置、设备、介质和程序产品的应用场景图；图2示意性示出了根据本公开实施例的服务请求响应方法的流程图；图3示意性示出了根据本公开实施例的获取目标服务流程模板的流程图；图4示意性示出了根据本公开实施例的服务请求响应方法的逻辑框图；图5示意性示出了根据本公开实施例的服务请求响应装置的结构框图；以及图6示意性示出了根据本公开实施例的适于实现服务请求响应方法的电子设备的方框图。具体实施方式以下，将参照附图来描述本公开的实施例。但是应该理解，这些描述只是示例性的，而并非要限制本公开的范围。在下面的详细描述中，为便于解释，阐述了许多具体的细节以提供对本公开实施例的全面理解。然而，明显地，一个或多个实施例在没有这些具体细节的情况下也可以被实施。此外，在以下说明中，省略了对公知结构和技术的描述，以避免不必要地混淆本公开的概念。在此使用的术语仅仅是为了描述具体实施例，而并非意在限制本公开。在此使用的术语“包括”、“包含”等表明了所述特征、步骤、操作和/或部件的存在，但是并不排除存在或添加一个或多个其他特征、步骤、操作或部件。在此使用的所有术语具有本领域技术人员通常所理解的含义，除非另外定义。应注意，这里使用的术语应解释为具有与本说明书的上下文相一致的含义，而不应以理想化或过于刻板的方式来解释。在使用类似于“A、B和C等中至少一个”这样的表述的情况下，一般来说应该按照本领域技术人员通常理解该表述的含义来予以解释。需要说明的是，本公开服务请求响应的方法和装置可用于金融领域和计算机技术领域，也可用于除金融领域和计算机技术领域之外的任意领域，本公开服务请求响应方法和装置的应用领域不做限定。在本公开的技术方案中，所涉及的用户个人信息的收集、存储、使用、加工、传输、提供、公开和应用等处理，均符合相关法律法规的规定，采取了必要保密措施，且不违背公序良俗。在本公开的技术方案中，在获取或采集用户个人信息之前，均获取了用户的授权或同意。本公开的实施例提供了一种服务请求响应方法，通过利用拦截器给予请求域名信息，通过从缓存服务器中查询请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口，再通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板。由于将用于执行针对服务请求指令的响应操作的服务流程，存储在目标数据库中，当接收到客户端页面的服务请求指令时，利用拦截器基于请求域名信息查询并调用目标数据库的访问接口，实现了不同用户的个性化服务流程数据之间的数据隔离，以便于快速响应用户在客户端页面的服务请求，提高了对客户端页面的服务请求的响应速度。图1示意性示出了根据本公开实施例的服务请求响应的应用场景图。如图1所示，根据该实施例的应用场景100可以包括终端设备101、102、103、网络104、服务器105。网络104用以在终端设备101、102、103和服务器105之间提供通信链路的介质。网络104可以包括各种连接类型，例如有线、无线通信链路或者光纤电缆等等。用户可以使用终端设备101、102、103通过网络104与服务器105交互，以接收或发送消息等。终端设备101、102、103上可以安装有各种通讯客户端应用，例如购物类应用、网页浏览器应用、搜索类应用、即时通信工具、邮箱客户端、社交平台软件等。终端设备101、102、103可以是具有显示屏并且支持网页浏览的各种电子设备，包括但不限于智能手机、平板电脑、膝上型便携计算机和台式计算机等等。服务器105可以是提供各种服务的服务器，例如对用户利用终端设备101、102、103所浏览的网站提供支持的后台管理服务器。后台管理服务器可以对接收到的用户请求等数据进行分析等处理，并将处理结果反馈给终端设备。需要说明的是，本公开实施例所提供的服务请求响应方法一般可以由服务器105执行。相应地，本公开实施例所提供的服务请求响应装置一般可以设置于服务器105中。本公开实施例所提供的服务请求响应方法也可以由不同于服务器105且能够与终端设备101、102、103和/或服务器105通信的服务器或服务器集群执行。相应地，本公开实施例所提供的服务请求响应装置也可以设置于不同于服务器105且能够与终端设备101、102、103和/或服务器105通信的服务器或服务器集群中。应该理解，图1中的终端设备、网络和服务器的数目仅仅是示意性的。根据实现需要，可以具有任意数目的终端设备、网络和服务器。以下将基于图1描述的场景，通过图2～图4对公开实施例的服务请求响应方法进行详细描述。图2示意性示出了根据本公开实施例的服务请求响应方法的流程图。如图2所示，该实施例的服务请求响应包括操作S210～操作S250。在操作S210，在接收服务请求指令之前，通过读取配置关系表，将请求域名信息与用户数据库的配置关系加载到缓存服务器中；根据本公开的实施例，配置关系表中可以包括请求域名信息与用户数据库的配置关系，例如：请求域名信息可以包括用户编码域名，可以以每一个实体农产品批发市场作为一个用户，并赋予该用户唯一的用户编码域名。例如：A地某农产品批发市场的用户编码域名可以为www.A001.com。用户数据库可以为存储A某农产品批发市场的用户信息的数据库。用户信息可以包括用户标识信息、用户权限信息、服务类型信息、服务流程模板等等。在操作S220，接收来自客户端页面的服务请求指令，其中，服务请求指令中包括服务类型信息、请求域名信息和用户标识信息。根据本公开的实施例，客户端可以为智慧农批平台市场管理客户端，包括但不限于PC端、APP端。服务类型信息可以包括冷库管理服务、进场称重审核服务等等。用户标识信息可以为具体通过客户端页面发起服务请求的用户登录的账号信息。在操作S230，利用拦截器基于请求域名信息，通过从缓存服务器中查询请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口。根据本公开的实施例，利用拦截器可以统一拦截客户端的服务请求，并从服务请求中获取请求域名信息，并基于请求域名信息，查询目标数据库的访问接口。请求域名信息与数据库的访问接口的配置关系可以存储在配置关系表中，当服务启动时，先读取配置关系表，并将配置关系表加载到redis缓存中，以便于提高查询目标数据库的访问接口的速度。在操作S240，通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板。根据本公开的实施例，目标数据库可以为MySQL数据库。每一个请求域名信息对应一个目标数据库，请求域名信息中的用户编码域名与用户实体编码一一对应。在目标数据库中，所有的DO类都继承了BaseMdo类，在BaseMdo中增加setCommonProperties方法。对目标数据库进行增加、删除、修改、查询等操作时，必须先调用setCommonProperties方法，再进行实际的数据库操作。确保数据在入库时存入用户实体编码，在查询、修改和删除时带有用户实体编码条件。在BaseMDO的getMultiTennancyId方法调用时，需要先判断用户实体编码是否为空，如果为空，则从线程级缓存中取出并返回，保证在执行sql时用户实体编码有值。从而实现了在数据存储时都具有该目标数据库的用户实体编码标签，实现用户的数据隔离。根据本公开的实施例，目标数据库中存储针对不同服务类型的服务流程模板。例如：进场称重审核服务中，用户A的服务流程可以为先去除运载工具的重量，再进行整体称重；用户B的服务流程可以为不去除运载工具的重量，直接进行整体称重。可以通过识别用户标识，确定目标服务流程模板。在操作S250，根据目标服务流程模板，执行针对服务请求指令的响应操作。根据本公开的实施例，例如：用户A的服务流程可以为先去除运载工具的重量，再进行整体称重。用户A的服务流程模板中可以包括先输入运载工具的重量，例如：货车的重量。再输入包括运载品在内的运载工具的整体重量，例如：装满白菜的货车的重量。输出运载品的重量，例如：白菜的重量。将运载品的重量与系统阈值相比，确定是否审核通过。例如：系统阈值可以为重量误差范围，若运载品的重量与预设品的重量之间的重量误差在重量误差范围内，则可以确定审核通过。审核通过之后，可以在客户端的页面显示通过。相关人员可以放行，使货车进入农产品批发市场内。根据本公开的实施例，通过利用拦截器给予请求域名信息，通过从缓存服务器中查询请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口，再通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板。由于将用于执行针对服务请求指令的响应操作的服务流程，存储在目标数据库中，当接收到客户端页面的服务请求指令时，利用拦截器基于请求域名信息查询并调用目标数据库的访问接口，实现了不同用户的个性化服务流程数据之间的数据隔离，以便于快速响应用户在客户端页面的服务请求，提高了对客户端页面的服务请求的响应速度。图3示意性示出了根据本公开实施例的获取目标服务流程模板的流程图。如图3所示，该实施例的获取目标服务流程模板的流程图包括操作S310～S320。在操作S310，通过调用目标数据库的访问接口，根据服务类型信息，从目标数据库中获取第一目标用户权限列表，其中，第一目标用户权限列表中包括目标服务类型对应的不同用户标识信息。根据本公开的实施例，例如：目标服务类型为冷库管理服务。第一目标用户权限列表中不同用户标识信息可以用于表征用户的角色，例如：市场管理员、巡检员、冷库管理员等等。通过识别用户标识，可以确定发起服务请求的用户是否有权限获取目标服务流程模板。例如：第一目标用户权限列表中包括市场管理员标识A、巡检员标识B、冷库管理员标识C。在操作S320，在确定用户标识信息存在于第一目标用户权限列表的情况下，从目标数据库中获取目标服务流程模板。根据本公开的实施例，例如：接收到的服务请求中用户标识信息为冷库管理员标识C，可以确定冷库管理员标识C存在于第一目标用户权限列表中，可以从目标数据库中获取目标服务流程模板。根据本公开的实施例，通过在目标数据库中设置用户权限列表，使得拥有权限的用户能够从目标数据库中获取目标服务流程模板，以响应服务请求操作，提高用户数据的安全性。根据本公开的实施例，通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板，包括：通过调用目标数据库的访问接口，根据服务类型信息，从目标数据库中获取第二目标用户权限列表，其中，第二目标用户权限列表中包括目标服务类型对应的不同用户角色标识；在确定用户角色标识存在于第二目标用户权限列表的情况下，查询用户角色标识对应的目标用户实体标识列表，其中，目标用户实体标识列表中包括用户角色标识信息对应的不同用户实体标识；在确定用户实体标识存在于目标用户实体标识列表的情况下，从目标数据库中获取目标服务流程模板。根据本公开的实施例，用户标识信息包括用户角色标识和用户实体标识。用户角色标识可以市场管理员标识A、巡检员标识B、冷库管理员标识C等等。用户实体标识可以包括用户所属市场的标识，例如：M市场、N市场等等。第二目标用户权限列表中包括目标服务类型对应的不同用户角色标识，例如：园区管理服务对应的不同用户角色标识可以包括市场管理员标识A、巡检员标识B、冷库管理员标识C。针对市场管理员标识对应的目标实体标识列表中可以包括M市场、N市场。根据本公开的实施例，例如：接收到客户端页面的服务请求中，服务类型信息为园区管理服务，用户标识信息包括市场管理员标识A和M市场。可以先从第二目标用户权限列表中查询园区管理服务对应的不同用户角色标识，在确定市场管理员标识A存在于第二目标用户权限列表中的情况下，再查询市场管理员标识A对应的用户实体标识列表。在市场管理员标识A对应的用户实体标识列表存在M市场，因此，可以从目标数据库中获取目标服务流程模板。根据本公开的实施例，在上述第二用户权限列表和目标用户实体标识列表查询的过程中，若查询的用户角色标识或用户实体标识不存在于相应的第二用户权限列表或目标用户实体标识列表中，则直接退回，不做进一步处理。根据本公开的实施例，先根据服务类型查询用户角色权限，在确定用户角色具有访问目标数据库权限的情况下，再查询用户实体权限。在确定用户角色和实体均具有访问权限的情况下，从目标数据库获取目标服务模板，增加了用户数据的安全性。根据本公开的实施例，根据目标服务流程模板，执行针对服务请求指令的服务请求处理操作，包括：根据目标服务流程模板，确定目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数；按照目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数，执行针对服务请求指令的服务请求处理操作。根据本公开的实施例，用户可以根据实际需求自定义服务流程模板。例如：进程称重审核环节，用户A需要去皮称重，用户B不需要去皮称重，用户可以通过自定义的方式选择所需的服务流程模板。例如：目标进场称重审核服务流程可以为先去除运载工具的重量，再进行整体称重。目标服务流程模板中可以包括先输入运载工具的重量，例如：货车的重量。再输入包括运载品在内的运载工具的整体重量，例如：装满白菜的货车的重量。输出运载品的重量，例如：白菜的重量。将运载品的重量与系统阈值相比，确定是否审核通过。例如：系统阈值可以为重量误差范围，若运载品的重量与预设品的重量的重量误差在重量误差范围内，则可以确定审核通过。审核通过之后，可以在客户端的页面显示通过。根据本公开的实施例，用于执行目标服务请求响应流程的配置参数可以包括运载工具种类参数、运载工具重量参数、重量误差参数等等。根据本公开的实施例，通过目标服务流程模板确定目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数，目标服务流程模板可以根据用户的实际需求进行自定义，可以满足不同用户的个性化需求。根据本公开的实施例，目标数据库中包括公共数据库和私有数据库，根据目标服务流程模板，确定目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数，包括：根据目标服务流程模板，确定目标服务流程；在目标服务流程为公共服务流程的情况下，从公共数据库中获取用于执行目标服务请求响应流程的配置参数；在目标服务流程为私有服务流程的情况下，根据用户标识信息，从私有数据库中获取用于执行目标服务请求响应流程的配置参数。根据本公开的实施例，由于在农产品批发市场中，某一些管理服务流程中的服务流程是相同的，可以将这些服务流程模板存储在公共数据库中。例如：行政管理服务，甲地的大部分农产品批发市场的管理流程是相同的，以商户入驻市场为例，均是需要先递交入驻所需的材料，缴纳摊位租赁费用，通过审批合格之后，完成商户入驻。可以在目标服务流程为公共服务流程的情况下，从公共数据库中获取用户执行目标服务请求响应流程的配置参数。根据本公开的实施例，对于私有服务流程，或者个别商户的个性化服务流程，可以将这一部分的服务流程模板存储在私有数据库中，然后通过识别用户标识，从私有数据库中获取用于执行目标服务请求的配置参数。根据本公开的实施例，识别用户标识可以通过权限核查拦截器拦截用户发起的服务请求，通过查询用户标识是否存在于私有数据库中的权限列表，确定该用户是否具有访问私有数据库的权限。根据本公开的实施例，通过将目标数据库设置为公共数据库和私有数据库，对于公共服务流程可以通过直接访问公共数据库获取目标服务流程模板，对于私有服务流程需要先确定用户是否具有访问权限，再从私有数据库中获取目标服务流程模板。在提高服务请求响应速度的同时，保障了用户数据的安全。根据本公开的实施例，在目标服务流程为私有服务流程的情况下，根据用户标识信息，从私有数据库中获取用于执行目标服务请求响应流程的配置参数，包括：根据用户标识信息，从私有数据库中获取第三目标用户权限列表，其中，第三目标用户权限列表中包括目标服务流程对应的不同用户标识信息；在确定用户标识信息存在于第三目标用户权限列表中的情况下，从私有数据库中获取用于执行目标服务请求响应流程的配置参数。根据本公开的实施例，可以通过权限拦截器查询发起服务请求的用户是否存在于第三目标用户权限表中。第三目标用户权限列表可以在确定目标服务类型为私有服务时，从私有数据库中获取第三目标用户权限列表，并将第三目标用户权限列表存储在redis缓存中，以供权限拦截器查询服务请求指令中的用户标识信息是否存在于第三目标用户权限列表中。根据本公开的实施例，在确定用户标识信息存在于第三目标用户权限列表中的情况下，从私有数据库中获取用于执行目标服务请求响应流程的配置参数。根据本公开的实施例，通过查询用户对私有数据库的访问权限，在确定用户具有私有数据库访问权限的情况下，从私有数据库中获取用户执行目标服务请求响应流程的配置参数，进一步保障私有数据库中用户数据的安全。图4示意性示出了根据本公开实施例的服务请求响应方法的逻辑框图。如图4所示，该实施例的服务请求响应方法包括操作S400～S410。在操作S400，在接收服务请求指令之前，通过读取配置关系表，将请求域名信息与用户数据库的配置关系加载到缓存服务器中。在操作S401，接收来自客户端页面的服务请求指令，其中，服务请求指令中包括服务类型信息、请求域名信息和用户标识信息。在操作S402，利用拦截器基于请求域名信息，通过从缓存服务器中查询请求域名信息与用户数据库的配置关系，确定目标数据库的访问接口。在操作S403，通过调用目标数据库的访问接口，根据服务类型信息从目标数据库中获取第二目标用户权限列表，其中，第二目标用户权限列表中包括目标服务类型对应的不同用户角色标识。在操作S404，确定用户角色标识是否存在于第二目标用户权限列表中。若是，则执行操作S406，若不是，则执行操作S405。在操作S405，退回，不予处理。在操作S406，查询用户角色标识对应的目标用户实体标识列表，其中，目标用户实体标识列表中包括用户角色标识信息对应的不同用户实体标识。在操作S407，确定用户实体标识是否存在于目标用户实体标识列表中。若是，则执行操作S409，若不是，则执行操作S408。在操作S408，退回，不予处理。在操作S409，从目标数据库中获取目标服务流程模板。在操作S410，根据目标服务流程模板，执行针对服务请求指令的响应操作。基于上述服务请求响应方法，本公开还提供了一种服务请求响应装置。以下将结合图5对该装置进行详细描述。图5示意性示出了根据本公开实施例的服务请求响应装置的结构框图。如图5所示，该实施例的服务请求响应装置500包括加载模块510、接收模块520、查询模块530、获取模块540、执行模块550。加载模块510用于在接收服务请求指令之前，通过读取配置关系表，将请求域名信息与用户数据库的配置关系加载到缓存服务器中。在一实施例中，加载模块510可以用于执行前文描述的操作S210，在此不再赘述。接收模块520用于接收来自客户端页面的服务请求指令，其中，服务请求指令中包括服务类型信息、请求域名信息和用户标识信息。在一实施例中，接收模块520可以用于执行前文描述的操作S220，在此不再赘述。查询模块530用于利用拦截器基于请求域名信息，查询目标数据库的访问接口。在一实施例中，查询模块530可以用于执行前文描述的操作S230，在此不再赘述。获取模块540用于通过调用目标数据库的访问接口，根据服务类型信息和用户标识信息，从目标数据库中获取目标服务流程模板。在一实施例中，获取模块540可以用于执行前文描述的操作S240，在此不再赘述。执行模块550用于根据目标服务流程模板，执行针对服务请求指令的响应操作。在一实施例中，执行模块550可以用于执行前文描述的操作S250，在此不再赘述。根据本公开的实施例，获取模块包括第一获取单元和第二获取单元。其中，第一获取单元，用于通过调用目标数据库的访问接口，根据服务类型信息，从目标数据库中获取第一目标用户权限列表，其中，第一目标用户权限列表中包括目标服务类型对应的不同用户标识信息。第二获取单元，用于在确定用户标识信息存在于第一目标用户权限列表的情况下，从目标数据库中获取目标服务流程模板。根据本公开的实施例，获取模块包括第三获取单元、第一查询单元和第四获取单元。其中，第三获取单元，用于通过调用目标数据库的访问接口，根据服务类型信息，从目标数据库中获取第二目标用户权限列表，其中，第二目标用户权限列表中包括目标服务类型对应的不同用户角色标识。第一查询单元，用于在确定用户角色标识存在于第二目标用户权限列表的情况下，查询用户角色标识对应的目标用户实体标识列表，其中，目标用户实体标识列表中包括用户角色标识信息对应的不同用户实体标识。第四获取单元，用于在确定用户实体标识存在于目标用户实体标识列表的情况下，从目标数据库中获取目标服务流程模板。根据本公开的实施例，执行模块包括确定单元和执行单元。其中，确定单元，用于根据目标服务流程模板，确定目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数。执行单元，用于按照目标服务请求响应流程和用于执行目标服务请求响应流程的配置参数，执行针对服务请求指令的服务请求处理操作。根据本公开的实施例，确定单元包括确定子模块、第一获取子模块和第二获取子模块。其中，确定子模块，用于根据目标服务流程模板，确定目标服务流程。第一获取子模块，用于在目标服务流程为公共服务流程的情况下，从公共数据库中获取用于执行目标服务请求响应流程的配置参数。第二获取子模块，用于在目标服务流程为私有服务流程的情况下，根据用户标识信息，从私有数据库中获取用于执行目标服务请求响应流程的配置参数。根据本公开的实施例，确定子模块包括第一获取子单元和第二获取子单元。其中，第一获取子单元，用于根据用户标识信息，从私有数据库中获取第三目标用户权限列表，其中，第三目标用户权限列表中包括目标服务流程对应的不同用户标识信息。第二获取子单元，用于在确定用户标识信息存在于第三目标用户权限列表中的情况下，从私有数据库中获取用于执行目标服务请求响应流程的配置参数。根据本公开的实施例，加载模块510、接收模块520、查询模块530、获取模块540、执行模块550中的任意多个模块可以合并在一个模块中实现，或者其中的任意一个模块可以被拆分成多个模块。或者，这些模块中的一个或多个模块的至少部分功能可以与其他模块的至少部分功能相结合，并在一个模块中实现。根据本公开的实施例，加载模块510、接收模块520、查询模块530、获取模块540、执行模块550中的至少一个可以至少被部分地实现为硬件电路，例如现场可编程门阵列、可编程逻辑阵列、片上系统、基板上的系统、封装上的系统、专用集成电路，或可以通过对电路进行集成或封装的任何其他的合理方式等硬件或固件来实现，或以软件、硬件以及固件三种实现方式中任意一种或以其中任意几种的适当组合来实现。或者，加载模块510、接收模块520、查询模块530、获取模块540、执行模块550中的至少一个可以至少被部分地实现为计算机程序模块，当该计算机程序模块被运行时，可以执行相应的功能。图6示意性示出了根据本公开实施例的适于实现服务请求响应方法的电子设备的方框图。如图6所示，根据本公开实施例的电子设备600包括处理器601，其可以根据存储在只读存储器602中的程序或者从存储部分608加载到随机访问存储器603中的程序而执行各种适当的动作和处理。处理器601例如可以包括通用微处理器、指令集处理器和/或相关芯片组和/或专用微处理器)等等。处理器601还可以包括用于缓存用途的板载存储器。处理器601可以包括用于执行根据本公开实施例的方法流程的不同动作的单一处理单元或者是多个处理单元。在RAM 603中，存储有电子设备600操作所需的各种程序和数据。处理器601、ROM602以及RAM 603通过总线604彼此相连。处理器601通过执行ROM 602和/或RAM 603中的程序来执行根据本公开实施例的方法流程的各种操作。需要注意，所述程序也可以存储在除ROM 602和RAM 603以外的一个或多个存储器中。处理器601也可以通过执行存储在所述一个或多个存储器中的程序来执行根据本公开实施例的方法流程的各种操作。根据本公开的实施例，电子设备600还可以包括输入/输出接口605，输入/输出接口605也连接至总线604。电子设备600还可以包括连接至I/O接口605的以下部件中的一项或多项：包括键盘、鼠标等的输入部分606；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分607；包括硬盘等的存储部分608；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分609。通信部分609经由诸如因特网的网络执行通信处理。驱动器610也根据需要连接至I/O接口605。可拆卸介质611，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器610上，以便于从其上读出的计算机程序根据需要被安装入存储部分608。本公开还提供了一种计算机可读存储介质，该计算机可读存储介质可以是上述实施例中描述的设备/装置/系统中所包含的；也可以是单独存在，而未装配入该设备/装置/系统中。上述计算机可读存储介质承载有一个或者多个程序，当上述一个或者多个程序被执行时，实现根据本公开实施例的方法。根据本公开的实施例，计算机可读存储介质可以是非易失性的计算机可读存储介质，例如可以包括但不限于：便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本公开中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。例如，根据本公开的实施例，计算机可读存储介质可以包括上文描述的ROM602和/或RAM 603和/或ROM 602和RAM 603以外的一个或多个存储器。本公开的实施例还包括一种计算机程序产品，其包括计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。当计算机程序产品在计算机系统中运行时，该程序代码用于使计算机系统实现本公开实施例所提供的上述方法。在该计算机程序被处理器601执行时执行本公开实施例的系统/装置中限定的上述功能。根据本公开的实施例，上文描述的系统、装置、模块、单元等可以通过计算机程序模块来实现。在一种实施例中，该计算机程序可以依托于光存储器件、磁存储器件等有形存储介质。在另一种实施例中，该计算机程序也可以在网络介质上以信号的形式进行传输、分发，并通过通信部分609被下载和安装，和/或从可拆卸介质611被安装。该计算机程序包含的程序代码可以用任何适当的网络介质传输，包括但不限于：无线、有线等等，或者上述的任意合适的组合。在这样的实施例中，该计算机程序可以通过通信部分609从网络上被下载和安装，和/或从可拆卸介质611被安装。在该计算机程序被处理器601执行时，执行本公开实施例的系统中限定的上述功能。根据本公开的实施例，上文描述的系统、设备、装置、模块、单元等可以通过计算机程序模块来实现。根据本公开的实施例，可以以一种或多种程序设计语言的任意组合来编写用于执行本公开实施例提供的计算机程序的程序代码，具体地，可以利用高级过程和/或面向对象的编程语言、和/或汇编/机器语言来实施这些计算程序。程序设计语言包括但不限于诸如Java，C++，python，“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算设备上执行、部分地在用户设备上执行、部分在远程计算设备上执行、或者完全在远程计算设备或服务器上执行。在涉及远程计算设备的情形中，远程计算设备可以通过任意种类的网络，包括局域网或广域网，连接到用户计算设备，或者，可以连接到外部计算设备。附图中的流程图和框图，图示了按照本公开各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，上述模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图或流程图中的每个方框、以及框图或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。本领域技术人员可以理解，本公开的各个实施例和/或权利要求中记载的特征可以进行多种组合或/或结合，即使这样的组合或结合没有明确记载于本公开中。特别地，在不脱离本公开精神和教导的情况下，本公开的各个实施例和/或权利要求中记载的特征可以进行多种组合和/或结合。所有这些组合和/或结合均落入本公开的范围。以上对本公开的实施例进行了描述。但是，这些实施例仅仅是为了说明的目的，而并非为了限制本公开的范围。尽管在以上分别描述了各实施例，但是这并不意味着各个实施例中的措施不能有利地结合使用。本公开的范围由所附权利要求及其等同物限定。不脱离本公开的范围，本领域技术人员可以做出多种替代和修改，这些替代和修改都应落在本公开的范围之内。
