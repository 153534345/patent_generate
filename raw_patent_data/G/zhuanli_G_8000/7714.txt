标题title
一种斑块检测方法、装置、电子设备及可读存储介质
摘要abst
本申请公开了一种斑块检测方法、装置、电子设备及可读存储介质，该方法包括：获取待检测原始图像对应的血管拉直图像，血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像；基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征；将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征；基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果。采用血管拉直图像进行斑块分析，去除了大量的冗余信息和噪声信息，可以使得第二网络不被大量的冗余信息和噪声信息所干扰，提高脂质斑块和混合斑块的检测准确度，从而得到精确的斑块分析结果。
权利要求书clms
1.一种斑块检测方法，其特征在于，包括：获取待检测原始图像对应的血管拉直图像，所述血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像；基于第一网络对各所述中心点对应的血管子图像进行特征提取，得到各所述中心点对应的第一特征；将各所述中心点对应的第一特征与各所述中心点对应的位置编码进行融合，得到各所述中心点对应的第二特征；基于第二网络对各所述中心点对应的第二特征进行斑块分析，得到各所述中心点对应的斑块分析结果。2.根据权利要求1所述的斑块检测方法，其特征在于，所述第一网络为3DU-Net模型，包括特征提取层和池化层；所述基于第一网络对各所述中心点对应的血管子图像进行特征提取，得到各所述中心点对应的第一特征，包括：基于所述特征提取层对各所述中心点对应的血管子图像进行特征提取，得到各所述中心点对应的初始特征；基于所述池化层对各所述中心点对应的初始特征进行池化处理，得到各所述中心点对应的第一特征。3.根据权利要求1所述的斑块检测方法，其特征在于，所述第二网络为Transformer模型，所述基于第二网络对各所述中心点对应的第二特征进行斑块分析，得到各所述中心点对应的斑块分析结果，包括：基于Transformer模型对各所述中心点对应的第二特征及各所述中心点对应的其他中心点的第二特征进行融合处理，得到各所述中心点对应的增强特征；基于Transformer模型对各所述中心点对应的增强特征进行斑块分析，得到各所述中心点对应的斑块分析结果。4.根据权利要求1所述的斑块检测方法，其特征在于，所述斑块分析结果包括斑块类别和斑块概率。5.根据权利要求4所述的斑块检测方法，其特征在于，所述第二网络在训练时的损失函数为带权重的交叉熵损失函数，其中，不同斑块类别的权重之和为1。6.根据权利要求1所述的斑块检测方法，其特征在于，还包括：基于第三网络对各所述中心点对应的所述子图像进行颜色分析，得到对应的颜色特征；基于第四网络对各所述中心点对应的所述子图像进行狭窄分析，得到对应的狭窄特征；将所述第一特征与所述颜色特征、所述狭窄特征进行拼接，得到拼接后的第一特征；相应地，将各所述中心点对应的所述第一特征与各所述中心点对应的位置编码进行融合，得到各所述中心点对应的第二特征，包括：将各所述中心点对应的所述拼接后的第一特征与各所述中心点对应的位置编码进行融合，得到各所述中心点对应的第二特征。7.根据权利要求1所述的斑块检测方法，其特征在于，所述获取待检测原始图像对应的血管拉直图像，包括：获取待检测原始图像中血管的中心线，所述中心线包括多个中心点；从所述待检测原始图像中确定各所述中心点对应的血管子图像；将各所述中心点对应的血管子图像进行堆叠，得到所述待检测原始图像对应的血管拉直图像。8.一种斑块检测装置，其特征在于，包括：获取单元，用于获取待检测原始图像对应的血管拉直图像，所述血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像；提取单元，用于基于第一网络对各所述中心点对应的血管子图像进行特征提取，得到各所述中心点对应的第一特征；融合单元，用于将各所述中心点对应的第一特征与各所述中心点对应的位置编码进行融合，得到各所述中心点对应的第二特征；分析单元，用于基于第二网络对各所述中心点对应的第二特征进行斑块分析，得到各所述中心点对应的斑块分析结果。9.一种电子设备，其特征在于，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器执行如权利要求1-7任意一项所述的斑块检测方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于使计算机执行如权利要求1-7任意一项所述的斑块检测方法。
说明书desc
技术领域本申请涉及医疗数据分析技术领域，尤其涉及一种斑块检测方法、装置、电子设备及可读存储介质。背景技术近年来，冠状动脉疾病作为一种主要的心血管疾病，已在世界范围内对人类健康构成严重威胁。冠状动脉壁上的斑块检测对于冠状动脉疾病的诊断具有重要意义。冠状动脉壁上的斑块可分为三类：钙化斑块、脂质斑块和混合斑块。目前，为提升患者无创体验，医院大多基于冠状动脉计算机断层血管造影图像进行冠状动脉壁上的斑块检测。在CCTA图像中，由于CAP具有极高的亮度，因此CAP很容易识别；但在CCTA图像中识别NCAP和MCAP非常具有挑战性，因为NCAP和MCAP与周围组织具有相似的颜色和强度。现阶段对三类斑块的检测主要还是依赖专业医生对CCTA图像逐像素的人工标注，这样的做法未免费时费力；此外，对于医疗水平不发达的地区，专业医生的缺失对当地患者斑块的及时诊断带来了挑战。因此，设计一款斑块检测的自动化装置是亟需解决的问题。发明内容有鉴于此，本申请实施例通过提供一种斑块检测方法、装置、电子设备及可读存储介质，用以至少解决现有技术中存在的上述技术问题。根据本申请第一方面，本申请实施例提供了一种斑块检测方法，包括：获取待检测原始图像对应的血管拉直图像，血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像；基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征；将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征；基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果。可选地，第一网络为3DU-Net模型，包括特征提取层和池化层；基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征，包括：基于特征提取层对各中心点对应的血管子图像进行特征提取，得到各中心点对应的初始特征；基于池化层对各中心点对应的初始特征进行池化处理，得到各中心点对应的第一特征。可选地，第二网络为Transformer模型，基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果，包括：基于Transformer模型对各中心点对应的第二特征及各中心点对应的其他中心点的第二特征进行融合处理，得到各中心点对应的增强特征；基于Transformer模型对各中心点对应的增强特征进行斑块分析，得到各中心点对应的斑块分析结果。可选地，斑块分析结果包括斑块类别和斑块概率。可选地，第二网络在训练时的损失函数为带权重的交叉熵损失函数，其中，不同斑块类别的权重之和为1。可选地，斑块检测方法还包括：基于第三网络对各中心点对应的子图像进行颜色分析，得到对应的颜色特征；基于第四网络对各中心点对应的子图像进行狭窄分析，得到对应的狭窄特征；将第一特征与颜色特征、狭窄特征进行拼接，得到拼接后的第一特征；相应地，将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征，包括：将各中心点对应的拼接后的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征。可选地，获取待检测原始图像对应的血管拉直图像，包括：获取待检测原始图像中血管的中心线，中心线包括多个中心点；从待检测原始图像中确定各中心点对应的血管子图像；将各中心点对应的血管子图像进行堆叠，得到待检测原始图像对应的血管拉直图像。根据本申请第二方面，本申请实施例提供了一种斑块检测装置，包括：获取单元，用于获取待检测原始图像对应的血管拉直图像，血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像；提取单元，用于基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征；融合单元，用于将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征；分析单元，用于基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果。根据本申请第三方面，本申请实施例提供了一种电子设备，包括：至少一个处理器；以及与至少一个处理器通信连接的存储器；其中，存储器存储有可被至少一个处理器执行的指令，指令被至少一个处理器执行，以使至少一个处理器执行如第一方面或第一方面任意实施方式中的斑块检测方法。根据本申请第四方面，本申请实施例提供了一种计算机可读存储介质，计算机可读存储介质存储有计算机指令，计算机指令用于使计算机执行如第一方面或第一方面任意实施方式中的斑块检测方法。本申请实施例提供的斑块检测方法、装置、电子设备及可读存储介质，需预先获取待检测原始图像对应的血管拉直图像，其中血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像；基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征；将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征；基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果；如此，是直接采用血管拉直图像进行斑块的分析，由于血管拉直图像相对于待检测原始图像而言，去除了大量的冗余信息和噪声信息，可以使得第二网络不被该大量的冗余信息和噪声信息所干扰，提高NCAP和MCAP的检测准确度，从而精确地检测血管拉直图像中的斑块，并且，由于血管拉直图像是一组序列图像，将血管拉直图像中各中心点的第一特征与各中心点的位置编码进行融合，得到第二特征，然后基于第二网络对第二特征进行斑块分析，可以使得第二网络基于每个中心点的位置编码将每个中心点的第二特征及该中心点之外的其他中心点的第二特征进行融合，从而充分利用血管的上下文信息，使得每个中心点可以得到更多的特征信息，从而提高每个中心点斑块分析的准确度，实现斑块的自动化检测。上述说明仅是本申请技术方案的概述，为了能够更清楚了解本申请的技术手段，而可依照说明书的内容予以实施，并且为了让本申请的上述和其它目的、特征和优点能够更明显易懂，以下特举本申请的具体实施方式。附图说明图1为本申请实施例CCTA图像示意图；图2为本申请实施例中一种斑块检测方法的流程示意图；图3为本申请实施例中CCTA图像中斑块检测的流程示意图；图4为本申请实施例中Transformer模型的结构示意图；图5为本申请实施例中一组CAP和NCAP的示意图；图6为本申请实施例中一种斑块检测装置的结构示意图；图7为本申请实施例中一种电子设备的硬件结构示意图。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。在CCTA图像中，由于钙化斑块亮度很高，与背景颜色有着明显的区别，因此当前的检测算法很容易识别。但由于脂质斑块和混合斑块中的脂质成本形态分布与背景组织颜色、强度极为相似，因此从背景元素中区分NCAP和MCAP非常具有挑战性，目前的算法在检测NCAP和MCAP任务中，几乎全部失效。本申请人发现，斑块是堆积在动脉壁上的沉积物，也即，斑块附着在动脉血管周围，因此，血管拓扑结构可以帮助深度模型识别具有挑战性的斑块并减少误报。然而，如图1所示，血管的原始结构分布在三维空间中，这种复杂的结构难以被直接建模，且不同的血管分布形态各异，无法直接用一个统一的模型表示。因此，本申请人想到采用血管拉直图像作为模型输入，进行斑块的检测。为此，本申请实施例提供了一种斑块检测方法，如图2所示，包括：S101，获取待检测原始图像对应的血管拉直图像，血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像。在本申请实施例中，待检测原始图像包括但不限于：电子计算机断层扫描图像、CT血管造影图像、磁共振成像图像、正电子发射计算机断层显像-核磁共振成像图像等。本申请实施例中的待检测血管为具有斑块分析需求的血管，其包括但不限于：冠状动脉血管、颈动脉血管、下肢血管等。本申请实施例中，由于待检测原始图像中可以包括至少一个血管，则对于每一血管，均对应一个血管拉直图像，即S101中可以获取待检测原始图像中每一血管的血管拉直图像，每一血管的血管中心线上均包括多个中心点。每一血管的多个中心点的点集其中x、y、z为坐标位置，多个中心点的总个数为N。其中，每个中心点对应于一个血管子图像，该血管子图像为基于该中心点为中心，从待检测原始图像中截取的血管片段。在一些实施例中，可以通过曲面重建的方式和/或拉直成像的方式对待检测原始图像进行伸展拉直处理，然后以多个中心点为中心，切出一个H×W×L的三维图像，即得到待检测血管的拉直图像，如图3所示。其中，L为血管长度，也即中心点的数量，H为切面的高度，W为切面的宽度。在一些实施例中，获取待检测原始图像对应的血管拉直图像，包括：获取待检测原始图像中血管的中心线，中心线包括多个中心点；从待检测原始图像中确定各中心点对应的血管子图像；将各中心点对应的血管子图像进行堆叠，得到待检测原始图像对应的血管拉直图像。具体地，可以通过对待检测原始图像中的三维血管进行腐蚀，来获取血管的中心线，然后以血管的中心线上的各中心点为中心，从待检测原始图像中截取一个H×W的切面图像，即血管子图像，然后将各血管子图像进行堆叠，形成最终的三维血管拉直图像，即待检测原始图像对应的血管拉直图像。每个切面图像包括血管区域和非血管区域，其中，血管区域位于切面图像的正中间。通过将每个中心点各自对应的切面图像进行堆叠，形成血管拉直图像，可以将扭曲、缩短和重叠的血管结构伸展拉直，展示在同一平面上，可显示血管结构及血管丰富的3D语义信息。S102，基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征。在本申请实施例中，第一网络包括但不限于卷积神经网络，比如，常用CNN特征提取网络3DU-Net、VGG-16、VGG-19、ResNet等。具体实施时，我们以3DU-Net作为第一网络，将血管拉直图像输入3DU-Net网络后，得到各中心点对应的第一特征Fa∈RL×C。其中L为特征的长度，C为特征的维度数量。在一些实施例中，第一网络包括特征提取层和池化层。基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征，如图3所示，包括：基于特征提取层对各中心点对应的血管子图像进行特征提取，得到各中心点对应的初始特征；基于池化层对各中心点对应的初始特征进行池化处理，得到各中心点对应的第一特征。具体实施时，可以血管拉直图像输入第一网络，基于第一网络中的特征提取层提取血管拉直图像中各中心点对应的血管子图像的特征，得到各中心点对应的初始特征F∈RH×W×L×C，其中，L为血管长度，H为切面的高度，W为切面的宽度，C为特征的维度数量。然后基于第一网络中的平均池化层将初始特征做序列化聚合，即采用沿H和W平面的二维平均池化算子将初始特征聚合到L维度，结果得到各中心点对应的第一特征Fa∈RL×C。本实施例利用CNN强大的特征提取能力提取各中心点对应的血管子图像的特征，又利用池化层将各中心点对应的血管子图像的特征进行L维度的聚合，这样既可以提高算法的特征表达能力，又可以减少特征的维度，减轻后续斑块分析的计算量。S103，将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征。由于血管拉直图像是一组序列图像，为了利用血管的上下文信息，因此，本实施例将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征，这样，各中心点对应的第二特征中包含了该中心点的位置信息。在一些实施例中，可以将各中心点对应的第一特征与各中心点对应的位置编码进行加和的方式，将各中心点对应的第一特征与各中心点对应的位置编码进行融合。在一些实施例中，可以首先将各中心点的位置归一化为，可以写成{i/L}Li＝1。然后，将归一化位置转换为位置编码P＝{Pi}Li＝1，其中Pi∈RC，P与序列化的特征图Fa具有相同的维度，因此后续P可以与特征图Fa直接相加。S104，基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果。在本实施例中，第二网络可以基于每个中心点的位置信息将每个中心点的第二特征及该中心点之外的其他中心点的第二特征进行融合，从而充分利用血管的上下文信息，使得每个中心点可以得到更多的特征信息，然后基于融合了其他中心点的第二特征的特征对每个中心点进行斑块分析，得到每个中心点对应的斑块分析结果。在一些实施例中，斑块分析结果包括斑块类别和斑块概率。通过第二网络对斑块类别和斑块概率进行检测，可以得到各类斑块的检测结果，便于用户查看，提高用户体验。本申请实施例提供的斑块检测方法，通过获取待检测原始图像对应的血管拉直图像，血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像；基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征；将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征；基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果；如此，是直接采用血管拉直图像进行斑块的分析，由于血管拉直图像相对于待检测原始图像而言，去除了大量的冗余信息和背景的噪声信息，可以使得第二网络不被该大量的冗余信息和噪声信息所干扰，提高NCAP和MCAP的检测准确度，从而精确地检测血管拉直图像中的斑块，并且，由于血管拉直图像是一组序列图像，将血管拉直图像中各中心点的第一特征与各中心点的位置编码进行融合，得到第二特征，然后基于第二网络对第二特征进行斑块分析，可以使得第二网络基于每个中心点的位置编码将每个中心点的第二特征及该中心点之外的其他中心点的第二特征进行融合，从而充分利用血管的上下文信息，使得每个中心点可以得到更多的特征信息，从而提高每个中心点斑块分析的准确度，实现斑块的自动化检测。在一个可选的实施例中，考虑到Transformer模型在自然语言处理、计算机视觉的广泛应用，其对序列建模具有很强的表示能力。为了利用冠状动脉的上下文信息，本申请实施例使用Transformer模型来建模序列关系。因此设置第二网络为Transformer模型。基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果，如图3所示，包括：基于Transformer模型对各中心点对应的第二特征及各中心点对应的其他中心点的第二特征进行融合处理，得到各中心点对应的增强特征；基于Transformer模型对各中心点对应的增强特征进行斑块分析，得到各中心点对应的斑块分析结果。在本实施例中，如图3所示，Transformer模型中的全连接层用于对各中心点对应的增强特征进行斑块分析，得到各中心点对应的斑块分析结果。Transformer模型的Transformer encoder用于各中心点对应的第二特征及各中心点对应的其他中心点的第二特征进行融合处理，得到各中心点对应的增强特征。Transformer模型结构如图4所示，包括几个基本子模块，即：多头注意力网络、前馈网络、归一化层、ReLU激活和全连接分类器头网络。Transformer模型中各个子模块共同配合，共同完成特征表示。多头注意力网络、前馈网络、归一化层和ReLU激活的特征表示过程可以写成：其中，τ是Transformer模型，代表增强特征。FC网络，也即全连接分类器头网络对进行变换，得到最终的斑块分析结果S∈RL。其中，S中的每个分数代表该位置包含斑块的概率。在本实施例中，充分利用了Transformer模型全局序列建模的能力，基于Transformer模型对各中心点对应的第二特征及各中心点对应的其他中心点的第二特征进行融合处理，得到各中心点对应的增强特征，可以充分利用血管的上下文信息，从而提高斑块检测的准确度，提升整个检测网络的实用目的。在一些实施例中，对于斑块的检测任务而言，脂质斑块和混合斑块的检测相较于钙化斑块的检测更难，因此在检测时需要获得更大的权重和注意力。因此，在一个可选的实施例中，第二网络在训练时的损失函数为带权重的交叉熵损失函数，其中，不同斑块类别的权重之和为1。具体地，带权重的交叉墒损失函数的形式为：loss＝-∑iωi*yilog+*log；其中，ωi为斑块类别的权重，总类别数为M，i＝1、2、3，yi为样本类别的概率。logitsi为分类网络的前一层输出。在本实施例中，相比现有的斑块分类网络，在第二网络进行训练时，增大了NCAP和MCAP样本的权重，使得第二网络可以更好的关注到难度更高的NCAP和MCAP样本，从而训练好的第二网络可以更精确地检测NCAP和MCAP。在一个可选的实施例中，本申请人发现，钙化斑块是一种钙化后很硬的斑块，它在血管中比较稳定，不容易脱落，也不太容易破裂。由于CAP密度很高，因而在拍摄的CT图像中像素值较大，表现为图像亮度很高，具有很白的颜色亮度。脂质斑块含有较多脂质和纤维蛋白，极不稳定且容易破裂，一旦破裂就会造成急性血栓堵塞血管，形成急性血管闭塞，导致急性心肌梗死或者急性脑梗死等事件的发生。由于脂质通常较软、密度较小，在CT图像中颜色较浅，与背景组织的颜色几乎一致，因此图像颜色浅。如图5所示，展示了一组CAP和NCAP的示意图，其中，和分别对应CCTA中CAP与NCAP原图，和的标注区域为医生标注的斑块区域，中标注区域表示CAP，中标注区域表示NCAP。对比和可知，CAP的亮度要远高于周围组织背景，而NCAP与背景色一致，因此检测难度高。通常斑块附着在血管周边，随着斑块的逐渐累积，会对血管管腔不断造成挤压，导致动脉血管管腔的狭窄，狭窄程度越大造成缺血、缺氧的机会就越大。因此，斑块与血管狭窄一般是共存的，而医生在检测斑块时，通常也会先关注血管的狭窄部分，然后基于狭窄部分精确定位到斑块区域。因此，本申请人在斑块检测方法中融入了上述性质，增加了颜色特征和狭窄特征，辅助第二网络检测斑块。从而斑块检测方法还包括：基于第三网络对各中心点对应的子图像进行颜色分析，得到对应的颜色特征；基于第四网络对各中心点对应的子图像进行狭窄分析，得到对应的狭窄特征；将第一特征与颜色特征、狭窄特征进行拼接，得到拼接后的第一特征；相应地，将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征，包括：将各中心点对应的拼接后的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征。具体地，假设血管拉直图像为X，第三网络为f，第四网络为g，第一网络为T，我们将三个网络的特征聚合，获得最终的拼接后的第一特征Y为：z1＝f，z2＝g，z3＝T，Y＝aggregation，其中，aggregation用于拼接特征。在本申请实施例中，通过将颜色特征和狭窄特征和血管特征进行融合，可以使得血管特征具有更多的信息，提高斑块的检测准确度。本申请实施例还提供了一种斑块检测装置，如图6所示，包括：获取单元61，用于获取待检测原始图像对应的血管拉直图像，血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像；提取单元62，用于基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征；融合单元63，用于将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征；分析单元64，用于基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果。本申请实施例提供的斑块检测装置，通过获取待检测原始图像对应的血管拉直图像，血管拉直图像包括血管中心线上的多个中心点对应的多个血管子图像；基于第一网络对各中心点对应的血管子图像进行特征提取，得到各中心点对应的第一特征；将各中心点对应的第一特征与各中心点对应的位置编码进行融合，得到各中心点对应的第二特征；基于第二网络对各中心点对应的第二特征进行斑块分析，得到各中心点对应的斑块分析结果；如此，是直接采用血管拉直图像进行斑块的分析，由于血管拉直图像相对于待检测原始图像而言，去除了大量的冗余信息和噪声信息，可以使得第二网络不被该大量的冗余信息和噪声信息所干扰，提高NCAP和MCAP的检测准确度，从而精确地检测血管拉直图像中的斑块，并且，由于血管拉直图像是一组序列图像，将血管拉直图像中各中心点的第一特征与各中心点的位置编码进行融合，得到第二特征，然后基于第二网络对第二特征进行斑块分析，可以使得第二网络基于每个中心点的位置编码将每个中心点的第二特征及该中心点之外的其他中心点的第二特征进行融合，从而充分利用血管的上下文信息，使得每个中心点可以得到更多的特征信息，从而提高每个中心点斑块分析的准确度，实现斑块的自动化检测。根据本申请的实施例，本申请还提供了一种电子设备和一种可读存储介质。图7示出了可以用来实施本申请的实施例的示例电子设备800的示意性框图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本申请的实现。如图7所示，设备800包括计算单元801，其可以根据存储在只读存储器802中的计算机程序或者从存储单元808加载到随机访问存储器803中的计算机程序，来执行各种适当的动作和处理。在RAM 803中，还可存储设备800操作所需的各种程序和数据。计算单元801、ROM 802以及RAM 803通过总线804彼此相连。输入/输出接口805也连接至总线804。设备800中的多个部件连接至I/O接口805，包括：输入单元806，例如键盘、鼠标等；输出单元807，例如各种类型的显示器、扬声器等；存储单元808，例如磁盘、光盘等；以及通信单元809，例如网卡、调制解调器、无线通信收发机等。通信单元809允许设备800通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。计算单元801可以是各种具有处理和计算能力的通用和/或专用处理组件。计算单元801的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的计算单元、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。计算单元801执行上文所描述的各个方法和处理，例如斑块检测方法。例如，在一些实施例中，斑块检测方法可被实现为计算机软件程序，其被有形地包含于机器可读介质，例如存储单元808。在一些实施例中，计算机程序的部分或者全部可以经由ROM 802和/或通信单元809而被载入和/或安装到设备800上。当计算机程序加载到RAM 803并由计算单元801执行时，可以执行上文描述的斑块检测方法的一个或多个步骤。备选地，在其他实施例中，计算单元801可以通过其他任何适当的方式而被配置为执行斑块检测方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、片上系统、负载可编程逻辑设备、计算机硬件、固件、软件和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置和该至少一个输出装置。用于实施本申请的方法的程序代码可以采用一个或多个编程语言的任何组合来编写。这些程序代码可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器或控制器，使得程序代码当由处理器或控制器执行时使流程图和/或框图中所规定的功能/操作被实施。程序代码可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本申请的上下文中，机器可读介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的程序。机器可读介质可以是机器可读信号介质或机器可读储存介质。机器可读介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备或上述内容的任何合适组合。为了提供与用户的交互，可以在计算机上实施此处描述的系统和技术，该计算机具有：用于向用户显示信息的显示装置，例如：CRT或者LCD监视器；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给计算机。其它种类的装置还可以用于提供与用户的交互，例如：提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网和互联网。计算机系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，也可以为分布式系统的服务器，或者是结合了区块链的服务器。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发申请中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本申请公开的技术方案所期望的结果，本文在此不进行限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或隐含地包括至少一个该特征。在本申请的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。以上所述，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以所述权利要求的保护范围为准。
