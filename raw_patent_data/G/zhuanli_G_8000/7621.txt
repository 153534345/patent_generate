标题title
一种用于肿瘤手术的切缘路径生成方法、系统及存储介质
摘要abst
本发明涉及计算机辅助术前分析技术领域，公开了一种用于肿瘤手术的切缘路径生成方法、系统及存储介质，该方法包括：获取肿瘤的临床图片、皮肤镜图片以及患者的病史信息；采用预设深度学习网络模型对皮肤镜图片中的肿瘤边界进行分割提取，得到皮肤镜下的皮肤肿瘤边界；将皮肤肿瘤边界与临床图片进行配准，得到目标肿瘤边界；根据病史信息、目标肿瘤边界、以及预设的路径生成模型生成初始切缘路径；在肿瘤类型为良性肿瘤的情况下，对所述初始切缘路径进行平滑处理，生成梭形切口的切缘路径；在肿瘤类型为恶性肿瘤的情况下，对所述初始切缘路径进行等距扩大处理，生成最终的切缘路径，可以自动生成更准确的生成切缘路径。
权利要求书clms
1.一种用于肿瘤手术的切缘路径生成方法，其特征在于，包括：获取肿瘤的临床图片、皮肤镜图片以及患者的病史信息；采用预设深度学习网络模型对所述皮肤镜图片中的肿瘤边界进行分割提取，得到皮肤镜下的皮肤肿瘤边界；将所述皮肤肿瘤边界与临床图片进行配准，得到目标肿瘤边界；根据所述病史信息、所述目标肿瘤边界、以及预设的路径生成模型生成初始切缘路径；在肿瘤类型为良性肿瘤的情况下，对所述初始切缘路径进行平滑处理，生成梭形切口的切缘路径；在肿瘤类型为恶性肿瘤的情况下，对所述初始切缘路径进行等距扩大处理，生成最终的切缘路径。2.根据权利要求1所述的用于肿瘤手术的切缘路径生成方法，其特征在于，所述患者的病史信息包括患者个人基本信息、现病史、既往史、个人史、体格检查信息。3.根据权利要求1所述的用于肿瘤手术的切缘路径生成方法，其特征在于，所述将所述病史信息和所述目标肿瘤边界输入预设的路径生成模型之前，所述方法还包括：采集肿瘤的N张历史临床图片、N张皮肤镜图片、肿瘤患者的病史信息以及肿瘤对应的切缘路径；根据肿瘤患者的病史信息确定肿瘤类型；将所述N张历史临床图片、所述N张皮肤镜图片以及所述肿瘤类型作为网络模型的输入，所述肿瘤对应的切缘路径作为网络模型的输出，进行迭代训练，得到预设的路径生成模型。4.根据权利要求3所述的用于肿瘤手术的切缘路径生成方法，其特征在于，所述根据所述病史信息、所述目标肿瘤边界、以及预设的路径生成模型生成初始切缘路径，包括：根据所述病史信息确认肿瘤类型；在肿瘤类型为良性肿瘤的情况下，基于所述目标肿瘤边界扩大1mm-5mm生成初始切缘路径；在肿瘤类型为恶性肿瘤的情况下，基于所述目标肿瘤边界扩大5mm-20mm生成初始切缘路径。5.根据权利要求1所述的用于肿瘤手术的切缘路径生成方法，其特征在于，在肿瘤类型为良性肿瘤的情况下，所述对所述初始切缘路径进行平滑处理，生成梭形切口的切缘路径，包括：确定肿瘤的皮损周围皮肤的皮纹线；在与皮纹线平行的方向上根据预设方式设计梭形切口的切缘路径，所述梭形切口的切缘路径包括第一端角度、第二端角度、梭形宽度、以及梭形长轴；所述预设方式包括：将梭形的第一端角度和第二端角度均设置为30°；在与皮纹线垂直的方向上设计梭形宽度，其中，梭形宽度为垂直于皮纹线方向的肿瘤长度的两端各延长2mm；在与皮纹线平行的方向上设计梭形的长轴为梭形宽度的2-3倍。6.根据权利要求1所述的用于肿瘤手术的切缘路径生成方法，其特征在于，所述方法还包括：将良性肿瘤对应的所述梭形切口的切缘路径或者恶性肿瘤对应的最终的切缘路径投影于患者皮肤表面。7.一种用于肿瘤手术的切缘路径生成系统，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现上述权利要求1至6中任一所述方法的步骤。8.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1-6中任一所述的方法步骤。
说明书desc
技术领域本发明涉及计算机辅助术前分析技术领域，尤其涉及一种用于肿瘤手术的切缘路径生成方法、系统及存储介质。背景技术临床上目前对于皮肤肿瘤切缘的设计，主要由医生根据自身经验进行描记。医生根据自身经验对切缘的设计较大幅度依赖于医生的主观判断，客观性差；且梭形的设计没有经过严格量化，由医生手动绘制，手动绘制的梭形难以保证切口形状和面积的准确率，因此用此种方法设计出的切缘易出现切除面积过大、切除面积过小、切缘设计不够精确等问题。其中，切除面积过大时：创面变大、愈合时间延长，愈合后该处剩余皮肤受牵拉而影响正常功能，且美观性较差。缝合时切缘处皮肤难以对合，易导致瘢痕的产生，后期瘢痕挛缩损害皮肤功能、影响美观。深层组织缝合后易因对合不够严密而产生空隙，不仅使得手术部位难以愈合，还会增加厌氧菌感染的风险，难以达到一期愈合；切除面积过小时，则难以将肿瘤切除干净，残留的肿瘤细胞会继续增殖而导致复发。可见，急需提供一种用于肿瘤手术的切缘路径生成方法。发明内容本发明提供了一种用于肿瘤手术的切缘路径生成方法、系统及存储介质，以解决现有技术中存在的问题。为了实现上述目的，本发明通过如下的技术方案来实现：第一方面，本发明提供一种用于肿瘤手术的切缘路径生成方法，包括：获取肿瘤的临床图片、皮肤镜图片以及患者的病史信息；采用预设深度学习网络模型对所述皮肤镜图片中的肿瘤边界进行分割提取，得到皮肤镜下的皮肤肿瘤边界；将所述皮肤肿瘤边界与临床图片进行配准，得到目标肿瘤边界；根据所述病史信息、所述目标肿瘤边界、以及预设的路径生成模型生成初始切缘路径；在肿瘤类型为良性肿瘤的情况下，对所述初始切缘路径进行平滑处理，生成梭形切口的切缘路径；在肿瘤类型为恶性肿瘤的情况下，对所述初始切缘路径进行等距扩大处理，生成最终的切缘路径。可选地，所述患者的病史信息包括患者个人基本信息、现病史、既往史、个人史、体格检查信息。可选地，所述将所述病史信息和所述目标肿瘤边界输入预设的路径生成模型之前，所述方法还包括：采集肿瘤的N张历史临床图片、N张皮肤镜图片、肿瘤患者的病史信息以及肿瘤对应的切缘路径；根据肿瘤患者的病史信息确定肿瘤类型；将所述N张历史临床图片、所述N张皮肤镜图片以及所述肿瘤类型作为网络模型的输入，所述肿瘤对应的切缘路径作为网络模型的输出，进行迭代训练，得到预设的路径生成模型。可选地，所述根据所述病史信息、所述目标肿瘤边界、以及预设的路径生成模型生成初始切缘路径，包括：根据所述病史信息确认肿瘤类型；在肿瘤类型为良性肿瘤的情况下，基于所述目标肿瘤边界扩大1mm-5mm生成初始切缘路径；在肿瘤类型为恶性肿瘤的情况下，基于所述目标肿瘤边界扩大5mm-20mm生成初始切缘路径。可选地，在肿瘤类型为良性肿瘤的情况下，所述对所述初始切缘路径进行平滑处理，生成梭形切口的切缘路径，包括：确定肿瘤的皮损周围皮肤的皮纹线；在与皮纹线平行的方向上根据预设方式设计梭形切口的切缘路径，所述梭形切口的切缘路径包括第一端角度、第二端角度、梭形宽度、以及梭形长轴；所述预设方式包括：将梭形的第一端角度和第二端角度均设置为30°；在与皮纹线垂直的方向上设计梭形宽度，其中，梭形宽度为垂直于皮纹线方向的肿瘤长度的两端各延长2mm；在与皮纹线平行的方向上设计梭形的长轴为梭形宽度的2-3倍。可选地，所述方法还包括：将良性肿瘤对应的所述梭形切口的切缘路径或者恶性肿瘤对应的最终的切缘路径投影于患者皮肤表面。第二方面，本申请提供一种用于肿瘤手术的切缘路径生成系统，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述第一方面所述方法的步骤。第三方面，本申请提供一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现如第一方面所述的方法的步骤。有益效果：本发明提供的用于肿瘤手术的切缘路径生成方法，首先根据病史信息、目标肿瘤边界、以及预设的路径生成模型生成初始切缘路径；在肿瘤类型为良性肿瘤的情况下，对初始切缘路径进行平滑处理，生成梭形切口的切缘路径；在肿瘤类型为恶性肿瘤的情况下，对初始切缘路径进行等距扩大处理，生成最终的切缘路径。这样，将皮肤镜图片作为考虑因素，可以更准确地发现皮肤信息，采用预设的路径生成模型可以自动生成更准确的切缘路径，且针对于不同的肿瘤类型确定不同的最终切缘路径，可以避免因人工设计产生的误差使得切除面积过大影响愈合、增加感染、产生更严重的皮肤问题，或切除面积过小导致的复发。用本方法代替医生人工设计切缘可大幅缩短术前准备时间，在提高准确率的同时，具有更高的效率。附图说明图1为本发明优选实施例的一种用于肿瘤手术的切缘路径生成方法的流程图；图2为本发明优选实施例的针对于恶性肿瘤设计的梭形切缘路径的示意图；图3为本发明优选实施例的针对于良性肿瘤设计的梭形切缘路径的示意图。具体实施方式下面对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。除非另作定义，本发明中使用的技术术语或者科学术语应当为本发明所属领域内具有一般技能的人士所理解的通常意义。本发明中使用的“第一”、“第二”以及类似的词语并不表示任何顺序、数量或者重要性，而只是用来区分不同的组成部分。同样，“一个”或者“一”等类似词语也不表示数量限制，而是表示存在至少一个。“连接”或者“相连”等类似的词语并非限定于物理的或者机械的连接，而是可以包括电性的连接，不管是直接的还是间接的。“上”、“下”、“左”、“右”等仅用于表示相对位置关系，当被描述对象的绝对位置改变后，则该相对位置关系也相应地改变。请参见图1，本申请实施例提供一种用于肿瘤手术的切缘路径生成方法，包括：获取肿瘤的临床图片、皮肤镜图片以及患者的病史信息；采用预设深度学习网络模型对皮肤镜图片中的肿瘤边界进行分割提取，得到皮肤镜下的皮肤肿瘤边界；将皮肤肿瘤边界与临床图片进行配准，得到目标肿瘤边界；根据病史信息、目标肿瘤边界、以及预设的路径生成模型生成初始切缘路径；在肿瘤类型为良性肿瘤的情况下，对初始切缘路径进行平滑处理，生成梭形切口的切缘路径；在肿瘤类型为恶性肿瘤的情况下，对初始切缘路径进行等距扩大处理，生成最终的切缘路径。在本实施例中，可以通过平板电脑或者相关的图像采集设备获取临床图片，可以通过皮肤镜获取皮肤镜图片。其中，皮肤镜可以放大肉眼难以识别的皮肤特征，因此，采用皮肤镜获取的皮肤镜图片可以准确地捕捉到皮肤的实际信息。通过采用皮肤镜图片进行分析，可以更准确的获取到患者的皮肤实际情况。将此作为一项输入数据，避免体表的边界与实际病灶范围不符合的情况。具体而言，在肿瘤类型为恶性肿瘤的情况下，如图2所示，对初始切缘路径进行等距扩大处理，生成最终的切缘路径时，等距扩大的具体倍数可以根据恶性肿瘤的具体级别设定，这样，针对于不同类型的恶性肿瘤，可以设置不同的切缘范围，可以有效防止复发。上述的用于肿瘤手术的切缘路径生成方法，首先根据病史信息、目标肿瘤边界、以及预设的路径生成模型生成初始切缘路径；在肿瘤类型为良性肿瘤的情况下，对初始切缘路径进行平滑处理，生成梭形切口的切缘路径；在肿瘤类型为恶性肿瘤的情况下，对初始切缘路径进行等距扩大处理，生成最终的切缘路径。这样，将皮肤镜图片作为考虑因素，可以更准确地发现皮肤信息，采用预设的路径生成模型可以自动生成更准确的生成切缘路径，且针对于不同的肿瘤类型确定不同的最终切缘路径，可以避免因人工设计产生的误差使得切除面积过大影响愈合、增加感染、产生更严重的皮肤问题，或切除面积过小导致的复发。用本方法代替医生人工设计切缘可大幅缩短术前准备时间，在提高准确率的同时，具有更高的效率。可选地，患者的病史信息包括患者个人基本信息、现病史、既往史、个人史、体格检查信息。在本可选的实施方式中，个人基本信息包括患者的姓名、年龄、籍贯等信息，现病史包括患者本次患病的时间记录，患病名称以及检查情况，既往史包括患者以往患病情况，个人史包括患者的社会经历、职业及工作条件、习惯与嗜好、冶游史、以及吸毒史等，体格检查信息包括患者的身高体重等体格信息，此处仅做示例，不做限定。可选地，将病史信息和目标肿瘤边界输入预设的路径生成模型之前，上述的方法还包括：采集肿瘤的N张历史临床图片、N张皮肤镜图片、肿瘤患者的病史信息以及肿瘤对应的切缘路径；根据肿瘤患者的病史信息确定肿瘤类型；将N张历史临床图片、N张皮肤镜图片以及肿瘤类型作为网络模型的输入，肿瘤对应的切缘路径作为网络模型的输出，进行迭代训练，得到预设的路径生成模型。在训练预设的路径生成模型时，可以随机将患者的信息以7：3的比例分为训练集和验证集，训练集数据用于构建模型，训练集数据用于下一步对模型的测试与调整。基于卷积神经网络建立手术切缘设计算法，该算法可根据输入的临床图片和皮肤镜图片对肿瘤边缘进行识别。可选地，根据病史信息、目标肿瘤边界、以及预设的路径生成模型生成初始切缘路径，包括：根据病史信息确认肿瘤类型；在肿瘤类型为良性肿瘤的情况下，基于目标肿瘤边界扩大1mm-5mm生成初始切缘路径；在肿瘤类型为恶性肿瘤的情况下，基于目标肿瘤边界扩大5mm-20mm生成初始切缘路径。其中，病史信息确认肿瘤类型可以是根据病史信息确定肿瘤的生长情况，进而确定肿瘤类型。在一实施方式中，还可以结合病史信息和肿瘤的目前厚度确定肿瘤类型。请参见图3，在肿瘤类型为良性肿瘤的情况下，所述对所述初始切缘路径进行平滑处理，生成梭形切口的切缘路径，包括：确定肿瘤的皮损周围皮肤的皮纹线；在与皮纹线平行的方向上根据预设方式设计梭形切口的切缘路径，所述梭形切口的切缘路径包括第一端角度、第二端角度、梭形宽度、以及梭形长轴；所述预设方式包括：将梭形的第一端角度和第二端角度均设置为30°；在与皮纹线垂直的方向上设计梭形宽度，其中，梭形宽度为垂直于皮纹线方向的肿瘤长度的两端各延长2mm；在与皮纹线平行的方向上设计梭形的长轴为梭形宽度的2-3倍。需要说明的是，垂直于皮纹线方向的梭形的宽度设置为a，长轴的长度可根据患者对美观性的期望高低、肿瘤部位、肿瘤的良恶性程度等在2-3a的范围内进行调整。可选地，所述方法还包括：将良性肿瘤对应的所述梭形切口的切缘路径或者恶性肿瘤对应的最终的切缘路径投影于患者皮肤表面。这样，可以便于医生直接基于投影实施相关操作，便于减少受人为因素的影响，实现更准确的切除。可选地，还可以以完成手术切缘设计和描绘的临床图片为标准，在训练集中测试模型对于切缘设计的准确率，即模型设计的手术切缘与医生人工描绘的手术切缘的重合率，并基于上述结果逐步修正、优化模型。这样，通过修正和优化，可以使得得到的结果更加准确。本申请实施例还提供一种用于肿瘤手术的切缘路径生成系统，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述方法的步骤。该用于肿瘤手术的切缘路径生成系统可以实现上述的用于肿瘤手术的切缘路径生成方法的各个实施例，且能达到相同的有益效果，此处，不做赘述。本申请实施例还提供一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现如上所述的方法步骤。该计算机可读存储介质可以实现上述的用于肿瘤手术的切缘路径生成方法的各个实施例，且能达到相同的有益效果，此处，不做赘述。以上详细描述了本发明的较佳具体实施例。应当理解，本领域的普通技术人员无需创造性劳动就可以根据本发明的构思作出诸多修改和变化。因此，凡本技术领域中技术人员依本发明的构思在现有技术的基础上通过逻辑分析、推理或者有限的实验可以得到的技术方案，皆应在由权利要求书所确定的保护范围内。
