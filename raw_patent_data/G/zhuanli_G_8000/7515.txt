标题title
一种路网交通拥堵主动管控方法及系统
摘要abst
本发明涉及一种路网交通拥堵主动管控方法与系统，具体涉及交通拥堵管控技术领域。所述方法包括：根据路网中检测器的位置构建有向图；根据各检测器所在断面之间的自由流车速和有向图，确定有向图的自由流可达矩阵和多个不同阶数的邻域矩阵；根据所有阶数的邻域矩阵、自由流可达矩阵和各断面在设定时间段内的交通状态，计算有向图在设定时间段内的卷积算子；将有向图在设定时间段内的卷积算子输入长短时记忆神经网络模型得到各断面在预测时间段内各时刻的交通状态；根据各断面在设定时间段和在预测时间段内各时刻的交通状态，确定各断面的管控方法为单点控制还是圈层控制。本发明可有效提升道路的通行效率减少道路拥堵。
权利要求书clms
1.一种路网交通拥堵主动管控方法，其特征在于，包括：获取路网中检测器的位置和各检测器所在断面在设定时间段内各时刻的交通状态；所述交通状态包括车速和车流量；根据所述路网中检测器的位置构建有向图，所述有向图中的节点为路网中各检测器所在断面，所述有向图中的边为各检测器所在断面之间的路段；根据各检测器所在断面之间的自由流车速和所述有向图，确定所述有向图的自由流可达矩阵和多个不同阶数的邻域矩阵；当所述阶数为k时所述邻域矩阵表示经过k个路段是否可以从第i个检测器到达第j个检测器；所述自由流可达矩阵表示汽车是否可以在设定时间内以自由流车速从第i个检测器到达第j个检测器；根据所有阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻的卷积算子；将所述有向图在设定时间段内各时刻的卷积算子输入长短时记忆神经网络模型得到各检测器所在断面在预测时间段内各时刻的交通状态；根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法，所述车流量管控方法包括：圈层控制或者单点控制；所述圈层控制为根据各检测器所在断面与拥堵源之间的距离控制各检测器所在断面的车流量。2.根据权利要求1所述的一种路网交通拥堵主动管控方法，其特征在于，所述根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法，具体包括：根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态确定各检测器所在断面为拥堵源还是单点拥堵；当所述检测器所在断面为单点拥堵时，则采用单点控制的管控方法对所述断面的车流量进行控制；当所述检测器所在断面为拥堵源时，则采用圈层控制的管控方法对各检测器所在断面进行控制，并实时根据第一拥堵时长、第二拥堵时长、控制前第一拥堵时长内的车速和控制后第一拥堵时长内的车速确定是否停止圈层控制；所述第一拥堵时长为控制前的拥堵时长；所述第二拥堵时长为控制后的拥堵时长。3.根据权利要求1所述的一种路网交通拥堵主动管控方法，其特征在于，所述根据各检测器所在断面之间的自由流车速和所述有向图，确定所述有向图的自由流可达矩阵和多个不同阶数的邻域矩阵，具体包括：根据所述有向图确定所述有向图的最短距离矩阵和多个不同阶数的邻域矩阵；根据所述有向图的最短距离矩阵和各检测器所在断面之间的自由流车速计算自由流可达矩阵。4.根据权利要求1所述的一种路网交通拥堵主动管控方法，其特征在于，所述根据所有阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻的卷积算子，具体包括：对于任意一个阶数，根据所述阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻所述阶数对应的卷积算子；根据所述有向图在设定时间段内各时刻所有阶数对应的卷积算子计算有向图在设定时间段内各时刻的卷积算子。5.根据权利要求4所述的一种路网交通拥堵主动管控方法，其特征在于，所述根据所述阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻所述阶数对应的卷积算子，具体为：根据公式计算有向图在t时刻阶数为k时的卷积算子，其中，表示有向图在t时刻阶数为k时的卷积算子，Wgc_k表示阶数为k的邻域矩阵的权重矩阵，表示阶数为k的邻域矩阵，FFR表示自由流可达矩阵，Xt表示各检测器所在断面在t时刻的交通状态。6.一种路网交通拥堵主动管控系统，其特征在于，包括：获取模块，用于获取路网中检测器的位置和各检测器所在断面在设定时间段内各时刻的交通状态；所述交通状态包括车速和车流量；有向图构建模块，用于根据所述路网中检测器的位置构建有向图，所述有向图中的节点为路网中各检测器所在断面，所述有向图中的边为各检测器所在断面之间的路段；参数计算模块，用于根据各检测器所在断面之间的自由流车速和所述有向图，确定所述有向图的自由流可达矩阵和多个不同阶数的邻域矩阵；当所述阶数为k时所述邻域矩阵表示经过k个路段是否可以从第i个检测器到达第j个检测器；所述自由流可达矩阵表示汽车是否可以在设定时间内以自由流车速从第i个检测器到达第j个检测器；卷积算子计算模块，用于根据所有阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻的卷积算子；交通状态确定模块，用于将所述有向图在设定时间段内各时刻的卷积算子输入长短时记忆神经网络模型得到各检测器所在断面在预测时间段内各时刻的交通状态；管控模块，用于根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法，所述车流量管控方法包括：圈层控制或者单点控制；所述圈层控制为根据各检测器所在断面与拥堵源之间的距离控制各检测器所在断面的车流量。7.根据权利要求6所述的一种路网交通拥堵主动管控系统，其特征在于，所述管控模块包括：交通状态确定单元，用于根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态确定各检测器所在断面为拥堵源还是单点拥堵；单点控制单元，用于当所述检测器所在断面为单点拥堵时，则采用单点控制的管控方法对所述断面的车流量进行控制；圈层控制单元，用于当所述检测器所在断面为拥堵源时，则采用圈层控制的管控方法对各检测器所在断面进行控制，并实时根据第一拥堵时长、第二拥堵时长、控制前第一拥堵时长内的车速和控制后第一拥堵时长内的车速确定是否停止圈层控制；所述第一拥堵时长为控制前的拥堵时长；所述第二拥堵时长为控制后的拥堵时长。8.根据权利要求6所述的一种路网交通拥堵主动管控系统，其特征在于，所述参数计算模块包括：最短距离矩阵和邻域矩阵计算单元，用于根据所述有向图确定所述有向图的最短距离矩阵和多个不同阶数的邻域矩阵；自由流可达矩阵计算单元，用于根据所述有向图的最短距离矩阵和各检测器所在断面之间的自由流车速计算自由流可达矩阵。9.根据权利要求6所述的一种路网交通拥堵主动管控系统，其特征在于，所述卷积算子计算模块包括：有向图卷积算子计算单元，用于对于任意一个阶数，根据所述阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻所述阶数对应的卷积算子；卷积算子计算单元，用于根据所述有向图在设定时间段内各时刻所有阶数对应的卷积算子计算有向图在设定时间段内各时刻的卷积算子。10.根据权利要求9所述的一种路网交通拥堵主动管控系统，其特征在于，所述有向图卷积算子计算单元包括：有向图卷积算子计算子单元，用于根据公式计算有向图在t时刻阶数为k时的卷积算子，其中，表示有向图在t时刻阶数为k时的卷积算子，Wgc_k表示阶数为k的邻域矩阵的权重矩阵，表示阶数为k的邻域矩阵，FFR表示自由流可达矩阵，Xt表示各检测器所在断面在t时刻的交通状态。
说明书desc
技术领域本发明涉及交通拥堵管控技术领域，特别是涉及一种路网交通拥堵主动管控方法及系统。背景技术随着城市不断发展，交通出行需求大幅增长，长时间、大范围的交通拥堵也愈发频繁，交通拥堵已不再仅以单节点、单路段的形式出现，拥堵在区域时空空间中蔓延的趋势十分突出，如何科学有效地治理交通拥堵现象已成为交管部门面临的难题。道路交通状态存在周期性和时空关联性，某一个路段的交通状况会沿着道路结构蔓延到周围路段，导致周围一定空间范围内的路段交通状况改变。现有技术中虽然各地都积极采取了一些措施对道路交通进行管控，但是这些措施大多是单点控制措施，难以有效发挥作用，需要探索新的道路控制方法来有效提升交通通行效率。发明内容本发明的目的是提供一种路网交通拥堵主动管控方法与系统，可有效提升道路的通行效率减少道路拥堵。为实现上述目的，本发明提供了如下方案：一种路网交通拥堵主动管控方法，包括：获取路网中检测器的位置和各检测器所在断面在设定时间段内各时刻的交通状态；所述交通状态包括车速和车流量；根据所述路网中检测器的位置构建有向图，所述有向图中的节点为路网中各检测器所在断面，所述有向图中的边为各检测器所在断面之间的路段；根据各检测器所在断面之间的自由流车速和所述有向图，确定所述有向图的自由流可达矩阵和多个不同阶数的邻域矩阵；当所述阶数为k时所述邻域矩阵表示经过k个路段是否可以从第i个检测器到达第j个检测器；所述自由流可达矩阵表示汽车是否可以在设定时间内以自由流车速从第i个检测器到达第j个检测器；根据所有阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻的卷积算子；将所述有向图在设定时间段内各时刻的卷积算子输入长短时记忆神经网络模型得到各检测器所在断面在预测时间段内各时刻的交通状态；根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法，所述车流量管控方法包括：圈层控制或者单点控制；所述圈层控制为根据各检测器所在断面与拥堵源之间的距离控制各检测器所在断面的车流量。可选的，所述根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法，具体包括：根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态确定各检测器所在断面为拥堵源还是单点拥堵；当所述检测器所在断面为单点拥堵时，则采用单点控制的管控方法对所述断面的车流量进行控制；当所述检测器所在断面为拥堵源时，则采用圈层控制的管控方法对各检测器所在断面进行控制，并实时根据第一拥堵时长、第二拥堵时长、控制前第一拥堵时长内的车速和控制后第一拥堵时长内的车速确定是否停止圈层控制；所述第一拥堵时长为控制前的拥堵时长；所述第二拥堵时长为控制后的拥堵时长。可选的，所述根据各检测器所在断面之间的自由流车速和所述有向图，确定所述有向图的自由流可达矩阵和多个不同阶数的邻域矩阵，具体包括：根据所述有向图确定所述有向图的最短距离矩阵和多个不同阶数的邻域矩阵；根据所述有向图的最短距离矩阵和各检测器所在断面之间的自由流车速计算自由流可达矩阵。可选的，所述根据所有阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻的卷积算子，具体包括：对于任意一个阶数，根据所述阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻所述阶数对应的卷积算子；根据所述有向图在设定时间段内各时刻所有阶数对应的卷积算子计算有向图在设定时间段内各时刻的卷积算子。可选的，所述根据所述阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻所述阶数对应的卷积算子，具体为：根据公式计算有向图在t时刻阶数为k时的卷积算子，其中，表示有向图在t时刻阶数为k时的卷积算子，Wgc_k表示阶数为k的邻域矩阵的权重矩阵，表示阶数为k的邻域矩阵，FFR表示自由流可达矩阵，Xt表示各检测器所在断面在t时刻的交通状态。一种路网交通拥堵主动管控系统，包括：获取模块，用于获取路网中检测器的位置和各检测器所在断面在设定时间段内各时刻的交通状态；所述交通状态包括车速和车流量；有向图构建模块，用于根据所述路网中检测器的位置构建有向图，所述有向图中的节点为路网中各检测器所在断面，所述有向图中的边为各检测器所在断面之间的路段；参数计算模块，用于根据各检测器所在断面之间的自由流车速和所述有向图，确定所述有向图的自由流可达矩阵和多个不同阶数的邻域矩阵；当所述阶数为k时所述邻域矩阵表示经过k个路段是否可以从第i个检测器到达第j个检测器；所述自由流可达矩阵表示汽车是否可以在设定时间内以自由流车速从第i个检测器到达第j个检测器；卷积算子计算模块，用于根据所有阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻的卷积算子；交通状态确定模块，用于将所述有向图在设定时间段内各时刻的卷积算子输入长短时记忆神经网络模型得到各检测器所在断面在预测时间段内各时刻的交通状态；管控模块，用于根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法，所述车流量管控方法包括：圈层控制或者单点控制；所述圈层控制为根据各检测器所在断面与拥堵源之间的距离控制各检测器所在断面的车流量。可选的，所述管控模块包括：交通状态确定单元，用于根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态确定各检测器所在断面为拥堵源还是单点拥堵；单点控制单元，用于当所述检测器所在断面为单点拥堵时，则采用单点控制的管控方法对所述断面的车流量进行控制；圈层控制单元，用于当所述检测器所在断面为拥堵源时，则采用圈层控制的管控方法对各检测器所在断面进行控制，并实时根据第一拥堵时长、第二拥堵时长、控制前第一拥堵时长内的车速和控制后第一拥堵时长内的车速确定是否停止圈层控制；所述第一拥堵时长为控制前的拥堵时长；所述第二拥堵时长为控制后的拥堵时长。可选的，所述参数计算模块包括：最短距离矩阵和邻域矩阵计算单元，用于根据所述有向图确定所述有向图的最短距离矩阵和多个不同阶数的邻域矩阵；自由流可达矩阵计算单元，用于根据所述有向图的最短距离矩阵和各检测器所在断面之间的自由流车速计算自由流可达矩阵。可选的，所述卷积算子计算模块包括：有向图卷积算子计算单元，用于对于任意一个阶数，根据所述阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻所述阶数对应的卷积算子；卷积算子计算单元，用于根据所述有向图在设定时间段内各时刻所有阶数对应的卷积算子计算有向图在设定时间段内各时刻的卷积算子。可选的，所述有向图卷积算子计算单元包括：有向图卷积算子计算子单元，用于根据公式计算有向图在t时刻阶数为k时的卷积算子，其中，表示有向图在t时刻阶数为k时的卷积算子，Wgc_k表示阶数为k的邻域矩阵的权重矩阵，表示阶数为k的邻域矩阵，FFR表示自由流可达矩阵，Xt表示各检测器所在断面在t时刻的交通状态。根据本发明提供的具体实施例，本发明公开了以下技术效果：本发明根据路网中检测器的位置构建有向图；根据各检测器所在断面之间的自由流车速和有向图，确定有向图的自由流可达矩阵和多个不同阶数的邻域矩阵；根据所有阶数的邻域矩阵、自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算有向图在设定时间段内各时刻的卷积算子；将有向图在设定时间段内各时刻的卷积算子输入长短时记忆神经网络模型得到各检测器所在断面在预测时间段内各时刻的交通状态；根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法，管控方法包括：圈层控制或者单点控制；圈层控制为根据各检测器所在断面与拥堵源之间的距离控制各检测器所在断面的车流量。本发明根据各检测器所在断面的交通状态采用单点控制和圈层控制的方法，可有效提升道路的通行效率减少道路拥堵。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的路网交通拥堵主动管控方法的流程图；图2为本发明实施例提供的更加具体的路网交通拥堵主动管控方法流程图；图3为本发明提供的有向交通图卷积长短时记忆神经网络模型的结构图；图4为本发明实例识别出的拥堵时空范围位置的示意图；图5为本发明提供的单点控制流程图；图6为本发明提供的圈层时空递进式拥堵管控策略流程图；图7为本发明提供的路网智能化交通主动管控总体技术框架示意图；图8为本发明提供的管控技术框架模块图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图和具体实施方式对本发明作进一步详细的说明。近几年发展起来的匝道模糊控制、人工神经网络控制等新技术的发展给城市交通拥堵的管控带来了新思路，交通大数据环境下，运用人工智能算法更精准、更迅捷地开展实时交通数据处理与分析，给实现多圈层、多场景、多目标、多方式等复合条件下的智能化交通主动管控技术带来了更大的可能性，基于此，本发明提供了一种路网交通拥堵主动管控方法与系统，特别是基于有向交通图卷积长短时记忆神经网络模型的城市路网交通拥堵管控方法与系统，目的就是为了适应城市交通运行与治堵工作中显现出的高饱和、综合性的新特征，能够同时学习到路网交通的时间和空间双重特性，从历史数据中发现拥堵的时空模式，找到路网中影响范围较大的关键路段和拥堵源，将单点控制与多圈层控制相结合，高效准确预测出拥堵在何时何地发生，做出响应，防堵于未然，主动采取措施预防拥堵的发生，缩短拥堵时间，有针对性地遏制拥堵的蔓延，控制对象和手段分圈层、完整、针对性强。控制方案策略与技术框架明确、清晰、系统性强，如图1所示，所述方法具体包括：步骤101：获取路网中检测器的位置和各检测器所在断面在设定时间段内各时刻的交通状态。所述交通状态包括车速和车流量。步骤102：根据所述路网中检测器的位置构建有向图。所述有向图中的节点为路网中各检测器所在断面，所述有向图中的边为各检测器所在断面之间的路段。步骤103：根据各检测器所在断面之间的自由流车速和所述有向图，确定所述有向图的自由流可达矩阵和多个不同阶数的邻域矩阵。当所述阶数为k时所述邻域矩阵表示经过k个路段是否可以从第i个检测器到达第j个检测器；所述自由流可达矩阵表示汽车是否可以在设定时间内以自由流车速从第i个检测器到达第j个检测器。步骤104：根据所有阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻的卷积算子。步骤105：将所述有向图在设定时间段内各时刻的卷积算子输入长短时记忆神经网络模型得到各检测器所在断面在预测时间段内各时刻的交通状态。步骤106：根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法。所述车流量管控方法包括：圈层控制或者单点控制；所述圈层控制为根据各检测器所在断面与拥堵源之间的距离控制各检测器所在断面的车流量。在实际应用中，所述根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法，具体包括：根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态确定各检测器所在断面为拥堵源还是单点拥堵。当所述检测器所在断面为单点拥堵时，则采用单点控制的管控方法对所述断面的车流量进行控制。当所述检测器所在断面为拥堵源时，则采用圈层控制的管控方法对各检测器所在断面进行控制，并实时根据第一拥堵时长、第二拥堵时长、控制前第一拥堵时长内的车速和控制后第一拥堵时长内的车速确定是否停止圈层控制；所述第一拥堵时长为控制前的拥堵时长；所述第二拥堵时长为控制后的拥堵时长。在实际应用中，所述根据各检测器所在断面之间的自由流车速和所述有向图，确定所述有向图的自由流可达矩阵和多个不同阶数的邻域矩阵，具体包括：根据所述有向图确定所述有向图的最短距离矩阵和多个不同阶数的邻域矩阵。根据所述有向图的最短距离矩阵和各检测器所在断面之间的自由流车速计算自由流可达矩阵。在实际应用中，所述根据所有阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻的卷积算子，具体包括：对于任意一个阶数，根据所述阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻所述阶数对应的卷积算子。根据所述有向图在设定时间段内各时刻所有阶数对应的卷积算子计算有向图在设定时间段内各时刻的卷积算子。在实际应用中，所述根据所述阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻所述阶数对应的卷积算子，具体为：根据公式计算有向图在t时刻阶数为k时的卷积算子，其中，表示有向图在t时刻阶数为k时的卷积算子，Wgc_k表示阶数为k的邻域矩阵的权重矩阵，表示阶数为k的邻域矩阵，FFR表示自由流可达矩阵，Xt表示各检测器所在断面在t时刻的交通状态。本发明实施例有以下技术效果：本实施例提出的路网交通拥堵主动管控方法，实施科学有效的圈层时空递进式拥堵管控策略，可以实现对当前拥堵问题的及时响应与处理，以及对潜在拥堵问题的预防性改善，可有效提升道路的通行效率减少道路拥堵。针对上述方法本发明实施例提供了一种路网交通拥堵主动管控系统，包括：获取模块，用于获取路网中检测器的位置和各检测器所在断面在设定时间段内各时刻的交通状态，所述交通状态包括车速和车流量。有向图构建模块，用于根据所述路网中检测器的位置构建有向图，所述有向图中的节点为路网中各检测器所在断面，所述有向图中的边为各检测器所在断面之间的路段。参数计算模块，用于根据各检测器所在断面之间的自由流车速和所述有向图，确定所述有向图的自由流可达矩阵和多个不同阶数的邻域矩阵；当所述阶数为k时所述邻域矩阵表示经过k个路段是否可以从第i个检测器到达第j个检测器；所述自由流可达矩阵表示汽车是否可以在设定时间内以自由流车速从第i个检测器到达第j个检测器。卷积算子计算模块，用于根据所有阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻的卷积算子。交通状态确定模块，用于将所述有向图在设定时间段内各时刻的卷积算子输入长短时记忆神经网络模型得到各检测器所在断面在预测时间段内各时刻的交通状态。管控模块，用于根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态，确定各检测器所在断面的车流量管控方法，所述车流量管控方法包括：圈层控制或者单点控制；所述圈层控制为根据各检测器所在断面与拥堵源之间的距离控制各检测器所在断面的车流量。在实际应用中，所述管控模块包括：交通状态确定单元，用于根据各检测器所在断面在设定时间段内各时刻的交通状态和各检测器所在断面在预测时间段内各时刻的交通状态确定各检测器所在断面为拥堵源还是单点拥堵。单点控制单元，用于当所述检测器所在断面为单点拥堵时，则采用单点控制的管控方法对所述断面的车流量进行控制。圈层控制单元，用于当所述检测器所在断面为拥堵源时，则采用圈层控制的管控方法对各检测器所在断面进行控制，并实时根据第一拥堵时长、第二拥堵时长、控制前第一拥堵时长内的车速和控制后第一拥堵时长内的车速确定是否停止圈层控制；所述第一拥堵时长为控制前的拥堵时长；所述第二拥堵时长为控制后的拥堵时长。在实际应用中，所述参数计算模块包括：最短距离矩阵和邻域矩阵计算单元，用于根据所述有向图确定所述有向图的最短距离矩阵和多个不同阶数的邻域矩阵。自由流可达矩阵计算单元，用于根据所述有向图的最短距离矩阵和各检测器所在断面之间的自由流车速计算自由流可达矩阵。在实际应用中，所述卷积算子计算模块包括：有向图卷积算子计算单元，用于对于任意一个阶数，根据所述阶数的邻域矩阵、所述自由流可达矩阵和各检测器所在断面在设定时间段内各时刻的交通状态，计算所述有向图在设定时间段内各时刻所述阶数对应的卷积算子。卷积算子计算单元，用于根据所述有向图在设定时间段内各时刻所有阶数对应的卷积算子计算有向图在设定时间段内各时刻的卷积算子。在实际应用中，所述有向图卷积算子计算单元包括：有向图卷积算子计算子单元，用于根据公式计算有向图在t时刻阶数为k时的卷积算子，其中，表示有向图在t时刻阶数为k时的卷积算子，Wgc_k表示阶数为k的邻域矩阵的权重矩阵，表示阶数为k的邻域矩阵，FFR表示自由流可达矩阵，Xt表示各检测器所在断面在t时刻的交通状态。如图2所示，本发明实施例提供了一种更加具体的基于有向交通图卷积长短时记忆神经网络模型的城市快速路网交通拥堵管控方法，包括以下步骤：步骤1)构建有向交通图卷积长短时记忆神经网络模型，学习路网交通的时间和空间双重特性，实现对路网未来交通运行状况的精准预测，并完成路网区域拥堵产生点的识别与诊断。步骤1)中需要建立有向交通图卷积长短时记忆神经网络模型，适用交通路网的拓扑以及城市交通流时空双重特点，同时满足预测以及识别拥堵产生点的需求，具体包括以下步骤：11)建立有向图的卷积算子以学习路网交通的时间和空间双重特性，了解交通路网中交通影响在路网节点之间的传递规律。111)定义一个有向图来表示交通路网及路网上检测器之间的关系。其中表示图的节点，共有N个节点，同一路段同一断面的两个方向分别布设有检测器；表示图的连接节点的边；A∈RN×N是1阶邻接矩阵，表示节点间的连通性，如果两检测器i和j之间有路段直接相连，且连接的路段上没有其他检测器，那么矩阵中的元素Ai,j＝1,否则Ai,j＝0。112)定义最短距离矩阵D∈RN×N，矩阵中每个元素Di,j,代表节点i和j之间的最短路径距离。113)定义节点在时间t的图信号为Xt∈RN。114)定义k阶邻域矩阵如果检测器i可以经过小于或等于k个路段到达检测器j，那么矩阵中的元素否则有向图中和不一定相等。根据公式计算k阶邻域矩阵，I为单位矩阵，A为1阶领域矩阵，m表示A矩阵的m次幂。115)定义自由流可达矩阵FFR∈RN×N。根据公式计算FFR。其中是节点i和j之间的自由流车速，Δt是单位时间间隔，n是一个整数，用于计算在自由流车速下应考虑多少时间间隔来计算行驶距离。如果汽车可以在n·Δt时间内以自由流车速从节点i行驶到节点j，则元素FFRi,j＝1，否则FFRi,j＝0。FFRi,j和FFRj,i不一定相等。116)根据公式计算k阶有向交通图卷积算子。其中，Wgc_k是k阶邻域矩阵的权重矩阵，⊙表示矩阵对应位置的元素相乘。当增加k时，最终会收敛，当k＝K时，117)根据公式计算k阶有向图交通卷积算子，兼顾路网交通的时间和空间双重特性。12)构建与真实道路网络相匹配的有向交通图卷积长短时记忆神经网络模型，以学习交通数据中复杂的空间依赖关系和动态的时间依赖关系。121)有向交通图卷积长短时记忆神经网络模型的遗忘门、输入门、输出门和输入单元状态门四个门结构，见公式至：遗忘门输入门输出门输入单元状态门其中·是矩阵乘法运算符。Wf，Wi，Wo和WC∈RKN×N是权重矩阵，将输入映射到三个门和输入单元状态，而Uf，Ui，Uo和UC∈RN×N是前一个隐藏状态的权重矩阵。bf，bi，bo和bC∈RN是四个偏差向量。σg是门激活函数，通常是sigmoid型函数，而tanh是双曲正切函数。交通拥堵的治理应首在预防，即能根据道路的现有交通状态预测分析出短时间内的交通状态变化趋势，并对可能出现的拥堵现象进行预警、如果在拥堵出现之后再采取措施，那么整个路网交通状态的恶化将很难控制回到较畅通的状态。提前预测出拥堵在何时何地发生，做出响应，防堵于未然，主动采取措施预防拥堵的发生。近年来，随着交通大数据的发展以及交管部门对交通预测的及时性和准确性提出的更高要求，以神经网络模型为代表的人工智能算法逐渐发展起来，被广泛应用在非线性交通流预测领域，取得了优于传统参数模型的预测效果。但是由于道路交通兼具的时空双重特性，导致一般的神经网络模型在用于交通预测时的准确性或可解释性不足，需要探索新的更适用于道路交通的神经网络模型用于交通预测，并为后续交通控制提供基础，采用本实施例提供的有向交通图卷积长短时记忆神经网络模型，提高了交通预测时的准确性或可解释性。122)考虑节点间的相互影响，本发明设计并添加了一个相邻节点状态影响门，根据公式计算。其中WN是一个权重矩阵，用于衡量相邻节点状态的贡献，Ct-1∈RN×1是t-1时刻保留下来的长时记忆即整个路网的历史交通状态，计算得到考虑断面间相互影响后的t-1时刻的历史交通状态123)根据公式和ht＝σt⊙tanh分别计算t时刻更新后的长时记忆Ct∈RN×1和输出的交通状态ht∈RN×1。其中σt是门激活函数，通常是sigmoid型函数。13)建立起交通拥堵预警的长效模型，根据道路的现有交通状态预测分析出路网各检测器所在断面交通状态未来变化的趋势。对构建的有向交通图卷积长短时记忆神经网络模型进行训练得到交通拥堵预警的长效模型，对可能出现的拥堵现象进行预警，即将k阶有向图交通卷积算子输入12)中构建的有向交通图卷积长短时记忆神经网络模型得到各检测器所在断面在预测时间段内各时刻的交通状态。14)预测出路网区域的拥堵关键区域以及拥堵产生点，进而诊断出拥堵源作为控制的对象。根据拥堵产生点开始拥堵的时间较早、能影响周围比较大的范围两个特点，进行预测，具体为：根据历史实测数据找到拥堵源的速度跃迁点。找到拥堵源的预测速度序列中首次低于特征速度的时间，本发明实施拥堵管控的目标时间段是从该时间的上一个5分钟开始，直到速度不再持续降低而回升的时间。2)提出城市交通拥堵主动管控的总体策略，根据交通预测结果，对未来可能出现单点拥堵和拥堵产生点出现的轻度拥堵分别采取策略进行管控。步骤2)中，需要根据交通预测的结果，对单点偶发的拥堵进行单点的控制，如图5所示，对拥堵源可能发生的拥堵，采取圈层时空递进式拥堵管控策略，如图6所示，使得拥堵的持续时间缩短，及时疏散密集车流，加快拥堵的消散，避免拥堵在时空范围内的蔓延，实现区域拥堵快速疏导，具体包括以下步骤：21)提出“防堵为主、治堵为辅，提前、分圈层控制，尽快消散拥堵”的主动管控的总体策略。22)对预测得到未来可能发生单点拥堵的位置和时间，对其提前实施单点控制。利用本发明提出的有向交通图卷积长短时记忆神经网络模型模型对交通实时检测的数据进行预测，得到未来可能发生单点拥堵的位置和时间，对其提前实施单点控制，避免其发生拥堵。23)对拥堵源持续进行观测与预测，划分影响拥堵源的多个圈层，在预测得到拥堵源在未来某一时间段可能发生轻度拥堵时，采用圈层时空递进式拥堵管控策略。圈层时空递进式拥堵管控策略是在不同时间段都对多个圈层进行控制，在不同时间段进行控制侧重的圈层不同。首先从距离拥堵源较远的外圈层开始，更严格地限制车流量通过进口匝道的输入，中、内圈层采取阶梯式减弱的控制措施，然后随着时间临近拥堵源发生拥堵的时间，重点控制的圈层逐渐推移到中圈层和内圈层。本发明提出下面两个指标来衡量控制的效果：其中taim表示第一拥堵时长，设以5min为分析步长时，可划分为p个分析步长，taim＝5×p；tafter表示第二拥堵时长，表示控制后taim时段内第l个分析步长内的速度，表示控制前taim时段内第l个分析步长内的速度，具体的当控制后第一拥堵时长内的车速回到控制前第一拥堵时长内的车速或者控制后第一拥堵时长内的车速回到速度跃迁点对应车速以上时，则停止圈层控制。3)基于管控策略，建立智能化交通主动管控技术框架。步骤3)中，设计出智能化交通主动管控技术框架，实现多圈层、多场景、多目标、多方式等复合条件下的交通拥堵管控。总体框架主要分为交通指挥中心和路测控制器两个部分。本发明有实施例以下技术效果：本发明实施例建立了基于有向交通图卷积长短时记忆神经网络模型的城市路网交通拥堵管控策略与方法，以高效准确地预测路网交通状态，能够主动采取措施预防拥堵的发生，遏制拥堵的蔓延，控制方案策略与技术框架明确、清晰、系统性强。本发明实施例提供了将上述实施例应用于上海快速路外环以内浦西部分，具体为：步骤1：构建交通图卷积算子来反映交通路网中的交通影响在路网节点之间的传递规律。步骤2：将k阶有向交通图卷积应用于长短时记忆神经网络模型中，构建有向交通图卷积长短时记忆神经网络模型。模型结构如图3所示。步骤3：利用构建的有向交通图卷积长短时记忆神经网络模型，预测分析出未来交通状态变化的趋势。本发明实施例用于模型训练的历史数据来源于布设在上海市外环以内浦西部分的快速路上所有主线和匝道检测器，在工作日收集到的交通数据。检测器每间隔5分钟记录一次检测断面车道上的流量、行驶速度、占有率等信息。为了利于后续控制策略的实施，选择主线上的速度、匝道上的流量作为输入数据同时进行预测。预测得到主线上的速度序列和匝道上的流量序列。步骤4：根据拥堵产生点开始拥堵的时间较早、能影响周围比较大的范围两个特点，预测出路网区域的拥堵产生点以及拥堵时空范围，进而诊断出拥堵源作为控制的对象。本实例得到的上海快速路外环以内浦西部分的拥堵关键区域在检测断面NBXX19-NBXX23，这些断面位于南北高架西侧－共和新路立交桥这一路段内，在地图上的大致位置见图4所示。其中检测断面NBXX22最经常成为拥堵的产生点，判定该断面为此区域的拥堵源。拥堵源的速度预测的部分结果如表1所示。表1拥堵源的速度预测的部分结果实例拥堵源NBXX22的速度跃迁为43km/h左右。要在拥堵并未出现前，在没有越过速度跃迁点之前就采取措施对上匝道提前进行控制，调整上匝道的流量，减少主线上的交通需求，使得其不发生速度的跃迁。根据拥堵源的预测速度序列得到实施拥堵管控的目标时间段是6：20-6：50这30分钟。步骤5：针对预测出来的主线上可能偶发单点拥堵的位置，对其提前实施单点控制措施，避免其发生拥堵。单点控制的流程见图5所示。步骤6：对拥堵源持续进行观测与预测，划分影响拥堵源的多个圈层。这里划分三个圈层：内圈层是以拥堵源为中心，以速度跃迁点对应速度行驶10分钟的范围；中圈层是以拥堵源为中心，以速度跃迁点对应速度行驶10到20分钟的范围；外圈层是以拥堵源为中心，以速度跃迁点对应速度行驶20到30分钟的范围。实例拥堵源NBXX22的内圈层、中圈层和外圈层分别包括25、57和24个上匝道检测断面。本发明设计了一种圈层时空递进式拥堵管控策略，流程见图7所示。控流水平设置为0.25％、0.5％、1％、2％、5％、10％。第一步严格控制外圈层、中等控制中圈层、轻微控制内圈层，第二步严格控制中圈层、中等控制内圈层、外圈层逐渐回流，第三步严格控制内圈层、外圈层和中圈层逐渐回流。得到不同控流水平下的控制效果如表2所示。表2圈层时空递进式拥堵管控策略的效果排序方案序号控制方案控制效果指标值Econtrol控制效果指标值Δt110％,3％,1％14.477-10min25％,3％,1％14.394-10min33％,2％,1％14.361-10min42％,1％,0.5％14.344-10min51.5％,1％,0.5％14.336-10min61％,0.5％,0.25％14.328-10min由表2可知圈层时空递进式拥堵管控策略能够付出较小的代价来取得较大的控制效果，适合用于快速路交通拥堵的主动管控。与现有技术相比，本发明具有以下优点：本发明涉及一种基于有向交通图卷积长短时记忆神经网络模型的路网交通拥堵主动管控方法与系统，包括以下步骤：1)构建有向交通图卷积长短时记忆神经网络模型，实现对未来交通运行状况的精准预测，完成拥堵产生点的识别与诊断；2)针对拥堵产生点，动态划分拥堵管控的多个圈层，设计出圈层时空递进式拥堵管控策略，避免拥堵在时空范围内的蔓延，使得拥堵的持续时间缩短；3)提出圈层时空递进式交通主动管控系统建立方法。本发明能够高效准确地预测路网交通状态，能够实现拥堵时空区域和拥堵产生点全面、准确地识别与诊断，有效缩短拥堵时间，有针对性地遏制拥堵蔓延，控制对象和手段分圈层、完整、针对性强，控制方案策略与技术框架明确、清晰、系统性强。具有原创性、科学性和实用性等优点。1、原创性：中国目前亟需建立管控手段多样化、管控效果明显的城市路网交通拥堵管控策略与方法，而现有的交通拥堵管控忽略了交通拥堵越来越高的时空复杂特性，目前交通拥堵管控仍然尚待优化。本发明考虑交通拥堵的时空相关性，建立了一种基于有向交通图卷积长短时记忆神经网络模型的城市快速路网交通拥堵管控策略与方法，可有效赋能中国交通拥堵管控框架的研究和建设。2、科学性：本发明提出的一种基于有向交通图卷积长短时记忆神经网络模型的城市快速路网交通拥堵管控策略与方法，能满足交通预测的需求，能够更主动地、科学地选择交通拥堵跟踪管控的对象、时机及对策，实施科学有效的圈层时空递进式拥堵管控策略，可以实现对当前拥堵问题的及时响应与处理，以及对潜在拥堵问题的预防性改善。3、实用性：本发明提出的一种基于有向交通图卷积长短时记忆神经网络模型的城市快速路网交通拥堵管控策略与方法，是一套系统化流程，能够长期跟踪路网上的交通流数据，评估拥堵的时空影响范围并完成拥堵源的诊断，可以实现对当前拥堵问题的及时响应与处理，以及对潜在拥堵问题的预防性改善。本发明在面向路网交通拥堵区域识别、拥堵管控方面具有广泛的适用性。如图8所示，本发明还针对上述方法设计了智能化交通主动管控总体技术框架，分为两个层面：上层是基于历史的交通数据，采用本发明构建的长短时记忆神经网络模型，进行训练以及拥堵源的诊断，进而划分出两类控制区，一是单点拥堵控制区，二是面向大面积拥堵的拥堵源控制圈层。下层分别执行各自的控制策略。其中，单点控制区延续现有的单点控制工作流程与技术方法；拥堵源控制圈层采用新的工作流程与技术方法，一旦利用交通实测数据预测到拥堵源在未来时间段即将出现拥堵时候，就启动控制策略，监控中心人员完成动态分区，给操作中心的人员自动分配需要重点关注的匝道和主线段视频，操作人员根据此时采集到的匝道流量数据以及主线上视频观测到的情况来动态实施圈层时空递进式拥堵管控策略。如图8所示，本发明提供的一种智能化交通主动管控技术框架，包括下面这些模块：模块301：交通数据采集模块，包括：交通信息检测设施、视频监控设施、交通信息诱导设施、高清测速设施、卡口监测设施、闯禁行抓拍设施等设备采集原始数据。本项目中的前端信息采集设备主要是布设在路面内的环形检测线圈。模块302：数据管理模块，包括：交通信息分析软件、数据处理服务器、视频存储服务器以及客户端，主要是将前端采集设备获取的原始数据转换成报表和图形界面以供用户分析，同时能存储、查询历史数据。模块303：数据传输通信模块，包括：光纤物理链路及光纤收发器。主要完成远距离信息的快速上传及控制信息的快速下达。可以考虑主要通过点对点式光纤网络传输。在传输设计时充分考虑可靠性、扩展性与开发性，同时考虑与交通信号控制系统、交通电子警察系统等复用传输设备，最大化考虑传输设备的端口复用。模块304：数据集中处理模块，用于在不断接收海量数据的同时，保证对数据处理能力，采用预测精度高、实时性好的有向交通图卷积长短时记忆神经网络模型，保证对实时更新数据的快速处理能力，保证为路网的交通状况提供预测的能力。除此之外，还需要定期分析处理已有的海量历史数据，及时更新训练好的模型，保证预测精度，同时能及时更新拥堵管控的措施，真正实现主动控制。模块305：内场控制指令下达模块：此模块结构复杂、数据量大、用户数多，需要具有对网络状况、数据处理速度等多方面的自动监控、报告和诊断的能力。管理员能够通过简单的操作快速的发现问题，采取措施，下达指令进行拥堵的主动管控。内场的工作人员分为两部分，一部分是传统的对某个区域进行监测和控制，在单点拥堵产生后能够快速做出响应，另一部分对道路关键节点进行监测和动态的控制，还需要追踪控制的效果，来动态调整控制的策略。模块306：外场控制执行模块：在同一计时精度下，实现分圈层、多匝道的同步控制，对内场控制指令下达模块下达的指令精准而迅速地执行。模块307：安全防护模块：该技术框架会面临内、外两方面的安全威胁。内部威胁是指模块的持续运转对储存设备、通信链路等多方面造成的影响，外部威胁是指恶意攻击影响模块的正常运行。因此要求模块具有防护内部威胁和外部威胁的防护能力，并定时排查安全漏洞。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的系统而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处。综上所述，本说明书内容不应理解为对本发明的限制。
