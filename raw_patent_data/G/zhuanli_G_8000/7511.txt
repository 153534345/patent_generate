标题title
一种GNSS实时动态定位系统中参考站观测值的预报方法
摘要abst
本发明提出了一种GNSS实时动态定位系统中参考站观测值的预报方法，全球卫星导航系统技术领域，收集最新2T时长内参考站提供的GNSS多个卫星历史观测数据，并且对该观测数据进行预处理，识别观测数据中的异常值并剔除，对相位周跳进行探测和分段标记；根据预报的对流层延迟速率和电离层延迟速率、卫星和参考站位置及速率，实现T时长内的观测值预报；利用预报的数据和实测观测数据的差异，建立观测值预报误差的补偿模型，通过补偿模型得到补偿误差，并将补偿误差应用到未来T时长的观测值预报上。本发明提出了一种利用单个参考站历史观测数据进行高精度预报，为流动站用户利用无延迟参考站数据的RTK定位提供保障。
权利要求书clms
1.一种GNSS实时动态定位系统中参考站观测值的预报方法， 其包括收集最新2T时长内参考站提供的GNSS多个卫星历史观测数据，并且对该观测数据进行预处理，识别观测数据中的异常值并剔除，对相位周跳进行探测和分段标记；其特征在于：所述观测数据包括伪距、相位、多普勒和信噪比以及精确的参考站坐标；确定接收机钟差速率、对流层延迟速率和电离层延迟速率；分别对对流层延迟速率和电离层延迟速率残差建模，计算预报部分T时长的延迟速率，计算预报部分星地视线方向的对流层延迟速率和电离层延迟速率先验改正量，利用先验改正量和延迟速率计算预报部分的对流层延迟速率和电离层延迟速率；根据预报的对流层延迟速率和电离层延迟速率、卫星和参考站位置及速率，实现T时长内的观测值预报；利用预报的数据和实测观测数据的差异，建立观测值预报误差的补偿模型，通过补偿模型得到补偿误差，并将补偿误差应用到未来T时长的观测值预报上。2.如权利要求1所述的一种GNSS实时动态定位系统中参考站观测值的预报方法，其特征在于：所述T大于等于10秒钟，小于等于10分钟。3.如权利要求1或2所述的一种GNSS实时动态定位系统中参考站观测值的预报方法，其特征在于：利用GNSS多个卫星历史观测数据和限位历元差分观测值建立测速观测方程如下：j为卫星编号；为基于相位历元差分的导出多普勒测量值；为参考站接收设备直接接收的原始多普勒观测值；和分别为地固系下参考站和卫星的位置矢量；和分别为地固系下参考站和卫星的速度矢量，对于RTK静态参考站而言，其相对地球静止，即；和分别为观测值频点载波波长和真空中光速；和分别为参考站接收机钟速和卫星钟钟速；和分别为星地视线上的电离层延迟速率和对流层延迟速率，表示为投影函数和天顶延迟速率之积；和分别为导出多普勒和原始多普勒的噪声。4.如权利要求3所述的一种GNSS实时动态定位系统中参考站观测值的预报方法，其特征在于：所述T时长内观测数据中，i取值从-299到0，所述对流层延迟速率和电离层延迟速率时间序列和利用线性模型消除对流层延迟速率和电离层延迟速率中的常偏量和线性成分，获得零均值变化的对流层和电离层延迟速率残差，分别记为和；然后分别采用一阶自回归和二阶自回归模型对对流层延迟和电离层延迟速率残差建立拟合模型如下：和分别为对流层延迟延迟速率和电离层延迟速率残差的噪声；为对流层延迟速率残差的一阶自回归系数；和为电离层延迟速率残差的二阶自回归系数。5.如权利要求4所述的一种GNSS实时动态定位系统中参考站观测值的预报方法，其特征在于：忽略接收机时钟差速率，根据计算得到的卫星速率、卫星钟速率、电离层延迟速率和对流层延迟速率，逐历元进行参考站相位观测值预报，观测预报时长为T。6.如权利要求5所述的一种GNSS实时动态定位系统中参考站观测值的预报方法，其特征在于：不中断实际观测数据的前提下，利用实际观测值和预报观测值计算预报误差。7.如权利要求6所述的一种GNSS实时动态定位系统中参考站观测值的预报方法，其特征在于：所述实际观测数据和预报观测数据为两个不同参考站的时候，则二者在同一时刻相减得到站间差，此时消除了接收机钟差速率的影响，但是仍受星历误差和大气误差等残余误差的影响，T时长内这些残余误差用二次多项式模型进行拟合，利用公式拟合观测数据预报误差，并用拟合模型预报下一个预报弧段的预报误差。8.如权利要求7所述的一种GNSS实时动态定位系统中参考站观测值的预报方法，其特征在于：重复上述过程，直至参考站可观测的所有卫星的测距数据均已预报完成，输出预报数据，并等待下一预报时刻到来，开始下一个T时长的预报数据。
说明书desc
技术领域本发明涉及全球卫星导航系统技术领域，具体地说，涉及一种GNSS实时动态定位系统中参考站观测值的预报方法。背景技术利用GNSS绝对单点定位技术仅依靠单独接收设备即可确定任意点位的位置，但是定位精度受限于星历误差和伪距噪声容易导致定位精度不高，上述定位方法的精度为米级水平。为了提高定位精度一般采用实时动态定位方法，由于GNSS观测量误差和星历误差在一定空间范围内存在相关性，实时动态定位方法利用该相关性，借助双差方法获得厘米级定位的技术手段。然而，使用实时动态定位方法的用户不仅需要接收卫星的测距信号，还需利用通信设备接收来自服务系统播发的参考站观测信息，而参考站观测数据不可避免地受通信延迟、接收机故障等影响，参考站观测数据通信传播时延越长，误差积累越大，实时动态定位方法的定位精度越低。针对上述问题，一般通过异步RTK手段，即直接利用过期的参考站观测数据和流动站当前最新数据组成基线，但数据延迟30s时，该方法在高程方向的定位误差可达30cm，仍然无法满足高精度定位的需求，且主要用于事后处理。GNSS实时动态定位系统中参考站观测值的预报主要存在如下两个技术难点或问题：其一，如何综合利用载波相位和多普勒观测值在历元间的变化率分离出轨道误差、卫星钟差误差、以及电离层误差速率和对流层误差速率对观测值预报的影响；并针对各类影响观测值预报精度的误差速率的时间变化特性，设计相应的误差模型。其二，实时评估历史预报观测值的误差，如何利用预报误差进一步优化当前观测值的预报精度。上述两个技术难点直接影响RTK参考站观测值的预报精度，进而影响流动站用户对RTK服务的使用体验，是当前RTK连续稳定高精度服务系统中必须要解决的问题。因此，对于实时性要求极高的用户而言，如何利用参考站历史数据，生成短期数分钟的高精度观测数据预报值，是使用实时动态定位方法用户定位连续性和高精度位置信息亟需解决的问题。发明内容有鉴于此，本发明提出一种GNSS实时动态定位系统中参考站观测值的预报方法，因此，本发明对影响GNSS观测值预报的卫星星历误差、电离层差速率、对流层差速率等误差源的可预报性和延迟敏感度进行分类分析，提出了一种利用单个参考站历史观测数据进行高精度预报，为流动站用户利用无延迟参考站数据的RTK定位提供保障。本发明的技术方案是这样实现的：一种GNSS实时动态定位系统中参考站观测值的预报方法， 其包括收集最新2T时长内参考站提供的GNSS多个卫星历史观测数据，并且对该观测数据进行预处理，识别观测数据中的异常值并剔除，对相位周跳进行探测和分段标记；其特征在于：所述观测数据包括伪距、相位、多普勒和信噪比以及精确的参考站坐标；确定接收机钟差速率、对流层延迟速率和电离层延迟速率；分别对对流层延迟速率和电离层延迟速率残差建模，计算预报部分T时长的延迟速率，计算预报部分星地视线方向的对流层延迟速率和电离层延迟速率先验改正量，利用先验改正量和延迟速率计算预报部分的对流层延迟速率和电离层延迟速率；根据预报的对流层延迟速率和电离层延迟速率、卫星和参考站位置及速率，实现T时长内的观测值预报；利用预报的数据和实测观测数据的差异，建立观测值预报误差的补偿模型，通过补偿模型得到补偿误差，并将补偿误差应用到未来T时长的观测值预报上。在以上技术方案的基础上，优选的，所述T大于等于10秒钟，小于等于10分钟。在以上技术方案的基础上，优选的，利用GNSS多个卫星历史观测数据和限位历元差分观测值建立测速观测方程。在以上技术方案的基础上，优选的，所述T时长内观测数据中，i取值从-299到0，所述对流层延迟速率和电离层延迟速率时间序列和利用线性模型消除对流层延迟速率和电离层延迟速率中的常偏量和线性成分，获得零均值变化的对流层和电离层延迟速率残差，分别记为和；然后分别采用一阶自回归和二阶自回归模型对对流层延迟和电离层延迟速率残差建立拟合模型。在以上技术方案的基础上，优选的，忽略接收机时钟差速率，根据计算得到的卫星速率、卫星钟速率、电离层延迟速率和对流层延迟速率，逐历元进行参考站相位观测值预报，观测预报时长为T。在以上技术方案的基础上，优选的，不中断实际观测数据的前提下，利用实际观测值和预报观测值计算预报误差。在以上技术方案的基础上，优选的，所述实际观测数据和预报观测数据为两个不同参考站的时候，则二者在同一时刻相减得到站间差，此时消除了接收机钟差速率的影响，但是仍受星历误差和大气误差等残余误差的影响，T时长内这些残余误差用二次多项式模型进行拟合，利用公式拟合观测数据预报误差，并用拟合模型预报下一个预报弧段的预报误差。在以上技术方案的基础上，优选的，重复上述过程，直至参考站可观测的所有卫星的测距数据均已预报完成，输出预报数据，并等待下一预报时刻到来，开始下一个T时长的预报数据。本发明的一种GNSS实时动态定位系统中参考站观测值的预报方法相对于现有技术具有以下有益效果：利用相位和多普勒观测值组合模型得到高精度的历元间观测值速率，进而求得各类误差变化量的估计值，通过利用对流层和电离层误差变化的时间特性，建立针对性的自回归拟合模型，对历史观测值的预报误差进行建模，进一步改善当前预报弧段的预报精度，最终解决RTK服务系统中参考站观测数据的短期高精度预报；RTK参考站已经连续运行并存储有不少于2T时长内的历史观测数据，能有效地建立观测值预报模型，实现参考站观测数据的高精度短期预报；通过GNSS测速原理，综合利用相位和多普勒观测值，分别测定各类误差速率，为参考站观测值的预报提供基础；采用自回归模型分别建立电离层差速率和对流层误差速率的拟合模型，实现对流层差延迟差速率和电离层延迟差速率中不规则变化部分的预报；利用实测数据和预报值进行预报误差建模，进一步改善观测值预报精度。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明一种GNSS实时动态定位系统中参考站观测值的预报方法的工作流程图。具体实施方式下面将结合本发明实施方式，对本发明实施方式中的技术方案进行清楚、完整地描述，显然，所描述的实施方式仅仅是本发明一部分实施方式，而不是全部的实施方式。基于本发明中的实施方式，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施方式，都属于本发明保护的范围。如图1所示，一种GNSS实时动态定位系统中参考站观测值的预报方法，其包括收集最新2T时长内参考站提供的GNSS多个卫星历史观测数据，并且对该观测数据进行预处理，识别观测数据中的异常值并剔除，对相位周跳进行探测和分段标记。作为一种优选的实施方式，其中T大于等于10秒钟，小于等于5分钟，由于卫星对观测数据的传输需要时间，为了对观测值的预报更加准确，所以T最小为10秒钟，又因为传输过程中有累计误差，所以T不大于10分钟，根据实验可知，T理想的时间在5分钟，因此本实施方式中T默认为5分钟。所述观测数据包括伪距、相位、多普勒和信噪比以及精确的参考站坐标；确定接收机钟差速率、对流层延迟速率和电离层延迟速率；利用相位和多普勒数据进行测速，确定接收机钟差速率、对流层和电离层延迟速率，采用二阶线性拟合模型计算对流层和电离层延迟速率的拟合残差，并分别采用一阶和二阶自回归模型，分别对对流层延迟速率和电离层延迟速率残差建模，计算预报部分T时长的延迟速率，利用可公开获取的对流层经验改正模型和快速电离层格网产品计算预报部分星地视线方向的对流层延迟速率和电离层延迟速率先验改正量，利用先验改正量和延迟速率计算预报部分的对流层延迟速率和电离层延迟速率；根据预报的对流层延迟速率和电离层延迟速率、卫星和参考站位置及速率，实现T时长内的观测值预报；在下一个T时长内重复上述步骤，利用预报的数据和实测观测数据的差异，建立观测值预报误差的补偿模型，通过补偿模型得到补偿误差，并将补偿误差应用到未来T时长的观测值预报上，实现对参考站观测值的高精度预报。本实施例假设参考站针对某一GNSS系统能观测到多个卫星，并提供卫星、相位、多普勒和信噪比观测数据，该假设条件在实际中非常容易满足。因为这是RTK参考站建设的基本要求，RTK参考站一般建在视野开阔，信号较少受干扰的场地，作为一种优选的实施方式，对收集的2T时长内最新历史观测数据进行数据预处理，利用固定卫星位置和速度为超快速轨道和广播星历，卫星钟差为实时钟差或者广播钟差，计算星地距离观测值和理论值差异OMC，并基于OMC探测伪距粗差并剔除，利用相位观测值形成历元间差分，探测相位周跳并标记。作为一种优选的实施方式，由于相位观测值容易受到周跳的影响导致相位差分产生跳变，综合利用多普勒观测值和相位历元差分观测值建立测速观测方程如下：式中： j为卫星编号；为基于相位历元差分的导出多普勒测量值；为参考站接收设备直接接收的原始多普勒观测值；和分别为地固系下参考站和卫星的位置矢量；和分别为地固系下参考站和卫星的速度矢量，对于RTK静态参考站而言，其相对地球静止，即；和分别为观测值频点载波波长和真空中光速；和分别为参考站接收机钟速和卫星钟钟速；和分别为星地视线上的电离层延迟速率和对流层延迟速率，表示为投影函数和天顶延迟速率之积；和分别为导出多普勒和原始多普勒的噪声。根据n个观测卫星建立如式的测速观测方程，其中卫星位置和速度来自于参考站接收的广播星历或者实时轨道钟差产品，基于最小二乘原理获得待估参数的估计值，包括电离层延迟差速率和对流层延迟差速率，接收机钟差速率。对流层延迟差速率和电离层延迟差速率建模，作为一种优选的实施方式，确定的对流层延迟差速率和电离层延迟差速率时间序列和 ，对于T时长内观测数据，i取值从-299到0。首先，利用线性模型消除对流层延迟差速率和电离层延迟差速率中的常偏量和线性成分，获得零均值变化的对流层延迟差速率和电离层延迟差速率残差，分别记为和；然后分别采用一阶自回归和二阶自回归模型对对流层延迟和电离层延迟速率残差建立拟合模型如下：和分别为对流层延迟延迟速率和电离层延迟速率残差的噪声；为对流层延迟速率残差的一阶自回归系数；和为电离层延迟速率残差的二阶自回归系数。参考站观测值预报，作为一种优选的实施方式，利用上述步骤计算的卫星速率、卫星钟速率、电离层延迟差速率和对流层延迟差速率，逐历元进行参考站相位观测值预报，预报时长为T，式中：为时刻的相位预报值；为时刻的相位预报值，在起始预报时刻，该值为实际观测值；为时刻的电离层延迟速率预报值；为时刻的对流层延迟速率预报值；为前后两个历元的时间间隔，对于参考站，该值为1秒。由于接收机钟差速率对所有卫星的影响相同，本技术方案忽略接收时钟差速率的影响，相应的观测值预报误差可以被用户接收机钟差速率吸收，因此式中直接取值为0。观测值预报误差补偿作为一种优选的实施方式，在参考站的实际观测数据不中断的情况下，利用实测值和预报值计算预报误差。式中：表示时刻参考卫星ref与卫星j预报误差之差；和表示时刻参考卫星ref与卫星j实际的观测值的单差；表示时刻参考卫星ref与卫星j预报值的单差。若将实际观测值和预报观测值视为两不同观测站，则二者在同一时刻相减得站间差，此时消除了接收机钟差速率的影响，但是仍受星历误差和大气误差等残余误差的影响，考虑到在T时长内这些残余误差可以用二次多项式模型进行较好拟合，因此利用下式拟合观测值预报误差，并用拟合模型预报下一个预报弧段的预报误差。 式中：，和为需要估计的拟合系数；为时刻与起始预报时刻之差，即。利用式计算的预报误差带入式，估计模型系数，和，利用该二次模型预报下一个预报弧段的预报误差，并作为下一个预报弧段的先验校正值。重复上述步骤，直至参考站可观测的所有卫星的测距值均已预报完成，输出预报数据。并等待下一预报时刻到来，开始下一个T时长内的预报数据。以上所述仅为本发明的较佳实施方式而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
