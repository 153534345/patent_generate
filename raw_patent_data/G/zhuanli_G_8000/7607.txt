标题title
基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法
摘要abst
本发明公开了一种基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法，分析所有船舶在航行过程中船舶纵向合力与航速之间的关系，建立无人船纵向动力模型，得到船舶速度与螺旋桨转速之间的关系模型；建立螺旋桨转速控制模型，得到螺旋桨转速与柴油机启动装置、制动装置以及油门之间的关系模型；根据变时距策略建立跟随距离模型，得到跟随误差与柴油机启动装置、制动装置以及油门之间的连续/离散关系模型，并转换为混杂逻辑动态模型；采用分布式列队策略，以混杂逻辑动态模型作为预测模型，设计MPC控制器，以实现船舶纵向列队控制。本发明利用基于MLD模型的混杂预测控制实现船舶列队运动，提升船队在狭窄水域自主航行的安全性以及高效性。
权利要求书clms
1.一种基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法，其特征在于，包括以下步骤：S1、分析所有船舶在航行过程中船舶纵向合力与航速之间的关系，建立无人船纵向动力模型，得到船舶速度与螺旋桨转速之间的关系模型；无人船纵向动力模型具体为：k1＝k4-k5-k6k2＝f1ρD3/mk3＝h1ρD4/mf＝/2.58+k11Vs+k12k4＝e1ρ2D2/mk5＝0.001ρSs/mk6＝0.5CaρaAt/mk8＝3.33×10-3ρSsb/k10＝37.5ρSsd/mk11＝CaρaAtVwind/mk12＝0.5CaρaAtVwind2/mk13＝lg-2式中，是船舶加速度，τd是浪阻和不确定干扰，Vs是船舶速度，Cap是附体阻力系数，由船型决定，Ks表示50mm长度内的平均波动幅度，Lpp是船舶垂线间长，Lwl为船舶的水线长度，Cf为摩擦阻力系数，ρ为海水密度，Ss为船是表面积，Ca为空气阻力系数，ρa为空气密度，Vwind为风速，At为船舶中横剖面投影面积，m为船舶质量，v为海水的运动粘度，n为螺旋桨转速，w为伴流系数，D为螺旋桨直径，a、b、c、d是由船体的瘦长程度决定的参数，e1、e2、f1、f2、h1、h2是与螺旋桨有关的固定参数；k1-k13为动力模型中的简化参数，k1-k3、k7-k13均使用最小二乘法进行参数辨识得到，k4-k6作用效果合并为了k1，无需单独获取；S2、分析船舶航行中，螺旋桨转速控制的过程，建立螺旋桨转速控制模型，得到螺旋桨转速与柴油机启动装置、制动装置以及油门之间的关系模型；螺旋桨转速控制模型具体为：kn＝15ZVdFRpmax/)J＝Vs/式中，kn为便于表达引入的中间变量，无实际意义，ρ为海水密度，n为螺旋桨转速，为n的一阶导数，D为螺旋桨直径，J为螺旋桨进速系数，IE为主机惯性转矩，IP为螺旋桨惯性转矩，Z为柴油机气缸数，Vd为气缸容积，FR为油门开度，Fs为油门开度指令，τ为时间常数，pmax为平均最大指示压力，n0为柴油机启动转速，τ0为柴油机启动耗时，qi表示与螺旋桨螺距比有关的系数值，nl为螺旋桨转动模式指令，Vs是船舶速度，w为伴流系数；S3、根据变时距策略建立跟随距离模型，并联合S1和S2得到跟随误差与柴油机启动装置、制动装置以及油门之间的连续/离散关系模型，并转换为混杂逻辑动态模型，其中，跟随误差为连续状态量，柴油机启动/停止、制动装置启动/停止为离散控制量，油门开度为连续控制量；所述的混杂逻辑动态模型具体为：模型约束为：E2δ+E3Z≤E1u+E4x+E5式中，x＝T，t表示时刻，ed为船舶跟随时的误差距离，de为前后船的期望船间距，dr为前后船的实际船间距，Vr为前后船速度差，Vs是后船速度，Vt是前船速度，n为螺旋桨转速，FR为油门开度，Fs为油门开度指令，Sm为船舶运动模式，Sm为0时船舶正常航行，Sm为1时船舶快速制动，除了Sm为离散状态量，其余的全部为连续状态量；u＝T，Sm为离散输入，Fs为连续输入；y＝T，y包含连续输出和离散输出，δ为辅助二进制变量，Z为连续辅助变量，A、B1、B2、B3为状态矩阵，C、D1、D2、D3为观测矩阵，E1、E2、E3、E4、E5为约束矩阵，rl、rc为辅助变量维度；S4、采用分布式列队策略，将列队控制看作每艘船舶之间的跟随控制，以混杂逻辑动态模型作为预测模型，设计MPC控制器，以实现船舶纵向列队控制；MPC控制具体为二次型优化性能指标的求解：s.t.E2δ+E3Z≤E1u+E4x+E5式中，N为预测步长，NC为控制步长，i为步数，Q为输出权重矩阵，R为输入权重矩阵，P2＝，P3＝。2.根据权利要求1所述的基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法，其特征在于，每艘船舶通过二次型优化性能指标的求解，得到每一时刻船舶控制指令的最优解序列，将序列中的第一个控制指令作用于自身，便能实现船舶纵向列队控制。3.根据权利要求1所述的基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法，其特征在于，所述的跟随距离模型是一种离散混杂自动机模型，通过HYSDEL语言构建。4.根据权利要求3所述的基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法，其特征在于，利用HYSDEL编译器将所述的跟随距离模型转化为相应的混杂逻辑动态模型。5.根据权利要求1所述的基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法，其特征在于，所述的S4在设计MPC跟随控制器时，将混杂逻辑动态模型作为MPC中的预测模型，混杂逻辑动态模型的模型约束作为MPC的控制约束，预测模型通过k时刻的船舶跟随状态信息，和k时刻的控制指令可以预测出k+1时刻的船舶跟随状态信息，根据k时刻的状态信息通过滚动优化求解出k时刻的最优控制序列，将k时刻的最优控制序列中的第一个控制指令作用于船舶后得到船舶k+1时刻的跟随状态信息，再次通过滚动优化求解得到k+1时刻的最优控制序列，将k+1时刻的最优控制序列中的第一个控制指令作用于船舶，如此继续，求得接一下来每一时刻的最优控制指令与状态信息。6.一种用于完成权利要求1至5中任意一项所述的基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法的系统，其特征在于，本系统包括：无人船纵向动力模型模块，用于分析所有船舶在航行过程中船舶纵向合力与航速之间的关系，建立无人船纵向动力模型，得到船舶速度与螺旋桨转速之间的关系模型；螺旋桨转速控制模型模块，用于分析船舶航行中，螺旋桨转速控制的过程，建立螺旋桨转速控制模型，得到螺旋桨转速与柴油机启动装置、制动装置以及油门之间的关系模型；混杂逻辑动态模型模块，用于根据变时距策略建立跟随距离模型，并联合无人船纵向动力模型和螺旋桨转速控制模型得到跟随误差与柴油机启动装置、制动装置以及油门之间的连续/离散关系模型，并转换为混杂逻辑动态模型，其中，跟随误差为连续状态量，柴油机启动/停止、制动装置启动/停止为离散控制量，油门开度为连续控制量；MPC控制器模块，用于采用分布式列队策略，将列队控制看作每艘船舶之间的跟随控制，以混杂逻辑动态模型作为预测模型，设计MPC控制器，以实现船舶纵向列队控制。7.一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1至5中任意一项所述基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法的步骤。8.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，该计算机程序被处理器执行时实现如权利要求1至5中任意一项所述基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法的步骤。
说明书desc
技术领域本发明属于船舶航行控制技术领域，尤其涉及一种基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法。背景技术随着航运业的高速发展，船舶航行的高效性与安全性已成为研究的热点。无人船驾驶技术的研究与应用能有效地减少人力成本，降低人为失误，因此受到广泛的关注。伴随着海上通讯、协同控制和人工智能等技术的突飞猛进，船舶编队作为船舶智能系统研发的重要拓展，在无人船协同航行的研究与应用中已逐渐成为现实。与单船相比，多船在实际任务中具有更高的效率和灵活性，船舶编队在极地航运和内陆航运中具有广阔的应用前景。与开放水域不同的是，极地水域和大多数内陆水域都非常狭窄，在这些限制水域中，航道只允许船舶单行通过，船只通常列队移动，也就是说，船只是在纵向方向上依次排列的。在排列过程中自适应的调节前后船距离，从而保证船舶跟随的安全性，并尽量减小船舶之间的距离，从而减少对航道资源的占用，提高航道通航能力。目前对与船舶编队的研究大多是为了在开放水域实现协同任务，在开放水域中，船舶以曲线航行，这就意味着需要操纵螺旋桨和舵，而它们之间存在较大的耦合关系，因此这些研究大多以力和力矩为控制输入，而不考虑螺旋桨的控制过程，容易忽略实际航行中螺旋桨速度控制过程的逻辑性和大惯性。但在受限水域，船舶很少发生大的方向变化，舵角一般较小，对船舶纵向推进的影响不大，可视为扰动，因此只用考虑螺旋桨的操控，可以加入对实际航行中螺旋桨速度控制过程的逻辑性和大惯性的考虑来更真实地贴切船舶运动的控制。但柴油机驱动螺旋桨这个过程并非一个简单的连续过程，螺旋桨转速控制系统是一个集合了离散系统和连续系统的混杂系统，柴油机在启动时，通常需要一定的启动转速，其转速由电机或其他启动装置控制，在启动完成后，其转动动能来源转换为柴油机燃油燃烧的热能，转速由柴油机控制。且如果碰到船舶要进行快速制动的情况时，则需要先通过压缩空气或制动装置对螺旋桨进行制动，其转速由压缩空气或制动装置控制，制动完成后，需要进行反向启动，其转速由电机或其他启动装置控制，在启动完成后，其反转动能来源由转换为由柴油机燃油燃烧的热能，转速由柴油机控制。发明内容本发明主要目的在于：提供一种基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法，提升船队在狭窄水域自主航行的安全性以及高效性。本发明所采用的技术方案是：一种基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法，包括以下步骤：S1、分析所有船舶在航行过程中船舶纵向合力与航速之间的关系，建立无人船纵向动力模型，得到船舶速度与螺旋桨转速之间的关系模型；无人船纵向动力模型具体为：k1＝k4-k5-k6k2＝f1ρD3/mk3＝h1ρD4/mf＝/2.58+k11Vs+k12k4＝e1ρ2D2/mk5＝0.001ρSsρSsb/k10＝37.5ρSsd/mk11＝CaρaAtVwind/mk12＝0.5CaρaAtVwind2/mk13＝lg-2式中，是船舶加速度，τd是浪阻和不确定干扰，Vs是船舶速度，Cap是附体阻力系数，由船型决定， Ks表示50mm长度内的平均波动幅度，Lpp是船舶垂线间长，Lwl为船舶的水线长度，Cf为摩擦阻力系数，ρ为海水密度，Ss为船是表面积，Ca为空气阻力系数，ρa为空气密度，Vwind为风速，At为船舶中横剖面投影面积，m为船舶质量，v为海水的运动粘度，n为螺旋桨转速，w为伴流系数，D为螺旋桨直径，a、b、 c、d是由船体的瘦长程度决定的参数，e1、e2、f1、f2、h1、h2是与螺旋桨有关的固定参数；k1-k13为动力模型中的简化参数，k1-k3、k7-k13均使用最小二乘法进行参数辨识得到，k4-k6作用效果合并为了k1，无需单独获取；S2、分析船舶航行中，螺旋桨转速控制的过程，建立螺旋桨转速控制模型，得到螺旋桨转速与柴油机启动装置、制动装置以及油门之间的关系模型；螺旋桨转速控制模型具体为：kn＝15ZVdFRpmax/)J＝Vs/式中，kn为便于表达引入的中间变量，无实际意义，ρ为海水密度，n为螺旋桨转速，为n 的一阶导数，D为螺旋桨直径，J为螺旋桨进速系数，IE为主机惯性转矩，IP为螺旋桨惯性转矩，Z为柴油机气缸数，Vd为气缸容积，FR为油门开度，Fs为油门开度指令，τ为时间常数，pmax为平均最大指示压力，n0为柴油机启动转速，τ0为柴油机启动耗时，qi表示与螺旋桨螺距比有关的系数值，nl为螺旋桨转动模式指令，Vs是船舶速度，w为伴流系数；S3、根据变时距策略建立跟随距离模型，并联合S1和S2得到跟随误差与柴油机启动装置、制动装置以及油门之间的连续/离散关系模型，并转换为混杂逻辑动态模型，其中，跟随误差为连续状态量，柴油机启动/停止、制动装置启动/停止为离散控制量，油门开度为连续控制量；所述的混杂逻辑动态模型具体为：模型约束为：E2δ+E3Z≤E1u+E4x+E5式中，x＝T， t表示时刻，ed为船舶跟随时的误差距离，de为前后船的期望船间距，dr为前后船的实际船间距，Vr为前后船速度差，Vs是后船速度，Vt是前船速度，n为螺旋桨转速，FR为油门开度， Fs为油门开度指令，Sm为船舶运动模式，Sm为0时船舶正常航行，Sm为1时船舶快速制动，除了Sm为离散状态量，其余的全部为连续状态量；u＝T，Sm为离散输入，Fs为连续输入；y＝T，y包含连续输出和离散输出，δ为辅助二进制变量，Z为连续辅助变量，A、B1、B2、B3为状态矩阵，C、D1、D2、D3 为观测矩阵，E1、E2、E3、E4、E5为约束矩阵，rl、rc为辅助变量维度；S4、采用分布式列队策略，将列队控制看作每艘船舶之间的跟随控制，以混杂逻辑动态模型作为预测模型，设计MPC控制器，以实现船舶纵向列队控制；MPC控制具体为二次型优化性能指标的求解：s.t.E2δ+E3Z≤E1u+E4x+E5式中，N为预测步长，NC为控制步长，i为步数，Q为输出权重矩阵，R为输入权重矩阵，P2＝，P3＝。按上述方法，每艘船舶通过二次型优化性能指标的求解，得到每一时刻船舶控制指令的最优解序列，将序列中的第一个控制指令作用于自身，便能实现船舶纵向列队控制。按上述方法，所述的跟随距离模型是一种离散混杂自动机模型，通过HYSDEL语言构建。按上述方法，利用HYSDEL编译器将所述的跟随距离模型转化为相应的混杂逻辑动态模型。按上述方法，所述的S4在设计MPC跟随控制器时，将混杂逻辑动态模型作为MPC中的预测模型，混杂逻辑动态模型的模型约束作为MPC的控制约束，预测模型通过k时刻的船舶跟随状态信息，和k时刻的控制指令可以预测出k+1时刻的船舶跟随状态信息，根据k时刻的状态信息通过滚动优化求解出k时刻的最优控制序列，将k时刻的最优控制序列中的第一个控制指令作用于船舶后得到船舶k+1时刻的跟随状态信息，再次通过滚动优化求解得到k+1时刻的最优控制序列，将k+1时刻的最优控制序列中的第一个控制指令作用于船舶，如此继续，求得接一下来每一时刻的最优控制指令与状态信息。一种用于完成所述的基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法的系统，本系统包括：无人船纵向动力模型模块，用于分析所有船舶在航行过程中船舶纵向合力与航速之间的关系，建立无人船纵向动力模型，得到船舶速度与螺旋桨转速之间的关系模型；螺旋桨转速控制模型模块，用于分析船舶航行中，螺旋桨转速控制的过程，建立螺旋桨转速控制模型，得到螺旋桨转速与柴油机启动装置、制动装置以及油门之间的关系模型；混杂逻辑动态模型模块，用于根据变时距策略建立跟随距离模型，并联合无人船纵向动力模型和螺旋桨转速控制模型得到跟随误差与柴油机启动装置、制动装置以及油门之间的连续/离散关系模型，并转换为混杂逻辑动态模型，其中，跟随误差为连续状态量，柴油机启动/停止、制动装置启动/停止为离散控制量，油门开度为连续控制量；MPC控制器模块，用于采用分布式列队策略，将列队控制看作每艘船舶之间的跟随控制，以混杂逻辑动态模型作为预测模型，设计MPC控制器，以实现船舶纵向列队控制。一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现所述基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法的步骤。一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现所述基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法的步骤。本发明产生的有益效果是：通过对船舶的纵向跟随过程中船体运动和船舶动力结构控制建模，利用基于MLD模型的混杂预测控制实现船舶列队运动，提升船队在狭窄水域自主航行的安全性以及高效性。附图说明下面将结合附图及实施例对本发明作进一步说明，附图中：图1为船舶跟驰纵向运动学示意图。图2为本发明一实施例的原理图。图3为预测模型的结构图。图4为本发明一实施例的距离跟随的效果图。图5为本发明一实施例的航速调节的效果图。图6为船舶加速度的曲线图。图7是后船螺旋桨转速控制指令的变化曲线图。图8是螺旋桨转速的变化曲线图具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。本发明提供一种基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法，包括以下步骤：S1、分析所有船舶在航行过程中船舶纵向合力与航速之间的关系，建立无人船纵向动力模型，得到船舶速度与主机转速之间的关系模型。建立船舶的纵向动力模型，首先建立阻力模型，如式所示：式中，R表示船舶航行总阻力；Cap是附体阻力系数，由船型决定，Ks表示50mm长度内的平均波动幅度，Lpp是船舶垂线间长，Lwl为船舶的水线长度，Vs为船舶航速，Cf为摩擦阻力系数，ρ为海水密度，Ss为船是表面积，Ca为空气阻力系数，ρa为空气密度，Vwind为风速，At为船舶中横剖面投影面积，a、b、c、d是由船体的瘦长程度决定的参数。Cf的表达式如式 所示：Cf＝0.075/2.58 式中，v为海水的运动粘度。再建立推力模型，如式所示：Tp＝Ktρn2D4 式中，Tp为螺旋桨推力，Kt为推力系数，n为螺旋桨转速，D为螺旋桨直径。e1、f1、h1是与螺旋桨有关的参数，船舶正转和反转时它们的值不相同。J为螺旋桨进速系数，可表示为：式中，w为伴流系数。结合式可得到船舶的纵向动力模型，如式所示：式中，k1-k13是模型简化参数，其中k1-k3、k7-k13均可使用最小二乘法进行参数辨识得到， k4-k6作用效果合并为了k1，无需单独获取。S2、分析船舶航行中，螺旋桨转速控制的过程，建立螺旋桨转速控制模型，得到螺旋桨转速与柴油机启动装置、制动装置以及油门之间的关系模型。建立螺旋桨转速控制模型，螺旋桨由柴油机进行驱动，船舶柴油机转速的一般微分方程可以表示为：式中，Vd表示气缸容积，Z表示气缸数，pe表示平均有效压力，IE为主机惯性转矩，IP为螺旋桨惯性转矩，nl为螺旋桨模式指令，nl＝时表示螺旋桨进行电机或启动装置正转启动模式，nl＝时表示螺旋桨进行电机或启动装置反转启动模式，nl＝时表示螺旋桨由柴油机进行正常驱动，nl＝时表示螺旋桨进行制动模式，KQ为螺旋桨转矩系数，可用式表示。式中，qi表示与螺旋桨螺距比有关的系数值。平均有效压力可表示为：pe＝FRpmax 式中，pmax表示最大平均指示压力，FR表示油门开度，油门开度大小由油门指令决定，油门变化可表示为：式中，FS为油门指令，τ为时间常数，FS为正时则表示螺旋桨正转给油，FS为负时则表示螺旋桨反转给油，当螺旋桨正转时，油门给油只能为正转提供动力，同样，当螺旋桨反转时，油门给油只能为反转提供动力，且船舶快速制动时，油门给油只能为反转提供动力，可表示为：FSn≥0 FSSm≤0 式中，Sm表示船舶运动状态，Sm＝0表示船舶正常航行，Sm＝1表示船舶快速制动。船舶是否处于快速制动状态通过螺旋桨制动装置是否启动和螺旋桨转动方向来判断：柴油机在螺旋桨正转启动或反转启动前，通常需要一个启动转速，如果没有启动转速，柴油机给油螺旋桨也无法驱动。当船舶航速较低时启动转速由电机或其他启动装置提供，航速较高时正向启动则可由水流带动，无需电机启动。当由电机或其他启动装置提供启动转数时，启动较快可将该过程视为一个匀加速启动过程，当到达启动转速时，电机或启动装置停止供能，且启动时螺旋桨转速需为0或启动旋转方向与当前螺旋桨转速方向相同并转速小于启动转速。上述过程可由式-表示：nlP4＝1,ifn0＜|n| nlP5-nlP4≤0,if0＜n nlP6≥1,ifn＜0 式中，n0表示启动转速，τ0为时间常数，P4＝T,P5＝T,P6＝T。当船舶航行时遇到需要快速制动的情况，船舶会进行螺旋桨反转刹车，但是换向启动前，需将螺旋桨转速先降为零，单纯的依靠水的阻力对螺旋桨降速时，当速度降到一定时，螺旋桨进入水涡轮状态，速度减下会变得十分缓慢，此时需要启动制动装置进行制动。当螺旋桨通过制动装置制动时，螺旋桨转速制加速度与转速成正比，可表示为：在船舶向前航行时，通常只有螺旋桨由正转向反转切换时需要经历快速制动，而由反转向正转切换时，水流会使反转速度迅速下降，所以无需快速制动，可表示为：2-nlnlT＞0,ifn＜0 且一般螺旋桨进入水涡轮状态时，制动装置才会启动，一般水涡轮状态时转速下降会明显变慢，所以可通过式表示：nw为设定参数，nw＜0。S3、分析船舶间的跟随过程，根据变时距策略建立跟随距离模型，并联合S1和S2得到跟随误差与柴油机启动装置、制动装置以及油门之间的关系模型，并转换为MLD模型。考虑船舶纵向列队时，主要是调节列队间距的大小及前后船跟随距离的大小来保证列队的安全性与高效性，根据变时距策略建立期望行船间距模型，如式所示：de＝a0+b0Vs-c0Vt 式中，de主船与前船之间的期望距离，a0和b0、c0是设定的参数，Vr为前后船的相对速度。建立完期望船间距模型后，根据船舶运动学建立实际船间距模型，如图1所示，可由式 表示：式中，Vt为前船速度，结合式和可以得到跟随误差模型：式中，ed为船舶跟随时的误差距离，Vt为列队中本船跟随的前船的航速。结合式-可得船舶纵向跟随模型，该模型是一种离散混杂自动机模型，系统结构如图2所示。图中xc表示跟随系统中的n，δe则是用来表示转速是否大于0，转速加速度是否大于nw的由布尔变量组成的向量，ul表示跟随系统中的nl,xl表示列队跟随系统中的Sm,uc则表示列队跟随系统中的FS。混杂系统的DHA模型能够通过HYSDEL语言构建，如下所示：上述HYSDEL语言中已标明对应的模型与约束的引用。然后利用HYSDEL编译器即HYSDEL Complier将DHA模型转化为相应的MLD模型，模型分区如图3所示。通过 HYSDELComplier可将船舶纵向列队跟随DHA模型转换为船舶纵向列队跟随MLD模型：模型约束为：E2δ+E3Z≤E1u+E4x+E5 式中，u＝T，nl为离散输入，Fs为连续输入，δ为辅助二进制变量，Z为连续辅助变量，δ、Z的值均取决于x和u。S4、采用分布式列队策略，将列队控制看作每艘船之间的跟随控制，以MLD模型作为预测模型，设计MPC控制器，以实现船舶纵向列队控制，系统控制原理如图4所示。设计MPC跟随控制器时，将模型作为MPC中的预测模型，式为MPC的控制约束，预测模型通过k时刻的船舶跟随状态信息，和k时刻的控制指令可以预测出k+1时刻的船舶跟随状态信息，所以可以根据k时刻的状态信息通过滚动优化求解出k时刻的最优控制序列，将控制序列中的第一个控制指令作用于船舶后得到船舶k+1时刻的跟随状态信息，再次通过滚动优化求解得到k+1时刻的最优控制输入序列，将控制序列中的第一个控制指令作用于船舶，如此继续，可求得接一下来每一时刻的最优控制输入指令与状态信息。MPC在当前时刻向后预测状态量的步数称为预测步长，向后求解控制指令的步数称为控制步长，设MPC控制器预测步长为N，控制步长为NC，且有N≥NC，t时刻后，未来N个时刻系统输入变量的表达式表示为式：系统控制优化的目标为减小跟踪误差，但同时需要考虑船舶在航行中应尽量减少螺旋桨反转制动的操作，因此二次型优化性能指标可设为：式中，Q为输出权重矩阵，R为输入权重矩阵，P2＝， P3＝。每艘船通过式、、便能求得每一时刻船舶控制指令的最优解序列，将序列中的第一个控制指令作用于自身，便能实现船舶纵向列队控制。对上述方法仿真可得到船舶纵向列队控制的效果图如图5至图8所示，图6至图8中的标号1-7表示领航船在7个时间段处于不同的运动状态。图5是距离跟随可视化的效果图；图6是速度变化的效果图；图7是加速度的变化图；图8是螺旋桨转速的变化曲线图。由图可以看出，列队控制有较好的控制效果，列队过程中一直保持合适的船间距离，每艘船速度都逐渐趋近于它前方船舶速度，并在稳定后与前船保持一致匀速运动。本发明还提供一种基于混杂逻辑动态模型的船舶纵向列队混杂预测控制系统，本系统包括：无人船纵向动力模型模块，用于分析所有船舶在航行过程中船舶纵向合力与航速之间的关系，建立无人船纵向动力模型，得到船舶速度与螺旋桨转速之间的关系模型；螺旋桨转速控制模型模块，用于分析船舶航行中，螺旋桨转速控制的过程，建立螺旋桨转速控制模型，得到螺旋桨转速与柴油机启动装置、制动装置以及油门之间的关系模型；混杂逻辑动态模型模块，用于根据变时距策略建立跟随距离模型，并联合无人船纵向动力模型和螺旋桨转速控制模型得到跟随误差与柴油机启动装置、制动装置以及油门之间的连续/离散关系模型，并转换为混杂逻辑动态模型，其中，跟随误差为连续状态量，柴油机启动/停止、制动装置启动/停止为离散控制量，油门开度为连续控制量；MPC控制器模块，用于采用分布式列队策略，将列队控制看作每艘船舶之间的跟随控制，以混杂逻辑动态模型作为预测模型，设计MPC控制器，以实现船舶纵向列队控制。本发明还提供一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现所述基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法的步骤。本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现所述基于混杂逻辑动态模型的船舶纵向列队混杂预测控制方法的步骤。应当理解的是，对本领域普通技术人员来说，可以根据上述说明加以改进或变换，而所有这些改进和变换都应属于本发明所附权利要求的保护范围。
