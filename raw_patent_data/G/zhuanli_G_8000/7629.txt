标题title
基于区块链的文旅消费数据管理方法
摘要abst
本发明涉及数据管理领域，具体涉及一种基于区块链的文旅消费数据管理方法。获取历史文旅项目及其对应的多个消费类型进行等级标注，训练神经网络获取所有消费类型的等级；将区块分为多个存储区域，计算每个存储区域容量，判断是否存在数据量大于存储区域容量的消费类型；当存在时，获取可分割存储区域进行分割，将分割后的存储容量扩充至数据量大于对应存储区域容量的存储区域；当不存在时，将所有消费类型的数据进行存储；得到每个区块中已存储文旅项目；根据当前文旅项目与每个区块中已存储文旅项目的差异度进行更新。本发明基于区块对文旅消费数据进行分块存储管理，提高数据管理安全性的同时根据消费数据的等级对存储空间进行自适应调整。
权利要求书clms
1.一种基于区块链的文旅消费数据管理方法，其特征在于，包括：获取历史文旅项目及其对应的多个消费类型，所述每个消费类型包括消费金额、消费人数以及消费用户年龄均值；对每个消费类型进行等级标注，将每个消费类型作为神经网络的输入，对应消费类型的标注等级作为输出对神经网络进行训练，利用训练好的神经网络获取所有消费类型的等级；根据历史文旅项目对应的多个消费类型将区块分为多个存储区域，根据每个消费类型的等级设置每个消费类型的存储区域容量，判断是否存在消费类型的数据量大于对应存储区域的容量；当存在消费类型的数据量大于对应存储区域的容量时，获取数据量小于存储区域容量且消费类型等级低于阈值的存储区域作为可分割存储区域；对可分割存储区域中的存储容量进行分割，将分割后的存储容量扩充至数据量大于对应存储区域容量的存储区域，直至该存储区域容量大于消费类型的数据量；当不存在消费类型的数据量大于对应存储区域容量时，将所有消费类型的数据进行存储；获取多个历史文旅项目及其对应的消费类型数据，分别将每个历史文旅项目及其对应的消费类型数据存储至对应区块中，得到每个区块中的已存储文旅项目；获取当前文旅项目及其对应的消费类型，计算当前文旅项目与每个区块中的已存储文旅项目的差异度，根据差异度对区块中的已存储文旅项目进行更新。2.根据权利要求1所述的一种基于区块链的文旅消费数据管理方法，其特征在于，对神经网络进行训练的方法为：根据每个消费类型对应的消费金额、消费人数以及消费用户年龄均值构建特征向量；将特征向量作为神经网络的输入，消费类型的标注等级作为输出对神经网络进行训练，得到训练好的神经网络。3.根据权利要求1所述的一种基于区块链的文旅消费数据管理方法，其特征在于，根据每个消费类型的等级设置每个消费类型的存储区域容量的方法为：获取历史文旅项目所在区块的总存储容量，将历史文旅项目所在的区块根据消费类型的等级划分为对应多个存储区域；根据每个消费类型的等级值设置每个消费类型对应存储区域的存储容量，表达式为：其中，表示第k个消费类型对应存储区域的存储容量，表示第k个消费类别的等级，K表示共有K个消费类型，V表示历史文旅项目所在区块的总存储容量，v表示历史文旅项目对应所有消费类型的数据量。4.根据权利要求1所述的一种基于区块链的文旅消费数据管理方法，其特征在于，设置每个消费类型的存储区域容量之后，还包括：获取历史文旅项目对应所有消费类型的数据量，判断历史文旅项目对应所有消费类型的数据量是否大于历史文旅项目所在区块的总存储容量；当所有消费类型的数据量大于历史文旅项目所在区块的总存储容量时，根据消费类型的等级由小到大对消费类型的数据进行滤除；判断每次滤除后所有消费类型的数据量是否大于历史文旅项目所在区块的总存储容量，直至所有消费类型的数据量小于历史文旅项目所在区块的总存储容量。5.根据权利要求1所述的一种基于区块链的文旅消费数据管理方法，其特征在于，获取数据量小于存储区域容量的存储区域作为可分割存储区域的方法为：对k个等级的消费类型进行筛选，获取等级低于的所有消费类型对应的存储区域；获取等级低于的所有消费类型的数据量，将数据量小于对应存储区域容量的消费类型对应的存储区域作为可分割存储区域。6.根据权利要求1所述的一种基于区块链的文旅消费数据管理方法，其特征在于，将分割后的存储容量扩充至数据量大于对应存储区域容量的存储区域的方法为：判断数据量大于对应存储区域容量的消费类型等级是否大于阈值；当消费类型等级大于阈值时，将可分割存储区域的存储容量进行分割，将分割后的存储容量扩充至该消费类型对应的存储区域，直至该存储区域容量大于消费类型的数据量；当消费类型等级小于阈值时，将该消费类型的数据进行删除，直至该消费类型的数据量小于等于对应存储区域的存储容量。7.根据权利要求1所述的一种基于区块链的文旅消费数据管理方法，其特征在于，计算当前文旅项目与每个区块中的已存储文旅项目的差异度的表达式为：其中，表示第w个文旅项目和第c个已存储文旅项目的差异度，Q表示第w个文旅项目和第c个已存储文旅项目中相同消费类型的总数，，表示第w个文旅项目和第c个已存储文旅项目的差异度中第q个消费类型的占比。
说明书desc
技术领域本发明涉及数据管理领域，具体涉及一种基于区块链的文旅消费数据管理方法。背景技术当下，文旅项目主要是由人文旅游资源所开发出来的旅游项目,是为满足人们的文化旅游消费需求而产生的一部分旅游项目，文化旅游产业主要是由人文旅游资源所开发出来的旅游产业，是为满足人们的文化旅游消费需求而产生的一部分旅游产业，它的目的就是提高人们的旅游活动质量，文化旅游的核心是创意，特别强调创造一种文化符号，文化旅游活动对人们的生活、各地经济发展等有重要的影响及意义，对文旅消费信息的统一管理有利于进一步把控文旅产业的发展动态。现有的文旅信息分散，各个文旅地区的信息单独统计，不方便进行管理，同时各个文旅地区的统计方式单一、内容单调，导致文旅大数据信息的准确度较低，并且各个文旅地区的统计信息可视化程度较低，不方便工作人员对大数据信息进行归纳和总结。本发明提供了一种基于区块链的文旅消费数据管理方法，以便为旅游企业决策者或管理部门提供参考依据，便于文旅从业者制定旅游企业长远性的战略性规划，促进文旅行业经济快速发展。发明内容本发明提供一种基于区块链的文旅消费数据管理方法，以解决现有的问题，包括：获取历史文旅项目及其对应的多个消费类型进行等级标注，训练神经网络获取所有消费类型的等级；将区块分为多个存储区域，计算每个存储区域的容量，判断是否存在数据量大于存储区域容量的消费类型；当存在时，获取可分割存储区域进行分割，将分割后的存储容量扩充至数据量大于对应存储区域容量的存储区域；当不存在时，将所有消费类型的数据进行存储；得到每个区块中已存储文旅项目；根据当前文旅项目与每个区块中已存储文旅项目的差异度进行更新。本发明基于区块对文旅消费数据进行分块存储管理，提高数据管理的安全性的同时，基于消费数据的优先等级对各个消费类型数据的存储空间进行自适应调整，从而提高了数据处理速度，进一步通过比较文旅项目的差异度从而对数据进行更新，便于相关人员对数据的提取分析，保证了数据能够及时更新。本发明采用如下技术方案，一种基于区块链的文旅消费数据管理方法，包括：获取历史文旅项目及其对应的多个消费类型，所述每个消费类型包括消费金额、消费人数以及消费用户年龄均值。对每个消费类型进行等级标注，将每个消费类型作为神经网络的输入，对应消费类型的标注等级作为输出对神经网络进行训练，利用训练好的神经网络获取所有消费类型的等级。根据历史文旅项目对应的多个消费类型将区块分为多个存储区域，根据每个消费类型的等级设置每个消费类型的存储区域容量，判断是否存在消费类型的数据量大于对应存储区域的容量。当存在消费类型的数据量大于对应存储区域的容量时，获取数据量小于存储区域容量且消费类型等级低于阈值的存储区域作为可分割存储区域。对可分割存储区域中的存储容量进行分割，将分割后的存储容量扩充至数据量大于对应存储区域容量的存储区域，直至该存储区域容量大于消费类型的数据量。当不存在消费类型的数据量大于对应存储区域容量时，将所有消费类型的数据进行存储。获取多个历史文旅项目及其对应的消费类型数据，分别将每个历史文旅项目及其对应的消费类型数据存储至对应区块中，得到每个区块中的已存储文旅项目。获取当前文旅项目及其对应的消费类型，计算当前文旅项目与每个区块中的已存储文旅项目的差异度，根据差异度对区块中的已存储文旅项目进行更新。进一步的，一种基于区块链的文旅消费数据管理方法，对神经网络进行训练的方法为：根据每个消费类型对应的消费金额、消费人数以及消费用户年龄均值构建特征向量；将特征向量作为神经网络的输入，消费类型的标注等级作为输出对神经网络进行训练，得到训练好的神经网络。进一步的，一种基于区块链的文旅消费数据管理方法，根据每个消费类型的等级设置每个消费类型的存储区域容量的方法为：获取历史文旅项目所在区块的总存储容量，将历史文旅项目所在的区块根据消费类型的等级划分为对应多个存储区域；根据每个消费类型的等级值设置每个消费类型对应存储区域的存储容量，表达式为：其中，表示第k个消费类型对应存储区域的存储容量，表示第k个消费类别的等级，K表示共有K个消费类型，V表示历史文旅项目所在区块的总存储容量，v表示历史文旅项目对应所有消费类型的数据量。进一步的，一种基于区块链的文旅消费数据管理方法，设置每个消费类型的存储区域容量之后，还包括：获取历史文旅项目对应所有消费类型的数据量，判断历史文旅项目对应所有消费类型的数据量是否大于历史文旅项目所在区块的总存储容量；当所有消费类型的数据量大于历史文旅项目所在区块的总存储容量时，根据消费类型的等级由小到大对消费类型的数据进行滤除；判断每次滤除后所有消费类型的数据量是否大于历史文旅项目所在区块的总存储容量，直至所有消费类型的数据量小于历史文旅项目所在区块的总存储容量。进一步的，一种基于区块链的文旅消费数据管理方法，获取数据量小于存储区域容量的存储区域作为可分割存储区域的方法为：对k个等级的消费类型进行筛选，获取等级低于的所有消费类型对应的存储区域；获取等级低于的所有消费类型的数据量，将数据量小于对应存储区域容量的消费类型对应的存储区域作为可分割存储区域。进一步的，一种基于区块链的文旅消费数据管理方法，将分割后的存储容量扩充至数据量大于对应存储区域容量的存储区域的方法为：判断数据量大于对应存储区域容量的消费类型等级是否大于阈值；当消费类型等级大于阈值时，将可分割存储区域的存储容量进行分割，将分割后的存储容量扩充至该消费类型对应的存储区域，直至该存储区域容量大于消费类型的数据量；当消费类型等级小于阈值时，将该消费类型的数据进行删除，直至该消费类型的数据量小于等于对应存储区域的存储容量。进一步的，一种基于区块链的文旅消费数据管理方法，计算当前文旅项目与每个区块中的已存储文旅项目的差异度的表达式为：其中，表示第w个文旅项目和第c个已存储文旅项目的差异度，Q表示第w个文旅项目和第c个已存储文旅项目中相同消费类型的总数，，表示第w个文旅项目和第c个已存储文旅项目的差异度中第q个消费类型的占比。本发明的有益效果是：本发明基于区块对文旅消费数据进行分块存储管理，提高数据管理的安全性的同时，基于消费数据的优先等级对各个消费类型数据的存储空间进行自适应调整，从而提高了数据处理速度，进一步通过比较文旅项目的差异度从而对数据进行更新，便于相关人员对数据的提取分析，保证了数据能够及时更新。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例的一种基于区块链的文旅消费数据管理方法结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。如图1所示，给出了本发明实施例的一种基于区块链的文旅消费数据管理方法结构示意图，包括：101.获取历史文旅项目及其对应的多个消费类型，所述每个消费类型包括消费金额、消费人数以及消费用户年龄均值。本发明通过大数据分析获取相应的文旅消费数据作为研究的基础数据集，考虑到文旅消费数据包括多种多样，为便于数据的处理和分析，本发明将基于不同的文旅项目进行划分，通过大数据、数据挖掘等提取文旅消费数据，获取每个文旅项目对应的文旅消费数据。在此需要说明，获取文旅消费数据是为了对文旅项目的各个消费类型进行分析以及获取各个消费类型的优先等级，以便对文旅消费数据的管理存储，提高数据管理的效率，本发明基于历史数据对文旅项目的各个消费类型进行划分，并获取各个消费类型的优先等级，实现对数据的分块管理，同时基于优先度对数据进行存储保证数据管理过程中的安全性。为便于数据的管理，保证文旅消费用户的隐私，提高数据管理效率，本发明创建一个区块链，将每一个文旅项目的消费数据信息等储存在区块中，一个文旅项目对应一个区块，用户的文旅消费信息属于每个用户的隐私，区块链为一个加密的去中心化的数据库，即可保证数据的安全性同时实现了各个文旅项目之间的数据传输，实现数据共享，便于对文旅消费数据的管理分析，区块链是一个数据库，其中包含了很多的区块，每一个区块储存着一个文旅项目的消费数据信息。本发明基于提取的消费数据信息，对每个文旅项目构建一张消费数据统计图，消费数据统计图为圆形统计图，通过统计文旅项目的大量历史消费数据进行获取，根据近几年大量用户的文旅消费状况进行统计，并获取每个文旅项目的文旅消费数据分布情况，本发明中每个文旅项目选取100个用户近三年的消费数据，对文旅项目中的各个消费类型进行统计分析，统计各个消费类型的消费金钱总额度，将其作为圆形统计图中每个消费类型的占比，代表第k个消费类型在对应圆形统计图中的占比，K为消费类型的种类数，代表统计所得第k个消费类型的消费金钱总额度。基于对应的文旅消费数据统计图可对各个文旅项目的消费状况进行分析，进而可对文旅项目的消费状况进行综合表征，对文旅项目的消费趋势进行整体分析，以作为制定文旅消费政策的参考依据。102.对每个消费类型进行等级标注，将每个消费类型作为神经网络的输入，对应消费类型的标注等级作为输出对神经网络进行训练，利用训练好的神经网络获取所有消费类型的等级。首先，对于文旅项目c，本发明将对其消费类型进行优先等级划分，将所述消费类型种类记为K个，进行标签数据的制作，对每个消费类型进行优先等级标注，，等级分别标注为个优先等级，数值越大，等级越高。根据文旅项目的消费类型，统计选取的100个用户在各个消费类型中消费的人数、年龄以及消费金额，例如，对于文旅项目中的消费类型一，统计100个用户在该项目中消费的人数为0-10个，平均年龄为60岁，消费金额为0-50元，则将消费类型的等级划分为1级；对于消费类型二，统计100个用户中在该消费类型中消费的人数为10-20个，平均年龄在55岁，消费金额在50-100元，则将消费类型二的等级划分为2级；依次进行统计，根据每个消费类型的消费金额以及消费人数以及平均年龄对各个消费类型进行等级划分，最终划分的等级数与消费类型的个数相同，等级值越高，则该等级对应的消费类型的优先级越高。关于消费类型的优先等级标签根据相关专业人员进行评估，基于上述提取的文旅项目c的消费数据，可获取不同消费类型的消费金钱额度以及消费用户总数量，基于此对文旅项目中的各个消费类型的优先度等级进行标注。对神经网络进行训练的方法为：根据每个消费类型对应的消费金额、消费人数以及消费用户年龄均值构建特征向量；将特征向量作为神经网络的输入，消费类型的标注等级作为输出对神经网络进行训练，得到训练好的神经网络。然后，本发明将建立消费类型优先等级识别网络，通过全连接网络对消费类型的优先等级进行识别，所述全连接网络模型为现有公知技术，本发明不做相关阐述，网络的输入为消费类型所对应的特征向量：,其中，代表消费类型，为基于统计获取的消费金额额度，为统计所得的该消费类型的消费用户总数量，为统计所得该消费类型的用户年龄均值，将其作为网络的输入，网络输出为消费类型对应的优先等级，所述消费类型优先等级识别网络训练的损失函数为交叉熵损失函数。本发明采用的全连接网络模型为FC的网络结构，通过大量的训练数据对网络进行训练监督，通过标签数据对网络进行训练，网络的输入为，经过全连接层FC获取所输入特征向量对应消费类型属于每个优先等级的概率，然后通过argmax最大值索引函数输出为消费类型对应的优先等级，网络训练的损失函数为交叉熵损失函数。至此得到了每个文旅项目对应的消费信息，本发明将每个文旅项目的消费信息作为一个整体存放于对应区块的存储系统中，本发明中所述存储系统为固态硬盘。103.根据历史文旅项目对应的多个消费类型将区块分为多个存储区域，根据每个消费类型的等级设置每个消费类型的存储区域容量，判断是否存在消费类型的数据量大于对应存储区域的容量。为实现对数据的分层管理，提高数据管理的效率，本发明将对每个区块的存储系统进行分析，将区块c对应的固态硬盘分为L个存储区域，每个消费类型对应一个存储区域，基于优先等级对存储区域的容量进行初步设置。对于每个文旅消费项目，其中包含多种消费类型，基于不同消费类型所产生的消费数据量也不同，其中消费数据量包括每种消费类型的消费人数、消费金额等，因此本发明对不同的消费类型进行等级划分，对应的，高等级的消费类型中消费人数较多或金额较高，即表示该类型的消费数据量较大，在进行数据存储时，存储空间的存储容量需求较高，因此本发明根据不同消费类型的等级对每个消费类型的存储空间容量进行设置。根据每个消费类型的等级设置每个消费类型的存储区域容量的方法为：获取历史文旅项目所在区块的总存储容量，将历史文旅项目所在的区块根据消费类型的等级划分为对应多个存储区域；根据每个消费类型的等级值计算每个消费类型对应存储区域的存储容量，表达式为：其中，表示第k个消费类型对应存储区域的存储容量，表示第k个消费类别的等级，K表示共有K个消费类型，V表示历史文旅项目所在区块的总存储容量，v表示历史文旅项目对应所有消费类型的数据量。获取每个存储区域之后，将每个消费类型的数据存储到对应的存储区域下，为保证数据管理的安全性，本发明设置对每个存储区域设置不同的安全等级的数据提取密码，消费类型优先等级越高则对应的存储区域的数据提取密码安全等级越高，也即密码复杂度越高。本发明考虑到当文旅消费数据存储的过程中，随着数据的增多，存在区块存储空间不足的问题，因此本发明根据区块中文旅消费类型的优先等级，对区块内数据的进一步管理。计算每个消费类型的存储区域容量之后，还包括：获取历史文旅项目对应所有消费类型的数据量，判断历史文旅项目对应所有消费类型的数据量是否大于历史文旅项目所在区块的总存储容量；当所有消费类型的数据量大于历史文旅项目所在区块的总存储容量时，根据消费类型的等级由小到大对消费类型的数据进行滤除；本发明从优先等级最低的数据开始滤除，判断每次滤除后所有消费类型的数据量是否大于历史文旅项目所在区块的总存储容量，直至所有消费类型的数据量小于历史文旅项目所在区块的总存储容量。1041.当存在消费类型的数据量大于对应存储区域的容量时，获取数据量小于存储区域容量的存储区域作为可分割存储区域。本发明考虑到当存在某个消费类型对应的存储区域的容量低于该消费类型的所需存储数据量时，无法进行该消费类型数据的完全存储，因此基于消费类型优先等级对消费类型的初步存储区域容量进行更新。对于无法进行数据完全存储的消费类型，本发明设置：当无法进行数据完全存储的消费类型的优先等级高于时，本发明将从优先等级低于且存储区域容量高于所需存储消费数据的消费类型所对应的存储区域中进行容量分割，将优先等级低于且存储区域容量高于所需存储消费数据的消费类型所对应的区域记为可分割存储区域。获取数据量小于存储区域容量的存储区域作为可分割存储区域的方法为：获取等级低于阈值的所有消费类型的数据量对应的存储区域；将等级低于阈值且数据量小于存储区域容量的消费类型对应的存储区域作为可分割存储区域。1042.对可分割存储区域中的存储容量进行分割，将分割后的存储容量扩充至数据量大于对应存储区域容量的存储区域。将分割后的存储容量扩充至数据量大于对应存储区域容量的存储区域的方法为：判断数据量大于对应存储区域容量的消费类型等级是否大于阈值；当消费类型等级大于阈值时，将可分割存储区域的存储容量进行分割，将分割后的存储容量扩充至该消费类型对应的存储区域；当消费类型等级小于阈值时，将该消费类型的数据进行删除，直至该消费类型的数据量小于等于对应存储区域的存储容量。首先将优先等级最低的可分割存储区域的容量中分割出其多余容量对优先等级最高且无法进行数据完全存储的消费类型所对应的存储区域进行扩充，若不能满足则依次从优先等级第二低的可分割存储区域的容量中分割出多余容量去扩充所需扩充的消费类型的存储区域，直至保证各个消费类型的存储区域容量均能满足其所需存储的数据量。当无法进行数据完全存储的消费类型的优先等级低于时，将该消费类型的数据进行删除，直至该消费类型的数据量小于等于对应存储区域的存储容量。当不存在消费类型的数据量大于对应存储区域容量时，将所有消费类型的数据进行存储。至此，即可根据所述方法结合存储区域更新过程实现对文旅项目的各个消费类型的数据进行管理存储。105.获取多个历史文旅项目及其对应的消费类型数据进行分区块存储，得到每个区块中的已存储文旅项目。本发明中文旅项目个数为m，因此，设置m个区块用于对m个文旅项目消费数据的存储传输，通过得到的各个文旅项目对应区块的存储信息，将文旅项目消费统计图、消费类型优先等级识别网络的权重参数以及所获取的用户具体消费数据作为区块的存储内容，基于优先等级对区块内的存储系统进行区域划分，以提高文旅项目消费数据的管理效率。106.获取当前文旅项目及其对应的消费类型，计算当前文旅项目与每个区块中的已存储文旅项目的差异度，根据差异度对区块中的已存储文旅项目进行更新。为实现对数据的更新，保证数据的可靠性，本发明将对区块内的数据进行更新处理，对于一组新采集的数据，同样的本发明将获取该消费数据对应的统计图，然后，本发明将建立差异度分析模型。计算当前文旅项目与每个区块中的已存储文旅项目的差异度的表达式为：其中，表示第w个文旅项目和第c个已存储文旅项目的差异度，Q表示第w个文旅项目和第c个已存储文旅项目中相同消费类型的总数，，表示第w个文旅项目和第c个已存储文旅项目的差异度中第q个消费类型的占比。获取新的消费数据与各个区块的差异度，将新的消费数据存储到差异度最小对应的区块中，将对应的数据存储到相应的存储区域内，淘汰历史数据，实现对区块内数据的更新。至此，即可实现对文旅消费数据进行管理分析，对各个文旅项目获取对应的存储信息，并基于各个消费类型的优先级等实现对消费数据的自适应存储，提高文旅消费数据管理效率，同时，基于区块链技术可提高文旅消费数据保存的安全性，提高数据处理速度，保证文旅消费数据管理效果。本发明基于区块对文旅消费数据进行分块存储管理，提高数据管理的安全性的同时，基于消费数据的优先等级对各个消费类型数据的存储空间进行自适应调整，从而提高了数据处理速度，进一步通过比较文旅项目的差异度从而对数据进行更新，便于相关人员对数据的提取分析，保证了数据能够及时更新。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
