标题title
基于区块链技术的跨链协作方法
摘要abst
本发明公开了基于区块链技术的跨链协作方法，属于区块链技术领域，一体化平台接收申请方提交的待审核信息，并将待审核信息向各个政务部门发起申请核验，得到核验结果集；一体化平台根据待审核信息生成受理业务单号，同时将待审核信息中的纳税申报数据和身份数据以及核验结果集上链到政务链，生成第一上链标志并实时将上链的数据跨链同步到税务链；一体化平台根据纳税申报数据获取预估价格并发送至申请方，获取申请方的确认信息，将确认信息上链到政务链，生成第二上链标志并实时将上链的数据跨链同步到税务链；本发明用于解决现有方案中不同区块链之间的跨链不能高效协作，导致数据交互的效果不佳的技术问题。
权利要求书clms
1.基于区块链技术的跨链协作方法，其特征在于，包括：一体化平台根据提交的待审核信息生成受理业务单号，同时将待审核信息中的纳税申报数据和身份数据以及核验结果集上链到政务链，生成第一上链标志并实时将上链的数据跨链同步到税务链；具体的步骤包括：将纳税申报数据和身份数据进行处理，生成第一处理集，对核验结果集进行处理，生成第二处理集；获取若干个政务链中各个子节点的存储数据和位置数据；根据存储数据获取各个子节点的存储系数；根据位置数据获取各个子节点的位置系数；根据存储系数和位置系数获取各个子节点的分配值；根据分配值获取选中子节点；将第一处理集和第二处理集发送至选中子节点进行上链存储；一体化平台根据纳税申报数据获取预估价格并发送至申请方，获取申请方的确认信息，将确认信息上链到政务链，生成第二上链标志并实时将上链的数据跨链同步到税务链；通过税务链将确认信息发送至金税三期系统并进行税收核算，生成纳税核算信息；将纳税核算信息上链到税务链进行存证，并生成第三上链标志；并将纳税核算信息发送给申请方并生成确认结果，根据确认结果来判定是否继续执行。2.根据权利要求1所述的基于区块链技术的跨链协作方法，其特征在于，还包括：一体化平台接收申请方提交的待审核信息，待审核信息包含纳税申报数据、身份数据和户籍数据，并将待审核信息向各个政务部门发起申请核验，得到核验结果集。3.根据权利要求2所述的基于区块链技术的跨链协作方法，其特征在于，交易方根据纳税核算信息进行缴费，并生成缴费结果，将缴费结果上链到政务链，生成第四上链标志并实时将上链的数据跨链同步到税务链；金税三期系统根据缴费结果生成完税凭证，将完税凭证上链到税务链并生成第五上链标志，并根据第五上链标志实时将上链的数据跨链同步到政务链。4.根据权利要求3所述的基于区块链技术的跨链协作方法，其特征在于，将待审核信息向各个政务部门发起申请核验的具体步骤包括：获取各个政务部门的政务数据并按类别进行组合，得到政务组合集；将待审核信息中的各项数据与政务组合集中的各项政务数据进行匹配，若匹配成功则生成第一匹配信号，若匹配失败则生成第二匹配信号；将若干个第一匹配信号和第二匹配信号按匹配的时间顺序组合，得到核验结果集。5.根据权利要求4所述的基于区块链技术的跨链协作方法，其特征在于，根据存储数据获取各个子节点的存储系数的具体步骤包括：获取存储数据中各个子节点的已存储内存ZYCi、未存储内存ZWCi和最大存储速率ZCSi；通过公式计算获取存储系数CCX；其中，a1和a2均表示为不同的比例系数且均大于零。6.根据权利要求5所述的基于区块链技术的跨链协作方法，其特征在于，根据位置数据获取各个子节点的位置系数的具体步骤包括：获取一体化平台的坐标，以及位置数据中若干个子节点的坐标；获取若干个子节点的上链总时长SZi；通过公式计算获取位置系数WZX；其中，b1和b2均表示为不同的比例系数且均大于零,SZ0表示为不同子节点预设的时长阈值。7.根据权利要求6所述的基于区块链技术的跨链协作方法，其特征在于，根据存储系数和位置系数通过分配公式计算获取各个子节点的分配值FP，该分配公式为；其中，c1和c2均表示为不同的比例系数。8.根据权利要求7所述的基于区块链技术的跨链协作方法，其特征在于，将上链的数据跨链同步到税务链的具体步骤包括：获取税务链中若干个子节点的存储数据和位置数据，对税务链存储数据时，将政务链上待跨链同步的子节点标记为跨链子节点FP0；获取税务链存储数据中各个子节点的已存储内存SYCi、未存储内存SWCi和最大存储速率SCSi；获取跨链子节点与税务链中若干个子节点的距离ZJLi；通过公式计算获取跨链同步的匹配值PPZ；其中，d1、d2和d3均表示为不同的比例系数,表示为匹配补偿因子；对匹配值进行分析，得到分析结果，根据分析结果将上链的数据跨链同步到税务链上的子节点进行存储。9.根据权利要求8所述的基于区块链技术的跨链协作方法，其特征在于，对匹配值进行分析的具体步骤包括：将匹配值与预设的匹配阈值进行匹配，若匹配值不小于匹配阈值，则将该子节点设定为备选子节点；将若干个备选子节点根据匹配值进行降序排列组合，得到分析结果；将排首位的备选子节点与跨链子节点进行数据跨链传输。
说明书desc
技术领域本发明涉及区块链技术领域，具体涉及基于区块链技术的跨链协作方法。背景技术对于传统未采用区块链技术的政务一体化平台或还未聚合政务一体化平台的地区城市来说，接入国家税务总局的税务链采用API接口方式、SDK方式以及业务节点方式；其中，API接口方式即在接入的地区城市通过JSON格式的API接口与税务总局的税务链进行数据交互；SDK方式是由税务总局提供接入的SDK包进行接入；业务节点方式是在所要接入的省市加入税务总局的账本与节点，并进行数据传输与同步。以上三种接入方式的弊端是不动产交易在接入税务总局的税务链之前，即链下的数据无法完全追溯，数据源头的可信度难以保障；并且现有的数据在区块链上进行跨链时，各链之间不能高效协作，导致数据交互的效果不佳。发明内容本发明的目的在于提供基于区块链技术的跨链协作方法，解决以下技术问题：如何解决现有方案中不同区块链之间的跨链不能高效协作，导致数据交互的效果不佳的技术问题。本发明的目的可以通过以下技术方案实现：基于区块链技术的跨链协作方法，包括：步骤一：一体化平台接收申请方提交的待审核信息，待审核信息包含纳税申报数据、身份数据和户籍数据，并将待审核信息向各个政务部门发起申请核验，得到核验结果集；步骤二：一体化平台根据待审核信息生成受理业务单号，同时将待审核信息中的纳税申报数据和身份数据以及核验结果集上链到政务链，生成第一上链标志，并根据第一上链标志实时将上链的数据跨链同步到税务链；步骤三：一体化平台根据纳税申报数据获取预估价格并发送至申请方，获取申请方的确认信息，将确认信息上链到政务链，生成第二上链标志，并根据第二上链标志实时将上链的数据跨链同步到税务链；步骤四：通过税务链将确认信息发送至金税三期系统并进行税收核算，生成纳税核算信息；步骤五：将纳税核算信息上链到税务链进行存证，并生成第三上链标志；步骤六：将纳税核算信息发送给申请方并生成确认结果，根据确认结果来判定是否继续执行；确认结果包含同意和不同意，若确认结果为不同意，则重新进行纳税申报，重复步骤一至步骤五；若确认结果为同意，执行步骤七；步骤七：交易方根据纳税核算信息进行缴费，并生成缴费结果，将缴费结果上链到政务链，生成第四上链标志，并根据第四上链标志实时将上链的数据跨链同步到税务链；步骤八：金税三期系统根据缴费结果生成完税凭证，将完税凭证上链到税务链并生成第五上链标志，并根据第五上链标志实时将上链的数据跨链同步到政务链。进一步地，将待审核信息向各个政务部门发起申请核验的具体步骤包括：获取各个政务部门的政务数据并按类别进行组合，得到政务组合集；将待审核信息中的各项数据与政务组合集中的各项政务数据进行匹配，若匹配成功则生成第一匹配信号，若匹配失败则生成第二匹配信号；将若干个第一匹配信号和第二匹配信号按匹配的时间顺序组合，得到核验结果集。进一步地，将待审核信息中的纳税申报数据和身份数据以及核验结果集上链到政务链的具体步骤包括：将纳税申报数据和身份数据进行加密并压缩，生成第一处理集，对核验结果集进行加密并压缩，生成第二处理集；获取若干个政务链中各个子节点的存储数据和位置数据；根据存储数据获取各个子节点的存储系数；获取一体化平台的坐标，根据位置数据获取各个子节点的位置系数；根据存储系数和位置系数获取各个子节点的分配值，将若干个分配值进行降序排列，并将最大的分配值设定为选中分配值，将选中分配值对应的子节点设定为选中子节点；将第一处理集和第二处理集发送至选中子节点进行上链存储。进一步地，根据存储数据获取各个子节点的存储系数的具体步骤包括：获取存储数据中各个子节点的已存储内存、未存储内存和最大存储速率，对已存储内存进行取值并标记为ZYCi，i=1，2，3，...，n；对未存储内存进行取值并标记为ZWCi；对最大存储速率进行取值并标记为ZCSi；将标记的各项数据进行归一化处理并取值，通过公式计算获取存储系数；其中，a1和a2均表示为不同的比例系数且均大于零，a1和a2的取值范围均可以为。进一步地，根据位置数据获取各个子节点的位置系数的具体步骤包括：将一体化平台的坐标标记为，将位置数据中若干个子节点的坐标标记为，i=1，2，3，...，n；获取若干个子节点的上链总时长，对上链总时长进行取值并标记为SZi；通过公式计算获取位置系数；其中，b1和b2均表示为不同的比例系数且均大于零，b1和b2的取值范围均可以为,SZ0表示为不同子节点预设的时长阈值。进一步地，根据存储系数和位置系数通过分配公式计算获取各个子节点的分配值，该分配公式为；其中，c1和c2均表示为不同的比例系数，c1和c2的取值范围均可以为。进一步地，将上链的数据跨链同步到税务链的具体步骤包括：获取税务链中若干个子节点的存储数据和位置数据，对税务链存储数据时，将政务链上待跨链同步的子节点标记为跨链子节点，将跨链子节点对应的分配值标记为FP0；获取税务链存储数据中各个子节点的已存储内存、未存储内存和最大存储速率，对已存储内存进行取值并标记为SYCi，i=1，2，3，...，n；对未存储内存进行取值并标记为SWCi；对最大存储速率进行取值并标记为SCSi；获取跨链子节点与税务链中若干个子节点的距离并取值标记为ZJLi；将标记的各项数据进行归一化处理并取值，通过公式计算获取跨链同步的匹配值；其中，d1、d2和d3均表示为不同的比例系数，d1、d2和d3的取值范围均可以为,表示为匹配补偿因子，取值范围可以为；对匹配值进行分析，得到分析结果，根据分析结果将上链的数据跨链同步到税务链上的子节点进行存储。进一步地，对匹配值进行分析的具体步骤包括：将匹配值与预设的匹配阈值进行匹配，若匹配值不小于匹配阈值，则判定跨链子节点与税务链上的子节点匹配，并将该子节点设定为备选子节点；若匹配值小于匹配阈值，则判定跨链子节点与税务链上的子节点不匹配，并对该子节点不进行跨链操作；将若干个备选子节点根据匹配值进行降序排列组合，得到分析结果；将排首位的备选子节点与跨链子节点进行数据跨链传输。本发明的有益效果：1、通过对政务链上各个子节点的已存储内存、未存储内存和最大存储速率进行联立计算得到存储系数，基于存储系数可以对各个子节点的存储能力进行整体分析，从自身方面筛选出最佳存储能力的子节点；获取一体化平台与各个子节点之间的距离，并将若干个子节点的上链总时长进行联立计算，得到若干个子节点的位置系数，基于位置系数可以对各个子节点与一体化平台之间的联系进行整体分析，便于筛选出最佳运行状态的子节点，以便后续数据的上链；2、通过将存储系数和位置系数进行联立计算得到分配值，基于分配值可以筛选出最合适的上链子节点，可以有效提高数据上链的合理性和有效性，避免数据上链分配不均，进而影响业务的处理进度；3、通过对政务链和税务链上的若干个子节点进行动态匹配，使得跨链同步的效率保持最佳；政务链上的子节点将上链的数据跨链同步到税务链上的子节点时，基于分配值以及税务链中若干个子节点的存储数据和位置数据进行联立计算，实现政务链和税务链上的若干个子节点进行点对点的分析匹配，可以筛选出最佳的跨链同步的子节点，使得不同区块链之间的跨链可以高效协作，提高了数据交互的效果。附图说明下面结合附图对本发明作进一步的说明。图1为本发明基于区块链技术的跨链协作方法的流程框图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。请参阅图1，本发明为基于区块链技术的跨链协作方法，本实施例中，通过政务链与税务链的跨链进行高效协作，提高了数据交互的效果，促进不动产税务数据的跨部门交流互通，降低了税收执法风险，提升了不动产税收征管质效；将区块链技术深度应用到房地产交易生命周期的全流程环节，大幅度缩短了不动产交易办理的时间，可以显著改善运作环境。该跨链协作方法的具体步骤包括：步骤一：一体化平台接收申请方提交的待审核信息，待审核信息包含纳税申报数据、身份数据和户籍数据，其中，纳税申报数据包含不动产地址、不动产面积和不动产建造时长；身份数据包含身份证号；户籍数据包含户籍地址；并将待审核信息向各个政务部门发起申请核验，得到核验结果集；具体的步骤包括：获取各个政务部门的政务数据并按类别进行组合，得到政务组合集；将待审核信息中的各项数据与政务组合集中的各项政务数据进行匹配，若政务组合集中的政务数据包含若待审核信息中的数据，则匹配成功并生成第一匹配信号，若政务组合集中的政务数据不包含若待审核信息中的数据，则匹配失败并生成第二匹配信号；将若干个第一匹配信号和第二匹配信号按匹配的时间顺序组合，得到核验结果集；本实施例中，申请方可以为拥有不动产的个人，一体化平台可以为现有的政务平台，纳税申报数据可以为个人住宅的纳税申报；政务部门包括但不限于住建部门、公安部门和民政部门；住建部门用于提供网签数据并核验；公安部门用于提供户籍信息并核验；民政部门用于提供婚姻状况并核验，可以通过身份证号进行核验；通过对待审核信息进行核验审核，确保后续上链数据的真实性和有效性；基于区块链技术的一体化政务平台，结合其链上自然资源主管部门的不动产登记数据、住建部门的商品房网签数据以及公安、民政部门的户籍数据和买卖双方人员身份数据，通过政务链实现与国家税务总局的税务链进行跨链数据协作，拓展了不动产交易业务的应用场景。步骤二：一体化平台根据待审核信息生成受理业务单号，业务单号可以查询该业务的最新流转状态，也可以查询该业务的历史轨迹，即“纵向流程”，实现了业务的动态追溯；同时将待审核信息中的纳税申报数据和身份数据以及核验结果集上链到政务链，生成第一上链标志，具体的步骤包括：将纳税申报数据和身份数据进行加密并压缩，生成第一处理集，对核验结果集进行加密并压缩，生成第二处理集；其中，加密可以通过哈希算法实现；获取若干个政务链中各个子节点的存储数据和位置数据；根据存储数据获取各个子节点的存储系数，包括：获取存储数据中各个子节点的已存储内存、未存储内存和最大存储速率，对已存储内存进行取值并标记为ZYCi，i=1，2，3，...，n；对未存储内存进行取值并标记为ZWCi；对最大存储速率进行取值并标记为ZCSi；将标记的各项数据进行归一化处理并取值，通过公式计算获取存储系数；其中，a1和a2均表示为不同的比例系数且均大于零，a1和a2的取值范围均可以为；本实施例中，通过对各个子节点的已存储内存、未存储内存和最大存储速率进行联立计算得到存储系数，基于存储系数可以对各个子节点的存储能力进行整体分析，从自身方面筛选出最佳存储能力的子节点，便于后续数据的上链；获取一体化平台的坐标，根据位置数据获取各个子节点的位置系数，包括：将一体化平台的坐标标记为，将位置数据中若干个子节点的坐标标记为，i=1，2，3，...，n；其中，可以将一体化平台的坐标设为原点，并根据预设的距离建立坐标系，进而可以得到若干个子节点的坐标；预设的距离可以为1km；获取若干个子节点的上链总时长，对上链总时长进行取值并标记为SZi；其中，上链总时长的单位为小时；通过公式计算获取位置系数；其中，b1和b2均表示为不同的比例系数且均大于零，b1和b2的取值范围均可以为,SZ0表示为不同子节点预设的时长阈值；不同的子节点对应不同的存储能力，可以根据不同型号子节点的大数据进行设定，比如，存储内存为10T的子节点的时长阈值为4000小时；存储内存为5T的子节点的时长阈值为2000小时；本实施例中，通过坐标获取一体化平台与各个子节点之间的距离，并将若干个子节点的上链总时长进行联立计算，得到若干个子节点的位置系数，基于位置系数可以对各个子节点与一体化平台之间的联系进行整体分析，便于筛选出最佳运行状态的子节点，便于后续数据的上链；根据存储系数和位置系数获取各个子节点的分配值，包括：通过分配公式计算获取各个子节点的分配值，该分配公式为；其中，c1和c2均表示为不同的比例系数，c1和c2的取值范围均可以为；本实施例中，通过将存储系数和位置系数进行联立计算得到分配值，基于分配值可以筛选出最合适的上链子节点，因为最佳存储系数的子节点对应的位置系数不一定最佳，同理，位置系数最佳的子节点对应的存储系数不一定最佳，分配值是将存储系数和位置系数根据不同的比例系数进行分配计算，来对子节点整体的能力进行描述；可以有效提高数据上链的合理性和有效性，避免数据上链分配不均，进而影响业务的处理进度；将若干个分配值进行降序排列，并将最大的分配值设定为选中分配值，将选中分配值对应的子节点设定为选中子节点；将第一处理集和第二处理集发送至选中子节点进行上链存储；根据第一上链标志实时将上链的数据跨链同步到税务链，第一上链标志起到触发跨链同步的执行；具体的步骤包括：获取税务链中若干个子节点的存储数据和位置数据，对税务链存储数据时，将政务链上待跨链同步的子节点标记为跨链子节点，将跨链子节点对应的分配值标记为FP0；获取税务链存储数据中各个子节点的已存储内存、未存储内存和最大存储速率，对已存储内存进行取值并标记为SYCi，i=1，2，3，...，n；对未存储内存进行取值并标记为SWCi；对最大存储速率进行取值并标记为SCSi；获取跨链子节点与税务链中若干个子节点的距离并取值标记为ZJLi；将标记的各项数据进行归一化处理并取值，通过公式计算获取跨链同步的匹配值；其中，d1、d2和d3均表示为不同的比例系数，d1、d2和d3的取值范围均可以为，表示为匹配补偿因子，取值可以为0.83624；上述的公式均是去除量纲取其数值计算，通过采集大量的数据进行软件模拟得到最接近真实情况的一个公式，公式中的预设比例系数以及相关的阈值由本领域的技术人员根据实际情况设定或者通过大量数据模拟获取；对匹配值进行分析，将匹配值与预设的匹配阈值进行匹配，若匹配值不小于匹配阈值，则判定跨链子节点与税务链上的子节点匹配，并将该子节点设定为备选子节点；若匹配值小于匹配阈值，则判定跨链子节点与税务链上的子节点不匹配，并对该子节点不进行跨链操作；将若干个备选子节点根据匹配值进行降序排列组合，得到分析结果；将排首位的备选子节点与跨链子节点进行数据跨链传输和存储；本实施例中，通过对政务链和税务链上的若干个子节点进行动态匹配，使得跨链同步的效率保持最佳；其中，政务链上的子节点将上链的数据跨链同步到税务链上的子节点时，基于分配值以及税务链中若干个子节点的存储数据和位置数据进行联立计算，实现政务链和税务链上的若干个子节点进行点对点的分析匹配，可以筛选出最佳的跨链同步的子节点，提高了数据交互的效果；步骤三：一体化平台根据纳税申报数据获取预估价格并发送至申请方，获取申请方的确认信息，将确认信息上链到政务链，生成第二上链标志，并根据第二上链标志实时将上链的数据跨链同步到税务链，数据跨链同步的实现与步骤二相同；其中，税申报数据中的不动产地址、不动产面积和不动产建造时长通过现有的评估模型进行评估得到预估价格；确认信息包含申请方的同意，将确认信息上传到税务链用作后续交易的凭证；步骤四：通过税务链将确认信息发送至金税三期系统并进行税收核算，生成纳税核算信息；其中，纳税核算信息包含纳税核算表，纳税核算表用于申请方缴纳税费；步骤五：将纳税核算信息上链到税务链进行存证，并生成第三上链标志；第三上链标志表示存证的生成；步骤六：将纳税核算信息发送给申请方并生成确认结果，根据确认结果来判定是否继续执行；确认结果包含同意和不同意，若确认结果为不同意，则重新进行纳税申报，重复步骤一至步骤五；若确认结果为同意，执行步骤七；步骤七：交易方根据纳税核算信息进行缴费，并生成缴费结果，将缴费结果上链到政务链，生成第四上链标志，并根据第四上链标志实时将上链的数据跨链同步到税务链，数据跨链同步的实现与步骤二相同；步骤八：金税三期系统根据缴费结果生成完税凭证，将完税凭证上链到税务链并生成第五上链标志，并根据第五上链标志实时将上链的数据跨链同步到政务链，数据跨链同步的实现与步骤二相同。以上对本发明的一个实施例进行了详细说明，但所述内容仅为本发明的较佳实施例，不能被认为用于限定本发明的实施范围。凡依本发明申请范围所作的均等变化与改进等，均应仍归属于本发明的专利涵盖范围之内。
