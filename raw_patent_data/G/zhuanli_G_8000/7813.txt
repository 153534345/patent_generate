标题title
一种数据交互平台散热器及其温度控制方法
摘要abst
本发明提供了一种数据交互平台散热器温度控制方法，属于温度控制领域。其中方法包括：定期采集位于散热器鳍片、VC均热板、导热硅胶片上的测温传感器以及环境测温传感器的温度数据，并将采集的温度数据数据上传至数据有效性判断模块；将散热工作模式输入至数据模糊转换器，采用优化算法进行参数选择，设置不同工作模式下的适应度评价函数，实现模糊控制。本发明的方法能够提升数据交互平台散热器温度控制的准确性。
权利要求书clms
1.一种数据交互平台散热器温度控制方法，其特征在于：步骤S1：定期采集位于散热器鳍片、VC均热板、导热硅胶片上的测温传感器以及环境测温传感器的温度数据，并将所述温度数据上传至数据有效性判断模块；步骤S2：数据有效性判断模块对测温传感器采集的所述温度数据进行判断；步骤S3：如判断数据无效则进行故障提示，如判断数据有效，则将有效数据传输至数据模糊转换器；步骤S4：将散热工作模式输入至所述数据模糊转换器，进行数据模糊转换；步骤S5：将转换后的数据输入模糊控制器，结合模糊隶属度转换方式，进行模糊控制；步骤S6：对所述转换后的数据进行解模糊处理，输出结果用于对散热风扇的控制，并向系统输入反馈参数。2.根据权利要求1所述的温度控制方法，其特征在于：所述散热工作模式包括经济模式、标准模式和超强模式三种模式。3.根据权利要求2所述的温度控制方法，其特征在于：所述步骤S6中，所述反馈参数为限制主机功率信号，提示CPU采取策略对工作运转方式进行限制，当前散热系统达到阈值，不能满足散热需求。4.根据权利要求3所述的温度控制方法，其特征在于：所述数据模糊转换方法采用优化算法进行参数选择，设置不同工作模式下的适应度评价函数。5.根据权利要求4所述的温度控制方法，其特征在于所述不同工作模式下的适应度评价函数为：，式中、、为所述经济模式、所述标准模式、所述超强模式下的适应度计算函数，式中表示所述不同工作模式下的几何平均值，表示所述不同工作模式下适应度函数的一致性，为一致性因子，值越小表示一致性越弱，存在模式切换造成温度控制连续性不好，波动范围较大；值越大表示一致性越强，存在温度调整偏慢的情况。6.根据权利要求5所述的温度控制方法，其特征在于：所述模糊隶属度转换方式结合通过所述优化算法获得的低、较低、一般、较高、高模糊等级对应的参数，将所述测温传感器获得的温度数据模糊化，通过所述模糊控制器输出相应的控制变量，模糊控制器按照模糊控制表对散热风扇进行控制。7.根据权利要求6所述的温度控制方法，其特征在于所述对测温传感器采集的温度进行判断具体方法为：根据测温传感器设置位置判断温度是否有效或采用传感器自诊断的方法进行。8.根据权利要求7所述的温度控制方法，其特征在于：在步骤S1之前还包括对温度初始阶段温度控制方式，环境测温传感器采集前环境温度为T；在所述经济模式下，当所述环境温度T小于第一阈值温度T1时，第一散热风扇以功率F1工作，第二散热风扇以功率F1工作；当所述环境温度T超过所述第一阈值温度T1，小于第二阈值温度T2时，所述第一散热风扇以功率F2工作，所述第二散热风扇以功率F1工作；当所述环境温度超过所述第二阈值温度T2时，所述第一散热风扇以功率F3工作，所述第二散热风扇以功率F2工作；在所述标准模式下，当所述环境温度T小于所述第一阈值温度T1时，所述第一散热风扇以功率F1工作，所述第二散热风扇以功率F1工作；当所述环境温度T超过所述第一阈值温度T1，小于所述第二阈值温度T2时，所述第一散热风扇以功率F2工作，所述第二散热风扇以功率F2工作；当所述环境温度超过所述第二阈值温度T2时，所述第一散热风扇以功率F3工作，所述第二散热风扇以功率F2工作；在所述超强模式下，当所述环境温度T小于所述第一阈值温度T1时，所述第一散热风扇以功率F2工作，所述第二散热风扇以功率F1工作；当所述环境温度T超过所述第一阈值温度T1，小于所述第二阈值温度T2时，所述第一散热风扇以功率F3工作，所述第二散热风扇以功率F2工作；当所述环境温度超过所述第二阈值温度T2时，所述第一散热风扇以功率F3工作，所述第二散热风扇以功率F3工作。9.一种数据交互平台散热器，其特征在于：所述散热器外部包括螺丝组件、弹片、鳍片、第一测温传感器、第二测温传感器、所述第一测温传感器设置在所述鳍片的一端，所述第二测温传感器设置在所述鳍片的另一端，所述第一测温传感器和第二测温传感器分别用于感测所述鳍片两端温度；所述散热器内部包括导热硅胶片、VC均热板、第三测温传感器、第四测温传感器，其中所述第三测温传感器用于测量所述导热硅胶片温度，所述第四测温传感器用于测量所述VC均热板温度，第一散热风扇和第二散热风扇设置在所述VC均热板的左右两侧，环境测温传感器设置在数据交换平台外部，所述环境测温传感器用于测量外部环境温度，散热器内设置有温度控制系统，用于执行权利要求1-8任一项所述的温度控制方法。
说明书desc
技术领域本发明属于温度控制、温度测量技术领域，具体涉及一种数据交互平台散热器及其温度控制方法。背景技术数据交换平台内部的设备芯片数据处理能力越来越强，功耗越来越大，工作过程中会产生大量的热量，提高数据交换平台散热能力非常重要。现有的散热器根据采集的温度实现对散热器控制，开启风扇或者关闭风扇，来实现散热的效果。但是目前的温控方式不精准，测温传感器与散热装置的控制效果不好，工作方式与温度控制方法关联性弱。现有技术中有通过模糊控制方法进行温度控制，但现有方法中基于经验设置模糊控制参数，模糊控制效果较差。发明内容本发明的目的在于解决上述现有技术中存在的难题，提供一种数据交互平台散热器及其温度控制方法，以解决温度测量不精准、散热装置控制效果不好等问题。为了实现上述目的，本发明提供一种数据交互平台散热器温度控制方法，包括以下步骤，步骤S1：定期采集位于散热器鳍片、VC均热板、导热硅胶片上的测温传感器以及环境测温传感器的温度数据，并将所述温度数据上传至数据有效性判断模块；步骤S2：数据有效性判断模块对测温传感器采集的所述温度数据进行判断；步骤S3：如判断数据无效则进行故障提示，如判断数据有效，则将有效数据传输至数据模糊转换器；步骤S4：将散热工作模式输入至所述数据模糊转换器，进行数据模糊转换；步骤S5：将转换后的数据输入模糊控制器，结合模糊隶属度转换方式，进行模糊控制；步骤S6：对所述转换后的数据进行解模糊处理，输出结果用于对散热风扇的控制，并向系统输入反馈参数。优选的，所述散热工作模式包括经济模式、标准模式和超强模式三种模式。优选的，所述步骤S6中，所述反馈参数为限制主机功率信号，提示CPU采取策略对工作运转方式进行限制，当前散热系统达到阈值，不能满足散热需求。优选的，所述数据模糊转换方法采用优化算法进行参数选择，设置不同工作模式下的适应度评价函数。优选的，所述不同工作模式下的适应度评价函数为式中、、为所述经济模式、所述标准模式、所述超强模式下的适应度计算函数，式中表示所述不同工作模式下的几何平均值，表示所述不同工作模式下适应度函数的一致性，为一致性因子，值越小表示一致性越弱，存在模式切换造成温度控制连续性不好，波动范围较大；值越大表示一致性越强，存在温度调整偏慢的情况。优选的，所述模糊隶属度转换方式结合通过所述优化算法获得的低、较低、一般、较高、高模糊等级对应的参数，将所述测温传感器获得的温度数据模糊化，通过所述模糊控制器输出相应的控制变量，模糊控制器按照模糊控制表对散热风扇进行控制。优选的，所述对测温传感器采集的温度进行判断具体方法为：根据测温传感器设置位置判断温度是否有效或采用传感器自诊断的方法进行。优选的，在步骤S1之前还包括对温度初始阶段温度控制方式，环境测温传感器12采集前环境温度为T；在所述经济模式下，当所述环境温度T小于第一阈值温度T1时，第一散热风扇以功率F1工作，第二散热风扇以功率F1工作；当所述环境温度T超过所述第一阈值温度T1，小于第二阈值温度T2时，所述第一散热风扇以功率F2工作，所述第二散热风扇以功率F1工作；当所述环境温度超过所述第二阈值温度T2时，所述第一散热风扇以功率F3工作，所述第二散热风扇以功率F2工作；在所述标准模式下，当所述环境温度T小于所述第一阈值温度T1时，所述第一散热风扇以功率F1工作，所述第二散热风扇以功率F1工作；当所述环境温度T超过所述第一阈值温度T1，小于所述第二阈值温度T2时，所述第一散热风扇以功率F2工作，所述第二散热风扇以功率F2工作；当所述环境温度超过所述第二阈值温度T2时，所述第一散热风扇以功率F3工作，所述第二散热风扇以功率F2工作；在所述超强模式下，当所述环境温度T小于所述第一阈值温度T1时，所述第一散热风扇以功率F2工作，所述第二散热风扇以功率F1工作；当所述环境温度T超过所述第一阈值温度T1，小于所述第二阈值温度T2时，所述第一散热风扇以功率F3工作，所述第二散热风扇以功率F2工作；当所述环境温度超过所述第二阈值温度T2时，所述第一散热风扇以功率F3工作，所述第二散热风扇以功率F3工作。另一方面，本发明提供一种数据交互平台散热器，所述散热器外部包括螺丝组件、弹片、鳍片、第一测温传感器、第二测温传感器、所述第一测温传感器设置在所述鳍片的一端，所述第二测温传感器设置在所述鳍片的另一端，所述第一测温传感器和第二测温传感器分别用于感测所述鳍片两端温度；所述散热器内部包括导热硅胶片、VC均热板、第三测温传感器、第四测温传感器，其中所述第三测温传感器用于测量所述导热硅胶片温度，所述第四测温传感器用于测量所述VC均热板温度，第一散热风扇和第二散热风扇设置在所述VC均热板的左右两侧，环境测温传感器设置在数据交换平台外部，所述环境测温传感器用于测量外部环境温度，散热器内设置有温度控制系统，用于执行前述温度控制方法。与现有技术相比，本发明的有益效果是：1）结合不同工作模式的评价函数来对模糊控制的参数进行优化，考虑不同模式之间的评价差别，可以解决现有算法中仅仅以输入温度为参考，没有考虑工作模式的问题，通过设置一种带有工作模式的融合型评价函数的方法来进行模糊性控制的参数优化，可以进一步实现温度控制的准确性；2）在初始状态下，由于设置在散热器上的测温传感器温度数据不合理，此时结合工作模式和环境温度来设置初始化状态的温度控制模式，实现初始化情况下的温度控制合理化。此外，通过对采集温度的合理性判断进而防止在采集温度出现故障时带来的温度控制问题；3）在模糊控制上通过采用优化算法对模糊控制的参数进行优化，提高模糊控制的准确性，采用效率较高的人工蜂群优化算法，进一步提高模糊控制的效率；4）合理化设置散热器结构，提高散热效率，进而实现温度传感器的合理化布置，并结合温度传感器的控制方法，进一步实现精准的温度控制。附图说明图1为本发明一实施例的散热器外部结构；图2为本发明一实施例的散热器内部结构；图3为本发明一实施例的初始阶段控制方法；图4为本发明一实施例的初始阶段的经济模式下控制方式；图5为本发明一实施例的初始阶段的标准模式下控制方式；图6为本发明一实施例的初始阶段的超强模式下控制方式；图7为本发明一实施例的运行状态的模糊控制温度控制的结构图；图8为本发明一实施例的运行状态的模糊控制温度控制方法；图9为本发明一实施例的模糊控制模糊隶属度函数。具体实施方式下面结合附图对本发明作进一步详细描述：为了更好地理解本发明，下面结合附图来详细解释本发明的实施方式。本发明实施例一提供了一种散热器结构，散热器外部结构如图1所示，具体包括：螺丝组件1，弹片2，鳍片3，第一测温传感器4，第二测温传感器5，第一测温传感器4设置在鳍片3的一端，第二测温传感器5设置在鳍片3的另一端。第一测温传感器和第二测温传感器分别用于感测鳍片两端温度。散热器内部结构如图2所示，包括导热硅胶片6，VC均热板7，第三测温传感器8，第四测温传感器9，其中第三测温传感器8用于测量导热硅胶片温度，第四测温传感器9用于测量VC均热板温度，还包括第一散热风扇10和第二散热风扇11设置在VC均热板的左右两侧。环境测温传感器12设置在数据交换平台外部，环境测温传感器12用于测量外部环境温度。散热器内部设置有温度控制系统。通过设置鳍片、VC均热板、导热硅胶片、散热风扇能够快速的对交换模块工作时产生的热能进行传输，导热性能较好，能够快速的对大功率交换模块进行高效散热。通过设置散热器温度控制系统实现对散热器的温度控制。散热器温度控制系统执行下面实施例中的散热器温度控制方法。本发明实施例二提出了一种散热器温度控制方法，散热器温度控制系统执行散热器温度控制方法，用于进行初始阶段的散热控制，实现初始运行状态维持稳定的温度状态。散热器散热风扇共有三种工作模式，分别是经济模式、标准模式、超强模式。经济模式用于在功耗较低，热量较低的时候进行，低转速进行风扇运转；标准模式用于功耗中等，热量中等的时候进行，中等转速进行风扇运转。超强模式用于高功耗情况下，热量较高的时候进行，高转速进行风扇运转。结合散热器测温传感器采集情况，对具体方法进行说明。初始阶段的控制方法如附图3所示。根据三种工作模式所限定的经济、标准或超强模式状态与环境温度，通过设置的控制策略表，进而控制两个散热风扇的转速，通过上述初始设定方法可以在初始状态下，通过设置不同模式下的情况，来设定初始的散热控制状态，避免了统一状态下造成的初始散热力度不够的问题，使得开机工作温度过高可能对数据交互平台带来的影响。初始阶段，由于数据交互平台尚未工作，此时第一至第四测温传感器温度采集尚无可用数据，此时应以环境测温传感器12采集的温度为主要输入因素。设当前环境温度为T，基于三种工作模式情况进行情况分析，第一阈值温度为T1，第二阈值温度T2，风扇工作功率有三种模式F1、F2、F3。在经济模式下，如附图4所示，当环境温度T小于第一阈值温度T1时，第一散热风扇以功率F1工作，第二散热风扇以功率F1工作；当环境温度T超过第一阈值温度T1，小于第二阈值温度T2时，第一散热风扇以功率F2工作，第二散热风扇以功率F1工作；当环境温度超过第二阈值温度T2时，第一散热风扇以功率F3工作，第二散热风扇以功率F2工作。在标准模式下，如附图5所示，当环境温度T小于第一阈值温度T1时，第一散热风扇以功率F1工作，第二散热风扇以功率F1工作；当环境温度T超过第一阈值温度T1，小于第二阈值温度T2时，第一散热风扇以功率F2工作，第二散热风扇以功率F2工作；当环境温度超过第二阈值温度T2时，第一散热风扇以功率F3工作，第二散热风扇以功率F2工作。在超强模式下，如附图6所示，当环境温度T小于第一阈值温度T1时，第一散热风扇以功率F2工作，第二散热风扇以功率F1工作；当环境温度T超过第一阈值温度T1，小于第二阈值温度T2时，第一散热风扇以功率F3工作，第二散热风扇以功率F2工作；当环境温度超过第二阈值温度T2时，第一散热风扇以功率F3工作，第二散热风扇以功率F3工作。通过在初始状态下对不同温度情况与工作模式的对应性设置，可以进一步降低初始状态温度控制效果，结合数据交互平台的风扇设置以及工作模式要求，通过上述方法的设置可以达到更好的初始温度控制效果。本发明实施例三提出了另一种散热器温度控制方法，用于对动态运行过程中进行散热控制，进而维持在稳定运行过程中的数据交换平台的温度。附图7为本发明实施例三中模糊控制温度控制的结构图。第一测温传感器4感测温度T1，第二测温传感器5感测温度T2，第三测温传感器8感测温度T3，第四测温传感器9感测温度T4，环境测温传感器12感测温度T0。五个测温传感器输入至有效性判断模块，有效数据与工作模式共同数据数据模糊转换器，数据模糊转换器与模糊控制器连接，将输出内容输出至解模糊模块，解模糊模块与散热风扇1、散热风扇2连接，并与系统连接，进行参数反馈。如附图8所示，在动态运行过程中温度控制方法主要包括以下步骤：步骤S1：定期采集位于散热器鳍片、VC均热板、导热硅胶片上的测温传感器以及环境测温传感器的温度数据，并将所述温度数据上传至数据有效性判断模块；步骤S2：数据有效性判断模块对测温传感器采集的温度进行判断。步骤S3：如判断数据无效则进行故障提示。如判断数据有效，则将有效数据传输至数据模糊转换器。步骤S4：将三种散热工作模式，即经济模式、标准模式、超强模式输入至数据模糊转换器，进行数据模糊转换。步骤S5：将转换后数据输入模糊控制器，结合模糊隶属度转换方式，进行模糊控制。步骤S6：对数据进行解模糊处理，用于对散热风扇的控制以及向系统输入反馈参数。反馈参数为限制主机功率0和1，1是输出限制信号，提示CPU采取策略对工作运转方式进行限制，当前散热系统达到阈值不能满足散热需求。运行状态下对采集的五个温度数据，结合三种工作模式，输入到温度模糊控制器，通过模糊控制的方式可以提高温度控制的准确性和鲁棒性。在散热器运行状态的温度控制中，通过模糊控制可以增加经验判断，提高实时有效的控制。本发明实施例四中提出了另一种散热器温度控制方法，进一步限定了传感器数据有效性判断方法。根据测温传感器设置的位置不同判断温度数据是否有效，由于散热器内外部构造，产热位置，测温传感器4和5采集的温度T1和T2，高于测温传感器8和9采集的温度T3和T4，环境测温传感器12采集的温度T0应低于其他测温传感器采集的温度T1-T4。结合不同测温传感器位置以及数据交互平台特点，通过判断测温传感器温度情况，可以进一步确保工作状态下温度数据的有效性，提升温度控制的准确性。测温传感器有效性判断方法可以采用传感器自诊断的方法进行。向测温传感器输入测试有效性测试信号，按照一定时间周期发送测试信号，并将测试结果反馈至数据有效性判断模块。温度自诊断方法可以定期对测温传感器的有效性进行检测，调高了温度控制的准确性。本发明实施例五，进一步限定了数据模糊转换的方法。在模数化参数的设置时，采用优化算法进行参数选择，设置三种工作模式下的适应度评价函数。由于模糊数据转换需要确定模糊化的相关参数，通常按照经验选择的参数会造成控制精度不高、效果不好，需要对模糊化参数进行优化选择。采用优化算法的模糊化参数选择方法，并引入三种工作模式的评价函数，更加合理的确定参数取值，从而获得最优的模糊化效果，提高温度控制效果。模糊控制的参数优化算法采用效率较高的人工蜂群优化算法。设待优化的模糊化参数为，参数采用实数编码。初始化每个食物源的位置用D维向量表示：，。食物源的初始位置随机产生，解空间的上限，下限，则初始的食物源位置即初始解为式中，，，是上均匀分布的随机数。采蜜蜂每一个食物源xi对应一个采蜜蜂，每个采蜜蜂随机选择一个邻居进行邻域搜索更新食物源，获得新的食物源为vi 式中，，，是上均匀分布的随机数。是随机选择的一个邻居。获得新食物源后，按照贪婪选择的方式对之前的食物源进行更新，如果新的食物源vi的质量高于原食物源xi，则vi取代xi，否则，xi保持不变，迭代重复值trial加1。迭代重复值trial表示经过多次搜索，食物源质量也没有改善。概率选择当所有采蜜蜂进行邻域搜索后，将所在食物源信息共享给观察蜂，观察蜂根据各食物源的质量进行概率选择。第i个食物源被观察蜂选择的概率为：食物源的适应度值按照下式进行计算：式中，是第i个食物源的评价值，由所求解问题的目标函数计算得到。观察蜂观察蜂选择一个食物源后，与采蜜蜂相同，按照邻域搜索的方式更新食物源位置。 侦察蜂当采蜜蜂和观察蜂多次搜索同一食物源却没有获得更好的食物源，则放弃该食物源，变为侦察蜂，并随机搜索一个新食物源xi替代该食物源。 采用人工蜂群的优化算法，可以进一步实现对参数选择的准确性。进一步限定了三种工作模式下的评价函数，参数优化的核心在于如何构建合理可行的适应度评价函数f。本实施例中设置三种工作模式下的融合型评价函数为式中、、为经济模式、标准模式、超强模式下的适应度计算函数。公式表示三种模式下的几何平均值，表示三种模式下适应度函数的一致性。两者相加既考虑了每个模式下的优化特征，同时考虑不同模式之间的评价差别。为一致性因子，值越小，表示一致性越弱，存在模式切换造成温度控制连续性不好，波动范围较大；值越大表示一致性越强，可能存在温度调整偏慢的情况，取值可根据实际效果进行动态调整。通过设置三种模式下的评价函数，可以解决现有算法中仅仅以输入温度为参考，没有考虑工作模式的问题，通过设置一种带有工作模式的融合型评价函数的方法来进行模糊性控制的参数优化，可以进一步实现温度控制的准确性。本发明实施例六中，进一步限定了模糊控制器的转化方式，如附图9所示的模糊隶属度转换方式，结合通过优化算法获得的低、较低、一般、较高、高模糊等级对应的参数，则可以将测温传感器获得的温度数据模糊化，通过模糊控制器输出相应的控制变量。模糊控制器按照如表1所示的模糊控制表对散热风扇进行控制。表1 模糊控制表在本发明的描述中，需要说明的是，除非另有明确的规定和限定，术语“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。在本发明的描述中，除非另有说明，术语“上”、“下”、“左”、“右”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。最后应说明的是，上述技术方案只是本发明的一种实施方式，对于本领域内的技术人员而言，在本发明公开了应用方法和原理的基础上，很容易做出各种类型的改进或变形，而不仅限于本发明上述具体实施方式所描述的方法，因此前面描述的方式只是优选的，而并不具有限制性的意义。
