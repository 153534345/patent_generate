标题title
集成电路的汉克尔变换滤波器非均匀采样优化方法及装置
摘要abst
本发明属于集成电路技术领域，具体为一种集成电路的汉克尔变换滤波器非均匀采样优化方法及装置，本方法包括：以采样间隔为变量研究均匀采样点计算的误差，获得一系列误差局部最小的采样间隔，作为固定的采样间隔；以最小的固定采样间隔获得用于计算集成电路电磁场的格林函数的贝塞尔积分‑汉克尔变换的滤波器系数，计算每个采样点的舍弃对贝塞尔积分‑汉克尔变换对中的整个贝塞尔积分计算的误差影响，决定采样点是否保留，并对保留的采样点进行位置更新，基于保留的非均匀采样点计算贝塞尔积分；本发明通过设置采样间隔为误差局部最小的固定的采样间隔，在满足精度要求的情况下大幅减少贝塞尔积分的计算量，提高集成电路电磁场计算的速度。
权利要求书clms
1.一种集成电路的汉克尔变换滤波器非均匀采样优化方法，其特征在于，包括：S100、基于计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数，获取所述并矢格林函数包含的所有贝塞尔积分，由此确定并矢格林函数中所用的贝塞尔函数的阶数；所述贝塞尔积分为包含贝塞尔函数的被积函数的无穷积分；S200、根据积分核函数与贝塞尔函数乘积形成的被积函数，对贝塞尔积分进行汉克尔变换；所述积分核函数是由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定的，所述源点到场点之间的距离为集成电路覆铜区域上连续电流离散的点电流源形成的源点到作用于其他层的场点之间的距离；S300、以采样间隔为变量，基于均匀采样点的汉克尔变换方法计算贝塞尔积分的数值解与贝塞尔积分的准确解的误差，获得采样间隔与计算的贝塞尔积分的误差的关系曲线，基于所述关系曲线获得一系列误差局部最小的采样间隔，作为固定采样间隔序列；S400、以所述固定采样间隔序列中的最小的固定采样间隔为采样间隔，通过均匀采样对所述汉克尔变换进行离散化，得到无限长度滤波器的表达式；S500、根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，在预设的精度控制范围内对无限长度滤波器进行截断，得到有限长度滤波器的表达式，根据所述有限长度滤波器的表达式，得到有限长度滤波器的方程组；S600、采用已知的贝塞尔积分解析表达式构造贝塞尔积分-汉克尔变换对，或是针对实际无法解析的贝塞尔积分，采用适用于集成电路的典型参数构造最接近实际核函数的贝塞尔积分，形成贝塞尔积分-汉克尔变换对，并高精度计算所述贝塞尔积分-汉克尔变换对中的贝塞尔积分；S700、基于构造的贝塞尔积分-汉克尔变换对，代入所述有限长度滤波器的表达式，获得滤波器方程组对应的滤波器系数矩阵方程，并对所述滤波器系数矩阵方程改进；S800、对改进后的滤波器系数矩阵方程进行求解，得到滤波器系数；S900、对于以所述最小的固定采样间隔为采样间隔通过均匀采样获得的采样点，通过采样点的贡献值的大小筛选初步确定舍弃的采样点，并根据所述初步确定舍弃的采样点的舍弃对所述贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，判定采样点是否舍弃；包括：S910、通过计算除第一个采样点和最后一个采样点的每个采样点的贡献值，将贡献值小于预留阈值所对应的采样点确定为初步确定舍弃的采样点；若不存在所述初步确定舍弃的采样点，则转入步骤S1000；S920、基于当前采样间隔与所述固定采样间隔序列中的采样间隔的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对保留的采样点进行位置更新，形成非均匀采样点，计算所述初步确定舍弃的采样点中的第i个采样点的舍弃对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响；S930、恢复所述尝试舍弃所述初步确定舍弃的采样点中的第i个采样点及恢复所述尝试对保留的采样点进行位置更新，令i＝i+1，转入所述步骤S920，获得所有所述初步确定舍弃的采样点单独舍弃后对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，找出误差影响最小的单独舍弃的采样点；若最小误差影响小于等于预设误差阈值，则将所述最小误差影响对应的采样点舍弃，并对保留的采样点进行位置更新，转入步骤S910；若最小误差影响结果大于预设误差阈值，转入步骤S1000；S1000、基于保留采样点和对应的滤波器系数以及积分核函数，计算相应的贝塞尔积分。2.根据权利要求1所述集成电路的汉克尔变换滤波器非均匀采样优化方法，其特征在于，所述S900具体为：S911、根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，设置所述基于贡献值初步舍弃采样点的保留阈值以及基于误差舍弃采样点的误差阈值；S912、根据滤波器系数、滤波器的采样点计算除第一个采样点和最后一个采样点的每个采样点的贡献值；S913、将所有贡献值小于采样点的保留阈值的采样点认定为初步确定舍弃的采样点，形成初步确定舍弃的采样点集合；若所述初步确定舍弃的采样点集合为空集，转入步骤S1000，否则转入步骤S921；S921、尝试舍弃所述初步确定舍弃的采样点集合中的第i个采样点，对第i个采样点周围的采样点进行位置更新，并基于尝试舍弃第i个采样点之后的采样点，计算余下的采样点的滤波系数，得到尝试舍弃第i个采样点之后的采样点的滤波系数；S922、基于所述滤波系数，计算贝塞尔函数积分，获得所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分的数值解；S923、基于采用解析表达式或高精度计算方法计算所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分得出的精确解，计算所述数值解与所述精确解的相对误差，得出误差影响；S931、恢复所述尝试舍弃初步确定舍弃的采样点集合中的第i个采样点及恢复所述尝试对第i个采样点周围的采样点进行位置更新，设置i＝i+1，转入所述S921，获得尝试单独舍弃每个所述初步确定舍弃的采样点之后的相对误差集合；S932、根据所述相对误差集合的误差大小，求得最小相对误差；S933、若所述最小相对误差小于等于所述误差阈值，则舍弃所述最小相对误差对应的采样点和滤波系数，并将所述最小相对误差对应的采样点周围的采样点进行位置更新，转入S912；若所述最小相对误差大于所述误差阈值，转入步骤S1000。3.根据权利要求2所述集成电路的汉克尔变换滤波器非均匀采样优化方法，其特征在于，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔分别与所述固定采样间隔序列中的其中一个固定采样间隔的偏差最小；若所有所述偏差均小于预设采样间隔偏差阈值，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新；若所述偏差任何一个大于等于预设采样间隔偏差阈值，则第i个采样点不能尝试去除，并不进行位置更新。4.根据权利要求2所述集成电路的汉克尔变换滤波器非均匀采样优化方法，其特征在于，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：将所述固定采样间隔序列中除最小固定采样间隔的每个固定采样间隔均添加相应的偏差，调整为所述固定采样间隔序列中的最小固定采样间隔的整数倍；若所述固定采样间隔序列中的固定采样间隔添加的偏差小于预设固定采样间隔取整偏差，且调整后的固定采样间隔对应的误差值小于采样间隔误差阈值，则将所述偏差对应的固定采样间隔确定为新的固定采样间隔序列；若所述偏差大于等于预设固定采样间隔取整偏差，或调整后的固定采样间隔对应的误差值大于等于采样间隔误差阈值，则将所述偏差对应的固定采样间隔去掉；基于所述新的固定采样间隔序列，若尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔为所述新的固定采样间隔序列中的一个或多个，且满足第i-1个采样点和第i+1个采样点的移动的距离平方和最小，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新。5.根据权利要求2所述集成电路的汉克尔变换滤波器非均匀采样优化方法，其特征在于，所述贡献值通过下式进行计算：其中，Ci为第i个采样点的贡献值，r为格林函数作用的空间距离，hi为第i个采样点的滤波器系数，由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的贝塞尔函数阶数确定，λi为第i个采样点，g为输入函数，其由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定，G为输出函数，2L-1为滤波器长度。6.一种集成电路的汉克尔变换滤波器非均匀采样优化装置，其特征在于，包括：贝塞尔积分获取模块、汉克尔变换模块、固定采样间隔序列筛选模块、无限滤波器模块、有限滤波器模块、变换对构造模块、矩阵方程改进模块、滤波器系数计算模块、采样点舍弃模块和贝塞尔积分计算模块；所述贝塞尔积分获取模块，用于基于计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数，获取所述并矢格林函数包含的所有贝塞尔积分，由此确定并矢格林函数中所用的贝塞尔函数的阶数；所述贝塞尔积分为包含贝塞尔函数的被积函数的无穷积分；所述汉克尔变换模块，用于根据积分核函数与贝塞尔函数乘积形成的被积函数，对贝塞尔积分进行汉克尔变换；所述积分核函数是由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定的，所述源点到场点之间的距离为集成电路覆铜区域上连续电流离散的点电流源形成的源点到作用于其他层的场点之间的距离；所述固定采样间隔序列筛选模块，用于以采样间隔为变量，基于均匀采样点的汉克尔变换方法计算贝塞尔积分的数值解与贝塞尔积分的准确解的误差，获得采样间隔与计算的贝塞尔积分的误差的关系曲线，基于所述关系曲线获得一系列误差局部最小的采样间隔，作为固定采样间隔序列；所述无限滤波器表达模块，用于以所述固定采样间隔序列中的最小的固定采样间隔为采样间隔，通过均匀采样对所述汉克尔变换进行离散化，得到无限长度滤波器的表达式；所述有限滤波器表达模块，用于根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，在预设的精度控制范围内对无限长度滤波器进行截断，得到有限长度滤波器的表达式，根据所述有限长度滤波器的表达式，得到有限长度滤波器的方程组；所述变换对构造模块，用于采用已知的贝塞尔积分解析表达式构造贝塞尔积分-汉克尔变换对，或是针对实际无法解析的贝塞尔积分，采用适用于集成电路的典型参数构造最接近实际核函数的贝塞尔积分，形成贝塞尔积分-汉克尔变换对，并高精度计算所述贝塞尔积分-汉克尔变换对中的贝塞尔积分；所述矩阵方程改进模块，用于基于构造的贝塞尔积分-汉克尔变换对，代入所述有限长度滤波器的表达式，获得滤波器方程组对应的滤波器系数矩阵方程，并对所述滤波器系数矩阵方程改进；所述滤波器系数计算模块，用于对改进后的滤波器系数矩阵方程进行求解，得到滤波器系数；所述采样点舍弃模块，用于对于以所述最小的固定采样间隔为采样间隔通过均匀采样获得的采样点，通过采样点的贡献值的大小筛选初步确定舍弃的采样点，并根据所述初步确定舍弃的采样点的舍弃对所述贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，判定采样点是否舍弃；所述贝塞尔积分计算模块，用于基于保留采样点和对应的滤波器系数以及积分核函数，计算相应的贝塞尔积分；所述采样点舍弃模块包括初步确定舍弃采样点筛选单元、贝塞尔积分误差影响计算单元和舍点更新单元；所述初步确定舍弃采样点筛选单元，用于通过计算除第一个采样点和最后一个采样点的每个采样点的贡献值，将贡献值小于预留阈值所对应的采样点确定为初步确定舍弃的采样点；若不存在所述初步确定舍弃的采样点，则转入所述贝塞尔积分计算模块；所述贝塞尔积分误差影响计算单元，用于基于当前采样间隔与所述固定采样间隔序列中的采样间隔的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对保留的采样点进行位置更新，形成非均匀采样点，计算所述初步确定舍弃的采样点中的第i个采样点的舍弃对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响；所述舍点更新单元，用于恢复所述尝试舍弃所述初步确定舍弃的采样点中的第i个采样点及恢复所述尝试对保留的采样点进行位置更新，令i＝i+1，转入所述步骤S920，获得所有所述初步确定舍弃的采样点单独舍弃后对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，找出误差影响最小的单独舍弃的采样点；若最小误差影响小于等于预设误差阈值，则将所述最小误差影响对应的采样点舍弃，并对保留的采样点进行位置更新，转入所述初步确定舍弃采样点筛选单元；若最小误差影响结果大于预设误差阈值，转入所述贝塞尔积分计算模块。7.根据权利要求6所述集成电路的汉克尔变换滤波器非均匀采样优化装置，其特征在于，所述初步确定舍弃采样点筛选单元包括误差阈值设置子单元、贡献值计算子单元和初步确定舍弃采样点确定子单元；所述误差阈值设置子单元，用于根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，设置所述基于贡献值初步舍弃采样点的保留阈值以及基于误差舍弃采样点的误差阈值；所述贡献值计算子单元，用于根据滤波器系数、滤波器的采样点计算除第一个采样点和最后一个采样点的每个采样点的贡献值；所述初步确定舍弃采样点确定子单元，用于将所有贡献值小于采样点的保留阈值的采样点认定为初步确定舍弃的采样点，形成初步确定舍弃的采样点集合；若所述初步确定舍弃的采样点集合为空集，转入所述贝塞尔积分计算模块，否则转入滤波器系数计算子单元；所述贝塞尔积分误差影响计算单元包括滤波器系数计算子单元、数值解计算子单元和误差影响计算子单元；所述滤波器系数计算子单元，用于尝试舍弃所述初步确定舍弃的采样点集合中的第i个采样点，对第i个采样点周围的采样点进行位置更新，并基于尝试舍弃第i个采样点之后的采样点，计算余下的采样点的滤波系数，得到尝试舍弃第i个采样点之后的采样点的滤波系数；所述数值解计算子单元，用于基于所述滤波系数，计算贝塞尔函数积分，获得所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分的数值解；所述误差影响计算子单元，用于基于采用解析表达式或高精度计算方法计算所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分得出的精确解，计算所述数值解与所述精确解的相对误差，得出误差影响；所述舍点更新单元包括相对误差集合计算子单元、最小相对误差计算子单元和舍点更新子单元；所述相对误差集合计算子单元，用于恢复所述尝试舍弃初步确定舍弃的采样点集合中的第i个采样点及恢复所述尝试对第i个采样点周围的采样点进行位置更新，设置i＝i+1，转入所述滤波器系数计算子单元，获得尝试单独舍弃每个所述初步确定舍弃的采样点之后的相对误差集合；所述最小相对误差计算子单元，用于根据所述相对误差集合的误差大小，求得最小相对误差；所述舍点更新子单元，用于若所述最小相对误差小于等于所述误差阈值，则舍弃所述最小相对误差对应的采样点和滤波系数，并将所述最小相对误差对应的采样点周围的采样点进行位置更新，转入所述贡献值计算子单元；若所述最小相对误差大于所述误差阈值，转入所述贝塞尔积分计算模块。8.根据权利要求7所述集成电路的汉克尔变换滤波器非均匀采样优化装置，其特征在于，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔分别与所述固定采样间隔序列中的其中一个固定采样间隔的偏差最小；若所有所述偏差均小于预设采样间隔偏差阈值，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新；若所述偏差任何一个大于等于预设采样间隔偏差阈值，则第i个采样点不能尝试去除，并不进行位置更新。9.根据权利要求7所述集成电路的汉克尔变换滤波器非均匀采样优化装置，其特征在于，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：将所述固定采样间隔序列中除最小固定采样间隔的每个固定采样间隔均添加相应的偏差，调整为所述固定采样间隔序列中的最小固定采样间隔的整数倍；若所述固定采样间隔序列中的固定采样间隔添加的偏差小于预设固定采样间隔取整偏差，且调整后的固定采样间隔对应的误差值小于采样间隔误差阈值，则将所述偏差对应的固定采样间隔确定为新的固定采样间隔序列；若所述偏差大于等于预设固定采样间隔取整偏差，或调整后的固定采样间隔对应的误差值大于等于采样间隔误差阈值，则将所述偏差对应的固定采样间隔去掉；基于所述新的固定采样间隔序列，若尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔为所述新的固定采样间隔序列中的一个或多个，且满足第i-1个采样点和第i+1个采样点的移动的距离平方和最小，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新。10.根据权利要求6所述集成电路的汉克尔变换滤波器非均匀采样优化装置，其特征在于，所述贡献值计算子单元中贡献值通过下式进行计算：其中，Ci为第i个采样点的贡献值，r为格林函数作用的空间距离，hi为第i个采样点的滤波器系数，由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的贝塞尔函数阶数确定，λi为第i个采样点，g为输入函数，其由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定，G为输出函数，2L-1为滤波器长度。
说明书desc
技术领域本发明涉及集成电路技术领域，具体涉及一种集成电路的汉克尔变换滤波器非均匀采样优化方法及装置。背景技术集成电路工作时其多层版图上由于高速信号的传输，会形成高频交变电磁场，同时，为了提高电子设备的性能，缩小体积，降低成本，将晶体管与其他元器件以及线路都集成在一小块半导体基片上。为了实现更多的功能，超大规模集成电路有数十层到上百层结构，每层结构极其复杂，集成上百万甚至上千万晶体管，且具有多尺度结构，从厘米级到目前最新的纳米级。为了保证集成电路能正常工作并实现事先设计的功能，需要首先保证集成电路的电源完整性和信号完整性，因此需要采用电磁场分析的手段对数十层、上百层的多尺度结构的集成电路的电源完整性和信号完整性进行精准的分析，这是超大规模集成电路电磁场分析的一大难题。基于格林函数计算点电流源在空间任意位置产生的场，基于源产生的场的线性叠加性质，利用高斯积分方法计算面电流源在相同位置产生的场，进而计算集成电路多层复杂形状的金属板上的电流在空间不同位置产生的场。但是在利用格林函数快速计算超大规模集成电路的电磁场问题时，往往会遇到关于贝塞尔函数的积分问题。贝塞尔函数由于高振荡、慢衰减等特性，使得其积分的快速计算、高精度一直成为研究的热点问题。对于贝塞尔函数的积分，最初采用分段积分的方法，即在积分区域进行分段，每段采用数值积分后进行累加。此方法的代价是计算时间大幅度增加。在快速发展的计算物理学中，计算时间是非常重要的，直接决定了计算效率。70年代初，把数字线性滤波器引入到格林函数快速计算中，使得关于贝塞尔函数的积分问题得到更好的解决。线性滤波方法不仅计算方便简单，而且计算速度至少比传统方法计算速度高出一个数量级。一般滤波系数都是通过均匀采样的方式获得的，根据采样定理，确定一个最佳采样间隔，然后基于这个采样间隔选取有限个采样点形成滤波器。但是实际计算中，在不同的积分核函数中采取等间隔的大密度均匀采样在计算时间上不是最合适的，有时候会浪费不必要的计算量以及计算时间。并且由于最终的积分为不同采样点不同权值的累加，不同采样点对所述的贝塞尔积分-汉克尔变换对中的整个积分的贡献是不一样的，有些点的贡献几乎可以忽略不计。舍弃贡献小的采样点的方法是简单直观的根据每个采样点的贡献大小决定采样点是否保留，然后直接基于保留的采样点及其对应的滤波器系数形成新的滤波器，这种方法对大多数贝塞尔函数的计算精度是足够的，且由于均匀采样获得的采样点的贡献中，多半采样点的贡献都小于双精度数据运算情况下的机器分辨精度，因此可以舍弃大部分点，从而在计算精度能保证的情况下有比均匀采样快得多的计算速度。然而，在更复杂的多层超大规模集成电路的计算模型中，舍弃贡献小的采样点的方法开始变得不准确，其原因在于，这个采样点的贡献的计算仅根据某个特定的有解析表达式的贝塞尔积分，然而，实际的多层超大规模集成电路的计算模型中的贝塞尔积分并不完全是这样的贝塞尔积分；进一步分析舍弃贡献小的采样点的方法发现，该方法仅仅是一种不对称的减少滤波器点数的均匀采样的滤波器，这个不对称是根据滤波器采样点的贡献决定的，这对某些贝塞尔积分是适用的，但如果改变了核函数，这个采样点的贡献发生了变化，这种简单的舍弃将会失效，因为其本质是减少了滤波器的总采样时间，对于衰减慢的贝塞尔积分，简单的舍弃将导致大的截断误差，此外，该方法仅简单的将每个点对应的卷积的项与总的卷积进行比较并将它作为该点的贡献，并不是严格更新去除该点后该点的后一采样点的采样时间，进而重新计算去除该点后的滤波器并计算贝塞尔积分，再与去除该点前的贝塞尔积分进行对比。实际上，严格比较去除采样点之前与之后贝塞尔积分的差异，将其作为该采样点对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分的贡献比之前的评判更为准确，因此，仅仅根据采样点的贡献就决定采样点是否保留不能非常精确的处理更复杂的多层超大规模集成电路的计算模型，对于有精确计算的需求的计算模型，还需要更精确的计算方法。发明内容针对上述现有技术的不足，本发明旨在提供一种集成电路的汉克尔变换滤波器非均匀采样优化方法及装置，以更精准分析采样点，并对舍弃采样点过后的采样点进行均匀化处理，以便快速准确的得出电磁场的分析情况。为了解决上述问题，本发明采用了如下的技术方案：第一方面，本发明提供一种集成电路的汉克尔变换滤波器非均匀采样优化方法，包括：S100、基于计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数，获取所述并矢格林函数包含的所有贝塞尔积分，由此确定并矢格林函数中所用的贝塞尔函数的阶数；所述贝塞尔积分为包含贝塞尔函数的被积函数的无穷积分；S200、根据积分核函数与贝塞尔函数乘积形成的被积函数，对贝塞尔积分进行汉克尔变换；所述积分核函数是由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定的，所述源点到场点之间的距离为集成电路覆铜区域上连续电流离散的点电流源形成的源点到作用于其他层的场点之间的距离；S300、以采样间隔为变量，基于均匀采样点的汉克尔变换方法计算贝塞尔积分的数值解与贝塞尔积分的准确解的误差，获得采样间隔与计算的贝塞尔积分的误差的关系曲线，基于所述关系曲线获得一系列误差局部最小的采样间隔，作为固定采样间隔序列；S400、以所述固定采样间隔序列中的最小的固定采样间隔为采样间隔，通过均匀采样对所述汉克尔变换进行离散化，得到无限长度滤波器的表达式；S500、根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，在预设的精度控制范围内对无限长度滤波器进行截断，得到有限长度滤波器的表达式，根据所述有限长度滤波器的表达式，得到有限长度滤波器的方程组；S600、采用已知的贝塞尔积分解析表达式构造贝塞尔积分-汉克尔变换对，或是针对实际无法解析的贝塞尔积分，采用适用于集成电路的典型参数构造最接近实际核函数的贝塞尔积分，形成贝塞尔积分-汉克尔变换对，并高精度计算所述贝塞尔积分-汉克尔变换对中的贝塞尔积分；S700、基于构造的贝塞尔积分-汉克尔变换对，代入所述有限长度滤波器的表达式，获得滤波器方程组对应的滤波器系数矩阵方程，并对所述滤波器系数矩阵方程改进；S800、对改进后的滤波器系数矩阵方程进行求解，得到滤波器系数；S900、对于以所述最小的固定采样间隔为采样间隔通过均匀采样获得的采样点，通过采样点的贡献值的大小筛选初步确定舍弃的采样点，并根据所述初步确定舍弃的采样点的舍弃对所述贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，判定采样点是否舍弃；包括：S910、通过计算除第一个采样点和最后一个采样点的每个采样点的贡献值，将贡献值小于预留阈值所对应的采样点确定为初步确定舍弃的采样点；若不存在所述初步确定舍弃的采样点，则转入步骤S1000；S920、基于当前采样间隔与所述固定采样间隔序列中的采样间隔的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对保留的采样点进行位置更新，形成非均匀采样点，计算所述初步确定舍弃的采样点中的第i个采样点的舍弃对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响；S930、恢复所述尝试舍弃所述初步确定舍弃的采样点中的第i个采样点及恢复所述尝试对保留的采样点进行位置更新，令i＝i+1，转入所述步骤S920，获得所有所述初步确定舍弃的采样点单独舍弃后对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，找出误差影响最小的单独舍弃的采样点；若最小误差影响小于等于预设误差阈值，则将所述最小误差影响对应的采样点舍弃，并对保留的采样点进行位置更新，转入步骤S910；若最小误差影响结果大于预设误差阈值，转入步骤S1000；S1000、基于保留采样点和对应的滤波器系数以及积分核函数，计算相应的贝塞尔积分。作为一种可实施方式，所述S900具体为：S911、根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，设置所述基于贡献值初步舍弃采样点的保留阈值以及基于误差舍弃采样点的误差阈值；S912、根据滤波器系数、滤波器的采样点计算除第一个采样点和最后一个采样点的每个采样点的贡献值；S913、将所有贡献值小于采样点的保留阈值的采样点认定为初步确定舍弃的采样点，形成初步确定舍弃的采样点集合；若所述初步确定舍弃的采样点集合为空集，转入步骤S1000，否则转入步骤S921；S921，尝试舍弃所述初步确定舍弃的采样点集合中的第i个采样点，对第i个采样点周围的采样点进行位置更新，并基于尝试舍弃第i个采样点之后的采样点，计算余下的采样点的滤波系数，得到尝试舍弃第i个采样点之后的采样点的滤波系数；S922，基于所述滤波系数，计算贝塞尔函数积分，获得所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分的数值解；S923，基于采用解析表达式或高精度计算方法计算所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分得出的精确解，计算所述数值解与所述精确解的相对误差，得出误差影响；S931、恢复所述尝试舍弃初步确定舍弃的采样点集合中的第i个采样点及恢复所述尝试对第i个采样点周围的采样点进行位置更新，设置i＝i+1，转入所述S921，获得尝试单独舍弃每个所述初步确定舍弃的采样点之后的相对误差集合；S932、根据所述相对误差集合的误差大小，求得最小相对误差；S933、若所述最小相对误差小于等于所述误差阈值，则舍弃所述最小相对误差对应的采样点和滤波系数，并将所述最小相对误差对应的采样点周围的采样点进行位置更新，转入S912；若所述最小相对误差大于所述误差阈值，转入步骤S1000。作为一种可实施方式，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔分别与所述固定采样间隔序列中的其中一个固定采样间隔的偏差最小；若所有所述偏差均小于预设采样间隔偏差阈值，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新；若所述偏差任何一个大于等于预设采样间隔偏差阈值，则第i个采样点不能尝试去除，并不进行位置更新。作为一种可实施方式，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：将所述固定采样间隔序列中除最小固定采样间隔的每个固定采样间隔均添加相应的偏差，调整为所述固定采样间隔序列中的最小固定采样间隔的整数倍；若所述固定采样间隔序列中的固定采样间隔添加的偏差小于预设固定采样间隔取整偏差，且调整后的固定采样间隔对应的误差值小于采样间隔误差阈值，则将所述偏差对应的固定采样间隔确定为新的固定采样间隔序列；若所述偏差大于等于预设固定采样间隔取整偏差，或调整后的固定采样间隔对应的误差值大于等于采样间隔误差阈值，则将所述偏差对应的固定采样间隔去掉；基于所述新的固定采样间隔序列，若尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔为所述新的固定采样间隔序列中的一个或多个，且满足第i-1个采样点和第i+1个采样点的移动的距离平方和最小，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新。作为一种可实施方式，所述贡献值通过下式进行计算：其中，Ci为第i个采样点的贡献值，r为格林函数作用的空间距离，hi为第i个采样点的滤波器系数，由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的贝塞尔函数阶数确定，λi为第i个采样点，g为输入函数，其由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定，G为输出函数，2L-1为滤波器长度。另一方面，本发明提供一种集成电路的汉克尔变换滤波器非均匀采样优化装置，包括：贝塞尔积分获取模块、汉克尔变换模块、固定采样间隔序列筛选模块、无限滤波器模块、有限滤波器模块、变换对构造模块、矩阵方程改进模块、滤波器系数计算模块、采样点舍弃模块和贝塞尔积分计算模块；所述贝塞尔积分获取模块，用于基于计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数，获取所述并矢格林函数包含的所有贝塞尔积分，由此确定并矢格林函数中所用的贝塞尔函数的阶数；所述贝塞尔积分为包含贝塞尔函数的被积函数的无穷积分；所述汉克尔变换模块，用于根据积分核函数与贝塞尔函数乘积形成的被积函数，对贝塞尔积分进行汉克尔变换；所述积分核函数是由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定的，所述源点到场点之间的距离为集成电路覆铜区域上连续电流离散的点电流源形成的源点到作用于其他层的场点之间的距离；所述固定采样间隔序列筛选模块，用于以采样间隔为变量，基于均匀采样点的汉克尔变换方法计算贝塞尔积分的数值解与贝塞尔积分的准确解的误差，获得采样间隔与计算的贝塞尔积分的误差的关系曲线，基于所述关系曲线获得一系列误差局部最小的采样间隔，作为固定采样间隔序列；所述无限滤波器表达模块，用于以所述固定采样间隔序列中的最小的固定采样间隔为采样间隔，通过均匀采样对所述汉克尔变换进行离散化，得到无限长度滤波器的表达式；所述有限滤波器表达模块，用于根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，在预设的精度控制范围内对无限长度滤波器进行截断，得到有限长度滤波器的表达式，根据所述有限长度滤波器的表达式，得到有限长度滤波器的方程组；所述变换对构造模块，用于采用已知的贝塞尔积分解析表达式构造贝塞尔积分-汉克尔变换对，或是针对实际无法解析的贝塞尔积分，采用适用于集成电路的典型参数构造最接近实际核函数的贝塞尔积分，形成贝塞尔积分-汉克尔变换对，并高精度计算所述贝塞尔积分-汉克尔变换对中的贝塞尔积分；所述矩阵方程改进模块，用于基于构造的贝塞尔积分-汉克尔变换对，代入所述有限长度滤波器的表达式，获得滤波器方程组对应的滤波器系数矩阵方程，并对所述滤波器系数矩阵方程改进；所述滤波器系数计算模块，用于对改进后的滤波器系数矩阵方程进行求解，得到滤波器系数；所述采样点舍弃模块，用于对于以所述最小的固定采样间隔为采样间隔通过均匀采样获得的采样点，通过采样点的贡献值的大小筛选初步确定舍弃的采样点，并根据所述初步确定舍弃的采样点的舍弃对所述贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，判定采样点是否舍弃；所述贝塞尔积分计算模块，用于基于保留采样点和对应的滤波器系数以及积分核函数，计算相应的贝塞尔积分；所述采样点舍弃模块包括初步确定舍弃采样点筛选单元、贝塞尔积分误差影响计算单元和舍点更新单元；所述初步确定舍弃采样点筛选单元，用于通过计算除第一个采样点和最后一个采样点的每个采样点的贡献值，将贡献值小于预留阈值所对应的采样点确定为初步确定舍弃的采样点；若不存在所述初步确定舍弃的采样点，则转入所述贝塞尔积分计算模块；所述贝塞尔积分误差影响计算单元，用于基于当前采样间隔与所述固定采样间隔序列中的采样间隔的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对保留的采样点进行位置更新，形成非均匀采样点，计算所述初步确定舍弃的采样点中的第i个采样点的舍弃对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响；所述舍点更新单元，用于恢复所述尝试舍弃所述初步确定舍弃的采样点中的第i个采样点及恢复所述尝试对保留的采样点进行位置更新，令i＝i+1，转入所述步骤S920，获得所有所述初步确定舍弃的采样点单独舍弃后对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，找出误差影响最小的单独舍弃的采样点；若最小误差影响小于等于预设误差阈值，则将所述最小误差影响对应的采样点舍弃，并对保留的采样点进行位置更新，转入所述初步确定舍弃采样点筛选单元；若最小误差影响结果大于预设误差阈值，转入所述贝塞尔积分计算模块。作为一种可实施方式，所述初步确定舍弃采样点筛选单元包括误差阈值设置子单元、贡献值计算子单元和初步确定舍弃采样点确定子单元；所述误差阈值设置子单元，用于根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，设置所述基于贡献值初步舍弃采样点的保留阈值以及基于误差舍弃采样点的误差阈值；所述贡献值计算子单元，用于根据滤波器系数、滤波器的采样点计算除第一个采样点和最后一个采样点的每个采样点的贡献值；所述初步确定舍弃采样点确定子单元，用于将所有贡献值小于采样点的保留阈值的采样点认定为初步确定舍弃的采样点，形成初步确定舍弃的采样点集合；若所述初步确定舍弃的采样点集合为空集，转入所述贝塞尔积分计算模块，否则转入滤波器系数计算子单元；所述贝塞尔积分误差影响计算单元包括滤波器系数计算子单元、数值解计算子单元和误差影响计算子单元；所述滤波器系数计算子单元，用于尝试舍弃所述初步确定舍弃的采样点集合中的第i个采样点，对第i个采样点周围的采样点进行位置更新，并基于尝试舍弃第i个采样点之后的采样点，计算余下的采样点的滤波系数，得到尝试舍弃第i个采样点之后的采样点的滤波系数；所述数值解计算子单元，用于基于所述滤波系数，计算贝塞尔函数积分，获得所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分的数值解；所述误差影响计算子单元，用于基于采用解析表达式或高精度计算方法计算所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分得出的精确解，计算所述数值解与所述精确解的相对误差，得出误差影响；所述舍点更新单元包括相对误差集合计算子单元、最小相对误差计算子单元和舍点更新子单元；所述相对误差集合计算子单元，用于恢复所述尝试舍弃初步确定舍弃的采样点集合中的第i个采样点及恢复所述尝试对第i个采样点周围的采样点进行位置更新，设置i＝i+1，转入所述滤波器系数计算子单元，获得尝试单独舍弃每个所述初步确定舍弃的采样点之后的相对误差集合；所述最小相对误差计算子单元，用于根据所述相对误差集合的误差大小，求得最小相对误差；所述舍点更新子单元，用于若所述最小相对误差小于等于所述误差阈值，则舍弃所述最小相对误差对应的采样点和滤波系数，并将所述最小相对误差对应的采样点周围的采样点进行位置更新，转入所述贡献值计算子单元；若所述最小相对误差大于所述误差阈值，转入所述贝塞尔积分计算模块。作为一种可实施方式，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔分别与所述固定采样间隔序列中的其中一个固定采样间隔的偏差最小；若所有所述偏差均小于预设采样间隔偏差阈值，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新；若所述偏差任何一个大于等于预设采样间隔偏差阈值，则第i个采样点不能尝试去除，并不进行位置更新。作为一种可实施方式，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：将所述固定采样间隔序列中除最小固定采样间隔的每个固定采样间隔均添加相应的偏差，调整为所述固定采样间隔序列中的最小固定采样间隔的整数倍；若所述固定采样间隔序列中的固定采样间隔添加的偏差小于预设固定采样间隔取整偏差，且调整后的固定采样间隔对应的误差值小于采样间隔误差阈值，则将所述偏差对应的固定采样间隔确定为新的固定采样间隔序列；若所述偏差大于等于预设固定采样间隔取整偏差，或调整后的固定采样间隔对应的误差值大于等于采样间隔误差阈值，则将所述偏差对应的固定采样间隔去掉；基于所述新的固定采样间隔序列，若尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔为所述新的固定采样间隔序列中的一个或多个，且满足第i-1个采样点和第i+1个采样点的移动的距离平方和最小，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新。作为一种可实施方式，所述贡献值计算子单元中贡献值通过下式进行计算：其中，Ci为第i个采样点的贡献值，r为格林函数作用的空间距离，hi为第i个采样点的滤波器系数，由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的贝塞尔函数阶数确定，λi为第i个采样点，g为输入函数，其由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定，G为输出函数，2L-1为滤波器长度。本发明的有益效果在于：本发明提出的快速汉克尔变换的非均匀采样法，在保证总的采样时间的前提下，严格计算每个采样点的舍弃对所述的贝塞尔积分-汉克尔变换对中的整个积分计算的误差影响，且在尝试舍弃每个采样点时，重新更新该采样点附近的采样点的采样时间，基于更新的采样时间重新建立滤波器系数的求解矩阵，形成一套新的滤波器系数，基于这个新的滤波器系数计算贝塞尔积分，并将这个计算的积分与解析解进行对比，通过误差决定改采样点是否舍弃。与简单舍弃贡献小的采样点的方法相比，本方法不改变总的采样时间，且对舍弃点的评估更为准确，因此本方法是一种完整的非均匀采样的方法，将适用于更复杂的模型。附图说明为了使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明作进一步的详细描述，其中：图1为本发明集成电路的汉克尔变换滤波器非均匀采样优化方法流程示意图；图2为本发明实施例固定采样间隔示意图；图3为本发明实施例步骤S900具体流程示意图；图4为本发明集成电路的汉克尔变换滤波器非均匀采样优化装置示意图。具体实施方式下面结合具体实施例对本发明作进一步的详细说明。需要说明的是，这些实施例仅用于说明本发明，而不是对本发明的限制，在本发明的构思前提下本方法的简单改进，都属于本发明要求保护的范围。参见图1，为一种集成电路的汉克尔变换滤波器非均匀采样优化方法，包括：S100、基于计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数，获取并矢格林函数包含的所有贝塞尔积分，由此确定并矢格林函数中所用的贝塞尔函数的阶数；贝塞尔积分为包含贝塞尔函数的被积函数的无穷积分；S200、根据积分核函数与贝塞尔函数乘积形成的被积函数，对贝塞尔积分进行汉克尔变换；积分核函数是由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定的，源点到场点之间的距离为集成电路覆铜区域上连续电流离散的点电流源形成的源点到作用于其他层的场点之间的距离；S300、以采样间隔为变量，基于均匀采样点的汉克尔变换方法计算贝塞尔积分的数值解与贝塞尔积分的准确解的误差，获得采样间隔与计算的贝塞尔积分的误差的关系曲线，基于关系曲线获得一系列误差局部最小的采样间隔，作为固定采样间隔序列；S400、以固定采样间隔序列中的最小的固定采样间隔为采样间隔，通过均匀采样对汉克尔变换进行离散化，得到无限长度滤波器的表达式；S500、根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，在预设的精度控制范围内对无限长度滤波器进行截断，得到有限长度滤波器的表达式，根据有限长度滤波器的表达式，得到有限长度滤波器的方程组；S600、采用已知的贝塞尔积分解析表达式构造贝塞尔积分-汉克尔变换对，或是针对实际无法解析的贝塞尔积分，采用适用于集成电路的典型参数构造最接近实际核函数的贝塞尔积分，形成贝塞尔积分-汉克尔变换对，并高精度计算贝塞尔积分-汉克尔变换对中的贝塞尔积分；S700、基于构造的贝塞尔积分-汉克尔变换对，代入有限长度滤波器的表达式，获得滤波器方程组对应的滤波器系数矩阵方程，并对滤波器系数矩阵方程改进；S800、对改进后的滤波器系数矩阵方程进行求解，得到滤波器系数；S900、对于以最小的固定采样间隔为采样间隔通过均匀采样获得的采样点，通过采样点的贡献值的大小筛选初步确定舍弃的采样点，并根据初步确定舍弃的采样点的舍弃对贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，判定采样点是否舍弃；包括：S910、通过计算除第一个采样点和最后一个采样点的每个采样点的贡献值，将贡献值小于预留阈值所对应的采样点确定为初步确定舍弃的采样点；若不存在初步确定舍弃的采样点，则转入步骤S1000；S920、基于当前采样间隔与固定采样间隔序列中的采样间隔的关系，尝试舍弃初步确定舍弃的采样点中的第i个采样点，并尝试对保留的采样点进行位置更新，形成非均匀采样点，计算初步确定舍弃的采样点中的第i个采样点的舍弃对贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响；S930、恢复尝试舍弃初步确定舍弃的采样点中的第i个采样点及恢复尝试对保留的采样点进行位置更新，令i＝i+1，转入步骤S920，获得所有初步确定舍弃的采样点单独舍弃后对贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，找出误差影响最小的单独舍弃的采样点；若最小误差影响小于等于预设误差阈值，则将最小误差影响对应的采样点舍弃，并对保留的采样点进行位置更新，转入步骤S910；若最小误差影响结果大于预设误差阈值，转入步骤S1000；S1000、基于保留采样点和对应的滤波器系数以及积分核函数，计算相应的贝塞尔积分。作为一种可实施方式，步骤S100，基于计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数，获取并矢格林函数包含的所有贝塞尔积分，由此确定并矢格林函数中所用的贝塞尔函数的阶数；贝塞尔积分为包含贝塞尔函数的被积函数的无穷积分；具体过程如下：基于计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数，获取并矢格林函数包含的所有贝塞尔积分：由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的所有贝塞尔积分，其一般具有以下形式：其中，G为待积分的格林函数，r为格林函数作用的空间距离，为当前计算的集成电路的源点与场点的距离；g为根据当前计算的集成电路的源点与场点及集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、集成电路覆铜区域上点电流源点到作用的其他层的场点的距离确定的积分核函数，Jv为v阶计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数中所用的贝塞尔函数，v为贝塞尔函数的阶数，λ为积分变量。具体的，设整个集成电路共有n层，各层编号为l＝0，1，2，…，n-1，源在第j层，各层电磁参数为μl，εv，l，εh，l，层厚tl＝zl-zl-1，则位于的点电流源对位于的场点形成的场可用如下格林函数表示：其中，并矢格林函数的九个元素分别为其计算的先后顺序并不影响最终的计算结果。并矢格林函数的九个元素，其包含了六个贝塞尔积分R1～R6，具体获取过程参考专利CN112989750B。如果计算出R1～R6，即可计算出整个并矢格林函数的九个分量等，而计算R1～R6的关键在于计算其中的包含集成电路信息的贝塞尔积分，其中的集成电路信息包括：集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、集成电路覆铜区域上点电流源到作用的其他层的场点的距离。例如，R1中，由集成电路信息确定的被积函数的核函数和贝塞尔函数的阶数为：贝塞尔积分为包含贝塞尔函数的被积函数的无穷积分；由贝塞尔函数的无穷积分R1～R6的表达式可以看出，其贝塞尔函数的阶数已经明确的表示在其表达式中，其中，R1，R4，R5需要计算1阶贝塞尔积分，R2，R3，R6需要计算0阶贝塞尔积分。针对步骤S200、根据积分核函数与贝塞尔函数乘积形成的被积函数，对贝塞尔积分进行汉克尔变换；积分核函数是由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定的，源点到场点之间的距离为集成电路覆铜区域上连续电流离散的点电流源形成的源点到作用于其他层的场点之间的距离；本实施例的汉克尔变换如下：对公式中的变量r和λ作指数变换：r＝ex，λ＝e-y 其中，x、y为指数变换的新变量。由于当前计算的集成电路的源点与场点的空间距离和积分变量均大于0，因此指数变换后的变量x，y的范围均为-∞到+∞。将公式代入公式得到贝塞尔积分变换式：公式重写为：针对步骤S300：以采样间隔为变量，基于均匀采样点的汉克尔变换方法计算贝塞尔积分的数值解与贝塞尔积分的准确解的误差，获得采样间隔与计算的贝塞尔积分的误差的关系曲线，基于关系曲线获得一系列误差局部最小的采样间隔，作为固定采样间隔序列；参见图2，在以不同采样间隔为变量研究均匀采样点计算的误差发现，针对经典的贝塞尔积分，均匀采样点的采样间隔为0.05时误差最小，初次之外，还存在如图中黑点处，误差次之；即组成为固定采样间隔序列。若所有非均匀采样点的采样间隔都落在上述固定采样间隔序列中的位置，那么基于这个非均匀采样设计的快速汉克尔变换将具有更高的计算精度。针对步骤S400：以固定采样间隔序列中的最小的固定采样间隔为采样间隔，通过均匀采样对汉克尔变换进行离散化，得到无限长度滤波器的表达式；具体过程如下：使用卷积对公式进行离散化并令x＝sn,y＝sm，即用离散的集成电路的源点与场点的空间距离和离散的积分变量代替原来连续的空间距离和积分变量，得到：其中，s为采样间隔；m、n为离散序列序号，Jv为v阶贝塞尔函数。为方便书写，对公式中的项作如下标记：则公式简化为如下公式，得到无限长度滤波器表达式：其中，g为输入函数，其由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定，h为滤波器函数，由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的贝塞尔函数阶数确定，G为输出函数，即为最终计算的贝塞尔积分。作为一种可实施方式，步骤S500，根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，在预设的精度控制范围内对无限长度滤波器进行截断，得到有限长度滤波器的表达式，根据有限长度滤波器的表达式，得到有限长度滤波器的方程组；理想滤波器的长度为无限长，注意到由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定的积分核函数为指数衰减函数，而由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的贝塞尔函数为振荡衰减函数，在精度控制范围内，可设置有限长的滤波器，使得输出函数的精度达到预先指定的精度要求。设滤波器长度为2L+1，则公式变为：从公式可知，对于输出函数G的每个值，都可以找到输入函数g的2L+1个值，从而获得1个方程组。要求解这个滤波器系数，即为了解决核函数的响应问题，需要列写有关滤波器系数h的2L+1个方程组；如果选择有解析解的函数对，则输入函数g和输出函数G是已知的，则可以建立有关g、G和h的方程组，从而对滤波器系数h进行求解。然而并不是所有任何时候都能够找到解析解的，当不能够找到解析解的时候，采用此方法将会得到不准确的贝塞尔函数积分，或者甚至是错误的贝塞尔函数积分，故本申请采用采用改进的自适应分段积分方法获得有限长度滤波器的输出，即获得公式的右端项，如下公式所示：根据有限长度滤波器的表达式，得到有限长度滤波器的方程组，即通过公式得到有限长度滤波器的方程组：再具体应用中，需要获取解析表达式，才能够根据已知解析表达式的汉克尔变换对，对改进后的滤波器系数矩阵方程进行正确求解，得到滤波器系数向量h，最后根据滤波器系数以及滤波器的采样点，求解贝塞尔函数积分。贝塞尔函数积分的正确求解关系到电磁场是否能够分析正确，是电磁场正确分析的基础。然而通常在分析多层复杂集成电路覆铜区域上连续电流离散的点电流源形成的源点到作用于其他层的场点的电磁场时，对于大多数的贝塞尔积分，我们无法获取到积分的解析表达式，本申请采用改进的自适应分段积分方法依据设定误差阈值精准获得作为共性函数的含贝塞尔函数的积分。作为一种可实施方式，步骤S600：采用已知的贝塞尔积分解析表达式构造贝塞尔积分-汉克尔变换对，或是针对实际无法解析的贝塞尔积分，采用适用于集成电路的典型参数构造最接近实际核函数的贝塞尔积分，形成贝塞尔积分-汉克尔变换对，并高精度计算贝塞尔积分-汉克尔变换对中的贝塞尔积分；具体包括：S610，采用已知的贝塞尔积分解析表达式构造相应的贝塞尔积分-汉克尔变换对：根据并矢格林函数中所要计算积分的贝塞尔函数的类别和阶数，找到能给出积分的解析表达式的贝塞尔积分，构造出指定的贝塞尔积分的类别和阶数的贝塞尔积分-汉克尔变换对；输入输出函数的选择对滤波器系数的计算精度起着至关重要的作用，h本质上是线性滤波器系数的向量，可以预先根据积分核函数和贝塞尔函数的阶数确定，并随后应用于计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场。本申请构造出指定的贝塞尔积分的类别和阶数的贝塞尔积分-汉克尔变换对如下：其中，a,b为常数，这个常数越接近集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率确定的数值，利用这个变换对计算出的滤波器系数进行汉克尔变换计算的贝塞尔积分越准确。S620，针对实际无法解析的贝塞尔积分，采用适用于集成电路的典型参数构造最接近实际核函数的贝塞尔积分，形成贝塞尔积分-汉克尔变换对；包括：对汉克尔变换滤波器的被积函数对应的贝塞尔积分采用改进的自适应分段积分方法获得有限长度滤波器的输出，具体实现过程如下：步骤S621.1：提取出汉克尔变换滤波器的被积函数的贝塞尔函数，采用迭代法计算贝塞尔函数的零点；并根据积分核函数与贝塞尔函数乘积形成的被积函数的收敛速度，确定零点的范围或个数；采用迭代法计算贝塞尔函数的零点，即确定贝塞尔函数的零点a是贝塞尔函数值为0的解，即Jv＝0的解，通过以下Halley算法计算得出：步骤S621.1，设置p＝1；步骤S621.2，设定第p个零点的初始猜测值步骤S621.3，通过以下迭代公式计算附近的贝塞尔函数Jv的第p个零点：迭代终止条件：其中δ为预先定义的阈值。其中，J′v表示贝塞尔函数Jv的一阶导数，J″v表示贝塞尔函数Jv的二阶导数，v为贝塞尔函数的阶数；q表示第q轮迭代，q＝0时的值为初始猜测值。步骤S621.4，如果计算的零点达到指定的区间范围，则完成零点计算；否则，使p＝p+1,并转入步骤S6.1.2。根据贝塞尔函数的零点，能够确定基于贝塞尔函数的零点获得的形成积分区间的分段点为其中，r′为格林函数作用的空间距离，积分区间相当于积分变量的取值范围。步骤S622：针对积分核函数与贝塞尔函数乘积形成的被积函数进行自适应积分，设置积分子区间为m＝1；步骤S623：根据积分核函数与贝塞尔函数乘积形成的被积函数以及零点，自适应对贝塞尔积分的第m个子区间进行分割，对第m个子区间分割后的下一级子区间进行贝塞尔积分并累加，得到第m个子区间分割后的累加积分结果，并将累加积分结果累加到整个区间的贝塞尔积分；步骤S624：判断贝塞尔积分的第m个子区间分割后的累加积分结果是否小于第一阈值；如果贝塞尔积分的第m个子区间分割后的累加积分结果小于第一阈值，此时整个积分子区间的贝塞尔积分为自适应分段方法计算的汉克尔变换滤波器的被积函数对应的贝塞尔积分的最后积分结果，转入步骤S625；否则m＝m+1，转入步骤S623；步骤S625：基于上述汉克尔变换滤波器的被积函数对应的贝塞尔积分，得到有限长度滤波器的输出。自适应对贝塞尔积分第m个子区间进行分割，对第m个子区间分割后的下一级子区间进行贝塞尔积分并累加，得到第m个子区间分割后的累加积分结果，包括如下步骤：步骤S623.1：设置分割的次数j，未分割之前j等于零；步骤S623.2：设置j＝j+1，计算分割次数为j时的分割点包括起始点与终止点；步骤S623.3：利用分割点将第m个子区间的积分分为j+1个下一级子区间积分的累加；步骤S623.4：针对每个下一级子区间积分采用高斯积分法计算每个下一级子区间积分值并累加，作为第m个子区间的积分步骤S623.5：比较分割的次数为j时第m个子区间的积分与前一次分割时第m个子区间的积分步骤S623.6：如果满足小于第二阈值，则分割结束，得到第m个子区间分割后积分结果，即否则转入步骤S623.2。计算分割次数为j时的分割点公式如下：其中，d为第d个下一级子区间，λm为第m个子区间的分段积分变量。利用分割点将第m个子区间的积分分为j+1个下一级子区间积分的累加，公式如下：其中，g为根据当前计算的集成电路的源点与场点及集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、集成电路的源点到场点的距离确定的积分核函数，λ为积分变量；Jv为计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数中所用的v阶贝塞尔函数，v为贝塞尔函数的阶数，为分割次数为j的第m个子区间第d个下一级子区间的待积分格林函数，r为当前计算的集成电路的源点与场点的空间距离。采用高斯积分法计算每个下一级子区间积分值，公式如下：其中，r为格林函数作用的空间距离，为当前计算的集成电路的源点与场点的距离，K是高斯积分点总数；D为每个下一级子区间变换到标准高斯积分区间的雅可比变换，D-1为D的逆变换；xk是第k个高斯点，wk是第k个高斯点对应的权重；g)为函数g在λ取值为D时的值，g为根据当前计算的集成电路的源点与场点及集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、集成电路的源点到场点的距离确定的积分核函数，λ为积分变量；Jv为计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数中所用的v阶贝塞尔函数，v为贝塞尔函数的阶数。S620，针对实际无法解析的贝塞尔积分，采用适用于集成电路的典型参数构造最接近实际核函数的贝塞尔积分，形成贝塞尔积分-汉克尔变换对；还包括：对汉克尔变换滤波器的被积函数对应的贝塞尔积分采用改进的自适应分段积分方法获得有限长度滤波器的输出，具体实现过程如下：根据有限长度滤波器的输出，构造出针对并矢格林函数不同分量对应的贝塞尔积分-汉克尔变换对，举例如下：如针对集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数的9个分量对应的一个贝塞尔函数的无穷积分R1，其被积函数的核函数为：其贝塞尔函数为依据前面的方法，获得被积函数的核函数与贝塞尔函数的乘积形成的被积函数的共性函数，将被积函数的核函数g、贝塞尔函数以及通过自适应分段积分方法计算出的由共性函数表达的贝塞尔无穷积分的积分结果G代入公式即形成了针对集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数的9个分量对应的一个贝塞尔函数的无穷积分R1对应的贝塞尔积分-汉克尔变换对。针对步骤S700：基于构造的贝塞尔积分-汉克尔变换对，代入有限长度滤波器的表达式，获得滤波器方程组对应的滤波器系数矩阵方程，并对滤波器系数矩阵方程改进；具体实施步骤如下：步骤S701：基于构造的贝塞尔积分-汉克尔变换对，代入有限长度滤波器的表达式：对于式所示的贝塞尔函数J0的贝塞尔积分-汉克尔变换对，有:对于式所示的贝塞尔函数J1的贝塞尔积分-汉克尔变换对，有:针对采用已知的贝塞尔积分解析表达式构造相应的贝塞尔积分-汉克尔变换对的情形，以上式和式采用步骤S610计算；针对实际无法解析的贝塞尔积分，以上式和式采用步骤S620计算。步骤S702：获得滤波器方程组对应的滤波器系数矩阵方程；本实施例中分别将公式、代入公式，即可求解矩阵方程可得到h0；将公式、代入公式，即可求解矩阵方程可得到h1，从而得到对应的贝塞尔函数J0和J1的滤波系数。步骤S703：对滤波器系数矩阵方程改进；本实施例实际计算中发现步骤S702：获得滤波器方程组对应的滤波器系数矩阵方程严重病态，造成滤波器系数求解不正确。例如设计的滤波器长度为201，形成的矩阵大小为2L+1＝201，其中L表示有限长度滤波器的取值范围，即有限长度滤波器的取值范围为，其条件数达到1030～10100的量级，之所以造成这一现象的原因是，在公式与公式中，a为一定值，滤波器长度为2L+1；由于中每行或每列的元素是当n、m中其中一个不变时，另一个在中变化，如果采样间距s很小，或者L很大时，则矩阵中相邻行或列的对应元素相差不大，即矩阵g中的相邻行或列元素具有高度的重复性，在计算机的识别精度内，其矩阵对应的行列式接近零，矩阵接近奇异，直接求解这个矩阵会导致求解的滤波器系数不正确。而改进后的公式经计算在精度范围内，能显著改善滤波器系数矩阵的条件数，使得改进后的矩阵方程得以正确求解。具体推导过程如下：步骤S703.1：根据有限长度滤波器的方程组，建立滤波器矩阵方程；将原方程组写成矩阵形式：gh＝G 其中，g为输入函数的矩阵表示，其由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定，h为滤波器系数的矩阵表示，由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的贝塞尔函数阶数确定，G为输出函数的矩阵表示，即为选择的具有解析表达式的贝塞尔积分在对应的每个n下的解析值；步骤S703.2：将滤波器矩阵方程两边同加一个列向量δh；本实施例计算如下：gh+δh＝G+δh 步骤S703.3：δ取一个足够小的值，使得列向量的模与输出向量的模之间的比值小于等于第三阈值；公式中||·||表示向量的模，TH3表示第三阈值，如可设置δ为机器精度10-16使得列向量的模与输出向量的模之间的比值小于等于第三阈值。步骤S703.4：忽略滤波器矩阵方程中输出端的列向量δh，得到改进后的滤波器系数矩阵方程。因为δ取值足够小，与G相比，δh可以忽略不计，于是公式可简化为：h＝G δ为足够小的常数，I为单位矩阵。公式所示的方程的矩阵由g变为了g+δI，具体表现在矩阵g的每个对角元都增加了微量，但其结果却使得矩阵g的条件数大为降低，这是因为，由矩阵条件数与矩阵特征值的关系可知：公式中与分别表示矩阵g的特征值的最大值与最小值，cond表示矩阵g的条件数。由矩阵特征值的定义：gx＝Λx 则矩阵g+δI满足：x＝x 由此可见，矩阵g+δI的特征值变为Λ+δ，从而矩阵g+δI的条件数为：显然，小量δ对几乎没有影响，但对的影响巨大，例如，在cond达到10100时，达10-100的量级，如果设置δ为机器精度，如10-16，则可使得cond改善到1016的量级，显著改善了滤波器系数矩阵的条件数，使得改进后的矩阵方程得以正确求解。作为一种可实施方式，步骤S900：对于以最小的固定采样间隔为采样间隔通过均匀采样获得的采样点，通过采样点的贡献值的大小筛选初步确定舍弃的采样点，并根据初步确定舍弃的采样点的舍弃对贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，判定采样点是否舍弃；包括：S910、通过计算除第一个采样点和最后一个采样点的每个采样点的贡献值，将贡献值小于预留阈值所对应的采样点确定为初步确定舍弃的采样点；若不存在初步确定舍弃的采样点，则转入步骤S1000；S920、基于当前采样间隔与固定采样间隔序列中的采样间隔的关系，尝试舍弃初步确定舍弃的采样点中的第i个采样点，并尝试对保留的采样点进行位置更新，形成非均匀采样点，计算初步确定舍弃的采样点中的第i个采样点的舍弃对贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响；S930、恢复尝试舍弃初步确定舍弃的采样点中的第i个采样点及恢复尝试对保留的采样点进行位置更新，令i＝i+1，转入步骤S920，获得所有初步确定舍弃的采样点单独舍弃后对贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，找出误差影响最小的单独舍弃的采样点；若最小误差影响小于等于预设误差阈值，则将最小误差影响对应的采样点舍弃，并对保留的采样点进行位置更新，转入步骤S910；若最小误差影响结果大于预设误差阈值，转入步骤S1000。参见图3，步骤S900具体为：S911、根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，设置基于贡献值初步舍弃采样点的保留阈值以及基于误差舍弃采样点的误差阈值；S912、根据滤波器系数、滤波器的采样点计算除第一个采样点和最后一个采样点的每个采样点的贡献值；贡献值通过下式进行计算：其中，Ci为第i个采样点的贡献值，r为格林函数作用的空间距离，hi为第i个采样点的滤波器系数，由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的贝塞尔函数阶数确定，λi为第i个采样点，g为输入函数，其由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定，G为输出函数，2L-1为滤波器长度；S913、将所有贡献值小于采样点的保留阈值的采样点认定为初步确定舍弃的采样点，形成初步确定舍弃的采样点集合；若初步确定舍弃的采样点集合为空集，转入步骤S1000，否则转入步骤S921；S921、尝试舍弃初步确定舍弃的采样点集合中的第i个采样点，对第i个采样点周围的采样点进行位置更新，并基于尝试舍弃第i个采样点之后的采样点，计算余下的采样点的滤波系数，得到尝试舍弃第i个采样点之后的采样点的滤波系数；作为一种判定和更新方式：尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔分别与固定采样间隔序列中的其中一个固定采样间隔的偏差最小；进一步判断其偏差与预设采样间隔偏差阈值的大小，即偏差过大就不能够进行舍弃；若所有偏差均小于预设采样间隔偏差阈值，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新；若偏差任何一个大于等于预设采样间隔偏差阈值，则第i个采样点不能尝试去除，并不进行位置更新；作为一种判定和更新方式：将固定采样间隔序列中除最小固定采样间隔的每个固定采样间隔均添加相应的偏差，调整为固定采样间隔序列中的最小固定采样间隔的整数倍。图2中，依据误差曲线获得的固定采样间隔序列为0.05、0.08、0.11、0.136、0.149、0.16，可将0.08、0.11、0.149添加相应的偏差，成为0.10、0.10、0.15，最终，去掉重复的调整后的采样序列，将固定采样间隔序列调整为0.05、0.10、0.15，形成新的固定采样间隔序列；将原始的固定采样间隔序列调整的规则为：若固定采样间隔序列中的固定采样间隔添加的偏差小于预设固定采样间隔取整偏差，且调整后的固定采样间隔对应的误差值小于采样间隔误差阈值，则将偏差对应的固定采样间隔确定为新的固定采样间隔序列；若偏差大于等于预设固定采样间隔取整偏差，或调整后的固定采样间隔对应的误差值大于等于采样间隔误差阈值，则将偏差对应的固定采样间隔去掉；基于新的固定采样间隔序列，若尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔为新的固定采样间隔序列中的一个或多个，且满足第i-1个采样点和第i+1个采样点的移动的距离平方和最小，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新；S922、基于滤波系数，计算贝塞尔函数积分，获得贝塞尔积分-汉克尔变换对中的贝塞尔函数积分的数值解；S923、基于采用解析表达式或高精度计算方法计算贝塞尔积分-汉克尔变换对中的贝塞尔函数积分得出的精确解，计算数值解与精确解的相对误差，得出误差影响；S931、恢复尝试舍弃初步确定舍弃的采样点集合中的第i个采样点及恢复尝试对第i个采样点周围的采样点进行位置更新，设置i＝i+1，转入S921，获得尝试单独舍弃每个初步确定舍弃的采样点之后的相对误差集合；S932、根据相对误差集合的误差大小，求得最小相对误差；S933、若最小相对误差小于等于预设误差阈值，则舍弃最小相对误差对应的采样点和滤波系数，并将最小相对误差对应的采样点周围的采样点进行位置更新，转入S912；若最小相对误差大于预设误差阈值，转入步骤S1000。对于步骤S1000、基于保留的采样点和对应的滤波器系数以及积分核函数，计算相应的贝塞尔积分：根据保留的采样点λ'和保留的滤波器系数h'，将保留的采样点从1开始重新进行编号直至L'，利用下述公式计算公式所示的贝塞尔积分：参见图4，为一种集成电路的汉克尔变换滤波器非均匀采样优化装置，包括：贝塞尔积分获取模块100、汉克尔变换模块200、固定采样间隔序列筛选模块300、无限滤波器模块400、有限滤波器模块500、变换对构造模块600、矩阵方程改进模块700、滤波器系数计算模块800、采样点舍弃模块900和贝塞尔积分计算模块1000；贝塞尔积分获取模块100，用于基于计算集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数，获取并矢格林函数包含的所有贝塞尔积分，由此确定并矢格林函数中所用的贝塞尔函数的阶数；所述贝塞尔积分为包含贝塞尔函数的被积函数的无穷积分；所述汉克尔变换模块200，用于根据积分核函数与贝塞尔函数乘积形成的被积函数，对贝塞尔积分进行汉克尔变换；所述积分核函数是由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定的，所述源点到场点之间的距离为集成电路覆铜区域上连续电流离散的点电流源形成的源点到作用于其他层的场点之间的距离；所述固定采样间隔序列筛选模块300，用于以采样间隔为变量，基于均匀采样点的汉克尔变换方法计算贝塞尔积分的数值解与贝塞尔积分的准确解的误差，获得采样间隔与计算的贝塞尔积分的误差的关系曲线，基于所述关系曲线获得一系列误差局部最小的采样间隔，作为固定采样间隔序列；所述无限滤波器表达模块400，用于以所述固定采样间隔序列中的最小的固定采样间隔为采样间隔，通过均匀采样对所述汉克尔变换进行离散化，得到无限长度滤波器的表达式；所述有限滤波器表达模块500，用于根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，在预设的精度控制范围内对无限长度滤波器进行截断，得到有限长度滤波器的表达式，根据所述有限长度滤波器的表达式，得到有限长度滤波器的方程组；所述变换对构造模块600，用于采用已知的贝塞尔积分解析表达式构造贝塞尔积分-汉克尔变换对，或是针对实际无法解析的贝塞尔积分，采用适用于集成电路的典型参数构造最接近实际核函数的贝塞尔积分，形成贝塞尔积分-汉克尔变换对，并高精度计算所述贝塞尔积分-汉克尔变换对中的贝塞尔积分；所述矩阵方程改进模块700，用于基于构造的贝塞尔积分-汉克尔变换对，代入所述有限长度滤波器的表达式，获得滤波器方程组对应的滤波器系数矩阵方程，并对所述滤波器系数矩阵方程改进；所述滤波器系数计算模块800，用于对改进后的滤波器系数矩阵方程进行求解，得到滤波器系数；所述采样点舍弃模块900，用于对于以所述最小的固定采样间隔为采样间隔通过均匀采样获得的采样点，通过采样点的贡献值的大小筛选初步确定舍弃的采样点，并根据所述初步确定舍弃的采样点的舍弃对所述贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，判定采样点是否舍弃；所述贝塞尔积分计算模块1000，用于基于保留采样点和对应的滤波器系数以及积分核函数，计算相应的贝塞尔积分；所述采样点舍弃模块900包括初步确定舍弃采样点筛选单元910、贝塞尔积分误差影响计算单元920和舍点更新单元930；所述初步确定舍弃采样点筛选单元910，用于通过计算除第一个采样点和最后一个采样点的每个采样点的贡献值，将贡献值小于预留阈值所对应的采样点确定为初步确定舍弃的采样点；若不存在所述初步确定舍弃的采样点，则转入所述贝塞尔积分计算模块1000；所述贝塞尔积分误差影响计算单元920，用于基于当前采样间隔与所述固定采样间隔序列中的采样间隔的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对保留的采样点进行位置更新，形成非均匀采样点，计算所述初步确定舍弃的采样点中的第i个采样点的舍弃对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响；所述舍点更新单元930，用于恢复所述尝试舍弃所述初步确定舍弃的采样点中的第i个采样点及恢复所述尝试对保留的采样点进行位置更新，令i＝i+1，转入所述贝塞尔积分误差影响计算单元，获得所有所述初步确定舍弃的采样点单独舍弃后对所述的贝塞尔积分-汉克尔变换对中的整个贝塞尔积分计算的误差影响，找出误差影响最小的单独舍弃的采样点；若最小误差影响小于等于所述误差阈值，则将所述最小误差影响对应的采样点舍弃，并对保留的采样点进行位置更新，转入所述初步确定舍弃采样点筛选单元910；若最小误差影响结果大于所述误差阈值，转入所述贝塞尔积分计算模块1000。作为一种可实施方式，所述初步确定舍弃采样点筛选单元910包括误差阈值设置子单元911、贡献值计算子单元912和初步确定舍弃采样点确定子单元913；所述误差阈值设置子单元911，用于根据集成电路不同层的层厚、层间介质特性确定的被积函数的衰减速度，设置所述基于贡献值初步舍弃采样点的保留阈值以及基于误差舍弃采样点的误差阈值；所述贡献值计算子单元912，用于根据滤波器系数、滤波器的采样点计算除第一个采样点和最后一个采样点的每个采样点的贡献值；所述初步确定舍弃采样点确定子单元913，用于将所有贡献值小于采样点的保留阈值的采样点认定为初步确定舍弃的采样点，形成初步确定舍弃的采样点集合；若所述初步确定舍弃的采样点集合为空集，转入所述贝塞尔积分计算模块1000，否则转入滤波器系数计算子单元921；所述贝塞尔积分误差影响计算单元920包括滤波器系数计算子单元921、数值解计算子单元922和误差影响计算子单元923；所述滤波器系数计算子单元921，用于尝试舍弃所述初步确定舍弃的采样点集合中的第i个采样点，对第i个采样点周围的采样点进行位置更新，并基于尝试舍弃第i个采样点之后的采样点，计算余下的采样点的滤波系数，得到尝试舍弃第i个采样点之后的采样点的滤波系数；所述数值解计算子单元922，用于基于所述滤波系数，计算贝塞尔函数积分，获得所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分的数值解；所述误差影响计算子单元923，用于基于采用解析表达式或高精度计算方法计算所述贝塞尔积分-汉克尔变换对中的贝塞尔函数积分得出的精确解，计算所述数值解与所述精确解的相对误差，得出误差影响；所述舍点更新单元930包括相对误差集合计算子单元931、最小相对误差计算子单元932和舍点更新子单元933；所述相对误差集合计算子单元931，用于恢复所述尝试舍弃初步确定舍弃的采样点集合中的第i个采样点及恢复所述尝试对第i个采样点周围的采样点进行位置更新，设置i＝i+1，转入所述滤波器系数计算子单元921，获得尝试单独舍弃每个所述初步确定舍弃的采样点之后的相对误差集合；所述最小相对误差计算子单元932，用于根据所述相对误差集合的误差大小，求得最小相对误差；所述舍点更新子单元933，用于若所述最小相对误差小于等于所述预设误差阈值，则舍弃所述最小相对误差对应的采样点和滤波系数，并将所述最小相对误差对应的采样点周围的采样点进行位置更新，转入所述贡献值计算子单元912；若所述最小相对误差大于预设误差阈值，转入所述贝塞尔积分计算模块1000。作为一种可实施方式，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔分别与所述固定采样间隔序列中的其中一个固定采样间隔的偏差最小；若所有所述偏差均小于预设采样间隔偏差阈值，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新；若所述偏差任何一个大于等于预设采样间隔偏差阈值，则第i个采样点不能尝试去除，并不进行位置更新。作为一种可实施方式，所述基于采样间隔与所述固定采样间隔序列的关系，尝试舍弃所述初步确定舍弃的采样点中的第i个采样点，并尝试对第i个采样点周围的采样点进行位置更新，包括：将所述固定采样间隔序列中除最小固定采样间隔的每个固定采样间隔均添加相应的偏差，调整为所述固定采样间隔序列中的最小固定采样间隔的整数倍；若所述固定采样间隔序列中的固定采样间隔添加的偏差小于预设固定采样间隔取整偏差，且调整后的固定采样间隔对应的误差值小于采样间隔误差阈值，则将所述偏差对应的固定采样间隔确定为新的固定采样间隔序列；若所述偏差大于等于预设固定采样间隔取整偏差，或调整后的固定采样间隔对应的误差值大于等于采样间隔误差阈值，则将所述偏差对应的固定采样间隔去掉；基于所述新的固定采样间隔序列，若尝试舍弃第i个采样点后，尝试对第i个采样点周围的采样点进行位置更新满足移动或者不移动第i-1个采样点和/或第i+1个采样点，使得第i-2个采样点与第i-1个采样点、第i-1个采样点与第i+1个采样点、第i+1个采样点与第i+2个采样点之间的采样间隔为所述新的固定采样间隔序列中的一个或多个，且满足第i-1个采样点和第i+1个采样点的移动的距离平方和最小，则第i个采样点能尝试去除，并按照上述位置更新尝试对第i个采样点周围的采样点进行位置更新。作为一种可实施方式，所述贡献值计算子单元中贡献值通过下式进行计算：其中，Ci为第i个采样点的贡献值，r为格林函数作用的空间距离，hi为第i个采样点的滤波器系数，由集成电路任意层的覆铜区域上任意点电流源在其他层产生的场的并矢格林函数包含的贝塞尔函数阶数确定，λi为第i个采样点，g为输入函数，其由集成电路各层材料的电磁参数、各层厚度、集成电路的工作频率、以及源点到场点之间的距离确定，G为输出函数，2L-1为滤波器长度。最后说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管通过参照本发明的优选实施例已经对本发明进行了描述，但本领域的普通技术人员应当理解，可以在形式上和细节上对其作出各种各样的改变，而不偏离所附权利要求书所限定的本发明的精神和范围。
