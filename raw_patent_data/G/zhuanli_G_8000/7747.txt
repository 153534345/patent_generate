标题title
用于多类型海雾的预测模型构建方法、装置、设备及介质
摘要abst
本发明公开了用于多类型海雾的预测模型构建方法、装置、设备及介质，方法包括：根据预置的间隔时间划分所输入的历史气象信息得到与各时间节点对应的气象特征数据；对气象特征数据中各类型海雾的能见度信息与气象特征数据中的其它项特征数据进行关联分析，得到对应的关联分析信息；根据关联分析信息构建与各类型海雾对应的参数方案集合；将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。本发明属于气象预测技术领域，对多类型海雾的气象特征数据进行关联分析构建得到各类型海雾对应的参数方案集合，通过参数方案集合训练得到预测模型集合，预测模型集合可对各类型海雾进行准确预测。
权利要求书clms
1.一种用于多类型海雾的预测模型构建方法，其特征在于，所述方法包括：若接收到所输入的历史气象信息，根据预置的间隔时间划分所述历史气象信息，得到与各时间节点对应的气象特征数据；所述气象特征数据包含多种海雾类型对应的特征数据；根据预置的关联分析规则对所述气象特征数据中各类型海雾的能见度信息与所述气象特征数据中的其它项特征数据进行关联分析，得到对应的关联分析信息；根据所述关联分析信息及所述气象特征数据构建与各类型海雾对应的参数方案集合；将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。2.根据权利要求1所述的用于多类型海雾的预测模型构建方法，其特征在于，所述根据预置的关联分析规则对所述气象特征数据中各类型海雾的能见度信息与所述气象特征数据中的其它项特征数据进行关联分析之前，还包括：根据预置的预处理规则对所述气象特征数据中缺失数据进行补全。3.根据权利要求1或2所述的用于多类型海雾的预测模型构建方法，其特征在于，所述根据预置的关联分析规则对所述气象特征数据中各类型海雾的能见度信息与所述气象特征数据中的其它项特征数据进行关联分析，得到对应的关联分析信息，包括：从所述气象特征数据中获取各类型海雾在各时间节点对应的能见度信息；将各类型海雾在多个各时间节点的能见度信息与所述气象特征数据中与各类型海雾在多个各时间节点对应的每一项特征数据分别进行关联分析，得到对应的关联分析信息；所述关联分析信息包括各类型海雾能见度信息与对应海雾类型的多项特征数据之间的关联系数。4.根据权利要求1或2所述的用于多类型海雾的预测模型构建方法，其特征在于，所述根据所述关联分析信息及所述气象特征数据构建与各类型海雾对应的参数方案集合，包括：对根据各项特征数据对应的关联系数对各类型海雾的多项特征数据分别进行排序，得到各类型海雾的特征排序结果；根据预置的选择次数从各类型海雾的特征排序结果中多次顺序选择特征数据进行组合；获取各海雾类型每次选择的参数形成所述参数方案集合，各类型海雾的各组所述参数中包含的特征数据的项数依次增加。5.根据权利要求1或2所述的用于多类型海雾的预测模型构建方法，其特征在于，所述将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合，包括：将各类型海雾的参数方案集合中各组参数与对应类型的能见度信息进行组合，得到与每一组所述参数对应的组合参数；根据各所述组合参数分别对所述初始模型进行训练，得到对应的预测模型集合；所述预测模型集合包含与各所述组合参数对应的预测模型。6.根据权利要求5所述的用于多类型海雾的预测模型构建方法，其特征在于，所述根据各所述组合参数分别对所述初始模型进行训练，得到对应的预测模型集合，包括：将各所述组合参数分别输入所述初始模型；计算所述初始模型输出结果与各所述组合参数所属海雾类型对应的梯度值并对所述初始模型的参数进行优化训练，以训练得到与各所述组合参数对应的预测模型。7.根据权利要求6所述的用于多类型海雾的预测模型构建方法，其特征在于，所述初始模型中包含独立的多个神经网络，所述计算所述初始模型输出结果与各所述组合参数所属海雾类型对应的梯度值并对所述初始模型的参数进行优化训练，包括：获取所述初始模型中各神经网络的输出信息；对各所述神经网络的输出信息与对应海雾类型进行梯度计算，以获取各所述输出信息对应的梯度值；通过预置的优化器及所述梯度值对与所述各梯度值对应的各所述神经网络的参数进行优化训练。8.一种用于多类型海雾的预测模型构建装置，其特征在于，所述装置包括：数据划分单元，用于若接收到所输入的历史气象信息，根据预置的间隔时间划分所述历史气象信息，得到与各时间节点对应的气象特征数据；所述气象特征数据包含多种海雾类型对应的特征数据；关联分析信息获取单元，用于根据预置的关联分析规则对所述气象特征数据中各类型海雾的能见度信息与所述气象特征数据中的其它项特征数据进行关联分析，得到对应的关联分析信息；参数方案集合构建单元，用于根据所述关联分析信息及所述气象特征数据构建与各类型海雾对应的参数方案集合；预测模型集合获取单元，用于将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。9.一种计算机设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至7中任一项所述的用于多类型海雾的预测模型构建方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机程序，当所述计算机程序被处理器执行时实现如权利要求1至7任一项所述的用于多类型海雾的预测模型构建方法。
说明书desc
技术领域本发明涉及气象预测技术领域，尤其涉及一种用于多类型海雾的预测模型构建方法、装置、设备及介质。背景技术海雾是指发生在海面上或近岸区域，大气边界层中水汽大量凝结造成能见度小于1 km 的天气现象。目前，由于海雾变化的突然性及不连续性，且不同类型海雾变化机理和规律有较大差异，海雾能见度的预报仍是气象预报业务当中难度较大的领域之一。现有技术方法虽然能够通过人工智能模型进行海雾预测，但针对不同海雾类型模型的预测准确性存在明显差异，因此现有技术方法中无法通过统一模型对多类型海雾进行精准预测，导致海雾预测的准确性较低。因此，现有的技术方法存在无法对多类型海雾进行精准预测的问题。发明内容本发明实施例提供了一种用于多类型海雾的预测模型构建方法、装置、设备及介质，旨在解决现有技术方法中所存在的无法对多类型海雾进行精准预测的问题。第一方面，本发明实施例提供了一种用于多类型海雾的预测模型构建方法，所述方法包括：若接收到所输入的历史气象信息，根据预置的间隔时间划分所述历史气象信息，得到与各时间节点对应的气象特征数据；根据预置的关联分析规则对所述气象特征数据中各类型海雾的能见度信息与所述气象特征数据中的其它特征项进行关联分析，得到对应的关联分析信息；根据所述关联分析信息及所述气象特征数据构建与各类型海雾对应的参数方案集合；将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。第二方面，本发明实施例提供了一种用于多类型海雾的预测模型构建装置，其包括：数据划分单元，用于若接收到所输入的历史气象信息，根据预置的间隔时间划分所述历史气象信息，得到与各时间节点对应的气象特征数据；关联分析信息获取单元，用于根据预置的关联分析规则对所述气象特征数据中各类型海雾的能见度信息与所述气象特征数据中的其它特征项进行关联分析，得到对应的关联分析信息；参数方案集合构建单元，用于根据所述关联分析信息及所述气象特征数据构建与各类型海雾对应的参数方案集合；预测模型集合获取单元，用于将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。第三方面，本发明实施例又提供了一种计算机设备，其包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述第一方面所述的用于多类型海雾的预测模型构建方法。第四方面，本发明实施例还提供了一种计算机可读存储介质，其中所述计算机可读存储介质存储有计算机程序，所述计算机程序当被处理器执行时使所述处理器执行上述第一方面所述的用于多类型海雾的预测模型构建方法。本发明实施例提供了一种用于多类型海雾的预测模型构建方法、装置、设备及介质。根据预置的间隔时间划分所输入的历史气象信息得到与各时间节点对应的气象特征数据；对气象特征数据中各类型海雾的能见度信息与气象特征数据中的其它项特征数据进行关联分析，得到对应的关联分析信息；根据关联分析信息构建与各类型海雾对应的参数方案集合；将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。通过上述方法，可对多类型海雾的气象特征数据进行关联分析构建得到各类型海雾对应的参数方案集合，通过参数方案集合训练得到预测模型集合，通过预测模型集合可对各类型海雾进行准确预测。附图说明为了更清楚地说明本发明实施例技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的用于多类型海雾的预测模型构建方法的流程示意图；图2为本发明实施例提供的用于多类型海雾的预测模型构建方法的另一流程示意图；图3为本发明实施例提供的用于多类型海雾的预测模型构建方法的子流程示意图；图4为本发明实施例提供的用于多类型海雾的预测模型构建方法的另一子流程示意图；图5为本发明实施例提供的用于多类型海雾的预测模型构建方法的又一子流程示意图；图6为本发明实施例提供的用于多类型海雾的预测模型构建方法的后一子流程示意图；图7为本发明实施例提供的用于多类型海雾的预测模型构建方法的再一子流程示意图；图8为本发明实施例提供的用于多类型海雾的预测模型构建装置的示意性框图；图9为本发明实施例提供的计算机设备的示意性框图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应当理解，当在本说明书和所附权利要求书中使用时，术语“包括”和 “包含”指示所描述特征、整体、步骤、操作、元素和/或组件的存在，但并不排除一个或多个其它特征、整体、步骤、操作、元素、组件和/或其集合的存在或添加。还应当理解，在此本发明说明书中所使用的术语仅仅是出于描述特定实施例的目的而并不意在限制本发明。如在本发明说明书和所附权利要求书中所使用的那样，除非上下文清楚地指明其它情况，否则单数形式的“一”、“一个”及“该”意在包括复数形式。还应当进一步理解，在本发明说明书和所附权利要求书中使用的术语“和/ 或”是指相关联列出的项中的一个或多个的任何组合以及所有可能组合，并且包括这些组合。请参阅图1，图1为本发明实施例提供的用于多类型海雾的预测模型构建方法的流程示意图；该用于多类型海雾的预测模型构建方法应用于用户终端或管理服务器中，该用于多类型海雾的预测模型构建方法通过安装于用户终端或管理服务器中的应用软件进行执行；用户终端可用于执行用于多类型海雾的预测模型构建方法以接收所输入的历史气象信息并训练得到预测模型集合，用户终端可以是台式电脑、笔记本电脑、平板电脑或手机等终端设备，管理服务器即是用于执行用于多类型海雾的预测模型构建方法以获取用户终端上传的历史气象信息并训练得到预测模型集合的服务器端，如企业或政府部门内部所构建的服务器端。如图1所示，该方法包括步骤S110~S140。S110、若接收到所输入的历史气象信息，根据预置的间隔时间划分所述历史气象信息，得到与各时间节点对应的气象特征数据。若接收到所输入的历史气象信息，根据预置的间隔时间划分所述历史气象信息，得到与各时间节点对应的气象特征数据；其中，所述气象特征数据包含多种海雾类型对应的特征数据。可获取所输入的历史气象信息，历史气象信息中涵盖各类型海雾的气象信息。具体的，海雾通常可区分为平流雾、锋面雾和辐射雾等多种类型。不同类型的海雾过程，形成机制、大气环流场特征、微物理结构和边界层特征都不同，海雾能见度与各气象要素变化特征的关系也有较大差异，因此将海雾的类型区分为平流雾、锋面雾和辐射雾三类。另外，因为海雾能见度变化除了与其它气象要素有时间维度联系，在空间维度上也有联系。以历史气象信息为港口的历史气象信息为例进行说明，除了选取港口本地的气象观测站气象要素数据，还选取该港口周边气象站气象要素数据作为预测模型参数的来源，也即历史气象信息中可包含一个目标港口及该目标港口周边其它港口的历史气象数据。历史气象信息中包含某一目标港口所在地海雾变化机理和特征包括海雾的月际和日变化特征、海雾能见度与其它气象要素关系、海雾的类型，如平流雾、辐射雾、混合雾和地形雾等，其中海雾能见度可作为与海雾类型对应的特征参数进行使用，海雾类型可作为模型训练的目标参数进行使用。例如，所述历史气象信息包括目标港口和周边港口共m个气象观测点，气象观测点的集合可表示为D＝{d 1 ,d 2 ,...,d i ,...,d m }。气象观测点用于观测气象信息的仪器包括新型自动气象站、光电式数字日照计、降水现象仪,如，每一气象观测点每5分钟观测一次气象信息并进行记录。历史气象信息包括过去x个小时的气象信息，可根据间隔时间划分历史气象信息，如间隔时间为5分钟，则可将过去x个小时的气象信息逐5分组划分，则每一划分时段对应一个时间节点，如可对应划分得到多个时间节点：t 1 ,t 2 ,...,t j ,...,t x*60/5。获取历史气象信息中每一时间节点对应的气象特征数据，其中，气象特征数据包括气象要素特征数据、高敏感因子数据及时间特征数据。气象要素特征数据包括过去x小时共x*60/5个时间节点的能见度、气温、气压、相对湿度、风向、风速、降水量、蒸发量、地温、草温气象要素数据。构建高敏感因子数据是根据海雾生成和消散于大气湿度特征密切相关的特点确定的，构建温度露点差作为海雾预测的高敏感因子数据；温度露点差是温度与露点的差值，温度露点差也是日常天气分析预报业务中经常用以表示空气干湿程度的一个物理量；气象上，温度表示为T，露点表示为Td，在各层等压面上分析等线，用以表示空气中水汽的饱和程度。时间特征数据包括过去x小时共x*60/5个时间节点的小时数和月份数，小时数也即时间节点在一天中所属的小时数值；月份数也即所时间节点在一年中所属的月份数值。S120、根据预置的关联分析规则对所述气象特征数据中各类型海雾的能见度信息与所述气象特征数据中的其它项特征数据进行关联分析，得到对应的关联分析信息。根据预置的关联分析规则对所述气象特征数据中各类型海雾的能见度信息与所述气象特征数据中的其它项特征数据进行关联分析，得到对应的关联分析信息。具体的，气象特征数据中包含多种类型海雾对应的特征数据，可根据海雾类型对特征数据分别进行分析；气象特征数据中还包含各类型海雾的能见度信息，可获取能见度信息与同一类型海雾中其它项特征数据并分别进行关联分析，得到能见度信息与同一类型海雾中各项特征数据之间的关联系数，并组合得到与气象特征数据对应的关联分析信息。在一实施例中，如图2所示，步骤S120之前还包括步骤S1201。S1201、根据预置的预处理规则对所述气象特征数据中缺失数据进行补全。在对气象特征数据进行处理之前，还可根据预处理规则对气象特征数据中缺失的部分数据进行补全。例如，通过拉格朗日插值方法补全缺测数据，通过标准化处理补全数据后，可减少误差并提高运算速度；可通过拉格朗日插值对缺失数据两端的数据进行计算，从而得到与缺失数据对应的补全数据并填补至该缺失数据对应的位置。在一实施例中，如图3所示，步骤S120包括子步骤S121及S122。S121、从所述气象特征数据中获取各类型海雾在各时间节点对应的能见度信息。具体的，可分别获取各类型海雾在各时间节点对应的能见度信息，能见度信息所包含的具体内容采用数值形式进行表示，能见度值的数值越大则表明能见度也越大。S122、将各类型海雾在多个各时间节点的能见度信息与所述气象特征数据中与各类型海雾在多个各时间节点对应的每一项特征数据分别进行关联分析，得到对应的关联分析信息。可将各海雾类型在多个时间节点的能见度信息与气象特征数据中相应时间节点的每一项特征数据分别进行关联分析，从而得到对应的关联分析信息。具体的，所述关联分析信息包括各类型海雾能见度信息与对应海雾类型的多项特征数据之间的关联系数。例如，进行关联分析可采用如下公式进行计算： ；其中，Xi为某一项目中第i个时间节点对应的特征数据，为某一项目所有特征数据的平均值，Yi为某一类型海雾的能见度信息中第i个时间节点对应的能见度值，为某一类型海雾的能见度信息中所有能见度值的平均值，R为计算得到的关联系数。通过上述公式即可计算得到某一项特征数据与同类型海雾的能见度信息对应的关联系数，获取各海雾类型的能见度信息与每一项特征数据对应的关联系数，即可得到对应的关联分析信息。S130、根据所述关联分析信息及所述气象特征数据构建与各类型海雾对应的参数方案集合。根据所述关联分析信息及所述气象特征数据构建与各类型海雾对应的参数方案集合。可根据关联分析信息从气象特征数据中筛选出关键的多组参数，组合得到每一类型海雾对应的参数方案集合。在一实施例中，如图4所示，步骤S130包括子步骤S131、S132及S133。S131、对根据各项特征数据对应的关联系数对各类型海雾的多项特征数据分别进行排序，得到各类型海雾的特征排序结果。可对各类型海雾所包含各项特征的关联系数对气象特征数据中对应的多项特征数据进行排序，如根据关联系数由大至小对各类型海雾对应的多项特征数据分别进行排序，得到对应的特征排序结果，则每一海雾类型对应一组特征排序结果。S132、根据预置的选择次数从各类型海雾的特征排序结果中多次顺序选择特征数据进行组合；S133、获取各海雾类型每次选择的参数形成所述参数方案集合，各类型海雾的各组所述参数中包含的特征数据的项数依次增加。根据选择次数从各类型海雾的特征排序结果中多次顺序选择特征数据进行组合，获取每一海雾类型每次选择的参数组合即可得到各海雾类型的参数方案几个，各类型海雾的各组参数中包含的特征数据的项数依次增加。例如，对应平流雾、锋面雾和辐射雾三类海雾，都挑选与该类海雾能见度关系最密切的N种气象要素构建预测参数方案集合，分别Ra、Rf、Rr；因为并非气象要素越多，预测效果最好。平流雾参数方案集合 Ra＝，其中a1参数是挑选了最密切的一个项特征数据，也即特征排序结果中第一项特征对应的特征数据，a2参数是挑选了较密切的两个项特征数据，也即特征排序结果中前两项特征对应的特征数据，依次类推，an参数是挑选了较密切的N个项特征数据。锋面雾雾参数方案集合 Rf＝，其中f1参数是挑选了最密切的一个项特征数据，也即特征排序结果中第一项特征对应的特征数据，f2参数是挑选了较密切的两个项特征数据，也即特征排序结果中前两项特征对应的特征数据，依次类推。平流雾参数方案集合 Rr＝，其中r1参数是挑选了最密切的一个项特征数据，也即特征排序结果中第一项特征对应的特征数据，r2参数是挑选了较密切的两个项特征数据，也即特征排序结果中前两项特征对应的特征数据，依次类推。S140、将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。将同一类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型进行训练，集合得到与各海雾类型中每一参数方案集合分别对应的预测模型，多个预测模型组合形成预测模型集合。在具体使用过程中，可根据预测模型集合中各预测模型的准确性选择其中结果准确的预测模型进行使用；由于训练得到的预测模型集合由各类型海雾的特征数据训练得到的预测模型构成，因此通过预测模型集合可实现对多种类型海雾的覆盖，也即能够实现对各类型海雾进行准确预测。在一实施例中，如图5所示，步骤S140包括子步骤S141及S142。S141、将各类型海雾的参数方案集合中各组参数与对应类型的能见度信息进行组合，得到与每一组所述参数对应的组合参数。将各类型海雾的参数方案集合中各组参数与同一类型海雾的能见度信息进行组合，即可得到与每一组参数对应的组合参数。例如，三个参数方案集合中包含的参数组数为3×N，将第一个参数方案集合中各组参数与同一类型海雾的能见度信息进行组合，即可得到N个组合参数，则三个参数方案集合可对应得到3×N个组合参数。S142、根据各所述组合参数分别对所述初始模型进行训练，得到对应的预测模型集合；所述预测模型集合包含与各所述组合参数对应的预测模型。将各组合参数分别输入初始模型，即可通过一组组合参数对初始模型进行训练，得到对应的一个预测模型，获取与每一组合参数对应训练得到的预测模型即可得到预测模型集合。在一实施例中，如图6所示，步骤S142包括子步骤S1421及S1422。S1421、将各所述组合参数分别输入所述初始模型；S1422、计算所述初始模型输出结果与各所述组合参数所属海雾类型对应的梯度值并对所述初始模型的参数进行优化训练，以训练得到与各所述组合参数对应的预测模型。具体的，可将每一组组合参数分别输入初始模型，计算初始模型输出结果与各组参数所属海雾类型对应的梯度值，根据梯度下降训练方式对初始模型的参数进行优化训练，从而得到调整后的预测模型。由于一组组合参数可对初始模型进行迭代训练得到一个预测模型，则可对应训练得到与各组组合参数对应的预测模型。所属海雾类型可以是平流雾、锋面雾、辐射雾或无海雾。具体的，所述初始模型中包含独立的多个神经网络。为提高训练的准确性，可在初始模型中配置多个独立的神经网络，每一神经网络单独训练形成一个预测模型，通过这一设置方式，可大幅扩展预测模型集合中所包含预测模型的数量，从而进一步提高对各类型海雾进行预测的适用性。在一实施例中，如图7所示，步骤S1422包括子步骤S1423、S1424及S1425。S1423、获取所述初始模型中各神经网络的输出信息；S1424、对各所述神经网络的输出信息与对应海雾类型进行梯度计算，以获取各所述输出信息对应的梯度值；S1425、通过预置的优化器及所述梯度值对与所述各梯度值对应的各所述神经网络的参数进行优化训练。具体的，可获取初始模型中各神经网络的输出信息，并对各神经网络的输出信息与对应海雾类型进行梯度计算，获取各神经网络的梯度值，并通过优化器及梯度值对各梯度值对应的神经网络的参数进行优化训练，最终得到与各输出信息对应的预测模型。例如，本申请具体实施例中初始模型包含两个神经网络，分别是门限循环神经网络、长短期记忆循环神经网络。训练过程包括：1.将各组合参数输入到GRU中；2.计算各层的更新门、重置门、当前时间步记忆内容和当前时间步最终记忆内容；3.使用Adam优化算法训练网络模型；4.形成训练好的GRU模型集合。5.将各组合参数输入到LSTM中；6.计算各层的输入门、遗忘门、输出门、当前时间步记忆内容和当前时间步最终记忆内容；7.使用Adam优化算法训练网络模型；8.形成训练好的LSTM模型集合；9.组合GRU模型集合及LSTM模型集合得到最终的预测模型集合。在对门限循环神经网络进行训练的过程中，需要计算门限循环神经网络；计算更新门、重置门，这两个门的值都在0~1之间，代表对特征信息的过滤程度。在t时间步时，更新门为z t ＝σ。其中，x_t 为当前时刻输入的能见度信息，即能见度特征序列 X 的第 t 个分量。h t-1 是上一时刻t-1输出的信息，σ为Sigmoid激活函数。x t 和h t-1 分别与权重矩阵w z 相乘实现线性变换，两部分信息相加并投入到 Sigmoid 激活函数中，然后输出激活值。因此，更新门实现控制上一时刻的状态信息被带入到当前时刻状态中的程度，更新门的值越大就越多上一时刻的状态信息被带入到当前时刻的状态。在t时间步时，重置门为r t ＝σ。重置门和更新门的计算方式类似，x t 和h t-1 分别与权重矩阵w r 相乘实现线性变换，两部分信息相加并投入到Sigmoid 激活函数中，然后输出激活值。然后计算当前记忆内容，计算重置门r t与上一时刻隐藏层的值h t-1的乘积，确定保留与遗忘以前信息的大小，和当前时间节点输入的海雾能见度特征向量xt 分别与权重矩阵wp相乘实现线性变换，然后将这两部分的计算结果相加后再投入到双曲正切激活函数tanh中，从而得到当前记忆内容的值。最后，计算当前时间步的最终记忆。计算与h t-1 的乘积，这部分表示前一时间步保留到最终记忆的信息。计算Zt与h t的乘积，这部分表示当前记忆内容保留至最终记忆的信息。这两部分计算结果相加就等于最终门控循环单元输出的内容。也就是更新门Zt越大，之前的信息带入到最后的输出内容就越少，当前记忆内容带入到最后的输出内容就越多，这样通过更新门实现控制流入到最终最后的输出内容的信息。在对长短期记忆循环神经网络进行训练的过程中，需要计算长短期记忆循环神经网络；在当前时刻t，计算输入门it、遗忘门ft、输出门Ot 、候选态、细胞态Ct、记忆体 ht。输入门为，其中，xf为当前时刻输入的海雾能见度特征向量，ht-1 是上一时刻输出的信息向量，bi是偏置项，Wi是权重参数矩阵，σ为Sigmoid激活函数。。xt和ht-1与权重参数矩阵Wi相乘，加上偏置项bi后，投入到 Sigmoid 激活函数中，形成输入门的值。输入门限值的范围在0到1之间，它决定了多少比例的信息会存入当前时刻的细胞态。在当前时刻t，遗忘门为，其中，bf是偏置项，Wf是权重参数矩阵，σ为Sigmoid激活函数。xt和ht-1与权重参数矩阵Wf相乘，加上偏置项bf后，投入到 Sigmoid 激活函数中，形成遗忘门的值。遗忘门限值的范围在0到1之间，它将细胞态中的信息进行选择性遗忘。在当前时刻t，输出门为，其中，bo是偏置项，Wo是权重参数矩阵，σ为Sigmoid激活函数。xt和ht-1与权重参数矩阵Wo相乘，加上偏置项bo后，投入到 Sigmoid 激活函数中，形成输出门的值。输出门限值的范围在0到1之间，它将细胞态中的信息进行选择性输出。在当前时刻t，候选态为，其中，bc是偏置项，Wc是权重参数矩阵，tanh为激活函数。xt和ht-1与权重参数矩阵Wc相乘，加上偏置项bc后，过tanh激活函数，形成候选态的值。候选态的值范围在-1到1之间，它表征当前时刻归纳出来的新知识，将存入细胞态当中。在当前时刻t，细胞态为。上一时刻的细胞态Ct-1乘以遗忘门的值和当前时刻候选态乘以输入门的值之和，形成细胞态的值，它表征长期记忆。在当前时刻t，记忆体为。当前细胞态Ct过tanh激活函数后乘以输出门得到当前记忆体的值，它表征短期记忆。在对上述网络模型进行训练过程中，可使用adam优化器优化模型，具体的，Adam优化器是一种自适应学习率的的参数优化方法，它通过计算梯度的一阶动量和二阶动量而为不同的参数设计独立的自适应性学习率。w为待优化参数，损失函数loss，学习率lr，一阶动量mt和二阶动量vt初始化值为0；ε为数值很小的常数，设为 10e−8。β1 和β2 是常数，分别设为 0.9、0.999。从训练集中采用m个小批量样本，可先计算t时刻损失函数关于当前参数的梯度，其中，loss损失值为LSTM与对应海雾类型的能见度信息之间的损失值或GRU与对应海雾类型的能见度信息之间的损失值；计算t时刻一阶动量，修正一阶动量的偏差；计算二阶动量，修正二阶动量的偏差，再计算并更新t+1时刻的参数。利用Adam优化器，不断对上述两个神经网络中的参数值进行迭代更新，逐步优化模型中的参数值，如对LSTM中的权值矩阵w和变量偏置空间b进行迭代优化，直至模型收敛。例如，初始模型包含两个神经网络，则最终形成模型的集合f＝，共6*N个模型。在本发明实施例所提供的用于多类型海雾的预测模型构建方法中，根据预置的间隔时间划分所输入的历史气象信息得到与各时间节点对应的气象特征数据；对气象特征数据中各类型海雾的能见度信息与气象特征数据中的其它项特征数据进行关联分析，得到对应的关联分析信息；根据关联分析信息构建与各类型海雾对应的参数方案集合；将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。通过上述方法，可对多类型海雾的气象特征数据进行关联分析构建得到各类型海雾对应的参数方案集合，通过参数方案集合训练得到预测模型集合，通过预测模型集合可对各类型海雾进行准确预测。本发明实施例还提供一种用于多类型海雾的预测模型构建装置，该用于多类型海雾的预测模型构建装置可配置于用户终端或管理服务器中，该用于多类型海雾的预测模型构建装置用于执行前述的用于多类型海雾的预测模型构建方法的任一实施例。具体地，请参阅图8，图8为本发明实施例提供的用于多类型海雾的预测模型构建装置的示意性框图。如图8所示，用于多类型海雾的预测模型构建装置100包括数据划分单元110、关联分析信息获取单元120、参数方案集合构建单元130和预测模型集合获取单元140。数据划分单元110，用于若接收到所输入的历史气象信息，根据预置的间隔时间划分所述历史气象信息，得到与各时间节点对应的气象特征数据。关联分析信息获取单元120，用于根据预置的关联分析规则对所述气象特征数据中各类型海雾的能见度信息与所述气象特征数据中的其它特征项进行关联分析，得到对应的关联分析信息。参数方案集合构建单元130，用于根据所述关联分析信息及所述气象特征数据构建与各类型海雾对应的参数方案集合。预测模型集合获取单元140，用于将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。在本发明实施例所提供的用于多类型海雾的预测模型构建装置应用上述用于多类型海雾的预测模型构建方法，根据预置的间隔时间划分所输入的历史气象信息得到与各时间节点对应的气象特征数据；对气象特征数据中各类型海雾的能见度信息与气象特征数据中的其它项特征数据进行关联分析，得到对应的关联分析信息；根据关联分析信息构建与各类型海雾对应的参数方案集合；将各类型海雾对应的参数方案集合及对应的能见度信息输入预置的初始模型中进行训练，得到对应的预测模型集合。通过上述方法，可对多类型海雾的气象特征数据进行关联分析构建得到各类型海雾对应的参数方案集合，通过参数方案集合训练得到预测模型集合，通过预测模型集合可对各类型海雾进行准确预测。上述用于多类型海雾的预测模型构建装置可以实现为计算机程序的形式，该计算机程序可以在如图9所示的计算机设备上运行。请参阅图9，图9是本发明实施例提供的计算机设备的示意性框图。该计算机设备可以是用于执行用于多类型海雾的预测模型构建方法以接收所输入的历史气象信息并训练得到预测模型集合的用户终端或管理服务器。参阅图9，该计算机设备500包括通过系统总线501连接的处理器502、存储器和网络接口505，其中，存储器可以包括存储介质503和内存储器504。该存储介质503可存储操作系统5031和计算机程序5032。该计算机程序5032被执行时，可使得处理器502执行用于多类型海雾的预测模型构建方法，其中，存储介质503可以为易失性的存储介质或非易失性的存储介质。该处理器502用于提供计算和控制能力，支撑整个计算机设备500的运行。该内存储器504为存储介质503中的计算机程序5032的运行提供环境，该计算机程序5032被处理器502执行时，可使得处理器502执行用于多类型海雾的预测模型构建方法。该网络接口505用于进行网络通信，如提供数据信息的传输等。本领域技术人员可以理解，图9中示出的结构，仅仅是与本发明方案相关的部分结构的框图，并不构成对本发明方案所应用于其上的计算机设备500的限定，具体的计算机设备500可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。其中，所述处理器502用于运行存储在存储器中的计算机程序5032，以实现上述的用于多类型海雾的预测模型构建方法中对应的功能。本领域技术人员可以理解，图9中示出的计算机设备的实施例并不构成对计算机设备具体构成的限定，在其他实施例中，计算机设备可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。例如，在一些实施例中，计算机设备可以仅包括存储器及处理器，在这样的实施例中，存储器及处理器的结构及功能与图9所示实施例一致，在此不再赘述。应当理解，在本发明实施例中，处理器502可以是中央处理单元 ，该处理器502还可以是其他通用处理器、数字信号处理器、专用集成电路 、现成可编程门阵列  或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。其中，通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。在本发明的另一实施例中提供计算机可读存储介质。该计算机可读存储介质可以为易失性或非易失性的计算机可读存储介质。该计算机可读存储介质存储有计算机程序，其中计算机程序被处理器执行时实现上述的用于多类型海雾的预测模型构建方法中所包含的步骤。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，上述描述的设备、装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。在本发明所提供的几个实施例中，应该理解到，所揭露的设备、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为逻辑功能划分，实际实现时可以有另外的划分方式，也可以将具有相同功能的单元集合成一个单元，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另外，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口、装置或单元的间接耦合或通信连接，也可以是电的，机械的或其它的形式连接。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本发明实施例方案的目的。另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以是两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分，或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个计算机可读存储介质中，包括若干指令用以使得一台计算机设备  执行本发明各个实施例所述方法的全部或部分步骤。而前述的计算机可读存储介质包括：U 盘、移动硬盘、只读存储器 、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到各种等效的修改或替换，这些修改或替换都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
