标题title
一种基于区块链的NFT溯源防伪系统
摘要abst
本发明提供了一种基于区块链的NFT溯源防伪系统，包括NFT存储模块、NFT转移模块、NFT验证模块、NFT溯源模块和NFT编号模块，所述NFT存储模块用于保存NFT的实质数字内容，所述NFT转移模块用于将NFT在不同用户间进行转移，所述NFT验证模块用于对NFT的合法性进行验证，所述NFT溯源模块通过区块链记录NFT的交易信息，所述NFT编号模块用于对NFT赋予编号；本系统通过对NFT的物、权、人三者进行验证来达到防伪效果，基于区块链来记录信息，基于防伪码来确认所有权，而防伪码会随新区块的创建发生更变化，实现所有权的转移，更好的实现NFT的防伪效果。
权利要求书clms
1.一种基于区块链的NFT溯源防伪系统，其特征在于，包括NFT存储模块、NFT转移模块、NFT验证模块、NFT溯源模块和NFT编号模块，所述NFT存储模块用于保存NFT的实质数字内容，所述NFT转移模块用于将NFT在不同用户间进行转移，所述NFT验证模块用于对NFT的合法性进行验证，所述NFT溯源模块通过区块链记录NFT的交易信息，所述NFT编号模块用于对NFT赋予编号；所述NFT的实质数字内容称为数字产品，所述NFT存储模块包括存储公域和存储私域，所述NFT验证模块对NFT的验证内容包括三点：用户对应的存储私域中存在NFT对应的数字产品；NFT溯源模块中关于该NFT的最后交易信息中的购买者为该用户；用户提供的防伪码能够通过验证；所述NFT验证模块对数字产品处理得到校验码，所述NFT溯源模块将对应的区块进行哈希处理得到哈希码，所述NFT验证模块将校验码和哈希码处理得到尾码，NFT的编号与所述尾码构成该NFT的防伪码；所述NFT验证模块对用户提供的防伪码进行验证的过程为：从防伪码中提取出编号，基于编号在所述NFT溯源模块中找到对应的区块，对区块进行哈希处理得到哈希码，对用户提供的数字产品处理得到校验码，将哈希码与校验码进行处理得到尾码，将尾码与防伪码进行对比；所述NFT验证模块包括计算处理单元，所述计算处理单元用于处理获得尾码的计算量，所述计算处理单元处理尾码的过程如下：所述哈希码与校验码具有相同的长度L，将哈希值与校验码中每个单位长度字符进行比较，得到码距数列，u为码距的序号，取值范围为，每个码距值的取值范围为；对码距值进行进位处理：；将码距值根据下式处理得到尾码：；其中，表示第i位尾码字符对应的值。2.如权利要求1所述的一种基于区块链的NFT溯源防伪系统，其特征在于，所述NFT验证模块包括数字产品处理单元，所述数字产品处理单元用于处理得到校验码，获取校验码的过程如下：S41、将所述数字产品的代码信息按照顺序进行转换，得到数列，i为数列中元素的序号，数列中每个元素的取值范围为；S42、将数列按照下述公式进行处理得到数列：；其中，j为数列中元素的序号；S43、将数列和数列按照下式处理得到数列：；其中，k为数列中元素的序号；S44、将数列替换至数列并重复步骤S42和步骤S43，直至数列的元素个数处于区间内；S45、将数列的前L个元素转换成对应的字符，形成校验码。3.如权利要求2所述的一种基于区块链的NFT溯源防伪系统，其特征在于，所述系统具有在存储公域和存储私域中复制、删除数字产品的权限，用户仅有在对应的存储私域中复制数字产品的权限。4.如权利要求3所述的一种基于区块链的NFT溯源防伪系统，其特征在于，所述NFT溯源模块在交易完成时生成新的区块，所述NFT验证模块基于新区块的哈希值处理得到新的防伪码并发送给交易中的购买者，区块中包含了交易的NFT编号信息。5.如权利要求4所述的一种基于区块链的NFT溯源防伪系统，其特征在于，所述NFT溯源模块具有检索功能，通过输入NFT的编号能够在区块链中查询到对应区块，从而获得NFT自创建后拥有者的变化信息。
说明书desc
技术领域本发明涉及区块链技术领域，具体涉及一种基于区块链的NFT溯源防伪系统。背景技术区块链技术，是一种全新的分布式基础架构与计算范式，是利用块链式数据结构来验证与存储数据、利用分布式节点共识算法来生成和更新数据、利用密码学的方式保证数据传输和访问的安全、利用由自动化脚本代码组成的智能合约来编程和操作数据。区块链技术以密码学为基础，综合了分布式账本技术和其它各种技术，具有不可篡改、不可否认、多方开放网络维护等特性，成为信用互联网、价值互联网的代名词。这为各种收藏品等资产提供以NFT为凭据类型的所有权证明，目前这些藏品在二级交易市场，一般是用户间私下交流或者从商家处购买。但在交易链条中，对于商品本身的确权、买卖用户双方的身份验证、买卖合约等都缺乏严格的监管。这些问题极大影响了收藏品交易的正规化，而区块链技术可以帮助身份验证、买卖合约数据以分布式数据存储和分发，同时确保其唯一性并不可篡改。背景技术的前述论述仅意图便于理解本发明。此论述并不认可或承认提及的材料中的任一种公共常识的一部分。现在已经开发出了很多NFT防伪系统，经过我们大量的检索与参考，发现现有的防伪系统有如公开号为CN114399320B所公开的系统，这些系统一般包括通过设置区块链预言机，对线下链票据的真实资产进行实时监控；通过线上链、线下链平行业务链体系进行NFT合约的安全生成和转移，实现线上、线下票据供应链的信息同步；将印制在票据上的隐形防伪二维码防伪标签，通过智能合约部署到区块链上；票据的交易者扫描二维码，向区块链平台调用智能合约，查询票据基本信息和流通信息。但该系统仍然只依靠区块链来实现防伪，存在信息被盗的风险。发明内容本发明的目的在于，针对所存在的不足，提出了一种基于区块链的NFT溯源防伪系统。本发明采用如下技术方案：一种基于区块链的NFT溯源防伪系统，包括NFT存储模块、NFT转移模块、NFT验证模块、NFT溯源模块和NFT编号模块，所述NFT存储模块用于保存NFT的实质数字内容，所述NFT转移模块用于将NFT在不同用户间进行转移，所述NFT验证模块用于对NFT的合法性进行验证，所述NFT溯源模块通过区块链记录NFT的交易信息，所述NFT编号模块用于对NFT赋予编号；所述NFT的实质数字内容称为数字产品，所述NFT存储模块包括存储公域和存储私域，所述NFT验证模块对NFT的验证内容包括三点：①、用户对应的存储私域中存在NFT对应的数字产品；②、NFT溯源模块中关于该NFT的最后交易信息中的购买者为该用户；③、用户提供的防伪码能够通过验证；所述NFT验证模块对数字产品处理得到校验码，所述NFT溯源模块将对应的区块进行哈希处理得到哈希码，所述NFT验证模块将校验码和哈希码处理得到尾码，NFT的编号与所述尾码构成该NFT的防伪码；所述NFT验证模块对用户提供的防伪码进行验证的过程为：从防伪码中提取出编号，基于编号在所述NFT溯源模块中找到对应的区块，对区块进行哈希处理得到哈希码，对用户提供的数字产品处理得到校验码，将哈希码与校验码进行处理得到尾码，将尾码与防伪码进行对比；所述NFT验证模块包括计算处理单元，所述计算处理单元用于处理获得尾码的计算量，所述计算处理单元处理尾码的过程如下：所述哈希码与校验码具有相同的长度L，将哈希值与校验码中每个单位长度字符进行比较，得到码距数列，u为码距的序号，取值范围为，每个码距值的取值范围为；对码距值进行进位处理：；将码距值根据下式处理得到尾码：；其中，表示第i位尾码字符对应的值；进一步的，所述NFT验证模块包括数字产品处理单元，所述数字产品处理单元用于处理得到校验码，获取校验码的过程如下：S41、将所述数字产品的代码信息按照顺序进行转换，得到数列，i为数列中元素的序号，数列中每个元素的取值范围为；S42、将数列按照下述公式进行处理得到数列：；其中，j为数列中元素的序号；S43、将数列和数列按照下式处理得到数列：；其中，k为数列中元素的序号；S44、将数列替换至数列并重复步骤S42和步骤S43，直至数列的元素个数处于区间内；S45、将数列的前L个元素转换成对应的字符，形成校验码；进一步的，所述系统具有在存储公域和存储私域中复制、删除数字产品的权限，用户仅有在对应的存储私域中复制数字产品的权限；进一步的，所述NFT溯源模块在交易完成时生成新的区块，所述NFT验证模块基于新区块的哈希值处理得到新的防伪码并发送给交易中的购买者，区块中包含了交易的NFT编号信息；进一步的，所述NFT溯源模块具有检索功能，通过输入NFT的编号能够在区块链中查询到对应区块，从而获得NFT自创建后拥有者的变化信息。本发明所取得的有益效果是：本系统通过设置存储模块来保存NFT并限制用户对存储模块中NFT的操作权限，使得在非交易期间每一个NFT只能够存在于一个存储私域中，实现“物”的防伪，每次交易后更新NFT的防伪码，实现“权”的防伪，在区块链中记录交易信息，并将交易信息与提供“物”和“权”的用户进行比较，实现“人”的防伪，通过这三层防伪机制来提高NFT的安全性。为使能更进一步了解本发明的特征及技术内容，请参阅以下有关本发明的详细说明与附图，然而所提供的附图仅用于提供参考与说明，并非用来对本发明加以限制。附图说明图1为本发明整体结构框架示意图；图2为本发明防伪码生成示意图；图3为本发明防伪码验证示意图；图4为本发明对NFT验证示意图；图5为本发明存储模块权限示意图。具体实施方式以下是通过特定的具体实施例来说明本发明的实施方式，本领域技术人员可由本说明书所公开的内容了解本发明的优点与效果。本发明可通过其他不同的具体实施例加以施行或应用，本说明书中的各项细节也可基于不同观点与应用，在不悖离本发明的精神下进行各种修饰与变更。另外，本发明的附图仅为简单示意说明，并非依实际尺寸的描绘，事先声明。以下的实施方式将进一步详细说明本发明的相关技术内容，但所公开的内容并非用以限制本发明的保护范围。实施例一。本实施例提供了一种基于区块链的NFT溯源防伪系统，结合图1，包括NFT存储模块、NFT转移模块、NFT验证模块、NFT溯源模块和NFT编号模块，所述NFT存储模块用于保存NFT的实质数字内容，所述NFT转移模块用于将NFT在不同用户间进行转移，所述NFT验证模块用于对NFT的合法性进行验证，所述NFT溯源模块通过区块链记录NFT的交易信息，所述NFT编号模块用于对NFT赋予编号；所述NFT的实质数字内容称为数字产品，所述NFT存储模块包括存储公域和存储私域，所述NFT验证模块对NFT的验证内容包括三点：①、用户对应的存储私域中存在NFT对应的数字产品；②、NFT溯源模块中关于该NFT的最后交易信息中的购买者为该用户；③、用户提供的防伪码能够通过验证；所述NFT验证模块对数字产品处理得到校验码，所述NFT溯源模块将对应的区块进行哈希处理得到哈希码，所述NFT验证模块将校验码和哈希码处理得到尾码，NFT的编号与所述尾码构成该NFT的防伪码；所述NFT验证模块对用户提供的防伪码进行验证的过程为：从防伪码中提取出编号，基于编号在所述NFT溯源模块中找到对应的区块，对区块进行哈希处理得到哈希码，对用户提供的数字产品处理得到校验码，将哈希码与校验码进行处理得到尾码，将尾码与防伪码进行对比；所述NFT验证模块包括计算处理单元，所述计算处理单元用于处理获得尾码的计算量，所述计算处理单元处理尾码的过程如下：所述哈希码与校验码具有相同的长度L，将哈希值与校验码中每个单位长度字符进行比较，得到码距数列，u为码距的序号，取值范围为，每个码距值的取值范围为；对码距值进行进位处理：；将码距值根据下式处理得到尾码：；其中，表示第i位尾码字符对应的值；所述NFT验证模块包括数字产品处理单元，所述数字产品处理单元用于处理得到校验码，获取校验码的过程如下：S41、将所述数字产品的代码信息按照顺序进行转换，得到数列，i为数列中元素的序号，数列中每个元素的取值范围为；S42、将数列按照下述公式进行处理得到数列：；其中，j为数列中元素的序号；S43、将数列和数列按照下式处理得到数列：；其中，k为数列中元素的序号；S44、将数列替换至数列并重复步骤S42和步骤S43，直至数列的元素个数处于区间内；S45、将数列的前L个元素转换成对应的字符，形成校验码；所述系统具有在存储公域和存储私域中复制、删除数字产品的权限，用户仅有在对应的存储私域中复制数字产品的权限；所述NFT溯源模块在交易完成时生成新的区块，所述NFT验证模块基于新区块的哈希值处理得到新的防伪码并发送给交易中的购买者，区块中包含了交易的NFT编号信息；所述NFT溯源模块具有检索功能，通过输入NFT的编号能够在区块链中查询到对应区块，从而获得NFT自创建后拥有者的变化信息。实施例二。本实施例包含了实施例一的全部内容，提供了一种基于区块链的NFT溯源防伪系统，包括NFT存储模块、NFT转移模块、NFT验证模块、NFT溯源模块和NFT编号模块，所述NFT存储模块用于保存NFT的实质数字内容，所述NFT转移模块用于将NFT在不同用户间进行转移，所述NFT验证模块用于对NFT的合法性进行验证，所述NFT溯源模块通过区块链记录NFT的交易信息，所述NFT编号模块用于对NFT赋予编号；结合图5，所述NFT存储模块包括存储公域和存储私域，所述存储公域和所述存储私域均用于存放NFT，所述存储公域能够被所有用户访问，所述存储私域智能够被专有用户访问，所述存储公域中的NFT无法被用户复制、删除以及修改，所述存储私域中的NFT无法被专有用户删除或修改，所述存储私域的专有用户只能对存储私域中的NFT进行复制，复制得到的数字产品能够被保存至任何地方，但该数字产品不具有NFT的唯一性；所述NFT转移模块用于处理NFT在两个用户间的交易处理，交易双方向所述NFT转移模块提交各自的存储私域使得系统获得存储私域的访问权限，所述NFT转移模块从存储公域中获取一个交易空间，并将该交易空间的地址发送给交易双方，NFT的出售者将存储私域中的NFT进行复制，然后将复制的数字产品保存至所述交易空间中，NFT的购买者对交易空间中的数字产品进行确认，确认无误后向所述NFT转移模块发送确认信息，所述NFT转移模块接收到确认信息后，将交易空间的数字产品进行复制，然后保存至NFT的购买者提供的存储私域中，需要注意的是，此时购买者存储私域中的数字产品、交易空间中的数字产品和出售者存储私域中的NFT三者内容完全一致，但NFT的所有权仍在出售者手中，此阶段完成的是NFT的内容转移；NFT的出售者将NFT的防伪码发送给所述NFT转移模块，所述NFT转移模块将所述防伪码发送至所述NFT验证模块进行验证，验证通过后，所述NFT转移模块将所述防伪码和此次交易信息记录在区块链中并得到新的防伪码，所述NFT转移模块将新的防伪码发送给NFT的购买者，并删除出售者存储私域中的NFT和交易空间中的数字产品，NFT的购买者因具有新的防伪码而获得NFT的所有权，购买者存储私域中的数字产品因具有防伪码而升级成为具有唯一性的NFT，此阶段完成的是NFT的权限转移；NFT的权限转移后，所述NFT验证模块对再出售者的防伪码进行验证时将会验证不通过，所述NFT验证模块对再购买者的防伪码进行验证时将会验证通过；当用户在所述系统中添加新的NFT时，将数字产品添加进存储公域中，所述NFT编号模块为该数字产品生成一串编号，将该编号以及添加NFT的信息记录在区块链中并得到防伪码，所述NFT转移模块将防伪码发送给用户，所述NFT转移模块将数字产品复制后保存在该用户的存储私域中，然后删除存储公域中的数字产品，存储私域中的数字产品在用户获得防伪码后升级为NFT；所述NFT溯源模块具有检索功能，通过输入NFT的编号能够在区块链中查询到对应的交易信息，从而获得NFT自创建后拥有者的变化信息；所述NFT验证模块包括数字产品处理单元，所述数字产品处理单元对数字产品计算处理后得到一串校验码；结合图2，所述计算处理单元根据区块信息获得防伪码的过程包括如下步骤：S1、从所述NFT验证模块获得对应数字产品的校验码；S2、将区块与校验码进行计算处理得到尾码；S3、将数字产品的编号与尾码构成防伪码；结合图3，所述NFT校验模块对用户提供的防伪码进行验证的过程包括如下步骤：S21、对提供的数字产品进行处理得到校验码；S22、从提供的防伪码中提取出编号；S23、基于编号从区块链中获得涉及该编号的最后一个区块；S24、使用计算处理单元将区块与校验码进行计算处理得到尾码；S25、将尾码与防伪码进行对比，对比一致则验证通过；结合图4，所述NFT校验模块对用户提供的NFT进行验证的过程包括如下步骤：S31、对防伪码进行验证；S32、对NFT的拥有者身份进行验证：在步骤S23中获得的区块记录的购买者信息与提供防伪码的用户信息进行比较；当上述两个验证结果均通过时，确认该NFT为唯一合法的NFT；所述数字产品处理单元处理得到校验码的过程如下：S41、将所述数字产品的代码信息按照顺序进行转换，得到数列，i为数列中元素的序号，数列中每个元素的取值范围为；S42、将数列按照下述公式进行处理得到数列：；其中，j为数列中元素的序号；S43、将数列和数列按照下式处理得到数列：；S44、将数列替换至数列并重复步骤S42和步骤S43，直至数列的元素个数处于区间内，其中，L为校验码的长度；S45、将数列的前L个元素转换成对应的字符，形成校验码，校验码中4个字符为一个单位长度；所述计算处理单元在步骤S2和步骤S24中计算尾码的过程包括如下步骤：S51、使用哈希函数对区块进行哈希处理得到哈希值；S52、哈希值中以4个字符作为一个单位长度，将哈希值与校验码中每个对应的单位长度的字符进行比较，得到码距数列，u为码距的序号，取值范围为，每个码距值的取值范围为；S53、对码距值进行进位处理：；S54、将码距值根据下式处理得到尾码：；其中，表示第i位尾码字符对应的值。以上所公开的内容仅为本发明的优选可行实施例，并非因此局限本发明的保护范围，所以凡是运用本发明说明书及附图内容所做的等效技术变化，均包含于本发明的保护范围内，此外，随着技术发展其中的元素可以更新的。
