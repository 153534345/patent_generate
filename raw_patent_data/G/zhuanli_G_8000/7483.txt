标题title
一种基于区域功能增强特征的城市人群流量预测方法及系统
摘要abst
一种基于区域功能增强特征的城市人群流量预测方法及系统，涉及城市智能计算技术领域，用以解决现有技术对于城市人群流量预测准确性不高的问题。本发明的技术要点包括：根据人群移动轨迹数据和城市兴趣点位置数据提取时空轨迹特征集和区域功能增强特征集，并将时空轨迹特征集和区域功能增强特征集结合输入预训练的机器学习预测模型中预测人群流量，其中，区域功能增强特征集包括基于兴趣点的区域功能增强特征集和基于轨迹的区域功能增强特征集。本发明中模型输入特征不仅考虑了轨迹特征，还考虑了兴趣点特征，即包含了基于城市各个区域功能影响的特征提取，可以有效地提高城市动态时空轨迹的流量预测结果的准确性。
权利要求书clms
1.一种基于区域功能增强特征的城市人群流量预测方法，其特征在于，包括以下步骤：步骤一、根据人群移动轨迹数据和城市兴趣点位置数据获取时空轨迹特征集和区域功能增强特征集；所述区域功能增强特征集包括基于兴趣点的区域功能增强特征集和基于轨迹的区域功能增强特征集；步骤二、将时空轨迹特征集和区域功能增强特征集结合输入预训练的基于机器学习的预测模型中预测人群流量，获得预测结果。2.根据权利要求1所述的一种基于区域功能增强特征的城市人群流量预测方法，其特征在于，步骤一中所述基于兴趣点的区域功能增强特征集的获取过程包括：步骤一一、根据城市地图数据获取城市兴趣点位置数据；步骤一二、爬取城市道路交通网数据和城市地图数据，根据城市道路分布将城市地图上的城市划分为细粒度分布区域，并与兴趣点位置数据关联映射；步骤一三、统计城市各个细粒度分布区域内部的不同功能类别的兴趣点的数量与分布情况，获取基于兴趣点的区域功能增强特征集，其中，兴趣点的功能类别有12个；具体获取过程包括：步骤一三一、根据兴趣点的数量和功能类别计算获得每个细粒度分布区域内每个功能类别的兴趣点对应的TF-IDF值：式中，表示第j类兴趣点在区域zk中的个数；表示区域zk中所有兴趣点的个数；表示细粒度分布区域总数；表示包含第j类兴趣点对应的细粒度分布区域总数；步骤一三二、根据每个细粒度分布区域内所有功能类别的兴趣点对应的TF-IDF值，获得该细粒度分布区域的12维TF-IDF值；步骤一三三、对多个细粒度分布区域的多个12维TF-IDF值进行区域聚类，聚类结果即为基于兴趣点的区域功能增强特征集。3.根据权利要求2所述的一种基于区域功能增强特征的城市人群流量预测方法，其特征在于，所述兴趣点的功能类别为：旅游景区，教育，医疗，车站，政府机构，文化传媒，汽车服务，公司企业，休闲娱乐，生活服务，住宅区，写字楼。4.根据权利要求3所述的一种基于区域功能增强特征的城市人群流量预测方法，其特征在于，步骤一中所述基于轨迹的区域功能增强特征集的获取过程包括：步骤一四、根据手机信令数据获取人群移动轨迹数据，所述人群移动轨迹数据包括每个用户的一个或多个停留区域及每个停留区域所对应的转移区域；所述转移区域为用户移动轨迹中某个停留区域相邻的一个或两个其他停留区域；步骤一五、将所述人群移动轨迹数据输入预训练的词嵌入word2vec模型中，获取各个细粒度分布区域的区域表征向量，所述区域表征向量Zij表示为：其中，pi和pj分别表示停留区域和转移区域；步骤一六、将各个细粒度分布区域的区域表征向量Zij与时空影响因子Tij相乘得到Rij；所述时空影响因子Tij表示为：其中，Pij表示转移区域pj到达停留区域pi的轨迹总数；durij表示转移事件，即由停留区域pi到达转移区域pj时在停留区域pj的停留时长；durik表示由停留区域pi到达转移区域pk时在停留区域pk的停留时长；Z表示城市总区域数；步骤一七、利用奇异值分解方法对由Rij组成的矩阵R进行分解，获得区域表征结果；步骤一八、将多个细粒度分布区域的区域表征结果进行聚类，获得各个细粒度分布区域的聚类类别即为基于轨迹的区域功能增强特征集。5.根据权利要求4所述的一种基于区域功能增强特征的城市人群流量预测方法，其特征在于，步骤一中所述时空轨迹特征集的获取过程包括：根据时间和空间分布将人群移动轨迹数据进行划分，获得多个时段对应的人群移动轨迹数据；根据各个细粒度分布区域每天各个时段的流量情况计算获得各个细粒度分布区域对应的轨迹数量或访问频次的以下特征：标准差，方差，最小值，最大值，中位数，不对称度和平均值；将上述特征作为时空轨迹特征集。6.根据权利要求5所述的一种基于区域功能增强特征的城市人群流量预测方法，其特征在于，步骤二中基于机器学习的预测模型是Xgboost和LightGBM融合模型。7.一种基于区域功能增强特征的城市人群流量预测系统，其特征在于，包括：特征获取模块，其配置成根据人群移动轨迹数据和城市兴趣点位置数据获取时空轨迹特征集和区域功能增强特征集；包括区域功能增强特征获取子模块和时空轨迹特征获取子模块；人群流量预测模块，其配置成将时空轨迹特征集和区域功能增强特征集结合输入预训练的基于机器学习的预测模型中预测人群流量，获得预测结果；其中，基于机器学习的预测模型是Xgboost和LightGBM融合模型。8.根据权利要求7所述的一种基于区域功能增强特征的城市人群流量预测系统，其特征在于，所述区域功能增强特征获取子模块用于获取基于兴趣点的区域功能增强特征集和基于轨迹的区域功能增强特征集；其中，所述基于兴趣点的区域功能增强特征集的获取过程包括：步骤一一、根据城市地图数据获取城市兴趣点位置数据；步骤一二、爬取城市道路交通网数据和城市地图数据，根据城市道路分布将城市地图上的城市划分为细粒度分布区域，并与兴趣点位置数据关联映射；步骤一三、统计城市各个细粒度分布区域内部的不同功能类别的兴趣点的数量与分布情况，获取基于兴趣点的区域功能增强特征集，其中，兴趣点的功能类别为：旅游景区，教育，医疗，车站，政府机构，文化传媒，汽车服务，公司企业，休闲娱乐，生活服务，住宅区，写字楼；具体获取过程包括：步骤一三一、根据兴趣点的数量和功能类别计算获得每个细粒度分布区域内每个功能类别的兴趣点对应的TF-IDF值：式中，表示第j类兴趣点在区域zk中的个数；表示区域zk中所有兴趣点的个数；表示细粒度分布区域总数；表示包含第j类兴趣点的细粒度分布区域总数；步骤一三二、根据每个细粒度分布区域内所有功能类别的兴趣点对应的TF-IDF值，获得该细粒度分布区域的12维TF-IDF值；步骤一三三、对多个细粒度分布区域的多个12维TF-IDF值进行区域聚类，聚类结果即为基于兴趣点的区域功能增强特征集。9.根据权利要求8所述的一种基于区域功能增强特征的城市人群流量预测系统，其特征在于，所述区域功能增强特征获取子模块中所述基于轨迹的区域功能增强特征集的获取过程包括：步骤一四、根据手机信令数据获取人群移动轨迹数据，所述人群移动轨迹数据包括每个用户的一个或多个停留区域及每个停留区域对应的转移区域；所述转移区域为用户移动轨迹中某个停留区域相邻的一个或两个其他停留区域；步骤一五、将所述人群移动轨迹数据输入预训练的词嵌入word2vec模型中，获取各个细粒度分布区域的区域表征向量，所述区域表征向量Zij表示为：其中，pi和pj分别表示停留区域和转移区域；步骤一六、将各个细粒度分布区域的区域表征向量Zij与时空影响因子Tij相乘得到Rij；所述时空影响因子Tij表示为：其中，Pij表示转移区域pj到达停留区域pi的轨迹总数；durij表示转移事件，即由停留区域pi到达转移区域pj时在停留区域pj的停留时长；durik表示由停留区域pi到达转移区域pk时在停留区域pk的停留时长；Z表示城市总区域数；步骤一七、利用奇异值分解方法对由Rij组成的矩阵R进行分解，获得区域表征结果；步骤一八、将多个细粒度分布区域的区域表征结果进行聚类，获得各个细粒度分布区域的聚类类别即为基于轨迹的区域功能增强特征集。10.根据权利要求9所述的一种基于区域功能增强特征的城市人群流量预测系统，其特征在于，所述时空轨迹特征获取子模块用于获取所述时空轨迹特征集，获取过程包括：根据时间和空间分布将人群移动轨迹数据进行划分，获得多个时段对应的人群移动轨迹数据；根据各个细粒度分布区域每天各个时段的流量情况计算获得各个细粒度分布区域对应的轨迹数量或访问频次的以下特征：标准差，方差，最小值，最大值，中位数，不对称度和平均值；将上述特征作为时空轨迹特征集。
说明书desc
技术领域本发明涉及城市智能计算技术领域，具体涉及一种基于区域功能增强特征的城市人群流量预测方法及系统。背景技术对城市区域内人群流量进行预测，可以为智慧城市的基础设施建设、突发情况和应急时间的管理，道路交通系统的规划等很多方面提供有力支撑。在城市的公共设施建设中，根据城市和各个区域的流量预测及分析，可以为城市规划者提供更加优化的设施分配和建设选址；在智能交通系统的服务管理中，预测公共交通站点的出入口流量，可以解决早高峰流量的分流问题，还可以改善城市的交通服务质量，提高对城市人群流量预测的准确性，提出相应措施，对城市出行的运营调度决策做出精准调整和限流，对城市的区域进行精准定位管控等。已有研究已经在区域人群流量预测领域取得了很多有效成果，例如：2020年Yongshun Gong等人考虑了各种趋势模式和气候影响，以及不同站点之间的固有相似性，提出了三种时空模型，能够精确地解决基于在线潜在空间策略的全网流量分布预测问题；2020年 JunboZhang等人将不规则区域中的人群流量预测建模为时空图预测问题，通过扩展图卷积来处理空间信息，使用空间图卷积来构建用于人群流量预测模型；2017年Runxing Zhong等人基于全市客流多种类型的异构数据提取不同类型的特征，提出了一种基于时空多任务学习的回归预测方法。但是，以上研究由于多种潜在影响因素和现实世界的不确定性等，对城市人群流量的建模和预测仍存在一些关键的限制：首先，研究中主要根据移动轨迹的自身移动特性，进行轨迹特征的提取，却忽略了在动态世界中的周围环境因素的的影响；其次，在对整个城市的人群流量进行建模预测时，会因为各个区域不同功能分布的影响，导致不同区域的人群流量的存在不同的规律性变化；第三，在细粒度城市数据中观察到的区域间动态流量转移使预测变得更加复杂，需要在全局范围内捕获不同区域之间的空间依赖性和功能关联性对与人群流量的影响。发明内容鉴于以上问题，本发明提出一种基于区域功能增强特征的城市人群流量预测方法及系统，用以解决现有技术对于城市人群流量预测准确性不高的问题。根据本发明的一方面，提供一种基于区域功能增强特征的城市人群流量预测方法，该方法包括以下步骤：步骤一、根据人群移动轨迹数据和城市兴趣点位置数据获取时空轨迹特征集和区域功能增强特征集；所述区域功能增强特征集包括基于兴趣点的区域功能增强特征集和基于轨迹的区域功能增强特征集；步骤二、将时空轨迹特征集和区域功能增强特征集结合输入预训练的基于机器学习的预测模型中预测人群流量，获得预测结果。进一步地，步骤一中所述基于兴趣点的区域功能增强特征集的获取过程包括：步骤一一、根据城市地图数据获取城市兴趣点位置数据；步骤一二、爬取城市道路交通网数据和城市地图数据，根据城市道路分布将城市地图上的城市划分为细粒度分布区域，并与兴趣点位置数据关联映射；步骤一三、统计城市各个细粒度分布区域内部的不同功能类别的兴趣点的数量与分布情况，获取基于兴趣点的区域功能增强特征集，其中，兴趣点的功能类别有12个；具体获取过程包括：步骤一三一、根据兴趣点的数量和功能类别计算获得每个细粒度分布区域内每个功能类别的兴趣点对应的TF-IDF值：式中，表示第j类兴趣点在区域zk中的个数；表示区域zk中所有兴趣点的个数；表示细粒度分布区域总数；表示包含第j类兴趣点对应的细粒度分布区域总数；步骤一三二、根据每个细粒度分布区域内所有功能类别的兴趣点对应的TF-IDF值，获得该细粒度分布区域的12维TF-IDF值；步骤一三三、对多个细粒度分布区域的多个12维TF-IDF值进行区域聚类，聚类结果即为基于兴趣点的区域功能增强特征集。进一步地，所述兴趣点的功能类别为：旅游景区，教育，医疗，车站，政府机构，文化传媒，汽车服务，公司企业，休闲娱乐，生活服务，住宅区，写字楼。进一步地，步骤一中所述基于轨迹的区域功能增强特征集的获取过程包括：步骤一四、根据手机信令数据获取人群移动轨迹数据，所述人群移动轨迹数据包括每个用户的一个或多个停留区域及每个停留区域所对应的转移区域；所述转移区域为用户移动轨迹中某个停留区域相邻的一个或两个其他停留区域；步骤一五、将所述人群移动轨迹数据输入预训练的词嵌入word2vec模型中，获取各个细粒度分布区域的区域表征向量，所述区域表征向量Zij表示为：其中，pi和pj分别表示停留区域和转移区域；步骤一六、将各个细粒度分布区域的区域表征向量Zij与时空影响因子Tij相乘得到Rij；所述时空影响因子Tij表示为：其中，Pij表示转移区域pj到达停留区域pi的轨迹总数；durij表示转移事件，即由停留区域 pi到达转移区域pj时在停留区域pj的停留时长；durik表示由停留区域pi到达转移区域pk时在停留区域pk的停留时长；Z表示城市总区域数；步骤一七、利用奇异值分解方法对由Rij组成的矩阵R进行分解，获得区域表征结果；步骤一八、将多个细粒度分布区域的区域表征结果进行聚类，获得各个细粒度分布区域的聚类类别即为基于轨迹的区域功能增强特征集。进一步地，步骤一中所述时空轨迹特征集的获取过程包括：根据时间和空间分布将人群移动轨迹数据进行划分，获得多个时段对应的人群移动轨迹数据；根据各个细粒度分布区域每天各个时段的流量情况计算获得各个细粒度分布区域对应的轨迹数量或访问频次的以下特征：标准差，方差，最小值，最大值，中位数，不对称度和平均值；将上述特征作为时空轨迹特征集。进一步地，步骤二中基于机器学习的预测模型是Xgboost和LightGBM融合模型。根据本发明的另一方面，提供一种基于区域功能增强特征的城市人群流量预测系统，该系统包括：特征获取模块，其配置成根据人群移动轨迹数据和城市兴趣点位置数据获取时空轨迹特征集和区域功能增强特征集；包括区域功能增强特征获取子模块和时空轨迹特征获取子模块；人群流量预测模块，其配置成将时空轨迹特征集和区域功能增强特征集结合输入预训练的基于机器学习的预测模型中预测人群流量，获得预测结果；其中，基于机器学习的预测模型是Xgboost和LightGBM融合模型。进一步地，所述区域功能增强特征获取子模块用于获取基于兴趣点的区域功能增强特征集和基于轨迹的区域功能增强特征集；其中，所述基于兴趣点的区域功能增强特征集的获取过程包括：步骤一一、根据城市地图数据获取城市兴趣点位置数据；步骤一二、爬取城市道路交通网数据和城市地图数据，根据城市道路分布将城市地图上的城市划分为细粒度分布区域，并与兴趣点位置数据关联映射；步骤一三、统计城市各个细粒度分布区域内部的不同功能类别的兴趣点的数量与分布情况，获取基于兴趣点的区域功能增强特征集，其中，兴趣点的功能类别为：旅游景区，教育，医疗，车站，政府机构，文化传媒，汽车服务，公司企业，休闲娱乐，生活服务，住宅区，写字楼；具体获取过程包括：步骤一三一、根据兴趣点的数量和功能类别计算获得每个细粒度分布区域内每个功能类别的兴趣点对应的TF-IDF值：式中，表示第j类兴趣点在区域zk中的个数；表示区域zk中所有兴趣点的个数；表示细粒度分布区域总数；表示包含第j类兴趣点的细粒度分布区域总数；步骤一三二、根据每个细粒度分布区域内所有功能类别的兴趣点对应的TF-IDF值，获得该细粒度分布区域的12维TF-IDF值；步骤一三三、对多个细粒度分布区域的多个12维TF-IDF值进行区域聚类，聚类结果即为基于兴趣点的区域功能增强特征集。进一步地，所述区域功能增强特征获取子模块中所述基于轨迹的区域功能增强特征集的获取过程包括：步骤一四、根据手机信令数据获取人群移动轨迹数据，所述人群移动轨迹数据包括每个用户的一个或多个停留区域及每个停留区域对应的转移区域；所述转移区域为用户移动轨迹中某个停留区域相邻的一个或两个其他停留区域；步骤一五、将所述人群移动轨迹数据输入预训练的词嵌入word2vec模型中，获取各个细粒度分布区域的区域表征向量，所述区域表征向量Zij表示为：其中，pi和pj分别表示停留区域和转移区域；步骤一六、将各个细粒度分布区域的区域表征向量Zij与时空影响因子Tij相乘得到Rij；所述时空影响因子Tij表示为：其中，Pij表示转移区域pj到达停留区域pi的轨迹总数；durij表示转移事件，即由停留区域 pi到达转移区域pj时在停留区域pj的停留时长；durik表示由停留区域pi到达转移区域pk时在停留区域pk的停留时长；Z表示城市总区域数；步骤一七、利用奇异值分解方法对由Rij组成的矩阵R进行分解，获得区域表征结果；步骤一八、将多个细粒度分布区域的区域表征结果进行聚类，获得各个细粒度分布区域的聚类类别即为基于轨迹的区域功能增强特征集。进一步地，所述时空轨迹特征获取子模块用于获取所述时空轨迹特征集，获取过程包括：根据时间和空间分布将人群移动轨迹数据进行划分，获得多个时段对应的人群移动轨迹数据；根据各个细粒度分布区域每天各个时段的流量情况计算获得各个细粒度分布区域对应的轨迹数量或访问频次的以下特征：标准差，方差，最小值，最大值，中位数，不对称度和平均值；将上述特征作为时空轨迹特征集。本发明的有益技术效果是：本发明提供一种基于区域功能增强特征的城市人群流量预测方法及系统，根据人群移动轨迹数据和城市兴趣点位置数据提取时空轨迹特征集和区域功能增强特征集，并将时空轨迹特征集和区域功能增强特征集结合输入预训练的机器学习预测模型中预测人群流量，其中，区域功能增强特征集包括基于兴趣点的区域功能增强特征集和基于轨迹的区域功能增强特征集；本发明的模型输入特征不仅考虑了轨迹特征，还考虑了兴趣点特征，即包含了基于城市各个区域功能影响的特征提取，进而可以有效地提高城市动态时空轨迹的流量预测结果的准确性。附图说明本发明可以通过参考下文中结合附图所给出的描述而得到更好的理解，所述附图连同下面的详细说明一起包含在本说明书中并且形成本说明书的一部分，而且用来进一步举例说明本发明的优选实施例和解释本发明的原理和优点。图1是本发明实施例一种基于区域功能增强特征的城市人群流量预测方法的流程示意图；图2是本发明实施例一种基于区域功能增强特征的城市人群流量预测系统的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本发明方案，在下文中将结合附图对本发明的示范性实施方式或实施例进行描述。显然，所描述的实施方式或实施例仅仅是本发明一部分的实施方式或实施例，而不是全部的。基于本发明中的实施方式或实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施方式或实施例，都应当属于本发明保护的范围。本发明实施例提供一种基于区域功能增强特征的城市人群流量预测方法，该方法包括以下步骤：步骤一、根据人群移动轨迹数据和城市兴趣点位置数据获取时空轨迹特征集和区域功能增强特征集；区域功能增强特征集包括基于兴趣点的区域功能增强特征集和基于轨迹的区域功能增强特征集；步骤二、将时空轨迹特征集和区域功能增强特征集结合输入预训练的基于机器学习的预测模型中预测人群流量，获得预测结果。本实施例中，可选地，步骤一中基于兴趣点的区域功能增强特征集的获取过程包括：步骤一一、根据城市地图数据获取城市兴趣点位置数据；步骤一二、爬取城市道路交通网数据和城市地图数据，根据城市道路分布将城市地图上的城市划分为细粒度分布区域，并与兴趣点位置数据关联映射；步骤一三、统计城市各个细粒度分布区域内部的不同功能类别的兴趣点的数量与分布情况，获取基于兴趣点的区域功能增强特征集，其中，兴趣点的功能类别有12个，为：旅游景区，教育，医疗，车站，政府机构，文化传媒，汽车服务，公司企业，休闲娱乐，生活服务，住宅区，写字楼；具体获取过程包括：步骤一三一、根据兴趣点的数量和功能类别计算获得每个细粒度分布区域内每个功能类别的兴趣点对应的TF-IDF值：式中，表示第j类兴趣点在区域zk中的个数；表示区域zk中所有兴趣点的个数；表示细粒度分布区域总数；表示包含第j类兴趣点对应的细粒度分布区域总数；步骤一三二、根据每个细粒度分布区域内所有功能类别的兴趣点对应的TF-IDF值，获得该细粒度分布区域的12维TF-IDF值；步骤一三三、对多个细粒度分布区域的多个12维TF-IDF值进行区域聚类，聚类结果即为基于兴趣点的区域功能增强特征集。本实施例中，可选地，步骤一中基于轨迹的区域功能增强特征集的获取过程包括：步骤一四、根据手机信令数据获取人群移动轨迹数据，人群移动轨迹数据包括每个用户的一个或多个停留区域及每个停留区域所对应的转移区域；转移区域为用户移动轨迹中某个停留区域相邻的一个或两个其他停留区域；步骤一五、将人群移动轨迹数据输入预训练的词嵌入word2vec模型中，获取各个细粒度分布区域的区域表征向量，区域表征向量Zij表示为：其中，pi和pj分别表示停留区域和转移区域；步骤一六、将各个细粒度分布区域的区域表征向量Zij与时空影响因子Tij相乘得到Rij；时空影响因子Tij表示为：其中，Pij表示转移区域pj到达停留区域pi的轨迹总数；durij表示转移事件，即由停留区域 pi到达转移区域pj时在停留区域pj的停留时长；durik表示由停留区域pi到达转移区域pk时在停留区域pk的停留时长；Z表示城市总区域数；步骤一七、利用奇异值分解方法对由Rij组成的矩阵R进行分解，获得区域表征结果；步骤一八、将多个细粒度分布区域的区域表征结果进行聚类，获得各个细粒度分布区域的聚类类别即为基于轨迹的区域功能增强特征集。本实施例中，可选地，步骤一中时空轨迹特征集的获取过程包括：根据时间和空间分布将人群移动轨迹数据进行划分，获得多个时段对应的人群移动轨迹数据；根据各个细粒度分布区域每天各个时段的流量情况计算获得各个细粒度分布区域对应的轨迹数量或访问频次的以下特征：标准差，方差，最小值，最大值，中位数，不对称度和平均值；将上述特征作为时空轨迹特征集。本实施例中，可选地，基于机器学习的预测模型是Xgboost和LightGBM融合模型。需要说明的是，基于机器学习的预测模型还可以是其他模型，例如，GradientBoost，Bagging， KNN等经过预训练后同样可以实现人群流量预测。本发明另一实施例提供一种基于区域功能增强特征的城市人群流量预测方法，如图1所示，该方法包括以下步骤：步骤一、分析并处理手机信令数据，获取人群移动轨迹信息，即多个用户一天经过的所有停留区域为连续的移动轨迹数据；并从人群移动轨迹信息中提取每个用户的停留区域p。根据本发明实施例，手机信令数据即手机连接信号塔产生的记录数据；人群移动轨迹信息包括用户编号、经过信号塔的时间、基站编号。移动轨迹数据可以真实的反映出用户在一天中的流动状态和流动目的，展现区域之见的关联性和差异性，以更好的挖掘城市区域的功能分布。进一步地，预设停留时间阈值，例如为15分钟，记录每个用户停留超过停留时间阈值所对应的区域为停留区域。步骤二、根据开源的城市地图数据，爬取城市的兴趣点位置数据，并映射到城市地图上。根据本发明实施例，兴趣点POI，在地理信息系统中可以表示为任何一个建筑，大到一幢大楼、一个商场或者小至一家商店、一个公交站点等。每个POI包含名称、类别、坐标等方面信息，通过对城市的POI分布可以更好的了解不同区域的功能特性。在城市区域中，分布的POI类别数量可以反应出区域的功能分布情况和其发挥的功能属性。步骤三、爬取城市的道路交通网数据和城市地图数据，根据城市道路分布将城市地图上的城市划分为细粒度分布区域，并与兴趣点位置数据关联映射。根据本发明实施例，可以利用地图编辑工具ARCMAP将城市主干道路进行去重和延长修正，形成由路网分割的多个无重叠细粒度自然区域，根据城市主干道路和主要路段将城市分割成细粒度的空间子区域。步骤四、统计城市各个细粒度分布区域内部的不同功能类别的兴趣点的数量与分布情况，获得基于兴趣点的区域功能增强特征。根据本发明实施例，城市的区域功能类别和兴趣点类别相同，共有12类，分别为：旅游景区，教育，医疗，车站，政府机构，文化传媒，汽车服务，公司企业，休闲娱乐，生活服务，住宅区，写字楼。基于兴趣点自身具有功能属性的特点，将POI数据直接用作区域功能属性的划分特征。根据统计学方法TF-IDF来测量不同POI类别对每一个基站区域的重要性。基于兴趣点的区域功能增强特征按照下述方式获取：对于在区域zk内的第j类POI：其中，表示第j类POI在区域zk中的个数；表示区域zk中所有POI的个数；表示总区域数；表示包含第j类POI的总区域数。根据兴趣点的数量和类别获得每个区域内每个类别POI的TF-IDF值，然后根据每个区域的所有POI类别的TF-IDF值获得该区域的12维TF-IDF值，然后对多个区域的多个12维 TF-IDF值进行k-means区域聚类，聚类结果即为最终得到的基于兴趣点的区域功能增强特征。步骤五、根据各个区域轨迹数据，使用区域功能表征模型进行训练，获得基于轨迹的区域功能增强特征。根据本发明实施例，所述区域功能表征模型是基于词嵌入word2vec模型构建的。利用轨迹中的当前停留区域和转移区域分析区域功能之间的相关性，将其映射为对应区域表征表示并计算两者的关联；转移区域是指在轨迹中停留区域前后所经过的区域，即轨迹经过的上一个停留区域或是即将经过的下一个停留区域。所以在目标空间中，各个区域功能的表征表示为：其中，pi和pj分别表示停留区域和转移区域。因为区域表征具有强烈的时空特性，因此本发明提出了一种基于轨迹转移的区域的时空影响因子Tii：其中，Pij表示转移区域pj到达停留区域pi的轨迹总数；durij表示转移事件，即轨迹由区域 pi到达区域pj在停留区域pj的停留时长；durik表示轨迹由区域pi到达区域pk在停留区域pk的停留时长；Z表示城市总区域数。Pij都会受到转移事件durij的不同影响，所以移动轨迹对停留区域pi的区域功能关联结果表示为：Rij＝Zij·Tij然后，利用奇异值分解由Rij组成的矩阵R获得区域表征结果。然后，将多个区域的区域表征结果进行K-means聚类，聚类类别与兴趣点类别保持一致，得到各个区域的表征聚类类别，即为基于轨迹的区域功能增强特征。步骤六、根据人群移动轨迹信息获取时空轨迹特征集；根据本发明实施例，一方面，根据时间分布和空间分布将轨迹数据进行划分，将一周划分为工作日和周末，一天分为四个时段和LightGBM 融合模型来预测人群流量。根据本发明实施例，LightGBM是微软开源的一个实现Gradient BoostingDecision Tree -GBDT算法的框架，支持高效率的并行训练。融合模型中两种模型的融合比例为1∶1。进一步通过实验验证本发明的技术效果。为了评估本发明提出的基于城市功能区域功能增强特征的人群流量预测方法的有效性，使用真实长春市市区信令数据集和兴趣点数据集进行实验验证。基线算法采用与未增加区域功能增强特征集的城市区域流量预测结果进行对比。预测结果中采用通用的评价指标：均方误差，平均绝对误差，可释方差值，确定系数，中值绝对误差 进行评估比较，其结果为表1所示。表1MSEMAEEVSR2MedAE特征集1840.17621.3410.999730.9997315.953特征集2940.51824.1670.999860.9998617.534特征集387.413*24.167*0.99992*0.99992*2.793* 表1中特征集1为时空轨迹特征集；特征集2为区域功能增强特征集；特征集3为时空轨迹特征集+区域功能增强特征集；*表示最佳性能结果。通过各项验证指标对比，可以看出，本发明方法可以更准确的预测城市区域的人群流量情况。本发明另一实施例提供一种基于区域功能增强特征的城市人群流量预测系统，如图2所示，该系统包括：特征获取模块10，其配置成根据人群移动轨迹数据和城市兴趣点位置数据获取时空轨迹特征集和区域功能增强特征集；人群流量预测模块20，其配置成将时空轨迹特征集和区域功能增强特征集结合输入预训练的基于机器学习的预测模型中预测人群流量，获得预测结果；其中，基于机器学习的预测模型是Xgboost和LightGBM融合模型。本实施例中，可选地，特征获取模块10包括区域功能增强特征获取子模块110和时空轨迹特征获取子模块120；区域功能增强特征获取子模块110用于获取基于兴趣点的区域功能增强特征集和基于轨迹的区域功能增强特征集；其中，基于兴趣点的区域功能增强特征集的获取过程包括：步骤一一、根据城市地图数据获取城市兴趣点位置数据；步骤一二、爬取城市道路交通网数据和城市地图数据，根据城市道路分布将城市地图上的城市划分为细粒度分布区域，并与兴趣点位置数据关联映射；步骤一三、统计城市各个细粒度分布区域内部的不同功能类别的兴趣点的数量与分布情况，获取基于兴趣点的区域功能增强特征集，其中，兴趣点的功能类别为：旅游景区，教育，医疗，车站，政府机构，文化传媒，汽车服务，公司企业，休闲娱乐，生活服务，住宅区，写字楼；具体获取过程包括：步骤一三一、根据兴趣点的数量和功能类别计算获得每个细粒度分布区域内每个功能类别的兴趣点对应的TF-IDF值：式中，表示第j类兴趣点在区域zk中的个数；表示区域zk中所有兴趣点的个数；表示细粒度分布区域总数；表示包含第j类兴趣点的细粒度分布区域总数；步骤一三二、根据每个细粒度分布区域内所有功能类别的兴趣点对应的TF-IDF值，获得该细粒度分布区域的12维TF-IDF值；步骤一三三、对多个细粒度分布区域的多个12维TF-IDF值进行区域聚类，聚类结果即为基于兴趣点的区域功能增强特征集。本实施例中，可选地，区域功能增强特征获取子模块110中基于轨迹的区域功能增强特征集的获取过程包括：步骤一四、根据手机信令数据获取人群移动轨迹数据，人群移动轨迹数据包括每个用户的一个或多个停留区域及每个停留区域对应的转移区域；转移区域为用户移动轨迹中某个停留区域相邻的一个或两个其他停留区域；步骤一五、将人群移动轨迹数据输入预训练的词嵌入word2vec模型中，获取各个细粒度分布区域的区域表征向量，区域表征向量Zij表示为：其中，pi和pj分别表示停留区域和转移区域；步骤一六、将各个细粒度分布区域的区域表征向量Zij与时空影响因子Tij相乘得到Rij；时空影响因子Tij表示为：其中，Pij表示转移区域pj到达停留区域pi的轨迹总数；durij表示转移事件，即由停留区域 pi到达转移区域pj时在停留区域pj的停留时长；durik表示由停留区域pi到达转移区域pk时在停留区域pk的停留时长；Z表示城市总区域数；步骤一七、利用奇异值分解方法对由Rij组成的矩阵R进行分解，获得区域表征结果；步骤一八、将多个细粒度分布区域的区域表征结果进行聚类，获得各个细粒度分布区域的聚类类别即为基于轨迹的区域功能增强特征集。本实施例中，可选地，时空轨迹特征获取子模块120用于获取时空轨迹特征集，获取过程包括：根据时间和空间分布将人群移动轨迹数据进行划分，获得多个时段对应的人群移动轨迹数据；根据各个细粒度分布区域每天各个时段的流量情况计算获得各个细粒度分布区域对应的轨迹数量或访问频次的以下特征：标准差，方差，最小值，最大值，中位数，不对称度和平均值；将上述特征作为时空轨迹特征集。本实施例所述一种基于区域功能增强特征的城市人群流量预测系统的功能可以由前述一种基于区域功能增强特征的城市人群流量预测方法说明，因此本实施例未详述部分，可参见以上方法实施例，在此不再赘述。尽管根据有限数量的实施例描述了本发明，但是受益于上面的描述，本技术领域内的技术人员明白，在由此描述的本发明的范围内，可以设想其它实施例。对于本发明的范围，对本发明所做的公开是说明性的，而非限制性的，本发明的范围由所附权利要求书限定。本发明所援引的文献如下：Yongshun Gong，Zhibin Li，Jian Zhang，Wei Liu，Jinfeng Yi：PotentialPassenger Flow Prediction：A Novel Study for Urban TransportationDevelopment.AAAI 2020：4020-4027Junbo Zhang，Yu Zheng，Junkai Sun，Dekang Qi：Flow Prediction inSpatio-Temporal Networks Based on Multitask Deep Learning.IEEETrans.Knowl.Data Eng.32：468-478Runxing Zhong，Weifeng Lv，Bowen Du，Shuo Lei，Runhe Huang：Spatiotemporal multi-task learning for citywide passenger flowprediction.SmartWorld/SCALCOM/UIC/ATC/CBDCom/IOP/SCI 2017：1-8。
