标题title
一种家居设备的位置标记方法及电子设备
摘要abst
一种家居设备的位置标记方法及电子设备，涉及智能家居领域，无论家居设备是否配置有UWB芯片，电子设备都可以对该家居设备进行位置标注；还可以提升对家居设备进行位置标注的准确度，进而提升电子设备指向性控制家居设备时的定位精度。具体方案包括：电子设备接收用户的第一操作，该第一操作用于触发电子设备对多个家居设备中的第一家居设备进行位置标记；响应于第一操作，通过UWB芯片获取电子设备在n方位分别指向第一家居设备时电子设备的空间位姿信息；根据电子设备在n方位的空间位姿信息，计算第一家居设备的空间位置信息。
权利要求书clms
1.一种家居设备的位置标记方法，其特征在于，所述方法应用于电子设备，所述电子设备包括超宽带UWB芯片，所述方法包括：所述电子设备接收用户的第一操作，所述第一操作用于触发所述电子设备对所述多个家居设备中的第一家居设备进行位置标记；所述电子设备响应于所述第一操作，通过所述UWB芯片获取所述电子设备在n方位分别指向所述第一家居设备时，所述电子设备的空间位姿信息，所述空间位姿信息包括空间位置信息和空间姿态信息；其中，n≥2，n为整数；所述电子设备根据所述电子设备在所述n方位的空间位姿信息，计算所述第一家居设备的空间位置信息。2.根据权利要求1所述的方法，其特征在于，所述电子设备接收用户的第一操作，包括：所述电子设备接收用户在第一界面的所述第一操作；其中，所述第一界面是所述电子设备的智能家居应用APP的设备管理界面，所述设备管理界面包括所述智能家居APP中绑定的多个家居设备的图标，所述第一操作是用于对所述多个家居设备中第一家居设备的预设操作；或者，所述第一界面是所述电子设备的智能家居APP绑定的多个家居设备中第一家居设备的控制界面，所述第一家居设备的控制界面包括预设功能项，所述预设功能项用于触发所述电子设备对所述第一家居设备进行位置标记，所述第一操作是对所述预设功能项的点击操作。3.根据权利要求1或2所述的方法，其特征在于，所述方法还包括：所述电子设备响应于所述第一操作，发出第一提示信息，所述第一提示信息用于提示用户控制所述电子设备在所述n方位指向所述第一家居设备。4.根据权利要求3所述的方法，其特征在于，所述第一提示信息还用于：提示用户控制所述电子设备在n个方位指向所述第一家居设备时，在每个方位分别保持预设时长。5.根据权利要求3或4所述的方法，其特征在于，所述第一提示信息还用于：向用户提示控制所述电子设备在所述n方位分别指向所述第一家居设备的方式，所述方式包括文字或者图示的方式。6.根据权利要求3-5中任一项所述的方法，其特征在于，在所述电子设备响应于所述第一操作，发出第一提示信息之后，所述方法还包括：所述电子设备获取到所述电子设备在所述n个方位中方位k的空间位姿信息后，发出第二提示信息，所述第二提示信息用于提示用户控制所述电子设备由所述方位k移动至方位k+1，并在所述方位k+1指向所述第一家居设备；其中，k依次在{1，2……，n-1}中取值。7.根据权利要求1-6中任一项所述的方法，其特征在于，在所述电子设备根据所述电子设备在所述n方位的空间位姿信息，计算所述第一家居设备的空间位置信息之后，所述方法还包括：所述电子设备发出第三提示信息，所述第三提示信息用于提示用户所述第一家居设备的位置标注已完成，并提示用户能够操作所述电子设备实现对所述第一家居设备的指向性控制了。8.根据权利要求1-7中任一项所述的方法，其特征在于，所述电子设备通过所述UWB芯片获取所述电子设备在所述n方位分别指向所述第一家居设备时，所述电子设备的空间位姿信息，包括：所述电子设备响应于第二操作，获取所述电子设备在所述n个方位中的方位i指向所述第一家居设备时，所述电子设备的空间位姿信息i；其中，i依次在{1，2……，n}中取值；其中，所述第二操作是用户控制所述电子设备在所述方位i指向所述第一家居设备时，对所述电子设备中预设按键或第一提示信息中预设控件的点击操作；所述预设按键用于触发所述电子设备获取所述电子设备的空间位姿信息，所述预设控件用于触发所述电子设备获取所述电子设备的空间位姿信息。9.根据权利要求1-8中任一项所述的方法，其特征在于，所述电子设备还包括惯性测量仪IMU芯片；其中，所述电子设备通过所述UWB芯片获取所述电子设备在所述n方位分别指向所述第一家居设备时，所述电子设备的空间位姿信息，包括：所述电子设备在所述n方位中的方位i指向所述第一家居设备时，通过所述UWB芯片与m个UWB基站交互，获取所述电子设备与所述m个UWB基站中各个UWB基站之间的距离，并根据获取到的距离计算所述电子设备的空间位置信息i；其中，i依次在{1，2……，n}中取值；m≥3，m是整数，所述m个UWB基站由至少一个包括UWB芯片的家居设备提供；所述电子设备通过所述UWB芯片和所述IMU芯片，获取所述电子设备在所述方位i指向所述第一家居设备时，所述电子设备的空间姿态信息i。10.根据权利要求1-9中任一项所述的方法，其特征在于，所述电子设备在所述n个方位中的方位i的空间位姿信息i包括：所述电子设备在所述方位i的空间位置信息i和所述电子设备在所述方位i的空间姿态信息i；其中，i在{1，2……，n}中依次取值；所述电子设备在所述方位i的空间位置信息i为：所述电子设备在所述方位i指向所述第一家居设备时，所述电子设备在m个UWB基站构建的UWB坐标系中的坐标；其中，所述m个UWB基站由至少一个包括UWB芯片的家居设备提供；所述电子设备在所述方位i的空间姿态信息i包括：所述电子设备在所述方位i指向所述第一家居设备时，所述电子设备的载体坐标系相对于所述UWB坐标系的俯仰角方位角φi和横滚角θi，所述载体坐标系预先配置在所述电子设备中；所述第一家居设备的空间位置信息为：所述第一家居设备在所述UWB坐标系中的坐标。11.根据权利要求10所述的方法，其特征在于，所述电子设备根据所述电子设备在所述n方位的空间位姿信息，计算所述第一家居设备的空间位置信息，包括：所述电子设备采用预设旋转矩阵，根据所述电子设备在所述n个方位指向所述第一家居设备时，所述电子设备在所述UWB坐标系中的坐标，以及所述俯仰角所述方位角φi和所述横滚角θi，计算所述第一家居设备的空间位置信息；其中，所述预设旋转矩阵为：所述电子设备由所述俯仰角所述方位角φi和所述横滚角θi对应的空间姿态变换至预设初始姿态时的旋转矩阵；所述预设初始姿态为所述载体坐标系的三轴分别与所述UWB坐标系的三轴平行时，所述电子设备的姿态；所述预设旋转矩阵用于将所述载体坐标系中的坐标参数转换为所述UWB坐标系中的坐标参数。12.根据权利要求1-11中任一项所述的方法，其特征在于，所述方法还包括：所述电子设备判断所述第一家居设备的空间位置信息的计算误差是否小于预设误差门限；如果所述第一家居设备的空间位置信息的计算误差小于所述预设误差门限，所述电子设备保存所述第一家居设备的空间位置信息。13.根据权利要求12所述的方法，其特征在于，所述方法还包括：如果所述第一家居设备的空间位置信息的计算误差小于所述预设误差门限，所述电子设备发出第三提示信息，所述第三提示信息用于提示用户所述第一家居设备的位置标注已完成，并提示用户能够操作所述电子设备实现对所述第一家居设备的指向性控制了。14.根据权利要求12或13所述的方法，其特征在于，所述方法还包括：如果所述第一家居设备的空间位置信息的计算误差大于或等于所述预设误差门限，所述电子设备发出第四提示信息，所述第四提示信息用于请求用户确认是否重新对所述第一家居设备进行位置标记。15.一种电子设备，其特征在于，所述电子设备包括超宽带UWB芯片、显示屏、存储器和一个或多个处理器；所述UWB芯片、所述显示屏、所述存储器和所述处理器耦合；所述存储器用于存储计算机程序代码，所述计算机程序代码包括计算机指令，当所述计算机指令被所述电子设备执行时，使得所述电子设备执行如下步骤：接收用户的第一操作，所述第一操作用于触发所述电子设备对所述多个家居设备中的第一家居设备进行位置标记；响应于所述第一操作，通过所述UWB芯片获取所述电子设备在n方位分别指向所述第一家居设备时，所述电子设备的空间位姿信息，所述空间位姿信息包括空间位置信息和空间姿态信息；其中，n≥2，n为整数；根据所述电子设备在所述n方位的空间位姿信息，计算所述第一家居设备的空间位置信息。16.根据权利要求15所述的电子设备，其特征在于，当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：接收用户在第一界面的所述第一操作；其中，所述第一界面是所述电子设备的智能家居应用APP的设备管理界面，所述设备管理界面包括所述智能家居APP中绑定的多个家居设备的图标，所述第一操作是用于对所述多个家居设备中第一家居设备的预设操作；或者，所述第一界面是所述电子设备的智能家居APP绑定的所述第一家居设备的控制界面，所述第一家居设备的控制界面包括预设功能项，所述预设功能项用于触发所述电子设备对所述多个家居设备中的第一家居设备进行位置标记，所述第一操作是对所述预设功能项的点击操作。17.根据权利要求15或16所述的电子设备，其特征在于，当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：响应于所述第一操作，发出第一提示信息，所述第一提示信息用于提示用户控制所述电子设备在n方位指向所述第一家居设备。18.根据权利要求17所述的电子设备，其特征在于，所述第一提示信息还用于：提示用户控制所述电子设备在n个方位指向所述第一家居设备时，在每个方位分别保持预设时长。19.根据权利要求17或18中任一项所述的电子设备，其特征在于，所述第一提示信息还用于：向用户提示控制所述电子设备在所述n方位分别指向所述第一家居设备的方式，所述方式包括文字或者图示的方式。20.根据权利要求15-19中任一项所述的电子设备，其特征在于，当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：获取到所述电子设备在所述n个方位中方位k的空间位姿信息后，发出第二提示信息，所述第二提示信息用于提示用户控制所述电子设备由所述方位k移动至方位k+1，并在所述方位k+1指向所述第一家居设备；其中，k依次在{1，2……，n-1}中取值。21.根据权利要求15-20中任一项所述的电子设备，其特征在于，当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：在计算所述第一家居设备的空间位置信息之后，发出第三提示信息，所述第三提示信息用于提示用户所述第一家居设备的位置标注已完成，并提示用户能够操作所述电子设备实现对所述第一家居设备的指向性控制了。22.根据权利要求15-21中任一项所述的电子设备，其特征在于，当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：响应于第二操作，获取所述电子设备在所述n个方位中的方位i指向所述第一家居设备时，所述电子设备的空间位姿信息i；其中，i依次在{1，2……，n}中取值；其中，所述第二操作是用户控制所述电子设备在所述方位i指向所述第一家居设备时，对所述电子设备中预设按键或第一提示信息中预设控件的点击操作；所述预设按键用于触发所述电子设备获取所述电子设备的空间位姿信息，所述预设控件用于触发所述电子设备获取所述电子设备的空间位姿信息。23.根据权利要求15-22中任一项所述的电子设备，其特征在于，所述电子设备还包括惯性测量仪IMU芯片；当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：在所述n方位中的方位i指向所述第一家居设备时，通过所述UWB芯片与m个UWB基站交互，获取所述电子设备与所述m个UWB基站中各个UWB基站之间的距离，并根据获取到的距离计算所述电子设备的空间位置信息i；其中，i依次在{1，2……，n}中取值；m≥3，m是整数，所述m个UWB基站由至少一个包括UWB芯片的家居设备提供；通过所述UWB芯片和所述IMU芯片，获取所述电子设备在所述方位i指向所述第一家居设备时，所述电子设备的空间姿态信息i。24.根据权利要求15-23中任一项所述的电子设备，其特征在于，所述电子设备在所述n个方位中的方位i的空间位姿信息i，包括：所述电子设备在所述方位i的空间位置信息i和所述电子设备在所述方位i的空间姿态信息i；其中，i在{1，2……，n}中依次取值；所述电子设备在所述方位i的空间位置信息i为：所述电子设备在所述方位i指向所述第一家居设备时，所述电子设备在m个UWB基站构建的UWB坐标系中的坐标；其中，所述m个UWB基站由至少一个包括UWB芯片的家居设备提供；所述电子设备在所述方位i的空间姿态信息i包括：所述电子设备在所述方位i指向所述第一家居设备时，所述电子设备的载体坐标系相对于所述UWB坐标系的俯仰角方位角φi和横滚角θi，所述载体坐标系预先配置在所述电子设备中；所述第一家居设备的空间位置信息为：所述第一家居设备在所述UWB坐标系中的坐标。25.根据权利要求24所述的电子设备，其特征在于，当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：采用预设旋转矩阵，根据所述电子设备在所述n个方位指向所述第一家居设备时，所述电子设备在所述UWB坐标系中的坐标，以及所述俯仰角所述方位角φi和所述横滚角θi，计算所述第一家居设备的空间位置信息；其中，所述预设旋转矩阵为：所述电子设备由所述俯仰角所述方位角φi和所述横滚角θi对应的空间姿态变换至预设初始姿态时的旋转矩阵；所述预设初始姿态为所述载体坐标系的三轴分别与所述UWB坐标系的三轴平行时，所述电子设备的姿态；所述预设旋转矩阵用于将所述载体坐标系中的坐标参数转换为所述UWB坐标系中的坐标参数。26.根据权利要求15-25中任一项所述的电子设备，其特征在于，当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：判断所述第一家居设备的空间位置信息的计算误差是否小于预设误差门限；如果所述第一家居设备的空间位置信息的计算误差小于所述预设误差门限，保存所述第一家居设备的空间位置信息。27.根据权利要求26所述的电子设备，其特征在于，当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：如果所述第一家居设备的空间位置信息的计算误差小于所述预设误差门限，发出第三提示信息，所述第三提示信息用于提示用户所述第一家居设备的位置标注已完成，并提示用户能够操作所述电子设备实现对所述第一家居设备的指向性控制了。28.根据权利要求26或27所述的电子设备，其特征在于，当所述计算机指令被所述电子设备执行时，使得所述电子设备还执行如下步骤：如果所述第一家居设备的空间位置信息的计算误差大于或等于所述预设误差门限，发出第四提示信息，所述第四提示信息用于请求用户确认是否重新对所述第一家居设备进行位置标记。29.一种计算机存储介质，其特征在于，包括计算机指令，当所述计算机指令在电子设备上运行时，使得所述电子设备执行如权利要求1-14中任一项所述的方法。
说明书desc
技术领域本申请实施例涉及智能家居领域，尤其涉及一种家居设备的位置标记方法及电子设备。背景技术随着科技的发展，智能家居逐渐进入人们的日常生活。其中，智能家居可以以住宅为平台，利用无线局域网，如无线保真网络，将家居生活有关的家居设备集成起来进行控制，可以提升家居安全性、便利性和舒适性。具体的，用户可以通过电子设备中安装智能家居应用，实现对多个家居设备的控制。例如，手机可以响应于用户对智能家居APP中任一家居设备的标识的操作，显示该家居设备的控制界面；之后，响应于用户对手机显示的控制界面的操作，手机可以实现对家居设备的控制。然而，由于家居设备越来越多，智能家居APP可以控制的家居设备的数量也会随之增加。为了更加方便的控制家居设备，目前可以通过手机上的超宽带芯片和惯性测量仪，实现手机指向一个家居设备时便显示该家居设备的控制界面的功能。其中，在实现上述功能之前，手机需要对各个家居设备进行位置标注。然而，现有的标注方法并不适用于所有家居设备。例如，手机无法对未配置UWB芯片的家居设备进行位置标注。发明内容本申请提供一种家居设备的位置标记方法及电子设备，即使家居设备中未配置UWB芯片，电子设备也可以对该家居设备进行位置标注；并且，还可以提升电子设备对家居设备进行位置标注的准确度，进而提升电子设备指向性控制家居设备时的定位精度。第一方面，本申请提供一种家居设备的位置标记方法，该方法可以应用于电子设备，该电子设备包括UWB芯片。其中，电子设备可接收用户的第一操作。该第一操作用于触发电子设备对多个家居设备中的第一家居设备进行位置标记。响应于该第一操作，电子设备可以通过UWB芯片获取电子设备在n方位分别指向第一家居设备时，该电子设备的空间位姿信息。其中，电子设备的空间位姿信息可以包括空间位置信息和空间姿态信息。最后，电子设备可以根据该电子设备在上述n方位的空间位姿信息，计算第一家居设备的空间位置信息。其中，n≥2，n为整数。本申请中，可通过操作配置有UWB装置和IMU装置的电子设备100，在多个位置分别指向一个家居设备的方式，实现电子设备100对该家居设备进行位置标注。采用本申请实施例的方法，即使家居设备中未配置UWB装置，电子设备100也可以对该家居设备进行位置标注。并且，采用本申请的方法对家居设备进行位置标注，其准确度不会受到UWB基站的信号强弱的影响。也就是说，通过本方案，还可以提升电子设备对家居设备进行位置标注的准确度，进而提升电子设备指向性控制家居设备时的定位精度。在第一方面的一种可能的设计方式中，上述电子设备接收用户的第一操作可以包括：电子设备接收用户在第一界面的第一操作。在一种实现中，上述第一界面是所述电子设备的智能家居应用的设备管理界面，该设备管理界面包括上述智能家居APP中绑定的多个家居设备的图标。上述第一操作是用于对该多个家居设备中第一家居设备的预设操作。在另一种实现中，上述第一界面是电子设备的智能家居APP绑定的多个家居设备中第一家居设备的控制界面，该第一家居设备的控制界面包括预设功能项，该预设功能项用于触发电子设备对第一家居设备进行位置标记。上述第一操作是对预设功能项的点击操作。在第一方面的另一种可能的设计方式中，响应于第一操作，电子设备可以发出第一提示信息，以提示用户控制电子设备在n方位指向第一家居设备。其中，n≥2，n为整数。在第一方面的另一种可能的设计方式中，上述第一提示信息还用于：提示用户控制电子设备在n个方位指向第一家居设备时，在每个方位分别保持预设时长。应理解，电子设备获取该电子设备在每个方位指向第一家居设备时该电子设备的空间位姿信息需要一定的时间。电子设备在n个方位指向第一家居设备时，在每个方位分别保持预设时长，有利于提升电子设备成功获取到空间位姿信息的可能性。在第一方面的另一种可能的设计方式中，上述第一提示信息还用于：向用户提示控制电子设备在n方位分别指向第一家居设备的方式，该方式包括文字或者图示的方式。应理解，用户可能并不清楚如何控制电子设备在n个方位分别指向第一家居设备。上述第一提示信息可以通过文字或者图示的方式，提示用户控制电子设备在n个方位分别执行第一电子设备的方式。这样，有助于用户以第一提示信息所提示的方式，控制电子设备以正确的方式控制电子设备在n个方位分别指向第一家居设备。在第一方面的另一种可能的设计方式中，在所述电子设备响应于所述第一操作，发出第一提示信息之后，本申请实施例的方法还可以包括：电子设备获取到电子设备在n个方位中方位k的空间位姿信息后，发出第二提示信息。该第二提示信息用于提示用户控制电子设备由方位k移动至方位k+1，并在方位k+1指向第一家居设备。其中，k依次在{1，2……，n-1}中取值。本申请中，电子设备获取到该电子设备在一个方位的空间位姿信息后，可以发出第二提示信息，以提示用户更新电子设备的方位，在新的方位指向第一家居设备。这样，可以提升用户在控制电子设备对家居设备进行位置标记过程中的使用体验。在第一方面的另一种可能的设计方式中，在电子设备根据电子设备在n方位的空间位姿信息，计算第一家居设备的空间位置信息之后，本申请实施例的方法还可以包括：电子设备发出第三提示信息。该第三提示信息用于提示用户第一家居设备的位置标注已完成，并提示用户能够操作电子设备实现对第一家居设备的指向性控制了。在第一方面的另一种可能的设计方式中，上述电子设备通过UWB芯片获取电子设备在n方位分别指向第一家居设备时，电子设备的空间位姿信息，可以包括：电子设备响应于第二操作，获取电子设备在n个方位中的方位i指向第一家居设备时，电子设备的空间位姿信息i；其中，i依次在{1，2……，n}中取值。其中，第二操作是用户控制电子设备在方位i指向第一家居设备时，对电子设备中预设按键或第一提示信息中预设控件的点击操作；预设按键用于触发电子设备获取电子设备的空间位姿信息，预设控件用于触发电子设备获取电子设备的空间位姿信息。在该设计方式中，用户控制家居设备在方位i指向第一家居设备时，可以向电子设备输入第二操作。响应于该第二操作，电子设备便可以获取在方位i指向第一家居设备时，该电子设备的空间位姿信息i。这样，可以通过用户的控制，使电子设备可以在该电子设备在方位i指向第一家居设备时，获取到准确的空间位姿信息i。在第一方面的另一种可能的设计方式中，上述电子设备还包括惯性测量仪芯片。该电子设备通过UWB芯片获取电子设备在n方位分别指向第一家居设备时，电子设备的空间位姿信息，可以包括：电子设备在上述n方位中的方位i指向第一家居设备时，通过UWB芯片与m个UWB基站交互，获取电子设备与m个UWB基站中各个UWB基站之间的距离，并根据获取到的距离计算该电子设备的空间位置信息i；电子设备通过上述UWB芯片和IMU芯片，获取该电子设备在方位i指向第一家居设备时，该电子设备的空间姿态信息i。其中，i依次在{1，2……，n}中取值。m≥3，m是整数。上述m个UWB基站由至少一个包括UWB芯片的家居设备提供。示例性的，m个UWB基站可以广播第一消息。电子设备在方位i指向第一家居设备时，可以接收来自各个UWB基站的第一消息。电子设备可以根据接收到的第一消息可以计算得到电子设备与各个UWB基站之间的距离。或者，电子设备可以在方位i指向第一家居设备时，向UWB基站发送测距请求。UWB基站接收到测距请求后，向电子设备发送测距响应。电子设备根据接收到的测距响应可以计算得到电子设备与各个UWB基站之间的距离。在第一方面的另一种可能的设计方式中，上述电子设备在n个方位中的方位i的空间位姿信息包括：电子设备在方位i的空间位置信息i和电子设备在方位i的空间姿态信息i。其中，i在{1，2……，n}中依次取值。上述电子设备在方位i的空间位置信息ii为：电子设备在方位i指向第一家居设备时，电子设备在m个UWB基站构建的UWB坐标系中的坐标。其中，m个UWB基站由至少一个包括UWB芯片的家居设备提供。上述电子设备在方位i的空间姿态信息i包括：电子设备在方位i指向第一家居设备时，电子设备的载体坐标系相对于UWB坐标系的俯仰角方位角φi和横滚角θi，载体坐标系预先配置在电子设备中。上述第一家居设备的空间位置信息为：第一家居设备在UWB坐标系中的坐标。在第一方面的另一种可能的设计方式中，上述电子设备根据该电子设备在n方位的空间位姿信息，计算第一家居设备的空间位置信息的方法可以包括：电子设备采用预设旋转矩阵，根据电子设备在n个方位指向第一家居设备时，电子设备在UWB坐标系中的坐标，以及俯仰角方位角φi和横滚角θi，计算第一家居设备的空间位置信息。其中，上述预设旋转矩阵为：电子设备由俯仰角方位角φi和横滚角θi对应的空间姿态变换至预设初始姿态时的旋转矩阵；预设初始姿态为载体坐标系的三轴分别与UWB坐标系的三轴平行时，电子设备的姿态；预设旋转矩阵用于将载体坐标系中的坐标参数转换为UWB坐标系中的坐标参数。在第一方面的另一种可能的设计方式中，上述方法还包括：所述电子设备判断所述第一家居设备的空间位置信息的计算误差是否小于预设误差门限；如果所述第一家居设备的空间位置信息的计算误差小于所述预设误差门限，所述电子设备保存所述第一家居设备的空间位置信息。其中，第一家居设备的空间位置信息的计算误差越小，则该空间位置信息的计算精度越高，根据该空间位置信息对该第一家居设备进行指向性控制的准确性则越高。而空间位置信息的计算误差越大，则该空间位置信息的计算精度越低，根据该空间位置信息对该第一家居设备进行指向性控制的准确性则越低。本申请中，在第一家居设备的空间位置信息的计算误差小于预设误差门限的情况下，才保存该第一家居设备的空间位置信息，用于实现对该第一家居设备的指向性控制。这样，可以提升对该第一家居设备进行指向性控制的准确性。在第一方面的另一种可能的设计方式中，上述方法还包括：如果第一家居设备的空间位置信息的计算误差小于预设误差门限，电子设备发出第三提示信息。该第三提示信息用于提示用户第一家居设备的位置标注已完成，并提示用户能够操作电子设备实现对第一家居设备的指向性控制了。在第一方面的另一种可能的设计方式中，上述方法还包括：如果第一家居设备的空间位置信息的计算误差大于或等于预设误差门限，电子设备发出第四提示信息。该第四提示信息用于请求用户确认是否重新对第一家居设备进行位置标记。如果第一家居设备的空间位置信息的计算误差大于或等于预设误差门限，则表示该空间位置信息的计算精度不满足精度要求。在这种情况下，电子设备可以通过第四提示信息与用户交互，请求用户确定是否重新对第一家居设备进行位置标记。如此，电子设备便可以按照用户的意愿重新对第一家居设备进行位置标记或者放弃对第一家居设备进行位置标记。第二方面，本申请提供一种电子设备，该电子设备包括UWB芯片、显示屏、存储器和一个或多个处理器。该UWB芯片、显示屏、存储器和处理器耦合。该存储器用于存储计算机程序代码。该计算机程序代码包括计算机指令。当该计算机指令被电子设备执行时，使得该电子设备执行如下步骤：接收用户的第一操作，该第一操作用于触发电子设备对多个家居设备中的第一家居设备进行位置标记；响应于第一操作，通过UWB芯片获取电子设备在n方位分别指向第一家居设备时，电子设备的空间位姿信息，空间位姿信息包括空间位置信息和空间姿态信息；根据电子设备在n方位的空间位姿信息，计算第一家居设备的空间位置信息。其中，n≥2，n为整数。在第二方面的一种可能的设计方式中，当上述计算机指令被电子设备执行时，使得电子设备还执行如下步骤：接收用户在第一界面的第一操作。其中，上述第一界面是电子设备的智能家居应用APP的设备管理界面，设备管理界面包括智能家居APP中绑定的多个家居设备的图标，第一操作是用于对多个家居设备中第一家居设备的预设操作。或者，上述第一界面是电子设备的智能家居APP绑定的第一家居设备的控制界面，第一家居设备的控制界面包括预设功能项，预设功能项用于触发电子设备对多个家居设备中的第一家居设备进行位置标记，第一操作是对预设功能项的点击操作。在第二方面的另一种可能的设计方式中，上述方法还包括：响应于第一操作，电子设备发出第一提示信息。该第一提示信息用于提示用户控制电子设备在n方位指向第一家居设备。在第二方面的另一种可能的设计方式中，上述第一提示信息还用于：提示用户控制电子设备在n个方位指向第一家居设备时，在每个方位分别保持预设时长。在第二方面的另一种可能的设计方式中，上述第一提示信息还用于：向用户提示控制电子设备在n方位分别指向第一家居设备的方式，方式包括文字或者图示的方式。在第二方面的另一种可能的设计方式中，当计算机指令被电子设备执行时，使得电子设备还执行如下步骤：获取到电子设备在n个方位中方位k的空间位姿信息后，发出第二提示信息，第二提示信息用于提示用户控制电子设备由方位k移动至方位k+1，并在方位k+1指向第一家居设备；其中，k依次在{1，2……，n-1}中取值。在第二方面的另一种可能的设计方式中，当上述计算机指令被电子设备执行时，使得电子设备还执行如下步骤：在计算第一家居设备的空间位置信息之后，发出第三提示信息，第三提示信息用于提示用户第一家居设备的位置标注已完成，并提示用户能够操作电子设备实现对第一家居设备的指向性控制了。在第二方面的另一种可能的设计方式中，当上述计算机指令被电子设备执行时，使得电子设备还执行如下步骤：响应于第二操作，获取电子设备在n个方位中的方位i指向第一家居设备时，电子设备的空间位姿信息i；其中，i依次在{1，2……，n}中取值。其中，上述第二操作是用户控制电子设备在方位i指向第一家居设备时，对电子设备中预设按键或第一提示信息中预设控件的点击操作；预设按键用于触发电子设备获取电子设备的空间位姿信息，预设控件用于触发电子设备获取电子设备的空间位姿信息。在第二方面的另一种可能的设计方式中，上述电子设备还包括IMU芯片。当上述计算机指令被电子设备执行时，使得电子设备还执行如下步骤：在n方位中的方位i指向第一家居设备时，通过UWB芯片与m个UWB基站交互，获取电子设备与m个UWB基站中各个UWB基站之间的距离，并根据获取到的距离计算电子设备的空间位置信息i；其中，i依次在{1，2……，n}中取值；m≥3，m是整数，m个UWB基站由至少一个包括UWB芯片的家居设备提供；通过UWB芯片和IMU芯片，获取电子设备在方位i指向第一家居设备时，电子设备的空间姿态信息i。在第二方面的另一种可能的设计方式中，上述电子设备在n个方位中的方位i的空间位姿信息i，包括：电子设备在方位i的空间位置信息i和电子设备在方位i的空间姿态信息i；其中，i在{1，2……，n}中依次取值。上述电子设备在方位i的空间位置信息i为：电子设备在方位i指向第一家居设备时，电子设备在m个UWB基站构建的UWB坐标系中的坐标；其中，m个UWB基站由至少一个包括UWB芯片的家居设备提供。上述电子设备在方位i的空间姿态信息i包括：电子设备在方位i指向第一家居设备时，电子设备的载体坐标系相对于UWB坐标系的俯仰角方位角φi和横滚角θi，载体坐标系预先配置在电子设备中。上述第一家居设备的空间位置信息为：第一家居设备在UWB坐标系中的坐标。在第二方面的另一种可能的设计方式中，当计算机指令被电子设备执行时，使得电子设备还执行如下步骤：采用预设旋转矩阵，根据电子设备在n个方位指向第一家居设备时，电子设备在UWB坐标系中的坐标，以及俯仰角方位角φi和横滚角θi，计算第一家居设备的空间位置信息。其中，上述预设旋转矩阵为：电子设备由俯仰角方位角φi和横滚角θi对应的空间姿态变换至预设初始姿态时的旋转矩阵；预设初始姿态为载体坐标系的三轴分别与UWB坐标系的三轴平行时，电子设备的姿态；预设旋转矩阵用于将载体坐标系中的坐标参数转换为UWB坐标系中的坐标参数。在第二方面的另一种可能的设计方式中，当计算机指令被电子设备执行时，使得电子设备还执行如下步骤：判断第一家居设备的空间位置信息的计算误差是否小于预设误差门限；如果第一家居设备的空间位置信息的计算误差小于预设误差门限，保存第一家居设备的空间位置信息。在第二方面的另一种可能的设计方式中，当计算机指令被电子设备执行时，使得电子设备还执行如下步骤：如果第一家居设备的空间位置信息的计算误差小于预设误差门限，发出第三提示信息，第三提示信息用于提示用户第一家居设备的位置标注已完成，并提示用户能够操作电子设备实现对第一家居设备的指向性控制了。在第二方面的另一种可能的设计方式中，当计算机指令被电子设备执行时，使得电子设备还执行如下步骤：如果第一家居设备的空间位置信息的计算误差大于或等于预设误差门限，发出第四提示信息，第四提示信息用于请求用户确认是否重新对第一家居设备进行位置标记。第三方面，本申请提供一种芯片系统，该芯片系统应用于包括显示屏、存储器和通信模块的电子设备；所述芯片系统集成了UWB芯片和IMU芯片的功能，所述芯片系统包括一个或多个接口电路和一个或多个处理器；所述接口电路和所述处理器通过线路互联；所述接口电路用于从所述电子设备的存储器接收信号，并向所述处理器发送所述信号，所述信号包括所述存储器中存储的计算机指令；当所述处理器执行所述计算机指令时，所述电子设备执行如第一方面及其任一种可能的设计方式所述的方法。第四方面，本申请提供一种计算机存储介质，该计算机存储介质包括计算机指令，当所述计算机指令在电子设备上运行时，使得电子设备执行如第一方面及其任一种可能的设计方式所述的方法。第五方面，本申请提供一种计算机程序产品，当所述计算机程序产品在计算机上运行时，使得所述计算机执行如第一方面及其任一种可能的设计方式所述的方法。可以理解地，上述提供的第二方面所述的电子设备，第三方面所述的芯片系统，第四方面所述的计算机存储介质，第五方面所述的计算机程序产品所能达到的有益效果，可参考第一方面及其任一种可能的设计方式中的有益效果，此处不再赘述。附图说明图1为本申请实施例提供的一种家居设备的位置标记方法的应用场景示意图；图2为本申请实施例提供的一种智能家居的控制界面示意图；图3为本申请实施例提供的一种电子设备的硬件结构示意图；图4为本申请实施例提供的一种电子设备的载体坐标系的示意图；图5为本申请实施例提供的另一种电子设备的载体坐标系的示意图；图6为本申请实施例提供的一种UWB基站的UWB坐标系的示意图；图7为本申请实施例提供的一种电子设备的载体坐标系相对于UWB基站的UWB坐标系的俯仰角和方位角φ的示意图；图8为本申请实施例提供的一种电子设备的载体坐标系相对于UWB基站的UWB坐标系的横滚角θ的示意图；图9为本申请实施例提供的一种电子设备的显示界面示意图；图10为本申请实施例提供的一种家居设备的位置标记方法流程图；图11为本申请实施例提供的另一种电子设备的显示界面示意图；图12为本申请实施例提供的另一种电子设备的显示界面示意图；图13为本申请实施例提供的另一种电子设备的显示界面示意图；图14为本申请实施例提供的另一种电子设备的显示界面示意图；图15为本申请实施例提供的另一种电子设备的显示界面示意图；图16为本申请实施例提供的一种家居设备的位置标记方法的应用场景示意图；图17为本申请实施例提供的另一种电子设备的显示界面示意图；图18为本申请实施例提供的一种家居设备的位置标记方法的应用场景示意图；图19为本申请实施例提供的一种电子设备的空间位置信息的计算原理示意图；图20为本申请实施例提供的另一种家居设备的位置标记方法流程图；图21为本申请实施例提供的另一种电子设备的显示界面示意图；图22为本申请实施例提供的另一种家居设备的位置标记方法流程图；图23为本申请实施例提供的另一种电子设备的显示界面示意图；图24为本申请实施例提供的一种仿真结果示意图；图25为本申请实施例提供的另一种仿真结果示意图；图26为本申请实施例提供的另一种仿真结果示意图；图27为本申请实施例提供的一种芯片系统的结构示意图。具体实施方式以下，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本实施例的描述中，除非另有说明，“多个”的含义是两个或两个以上。本申请实施例提供一种家居设备的位置标记方法，该方法用于用户通过电子设备指向性控制家居设备。例如，以电子设备是图1所示的手机为例。用户通过手机指向性控制家居设备具体是指：当用户操作手机指向一个家居设备所在位置时，手机则可以自动显示图2所示的智能音箱的控制界面201，供用户操作控制该智能音箱。一般而言，家居设备的摆放位置是固定的。因此，根据多个家居设备的摆放位置和电子设备的空间姿态，便可以确定出该多个家居设备中，电子设备所指向的家居设备。其中，电子设备的空间姿态可以体现出该电子设备的朝向。综上所述，电子设备可以对上述多个家居设备进行位置标记，然后再实时检测该电子设备的空间姿态，便可以根据该电子设备实时的空间姿态和各个家居设备的空间位置，实现对家居设备的指向性快速控制。应理解，以电子设备是手机为例。基于大部分用户使用手机的习惯，可定义手机朝向为：平行于手机的长边，且沿手机的尾部指向顶部的方向。因此，可以将手机的朝向称为手机的顶部朝向。通常情况下，手机的顶部为安装有前置摄像头、红外发射器、听筒、光传感器、或者距离传感器等硬件的机身部分。手机的尾部为安装有麦克风和扬声器的机身部分。在一些方案中，上述电子设备和各个家居设备中均安装有超宽带装置。该UWB装置可以为UWB芯片，也可以为安装有UWB芯片的硬件装置。家居设备可以通过与UWB基站之间的通信，完成与UWB基站间的测距和定位，并将其空间位置信息上报给UWB基站。然后，UWB基站可以向电子设备提供各个家居设备的空间位置信息。其中，上述多个家居设备中的部分家居设备可以作为UWB基站。一方面，并不是所有家居设备中都安装有UWB芯片。采用上述方案，电子设备无法对未配置UWB芯片的家居设备进行位置标记。并且，在这类家居设备中增设UWB芯片，以支持电子设备对该家居设备进行位置标记，无疑会增加成本。另一方面，采用上述方案，针对处于UWB基站的信号弱覆盖区域或者信号无覆盖区域内的家居设备而言，电子设备无法准确对该家居设备进行位置标记。这样，会影响电子设备对家居设备进行指向性控制的准确度，影响用户体验。在另一些方案中，针对上述未安装UWB芯片的家居设备，可以使用安装有UWB芯片的手机代替该家居设备，实现对该家居设备的位置标记。例如，可以将该手机放置在该家居设备所在位置处，然后对该手机进行位置标记。此时，手机的空间位置信息则可以作为该家居设备的空间位置信息。但是，该方案并不适用于所有的家居设备。例如，对吊灯或监控摄像头等不易将手机靠近的家居设备进行位置标注时，上述方案在操作上较为困难。并且，采用该方案，针对处于UWB基站的信号弱覆盖区域或者信号无覆盖区域内的家居设备而言，仍无法准确对该家居设备进行位置标记。这样，会影响电子设备对家居设备进行指向性控制的准确度，影响用户体验。为此，本申请实施例提供了一种家居设备的位置标记方法。该方法可以应用于图1所示的通信系统。该通信系统包括电子设备100和多个家居设备。其中，电子设备100中安装有UWB装置和IMU装置。但是，本申请实施例中，并不要求家居设备必须安装有UWB装置。该UWB装置可以为UWB芯片，也可以为安装有UWB芯片的硬件装置。IMU装置可以为IMU芯片，也可以为安装有IMU芯片的硬件装置。本申请实施例中，可通过操作配置有UWB装置和IMU装置的电子设备100，在多个位置分别指向一个家居设备的方式，实现电子设备100对该家居设备进行位置标注。采用本申请实施例的方法，即使家居设备中未配置UWB装置，电子设备100也可以对该家居设备进行位置标注。并且，采用本申请实施例的方法对家居设备进行位置标注，其准确度不会受到UWB基站的信号强弱的影响。也就是说，通过本方案，还可以提升电子设备对家居设备进行位置标注的准确度，进而提升电子设备指向性控制家居设备时的定位精度。示例性的，上述电子设备100可以是手机、平板电脑、智能遥控器、可穿戴设备、掌上电脑、增强现实/虚拟现实设备。或者，该电子设备100还可以是便携式多媒体播放器、媒体播放器等其他类型的电子设备。本申请实施例对电子设备100的具体类型不作任何限制。请参考图3，本申请中以电子设备100是手机为例，介绍本申请提供的电子设备100。如图3所示，电子设备100可以包括：处理器310，外部存储器接口320，内部存储器321，通用串行总线接口330，充电管理模块340，电源管理模块341，电池342，天线1，天线2，移动通信模块350，无线通信模块360，音频模块370，扬声器370A，受话器370B，麦克风370C，耳机接口370D，传感器模块380，按键390，马达391，指示器392，摄像头393，显示屏394，以及用户标识模块卡接口395等。其中，上述传感器模块380可以包括压力传感器，陀螺仪传感器，气压传感器，磁传感器，加速度传感器，距离传感器，接近光传感器，指纹传感器，温度传感器，触摸传感器，环境光传感器、磁力计和骨传导传感器等传感器。在一些实施例中，上述传感器模块380可以包括3个加速度传感器和3个陀螺仪传感器。这3个加速度传感器和3个陀螺仪传感器可以组成6轴IMU。或者，上述传感器模块380可以包括3个加速度传感器、3个陀螺仪传感器、以及3个磁力计。这3个加速度传感器、3个陀螺仪传感器、以及3个磁力计可以组成9轴IMU。IMU可以测量电子设备100的俯仰角、方位角和横滚角。以下实施例中，结合附图介绍电子设备100的俯仰角、方位角和横滚角。可以理解的是，本实施例示意的结构并不构成对电子设备100的具体限定。在另一些实施例中，电子设备100可以包括比图示更多或更少的部件，或者组合某些部件，或者拆分某些部件，或者不同的部件布置。图示的部件可以以硬件，软件或软件和硬件的组合实现。处理器310可以包括一个或多个处理单元，例如：处理器310可以包括应用处理器，调制解调处理器，图形处理器，图像信号处理器，控制器，存储器，视频编解码器，数字信号处理器，基带处理器，和/或神经网络处理器等。其中，不同的处理单元可以是独立的器件，也可以集成在一个或多个处理器中。控制器可以是电子设备100的神经中枢和指挥中心。控制器可以根据指令操作码和时序信号，产生操作控制信号，完成取指令和执行指令的控制。处理器310中还可以设置存储器，用于存储指令和数据。在一些实施例中，处理器310中的存储器为高速缓冲存储器。该存储器可以保存处理器310刚用过或循环使用的指令或数据。如果处理器310需要再次使用该指令或数据，可从所述存储器中直接调用。避免了重复存取，减少了处理器310的等待时间，因而提高了系统的效率。在一些实施例中，处理器310可以包括一个或多个接口。接口可以包括集成电路接口，集成电路内置音频接口，脉冲编码调制接口，通用异步收发传输器接口，移动产业处理器接口，通用输入输出接口，用户标识模块接口，和/或通用串行总线接口等。可以理解的是，本实施例示意的各模块间的接口连接关系，只是示意性说明，并不构成对电子设备100的结构限定。在另一些实施例中，电子设备100也可以采用上述实施例中不同的接口连接方式，或多种接口连接方式的组合。充电管理模块340用于从充电器接收充电输入。其中，充电器可以是无线充电器，也可以是有线充电器。充电管理模块340为电池342充电的同时，还可以通过电源管理模块341为电子设备供电。电源管理模块341用于连接电池342，充电管理模块340与处理器310。电源管理模块341接收电池342和/或充电管理模块340的输入，为处理器310，内部存储器321，外部存储器，显示屏394，摄像头393，和无线通信模块360等供电。在一些实施例中，电源管理模块341和充电管理模块340也可以设置于同一个器件中。电子设备100的无线通信功能可以通过天线1，天线2，移动通信模块350，无线通信模块360，调制解调处理器以及基带处理器等实现。在一些实施例中，电子设备100的天线1和移动通信模块350耦合，天线2和无线通信模块360耦合，使得电子设备100可以通过无线通信技术与网络以及其他设备通信。例如，本申请实施例中，电子设备100可以通过无线通信技术向其他家居设备发送控制指令。天线1和天线2用于发射和接收电磁波信号。电子设备100中的每个天线可用于覆盖单个或多个通信频带。不同的天线还可以复用，以提高天线的利用率。例如：可以将天线1复用为无线局域网的分集天线。在另外一些实施例中，天线可以和调谐开关结合使用。移动通信模块350可以提供应用在电子设备100上的包括2G/3G/4G/5G等无线通信的解决方案。移动通信模块350可以包括至少一个滤波器，开关，功率放大器，低噪声放大器等。移动通信模块350可以由天线1接收电磁波，并对接收的电磁波进行滤波，放大等处理，传送至调制解调处理器进行解调。移动通信模块350还可以对经调制解调处理器调制后的信号放大，经天线1转为电磁波辐射出去。在一些实施例中，移动通信模块350的至少部分功能模块可以被设置于处理器310中。在一些实施例中，移动通信模块350的至少部分功能模块可以与处理器310的至少部分模块被设置在同一个器件中。无线通信模块360可以提供应用在电子设备100上的包括无线局域网网络)，蓝牙，全球导航卫星系统，调频，近距离无线通信技术，红外技术，UWB技术等无线通信的解决方案。例如，本申请实施例中，电子设备100可以通过无线通信模块360接入Wi-Fi网络。又例如，本申请实施例中，电子设备100可以通过无线通信模块360向家居设备发送消息。其中，UWB技术是一种无线载波通信技术，它不采用正弦载波传输数据，而是利用纳秒级的非正弦波窄脉冲传输数据。因此，UWB技术所占的频谱范围很宽。UWB技术具有系统复杂度低，发射信号功率谱密度低，对信道衰落不敏感，截获能力低，定位精度高等优点，尤其适用于室内等密集多径场所的高速无线接入。并且，电子设备100可以通过UWB技术测量电子设备100与支持UWB技术的设备之间的距离。无线通信模块360可以是集成至少一个通信处理模块的一个或多个器件。无线通信模块360经由天线2接收电磁波，将电磁波信号调频以及滤波处理，将处理后的信号发送到处理器310。无线通信模块360还可以从处理器310接收待发送的信号，对其进行调频，放大，经天线2转为电磁波辐射出去。电子设备100通过GPU，显示屏394，以及应用处理器等实现显示功能。GPU为图像处理的微处理器，连接显示屏394和应用处理器。GPU用于执行数学和几何计算，用于图形渲染。处理器310可包括一个或多个GPU，其执行程序指令以生成或改变显示信息。显示屏394用于显示图像，视频等。该显示屏394包括显示面板。例如，本申请实施例中，显示屏394可以用于显示用于控制上述第一设备的控制界面。电子设备100可以通过ISP，摄像头393，视频编解码器，GPU，显示屏394以及应用处理器等实现拍摄功能。ISP用于处理摄像头393反馈的数据。摄像头393用于捕获静态图像或视频。在一些实施例中，电子设备100可以包括1个或N个摄像头393，N为大于1的整数。外部存储器接口320可以用于连接外部存储卡，例如Micro SD卡，实现扩展电子设备100的存储能力。外部存储卡通过外部存储器接口320与处理器310通信，实现数据存储功能。例如将音乐，视频等文件保存在外部存储卡中。内部存储器321可以用于存储计算机可执行程序代码，所述可执行程序代码包括指令。处理器310通过运行存储在内部存储器321的指令，从而执行电子设备100的各种功能应用以及数据处理。例如，在本申请实施例中，处理器310可以通过执行存储在内部存储器321中的指令，内部存储器321可以包括存储程序区和存储数据区。其中，存储程序区可存储操作系统，至少一个功能所需的应用程序等。存储数据区可存储电子设备100使用过程中所创建的数据等。此外，内部存储器321可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件，闪存器件，通用闪存存储器等。电子设备100可以通过音频模块370，扬声器370A，受话器370B，麦克风370C，耳机接口370D，以及应用处理器等实现音频功能。例如音乐播放，录音等。按键390包括开机键，音量键等。按键390可以是机械按键。也可以是触摸式按键。马达391可以产生振动提示。马达391可以用于来电振动提示，也可以用于触摸振动反馈。指示器392可以是指示灯，可以用于指示充电状态，电量变化，也可以用于指示消息，未接来电，通知等。SIM卡接口395用于连接SIM卡。SIM卡可以通过插入SIM卡接口395，或从SIM卡接口395拔出，实现和电子设备100的接触和分离。电子设备100可以支持1个或N个SIM卡接口，N为大于1的整数。SIM卡接口395可以支持Nano SIM卡，Micro SIM卡，SIM卡等。以下实施例中的方法均可以在具有上述硬件结构的电子设备中实现。本申请实施例提供一种家居设备的位置标记方法，该方法用于支持图1所示的电子设备100指向性控制家居设备。其中，电子设备100可以分别对多个家居设备进行位置标记，然后再实时检测该电子设备的空间姿态，便可以根据该电子设备实时的空间姿态和各个家居设备的空间位置，实现对家居设备的指向性快速控制。其中，电子设备100的空间姿态可以用该电子设备100的空间姿态信息来表示。电子设备100的空间姿态信息可以包括：该电子设备100的载体坐标系相对于UWB基站的UWB坐标系的俯仰角、方位角φ和横滚角θ。其中，方位角也可以称为偏航角。为了便于理解，以下结合附图说明电子设备100的载体坐标系、UWB基站、UWB基站的UWB坐标系、载体坐标系相对于UWB坐标系的俯仰角、方位角φ和横滚角θ。电子设备100的载体坐标系。例如，以电子设备100是智能遥控器为例。请参考图4，其示出智能遥控器的一种载体坐标系实例示意图。该智能遥控器的载体坐标系可以预先配置在该智能遥控器中。如图4所示，以OA为坐标原点的xA轴，yA轴和zA轴构成右手直角坐标系。图4所示的OA可以是智能遥控器的重心。或者，图4所示的OA可以是智能遥控器的IMU中心。一般而言，智能遥控器的IMU可以设置在该智能遥控器的重心处。智能遥控器可以包括四条边：长边01，短边02，与长边01平行且等长度的另一条长边，以及与短边02平行且等长度的另一条短边。xA轴平行于智能遥控器的短边02，yA轴平行于智能遥控器的长边01向上。zA轴垂直于yA轴，且垂直于xB轴。其中，图4所示的坐标系是智能遥控器的载体坐标系。又例如，以电子设备100是手机为例。请参考图5，其示出手机的一种载体坐标系实例示意图。该手机的载体坐标系可以预先配置在该手机中。如图5所示，以OB为坐标原点的xB轴，yB轴和zB轴构成右手直角坐标系。图5所示的OB可以是手机的重心。或者，图5所示的OB可以是手机的IMU中心。一般而言，手机的IMU可以设置在该手机的重心处。手机可以包括四条边：长边03，短边04，与长边03平行且等长度的另一条长边，以及与短边04平行且等长度的另一条短边。xB轴平行于手机的短边04。yB轴平行于手机的长边01向上。zB轴垂直于yA轴，且垂直于xB轴。其中，图5所示的坐标系是手机的载体坐标系。UWB基站。其中，上述UWB基站可以是安装有UWB芯片的装置，或者安装UWB芯片的家居设备。例如，图1所示的通信系统中的部分家居设备可以作为UWB基站。该UWB基站用于辅助电子设备100确定该电子设备100所指向的家居设备。一些家居设备中可以安装有一个或多个UWB芯片。例如，图1所示的智能电视中可以包括3个UWB芯片。这三个UWB芯片可以分别位于智能电视上，如图6所示的Base0、Base1和Base2所在位置。又例如，图1所示的智能空调可以包括1个UWB芯片。当然，也有一些家居设备中未安装UWB芯片。例如，图1所示的智能音箱和智能台灯中未安装UWB芯片。其中，可以作为UWB基站的家居设备可提供至少一个UWB基站。例如，假设图1所示的智能电视包括3个UWB芯片。该智能电视可提供三个UWB基站，如图6所示的Base0、Base1和Base2。假设图1所示的智能空调包括1个UWB芯片，该智能空调可提供一个UWB基站。UWB基站的UWB坐标系。其中，至少三个UWB基站可构建本申请实施例中所述的UWB坐标系。本申请实施例中，以三个UWB基站构建UWB坐标系为例。这三个UWB基站具备以下特点：这三个至UWB基站位于同一个平面上。由这三个UWB基站构建的UWB坐标系的两个坐标轴在该UWB平面上，另一个坐标轴垂直于该UWB平面。在一些实施例中，这三个UWB基站可以由一个大屏设备提供。该大屏设备包括一个显示屏和多个UWB芯片。例如，该大屏设备可以为图1所示的智能电视，该智能电视包括显示屏和3个UWB芯片，该智能电视的显示屏可作为一个UWB平面。该智能电视可提供三个UWB基站，如图6所示的Base0、Base1和Base2。请参考图6，其示出本申请实施例提供的一种UWB坐标系的实例示意图。如图6所示，以O为坐标原点的X轴，Y轴和Z轴构成右手直角坐标系。图6所示的坐标原点O可以为智能电视提供的一个UWB基站-Base0的天线中心，即Base0对应的UWB芯片的天线中心。X轴平行于智能电视的底边，指向屏幕外侧。Z轴垂直于X轴所在的平面并指向智能电视提供的另一个UWB基站-Base1的天线中心，即Base1对应的UWB芯片的天线中心。Y轴垂直于X轴，且垂直于Z轴。Y轴与智能电视的显示屏的朝向平行。其中，图6所示的坐标系是UWB坐标系。一般而言，家居设备的位置是固定的；因此，UWB基站的UWB坐标系也可以称为固定坐标系。在另一些实施例中，上述三个UWB基站可以是安装有UWB芯片的三个家居设备。例如，图1所示的智能电视、智能音箱和智能空调都可以安装有UWB芯片，路由器、智能电视和智能空调可形成一个UWB平面。其中，路由器、智能电视和智能空调构建UWB坐标系的方法，可以参考上述实施例中智能电视的Base0、Base1和Base2构建UWB坐标系的方法，本申请实施例这里不予赘述。在另一些实施例中，上述三个UWB基站可以是专门用于辅助电子设备100确定该电子设备100所指向的家居设备的一个或多个专用UWB装置。该专用UWB装置包括UWB芯片。该专用UWB装置构建UWB坐标系的方法，可以参考上述实施例中智能电视的Base0、Base1和Base2构建UWB坐标系的方法，本申请实施例这里不予赘述。在另一些实施例中，上述UWB基站可以由一个包括预设平面的设备提供。该设备还包括至少三个UWB芯片。该至少三个UWB芯片安装在上述预设平面上。该预设平面可以是面积大于预设阈值的平面。由上述描述可知：用于构建UWB坐标系的三个UWB基站具备以下特点：这三个UWB基站位于同一个平面上。由这三个UWB基站构建的UWB坐标系的两个坐标轴在该UWB平面上，另一个坐标轴垂直于该UWB平面。本实施例中所述的预设平面是上述UWB平面。上述至少三个UWB芯片安装在预设平面上，可以方便构建UWB坐标系。例如，上述包括预设平面的设备可以是包括至少三个UWB芯片的冰箱。预设平面可以是冰箱的正面或侧面，该至少三个UWB芯片设置在冰箱的预设平面。可以理解的是，由于用户的住宅中通常会安装有大屏设备。因此，通常情况下，可以将大屏设备作为UWB基站。这样一来，用户无需再单独购买UWB基站，可以降低成本。以下实施例中，以UWB基站是智能电视为例，介绍本申请实施例的方法。电子设备100的载体坐标系相对于UWB坐标系的俯仰角、方位角φ和横滚角θ。电子设备100的载体坐标系相对于UWB坐标系的俯仰角为：电子设备100的载体坐标系的yB轴与UWB坐标系的XOY所在平面的夹角。例如，以电子设备100是图5所示的手机为例。如图7所示，手机的载体坐标系相对于UWB坐标系的俯仰角是yB轴与XOY所在平面之间的夹角。如图7所示，OyB＇是yB轴在XOY所在平面的垂直投影。可以理解的是，上述手机的载体坐标系相对于UWB坐标系的俯仰角也就是OyB＇与yB轴之间的夹角。当yB轴与Z轴之间的夹角大于90°时，俯仰角为正。电子设备100的载体坐标系相对于UWB坐标系的方位角φ为：电子设备100的载体坐标系的yB轴在XOY所在平面的垂直投影OyB＇与UWB坐标系的Y轴之间的夹角。例如，以电子设备100是图5所示的手机为例。如图7所示，手机的载体坐标系相对于UWB坐标系的方位角φ是手机的载体坐标系的yB轴在XOY所在平面的垂直投影OyB＇与UWB坐标系的Y轴之间的夹角。当OyB＇随着yB轴的变化在XOY所在平面上顺时针偏转时，方位角φ为正。电子设备100的载体坐标系相对于UWB坐标系的横滚角θ为：电子设备100的载体坐标系的zB轴与yBOZ所在平面之间的夹角。例如，以电子设备100是图5所示的手机为例。如图8所示，手机的载体坐标系相对于UWB坐标系的横滚角θ是手机的载体坐标系的zB轴与通过yB轴的yBOZ所在平面之间的夹角。如图8所示，OzB＇是zB轴在通过yB轴的yBOZ所在平面的垂直投影。可以理解的是，上述手机的载体坐标系相对于UWB坐标系的横滚角θ也就是OzB＇与zB轴之间的夹角，当zB轴顺时针旋转时，横滚角θ为正。需要说明的是，图4仅作为示例介绍智能遥控器的载体坐标系，图5仅作为示例介绍手机的载体坐标系。电子设备100的载体坐标系还可以根据其他规则定义。例如，坐标原点还可以为电子设备100上或者电子设备100外的其他任一点。载体坐标系的三轴方向也不限于图4所示的xA轴，yA轴和zA轴，或者图5所示的xB轴，yB轴和zB轴所示的方向。图6仅作为示例介绍UWB基站的UWB坐标系。UWB基站的UWB坐标系还可以根据其他规则定义。UWB坐标系的三轴方向也不限于图6所示的X轴，Y轴和Z轴所示的方向。本申请实施例对载体坐标系和UWB坐标系的坐标原点位置和坐标轴方向设定不作限定。以下结合具体实施例，介绍本申请实施例的方法。本申请实施例提供一种家居设备的位置标记方法，该方法可以应用于上述电子设备100。以下实施例中，以图1所示的电子设备100是手机100，UWB基站是图1所示的智能电视为例，介绍本申请实施例的方法。其中，智能电视可提供三个UWB基站，如图6所示的Bsae0、Bsae1和Bsae2。这三个UWB基站可构建如图6所示的UWB坐标系。该手机中包括UWB装置和IMU装置。该手机中配置有图5所示的载体坐标系。应注意，本申请实施例中，并不要求所有家居设备安装UWB芯片。该手机100中还安装有用于控制家居设备的智能家居APP。手机100可以通过该智能家居APP，实现对多个家居设备的指向性控制。实现对多个家居设备的指向性控制，则需要对该多个家居设备分别进行位置标记。该多个家居设备中，可能存在一个或多个家居设备未安装UWB芯片。手机100可以执行本申请实施例的方法，对这类家居设备进行位置标记。当然，手机执行本申请实施例的方法，也可以对安装有UWB芯片的家居设备进行位置标记。在手机100对家居设备进行位置标记之前，手机100可以在智能家居APP绑定家居设备。上述智能家居APP可以是图9中的所示的图标“家居”901对应的应用。手机100可接收用户对图标“家居”901的点击操作。响应于该点击操作，手机100可启动智能家居APP，显示图9中的所示的智能家居APP的首页902。智能家居APP的首页902中包括“添加设备”选项903。其中，“添加设备”选项903用于触发手机900搜索家居设备，以绑定家居设备。例如，如图9中的所示，智能APP的首页902中还包括提示信息“添加家居设备，以绑定灯、门锁、摄像头、洗衣机等智能家居！”。响应于用户对“添加设备”选项903的点击操作，手机900可显示图9中的所示的设备搜索界面904。该设备搜索界面905中包括手机900可搜索到的一个或多个候选家居设备的标识。例如，图9中的所示的设备搜索界面905包括智能音箱、冰箱和摄像头的图标。响应于用户对智能音箱的图标的选择操作，手机100可在智能家居APP中绑定该智能音箱。之后，手机100便可以对已绑定的家居设备进行位置标记。以下结合附图介绍本申请实施例提供的方法。本申请实施例提供一种家居设备的位置标记方法，如图10所示，该方法可以包括S1001-S1004。S1001、手机100接收用户在第一界面的第一操作。该第一操作用于触发手机100对第一家居设备进行位置标记。在一些实施例中，上述第一界面是智能家居APP的设备管理界面。该设备管理界面包括该智能家居APP中绑定的多个家居设备的图标。该多个家居设备包括上述第一家居设备。示例性的，手机100可显示图11所示的设备管理界面1101。该第一界面1101包括智能音箱的图标、智能空调的图标、路由器的图标、智能电视的图标和智能台灯的图标。例如，手机100可接收用户对9中的所示的“家居”选项904的点击操作；响应于用户对“家居”选项904的点击操作，手机100可显示图11所示的设备管理界面1101。其中，手机100可接收用户对第一界面1101中任一家居设备的图标的预设操作，以触发手机对第一家居设备进行位置标记。也就是说，上述第一操作可以是用户对第一界面1101中任一家居设备的图标的预设操作3。例如，该第一家居设备可以是智能音箱。例如，如图11所示，上述第一操作可以是用户对第一家居设备的图标的长按操作或者双击操作等任一种操作。该第一操作可触发手机100对第一家居设备进行位置标记。又例如，手机100可接收用户对图11所示的设备管理界面1101中智能音箱的图标的预设操作1。响应于用户对图12所示的第一界面1101中智能音箱的图标的预设操作1，手机100可显示图12所示的智能音箱的快捷功能菜单1201。该快捷功能菜单1201中包括智能音箱的预设功能项1202，该预设功能项用于触发手机100对智能音箱进行位置标记。手机100可接收用户对该预设功能项1202的预设操作2。响应于该预设操作2，手机100可对第一家居设备进行位置标记。上述第一操作可以包括预设操作1和预设操作2，预设操作2可触发手机100对第一家居设备进行位置标记。在另一些实施例中，上述第一界面是第一家居设备的控制界面。该第一家居设备的控制界面可包括第一家居设备的多个控制选项。例如，以第一家居设备是智能音箱为例，手机100可显示图13所示的智能音箱的控制界面1301。其中，第一家居设备的控制界面包括第一家居设备的预设功能项，该预设功能项用于触发手机100对第一家居设备进行位置标记。例如，图13所示的控制界面1301可以包括智能音箱的图标、预设功能项1302、该智能音箱的音量按钮、暂停按钮和播放按钮等。在该实施例中，上述第一操作可以是用户对第一家居设备的控制界面中预设功能项的点击操作，如单击操作。S1002、手机100发出第一提示信息。该第一提示信息用于提示用户控制手机100在n个方位分别指向第一家居设备。其中，n≥2，n为整数。手机100在上述n个方位分别指向智能音箱，用于获取手机100分别在该n个方位指向智能音箱时，手机100的空间位置信息和空间姿态信息。其中，手机100的空间位置信息为手机100在UWB基站提供的UWB坐标系中的坐标位置。手机的空间姿态信息包括手机的载体坐标系相对于上述UWB坐标系的俯仰角、方位角φ和横滚角θ。手机100接收到上述第一操作后，响应于该第一操作，可发出第一提示信息。示例性的，以第一家居设备是智能音箱为例。例如，响应于上述第一操作，手机100可以显示图14所示的提示界面，该提示界面包括第一提示信息1401，如“请持手机在n个方位分别指向智能音箱”。或者，电子设备100可以以播放语音的方式发出第一提示信息，如“请持手机在n个方位分别指向智能音箱”。由上述描述可知：手机100在上述n个方位分别指向智能音箱，用于获取手机100在该n个方位指向智能音箱时，手机100的空间位置信息和空间姿态信息。手机100可通过在每个方位与UWB基站的交互，获取手机100在该方位的空间位置信息。手机100还需要测量手机100分别处于每个方位时，手机100的空间姿态信息。而手机100与UWB基站交互获取空间位置信息以及手机100测量手机100的空间姿态信息，都需要一定的时间。为了保证手机100分别处于上述n个方位时，能够成功获取到手机100的空间位置信息和空间姿态信息，上述第一提示信息还可以提示用户控制手机100在每个方位保持预设时长。例如，如图15所示，第一提示信息1501可以为“请持手机在n个方位分别指向智能音箱，并在每个方位保持至少5秒！”。在另一些实施例中，用户可能并不清楚如何控制手机100在n个方位分别指向智能音箱。在该实施例中，上述第一提示信息还可以向用户提示用户控制手机100在n个方位分别指向智能音箱的方式。该第一提示信息可以通过文字或者图示的方式，提示用户控制手机100在n个方位分别指向智能音箱的方式。示例性的，手机可以在图14或图15所示的提示界面显示第一提示信息1402。该第一提示信息1402通过图示的方式提示用户控制手机在n个方位分别指向智能音箱的方式。例如，该第一提示信息1402示出以下信息：方位1和方位2；手机100处于方位1时，手机100的顶部和尾部相对于智能音箱的摆放方式；以及手机100处于方位2时，手机100的顶部和尾部相对于智能音箱的摆放方式。需要说明的是，S1002是可选的，手机100的说明书中也可以说明手机100对家居设备进行位置标识时，上述第一提示信息所提示的所有内容。用户可以按照说明书中的提示，控制手机100在n个方位分别指向第一家居设备。S1003、手机100获取手机100在n个方位中各个方位时，手机100的空间位姿信息。该空间位姿信息包括空间位置信息和空间姿态信息。在一些实施例中，手机100响应于第二操作，可获取手机100在方位1时，手机100的空间位姿信息1；手机100再次响应于第二操作，可获取手机100在方位2时，手机100的空间位姿信息2。其中，该第二操作可以是用户对手机100中预设按键的点击操作。例如，该预设按键可以是单个按键或者组合按键。或者，该第二操作可以是用户对上述第一提示信息的预设操作或预设手势。或者，上述第一提示信息中可以包括预设控件或预设按钮，该第二操作可以是用户对该预设控件或预设按钮的点击操作。例如，图14和图15所示的提示界面包括“空间位姿”按钮1404。上述第二操作可以是用户对“空间位姿”按钮1404的点击操作。以第二操作是用户对“空间位姿”按钮1404的点击操作为例。用户可按照上述第一提示信息的提示，控制手机100处于图16所示的方位1。然后，手机100处于图16所示的方位1时，用户可点击图14或图15所示的“空间位姿”按钮1404。响应于用户对“空间位姿”按钮1404的点击操作，手机100可获取手机100在方位1的空间位姿信息1。之后，用户可按照上述第一提示信息的提示，控制手机100处于图18所示的方位2。然后，手机100处于图18所示的方位2时，用户可点击“空间位姿”按钮1404。响应于用户对“空间位姿”按钮1404的点击操作，手机100可获取手机100在方位2的空间位姿信息2。在另一些实施例中，手机100获取到手机100在方位1的空间位姿信息1后，该手机100可发出第二提示信息。该第二提示信息用于指示手机100控制手机由方位1移动至方位2，并在方位2指向智能音箱。例如，手机100获取到手机100在方位1的空间位姿信息1后，可发出图17所示的第二提示信息1701。该第二提示信息1701包括“空间位姿”按钮1404。用户可按照上述第二提示信息1701的提示，控制手机100处于图18所示的方位2。然后，手机100处于图18所示的方位2时，用户可点击图17所示的“空间位姿”按钮1404。响应于用户对“空间位姿”按钮1404的点击操作，手机100可获取手机100在方位2的空间位姿信息2。上述空间位姿信息可以包括空间位置信息和空间姿态信息。如上述空间位姿信息1可以包括空间位置信息1和空间姿态信息1。该空间位置信息1为手机100处于上述方位1时，在UWB基站提供的UWB坐标系中的坐标位置。手机100的空间姿态信息1包括：手机100处于上述方位1时，手机100的载体坐标系相对于上述UWB坐标系的俯仰角1、方位角φ1和横滚角θ1。本申请实施例这里，以手机100获取手机100在方位i的空间位姿信息i为例，介绍S1003。其中，i在{1，2……，n}中依次取值，n≥2，n为整数。一方面，手机100在方位i，可以通过与UWB基站交互手机100在方位i的空间位置信息i。另一方面，手机100在方位i，可以通过IMU芯片测量该手机100的空间姿态信息i。在一些实施例中，响应于第二操作，手机100在方位i可以与Base0、Base1和Base2交互，执行S1003a-S1003c，以获取手机100在方位i的空间位置信息i。S1003a、UWB基站分别广播第一消息。其中，UWB基站可以通过UWB芯片广播第一消息。其中，第一消息可以用于指示手机100测量手机100在这三个UWB基站构建的UWB坐标系的空间位置信息i。例如，图16所示Base0、Base1和Base2均可以广播第一消息，该第一消息用于指示手机100测量手机100在UWB坐标系的空间位置信息1。具体的，该第一消息可用于指示手机100测量广播该第一消息的UWB基站与手机100之间的距离；然后，根据测量得到的距离计算手机100在UWB坐标系的空间位置信息i。例如，该第一消息包括：广播该第一消息的UWB基站的UWB芯片的标识、第一时间戳。每个UWB芯片的标识可以用于唯一标识该UWB芯片应，第一时间戳用于指示UWB基站广播该第一消息的时间。其中，不同UWB芯片的标识不同；因此，不同UWB基站的UWB芯片所广播的第一消息不同。例如，假设上述UWB基站Base0为UWB芯片A0，UWB基站Base1为UWB芯片A1，UWB基站Base2为UWB芯片A2。UWB芯片A0所广播的第一消息中携带的UWB芯片A0的标识可以为AH100000A，UWB芯片A1所广播的第一消息中携带的UWB芯片A1的标识可以为AH100000B，UWB芯片A2所广播的第一消息中携带的UWB芯片A2的标识可以为AH100000C。其中，AH100000A、AH100000B和AH100000C不同。S1003b、手机100在方位i接收来自各个UWB基站的第一消息，得到手机100与各个UWB基站之间的距离。其中，手机100中安装有UWB芯片。手机100可以通过UWB芯片，接收来自任一个UWB基站的第一消息。之后，手机可以基于UWB测距原理，根据接收来自一个UWB基站的第一消息，计算得到手机100与该UWB基站之间的距离。具体的，第一消息中携带有第一时间戳。该第一时间戳用于记录UWB基站广播该第一消息的时间。手机在接收到UWB基站广播的第一消息时，可以生成一个第二时间戳。该第二时间戳用于记录手机100接收到该第一消息的时间。然后，手机100可以根据第一时间戳和第二时间戳所记录的时间，计算得到第一消息由UWB基站传输至手机100所花费的时长。最后，手机100可以根据第一消息的传播速度和第一消息由UWB基站传输至手机100所花费的时长，得到手机100与UWB基站之间的距离。例如，请参考表1，其示出手机100计算得到的手机100与图16所示的应用场景中各个UWB基站的距离。表1其中，图19所示的O点为UWB坐标系的原点，也是UWB基站Bsae0在UWB坐标系的位置。P点为UWB基站Bsae2在UWB坐标系的位置。图19所示的Q点为UWB基站Bsae1在UWB坐标系的位置。图19所示的Ki点为手机100在方位i时，手机100在UWB坐标系的位置。OKi＝a，PKi＝b，QKi＝c。在另一些实施例中，智能电视开机后，便可以执行S1003a；手机100开机后便可以执行S1003b。手机100执行S1003b可以保存如表1所示的UWB芯片的标识与距离之间的对应关系。这样一来，手机100响应于上述第二操作，便可以根据UWB基站的标识，得到手机100与该UWB芯片的标识所对应的UWB基站之间的距离。然后，手机100可以执行S1003，计算手机100在UWB坐标系中的空间位置信息i。S1003c、手机100根据手机100与各个UWB基站之间的距离，计算手机100在UWB坐标系中的空间位置信息i。示例性的，本申请实施例结合图19，介绍手机100计算手机100在UWB坐标系中的空间位置信息i的具体方法。如图19所示，假设手机100在方位i时，手机100在UWB坐标系的坐标为Ki。O点、P点和Q点在UWB坐标系的坐标分别为O，P，Q。其中，PQ＝q，q为智能电视的显示屏的长度；OP＝p，p为智能电视的显示屏的宽度。在一些实施例中，上述第一消息中还可以包括UWB基站在UWB坐标系中的坐标。如Base0广播的第一消息中还包括坐标O；Base1广播的第一消息中还包括坐标P；Base2广播的第一消息中还包括坐标Q。图19所示的点Ki′为点Ki在OPQ面的垂直投影，Ki′。因此，KiKi′垂直于OPQ面，KiKi′垂直于PKi′，KiKi′垂直于QKi′，且KiKi′垂直于OKi′。如此，由勾股定理可以得出以下公式-公式。KiKi′2+QKi′2＝QKi2公式；KiKi′2+PKi′2＝PKi2公式；KiKi′2+OKi′2＝OKi2公式。其中，KiKi′＝y1，QKi＝c，由公式可得出以下公式由公式可得出以下公式。由公式可得出以下公式。yi2+c2＝2+2 公式；yi2+b2＝xi2+2 公式；yi2+a2＝xi2+zi2 公式。之后，手机100可以根据上述公式、公式和公式，计算得到手机100在方位1的空间位置信息1，即手机100在UWB坐标系的坐标Ki。其中，手机100根据公式、公式和公式计算xi，yi和zi的具体方法及计算结果，本申请实施例这里不予赘述。需要说明的是，手机100计算手机100在UWB坐标系中的空间位置信息i的方法，包括但不限于上述实施例中所述的方法。手机100还可以通过其他方式计算手机100在UWB坐标系中的空间位置信息i，本申请实施例对此不作限制。在另一些实施例中，响应于第二操作，手机100可以主动向UWB基站发送测距请求，以测量手机100与UWB基站之间的距离。具体的，响应于第二操作，手机100在方位i可以与Base0、Base1和Base2交互，执行S1003A-S1003D，以获取手机100在方位i的空间位置信息i。其中，i在{1，2……，n}中依次取值，n≥2，n为整数。如图20所示，S1003可以包括S1003A-S1003D。S1003A、手机100在方位i向UWB基站发送测距请求。其中，该测距请求用于请求测量手机100与UWB基站之间的距离。该测距请求中还可以包括手机100的UWB芯片的标识。示例性的，手机100响应于上述第二操作，可以广播上述测距请求。这样，各个UWB基站均可以接收到该测距请求。S1003B、UWB基站接收到测距请求后，向手机100发送测距响应。在一些实施例中，UWB基站可以广播测距响应。该测距响应中包括发送该测距响应的UWB基站的UWB芯片的标识。该测距响应还可以包括第一时间戳，该第一时间戳用于指示UWB基站发送该测距响应的时间。在另一些实施例中，上述测距响应还可以包括接收该测距响应的手机100的UWB芯片的标识。测距响应中手机100的标识用于指示该测距响应的目的端是手机100。S1003C、手机100接收来自各个UWB基站的测距响应，得到手机100与各个UWB基站之间的距离。S1003D、手机100根据手机100与各个UWB基站之间的距离，计算手机100在UWB坐标系中的空间位置信息i。其中，S1003C-S1003D的详细描述，可以参考上述实施例对S1003b-S1003c的介绍，本申请实施例这里不予赘述。如图20所示，S1003还可以包括S1003E。S1003E、手机100在方位i，通过IMU芯片测量手机100的空间姿态信息i。需要说明的是，手机100获取该手机100处于一个方位时的空间位姿信息的具体方法，包括但不限于上述实施例中所述的方法。任何一种可获取手机100在UWB坐标系中的空间位姿信息的方法，均可适用于本申请实施例的方法。S1004、手机100根据手机100在n个方位时的空间位姿信息，计算第一家居设备的空间位置信息。其中，手机100的空间位姿信息可以包括空间位置信息和空间姿态信息。示例性的，手机100在方位i的空间位置信息为，手机100在方位i的空间姿态信息包括手机100的载体坐标系相对于UWB坐标系的俯仰角方位角φi和横滚角θi。其中，i在{1，2……，n}中依次取值，n≥2，n为整数。例如，手机100在图18所示的方位1时，手机100在UWB坐标系的坐标位置为，手机100空间姿态信息包括俯仰角方位角φ1和横滚角θ1。手机100在图18所示的方位2时，手机100在UWB坐标系的坐标位置为，手机100空间姿态信息包括俯仰角方位角φ2和横滚角θ2。也就是说，手机100在方位i时，手机100在UWB坐标系的坐标位置为，空间姿态信息是俯仰角方位角φi和横滚角θi。其中，i在{1，2……，n}中依次取值，n≥2，n为整数。以下实施例中，以手机100在方位i时，手机100的空间位置信息是，空间姿态信息是俯仰角方位角φi和横滚角θi为例，介绍手机100执行S1004计算第一家居设备的空间位置信息的具体方法。其中，手机100的空间位置信息和空间姿态信息是已知量。智能音箱的空间位置信息为未知量。i在{1，2……，n}中依次取值，n≥2，n为整数。应理解，智能音箱的空间位置信息是智能音箱在UWB坐标系中的坐标位置，可以以矩阵所示的三行一列的矩阵表示。手机100的空间位置信息是手机100在UWB坐标系中的坐标位置，可以以矩阵所示的三行一列的矩阵表示。因此，如公式所示，矩阵-矩阵，便可以得到图19所示的向量KiR。其中，点Ki是手机100在方位i时的位置，Ki；点R是智能音箱的位置，R。上述矩阵和矩阵中的下标e表示UWB基站构建的UWB坐标系；Ki和R是UWB坐标系中的坐标。其中，是已知量，是未知量。其中，用户操作手机100按照上述俯仰角方位角φi和横滚角θi，按照固定顺序依次绕着载体坐标系的俯仰轴、横滚轴和方位轴旋转，可使载体坐标系的三轴分别与UWB坐标系的三轴平行。本申请实施例中，可以将载体坐标系的三轴与UWB坐标系的三轴分别平行时，手机100的空间姿态称为预设初始姿态。手机100处于预设初始姿态时，该手机100的空间姿态信息中，俯仰角方位角φ0＝0°，横滚角θ0＝0°。具体的，在手机100处于俯仰角方位角φi和横滚角θi对应的空间姿态的情况下，手机100按照固定顺序依次绕着载体坐标系的俯仰轴旋转绕着横滚轴旋转θi，绕着方位轴旋转φi，可使手机100由上述实际空间姿态变换至预设初始姿态。需要说明的是，上述固定顺序可以为：先绕着xB轴旋转再绕着yB轴旋转θi，最后绕着zB轴旋转φi；或者，先绕着yB轴旋转θi，再绕着xB轴旋转最后绕着zB轴旋转φi；或者，先绕着zB轴旋转φi；，再绕着yB轴旋转θi，最后绕着xB轴旋转等。本申请实施例对上述固定顺序不做限制。示例性的，本申请实施例中，以上述固定顺序为先绕着zB轴旋转φi，再绕着xB轴旋转最后绕着yB轴旋转θi为例。以下是手机100按照该顺序绕载体坐标系的三轴旋转，由上述实际空间姿态变换至预设初始姿态时的旋转矩阵。其中，预设旋转矩阵中的下标b表示手机100的载体坐标系，上标e表示UWB基站构建的UWB坐标系。预设旋转矩阵如公式所示。其中，上述是由以下旋转矩阵-旋转矩阵这三个旋转矩阵得到的。上述C是手机100绕着载体坐标系b的zB轴旋转φi的旋转矩阵；是手机100绕着载体坐标系b的xB轴旋转的旋转矩阵；C是手机100绕着载体坐标系b的yB轴旋转θi的旋转矩阵。其中，应理解，也可以称为上述载体坐标系b与UWB坐标系e的坐标转换矩阵。通过可以将载体坐标系b中的坐标参数转换为UWB坐标系e中的坐标参数。因此，根据坐标系转移原理可以得出以下公式：其中，ri＝KiR，KiR是手机100在方位i时，手机100与智能音箱之间的距离。当手机100在方位i指向智能音箱时，手机100的载体坐标系b的yB轴经过智能音箱所在位置。因此，智能音箱在载体坐标系b中的坐标为。上述矩阵是由智能音箱在载体坐标系b中的坐标得到的。ri是向量KiR的模，即向量KiR的长度。向量KiR是UWB坐标系e中的向量。需要再次说明的是，、俯仰角方位角φi和横滚角θi均为已知量，和ri均为未知量。结合上述公式和公式可以得出以下公式，从而得到公式：其中，公式中所述的中的是公式中所述的的第1行第2列的元素与ri的乘积，可以表示为同理，公式中的是公式中所述的的第2行第2列的元素与ri的乘积，可以表示为公式中的是公式中所述的的第3行第2列的元素与ri的乘积，可以表示为也就是说，因此，上述公式可以变形为以下公式：由公式可以得出：根据上述公式，结合手机100在n个方位测量得到的手机100的n个空间姿态信息，可以得到如下矩阵方程：AX＝B矩阵方程其中，手机100可以采用公式X＝-1ATB解算上述矩阵方程。其中，AT是A的转置矩阵，ATA表示AT与A的乘积。-1是ATA的逆矩阵。X等于ATA的逆矩阵乘以AT，再乘以B。手机100采用X＝-1ATB，可以计算得到矩阵X，即即手机100可以计算得到第一家居设备在UWB坐标系的坐标R。如此，手机100便可以完成对家居设备的位置标注。在另一些实施例中，手机100得到第一家居设备的空间位置信息之后，还可以发出第三提示信息。该第三提示信息用于提示用户第一家居设备的位置标注已完成，用户操作手机100指向第一家居设备便可以控制该第一家居设备了。例如，手机100可以发出图21所示的第三提示信息2101，如“位置标注已完成，您操作手机指向智能音箱，便可以在手机控制智能音箱了！”。可选的，手机100还可以显示手机100指向智能音箱的图示2102。手机100响应于用户对图21所示的“好的”按钮的点击操作，手机100可以显示主界面或者智能家居APP的首页。在一些实施例中，在S1004之后，手机100可以执行S1005。S1005：手机100保存该第一家居设备的空间位置信息。应理解，手机100可以根据该第一家居设备的空间位置信息，便可以实现对该智能音箱的指向性控制。例如，当用户操作手机100指向一个图1所示的智能音箱所在位置时，手机100则可以自动显示图2所示的智能音箱的控制界面201，供用户操作控制该智能音箱。综上所述，采用本申请实施例的方法，即使家居设备中未配置UWB芯片，手机100也可以通过在多个位置分别指向一个家居设备的方式，实现手机100对该家居设备进行位置标注。并且，采用本申请实施例的方法对家居设备进行位置标注，其准确度不会受到UWB基站的信号强弱的影响。也就是说，通过本方案，还可以提升手机100对家居设备进行位置标注的准确度，进而提升手机100指向性控制家居设备时的定位精度。在一些情况下，可能因为手机100的空间位姿信息i不准确，而导致手机100计算得到的第一家居设备的空间位置信息的计算精度较低。如果智能音箱的空间位置信息的计算精度较低，手机100则无法实现对智能音箱的指向性控制。因此，手机100在执行S1005保存第一家居设备的空间位置信息之前，可以对该空间位置信息进行精度判断，以判断该空间位置信息的计算精度是否满足精度要求。具体的，S1005之前，本申请实施例的方法还可以包括S1005′。如图22所示，本申请实施例的方法还可以包括S1005′和S1005。S1005′、手机100判断第一家居设备的空间位置信息的计算误差是否小于预设误差门限。示例性的，手机100可以计算上述矩阵方程中，AX-B的残差G。该残差G的模可以作为该第一家居设备的空间位置信息的计算误差。然后，手机100可以判断该残差k的模是否小于预设误差门限。其中，空间位置信息的计算误差越小，则该空间位置信息的计算精度越高；空间位置信息的计算误差越大，则该空间位置信息的计算精度越低。其中，残差G是一个m行1列的矩阵，m＝3n。假设G＝T，即G是的转置矩阵。其中，手机100可以采用以下公式计算残差G的模|G|。残差G的模|G|可以作为该第一家居设备的空间位置信息的计算误差。|G|＝||AX-B||2/n公式其中，||a||2表示向量a的2范数，是向量a中各元素的平方之和再开根号。也就是说，||AX-B||2表示向量AX-B的2范数，是向量AX-B中各元素的平方之和再开根号。因此，由上述公式，即|G|＝||AX-B||2/n，可知：手机100对第一家居设备进行位置标注过程中，指向第一家居设备的次数n越大，第一家居设备的空间位置信息的计算误差则越小，其计算误差则越高。因此，本申请实施例中，可以通过增加指向次数n的方式，提升空间位置的计算误差。另外，n表示手机100对第一家居设备进行位置标注过程中指向该第一家居设备的次数。手机100对第一家居设备进行位置标注过程中，在n个方位指向该第一家居设备。具体的，在S1005′之后，如果第一家居设备的空间位置信息的计算误差小于预设误差门限Th，则表示该空间位置的计算误差较小，该空间位置的计算误差符合精度要求。采用该空间位置信息，可准确实现该第一家居设备的指向性控制。因此，手机100可以执行S1005，保存该第一家居设备的空间位置信息。在一些实施例中，手机100得到第一家居设备的空间位置信息之后，可以执行S1005′。在S1005′之后，如果第一家居设备的空间位置信息的计算误差小于预设误差门限，手机100还可以发出上述第三提示信息。在S1005′之后，如果第一家居设备的空间位置信息的计算误差大于或等于预设误差门限，则表示该空间位置的计算误差较大，该空间位置的计算误差不符合精度要求。采用该空间位置信息，难以准确实现该第一家居设备的指向性控制。因此，手机100可以重新执行S1002-S1004，重新计算该第一家居设备的空间位置信息。在一些实施例中，在S1005′之后，如果第一家居设备的空间位置信息的计算误差大于或等于预设误差门限，手机100可以发出第四提示信息。该第四提示信息用于请求用户确认是否重新对第一家居设备进行位置标记。例如，手机100可以发出图23所示的第四提示信息2301，如“智能音箱位置标记失败，请确认是否重新进行位置标记？”。响应于用户对第四提示信息的第三操作，手机100可重新执行S1002-S1004，重新计算该第一家居设备的空间位置信息。该第三操作用于触发手机100重新进行位置标记。例如，该第三操作可以是用户对图23所示的“是”按钮的点击操作。响应于用户对第四提示信息的第四操作，手机100可显示主界面或者智能家居APP的首页。该第四操作用于触发手机100不重新进行位置标记。例如，该第四操作可以是用户对图23所示的“否”按钮的点击操作。本申请实施例中，手机100保存第一家居设备的空间位置信息之前，可以对该空间位置信息进行精度判断，以判断该空间位置信息的计算精度是否满足精度要求。手机100只保存满足精度要求的空间位置信息。这样，可以保证手机100对家居设备进行指向性控制的准确度，可以提升用户的使用体验。以下实施例中，通过仿真说明本申请实施例的效果。具体的，可在仿真空间内布放三个UWB基站以构建UWB定位系统。设定手机100与UWB基站之间的测距误差为0.05米如图24所示，星号为上述Base0所在位置。以Base0所在位置作为UWB坐标系原点，仿真范围为X∈，Y∈，单位米。图24示出根据蒙特卡洛仿真得到的UWB定位精度示意图。图24中不同颜色深度代表不同的定位精度，颜色越深标识定位误差越小，定位精度越高。由图24可以看出：越靠近UWB基站，定位误差越小，定位精度越高。另外，设定仿真中手机的空间姿态信息的计算误差为1°。在上述仿真场景中，可将待标记的家居设备依次置于距离手机100较远的一个位置和较近的一个位置。在图25中的所示的位置1，分别应用常规技术中的方案和本方案对该第一家居设备进行位置标记，可得到图25中的所示的两种方案的定位误差变化示意图。在图26中的所示的位置2，分别应用常规技术中的方案和本方案对该第一家居设备进行位置标记，可得到图26中的所示的两种方案的定位误差变化示意图。由图25中的和图26中的可知：采用本方案对家居设备进行两次位置标注时，其定位精度与常规方案的定位精度持平；而随着位置标记次数的增多，本方案的定位精度明显优于常规方案。并且，对比图25中的和图26中的可知：采用本方案对家居设备进行位置标记，家居设备与手机之间的距离的远近对定位精度的影响较小。本申请另一些实施例提供了一种电子设备，该电子设备可以包括：上述触摸屏、存储器和一个或多个处理器。该触摸屏、存储器和处理器耦合。该存储器用于存储计算机程序代码，该计算机程序代码包括计算机指令。当处理器执行计算机指令时，电子设备可执行上述方法实施例中手机执行的各个功能或者步骤。该电子设备的结构可以参考图3所示的电子设备100的结构。本申请另一些实施例提供一种显示装置，其特征在于，该装置可以应用于包括上述触摸屏的电子设备。该装置用于执行上述方法实施例中手机执行的各个功能或者步骤。本申请实施例还提供一种芯片系统，如图27所示，该芯片系统2700包括至少一个处理器2701和至少一个接口电路2702。处理器2701和接口电路2702可通过线路互联。例如，接口电路2702可用于从其它装置接收信号。又例如，接口电路2702可用于向其它装置发送信号。示例性的，接口电路2702可读取存储器中存储的指令，并将该指令发送给处理器2701。当所述指令被处理器2701执行时，可使得电子设备执行上述实施例中的各个步骤。当然，该芯片系统还可以包含其他分立器件，本申请实施例对此不作具体限定。本申请实施例还提供一种计算机存储介质，该计算机存储介质包括计算机指令，当所述计算机指令在上述电子设备上运行时，使得该电子设备执行上述方法实施例中手机执行的各个功能或者步骤。本申请实施例还提供一种计算机程序产品，当所述计算机程序产品在计算机上运行时，使得所述计算机执行上述方法实施例中手机执行的各个功能或者步骤。通过以上实施方式的描述，所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，仅以上述各功能模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能模块完成，即将装置的内部结构划分成不同的功能模块，以完成以上描述的全部或者部分功能。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个装置，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是一个物理单元或多个物理单元，即可以位于一个地方，或者也可以分布到多个不同地方。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个可读取存储介质中。基于这样的理解，本申请实施例的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该软件产品存储在一个存储介质中，包括若干指令用以使得一个设备或处理器执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上内容，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何在本申请揭露的技术范围内的变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以所述权利要求的保护范围为准。
