标题title
一种车辆定位系统、定位方法、车辆和存储介质
摘要abst
本发明提供了一种车辆定位系统、定位方法、车辆和存储介质，包括第一图像采集设备，设置在待定位车辆的底部，用于采集所述待定位车辆的底部道路图像；第一定位推理装置，被配置为：对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息；将所述第一车道特征信息与从地图中获得的所述待定位车辆当前所在位置的第二车道特征信息进行匹配，从而得到所述待定位车辆的第一定位结果。这样，获取的第一车道特征信息更符合待定位车辆的车轮形式区域的车道特征信息，即使在交汇路口、城区道路下和堵车等不良好的路况下，仍可以获取到比较可靠的第一车道特征信息，降低了第一定位结果的出错率，从而提高了车辆定位的精准度。
权利要求书clms
1.一种车辆定位系统，其特征在于，包括：第一图像采集设备，设置在待定位车辆的底部，用于采集所述待定位车辆的底部道路图像；第一定位推理装置，被配置为：对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息；将所述第一车道特征信息与从地图中获得的所述待定位车辆当前所在位置的第二车道特征信息进行匹配，从而得到所述待定位车辆的第一定位结果。2.根据权利要求1所述的车辆定位系统，其特征在于，所述第一图像采集设备包括：设置在所述待定位车辆的左前轮前方的第一相机；设置在所述待定位车辆的右前轮前方的第二相机；设置在所述待定位车辆的左后轮后方的第三相机；以及设置在所述待定位车辆的右后轮后方的第四相机。3.根据权利要求2所述的车辆定位系统，其特征在于，所述第一定位推理装置被进一步配置为：若根据所述第一车道特征信息确定所述第一相机和所述第三相机同时检测到车道线或者所述第二相机和所述第四相机同时检测到车道线，确定所述待定位车辆与所检测到的车道线之间的第一横向距离；将所述第一横向距离与利用地图定位得到的第二横向距离进行比较，以修正所述待定位车辆的横向定位结果。4.根据权利要求2所述的车辆定位系统，其特征在于，所述第一定位推理装置被进一步配置为：若满足如下车道保持条件中任意一种，确定所述待定位车辆为维持当前车道行驶的推理定位结果；其中，所述车道保持条件包括：所述第一相机至所述第四相机均未检测到车道线；或者仅所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮左侧，或者仅所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮右侧，或者所述第一相机和所述第三相机检测到第一车道线，所述第二相机和所述第四相机检测到第二车道线，且所述第一车道线位于左侧车轮左侧，所述第二车道线位于右侧车轮右侧。5.根据权利要求2所述的车辆定位系统，其特征在于，所述第一定位推理装置被进一步配置为：若满足如下跨线行驶条件中任意一种，确定所述待定位车辆为跨线行驶的推理定位结果；其中，所述下跨线行驶条件包括：仅所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮右侧；或者仅所述第一相机至所述第四相机均检测到第一车道线，且所述第一车道线位于左侧车轮右侧，所述第一车道线位于右侧车轮左侧；或者所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮左侧；或者所述第一相机至所述第四相机均检测到第二车道线，且所述第二车道线位于左侧车轮右侧，所述第二车道线位于右侧车轮左侧。6.根据权利要求2所述的车辆定位系统，其特征在于，所述第一定位推理装置被进一步配置为：若满足如下左向换道条件中任意一种，确定所述待定位车辆为左向换道行驶的推理定位结果；若满足如下右向换道条件中任意一种，确定所述待定位车辆为右向换道行驶的推理定位结果；其中，所述左向换道条件包括：所述第一相机或所述第三相机检测到第一车道线并且对应地所述第二相机和所述第四相机也检测到所述第一车道线，且所述第一车道线位于右侧车轮右侧；所述右向换道条件包括：所述第二相机或所述第四相机检测到第二车道线并且对应地所述第一相机和所述第三相机也检测到所述第二车道线，且所述第二车道线位于左侧车轮左侧。7.根据权利要求1-6中任一项所述的车辆定位系统，其特征在于，还包括：第二图像采集设备，用于获取待定位车辆的前方道路图像；第二定位推理装置，被配置为：对所述前方道路图像进行识别，获得当前时刻所述前方道路图像的第三车道特征信息；将所述第三车道特征信息与从地图中获得的所述第二车道特征信息进行匹配，从而得到所述待定位车辆的第二定位结果。8.根据权利要求7所述的车辆定位系统，其特征在于，还包括：决策装置，被配置为：根据所述前方道路图像，确定待定位车辆的前方道路的路况信息；若所述路况信息满足预设条件，启动第一图像采集设备和第一定位推理装置工作。9.根据权利要求8所述的车辆定位系统，其特征在于，所述决策装置被进一步配置为：根据所述前方道路的路况信息，对所述第一定位结果和第二定位结果分配对应的权重值，并根据所述权重值确定当前时刻的最终定位结果。10.一种车辆定位方法，其特征在于，所述方法包括：通过设置在待定位车辆的底部的第一图像采集设备采集待定位车辆的底部道路图像；对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息；将所述第一车道特征信息与从地图中获得的所述待定位车辆当前所在位置的第二车道特征信息进行匹配，从而得到所述待定位车辆的第一定位结果。
说明书desc
技术领域本发明涉及自动驾驶技术领域，具体提供一种车辆定位系统、定位方法、车辆和存储介质。背景技术高级辅助驾驶功能日益受到大家关注，车辆的实时定位是其中不可缺少的一环。目前的定位技术，是在多源信息融合框架下，充分利用如全球卫星导航系统，视觉+地图匹配，里程计等信息，以实现稳定可靠的定位功能。其中，视觉+地图匹配定位技术，能够提供与地图一致的定位结果，但极大受限于外部道路和路况，比如在交汇路口，城区场景中，地图匹配的出错率会大大提升；而在道路拥挤的路况下，平视安装摄像头难以拍摄到足够的道路标识，会使匹配定位失效。因此，如何在各种路况下，降低车辆定位的出错率，提高车辆定位的精准度，是本领域技术人员亟待解决的技术问题。发明内容为了克服上述缺陷，提出了本发明，以提供解决或至少部分地解决在路况不良好的状况下，车辆定位的出错率较高，精准度较低的技术问题的车辆定位系统、定位方法、车辆和存储介质。在第一方面，本发明提供一种车辆定位系统，包括：第一图像采集设备，设置在待定位车辆的底部，用于采集所述待定位车辆的底部道路图像；第一定位推理装置，被配置为：对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息；将所述第一车道特征信息与从地图中获得的所述待定位车辆当前所在位置的第二车道特征信息进行匹配，从而得到所述待定位车辆的第一定位结果。进一步地，上述所述的车辆定位系统中，所述第一图像采集设备包括：设置在所述待定位车辆的左前轮前方的第一相机；设置在所述待定位车辆的右前轮前方的第二相机；设置在所述待定位车辆的左后轮后方的第三相机；以及设置在所述待定位车辆的右后轮后方的第四相机。进一步地，上述所述的车辆定位系统中，所述第一定位推理装置被进一步配置为：若根据所述第一车道特征信息确定所述第一相机和所述第三相机同时检测到车道线或者所述第二相机和所述第四相机同时检测到车道线，确定所述待定位车辆与所检测到的车道线之间的第一横向距离；将所述第一横向距离与利用地图定位得到的第二横向距离进行比较，以修正所述待定位车辆的横向定位结果。进一步地，上述所述的车辆定位系统中，所述第一定位推理装置被进一步配置为：若满足如下车道保持条件中任意一种，确定所述待定位车辆为维持当前车道行驶的推理定位结果；其中，所述车道保持条件包括：所述第一相机至所述第四相机均未检测到车道线；或者仅所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮左侧，或者仅所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮右侧，或者所述第一相机和所述第三相机检测到第一车道线，所述第二相机和所述第四相机检测到第二车道线，且所述第一车道线位于左侧车轮左侧，所述第二车道线位于右侧车轮右侧。进一步地，上述所述的车辆定位系统中，所述第一定位推理装置被进一步配置为：若满足如下跨线行驶条件中任意一种，确定所述待定位车辆为跨线行驶的推理定位结果；其中，所述下跨线行驶条件包括：仅所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮右侧；或者仅所述第一相机至所述第四相机均检测到第一车道线，且所述第一车道线位于左侧车轮右侧，所述第一车道线位于右侧车轮左侧；或者所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮左侧；或者所述第一相机至所述第四相机均检测到第二车道线，且所述第二车道线位于左侧车轮右侧，所述第二车道线位于右侧车轮左侧。进一步地，上述所述的车辆定位系统中，所述第一定位推理装置被进一步配置为：若满足如下左向换道条件中任意一种，确定所述待定位车辆为左向换道行驶的推理定位结果；若满足如下右向换道条件中任意一种，确定所述待定位车辆为右向换道行驶的推理定位结果；其中，所述左向换道条件包括：所述第一相机或所述第三相机检测到第一车道线并且对应地所述第二相机和所述第四相机也检测到所述第一车道线，且所述第一车道线位于右侧车轮右侧；所述右向换道条件包括：所述第二相机或所述第四相机检测到第二车道线并且对应地所述第一相机和所述第三相机也检测到所述第二车道线，且所述第二车道线位于左侧车轮左侧。进一步地，上述所述的车辆定位系统，还包括：第二图像采集设备，用于获取待定位车辆的前方道路图像；第二定位推理装置，被配置为：对所述前方道路图像进行识别，获得当前时刻所述前方道路图像的第三车道特征信息；将所述第三车道特征信息与从地图中获得的所述第二车道特征信息进行匹配，从而得到所述待定位车辆的第二定位结果。进一步地，上述所述的车辆定位系统，决策装置，被配置为：根据所述前方道路图像，确定待定位车辆的前方道路的路况信息；若所述路况信息满足预设条件，启动第一图像采集设备和第一定位推理装置工作。进一步地，上述所述的车辆定位系统中，所述决策装置被进一步配置为：根据所述前方道路的路况信息，对所述第一定位结果和第二定位结果分配对应的权重值，并根据所述权重值确定当前时刻的最终定位结果。在第二方面，本发明提供一种车辆定位方法，所述方法包括：通过设置在待定位车辆的底部的第一图像采集设备采集待定位车辆的底部道路图像；对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息；将所述第一车道特征信息与从地图中获得的所述待定位车辆当前所在位置的第二车道特征信息进行匹配，从而得到所述待定位车辆的第一定位结果。在第三方面，提供一种车辆，包括车辆主体和如上任一项所述的车辆定位系统；所述车辆定位系统安装于所述待定位车辆主体上。在第四方面，提供一种计算机可读存储介质，该计算机可读存储介质其中存储有多条程序代码，所述程序代码适于由处理器加载并运行以执行上述任一项技术方案所述的车辆定位方法。方案1.一种车辆定位系统，其特征在于，包括：第一图像采集设备，设置在待定位车辆的底部，用于采集所述待定位车辆的底部道路图像；第一定位推理装置，被配置为：对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息；将所述第一车道特征信息与从地图中获得的所述待定位车辆当前所在位置的第二车道特征信息进行匹配，从而得到所述待定位车辆的第一定位结果。方案2.根据方案1所述的车辆定位系统，其特征在于，所述第一图像采集设备包括：设置在所述待定位车辆的左前轮前方的第一相机；设置在所述待定位车辆的右前轮前方的第二相机；设置在所述待定位车辆的左后轮后方的第三相机；以及设置在所述待定位车辆的右后轮后方的第四相机。方案3.根据方案2所述的车辆定位系统，其特征在于，所述第一定位推理装置被进一步配置为：若根据所述第一车道特征信息确定所述第一相机和所述第三相机同时检测到车道线或者所述第二相机和所述第四相机同时检测到车道线，确定所述待定位车辆与所检测到的车道线之间的第一横向距离；将所述第一横向距离与利用地图定位得到的第二横向距离进行比较，以修正所述待定位车辆的横向定位结果。方案4.根据方案2所述的车辆定位系统，其特征在于，所述第一定位推理装置被进一步配置为：若满足如下车道保持条件中任意一种，确定所述待定位车辆为维持当前车道行驶的推理定位结果；其中，所述车道保持条件包括：所述第一相机至所述第四相机均未检测到车道线；或者仅所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮左侧，或者仅所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮右侧，或者所述第一相机和所述第三相机检测到第一车道线，所述第二相机和所述第四相机检测到第二车道线，且所述第一车道线位于左侧车轮左侧，所述第二车道线位于右侧车轮右侧。方案5.根据方案2所述的车辆定位系统，其特征在于，所述第一定位推理装置被进一步配置为：若满足如下跨线行驶条件中任意一种，确定所述待定位车辆为跨线行驶的推理定位结果；其中，所述下跨线行驶条件包括：仅所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮右侧；或者仅所述第一相机至所述第四相机均检测到第一车道线，且所述第一车道线位于左侧车轮右侧，所述第一车道线位于右侧车轮左侧；或者所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮左侧；或者所述第一相机至所述第四相机均检测到第二车道线，且所述第二车道线位于左侧车轮右侧，所述第二车道线位于右侧车轮左侧。方案6.根据方案2所述的车辆定位系统，其特征在于，所述第一定位推理装置被进一步配置为：若满足如下左向换道条件中任意一种，确定所述待定位车辆为左向换道行驶的推理定位结果；若满足如下右向换道条件中任意一种，确定所述待定位车辆为右向换道行驶的推理定位结果；其中，所述左向换道条件包括：所述第一相机或所述第三相机检测到第一车道线并且对应地所述第二相机和所述第四相机也检测到所述第一车道线，且所述第一车道线位于右侧车轮右侧；所述右向换道条件包括：所述第二相机或所述第四相机检测到第二车道线并且对应地所述第一相机和所述第三相机也检测到所述第二车道线，且所述第二车道线位于左侧车轮左侧。方案7.根据方案1-6中任一项所述的车辆定位系统，其特征在于，还包括：第二图像采集设备，用于获取待定位车辆的前方道路图像；第二定位推理装置，被配置为：对所述前方道路图像进行识别，获得当前时刻所述前方道路图像的第三车道特征信息；将所述第三车道特征信息与从地图中获得的所述第二车道特征信息进行匹配，从而得到所述待定位车辆的第二定位结果。方案8.根据方案7所述的车辆定位系统，其特征在于，还包括：决策装置，被配置为：根据所述前方道路图像，确定待定位车辆的前方道路的路况信息；若所述路况信息满足预设条件，启动第一图像采集设备和第一定位推理装置工作。方案9.根据方案8所述的车辆定位系统，其特征在于，所述决策装置被进一步配置为：根据所述前方道路的路况信息，对所述第一定位结果和第二定位结果分配对应的权重值，并根据所述权重值确定当前时刻的最终定位结果。方案10.一种车辆定位方法，其特征在于，所述方法包括：通过设置在待定位车辆的底部的第一图像采集设备采集待定位车辆的底部道路图像；对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息；将所述第一车道特征信息与从地图中获得的所述待定位车辆当前所在位置的第二车道特征信息进行匹配，从而得到所述待定位车辆的第一定位结果。方案11.一种车辆，其特征在于，包括车辆主体和如方案1-9任一项所述的车辆定位系统；所述车辆定位系统安装于所述待定位车辆主体上。方案12.一种计算机可读存储介质，其中存储有多条程序代码，其特征在于，所述程序代码适于由处理器加载并运行以执行方案10所述的车辆定位方法。本发明上述一个或多个技术方案，至少具有如下一种或多种有益效果：在实施本发明的技术方案中，通过在待定位车辆的底部设置第一图像采集设备，从而可以采集到待定位车辆的底部道路图像，并对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息，这样，获取的第一车道特征信息更符合待定位车辆的车轮形式区域的车道特征信息，即使在交汇路口、城区道路下和堵车等不良好的路况下，仍可以获取到比较可靠的第一车道特征信息，后续再结合从地图中获取待定位车辆当前所在位置的第二车道特征信息进行匹配定位时，得到的第一定位结果出错率较低，从而提高了车辆定位的精准度。附图说明参照附图，本发明的公开内容将变得更易理解。本领域技术人员容易理解的是：这些附图仅仅用于说明的目的，而并非意在对本发明的保护范围组成限制。此外，图中类似的数字用以表示类似的部件，其中：图1是根据本发明的一个实施例的车辆定位系统的主要结构框图；图2是根据本发明的一个实施例的车辆的结构示意图；图3是图2中左前轮前方的第一相机的安装角度示意图；图4是根据本发明的另一个实施例的车辆定位系统的主要结构框图；图5是根据本发明的一个实施例的车辆定位方法的主要步骤流程示意图。具体实施方式下面参照附图来描述本发明的一些实施方式。本领域技术人员应当理解的是，这些实施方式仅仅用于解释本发明的技术原理，并非旨在限制本发明的保护范围。在本发明的描述中，“模块”、“处理器”可以包括硬件、软件或者两者的组合。一个模块可以包括硬件电路，各种合适的感应器，通信端口，存储器，也可以包括软件部分，比如程序代码，也可以是软件和硬件的组合。处理器可以是中央处理器、微处理器、图像处理器、数字信号处理器或者其他任何合适的处理器。处理器具有数据和/或信号处理功能。处理器可以以软件方式实现、硬件方式实现或者二者结合方式实现。非暂时性的计算机可读存储介质包括任何合适的可存储程序代码的介质，比如磁碟、硬盘、光碟、闪存、只读存储器、随机存取存储器等等。术语“A和/或B”表示所有可能的A与B的组合，比如只是A、只是B或者A和B。术语“至少一个A或B”或者“A和B中的至少一个”含义与“A和/或B”类似，可以包括只是A、只是B或者A和B。单数形式的术语“一个”、“这个”也可以包含复数形式。现有的视觉+地图匹配定位技术，能够提供与地图一致的定位结果，但极大受限于外部道路和路况，比如在交汇路口，城区场景中，地图匹配的出错率会大大提升；而在道路拥挤的路况下，平视安装摄像头难以拍摄到足够的道路标识，会使匹配定位失效。因此，为了解决上述技术问题，本发明提供了以下技术方案。参阅附图1，图1是根据本发明的一个实施例的车辆定位系统的主要结构框图。如图1所示，本发明实施例中的车辆定位系统主要包括第一图像采集设备10和第一定位推理装置11。其中，第一图像采集设备10，设置在待定位车辆的底部，并与第一定位推理装置11电连接。图2是根据本发明的一个实施例的车辆的结构示意图，图3是图2中左前轮前方的第一相机的安装角度示意图。如图2所示，该车辆可以包括车辆主体100、左侧车轮101和右侧车轮；所述左侧车轮101包括左前轮1011和左后轮1012，所述右侧车轮包括右前轮和右后轮。所述第一图像采集设备10包括：设置在左前轮前方的第一相机102；设置在右前轮前方的第二相机；设置在左后轮后方的第三相机103；设置在右后轮后方的第四相机。为使第一相机102至第四相机的探测范围更加合理，第一相机102和第二相机可以向前倾斜一定角度，第三相机103和第四相机可以向后倾斜一定角度。如图3所示，以第一相机102为例，第一相机102的视场角可以为120°。可以将第一相机102向前倾斜25°，第一相机102的视场角被垂直方向的线分为35°和85°两部分，其探测半径大约为20cm，车底盘的离地间隙通常为11～15cm，本实施例可以取12cm，这样，则可以得到第一相机在向前倾斜25°时，其在路面的沿前后方向的长度大约为145.6cm，具体地计算式如下：l＝+tanβ)*h其中，l表示相机在路面的沿前后方向的长度，a表示视场角，β表示倾斜角，h表示相机距离地面高度。在一个具体实现过程中，可以利用第一图像采集设备10采集所述待定位车辆的底部道路图像，并将采集的待定位车辆的底部道路图像发送给第一定位推理装置11，由第一定位推理装置11对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息，并将所述第一车道特征信息与从地图中获得的所述待定位车辆当前所在位置的第二车道特征信息进行匹配，从而得到所述待定位车辆的第一定位结果。具体地，可以通过全球定位系统等实时获取到待定位车辆的位置信息，如车辆所在的经度、纬度以及所述待定位车辆当前的航向角等。然后由第一定位推理装置11从高精度的地图中获取到待定位车辆当前所在位置的第二车道特征信息，并将第一车道特征信息与第二车道特征信息进行匹配，来获取得到所述待定位车辆当前所在的道路或车道等的第一定位结果。由于第一图像采集设备10设置在车辆底部，因此，无论道路状况是否良好，其均采集到所需要的图像，并提取到第一车道特征信息，然后与地图进行融合，得到比较可靠的第一定位结果。在一个具体实现过程中，第一车道特征信息和第二车道特征信息均可以包括车辆底部的车道线的数量、路沿类型、地面标志以及交通标志信息等，其中车道线的颜色分为白色、黄色、橙色和蓝色等，车道线的类型分为单实线、单虚线、左虚右实、右实左虚、双实线、双虚线和导流线等，路沿类型包括防护栏、路缘石和保护墙等，地面标志信息包括最高限速信息和最低限速信息等，交通标志信息包括最高限速标志、最低限速标志和限速解除标志等，本实施例对此不作具体限定。在一个具体实现过程中，可以将第一车道特征信息中的车辆底部的车道线的数量、路沿类型、地面标志以及交通标志信息等，结合第二车道特征信息中的车辆底部车道线的数量、路沿类型、地面标志以及交通标志信息等，可以判定待定位车辆当前时刻所在的道路，比如在某条高速公路上；将第一车道特征信息中的车辆底部的车道线的数量、每条所述车道线的颜色、每条所述车道线的类型、相对路沿距离和地面标志等，结合从所述高精度地图中获取得到的所述待定位车辆前方的车道线的数量、每条所述车道线的颜色、每条所述车道线的类型、相对路沿距离和地面标志等，可以判定待定位车辆当前时刻在该道路上所在的车道，由此可以获取待定位车辆的第一定位结果。本实施例的车辆定位系统，通过在待定位车辆的底部设置第一图像采集设备10，从而可以采集到待定位车辆的底部道路图像，并对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息，这样，获取的第一车道特征信息更符合待定位车辆的车轮形式区域的车道特征信息，即使在交汇路口、城区道路下和堵车等不良好的路况下，仍可以获取到比较可靠的第一车道特征信息，后续再结合从地图中获取待定位车辆当前所在位置的第二车道特征信息进行匹配定位时，得到的第一定位结果出错率较低，从而提高了车辆定位的精准度。在一个具体实现过程中，所述第一定位推理装置11被进一步配置为：若根据所述第一车道特征信息确定所述第一相机和所述第三相机同时检测到车道线或者所述第二相机和所述第四相机同时检测到车道线，确定所述待定位车辆与所检测到的车道线之间的第一横向距离；将所述第一横向距离与利用地图定位得到的第二横向距离进行比较，以修正所述待定位车辆的横向定位结果。具体地，由于通过第一图像采集设备10采集的是待定位车辆的底部道路图像，待定位车辆的底部道路图像中车轮横向距离可以通过待定位车辆的底部道路图像与空间几何关系简单推算出来，一般随着距离增加图像推算误差会放大，由于第一图像采集设备10距离地面很近，因此推算的误差会很小，从而得到的第一横向距离相对更加精确。这样，可以修正所述待定位车辆的横向定位结果，从而可以隧道等实时动态不佳场景，且要求存在实线，仍可以推理出得到的第一横向距离，避免被地图融合定位拉偏。在一个具体实现过程中，所述第一定位推理装置11被进一步配置为：若满足如下车道保持条件中任意一种，确定所述待定位车辆为维持当前车道行驶的推理定位结果，这样，可以作为一个先验的结果，把地图中与当前车道无关的第二车道特征信息进行过滤。其中，所述车道保持条件包括：所述第一相机至所述第四相机均未检测到车道线，也就是说待定位车辆行驶在当前车道的中部位置，待定位车辆两侧的车道线距离车可能比较远，所述第一相机至所述第四相机在对应的可探测范围内，无法检测到车道线，此时，可以确定所述待定位车辆为维持当前车道行驶的推理定位结果；或者，仅所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮左侧。也就是说，车辆虽然在当前道路的左右两个车道线之间，但是可能比较靠近左侧车道线，这时，仅所述第一相机和所述第三相机检测到第一车道线，然后可以估算出第一车道线与左侧车轮的距离，然后根据该距离的正负值，可以判断出第一车道线与左侧车轮的相对位置关系，若第一车道线位于左侧车轮左侧，则可以确定所述待定位车辆为维持当前车道行驶的推理定位结果。例如，以左侧车轮指向右侧车轮的方向为正方向，若第一车道线与左侧车轮的距离为负，则说明第一车道线位于左侧车轮的左侧，反之，若第一车道线与左侧车轮的距离为正，则说明第一车道线位于左侧车轮的右侧。或者仅所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮右侧。也就是说，车辆虽然在当前道路的左右两个车道线之间，但是可能比较靠近右侧车道线，这时，仅所述第二相机和所述第四相机检测到第二车道线，然后可以估算出第二车道线与右侧车轮的距离，然后根据该距离的正负值，可以判断出第二车道线与右侧车轮的相对位置关系，若第二车道线位于右侧车轮右侧，则可以确定所述待定位车辆为维持当前车道行驶的推理定位结果。或者所述第一相机和所述第三相机检测到第一车道线，所述第二相机和所述第四相机检测到第二车道线，且所述第一车道线位于左侧车轮左侧，所述第二车道线位于右侧车轮右侧。也就是说，待定位车辆两侧的车道线距离车可能比较近，所述第一相机至所述第四相机在对应的可探测范围内，均可以检测到对应的车道线，但由于所述第一车道线位于左侧车轮左侧，所述第二车道线位于右侧车轮右侧，仍可以确定出所述待定位车辆为维持当前车道行驶的推理定位结果。在一个具体实现过程中，所述第一定位推理装置11被进一步配置为：若满足如下跨线行驶条件中任意一种，确定所述待定位车辆为跨线行驶的推理定位结果，然后可以获知跨线的两个车道，然后过滤掉地图中与这两个车道无关的第二车道特征信息；其中，所述下跨线行驶条件包括：仅所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮右侧；或者仅所述第一相机至所述第四相机均检测到第一车道线，且所述第一车道线位于左侧车轮右侧，所述第一车道线位于右侧车轮左侧；或者所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮左侧；或者所述第一相机至所述第四相机均检测到第二车道线，且所述第二车道线位于左侧车轮右侧，所述第二车道线位于右侧车轮左侧。需要说明的是，该过程中判断车道线与左右侧车轮的位置关系的过程与上述维持当前车道行驶的推理中的判断方式相同，在此不再赘述。在一个具体实现过程中，所述第一定位推理装置11被进一步配置为：若满足如下左向换道条件中任意一种，确定所述待定位车辆为左向换道行驶的推理定位结果，这样，可以作为一个先验的结果，把地图中与跨道后的车道无关的第二车道特征信息进行过滤；其中，所述左向换道条件包括：所述第一相机或所述第三相机检测到第一车道线并且对应地所述第二相机和所述第四相机也检测到所述第一车道线，且所述第一车道线位于右侧车轮右侧。若满足如下右向换道条件中任意一种，确定所述待定位车辆为右向换道行驶的推理定位结果，这样，可以作为一个先验的结果，把地图中与跨道后的车道无关的第二车道特征信息进行过滤；所述右向换道条件包括：所述第二相机或所述第四相机检测到第二车道线并且对应地所述第一相机和所述第三相机也检测到所述第二车道线，且所述第二车道线位于左侧车轮左侧。需要说明的是，该过程中判断车道线与左右侧车轮的位置关系的过程与上述维持当前车道行驶的推理中的判断方式相同，在此不再赘述。本实施例的车辆定位系统，可以快速地得到车辆行驶车道的推理定位结果，在匝道、拥堵路况等场景，弥补车道线等第一车道特征信息，并可以快速提供地图匹配初始位置，提高地图匹配效率。图4是根据本发明的另一个实施例的车辆定位系统的主要结构框图，如图4所示，本实施例的车辆定位系统在上述实施例的基础上进一步还可以包括第二图像采集设备12和第二定位推理装置13。其中，第二定位推理装置13可以安装在待定位车辆的前挡风玻璃内侧，待定位车辆的车顶等位置，实时对待定位车辆前方道路进行拍摄，获取待定位车辆的前方道路图像，然后将待定位车辆的前方道路图像发送给第二定位推理装置13，由第二定位推理装置13对所述前方道路图像进行识别，获得当前时刻所述前方道路图像的第三车道特征信息；将所述第三车道特征信息与从地图中获得的所述第二车道特征信息进行匹配，从而得到所述待定位车辆的第二定位结果。其中，第二定位推理装置13获得待定位车辆的第二定位结果的过程与第一定位推理装置11获得待定位车辆的第一定位结果的过程类似，详细请参考上述先关记载，在此不再赘述。如图4所示，该车辆定位系统还可以包括决策装置14。该决策装置14，被配置为根据所述前方道路图像，确定待定位车辆的前方道路的路况信息；若所述路况信息满足预设条件，启动第一图像采集设备10和第一定位推理装置11工作。具体地，当待定位车辆的前方道路的路况信息良好时，根据第二图像采集设备12采集的待定位车辆的前方道路图像，获取的前方道路图像的第三车道特征信息以能够满足自动驾驶的需求，此时，为了节能，可以不再使用第一图像采集设备10采集图像。而当待定位车辆的前方道路的路况信息不良好时，即符合预设条件，第二图像采集设备12采集的待定位车辆的前方道路图像中，可能包含较少的车道特征信息、或者包括一些复杂的车道特征信息，会使匹配定位失效，此时，决策装置14可以启动第一图像采集设备10采集图像进行辅助定位。在一个具体实现过程中，两个图像采集设备均启用时，可以利用决策装置14根据所述前方道路的路况信息，对所述第一定位结果和第二定位结果分配对应的权重值，并根据所述权重值确定当前时刻的最终定位结果。例如，当前方道路的路况信息良好时，可以对第二定位结果分配一个相对较大的权重值，对第一定位结果分配一个相对较小的权重值，然后分别输入相关的计算式，得到一个最终的定位结果。当前方道路的路况信息较差时，可以对第二定位结果分配一个相对较小的权重值，对第一定位结果分配一个相对较大的权重值，然后分别输入相关的计算式，得到一个最终的定位结果。进一步，本发明还提供了一种车辆定位方法。参阅附图5，图5是根据本发明的一个实施例的车辆定位方法的主要步骤流程示意图。如图5所示，本发明实施例的车辆定位方法具体可以包括步骤501-步骤503。步骤501、通过设置在待定位车辆的底部的第一图像采集设备采集待定位车辆的底部道路图像；步骤502、对所述底部道路图像进行识别，获得当前时刻所述底部道路图像的第一车道特征信息；步骤503、将所述第一车道特征信息与从地图中获得的所述待定位车辆当前所在位置的第二车道特征信息进行匹配，从而得到所述待定位车辆的第一定位结果。在一个具体实现过程中，所述待定位车辆包括左侧车轮和右侧车轮；所述左侧车轮包括左前轮和左后轮，所述右侧车轮包括右前轮和右后轮；所述第一图像采集设备包括：设置在左前轮前方的第一相机；设置在右前轮前方的第二相机；设置在左后轮后方的第三相机；设置在右后轮后方的第四相机；所述待定位车辆定位方法还包括：若根据所述第一车道特征信息确定所述第一相机和所述第三相机同时检测到车道线或者所述第二相机和所述第四相机同时检测到车道线，确定所述待定位车辆与所检测到的车道线之间的第一横向距离；将所述第一横向距离与利用地图定位得到的第二横向距离进行比较，以修正所述待定位车辆的横向定位结果。在一个具体实现过程中，所述待定位车辆定位方法还包括：若满足如下车道保持条件中任意一种，确定所述待定位车辆为维持当前车道行驶的推理定位结果；其中，所述车道保持条件包括：所述第一相机至所述第四相机均未检测到车道线；或者，仅所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮左侧，或者，仅所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮右侧，或者，所述第一相机和所述第三相机检测到第一车道线，所述第二相机和所述第四相机检测到第二车道线，且所述第一车道线位于左侧车轮左侧，所述第二车道线位于右侧车轮右侧。在一个具体实现过程中，所述待定位车辆定位方法还包括：若满足如下跨线行驶条件中任意一种，确定所述待定位车辆为跨线行驶的推理定位结果；其中，所述下跨线行驶条件包括：所述第一相机和所述第三相机检测到第一车道线，且所述第一车道线位于左侧车轮右侧；或者所述第一相机至所述第四相机均检测到第一车道线，且所述第一车道线位于左侧车轮右侧，所述第一车道线位于右侧车轮左侧；或者所述第二相机和所述第四相机检测到第二车道线，且所述第二车道线位于右侧车轮左侧；或者所述第一相机至所述第四相机均检测到第二车道线，且所述第二车道线位于左侧车轮右侧，所述第二车道线位于右侧车轮左侧。在一个具体实现过程中，所述待定位车辆定位方法还包括：若满足如下左向换道条件中任意一种，确定所述待定位车辆为左向换道行驶的推理定位结果；若满足如下右向换道条件中任意一种，确定所述待定位车辆为右向换道行驶的推理定位结果；其中，所述左向换道条件包括：所述第一相机或所述第三相机检测到第一车道线并且对应地所述第二相机和所述第四相机也检测到所述第一车道线，且所述第一车道线位于右侧车轮右侧；所述右向换道条件包括：所述第二相机或所述第四相机检测到第二车道线并且对应地所述第一相机和所述第三相机也检测到所述第二车道线，且所述第二车道线位于左侧车轮左侧。在一个具体实现过程中，所述待定位车辆定位方法还包括：通过设置在待定位车辆上的第二图像采集设备获取待定位车辆的前方道路图像；对所述前方道路图像进行识别，获得当前时刻所述前方道路图像的第三车道特征信息；将所述第三车道特征信息与从地图中获得的所述第二车道特征信息进行匹配，从而得到所述待定位车辆的第二定位结果。在一个具体实现过程中，所述待定位车辆定位方法还包括：根据所述前方道路图像，确定待定位车辆的前方道路的路况信息；若所述路况信息满足预设条件，启动第一图像采集设备和第一定位推理装置工作。在一个具体实现过程中，所述待定位车辆定位方法还包括：根据所述前方道路的路况信息，对所述第一定位结果和第二定位结果分配对应的权重值，并根据所述权重值确定当前时刻的最终定位结果。上述车辆定位方法应用于上述实施例的车辆定位系统实施例，两者的技术原理、所解决的技术问题及产生的技术效果相似，本技术领域技术人员可以清楚地了解到，为了描述的方便和简洁，车辆定位方法的具体工作过程及有关说明，可以参考车辆定位系统的实施例所描述的内容，此处不再赘述。需要指出的是，尽管上述实施例中将各个步骤按照特定的先后顺序进行了描述，但是本领域技术人员可以理解，为了实现本发明的效果，不同的步骤之间并非必须按照这样的顺序执行，其可以同时执行或以其他顺序执行，这些变化都在本发明的保护范围之内。本领域技术人员能够理解的是，本发明实现上述一实施例的方法中的全部或部分流程，也可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个方法实施例的步骤。其中，所述计算机程序包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读存储介质可以包括：能够携带所述计算机程序代码的任何实体或装置、介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，所述计算机可读存储介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如在某些司法管辖区，根据立法和专利实践，计算机可读存储介质不包括电载波信号和电信信号。进一步，本发明还提供了一种车辆。在根据本发明的一个控制装置实施例中，该车辆可以包括车辆主体和上述实施例的车辆定位系统；所述车辆定位系统安装于所述待定位车辆主体上。为了便于说明，仅示出了与本发明实施例相关的部分，具体技术细节未揭示的，请参照本发明实施例的车辆定位系统部分。进一步，本发明还提供了一种计算机可读存储介质。在根据本发明的一个计算机可读存储介质实施例中，计算机可读存储介质可以被配置成存储执行上述方法实施例的车辆定位方法的程序，该程序可以由处理器加载并运行以实现上述车辆定位方法。为了便于说明，仅示出了与本发明实施例相关的部分，具体技术细节未揭示的，请参照本发明实施例方法部分。该计算机可读存储介质可以是包括各种电子设备形成的存储装置设备，可选的，本发明实施例中计算机可读存储介质是非暂时性的计算机可读存储介质。进一步，应该理解的是，由于各个模块的设定仅仅是为了说明本发明的装置的功能单元，这些模块对应的物理器件可以是处理器本身，或者处理器中软件的一部分，硬件的一部分，或者软件和硬件结合的一部分。因此，图中的各个模块的数量仅仅是示意性的。本领域技术人员能够理解的是，可以对装置中的各个模块进行适应性地拆分或合并。对具体模块的这种拆分或合并并不会导致技术方案偏离本发明的原理，因此，拆分或合并之后的技术方案都将落入本发明的保护范围内。至此，已经结合附图所示的优选实施方式描述了本发明的技术方案，但是，本领域技术人员容易理解的是，本发明的保护范围显然不局限于这些具体实施方式。在不偏离本发明的原理的前提下，本领域技术人员可以对相关技术特征作出等同的更改或替换，这些更改或替换之后的技术方案都将落入本发明的保护范围之内。
