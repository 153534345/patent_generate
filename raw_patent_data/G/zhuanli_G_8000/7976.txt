标题title
一种数值型异构数据存储的方法、装置、设备及存储介质
摘要abst
本发明公开了一种数值型异构数据存储的方法、装置、设备及存储介质，其方法包括：实时监测用户在数据管理页面输入的数值型异构数据，并判断所述数值型异构数据是否符合预置的数据输入条件；当判断所述数值型异构数据符合预置的数据输入条件时，对所述数值型异构数据进行转义处理，得到转义后的数值型异构数据；按照预置的分类信息对所述转义后的数值型异构数据进行分库存储。
权利要求书clms
1.一种数值型异构数据存储的方法，其特征在于，包括：实时监测用户在数据管理页面输入的数值型异构数据，并判断所述数值型异构数据是否符合预置的数据输入条件；当判断所述数值型异构数据符合预置的数据输入条件时，对所述数值型异构数据进行转义处理，得到转义后的数值型异构数据；按照预置的分类信息对所述转义后的数值型异构数据进行分库存储。2.根据权利要求1所述的方法，其特征在于，所述对所述数值型异构数据进行转义处理，得到转义后的数值型异构数据包括：对所述数值型异构数据中的数据项内容分别进行字典和属性的代码转义处理，得到转义后的数值型异构数据。3.根据权利要求2所述的方法，其特征在于，在得到转义后的数值型异构数据后，还包括：将所述转义后的数值型异构数据转换成json格式的数据信息，以便将所述数值型异构数据分库存储到支持json存储格式的关系型数据库中。4.根据权利要求1-3任一所述的方法，其特征在于，还包括利用低代码技术生成所述数据管理页面。5.根据权利要求4所述的方法，其特征在于，所述利用低代码技术生成所述数据管理页面包括：读取各分类下的所有属性信息，并按照每个属性信息类别生成对应的控件；字典控件读取对应的字典库信息；对控件内显示内容进行初始化配置；按智能控件算法生成所述数据管理页面。6.一种数值型异构数据存储的装置，其特征在于，包括：判断模块，用于实时监测用户在数据管理页面输入的数值型异构数据，并判断所述数值型异构数据是否符合预置的数据输入条件；转义处理模块，用于当判断所述数值型异构数据符合预置的数据输入条件时，对所述数值型异构数据进行转义处理，得到转义后的数值型异构数据；分库存储模块，用于按照预置的分类信息对所述转义后的数值型异构数据进行分库存储。7.根据权利要求6所述的装置，其特征在于，所述转义处理模块具体用于对所述数值型异构数据中的数据项内容分别进行字典和属性的代码转义处理，得到转义后的数值型异构数据。8.根据权利要求7所述的装置，其特征在于，所述转义处理模块还用于将所述转义后的数值型异构数据转换成json格式的数据信息，以便将所述数值型异构数据分库存储到支持json存储格式的关系型数据库中。9.一种电子设备，其特征在于，包括：存储器；处理器；以及计算机程序；其中，所述计算机程序存储在所述存储器中，并被配置为由所述处理器执行以实现如权利要求1-5任一项所述的方法。10.一种计算机可读存储介质，其特征在于，其上存储有计算机程序；所述计算机程序被处理器执行以实现如权利要求1-5任一项所述的方法。
说明书desc
技术领域本发明涉及数据存储技术领域，特别涉及一种数值型异构数据存储的方法、装置、设备及存储介质。背景技术低代码是通过非编程方式来实现系统所需功能。其通过基本的组件、流程设置、功能控件拖拽等方式实现系统功能开发。低代码是一种完全不需要任何代码的开发方式，具有开发快效率高，维护成本低，应用部署速度快、数据一致性好、操作简单等优点。但是低代码只是指平台在应用的过程中没有代码编写；其开发和实施过程需要做大量的开发和初期设置工作。目前通过低代码技术通过模板方案实现了可以应用于行业数据的异构储存。但是针对某些特征数据组，比如数据之间有较强关联关系，则无法实现配置化存储，需要额外进行代码实现。比如，现有数据储存方案，对数值型异构数据及异构数据的设置和管理都存在使用和实施的成本。以行业数据为例，共有两组数据需要储存：某化工厂当日产能、产量；某两个区域之间A产品的运费价格。这两组数据均无共通点，传统方案如果进行这两组数据的管理，需要建立两个数据库，并且进行代码编程，开发两套与之对应的人机管理界面。发明内容根据本发明实施例提供的方案解决的技术问题是无法实现对数值型异构数据的存储。根据本发明实施例提供的一种数值型异构数据存储的方法，包括：实时监测用户在数据管理页面输入的数值型异构数据，并判断所述数值型异构数据是否符合预置的数据输入条件；当判断所述数值型异构数据符合预置的数据输入条件时，对所述数值型异构数据进行转义处理，得到转义后的数值型异构数据；按照预置的分类信息对所述转义后的数值型异构数据进行分库存储。根据本发明实施例提供的一种数值型异构数据存储的装置，包括：判断模块，用于实时监测用户在数据管理页面输入的数值型异构数据，并判断所述数值型异构数据是否符合预置的数据输入条件；转义处理模块，用于当判断所述数值型异构数据符合预置的数据输入条件时，对所述数值型异构数据进行转义处理，得到转义后的数值型异构数据；分库存储模块，用于按照预置的分类信息对所述转义后的数值型异构数据进行分库存储。根据本发明实施例提供的方案，通过轻代码技术实现数值型异构数据存储方式，极大的简化了数据设置、录入、管理、调取、运维过程，降低系统耦合度，降低了数据开发和使用成本，并在行业数据存储领域具有十分广阔的发展前景。附图说明此处所说明的附图用来提供对本发明的进一步理解，构成本发明的一部分，本发明的示意性实施例及其说明用于理解本发明，并不构成对本发明的不当限定。在附图中：图1是本发明实施例提供的一种数值型异构数据存储的方法流程图；图2是本发明实施例提供的一种数值型异构数据存储的装置示意图；图3是本发明实施例提供的数值型异构数据组的处理流程图；图4是本发明实施例提供的智能控件生成算法的方法流程图。具体实施方式以下结合附图对本发明的优选实施例进行详细说明，应当理解，以下所说明的优选实施例仅用于说明和解释本发明，并不用于限定本发明。实施例1图1是本发明实施例提供的一种数值型异构数据存储的方法流程图，如图1所示，包括：步骤S101：实时监测用户在数据管理页面输入的数值型异构数据，并判断所述数值型异构数据是否符合预置的数据输入条件；步骤S102：当判断所述数值型异构数据符合预置的数据输入条件时，对所述数值型异构数据进行转义处理，得到转义后的数值型异构数据；步骤S103：按照预置的分类信息对所述转义后的数值型异构数据进行分库存储。具体地说，所述对所述数值型异构数据进行转义处理，得到转义后的数值型异构数据包括：对所述数值型异构数据中的数据项内容分别进行字典和属性的代码转义处理，得到转义后的数值型异构数据。其中，在得到转义后的数值型异构数据后，还包括：将所述转义后的数值型异构数据转换成json格式的数据信息，以便将所述数值型异构数据分库存储到支持json存储格式的关系型数据库中。本发明实施例还包括利用低代码技术生成所述数据管理页面，其具体包括：读取各分类下的所有属性信息，并按照每个属性信息类别生成对应的控件；字典控件读取对应的字典库信息；对控件内显示内容进行初始化配置；按智能控件算法生成所述数据管理页面。实施例2图2是本发明实施例提供的一种数值型异构数据存储的装置示意图，如图2所示，包括：判断模块201，用于实时监测用户在数据管理页面输入的数值型异构数据，并判断所述数值型异构数据是否符合预置的数据输入条件；转义处理模块202，用于当判断所述数值型异构数据符合预置的数据输入条件时，对所述数值型异构数据进行转义处理，得到转义后的数值型异构数据；分库存储模块203，用于按照预置的分类信息对所述转义后的数值型异构数据进行分库存储。其中，所述转义处理模块202具体用于对所述数值型异构数据中的数据项内容分别进行字典和属性的代码转义处理，得到转义后的数值型异构数据。进一步地，所述转义处理模块202还用于将所述转义后的数值型异构数据转换成json格式的数据信息，以便将所述数值型异构数据分库存储到支持json存储格式的关系型数据库中。本申请实施例提供的一种电子设备，包括：存储器；处理器；以及计算机程序；其中，所述计算机程序存储在所述存储器中，并被配置为由所述处理器执行以实现一种数值型异构数据存储的方法。本申请实施例提供的一种计算机可读存储介质，其上存储有计算机程序；所述计算机程序被处理器执行以实现一种数值型异构数据存储的方法。实施例3图3是本发明实施例提供的数值型异构数据组的处理流程图，如图3所示，包括：步骤一、对数据组进行分类、归总、分析数据组的定义：有相同特性的数据集合。该数据一般有一定的连续性，会按某些规则，比如时间周期等递增。同时，数据组记录内容基本上以数值型信息为主体。举例1：某学校学生数据组，包括：学生姓名出生年月等基本信息、班级、升留级、入学和毕业时间等等，可以归纳为基础数据。还有另外一类数据是所有学生的历次考试成绩，比如2022年7月数学考试成绩等，可以归纳为成绩数据。学生还有一些获奖、参加公益、老师评语等信息；可以归纳为参考信息。还有一些学生的体检信息，比如某学生某时间的身高、体重、视力、肺活量等等；归纳为健康数据。以上所有数据可以统称为一个数据组。其中某个学生的所有数据就是数据项。步骤1.1 数据组分类首先对数据进行数据组分类。以举例1的学生数据组为例，可以按数据组的功能特征归纳提取出基础数据、考试成绩、参考信息、健康数据等4个分类。步骤1.2 归类属性分类后，需要再针对每个分类找出该分类下的数据相关属性。以举例1的学生数据组为例，对基础数据属性进行分解，可以拆分出诸如：姓名、籍贯、出生年月、入学时间、父母信息等多个属性值。步骤1.3 定义数据目录结构数据相关属性提取后，对数据组自身特征和属性维度进行提取。建立相应数据目录结构。结构设置的原则是能够归纳该数据组的级别、父级、子级；该级别是数据组基本特征，无论数据组内容如何改变，该特征值也不会发生变化。目的是为方便数据整体的管理、查找和呈现。以举例1为例，数据组维度可以按入学年份定义第一级，然后按班级定义第二级。但是考虑到学生有可能日后会发生班级调整情况，可以以入学班级定义第二级。步骤1.4 分离字典库属性步骤1.2进行后，对属性自身的特征进行区分。属性分为数值型属性和字典型属性。数值型属性里包含：数值、文字、文本、文件等信息；该信息基本很少有重复内容，每个属性都是独立存在的。比如收盘价、成交量、身高、体重等。字典型属性基本为重复内容，包括一些预设值等内容。比如单位、规格、地区等。步骤二、建立并设置该数据组对应字典库字典库是对数据组的基础定义，主要目的是为了数据规范使用。在步骤1.4中，已经对数据项中属性信息分析出字典内容。本步骤需要对字典库和字典内容进行设置步骤2.1 字典库分类根据步骤1.4，对字典库分类。字典分为基础字典、数据组字典、数据项字典等。具体地说，基础字典是比较通用的功能，包括单位、规格、地区等。所有数据组都会使用；数据组字典是本数据组会应用到的数据内容。比如例1中，班级可以作为数据组字典定义；学生参加过的公益活动，可以定义为数据组字典信息。在例2中，A股，B股，H股也可以作为数据组字典；数据项字典是某数据项会用到的数据内容，一般在构成页面中作为下拉选项、复选框等使用。例如：某数据项需要列表显示职称级别“高级 中级 初级”，这三条信息就作为数据项字典进行保存。基础字典、数据组字典、数据项字典之间有权限隔离设置。基础字典可以作为全部数据组可以使用的字典；数据组字典在本组数据的设置时可用；数据项字典只针对某个数据项起效。步骤2.2 字典库属性设置在设置好字典库后，需要对该字典库的字典内容属性进行设置。本发明中所有字典为key-value型数据，即：字典ID、字典内容。字典ID在本发明中具有唯一性属性；字典内容属性可以动态设置；例：货币名称字典包括：货币名称、货币符号等，地区字典包括：地区名称、维度、精度信息等。同时记录该字典库所属数据组、数据分类、数据项等信息。步骤2.3 字典录入完成步骤2.2后，需要录入字典内容。字典内容分为平级、多级。例如：地区字典，选取时需要进行省–市–区等多级选择。在地区字典库里该数据储存就是多级储存方式。步骤三、设置该数据组的模板管理功能步骤3.1 属性提取在步骤1.1中，已经对数据组做过分类。不同类别下的数据属性不相同。这里需要对除字典属性外的数据属性进行提取和设置。在所有属性中，有些属性是基于该数据项自身的属性。本发明中称为基础信息。在例1中，基础数据就是基础信息。基础信息归属于该数据项自身的基本情况。在数据组各个分类，分别提取出属性信息后，一个分类，有多少条属性，本发明里称为属性组。每个属性组可以有多个不重复的属性。不同属性组之间，属性相互隔离，无关联关系。步骤3.2 使用智能控件对属性配置11、智能控件和数据属性存在对应关系。智能控件中的控件包括：字典库、日期选择、文本框、下拉选择、多选、文件上传、富文本等；对应数据属性的选择框、文本、数值、大文本、日期等。智能控件的控制选取页面以web页面方式呈现。12、网页中可以用拖拽或者鼠标选取的方式来增加、修改控件功能和设置。比如属性组配置中要加一个日期属性，可以鼠标选择日期控件拖拽到对应区域，同时出现该日期属性的设置界面。13、各个控件的可设置项都不相同，同一属性组里，使用相同控件的各个属性也可以独立进行设置。基本可设置内容包括：属性名称、类型、可输入最大、最小值、排列顺序、是否为必须输入等。还有一些针对控件的特殊设置项，比如针对日期控件，可以设置可选取的日期格式、起止时间等；文本控件可以设置可输入内容，是否是可输入文字、数字、小数等。14、在网页中设置好属性组各个属性后，对设置的内容数据存入数据库中。属性值的记录方式是 key-value型数据，即属性ID和属性设置的内容。属性ID在本发明中具有唯一性属性。同时记录该数据所在的数据组、所属分类等信息。步骤四 利用低代码功能进行数据管理本发明的特点就是利用低代码技术实现了数据管理页面。通过对控件和属性对应关系，在数据项管理页面自动生成对应管理页面。例1中，传统方式需要开发基础信息管理、成绩管理、参考评定管理、健康管理等一整套管理页面。而低代码技术利用以上步骤存入数据库的配置信息，可以自主配置生成相关数据项的管理页面，无需额外代码开发工作。智能控件算法是按一系列逻辑判断进行动态页面生成的算法。具体流程如图4所示，按照数据组、数据分类等信息，从数据库中读取到其属性配置信息，通过以下方式自动生成页面：21、按是否可用、顺序等读取出该分类下所有属性信息；22、按属性类别生成对应控件；23、字典控件读取对应字典库信息；24、对控件内显示内容进行初始化设置；25、按智能控件算法生成数据管理页面。步骤五 对数据进行保存步骤5.1 对用户数据进行校验按本发明步骤3.2的设置，设置数据的输入条件。在用户在数据管理页面进行数据录入时，输入数值和数据输入条件进行比对验证，如果不符合返回提示信息；符合后进行下一步骤。步骤5.2 对数据进行转义对于某一个数据项，从数据管理页面录入的是一组数据。需要对数据进行处理，再进行保存。例2：以例1的学生数据为基础，进行成绩数据的录入。成绩信息录入的数据内容如下：属性id：1，属性类型：数值，属性名称：姓名，属性值：张三属性id：2，属性类型：数值，属性名称：数学成绩，属性值：100属性id：3，属性类型：字典，属性名称：年级，属性值：一年级属性id：4，属性类型：字典，属性名称：班级，属性值：一班属性id：5，属性类型：日期，属性名称：考试时间，属性值：2021年7月1日其中：属性类型、字典内容都以key形式存在。需要对属性id、属性类型、属性名称、属性值进行转义，生成一个基于json储存的数组步骤5.3、数据储存设置该数据项的分类、日期或其它可分类内容，进行分库存储。数据库可以使用市面主流关系型数据库。要求能够支持json数据的存储和查询。步骤六、对数据项进行检索步骤6.1 依据数据组归纳出的字典库内容进行检索在例1中，已经建立班级和年级字典，可以按班级、年级为维度进行数据项检索。查询出符合规则的学生。步骤6.2 依据数据组归纳出的属性库内容进行检索在例1中，属性包括：姓名、入学日期等信息。不同分类中也有不同属性。比如健康数据中有身高、体重等信息。可以用数据库json查询功能检索 身高＞a，体重＞b的数据。步骤6.3综合检索可用数据结构、数据分类、步骤6.1、6.2的功能进行综合搜索。比如：入学时间在2010年，身高＞a，体重＞b的数据。实施例4本发明实施例提供了一种通过低代码技术实现数值型异构数据存储的方法，包括以下步骤：S1. 对数据组进行分类、归总、分析；其具体包括：S11. 对数据组所有相关属性进行分拆提取；S12. 设置与数据相关的树状目录结构；S13. 设置数据类别信息；S14. 设置附加行业属性信息；S15. 对属性进行辨别，分离提取出一般属性信息和字典信息。S2. 对该数据组建立字典库；其具体包括：S21. 对字典库进行分类、权限设置；S22. 按照S15步骤建立字典库；S23. 基于动态表单功能设置字典库属性信息；S24. 录入字典库及字典内容。S3. 设置该数据组的模板管理功能；其具体包括：S31. 基于S1步骤，进行数据组的基础信息、属性库设置；S32. 对数据组的属性库控件的呈现信息进行设置；S33. 对数据组的属性库控件的储存信息进行设置；S34. 基于S1步骤的相关数据组模板管理页面动态生成。S4. 对录入的数据进行转义和格式化设置；其具体包括：S41. 对录入数据项的数据内容进行字典和属性代码转义；S42. 将上一步骤转义后的数据转换成JOSN格式；S43. 设置该数据项的分类、日期或其它可分类内容，进行分库存储。S5. 数据存储到云数据平台，并进行定时计算。S6. 对已经录入的数据组进行检索；其具体包括：S61. 依据数据组归纳出的字典库内容进行检索；S62. 依据数据组归纳出的属性库内容进行检索；S63. 依据数据组命名项、各个固定属性项及S61、S62步骤内容信息进行综合检索。综上所述，本发明实施例包括：1、对服务端进行基于本发明的系统安装；2、需要有关系型数据库支持，支持JSON方式存储；3、对需要存储的数据进行采样分析，确定其属性、基础信息、规范性内容；4、对采用结果进行归纳，在系统中设置属性库、字典库及字典相关内容；5、如果是多组数据，对多组数据成分进行分析，确定数据结构，并在系统中设置；6、利用步骤4，5 ；在动态模板页面进行数据维护；7、使用系统提供的功能进行数据检索；8、使用系统提供的标准接口进行数据录入。根据本发明实施例提供的方案，通过低代码方式，应用到异构数据的存储，通过简单的数据属性设置和人机界面操作，将元数据聚合储存，降低数据复杂度，提高系统应用性。此外，还可以针对海量数据值型异构数据免于逐个开发数据管理页面，并且提供统一的存储逻辑和储存方式。极大降低了数据值型数据的开发、储存、调取成本；易于广泛推广和应用，还可以作为其它模块的基础数据平台。尽管上文对本发明进行了详细说明，但是本发明不限于此，本技术领域技术人员可以根据本发明的原理进行各种修改。因此，凡按照本发明原理所作的修改，都应当理解为落入本发明的保护范围。
