标题title
全色面阵相机和高光谱线阵相机联合标定方法、系统
摘要abst
本申请属于相机标定技术领域，公开了一种全色面阵相机和高光谱线阵相机联合标定方法、系统，通过高光谱线阵相机拍摄标定件组合的第一图像，以获取多个位于扫描平面内的第一特征点的坐标关系，根据第一特征点的坐标关系确定扫描平面的系数矩阵，并用以计算世界坐标系与高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；再根据全色面阵相机拍摄的第二图像对世界坐标系与全色面阵相机的相机坐标系之间的第二位姿转换矩阵进行标定，根据第一位姿转换矩阵和第二位姿转换矩阵通过简单计算得到高光谱线阵相机和全色面阵相机之间的位姿转换关系；计算过程简单、高效、计算结果精度高，可以广泛用于全色面阵相机和高光谱线阵相机的联合标定。
权利要求书clms
1.一种全色面阵相机和高光谱线阵相机联合标定系统，用于对全色面阵相机和高光谱线阵相机进行联合标定；其特征在于，包括上位机和标定件组合，所述标定件组合包括位于第一平面内的第一背景标志和第二背景标志以及位于第二平面内的第一特征标志和第二特征标志，所述第二平面与所述第一平面平行，所述第一特征标志位于所述第一背景标志前侧，且所述第一特征标志与所述第一背景标志的颜色不同，所述第二特征标志位于所述第二背景标志前侧，且所述第二特征标志与所述第二背景标志的颜色不同；所述上位机用于：获取由所述高光谱线阵相机拍摄的所述标定件组合的第一图像和由所述全色面阵相机拍摄的所述标定件组合的第二图像；根据所述第一图像确定多个第一特征点的坐标数据中各坐标值之间的坐标关系；所述多个第一特征点位于所述第一图像的扫描平面内；根据所述多个第一特征点的所述坐标关系计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；根据所述第二图像获取世界坐标系与所述全色面阵相机的相机坐标系之间的第二位姿转换矩阵；根据所述第一位姿转换矩阵和所述第二位姿转换矩阵计算所述高光谱线阵相机的相机坐标系和所述全色面阵相机的相机坐标系之间的第三姿转换矩阵。2.根据权利要求1所述的全色面阵相机和高光谱线阵相机联合标定系统，其特征在于，所述第一背景标志和所述第二背景标志均为等腰梯形标志；所述第一特征标志和第二特征标志均具有多个直线板条，每个所述直线板条的一端至少与另一个所述直线板条的一端相连以形成夹角；所述第一图像的扫描平面与所述第一背景标志、第二背景标志、第一特征标志的各所述直线板条和第二特征标志的各所述直线板条均相交；所述多个第一特征点包括所述第一背景标志和所述第二背景标志在所述第一图像中的图像边界点、各所述直线板条在所述第一图像中的图像中点以及各所述图像中点在对应的所述直线板条上的实际位置点。3.根据权利要求2所述的全色面阵相机和高光谱线阵相机联合标定系统，其特征在于，所述上位机用于在根据所述多个第一特征点的所述坐标关系计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵的时候，执行：根据所述多个第一特征点的所述坐标关系确定所述扫描平面的平面方程的系数矩阵；根据所述系数矩阵计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵。4.根据权利要求3所述的全色面阵相机和高光谱线阵相机联合标定系统，其特征在于，所述根据所述多个第一特征点的所述坐标关系确定所述扫描平面的平面方程的系数矩阵，具体包括：构建以下平面方程：；其中，、、、分别为所述平面方程的四个系数，所述系数矩阵为四个所述系数组成的矩阵，、、分别为三个坐标值；根据多个第一特征点的所述坐标关系，求解以下优化目标函数，得到所述系数矩阵：；其中，为优化目标函数，、、分别为第个所述第一特征点的坐标数据中的三个坐标值，为所述第一特征点的总数量。5.根据权利要求4所述的全色面阵相机和高光谱线阵相机联合标定系统，其特征在于，所述第一位姿转换矩阵包括第一旋转矩阵和第一平移矩阵；所述根据所述系数矩阵计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵，具体包括：求解以下方程得到所述第一旋转矩阵和所述第一平移矩阵：；其中，为所述第一平移矩阵，为所述第一旋转矩阵的转置矩阵。6.一种全色面阵相机和高光谱线阵相机联合标定方法，用于对全色面阵相机和高光谱线阵相机进行联合标定，其特征在于，包括步骤：获取由所述高光谱线阵相机拍摄的标定件组合的第一图像和由所述全色面阵相机拍摄的所述标定件组合的第二图像；所述标定件组合包括位于第一平面内的第一背景标志和第二背景标志以及位于第二平面内的第一特征标志和第二特征标志，所述第二平面与所述第一平面平行，所述第一特征标志位于所述第一背景标志前侧，且所述第一特征标志与所述第一背景标志的颜色不同，所述第二特征标志位于所述第二背景标志前侧，且所述第二特征标志与所述第二背景标志的颜色不同；根据所述第一图像获取多个第一特征点的坐标数据中各坐标值之间的坐标关系；所述多个第一特征点位于所述第一图像的扫描平面内；根据所述多个第一特征点的所述坐标关系计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；根据所述第二图像获取世界坐标系与所述全色面阵相机的相机坐标系之间的第二位姿转换矩阵；根据所述第一位姿转换矩阵和所述第二位姿转换矩阵计算所述高光谱线阵相机的相机坐标系和所述全色面阵相机的相机坐标系之间的第三姿转换矩阵。7.根据权利要求6所述的全色面阵相机和高光谱线阵相机联合标定方法，其特征在于，所述第一背景标志和所述第二背景标志均为等腰梯形标志；所述第一特征标志和第二特征标志均具有多个直线板条，每个所述直线板条的一端至少与另一个所述直线板条的一端相连以形成夹角；所述第一图像的扫描平面与所述第一背景标志、第二背景标志、第一特征标志的各所述直线板条和第二特征标志的各所述直线板条均相交；所述多个第一特征点包括所述第一背景标志和所述第二背景标志在所述第一图像中的图像边界点、各所述直线板条在所述第一图像中的图像中点以及各所述图像中点在对应的所述直线板条上的实际位置点。8.根据权利要求7所述的全色面阵相机和高光谱线阵相机联合标定方法，其特征在于，所述根据所述多个第一特征点的所述坐标关系计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵的步骤，包括：根据所述多个第一特征点的所述坐标关系确定所述扫描平面的平面方程的系数矩阵；根据所述系数矩阵计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵。9.根据权利要求8所述的全色面阵相机和高光谱线阵相机联合标定方法，其特征在于，所述根据所述多个第一特征点的所述坐标关系确定所述扫描平面的平面方程的系数矩阵的步骤，包括：构建以下平面方程：；其中，、、、分别为所述平面方程的四个系数，所述系数矩阵为四个所述系数组成的矩阵，、、分别为三个坐标值；根据多个第一特征点的所述坐标关系，求解以下优化目标函数，得到所述系数矩阵：；其中，为优化目标函数，、、分别为第个所述第一特征点的坐标数据中的三个坐标值，为所述第一特征点的总数量。10.根据权利要求9所述的全色面阵相机和高光谱线阵相机联合标定方法，其特征在于，所述第一位姿转换矩阵包括第一旋转矩阵和第一平移矩阵；所述根据所述系数矩阵计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵的步骤，包括：求解以下方程得到所述第一旋转矩阵和所述第一平移矩阵：；其中，为所述第一平移矩阵，为所述第一旋转矩阵的转置矩阵。
说明书desc
技术领域本申请涉及相机标定技术领域，具体而言，涉及一种全色面阵相机和高光谱线阵相机联合标定方法、系统。背景技术全色面阵相机可以用来采集高精度的图像，高光谱线阵相机具有波段多、光谱窄、波段连续、数据量大等优势，若把全色面阵相机和高光谱线阵相机结合以对，可以获取更加全面的图像数据信息，同时，通过数字图像融合技术，全色面阵相机可以用来提高高光谱数据的分辨率。然而，为了能够进行数据融合，需要先知道全色面阵相机和高光谱线阵相机之间的位姿转换关系，因此需要对两者之间的位姿转换关系进行标定。为此，需要寻求一种能够简单高效且高精度地对全色面阵相机和高光谱线阵相机进行联合标定的方法和系统。发明内容本申请的目的在于提供一种全色面阵相机和高光谱线阵相机联合标定方法、系统，能够简单高效且高精度地对全色面阵相机和高光谱线阵相机进行联合标定。第一方面，本申请提供了一种全色面阵相机和高光谱线阵相机联合标定系统，用于对全色面阵相机和高光谱线阵相机进行联合标定；包括上位机和标定件组合，所述标定件组合包括位于第一平面内的第一背景标志和第二背景标志以及位于第二平面内的第一特征标志和第二特征标志，所述第二平面与所述第一平面平行，所述第一特征标志位于所述第一背景标志前侧，且所述第一特征标志与所述第一背景标志的颜色不同，所述第二特征标志位于所述第二背景标志前侧，且所述第二特征标志与所述第二背景标志的颜色不同；所述上位机用于：获取由所述高光谱线阵相机拍摄的所述标定件组合的第一图像和由所述全色面阵相机拍摄的所述标定件组合的第二图像；根据所述第一图像获取多个第一特征点的坐标数据中各坐标值之间的坐标关系；所述多个第一特征点位于所述第一图像的扫描平面内；根据所述多个第一特征点的所述坐标关系计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；根据所述第二图像获取世界坐标系与所述全色面阵相机的相机坐标系之间的第二位姿转换矩阵；根据所述第一位姿转换矩阵和所述第二位姿转换矩阵计算所述高光谱线阵相机的相机坐标系和所述全色面阵相机的相机坐标系之间的第三姿转换矩阵。该全色面阵相机和高光谱线阵相机联合标定系统，通过高光谱线阵相机拍摄标定件组合的第一图像，以获取多个位于第一图像的扫描平面内的第一特征点的坐标关系，进而根据这些第一特征点的坐标关系确定扫描平面的系数矩阵，并用以计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；再根据全色面阵相机拍摄的第二图像对世界坐标系与所述全色面阵相机的相机坐标系之间的第二位姿转换矩阵进行标定，即可根据第一位姿转换矩阵和第二位姿转换矩阵通过简单计算得到高光谱线阵相机和全色面阵相机之间的位姿转换关系；计算过程简单且计算结果的精度高，能够简单高效且高精度地对全色面阵相机和高光谱线阵相机进行联合标定。优选地，所述第一背景标志和所述第二背景标志均为等腰梯形标志；所述第一特征标志和第二特征标志均具有多个直线板条，每个所述直线板条的一端至少与另一个所述直线板条的一端相连以形成夹角；所述第一图像的扫描平面与所述第一背景标志、第二背景标志、第一特征标志的各所述直线板条和第二特征标志的各所述直线板条均相交；所述多个第一特征点包括所述第一背景标志和所述第二背景标志在所述第一图像中的图像边界点、各所述直线板条在所述第一图像中的图像中点以及各所述图像中点在对应的所述直线板条上的实际位置点。根据该形状的第一背景标志、第二背景标志、第一特征标志和第二特征标志确定的第一特征点的坐标关系比较简单，有利于进一步提高计算效率。优选地，所述上位机用于在根据所述多个第一特征点的所述坐标关系计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵的时候，执行：根据所述多个第一特征点的所述坐标关系确定所述扫描平面的平面方程的系数矩阵；根据所述系数矩阵计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵。优选地，所述根据所述多个第一特征点的所述坐标关系确定所述扫描平面的平面方程的系数矩阵，具体包括：构建以下平面方程：；其中，、、、分别为所述平面方程的四个系数，所述系数矩阵为四个所述系数组成的矩阵，、、分别为三个坐标值；根据多个第一特征点的所述坐标关系，求解以下优化目标函数，得到所述系数矩阵：；其中，为优化目标函数，、、分别为第个所述第一特征点的坐标数据中的三个坐标值，为所述第一特征点的总数量。通过该方法得到扫描平面的平面方程的系数矩阵，计算结果的准确性较高。优选地，所述第一位姿转换矩阵包括第一旋转矩阵和第一平移矩阵；所述根据所述系数矩阵计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵，具体包括：求解以下方程得到所述第一旋转矩阵和所述第一平移矩阵：；其中，为所述第一平移矩阵，为所述第一旋转矩阵的转置矩阵。第二方面，本申请提供了一种全色面阵相机和高光谱线阵相机联合标定方法，用于对全色面阵相机和高光谱线阵相机进行联合标定，包括步骤：获取由所述高光谱线阵相机拍摄的标定件组合的第一图像和由所述全色面阵相机拍摄的所述标定件组合的第二图像；所述标定件组合包括位于第一平面内的第一背景标志和第二背景标志以及位于第二平面内的第一特征标志和第二特征标志，所述第二平面与所述第一平面平行，所述第一特征标志位于所述第一背景标志前侧，且所述第一特征标志与所述第一背景标志的颜色不同，所述第二特征标志位于所述第二背景标志前侧，且所述第二特征标志与所述第二背景标志的颜色不同；根据所述第一图像获取多个第一特征点的坐标数据中各坐标值之间的坐标关系；所述多个第一特征点位于所述第一图像的扫描平面内；根据所述多个第一特征点的所述坐标关系计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；根据所述第二图像获取世界坐标系与所述全色面阵相机的相机坐标系之间的第二位姿转换矩阵；根据所述第一位姿转换矩阵和所述第二位姿转换矩阵计算所述高光谱线阵相机的相机坐标系和所述全色面阵相机的相机坐标系之间的第三姿转换矩阵。全色面阵相机和高光谱线阵相机联合标定方法，通过高光谱线阵相机拍摄标定件组合的第一图像，以获取多个位于第一图像的扫描平面内的第一特征点的坐标关系，进而根据这些第一特征点的坐标关系确定扫描平面的系数矩阵，并用以计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；再根据全色面阵相机拍摄的第二图像对世界坐标系与所述全色面阵相机的相机坐标系之间的第二位姿转换矩阵进行标定，即可根据第一位姿转换矩阵和第二位姿转换矩阵通过简单计算得到高光谱线阵相机和全色面阵相机之间的位姿转换关系；计算过程简单且计算结果的精度高，能够简单高效且高精度地对全色面阵相机和高光谱线阵相机进行联合标定。优选地，所述第一背景标志和所述第二背景标志均为等腰梯形标志；所述第一特征标志和第二特征标志均具有多个直线板条，每个所述直线板条的一端至少与另一个所述直线板条的一端相连以形成夹角；所述第一图像的扫描平面与所述第一背景标志、第二背景标志、第一特征标志的各所述直线板条和第二特征标志的各所述直线板条均相交；所述多个第一特征点包括所述第一背景标志和所述第二背景标志在所述第一图像中的图像边界点、各所述直线板条在所述第一图像中的图像中点以及各所述图像中点在对应的所述直线板条上的实际位置点。优选地，所述根据所述多个第一特征点的所述坐标关系计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵的步骤，包括：根据所述多个第一特征点的所述坐标关系确定所述扫描平面的平面方程的系数矩阵；根据所述系数矩阵计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵。优选地，所述根据所述多个第一特征点的所述坐标关系确定所述扫描平面的平面方程的系数矩阵的步骤，包括：构建以下平面方程：；其中，、、、分别为所述平面方程的四个系数，所述系数矩阵为四个所述系数组成的矩阵，、、分别为三个坐标值；根据多个第一特征点的所述坐标关系，求解以下优化目标函数，得到所述系数矩阵：；其中，为优化目标函数，、、分别为第个所述第一特征点的坐标数据中的三个坐标值，为所述第一特征点的总数量。优选地，所述第一位姿转换矩阵包括第一旋转矩阵和第一平移矩阵；所述根据所述系数矩阵计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵的步骤，包括：求解以下方程得到所述第一旋转矩阵和所述第一平移矩阵：；其中，为所述第一平移矩阵，为所述第一旋转矩阵的转置矩阵。有益效果本申请提供的全色面阵相机和高光谱线阵相机联合标定方法、系统，通过高光谱线阵相机拍摄标定件组合的第一图像，以获取多个位于第一图像的扫描平面内的第一特征点的坐标数据中各坐标值之间的坐标关系，进而根据这些第一特征点的所述坐标关系确定扫描平面的系数矩阵，并用以计算世界坐标系与所述高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；再根据全色面阵相机拍摄的第二图像对世界坐标系与所述全色面阵相机的相机坐标系之间的第二位姿转换矩阵进行标定，即可根据第一位姿转换矩阵和第二位姿转换矩阵通过简单计算得到高光谱线阵相机和全色面阵相机之间的位姿转换关系；计算过程简单且计算结果的精度高，能够简单高效且高精度地对全色面阵相机和高光谱线阵相机进行联合标定。本申请的其他特征和优点将在随后的说明书阐述，并且，部分地从说明书中变得显而易见，或者通过实施本申请实施例了解。本申请的目的和其他优点可通过在所写的说明书、以及附图中所特别指出的结构来实现和获得。附图说明图1为本申请实施例提供的全色面阵相机和高光谱线阵相机联合标定系统的结构示意图。图2为示例性的第一背景标志和第二背景标志的结构示意图。图3为示例性的第一特征标志和第二特征标志的结构示意图。图4为本申请实施例提供的全色面阵相机和高光谱线阵相机联合标定方法的流程图。标号说明：1、高光谱线阵相机；2、全色面阵相机；3、第一背景标志；4、第二背景标志；5、第一特征标志；501、第一直线板条；502、第二直线板条；503、第三直线板条；6、第二特征标志；601、第四直线板条；602、第五直线板条；603、第六直线板条；604、第七直线板条；605、第八直线板条；7、上位机。具体实施方式下面将结合本申请实施例中附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本申请实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本申请的实施例的详细描述并非旨在限制要求保护的本申请的范围，而是仅仅表示本申请的选定实施例。基于本申请的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本申请保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。同时，在本申请的描述中，术语“第一”、“第二”等仅用于区分描述，而不能理解为指示或暗示相对重要性。请参照图1，图1是本申请一些实施例中的一种全色面阵相机和高光谱线阵相机联合标定系统，用于对全色面阵相机2和高光谱线阵相机1进行联合标定；包括上位机7和标定件组合，标定件组合包括位于第一平面内的第一背景标志3和第二背景标志4以及位于第二平面内的第一特征标志5和第二特征标志6，第二平面与第一平面平行，第一特征标志5位于第一背景标志3前侧，且第一特征标志5与第一背景标志3的颜色不同，第二特征标志6位于第二背景标志4前侧，且第二特征标志6与第二背景标志4的颜色不同；上位机7用于：获取由高光谱线阵相机1拍摄的标定件组合的第一图像和由全色面阵相机2拍摄的标定件组合的第二图像；根据第一图像获取多个第一特征点的坐标数据中各坐标值之间的坐标关系；多个第一特征点位于第一图像的扫描平面内；根据多个第一特征点的坐标关系计算世界坐标系与高光谱线阵相机1的相机坐标系之间的第一位姿转换矩阵；根据第二图像获取世界坐标系与全色面阵相机2的相机坐标系之间的第二位姿转换矩阵；根据第一位姿转换矩阵和第二位姿转换矩阵计算高光谱线阵相机1的相机坐标系和全色面阵相机2的相机坐标系之间的第三姿转换矩阵。该全色面阵相机和高光谱线阵相机联合标定系统，通过高光谱线阵相机1拍摄标定件组合的第一图像，以获取多个位于第一图像的扫描平面内的第一特征点的坐标关系，进而根据这些第一特征点的坐标关系确定扫描平面的系数矩阵，并用以计算世界坐标系与高光谱线阵相机1的相机坐标系之间的第一位姿转换矩阵；再根据全色面阵相机2拍摄的第二图像对世界坐标系与全色面阵相机2的相机坐标系之间的第二位姿转换矩阵进行标定，即可根据第一位姿转换矩阵和第二位姿转换矩阵通过简单计算得到高光谱线阵相机1和全色面阵相机2之间的位姿转换关系；计算过程简单且计算结果的精度高，能够简单高效且高精度地对全色面阵相机和高光谱线阵相机进行联合标定。其中，前是指靠近待标定的高光谱线阵相机1和全色面阵相机2的一侧，即，第二平面位于第一平面和高光谱线阵相机1之间。需要说明的是，高光谱线阵相机1在进行一帧图像拍摄时，是通过在一个扫描平面内进行扫描，从而得到一帧直线扫描图像，因此，第一图像是直线扫描图像。例如图1中，扫描平面为AFG平面，第一图像为直线扫描图像AF，该直线扫描图像AF包括多个光谱段，光谱段的数量与第一背景标志3、第二背景标志4、第一特征标志5和第二特征标志6的具体形状有关，在图1所示的示例中，直线扫描图像AF的光谱段包括、、、、、、、、、、、、、、、、、、、和。在进行拍摄时，可把标定件组合放置在背景颜色与第一背景标志3和第二背景标志4不同的环境中，从而，任意相邻的两个光谱段具有不同的颜色，可根据各光谱段的颜色对各光谱段的位置进行识别。其中，第一背景标志3、第二背景标志4、第一特征标志5和第二特征标志6的形状可根据实际需要设置；一般地，第一背景标志3和第二背景标志4为多边形标志，第一特征标志5和第二特征标志6包括多个直线板条，但不限于此。可选地，在本实施例中，第一背景标志3和第二背景标志4均为等腰梯形标志；第一特征标志5和第二特征标志6均具有多个直线板条，每个直线板条的一端至少与另一个直线板条的一端相连以形成夹角；第一图像的扫描平面与第一背景标志3、第二背景标志4、第一特征标志5的各直线板条和第二特征标志6的各直线板条均相交；从而，多个第一特征点包括第一背景标志3和第二背景标志4在第一图像中的图像边界点、各直线板条在第一图像中的图像中点以及各图像中点在对应的直线板条上的实际位置点。其中，第一背景标志3和第二背景标志4在第一图像中的图像边界点是指第一背景标志3和第二背景标志4的边沿与扫描平面的交点；各直线板条在第一图像中的图像中点是指各直线板条与扫描平面的相交线的中点在第一图像中对应的位置点；各图像中点在对应的直线板条上的实际位置点是指各直线板条与扫描平面的相交线的中点。以图2为例，图像边界点包括点、、和，图像中点包括光谱段、、、、、、和的中点；以图3为例，各图像中点在对应的直线板条上的实际位置点包括点、、、、、、和；总共有20个第一特征点。根据该形状的第一背景标志3、第二背景标志4、第一特征标志5和第二特征标志6确定的第一特征点的坐标关系比较简单，有利于进一步提高计算效率。在实际应用中，由于第一特征点的坐标关系是用于在后续进行第一图像的扫描平面的平面方程的系数矩阵的计算，因此，只需要保证第一特征点是该扫描平面内的点，并保证第一特征点的数量足够即可，因此，第一特征点不限于是前文所说的点，其数量也不限于是20个。为了保证计算精度足够，第一特征点的数量一般不少于6个。在图2的示例中，第一背景标志3和第二背景标志4的底边在同一水平直线上，且第一背景标志3和第二背景标志4的底边之间具有间隔，但不限于此。在图3的示例中，第一特征标志5具有三个直线板条，分别为第一直线板条501、第二直线板条502和第三直线板条503，第一直线板条501、第二直线板条502和第三直线板条503的上端相连，第一直线板条501和第三直线板条503位于第二直线板条502的两侧，第二直线板条502竖直设置；第二特征标志6包括五个直线板条，分别为第四直线板条601、第五直线板条602、第六直线板条603、第七直线板条604和第八直线板条605，第四直线板条601、第六直线板条603和第八直线板条605竖直设置且沿水平方向依次间隔排布，第五直线板条602的上端与第四直线板条601上端相连，第五直线板条602的下端和第七直线板条604的下端均与第六直线板条603的下端相连，第七直线板条604的上端与第八直线板条605的上端相连；各直线板条的下端在同一水平直线上，第一特征标志5的下端与第二特征标志6下端之间具有间隔。其中，各直线板条在水平方向上的宽度相同，均为。但第一特征标志5和第二特征标志6的结构不限于此。可选地，在图1-图3中，第一背景标志3、第二背景标志4、第一特征标志5和第二特征标志6的底部在同一水平面上。其中，可把世界坐标系OXYZ的零点设置在第一背景标志3的左下角处，如图1、图2所示，把第一背景标志3和第二背景标志4的底边设置在X轴上，以XY平面为第一平面。以下，以图1-图3为例，对第一特征点的具体坐标关系进行说明。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值，、、分别为第一背景标志3的顶边长度、底边长度和高度。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值，、、分别是第二背景标志4的顶边长度、底边长度和高度，为第一背景标志3和第二背景标志4的底边之间具有间隔。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值。其中，光谱段、、、、、、、的中点、、、、、、、的坐标关系为：；；其中，、、分别为的三个坐标值。其中，点的坐标关系为：；；其中，、、分别为点的三个坐标值，为第一背景标志3左下角和第一特征标志5左下角之间在X轴方向上的距离，为直线板条在水平方向上的宽度，为第一直线板条501和第二直线板条502的夹角，为第一平面和第二平面之间的距离。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值，为第一直线板条501左下角与第二直线板条502左上角之间在X轴方向上的距离。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值，为第二直线板条502的右上角与第三直线板条503的右下角在X轴方向上的距离，为第二直线板条502和第三直线板条503之间的夹角。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值，为第一特征标志5的下端与第二特征标志6下端之间的间隔。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值，为第四直线板条601左上角与第六直线板条603左上角之间在X轴方向的距离，为第四直线板条601和第五直线板条602的夹角。其中，点的坐标关系为：；；其中，、、分别为点的三个坐标值。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值，为第七直线板条604和第八直线板条605的夹角。其中，点的坐标关系为：；；其中，、、分别是点的三个坐标值，为第七直线板条604右上角与第八直线板条605右上角之间在X轴方向上的距离。在本实施例中，上位机7用于在根据多个第一特征点的坐标关系计算世界坐标系与高光谱线阵相机1的相机坐标系之间的第一位姿转换矩阵的时候，执行：根据多个第一特征点的坐标关系确定扫描平面的平面方程的系数矩阵；根据该系数矩阵计算世界坐标系与高光谱线阵相机1的相机坐标系之间的第一位姿转换矩阵。其中，根据多个第一特征点的坐标关系确定扫描平面的平面方程的系数矩阵，具体包括：构建以下平面方程：；其中，、、、分别为该平面方程的四个系数，该系数矩阵为四个所述系数组成的矩阵，、、分别为三个坐标值；根据多个第一特征点的坐标关系，联合求解以下优化目标函数，得到该系数矩阵：；其中，为优化目标函数，、、分别为第个第一特征点的坐标数据中的三个坐标值，为第一特征点的总数量。其中，对上述优化目标函数进行求解的求解方法为现有技术，此处不对其进行详述。通过该方法得到扫描平面的平面方程的系数矩阵，计算结果的准确性较高。其中，第一位姿转换矩阵包括第一旋转矩阵和第一平移矩阵；根据该系数矩阵计算世界坐标系与高光谱线阵相机1的相机坐标系之间的第一位姿转换矩阵，具体包括：求解以下方程得到第一旋转矩阵和第一平移矩阵：；其中，为第一平移矩阵，为第一旋转矩阵的转置矩阵。在本实施例中，上位机7用于在根据第二图像获取世界坐标系与全色面阵相机2的相机坐标系之间的第二位姿转换矩阵的时候，可通过传统的5点法或8点法标定得到世界坐标系与全色面阵相机2的相机坐标系之间的第二位姿转换矩阵，该第二位姿转换矩阵包括第二旋转矩阵和第二平移矩阵。其中，通过5点法或8点法为现有技术，具体地，分别把5个或8个标定点在第二图像中的像素坐标和这些标定点在世界坐标系下的坐标数据代入以下方程得到方程组，并对该方程组进行求解，得到第二旋转矩阵和第二平移矩阵：；为标定点在第二图像中的像素坐标，为全色面阵相机2的内参，为标定点在世界坐标系下的坐标数据。在实际应用中，可以用第一背景标志3和第二背景标志4的角点作为5点法或8点法中使用的标定点。其中，第三姿转换矩阵包括第三旋转矩阵和第三平移矩阵。在本实施例中，上位机7用于在根据第一位姿转换矩阵和第二位姿转换矩阵计算高光谱线阵相机1的相机坐标系和全色面阵相机2的相机坐标系之间的第三姿转换矩阵的时候，执行：根据以下公式计算第三旋转矩阵和第三平移矩阵：；。参考图4，本申请提供了一种全色面阵相机和高光谱线阵相机联合标定方法，用于对全色面阵相机和高光谱线阵相机进行联合标定，包括步骤：A1.获取由高光谱线阵相机拍摄的标定件组合的第一图像和由全色面阵相机拍摄的标定件组合的第二图像；标定件组合包括位于第一平面内的第一背景标志和第二背景标志以及位于第二平面内的第一特征标志和第二特征标志，第二平面与第一平面平行，第一特征标志位于第一背景标志前侧，且第一特征标志与第一背景标志的颜色不同，第二特征标志位于第二背景标志前侧，且第二特征标志与第二背景标志的颜色不同；A2.根据第一图像获取多个第一特征点的坐标数据中各坐标值之间的坐标关系；该多个第一特征点位于第一图像的扫描平面内；A3.根据多个第一特征点的坐标关系计算世界坐标系与高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；A4.根据第二图像获取世界坐标系与全色面阵相机的相机坐标系之间的第二位姿转换矩阵；A5.根据第一位姿转换矩阵和第二位姿转换矩阵计算高光谱线阵相机的相机坐标系和全色面阵相机的相机坐标系之间的第三姿转换矩阵。该全色面阵相机和高光谱线阵相机联合标定方法，通过高光谱线阵相机拍摄标定件组合的第一图像，以获取多个位于第一图像的扫描平面内的第一特征点的坐标关系，进而根据这些第一特征点的坐标关系确定扫描平面的系数矩阵，并用以计算世界坐标系与高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵；再根据全色面阵相机拍摄的第二图像对世界坐标系与全色面阵相机的相机坐标系之间的第二位姿转换矩阵进行标定，即可根据第一位姿转换矩阵和第二位姿转换矩阵通过简单计算得到高光谱线阵相机和全色面阵相机之间的位姿转换关系；计算过程简单且计算结果的精度高，能够简单高效且高精度地对全色面阵相机和高光谱线阵相机进行联合标定。其中，前是指靠近待标定的高光谱线阵相机和全色面阵相机的一侧，即，第二平面位于第一平面和高光谱线阵相机之间。需要说明的是，高光谱线阵相机1在进行一帧图像拍摄时，是通过在一个扫描平面内进行扫描，从而得到一帧直线扫描图像，因此，第一图像是直线扫描图像。其中，该标定件组合可以是前文的全色面阵相机和高光谱线阵相机联合标定系统中的标定件组合。第一图像的扫描平面与第一背景标志、第二背景标志、第一特征标志的各直线板条和第二特征标志的各直线板条均相交。多个第一特征点包括第一背景标志和第二背景标志在第一图像中的图像边界点、各直线板条在第一图像中的图像中点以及各图像中点在对应的直线板条上的实际位置点。从而，第一图像包括多个光谱段。在进行拍摄时，可把标定件组合放置在背景颜色与第一背景标志和第二背景标志不同的环境中，从而，任意相邻的两个光谱段具有不同的颜色，可根据各光谱段的颜色对各光谱段的位置进行识别。其中，第一背景标志和第二背景标志在第一图像中的图像边界点是指第一背景标志和第二背景标志的边沿与扫描平面的交点；各直线板条在第一图像中的图像中点是指各直线板条与扫描平面的相交线的中点在第一图像中对应的位置点；各图像中点在对应的直线板条上的实际位置点是指各直线板条与扫描平面的相交线的中点。其中，各第一特征点的具体坐标关系可参考前文。在本实施例中，根据多个第一特征点的坐标关系计算世界坐标系与高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵的步骤，包括：根据多个第一特征点的坐标关系确定扫描平面的平面方程的系数矩阵；根据该系数矩阵计算世界坐标系与高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵。其中，根据多个第一特征点的坐标关系确定扫描平面的平面方程的系数矩阵的步骤，包括：构建以下平面方程：；其中，、、、分别为所述平面方程的四个系数，所述系数矩阵为四个所述系数组成的矩阵，、、分别为三个坐标值；根据多个第一特征点的坐标关系，联合求解以下优化目标函数，得到所述系数矩阵：；其中，为优化目标函数，、、分别为第个所述第一特征点的坐标数据中的三个坐标值，为所述第一特征点的总数量。其中，第一位姿转换矩阵包括第一旋转矩阵和第一平移矩阵；根据该系数矩阵计算世界坐标系与高光谱线阵相机的相机坐标系之间的第一位姿转换矩阵的步骤，包括：求解以下方程得到第一旋转矩阵和第一平移矩阵：；其中，为第一平移矩阵，为第一旋转矩阵的转置矩阵。在本实施例中，根据第二图像获取世界坐标系与全色面阵相机的相机坐标系之间的第二位姿转换矩阵的步骤包括：通过5点法或8点法标定得到世界坐标系与全色面阵相机2的相机坐标系之间的第二位姿转换矩阵，该第二位姿转换矩阵包括第二旋转矩阵和第二平移矩阵。其中，通过5点法或8点法为现有技术，具体地，分别把5个或8个标定点在第二图像中的像素坐标和这些标定点在世界坐标系下的坐标数据代入以下方程得到方程组，并对该方程组进行求解，得到第二旋转矩阵和第二平移矩阵：；为标定点在第二图像中的像素坐标，为全色面阵相机2的内参，为标定点在世界坐标系下的坐标数据。在实际应用中，可以用第一背景标志和第二背景标志的角点作为5点法或8点法中使用的标定点。其中，第三姿转换矩阵包括第三旋转矩阵和第三平移矩阵。在本实施例中，根据第一位姿转换矩阵和第二位姿转换矩阵计算高光谱线阵相机的相机坐标系和全色面阵相机的相机坐标系之间的第三姿转换矩阵的步骤包括：根据以下公式计算第三旋转矩阵和第三平移矩阵：；。在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。以上所述仅为本申请的实施例而已，并不用于限制本申请的保护范围，对于本领域的技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
