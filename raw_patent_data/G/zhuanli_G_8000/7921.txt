标题title
用于飞机避障的多源传感器目标关联方法、设备及介质
摘要abst
本发明公开了一种用于飞机避障的多源传感器目标关联方法、设备及介质，属于飞机避障领域，包括：S1，时空配准：时间对齐和空间坐标系对齐；S2，激光雷达目标关联：处理激光雷达送过来的目标识别结果，与目标库进行关联，更新目标库；光电目标关联：处理光电相机送过来的目标识别结果，与目标库进行关联，更新目标库；毫米波雷达目标关联：处理毫米波雷达送过来的目标识别结果，与目标库进行关联，更新目标库；S3，位置与包络融合：各传感器进行目标关联后，把各传感器的目标位置和包络进行融合，产生统一的目标位置和包络，用于下一个节拍的目标关联；S4，目标库管理：完成目标库中目标的确认和删除。本发明具有高精度、高适用性等优势。
权利要求书clms
1.一种用于飞机避障的多源传感器目标关联方法，其特征在于，包括以下步骤：S1，时空配准：包括时间对齐和空间坐标系对齐；S2，激光雷达目标关联：处理激光雷达送过来的目标识别结果，与目标库进行关联，更新目标库；光电目标关联：处理光电相机送过来的目标识别结果，与目标库进行关联，更新目标库；毫米波雷达目标关联：处理毫米波雷达送过来的目标识别结果，与目标库进行关联，更新目标库；S3，位置与包络融合：各传感器进行目标关联后，把各传感器的目标位置和包络进行融合，产生统一的目标位置和包络，用于下一个节拍的目标关联；S4，目标库管理：完成目标库中目标的确认和删除。2.根据权利要求1所述的用于飞机避障的多源传感器目标关联方法，其特征在于，在步骤S1中，所述时间对齐：优先选择光电识别结果的时间为基准时间，如果没有光电识别结果，则选择激光雷达和毫米波雷达识别结果的时间为基准时间，如果也没有激光雷达和毫米波雷达识别结果，则选择导航时间为基准时间，确定基准时间后，确定了相应的基准导航信息；所述空间坐标系对齐：对光电目标补充参考距离变为等效三维坐标，然后由载机球体坐标系转换到载机坐标系，再由载机坐标系转换到基准时间的东北天坐标系，再由基准时间的东北天坐标系转换到球体坐标系。3.根据权利要求1所述的用于飞机避障的多源传感器目标关联方法，其特征在于，在步骤S2中，激光雷达目标关联的流程包括子步骤：S21，根据位置误差阈值去掉不可能关联的目标；S22，根据位置、类型、包络特征，通过建立模糊因素集，考虑各模糊因素集的权重，进行综合加权计算关联权重；S23，利用匈牙利算法进行二分图匹配，寻找到全局最优的关联关系，把没有关联上的激光雷达的目标信息向量直接放入目标库中，把存在关联关系的激光雷达目标合并到相关联的目标库中的目标信息向量中。4.根据权利要求1所述的用于飞机避障的多源传感器目标关联方法，其特征在于，在步骤S2中，光电目标关联的流程包括子步骤：光电识别目标的包络单位是弧度，计算隶属度函数的时候首先根据目标距离进行转换，转换后单位为米，转换公式为：其中，代表第i个光电障碍物的宽度，单位为米；代表第i个光电障碍物的弧度宽度，单位为弧度；代表第i个光电障碍物的高度，单位为米；代表第i个光电障碍物的弧度高度，单位为弧度；代表待关联的目标库中目标的距离。5.根据权利要求1所述的用于飞机避障的多源传感器目标关联方法，其特征在于，在步骤S2中，毫米波雷达目标关联的流程，包括如下子步骤：SS21，根据位置误差阈值去掉不可能关联的目标；SS22，根据位置、类型、包络特征，通过建立模糊因素集，考虑各模糊因素集的权重，进行综合加权计算关联权重；SS23，利用匈牙利算法进行二分图匹配，寻找到全局最优的关联关系，把没有关联上的毫米波雷达的目标信息向量直接放入目标库中，把存在关联关系的毫米波雷达目标合并到相关联的目标库中的目标信息向量中。6.根据权利要求1所述的用于飞机避障的多源传感器目标关联方法，其特征在于，在步骤S2中，包括子步骤：各传感器的目标位置输入卡尔曼滤波器进行处理，得到统一的目标位置；各传感器的包络根据误差大小采用加权相加，其中光电包络的单位为弧度，根据目标的距离进行转换，转换后单位为米，转换公式为：其中，代表第i个光电障碍物的宽度，单位为米；代表第i个光电障碍物的弧度宽度，单位为弧度；代表第i个光电障碍物的高度，单位为米；代表第i个光电障碍物的弧度高度，单位为弧度；代表相关联的目标库中目标的距离；包络的计算公式为：其中，表示取向量的模值，和分别代表融合后包络的宽度和高度，和分别代表第i个激光雷达障碍物的宽度和高度，和分别代表第i个毫米波雷达障碍物的宽度和高度，和分别代表光电包络的宽度误差和高度误差，和分别代表激光雷达包络的宽度误差和高度误差，和分别代表毫米波雷达包络的宽度误差和高度误差。7.根据权利要求1所述的用于飞机避障的多源传感器目标关联方法，其特征在于，在步骤S4中，包括子步骤：对于目标关联后的新目标进行确认，赋予新的ID，对于与目标库相关联的目标，赋予目标库中的旧ID；根据视野参数最大方位角、最小方位角、最大俯仰角、最小俯仰角、最大距离，计算目标库中的目标是否还在视野范围之内，如果没有则进行删除；在视野中的目标同时满足：其中，aziimem为目标库中第i个目标的方位角，pitimem为目标库中第i个目标的俯仰角，disimem为目标库中第i个目标的距离；完成目标库管理后，继续进行下一个节拍，从第一个步骤时空配准重新开始，如果没有下一个节拍，则整个流程结束。8.根据权利要求3所述的用于飞机避障的多源传感器目标关联方法，其特征在于，在步骤S22中，包括子步骤：S221，建立模糊因素集，其中为方位角，为俯仰角，为距离，为类别，为包络宽度，为包络高度；S222，确立多因素模糊综合鉴别函数，其中模糊综合相似度作为相关鉴别函数；为模糊因素集中的第m个模糊因素的隶属度函数；为第m个模糊因素的权重；代表求和；其中，方位角、俯仰角、距离的隶属度函数分别为：并且，在计算方位角、俯仰角、距离隶属度的时候，根据视野位置自适应改变位置误差阈值：其中，代表第i个激光雷达障碍物的方位角，azikmem代表第k个目标库障碍物的方位角，代表第i个激光雷达障碍物的俯仰角，pitkmem代表第k个目标库障碍物的俯仰角，disilidar代表第i个激光雷达障碍物的距离，diskmem代表第k个目标库障碍物的距离，表示取绝对值，是固定的方位角误差阈值，是方位角误差阈值随方位角变化的斜率，是方位角误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变的方位角误差阈值；是固定的俯仰角误差阈值，是俯仰角误差阈值随方位角变化的斜率，是俯仰角误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变的俯仰角误差阈值，是固定的距离误差阈值，是距离误差阈值随方位角变化的斜率，是距离误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变位置误差阈值；类别的隶属度函数为：包络宽度的隶属度函数为：包络高度的隶属度函数为：其中，代表第i个激光雷达障碍物的类别，代表第k个目标库障碍物的类别，代表第i个激光雷达障碍物的包络宽度，代表第k个目标库障碍物的包络宽度，代表激光雷达的包络宽度误差阈值，代表第i个激光雷达障碍物的包络高度，代表第k个目标库障碍物的包络高度，代表激光雷达的包络高度误差阈值；S223，通过经验分析法确定模糊因素集的权重；S224，计算关联权重：把权重、类别、形状代入到多因素模糊综合鉴别函数中计算得到关联权重；所述形状包括包络宽度和高度。9.一种计算机设备，其特征在于，所述计算机设备包括处理器和存储器，所述存储器中存储有计算机程序，当所述计算机程序被所述处理器加载时并执行如权利要求1~8任一项所述的用于飞机避障的多源传感器目标关联方法。10.一种可读存储介质，其特征在于，在可读存储介质中存储有计算机程序，所述计算机程序被处理器加载并执行如权利要求1~8任一项所述的用于飞机避障的多源传感器目标关联方法。
说明书desc
技术领域本发明涉及飞机避障技术领域，更为具体的，涉及一种用于飞机避障的多源传感器目标关联方法、设备及介质。背景技术直升机和无人机等飞行器广泛应用于物资运输、医疗救护、救灾救生、紧急营救、地质勘探等领域，其中直升机的突出特点是可以做低空、低速的机动飞行，特别是可在小面积场地垂直起降，由于这些特点使其有广阔的用途和发展前景。无人机的特点是建造和使用成本低、避免人员飞行危险、能够定点起飞降落、对起降场地的条件要求不高、设备搭载多样化等。但是飞机的安全受到了高压塔、高压线、信号塔、塔吊等障碍物的严重威胁，每年由于撞击障碍物造成的飞机损失和人员伤亡屡见不鲜，尤其是在能见度较低的情况下，例如晚上和雨雾天气下，更是事故频发。所以怎样躲避障碍物成为飞机安全飞行的关键环节。飞机上常见的传感器有毫米波雷达、光电相机、激光雷达等，这些传感器都可以进行目标探测与识别，输出障碍物信息。这些传感器各有优缺点，例如毫米波雷达角度分辨率较低，导致位置的准确性相比于光电相机较差，识别目标的类型准确性相比于光电识别较低，探测周期较长，导致位置连续性和稳定性较差；光电图像只有二维位置信息，没有三维位置信息，探测距离相比于毫米波雷达较近，漏警率相比于毫米波雷达较高，受到光线的影响，其中红外相机可在夜晚工作，而可见光相机不能在夜晚工作；激光雷达角度分辨率和距离分辨率较高，但是受天气影响比毫米波雷达大，探测距离较近。三种传感器的优缺点比较见下表1所示。表1 防撞雷达和夜视仪的优缺点因此，需要综合利用各传感器的优点，取长补短，进行多源传感器目标融合，来获得更好的并且统一的障碍物目标信息，为避障提供精确的感知信息。而目标融合的前提首先是多源传感器目标关联，旨在寻找各传感器中障碍物目标之间的对应关系，只有确定了对应关系，才能进行统一的融合处理。传统的目标关联方法包括最近邻域法、概率数据关联、联合概率数据关联、多假设跟踪等。这些目标关联方法只利用了位置信息来进行关联，没有考虑目标类别、包络特征来辅助关联；采用固定的位置误差阈值，造成视野边缘的目标关联精度较差；采用载机球体坐标系，当飞机平台剧烈晃动的时候运动模型误差较大导致关联精度降低；只能在二维坐标系或者三维坐标系进行关联，不能同时针对二维坐标系和三维坐标系进行目标关联。发明内容本发明的目的在于克服现有技术的不足，提供一种用于飞机避障的多源传感器目标关联方法、设备及介质，具有高精度、高适用性等优势。本发明的目的是通过以下方案实现的：一种用于飞机避障的多源传感器目标关联方法，包括以下步骤：S1，时空配准：包括时间对齐和空间坐标系对齐；S2，激光雷达目标关联：处理激光雷达送过来的目标识别结果，与目标库进行关联，更新目标库；光电目标关联：处理光电相机送过来的目标识别结果，与目标库进行关联，更新目标库；毫米波雷达目标关联：处理毫米波雷达送过来的目标识别结果，与目标库进行关联，更新目标库；S3，位置与包络融合：各传感器进行目标关联后，把各传感器的目标位置和包络进行融合，产生统一的目标位置和包络，用于下一个节拍的目标关联；S4，目标库管理：完成目标库中目标的确认和删除。进一步地，在步骤S1中，所述时间对齐：优先选择光电识别结果的时间为基准时间，如果没有光电识别结果，则选择激光雷达和毫米波雷达识别结果的时间为基准时间，如果也没有激光雷达和毫米波雷达识别结果，则选择导航时间为基准时间，确定基准时间后，确定了相应的基准导航信息；所述空间坐标系对齐：对光电目标补充参考距离变为等效三维坐标，然后由载机球体坐标系转换到载机坐标系，再由载机坐标系转换到基准时间的东北天坐标系，再由基准时间的东北天坐标系转换到球体坐标系。进一步地，在步骤S2中，激光雷达目标关联的流程包括子步骤：S21，根据位置误差阈值去掉不可能关联的目标；S22，根据位置、类型、包络特征，通过建立模糊因素集，考虑各模糊因素集的权重，进行综合加权计算关联权重；S23，利用匈牙利算法进行二分图匹配，寻找到全局最优的关联关系，把没有关联上的激光雷达的目标信息向量直接放入目标库中，把存在关联关系的激光雷达目标合并到相关联的目标库中的目标信息向量中。进一步地，在步骤S2中，光电目标关联的流程包括子步骤：光电识别目标的包络单位是弧度，计算隶属度函数的时候首先根据目标距离进行转换，转换后单位为米，转换公式为：其中，代表第i个光电障碍物的宽度，单位为米；代表第i个光电障碍物的弧度宽度，单位为弧度；代表第i个光电障碍物的高度，单位为米；代表第i个光电障碍物的弧度高度，单位为弧度；代表待关联的目标库中目标的距离。进一步地，在步骤S2中，毫米波雷达目标关联的流程包括子步骤：在步骤S2中，毫米波雷达目标关联的流程，包括如下子步骤：SS21，根据位置误差阈值去掉不可能关联的目标；SS22，根据位置、类型、包络特征，通过建立模糊因素集，考虑各模糊因素集的权重，进行综合加权计算关联权重；SS23，利用匈牙利算法进行二分图匹配，寻找到全局最优的关联关系，把没有关联上的毫米波雷达的目标信息向量直接放入目标库中，把存在关联关系的毫米波雷达目标合并到相关联的目标库中的目标信息向量中。进一步地，在步骤S2中，包括子步骤：各传感器的目标位置输入卡尔曼滤波器进行处理，得到统一的目标位置；各传感器的包络根据误差大小采用加权相加，其中光电包络的单位为弧度，根据目标的距离进行转换，转换后单位为米，转换公式为：其中，代表第i个光电障碍物的宽度，单位为米；代表第i个光电障碍物的弧度宽度，单位为弧度；代表第i个光电障碍物的高度，单位为米；代表第i个光电障碍物的弧度高度，单位为弧度；代表相关联的目标库中目标的距离；包络的计算公式为：其中，表示取向量的模值，和分别代表融合后包络的宽度和高度，和分别代表第i个激光雷达障碍物的宽度和高度，和分别代表第i个毫米波雷达障碍物的宽度和高度，和分别代表光电包络的宽度误差和高度误差，和分别代表激光雷达包络的宽度误差和高度误差，和分别代表毫米波雷达包络的宽度误差和高度误差。进一步地，在步骤S4中，包括子步骤：对于目标关联后的新目标进行确认，赋予新的ID，对于与目标库相关联的目标，赋予目标库中的旧ID；根据视野参数最大方位角、最小方位角、最大俯仰角、最小俯仰角、最大距离，计算目标库中的目标是否还在视野范围之内，如果没有则进行删除；在视野中的目标同时满足：其中，aziimem为目标库中第i个目标的方位角，pitimem为目标库中第i个目标的俯仰角，disimem为目标库中第i个目标的距离；完成目标库管理后，继续进行下一个节拍，从第一个步骤时空配准重新开始，如果没有下一个节拍，则整个流程结束。进一步地，在步骤S22中，包括子步骤：S221，建立模糊因素集，其中为方位角， 为俯仰角，为距离，为类别，为包络宽度，为包络高度；S222，确立多因素模糊综合鉴别函数，其中模糊综合相似度作为相关鉴别函数；为模糊因素集中的第m个模糊因素的隶属度函数；为第m个模糊因素的权重；代表求和；其中，方位角、俯仰角、距离的隶属度函数分别为：并且，在计算方位角、俯仰角、距离隶属度的时候，根据视野位置自适应改变位置误差阈值：其中，代表第i个激光雷达障碍物的方位角，azikmem代表第k个目标库障碍物的方位角，代表第i个激光雷达障碍物的俯仰角，pitkmem代表第k个目标库障碍物的俯仰角，disilidar代表第i个激光雷达障碍物的距离，diskmem代表第k个目标库障碍物的距离，表示取绝对值，是固定的方位角误差阈值，是方位角误差阈值随方位角变化的斜率，是方位角误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变的方位角误差阈值；是固定的俯仰角误差阈值，是俯仰角误差阈值随方位角变化的斜率，是俯仰角误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变的俯仰角误差阈值，是固定的距离误差阈值，是距离误差阈值随方位角变化的斜率，是距离误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变位置误差阈值；类别的隶属度函数为：包络宽度的隶属度函数为：包络高度的隶属度函数为：其中，代表第i个激光雷达障碍物的类别，代表第k个目标库障碍物的类别，代表第i个激光雷达障碍物的包络宽度，代表第k个目标库障碍物的包络宽度，代表激光雷达的包络宽度误差阈值，代表第i个激光雷达障碍物的包络高度，代表第k个目标库障碍物的包络高度，代表激光雷达的包络高度误差阈值；S223，通过经验分析法确定模糊因素集的权重；S224，计算关联权重：把权重、类别、形状代入到多因素模糊综合鉴别函数中计算得到关联权重；所述形状包括包络宽度和高度。一种计算机设备，所述计算机设备包括处理器和存储器，所述存储器中存储有计算机程序，当所述计算机程序被所述处理器加载时并执行如上任一项所述的用于飞机避障的多源传感器目标关联方法。一种可读存储介质，在可读存储介质中存储有计算机程序，所述计算机程序被处理器加载并执行如上任一项所述的用于飞机避障的多源传感器目标关联方法。本发明的有益效果包括：针对现有飞机避障目标关联方法只利用了位置信息来进行关联、采用固定的位置误差阈值造成视野边缘的目标关联精度较差、采用载机球体坐标系当飞机平台剧烈晃动的时候运动模型误差较大导致关联精度降低、不能同时针对二维坐标系和三维坐标系进行目标关联等问题，提出一种高精度、高适用性的用于飞机避障的多源传感器目标关联方法，考虑目标类别、包络特征来辅助关联，根据视野位置自适应改变位置误差阈值，采用东北天球体坐标系来降低飞机平台剧烈晃动造成的运动模型误差，把二维坐标系转换为等效三维坐标系来兼容不同传感器输出的二维或三维坐标。传统的目标关联方法只利用了位置信息来进行关联，本发明除了利用位置信息之外，还利用了目标的类型特征、包络特征如包络高度和包络宽度等特征来辅助关联，更多的特征可以带来更好的关联精度。传统的目标关联方法采用固定的位置误差阈值，而通常在视野边缘的目标由于相对于飞机的切向速度更快，导致位置误差比视野中央目标的位置误差大，如果与视野中央的目标采用相同的位置误差阈值，会造成关联失败。本发明针对前视避障的特点，根据视野位置自适应调节位置误差的阈值，在视野边缘加大位置误差的阈值，提高关联的精度。传统的目标关联方法采用载机球体坐标系，当飞机平台剧烈晃动的时候，在载机球体坐标系中目标的坐标也剧烈变化，表现为方位角俯仰角的剧烈变化，导致目标运动模型的误差增大，给目标关联带来影响。本发明采用东北天球体坐标系，把目标的坐标转换到东北天球体坐标系中进行目标关联，在东北天球体坐标系中，即使飞机平台剧烈晃动，目标的方位角俯仰角也不会剧烈变化，变得平稳，所以降低了飞机平台剧烈晃动造成的运动模型误差，适用于飞机平台剧烈晃动的场景，提高了关联精度和场景适应性。光电相机输出的目标是二维方位角俯仰角坐标，毫米波雷达和激光雷达输出的目标是三维方位角俯仰角距离三维坐标，传统的目标关联方法只能在二维坐标系或者三维坐标系进行关联，不能同时针对二维坐标系和三维坐标系进行高精度关联。本发明通过把二维坐标系转换为等效三维坐标系，兼容不同传感器输出的二维或三维坐标，提高了算法的适用性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明方法的总体流程图；图2a为载机坐标系的示意图；图2b为载机球体坐标系的示意图；图3a为东北天坐标系的示意图；图3b为东北天球体坐标系的示意图；图4为激光雷达目标关联的流程图。具体实施方式下面结合附图和实施例对发明进一步说明。本说明书中所有实施例公开的所有特征，或隐含公开的所有方法或过程中的步骤，除了互相排斥的特征和/或步骤以外，均可以以任何方式组合和/或扩展、替换。本发明实施例包括6个步骤：时空配准；激光雷达目标关联；光电目标关联；毫米波雷达目标关联；位置与包络融合；目标库管理，总体流程图如图1所示。时空配准不同传感器送来的目标识别结果对应的时间和空间坐标系不一样，首先需要在时间和空间坐标系上进行对齐，才能进行后续处理。光电识别结果中的信息包括：其中下标代表光电传感器，代表飞机的导航信息，代表此目标识别结果对应的时间，代表飞机的经度，代表飞机的纬度，代表飞机的高度，代表飞机的真航向角，代表飞机的俯仰角，代表飞机的横滚角，代表障碍物的个数，为第i个障碍物的信息向量，代表第i个障碍物的类别，代表第i个障碍物的置信度，代表第i个障碍物的方位角，代表第i个障碍物的俯仰角，代表第i个障碍物的宽度，单位为弧度，代表第i个障碍物的高度，单位为弧度。激光雷达识别结果中的信息包括：其中下标代表激光雷达传感器，代表飞机的导航信息，代表此目标识别结果对应的时间，代表飞机的经度，代表飞机的纬度，代表飞机的高度，代表飞机的真航向角，代表飞机的俯仰角，代表飞机的横滚角，代表障碍物的个数，代表第i个障碍物的信息向量，代表第i个障碍物的类别，代表第i个障碍物的置信度，代表第i个障碍物的方位角，代表第i个障碍物的俯仰角，代表第i个障碍物的距离，代表第i个障碍物的宽度，代表第i个障碍物的高度。毫米波雷达识别结果中的信息包括：其中下标代表毫米波雷达传感器，代表飞机的导航信息，代表此目标识别结果对应的时间，代表飞机的经度，代表飞机的纬度，代表飞机的高度，代表飞机的真航向角，代表飞机的俯仰角，代表飞机的横滚角，代表障碍物的个数，代表第i个障碍物的信息向量，代表第i个障碍物的类别，代表第i个障碍物的置信度，代表第i个障碍物的方位角，代表第i个障碍物的俯仰角，代表第i个障碍物的距离，代表第i个障碍物的宽度，代表第i个障碍物的高度。另外还有导航信息：其中下标代表导航信息，代表此导航信息对应的时间，代表飞机的经度，代表飞机的纬度，代表飞机的高度，代表飞机的真航向角，代表飞机的俯仰角，代表飞机的横滚角。光电识别结果中目标的宽度和高度的单位是弧度，激光雷达和毫米波雷达识别结果中目标的宽度和高度的单位是米。时间对齐的第一步是选定基准时间，待选的时间有光电识别结果的时间、激光雷达识别结果的时间、毫米波雷达识别结果的时间和导航时间。由于光电识别结果中目标的坐标是二维坐标，难以转换为三维坐标，而激光雷达和毫米波雷达识别结果中目标的坐标是三维坐标，可以转换为二维坐标，所以优先选择光电识别结果的时间为基准时间，如果没有光电识别结果，则选择激光雷达和毫米波雷达识别结果的时间为基准时间，如果也没有激光雷达和毫米波雷达识别结果，则选择导航时间为基准时间。确定基准时间后，也就确定了相应的基准导航信息：其中为飞机基准经度，为基准纬度，为基准高度，为基准真航向角，为基准俯仰角，为基准横滚角。空间坐标系对齐主要是坐标系转换，把各传感器中目标的载机球体坐标系转换到基准时间下的东北天球体坐标系。载机坐标系如图2a所示，在载机坐标系中的球体坐标系如图2b所示。东北天坐标系如图3a所示，在东北天坐标系中的球体坐标系如图3b所示。激光雷达和毫米波雷达的目标都是三维方位角俯仰角度距离坐标，位于载机球体坐标系中，光电目标没有距离，可以补充参考距离变为等效三维坐标。激光雷达目标的坐标系转换首先由载机球体坐标系转换到载机坐标系：然后由载机坐标系转换到时刻的东北天坐标系：其中是在时刻的东北天坐标系中飞机的坐标。然后由东北天坐标系转换到球体坐标系：其中表示取向量的模值，表示取绝对值。毫米波雷达目标的坐标系转换同激光雷达目标的坐标系转换。光电目标的坐标系转换同激光雷达目标的坐标系转换。激光雷达目标关联处理激光雷达送过来的目标识别结果，与目标库进行关联，更新目标库，具体流程见图4。目标库中保存有上一节拍之后所有的目标信息，可以表示为：其中下标代表存储的记忆，代表飞机的导航信息，代表此目标识别结果对应的时间，代表飞机的经度，代表飞机的纬度，代表飞机的高度，代表飞机的真航向角，代表飞机的俯仰角，代表飞机的横滚角，代表障碍物的个数，代表第i个障碍物的信息向量，代表第i个障碍物的ID，代表第i个障碍物的类别，代表第i个障碍物的置信度，代表第i个障碍物的方位角，代表第i个障碍物的俯仰角，代表第i个障碍物的距离，代表第i个障碍物的宽度，代表第i个障碍物的高度。激光雷达目标与目标库进行关联的步骤如图4所示。首先根据较为宽松的位置误差阈值去掉一些不可能关联的目标，降低后续计算量。方位角阈值为，俯仰角阈值为，距离阈值为。则满足以下条件的为不可能关联目标：其中表示取绝对值。然后根据位置、类型、包络等特征来计算关联权重。传统的目标关联算法只利用了位置信息，这里引入包络等特征相当于在分类问题中增加了特征空间维数，不仅在目标位置空间进行观测，而且在属性空间也进行度量，那么在数据关联阶段所提取的特征则更加多元化，且位置和属性属于不同空间，相互独立且具有互补性，相当于模式识别在高维空间做数据分类，大大提高了可分性。所以，这样的联合处理一定会带来数据关联性能的提升，而关联正确就意味着减少了对量测误用的情况，也必然会带来关联准确性的提升。通过建立模糊因素集，考虑各模糊因素集的权重，进行综合加权计算并进行判定。具体如下：建立模糊因素集，其中为方位角，为俯仰角，为距离，为类别，为包络宽度，为包络高度。确立多因素模糊综合鉴别函数，其中模糊综合相似度作为相关鉴别函数；为模糊因素集中的第m个模糊因素的隶属度函数；为第m个模糊因素的权重；代表求和。其中，方位角、俯仰角、距离的隶属度函数分别为：计算方位角、俯仰角、距离隶属度的时候，根据视野位置自适应改变位置误差阈值：其中，代表第i个激光雷达障碍物的方位角，azikmem代表第k个目标库障碍物的方位角，代表第i个激光雷达障碍物的俯仰角，pitkmem代表第k个目标库障碍物的俯仰角，disilidar代表第i个激光雷达障碍物的距离，diskmem代表第k个目标库障碍物的距离，表示取绝对值，是固定的方位角误差阈值，是方位角误差阈值随方位角变化的斜率，是方位角误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变的方位角误差阈值；是固定的俯仰角误差阈值，是俯仰角误差阈值随方位角变化的斜率，是俯仰角误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变的俯仰角误差阈值，是固定的距离误差阈值，是距离误差阈值随方位角变化的斜率，是距离误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变位置误差阈值。类别的隶属度函数为：包络宽度的隶属度函数为：包络高度的隶属度函数为：确定模糊因素集的权重。可以通过经验分析法获取，可根据需要适当调整。计算关联权重。把权重、类别、形状代入到多因素模糊综合鉴别函数中，就可以计算得到关联权重。接下来，利用匈牙利算法来进行二分图匹配，寻找到全局最优的关联关系：在求得的最优关联关系中，过滤掉一些关联权重过小的关联关系，保留大于的关联关系，最后把没有关联上的激光雷达的目标直接放入目标库中，把存在关联关系的激光雷达目标合并到相关联的目标库中的目标中。光电目标关联处理光电相机送过来的目标识别结果，与目标库进行关联，更新目标库。关联流程图同激光雷达目标关联，不同之处在于光电识别目标没有距离信息，所以没有距离相关的隶属度函数；光电识别目标的包络单位不是米，而是弧度，所以计算隶属度函数的时候需要首先根据目标距离进行转换，转换后单位为米，转换公式为：其中待关联的目标库中目标的距离。毫米波雷达目标关联处理毫米波雷达送过来的目标识别结果，与目标库进行关联，更新目标库。毫米波雷达目标关联的流程，包括如下子步骤：SS21，根据位置误差阈值去掉不可能关联的目标；SS22，根据位置、类型、包络特征，通过建立模糊因素集，考虑各模糊因素集的权重，进行综合加权计算关联权重；SS23，利用匈牙利算法进行二分图匹配，寻找到全局最优的关联关系，把没有关联上的毫米波雷达的目标信息向量直接放入目标库中，把存在关联关系的毫米波雷达目标合并到相关联的目标库中的目标信息向量中。位置与包络融合各传感器进行目标关联后，需要把各传感器的目标位置和包络进行融合，产生统一的目标位置和包络，用于下一个阶段的目标关联。各传感器的位置输入卡尔曼滤波器进行处理，得到统一的目标位置。各传感器的包络根据误差大小采用加权相加，其中光电包络的单位为弧度，根据目标的距离进行转换，转换后单位为米，转换公式为：其中，代表第i个光电障碍物的宽度，单位为米；代表第i个光电障碍物的弧度宽度，单位为弧度；代表第i个光电障碍物的高度，单位为米；代表第i个光电障碍物的弧度高度，单位为弧度；代表相关联的目标库中目标的距离；包络的计算公式为：其中，表示取向量的模值，和分别代表融合后包络的宽度和高度，和分别代表第i个激光雷达障碍物的宽度和高度，和分别代表第i个毫米波雷达障碍物的宽度和高度，和分别代表光电包络的宽度误差和高度误差，和分别代表激光雷达包络的宽度误差和高度误差，和分别代表毫米波雷达包络的宽度误差和高度误差。目标库管理主要完成目标库中目标的确认和删除。对于目标关联后的新目标进行确认，赋予新的ID，对于与目标库相关联的目标，赋予目标库中的旧ID。根据视野参数最大方位角、最小方位角、最大俯仰角、最小俯仰角、最大距离，计算目标库中的目标是否还在视野范围之内，如果没有则进行删除。在视野中的目标同时满足：完成目标库管理后，继续进行下一个节拍，从第一个步骤时空配准重新开始。如果没有下一个节拍，则整个流程结束。实施例1一种用于飞机避障的多源传感器目标关联方法，包括以下步骤：S1，时空配准：包括时间对齐和空间坐标系对齐；S2，激光雷达目标关联：处理激光雷达送过来的目标识别结果，与目标库进行关联，更新目标库；光电目标关联：处理光电相机送过来的目标识别结果，与目标库进行关联，更新目标库；毫米波雷达目标关联：处理毫米波雷达送过来的目标识别结果，与目标库进行关联，更新目标库；S3，位置与包络融合：各传感器进行目标关联后，把各传感器的目标位置和包络进行融合，产生统一的目标位置和包络，用于下一个节拍的目标关联；S4，目标库管理：完成目标库中目标的确认和删除。实施例2在实施例1的基础上，在步骤S1中，所述时间对齐：优先选择光电识别结果的时间为基准时间，如果没有光电识别结果，则选择激光雷达和毫米波雷达识别结果的时间为基准时间，如果也没有激光雷达和毫米波雷达识别结果，则选择导航时间为基准时间，确定基准时间后，确定了相应的基准导航信息；所述空间坐标系对齐：对光电目标补充参考距离变为等效三维坐标，然后由载机球体坐标系转换到载机坐标系，再由载机坐标系转换到基准时间的东北天坐标系，再由基准时间的东北天坐标系转换到球体坐标系。实施例3在实施例1的基础上，在步骤S2中，包括子步骤：S21，根据位置误差阈值去掉不可能关联的目标；S22，根据位置、类型、包络特征，通过建立模糊因素集，考虑各模糊因素集的权重，进行综合加权计算关联权重；S23，利用匈牙利算法进行二分图匹配，寻找到全局最优的关联关系，把没有关联上的激光雷达的目标信息向量直接放入目标库中，把存在关联关系的激光雷达目标合并到相关联的目标库中的目标信息向量中。实施例4在实施例1的基础上，在步骤S2中，光电目标关联的流程包括子步骤：光电识别目标的包络单位是弧度，计算隶属度函数的时候首先根据目标距离进行转换，转换后单位为米，转换公式为：其中，代表第i个光电障碍物的宽度，单位为米；代表第i个光电障碍物的弧度宽度，单位为弧度；代表第i个光电障碍物的高度，单位为米；代表第i个光电障碍物的弧度高度，单位为弧度；代表待关联的目标库中目标的距离。实施例5在实施例1的基础上，在步骤S2中，毫米波雷达目标关联的流程，包括如下子步骤：SS21，根据位置误差阈值去掉不可能关联的目标；SS22，根据位置、类型、包络特征，通过建立模糊因素集，考虑各模糊因素集的权重，进行综合加权计算关联权重；SS23，利用匈牙利算法进行二分图匹配，寻找到全局最优的关联关系，把没有关联上的毫米波雷达的目标信息向量直接放入目标库中，把存在关联关系的毫米波雷达目标合并到相关联的目标库中的目标信息向量中。实施例6在实施例1的基础上，在步骤S2中，包括子步骤：各传感器的目标位置输入卡尔曼滤波器进行处理，得到统一的目标位置；各传感器的包络根据误差大小采用加权相加，其中光电包络的单位为弧度，根据目标的距离进行转换，转换后单位为米，转换公式为：其中，代表第i个光电障碍物的宽度，单位为米；代表第i个光电障碍物的弧度宽度，单位为弧度；代表第i个光电障碍物的高度，单位为米；代表第i个光电障碍物的弧度高度，单位为弧度；代表相关联的目标库中目标的距离；包络的计算公式为：其中，表示取向量的模值，和分别代表融合后包络的宽度和高度，和分别代表第i个激光雷达障碍物的宽度和高度，和分别代表第i个毫米波雷达障碍物的宽度和高度，和分别代表光电包络的宽度误差和高度误差，和分别代表激光雷达包络的宽度误差和高度误差，和分别代表毫米波雷达包络的宽度误差和高度误差。实施例7在实施例1的基础上，在步骤S4中，包括子步骤：对于目标关联后的新目标进行确认，赋予新的ID，对于与目标库相关联的目标，赋予目标库中的旧ID；根据视野参数最大方位角、最小方位角、最大俯仰角、最小俯仰角、最大距离，计算目标库中的目标是否还在视野范围之内，如果没有则进行删除；在视野中的目标同时满足：其中，aziimem为目标库中第i个目标的方位角，pitimem为目标库中第i个目标的俯仰角，disimem为目标库中第i个目标的距离；完成目标库管理后，继续进行下一个节拍，从第一个步骤时空配准重新开始，如果没有下一个节拍，则整个流程结束。实施例8在实施例3的基础上，在步骤S22中，包括子步骤：S221，建立模糊因素集，其中为方位角， 为俯仰角，为距离，为类别，为包络宽度，为包络高度；S222，确立多因素模糊综合鉴别函数，其中模糊综合相似度作为相关鉴别函数；为模糊因素集中的第m个模糊因素的隶属度函数；为第m个模糊因素的权重；代表求和；其中，方位角、俯仰角、距离的隶属度函数分别为：并且，在计算方位角、俯仰角、距离隶属度的时候，根据视野位置自适应改变位置误差阈值：其中，代表第i个激光雷达障碍物的方位角，azikmem代表第k个目标库障碍物的方位角，代表第i个激光雷达障碍物的俯仰角，pitkmem代表第k个目标库障碍物的俯仰角，disilidar代表第i个激光雷达障碍物的距离，diskmem代表第k个目标库障碍物的距离，表示取绝对值，是固定的方位角误差阈值，是方位角误差阈值随方位角变化的斜率，是方位角误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变的方位角误差阈值；是固定的俯仰角误差阈值，是俯仰角误差阈值随方位角变化的斜率，是俯仰角误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变的俯仰角误差阈值，是固定的距离误差阈值，是距离误差阈值随方位角变化的斜率，是距离误差阈值随俯仰角变化的斜率，是根据视野位置自适应改变位置误差阈值；类别的隶属度函数为：包络宽度的隶属度函数为：包络高度的隶属度函数为：其中，代表第i个激光雷达障碍物的类别，代表第k个目标库障碍物的类别，代表第i个激光雷达障碍物的包络宽度，代表第k个目标库障碍物的包络宽度，代表激光雷达的包络宽度误差阈值，代表第i个激光雷达障碍物的包络高度，代表第k个目标库障碍物的包络高度，代表激光雷达的包络高度误差阈值；S223，通过经验分析法确定模糊因素集的权重；S224，计算关联权重：把权重、类别、形状代入到多因素模糊综合鉴别函数中计算得到关联权重；所述形状包括包络宽度和高度。实施例9一种计算机设备，所述计算机设备包括处理器和存储器，所述存储器中存储有计算机程序，当所述计算机程序被所述处理器加载时并执行如实施例1~实施例8任一项所述的用于飞机避障的多源传感器目标关联方法。实施例10一种可读存储介质，在可读存储介质中存储有计算机程序，所述计算机程序被处理器加载并执行如实施例1~实施例8任一项所述的用于飞机避障的多源传感器目标关联方法。本发明未涉及部分均与现有技术相同或可采用现有技术加以实现。上述技术方案只是本发明的一种实施方式，对于本领域内的技术人员而言，在本发明公开了应用方法和原理的基础上，很容易做出各种类型的改进或变形，而不仅限于本发明上述具体实施方式所描述的方法，因此前面描述的方式只是优选的，而并不具有限制性的意义。除以上实例以外，本领域技术人员根据上述公开内容获得启示或利用相关领域的知识或技术进行改动获得其他实施例，各个实施例的特征可以互换或替换，本领域人员所进行的改动和变化不脱离本发明的精神和范围，则都应在本发明所附权利要求的保护范围内。
