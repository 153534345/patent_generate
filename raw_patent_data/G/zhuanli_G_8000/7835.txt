标题title
音频播放装置与其启用方法
摘要abst
本发明公开了一种音频播放装置与其启用方法，音频播放装置包含数位类比转换器、启动电路、多工器以及输出放大器。数位类比转换器转换一音频数据为一第一信号与一第二信号。启动电路在一预设时长内根据一参考电压逐渐提升一启动电压的一位准。多工器在一预设时长内将该启动电压输出为一控制电压，并在经过该预设时长后切换为将该参考电压输出为该控制电压。输出放大器根据该控制电压、该第一信号与该第二信号产生一音频信号。控制电压用于设定该输出放大器的一共模电压。通过在开机过程中逐渐地调整内部电压的位准，以避免音频播放时产生噪音。
权利要求书clms
1.一种音频播放装置，其特征在于，包括：数位类比转换器，用于转换音频数据为第一信号与第二信号；启动电路，用于在预设时长内根据参考电压逐渐提升启动电压的位准；多任务器，用于在所述预设时长内将所述启动电压输出为控制电压，并在经过所述预设时长后切换为将所述参考电压输出为所述控制电压；以及输出放大器，用于根据所述控制电压、所述第一信号与所述第二信号产生音频信号，其中，所述控制电压用于设定所述输出放大器的共模电压。2.根据权利要求1所述的音频播放装置，其特征在于，所述启动电路根据多个时脉信号以及所述参考电压执行电容充放电操作以产生所述启动电压，且所述多个时脉信号为非重叠时脉信号。3.根据权利要求2所述的音频播放装置，其特征在于，所述多个时脉信号的频率越低，所述启动电路提升所述启动电压的所述位准的速度越慢。4.根据权利要求2所述的音频播放装置，其特征在于，所述启动电路利用所述参考电压对第一电容进行充电后，自所述第一电容转移电荷到第二电容以产生所述启动电压，且所述第二电容与所述第一电容之间的电容值比例越高，所述启动电路提升所述启动电压的所述位准的速度越慢。5.根据权利要求1所述的音频播放装置，其特征在于，所述启动电路包括：第一电容；第一开关，用于根据第一时脉信号导通以传输所述参考电压到所述第一电容以对所述第一电容进行充电；第二电容；以及第二开关，用于根据第二时脉信号导通以自所述第一电容转移电荷到所述第二电容以产生所述启动电压；其中，当所述第一开关与所述第二开关中的任意一个导通时，所述第一开关与所述第二开关中的另一个不导通。6.根据权利要求5所述的音频播放装置，其特征在于，所述启动电路还包括：可调时脉信号产生器，用于产生系统时脉信号；以及非重叠时脉产生器，用于根据所述系统时脉信号产生所述第一时脉信号与所述第二时脉信号。7.根据权利要求1所述的音频播放装置，其特征在于，在经过所述预设时长后，所述启动电压的所述位准与所述参考电压的位准之间的差值变小。8.根据权利要求1所述的音频播放装置，其特征在于，所述输出放大器包括：缓冲器，用于根据所述控制电压产生第一电压；第一阻抗电路，用于将所述第一电压转换成电流信号；放大器；第二阻抗电路，耦接至所述放大器的第一输入端以接收所述第一信号与所述电流信号，并将所述第一信号与所述电流信号的加总转换为第二电压；以及第三阻抗电路，耦接至所述放大器的第二输入端以接收所述第二信号，并转换所述第二信号为第三电压；其中，所述放大器根据所述第二电压与所述第三电压产生所述音频信号。9.根据权利要求1所述的音频播放装置，其特征在于，所述数位类比转换器包括：多个第一电流源电路，根据所述音频数据中的部分位产生所述第一信号的信号成分以及所述第二信号的信号成分；以及多个第二电流源电路，根据所述音频数据中的剩余位产生所述第一信号的另一信号成分以及所述第二信号的另一信号成分。10.一种启动方法，其特征在于，用于启动音频播放装置，所述启动方法包括：将音频数据中的多个位皆设置为第一逻辑值，其中，所述音频数据经由所述音频播放装置中的输出放大器转换为音频信号；利用所述音频播放装置中的启动电路在预设时长内根据参考电压逐渐调整启动电压的位准，并将所述启动电压输出为控制电压，其中，所述控制电压用于设定所述输出放大器的共模位准；在经过所述预设时长后切换为将所述参考电压输出为所述控制电压；以及逐渐地将所述多个位中的半数位切换到第二逻辑值。
说明书desc
技术领域本发明涉及音频播放装置技术领域，具体涉及一种音频播放装置与其启用方法。背景技术音频播放器中常使用放大器来放大音频数据以推动外部的扬声器。在现有技术中，当音频播放器启动时，系统中的内部电压会瞬间上升，而放大器会因为此电压跳动产生噪声，从而使得扬声器输出一个尖略的噪音而降低了使用者体验。发明内容本发明实施例提供一种音频播放装置与其启用方法，以解决扬声器输出噪音的问题。第一方面本发明实施例提供一种音频播放装置，音频播放装置包含数位类比转换器、启动电路、多任务器以及输出放大器。数位类比转换器转换音频数据为第一信号与第二信号。启动电路在预设时长根据参考电压逐渐提升启动电压的位准。多任务器在预设时长内将该启动电压输出为控制电压，并在经过该预设时长后切换为将该参考电压输出为该控制电压。输出放大器根据该控制电压、该第一信号与该第二信号产生音频信号。控制电压用于设定该输出放大器的共模电压。第二方面，本发明实施例提供一种启用方法，用于启动音频播放装置，启动方法包含下列操作：将音频数据中的多个位皆设置为第一逻辑值，其中该音频数据经由该音频播放装置中的输出放大器转换为音频信号；利用该音频播放装置中的启动电路在预设时长内根据参考电压逐渐调整启动电压的位准，并将该启动电压输出为控制电压，其中该控制电压用于设定该输出放大器的共模位准；在经过该预设时长后切换为将该参考电压输出为该控制电压；以及逐渐地将该多个位中的半数位切换到第二逻辑值。本发明实施例提供的技术方案，可在开机过程中逐渐地调整内部电压的位准，以避免音频播放器在启动过程产生噪音。附图说明有关本案的特征、实作与功效，兹配合图式作较佳实施例详细说明如下。图1为根据本案一些实施例绘制的一种音频播放装置的示意图；图2A为根据本案一些实施例绘制图1中的启动电路的示意图；图2B为根据本案一些实施例绘制利用调整图2A中的时脉信号之频率来调整启动电压的提升速度的示意图；图2C为根据本案一些实施例绘制利用调整图2A中的多个电容之间的电容比例来调整启动电压的提升速度的示意图；图3为根据本案一些实施例绘制图1中的数位类比转换器的示意图；图4为根据本案一些实施例绘制图1中的输出放大器的示意图；以及图5为根据本案一些实施例绘制一种启动方法的流程图。具体实施方式本文所使用的所有词汇具有其通常的意涵。上述之词汇在普遍常用之字典中之定义，在本案的内容中包含任一于此讨论的词汇之使用例子仅为示例，不应限制到本案之范围与意涵。同样地，本案亦不仅以于此说明书所示出的各种实施例为限。关于本文中所使用之『耦接』或『连接』，均可指二或多个组件相互直接作实体或电性接触，或是相互间接作实体或电性接触，亦可指二或多个组件相互操作或动作。如本文所用，用语『电路』可为由至少一个晶体管与/或至少一个主被动组件按一定方式连接以处理信号的装置。图1为根据本案一些实施例绘制的一种音频播放装置100的示意图。音频播放装置100包含参考电压产生器105、数位类比转换器110、启动电路120、多任务器130以及输出放大器140。参考电压产生器105根据供应电压VDD产生参考电压VREF。例如，参考电压产生器105包含多个电阻，其可对供应电压VDD进行分压以产生参考电压VREF。数位类比转换器110转换音频数据DIN为信号S1与信号S2，并传输信号S1到输出放大器140的正输入端，并传输信号S2到输出放大器140的负输入端。于一些实施例中，数位类比转换器110可为电流式数位类比转换器，其可将音频数据DIN转换为对应的电流信号。启动电路120根据参考电压VREF逐渐提升启动电压VA的位准。多任务器130将启动电压VA与参考电压VREF二者中之一输出为控制电压VC。例如，在音频播放装置100刚上电后，多任务器130可根据切换信号SS1与切换信号SS2将启动电压VA输出为控制电压VC，并在经过预设时长之后根据切换信号SS1与切换信号SS2将参考电压VREF输出为控制电压VC，其中切换信号SS1与切换信号SS2的状态可经由使用音频播放装置100的系统之软件或控制器设定。于一些实施例中，在经过预设时长后，启动电压VA的位准可接近于或相同于参考电压VREF的位准，也就是说，经过预设时长后，启动电压VA的位准与参考电压VREF的位准之间的差值变小。输出放大器140根据控制电压VC、信号S1以及信号S2产生音频信号VO，其中控制信号VC用于设定输出放大器140的一共模位准。关于此处的相关操作将于后参照图4进行详细说明。在一些相关技术中，放大器会直接被系统中的驱动电压驱动。在这些技术中，当音频播放装置上电时，该驱动电压的位准会瞬间上升，从而导致放大器产生一个明显噪音而降低了使用者体验。相较于上述的相关技术，在本案实施例中，在音频播放装置100的启动过程中，输出放大器140是先基于逐渐上升的启动电压VA驱动，并在启动电压VA的位准上升到接近于或相同于参考电压VREF时才切换为由参考电压VREF进行驱动。如此，可避免输出放大器140在启动过程内产生明显噪音。图2A为根据本案一些实施例绘制图1中的启动电路120的示意图。于此例中，启动电路120可根据时脉信号CK、时脉信号CKB与参考电压VREF执行电容充放电操作以产生启动电压VA。时脉信号CK与时脉信号CKB为非重叠时脉信号，实时脉信号CK与时脉信号CKB不会同时具有高位准。详细而言，启动电路120可包含可调时脉产生器210、非重叠时脉产生器220、开关SW1、开关SW2、电容C1与电容C2。可调时脉产生器210产生系统时脉信号CLK。非重叠时脉产生器220可根据系统时脉信号CLK产生时脉信号CK与时脉信号CKB。开关SW1的第一端接收参考电压VREF，开关SW1的第二端耦接至电容C1的第一端，且开关SW1的控制端接收时脉信号CK。电容C1的第二端耦接至地。开关SW1根据时脉信号CK选择性导通以将参考电压VREF传输给电容C1，以对电容C1进行充电。开关SW2的第一端耦接至电容C1的第一端，开关SW2的控制端耦接至电容C2的第一端并产生启动电压VA，且开关SW2的控制端接收时脉信号CKB。电容C2的第二端耦接至地。开关SW2根据时脉信号CKB选择性导通以自将电容C1上的电荷转移给电容C2，以产生启动电压VA。如前所述，时脉信号CK与时脉信号CKB不会同时具有高位准。于此例中，开关SW1在时脉信号CK具有高位准的期间导通，且开关SW2在时脉信号CKB具有高位准的期间导通。换句话说，开关SW1与开关SW2不会同时导通，即当开关SW1与开关SW2中之一者导通时，开关SW1与开关SW2中之另一者不导通。详细而言，在时脉信号CK具有高位准的期间，开关SW1导通而传输参考电压VREF给电容C1。如此，电容C1将被参考电压VREF充电。接着，在时脉信号CKB具有高位准的期间，开关SW1不导通且开关SW2导通。如此，电容C1所储存的电荷将转移至电容C2，以对电容C2进行充电。藉由重复执行上述操作，可让启动电压VA的位准逐渐变高，使得启动电压VA的位准在一定时间内升高到接近于或相同于参考电压VREF。于一些实施例中，可藉由模拟或量测来获得上述的一定时间的时间长度，并通过暂存器记录此时间长度为前述的预设区间。如此，在后续的应用中，系统中的软件或控制器可在音频播放装置100刚启动到该预设时长期满后调整切换信号SS1与切换信号SS2的状态，以切换多任务器130的输出。当音频播放装置100的应用场景属于低噪音环境，可以通过降低时脉信号CK与CKB的频率与/或增加电容C2与电容C1之间的电容值比例，以调降启动电路120提升启动电压VA的速度。如此，可避免音频播放装置100出现较为明显的启动噪音。或者，当音频播放装置100的应用场景属于较为吵杂的环境，可以通过提高时脉信号CK与CKB的频率与/或降低电容C2与电容C1之间的电容值比例，以加快启动电路120提升启动电压VA的速度。如此，可加快音频播放装置100的启动速度，来让音频播放装置100可更快地开始输出音频信号VO。图2B为根据本案一些实施例绘制利用调整图2A中的时脉信号CK与CKB之频率来调整启动电压VA的提升速度的示意图。在第一情形中，时脉信号CK与CKB之频率设定为一预定频率。如此，开关SW1与开关SW2可各自在一预设周期PT1内进行充电与转移电荷。于此条件下，启动电压VA可在时间T1提升到接近于或相同于参考电压VREF。或者，在第二情形中，时脉信号CK与CKB之频率被降低为低于该预定频率的另一频率。如此，开关SW1与开关SW2可各自在具有较长的周期PT2内进行充电与转移电荷。于此条件下，启动电压VA会延迟到时间T2才提升到接近于或相同于参考电压VREF。如图2B所示，时间T2久于时间T1。换言之，当时脉信号CK与CKB的频率越低，启动电路120提升启动电压VA之位准的速度就越慢。在一些实施例中，系统中的软件或控制器可依据使用者的输入与/或来自其他电路的控制指令来控制可调时脉产生器210以调整系统时脉信号CLK的频率，进而调整时脉信号CK与CKB的频率并据以调整启动电路120提升启动电压VA之位准的速度。在一些实施例中，可调时脉产生器210可由锁相回路实施。图2C为根据本案一些实施例绘制利用调整图2A中的电容C1与电容C2之间的电容比例来调整启动电压VA的提升速度的示意图。在一些实施例中，如图2A所示，电容C1与电容C2中每一者可为可变电容。为了达到缓启动，电容C1的电容值会小于电容C2的电容值，以避免启动电压VA在每次周期中的变化量过大。在第一情形中，电容C2与电容C1之间的电容值比例为一预定数值。如此，启动电压VA可在时间T1提升到接近于或相同于参考电压VREF。或者，在第二情形中，电容C2的电容值经调整而变大与/或电容C1的电容值经调整而变小，使得电容C2与电容C1之间的电容值比例调整到高于该预定数值的另一数值。如此，启动电压VA在每次周期中的变化量ΔV会被变得更少。于此条件下，启动电压VA会延迟到时间T3才提升到接近于或相同于参考电压VREF。如图2C所示，时间T3久于时间T1。换言之，当电容C2与电容C1之间的电容值比例越高，启动电路120提升启动电压VA之位准的速度就越慢。在一些实施例中，系统中的软件或控制器可依据使用者的输入与/或来自其他电路的控制指令来控制调整电容C1与/或电容C2的电容值大小，进而调整启动电路120提升启动电压VA之位准的速度。在上述的例子中，时脉信号CK与CKB不会同时具有高位准，且开关SW1是在时脉信号CK的高位准期间导通，开关SW2是在时脉信号CKB的高位准期间导通，但本案并不以此为限。在其他实施例中，时脉信号CK与CKB可设定为不会同时具有低位准，且开关SW1是在时脉信号CK的低位准期间导通，开关SW2是在时脉信号CKB的低位准期间导通。图3为根据本案一些实施例绘制图1中的数位类比转换器110的示意图。于此例中，数位类比转换器110包含电流调节电路310、多个电流源电路320～320。电流调节电路310根据电压VB产生电压V1。于一些实施例中，电压VB可为参考电压VREF或是启动电压VA。于一些实施例中，电流调节电路310可包含低压差稳压器以及接成二极管形式的晶体管，其中接成二极管形式的晶体管可与多个电流源电路320～320形成电流镜。电流源电路320～320根据音频数据DIN中的部分位产生信号S1的信号成分S11以及信号S2的信号成分S21。类似地，电流源电路320～320根据音频数据DIN中的剩余位产生信号S1的另一信号成分S12以及信号S2的另一信号成分S22，其中信号成分S11与信号成分S12可在节点N1上加总以形成信号S1，且信号成分S21与信号成分S22可在节点N2上加总以形成信号S2。例如，若音频数据DIN具有8个位D～D，多个电流源电路320～320可根据多个位D’～D’以及音频数据DIN中的位D～D产生信号成分S11以及信号成分S21，且多个电流源电路320～320可根据多个位D’～D’以及音频数据DIN中的位D～D产生信号成分S12以及信号成分S22。位D’～D’中每一者与位D～D中的一对应者具有相反的逻辑值。例如，当位D为逻辑值1，位D’为逻辑值0。或者，当位D为逻辑值0，位D’为逻辑值1。电流源电路320～320中每一者具有相同电路结构，并可设置为具有相同电流值，其中电流源电路320～320互相并联且电流源电路320～320互相并联。以电流源电路320为例，电流源电路320包含晶体管P1、开关SW3与开关SW4。晶体管P1的第一端接收供应电压VDD，晶体管P1的第二端耦接到开关SW3与SW4的第一端，且晶体管P1的控制端接收电压V1。晶体管P1可经由电压V1偏压而产生一电流给开关SW3与SW4。开关SW3的第二端耦接到节点N2，且开关SW3的控制端接收位D。开关SW4的第二端耦接到节点N1，且开关SW4的控制端接收位D’。开关SW3根据位D导通，以将晶体管P1产生的电流输出为部分的信号成分S21。开关SW4根据位D’导通，以将晶体管P1产生的电流输出为部分的信号成分S11。例如，若位D具有逻辑值0，位D’具有逻辑值1。于此条件下，开关SW3导通而开关SW4不导通，以输出部分的信号成分S21。或者，若位D具有逻辑值1，位D’具有逻辑值0。于此条件下，开关SW3不导通而开关SW4导通，以输出部分的信号成分S11。类似地，电流源电路320可根据位D以及位D’产生另一部分的信号成分S21或是另一部分的信号成分S11。电流源电路320可根据位D以及位D’产生一部分的信号成分S22或是一部分的信号成分S12。依此类推，应可理解，电流源电路320可根据位D以及位D’产生另一部分的信号成分S22或是一部分的信号成分S12。图4为根据本案一些实施例绘制图1中的输出放大器140的示意图。输出放大器140包含多个阻抗电路410～412、缓冲器420以及放大器430。缓冲器420可根据控制电压VC产生电压V2。例如，缓冲器420可由设置成单增益的放大器实施。缓冲器420的正输入端耦接到图1的多任务器130以接收控制电压VC。缓冲器420的负输入端耦接到缓冲器420的输出端以产生电压V2。多个阻抗电路410～412中每一者包含一组并联的电阻与电容。阻抗电路410耦接于缓冲器420的输出端与放大器430的正输入端之间，以将电压V2转换成电流信号I1并传输电流信号I1到节点N1。阻抗电路411耦接于节点N1与地之间，并将电流信号I1与信号S1之加总转换为电压V3。阻抗电路412耦接于放大器430的负输入端与地之间，并将信号S2转换为电压V4。如此，放大器430可根据电压V3与电压V4产生音频信号VO。例如，若图3中的多个位D～D皆为逻辑值0，电流源电路320～320中每一者的开关SW3导通且开关SW4不导通，使得信号S1为0而信号S2为最大值。如此，音频信号VO可具有最低位准。或者，若多个位D～D皆为逻辑值1，电流源电路320～320中每一者的开关SW3不导通且开关SW4导通，使得信号S1为最大值而信号S2为0。如此，音频信号VO可具有最高位准。在一些实施例中，放大器430可包含其他的电阻或电容来进行稳压与/或滤波，或是利用电阻来将产生的电压转换为电流信号。由图4可知，控制电压VC会影响到放大器430的正输入端之共模位准。若控制电压VC在启动过程瞬间上升，会导致放大器430产生具有较高位准的音频信号VO，从而形成不必要的噪音。因此，藉由设置启动电路120，可在启动过程中逐渐地提升启动电压VA，以逐步地调整放大器430的正输入端之共模位准，进而改善上述问题。图5为根据本案一些实施例绘制一种启动方法500的流程图。于一些实施例中，启动方法500可用来启动图1的音频播放装置100。于一些实施例中，启动方法500可由使用音频播放装置100的系统之软件或是控制器执行。在操作S510中，将音频数据的多个位皆设置为第一逻辑值，其中音频数据经由音频播放装置中的输出放大器转换为音频信号。例如，在提供电源给音频播放装置100之后，多任务器130经系统的软件或控制器设定输出启动电压VA为控制电压VC。接着，系统的软件或控制器可进一步将音频数据DIN的多个位D～D皆设置为对应于低位准的逻辑值0。如前所述，在此条件下信号S1会为0而信号S2为最大值，使得音频信号VO可具有最低位准。如此，可抑制音频播放装置100所产生的噪音。在操作S520中，利用音频播放装置中的启动电路在一预设时长内根据参考电压逐渐调整启动电压的位准，并将启动电压输出为控制电压，其中控制电压用于设定输出放大器的共模位准。在操作S530中，在经过预设时长后切换为将该参考电压输出为该控制电压。操作S520与操作S530可参考前述实施例的说明，于此不再重复赘述。藉由操作S520与操作S530，可避免输出放大器140的正输入端上出现明显的电压跳动，进而避免在启动过程中产生明显的噪音。在一些实施例中，在执行完操作S530后，可关闭启动电路120以节省整体功耗。在操作S540中，逐渐地将该多个位中的半数位切换到第二逻辑值。例如，系统中的软件或控制器可逐渐地将音频数据DIN的多个位D～D中的半数位从对应于低位准的逻辑值0切换到对应于高位准的逻辑值1。如此，信号S1可相同于信号S2，从而将输出放大器140的输出共模位准调整到一预定值。于此条件下，可代表音频播放装置100的启动程序结束。于一些实施例中，系统中的软件或控制器可藉由使用数位电路来计时，并在每隔一段期间内将一个位从逻辑值0切换到逻辑值1。上述启动方法500的多个操作仅为示例，并非限定需依照此示例中的顺序执行。在不违背本案的各实施例的操作方式与范围下，在启动方法500下的各种操作当可适当地增加、替换、省略或以不同顺序执行。在一些实施例中，可参考启动方法500的操作来降低音频播放装置100在关闭过程中所产生的噪音。例如，可由反向顺序来执行图5中的多个操作，以抑制音频播放装置100在关闭时所产生的噪音。综上所述，本案一些实施例中的音频播放装置与其启动方法可在开机过程中逐渐地调整内部电压的位准，以避免音频播放中在启动过程时产生噪音。虽然本案之实施例如上所述，然而这些实施例并非用来限定本案，本技术领域具有通常知识者可依据本案之明示或隐含之内容对本案之技术特征施以变化，凡此种种变化均可能属于本案所寻求之专利保护范畴，换言之，本案之专利保护范围须视本说明书之申请专利范围所界定者为准。【符号说明】100：音频播放装置；105：参考电压产生器；110：数位类比转换器；120：启动电路；130：多任务器；140：输出放大器；210：可调时脉产生器；220：非重叠时脉产生器；310：电流调节电路；320～320：电流源电路；410～412：阻抗电路；420：缓冲器；430：放大器；500：启动方法；C1，C2：电容；CK，CKB：时脉信号；CLK：系统时脉信号；D～D：位；DIN：音频数据；I1：电流信号；N1，N2：节点；P1：晶体管；PT1，PT2：周期；S1，S2：信号；S11，S12，S21，S22：信号成分；S510，S520，S530，S540：操作；SS1，SS2：切换信号；SW1～SW4：开关；T1～T3：时间；V1～V4，VB：电压；VA：启动电压；VC：控制电压；VDD：供应电压；VO：音频信号；VREF：参考电压；ΔV：变化量。
