标题title
一种基于OCR的流程快速建模方法及系统
摘要abst
本发明公开了一种基于OCR的流程快速建模方法及系统，先获取待建模流程的流程图集，并根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，获得每个流程图各自对应的第一流程数据；遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据；根据所述第二流程数据，构建待建模流程的第一流程模型。本发明技术方案能够通过OCR识别技术实现流程模型的快速建立，提高流程模型的建立速度和多应用场景的适用性。
权利要求书clms
1.一种基于OCR的流程快速建模方法，其特征在于，包括：获取待建模流程的流程图集，并根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，获得每个流程图各自对应的第一流程数据；其中，第一流程数据是由所述OCR识别模型识别出的字符特征而表征，且每个第一流程数据包括：若干个流程节点、每个流程节点的节点类型以及每个流程节点的流向；遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据；其中，所述第二流程数据中的各个流程节点均不相同；所述加权融合包括节点类型融合和节点流向融合；根据所述第二流程数据，构建待建模流程的第一流程模型。2.根据权利要求1所述的基于OCR的流程快速建模方法，其特征在于，所述根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，具体为：通过所述OCR识别模型，对待识别流程图进行区域划分，获得若干个带文字字符的子区域，并确定每个子区域对应的区域类型和区域流向；对每个子区域的文字字符进行字符切割和字符特征提取，获得每个子区域对应的若干个字符特征；根据每个子区域各自的区域类型、区域流向和所述若干个字符特征，判断各子区域是否为流程节点，并根据确定为流程节点的所有子区域，生成所述第一流程数据。3.根据权利要求2所述的基于OCR的流程快速建模方法，其特征在于，所述遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据，具体为：将各第一流程数据之间的流程节点进行字符特征比对，将比对结果符合预设条件的所有流程节点对作为待融合节点对；对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点；根据融合后的流程节点和未融合的流程节点，生成所述待建模流程的第二流程数据。4.根据权利要求3所述的基于OCR的流程快速建模方法，其特征在于，所述对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点，具体为：判断各待融合节点对之间是否存在相同的流程节点；若存在，则将具有相同流程节点的所有待融合节点对进行节点对间的第一节点类型融合和第一节点流向融合；若不存在，则将不具有相同流程节点的待融合节点对进行节点对内的第二节点类型融合和第二节点流向融合；所述第一节点类型融合为：计算待融合节点对内各流程节点的节点类型出现频次，并将出现频次最高的节点类型作为融合后流程节点的节点类型；所述第一节点流向融合为：根据预设的流向初始权重，对待融合节点对内各流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向；所述第二节点类型融合为：若待融合节点对内流程节点的节点类型相同，则将相同的节点类型作为融合后流程节点的节点类型；若待融合节点对内流程节点的节点类型不相同，则响应用户输入的操作，确定融合后流程节点的节点类型；所述第二节点流向融合为：若待融合节点对内流程节点的流向相同，则将相同的流向作为融合后流程节点的流向；若待融合节点对内流程节点的流向不相同，则根据预设的流向初始权重，对待融合节点对内流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向。5.根据权利要求4所述的基于OCR的流程快速建模方法，其特征在于，所述根据所述第二流程数据，构建待建模流程的第一流程模型，具体为：根据所述第二流程数据中各流程节点的流向，确定各流程节点之间的关系，并根据各流程节点的节点类型，构建待建模流程的第一流程模型；其中，所述第一流程模型中记录了各流程节点在进行融合时的流向权重。6.根据权利要求5所述的基于OCR的流程快速建模方法，其特征在于，在所述构建待建模流程的第一流程模型之后，还包括：获取第三流程图，并根据预设的OCR识别模型，对所述第三流程图进行识别，获得所述第三流程图对应的第三流程数据；其中，所述第三流程图为所述流程图集之外的流程图；依次判断所述第三流程数据中的流程节点是否与所述第一流程模型中的流程节点相同；当相同时，根据第一流程模型记录的流向权重，结合第三流程数据，重新计算相同流程节点的流向权重，并根据第一计算结果，更新所述第一流程模型及记录的流向权重；当不相同时，根据不相同流程节点的节点类型和流向，更新所述第一流程模型。7.根据权利要求5所述的基于OCR的流程快速建模方法，其特征在于，在所述构建待建模流程的第一流程模型之后，还包括：获取第四流程图，并根据预设的OCR识别模型，对所述第四流程图进行识别，获得所述第四流程图对应的第四流程数据；其中，所述第四流程图为所述流程图集内的任一流程图；查询所述第一流程模型，将与所述第四流程数据中流程节点相同的节点作为待调整节点；根据待调整节点在所述第一流程模型记录的流向权重，剔除第四流程数据中各流程节点的流向对流向权重的影响，重新计算待调整节点的流向权重，并根据第二计算结果，更新所述第一流程模型及记录的流向权重。8.一种基于OCR的流程快速建模系统，其特征在于，包括：第一获取模块、加权融合模块和构建模块；其中，所述第一获取模块用于获取待建模流程的流程图集，并根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，获得每个流程图各自对应的第一流程数据；其中，第一流程数据是由所述OCR识别模型识别出的字符特征而表征，且每个第一流程数据包括：若干个流程节点、每个流程节点的节点类型以及每个流程节点的流向；所述加权融合模块用于遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据；其中，所述第二流程数据中的各个流程节点均不相同；所述加权融合包括节点类型融合和节点流向融合；所述构建模块用于根据所述第二流程数据，构建待建模流程的第一流程模型。9.根据权利要求8所述的流程快速建模系统，其特征在于，所述第一获取模块用于根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，具体为：通过所述OCR识别模型，对待识别流程图进行区域划分，获得若干个带文字字符的子区域，并确定每个子区域对应的区域类型和区域流向；对每个子区域的文字字符进行字符切割和字符特征提取，获得每个子区域对应的若干个字符特征；根据每个子区域各自的区域类型、区域流向和所述若干个字符特征，判断各子区域是否为流程节点，并根据确定为流程节点的所有子区域，生成所述第一流程数据；所述加权融合模块用于遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据，具体为：将各第一流程数据之间的流程节点进行字符特征比对，将比对结果符合预设条件的所有流程节点对作为待融合节点对；对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点；根据融合后的流程节点和未融合的流程节点，生成所述待建模流程的第二流程数据；所述加权融合模块用于对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点，具体为：判断各待融合节点对之间是否存在相同的流程节点；若存在，则将具有相同流程节点的所有待融合节点对进行节点对间的第一节点类型融合和第一节点流向融合；若不存在，则将不具有相同流程节点的待融合节点对进行节点对内的第二节点类型融合和第二节点流向融合；所述第一节点类型融合为：计算待融合节点对内各流程节点的节点类型出现频次，并将出现频次最高的节点类型作为融合后流程节点的节点类型；所述第一节点流向融合为：根据预设的流向初始权重，对待融合节点对内各流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向；所述第二节点类型融合为：若待融合节点对内流程节点的节点类型相同，则将相同的节点类型作为融合后流程节点的节点类型；若待融合节点对内流程节点的节点类型不相同，则响应用户输入的操作，确定融合后流程节点的节点类型；所述第二节点流向融合为：若待融合节点对内流程节点的流向相同，则将相同的流向作为融合后流程节点的流向；若待融合节点对内流程节点的流向不相同，则根据预设的流向初始权重，对待融合节点对内流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向；所述构建模块用于根据所述第二流程数据，构建待建模流程的第一流程模型，具体为：根据所述第二流程数据中各流程节点的流向，确定各流程节点之间的关系，并根据各流程节点的节点类型，构建待建模流程的第一流程模型；其中，所述第一流程模型中记录了各流程节点在进行融合时的流向权重。10.根据权利要求9所述的基于OCR的流程快速建模系统，其特征在于，还包括：增图更新模块和删图更新模块；所述增图更新模块用于获取第三流程图，并根据预设的OCR识别模型，对所述第三流程图进行识别，获得所述第三流程图对应的第三流程数据；其中，所述第三流程图为所述流程图集之外的流程图；依次判断所述第三流程数据中的流程节点是否与所述第一流程模型中的流程节点相同；当相同时，根据第一流程模型记录的流向权重，结合第三流程数据，重新计算相同流程节点的流向权重，并根据第一计算结果，更新所述第一流程模型及记录的流向权重；当不相同时，根据不相同流程节点的节点类型和流向，更新所述第一流程模型；所述删图更新模块用于获取第四流程图，并根据预设的OCR识别模型，对所述第四流程图进行识别，获得所述第四流程图对应的第四流程数据；其中，所述第四流程图为所述流程图集内的任一流程图；查询所述第一流程模型，将与所述第四流程数据中流程节点相同的节点作为待调整节点；根据待调整节点在所述第一流程模型记录的流向权重，剔除第四流程数据中各流程节点的流向对流向权重的影响，重新计算待调整节点的流向权重，并根据第二计算结果，更新所述第一流程模型及记录的流向权重。
说明书desc
技术领域本发明涉及计算机技术领域，尤其涉及一种基于OCR的流程快速建模方法及系统。背景技术OCR，中文叫做光学字符识别，是指电子设备检查纸上打印的字符，通过检测暗、亮的模式确定其形状，然后用字符识别方法将形状翻译成计算机文字的过程。即对文本资料进行扫描，然后对图像文件进行分析处理，获取文字及版面信息的过程。随着科技的发展，越来越多的应用场景都需要OCR的技术支持，以识别证件印刷体中的文本信息。而在不同的业务场景中，存在大量的流程图，在需要建立流程模型时，一般都是根据业务流程中每个流程的定义进行建模，使得流程模型的准确率过渡依赖于流程定义文件，一方面降低流程模块的建立速度，另一方面若流程定义文件不准确，生成的流程模型的准确率也会受到影响。另外，业务场景的多变与某个流程的重新定义，导致已建立的流程模型无法继续使用，现有技术也没有使用OCR技术解决流程模型建立的方案。因此，亟需一种对业务流程进行快速建模的解决方案。发明内容本发明实施例提供一种基于OCR的流程快速建模方法及系统，通过OCR识别技术实现流程模型的快速建立，提高流程模型的建立速度和多应用场景的适用性。第一方面，本发明实施例提供了一种基于OCR的流程快速建模方法，包括：获取待建模流程的流程图集，并根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，获得每个流程图各自对应的第一流程数据；其中，第一流程数据是由所述OCR识别模型识别出的字符特征而表征，且每个第一流程数据包括：若干个流程节点、每个流程节点的节点类型以及每个流程节点的流向；遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据；其中，所述第二流程数据中的各个流程节点均不相同；所述加权融合包括节点类型融合和节点流向融合；根据所述第二流程数据，构建待建模流程的第一流程模型。本发明实施例通过OCR识别模型对流程图集中各流程图进行识别，并通过字符特征表征各流程节点，然后对各个流程图中的流程节点进行加权融合，生成第二流程数据，最后根据第二流程数据，构建第一流程模型。相比于现有技术需要依赖流程定义文件，本发明实施例只需根据已有的流程图即可识别流程文件的快速建立，并通过字符特征对流程节点进行识别和融合，无需对流程进行文字定义，一方面降低文字识别的所需的大量训练时间，提高建模速度，另一方面提高了模型建立方法的适用性，不受应用场景所限，符合大数据时代的用户需求。作为本实施例的优选，所述根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，具体为：通过所述OCR识别模型，对待识别流程图进行区域划分，获得若干个带文字字符的子区域，并确定每个子区域对应的区域类型和区域流向；对每个子区域的文字字符进行字符切割和字符特征提取，获得每个子区域对应的若干个字符特征；根据每个子区域各自的区域类型、区域流向和所述若干个字符特征，判断各子区域是否为流程节点，并根据确定为流程节点的所有子区域，生成所述第一流程数据。本优选例子通过预设OCR识别模型对流程图进行区域划分、字符切割和字符特征提取，并以此生成第一流程数据，而且第一流程数据通过字符特征而表征流程节点，能够简化后续的计算，进一步提高模型建立速度。作为本实施例的优选，所述遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据，具体为：将各第一流程数据之间的流程节点进行字符特征比对，将比对结果符合预设条件的所有流程节点对作为待融合节点对；对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点；根据融合后的流程节点和未融合的流程节点，生成所述待建模流程的第二流程数据。本优选例子通过字符特征比对实现各第一流程数据之间流程节点的识别，无需从流程的定义进行比对，进一步提高模型建立的速度和效率。作为本实施例的优选，所述对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点，具体为：判断各待融合节点对之间是否存在相同的流程节点；若存在，则将具有相同流程节点的所有待融合节点对进行节点对间的第一节点类型融合和第一节点流向融合；若不存在，则将不具有相同流程节点的待融合节点对进行节点对内的第二节点类型融合和第二节点流向融合；所述第一节点类型融合为：计算待融合节点对内各流程节点的节点类型出现频次，并将出现频次最高的节点类型作为融合后流程节点的节点类型；所述第一节点流向融合为：根据预设的流向初始权重，对待融合节点对内各流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向；所述第二节点类型融合为：若待融合节点对内流程节点的节点类型相同，则将相同的节点类型作为融合后流程节点的节点类型；若待融合节点对内流程节点的节点类型不相同，则响应用户输入的操作，确定融合后流程节点的节点类型；所述第二节点流向融合为：若待融合节点对内流程节点的流向相同，则将相同的流向作为融合后流程节点的流向；若待融合节点对内流程节点的流向不相同，则根据预设的流向初始权重，对待融合节点对内流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向。本优选例子，在进行节点类型融合和节点流向融合时，通过节点对内和节点对间的区分，采用不同的融合方法，提高模型建立的准确性。另外，在进行节点流向融合时，根据预设的流向初始权重进行融合，能够使建立的流程模型更符合用户的需求，进一步提高本发明对各个应用场景的适用性。作为本实施例的优选，所述根据所述第二流程数据，构建待建模流程的第一流程模型，具体为：根据所述第二流程数据中各流程节点的流向，确定各流程节点之间的关系，并根据各流程节点的节点类型，构建待建模流程的第一流程模型；其中，所述第一流程模型中记录了各流程节点在进行融合时的流向权重。作为本实施例的优选，在所述构建待建模流程的第一流程模型之后，还包括：获取第三流程图，并根据预设的OCR识别模型，对所述第三流程图进行识别，获得所述第三流程图对应的第三流程数据；其中，所述第三流程图为所述流程图集之外的流程图；依次判断所述第三流程数据中的流程节点是否与所述第一流程模型中的流程节点相同；当相同时，根据第一流程模型记录的流向权重，结合第三流程数据，重新计算相同流程节点的流向权重，并根据第一计算结果，更新所述第一流程模型及记录的流向权重；当不相同时，根据不相同流程节点的节点类型和流向，更新所述第一流程模型。本优选例子，在已建立的第一流程模型需要新增加流程图时，只需根据流向权重即可实现流程模型的更新，无需重新建立模型，进一步提高模型建立的速度和适用性。作为本实施例的优选，在所述构建待建模流程的第一流程模型之后，还包括：获取第四流程图，并根据预设的OCR识别模型，对所述第四流程图进行识别，获得所述第四流程图对应的第四流程数据；其中，所述第四流程图为所述流程图集内的任一流程图；查询所述第一流程模型，将与所述第四流程数据中流程节点相同的节点作为待调整节点；根据待调整节点在所述第一流程模型记录的流向权重，剔除第四流程数据中各流程节点的流向对流向权重的影响，重新计算待调整节点的流向权重，并根据第二计算结果，更新所述第一流程模型及记录的流向权重。本优选例子，在已建立的第一流程模型需要删除已有流程图时，只需根据流向权重即可实现流程模型的更新，无需重新建立模型，进一步提高模型建立的速度和适用性。第二方面，本发明实施例提供了一种基于OCR的流程快速建模系统，包括：第一获取模块、加权融合模块和构建模块；其中，所述第一获取模块用于获取待建模流程的流程图集，并根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，获得每个流程图各自对应的第一流程数据；其中，第一流程数据是由所述OCR识别模型识别出的字符特征而表征，且每个第一流程数据包括：若干个流程节点、每个流程节点的节点类型以及每个流程节点的流向；所述加权融合模块用于遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据；其中，所述第二流程数据中的各个流程节点均不相同；所述加权融合包括节点类型融合和节点流向融合；所述构建模块用于根据所述第二流程数据，构建待建模流程的第一流程模型。作为本实施例的优选，所述第一获取模块用于根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，具体为：通过所述OCR识别模型，对待识别流程图进行区域划分，获得若干个带文字字符的子区域，并确定每个子区域对应的区域类型和区域流向；对每个子区域的文字字符进行字符切割和字符特征提取，获得每个子区域对应的若干个字符特征；根据每个子区域各自的区域类型、区域流向和所述若干个字符特征，判断各子区域是否为流程节点，并根据确定为流程节点的所有子区域，生成所述第一流程数据；所述加权融合模块用于遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据，具体为：将各第一流程数据之间的流程节点进行字符特征比对，将比对结果符合预设条件的所有流程节点对作为待融合节点对；对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点；根据融合后的流程节点和未融合的流程节点，生成所述待建模流程的第二流程数据；所述加权融合模块用于对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点，具体为：判断各待融合节点对之间是否存在相同的流程节点；若存在，则将具有相同流程节点的所有待融合节点对进行节点对间的第一节点类型融合和第一节点流向融合；若不存在，则将不具有相同流程节点的待融合节点对进行节点对内的第二节点类型融合和第二节点流向融合；所述第一节点类型融合为：计算待融合节点对内各流程节点的节点类型出现频次，并将出现频次最高的节点类型作为融合后流程节点的节点类型；所述第一节点流向融合为：根据预设的流向初始权重，对待融合节点对内各流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向；所述第二节点类型融合为：若待融合节点对内流程节点的节点类型相同，则将相同的节点类型作为融合后流程节点的节点类型；若待融合节点对内流程节点的节点类型不相同，则响应用户输入的操作，确定融合后流程节点的节点类型；所述第二节点流向融合为：若待融合节点对内流程节点的流向相同，则将相同的流向作为融合后流程节点的流向；若待融合节点对内流程节点的流向不相同，则根据预设的流向初始权重，对待融合节点对内流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向；所述构建模块用于根据所述第二流程数据，构建待建模流程的第一流程模型，具体为：根据所述第二流程数据中各流程节点的流向，确定各流程节点之间的关系，并根据各流程节点的节点类型，构建待建模流程的第一流程模型；其中，所述第一流程模型中记录了各流程节点在进行融合时的流向权重。作为本实施例的优选，系统还包括：增图更新模块和删图更新模块；所述增图更新模块用于获取第三流程图，并根据预设的OCR识别模型，对所述第三流程图进行识别，获得所述第三流程图对应的第三流程数据；其中，所述第三流程图为所述流程图集之外的流程图；依次判断所述第三流程数据中的流程节点是否与所述第一流程模型中的流程节点相同；当相同时，根据第一流程模型记录的流向权重，结合第三流程数据，重新计算相同流程节点的流向权重，并根据第一计算结果，更新所述第一流程模型及记录的流向权重；当不相同时，根据不相同流程节点的节点类型和流向，更新所述第一流程模型；所述删图更新模块用于获取第四流程图，并根据预设的OCR识别模型，对所述第四流程图进行识别，获得所述第四流程图对应的第四流程数据；其中，所述第四流程图为所述流程图集内的任一流程图；查询所述第一流程模型，将与所述第四流程数据中流程节点相同的节点作为待调整节点；根据待调整节点在所述第一流程模型记录的流向权重，剔除第四流程数据中各流程节点的流向对流向权重的影响，重新计算待调整节点的流向权重，并根据第二计算结果，更新所述第一流程模型及记录的流向权重。附图说明图1是本发明提供的基于OCR的流程快速建模方法的一种实施例的流程示意图；图2是本发明提供的基于OCR的流程快速建模方法的另一种实施例的流程示意图；图3是本发明提供的基于OCR的流程快速建模系统的一种实施例的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。参见图1，图1是本发明提供的基于OCR的流程快速建模方法的一种实施例的流程示意图。本发明的建模方法适用于服务器、移动设备或者由两者组成的通信系统。图1为以服务器为执行主体的例子，如图1所示，各步骤具体如下：步骤101：获取待建模流程的流程图集，并根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，获得每个流程图各自对应的第一流程数据；其中，第一流程数据是由所述OCR识别模型识别出的字符特征而表征，且每个第一流程数据包括：若干个流程节点、每个流程节点的节点类型以及每个流程节点的流向。在本实施例中，服务器获取待建模流程的流程图集，流程图集中为某个应用场景下的一个或多个流程图，无需对流程图中的流程步骤进行流程定义。服务器通过预设的OCR识别模型，对流程图集中的每个流程图进行识别，获得每个流程图各自对应的第一流程数据，具体为：通过所述OCR识别模型，对待识别流程图进行区域划分，获得若干个带文字字符的子区域，并确定每个子区域对应的区域类型和区域流向；对每个子区域的文字字符进行字符切割和字符特征提取，获得每个子区域对应的若干个字符特征；根据每个子区域各自的区域类型、区域流向和所述若干个字符特征，判断各子区域是否为流程节点，并根据确定为流程节点的所有子区域，生成所述第一流程数据。在本实施例中，OCR识别模型为现有技术，在此不再赘述。本步骤通过OCR识别模型能够对流程图进行区域划分，划分为带文字字符的子区域和不带文字字符的区域。在确定子区域后，通过流程图中的边缘结构或框图形状，确定子区域的类型，如矩形为陈述类型、菱形为判断类型等。OCR识别模型通过子区域与子区域之间的带箭头连接线，确定子区域的区域流向，如循环流向、返回流向、跳转流向等。最后根据每个子区域各自的区域类型、区域流向和所述若干个字符特征，判断各子区域是否为流程节点，如果子区域均存在上述三个数据，则该子区域确定为流程节点，否则，该子区域确定为非流程节点。根据确定为流程节点的所有子区域，生成第一流程数据。在本实施例中，流向为任意流程节点跳转到另一流程节点的指向，可以对流程节点进行标记或标识，然后通过向量、指向或映射关系等手段表明节点流向。在本实施例中，第一流程数据中的流程节点并非以流程的名称或执行内容进行表征，而是用字符特征进行表征，节省了字符识别的训练时间以及避免因OCR识别模型的精度问题导致识别准确率降低的问题。此外，本发明以字符特征进行表征也为了提高后续建模的速率，能够减少字符特征转换为文字时所需处理数据的数据量。步骤102：遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据；其中，所述第二流程数据中的各个流程节点均不相同；所述加权融合包括节点类型融合和节点流向融合。在本实施例中，步骤102具体为：将各第一流程数据之间的流程节点进行字符特征比对，将比对结果符合预设条件的所有流程节点对作为待融合节点对；对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点；根据融合后的流程节点和未融合的流程节点，生成所述待建模流程的第二流程数据。在本实施例中，将步骤101中的字符特征进行比对，比对时先将各个流程图进行两两比对，可以通过计算各字符特征之间的相似度或者计算整体的相似度，当相似度满足预设阈值时，确定符合预设条件。相似度的计算方法以及字符特征之间的比对为现有技术，在此不再赘述。预设条件也可以根据不同的比对方法进行适应性的调整。在本实施例中，筛选出所有待融合节点，并对其进行节点类型融合和节点流向融合，最后将融合后和未融合的流程节点结合，生成第二流程数据。第二流程数据包括若干个将融合后和若干个未融合的流程节点、每个流程节点的节点类型以及每个流程节点的流向。第二流程数据中的各个流程节点均不相同，以保证流程节点的唯一性。作为本实施例的一种举例，对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点，具体为：判断各待融合节点对之间是否存在相同的流程节点；若存在，则将具有相同流程节点的所有待融合节点对进行节点对间的第一节点类型融合和第一节点流向融合；若不存在，则将不具有相同流程节点的待融合节点对进行节点对内的第二节点类型融合和第二节点流向融合。在本举例中，由于待融合节点对是各个流程图之间比对而获得的，在进行融合前需要对待融合节点对进行二次识别，判断待融合节点对之间是否存在相同的流程节点，以此实现节点对间和节点对内的融合，而采用不同的融合方法，能够提高模型建立的准确性。其中，二次识别的方法可以但不限于与上述比对方法相同。在本举例中，第一节点类型融合为：计算待融合节点对内各流程节点的节点类型出现频次，并将出现频次最高的节点类型作为融合后流程节点的节点类型。第一节点流向融合为：根据预设的流向初始权重，对待融合节点对内各流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向。在本举例中，节点对间的流向融合是根据流向初始权重进行计算的，流向初始权重由用户输入或自定义。由于同一个流程步骤可能会流向不同的下级步骤，从而使得整个流程的流程终点发生差异，本发明通过流向初始权重的设置解决流向融合问题。如用户偏向于在以某个流程为流程终点时，会将所有流向该流程终点的流向初始权重提高，流向其他分支终点的流向初始权重降低。同时由于流程图存在多级流向，可根据流程终点设置上级、上上级流向等，通过分级机制自动设置各级的流向初始权重，无需用户进行全部设置。本举例中的权重为导向作用使得后续流程模型的建立更加符合用户需求，不同于现有建模技术中依赖于建模规则的优化，使得本发明的流程模型具有更多的灵活性和适应性。在本举例中，除了同一流程节点会产生不同流向外，由于数据来源的错误导致流程节点流向错误时，采用本发明的方法时，由于错误流向的权重较低，因此会被剔除掉，从而提高流程模型建立的准确性。在本举例中，第二节点类型融合为：若待融合节点对内流程节点的节点类型相同，则将相同的节点类型作为融合后流程节点的节点类型；若待融合节点对内流程节点的节点类型不相同，则响应用户输入的操作，确定融合后流程节点的节点类型。第二节点流向融合为：若待融合节点对内流程节点的流向相同，则将相同的流向作为融合后流程节点的流向；若待融合节点对内流程节点的流向不相同，则根据预设的流向初始权重，对待融合节点对内流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向。在本举例中，节点对内的融合时，若两个节点的节点类型不一样，可以响应用户输入的选择操作，确定融合后流程节点的节点类型，也可以查询后台数据库，根据数据库记录的该流程节点对应节点类型，确定融合后流程节点的节点类型。步骤103：根据所述第二流程数据，构建待建模流程的第一流程模型。在本实施例中，步骤103具体为：根据所述第二流程数据中各流程节点的流向，确定各流程节点之间的关系，并根据各流程节点的节点类型，构建待建模流程的第一流程模型；其中，所述第一流程模型中记录了各流程节点在进行融合时的流向权重。在本实施例中，在获得流程节点、各节点对应的节点类型以及各节点对应的流向后，以此构建第一流程模型为现有技术，在此不再赘述。而本实施例构建出的第一流程模型与现有流程模型的区别在于，第一流程模型还会记录在步骤102中各流程节点进行融合时所计算得出的流向权重，便于后续的模型更新。作为本实施例的一种举例，在步骤103之后还包括：获取第三流程图，并根据预设的OCR识别模型，对所述第三流程图进行识别，获得所述第三流程图对应的第三流程数据；其中，所述第三流程图为所述流程图集之外的流程图；依次判断所述第三流程数据中的流程节点是否与所述第一流程模型中的流程节点相同；当相同时，根据第一流程模型记录的流向权重，结合第三流程数据，重新计算相同流程节点的流向权重，并根据第一计算结果，更新所述第一流程模型及记录的流向权重；当不相同时，根据不相同流程节点的节点类型和流向，更新所述第一流程模型。在本举例中，在得到第一流程模型后，若用户需要在原来流程图集中增加新的流程图或修改原来的流程图，则可以通过本举例的方法实现模型的快速更新。更新时，先对新增加的流程图进行OCR识别，获得相应的第三流程数据，由于是新增加的流程图，因此第三流程图为原来的流程图集之外的流程图。第三流程数据同样包含若干个流程节点、节点类型和流向。这时，通过字符特征的比对查找相同的流程节点，再对相同的流程节点进行流向权重计算。由于第一流程模型记录了在建模时的权重，因此在计算时只需在原来数据的基础上增加第三流程数据对应的流向及流向初始权重，即可计算得到第一计算结果。若第一计算结果中的最大流向权重所对应的流向仍为原来的流向，则不更新该流程节点在第一流程模型中的流向，若第一计算结果中的最大流向权重所对应的流向发生改变，则以最大流向权重所对应的流向，更新该流程节点在第一流程模型中的流向。在本举例中，新增加流程图必然与已建立的第一流程模型存在一定的联系，因此对相同流程节点进行加权融合处理，对于不相同的流程节点，则根据各节点的流向在原来第一流程模型上新增相应的流程分支，以此更新第一流程模型。此外，在另一个举例中也可以只对相同的流程节点进行处理，对不同的流程节点不进行处理。若均查询不到相同的流程节点，则说明新增加的图与已建立的第一流程模型存在较大差异，可重新建立流程模型，以提高适用性和准确性。本举例在已建立的第一流程模型需要新增加流程图时，只需根据流向权重即可实现流程模型的更新，无需重新建立模型，进一步提高模型建立的速度和适用性。作为本实施例的一种举例，在步骤103之后还包括：获取第四流程图，并根据预设的OCR识别模型，对所述第四流程图进行识别，获得所述第四流程图对应的第四流程数据；其中，所述第四流程图为所述流程图集内的任一流程图；查询所述第一流程模型，将与所述第四流程数据中流程节点相同的节点作为待调整节点；根据待调整节点在所述第一流程模型记录的流向权重，剔除第四流程数据中各流程节点的流向对流向权重的影响，重新计算待调整节点的流向权重，并根据第二计算结果，更新所述第一流程模型及记录的流向权重。在本举例中，若要删除流程图集中的流程图，根据同样的方法获得待删流程图对应的第四流程数据，并将其与第一流程模型中的流程节点进行比对，找出相同的流程节点作为待调整节点，重新计算待调整节点的流向权重。计算时，若第一流程模型没有记录该流程节点流向权重，说明该流程为未融合流程，则直接删除该流程节点，以更新第一流程模型；若第一流程模型记录该流程节点的流向权重，则只需剔除该流程图对应的流向权重后，进行重新融合和重新计算，即可得到该流程节点的第二计算结果。若第二计算结果中的最大流向权重所对应的流向仍为原来的流向，则不更新该流程节点在第一流程模型中的流向，若第二计算结果中的最大流向权重所对应的流向发生改变，则以最大流向权重所对应的流向，更新该流程节点在第一流程模型中的流向。本举例在已建立的第一流程模型需要删除已有流程图时，只需根据流向权重即可实现流程模型的更新，无需重新建立模型，进一步提高模型建立的速度和适用性。参见图2，图2为本发明提供的基于OCR的流程快速建模方法的另一种实施例的流程示意图，该方法适用于由移动设备和服务器所组成的通信系统。如图2所示，各步骤具体如下：步骤201：移动设备获取待建模流程的流程图集，并根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，获得每个流程图各自对应的第一流程数据；其中，第一流程数据是由所述OCR识别模型识别出的字符特征而表征，且每个第一流程数据包括：若干个流程节点、每个流程节点的节点类型以及每个流程节点的流向。在本举例中，移动设备可以但不限于通过拍摄、录入、创建待建模流程的流程图集，并通过客户端进行OCR识别，完成前期数据的采集与录入。步骤202：移动设备将每个流程图各自对应的第一流程数据发送给服务器。步骤203：服务器遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据；其中，所述第二流程数据中的各个流程节点均不相同；所述加权融合包括节点类型融合和节点流向融合。步骤204：服务器根据所述第二流程数据，构建待建模流程的第一流程模型。步骤205：服务器将第一流程模型发送给移动设备，以供移动设备运行第一流程模型。在本举例中，移动设备还可以采集新增加的第三流程图或响应用户的删除操作，删除流程图集中的某个流程图，以此生成相应的第三流程数据和第四流程数据，并将其发送给服务器，以使服务器执行如上文所述的举例流程。服务器还可以将更新后的第一流程模型发送给客户端，以供移动设备运行更新后的第一流程模型。采用本举例的技术方案，移动设备将作为前端采集设备，并将运算量大的建模工作放到后台服务器执行，不仅提高了流程模型的建立速度，而且更加符合现有的应用场景。此外，本举例解决了现有移动设备因为算力问题无法执行流程模型的技术问题，并通过移动设备与服务器的实时交互，实现流程模型建立及应用，并在应用过程中，通过移动设备的新增图或删除图操作对流程模型进行实时更新，进一步提高流程模型的适用性，更满足不同应用场景的需求。相应地，参见图3，图3是本发明提供的基于OCR的流程快速建模系统的一种实施例的结构示意图。该系统适用于服务器上，如图3所示，该系统包括：第一获取模块301、加权融合模块302和构建模块303。其中，第一获取模块301用于获取待建模流程的流程图集，并根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，获得每个流程图各自对应的第一流程数据；其中，第一流程数据是由所述OCR识别模型识别出的字符特征而表征，且每个第一流程数据包括：若干个流程节点、每个流程节点的节点类型以及每个流程节点的流向。加权融合模块302用于遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据；其中，所述第二流程数据中的各个流程节点均不相同；所述加权融合包括节点类型融合和节点流向融合。构建模块303用于根据所述第二流程数据，构建待建模流程的第一流程模型。在本实施例中，第一获取模块301用于根据预设的OCR识别模型，对所述流程图集中的每个流程图进行识别，具体为：通过所述OCR识别模型，对待识别流程图进行区域划分，获得若干个带文字字符的子区域，并确定每个子区域对应的区域类型和区域流向；对每个子区域的文字字符进行字符切割和字符特征提取，获得每个子区域对应的若干个字符特征；根据每个子区域各自的区域类型、区域流向和所述若干个字符特征，判断各子区域是否为流程节点，并根据确定为流程节点的所有子区域，生成所述第一流程数据；加权融合模块302用于遍历所有第一流程数据，将流程节点相同的流程数据进行加权融合，生成所述待建模流程的第二流程数据，具体为：将各第一流程数据之间的流程节点进行字符特征比对，将比对结果符合预设条件的所有流程节点对作为待融合节点对；对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点；根据融合后的流程节点和未融合的流程节点，生成所述待建模流程的第二流程数据；加权融合模块302用于对每个待融合节点对进行节点类型融合和节点流向融合，生成若干个融合后的流程节点，具体为：判断各待融合节点对之间是否存在相同的流程节点；若存在，则将具有相同流程节点的所有待融合节点对进行节点对间的第一节点类型融合和第一节点流向融合；若不存在，则将不具有相同流程节点的待融合节点对进行节点对内的第二节点类型融合和第二节点流向融合；所述第一节点类型融合为：计算待融合节点对内各流程节点的节点类型出现频次，并将出现频次最高的节点类型作为融合后流程节点的节点类型；所述第一节点流向融合为：根据预设的流向初始权重，对待融合节点对内各流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向；所述第二节点类型融合为：若待融合节点对内流程节点的节点类型相同，则将相同的节点类型作为融合后流程节点的节点类型；若待融合节点对内流程节点的节点类型不相同，则响应用户输入的操作，确定融合后流程节点的节点类型；所述第二节点流向融合为：若待融合节点对内流程节点的流向相同，则将相同的流向作为融合后流程节点的流向；若待融合节点对内流程节点的流向不相同，则根据预设的流向初始权重，对待融合节点对内流程节点的流向进行权重计算，将权重最高的流向作为融合后流程节点的流向；构建模块303用于根据所述第二流程数据，构建待建模流程的第一流程模型，具体为：根据所述第二流程数据中各流程节点的流向，确定各流程节点之间的关系，并根据各流程节点的节点类型，构建待建模流程的第一流程模型；其中，所述第一流程模型中记录了各流程节点在进行融合时的流向权重。作为本实施例的一种举例，基于OCR的流程快速建模系统还包括：增图更新模块和删图更新模块；所述增图更新模块用于获取第三流程图，并根据预设的OCR识别模型，对所述第三流程图进行识别，获得所述第三流程图对应的第三流程数据；其中，所述第三流程图为所述流程图集之外的流程图；依次判断所述第三流程数据中的流程节点是否与所述第一流程模型中的流程节点相同；当相同时，根据第一流程模型记录的流向权重，结合第三流程数据，重新计算相同流程节点的流向权重，并根据第一计算结果，更新所述第一流程模型及记录的流向权重；当不相同时，根据不相同流程节点的节点类型和流向，更新所述第一流程模型；所述删图更新模块用于获取第四流程图，并根据预设的OCR识别模型，对所述第四流程图进行识别，获得所述第四流程图对应的第四流程数据；其中，所述第四流程图为所述流程图集内的任一流程图；查询所述第一流程模型，将与所述第四流程数据中流程节点相同的节点作为待调整节点；根据待调整节点在所述第一流程模型记录的流向权重，剔除第四流程数据中各流程节点的流向对流向权重的影响，重新计算待调整节点的流向权重，并根据第二计算结果，更新所述第一流程模型及记录的流向权重。本系统更详细的工作原理与步骤流程可以但不限于参见上文的相关记载。作为本实施例的另一种举例，该系统还可以适用于移动设备或者由两者组成的通信系统，以由两者组成的通信系统为例。该系统可以包括移动设备和服务器组成，移动设备执行步骤201至步骤202，服务器执行步骤203至步骤205，更详细的工作原理与步骤流程可以但不限于参见上文的相关记载。由上可见，本发明实施例公开了一种基于OCR的流程快速建模方法及系统，通过OCR识别技术实现流程模型的快速建立，提高流程模型的建立速度和多应用场景的适用性。需说明的是，以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，本发明提供的装置实施例附图中，模块之间的连接关系表示它们之间具有通信连接，具体可以实现为一条或多条通信总线或信号线。本领域普通技术人员在不付出创造性劳动的情况下，即可以理解并实施。以上所述是本发明的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也视为本发明的保护范围。
