标题title
基于实时控制性能评估的闭环阶跃测试方法和测试装置
摘要abst
本发明涉及一种基于实时控制性能评估的闭环阶跃测试方法和测试装置，该闭环阶跃测试方法包括：基于数据经验的控制性能实时评估方法对目标控制系统进行性能评估，得到目标控制系统的当前性能评估值；其中，目标控制系统包括PID控制系统和APC控制系统；在确定当前性能评估值小于等于预设性能值的情况下，生成阶跃测试信号；其中，预设性能值是根据目标控制系统的历史基准性能值和第一预设系数进行确定的；利用阶跃测试信号，对目标控制系统进行阶跃测试。借助于上述技术方案，本申请实施例使得闭环测试技术方案完全自动化，实用性更强，应用范围也更广。
权利要求书clms
1.一种基于实时控制性能评估的闭环阶跃测试方法，其特征在于，包括：基于数据经验的控制性能实时评估方法对目标控制系统进行性能评估，得到所述目标控制系统的当前性能评估值；其中，所述目标控制系统包括PID控制系统和APC控制系统；在确定当前性能评估值小于等于预设性能值的情况下，生成阶跃测试信号；其中，所述预设性能值是根据所述目标控制系统的历史基准性能值和第一预设系数进行确定的；利用所述阶跃测试信号，对所述目标控制系统进行阶跃测试。2.根据权利要求1所述的闭环阶跃测试方法，其特征在于，所述生成阶跃测试信号，包括：分别确定所述阶跃测试信号的幅值、信号类型和激励持续时间；其中，所述信号类型包括GBN信号和自定义阶跃信号；根据所述阶跃测试信号的幅值、信号类型和激励持续时间，生成所述阶跃测试信号。3.根据权利要求2所述的闭环阶跃测试方法，其特征在于，所述目标控制系统为所述PID控制系统，确定所述阶跃测试信号的幅值，包括：获取预设历史时间段内的所述目标控制系统的操纵变量；计算所述预设历史时间段内的操纵变量的平均值和标准差；将第二预设系数、所述平均值和所述标准差中的最大值确定为所述阶跃测试信号的幅值。4.根据权利要求2所述的闭环阶跃测试方法，其特征在于，所述目标控制系统为所述APC控制系统，以及所述目标控制系统的控制器设置有被控变量安全测试区间，并且所述被控变量安全测试区间处于被控变量操作上下限区间内，确定所述阶跃测试信号的幅值，包括：获取所述目标控制系统的当前被控变量的测量值和所述被控变量安全测试区间的上下限值；利用所述目标控制系统的当前被控变量的测量值和所述被控变量安全测试区间的上下限值，确定所述阶跃测试信号的幅值。5.根据权利要求2所述的闭环阶跃测试方法，其特征在于，确定所述阶跃测试信号的激励持续时间，包括：在所述目标控制系统的输入信号的数目小于等于预设数目并且所述目标控制系统的信噪比小于等于预设信噪比的情况下，所述阶跃测试信号的持续时长为5到8倍的过程响应时间；其中，所述过程响应时间表示被所述目标控制系统控制的对象由初始状态进入到稳定工作状态的时间；以及，在所述目标控制系统的输入信号的数目大于等于所述预设数目并且所述目标控制系统的信噪比大于所述预设信噪比的情况下，所述阶跃测试信号的持续时长为8到18倍的过程响应时间。6.根据权利要求5所述的闭环阶跃测试方法，其特征在于，所述信号类型为所述GBN信号，所述GBN信号的平均转换时间为1/3倍的98%过程响应时间，并且所述GBN信号的最短阶跃时长为0.3倍的过程响应时间。7.根据权利要求4所述的闭环阶跃测试方法，其特征在于，目标控制系统包括预测模型，所述利用所述阶跃测试信号，对所述目标控制系统进行阶跃测试，包括：获取所述预测模型的增益、所述阶跃测试信号在当前时刻的幅值和所述目标控制系统的被控变量的开环稳态值；计算所述预测模型的增益和所述阶跃测试信号在当前时刻的幅值的乘积值，并计算所述乘积值和所述目标控制系统的被控变量的开环稳态值的和值；在确定所述和值超过所述被控变量安全测试区间的上下限的情况下，则将下一时刻的阶跃测试信号的幅值减小一半。8.根据权利要求4所述的闭环阶跃测试方法，其特征在于，所述利用所述阶跃测试信号，对所述目标控制系统进行阶跃测试，包括：获取所述目标控制系统在当前时刻的被控变量；在确定所述目标控制系统在当前时刻的被控变量超过所述被控变量安全测试区间的上下限的情况下，则将下一时刻的阶跃测试信号的方向变为与所述当前时刻的阶跃测试信号的方向相反的方向。9.根据权利要求4所述的闭环阶跃测试方法，其特征在于，所述利用所述阶跃测试信号，对所述目标控制系统进行阶跃测试，包括：获取所述目标控制系统在当前时刻的被控变量；在确定所述目标控制系统在当前时刻的被控变量超过所述被控变量安全测试区间的上下限的情况下，则停止阶跃测试，以使所述目标控制系统将所述被控变量拉回所述被控变量安全测试区间内。10.一种测试装置，其上存储有计算机程序，其特征在于，所述计算机程序被处理器运行时执行如权利要求1至9任一所述的基于实时控制性能评估的闭环阶跃测试方法。
说明书desc
技术领域本发明涉及流程工业PID及APC控制中的系统辨识领域，尤其涉及一种基于实时控制性能评估的闭环阶跃测试方法和测试装置。背景技术比例积分微分控制器或者先进过程控制器成功投用并调优后，在运行初期，控制器运行状态处在较为良好且稳定的状态，并能产生较大效益。然而，由于装置工艺改进、阀门磨损和物料性质改变等原因，控制器的模型渐渐失配，未测量到的扰动增加，控制器性能会逐渐下降。例如，对于目标操纵变量/被控变量对来说，在APC优化控制中，其曲线产生明显震荡，这就是由于模型已经逐渐不适应新工况产生的结果，造成效益下降。针对此现象，目前通常做法是在一段时间后重新进行阶跃测试。但是，上述方案有明显的缺点，即测试时间长、操作频次高、工作量大，并且由于性能降级时间长，经济效益损失也是巨大的。发明内容要解决的技术问题鉴于现有技术的上述缺点、不足，本发明提供一种基于实时控制性能评估的闭环阶跃测试方法和测试装置，其解决了现有技术中存在着的测试时间长、操作频次高和工作量大等技术问题。技术方案为了达到上述目的，本发明采用的主要技术方案包括：第一方面，本发明实施例提供一种基于实时控制性能评估的闭环阶跃测试方法，该闭环阶跃测试方法包括：基于数据经验的控制性能实时评估方法对目标控制系统进行性能评估，得到目标控制系统的当前性能评估值；其中，目标控制系统包括PID控制系统和APC控制系统；在确定当前性能评估值小于等于预设性能值的情况下，生成阶跃测试信号；其中，预设性能值是根据目标控制系统的历史基准性能值和第一预设系数进行确定的；利用阶跃测试信号，对目标控制系统进行阶跃测试。在一个可能的实施例中，生成阶跃测试信号，包括：分别确定阶跃测试信号的幅值、信号类型和激励持续时间；其中，信号类型包括GBN信号和自定义阶跃信号；根据阶跃测试信号的幅值、信号类型和激励持续时间，生成阶跃测试信号。在一个可能的实施例中，目标控制系统为PID控制系统，确定阶跃测试信号的幅值，包括：获取预设历史时间段内的目标控制系统的操纵变量；计算预设历史时间段内的操纵变量的平均值和标准差；将第二预设系数、平均值和标准差中的最大值确定为阶跃测试信号的幅值。在一个可能的实施例中，目标控制系统为APC控制系统，以及目标控制系统的控制器设置有被控变量安全测试区间，并且被控变量安全测试区间处于被控变量操作上下限区间内，确定阶跃测试信号的幅值，包括：获取目标控制系统的当前被控变量的测量值和被控变量安全测试区间的上下限值；利用目标控制系统的当前被控变量的测量值和被控变量安全测试区间的上下限值，确定阶跃测试信号的幅值。在一个可能的实施例中，确定阶跃测试信号的激励持续时间，包括：在目标控制系统的输入信号的数目小于等于预设数目并且目标控制系统的信噪比小于等于预设信噪比的情况下，阶跃测试信号的持续时长为5到8倍的过程响应时间；其中，过程响应时间表示被目标控制系统控制的对象由初始状态进入到稳定工作状态的时间；以及，在目标控制系统的输入信号的数目大于等于预设数目并且目标控制系统的信噪比大于预设信噪比的情况下，阶跃测试信号的持续时长为8到18倍的过程响应时间。在一个可能的实施例中，信号类型为GBN信号，GBN信号的平均转换时间为1/3倍的98%过程响应时间，并且GBN信号的最短阶跃时长为0.3倍的过程响应时间。在一个可能的实施例中，目标控制系统包括预测模型，利用阶跃测试信号，对目标控制系统进行阶跃测试，包括：获取预测模型的增益、阶跃测试信号在当前时刻的幅值和目标控制系统的被控变量的开环稳态值；计算预测模型的增益和阶跃测试信号在当前时刻的幅值的乘积值，并计算乘积值和目标控制系统的被控变量的开环稳态值的和值；在确定和值超过被控变量安全测试区间的上下限的情况下，则将下一时刻的阶跃测试信号的幅值减小一半。在一个可能的实施例中，利用阶跃测试信号，对目标控制系统进行阶跃测试，包括：获取目标控制系统在当前时刻的被控变量；在确定目标控制系统在当前时刻的被控变量超过被控变量安全测试区间的上下限的情况下，则将下一时刻的阶跃测试信号的方向变为与当前时刻的阶跃测试信号的方向相反的方向。在一个可能的实施例中，利用阶跃测试信号，对目标控制系统进行阶跃测试，包括：获取目标控制系统在当前时刻的被控变量；在确定目标控制系统在当前时刻的被控变量超过被控变量安全测试区间的上下限的情况下，则停止阶跃测试，以使目标控制系统将被控变量拉回被控变量安全测试区间内。第二方面，本发明实施例提供一种测试装置，其上存储有计算机程序，所述计算机程序被处理器运行时执行如第一方面任一所述的基于实时控制性能评估的闭环阶跃测试方法。有益效果本发明的有益效果是：本发明的基于实时控制性能评估的闭环阶跃测试方法和测试装置，以基于数据经验的实时控制性能评估方法作为闭环阶跃测试的触发机制，以及在检测到目标控制系统的控制性能下降到一定阈值之后，自动开启闭环阶跃测试功能，进行系统的闭环测试和数据采集工作，实现了阶跃测试的自主化操作，以便后续更精确的模型辨识和更稳定的系统控制。以及，本申请将系统控制性能评估与闭环阶跃测试结合起来，使得闭环测试技术方案完全自动化，实用性更强，应用范围也更广。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对本申请实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1示出了本申请实施例提供的一种应用场景的示意图；图2示出了本申请实施例提供的一种基于实时控制性能评估的闭环阶跃测试方法的流程图；图3A示出了本申请实施例提供的一种用户自定义生成的初始阶跃信号的示意图；图3B示出了本申请实施例提供的一种信号发生器生成的初始阶跃信号的示意图；图4A示出了本申请实施例提供的一种在点控制情况下CV安全测试区间的示意图；图4B示出了本申请实施例提供的一种在区间控制情况下CV安全测试区间的示意图；图5A示出了本申请实施例提供的一种MV的阶跃变化的示意图；图5B示出了本申请实施例提供的一种CV的阶跃变化的示意图图6A和图6B示出了本申请实施例提供的一种预测保护机制的示意图；图7A和图7B示出了本申请实施例提供的一种阶跃方向取反保护机制的示意图；图8示出了本申请实施例提供的一种基于实时控制性能评估的闭环阶跃测试方法的具体流程图。具体实施方式为了更好的解释本发明，以便于理解，下面结合附图，通过具体实施方式，对本发明作详细描述。本发明实施例提出的一种基于实时控制性能评估的闭环阶跃测试方法和测试装置，以基于数据经验的实时控制性能评估方法作为闭环阶跃测试的触发机制，以及在检测到目标控制系统的控制性能下降到一定阈值之后，自动开启闭环阶跃测试功能，进行系统的闭环测试和数据采集工作，实现了阶跃测试的自主化操作，以便后续更精确的模型辨识和更稳定的系统控制。以及，本申请将系统控制性能评估与闭环阶跃测试结合起来，使得闭环测试技术方案完全自动化，实用性更强，应用范围也更广。为了更好的理解上述技术方案，下面将参照附图更详细地描述本发明的示例性实施例。虽然附图中显示了本发明的示例性实施例，然而应当理解，可以以各种形式实现本发明而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更清楚、透彻地理解本发明，并且能够将本发明的范围完整的传达给本领域的技术人员。请参见图1，图1示出了本申请实施例提供的一种应用场景的示意图。如图1所示，该应用场景包括测试装置、目标控制系统和被所述目标控制系统控制的对象。应理解，目标控制系统的具体系统和对象的具体对象等均可根据实际需求来进行设置，本申请实施例并不局限于此。例如，该目标控制系统可以为PID控制系统，也可以为APC控制系统等。再例如，对象可以包括预测对象。还应理解，本领域的技术人员还可根据实际需求对应用场景进行设置，本申请实施例并不局限于此。例如，虽然图1示出了一个对象，但本领域的技术人员应当理解，其还可包括更多的对象。请参见图2，图2示出了本申请实施例提供的一种基于实时控制性能评估的闭环阶跃测试方法的流程图。如图2所示，该闭环阶跃测试方法包括：步骤S210，测试装置基于数据经验的控制性能实时评估方法对目标控制系统进行性能评估，得到目标控制系统的当前性能评估值。其中，目标控制系统包括PID控制系统和APC控制系统。应理解，测试装置基于数据经验的控制性能实时评估方法对目标控制系统进行性能评估，得到目标控制系统的当前性能评估值的具体值可根据实际需求来进行设置，本申请实施例并不局限于此。可选地，在目标控制系统具有两个被控变量CV和一个操纵变量MV的情况下，可通过如下公式计算实际系统运行性能：；式中，为目标控制系统在第k时刻的性能评估值；为CV1的第k时刻的运行值；为CV1的第k时刻的设定值；为CV2的第k时刻的运行值；为CV2的历史数据段的平均值；为CV1对应项的权重；为CV2对应项的权重；为MV对应项的权重。由于上式中只是一个瞬时的指标，会受到不可测扰动的干扰，例如，当目标控制系统受到扰动时，会导致目标控制系统当时的性能变得很大，对性能评估会有影响，所以，为了获得一个更好的总体性能评估，这里采用平均形式的性能指标，如下所示：；式中，为平均性能评估值；N为平均窗口中的数据长度。这里需要说明的是，平均性能评估值也可看作目标控制系统在第k时刻的性能评估值。这里需要说明的是，MV可以看作阶跃测试信号，CV可以看作目标控制系统的基于阶跃测试信号生成的反馈信号。这里还需要说明的是，虽然上述计算公式是以两个CV和一个MV为例来进行描述的，但是，本领域的技术人员应当理解，在目标控制系统的CV和MV发生变化的情况下，可对上述计算公式进行适应性修改。步骤S220，测试装置在确定当前性能评估值小于等于预设性能值的情况下，生成阶跃测试信号；其中，预设性能值是根据目标控制系统的历史基准性能值和第一预设系数进行确定的。具体地，在计算到历史基准性能值的情况下，可根据当前性能评估值和历史基准性能值，计算目标控制系统的性能指标。以及，测试装置可判断性能指标和预设指标的大小。若性能指标大于等于预设指标，则继续检测目标控制系统的下一时刻的性能评估值；若性能指标小于等于预设指标，则可分别确定阶跃测试信号的幅值、信号类型和激励持续时间，并根据阶跃测试信号的幅值、信号类型和激励持续时间，生成阶跃测试信号，即自动启动了闭环阶跃测试的工作。应理解，预设指标的具体值可根据实际需求来进行设置，本申请实施例并不局限于此。例如，预设指标可以为0.6，也可以为0.7等。还应理解，在计算到历史基准性能值的情况下，可计算当前性能评估值和历史基准性能值的商值的具体过程可根据实际需求来进行设置，本申请实施例并不局限于此。可选地，在目标控制系统具有两个被控变量CV和一个操纵变量MV的情况下，可选取历史数据中运行较好的数据段，并根据专家经验建立历史基准性能值。同时，为了增加评估方法的鲁棒性，选取的数据段应将干扰考虑在内。以及，历史基准性能值的计算公式如下所示：；式中，为历史基准性能值；为设定点控制的CV1；为区间控制的CV2；为选取的历史数据段中CV1的历史值；为CV1的设定值；为选取的历史数据段中CV2的历史值；为CV2数据段的平均值；为控制变量MV的增量；为CV1对应项的权重；为CV2对应项的权重；为MV对应项的权重；n为选取的历史数据段的长度，最终是用基准阶段中的数据计算出系统所达到的统计性能作为历史基准性能值。以及，在计算出历史基准性能值之后，可利用如下下公式计算目标控制系统的性能指标：；其中，为目标控制系统第k时刻的性能评估值。以及，后续可比较和预设指标的大小，若大于等于预设指标，则继续检测目标控制系统的下一时刻的性能评估值；若小于等于预设指标，则自动生成阶跃测试信号。此外，分别确定阶跃测试信号的幅值、信号类型和激励持续时间的具体过程可根据实际需求来进行设置，本申请实施例并不局限于此。可选地，在确定阶跃测试信号的信号类型的情况下，为了使系统具有可辨识性，输入信号必须满足充分激励条件，最低要求是在辨识时间内系统的动态必须被输入信号持续激励。也就是说，在试验期间输入信号必须充分激励系统的所有模态。本申请提供以下两种激励信号的选择方式：一种是由用户设定的，这种方式的等级也是最高的，即用户可根据经验自定义阶跃信号；另外一种，可选择固有的一些满足充分激励条件的信号，最常用的是GBN信号。如图3A所示，由用户设定的初始阶跃信号，可由根据工程经验进行阶跃幅值和持续时间的设置，而GBN信号生成的初始阶跃，通过信号发生器产生，为了防止GBN信号存在部分阶跃时长过短的问题，需要设定最短阶跃时长为0.3倍的系统稳态时间。这里需要说明的是，虽然上面是0.3倍的系统稳态时间为例来进行描述的，但本领域的技术人员应当理解，其还可以将最短阶跃时长设定为其他倍数的系统稳态时间，本申请实施例并不局限于此。可选地，在确定阶跃测试信号的幅值的情况下，在工程应用中，输入信号的幅值设计应该考虑以下几个方面：输入信号的功率和幅值不宜过大，以免使系统工作在非线性区，因此在给定信号功率的情况下，小的幅值是比较合适的，但也不宜过小，以致信噪比太小，直接影响辨识精度；输入信号对系统的“静扰动”要小，即应使正负向扰动机会均等；工程上要便于实现，成本低。以及，在目标控制系统为PID控制系统的情况下，获取预设历史时间段内的目标控制系统的操纵变量；计算预设历史时间段内的操纵变量的平均值和标准差；将第二预设系数、平均值和标准差中的最大值确定为阶跃测试信号的幅值。其中，预设历史时间段的具体时间段和第二预设系数等均可根据实际需求来进行设置。例如，在第二预设系数为1的情况下，对于PID主要采用工程经验法进行设计，通过计算预设历史时间段内MV的均值和标准差，可确定均值、标准差和1这三个数据中的最大值，并可将最大值作为给定MV的阶跃幅值。以及，在目标控制系统为APC控制系统以及目标控制系统的控制器设置有被控变量安全测试区间，并且被控变量安全测试区间处于被控变量操作上下限区间内的情况下，获取目标控制系统的当前被控变量的测量值和被控变量安全测试区间的上下限值；利用目标控制系统的当前被控变量的测量值和被控变量安全测试区间的上下限值，确定阶跃测试信号的幅值。例如，APC的闭环测试的阶跃幅值则需要根据MV和CV当前值，MV测试区间、CV测试区间及模型增益来计算得到。首先可定义CV测试裕度为CV安全测试区间，并且CV安全测试区间的数值取可以为CV操作上下限的10%，对于设定点控制，闭环阶跃测试的测试区间为以设定点为中心的上、下测试裕度范围，如图4A所示；对于区间控制，测试区间为操作上、下限减去上、下测试裕度的区间，如图4B所示。此时，MV的最大阶跃幅值的计算应该根据当前CV测量值y与CV安全测试区间的上下限区间的差值进行计算，初始MV最大阶跃幅值可以为/K0和/K0中的较小值。其中，K0为预测模型的增益，并且预测模型为目标控制系统中的模型。以及，在得到初始MV阶跃幅值之后，还需要根据预先设定的DMV测试增量最大值进行最终阶跃幅值的确定。其中，DMV测试增量最大值可以是由用户根据工程经验指定的。可选地，在确定阶跃测试信号的激励持续时间的情况下，在目标控制系统的输入信号的数目小于等于预设数目并且目标控制系统的信噪比小于等于预设信噪比的情况下，阶跃测试信号的持续时长为5到8倍的过程响应时间；其中，过程响应时间表示被目标控制系统控制的对象由初始状态进入到稳定工作状态的时间；以及，在目标控制系统的输入信号的数目大于等于预设数目并且目标控制系统的信噪比大于预设信噪比的情况下，阶跃测试信号的持续时长为8到18倍的过程响应时间。应理解，预设数目的具体值和预设信噪比的具体值等均可根据实际需求来进行设置，本申请实施例并不局限于此。这里需要说明的是，虽然上面是以阶跃测试信号的持续时长为5到8倍的过程响应时间为例来进行描述的，但本领域的技术人员应当理解，其还可以将阶跃测试信号的持续时长设置成其他倍数的过程响应时间，本申请实施例并不局限于此。对应地，对于阶跃测试信号的持续时长为8到18倍的过程响应时间来说，本领域的技术人员也可根据实际需求来进行设置，本申请实施例并不局限于此。此外，单个阶跃长度的设计与GBN信号的产生机制相关，信号类型为GBN信号，GBN信号的平均转换时间为1/3倍的98%过程响应时间，并且GBN信号的最短阶跃时长为0.3倍的过程响应时间，如此既避免了阶跃信号过短，又满足了阶跃时长变化的要求，保证了更加充分的激励效果。这里需要说明的是，虽然上面是以1/3倍的98%过程响应时间和0.3倍的过程响应时间为例来进行描述的，但本领域的技术人员应当理解，还可以其他的倍数来进行相关设置，本申请实施例并不局限于此。步骤S230，测试装置利用阶跃测试信号，对目标控制系统进行阶跃测试。具体地，在对目标控制系统进行闭环的阶跃测试时，为防止被控变量CV超限，需要做较为严密的逻辑保护层，本申请共设计了四层保护逻辑，并且保护逻辑进行层层递进，保证了控制系统运行的安全性和稳定性。第一层保护逻辑便是测试区间的设定，CV测试区间见步骤S220中测试裕度的定义，在闭环测试期间原有的CV设定值控制变为区间控制，初始区间控制中的区间范围也相应增大；此外，CV测试区间设定下的MV阶跃幅值计算，保证了测试的安全性。此外，除了CV存在测试区间，MV同时也需要设置测试区间及最大阶跃幅度，以此来限制MV的动作幅值。第二层保护逻辑是一种预测保护机制，利用稳态模型，通过判断每一步的KO*ΔMV与当前CV开环稳态值的和是否超过CV测试上下限边界进行保护：若超限，则下一时刻的阶跃幅值减小一半。也就是说，获取预测模型的增益KO、阶跃测试信号在当前时刻的幅值ΔMV和目标控制系统的被控变量的开环稳态值；计算预测模型的增益KO和阶跃测试信号在当前时刻的幅值ΔMV的乘积值，并计算乘积值和目标控制系统的被控变量的开环稳态值的和值；在确定和值超过被控变量安全测试区间的上下限的情况下，则将下一时刻的阶跃测试信号的幅值减小为下一时刻的阶跃测试信号的原幅值的一半。例如，图5A为MV的阶跃变化，图5B为CV的过程响应，假设MV在第一个阶跃S1处的初始阶跃幅值如图中虚线所示，此时通过CV预测计算，CV将会超出上操作限，则实际施加的阶跃幅值为初始阶跃幅值的一半；若CV预测在限内，则保持初始阶跃不变；当CV预测超过CV下操作限，同样的，需要阶跃幅值减小一半。这里需要说明的是，虽然上面是以将下一时刻的阶跃测试信号的幅值减小一半为例来进行描述的，但本领域的技术人员应当理解，还可将下一时刻的阶跃测试信号的幅值的减少值设置成其他值，本申请实施例并不局限于此。例如，可将下一时刻的阶跃测试信号的幅值减少1/3等。这里还需要说明的是，图5A中的测试上限是MV安全测试上限，测试下限是指MV安全测试下限。对应地，图5B至图7B中的测试上限是指对应的变量的安全测试上限，以及图5B至图7B中的测试下限是指对应的变量的安全测试下限。对应地，第三层保护逻辑中的减少阶跃测试信号的幅值的情况是类似的，后续不再重复赘述。第三层保护逻辑设计为CV超过测试上、下限时，阶跃取为相反的方向，相反的阶跃强制将CV拉回限内。该层保护逻辑在具有一定程度模型失配的情况下具有较好的效果，具体实现方式如图6A和图6B所示。也就是说，获取目标控制系统在当前时刻的被控变量；在确定目标控制系统在当前时刻的被控变量超过被控变量安全测试区间的上下限的情况下，则将下一时刻的阶跃测试信号的方向变为与当前时刻的阶跃测试信号的方向相反的方向，并可将下一时刻的阶跃测试信号的幅值减小一半。第四层保护逻辑设计为CV超过操作上、下限时，切除阶跃测试模式，进行系统的自动控制，将CV拉回设定值或设定区间。该层设计主要考虑了外部干扰的影响，具体实现方式如图7A和图7B所示。也就是说，获取目标控制系统在当前时刻的被控变量；在确定目标控制系统在当前时刻的被控变量超过被控变量安全测试区间的上下限的情况下，则停止阶跃测试，以使目标控制系统将被控变量拉回被控变量安全测试区间内。此外，在阶跃测试工作结束后，需要对测试数据进行收集，继而进入后续的系统辨识工作，进行控制模型进行更新使控制效果更稳定。其中，测试数据包括MV和CV。因此，本申请以基于数据经验的实时控制性能评估方法作为闭环阶跃测试的触发机制，系统检测到控制性能下降后，自动开启闭环阶跃测试功能，进行系统的闭环测试，相较于现有方法，提供了一种更为完善的零手动闭环阶跃测试方法。另外，本申请充分考虑了PID和APC控制系统的普适性，能够更为有效地监测控制系统的实时性能。此外，相较于现有闭环阶跃测试方法，本申请提供了一种既适用于PID控制也适用于APC控制的基于控制实时性能评估的闭环阶跃测试实施方法，从信号类型选择、幅值设计、激励持续时间设计、到严密的测试保护逻辑设计，使得闭环测试技术方案更加完善，实用性更强，应用范围也更广。为了便于理解本申请实施例，下面通过具体地实施例来进行描述。具体地，请参见图8，图8示出了本申请实施例提供的一种基于实时控制性能评估的闭环阶跃测试方法的具体流程图。具体地，步骤S810，采用基于数据经验的控制性能实时评估方法对目标控制系统进行性能评估，当检测到系统控制性能下降到最优状态的60%时，进入步骤S820；步骤S820，闭环阶跃测试的启动；步骤S830，阶跃信号类型的选择，可根据工程需求选择用户自定义阶跃信号及GBN自动生成信号；步骤S840，阶跃幅值设置，根据变量操作上下限及测试需求设计阶跃信号的幅值。其中，输入信号幅值既不能过大也不能过小，需要充分考虑工程上便于实现且成本低；步骤S850，激励持续时间设计。其中，可根据工程经验设计阶跃信号的激励持续时间；步骤S860，进行阶跃测试的保护逻辑设计工作.由于该阶跃测试是在闭环条件下运行的，为了保证控制系统安全稳定的运行，必须做好充分的保护逻辑设计工作。步骤S870，阶跃测试工作结束后，需要对测试数据进行收集，继而进入后续的系统辨识工作，进行控制模型进行更新使控制效果更稳定。应理解，基于实时控制性能评估的闭环阶跃测试方法仅是示例性的，本领域技术人员根据上述的方法可以进行各种变形，该变形之后的方案也属于本申请的保护范围。本申请提供一种测试装置，该测试装置存储有计算机程序，该计算机程序被处理器运行时执行实施例所述的方法。由于本发明上述实施例所描述的装置，为实施本发明上述实施例的方法所采用的装置，故而基于本发明上述实施例所描述的方法，本领域所属技术人员能够了解该装置的具体结构及变形，因而在此不再赘述。凡是本发明上述实施例的方法所采用的装置都属于本发明所欲保护的范围。本领域内的技术人员应明白，本发明的实施例可提供为方法、系统或计算机程序产品。因此，本发明可采用完全硬件实施例、完全软件实施例，或结合软件和硬件方面的实施例的形式。而且，本发明可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本发明是参照根据本发明实施例的方法、设备和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。应当注意的是，在权利要求中，不应将位于括号之间的任何附图标记理解成对权利要求的限制。词语“包含”不排除存在未列在权利要求中的部件或步骤。位于部件之前的词语“一”或“一个”不排除存在多个这样的部件。本发明可以借助于包括有若干不同部件的硬件以及借助于适当编程的计算机来实现。在列举了若干装置的权利要求中，这些装置中的若干个可以是通过同一个硬件来具体体现。词语第一、第二、第三等的使用，仅是为了表述方便，而不表示任何顺序。可将这些词语理解为部件名称的一部分。此外，需要说明的是，在本说明书的描述中，术语“一个实施例”、“一些实施例”、“实施例”、“示例”、“具体示例”或“一些示例”等的描述，是指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任一个或多个实施例或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本说明书中描述的不同实施例或示例以及不同实施例或示例的特征进行结合和组合。尽管已描述了本发明的优选实施例，但本领域的技术人员在得知了基本创造性概念后，则可对这些实施例作出另外的变更和修改。所以，权利要求应该解释为包括优选实施例以及落入本发明范围的所有变更和修改。显然，本领域的技术人员可以对本发明进行各种修改和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也应该包含这些修改和变型在内。
