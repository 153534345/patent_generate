标题title
一种考虑路网容量约束的分布式主动均衡管控方法
摘要abst
本发明公开了一种考虑路网容量约束的分布式主动均衡管控方法，属于智能交通管控技术领域，该管控方法具体步骤如下：构建不同路段流向拥堵指数数据集；根据拥堵指数实时判断拥堵区域范围；计算拥堵区域的宏观基本图，得到区域边界的流入控制率；根据路段流向的拥堵指数及上下游关系确定拥堵区域边界及区域内截流点和疏解点；本发明能够对各时段车流量信息进行实时收集以及预测，保证交通信号控制的准确性，节省人们出行时间，适应两类数据源、不同检测器布设情况，不同数据缺失、渗透率情况，能够实现通过前向观察实现固定时间段内最优。
权利要求书clms
1.一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，该管控方法具体步骤如下：构建不同路段流向拥堵指数数据集：基于移动互联数据，如网联车数据、车载定位数据等，根据移动互联数据在相位绿灯时间内车辆的位置和速度信息，针对不同路段流向在天气、事件、时段区间3类分组标签下的速度信息，为每一个分组标签组合下的速度信息按照百分位数进行统计，作为路段流向在该分组标签下的拥堵指数，从而构建不同拥堵指数路段流向在不同分组标签下拥堵指数数据集，将每个路段流向的拥堵指数分为5个等级；判断实时拥堵区域：对于每个实时的时间间隔，根据该时间间隔内移动互联数据更新拥堵指数，筛选出严重拥堵和一般拥堵的路段流向，当某个区域内各个路段流向的平均拥堵指数小于40％时，该区域被实时确定为拥堵区域范围；计算拥堵区域的宏观基本图，得到区域边界的流入控制率：计算拥堵区域的宏观基本图，并根据宏观基本图得到区域边界的流入控制率，根据流入控制率，对边界控制点的相位约束和马尔可夫选择集进行调整；根据路段流向的拥堵指数及上下游关系确定拥堵区域边界及区域内截流点和疏解点：根据每个路段的不同流向的拥堵指数及上下游关系，当拥堵区域边界及区域内，某个连续路径各个路段流向的平均拥堵指数小于40％时，确定拥堵截流点和疏解点，对截流点和疏解点的相位约束和马尔可夫选择集进行调整；工作人员调试并布置被动感应式检测器、主动式检测器以及广义网联设备：工作人员在道路固定位置处布置被动感应式检测器、主动式检测器以及广义网联设备，并将其与边缘边缘计算设备通信连接，同时对其进行设备调试，确认被动感应式检测器、主动式检测器以及广义网联设备是否可以正常运行，并建立路网静态地图，其中，被动感应式检测器具体为感应线圈检测器、地磁检测器或电子标签检测器等，主动式检测器具体为激光雷达检测器、毫米波雷达检测器或视频卡口检测器等，广义网联设备包括：GPS定位单元以及路侧通信单元；收集相关道路信息以及对相关道路缺失数据进行填补：被动感应式检测器、主动式检测器以及广义网联设备对相关道路信息进行数据采集，同时将其发送至边缘计算设备，边缘计算设备依据采集到的道路信息对道路缺失数据进行数据填补；实时收集各时段车流量信息并进行交通流量预测：被动感应式检测器、主动式检测器以及广义网联设备对各时段车流量信息进行实时监测，记录各时段车流量信息，并将其发送至边缘计算设备，边缘计算设备依据收集到的车流量信息对相关道路的交通流量进行数据预测；判断排队溢出，确定溢出转向的相位最大绿灯时长：根据多源数据，得出不同转向检测器所得转向排队长度、饱和度、智能网联车队尾样本特征、移动互联数据估计所得排队长度等关键指标，判断是否存在排队溢出现象，若任意指标超过路段长度范围，则该转向存在排队溢出，该转向相位取最大绿灯时长；构建路网模型并设计信号控制优化策略：依据不同的区域路网容量约束的主动均衡约束，构建路网模型并设计信号控制优化策略：收集各车辆轨迹数据并对相关区域的路网进行数据模拟，并构建相应路网模型，同时通过OSM提取城市交通真实路网地图，并对构建的路网模型进行模型优化，并开始设计信号控制优化策略；构建马尔可夫决策过程，开始依据路网模型进行深度强化学习方案训练，更新方案库：开始构建马尔可夫决策，路网模型开始进行仿真测试，并开始构建深度强化学习模型，深度强化学习模型收集测试数据，并依据收集到的测试数据生成更新数据，同时依据更新数据对信号控制策略进行数据优化处理。2.根据权利要求1所述的一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，步骤中所述拥堵指数计算具体步骤如下：步骤一：云控平台基于边缘计算设备上传并在云端存储的路网移动互联数据，如网联车数据、车载定位数据等，根据移动互联数据在相位绿灯时间内车辆的位置和速度信息，针对不同路段流向在天气、事件、时段区间3类分组标签下的速度信息，为每一个分组标签组合下的速度信息按照百分位数进行统计，作为路段流向在该分组标签下的拥堵指数，从而构建不同拥堵指数路段流向在不同分组标签下拥堵指数数据集；步骤二：云控平台将每个路段流向的拥堵指数分为5个等级。3.根据权利要求1所述的一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，步骤中所述拥堵区域确定具体步骤如下：第一步：云控平台对于每个实时的时间间隔内移动互联数据更新拥堵指数，筛选出严重拥堵和一般拥堵的路段流向；第二步：当某个区域内各个路段流向的平均拥堵指数小于40％时，云控平台实时确定该区域为拥堵区域范围。4.根据权利要求1所述的一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，步骤中所述宏观基本图构建及区域边界控制具体步骤如下：S1：云控平台计算拥堵区域的宏观基本图；S2：云控平台根据宏观基本图得到区域边界的流入控制率，根据流入控制率，对边界控制点相应边缘计算设备的相位约束和马尔可夫选择集进行调整。5.根据权利要求1所述的一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，步骤中所述截流点和疏解点确定及相位参数调整具体步骤如下：SS1：云控平台根据每个路段的不同流向的拥堵指数及上下游关系，当拥堵区域边界及区域内，某个连续路径各个路段流向的平均拥堵指数小于40％时，确定拥堵截流点和疏解点；SS2：云控平台将相应边缘计算设备设置为协同关系，对截流点和疏解点的相位约束和马尔可夫选择集统一进行调整。6.根据权利要求1所述的一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，步骤中所述设备调试具体步骤如下：P1：工作人员进行进口道主动式检测器、进口道入口位置的被动感应式检测器、进口道停车线出口位置的被动感应式检测器以及广义网联设备的布置，工作人员将被动感应式检测器、主动式检测器以及广义网联设备分别与边缘计算设备通信连接，并开始运行被动感应式检测器、主动式检测器以及广义网联设备；P2：计算机接收被动感应式检测器、主动式检测器以及广义网联设备传输的数据，并将其进行显示同时实时检测被动感应式检测器、主动式检测器以及广义网联设备是否正常运行，边缘计算设备自动统计数据质量，并决策是否需要维修或者替换相应的检测器；P3：工作人员依据边缘计算设备的决策，维修或者替换相应的检测器；P4：边缘计算设备开始建立路网静态地图，该路网静态地图将各类信息对应到每个进口车道，无论交叉口各个进口道是哪种交通组织、几何结构、车道长度，均可以通过投影、进口道排列、拼接等方式处理生成标准化长度的位置图和速度图，对处于同一个放行相位的转向车道进行重新排序，除了保护车道功能，组合车道均以执行为主，将位置图和速度图栅格化处理，生成标准化的输入矩阵；P5：若进口道主动式检测器以及进口道入口位置的被动感应式检测器向边缘计算设备发送采集数据，则将其发送至深度强化学习模型，若进口道停车线出口位置的被动感应式检测器发送采集数据至边缘计算设备，则开始对其进行流量预测。7.根据权利要求1所述的一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，步骤中所述数据填补具体步骤如下：PP1：边缘计算设备接收被动感应式检测器、主动式检测器收集的交通流量、轨迹数据；PP2：边缘计算设备基于概率主成分分析等方法，对缺失检测器数据在MCAR、MAR、MNAR不同缺失模式和不同缺失率进行数据填补。8.根据权利要求1所述的一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，步骤中所述数据预测具体步骤如下：Q1：道路缺失信息填补完成，边缘计算设备收集布设于进口道停车线出口位置的被动感应式检测器的采集数据，并将填补后完整的交通流量时间序列分解为趋势性、周期性以及残差项；Q2：依据上下游检测器之间的时空关联关系，边缘计算设备开始对三维残差网络进行数据特征提取，并生成高维张量输入变量；Q3：通过递归神经网络和注意力网络对高维张量输入变量进行时间序列训练，记录生成的交通流量预测值。9.根据权利要求1所述的一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，步骤中所述排队溢出判断具体步骤如下：QQ1：边缘计算设备接收被动感应式检测器、主动式检测器收集到的不同转向检测器所得排队长度、饱和度，或者智能网联路侧设备所得车队队尾的轨迹数据，或者通过移动互联数据，如网联车数据、车载定位数据等移动互联数据估计所得排队长度；QQ2：边缘计算设备判断排队长度是否超过路段长度、饱和度是否过饱和、车队队尾的车辆是否位于路段之外且在相位绿灯时长内速度为零，若是，则存在排队溢出现象，该转向相位取最大绿灯时长，若否，则不改变相位。10.根据权利要求1所述的一种考虑路网容量约束的分布式主动均衡管控方法，其特征在于，步骤中所述数据处理具体步骤如下：M1：边缘计算设备接收被动感应式检测器、主动式检测器收集到的车道流量，并通过数据填补、数据预测等技术得到完整的检测器信息，同时接收广义网联设备采集一定渗透率的轨迹信息，将收集到的检测器信息和轨迹信息进行标准化处理，得到状态s；M2：边缘计算设备将信号方案同步至路网模型，并开始进行仿真模拟；M3：边缘计算设备开始通过一定渗透率的轨迹信息计算车辆的平均延误估计值，其具体公式如下：其中，代表第个t周期第n辆车的延误,L代表路段长度，vf代表自由流速度；其中，rt代表车辆的平均延误估计值，N代表第t个周期被轨迹数据采样的的车辆数；计算完成，将估计的评价指标反馈给边缘计算设备的状态s对应的奖励；进一步地，步骤中所述深度强化学习信号控制优化处理具体步骤如下：MM1：边缘计算设备开始构建双网络对抗深度Q学习网络模型，路网模型将状态s依据NEMA双环控制结构八相位构建动作空间，并通过马尔可夫过程生成不同的动作空间a，并将状态s以及动作空间a导入学习网络模型中，并通过CNN深度卷积网络进行信息提取；MM2：将提取完成的数据信息同步输入n-step 3DQN进行前向观察处理，并依据前向观察结果对深度强化学习模型进行更新，其具体前向观察公式如下：其中，Q代表目标值，θ代表CNN网络超参数，a′是当前时刻下一步准备采取的行动；其中，Qtarget代表目标的学习值，代表目标网络n步观察的学习率，s′是当前时刻下一步的状态；MM3：深度强化学习模型训练中，边缘计算设备通过经验回放策略对梯度进行更新，其具体更新公式如下：μi＝|Qi-Qtargeti|其中，μi代表经验样本的时间差分误差，Q代表目标值，Qtarget代表目标的学习值，θ代表CNN网络超参数；其中，Zi代表经验样本i的排名，zi代表经验样本i的优先级排序序号，N代表历史经验库中用于统计优先权的样本总数；其中，g代表参数梯度，J代表损耗函数；s＝ρss+g其中，s代表一阶偏矩，ρs代表一阶矩的指数衰减率；r＝ρrr+g 其中，r代表二阶偏矩，ρr代表二阶矩的指数衰减率；其中，代表一阶偏置矩；其中，代表二阶偏置矩；其中，εr代表初始学习速率，λ代表一个常数θ-＝αθ-+θ 其中，θ-原CNN网络中的参数θ进行反向传播更新；MM4：深度强化学习模型更新完成，输入新的状态s’，既能得出优化的信号控制方案。
说明书desc
技术领域本发明涉及智能交通管控技术领域，尤其涉及一种考虑路网容量约束的分布式主动均衡管控方法。背景技术随着通信和定位技术的发展，北斗等高精度定位技术的应用和车联网V2X技术兴起，轨迹数据相比传统浮动车数据，其市场渗透率逐年增加，在全新的混合交通流环境中将作为交通状态的重要输入对实时路网交通控制产生影响，同时传统交通流被动感应式检测器、主动式检测器以及广义网联设备可以弥补轨迹数据不能准确掌握断面交通需求的不足，但其检测器数据缺失问题对实时路网交通控制具有重要影响，在智能网联混合交通流环境下，如何控制区域路网容量，实现路网主动均衡管控，进一步优化路网交通控制方案，对于实现自适应的交通控制和指导智能网联汽车发展具有重要意义；因此，发明出一种考虑路网容量约束的分布式主动均衡管控方法变得尤为重要。经检索，中国专利号CN111429733A公开了一种基于宏观基本图的路网交通信号控制方法，该发明虽然可以实现车辆在路网中合理分布，提高城市交通路网的整体通行效率，但是无法对各时间段的车流量信息进行收集，当车流量过大，容易出现控制误差，影响人们的出行，浪费人们时间；此外，现有的一种考虑路网容量约束的分布式主动均衡管控方法无法适应两类数据源、不同检测器布设情况，不同数据缺失、渗透率情况，不能通过前向观察实现固定时间段内最优；为此，我们提出一种考虑路网容量约束的分布式主动均衡管控方法。发明内容本发明的目的是为了解决现有技术中存在的缺陷，而提出的一种考虑路网容量约束的分布式主动均衡管控方法。为了实现上述目的，本发明采用了如下技术方案：一种考虑路网容量约束的分布式主动均衡管控方法，该管控方法具体步骤如下：构建不同路段流向拥堵指数数据集：基于移动互联数据，如网联车数据、车载定位数据等，根据移动互联数据在相位绿灯时间内车辆的位置和速度信息，针对不同路段流向在天气、事件、时段区间3类分组标签下的速度信息，为每一个分组标签组合下的速度信息按照百分位数进行统计，作为路段流向在该分组标签下的拥堵指数，从而构建不同拥堵指数路段流向在不同分组标签下拥堵指数数据集，将每个路段流向的拥堵指数分为5个等级；判断实时拥堵区域：对于每个实时的时间间隔，根据该时间间隔内移动互联数据更新拥堵指数，筛选出严重拥堵和一般拥堵的路段流向，当某个区域内各个路段流向的平均拥堵指数小于40％时，该区域被实时确定为拥堵区域范围；计算拥堵区域的宏观基本图，得到区域边界的流入控制率：计算拥堵区域的宏观基本图，并根据宏观基本图得到区域边界的流入控制率，根据流入控制率，对边界控制点的相位约束和马尔可夫选择集进行调整；根据路段流向的拥堵指数及上下游关系确定拥堵区域边界及区域内截流点和疏解点：根据每个路段的不同流向的拥堵指数及上下游关系，当拥堵区域边界及区域内，某个连续路径各个路段流向的平均拥堵指数小于40％时，确定拥堵截流点和疏解点，对截流点和疏解点的相位约束和马尔可夫选择集进行调整；工作人员调试并布置被动感应式检测器、主动式检测器以及广义网联设备：工作人员在道路固定位置处布置被动感应式检测器、主动式检测器以及广义网联设备，并将其与边缘边缘计算设备通信连接，同时对其进行设备调试，确认被动感应式检测器、主动式检测器以及广义网联设备是否可以正常运行，并建立路网静态地图，其中，被动感应式检测器具体为感应线圈检测器、地磁检测器或电子标签检测器等，主动式检测器具体为激光雷达检测器、毫米波雷达检测器或视频卡口检测器等，广义网联设备包括：GPS定位单元以及路侧通信单元；收集相关道路信息以及对相关道路缺失数据进行填补：被动感应式检测器、主动式检测器以及广义网联设备对相关道路信息进行数据采集，同时将其发送至边缘计算设备，边缘计算设备依据采集到的道路信息对道路缺失数据进行数据填补；实时收集各时段车流量信息并进行交通流量预测：被动感应式检测器、主动式检测器以及广义网联设备对各时段车流量信息进行实时监测，记录各时段车流量信息，并将其发送至边缘计算设备，边缘计算设备依据收集到的车流量信息对相关道路的交通流量进行数据预测；判断排队溢出，确定溢出转向的相位最大绿灯时长：根据多源数据，得出不同转向检测器所得转向排队长度、饱和度、智能网联车队尾样本特征、移动互联数据估计所得排队长度等关键指标，判断是否存在排队溢出现象，若任意指标超过路段长度范围，则该转向存在排队溢出，该转向相位取最大绿灯时长；构建路网模型并设计信号控制优化策略：依据不同的区域路网容量约束的主动均衡约束，构建路网模型并设计信号控制优化策略：收集各车辆轨迹数据并对相关区域的路网进行数据模拟，并构建相应路网模型，同时通过OSM提取城市交通真实路网地图，并对构建的路网模型进行模型优化，并开始设计信号控制优化策略；构建马尔可夫决策过程，开始依据路网模型进行深度强化学习方案训练，更新方案库：开始构建马尔可夫决策，路网模型开始进行仿真测试，并开始构建深度强化学习模型，深度强化学习模型收集测试数据。并依据收集到的测试数据生成更新数据，同时依据更新数据对信号控制策略进行数据优化处理。进一步地，步骤中所述拥堵指数计算具体步骤如下：步骤一：云控平台基于边缘计算设备上传并在云端存储的路网移动互联数据，如网联车数据、车载定位数据等，根据移动互联数据在相位绿灯时间内车辆的位置和速度信息，针对不同路段流向在天气、事件、时段区间3类分组标签下的速度信息，为每一个分组标签组合下的速度信息按照百分位数进行统计，作为路段流向在该分组标签下的拥堵指数，从而构建不同拥堵指数路段流向在不同分组标签下拥堵指数数据集；步骤二：云控平台将每个路段流向的拥堵指数分为5个等级。进一步地，步骤中拥堵区域确定具体步骤如下：第一步：云控平台对于每个实时的时间间隔内移动互联数据更新拥堵指数，筛选出严重拥堵和一般拥堵的路段流向；第二步：当某个区域内各个路段流向的平均拥堵指数小于40％时，云控平台实时确定该区域为拥堵区域范围。进一步地，步骤中宏观基本图构建及区域边界控制具体步骤如下：S1：云控平台计算拥堵区域的宏观基本图；S2：云控平台根据宏观基本图得到区域边界的流入控制率，根据流入控制率，对边界控制点相应边缘计算设备的相位约束和马尔可夫选择集进行调整。进一步地，步骤中所述截流点和疏解点确定及相位参数调整具体步骤如下：SS1：云控平台根据每个路段的不同流向的拥堵指数及上下游关系，当拥堵区域边界及区域内，某个连续路径各个路段流向的平均拥堵指数小于40％时，确定拥堵截流点和疏解点；SS2：云控平台将相应边缘计算设备设置为协同关系，对截流点和疏解点的相位约束和马尔可夫选择集统一进行调整。进一步地，步骤中所述设备调试具体步骤如下：P1：工作人员进行进口道主动式检测器、进口道入口位置的被动感应式检测器、进口道停车线出口位置的被动感应式检测器以及广义网联设备的布置，工作人员将被动感应式检测器、主动式检测器以及广义网联设备分别与边缘计算设备通信连接，并开始运行被动感应式检测器、主动式检测器以及广义网联设备；P2：计算机接收被动感应式检测器、主动式检测器以及广义网联设备传输的数据，并将其进行显示同时实时检测被动感应式检测器、主动式检测器以及广义网联设备是否正常运行，边缘计算设备自动统计数据质量，实现缺失数据填补，并决策是否需要维修或者替换相应的检测器；P3：工作人员依据边缘计算设备的决策，维修或者替换相应的检测器；P4：边缘计算设备开始建立路网静态地图，该路网静态地图将各类信息对应到每个进口车道，无论交叉口各个进口道是哪种交通组织、几何结构、车道长度，均可以通过投影、进口道排列、拼接等方式处理生成标准化长度的位置图和速度图，对处于同一个放行相位的转向车道进行重新排序，除了保护车道功能，组合车道均以执行为主，将位置图和速度图栅格化处理，生成标准化的输入矩阵；P5：若进口道主动式检测器以及进口道入口位置的被动感应式检测器向边缘计算设备发送采集数据，则将其发送至深度强化学习模型，若进口道停车线出口位置的被动感应式检测器发送采集数据至边缘计算设备，则开始对其进行流量预测。进一步地，步骤中所述数据填补具体步骤如下：PP1：边缘计算设备接收被动感应式检测器、主动式检测器收集的交通流量、轨迹数据；PP2：边缘计算设备基于概率主成分分析等方法，对缺失检测器数据在MCAR、MAR、MNAR不同缺失模式和不同缺失率进行数据填补。进一步地，步骤中所述数据预测具体步骤如下：Q1：道路缺失信息填补完成，边缘计算设备收集布设于进口道停车线出口位置的被动感应式检测器的采集，并将填补后完整的交通流量时间序列分解为趋势性、周期性以及残差项；Q2：依据上下游检测器之间的时空关联关系，边缘计算设备开始对三维残差网络进行数据特征提取，并生成高维张量输入变量；Q3：通过递归神经网络和注意力网络对高维张量输入变量进行时间序列训练，记录生成的交通流量预测值。进一步地，步骤中所述排队溢出判断具体步骤如下：QQ1：边缘计算设备接收被动感应式检测器、主动式检测器收集到的不同转向检测器所得排队长度、饱和度，或者智能网联路侧设备所得车队队尾的轨迹数据，或者通过移动互联数据，如网联车数据、车载定位数据等移动互联数据估计所得排队长度；QQ2：边缘计算设备判断排队长度是否超过路段长度、饱和度是否过饱和、车队队尾的车辆是否位于路段之外且在相位绿灯时长内速度为零，若是，则存在排队溢出现象，该转向相位取最大绿灯时长，若否，则不改变相位；进一步地，步骤中所述数据处理具体步骤如下：M1：边缘计算设备接收被动感应式检测器、主动式检测器收集到的车道流量，并通过数据填补、数据预测等技术得到完整的检测器信息，同时接收广义网联设备采集一定渗透率的轨迹信息，将收集到的检测器信息和轨迹信息进行标准化处理，得到状态s；M2：边缘计算设备将信号方案同步至路网模型，并开始进行仿真模拟；M3：边缘计算设备开始通过一定渗透率的轨迹信息计算车辆的平均延误估计值，其具体公式如下：其中，代表第个t周期第n辆车的延误,L代表路段长度，vf代表自由流速度；其中，rt代表车辆的平均延误估计值，N代表第t个周期被轨迹数据采样的的车辆数；计算完成，将估计的评价指标反馈给边缘计算设备的状态s对应的奖励。进一步地，步骤中所述深度强化学习信号控制优化处理具体步骤如下：MM1：边缘计算设备开始构建双网络对抗深度Q学习网络模型，路网模型将状态s依据NEMA双环控制结构八相位构建动作空间，并通过马尔可夫过程生成不同的动作空间a，并将状态s以及动作空间a导入学习网络模型中，并通过CNN深度卷积网络进行信息提取；MM2：将提取完成的数据信息同步输入n-step 3DQN进行前向观察处理，并依据前向观察结果对深度强化学习模型进行更新，其具体前向观察公式如下：其中，Q代表目标值，θ代表CNN网络超参数，a′是当前时刻下一步准备采取的行动；其中，Qtarget代表目标的学习值，代表目标网络n步观察的学习率，s′是当前时刻下一步的状态；MM3：深度强化学习模型训练中，边缘计算设备通过经验回放策略对梯度进行更新，其具体更新公式如下：μi＝|Qi-Qtargeti|其中，μi代表经验样本的时间差分误差，Q代表目标值，Qtarget代表目标的学习值，θ代表CNN网络超参数；其中，Zi代表经验样本i的排名，zi代表经验样本i的优先级排序序号，N代表历史经验库中用于统计优先权的样本总数；其中，g代表参数梯度，J代表损耗函数；s＝ρss+g其中，s代表一阶偏矩，ρs代表一阶矩的指数衰减率；r＝ρrr+g其中，r代表二阶偏矩，ρr代表二阶矩的指数衰减率；其中，代表一阶偏置矩；其中，代表二阶偏置矩；其中，εr代表初始学习速率，λ代表一个常数θ-＝αθ-+θ 其中，θ-原CNN网络中的参数θ进行反向传播更新；MM4：深度强化学习模型更新完成，输入新的状态s’，既能得出优化的信号控制方案。相比于现有技术，本发明的有益效果在于：1、该种深度强化学习路网分布式交通控制方法，边缘计算设备收集被动感应式检测器、主动式检测器以及广义网联设备传输的交通流量、轨迹数据，对MCAR、MAR、MNAR不同缺失模式和不同缺失率下检测器数据采用概率主成分分析方法进行缺失数据填补，道路缺失信息填补完成，边缘计算设备将填补后完整的交通流量时间序列分解为趋势性、周期性以及残差项通过递归神经网络和注意力网络对高维张量输入变量进行时间序列训练，记录生成的交通流量预测值，能够对各时段车流量信息进行实时收集以及预测，保证交通信号控制的准确性，节省人们出行时间；2、该种深度强化学习路网分布式交通控制方法，在考虑拥堵态势预测确定路网容量约束下的拥堵区域边界、拥堵路径的截流点和疏解点以及排队溢出的基础上，通过边缘计算设备将收集到的车道和停车线的位置、速度、流量并通过数据整合处理生成状态s，依据NEMA双环控制结构八相位构建动作空间，并通过马尔可夫过程生成不同的动作空间a，并通过奖励函数计算车辆的平均延误估计值，开始构建双网络对抗深度Q学习网络模型，将状态s以及动作空间a导入学习网络模型中，并通过CNN深度卷积网络进行数据处理，处理完成的数据同步输入n-step 3DQN进行训练，并对深度强化学习模型进行更新训练，深度强化学习模型不断适应交通需求的动态变化，实现信号控制策略进行数据优化，能够适应两类数据源、不同检测器布设情况，不同数据缺失、渗透率情况，通过前向观察实现固定时间段内最优。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。图1为本发明提出的一种考虑路网容量约束的分布式主动均衡管控方法的流程框图；图2为本发明提出的一种考虑路网容量约束的分布式主动均衡管控方法的定周期标准化动作空间示意图；图3为本发明提出的一种考虑路网容量约束的分布式主动均衡管控方法的变周期标准化动作空间示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。参照图1-3，一种考虑路网容量约束的分布式主动均衡管控方法，该管控方法具体步骤如下：云控平台基于边缘计算设备上传并在云端存储的路网移动互联数据，如网联车数据、车载定位数据等，根据移动互联数据在相位绿灯时间内车辆的位置和速度信息，针对不同路段流向在天气、事件、时段区间3类分组标签下的速度信息，为每一个分组标签组合下的速度信息按照百分位数进行统计，作为路段流向在该分组标签下的拥堵指数，从而构建不同拥堵指数路段流向在不同分组标签下拥堵指数数据集，并将将每个路段流向的拥堵指数分为5个等级。云控平台对于每个实时的时间间隔内移动互联数据更新拥堵指数，筛选出严重拥堵和一般拥堵的路段流向，当某个区域内各个路段流向的平均拥堵指数小于40％时，云控平台实时确定该区域为拥堵区域范围。云控平台计算拥堵区域的宏观基本图，根据宏观基本图得到区域边界的流入控制率，根据流入控制率，对边界控制点相应边缘计算设备的相位约束和马尔可夫选择集进行调整。云控平台根据每个路段的不同流向的拥堵指数及上下游关系，当拥堵区域边界及区域内，某个连续路径各个路段流向的平均拥堵指数小于40％时，确定拥堵截流点和疏解点，并将相应边缘计算设备设置为协同关系，对截流点和疏解点的相位约束和马尔可夫选择集统一进行调整。工作人员调试并布置被动感应式检测器、主动式检测器以及广义网联设备：工作人员在道路固定位置处布置被动感应式检测器、主动式检测器以及广义网联设备，并将其与边缘边缘计算设备通信连接，同时对其进行设备调试，确认被动感应式检测器、主动式检测器以及广义网联设备是否可以正常运行，并建立路网静态地图，其中，被动感应式检测器具体为感应线圈检测器、地磁检测器或电子标签检测器等，主动式检测器具体为激光雷达检测器、毫米波雷达检测器或视频卡口检测器等，广义网联设备包括：GPS定位单元以及路侧通信单元。在本实施例中公开了一种设备调试方法，其具体工作原理如下：工作人员进行进口道主动式检测器、进口道入口位置的被动感应式检测器、进口道停车线出口位置的被动感应式检测器以及广义网联设备的布置，工作人员将被动感应式检测器、主动式检测器以及广义网联设备分别与边缘计算设备通信连接，并开始运行被动感应式检测器、主动式检测器以及广义网联设备，计算机接收被动感应式检测器、主动式检测器以及广义网联设备传输的数据，并将其进行显示同时实时检测被动感应式检测器、主动式检测器以及广义网联设备是否正常运行，边缘计算设备自动统计数据质量，并决策是否需要维修或者替换相应的检测器，工作人员依据边缘计算设备的决策，维修或者替换相应的检测器，边缘计算设备开始建立路网静态地图，该路网静态地图将各类信息对应到每个进口车道，无论交叉口各个进口道是哪种交通组织、几何结构、车道长度，均可以通过投影、进口道排列、拼接等方式处理生成标准化长度的位置图和速度图，对处于同一个放行相位的转向车道进行重新排序，除了保护车道功能，组合车道均以执行为主，将位置图和速度图栅格化处理，生成标准化的输入矩阵，若进口道主动式检测器以及进口道入口位置的被动感应式检测器向边缘计算设备发送采集数据，则将其发送至深度强化学习模型，若进口道停车线出口位置的被动感应式检测器发送采集数据至边缘计算设备，则开始对其进行流量预测。收集相关道路信息以及对相关道路缺失数据进行填补：被动感应式检测器、主动式检测器以及广义网联设备对相关道路信息进行数据采集，同时将其发送至边缘计算设备，边缘计算设备依据采集到的道路信息对道路缺失数据进行数据填补。具体的，该边缘计算设备具体数据填补原理如下：边缘计算设备收集被动感应式检测器、主动式检测器传输的几何间距、相位时间以及车道数，并将MCAR、MAR、MNAR/MND不同缺失模式和不同缺失率，采用概率主成分分析方法进行数据填补。实时收集各时段车流量信息并进行交通流量预测：被动感应式检测器、主动式检测器以及广义网联设备对各时段车流量信息进行实时监测，记录各时段车流量信息，并将其发送至边缘计算设备，边缘计算设备依据收集到的车流量信息对相关道路的交通流量进行数据预测。在本实施例中公开了一种数据预测方法，其具体工作原理如下：道路缺失信息填补完成，边缘计算设备收集布设于进口道停车线出口位置的被动感应式检测器的采集，并将填补后完整的交通流量时间序列分解为趋势性、周期性以及残差项，依据上下游检测器之间的时空关联关系，边缘计算设备开始对三维残差网络进行数据特征提取，并生成高维张量输入变量，通过递归神经网络和注意力网络对高维张量输入变量进行时间序列训练，记录生成的交通流量预测值。边缘计算设备接收被动感应式检测器、主动式检测器收集到的不同转向检测器所得排队长度、饱和度，或者智能网联路侧设备所得车队队尾的轨迹数据，或者通过移动互联数据，如网联车数据、车载定位数据等移动互联数据估计所得排队长度，边缘计算设备根据数据采集信息进行排队溢出判断，通过是否超过路段长度、饱和度是否过饱和、车队队尾的车辆是否位于路段之外且在相位绿灯时长内速度为零4个指标，若满足其中任意一个条件，则存在排队溢出现象，该转向相位取最大绿灯时长，若否，则不改变相位；构建路网模型并设计信号控制优化策略：收集各车辆轨迹数据并对相关区域的路网进行数据模拟，并构建相应路网模型，同时通过OSM提取城市交通真实路网地图，并对构建的路网模型进行模型优化，并开始设计信号控制优化策略。本实施例中提供了一种数据强化方法，其具体工作原理如下：边缘计算设备接收被动感应式检测器、主动式检测器收集到的车道和停车线的位置、速度、流量并通过数据整合处理生成状态s，同时接收广义网联设备采集全样本轨迹信息以及每个车道的流量信息，将收集到的状态s以及流量信息处理生成信号方案，边缘计算设备将信号方案同步至路网模型，并开始进行仿真模拟，将各类信息对应到每个进口车道，并对其进行拼接处理，边缘计算设备开始通过奖励函数计算车辆的平均延误估计值。具体的，该奖励函数具体计算公式如下：其中，代表第个t周期第n辆车的延误，L代表路段长度，vf代表自由流速度；其中，rt代表车辆的平均延误估计值，N代表第t个周期被轨迹数据采样的的车辆数，计算完成，将生成的数据通过边缘计算设备反馈给用户。构建马尔可夫决策过程，开始依据路网模型进行深度强化学习方案训练，更新方案库：开始构建马尔可夫决策，路网模型开始进行仿真测试，并开始构建深度强化学习模型，深度强化学习模型收集测试数据。并依据收集到的测试数据生成更新数据，同时依据更新数据对信号控制策略进行数据优化处理。在本实施例中公开了一种数据优化方法，其具体工作原理如下：边缘计算设备开始构建双网络对抗深度Q学习网络模型，路网模型将状态s依据NEMA双环控制结构八相位构建动作空间，并通过马尔可夫过程生成不同的动作空间a，并将状态s以及动作空间a导入学习网络模型中，并通过CNN深度卷积网络进行数据处理，并依据前向观察结果对深度强化学习模型进行更新，深度强化学习模型开始更新，边缘计算设备通过经验回放策略对梯度进行更新，深度强化学习模型更新完成，开始生成更新数据，并对信号控制策略进行数据优化处理。在本实施例中提出了一种前向观察方法，其具体公式如下：其中，Q代表目标值，θ代表CNN网络超参数，a′是当前时刻下一步准备采取的行动；其中，Qtarget代表目标的学习值，代表目标网络n步观察的学习率，s′是当前时刻下一步的状态。具体的，该深度强化学习模型具体更新公式如下：μi＝|Qi-Qtargeti| 其中，μi代表经验样本i的时间差分误差，Q代表目标值，Qtarget代表目标的学习值，θ代表CNN网络超参数；其中，Zi代表经验样本的排名，zi代表经验样本的优先级排序序号，N代表历史经验库中用于统计优先权的样本总数；其中，g代表参数梯度，J代表损耗函数；s＝ρss+g其中，s代表一阶偏矩，ρs代表一阶矩的指数衰减率；r＝ρrr+g其中，r代表二阶偏矩，ρr代表二阶矩的指数衰减率；其中，代表一阶偏置矩；其中，代表二阶偏置矩；其中，εr代表初始学习速率，λ代表一个常数；θ-＝αθ-+θ 其中，θ-原CNN网络中的参数θ进行反向传播更新。本实施例中公开了一种经验回放策略，其具体原理是根据优先级从经验内存中选择样本，可以更快地学习并获得更好的最终策略，其核心思想是提高具有更高时差误差的样本的重放概率，通过等级划分筛选出优先等级较高的策略方案。具体的，马尔可夫决策具体原理如下：针对NEMA双环八相位基础结构，对NEMA双环八相位进行编号，每个交叉口的相位结构和相位时长，都由编号的相位进行相应实际执行相位计算和判断得出，由于交叉口的形状和车道功能的不同，相应的相位顺序会有差异，以步长为j设计了图2和图3所示，同时支持定周期和变周期马尔可夫标准化动作空间，实现信号配时方案持续优化。以上所述，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，根据本发明的技术方案及其发明构思加以等同替换或改变，都应涵盖在本发明的保护范围之内。
