标题title
一种基于大数据的出口退税申报自动化模型与算法
摘要abst
本发明公开了一种基于大数据的出口退税申报自动化模型与算法，涉及大数据出口退税申报技术领域，包括从第三方获取主体公司下的出口报关单，采购发票；进行出口退税申报前的关联信息校准；对所有关联链组的关联信息校准结果进行筛查；对各校准不通过的关联链组进行校准待补充流程的锁定；对校准待补充手续之间构成的操作路径进行信息梳理；对各校准不通过的关联链组，预测程序补充完善所需的时间；对有关联链组进行划批次处理；对同批次的关联链组进行商品明细的拆分和匹配，得到出口退税申报数据，进行出口退税申报；对匹配流程进行优化。
权利要求书clms
1.一种基于大数据的出口退税申报自动化算法，其特征在于，所述自动化算法的实现过程包括：步骤S100：设置采集周期，每间隔所述采集周期从第三方获取主体公司下的出口报关单，汇成第一申报库，根据报关单号对所述第一申报库进行增量更新；每间隔所述采集周期从第三方获取主体公司下的采购发票，汇成第二申报库，根据发票代码和发票号码对所述第二申报库进行增量更新；步骤S200：对所述第二申报库内各采购发票进行发票数据信息提取，所述发票数据信息包括销方在开票时备注的出口报关单单号或者出口报关单合同协议号；将在所述第一申报库和所述第二申报库内，出口报关单单号或者出口报关单合同协议号相同的出口报关单和采购发票之间，构建关联链组，得到关联链组序列；在每一关联链组中，由一组出口报关单对应一组采购发票；对所述关联链组序列内每一关联链组进行出口退税申报前的关联信息校准，得到关联信息校准结果，所述关联信息校准结果包括校准通过、校准不通过；步骤S300：构建数据储备库，所述数据储备库内存储包含与出口退税管理相关的所有流程规章管理规则；对所述关联链组序列内所有关联链组的关联信息校准结果进行筛查，捕捉校准不通过的关联链组；步骤S400：自动化模型对所述数据储备库内数据进行遍历查询，对各校准不通过的关联链组进行校准待补充流程的锁定；所述校准待补充流程是指由若干项存在时间先后顺序或者不存在时间先后顺序的校准待补充手续所构成的操作过程；所述校准待补充手续是指，关联信息校准结果由不通过转为通过所需要的补充操作手续；在各校准不通过的关联链组对应的所有校准待补充手续中，对校准待补充手续之间构成的操作路径进行信息梳理；步骤S500：基于校准待补充手续之间构成的操作路径信息情况，对各校准不通过的关联链组，预测程序补充完善所需的时间；步骤S600：结合各校准不通过关联链组，所对应的程序完善预测时间数据，自动化模型对所述关联链组序列内所有关联链组进行划批次处理，对不同批次出口退税申报对应的报关单号清单进行提取；步骤S700：基于所述报关单号清单，对同批次的关联链组进行商品明细的拆分和匹配，得到对应不同批次的出口退税申报数据；将对应不同批次生成的出口退税申报数据，到税务系统进行不同批次出口退税申报；步骤S800：定时从第三方获取主体公司下的出口退税申报结果数据，定时对出口退税申报数据和获取到的出口退税申报结果数据进行差异分析，对自动化模型中采购发票明细和出口明细之间的匹配流程进行优化。2.根据权利要求1所述的一种基于大数据的出口退税申报自动化算法，其特征在于，所述步骤S200中，对各关联链组进行出口退税申报前的关联信息校准的过程包括：步骤S201：连接负责人员端口，由负责人员对各关联链组中包含的所有采购发票，校准销方在开票时备注的出口报关单单号或者出口报关单合同协议号，基于校准结果对各关联链组中包含的出口报关单和采购发票进行添加或者移除；步骤S202：在各关联链组内，相对应的出口报关单组和采购发票组中，逐次进行关键要素信息的一致性匹配；所述关键要素信息包括品名、数量、单位；步骤S203：当某条关联链组内，所有关键要素信息的一致性匹配结果均为通过时，显示所述某条关联链组的关联信息校准结果为校准通过；步骤S204：当某条关联链组内，存在关键要素信息的一致性匹配结果为不通过时，对不通过的关键要素信息栏进行捕捉，当除品名项以外的全部关键要素信息一致性匹配结果均为通过时，调用KMP数据匹配算法，对一致性匹配结果不通过的品名之间计算相似度，设置相似度阈值，当相似度大于所述相似度阈值时，显示所述某条关联链组的关联信息校准结果为校准通过，当相似度小于所述相似度阈值时，显示所述某条关联链组的关联信息校准结果为校准通过；当存在除品名项以外的关键要素信息一致性匹配结果为不通过时，显示所述某条关联链组的关联信息校准结果为校准不通过。3.根据权利要求1所述的一种基于大数据的出口退税申报自动化算法，其特征在于，所述步骤S400在各校准不通过的关联链组对应的所有校准待补充手续中，进行操作路径梳理的过程包括：步骤S401：分别获取各校准不通过的关联链组所对应的校准待补充流程；设存在校准不通过的某个关联链组a，在关联链组a中存在出口报告单组a1和采购发票组a2；基于所述数据储备库，筛查出口报告单组a1与采购发票组a2之间，关联信息校准结果由不通过转为通过，所需要的所有补充操作手续；步骤S402：将所有补充操作手续分为第一手续集合、第二手续集合；其中，在第一手续集合内的所有校准待补充手续，均为存在上游手续的校准待补充手续；所述存在上游手续的校准待补充手续是指，以其他校准待补充手续的完成作为待操作状态激活前提的校准待补充手续；在第二手续集合内所有校准待补充手续，均为不存在上游手续的校准待补充手续；所述不存在上游手续的校准待补充手续是指，不以其他校准待补充手续的完成作为待操作状态激活前提的校准待补充手续；步骤S403：分别将第一手续集合内所有校准待补充手续作为第一手续节点，得到n个第一手续节点；分别对各第一手续节点在第一手续集合和第二手续集合2内找寻上游手续，若第i个第一手续节点的上游手续为，记对应生成的节点路径为；分别对所有第一手续节点对应的节点路径进行汇集；步骤S404：若在第j个第一手续节点的节点路径中，将对应成的节点路径设为第一目标节点路径，若2，将对应生成的节点路径设为第二目标节点路径；步骤S405：若第j个第一手续节点同时为其他第一手续节点的上游手续，记对应生成的节点路径为；其中，；表示所述第一手续节点的上游手续；若，设节点路径为第三目标节点路径；若，设节点路径为第四目标节点路径。4.根据权利要求3所述的一种基于大数据的出口退税申报自动化算法，其特征在于，所述步骤S500包括：步骤S501：从历史出口退税申报操作过程中，对各校准待补充手续的平均操作时间进行获取；分别提取各校准不通过关联链组对应的所有目标节点路径；步骤S502：当校准不通过关联链组对应的目标节点路径，包括第一目标节点路径、第二目标节点路径；输入各校准待补充手续的平均操作时间，利用第一时间预测模型：得到预测时间；其中，分别表示在第1个至第个节点路径上，所有校准待补充手续平均操作时间的总和，所述节点路径包括第一目标节点路径、第二目标节点路径；其中，分别表示在第二手续集合内第1个校准待补充手续的平均操作时间；步骤S503：当校准不通过关联链组对应的目标节点路径包括第一目标节点路径、第二目标节点路径、第三目标节点路径、第四目标节点路径；输入各校准待补充手续的平均操作时间，利用第二时间预测模型：得到预测时间；其中，分别表示在第1个至第f2个节点路径中，所有校准待补充手续的平均操作时间的总和，所述节点路径包括第一目标节点路径、第二目标节点路径；其中，分别表示在第1个至第s个节点路径上，所有校准待补充手续的平均操作时间的总和，所述节点路径包括第三目标节点路径、第四目标节点路径；其中，分别表示在第二手续集合内第1个校准待补充手续的平均操作时间。5.根据权利要求1所述的一种基于大数据的出口退税申报自动化算法，其特征在于，所述步骤S600对关联链组序列内所有关联链组进行划批次处理的过程包括：输入各批次待申报时间范围至自动化模型中；获取关联链组序列内，所有关联链组关联信息校准通过的时间；将各关联链组优先划分于，与对应关联信息校准通过时间最近的待处理批次内；位于各批次申报中的所有关联链组，关联信息校准通过时间均小于对应批次待申报时间范围的最大值。6.根据权利要求1所述的一种基于大数据的出口退税申报自动化算法，其特征在于，所述步骤S700包括：步骤S701：对各出口报关单识别申报单位、第一法定单位、第二法定单位；将同批次关联链组内出口报关单依次按照申报单位、第一法定单位、第二法定单位与采购发票之间进行匹配；步骤S702：在每一采购发票中的每一采购发票明细中均包括销方名称、品名、单位、税率、单价；采用二路归并排序算法将所有采购发票明细条按照单价进行排序；采用二分算法将单价之间差距值大于差距阈值的采购发票明细条并为同一组；将每一出口报关单中的每一条出口明细同样依据单价进行排序；步骤S703：将同品名、同单位的出口明细和采购发票明细之间按照单价高对高、低对低的原则进行匹配；将每一条出口明细依次与一条采购发票明细、多条采购发票明细、一条拆分后的采购发票明细、至少存在一条采购发票明细为拆分后得到的多条采购发票明细之间进行匹配；一个批次的全部出口明细和采购发票明细完成匹配后，自动化模型自动生成该批次的退税申报数据，将所述出口退税申报数据，到税务系统进行出口退税申报；步骤S704：定时从第三方获取主体公司下的出口退税申报结果数据，定时对出口退税申报数据和获取到的出口退税申报结果数据之间进行差异分析，对自动化模型中采购发票明细和出口明细之间的匹配流程进行优化。7.一种应用于权利要求1-6中任一项的基于大数据的出口退税申报自动化算法的自动化模型，其特征在于，所述自动化模型包括出口报关单采集模块、采购发票采集模块、报关单/发票关联模块、关联信息校准模块、操作路径梳理模块、补充程序时间预测模块、批次划分处理模块、出口退税申报模块、出口退税申报结果采集模块、报关单/发票匹配流程优化模块；所述出口报关单采集模块，用于从第三方采集主体公司下的出口报关单数据；所述采购发票采集模块，用于从第三方采集或者人工维护主体公司下的采购发票数据所述报关单/发票关联模块，对出口报关单和采购发票之间的关联关系进行匹配建立，得到若干关联链组；所述关联信息校准模块，用于接收所述报关单/发票关联模块中的数据，对存在关联关系的出口报关单和采购发票之间进行信息校准；所述操作路径梳理模块，用于接收所述关联信息校准模块中的数据，在各校准不通过的关联链组进行校准待补充手续信息的梳理；所述补充程序时间预测模块，用于接收所述操作路径梳理模块中的数据，基于各关联链组对应的操作路径信息情况，预测程序补充完善所需的时间；所述批次划分处理模块，用于接收所述补充程序时间预测模块中的数据，对所有关联链组进行划批次处理，对不同批次出口退税申报对应的报关单号清单进行提取；所述出口退税申报模块，用于接收所述批次划分处理模块中的数据，对同批次的关联链组进行商品明细的拆分和匹配，得到对应不同批次的出口退税申报数据；将对应不同批次生成的出口退税申报数据，到税务系统进行不同批次出口退税申报；所述出口退税申报结果采集模块，用于定时从第三方获取主体公司下的出口退税申报结果数据；所述报关单/发票匹配规则自动优化模块，用于接收所述出口退税申报模块和所述出口退税申报结果采集模块中的数据，定时对出口退税申报数据和获取到的出口退税申报结果数据进行差异分析，对采购发票明细和出口明细之间的匹配流程进行优化。8.根据权利要求7所述的一种基于大数据的出口退税申报自动化模型，其特征在于，所述操作路径梳理模块包括节点路径连接单元、节点路径分类梳理单元；所述节点路径连接单元，用于接收所述关联信息校准模块中的数据，基于各校准不通过关联链组对应的各校准待补充手续之间的关系，进行手续节点路径的建立；所述节点路径分类梳理单元，用于接收所述节点路径连接单元中的数据，将建立的各节点路径基于路径特征进行分类梳理。9.根据权利要求7所述的一种基于大数据的出口退税申报自动化模型，其特征在于，所述补充程序时间预测模块包括数据储备库构建单元、预测模型建立匹配单元、预测时间输出单元；所述数据储备库构建单元，用于采集与出口退税管理相关的所有流程规章管理规则，搭建数据库；所述预测模型建立匹配单元，用于接收所述操作路径梳理模块中的数据，基于各校准不通过关联链组对应的操作路径信息情况，建立匹配不同的预测模型，对各校准不通过关联链组进行时间预测。
说明书desc
技术领域本发明涉及大数据出口退税申报技术领域，具体为一种基于大数据的出口退税申报自动化模型与算法。背景技术申报出口退税需要依据出口报关单及采购发票制作出口退税申报明细，因为各省税局开票要求不一，外综服企业需要处理的出口报关单和采购发票的对应关系复杂，需要处理的单据量很大，线下手工制作申报明细，存在效率低下且容易出错的问题；且出口退税的申报往往是一项需要很严谨、细致的业务；当在业务数据多、业务量复杂、商品种类复杂、贸易方式多样的场景下，若仅仅依靠人工劳动力，花费的时间成本往往很高，最终得到的申报清单还时常会有遗漏、出错的情况发生，效率不高。发明内容本发明的目的在于提供一种基于大数据的出口退税申报自动化模型与算法，以解决上述背景技术中提出的问题。为了解决上述技术问题，本发明提供如下技术方案：一种基于大数据的出口退税申报自动化算法，自动化算法的实现过程包括：步骤S100：设置采集周期，每间隔采集周期从第三方获取主体公司下的出口报关单，汇成第一申报库，根据报关单号对第一申报库进行增量更新；每间隔采集周期从第三方获取主体公司下的采购发票，汇成第二申报库，根据发票代码和发票号码对第二申报库进行增量更新；步骤S200：对第二申报库内各采购发票进行发票数据信息提取，发票数据信息包括销方在开票时备注的出口报关单单号或者出口报关单合同协议号；将在第一申报库和第二申报库内，出口报关单单号或者出口报关单合同协议号相同的出口报关单和采购发票之间，构建关联链组，得到关联链组序列；在每一关联链组中，由一组出口报关单对应一组采购发票；对关联链组序列内每一关联链组进行出口退税申报前的关联信息校准，得到关联信息校准结果，关联信息校准结果包括校准通过、校准不通过；步骤S300：构建数据储备库，数据储备库内存储包含与出口退税管理相关的所有流程规章管理规则；对关联链组序列内所有关联链组的关联信息校准结果进行筛查，捕捉校准不通过的关联链组；步骤S400：自动化模型对数据储备库内数据进行遍历查询，对各校准不通过的关联链组进行校准待补充流程的锁定；校准待补充流程是指由若干项存在时间先后顺序或者不存在时间先后顺序的校准待补充手续所构成的操作过程；校准待补充手续是指，关联信息校准结果由不通过转为通过所需要的补充操作手续；在各校准不通过的关联链组对应的所有校准待补充手续中，对校准待补充手续之间构成的操作路径进行信息梳理；步骤S500：基于校准待补充手续之间构成的操作路径信息情况，对各校准不通过的关联链组，预测程序补充完善所需的时间；步骤S600：结合各校准不通过关联链组，所对应的程序完善预测时间数据，自动化模型对关联链组序列内所有关联链组进行划批次处理，对不同批次出口退税申报对应的报关单号清单进行提取；步骤S700：基于报关单号清单，对同批次的关联链组进行商品明细的拆分和匹配，得到对应不同批次的出口退税申报数据；将对应不同批次生成的出口退税申报数据，到税务系统进行不同批次出口退税申报；步骤S800：定时从第三方获取主体公司下的出口退税申报结果数据，定时对出口退税申报数据和获取到的出口退税申报结果数据进行差异分析，对自动化模型中采购发票明细和出口明细之间的匹配流程进行优化。进一步的，步骤S200中，对各关联链组进行出口退税申报前的关联信息校准的过程包括：步骤S201：连接负责人员端口，由负责人员对各关联链组中包含的所有采购发票，校准销方在开票时备注的出口报关单单号或者出口报关单合同协议号，基于校准结果对各关联链组中包含的出口报关单和采购发票进行添加或者移除；步骤S202：在各关联链组内，相对应的出口报关单组和采购发票组中，逐次进行关键要素信息的一致性匹配；关键要素信息包括品名、数量、单位；步骤S203：当某条关联链组内，所有关键要素信息的一致性匹配结果均为通过时，显示某条关联链组的关联信息校准结果为校准通过；步骤S204：当某条关联链组内，存在关键要素信息的一致性匹配结果为不通过时，对不通过的关键要素信息栏进行捕捉，当除品名项以外的全部关键要素信息一致性匹配结果均为通过时，调用KMP数据匹配算法，对一致性匹配结果不通过的品名之间计算相似度，设置相似度阈值，当相似度大于相似度阈值时，显示某条关联链组的关联信息校准结果为校准通过，当相似度小于相似度阈值时，显示某条关联链组的关联信息校准结果为校准通过；当存在除品名项以外的关键要素信息一致性匹配结果为不通过时，显示某条关联链组的关联信息校准结果为校准不通过。进一步的，步骤S400在各校准不通过的关联链组对应的所有校准待补充手续中，进行操作路径梳理的过程包括：步骤S401：分别获取各校准不通过的关联链组所对应的校准待补充流程；设存在校准不通过的某个关联链组a，在关联链组a中存在出口报告单组a1和采购发票组a2；基于数据储备库，筛查出口报告单组a1与采购发票组a2之间，关联信息校准结果由不通过转为通过，所需要的所有补充操作手续；步骤S402：将所有补充操作手续分为第一手续集合、第二手续集合；其中，在第一手续集合内的所有校准待补充手续，均为存在上游手续的校准待补充手续；存在上游手续的校准待补充手续是指，以其他校准待补充手续的完成作为待操作状态激活前提的校准待补充手续；在第二手续集合内所有校准待补充手续，均为不存在上游手续的校准待补充手续；不存在上游手续的校准待补充手续是指，不以其他校准待补充手续的完成作为待操作状态激活前提的校准待补充手续；步骤S403：分别将第一手续集合内所有校准待补充手续作为第一手续节点，得到n个第一手续节点；分别对各第一手续节点在第一手续集合和第二手续集合2内找寻上游手续，若第i个第一手续节点的上游手续为，记对应生成的节点路径为；分别对所有第一手续节点对应的节点路径进行汇集；步骤S404：若在第j个第一手续节点的节点路径中，将对应成的节点路径设为第一目标节点路径，若2，将对应生成的节点路径设为第二目标节点路径；步骤S405：若第j个第一手续节点同时为其他第一手续节点的上游手续，记对应生成的节点路径为；其中，；表示第一手续节点的上游手续；若，设节点路径为第三目标节点路径；若，设节点路径为第四目标节点路径；出口退税申报在申报数据的匹配处理操作流程上是严谨的，若每一项申报数据存在申报缺陷，往往需要对其进行数据勘验以及相关资格文件的补充；而申报匹配过程中会出现的缺陷问题往往是多样的，后续补充所需要做的工作手续也存在有繁有简，基于对在各项申报中出现的缺陷，进行对应补充工作手续的操作路径排查，有利于实现后续对各项申报工作进行时间进度的预测掌握。进一步的，步骤S500包括：步骤S501：从历史出口退税申报操作过程中，对各校准待补充手续的平均操作时间进行获取；分别提取各校准不通过关联链组对应的所有目标节点路径；步骤S502：当校准不通过关联链组对应的目标节点路径，包括第一目标节点路径、第二目标节点路径；输入各校准待补充手续的平均操作时间，利用第一时间预测模型：得到预测时间；其中，分别表示在第1个至第个节点路径上，所有校准待补充手续平均操作时间的总和，节点路径包括第一目标节点路径、第二目标节点路径；其中，分别表示在第二手续集合内第1个校准待补充手续的平均操作时间；步骤S503：当校准不通过关联链组对应的目标节点路径包括第一目标节点路径、第二目标节点路径、第三目标节点路径、第四目标节点路径；输入各校准待补充手续的平均操作时间，利用第二时间预测模型： 得到预测时间；其中，分别表示在第1第f2个节点路径中，所有校准待补充手续的平均操作时间的总和，节点路径包括第一目标节点路径、第二目标节点路径；其中，分别表示在第1个至第s个节点路径上，所有校准待补充手续的平均操作时间的总和，节点路径包括第三目标节点路径、第四目标节点路径；其中，分别表示在第二手续集合内第1个校准待补充手续的平均操作时间；上述根据各项不通过申报所对应的校准待补充手续，进行操作路径的梳理，可实现通过手续链路的路径分布情况，对各项申报所面临的待补充手续繁杂程度进行反映，同时基于不同手续链路的路径分布情况，对各项申报进度进行时间预测，可便于管理人员对各项申报进行进度的掌握，减少遗漏、出错的情况。进一步的，步骤S600对关联链组序列内所有关联链组进行划批次处理的过程包括：输入各批次待申报时间范围至自动化模型中；获取关联链组序列内，所有关联链组关联信息校准通过的时间；将各关联链组优先划分于，与对应关联信息校准通过时间最近的待处理批次内；位于各批次申报中的所有关联链组，关联信息校准通过时间均小于对应批次待申报时间范围的最大值。进一步的，步骤S700包括：步骤S701：对各出口报关单识别申报单位、第一法定单位、第二法定单位；将同批次关联链组内出口报关单依次按照申报单位、第一法定单位、第二法定单位与采购发票之间进行匹配；步骤S702：在每一采购发票中的每一采购发票明细中均包括销方名称、品名、单位、税率、单价；采用二路归并排序算法将所有采购发票明细条按照单价进行排序；采用二分算法将单价之间差距值大于差距阈值的采购发票明细条并为同一组；将每一出口报关单中的每一条出口明细同样依据单价进行排序；步骤S703：将同品名、同单位的出口明细和采购发票明细之间按照单价高对高、低对低的原则进行匹配；将每一条出口明细依次与一条采购发票明细、多条采购发票明细、一条拆分后的采购发票明细、至少存在一条采购发票明细为拆分后得到的多条采购发票明细之间进行匹配；一个批次的全部出口明细和采购发票明细完成匹配后，自动化模型自动生成该批次的退税申报数据，将出口退税申报数据，到税务系统进行出口退税申报；步骤S704：定时从第三方获取主体公司下的出口退税申报结果数据，定时对出口退税申报数据和获取到的出口退税申报结果数据之间进行差异分析，对自动化模型中采购发票明细和出口明细之间的匹配流程进行优化。为更好的实现上述自动化算法，还提出了一种自动化模型，自动化模型包括出口报关单采集模块、采购发票采集模块、报关单/发票关联模块、关联信息校准模块、操作路径梳理模块、补充程序时间预测模块、批次划分处理模块、出口退税申报模块、出口退税申报结果采集模块、报关单/发票匹配流程优化模块；出口报关单采集模块，用于从第三方采集主体公司下的出口报关单数据；采购发票采集模块，用于从第三方采集或者人工维护主体公司下的采购发票数据报关单/发票关联模块，对出口报关单和采购发票之间的关联关系进行匹配建立，得到若干关联链组；关联信息校准模块，用于接收报关单/发票关联模块中的数据，对存在关联关系的出口报关单和采购发票之间进行信息校准；操作路径梳理模块，用于接收关联信息校准模块中的数据，在各校准不通过的关联链组进行校准待补充手续信息的梳理；补充程序时间预测模块，用于接收操作路径梳理模块中的数据，基于各关联链组对应的操作路径信息情况，预测程序补充完善所需的时间；批次划分处理模块，用于接收补充程序时间预测模块中的数据，对所有关联链组进行划批次处理，对不同批次出口退税申报对应的报关单号清单进行提取；出口退税申报模块，用于接收批次划分处理模块中的数据，对同批次的关联链组进行商品明细的拆分和匹配，得到对应不同批次的出口退税申报数据；将对应不同批次生成的出口退税申报数据，到税务系统进行不同批次出口退税申报；出口退税申报结果采集模块，用于定时从第三方获取主体公司下的出口退税申报结果数据；报关单/发票匹配规则自动优化模块，用于接收出口退税申报模块和出口退税申报结果采集模块中的数据，定时对出口退税申报数据和获取到的出口退税申报结果数据进行差异分析，对采购发票明细和出口明细之间的匹配流程进行优化。进一步的，操作路径梳理模块包括节点路径连接单元、节点路径分类梳理单元；节点路径连接单元，用于接收关联信息校准模块中的数据，基于各校准不通过关联链组对应的各校准待补充手续之间的关系，进行手续节点路径的建立；节点路径分类梳理单元，用于接收节点路径连接单元中的数据，将建立的各节点路径基于路径特征进行分类梳理。进一步的，补充程序时间预测模块包括数据储备库构建单元、预测模型建立匹配单元、预测时间输出单元；数据储备库构建单元，用于采集与出口退税管理相关的所有流程规章管理规则，搭建数据库；预测模型建立匹配单元，用于接收操作路径梳理模块中的数据，基于各校准不通过关联链组对应的操作路径信息情况，建立匹配不同的预测模型，对各校准不通过关联链组进行时间预测。与现有技术相比，本发明所达到的有益效果是：本发明可应用于业务数据多、业务量复杂、商品种类复杂、贸易方式多样的场景；通过对待处理的出口报关单和采购发票之间建立数据对应关系，设计数据对应匹配规则，提高在单据量大时，数据明细匹配的准确率；本申请可基于各数据明细之间的匹配进度情况，对各进度进行时间预测，实现对最终得到的待申报清单的智能调整，也可督促相关负责人员对各税收申报进度进行精确掌握，提高税收申报业务的效率和准确率。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1是本发明一种基于大数据的出口退税申报自动化模型的结构示意图；图2是本发明一种基于大数据的出口退税申报自动化算法的流程示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1-图2，本发明提供技术方案：一种基于大数据的出口退税申报自动化算法，自动化算法的实现过程包括：步骤S100：设置采集周期，每间隔采集周期从第三方获取主体公司下的出口报关单，汇成第一申报库，根据报关单号对第一申报库进行增量更新；每间隔采集周期从第三方获取主体公司下的采购发票，汇成第二申报库，根据发票代码和发票号码对第二申报库进行增量更新；步骤S200：对第二申报库内各采购发票进行发票数据信息提取，发票数据信息包括销方在开票时备注的出口报关单单号或者出口报关单合同协议号；将在第一申报库和第二申报库内，出口报关单单号或者出口报关单合同协议号相同的出口报关单和采购发票之间，构建关联链组，得到关联链组序列；在每一关联链组中，由一组出口报关单对应一组采购发票；对关联链组序列内每一关联链组进行出口退税申报前的关联信息校准，得到关联信息校准结果，关联信息校准结果包括校准通过、校准不通过；其中，步骤S200中，对各关联链组进行出口退税申报前的关联信息校准的过程包括：步骤S201：连接负责人员端口，由负责人员对各关联链组中包含的所有采购发票，校准销方在开票时备注的出口报关单单号或者出口报关单合同协议号，基于校准结果对各关联链组中包含的出口报关单和采购发票进行添加或者移除；因为采购发票的销方在开票时，备注的发票信息可能有误，导致自动建立存在关联关系的关联链组可能不正确，所以需要人工干预有哪些出口报关单关联到哪些采购发票；步骤S202：在各关联链组内，相对应的出口报关单组和采购发票组中，逐次进行关键要素信息的一致性匹配；关键要素信息包括品名、数量、单位；步骤S203：当某条关联链组内，所有关键要素信息的一致性匹配结果均为通过时，显示某条关联链组的关联信息校准结果为校准通过；步骤S204：当某条关联链组内，存在关键要素信息的一致性匹配结果为不通过时，对不通过的关键要素信息栏进行捕捉，当除品名项以外的全部关键要素信息一致性匹配结果均为通过时，调用KMP数据匹配算法，对一致性匹配结果不通过的品名之间计算相似度，设置相似度阈值，当相似度大于相似度阈值时，显示某条关联链组的关联信息校准结果为校准通过，当相似度小于相似度阈值时，显示某条关联链组的关联信息校准结果为校准通过；当存在除品名项以外的关键要素信息一致性匹配结果为不通过时，显示某条关联链组的关联信息校准结果为校准不通过；步骤S300：构建数据储备库，数据储备库内存储包含与出口退税管理相关的所有流程规章管理规则；对关联链组序列内所有关联链组的关联信息校准结果进行筛查，捕捉校准不通过的关联链组；步骤S400：自动化模型对数据储备库内数据进行遍历查询，对各校准不通过的关联链组进行校准待补充流程的锁定；校准待补充流程是指由若干项存在时间先后顺序或者不存在时间先后顺序的校准待补充手续所构成的操作过程；校准待补充手续是指，关联信息校准结果由不通过转为通过所需要的补充操作手续；在各校准不通过的关联链组对应的所有校准待补充手续中，对校准待补充手续之间构成的操作路径进行信息梳理；其中，步骤S400在各校准不通过的关联链组对应的所有校准待补充手续中，进行操作路径梳理的过程包括：步骤S401：分别获取各校准不通过的关联链组所对应的校准待补充流程；设存在校准不通过的某个关联链组a，在关联链组a中存在出口报告单组a1和采购发票组a2；基于数据储备库，筛查出口报告单组a1与采购发票组a2之间，关联信息校准结果由不通过转为通过，所需要的所有补充操作手续；步骤S402：将所有补充操作手续分为第一手续集合、第二手续集合；其中，在第一手续集合内的所有校准待补充手续，均为存在上游手续的校准待补充手续；存在上游手续的校准待补充手续是指，以其他校准待补充手续的完成作为待操作状态激活前提的校准待补充手续；在第二手续集合内所有校准待补充手续，均为不存在上游手续的校准待补充手续；不存在上游手续的校准待补充手续是指，不以其他校准待补充手续的完成作为待操作状态激活前提的校准待补充手续；步骤S403：分别将第一手续集合内所有校准待补充手续作为第一手续节点，得到n个第一手续节点；分别对各第一手续节点在第一手续集合和第二手续集合2内找寻上游手续，若第i个第一手续节点的上游手续为，记对应生成的节点路径为；分别对所有第一手续节点对应的节点路径进行汇集；步骤S404：若在第j个第一手续节点的节点路径中，将对应成的节点路径设为第一目标节点路径，若2，将对应生成的节点路径设为第二目标节点路径；步骤S405：若第j个第一手续节点同时为其他第一手续节点的上游手续，记对应生成的节点路径为；其中，；表示第一手续节点的上游手续；若，设节点路径为第三目标节点路径；若，设节点路径为第四目标节点路径；步骤S500：基于校准待补充手续之间构成的操作路径信息情况，对各校准不通过的关联链组，预测程序补充完善所需的时间；其中，步骤S500包括：步骤S501：从历史出口退税申报操作过程中，对各校准待补充手续的平均操作时间进行获取；分别提取各校准不通过关联链组对应的所有目标节点路径；步骤S502：当校准不通过关联链组对应的目标节点路径，包括第一目标节点路径、第二目标节点路径；输入各校准待补充手续的平均操作时间，利用第一时间预测模型：得到预测时间；其中，分别表示在第1个至第个节点路径上，所有校准待补充手续平均操作时间的总和，节点路径包括第一目标节点路径、第二目标节点路径；其中，分别表示在第二手续集合内第1个校准待补充手续的平均操作时间；步骤S503：当校准不通过关联链组对应的节点路径包括第一目标节点路径、第二目标节点路径、第三目标节点路径、第四目标节点路径；输入各校准待补充手续的平均操作时间，利用第二时间预测模型： 得到预测时间；其中，分别表示在第1第f2个节点路径中，所有校准待补充手续的平均操作时间的总和，节点路径包括第一目标节点路径、第二目标节点路径；其中，分别表示在第1个至第s个节点路径上，所有校准待补充手续的平均操作时间的总和，节点路径包括第三目标节点路径、第四目标节点路径；其中，分别表示在第二手续集合内第1个校准待补充手续的平均操作时间；步骤S600：结合各校准不通过关联链组，所对应的程序完善预测时间数据，自动化模型对关联链组序列内所有关联链组进行划批次处理，对不同批次出口退税申报对应的报关单号清单进行提取；其中，对关联链组序列内所有关联链组进行划批次处理的过程包括：输入各批次待申报时间范围至自动化模型中；获取关联链组序列内，所有关联链组关联信息校准通过的时间；将各关联链组优先划分于，与对应关联信息校准通过时间最近的待处理批次内；位于各批次申报中的所有关联链组，关联信息校准通过时间均小于对应批次待申报时间范围的最大值；步骤S700：基于报关单号清单，对同批次的关联链组进行商品明细的拆分和匹配，得到对应不同批次的出口退税申报数据；将对应不同批次生成的出口退税申报数据，到税务系统进行不同批次出口退税申报；其中，步骤S700包括：步骤S701：对各出口报关单识别申报单位、第一法定单位、第二法定单位；将同批次关联链组内出口报关单依次按照申报单位、第一法定单位、第二法定单位与采购发票之间进行匹配；例如说：根据申报单位先完成一轮匹配之后，如果还有未完成匹配的出口报关单和采购发票，则再使用第一法定单位进行第二大轮匹配，直至报关单和发票全部匹配完或者完成三大轮匹配；步骤S702：在每一采购发票中的每一采购发票明细中均包括销方名称、品名、单位、税率、单价；采用二路归并排序算法将所有采购发票明细条按照单价进行排序；采用二分算法将单价之间差距值大于差距阈值的采购发票明细条并为同一组；将每一出口报关单中的每一条出口明细同样依据单价进行排序；例如说，设置差距阈值为0.01；同销方名称、同品名、同单位、同税率的发票明细单价分别为：1.01、1.02、1.03、1.04；他们之间的单价差距值均小于等于0.01，所以将他们归到同一组；步骤S703：将同品名、同单位的出口明细和采购发票明细之间按照单价高对高、低对低的原则进行匹配；将每一条出口明细依次与一条采购发票明细、多条采购发票明细、一条拆分后的采购发票明细、至少存在一条采购发票明细为拆分后得到的多条采购发票明细之间进行匹配；一个批次的全部出口明细和采购发票明细完成匹配后，自动化模型自动生成该批次的退税申报数据，将出口退税申报数据，到税务系统进行出口退税申报；步骤S704：定时从第三方获取主体公司下的出口退税申报结果数据，定时对出口退税申报数据和获取到的出口退税申报结果数据之间进行差异分析，对自动化模型中采购发票明细和出口明细之间的匹配流程进行优化；步骤S800：定时从第三方获取主体公司下的出口退税申报结果数据，定时对出口退税申报数据和获取到的出口退税申报结果数据进行差异分析，对自动化模型中采购发票明细和出口明细之间的匹配流程进行优化；例如说，基于数据差异情况，对历史出口报关单和采购发票进行了分析，采购发票的销方根据申报单位进行开票的比例为99%以上，根据第一法定单位进行开票的比例约为0.9%，根据第二法定单位进行开票的比例不足0.1%，因此在对同批次的关联链组进行商品明细的拆分和匹配时，可优先使用申报单位进行匹配，其次为第一法定单位，最后使用第二法定单位；为更好的实现上述自动化算法，还提出了一种自动化模型，自动化模型包括出口报关单采集模块、采购发票采集模块、报关单/发票关联模块、关联信息校准模块、操作路径梳理模块、补充程序时间预测模块、批次划分处理模块、出口退税申报模块、出口退税申报结果采集模块、报关单/发票匹配流程优化模块；出口报关单采集模块，用于从第三方采集主体公司下的出口报关单数据；采购发票采集模块，用于从第三方采集或者人工维护主体公司下的采购发票数据报关单/发票关联模块，对出口报关单和采购发票之间的关联关系进行匹配建立，得到若干关联链组；关联信息校准模块，用于接收报关单/发票关联模块中的数据，对存在关联关系的出口报关单和采购发票之间进行信息校准；操作路径梳理模块，用于接收关联信息校准模块中的数据，在各校准不通过的关联链组进行校准待补充手续信息的梳理；其中，操作路径梳理模块包括节点路径连接单元、节点路径分类梳理单元；节点路径连接单元，用于接收关联信息校准模块中的数据，基于各校准不通过关联链组对应的各校准待补充手续之间的关系，进行手续节点路径的建立；节点路径分类梳理单元，用于接收节点路径连接单元中的数据，将建立的各节点路径基于路径特征进行分类梳理；补充程序时间预测模块，用于接收操作路径梳理模块中的数据，基于各关联链组对应的操作路径信息情况，预测程序补充完善所需的时间；其中，补充程序时间预测模块包括数据储备库构建单元、预测模型建立匹配单元、预测时间输出单元；数据储备库构建单元，用于采集与出口退税管理相关的所有流程规章管理规则，搭建数据库；预测模型建立匹配单元，用于接收操作路径梳理模块中的数据，基于各校准不通过关联链组对应的操作路径信息情况，建立匹配不同的预测模型，对各校准不通过关联链组进行时间预测；批次划分处理模块，用于接收补充程序时间预测模块中的数据，对所有关联链组进行划批次处理，对不同批次出口退税申报对应的报关单号清单进行提取；出口退税申报模块，用于接收批次划分处理模块中的数据，对同批次的关联链组进行商品明细的拆分和匹配，得到对应不同批次的出口退税申报数据；将对应不同批次生成的出口退税申报数据，到税务系统进行不同批次出口退税申报；出口退税申报结果采集模块，用于定时从第三方获取主体公司下的出口退税申报结果数据；报关单/发票匹配规则自动优化模块，用于接收出口退税申报模块和出口退税申报结果采集模块中的数据，定时对出口退税申报数据和获取到的出口退税申报结果数据进行差异分析，对采购发票明细和出口明细之间的匹配流程进行优化。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
