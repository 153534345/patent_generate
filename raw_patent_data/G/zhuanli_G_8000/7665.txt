标题title
一种玻纤增强材料表面浮纤识别方法及电子设备
摘要abst
本发明涉及图像处理领域，提出了一种玻纤增强材料表面浮纤识别方法及电子设备，该方法及电子设备是一种生产领域人工智能的方法和电子设备，包括：获取玻纤增强塑料件表面缺陷灰度图像；获得每次下采样后的采样图像；得到每层采样图像中每个像素点的梯度方向级别；得到梯度方向级别的游程长；构建采样图像的梯度方向游程矩阵；得到每层采样图像的游程集中程度和梯度方向集中程度；得到纹理方向‑游程集中偏移量；得到缺陷分析指示量；对玻纤增强塑料件表面的缺陷类型进行判断。本发明实现对银纹缺陷和浮纤缺陷的准确区分。
权利要求书clms
1.一种玻纤增强材料表面浮纤识别方法，其特征在于，包括：获取玻纤增强塑料件表面缺陷灰度图像；对玻纤增强塑料件表面缺陷灰度图像进行金字塔下采样获得每次下采样后的采样图像；获取每层采样图像中每个像素点的梯度方向，对每层采样图像得到的所有像素点的梯度方向进行分级，得到每层采样图像中每个像素点的梯度方向级别；统计每层采样图像中每个梯度方向级别连续出现的个数，作为该梯度方向级别的游程长；根据每层采样图像中每个梯度方向级别和该梯度方向级别的游程长构建每层采样图像的梯度方向游程矩阵；利用每层采样图像中的像素点个数和该采样图像对应的梯度方向游程矩阵中的元素分别得到每层采样图像的游程集中程度和梯度方向集中程度；游程集中程度的表达式为：式中：表示采样图像的游程集中程度，表示采样图像中对应的最大游程长度，表示游程长，表示像素点的梯度方向级别，表示采样图像中像素点的最大梯度方向级别，表示采样图像中像素点的个数，表示采样图像的梯度方向游程矩阵中处的值；梯度方向集中程度的表达式为：式中：表示采样图像的梯度方向集中程度；通过每层采样图像的游程集中程度和梯度方向集中程度得到纹理方向-游程集中偏移量；纹理方向-游程集中偏移量的表达式为：式中：表示纹理方向-游程集中偏移量；通过所有层采样图像的纹理方向-游程集中偏移量得到玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量；根据玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量对玻纤增强塑料件表面的缺陷类型进行判断。2.根据权利要求1所述的一种玻纤增强材料表面浮纤识别方法，其特征在于，所述梯度方向游程矩阵中的元素为：获取该元素在梯度方向游程矩阵所对应的梯度方向级别和游程长；统计在对应采样图像中该梯度方向级别连续出现的个数为游程长的次数；将该次数作为梯度方向游程矩阵的元素。3.根据权利要求1所述的一种玻纤增强材料表面浮纤识别方法，其特征在于，缺陷分析指示量的表达式为：式中：表示缺陷分析指示量，表示采样图像的采样尺度，表示采样图像的最大采样尺度，表示纹理方向-游程集中偏移量。4.根据权利要求1所述的一种玻纤增强材料表面浮纤识别方法，其特征在于，根据玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量对玻纤增强塑料件表面的缺陷类型进行判断的方法为：若缺陷分析指示量在之间，判断对应玻纤增强塑料件表面的缺陷为银纹缺陷；若缺陷分析指示量在之间，判断对应玻纤增强塑料件表面的缺陷为浮纤缺陷；若缺陷分析指示量在之间，判断对应玻纤增强塑料件表面的缺陷为银纹缺陷和浮纤缺陷。5.一种玻纤增强材料表面浮纤识别电子设备，其特征在于，包括：图像采集模块，获取玻纤增强塑料件表面缺陷灰度图像；图像处理模块，对玻纤增强塑料件表面缺陷灰度图像进行金字塔下采样获得每次下采样后的采样图像；矩阵构建模块，获取每层采样图像中每个像素点的梯度方向，对每层采样图像得到的所有像素点的梯度方向进行分级，得到每层采样图像中每个像素点的梯度方向级别；统计每层采样图像中每个梯度方向级别连续出现的个数，作为该梯度方向级别的游程长；根据每层采样图像中每个梯度方向级别和该梯度方向级别的游程长构建每层采样图像的梯度方向游程矩阵；缺陷分析指示量计算模块，利用每层采样图像中的像素点个数和该采样图像对应的梯度方向游程矩阵中的元素分别得到每层采样图像的游程集中程度和梯度方向集中程度；通过每层采样图像的游程集中程度和梯度方向集中程度得到纹理方向-游程集中偏移量；通过所有层采样图像的纹理方向-游程集中偏移量得到玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量；缺陷识别模块，根据玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量对玻纤增强塑料件表面的缺陷类型进行判断。
说明书desc
技术领域本发明涉及图像处理领域，具体涉及一种玻纤增强材料表面浮纤识别方法及电子设备。背景技术玻纤增强材料作为一种新型材料被广泛应用在各行业产品的生产制造中，它属于纤维增强材料的一种，而玻纤增强材料中常见的一种就是玻纤增强复合塑料，其具有塑料产品的易加工性并同时利用玻纤材料具有的韧性使塑料具有优异的强度。其常见的生产工艺为以玻纤增强改性塑料母粒作为原料，利用注塑工序将熔融的玻纤增强塑料注入到模具中冷却成型，从而生产各种规格、形状的玻纤增强塑料件。在玻纤增强塑料的注塑工艺中，不可避免的会因为各种因素造成产品的表面质量缺陷，其中玻纤增强塑料件表面浮纤缺陷作为纤维增强材料特有的表面质量缺陷是玻纤增强塑料件的一种常见的表面质量缺陷。而表面银纹作为注塑工艺中常见的缺陷也经常性的出现在玻纤增强塑料件的表面。这两种缺陷的成因不同，浮纤缺陷是在塑料熔体流动过程中，玻纤与树脂的流动性有差异，而且质量密度也不同,使两者具有分离的趋势，玻纤浮向表面，树脂沉入内里，于是形成了玻纤外露现象，简称浮纤。而银纹缺陷是由于熔体中含有的水气，降解气等气体在熔体的流动过程中挥发，导致在产品表形成白色纹状缺陷，简称银纹。上述两种缺陷在玻纤增强塑料的注塑生产中均为常见缺陷，且二者的外观表现均为白色纹理，这就使得现有的自动检测缺陷技术如边缘检测、阈值分割等方法无法准确区分上述两种缺陷，进而无法对缺陷成因进行分析，导致缺陷排除效率下降进一步影响产品的生产效率。因此需要一种可以准确区分上述两种缺陷并对其成因进行分析的分析识别方法来实现提高企业产品缺陷排除效率的目的。针对以上问题，本发明提出一种玻纤增强材料表面浮纤识别方法及电子设备，该方法及电子设备是一种生产领域人工智能的方法和电子设备。发明内容本发明提供一种玻纤增强材料表面浮纤识别方法及电子设备，以解决现有的无法准确区分玻纤增强材料表面浮纤缺陷和银纹缺陷的问题。本发明的一种玻纤增强材料表面浮纤识别方法，采用如下技术方案：获取玻纤增强塑料件表面缺陷灰度图像；对玻纤增强塑料件表面缺陷灰度图像进行金字塔下采样获得每次下采样后的采样图像；获取每层采样图像中每个像素点的梯度方向，对每层采样图像得到的所有像素点的梯度方向进行分级，得到每层采样图像中每个像素点的梯度方向级别；统计每层采样图像中每个梯度方向级别连续出现的个数，作为该梯度方向级别的游程长；根据每层采样图像中每个梯度方向级别和该梯度方向级别的游程长构建每层采样图像的梯度方向游程矩阵；利用每层采样图像中的像素点个数和该采样图像对应的梯度方向游程矩阵中的元素分别得到每层采样图像的游程集中程度和梯度方向集中程度；通过每层采样图像的游程集中程度和梯度方向集中程度得到纹理方向-游程集中偏移量；通过所有层采样图像的纹理方向-游程集中偏移量得到玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量；根据玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量对玻纤增强塑料件表面的缺陷类型进行判断。进一步的，所述的一种玻纤增强材料表面浮纤识别方法，所述梯度方向游程矩阵中的元素为：获取该元素在梯度方向游程矩阵所对应的梯度方向级别和游程长；统计在对应采样图像中该梯度方向级别连续出现的个数为游程长的次数；将该次数作为梯度方向游程矩阵的元素。进一步的，所述的一种玻纤增强材料表面浮纤识别方法，缺陷分析指示量的表达式为：式中：表示缺陷分析指示量，表示采样图像的采样尺度，表示采样图像的最大采样尺度，表示纹理方向-游程集中偏移量。进一步的，所述的一种玻纤增强材料表面浮纤识别方法，纹理方向-游程集中偏移量的表达式为：式中：表示采样图像的游程集中程度，表示采样图像的梯度方向集中程度。进一步的，所述的一种玻纤增强材料表面浮纤识别方法，游程集中程度的表达式为：式中：表示采样图像中对应的最大游程长度，表示游程长，表示像素点的梯度方向级别，表示采样图像中像素点的最大梯度方向级别，表示采样图像中像素点的个数，表示采样图像的梯度方向游程矩阵中处的值。进一步的，所述的一种玻纤增强材料表面浮纤识别方法，梯度方向集中程度的表达式为：进一步的，所述的一种玻纤增强材料表面浮纤识别方法，根据玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量对玻纤增强塑料件表面的缺陷类型进行判断的方法为：若缺陷分析指示量在之间，判断对应玻纤增强塑料件表面的缺陷为银纹缺陷；若缺陷分析指示量在之间，判断对应玻纤增强塑料件表面的缺陷为浮纤缺陷；若缺陷分析指示量在之间，判断对应玻纤增强塑料件表面的缺陷为银纹缺陷和浮纤缺陷。本发明还提供了一种玻纤增强材料表面浮纤识别电子设备，包括：图像采集模块，获取玻纤增强塑料件表面缺陷灰度图像；图像处理模块，对玻纤增强塑料件表面缺陷灰度图像进行金字塔下采样获得每次下采样后的采样图像；矩阵构建模块，获取每层采样图像中每个像素点的梯度方向，对每层采样图像得到的所有像素点的梯度方向进行分级，得到每层采样图像中每个像素点的梯度方向级别；统计每层采样图像中每个梯度方向级别连续出现的个数，作为该梯度方向级别的游程长；根据每层采样图像中每个梯度方向级别和该梯度方向级别的游程长构建每层采样图像的梯度方向游程矩阵；缺陷分析指示量计算模块，利用每层采样图像中的像素点个数和该采样图像对应的梯度方向游程矩阵中的元素分别得到每层采样图像的游程集中程度和梯度方向集中程度；通过每层采样图像的游程集中程度和梯度方向集中程度得到纹理方向-游程集中偏移量；通过所有层采样图像的纹理方向-游程集中偏移量得到玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量；缺陷识别模块，根据玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量对玻纤增强塑料件表面的缺陷类型进行判断。本发明的有益效果是：本发明提供一种生产领域人工智能的方法和电子设备，构建梯度方向游程矩阵，通过梯度方向游程矩阵计算游程集中程度和梯度方向集中程度，确定缺陷分析指示量，根据其大小区分银纹缺陷和浮纤缺陷，相对于现有技术，本发明实现对银纹缺陷和浮纤缺陷的准确区分；进一步可以对缺陷成因进行分析，从而进行缺陷排除，提高生产效益。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明的一种玻纤增强材料表面浮纤识别方法的实施例的流程示意图；图2为本发明的一种玻纤增强材料表面浮纤识别方法的实施例的流程示意图；图3为采样图像中像素点的梯度方向示意图；图4为梯度方向游程矩阵示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例1本发明的一种玻纤增强材料表面浮纤识别方法的实施例，如图1所示，包括：101、获取玻纤增强塑料件表面缺陷灰度图像。102、对玻纤增强塑料件表面缺陷灰度图像进行金字塔下采样获得每次下采样后的采样图像。103、获取每层采样图像中每个像素点的梯度方向，对每层采样图像得到的所有像素点的梯度方向进行分级，得到每层采样图像中每个像素点的梯度方向级别。104、统计每层采样图像中每个梯度方向级别连续出现的个数，作为该梯度方向级别的游程长。105、根据每层采样图像中每个梯度方向级别和该梯度方向级别的游程长构建每层采样图像的梯度方向游程矩阵。106、利用每层采样图像中的像素点个数和该采样图像对应的梯度方向游程矩阵中的元素分别得到每层采样图像的游程集中程度和梯度方向集中程度。107、通过每层采样图像的游程集中程度和梯度方向集中程度得到纹理方向-游程集中偏移量。108、通过所有层采样图像的纹理方向-游程集中偏移量得到玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量。109、根据玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量对玻纤增强塑料件表面的缺陷类型进行判断。本发明提供一种生产领域人工智能的方法和电子设备，构建梯度方向游程矩阵，通过梯度方向游程矩阵计算游程集中程度和梯度方向集中程度，确定缺陷分析指示量，根据其大小区分银纹缺陷和浮纤缺陷，相对于现有技术，本发明实现对银纹缺陷和浮纤缺陷的准确区分；进一步可以对缺陷成因进行分析，从而进行缺陷排除，提高生产效益。实施例2本发明的一种玻纤增强材料表面浮纤识别方法的实施例，如图2所示，包括：201、获取玻纤增强塑料件表面缺陷灰度图像。通过工业相机获取玻纤增强塑料件表面RGB图像并将其灰度化，得到灰度图像，这里的玻纤增强塑料件表面RGB图像以及灰度图像是对玻纤增强塑料件表面图像进行缺陷检测后得到的缺陷图像。202、对玻纤增强塑料件表面缺陷灰度图像进行金字塔下采样获得每次下采样后的采样图像。然后对灰度图像进行多尺度的金字塔下采样，将原图像的采样尺度定义为0，第一层金字塔下采样获得的采样图像的采样尺度定义为1，第二层金字塔下采样获得的采样图像的采样尺度定义为2，以此类推进行采样直至采样尺度为，则至此一共获得了张图像，其中有一张为原图，其它为采样图像，将原图也看作采样图像，则一共获得张采样图像，其尺度分别为。则采样图像以表示。例如，获取一张灰度图像，该图像记为对获取的灰度图像先进行一次下采样，得到的下采样图像为，该下采样图像对应的采样尺度定义为1，接着对图像进行下采样，得到的下采样图像记为，该下采样图像对应的采样尺度定义为2，以此类推，得到的下采样图像对应的采样尺度定义为，直至得到下采样图像。至此，通过上述步骤获得了采样图像。203、获取每层采样图像中每个像素点的梯度方向，对每层采样图像得到的所有像素点的梯度方向进行分级，得到每层采样图像中每个像素点的梯度方向级别。利用sobel算子计算各尺度采样图像上各像素点的梯度方向，以表示，所述一像素点的梯度方向如图3所示，以图像的方向为基准向，则的取值范围为。对于一个采样尺度为的采样图像，在利用sobel算子获取其上所有像素点的梯度方向后，构建该尺度采样图像的梯度方向游程矩阵，过程如下：将采样图像上各像素点的梯度方向进行分级，分级方式为将均分成个区间，区间为级别1，区间为级别2，…，以此类推，区间区间为级别。204、统计每层采样图像中每个梯度方向级别连续出现的个数，作为该梯度方向级别的游程长。205、根据每层采样图像中每个梯度方向级别和该梯度方向级别的游程长构建每层采样图像的梯度方向游程矩阵。建立如图4所示的梯度方向游程矩阵：如图4所示，矩阵中位置为处的值表示的是梯度方向级别为的像素点在图像上连续出现个这样的梯度点排列方式一共在图像上存在的次数，记为，即矩阵上位置为处的值。为当前采样图像上最大的游程长度。例如：对于采样图像的梯度方向游程矩阵，矩阵中位置为处的值表示的是梯度方向级别为2在图像上连续出现3个的次数，记为。对于一个采样图像，以上述方式构建了其对应的梯度方向游程矩阵。矩阵上位置为处的值以表示。至此，通过上述方法可获得所有尺度采样图像的梯度方向游程矩阵。对于浮纤缺陷，其是由于玻纤在随着熔体流动的过程中从熔体内部浮至熔体表面导致的，由于玻纤的作用是增强塑料的强度，因此就需要其在熔体内部分布是各个方向上均有分布，且玻纤的长度均匀，这样才能有较好的增强效果。这就导致当浮纤缺陷出现在塑体表面时其长度一定，但表现出的方向各不相同，即塑件表面出现长度集中但方向随机分布的平直细小纹理。体现在梯度方向游程矩阵上就是在梯度方向上离散分布，但是在游程长度上均处于较为集中的水平。对于银纹缺陷，其是由于熔体中含有的水气、降解气等气体在熔体的流动过程中挥发导致的，其产生的纹理是小气泡拉伸所致，而小气泡的拉伸是大体遵循熔体的流动反方向的，因此方向较为集中，但由于气泡大小的不同，其气泡拉伸的长度也不同。因此银纹缺陷的外在表现就是游程长度随机出现，但梯度方向均符合熔体流动的方向。基于上述缺陷的形成过程，对其分析可知浮纤缺陷产生的细小纹理其梯度方向是随机分布的但形成的游程长度集中。而银纹缺陷产生的细小纹理其梯度方向是集中的，但其形成的游程长度随机分布。因此以这个逻辑来进行如下的纹理方向-游程集中偏移量的计算。206、所述梯度方向游程矩阵中的元素为：获取该元素在梯度方向游程矩阵所对应的梯度方向级别和游程长；统计在对应采样图像中该梯度方向级别连续出现的个数为游程长的次数；将该次数作为梯度方向游程矩阵的元素。对于一个采样图像，其梯度方向游程矩阵上处的值为。207、利用每层采样图像中的像素点个数和该采样图像对应的梯度方向游程矩阵中的元素分别得到每层采样图像的游程集中程度和梯度方向集中程度。则计算采样图像的游程集中程度的表达式如下：式中：表示采样图像的游程集中程度，其表示的是采样图像上各梯度方向游程的长度集中在某一个游程长的程度，其为归一化数值，表示采样图像中对应的最大游程长度，表示游程长，表示像素点的梯度方向级别，表示采样图像中像素点的最大梯度方向级别，表示采样图像中像素点的个数，表示采样图像的梯度方向游程矩阵中处的值。计算该采样图像的梯度方向集中程度的表达式如下：式中：为采样图像的梯度方向集中程度，其表示的是采样图像上各长度游程集中在某一个梯度方向的程度，其为归一化数值。208、通过每层采样图像的游程集中程度和梯度方向集中程度得到纹理方向-游程集中偏移量。则对于一个采样图像，计算其纹理方向-游程集中偏移量的表达式如下：式中：为属于的数值，其趋近于时说明该尺度采样图像的梯度方向集中程度远大于游程集中程度。当其趋近于1时说明该尺度采样图像的游程集中程度远大于梯度方向集中程度。至此，对于一个采样图像，可以通过上述方式获取其纹理方向-游程集中偏移量。则获取所有采样图像的纹理方向-游程集中偏移量。209、通过所有层采样图像的纹理方向-游程集中偏移量得到玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量。对于原图像来说，其采样尺度不同，所能采集的信息也就不同，当采样尺度较小时其更能体现细节信息，图像更加准确，但是有些特征也仅能在采样尺度大的时候出现，因此不能忽视大尺度的信息。因此根据其提供信息的准确性，进行如下缺陷分析指示量的计算：式中：为一个属于的数值。至此，对于一个玻纤增强塑料件表面灰度图像，计算其每一个尺度采样图像的纹理方向-游程集中偏移量，通过其所有尺度采样图像的纹理方向-游程集中偏移量计算出该灰度图像的缺陷分析指示量。210、根据玻纤增强塑料件表面缺陷灰度图像的缺陷分析指示量对玻纤增强塑料件表面的缺陷类型进行判断。对于一个玻纤增强塑料件表面灰度图像，根据其缺陷分析指示量的值分析其上缺陷类型，过程如下：设定阈值：当时，指示量趋近于-1，判断图像上缺陷为银纹缺陷。进行注塑模具的清洗与烘干，降低熔融体温度等操作。当时，指示量趋近于1，判断图像上缺陷为浮纤缺陷。进行升高模具温度的操作。当，指示量不趋近于任意一方，判断图像上二者缺陷均存在，同时进行上述排查操作。本发明提供一种生产领域人工智能的方法和电子设备，构建梯度方向游程矩阵，通过梯度方向游程矩阵计算游程集中程度和梯度方向集中程度，确定缺陷分析指示量，根据其大小区分银纹缺陷和浮纤缺陷，相对于现有技术，本发明实现对银纹缺陷和浮纤缺陷的准确区分；进一步可以对缺陷成因进行分析，从而进行缺陷排除，提高生产效益。实施例3基于与上述方法相同的发明构思，本实施例还提供了一种玻纤增强材料表面浮纤识别电子设备，本实施例中一种玻纤增强材料表面浮纤识别电子设备包括图像采集模块、图像处理模块、矩阵构建模块、缺陷分析指示量计算模块、缺陷识别模块，所述图像采集模块、图像处理模块、矩阵构建模块、缺陷分析指示量计算模块、缺陷识别模块，以实现如一种玻纤增强材料表面浮纤识别方法的实施例中所描述的对银纹缺陷和浮纤缺陷进行准确区分的具体方法。由于一种玻纤增强材料表面浮纤识别方法实施例中已经对银纹缺陷和浮纤缺陷进行准确区分的具体方法进行了说明，此处不再赘述。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
