标题title
一种PON链路弱光故障定界方法、系统及装置
摘要abst
本发明涉及PON网络技术领域，提供了一种PON链路弱光故障定界方法、系统及装置，本发明能够主动根据获取的异常信息进行聚类，然后对同一聚类结果下的异常信息进行多个维度的判断决策，对产生异常信息的原因进行分析定界，最终得到定界结果，并将定界结果以图形化展示于用户界面，用户可以直观通过界面看出是哪个区间出现问题，因此可以及时分派运维人员进行维修，给客户创造更大的价值。
权利要求书clms
1.一种PON链路弱光故障定界方法，其特征在于，包括：获取异常信息，并对满足筛选规则的异常信息进行聚类；若判断同一聚类结果下的异常信息中未包含局端PON口光模块故障的异常信息，则判断同一聚类结果下的异常信息是否来自单个远端设备；若判断同一聚类结果下的异常信息来自单个远端设备，且产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能均值未在警戒阈值范围内，则判断所述单个远端设备产生的异常信息是否为远端PON口光模块故障的异常信息；若判断所述单个远端设备产生的异常信息为非远端PON口光模块故障的异常信息，且产生异常信息的所述单个远端设备的光功率性能值未在正常阈值范围内，则定界结果为组网故障，将所述定界结果以图形化展示于用户界面以便用户查看。2.根据权利要求1所述的PON链路弱光故障定界方法，其特征在于，还包括，所述若判断同一聚类结果下的异常信息中未包含局端PON口光模块故障的异常信息，且判断同一聚类结果下的异常信息来自多个远端设备；计算产生异常信息的多个远端设备的数量与产生异常信息的多个远端设备上联的同一局端PON口下所有远端设备的数量的比值；判断所述比值是否超过第一预设值；若所述比值超过第一预设值，则定界结果为主干光路故障；若所述比值未超过第一预设值，则定界结果为分支光路故障。3.根据权利要求1所述的PON链路弱光故障定界方法，其特征在于，还包括，若判断同一聚类结果下的异常信息来自单个远端设备，且产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能均值在警戒阈值范围内，则定界结果为分支光路故障。4.根据权利要求1所述的PON链路弱光故障定界方法，其特征在于，所述光功率性能均值，具体为：根据拓扑信息获取产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能值，并计算平均值得到光功率性能均值。5.根据权利要求1所述的PON链路弱光故障定界方法，其特征在于，还包括，若判断同一聚类结果下的异常信息中包含局端PON口光模块故障的异常信息，则定界结果为局端PON口光模块故障。6.根据权利要求1所述的所述的PON链路弱光故障定界方法，其特征在于，还包括，若判断所述单个远端设备产生的异常信息为远端PON口光模块故障的异常信息，则定界结果为远端PON口光模块故障。7.根据权利要求1所述的所述的PON链路弱光故障定界方法，其特征在于，还包括，若判断所述单个远端设备产生的异常信息为非远端PON口光模块故障的异常信息，且产生异常信息的所述单个远端设备的光功率性能值在正常阈值范围内，则定界结果为入户光纤异常。8.根据权利要求1所述的所述的PON链路弱光故障定界方法，其特征在于，所述正常阈值范围，具体为：获取产生异常信息的单个远端设备上联的局端PON口下其他远端设备的光功率性能值；根据所述产生异常信息的单个远端设备上联的局端PON口下其他远端设备的光功率性能值和异常门限值计算得到所述正常阈值范围。9.一种PON链路弱光故障定界系统，其特征在于，包括设备交互模块、信息分析模块、数据存储模块和结果显示模块；所述设备交互模块用于与局端设备建立通信通道，从而获取异常信息，并将异常信息存入数据存储模块中形成异常信息队列；所述信息分析模块用于获取数据存储模块中的异常信息队列中的异常信息，对获取的异常信息进行分析得到定界结果，并将定界结果存储于数据存储模块中；所述结果显示模块用于接收用户的查看请求，并将数据存储模块中对应的定界结果展示于结果显示模块的界面以便用户查看。10.一种PON链路弱光故障定界装置，其特征在于，包括至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被程序设置为执行权利要求1-9任一所述的PON链路弱光故障定界方法。
说明书desc
【技术领域】本发明涉及PON网络技术领域，特别是涉及一种PON链路弱光故障定界方法、系统及装置。【背景技术】PON增值应用属于网络管理应用的一部分，其功能在于对PON网络设备性能和异常数据进行统计、分析和图形化展示，以便给用户或运维人员更清晰的数据体验，直观显示管辖网络的状态，明确指出设备或网络产生的问题。PON增值应用针对的主体是PON网络，PON网络属于无源光纤网络，采用的是一点到多点的光纤接入技术，是光纤入户的承载网络，PON光网络质量的好坏，很大程度上取决于链路光纤通道是否通畅，光信号强度是否正常，如果光链路发生异常，性能数据就会偏离正常范围，产生相应异常信息。在所有PON设备异常信息中，弱光信息是较为常见且对用户影响较大的一种异常信息，然而，目前PON增值应用对于弱光这类PON链路相关异常信息仅仅停留在展示的层面上，还没有形成有效的主动分析机制，在发生光链路弱光等问题后不能及时进行处理，影响运维的及时性。另外，在现网中出现PON链路弱光时，由于光链路会经过多个节点，不同的节点管理归属于不同的运维部门，如果仅仅发现了弱光异常，但没有确定是哪段区间的发生的问题，就难以及时分派运维人员进行维修，无法给客户创造更大的价值。鉴于此，克服该现有技术所存在的缺陷是本技术领域亟待解决的问题。【发明内容】本发明要解决的技术问题是：目前PON增值应用对于PON链路弱光相关异常信息仅仅停留在展示的层面上，还没有形成有效的主动分析机制，在PON链路发生弱光等问题后不能及时进行处理，影响运维的及时性。由于PON链路有多个节点，不同的节点管理归属于不同的运维部门，在PON链路发生弱光时，如果仅仅收到PON链路弱光相关异常信息，但没有确定是哪段区间发生的问题，就难以及时分派运维人员进行维修，无法给客户创造更大的价值。本发明通过如下技术方案达到上述目的：第一方面，本发明提供了一种PON链路弱光故障定界方法，包括：获取异常信息，并对满足筛选规则的异常信息进行聚类；若判断同一聚类结果下的异常信息中未包含局端PON口光模块故障的异常信息，则判断同一聚类结果下的异常信息是否来自单个远端设备；若判断同一聚类结果下的异常信息来自单个远端设备，且产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能均值未在警戒阈值范围内，则判断所述单个远端设备产生的异常信息是否为远端PON口光模块故障的异常信息；若判断所述单个远端设备产生的异常信息为非远端PON口光模块故障的异常信息，且产生异常信息的所述单个远端设备的光功率性能值未在正常阈值范围内，则定界结果为组网故障，将所述定界结果以图形化展示于用户界面以便用户查看。优选的，还包括，所述若判断同一聚类结果下的异常信息中未包含局端PON口光模块故障的异常信息，且判断同一聚类结果下的异常信息来自多个远端设备；计算产生异常信息的多个远端设备的数量与产生异常信息的多个远端设备上联的同一局端PON口下所有远端设备的数量的比值；判断所述比值是否超过第一预设值；若所述比值超过第一预设值，则定界结果为主干光路故障；若所述比值未超过第一预设值，则定界结果为分支光路故障。优选的，还包括，若判断同一聚类结果下的异常信息来自单个远端设备，且产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能均值在警戒阈值范围内，则定界结果为分支光路故障。优选的，所述光功率性能均值，具体为：根据拓扑信息获取产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能值，并计算平均值得到光功率性能均值。优选的，还包括，若判断同一聚类结果下的异常信息中包含局端PON口光模块故障的异常信息，则定界结果为局端PON口光模块故障。优选的，还包括，若判断所述单个远端设备产生的异常信息为远端PON口光模块故障的异常信息，则定界结果为远端PON口光模块故障。优选的，还包括，若判断所述单个远端设备产生的异常信息为非远端PON口光模块故障的异常信息，且产生异常信息的所述单个远端设备的光功率性能值在正常阈值范围内，则定界结果为入户光纤异常。优选的，所述正常阈值范围，具体为：获取产生异常信息的单个远端设备上联的局端PON口下其他远端设备的光功率性能值；根据所述产生异常信息的单个远端设备上联的局端PON口下其他远端设备的光功率性能值和异常门限值计算得到所述正常阈值范围。第二方面，本发明还提供了一种PON链路弱光故障定界系统，包括设备交互模块、信息分析模块、数据存储模块和结果显示模块；所述设备交互模块用于与局端设备建立通信通道，从而获取异常信息，并将异常信息存入数据存储模块中形成异常信息队列；所述信息分析模块用于获取数据存储模块中的异常信息队列中的异常信息，对获取的异常信息进行分析得到定界结果，并将定界结果存储于数据存储模块中；所述结果显示模块用于接收用户的查看请求，并将数据存储模块中对应的定界结果展示于结果显示模块的界面以便用户查看。第三方面，本发明还提供了一种PON链路弱光故障定界装置，包括至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被程序设置为执行第一方面所述的PON链路弱光故障定界方法。与现有技术相比，本发明的有益效果是：本发明能够主动根据获取的异常信息进行聚类，然后对同一聚类结果下的异常信息进行多个维度的判断决策，对产生异常信息的原因进行分析定界，最终得到定界结果，并将定界结果以图形化展示于用户界面，用户可以直观通过界面看出是哪个区间出现问题，因此可以及时分派运维人员进行维修，给客户创造更大的价值。【附图说明】为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例中所需要使用的附图作简单地介绍。显而易见地，下面所描述的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的一种PON链路弱光故障定界方法的流程图；图2是本发明实施例提供的一种PON链路弱光故障定界系统的框架图；图3是本发明实施例提供的一种PON链路弱光故障定界方法的PON链路示意图；图4是本发明实施例提供的一种PON链路弱光故障定界方法的PON链路示意图；图5是本发明实施例提供的一种PON链路弱光故障定界方法的定界分类图；图6是本发明实施例提供的一种PON链路弱光故障定界方法的流程图；图7是本发明实施例提供的一种PON链路弱光故障定界方法的流程图；图8是本发明实施例提供的一种PON链路弱光故障定界方法的PON链路示意图；图9是本发明实施例提供的一种PON链路弱光故障定界方法的流程图；图10是本发明实施例提供的一种PON链路弱光故障定界装置的架构图。【具体实施方式】为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。在本发明的描述中，术语“内”、“外”、“纵向”、“横向”、“上”、“下”、“顶”、“底”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明而不是要求本发明必须以特定的方位构造和操作，因此不应当理解为对本发明的限制。此外，下面所描述的本发明各个实施方式中所涉及到的技术特征只要彼此之间未构成冲突就可以相互组合。实施例1:本实施例提供一种PON链路弱光故障定界系统，如图2所示，包括设备交互模块、信息分析模块、数据存储模块和结果显示模块，设备交互模块负责系统与局端设备建立通信通道，进行设备管理工作，在设备发生弱光问题时能接收异常信息，并将异常信息存入数据存储模块中形成异常信息队列；信息分析模块负责每隔一段时间获取数据存储模块中的异常信息队列中的异常信息，对获取的异常信息进行分析，得到定界结果，并将定界结果存储于数据存储模块中；数据存储模块负责存储设备交互模块上报的异常信息、信息分析模块得到的定界结果和拓扑信息；结果显示模块负责接收用户查看的请求，并将数据存储模块中的定界结果以图形化展示于用户界面以便用户查看。实施例2:本发明实施例1还提供了一种PON链路弱光故障定界方法，如图1所示，包括：步骤10，获取异常信息，并对满足筛选规则的异常信息进行聚类；设备交互模块与局端设备建立通信通道后，会将局端设备上报的异常信息存入数据存储模块中形成异常信息队列，信息分析模块每隔一段时间从数据存储模块的异常信息队列中获取异常信息，其中，数据存储模块的异常信息队列中的异常信息经信息分析模块分析定界之后便会从数据存储模块的异常信息队列中清除。信息分析模块获取到数据存储模块的异常信息队列中的异常信息后，会按照筛选规则对获取的异常信息进行筛选，然后对满足筛选规则的异常信息进行聚类，具体聚类方式为：将同一局端PON口下的异常信息聚为一类。本实施例提供一种实际场景中可实现的方式，具体为：假设信息分析模块每隔1min会从数据存储模块中获取异常信息队列中的异常信息，当前时刻从数据存储模块的异常信息队列中获取到了30条异常信息，根据筛选规则对这30条异常信息进行筛选，如：筛选规则为：在1min中内一直未消失的异常信息，则满足筛选规则，这一步的目的主要是为了过滤掉随机发生的突发异常和可自行修复的异常，如：小孩子为了贪玩一直插拔远端设备，具体筛选规则的设定可以根据需求自行设置，在此，对筛选规则不作限定。假设这30条异常信息均满足筛选规则，则对满足筛选规则的异常信息进行聚类，具体的，将同一局端PON口下的异常信息聚为一类，假设这30条异常信息均来自于同一局端PON口A下的设备，则将这30条异常信息聚为一类。然后判断同一聚类结果下的异常信息中是否包含局端PON口光模块故障的异常信息，若判断同一聚类结果下的异常信息中包含局端PON口光模块故障的异常信息，则定界结果为局端PON口光模块故障。因为若局端PON口光模块发生故障，那么这个局端PON口光模块下联的远端设备都会受到影响，因此定界结果为局端PON口光模块故障。步骤20，若判断同一聚类结果下的异常信息中未包含局端PON口光模块故障的异常信息，则判断同一聚类结果下的异常信息是否来自单个远端设备；本实施例提供一种实际场景中可实现的方式，具体为：假设分析得到局端PON口A下的设备上报的30条异常信息中不包含局端PON口光模块故障的异常信息，则判断这30条异常信息是否来自单个远端设备。若判断这30条异常信息来自多个远端设备，则需判断产生这30条异常信息的多个远端设备的数量与产生这30条异常信息的多个远端设备上联的同一局端PON口A下所有的远端设备的数量的比值，并判断所述比值是否超过第一预设值；若所述比值超过第一预设值，则定界结果为主干光路故障；若所述比值未超过第一预设值，则定界结果为分支光路故障。本实施例以PON链路中含有二级光分路器为例进行说明，如图3-4所示，假设局端PON口A下联了一个一级光分路器，所述一级光分路器下联了两个二级光分路器，其中，每个二级光分路器下联5台远端设备，那么此时这个局端PON口A就下联了10台远端设备，假设这30条异常信息由8台远端设备产生，可计算得到产生这30条异常信息的多个远端设备的数量8与产生这30条异常信息的多个远端设备上联的局端PON口A下所有的远端设备的数量10的比值为0.8，假设第一预设值为0.7，由于比值0.8超过第一预设值0.7，那么定界结果为主干光路故障；假设这30条异常信息由3台远端设备产生，那么就可计算得到产生这30条异常信息的多个远端设备的数量3与产生这30条异常信息的多个远端设备上联的局端PON口A下所有的远端设备的数量10的比值为0.3，假设第一预设值为0.7，由于比值0.3未超过第一预设值0.7，那么定界结果为分支光路故障，然后根据拓扑信息，得到是哪一条分支光路故障。由于PON链路是无源光网络，只有远端设备和局端设备可以上报异常信息，远端设备与光分路器的关系需依靠拓扑信息得到，具体的，所述拓扑信息的记录的是光分路器到远端设备间的链路连接情况，其获取方式可以是运维人员在开通业务时记录节点信息，然后手动录入本系统的数据存储模块中，也可以是根据算法，利用远端设备异常信息与局端设备异常信息的相关性进行反向关联来获得，在此不做限定。本实施例中的第一预设值可根据实际需求自行设置，本实施例中涉及而第一预设值的设定仅仅是举例说明。步骤30，若判断同一聚类结果下的异常信息来自单个远端设备，且产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能均值未在警戒阈值范围内，则判断所述单个远端设备产生的异常信息是否为远端PON口光模块故障的异常信息；若判断这30条异常信息来自单个远端设备，该单个远端设备为远端设备1，此时情况会分为以下两种情况：局端PON口A下全链路真实只有一个远端设备异常局端PON口A下全链路表现为只有一个远端设备异常，实际远端设备1上联的同一光分路器下的多个远端设备的光功率性能指标都非常接近门限值，但还没达到门限值，故只能收到一台远端设备发送的异常信息；所述光功率性能均值，具体为：根据拓扑信息获取产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能值，并计算平均值得到光功率性能均值。具体为：根据拓扑信息获取远端设备1上联的同一光分路器下其他4台远端设备的光功率性能值，并计算远端设备1上联的同一光分路器下其他4个远端设备的光功率性能值的平均值得到光功率性能均值。假设计算得到光功率性能均值为-20.5dBm，警戒阈值范围为，可知-20.5dBm未在警戒阈值范围内，说明局端PON口A下全链路真实只有一个远端设备1异常，其中警戒阈值范围中的-24为门限值，-23.7为最大警戒值，该最大警戒值与门限值接近，其中最大警戒值和门限值可以根据需求自行设置，本实施例仅仅是举例说明，并不用于限定本发明。本实施例所涉及的光功率性能值包括光功率值、光衰值、偏置电流值和电压值中的一种或者多种。假设计算得到光功率性能均值为-23.8dBm，警戒阈值范围为，可知-23.8dBm在警戒阈值范围内，则定界结果为分支光路异常，然后根据拓扑信息，得到是哪一条分支光路故障。步骤40，若判断所述单个远端设备产生的异常信息为非远端PON口光模块故障的异常信息，且产生异常信息的所述单个远端设备的光功率性能值未在正常阈值范围内，则定界结果为组网故障，将所述定界结果以图形化展示于用户界面以便用户查看。判断局端PON口A下全链路真实只有一个远端设备1异常后需判断所述远端设备1产生的异常信息是否为远端PON口光模块故障的异常信息；若判断所述单个远端设备产生的异常信息为远端PON口光模块故障的异常信息，则定界结果为远端PON口光模块故障。具体为：若判断所述远端设备1产生的异常信息为远端PON口光模块故障的异常信息，则定界结果为远端PON口光模块故障；若判断所述远端设备1产生的异常信息为非远端PON口光模块故障的异常信息，则判断产生异常信息的远端设备1的光功率性能值是否在正常阈值范围内，该正常阈值范围可以是根据历史经验设置的，也可以是根据当前环境本身计算得到的，本发明不做限定。若正常阈值范围是根据当前环境本身计算得到的，则计算方式举例如下：获取远端设备1上联的局端PON口A下其他9台远端设备的光功率性能值，统计这些光功率性能值的最大值Vmax和最小值Vmin，并根据Vmax、Vmin和异常门限值计算得到所述正常阈值范围，假设异常门限值为Te，则正常阈值范围为，若统计得到远端设备1上联的局端PON口A下其他9台远端设备的光功率性能值中Vmax为-19.5dBm，Vmin为-23.3dBm，且假设Te为2dBm，则计算得到正常阈值范围为；假设产生异常信息的所述远端设备1的光功率性能值为-30dBm，则可知远端设备1的光功率性能值为-30dBm未在正常阈值范围内，则定界结果为组网故障，本实施例中Vmax为-19.5dBm，Vmin为-23.3dBm和Te为2dBm仅仅是举例说明，并不用于限定本发明；若产生异常信息的所述单个远端设备的光功率性能值在正常阈值范围内，则定界结果为入户光纤异常。假设产生异常信息的所述远端设备1的光功率性能值为-20dBm，则可知远端设备1的光功率性能值为-20dBm在正常阈值范围内，则定界结果为入户光纤异常。将信息分析模块得到的定界结果存储于数据存储模块中，由结果显示模块接收用户查看的请求，并将数据存储模块中的定界结果以图形化展示于用户界面以便用户查看。如图6所示，步骤201，还包括，所述若判断同一聚类结果下的异常信息中未包含局端PON口光模块故障的异常信息，且判断同一聚类结果下的异常信息来自多个远端设备；假设分析得到局端PON口A下的设备上报的30条异常信息中不包含局端PON口光模块故障的异常信息，且判断这30条异常信息来自多个远端设备；步骤202，计算产生异常信息的多个远端设备的数量与产生异常信息的多个远端设备上联的同一局端PON口下所有远端设备的数量的比值；具体为：需判断产生这30条异常信息的多个远端设备的数量与产生这30条异常信息的多个远端设备上联的同一局端PON口A下所有的远端设备的数量的比值，本实施例以PON链路中含有二级光分路器为例进行说明，假设局端PON口A下联了一个一级光分路器，所述一级光分路器下联了两个二级光分路器，其中，每个二级光分路器下联5台远端设备，那么此时这个局端PON口A就下联了10台远端设备。步骤203，判断所述比值是否超过第一预设值；步骤204，若所述比值超过第一预设值，则定界结果为主干光路故障；假设这30条异常信息由8台远端设备产生，可计算得到产生这30条异常信息的多个远端设备的数量8与产生这30条异常信息的多个远端设备上联的局端PON口A下所有的远端设备的数量10的比值为0.8，假设第一预设值为0.7，由于比值0.8超过第一预设值0.7，那么定界结果为主干光路故障。步骤205，若所述比值未超过第一预设值，则定界结果为分支光路故障。假设这30条异常信息由3台远端设备产生，那么就可计算得到产生这30条异常信息的多个远端设备的数量3与产生这30条异常信息的多个远端设备上联的局端PON口A下所有的远端设备的数量10的比值为0.3，假设第一预设值为0.7，由于比值0.3未超过第一预设值0.7，那么定界结果为分支光路故障，然后根据拓扑信息，得到是哪一条分支光路故障。由于PON链路是无源光网络，只有远端设备和局端设备可以上报异常信息，远端设备与光分路器的关系需依靠拓扑信息得到，具体的，所述拓扑信息的记录的是光分路器到远端设备间的链路连接情况，其获取方式可以是运维人员在开通业务时记录节点信息，然后手动录入本系统的数据存储模块中，也可以是根据算法，利用远端设备异常信息与局端设备异常信息的相关性进行反向关联来获得，在此不做限定。本实施例中的第一预设值可根据实际需求自行设置，本实施例中涉及而第一预设值的设定仅仅是举例说明。还包括，若判断同一聚类结果下的异常信息来自单个远端设备，且产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能均值在警戒阈值范围内，则定界结果为分支光路故障。根据拓扑信息获取远端设备1上联的同一光分路器下其他4台远端设备的光功率性能值，并计算远端设备1上联的同一光分路器下其他4个远端设备的光功率性能值的平均值得到光功率性能均值。假设计算得到光功率性能均值为-23.7dBm，警戒阈值范围为，可知-23.7dBm在警戒阈值范围内，说明产生异常信息的单个远端设备1上联的同一光分路器下其他4台远端设备的光功率性能均值达到了警戒条件，此时定界结果为分支光路异常，然后根据拓扑信息，得到是哪一条分支光路故障。所述正常阈值范围，具体为：获取产生异常信息的单个远端设备上联的局端PON口下其他远端设备的光功率性能值；具体为：获取远端设备1上联的局端PON口A下其他9台远端设备的光功率性能值，统计这些光功率性能值的最大值Vmax和最小值Vmin。根据所述产生异常信息的单个远端设备上联的局端PON口下其他远端设备的光功率性能值和异常门限值计算得到所述正常阈值范围。具体为：根据Vmax、Vmin和异常门限值计算得到所述正常阈值范围，假设异常门限值为Te，则正常阈值范围为。本实施例仅仅是举例说明一种计算正常阈值范围的情况，该正常阈值范围也可以根据历史经验进行设置。以上所述即为本发明实施例提供的PON链路弱光故障定界方法的完整过程，其中，PON链路弱光故障定界的具体流程可参考图7，PON链路弱光故障定界的所有情况如图5所示。实施例3本实施例在实施例1的基础上还提供一种PON链路弱光故障定界方法，如图8所示，本实施例中的PON链路中只含有一级光分路器，不含有二级光分路器；假设局端PON口A下联了一个一级光分路器，该一级光分路器下联了10台远端设备。获取异常信息，并对满足筛选规则的异常信息进行聚类；假设信息分析模块每隔1min会从数据存储模块中获取异常信息队列中的异常信息，当前时刻从数据存储模块的异常信息队列中获取到了30条异常信息，根据筛选规则对这30条异常信息进行筛选，如：筛选规则为：在1min中内一直未消失的异常信息，则满足筛选规则，这一步的目的主要是为了过滤掉随机发生的突发异常和可自行修复的异常，如：小孩子为了贪玩一直插拔远端设备，具体筛选规则的设定可以根据需求自行设置，在此，对筛选规则不作限定。假设这30条异常信息均满足筛选规则，则对满足筛选规则的异常信息进行聚类，具体的，将同一局端PON口下的异常信息聚为一类，假设这30条异常信息均来自于同一局端PON口A下的设备，则将这30条异常信息聚为一类。然后判断同一聚类结果下的异常信息中是否包含局端PON口光模块故障的异常信息，若判断同一聚类结果下的异常信息中包含局端PON口光模块故障的异常信息，则定界结果为局端PON口光模块故障。因为若局端PON口光模块发生故障，那么这个局端PON口光模块下联的远端设备都会受到影响，此时定界结果为局端PON口光模块故障。若判断同一聚类结果下的异常信息中未包含局端PON口光模块故障的异常信息，则判断同一聚类结果下的异常信息是否来自单个远端设备；若判断这30条异常信息来自多个远端设备，则定界结果为主干光路故障；判断同一聚类结果下的异常信息来自单个远端设备，且产生异常信息的单个远端设备上联的同一光分路器下其他远端设备的光功率性能均值未在警戒阈值范围内，则判断所述单个远端设备产生的异常信息是否为远端PON口光模块故障的异常信息；若判断这30条异常信息来自单个远端设备，该单个远端设备标记为远端设备1，此时情况会分为以下两种情况：局端PON口A下全链路真实只有一个远端设备异常；局端PON口A下全链路表现为只有一个远端设备异常，实际远端设备1上联的同一光分路器下的多个远端设备的光功率性能指标都非常接近门限值，但还没达到门限值，故只能收到一台远端设备发送的异常信息。根据拓扑信息获取远端设备1上联的同一光分路器下其他9台远端设备的光功率性能值，并计算远端设备1上联的同一光分路器下其他9台远端设备的光功率性能值的平均值得到光功率性能均值。假设计算得到光功率性能均值为-20.5dBm，警戒阈值范围为，可知-20.5dBm未在警戒阈值范围内，说明局端PON口A下全链路真实只有一个远端设备1异常，其中警戒阈值范围中的-24为门限值，-23.7为最大警戒值，该最大警戒值与门限值接近，其中最大警戒值和门限值可以根据需求自行设置，本实施例仅仅是举例说明，并不用于限定本发明。若判断局端PON口A下全链路真实只有一个远端设备1异常后需判断所述远端设备1产生的异常信息是否为远端PON口光模块故障的异常信息；若判断所述远端设备1产生的异常信息为远端PON口光模块故障的异常信息，则定界结果为远端PON口光模块故障；假设计算得到光功率性能均值为-23.8dBm，警戒阈值范围为可知-23.8dBm在警戒阈值范围内，则定界结果为主干光路故障。判断所述单个远端设备产生的异常信息为非远端PON口光模块故障的异常信息，且产生异常信息的所述单个远端设备的光功率性能值未在正常阈值范围内，则定界结果为组网故障，将所述定界结果以图形化展示于用户界面以便用户查看。若判断所述远端设备1产生的异常信息为非远端PON口光模块故障的异常信息，则判断产生异常信息的远端设备1的光功率性能值是否在正常阈值范围内，具体为，获取远端设备1上联的局端PON口A下其他9台远端设备的光功率性能值，统计这些光功率性能值的最大值Vmax和最小值Vmin，并根据Vmax、Vmin和异常门限值计算得到所述正常阈值范围，假设异常门限值为Te，则正常阈值范围为，若统计得到远端设备1上联的局端PON口A下其他9台远端设备的光功率性能值中Vmax为-19.5dBm，Vmin为-23.3dBm，且假设Te为2dBm，则计算得到正常阈值范围为；假设产生异常信息的所述远端设备1的光功率性能值为-30dBm，则可知远端设备1的光功率性能值为-30dBm未在正常阈值范围内，则定界结果为组网故障；若产生异常信息的所述单个远端设备的光功率性能值在正常阈值范围内，则定界结果为入户光纤异常。假设产生异常信息的所述远端设备1的光功率性能值为-20dBm，则可知远端设备1的光功率性能值为-20dBm在正常阈值范围内，则定界结果为入户光纤异常，本实施例中所涉及的Vmax为-19.5dBm，Vmin为-23.3dBm和Te为2dBm仅仅是举例说明，并不用于限定本发明。将信息分析模块得到的定界结果存储于数据存储模块中，由结果显示模块接收用户查看的请求，并将数据存储模块中的定界结果以图形化展示于用户界面以便用户查看。本实施例仅仅是举例说明，并不用于限定本发明。以上所述即为本发明实施例提供的PON链路弱光故障定界方法的完整过程，其中，PON链路弱光故障定界的具体流程可参考图9。实施例4在上述实施例1和实施例2提供的PON链路弱光故障定界方法的基础上，本发明还提供了一种可用于实现上述方法的PON链路弱光故障定界装置，如图10所示，是本发明实施例的装置架构示意图。本实施例的PON链路弱光故障定界装置包括一个或多个处理器21以及存储器22。其中，图10中以一个处理器21为例。所述处理器21和所述存储器22可以通过总线或者其他方式连接，图10中以通过总线连接为例。所述存储器22作为一种PON链路弱光故障定界方法非易失性计算机可读存储介质，可用于存储非易失性软件程序、非易失性计算机可执行程序以及模块，如实施例1和实施例2中的PON链路弱光故障定界方法。所述处理器21通过运行存储在所述存储器22中的非易失性软件程序、指令以及模块，从而执行PON链路弱光故障定界装置的各种功能应用以及数据处理，即实现实施例1和实施例2的PON链路弱光故障定界方法。所述存储器22可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他非易失性固态存储器件。在一些实施例中，所述存储器22可选包括相对于所述处理器21远程设置的存储器，这些远程存储器可以通过网络连接至所述处理器21。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。所述程序指令/模块存储在所述存储器22中，当被所述一个或者多个处理器21执行时，执行上述实施例1中的PON链路弱光故障定界方法，例如，执行以上描述的图1、图6-图7、图9所示的各个步骤。本领域普通技术人员可以理解实施例的各种方法中的全部或部分步骤是可以通过程序来指令相关的硬件来完成，该程序可以存储于一计算机可读存储介质中，存储介质可以包括：只读存储器、随机存取存储器、磁盘或光盘等。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
