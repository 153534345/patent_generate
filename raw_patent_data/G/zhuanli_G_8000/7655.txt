标题title
基于成像分割与规划一体化的卫星时序最优任务规划方法
摘要abst
本发明公开了基于成像分割与规划一体化的卫星时序最优任务规划方法。首先，通过卫星可视栅格与观测区域匹配方法，完成了卫星资源观测能力与长期观测任务需求的匹配，降低了时序最优任务规划问题解空间的维度和求解难度。然后，采用成像条带分割与规划一体化处理方法，将成像条带切割操作融入成像任务规划的过程中，使成像条带的切割方式因开机资源约束而变化，增加了成像条带的多样性，从而使卫星有效载荷资源得到合理高效分配。最后，设计了一种覆盖最优轨间任务重调整策略，实现了卫星任务规划序列覆盖率的最快增长，提高了卫星完成对地观测任务的工作效率。
权利要求书clms
1.基于成像分割与规划一体化的卫星时序最优任务规划方法，其特征在于，包括以下步骤，基于卫星可视栅格与观测区域匹配方法，获得目标任务区域栅格表；将所述目标任务区域栅格表合成连续成像条带；对所述连续成像条带进行分割与规划一体化处理，获得开机块；对所述开机块进行时序规划；对时序规划后的所述开机块进行轨间任务调整，获得规划结果；基于所述规划结果，完成卫星对地观测任务。2.根据权利要求1所述的基于成像分割与规划一体化的卫星时序最优任务规划方法，其特征在于，获得目标任务区域栅格表的具体过程为：建立卫星载荷对地观测模型；基于所述卫星载荷对地观测模型，建立卫星可视栅格表；将所述卫星可视栅格表与目标任务观测区域匹配，获得目标任务区域栅格表。3.根据权利要求2所述的基于成像分割与规划一体化的卫星时序最优任务规划方法，其特征在于，建立卫星可视栅格表的具体过程为：根据采样时刻卫星在轨的空间位置状态，利用所述卫星载荷对地观测模型，计算星载传感器可观测区域的地理信息，建立卫星可视栅格表。4.根据权利要求3所述的基于成像分割与规划一体化的卫星时序最优任务规划方法，其特征在于，星载传感器可观测区域的地理信息的计算公式为：其中，表示地球表面任意点的位置向量，表示该点的经度、维度和高度，e是子午椭圆第一偏心率，N是法线长度。5.根据权利要求2所述的基于成像分割与规划一体化的卫星时序最优任务规划方法，其特征在于，所述目标任务区域栅格表包括：采样时刻、栅格顶点经纬度坐标、轨道号、星载传感器波位号和升降轨标识信息。6.根据权利要求1所述的基于成像分割与规划一体化的卫星时序最优任务规划方法，其特征在于，将所述目标任务区域栅格表合成连续成像条带的具体过程为：对所述目标任务区域栅格表中相邻栅格相距时间等于预设时间步长的栅格进行合并，形成连续成像条带。7.根据权利要求1所述的基于成像分割与规划一体化的卫星时序最优任务规划方法，其特征在于，获得开机块的具体过程为：根据同波位和不同波位成像间隔、单次开机预设时长、成像次数、累计成像时长，利用循环贪婪法，对所述连续成像条带进行贪婪规划，生成开机块。8.根据权利要求1所述的基于成像分割与规划一体化的卫星时序最优任务规划方法，其特征在于，对所述开机块进行时序规划的具体过程为：根据单轨开机次数和时长、单轨累计成像次数和时长、单次开机预设时长和开机间隔，对所述开机块进行轨道层任务规划，产生不同回归周期的单轨任务规划序列。9.根据权利要求8所述的基于成像分割与规划一体化的卫星时序最优任务规划方法，其特征在于，对时序规划后的所述开机块进行轨间任务调整的具体过程为：从所述不同回归周期的单轨任务规划序列中，提取单轨累计成像时长；根据不同回归周期的所述单轨累计成像时长的大小，对单轨任务进行排序，大于预设回归周期的所述单轨累计成像时长对应的单轨任务序列优先被观测。
说明书desc
技术领域本发明属于航天卫星管控技术领域，尤其涉及基于成像分割与规划一体化的卫星时序最优任务规划方法。背景技术目前，针对卫星最优任务规划问题，专利“一种基于模拟退火算法的对地观测卫星任务规划方法”通过采用模拟退火算法消除任务冲突优化卫星有效载荷资源的分配，但该算法仅对一次开机/成像情况做出规划，无法适用于一次开机多次成像以及单轨多次开机等复杂成像资源约束的应用场景。专利“一种基于约束满足遗传算法的移动目标单星任务规划方法”设计了冲突消除算子得到满足约束且无冲突的任务序列。在此过程中，直接淘汰掉任务执行总个数大于期望执行总个数的个体任务的操作未考虑到个体任务的合并。专利“面向区域覆盖的多成像卫星任务规划方法”覆盖方案的选择准则是使成像卫星消耗的总能量最小，而未考虑到成像卫星在完成长期规划任务的观测时间这一重要因素。专利“一种资源充足情形下最小完工时间的卫星任务规划方法”以最小完工时间为目标的卫星任务规划,虽然能够缩短执行任务所需时间，但仍以在最小完工时间不变的基础上对不同回归周期任务规划序列做出调整，使得对卫星对观测区域覆盖率增长速度最快。发明内容为解决上述技术问题，本发明提出基于成像分割与规划一体化的卫星时序最优任务规划方法，该方法实现了卫星任务规划序列覆盖率的最快增长，提高了卫星完成对地观测任务的工作效率。为实现上述目的，本发明提供了基于成像分割与规划一体化的卫星时序最优任务规划方法，包括如下步骤：基于卫星可视栅格与观测区域匹配方法，获得目标任务区域栅格表；将所述目标任务区域栅格表合成连续成像条带；对所述连续成像条带进行分割与规划一体化处理，获得开机块；对所述开机块进行时序规划；对时序规划后的所述开机块进行轨间任务调整，获得规划结果；基于所述规划结果，完成卫星对地观测任务。可选地，获得目标任务区域栅格表的具体过程为：建立卫星载荷对地观测模型；基于所述卫星载荷对地观测模型，建立卫星可视栅格表；将所述卫星可视栅格表与目标任务观测区域匹配，获得目标任务区域栅格表。可选地，建立卫星可视栅格表的具体过程为：根据采样时刻卫星在轨的空间位置状态，利用所述卫星载荷对地观测模型，计算星载传感器可观测区域的地理信息，建立卫星可视栅格表。可选地，星载传感器可观测区域的地理信息的计算公式为：其中，表示地球表面任意点的位置向量，表示该点的经度、维度和高度，e是子午椭圆第一偏心率，N是法线长度。可选地，所述目标任务区域栅格表包括：采样时刻、栅格顶点经纬度坐标、轨道号、星载传感器波位号和升降轨标识信息。可选地，将所述目标任务区域栅格表合成连续成像条带的具体过程为：对所述目标任务区域栅格表中相邻栅格相距时间等于预设时间步长的栅格进行合并，形成连续成像条带。可选地，获得开机块的具体过程为：根据同波位和不同波位成像间隔、单次开机预设时长、成像次数、累计成像时长，利用循环贪婪法，对所述连续成像条带进行贪婪规划，生成开机块。可选地，对所述开机块进行时序规划的具体过程为：根据单轨开机次数和时长、单轨累计成像次数和时长、单次开机预设时长和开机间隔，对所述开机块进行轨道层任务规划，产生不同回归周期的单轨任务规划序列。可选地，对时序规划后的所述开机块进行轨间任务调整的具体过程为：从所述不同回归周期的单轨任务规划序列中，提取单轨累计成像时长；根据不同回归周期的所述单轨累计成像时长的大小，对单轨任务进行排序，大于预设回归周期的所述单轨累计成像时长对应的单轨任务序列优先被观测。与现有技术相比，本发明具有如下优点和技术效果：本发明公开了基于成像分割与规划一体化的卫星时序最优任务规划方法：通过卫星可视栅格与观测区域匹配方法，将对不规则区域的覆盖问题转化为对栅格的覆盖问题，解决了长期观测任务需求和卫星资源观测能力的匹配问题，降低了时序最优任务规划问题解空间的维度和求解难度。通过成像条带分割与规划一体化处理方法，在成像任务规划的过程中实现成像条带切割与延长，使得到的成像条带长度受同波位和不同波位成像间隔、以及单次开机的最大时长、成像次数和累计成像时长等约束的影响，增加了条带组合方式的多样性，有利于成像条带排列更加紧密，从而使卫星有效载荷资源得到更加合理高效的分配。通过采用覆盖最优轨间任务重调整策略，在以时序最优规划的前提下实现卫星任务规划序列覆盖率的最快增长，提高了完成卫星对地观测任务的实际工作效率。附图说明构成本申请的一部分的附图用来提供对本申请的进一步理解，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1为本发明实施例的基于成像分割与规划一体化的卫星时序最优任务规划方法流程示意图；图2为本发明实施例的成像条带分割与规划一体化处理算法流程图；图3为本发明实施例的目标区域任务栅格及处理后的连续成像条带示意图，其中，为目标任务区域栅格示意图，经合并、切割和延长后的连续成像条带示意图；图4为本发明实施例的开机块时序最优规划算法流程图；图5为本发明实施例的不同回归周期的单轨任务规划结果示意图，其中，为根据第一次开机时间先后将成像条带规划到不同的回归周期示意图，参考每轨累计成像时长将成像条带规划到不同的回归周期示意图；图6为本发明实施例的随回归周期数增长卫星观测覆盖率的变化情况示意图。具体实施方式需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。下面将参考附图并结合实施例来详细说明本申请。需要说明的是，在附图的流程图示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤。实施例如图1所示，本发明提供基于成像分割与规划一体化的卫星时序最优任务规划方法，包括如下步骤：步骤一，卫星可视栅格与观测区域匹配。建立卫星载荷对地观测模型，根据采样时刻卫星在轨的空间位置状态计算星载传感器可观测区域的地理信息并记录在卫星可视栅格表中。通过卫星可视栅格与目标任务观测区域匹配，记录部分落在或全部落在观测区域内的栅格，组成目标任务区域栅格表。进一步地，步骤一中，所述的卫星在轨空间位置状态转换如公式所示，其中,vSEN和vECEF表示在星载传感器坐标系和地心地固坐标系状态空间的观测向量。RSENtoSAT,RSATtoLVLH,RLVLHtoECI,RECItoECEF分别表示星载传感器坐标系SEN、卫星体坐标系SAT、卫星轨道坐标系LVLH、地球惯性坐标系ECI和地心地固坐标系ECEF之间的转换矩阵。rt表示t时刻卫星轨道坐标系原点与地球惯性坐标系原点间的距离。所述的星载传感器可观测区域地理位置信息可通过公式计算。其中，表示地球表面任意点的位置向量，表示该点的经度、维度和高度。其中，e是子午椭圆第一偏心率，N是法线长度，两者可通过公式计算得出，a,b为地球椭球参数。由此计算得到的卫星可视区域栅格表和目标任务区域栅格表包括采样时刻、栅格顶点经纬度坐标、轨道号、星载传感器波位号、升降轨标识等信息。步骤二，连续成像条带合成。对相邻栅格相距时间等于时间步长的栅格进行合并，形成连续成像条带。当具有相同波位号的前一成像条带的观测时长小于最小开机时长和最小成像时长，且紧邻的后一成像条带的开始观测时间在前一条带的最小开机时长和最小成像时长内时，这两个成像条带可合并为同一个连续成像条带。进一步地，步骤二中，所述的连续成像条带表记录有成像开机时间、成像结束时间、轨道号、波位号和升降轨标识的信息。在第r个回归周期的第j个开机块内的第i个连续成像条带表示为其中，R是完成任务所需要的回归周期数，Jr是第r个回归周期的开机块数，Ij是第j个开机块内的条带数。步骤三，成像条带分割与规划一体化处理。根据最大最小成像时长、同波位和不同波位成像间隔、以及单次开机的最大时长、成像次数和累计成像时长约束，对连续成像条带进行贪婪规划，产生不同的开机块。如图2所示，利用贪婪算法思想，通过迭代选取剩余连续成像条带集中最早开始的连续成像条带，依照最大最小成像时长、同波位和不同波位成像间隔约束切割或延长所选成像条带，将得到的成像条带放入开机块并更新剩余条带集，直至当满足单次开机最大时长、成像次数或累计成像时长约束的一个或几个时，产生一个开机块。通过循环规划，将所有连续成像条带分配到不同的开机块。如图3所示。进一步地，步骤三中，所述的开机块记录有本开机块内的连续成像条带信息、成像次数Ij、成像时间间隔、开机时长以及开关机时间第r个回归周期的第j个开机块表示为Oj,r＝{Si,j,r|i＝1,2...Ij},j＝1,2...Jr。成像条带分割与规划一体化处理所生成的连续条带需满足如公式中的开机块内约束，包括最大最小成像时长STmax,STmin、同波位和不同波位成像间隔ITsame,ITdiff、单次开机最大时长SOmax、单次开机成像次数SNmax和单次开机累计成像时长CSTmax的要求，在每次循环搜索下一连续条带时需最小化如公式的目标函数。步骤四，开机块时序最优规划。根据单轨开机次数和时长、单轨累计成像次数和时长、单次开机最小时长以及开机间隔，对开机块进行轨道层任务规划，产生不同回归周期的单轨任务规划序列。如图4所示，同样采用贪婪算法思想，选取剩余开机块集中最早开始的开机块，依照上述约束将开机块分配到不同的回归周期，通过迭代循环规划，直至开机块集为空，实现了开机块到不同回归周期单轨任务的分配。进一步地，步骤四中，所述的不同回归周期的单轨任务规划序列记录有每个回归周期分配到的开机块信息、开关机次数、开关机时间间隔、该回归周期的第一次开机时刻以及最后一次关机时刻。单轨任务规划序列Mr＝{Oj,r|j＝1,2...Jr},r＝1,2...R可以表示为由Jr个开机块组成的第r个回归周期的任务集。开机块时序最优规划的目标是实现最小回归周期数，在实现优化目标的同时，同一回归周期内的开机块需满足如公式所示的单次开机最小时长SOmin、开机间隔IN、单轨开机次数ONmax、单轨累计开机时长COTmax、单轨累计成像次数CSNmax和单轨累计成像时长CCSTmax的约束。min R步骤五，覆盖最优轨间任务重调整。对不同周期单轨任务规划序列的累计成像时长排序得到最终的规划结果，如图5所示。从不同回归周期的单轨任务规划序列中提取单轨累计成像时长，根据不同回归周期累计成像时长的大小，对单轨任务进行排序，累计成像时长大的回归周期对应的单轨任务序列优先被观测。步骤六，执行对地观测。根据最终的规划结果，完成卫星对地观测任务。进一步地，根据规划结果，执行对地观测，随着回归周期数的增加，卫星对地观测覆盖率的变化如图6所示，相较于原开机块时序最优规划的结果，覆盖最优轨间任务重调整后的覆盖率增长更快。本发明公开了基于成像分割与规划一体化的卫星时序最优任务规划方法。首先，通过卫星可视栅格与观测区域匹配方法，完成了卫星资源观测能力与长期观测任务需求的匹配，降低了时序最优任务规划问题解空间的维度和求解难度。然后，采用成像条带分割与规划一体化处理方法，将成像条带切割操作融入成像任务规划的过程中，使成像条带的切割方式因开机资源约束而变化，增加了成像条带的多样性，从而使卫星有效载荷资源得到合理高效分配。最后，设计了一种覆盖最优轨间任务重调整策略，实现了卫星任务规划序列覆盖率的最快增长，提高了卫星完成对地观测任务的工作效率。以上，仅为本申请较佳的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应该以权利要求的保护范围为准。
