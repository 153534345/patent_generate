标题title
一种基于模式识别的肌电生物反馈设备及系统
摘要abst
本发明提供了一种基于模式识别的肌电生物反馈设备及系统，实时采集肌电数据，获取N个通道中每一个通道中距离当前时刻最近的M个原始肌电数据，根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据；根据所述目标肌电数据进行活动段的提取；提取活动段的特征，对特征提取后的活动段，利用模式识别方法识别用户的动作，根据所述动作控制肌电生物反馈设备的输出反馈信息。本发明能够准确对肌电生物反馈设备中模式识别的活动段进行识别，提高了模式识别的准确率，便于用户准确控制游戏，提高儿童进行康复训练的积极性。
权利要求书clms
1.一种基于模式识别的肌电生物反馈设备，所述设备包括电极、主机、显示器，其特征在于，所述设备还包括以下模块：采集与预处理模块，用于实时采集肌电数据，获取N个通道中每一个通道中距离当前时刻最近的M个原始肌电数据，根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据；所述N为正偶数；活动段提取模块，根据所述目标肌电数据进行活动段的提取；识别与反馈模块，用于提取活动段的特征，对特征提取后的活动段，利用模式识别方法识别用户的动作，根据所述动作控制肌电生物反馈设备的输出反馈信息。2.如权利要求1所述的肌电生物反馈设备，其特征在于，所述根据所述目标肌电数据进行活动段的提取，具体为：对于每组所述目标肌电数据，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，分别计算每段的信号的平方和的平均值V1；若所述平均值V1逐步增加，且从H段中的第K段开始，所述平均值V1大于第一阈值，则将所述第K段的起始点作为活动段的确认起始点；若所述平均值V1逐步减小，且从H段中的第L段开始，所述平均值V1小于第一阈值，则将所述第L段的末尾作为活动段的确认结尾点；根据所述确认起始点和所述确认结尾点提取每个通道的活动段；所述K＝1、2、...、H，所述L＝1、2、...、H。3.如权利要求2所述的肌电生物反馈设备，其特征在于，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，具体为：根据计算划分的段数H，其中，β为游戏难度系数，ε为所述资源利用率，M1为最小分段肌电数据个数。4.如权利要求1所述的肌电生物反馈设备，其特征在于，所述若N＞2，将N个通道分为N/2组，具体为：获取N个通道中每一个的M个原始肌电数据的平方和的平均值V2，按照V2从大到小的顺序所述N个通道进行排序，将第L个和第N/2+L个分配到一组，所述L＝1、2、...、N/2。5.如权利要求1-4任一项所述的肌电生物反馈设备，其特征在于，所述根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据，具体为：将N个通道分为N/2组，每组保护两个通道的M个原始肌电数据，将所述两个通道的M个原始肌电数据相减后作为提取活动段的目标肌电数据。6.一种基于模式识别的肌电生物反馈系统，其特征在于，所述系统包括以下模块：采集与预处理模块，用于实时采集肌电数据，获取N个通道中每一个通道中距离当前时刻最近的M个原始肌电数据，根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据；所述N为正偶数；活动段提取模块，根据所述目标肌电数据进行活动段的提取；识别与反馈模块，用于提取活动段的特征，对特征提取后的活动段，利用模式识别方法识别用户的动作，根据所述动作控制肌电生物反馈设备的输出反馈信息。7.如权利要求6所述的肌电生物反馈系统，其特征在于，所述根据所述目标肌电数据进行活动段的提取，具体为：对于每组所述目标肌电数据，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，分别计算每段的信号的平方和的平均值V1；若所述平均值V1逐步增加，且从H段中的第K段开始，所述平均值V1大于第一阈值，则将所述第K段的起始点作为活动段的确认起始点；若所述平均值V1逐步减小，且从H段中的第L段开始，所述平均值V1小于第一阈值，则将所述第L段的末尾作为活动段的确认结尾点；根据所述确认起始点和所述确认结尾点提取每个通道的活动段；所述K＝1、2、...、H，所述L＝1、2、...、H。8.如权利要求7所述的肌电生物反馈系统，其特征在于，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，具体为：根据计算划分的段数H，其中，β为游戏难度系数，ε为所述资源利用率，M1为最小分段肌电数据个数。9.如权利要求6所述的肌电生物反馈系统，其特征在于，所述若N＞2，将N个通道分为N/2组，具体为：获取N个通道中每一个的M个原始肌电数据的平方和的平均值V2，按照V2从大到小的顺序所述N个通道进行排序，将第L个和第N/2+L个分配到一组，所述L＝1、2、...、N/2。10.如权利要求6-9任一项所述的肌电生物反馈系统，其特征在于，所述根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据，具体为：将N个通道分为N/2组，每组保护两个通道的M个原始肌电数据，将所述两个通道的M个原始肌电数据相减后作为提取活动段的目标肌电数据。
说明书desc
技术领域本申请涉及医疗器械领域，尤其涉及基于模式识别的肌电生物反馈设备及系统。背景技术儿童是身体、智力发育的关键时期，儿童的健康成长对于人的一生至关重要，但是受到遗传、环境等因素的影响，多动症、孤独症、语言障碍等时有发生，儿童训练有助于以上病症的改善。所谓儿童是指采用科学的方式，有针对性的采取一些措施，以完全或部分的恢复儿童身心的健康。我国的儿童起步于20世纪80年代，经过这些年的发展，很多医院以及机构建立了儿童科，而且采用的方式也越来越科学、规范。生物反馈治疗法是儿童训练中常用的方式，主要包括肌电生物反馈治疗、皮电生物反馈治疗、脑电生物反馈治疗等，其中肌电生物反馈可以用于辅助治疗儿童运动障碍、注意力不集中等，为了吸引儿童的注意力，肌电生物反馈主要是以游戏的方式与儿童交互。但是目前用肌电信号控制游戏延迟较大，精确度不高，往往儿童做出对应动作后，游戏中的角色延迟一定时间后才做出反应，这就导致无法实现精确的游戏控制，对于一些稍微复杂点的游戏，操控性更差，儿童的兴趣降低，效果也明显下降。如何提高肌电生物反馈设备动作识别的准确度是提高儿童参与训练以及提高康复效果的关键。发明内容为了解决上述问题，一方面，本发明提供了一种基于模式识别的肌电生物反馈设备，所述设备包括电极、主机、显示器，所述设备还包括以下模块：采集与预处理模块，用于实时采集肌电数据，获取N个通道中每一个通道中距离当前时刻最近的M个原始肌电数据，根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据；所述N为正偶数活动段提取模块，根据所述目标肌电数据进行活动段的提取；识别与反馈模块，用于提取活动段的特征，对特征提取后的活动段，利用模式识别方法识别用户的动作，根据所述动作控制肌电生物反馈设备的输出反馈信息。优选地，所述根据所述目标肌电数据进行活动段的提取，具体为：对于每组所述目标肌电数据，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，分别计算每段的信号的平方和的平均值V1；若所述平均值V1逐步增加，且从H段中的第K段开始，所述平均值V1大于第一阈值，则将所述第K段的起始点作为活动段的确认起始点；若所述平均值V1逐步减小，且从H段中的第L段开始，所述平均值V1小于第一阈值，则将所述第L段的末尾作为活动段的确认结尾点；根据所述确认起始点和所述确认结尾点提取每个通道的活动段；所述K＝1、2、...、H，所述L＝1、2、...、H。优选地，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，具体为：根据计算划分的段数H，其中，β为游戏难度系数，ε为所述资源利用率，M1为最小分段肌电数据个数。优选地，所述若N＞2，将N个通道分为N/2组，具体为：获取N个通道中每一个的M个原始肌电数据的平方和的平均值V2，按照V2从大到小的顺序所述N个通道进行排序，将第L个和第N/2+L个分配到一组，所述L＝1、2、...、N/2。优选地，所述根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据，具体为：将N个通道分为N/2组，每组保护两个通道的M个原始肌电数据，将所述两个通道的M个原始肌电数据相减后作为提取活动段的目标肌电数据。另一方面，本发明还提供了一种基于模式识别的肌电生物反馈系统，所述系统包括以下模块：采集与预处理模块，用于实时采集肌电数据，获取N个通道中每一个通道中距离当前时刻最近的M个原始肌电数据，根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据；所述N为正偶数活动段提取模块，根据所述目标肌电数据进行活动段的提取；识别与反馈模块，用于提取活动段的特征，对特征提取后的活动段，利用模式识别方法识别用户的动作，根据所述动作控制肌电生物反馈设备的输出反馈信息。优选地，所述根据所述目标肌电数据进行活动段的提取，具体为：对于每组所述目标肌电数据，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，分别计算每段的信号的平方和的平均值V1；若所述平均值V1逐步增加，且从H段中的第K段开始，所述平均值V1大于第一阈值，则将所述第K段的起始点作为活动段的确认起始点；若所述平均值V1逐步减小，且从H段中的第L段开始，所述平均值V1小于第一阈值，则将所述第L段的末尾作为活动段的确认结尾点；根据所述确认起始点和所述确认结尾点提取每个通道的活动段；所述K＝1、2、...、H，所述L＝1、2、...、H。优选地，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，具体为：根据计算划分的段数H，其中，β为游戏难度系数，ε为所述资源利用率，M1为最小分段肌电数据个数。优选地，所述若N＞2，将N个通道分为N/2组，具体为：获取N个通道中每一个的M个原始肌电数据的平方和的平均值V2，按照V2从大到小的顺序所述N个通道进行排序，将第L个和第N/2+L个分配到一组，所述L＝1、2、...、N/2。优选地，所述根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据，具体为：将N个通道分为N/2组，每组保护两个通道的M个原始肌电数据，将所述两个通道的M个原始肌电数据相减后作为提取活动段的目标肌电数据。本发明针对肌电生物反馈仪中用户动作识别不准确的问题，通过对多通道采集的肌电信号进行分组，将信号相差较大的通道进行相减，不仅有助于抑制噪声，而且避免了对每个通道在活动段提取时分别设置阈值的问题；此外，根据游戏难度和所述肌电生物反馈设备的资源利用率，对目标肌电数据进行分组，在游戏难度大、资源利用率的情况下，增加每个目标肌电数据的分段，提高了活动段检测的准确性，避免了分段过少时，无法及时发现活动启示和活动结束的问题。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为两通道采集的sEMG数据；图2为模式识别框架图；图3为本发明流程图。具体实施方式在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。具体实施例一本发明提供了一种基于模式识别的肌电生物反馈设备，所述设备包括电极、主机、显示器，所述设备还包括以下模块：采集与预处理模块，用于实时采集肌电数据，获取N个通道中每一个通道中距离当前时刻最近的M个原始肌电数据，根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据；所述N为正偶数；肌电生物反馈设备有2通道、4通道、8通道，甚至有16通道、32通道，通道越多，采集的肌电数据越多，对于活动的识别也越准确，同时对系统的资源要求也越高。如图1，为2通道采集的sEMG数据。在以往的活动段检测中，需要先进行预处理，例如降噪等，然后分别对每个通道设置阈值，当该通道的信号的值或者某一段的平方和的平均值大于阈值，则认为是活动的开始。通道越多设置的阈值也越多，计算的数据量也越多。活动可以是手部、腿部等的运动。由于噪声对每个通道的影响基本相同，例如肌电生物反馈仪自身的噪声、周围环境的噪声等，在本发明的一个实施例中，无需对采集的原始肌电数据进行处理，通过对不同通道的数据相减，达到抑制噪声的效果。而且不同通道的数据相减后，数据量会下降，无需判断每个通道的数据的活动段，提高了系统处理速度，游戏的实时性也能得到提升。活动段提取模块，根据所述目标肌电数据进行活动段的提取；经过采集与预处理模块的处理，得到目标肌电数据，对目标肌电数据进行分析，即可提取出活动段。识别与反馈模块，用于提取活动段的特征，对特征提取后的活动段，利用模式识别方法识别用户的动作，根据所述动作控制肌电生物反馈设备的输出反馈信息。如图2所示，模式识别是计算机根据样本的特征将样本划分到一定的类别中去，模式识别方法主要包括统计模式识别、结构模式识别、模糊模式识别、人工神经网络等，在提取到活动段后，针对每个通道中位于该活动段的数据分别进行模式识别，然后根据各个通道的活动段的模式识别结果，判断出用户具体的动作。也可以将每个通道中位于该活动段的数据一同输入模式识别模型中，然后输出模式识别的具体动作。识别用户的动作后，会在游戏界面完成对游戏的相应操控，例如上升、下降、前进、后退、加速、减速、射击等动作。由于每个动作也即活动段的持续时间、幅度值不同，操控游戏的动作也会有所差别，进一步地，在一个具体实施例中，根据活动段的持续时间和幅度值确定操作的时间和操控的力度。所述幅度值为所有通道的活动段数据的平方和的平均。优选地，所述根据所述目标肌电数据进行活动段的提取，具体为：对于每组所述目标肌电数据，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，分别计算每段的信号的平方和的平均值V1；若所述平均值V1逐步增加，且从H段中的第K段开始，所述平均值V1大于第一阈值，则将所述第K段的起始点作为活动段的确认起始点；若所述平均值V1逐步减小，且从H段中的第L段开始，所述平均值V1小于第一阈值，则将所述第L段的末尾作为活动段的确认结尾点；根据所述确认起始点和所述确认结尾点提取每个通道的活动段；所述K＝1、2、...、H，所述L＝1、2、...、H。为了提高游戏的实时性，在一个具体实施例中，当平均值V1逐步增大，且从H段中的第K段开始，所述平均值V1大于第一阈值时，还包括：对大于第一阈值的段进行模式识别，具体地为：获取与所述平均值V1大于第一阈值的时间段，将N通道中该时间段内的数据输入作为N个参数输入第二识别模型，识别即将进行的动作。由于不同的动作，在不同位置的肌电信号有所差别，根据通道采集的位置和肌电信号数据可以预判出即将发生的动作，然后再根据活动段的持续时间和幅度值确定动作的具体效果。例如，根据N个通道的位置和该时间段内的数据判断出用户即将进行抬手动作，此时，游戏中的飞行器会向上抬升，随着动作的进行，识别到确认结尾点时，也即活动结束时，可以确定上升幅度、上升速度等。这样避免了用户动作结束后，游戏中的角色才开始相应的操作，带给用户的不好体验的问题。优选地，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，具体为：根据计算划分的段数H，其中，β为游戏难度系数，ε为所述资源利用率，M1为最小分段肌电数据个数。例如M＝100，M1＝5，游戏难度系数为0.2，资源利用率为40％，则求得H为3，也即分为三段。当游戏难度增加为0.4时，求得H为5，也即分为五段。分段过多会导致计算量增加，分段过少导致计算准确性和实时性有所降低，在一个实施例中，若则取H为若H＜3，则取H＝3。不同通道采集的数据有所不同，但是位置接近的电极，采集的数据幅度等相差较小，为了避免临近通道采集数据作差后相差较小，在一个实施例中，所述若N＞2，将N个通道分为N/2组，具体为：获取N个通道中每一个的M个原始肌电数据的平方和的平均值V2，按照V2从大到小的顺序所述N个通道进行排序，将第L个和第N/2+L个分配到一组，所述L＝1、2、...、N/2。优选地，所述根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据，具体为：将N个通道分为N/2组，每组保护两个通道的M个原始肌电数据，将所述两个通道的M个原始肌电数据相减后作为提取活动段的目标肌电数据。具体实施例二本发明还提供了一种基于模式识别的肌电生物反馈系统，所述系统包括以下模块：采集与预处理模块，用于实时采集肌电数据，获取N个通道中每一个通道中距离当前时刻最近的M个原始肌电数据，根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据；所述N为正偶数；活动段提取模块，根据所述目标肌电数据进行活动段的提取；识别与反馈模块，用于提取活动段的特征，对特征提取后的活动段，利用模式识别方法识别用户的动作，根据所述动作控制肌电生物反馈设备的输出反馈信息。优选地，所述根据所述目标肌电数据进行活动段的提取，具体为：对于每组所述目标肌电数据，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，分别计算每段的信号的平方和的平均值V1；若所述平均值V1逐步增加，且从H段中的第K段开始，所述平均值V1大于第一阈值，则将所述第K段的起始点作为活动段的确认起始点；若所述平均值V1逐步减小，且从H段中的第L段开始，所述平均值V1小于第一阈值，则将所述第L段的末尾作为活动段的确认结尾点；根据所述确认起始点和所述确认结尾点提取每个通道的活动段；所述K＝1、2、...、H，所述L＝1、2、...、H。优选地，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，具体为：根据计算划分的段数H，其中，β为游戏难度系数，ε为所述资源利用率，M1为最小分段肌电数据个数。优选地，所述若N＞2，将N个通道分为N/2组，具体为：获取N个通道中每一个的M个原始肌电数据的平方和的平均值V2，按照V2从大到小的顺序所述N个通道进行排序，将第L个和第N/2+L个分配到一组，所述L＝1、2、...、N/2。优选地，所述根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据，具体为：将N个通道分为N/2组，每组保护两个通道的M个原始肌电数据，将所述两个通道的M个原始肌电数据相减后作为提取活动段的目标肌电数据。实施例三如图3所示，本发明还提供了一种基于模式识别的肌电生物反馈方法，所述方法包括以下步骤：步骤1，实时采集肌电数据，获取N个通道中每一个通道中距离当前时刻最近的M个原始肌电数据，根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据；所述N为正偶数；步骤2，根据所述目标肌电数据进行活动段的提取；步骤3，提取活动段的特征，对特征提取后的活动段，利用模式识别方法识别用户的动作，根据所述动作控制肌电生物反馈设备的输出反馈信息。优选地，所述根据所述目标肌电数据进行活动段的提取，具体为：对于每组所述目标肌电数据，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，分别计算每段的信号的平方和的平均值V1；若所述平均值V1逐步增加，且从H段中的第K段开始，所述平均值V1大于第一阈值，则将所述第K段的起始点作为活动段的确认起始点；若所述平均值V1逐步减小，且从H段中的第L段开始，所述平均值V1小于第一阈值，则将所述第L段的末尾作为活动段的确认结尾点；根据所述确认起始点和所述确认结尾点提取每个通道的活动段；所述K＝1、2、...、H，所述L＝1、2、...、H。优选地，根据游戏难度和所述肌电生物反馈设备的资源利用率，将所述目标肌电数据按顺序划分为H段，具体为：根据计算划分的段数H，其中，β为游戏难度系数，ε为所述资源利用率，M1为最小分段肌电数据个数。优选地，所述根据所述N个通道中的每一个的M个原始肌电数据得到目标肌电数据，具体为：将N个通道分为N/2组，每组保护两个通道的M个原始肌电数据，将所述两个通道的M个原始肌电数据相减后作为提取活动段的目标肌电数据。实施例四本发明还提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现如实施例三所述的方法。本发明所述的各个实施例可以进行组合以实现对应的技术方案。结合本文中所公开的实施例描述的方法或算法的步骤可以直接用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。
