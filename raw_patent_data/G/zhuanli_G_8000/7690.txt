标题title
一种基于神经网络结合遗传算法的天基无源探测定轨方法
摘要abst
本发明公开了一种基于神经网络结合遗传算法的天基无源探测定轨方法，定义航天器训练数据发生器，并得到训练数据；标准化训练数据，通过标准化后的数据离线训练深度神经网络；定义改进多种群非支配排序遗传算法，确定合适的参数并以单位视线矢量与单位相对位置矢量叉积的平方和、单位视线矢量与单位相对位置矢量的乘积与1的差作为适应度函数；将改进多种群非支配排序遗传算法与深度神经网络相结合，得到仅测角相对定轨的非线性相对运动模型并部署在感知卫星上，输入相对测量，实现对目标卫星相对轨道的在线确定。本发明通过对模型输入感知卫星绝对状态和三组相对测量角进行一一映射的方式设置，从而实现对在GEO类型轨道上任意目标的相对定轨。
权利要求书clms
1.一种基于神经网络结合遗传算法的天基无源探测定轨方法，其特征在于，包括以下步骤：步骤1，定义航天器训练数据发生器，并通过该数据发生器得到深度神经网络的训练数据；步骤2，预处理步骤1产生的训练数据，得到标准化后的数据；步骤3，定义深度神经网络，确定合适的参数，通过标准化后的数据离线训练该深度神经网络；步骤4，基于训练后的深度神经网络缩小解的空间范围，具体的，将深度神经网络作为种群个体值的边界取值器，并得到种群个体的取值范围；步骤5，定义改进遗传算法，包括向量差值变异算法、多目标遗传算法和多种群遗传算法，在种群个体的取值范围内得到n个种群，并基于改进遗传算法进行迭代寻优，得到仅测角相对定轨的非线性相对运动模型；步骤6，将所述非线性相对运动模型部署在感知卫星上，将光学相机测量的相对测量角输入该模型中，实现对目标卫星相对轨道的在线确定。2.根据权利要求1所述的基于神经网络结合遗传算法的天基无源探测定轨方法，其特征在于，步骤4具体为：步骤4.1，将观测角输入到深度神经网络中，得到一组初始的空间目标相对于观测星的相对运动状态；步骤4.2，将初始相对运动状态相应值向上/下扩展一定比例作为种群中个体值的上/下界。3.根据权利要求1或2所述的基于神经网络结合遗传算法的天基无源探测定轨方法，其特征在于，步骤5具体为：步骤5.1，构造种群个体，并组成n个遗传算法种群，其中，种群个体包括目标卫星三个维度的位置和速度即六个相对运动状态；步骤5.2，基于多目标遗传算法建立非支配排序算法，其中，多目标遗传算法包括两种适应度函数，分别为单位视线矢量与单位相对位置矢量叉积的平方和、单位视线矢量与单位相对位置矢量的乘积与1的差；步骤5.3，基于拥挤度比较算子建立拥挤度排序算法；步骤5.4，对每个种群内部的个体进行交叉、变异、排序、保留操作实现迭代进化寻优，其中，变异是基于向量差值变异算法实现的，排序是基于非支配排序算法和拥挤度排序算法实现的；步骤5.5，基于多种群遗传算法实现最优个体的保留，具体的，n个种群在每次迭代进化寻优过程中使用移民算子进行相互信息交流，保留每次迭代中n个种群中的最优个体，并以每代最优个体的变化作为迭代终止条件。4.根据权利要求3所述的基于神经网络结合遗传算法的天基无源探测定轨方法，其特征在于，步骤5.2中非支配排序算法具体为：，其中， x0是空间目标和观测星在t0时刻的相对运动状态，ui是由相机采集的图像获得的在ti时刻的单位视线矢量， h为ti时刻空间目标相对于观测星的单位相对位置矢量， J1为第一适应度函数，表示前k个时刻单位视线矢量与单位相对位置矢量叉积的平方和，J2为第二适应度函数，表示前k个时刻单位视线矢量与单位相对位置矢量的乘积与1的差。5.根据权利要求4所述的基于神经网络和结合遗传算法的无源探测定轨方法，其特征在于，步骤5.3中基于拥挤度比较算子建立拥挤度排序规则如下：，其中为第i个个体的拥挤度， fm为第m个适应度函数。6.根据权利要求5所述的基于神经网络结合遗传算法的天基无源探测定轨方法，其特征在于，步骤5.4中交叉采用模拟二进制交叉，变异采用向量差值变异，选择采用精英保留选择；对每个种群内部进行个体的交叉、变异后得到的子代种群与父代种群，均进行非支配排序与拥挤度排序，在分别包含n个个体的父代和子代种群中，各选择前n/2个个体组成新的子代种群。7.根据权利要求6所述的基于神经网络和结合遗传算法的无源探测定轨方法，其特征在于，步骤5.4中模拟二进制交叉和精英保留选择具体为：其中和是第j次随机选择中的两个不同父代个体，和是上述两个父代个体交叉得到的两个子代个体，t是个体中的第t位向量，γj是由分布因子η动态随机决定的。8.根据权利要求7所述的基于神经网络和结合遗传算法的无源探测定轨方法，其特征在于，向量差值变异算法具体为：,其中x1、x2和x3分别为从当前种群中随机选择的三个不同父代个体，是由上述三个父代个体变异生成的子代个体，t是个体中的第t位向量，F是量化因子。9.根据权利要求8所述的基于神经网络和结合遗传算法的无源探测定轨方法，其特征在于，其特征在于，使用移民算子对不同种群间进行信息交流，通过人工选择算子保存各种群每个进化代中的最优个体形成精华种群，并作为判断算法收敛的依据，具体如下：找出第i个种群中的最劣个体和第j个中种群中的最优个体，并进行交换，直至n个种群均发生了移民，实现了种群间的信息交互，再通过人工选择算子，即将所有种群的个体进行排序，选择最优个体放入精华种群中。10.根据权利9要求所述的基于神经网络结合遗传算法的天基无源探测定轨方法，其特征在于，使用精华种群作为判断遗传算法迭代终止的依据，具体为：精华种群不进行选择、交叉、变异遗传操作，保证进化过程中产生的最优个体不被破坏和丢失，使用最优个体最少保持代数作为终止判据，即当同一个最优个体连续保持一定的代数时则迭代终止。
说明书desc
技术领域本发明涉及光学相机相对定轨与导航技术领域，具体为基于深度神经网络和改进非支配遗传算法的天基无源探测定轨方法。背景技术随着航天活动日益频繁，失效卫星、空间碎片等空间非合作目标的数量迅速增加。近地空间环境成日益恶化趋势，在轨航天器的安全问题越来越突出。因而，增强空间态势感知能力和对失效卫星等空间非合作目标进行诸如维护、离轨清理等在轨自主服务研究具有重要意义，而进行自主在轨服务与增强空间态势感知能力的关键前提是实现目标自主相对定轨。目前，自主在轨服务任务中常用的星载测量敏感器主要有微波、激光雷达，相对卫星导航以及光学相机。其中只有光学相机能够全部满足对空间非合作目标进行在轨服务时测量系统简单可靠、体积小、全自主、隐蔽性好等要求。除此之外，基于光学相机无源仅测角的相对定轨系统还具有天然的测量隐蔽性，因而特别适合完成对空间非合作目标的相对定轨测量任务。然而，对于线性化观测/相对运动模型来说，仅测角相对定轨系统存在距离的不可观测性问题，即3组角度观测量不足以确定感知卫星与目标卫星之间的相对距离，从而不能确定相对运动状态量。目前国内外解决该问题主要有四类着手点：1、从复杂的相对运动动力学入手，研究仅测角相对定轨问题。目前有通过多维卷积理论、非线性QV级数来得到近似相对运动解的方法。但这些方法要求很强的非线性项，非线性项较弱时，产生的效果很容易淹没在测量误差之中，这些方法都只能适用理想条件下的相对轨道确定，在测量噪声干扰情况下的定轨精度还有待提高。2、通过多星测量的方式产生多组角度量测量来实现相对定轨。该方法通过配置辅助测量航天器形成测量基线，从而来引入距离信息，提高可观测性。该方法只适用于多个航天器协同进行任务，从而提高了卫星的成本。3、从感知器轨道机动解决仅测角定轨的可观测性问题。该方法结合轨道机动估距的思想，但是不同的轨道机动也存在不同的可观测性，在实际任务中约束了相对轨道制导的自由度。4、通过测量相机安装存在偏离航天器质心的现象解决相对距离的可观测性问题。该方法通过在线性化的运动动力学基础上叠加独立偏置量来产生可观测性，但是由于偏置位置矢量长度限制，该方法仅适用于近程交会阶段。公开号为CN113761809B的中国发明专利《一种基于深度神经网络的无源探测定轨方法》于2021年12月7日公开了一种定轨方法，旨在通过使用轨道曲率捕获能力更强的，基于深度神经网络的视线角测量到相对轨道状态非线性映射模型拟合方法来实现无源探测相对定轨，然而，该方法所采用的模型/算法存在相对距离估计较为精确但是相对速度估计精度较低，并且得到目标的相对状态并不完全符合在其轨道上的运动规律，无法实现目标所在轨道具体的演化情况。发明内容针对现有技术中定轨速度估计精度差和不完全符合轨道规律的问题，本发明提供一种基于神经网络结合遗传算法的天基无源定轨的方法，能够在轻量级星载计算负载情况下对目标进行持续且精确的相对轨道确定。一种基于神经网络结合遗传算法的天基无源探测定轨方法，包括以下步骤：步骤1，定义航天器训练数据发生器，并通过该数据发生器得到深度神经网络的训练数据；步骤2，预处理步骤1产生的训练数据，得到标准化后的数据；步骤3，定义深度神经网络，确定合适的参数，通过标准化后的数据离线训练该深度神经网络；步骤4，基于训练后的深度神经网络缩小解的空间范围，具体的，将深度神经网络作为种群个体值的边界取值器，并得到种群个体的取值范围；步骤5，定义改进遗传算法，包括向量差值变异算法、多目标遗传算法和多种群遗传算法，在种群个体的取值范围内得到n个遗传算法种群，并基于改进遗传算法进行迭代寻优；步骤6，将所述非线性相对运动模型部署在感知卫星上，将相对测量角输入模型中，实现对目标卫星相对轨道的在线确定。作为优选，步骤4包括步骤4.1，将观测角输入到深度神经网络中，得到一组初始的空间目标相对于观测星的相对运动状态；步骤4.2，将初始相对运动状态相应值向上/下扩展一定比例作为种群中个体值的上/下界。步骤3所述深度神经网络作为步骤5 所述种群中个体值的边界取值器。作为优选，步骤5具体为：步骤5.1，构造种群个体，并组成n个遗传算法种群，其中，种群个体包括目标卫星三个维度的位置和速度即六个相对运动状态。步骤5.2，基于多目标遗传算法建立非支配排序算法，其中，多目标遗传算法包括两种适应度函数，分别为单位视线矢量与单位相对位置矢量叉积的平方和、单位视线矢量与单位相对位置矢量的乘积与1的差。步骤5.3，基于拥挤度比较算子建立拥挤度排序算法。步骤5.4，对每个种群内部的个体进行交叉、变异、排序、保留操作实现迭代进化寻优，其中，变异是基于向量差值变异算法实现的，排序是基于非支配排序算法和拥挤度排序算法实现的。步骤5.5，基于多种群遗传算法实现最优个体的保留，具体的，n个种群在每次迭代进化寻优过程中使用移民算子进行相互信息交流，保留每次迭代中n个种群中的最优个体，并以每代最优个体的变化作为迭代终止条件。作为优选，交叉和选择算子为模拟二进制交叉和精英保留选择，变异算子为向量差值变异，以单位视线矢量与单位相对位置矢量叉积的平方和、单位视线矢量与单位相对位置矢量的乘积与1的差作为适应度函数进行非支配排序，以拥挤度比较算子进行拥挤度排序，以移民算子作为种群间信息交流的方式，以人工选择算子和精华种群作为判断遗传算法迭代收敛的判据。作为优选，非支配排序算法具体为：，其中， x0是空间目标和观测星在t0时刻的相对运动状态，ui是由相机采集的图像获得的在ti时刻的单位视线矢量， h为ti时刻空间目标相对于观测星的单位相对位置矢量， J1为第一适应度函数，表示前k个时刻单位视线矢量与单位相对位置矢量叉积的平方和，J2为第二适应度函数，表示前k个时刻单位视线矢量与单位相对位置矢量的乘积与1的差。作为优选，步骤5.3中基于拥挤度比较算子建立拥挤度排序规则如下：，其中为第i个个体的拥挤度，fm为第m个适应度函数。作为优选，将模拟二进制交叉和精英保留选择作为种群的交叉和选择算子，具体如下： ,其中和是第j次随机选择中的两个不同父代个体，和是上述两个父代个体交叉得到的两个子代个体，t是个体中的第t位向量，γj是由分布因子η按照：动态随机决定的，uj随机取值且服从0-1的均匀分布。交叉完毕后对父代与子代种群进行非支配排序与拥挤度排序，在父代和子代种群各取前n/2个个体组成新的子代种群。作为优选，将向量差值变异作为种群的变异算子，具体如下：,其中x1、x2和x3分别为从当前种群中随机选择的三个不同父代个体，是由上述三个父代个体变异生成的子代个体，t是个体中的第t位向量，F是量化因子。作为优选，使用移民算子对不同种群间进行信息交流，通过人工选择算子保存各种群每个进化代中的最优个体形成精华种群，并作为判断算法收敛的依据，具体如下：找出第i个种群中的最劣个体和第j个中种群中的最优个体，并进行交换，直至n个种群均发生了移民，实现了种群间的信息交互，再通过人工选择算子，即将所有种群的个体进行排序，选择最优个体放入精华种群中。作为优选，使用精华种群作为判断遗传算法迭代终止的依据，具体为：精华种群不进行选择、交叉、变异遗传操作，保证进化过程中产生的最优个体不被破坏和丢失，使用最优个体最少保持代数作为终止判据，即当同一个最优个体连续保持一定的代数时则迭代终止。有益效果：本发明解决了仅测角相对定轨系统存在距离的不可观测性问题，通过对非线性相对运动模型进行离线训练，从而实现输入角度观测量即可在线实现相对轨道确定；本发明通过算法即可达到较高精度的相对定轨，无需额外引进设备；本发明针对GEO类型轨道都适用，对轨道制导的自由度更宽泛且无需增加燃料成本；本发明无需改变卫星传感器传统结构且不受限于卫星的相对距离，对相对轨道确定的自由度更宽泛；本发明采用的深度神经网络具备传统方法不具备的非线性模型逼近能力、信息处理能力与端到端的一一映射能力，可以不需要准确知道视线测量角与相对运动状态的映射结构参数，只需通过训练来掌握它们之间的内在关系；在输入训练集以外的数据时，能够获得正确的映射关系；本发明通过感知卫星绝对运动状态、感知卫星和目标卫星之间的相对运动状态和相对测量角作为训练数据，训练深度神经网络，再辅以改进多种群非支配排序遗传算法进行优化，大大提高了仅测角相对定轨的可观测性，从而提高了相对定轨的精度；本发明通过改进多种群非支配排序遗传算法对深度神经网络算法进行优化，不仅提高了仅测角相对定轨的稳定性和精度，也解决了单纯使用深度网络算法中相对速度估计不准确与相对状态不完全符合轨道运动规律的问题。基于神经网络离线训练在线使用再添加改进多种群非支配排序遗传算法的方式也大大降低了星载计算机的负荷，实现轻量化计算下的相对定轨；本发明采用的神经网络和遗传算法均为智能定轨方法，具有超强的非线性捕获能力，能够实现基于超短弧段无源测量定轨；本发明将相对定轨深度神经网络模型作为遗传算法种群中个体值的边界取值器，大大缩小了遗传算法搜索的解空间大小，不仅可以实现搜索效率的大幅提高，也解决了由于解空间过大无法收敛的问题；本发明提出的向量差值变异算子具有内在的并行性，可协同搜索，加快搜索速度，同时实现了父代和子代之间的比例变化，大大加快进化迭代的速度；在仅测角相对定轨中，单位视线矢量与相对位置矢量缺失斜距关系，导致在最优解附近存在无穷多个次优解，也即局部最优解，传统遗传算法在搜索过程中无法跳出这些局部最优点，导致无法获得精确解。本发明提出的多目标遗传算法基于两个适应度函数对种群进行排序、迭代和进化，有效避免单一适应度函数因为观测噪声而导致最优解淹没在次优解中的情况，使遗传算法跳出局部最优解，最终收敛到全局最优解；本发明提出的多种群遗传算法将单个种群改变为多个种群，使各个种群向着不同方向进行进化，加快搜索速度；通过设定移民算子控制各种群之间的联系与协同进化，能够得到所有种群最优的进化结果；通设定精华种群判断是否收敛，保护每代的最佳个体，解决遗传算法早熟的问题。附图说明图1为本发明一个实施例的测量几何示意图；图2为本发明一个实施例的方法流程图；图3为本发明一个实施例的进行相对轨道确定获得的相对位置估计误差曲线；图4为本发明一个实施例的进行相对轨道确定获得的相对速度估计误差曲线。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明公开了一种基于深度神经网络的空间非合作目标仅测角相对定轨方法，针对目前基于线性化相对运动模型实现仅测角相对定轨中，存在3组角度观测量不足以确定感知卫星与目标卫星之间的相对距离，从而不能确定相对运动状态量的问题，提出以感知卫星绝对状态和相对观测角作为输入值，以目标卫星的相对运动状态作为输出值，离线训练深度神经网络，辅以改进非支配排序遗传算法优化进行优化，建立仅测角相对定轨的非线性相对运动模型并部署在卫星上在线使用，以卫星质心安装的光学相机仅测角的方式进行相对测量，通过对模型输入感知卫星绝对状态和三组相对测量角进行一一映射的方式设置，从而实现对在GEO类型轨道上任意目标的相对定轨。结合图1至图2，一种基于深度神经网络和改进非支配排序遗传算法的无源探测定轨方法，包括以下步骤：步骤1，定义航天器训练数据发生器，并通过该数据发生器得到深度神经网络的训练数据。步骤1.1，将光学相机安装在感知卫星的质心处，并建立光学相机相对视线测量模型，具体为：，其中，iLos为单位视线矢量测量模型，R、‖R‖分别为相对位置矢量以及相对位置矢量的模， ф参数矩阵ф= ，X、‖X‖分别为目标状态向量以及目标状态向量的模。简单理解ф= ，X=T，фX= R。步骤1.2，在二体问题的假设的基础上建立绝对运动动力学模型，该绝对运动动力学模型仅考虑地球非球形J2项摄动并简化为只考虑一阶长期项，具体为，动力学模型：；运动学模型：，其中，、为卫星惯性加速度、r为卫星在惯性系下的位置、为卫星惯性速度、、、分别表示卫星在惯性系下x、y、z方向的速度、x、y、z为分别表示卫星在惯性系下x、y、z方向的位置，‖r‖为航天器的地心距，aJ2表示J2项摄动引起的加速度,μ为椭圆引力常数，Re表示地球半径。步骤1.3，通过龙格库塔积分求解该绝对运动动力学模型，以得到感知卫星与目标卫星的绝对状态，并转换坐标以得到最终目标卫星的相对运动状态。本发明通过建立卫星绝对运动动力学模型可以得到感知卫星和目标卫星的运动模型，其本质是一组关于卫星位置和速度的微分方程，通过龙格库塔积分得到数值解，即卫星绝对运动状态。步骤2，预处理步骤1产生的训练数据，包括步骤1.1和步骤1.2分别得到的感知卫星的相对视线测量模型中的相对测量角和绝对运动动力学模型中的绝对状态，以及步骤1.3得到的相对运动状态，得到标准化后的数据。首先对训练数据进行归一化处理，并对归一化后的数据进行标准化处理。将预处理后的感知卫星的相对视线测量模型中的相对测量角以及绝对运动动力学模型中的绝对状态的作为深度神经网络的输入量；将预处理后的目标卫星的相对运动状态作为深度神经网络的输出量即标签值，建立非线性相对运动模型的映射关系。步骤3，定义深度神经网络，通过标准化后的数据离线训练该深度神经网络，得到仅测角相对定轨的非线性相对运动模型。设计一个隐藏层层数为3，隐藏层激活函数为ReLU，输出层激活函数为purelin的深度神经网络，如图3所示，为深度神经网络的基本结构图。深度神经网络一共分为三部分，每部分都由若干个神经元组成，第一部分是输入层，在此层添加输入量；第二部分是隐藏层，包含三层，用于处理输入量；最后一部分是输出层，得到最终输出。其中，当前层每个神经元都收到来自前一层传递过来的数据，这些数据通过加权处理被神经元所接收，当总输入值超过当前神经元的“阈值”时，该神经元被激活，此过程由激活函数处理实现。深度神经网络采用Adam算法作为梯度下降优化算法。将网络输出值与期望值的均方误差作为训练过程中的损失函数，通过损失函数来表示模型与实际数据之间映射关系的偏差，以此评价深度神经网络模型性能。均方误差是指期望值与实际值差的平方累加后取平均值，这说明均方误差越小，模型对这整组数据得到的期望值和实际值越接近，也就说明拟合出来的模型更贴近这组数据之间真实的映射关系。当损失函数大于等于预定值时，神经网络持续进行训练，损失函数小于预定值后，神经网络停止训练，成功得到模型。步骤4，将训练得到的深度神经网络作为步骤5中种群个体值边界取值器。具体的，将观测角输入到深度神经网络中，得到一组初始的空间目标相对于观测星的相对运动状态，再将初始相对运动状态相应值向上/下扩展30%作为种群中个体值的上/下界。由于遗传算法初始种群中的个体值并无先验信息，而且在太空中卫星之间的相对距离和相对速度的量级十分巨大，这就导致种群的个体值选择范围需要选择很大，这就导致遗传算法需要在一个十分巨大的解空间中进行搜寻，再加上解空间内存在无数局部最优解，这就导致传统遗传算法即便在大时间范围的搜索也无法收敛到精确解，也就无法实现相对定轨。本发明通过使用较为精确的相对定轨深度神经网络模型作为遗传算法种群中个体值的边界取值器，能够大大缩小遗传算法搜索的解空间大小，不仅可以实现搜索效率的大幅提高，也解决了由于解空间过大无法收敛的问题。步骤5，定义改进多种群非支配排序遗传算法，确定合适的参数并以单位视线矢量与单位相对位置矢量叉积的平方和、单位视线矢量与单位相对位置矢量的乘积与1的差作为适应度函数，得到多个遗传算法种群并用于进化迭代寻优，得到仅测角相对定轨的非线性相对运动模型。本发明把单个种群改变为多个种群，每个种群都有着可控制的参数，包括交叉、变异概率，向量差值变异量化因子，可以使各个种群向着不同方向进行进化，这样全面增强搜索能力，加快搜索速度。具体的，步骤5.1，构造以目标卫星的位置、速度等六个相对运动状态为个体，组成个体数为200，交叉概率为0.9，变异概率为1，向量差值变异量化因子分别为0.9�.7�.5�.3�.1的5个遗传算法种群，交叉和选择算子为模拟二进制交叉和精英保留选择，变异算子为向量差值变异的种群。首先在n个父代个体中分两次随机选择n/2个个体，每次随机选择都进行模拟二进制交叉。具体的：将模拟二进制交叉和精英保留选择作为种群的交叉和选择算子，如下式：其中和是第j次随机选择中的两个不同父代个体，和是上述两个父代个体交叉得到的两个子代个体，t是个体中的第t位向量，γj是由分布因子η按照：动态随机决定的，uj随机取值且服从0-1的均匀分布。将向量差值变异作为种群的变异算子，具体如下：,其中x1、x2和x3分别为从当前种群中随机选择的三个不同父代个体，是由上述三个父代个体变异生成的子代个体，t是个体中的第t位向量，F是量化因子。交叉完毕后对父代与子代种群进行非支配排序与拥挤度排序，在父代和子代种群各取前n/2个个体组成新的子代种群；交叉后的子代进行向量差值变异。本发明公开的向量差值变异算子具有内在的并行性，可协同搜索，加快搜索速度；其次，在仅测角相对定轨中，最优解和次优解之间存在比例关系，向量差值变异算子可以实现父代和子代之间的比例变化，可以大大加快进化迭代的速度。步骤5.2，建立以单位视线矢量与单位相对位置矢量叉积的平方和、单位视线矢量与单位相对位置矢量的乘积与1的差作为适应度函数，个体适应度值越小，说明个体产生的单位相对位置矢量与单位视线矢量越接近平行，也说明个体对应的相对位置和速度越接近真实情况，排序也会越靠前，并在此基础上构造非支配排序集。非支配排序算法具体为：，其中， x0是空间目标和观测星在t0时刻的相对运动状态，ui是由相机采集的图像获得的在ti时刻的单位视线矢量， h为ti时刻空间目标相对于观测星的单位相对位置矢量， J1为第一适应度函数，表示前k个时刻单位视线矢量与单位相对位置矢量叉积的平方和，J2为第二适应度函数，表示前k个时刻单位视线矢量与单位相对位置矢量的乘积与1的差。由于仅测角导致的弱可观测性，如何设计优化算法保证两个适应度函数收敛到全局最小值是找到精确IROD问题解的关键。本发明构造两个适应度函数对种群进行排序、迭代和进化，可以有效避免单一适应度函数因为观测噪声而导致最优解淹没在次优解中的情况，实现遗传算法跳出局部最优解，最终收敛到全局最优解。步骤5.3，建立以拥挤度比较算子进行排序的拥挤度排序集，对于每个适应度函数，首先基于该函数对种群中的个体使用两种适应度函数进行非支配排序，然后令边界的两个个体拥挤度为无穷，最后计算个体的拥挤度。基于拥挤度比较算子建立拥挤度排序规则如下：，其中为第i个个体的拥挤度，fm为第m个适应度函数。步骤5.4，将步骤5.1得到的每个种群中的个体中的相对状态进行列表，经过步骤5.2的非支配排序与步骤5.3的拥挤度排序后，获得最接近真实相对运动状态个体的列表，然后5个种群各自内部的个体代表的相对状态进行交叉、变异以获得新个体，然后对新个体的相对状态进行非支配与拥挤度排序、保留操作获得存有更接近真实相对运动状态个体的新种群，实现迭代进化寻优；步骤5.5，将步骤5.4中迭代进化寻优的5个种群在每次迭代过程中相互之间使用移民算子进行不同个体代表的相对运动状态的信息交流，保留每次迭代中5个种群中的最优个体，并以每代最优个体的变化作为迭代终止条件，得到仅测角相对定轨的非线性相对运动模型。使用移民算子来控制各种群之间的联系与协同进化，以得出所有种群最优的进化结果。具体的，不同种群间基于移民算子进行信息交流，通过人工选择算子保存各种群每个进化代中的最优个体形成精华种群，并作为判断算法收敛的依据，具体的，找出第i个种群中的最劣个体和第j个中种群中的最优个体，并进行交换，直至n个种群均发生了移民，实现了种群间的信息交互，再通过人工选择算子，即将所有种群的个体进行排序，选择最优个体放入精华种群中。在精华种群中，每个个体均不参加遗传操作，这样每代的最佳个体均能得到保护，并根据精华个体的数量作为终止条件。基于步骤5提出的向量差值变异算子、多目标遗传算法、多种群遗传算法对遗传算法进行改进，解决其应用于定轨中的早熟和陷入局部最优问题。步骤6，将所述非线性相对运动模型部署在感知卫星上，每组间隔一定时间共计测量三组的相对测量角来确定目标卫星的相对运动状态，实现对目标卫星的相对定轨。结合以下实例说明本发明的可实施性。设定如下计算条件和技术参数：1）感知卫星A的轨道半长轴为42164.2 km，偏心率为0.0001，轨道倾角为0°，近地点幅角为180°，升交点赤经为56.4020°，真近点角为18.3346°；2）目标卫星的轨道半长轴为42204.2 km，偏心率为0.005，轨道倾角为0.2°，近地点幅角为0°，升交点赤经为112.8841°，真近点角为143.012°；3）相机的测角噪声均方差为0.0001rad，感知卫星绝对位置噪声均方差为100m；基于本发明的仅测角相对定轨方法与上述设置的计算条件和技术参数进行仿真验证。如图3与图4所示分别是定轨位置误差和速度误差曲线，由图中曲线可知，通过本文方法，对非合作目标的定轨位置精度和速度精度均较高。在本文的方法下，可以达到X、Y、Z方向相对距离估计误差最大值不超过4.60％，平均误差约为1.18％；X、Y、Z方向相对速度估计误差最大值不超过4.61％，平均误差约为1.18％的相对定轨误差。因此，采用本发明方法，仅依靠星载光学相机无源测角就能实现对非合作目标的全自主精确定轨。特别地，和传统定轨方法相比，以GEO轨道目标定轨为例，能在测量弧长缩短90%的情况下达到同等定轨精度，足见本发明方法带来的突破性进展。最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
