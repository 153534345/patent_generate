标题title
人脸识别方法、装置、电子设备及计算机可读存储介质
摘要abst
本发明涉及人工智能领域及数字医疗技术，揭露一种人脸识别方法，包括：对待识别人脸图像进行全局特征提取，得到全局特征向量；计算所述全局特征向量与人脸数据库中的标准人脸图像的全局特征向量之间的全局相似度；当所述全局相似度大于第一阈值且小于第二阈值时，对所述待识别人脸图像进行局部特征提取，得到局部特征向量；计算所述局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度；根据所述局部相似度，获取对应的人脸识别结果。本发明还涉及区块链技术，所述人脸数据库可以存储在区块链节点中。本发明还提出一种人脸识别装置、设备以及存储介质。本发明可以提高人脸识别的准确率。
权利要求书clms
1.一种基于特征提取的人脸识别方法，其特征在于，所述方法包括：获取待识别人脸图像，对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量；计算所述待识别图像全局特征向量与人脸数据库中的标准人脸图像集中每个标准人脸图像之间的全局特征向量之间的全局相似度，得到全局特征相似度集合；当所述全局特征相似度集合中最大的全局相似度值大于预设的第一阈值时，输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果；当所述全局特征相似度集合中最大的全局相似度值小于预设的第二阈值时，输出人脸识别失败的信息；当所述全局特征相似度集合中最大的全局相似度值大于所述第一阈值时且小于预设的第二阈值时，根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量；计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度；根据所述多组局部特征相似度，获取对应的人脸识别结果。2.如权利要求1所述的人脸识别方法，其特征在于，所述对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，包括：利用如下计算公式计算所述待识别人脸图像的低频系数：其中，M及N表示所述待识别人脸图像的像素集合，u及v表示频域变量，x、y分别表示所述待识别人脸图像的像素点，R表示低频系数F中的实数系数，I表示低频系数F中的虚数系数，j表示虚数；将所述待识别人脸图像的低频系数中的实数系数和虚数系数进行串接，得到待识别图像全局特征向量。3.如权利要求1所述的人脸识别方法，其特征在于，所述对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，包括：按照预设比例将所述待识别人脸图像划分为多个图像块，计算每个所述图像块中每个像素的像素梯度，统计计算得到的所述像素梯度，得到每个所述图像块的像素梯度直方图；对每个所述像素梯度直方图进行向量转换，得到多组像素梯度向量，拼接所述多组像素梯度向量，得到所述待识别图像全局特征向量。4.如权利要求1所述的人脸识别方法，其特征在于，所述根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量，包括：按照预设的方向及尺度划分所述待识别人脸图像，得到多个不同方向尺度的待识别人脸图像块；利用二维Gabor小波的核函数计算每组所述待识别人脸图像块的局部特征向量。5.如权利要求1所述的人脸识别方法，其特征在于，所述根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量，包括：对所述待识别人脸图像进行图像灰度化操作，得到灰度图像；按照预设的方向及尺度划分所述灰度图像，得到多个不同方向尺度的灰度图像块；通过遍历操作，从所述多个不同方向尺度的灰度图像块选择其中一个灰度图像块；从选择的所述灰度图像块中逐个选取其中一个像素点为目标像素点；判断所述目标像素点在所述灰度图像块中是否为极值；当所述目标像素点的像素值在所述灰度图像块中不是极值时，返回从所述灰度图像块中逐个选取其中一个像素点为目标像素点的步骤；当所述目标像素点的像素值在所述灰度图像块中是极值时，确定所述目标像素点为关键点，并能返回从所述灰度图像块中逐个选取其中一个像素点为目标像素点的步骤，直到所述灰度图像块每个像素点都被选取过；汇聚所述关键点，并对所述关键点进行向量化，得到选择的所述灰度图像块的局部特征向量；返回上述的通过遍历操作，从所述多个不同方向尺度的灰度图像块选择其中一个灰度图像块，直到得到每一组所述灰度图像块的局部特征向量，汇总所有所述灰度图像块的局部特征向量，得到多组待识别图像局部特征向量。6.如权利要求1所述的人脸识别方法，其特征在于，所述计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度，包括：利用下述相似度算法计算所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度：其中，SimQ为所述局部特征相似度，α为所述待识别图像局部特征向量，βn为所述最大的全局相似度值对应的标准人脸图像的局部特征向量。7.如权利要求1所述的人脸识别方法，其特征在于，所述根据所述多组局部特征相似度，获取对应的人脸识别结果，包括：计算所述多组局部特征相似度的平均值，得到平均局部相似度；判断所述平均局部特征相似度与预设的第三阈值的大小关系；若所述平均局部特征相似度小于所述第三阈值，则输出人脸识别失败的提示；若所述平均局部特征相似度大于等于所述第三阈值，则输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果。8.一种人脸识别装置，其特征在于，包括：全局特征相似度计算模块，用于获取待识别人脸图像，对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，计算所述待识别图像全局特征向量与人脸数据库中的标准人脸图像集中每个标准人脸图像之间的全局特征向量之间的全局相似度，得到全局特征相似度集合；全局特征相似度判断模块，用于当所述全局特征相似度集合中最大的全局相似度值大于预设的第一阈值时，输出根据所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果，当所述全局特征相似度集合中最大的全局相似度值小于预设的第二阈值时，输出人脸识别失败的信息；局部特征相似度计算模块，用于当所述全局特征相似度集合中最大的全局相似度值大于所述第一阈值时且小于预设的第二阈值时，根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量；局部特征相似度判断模块，用于计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度，根据所述多组局部特征相似度，获取对应的人脸识别结果。9.一种电子设备，其特征在于，所述电子设备包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序指令，所述计算机程序指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行如权利要求1至7中任一项所述的人脸识别方法。10.一种计算机可读存储介质，存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至7中任一项所述的人脸识别方法。
说明书desc
技术领域本发明涉及人工智能领域，尤其涉及一种人脸识别方法、装置、电子设备及可读存储介质。背景技术人脸识别是一种对用户身份进行确认的方式，例如手机支付时的人脸识别，目前大多数生活场景采用的人脸识别系统，在比较理想的情况下已经达到比较理想的性能和准确率，例如，光照清晰、没有杂影影响。但是在一些不是特别理想的情况下，例如天气暗、识别时用户的姿态、表情有变化、换了发型等情况，人脸识别的准确率不高。发明内容本发明提供一种基于特征提取的人脸识别方法、装置、电子设备及计算机可读存储介质，其目的在于提高人脸识别的准确率。为实现上述目的，本发明提供的一种人脸识别方法，包括：获取待识别人脸图像，对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量；计算所述待识别图像全局特征向量与人脸数据库中的标准人脸图像集中每个标准人脸图像之间的全局特征向量之间的全局相似度，得到全局特征相似度集合；当所述全局特征相似度集合中最大的全局相似度值大于预设的第一阈值时，输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果；当所述全局特征相似度集合中最大的全局相似度值小于预设的第二阈值时，输出人脸识别失败的信息；当所述全局特征相似度集合中最大的全局相似度值大于所述第一阈值时且小于预设的第二阈值时，根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量；计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度；根据所述多组局部特征相似度，获取对应的人脸识别结果。可选地，所述对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，包括：利用如下计算公式计算所述待识别人脸图像的低频系数：其中，M及N表示所述待识别人脸图像的像素集合，u及v表示频域变量，x、y分别表示所述待识别人脸图像的像素点，R表示低频系数F中的实数系数，I表示低频系数F中的虚数系数，j表示虚数；将所述待识别人脸图像的低频系数中的实数系数和虚数系数进行串接，得到待识别图像全局特征向量。可选地，所述对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，包括：按照预设比例将所述待识别人脸图像划分为多个图像块，计算每个所述图像块中每个像素的像素梯度，统计计算得到的所述像素梯度，得到每个所述图像块的像素梯度直方图；对每个所述像素梯度直方图进行向量转换，得到多组像素梯度向量，拼接所述多组像素梯度向量，得到所述待识别图像全局特征向量。可选地，所述根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量，包括：按照预设的方向及尺度划分所述待识别人脸图像，得到多个不同方向尺度的待识别人脸图像块；利用二维Gabor小波的核函数计算每组所述待识别人脸图像块的局部特征向量。可选地，所述根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量，也可以包括：对所述待识别人脸图像进行图像灰度化操作，得到灰度图像；按照预设的方向及尺度划分所述灰度图像，得到多个不同方向尺度的灰度图像块；通过遍历操作，从所述多个不同方向尺度的灰度图像块选择其中一个灰度图像块；从选择的所述灰度图像块中逐个选取其中一个像素点为目标像素点；判断所述目标像素点在所述灰度图像块中是否为极值；当所述目标像素点的像素值在所述灰度图像块中不是极值时，返回从所述灰度图像块中逐个选取其中一个像素点为目标像素点的步骤；当所述目标像素点的像素值在所述灰度图像块中是极值时，确定所述目标像素点为关键点，并能返回从所述灰度图像块中逐个选取其中一个像素点为目标像素点的步骤，直到所述灰度图像块每个像素点都被选取过；汇聚所述关键点，并对所述关键点进行向量化，得到选择的所述灰度图像块的局部特征向量；返回上述的通过遍历操作，从所述多个不同方向尺度的灰度图像块选择其中一个灰度图像块，直到得到每一组所述灰度图像块的局部特征向量，汇总所有所述灰度图像块的局部特征向量，得到多组待识别图像局部特征向量可选地，所述计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度，包括：利用下述相似度算法计算所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度：其中，SimQ为所述局部特征相似度，α为所述待识别图像局部特征向量，βn为所述最大的全局相似度值对应的标准人脸图像的局部特征向量。可选地，所述根据所述多组局部特征相似度，获取对应的人脸识别结果，包括：计算所述多组局部特征相似度的平均值，得到平均局部相似度；判断所述平均局部特征相似度与预设的第三阈值的大小关系；若所述平均局部特征相似度小于所述第三阈值，则输出人脸识别失败的提示；若所述平均局部特征相似度大于等于所述第三阈值，则输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果。为了解决上述问题，本发明还提供一种人脸识别装置，所述装置包括：全局特征相似度计算模块，用于获取待识别人脸图像，对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，计算所述待识别图像全局特征向量与人脸数据库中的标准人脸图像集中每个标准人脸图像之间的全局特征向量之间的全局相似度，得到全局特征相似度集合；全局特征相似度判断模块，用于当所述全局特征相似度集合中最大的全局相似度值大于预设的第一阈值时，输出根据所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果，当所述全局特征相似度集合中最大的全局相似度值小于预设的第二阈值时，输出人脸识别失败的信息；局部特征相似度计算模块，用于当所述全局特征相似度集合中最大的全局相似度值大于所述第一阈值时且小于预设的第二阈值时，根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量；局部特征相似度判断模块，用于计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度，根据所述多组局部特征相似度，获取对应的人脸识别结果。为了解决上述问题，本发明还提供一种电子设备，所述电子设备包括：存储器，存储至少一个计算机程序；及处理器，执行所述存储器中存储的计算机程序以实现上述所述的人脸识别方法。为了解决上述问题，本发明还提供一种计算机可读存储介质，所述计算机可读存储介质中存储有至少一个计算机程序，所述至少一个计算机程序被电子设备中的处理器执行以实现上述所述的人脸识别方法。本发明实施例首先通过对待识别人脸图像进行全局特征向量提取，并将所述全局特征向量与人脸数据库中所有标准人脸图像的全局特征向量进行相似度对比，进行初次的人脸识别，当由于光照、杂影等影响，导致全局特征向量匹配的人脸识别结果不明确时进一步地，对所述待识别人脸图像进行局部特征向量提取，将所述局部特征向量与人脸数据库中与全局特征向量相似度最大的标准人脸图像的局部特征向量再一次进行相似度对比，提高了人脸识别的准确率。因此，本发明提出的人脸识别方法、装置、设备以及存储介质提高了人脸识别的准确率。附图说明图1为本发明一实施例提供的人脸识别方法的流程示意图；图2为本发明一实施例提供的人脸识别装置的模块示意图；图3为本发明一实施例提供的实现人脸识别方法的电子设备的内部结构示意图；本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。本发明实施例提供一种人脸识别方法。所述人脸识别方法的执行主体包括但不限于服务端、终端等能够被配置为执行本申请实施例提供的该方法的电子设备中的至少一种。换言之，所述人脸识别方法可以由安装在终端设备或服务端设备的软件或硬件来执行，所述软件可以是区块链平台。所述服务端包括但不限于：单台服务器、服务器集群、云端服务器或云端服务器集群等。所述服务器可以是独立的服务器，也可以是提供云服务、云数据库、云计算、云函数、云存储、网络服务、云通信、中间件服务、域名服务、安全服务、内容分发网络、以及大数据和人工智能平台等基础云计算服务的云服务器。参照图1所示的本发明一实施例提供的人脸识别方法的流程示意图，在本发明实施例中，所述人脸识别方法包括：S1、获取待识别人脸图像，对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量。本发明实施例中，所述待识别人脸图像可以是通过电子设备的摄像头装置捕获到的人脸图像或者是从所述电子设备的存储设备中调用的人脸图像等。所述待识别图像全局特征向量是描述所述待识别人脸图像的全局特征信息的向量，例如待识别人脸图像的灰度矩阵，其中所述全局特征信息包括颜色特征、纹理特征和形状特征，例如强度直方图。本发明的一个可选实施例中，可以将所述待识别人脸图像映射到频域中并利用二维离散傅里叶变换公式计算所述待识别人脸图像的全局特征向量。详细地，所述对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，包括：步骤A、利用如下计算公式计算所述待识别人脸图像的低频系数F：其中，M及N表示所述待识别人脸图像的像素集合，u及v表示频域变量，x、y分别表示所述待识别人脸图像的像素点，R表示低频系数F中的实数系数，I表示低频系数F中的虚数系数，j表示虚数；步骤B、将所述待识别人脸图像的低频系数中的实数系数和虚数系数进行串接，得到待识别图像全局特征向量。本发明的另外一个实施例中，所述对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，也可以包括：按照预设比例将所述待识别人脸图像划分为多个图像块，计算每个所述图像块中每个像素的像素梯度，统计计算得到的所述像素梯度，得到每个所述图像块的像素梯度直方图；对每个所述像素梯度直方图进行向量转换，得到多组像素梯度向量，拼接所述多组像素梯度向量，得到所述待识别图像全局特征向量。详细地，可将所述待识别人脸图像按照预设比例划分为多个图像块，并逐一计算每一个像素块中每个像素的像素梯度，通过计算像素梯度，可捕获所述待识别人脸图像中物体的轮廓信息，同时进一步弱化光照的干扰，提高提取全局特征的精确度。其中，可利用预设的梯度算法计算每一个图像块中每个像素的像素梯度，所述梯度算法包括但不限于二维离散求导算法、soble算子等。本发明一个可选实施例中，可根据所述像素梯度，统计出每个图像块中的梯度直方图，进而利用所述梯度直方图中各梯度的值，生成用于标识该梯度直方图的向量，并将所有梯度直方图的向量拼接为所述待识别人脸图像的全局特征向量。本发明实施例中，通过提取所述待识别人脸图像的全局特征，获取所述待识别人脸图像的全部特征信息，以分析所述待识别人脸图像的整体情况。S2、计算所述待识别图像全局特征向量与人脸数据库中的标准人脸图像集中每个标准人脸图像之间的全局特征向量之间的全局相似度，得到全局特征相似度集合。本发明实施例中，所述标准人脸图像可以是从所述人脸数据库中的给定目标的人脸图像，如某一家公司中所有在职员工的人脸图像。本发明一个可选实施例中，提取所述待识别图像全局特征向量及所述标准人脸图像的全局特征向量的低频系数，利用归一化互相关算法计算所述低频系数之间的相似度，得到全局特征相似度。S3、判断所述全局特征相似度集合中最大的全局相似度值是否大于预设的第一阈值。本发明实施例中，当所述全局特征相似度大于所述第一阈值时，可以确保所述待识别人脸图像与所述标准人脸图像相匹配，当所述全局特征相似度小于所述第一阈值时，所述待识别人脸图像与所述标准人脸图像不一定相匹配。其中，所述预设的第一阈值可以是根据相似度计算次数及准确率进行确定，一般取值为0.7，当所述第一阈值为0.7时，所述相似度计算次数少，且准确率较高。当所述全局特征相似度集合中最大的全局相似度值大于预设的第一阈值时，S4、输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果。本发明实施例中，当所述全局特征相似度大于预设的第一阈值时，判定所述待识别人脸图像与所述标准人脸图像相匹配。S5、当所述全局特征相似度集合中最大的全局相似度值不大于所述第一阈值时，进一步判断所述全局相似度值是否小于预设的第二阈值。本发明一可选实施例中，所述预设的第二阈值可取0.2，当所述所述第二阈值为0.2时，相似度计算次数多，且图像匹配率低。本发明实施例中，当所述全局特征相似度小于所述第二阈值时，可以确定所述待识别人脸图像与所述标准人脸图像不相匹配，执行S6、输出人脸识别失败的提示。当所述全局相似度值不大于所述第一阈值时但也不小于所述第二阈值时，人脸识别结果待进一步确认，此时，继续执行S7、根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量。本发明实施例中，当所述全局特征相似度不大于所述第一阈值时但也不小于预设的第二阈值时，判定所述待识别人脸图像与所述标准人脸图像不一定匹配，本发明实施例进一步执行局部特征向量的匹配，进一步提高人脸识别的精准度。本发明实施例中，所述待识别图像局部特征向量可以是所述待识别人脸图像的图像特征的局部表达，反映了图像上具有的局部特性。所述方向及尺度可以是用户预先设定的方向和尺度大小。本发明的一个可选实施例中，可以根据预设的尺度及方向，设定二维Gabor小波的核函数的尺度及方向常数，利用所述二维Gabor小波的核函数计算得到每个待识别人脸图像的局部特征向量。具体地，可使用Gabor变换提取所述待识别人脸图像的局部特征向量，其中所述Gabor变换属于加窗傅立叶变换，Gabor函数是复值函数，可以在频域不同尺度、不同方向上提取相关的特征。详细地，所述根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行多次局部特征提取，得到多组待识别图像局部特征向量，包括：按照预设的方向及尺度划分所述待识别人脸图像，得到多个不同方向尺度的待识别人脸图像块；利用下述二维Gabor小波的核函数计算每组所述待识别人脸图像块的局部特征向量：其中，v表示每组所述待识别人脸图像块的尺度，u表示每组所述待识别人脸图像块的方向，z表示其中一个待识别人脸图像块，ku，v表示所述二维Gabor小波的核函数的尺度和方向，σ表示方差的算数平方根。本发明的另外一个实施例中，所述根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量，也可以包括：对所述待识别人脸图像进行图像灰度化操作，得到灰度待识别人脸图像；按照预设的方向及尺度划分所述灰度待识别人脸图像，得到多个不同方向尺度的灰度待识别人脸图像块；通过遍历操作，从所述多个不同方向尺度的灰度图像块选择其中一个灰度图像块；从选择的所述灰度图像块中逐个选取其中一个像素点为目标像素点；判断所述目标像素点在所述灰度图像块中是否为极值；当所述目标像素点的像素值在所述灰度图像块中不是极值时，返回从所述灰度图像块中逐个选取其中一个像素点为目标像素点的步骤；当所述目标像素点的像素值在所述灰度图像块中是极值时，确定所述目标像素点为关键点，并能返回从所述灰度图像块中逐个选取其中一个像素点为目标像素点的步骤，直到所述灰度图像块每个像素点都被选取过；汇聚所述关键点，并对所述关键点进行向量化，得到选择的所述灰度图像块的局部特征向量；返回上述的通过遍历操作，从所述多个不同方向尺度的灰度图像块选择其中一个灰度图像块，直到得到每一组所述灰度图像块的局部特征向量，汇总所有所述灰度图像块的局部特征向量，得到多组待识别图像局部特征向量本发明实施例中，所述极值包括极大值与极小值。S8、计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度。本发明一个可选实施中，可以使用相似度算法计算局部相似度。详细地，所述计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度，包括：利用下述相似度算法计算所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度：其中，SimQ为所述局部特征相似度，α为所述待识别图像局部特征向量，βn为所述最大的全局相似度值对应的标准人脸图像的局部特征向量。S9、根据所述多组局部特征相似度，获取对应的人脸识别结果。本发明实施例中，所述根据所述多组局部特征相似度，获取对应的人脸识别结果，包括：计算所述多组局部特征相似度的平均值，得到平均局部相似度；判断所述平均局部特征相似度与预设的第三阈值的大小关系；若所述平均局部特征相似度小于所述第三阈值，则输出人脸识别失败的提示；若所述平均局部特征相似度大于等于所述第三阈值，则输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果。本发明实施例首先通过对待识别人脸图像进行全局特征向量提取，并将所述全局特征向量与人脸数据库中所有标准人脸图像的全局特征向量进行相似度对比，进行初次的人脸识别，当由于光照、杂影等影响，导致全局特征向量匹配的人脸识别结果不明确时进一步地，对所述待识别人脸图像进行局部特征向量提取，将所述局部特征向量与人脸数据库中与全局特征向量相似度最大的标准人脸图像的局部特征向量再一次进行相似度对比，提高了人脸识别的准确率。因此，本发明提出的人脸识别方法提高了人脸识别的准确率。如图2所示，是本发明人脸识别装置的功能模块图。本发明所述人脸识别装置100可以安装于电子设备中。根据实现的功能，所述人脸识别装置可以包括全局特征相似度计算模块101、全局特征相似度判断模块102、局部特征相似度计算模块103及局部特征相似度判断模块104，本发所述模块也可以称之为单元，是指一种能够被电子设备处理器所执行，并且能够完成固定功能的一系列计算机程序段，其存储在电子设备的存储器中。在本实施例中，关于各模块/单元的功能如下：所述全局特征相似度计算模块101用于获取待识别人脸图像，对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，计算所述待识别图像全局特征向量与人脸数据库中的标准人脸图像集中每个标准人脸图像之间的全局特征向量之间的全局相似度，得到全局特征相似度集合。本发明实施例中，所述待识别人脸图像可以是通过电子设备的摄像头装置捕获到的人脸图像或者是从所述电子设备的存储设备中调用的人脸图像等。所述待识别图像全局特征向量是描述所述待识别人脸图像的整体图像特征信息的向量。本发明的一个可选实施例中，可以将所述待识别人脸图像映射到频域中并利用二维离散傅里叶变换公式计算所述待识别人脸图像的全局特征向量。详细地，所述对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，包括：步骤A、利用如下计算公式计算所述待识别人脸图像的低频系数F：其中，M及N表示所述待识别人脸图像的像素集合，u及v表示频域变量，x、y分别表示所述待识别人脸图像的像素点，R表示低频系数F中的实数系数，I表示低频系数F中的虚数系数，j表示虚数；步骤B、将所述待识别人脸图像的低频系数中的实数系数和虚数系数进行串接，得到待识别图像全局特征向量。本发明的另外一个实施例中，所述对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量，也可以包括：按照预设比例将所述待识别人脸图像划分为多个图像块，计算每个所述图像块中每个像素的像素梯度，统计计算得到的所述像素梯度，得到每个所述图像块的像素梯度直方图；对每个所述像素梯度直方图进行向量转换，得到多组像素梯度向量，拼接所述多组像素梯度向量，得到所述待识别图像全局特征向量。本发明实施例中，通过提取所述待识别人脸图像的全局特征，获取所述待识别人脸图像的全部特征信息，以分析所述带识别人脸图像的整体情况。本发明实施例中，所述标准人脸图像可以是从所述人脸数据库中的给定目标的人脸图像，如某一家公司中所有在职员工的人脸图像。本发明一个可选实施例中，提取所述待识别图像全局特征向量及所述标准人脸图像的全局特征向量的低频系数，利用归一化互相关算法计算所述低频系数之间的相似度，得到全局特征相似度。所述全局特征相似度判断模块102用于当所述全局特征相似度集合中最大的全局相似度值大于预设的第一阈值时，输出根据所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果，当所述全局特征相似度集合中最大的全局相似度值小于预设的第二阈值时，输出人脸识别失败的信息。本发明实施例中，当所述全局特征相似度大于所述第一阈值时，可以确保所述待识别人脸图像与所述标准人脸图像相匹配，当所述全局特征相似度小于所述第一阈值时，所述待识别人脸图像与所述标准人脸图像不一定相匹配。当所述全局特征相似度集合中最大的全局相似度值大于预设的第一阈值时，输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果。本发明实施例中，当所述全局特征相似度大于预设的第一阈值时，判定所述待识别人脸图像与所述标准人脸图像相匹配。当所述全局特征相似度集合中最大的全局相似度值不大于所述第一阈值时，进一步判断所述全局相似度值是否小于预设的第二阈值。本发明实施例中，本发明实施例中，当所述全局特征相似度小于所述第二阈值时，可以确定所述待识别人脸图像与所述标准人脸图像不相匹配，执行输出人脸识别失败的提示。所述局部特征相似度计算模块103用于当所述全局特征相似度集合中最大的全局相似度值大于所述第一阈值时且小于预设的第二阈值时，根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量。当所述全局相似度值不大于所述第一阈值时但也不小于所述第二阈值时，人脸识别结果待进一步确认，此时，继续执行根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量。本发明实施例中，当所述全局特征相似度不大于所述第一阈值时但也不小于预设的第二阈值时，判定所述待识别人脸图像与所述标准人脸图像不一定匹配，本发明实施例进一步执行局部特征向量的匹配，进一步提高人脸识别的精准度。本发明实施例中，所述待识别图像局部特征向量可以是所述待识别人脸图像的图像特征的局部表达，反映了图像上具有的局部特性。所述方向及尺度可以是用户预先设定的方向和尺度大小。本发明的一个可选实施例中，可以根据预设的尺度及方向，设定二维Gabor小波的核函数的尺度及方向常数，利用所述二维Gabor小波的核函数计算得到每个待识别人脸图像的局部特征向量。详细地，所述根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行多次局部特征提取，得到多组待识别图像局部特征向量，包括：按照预设的方向及尺度划分所述待识别人脸图像，得到多个不同方向尺度的待识别人脸图像块；利用下述二维Gabor小波的核函数计算每组所述待识别人脸图像块的局部特征向量：其中，v表示每组所述待识别人脸图像块的尺度，u表示每组所述待识别人脸图像块的方向，z表示其中一个待识别人脸图像块，ku，v表示所述二维Gabor小波的核函数的尺度和方向，σ表示方差的算数平方根。本发明的另外一个实施例中，所述根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量，也可以包括：对所述待识别人脸图像进行图像灰度化操作，得到灰度待识别人脸图像；按照预设的方向及尺度划分所述灰度待识别人脸图像，得到多个不同方向尺度的灰度待识别人脸图像块；通过遍历操作，从所述多个不同方向尺度的灰度图像块选择其中一个灰度图像块；从选择的所述灰度图像块中逐个选取其中一个像素点为目标像素点；判断所述目标像素点在所述灰度图像块中是否为极值；当所述目标像素点的像素值在所述灰度图像块中不是极值时，返回从所述灰度图像块中逐个选取其中一个像素点为目标像素点的步骤；当所述目标像素点的像素值在所述灰度图像块中是极值时，确定所述目标像素点为关键点，并能返回从所述灰度图像块中逐个选取其中一个像素点为目标像素点的步骤，直到所述灰度图像块每个像素点都被选取过；汇聚所述关键点，并对所述关键点进行向量化，得到选择的所述灰度图像块的局部特征向量；返回上述的通过遍历操作，从所述多个不同方向尺度的灰度图像块选择其中一个灰度图像块，直到得到每一组所述灰度图像块的局部特征向量，汇总所有所述灰度图像块的局部特征向量，得到多组待识别图像局部特征向量本发明实施例中，所述极值包括极大值与极小值。所述局部特征相似度判断模块104用于计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度，根据所述多组局部特征相似度，获取对应的人脸识别结果。本发明一个可选实施中，可以使用相似度算法计算局部相似度。详细地，所述计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度，包括：利用下述相似度算法计算所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度：其中，SimQ为所述局部特征相似度，α为所述待识别图像局部特征向量，βn为所述最大的全局相似度值对应的标准人脸图像的局部特征向量。本发明实施例中，所述根据所述多组局部特征相似度，获取对应的人脸识别结果，包括：计算所述多组局部特征相似度的平均值，得到平均局部相似度；判断所述平均局部特征相似度与预设的第三阈值的大小关系；若所述平均局部特征相似度小于所述第三阈值，则输出人脸识别失败的提示；若所述平均局部特征相似度大于等于所述第三阈值，则输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果。如图3所示，是本发明实现人脸识别方法的电子设备的结构示意图。所述电子设备可以包括处理器10、存储器11、通信总线12和通信接口13，还可以包括存储在所述存储器11中并可在所述处理器10上运行的计算机程序，如人脸识别程序。其中，所述存储器11至少包括一种类型的可读存储介质，所述可读存储介质包括闪存、移动硬盘、多媒体卡、卡型存储器、磁性存储器、磁盘、光盘等。所述存储器11在一些实施例中可以是电子设备的内部存储单元，例如该电子设备的移动硬盘。所述存储器11在另一些实施例中也可以是电子设备的外部存储设备，例如电子设备上配备的插接式移动硬盘、智能存储卡、安全数字卡、闪存卡等。进一步地，所述存储器11还可以既包括电子设备的内部存储单元也包括外部存储设备。所述存储器11不仅可以用于存储安装于电子设备的应用软件及各类数据，例如人脸识别程序的代码等，还可以用于暂时地存储已经输出或者将要输出的数据。所述处理器10在一些实施例中可以由集成电路组成，例如可以由单个封装的集成电路所组成，也可以是由多个相同功能或不同功能封装的集成电路所组成，包括一个或者多个中央处理器、微处理器、数字处理芯片、图形处理器及各种控制芯片的组合等。所述处理器10是所述电子设备的控制核心，利用各种接口和线路连接整个电子设备的各个部件，通过运行或执行存储在所述存储器11内的程序或者模块，以及调用存储在所述存储器11内的数据，以执行电子设备的各种功能和处理数据。所述通信总线12可以是外设部件互连标准总线或扩展工业标准结构总线等。该总线可以分为地址总线、数据总线、控制总线等。所述通信总线12总线被设置为实现所述存储器11以及至少一个处理器10等之间的连接通信。为便于表示，图中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。图3仅示出了具有部件的电子设备，本领域技术人员可以理解的是，图3示出的结构并不构成对所述电子设备的限定，可以包括比图示更少或者更多的部件，或者组合某些部件，或者不同的部件布置。例如，尽管未示出，所述电子设备还可以包括给各个部件供电的电源，优选地，电源可以通过电源管理装置与所述至少一个处理器10逻辑相连，从而通过电源管理装置实现充电管理、放电管理、以及功耗管理等功能。电源还可以包括一个或一个以上的直流或交流电源、再充电装置、电源故障检测电路、电源转换器或者逆变器、电源状态指示器等任意组件。所述电子设备还可以包括多种传感器、蓝牙模块、Wi-Fi模块等，在此不再赘述。可选地，所述通信接口13可以包括有线接口和/或无线接口，通常用于在该电子设备与其他电子设备之间建立通信连接。可选地，所述通信接口13还可以包括用户接口，用户接口可以是显示器、输入单元)，可选地，用户接口还可以是标准的有线接口、无线接口。可选地，在一些实施例中，显示器可以是LED显示器、液晶显示器、触控式液晶显示器以及OLED触摸器等。其中，显示器也可以适当的称为显示屏或显示单元，用于显示在电子设备中处理的信息以及用于显示可视化的用户界面。应该了解，所述实施例仅为说明之用，在专利申请范围上并不受此结构的限制。所述电子设备中的所述存储器11存储的人脸识别程序是多个计算机程序的组合，在所述处理器10中运行时，可以实现：获取待识别人脸图像，对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量；计算所述待识别图像全局特征向量与人脸数据库中的标准人脸图像集中每个标准人脸图像之间的全局特征向量之间的全局相似度，得到全局特征相似度集合；当所述全局特征相似度集合中最大的全局相似度值大于预设的第一阈值时，输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果；当所述全局特征相似度集合中最大的全局相似度值小于预设的第二阈值时，输出人脸识别失败的信息；当所述全局特征相似度集合中最大的全局相似度值大于所述第一阈值时且小于预设的第二阈值时，根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量；计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度；根据所述多组局部特征相似度，获取对应的人脸识别结果。具体地，所述处理器10对上述计算机程序的具体实现方法可参考图1对应实施例中相关步骤的描述，在此不赘述。进一步地，所述电子设备集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。所述计算机可读介质可以是非易失性的，也可以是易失性的。所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器。本发明实施例还可以提供一种计算机可读存储介质，所述可读存储介质存储有计算机程序，所述计算机程序在被电子设备的处理器所执行时，可以实现：获取待识别人脸图像，对所述待识别人脸图像进行全局特征提取，得到待识别图像全局特征向量；计算所述待识别图像全局特征向量与人脸数据库中的标准人脸图像集中每个标准人脸图像之间的全局特征向量之间的全局相似度，得到全局特征相似度集合；当所述全局特征相似度集合中最大的全局相似度值大于预设的第一阈值时，输出所述最大的全局相似度值对应的标准人脸图像作为人脸识别结果；当所述全局特征相似度集合中最大的全局相似度值小于预设的第二阈值时，输出人脸识别失败的信息；当所述全局特征相似度集合中最大的全局相似度值大于所述第一阈值时且小于预设的第二阈值时，根据预先设置的不同的方向及尺度，对所述待识别人脸图像进行局部特征提取，得到多组待识别图像局部特征向量；计算每组所述待识别图像局部特征向量与所述最大的全局相似度值对应的标准人脸图像的局部特征向量之间的局部相似度，得到多组局部特征相似度；根据所述多组局部特征相似度，获取对应的人脸识别结果。进一步地，所述计算机可用存储介质可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序等；存储数据区可存储根据区块链节点的使用所创建的数据等。在本发明所提供的几个实施例中，应该理解到，所揭露的设备，装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。所述作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能模块的形式实现。对于本领域技术人员而言，显然本发明不限于上述示范性实施例的细节，而且在不背离本发明的精神或基本特征的情况下，能够以其他的具体形式实现本发明。因此，无论从哪一点来看，均应将实施例看作是示范性的，而且是非限制性的，本发明的范围由所附权利要求而不是上述说明限定，因此旨在将落在权利要求的等同要件的含义和范围内的所有变化涵括在本发明内。不应将权利要求中的任何附关联图标记视为限制所涉及的权利要求。本发明所指区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。区块链，本质上是一个去中心化的数据库，是一串使用密码学方法相关联产生的数据块，每一个数据块中包含了一批次网络交易的信息，用于验证其信息的有效性和生成下一个区块。区块链可以包括区块链底层平台、平台产品服务层以及应用服务层等。本申请实施例可以基于人工智能技术对相关的数据进行获取和处理。其中，人工智能是利用数字计算机或者数字计算机控制的机器模拟、延伸和扩展人的智能，感知环境、获取知识并使用知识获得最佳结果的理论、方法、技术及应用系统。此外，显然“包括”一词不排除其他单元或步骤，单数不排除复数。系统权利要求中陈述的多个单元或装置也可以由一个单元或装置通过软件或者硬件来实现。第二等词语用来表示名称，而并不表示任何特定的顺序。最后应说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，可以对本发明的技术方案进行修改或等同替换，而不脱离本发明技术方案的精神和范围。
