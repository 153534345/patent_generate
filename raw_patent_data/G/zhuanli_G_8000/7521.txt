标题title
一种针对山地电站的光伏组串融合模型的建模方法
摘要abst
本发明公开了一种针对山地电站的光伏组串融合模型建模方法，属于光伏组串技术领域。该建模方法包括模型输入数据的获取、建立太阳辐照度转换模型、光伏组串方位角和倾角的判断、建立光伏电池的双二极管等效模型，完成山地电站光伏组串融合模型的建立，并利用检测得到的实时数据，输出光伏组串实时I‑V曲线，实现在线监测的目的。本发明建立的山地电站的光伏组串模型，可以根据光伏组串安装角度的差异，分别计算其接收到的真实太阳辐照度，准确地实时模拟光伏组串的输出特征，以达到在线监测光伏组串运行状态以及在线故障诊断的目的，从而指导人工运维。
权利要求书clms
1.一种针对山地电站的光伏组串融合模型的建模方法，该建模方法涉及的光伏组串为山地电站中一台逆变器或汇流箱下的任一个光伏组串，所述光伏组串由N个结构相同的光伏组件串联而成，每个光伏组件由三个结构相同的光伏子串串联构成，每个光伏子串包括NS个光伏电池单元和一个旁路二极管，NS个光伏电池单元串联后与旁路二极管反并联；其特征在于，所述建模方法包括以下步骤：步骤1，模型输入数据的获取步骤1.1，令提取的时间范围为一年，提取间隔为15分钟，并设提取年份中晴朗天气为X天，提取山地电站该年内晴朗天气的历史环境数据，所述历史环境数据包括历史环境温度T1、历史水平面散射辐照度DH1和历史水平面直射辐照度SH1，将提取到的96X个历史环境温度T1的数据组成历史环境温度数据集A1、提取到的96X个历史水平面散射辐照度DH1的数据组成历史水平面散射辐照度数据集B1、提取到的96X个历史水平面直射辐照度SH1的数据组成历史水平面直射辐照度数据集C1，以提取时间为横坐标，提取时间对应的历史水平面直射辐照度SH1为纵坐标，绘制出一条t-SH1太阳辐照度曲线；步骤1.2，与步骤1同步，通过逆变器或汇流箱提取山地电站该年内晴朗天气的每隔15分钟的历史发电数据，所述历史发电数据包括历史光伏组串输出电流I1和历史光伏组串输出功率P1，将提取到的96X个历史光伏组串输出电流I1的数据组成历史光伏组串输出电流数据集F1、提取到的96X个历史光伏组串输出功率P1的数据组成历史光伏组串输出功率数据集F1，以提取时间为横坐标，提取时间对应的历史光伏组串输出电流I1为纵坐标，绘制出一条t-I1光伏组串输出电流曲线；步骤2，建立太阳辐照度转换模型太阳辐照度转换模型包括光伏组串倾斜面直射辐照度模型、光伏组串倾斜面散射辐照度模型、光伏组串地面反射辐照度模型、光伏组串倾斜面的太阳总辐照度模型；光伏组串倾斜面直射辐照度模型的表达式如下：其中，ST为光伏组串倾斜面直射辐照度，SH为光伏组串水平面直射辐照度，d为太阳高度角，将光伏组串所在地与地心相连所得连线对应的地表切面记为切面，太阳高度角d是太阳入射光线与切面的夹角；θ为入射角，即太阳直射辐照度与光伏组串法线方向的夹角，所述法线即垂直于光伏组串所在的水平面的直线，所述入射角θ的计算公式如下：cosθ＝cosZsinα+sinZcosαcos式中，Z为光伏组串的倾角，是光伏组串与地平线的夹角，A为光伏组串的方位角，是光伏组串所在的水平面的垂直面与正南方向的夹角，γ为太阳方位角，为太阳入射线在地平面上的投影与正南方向的夹角；光伏组串倾斜面散射辐照度模型的表达式为：其中，DT为光伏组串倾斜面散射辐照度，DH是光伏组串水平面散射辐照度，F1为环日增亮系数，F2为水平面增亮系数，其计算式分别为：F1＝F11+F12μ+F13θZF2＝F21+F22μ+F23θZ式中，F11为第一增亮系数，F12为第二增亮系数，F13为第三增亮系数，F21为第四增亮系数，F22为第五增亮系数，F23为第六增亮系数，μ是天空亮度，θZ为天顶角，是天顶轴与太阳光线之间的夹角；a为太阳入射角第一系数，b为太阳入射角第二系数，其计算式分别为：θ＝maxb＝max光伏组串地面反射辐照度模型的表达式如下：其中，RT为光伏组串地面反射辐照度，ρ为地面平均反射率，取ρ＝0.15；光伏组串倾斜面的太阳总辐照度模型的表达式如下：Q＝DT+ST+RT其中，Q为光伏组串倾斜面的太阳总辐照度；步骤3，利用步骤1采集的数据判断光伏组串的方位角A和倾角Z步骤3.1，对步骤1得到的96X个历史水平面直射辐照度SH1进行插值处理，具体的，采取线性插值方法，插值后数据时间间隔为5分钟，插值后对数据进行高斯二阶拟合处理，并将处理后得到的数据记为插值历史水平面直射辐照度SH3，即通过线性插值处理共得到288X个插值历史水平面直射辐照度SH3；以提取时间为横坐标，以插值历史水平面直射辐照度SH3为纵坐标，绘制出一条t-SH3太阳辐照度曲线，在该t-SH3太阳辐照度曲线上，每一天包括288个插值历史水平面直射辐照度SH3的数据；步骤3.2，对步骤1得到的96X个历史水平面散射辐照度DH1进行插值处理，具体的，采取线性插值方法，插值后数据时间间隔为5分钟，插值后对数据进行高斯二阶拟合处理，并将处理后得到的数据记为插值历史水平面散射辐照度DH3，即通过线性插值处理共得到288X个插值历史水平面散射辐照度DH3；以提取时间为横坐标，以插值历史水平面散射辐照度DH3为纵坐标，绘制出一条t-DH3太阳辐照度曲线，在该t-DH3太阳辐照度曲线上，每一天包括288个插值历史水平面散射辐照度DH3的数据；步骤3.3，对步骤1得到的历史光伏组串输出电流数据I1进行插值处理，具体的，采取线性插值方法，插值后数据时间间隔为5分钟，插值后对数据进行高斯二阶拟合处理，并将处理后得到的数据记为插值历史光伏组串输出电流I3，即通过线性插值处理共得到288X个插值历史光伏组串输出电流I3，以提取时间为横坐标，以插值历史光伏组串输出电流I3为纵坐标，绘制出一条t-I3光伏组串输出电流曲线；从t-I3光伏组串输出电流曲线中提取每天的历史光伏组串输出电流I3的最大值，将该最大值记为历史光伏组串输出电流峰值IF，并将该历史光伏组串输出电流峰值IF发生的时间记为历史光伏组串输出电流峰值时间tIF，即对应X个晴朗天气，共提取得到X个历史光伏组串输出电流峰值IF和X个历史光伏组串输出电流峰值时间tIF；步骤3.4，通过光伏组串在运行时的环境辐照度G和环境温度Th计算光伏组串的最大工作点电流IMG，其计算公式为：其中，GREF为标准状况下环境辐照度，GREF＝1000W/m2，IM.REF为铭牌最大功率点电流，ε为短路电流温度系数，由光伏组件铭牌参数表获取，TREF为标准状况下光伏电池温度，数值为25℃，d为电流衰减系数，d＝11％；T为光伏电池温度，其中，ta为光伏电池的第一温度系数，ta＝-3.56，tb为光伏电池的第二温度系数，tb＝-0.075，WS为标准十米高度测量的风速，WS＝5m/s；步骤3.5，进行峰值匹配，判断光伏组串的倾角Z和方位角A步骤3.5.1，首先设方位角A以1度为单位从30度到150度进行变化，倾角Z以1度为单位从0度到60度进行变化，将两种角度的变化组合在一起共得到7200个由方位角A和倾角Z组成的角度组合，将7200个角度组合中的任意一个记为角度组合Λj，j＝1，2...，7200，将X个晴朗天气中的任意一天记为晴朗天气Γi，i＝1，2，...X；步骤3.5.2，对一个晴朗天气Γi做如下操作：首先提取该晴朗天气Γi的288个插值历史水平面直射辐照度SH3的数据和288个插值历史水平面散射辐照度DH3的数据，将其代入步骤2得到的太阳辐照度转换模型，并控制太阳辐照度转换模型保持在一个角度组合Λj中的方位角A和倾角Z上，得到288个晴朗天气下光伏组串倾斜面的太阳总辐照度Q1，将其中的最大值记为晴朗天气下光伏组串倾斜面的太阳总辐照度峰值Q1f，该晴朗天气下光伏组串倾斜面的太阳总辐照度峰值Q1f发生的时间记为历史平面辐照度峰值时间tq1；对7200个角度组合做同样的处理，得到该晴朗天气Γi的7200个历史平面辐照度峰值时间tq1；从步骤3.3得到的X个历史光伏组串输出电流峰值IF和X个历史光伏组串输出电流峰值时间tIF中提取该晴朗天气Γi的数据，并逐个计算峰值偏差ERR，其计算公式为：ERR＝|tIF-tq1|+|IF-IMG|对应7200个历史平面辐照度峰值时间tq1，得到7200个峰值偏差ERR，然后在7200个峰值偏差ERR中，取峰值偏差ERR最小的36个，并将该36个峰值偏差ERR对应的36个角度组合记为待选角度组合；步骤3.5.3，按照步骤3.5.2的方法，对X个晴朗天气做同样的处理，得到36X个待选角度组合，然后在36X个待选角度组合中取出现次数最多的一个角度组合作为光伏组串的理想角度组合，并将理想角度组合中的倾角记为理想倾角Z’，理想角度组合中的方位角记为理想方位角A’；如果在36X个待选角度组合中，出现次数最多的角度组合出现次数并列的情况，则取出现次数并列的角度组合中的倾角的平均值作为理想角度组合中的理想倾角Z’，取出现次数并列的角度组合中的方位角的平均值作为理想角度组合中的理想方位角A’；步骤4，建立光伏电池的双二极管等效模型步骤4.1，所述双二极管等效模型由一个电流源、两个并联二极管、一个并联电阻Rp和一个串联电阻Rs构成，其中，两个并列二极管分别记为二极管D1和二极管D2，电流源、二极管D1、二极管D2、并联电阻Rp之间互为并联，串联电阻Rs与并联电阻Rp的一端相接；通过光伏组件制造商获取铭牌信息，包括开路电压VOC，短路电流ISC、最大功率点PM、最大功率点处电流IM和最大功率点处电压VM；设二极管D1第一理想因子a1和二极管D2第二理想因子a2均是恒定的；步骤4.2，根据光伏电池的双二极管等效模型特征，光伏电池的I-V特性方程的计算公式为：其中，V是光伏电池输出电压，I是光伏电池输出电流；VT1为光伏电池的第一热电压，VT2为光伏电池的第二热电压，其计算公式为：式中，q为电子电荷，q＝1.602×10-19C，k为玻尔兹曼常数，k＝1.38×10-23J/K；IPV为光生电流，其计算公式为：式中，G为环境辐照度，GREF为标准状况下环境辐照度，GREF＝1000W/m2；Rm为并联电阻RP的阻值Rm，Rc为串联电阻RS的阻值，I01为二极管D1的反向饱和电流，I02为二极管D2的反向饱和电流，其计算式分别为：步骤5，建立山地电站的光伏组串融合模型步骤5.1，光伏组串融合模型的建立所述山地电站的光伏组串融合模型包括步骤2建立的太阳辐照度转换模型和步骤4建立的光伏电池的双二极管等效模型；步骤5.2，光伏组串融合模型的利用通过环境监测仪检测山地电站的实时数据，包括实时水平面散射辐照度DH2、实时水平面直射辐照度SH2、实时环境温度T2；将实时水平面散射辐照度DH2、实时水平面直射辐照度SH2、步骤3得到的理想倾角Z’和理想方位角A’输入到步骤2建立的太阳辐照度转换模型中，输出为理想光伏组串倾斜面的太阳总辐照度Q2；将实时环境温度T2和理想光伏组串倾斜面的太阳总辐照度Q2输入到步骤4的光伏电池的双二极管等效模型，同时，输入0伏到40伏的以正比例函数形式逐渐递增的光伏电池理想输出电压V’，输出为与光伏电池理想输出电压V’所对应的理想光伏电池输出电流I’；根据光伏电池理想输出电压V’计算光伏组串理想输出电压V1’、光伏组串理想输出电流I1’和光伏组串理想输出功率P1’，计算公式分别为：V1’＝V’×NsI1’＝I’P1’＝V1’×I’以光伏组串理想输出电压V1’为横坐标，以光伏组串理想输出电流I1’为纵坐标，绘制出一条V1’-I1’实时曲线；以光伏组串理想输出电压V1’为横坐标，以光伏组串理想输出功率P1’为纵坐标，绘制出一条V1’-P1’的实时曲线。
说明书desc
技术领域本发明涉及光伏组串技术领域，具体涉及一种针对山地电站的光伏组串融合模型建模方法。背景技术随着光伏电站的大量建设，面积广阔、相对易于开发的的山地丘陵地带开始成为了新增光伏装机的首要选择。光伏组串作为光伏发电系统中的核心，其可靠性年的尤为重要，为了研究光伏电池的输出特征，研究人员提出了多种光伏电池的建模方法，在线仿真模拟光伏组串的理想输出特性，通过对比实测的输出特性曲线，可以直接发现功率异常的光伏组串，为故障诊断提供了便利。对于山地光伏电站，由于光伏组串间倾角、方位角的不一致，其同一时间接收到的太阳辐照度有较大的差异，因此传统的光伏组串模型无法准确的模拟每一个组串的输出特征，对于实测输出与模型输出的偏差，也无法判断是由故障或安装角度差异所导致的。本发明旨在针对建立一种适用于山地电站的光伏组串模型，可以根据光伏组串安装角度的差异，分别计算其接收到的真实太阳辐照度，准确地实时模拟光伏组串的输出特征，以达到在线监测光伏组串运行状态以及在线故障诊断的目的，从而指导人工运维。文献“Worldwide annual optimum tilt angle model for solar collectorsand photovoltaic systems in the absence of site meteorological data”.《Applied Energy》，2021，281:116056.研究了世界各地光伏阵列最佳倾角、方位角的方法，根据当地经纬度以及太阳辐照变化规律分析，得出全年内输出功率最大的光伏组串安装角度，但该方法不能判断光伏组串安装的任意角度。文献“倾斜面太阳辐照度实用计算模型的研究”，2016，37:787-793. 研究了根据平面太阳辐照度计算任意倾斜面辐照度的方法，但该方法没有分析光伏组串的输出特性。文献“各类光伏面辐照度的计算”太阳能,2018,04:19-28.研究了固定安装、单轴太阳跟踪、双轴太阳跟踪光伏阵列的辐照度计算方法，但是并没有计算任意倾角和方位角下的光伏阵列的辐照度。综上所述，现有技术还存在以下问题：1、目前没有提出一种适用于山地电站的光伏组串模型；2、现有光伏组串模型都是针对方位角和倾角一致建立的，并不考虑方位角和倾角不同的情况，之前的光伏组串模型泛用性较差；3、目前的模型辐照只采用平面直射辐照度输入，没有考虑真实太阳辐照度输入。发明内容本发明所要解决的技术问题在于解决以上现有技术中存在的问题，具体的，提供一种针对山地电站的光伏组串融合模型建模方法，根据光伏组串安装角度的差异，分别计算其接收到的真实太阳辐照度，准确地实时模拟光伏组串的输出特征。本发明的目的是这样实现的，本发明提供了一种针对山地电站的光伏组串融合模型的建模方法，该建模方法涉及的光伏组串为山地电站中一台逆变器或汇流箱下的任一个光伏组串，所述光伏组串由N个结构相同的光伏组件串联而成，每个光伏组件由三个结构相同的光伏子串串联构成，每个光伏子串包括NS个光伏电池单元和一个旁路二极管，NS个光伏电池单元串联后与旁路二极管反并联；所述建模方法包括以下步骤：步骤1，模型输入数据的获取步骤1.1，令提取的时间范围为一年，提取间隔为15分钟，并设提取年份中晴朗天气为X天，提取山地电站该年内晴朗天气的历史环境数据，所述历史环境数据包括历史环境温度T1、历史水平面散射辐照度DH1和历史水平面直射辐照度SH1，将提取到的96X个历史环境温度T1的数据组成历史环境温度数据集A1、提取到的96X个历史水平面散射辐照度DH1的数据组成历史水平面散射辐照度数据集B1、提取到的96X个历史水平面直射辐照度SH1的数据组成历史水平面直射辐照度数据集C1，以提取时间为横坐标，提取时间对应的历史水平面直射辐照度SH1为纵坐标，绘制出一条t-SH1太阳辐照度曲线；步骤1.2，与步骤1同步，通过逆变器或汇流箱提取山地电站该年内晴朗天气的每隔15分钟的历史发电数据，所述历史发电数据包括历史光伏组串输出电流I1和历史光伏组串输出功率P1，将提取到的96X个历史光伏组串输出电流 I1的数据组成历史光伏组串输出电流数据集E1、提取到的96X个历史光伏组串输出功率P1的数据组成历史光伏组串输出功率数据集F1，以提取时间为横坐标，提取时间对应的历史光伏组串输出电流I1为纵坐标，绘制出一条t-I1光伏组串输出电流曲线；步骤2，建立太阳辐照度转换模型太阳辐照度转换模型包括光伏组串倾斜面直射辐照度模型、光伏组串倾斜面散射辐照度模型、光伏组串地面反射辐照度模型、光伏组串倾斜面的太阳总辐照度模型；光伏组串倾斜面直射辐照度模型的表达式如下：其中，ST为光伏组串倾斜面直射辐照度，SH为光伏组串水平面直射辐照度，α为太阳高度角，将光伏组串所在地与地心相连所得连线对应的地表切面记为切面，太阳高度角α是太阳入射光线与切面的夹角；θ为入射角，即太阳直射辐照度与光伏组串法线方向的夹角,所述法线即垂直于光伏组串所在的水平面的直线，所述入射角θ的计算公式如下：cosθ＝cos Z sinα+sin Z cosαcos式中，Z为光伏组串的倾角，是光伏组串与地平线的夹角，A为光伏组串的方位角，是光伏组串所在的水平面的垂直面与正南方向的夹角，γ为太阳方位角，为太阳入射线在地平面上的投影与正南方向的夹角；光伏组串倾斜面散射辐照度模型的表达式为：其中，DT为光伏组串倾斜面散射辐照度，DH是光伏组串水平面散射辐照度， F1为环日增亮系数，F2为水平面增亮系数，其计算式分别为：F1＝F11+F12μ+F13θZF2＝F21+F22μ+F23θZ式中，F11为第一增亮系数，F12为第二增亮系数，F13为第三增亮系数，F21为第四增亮系数，F22为第五增亮系数，F23为第六增亮系数，μ是天空亮度，θZ为天顶角，是天顶轴与太阳光线之间的夹角；a为太阳入射角第一系数，b为太阳入射角第二系数，其计算式分别为：a＝maxb＝max光伏组串地面反射辐照度模型的表达式如下：其中，RT为光伏组串地面反射辐照度，ρ为地面平均反射率，取ρ＝0.15；光伏组串倾斜面的太阳总辐照度模型的表达式如下：Q＝DT+ST+RT其中，Q为光伏组串倾斜面的太阳总辐照度；步骤3，利用步骤1采集的数据判断光伏组串的方位角A和倾角Z步骤3.1，对步骤1得到的96X个历史水平面直射辐照度SH1进行插值处理，具体的，采取线性插值方法，插值后数据时间间隔为5分钟，插值后对数据进行高斯二阶拟合处理，并将处理后得到的数据记为插值历史水平面直射辐照度 SH3，即通过线性插值处理共得到288X个插值历史水平面直射辐照度SH3；以提取时间为横坐标，以插值历史水平面直射辐照度SH3为纵坐标，绘制出一条t-SH3太阳辐照度曲线，在该t-SH3太阳辐照度曲线上，每一天包括288 个插值历史水平面直射辐照度SH3的数据；步骤3.2，对步骤1得到的96X个历史水平面散射辐照度DH1进行插值处理，具体的，采取线性插值方法，插值后数据时间间隔为5分钟，插值后对数据进行高斯二阶拟合处理，并将处理后得到的数据记为插值历史水平面散射辐照度 DH3，即通过线性插值处理共得到288X个插值历史水平面散射辐照度DH3；以提取时间为横坐标，以插值历史水平面散射辐照度DH3为纵坐标，绘制出一条t-DH3太阳辐照度曲线，在该t-DH3太阳辐照度曲线上，每一天包括288 个插值历史水平面散射辐照度DH3的数据；步骤3.3，对步骤1得到的历史光伏组串输出电流数据I1进行插值处理，具体的，采取线性插值方法，插值后数据时间间隔为5分钟，插值后对数据进行高斯二阶拟合处理，并将处理后得到的数据记为插值历史光伏组串输出电流 I3，即通过线性插值处理共得到288X个插值历史光伏组串输出电流I3，以提取时间为横坐标，以插值历史光伏组串输出电流I3为纵坐标，绘制出一条t-I3 光伏组串输出电流曲线；从t-I3光伏组串输出电流曲线中提取每天的历史光伏组串输出电流I3的最大值，将该最大值记为历史光伏组串输出电流峰值IF，并将该历史光伏组串输出电流峰值IF发生的时间记为历史光伏组串输出电流峰值时间tIF，即对应X 个晴朗天气，共提取得到X个历史光伏组串输出电流峰值IF和X个历史光伏组串输出电流峰值时间tIF；步骤3.4，通过光伏组串在运行时的环境辐照度G和环境温度Th计算光伏组串的最大工作点电流IMG，其计算公式为：其中，GREF为标准状况下环境辐照度，GREF＝1000W/m2，IM.REF为铭牌最大功率点电流，ε为短路电流温度系数，由光伏组件铭牌参数表获取，TREF为标准状况下光伏电池温度，数值为25℃，d为电流衰减系数，d＝11％；T为光伏电池温度，其中，ta为光伏电池的第一温度系数，ta＝-3.56，tb为光伏电池的第二温度系数，tb＝-0.075，WS为标准十米高度测量的风速，WS＝5m/s；步骤3.5，进行峰值匹配，判断光伏组串的倾角Z和方位角A步骤3.5.1,首先设方位角A以1度为单位从30度到150度进行变化，倾角Z以1度为单位从0度到60度进行变化，将两种角度的变化组合在一起共得到7200个由方位角A和倾角Z组成的角度组合，将7200个角度组合中的任意一个记为角度组合Λj，j＝1,2...,7200，将X个晴朗天气中的任意一天记为晴朗天气Γi,i＝1,2,...X；步骤3.5.2，对一个晴朗天气Γi做如下操作：首先提取该晴朗天气Γi的288个插值历史水平面直射辐照度SH3的数据和 288个插值历史水平面散射辐照度DH3的数据，将其代入步骤2得到的太阳辐照度转换模型，并控制太阳辐照度转换模型保持在一个角度组合Λj中的方位角A 和倾角Z上，得到288个晴朗天气下光伏组串倾斜面的太阳总辐照度Q1，将其中的最大值记为晴朗天气下光伏组串倾斜面的太阳总辐照度峰值Q1f，该晴朗天气下光伏组串倾斜面的太阳总辐照度峰值Q1f发生的时间记为历史平面辐照度峰值时间tq1；对7200个角度组合做同样的处理，得到该晴朗天气Γi的7200个历史平面辐照度峰值时间tq1；从步骤3.3得到的X个历史光伏组串输出电流峰值IF和X个历史光伏组串输出电流峰值时间tIF中提取该晴朗天气Γi的数据，并逐个计算峰值偏差ERR，其计算公式为：ERR＝|tIF-tq1|+|IF-IMG|对应7200个历史平面辐照度峰值时间tq1，得到7200个峰值偏差ERR，然后在7200个峰值偏差ERR中，取峰值偏差ERR最小的36个，并将该36个峰值偏差ERR对应的36个角度组合记为待选角度组合；步骤3.5.3，按照步骤3.5.2的方法，对X个晴朗天气做同样的处理，得到 36X个待选角度组合，然后在36X个待选角度组合中取出现次数最多的一个角度组合作为光伏组串的理想角度组合，并将理想角度组合中的倾角记为理想倾角 Z’,理想角度组合中的方位角记为理想方位角A’；如果在36X个待选角度组合中，出现次数最多的角度组合出现次数并列的情况，则取出现次数并列的角度组合中的倾角的平均值作为理想角度组合中的理想倾角Z’,取出现次数并列的角度组合中的方位角的平均值作为理想角度组合中的理想方位角A’；步骤4，建立光伏电池的双二极管等效模型步骤4.1，所述双二极管等效模型由一个电流源、两个并联二极管、一个并联电阻Rp和一个串联电阻Rs构成，其中，两个并列二极管分别记为二极管D1和二极管D2,电流源、二极管D1、二极管D2、并联电阻Rp之间互为并联，串联电阻 Rs与并联电阻Rp的一端相接；通过光伏组件制造商获取铭牌信息，包括开路电压VOC，短路电流ISC、最大功率点PM、最大功率点处电流IM和最大功率点处电压VM；设二极管D1第一理想因子a1和二极管D2第二理想因子a2均是恒定的；步骤4.2，根据光伏电池的双二极管等效模型特征，光伏电池的I-V特性方程的计算公式为：其中，V是光伏电池输出电压，I是光伏电池输出电流；VT1为光伏电池的第一热电压，VT2为光伏电池的第二热电压，其计算公式为：式中，q为电子电荷，q＝1.602×10-19C，k为玻尔兹曼常数，k＝1.38×10-23J/K；IPV为光生电流，其计算公式为：式中，G为环境辐照度，GREF为标准状况下环境辐照度，GREF＝1000W/m2；Rm为并联电阻RP的阻值Rm，Rc为串联电阻RS的阻值，IO1为二极管D1的反向饱和电流，IO2为二极管D2的反向饱和电流，其计算式分别为：步骤5，建立山地电站的光伏组串融合模型步骤5.1，光伏组串融合模型的建立所述山地电站的光伏组串融合模型包括步骤2建立的太阳辐照度转换模型和步骤4建立的光伏电池的双二极管等效模型；步骤5.2，光伏组串融合模型的利用通过环境监测仪检测山地电站的实时数据，包括实时水平面散射辐照度DH2、实时水平面直射辐照度SH2、实时环境温度T2；将实时水平面散射辐照度DH2、实时水平面直射辐照度SH2、步骤3得到的理想倾角Z’和理想方位角A’输入到步骤2建立的太阳辐照度转换模型中，输出为理想光伏组串倾斜面的太阳总辐照度Q2；将实时环境温度T2和理想光伏组串倾斜面的太阳总辐照度Q2输入到步骤4 的光伏电池的双二极管等效模型，同时，输入0伏到40伏的以正比例函数形式逐渐递增的光伏电池理想输出电压V’，输出为与光伏电池理想输出电压V’所对应的理想光伏电池输出电流I’；根据光伏电池理想输出电压V’计算光伏组串理想输出电压V1’、光伏组串理想输出电流I1’和光伏组串理想输出功率P1’，计算公式分别为：V1’＝V’×NsI1’＝I’P1'＝V1’×I’以光伏组串理想输出电压V1’为横坐标，以光伏组串理想输出电流I1’为纵坐标，绘制出一条V1’-I1’实时曲线；以光伏组串理想输出电压V1’为横坐标，以光伏组串理想输出功率P1’为纵坐标，绘制出一条V1’-P1’的实时曲线。与现有技术相比，本发明的有益效果体现在：1、基于环境监测仪历史环境数据以及光伏逆变器历史发电数据，经过晴朗天气筛选、数据处理、峰值匹配的步骤在线判断光伏组串倾角、方位角；2、把倾角和方位角输入太阳辐照换位模型中，可以将水平面辐照度转换为任意倾斜面辐照度；3、基于倾角和方位角判断，并建立太阳辐照换为模型，与双二极管等效模型相融合，建立融合模型；4、该模型可以准确的在线实时模拟山地电站的光伏组串输出特征，为光伏组串实时在线监测以及指导运维提供基础，具有很高的实用价值。附图说明图1为本发明实施例中光伏组件结构示意图。图2为本发明实施例中光伏组串结构示意图。图3为本发明实施例中水平面直射辐照示意图。图4为本发明实施例中倾斜面直射辐照度示意图。图5为发明实施例中光伏组串直射辐照度入射角示意图。图6为本发明实施例中光伏电池的双二极管等效模型等效电路图。图7为本发明光伏组串融合模型建立流程示意图。图8为本发明光伏组串融合模型建立流程框图。具体实施方式下面结合具体实施例和附图对本发明作进一步的说明：图1为本发明实施例中光伏组件结构示意图，图2为本发明实施例中光伏组串示意图。在本实施例中，N个结构相同的光伏组件串联构成光伏组串，光伏组串的输出端连接逆变器的输入端，逆变器输出端连接电网，逆变器输出端通过信号连接云端，由图1、图2可见，该建模方法涉及的光伏组串为山地电站中一台逆变器或汇流箱下的任一个光伏组串，所述光伏组串由N个结构相同的光伏组件串联而成，每个光伏组件由三个结构相同的光伏子串串联构成，每个光伏子串包括NS个光伏电池单元和一个旁路二极管，NS个光伏电池单元串联后与旁路二极管反并联。在本实施例中，N为22，NS为20。图7为本发明光伏组串融合模型建立流程示意图，图8为本发明光伏组串融合模型建立流程框图。由图7可见，所述建模方法包括以下步骤：步骤1，模型输入数据的获取步骤1.1，令提取的时间范围为一年，提取间隔为15分钟，并设提取年份中晴朗天气为X天，提取山地电站该年内晴朗天气的历史环境数据，所述历史环境数据包括历史环境温度T1、历史水平面散射辐照度DH1和历史水平面直射辐照度SH1，将提取到的96X个历史环境温度T1的数据组成历史环境温度数据集A1、提取到的96X个历史水平面散射辐照度DH1的数据组成历史水平面散射辐照度数据集B1、提取到的96X个历史水平面直射辐照度SH1的数据组成历史水平面直射辐照度数据集C1，以提取时间为横坐标，提取时间对应的历史水平面直射辐照度SH1为纵坐标，绘制出一条t-SH1太阳辐照度曲线。步骤1.2，与步骤1同步，通过逆变器或汇流箱提取山地电站该年内晴朗天气的每隔15分钟的历史发电数据，所述历史发电数据包括历史光伏组串输出电流I1和历史光伏组串输出功率P1，将提取到的96X个历史光伏组串输出电流 I1的数据组成历史光伏组串输出电流数据集E1、提取到的96X个历史光伏组串输出功率P1的数据组成历史光伏组串输出功率数据集F1，以提取时间为横坐标，提取时间对应的历史光伏组串输出电流I1为纵坐标，绘制出一条t-I1光伏组串输出电流曲线。步骤2，建立太阳辐照度转换模型太阳辐照度转换模型包括光伏组串倾斜面直射辐照度模型、光伏组串倾斜面散射辐照度模型、光伏组串地面反射辐照度模型、光伏组串倾斜面的太阳总辐照度模型。光伏组串倾斜面直射辐照度模型的表达式如下：其中，ST为光伏组串倾斜面直射辐照度，SH为光伏组串水平面直射辐照度，α为太阳高度角，将光伏组串所在地与地心相连所得连线对应的地表切面记为切面，太阳高度角α是太阳入射光线与切面的夹角；θ为入射角，即太阳直射辐照度与光伏组串法线方向的夹角,所述法线即垂直于光伏组串所在的水平面的直线，所述入射角θ的计算公式如下：cosθ＝cos Z sinα+sin Z cosαcos式中，Z为光伏组串的倾角，是光伏组串与地平线的夹角，A为光伏组串的方位角，是光伏组串所在的水平面的垂直面与正南方向的夹角，γ为太阳方位角，为太阳入射线在地平面上的投影与正南方向的夹角。光伏组串倾斜面散射辐照度模型的表达式为：其中，DT为光伏组串倾斜面散射辐照度，DH是光伏组串水平面散射辐照度， F1为环日增亮系数，F2为水平面增亮系数，其计算式分别为：F1＝F11+F12μ+F13θZF2＝F21+F22μ+F23θZ式中，F11为第一增亮系数，F12为第二增亮系数，F13为第三增亮系数，F21为第四增亮系数，F22为第五增亮系数，F23为第六增亮系数，μ是天空亮度，θZ为天顶角，是天顶轴与太阳光线之间的夹角；a为太阳入射角第一系数，b为太阳入射角第二系数，其计算式分别为：a＝maxb＝max光伏组串地面反射辐照度模型的表达式如下：其中，RT为光伏组串地面反射辐照度，ρ为地面平均反射率，取ρ＝0.15。光伏组串倾斜面的太阳总辐照度模型的表达式如下：Q＝DT+ST+RT其中，Q为光伏组串倾斜面的太阳总辐照度。图3为本发明实施例中水平面直射辐照示意图，图4为本发明实施例中倾斜面直射辐照度示意图，图5为发明实施例中光伏组串直射辐照度入射角示意图。步骤3，利用步骤1采集的数据判断光伏组串的方位角A和倾角Z步骤3.1，对步骤1得到的96X个历史水平面直射辐照度SH1进行插值处理，具体的，采取线性插值方法，插值后数据时间间隔为5分钟，插值后对数据进行高斯二阶拟合处理，并将处理后得到的数据记为插值历史水平面直射辐照度 SH3，即通过线性插值处理共得到288X个插值历史水平面直射辐照度SH3；以提取时间为横坐标，以插值历史水平面直射辐照度SH3为纵坐标，绘制出一条t-SH3太阳辐照度曲线，在该t-SH3太阳辐照度曲线上，每一天包括288 个插值历史水平面直射辐照度SH3的数据；步骤3.2，对步骤1得到的96X个历史水平面散射辐照度DH1进行插值处理，具体的，采取线性插值方法，插值后数据时间间隔为5分钟，插值后对数据进行高斯二阶拟合处理，并将处理后得到的数据记为插值历史水平面散射辐照度 DH3，即通过线性插值处理共得到288X个插值历史水平面散射辐照度DH3；以提取时间为横坐标，以插值历史水平面散射辐照度DH3为纵坐标，绘制出一条t-DH3太阳辐照度曲线，在该t-DH3太阳辐照度曲线上，每一天包括288 个插值历史水平面散射辐照度DH3的数据；步骤3.3，对步骤1得到的历史光伏组串输出电流数据I1进行插值处理，具体的，采取线性插值方法，插值后数据时间间隔为5分钟，插值后对数据进行高斯二阶拟合处理，并将处理后得到的数据记为插值历史光伏组串输出电流 I3，即通过线性插值处理共得到288X个插值历史光伏组串输出电流I3，以提取时间为横坐标，以插值历史光伏组串输出电流I3为纵坐标，绘制出一条t-I3 光伏组串输出电流曲线；从t-I3光伏组串输出电流曲线中提取每天的历史光伏组串输出电流I3的最大值，将该最大值记为历史光伏组串输出电流峰值IF，并将该历史光伏组串输出电流峰值IF发生的时间记为历史光伏组串输出电流峰值时间tIF，即对应X 个晴朗天气，共提取得到X个历史光伏组串输出电流峰值IF和X个历史光伏组串输出电流峰值时间tIF；步骤3.4，通过光伏组串在运行时的环境辐照度G和环境温度Th计算光伏组串的最大工作点电流IMG，其计算公式为：其中，GREF为标准状况下环境辐照度，GREF＝1000W/m2，IM.REF为铭牌最大功率点电流，ε为短路电流温度系数，由光伏组件铭牌参数表获取，TREF为标准状况下光伏电池温度，数值为25℃，d为电流衰减系数，d＝11％；T为光伏电池温度，其中，ta为光伏电池的第一温度系数，ta＝-3.56，tb为光伏电池的第二温度系数，tb＝-0.075，WS为标准十米高度测量的风速，WS＝5m/s；步骤3.5，进行峰值匹配，判断光伏组串的倾角Z和方位角A步骤3.5.1,首先设方位角A以1度为单位从30度到150度进行变化，倾角Z以1度为单位从0度到60度进行变化，将两种角度的变化组合在一起共得到7200个由方位角A和倾角Z组成的角度组合，将7200个角度组合中的任意一个记为角度组合Λj，j＝1,2...,7200，将X个晴朗天气中的任意一天记为晴朗天气Γi,i＝1,2,...X；步骤3.5.2，对一个晴朗天气Γi做如下操作：首先提取该晴朗天气Γi的288个插值历史水平面直射辐照度SH3的数据和 288个插值历史水平面散射辐照度DH3的数据，将其代入步骤2得到的太阳辐照度转换模型，并控制太阳辐照度转换模型保持在一个角度组合Λj中的方位角A 和倾角Z上，得到288个晴朗天气下光伏组串倾斜面的太阳总辐照度Q1，将其中的最大值记为晴朗天气下光伏组串倾斜面的太阳总辐照度峰值Q1f，该晴朗天气下光伏组串倾斜面的太阳总辐照度峰值Q1f发生的时间记为历史平面辐照度峰值时间tq1；对7200个角度组合做同样的处理，得到该晴朗天气Γi的7200个历史平面辐照度峰值时间tq1；从步骤3.2得到的X个历史光伏组串输出电流峰值IF和X个历史光伏组串输出电流峰值时间tIF中提取该晴朗天气Γi的数据，并逐个计算峰值偏差ERR，其计算公式为：ERR＝|tIF-tq1+|IF-IMG|对应7200个历史平面辐照度峰值时间tq1，得到7200个峰值偏差ERR，然后在7200个峰值偏差ERR中，取峰值偏差ERR最小的36个，并将该36个峰值偏差 ERR对应的36个角度组合记为待选角度组合；步骤3.5.3，按照步骤3.5.2的方法，对X个晴朗天气做同样的处理，得到 36X个待选角度组合，然后在36X个待选角度组合中取出现次数最多的一个角度组合作为光伏组串的理想角度组合，并将理想角度组合中的倾角记为理想倾角 Z’,理想角度组合中的方位角记为理想方位角A’；如果在36X个待选角度组合中，出现次数最多的角度组合出现次数并列的情况，则取出现次数并列的角度组合中的倾角的平均值作为理想角度组合中的理想倾角Z’,取出现次数并列的角度组合中的方位角的平均值作为理想角度组合中的理想方位角A’；步骤4，建立光伏电池的双二极管等效模型步骤4.1，所述双二极管等效模型由一个电流源、两个并联二极管、一个并联电阻Rp和一个串联电阻Rs构成，其中，两个并列二极管分别记为二极管D1和二极管D2,电流源、二极管D1、二极管D2、并联电阻Rp之间互为并联，串联电阻 Rs与并联电阻Rp的一端相接。图6给出了本发明光伏电池的双二极管等效模型的等效电路；通过光伏组件制造商获取铭牌信息，包括开路电压VOC，短路电流ISC、最大功率点PM、最大功率点处电流IM和最大功率点处电压VM；设二极管D1第一理想因子a1和二极管D2第二理想因子a2均是恒定的；步骤4.2，根据光伏电池的双二极管等效模型特征，光伏电池的I-V特性方程的计算公式为：其中，V是光伏电池输出电压，I是光伏电池输出电流；VT1为光伏电池的第一热电压，VT2为光伏电池的第二热电压，其计算公式为：式中，q为电子电荷，q＝1.602×10-19C，k为玻尔兹曼常数，k＝1.38×10-23J/K；IPV为光生电流，其计算公式为：式中，G为环境辐照度，GREF为标准状况下环境辐照度，GREF＝1000W/m2；Rm为并联电阻RP的阻值Rm，Rc为串联电阻RS的阻值，IO1为二极管D1的反向饱和电流，IO2为二极管D2的反向饱和电流，其计算式分别为：步骤5，建立山地电站的光伏组串融合模型步骤5.1，光伏组串融合模型的建立所述山地电站的光伏组串融合模型包括步骤2建立的太阳辐照度转换模型和步骤4建立的光伏电池的双二极管等效模型。步骤5.2，光伏组串融合模型的利用通过环境监测仪检测山地电站的实时数据，包括实时水平面散射辐照度DH2、实时水平面直射辐照度SH2、实时环境温度T2；将实时水平面散射辐照度DH2、实时水平面直射辐照度SH2、步骤3得到的理想倾角Z’和理想方位角A’输入到步骤2建立的太阳辐照度转换模型中，输出为理想光伏组串倾斜面的太阳总辐照度Q2；将实时环境温度T2和理想光伏组串倾斜面的太阳总辐照度Q2输入到步骤4 的光伏电池的双二极管等效模型，同时，输入0伏到40伏的以正比例函数形式逐渐递增的光伏电池理想输出电压V’，输出为与光伏电池理想输出电压V’所对应的理想光伏电池输出电流I’；根据光伏电池理想输出电压V’计算光伏组串理想输出电压V1’、光伏组串理想输出电流I1’和光伏组串理想输出功率P1’，计算公式分别为：V1’＝V’×NsI1’＝I’P1’＝V1’×I’以光伏组串理想输出电压V1’为横坐标，以光伏组串理想输出电流I1’为纵坐标，绘制出一条V1’-I1’实时曲线；以光伏组串理想输出电压V1’为横坐标，以光伏组串理想输出功率P1’为纵坐标，绘制出一条V1’-P1’的实时曲线。
