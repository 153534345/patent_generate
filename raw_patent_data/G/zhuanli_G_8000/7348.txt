标题title
一种光伏传输管理方法与系统
摘要abst
本发明提供一种光伏传输管理方法与系统，涉及光伏传输管理领域，包括如下步骤：对光伏传输管理系统内所有用户通过非侵入式负荷检测装置进行检测，并进行负荷分解；对所述每一用户的电器开关序列进行周期性地统计，得到每一用户的每一类电器的开关数量序列；计算运行中的电器的数量，统计系统中的运行的电器情况表；为每一种电器训练一个神经网络模型；预测出下一周期的电器运行数量；根据用户侧的用电预测情况进行补偿调整。通过上述方案解决了光伏传输管理系统难以准确地进行超短期补偿调整的技术问题。
权利要求书clms
1.一种光伏传输管理方法，其特征在于包括如下步骤：S1，对光伏传输管理系统内所有用户通过非侵入式负荷检测装置进行检测，并进行负荷分解，得到所述光伏传输管理系统内所有电器类型、相应电器类型的功率以及每一用户的电器开关序列；S2，以相同的时间起点，以第一时间周期，对所述每一用户的电器开关序列进行周期性地统计，得到每一用户的每一类电器的开关数量序列；S3，对每一用户建立一个以时间、所有电器类型为表头的二维链表；遍历所述每一用户的每一类电器的开关数量序列，以公式：计算运行中的电器的数量，其中表示第i个用户，第k个周期，运行中的第j类电器的数量，；表示第i个用户，第k个周期，第j类电器打开的数量，表示第i个用户，第k个周期，第j类电器关闭的数量；将计算结果填入所述二维链表对应的位置； S4，将所有用户的二维链表按位相加，得到系统中的电器运行情况表；S5，根据系统中的电器运行情况表，得到当前每一种电器的运行时序；取预设数量的电器的运行时序数据输入循环神经网络，为每一种电器训练一个神经网络模型；S6，将当前每一种电器的运行时序数据输入到训练好的神经网络模型，预测出下一周期的电器运行数量；S7，根据下一周期的电器运行数量预测用户侧的用电情况，根据用户侧的用电预测情况进行补偿调整。2.如权利要求1所述的一种光伏传输管理方法，其特征在于：所述相同的时间起点具体为某一次从停电到恢复供电起。3.如权利要求1所述的一种光伏传输管理方法，其特征在于：将所述二维链表部分内容持久化于数据库，只在内存中保留近期要处理的数据。4.如权利要求1所述的一种光伏传输管理方法，其特征在于：获取至少一年的电器的运行时序数进行循环神经网络的训练。5.如权利要求1所述的一种光伏传输管理方法，其特征在于：选择最近一小时的电器运行时序数据输入到训练好的神经网络模型，预测出下一周期的电器运行数量。6.一种光伏传输管理系统，其特征在于包括如下模块：检测模块，用于对所述光伏传输管理系统内所有用户通过非侵入式负荷检测装置进行检测，并进行负荷分解，得到所述光伏传输管理系统内所有电器类型、相应电器类型的功率以及每一用户的电器开关序列；统计模块，用于以相同的时间起点，以第一时间周期，对所述每一用户的电器开关序列进行周期性地统计，得到每一用户的每一类电器的开关数量序列；第一计算模块，用于对每一用户建立一个以时间、所有电器类型为表头的二维链表；遍历所述每一用户的每一类电器的开关数量序列，以公式：计算运行中的电器的数量，其中表示第i个用户，第k个周期，运行中的第j类电器的数量，；表示第i个用户，第k个周期，第j类电器打开的数量，表示第i个用户，第k个周期，第j类电器关闭的数量；将计算结果填入所述二维链表对应的位置；第二计算模块，用于将所有用户的二维链表按位相加，得到系统中的电器运行情况表；训练模块，用于根据系统中的电器运行情况表，得到当前每一种电器的运行时序数据；取预设数量的电器的运行时序数据输入到循环神经网络，为每一种电器训练一个神经网络模型；预测模块，用于将当前每一种电器的运行时序数据输入到训练好的神经网络模型，预测出下一周期的电器运行数量；调整模块，用于根据下一周期的电器运行数量预测用户侧的用电情况，根据用户侧的用电预测情况进行补偿调整。7.如权利要求6所述的一种光伏传输管理系统，其特征在于：所述相同的时间起点具体为某一次从停电到恢复供电起。8.如权利要求6所述的一种光伏传输管理系统，其特征在于：将所述二维链表部分内容持久化于数据库，只在内存中保留近期要处理的数据。9.如权利要求6所述的一种光伏传输管理系统，其特征在于：获取至少一年的电器的运行时序数进行循环神经网络的训练。10.如权利要求6所述的一种光伏传输管理系统，其特征在于：选择最近一小时的运行时序数据输入到训练好的神经网络模型，预测出下一周期的电器运行数量。
说明书desc
技术领域本发明涉及光伏传输管理领域，尤其涉及一种光伏传输管理方法与系统。背景技术光伏发电主要受辐照度大小、日照时间长短、云量多少等气象因素的影响，因此是一种输出功率不可控的发电技术。而电力系统是一种输入输出平衡的系统，发多少电就用多少电，光伏发电波动性较大，因此为了平抑波动，需增加相应的补偿设备进行功率补偿以达到发电与用电的平衡。功率补偿可通过火电、水电的方式进行，但火电、水电的调配通常需要一定的时间，如果用电功率短时间内增大，管理系统不能提前一点做准备的话，则很容易造成电网波动，因此准确地对超短期内的用电量进行预测，并根据预测结果进行传输管理对光伏电网传输平衡有重要的意义。目前用户用电量的预测主要是通过用户用电历史、天气等因素进行预测，此类预测可以较准确地预测出长期的用电量如一天、一周等，但对于超短期来说，如5分钟、10分钟则有较大的误差，使用此类预测结果不利于光伏电网的功率调整。发明内容为了解决目前主流预测方法误差大，不利于光伏电网的功率调整的问题，本发明提出一种光伏传输管理方法与系统。在本发明的一个方面，提出一种光伏传输管理方法，其特征在于包括如下步骤：S1，对光伏传输管理系统内所有用户通过非侵入式负荷检测装置进行检测，并进行负荷分解，得到所述光伏传输管理系统内所有电器类型、相应电器类型的功率以及每一用户的电器开关序列； S2，以相同的时间起点，以第一时间周期，对所述每一用户的电器开关序列进行周期性地统计，得到每一用户的每一类电器的开关数量序列；S3，对每一用户建立一个以时间、所述所有电器类型为表头的二维链表；遍历所述每一用户的每一类电器的开关数量序列，以公式计算运行中的电器的数量，其中表示第i个用户，第k个周期，运行中的第j类电器的数量，；表示第i个用户，第k个周期，第j类电器打开的数量，表示第i个用户，第k个周期，第j类电器关闭的数量；将计算结果填入所述二维链表对应的位置； S4，将所有用户的二维链表按位相加，得到系统中的电器运行情况表；S5，根据系统中的电器运行情况表，得到当前每一种电器的运行时序；取预设数量的电器的运行时序数据输入循环神经网络，为每一种电器训练一个神经网络模型；S6，将当前每一种电器的运行时序数据输入到训练好的神经网络模型，预测出下一周期的电器运行数量；S7，根据下一周期的电器运行数量预测用户侧的用电情况，根据用户侧的用电预测情况进行补偿调整。优选地，所述相同的时间起点具体为某一次从停电到恢复供电起。优选地，将所述二维链表部分内容持久化于数据库，只在内存中保留近期要处理的数据。优选地，获取至少一年的电器的运行时序数进行循环神经网络的训练。优选地，选择最近一小时的运行时序数据输入到训练好的神经网络模型预测出下一周期的电器运行数量。另一方面，本发明还提供一种光伏传输管理系统，其特征在于包括如下模块：检测模块，用于对所述光伏传输管理系统内所有用户通过非侵入式负荷检测装置进行检测，并进行负荷分解，得到所述光伏传输管理系统内所有电器类型、相应电器类型的功率以及每一用户的电器开关序列；统计模块，用于以相同的时间起点，以第一时间周期，对所述每一用户的电器开关序列进行周期性地统计，得到每一用户的每一类电器的开关数量序列；第一计算模块，用于对每一用户建立一个以时间、所述所有电器类型为表头的二维链表；遍历所述每一用户的每一类电器的开关数量序列，以公式计算运行中的电器的数量，其中表示第i个用户，第k个周期，运行中的第j类电器的数量，；表示第i个用户，第k个周期，第j类电器打开的数量，表示第i个用户，第k个周期，第j类电器关闭的数量；将计算结果填入所述二维链表对应的位置；第二计算模块，用于将所有用户的二维链表按位相加，得到系统中的运行的电器情况表；训练模块用于，根据系统中的电器运行情况表，得到每一种电器的运行时序，取预设数量的电器的运行时序数据输入循环神经网络，为每一种电器训练一个神经网络模型；预测模块用于，将当前每一种电器的运行时序数据输入到训练好的神经网络模型，预测出下一周期的电器运行数量；调整模块，用于根据下一周期的电器运行数量预测用户侧的用电情况，根据用户侧的用电预测情况进行补偿调整。优选地，所述相同的时间起点具体为某一次从停电到恢复供电起。优选地，将所述二维链表部分内容持久化于数据库，只在内存中保留近期要处理的数据。优选地，取至少一年的电器的运行时序数进行循环神经网络的训练。优选地，选择最近一小时的运行时序数据输入到训练好的神经网络模型预测出下一周期的电器运行数量。本发明通过上述技术方案，根据非侵入式负荷检测装置分解出系统内的电器的开关情况，进而确定出电器的运行数量，并使用神经网络进行超短期预测，提高了超短期预测的准确率，进而提升光伏传输管理系统进行功率补偿的效率。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1 空调开启数量随时间变化的示意图；图2 本发明方法流程图。具体实施方式下面，结合附图以及具体实施方式，对发明做出优选的描述。如图1所示，在进行超短期预测时，同一种电器之间有非常强烈的关联关系；如图1所示，如对于空调而言，当气温升高，部分敏感用户打开空调，随着气温进一步升高，越来越多的用户打开空调，在短时间内打开空调的数据的序列之间有明显的递增关系；如图1所示，在C时段空调打开数据开始增加，随后的E时段空调打开数据急剧上升，因此可以根据C时段的打开情况预测后继E时段的打开情况，在用户用电急剧增加时做出及时的预测，进行调整光伏传输管理系统，具体采用如下实施方式：实施例一，如图2所示 ，一方面提出一种光伏传输管理方法，包括：S1，对光伏传输管理系统内所有用户通过非侵入式负荷检测装置进行检测，并进行负荷分解，得到所述光伏传输管理系统内所有电器类型、相应电器类型的功率以及每一用户的电器开关序列。本实施方式所述的光伏传输管理系统内所有用户，是指在同一个供电管理系统中的用户，可以是一个乡镇、一个工业园区等，具体规模本实施方式不做具体限定，只要在同一个光伏传输管理系统中即可。非侵入式负荷检测装置是指在用户的入口安装电压和电流传感器，实时采集电压、电流数据，用软件进行分析，便可得到负荷内部不同用电设备实时的功率消耗比例，从而实现电力负荷分解；目前使用非侵入式负荷检测装置进行负载分解已有较多研究，如专利文献CN103675378A公开了一种非侵入式家庭用电负荷分解方法及装置，期刊文献“基于SVM的用户侧非入侵式负荷分解方法_汪泽松”公开了一种用户侧非入侵式负荷分解方法。本实施例可采用现有技术中任意分解方法进行分解，只要最终得到电器分类即可。对系统内所有用户通过非侵入式负荷检测装置进行检测可以是检测一段时间的结果，为了能够覆盖所有用电时间，较佳的是获取至少一年时间的检测数据，以覆盖不同的季节、不同时段的情况。需要说明的是，负荷分解是基于功率波动的，即电器的分类本质上是根据电器的功率来确定的，对于同一种电器，如空调，功率小的可能只有几百瓦，而功率大的有上千瓦，在进行分类时，可能会分成空调A、空调B，为了方便处理数据，本发明将空调A、空调B视为两种电器类型；进一步地，本发明并不用关心电器的真正类型，而只需要将不同电器进行分类即可，如表1所示，可以仅采用如电器1、电器2、电器3的不同标识即可，而不需要指出具体的如空调、冰箱之类的。表1进行负荷分解后即可得到，每一用户的电器开关序列，如下表2用户的电器开关序列所示，用户在12点以后分别打开了两个电器1，两个电器3，关闭了一个电器2。表2S2，以相同的时间起点，以第一时间周期，对所述每一用户的电器开关序列进行周期性地统计，得到每一用户的电器的开关数量序列。为了方面对齐数据，对所有的用户进行同步的统计，以相同的时间起点开始，以相同的周期进行统计。时间的起点可以随意的选择，优选地，相同的时间的起点可以是某一次从停电到恢复供电起，此时所有电器初始均未打开。周期性地，是指每隔固定的时间进行一次统计，例如每两分钟检测一次，虽然检测周期越小，数据的精确度越高，但数据量也越大，处理起来就越慢；第一周期的具体值本发明不做限定，本领域技术人员在实施本发明时可根据实际情况进行选择。统计是指在相应的周期里某分类电器有多个开或关，以2分钟为例，即在这2分钟里有哪种电器开了或关了，具体开了或关了多少。以前述用户的电器开关序列为例，如表3所示，从12点开始统计，以2分钟为周则电器的开关数量序列有：表3S3，对每一用户建立一个以时间、所有电器类型为表头的二维链表；遍历所述每一用户的每一类电器的开关数量序列，以公式：计算运行中的电器的数量，其中表示第i个用户，第k个周期，运行中的第j类电器的数量；表示第i个用户，第k个周期，第j类电器打开的数量，表示第i个用户，第k个周期，第j类电器关闭的数量；将计算结果填入所述二维链表对应的位置；链表是指长度可以不断进行扩展的表，如表4所示，第一列为时间，时间以开启检测的时间起算，以第一周期不断增长，其它列为电器类型，电器类型的数量根据前述步骤检测得出。二维链表与大多数的数据库表结构相似，便于存储；进一步地，当链表过大时，为了节省内存，可将部分内容持久化于数据库，只在内存中保留近期要处理的数据，如仅保留1000行数据，其它数据存入数据库。负荷分解仅能得到电器的开关情况，为了得到每一类电器的负荷的绝对值需要进一步对电器的运行情况进行统计，由于同一类电器的功率相同，我们并不关心具体打开或关闭了哪此电器，只需要统计总的数量即可。对于每一个周期，如果本周期有电器关闭，则在前一周期运行的电器数量上减去本周期关闭的电器数量即可，如果本周期有电器打开，则在前一周期运行的电器数量上加上本周期打开的电器数量即可，基于此原理遍历所述每一用户的每一类电器的开关数量序列，以公式：计算运行中的电器的数量，其中表示第i个用户，第k个周期，运行中的第j类电器的数量；表示第i个用户，第k个周期，第j类电器打开的数量，表示第i个用户，第k个周期，第j类电器关闭的数量。将计算结果填入所述二维链表对应的位置，具体是指每一个用户对应了一个二维链表，而每一个周期对应了表中的一个时间点即一行，每一个电器对应了表中的列，通过行列即可对应一个确定的位置。示例性地，基于前述示例的电器的开关数量序列，得到二维链表如表4所示：表4S4，将所有用户的二维链表按位相加，得到系统中的电器运行情况表。按位相加是指将表中同一位置的数据相加，如12.00的电器1相加；示例性地，如表5所示为另一用户的二维链表。表5将表2与表3相加的结果如表6所示：表6每一用户的二维链表表明了一个用户的电器运行情况；所有用记的二维链表相加后即为整个系统中的全部电器的运行情况。S5，根据系统中的电器运行情况表，得到每一种电器的运行时序，取预设数量的电器的运行时序数据输入循环神经网络，为每一种电器训练一个神经网络模型；系统中的电器运行情况表中的每一电器对应的每一列即为该电器的运行时序。在进行超短期预测时，同一种电器之间有非常强烈的关联关系；如图1所示，如对于空调而言，当气温升高，部分敏感用户打开空调，随着气温进一步升高，越来越多的用户打开空调，在短时间内打开空调的数据的序列之间有明显的递增关系；如图1所示，在C时段空调打开数据开始增加，随后的E时段空调打开数据急剧上升，因此可以根据C时段的打开情况预测后继E时段的打开情况，在用户用电急剧增加时做出及时的预测；以照明系统为例，当自然光亮度变化，敏感的用户会先进行照明系统的开关，随着时间的推荐，越来越多的用户做出同样的选择；因此，对于同一类型的电器的时间序列开关数据而言，可以用过往的开关数据预测超短期未来的开关数据。同时电器的运行情况属于时间序列数据，而循环神经网络是处理进行时间序列预测的优秀模型，因此本发明采用循环神经网络进行预测。对每一种电器均使用过采集到的时间序列数据进行循环神经网络的训练，即可得到每一电器对应的训练好的循环神经网络模型。进一步地，由于时间序列数据较多，可以对时间序列数据按时间段划分，取预设数量的电器的运行时序数，将部分时间段的数据设定为训练集，部分时间段的数据设定为验证集。优选地，为了覆盖各个季节的情况，取至少一年的电器的运行时序数进行循环神经网络的训练。S6，将当前每一种电器的运行时序数据输入到训练好的神经网络模型，预测出下一周期的电器运行数量。当前每一种电器的运行时序数据是指包括了当前时间点的时序数据，具体选择多少数据输入到训练好的模型本领域技术人员可自由设定；优选地，选择最近一小时的运行时序数据输入到训练好的神经网络模型预测出下一周期的电器运行数据。S7，根据下一周期的电器运行数量预测用户侧的用电情况，根据用户侧的用电预测情况进行补偿调整。示例性地，模型在13.00预测到13.02时会有50个电器1开启，有20个电器2开启，有30个电器3关闭……，则将开启的总功率减去关闭的总功率，则功率变化值为50*800+20*500-30*1000……。在光伏系统中，当功率变化大于一定值时需要进行补偿调整，因此如果结果的绝对值大于预设值，则根据计算结果调整功率补偿，如切换传输路线、增加/减少发电的功率等。另一方面，本发明还提供一种光伏传输管理系统，包括：检测模块，用于对光伏传输管理系统内所有用户通过非侵入式负荷检测装置进行检测，并进行负荷分解，得到所述光伏传输管理系统内所有电器类型、相应电器类型的功率以及每一用户的电器开关序列。统计模块，以相同的时间起点，以第一时间周期，对所述每一用户的电器开关序列进行周期性地统计，得到每一用户的电器的开关数量序列。第一计算模块，用于对每一用户建立一个以时间、所有电器类型为表头的二维链表；遍历所述每一用户的每一类电器的开关数量序列，以公式计算运行中的电器的数量，其中表示第i个用户，第k个周期，运行中的第j类电器的数量；表示第i个用户，第k个周期，第j类电器打开的数量，表示第i个用户，第k个周期，第j类电器关闭的数量；将计算结果填入所述二维链表对应的位置；第二计算模块，用于将所有用户的二维链表按位相加，得到系统中的电器运行情况表。训练模块用于，根据系统中的电器运行情况表，得到每一种电器的运行时序，取预设数量的电器的运行时序数据输入循环神经网络，为每一种电器训练一个神经网络模型；预测模块用于，将当前每一种电器的运行时序数据输入到训练好的神经网络模型，预测出下一周期的电器运行数量。调整模块，用于根据下一周期的电器运行数量预测用户侧的用电情况，根据用户侧的用电预测情况进行补偿调整。所述光伏传输管理系统的具体实现与所述光伏传输管理方法类似，本领域技术人员可参考方法实施一对实施例二进行实现，本申请不再详细赘述。最后应当说明的是：以上实施例仅用以说明本发明的技术方案而非对其限制，尽管参照上述实施例对本发明进行了详细的说明，所属领域的普通技术人员应当理解：依然可以对本发明的具体实施方式进行修改或者等同替换，而未脱离本发明精神和范围的任何修改或者等同替换，其均应涵盖在本发明的权利要求保护范围之内。本发明未特别明确的部分模块结构，以现有技术记载的内容为准。本发明在前述背景技术部分以及具体实施例部分提及的现有技术可作为本发明的一部分，用于理解部分技术特征或者参数的含义。本发明的保护范围以权利要求实际记载的内容为准。
