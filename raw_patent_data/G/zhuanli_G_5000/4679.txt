标题title
一种自适应纺织坯布烧毛控制方法
摘要abst
本发明涉及一种自适应纺织坯布烧毛控制方法，属于纺织坯布烧毛控制技术领域。方法包括以下步骤：对目标纺织坯布表面图像进行划分，得到目标纺织坯布表面图像对应的多个区域；根据各区域中各像素点的灰度值，得到各区域对应的灰度共生矩阵；根据灰度共生矩阵的特征，得到各区域对应的毛绒程度；以各区域为节点，构建纺织坯布目标图像对应的完全无向图；根据毛绒程度和各区域中各像素点的灰度值，得到完全无向图中节点与节点之间的边权值；根据完全无向图中节点与节点之间的边权值，得到目标纺织坯布表面图像对应的平整度；根据平整度，对纺织坯布烧毛的过程进行控制。本发明能够提高对纺织坯布表面平整度检测的准确性。
权利要求书clms
1.一种自适应纺织坯布烧毛控制方法，其特征在于，该方法包括如下步骤：获取目标纺织坯布表面图像；对所述目标纺织坯布表面图像进行划分，得到目标纺织坯布表面图像对应的多个区域；根据各区域中各像素点的灰度值，得到各区域对应的灰度共生矩阵；根据所述灰度共生矩阵的特征，得到各区域对应的毛绒程度；以所述各区域为节点，构建纺织坯布目标图像对应的完全无向图；根据所述毛绒程度和各区域中各像素点的灰度值，得到所述完全无向图中节点与节点之间的边权值；根据所述完全无向图中节点与节点之间的边权值，得到目标纺织坯布表面图像对应的平整度；根据所述平整度，对纺织坯布烧毛的过程进行控制；其中，所述平整度的获取方法为：对所述完全无向图中节点与节点之间的边权值进行负相关函数映射，将负相关函数映射后的完全无向图记为目标纺织坯布表面图像对应的目标完全无向图，所述目标完全无向图中节点与节点之间的边权值为目标边权值；获取所述目标完全无向图的最小生成树，对所述最小生成树的所有目标边权值进行聚类得到第一类别和第二类别；获取所述第一类别中所有目标边权值的均值，计算所述均值与所述第二类别中目标边权值的最小值之间的差值绝对值为所述平整度。2.如权利要求1所述的一种自适应纺织坯布烧毛控制方法，其特征在于，所述根据所述灰度共生矩阵的特征，得到各区域对应的毛绒程度的方法，包括：计算所述各区域中像素点灰度值的方差，将所述各区域中像素点灰度值的方差记为各区域对应的灰度值方差；根据所述灰度共生矩阵的特征，得到所述灰度共生矩阵的信息熵和对比度；根据所述各区域对应的灰度值方差、所述灰度共生矩阵的信息熵和对比度，得到各区域对应的毛绒程度。3.如权利要求2所述的一种自适应纺织坯布烧毛控制方法，其特征在于，根据如下公式计算各区域对应的毛绒程度：其中，为第个区域对应的毛绒程度，为第个区域对应的灰度共生矩阵的信息熵，为第个区域对应的灰度值方差，为第个区域对应的灰度共生矩阵的对比度。4.如权利要求1所述的一种自适应纺织坯布烧毛控制方法，其特征在于，所述以所述各区域为节点，构建纺织坯布目标图像对应的完全无向图；根据所述毛绒程度和各区域中各像素点的灰度值，得到所述完全无向图中节点与节点之间的边权值的方法，包括：计算所述目标纺织坯布表面图像上各像素点灰度值的均值；计算所述各区域中各像素点灰度值的均值；根据所述各区域中各像素点灰度值的均值，得到所述完全无向图中各节点对应的灰度值；根据所述各区域中各像素点灰度值的均值对应的像素点坐标，得到所述完全无向图中各节点对应的坐标；根据所述完全无向图中各节点对应的坐标，得到所述完全无向图中节点与节点之间的距离；根据所述各区域对应的毛绒程度，得到所述完全无向图中各节点对应的毛绒程度；根据所述各节点对应的灰度值、节点与节点之间的距离、各节点对应的毛绒程度，得到所述完全无向图中节点与节点之间的边权值。5.如权利要求4所述的一种自适应纺织坯布烧毛控制方法，其特征在于，根据如下公式计算所述完全无向图中节点与节点之间的边权值：其中，为完全无向图中第个节点与第个节点之间的边权值，为目标纺织坯布表面图像上各像素点灰度值的均值，为完全无向图中第个节点对应的灰度值，为完全无向图中第个节点对应的毛绒程度，为完全无向图中第个节点对应的灰度值，为完全无向图中第个节点对应的毛绒程度，为超参数，为完全无向图中第个节点与第个节点之间的距离。6.如权利要求1所述的一种自适应纺织坯布烧毛控制方法，其特征在于，所述对所述最小生成树的所有目标边权值进行聚类得到第一类别和第二类别的方法，包括：对所述最小生成树的所有目标边权值进行聚类得到两个类别，一个类别中的目标边权值较大，另一个类别中的目标边权值较小；目标边权值较大的类别为第一类别，目标边权值较小的类别为第二类别。
说明书desc
技术领域本发明涉及纺织坯布烧毛控制技术领域，具体涉及一种自适应纺织坯布烧毛控制方法。背景技术纺织坯布上绒毛不仅影响织物的光洁度和还会使织物容易沾染灰尘，并且在后续的印染加工过程中还会产生各种疵病，例如绒毛落入印花色浆，易造成拖浆及拖刀，影响花纹清晰等疵病问题；因此一般棉、麻织物及涤纶、维纶、腈纶及棉混纺织物等在退煮漂前均要进行烧毛。由于坯布的平整度会影响后续坯布烧毛后的质量以及对后续坯布烧毛过程的控制，因此在对坯布进行烧毛过程中，需要对坯布进行平整度检测，根据平整度检测的结果对坯布烧毛的过程进行分析控制。现有的坯布平整度检测方法一般基于坯布灰度值的均匀性，而这种检测方法会受到光源和纺织品漫反射的影响，会使检测的结果产生较大的误差，导致纺织坯布在烧毛时出现部分过烧或者部分欠烧的现象。发明内容本发明提供一种自适应纺织坯布烧毛控制方法，用于解决现有纺织坯布烧毛控制过程中的平整度检测不准确的问题，所采用的技术方案具体如下：第一方面，本发明一个实施例提供了一种自适应纺织坯布烧毛控制方法包括以下步骤：获取目标纺织坯布表面图像；对所述目标纺织坯布表面图像进行划分，得到目标纺织坯布表面图像对应的多个区域；根据各区域中各像素点的灰度值，得到各区域对应的灰度共生矩阵；根据所述灰度共生矩阵的特征，得到各区域对应的毛绒程度；以所述各区域为节点，构建纺织坯布目标图像对应的完全无向图；根据所述毛绒程度和各区域中各像素点的灰度值，得到所述完全无向图中节点与节点之间的边权值；根据所述完全无向图中节点与节点之间的边权值，得到目标纺织坯布表面图像对应的平整度；根据所述平整度，对纺织坯布烧毛的过程进行控制；其中，所述平整度的获取方法为：对所述完全无向图中节点与节点之间的边权值进行负相关函数映射，将负相关函数映射后的完全无向图记为目标纺织坯布表面图像对应的目标完全无向图，所述目标完全无向图中节点与节点之间的边权值为目标边权值；获取所述目标完全无向图的最小生成树，对所述最小生成树的所有目标边权值进行聚类得到第一类别和第二类别；获取所述第一类别中所有目标边权值的均值，计算所述均值与所述第二类别中目标边权值的最小值之间的差值绝对值为所述平整度。有益效果：本发明将各区域对应的毛绒程度和各区域中各像素点的灰度值作为得到完全无向图中节点与节点之间边权值的依据，结合各区域的毛绒程度进行边权值的获取使得完全无向图中的边权值更加合理，且得到的边权值数据更加贴合实际场景；进一步对完全无向图中节点与节点之间的边权值进行处理得到目标边权值，结合目标完全无向图的最小生成树对所有的目标边权值进行聚类得到两个类别，基于两个类别中目标边权值的差值绝对值得到目标纺织坯布表面图像对应的平整度，差值绝对值越大，说明两个类别对应的区域的毛绒程度和灰度值相差较大，则纺织坯布表面越不平整，基于平整度指标进行当前烧毛的检测更加直观且具有说服力，能够提高对纺织坯布表面平整度检测的准确性，基于更加准确的平整度分析此时对纺织坯布烧毛的情况并进行控制，能够更加精准有效的提高纺织坯布在烧毛之后的质量。优选的，根据所述灰度共生矩阵的特征，得到各区域对应的毛绒程度的方法，包括：计算所述各区域中像素点灰度值的方差，将所述各区域中像素点灰度值的方差记为各区域对应的灰度值方差；根据所述灰度共生矩阵的特征，得到所述灰度共生矩阵的信息熵和对比度；根据所述各区域对应的灰度值方差、所述灰度共生矩阵的信息熵和对比度，得到各区域对应的毛绒程度。优选的，根据如下公式计算各区域对应的毛绒程度：其中，为第个区域对应的毛绒程度，为第个区域对应的灰度共生矩阵的信息熵，为第个区域对应的灰度值方差，为第个区域对应的灰度共生矩阵的对比度。优选的，以所述各区域为节点，构建纺织坯布目标图像对应的完全无向图；根据所述毛绒程度和各区域中各像素点的灰度值，得到所述完全无向图中节点与节点之间的边权值的方法，包括：计算所述目标纺织坯布表面图像上各像素点灰度值的均值；计算所述各区域中各像素点灰度值的均值；根据所述各区域中各像素点灰度值的均值，得到所述完全无向图中各节点对应的灰度值；根据所述各区域中各像素点灰度值的均值对应的像素点坐标，得到所述完全无向图中各节点对应的坐标；根据所述完全无向图中各节点对应的坐标，得到所述完全无向图中节点与节点之间的距离；根据所述各区域对应的毛绒程度，得到所述完全无向图中各节点对应的毛绒程度；根据所述各节点对应的灰度值、节点与节点之间的距离、各节点对应的毛绒程度，得到所述完全无向图中节点与节点之间的边权值。优选的，根据如下公式计算所述完全无向图中节点与节点之间的边权值：其中，为完全无向图中第个节点与第个节点之间的边权值，为目标纺织坯布表面图像上各像素点灰度值的均值，为完全无向图中第个节点对应的灰度值，为完全无向图中第个节点对应的毛绒程度，为完全无向图中第个节点对应的灰度值，为完全无向图中第个节点对应的毛绒程度，为超参数，为完全无向图中第个节点与第个节点之间的距离。优选的，所述对所述最小生成树的所有目标边权值进行聚类得到第一类别和第二类别的方法，包括：对所述最小生成树的所有目标边权值进行聚类得到两个类别，一个类别中的目标边权值较大，另一个类别中的目标边权值较小；目标边权值较大的类别为第一类别，目标边权值较小的类别为第二类别。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一种自适应纺织坯布烧毛控制方法的流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整的描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例，基于本发明实施例，本领域普通技术人员所获得的所有其它实施例，都属于本发明实施例保护的范围。除非另有定义，本文所使用的所有的技术和科学技术语与属于本发明的技术人员通常理解的含义相同。本实施例提供了一种自适应纺织坯布烧毛控制方法，详细说明如下：如图1所示，该自适应纺织坯布烧毛控制方法，包括以下步骤：步骤S001，获取目标纺织坯布表面图像。本实施例中，利用张正友棋盘格标定法对高速相机进行标定，之后对纺织坯布进行图像采集，得到相机和纺织品之间的位置关系；根据相机和纺织品之间的位置关系，得到仅含有纺织坯布表面的图像；对仅含有纺织坯布表面的图像进行灰度化处理，将灰度化处理之后的纺织坯布表面图像记为目标纺织坯布表面图像。本实施例中，张正友棋盘格标定法为现有技术，因此本实施例不做具体描述；本实施例中，高速相机的位置和光源的位置都需要根据实际情况进行设置。步骤S002，对所述目标纺织坯布表面图像进行划分，得到目标纺织坯布表面图像对应的多个区域；根据各区域中各像素点的灰度值，得到各区域对应的灰度共生矩阵；根据所述灰度共生矩阵的特征，得到各区域对应的毛绒程度。本实施例中，将目标纺织坯布表面图像划分为多个区域，对各区域进行分析，得到各区域对应的毛绒程度，将得到的毛绒程度作为后续分析计算完全无向图中节点与节点之间边权值的基础。本实施例中，利用N个等大的网格，将目标纺织坯布表面图像均匀的划分为N个区域；之后计算各区域中像素点灰度值的方差，将各区域中像素点灰度值的方差记为各区域对应的灰度值方差；本实施例中，N的值设置为100；作为其它的实施方式，也可以根据需求的不同设置其它的N值，例如可以将N的值设置为120。本实施例中，将各区域转化为直方图，对转化的直方图进行直方图均衡化处理；根据直方图均衡化处理之后的各区域中各像素点的灰度值，得到各区域对应的灰度共生矩阵，灰度共生矩阵为K×K的矩阵，K为像素点的灰度级数；之后获得各区域对应的灰度共生矩阵的信息熵和对比度。本实施例中，直方图均衡化处理和获得灰度共生矩阵以及获得灰度共生矩阵的信息熵和对比度的过程为现有技术，因此本实施例不做具体描述。本实施例中，根据各区域对应的灰度值方差、各区域对应的灰度共生矩阵的信息熵和对比度，得到各区域对应的毛绒程度；根据如下公式计算各区域对应的毛绒程度：其中，为第个区域对应的毛绒程度，为第个区域对应的灰度共生矩阵的信息熵，为第个区域对应的灰度值方差，为第个区域对应的灰度共生矩阵的对比度；当第个区域对应的毛绒程度的值较大时，表明该区域对应的纺织坯布表面的漫反射系数较大，漫反射系数较大会使该区域中暗的部分灰度值变大，亮的部分灰度值下降，使检测到的各区域内像素点的灰度值存在误差。本实施例中，各区域对应的灰度共生矩阵的信息熵能够表明各区域对应的纹理的混乱程度，由于当某个区域对应的灰度共生矩阵的信息熵的值越大时，表明该区域对应的纹理越混乱，即该区域对应的毛绒程度的值较大；当某个区域对应的灰度共生矩阵的信息熵的值越小时，表明该区域对应的纹理越不混乱，即该区域对应的毛绒程度的值较小；因此各区域对应的灰度共生矩阵的信息熵与对应的毛绒程度成正相关变化。本实施例中，由于直方图均衡化处理之后，各区域内像素点的灰度信息会发生改变，因此各区域对应的灰度值方差用来表明直方图均衡化处理之前的各区域中灰度值的差异信息；由于当某个区域对应的灰度值方差的值越大时，表明该区域对应的像素点灰度值分布比较不均匀；当某个区域对应的灰度值方差的值越小时，表明该区域对应的像素点灰度值分布比较均匀。本实施例中，利用上述直方图均衡化可以提高各区域的对比度，增强图像的清晰度，直方图均衡化处理之后的各区域的对比度较高；当直方图均衡化处理之前并且当区域的毛绒适中时，直方图均衡化处理之后的对应的区域的纹理比较有规律性；当区域的毛绒较多或者较少时，直方图均衡化处理之后的对应的区域的纹理规律性较差。当各区域在直方图均衡化处理之前对应的灰度值方差的值较大，而直方图均衡化之后的各区域的对比度的值也较大时，表明对各区域的灰度值拉伸效果较好；当各区域在直方图均衡化处理之前对应的灰度值方差的值较小，而直方图均衡化之后的各区域的对比度的值较大时，表明对各区域的灰度值拉伸效果不好；因此当某个区域对应的灰度共生矩阵的对比度与对应的灰度值方差的比值较大时，即的值较大，表明该区域对应的灰度共生矩阵的信息熵的可信程度较低，当某个区域对应的灰度共生矩阵的对比度与对应的灰度值方差的比值较小时，即的值较小，表明该区域对应的灰度共生矩阵的信息熵的可信程度较高；因此对某个区域对应的的进行负相关函数映射处理之后，负相关函数映射处理之后得到的的值越大，表明该区域对应的灰度共生矩阵的信息熵的可信程度就越高，即该区域对应的毛绒程度的值越大。步骤S003，以所述各区域为节点，构建纺织坯布目标图像对应的完全无向图；根据所述毛绒程度和各区域中各像素点的灰度值，得到所述完全无向图中节点与节点之间的边权值。本实施例中，对各区域对应的毛绒程度和各区域中各像素点的灰度值进行分析，得到目标纺织坯布表面图像对应的完全无向图中节点与节点之间的边权值；将得到的完全无向图中节点与节点之间的边权值作为后续分析计算目标纺织坯布表面图像对应的平整度的依据。本实施例中，以各区域为节点，构建目标纺织坯布表面图像对应的完全无向图；计算目标纺织坯布表面图像上各像素点灰度值的均值，计算各区域中各像素点灰度值的均值；将各区域中各像素点灰度值的均值对应的像素点坐标记为完全无向图中各节点对应的坐标；将各区域中各像素点灰度值的均值记为完全图中各节点对应的灰度值。本实施例中，完全无向图中节点与节点之间灰度值的差异可以反映出目标纺织坯布表面图像的平整度；但是当某个区域对应的毛绒程度的值较大时，表明该区域对应的纺织坯布表面的漫反射系数较大，漫反射系数较大会使该区域中暗的部分灰度值变大，亮的部分灰度值下降，因此若只基于节点与节点之间灰度值的差异反映目标纺织坯布表面图像的平整度会存在误差；所以本实施例利用各区域对应的毛绒程度、目标纺织坯布表面图像上各像素点灰度值的均值和S型函数对节点与节点之间灰度值的差异程度进行调整。本实施例中，将各区域对应的毛绒程度记为各区域中各像素点灰度值的均值对应的像素点坐标的毛绒程度，即完全无向图中各节点对应的毛绒程度；根据完全无向图中各节点对应的坐标，得到完全无向图中节点与节点之间的距离。本实施例根据完全无向图中各节点对应的灰度值、完全无向图中节点与节点之间的距离、完全无向图中各节点对应的毛绒程度，得到完全无向图中节点与节点之间的边权值；根据如下公式计算完全无向图中节点与节点之间的边权值：其中，为完全无向图中第个节点与第个节点之间的边权值，为目标纺织坯布表面图像上各像素点灰度值的均值，为完全无向图中第个节点对应的灰度值，为完全无向图中第个节点对应的毛绒程度，为完全无向图中第个节点对应的灰度值，为完全无向图中第个节点对应的毛绒程度，为超参数，为完全无向图中第个节点与第个节点之间的距离。本实施例中，的值设置为30；作为其它的实施方式，也可以根据需求的不同为设置其它的值，例如可以是40。本实施例中，为S型函数，表明对的进行纠正，表明对的进行纠正，的值可以表明节点与节点之间的相关性，的值越大表明第个节点与第个节点之间的相关性越弱。本实施例中，根据上述过程可以得到完全无向图中节点与节点之间的边权值。步骤S004，根据所述完全无向图中节点与节点之间的边权值，得到目标纺织坯布表面图像对应的平整度；根据所述平整度，对纺织坯布烧毛的过程进行控制。本实施例中，对得到的完全无向图中节点与节点之间的边权值进行分析，得到目标纺织坯布表面图像对应的平整度，基于目标纺织坯布表面图像对应的平整度对纺织坯布烧毛的过程进行控制。本实施例中，对完全无向图中节点与节点之间的边权值进行负相关函数映射处理，将负相关映射处理之后的完全无向图记为目标纺织坯布表面图像对应的目标完全无向图；将所述目标完全无向图中节点与节点之间的边权值记为目标边权值；利用Prim算法得到目标完全无向图对应的最小生成树；利用k-means算法对目标完全无向图对应的最小生成树对应的各目标边权值进行聚类，共聚为两类，其中一个类别中的各目标边权值的值较大，另外一个类别中的各目标边权值的值较小；将较大的各目标边权值对应的类别记为第一类别，将较小的各目标边权值对应的类别记为第二类别；计算第一类别中各目标边权值的均值，并选取第二类别中最小的目标边权值；计算第一类别中各目标边权值的均值与第二类别中最小的目标边权值之间差值的绝对值，将第一类别中各目标边权值的均值与第二类别中最小的目标边权值之间差值的绝对值记为目标纺织坯布表面图像对应的平整度；目标纺织坯布表面图像对应的平整度的值越大，表明目标纺织坯布表面图像对应的纺织坯布表面越不平整，否则，表明目标纺织坯布表面图像对应的纺织坯布表面越平整。本实施例中，Prim算法和k-means算法为现有技术，因此本实施例不做具体描述；作为其它的实施方式，也可以根据需求的不同使用其它的方法得到最小生成树，例如可以是克鲁斯卡尔算法。本实施例中，判断目标纺织坯布表面图像对应的平整度是否大于预设平整度阈值，若是，则判定目标纺织坯布表面图像对应的纺织坯布表面不平整，在对纺织坯布烧毛的过程中会产生烧毛褶子，因此需要停止烧毛机的工作，由机械臂或者人工将褶皱出伸张后，之后继续对纺织坯布进行烧毛。本实施例中，预设平整度阈值的设置需要根据实际情况进行设置。有益效果：本实施例将各区域对应的毛绒程度和各区域中各像素点的灰度值作为得到完全无向图中节点与节点之间边权值的依据；将完全无向图中节点与节点之间的边权值作为得到目标纺织坯布表面图像对应的平整度的依据，能够提高对纺织坯布表面平整度检测的准确性；本实施例中基于目标纺织坯布表面图像对应的平整度对纺织坯布烧毛的过程进行控制，能够提高纺织坯布在烧毛之后的质量。需要说明的是,上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣，在一些情况下，在权利要求书中记载的动作或步骤可以按照不同于实施例中的顺序来执行并且仍然可以实现期望的结果。
