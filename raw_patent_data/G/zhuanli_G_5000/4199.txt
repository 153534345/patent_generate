标题title
交通信号灯控制方法及电子设备
摘要abst
本申请提供一种交通信号灯控制方法及电子设备，涉及道路交通技术领域，其中，该方法包括获取第一传感器数据和第二传感器数据；对第一传感器数据和第二传感器数据进行融合，得到第三传感器数据；根据第三传感器数据中各目标的信息，与第四传感器数据中各目标的信息，确定第三传感器数据中各目标的轨迹信息；根据轨迹信息和高精度地图，确定第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息；根据轨迹信息、预测轨迹和交通状态信息确定交通信号灯的预测持续时间；根据预测持续时间控制交通信号灯。本申请提供的技术方案能够缓解交通拥堵。
权利要求书clms
1.一种交通信号灯控制方法，其特征在于，包括：获取第一传感器数据和第二传感器数据；对所述第一传感器数据和所述第二传感器数据进行融合，得到第三传感器数据，所述第三传感器数据包括融合后的各目标的信息；根据所述第三传感器数据中各目标的信息，与第四传感器数据中各目标的信息，确定所述第三传感器数据中各目标的轨迹信息，所述第四传感器数据是对第一传感器和第二传感器在上一帧采集的点云数据进行融合后得到的；根据所述轨迹信息和高精度地图，确定所述第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息；根据所述轨迹信息、所述预测轨迹和所述交通状态信息确定所述目标交通信号灯的预测持续时间；根据所述预测持续时间控制所述目标交通信号灯。2.根据权利要求1所述的方法，其特征在于，所述第一传感器数据包括毫米波雷达在当前帧采集的各目标的信息，所述第二传感器数据包括激光雷达在当前帧采集的各目标的信息。3.根据权利要求2所述的方法，其特征在于，所述第一传感器数据包括各目标的标识、类型、坐标、长度信息、速度、航向角和置信度；获取所述第二传感器数据，包括：获取所述激光雷达的原始点云数据，所述原始点云数据包括所述激光雷达在当前帧采集的各目标的坐标；对所述原始点云数据进行目标检测，得到所述第二传感器数据，所述第二传感器数据各目标的标识、类型、坐标、外形尺寸、速度、航向角和置信度。4.根据权利要求2所述的方法，其特征在于，所述方法还包括：根据毫米波雷达坐标系与大地坐标系间的标定算法，将所述第一传感器数据中各目标的坐标转换至大地坐标系；根据激光雷达坐标系与大地坐标系间的标定算法，将所述第二传感器数据中各目标的坐标转换至大地坐标系。5.根据权利要求1所述的方法，其特征在于，所述对所述第一传感器数据和所述第二传感器数据进行融合，得到第三传感器数据，包括：将所述第一传感器数据中的各目标分别与所述第二传感器数据中的各目标进行第一次关联匹配；对所述第一传感器数据和所述第二传感器数据中未匹配成功的目标进行第二次关联匹配，所述第一次关联匹配和所述第二次关联匹配的匹配方式不同；对所述第一传感器数据和所述第二传感器数据中匹配成功的目标进行融合，得到融合目标；根据所述第一传感器数据和所述第二传感器数据中两次均为未匹配成功的目标以及所述融合目标，确定所述第三传感器数据。6.根据权利要求5所述的方法，其特征在于，所述将所述第一传感器数据中的各目标分别与所述第二传感器数据中的各目标进行第一次关联匹配，包括：在同一坐标系中，分别计算所述第一传感器数据中的各目标与所述第二传感器数据中的各目标之间的距离；若所述第一传感器数据中的第一目标和所述第二传感器数据中的第二目标之间的距离小于或等于第一阈值，则确定所述第一目标和所述第二目标匹配成功；若所述第一目标和所述第二目标之间的距离大于所述第一阈值，则确定所述第一目标和所述第二目标匹配失败。7.根据权利要求5所述的方法，其特征在于，所述对所述第一传感器数据和所述第二传感器数据中未匹配成功的目标进行第二次关联匹配，包括：确定所述第一传感器数据中第一次未匹配成功的各目标的第一历史轨迹，和所述第二传感器数据中第一次未匹配成功的各目标的第二历史轨迹；分别确定每个所述第一历史轨迹与每个所述第二历史轨迹之间的平均欧式距离和余弦距离；若各所述第一历史轨迹中的第一目标历史轨迹和各所述第二历史轨迹中的第二目标历史轨迹之间的平均欧式距离和余弦距离之和小于或等于第二阈值，则所述第一目标历史轨迹对应的目标和所述第二目标历史轨迹对应的目标匹配成功；若所述第一目标历史轨迹和所述第二目标历史轨迹之间的平均欧式距离和余弦距离之和大于第二阈值，则所述第一目标历史轨迹对应的目标和所述第二目标历史轨迹对应的目标匹配失败。8.根据权利要求1-7任一项所述的方法，其特征在于，所述根据所述轨迹信息和高精度地图，确定所述第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息，包括：根据所述轨迹信息，确定所述第三传感器数据中各目标的预测轨迹；根据所述轨迹信息和所述高精度地图，确定所述目标交通信号灯对应的路口每个车道的交通状态信息。9.一种电子设备，其特征在于，包括：存储器和处理器，所述存储器用于存储计算机程序；所述处理器用于在调用所述计算机程序时执行如权利要求1-8任一项所述的方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-8任一项所述的交通信号灯控制方法。
说明书desc
技术领域本申请涉及道路交通技术领域，尤其涉及一种交通信号灯控制方法及电子设备。背景技术随着社会生活的发展，道路交通拥堵问题日益突出。目前，道路交通运行主要由固定亮暗时长的各颜色交通信号灯进行控制。然而上述方案无法很好的适应实际交通运行需求，例如，在拥堵的十字路口早晚高峰场景，上述方案会经常导致交通拥堵。发明内容有鉴于此，本申请提供一种交通信号灯控制方法及电子设备，用以适应实际交通运行需求，缓解交通拥堵。为了实现上述目的，第一方面，本申请实施例提供一种交通信号灯控制方法，包括：获取第一传感器数据和第二传感器数据；对所述第一传感器数据和所述第二传感器数据进行融合，得到第三传感器数据，所述第三传感器数据包括融合后的各目标的信息；根据所述第三传感器数据中各目标的信息，与第四传感器数据中各目标的信息，确定所述第三传感器数据中各目标的轨迹信息，所述第四传感器数据是对第一传感器和第二传感器在上一帧采集的点云数据进行融合后得到的；根据所述轨迹信息和高精度地图，确定所述第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息；根据所述轨迹信息、所述预测轨迹和所述交通状态信息确定所述目标交通信号灯的预测持续时间；根据所述预测持续时间控制所述目标交通信号灯。作为本申请实施例一种可选的实施方式，所述第一传感器数据包括毫米波雷达在当前帧采集的各目标的信息，所述第二传感器数据包括激光雷达在当前帧采集的各目标的信息。作为本申请实施例一种可选的实施方式，所述第一传感器数据包括各目标的标识、类型、坐标、长度信息、速度、航向角和置信度；获取所述第二传感器数据，包括：获取所述激光雷达的原始点云数据，所述原始点云数据包括所述激光雷达在当前帧采集的各目标的坐标；对所述原始点云数据进行目标检测，得到所述第二传感器数据，所述第二传感器数据各目标的标识、类型、坐标、外形尺寸、速度、航向角和置信度。作为本申请实施例一种可选的实施方式，所述方法还包括：根据毫米波雷达坐标系与大地坐标系间的标定算法，将所述第一传感器数据中各目标的坐标转换至大地坐标系；根据激光雷达坐标系与大地坐标系间的标定算法，将所述第二传感器数据中各目标的坐标转换至大地坐标系。作为本申请实施例一种可选的实施方式，所述对所述第一传感器数据和所述第二传感器数据进行融合，得到第三传感器数据，包括：将所述第一传感器数据中的各目标分别与所述第二传感器数据中的各目标进行第一次关联匹配；对所述第一传感器数据和所述第二传感器数据中未匹配成功的目标进行第二次关联匹配，所述第一次关联匹配和所述第二次关联匹配的匹配方式不同；对所述第一传感器数据和所述第二传感器数据中匹配成功的目标进行融合，得到融合目标；根据所述第一传感器数据和所述第二传感器数据中两次均为未匹配成功的目标以及所述融合目标，确定所述第三传感器数据。作为本申请实施例一种可选的实施方式，所述将所述第一传感器数据中的各目标分别与所述第二传感器数据中的各目标进行第一次关联匹配，包括：在同一坐标系中，分别计算所述第一传感器数据中的各目标与所述第二传感器数据中的各目标之间的距离；若所述第一传感器数据中的第一目标和所述第二传感器数据中的第二目标之间的距离小于或等于第一阈值，则确定所述第一目标和所述第二目标匹配成功；若所述第一目标和所述第二目标之间的距离大于所述第一阈值，则确定所述第一目标和所述第二目标匹配失败。作为本申请实施例一种可选的实施方式，所述对所述第一传感器数据和所述第二传感器数据中未匹配成功的目标进行第二次关联匹配，包括：确定所述第一传感器数据中第一次未匹配成功的各目标的第一历史轨迹，和所述第二传感器数据中第一次未匹配成功的各目标的第二历史轨迹；分别确定每个所述第一历史轨迹与每个所述第二历史轨迹之间的平均欧式距离和余弦距离；若各所述第一历史轨迹中的第一目标历史轨迹和各所述第二历史轨迹中的第二目标历史轨迹之间的平均欧式距离和余弦距离之和小于或等于第二阈值，则所述第一目标历史轨迹对应的目标和所述第二目标历史轨迹对应的目标匹配成功；若所述第一目标历史轨迹和所述第二目标历史轨迹之间的平均欧式距离和余弦距离之和大于第二阈值，则所述第一目标历史轨迹对应的目标和所述第二目标历史轨迹对应的目标匹配失败。作为本申请实施例一种可选的实施方式，所述根据所述轨迹信息和高精度地图，确定所述第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息，包括：根据所述轨迹信息，确定所述第三传感器数据中各目标的预测轨迹；根据所述轨迹信息和所述高精度地图，确定所述目标交通信号灯对应的路口每个车道的交通状态信息。第二方面，本申请实施例提供一种交通信号灯控制装置，包括：获取模块，用于获取第一传感器数据和第二传感器数据；融合模块，用于对所述第一传感器数据和所述第二传感器数据进行融合，得到第三传感器数据，所述第三传感器数据包括融合后的各目标的信息；确定模块，用于根据所述第三传感器数据中各目标的信息，与第四传感器数据中各目标的信息，确定所述第三传感器数据中各目标的轨迹信息，所述第四传感器数据是对第一传感器和第二传感器在上一帧采集的点云数据进行融合后得到的；根据所述轨迹信息和高精度地图，确定所述第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息；根据所述轨迹信息、所述预测轨迹和所述交通状态信息确定所述交通信号灯的预测持续时间；控制模块，用于根据所述预测持续时间控制所述交通信号灯。第三方面，本申请实施例提供一种电子设备，包括：存储器和处理器，所述存储器用于存储计算机程序；所述处理器用于在调用所述计算机程序时执行如上述第一方面或第一方面任一项所述的方法。第四方面，本申请实施例提供一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现上述第一方面或第一方面的任一实施方式所述的方法。本申请实施例提供的交通信号灯控制方案，首先获取第一传感器数据和第二传感器数据；接着对第一传感器数据和第二传感器数据进行融合，得到第三传感器数据；再根据第三传感器数据中各目标的信息与第四传感器数据中各目标的信息，确定第三传感器数据中各目标的轨迹信息；然后根据轨迹信息和高精度地图，确定第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息；再根据轨迹信息、预测轨迹和交通状态信息确定目标交通信号灯的预测持续时间；并根据预测持续时间控制目标交通信号灯，其中，第四传感器数据是对第一传感器和第二传感器在上一帧采集的点云数据进行融合后得到的。上述技术方案中，通过第一传感器数据和第二传感器数据融合获取各目标的信息，这样能够降低单一传感器在获取目标信息时存在冗余和错误的情况，提升获取目标信息时的鲁棒性和精确性；并且，根据轨迹信息和高精度地图，确定第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息，相比于只根据传感器，本方案获取的交通状态信息更准确；另外，本方案根据轨迹信息、预测轨迹和交通状态信息确定目标交通信号灯的预测持续时间，并根据预测持续时间控制目标交通信号灯，这样目标交通信号灯的预测持续时间就能够与预测的交通状态相匹配，在根据目标交通信号灯的预测持续时间控制目标交通信号灯时，目标交通信号灯的配时就能够更加智能，从而能够适应实际的交通运行需求，进而本方案能够缓解交通拥堵。附图说明图1为本申请实施例提供的交通信号灯控制方法的流程示意图；图2为本申请实施例提供的毫米波雷达和激光雷达的采集频率示意图；图3为本申请实施例提供的第一传感器数据和第二传感器数据的融合方法的流程示意图；图4为本申请实施例提供的交通信号灯控制装置的结构示意图；图5为本申请实施例提供的电子设备的结构示意图。具体实施方式下面结合本申请实施例中的附图对本申请实施例进行描述。本申请实施例的实施方式部分使用的术语仅用于对本申请的具体实施例进行解释，而非旨在限定本申请。下面这几个具体的实施例可以相互结合，对于相同或相似的概念或过程可能在某些实施例不再赘述。图1为本申请实施例提供的交通信号灯控制方法的流程示意图，如图1所示，本申请实施例提供的交通信号灯控制方法可以包括如下步骤：S110、获取第一传感器数据和第二传感器数据。第一传感器数据可以是第一传感器与相机结合采集的，第一传感器可以是毫米波雷达等传感器；第二传感器数据可以是第二传感器与相机结合采集的，第二传感器可以激光雷达等传感器，第一传感器与第二传感器为不相同。本实施后续以第一传感器为毫米波雷达，第二传感器为激光雷达为例，进行示例性说明。具体地，可以实时接收毫米波雷达在当前帧采集的目标级点云数据以及激光雷达在当前帧采集的原始点云数据。目标级点云数据可以包括各目标的标识、类型、坐标、长度信息、速度、航向角和置信度等参数。原始点云数据可以包括各目标的坐标。在获取原始点云数据后，可以进一步对原始点云数据进行目标检测，以得到更多的目标信息，即第二传感器数据。具体地，可以采用Second点云检测算法对原始点云数据进行检测，以获得各目标的标识、类型、坐标、外形尺寸、速度、航向角和置信度等信息，其中，目标的类型可以包括汽车、公交车、货车、卡车、自行车、摩托车以及行人等。可以理解是的，由于毫米波雷达和激光雷达的采集频率可能存在差异，因此，可以以频率较低的传感器为时间基准进行时间同步，以接收到两传感器数据的系统时间戳作为同步时间。图2为本申请实施例提供的毫米波雷达和激光雷达的采集频率示意图，如图2所示，激光雷达的采集频率为50ms，毫米波雷达的采集频率为25ms，则可以以激光雷达频率为基准，将毫米波雷达在与激光雷达不同基准采集的数据丢弃。由于同一基准对应的毫米波雷达和激光雷达采集的数据也可能存在时间的差异，因此在接收到毫米波雷达和激光雷达采集的数据时，可以先判断接收的两个数据的时差，若时差大于设定值，则可以将上述两个数据丢弃，这样同一基准对应的毫米波雷达和激光雷达采集的数据可以近似认为是同时采集，能够提升采集的准确性。S120、将第一传感器数据和第二传感器数据转换至同一坐标系。在对第一传感器数据和第二传感器数据进行融合前，可以先将第一传感器数据和第二传感器数据转换至同一坐标系下，例如，毫米波雷达坐标系、激光雷达坐标系、大地坐标系等。本实施例后续以第一传感器数据和第二传感器数据均转换至大地坐标系为例，进行示例性说明。具体地，可以根据毫米波雷达坐标系与大地坐标系间的标定算法，获取毫米波雷达坐标系向大地坐标系的刚体变换，然后将第一传感器数据中各目标的坐标转换至大地坐标系；根据激光雷达坐标系与大地坐标系间的标定算法，获取激光雷达坐标系向大地坐标系的刚体变换，然后将第二传感器数据中各目标的坐标转换至大地坐标系。这样第一传感器数据和第二传感器数据都统一至大地坐标系，以便后续对第一传感器数据和第二传感器数据进行融合。S130、对第一传感器数据和第二传感器数据进行融合，得到第三传感器数据。图3为本申请实施例提供的第一传感器数据和第二传感器数据的融合方法的流程示意图，如图3所示，本申请实施例提供的第一传感器数据和第二传感器数据的融合方法可以包括如下步骤：S131、将第一传感器数据中的各目标分别与第二传感器数据中的各目标进行第一次关联匹配。具体地，可以先在同一坐标系中，分别计算第一传感器数据中的各目标与第二传感器数据中的各目标之间的距离。第一传感器数据中包括各目标的长度信息，通过毫米波雷达可以得到各目标相对于毫米波雷达的横纵向距离，各目标的宽度可以根据目标的类型设定，这样就可以得到第一传感器数据中各目标对应的矩形框；第二传感器数据中各目标对应的矩形框可以通过Second点云检测算法直接获取。然后可以计算第一传感器数据中各目标的矩形框和第二传感器数据中各目标的矩形框之间的IOU距离，例如，第一传感器数据中有a个目标，第二传感器数据中有b个目标，则第一传感器数据和第二传感器数据中各目标的矩形框之间的IOU距离为dij。接着可以将目标距离dij作为代价矩阵使用匈牙利算法进行最大匹配计算，再根据IOU阈值s_iou对目标距离dij进行检验。若第一传感器数据中的第一目标和第二传感器数据中的第二目标之间的距离小于或等于IOU阈值，则确定第一目标和第二目标匹配成功；若第一目标和第二目标之间的距离大于IOU阈值，则确定第一目标和第二目标匹配失败。例如，d23表示第一传感器数据中第2个目标和第二传感器数据中第3个目标之间的IOU距离，若d23≤s_iou，则表示第一传感器数据中第2个目标和第二传感器数据中第3个目标匹配成功，若d23＞s_iou，则表示第一传感器数据中第2个目标和第二传感器数据中第3个目标匹配失败。匹配成功表示第一传感器数据中第2个目标和第二传感器数据中第3个目标为同一目标，匹配失败表示第一传感器数据中第2个目标和第二传感器数据中第3个目标为两个独立的目标。S132、对第一传感器数据和第二传感器数据中未匹配成功的目标进行第二次关联匹配。为增加融合时的精确度，还可以对第一传感器数据和第二传感器数据中未匹配成功的目标进行第二次关联匹配。首先可以确定第一传感器数据中第一次未匹配成功的各目标的第一历史轨迹，和第二传感器数据中第一次未匹配成功的各目标的第二历史轨迹，然后分别确定每个第一历史轨迹与每个第二历史轨迹之间的平均欧式距离和余弦距离，接着分别对各第一历史轨迹和各第二历史轨迹之间的欧式距离和余弦距离进行加权求和计算，得到各第一历史轨迹与各第二历史轨迹之间的轨迹距离wij，其中u为第一历史轨迹的数量，v为第二历史轨迹的数量。接着可以将轨迹距离wij作为代价矩阵使用匈牙利算法进行最大匹配计算，再根据距离阈值s_t对轨迹距离wij进行检验。若wij小于或等于s_t，则第一目标历史轨迹对应的目标和第二目标历史轨迹对应的目标匹配成功；若wij大于s_t，则第一目标历史轨迹对应的目标和第二目标历史轨迹对应的目标匹配失败。例如，w23表示第一传感器数据中第2个历史轨迹和第二传感器数据中第3个历史轨迹之间的轨迹距离，若w23≤s_t，则表示第一传感器数据中第2个历史轨迹对应的目标和第二传感器数据中第3个历史轨迹对应的目标匹配成功，若w23＞s_t，则表示第一传感器数据中第2个历史轨迹对应的目标和第二传感器数据中第3个历史轨迹对应的目标匹配失败。匹配成功表示第一传感器数据中第2个历史轨迹对应的目标和第二传感器数据中第3个历史轨迹对应的目标为同一目标，匹配失败则表示第一传感器数据中第2个历史轨迹对应的目标和第二传感器数据中第3个历史轨迹对应的目标为两个独立的目标。S133、对第一传感器数据和第二传感器数据中匹配成功的目标进行融合，得到融合目标。具体地，可以对第一传感器数据和第二传感器数据中第一次或第二次匹配成功的目标进行融合，得到融合目标，在融合时，可以对于同一参数，可以使用第一传感器数据和第二传感器数据中该参数对应的数值的平均值，也可以选择精度相对较高的传感器中的数值，例如，第一传感器数据中目标A的速度为a，第二传感器数据中的目标A`与目标A匹配成功，目标A`的速度为b，则融合后的目标A的速度可以为/2，也可以为a。S134、根据第一传感器数据和第二传感器数据中两次均为未匹配成功的目标以及融合目标，确定第三传感器数据。两次均为未匹配成功的目标即可以认为是两个独立的目标，因为可以对融合目标进行扩维，将两次均未匹配成功的目标加入融合目标，以得到第三传感器数据，第三传感器数据可以包括融合后的各目标的信息。S140、根据第三传感器数据中各目标的信息，与第四传感器数据中各目标的信息，确定第三传感器数据中各目标的轨迹信息。第四传感器数据是对第一传感器和第二传感器在上一帧采集的点云数据进行融合后得到的。具体地，可以采用Sort算法对第三传感器数据中的各目标进行跟踪，以确定第三传感器数据中的各目标对应的第四传感器数据中的目标，从而确定第三传感器数据中各目标的轨迹信息。例如，若第三传感器数据中的目标B对应第四传感器数据中的目标B`，则说明当前帧中的目标B与上一帧中的目标B`为同一目标，根据目标B的信息对目标B`的轨迹信息进行更新，即可以得到目标B的轨迹信息。可以理解的是，若目标B在第四传感器数据中没有对应的目标，则说明目标B第一次被毫米波雷达，和/或激光雷达采集到，即目标B为新出现的目标。S150、根据轨迹信息和高精度地图，确定第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息。具体地，可以先基于深度学习的轨迹预测方法，根据第三传感器数据中各目标的轨迹信息确定第三传感器数据中各目标的预测轨迹。然后根据高精度地图，对第三传感器数据中各目标的轨迹信息进行分析，以确定目标交通信号灯对应的路口每个车道的交通状态信息。交通状态信息可以包括车道平均排队长度、车道平均时间占有率、车道流量密度、车道平均速度等。S160、根据轨迹信息、预测轨迹和交通状态信息确定目标交通信号灯的预测持续时间。具体地，可以采用深度学习的方法对每个交通信号灯的持续时间做最优的预测。每次给预测模型输入多帧历史轨迹、多帧预测轨迹和交通状态信息，以得到下一次交通信号灯变化时每个红灯和绿灯的持续时间。S170、根据预测持续时间控制目标交通信号灯。具体地，可以在下一次交通信号灯变化时，根据预测的每个红灯和绿灯的持续时间控制对应的红灯和绿灯。本申请实施例提供的交通信号灯控制方案，首先获取第一传感器数据和第二传感器数据；接着对第一传感器数据和第二传感器数据进行融合，得到第三传感器数据；再根据第三传感器数据中各目标的信息与第四传感器数据中各目标的信息，确定第三传感器数据中各目标的轨迹信息；然后根据轨迹信息和高精度地图，确定第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息；再根据轨迹信息、预测轨迹和交通状态信息确定目标交通信号灯的预测持续时间；并根据预测持续时间控制目标交通信号灯，其中，第四传感器数据是对第一传感器和第二传感器在上一帧采集的点云数据进行融合后得到的。上述技术方案中，通过第一传感器数据和第二传感器数据融合获取各目标的信息，这样能够降低单一传感器在获取目标信息时存在冗余和错误的情况，提升获取目标信息时的鲁棒性和精确性；并且，根据轨迹信息和高精度地图，确定第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息，相比于只根据传感器，本方案获取的交通状态信息更准确；另外，本方案根据轨迹信息、预测轨迹和交通状态信息确定目标交通信号灯的预测持续时间，并根据预测持续时间控制目标交通信号灯，这样目标交通信号灯的预测持续时间就能够与预测的交通状态相匹配，在根据目标交通信号灯的预测持续时间控制目标交通信号灯时，目标交通信号灯的配时就能够更加智能，从而能够适应实际的交通运行需求，进而本方案能够缓解交通拥堵。基于同一发明构思，作为对上述方法的实现，本申请实施例提供了一种交通信号灯控制装置，该装置实施例与前述方法实施例对应，为便于阅读，本装置实施例不再对前述方法实施例中的细节内容进行逐一赘述，但应当明确，本实施例中的装置能够对应实现前述方法实施例中的全部内容。图4为本申请实施例提供的交通信号灯控制装置的结构示意图，如图4所示，本实施例提供的交通信号灯控制装置可以包括：包括：获取模块11、融合模块12、确定模块13和控制模块14，其中：所述获取模块11用于，获取第一传感器数据和第二传感器数据；所述融合模块12用于，对所述第一传感器数据和所述第二传感器数据进行融合，得到第三传感器数据，所述第三传感器数据包括融合后的各目标的信息；所述确定模块13用于，根据所述第三传感器数据中各目标的信息，与第四传感器数据中各目标的信息，确定所述第三传感器数据中各目标的轨迹信息，所述第四传感器数据是对第一传感器和第二传感器在上一帧采集的点云数据进行融合后得到的；根据所述轨迹信息和高精度地图，确定所述第三传感器数据中各目标的预测轨迹和目标交通信号灯对应的路口每个车道的交通状态信息；根据所述轨迹信息、所述预测轨迹和所述交通状态信息确定所述交通信号灯的预测持续时间；所述控制模块14用于，根据所述预测持续时间控制所述交通信号灯。作为一种可选的实施方式，所述第一传感器数据包括毫米波雷达在当前帧采集的各目标的信息，所述第二传感器数据包括激光雷达在当前帧采集的各目标的信息。作为一种可选的实施方式，所述第一传感器数据包括各目标的标识、类型、坐标、长度信息、速度、航向角和置信度；所述获取模块11具体用于：获取所述激光雷达的原始点云数据，所述原始点云数据包括所述激光雷达在当前帧采集的各目标的坐标；对所述原始点云数据进行目标检测，得到所述第二传感器数据，所述第二传感器数据各目标的标识、类型、坐标、外形尺寸、速度、航向角和置信度。作为一种可选的实施方式，所述交通信号灯控制装置还包括转换模块15，所述转换模块15具体用于：根据毫米波雷达坐标系与大地坐标系间的标定算法，将所述第一传感器数据中各目标的坐标转换至大地坐标系；根据激光雷达坐标系与大地坐标系间的标定算法，将所述第二传感器数据中各目标的坐标转换至大地坐标系。作为一种可选的实施方式，所述融合模块12具体用于：将所述第一传感器数据中的各目标分别与所述第二传感器数据中的各目标进行第一次关联匹配；对所述第一传感器数据和所述第二传感器数据中未匹配成功的目标进行第二次关联匹配，所述第一次关联匹配和所述第二次关联匹配的匹配方式不同；对所述第一传感器数据和所述第二传感器数据中匹配成功的目标进行融合，得到融合目标；根据所述第一传感器数据和所述第二传感器数据中两次均为未匹配成功的目标以及所述融合目标，确定所述第三传感器数据。作为一种可选的实施方式，所述融合模块12具体用于：在同一坐标系中，分别计算所述第一传感器数据中的各目标与所述第二传感器数据中的各目标之间的距离；若所述第一传感器数据中的第一目标和所述第二传感器数据中的第二目标之间的距离小于或等于第一阈值，则确定所述第一目标和所述第二目标匹配成功；若所述第一目标和所述第二目标之间的距离大于所述第一阈值，则确定所述第一目标和所述第二目标匹配失败。作为一种可选的实施方式，所述融合模块12具体用于：确定所述第一传感器数据中第一次未匹配成功的各目标的第一历史轨迹，和所述第二传感器数据中第一次未匹配成功的各目标的第二历史轨迹；分别确定每个所述第一历史轨迹与每个所述第二历史轨迹之间的平均欧式距离和余弦距离；若各所述第一历史轨迹中的第一目标历史轨迹和各所述第二历史轨迹中的第二目标历史轨迹之间的平均欧式距离和余弦距离之和小于或等于第二阈值，则所述第一目标历史轨迹对应的目标和所述第二目标历史轨迹对应的目标匹配成功；若所述第一目标历史轨迹和所述第二目标历史轨迹之间的平均欧式距离和余弦距离之和大于第二阈值，则所述第一目标历史轨迹对应的目标和所述第二目标历史轨迹对应的目标匹配失败。作为一种可选的实施方式，所述确定模块13具体用于：根据所述轨迹信息，确定所述第三传感器数据中各目标的预测轨迹；根据所述轨迹信息和所述高精度地图，确定所述目标交通信号灯对应的路口每个车道的交通状态信息。基于同一发明构思，本申请实施例还提供了一种电子设备。图5为本申请实施例提供的电子设备的结构示意图，如图5所示，本实施例提供的电子设备包括：存储器210和处理器220，存储器210用于存储计算机程序；处理器220用于在调用计算机程序时执行上述方法实施例所述的方法。本实施例提供的电子设备可以执行上述方法实施例，其实现原理与技术效果类似，此处不再赘述。本申请实施例还提供一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现上述方法实施例所述的方法。本申请实施例还提供一种计算机程序产品，当计算机程序产品在电子设备上行驶时，使得电子设备执行时实现上述方法实施例所述的方法。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机程序指令时，全部或部分地产生按照本申请实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者第一可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者通过所述计算机可读存储介质进行传输。所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质、光介质、或者半导体介质)等。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，该流程可以由计算机程序来指令相关的硬件完成，该程序可存储于计算机可读取存储介质中，该程序在执行时，可包括如上述各方法实施例的流程。而前述的存储介质可以包括：ROM或随机存储记忆体RAM、磁碟或者光盘等各种可存储程序代码的介质。在本申请中出现的对步骤进行的命名或者编号，并不意味着必须按照命名或者编号所指示的时间/逻辑先后顺序执行方法流程中的步骤，已经命名或者编号的流程步骤可以根据要实现的技术目的变更执行次序，只要能达到相同或者相类似的技术效果即可。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述或记载的部分，可以参见其它实施例的相关描述。在本申请所提供的实施例中，应该理解到，所揭露的装置/设备和方法，可以通过其它的方式实现。例如，以上所描述的装置/设备实施例仅仅是示意性的，例如，所述模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通讯连接可以是通过一些接口，装置或单元的间接耦合或通讯连接，可以是电性，机械或其它的形式。应当理解，当在本申请说明书和所附权利要求书中使用时，术语“包括”指示所描述特征、整体、步骤、操作、元素和/或组件的存在，但并不排除一个或多个其它特征、整体、步骤、操作、元素、组件和/或其集合的存在或添加。在本申请的描述中，除非另有说明，“/”表示前后关联的对象是一种“或”的关系，例如，A/B可以表示A或B；本申请中的“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况，其中A，B可以是单数或者复数。并且，在本申请的描述中，除非另有说明，“多个”是指两个或多于两个。“以下至少一项”或其类似表达，是指的这些项中的任意组合，包括单项或复数项的任意组合。例如，a，b，或c中的至少一项，可以表示：a，b，c，a-b，a-c，b-c，或a-b-c，其中a，b，c可以是单个，也可以是多个。如在本申请说明书和所附权利要求书中所使用的那样，术语“如果”可以依据上下文被解释为“当...时”或“一旦”或“响应于确定”或“响应于检测到”。类似地，短语“如果确定”或“如果检测到”可以依据上下文被解释为意指“一旦确定”或“响应于确定”或“一旦检测到”或“响应于检测到”。另外，在本申请说明书和所附权利要求书的描述中，术语“第一”、“第二”、“第三”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的实施例能够以除了在这里图示或描述的内容以外的顺序实施。在本申请说明书中描述的参在本申请说明书中描述的参考“一个实施例”或“一些实施例”等意味着在本申请的一个或多个实施例中包括结合该实施例描述的特定特征、结构或特点。由此，在本说明书中的不同之处出现的语句“在一个实施例中”、“在一些实施例中”、“在第一一些实施例中”、“在另外一些实施例中”等不是必然都参考相同的实施例，而是意味着“一个或多个但不是所有的实施例”，除非是以第一方式另外特别强调。最后应说明的是：以上各实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述各实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围。
