标题title
一种粮食基地的物流联合供应方法、系统及存储介质
摘要abst
本发明公开了一种粮食基地的物流联合供应方法、系统及存储介质，属于物流运输技术领域，包括步骤S1：获取地理信息和粮食存储基地需要的粮食入库量，以及完成粮食入库量的计划完成时间；步骤S2：获取港口货运班次信息，基于港口货运班次信息运输第一供应量的粮食，使得粮食入库量剩余第一剩余量的粮食；步骤S3：基于铁路货运班次信息运输第二供应量的粮食，使得粮食入库量剩余第二剩余量的粮食；步骤S4：基于第二剩余量与公路运输距离获取在计划完成时间之前完成运输任务、且运输成本最小的方案为最终运输方案。通过本发明可以确定粮食的最优运输方式，从而保证在计划完成时间之前以最小成本完成粮食的运输。
权利要求书clms
1.一种粮食基地的物流联合供应方法，其特征在于，包括：步骤S1：获取地理信息和任务信息，所述地理信息包括粮食存储基地地址信息和粮食生产基地地址信息，所述任务信息包括粮食存储基地需要的粮食入库量，以及完成粮食入库量的计划完成时间；步骤S2：若粮食存储基地与粮食生产基地所在城市均存在港口，则获取港口货运班次信息，所述港口货运班次信息包括运输班次和每个运输班次的运载量，基于所述港口货运班次信息计算第一供应量，所述第一供应量为在所述计划完成时间之前通过港口完成的粮食运输量，若所述第一供应量大于等于粮食入库量，则通过港口完成所有粮食的运输，若所述第一供应量小于粮食入库量，则计算粮食入库量与所述第一供应量的第一差值，并将所述第一差值定义为第一剩余量；步骤S3：获取粮食存储基地与粮食生产基地之间的公路运输距离，若公路运输距离大于等于预设的临界距离，则获取粮食存储基地所在城市与粮食生产基地所在城市的铁路货运班次信息，基于所述铁路货运班次信息计算第二供应量，若所述第二供应量大于等于所述第一剩余量，则通过铁路完成所有所述第一剩余量粮食的运输，若所述第二供应量小于所述第一剩余量，则计算所述第二供应量与所述第一剩余量的第二差值，并将所述第二差值定义为第二剩余量；步骤S4：基于粮食存储基地地址和粮食生产基地地址获得最短公路运输路径，基于所述最短公路运输路径生成多个公路运输方案，并从中选取在所述计划完成时间之前完成所述第二剩余量运输、且运输成本最小的方案为最终运输方案。2.根据权利要求1所述的一种粮食基地的物流联合供应方法，其特征在于，生成粮食存储基地和粮食生产基地的公路运输方案包括以下步骤：获取参与公路运输的货车名单，基于货车名单对每辆货车进行编码，所述编码包括第一区域、第二区域和第三区域，第一区域的数字代表货车的类型，第二区域的数字代表货车额定载货量，第三区域包括多个子区域，每个子区域数字对应不同类型货车的运输里程；构建方案生成拓扑图，所述方案生成拓扑图包括多个相同的网络层 ，每个网络层包括与货车数量相同的子单元，每个子单元对应关联一个所述编码，定义位于网络层/＞中的子单元为第一子单元，位于网络层/＞中的子单元为第二子单元，将各个所述第一子单元与各个所述第二子单元相互连接，每个所述第二子单元包括多个第一合并码，所述第一合并码为所述第二子单元包含的所述编码、与该所述第二子单元连接的各个所述第一子单元包含的所述编码合并结果，合并时，两个所述编码第一区域内的数字串联保留，第二区域内的数字相加，第三区域对应子区域存储的数字相加；定义位于网络层中的子单元为第三子单元，将各个所述第二子单元与各个所述第三子单元相互连接，每个所述第三子单元包括多个第二合并码，若合并后，存在所述第二合并码第二区域的数值大于等于所述第二剩余量，则停止该所述第二合并码向后传播，并将所述第二合并码作为方案编码输出。3.根据权利要求2所述的一种粮食基地的物流联合供应方法，其特征在于，所述方案编码输出后，基于以下步骤确定方案中参与公路运输货车的类型及数量：获取所述方案编码第一区域各个数字的出现次数，基于数字及数字出现次数确定参与公路运输货车的类型及对应的数量，确定完成后，筛选所述方案编码中至少重复出现两次的数字，定位重复数字之间的最小间隔，获取位于所述最小间隔内的其它数字，基于第一公式计算临界时间，所述第一公式为：，其中，/＞为所述最小间隔内其他数字的数量，/＞为预设的货车装载时间，若所述临界时间大于预设的工作时间，则将计划中该货车的雇佣数量减少为1辆。4.根据权利要求3所述的一种粮食基地的物流联合供应方法，其特征在于，计算公路运输方案的成本包括以下步骤：获取各个类型货车的雇佣成本，基于第二公式计算公路运输方案的运输成本，所述第二公式为：，其中，/＞为类型/＞货车的雇佣费用，为对应类型货车的雇佣数目，/＞为货车行驶成本，所述货车行驶成本/＞通过第三公式获得，所述第三公式为：/＞，其中，/＞为类型/＞货车的每公里行程成本，/＞为类型/＞货车的行驶距离。5.根据权利要求1所述的一种粮食基地的物流联合供应方法，其特征在于，在步骤S4生成公路运输方案之前，还包括以下步骤：设定参与公路运输货车的平均行驶速度，基于所述平均行驶速度和所述最短公路运输路径计算货车的总行驶时间，设置第一行驶限制时间和第二行驶限制时间，所述第一行驶限制时间为货车在24小时内累计行驶限制时间，所述第二行驶限制时间为货车连续行驶时间限制时间，若货车的所述总行驶时间大于所述第一行驶限制时间，则在粮食存储基地与粮食生产基地之间设置中转点，所述中转点的数量基于第四公式确定距离，所述第四公式为：，其中，/＞为货车的所述总行驶时间，/＞为所述第二行驶限制时间，/＞为向下取整函数；以粮食生产基地为起点，每隔货车行驶所述第二行驶限制时间路程的位置设置所述中转点，将参与运输的货车划分为始发货车和中转货车，所述中转货车前往所述中转点待命，当所述始发货车到达所述中转点后，将所述始发货车装载的粮食转移至所述中转货车内，所述中转货车将粮食由该所述中转点运输至下一个所述中转点。6.一种粮食基地的物流联合供应系统，用于实现如权利要求1-5任一项所述的粮食基地的物流联合供应方法，其特征在于，包括：输入模块，用于录入地理信息和任务信息，所述地理信息包括粮食存储基地地址信息和粮食生产基地地址信息，所述任务信息包括粮食存储基地需要的粮食入库量，以及完成粮食入库量的计划完成时间；第一模块，用于获取港口提供的港口货运班次信息，所述港口货运班次信息包括运输班次和每个运输班次的运载量，基于所述港口货运班次信息计算第一供应量，所述第一供应量为在所述计划完成时间之前通过港口完成的粮食运输量，若所述第一供应量大于等于粮食入库量，则通过港口完成所有粮食的运输，若所述第一供应量小于粮食入库量，则计算粮食入库量与所述第一供应量的第一差值，并将所述第一差值定义为第一剩余量；第二模块，用于获取粮食存储基地与粮食生产基地之间的公路运输距离，若公路运输距离大于等于预设的临界距离，则获取粮食存储基地所在城市与粮食生产基地所在城市的铁路货运班次信息，基于所述铁路货运班次信息计算第二供应量，若所述第二供应量大于等于所述第一剩余量，则通过铁路完成所有所述第一剩余量粮食的运输，若所述第二供应量小于所述第一剩余量，则计算所述第二供应量与所述第一剩余量的第二差值，并将所述第二差值定义为第二剩余量；公路运输方案生成模块，基于粮食存储基地地址和粮食生产基地地址获得最短公路运输路径，基于所述最短公路运输路径生成多个公路运输方案，并从中选取在所述计划完成时间之前完成所述第二剩余量运输、且运输成本最小的方案为最终运输方案。7.一种计算机存储介质，其特征在于，所述计算机存储介质存储有程序指令，其中，在所述程序指令运行时控制所述计算机存储介质所在设备执行权利要求1-5任一项所述的一种粮食基地的物流联合供应方法。
说明书desc
技术领域本发明属于物流运输技术领域，具体涉及一种粮食基地的物流联合供应方法、系统及存储介质。背景技术当前，为保证供需平衡，需要将粮食由生产地区运输至消费地区。目前，大宗粮食的运输方式一般有公路运输、铁路运输和水路运输，其中，铁路和水路的运输方式运输成本低，但存在受地理位置因素及运能的影响，公路运输方式虽然受限制较少，但运输成本较高，因此如何合理规划粮食运输方式，使得粮食运输过程中的成本可控，这是本领域亟待解决的技术问题。为降低粮食的运输成本，现有技术中提出了如下解决方案，如中国专利申请“CN109146167B”提出了一种寻求最短粮食运输路径的方法、设备、系统及存储介质，该方法基于粮食配送中心及多个运输目标城市的位置信息，通过蚁群算法获得多条粮食运输路径，从粮食运输路径中选取若干条满足预设路径相似度条件的目标粮食运输路径，将目标粮食运输路径作为禁忌搜索算法的初始粮食运输路径，基于位置信息通过禁忌搜索算法确定最短粮食运输路径，从而降低粮食运输成本；又例如中国专利申请“CN109740829A”提出了一种基于蚁群算法的粮食运输方法、设备、存储介质及装置，通过对粮食运输赋权图进行多级粗化，获得第一级－第N级粮食运输粗化图，并将第N级粮食运输粗化图对应的第N级蚁群算法参数作为第n级蚁群算法参数，从第n级蚁群算法参数中选取第n-1级蚁群算法参数，根据第n-1级蚁群算法参数对第n级粮食运输粗化图进行寻优，获得第n级最优路径，循环操作直至获得最优运输路径。然而，上述两种技术方案均是对粮食在运输路径方面进行规划计算，并未涉及到如何分配粮食运输方式的问题。发明内容本发明提供了一种粮食基地的物流联合供应方法、系统及存储介质，以解决上述背景技术中存在的问题。为了达到上述的发明目的，本发明提出一种粮食基地的物流联合供应方法，包括：步骤S1：获取地理信息和任务信息，所述地理信息包括粮食存储基地地址信息和粮食生产基地地址信息，所述任务信息包括粮食存储基地需要的粮食入库量，以及完成粮食入库量的计划完成时间；步骤S2：若粮食存储基地与粮食生产基地所在城市均存在港口，则获取港口货运班次信息，所述港口货运班次信息包括运输班次和每个运输班次的运载量，基于所述港口货运班次信息计算第一供应量，所述第一供应量为在所述计划完成时间之前通过港口完成的粮食运输量，若所述第一供应量大于等于粮食入库量，则通过港口完成所有粮食的运输，若所述第一供应量小于粮食入库量，则计算粮食入库量与所述第一供应量的第一差值，并将所述第一差值定义为第一剩余量；步骤S3：获取粮食存储基地与粮食生产基地之间的公路运输距离，若公路运输距离大于等于预设的临界距离，则获取粮食存储基地所在城市与粮食生产基地所在城市的铁路货运班次信息，基于所述铁路货运班次信息计算第二供应量，若所述第二供应量大于等于所述第一剩余量，则通过铁路完成所有所述第一剩余量粮食的运输，若所述第二供应量小于所述第一剩余量，则计算所述第二供应量与所述第一剩余量的第二差值，并将所述第二差值定义为第二剩余量；步骤S4：基于粮食存储基地地址和粮食生产基地地址获得最短公路运输路径，基于所述最短公路运输路径生成多个公路运输方案，并从中选取在所述计划完成时间之前完成所述第二剩余量运输、且运输成本最小的方案为最终运输方案。进一步的，生成粮食存储基地和粮食生产基地的公路运输方案包括以下步骤：获取参与公路运输的货车名单，基于货车名单对每辆货车进行编码，所述编码包括第一区域、第二区域和第三区域，第一区域的数字代表货车的类型，第二区域的数字代表货车额定载货量，第三区域包括多个子区域，每个子区域数字对应不同类型货车的运输里程；构建方案生成拓扑图，所述方案生成拓扑图包括多个相同的网络层，每个网络层包括与货车数量相同的子单元，每个子单元对应关联一个所述编码，定义位于网络层/＞中的子单元为第一子单元，位于网络层/＞中的子单元为第二子单元，将各个所述第一子单元与各个所述第二子单元相互连接，每个所述第二子单元包括多个第一合并码，所述第一合并码为所述第二子单元包含的所述编码、与该所述第二子单元连接的各个所述第一子单元包含的所述编码合并结果，合并时，两个所述编码第一区域内的数字串联保留，第二区域内的数字相加，第三区域对应子区域存储的数字相加；定义位于网络层中的子单元为第三子单元，将各个所述第二子单元与各个所述第三子单元相互连接，每个所述第三子单元包括多个第二合并码，若合并后，存在所述第二合并码第二区域的数值大于等于所述第二剩余量，则停止该所述第二合并码向后传播，并将所述第二合并码作为方案编码输出。进一步的，所述方案编码输出后，基于以下步骤确定方案中参与公路运输货车的类型及数量：获取所述方案编码第一区域各个数字的出现次数，基于数字及数字出现次数确定参与公路运输货车的类型及对应的数量，确定完成后，筛选所述方案编码中至少重复出现两次的数字，定位重复数字之间的最小间隔，获取位于所述最小间隔内的其它数字，基于第一公式计算临界时间，所述第一公式为：，其中，/＞为所述最小间隔内其他数字的数量，/＞为预设的货车装载时间，若所述临界时间大于预设的工作时间，则将计划中该货车的雇佣数量减少为1辆。进一步的，计算公路运输方案的成本包括以下步骤：获取各个类型货车的雇佣成本，基于第二公式计算公路运输方案的运输成本，所述第二公式为：，其中，/＞为类型/＞货车的雇佣费用，/＞为对应类型货车的雇佣数目，/＞为货车行驶成本，所述货车行驶成本/＞通过第三公式获得，所述第三公式为：/＞，其中，/＞为类型/＞货车的每公里行程成本，为类型/＞货车的行驶距离。进一步的，在步骤S4生成公路运输方案之前，还包括以下步骤：设定参与公路运输货车的平均行驶速度，基于所述平均行驶速度和所述最短公路运输路径计算货车的总行驶时间，设置第一行驶限制时间和第二行驶限制时间，所述第一行驶限制时间为货车在24小时内累计行驶限制时间，所述第二行驶限制时间为货车连续行驶时间限制时间，若货车的所述总行驶时间大于所述第一行驶限制时间，则在粮食存储基地与粮食生产基地之间设置中转点，所述中转点的数量基于第四公式确定距离，所述第四公式为：，其中，/＞为货车的所述总行驶时间，/＞为所述第二行驶限制时间，/＞为向下取整函数；以粮食生产基地为起点，每隔货车行驶所述第二行驶限制时间路程的位置设置所述中转点，将参与运输的货车划分为始发货车和中转货车，所述中转货车前往所述中转点待命，当所述始发货车到达所述中转点后，将所述始发货车装载的粮食转移至所述中转货车内，所述中转货车将粮食由该所述中转点运输至下一个所述中转点。本发明还提供了一种粮食基地的物流联合供应系统，该系统用于实现上述所述的一种粮食基地的物流联合供应方法，该系统主要包括：输入模块，用于录入地理信息和任务信息，所述地理信息包括粮食存储基地地址信息和粮食生产基地地址信息，所述任务信息包括粮食存储基地需要的粮食入库量，以及完成粮食入库量的计划完成时间；第一模块，用于获取港口提供的港口货运班次信息，所述港口货运班次信息包括运输班次和每个运输班次的运载量，基于所述港口货运班次信息计算第一供应量，所述第一供应量为在所述计划完成时间之前通过港口完成的粮食运输量，若所述第一供应量大于等于粮食入库量，则通过港口完成所有粮食的运输，若所述第一供应量小于粮食入库量，则计算粮食入库量与所述第一供应量的第一差值，并将所述第一差值定义为第一剩余量；第二模块，用于获取粮食存储基地与粮食生产基地之间的公路运输距离，若公路运输距离大于等于预设的临界距离，则获取粮食存储基地所在城市与粮食生产基地所在城市的铁路货运班次信息，基于所述铁路货运班次信息计算第二供应量，若所述第二供应量大于等于所述第一剩余量，则通过铁路完成所有所述第一剩余量粮食的运输，若所述第二供应量小于所述第一剩余量，则计算所述第二供应量与所述第一剩余量的第二差值，并将所述第二差值定义为第二剩余量；公路运输方案生成模块，基于粮食存储基地地址和粮食生产基地地址获得最短公路运输路径，基于所述最短公路运输路径生成多个公路运输方案，并从中选取在所述计划完成时间之前完成所述第二剩余量运输、且运输成本最小的方案为最终运输方案。本发明还提供了一种计算机存储介质，所述计算机存储介质存储有程序指令，其中，在所述程序指令运行时控制所述计算机存储介质所在设备上述所述的一种粮食基地的物流联合供应方法。与现有技术相比，本发明的有益效果至少如下所述：本发明首先通过获取任务信息，从而确定粮食的运输量和完成运输的时间，然后获取地理信息，确定粮食存储基地和粮食生产基地之间能够采用哪种方式进行运输，根据成本最小的原则，依次计算通过水路和铁路能够完成的粮食运输量，从而保证粮食优先通过水路和铁路的方式运输；而无法通过水路和铁路运输的粮食，再通过公路运输，且在进行公路运输前，根据运输距离和参与运输的车辆，生成多种公路运输方案，并从中选择成本最小的运输方案；通过本发明可以确定粮食的最优运输方式，从而保证在计划完成时间之前以最小的成本完成粮食的运输。附图说明图1为本发明一种粮食基地的物流联合供应方法的步骤流程图；图2为本发明生成公路运输方案的原理示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。可以理解，本申请所使用的术语“第一”、“第二”等可在本文中用于描述各种元件，但除非特别说明，这些元件不受这些术语限制。这些术语仅用于将第一个元件与另一个元件区分。举例来说，在不脱离本申请的范围的情况下，可以将第一xx脚本称为第二xx脚本，且类似地，可将第二xx脚本称为第一xx脚本。如图1所示，一种粮食基地的物流联合供应方法，包括：步骤S1：获取地理信息和任务信息，地理信息包括粮食存储基地地址信息和粮食生产基地地址信息，任务信息包括粮食存储基地需要的粮食入库量，以及完成粮食入库量的计划完成时间；通过获取地理信息可以确定粮食存储基地和粮食生产基地的地址，然后根据两个基地的地址确定基地所在的地级市，在获得地级市信息后，就能确定两个基地所在的城市是否存在港口和火车站等信息。在本实施例中，粮食入库量为需要从粮食生产基地运输至粮食存储基地的粮食总量，计划完成时间为完成粮食运输的日期。步骤S2：若粮食存储基地与粮食生产基地所在城市均存在港口，则获取港口货运班次信息，港口货运班次信息包括运输班次和每个运输班次的运载量，基于港口货运班次信息计算第一供应量，第一供应量为在计划完成时间之前通过港口完成的粮食运输量，若第一供应量大于等于粮食入库量，则通过港口完成所有粮食的运输，若第一供应量小于粮食入库量，则计算粮食入库量与第一供应量的第一差值，并将第一差值定义为第一剩余量；若两个基地所在城市均存在港口，则表明粮食可以通过水路进行运输，由于水路运输成本低，运载量大，因此优先使用水路进行运输，在此情况下，首先获取两个港口在计划完成时间之前的运输班次，然后根据班次确定各个班次轮船能够运输粮食的运载量，最后将所有班次轮船的运载量相加，获得在计划完成时间能够通过水路运输的粮食总量，即第一供应量；若第一供应量大于等于粮食入库量，表明可以通过水路、在计划完成时间之前完成所有粮食的运输，此时不再通过铁路和公路进行粮食的运输，若第一供应量小于粮食入库量，则计算无法通过水路运输的粮食数量，即第一剩余量；进一步的，若两个基地所在城市均不存在或仅有一个城市存在港口，则不通过水路的方式进行运输。步骤S3：获取粮食存储基地与粮食生产基地之间的公路运输距离，若公路运输距离大于等于预设的临界距离，则获取粮食存储基地所在城市与粮食生产基地所在城市的铁路货运班次信息，基于铁路货运班次信息计算第二供应量，若第二供应量大于等于第一剩余量，则通过铁路完成所有第一剩余量粮食的运输，若第二供应量小于第一剩余量，则计算第二供应量与第一剩余量的第二差值，并将第二差值定义为第二剩余量；在本实施例中，临界距离设置为1000公里，当粮食存储基地与粮食生产基地之间的公路运输距离大于1000公里时，此时通过公路运输的方式不仅运输时间长，而且运输成本高，相比之下，通过铁路运输的方式不仅运输成本低，而且运输时间短，因此，在粮食无法通过水路运输的情况向下，通过铁路优先进行运输可以大大降低运输成本。若在计划完成时间之前，通过铁路也无法完成第一剩余量的运输，则剩余部分，也即第二剩余量通过公路运输。步骤S4：基于粮食存储基地地址和粮食生产基地地址获得最短公路运输路径，基于最短公路运输路径生成多个公路运输方案，并从中选取在计划完成时间之前完成第二剩余量运输、且运输成本最小的方案为最终运输方案。具体的，在公路运输中，以计划完成时间为限制，以两个基地之间的最短路径为计算基础，基于所能调动到的汽车数量，通过模拟仿真，确定参与运输粮食货车的数量及货车类型，从而获得多个运输方案，并从中选取运输成本最小的运输方案作为最终方案，具体生成方式在下面段落中描述。尤为注意的是，通过上述四个步骤，可以根据粮食生产基地地址和粮食存储基地地址，确定粮食的最优运输方式，从而解决了现有技术中无法根据实际情况，无法合理规划粮食运输方式、使得运输成本大大增加的问题。本发明首先通过获取任务信息，从而确定粮食的运输量和完成运输的时间，然后获取地理信息，确定粮食存储基地和粮食生产基地之间能够采用哪种方式进行运输，根据成本最小的原则，依次计算通过水路和铁路能够完成的粮食运输量，从而保证粮食优先通过水路和铁路的方式运输；而无法通过水路和铁路运输的粮食，再通过公路运输，且在进行公路运输前，根据运输距离和参与运输的车辆，生成多种公路运输方案，并从中选择成本最小的运输方案；通过本发明可以确定粮食的最优运输方式，从而保证在计划完成时间之前以最小的成本完成粮食的运输。在本实施例中，生成粮食存储基地和粮食生产基地的公路运输方案包括以下步骤：获取参与公路运输的货车名单，基于货车名单对每辆货车进行编码，编码包括第一区域、第二区域和第三区域，第一区域的数字代表货车的类型，第二区域的数字代表货车额定载货量，第三区域包括多个子区域，每个子区域数字对应不同类型货车的运输里程；参与公路运输的货车名单包括能够调用的货车数量，但是在生成方案时，并不一定调用名单上的所有货车，对每个货车进行编码，例如，货车的类型为1，货车的载重量为20吨，两个基地之间相距400km，若不将货车从粮食存储基地返回至粮食生产基地的里程计入，则货车每次使用都会出现400km的运输里程，那么货车类型1的货车编码为，该编码中，每个括号代表一个区域，第三区域中，子区域之间用逗号分隔，那么第三区域第一个子区域对应存储类型1货车的行驶里程，同理，类型2的货车编码为，类型3的货车编码为/＞。构建方案生成拓扑图，方案生成拓扑图包括多个相同的网络层，每个网络层包括与货车数量相同的子单元，每个子单元对应关联一个编码，定义位于网络层/＞中的子单元为第一子单元，位于网络层/＞中的子单元为第二子单元，将各个第一子单元与各个第二子单元相互连接，每个第二子单元包括多个第一合并码，第一合并码为第二子单元包含的编码、与该第二子单元连接的各个第一子单元包含的编码合并结果，合并时，两个编码第一区域内的数字串联保留，第二区域内的数字相加，第三区域对应子区域存储的数字相加；如图2所示，方案生成拓扑图包括三个网络层，每个网络层分别包括3个第一子单元、第二子单元和第三子单元，第一子单元1，第二子单元1和第三子单元1存储编码，第一子单元2，第二子单元2和第三子单元2存储编码/＞，第一子单元3，第二子单元3和第三子单元3存储编码/＞，若网络层/＞中第一子单元1与网络层/＞中第二子单元1连接，网络层/＞中第二子单元1又与网络层/＞中第三子单元2连接，代表生成的运输方案为首先使用类型1的货车运输，再使用类型1的货车运输，最后使用类型2的货车运输。在网络层中第一子单元1与网络层/＞中第二子单元1连接后，网络层/＞子第一单元1的编码合并至网络层/＞第二子单元1中，则合并后网络层/＞第二子单元1存储的编码为/＞，该合并后的编码表明，需要两个类型1的货车连续运输，该方案目前能运输40吨粮食，使用类型1货车的运输总里程为800km；需要说明的是，图2中网络层/＞第二子单元1分别与网络层/＞中第一子单元1、2、3连接，因此网络层/＞第二子单元1中会存储三个合并后的编码。定义位于网络层中的子单元为第三子单元，将各个第二子单元与各个第三子单元相互连接，每个第三子单元包括多个第二合并码，若合并后，存在第二合并码第二区域的数值大于等于第二剩余量，则停止该第二合并码向后传播，并将第二合并码作为方案编码输出。继续参照图2，若共有40吨的粮食需要运输，则网络层中第一子单元1与网络层中第二子单元1编码合并后生成的方案便完成了所有粮食的运输，因此将第二合并码输出，不再向后传输。通过方案生成拓扑图的方式生成运输方案，不仅可以遍历所有货车的运输组合方案，而且通过设置编码，并将编码存入至子单元进行合并，从而可以根据拓扑图输出的编码快速确定运输方案，最后在输出的各个运输方案中，首先筛选能够在计划完成时间之前完成粮食运输的方案，然后再从中选取运输成本最小的方案作为最终方案。例如，输出的方案编码为，若每个货车的装载时间为60分钟，当前货车装载完毕发出后才能进行下一辆货车的装载，那么按照每天8小时工作时间，粮食生产基地每天能装载并运输8辆货车，那么第一天发送类型1、2、3、2、3、2的货车，第二天发送类型3、2、2、1的货车。在本实施例中，方案编码输出后，基于以下步骤确定方案中参与公路运输货车的类型及数量，获取方案编码第一区域各个数字的出现次数，基于数字及数字出现次数确定参与公路运输货车的类型及对应的数量，确定完成后，筛选方案编码中至少重复出现两次的数字，定位重复数字之间的最小间隔，获取位于最小间隔内的其它数字，基于第一公式计算临界时间，第一公式为：，其中，/＞为最小间隔内其他数字的数量，/＞为预设的货车装载时间，若临界时间大于预设的工作时间，则将计划中该货车的雇佣数量减少为1辆。若输出的方案编码为，从输出编码中可以看出，两个类型1货车之间最小间隔了9个数字，那么代入第二公式计算出的临界时间为9小时，大于等于预设的8小时工作时间，表明在该方案中，不会在同一天发出第二个类型1的货车，也即在实际运输中，仅需一辆类型1的货车即可满足方案需求；又例如输出的方案编码为，两个类型1货车之间最小间隔了3个数字，间隔3小时发车，货车从出发到目的地，到目的地又返回至粮食生产基地需要4小时，那么当第二个类型1的货车需要装载发车时，第一辆类型1的货车还未返回，此时需要两辆类型1的货车参与运输才能满足方案需求。在本实施例中，计算公路运输方案的成本包括以下步骤，获取各个类型货车的雇佣成本，基于第二公式计算公路运输方案的运输成本，第二公式为：，其中，/＞为类型/＞货车的雇佣费用，/＞为对应类型货车的雇佣数目，/＞为货车行驶成本，货车行驶成本/＞通过第三公式获得，第三公式为：，其中，/＞为类型/＞货车的每公里行程成本，/＞为类型/＞货车的行驶距离。例如输出的方案编码为，那么使用类型1的货车两辆，类型2的货车两辆，类型3的货车1辆，在获得每辆货车的雇佣成本后可以获取货车的总雇佣成本；再次以上述编码为例，3种类型的货车分别行驶800km、800km、400km，那么获取每种类型货车每公里的行程成本后可以获得总行驶成本，将雇佣成本与总行驶成本相加，即可得到最终成本。在进行公路运输方案的制定之前，公路运输还有针对驾驶人的驾驶时间限制，例如，当货车从粮食生产基地到达粮食存储基地至少需要9个小时时，驾驶人需要行驶4个小时，休息20分钟，然后再行驶4个小时，休息20分钟，再行驶1个小时方能到达，然而，由于在24小时内累计驾驶超过8小时，使得驾驶人无法在当天将粮食送达，这会大大拖延粮食的运输效率。为解决该问题，本发明提出以下方法：设定参与公路运输货车的平均行驶速度，基于平均行驶速度和最短公路运输路径计算货车的总行驶时间，设置第一行驶限制时间和第二行驶限制时间，第一行驶限制时间为货车在24小时内累计行驶限制时间，第二行驶限制时间为货车连续行驶时间限制时间，若货车的总行驶时间大于第一行驶限制时间，则在粮食存储基地与粮食生产基地之间设置中转点，中转点的数量基于第四公式确定距离，第四公式为：，其中，/＞为货车的总行驶时间，/＞为第二行驶限制时间，/＞为向下取整函数；在本实施例中，基于货车平均行驶速度和两个基地之间的距离，可以获得货车在连续行驶多长时间后，才能从粮食生产基地到达粮食存储基地，例如两个基地之间距离900公里，货车的平均行驶速度为90km/h，那么货车需要连续行驶9个小时才能完成粮食的运输；进一步的，本实施例将第一行驶限制时间设置为8小时，将第二行驶限制时间设置为4小时，那么此时货车无法在24小时内完成粮食在两地之间的运输，在此情况下，基于第一公式计算需要设置中转点的数量，将上述数据代入第一公式的，则在两个基地之间设置两个中转点。以粮食生产基地为起点，每隔货车行驶第二行驶限制时间路程的位置设置中转点，将参与运输的货车划分为始发货车和中转货车，中转货车前往中转点待命，当始发货车到达中转点后，将始发货车装载的粮食转移至中转货车内，中转货车将粮食由该中转点运输至下一个中转点。在本实施例中，以粮食生产基地为起点，每隔货车行驶4小时路程的位置设置中转点，同时在中转点内设置装卸设备，装卸设备将始发货车所装载的粮食转移至中转货车内需要20分钟，那么当始发货车到达中转点后，将始发货车装载的粮食转移至中转货车内，由于中转货车没有行驶限制，因此中转可以在当天将粮食由该中转点运输至下一个中转点；另外，由于转移过程需要20分钟，因此始发货车的司机可以休息20分钟，待转移完毕后，始发货车还能回到粮食生产基地进行下一次装车，从而在休息至不满足第一行驶限制条件后，从粮食生产基地直接出发。若每隔8小时设置中转点，则货车到达中转点后将无法折返，待第二天折返后又无法进行运输，会影响运输效率，因此，每隔4小时设置中转点可以大大缩短运输时间。进一步的，若粮食生产基地与粮食存储基地之间存在中转点，在生成运输方案时，不再以总体路径为基础生成，而是分为多个子区间，子区间包括粮食生产基地与中转点区间、中转点与中转点区间，中转点与粮食存储基地区间；通过方案生成拓扑图生成各个区间的运输子方案，然后在筛选时，首先根据计划完成时间以及区间数量，计算分配给每个区间的运输时间，基于区间的运输时间从子方案中筛选满足条件的方案，最后将筛选出子方案的运输成本并相加，从中选取成本最小的子方案组合作为最终运输方案。本发明还提供了一种粮食基地的物流联合供应系统，该系统用于实现上述的一种粮食基地的物流联合供应方法，该系统主要包括：输入模块，用于录入地理信息和任务信息，地理信息包括粮食存储基地地址信息和粮食生产基地地址信息，任务信息包括粮食存储基地需要的粮食入库量，以及完成粮食入库量的计划完成时间；第一模块，用于获取港口提供的港口货运班次信息，港口货运班次信息包括运输班次和每个运输班次的运载量，基于港口货运班次信息计算第一供应量，第一供应量为在计划完成时间之前通过港口完成的粮食运输量，若第一供应量大于等于粮食入库量，则通过港口完成所有粮食的运输，若第一供应量小于粮食入库量，则计算粮食入库量与第一供应量的第一差值，并将第一差值定义为第一剩余量；第二模块，用于获取粮食存储基地与粮食生产基地之间的公路运输距离，若公路运输距离大于等于预设的临界距离，则获取粮食存储基地所在城市与粮食生产基地所在城市的铁路货运班次信息，基于铁路货运班次信息计算第二供应量，若第二供应量大于等于第一剩余量，则通过铁路完成所有第一剩余量粮食的运输，若第二供应量小于第一剩余量，则计算第二供应量与第一剩余量的第二差值，并将第二差值定义为第二剩余量；公路运输方案生成模块，基于粮食存储基地地址和粮食生产基地地址获得最短公路运输路径，基于最短公路运输路径生成多个公路运输方案，并从中选取在计划完成时间之前完成第二剩余量运输、且运输成本最小的方案为最终运输方案。本发明还提供了一种计算机存储介质，计算机存储介质存储有程序指令，其中，在程序指令运行时控制计算机存储介质所在设备上述的一种粮食基地的物流联合供应方法。应该理解的是，虽然本发明各实施例的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，各实施例中的至少一部分步骤可以包括多个子步骤或者多个阶段，这些子步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些子步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤的子步骤或者阶段的至少一部分轮流或者交替地执行。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，上述的程序可存储于一个非易失性计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。以上上述的实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上上述的实施例仅表达了本发明的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干变形和改进，这些都属于本发明的保护范围。因此，本发明专利的保护范围应以所附权利要求为准。以上上述的仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
