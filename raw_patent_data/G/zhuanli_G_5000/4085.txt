标题title
伺服设备的调试方法、装置、设备和可读存储介质
摘要abst
本申请公开了一种伺服设备的调试方法、装置、设备和可读存储介质，根据伺服轴之间的协同耦合关系，将各个伺服轴组态成一个或多个轴组整定系统，并创建与每一轴组整定系统对应的每一虚拟主轴。利用上位机主站时钟向每一轴组整定系统发出带有参考时间戳的数据帧，确定每一轴组整定系统中各个伺服轴的实际响应时间差。获取上位机发出的每一虚拟主轴的运行信息，确定每一轴组整定系统中各个伺服轴的实际响应相位差。对每一轴组整定系统的整定参数进行调整。本申请对存在协同耦合关系的多个轴进行组态，从而形成具有协同耦合关系的轴组整定系统并创建轴组整定系统中的虚拟主轴，基于轴组整定系统进行整体调试，大幅简化和提高伺服调试效果。
权利要求书clms
1.一种伺服设备的调试方法，其特征在于，包括：根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系；利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差；获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差；基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。2.根据权利要求1所述的方法，其特征在于，利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，包括：利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧；控制每一所述轴组整定系统按照预设的整定参数运行，并接收每一所述轴组整定系统中各个伺服轴反馈回来的带有时间信息的数据帧；计算每一所述轴组整定系统中各个伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差作为所述实际响应时间差。3.根据权利要求1所述的方法，其特征在于，获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，包括：获取所述上位机发出的所述每一虚拟主轴的运行信息；根据所述每一虚拟主轴的运行信息，转换生成对应的每一所述轴组整定系统中的各个伺服轴的各个指令信号，并将所述各个指令信号发送到匹配的各个伺服轴；控制每一所述轴组整定系统中各个伺服轴按照所述指令信号运行，并确定每一所述轴组整定系统中各个伺服轴的实际响应相位；计算每一所述轴组整定系统中各个伺服轴的实际响应相位与所述指令信号间的相位偏差作为所述实际响应相位差。4.根据权利要求1所述的方法，其特征在于，还包括：观测每一所述轴组整定系统中各个伺服轴间是否存在共振，对存在共振的轴组整定系统的整定参数进行调整。5.根据权利要求1所述的方法，其特征在于，还包括：确定每一所述轴组整定系统中的短板轴；根据所述短板轴与对应的所述虚拟主轴的协同耦合关系，以所述短板轴为指令信号的发起轴，以所述短板轴的所述实际响应时间差以及所述实际响应相位差为参考目标，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整。6.一种伺服设备的调试装置，其特征在于，包括：轴组态模块，用于根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系；时间差模块，用于利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差；相位差模块，用于获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差；参数调整模块，用于基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。7.根据权利要求6所述的装置，其特征在于，所述时间差模块，包括：时间发送单元，用于利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧；时间反馈单元，用于控制每一所述轴组整定系统按照预设的整定参数运行，并接收每一所述轴组整定系统中各个伺服轴反馈回来的带有时间信息的数据帧；时间差计算单元，用于计算每一所述轴组整定系统中各个伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差作为所述实际响应时间差。8.根据权利要求6所述的装置，其特征在于，所述相位差模块，包括：运行信息单元，用于获取所述上位机发出的所述每一虚拟主轴的运行信息；指令生成单元，用于根据所述每一虚拟主轴的运行信息，转换生成对应的每一所述轴组整定系统中的各个伺服轴的各个指令信号，并将所述各个指令信号发送到匹配的各个伺服轴；相位控制单元，用于控制每一所述轴组整定系统中各个伺服轴按照所述指令信号运行，并确定每一所述轴组整定系统中各个伺服轴的实际响应相位；相位差计算单元，用于计算每一所述轴组整定系统中各个伺服轴的实际响应相位与所述指令信号间的相位偏差作为所述实际响应相位差。9.一种伺服设备的调试设备，其特征在于，包括存储器和处理器；所述存储器，用于存储程序；所述处理器，用于执行所述程序，实现如权利要求1-5中任一项所述的伺服设备的调试方法的各个步骤。10.一种可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时，实现如权利要求1-5中任一项所述的伺服设备的调试方法的各个步骤。
说明书desc
技术领域本申请涉及伺服领域，更具体地说，涉及伺服设备的调试方法、装置、设备和可读存储介质。背景技术为了适应更加柔性化，更加精准、高效、节能的产品加工、生产需求，目前工厂正在大规模的使用伺服系统来驱动机械装置。而随着伺服的大规模应用，伺服电气方案逐渐替代传统的机械实现方案，比如凸轮轴，同步轴等应用。为了确保能获得最佳的机械响应和控制效果，所有伺服系统在安装完毕后，都必须进行调试整定工作，以使得机械与伺服系统能达到最佳运行效果。伺服系统应用于两个或多个伺服轴之间存在严格的高精度轨迹配合的场景时，如双驱、轴组应用，由于机械负载不同、机械参数不同、受重力摩擦力等因素影响不同、运动形式不同、控制周期影响等众多因素的相互叠加，使得此类应用的调试工作存在极大困难和风险。目前针对两个或多个伺服轴之间存在严格的高精度轨迹配合的应用场景时，采用的是调整单个伺服系统至其最佳运动效果的方式。此类调整往往存在极大的不确定性，因为调整是针对的某一个伺服轴，而非对于整体系统而言，此时某一轴的性能好坏并不代表系统性能的好坏。因此，需要达到预期的系统运行效果，往往需要较长的调试过程，且对调试人员的现场经验要求极高，尤其是应用于多个伺服轴之间存在严格的高精度协同耦合时，每多增加一个具有协同耦合关系的伺服轴，系统调试难度和时间都会成倍的增长，使得调试工作无从下手，也无法判断是否已经是最佳调试效果，这就导致调试效率及其低下，设备运行效果不佳等。基于上述情况，本申请提出一种伺服设备的调试方案，以在两个或多个伺服轴之间存在严格的高精度轨迹配合的应用场景时，大幅简化和提高伺服调试效果。发明内容有鉴于此，本申请提供了一种伺服设备的调试方法、装置、设备和可读存储介质，以在两个或多个伺服轴之间存在严格的高精度轨迹配合的应用场景时，大幅简化和提高伺服调试效果。一种伺服设备的调试方法，包括：根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系；利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差；获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差；基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。可选的，利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，包括：利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧；控制每一所述轴组整定系统按照预设的整定参数运行，并接收每一所述轴组整定系统中各个伺服轴反馈回来的带有时间信息的数据帧；计算每一所述轴组整定系统中各个伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差作为所述实际响应时间差。可选的，获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，包括：获取所述上位机发出的所述每一虚拟主轴的运行信息；根据所述每一虚拟主轴的运行信息，转换生成对应的每一所述轴组整定系统中的各个伺服轴的各个指令信号，并将所述各个指令信号发送到匹配的各个伺服轴；控制每一所述轴组整定系统中各个伺服轴按照所述指令信号运行，并确定每一所述轴组整定系统中各个伺服轴的实际响应相位；计算每一所述轴组整定系统中各个伺服轴的实际响应相位与所述指令信号间的相位偏差作为所述实际响应相位差。可选的，还包括：观测每一所述轴组整定系统中各个伺服轴间是否存在共振，对存在共振的轴组整定系统的整定参数进行调整。可选的，还包括：确定每一所述轴组整定系统中的短板轴；根据所述短板轴与对应的所述虚拟主轴的协同耦合关系，以所述短板轴为指令信号的发起轴，以所述短板轴的所述实际响应时间差以及所述实际响应相位差为参考目标，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整。一种伺服设备的调试装置，包括：轴组态模块，用于根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系；时间差模块，用于利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差；相位差模块，用于获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差；参数调整模块，用于基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。可选的，所述时间差模块，包括：时间发送单元，用于利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧；时间反馈单元，用于控制每一所述轴组整定系统按照预设的整定参数运行，并接收每一所述轴组整定系统中各个伺服轴反馈回来的带有时间信息的数据帧；时间差计算单元，用于计算每一所述轴组整定系统中各个伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差作为所述实际响应时间差。可选的，所述相位差模块，包括：运行信息单元，用于获取所述上位机发出的所述每一虚拟主轴的运行信息；指令生成单元，用于根据所述每一虚拟主轴的运行信息，转换生成对应的每一所述轴组整定系统中的各个伺服轴的各个指令信号，并将所述各个指令信号发送到匹配的各个伺服轴；相位控制单元，用于控制每一所述轴组整定系统中各个伺服轴按照所述指令信号运行，并确定每一所述轴组整定系统中各个伺服轴的实际响应相位；相位差计算单元，用于计算每一所述轴组整定系统中各个伺服轴的实际响应相位与所述指令信号间的相位偏差作为所述实际响应相位差。可选的，还包括：共振观测单元，用于观测每一所述轴组整定系统中各个伺服轴间是否存在共振，对存在共振的轴组整定系统的整定参数进行调整。一种伺服设备的调试设备，包括存储器和处理器；所述存储器，用于存储程序；所述处理器，用于执行所述程序，实现如上述任一项所述的伺服设备的调试方法的各个步骤。一种可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时，实现如上述的任一项所述的伺服设备的调试方法的各个步骤。从上述的技术方案可以看出，本申请实施例提供的一种伺服设备的调试方法、装置、设备和可读存储介质，通过根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系。之后，利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差。获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差。最后，基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。本申请对存在协同耦合关系的多个轴进行组态，从而形成一个整体系统即轴组整定系统，并根据协同耦合关系创建每一所述轴组整定系统对应的每一虚拟主轴，每一轴组整定系统内的各个伺服轴均与每一虚拟主轴存在确定的运动耦合关系。基于轴组整定系统进行整体调试，具有以下技术效果：1、本申请中虚拟主轴是虚拟轴，可以是时间轴、位置轴、速度轴、扭矩轴和工艺轴等，它不存在机械磨损、摩擦滞后、受扰动等情况，大大简化系统调试过程；2、本申请针对轴组整定系统进行整定，而非单轴整定，能获得最直观，最有效的调试效果，并有效缩短调试周期。轴组整定系统作为一个整体，可使用预设的目标运行参数，对各组成轴进行约束、协调和管理；3、本申请各个轴组整定系统作为一个整体进行调试，可有效应对在多轴联动时所产生的机械共振，也可通过以系统中存在难以优化提升效果的短板轴为发起轴，规避轴组整定系统中存在无法通过优化改进或提升其响应性的伺服轴时，因短板效应导致调试效果不佳的问题，这在传统的单轴整定方法中难以有效解决；4、本申请中调试完成的轴组整定系统，参数可以修改、保存、复制、移植、删除、恢复等操作，有利于一台设备中拥有多个重复轴组整定系统的场合；5、本申请基于上位机实现，后续可以引入训练模型对调试过程和数据进行学习、分析，最终帮助完成最佳运行参数整定，同时可以针对控制周期、设备节点顺序等进行精细化的指令补偿。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本申请实施例公开的一种理论上X轴和Y轴走出距离图；图2为本申请实施例公开的一种实际上X轴和Y轴走出距离图；图3为本申请实施例公开的一种双驱龙门结构的示意图；图4为本申请实施例公开的一种伺服设备的调试方法的流程图；图5为本申请实施例公开的一种伺服设备的调试方法的示意图；图6为本申请实施例公开的一种伺服设备的调试实例的示意图；图7为本申请实施例公开的一种伺服设备的调试实例的启动时间差的示意图；图8为本申请公开的一种伺服设备的调试装置的结构框图；图9为本申请公开的一种伺服设备的调试设备的硬件结构框图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。目前针对两个或多个伺服轴之间存在严格的高精度轨迹配合的应用场景时，采用的是调整单个伺服系统至其最佳运动效果的方式。此类调整往往存在极大的不确定性，因为调整是针对的某一个伺服轴，而非对于整体系统而言，此时某一轴的性能好坏并不代表系统性能的好坏。例如XY轴组成的一个二维平面中，X轴和Y轴的负载可能不同，假设X轴的负载较小，而Y轴负载较重，那么意味着X轴的响应性在同等驱动能力下更高，而Y轴响应会相对滞后。此时单独针对XY轴分别调整后，如果要在XY平面内执行一条45°的斜向直线轨迹。理论上在T1时刻，X轴应该走出1mm距离，Y轴应该走出1mm距离；T2时刻，X轴应该走出2mm距离，Y轴应该走出2mm距离，如图1所示，最终呈现的是XY共同完成一条45°的斜直线。但实际上由于XY响应性不同，T1时刻，X轴已经先行到达1mm位置，Y轴则由于滞后仅抵达0.7mm位置；T2时刻，X轴已经先行抵达2mm位置，Y轴则仅抵达1.4mm位置，再例如，XY轴因在通讯网络拓扑的节点位置不同，导致接收的指令信号存在时间差，执行时也势必会受到影响，从而导致XY在T1、T2时刻到达位置有区别，最终如图2所示，执行出来的并不是一条直线。此外，还有另一种情况为双驱伺服机械系统，即由两个伺服系统共同驱动某一个机械部件运动的系统，典型的如双驱龙门结构。如图3所示，双驱龙门结构采用两个轴共同驱动某一机械结构，因此两轴间存在刚性连接，此时使用单轴调试X轴或Y轴时，很可能不具备调试条件，或者因刚性连接存在的机械作用导致轴参数调整识别出现偏差的情况。考虑到上述情况，本申请提供了一种伺服设备的调试方法、装置、设备和可读存储介质，以在两个或多个伺服轴之间存在严格的高精度轨迹配合的应用场景时，大幅简化和提高伺服调试效果。图4为本申请实施例公开的一种伺服设备的调试方法的流程图，如图4所示，该方法可以包括：步骤S1、根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴。具体的，本申请对伺服设备中存在协同耦合关系的多个轴进行组态，形成一个或多个轴组整定系统，每一轴组整定系统中的各个轴互相存在协同耦合关系。对于每一轴组整定系统指定其中的虚拟主轴，可指定轴组整定系统中的主轴或设置虚拟轴为对应虚拟主轴，虚拟主轴可由控制器生成，根据数学模型生成的虚拟对象。在实际应用中，可根据实际的协同耦合的运动关系，或工艺需求，指定轴组整定系统中的某一伺服轴或创建一个虚拟主轴，该虚拟主轴可以是时间轴，位置轴，速度轴，扭矩轴，或者是工艺轴。例如生成一个时间轴，并可以根据需要设定循环。再例如，输送带场景中，可以将输送带的线速度作为一个虚拟主轴，其他多个伺服轴通过物理关系换算后得到跟线速度一致的运行速度，并紧紧跟随线速度的虚拟主轴变化而变化。例如上文中提到的典型龙门系统，可以创建一个虚拟指令轴Xv，用于代表龙门系统中在X轴方向的移动向量，Xv与X1、X2间存在可确定的物理关系。且由于虚拟轴不存在机械磨损，摩擦滞后等情况，这将大大简化系统调试过程。步骤S2、利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差。具体的，如图5所示，本申请利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差。利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差的过程，具体可以包括：①利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧。②控制每一所述轴组整定系统按照预设的整定参数运行，并接收每一所述轴组整定系统中各个伺服轴反馈回来的带有时间信息的数据帧。③计算每一所述轴组整定系统中各个伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差作为所述实际响应时间差。步骤S3、获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差。具体的，如图5所示，本申请通过获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，因创建的虚拟主轴与每一所述轴组整定系统中的各个伺服轴之间存在确定的协同耦合关系，因此观测每一所述轴组整定系统中的各个伺服轴的实际运行信息，即可确定每一所述虚拟主轴与对应的每一所述轴组整定系统中的各个伺服轴之间的实际响应相位差。确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差。获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差的过程，具体可以包括：①获取所述上位机发出的所述每一虚拟主轴的运行信息。②根据所述每一虚拟主轴的运行信息，转换生成对应的每一所述轴组整定系统中的各个伺服轴的各个指令信号，并将所述各个指令信号发送到匹配的各个伺服轴。③控制每一所述轴组整定系统中各个伺服轴按照所述指令信号运行，并确定每一所述轴组整定系统中各个伺服轴的实际响应相位。④计算每一所述轴组整定系统中各个伺服轴的实际响应相位与所述指令信号间的相位偏差作为所述实际响应相位差。步骤S4、基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。具体的，本申请针对轴组整定系统进行整定，而非单轴整定，按照每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统的整定参数进行调整，直至每一所述轴组整定系统运行符合预期，能获得最直观，最有效的调试效果，并有效缩短调试周期。轴组整定系统作为一个整体，可使用预设的目标运行参数，对各组成轴进行约束、协调和管理。且调试完成的轴组整定系统，参数可以修改、保存、复制、移植、删除、恢复等操作，有利于一台设备中拥有多个重复轴组整定系统的场合。对于不同伺服设备通常存在设备数量差异，程序量、计算量差异等因素，这些因素也会影响伺服调试整定结果。而在上位机配置、组态的好处此时得以凸显。可以针对控制周期、物理网络拓扑结构、实际设备节点顺序等进行精细化补偿。对于如图6所示的伺服设备，伺服设备中存在超过100个伺服轴，且需要交换的数据量较大。由主站发送的包含控制指令的数据帧在到达各个伺服轴的时间存在差异。在该伺服设备中，伺服轴1、2、25、26、106轴存在需要协调与管理关系。此时上位机发出统一的开始指令后，如图7所示，伺服轴1与伺服轴106在时间上将存在一个启动差，此时若使用单轴调试情况下，尽管保障伺服轴1和伺服轴106的整定参数是同样的响应效果，但实际执行时却无法达到满意的效果。而在本申请中，伺服轴1和伺服轴106将组态在同一个轴组整定系统中，进而达到良好的调试效果。可选的，还包括：步骤S5、观测每一所述轴组整定系统中各个伺服轴间是否存在共振，对存在共振的轴组整定系统的整定参数进行调整。具体的，本申请各个轴组整定系统作为一个整体进行调试，可有效应对在多轴联动时，所产生的机械共振，这在传统的单轴整定方法中难以有效解决。此外，在考虑到实际应用中，存在通过观测时间差、相位差以及优化调整，依然在每一所述轴组整定系统中无法通过优化改进或提升其响应性的伺服轴即短板轴时，可以通过指定此轴为指令信号的发起轴进行整体调整。本申请还可以包括：步骤S6、确定每一所述轴组整定系统中的短板轴。步骤S7、根据所述短板轴与对应的所述虚拟主轴的协同耦合关系，以所述短板轴为指令信号的发起轴，以所述短板轴的所述实际响应时间差以及所述实际响应相位差为参考目标，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整。具体的，本申请可通过设置确立条件，将多次调整后仍然与虚拟主轴存在较大时间差和相位差的轴确定为短板轴，或直接通过人工设置短板轴确定所述轴组整定系统中的短板轴。由于短板轴无法通过优化改进或提升其响应性，类似于水桶中的短板，其不协同性对轴组整定系统整体影响较大，因此为达到更好的协同运行效果，可通过指定短板轴为指令信号的发起轴，此时将短板轴与虚拟主轴的协同耦合关系确定后，轴组内其他伺服轴将以短板轴作为指令信号的发起轴进行协同耦合，并以所述短板轴的所述实际响应时间差以及所述实际响应相位差为参考目标，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，这将使得各个伺服轴间配合效果更佳。从上述的技术方案可以看出，本申请实施例提供的一种伺服设备的调试方法、装置、设备和可读存储介质，通过根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系。之后，利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差。获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差。最后，基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。本申请对存在协同耦合关系的多个轴进行组态，从而形成一个整体系统即轴组整定系统，并根据协同耦合关系创建每一所述轴组整定系统对应的每一虚拟主轴，每一轴组整定系统内的各个伺服轴均与每一虚拟主轴存在确定的运动耦合关系。基于轴组整定系统进行整体调试，具有以下技术效果：1、本申请中虚拟主轴是虚拟轴，可以是时间轴、位置轴、速度轴、扭矩轴和工艺轴等，它不存在机械磨损、摩擦滞后、受扰动等情况，大大简化系统调试过程；2、本申请针对轴组整定系统进行整定，而非单轴整定，能获得最直观，最有效的调试效果，并有效缩短调试周期。轴组整定系统作为一个整体，可使用预设的目标运行参数，对各组成轴进行约束、协调和管理；3、本申请各个轴组整定系统作为一个整体进行调试，可有效应对在多轴联动时所产生的机械共振，也可通过以系统中存在难以优化提升效果的短板轴为发起轴，规避轴组整定系统中存在无法通过优化改进或提升其响应性的伺服轴时，因短板效应导致调试效果不佳的问题，这在传统的单轴整定方法中难以有效解决；4、本申请中调试完成的轴组整定系统，参数可以修改、保存、复制、移植、删除、恢复等操作，有利于一台设备中拥有多个重复轴组整定系统的场合；5、本申请基于上位机实现，后续可以引入训练模型对调试过程和数据进行学习、分析，最终帮助完成最佳运行参数整定，同时可以针对控制周期、设备节点顺序等进行精细化的指令补偿。下面对本申请实施例提供的伺服设备的调试装置进行描述，下文描述的伺服设备的调试装置与上文描述的伺服设备的调试方法可相互对应参照。参见图8，图8为本申请实施例公开的一种伺服设备的调试装置的结构框图。如图8所示，所述伺服设备的调试装置可以包括：轴组态模块110，用于根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系；时间差模块120，用于利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差；相位差模块130，用于获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差；参数调整模块140，用于基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。从上述的技术方案可以看出，本申请实施例提供的一种伺服设备的调试方法、装置、设备和可读存储介质，通过根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系。之后，利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差。获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差。最后，基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。本申请对存在协同耦合关系的多个轴进行组态，从而形成一个整体系统即轴组整定系统，并根据协同耦合关系创建每一所述轴组整定系统对应的每一虚拟主轴，每一轴组整定系统内的各个伺服轴均与每一虚拟主轴存在确定的运动耦合关系。基于轴组整定系统进行整体调试，具有以下技术效果：1、本申请中虚拟主轴是虚拟轴，可以是时间轴、位置轴、速度轴、扭矩轴和工艺轴等，它不存在机械磨损、摩擦滞后、受扰动等情况，大大简化系统调试过程；2、本申请针对轴组整定系统进行整定，而非单轴整定，能获得最直观，最有效的调试效果，并有效缩短调试周期。轴组整定系统作为一个整体，可使用预设的目标运行参数，对各组成轴进行约束、协调和管理；3、本申请各个轴组整定系统作为一个整体进行调试，可有效应对在多轴联动时所产生的机械共振，也可通过以系统中存在难以优化提升效果的短板轴为发起轴，规避轴组整定系统中存在无法通过优化改进或提升其响应性的伺服轴时，因短板效应导致调试效果不佳的问题，这在传统的单轴整定方法中难以有效解决；4、本申请中调试完成的轴组整定系统，参数可以修改、保存、复制、移植、删除、恢复等操作，有利于一台设备中拥有多个重复轴组整定系统的场合；5、本申请基于上位机实现，后续可以引入训练模型对调试过程和数据进行学习、分析，最终帮助完成最佳运行参数整定，同时可以针对控制周期、设备节点顺序等进行精细化的指令补偿。可选的，所述时间差模块，可以包括：时间发送单元，用于利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧；时间反馈单元，用于控制每一所述轴组整定系统按照预设的整定参数运行，并接收每一所述轴组整定系统中各个伺服轴反馈回来的带有时间信息的数据帧；时间差计算单元，用于计算每一所述轴组整定系统中各个伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差作为所述实际响应时间差。可选的，所述相位差模块，可以包括：运行信息单元，用于获取所述上位机发出的所述每一虚拟主轴的运行信息；指令生成单元，用于根据所述每一虚拟主轴的运行信息，转换生成对应的每一所述轴组整定系统中的各个伺服轴的各个指令信号，并将所述各个指令信号发送到匹配的各个伺服轴；相位控制单元，用于控制每一所述轴组整定系统中各个伺服轴按照所述指令信号运行，并确定每一所述轴组整定系统中各个伺服轴的实际响应相位；相位差计算单元，用于计算每一所述轴组整定系统中各个伺服轴的实际响应相位与所述指令信号间的相位偏差作为所述实际响应相位差。可选的，所述伺服设备的调试装置，还可以包括：共振观测单元，用于观测每一所述轴组整定系统中各个伺服轴间是否存在共振，对存在共振的轴组整定系统的整定参数进行调整。可选的，所述伺服设备的调试装置，还可以包括：短板确定单元，用于确定每一所述轴组整定系统中的短板轴；短板调整单元，用于根据所述短板轴与对应的所述虚拟主轴的协同耦合关系，以所述短板轴为指令信号的发起轴，以所述短板轴的所述实际响应时间差以及所述实际响应相位差为参考目标，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整。本申请实施例提供的伺服设备的调试装置可应用于伺服设备的调试设备。图9示出了伺服设备的调试设备的硬件结构框图，参照图9，伺服设备的调试设备的硬件结构可以包括：至少一个处理器1，至少一个通信接口2，至少一个存储器3和至少一个通信总线4；在本申请实施例中，处理器1、通信接口2、存储器3、通信总线4的数量为至少一个，且处理器1、通信接口2、存储器3通过通信总线4完成相互间的通信；处理器1可能是一个中央处理器CPU，或者是特定集成电路ASIC，或者是被配置成实施本发明实施例的一个或多个集成电路等；存储器3可能包含高速RAM存储器，也可能还包括非易失性存储器等，例如至少一个磁盘存储器；其中，存储器存储有程序，处理器可调用存储器存储的程序，所述程序用于：根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系；利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差；获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差；基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。可选地，所述程序的细化功能和扩展功能可参照上文描述。本申请实施例还提供一种可读存储介质，该可读存储介质可存储有适于处理器执行的程序，所述程序用于：根据伺服设备中各个伺服轴之间的协同耦合关系，将所述各个伺服轴组态成一个或多个轴组整定系统，并创建与每一所述轴组整定系统对应的每一虚拟主轴，每一所述轴组整定系统内的各个伺服轴均与对应的每一所述虚拟主轴构成协同耦合关系；利用上位机主站时钟向每一所述轴组整定系统发出带有参考时间戳的数据帧，确定每一所述轴组整定系统中各个伺服轴的实际响应时间差，所述实际响应时间差为伺服轴反馈回来的数据帧带有的时间信息与所述参考时间戳之间的时间差；获取所述上位机发出的所述每一虚拟主轴的运行信息，转换为各个指令信号发送至与所述每一虚拟主轴对应的每一所述轴组整定系统中的各个伺服轴，确定每一所述轴组整定系统中各个伺服轴的实际响应相位差，所述实际响应相位差为所述伺服轴实际响应相位与所述指令信号间的相位偏差；基于每一所述轴组整定系统中各个伺服轴的所述实际响应时间差以及所述实际响应相位差，对每一所述轴组整定系统内的各个伺服轴的整定参数进行调整，直至每一所述轴组整定系统运行符合预期。可选地，所述程序的细化功能和扩展功能可参照上文描述。最后，还需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本申请。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本申请的精神或范围的情况下，在其它实施例中实现。因此，本申请将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
