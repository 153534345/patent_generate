标题title
一种信号控制电路
摘要abst
本申请实施例公开一种信号控制电路，涉及信号处理技术领域，所述信号控制电路包括：信号源模块、开关矩阵电路和控制器，其中，所述信号源模块被配置为提供所述开关矩阵电路所需的信号源，所述信号源包括直流信号和/或交流信号；所述开关矩阵电路连接至所述信号源模块，包括用于传输直流信号的第一传输链路和用于传输交流信号的第二传输链路；所述控制器被配置为对所述开关矩阵电路进行开关选通，以便将信号源引导至对应的传输链路。本申请能够根据需要实现直流、交流控制，且测试时不同信号类型走不同的路径，使得交直流信号互不干扰，保证了信号不失真，能够进行大规模信号环路诊断。
权利要求书clms
1.一种信号控制电路，其特征在于，包括：信号源模块、开关矩阵电路和控制器，其中，所述信号源模块被配置为提供所述开关矩阵电路所需的信号源，所述信号源包括直流信号和/或交流信号；所述开关矩阵电路连接至所述信号源模块，包括用于传输直流信号的第一传输链路和用于传输交流信号的第二传输链路；所述控制器被配置为对所述开关矩阵电路进行开关选通，以便将信号源引导至对应的传输链路。2.根据权利要求1所述的电路，其特征在于，所述第一传输链路包括第一开关矩阵，所述第一开关矩阵用于将信号选通至假负载回路和/或第三方应用场景；所述第二传输链路包括第二开关矩阵，所述第二开关矩阵用于将信号选通至第三方应用场景和/或自测试电路和/或回环电路。3.根据权利要求2所述的电路，其特征在于，所述假负载回路包括：假负载矩阵、用于选通假负载矩阵的第三开关矩阵以及外接于假负载矩阵两侧的万用表。4.根据权利要求3所述的电路，其特征在于，所述假负载矩阵采用电阻矩阵，所述电阻矩阵中各电阻的阻值不同，以适用不同的直流信号。5.根据权利要求3所述的电路，其特征在于，所述第一开关矩阵和第三开关矩阵采用光耦开关矩阵或机械继电器开关矩阵，第二开关矩阵采用模拟开关矩阵。6.根据权利要求1所述的电路，其特征在于，所述第二传输链路包括第四开关矩阵，以便为第二传输链路隔离直流信号。7.根据权利要求1或6所述的电路，其特征在于，所述信号源模块内部设置有隔离开关，以便为所述第一传输链路隔离交流信号。8.根据权利要求1所述的电路，其特征在于，所述控制器通过输入/输出扩展芯片实现对所述开关矩阵电路的逻辑控制。9.根据权利要求8所述的电路，其特征在于，所述信号源模块、控制器、输入/输出扩展芯片以及开关矩阵电路通过集成电路总线通讯。
说明书desc
技术领域本申请涉及信号处理技术领域，更具体地，本申请涉及一种信号控制电路。背景技术信号控制领域以及半导体应用领域需要大规模的开关矩阵，以实现信号流的控制以及精密测量。当前业界常用模拟开关、机械继电器或者光耦实现信号的切换，主要是对单一类型的信号，通过控制电路直接对开关矩阵进行开和关，以实现基本的信号流控制，但是很难保证信号的测量精度和可靠性。基于单体器件的工作原理，在复杂逻辑电路快速切换以及精密测量领域使用受到限制，信号既可以为直流也可以为交流的复杂信号源同时对信号的测量精度有要求，例如半导体测试领域和源表设备等。现有开关矩阵的应用范围窄，且应用场景受限于开关器件的限制只能应用在一种场景下，比如直流应用或者交流应用。发明内容因此，本申请提供一种信号控制电路，能够根据需要实现直流、交流控制，且交直流信号互不干扰，保证了信号不失真。为了达到上述目的中至少一个，本申请采用下述技术方案：本申请提供一种信号控制电路，包括：信号源模块、开关矩阵电路和控制器，其中，所述信号源模块被配置为提供所述开关矩阵电路所需的信号源，所述信号源包括直流信号和/或交流信号；所述开关矩阵电路连接至所述信号源模块，包括用于传输直流信号的第一传输链路和用于传输交流信号的第二传输链路；所述控制器被配置为对所述开关矩阵电路进行开关选通，以便将信号源引导至对应的传输链路。在一个具体实施例中，所述第一传输链路包括第一开关矩阵，所述第一开关矩阵用于将信号选通至假负载回路和/或第三方应用场景；所述第二传输链路包括第二开关矩阵，所述第二开关矩阵用于将信号选通至第三方应用场景和/或自测试电路和/或回环电路。在一个具体实施例中，所述假负载回路包括：假负载矩阵、用于选通假负载矩阵的第三开关矩阵以及外接于假负载矩阵两侧的万用表。在一个具体实施例中，所述假负载矩阵采用电阻矩阵，所述电阻矩阵中各电阻的阻值不同，以适用不同的直流信号。在一个具体实施例中，所述第一开关矩阵和第三开关矩阵采用光耦开关矩阵或机械继电器开关矩阵，第二开关矩阵采用模拟开关矩阵。在一个具体实施例中，所述第二传输链路包括第四开关矩阵，以便为第二传输链路隔离直流信号。在一个具体实施例中，所述信号源模块内部设置有隔离开关，以便为所述第一传输链路隔离交流信号。在一个具体实施例中，所述控制器通过输入/输出扩展芯片实现对所述开关矩阵电路的逻辑控制。在一个具体实施例中，所述信号源模块、控制器、输入/输出扩展芯片以及开关矩阵电路通过集成电路总线通讯。本申请的有益效果如下：针对目前现有技术中存在的问题，本申请提供一种信号控制电路，能够根据需要实现直流、交流控制，且交流信号和直流信号互不干扰，从而保证了信号不失真，能够节省源表的开销，阻抗匹配一致性容易控制。附图说明下面结合附图对本发明的具体实施方式作进一步详细的说明。图1示出本申请的一个实施例中的一种信号控制电路的结构示意图。图2示出本申请的一个实施例中的一种信号控制电路的直流信号支路光耦开关矩阵连接电路图。图3示出本申请的一个实施例中的一种信号控制电路的机械继电器开关矩阵图。图4示出本申请的一个实施例中的一种信号控制电路的假负载矩阵电路图。图5示出本申请的一种实施例中的一种信号控制电路的保护电路开关矩阵和高速模拟开关矩阵电路连接图。具体实施方式在下述的描述中，出于说明的目的，为了提供对一个或者多个实施方式的全面理解，阐述了许多具体细节。然而，很明显，也可以在没有这些具体细节的情况下实现这些实施方式。在本申请的描述中，需要说明的是，术语“上”、“下”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本申请和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本申请的限制。除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本申请中的具体含义。还需要说明的是，在本申请的描述中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。为解决现有技术中存在的问题，本申请的一个实施例提供一种信号控制电路，如图1所示，包括：信号源模块12、开关矩阵电路和控制器11，其中，所述信号源模块12被配置为提供所述开关矩阵电路所需的信号源，所述信号源包括直流信号和/或交流信号；所述开关矩阵电路连接至所述信号源模块12，包括用于传输直流信号的第一传输链路和用于传输交流信号的第二传输链路；所述控制器11被配置为对所述开关矩阵电路进行开关选通，以便将信号源引导至对应的传输链路。本实施例通过设置控制器11、信号源模块12和开关矩阵电路，实现了根据需要切换直流控制和交流控制，且直流信号和交流信号对应不同的传输链路，二者互不干扰，保证了信号不失真。在一个具体的实施例中，所述第一传输链路包括第一开关矩阵131，所述第一开关矩阵131用于将信号选通至假负载回路14和/或第三方应用场景15。所述第二传输链路包括第二开关矩阵132，所述第二开关矩阵132用于将信号选通至第三方应用场景15和/或自测试电路16和/或回环电路17。在一种可能的实现方式中，所述假负载回路14包括假负载矩阵141、用于选通假负载矩阵的第三开关矩阵142以及外接于假负载矩阵两侧的万用表143，其中，所述假负载矩阵141采用电阻矩阵，如图4所示，为所述电阻矩阵的结构示意图，所述电阻矩阵中各电阻的阻值不同，以适用不同的直流信号，其中，所述电阻为低温漂精密电阻。本实施例通过设置假负载回路14实现了对信号源的测量和校准，使得该电路能够适应多种应用场景例如测量、校准、作为参考源使用等。在一种可能的实现方式中，所述第一开关矩阵131和第三开关矩阵142采用光耦开关矩阵或机械继电器开关矩阵，第二开关矩阵132采用模拟开关矩阵。在一个具体的实施例中应用场景为连接光耦开关矩阵，即第一开关矩阵131和第三开关矩阵142为光耦开关矩阵，光耦开关矩阵电路图如图2所示，通过光耦开关矩阵实现应用场景的控制。在一个具体的实施例中应用场景为机械继电器开关矩阵，即第一开关矩阵131和第三开关矩阵142为机械继电器开关矩阵，机械继电器开关矩阵电路图如图3所示，通过机械继电器开关矩阵实现应用场景的控制。在另一个具体实施例中，在第一传输链路上，当应用场景为测量信号的电流值时，所述假负载回路14导通，在测量信号的电压值时，所述假负载回路14则断开连接。在一种可能的实现方式中，所述第二传输链路包括第四开关矩阵133，以便为第二传输链路隔离直流信号。本实施例通过设置第四开关矩阵133确保第二传输链路仅包括交流信号，保证了信号的完整性。在一个具体实施例中，所述直流信号支路导通时，通过所述第四开关矩阵133关断交流信号支路，仅需要断开一级交流矩阵，即可起到隔离交流分量的作用，提升直流信号的测量精度。在一个具体实施例中，所述信号源模块12内部设置有隔离开关，以便为所述第一传输链路隔离交流信号。在一个具体的实施例中，所述控制器11通过输入/输出扩展芯片18实现对所述开关矩阵电路的逻辑控制，其中，所述信号源模块12、控制器11、输入/输出扩展芯片18以及开关矩阵电路通过集成电路总线或串行控制总线通讯，其中，所述输入/输出扩展芯片18采用PCA9506芯片。在一个具体的实施例中，所述假负载矩阵141通过对外接口连接数字万用表143，通过高精度数字万用表，即源表，实现四线电阻测量，对信号进行测量和校准以及作为参考源使用，所述数字万用表测量的数据精度在小数点后7位，提高了测量精度。在实际使用中，通过开关矩阵切换直流信号到假负载回路14，通过第三方高精度数字万用表实现四线电阻测量，对信号源测量和校准以及作为参考源使用。本实施例能够实现对直流和交流信号的测量，节省了源表的开销，阻抗匹配一致性容易控制。相较于本实施例，现有技术需要多台数字源表才能实现多通道的测试和应用，本申请只需要在直流信号通路中使用源表对假负载电阻进行测量，在交流信号通路中对一个通道进行校准，即可脱离源表的束缚。在一个具体实施例中，如图5所示，所述第四开关矩阵133由第一电阻开关矩阵和第二电阻开关矩阵组成；所述第二开关矩阵132由32位高速模拟开关矩阵组成。在一个具体实施例中，所述第一电阻开关矩阵用于保护电路和在直流信号支路导通时关断交流信号支路；所述第二电阻开关矩阵用于保护电路。所述自测试电路16用于连接所述第三方应用场景15进行不同需求的测试场景。所述第三方应用场景15包括环路测试与诊断测试场景、应用与功能开发场景和示波器信号质量测试场景，通过对开关矩阵的选通控制实现不同应用场景的切换，不同的开关矩阵对每种应用场景的适用性不同，本申请的电路结构能够适用各种不同的应用场景，解决了传统电路结构应用场景单一性的问题。以上对于每个开关矩阵类型的选择可以根据具体需求进行选择，本申请不做具体限定。在一个具体实施例中，所述控制器11通过控制总线与输入/输出扩展芯片18的第一端连接；所述输入/输出扩展芯片18的第二端与所述第一开关矩阵131的第一端连接，第三端与所述第四开关矩阵133的第一端连接；所述信号源模块12的第一端与所述第一开关矩阵131的第二端连接；所述信号源模块12的第二端与所述第四开关矩阵133的第二端连接；所述第一开关矩阵131的第三端与所述第三开关矩阵142的第一端连接；所述第三开关矩阵142的第二端与所述假负载矩阵141的第一端连接；所述假负载矩阵141的第二端与所述万用表143的第一端连接，所述万用表143通过接口外接于所述假负载矩阵141；所述第三方应用场景15的第一端与所述第一开关矩阵131的第四端连接形成测量回路；所述第四开关矩阵133的第三端与所述第二开关矩阵132的第一端连接；所述第二开关矩阵132的第二端与所述自测试电路16的第一端连接；所述第二开关矩阵132的第三端与所述回环电路17一端连接；所述第二开关矩阵132的第四端与所述第三方应用场景15的另一端连接。本实施例在交流应用时通过信号源模块12内部开关把直流分量隔离，确保交流分量只在高速路径上传输，以确保信号完整性。通过设置第二开关矩阵的电平高低让信号在应用中实现本地自测试、环路测试以及外接设备应用。下面，本申请给出一个具体实施例中直流信号支路的一个具体应用场景：S1、控制器通过控制总线发出逻辑信号控制输入输出扩展芯片控制开关矩阵进行开关选通；S2、将第一开关矩阵设置为LS53：0x25_P4_1； LS52：0x25_P4_2 &amp; LS51：0x25_P4_0；即将机械继电器开关矩阵设置为高电平；其中，所述第一开关矩阵为机械继电器开关矩阵，LS53、LS52和LS51为机械继电器开关矩阵内的开关名称，如图3所示，0x25为地址位，P4_1、P4_2和P4_0为机械继电器开关矩阵内的控制器编号；例如P4_1表示机械继电器开关矩阵内的第四个控制器的第二个路径，对于其他编号的含义与此类似，这里不再进行赘述。将假负载低温漂精密电阻设置到0，即低电平；将第四开关矩阵设置为高电平，用于将交流分量断开，提升直流信号测量的精度，其中，所述第四开关矩阵为第一电阻开关矩阵；S3、假负载矩阵通过对外接口连接数字万用表，在数字万用表上读取测量结果，并存储到数据存储器，保留小数点后７位有效数字，得到参考电流；S4、当应用需要连接到第三应用场景模块扩展更多应用场景时，配置LS53、LS52和LS51设置到0并断开假负载。本申请还给出一个具体实施例中交流信号支路的一个具体应用场景：S1、控制器11通过输入/输出扩展芯片18控制直流信号关断；S2、交流信号从如图5中的U_0通道注入到第四开关矩阵，其中，所述第四开关矩阵为高速模拟开关矩阵，将0x20_P2_0设置为1，打开交流通道；0x21_P2_0设置为1，关闭直流分量；0x20_P4_4或0x21_P4_0设置为1，使交流信号走向第二开关矩阵132，其中，0x20和0x21为地址位，P2_0、P4_0和P4_4为高速模拟开关矩阵内的控制器编号；例如P2_0表示第二个控制器的第一个路径，对于其他编号的含义与此类似，这里不再进行赘述。S3、通过切换第二开关矩阵实现不同的应用功能，使交流信号走向自测试电路16、回环电路17或第三方应用场景15。本申请通过进行直流/交流测试可以节省源表的开销，阻抗匹配一致性容易控制。现有技术需要多台数字源表才能实现多通道的测试和应用，而本申请只需要使用源表对假负载电阻测量以及交流时对一个通道校准，即可脱离源表的束缚，让源表作为通用的参考设备。本申请通过不同信号类型走不同的路径，实现了电路性能最大化、得到了高可靠性数据、能够进行大规模信号环路诊断，还能保证信号不失真。显然，本发明的上述实施例仅仅是为清楚地说明本发明所作的举例，而并非是对本发明的实施方式的限定，对于所属领域的普通技术人员来说，在上述说明的基础上还可以做出其它不同形式的变化或变动，这里无法对所有的实施方式予以穷举，凡是属于本发明的技术方案所引伸出的显而易见的变化或变动仍处于本发明的保护范围之列。
