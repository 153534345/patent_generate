标题title
一种eMMC芯片的数据载入能力的测试装置和测试方法
摘要abst
本发明提供一种eMMC芯片的数据载入能力的测试装置和测试方法，属于eMMC芯片测试领域。装置包括：输入电流设置模块，用于将所述eMMC芯片的多个数据IO接口的输入电流均置为额定电流；判断模块，用于在所述额定电流的基础上，判断所述数据IO接口的数据载入能力是否超出标称值，并输出相应的判断信号；档位调节模块，用于当所述判断信号表示数据载入能力超出标称值时，控制所述eMMC芯片将数据载入档位下调。采用本发明，可以在封装测试期间快速实现对eMMC芯片的数据载入能力的测试和调整，提高整体的预期效果。
权利要求书clms
1.一种eMMC芯片的数据载入能力的测试装置，其特征在于，所述装置包括：输入电流设置模块，用于将所述eMMC芯片的多个数据IO接口的输入电流均置为额定电流；判断模块，用于在所述额定电流的基础上，判断所述数据IO接口的数据载入能力是否超出标称值，并输出相应的判断信号；档位调节模块，用于当所述判断信号表示数据载入能力超出标称值时，控制所述eMMC芯片将数据载入档位下调。2.根据权利要求1所述的装置，其特征在于，所述输出电流设置模块包括多级电流镜电路，每级电流镜电路的输出端分别与所述eMMC芯片的每个数据IO接口连接；所述电流镜电路，用于基于预设电流和预设电压，将其每级输出端的电流置为所述eMMC芯片的额定电流。3.根据权利要求1所述的装置，其特征在于，所述判断模块的输入端用于接收所述数据IO接口的输出电压；所述判断模块，用于：当所述输出电压小于基准电压时，输出第一判断信号，所述第一判断信号用于表示数据载入能力超出标称值；当所述输出电压不小于基准电压时，输出第二判断信号，所述第二判断信号用于表示数据载入能力达到标称值。4.根据权利要求3所述的装置，其特征在于，所述档位调节模块，用于当所述判断模块输出所述第一判断信号时，输出档位调节信号，所述档位调节信号用于下调所述eMMC芯片的数据载入档位。5.根据权利要求4所述的装置，其特征在于，所述装置还包括切换模块；所述切换模块，用于：当所述判断模块输出所述第一判断信号时，将所述数据IO接口从测试电路切换至通信通道，以使所述eMMC芯片接收所述档位调节信号；在所述eMMC芯片的数据载入档位下调后，将所述数据IO接口切换回所述测试电路。6.一种eMMC芯片的数据载入能力的测试方法，其特征在于，所述方法包括：将所述eMMC芯片的多个数据IO接口的输入电流均置为额定电流；在所述额定电流的基础上，判断所述数据IO接口的数据载入能力是否超出标称值；当所述数据IO接口的数据载入能力超出标称值时，控制所述eMMC芯片将数据载入档位下调，直至所述数据IO接口的数据载入能力达到标称值，或所述数据载入档位达到最低档位。7.根据权利要求6所述的方法，其特征在于，所述判断所述数据IO接口的数据载入能力是否超出标称值，包括：判断所述数据IO接口的输出电压是否小于基准电压；当所述输出电压小于基准电压时，输出第一判断信号，所述第一判断信号用于表示数据载入能力超出标称值；当所述输出电压不小于基准电压时，输出第二判断信号，所述第二判断信号用于表示数据载入能力达到标称值。8.根据权利要求6所述的方法，其特征在于，所述方法还包括：当所述数据IO接口的数据载入能力超出标称值时，将所述数据IO接口从测试电路切换至通信通道，以使所述eMMC芯片接收档位调节信号；在所述eMMC芯片的数据载入档位下调后，将所述数据IO接口切换回所述测试电路。9.一种电子设备，包括：如权利要求1-5中任一项所述的装置；处理器；以及存储程序的存储器，其中，所述程序包括指令，所述指令在由所述处理器执行时使所述处理器执行根据权利要求6-8中任一项所述的方法。10.一种存储有计算机指令的非瞬时计算机可读存储介质，其中，所述计算机指令用于使计算机执行根据权利要求6-8中任一项所述的方法。
说明书desc
技术领域本发明涉及eMMC芯片测试领域，尤其涉及一种eMMC芯片的数据载入能力的测试装置和测试方法。背景技术eMMC芯片的数据载入能力直接影响输入信号识别正确率。目前通用的测试方法为，选取一批样片，通过测量这批样片的数据载入档位，确定一个数据载入档位的窗口，选择窗口中间值。在封装eMMC芯片时，将数据载入设置为上述窗口中间值，并认为通过这样的设置，大部分的eMMC芯片的数据载入能力可以落在预期范围内。但是，上述方法的预期效果取决于选取的样片的好坏，样片并不能够代表所有的eMMC芯片，并不能很好地保证eMMC芯片的数据载入能力的统一并且达到预期。因此，亟需一种新的测试装置以及相应的测试方法，以提高数据载入能力的预期效果。发明内容为了解决现有技术的问题，本发明实施例提供了一种eMMC芯片的数据载入能力的测试装置和测试方法，可以在封装测试期间快速实现对数据载入能力的测试和调整，提高整体的预期效果。技术方案如下：根据本发明的一方面，提供了一种eMMC芯片的数据载入能力的测试装置，所述装置包括：输入电流设置模块，用于将所述eMMC芯片的多个数据IO接口的输入电流均置为额定电流；判断模块，用于在所述额定电流的基础上，判断所述数据IO接口的数据载入能力是否超出标称值，并输出相应的判断信号；档位调节模块，用于当所述判断信号表示数据载入能力超出标称值时，控制所述eMMC芯片将数据载入档位下调。可选的，所述输出电流设置模块包括多级电流镜电路，每级电流镜电路的输出端分别与所述eMMC芯片的每个数据IO接口连接；所述电流镜电路，用于基于预设电流和预设电压，将其每级输出端的电流置为所述eMMC芯片的额定电流。可选的，所述判断模块的输入端用于接收所述数据IO接口的输出电压；所述判断模块，用于：当所述输出电压小于基准电压时，输出第一判断信号，所述第一判断信号用于表示数据载入能力超出标称值；当所述输出电压不小于基准电压时，输出第二判断信号，所述第二判断信号用于表示数据载入能力达到标称值。可选的，所述档位调节模块，用于当所述判断模块输出所述第一判断信号时，输出档位调节信号，所述档位调节信号用于下调所述eMMC芯片的数据载入档位。可选的，所述装置还包括切换模块；所述切换模块，用于：当所述判断模块输出所述第一判断信号时，将所述数据IO接口从测试电路切换至通信通道，以使所述eMMC芯片接收所述档位调节信号；在所述eMMC芯片的数据载入档位下调后，将所述数据IO接口切换回所述测试电路。根据本发明的另一方面，提供了一种eMMC芯片的数据载入能力的测试方法，所述方法包括：将所述eMMC芯片的多个数据IO接口的输入电流均置为额定电流；在所述额定电流的基础上，判断所述数据IO接口的数据载入能力是否超出标称值；当所述数据IO接口的数据载入能力超出标称值时，控制所述eMMC芯片将数据载入档位下调，直至所述数据IO接口的数据载入能力达到标称值，或所述数据载入档位达到最低档位。可选的，所述判断所述数据IO接口的数据载入能力是否超出标称值，包括：判断所述数据IO接口的输出电压是否小于基准电压；当所述输出电压小于基准电压时，输出第一判断信号，所述第一判断信号用于表示数据载入能力超出标称值；当所述输出电压不小于基准电压时，输出第二判断信号，所述第二判断信号用于表示数据载入能力达到标称值。可选的，所述方法还包括：当所述数据IO接口的数据载入能力超出标称值时，将所述数据IO接口从测试电路切换至通信通道，以使所述eMMC芯片接收档位调节信号；在所述eMMC芯片的数据载入档位下调后，将所述数据IO接口切换回所述测试电路。根据本发明的另一方面，提供了一种电子设备，包括：上述eMMC芯片的数据载入能力的测试装置；处理器；以及存储程序的存储器，其中，所述程序包括指令，所述指令在由所述处理器执行时使所述处理器执行上述eMMC芯片的数据载入能力的测试方法。根据本发明的另一方面，提供了一种存储有计算机指令的非瞬时计算机可读存储介质，其中，所述计算机指令用于使计算机执行上述eMMC芯片的数据载入能力的测试方法。本发明中，通过输入电流设置模块和判断模块对数据IO接口的数据载入能力进行测量，判断数据IO接口的数据载入能力是否超出标称值；若数据载入能力超出标称值，则通过档位调节模块将数据载入档位下调。在eMMC芯片的测试装置中，采用了测量电路和反馈调节机制，提高了eMMC芯片的出货良率。附图说明在下面结合附图对于示例性实施例的描述中，本发明的更多细节、特征和优点被公开，在附图中：图1示出了根据本发明示例性实施例提供的eMMC芯片的数据载入能力的测试装置示意图；图2示出了根据本发明示例性实施例提供的电流镜电路示意图；图3示出了根据本发明示例性实施例提供的eMMC芯片的数据载入能力的测试方法流程图；图4示出了能够用于实现本发明的实施例的示例性电子设备的结构框图。具体实施方式下面将参照附图更详细地描述本发明的实施例。虽然附图中显示了本发明的某些实施例，然而应当理解的是，本发明可以通过各种形式来实现，而且不应该被解释为限于这里阐述的实施例，相反提供这些实施例是为了更加透彻和完整地理解本发明。应当理解的是，本发明的附图及实施例仅用于示例性作用，并非用于限制本发明的保护范围。应当理解，本发明的方法实施方式中记载的各个步骤可以按照不同的顺序执行，和/或并行执行。此外，方法实施方式可以包括附加的步骤和/或省略执行示出的步骤。本发明的范围在此方面不受限制。本文使用的术语“包括”及其变形是开放性包括，即“包括但不限于”。术语“基于”是“至少部分地基于”。术语“一个实施例”表示“至少一个实施例”；术语“另一实施例”表示“至少一个另外的实施例”；术语“一些实施例”表示“至少一些实施例”。其他术语的相关定义将在下文描述中给出。需要注意，本发明中提及的“第一”、“第二”等概念仅用于对不同的装置、模块或单元进行区分，并非用于限定这些装置、模块或单元所执行的功能的顺序或者相互依存关系。需要注意，本发明中提及的“一个”、“多个”的修饰是示意性而非限制性的，本领域技术人员应当理解，除非在上下文另有明确指出，否则应该理解为“一个或多个”。本发明实施方式中的多个装置之间所交互的消息或者信息的名称仅用于说明性的目的，而并不是用于对这些消息或信息的范围进行限制。本发明实施例提供了一种eMMC芯片的数据载入能力的测试装置，该装置可以设置在eMMC芯片的测试板卡上。参照图1示出的测试装置，该装置包括输入电流设置模块、判断模块和档位调节模块。输入电流设置模块，用于将eMMC芯片的多个数据IO接口的输入电流均置为额定电流；判断模块，用于在额定电流的基础上，判断数据IO接口的数据载入能力是否超出标称值，并输出相应的判断信号；档位调节模块，用于当判断信号表示数据载入能力超出标称值时，控制eMMC芯片将数据载入档位下调。在一种可能的实施方式中，由于eMMC数据IO接口的输入功率恒定，当数据IO接口的数据载入能力达到标称值时，若固定输入额定电流，则输出电压可以稳定在额定电压。因此，可以采用输入电流设置模块将eMMC芯片的数据IO接口的输入电流置为额定电流，并通过判断模块测量数据IO接口的输出电压，从而判断数据IO接口的数据载入能力是否超出标称值。eMMC芯片的数据载入档位是可调的，数据载入档位越高，eMMC芯片的数据载入能力越强，且预设值通常位于中间档位。当数据IO接口的数据载入能力超出标称值时，会发生输出电压下降的情况，此时，可以采用档位调节模块控制eMMC芯片将数据载入档位下调，降低eMMC芯片的数据载入能力。可选的，输出电流设置模块包括多级电流镜电路，每级电流镜电路的输出端分别与eMMC芯片的每个数据IO接口连接。电流镜电路，用于基于预设电流和预设电压，将其每级输出端的电流置为eMMC芯片的额定电流。在一种可能的实施方式中，如图2所示的电流镜电路，VDD为恒压源，Iref为测试板卡上预设的参考电流，为固定值标准电流，可以预先设置为eMMC芯片的额定电流。I0用于调节M2 M4 M7的栅极电压，使得各个MOS管工作在合适的状态。其中，I1、I2、 ……、 I/2为电流镜电路的各级输出端的电流，分别输入每个数据IO接口，图中未示出电流镜电路的所有级。由电流镜电路基本原理可以推导，上述各级输出端的电流可以等于Iref。可选的，判断模块的输入端可以用于接收数据IO接口的输出电压。判断模块可以用于：当输出电压小于基准电压时，输出第一判断信号，第一判断信号用于表示数据载入能力超出标称值；当输出电压不小于基准电压时，输出第二判断信号，第二判断信号用于表示数据载入能力达到标称值。在一种可能的实施方式中，判断模块可以采用比较器电路，比较器电路的两个输入端可以分别接收数据IO接口的输出电压和基准电压。当输出电压小于基准电压时，认定超出偏差范围，比较器电路可以输出低电平，作为第一判断信号。当输出电压不小于基准电压时，认定偏差在范围内，比较器电路可以输出高电平，作为第二判断信号，判定eMMC芯片通过测试。可选的，档位调节模块可以用于：当判断模块输出第一判断信号时，输出档位调节信号，档位调节信号用于下调eMMC芯片的数据载入档位。在一种可能的实施方式中，可以采用MCU检测比较器的输出结果，并通过I2C传递到测试板卡的控制芯片上，生成档位调节信号，MCU和测试板卡的控制芯片以及相关电路即构成上述档位调节模块。或者，也可以是通过控制芯片传递到电脑端，由电脑端生成相应的档位调节信号。可选的，该测试装置还可以包括切换模块。该切换模块可以用于：当判断模块输出第一判断信号时，将数据IO接口从测试电路切换至通信通道，以使eMMC芯片接收档位调节信号；在eMMC芯片的数据载入档位下调后，将数据IO接口切换回测试电路。在一种可能的实施方式中，切换模块可以包括多路选择器电路，用于将数据IO接口和通信通道连接，或将数据IO接口和测试电路连接。初始状态下，切换模块可以将数据IO接口和测试电路连接，经过上述测试过程后，若判断模块输出第一判断信号，即此时eMMC芯片的数据载入能力超出标称值，切换模块可以将数据IO接口从测试电路切换至通信通道。进而，eMMC芯片可以通过通信通道接收到档位调节信号，通过寄存器将数据载入档位下调一级，并将调整后的数据载入档位存储在eMMC芯片中，以便调整持续生效。调整完成后，切换模块可以将数据IO接口切换回测试电路，重复执行上述测试过程，判断数据IO接口的数据载入能力是否超出标称值，直至数据IO接口的数据载入能力达到标称值，判定eMMC芯片通过测试，或者，数据载入档位达到最低档位，而数据IO接口的数据载入能力仍超出标称值，判定eMMC芯片异常。本发明中，通过输入电流设置模块和判断模块对数据IO接口的数据载入能力进行测量，判断数据IO接口的数据载入能力是否超出标称值；若数据载入能力超出标称值，则通过档位调节模块将数据载入档位下调。在eMMC芯片的测试装置中，采用了测量电路和反馈调节机制，提高了eMMC芯片的出货良率。基于相同的发明构思，本发明实施例提供了一种eMMC芯片的数据载入能力的测试方法。参照图3示出的测试方法，该方法包括如下步骤301-303。步骤301，将eMMC芯片的多个数据IO接口的输入电流均置为额定电流；步骤302，在额定电流的基础上，判断数据IO接口的数据载入能力是否超出标称值；步骤303，当数据IO接口的数据载入能力超出标称值时，控制eMMC芯片将数据载入档位下调。继而，重复上述步骤301-303，直至数据IO接口的数据载入能力达到标称值，或数据载入档位达到最低档位。其中，当数据IO接口的数据载入能力达到标称值时，判定eMMC芯片通过测试；当数据载入档位达到最低档位，而数据IO接口的数据载入能力仍超出标称值时，判定eMMC芯片异常。可选的，所述判断所述数据IO接口的数据载入能力是否超出标称值，包括：判断所述数据IO接口的输出电压是否小于基准电压；当所述输出电压小于基准电压时，输出第一判断信号，所述第一判断信号用于表示数据载入能力超出标称值；当所述输出电压不小于基准电压时，输出第二判断信号，所述第二判断信号用于表示数据载入能力达到标称值。可选的，所述方法还包括：当所述数据IO接口的数据载入能力超出标称值时，将所述数据IO接口从测试电路切换至通信通道，以使所述eMMC芯片接收档位调节信号；在所述eMMC芯片的数据载入档位下调后，将所述数据IO接口切换回所述测试电路。本发明实施例中，在向数据IO接口输入额定电流的基础上，测量数据IO接口的数据载入能力是否达到标称值，若数据载入能力超出标称值，则反馈至eMMC芯片进行数据载入档位下调，提高了eMMC芯片的出货良率。本发明示例性实施例还提供一种电子设备，包括：至少一个处理器；以及与至少一个处理器通信连接的存储器。所述存储器存储有能够被所述至少一个处理器执行的计算机程序，所述计算机程序在被所述至少一个处理器执行时用于使所述电子设备执行根据本发明实施例的方法。本发明示例性实施例还提供一种存储有计算机程序的非瞬时计算机可读存储介质，其中，所述计算机程序在被计算机的处理器执行时用于使所述计算机执行根据本发明实施例的方法。本发明示例性实施例还提供一种计算机程序产品，包括计算机程序，其中，所述计算机程序在被计算机的处理器执行时用于使所述计算机执行根据本发明实施例的方法。参考图4，现将描述可以作为本发明的服务器或客户端的电子设备400的结构框图，其是可以应用于本发明的各方面的硬件设备的示例。电子设备旨在表示各种形式的数字电子的计算机设备，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本发明的实现。如图4所示，电子设备400包括计算单元401，其可以根据存储在只读存储器402中的计算机程序或者从存储单元408加载到随机访问存储器403中的计算机程序，来执行各种适当的动作和处理。在RAM 403中，还可存储设备400操作所需的各种程序和数据。计算单元401、ROM 402以及RAM 403通过总线404彼此相连。输入/输出接口405也连接至总线404。电子设备400中的多个部件连接至I/O接口405，包括：输入单元406、输出单元407、存储单元408以及通信单元409。输入单元406可以是能向电子设备400输入信息的任何类型的设备，输入单元406可以接收输入的数字或字符信息，以及产生与电子设备的用户设置和/或功能控制有关的键信号输入。输出单元407可以是能呈现信息的任何类型的设备，并且可以包括但不限于显示器、扬声器、视频/音频输出终端、振动器和/或打印机。存储单元408可以包括但不限于磁盘、光盘。通信单元409允许电子设备400通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据，并且可以包括但不限于调制解调器、网卡、红外通信设备、无线通信收发机和/或芯片组，例如蓝牙设备、WiFi设备、WiMax设备、蜂窝通信设备和/或类似物。计算单元401可以是各种具有处理和计算能力的通用和/或专用处理组件。计算单元401的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的计算单元、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。计算单元401执行上文所描述的各个方法和处理。例如，在一些实施例中，上述eMMC芯片的数据载入能力的测试方法可被实现为计算机软件程序，其被有形地包含于机器可读介质，例如存储单元408。在一些实施例中，计算机程序的部分或者全部可以经由ROM 402和/或通信单元409而被载入和/或安装到电子设备400上。在一些实施例中，计算单元401可以通过其他任何适当的方式而被配置为执行上述eMMC芯片的数据载入能力的测试方法。用于实施本发明的方法的程序代码可以采用一个或多个编程语言的任何组合来编写。这些程序代码可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器或控制器，使得程序代码当由处理器或控制器执行时使流程图和/或框图中所规定的功能/操作被实施。程序代码可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本发明的上下文中，机器可读介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的程序。机器可读介质可以是机器可读信号介质或机器可读储存介质。机器可读介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。如本发明使用的，术语“机器可读介质”和“计算机可读介质”指的是用于将机器指令和/或数据提供给可编程处理器的任何计算机程序产品、设备、和/或装置)，包括，接收作为机器可读信号的机器指令的机器可读介质。术语“机器可读信号”指的是用于将机器指令和/或数据提供给可编程处理器的任何信号。为了提供与用户的交互，可以在计算机上实施此处描述的系统和技术，该计算机具有：用于向用户显示信息的显示装置或者LCD监视器）；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给计算机。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网和互联网。计算机系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。
