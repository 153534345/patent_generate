标题title
一种制氢电解槽剩余寿命预测方法
摘要abst
本发明公开了一种制氢电解槽剩余寿命预测方法。本发明采用的步骤如下：采集制氢电解槽的工艺参数数据和电压数据；对采集的电压数据进行离散小波变换重构，捕捉电压退化趋势；使用去趋势化的方法对离散小波变换重构后的电压数据进行处理，得到去噪的训练样本；采用降维算法，将原高维空间中的数据点映射到低维度的空间中，以去除工艺参数数据中的冗余信息；将经过处理的电压数据和降维的工艺参数数据输入到NARX神经网络模型中进行训练，将上一个时间步的预测电压作为下一个时间步的输入电压，通过迭代预测制氢电解槽的剩余寿命。本发明使制氢电解槽的寿命预测精度高且计算的时间相对较短。
权利要求书clms
1.一种制氢电解槽剩余寿命预测方法，其特征在于，包括步骤：1）采集制氢电解槽的工艺参数数据和电压数据；2）对采集的制氢电解槽电压数据进行离散小波变换重构，去除其中的低频成分，保留高频成分，小波分解的阶数为M阶；3）使用去趋势化的方法对离散小波变换重构后的电压数据进行处理，得到去噪的训练样本；4）采用降维算法，将原高维空间中的数据点映射到低维度的空间中，以去除工艺参数数据中的冗余信息；5）将经过步骤2）和步骤3）处理的电压数据和经过步骤4）降维的工艺参数数据输入到NARX神经网络模型中进行训练，将上一个时间步的预测电压作为下一个时间步的输入电压，通过迭代预测制氢电解槽的剩余寿命。2.根据权利要求1所述的一种制氢电解槽剩余寿命预测方法，其特征在于，所述步骤1）中，采集的工艺参数数据包括电解槽温度、阴极气体压力、阳极气体压力、阳极气体流速、阴极气体流速、电流和阴极pH值。3.根据权利要求1所述的一种制氢电解槽剩余寿命预测方法，其特征在于，所述步骤1）中，所述的电压数据为制氢电解槽的端电压。4.根据权利要求1所述的一种制氢电解槽剩余寿命预测方法，其特征在于，所述步骤2）中，对采集的电压数据进行离散小波变换重构时，每阶分解到的低频成分均置零，高频成分保留，重构电压数据时，使用第M阶的低频成分和所有的高频成分逆向重构数据。5.根据权利要求1所述的一种制氢电解槽剩余寿命预测方法，其特征在于，所述步骤3）中，针对制氢电解槽电压表现出的非线性衰减趋势，采用log变换消除对时间的依赖性，将复杂的趋势转变为线性趋势。6.根据权利要求1所述的一种制氢电解槽剩余寿命预测方法，其特征在于，所述步骤4）中，将降维算法应用于工艺参数数据的维度筛选时，选取贡献率的累计值大于或者等于90%的前几个特征值，与电压数据一起作为NARX神经网络模型的输入。7.根据权利要求1所述的一种制氢电解槽剩余寿命预测方法，其特征在于，所述步骤5）中，在使用NARX神经网络模型训练的过程中，使用反向学习的灰狼粒子群算法优化NARX神经网络模型的超参数。8.根据权利要求7所述的一种制氢电解槽剩余寿命预测方法，其特征在于，优化超参数的步骤如下：1）设置NARX神经网络模型的超参数隐藏层神经元数量、隐藏层数量、最小梯度和最大迭代次数的上下限；2）设置反向学习的灰狼粒子群算法的相关参数，目标优化函数为：其中，RMSE是均方根误差，N是电压数据点的数量，Vcell是采集的制氢电解槽端电压数据，Vm是NARX神经网络模型预测的电压数据；3）根据寻优的结果确定NARX神经网络模型的超参数隐藏层神经元数量、隐藏层数量、最小梯度和最大迭代次数的最优值。9.根据权利要求1所述的一种制氢电解槽剩余寿命预测方法，其特征在于，所述步骤5）中，使用NARX神经网络模型进行迭代预测的步骤如下：对数据集进行归一化预处理；采用K折交叉验证的方法设置验证数据；基于训练集数据训练模型；输入起始预测点，得到第一个预测时间步的预测电压点，然后将第一个预测步电压作为下一个时间步的输入数据，以此迭代预测。10.根据权利要求9所述的一种制氢电解槽剩余寿命预测方法，其特征在于，在制氢电解槽剩余寿命预测中选择均方根误差RMSE作为NARX神经网络模型的适应度函数。
说明书desc
技术领域本发明属于氢能与燃料电池领域，涉及制氢电解槽的寿命预测，尤其是一种基于数据驱动的制氢电解槽剩余寿命预测方法。背景技术随着风电、光伏等可再生能源迎来爆发式增长，可再生能源将逐步替代传统化石能源占据能源领域主导地位。但是可再生能源发电所固有的随机性、季节性和反调峰特性进一步增加了可再生能源调峰难度，而配置储能系统可以解决大规模可再生能源消纳的问题，这其中对大规模、长时间储能需求尤为迫切，而氢储能电站是实现低成本、大规模、长周期储能的一种重要方式，因而日益得到人们的重视。在氢储能电站中，通常包括电转氢装置、储氢装置和氢转电装置，而制氢电解槽是将电能转换为氢能的核心装置。制氢电解槽存在性能退化的问题。寿命预测与健康管理技术可以在一定程度上帮助延长其寿命，目前通用的预测方法包括数据驱动、模型驱动和混合驱动三类。由于制氢电解槽在运行过程中会产生大量的监测数据，观测数据是非线性、非高斯分布的时间序列，因此无法通过简单的静态线性模型进行预测，可通过动态的训练来学习其退化趋势并进行预测，通过数据驱动的方式进行制氢电解槽剩余寿命预测更为可行。发明内容为实现制氢电解槽的剩余寿命预测，实现系统精细化管理和运维，本发明提出一种制氢电解槽剩余寿命预测方法，使制氢电解槽的寿命预测精度高且消耗的时间较短，将离散小波变换和去趋势化应用于电压数据的预处理，同时采用降维算法降低工艺参数数据的维度，最后将处理好的电压数据和工艺参数数据输入到NARX神经网络模型中，在制氢电解槽的寿命预测中提高预测精度和减短预测时间。为达到上述目的，本发明采用的技术方案是：一种制氢电解槽剩余寿命预测方法，其包括步骤：1）采集制氢电解槽的工艺参数数据和电压数据；2）对采集的制氢电解槽电压数据进行离散小波变换重构，去除其中的低频成分，保留高频成分，更精确地跟随或捕捉电压退化趋势，小波分解的阶数为M阶；3）使用去趋势化的方法对离散小波变换重构后的电压数据进行处理，得到去噪的训练样本，降低NARX神经网络模型的过拟合，提高迭代预测的精度；4）采用降维算法，将原高维空间中的数据点映射到低维度的空间中，以去除工艺参数数据中的冗余信息；5）将经过步骤2）和步骤3）处理的电压数据和经过步骤4）降维的工艺参数数据输入到NARX神经网络模型中进行训练，将上一个时间步的预测电压作为下一个时间步的输入电压，通过迭代预测制氢电解槽的剩余寿命。作为上述技术方案的补充，所述步骤1）中，采集的工艺参数数据包括电解槽温度、阴极气体压力、阳极气体压力、阳极气体流速、阴极气体流速、电流和阴极pH值。作为上述技术方案的补充，所述步骤1）中，所述的电压数据为制氢电解槽的端电压。作为上述技术方案的补充，所述步骤2）中，对采集的电压数据进行离散小波变换重构时，每阶分解到的低频成分均置零，高频成分保留，重构电压数据时，使用第M阶的低频成分和所有的高频成分逆向重构数据。作为上述技术方案的补充，所述步骤3）中，针对制氢电解槽电压表现出的非线性衰减趋势，采用log变换消除对时间的依赖性，将复杂的趋势转变为线性趋势，有利于NARX神经网络模型对时间序列的训练学习，变换的方法如下，U是变换后的电压数据，V是原始的电压数据，。作为上述技术方案的补充，所述步骤4）中，将降维算法应用于工艺参数数据的维度筛选时，选取贡献率的累计值大于或者等于90%的前几个特征值，与电压数据一起作为NARX神经网络模型的输入。LDA算法的步骤如下：求解全局散度矩阵St：其中，m为整个样本集的均值向量，xi为输入的第i个样本数据，其中的类内散度矩阵Sw为所有类别矩阵的散度矩阵之和。基于全局散度矩阵，可以求得类间散度矩阵Sb：其中，mj为第j个类别样本总数，mj为第j个类别的均值向量。计算一个投影矩阵w，使得类间距离最大和类内距离最小，优化目标为：根据优化目标可得：式中，l为特征值，w为Sw-1Sb的k个最大非零广义特征值l对应的特征向量组成的矩阵。求出Sw-1Sb的特征值和特征向量后，选取其中的k个最大非零广义特征值对应的特征向量作为投影矩阵w，再将原始数据集矩阵与投影矩阵w相乘，则得到降维后的数据。作为上述技术方案的补充，所述步骤5）中，在使用NARX神经网络模型训练的过程中，反向学习的灰狼粒子群算法优化NARX神经网络模型的超参数，提高模型的精度。作为上述技术方案的补充，优化超参数的步骤如下：设置NARX神经网络模型的超参数隐藏层神经元数量、隐藏层数量、最小梯度和最大迭代次数的上下限；设置反向学习的灰狼粒子群算法的相关参数，算法寻优的目的是使目标函数更小，目标优化函数为：其中，RMSE是均方根误差，N是电压数据点的数量，Vcell是采集的制氢电解槽端电压数据，Vm是NARX神经网络模型预测的电压数据；根据寻优的结果确定NARX神经网络模型的超参数隐藏层神经元数量、隐藏层数量、最小梯度和最大迭代次数的最优值。作为上述技术方案的补充，所述步骤5）中，使用NARX神经网络模型进行迭代预测的步骤如下：对数据集进行归一化预处理；采用K折交叉验证的方法设置验证数据；基于训练集数据训练模型；输入起始预测点，得到第一个预测时间步的预测电压点，然后将第一个预测步电压作为下一个时间步的输入数据，以此迭代预测。作为上述技术方案的补充，在制氢电解槽剩余寿命预测中选择均方根误差RMSE作为NARX神经网络模型的适应度函数。本发明具有的有益效果如下：本发明使制氢电解槽的寿命预测精度高且消耗的时间较短，将离散小波变换和去趋势化应用于电压数据的预处理，同时采用降维算法降低工艺参数数据的维度，最后将处理好的电压数据和工艺参数数据输入到NARX神经网络模型中，在制氢电解槽的寿命预测中提高了预测精度和减短了预测时间。附图说明图1为本发明实施例中制氢电解槽施加的端电压图；图2为本发明实施例中制氢电解槽剩余寿命预测流程图；图3为本发明实施例中经过小波分解重构和去趋势化后的电压数据图；图4为本发明实施例中LDA算法前4个特征值的贡献率图；图5为本发明制氢电解槽的剩余使用寿命预测图。具体实施方式下面将结合本发明实施例中的附图，对本实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是对本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有付出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本实施例提供一种针对制氢电解槽剩余寿命预测方法，其包括步骤：在电流密度恒为1A/cm2时，某个制氢电解槽施加的端电压如图1所示，记录电压数据为V。并采集14维工艺参数数据包括阳极入口气体压力、阴极入口气体压力、阳极出口气体压力、阴极出口气体压力、阳极入口气体流速、阴极入口气体流速、阳极出口气体流速、阴极出口气体流速、温度、湿度、电流、电压、功率、阴极pH值。根据采集到的数据，实现制氢电解槽的寿命预测的流程如图2所示。对采集的制氢电解槽电压数据进行离散小波变换重构，每阶分解到的低频成分均置零，高频成分保留，重构电压数据时，使用第6阶的低频成分和所有的高频成分逆向重构数据。针对制氢电解槽电压表现出的非线性衰减趋势，采用log变换消除对时间的依赖性，将复杂的趋势转变为线性趋势，有利于NARX神经网络模型对时间序列的训练学习，log变换的方法如下，U是变换后的电压数据，V是原始的电压数据。经过小波分解重构和去趋势化后的电压数据如图3所示。采用LDA算法，将原高维空间中的数据点映射到低维度的空间中，以去除工艺参数数据中的冗余信息，选取贡献率的累计值大于或者等于90%的前几个特征值。LDA算法的步骤如下：求解全局散度矩阵：其中，m为整个样本集的均值向量，xi为输入的第i个样本数据，其中的类内散度矩阵Sw为所有类别矩阵的散度矩阵之和，n为样本数据的总数量。基于全局散度矩阵，可以求得类间散度矩阵Sb：其中mj为第j个类别样本总数，mj为第j个类别的均值向量。计算一个投影矩阵w，使得类间距离最大和类内距离最小。优化目标为：根据优化目标可得：则w为Sw-1Sb的前4个最大非零广义特征值对应的特征向量组成的矩阵。求出Sw-1Sb的特征值和特征向量后，选取其中的前4个最大非零广义特征值对应的特征向量作为投影矩阵w，再将原始数据集矩阵与投影矩阵w相乘，则得到降维后的数据。基于LDA算法对工艺数据进行处理后，前4个特征值的贡献率如图4所示。这意味着原始的14维数据可以用这4维特征空间进行表示。然后将这4维工艺数据和电压数据重新排列形成5维的混合数据。将5维的混合数据输入到NARX神经网络模型中进行训练，在使用NARX神经网络训练的过程中，使用反向学习的灰狼粒子群算法优化NARX神经网络模型的超参数，以提高模型的精度。优化NARX模型超参数的步骤如下：依据经验参数，设置NARX神经网络模型的隐藏层神经元数量、隐藏层数量、最小梯度、最大迭代次数这些超参数的上下限；设置反向学习的灰狼粒子群算法的基础参数，如最大迭代次数、种群大小等，算法寻优的目的是使目标函数更小，即NARX模型预测电压更接近采集的制氢电解槽端电压，目标优化函数为：其中RMSE是均方根误差，N是数据点的数量，Vcell是采集的制氢电解槽端电压数据，Vm是NARX神经网络模型预测的电压数据；根据寻优的结果来确定NARX神经网络模型的隐藏层神经元数量、隐藏层数量、最小梯度、最大迭代次数这些超参数的最优值。优化后的NARX神经网络模型超参数的数值为：隐藏层神经元数量为30，隐藏层数量为1，最小梯度为1e-6，最大迭代次数为200。然后50%的混合数据作为训练数据，50%的混合数据作为验证数据。首先设置NARX模型的超参数，然后使用训练数据进行训练。训练的步骤如下：为了降低量纲对仿真结果的影响，需要对每个维度的工艺数据进行归一化处理。归一化的方式如下：ymin的值是-1，ymax的值是1。xmin指的是同一维度数据中数值最小的数据点，xmax指的是同一维度数据中数值最大的数据点；采用K折交叉验证的方法设置Validation Data，将原始数据分成5组，将每个子集数据分别做一次验证集，其余的4组子集数据作为训练集，这样会得到5个模型。这5个模型分别在验证集中评估结果，根据评估结果选择最优的模型；设置NARX神经网络的超参数为经反向学习的灰狼粒子群优化后的超参数，并使用训练数据训练NARX模型。NARX神经网络模型的训练完成后，迭代预测的方法为：输入起始预测点，得到第一个预测时间步的预测电压点，然后将第一个预测步电压作为下一个时间步的输入数据，以此迭代下去得到长期预测电压数据。根据失效的电压阈值点来预测制氢电解槽的剩余使用寿命，计算方法如下：RUL是剩余使用寿命，tend是预测的制氢电解槽端电压与电压失效阈值的交点处所对应的时刻，tpre是开始预测的时刻点。根据本实施例中的数据，制氢电解槽的剩余使用寿命预测的结果如图5所示。本领域内的技术人员应明白，本发明的实施例可提供为方法、系统、或计算机程序产品。因此，本发明可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本发明可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本发明实施例中的方案可以采用各种计算机语言实现，例如，面向对象的程序设计语言Java和直译式脚本语言JavaScript等。本发明是参照根据本发明实施例的方法、设备、和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。尽管已描述了本发明的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例作出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本发明范围的所有变更和修改。显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。
