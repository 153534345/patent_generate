标题title
渗透测试方法、装置、设备及存储介质
摘要abst
本公开涉及一种渗透测试方法、装置、设备及存储介质。获取渗透目标对应的目标信息图谱；对目标信息图谱的各个节点进行攻击点分析，得到目标信息图谱的渗透攻击入口节点；基于渗透攻击入口节点对渗透目标进行渗透测试，得到渗透目标的渗透测试结果。由此，可以基于渗透目标对应的目标信息图谱，自动进行攻击点分析并基于渗透攻击入节点对渗透目标进行测试，从而实现自动化渗透测试，提高了渗透测试的工作效率、降低了技术人员的测试难度。
权利要求书clms
1.一种渗透测试方法，其特征在于，包括：获取渗透目标对应的目标信息图谱；对所述目标信息图谱的各个节点进行攻击点分析，得到所述目标信息图谱的渗透攻击入口节点；基于所述渗透攻击入口节点对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。2.根据权利要求1所述的方法，其特征在于，还包括：获取所述渗透目标的采集信息，其中，所述采集信息包含多个维度的属性信息；以所述渗透目标及其对应的属性信息为节点，以所述渗透目标与所述属性信息之间的多个第一关联关系以及不同属性信息之间的多个第二关联关系为边，构成所述目标信息图谱。3.根据权利要求2所述的方法，其特征在于，所述采集信息包括以下一种或者多种组合：暴露面信息、WEB信息、脆弱性信息、敏感信息、配置信息；所述采集信息属于以下至少一个维度：主机类型、应用类型以及主机服务类型。4.根据权利要求1所述的方法，其特征在于，所述对所述目标信息图谱的各个节点进行攻击点分析，得到所述目标信息图谱的渗透攻击入口节点，包括：从所述目标信息图谱的各个节点中获取待分析节点；利用所述待分析节点对应的攻击技术，对所述待分析节点进行攻击点分析，确定所述待分析节点是否存在攻击漏洞；若所述待分析节点存在攻击漏洞，则将所述待分析节点作为所述目标信息图谱的渗透攻击入口节点。5.根据权利要求4所述的方法，其特征在于，所述待分析节点包括：主机类型节点、基于安全通道协议的服务节点以基于WEB服务的文件上传节点中的至少一个。6.根据权利要求1所述的方法，其特征在于，所述基于所述渗透攻击入口节点对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果，包括：将所述渗透攻击入口节点作为渗透测试的测试入口，利用所述渗透攻击入口节点关联的攻击条件和攻击方式，对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。7.根据权利要求1所述的方法，其特征在于，所述方法还包括：基于所述渗透目标的渗透测试结果，生成所述渗透测试报告并显示。8.一种渗透测试装置，其特征在于，包括：获取模块，用于获取渗透目标对应的目标信息图谱；分析模块，用于对所述目标信息图谱的各个节点进行攻击点分析，得到所述目标信息图谱的渗透攻击入口节点；渗透测试模块，用于基于所述渗透攻击入口节点对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。9.一种电子设备，其特征在于，包括：处理器；存储器，用于存储可执行指令；其中，所述处理器用于从所述存储器中读取所述可执行指令，并执行所述可执行指令以实现上述权利要求1-7中任一项所述的方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述存储介质存储有计算机程序，当所述计算机程序被处理器执行时，使得处理器实现上述权利要求1-7中任一项所述的方法。
说明书desc
技术领域本公开涉及网络安全技术领域，尤其涉及一种渗透测试方法、装置、设备及存储介质。背景技术随着互联网技术的发展，网络的应用越来越广泛，网络安全越来越重要。目前，保障网络安全较好的方法是渗透测试。渗透测试是一项在计算机系统上进行的授权模拟攻击，旨在对其安全性进行评估。渗透测试使用与攻击者相同的工具、技术和流程，来查找和展示系统弱点对业务带来的影响。相关技术中，一般采用手工渗透方式进行渗透测试，也就是依赖测试人员进行渗透测试。然而，手工渗透方法会消耗较大的人力资源，并且测试效率低下，导致无法满足用户的渗透测试需求。发明内容为了解决上述技术问题，本公开提供了一种渗透测试方法、装置、设备及存储介质。第一方面，本公开提供了一种渗透测试方法，该方法包括：获取渗透目标对应的目标信息图谱；对所述目标信息图谱的各个节点进行攻击点分析，得到所述目标信息图谱的渗透攻击入口节点；基于所述渗透攻击入口节点对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。在本公开一些实施例中，该方法还包括：获取所述渗透目标的采集信息，其中，所述采集信息包含多个维度的属性信息；以所述渗透目标及其对应的属性信息为节点，以所述渗透目标与所述属性信息之间的多个第一关联关系以及不同属性信息之间的多个第二关联关系为边，构成所述目标信息图谱。在本公开一些实施例中，所述采集信息包括以下一种或者多种组合：暴露面信息、WEB信息、脆弱性信息、敏感信息、配置信息；所述采集信息属于以下至少一个维度：主机类型、应用类型以及主机服务类型。在本公开一些实施例中，所述对所述目标信息图谱的各个节点进行攻击点分析，得到所述目标信息图谱的渗透攻击入口节点，包括：从所述目标信息图谱的各个节点中获取待分析节点；利用所述待分析节点对应的攻击技术，对所述待分析节点进行攻击点分析，确定所述待分析节点是否存在攻击漏洞；若所述待分析节点存在攻击漏洞，则将所述待分析节点作为所述目标信息图谱的渗透攻击入口节点。在本公开一些实施例中，所述待分析节点包括：主机类型节点、基于安全通道协议的服务节点以基于WEB服务的文件上传节点中的至少一个。在本公开一些实施例中，所述基于所述渗透攻击入口节点对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果，包括：将所述渗透攻击入口节点作为渗透测试的测试入口，利用所述渗透攻击入口节点关联的攻击条件和攻击方式，对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。在本公开一些实施例中，该方法还包括：基于所述渗透目标的渗透测试结果，生成所述渗透测试报告并显示。第二方面，本公开提供了一种渗透测试装置，该装置包括：获取模块，用于获取渗透目标对应的目标信息图谱；分析模块，用于对所述目标信息图谱的各个节点进行攻击点分析，得到所述目标信息图谱的渗透攻击入口节点；渗透测试模块，用于基于所述渗透攻击入口节点对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。第三方面，本公开实施例还提供了一种电子设备，该设备包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当一个或多个程序被一个或多个处理器执行，使得一个或多个处理器实现第一方面所提供的方法。第四方面，本公开实施例还提供了一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现第一方面所提供的方法。本公开实施例提供的技术方案与现有技术相比具有如下优点：本公开实施例的一种渗透测试方法、装置、设备及存储介质，获取渗透目标对应的目标信息图谱；对目标信息图谱的各个节点进行攻击点分析，得到目标信息图谱的渗透攻击入口节点；基于渗透攻击入口节点对渗透目标进行渗透测试，得到渗透目标的渗透测试结果。由此，可以基于渗透目标对应的目标信息图谱，自动进行攻击点分析并基于渗透攻击入节点对渗透目标进行测试，从而实现自动化渗透测试，提高了渗透测试的工作效率、降低了技术人员的测试难度。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本公开的实施例，并与说明书一起用于解释本公开的原理。为了更清楚地说明本公开实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，对于本领域普通技术人员而言，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本公开实施例提供的一种渗透测试方法的流程示意图；图2为本公开实施例提供的一种目标信息图谱的示意图；图3为本公开实施例提供的一种渗透测试装置的结构示意图；图4为本公开实施例提供的一种电子设备的结构示意图。具体实施方式为了能够更清楚地理解本公开的上述目的、特征和优点，下面将对本公开的方案进行进一步描述。需要说明的是，在不冲突的情况下，本公开的实施例及实施例中的特征可以相互组合。在下面的描述中阐述了很多具体细节以便于充分理解本公开，但本公开还可以采用其他不同于在此描述的方式来实施；显然，说明书中的实施例只是本公开的一部分实施例，而不是全部的实施例。为了实现自动化渗透测试，下面结合图1至图2对本公开实施例提供的渗透测试方法进行说明。在本公开实施例中，该渗透测试方法可以由电子设备执行。其中，电子设备可以包括平板电脑、台式计算机、笔记本电脑等具有通信功能的设备，也可以包括虚拟机或者模拟器模拟的设备。图1示出了本公开实施例提供的一种渗透测试方法的流程示意图。如图1所示，该渗透测试方法可以包括如下步骤。S110、获取渗透目标对应的目标信息图谱。在本实施例中，在对渗透目标进行自动化测试之前，构建渗透目标对应的知识图谱，作为目标信息图谱，使得进一步对目标信息图谱进行攻击点分析，以实现渗透测试。其中，渗透目标是指被渗透的对象。可选地，渗透目标可以是网络中的主机，还可以是网站、应用程序、小程序等。其中，目标信息图谱是指以二维的点与线形式的网状的信息图谱。具体的，目标信息图谱的构建方法，具体包括：获取渗透目标的采集信息，其中，采集信息包含多个维度的属性信息；以渗透目标及其对应的属性信息为节点，以渗透目标与属性信息之间的多个第一关联关系以及不同属性信息之间的多个第二关联关系为边，构成目标信息图谱。其中，采集信息可以通过主机识别、主机暴露面收集、WEB应用识别、WEB暴露面信息收集、社工信息收集、人工导入、人工添加等工具或者手段，对渗透网络进行信息收集，并基于预先定义好的至少一个维度对收集的信息进行分类确定。可选地，采集信息属于以下至少一个维度：主机类型、应用类型以及主机服务类型。具体的，将采集信息与至少一个维度进行匹配，确定采集信息所属的类型。其中，主机类型是指网络中主机的类型，例如windows类型、linux类型、unix类型，应用类型是指网络中的WEB应用类型，例如xxOAWEB系统类型、xxCrmWEB系统类型，主机服务类型是指主机上开放的服务类型，例如，ssh服务类型、telnet服务类型、ftp服务类型等。可选的，采集信息包括以下一种或者多种组合：暴露面信息、WEB信息、脆弱性信息、敏感信息、配置信息。暴露面信息可以包括目标类型、目标版本号、开放端口、开放服务、开放目录。WEB信息可以包括子域名、链接、表单、开发语言。脆弱性可以包括主机漏洞、WEB漏洞、数据库漏洞、应用程序漏洞。敏感信息包括用户名/密码、手机号、邮箱、组织架构、单位信息。配置信息包括系统基础信息、ARP表、防火墙配置、安全策略配置、数据库配置、程序启动配置、windowsAD域配置、进程列表、安全程序列表、补丁列表、注册表、登录凭证、文件目录等。为了便于理解，图2示出了一种目标信息图谱的示意图。如图2所示，目标信息图谱以渗透目标为中心，以渗透目标与属性信息之间的多个第一关联关系以及不同属性信息之间的多个第二关联关系为边构成。例如，属性信息包括端口、服务、负责人、账号/密码，端口的属性信息包括11、443、21，服务的属性信息包括RDP、SSH以及FIP，WEB的属性信息包括标题、版本、框架等，则渗透目标、端口、服务之间形成第一关联关系并连接，端口及其对应的属性信息形成第二关联关系并连接，服务及其对应的属性信息形成第二关联关系并连接，WEB及其对应的属性信息形成第二关联关系并连接。在其他情况下，目标信息图谱还可以由其他属性信息构建，这些信息图2中未示出，例如，渗透目标的属性信息还包括：邮箱、类型、版本，端口的属性信息还包括3389、22，WEB的属性信息还包括URL、组件，RDP的属性信息还包括版本，SSH的属性信息还包括版本，FIP的属性信息还包括版本，并通过这些信息构建目标信息图谱，使得目标信息图谱包含更多的信息。S120、对目标信息图谱的各个节点进行攻击点分析，得到目标信息图谱的渗透攻击入口节点。在本实施例中，可选地，S120具体包括：从目标信息图谱的各个节点中获取待分析节点；利用待分析节点对应的攻击技术，对待分析节点进行攻击点分析，确定待分析节点是否存在攻击漏洞；若待分析节点存在攻击漏洞，则将待分析节点作为目标信息图谱的渗透攻击入口节点。其中，待分析节点包括主机类型节点、基于安全通道协议的服务节点以基于WEB服务的文件上传节点中的至少一个。也就是说，可以利用单一的攻击技术，对待分析节点进行攻击点分析，也可以利用多个攻击技术的组合，对待分析节点进行攻击点分析，以确定待分析节点是否存在攻击漏洞。在一些实施例中，待分析节点是主机类型节点时，其对应的攻击技术可以包括Windows7SMB漏洞攻击EXP1技术、Windows7SMB漏洞攻击EXP2技术。在另一些实施例中，待分析节点是基于安全通道协议的服务节点时，其对应的攻击技术可以包括SSH服务XX漏洞攻击EXP1技术、SSH服务XX漏洞攻击EXP2技术。在又一些实施例中，待分析节点是基于WEB服务的文件上传节点时，其对应的攻击技术可以包括任务文件上传FUZZ工具技术。其中，渗透入口攻击点可以是包括攻击点和薄弱点。攻击点是指渗透目标上可以成为渗透攻击入口的信息特征，可以包括类型、版本、错误配置以及漏洞特征。薄弱点是指渗透目标上可能的薄弱渗透攻击入口信息特征，可以包括WEB表单提交入口、文件上传/下载入口等。S130、基于渗透攻击入口节点对渗透目标进行渗透测试，得到渗透目标的渗透测试结果。在本实施例中，以单一渗透攻击入口节点或者多个渗透攻击入口节点的组合作为渗透测试的测试入口，对渗透目标进行单一渗透测试或者组合渗透测试，从而得到渗透测试结果。在本公开实施例中，可选地，S130具体包括：将渗透攻击入口节点作为渗透测试的测试入口，利用渗透攻击入口节点关联的攻击条件和攻击方式，对渗透目标进行渗透测试，得到渗透目标的渗透测试结果。具体的，可以将渗透攻击入口节点关联的攻击条件和攻击方式，转换为渗透攻击路径，并基于渗透攻击路径对渗透目标一键启动进行渗透测试，完成渗透测试过程。本公开实施例的一种渗透测试方法，获取渗透目标对应的目标信息图谱；对目标信息图谱的各个节点进行攻击点分析，得到目标信息图谱的渗透攻击入口节点；基于渗透攻击入口节点对渗透目标进行渗透测试，得到渗透目标的渗透测试结果。由此，可以基于渗透目标对应的目标信息图谱，自动进行攻击点分析并基于渗透攻击入节点对渗透目标进行测试，从而实现自动化渗透测试，提高了渗透测试的工作效率、降低了技术人员的测试难度。进一步的，在对渗透目标完成渗透测试之后，可以基于渗透目标的渗透测试结果，生成渗透测试报告并显示。由此，可以基于自动化的渗透测试结果，生成渗透测试报告，并将渗透测试报告显示给用户，方便用户基于该报告掌握渗透测试过程。图3示出了本公开实施例提供的一种渗透测试装置的结构示意图。如图3所示，渗透测试装置300可以包括：获取模块310，用于获取渗透目标对应的目标信息图谱；分析模块320，用于对所述目标信息图谱的各个节点进行攻击点分析，得到所述目标信息图谱的渗透攻击入口节点；渗透测试模块330，用于基于所述渗透攻击入口节点对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。本公开实施例的一种渗透测试装置，获取渗透目标对应的目标信息图谱；对目标信息图谱的各个节点进行攻击点分析，得到目标信息图谱的渗透攻击入口节点；基于渗透攻击入口节点对渗透目标进行渗透测试，得到渗透目标的渗透测试结果。由此，可以基于渗透目标对应的目标信息图谱，自动进行攻击点分析并基于渗透攻击入节点对渗透目标进行测试，从而实现自动化渗透测试，提高了渗透测试的工作效率、降低了技术人员的测试难度。在本公开一些实施例中，该装置还包括：采集信息获取模块，用于获取所述渗透目标的采集信息，其中，所述采集信息包含多个维度的属性信息；图谱构建模块，用于以所述渗透目标及其对应的属性信息为节点，以所述渗透目标与所述属性信息之间的多个第一关联关系以及不同属性信息之间的多个第二关联关系为边，构成所述目标信息图谱。在本公开一些实施例中，所述采集信息包括以下一种或者多种组合：暴露面信息、WEB信息、脆弱性信息、敏感信息、配置信息；所述采集信息属于以下至少一个维度：主机类型、应用类型以及主机服务类型。在本公开一些实施例中，分析模块320具体用于，从所述目标信息图谱的各个节点中获取待分析节点；利用所述待分析节点对应的攻击技术，对所述待分析节点进行攻击点分析，确定所述待分析节点是否存在攻击漏洞；若所述待分析节点存在攻击漏洞，则将所述待分析节点作为所述目标信息图谱的渗透攻击入口节点。在本公开一些实施例中，所述待分析节点包括：主机类型节点、基于安全通道协议的服务节点以基于WEB服务的文件上传节点中的至少一个。在本公开一些实施例中，渗透测试模块330具体用于，将所述渗透攻击入口节点作为渗透测试的测试入口，利用所述渗透攻击入口节点关联的攻击条件和攻击方式，对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。在本公开一些实施例中，该装置还包括：显示模块；显示模块，用于基于所述渗透目标的渗透测试结果，生成所述渗透测试报告并显示。需要说明的是，图3所示的渗透测试装置300可以执行图1至图2所示的方法实施例中的各个步骤，并且实现图1至图2所示的方法实施例中的各个过程和效果，在此不做赘述。图4示出了本公开实施例提供的一种电子设备的结构示意图。如图4所示，该电子设备可以包括处理器401以及存储有计算机程序指令的存储器402。具体地，上述处理器401可以包括中央处理器，或者特定集成电路，或者可以被配置成实施本申请实施例的一个或多个集成电路。存储器402可以包括用于信息或指令的大容量存储器。举例来说而非限制，存储器402可以包括硬盘驱动器、软盘驱动器、闪存、光盘、磁光盘、磁带或通用串行总线驱动器或者两个及其以上这些的组合。在合适的情况下，存储器402可包括可移除或不可移除的介质。在合适的情况下，存储器402可在综合网关设备的内部或外部。在特定实施例中，存储器402是非易失性固态存储器。在特定实施例中，存储器402包括只读存储器。在合适的情况下，该ROM可以是掩模编程的ROM、可编程ROM、可擦除PROM、电可擦除PROM、电可改写ROM或闪存，或者两个或及其以上这些的组合。处理器401通过读取并执行存储器402中存储的计算机程序指令，以执行本公开实施例所提供的渗透测试方法的步骤。在一个示例中，该电子设备还可包括收发器403和总线404。其中，如图4所示，处理器401、存储器402和收发器403通过总线404连接并完成相互间的通信。总线404包括硬件、软件或两者。举例来说而非限制，总线可包括加速图形端口或其他图形总线、增强工业标准架构总线、前端总线、超传输互连、工业标准架构总线、无限带宽互连、低引脚数总线、存储器总线、微信道架构总线、外围控件互连总线、PCI-Express总线、串行高级技术附件总线、视频电子标准协会局部总线或其他合适的总线或者两个或更多个以上这些的组合。在合适的情况下，总线404可包括一个或多个总线。尽管本申请实施例描述和示出了特定的总线，但本申请考虑任何合适的总线或互连。以下是本公开实施例提供的计算机可读存储介质的实施例，该计算机可读存储介质与上述各实施例的渗透测试方法属于同一个发明构思，在计算机可读存储介质的实施例中未详尽描述的细节内容，可以参考上述渗透测试方法的实施例。本实施例提供一种包含计算机可执行指令的存储介质，计算机可执行指令在由计算机处理器执行时用于执行一种渗透测试方法，该方法包括：获取渗透目标对应的目标信息图谱；对所述目标信息图谱的各个节点进行攻击点分析，得到所述目标信息图谱的渗透攻击入口节点；基于所述渗透攻击入口节点对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。在本公开一些实施例中，该方法还包括：获取所述渗透目标的采集信息，其中，所述采集信息包含多个维度的属性信息；以所述渗透目标及其对应的属性信息为节点，以所述渗透目标与所述属性信息之间的多个第一关联关系以及不同属性信息之间的多个第二关联关系为边，构成所述目标信息图谱。在本公开一些实施例中，所述采集信息包括以下一种或者多种组合：暴露面信息、WEB信息、脆弱性信息、敏感信息、配置信息；所述采集信息属于以下至少一个维度：主机类型、应用类型以及主机服务类型。在本公开一些实施例中，所述对所述目标信息图谱的各个节点进行攻击点分析，得到所述目标信息图谱的渗透攻击入口节点，包括：从所述目标信息图谱的各个节点中获取待分析节点；利用所述待分析节点对应的攻击技术，对所述待分析节点进行攻击点分析，确定所述待分析节点是否存在攻击漏洞；若所述待分析节点存在攻击漏洞，则将所述待分析节点作为所述目标信息图谱的渗透攻击入口节点。在本公开一些实施例中，所述待分析节点包括：主机类型节点、基于安全通道协议的服务节点以基于WEB服务的文件上传节点中的至少一个。在本公开一些实施例中，所述基于所述渗透攻击入口节点对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果，包括：将所述渗透攻击入口节点作为渗透测试的测试入口，利用所述渗透攻击入口节点关联的攻击条件和攻击方式，对所述渗透目标进行渗透测试，得到所述渗透目标的渗透测试结果。在本公开一些实施例中，该方法还包括：基于所述渗透目标的渗透测试结果，生成所述渗透测试报告并显示。当然，本公开实施例所提供的一种包含计算机可执行指令的存储介质，其计算机可执行指令不限于如上的方法操作，还可以执行本公开任意实施例所提供的渗透测试方法中的相关操作。通过以上关于实施方式的描述，所属领域的技术人员可以清楚地了解到，本公开可借助软件及必需的通用硬件来实现，当然也可以通过硬件实现，但很多情况下前者是更佳的实施方式。基于这样的理解，本公开的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如计算机的软盘、只读存储器、随机存取存储器、闪存、硬盘或光盘等，包括若干指令用以使得一台计算机云平台执行本公开各个实施例所提供的渗透测试方法。注意，上述仅为本公开的较佳实施例及所运用技术原理。本领域技术人员会理解，本公开不限于这里的特定实施例，对本领域技术人员来说能够进行各种明显的变化、重新调整和替代而不会脱离本公开的保护范围。因此，虽然通过以上实施例对本公开进行了较为详细的说明，但是本公开不仅仅限于以上实施例，在不脱离本公开构思的情况下，还可以包括更多其他等效实施例，而本公开的范围由所附的权利要求范围决定。
