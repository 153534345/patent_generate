标题title
一种基于患者个体知识图谱的医患交互方法及系统
摘要abst
本发明公开了一种基于患者个体知识图谱的医患交互方法及系统，包括：图谱构建模块：用于获取患者个体医疗健康图谱；图谱可视化模块：用于将所述患者个体医疗健康图谱可视化、展示及应用；交互数据采集模块：用于采集数据；交互数据分析模块：获取患者兴趣、操作效率和/或满意度信息；报告生成与反馈模块：用于生成诊疗全过程记录报告、患者就诊报告和系统使用报告。本发明为医患沟通过程建立视觉、听觉等多方位的交互渠道；通过提供可视化的诊疗参考文档，引导患者积极主动参与诊疗过程；提供包含诊疗过程记录与后续检查检验、治疗建议的易理解的诊疗报告，为患者后续检查检验、用药、手术等长期生活与治疗提供参考，也有利于医疗服务质量控制。
权利要求书clms
1.一种基于患者个体知识图谱的医患交互系统，其特征在于，包括：图谱构建模块：用于获取患者个体医疗健康图谱；图谱可视化模块：用于将所述患者个体医疗健康图谱可视化，并将可视化患者个体医疗健康图谱展示及应用；交互数据采集模块：用于采集图谱操作数据、语音记录数据和注意记录数据；交互数据分析模块：用于对所述图谱操作数据、所述语音记录数据和所述注意记录数据进行预处理，并对预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据进行统计处理与分析，获取患者兴趣、操作效率和/或满意度信息；报告生成与反馈模块：用于基于所述患者个体医疗健康图谱，根据所述图谱操作数据、所述语音记录数据和所述注意记录数据的分析结果，生成诊疗全过程记录报告、患者就诊报告和系统使用报告。2.如权利要求1所述的一种基于患者个体知识图谱的医患交互系统，其特征在于，所述图谱构建模块具体包括：本体模型构建单元：用于获取科室对应疾病的临床指南、诊断标准和/或治疗标准，从所述临床指南、所述诊断标准和/或所述治疗标准中抽取标准化实体；利用神经网络对所述标准化实体进行标准化关系的识别，所述标准化关系为“父类-子类”关系或“类-示例”关系；将所述标准化实体和所述标准化关系以“实体-关系-实体”的三元组存储，并经过知识推理完成疾病本体模型的构建；患者历史诊疗记录获取单元：用于获取包含未结构化数据、结构化数据和半结构化数据的患者历史诊疗记录；患者个体医疗健康图谱构建单元：用于从所述患者历史诊疗记录中分别针对所述未结构化数据、所述结构化数据和所述半结构化数据抽取真实化实体与真实化关系，将所述真实化实体与所述真实化关系映射到所述疾病本体模型中，获取患者个体医疗健康图谱。3.如权利要求1所述的一种基于患者个体知识图谱的医患交互系统，其特征在于，所述图谱可视化模块具体包括：图谱可视化单元：用于将所述患者个体医疗健康图谱转化为Json格式，并使用JavaScript库three.js完成对Json格式的图谱可视化，获取展示的可视化患者个体医疗健康图谱；图像应用单元：用于对所述可视化患者个体医疗健康图谱进行显示，并对图谱点选、拖拽、放大或缩小等图谱操作事件进行实时监听与页面更新。4.如权利要求3所述的一种基于患者个体知识图谱的医患交互系统，其特征在于，所述Json格式为：将实体以节点形式存储为集合，具体包含存储本体文件内实体的中文标签、节点在知识体系层级结构中的深度、单个知识节点的简单说明与节点类型；其中，节点深度影响可视化界面中节点对应球体的尺寸与颜色，节点的说明提供给用户进行知识学习，节点类型用于区分类或实例；除节点集合外，将关系以连接形式存储为集合，存储所有具有直接从属关系或具有直接相关性的关系三元组，连接集合中存储了所有连接的起点与连接的终点；其中，连接的起点标记“父类-子类”关系三元组的父类名，或“类-示例”关系三元组的类名，连接的终点标记“父类-子类”关系三元组的子类名，或“类-示例”关系三元组的实例名。5.如权利要求3所述的一种基于患者个体知识图谱的医患交互系统，其特征在于，所述使用JavaScript库three.js完成对Json格式的图谱可视化具体过程为：步骤一：页面初始化；步骤二：设置渲染器、场景、摄像机；步骤三：设置节点和连接代表实体和关系；步骤四：渲染页面；步骤五：事件监听；步骤六：更新页面，得到可视化的患者个体医疗健康图谱。6.如权利要求1所述的一种基于患者个体知识图谱的医患交互系统，其特征在于，所述图谱操作数据为对所述患者个体医疗健康图谱的操作，包括图谱点选、拖拽、放大或缩小；所述语音记录数据为沟通过程的自然语言录入；所述注意记录数据包括追踪患者头部面向位置获取患者感兴趣范围和追踪患者视线获取患者学习行为与习惯。7.如权利要求1所述的一种基于患者个体知识图谱的医患交互系统，其特征在于，对所述图谱操作数据、所述语音记录数据和所述注意记录数据进行预处理，具体包括：抽取所述图谱操作数据中静态操作数据与动态操作数据，所述静态操作数据包含停留时长与占比，所述动态操作数据包含操作持续时间、操作频率、和/或操作稳定度；抽取所述语音记录数据中的静音时长、关键词出现频率和/或抢插话情况；抽取所述注意记录数据中患者对所述患者个体医疗健康图谱与诊室内各对象的首次注视所需时间、注视次数、注视时长与占比、注视时的瞬时与平均瞳孔直径、区域跳出次数、眨眼次数和/或频率，使用热力图绘制感兴趣区域；对齐预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据的时间戳，得到按时间顺序排列的多维数据表，用于患者兴趣、操作效率和/或满意度的分析。8.如权利要求1所述的一种基于患者个体知识图谱的医患交互系统，其特征在于，所述报告生成与反馈模块具体包括：诊疗全过程记录报告生成单元：用于基于所述患者个体医疗健康图谱，结合预处理后的所述语音记录数据自动填充预设诊疗全过程记录报告模板，经医生审核后，生成诊疗全过程记录报告；患者就诊报告生成单元：用于基于所述患者个体医疗健康图谱，结合诊疗过程记录、基本病历内容与医生指导，自动填充预设患者就诊报告模板，经医生审核后，生成患者就诊报告；系统使用报告生成单元：用于基于所述患者个体医疗健康图谱，结合交互记录统计报表、患者关心热点图与对应的分析报告，通过分析预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据，实时更新与优化患者个体医疗健康图谱。9.一种基于患者个体知识图谱的医患交互方法，其特征在于，包括以下步骤：步骤S1：获取患者个体医疗健康图谱；步骤S2：将所述患者个体医疗健康图谱可视化，并将可视化患者个体医疗健康图谱展示及应用；步骤S3：采集图谱操作数据、语音记录数据和注意记录数据；步骤S4：对所述图谱操作数据、所述语音记录数据和所述注意记录数据进行预处理，并对预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据进行统计处理与分析，获取患者兴趣、操作效率和/或满意度信息；步骤S5：基于所述患者个体医疗健康图谱，根据所述图谱操作数据、所述语音记录数据和所述注意记录数据的分析结果，生成诊疗全过程记录报告、患者就诊报告和系统使用报告。
说明书desc
技术领域本发明涉及一种医疗信息健康技术领域，尤其涉及一种基于患者个体知识图谱的医患交互方法及系统。背景技术医患关系是医务人员与患者因诊疗服务产生的特殊关系，良好的医患沟通不仅能够帮助建立良好的信任关系、有效避免医患矛盾发生，也有助于诊疗过程顺利进行，并通过提高患者依从性等途径提高治疗效果，相对地，不良的医患关系不仅导致患者对医生与医院的信任度降低，不利于患者疾病诊疗过程进行，还有可能导致医患矛盾，从而对正常的医疗秩序造成影响。2016年的一项针对410位慢性病患者针对医患关系评价进行了问卷调查，问题“对各方承担的医患关系责任评价”的调查结果显示，67.1%的调查对象认为医院层面上，医患沟通不顺畅应承担大部分责任，认为患者层面上病人对诊疗期望过高的调查对象达54.5%。另一问题“如何改善目前的医患关系”的调查结果显示，47.9%的调查对象认为需建立完善医患沟通渠道，同时认为患者需正确认识医疗行业特点、避免期望过高的调查对象达35.3%。影响医患沟通的因素较多，例如目前大多数诊疗过程以医生和患者面对面的语言沟通为主，然而大量研究证明，视觉对信息的接受效率远高于听觉。一方面由于使用视觉接受信息为主动接受信息，接受速度受到眼动、视觉接受和信息理解三个因素的影响，而使用听觉接受信息为被动接受信息，接受速度主要取决于语音速度，而无法理解的信息则被溢出；另一方面，人类在使用视觉接受信息时，大多数情况下会在心里默读视觉接受内容，此时听觉两个通道同时被激活。由于患者的诊疗依赖于医务人员的专业技术与指导，且医生与患者或患者家属群体相比具有更加专业的医疗知识，因而在大多数诊疗沟通中，往往由医生占据主导地位。然而，患者作为医疗过程的主体却在诊疗过程中处于被动接受的状态，患者缺乏相关医学知识获得途径，医学知识体系也较为复杂与封闭。在这种情况下，患者易在诊疗过程中产生疑惑，甚至容易激化为医患矛盾。综上所述，随着医学模式逐渐向“患者为中心”转变，若患者在诊疗过程中能够通过可获得、易理解的方式进行即时的学习，在医生的引导下能够对本人身体状况、对疾病有一定程度的了解，不仅有利于提高患者参与临床决策的主观能动性，帮助医患沟通的顺畅进行，也有助于共同找到适合患者状况的个性化治疗方案，还可以大大提高患者在检查检验治疗过程中的依从性，如按时用药、定期复查等，对于治疗效果的提高也有较大助益。目前，存在的问题如下：1、大多门诊以医生和患者面对面交流为主，医生使用口头沟通对患者身体状况进行初步了解并提供进一步的检查检验或治疗方案指导，然而有研究证明，与听觉接受信息相比，兼用视觉能够帮助人类接受并理解更多的信息。2、目前的诊疗沟通往往由更为专业、知识更丰富的医生占据主导地位，医学知识体系复杂且具封闭性且一般患者缺乏知识获取渠道，导致患者在诊疗过程中缺乏难以主动参与。3、诊疗结束后，患者仅获得包含诊断结论、检查检验、药物清单等纸质材料留档，难以对诊疗过程进行回溯，不利于医疗服务质量控制与患者回顾病情等。为此，我们提出一种基于患者个体知识图谱的医患交互方法及系统以解决上述技术问题。发明内容本发明为了解决上述技术问题，提供一种基于患者个体知识图谱的医患交互方法及系统。本发明采用的技术方案如下：一种基于患者个体知识图谱的医患交互系统，包括：图谱构建模块：用于获取患者个体医疗健康图谱；图谱可视化模块：用于将所述患者个体医疗健康图谱可视化，并将可视化患者个体医疗健康图谱展示及应用；交互数据采集模块：用于采集图谱操作数据、语音记录数据和注意记录数据；交互数据分析模块：用于对所述图谱操作数据、所述语音记录数据和所述注意记录数据进行预处理，并对预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据进行统计处理与分析，获取患者兴趣、操作效率和/或满意度信息；报告生成与反馈模块：用于基于所述患者个体医疗健康图谱，根据所述图谱操作数据、所述语音记录数据和所述注意记录数据的分析结果，生成诊疗全过程记录报告、患者就诊报告和系统使用报告。进一步地，所述图谱构建模块具体包括：本体模型构建单元：用于获取科室对应疾病的临床指南、诊断标准和/或治疗标准，从所述临床指南、所述诊断标准和/或所述治疗标准中抽取标准化实体；利用神经网络对所述标准化实体进行标准化关系的识别，所述标准化关系为“父类-子类”关系或“类-示例”关系；将所述标准化实体和所述标准化关系以“实体-关系-实体”的三元组存储，并经过知识推理完成疾病本体模型的构建；患者历史诊疗记录获取单元：用于获取包含未结构化数据、结构化数据和半结构化数据的患者历史诊疗记录；患者个体医疗健康图谱构建单元：用于从所述患者历史诊疗记录中分别针对所述未结构化数据、所述结构化数据和所述半结构化数据抽取真实化实体与真实化关系，将所述真实化实体与所述真实化关系映射到所述疾病本体模型中，获取患者个体医疗健康图谱。进一步地，所述图谱可视化模块具体包括：图谱可视化单元：用于将所述患者个体医疗健康图谱转化为Json格式，并使用JavaScript库three.js完成对Json格式的图谱可视化，获取展示的可视化患者个体医疗健康图谱；图像应用单元：用于对所述可视化患者个体医疗健康图谱进行显示，并对图谱点选、拖拽、放大或缩小等图谱操作事件进行实时监听与页面更新。进一步地，所述Json格式为：将实体以节点形式存储为集合，具体包含存储本体文件内实体的中文标签、节点在知识体系层级结构中的深度、单个知识节点的简单说明与节点类型；其中，节点深度影响可视化界面中节点对应球体的尺寸与颜色，节点的说明提供给用户进行知识学习，节点类型用于区分类或实例；除节点集合外，将关系以连接形式存储为集合，存储所有具有直接从属关系或具有直接相关性的关系三元组，连接集合中存储了所有连接的起点与连接的终点；其中，连接的起点标记“父类-子类”关系三元组的父类名，或“类-示例”关系三元组的类名，连接的终点标记“父类-子类”关系三元组的子类名，或“类-示例”关系三元组的实例名。进一步地，所述使用JavaScript库three.js完成对Json格式的图谱可视化具体过程为：步骤一：页面初始化；步骤二：设置渲染器、场景、摄像机；步骤三：设置节点和连接代表实体和关系；步骤四：渲染页面；步骤五：事件监听；步骤六：更新页面，得到可视化的患者个体医疗健康图谱。进一步地，所述图谱操作数据为对所述患者个体医疗健康图谱的操作，包括图谱点选、拖拽、放大或缩小；所述语音记录数据为沟通过程的自然语言录入；所述注意记录数据包括追踪患者头部面向位置获取患者感兴趣范围和追踪患者视线获取患者学习行为与习惯。进一步地，对所述图谱操作数据、所述语音记录数据和所述注意记录数据进行预处理，具体包括：抽取所述图谱操作数据中静态操作数据与动态操作数据，所述静态操作数据包含停留时长与占比，所述动态操作数据包含操作持续时间、操作频率、和/或操作稳定度；抽取所述语音记录数据中的静音时长、关键词出现频率和/或抢插话情况；抽取所述注意记录数据中患者对所述患者个体医疗健康图谱与诊室内各对象的首次注视所需时间、注视次数、注视时长与占比、注视时的瞬时与平均瞳孔直径、区域跳出次数、眨眼次数和/或频率，使用热力图绘制感兴趣区域；对齐预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据的时间戳，得到按时间顺序排列的多维数据表，用于患者兴趣、操作效率和/或满意度的分析。进一步地，所述报告生成与反馈模块具体包括：诊疗全过程记录报告生成单元：用于基于所述患者个体医疗健康图谱，结合预处理后的所述语音记录数据自动填充预设诊疗全过程记录报告模板，经医生审核后，生成诊疗全过程记录报告；患者就诊报告生成单元：用于基于所述患者个体医疗健康图谱，结合诊疗过程记录、基本病历内容与医生指导，自动填充预设患者就诊报告模板，经医生审核后，生成患者就诊报告；系统使用报告生成单元：用于基于所述患者个体医疗健康图谱，结合交互记录统计报表、患者关心热点图与对应的分析报告，通过分析预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据，实时更新与优化患者个体医疗健康图谱。本发明还提供一种基于患者个体知识图谱的医患交互方法，包括以下步骤：步骤S1：获取患者个体医疗健康图谱；步骤S2：将所述患者个体医疗健康图谱可视化，并将可视化患者个体医疗健康图谱展示及应用；步骤S3：采集图谱操作数据、语音记录数据和注意记录数据；步骤S4：对所述图谱操作数据、所述语音记录数据和所述注意记录数据进行预处理，并对预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据进行统计处理与分析，获取患者兴趣、操作效率和/或满意度信息；步骤S5：基于所述患者个体医疗健康图谱，根据所述图谱操作数据、所述语音记录数据和所述注意记录数据的分析结果，生成诊疗全过程记录报告、患者就诊报告和系统使用报告。本发明的有益效果是：1、本发明在构建领域本体的基础上根据患者历史诊疗记录构建可视化、可交互的患者个体医疗健康图谱，为医患沟通过程建立视觉、听觉等多方位的交互渠道，与传统的口头沟通相比，本发明能够帮助医生、患者获取、接受并理解更丰富的信息。2、本发明通过提供可视化的诊疗参考文档，引导患者积极主动参与诊疗过程，有助于辅助医患沟通顺利进行，提高患者对于医生与医院的信任，改善医患关系，同时提高患者对于治疗方案的接受度与配合度，提高治疗效果。3、本发明设计在阶段性诊疗结束时提供包含诊疗过程记录与后续检查检验、治疗建议的易理解的诊疗报告，不仅允许患者对诊疗过程进行回溯，还能够为患者后续检查检验、用药、手术、复诊等长期生活与治疗提供参考，也有利于医疗服务质量控制。附图说明图1为本发明一种基于患者个体知识图谱的医患交互系统的框架图；图2为本发明一种基于患者个体知识图谱的医患交互方法的流程示意图；图3为实施例的具体示意图；图4为实施例可视化与实时渲染流程图。具体实施方式以下对至少一个示例性实施例的描述实际上仅仅是说明性的，决不作为对本发明及其应用或使用的任何限制。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。参见图1，一种基于患者个体知识图谱的医患交互系统，包括：图谱构建模块：用于获取患者个体医疗健康图谱；所述图谱构建模块具体包括：本体模型构建单元：用于获取科室对应疾病的临床指南、诊断标准和/或治疗标准，从所述临床指南、所述诊断标准和/或所述治疗标准中抽取标准化实体；利用神经网络对所述标准化实体进行标准化关系的识别，所述标准化关系为“父类-子类”关系或“类-示例”关系；将所述标准化实体和所述标准化关系以“实体-关系-实体”的三元组存储，并经过知识推理完成疾病本体模型的构建；患者历史诊疗记录获取单元：用于获取包含未结构化数据、结构化数据和半结构化数据的患者历史诊疗记录；患者个体医疗健康图谱构建单元：用于从所述患者历史诊疗记录中分别针对所述未结构化数据、所述结构化数据和所述半结构化数据抽取真实化实体与真实化关系，将所述真实化实体与所述真实化关系映射到所述疾病本体模型中，获取患者个体医疗健康图谱。图谱可视化模块：用于将所述患者个体医疗健康图谱可视化，并将可视化患者个体医疗健康图谱展示及应用；所述图谱可视化模块具体包括：图谱可视化单元：用于将所述患者个体医疗健康图谱转化为Json格式，并使用JavaScript库three.js完成对Json格式的图谱可视化，获取展示的可视化患者个体医疗健康图谱；所述Json格式为：将实体以节点形式存储为集合，具体包含存储本体文件内实体的中文标签、节点在知识体系层级结构中的深度、单个知识节点的简单说明与节点类型；其中，节点深度影响可视化界面中节点对应球体的尺寸与颜色，节点的说明提供给用户进行知识学习，节点类型用于区分类或实例；除节点集合外，将关系以连接形式存储为集合，存储所有具有直接从属关系或具有直接相关性的关系三元组，连接集合中存储了所有连接的起点与连接的终点；其中，连接的起点标记“父类-子类”关系三元组的父类名，或“类-示例”关系三元组的类名，连接的终点标记“父类-子类”关系三元组的子类名，或“类-示例”关系三元组的实例名。所述使用JavaScript库three.js完成对Json格式的图谱可视化具体过程为：步骤一：页面初始化；步骤二：设置渲染器、场景、摄像机；步骤三：设置节点和连接代表实体和关系；步骤四：渲染页面；步骤五：事件监听；步骤六：更新页面，得到可视化的患者个体医疗健康图谱。图像应用单元：用于对所述可视化患者个体医疗健康图谱进行显示，并对图谱点选、拖拽、放大或缩小等图谱操作事件进行实时监听与页面更新。交互数据采集模块：用于采集图谱操作数据、语音记录数据和注意记录数据；所述图谱操作数据为对所述患者个体医疗健康图谱的操作，包括图谱点选、拖拽、放大或缩小；所述语音记录数据为沟通过程的自然语言录入；所述注意记录数据包括追踪患者头部面向位置获取患者感兴趣范围和追踪患者视线获取患者学习行为与习惯。交互数据分析模块：用于对所述图谱操作数据、所述语音记录数据和所述注意记录数据进行预处理，并对预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据进行统计处理与分析，获取患者兴趣、操作效率和/或满意度信息；对所述图谱操作数据、所述语音记录数据和所述注意记录数据进行预处理，具体包括：抽取所述图谱操作数据中静态操作数据与动态操作数据，所述静态操作数据包含停留时长与占比，所述动态操作数据包含操作持续时间、操作频率、和/或操作稳定度；抽取所述语音记录数据中的静音时长、关键词出现频率和/或抢插话情况；抽取所述注意记录数据中患者对所述患者个体医疗健康图谱与诊室内各对象的首次注视所需时间、注视次数、注视时长与占比、注视时的瞬时与平均瞳孔直径、区域跳出次数、眨眼次数和/或频率，使用热力图绘制感兴趣区域；对齐预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据的时间戳，得到按时间顺序排列的多维数据表，用于患者兴趣、操作效率和/或满意度的分析。报告生成与反馈模块：用于基于所述患者个体医疗健康图谱，根据所述图谱操作数据、所述语音记录数据和所述注意记录数据的分析结果，生成诊疗全过程记录报告、患者就诊报告和系统使用报告。所述报告生成与反馈模块具体包括：诊疗全过程记录报告生成单元：用于基于所述患者个体医疗健康图谱，结合预处理后的所述语音记录数据自动填充预设诊疗全过程记录报告模板，经医生审核后，生成诊疗全过程记录报告；患者就诊报告生成单元：用于基于所述患者个体医疗健康图谱，结合诊疗过程记录、基本病历内容与医生指导，自动填充预设患者就诊报告模板，经医生审核后，生成患者就诊报告；系统使用报告生成单元：用于基于所述患者个体医疗健康图谱，结合交互记录统计报表、患者关心热点图与对应的分析报告，通过分析预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据，实时更新与优化患者个体医疗健康图谱。参见图2，一种基于患者个体知识图谱的医患交互方法，包括以下步骤：步骤S1：获取患者个体医疗健康图谱；步骤S2：将所述患者个体医疗健康图谱可视化，并将可视化患者个体医疗健康图谱展示及应用；步骤S3：采集图谱操作数据、语音记录数据和注意记录数据；步骤S4：对所述图谱操作数据、所述语音记录数据和所述注意记录数据进行预处理，并对预处理后的所述图谱操作数据、所述语音记录数据和所述注意记录数据进行统计处理与分析，获取患者兴趣、操作效率和/或满意度信息；步骤S5：基于所述患者个体医疗健康图谱，根据所述图谱操作数据、所述语音记录数据和所述注意记录数据的分析结果，生成诊疗全过程记录报告、患者就诊报告和系统使用报告。实施例：一种基于患者个体知识图谱的医患交互方法，具体包含以下步骤：首先构建领域本体，并经患者授权后从历史诊疗记录抽取实体与关系，映射到领域本体，形成患者个体医疗健康图谱；其次，对患者个体医疗健康图谱进行可视化并在患者门诊过程中应用，医生或患者可通过点选、拖拽等操作，来选择知识进行说明或对整个知识体系进行浏览；再次，系统将实时采集医患沟通中的交互数据，具体包括图谱操作数据、语音记录数据与注意记录数据；然后，经过对交互数据的预处理、时间戳对齐后，系统将针对诊疗全过程的患者兴趣内容分布、患者操作效率、情绪稳定度等进行综合分析；最后，系统将在诊疗结束前自动填充预设病历模板，并生成面向医生、面向患者的患者就诊报告，帮助医院与医生提升服务质量、提升患者满意度，帮助患者对诊疗过程进行回溯，还能够为患者后续检查检验、用药、手术、复诊等长期生活与治疗提供参考，同时系统通过对患者阅读、学习习惯的分析形成反馈完成系统的自我更新与优化。参见图3：A.图谱构建模块：患者个体医疗健康图谱构建包含以下几个部分：1.本体模型构建单元：以单一科室为例，本体模型构建的数据来源为科室对应疾病的临床指南、诊断标准、治疗标准等，以SNOMED-CT为依据进行分词，抽象得到疾病、饮食、药物、手术、检查项目、检验项目、相关疾病、个人信息等标准化实体实体，进一步使用神经网络对抽取得到的准化实体实体进行标准化关系的识别，这里的标准化关系包含但不限于发生部位、值、包含关系等，经过知识推理构建完成疾病本体模型的构建，包含类、各类属性、实例等资源；2.患者历史诊疗记录获取单元：包含患者在多个医疗机构产生的门诊、住院记录，具体包含未结构化的、以自然语言记录的主诉、现病史、个人史、既往史、家族史等文本，半结构化的诊断记录，以及结构化的检查检验、用药、手术等数据；3.患者个体医疗健康图谱构建单元：从上述记录中抽取真实化实体，这里的真实化实体包含但不限于疾病、症状、药物、手术、检查、检验等；将抽取得到的患者真实化实体映射到预先构建的疾病本体模型；B.图谱可视化模块：图谱可视化主要将患者个体医疗健康图谱使用可视化方法呈现，首先将患者个体医疗健康图谱转化为Json格式：所有类和实例存储在结点集合中，节点集合包含存储本体文件内元素的中文标签、结点在知识体系层级结构中的深度、单个知识结点的简单说明与结点类型，其中结点深度将影响可视化界面中结点对应球体的尺寸与颜色，结点的说明提供给用户进行知识学习，结点类型用于区分类或实例；除结点集合外，连接集合存储所有具有直接从属关系或具有直接相关性的父类-子类关系三元组与类-实例组，连接集合中存储了所有连接的起点与终点，其中连接起点标记父类-子类关系三元组的父类名，或类-实例组的类名，连接的终点标记父类-子类关系三元组的子类名，或类-实例组的实例名。其次进行图谱可视化，本发明使用数据可视化领域常用的JavaScript库three.js完成，可以通过数据来操作文档，具体可视化与实时渲染流程如图4所示，其中“监听鼠标移动、点击、滚轮事件”指完成图谱可视化并在诊疗室内一台显示器向医生与患者同时展示时，医生可在诊疗过程中对图谱进行放大、缩小、对焦等操作为患者对病情进行说明，患者也可以在图谱上进行操作，提出疑问并希望医生进行解答，此时图谱将监听这类操作，并实时更新页面；C.交互数据采集模块：交互数据采集包括图谱操作数据、语音记录数据与注意记录数据采集，其中图谱操作数据包括医生与患者对患者个体医疗健康图谱的操作，如图谱点选、拖拽、放大与缩小等，语音记录数据为医患沟通过程的自然语言录入，注意记录数据包括两个采集范围，一方面在诊室范围内追踪患者头部面向位置，获取患者感兴趣范围，另一方面在患者个体医疗健康图谱范围内追踪患者视线，获取患者学习行为与习惯；D.交互数据分析模块：首先对图谱操作数据、语音记录数据和注意记录数据进行预处理：抽取图谱操作数据中用户的静态操作数据与动态操作数据，其中静态操作数据包含节点、关系等要素在可见范围内的停留时长与占比等，动态操作数据包含操作持续时间、操作频率、操作稳定度等；抽取注意记录数据中患者对患者个体医疗健康图谱与诊室内各对象的首次注视所需时间、注视次数、注视时长与占比、注视时的瞬时与平均瞳孔直径、区域跳出次数、眨眼次数与频率等，使用热力图等方法绘制感兴趣区域；抽取语音记录数据的静音时长、关键词出现频率、抢插话情况等。其次，对齐患者个体医疗健康图谱的图谱操作数据、注意记录数据、语音记录数据的时间戳，进一步针对患者兴趣、操作效率、满意度等方面，对预处理获得的数据进行统计处理与分析。例如在语音记录数据分析中，患者的语速、语调能够体现患者情绪起伏，在注意记录数据中，首次注意所需时间越短，说明对应区域越显眼，瞳孔直径越大，说明患者越感兴趣，而患者眨眼越频繁，说明患者越紧张等；E.报告生成与反馈模块：报告生成包括三个部分，首先是面向医生与医院的病历自动生成与诊疗全过程记录报告生成，系统以患者个体医疗健康图谱为基础，结合文本化的语音数据自动填充预设病历，经医生审核后完成病历，同时生成结构化的诊疗全过程记录报告，进一步地能够帮助医院与医生提升服务质量、提升患者满意度，持续推动更加有效的医患沟通与更优良的治疗效果；其次是面向患者的患者就诊报告生成，除了包含患者个体医疗健康图谱外，还包含诊疗过程记录、基本病历内容与医生指导，能够为患者提供后续检查检验、用药、手术、复诊等长期的生活建议与治疗参考；最后是面向系统改进、服务改进的系统使用报告，包含交互记录统计报表、患者关心热点图与对应的分析报告等，通过分析一般患者的阅读、学习习惯作为系统反馈，不断调整优化图谱展示，比如将患者更关心的内容优先放大显示在初始化画面内、将关联性高的信息聚集显示，在门诊沟通过程中起到对患者的引导作用。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
