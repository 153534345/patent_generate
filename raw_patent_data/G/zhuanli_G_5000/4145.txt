标题title
一种环境可视化方法、系统、存储介质和电子设备
摘要abst
本申请提供一种环境可视化方法、系统、存储介质和电子设备，涉及图像数据处理领域，包括：获取带有深度信息的图像数据；将所述图像数据发送至视频编码器，以便所述视频编码器输出深度视频数据；将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面。本申请通过获取带有深度信息的图像数据，在视频编码器编码后得到深度视频数据，可以在显示设备上直接显示裸眼3D画面，能够有效提升车内后视镜系统的真实感和距离辨识力，提升可视化图像的3D体验效果。
权利要求书clms
1.一种环境可视化方法，其特征在于，包括：获取带有深度信息的图像数据；将所述图像数据发送至视频编码器，以便所述视频编码器输出深度视频数据；将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面。2.根据权利要求1所述的环境可视化方法，其特征在于，获取带有深度信息的图像数据之后，还包括：根据预设格式存储所述图像数据。3.根据权利要求1所述的环境可视化方法，其特征在于，获取带有深度信息的图像数据包括：通过图像采集设备和激光雷达设备获取带有深度信息的图像数据；其中，所述深度信息包含所述图像数据中各目标的距离信息。4.根据权利要求3所述的环境可视化方法，其特征在于，通过图像采集设备和激光雷达设备获取带有深度信息的图像数据包括：通过图像采集设备和激光雷达设备获取点云数据；通过建立空间坐标系将所述点云数据填充至数据空间中，设定所述数据空间的范围和刻度，得到空间坐标系；将每一个所述点云数据填充至所述空间坐标系中，所述空间坐标系中空白区域根据周边点云数据进行填充；以所述空间坐标系的z轴为有效数据， x轴和y轴为所述图像数据的像素坐标，z轴数据为深度数据；将z轴上深度数据的像素数据相结合，得到带有深度信息的图像数据。5.根据权利要求1所述的环境可视化方法，其特征在于，将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备包括：若所述图像数据源于主后视镜，将所述深度视频数据发送至位于前挡风玻璃上侧顶端的显示设备；若所述图像数据源于左侧后视镜，将所述深度视频数据发送至位于所述前挡风玻璃的左下角的显示设备；若所述图像数据源于右侧后视镜，将所述深度视频数据发送至位于所述前挡风玻璃的右下角的显示设备。6.根据权利要求1或5所述的环境可视化方法，其特征在于，所述显示设备为贴合于挡风玻璃的LED屏或OLED屏。7.根据权利要求1所述的环境可视化方法，其特征在于，将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面后，还包括：若所述深度视频数据中存在深度信息小于预设值的危险目标，在所述显示设备上显示所述危险目标的标记。8.一种环境可视化系统，其特征在于，包括：数据获取模块，用于获取带有深度信息的图像数据；编码模块，用于将所述图像数据发送至视频编码器，以便所述视频编码器输出深度视频数据；数据显示模块，用于将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面。9.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-7任一项所述的环境可视化方法的步骤。10.一种电子设备，其特征在于，包括存储器和处理器，所述存储器中存有计算机程序，所述处理器调用所述存储器中的计算机程序时实现如权利要求1-7任一项所述的环境可视化方法的步骤。
说明书desc
技术领域本申请涉及图像数据处理领域，特别涉及一种环境可视化方法、系统、存储介质和电子设备。背景技术传统的3D视频技术通常都需要比较专业的图像捕获设备和支持其特殊视频规格的专业显示设备，甚至是需要配搭特制的3D眼镜，这就为3D视频的推广制造了巨大的障碍。同时当前驾驶员在驾驶车辆时，仅仅依赖主后视镜以及两侧的后视镜，难以直观感受镜中反射画面中目标与自身的距离，使得驾驶员对于距离把控时长存在误差，影响驾驶。发明内容本申请的目的是提供一种环境可视化方法、环境可视化系统、存储介质和电子设备，能够将车辆周身环境实现裸眼3D化，便于驾驶员直观感受车辆与目标之间的距离。为解决上述技术问题，本申请提供一种环境可视化方法，具体技术方案如下：获取带有深度信息的图像数据；将所述图像数据发送至视频编码器，以便所述视频编码器输出深度视频数据；将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面。可选的，获取带有深度信息的图像数据之后，还包括：根据预设格式存储所述图像数据。可选的，获取带有深度信息的图像数据包括：通过图像采集设备和激光雷达设备获取带有深度信息的图像数据；其中，所述深度信息包含所述图像数据中各目标的距离信息。可选的，通过图像采集设备和激光雷达设备获取带有深度信息的图像数据包括：通过图像采集设备和激光雷达设备获取点云数据；通过建立空间坐标系将所述点云数据填充至数据空间中，设定所述数据空间的范围和刻度，得到空间坐标系；将每一个所述点云数据填充至所述空间坐标系中，所述空间坐标系中空白区域根据周边点云数据进行填充；以所述空间坐标系的z轴为有效数据， x轴和y轴为所述图像数据的像素坐标，z轴数据为深度数据；将z轴上深度数据的像素数据相结合，得到带有深度信息的图像数据。可选的，将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备包括：若所述图像数据源于主后视镜，将所述深度视频数据发送至位于前挡风玻璃上侧顶端的显示设备；若所述图像数据源于左侧后视镜，将所述深度视频数据发送至位于所述前挡风玻璃的左下角的显示设备；若所述图像数据源于右侧后视镜，将所述深度视频数据发送至位于所述前挡风玻璃的右下角的显示设备。可选的，所述显示设备为贴合于挡风玻璃的LED屏或OLED屏。可选的，将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面后，还包括：若所述深度视频数据中存在深度信息小于预设值的危险目标，在所述显示设备上显示所述危险目标的标记。本申请还提供一种环境可视化系统，包括：数据获取模块，用于获取带有深度信息的图像数据；编码模块，用于将所述图像数据发送至视频编码器，以便所述视频编码器输出深度视频数据；数据显示模块，用于将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面。本申请还提供一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现如上所述的方法的步骤。本申请还提供一种电子设备，包括存储器和处理器，所述存储器中存有计算机程序，所述处理器调用所述存储器中的计算机程序时实现如上所述的方法的步骤。本申请提供一种环境可视化方法，包括：获取带有深度信息的图像数据；将所述图像数据发送至视频编码器，以便所述视频编码器输出深度视频数据；将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面。本申请通过获取带有深度信息的图像数据，在视频编码器编码后得到深度视频数据，可以在显示设备上直接显示裸眼3D画面，能够有效提升车内后视镜系统的真实感和距离辨识力，提升可视化图像的3D体验效果。本申请还提供一种环境可视化系统、存储介质和电子设备，具有上述有益效果，此处不再赘述。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本申请实施例所提供的一种环境可视化方法的流程图；图2为本申请实施例提供的一种显示设备的位置示意图；图3为本申请实施例提供的另一种显示设备的位置示意图；图4为本申请实施例所提供的一种环境可视化系统结构示意图。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。请参考图1，图1为本申请实施例所提供的一种环境可视化方法的流程图，该方法包括：S101：获取带有深度信息的图像数据；本步骤旨在获取带有深度信息的图像数据，该深度信息指的是距离信息，则本步骤实际上是获取带有图像中目标之间距离信息的图像数据。该深度信息包括图像数据中各目标的距离信息在此对于如何获取带有深度信息的图像数据不作限定，可以通过图像采集设备和激光雷达设备获取带有深度信息的图像数据。图像采集设备用于采集环境图像，激光雷达设备用于确定环境中各目标的距离信息，二者相结合可以得到带有深度信息的图像数据。具体的，本步骤可以包含如下过程：第一步、通过图像采集设备和激光雷达设备获取点云数据；第二步、通过建立空间坐标系将所述点云数据填充至数据空间中，设定所述数据空间的范围和刻度，得到空间坐标系；第三步、将每一个所述点云数据填充至所述空间坐标系中，所述空间坐标系中空白区域根据周边点云数据进行填充；第四步、以所述空间坐标系的z轴为有效数据， x轴和y轴为所述图像数据的像素坐标，z轴数据为深度数据；第五步、将z轴上深度数据的像素数据相结合，得到带有深度信息的图像数据。点云数据为在一个三维坐标系统中的一组向量的集合，可以视为三维向量。具体的，可由图像采集设备确定环境中各目标的平面坐标，再激光雷达设备确定各目标之间的距离信息后赋予其相应的z轴数据，以得到环境中各目标的点云数据。第二步中建立的空间坐标系，在此并不限定其建立方式，可以以自身为原点建立空间坐标系。以本申请应用在车辆驾驶领域为例，可以以车辆自身为原点建立空间坐标系，便于直接确定环境中的各目标与车辆的相对距离。此后对空间坐标系中的x轴、y轴和z轴进行数据处理，即可得到带有深度信息的图像数据。此外，在执行完本步骤后，可以根据预设格式存储所述图像数据。S102：将所述图像数据发送至视频编码器，以便所述视频编码器输出深度视频数据；本步骤需要对图像数据进行编码，从而输出深度视频数据。所编码的格式在此不作限定，例如可以为RGB-D格式或者3D-HEVC格式等等，其可以根据所展示的显示设备支持的视频数据格式决定。相应的，本步骤对于采用何种格式的视频编码器亦不作限定，可以根据显示设备的显示格式采用类型相适配的视频编码器。S103：将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面。在得到深度视频数据后，将深度视频数据按照图像数据的来源发送至相应的显示设备。以车辆为例，执行本步骤时可以按照如下过程执行：若所述图像数据源于主后视镜，将所述深度视频数据发送至位于前挡风玻璃上侧顶端的显示设备；若所述图像数据源于左侧后视镜，将所述深度视频数据发送至位于所述前挡风玻璃的左下角的显示设备；若所述图像数据源于右侧后视镜，将所述深度视频数据发送至位于所述前挡风玻璃的右下角的显示设备。参见图2，图2为本申请实施例提供的一种显示设备的位置示意图，可应用于车辆中，图2中，三块显示设备分别设于图中所示位置，其中，前挡风玻璃上设有分别显示主后视镜、左侧后视镜和右侧后视镜的显示设备，从而使得驾驶员能够直观看到各后视镜对应的环境场景，以及可能存在的危险目标。由于本申请实施例采用了裸眼3D画面，所生成的画面更加生动形象，便于驾驶员精准感受到后方异常物体迫近时的距离信息。参见图3，图3为本申请实施例提供的另一种显示设备的位置示意图，相较于图2，图3中仅在前挡风玻璃中显示主后视镜对应的裸眼3D画面，其余两侧后视镜对应的画面由分别置于主驾驶位车门挡风玻璃以及副驾驶位的车门挡风玻璃上的显示设备。在此对于采用何种显示设备不作限定，该显示设备可以为贴合于挡风玻璃的LED屏或OLED屏。本申请实施例通过获取带有深度信息的图像数据，在视频编码器编码后得到深度视频数据，可以在显示设备上直接显示裸眼3D画面，能够有效提升车内后视镜系统的真实感和距离辨识力，提升可视化图像的3D体验效果。进一步的，在上述实施例的基础上，在所述显示设备上显示所述图像数据的裸眼3D画面后，可以根据深度信息进行目标是否为危险目标的判断。若深度视频数据中存在深度信息小于预设值的危险目标，在显示设备上标记危险目标。在此对于预设值不作限定，可以由本领域技术人员自行设定，例如可以为10cm、20cm甚至1m等。下面对本申请实施例提供的一种环境可视化系统进行介绍，下文描述的环境可视化系统与上文描述的环境可视化方法可相互对应参照。参见图4，图4为本申请实施例所提供的一种环境可视化系统结构示意图，本申请还提供一种环境可视化系统，包括：数据获取模块，用于获取带有深度信息的图像数据；编码模块，用于将所述图像数据发送至视频编码器，以便所述视频编码器输出深度视频数据；数据显示模块，用于将所述深度视频数据按照所述图像数据的来源发送至相应的显示设备，并在所述显示设备上显示所述图像数据的裸眼3D画面。基于上述实施例，作为优选的实施例，还包括：存储模块，用于根据预设格式存储所述图像数据。基于上述实施例，作为优选的实施例，数据获取模块包括：数据采集单元，用于通过图像采集设备和激光雷达设备获取带有深度信息的图像数据；其中，所述深度信息包含所述图像数据中各目标的距离信息。基于上述实施例，作为优选的实施例，数据采集单元为用于执行如下步骤的单元：通过图像采集设备和激光雷达设备获取点云数据；通过建立空间坐标系将所述点云数据填充至数据空间中，设定所述数据空间的范围和刻度，得到空间坐标系；将每一个所述点云数据填充至所述空间坐标系中，所述空间坐标系中空白区域根据周边点云数据进行填充；以所述空间坐标系的z轴为有效数据， x轴和y轴为所述图像数据的像素坐标，z轴数据为深度数据；将z轴上深度数据的像素数据相结合，得到带有深度信息的图像数据。基于上述实施例，作为优选的实施例，数据显示模块包括：第一显示单元，用于若所述图像数据源于主后视镜，将所述深度视频数据发送至位于前挡风玻璃上侧顶端的显示设备；第二显示单元，用于若所述图像数据源于左侧后视镜，将所述深度视频数据发送至位于所述前挡风玻璃的左下角的显示设备；第三显示单元，用于若所述图像数据源于右侧后视镜，将所述深度视频数据发送至位于所述前挡风玻璃的右下角的显示设备。基于上述实施例，作为优选的实施例，还包括：危险检测模块，用于若所述深度视频数据中存在深度信息小于预设值的危险目标，在所述显示设备上显示所述危险目标的标记。本申请还提供了一种计算机可读存储介质，其上存有计算机程序，该计算机程序被执行时可以实现上述实施例所提供的步骤。该存储介质可以包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。本申请还提供了一种电子设备，可以包括存储器和处理器，所述存储器中存有计算机程序，所述处理器调用所述存储器中的计算机程序时，可以实现上述实施例所提供的步骤。当然所述电子设备还可以包括各种网络接口，电源等组件。说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例提供的系统而言，由于其与实施例提供的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请的方法及其核心思想。应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以对本申请进行若干改进和修饰，这些改进和修饰也落入本申请权利要求的保护范围内。还需要说明的是，在本说明书中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。
