标题title
物联网管廊险情冗余检测定位与多链路通信方法及系统
摘要abst
本发明公开了物联网管廊险情冗余检测定位与多链路通信方法及系统，将管廊按照等边三角形划分为N个监管单元，在每个三角形端点处，部署无线传感器检测设备，当险情发生时，根据无线传感器检测设备检测的参数数值确定险情发生位置区域，险情节点与周边优先连接上的节点传输数据，确定数据传输方向，直至传输至出口网关，如果传输数据的链路中的部分节点故障无法传输数据，该数据会返回至险情节点，险情节点重新与另一方向节点建立链接传输数据，直至从另外一端传输至另一个出口网关；通过本发明能够准确定位险情发生点，并且当关键节点故障时，仍然能够实时准确地将险情告警数据传输出管廊。
权利要求书clms
1.物联网管廊险情冗余检测定位与多链路通信方法，其特征在于，将管廊从头到尾在同一平面中按照等边三角形划分为N个三角形监管单元；在每个三角形监管单元的三角形端点处，部署无线传感器检测设备，各无线传感器检测设备以及网关之间通过局域自组网连接，所述局域自组网按照三角MESH组网，所述局域自组网的每个节点与相邻四个节点之间距离相等；每个节点部署的无线传感器检测设备的监测半径大于相邻两个节点之间的连线的距离，整个三角形监管单元的险情事件均可以被检测到；当险情发生时，险情发生地周边的无线传感器检测设备，先后检测出险情，对所述无线传感器检测设备检测的参数数值按高低进行排名，根据数值前三名的无线传感器检测设备，定位出险情所在的三角形监管单元，如果第三名和第四名数值相当，则可用前四名定位出险情所在平行四边形监管区域，所述平行四边形监管区域由两个相邻三角形监管单元组成；距离险情发生地最近的节点为险情节点，险情节点与周边优先连接上的节点传输数据，确定数据传输方向，所述优先连接上的节点又会与该方向优先连接上的前方节点建立链接传输数据，直至传输至出口网关；如果传输数据的链路中的某个节点无法传输数据，该数据会返回至险情节点，险情节点重新与另一方向节点建立连接传输数据，直至从另外一方向的节点传输至另一个出口网关，出口网关部署在管廊两侧出口处。2.如权利要求1所述的物联网管廊险情冗余检测定位与多链路通信方法，其特征在于，采用三角分区法定位出风险点所在区域，采用双向每单元双链路通讯法实现2N个传输路径实现异常告警，将告警信息实时上传至管理平台。3.如权利要2所述的物联网管廊险情冗余检测定位与多链路通信方法，其特征在于，局域自组网采用双向每单元双链路通讯法，在一个方向，每个节点和下个节点之间有两个通路，双向N个单元，一直延续到管廊出口网关，险情节点与网关之间通过多链路传输方式建立2N个无线数据传输通路径。4.如权利要求1所述的物联网管廊险情冗余检测定位与多链路通信方法，其特征在于，无线传感器检测设备检测H2S、CH4、温度、液位参数。5.物联网管廊险情冗余检测定位与多链路通信系统，包括：管廊险情检测节点、管廊险情检测网关；管廊险情检测节点检测管廊中H2S、CH4、温度、液位参数，根据检测到的参数数值确定险情发生位置，采用三角分区法定位出险情点所在区域，将管廊从头到尾在同一平面中按照等边三角形划分为N个三角形监管单元，在每个三角形监管单元的三角形端点处，部署管廊险情检测节点，每个管廊险情检测节点部署的无线传感器检测设备的监测半径大于相邻两个管廊险情检测节点之间的连线的距离，整个三角形监管单元的险情事件均可以被检测到；当险情发生时，险情发生地周边的无线传感器检测设备，先后检测出险情，对所述无线传感器检测设备检测的参数数值按高低进行排名，根据数值前三名的无线传感器检测设备，定位出险情所在的三角形监管单元，如果第三名和第四名数值相当，则可用前四名定位出险情所在平行四边形监管区域，所述平行四边形监管区域由两个相邻三角形监管单元组成；管廊险情检测网关，用于将局域网数据转发至告警平台，所述管廊险情检测网关部署于管廊两侧出口处；各管廊险情检测节点以及管廊险情检测网关之间通过局域自组网连接。6.如权利要求5所述的物联网管廊险情冗余检测定位与多链路通信系统，其特征在于,所述局域自组网按照三角MESH组网，所述局域自组网的每个节点与相邻四个节点之间距离相等。7.如权利要求5所述的物联网管廊险情冗余检测定位与多链路通信系统，其特征在于,距离险情发生地最近的节点为险情节点，险情节点与周边优先连接上的节点传输数据，确定数据传输方向，所述优先连接上的节点又会与该方向优先连接上的前方节点建立链接传输数据，直至传输至管廊险情检测网关；如果传输数据的链路中的某个节点无法传输数据，该数据会返回至险情节点，险情节点重新与另一方向节点建立连接传输数据，直至从另外一方向的节点传输至另一个管廊险情检测网关。8.如权利要求5所述的物联网管廊险情冗余检测定位与多链路通信系统，其特征在于,局域自组网采用双向每单元双链路通讯法，在一个方向，每个节点和下个节点之间有两个通路，双向N个单元，一直延续到管廊管廊险情检测网关，险情节点与管廊险情检测网关之间建立2N个无线数据传输通路径。9.如权利要求5所述的物联网管廊险情冗余检测定位与多链路通信系统，其特征在于,采用双向每单元双链路通讯法实现2N个传输路径实现异常告警，将告警信息实时上传至管理平台。10.物联网管廊险情冗余检测定位与多链路通信系统，其特征在于，所述系统包含处理器、存储器，所述处理器通过执行存储器中的计算机指令实现权利要求1-4中的物联网管廊险情冗余检测定位与多链路通信方法。
说明书desc
技术领域本发明属于物联网技术领域，特别涉及管廊险情冗余检测定位与多链路通信方法及系统。背景技术我国城市化进程不断加快，城市综合管廊成为城市的新型基础设施。地下城市管道综合管廊，即在城市地下建造一个隧道空间，将电力、通信，燃气、供热、给排水等各种工程管线集于一体，设有专门的检修口、吊装口和监测系统，是保障城市运行的重要基础设施的“生命线”。随着物联网技术的发展，管廊险情监测与定位方法成为保障管廊安装运行的重要手段。现在管廊监测主要有以下几种方式： 1.分布式传感器在线检测，按照固定距离或在风险点部署传感器；2.分布式传感器在线检测与巡检机器人配合方式，传感器在线实时检测，检测机器人按照设定程序周期性巡查检测。现在管廊传感器部署主要采用线性布设的方式，险情检测无法相对准确划出区块，现有技术通常采用有线布线或借助第三方设备无线组网，当发生险情如火灾可能将发生附近的设备或线缆损坏，存在通信中断的风险。准确及时识别出险情区域并可靠地将风险区域告警信息传输出管廊，成为管廊险情监测两大关键技术问题。为解决上述问题，有必要研究物联网管廊险情冗余检测定位与多链路通信方法及系统，能够相对准确定位问题点，且在险情发生时，特别是关键节点被破坏时，仍然能够实时准确地将险情告警数据传输出管廊，并能及时高效地作出相应险情应对处理。发明内容针对上述现有技术中存在的缺陷，本发明提供物联网管廊险情冗余检测定位与多链路通信方法及系统，能够准确定位风险点，并且能够准确实时将数据传输出管廊。本发明提供了物联网管廊险情冗余检测定位与多链路通信方法，将管廊从头到尾在同一平面中按照等边三角形划分为N个三角形监管单元；在每个三角形监管单元的三角形端点处，部署无线传感器检测设备，各无线传感器检测设备以及网关之间通过局域自组网连接，所述局域自组网按照三角MESH组网；MESH即无线网格网络；所述局域自组网的每个节点与相邻四个节点之间距离相等；每个节点部署的无线传感器检测设备的监测半径大于相邻两个节点之间的连线的距离，整个三角形监管单元的险情事件均可以被检测到；当险情发生时，险情发生地周边的无线传感器检测设备，先后检测出险情，对所述无线传感器检测设备检测的参数数值按高低进行排名，根据数值前三名的无线传感器检测设备，定位出险情所在的三角形监管单元，如果第三名和第四名数值相当，则可用前四名定位出险情所在平行四边形监管区域，所述平行四边形监管区域由两个相邻三角形监管单元组成；距离险情发生地最近的节点为险情节点，险情节点与周边优先连接上的节点传输数据，确定数据传输方向，所述优先连接上的节点又会与该方向优先连接上的前方节点建立链接传输数据，直至传输至出口网关；如果传输数据的链路中的某个节点无法传输数据，该数据会返回至险情节点，险情节点重新与另一方向节点建立连接传输数据，直至从另外一方向的节点传输至另一个出口网关，出口网关部署在管廊两侧出口处。该方法采用三角分区法定位出风险点所在区域，采用双向每单元双链路通讯法实现2N个传输路径实现异常告警，将告警信息实时上传至管理平台。该方法中局域自组网采用双向每单元双链路通讯法，在一个方向，每个节点和下个节点之间有两个通路，双向N个单元，一直延续到管廊出口网关，险情节点与网关之间通过多链路传输方式建立2N个无线数据传输通路径。该方法中无线传感器检测设备检测H2S、CH4、温度、液位参数。本发明还提供了物联网管廊险情冗余检测定位与多链路通信系统，包括：管廊险情检测节点、管廊险情检测网关；管廊险情检测节点检测管廊中H2S、CH4、温度、液位参数，根据检测到的参数数值确定险情发生位置，采用三角分区法定位出险情点所在区域，将管廊从头到尾在同一平面中按照等边三角形划分为N个三角形监管单元，在每个三角形监管单元的三角形端点处，部署管廊险情检测节点，每个管廊险情检测节点部署的无线传感器检测设备的监测半径大于相邻两个管廊险情检测节点之间的连线的距离，整个三角形监管单元的险情事件均可以被检测到；当险情发生时，险情发生地周边的无线传感器检测设备，先后检测出险情，对所述无线传感器检测设备检测的参数数值按高低进行排名，根据数值前三名的无线传感器检测设备，定位出险情所在的三角形监管单元，如果第三名和第四名数值相当，则可用前四名定位出险情所在平行四边形监管区域，所述平行四边形监管区域由两个相邻三角形监管单元组成；管廊险情检测网关，用于将局域网数据转发至告警平台，所述管廊险情检测网关部署于管廊两侧出口处；各管廊险情检测节点以及管廊险情检测网关之间通过局域自组网连接。该系统中所述局域自组网按照三角MESH组网，所述局域自组网的每个节点与相邻四个节点之间距离相等。该系统中距离险情发生地最近的节点为险情节点，险情节点与周边优先连接上的节点传输数据，确定数据传输方向，所述优先连接上的节点又会与该方向优先连接上的前方节点建立链接传输数据，直至传输至管廊险情检测网关；如果传输数据的链路中的某个节点无法传输数据，该数据会返回至险情节点，险情节点重新与另一方向节点建立连接传输数据，直至从另外一方向的节点传输至另一个管廊险情检测网关。该系统中局域自组网采用双向每单元双链路通讯法，在一个方向，每个节点和下个节点之间有两个通路，双向N个单元，一直延续到管廊管廊险情检测网关，险情节点与管廊险情检测网关之间建立2N个无线数据传输通路径。该系统中采用双向每单元双链路通讯法实现2N个传输路径实现异常告警，将告警信息实时上传至管理平台。本发明还提供了管廊险情冗余检测定位与多链路通信系统，所述系统包含处理器、存储器，所述处理器通过执行存储器中的计算机指令实现上述管廊险情冗余检测定位与多链路通信方法及系统的功能。本发明为管廊险情冗余检测定位与多链路通信方法及系统，具有以下优点：传统管廊险情冗余检测多为单点固定，检测数据存在误判的风险。传统数据传输采用有线传输，或者无线数据传输方式，节点或线缆被破坏存在通信可靠性风险。本发明采用三角划区检测法，通过多个传感器数据划分区块，能够相对准确检测出风险区域。本发明中无线组网采用双向每单元双链路通讯法，在一个方向，每个节点和下个区域之间有两个通路，双向N个单元，一直延续到管廊出口网关，共计2N个传输通路，通信可靠性提高。本发明的运行自动化程度、智能化程度高，极大的提高了险情事件判断效率及精度，并可为险情事件的日常管理、应急处理及日后信息追溯提供精确的信息指导及服务，极大的提高了管廊险情管控工作的工作效率和精度，并极大的降低了管廊维护管理工作的运行成本及安全隐患。附图说明图1 ：管廊设备布点示意图。图2 ：管廊设备风险冗余检测定位示意图情景1。图3：管廊设备风险冗余检测定位示意图情景2。图4：管廊设备双向每单元双链路通讯节点故障示意图。图5：管廊设备双向每单元双链路通讯网关故障示意图。图6：烟雾传感器部署示意图。图7：节点中继通讯说明示意图。图8：系统通讯流程图。G1：管廊右侧的无线通讯网关。G2：管廊左侧的无线通讯网关。N1、N2、N3、N4、N5、N6、N7：管廊上壁的无线传感节点。S1、S2、S3、S4、S5、S6、S7、S8：管廊下壁的无线传感节点。F1、F2、F0：险情发生点。d：管廊高度。O1、O2：圆心。A1、A2、A3、……、A13 :等边三角形。Node1、node2、node4、node5：节点。R1：中继1。R2：中继2。IDH、IDL：地址标识符。EID：标识。具体实施方式为了使本发明的目的、技术方案和优点更加清楚，下面结合附图详细说明本发明的可选实施例。实施例一。本发明提供了物联网管廊险情冗余检测定位与多链路通信方法，将管廊从头到尾在同一平面中按照等边三角形划分为N个三角形监管单元；在每个三角形监管单元的三角形端点处，部署无线传感器检测设备，各无线传感器检测设备以及网关之间通过局域自组网连接，所述局域自组网按照三角MESH组网，所述局域自组网的每个节点与相邻四个节点之间距离相等。当险情发生时，险情发生地周边的无线传感器检测设备，先后检测出险情，对所述无线传感器检测设备检测的参数数值按高低进行排名，根据数值前三名的无线传感器检测设备，定位出险情所在的三角形监管单元，如果第三名和第四名数值相当，则可用前四名定位出险情所在平行四边形监管区域，所述平行四边形监管区域由两个相邻三角形监管单元组成。距离险情发生地最近的节点为险情节点，险情节点与周边优先连接上的节点传输数据，确定数据传输方向，所述优先连接上的节点又会与该方向优先连接上的前方节点建立链接传输数据，直至传输至出口网关。如果传输数据的链路中的某个节点无法传输数据，该信息会返回至险情节点，险情节点重新与另一方向节点建立连接传输数据，直至从另外一方向的节点传输至另一个出口网关。采用三角分区法定位出风险点所在区域，采用双向每单元双链路通讯法实现2N个传输路径实现异常告警，将告警信息实时上传至管理平台。局域自组网采用双向每单元双链路通讯法，在一个方向，每个节点和下个节点之间有两个通路，双向N个单元，一直延续到管廊出口网关，险情节点与网关之间通过多链路传输方式建立2N个无线数据传输通路径。每个节点部署的无线传感器检测设备的监测半径大于相邻两个节点之间的连线的距离，整个三角形区间的险情事件均可以被检测到。在管廊两侧分别设置网关，当险情节点传输数据的某一个链路中的节点发生故障无法传输时，可以通过其他链路传输数据至网关。无线传感器检测设备检测H2S、CH4、温度、液位参数。本方法还包含预设步骤，在该步骤中向基于AI基础的云平台中录入预先设置的管廊险情事件及相应的险情事件应急处理方法，并将录入的管廊险情事件及相应的险情事件应急处理方法数据在基于AI基础的云平台生成险情管控数据表，然后由云平台的基于智能预测系统为基础的和深度学习神经网络系统对险情管控数据表信息进行学习，并在学习过程中通过BP神经网络系统进行风险等级预判，并为险情管控数据表中各管廊险情事件生成风险等级，并根据风险等级信息对险情管控数据表进行同步调整，划分险情事件处理优先级，从而完成该系统的预先设置。其中，BP神经网络系统采用信息录入层、风险等级计算层及数据输出层三层预警系统结构。在日常维护管理中，一方面通过现场传感器检测节点对管廊运行中的温度、湿度、酸碱度、空气质量、设备运行状态、H2S、CH4、温度、液位等参数进行连续检测；另一方面由现场移动装置与巡逻人员及设备配套运行，定期对管廊内部及管廊对应的地表地质形变、地表建筑物变换情况进行检测，然后将检测的数据同时录入到基于AI基础的云平台中，一方面由基于AI基础的云平台根据上述系统预设的运行机制对检测到的数据进行汇总并带入到险情管控数据表中更新，对险情事件通过传感器检测节点进行预警并向相关人员及设备终端推送相应的险情事件应急处理方法，以便于快速应对管廊发生的险情；另一方面由云平台对接收的险情预警及推送的险情事件处理办法进行专家组研判，最终得到险情事件处理方案，根据该险情事件处理方案指导管廊工作人员进行险情事件干预和排除，并将处理结果反馈至险情管控数据中，同时按照上述预设步骤中对新纳入数据后的险情管控数据表进行学习预设。本实施例的管廊险情冗余检测定位与多链路通信方法还可以包含建立监控信息联动步骤，传感器信息检测节点传输的数据及告警可以反映出险情相关数据信息却无法直观体现的管廊内部具体状况，而通过监控系统采集的视频信息能够直观地反映出管廊周围的实际情况，两部分监测内容的结合与联动可以实现管廊的全方位监控。管廊监控信息联动步骤中，可以自由调取管廊周围任意视频摄像头的视频画面，当云平台接收到数据异常信息或告警时，自动调取传输异常数据或告警信息传感器位置附近的摄像头画面，并将摄像头方向转动至传感器所在位置，自动调取监控系统里险情位置的视频图像数据。本实施例的管廊险情冗余检测定位与多链路通信方法采用三角划区检测法，通过多个传感器数据划分区块，能够相对准确检测出风险区域。并且本实施例中的无线组网采用双向每单元双链路通讯法，在一个方向，每个节点和下个区域之间有两个通路，双向N个单元，一直延续到管廊出口网关，共计2N个传输通路，通信可靠性提高。本实施例的管廊险情冗余检测定位与多链路通信方法运行自动化程度、智能化程度高，极大的提高了险情事件判断效率及精度，并可为险情事件的日常管理、应急处理及日后信息追溯提供精确的信息指导及服务，极大的提高了管廊险情管控工作的工作效率和精度，并极大的降低了管廊维护管理工作的运行成本及安全隐患。本实施例的管廊险情冗余检测定位与多链路通信方法通过监控信息联动步骤，与监控系统中的摄像头联动可以实现管廊的全方位监控。实施例二。本发明还提供了物联网管廊险情冗余检测定位与多链路通信系统，包括：管廊险情检测节点、管廊险情检测网关；管廊险情检测节点检测管廊中H2S、CH4、温度、液位参数，根据检测到的参数数值确定险情发生位置，采用三角分区法定位出险情点所在区域，将管廊从头到尾在同一平面中按照等边三角形划分为N个三角形监管单元，在每个三角形监管单元的三角形端点处，部署管廊险情检测节点，当险情发生时，险情发生地周边的廊险情检测节点，先后检测出险情，对所述廊险情检测节点检测的参数数值按高低进行排名，根据数值前三名的无线传感器检测设备，定位出险情所在的三角形监管单元，如果第三名和第四名数值相当，则可用前四名定位出险情所在平行四边形监管区域，所述平行四边形监管区域由两个相邻三角形监管单元组成；管廊险情检测网关，用于将局域网数据转发至告警平台，所述管廊险情检测网关部署于管廊两侧出口处；各管廊险情检测节点以及管廊险情检测网关之间通过局域自组网连接。该系统中所述局域自组网按照三角MESH组网，所述局域自组网的每个节点与相邻四个节点之间距离相等。在管廊险情检测节点可以部署无线传感器检测设备。该系统中距离险情发生地最近的节点为险情节点，险情节点与周边优先连接上的节点传输数据，确定数据传输方向，所述优先连接上的节点又会与该方向优先连接上的前方节点建立链接传输数据，直至传输至管廊险情检测网关；如果传输数据的链路中的某个节点无法传输数据，该信息会返回至险情节点，险情节点重新与另一方向节点建立连接传输数据，直至从另外一方向的节点传输至另一个管廊险情检测网关。该系统中局域自组网采用双向每单元双链路通讯法，在一个方向，每个节点和下个节点之间有两个通路，双向N个单元，一直延续到管廊管廊险情检测网关，险情节点与管廊险情检测网关之间建立2N个无线数据传输通路径。该系统中采用双向每单元双链路通讯法实现2N个传输路径实现异常告警，将告警信息实时上传至管理平台。该系统中每个管廊险情检测节点部署的无线传感器检测设备的监测半径大于相邻两个管廊险情检测节点之间的连线点的距离，整个三角形区间的险情事件均可以被检测到。该系统中在管廊两侧分别设置管廊险情检测网关，当险情节点传输数据的某一个链路中的节点发生故障无法传输时，可以通过其他链路传输数据至管廊险情检测网关。本系统可以通过预设步骤向基于AI基础的云平台中录入预先设置的管廊险情事件及相应的险情事件应急处理方法，并将录入的管廊险情事件及相应的险情事件应急处理方法数据在基于AI基础的云平台生成险情管控数据表，然后由云平台的基于智能预测系统为基础的和深度学习神经网络系统对险情管控数据表信息进行学习，并在学习过程中通过BP神经网络系统进行风险等级预判，并为险情管控数据表中各管廊险情事件生成风险等级，并根据风险等级信息对险情管控数据表进行同步调整，划分险情事件处理优先级，从而完成该系统的预先设置。其中，BP神经网络系统采用信息录入层、风险等级计算层及数据输出层三层预警系统结构。在日常维护管理中，一方面通过现场传感器检测节点对管廊运行中的温度、湿度、酸碱度、空气质量、设备运行状态、H2S、CH4、温度、液位等参数进行连续检测；另一方面由现场移动装置与巡逻人员及设备配套运行，定期对管廊内部及管廊对应的地表地质形变、地表建筑物变换情况进行检测，然后将检测的数据同时录入到基于AI基础的云平台中，一方面由基于AI基础的云平台根据上述系统预设的运行机制对检测到的数据进行汇总并带入到险情管控数据表中更新，对险情事件通过传感器检测节点进行预警并向相关人员及设备终端推送相应的险情事件应急处理方法，以便于快速应对管廊发生的险情；另一方面由云平台对接收的险情预警及推送的险情事件处理办法进行专家组研判，最终得到险情事件处理方案，根据该险情事件处理方案指导管廊工作人员进行险情事件干预和排除，并将处理结果反馈至险情管控数据中，同时按照上述预设步骤中对新纳入数据后的险情管控数据表进行学习预设。本实施例的管廊险情冗余检测定位与多链路通信系统还可以建立监控信息联动，传感器信息检测节点传输的数据及告警可以反映出险情相关数据信息却无法直观体现的管廊内部具体状况，而通过监控系统采集的视频信息能够直观地反映出管廊周围的实际情况，两部分监测内容的结合与联动可以实现管廊的全方位监控。管廊监控信息联动中，可以自由调取管廊周围任意视频摄像头的视频画面，当云平台接收到数据异常信息或告警时，自动调取传输异常数据或告警信息传感器位置附近的摄像头画面，并将摄像头方向转动至传感器所在位置，自动调取监控系统里险情位置的视频图像数据。实施例三。如图1所示，本发明设涉及的无线自组网可适用LORA、Zigbee及自主协议实现的MESH网络。无线传感节点布设于管廊上壁和下壁，无线传感节点搭载无线传感器检测设备或者无线传感器，管廊上壁的无线传感节点序列号为，管廊下壁的无线传感节点序列号为，节点N1、S1、S2连线构成一个等边三角形区域。依次类推其他节点也上下壁之间连线均可以组成等边三角形，其中节点的监测半径＞之间的连线距离，这样整个三角形区间的报警事件均可以被检测到。管廊的两端均部署有无线通讯网关，用来接收链路数据，上传到云端。节点部署N1、S1、S2连线构成一个等边三角形区域，同时N1、S1、S2三点位于圆上，设图示圆心O1坐标为，三点坐标满足公式：x²+y²=r²; ; r:为圆半径； d:管廊高度； L1: 三角形边长度；。/＞此时则有L1=S1N1=N1S2=S1S2,S1N1是节点S1和N1之间的距离，N1S2是节点N1和S2的距离，S1S2是节点S1和S2的距离，计算出无线节点之间的部署距离为，节点的无线通讯距离记为St，本发明专利涉及的无线通讯节点的点到点距离St＞L1,这样三边围成的等边三角形A1范围内的任何异常点位信息均可以被感知并且保持通讯顺畅。参考图2展示正常情况下，发生险情故障时，故障信息传递的链路流程说明图。图2所示F1、F2为险情发生点，以F1报警点为例，本报警点信息同时被N2、S2、S3均可感知，假设三个点测试的浓度信息分别为G1、G2、G3，此时可以根据是3个传感器的浓度大小关系，判断故障点靠近哪个区域，同时三个节点同时将报警信息传到网关，网关通过无线或有线传输方式传输至云平台。综合故障点的浓度信息，根据无线节点的ID可以定位故障在三角形A3区间内。如图4所示说明，本系统两端设置两个网关G1和G2，各节点之间通过多跳通讯，假设图示N2 、N5发生故障，设为故障节点，图示F0处发生险情，该险情被节点N3、N4、S4感知，此时有4条链路可以传输数据：链路1：S4-S3-S2-N1-G2；链路2：S4-S5-S6-N6-N7-G1；链路3：S4-S3-S2-S1-N1-G2；链路4：S4-S5-S6-S7-S8-N7-G1。通过比较各路径链路1路径较短，优先通过链路1传输数据。这样在单一方向发生故障时，可以通过其他线路进行信息传输，本发明设置了双向网关，用来接收信息，大大提升无线网络本身的稳定性。图2所示F2点的险情类似，F2点的异常状况同时被N2、N3、S3感知，此时将测量到的浓度数据通过最近的网关送到云平台，根据三个节点的浓度数据可以断定故障F2点在A4三角形内。运维人员可以根据后台地图信息得到准确位置，快速定位故障点位并及时处理异常。另外处理两个极端现象，假设异常发生点靠近两个节点，如下图3所示：此时险情发生的位置F1靠近S2的位置，此时S2最先感知到故障，并且测得的异常值GS2数值最大，其次由于S3的感知距离更近，此时S3也会测得异常值GS3，N2也会测试得到异常数值GN3,根据GS2＞GS3＞GN3，可以确定此时故障点位在A3三角形内，同时故障点靠近S2位置。下面阐述无线节点中出现异常时，数据链路的传输路径。如图3管廊设备双向每单元双链路通讯输示意图所示。本发明系统两端安装两个无线通讯网关G1和G2，各节点之间通过多跳通讯，假设上壁N2 、N5发生故障，标记为故障节点，图示F0处发生险情，该险情被节点N3、N4、S4感知，此时有6条链路可以传输数据：链路1：S4-S3-S2-N1-G2；链路2：S4-S5-S6-N6-N7-G1；链路3：S4-S3-S2-S1-N1-G2；链路4：S4-S5-S6-S7-S8-N7-G1；链路5：S4-S5-S6-S7-N7-G1；链路6：S4-S5-S6-N6-S7-N7-G1。通过比较各路径链路1最短，优先通过链路1传输数据。此时N2和N5故障不影响整个链路数据传输。网关发生故障的情况，如图5所示，假设管廊上壁N2 、N5发生故障，网关节点G2也发生故障，图示F0处发生险情，该险情被节点N3、N4、S4感知，此时有4条链路可以传输数据：由于G2网关故障，缺少两条通讯链路，可用链路如下：链路1：S4-S5-S6-N6-N7-G1；链路2：S4-S5-S6-S7-S8-N7-G1；链路3：S4-S5-S6-S7-N7-G1；链路4：S4-S5-S6-N6-S7-N7-G1。通过链路比较，此时链路1与链路3均可以传输数据。这样无论是节点还是网关发生故障，均可以通过其他线路进行信息传输，本发明设置了双向网关，均衡三角形部署，大大提升无线网络健壮性，保证数据能够及时准确传输。本试点场景需要监测的管廊里是否发生火灾，侦测到火情需要在第一时间上报，现有的无线传感方案存在传感器节点布置过于松散，火灾险情不能第一时间上报。同时区域内发生火灾，若部分节点出现故障，导致整个链路数据传输中断，险情也不能及时上报，现有的NB蜂窝通讯发方式，虽然在部分管廊里可以传输数据，但是在大部分密闭空间，信号较弱，无法实现数据传输。如图6所示：本发明设置选取管廊烟雾传感器安装为试点，试点管廊高度为3米，计算出通讯节点距离=3.46米 ，长度1000米，上面节点部署289个，下面部署290个，整个空间分成577个三角形区域。编号A1、A2、A3……A577,无线组网方式选择支持mesh网络的LORA网络。组网节点通过“多级跳”的方式来进行通信，节点网络具有自愈和自组织的功能。本试点使用LORA作为组网通讯模式，通信距离可达1km，通信频率433MHZ,接收灵敏度：-140dBm，发射功率：20dBm，低功耗设计，支持休眠和唤醒模式，支持自动帧中继模式。涉及的节点有三类设备，分别是终端节点和集中器节点、中继节点。其中终端节点和中继节点一体化，通过软件自动选择工作模式还是终端模式还是中继模式，中继模式可将数据在两个方向双向转发，节点都搭载烟感传感器，光电式烟感的浓度报警原理是采用光电感应，当烟雾进入烟感探头时，烟雾改变了烟感探头感知的光线强度，继而触发报警。图中F0点发生烟雾报警信息，此时被无线节点N3感知，此时周边节点开启中继模式，将报警信息向下一节点传输，如图7、图8所示，模块进入中继模式，此时自身的地址标识符IDH和IDL作为数据转发的身份鉴定符，自身的EID不作为通讯ID，只做数据转发。Node1节点的EID为05，Node2的EID为21，Node4的EID为06，中继R1的IDH和IDL分别为06、21，此时Node1发送的信号被Node2接收，同时节点1和节点2的IDH和IDL相同，此时Node1的数据被传送到Node2，此时Node2输出烟雾报警信息，这是一级中继的情况，在本安装场景中，存在多节点情况，因此存在多级中继，下面以二级中继作为说明，中继2的IDH和IDL分别为21、06，所以中继2转发中继1的数据，此时中继将数据向下一级发送，此时只有Node4的节点与Node1的地址相同，此时可以输出烟雾报警数值01，同理，下一级通信按此规则下传。本发明还提供了管廊险情冗余检测定位与多链路通信方法系统，所述系统包含处理器、存储器，所述处理器通过执行存储器中的计算机指令实现前述的管廊险情冗余检测定位与多链路通信方法。通过本发明的管廊险情冗余检测系统，能够实现通过检测传感器的数据准确快速定位风险发生点，并且当关键节点被破坏时，仍然能够实时准确地将险情告警数据传输出管廊，发送至网关节点。本公开实施例提供了管廊险情冗余检测定位与多链路通信系统，其特征在于，所述系统包含处理器、存储器，所述处理器通过执行存储器中的计算机指令实现上述实施例的功能。需要说明的是，本公开上述的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是但不限于电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本公开中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。而在本公开中，计算机可读信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读信号介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括但不限于：电线、光缆、RF等，或者上述的任意合适的组合。上述计算机可读介质可以是上述电子设备中所包含的；也可以是单独存在，而未装配入该电子设备中。可以以一种或多种程序设计语言或其组合来编写用于执行本公开的操作的计算机程序代码，上述程序设计语言包括面向对象的程序设计语言，诸如Java、Smalltalk、C++，还包括常规的过程式程序设计语言，诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行；在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络，包括局域网或广域网，连接到用户计算机，或者，可以连接到外部计算机。附图中的流程图和框图，图示了按照本公开各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，该模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本公开实施例中所涉及到的单元可以通过软件的方式实现，也可以通过硬件的方式来实现。其中，单元的名称在某种情况下并不构成对该单元本身的限定。以上介绍了本发明的较佳实施方式，旨在使得本发明的精神更加清楚和便于理解，并不是为了限制本发明，凡在本发明的精神和原则之内，所做的修改、替换、改进，均应包含在本发明所附的权利要求概括的保护范围之内。
