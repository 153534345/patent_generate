标题title
基于高光谱数据和倾斜三维数据的地理实体语义建模方法
摘要abst
本发明一种基于高光谱数据和倾斜三维数据的地理实体语义建模方法，包括：S1选定预设的大气环境下，采集典型地理实体分类下的近地面高光谱Rli，并对采集到的近地面高光谱进行分类内部光谱融合处理同时进行倾斜摄影，以及同时还采集与所述近地面高光谱对应的同一地理区域的遥感高光谱Rp；S2对各地理实体分类下的融合光谱Rci进行提取各地理实体分类的最佳波段组合，并通过波段裁剪与拼接形成最佳波段组合的近地面组合高光谱Ri；S3对遥感高光谱进行像素元逐个扫描，形成语义体系，最后对每个扫描像素元的倾斜摄影数据进行自动建模或与遥感影像图中像素元中心点关联的替代方式，形成从倾斜三维单体模型到地理实体分类的映射，完成了基于高光谱数据的高效准确的地理实体三维语义建模。
权利要求书clms
1.基于高光谱数据和倾斜三维数据的地理实体语义建模方法，其特征在于，包括如下步骤：S1选定预设的大气环境下，采集典型地理实体分类下的近地面高光谱Rli，i表示不同地理实体分类的编号，并对采集到的近地面高光谱进行分类内部光谱融合处理，获得融合光谱Rci，同时还采集与所述近地面高光谱对应的同一地理区域的遥感高光谱Rp；S2对各地理实体分类下的融合光谱Rci进行提取各地理实体分类的最佳波段组合，并通过波段裁剪与拼接形成最佳波段组合的近地面组合高光谱Ri；S3对遥感高光谱进行像素元逐个扫描，对于每一个被扫描的像素元的高光谱与各地理实体分类的最佳组合波段光谱进行比对，从而确定当前扫描的像素元所属的地理实体分类，并将所识别的类型与地理实体分类字段进行映射，形成语义体系，从而当扫描完毕之后完成采集的遥感高光谱中遥感影像的地理实体语义的标注；其中，在S1采集典型地理实体分类下的近地面高光谱Rli的同时进行的还包括如下P1-1具体步骤：采用搭载倾斜摄影装置的无人机对遥感高光谱所在的区域进行像素元逐个扫描，获得多幅倾斜影像，记录每一个像素元扫描时无人机所处在真实地理坐标系E下的坐标，并计算出各个角度倾斜影像中每个像素元的空间坐标，以及相应的地面投影坐标；在步骤S3完成之后还包括如下步骤：P1-2，根据S3所完成的地理实体语义体系，将对应所述每个像素元的地面投影坐标与语义体系中的地理实体分类之间建立映射关系；P1-3通过自动化建模将倾斜摄影数据形成倾斜三维单体集合的三维模型，此时三维模型中所有像素对应的在同一个E下的地面投影坐标即为P1-2中所述每个像素元的地面投影坐标，因此三维模型中所有像素地面投影坐标与语义体系中的地理实体分类之间存在与P1-2中相同的映射关系；P1-4选择P1-3中三维模型中的任一点，获取与该任一点对应的在语义体系中的地理实体分类，并将分类信息显示在该任一点的附近模型空间位置，并可以随时选择消失该分类信息。2.根据权利要求1所述的方法，其特征在于，P1-3具体步骤替换为：在遥感高光谱的遥感影像维中显示P1-1中无人机所扫描的每个像素元的中心点，通过点击任一中心点即可以展示在所述中心点所拍摄的倾斜影像以代替自动化建模，此时采用语义体系而在任一张倾斜影像中通过点击任一点而通过该点地面投影坐标而映射展示得到相应的地理实体分类信息，同样可以随时选择消失该分类信息。3.根据权利要求2所述的方法，其特征在于，在进行P1-3具体步骤替换之前对所有倾斜摄影中道路上的车辆进行删除。4.根据权利要求3所述的方法，其特征在于，具体删除方法是将道路所在的坐标的像素全部填充为预设的颜色像素值。5.根据权利要求1-4中任一项所述的方法，其特征在于，S3中在完成采集的遥感高光谱中遥感影像的地理实体语义的标注之后还包括了：将S2提出的各类地理实体分类的最佳波段组合运用于S3中已语义标注完毕的遥感高光谱中，按照S2的方法获得所述遥感高光谱对应的遥感组合高光谱R'i，使用近地面组合高光谱Ri对遥感组合高光谱R'i进行校正处理，获得校正后的遥感组合高光谱Rcor＝f，f为校正操作，f为将R'i的对应特征波段的峰值和/或积分强度进行校正到Ri的水平，具体使用高斯函数进行每一个波段谱峰进行拟合，实现所述校正。6.基于高光谱数据和倾斜三维数据的地理实体语义建模方法，其特征在于，包括如下步骤：S1-1根据所需要分类的地理实体类型种类数N而配备相应数量的无人机架数kN,k＝1,2,3,4,5，在预设的气象条件下，将多架无人机沿着预定的飞行路线对各种类的地理实体进行多个采集点进行高光谱采集；多个采集点进行高光谱采集的同时还包括如下具体步骤：P1-1采用搭载倾斜摄影装置的无人机，设定的视野范围，构建视野范围的最小外接正方形，以所述最小外接正方形为像素元，对遥感高光谱按照规定的扫描方式进行像素元逐个扫描，获得多幅倾斜影像，记录每一个像素元扫描时无人机所处在真实地理坐标系E下的坐标，并计算出各个角度倾斜影像中每个像素元的空间坐标，以及相应的地面投影坐标；S1-2对每一类地理实体的多个采集点采集的高光谱进行预处理，获得典型地理实体分类下的近地面高光谱Rlij，j为采集点数，且每个采集点采集一个高光谱；所述预处理包括：一阶导数，归一化，多元散射校正，标准正态变量变换，Savitzky-Golay平滑中的至少一者。S1-3对于每一个分类内部，对多个采集点采集的高光谱进行叠加平均处理其中，Ki为第i类地理实体采集点数，为各光谱Rlij的各波长处的强度，形成Rci，同时采集与所述近地面高光谱对应的同一地理区域的遥感高光谱Rp；S2-1对各地理实体分类下的融合光谱Rci进行提取各地理实体分类的最佳波段组合其中qi∈为第i类地理实体的最佳波段组合中的波段序号，对于每一个都表示为一个最佳波段组合，其中，最佳波段组合采用如下方式选取：设最佳波段判别指数或其中u,v,x,y,z为第i类地理实体的高光谱波段序号，Qi为第i类地理实体的高光谱波段总数，S为通过多个采样点的高光谱各波段计算的标准差，Ruv、Rxyz为相应下标为序号的波段之间的相关系数，求和符号分别是对所有可能总数进行取遍求和，取对应的波段组合即三波段、四波段组合作为最佳波段组合；S2-2通过波段裁剪与拼接，按照各最佳波段的波长值大小顺序组合形成的近地面组合高光谱Ri，所述裁剪为将最佳波段以外的所有波段数据删除，所述拼接为将最佳波段区域之首尾顺次连接的在拼接点，拼接点上的强度值强制定义为基线值，并且拼接后各波段谱线所跨的波长值大小以及范围仍然定义不变，且除拼接处以外的各波长处的峰值不变；S3对遥感高光谱进行像素元逐个扫描，对于每一个被扫描的像素元的高光谱与各地理实体分类的最佳组合波段光谱进行比对，从而确定当前扫描的像素元所属的地理实体分类，并将所识别的类型与地理实体分类字段进行映射，形成语义体系，从而当扫描完毕之后完成采集的遥感高光谱中遥感影像的地理实体语义的标注，其中对遥感高光谱进行像素元逐个扫描，对于每一个被扫描的像素元的高光谱与各地理实体分类的最佳组合波段光谱进行比对，从而确定当前扫描的像素元所属的地理实体分类具体包括：S3-1定义像素元大小p为分辨率res∈的正整数M∈倍见方的区域，即p＝M·res×M·res，建立地理实体类型数据库，包括地理实体分类字段，地理实体基本参数字段，其中，所述地理实体分类字段中包括各实体分类专属的地理实体编码；S3-2使用像素元p对遥感高光谱中的遥感影像进行规定的扫描方式进行扫描，对于扫描过程中的每一个像素元内，调取对应的高光谱其中t为当前扫描到的像素元的序号；S3-3将中对应各类地理实体Ri波段的那些波段所对应的光谱谱线与对应各类地理实体Ri的谱线进行相似度比较，当比对到最高相似度，且大于预设值80-90％时，即将当前扫描的像素元p识别为对应的地理实体类型；当所述最高相似度小于预设值，则在当前像素元p八邻域范围内对具有完整影像的像素的像素元进行如下分析：若八邻域中存在已经识别地理实体类型的，则将中对应已经识别地理实体的近地面组合高光谱波段的那些波段所对应的光谱谱线与该已经识别地理实体分类的组合高光谱谱线进行相似度比较；若八邻域中有未确定地理实体类型的，则继续识别邻域中未确定地理实体类型的邻域所属的地理实体类型；计算中对应各所有确定地理实体类型后邻域代表的地理实体的近地面组合高光谱波段的那些波段所对应的光谱谱线与各所有确定地理实体类型后邻域代表的地理实体的近地面组合高光谱的光谱谱线的相似度，取相似度最大者对应的邻域所代表的地理实体类型作为当前像素元p所识别的地理实体类型，并且已经识别地理实体类型的邻域像素元视作已经完成扫描，在以后的扫描过程中不再予以扫描识别；若八邻域中也存在至少一个在识别其代表的地理实体类型过程中计算的所述相似度小于所述预设值的邻域，则不计入当前相似度比较对象，而只将大于预设值的那些邻域作为相似度比较对象；若八邻域全部为不计入当前相似度比较对象，则将当前像素元p的地理实体类型定义为前一个像素元或后一个像素元识别的地理实体类型，其中，所述的相似度比较方法为：S3-3-1将进行S2-2的步骤获得对应的组合高光谱其中i表示对的组合按照第i类地理实体类型对应的Ri形成的方式进行组合形成；S3-3-2对中最佳组合波段内各波段的积分强度值与Ri对应的波段的积分强度值进行比较，求标准差的倒数定义为相似度；所述将所识别的类型与地理实体分类字段进行映射，形成语义体系具体包括：S3-4对每一个扫描的像素元所识别的分类字段赋予对应的地理实体编码，S3-5将每一个像素元中心的时空坐标赋予对应的地理实体基本参数字段，各扫描的像素元的被赋予时空坐标的地理实体基本参数字段连同赋予的地理实体编码的分类字段形成语义体系。7.根据权利要求6所述的方法，其特征在于，在步骤S3-5之后还包括P1-2根据S3-5所完成的地理实体语义体系，将对应所述每个像素元的地面投影坐标与语义体系中的地理实体分类之间建立映射关系；P1-3通过自动化建模将倾斜摄影数据形成倾斜三维单体集合的三维模型，此时三维模型中所有像素对应的在同一个E下的地面投影坐标即为P1-2中所述每个像素元的地面投影坐标，因此三维模型中所有像素地面投影坐标与语义体系中的地理实体分类之间存在与P1-2中相同的映射关系；P1-4选择P1-3中三维模型中的任一点，获取与该任一点对应的在语义体系中的地理实体分类，并将分类信息显示在该任一点的附近模型空间位置，并可以随时选择消失该分类信息。8.根据权利要求6或7所述的方法，其特征在于，S1-1中所有无人机的飞行高度一致，且对于各类地理实体，所有无人机按照预定路线在同一时刻同时开始飞行，且在同一时间点停止一切采集；P1-1中所述规定的扫描方式为，行扫描和/或列扫描的方式；S3-2中所述规定的扫描方式为，图像行扫描和/或列扫描的方式。9.根据权利要求8所述的方法，其特征在于，P1-1中对于同一行和/或同一列扫描时，当前像素元扫描完毕时平移一个像素元的边长距离而继续下一个像素元扫描；S3-2中对于同一行和/或同一列扫描时，当前像素元扫描完毕时平移一个像素元边长距离而继续下一个像素元扫描。10.根据权利要求8所述的方法，其特征在于，P1-3具体步骤替换为：在遥感高光谱的遥感影像维中显示P1-1中无人机所扫描的每个像素元的中心点，通过点击任一中心点即可以展示在所述中心点所拍摄的倾斜影像以代替自动化建模，此时采用语义体系而在任一张倾斜影像中通过点击任一点而通过该点地面投影坐标而映射展示得到相应的地理实体分类信息，同样可以随时选择消失该分类信息。11.根据权利要求10所述的方法，其特征在于，在进行P1-3具体步骤替换之前对所有倾斜摄影中道路上的车辆进行删除。12.根据权利要求11所述的方法，其特征在于，所述删除的方法是将道路所在的坐标的像素全部填充为预设的颜色像素值。
说明书desc
技术领域本发明提供了一种自然与人文地理领域中自然资源行业的三维语义建模方法，涉及采用 高光谱的语义标注，尤其涉及基于高光谱数据和倾斜三维数据的地理实体语义建模方法，属 于地理景观语义标引领域。背景技术高光谱数据属于地物二维影像+一维光谱的三维立方数据结构,现有技术采用遥感技术对 地物,尤其是农作物的生长，抗灾害,以及土壤成分进行分类研究,大都采用反演手段计算出所 需要的光学和化学物质参量，未关注如何利用高光谱的数据对地理实体进行语义分类。对于高光谱的数据处理，现有技术往往是对同一类地理分类比如农作物进行采集，从而 能够容易对采集图像整体进行处理，但是当研究范围扩展到更大的地理区域时，各类地理实 体难以呈现在遥感影像上，因此无法从整体上进行特征波段提取。并且如果采用RNN、CNN、 SVM或其他改进的的算法则需要不同的样本进行学习计算，提取精度不足71％同时还极大地 加重了算法负担。此外遥感高光谱由于受到大气环境的制约，需要采用复杂的校正算法，从而提高了数据 处理的成本与最终的语义标注的效率，同时校正的算法多样，也不能确定哪一种算法更符合 遥感影像采集时的具体情况，因此面对复杂多变的复杂采集环境以一些未知的不可控因素， 需要考虑一种绕开大气环境制约的高光谱采集方法。无人机的使用使得大气环境的因素大为降低,由于120m的限高规定,因此在大多数云层的 高度地域200m的前提下,使用无人机进行地物影像的获取能够避免大气环境的影像因素。现 有技术中使用无人机的倾斜摄影通过多角度的拍摄实现了三维地理实体的重建。但是现有技 术的倾斜摄影只在前后左右中五向进行，缺少了八邻域的其他四个角落的角度拍摄，因此其 信息量是缺失不完整的。发明内容本发明从上述现有技术地理实体的倾斜摄影三维语义建模信息不完整的现状出发，考虑 一种新的语义标注下倾斜摄影的思路，即采用高光谱的手段进行语义标注前提下，与倾斜摄 影的数据融合，主要包括如下几个方面：第一地理区域遥感影像采集；第二地理区域的高光 谱的采集与各地理实体类型的高光谱的特征谱段的提取；第三通过图像像素扫描方式将遥感 影像中的每个像素的波段所归属的地理实体类型进行扫描，使用无人机进行基于八角度倾斜 摄影的扫描，形成语义标注和影像的融合完成倾斜三维单体的数据集合。基于上述考虑，本发明提供了一种基于高光谱数据和倾斜三维数据的地理实体语义建模 方法，包括如下步骤：S1选定预设的大气环境下，采集典型地理实体分类下的近地面高光谱Rli，i表示不同地 理实体分类的编号，并对采集到的近地面高光谱进行分类内部光谱融合处理，获得融合光谱 Rci，同时还采集与所述近地面高光谱对应的同一地理区域的遥感高光谱Rp；S2对各地理实体分类下的融合光谱Rci进行提取各地理实体分类的最佳波段组合，并通 过波段裁剪与拼接形成最佳波段组合的近地面组合高光谱Ri；S3对遥感高光谱进行像素元逐个扫描，对于每一个被扫描的像素元的高光谱与各地理实 体分类的最佳组合波段光谱进行比对，从而确定当前扫描的像素元所属的地理实体分类，并 将所识别的类型与地理实体分类字段进行映射，形成语义体系，从而当扫描完毕之后完成采 集的遥感高光谱中遥感影像的地理实体语义的标注；在S1采集典型地理实体分类下的近地面高光谱Rli的同时进行的还包括如下P1-1具体步 骤：采用搭载倾斜摄影装置的无人机对遥感高光谱所在的区域进行像素元逐个扫描，获得多 幅倾斜影像，记录每一个像素元扫描时无人机所处在真实地理坐标系E下的坐标，并计算出 各个角度倾斜影像中每个像素元的空间坐标，以及相应的地面投影坐标；在步骤S3完成之后还包括如下步骤：P1-2，根据S3所完成的地理实体语义体系，将对应所述每个像素元的地面投影坐标与语 义体系中的地理实体分类之间建立映射关系；P1-3通过自动化建模将倾斜摄影数据形成倾斜三维单体集合的三维模型，此时三维模型 中所有像素对应的在同一个E下的地面投影坐标即为P1-2中所述每个像素元的地面投影坐标， 因此三维模型中所有像素地面投影坐标与语义体系中的地理实体分类之间存在与P1-2中相同 的映射关系；P1-4选择P1-3中三维模型中的任一点，获取与该任一点对应的在语义体系中的地理实体 分类，并将分类信息显示在该任一点的附近模型空间位置，并可以随时选择消失该分类信息。优选地，P1-3具体步骤替换为：在遥感高光谱的遥感影像维中显示P1-1中无人机所扫描 的每个像素元的中心点，通过点击任一中心点即可以展示在所述中心点所拍摄的倾斜影像以 代替自动化建模，此时采用语义体系而在任一张倾斜影像中通过点击任一点而通过该点地面 投影坐标而映射展示得到相应的地理实体分类信息，同样可以随时选择消失该分类信息；即将每个被扫描的像素元的多张倾斜影像本身作为多视角的模型，也可以 定义为一种即拍即得的三维模型，这就直接产生了无需建模节省几个月时间的方法。优选地，在进行P1-3具体步骤替换之前对所有倾斜摄影中道路上的车辆进行删除。优选 地，具体删除方法是将道路所在的坐标的像素全部填充为预设的颜色像素值。优选地，S3中在完成采集的遥感高光谱中遥感影像的地理实体语义的标注之后还包括了：将S2提出的各类地理实体分类的最佳波段组合运用于S3中已语义标注完毕的遥感高光 谱中，按照S2的方法获得所述遥感高光谱对应的遥感组合高光谱R′i，使用近地面组合高光 谱Ri对遥感组合高光谱R'i进行校正处理，获得校正后的遥感组合高光谱Rcor＝f， f为校正操作，优选地，f为将R'i的对应特征波段的峰值和/或积分强度进行校正到Ri的水平,具体使用高斯函数进行每一个波段谱峰进行拟合，实现所述校正。如此既利用了近地面的高光谱数据完成了各地理实体的语义标注，又完成了语义遥感高 光谱的校正，提高了语义标注的高效性和简化性。其中S1具体包括：S1-1根据所需要分类的地理实体类型种类数N而配备相应数量的无人机架数 kN,k＝1,2,3,4,5，在预设的气象条件下，将多架无人机沿着预定的飞行路线对各种类的地理实体进行多个采集点进行高光谱采集；多个采集点进行高光谱采集的同时还包括如下具体步骤：P1-1采用搭载倾斜摄影装置的无人机，设定的视野范围，构建视野范围的最小外接正方 形，以所述最小外接正方形为像素元，对遥感高光谱按照规定的扫描方式进行像素元逐个扫 描，获得多幅倾斜影像，记录每一个像素元扫描时无人机所处在真实地理坐标系E下的坐标， 并计算出各个角度倾斜影像中每个像素元的空间坐标，以及相应的地面投影坐标；优选地，所述规定的扫描方式为，行扫描和/或列扫描的方式。优选地，对于同一行和/ 或同一列扫描时，当前像素元扫描完毕时平移一个像素元的边长距离而继续下一个像素元扫 描。优选地，所有无人机的飞行高度一致，且对于各类地理实体，所有无人机按照预定路线 在同一时刻同时开始飞行，且在同一时间点停止一切采集。以保证采集的各类地理实体处于 大致同一个时段内，防止出现一些地理实体之间采集工作明显是处于不同的两个间隔时长的 时段，导致高光谱数据不能准确反映同一时段的状态。S1-2对每一类地理实体的多个采集点采集的高光谱进行预处理，获得典型地理实体分类 下的近地面高光谱Rlij，j为采集点数，且每个采集点采集一个高光谱；优选地，所述预处理包括：一阶导数，归一化，多元散射校正，标准正态变量变换，Savitzky-Golay平滑中的至少一者。S1-3对于每一个分类内部，对多个采集点采集的高光谱进行叠加平均处理其中， Ki为第i类地理实体采集点数，为各光谱Rlij的各波长处的强度，形成Rci，同时采集与所 述近地面高光谱对应的同一地理区域的遥感高光谱Rp。其中S2具体包括：S2-1对各地理实体分类下的融合光谱Rci进行提取各地理实体分类的最佳波段组合其中qi∈为第i类地理实体的最佳波段组合中的波段序号，对于每一个都表 示为一个最佳波段组合，其中，最佳波段组合采用如下方式选取：设最佳波段判别指数或其中u,v,x,y,z为第 i类地理实体的高光谱波段序号，Qi为第i类地理实体的高光谱波段总数，S为通过多个采样 点的高光谱各波段计算的标准差，Ruv、Rxyz为相应下标为序号的波段之间的相关系数，求和 符号分别是对所有可能总数进行取遍求和，取对应的波段组合即三波段、四波段组合作为 最佳波段组合；可见我们通过最佳波段组合的方式目的并非用于人工智能算法，而是将其视作一种表征 特定地理实体类型的特征，用于识别实体类型。不同的地理实体类型的首先最佳波段组合方 式不同，其次各波段的积分强度也不同，从而成为了可以识别实体类型的特征基础。对于绝 大多数成分不太复杂的地物，一般最多四波段即足以与其他不同目标地物的最佳波段组合进 行区分。S2-2通过波段裁剪与拼接，按照各最佳波段的波长值大小顺序组合形成的近地面组合高 光谱Ri，所述裁剪为将最佳波段以外的所有波段数据删除，所述拼接为将最佳波段区域之首 尾顺次连接的在拼接点，拼接点上的强度值强制定义为基线值，并且拼接后各波段谱线所跨 的波长值大小以及范围仍然定义不变，且除拼接处以外的各波长处的峰值不变。其中S3中对遥感高光谱进行像素元逐个扫描，对于每一个被扫描的像素元的高光谱与各 地理实体分类的最佳组合波段光谱进行比对，从而确定当前扫描的像素元所属的地理实体分 类具体包括：S3-1定义像素元大小p为分辨率res∈的正整数M∈倍见方的区域，即 p＝M·res×M·res，建立地理实体类型数据库，包括地理实体分类字段，地理实体基本参数 字段，其中，所述地理实体分类字段中包括各实体分类专属的地理实体编码；S3-2使用像素元p对遥感高光谱中的遥感影像进行规定的扫描方式进行扫描，对于扫描 过程中的每一个像素元内，调取对应的高光谱其中t为当前扫描到的像素元的序号；优选地，所述规定的扫描方式为，图像行扫描和/或列扫描的方式。优选地，对于同一行 和/或同一列扫描时，当前像素元扫描完毕时平移一个像素元边长距离而继续下一个像素元扫 描；S3-3将中对应各类地理实体Ri波段的那些波段所对应的光谱谱线与对应各类地理实 体Ri的谱线进行相似度比较，当比对到最高相似度，且大于预设值80-90％时，即将当前扫 描的像素元p识别为对应的地理实体类型；当所述最高相似度小于预设值，则在当前像素元p八邻域范围内对具有完整影像的像素 的像素元进行如下分析：若八邻域中存在已经识别地理实体类型的，则将中对应已经识别地理实体的近地面组 合高光谱波段的那些波段所对应的光谱谱线与该已经识别地理实体分类的组合高光谱谱线进 行相似度比较；若八邻域中有未确定地理实体类型的，则继续识别邻域中未确定地理实体类 型的邻域所属的地理实体类型；计算中对应各所有确定地理实体类型后邻域代表的地理实体的近地面组合高光谱波 段的那些波段所对应的光谱谱线与各所有确定地理实体类型后邻域代表的地理实体的近地面 组合高光谱的光谱谱线的相似度，取相似度最大者对应的邻域所代表的地理实体类型作为当 前像素元p所识别的地理实体类型，并且已经识别地理实体类型的邻域像素元视作已经完成 扫描，在以后的扫描过程中不再予以扫描识别；若八邻域中也存在至少一个在识别其代表的地理实体类型过程中计算的所述相似度小于 所述预设值的邻域，则不计入当前相似度比较对象，而只将大于预设值的那些邻域作为相似 度比较对象；若八邻域全部为不计入当前相似度比较对象，则将当前像素元p的地理实体类型定义为 前一个像素元或后一个像素元识别的地理实体类型，其中，所述的相似度比较方法为：S3-3-1将进行S2-2的步骤获得对应的组合高光谱其中i表示对的组合按照 第i类地理实体类型对应的Ri形成的方式进行组合形成；S3-3-2对中最佳组合波段内各波段的积分强度值与Ri对应的波段的积分强度值进行比较，求标准差的倒数定义为相似度。所述将所识别的类型与地理实体分类字段进行映射，形成语义体系具体包括：S3-4对每一个扫描的像素元所识别的分类字段赋予对应的地理实体编码，S3-5将每一个像素元中心的时空坐标赋予对应的地理实体基本参数字段，各扫描的像素 元的被赋予时空坐标的地理实体基本参数字段连同赋予的地理实体编码的分类字段形成语义 体系。优选地，在步骤S3-5之后还包括P1-2根据S3-5所完成的地理实体语义体系，将对应所述每个像素元的地面投影坐标与语 义体系中的地理实体分类之间建立映射关系；P1-3通过自动化建模将倾斜摄影数据形成倾斜三维单体集合的三维模型，此时三维模型 中所有像素对应的在同一个E下的地面投影坐标即为P1-2中所述每个像素元的地面投影坐标， 因此三维模型中所有像素地面投影坐标与语义体系中的地理实体分类之间存在与P1-2中相同 的映射关系；P1-4选择P1-3中三维模型中的任一点，获取与该任一点对应的在语义体系中的地理实体 分类，并将分类信息显示在该任一点的附近模型空间位置，并可以随时选择消失该分类信息。优选地，P1-3具体步骤替换为：在遥感高光谱的遥感影像维中显示P1-1中无人机所扫描 的每个像素元的中心点，通过点击任一中心点即可以展示在所述中心点所拍摄的倾斜影像以 代替自动化建模。优选地，在进行P1-3具体步骤替换之前对所有倾斜摄影中道路上的车辆进行删除。优选地，具体删除方法是将道路所在的坐标的像素全部填充为预设的颜色像素值。有益效果1.避开了机器学习算法，采用高光谱的3-4波段最佳波段组合下组合高光谱为识别特征， 对于地理实体数据进行分类划分，简化了语义标注的算法，提高了标注效率；2.采用遥感影像结合倾斜摄影的像素元扫描的思想，基于组合高光谱分别识别像素元内 的实体分类，并采用八邻域修正，从而精确地从遥感高光谱中抠出各地理分类的范围，从而 建立像素元分类-地理编码之间的语义体系，完成语义标注,同时与现有技术五向倾斜摄影相比 还增加了倾斜摄影完整八邻域的倾斜影像获取，避免了可能的角度死角，增加了建模特征的 邻域缺损信息。附图说明图1示范区典型地物遥感高光谱中真彩色影像维，其中给出了基于视场范围外接正方形的倾 斜摄影像素元扫描方法以及倾斜摄影数据库的数据结构示意图，图2十二类地理实体的近地面组合高光谱获取过程示意图，图3近地面组合高光谱具体的裁剪与拼接组合过程示意图，其中图3a裁剪波段示意图，图 3b裁剪过后的示意图，图3c拼接方式示意图，图3d拼接过后的示意图，图4为图1中示范区典型地物遥感真彩色图中方框所示区域，图5语义体系形成过程流程图，图6倾斜摄影数据库中地面投影坐标和地理实体分类之间的映射关系图，图7为将所有十三类的地理实体分类完毕之后进行语义标注之后形成不同色彩的可视化地物分类效果图。具体实施方式实施例1图1为示范区典型地物遥感高光谱中真彩色影像维，分为城市道路、乡村道路、大棚、 建筑、河流、水塘、林地、草地、水稻、玉米、非主要作物、裸地、其他地物十三类。我们 将河流、水塘都视作水体，从而一共十二类，由此设置12-36架搭载高光谱设备的无人机， 分别负责对于十二类地体实体的高光谱的采集，在1小时内，各采集1000-10000幅，采集频 率为每秒0.36-3.6次。所有无人机的飞行高度一致为100-120m范围，且对于各类地理实体，所有无人机按照 预定路线在同一时刻同时开始飞行，且在从起始开始1小时候停止一切采集。其中，对每一 类地理实体的5000个采集点采集的高光谱进行预处理一阶导数，归一化，多元散射校正， Savitzky-Golay平滑处理，如图2所示，获得典型地理实体分类下的近地面高光谱{Rl1,Rl2,Rl3,Rl4,Rl5,Rl6,Rl7,Rl8,Rl9,Rl10,Rl11,Rl12}，其中每一个元素都包括5000个采集点采 集的高光谱样本，且每个采集点采集一个高光谱；在采集近地面高光谱同时，如图1采用搭载倾斜摄影装置的无人机，通过中心俯视摄影 装置的八邻域其他倾斜摄影装置的俯角改变而设定的视野范围，构建视野范围的最小外接正 方形，以所述最小外接正方形为像素元，对遥感高光谱按照图1的视角下从右往左，从上之 下行列结合的扫描方式进行最小外接正方形为像素元的像素元逐个扫描，每扫描一个像素之 后平移一个正方形边长进行下一个像素元的扫描。实际应用中，无人机上搭载的倾斜摄影装置可以为九向的九镜头摄像机，图1以九镜头 摄像机为例，通过中心俯视摄影装置的八邻域其他倾斜摄影装置的俯角改变而设定九向的视 野范围，并构建九向视野范围的最小外接正方形，进而采集的倾斜摄影数据也对应为九宫格 的九向倾斜摄影数据。当然，除上述介绍的搭载九向倾斜摄影装置的无人机之外，还可以采 用搭载五向倾斜摄影装置的无人机。每一个像素元扫描获得8幅倾斜摄影倾斜影像+1幅俯视影像。如图1所示，影像右上角 第一个像素扫描的右侧放大图为例。存在九宫格的外接正方形的倾斜摄影的9个角度范围， 在每个角度范围内的摄影装置拍摄得到的图像中，记录每一个像素元扫描时无人机所处在真实地理坐标系E下的坐标，并计算出9个角度倾斜 影像中每个像素元的空间坐标，以及相应的地面投影坐标，这些数据如图 1将建立一个专门的倾斜摄影数据库，进行存储，a-i分别对应的每一个扫描像素元的对应角 度的空间坐标，相应的地面投影坐标，以及一个附加的影像存储单元。可以理解的是，每一 个数据子库，例如e表示的俯视影像图中每个扫描的像素元中俯视影像及其中各像素的空间 坐标，以及相应的地面投影坐标。因此e以及其他子库实际上是一个多维数组。对于其中坐 标存储，其中一个第一维度是像素元扫描顺序排列的数据元，第二个维度是每一个第一维度上的数据元中存放的相 应的坐标，第二个维度上可以按照影像在像素元的提取的顺序进行排列，例如采用一个二维 数组来对应影像中每个像素的位置的坐标存储。对于十二个分类中的每一个分类内部，对5000个采集点采集的高光谱进行叠加平均处理 获得{Rc1,Rc2,Rc3,Rc4,Rc5,Rc6,Rc7,Rc8,Rc9,Rc10,Rc11,Rc12}，其中每个元素只含有一个融合高 光谱数据，同时采集与所述近地面高光谱对应的同一地理区域的遥感高光谱Rp。实施例2对各地理实体分类下的融合光谱{Rc1,Rc2,Rc3,Rc4,Rc5,Rc6,Rc7,Rc8,Rc9,Rc10,Rc11,Rc12}进 行提取各地理实体分类的最佳波段组合其中qi∈为第i类地理实体的最佳波段组合 中的波段序号，对于每一个都表示为一个最佳波段组合，其中，最佳波段组合采用如下方式选取：设最佳波段判别指数或其中u,v,x,y,z为第i类地 理实体的高光谱波段序号，Qi＝7为第i类地理实体的高光谱波段总数，S为通过多个采样点 的高光谱各波段计算的标准差，Ruv、Rxyz为相应下标为序号的波段之间的相关系数，求和符 号分别是对所有可能总数进行取遍求和，取对应的波段组合即三波段、四波段、一直到n 波段组合作为最佳波段组合。得到十二类地理实体分类最佳组合波段如果发现三波段对于其中一类 地理实体来说为Fi的表达各形态的最小值，则对于该地理实体类型，比如房屋，则对于水稻则为四波段，对应如图3所示，图3a为地理实体类型中其中一张融合高光谱Rci。其最佳组合波段中存在 编号为1，2，3的三个谱峰，对峰2和峰3之间的光谱数据进行裁剪，形成图3b的已裁剪状态，然后按照各最佳波段的波长值大小顺序即峰1，峰2，峰3的波段波长顺序，通过将峰2 和峰3进行拼接。注意到图3c圈出的峰3波段的最左侧的数据点大于基线值，因此拼接之后 将该数据点强制定义为基线值，而与峰2的波段的最右侧的基线值重合，形成已拼接状态图3d。拼接后峰1和峰2为移动，而峰3为平移操作，除了波段最左侧的值强制定义为基线值，峰3谱线所跨的波长值大小以及范围仍然定义不变，因此并非是波长轴所指示的波长值范围。对于其他地理实体类型，同样方法操作，最终形成近地面组合高光谱 {R1,R2,R3,R4,R5,R6,R7,R8,R9,R10,R11,R12}。实施例3本实施例将说明基于像素元扫描的遥感影像的地理实体分类的方法。如图4a所示为图1 中示范区典型地物遥感真彩色图中方框所示区域，作为像素元扫描的一个实施方式。设定像 素元大小而4m×4m，分辨率为1m，对于图4a中水稻区域和一处夹杂的非主要农作物的经 过区域。图4b右侧放大显示了图4b中水稻和非主要农作物交界附近的区域扫描情况。其中 以从右往左，从上至下的扫描方式扫描。如图4b所示，当像素元经历到图中元素1的位置时， 调用像素元中的如图4c高光谱与近地面组合高光谱 {R1,R2,R3,R4,R5,R6,R7,R8,R9,R10,R11,R12}相应的波段的谱峰作相似度计算，则确定为水稻 类型。而实际上像素元1也完全在水稻区域内。但是，图4b中像素元1为当前起始扫描位置，扫描历经到下一个像素元2时，像素元2 跨越了水稻与非主要农作物的交界，此时像素元2与图4d的代表水稻的组合高光谱R8的相 似度为所有近地面组合高光谱中最大的，但不到预设值80％，则如图4b所示对像素元2作八 邻域，其中像素元4和7完全位于水稻区域内，像素元6和9全在非主要农作物区域，相似 度最低，只有像素元5和8也在自边界。经过计算发现与像素元8相似度相对较大，则取像素元8所述的类型，而像素元8与R8的相似度已经计算为超过80％即为水稻类型，因此像素元2的类型定义为水稻。若将像素元为1m×1m分辨率，则像素元扫描方向上一分为四，则最左侧的部分完全在 非主要农作物内，而3/4则基本全在水稻范围内，因此更细致地将像素元2的区域区分出了 水稻和非主要农作物的两个类型。可见当像素元越小，则识别会越精细。如图5所示，对每一个扫描的像素元所识别的分类字段赋予对应的地理实体编码，将每 一个像素元中心的时空坐标赋予对应的地理实体基本参数字段，各扫描的像素元的被赋予时 空坐标的地理实体基本参数字段连同赋予的地理实体编码的分类字段形成语义体系，完成对 实施例1的遥感影像地理实体类型的语义标注。根据完成的地理实体语义体系，将对应所述每个像素元的地面投影坐标与语义体系中的 地理实体分类之间建立映射关系；如图6所示，图1中的倾斜摄影数据库中以子库e为例，调用其中的一个扫描像素元中， 各地面投影坐标分别映射到语义体系中的地理实体基本参数字段中，找到对应的坐标，这些 坐标通过关联指向在分类字段中关联到相应的地理实体分类，从而建立了所述映射关系。即 从倾斜影像中的地面投影坐标能够找到该坐标所属的地理实体分类。通过自动化建模将倾斜摄影数据形成倾斜三维单体集合的三维模型，此时三维模型中所 有像素对应的在同一个E下的地面投影坐标即为P1-2中所述每个像素元的地面投影坐标，因 此三维模型中所有像素地面投影坐标与语义体系中的地理实体分类之间存在与图6描述的相 同的映射关系；选择三维模型中的任一点，获取与该任一点对应的在语义体系中的地理实体分类，并将 分类信息显示在该任一点的附近模型空间位置，并可以随时选择消失该分类信息。优选地，先对所有倾斜摄影影像中将道路所在的坐标的像素全部填充为预设的颜色像素 值，然后将自动化建模具体步骤替换为：在遥感高光谱的遥感影像维中显示实施例1中无人 机所扫描的每个像素元的中心点，通过点击任一中心点即可以展示在所述中心点所拍摄的倾 斜影像以代替自动化建模。在之后还包括了：将上述提出的十二类地理实体分类的最佳波段组合运用于S3中已语义标注完毕的遥感 高光谱中，按照S2的方法获得所述遥感高光谱对应的遥感组合高光谱R'i，使用近地面组合 高光谱Ri对遥感组合高光谱R'i进行校正处理，获得校正后的遥感组合高光谱Rcor＝f， f为校正操作，f为将R'i的对应特征波段的峰值和/或积分强度进行校正到Ri的水平, 具体使用高斯函数进行每一个波段谱峰进行拟合，实现所述校正。根据上述的方法，我们得到了十二类地理实体类型的语义标注，其中，图7为将所有十 三类的地理实体分类完毕之后进行语义标注之后形成不同色彩的可视化地物分类效果图。
