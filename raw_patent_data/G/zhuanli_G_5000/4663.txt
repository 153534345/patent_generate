标题title
一种用于自航式两栖清淤机器人的照明系统
摘要abst
本发明涉及照明技术领域，尤其涉及一种用于自航式两栖清淤机器人的照明系统，包括摄像装置、照明装置、空间检测装置以及中控处理器，本发明通过对清淤机器人所处环境的空间大小数据进行检测，中控处理器根据检测结果对照明装置的光照参数进行确定，同时，对清淤机器人所处空间进行划分，在不同的空间区域选用不同的光照参数，以使照明装置的亮度和光圈半径结合达到更佳照明效果，对图像清晰度不符合标准的区域根据图像亮度对区域的光照参数进行调整，以获取更好的照明效果，对于图像亮度符合标准的不清晰的图像进行图像处理，并识别淤泥轮廓，以实现识别淤泥轮廓的目的，确保清淤机器人在清淤时顺利进行工作。
权利要求书clms
1.一种用于自航式两栖清淤机器人的照明系统，其特征在于，包括：摄像装置，用以在所述清淤机器人清淤时采集清淤机器人所处环境的图像信息；照明装置，包括若干环绕设置在所述清淤机器人上的光源，用以对清淤机器人所处环境进行照明；空间检测装置，其设置在所述清淤机器人的前端，用以获取清淤机器人所处环境的环境参数，环境参数包括清淤机器人所处环境的区域面积、空间高度以及空间检测装置所处位置到所处环境的区域边缘的平均距离；中控处理器，其分别与所述摄像装置、所述照明装置和所述空间检测装置相连，用以根据通过所述环境参数计算的空间调整参数Ki以及所述摄像装置检测的所处环境的亮度判定是否将所述照明装置的光照参数调节至对应值，所述中控处理器在判定所述图像信息的亮度低于预设值时将所述光照参数调节至对应值并在图像信息的亮度大于等于预设值时对图像信息进行灰度化处理以及对灰度化处理后灰度图像中的标记区域进行二值化处理以判定图像信息中的形体轮廓是否为淤泥，其中所述光照参数包括照明装置中各所述光源的亮度和光圈半径。2.根据权利要求1所述的用于自航式两栖清淤机器人的照明系统，其特征在于，所述中控处理器根据所述空间检测装置上传的所述环境参数计算空间调整参数Ki，中控处理器以所述空间检测装置所处位置为坐标原点建立空间坐标系f，以x轴y轴构成的平面为基准平面，将所述基准平面划分为预设数量n的区域，对于第i个区域，按照如下公式计算该区域的空间调整参数Ki，其中i的取值为1～n，其中，Si表示第i区域的区域面积，H表示所述清淤机器人所处空间的空间高度，V0表示预设空间体积，Li表示坐标原点到第i区域边缘的平均距离，L0表示预设平均距离。3.根据权利要求2所述的用于自航式两栖清淤机器人的照明系统，其特征在于，所述摄像装置在所述清淤机器人运行时检测清淤机器人所处环境的亮度Dh，所述中控处理器内部预设空间对比参数K01和K02，其中K01＜K02，所述中控处理器在所述摄像装置进行拍摄时根据所述第i区域空间调整参数Ki确定所述照明装置中对应光源对该区域进行光照时的光照参数，当Ki≥K02时，所述中控处理器将照明装置中对应光源对第i区域照明时的亮度确定为D，设定；所述中控处理器将照明装置中对应光源对第i区域照明时的光圈半径确定为R，设定；当K01≤Ki＜K02时，所述中控处理器将照明装置中对应光源对第i区域照明时的亮度确定为D，设定D=D0，所述中控处理器将照明装置中对应光源对第i区域照明时的光圈半径确定为R，设定R=R0；当Ki＜K01时，所述中控处理器将照明装置中对应光源对第i区域照明时的亮度确定为D，设定；所述中控处理器将照明装置中对应光源对第i区域照明时的光圈半径确定为R，设定；其中，D0表示照明装置的预设亮度，R0表示光圈的预设半径。4.根据权利要求3所述的用于自航式两栖清淤机器人的照明系统，其特征在于，所述摄像装置在所述清淤机器人运行时采集清淤机器人所处环境的图像信息，所述中控处理器在对从所述第i区域采集的图像信息进行分析时将该图像信息的清晰度Qi与预设清晰度Q0进行比对，当Qi≥Q0时，所述中控处理器判定所述摄像装置采集的该区域图像信息的清晰度符合标准，并对该区域中淤泥区域的轮廓特征进行提取；当Qi＜Q0时，所述中控处理器判定所述摄像装置采集的该区域图像信息的清晰度不符合标准，中控处理器计算该图像信息的亮度。5.根据权利要求4所述的用于自航式两栖清淤机器人的照明系统，其特征在于，所述中控处理器在判定所述摄像装置采集的单个所述区域图像信息的清晰度不符合标准时获取该图像信息的RGB值以计算该图像信息的亮度Y并将Y与预设亮度Y0进行比对，当Y＜Y0时，所述中控处理器判定针对该区域的光照参数不符合要求，中控处理器根据该区域图像信息的清晰度Q对所述照明装置的光照参数进行调整；当Y≥Y0时，所述中控处理器判定针对该区域的光照参数符合要求，中控处理器对清晰度不符合标准的图像信息进行图像处理以识别图像信息中的淤泥轮廓。6.根据权利要求5所述的用于自航式两栖清淤机器人的照明系统，其特征在于，所述中控处理器在判定针对单个所述区域的光照参数不符合要求时计算该区域图像信息的清晰度Qi与预设清晰度Q0的差值ΔQ并根据ΔQ对所述照明装置中对应光源对该区域照明时的光照参数进行调整，设定ΔQ=Q0-Qi，当ΔQ≤ΔQ1时，所述中控处理器使用α1将所述照明装置中对应光源对该区域照明时的亮度调整至D＇，设定D＇=D×α1，将照明装置中对应光源对该区域照明时的光圈半径调整至R’，设定R＇=R×α1；当ΔQ1＜ΔQ≤ΔQ2时，所述中控处理器使用α2将所述照明装置中对应光源对该区域照明时的亮度调整至D＇，设定D＇=D×α2，将照明装置中对应光源对该区域照明时的光圈半径调整至R＇设定R＇=R×α2；当ΔQ2＜ΔQ时，所述中控处理器使用α3将所述照明装置中对应光源对该区域照明时的亮度调整至D＇，设定D＇=D×α3，将照明装置中对应光源对该区域照明时的光圈半径调整至R＇，设定R＇=R×α3；其中，ΔQ1为第一预设清晰度差值，ΔQ2为第二预设清晰度差值，α1为第一调节系数，α2为第二调节系数，α3为第三调节系数，ΔQ1＜ΔQ2，1＜α1＜α2＜α3＜1.5。7.根据权利要求5所述的用于自航式两栖清淤机器人的照明系统，其特征在于，所述中控处理器设有灰度值差值对比参量ΔGpd，ΔGpd＞0，所述中控处理器在对清晰度不符合标准的所述图像信息进行图像处理以识别图像信息中的淤泥轮廓时对图像信息进行灰度化处理以获取针对该图像信息的灰度图像，中控处理器计算所述灰度图像的平均灰度值Gps并将灰度图像平均分为若干区域，依次计算灰度图像中各区域内图像的平均灰度值、依次计算灰度图像中各区域内图像的平均灰度值与Gps的差值以判定是否对对应的区域进行标记，对于灰度图像中的第z区域，设定z=1，2，3，...，m，m为中控处理器将该灰度图像划分的区域的总数，灰度图像中各区域内图像的平均灰度值记为Gpz，Gpz与Gps的差值记为ΔGp，设定ΔGp=Gps-Gpz，当ΔGp＞ΔGpd时，所述中控处理器对所述第z区域进行标记并提取该标记区域；当ΔGp≤ΔGpd时，所述中控处理器不对所述第z区域进行标记。8.根据权利要求7所述的用于自航式两栖清淤机器人的照明系统，其特征在于，所述中控处理器对与所述标记区域对应的图像信息进行二值化处理以获取二值化图像，中控处理器调节各二值化图像的二值化阈值以识别调节过程中各二值化图像中的形体轮廓，在所述二值化阈值调节过程中，所述中控处理器依次提取各所述二值化图像中的形体轮廓，针对单个所述二值化图像，若该二值化图像中存在的形体轮廓在预设二值化阈值变化区间内保持不变，则中控处理器提取所述形体轮廓以作为识别形体轮廓；所述中控处理器在所述灰度图像中依次标注各所述识别形体轮廓，并分别对各所述识别形体轮廓进行验证，其中：所述中控处理器依次将各所述识别形体轮廓缩小预设比例参量B1后形成若干第一识别形体轮廓，以分别确定各所述第一识别形体轮廓与对应的所述识别形体轮廓形成的环形区域，并计算该环形区域的灰度平均值G1；所述中控处理器依次将各所述识别形体轮廓放大预设比例参量B2后形成若干第二识别形体轮廓，以分别确定各所述第二识别形体轮廓与对应的所述识别形体轮廓形成的环形区域，并计算该环形区域的灰度平均值G2；所述中控处理器按照以下公式计算两环形区域的灰度差异参量H，设定其中0.8＜B1＜1＜B2＜1.2。9.根据权利要求8所述的用于自航式两栖清淤机器人的照明系统，其特征在于，所述中控处理器根据所述灰度差异参量H判定所述识别形体轮廓是否为淤泥区域的轮廓，当H-1＞Hd时，所述中控处理器判定所述识别形体轮廓为淤泥区域轮廓；当H-1≤Hd时，所述中控处理器判定所述识别形体轮廓不是淤泥区域轮廓；其中Hd为预设灰度差异对比参量。10.根据权利要求9所述的用于自航式两栖清淤机器人的照明系统，其特征在于，当所述中控处理器判定所述识别形体轮廓为淤泥区域轮廓时，所述清淤机器人在清淤前使用预设力度对所述识别形体轮廓内的淤泥进行预触碰并根据接收到的反馈力F对所述形体轮廓的种类进行判定，当F≤F0时，所述中控处理器判定所述识别形体轮廓内的物体为淤泥；当F＞F0时，所述中控处理器判定所述识别形体轮廓内的物体为障碍物。
说明书desc
技术领域本发明涉及照明技术领域，尤其涉及一种用于自航式两栖清淤机器人的照明系统。背景技术水下环境安全的检测对水下的活动至关重要，水对光有着强烈的吸收作用，水下几十米的空间几乎是漆黑一片，因此进行水下安全检测一般都需要加人工照明，不同的环境使用的水下照明也就不同，一个合适的光源对水下检测成像至关重要。中国专利公开号：CN110067964A公开了一种水陆两栖管道机器人用照明装置及控制方法，其属于机器人管道照明领域；包括：照明单元和水密接头；所述照明单元包括防水外壳，在防水外壳的出光端设有透镜，所述防水外壳内设有传感器模块、通信模块、电源板、LED芯片，所述LED芯片与电源板相连，所述电源板通过通信模块与传感器模块相连，所述通信模块、电源板均与水密接头相连。该申请的装置及控制方法，解决了现有技术中的照明装置工作环境适应能力小、不可遥控、不具有自检功能、使用水密接头过多等缺点。清淤机器人所处的水下环境是多种多样的，尤其当清淤机器人处于一个有限的空间时，获取准确的水下环境信息对于清淤机器人的顺利工作具有重要意义。然而，现有的照明装置对于水下环境信息的获取能力较低，不能准确识别水下环境。发明内容为此，本发明提供一种用于自航式两栖清淤机器人的照明系统，用以克服现有技术中现有的照明装置对于水下环境信息的获取能力较低，不能准确识别水下环境的问题。为实现上述目的，本发明提供一种用于自航式两栖清淤机器人的照明系统，包括：摄像装置，用以在所述清淤机器人清淤时采集清淤机器人所处环境的图像信息；照明装置，包括若干环绕设置在所述清淤机器人上的光源，用以对清淤机器人所处环境进行照明；空间检测装置，其设置在所述清淤机器人的前端，用以获取清淤机器人所处环境的环境参数，环境参数包括清淤机器人所处环境的区域面积、空间高度以及空间检测装置所处位置到所处环境的区域边缘的平均距离；中控处理器，其分别与所述摄像装置、所述照明装置和所述空间检测装置相连，用以根据通过所述环境参数计算的空间调整参数Ki以及所述摄像装置检测的所处环境的亮度判定是否将所述照明装置的光照参数调节至对应值，所述中控处理器在判定所述图像信息的亮度低于预设值时将所述光照参数调节至对应值并在图像信息的亮度大于等于预设值时对图像信息进行灰度化处理以及对灰度化处理后灰度图像中的标记区域进行二值化处理以判定图像信息中的形体轮廓是否为淤泥，其中所述光照参数包括照明装置中各所述光源的亮度和光圈半径。进一步地，所述中控处理器根据所述空间检测装置上传的所述环境参数计算空间调整参数Ki，中控处理器以所述空间检测装置所处位置为坐标原点建立空间坐标系f，以x轴y轴构成的平面为基准平面，将所述基准平面划分为预设数量n的区域，对于第i个区域，按照如下公式计算该区域的空间调整参数Ki，其中i的取值为1～n，其中，Si表示第i区域的区域面积，H表示所述清淤机器人所处空间的空间高度，V0表示预设空间体积，Li表示坐标原点到第i区域边缘的平均距离，L0表示预设平均距离。进一步地，所述摄像装置在所述清淤机器人运行时检测清淤机器人所处环境的亮度Dh，所述中控处理器内部预设空间对比参数K01和K02，其中K01＜K02，所述中控处理器在所述摄像装置进行拍摄时根据所述第i区域空间调整参数Ki确定所述照明装置中对应光源对该区域进行光照时的光照参数，当Ki≥K02时，所述中控处理器将照明装置中对应光源对第i区域照明时的亮度确定为D，设定；所述中控处理器将照明装置中对应光源对第i区域照明时的光圈半径确定为R，设定；当K01≤Ki＜K02时，所述中控处理器将照明装置中对应光源对第i区域照明时的亮度确定为D，设定D=D0，所述中控处理器将照明装置中对应光源对第i区域照明时的光圈半径确定为R，设定R=R0；当Ki＜K01时，所述中控处理器将照明装置中对应光源对第i区域照明时的亮度确定为D，设定；所述中控处理器将照明装置中对应光源对第i区域照明时的光圈半径确定为R，设定；其中，D0表示照明装置的预设亮度，R0表示光圈的预设半径。进一步地，所述摄像装置在所述清淤机器人运行时采集清淤机器人所处环境的图像信息，所述中控处理器在对从所述第i区域采集的图像信息进行分析时将该图像信息的清晰度Qi与预设清晰度Q0进行比对，当Qi≥Q0时，所述中控处理器判定所述摄像装置采集的该区域图像信息的清晰度符合标准，并对该区域中淤泥区域的轮廓特征进行提取；当Qi＜Q0时，所述中控处理器判定所述摄像装置采集的该区域图像信息的清晰度不符合标准，中控处理器计算该图像信息的亮度。进一步地，所述中控处理器在判定所述摄像装置采集的单个所述区域图像信息的清晰度不符合标准时获取该图像信息的RGB值以计算该图像信息的亮度Y并将Y与预设亮度Y0进行比对，当Y＜Y0时，所述中控处理器判定针对该区域的光照参数不符合要求，中控处理器根据该区域图像信息的清晰度Q对所述照明装置的光照参数进行调整；当Y≥Y0时，所述中控处理器判定针对该区域的光照参数符合要求，中控处理器对清晰度不符合标准的图像信息进行图像处理以识别图像信息中的淤泥轮廓。进一步地，所述中控处理器在判定针对单个所述区域的光照参数不符合要求时计算该区域图像信息的清晰度Qi与预设清晰度Q0的差值ΔQ并根据ΔQ对所述照明装置中对应光源对该区域照明时的光照参数进行调整，设定ΔQ=Q0-Qi，当ΔQ≤ΔQ1时，所述中控处理器使用α1将所述照明装置中对应光源对该区域照明时的亮度调整至D＇，设定D＇=D×α1，将照明装置中对应光源对该区域照明时的光圈半径调整至R’，设定R＇=R×α1；当ΔQ1＜ΔQ≤ΔQ2时，所述中控处理器使用α2将所述照明装置中对应光源对该区域照明时的亮度调整至D＇，设定D＇=D×α2，将照明装置中对应光源对该区域照明时的光圈半径调整至R＇设定R＇=R×α2；当ΔQ2＜ΔQ时，所述中控处理器使用α3将所述照明装置中对应光源对该区域照明时的亮度调整至D＇，设定D＇=D×α3，将照明装置中对应光源对该区域照明时的光圈半径调整至R＇，设定R＇=R×α3；其中，ΔQ1为第一预设清晰度差值，ΔQ2为第二预设清晰度差值，α1为第一调节系数，α2为第二调节系数，α3为第三调节系数，ΔQ1＜ΔQ2，1＜α1＜α2＜α3＜1.5。进一步地，所述中控处理器设有灰度值差值对比参量ΔGpd，ΔGpd＞0，所述中控处理器在对清晰度不符合标准的所述图像信息进行图像处理以识别图像信息中的淤泥轮廓时对图像信息进行灰度化处理以获取针对该图像信息的灰度图像，中控处理器计算所述灰度图像的平均灰度值Gps并将灰度图像平均分为若干区域，依次计算灰度图像中各区域内图像的平均灰度值、依次计算灰度图像中各区域内图像的平均灰度值与Gps的差值以判定是否对对应的区域进行标记，对于灰度图像中的第z区域，设定z=1，2，3，...，m，m为中控处理器将该灰度图像划分的区域的总数，灰度图像中各区域内图像的平均灰度值记为Gpz，Gpz与Gps的差值记为ΔGp，设定ΔGp=Gps-Gpz，当ΔGp＞ΔGpd时，所述中控处理器对所述第z区域进行标记并提取该标记区域；当ΔGp≤ΔGpd时，所述中控处理器不对所述第z区域进行标记。进一步地，所述中控处理器对与所述标记区域对应的图像信息进行二值化处理以获取二值化图像，中控处理器调节各二值化图像的二值化阈值以识别调节过程中各二值化图像中的形体轮廓，在所述二值化阈值调节过程中，所述中控处理器依次提取各所述二值化图像中的形体轮廓，针对单个所述二值化图像，若该二值化图像中存在的形体轮廓在预设二值化阈值变化区间内保持不变，则中控处理器提取所述形体轮廓以作为识别形体轮廓；所述中控处理器在所述灰度图像中依次标注各所述识别形体轮廓，并分别对各所述识别形体轮廓进行验证，其中：所述中控处理器依次将各所述识别形体轮廓缩小预设比例参量B1后形成若干第一识别形体轮廓，以分别确定各所述第一识别形体轮廓与对应的所述识别形体轮廓形成的环形区域，并计算该环形区域的灰度平均值G1；所述中控处理器依次将各所述识别形体轮廓放大预设比例参量B2后形成若干第二识别形体轮廓，以分别确定各所述第二识别形体轮廓与对应的所述识别形体轮廓形成的环形区域，并计算该环形区域的灰度平均值G2；所述中控处理器按照以下公式计算两环形区域的灰度差异参量H，设定其中0.8＜B1＜1＜B2＜1.2。进一步地，所述中控处理器根据所述灰度差异参量H判定所述识别形体轮廓是否为淤泥区域的轮廓，当H-1＞Hd时，所述中控处理器判定所述识别形体轮廓为淤泥区域轮廓；当H-1≤Hd时，所述中控处理器判定所述识别形体轮廓不是淤泥区域轮廓；其中Hd为预设灰度差异对比参量。进一步地，当所述中控处理器判定所述识别形体轮廓为淤泥区域轮廓时，所述清淤机器人在清淤前使用预设力度对所述识别形体轮廓内的淤泥进行预触碰并根据接收到的反馈力F对所述形体轮廓的种类进行判定，当F≤F0时，所述中控处理器判定所述识别形体轮廓内的物体为淤泥；当F＞F0时，所述中控处理器判定所述识别形体轮廓内的物体为障碍物。与现有技术相比，本发明的有益效果在于，本发明通过设置摄像装置、照明装置、空间检测装置和中控处理器，对清淤机器人所处环境的空间大小数据进行检测，中控处理器根据检测结果对照明装置的亮度和光圈半径进行确定，同时，对清淤机器人所处空间进行划分，在不同的空间区域进行不同的光照参数，以使照明装置的亮度和光圈半径结合达到更佳照明效果，进而摄像装置能够获取清晰度更高的图像，同时针对不同的空间数据选用不同的光照参数以获取更好的照明效果，以满足在水下有限的空间范围内获取更佳的照明效果，进而获取清晰度更高的图像，以获取清晰的水下环境的图像信息。进一步地，本发明设置空间检测装置，对清淤机器人所处空间的坐标数据进行获取和分析，并根据空间坐标数据将空间分为若干区域，对于任一区域选用对应的光照参数，在实际情况中，清淤机器人处于一个有限的空间，摄像装置在对周边的环境进行图像采集时，不同的区域，其空间布局都是不同的，若采用相同的光照参数，则可能会造成部分区域采集的图像清晰度不符合要求的问题，同时还可能会造成部分区域采集的图像曝光过度的问题，因此根据空间不同划分区域，对不同区域选用不同光照参数是必要的，能有效的使照明装置的亮度和光圈半径配合较佳，获取更好的照明效果，进而获取清晰度更高的图像，以获取清晰的水下环境的图像信息。进一步地，本发明中控处理器引入空间调整参数Ki，在Ki中包含了空间整体体积数据以及空间检测装置到空间边缘的长度数据，对于光源照明来说，光源照射的区域的面积和空间高度都对照射效果产生影响，本申请将这些因素纳入考虑，构建空间调整参数，以确定不同空间区域对应的光照参数，对于单个光源而言，其能够照射的区域是有限的，将清淤机器人所处的空间划分为若干区域，对于任一区域的照明效果，对该区域的光源进行有针对性的调节，使照明装置的亮度和光圈半径配合达到最佳，获取更好的照明效果，进而获取清晰度更高的图像，以获取清晰的水下环境的图像信息，同时节约清淤机器人的能耗。进一步地，本发明中控处理器对摄像装置对周边环境拍摄获取的图像进行分析，在判定图像的清晰度不符合标准时进一步计算所述图像的亮度，当中控处理器根据图像的亮度判定对应区域的光照参数不符合要求时，根据图像清晰度对照明装置的光照参数进行调整，以获取更好的照明效果，进而获取清晰度更高的图像，以获取清晰的水下环境的图像信息。进一步地，本发明中控处理器在根据图像的亮度判定对应区域的光照参数符合要求时，中控处理器对清晰度不符合标准的图像进行图像处理，并识别淤泥轮廓，在实际应用中，淤泥的图像对应的灰度值偏低，中控处理器以此为基准从所述图像中选定标记区域，以将可能为淤泥轮廓的图像进行标记，中控处理器对所述标记区域进行二值化处理，通过调节二值化阈值，确定识别形体轮廓，并对识别形体轮廓进行验证，本发明通过对清晰度不符合标准的图像进行图像处理以实现识别水下环境的目的。进一步地，本发明中控处理器在判定所述识别形体轮廓是淤泥区域的轮廓时，所述清淤机器人在清淤前使用预设力度对所述识别形体轮廓内的淤泥进行预触碰以进一步判定所述识别形体轮廓内是否为淤泥，保证了清淤机器人工作的安全性，避免了误挖到岩石对清淤机器人造成的损伤。附图说明图1为本发明实施例用于自航式两栖清淤机器人的照明系统的结构示意图；图2为本发明实施例用于自航式两栖清淤机器人的照明系统的结构框图；图3为本发明实施例用于自航式两栖清淤机器人的照明系统的进一步实施例结构框图；图4为本发明实施例区域划分示意图。具体实施方式为了使本发明的目的和优点更加清楚明白，下面结合实施例对本发明作进一步描述；应当理解，此处所描述的具体实施例仅仅用于解释本发明，并不用于限定本发明。下面参照附图来描述本发明的优选实施方式。本领域技术人员应当理解的是，这些实施方式仅仅用于解释本发明的技术原理，并非在限制本发明的保护范围。需要说明的是，在本发明的描述中，术语“上”、“下”、“左”、“右”、“内”、“外”等指示的方向或位置关系的术语是基于附图所示的方向或位置关系，这仅仅是为了便于描述，而不是指示或暗示所述装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，还需要说明的是，在本发明的描述中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域技术人员而言，可根据具体情况理解上述术语在本发明中的具体含义。请参阅图1-3所示，其中，图1为本发明实施例用于自航式两栖清淤机器人的照明系统的结构示意图，图2为本发明实施例用于自航式两栖清淤机器人的照明系统的结构框图，图3为本发明实施例用于自航式两栖清淤机器人的照明系统的进一步实施例结构框图，本发明所述用于自航式两栖清淤机器人的照明系统包括：摄像装置，用以在所述清淤机器人清淤时采集清淤机器人所处环境的图像信息，包括设置在清淤机器人前端的前视摄像机1、设置在清淤机器人后端的后视摄像机2和设置在清淤机器人工作臂上的工作摄像机3；照明装置，包括若干环绕设置在所述清淤机器人上的光源5，用以对清淤机器人所处环境进行照明；空间检测装置4，其设置在所述清淤机器人的前端，用以获取清淤机器人所处环境的环境参数，环境参数包括清淤机器人所处环境的区域面积、空间高度以及空间检测装置所处位置到所处环境的区域边缘的平均距离；本发明实施例优选的空间检测装置为空间检测仪；中控处理器，其分别与所述摄像装置、所述照明装置和所述空间检测装置4相连，用以根据通过所述环境参数计算的空间调整参数Ki以及所述摄像装置检测的所处环境的亮度判定是否将所述照明装置的光照参数调节至对应值，所述中控处理器在判定所述图像信息的亮度低于预设值时将所述光照参数调节至对应值并在图像信息的亮度大于等于预设值时对图像信息进行灰度化处理以及对灰度化处理后灰度图像中的标记区域进行二值化处理以判定图像信息中的形体轮廓是否为淤泥，其中所述光照参数包括照明装置中各所述光源5的亮度和光圈半径。本发明通过设置摄像装置、照明装置、空间检测装置4和中控处理器，对清淤机器人所处环境的空间大小数据进行检测，中控处理器根据检测结果对照明装置的亮度和光圈半径进行确定，同时，对清淤机器人所处空间进行划分，在不同的空间区域进行不同的光照参数，以使照明装置的亮度和光圈半径结合达到更佳照明效果，进而摄像装置能够获取清晰度更高的图像，同时针对不同的空间数据选用不同的光照参数以获取更好的照明效果，以满足在水下有限的空间范围内获取更佳的照明效果，进而获取清晰度更高的图像，以获取清晰的水下环境的图像信息。请参阅图4所示，其为本发明实施例区域划分示意图；具体而言，所述中控处理器根据所述空间检测装置4上传的所述环境参数计算空间调整参数Ki，中控处理器以所述空间检测装置所处位置为坐标原点建立空间坐标系f，以x轴y轴构成的平面为基准平面，将所述基准平面划分为预设数量n的区域6，对于第i个区域6，按照如下公式计算该区域的空间调整参数Ki，其中i的取值为1～n，其中，Si表示第i区域的区域面积，H表示所述清淤机器人所处空间的空间高度，V0表示预设空间体积，Li表示坐标原点到第i区域边缘的平均距离，L0表示预设平均距离。本发明设置空间检测装置4，对清淤机器人所处空间的坐标数据进行获取和分析，并根据空间坐标数据将空间分为若干区域6，对于任一区域6选用对应的光照参数，在实际情况中，清淤机器人处于一个有限的空间，摄像装置在对周边的环境进行图像采集时，不同的区域，其空间布局都是不同的，若采用相同的光照参数，则可能会造成部分区域采集的图像清晰度不符合要求的问题，同时还可能会造成部分区域采集的图像曝光过度的问题，因此根据空间不同划分区域，对不同区域选用不同光照参数是必要的，能有效的使照明装置的亮度和光圈半径配合较佳，获取更好的照明效果，进而获取清晰度更高的图像，以获取清晰的水下环境的图像信息。具体而言，所述摄像装置在所述清淤机器人运行时检测清淤机器人所处环境的亮度Dh，所述中控处理器内部预设空间对比参数K01和K02，其中K01＜K02，所述中控处理器在所述摄像装置进行拍摄时根据所述第i区域空间调整参数Ki确定所述照明装置中对应光源5对该区域进行光照时的光照参数，当Ki≥K02时，所述中控处理器将照明装置中对应光源5对第i区域照明时的亮度确定为D，设定；所述中控处理器将照明装置中对应光源5对第i区域照明时的光圈半径确定为R，设定；当K01≤Ki＜K02时，所述中控处理器将照明装置中对应光源5对第i区域照明时的亮度确定为D，设定D=D0，所述中控处理器将照明装置中对应光源5对第i区域照明时的光圈半径确定为R，设定R=R0；当Ki＜K01时，所述中控处理器将照明装置中对应光源5对第i区域照明时的亮度确定为D，设定；所述中控处理器将照明装置中对应光源5对第i区域照明时的光圈半径确定为R，设定；其中，D0表示照明装置的预设亮度，R0表示光圈的预设半径。本发明中控处理器引入空间调整参数Ki，在Ki中包含了空间整体体积数据以及空间检测装置4到空间边缘的长度数据，对于光源照明来说，光源照射的区域的面积和空间高度都对照射效果产生影响，本申请将这些因素纳入考虑，构建空间调整参数，以确定不同空间区域对应的光照参数，对于单个光源而言，其能够照射的区域是有限的，将清淤机器人所处的空间划分为若干区域6，对于任一区域6的照明效果，对该区域的光源进行有针对性的调节，使照明装置的亮度和光圈半径配合达到最佳，获取更好的照明效果，进而获取清晰度更高的图像，以获取清晰的水下环境的图像信息，同时节约清淤机器人的能耗。具体而言，所述摄像装置在所述清淤机器人运行时采集清淤机器人所处环境的图像信息，所述中控处理器在对从所述第i区域采集的图像信息进行分析时将该图像信息的清晰度Qi与预设清晰度Q0进行比对，当Qi≥Q0时，所述中控处理器判定所述摄像装置采集的该区域图像信息的清晰度符合标准，并对该区域中淤泥区域的轮廓特征进行提取；当Qi＜Q0时，所述中控处理器判定所述摄像装置采集的该区域图像信息的清晰度不符合标准，中控处理器计算该图像信息的亮度。具体而言，所述中控处理器在判定所述摄像装置采集的单个所述区域图像信息的清晰度不符合标准时获取该图像信息的RGB值以计算该图像信息的亮度Y并将Y与预设亮度Y0进行比对，当Y＜Y0时，所述中控处理器判定针对该区域的光照参数不符合要求，中控处理器根据该区域图像信息的清晰度Q对所述照明装置的光照参数进行调整；当Y≥Y0时，所述中控处理器判定针对该区域的光照参数符合要求，中控处理器对清晰度不符合标准的图像信息进行图像处理以识别图像信息中的淤泥轮廓。具体而言，图片的亮度计算公式为：Y = 0.299 * R + 0.587 * G + 0.114 * B，其中，R为R通道的均值，G为G通道的均值，B为B通道的均值。具体而言，所述中控处理器在判定针对单个所述区域6的光照参数不符合要求时计算该区域图像信息的清晰度Qi与预设清晰度Q0的差值ΔQ并根据ΔQ对所述照明装置中对应光源5对该区域照明时的光照参数进行调整，设定ΔQ=Q0-Qi，当ΔQ≤ΔQ1时，所述中控处理器使用α1将所述照明装置中对应光源5对该区域照明时的亮度调整至D＇，设定D＇=D×α1，将照明装置中对应光源5对该区域照明时的光圈半径调整至R’，设定R＇=R×α1；当ΔQ1＜ΔQ≤ΔQ2时，所述中控处理器使用α2将所述照明装置中对应光源5对该区域照明时的亮度调整至D＇，设定D＇=D×α2，将照明装置中对应光源5对该区域照明时的光圈半径调整至R＇设定R＇=R×α2；当ΔQ2＜ΔQ时，所述中控处理器使用α3将所述照明装置中对应光源5对该区域照明时的亮度调整至D＇，设定D＇=D×α3，将照明装置中对应光源5对该区域照明时的光圈半径调整至R＇，设定R＇=R×α3；其中，ΔQ1为第一预设清晰度差值，ΔQ2为第二预设清晰度差值，α1为第一调节系数，α2为第二调节系数，α3为第三调节系数，ΔQ1＜ΔQ2，1＜α1＜α2＜α3＜1.5。本发明中控处理器对摄像装置对周边环境拍摄获取的图像进行分析，在判定图像的清晰度不符合标准时进一步计算所述图像的亮度，当中控处理器根据图像的亮度判定对应区域的光照参数不符合要求时，根据图像清晰度对照明装置的光照参数进行调整，以获取更好的照明效果，进而获取清晰度更高的图像，以获取清晰的水下环境的图像信息。具体而言，所述中控处理器设有灰度值差值对比参量ΔGpd，ΔGpd＞0，所述中控处理器在对清晰度不符合标准的所述图像信息进行图像处理以识别图像信息中的淤泥轮廓时对图像信息进行灰度化处理以获取针对该图像信息的灰度图像，中控处理器计算所述灰度图像的平均灰度值Gps并将灰度图像平均分为若干区域，依次计算灰度图像中各区域内图像的平均灰度值、依次计算灰度图像中各区域内图像的平均灰度值与Gps的差值以判定是否对对应的区域进行标记，对于灰度图像中的第z区域，设定z=1，2，3，...，m，m为中控处理器将该灰度图像划分的区域的总数，灰度图像中各区域内图像的平均灰度值记为Gpz，Gpz与Gps的差值记为ΔGp，设定ΔGp=Gps-Gpz，当ΔGp＞ΔGpd时，所述中控处理器对所述第z区域进行标记并提取该标记区域；当ΔGp≤ΔGpd时，所述中控处理器不对所述第z区域进行标记。具体而言，所述中控处理器对与所述标记区域对应的图像信息进行二值化处理以获取二值化图像，中控处理器调节各二值化图像的二值化阈值以识别调节过程中各二值化图像中的形体轮廓，在所述二值化阈值调节过程中，所述中控处理器依次提取各所述二值化图像中的形体轮廓，针对单个所述二值化图像，若该二值化图像中存在的形体轮廓在预设二值化阈值变化区间内保持不变，则中控处理器提取所述形体轮廓以作为识别形体轮廓；所述中控处理器在所述灰度图像中依次标注各所述识别形体轮廓，并分别对各所述识别形体轮廓进行验证，其中：所述中控处理器依次将各所述识别形体轮廓缩小预设比例参量B1后形成若干第一识别形体轮廓，以分别确定各所述第一识别形体轮廓与对应的所述识别形体轮廓形成的环形区域，并计算该环形区域的灰度平均值G1；所述中控处理器依次将各所述识别形体轮廓放大预设比例参量B2后形成若干第二识别形体轮廓，以分别确定各所述第二识别形体轮廓与对应的所述识别形体轮廓形成的环形区域，并计算该环形区域的灰度平均值G2；所述中控处理器按照以下公式计算两环形区域的灰度差异参量H，设定其中0.8＜B1＜1＜B2＜1.2。具体而言，所述中控处理器根据所述灰度差异参量H判定所述识别形体轮廓是否为淤泥区域的轮廓，当H-1＞Hd时，所述中控处理器判定所述识别形体轮廓为淤泥区域轮廓；当H-1≤Hd时，所述中控处理器判定所述识别形体轮廓不是淤泥区域轮廓；其中Hd为预设灰度差异对比参量。本发明中控处理器在根据图像的亮度判定对应区域的光照参数符合要求时，中控处理器对清晰度不符合标准的图像进行图像处理，并识别淤泥轮廓，在实际应用中，淤泥的图像对应的灰度值偏低，中控处理器以此为基准从所述图像中选定标记区域，以将可能为淤泥轮廓的图像进行标记，中控处理器对所述标记区域进行二值化处理，通过调节二值化阈值，确定识别形体轮廓，并对识别形体轮廓进行验证，本发明通过对清晰度不符合标准的图像进行图像处理以实现识别水下环境的目的。具体而言，当所述中控处理器判定所述识别形体轮廓为淤泥区域轮廓时，所述清淤机器人在清淤前使用预设力度对所述识别形体轮廓内的淤泥进行预触碰并根据接收到的反馈力F对所述形体轮廓的种类进行判定，当F≤F0时，所述中控处理器判定所述识别形体轮廓内的物体为淤泥；当F＞F0时，所述中控处理器判定所述识别形体轮廓内的物体为障碍物。具体而言，在所述清淤机器人的清淤机械手上安装有触碰探针，用以检测清淤机械手触碰物体的反馈力，本发明中控处理器在判定所述识别形体轮廓是淤泥区域的轮廓时，所述清淤机器人在清淤前使用预设力度对所述识别形体轮廓内的淤泥进行预触碰以进一步判定所述识别形体轮廓内是否为淤泥，保证了清淤机器人工作的安全性，避免了误挖到岩石对清淤机器人造成的损伤。至此，已经结合附图所示的优选实施方式描述了本发明的技术方案，但是，本领域技术人员容易理解的是，本发明的保护范围显然不局限于这些具体实施方式。在不偏离本发明的原理的前提下，本领域技术人员可以对相关技术特征做出等同的更改或替换，这些更改或替换之后的技术方案都将落入本发明的保护范围之内。以上所述仅为本发明的优选实施例，并不用于限制本发明；对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
