标题title
一种实时修改船舶监测报警系统图形界面的方法及系统
摘要abst
本发明提供了一种实时修改船舶监测报警系统图形界面的方法及系统，所述方法包括S1：设计船舶监测报警系统的数据库结构并根据该结构建立数据库，S2：开发并运行与所述数据库相配合的图形界面编辑软件；S3：将S2中保存的修改数据传输到S1的船舶监测报警系统的数据库，数据库更新数据并保存，实现对船舶监测报警系统图形界面的实时修改。本发明使用户在系统的用户界面就可以进行图元操作、图层操作、属性编辑和数据关联等图形界面修改操作，方法简单，同时保证了图形数据界面修改的安全性。
权利要求书clms
1.一种实时修改船舶监测报警系统图形界面的方法，其特征在于，包括：S1：设计船舶监测报警系统的数据库结构并根据该结构建立数据库：所述数据库为关系型数据库，包括：界面表、图元表、测点表、分系统名称表、分系统列表、控件表，所述各数据表之间通过外键或1对1关系建立联系，具体为：界面表中的Win_ID为主键，是图元表的外键；图元表中的字段S_Mode和控件表中的S_Mode为1对1关系；测点表中的Sp_ID为主键，是图元表的外键；分系统名称表中的Sub_Id为主键，是分系统列表中的外键；分系统列表中的List_Id为主键，是测点表中的外键；S2：开发并运行与所述数据库相配合的图形界面编辑软件：所述图形界面编辑软件基于QT架构，运行该软件的方法为：首先，将所述图形界面编辑软件初始化；再通过访问接口读取S1中所述数据库的图形界面数据，并在用户界面进行展示，操作人员选择是否进行修改操作，若进行则在用户界面利用鼠标进行图元操作、图层操作、属性编辑和数据关联来修改图形界面，修改后软件自动保存修改数据；所述图元操作包括新增图元、删除图元、复制图元、移动图元；所述图层操作包括复制图层、删除图层；所述属性编辑包括字体设置、颜色设置、大小设置；所述数据关联包括测点显示、测点关联；利用QtSql模块建立所述访问接口；S3：将S2中保存的修改数据再利用QtSql模块传输到S1的船舶监测报警系统的数据库，数据库更新数据并保存，船舶监测报警系统驱动模块在下一次调用数据库时，可直接调用更新后的数据库实现对船舶监测报警系统图形界面的实时修改。2.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，所述S1中界面表保存的字段包括：Win_ID、Win_Name、Win_Prop、B_Bmp、buttonID；其中，Win_ID、Win_Prop、buttonID的数据类型为int、Win_Name、B_Bmp的数据类型为nvarchar。3.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，所述S1中图元表保存的字段包括：ID_cell、Win_ID、G_ID、Layer、S_Mode、X1、Y1、X2、Y2、Obj_Color、Fill_Color、Sp_ID、Char_Color、A_Fill_Color、A_Char_Color、Char_Size；其中，S_Mode、Char_Color、A_Fill_Color、A_Char_Color的数据类型为int、其他字段的数据类型为nvarchar。4.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，所述S1中测点表保存的字段包括：Sp_ID、Mp_ID、Name、Addr、Sensor、Unit、Meas_Dn、Meas_Up、AD_Min、AD_MaxLow、High、Limit_Id、Remark、Exit_Id、List_Id；其中，Mp_ID、Name、Unit、Remark的数据类型为nvarchar，其他字段为int。5.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，所述S1中分系统名称表保存的字段包括：Sub_Id、Sub_Name；其中，Sub_Id的数据类型为int，Sub_Name的数据类型为nvarchar。6.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，所述S1中分系统列表在关联测点显示时使用，其保存的字段包括：List_Id、List_Name、Sub_Id；其中，List_Id、Sub_Id的数据类型为int，List_Name的数据类型为nvarchar。7.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，所述S1中控件表保存了各控件的相关信息，所述信息包括图片和大小，所述控件表保存的字段包括：ID_bk、Type、S_Mode、Bmp、Part、Width、Height；其中，Type、S_Mode、Bmp的数据类型为nvarchar，其他字段的数据类型为int。8.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，S2中通过访问接口读取S1中所述数据库的图形界面数据的方法为，在所述图形界面编辑软件建立QtSql模块，所述QtSql模块可提供一个访问S1中数据库的接口，通过该接口可实现对数据库的访问及通信。9.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，S2中通过人机交互实现新增图元、删除图元、复制图元、移动图元的方法为：S1：新增图元：用户在用户界面选择一图层，在当前图层中，绘制一个图元；系统会在当前图层的记录集会保存该图元信息；所述图元信息包括该图元的坐标，长宽以及显示方式；其中图元信息中默认信息的缺省值为零；S2：删除图元：用户在用户界面的图层中选择一个图元或多个图元，选择菜单中的“删除”删除图元；系统会在当前图层的记录集会同时删除该图元的全部属性信息；S3：移动图元：用户在用户界面对单个或多个图元通过鼠标拖动进行移动，或通过输入向上/下、左/右移动的数据精确位移；系统会在当前图层的记录集会删除原有图元位置坐标变量并保存该图元移动后位置的坐标变量；S4：复制图元：用户在用户界面的图层中选择被复制的图元，点击界面上的“复制”按钮，复制出的图元显示在被复制图元的附近；系统会记录复制出的图元的坐标值为当前位置的实际值，测点关联信息被赋默认值0，其他属性值和被复制图元的相同，复制出的图元信息保存到当前图层的记录集。10.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，S2中通过人机交互实现复制图层、删除图层的方法为，S1：复制图层：用户在用户界面选择一个界面名称，点击菜单中的“复制图层”，该界面的图层数会增加一个；系统会记录复制出的图层的数据信息，包括该图层中的图元信息，所述图元信息中测点关联信息被赋默认值0，图层号为同类界面图层的最大值加1，其余属性值和被复制的图层中的图元值相同，复制出的图元信息保存到该复制图层的记录集；S2：删除图层：用户在用户界面的选择一个界面名称和图层号，点击菜单中的“删除图层”，该界面对应图层被删除；系统会删除该图层中所有图元的全部属性信息。11.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，S2中通过人机交互实现字体设置、颜色设置、大小设置的方法为，S1：颜色设置：用户在用户界面根据鼠标所选图元，单个或批量更改图元的边框颜色、背景颜色、报警底色，系统会将所选的颜色赋值给被更改图元的颜色属性变量并保存数据，刷新用户界面后可显示修改颜色；S2：字体设置：用户在用户界面利用鼠标选中图元，单个或批量更改文本显示图元的字体或字号；系统会将该值赋给图元的字号或字体属性变量并保存数据；S3：大小设置：用户在用户界面通过修改图元的长、宽值改变图元的大小，系统会将该值赋给图元的大小属性变量并保存数据。12.由权利要求1所述的一种实时修改船舶监测报警系统图形界面的方法，其特征在于，S2中通过人机交互实现测点显示、测点关联的方法为，S1：测点显示：系统将读取从数据库接收到的测点分系统表以及测点信息表，用户可以在用户界面读取属于第一个子系统的第一个列表的测点；S2：测点关联：用户在用户界面点击“测点列表”按钮，会显示出监测报警系统的测点，然后双击要关联的测点，系统会将测点序号赋值给图元的sp_id值并保存数据。13.一种实时修改船舶监测报警系统图形界面的系统，其特征在于，包括：与数据库建立通信连接的QtSql模块、图元操作模块、图层操作模块、属性编辑模块和数据关联模块、和展示QtSql模块接收到的图形界面数据、以及用户进行图元操作、图层操作、属性编辑和数据关联的用户界面，所述图元操作模块包括新增图元、删除图元、复制图元、移动图元；所述图层操作模块包括复制图层、删除图层；所述属性编辑包括字体设置、颜色设置、大小设置；所述数据关联模块包括测点显示、测点关联，该系统可实现权利要求1-12中图形界面编辑软件的所有功能。
说明书desc
技术领域本发明为智能化船舶监测报警领域，具体涉及一种实时修改船舶监测报警系统图形界面的方法及系统。背景技术早期船舶监测报警系统软件中的图形界面数量少、要求较低，图形界面中用到的数据直接集成在软件代码中，通过简单的控件实现显示功能；在软件使用过程中，需要修改界面内容时，就需要修改代码。后来，随着图形界面数量增加、要求提高，为了美化界面效果，设计时开始使用底图和图元，底图和图元等数据存储在数据库中专门的表格，数据由界面设计人员导入，系统软件运行时读取其中的数据。在软件使用过程中，简单的修改，如底图的更换、图元位置的变动等，可以通过远程指导现场调试人员直接修改数据库中的数据来完成。但当需要增加、删除一个界面等时，涉及到大量数据，此时再由人工直接修改数据库，很容易出错，效率低。此外，读写数据库需要专门的工具软件，系统软件实际运行环境中一般不安装此类工具软件，现场人员通常在调试电脑中修改完成后，再将修改后的数据库文件拷贝到运行环境中，无论在运行环境中修改或修改后替换数据库文件，都需要将系统软件关闭，这对系统调试试验的连续性也会造成一定的影响。而且，这样操作还存在极大的安全隐患，一方面拷贝可能将电脑病毒带到装备中，另一方面系统数据库还存储了大量的监测报警相关数据和历史记录，非专业人员对数据库的操作极易造成数据库的损坏，导致整个监测报警系统软件无法正常运行。综上所述，现有技术对图形界面修改会影响船舶监测报警系统的运行：在修改数据库要将系统软件关闭；同时，调试方法复杂且不直观：需要编程环境和专用的工具软件且需要；以及对调试人员专业性要求高：调试人员需要了解数据库结构；进而现有技术面临着对船舶监测报警系统软件系统调试工作效率低、数据安全隐患高等问题。发明内容为了解决在现有技术中，对船舶监测报警系统软件系统的图形界面中图元、图层的修改需关闭系统、要求专业人员、工作效率低、数据安全隐患高；以及对图形界面中没有保存在数据库，直接嵌入程序内的属性信息修改更加困难的问题，本发明提出了一种实时修改船舶监测报警系统图形界面的方法及系统，使现场人员只需运行图形界面编辑工具软件，通过鼠标在用户界面中的图元进行增加、删除、移动等操作就能实现对图形界面的实时修改，无需进行代码编译，无需中断监测报警系统软件的运行。本发明的具体方案如下：一种实时修改船舶监测报警系统图形界面的方法，包括：S1：设计船舶监测报警系统的数据库结构并根据该结构建立数据库：所述数据库为关系型数据库，包括：界面表、图元表、测点表、分系统名称表、分系统列表、控件表，所述各数据表之间通过外键或1对1关系建立联系，具体为：界面表中的Win_ID为主键，是图元表的外键；图元表中的字段S_Mode和控件表中的S_Mode为1对1关系；测点表中的Sp_ID为主键，是图元表的外键；分系统名称表中的Sub_Id为主键，是分系统列表中的外键；分系统列表中的List_Id为主键，是测点表中的外键；S2：开发并运行与所述数据库相配合的图形界面编辑软件：所述图形界面编辑软件基于QT架构，运行该软件的方法为：首先，将所述图形界面编辑软件初始化；再通过访问接口读取S1中所述数据库的图形界面数据，并在用户界面进行展示，操作人员选择是否进行修改操作，若进行则在用户界面利用鼠标进行图元操作、图层操作、属性编辑和数据关联来修改图形界面，修改后软件自动保存修改数据；所述图元操作包括新增图元、删除图元、复制图元、移动图元；所述图层操作包括复制图层、删除图层；所述属性编辑包括字体设置、颜色设置、大小设置；所述数据关联包括测点显示、测点关联；利用QtSql模块建立所述访问接口；S3：将S2中保存的修改数据再利用QtSql模块传输到S1的船舶监测报警系统的数据库，数据库更新数据并保存，船舶监测报警系统驱动模块在下一次调用数据库时，可直接调用更新后的数据库实现对船舶监测报警系统图形界面的实时修改。优选地，所述S1中界面表保存的字段包括：Win_ID、Win_Name、Win_Prop、B_Bmp、buttonID；其中，Win_ID、Win_Prop、buttonID的数据类型为int、Win_Name、B_Bmp的数据类型为nvarchar。优选地，所述S1中图元表保存的字段包括：ID_cell、Win_ID、G_ID、Layer、S_Mode、X1、Y1、X2、Y2、Obj_Color、Fill_Color、Sp_ID、Char_Color、A_Fill_Color、A_Char_Color、Char_Size；其中，S_Mode、Char_Color、A_Fill_Color、A_Char_Color的数据类型为int、其他字段的数据类型为nvarchar。优选地，所述S1中测点表保存的字段包括：Sp_ID、Mp_ID、Name、Addr、Sensor、Unit、Meas_Dn、Meas_Up、AD_Min、AD_MaxLow、High、Limit_Id、Remark、Exit_Id、List_Id；其中，Mp_ID、Name、Unit、Remark的数据类型为nvarchar，其他字段为int。优选地，所述S1中分系统名称表保存的字段包括：Sub_Id、Sub_Name；其中，Sub_Id的数据类型为int，Sub_Name的数据类型为nvarchar。优选地，所述S1中分系统列表在关联测点显示时使用，其保存的字段包括：List_Id、List_Name、Sub_Id；其中，List_Id、Sub_Id的数据类型为int，List_Name的数据类型为nvarchar。优选地，所述S1中控件表保存了各控件的相关信息，所述信息包括图片和大小，所述控件表保存的字段包括：ID_bk、Type、S_Mode、Bmp、Part、Width、Height；其中，Type、S_Mode、Bmp的数据类型为nvarchar，其他字段的数据类型为int。优选地，S2中通过访问接口读取S1中所述数据库的图形界面数据的方法为，在所述图形界面编辑软件建立QtSql模块，所述QtSql模块可提供一个访问S1中数据库的接口，通过该接口可实现对数据库的访问及通信。优选地，S2中通过人机交互实现新增图元、删除图元、复制图元、移动图元的方法为：S1：新增图元：用户在用户界面选择一图层，在当前图层中，绘制一个图元；系统会在当前图层的记录集会保存该图元信息；所述图元信息包括该图元的坐标，长宽以及显示方式；其中图元信息中默认信息的缺省值为零；S2：删除图元：用户在用户界面的图层中选择一个图元或多个图元，选择菜单中的“删除”删除图元；系统会在当前图层的记录集会同时删除该图元的全部属性信息；S3：移动图元：用户在用户界面对单个或多个图元通过鼠标拖动进行移动，或通过输入向上/下、左/右移动的数据精确位移；系统会在当前图层的记录集会删除原有图元位置坐标变量并保存该图元移动后位置的坐标变量；S4：复制图元：用户在用户界面的图层中选择被复制的图元，点击界面上的“复制”按钮，复制出的图元显示在被复制图元的附近；系统会记录复制出的图元的坐标值为当前位置的实际值，测点关联信息被赋默认值0，其他属性值和被复制图元的相同，复制出的图元信息保存到当前图层的记录集。优选地，S2中通过人机交互实现复制图层、删除图层的方法为，S1：复制图层：用户在用户界面选择一个界面名称，点击菜单中的“复制图层”，该界面的图层数会增加一个；系统会记录复制出的图层的数据信息，包括该图层中的图元信息，所述图元信息中测点关联信息被赋默认值0，图层号为同类界面图层的最大值加1，其余属性值和被复制的图层中的图元值相同，复制出的图元信息保存到该复制图层的记录集；S2：删除图层：用户在用户界面的选择一个界面名称和图层号，点击菜单中的“删除图层”，该界面对应图层被删除；系统会删除该图层中所有图元的全部属性信息。优选地，S2中通过人机交互实现字体设置、颜色设置、大小设置的方法为，S1：颜色设置：用户在用户界面根据鼠标所选图元，单个或批量更改图元的边框颜色、背景颜色、报警底色，系统会将所选的颜色赋值给被更改图元的颜色属性变量并保存数据，刷新用户界面后可显示修改颜色；S2：字体设置：用户在用户界面利用鼠标选中图元，单个或批量更改文本显示图元的字体或字号；系统会将该值赋给图元的字号或字体属性变量并保存数据；S3：大小设置：用户在用户界面通过修改图元的长、宽值改变图元的大小，系统会将该值赋给图元的大小属性变量并保存数据。优选地，S2中通过人机交互实现测点显示、测点关联的方法为，S1：测点显示：系统将读取从数据库接收到的测点分系统表以及测点信息表，用户可以在用户界面读取属于第一个子系统的第一个列表的测点；S2：测点关联：用户在用户界面点击“测点列表”按钮，会显示出监测报警系统的测点，然后双击要关联的测点，系统会将测点序号赋值给图元的sp_id值并保存数据。一种实时修改船舶监测报警系统图形界面的系统，包括：与数据库建立通信连接的QtSql模块、图元操作模块、图层操作模块、属性编辑模块和数据关联模块、和展示QtSql模块接收到的图形界面数据、以及用户进行图元操作、图层操作、属性编辑和数据关联的用户界面，所述图元操作模块包括新增图元、删除图元、复制图元、移动图元；所述图层操作模块包括复制图层、删除图层；所述属性编辑包括字体设置、颜色设置、大小设置；所述数据关联模块包括测点显示、测点关联。本发明的有益效果如下：本发明提供了一种实时修改船舶监测报警系统图形界面的方法及系统，解决了图形界面修改需要现场人员具有编程能力，现场需要编程环境、数据库读取专用工具，修改过程需要中断监测报警系统运行等问题。通过设计船舶监测报警系统的数据库结构并根据该结构建立数据库，将之前嵌入在程序中的图形界面的属性信息也保存在数据库，例如报警颜色等属性信息，进而通过修改数据库实现对原来不能修改的程序内属性信息的修改：以及采用QT开发并运行图形界面编辑软件，使操作人员选择是否进行修改操作，若进行则在用户界面利用鼠标就可进行图元操作、图层操作、属性编辑和数据关联来修改图形界面，通过简单的人机交互变实现了以前复杂的操作，再利用软件的QtSql模块传输到船舶监测报警系统的数据库，数据库更新数据并保存，船舶监测报警系统驱动模块在下一次调用数据库时，可直接调用更新后的数据库实现对船舶监测报警系统图形界面的实时修改，操作方法简单、直接。在QT框架下的图形界面编辑软件可适用于不同船型相同功能要求的监测报警系统及数据库，图形编辑软件和船舶监测报警系统一起安装在实际运行环境中，当需要修改图形界面时，系统调试人员或用户运行图形编辑软件，通过简单地鼠标操作、键盘输入即可完成，修改后的数据更新保存在数据库中，系统软件读取相关实时数据；数据库对用户为不可见状态，保证了数据的安全性；系统软件的运行不受影响，也能满足软件持续运行的需求。附图说明图1是一种实时修改船舶监测报警系统图形界面的方法。图2是一种图形编辑软件功能结构图。图3是一种船舶监测报警系统的数据库中各表关系结构图。图4是一种实时修改船舶监测报警系统图形界面的系统结构图。图5是一种图形编辑软件进行操作的用户界面。具体实施方式下面结合附图对本发明进行说明。如图1所示，一种实时修改船舶监测报警系统图形界面的方法，包括：S1：设计船舶监测报警系统的数据库结构并根据该结构建立数据库：所述数据库为关系型数据库，包括：界面表、图元表、测点表、分系统名称表、分系统列表、控件表，所述各数据表之间通过外键或1对1关系建立联系，具体为：界面表中的Win_ID为主键，是图元表的外键；图元表中的字段S_Mode和控件表中的S_Mode为1对1关系；测点表中的Sp_ID为主键，是图元表的外键；分系统名称表中的Sub_Id为主键，是分系统列表中的外键；分系统列表中的List_Id为主键，是测点表中的外键；S2：运行图形界面编辑软件：首先将所述图形界面编辑软件初始化，再是通过访问接口读取S1中所述数据库的图形界面数据，并在用户界面进行展示，操作人员选择是否进行修改操作，若进行则在用户界面利用鼠标进行图元操作、图层操作、属性编辑和数据关联来修改图形界面，修改后软件自动保存修改数据；所述图元操作包括新增图元、删除图元、复制图元、移动图元；所述图层操作包括复制图层、删除图层；所述属性编辑包括字体设置、颜色设置、大小设置；所述数据关联包括测点显示、测点关联；利用QtSql模块建立所述访问接口；如图2所示，显示了该软件所具有的功能。S3：将S2中保存的修改数据再利用QtSql模块传输到S1的船舶监测报警系统的数据库，数据库更新数据并保存，船舶监测报警系统驱动模块在下一次调用数据库时，可直接调用更新后的数据库实现对船舶监测报警系统图形界面的实时修改。数据库结构设计是实施本方法的一个关键，本发明中图形编辑软件的数据库结构主要包含表1)界面表，2)图元表，3)测点表，4)分系统名称表，5)分系统列表，6)控件表，各表间关系见图3。表1)中的Win_Id为主键，是表2)的外键；表2)中的字段S_Mode和表6)中的S_Mode为1对1关系；表3)中的Sp_ID为主键，是表2)的外键；表4)中的Sub_Id为主键，是表5)中的外键；表5)中的List_Id为主键，是表3)中的外键。表1为界面表，该表保存了界面名称，界面序号为主键。表1字段名称数据类型说明Win_IDint界面序号Win_Namenvarchar界面名称Win_Propint界面属性B_Bmpnvarchar背景文件名buttonIDint功能按钮序号表2为图元表，该表保存了每个图元的详细信息，包括坐标，高度，宽度，颜色等，图元序号为主键。表2字段名称数据类型说明ID_cellint图元序号Win_IDint所属界面G_IDint图元流水号Layerint层号S_Modenvarchar图别/显示方式X1int图元横坐标Y1int图元纵坐标X2int图元宽度Y2int图元高度Obj_Colorint边框色Fill_Colorint填充色Sp_IDint测点Char_Colornvarchar字体色A_Fill_Colornvarchar报警填充色A_Char_Colornvarchar报警字体色Char_Sizeint字体大小表3为测点表，该表保存了每个测点对应的名称及内存地址，测点序号为主键。表3表4为分系统名称表，该表保存了分系统的名称，序号为主键。表4字段名称数据类型说明Sub_Idint分系统序号Sub_Namenvarchar分系统名称表5为分系统列表，该表保存了分系统的列表名，在关联测点显示时使用，序号为主键。表5字段名称数据类型说明List_Idint列表序号List_Namenvarchar列表名称Sub_Idint分系统序号表6为控件表，该表保存了各控件的相关信息，包括图片和大小，主键是控件ID号。表6字段名称数据类型说明ID_bkint控件IDTypenvarchar控件类型S_Modenvarchar图别/显示方式Bmpnvarchar图片名称Partint部分Widthint宽度Heightint高度优选地，S2中新增图元、删除图元、复制图元、移动图元的方法为：S1：新增图元：在用户界面选择一图层，在当前图层中，绘制一个图元，在当前图层记录集保存该图元信息；所述图元信息包括该图元的坐标，长宽以及显示方式，其中默认信息的缺省值为零；S2：删除图元：从图层中删除一个图元或多个图元，同时删除该图元在数据库中保存的全部属性信息；S3：移动图元：对单个或多个图元通过鼠标拖动进行移动，或通过输入向上/下、左/右移动的数据精确位移，从而实现图元定位，保存该图元移动位置的坐标变量；S4：复制图元：在图层中选择被复制的图元，点击界面上的“复制”按钮，复制出的图元显示在被复制图元的附近，复制出的图元的坐标值为当前实际值，测点关联信息被赋默认值0，其他属性值和被复制图元的相同，复制出的图元信息保存到数据库中。。优选地，所述复制图层、删除图层的方法为，S1：复制图层：选择一个界面名称，点击菜单中的“复制图层”，该界面的图层数会增加一个，复制出的图层中的图元除测点关联信息被赋默认值0，其余属性值和和该界面下其他图层中的图元的值相同，复制出的图元信息保存到数据库中；S2：删除图层：选择一个界面名称和图层号，点击点击菜单中的“删除图层”，该界面对应图层被删除，数据库中删除在该图层中所有图元的全部属性信息。所述字体设置、颜色设置、大小设置的方法为，S1：颜色设置：根据鼠标所选图元，单个或批量更改图元的边框颜色、背景颜色、报警底色，然后将所选的颜色赋值给图元的颜色属性变量并保存数据，刷新用户界面后可显示修改颜色；S2：字体设置：鼠标选中图元，单个或批量更改文本显示图元的字体或字号；将该值赋给图元的字号或字体属性变量并保存数据；S3：大小设置：通过修改图元的长、宽值改变图元的大小，将该值赋给图元的大小属性变量并保存数据。所述测点显示、测点关联的方法为，S1：测点显示：读取数据库中的测点分系统表以及测点信息表，用户界面默认显示出属于第一个子系统的第一个列表的测点；S2：测点关联：用户在用户界面点击“测点列表”按钮，会显示出监测报警系统的测点，然后双击要关联的测点，系统会将测点序号赋值给图元的sp_id值并保存数据。图形编辑软件访问船舶监测报警系统数据库的实现方法如下：1)在项目文件中添加一行代码”QT+＝sql”，这样就能使用Qt提供的数据库模块QtSql，QtSql模块是Qt提供的一个访问数据库的接口。2)在类文件.cpp中添加“#include＜QSqlDatabase＞”，在Qt中，QSqlDatabase类用来连接数据库。一个QSqlDatabase的实例代表了一个数据库连接。数据库连接通过数据库驱动提供对数据库的访问，数据库驱动继承自QSqlDriver。不同类型的数据库，数据库驱动不同，目前用到的数据库类型和与之对应的驱动类型见下表。表7：驱动类型和数据库类型对照表驱动类型数据库类型QODBCAccess、SQLServerQMYSQLMSQLQSQLITESqlite3及以上版本QSQLITE2Sqlite2数据库连接方法：i)自定义一个数据库连接信息结构体ii)构建一个数据库连接函数,用于不同类型数据库调用。3)创建实体类，用于作为数据库操作完的数据载体。实体类对应数据表的数据结构，图元实体类WIN_CELL如下：4)在类文件.cpp中添加“#include＜QSqlQuery＞”，使用QSqlQuery这个类来执行SQL语句和浏览查询结果。如图4所示，一种实时修改船舶监测报警系统图形界面的系统，包括：与数据库建立通信连接的QtSql模块、图元操作模块、图层操作模块、属性编辑模块和数据关联模块、和展示QtSql模块接收到的图形界面数据、以及用户进行图元操作、图层操作、属性编辑和数据关联的用户界面，所述图元操作模块包括新增图元、删除图元、复制图元、移动图元；所述图层操作模块包括复制图层、删除图层；所述属性编辑包括字体设置、颜色设置、大小设置；所述数据关联模块包括测点显示、测点关联。应当指出，以上所述具体实施方式可以使本领域的技术人员更全面地理解本发明创造，但不以任何方式限制本发明创造。因此，尽管本说明书参照附图和实施例对本发明创造已进行了详细的说明，但是，本领域技术人员应当理解，仍然可以对本发明创造进行修改或者等同替换，总之，一切不脱离本发明创造的精神和范围的技术方案及其改进，其均应涵盖在本发明创造专利的保护范围当中。
