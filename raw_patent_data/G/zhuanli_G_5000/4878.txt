标题title
虚拟现实环境下手部姿态的显示方法、装置、设备及介质
摘要abst
本发明实施例提供了一种虚拟现实环境下手部姿态的显示方法、装置、设备及介质，涉及虚拟现实技术领域，其中，该方法包括：获取手柄姿态数据；根据所述手柄姿态数据，计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，其中，在所述全局坐标系中，所述手部模型的显示位置在所述角色模型的角色躯干模型范围的外部；基于所述手部模型在全局坐标系中的显示位置，在所述虚拟空间中渲染显示所述手部模型的姿态。该方案使得手部模型与角色躯干模型接触或碰撞时避免出现穿模的现象，进而有利于正确表达手部动作和手部姿态。
权利要求书clms
1.一种虚拟现实环境下手部姿态的显示方法，其特征在于，包括：获取手柄姿态数据；根据所述手柄姿态数据，计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，在所述全局坐标系中，所述手部模型的显示位置在所述角色模型的角色躯干模型范围的外部；基于所述手部模型在所述全局坐标系中的显示位置，在所述虚拟空间中渲染显示所述手部模型的姿态。2.如权利要求1所述的虚拟现实环境下手部姿态的显示方法，其特征在于，根据所述手柄姿态数据，计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，包括：根据所述手柄姿态数据中的位置信息，映射出每只所述手部模型在所述全局坐标系中的位置坐标；在所述角色模型的自身坐标系中，根据所述角色躯干模型在所述自身坐标系中的坐标范围和每只所述手部模型在所述自身坐标系中的位置坐标，确定每只所述手部模型相对于所述角色躯干模型的相对位置；根据所述相对位置和每只所述手部模型在所述全局坐标系中的位置坐标，在所述角色躯干模型在所述全局坐标系中的坐标范围之外，确定每只所述手部模型在所述全局坐标系中的显示位置。3.如权利要求2所述的虚拟现实环境下手部姿态的显示方法，其特征在于，根据所述角色躯干模型在所述自身坐标系中的坐标范围和每只所述手部模型在所述自身坐标系中的位置坐标，确定每只所述手部模型相对于所述角色躯干模型的相对位置，包括：在所述自身坐标系中，将每只所述手部模型在X轴上的向量值和所述角色躯干模型中与每只所述手部模型同侧的半边的角色躯干模型在X轴上的向量值进行向量差值，得到在X轴上每只所述手部模型相对所述角色躯干模型的第一偏移量，其中，所述角色躯干模型的几何中心点为所述自身坐标系的坐标原点，X轴表示所述角色躯干模型的左右方向，所述第一偏移量表示每只所述手部模型相对所述角色躯干模型在左右方向上的相对位置；在所述自身坐标系中，将每只所述手部模型在Z轴上的向量值和所述角色躯干模型中前半边的角色躯干模型在Z轴上的向量值进行向量差值，得到在Z轴上每只所述手部模型相对所述角色躯干模型的第二偏移量，其中，Z轴表示所述角色躯干模型的前后方向，所述第二偏移量表示每只所述手部模型相对所述角色躯干模型在前后方向上的相对位置。4.如权利要求3所述的虚拟现实环境下手部姿态的显示方法，其特征在于，根据所述相对位置和每只所述手部模型在所述全局坐标系中的位置坐标，在所述角色躯干模型在所述全局坐标系中的坐标范围之外，确定每只所述手部模型在所述全局坐标系中的显示位置，包括：将所述角色躯干模型在所述全局坐标系中的旋转信息与三维向量做求积运算，得到所述角色躯干模型在所述全局坐标系中的第一向量值，所述第一向量值表示所述角色躯干模型在所述全局坐标系中的左右方向信息；将所述第一向量值与每只所述手部模型相对所述角色躯干模型的所述第一偏移量做乘积运算，并将乘积结果与每只所述手部模型在所述全局坐标系中的位置坐标做求和运算，得到每只所述手部模型在所述全局坐标系中的第一位置信息；将所述角色躯干模型在所述全局坐标系中的旋转信息与三维向量做求积运算，得到所述角色躯干模型在所述全局坐标系中的第二向量值，所述第二向量值表示所述角色躯干模型在所述全局坐标系中的前后方向信息；将所述第二向量值与每只所述手部模型相对所述角色躯干模型的所述第二偏移量的绝对值做乘积运算，并将乘积结果与每只所述手部模型在所述全局坐标系中的第一位置信息做求和运算，得到每只所述手部模型在所述全局坐标系中的显示位置。5.如权利要求1至4中任一项所述的虚拟现实环境下手部姿态的显示方法，其特征在于，还包括：获取VR设备姿态数据；根据所述VR设备姿态数据在虚拟空间中渲染显示所述角色躯干模型的姿态。6.如权利要求5所述的虚拟现实环境下手部姿态的显示方法，其特征在于，还包括：通过VR设备的API获取所述手柄姿态数据和所述VR设备姿态数据。7.如权利要求1至4中任一项所述的虚拟现实环境下手部姿态的显示方法，其特征在于，还包括：所述手柄姿态数据包括旋转信息和位置信息。8.一种虚拟现实环境下手部姿态的显示装置，其特征在于，包括：操作状态监听模块，用于获取手柄姿态数据；姿态矫正计算模块，用于根据所述手柄姿态数据，计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，其中，在所述全局坐标系中，所述手部模型的显示位置在所述角色模型的角色躯干模型范围的外部；姿态反馈模块，用于基于所述手部模型在所述全局坐标系中的显示位置，在所述虚拟空间中渲染显示所述手部模型的姿态。9.一种计算机设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至7中任一项所述的虚拟现实环境下手部姿态的显示方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有执行权利要求1至7中任一项所述的虚拟现实环境下手部姿态的显示方法的计算机程序。
说明书desc
技术领域本发明涉及虚拟现实技术领域，特别涉及一种虚拟现实环境下手部姿态的显示方法、装置、设备及介质。背景技术目前，已知的基于虚拟现实环境下双手姿态显示方法一般采用以下几种：1、在虚拟现实环境中，只展示虚拟角色躯干，不展示双手，无手部姿态。2、在虚拟现实环境中，展示虚拟角色躯干，使用VR设备提供的3D手柄模型表示双手。3、在虚拟现实环境中，展示虚拟角色躯干，使用3D手模来展示双手，通过特定动画来描述双手姿态。4、在虚拟现实环境中，展示虚拟角色躯干，使用 3D手摸来展示双手，基于VR设备提供的API驱动手部模型达到展示效果。但是，基于以上第1、2、3的方法存在的缺陷是，在虚拟现实环境中，表达手部姿态以及手部动作存在局限性，无法准确表达用户的手部姿态和动作。基于以上第 4的方法存在的缺陷是，在虚拟现实环境中，表达手部姿态和动作时，因模型与模型间碰撞导致相互穿透模型叠加在一起，发生穿模现象，从而无法正确表达手部动作和手部姿态。发明内容有鉴于此，本发明实施例提供了一种虚拟现实环境下手部姿态的显示方法，以解决现有技术中因穿模现象而无法正确表达手部动作和手部姿态的技术问题。该方法包括：获取手柄姿态数据；根据所述手柄姿态数据，计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，其中，在所述全局坐标系中，所述手部模型的显示位置在所述角色模型的角色躯干模型范围的外部；基于所述手部模型在全局坐标系中的显示位置，在所述虚拟空间中渲染显示所述手部模型的姿态。本发明实施例还提供了一种虚拟现实环境下手部姿态的显示装置，以解决现有技术中因穿模现象而无法正确表达手部动作和手部姿态的技术问题。该装置包括：操作状态监听模块，用于获取手柄姿态数据；姿态矫正计算模块，用于根据所述手柄姿态数据，计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，其中，在所述全局坐标系中，所述手部模型的显示位置在所述角色模型的角色躯干模型范围的外部；姿态反馈模块，用于基于所述手部模型在全局坐标系中的显示位置，在所述虚拟空间中渲染显示所述手部模型的姿态。本发明实施例还提供了一种计算机设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述任意的虚拟现实环境下手部姿态的显示方法，以解决现有技术中因穿模现象而无法正确表达手部动作和手部姿态的技术问题。本发明实施例还提供了一种计算机可读存储介质，所述计算机可读存储介质存储有执行上述任意的虚拟现实环境下手部姿态的显示方法的计算机程序，以解决现有技术中因穿模现象而无法正确表达手部动作和手部姿态的技术问题。与现有技术相比，本说明书实施例采用的上述至少一个技术方案能够达到的有益效果至少包括：提出了根据手柄姿态数据计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，在全局坐标系中，计算得到的该显示位置在角色模型的角色躯干模型范围的外部，进而基于显示位置在虚拟空间中渲染显示手部模型的姿态。由于计算得到的手部模型在全局坐标系中的显示位置在角色模型的角色躯干模型范围的外部，使得手部模型与角色躯干模型接触或碰撞时避免出现穿模的现象，进而有利于正确表达手部动作和手部姿态。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它的附图。图1是本发明实施例提供的一种虚拟现实环境下手部姿态的显示方法的流程图；图2是本发明实施例提供的一种用户操作过程的流程图；图3是本发明实施例提供的一种数据传输过程的流程图；图4是本发明实施例提供的一种数据监听过程的流程图；图5是本发明实施例提供的一种姿态矫正计算过程的流程图；图6是本发明实施例提供的一种姿态反馈过程的流程图；图7是本发明实施例提供的一种计算机设备的结构框图；图8是本发明实施例提供的一种虚拟现实环境下手部姿态的显示装置的结构框图。具体实施方式下面结合附图对本申请实施例进行详细描述。以下通过特定的具体实例说明本申请的实施方式，本领域技术人员可由本说明书所揭露的内容轻易地了解本申请的其他优点与功效。显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。本申请还可以通过另外不同的具体实施方式加以实施或应用，本说明书中的各项细节也可以基于不同观点与应用，在没有背离本申请的精神下进行各种修饰或改变。需说明的是，在不冲突的情况下，以下实施例及实施例中的特征可以相互组合。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。在本发明实施例中，提供了一种虚拟现实环境下手部姿态的显示方法，如图1所示，该方法包括：步骤S101：获取手柄姿态数据；步骤S102：根据所述手柄姿态数据，计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，其中，在所述全局坐标系中，所述手部模型的显示位置在所述角色模型的角色躯干模型范围的外部；步骤S103：基于所述手部模型在全局坐标系中的显示位置，在所述虚拟空间中渲染显示所述手部模型的姿态。由图1所示的流程可知，在本发明实施例中，提出了根据手柄姿态数据计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，在全局坐标系中，计算得到的该显示位置在角色模型的角色躯干模型范围的外部，进而基于显示位置在虚拟空间中渲染显示手部模型的姿态。由于计算得到的手部模型在虚拟空间中的显示位置在角色模型的角色躯干模型范围的外部，使得手部模型与角色躯干模型接触或碰撞时避免出现穿模的现象，进而有利于正确表达手部动作和手部姿态。具体实施时，虚拟空间的全局坐标系即在虚拟空间中构建的三维坐标系，虚拟空间的原点为全局坐标系的坐标原点。角色模型的自身坐标系即在角色模型中构建的三维坐标系，角色模型的几何中心点为身坐标系的坐标原点，因此，在虚拟空间中包含全局坐标系与自身坐标系两个三维坐标系。具体实施时，在开始使用VR设备时，如图2所示，通过以下步骤实现资源加载、用户数据采集等过程：在模型展示过程中，通过资源加载的方式将角色模型加载到虚拟场景中，并进行角色模型数据缓存，以提供用户可观看、可操作的角色模型。在用户操作过程中，通过以下两个步骤将现实环境中的VR设备与虚拟环境中的Avatar进行绑定：1、使用VR设备提供的API将VR设备姿态信息与Avatar的躯干模型姿态信息绑定。2、使用VR设备提供的API将设备的手柄姿态信息与Avatar的双手模型姿态信息绑定。在源数据采集过程中，通过以下两个步骤获取源数据最终形成原始数据：步骤1、通过VR设备提供的API获取VR设备姿态源数据。步骤2、通过VR设备提供的API获取VR设备的手柄姿态源数据。具体实施时，为了实现VR设备姿态数据和手柄姿态数据的采集过程、手部模型姿态的矫正过程等不同过程的数据共享，可以通过数据传输的方式在不同的数据处理过程间实现数据共享。具体实施时，在开始使用VR设备时，如图3所示，通过以下步骤实现角色模型的初始赋值：在原始数据处理过程中，对数据采集过程采集到的原始数据进行预处理，预处理步骤如下：步骤1、缓存虚拟场景中Avatar模型数据。步骤2、通过VR设备提供的API取到的VR设备姿态数据，将VR设备姿态数据设为VR设备姿态初始值。步骤3、通过VR设备提供的API取到的手柄姿态数据，将手柄姿态数据设为手柄姿态初始值。将以上步骤2、3设定的初始值分别绑定到虚拟场景中的Avatar的角色躯干模型以及Avatar双手模型，绑定步骤如下：步骤1、取得缓存中的Avatar模型数据，将VR设备姿态初始值赋值给Avatar的角色躯干模型，以此表示虚拟场景中Avatar的角色躯干模型的高度和旋转。步骤2、取得缓存中的Avatar模型中的双手模型数据，将手柄姿态初始值赋值给Avatar的双手模型，以此表示虚拟场景中Avatar双手的位置、旋转。具体实施时，在使用VR设备过程中，如图4所示，通过操作状态监听的方式监听用户的VR设备姿态数据和手柄姿态数据，主要包括用户的设备姿态数据，以及用户的手柄姿态数据。为保证实时、正确捕捉VR设备姿态数据和手柄姿态数据，在使用VR设备过程中，进行每帧监听，当监听到设备姿态和手柄姿态有变化时实时获取动态的VR设备姿态数据和手柄姿态数据，并将监听到的VR设备姿态数据和手柄姿态数据传输给姿态矫正过程，以便计算手部模型在虚拟空间中的显示位置。具体实施时，为了实现准确计算手部模型在虚拟空间中的显示位置，并避免穿模现象，在本实施例中，通过以下步骤计算手部模型在虚拟空间的全局坐标系中的显示位置，例如，根据所述手柄姿态数据中的位置信息，映射出每只所述手部模型在所述全局坐标系中的位置坐标；在所述角色模型的自身坐标系中，根据所述角色躯干模型在所述自身坐标系中的坐标范围和每只所述手部模型在所述自身坐标系中的位置坐标，确定每只所述手部模型相对于所述角色躯干模型的相对位置；根据所述相对位置和每只所述手部模型在所述全局坐标系中的位置坐标，在所述角色躯干模型在所述全局坐标系中的坐标范围之外，确定每只所述手部模型在所述全局坐标系中的显示位置。具体实施时，为了实现准确、快速确定出每只所述手部模型相对于所述角色躯干模型的相对位置，在本实施例中，通过以下方式确定出每只所述手部模型相对于所述角色躯干模型的相对位置，例如，在所述自身坐标系中，将每只所述手部模型在X轴上的向量值和所述角色躯干模型中与每只所述手部模型同侧的半边的角色躯干模型在X轴上的向量值进行向量差值，得到在X轴上每只所述手部模型相对所述角色躯干模型的第一偏移量，其中，所述角色躯干模型的几何中心点为所述自身坐标系的坐标原点，X轴表示所述角色躯干模型的左右方向，所述第一偏移量表示每只所述手部模型相对所述角色躯干模型在左右方向上的相对位置，，在所述自身坐标系中，将每只所述手部模型在Z轴上的向量值和所述角色躯干模型中前半边的角色躯干模型在Z轴上的向量值进行向量差值，得到在Z轴上每只所述手部模型相对所述角色躯干模型的第二偏移量，其中，Z轴表示所述角色躯干模型的前后方向，所述第二偏移量表示每只所述手部模型相对所述角色躯干模型在前后方向上的相对位置。具体的，如图5所示，在自身坐标系中，X轴表示角色躯干模型的左右方向，角色躯干模型在X轴上的向量值表示角色躯干模型的宽度，角色躯干模型在X轴上的向量值的1/2即角色躯干模型一半的宽度，即左半边角色躯干模型在X轴上的向量值或者右半边角色躯干模型在X轴上的向量值，如以X轴的正半轴表示角色躯干模型的左侧，以X轴的负半轴表示角色躯干模型的右侧，基于实时监听到的手柄姿态数据获取手部模型在全局坐标系中的位置坐标后，在自身坐标系中可以将角色躯干模型左半边的宽度与左手模型在X轴上的向量值进行向量差值，得到左手模型相对角色躯干模型左半边的宽度的第一偏移量，若第一偏移量小于0，则左手模型在角色躯干模型左半边的左侧，即左手模型在角色躯干模型的左侧，若第一偏移量大于0，则左手模型在角色躯干模型左半边的内侧，即左手模型不在角色躯干模型的左侧。同理，可以判断右手模型是否在角色躯干模型的右侧。具体的，在自身坐标系中，Z轴表示角色躯干模型的前后方向，角色躯干模型在Z轴上的向量值表示角色躯干模型的深度，角色躯干模型在Z轴上的向量值的1/2即角色躯干模型一半的深度，前半边角色躯干模型在Z轴上的向量值或者后半边角色躯干模型在Z轴上的向量值，如以Z轴的正半轴表示角色躯干模型的前侧，以Z轴的负半轴表示角色躯干模型的后侧，基于实时监听到的手柄姿态数据获取手部模型在全局坐标系中的位置坐标后，在自身坐标系中，可以将角色躯干模型前半边的深度与左手模型在Z轴上的向量值进行向量差值，得到左手模型相对角色躯干模型前半边的深度的第二偏移量，若第二偏移量小于0，则左手模型在角色躯干模型前半边的前侧，即左手模型在角色躯干模型的前侧，若第二偏移量大于0，则左手模型在角色躯干模型后半边的后侧，即左手模型在角色躯干模型的后侧。具体实施时，得到每只手部模型相对于角色躯干模型的相对位置后，为了实现准确计算每只手部模型在全局坐标系中的显示位置，在本实施例中，根据所述相对位置和每只所述手部模型在所述全局坐标系中的位置坐标，在所述角色躯干模型在所述全局坐标系中的坐标范围之外，确定每只所述手部模型在所述全局坐标系中的显示位置，包括：将所述角色躯干模型在所述全局坐标系中的旋转信息与三维向量做求积运算，得到所述角色躯干模型在所述全局坐标系中的第一向量值，所述第一向量值表示所述角色躯干模型在所述全局坐标系中的左右方向信息；将所述第一向量值与每只所述手部模型相对所述角色躯干模型的所述第一偏移量做乘积运算，并将乘积结果与每只所述手部模型在所述全局坐标系中的位置坐标做求和运算，得到每只所述手部模型在所述全局坐标系中的第一位置信息；将所述角色躯干模型在所述全局坐标系中的旋转信息与三维向量做求积运算，得到所述角色躯干模型在所述全局坐标系中的第二向量值，所述第二向量值表示所述角色躯干模型在所述全局坐标系中的前后方向信息；将所述第二向量值与每只所述手部模型相对所述角色躯干模型的所述第二偏移量的绝对值做乘积运算，并将乘积结果与每只所述手部模型在所述全局坐标系中的第一位置信息做求和运算，得到每只所述手部模型在所述全局坐标系中的显示位置。具体的，如图5所示，基于在X轴上每只所述手部模型相对所述角色躯干模型的第一偏移量和在Z轴上每只所述手部模型相对所述角色躯干模型的第二偏移量，确定出在自身坐标系中每只手部模型相对角色躯干模型的相对位置，继而基于该相对位置和每只手部模型在虚拟空间的全局坐标系中的位置坐标，计算得到每只所述手部模型在全局坐标系中的显示位置，确保了每只手部模型在全局坐标系中的显示位置在角色躯干模型的坐标范围之外，避免手部模型和角色躯干模型出现穿模现象，进而将每只手部模型在全局坐标系中的显示位置反馈给姿态矫正过程。具体实施时，如图6所示，在姿态矫正过程中，将计算得到的每只手部模型在全局坐标系中的显示位置，与Avatar的双手模型进行重新绑定，以矫正在虚拟环境下双手模型的当前姿态，最后在虚拟空间中重新渲染，使得可以动态、正确的显示双手模型的姿态。同时，将监听过程中监听到的VR设备姿态数据与Avatar的躯干模型进行重新绑定，以矫正在虚拟环境下躯干模型的当前姿态，最后在虚拟空间中重新渲染，使可以动态、正确的显示躯干模型的姿态。具体实施时，上述虚拟现实环境下手部姿态的显示方法可以运行在VR设备上，也可以运行在VR设备之外的其他设备上。在本实施例中，提供了一种计算机设备，如图7所示，包括存储器701、处理器702及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述任意的虚拟现实环境下手部姿态的显示方法。具体的，该计算机设备可以是计算机终端、服务器或者类似的运算装置。在本实施例中，提供了一种计算机可读存储介质，所述计算机可读存储介质存储有执行上述任意的虚拟现实环境下手部姿态的显示方法的计算机程序。具体的，计算机可读存储介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机可读存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读存储介质不包括暂存电脑可读媒体，如调制的数据信号和载波。基于同一发明构思，本发明实施例中还提供了一种虚拟现实环境下手部姿态的显示装置，如下面的实施例所述。由于虚拟现实环境下手部姿态的显示装置解决问题的原理与虚拟现实环境下手部姿态的显示方法相似，因此虚拟现实环境下手部姿态的显示装置的实施可以参见虚拟现实环境下手部姿态的显示方法的实施，重复之处不再赘述。以下所使用的，术语“单元”或者“模块”可以实现预定功能的软件和/或硬件的组合。尽管以下实施例所描述的装置较佳地以软件来实现，但是硬件，或者软件和硬件的组合的实现也是可能并被构想的。图8是本发明实施例的虚拟现实环境下手部姿态的显示装置的一种结构框图，如图8所示，包括：操作状态监听模块801，用于获取手柄姿态数据；姿态矫正计算模块802，用于根据所述手柄姿态数据，计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，其中，在所述全局坐标系中，所述手部模型的显示位置在所述角色模型的角色躯干模型范围的外部；姿态反馈模块803，用于基于所述手部模型在全局坐标系中的显示位置，在所述虚拟空间中渲染显示所述手部模型的姿态。在一个实施例中，姿态矫正计算模块，具体用于根据所述手柄姿态数据中的位置信息，映射出每只所述手部模型在所述全局坐标系中的位置坐标；在所述角色模型的自身坐标系中，根据所述角色躯干模型在所述自身坐标系中的坐标范围和每只所述手部模型在所述自身坐标系中的位置坐标，确定每只所述手部模型相对于所述角色躯干模型的相对位置；根据所述相对位置和每只所述手部模型在所述全局坐标系中的位置坐标，在所述角色躯干模型在所述全局坐标系中的坐标范围之外，确定每只所述手部模型在所述全局坐标系中的显示位置。在一个实施例中，姿态矫正计算模块，用于在所述自身坐标系中，将每只所述手部模型在X轴上的向量值和所述角色躯干模型中与每只所述手部模型同侧的半边的角色躯干模型在X轴上的向量值进行向量差值，得到在X轴上每只所述手部模型相对所述角色躯干模型的第一偏移量，其中，所述角色躯干模型的几何中心点为所述自身坐标系的坐标原点，X轴表示所述角色躯干模型的左右方向，所述第一偏移量表示每只所述手部模型相对所述角色躯干模型在左右方向上的相对位置；在所述自身坐标系中，将每只所述手部模型在Z轴上的向量值和所述角色躯干模型中前半边的角色躯干模型在Z轴上的向量值进行向量差值，得到在Z轴上每只所述手部模型相对所述角色躯干模型的第二偏移量，其中，Z轴表示所述角色躯干模型的前后方向，所述第二偏移量表示每只所述手部模型相对所述角色躯干模型在前后方向上的相对位置。在一个实施例中，姿态矫正计算模块，具体用于将所述角色躯干模型在所述全局坐标系中的旋转信息与三维向量做求积运算，得到所述角色躯干模型在所述全局坐标系中的第一向量值，所述第一向量值表示所述角色躯干模型在所述全局坐标系中的左右方向信息；将所述第一向量值与每只所述手部模型相对所述角色躯干模型的所述第一偏移量做乘积运算，并将乘积结果与每只所述手部模型在所述全局坐标系中的位置坐标做求和运算，得到每只所述手部模型在所述全局坐标系中的第一位置信息；将所述角色躯干模型在所述全局坐标系中的旋转信息与三维向量做求积运算，得到所述角色躯干模型在所述全局坐标系中的第二向量值，所述第二向量值表示所述角色躯干模型在所述全局坐标系中的前后方向信息；将所述第二向量值与每只所述手部模型相对所述角色躯干模型的所述第二偏移量的绝对值做乘积运算，并将乘积结果与每只所述手部模型在所述全局坐标系中的第一位置信息做求和运算，得到每只所述手部模型在所述全局坐标系中的显示位置。在一个实施例中，所述操作状态监听模块，还用于获取VR设备姿态数据；所述姿态反馈模块，还用于根据所述VR设备姿态数据在虚拟空间中渲染显示所述角色躯干模型的姿态。在一个实施例中，所述操作状态监听模块通过VR设备的API获取所述手柄姿态数据和所述VR设备姿态数据。本发明实施例实现了如下技术效果：提出了根据手柄姿态数据计算角色模型的手部模型在虚拟空间的全局坐标系中的显示位置，在全局坐标系中，计算得到的该显示位置在角色模型的角色躯干模型范围的外部，进而基于显示位置在虚拟空间中渲染显示手部模型的姿态。由于计算得到的手部模型在全局坐标系中的显示位置在角色模型的角色躯干模型范围的外部，使得手部模型与角色躯干模型接触或碰撞时避免出现穿模的现象，进而有利于正确表达手部动作和手部姿态。显然，本领域的技术人员应该明白，上述的本发明实施例的各模块或各步骤可以用通用的计算装置来实现，它们可以集中在单个的计算装置上，或者分布在多个计算装置所组成的网络上，可选地，它们可以用计算装置可执行的程序代码来实现，从而，可以将它们存储在存储装置中由计算装置来执行，并且在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤，或者将它们分别制作成各个集成电路模块，或者将它们中的多个模块或步骤制作成单个集成电路模块来实现。这样，本发明实施例不限制于任何特定的硬件和软件结合。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明实施例可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
