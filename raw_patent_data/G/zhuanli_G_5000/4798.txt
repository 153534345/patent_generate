标题title
一种面向复杂建筑火灾的动态智能疏散方法及装置
摘要abst
本发明涉及计算机人工智能技术领域，特别是指一种面向复杂建筑火灾的动态智能疏散方法及装置。一种面向复杂建筑火灾的动态智能疏散方法包括：通过人员和建筑物设备，获得人员信息数据、建筑通道数据和火灾信息数据；根据人员信息数据和所述建筑通道数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离；基于人员信息数据和建筑通道数据进行计算操作，获得疏散难易度；采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型；通过基于Stacking集成的疏散时间预测模型，获得疏散最优路径。帮助人员避免耗时长或者因火灾导致规划的疏散路径中断，实现人员动态疏散，提高了疏散效率。
权利要求书clms
1.一种面向复杂建筑火灾的动态智能疏散方法，其特征在于，所述方法包括：发出人员疏散请求，通过人员定位设备，获得人员信息数据；通过建筑监控设备，获得建筑通道数据和火灾信息数据；基于所述人员信息数据和所述建筑通道数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离；基于所述人员信息数据和所述建筑通道数据进行计算操作，获得疏散难易度；采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型；基于所述人员信息数据、所述建筑通道数据、所述疏散距离、所述疏散难易度和所述火灾信息数据，通过基于Stacking集成的疏散时间预测模型，获得疏散最优路径。2.根据权利要求1所述的一种面向复杂建筑火灾的动态智能疏散方法，其特征在于，所述发出人员疏散请求，通过人员定位设备，获得人员信息数据，通过建筑监控设备，获得建筑通道数据和火灾信息数据，包括：当发出人员疏散请求时，通过人员定位设备获得待疏散人员位置，并调用人员信息库，获得人员信息数据，其中，所述人员信息数据包括待疏散人员所在位置、年龄、性别、肩宽和速度；通过建筑监控设备获得疏散环境信息和火灾信息数据，并调用建筑通道信息库，获得建筑通道数据，其中，所述建筑通道数据包括通道长度、宽度、节点信息、人员数量和安全出口位置。3.根据权利要求1所述的一种面向复杂建筑火灾的动态智能疏散方法，其特征在于，所述基于所述人员信息数据和所述建筑通道数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离，包括：根据所述人员信息数据和所述建筑通道数据，将疏散空间的各个位置简化成点，使用线段连接的方式表示空间之间的联通关系，将可能会出现人员交汇的空间细化成多个关键的交通节点，获得空间拓扑结构形式的疏散空间模型；通过对疏散空间模型的疏散路径进行测量计算，获得疏散距离。4.根据权利要求1所述的一种面向复杂建筑火灾的动态智能疏散方法，其特征在于，所述基于所述人员信息数据和所述建筑通道数据进行计算操作，获得疏散难易度，包括：根据影响疏散的人员因素和环境因素定义疏散难易度，根据所述人员信息数据和所述建筑通道数据，获得疏散人群数量、通道长度、通道宽度和人群平均速度；根据所述疏散人群数量、通道长度、通道宽度和人群平均速度计算疏散难易度；所述疏散难易度包括人群疏散难易度、路径重叠影响疏散难易度和即将路径重叠影响疏散难易度。5.根据权利要求1所述的一种面向复杂建筑火灾的动态智能疏散方法，其特征在于，所述采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型，包括：将所述人员信息数据、所述建筑通道数据、所述疏散距离和所述疏散难易度进行整合以及标准化操作，获得学习数据集；将所述XGB、LGB、GBoost 学习器进行网格搜索法优化，基于Stacking集成策略对优化后的所述XGB、LGB、GBoost学习器进行集成操作，建立初始的基于Stacking集成的疏散时间预测模型；使用学习数据集对初始的基于Stacking集成的疏散时间预测模型进行训练，得到训练完毕的基于Stacking集成的疏散时间预测模型。6.一种面向复杂建筑火灾的动态智能疏散装置，其特征在于，所述装置用于实现一种面向复杂建筑火灾的动态智能疏散方法，所述装置包括：信息获取模块，用于疏散人员发出请求，通过人员定位设备，获得人员信息数据；通过建筑监控设备，获得建筑通道数据和火灾信息数据；疏散距离计算模块，用于基于所述人员信息数据和所述建筑通道数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离；疏散难易度计算模块，用于基于所述人员信息数据和所述建筑通道数据进行计算操作，获得疏散难易度；疏散模型建立模块，用于采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型；最优路径获取模块，用于所述人员信息数据、所述建筑通道数据、所述疏散距离、所述疏散难易度和所述火灾信息数据，通过基于Stacking集成的疏散时间预测模型，获得疏散最优路径。7.根据权利要求6所述的一种面向复杂建筑火灾的动态智能疏散装置，其特征在于，所述信息获取模块，进一步用于：当发出人员疏散请求时，通过人员定位设备获得待疏散人员位置，并调用人员信息库，获得人员信息数据，其中，所述人员信息数据包括待疏散人员所在位置、年龄、性别、肩宽和速度；通过建筑监控设备获得疏散环境信息和火灾信息数据，并调用建筑通道信息库，获得建筑通道数据，其中，所述建筑通道数据包括通道长度、宽度、节点信息、人员数量和安全出口位置。8.根据权利要求6所述的一种面向复杂建筑火灾的动态智能疏散装置，其特征在于，所述疏散距离计算模块，进一步用于：根据所述人员信息数据和所述建筑通道数据，将疏散空间的各个位置简化成点，使用线段连接的方式表示空间之间的联通关系，将可能会出现人员交汇的空间细化成多个关键的交通节点，获得空间拓扑结构形式的疏散空间模型；通过对疏散空间模型的疏散路径进行测量计算，获得疏散距离。9.根据权利要求6所述的一种面向复杂建筑火灾的动态智能疏散装置，其特征在于，所述疏散难易度计算模块，进一步用于：根据影响疏散的人员因素和环境因素定义疏散难易度，根据所述人员信息数据和所述建筑通道数据，获得疏散人群数量、通道长度、通道宽度和人群平均速度；根据所述疏散人群数量、通道长度、通道宽度和人群平均速度计算疏散难易度；所述疏散难易度包括人群疏散难易度、路径重叠影响疏散难易度和即将路径重叠影响疏散难易度。10.根据权利要求6所述的一种面向复杂建筑火灾的动态智能疏散装置，其特征在于，所述疏散模型建立模块，进一步用于：将所述人员信息数据、所述建筑通道数据、所述疏散距离和所述疏散难易度进行整合以及标准化操作，获得学习数据集；将所述XGB、LGB、GBoost 学习器进行网格搜索法优化，基于Stacking集成策略对优化后的所述XGB、LGB、GBoost学习器进行集成操作，建立初始的基于Stacking集成的疏散时间预测模型；使用学习数据集对初始的基于Stacking集成的疏散时间预测模型进行训练，得到训练完毕的基于Stacking集成的疏散时间预测模型。
说明书desc
技术领域本发明涉及计算机人工智能技术领域，特别是指一种面向复杂建筑火灾的动态智能疏散方法及装置。背景技术由于各种类型的建筑物是人们生产、生活以及财产高度集中的场所，建筑火灾成为对人们的危害最直接、最严重的火灾灾种。随着经济不断发展，城市建筑由小、散、低型向大、集、高型转变。建筑物结构复杂，封闭性强，除此之外，使用功能变的多样化，建筑可燃易燃装饰材料、电力、热力设施增加，火灾危险度大大增加。特别是学校综合教学楼、大型商场、超大规模的体育馆等公众聚集场所，一旦发生火灾等紧急情况，如果没有安全合理的疏散路径以及有效的疏散时间，人们将无法及时安全疏散。众多的复杂建筑基本仅依据建筑消防规定建造，对其进行重大设计干预总是比较困难。其中最关键的问题之一是提供更安全的建筑疏散策略。例如，基于使用最佳地点的可用出口组件以找到高层建筑的最佳疏散策略；采用人工免疫系统算法作为路线优化器；基于路径承载能力分配路径的校园紧急疏散系统。然而，上述研究中的案例仅适用于疏散演习或组织良好的紧急逃生，因为他们没有太多关注疏散过程中的实时动态流、人员分布不均以及疏散现场条件的实时变化的影响。将物联网技术应用到疏散管理中，通过传感器实时监控室内环境的变化来监测室内火灾的发展态势；基于射频的室内定位框架，用于建筑应急疏散，并被证明有较强的鲁棒性；类似地，融合了BIM技术和无线传感器技术来解决工人在有限空间的安全问题。但是，这些研究都未能综合考虑人员位置和火灾发展态势。综合以上分析发现，在现有的火灾疏散技术手段中，未能实时地将疏散人员的不均衡流动分布和火灾发展态势完整结合，导致规划的火灾疏散路径疏散效果不佳。发明内容本发明实施例提供了一种面向复杂建筑火灾的动态智能疏散方法及装置。所述技术方案如下：一方面，提供了一种面向复杂建筑火灾的动态智能疏散方法，该方法由电子设备实现，该方法包括：发出人员疏散请求，通过人员定位设备，获得人员信息数据；通过建筑监控设备，获得建筑通道数据和火灾信息数据。基于所述人员信息数据和所述建筑通道数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离。基于所述人员信息数据和所述建筑通道数据进行计算操作，获得疏散难易度。采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型。基于所述人员信息数据、所述建筑通道数据、所述疏散距离、所述疏散难易度和所述火灾信息数据，通过基于Stacking集成的疏散时间预测模型，获得疏散最优路径。可选地，所述发出人员疏散请求，通过人员定位设备，获得人员信息数据，通过建筑监控设备，获得建筑通道数据和火灾信息数据，包括：当发出人员疏散请求时，通过人员定位设备获得待疏散人员位置，并调用人员信息库，获得人员信息数据，其中，所述人员信息数据包括待疏散人员所在位置、年龄、性别、肩宽和速度；通过建筑监控设备获得疏散环境信息和火灾信息数据，并调用建筑通道信息库，获得建筑通道数据，其中，所述建筑通道数据包括通道长度、宽度、节点信息、人员数量和安全出口位置。可选地，所述基于所述人员信息数据和所述建筑通道数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离，包括：根据所述人员信息数据和所述建筑通道数据，将疏散空间的各个位置简化成点，使用线段连接的方式表示空间之间的联通关系，将可能会出现人员交汇的空间细化成多个关键的交通节点，获得空间拓扑结构形式的疏散空间模型；通过对疏散空间模型的疏散路径进行测量计算，获得疏散距离。可选地，所述基于所述人员信息数据和所述建筑通道数据进行计算操作，获得疏散难易度，包括：根据影响疏散的人员因素和环境因素定义疏散难易度，根据所述人员信息数据和所述建筑通道数据，获得疏散人群数量、通道长度、通道宽度和人群平均速度；根据所述疏散人群数量、通道长度、通道宽度和人群平均速度计算疏散难易度；所述疏散难易度包括人群疏散难易度、路径重叠影响疏散难易度和即将路径重叠影响疏散难易度。可选地，所述采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型，包括：将所述人员信息数据、所述建筑通道数据、所述疏散距离和所述疏散难易度进行整合以及标准化操作，获得学习数据集；将所述XGB、LGB、GBoost 学习器进行网格搜索法优化，基于Stacking集成策略对优化后的所述XGB、LGB、GBoost学习器进行集成操作，建立初始的基于Stacking集成的疏散时间预测模型；使用学习数据集对初始的基于Stacking集成的疏散时间预测模型进行训练，得到训练完毕的基于Stacking集成的疏散时间预测模型。另一方面，提供了一种面向复杂建筑火灾的动态智能疏散装置，该装置应用于面向复杂建筑火灾的动态智能疏散方法，该装置包括：信息获取模块，用于疏散人员发出请求，通过人员定位设备，获得人员信息数据；通过建筑监控设备，获得建筑通道数据和火灾信息数据。疏散距离计算模块，用于基于所述人员信息数据和所述建筑通道数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离。疏散难易度计算模块，用于基于所述人员信息数据和所述建筑通道数据进行计算操作，获得疏散难易度。疏散模型建立模块，用于采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型。最优路径获取模块，用于所述人员信息数据、所述建筑通道数据、所述疏散距离、所述疏散难易度和所述火灾信息数据，通过基于Stacking集成的疏散时间预测模型，获得疏散最优路径。可选地，所述信息获取模块，进一步用于：当发出人员疏散请求时，通过人员定位设备获得待疏散人员位置，并调用人员信息库，获得人员信息数据，其中，所述人员信息数据包括待疏散人员所在位置、年龄、性别、肩宽和速度；通过建筑监控设备获得疏散环境信息和火灾信息数据，并调用建筑通道信息库，获得建筑通道数据，其中，所述建筑通道数据包括通道长度、宽度、节点信息、人员数量和安全出口位置。可选地，所述疏散距离计算模块，进一步用于：根据所述人员信息数据和所述建筑通道数据，将疏散空间的各个位置简化成点，使用线段连接的方式表示空间之间的联通关系，将可能会出现人员交汇的空间细化成多个关键的交通节点，获得空间拓扑结构形式的疏散空间模型；通过对疏散空间模型的疏散路径进行测量计算，获得疏散距离。可选地，所述疏散难易度计算模块，进一步用于：根据影响疏散的人员因素和环境因素定义疏散难易度，根据所述人员信息数据和所述建筑通道数据，获得疏散人群数量、通道长度、通道宽度和人群平均速度；根据所述疏散人群数量、通道长度、通道宽度和人群平均速度计算疏散难易度；所述疏散难易度包括人群疏散难易度、路径重叠影响疏散难易度和即将路径重叠影响疏散难易度。可选地，所述疏散模型建立模块，进一步用于：将所述人员信息数据、所述建筑通道数据、所述疏散距离和所述疏散难易度进行整合以及标准化操作，获得学习数据集；将所述XGB、LGB、GBoost 学习器进行网格搜索法优化，基于Stacking集成策略对优化后的所述XGB、LGB、GBoost学习器进行集成操作，建立初始的基于Stacking集成的疏散时间预测模型；使用学习数据集对初始的基于Stacking集成的疏散时间预测模型进行训练，得到训练完毕的基于Stacking集成的疏散时间预测模型。另一方面，提供了一种电子设备，所述电子设备包括处理器和存储器，所述存储器中存储有至少一条指令，所述至少一条指令由所述处理器加载并执行以实现上述一种面向复杂建筑火灾的动态智能疏散方法。另一方面，提供了一种计算机可读存储介质，所述存储介质中存储有至少一条指令，所述至少一条指令由处理器加载并执行以实现上述一种面向复杂建筑火灾的动态智能疏散方法。本发明实施例提供的技术方案带来的有益效果至少包括：本发明中根据疏散距离和通道疏散难易度计算方法，获得人员疏散最优路径，最优路径方法减少了人员拥堵时间；采用本发明中基于Stacking集成的疏散时间预测模型能够达到较好的预测效果。基于Stacking集成的疏散时间预测模型可以结合疏散人员信息和环境信息提前预测不同疏散路径的疏散时间，帮助人员避免耗时长或者因火灾导致规划的疏散路径中断，实现人员动态疏散，提高了疏散效率。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的一种面向复杂建筑火灾的动态智能疏散方法流程图；图2是本发明实施例提供的一种面向复杂建筑火灾的动态智能疏散装置框图；图3是本发明实施例提供的一种电子设备的结构示意图。具体实施方式为使本发明要解决的技术问题、技术方案和优点更加清楚，下面将结合附图及具体实施例进行详细描述。本发明实施例提供了一种面向复杂建筑火灾的动态智能疏散方法，该方法可以由电子设备实现，该电子设备可以是终端或服务器。如图1所示的一种面向复杂建筑火灾的动态智能疏散方法流程图，该方法的处理流程可以包括如下的步骤：S1、发出人员疏散请求，通过人员定位设备，获得人员信息数据；通过建筑监控设备，获得建筑通道数据和火灾信息数据。可选地，发出人员疏散请求，通过人员定位设备，获得人员信息数据，通过建筑监控设备，获得建筑通道数据和火灾信息数据，包括：当发出人员疏散请求时，通过人员定位设备获得待疏散人员位置，并调用人员信息库，获得人员信息数据，其中，人员信息数据包括待疏散人员所在位置、年龄、性别、肩宽和速度；通过建筑监控设备获得疏散环境信息和火灾信息数据，并调用建筑通道信息库，获得建筑通道数据，其中，建筑通道数据包括通道长度、宽度、节点信息、人员数量和安全出口位置。一种可行的实施方式中，在不考虑火灾等其它因素的影响下，疏散时间的影响因素大体划分为两类，一类为人员自身的因素，一类为所选通道的疏散情况。本发明中这些影响因素可量化为人员类型、速度、肩宽、所在楼层、路径转弯次数、出口宽度、通道疏散难易度和疏散距离。其中，疏散距离和通道疏散难易度是不可提前获知的，需要实时计算得到。疏散人员在人员信息数据库中登记自身信息，其中包括疏散人员的年龄、性别、肩宽和速度。当接收到人员疏散请求时，在人员信息数据库中认证疏散人员身份，获得疏散人员的详细信息；调用建筑物中建筑通道的监控设备，利用图像识别技术，获得人员所在所在楼层、路径转弯次数、出口宽度以及火灾情况的相关数据等。S2、基于人员信息数据、建筑通道数据和火灾信息数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离。可选地，基于人员信息数据和建筑通道数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离，包括：根据人员信息数据和建筑通道数据，将疏散空间的各个位置简化成点，使用线段连接的方式表示空间之间的联通关系，将可能会出现人员交汇的空间细化成多个关键的交通节点，获得空间拓扑结构形式的疏散空间模型；通过对疏散空间模型的疏散路径进行测量计算，获得疏散距离。一种可行的实施方式中，把房间或座位区简化成空间中的点；把关键的交通点也简化成节点；这里的关键交通节点主要包括通道的“T”字型岔口和“L”字型拐点。每个节点都会被编号，标号统一使用NXn的形式表示。其中N表示节点所在楼层号；X表示空间种类，房间或座位区、走廊、座位席通道、楼梯分别用R、C、P、S表示；n表示节点的标号。两个相连通的节点之间用直线连接，节点间的距离代表两点间路径的距离，而不是直线距离。该拓扑结构只需要根据建筑模型简化一次，如果建筑布局不变，完成后即可一直用于疏散路径的规划。为方便管理者或者行人直观的了解疏散总距离的相关信息，本发明将疏散距离的结果进行二维表示。方法如下：将整个建筑根据层数划分；每一层以建筑结构为基础，根据最近出口的不同对区域进行划分并简化成空间中的圆点；为了突出出口，将一楼出口简化成绿色小方块，而不是圆点。与上节相同，两个相连通的节点之间用直线连接，节点间的距离代表两点间路径的距离，而不是直线距离。需要注意的是疏散距离最短不一定是最佳疏散路径。S3、基于人员信息数据和建筑通道数据进行计算操作，获得疏散难易度。可选地，基于人员信息数据和建筑通道数据进行计算操作，获得疏散难易度，包括：根据影响疏散的人员因素和环境因素定义疏散难易度，根据人员信息数据和建筑通道数据，获得疏散人群数量、通道长度、通道宽度和人群平均速度；根据疏散人群数量、通道长度、通道宽度和人群平均速度计算疏散难易度；疏散难易度包括人群疏散难易度、路径重叠影响疏散难易度和即将路径重叠影响疏散难易度。一种可行的实施方式中，令疏散距离长度为L，点p和点q为人群疏散距离的起点和终点，人均平均速度为V，通道宽度w，设定疏散人群I，i为疏散人群里的人，i∈I，人群数量为Ni，则人群疏散难易度计算公式如式所示： 位于i路径上的其他人群在未来一段时间的疏散过程中，可能会对样本产生影响，根据难度最大化原则，考虑这些人群对i的影响定义路段难易度。设定路径重叠人群J，j为路径重叠人群里的人，j∈J，路径重叠人群数量为Nj，点p'和点q'为重叠路径的起点和终点。路径重叠影响疏散难易度计算公式如式所示：路径重叠之前的疏散人群也可能会对样本产生影响，模型将考虑这一段人群分布对样本未来一段时间疏散的影响。设定路径重叠之前的疏散人群G，g为路径重叠之前的疏散人群里的人，g∈G，路径重叠人群数量为Ng，点p"和点q"为在未来一段时间后将会重叠路径的起点和终点。即将路径重叠影响疏散难易度计算公式如式所示：根据以上计算公式，疏散难易度计算公式如下式所示：S4、采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型。可选地，采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型，包括：将人员信息数据、建筑通道数据、疏散距离和疏散难易度进行整合以及标准化操作，获得学习数据集；将XGB、LGB、GBoost 学习器进行网格搜索法优化，基于Stacking集成策略对优化后的XGB、LGB、GBoost学习器进行集成操作，建立初始的基于Stacking集成的疏散时间预测模型；使用学习数据集对初始的基于Stacking集成的疏散时间预测模型进行训练，得到训练完毕的基于Stacking集成的疏散时间预测模型。一种可行的实施方式中，Stacking集成策略是机器学习领域一种常用的提升学习器预测准确性的方法，通过构建并结合多个学习器来完成学习任务。要获得好的集成，个体学习器应“好而不同”，个体学习器要有一定的“准确性”，即学习器不能太坏，并且要有多样性，即学习器间要有差异。因此，本发明选择极度梯度增强库、基于决策树算法的梯度增强库和梯度提升增强库等强学习器并通过Stacking集成策略建立疏散时间预测模型。模型训练过程中，每个模型都会做一个K-Fold预测。第一层模型经过K-Fold 训练后得到的所有数据连在一起，成为了Model_的训练集。但Model_只有训练集，没有测试集。所以在最开始，就需要将整体数据分为测试集和训练集，在学习数据集中随机抽取20%样本进行测试。模型建成之后需要进行验证。模型效果可分为欠拟合、适度拟合和过拟合。欠拟合指此场景下模型未学习到Y和X之间的函数关系，不能形成较好的预测。过拟合指模型通过提高复杂度的方式来提高拟合效果，将训练样本中噪音点作为正确样本拟合、优化，模型过度学习了Y和X之间的错误关系，不能在实际应用中进行准确地预测。适度拟合指模型学习到了Y和X之间变化的整体规律，可以较好地实际应用。如果得到的拟合效果不好，需要分析原因对模型进行修整优化。Stacking集成XGB、LGB和GBoost模型增强了疏散时间预测模型的预测准确性和泛化能力，并通过参数调整可降低模型产生欠拟合和过拟合等现象，从而使疏散时间预测模型更好的应用在各类实际场景。模型训练时，误差值的计算采取下式：其中，m为样本数量，y_pred_i为第i个样本预测疏散时间，y_true_i为第i个样本真实疏散时间，误差值的计算依据是采用预测疏散时间和真实疏散时间之间的平均绝对误差。在机器学习模型中，需要人工选择的参数称为超参数。超参数选择不恰当，就会出现欠拟合或者过拟合的问题。本发明基于Anaconda机器学习平台建立XGB、LGB、GBoost学习器，并使用Scikit-Learn的GridSearchCV来选择参数优化模型。即在指定的参数范围内，按步长依次调整参数，利用调整的参数训练学习器，从所有的参数中找到在验证集上精度最高的参数。这其实是一个训练和比较的过程。GridSearchCV可以保证在指定的参数范围内找到精度最高的参数。S5、基于人员信息数据、建筑通道数据、疏散距离、疏散难易度和火灾信息数据，通过基于Stacking集成的疏散时间预测模型，获得疏散最优路径。一种可行的实施方式中，北京市某复杂建筑为例验证所提出模型和方法的效果。模型共设置4520名被疏散人员，随机分布在建筑各个地方。按照本发明疏散距离和通道疏散难易度计算方法分别获得人员疏散最短路径和最优路径，根据路径计算结果设置人员行为进行模拟实验，结果显示：最优路径总体疏散时间为1108.5s，比最短路径的疏散时间少了85s，疏散效率提高了7.12%。疏散人数过多，拥堵现象十分严重。但以最优路径进行疏散的拥堵情况有所缓和：主要楼梯口持续拥堵时间从1055s减少到972s。最优路径方法减少了人员拥堵时间，提高了疏散效率。本例共设置数据集300个样本，采用本发明中基于Stacking集成的疏散时间预测模型进行训练，结果显示：模型在训练集上的最终误差值为124.38s, 标准差为9.28s，比集成前3个学习器的数值小, 即集成达到了很好的效果。且最终结果124.38比模型优化之前的结果130.03好。为测试模型效果，在数据集中随机抽取60个样本进行测试，模型在测试集上的平均绝对误差为88.85s，小于训练集上的训练误差，且平均相对误差为18.88%，模型能够达到较好的预测效果。本发明中根据疏散距离和通道疏散难易度计算方法，获得人员疏散最优路径，最优路径方法减少了人员拥堵时间；采用本发明中基于Stacking集成的疏散时间预测模型能够达到较好的预测效果。基于Stacking集成的疏散时间预测模型可以结合疏散人员信息和环境信息提前预测不同疏散路径的疏散时间，帮助人员避免耗时长或者因火灾导致规划的疏散路径中断，实现人员动态疏散，提高了疏散效率。图2是根据一示例性实施例示出的一种面向复杂建筑火灾的动态智能疏散装置框图，该装置应用于实现一种面向复杂建筑火灾的动态智能疏散方法。参照图2，该装置包括：信息获取模块，用于疏散人员发出请求，通过人员定位设备，获得人员信息数据；通过建筑监控设备，获得建筑通道数据和火灾信息数据。疏散距离计算模块，用于基于人员信息数据和建筑通道数据建立疏散空间模型，根据疏散空间模型进行简化和计算操作，获得疏散距离。疏散难易度计算模块，用于基于人员信息数据和建筑通道数据进行计算操作，获得疏散难易度。疏散模型建立模块，用于采用XGB、LGB和GBoost学习器，根据Stacking集成策略，建立基于Stacking集成的疏散时间预测模型。最优路径获取模块，用于人员信息数据、建筑通道数据、疏散距离、疏散难易度和火灾信息数据，通过基于Stacking集成的疏散时间预测模型，获得疏散最优路径。可选地，信息获取模块，进一步用于：当发出人员疏散请求时，通过人员定位设备获得待疏散人员位置，并调用人员信息库，获得人员信息数据，其中，人员信息数据包括待疏散人员所在位置、年龄、性别、肩宽和速度；通过建筑监控设备获得疏散环境信息和火灾信息数据，并调用建筑通道信息库，获得建筑通道数据，其中，建筑通道数据包括通道长度、宽度、节点信息、人员数量和安全出口位置。可选地，疏散距离计算模块，进一步用于：根据人员信息数据和建筑通道数据，将疏散空间的各个位置简化成点，使用线段连接的方式表示空间之间的联通关系，将可能会出现人员交汇的空间细化成多个关键的交通节点，获得空间拓扑结构形式的疏散空间模型；通过对疏散空间模型的疏散路径进行测量计算，获得疏散距离。可选地，疏散难易度计算模块，进一步用于：根据影响疏散的人员因素和环境因素定义疏散难易度，根据人员信息数据和建筑通道数据，获得疏散人群数量、通道长度、通道宽度和人群平均速度；根据疏散人群数量、通道长度、通道宽度和人群平均速度计算疏散难易度；疏散难易度包括人群疏散难易度、路径重叠影响疏散难易度和即将路径重叠影响疏散难易度。可选地，疏散模型建立模块，进一步用于：将人员信息数据、建筑通道数据、疏散距离和疏散难易度进行整合以及标准化操作，获得学习数据集；将XGB、LGB、GBoost 学习器进行网格搜索法优化，基于Stacking集成策略对优化后的XGB、LGB、GBoost学习器进行集成操作，建立初始的基于Stacking集成的疏散时间预测模型；使用学习数据集对初始的基于Stacking集成的疏散时间预测模型进行训练，得到训练完毕的基于Stacking集成的疏散时间预测模型。本发明中根据疏散距离和通道疏散难易度计算方法，获得人员疏散最优路径，最优路径方法减少了人员拥堵时间；采用本发明中基于Stacking集成的疏散时间预测模型能够达到较好的预测效果。基于Stacking集成的疏散时间预测模型可以结合疏散人员信息和环境信息提前预测不同疏散路径的疏散时间，帮助人员避免耗时长或者因火灾导致规划的疏散路径中断，实现人员动态疏散，提高了疏散效率。图3是本发明实施例提供的一种电子设备300的结构示意图，该电子设备600可因配置或性能不同而产生比较大的差异，可以包括一个或一个以上处理器301和一个或一个以上的存储器302，其中，所述存储器302中存储有至少一条指令，所述至少一条指令由所述处理器301加载并执行以实现上述一种面向复杂建筑火灾的动态智能疏散方法的步骤。在示例性实施例中，还提供了一种计算机可读存储介质，例如包括指令的存储器，上述指令可由终端中的处理器执行以完成上述一种面向复杂建筑火灾的动态智能疏散方法。例如，所述计算机可读存储介质可以是ROM、随机存取存储器、CD-ROM、磁带、软盘和光数据存储设备等。本领域普通技术人员可以理解实现上述实施例的全部或部分步骤可以通过硬件来完成，也可以通过程序来指令相关的硬件完成，所述的程序可以存储于一种计算机可读存储介质中，上述提到的存储介质可以是只读存储器，磁盘或光盘等。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
