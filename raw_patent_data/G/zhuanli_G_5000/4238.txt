标题title
智能电子警察违章检测系统及方法
摘要abst
本申请涉及交通电子技术领域，为智能电子警察违章检测系统及方法；方法包括：获取多个目标范围内的多个实时图像数据；将多个所述实时图像数据分别输入至图像识别装置进行第一特征提取，得到多个含有第一特征的第一特征图；比较多个所述第一特征图中的多个第一特征，将含有相同第一特征所对应的所述第一特征图整合为实时图像流；提取多个特征图像中的第二特征，并比较多个所述第二特征，以多个所述第一特征图的时间节点为判断节点判断两两相邻的所述第二特征的变化率，基于预设的变化率阈值确定目标第二特征；基于异常识别装置提取所述目标第二特征中的异常特征，将所述异常特征作为异常信息。
权利要求书clms
1.智能电子警察违章检测系统，其特征在于，包括多个图像采集装置、违章信息管理终端以及分别与所述图像采集装置、所述违章信息管理终端进行通信的边缘服务器，所述图像采集装置用于采集目标区域内的实时图像数据，所述边缘服务器对所述实时图像数据进行处理，所述边缘服务器内布置有图像识别装置以及异常识别装置，多个所述图像采集装置基于排列顺序采集多个实时图像数据，所述图像识别装置提取所述多个实时图像数据中的具有相同第一特征的特征图像，所述异常识别装置提取所述特征图像中第二特征并识别所述第二特征中的异常特征，将所述异常特征作为异常信息；所述第一特征为车辆特征，所述特征图像为包含有所述车辆特征的车辆图像，所述第二特征为对应所述车辆图像中的光晕特征；识别所述第二特征中的异常特征包括比较所述光晕特征中的光晕范围值，还包括获取光强指数，将光强指数与预设置的光强阈值进行比较，所述光强指数基于所述光晕变化指数和所述光晕范围值获得，所述光晕变化指数基于所述光晕范围值获得。2.智能电子警察违章检测方法，其特征在于，基于权利要求1所述的智能电子警察违章检测系统，所述方法包括：获取多个目标范围内的多个实时图像数据；将多个所述实时图像数据分别输入至图像识别装置进行第一特征提取，得到多个含有第一特征的第一特征图；比较多个所述第一特征图中的多个第一特征，将含有相同第一特征所对应的所述第一特征图整合为实时图像流；提取多个特征图像中的第二特征，并比较多个所述第二特征，以多个所述第一特征图的时间节点为判断节点判断两两相邻的所述第二特征的变化率，基于预设的变化率阈值确定目标第二特征；基于异常识别装置提取所述目标第二特征中的异常特征，将所述异常特征作为异常信息，具体包括：获取所述第二特征中的光晕范围，基于所述光晕范围获取光晕变化指数，所述光晕变化指数为：；基于所述光晕变化指数和所述光晕范围值获得光强指数，所述光强指数为：，其中为光强指数；其中，为光晕变化指数，为光晕范围值，n为多个特征图像中的第二特征的数量，中的i为特征图中的第二特征的帧数；将所述光强指数与预设置的光强阈值进行比较的，得到比较结果。3.根据权利要求2所述的智能电子警察违章检测方法，其特征在于，所述图像识别装置内配置有神经网络模型，所述神经网络模型包括多个卷积层，每一所述卷积层中配置有多个卷积块和残差块，在两个残差块之间还设置有注意力处理模块，所述注意力处理模块的输入为卷积块的输出特征，所述卷积块的输入为第一卷积层的残差块的特征，所述注意力处理模块的输出为注意力特征，并将所述注意力特征输入至第二卷积层的残差块中进行特征提取后输入至下一层卷积层，循环操作直至最后卷积层输出目标特征，将所述输出目标特征通过第一卷积集处理得到第一特征图。4.根据权利要求3所述的智能电子警察违章检测方法，其特征在于，提取中间卷积层以及所述中间卷积层的下一级卷积层获取输出的特征作为输入至第二卷积集、第三卷积集处理得到第二特征图和第三特征图。5.根据权利要求4所述的智能电子警察违章检测方法，其特征在于，还包括与所述第一特征图、所述第二特征图和所述第三特征图对应的多个预测网络，多个所述预测网络设置有与预设识别类型数量相对应的卷积核，通过卷积核处理对预设检测框进行纠偏得到目标检测框，基于所述目标检测框获取目标数据，所述目标数据为第一特征，包含有所述第一特征的图像数据为所述第一特征图。6.根据权利要求5所述的智能电子警察违章检测方法，其特征在于，提取多个所述第一特征图中的第二特征，包括：将所述第一特征图进行二值化处理得到第一特征灰度图，提取符合预设灰度面积阈值的灰度区域为第二特征。7.根据权利要求6所述的智能电子警察违章检测方法，其特征在于，提取所述符合预设灰度面积阈值的灰度区域为第二特征，还包括识别所述灰度区域是否属于同一车辆。8.根据权利要求7所述的智能电子警察违章检测方法，其特征在于，识别所述灰度区域是否属于同一车辆，包括：获取两个灰度区域的中心点，并计算两个所述中心点连线的斜率，判断所述斜率是否小于预设值，当所述斜率小于预设值时计算两个所述中心点的横坐标差是否满足约束公式，所述约束公式为：；其中，为两个中心点的横坐标距离，为预设判断阈值，、为两个中心点的横坐标。9.根据权利要求8所述的智能电子警察违章检测方法，其特征在于，两个所述中心点的横坐标差满足约束公式时，则两个所述中心点属于同一车辆，即两个所述灰度区域为第二特征对。10.根据权利要求8所述的智能电子警察违章检测方法，其特征在于，所述判断阈值的确定包括获取与所述第一特征相匹配的多个衍生样本图像，并获取多个所述衍生样本图像中的衍生第二特征点以及多个所述衍生第二特征点之间的横坐标距离，对多个所述衍生第二特征点之间的横坐标距离进行中间取值。
说明书desc
技术领域本申请涉及交通电子技术领域，为智能电子警察违章检测系统及方法。背景技术在所有车辆交通事故中，夜间发生交通事故的机率约为白天发生机率的1.5倍，其中，发生在夜间的重大交通事故大约占据了总数的60%，而根据数据统计，30-40%的夜间车祸是由驾驶员使用远光灯的行为造成。为了减少由远光灯引发的交通事故数量，抑制交通安全隐患，提升城市交通安全度，政府部门采取了众多监管方案，调遣了大量人力进行布控，但由于车灯的多变以及道路行车速度较快，监管人员面对的困难较大，并且难以取证，难以对违法使用远光灯行为做出有效的治理。故需研制一套远光灯自动检测系统，以智能化、自动化的方案对车辆使用远观灯的行为进行检测，降低有关部门监管难度，提升对远光灯的管控力度。发明内容为了解决以上的技术问题，本申请提供智能电子警察违章检测系统及方法，通过配置有对待识别异常的目标进行识别的目标识别模型以及基于识别后的目标进行异常识别的异常识别模型，实现了针对于不同异常信息的针对性的处理，提高了违章识别的准确度以及高效性。为了达到上述目的，本申请实施例采用的技术方案如下：第一方面，智能电子警察违章检测系统，包括多个图像采集装置、违章信息管理终端以及分别与所述图像采集装置、所述违章信息管理终端进行通信的边缘服务器，所述图像采集装置用于采集目标区域内的实时图像数据，所述边缘服务器基于所述外部环境数据对所述实时图像数据进行处理，所述边缘服务器内布置有图像识别装置以及异常识别装置，多个所述图像采集装置基于排列顺序采集多个实时图像数据，所述图像识别装置提取所述多个实时图像数据中的具有相同第一特征的特征图像，所述异常识别装置提取所述特征图像中第二特征并识别所述第二特征中的异常特征，将所述异常特征作为异常信息；所述第一特征为车辆特征，所述特征图像为包含有所述车辆特征的车辆图像，所述第二特征为对应所述车辆图像中的光晕特征；识别所述第二特征中的异常特征包括比较所述光晕特征中的光晕范围值。第二方面，智能电子警察违章检测方法，基于上所述的智能电子警察违章检测系统，所述方法包括：获取多个目标范围内的多个实时图像数据；将多个所述实时图像数据分别输入至图像识别装置进行第一特征提取，得到多个含有第一特征的第一特征图；比较多个所述第一特征图中的多个第一特征，将含有相同第一特征所对应的所述第一特征图整合为实时图像流；提取多个特征图像中的第二特征，并比较多个所述第二特征，以多个所述第一特征图的时间节点为判断节点判断两两相邻的所述第二特征的变化率，基于预设的变化率阈值确定目标第二特征；基于异常识别装置提取所述目标第二特征中的异常特征，将所述异常特征作为异常信息，具体包括：获取所述第二特征中的光晕范围，基于所述光晕范围获取光晕变化指数，所述光晕变化指数为：，其中为光晕变化指数，为光晕范围值；基于所述光晕变化指数和所述光晕范围值获得光强指数，所述光强指数为：，其中为光强指数；将所述光强指数与预设置的光强阈值进行比较的，得到比较结果。第二方面的第一种实现方式中，所述图像识别装置内配置有神经网络模型，所述神经网络模型包括多个卷积层，每一所述卷积层中配置有多个卷积块和残差块，在两个残差块之间还设置有注意力处理模块，所述注意力处理模块的输入为卷积块的输出特征，所述卷积块的输入为第一卷积层的残差块的特征，所述注意力处理模块的输出为注意力特征，并将所述注意力特征输入至第二卷积层的残差块中进行特征提取后输入至下一层卷积层，循环操作直至最后卷积层输出目标特征，将所述输出目标特征通过第一卷积集处理得到第一目标特征图。结合第二方面的第一种可能的实现方式，在第二种可能的实现方式中，提取中间卷积层以及所述中间卷积层的下一级卷积层获取输出的特征作为输入至第二卷积集、第三卷积集处理得到第二特征图和第三特征图。结合第二方面的第二种可能的实现方式，在第三种可能的实现方式中，还包括与所述第一特征图、所述第二特征图和所述第三特征图对应的多个预测网络，多个所述预测网络设置有与预设识别类型数量相对应的卷积核，通过卷积核处理对预设检测框进行纠偏得到目标检测框，基于所述目标检测框获取目标数据，所述目标数据为第一特征，包含有所述第一特征的图像数据为所述第一特征图。结合第二方面的第三种可能的实现方式，在第四种可能的实现方式中，提取多个所述第一特征图中的第二特征，包括：将所述第一特征图进行二值化处理得到第一特征灰度图，提取所述符合预设灰度面积阈值的灰度区域为第二特征。结合第二方面的第四种可能的实现方式，在第五种可能的实现方式中，提取所述符合预设灰度面积阈值的灰度区域为第二特征，还包括识别所述灰度区域是否属于同一车辆。结合第二方面的第五种可能的实现方式，在第六种可能的实现方式中，识别所述灰度区域是否属于同一车辆，包括：获取两个灰度区域的中心点，并计算两个所述中心点连线的斜率，判断所述斜率是否小于预设值，当所述斜率小于预设值时计算两个所述中心点的横坐标差是否满足约束公式，所述约束公式为：；其中，为两个中心点的横坐标距离，为预设判断阈值，、为两个中心点的横坐标。结合第二方面的第六种可能的实现方式，在第七种可能的实现方式中，两个所述中心点的横坐标差满足约束公式时，则两个所述中心点属于同一车辆，即两个所述灰度区域为第二特征对。结合第二方面的第七种可能的实现方式，在第八种可能的实现方式中，所述判断阈值的确定包括获取与所述第一特征相匹配的多个衍生样本图像，并获取多个所述衍生样本图像中的衍生第二特征点以及多个所述衍生第二特征点之间的横坐标距离，对多个所述衍生第二特征点之间的横坐标距离进行中间取值。第三方面，提供一种终端设备，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述任一项所述的方法。第四方面，提供一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现上述任一项所述的方法。本申请实施例提供的技术方案中，通过对于多个图像数据中的目标车辆的追踪，并通过对多个目标车辆中的车灯的识别以及提取车灯中的光晕信息，从而实现目标车辆是否开启远光。此方法将传统算法与深度学习算法相结合，通过视频流的方式将多个车辆进行对应的识别，提高了车辆识别的准确度，并通过对车辆的光晕作为关键特征进行识别和处理实现了对于是否开启远光的识别和跟踪。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。附图中的方法、系统和/或程序将根据示例性实施例进一步描述。这些示例性实施例将参照图纸进行详细描述。这些示例性实施例是非限制的示例性实施例，其中示例数字在附图的各个视图中代表相似的机构。图1是本申请实施例提供的终端设备的结构示意图。图2是本申请的一些实施例所示的智能电子警察违章检测的流程图。图3是本申请实施例提供的通道注意力模块示意图。图4是本申请实施例提供的空间注意力模块示意图。具体实施方式为了更好的理解上述技术方案，下面通过附图以及具体实施例对本申请技术方案做详细的说明，应当理解本申请实施例以及实施例中的具体特征是对本申请技术方案的详细的说明，而不是对本申请技术方案的限定，在不冲突的情况下，本申请实施例以及实施例中的技术特征可以相互组合。在下面的详细描述中，通过实例阐述了许多具体细节，以便提供对相关指导的全面了解。然而，对于本领域的技术人员来说，显然可以在没有这些细节的情况下实施本申请。在其他情况下，公知的方法、程序、系统、组成和/或电路已经在一个相对较高水平上被描述，没有细节，以避免不必要的模糊本申请的方面。本申请中使用流程图说明根据本申请的实施例的系统所执行的执行过程。应当明确理解的是，流程图的执行过程可以不按顺序执行。相反，这些执行过程可以以相反的顺序或同时执行。另外，可以将至少一个其他执行过程添加到流程图。一个或多个执行过程可以从流程图中删除。对本发明实施例进行进一步详细说明之前，对本发明实施例中涉及的名词和术语进行说明，本发明实施例中涉及的名词和术语适用于如下的解释。响应于，用于表示所执行的操作所依赖的条件或者状态，当满足所依赖的条件或状态时，所执行的一个或多个操作可以是实时的，也可以具有设定的延迟；在没有特别说明的情况下，所执行的多个操作不存在执行先后顺序的限制。基于，用于表示所执行的操作所依赖的条件或者状态，当满足所依赖的条件或状态时，所执行的一个或多个操作可以是实时的，也可以具有设定的延迟；在没有特别说明的情况下，所执行的多个操作不存在执行先后顺序的限制。卷积神经网络，是一类包含卷积计算且具有深度结构的前馈神经网络。卷积神经网络是受生物学上感受野的机制而提出的。卷积神经网络专门用来处理具有类似网格结构的数据的神经网络。例如，时间序列数据 和图像数据，在本实施例中采用的卷积神经网络针对于图像数据进行处理。本申请实施例提供的技术方案，主要的应用场景为夜间道路中车辆使用远光灯的状态进行识别。在现有使用场景中，实际解决过程中也面临很多难题，由于现有技术的限制，摄像机的动态范围只有 60-80dB,而实际自然界光强的变化范围非常大，从直射的日光到星光的变化范围在 8 个数量级，即一亿倍。由于摄像机成像的动态范围远小于实际光线的动态范围，在强光背景下，从单独摄像机中很难捕获能够辨别夜间行驶车辆远光灯开闭状态的图像，加之在夜间车辆行驶过程中，周围环境有很大的不同，例如，有些路段的路灯比较密集，光线很亮，有些路段路灯比较稀疏，光线很暗，这时，拍摄到的车辆远近光灯的形态有比较大的差异，很难进行准确的识别。目前主要实现远光识别的检测装置主要有投影式检测仪、屏幕式检测仪、聚光式检测仪以及自动追踪光轴式检测仪等四种。用屏幕和投影对前照灯光束进行检测原理相同，均采是将前照灯光束打在屏幕上或者投影上，然后计算光束投射区域的中心以及投射区域的明暗边缘以及前照灯位置之间的连线的夹角来确定前照灯的投射角度和发散角度。这种方法依靠人工测量计算，比较耗时，效率比较低下，并不适宜自动检测。但检测成本较低。聚光式检测仪和追踪光轴式检测仪采用光电传感器作为检测手段，传感器有硒光电池和硅光电池等，通过对光束达到传感器阵列所产生的电流信号进行分析，自动地检测前照灯的投射角度和发散角，但该方法目前只能对光形状对称的前照灯进行检测。目前，基于计算机视觉的前照灯检测也日趋成熟，该方法利用摄像机CCD 或者 CMOS作为感光元器件，通过对摄像机所采集的图像进行分析，利用机器视觉的方法和图像处理的算法，达到对光形状较为复杂的前照灯的投射光轴和发散角度进行定量测量的目的，可以运用于自动检测，且准确性和快速性均要好于前照灯检测仪。但是由于上述方法对测量环境的要求较高，且只是对车辆远光或近光照射方向及强度的检测，只能对机动车前照灯是否违法改装进行检测，而对司机是否违法使用远光灯的行为无法做出检测。针对于以上的现有技术背景，本实施例提供一种电子设备，此电子设备可作为智能电子警察违章检测系统，实现对于交通环境下的交通参与者的违章行为进行识别，得到违章信息。在本实施例中，参阅图1，电子设备即智能电子警察违章检测系统10包括图像采集装置100、违章信息管理终端200以及与图像采集装置100、违章信息管理终端200通信的边缘服务器300，其中边缘服务器300为核心部件基于图像采集装置100采集到的多个图像信息进行目标识别以及目标的异常识别，得到违章信息。在本实施例中，图像采集装置100为视频装置，实现对于交通环境下按照具体的采集时间间隔对环境进行视频采集，并将采集到的视频进行关键帧的提取得到关键图像数据。在本实施例中，针对于关键帧的获取采用现有的关键帧提取方法进行获得，不再进行累述。参阅图2，提供一种智能电子警察违章检测方法，包括以下过程：步骤S210. 获取目标范围内的实时图像数据。其中，针对于实时图像数据的获取基于图像采集装置实现，而针对于本实施例中的图像采集装置为视频采集装置，其中视频采集装置实现对于目标范围内的视频图像的获取，而针对于本实施例中进行识别的基础数据为图片数据，所以需要对视频数据转换为图片数据，在本实施例中针对于视频数据转换为图片数据的方法为提取视频数据中的关键帧。其中，针对于关键帧的提取方法基于现有技术中的方法即可，在本实施例中不再进行累述。并且，值得注意的是，针对于视频数据的获取基于预设的采集时间进行，其中采集时间的设置基于经验进行设置，例如在交通繁忙的条件下则采集时间间隔较短。步骤S220. 将多个所述实时图像数据分别输入至图像识别装置进行第一特征提取，得到多个含有第一特征的第一特征图。在本实施例中，针对于实时图像数据中包含了多个交通参与者，则在具体的处理过程中需要对多个交通参与者进行分类识别，得到识别结果，并根据识别结果确定对应的需要进行异常识别的交通参与者。具体为，在交通场景中包含了需要进行违章识别的对象以及不需要进行违章识别的对象，则在进行违章识别之前需要对其进行分类和提取。在本实施例中，针对于交通参与者的分类识别通过分割模型进行确定。其中，针对于分割模型包括多个卷积层，每一所述卷积层中配置有多个卷积块和残差块，将所述融合数据输入至第一卷积层，在两个所述卷积层之间的两个残差块之间还设置有注意力处理模块，所述注意力处理模块的输入为卷积块的输出特征，所述卷积块的输入为第一卷积层的残差块的特征，所述注意力处理模块的输出为注意力特征，并将所述注意力特征输入至第二卷积层的残差块中进行特征提取后输入至下一层卷积层，循环操作直至最后卷积层输出目标特征，将所述输出目标特征通过第一卷积集处理得到第一目标特征图。其中，针对于提取中间卷积层以及所述中间卷积层的下一级卷积层获取输出的特征作为输入至第二卷积集、第三卷积集处理得到第二目标特征图和第三目标特征图。还包括与所述第一特征图、所述第二特征图和所述第三特征图对应的多个预测网络，多个所述预测网络设置有与预设识别类型数量相对应的卷积核，通过卷积核处理对预设检测框进行纠偏得到目标检测框，基于所述目标检测框获取多个目标数据，所述目标数据为目标图像。在本实施例中通过对于特征的提取通过引入注意力模型进行，其中注意力模型设置在现有的YOLOv3网络中，其中针对于YOLOv3模型为基于darknet-53的网络。针对于基于darknet-53的YOLOv3模型的结构包括卷积神经网络，在卷积神经网络中设置多个卷积层，其中针对于任意一个卷积层中包括多个卷积块和残差块。此结构为现有技术中的YOLOv3结构，在本实施例中，针对于两个卷积层之间的两个残差块之间设置有注意力处理模块，通过注意力处理模块来加工卷积特征，从而获得更有表征性的特征。因为卷积特征包括空间信息和通道信息，在本实施例中，针对于注意力处理模块放置在这两个主要维度上去关注有意义的特征，通道维度信息和空间维度信息，即包括通道注意力模块和空间注意力模块。针对于通道注意力模块参阅图3所示，包括两个池化层分别为最大池化层和平均池化层，其中最大池化层和平均池化层分别将卷积处理后的特征作为输入，其中最大池化层和平均池化层分别接入第一全连接层、第一激活层、第二全连接层和第二激活层，并针对处理后的特征进行加权处理输入至第三激活层后得到通道注意力特征。在本实施例中，针对于第一激活层和第二激活层中配置有ReLu激活函数，在第三激活层中配置有sigmoid激活函数。此过程针对于通道间的关联性生成一个通道注意力映射。每个通道的特征都是由一个卷积核提取得到，通道注意力模型将聚焦与对于输入特征而言具有代表性的通道特征。其中采用平均池化和最大池化作为压缩输入特征空间维度的方法，通过两个通道输出来减少输入特征的信息丢失。经过池化操作后，生成两个不同的空间信息特征，用一个权值共享的多层感知机网络来提取空间信息特征通道间的关联信息。最后将两个特征相加，再经过Sigmoid函数生成一维的通道注意力映射。针对于空间注意力模型参阅图4所示，同样配置有最大池化层和平均池化层接收输入特征，并通过最大池化层和平均池化层得到的特征进行合并输入至卷积层，将卷积层处理后的特征输入至激活层得到空间注意力特征，其中针对于激活层配置有sigmoid激活函数。通过两种池化过程，提取两个不同的空间信息特征，并将两个特征合并生成一个新的特征映射。通过一个卷积生成一个同尺度的空间注意力映射，这个映射将记录着输入特征各个空间点的关注度权值。具体过程包括：基于一个某卷积特征作为输入特征，按顺序通过一个一维通道注意力映射和一个二维空间注意力映射。整体卷积注意力处理模块过程可以看做以下张量处理：；，其中为一个关于输入特征通道的权重函数，用于对输入特征F的各个通道进行关注权重的赋值。针对于以上模型，提取中间卷积层以及所述中间卷积层的下一级卷积层获取输出的特征作为输入至第二卷积集、第三卷积集处理得到第二目标特征图和第三目标特征图。针对于以上三个目标特征图分别对应不同的尺寸，具体为：针对于第一特征图，由于其没有融合一些比较低维的信息，所以适合预测一些尺寸比较大的目标，也就是其锚点会使用,,三种类型的目标。针对于第二特征图，由于其融合了相对比较低维的信息，所以适合预测一些中等尺寸的目标，也就是该层的锚点会使用,,三种类型的目标。针对于第三特征图，由于其融合了比较低维的信息，所以保留了图像上比较多的细节信息，这适合预测一些小尺寸的目标，也就是该层的anchors会使用,,三种类型的目标。因为每一层的特征图都会预测三种尺寸不同的边界框，而每一个边界框有x，y，w，h，关注权重一共5个参数，而且边界个网格还需要预测多种类别信息，对于nxn的特征矩阵，也就是nxn个网格，所以网络输出的张量应该是：N ×N ×，其中M为待预测种类个数，其数量可以根据使用场景进行配置。以上过程为获取对应的特征图，基于获取的特征图进行分割得到目标数据，在本实施例中针对于特征图的分割通过目标检测框进行预测，其中针对于目标检测框预测三个特征图中分别通过 k个大小为11的卷积核进行卷积预测，k为预设边界框的个数，c为预测目标的类别数，其中4k个参数负责预测目标边界框的偏移量，k个参数负责预测目标边界框内包含目标的概率，ck个参数负责预测这k个预设边界框对应c个目标类别的概率。其中为预设边界框在特征图上的中心坐标，为预设边界框在特征图上的宽和高，分别为网络预测的边界框中心偏移量以及宽高缩放比，为最终预测的目标边界框，其中针对于从预设边界框到最终预测边界框的转换过程如以下公式所示：；；；。其中，其中函数是sigmoid函数，用于将预测偏移量缩放到0到1之间。通过以上的处理能够生成对应的目标检测框，通过目标检测框实现对应目标的识别，即实现了对应目标从原目标特征图中进行分割得到多个目标数据。步骤S230. 比较多个所述第一特征图中的多个第一特征，将含有相同第一特征所对应的所述第一特征图整合为实时图像流。在本实施例中，此过程主要是将多个第一特征图按照时间排序整理为实时图像流，整理成为实时图像流用于后续的第二特征异常的识别。步骤S240. 提取多个特征图像中的第二特征，并比较多个所述第二特征，以多个所述第一特征图的时间节点为判断节点判断两两相邻的所述第二特征的变化率，基于预设的变化率阈值确定目标第二特征。在本实施例中，针对于提取多个所述第一特征图中的第二特征，主要通过将所述第一特征图进行二值化处理得到第一特征灰度图，提取所述符合预设灰度面积阈值的灰度区域为第二特征。其中针对于对第一特征图进行二值化处理可以采用现有的二值化处理方法，在本实施例中不再进行详细的描述，其中针对于获得的第一特征灰度图中包含了不同灰度区域，因为二值化后的图像中因为车灯的明暗度与环境明暗度差别较大，通过二值化处理后的图像较为容易的获得关于车灯灯光区域。但在此过程中，因为涉及到第一特征图中多个符合第一特征的车辆，即在同一图像中存在多个车辆，当车辆距离过近时，需要判断两个车灯属于同一车辆，则在本实施例中此过程还包括识别灰度区域是否属于同一车辆。具体包括以下处理过程：获取两个灰度区域的中心点，并计算两个所述中心点连线的斜率，判断所述斜率是否小于预设值，当所述斜率小于预设值时计算两个所述中心点的横坐标差是否满足约束公式，所述约束公式为：；其中，为两个中心点的横坐标距离，为预设判断阈值，、为两个中心点的横坐标。其中，两个所述中心点的横坐标差满足约束公式时，则两个所述中心点属于同一车辆，即两个所述灰度区域为第二特征对，即属于同一车辆。具体的，在本实施例中，所述判断阈值的确定包括获取与所述第一特征相匹配的多个衍生样本图像，并获取多个所述衍生样本图像中的衍生第二特征点以及多个所述衍生第二特征点之间的横坐标距离，对多个所述衍生第二特征点之间的横坐标距离进行中间取值。其中，针对于实际场景下，判断阈值经以上处理为125。步骤S250. 基于异常识别装置提取所述目标第二特征中的异常特征，将所述异常特征作为异常信息。当步骤S240处理过后，针对于异常识别装置进行异常识别主要为遍历当前图像中经过步骤S240处理后的所有配对的车灯，并生成对应的车灯的车灯灰度曲线，分别获得两车灯灰度曲线的灰度值最低点，分别找寻灰度值最低点的灰度值+20的灰度值点，分别读取两灯的横坐标值，求两横坐标的平均值，得到该车辆在该位置处的光晕范围。针对于在运动过程中的车辆，仅仅通过判断光晕范围无法精准的判断车辆是否开启远光。所以，在本实施例中还通过引入光晕变化指数，根据光晕范围有一集光晕变化指数两个指标进行综合性的判断。具体为：车辆在距离图像采集装置较远时，即目标车辆位置纵坐标值较小时，远光灯的光晕相比近光灯的光晕大，而在近处，远、近光灯的光晕范围均接近于车灯边缘，因此远光灯在图像中由远及近的过程中变化率更大，其数值分布更为离散。在概率统计学中，标准差可衡量组内个体的离散程度。一组数据标准差数值越大，表示组内数据稳定性差，数据变化范围广，变化率高。反之，若标准差小，则说明组内数据较稳定，数据变化范围小，变化率小。故在本实施例中，采用车辆图像流中全部光晕范围值的标准差的大小来表示光晕变化指数的大小，其中针对于光晕变化指数的计算过程为：，其中为光晕变化指数，为光晕范围值。在本实施例中，为了进一步提高对于远光灯判断的准确性，将光晕范围以及光晕变化指数进行融合得到光强指数，基于光强指数对是否开启远光进行判断。，其中为光强指数。其中，n为多个特征图像中的第二特征的数量，中的i为特征图中的第二特征的帧数。本实施例中，针对于光晕范围的获取基于车灯即特征图像中的第二特征的横坐标，其中针对于第二特征的横坐标基于第二特征在特征图像中的帧数进行确定。其中，针对于光晕范围的获得基于确定，其中和分别为当前帧下的第二特征的横坐标值，其中针对于横坐标值的获得基于特征图中的第二特征的帧数进行确定，在本实施例中不再进行详细描述。通过设置光强阈值，将光强指数与光强阈值进行比较，当光强指数大于光强阈值则为远光灯，当光强指数小于光强阈值则为近光灯。需要理解的是，针对上述内容没有进行名词解释的技术术语，本领域技术人员可以根据上述所公开的内容进行前后推导毫无疑义地确定其所指代的含义在此均不作限定。本领域技术人员可以根据上述已公开的内容毫无疑义对一些预设的、基准的、预定的、设定的以及偏好标签的技术特征/技术术语进行确定，例如阈值、阈值区间、阈值范围等。对于一些未作解释的技术特征术语，本领域技术人员完全能够基于前后文的逻辑关系进行合理地、毫无疑义地推导，从而清楚、完整地实施上述技术方案。未作解释的技术特征术语的前缀，例如“第一”、“第二”、“示例”、 “目标”等，可以根据前后文进行毫无疑义地推导和确定。未作解释的技术特征术语的后缀，例如“集合”、“列表”等，也可以根据前后文进行毫无疑义地推导和确定。本申请实施例公开的上述内容对于本领域技术人员而言是清楚完整的。应当理解，本领域技术人员基于上述公开的内容对未作解释的技术术语进行推导和分析的过程是基于本申请所记载的内容进行的，因此上述内容并不是对整体方案的创造性的评判。上文已对基本概念做了描述，显然，对于本领域技术人员来说，上述详细披露仅作为示例，而并不构成对本申请的限定。虽然此处并没有明确说明，本领域技术人员可以对本申请进行各种修改、改进和修正。该类修改、改进和修正在本申请中被建议，所以该类修改、改进、修正仍属于本申请示范实施例的精神和范围。同时，本申请使用了特定术语来描述本申请的实施例。如“一个实施例”、“一实施例”、和/或“一些实施例”意指与本申请至少一个实施例相关的某一特征、结构或特点。因此，应强调并注意的是，本说明书中在不同部分两次或多次提到的“一实施例”或“一个实施例”或“一替代性实施例”并不一定是指同一实施例。此外，本申请的至少一个实施例中的某些特征、结构或特点可以进行适当的组合。另外，本领域普通技术人员可以理解的是，本申请的各个方面可以通过若干具有可专利性的种类或情况进行说明和描述，包括任何新的和有用的工序、机器、产品或物质的组合，或对他们任何新的和有用的改进。相应地，本申请的各个方面可以完全由硬件执行、可以完全由软件执行、也可以由硬件和软件组合执行。以上硬件或软件均可以被称为“单元”、“组件”或“系统”。此外，本申请的各方面可以表现为位于至少一个计算机可读介质中的计算机产品，所述产品包括计算机可读程序编码。计算机可读信号介质可能包含一个内含有计算机程序编码的传播数据信号，例如在基带上或作为载波的一部分。该传播信号可能有多种表现形式，包括电磁形式、光形式等等、或合适的组合形式。计算机可读信号介质可以是除计算机可读存储介质之外的任何计算机可读介质，该介质可以通过连接至一个指令执行系统、装置或设备以实现通讯、传播或传输供使用的程序。位于计算机可读信号介质上的程序编码可以通过任何合适的介质进行传播，包括无线电、电缆、光纤缆线、RF、或类似介质、或任何上述介质的组合。本申请各方面执行所需的计算机程序码可以用一种或多种程序语言的任意组合编写，包括面向对象程序设计，如Java、Scala、Smalltalk、Eiffel、JADE、Emerald、C++、C#、VB.NET，Python等，或类似的常规程序编程语言，如"C"编程语言，Visual Basic，Fortran2003，Perl，COBOL 2002，PHP，ABAP，动态编程语言如Python，Ruby和Groovy或其它编程语言。所述程式设计编码可以完全在用户计算机上执行、或作为独立的软体包在用户计算机上执行、或部分在用户计算机上执行部分在远程计算机执行、或完全在远程计算机或服务器上执行。在后种情况下，远程计算机可以通过任何网络形式与用户计算机连接，比如局域网络或广域网，或连接至外部计算机，或在云计算环境中，或作为服务使用如软件即服务。此外，除非申请专利范围中明确说明，本申请所述处理元件和序列的顺序、数位字母的使用、或其他名称的使用，并非用于限定本申请流程和方法的顺序。尽管上述披露中通过各种示例讨论了一些目前认为有用的发明实施例，但应当理解的是，该类细节仅起到说明的目的，附加的申请专利范围并不仅限于披露的实施例，相反，申请专利范围旨在覆盖所有符合本申请实施例实质和范围的修正和等价组合。例如，虽然以上所描述的系统组件可以通过硬件装置实现，但是也可以只通过软件的解决方案得以实现，如在现有的服务器或行动装置上安装所描述的系统。同样应当理解的是，为了简化本申请揭示的表述，从而帮助对至少一个发明实施例的理解，前文对本申请实施例的描述中，有时会将多种特征归并至一个实施例、附图或对其的描述中。但是，这种披露方法并不意味着本申请对象所需要的特征比权利要求中提及的特征多。实际上，实施例的特征要少于上述披露的单个实施例的全部特征。
