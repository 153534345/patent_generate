标题title
一种基于客户端数据的退票方案定制方法及系统
摘要abst
本发明涉及一种于基于客户端数据的退票方案定制方法及系统，所述方法包括如下步骤：获取客户端的实际购票数据、原始购票数据、退票数据及所有优惠数据；获取原始购票数据和退票数据之间的差异并形成剩余购票数据；将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据；将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端。本发明对于需要进行部分退票的用户来说，可以根据用户的剩余购票数据重新利用分级的优惠数据进行处理，从而得到用户最优惠的的余票购票数据，使得在不损害商家利益的情况下退款额度最大化。
权利要求书clms
1.一种基于客户端数据的退票方案定制方法，其特征在于：所述方法包括如下步骤：获取客户端的实际购票数据、原始购票数据、退票数据及所有优惠数据；获取原始购票数据和退票数据之间的差异并形成剩余购票数据；将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据；将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端。2.根据权利要求1中所述的基于客户端数据的退票方案定制方法，其特征在于：所述实际购票数据包括实际购票数量数据和实际票面价值数据，所述原始购票数据包括原始购票数量数据和原始票面价值数据，所述退票数据包括退票数量数据。3.根据权利要求2中所述的基于客户端数据的退票方案定制方法，其特征在于：所述获取原始购票数据和退票数据之间的差异并形成剩余购票数据，具体为：将原始购票数量数据扣除退票数量数据后形成剩余购票数量数据，所述剩余购票数量数据和原始票面价值数据形成剩余购票数据。4.根据权利要求3中所述的基于客户端数据的退票方案定制方法，其特征在于：所述优惠数据包括优惠条件数据和优惠折扣数据；所述将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据，包括如下步骤：将所有优惠数据按照预设的优先级进行分级使同一优先级内至少存在一个优惠数据；按照各级优惠数据的优先级顺序依次使用各级的优惠折扣数据对剩余购票数据的剩余购票数量数据和/或原始票面价值数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据。5.根据权利要求4中所述的基于客户端数据的退票方案定制方法，其特征在于：所述使用各级的优惠折扣数据对剩余购票数据的剩余购票数量数据和/或原始票面价值数据进行处理，包括如下步骤：利用所述剩余购票数量数据和/或原始票面价值数据对处于第n优先级内的任意优惠条件数据的进行匹配并列出所有匹配结果，根据所述匹配结果利用对应的优惠折扣数据对剩余购票数量数据和/或原始票面价值数据进行处理并得到处理后的第n票面价值数据，n≥2，且n为整数。6.根据权利要求5中所述的基于客户端数据的退票方案定制方法，其特征在于：所述将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端，包括如下步骤：对经过最后一级的优惠数据处理后得到的余票购票数据的数量进行判断；若数量等于一个，则将实际票面价值数据扣除第n票面价值数据后的差值作为最优退票方案输出至所述客户端；若数量大于一个，则对至少两个处理后的余票购票数据的第n票面价值数据进行价值大小对比并选定其中最小者，将实际票面价值数据扣除最小的第n票面价值数据后的差值作为最优退票方案输出至所述客户端。7.根据权利要求6中所述的基于客户端数据的退票方案定制方法，其特征在于：所述实际购票数据还包括实际赠品数据，所述优惠数据还包括余票赠品数据；所述将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端，还包括如下步骤：对实际赠品数据和余票赠品数据的一致情况以及实际赠品数据的使用情况进行判断；若二者一致且实际赠品未被使用，则不对实际赠品数据进行处理；若二者一致且实际赠品已被使用，则不对实际赠品数据进行处理；若二者不一致且实际赠品未被使用，则扣除实际赠品数据；若二者不一致且实际赠品已被使用，则获取实际赠品数据的赠品价值数据，将实际票面价值数据扣除最小的第n票面价值数据后再扣除赠品价值数据的差值作为最优退票方案输出至所述客户端。8.一种基于客户端数据的退票方案定制系统，其特征在于，所述系统包括：客户端数据获取模块，所述客户端数据获取模块用于获取客户端的实际购票数据、原始购票数据、退票数据及所有优惠数据；剩余购票数据获取模块，所述剩余购票数据获取模块用于获取原始购票数据和退票数据之间的差异并形成剩余购票数据；余票购票数据分级处理模块，所述余票购票数据分级处理模块用于将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据；方案输出模块，所述方案输出模块用于将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端。9.根据权利要求8中所述的基于客户端数据的退票方案定制系统，其特征在于：所述购票数据分级处理模块包括：数据分级子模块，所述数据分级模块用于将所有优惠数据按照预设的优先级进行分级使同一优先级内至少存在一个优惠数据；数据处理子模块，所述数据处理子模块用于按照各级优惠数据的优先级顺序依次使用各级的优惠折扣数据对剩余购票数据的剩余购票数量数据和/或原始票面价值数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据。10.根据权利要求8中所述的基于客户端数据的退票方案定制系统，其特征在于：所述方案输出模块包括：方案判断模块，所述方案判断模块用于对经过最后一级的优惠数据处理后得到的余票购票数据的数量进行判断；若数量等于一个，则将实际票面价值数据扣除第n票面价值数据后的差值作为最优退票方案输出至所述客户端；若数量大于一个，则对至少两个处理后的余票购票数据的第n票面价值数据进行价值大小对比并选定其中最小者，将实际票面价值数据扣除最小的第n票面价值数据后的差值作为最优退票方案输出至所述客户端。赠品判断模块，所述赠品判断模块用于对实际赠品数据和余票赠品数据的一致情况以及实际赠品数据的使用情况进行判断；若二者一致且实际赠品未被使用，则不对实际赠品数据进行处理；若二者一致且实际赠品已被使用，则不对实际赠品数据进行处理；若二者不一致且实际赠品未被使用，则扣除实际赠品数据；若二者不一致且实际赠品已被使用，则获取实际赠品数据的赠品价值数据，将实际票面价值数据扣除最小的第n票面价值数据后再扣除赠品价值数据的差值作为最优退票方案输出至所述客户端。
说明书desc
技术领域本发明涉及购票技术领域，具体涉及一种于基于客户端数据的退票方案定制方法及系统。背景技术对于演艺场馆的商家来说，利用互联网在线进行售票能够提高用户的购票积极性，但与此同时，退票情况也时有发生，对于全部退票的用户来说，只需要将金额全额退回即可。但是商家在通过网络渠道售票时，一般会附加多种不同种类的优惠，基于这些优惠情况，在出现部分退票时，如何合理地处置退票的金额才能够在不对商家造成损失的同时最大程度保障用户利益成为了亟待解决的问题。发明内容本发明所要解决的技术问题是，提供了一种能够不对商家造成损失的同时最大程度保障用户利益的基于客户端数据的退票方案定制方法及系统。本发明解决其技术问题所采用的其中一种技术方案是：一种基于客户端数据的退票方案定制方法，所述方法包括如下步骤：获取客户端的实际购票数据、原始购票数据、退票数据及所有优惠数据；获取原始购票数据和退票数据之间的差异并形成剩余购票数据；将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据；将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端。具体的，所述实际购票数据包括实际购票数量数据和实际票面价值数据，所述原始购票数据包括原始购票数量数据和原始票面价值数据，所述退票数据包括退票数量数据。具体的，所述获取原始购票数据和退票数据之间的差异并形成剩余购票数据，具体为：将原始购票数量数据扣除退票数量数据后形成剩余购票数量数据，所述剩余购票数量数据和原始票面价值数据形成剩余购票数据。具体的，所述优惠数据包括优惠条件数据和优惠折扣数据；所述将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据，包括如下步骤：将所有优惠数据按照预设的优先级进行分级使同一优先级内至少存在一个优惠数据；按照各级优惠数据的优先级顺序依次使用各级的优惠折扣数据对剩余购票数据的剩余购票数量数据和/或原始票面价值数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据。具体的，所述使用各级的优惠折扣数据对剩余购票数据的剩余购票数量数据和/或原始票面价值数据进行处理，包括如下步骤：利用所述剩余购票数量数据和/或原始票面价值数据对处于第n优先级内的任意优惠条件数据的进行匹配并列出所有匹配结果，根据所述匹配结果利用对应的优惠折扣数据对剩余购票数量数据和/或原始票面价值数据进行处理并得到处理后的第n票面价值数据，n≥2，且n为整数。具体的，所述将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端，包括如下步骤：对经过最后一级的优惠数据处理后得到的余票购票数据的数量进行判断；若数量等于一个，则将实际票面价值数据扣除第n票面价值数据后的差值作为最优退票方案输出至所述客户端；若数量大于一个，则对至少两个处理后的余票购票数据的第n票面价值数据进行价值大小对比并选定其中最小者，将实际票面价值数据扣除最小的第n票面价值数据后的差值作为最优退票方案输出至所述客户端。具体的，所述实际购票数据还包括实际赠品数据，所述优惠数据还包括余票赠品数据；所述将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端，还包括如下步骤：对实际赠品数据和余票赠品数据的一致情况以及实际赠品数据的使用情况进行判断；若二者一致且实际赠品未被使用，则不对实际赠品数据进行处理；若二者一致且实际赠品已被使用，则不对实际赠品数据进行处理；若二者不一致且实际赠品未被使用，则扣除实际赠品数据；若二者不一致且实际赠品已被使用，则获取实际赠品数据的赠品价值数据，将实际票面价值数据扣除最小的第n票面价值数据后再扣除赠品价值数据的差值作为最优退票方案输出至所述客户端。本发明中基于客户端数据的退票方案定制方法的有益效果在于：对于需要进行部分退票的用户来说，可以根据用户的剩余购票数据重新利用分级的优惠数据进行处理，从而得到用户最优惠的的余票购票数据，使得在不损害商家利益的情况下退款额度最大化。本发明解决其技术问题所采用的另一种技术方案是：一种基于客户端数据的退票方案定制系统，所述系统包括：客户端数据获取模块，所述客户端数据获取模块用于获取客户端的实际购票数据、原始购票数据、退票数据及所有优惠数据；剩余购票数据获取模块，所述剩余购票数据获取模块用于获取原始购票数据和退票数据之间的差异并形成剩余购票数据；余票购票数据分级处理模块，所述余票购票数据分级处理模块用于将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据；方案输出模块，所述方案输出模块用于将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端。具体的，所述购票数据分级处理模块包括：数据分级子模块，所述数据分级模块用于将所有优惠数据按照预设的优先级进行分级使同一优先级内至少存在一个优惠数据；数据处理子模块，所述数据处理子模块用于按照各级优惠数据的优先级顺序依次使用各级的优惠折扣数据对剩余购票数据的剩余购票数量数据和/或原始票面价值数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据。具体的，所述方案输出模块包括：方案判断模块，所述方案判断模块用于对经过最后一级的优惠数据处理后得到的余票购票数据的数量进行判断；若数量等于一个，则将实际票面价值数据扣除第n票面价值数据后的差值作为最优退票方案输出至所述客户端；若数量大于一个，则对至少两个处理后的余票购票数据的第n票面价值数据进行价值大小对比并选定其中最小者，将实际票面价值数据扣除最小的第n票面价值数据后的差值作为最优退票方案输出至所述客户端。赠品判断模块，所述赠品判断模块用于对实际赠品数据和余票赠品数据的一致情况以及实际赠品数据的使用情况进行判断；若二者一致且实际赠品未被使用，则不对实际赠品数据进行处理；若二者一致且实际赠品已被使用，则不对实际赠品数据进行处理；若二者不一致且实际赠品未被使用，则扣除实际赠品数据；若二者不一致且实际赠品已被使用，则获取实际赠品数据的赠品价值数据，将实际票面价值数据扣除最小的第n票面价值数据后再扣除赠品价值数据的差值作为最优退票方案输出至所述客户端。本发明中基于客户端数据的退票方案定制系统的有益效果在于：通过对客户端的数据进行获取能够实现对部分退票用户的余票购票数据进行优惠处理，从而使用户的退票额度最大化，简化了用户的退票流程，进而提高了用户的退票满意度。附图说明下面结合附图和实施例对本发明进一步说明。图1为本发明基于客户端数据的退票方案定制方法的流程图；图2为本发明余票购票数据分级处理的流程图；图3为本发明赠品判断的流程图；图4为本发明基于客户端数据的退票方案定制系统的结构示意图；具体实施方式为了使本发明实现的技术手段、创作特征、达成目的与功效易于明白了解，下面结合具体实施方式，进一步阐述本发明。如图1所示，本发明所述一种基于客户端数据的退票方案定制方法，所述方法包括如下步骤：获取客户端的实际购票数据、原始购票数据、退票数据及所有优惠数据；获取原始购票数据和退票数据之间的差异并形成剩余购票数据；将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据；将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端。在某些进一步的实施例中，所述实际购票数据包括实际购票数量数据和实际票面价值数据，所述原始购票数据包括原始购票数量数据和原始票面价值数据，所述退票数据包括退票数量数据。其中，实际购票数量数据具体为用户实际购票的数量信息所形成的数据，而实际票面价值数据具体为用户实际支付时的费用信息所形成的数据，原始购票数量数据具体为用户原始需要购买的购票数量信息所形成的数据，原始票面价值数据具体为原始购票数量数据在未经过优惠数据处理时所对应的票面价值信息所形成的数据，退票数量数据具体为用户需要退票的数量信息所形成的数据。在某些进一步的实施例中，所述获取原始购票数据和退票数据之间的差异并形成剩余购票数据，具体为：将原始购票数量数据扣除退票数量数据后形成剩余购票数量数据，所述剩余购票数量数据和原始票面价值数据形成剩余购票数据。其中，由于剩余购票数据需要重新进行优惠的配置，因此需要沿用原始票面价值数据以确保优惠配置的合理性。在某些进一步的实施例中，如图2所示，所述优惠数据包括优惠条件数据和优惠折扣数据；其中，优惠条件数据具体为优惠可以使用的前置条件信息所形成的数据，优惠折扣数据具体为优惠可对票价进行减免所对应的折扣比例所形成的数据，在某些具体的实施例中，优惠数据为满减，具体满减优惠可以是满300减30，则优惠条件数据为票面价值数据等于300元，超出300元部分另计，优惠折扣数据为0.9；此外优惠数据还可以是折扣，例如半价优惠，则优惠条件数据为票面价值为任意金额，优惠折扣数据为0.5；所述将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据，包括如下步骤：将所有优惠数据按照预设的优先级进行分级使同一优先级内至少存在一个优惠数据；按照各级优惠数据的优先级顺序依次使用各级的优惠折扣数据对剩余购票数据的剩余购票数量数据和/或原始票面价值数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据。其中，对剩余购票数据进行处理的优惠数据与对原始购票数据进行处理的优惠数据可以是相同的。优惠数据可以是满减、折扣、折上折、满额赠礼等，其中满减和折扣为第1优先级，折上折为第2优先级，满额赠礼为第3优先级，在使用各级优惠数据对剩余购票数据进行处理时，按照以上预设的优先级进行依次处理，剩余购票数据在被各级优惠数据所处理后将处理后得到余票购票数据。在某些进一步的实施例中，如图2所示，所述使用各级的优惠折扣数据对剩余购票数据的剩余购票数量数据和/或原始票面价值数据进行处理，包括如下步骤：利用所述剩余购票数量数据和/或原始票面价值数据对处于第n优先级内的任意优惠条件数据的进行匹配并列出所有匹配结果，根据所述匹配结果利用对应的优惠折扣数据对剩余购票数量数据和/或原始票面价值数据进行处理并得到处理后的第n票面价值数据，n≥2，且n为整数。其中，同一个剩余购票数据在同一优先级进行计算时，能够对剩余购票数据中的剩余购数量数据进行拆分从而使拆分后不同原始票面价值数据分别满足同一优先级内的不同优惠条件数据的以达到最优惠的计算目的。在某些进一步的实施例中，如图2所示，所述将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端，包括如下步骤：对经过最后一级的优惠数据处理后得到的余票购票数据的数量进行判断；若数量等于一个，则将实际票面价值数据扣除第n票面价值数据后的差值作为最优退票方案输出至所述客户端；若数量大于一个，则对至少两个处理后的余票购票数据的第n票面价值数据进行价值大小对比并选定其中最小者，将实际票面价值数据扣除最小的第n票面价值数据后的差值作为最优退票方案输出至所述客户端。其中，余票购票数据中包括第n票面价值数据，若优惠数据可按照优先级分为3级，则第n票面价值数据即为第3票面价值数据；若是第1优先级、第2优先级和第3优先级中分别具有两种不同的优惠数据，则在剩余购票数据能够满足所有优惠数据的优惠条件数据的情况下，至少能够得到8种不同的余票购票数据。在某些进一步的实施例中，如图3所示，所述实际购票数据还包括实际赠品数据，所述优惠数据还包括余票赠品数据；所述将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端，还包括如下步骤：对实际赠品数据和余票赠品数据的一致情况以及实际赠品数据的使用情况进行判断；若二者一致且实际赠品未被使用，则不对实际赠品数据进行处理；若二者一致且实际赠品已被使用，则不对实际赠品数据进行处理；若二者不一致且实际赠品未被使用，则扣除实际赠品数据；若二者不一致且实际赠品已被使用，则获取实际赠品数据的赠品价值数据，将实际票面价值数据扣除最小的第n票面价值数据后再扣除赠品价值数据的差值作为最优退票方案输出至所述客户端。如图4所示，本发明所述的一种基于客户端数据的退票方案定制系统，所述系统包括：客户端数据获取模块，所述客户端数据获取模块用于获取客户端的实际购票数据、原始购票数据、退票数据及所有优惠数据；剩余购票数据获取模块，所述剩余购票数据获取模块用于获取原始购票数据和退票数据之间的差异并形成剩余购票数据；余票购票数据分级处理模块，所述余票购票数据分级处理模块用于将所有优惠数据按照预设的优先级进行分级，按照各级优惠数据的优先级依次对剩余购票数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据；方案输出模块，所述方案输出模块用于将实际购票数据扣除余票购票数据的部分作为最优退票方案输出至所述客户端。在某些进一步的实施例中，所述购票数据分级处理模块包括：数据分级子模块，所述数据分级模块用于将所有优惠数据按照预设的优先级进行分级使同一优先级内至少存在一个优惠数据；数据处理子模块，所述数据处理子模块用于按照各级优惠数据的优先级顺序依次使用各级的优惠折扣数据对剩余购票数据的剩余购票数量数据和/或原始票面价值数据进行处理直至剩余购票数据被各级优惠数据所处理得到余票购票数据。在某些进一步的实施例中，所述方案输出模块包括：方案判断模块，所述方案判断模块用于对经过最后一级的优惠数据处理后得到的余票购票数据的数量进行判断；若数量等于一个，则将实际票面价值数据扣除第n票面价值数据后的差值作为最优退票方案输出至所述客户端；若数量大于一个，则对至少两个处理后的余票购票数据的第n票面价值数据进行价值大小对比并选定其中最小者，将实际票面价值数据扣除最小的第n票面价值数据后的差值作为最优退票方案输出至所述客户端。赠品判断模块，所述赠品判断模块用于对实际赠品数据和余票赠品数据的一致情况以及实际赠品数据的使用情况进行判断；若二者一致且实际赠品未被使用，则不对实际赠品数据进行处理；若二者一致且实际赠品已被使用，则不对实际赠品数据进行处理；若二者不一致且实际赠品未被使用，则扣除实际赠品数据；若二者不一致且实际赠品已被使用，则获取实际赠品数据的赠品价值数据，将实际票面价值数据扣除最小的第n票面价值数据后再扣除赠品价值数据的差值作为最优退票方案输出至所述客户端。其中，本发明基于客户端数据的退票方案定制系统的定制方法可参照上述基于客户端数据的退票方案定制方法中的各个实施例进行实施，此处不再赘述。在本发明的一个具体的实施例中，如图4所示，所述系统利用客户端数据获取模块获取客户端的实际购票数据、原始购票数据、退票数据及所有优惠数据。实际购票数据包括实际购票数量数据为11，11张票的实际票面价值数据为900，且包含一个价值为100的优惠券作为实际赠品数据；原始购票数据包括原始购票数量数据为11，11张票的原始票面价值数据为1100，则单张票的原始票面价值数据为100；退票数据包括退票数量数据为3；优惠数据则分为满3张票打9折、满2张票打9.5折、折后满500减50、折后满400减30、付款满800送100元购票优惠券共5种。利用剩余购票数据获取模块获取原始购票数量数据11扣除退票数量数据3后形成剩余购票数量数据为8，剩余购票数量数据8结合8张票的原始票面价值数据为800，则形成了剩余购票数据。随后利用余票购票数据分级处理模块，将所有优惠数据按照预设的优先级进行分级使同一优先级内至少存在一个优惠数据。其中，先利用数据分级子模块将所有优惠数据按照预设的优先级进行分级使同一优先级内至少存在一个优惠数据，分级后的各个优惠数据所对应的优惠条件数据和优惠折扣数据如下表1所示。表1再利用数据处理子模块按照各级优惠数据的优先级顺序依次使用各级的优惠折扣数据对剩余购票数量数据和/或原始票面价值数据进行处理直至剩余购票数据被各级优惠数据所处理并得到最终的余票购票数据，若优惠数据中存在赠品数据，则将各级优惠数据中的赠品数据作为余票赠品数据累计至处理后的余票购票数据中。以表1中所展示的优惠数据为例，利用剩余购票数量数据为8对处于第1优先级内的“购票数量等于3”以及“购票数量等于2”进行匹配并列出所有匹配结果，匹配后的最优结果为共8张票，其中6张票按照“购票数量等于3”的条件进行折扣的计算，剩余2张票按照“购票数量等于2”的条件进行折扣的计算，则经过第1优先级的优惠数据处理后，对应的第1票面价值数据为2*+＝730；利用第1票面价值为730对处于第2优先级内的“票面价值数据等于500”以及“票面价值数据等于400”进行匹配并列出所有匹配结果，匹配后的最优结果为第1票面价值730中的500按照“票面价值数据等于500”的条件进行折扣的计算，剩余230元则不计算优惠，则经过第2优先级的优惠数据处理后，对应的第2票面价值数据为500*0.9+230＝680；利用第2票面价值数据为680对处于第2优先级内的“票面价值数据等于800”进行处理，由于第2票面价值数据为680无法满足“票面价值数据等于800”这一优惠条件，因此第3票面价值数据等于第2票面价值数据为680且无法拥有赠品数据。最终得到的余票购票数据包括第3票面价值数据为680，余票数量数据为8，且不含有余票赠品数据。最后，利用方案判断模块对经过余票购票数据的数量进行判断，本实施例中的余票购票数据有至少4个，本实施例中对4个处理后的余票购票数据的第3票面价值数据进行价值大小对比并选定其中最小者，即上述第3票面价值数据为680所对应的余票购票数据，其余的余票购票数据未作展示，将实际票面价值数据900扣除最小的第3票面价值数据680后的差值为220。其中，由于实际购票数据还包括实际赠品数据，因此还需要使用赠品判断模块对实际赠品数据和余票赠品数据的一致情况以及实际赠品数据的使用情况进行判断，在本实施例中，实际赠品数据和余票赠品数据不一致，则需要扣除用户未使用的实际赠品数据，即“价值为100的优惠券”，并将差值为220作为最优退票方案输出至所述客户端；若用户的“价值为100的优惠券”已被使用，则获取实际赠品数据的赠品价值数据为100，将实际票面价值数据900扣除最小的第3票面价值数据680后再扣除赠品价值数据100的差值120作为最优退票方案输出至所述客户端。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储与一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的和实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可以包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM通过多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双速据率SDRAM、增强型SDRAM、同步链路DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其它变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、装置、物品或者方法不仅包括那些要素，而且还包括没有明确列出的其它要素，或者是还包括为这种过程、装置、物品或者方法所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、装置、物品或者方法中还存在另外的相同要素。以上显示和描述了本发明的基本原理、主要特征和优点。本行业的技术人员应该了解，本发明不受上述实施例的限制，上述实施方式和说明书中的描述的只是说明本发明的原理，在不脱离本发明精神和范围的前提下，本发明还会有各种变化和改进，这些变化和改进都落入本发明要求保护的范围内。本发明要求保护范围由所附的权利要求书及其等效物界定。
