标题title
一种木结构连接节点的参数化设计方法、系统及存储介质
摘要abst
本发明属于木结构连接节点设计技术领域。本发明实施例提供一种木结构连接节点的参数化设计方法、系统及存储介质，包括：设定木结构的节点样式以及节点参数；根据所述木结构的节点样式以及节点参数，拾取用于生成木结构连接节点的两个构件；获取所述两个构件的中轴线；将两个构件的中轴线以不同夹角相交使用同一节点参数，生成多个夹角不同的中轴线对；根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型。实现了同时建立多个夹角不同的两个构件连接节点三维模型，解决了现有技术对于连接角度不同的不同构件的设计中需要全部手动重新建立三维模型导致的效率低容易出错的技术问题。
权利要求书clms
1.一种木结构连接节点的参数化设计方法，其特征在于，包括：设定木结构的节点样式以及节点参数；根据所述木结构的节点样式以及节点参数，拾取用于生成木结构连接节点的两个构件；获取所述两个构件的中轴线；将两个构件的中轴线以不同夹角相交使用同一节点参数，生成多个夹角不同的中轴线对；根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型。2.如权利要求1所述木结构连接节点的参数化设计方法，其特征在于，根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型；包括：对各个夹角不同的中轴线对对应的两个构件生成端板实体、插板实体和螺栓三维模型；将各个夹角不同的中轴线对对应生成的端板实体、插板实体和螺栓三维模型做布尔交集，生成多个夹角不同的两个构件连接节点三维模型。3.如权利要求2所述木结构连接节点的参数化设计方法，其特征在于，对各个夹角不同的中轴线对对应的两个构件生成端板实体、插板实体和螺栓三维模型；包括：获取两个构件的用于相互连接的连接面；将一个构件的连接面沿连接面的法向偏移一定距离，得到端板实体；将另一个构件的连接面沿所述另一个构件的中轴线偏移所述一定距离，得到插板实体；根据端板实体和插板实体的高度和宽度以及螺栓群的参数计算各个螺栓在端板实体和插板实体上的位置；根据螺栓的位置以及法向偏移的所述一定距离，生成螺栓三维模型。4.如权利要求3所述木结构连接节点的参数化设计方法，其特征在于，根据端板实体和插板实体的高度和宽度以及螺栓群的参数计算各个螺栓在端板实体和插板实体上的位置；包括：根据以下公式计算螺栓群的参数；所述螺栓群的参数包括：螺栓群的高度、螺栓群宽度、螺栓群距离端板实体或插板实体左边距的距离和螺栓群距离端板实体或插板实体顶边距的距离；螺栓群的高度=螺栓行数*螺栓行间距；螺栓群宽度=螺栓列数*螺栓列间距；螺栓群距离端板实体或插板实体左边距的距离=/ 2；螺栓群距离端板实体或插板实体顶边距的距离=/ 2。5.如权利要求3所述木结构连接节点的参数化设计方法，其特征在于，根据螺栓的位置以及法向偏移的所述一定距离，生成螺栓三维模型；包括：根据端板实体的法线和螺栓的位置，利用平移变换，得到螺栓处端板实体的法线；在端板实体所在平面上的螺栓位置处，根据螺栓的半径绘制圆，利用所绘制的圆沿螺栓处端板实体的法线放样得到螺栓三维模型。6.如权利要求1-5任意一项所述木结构连接节点的参数化设计方法，其特征在于，还包括：修改所述同一节点参数生成新的同一节点参数；根据新的同一节点参数以及多个夹角不同的中轴线对，生成新的多个夹角不同的两个构件连接节点三维模型。7.一种木结构连接节点的参数化设计系统，其特征在于，包括：设定单元，用于设定木结构的节点样式以及节点参数；拾取单元，用于根据所述木结构的节点样式以及节点参数，拾取用于生成木结构连接节点的两个构件；获取单元，用于获取所述两个构件的中轴线；第一生成单元，用于将两个构件的中轴线以不同夹角相交使用同一节点参数，生成多个夹角不同的中轴线对；以及第二生成单元，用于根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型。8.如权利要求7所述木结构连接节点的参数化设计系统，其特征在于，第二生成单元，还用于：对各个夹角不同的中轴线对对应的两个构件生成端板实体、插板实体和螺栓三维模型；将各个夹角不同的中轴线对对应生成的端板实体、插板实体和螺栓三维模型做布尔交集，生成多个夹角不同的两个构件连接节点三维模型。9.如权利要求7所述木结构连接节点的参数化设计系统，其特征在于，还包括管理单元，所述管理单元用于：修改所述同一节点参数生成新的同一节点参数；根据新的同一节点参数以及多个夹角不同的中轴线对，生成新的多个夹角不同的两个构件连接节点三维模型。10.一种存储介质，其特征在于，所述存储介质上存储有指令，当所述指令在计算机上运行时，执行如权利要求1-6任意一项所述木结构连接节点的参数化设计方法。
说明书desc
技术领域本发明属于木结构连接节点设计技术领域，具体涉及一种木结构连接节点的参数化设计方法、系统及存储介质。背景技术木结构建筑在近些年来，因为其环保、低碳且可以工厂加工，现场快速拼装的属性，已经慢慢在国内普及开来。在现有的木结构建筑设计之中，设计人员对于其中种类繁多且连接角度各异的节点建模均是通过手动建模来完成。在木结构设计中，木构件和木构件之间的连接节点繁多，由于不同构件之间连接角度的不同，节点也会不同。这就造成了在一个木结构设计项目之中，即使可能只有一种节点，但因为构件连接角度的不同，设计人员需要把所有不同的节点手动建立三维模型，更别说一个项目之中一般会有多种类型的节点。同时对于后续项目出图的来说，设计人员给出同一类型的所有节点的详图工作量太大，一般无法实现。在现有的技术方案中，设计人员只会给出一个类型节点某一角度的标准节点详图，而其余角度的节点则有后续的加工厂商根据标准节点详图去深化。在这样的工作流之中，不仅建模速度慢，效率低，且节点较多的时候容易出错，同时当涉及将项目中某一类型节点更改为另一类型的节点时候，所有同一类型不同角度的节点都需要去重新建模一次，极大的降低了设计工作人员的效率。发明内容为解决现有技术对于连接角度不同的不同构件的设计中需要全部手动重新建立三维模型导致的效率低容易出错的技术问题，本发明实施例提供一种木结构连接节点的参数化设计方法。本发明实施例通过下述技术方案实现：第一方面，本发明实施例提供一种木结构连接节点的参数化设计方法，包括：设定木结构的节点样式以及节点参数；根据所述木结构的节点样式以及节点参数，拾取用于生成木结构连接节点的两个构件；获取所述两个构件的中轴线；将两个构件的中轴线以不同夹角相交使用同一节点参数，生成多个夹角不同的中轴线对；根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型。进一步的，根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型；包括：对各个夹角不同的中轴线对对应的两个构件生成端板实体、插板实体和螺栓三维模型；将各个夹角不同的中轴线对对应生成的端板实体、插板实体和螺栓三维模型做布尔交集，生成多个夹角不同的两个构件连接节点三维模型。进一步的，对各个夹角不同的中轴线对对应的两个构件生成端板实体、插板实体和螺栓三维模型；包括：获取两个构件的用于相互连接的连接面；将一个构件的连接面沿连接面的法向偏移一定距离，得到端板实体；将另一个构件的连接面沿所述另一个构件的中轴线偏移所述一定距离，得到插板实体；根据端板实体和插板实体的高度和宽度以及螺栓群的参数计算各个螺栓在端板实体和插板实体上的位置；根据螺栓的位置以及法向偏移的所述一定距离，生成螺栓三维模型。进一步的，根据端板实体和插板实体的高度和宽度以及螺栓群的参数计算各个螺栓在端板实体和插板实体上的位置；包括：根据以下公式计算螺栓群的参数；所述螺栓群的参数包括：螺栓群的高度、螺栓群宽度、螺栓群距离端板实体或插板实体左边距的距离和螺栓群距离端板实体或插板实体顶边距的距离；螺栓群的高度=螺栓行数*螺栓行间距；螺栓群宽度=螺栓列数*螺栓列间距；螺栓群距离端板实体或插板实体左边距的距离=/ 2；螺栓群距离端板实体或插板实体顶边距的距离=/ 2。进一步的，根据螺栓的位置以及法向偏移的所述一定距离，生成螺栓三维模型；包括：根据端板实体的法线和螺栓的位置，利用平移变换，得到螺栓处端板实体的法线；在端板实体所在平面上的螺栓位置处，根据螺栓的半径绘制圆，利用所绘制的圆沿螺栓处端板实体的法线放样得到螺栓三维模型。进一步的，还包括：修改所述同一节点参数生成新的同一节点参数；根据新的同一节点参数以及多个夹角不同的中轴线对，生成新的多个夹角不同的两个构件连接节点三维模型。第二方面，本发明实施例提供一种木结构连接节点的参数化设计系统，包括：设定单元，用于设定木结构的节点样式以及节点参数；拾取单元，用于根据所述木结构的节点样式以及节点参数，拾取用于生成木结构连接节点的两个构件；获取单元，用于获取所述两个构件的中轴线；第一生成单元，用于将两个构件的中轴线以不同夹角相交使用同一节点参数，生成多个夹角不同的中轴线对；以及第二生成单元，用于根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型。进一步的，第二生成单元，还用于：对各个夹角不同的中轴线对对应的两个构件生成端板实体、插板实体和螺栓三维模型；将各个夹角不同的中轴线对对应生成的端板实体、插板实体和螺栓三维模型做布尔交集，生成多个夹角不同的两个构件连接节点三维模型。进一步的，还包括管理单元，所述管理单元用于：修改所述同一节点参数生成新的同一节点参数；根据新的同一节点参数以及多个夹角不同的中轴线对，生成新的多个夹角不同的两个构件连接节点三维模型。第三方面，本发明实施例提供一种存储介质，所述存储介质上存储有指令，当所述指令在计算机上运行时，执行所述木结构连接节点的参数化设计方法。本发明实施例与现有技术相比，具有如下的优点和有益效果：本发明实施例的一种木结构连接节点的参数化设计方法、系统及存储介质，通过设定木结构的节点样式以及节点参数；根据所述木结构的节点样式以及节点参数，拾取用于生成木结构连接节点的两个构件；获取所述两个构件的中轴线；将两个构件的中轴线以不同夹角相交使用同一节点参数，生成多个夹角不同的中轴线对；根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型，实现了同时建立多个夹角不同的两个构件连接节点三维模型，解决了现有技术对于连接角度不同的不同构件的设计中需要全部手动重新建立三维模型导致的效率低容易出错的技术问题。附图说明为了更清楚地说明本发明示例性实施方式的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为木结构连接节点的参数化设计方法流程示意图。图2为木结构连接节点的参数化设计系统结构示意图。图3为参数化节点参数设置截面示意图。图4为拾取的端板的结构示意图。图5为拾取的插板的结构示意图。图6为示例的木结构连接节点的参数化设计方法流程示意图。图7为示例的A节点在90°时布置的效果图。图8为示例的A节点在大于90°时布置的效果图。附图中标记及对应的零部件名称：1-端板，2-插板。实施方式为使本发明的目的、技术方案和优点更加清楚明白，下面结合实施例和附图，对本发明作进一步的详细说明，本发明的示意性实施方式及其说明仅用于解释本发明，并不作为对本发明的限定。在以下描述中，为了提供对本发明的透彻理解阐述了大量特定细节。然而，对于本领域普通技术人员显而易见的是：不必采用这些特定细节来实行本发明。在其他实施例中，为了避免混淆本发明，未具体描述公知的结构、电路、材料或方法。在整个说明书中，对“一个实施例”、“实施例”、“一个示例”或“示例”的提及意味着：结合该实施例或示例描述的特定特征、结构或特性被包含在本发明至少一个实施例中。因此，在整个说明书的各个地方出现的短语“一个实施例”、“实施例”、“一个示例”或“示例”不一定都指同一实施例或示例。此外，可以以任何适当的组合和、或子组合将特定的特征、结构或特性组合在一个或多个实施例或示例中。此外，本领域普通技术人员应当理解，在此提供的示图都是为了说明的目的，并且示图不一定是按比例绘制的。这里使用的术语“和/或”包括一个或多个相关列出的项目的任何和所有组合。在本发明的描述中，术语“前”、“后”、“左”、“右”、“上”、“下”、“竖直”、“水平”、“高”、“低”“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明保护范围的限制。实施例为解决现有技术对于连接角度不同的不同构件的设计中需要全部手动重新建立三维模型导致的效率低容易出错的技术问题，本发明实施例提供一种木结构连接节点的参数化设计方法，参考图1所示，包括：S1.设定木结构的节点样式以及节点参数；S2.根据所述木结构的节点样式以及节点参数，拾取用于生成木结构连接节点的两个构件；S3.获取所述两个构件的中轴线；S4.将两个构件的中轴线以不同夹角相交使用同一节点参数，生成多个夹角不同的中轴线对；每一个夹角情形下，两个构件的中轴线相交得到一个中轴线对。S5.根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型。可选地，本发明实施例适用于梁-梁的连接或者梁-柱的连接。从而，本发明实施例通过设定木结构的节点样式以及节点参数；根据所述木结构的节点样式以及节点参数，拾取用于生成木结构连接节点的两个构件；获取所述两个构件的中轴线；将两个构件的中轴线以不同夹角相交使用同一节点参数，生成多个夹角不同的中轴线对；根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型，实现了同时建立多个夹角不同的两个构件连接节点三维模型，解决了现有技术对于连接角度不同的不同构件的设计中需要全部手动重新建立三维模型导致的效率低容易出错的技术问题。进一步的，S5.根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型；包括：S51.对各个夹角不同的中轴线对对应的两个构件生成端板实体、插板实体和螺栓三维模型；S52.将各个夹角不同的中轴线对对应生成的端板实体、插板实体和螺栓三维模型做布尔交集，生成多个夹角不同的两个构件连接节点三维模型。进一步的，S52.对各个夹角不同的中轴线对对应的两个构件生成端板实体、插板实体和螺栓三维模型；包括：S521.获取两个构件的用于相互连接的连接面；S522.将一个构件的连接面沿连接面的法向偏移一定距离，得到端板实体；S523.将另一个构件的连接面沿所述另一个构件的中轴线偏移所述一定距离，得到插板实体；S524.根据端板实体和插板实体的高度和宽度以及螺栓群的参数计算各个螺栓在端板实体和插板实体上的位置；S525.根据螺栓的位置以及法向偏移的所述一定距离，生成螺栓三维模型。进一步的，根据端板实体和插板实体的高度和宽度以及螺栓群的参数计算各个螺栓在端板实体和插板实体上的位置；包括：根据以下公式计算螺栓群的参数；所述螺栓群的参数包括：螺栓群的高度、螺栓群宽度、螺栓群距离端板实体或插板实体左边距的距离和螺栓群距离端板实体或插板实体顶边距的距离；螺栓群的高度=螺栓行数*螺栓行间距；螺栓群宽度=螺栓列数*螺栓列间距；螺栓群距离端板实体或插板实体左边距的距离=/ 2；螺栓群距离端板实体或插板实体顶边距的距离=/ 2。进一步的，根据螺栓的位置以及法向偏移的所述一定距离，生成螺栓三维模型；包括：根据端板实体的法线和螺栓的位置，利用平移变换，得到螺栓处端板实体的法线；在端板实体所在平面上的螺栓位置处，根据螺栓的半径绘制圆，利用所绘制的圆沿螺栓处端板实体的法线放样得到螺栓三维模型。可选地，一定距离为一个端部的厚度。进一步的，所述方法还包括：修改所述同一节点参数生成新的同一节点参数；根据新的同一节点参数以及多个夹角不同的中轴线对，生成新的多个夹角不同的两个构件连接节点三维模型。示例性的，本发明实施例在EasyBIM中实现。木结构连接节点的参数化设计方法，参考图6所示，包括：步骤1、选取要布置的节点样式以及设置节点参数。节点样式及节点参数设置界面参考图3所示。步骤2、在 EasyBIM中拾取节点端板1。参考图4所示。步骤3、在 EasyBIM中拾取插板2。参考图5所示。步骤4、获取拾取构件的中轴线。步骤5、调用节点样式的自动生成算法，根据不同角度的轴线利用同一个节点设置参数生成节点。节点样式计算方法，参考图6所示，包括步骤1、判断构件的中轴线是否相交，如果不相交则程序退出，否则则继续下一步；步骤2、获取拾取构件的相交面；步骤3、将相交面沿相交面的法向偏移一个底板厚度的距离获得端板实体；步骤4、将相交面沿插板连接构件的中轴线偏移一个底板厚度的距离获得插板实体；步骤5、根据板的高度和宽度以及螺栓群的高度和宽度计算各个螺栓在端板和插板上的位置；计算方法:螺栓群的高度=螺栓行数*螺栓行间距；螺栓群宽度=螺栓列数*螺栓列间距；螺栓群距离板左边距的距离=/ 2；螺栓群距离板顶边距的距离=/ 2；以板的左上角作为坐标系原点的话，则第一个螺栓的左边点为；则第N行第M列的坐标为。步骤6、根据螺栓的位置以及板的法向偏移得到螺栓三维模型。具体地，根据板的法线和螺栓的位置，利用平移变换，求得螺栓处板的法线。同时在板所在的平面上，螺栓位置处，根据螺栓的半径绘制圆，利用所绘制的圆沿螺栓处板的法线放样得到三维模型。步骤7、将所有生成的实体做布尔交集，生成多个夹角不同的两个构件连接节点三维模型。示例性的，在类型A节点的不同角度的布置效果参考图7和图8所示。步骤8、结束。第二方面，本发明实施例提供一种木结构连接节点的参数化设计系统，参考图2所示，包括：设定单元，用于设定木结构的节点样式以及节点参数；拾取单元，用于根据所述木结构的节点样式以及节点参数，拾取用于生成木结构连接节点的两个构件；获取单元，用于获取所述两个构件的中轴线；第一生成单元，用于将两个构件的中轴线以不同夹角相交使用同一节点参数，生成多个夹角不同的中轴线对；以及第二生成单元，用于根据所述同一节点参数以及多个夹角不同的中轴线对，生成多个夹角不同的两个构件连接节点三维模型。进一步的，第二生成单元，还用于：对各个夹角不同的中轴线对对应的两个构件生成端板实体、插板实体和螺栓三维模型；将各个夹角不同的中轴线对对应生成的端板实体、插板实体和螺栓三维模型做布尔交集，生成多个夹角不同的两个构件连接节点三维模型。进一步的，还包括管理单元，所述管理单元用于：修改所述同一节点参数生成新的同一节点参数；根据新的同一节点参数以及多个夹角不同的中轴线对，生成新的多个夹角不同的两个构件连接节点三维模型。用户仅需要通过输入模块输入自己想要建模的节点参数和节点样式，在利用程序拾取要布置节点的所连接的构件，程序便可以通过生成模块自动快速生成节点的三维模型。在用户需要修改许多的节点参数时，只需要调用管理模块，对已有的节点样式参数进行修改，在修改完成之后，管理模块会利用新的节点参数调用节点样式计算方法重新计算生成新的多个夹角不同的两个构件连接节点三维模型。第三方面，本发明实施例提供一种存储介质，所述存储介质上存储有指令，当所述指令在计算机上运行时，执行所述木结构连接节点的参数化设计方法。以上所述的具体实施方式，对本发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施方式而已，并不用于限定本发明的保护范围，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
