标题title
混凝土搅拌站无人值守的收料售料系统及工作方法
摘要abst
本发明涉及一种混凝土搅拌站无人值守的收料售料系统及工作方法，属于混凝土搅拌站的收料售料技术领域；系统包括登记模块、运输车识别模块、过磅模块、智能选仓模块、生产组织模块、收发审核模块，方法包括登记、运输车入场、运输车第一次上磅、收料售料、收发审核、运输车第二次上磅、称重、单据打印、出场；实现了混凝土搅拌站无人值守的收料售料业务支持；进出场业务由系统自动控制，保证了业务公正性及执行效率；进出场过磅过程全程留痕，通过抓拍图片、录像形式保证了系统的可追溯性；通过语音、LED屏播放、微信消息等形式及时引导车辆操作，人性化的引导提高了用户的使用感受；通过系统实现多地磅数据共享，多人员的协同办公。
权利要求书clms
1.一种混凝土搅拌站无人值守的收料售料系统，其特征在于，包括：登记模块，用于登记原材料送料/产品发售信息，登记时需提供运输车牌号；运输车识别模块，用于运输车上磅时车牌号的识别及抓取；过磅模块，用于地磅称重数据采集，红外光栅、道闸、摄像机的基本数据获取及控制；智能选仓模块，用于原材料进场时的料仓自动选择；生产组织模块，用于根据发货需求组织生产；收发审核模块，用于原材料收料/装料完成时的审核，保证物资与登记信息匹配。2.根据权利要求1所述的混凝土搅拌站无人值守的收料售料系统，其特征在于，还包括：合法性验证模块，用于进出场运输车信息验证、用户信息及过磅状态验证；上下磅判定模块，用于运输车行进方向及运输车上下磅逻辑判定；稳称判定模块，用于地磅称重稳定判断，确定最终可信称重数据；进料控制模块，用于粉料仓进料的自动化控制；引导模块，用于引导信息的呈现，引导各岗位完成工作；自动打印模块，用于收料/发货单据的自动打印。3.根据权利要求1所述的混凝土搅拌站无人值守的收料售料系统，其特征在于：所述登记模块采用微信小程序登记原材料送料/产品发售信息，微信登记还包括微信二维码标识牌，用于扫码关注微信小程序；地磅称重数据包括运输车的毛重、皮重、净重、扣重。4.根据权利要求1所述的混凝土搅拌站无人值守的收料售料系统，其特征在于：所述过磅模块包含一套以上地磅的接入。5.根据权利要求1所述的混凝土搅拌站无人值守的收料售料系统，其特征在于：所述智能选仓模块根据所选系统原材料库存并接入称重传感器，通过自动判定算法自动推荐料仓。6.根据权利要求1所述的混凝土搅拌站无人值守的收料售料系统，其特征在于：所述生产组织模块根据客户需求的产品组织生产，与生产控制系统实现对接，将需求信息下达到生产系统并生产。7.根据权利要求2所述的混凝土搅拌站无人值守的收料售料系统，其特征在于：所述进料控制模块，在运输车到达指定料仓卸料时，根据微信小程序扫码及系统设定料仓，控制进料口管锁的开关；所述引导模块包含微信信息推送、语音播报、LED屏幕播放、系统消息推送方式。8.一种混凝土搅拌站无人值守的收料售料系统的工作方法，基于权利要求1-7中任意一项所述系统，其特征在于：包括如下步骤：步骤S1、登记，运输车到场前登记入场信息，收料业务登记送料计划，售料业务登记拉货计划；步骤S2、运输车入场，识别该运输车车牌号，根据车牌号匹配登记的业务类型，如匹配成功则允许运输车上磅，并通过语音及LED屏幕引导运输车上磅过磅；步骤S3、运输车第一次上磅，红外光栅检测运输车上磅动作并判定运输车上磅方向，在运输车停车到位后，自动获取称重重量并保存过磅现场，根据运输车的业务类型保存数据，收料业务则存储过毛信息，售料业务则存储过皮信息，并通过语音及LED屏幕提示运输车过磅完成；步骤S4、收料售料，收料业务则通过智能选仓模块自动选择卸料料仓并通过语音及LED屏幕引导运输车卸料；售料业务则将该运输车信息推送生产组织模块，实现发货组织，通过语音及LED屏幕引导运输车进场装货；步骤S5、收发审核，运输车下磅后根据引导信息到达指定地点，收料业务时到达指定料仓进行卸料，在卸料前通过扫描电子管锁二维码自动完成卸料验证，完成后经过收料审核确认收料信息，即可进行出场过磅；售料业务到达指定地点进行装料，装料完成后经过售料审核确认售料信息，即可进行出场过磅；步骤S6、运输车第二次上磅，自动验证当前业务状态，业务状态满足出场过磅时，通过语音及LED屏幕引导运输车上磅过磅；步骤S7、称重，运输车上磅时，红外光栅检测运输车上磅动作并判定运输车上磅方向，在运输车停车到位后，自动获取称重重量并保存过磅现场，根据运输车的业务类型保存数据，收料业务则存储过皮信息，售料业务则存储过毛信息，并通过语音及LED屏幕提示运输车过磅完成；步骤S8、单据打印，过磅完成时，自动打印模块根据业务类型自动打印票据，收料业务打印收料单，售料业务打印发货单；步骤S9、出场，单据打印完成后，运输车自助取票下磅出场，完成出场业务。9.根据权利要求8所述的一种混凝土搅拌站无人值守的收料售料系统的工作方法，其特征在于：所述步骤S1，通过微信小程序进行信息提前登记及信息审核；所述步骤S3和S5，通过引导模块以微信消息、语音、LED屏幕播放、系统消息的方式多方位对司机进行引导。10.根据权利要求8所述的一种混凝土搅拌站无人值守的收料售料系统的工作方法，其特征在于：所述步骤S3和S7，通过过磅模块自动抓取重量、道闸、红外、摄像机数据，自动保存过磅现场；所述步骤S5，通过进料控制模块扫描二维码自动验证卸料信息；所述步骤S8，通过自动打印模块自动打印单据。
说明书desc
技术领域本发明涉及一种混凝土搅拌站无人值守的收料售料系统及工作方法，属于混凝土搅拌站的收料售料技术领域。背景技术传统的混凝土搅拌站收料售料采用大量人工进行管理，但人工操作失误较多，效率低下且人为操作空间较大，对于供应商、搅拌站及客户的可信赖度均存在折扣；并且传统方式缺少统一管理系统的支持，无法实现多人、多地磅的数据互通及共享，时效性差；而且传统方式大量的使用人力增加了成本，增大了系统风险。例如中国专利ZL202021816994.1，公开了一种用于商品砼的无人值守地磅系统，其包括道闸、车牌识别器、辅助识别装置以及过磅平台，在过磅平台一侧的前后两端上设置有触发雷达，在过磅平台的出料端上还设置有声光警示器，在载货车辆上设置有GPS定位追踪系统。通过设置触发雷达、防撞雷达、声光警示器以及GPS定位追踪系统，将可更加全面的保证无人值守过磅系统的稳定运行。但是，其仅涉及地磅称重，无法完成无人值守的收料售料，也不能解决无人值守的收料售料过程中的如下问题：1、进出场车辆有效性判定问题，2、车辆称重的及时有效获取，3、进出场业务的自动判定，4、进场料仓自动选择的实现，5、防止人为作弊。发明内容本发明要解决的技术问题是：提供一种混凝土搅拌站无人值守的收料售料系统及工作方法，解决背景技术所述的无人值守的收料售料过程中的问题，实现混凝土搅拌站无人值守的收料售料业务支持。本发明所述的混凝土搅拌站无人值守的收料售料系统，包括：登记模块，用于登记原材料送料/产品发售信息，登记时需提供运输车牌号；运输车识别模块，用于运输车上磅时车牌号的识别及抓取；过磅模块，用于地磅称重数据采集，红外光栅、道闸、摄像机的基本数据获取及控制；智能选仓模块，用于原材料进场时的料仓自动选择；生产组织模块，用于根据发货需求组织生产；收发审核模块，用于原材料收料/装料完成时的审核，保证物资与登记信息匹配。优选地，还包括：合法性验证模块，用于进出场运输车信息验证、用户信息及过磅状态验证；上下磅判定模块，用于运输车行进方向及运输车上下磅逻辑判定；稳称判定模块，用于地磅称重稳定判断，确定最终可信称重数据；进料控制模块，用于粉料仓进料的自动化控制；引导模块，用于引导信息的呈现，引导各岗位完成工作；自动打印模块，用于收料/发货单据的自动打印。优选地，所述登记模块采用微信小程序登记原材料送料/产品发售信息，微信登记还包括微信二维码标识牌，用于扫码关注微信小程序；地磅称重数据包括运输车的毛重、皮重、净重、扣重。优选地，所述过磅模块包含一套以上地磅的接入。优选地，所述智能选仓模块根据所选系统原材料库存并接入称重传感器，通过自动判定算法自动推荐料仓。优选地，所述生产组织模块根据客户需求的产品组织生产，与生产控制系统实现对接，将需求信息下达到生产系统并生产。优选地，所述进料控制模块，在运输车到达指定料仓卸料时，根据微信小程序扫码及系统设定料仓，控制进料口管锁的开关；所述引导模块包含微信信息推送、语音播报、LED屏幕播放、系统消息推送方式。本发明所述的凝土搅拌站无人值守的收料售料系统的工作方法，包括如下步骤：步骤S1、登记，运输车到场前登记入场信息，收料业务登记送料计划，售料业务登记拉货计划；步骤S2、运输车入场，识别该运输车车牌号，根据车牌号匹配登记的业务类型，如匹配成功则允许运输车上磅，并通过语音及LED屏幕引导运输车上磅过磅；步骤S3、运输车第一次上磅，红外光栅检测运输车上磅动作并判定运输车上磅方向，在运输车停车到位后，自动获取称重重量并保存过磅现场，根据运输车的业务类型保存数据，收料业务则存储过毛信息，售料业务则存储过皮信息，并通过语音及LED屏幕提示运输车过磅完成；步骤S4、收料售料，收料业务则通过智能选仓模块自动选择卸料料仓并通过语音及LED屏幕引导运输车卸料；售料业务则将该运输车信息推送生产组织模块，实现发货组织，通过语音及LED屏幕引导运输车进场装货；步骤S5、收发审核，运输车下磅后根据引导信息到达指定地点，收料业务时到达指定料仓进行卸料，在卸料前通过扫描电子管锁二维码自动完成卸料验证，完成后经过收料审核确认收料信息，即可进行出场过磅；售料业务到达指定地点进行装料，装料完成后经过售料审核确认售料信息，即可进行出场过磅；步骤S6、运输车第二次上磅，自动验证当前业务状态，业务状态满足出场过磅时，通过语音及LED屏幕引导运输车上磅过磅；步骤S7、称重，运输车上磅时，红外光栅检测运输车上磅动作并判定运输车上磅方向，在运输车停车到位后，自动获取称重重量并保存过磅现场，根据运输车的业务类型保存数据，收料业务则存储过皮信息，售料业务则存储过毛信息，并通过语音及LED屏幕提示运输车过磅完成；步骤S8、单据打印，过磅完成时，自动打印模块根据业务类型自动打印票据，收料业务打印收料单，售料业务打印发货单；步骤S9、出场，单据打印完成后，运输车自助取票下磅出场，完成出场业务。优选的，所述步骤S1，通过微信小程序进行信息提前登记及信息审核；所述步骤S3和S5，通过引导模块以微信消息、语音、LED屏幕播放、系统消息的方式多方位对司机进行引导。优选的，所述步骤S3和S7，通过过磅模块自动抓取重量、道闸、红外、摄像机数据，自动保存过磅现场；所述步骤S5，通过进料控制模块扫描二维码自动验证卸料信息；所述步骤S8，通过自动打印模块自动打印单据。与现有技术相比，本发明具有以下有益效果：本发明所述的混凝土搅拌站无人值守的收料售料系统及工作方法，实现了混凝土搅拌站无人值守的收料售料业务支持；进出场业务由系统自动控制，保证了业务公正性及执行效率；进出场过磅过程全程留痕，通过抓拍图片、录像形式保证了系统的可追溯性；通过语音、LED屏幕播放、微信消息等形式及时引导车辆操作，人性化的引导提高了用户的使用感受；通过系统实现多地磅数据共享，多人员的协同办公。附图说明图1为本发明所述的混凝土搅拌站无人值守的收料售料系统的结构框图。具体实施方式为解决现有技术中存在的问题，本申请提供一种混凝土搅拌站无人值守的收料售料系统及工作方法，本申请适合混凝土拌和站等大批量建筑物资收料售料的应用场景。为使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明实施方式作进一步地详细描述。实施例1如图1所示，在厂区大门处建立微信二维码标识牌，标识牌包含进出场流程说明及二维码，进场司机通过微信扫描二维码关注小程序即可进行信息的登记，减少了教学过程简化了操作步骤。混凝土搅拌站无人值守的收料售料系统，包括：登记模块，用于登记原材料送料/产品发售信息，登记时需提供运输车牌号；运输车识别模块，用于运输车上磅时车牌号的识别及抓取；过磅模块，用于地磅称重数据采集，红外光栅、道闸、摄像机的基本数据获取及控制；智能选仓模块，用于原材料进场时的料仓自动选择；生产组织模块，用于根据发货需求组织生产；收发审核模块，用于原材料收料/装料完成时的审核，保证物资与登记信息匹配；合法性验证模块，用于进出场运输车信息验证、用户信息及过磅状态验证；上下磅判定模块，用于运输车行进方向及运输车上下磅逻辑判定；稳称判定模块，用于地磅称重稳定判断，确定最终可信称重数据；进料控制模块，用于粉料仓进料的自动化控制；引导模块，用于引导信息的呈现，引导各岗位完成工作；自动打印模块，用于收料/发货单据的自动打印。所述登记模块采用微信小程序登记原材料送料/产品发售信息，微信登记还包括微信二维码标识牌，用于扫码关注微信小程序；地磅称重数据包括运输车的毛重、皮重、净重、扣重。过磅模块，用于对车辆进行称重，得到车辆的重量信息包括车辆的皮重、毛重和净重、称重现场抓拍图像，避免了手工输入的失误，准确无误的保存数据及现场场景。过磅模块通过地磅仪表得到车辆的皮重、毛重和净重，经与地磅仪表相适应的通信方式发送给设备控制箱。在此，大部分地磅仪表采用串口通信。称重现场抓拍图像通过与摄像机相适应的通信方式发送给设备控制箱，摄像机一般采用网络接口通信。智能选仓模块，用于对原材料车辆进场过磅完成后卸料仓库的自动确定，根据场内原材料仓的库存及运输量，结合收料权重自动完成料仓确定。智能选仓模块在料仓的支撑腿上接入称重传感器，通过自动判定算法自动推荐料仓。车辆识别模块通过至少一个车牌识别摄像机动态抓取车辆车牌号，采用车牌识别算法对监控范围内的视频流进行全天候实时分析，车牌识别准确率大于99％，无需要人工干预；能在夜晚、阴天、雨天等各种光照条件下正常工作。车牌识别算法是车牌识别系统的基础，对图像进行采集，然后从车牌纹理出发，应用分开理论建立基于有向分形参数的车牌定位预处理模型，结合投影法提取车牌区域，再将字符进行分割和识别，最后输出结果。车牌识别算法的流程包括车牌定位、字符分割、字符识别，广泛应用于占道停车管理、车辆保险、警务通、智能停车管理等领域，在此不再赘述。通过现场监管人员微信小程序确定车辆与产品信息，确保进场车辆与产品正确的复核，实现收发审核。合法性验证模块在车辆出入场时自动匹配识别车牌信息与微信登记模块中预存的信息，有效的管控进出场车辆的合法性。合法性验证模块中的用户包括收发审核模块的审核员、运输车的司机等，用户在登记模块提前注册用户信息。过磅状态验证是指，上下磅判定模块、稳称判定模块所判断的运输车上下磅以及地磅称重稳定。自动打印模块，由设备控制箱、打印机、进纸单元、温湿度控制单元等设备完成，可适应阴雨、潮湿、高温等恶劣环境。在此，设备控制箱与过磅模块的设备控制箱为同一装置，设备控制箱用于控制系统所包含的各个模块工作，以实现混凝土搅拌站无人值守的收料售料功能。设备控制箱控制自动打印模块，实现全天候自动打印单据功能。引导模块，将各业务模块产生的消息通过微信信息推送、语音播报、LED屏幕播放、系统消息等形式播报出来，引导车辆及工作人员进行相关业务处理。过磅模块包含一套以上地磅的接入，并实现多磅的数据互通。实现地磅的双向通行、单向通行、单双混合通行业务支持。过磅模块包括设备控制箱，集成地磅仪表的网络数据获取、红外光栅定位信号采集、道闸限定车辆及车辆控速、摄像机进行现场视频及抓拍功能。过磅模块包含一套以上地磅的接入即可以为一个地磅，也可以为两个地磅或多个地磅，一个地磅时，由该地磅同时作为进场出场地磅。两个地磅时，其中一个作为进场地磅，另一个作为出场地磅。多个地磅时，其中一部分作为进场地磅，另一部分作为出场地磅。过磅模块，用于地磅称重数据采集，红外光栅、道闸、摄像机的基本数据获取及控制。红外光栅在运输车上磅之前无遮挡，发送信号给设备控制箱；上磅过程中红外光栅被遮挡，不发送信号给设备控制箱，同时，地磅仪表的称重数据会不断上涨；上磅完成红外光栅无遮挡，发送信号给设备控制箱，同时，地磅仪表的称重数据在一定小范围内上下震荡；上下磅判定模块根据该规则，判定运输车是否进行上磅。上磅之后再行下磅判定，红外光栅在运输车下磅之前无遮挡，发送信号给设备控制箱；下磅过程中红外光栅被遮挡，不发送信号给设备控制箱，同时，地磅仪表的称重数据会不断下降；上磅完成红外光栅无遮挡，发送信号给设备控制箱，同时，地磅仪表的称重数据为基本零，即为扣重；上下磅判定模块根据该规则，判定运输车是否进行下磅。在上下磅之前，上下磅判定模块根据运输车识别模块识别的车牌以及登记模块登记的信息，判断运输车行进方向，打开进场或出场的道闸，由于道闸的存在，在过闸过程中驾驶员必然控制运输车减速，达到控速。原材料送料进场或产品发售出场时，地磅仪表的称重数据为毛重，原材料送料完成出场或产品发售空车进场时，地磅仪表的称重数据为皮重。过皮信息、过毛信息均包括登记原材料送料/产品发售信息、车牌号和重量信息。生产组织模块根据客户需求的产品组织生产，与生产控制系统实现对接，将需求信息下达到生产系统并生产。生产控制系统和生产系统均为现有混凝土搅拌站的系统，例如中国专利201810911389.3，公开的立式混凝土搅拌机及混凝土生产线。进料控制模块，用于原材料粉料卸料时的进料验证，通过扫码二维码确定身份信息，保证原材料不进错仓。进料控制模块，在运输车到达指定料仓卸料时，根据微信小程序扫码及系统设定料仓，控制进料口管锁的开关；所述引导模块包含微信信息推送、语音播报、LED屏幕播放、系统消息推送方式。系统设定料仓根据实施例3所述的智能选仓模块的自动判定算法推荐的料仓进行设定，设定即为将司机账号将该推荐的料仓进行绑定，通过司机账号的微信小程序扫码打开进料口管锁，进料完毕后关闭，完成进料控制模块的自动化控制。此系统实现了混凝土搅拌站的原材料无人值守过磅、原材料智能选仓收料、混凝土发货的无人值守过磅发货功能。系统设计如下：微信登记，用于微信小程序登记原材料送料/产品发售信息，登记时需提供运输车辆车牌号；车辆识别，用于车辆上磅时车牌号的识别及抓取；合法性验证，用于进出场车辆信息验证、用户信息及过磅状态验证；过磅模块，用于地磅称重数据采集，红外光栅、道闸、摄像机的基本数据获取及控制；上下磅判定，用于车辆行进方向及车辆上下磅逻辑判定；稳称判定，用于地磅称重稳定判断，确定最终可信称重数据；自动打印，用于收料/发货单据的自动打印；智能选仓，用于原材料进场的料仓自动选择；进料控制，用于粉料仓进料的自动化控制；生产组织，用于根据发货需求组织生产；收发审核，用于原材料收料/产品装货完成时的审核，保证物资与登记信息匹配；引导模块，用于引导信息的呈现，引导各岗位完成工作，呈现方式有微信信息推送、语音播报、LED屏幕播放等形式。实施例2本发明实施例1所述的凝土搅拌站无人值守的收料售料系统的工作方法，包括如下步骤：步骤S1、登记，运输车到场前登记入场信息，收料业务登记送料计划，售料业务登记拉货计划；步骤S2、运输车入场，识别该运输车车牌号，根据车牌号匹配登记的业务类型，如匹配成功则允许运输车上磅，并通过语音及LED屏幕引导运输车上磅过磅；步骤S3、运输车第一次上磅，红外光栅检测运输车上磅动作并判定运输车上磅方向，在运输车停车到位后，自动获取称重重量并保存过磅现场，根据运输车的业务类型保存数据，收料业务则存储过毛信息，售料业务则存储过皮信息，并通过语音及LED屏幕提示运输车过磅完成；步骤S4、收料售料，收料业务则通过智能选仓模块自动选择卸料料仓并通过语音及LED屏幕引导运输车卸料；售料业务则将该运输车信息推送生产组织模块，实现发货组织，通过语音及LED屏幕引导运输车进场装货；步骤S5、收发审核，运输车下磅后根据引导信息到达指定地点，收料业务时到达指定料仓进行卸料，在卸料前通过扫描电子管锁二维码自动完成卸料验证，完成后经过收料审核确认收料信息，即可进行出场过磅；售料业务到达指定地点进行装料，装料完成后经过售料审核确认售料信息，即可进行出场过磅；步骤S6、运输车第二次上磅，自动验证当前业务状态，业务状态满足出场过磅时，通过语音及LED屏幕引导运输车上磅过磅；步骤S7、称重，运输车上磅时，红外光栅检测运输车上磅动作并判定运输车上磅方向，在运输车停车到位后，自动获取称重重量并保存过磅现场，根据运输车的业务类型保存数据，收料业务则存储过皮信息，售料业务则存储过毛信息，并通过语音及LED屏幕提示运输车过磅完成；步骤S8、单据打印，过磅完成时，自动打印模块根据业务类型自动打印票据，收料业务打印收料单，售料业务打印发货单；步骤S9、出场，单据打印完成后，运输车自助取票下磅出场，完成出场业务。步骤S1，通过微信小程序进行信息提前登记及信息审核；步骤S3和S5，通过引导模块以微信消息、语音、LED屏幕、系统消息的方式多方位对司机进行引导。步骤S3和S7，通过过磅模块自动抓取重量、道闸、红外、摄像机数据，自动保存过磅现场；步骤S5，通过进料控制模块扫描二维码自动验证卸料信息；步骤S8，通过自动打印模块自动打印单据。步骤S6中的业务状态满足出场过磅时，是指通过现场监管人员微信小程序确定车辆与产品信息实现收发审核，完成收发审核即业务状态满足出场过磅。实施例3本发明实施例1所述的智能选仓模块的自动判定算法具体如下：优先安排一个符合进料车辆净重的料仓，在能够保证满仓的情况下，优先使用合适进料的料仓。能够保证较高的命中率。设M={M1i，M2j，…，Mmk}是料仓集合，共有m个料仓，i，j，k分别代表不同料仓的优选系数，M为进料净重，是一个常量；P={P1，P2，…，Pm}表示各料仓的权重值，L={L1，L2，…，Lm}为各料仓的可进料量，为常量，P×L为一个常量。选仓的目标就是M-P×L最小，公式如下：Min ∑Mmk-Pm×Lm。
