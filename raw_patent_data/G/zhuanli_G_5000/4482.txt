标题title
一种农作物净初级生产力的估算方法及装置
摘要abst
本申请提供了一种农作物净初级生产力的估算方法及装置，涉及遥感影像处理技术领域，该方法包括：根据Sentinel‑2卫星影像的各晴空植被像元的多个预设波段的地表反射率，计算各晴空植被像元的归一化植被指数NDVI和加强型植被指数EVI；对叶面积指数LAI产品进行处理，得到各晴空植被像元的叶面积指数LAI；对GLDAS气象数据进行处理，得到六个气象参数；利用净初级生产力估算模型对每个晴空植被像元的多个预设波段的地表反射率、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI和六个气象参数进行处理，得到农作物净初级生产力。本申请能够实现高分辨率卫星影像的农作物净初级生产力的高精度估算。
权利要求书clms
1.一种农作物净初级生产力的估算方法，其特征在于，包括：获取目标区域的Sentinel-2卫星影像，获取与Sentinel-2卫星影像同时空的叶面积指数LAI产品，获取目标区域的预设时间间隔的GLDAS气象数据；利用Sentinel-2卫星影像的每个像元的地表类型质量控制层取值，得到Sentinel-2卫星影像的所有晴空植被像元；根据Sentinel-2卫星影像的各晴空植被像元的多个预设波段的地表反射率，计算各晴空植被像元的归一化植被指数NDVI和加强型植被指数EVI；对叶面积指数LAI产品进行处理，得到Sentinel-2卫星影像的各晴空植被像元的叶面积指数LAI；对GLDAS气象数据进行处理，得到六个气象参数：下行短波辐射、下行长波辐射、气温、气压、大气水汽压和风速；利用预先训练完成的净初级生产力估算模型对每个晴空植被像元的多个预设波段的地表反射率、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI和六个气象参数进行处理，得到预设时间间隔的农作物净初级生产力。2.根据权利要求1所述的农作物净初级生产力的估算方法，其特征在于，Sentinel-2卫星的多个预设波段包括：第二波段、第三波段、第四波段、第五波段、第六波段、第八波段、第8A波段、第十一波段和第十二波段。3.根据权利要求2所述的农作物净初级生产力的估算方法，其特征在于，所述净初级生产力估算模型采用随机森林模型，所述净初级生产力估算模型的训练步骤包括：获取训练数据集；所述训练数据集包括多个训练数据样本和农作物净初级生产力标注结果；所述训练数据样本包括：六个气象参数、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI和Sentinel-2卫星的多个预设波段的模拟地表反射率；利用随机森林模型对每个训练数据样本进行处理，得到农作物净初级生产力的预测结果；利用训练数据样本的农作物净初级生产力的预测结果和农作物净初级生产力标注结果，计算损失函数值；基于损失函数值，更新随机森林模型的模型参数。4.根据权利要求3所述的农作物净初级生产力的估算方法，其特征在于，获取训练数据集，包括：分别获取六个气象参数和十四个植物生物物理参数的固定取值或取值范围；其中，植物生物物理参数包括：叶绿素含量、叶面积指数LAI、植被高度、干物质含量、花青素含量、太阳天顶角、观测天顶角、类胡萝卜素含量、叶片水分当量层、老化物质比例、叶片厚度参数、叶片斜度、根部土壤水分含量和土壤亮度；对于每个非固定取值的参数，在其取值范围内按照均匀分布随机产生一个参数值，并结合固定取值的参数，生成一个包含20个参数值的参数集，由此生成预设数量的参数集；利用SCOPE辐射传输模型对每个参数集进行处理，得到对应的400~2400nm波长范围内每1nm的冠层反射率和冠层的净二氧化碳通量，其中，冠层的净二氧化碳通量为所述参数集对应的农作物净初级生产力；利用Sentinel-2卫星各波段的光谱响应函数分别对400~2400nm波长范围内每1nm的冠层反射率进行积分，得到Sentinel-2卫星的多个预设波段的模拟地表反射率；利用Sentinel-2卫星的第二个波段的模拟地表反射率、第四个波段的模拟地表反射率和第八个波段的模拟地表反射率，分别计算归一化植被指数NDVI和加强型植被指数EVI；将一个参数集的六个气象参数、归一化植被指数NDVI、加强型植被指数EVI和叶面积指数LAI以及对应的Sentinel-2卫星的多个预设波段的模拟地表反射率作为一个训练数据样本，所述参数集对应的农作物净初级生产力作为训练数据样本的农作物净初级生产力标注结果，将所有参数集对应的训练数据样本和标注结果组成训练数据集。5.根据权利要求1所述的农作物净初级生产力的估算方法，其特征在于，预设时间间隔为3小时；对GLDAS气象数据进行处理，得到六个气象参数；包括：获取目标区域的空间分辨率为0.25°的每3小时的GLDAS气象数据；从GLDAS气象数据中提取6个气象因子：下行短波辐射、下行长波辐射、气温、大气压强、比湿度和风速；计算大气水汽压：其中，为比湿度；为大气压强。6.根据权利要求5所述的农作物净初级生产力的估算方法，其特征在于，所述方法还包括：以一天内相邻时刻的农作物净初级生产力进行线性差值，得到农作物净初级生产力的以小时为单位的日变化曲线；对农作物净初级生产力的日变化曲线进行积分，得到日累计农作物净初级生产力；由此得到一个生长季的日累计农作物净初级生产力序列。7.根据权利要求6所述的农作物净初级生产力的估算方法，其特征在于，所述方法还包括：对两个相邻的日累计农作物净初级生产力进行线性差值，得到农作物净初级生产力的以天为单位的生长季变化曲线；对农作物净初级生产力的生长季变化曲线进行积分，得到生产季累计农作物净初级生产力。8.一种农作物净初级生产力的估算装置，其特征在于，包括：获取单元，用于获取目标区域的Sentinel-2卫星影像，获取与Sentinel-2卫星影像同时空的叶面积指数LAI产品，获取目标区域的预设时间间隔的GLDAS气象数据；预处理单元，用于利用Sentinel-2卫星影像的每个像元的地表类型质量控制层取值，得到Sentinel-2卫星影像的所有晴空植被像元；计算单元，用于根据Sentinel-2卫星影像的各晴空植被像元的多个预设波段的地表反射率，计算各晴空植被像元的归一化植被指数NDVI和加强型植被指数EVI；第一处理单元，用于对叶面积指数LAI产品进行处理，得到Sentinel-2卫星影像的各晴空植被像元的叶面积指数LAI；第二处理单元，用于对GLDAS气象数据进行处理，得到六个气象参数：下行短波辐射、下行长波辐射、气温、气压、大气水汽压和风速；净初级生产力估算单元，用于利用预先训练完成的净初级生产力估算模型对每个晴空植被像元的多个预设波段的地表反射率、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI和六个气象参数进行处理，得到预设时间间隔的农作物净初级生产力。9.一种电子设备，其特征在于，包括：存储器、处理器和存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如权利要求1-7任一项所述的农作物净初级生产力的估算方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机指令，所述计算机指令被处理器执行时实现如权利要求1-7任一项所述的农作物净初级生产力的估算方法。
说明书desc
技术领域本申请涉及遥感影像处理技术领域，尤其是涉及一种农作物净初级生产力的估算方法及装置。背景技术农作物净初级生产力对于作物长势和产量监测、理解、以及预测至关重要，是现代智慧农业和精准农业技术不可或缺的一部分。不同尺度下的NPP数据还可以被用来比较不同的农业管理政策以及地理和气象条件的时空差异对于作物光合作用的不同影响。此外，准确估算农作物NPP对于农田生态系统在碳循环和碳收支上也具有一定的指导意义。然而，针对高空间分辨率卫星影像的NPP估算的研究较少，原因在于现有NPP产品的空间分辨率太低，无法区分小尺度农田内作物NPP的空间差异。尤其在异质性较高的地方，诸如多种农作物的混合像元甚至是农田与非农田地表的混合像元，这些产品的可靠性大幅降低。目前，对于高空间分辨率卫星影像的NPP估算，还未提出有效的解决方案。发明内容有鉴于此，本申请提供了一种农作物净初级生产力的估算方法及装置，以解决上述技术问题。第一方面，本申请实施例提供了一种农作物净初级生产力的估算方法，包括：获取目标区域的Sentinel-2卫星影像，获取与Sentinel-2卫星影像同时空的叶面积指数LAI产品，获取目标区域的预设时间间隔的GLDAS气象数据；利用Sentinel-2卫星影像的每个像元的地表类型质量控制层取值，得到Sentinel-2卫星影像的所有晴空植被像元；根据Sentinel-2卫星影像的各晴空植被像元的多个预设波段的地表反射率，计算各晴空植被像元的归一化植被指数NDVI和加强型植被指数EVI；对叶面积指数LAI产品进行处理，得到Sentinel-2卫星影像的各晴空植被像元的叶面积指数LAI；对GLDAS气象数据进行处理，得到六个气象参数：下行短波辐射、下行长波辐射、气温、气压、大气水汽压和风速；利用预先训练完成的净初级生产力估算模型对每个晴空植被像元的多个预设波段的地表反射率、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI和六个气象参数进行处理，得到预设时间间隔的农作物净初级生产力。进一步地，Sentinel-2卫星的多个预设波段包括：第二波段、第三波段、第四波段、第五波段、第六波段、第八波段、第8A波段、第十一波段和第十二波段。进一步地，所述净初级生产力估算模型采用随机森林模型，所述净初级生产力估算模型的训练步骤包括：获取训练数据集；所述训练数据集包括多个训练数据样本和农作物净初级生产力标注结果；所述训练数据样本包括：六个气象参数、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI和Sentinel-2卫星的多个预设波段的模拟地表反射率；利用随机森林模型对每个训练数据样本进行处理，得到农作物净初级生产力的预测结果；利用训练数据样本的农作物净初级生产力的预测结果和农作物净初级生产力标注结果，计算损失函数值；基于损失函数值，更新随机森林模型的模型参数。进一步地，获取训练数据集，包括：分别获取六个气象参数和十四个植物生物物理参数的固定取值或取值范围；其中，植物生物物理参数包括：叶绿素含量、叶面积指数LAI、植被高度、干物质含量、花青素含量、太阳天顶角、观测天顶角、类胡萝卜素含量、叶片水分当量层、老化物质比例、叶片厚度参数、叶片斜度、根部土壤水分含量和土壤亮度；对于每个非固定取值的参数，在其取值范围内按照均匀分布随机产生一个参数值，并结合固定取值的参数，生成一个包含20个参数值的参数集，由此生成预设数量的参数集；利用SCOPE辐射传输模型对每个参数集进行处理，得到对应的400~2400nm波长范围内每1nm的冠层反射率和冠层的净二氧化碳通量，其中，冠层的净二氧化碳通量为所述参数集对应的农作物净初级生产力；利用Sentinel-2卫星各波段的光谱响应函数分别对400~2400nm波长范围内每1nm的冠层反射率进行积分，得到Sentinel-2卫星的多个预设波段的模拟地表反射率；利用Sentinel-2卫星的第二个波段的模拟地表反射率、第四个波段的模拟地表反射率和第八个波段的模拟地表反射率，分别计算归一化植被指数NDVI和加强型植被指数EVI；将一个参数集的六个气象参数、归一化植被指数NDVI、加强型植被指数EVI和叶面积指数LAI以及对应的Sentinel-2卫星的多个预设波段的模拟地表反射率作为一个训练数据样本，所述参数集对应的农作物净初级生产力作为训练数据样本的农作物净初级生产力标注结果，将所有参数集对应的训练数据样本和标注结果组成训练数据集。进一步地，预设时间间隔为3小时；对GLDAS气象数据进行处理，得到六个气象参数；包括：获取目标区域的空间分辨率为0.25°的每3小时的GLDAS气象数据；从GLDAS气象数据中提取6个气象因子：下行短波辐射、下行长波辐射、气温、大气压强、比湿度和风速；计算大气水汽压：其中，为比湿度；为大气压强。进一步地，所述方法还包括：以一天内相邻时刻的农作物净初级生产力进行线性差值，得到农作物净初级生产力的以小时为单位的日变化曲线；对农作物净初级生产力的日变化曲线进行积分，得到日累计农作物净初级生产力；由此得到一个生长季的日累计农作物净初级生产力序列。进一步地，所述方法还包括：对两个相邻的日累计农作物净初级生产力进行线性差值，得到农作物净初级生产力的以天为单位的生长季变化曲线；对农作物净初级生产力的生长季变化曲线进行积分，得到生产季累计农作物净初级生产力。第二方面，本申请实施例提供了一种农作物净初级生产力的估算装置，包括：获取单元，用于获取目标区域的Sentinel-2卫星影像，获取与Sentinel-2卫星影像同时空的叶面积指数LAI产品，获取目标区域的预设时间间隔的GLDAS气象数据；预处理单元，用于利用Sentinel-2卫星影像的每个像元的地表类型质量控制层取值，得到Sentinel-2卫星影像的所有晴空植被像元；计算单元，用于根据Sentinel-2卫星影像的各晴空植被像元的多个预设波段的地表反射率，计算各晴空植被像元的归一化植被指数NDVI和加强型植被指数EVI；第一处理单元，用于对叶面积指数LAI产品进行处理，得到Sentinel-2卫星影像的各晴空植被像元的叶面积指数LAI；第二处理单元，用于对GLDAS气象数据进行处理，得到六个气象参数：下行短波辐射、下行长波辐射、气温、气压、大气水汽压和风速；净初级生产力估算单元，用于利用预先训练完成的净初级生产力估算模型对每个晴空植被像元的多个预设波段的地表反射率、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI和六个气象参数进行处理，得到预设时间间隔的农作物净初级生产力。第三方面，本申请实施例提供了一种电子设备，包括：存储器、处理器和存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现本申请实施例的农作物净初级生产力的估算方法。第四方面，本申请实施例提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机指令，所述计算机指令被处理器执行时实现本申请实施例的农作物净初级生产力的估算方法。本申请能够实现高分辨率卫星影像的农作物净初级生产力的高精度估算。附图说明为了更清楚地说明本申请具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本申请的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例提供的农作物净初级生产力的估算方法的技术路线示意图；图2为本申请实施例提供的农作物净初级生产力的估算方法的流程图；图3为本申请实施例提供的SCOPE模拟输出的植被冠层反射率光谱示例；图4为本申请实施例提供的随机森林模型的训练示意图；图5为本申请实施例提供的以每3小时瞬时NPP序列构建NPP日变化曲线；图6为本申请实施例提供的农作物净初级生产力的估算装置的功能结构图；图7为本申请实施例提供的电子设备的结构图。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本申请实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本申请的实施例的详细描述并非旨在限制要求保护的本申请的范围，而是仅仅表示本申请的选定实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。首先对本申请实施例的设计思想进行简单介绍。近些年的研究中，通过卫星遥感数据进行农作物净初级生产力估算的方法大致分为三类：第一类方法是半经验的光能利用率模型，这类方法将NPP直接表达为两个因素的综合，即吸收光合有效辐射和光能利用率，前者用来量化光合作用的能量来源，而后者用来描述特定环境条件下植物转化能量的效率。能量转化效率高度依赖于植被不同生长周期的环境条件，且不同植被种类的光能利用率多为经验观测总结，经验值很难囊括所有的植被类别。此外，LUE模型的基本假设是假定整个植被冠层为单一叶片，忽略太阳辐射的方向性和冠层结构对模型结果的影响也被提出质疑。第二类是基于过程的模型，这类方法相较于半经验模型，具有更严格的生物物理意义。它立足于最根本的植被光合作用的生物化学机制，首先在叶片尺度计算其NPP，然后再累计到冠层的尺度，代表性的模型为Farquhar光合作用模型。但由于其物理过程过于复杂且多数情况下输入参数不可得或存在高度不确定性，模型的实用性较差。第三类方法是数据驱动的统计模型，这类方法不考虑光合作用的具体生物物理过程，而是直接在遥感观测数据、气象数据、和地面辐射站点实测的NPP数据之间通过统计分析或机器学习的方式建立定量关系。这种方法的实用性较强，但本质上作为一种统计方法，它仍然受限于不同条件下模型较弱的外推能力；另外，对于机器学习模型而言，要求训练样本十分充足且足够具有代表性，而这对于历史较短的卫星数据而言是很困难的。目前，中分辨成像光谱仪官方提供自2002年起全球500米分辨率的年度NPP产品，尽管产品精度总体表现良好，但其对于农作物尤其是大豆和玉米的估算被证明存在系统性低估。另外，1981-2019年全球空间分辨率0.072727°×0.072727°的基于机理性生态模型BEPS的日NPP产品。欧洲空间局的Sentinel-2卫星提供了可见光和近红外波长范围内空间分辨率为10~20米的多光谱影像，其重访周期为5天，是产生高分辨率农作物NPP的可靠数据源。因此，设计一种利用Sentinel-2卫星数据估算农作物NPP的方法具有理论和实用价值。针对现有农作物NPP产品的缺陷和问题，本申请提出一种结合过程模型和数据驱动的统计模型的农作物净初级生产力估算方法。该方法利用辐射传输模型，模拟生成大量各种植被生物物理特征和气象环境条件下，植被冠层反射率和净初级生产力的数据集，解决了机器学习模型要求大量样本以保证模型精度的问题。应用方面，该方法可由任意给定的一幅Sentinel-2卫星遥感影像，提取多个预设波段的地表反射率，计算表征植被生长状态的植被因子，结合气象因子参数，经过机器学习模型产生高分辨率的农作物NPP产品，为精准农业等应用研究提供支持。同时，该方法的框架也可应用到其他高分辨率遥感卫星数据，为农作物的估产、管理提供数据支持。本申请的方法的总体思路如图1所示，分为四个步骤：1、首先利用辐射传输模型模拟各种植被生物物理特征和环境条件下的冠层反射率光谱和净初级生产力NPP；2、依据模拟结果，训练Sentinel-2的预设波段的地表反射率、植被指数和气象因子与NPP之间的机器学习模型；3、利用机器学习模型对实际的Sentinel-2影像提供的波段反射率和植被指数以及气象数据集提供的气象因子进行处理，产生瞬时NPP估算结果；4、最后对瞬时NPP进行插值和积分等后处理，即得到日累计NPP数据。在介绍了本申请实施例的应用场景和设计思想之后，下面对本申请实施例提供的技术方案进行说明。如图2所示，本申请实施例提供了一种农作物净初级生产力的估算方法，包括：步骤101：获取目标区域的Sentinel-2卫星影像，获取与Sentinel-2卫星影像同时空的叶面积指数LAI产品，获取目标区域的预设时间间隔的GLDAS气象数据；本实施例使用的卫星数据来源于高分辨率多光谱成像卫星Sentinel-2。对于待处理的Sentinel-2目标影像，对其进行大气校正、波段选择、重采样、重投影等一系列预处理后，得到多个预设波段的地表反射率数据；Sentinel-2卫星的多个预设波段包括：第二波段、第三波段、第四波段、第五波段、第六波段、第八波段、第8A波段、第十一波段和第十二波段，如表1所示：另外，叶面积指数LAI产品可利用欧空局官方提供的SNAP工具里的生物物理参量生产模块。步骤102：利用Sentinel-2卫星影像的每个像元的地表类型质量控制层取值，得到Sentinel-2卫星影像的所有晴空植被像元；在本实施例中，获取每个像元的地表类型质量控制层取值SCL，将SCL = 4的像元标记为晴空植被像元，仅对这些像元进行后续处理。步骤103：根据Sentinel-2卫星影像的各晴空植被像元的多个预设波段的地表反射率，计算各晴空植被像元的归一化植被指数NDVI和加强型植被指数EVI；利用第2、第4、和第8波段的地表反射率、和，计算归一化植被指数NDVI和加强型植被指数EVI：其中，为2.5，为6，为7.5，为1；步骤104：对叶面积指数LAI产品进行处理，得到Sentinel-2卫星影像的各晴空植被像元的叶面积指数LAI；以上述大气校正后得到的Sentinel-2遥感影响作为基础，利用叶面积指数LAI产品，产生等经纬度投影下20米分辨率的LAI数据。步骤105：对GLDAS气象数据进行处理，得到六个气象参数：下行短波辐射、下行长波辐射、气温、气压、大气水汽压和风速；本实施例使用的气象数据来源于全球陆地数据同化系统数据集。GLDAS融合卫星观测和地表实测数据，产生最优化的地表状态和能量通量数据产品。该数据集提供气温、降水、气压、土壤湿度、地表辐射通量、风速等关键的气象因子；数据时间范围涵盖2000年至今，每月更新一次；其空间分辨率有0.25°和1°，时间分辨率有3小时、日和月。本实施例中使用空间分辨率为0.25°的每3小时数据，以得到每3小时的瞬时NPP估算结果。由于该数据与Sentinel-2遥感影像数据的空间分辨率不同，数据使用过程中先通过最近邻法对其进行了重采样，得到与Sentinel-2匹配的气象数据。本方法选取GLDAS数据中的下行短波辐射、下行长波辐射、气温、大气压强、比湿度、风速6个气象因子。其中，下行短波辐射、下行长波辐射、气温、大气压强、风速可以直接用于模型输入，而比湿度需要经过数学转换为大气水汽压再输入模型，转换公式如下式所示：其中，为大气水汽压；为比湿度；为大气压强。步骤106：利用预先训练完成的净初级生产力估算模型对每个晴空植被像元的多个预设波段的地表反射率、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI和六个气象参数进行处理，得到预设时间间隔的农作物净初级生产力。为了得到充足的训练数据以构建遥感观测和气象因子与NPP之间的关系，本实施例使用土壤冠层观测、光化学和能量通量辐射传输模型，对叶片、冠层、土壤、气象条件等各种组合场景下的冠层反射率和碳通量进行模拟。辐射传输模型是一个土壤-冠层系辐射传输和能量平衡的综合模型，它融合了单一叶片模型Fluspect、植被冠层辐射传输模型4SAIL，以及土壤反射率模型Brightness-Shape-Moisture，能够对可见光至热红外范围内辐射光谱进行计算，并同时输出水、热和二氧化碳通量。为了模拟植被光合作用过程，辐射传输模型需要输入气象条件、植被结构参数、叶片生物物理参数、以及植被生理学参数等；模型的输出则为400~2400nm波长范围内每1nm的冠层反射率和冠层的净二氧化碳通量，即净初级生产力NPP。需要注意的是，由于C3植物和C4植物辐射传输的过程不同，需要针对C3和C4作物分别进行SCOPE模拟以及构建NPP估算模型。对所有的辐射传输模型的输入参数进行的敏感性分析，本实施例中，在进行辐射传输模型模拟时仅改变与NPP相关性较强的部分输入参数，而其他非敏感参数则固定为默认取值；输入参数的具体设置见表2。对于每个非固定取值的参数，在其取值范围内遵循均匀分布随机产生一个样本，并结合固定取值的参数，构建成一组模拟场景，输入SCOPE模型进行模拟；图3给出了一次模拟产生的冠层反射率光谱示例。本方法中，对此过程重复了10000次，最终得到了样本量为10000的训练数据集。基于SCOPE模拟得到的10000组训练数据，采用随机森林模型来构建净初级生产力估算模型，其流程如图 4所示。模型的特征变量集包含Sentinel-2影像的多个预设波段的地表反射率、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI以及植被生长过程中的六个气象参数。以SCOPE模拟输出的瞬时净初级生产力NPP作为目标变量，输入随机森林模型进行训练。RF模型通过随机建立多个决策树并将他们融合起来从而获取一个更加准确且稳定的模型。当对某个样本进行预测时，森林中每棵决策树的预测结果均值即为模型的最终预测值。为了避免模型出现欠拟合或过拟合现象，同时保证训练模型的高效快捷，本实施例对随机森林模型当中的3个重要参数利用网格搜索交叉验证法进行了敏感性分析：n_estimators：学习器的个数，即子树的数量；max_depth：建立决策树时的最大深度；max_features：模型允许单个决策树使用的最大特征数。以上三个参数值太小会出现模型欠拟合，太大则会使模型计算量过大，效率降低，因为有针对性的选取合适的参数对模型精度有着重要的作用。敏感性分析过程中，首先对于每个参数建立一个可能的取值列表，然后通过遍历每种参数的取值组合建立模型并计算模型精度，选取最高精度的模型参数作为调参的最终结果，并以此产生最终净初级生产力估算模型。此外，在得到一天当中每3小时的农作物净初级生产力后，通过线性插值，即可得到NPP的日变化曲线。对该曲线在0~24时的范围进行积分，即得到日累计NPP的计算结果。需要注意的是，每3小时的输入数据中仅改变了气象数据，而保持冠层反射率和植被指数不变，这是由于反射率是地表的固有属性，且植被指数由植被的生长状态决定，因此它们在单日内的变化可以忽略不计。类似的，将日NPP序列在植被生长季时间范围内进行积分，即得到生长季的累计NPP，而该数据则是农作物估产的基础。以中国河南省鹤壁市为例，利用Sentinel-2数据产生20米分辨率的日NPP数据。可以看到，该市的农作物集中在中部和东部区域；在2月12日作物开始进入生长期，有较低的光合作用发生；在4月12日作物已经处于生长的高峰时期，大部分作物区域的日NPP达到4 gC/m2及以上；作物在5~6月成熟并被收割，到了7月6日，作物种植区域的地表显示出裸地特征，日光合作用基本为0。到MODIS数据上，产生了2022年1月1日至5月10日该国农用地的逐日NPP数据，并且计算了该时间段内的累计NPP数据，用于表征作物的单产量。作为比较，也产生了2019~2021年的类似结果。作物NPP随着季节的变化趋势：1）整体上，在3月之前全境的作物处于休眠期，日固碳量几乎为0；2）从3月初开始，作物进入生长周期，其日固碳量开始逐渐增加；3）3月~5月作物进入快速生长阶段，尤其是南部以冬小麦为主的地区其固碳量展现出显著的增长趋势，至5月10日其日NPP已经接近于5 g C/m2。得到逐日的NPP估算结果后，可以计算指定时间段内的累计NPP。冬小麦像元在过去4年从年初至5月10日的逐日NPP时间序列的比较。可以看出作物每年都是在大约3月中旬开始进入生长期，4月初进入快速增长期；年际之间的比较表明了2022年的生长状况不及前三年，2022年累计NPP为125.815 g C/m2，显著低于前三年。基于上述实施例，本申请实施例提供了一种农作物净初级生产力的估算装置，参阅图6所示，本申请实施例提供的农作物净初级生产力的估算装置200至少包括：获取单元201，用于获取目标区域的Sentinel-2卫星影像，获取与Sentinel-2卫星影像同时空的叶面积指数LAI产品，获取目标区域的预设时间间隔的GLDAS气象数据；预处理单元202，用于利用Sentinel-2卫星影像的每个像元的地表类型质量控制层取值，得到Sentinel-2卫星影像的所有晴空植被像元；计算单元203，用于根据Sentinel-2卫星影像的各晴空植被像元的多个预设波段的地表反射率，计算各晴空植被像元的归一化植被指数NDVI和加强型植被指数EVI；第一处理单元204，用于对叶面积指数LAI产品进行处理，得到Sentinel-2卫星影像的各晴空植被像元的叶面积指数LAI；第二处理单元205，用于对GLDAS气象数据进行处理，得到六个气象参数：下行短波辐射、下行长波辐射、气温、气压、大气水汽压和风速；净初级生产力估算单元206，用于利用预先训练完成的净初级生产力估算模型对每个晴空植被像元的多个预设波段的地表反射率、归一化植被指数NDVI、加强型植被指数EVI、叶面积指数LAI和六个气象参数进行处理，得到预设时间间隔的农作物净初级生产力。需要说明的是，本申请实施例提供的农作物净初级生产力的估算装置200解决技术问题的原理与本申请实施例提供的农作物净初级生产力的估算方法相似，因此，本申请实施例提供的农作物净初级生产力的估算装置200的实施可以参见本申请实施例提供的农作物净初级生产力的估算方法的实施，重复之处不再赘述。如图7所示，本申请实施例提供的电子设备300至少包括：处理器301、存储器302和存储在存储器302上并可在处理器301上运行的计算机程序，处理器301执行计算机程序时实现本申请实施例提供的农作物净初级生产力的估算方法。本申请实施例提供的电子设备300还可以包括连接不同组件的总线303。其中，总线303表示几类总线结构中的一种或多种，包括存储器总线、外围总线、局域总线等。存储器302可以包括易失性存储器形式的可读介质，例如随机存储器3021和/或高速缓存存储器3022，还可以进一步包括只读存储器3023。存储器302还可以包括具有一组程序模块3025的程序工具3024，程序模块3025包括但不限于：操作子系统、一个或者多个应用程序、其它程序模块以及程序数据，这些示例中的每一个或某种组合中可能包括网络环境的实现。电子设备300也可以与一个或多个外部设备304通信，还可以与一个或者多个使得用户能与电子设备300交互的设备通信，和/或，与使得电子设备300与一个或多个其它电子设备300进行通信的任何设备通信。这种通信可以通过输入/输出接口305进行。并且，电子设备300还可以通过网络适配器306与一个或者多个网络，广域网和/或公共网络，例如因特网）通信。如图7所示，网络适配器306通过总线303与电子设备300的其它模块通信。应当理解，尽管图7中未示出，可以结合电子设备300使用其它硬件和/或软件模块，包括但不限于：微代码、设备驱动器、冗余处理器、外部磁盘驱动阵列、磁盘阵列子系统、磁带驱动器以及数据备份存储子系统等。需要说明的是，图7所示的电子设备300仅仅是一个示例，不应对本申请实施例的功能和使用范围带来任何限制。本申请实施例还提供了一种计算机可读存储介质，该计算机可读存储介质存储有计算机指令，该计算机指令被处理器执行时实现本申请实施例提供的农作物净初级生产力的估算方法。此外，尽管在附图中以特定顺序描述了本申请方法的操作，但是，这并非要求或者暗示必须按照该特定顺序来执行这些操作，或是必须执行全部所示的操作才能实现期望的结果。附加地或备选地，可以省略某些步骤，将多个步骤合并为一个步骤执行，和/或将一个步骤分解为多个步骤执行。尽管已描述了本申请的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例作出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本申请范围的所有变更和修改。最后应说明的是：以上各实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述各实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围。
