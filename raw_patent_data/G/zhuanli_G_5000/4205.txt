标题title
一种集装箱吊具检测方法、装置、计算机设备及存储介质
摘要abst
本申请提供了一种集装箱吊具检测方法、装置、计算机设备及存储介质，其中，所述方法包括：获取目标检测图像；基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，其中，所述目标车道为目标车辆所在的车道；判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准，其中，所述目标桥吊为所述目标载箱吊具所归属于的桥吊；若所述雷达点云簇的尺寸和方位均满足所述预设标准，则根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离。采用上述方法，以提高对吊具进行检测的准确性。
权利要求书clms
1.一种集装箱吊具检测方法，其特征在于，所述方法包括：获取目标检测图像；基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，其中，所述目标车道为目标车辆所在的车道；判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准，其中，所述目标桥吊为所述目标载箱吊具所归属于的桥吊；若所述雷达点云簇的尺寸和方位均满足所述预设标准，则根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离。2.根据权利要求1所述的方法，其特征在于，所述基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，包括：将所述目标检测图像输入至训练好的用于对载箱吊具的矩形边界框进行识别的模型中确定出所述目标检测图像中每个载箱吊具的矩形边界框；根据每个载箱吊具的矩形边界框在所述目标检测图像中的位置确定出目标载箱吊具，其中，所述目标载箱吊具为位于所述目标车辆所在车道的载箱吊具。3.根据权利要求1所述的方法，其特征在于，在判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准前，所述方法包括：获取目标区域的目标雷达点云数据，其中，所述目标区域中包含所述目标桥吊；对所述目标雷达点云数据进行地面拟合；对进行地面拟合后得到的障碍物点进行欧式聚类得到雷达点云簇，其中，所述障碍物点是将进行地面拟合后得到的地面点进行过滤后得到的。4.根据权利要求1所述的方法，其特征在于，所述根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离，包括：将所述雷达点云簇的中心点在以所述目标车辆为原点的车辆坐标系下的x坐标值确定为所述目标载箱吊具到所述目标车辆的实际距离。5.根据权利要求1所述的方法，其特征在于，在根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离后，所述方法还包括：判断所述目标载箱吊具的数量是否超过一个；若所述目标载箱吊具的数量未超过一个，则将所述目标载箱吊具到所述目标车辆的实际距离作为最终检测结果进行输出；若所述目标载箱吊具的数量超过一个，则根据每个目标载箱吊具的矩形边界框的宽度和每个目标载箱吊具的中心点的高度确定出每个目标载箱吊具与所述目标车辆之间的参考距离；对于每个目标载箱吊具，判断该目标载箱吊具到所述目标车辆的实际距离与该目标载箱吊具到所述目标车辆的参考距离之间的距离差值是否超过预设阈值；若所述距离差值未超过所述预设阈值，则将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储。6.根据权利要求5所述的方法，其特征在于，在将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储后，所述方法还包括：判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否超过所述预设阈值；若每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均未超过所述预设阈值，或者每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均超过所述预设阈值，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。7.根据权利要求6所述的方法，其特征在于，在判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否均超过所述预设阈值后，所述方法还包括：若同时存在超过所述预设阈值的距离差值的目标载箱吊具和未超过所述预设阈值的距离差值的目标载箱吊具，则判断未超过所述预设阈值的距离差值的目标载箱吊具的置信度是否大于超过所述预设阈值的距离差值的目标载箱吊具；若未超过所述预设阈值的距离差值的目标载箱吊具的置信度大于超过所述预设阈值的距离差值的目标载箱吊具，则将未超过所述预设阈值的距离差值的目标载箱吊具所归属于的目标桥吊的中心点到所述目标车辆的实际距离作为最终检测结果输出；若未超过所述预设阈值的距离差值的目标载箱吊具的置信度小于等于超过所述预设阈值的距离差值的目标载箱吊具，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。8.一种集装箱吊具检测装置，其特征在于，所述装置包括：图像获取模块，用于获取目标检测图像；目标载箱吊具确定模块，用于基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，其中，所述目标车道为目标车辆所在的车道；第一判断模块，用于判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准，其中，所述目标桥吊为所述目标载箱吊具所归属于的桥吊；实际距离确定模块，用于若所述雷达点云簇的尺寸和方位均满足所述预设标准，则根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离。9.一种计算机设备，其特征在于，包括：处理器、存储器和总线，所述存储器存储有所述处理器可执行的机器可读指令，当计算机设备运行时，所述处理器与所述存储器之间通过总线通信，所述机器可读指令被所述处理器执行时执行如权利要求1至7中任一所述的集装箱吊具检测方法的步骤。10.一种计算机可读存储介质，其特征在于，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器运行时执行如权利要求1至7中任意一项所述的集装箱吊具检测方法的步骤。
说明书desc
技术领域本发明涉及码头运输管理领域，具体而言，涉及一种集装箱吊具检测方法、装置、计算机设备及存储介质。背景技术在港口作业中，主要的装卸箱任务是在桥吊下完成，装卸箱体的大型夹具称为吊具。吊具在桥吊下可以做前后、左右、上下三个维度的平移运动，以达到与箱体精准对位的目的。集装箱的重量在数吨以上，基于安全考虑，前方有载箱吊具时，我车要及时停车、禁止通过桥吊。对于自动驾驶卡车来说，能识别出作业的吊具及其到自车的距离，对于安全规划路径非常必要。根据港口卡车实际运行速度及加速度，前方60米内距离我们最近的吊具需要能够检出。现有技术中，对于目标车辆所在车道的载箱吊具的检测通常是利用二维图像，仅使用单相机来检测吊具，通过图像的中吊具的大小从数据库中映射获得当前吊具大小所应该具有的高度。发明人在研究中发现，由于吊具的大小和尺寸不是统一的，在根据吊具的大小映射高度时，吊具的大小并不仅仅是因为高度变化而改变，也有可能是吊具本身大小的变化，从而会导致根据吊具大小映射得到的高度是不准确的，从而降低了对吊具进行检测的准确性。发明内容有鉴于此，本发明的目的在于提供一种集装箱吊具检测方法、装置、计算机设备及存储介质，以提高对吊具进行检测的准确性。第一方面，本申请实施例提供了一种集装箱吊具检测方法，所述方法包括：获取目标检测图像；基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，其中，所述目标车道为目标车辆所在的车道；判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准，其中，所述目标桥吊为所述目标载箱吊具所归属于的桥吊；若所述雷达点云簇的尺寸和方位均满足所述预设标准，则根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离。可选地，所述基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，包括：将所述目标检测图像输入至训练好的用于对载箱吊具的矩形边界框进行识别的模型中确定出所述目标检测图像中每个载箱吊具的矩形边界框；根据每个载箱吊具的矩形边界框在所述目标检测图像中的位置确定出目标载箱吊具，其中，所述目标载箱吊具为位于所述目标车辆所在车道的载箱吊具。可选地，在判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准前，所述方法包括：获取目标区域的目标雷达点云数据，其中，所述目标区域中包含所述目标桥吊；对所述目标雷达点云数据进行地面拟合；对进行地面拟合后得到的障碍物点进行欧式聚类得到雷达点云簇，其中，所述障碍物点是将进行地面拟合后得到的地面点进行过滤后得到的。可选地，所述根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离，包括：将所述雷达点云簇的中心点在以所述目标车辆为原点的车辆坐标系下的x坐标值确定为所述目标载箱吊具到所述目标车辆的实际距离。可选地，在根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离后，所述方法还包括：判断所述目标载箱吊具的数量是否超过一个；若所述目标载箱吊具的数量未超过一个，则将所述目标载箱吊具到所述目标车辆的实际距离作为最终检测结果进行输出；若所述目标载箱吊具的数量超过一个，则根据每个目标载箱吊具的矩形边界框的宽度和每个目标载箱吊具的中心点的高度确定出每个目标载箱吊具与所述目标车辆之间的参考距离；对于每个目标载箱吊具，判断该目标载箱吊具到所述目标车辆的实际距离与该目标载箱吊具到所述目标车辆的参考距离之间的距离差值是否超过预设阈值；若所述距离差值未超过所述预设阈值，则将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储。可选地，在将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储后，所述方法还包括：判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否超过所述预设阈值；若每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均未超过所述预设阈值，或者每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均超过所述预设阈值，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。可选地，在判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否均超过所述预设阈值后，所述方法还包括：若同时存在超过所述预设阈值的距离差值的目标载箱吊具和未超过所述预设阈值的距离差值的目标载箱吊具，则判断未超过所述预设阈值的距离差值的目标载箱吊具的置信度是否大于超过所述预设阈值的距离差值的目标载箱吊具；若未超过所述预设阈值的距离差值的目标载箱吊具的置信度大于超过所述预设阈值的距离差值的目标载箱吊具，则将未超过所述预设阈值的距离差值的目标载箱吊具所归属于的目标桥吊的中心点到所述目标车辆的实际距离作为最终检测结果输出；若未超过所述预设阈值的距离差值的目标载箱吊具的置信度小于等于超过所述预设阈值的距离差值的目标载箱吊具，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。第二方面，本申请实施例提供了一种集装箱吊具检测装置，所述装置包括：图像获取模块，用于获取目标检测图像；目标载箱吊具确定模块，用于基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，其中，所述目标车道为目标车辆所在的车道；第一判断模块，用于判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准，其中，所述目标桥吊为所述目标载箱吊具所归属于的桥吊；实际距离确定模块，用于若所述雷达点云簇的尺寸和方位均满足所述预设标准，则根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离。可选地，所述目标载箱吊具确定模块在用于基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具时，具体用于：将所述目标检测图像输入至训练好的用于对载箱吊具的矩形边界框进行识别的模型中确定出所述目标检测图像中每个载箱吊具的矩形边界框；根据每个载箱吊具的矩形边界框在所述目标检测图像中的位置确定出目标载箱吊具，其中，所述目标载箱吊具为位于所述目标车辆所在车道的载箱吊具。可选地，所述装置还包括：雷达点云数据确定模块，用于在判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准前，获取目标区域的目标雷达点云数据，其中，所述目标区域中包含所述目标桥吊；地面拟合模块，用于对所述目标雷达点云数据进行地面拟合；雷达点云簇确定模块，用于对进行地面拟合后得到的障碍物点进行欧式聚类得到雷达点云簇，其中，所述障碍物点是将进行地面拟合后得到的地面点进行过滤后得到的。可选地，所述实际距离确定模块在用于根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离时，具体用于：将所述雷达点云簇的中心点在以所述目标车辆为原点的车辆坐标系下的x坐标值确定为所述目标载箱吊具到所述目标车辆的实际距离。可选地，所述装置还包括：第二判断模块，用于在根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离后，判断所述目标载箱吊具的数量是否超过一个；第一结果输出模块，用于若所述目标载箱吊具的数量未超过一个，则将所述目标载箱吊具到所述目标车辆的实际距离作为最终检测结果进行输出；参考距离确定模块，用于若所述目标载箱吊具的数量超过一个，则根据每个目标载箱吊具的矩形边界框的宽度和每个目标载箱吊具的中心点的高度确定出每个目标载箱吊具与所述目标车辆之间的参考距离；第三判断模块，用于对于每个目标载箱吊具，判断该目标载箱吊具到所述目标车辆的实际距离与该目标载箱吊具到所述目标车辆的参考距离之间的距离差值是否超过预设阈值；目标距离存储模块，用于若所述距离差值未超过所述预设阈值，则将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储。可选地，所述装置还包括：第四判断模块，用于在将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储后，判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否超过所述预设阈值；第二结果输出模块，用于若每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均未超过所述预设阈值，或者每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均超过所述预设阈值，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。可选地，所述装置还包括：第三结果输出模块，用于在判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否均超过所述预设阈值后，若同时存在超过所述预设阈值的距离差值的目标载箱吊具和未超过所述预设阈值的距离差值的目标载箱吊具，则判断未超过所述预设阈值的距离差值的目标载箱吊具的置信度是否大于超过所述预设阈值的距离差值的目标载箱吊具；第四结果输出模块，用于若未超过所述预设阈值的距离差值的目标载箱吊具的置信度大于超过所述预设阈值的距离差值的目标载箱吊具，则将未超过所述预设阈值的距离差值的目标载箱吊具所归属于的目标桥吊的中心点到所述目标车辆的实际距离作为最终检测结果输出；第四结果输出模块，用于若未超过所述预设阈值的距离差值的目标载箱吊具的置信度小于等于超过所述预设阈值的距离差值的目标载箱吊具，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。第三方面，本申请实施例提供了一种计算机设备，包括：处理器、存储器和总线，所述存储器存储有所述处理器可执行的机器可读指令，当计算机设备运行时，所述处理器与所述存储器之间通过总线通信，所述机器可读指令被所述处理器执行时执行上述第一方面中任一种可选地实施方式中所述的集装箱吊具检测方法的步骤。第四方面，本申请实施例提供了一种计算机可读存储介质，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器运行时执行上述第一方面中任一种可选地实施方式中所述的集装箱吊具检测方法的步骤。本申请提供的技术方案包括但不限于以下有益效果：获取目标检测图像；基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，其中，所述目标车道为目标车辆所在的车道；通过上述步骤，能够将载箱吊具进行分类，筛选出位于目标车辆所在车道的目标载箱吊具。判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准，其中，所述目标桥吊为所述目标载箱吊具所归属于的桥吊；若所述雷达点云簇的尺寸和方位均满足所述预设标准，则根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离。通过上述步骤，能够根据目标载箱吊具所属于的目标桥吊的雷达点云簇确定出目标载箱吊具到目标车辆的实际距离。采用上述方法，通过对图像中位于目标车道的载箱吊具进行确定后，根据该载箱吊具所归属于的桥吊的雷达点云簇的坐标信息确定出该载箱吊具到目标车辆的实际距离，以提高对吊具进行检测的准确性。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，5在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1示出了本发明实施例一所提供的一种集装箱吊具检测方法的流程图；图2示出了本发明实施例一所提供的一种目标载箱吊具确定方法的流程图；图3示出了本发明实施例一所提供的一种实际距离确定方法的流程图；图4示出了本发明实施例一所提供的一种目标距离存储方法的流程图；图5示出了本发明实施例一所提供的一种检测结果输出方法的流程图；图6示出了本发明实施例一所提供的第二种检测结果输出方法的流程图；图7示出了本发明实施例二所提供的一种集装箱吊具检测装置的结构示意图；图8示出了本发明实施例二所提供的第二种目标载箱吊具确定装置的结构示意图；图9示出了本发明实施例二所提供的第三种目标载箱吊具确定装置的0结构示意图；图10示出了本发明实施例二所提供的第四种目标载箱吊具确定装置的结构示意图；图11示出了本发明实施例二所提供的第五种目标载箱吊具确定装置的结构示意图；图12示出了本发明实施例三所提供的一种计算机设备的结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例一为便于对本申请进行理解，下面结合图1示出的本发明实施例一所提供的一种集装箱吊具检测方法的流程图描述的内容对本申请实施例一进行详细说明。参见图1所示，图1示出了本发明实施例一所提供的一种集装箱吊具检测方法的流程图，其中，所述方法包括步骤S101～S104：S101：获取目标检测图像。具体的，目标检测图像为包含有载箱吊具的图像，目标检测图像可以通过相机获取，针对载箱吊具的点云数据可以通过激光雷达获取；可以根据集装箱吊具的边界位置和相机的安装位置，确定相机的型号和安装角度，以确保在60米远，位于敲掉最高点的吊具的图像可以被采集到；激光雷达的安装位置不进行限制，但需要保证能扫描到60米内的桥吊。在实际操作中，优选使用FOV垂直120度，水平60度的相机，图像宽高1080*1920pixel；使用32线激光雷达。S102：基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，其中，所述目标车道为目标车辆所在的车道。具体的，目标检测图像中包含有一个或者多个载箱吊具，由于在车辆行驶时，只有车辆所在车道上方的载箱吊具可能会对车辆的安全形成威胁，所以需要根据每个载箱吊具其各自的位置确定出位于目标车辆所在车道的载箱吊具，这些载箱吊具是需要进行检测的载箱吊具；目标车辆为自车。S103：判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准，其中，所述目标桥吊为所述目标载箱吊具所归属于的桥吊。具体的，是码头上用于进行装卸作业的起重机，用于对载箱吊具进行移动，当确定出目标载箱吊具后，判断用于描述所述目标载箱吊具所归属于的目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准，以根据判断结果确定出目标桥吊的中心位置是否能用以描述载箱吊具到目标车辆的实际距离。S104：若所述雷达点云簇的尺寸和方位均满足所述预设标准，则根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离。具体的，若所述雷达点云簇的尺寸和方位均满足所述预设标准，说明目标桥吊的中心位置能用以描述载箱吊具到目标车辆的实际距离，则根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离；若所述雷达点云簇的尺寸和方位存在不满足所述预设标准的物理量，说明目标桥吊的中心位置不能用以描述载箱吊具到目标车辆的实际距离，则停止对载箱吊具的检测。预设标准包括：第一，雷达点云簇的主方向与车体系中的x轴正向夹角小于第一阈值；第二，雷达点云簇的长度在10～20米，最高点z坐标值大于6米，宽度在3米左右；第三：连续图像帧中，桥吊的位置几乎不发生移动，即在连续几帧中，点云簇的凸包顶点坐标、点云簇的中心坐标、点云簇最小外包矩形的尺寸等相差小于第二阈值。在一个可行的实施方案中，参见图2所示，图2示出了本发明实施例一所提供的一种目标载箱吊具确定方法的流程图，其中，所述基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，包括步骤S201～S202：S201：将所述目标检测图像输入至训练好的用于对载箱吊具的矩形边界框进行识别的模型中确定出所述目标检测图像中每个载箱吊具的矩形边界框。具体的，在进行步骤S201前，需要使用采集到的图像对用于对载箱吊具的矩形边界框进行识别的模型进行训练，训练过程包括以下步骤：步骤一：需要采集完备的数据集，保证不同的环境下的吊具都能够被检出；吊具图像样本需要覆盖夜景数据、阴雨天数据、逆光数据等；步骤二：将图像数据进行类别标注，选择在YOLOX网络模型下训练并调参数，以得到训练好的模型，模型的输入为包含载箱吊具的图像，输出为载箱吊具的矩形边界框和载箱吊具的置信度。在得到训练好的模型后，将目标检测图像输入至训练好的模型中得到所述目标检测图像中每个载箱吊具的矩形边界框和置信度。S202：根据每个载箱吊具的矩形边界框在所述目标检测图像中的位置确定出目标载箱吊具，其中，所述目标载箱吊具为位于所述目标车辆所在车道的载箱吊具。具体的，考虑到只有自车所在车道的载箱吊具对我车的行进有安全隐患，这里根据矩形边界框的位置过滤掉其他车道的吊具；吊具相机一般居于车辆左右方向的中心位置，如果相机安装较偏，需要根据相机到车体的外参，来确定自车道的吊具在图像的位置。在一个可行的实施方案中，参见图3所示，图3示出了本发明实施例一所提供的一种实际距离确定方法的流程图，其中，在判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准前，所述方法包括步骤S301～S303：S301：获取目标区域的目标雷达点云数据，其中，所述目标区域中包含所述目标桥吊。具体的，首先对雷达进行标定，获得从雷达到车体系的外参数据；将点云数据从雷达坐标系下转换到车体坐标系；base基底坐标系规定以自车后轴中心为坐标原点o，车头方向为x正向，垂直于x轴向左为y轴正向，垂直xoy平面向上为z轴正向。S302：对所述目标雷达点云数据进行地面拟合。具体的，在车体系下，对所述目标雷达点云数据做地面拟合。S303：对进行地面拟合后得到的障碍物点进行欧式聚类得到雷达点云簇，其中，所述障碍物点是将进行地面拟合后得到的地面点进行过滤后得到。具体的，将拟合后的地面点过滤掉，对剩余的障碍物点进行欧式聚类，这样障碍物形成雷达点云簇。在一个可行的实施方案中，所述根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离，包括：将所述雷达点云簇的中心点在以所述目标车辆为原点的车辆坐标系下的x坐标值确定为所述目标载箱吊具到所述目标车辆的实际距离。具体的，将所述雷达点云簇或者是雷达点云簇的矩形边界框的中心点在以所述目标车辆为原点的车辆坐标系下的x坐标值，确定为所述目标载箱吊具到所述目标车辆的实际距离。在一个可行的实施方案中，参见图4所示，图4示出了本发明实施例一所提供的一种目标距离存储方法的流程图，其中，在根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离后，所述方法包括步骤S401～S406：S401：判断所述目标载箱吊具的数量是否超过一个。S402：若所述目标载箱吊具的数量未超过一个，则将所述目标载箱吊具到所述目标车辆的实际距离作为最终检测结果进行输出。具体的，若所述目标载箱吊具的数量未超过一个，则直接将所述目标载箱吊具到所述目标车辆的实际距离作为最终检测结果进行输出。S403：若所述目标载箱吊具的数量超过一个，则根据每个目标载箱吊具的矩形边界框的宽度和每个目标载箱吊具的中心点的高度确定出每个目标载箱吊具与所述目标车辆之间的参考距离。具体的，若所述目标载箱吊具的数量超过一个，则需要与雷达点云获得的多个桥吊进行对应匹配，预先根据先验数据建立载箱吊具的矩形边界框的宽度、载箱吊具的中心点的高度两个数据和载箱吊具与目标车辆之间的参考距离之间的映射关系，然后根据图像中目标载箱吊具的矩形边界框的宽度和目标载箱吊具的中心点的高度找出与上述两个数据具有映射关系的参考距离，用于进行后续比较。S404：对于每个目标载箱吊具，判断该目标载箱吊具到所述目标车辆的实际距离与该目标载箱吊具到所述目标车辆的参考距离之间的距离差值是否超过预设阈值。S405：若所述距离差值未超过所述预设阈值，则将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储。具体的，例如，在目标车辆所在车道检出吊具SpreaderA和吊具SpreaderB，SpreaderA的矩形边界框boxA的宽度为widthA、SpreaderB的矩形边界框boxB的宽度为widthB，boxA中心点的在高度方向的坐标为center_y_A、boxB中心点的在高度方向的坐标为center_y_B；桥吊有两座，分别记为Crane_M、Crane_N，桥吊Crane_M中心点到base系的x轴方向距离为bounding_box_x_M、桥吊Crane_N中心点到base系的x轴方向距离为bounding_box_x_N。根据先验数据统计出，当桥吊Crane的中心点到base系的x轴方向距离bounding_box_x为＝10米、12米、15米、20米、30米、40米、50米、60米时，吊具距离车挂板从高到低的高度height＝15米、10米、8米、6米、5米、4米、3米、2米、1米、0.5米、0米时，在先验数据中共记录有88个位置下吊具的矩形边界框box的宽度width和中心点的在高度方向的坐标center；将widthA、center_y_A与上述88个位置的宽度width、矩形边界框中心点的在高度方向的坐标center比较，选取最相近的width、center对应的bounding_box_x确定为吊具SpreaderA到base系的x轴方向距离bounding_box_x_A，同样方法得到吊具SpreaderB到base系的x轴方向距离bounding_box_x_B。将bounding_box_x_M和bounding_box_x_N分别与bounding_box_x_A比较，如果bounding_box_x_M、bounding_box_x_N二者中和bounding_box_x_A最相近的值与bounding_box_x_A的差小于阈值T，则将bounding_box_x_M、bounding_box_x_N二者中和bounding_box_x_A最相近的值赋值给bounding_box_x_A；bounding_box_x_B同理可得。在一个可行的实施方案中，参见图5所示，图5示出了本发明实施例一所提供的一种检测结果输出方法的流程图，其中，在将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储后，所述方法包括步骤S501～S502：S501：判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否超过所述预设阈值。S502：若每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均未超过所述预设阈值，或者每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均超过所述预设阈值，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。具体的，若均未超过所述预设阈值，或均超过所述预设阈值，即如果SpreaderA、SpreaderB均能对应到激光桥吊，或者SpreaderA、SpreaderB均不能对应到激光桥吊，则最终检测结果为前方作业载箱吊具到目标车辆的距离为bounding_box_x_M和bounding_box_x_N中的最小值。在一个可行的实施方案中，参见图6所示，图6示出了本发明实施例一所提供的第二种检测结果输出方法的流程图，其中，在判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否均超过所述预设阈值后，所述方法包括步骤S601～S603：S601：若同时存在超过所述预设阈值的距离差值的目标载箱吊具和未超过所述预设阈值的距离差值的目标载箱吊具，则判断未超过所述预设阈值的距离差值的目标载箱吊具的置信度是否大于超过所述预设阈值的距离差值的目标载箱吊具。S602：若未超过所述预设阈值的距离差值的目标载箱吊具的置信度大于超过所述预设阈值的距离差值的目标载箱吊具，则将未超过所述预设阈值的距离差值的目标载箱吊具所归属于的目标桥吊的中心点到所述目标车辆的实际距离作为最终检测结果输出。S603：若未超过所述预设阈值的距离差值的目标载箱吊具的置信度小于等于超过所述预设阈值的距离差值的目标载箱吊具，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。具体的，若同时存在超过所述预设阈值的距离差值和未超过所述预设阈值的距离差值，则根据目标载箱吊具的置信度大小对检测结果进行输出。当与所述目标车辆的参考距离之间的距离差值未超过所述预设阈值的目标载箱吊具的置信度大于与所述目标车辆的参考距离之间的距离差值超过所述预设阈值的目标载箱吊具时，则执行步骤S602，否则执行步骤S603。例如，当吊具SpreaderA与所述目标车辆的参考距离之间的距离差值未超过所述预设阈值，而吊具SpreaderB与所述目标车辆的参考距离之间的距离差值超过所述预设阈值，则判断吊具SpreaderA的置信度与吊具SpreaderB的置信度大小，若吊具SpreaderA的置信度大于吊具SpreaderB的置信度，则将吊具SpreaderA所归属于的桥吊的中心点到目标车辆的距离作为最终结果输出；而若吊具SpreaderA的置信度小于等于吊具SpreaderB的置信度，则将吊具SpreaderA所归属于的桥吊的中心点到目标车辆的距离与吊具SpreaderB所归属于的桥吊的中心点到目标车辆的距离中最小的距离作为最终检测结果输出。实施例二参见图7所示，图7示出了本发明实施例二所提供的一种集装箱吊具检测装置的结构示意图，其中，如图7所示，本发明实施例二所提供的一种集装箱吊具检测装置包括：图像获取模块701，用于获取目标检测图像；目标载箱吊具确定模块702，用于基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具，其中，所述目标车道为目标车辆所在的车道；第一判断模块703，用于判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准，其中，所述目标桥吊为所述目标载箱吊具所归属于的桥吊；实际距离确定模块704，用于若所述雷达点云簇的尺寸和方位均满足所述预设标准，则根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离。在一个可行的实施方案中，所述目标载箱吊具确定模块在用于基于所述目标检测图像中每个载箱吊具的位置确定出位于目标车道中的目标载箱吊具时，具体用于：将所述目标检测图像输入至训练好的用于对载箱吊具的矩形边界框进行识别的模型中确定出所述目标检测图像中每个载箱吊具的矩形边界框；根据每个载箱吊具的矩形边界框在所述目标检测图像中的位置确定出目标载箱吊具，其中，所述目标载箱吊具为位于所述目标车辆所在车道的载箱吊具。在一个可行的实施方案中，参见图8所示，图8示出了本发明实施例二所提供的第二种目标载箱吊具确定装置的结构示意图，其中，所述装置还包括：雷达点云数据确定模块801，用于在判断用于描述目标桥吊的雷达点云簇的尺寸和方位是否均满足预设标准前，获取目标区域的目标雷达点云数据，其中，所述目标区域中包含所述目标桥吊；地面拟合模块802，用于对所述目标雷达点云数据进行地面拟合；雷达点云簇确定模块803，用于对进行地面拟合后得到的障碍物点进行欧式聚类得到雷达点云簇，其中，所述障碍物点是将进行地面拟合后得到的地面点进行过滤后得到的。在一个可行的实施方案中，所述实际距离确定模块在用于根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离时，具体用于：将所述雷达点云簇的中心点在以所述目标车辆为原点的车辆坐标系下的x坐标值确定为所述目标载箱吊具到所述目标车辆的实际距离。在一个可行的实施方案中，参见图9所示，图9示出了本发明实施例二所提供的第三种目标载箱吊具确定装置的结构示意图，其中，所述装置还包括：第二判断模块901，用于在根据所述雷达点云簇的中心点坐标确定出所述目标载箱吊具到所述目标车辆的实际距离后，判断所述目标载箱吊具的数量是否超过一个；第一结果输出模块902，用于若所述目标载箱吊具的数量未超过一个，则将所述目标载箱吊具到所述目标车辆的实际距离作为最终检测结果进行输出；参考距离确定模块903，用于若所述目标载箱吊具的数量超过一个，则根据每个目标载箱吊具的矩形边界框的宽度和每个目标载箱吊具的中心点的高度确定出每个目标载箱吊具与所述目标车辆之间的参考距离；第三判断模块904，用于对于每个目标载箱吊具，判断该目标载箱吊具到所述目标车辆的实际距离与该目标载箱吊具到所述目标车辆的参考距离之间的距离差值是否超过预设阈值；目标距离存储模块905，用于若所述距离差值未超过所述预设阈值，则将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储。在一个可行的实施方案中，参见图10所示，图10示出了本发明实施例二所提供的第四种目标载箱吊具确定装置的结构示意图，其中，所述装置还包括：第四判断模块1001，用于在将所述参考距离作为该目标载箱吊具到所述目标车辆的目标距离进行存储后，判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否超过所述预设阈值；第二结果输出模块1002，用于若每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均未超过所述预设阈值，或者每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值均超过所述预设阈值，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。在一个可行的实施方案中，参见图11所示，图11示出了本发明实施例二所提供的第五种目标载箱吊具确定装置的结构示意图，其中，所述装置还包括：第三结果输出模块1101，用于在判断每个目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离与其各自到所述目标车辆的参考距离之间的距离差值是否均超过所述预设阈值后，若同时存在超过所述预设阈值的距离差值的目标载箱吊具和未超过所述预设阈值的距离差值的目标载箱吊具，则判断未超过所述预设阈值的距离差值的目标载箱吊具的置信度是否大于超过所述预设阈值的距离差值的目标载箱吊具；第四结果输出模块1102，用于若未超过所述预设阈值的距离差值的目标载箱吊具的置信度大于超过所述预设阈值的距离差值的目标载箱吊具，则将未超过所述预设阈值的距离差值的目标载箱吊具所归属于的目标桥吊的中心点到所述目标车辆的实际距离作为最终检测结果输出；第五结果输出模块1103，用于若未超过所述预设阈值的距离差值的目标载箱吊具的置信度小于等于超过所述预设阈值的距离差值的目标载箱吊具，则将所有目标载箱吊具其各自归属于的目标桥吊的中心点到所述目标车辆的实际距离中距离值最小的实际距离作为最终检测结果输出。实施例三基于同一申请构思，参见图12所示，图12示出了本发明实施例三所提供的一种计算机设备的结构示意图，其中，如图12所示，本申请实施例三所提供的一种计算机设备1200包括：处理器1201、存储器1202和总线1203，所述存储器1202存储有所述处理器1201可执行的机器可读指令，当计算机设备1200运行时，所述处理器1201与所述存储器1202之间通过所述总线1203进行通信，所述机器可读指令被所述处理器1201运行时执行上述实施例一所示的集装箱吊具检测方法的步骤。实施例四基于同一申请构思，本申请实施例还提供了一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器运行时执行上述实施例中任一项所述的集装箱吊具检测方法的步骤。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统和装置的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。本发明实施例所提供的进行集装箱吊具检测的计算机程序产品，包括存储了程序代码的计算机可读存储介质，所述程序代码包括的指令可用于执行前面方法实施例中所述的方法，具体实现可参见方法实施例，在此不再赘述。本发明实施例所提供的集装箱吊具检测装置可以为设备上的特定硬件或者安装于设备上的软件或固件等。本发明实施例所提供的装置，其实现原理及产生的技术效果和前述方法实施例相同，为简要描述，装置实施例部分未提及之处，可参考前述方法实施例中相应内容。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，前述描述的系统、装置和单元的具体工作过程，均可以参考上述方法实施例中的对应过程，在此不再赘述。在本发明所提供的实施例中，应该理解到，所揭露装置和方法，可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，又例如，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些通信接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本发明提供的实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释，此外，术语“第一”、“第二”、“第三”等仅用于区分描述，而不能理解为指示或暗示相对重要性。最后应说明的是：以上所述实施例，仅为本发明的具体实施方式，用以说明本发明的技术方案，而非对其限制，本发明的保护范围并不局限于此，尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，其依然可以对前述实施例所记载的技术方案进行修改或可轻易想到变化，或者对其中部分技术特征进行等同替换；而这些修改、变化或者替换，并不使相应技术方案的本质脱离本发明实施例技术方案的精神和范围。都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应所述以权利要求的保护范围为准。
