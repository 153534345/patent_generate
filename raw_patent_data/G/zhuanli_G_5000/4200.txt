标题title
划分容量块式虚拟资源分配方法及装置、存储介质和终端
摘要abst
本发明公开了一种划分容量块式虚拟资源分配方法及装置、存储介质和终端，其中方法包括：采用云虚拟化技术对目标系统云服务器资源进行分割获取多个虚拟容量块；基于用户容量需求信号对多个虚拟容量块进行组合形成虚拟操作系统空间，将虚拟操作系统空间作为用户的实际操作系统空间；预设容量计算方式为：，P表示容量，表示CPU算力的权重系数，C表示CPU算力，表示显卡容量的权重系数，G表示显卡容量，表示内存容量的权重系数，R表示内容容量，表示硬盘容量的权重系数，D表示硬盘容量，表示带宽的权重系数，B表示带宽。本发明精确估算出用户使用云服务器时所需要消耗的资源配置，有效提高了社会资源利用率。
权利要求书clms
1.一种划分容量块式虚拟资源分配方法，包括：采用云虚拟化技术对目标系统云服务器资源进行分割，以获取多个虚拟容量块；基于用户容量需求信号对多个所述虚拟容量块进行组合形成虚拟操作系统空间，将所述虚拟操作系统空间作为用户的实际操作系统空间；其中，所述目标系统云服务器资源包括目标系统云服务器的CPU算力、显卡容量、内存容量、硬盘容量和带宽；所有所述虚拟容量块的容量均基于预设容量计算方式获取；所述预设容量计算方式为：其中，P表示容量，表示CPU算力的权重系数，C表示CPU算力，表示显卡容量的权重系数，G表示显卡容量，表示内存容量的权重系数，R表示内容容量，表示硬盘容量的权重系数，D表示硬盘容量，表示带宽的权重系数，B表示带宽。2.根据权利要求1所述的方法，其特征在于，基于用户容量需求信号对多个所述虚拟容量块进行组合形成虚拟操作系统空间，将所述虚拟操作系统空间作为用户的实际操作系统空间步骤包括：基于预定场景需求对多个所述虚拟容量块进行组合，形成固有虚拟操作系统空间，所述固有虚拟操作系统空间类型包括轻松办公操作系统空间、小型影音娱乐操作系统空间和竞速游戏操作系统空间中的至少一种，所述轻松办公操作系统空间、所述小型影音娱乐操作系统空间和所述竞速游戏操作系统空间的总虚拟容量不同；当所述用户容量需求信号为固有虚拟操作系统空间选取信号时，将对应所述固有虚拟操作系统空间作为对应用户的实际操作系统空间。3.根据权利要求1所述的方法，其特征在于，基于用户容量需求信号对多个所述虚拟容量块进行组合形成虚拟操作系统空间，将所述虚拟操作系统空间作为用户的实际操作系统空间步骤包括：基于自动化配置场景需求对多个所述虚拟容量块进行组合，形成自动化配置操作系统空间，所述自动化配置操作系统空间容量大于预设容量阈值，以使得用户使用所述自动化配置操作系统空间可实现用户的所有操作任务；当所述用户容量需求信号为自动化配置信号时，将所述自动化配置操作系统空间作为用户的临时操作系统空间，并获取预设时间段内用户在所述临时操作系统空间内所消耗的最大资源耗费量；基于所述最大资源耗费量，通过贪婪算法对多个所述虚拟容量块进行组合配置，以形成设定虚拟操作系统空间，并将所述设定虚拟操作系统空间作为用户的实际操作系统空间。4.根据权利要求1所述的方法，其特征在于，所述划分容量块式虚拟资源分配方法还包括：判断用户的实际操作系统空间的容量使用量是否达到使用容量阈值，若是则将用户的实际操作系统空间的所有操作参数传输至训练完成的资源优化网络模型中，训练完成的资源优化网络模型输出预测结果，否则重新判断用户的实际操作系统空间容量使用量是否达到使用容量阈值；判断所述预测结果是否为可进行优化，若是则基于训练完成的资源优化网络模型输出的优化策略对用户的实际操作系统空间进行优化，否则输出需增加容量块信号。5.根据权利要求4所述的方法，其特征在于，所述优化策略包括关闭预设后台软件、当前任务超频工作和当前任务极限压缩中的至少一个。6.根据权利要求1所述的方法，其特征在于，所述划分容量块式虚拟资源分配方法还包括：基于增加容量块信号选定待增加的虚拟容量块，并将待增加的容量块添加到用户的实际操作系统空间中，以形成新的实际操作系统空间。7.根据权利要求1所述的方法，其特征在于，所述划分容量块式虚拟资源分配方法还包括：设定对目标系统云服务器资源进行分割获取的多个虚拟容量块包含多种容量值；判断所有未进行组合的虚拟容量块中预设容量虚拟容量块是否小于预设数量阈值，若是基于预设优化算法对所有用户的实际操作系统空间进行系统优化预判，并向预判可进行系统优化的用户发送是否进行系统优化信号，否则重新判断所有未进行组合的虚拟容量块中预设容量虚拟容量块是否小于预设数量阈值；若接收到用户反馈的确定系统优化信号，释放对应用户的实际操作系统空间所占用的所有虚拟容量块，并基于进行系统优化预判时所述预设优化算法对应获取的容量块优化组合方案，对多个所述虚拟容量块进行组合，形成用户新的实际操作系统空间；其中，所述预设优化算法为基于当前所有未进行组合的所述虚拟容量块和当前进行系统优化预判的用户实际操作系统空间中所包含的所有虚拟容量块，通过贪婪算法获取形成用户实际操作系统空间的容量块优化组合方案。8.一种划分容量块式虚拟资源分配装置，其特征在于，包括虚拟分割模块和操作系统空间组合模块：所述虚拟分割模块，用于采用云虚拟化技术对目标系统云服务器资源进行分割，以获取多个虚拟容量块；所述操作系统空间组合模块，用于基于用户容量需求信号对多个所述虚拟容量块进行组合形成虚拟操作系统空间，将所述虚拟操作系统空间作为用户的实际操作系统空间；其中，所述目标系统云服务器资源包括目标系统云服务器的CPU算力、显卡容量、内存容量、硬盘容量和带宽；所有所述虚拟容量块的容量均基于预设容量计算方式获取：所述预设容量计算方式为：其中，P表示容量，表示CPU算力的权重系数，C表示CPU算力，表示显卡容量的权重系数，G表示显卡容量，表示内存容量的权重系数，R表示内容容量，表示硬盘容量的权重系数，D表示硬盘容量，表示带宽的权重系数，B表示带宽。9.一种存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现权利要求1至7中任一项所述划分容量块式虚拟资源分配方法。10.一种终端，其特征在于，包括：处理器及存储器；所述存储器用于存储计算机程序，所述处理器用于执行所述存储器存储的计算机程序，以使所述终端执行如权利要求1至7中任一项所述划分容量块式虚拟资源分配方法。
说明书desc
技术领域本发明涉及虚拟资源分配技术领域，尤其涉及一种划分容量块式虚拟资源分配方法及装置、存储介质和终端。背景技术虚拟化是指通过虚拟化技术将一台计算机虚拟为多台逻辑计算机。在一台计算机上同时运行多个逻辑计算机，每个逻辑计算机可运行不同的操作系统，并且应用程序都可以在相互独立的空间内运行而互不影响，从而显著提高计算机的工作效率。虚拟化可以把物理资源转变为逻辑上可以管理的资源，以打破物理结构之间的壁垒。云服务器是一种简单高效、安全可靠、处理能力可弹性伸缩的计算服务。云虚拟化技术是将云服务器虚拟化为多个云操作系统，以供用户使用。但现有基于云虚拟化技术对云服务器进行划分，无法实现精确估算用户使用云服务器时所需要消耗的资源配置，因此导致基于云虚拟化技术分割出的云操作系统不是存在偏大资源浪费的问题，就是存在偏小无法实现用户操作的问题，为用户使用带来了诸多不便。发明内容本发明所要解决的技术问题是现有基于云虚拟化技术对云服务器进行划分，无法实现精确估算用户使用云服务器时所需要消耗的资源配置，导致分割出的云操作系统容量无法满足用户使用需求。为了解决上述技术问题，本发明提供了一种划分容量块式虚拟资源分配方法，包括：采用云虚拟化技术对目标系统云服务器资源进行分割，以获取多个虚拟容量块；基于用户容量需求信号对多个所述虚拟容量块进行组合形成虚拟操作系统空间，将所述虚拟操作系统空间作为用户的实际操作系统空间；其中，所述目标系统云服务器资源包括目标系统云服务器的CPU算力、显卡容量、内存容量、硬盘容量和带宽；所有所述虚拟容量块的容量均基于预设容量计算方式获取；所述预设容量计算方式为：其中，P表示容量，表示CPU算力的权重系数，C表示CPU算力，/＞表示显卡容量的权重系数，G表示显卡容量，/＞表示内存容量的权重系数，R表示内容容量，/＞表示硬盘容量的权重系数，D表示硬盘容量，/＞表示带宽的权重系数，B表示带宽。优选地，基于用户容量需求信号对多个所述虚拟容量块进行组合形成虚拟操作系统空间，将所述虚拟操作系统空间作为用户的实际操作系统空间步骤包括：基于预定场景需求对多个所述虚拟容量块进行组合，形成固有虚拟操作系统空间，所述固有虚拟操作系统空间类型包括轻松办公操作系统空间、小型影音娱乐操作系统空间和竞速游戏操作系统空间中的至少一种，所述轻松办公操作系统空间、所述小型影音娱乐操作系统空间和所述竞速游戏操作系统空间的总虚拟容量不同；当所述用户容量需求信号为固有虚拟操作系统空间选取信号时，将对应所述固有虚拟操作系统空间作为对应用户的实际操作系统空间。优选地，基于用户容量需求信号对多个所述虚拟容量块进行组合形成虚拟操作系统空间，将所述虚拟操作系统空间作为用户的实际操作系统空间步骤包括：基于自动化配置场景需求对多个所述虚拟容量块进行组合，形成自动化配置操作系统空间，所述自动化配置操作系统空间容量大于预设容量阈值，以使得用户使用所述自动化配置操作系统空间可实现用户的所有操作任务；当所述用户容量需求信号为自动化配置信号时，将所述自动化配置操作系统空间作为用户的临时操作系统空间，并获取预设时间段内用户在所述临时操作系统空间内所消耗的最大资源耗费量；基于所述最大资源耗费量，通过贪婪算法对多个所述虚拟容量块进行组合配置，以形成设定虚拟操作系统空间，并将所述设定虚拟操作系统空间作为用户的实际操作系统空间。优选地，所述划分容量块式虚拟资源分配方法还包括：判断用户的实际操作系统空间的容量使用量是否达到使用容量阈值，若是则将用户的实际操作系统空间的所有操作参数传输至训练完成的资源优化网络模型中，训练完成的资源优化网络模型输出预测结果，否则重新判断用户的实际操作系统空间容量使用量是否达到使用容量阈值；判断所述预测结果是否为可进行优化，若是则基于训练完成的资源优化网络模型输出的优化策略对用户的实际操作系统空间进行优化，否则输出需增加容量块信号。优选地，所述优化策略包括关闭预设后台软件、当前任务超频工作和当前任务极限压缩中的至少一个。优选地，所述划分容量块式虚拟资源分配方法还包括：基于增加容量块信号选定待增加的虚拟容量块，并将待增加的容量块添加到用户的实际操作系统空间中，以形成新的实际操作系统空间。优选地，所述划分容量块式虚拟资源分配方法还包括：设定对目标系统云服务器资源进行分割获取的多个虚拟容量块包含多种容量值；判断所有未进行组合的虚拟容量块中预设容量虚拟容量块是否小于预设数量阈值，若是基于预设优化算法对所有用户的实际操作系统空间进行系统优化预判，并向预判可进行系统优化的用户发送是否进行系统优化信号，否则重新判断所有未进行组合的虚拟容量块中预设容量虚拟容量块是否小于预设数量阈值；若接收到用户反馈的确定系统优化信号，释放对应用户的实际操作系统空间所占用的所有虚拟容量块，并基于进行系统优化预判时所述预设优化算法对应获取的容量块优化组合方案，对多个所述虚拟容量块进行组合，形成用户新的实际操作系统空间；其中，所述预设优化算法为基于当前所有未进行组合的所述虚拟容量块和当前进行系统优化预判的用户实际操作系统空间中所包含的所有虚拟容量块，通过贪婪算法获取形成用户实际操作系统空间的容量块优化组合方案。为了解决上述技术问题，本发明提供了一种划分容量块式虚拟资源分配装置，包括：所述虚拟分割模块，用于采用云虚拟化技术对目标系统云服务器资源进行分割，以获取多个虚拟容量块；所述操作系统空间组合模块，用于基于用户容量需求信号对多个所述虚拟容量块进行组合形成虚拟操作系统空间，将所述虚拟操作系统空间作为用户的实际操作系统空间；其中，所述目标系统云服务器资源包括目标系统云服务器的CPU算力、显卡容量、内存容量、硬盘容量和带宽；所有所述虚拟容量块的容量均基于预设容量计算方式获取；所述预设容量计算方式为：其中，P表示容量，表示CPU算力的权重系数，C表示CPU算力，/＞表示显卡容量的权重系数，G表示显卡容量，/＞表示内存容量的权重系数，R表示内容容量，/＞表示硬盘容量的权重系数，D表示硬盘容量，/＞表示带宽的权重系数，B表示带宽。为了解决上述技术问题，本发明提供了一种存储介质，其上存储有计算机程序，该程序被处理器执行时实现所述划分容量块式虚拟资源分配方法。为了解决上述技术问题，本发明提供了一种终端，包括：处理器及存储器；所述存储器用于存储计算机程序，所述处理器用于执行所述存储器存储的计算机程序，以使所述终端执行所述划分容量块式虚拟资源分配方法。与现有技术相比，上述方案中的一个或多个实施例可以具有如下优点或有益效果：应用本发明实施例提供的划分容量块式虚拟资源分配方法，通过云虚拟化技术将云服务器分割为多个虚拟容量块，并通过设计容量计算方法，将虚拟容量块的资源进行具象化体现，进而实现基于用户需求设计不同容量大小的虚拟操作系统空间；通过自动化配置操作系统空间尽可能地精确估算出用户使用云服务器时所需要消耗的资源配置，为用户和商家均提供了巨大的便利，且有效提高了社会资源利用率，为云服务器提供者降低安全风险。本发明的其它特征和优点将在随后的说明书中阐述，并且部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点可通过在说明书、权利要求书以及附图中所特别指出的结构来实现和获得。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例共同用于解释本发明，并不构成对本发明的限制。在附图中：图1示出了本发明实施例一划分容量块式虚拟资源分配方法的流程示意图；图2示出了本发明实施例二划分容量块式虚拟资源分配装置的结构示意图；图3示出了本发明实施例四终端的结构示意图。实施方式以下将结合附图及实施例来详细说明本发明的实施方式，借此对本发明如何应用技术手段来解决技术问题，并达成技术效果的实现过程能充分理解并据以实施。需要说明的是，只要不构成冲突，本发明中的各个实施例以及各实施例中的各个特征可以相互结合，所形成的技术方案均在本发明的保护范围之内。实施例一为解决现有技术中存在的技术问题，本发明实施例提供了一种划分容量块式虚拟资源分配方法。图1示出了本发明实施例一划分容量块式虚拟资源分配方法的流程示意图；参考图1所示，本发明实施例划分容量块式虚拟资源分配方法包括如下步骤。步骤S101，采用云虚拟化技术对目标系统云服务器资源进行分割，以获取多个虚拟容量块。具体地，云服务器是以多个物理服务器为硬件基础，面向各类互联网用户提供综合业务能力的服务平台，它整合了传统意义上的互联网应用三大核心要素：计算、存储、网络，面向用户提供公用化的互联网基础设施服务。本实施例中的云服务器可采用塔式超算服务器等物理服务器作为硬件基础。本实施例中将待进行虚拟化分割的云服务器作为目标系统虚拟服务器，可通过云虚拟化技术将其具有资源分割出多个虚拟容量块。其中目标系统云服务器资源包括目标系统云服务器的CPU算力、显卡容量、内存容量、硬盘容量和带宽。通过预设容量计算方式对目标系统虚拟服务器的综合容量进行计算，获取目标系统虚拟服务器的综合容量大小。再根据目标系统虚拟服务器的综合容量大小，基于实际情况对要分割出的虚拟容量块容量类型以及各类容量的虚拟容量块的数量进行设计，得到虚拟容量块分割计划。最后基于虚拟容量块分割计划，通过云虚拟化技术对目标系统云服务器资源进行分割，以获取多个虚拟容量块。需要说明的是，本发明实施例所有步骤均可在一个物理服务器上实现。同时还可设置本发明实施例在资源监控服务器和后台指派服务器上实现，其中资源监控服务器和后台指派服务器利用gRPC通信链接。资源监控服务器用于对获取的多个虚拟容量块进行监控配置，且计算目标系统虚拟服务器和各虚拟容量块容量大小，以及设计虚拟容量块分割计划过程均可在资源监控服务器上实现。对目标系统云服务器进行分割则可设计由后台指派服务器实现。预设容量计算方式可用如下表达式表示：其中，P表示容量，可设置其单位为Ω，表示CPU算力的权重系数，C表示CPU算力，表示显卡容量的权重系数，G表示显卡容量，/＞表示内存容量的权重系数，R表示内容容量，表示硬盘容量的权重系数，D表示硬盘容量，/＞表示带宽的权重系数，B表示带宽。通过预设容量计算方式计算目标系统虚拟服务器的综合容量时，其CPU算力C的算力公式为C=cpu个数*cpu核心数*2*主频；例如一台双路服务器中intel Xeon Gold 622R的算力为C=2*16*2*2.9GHz=185.6，而分割出的虚拟CPU可以从185.6里任意分出一部分资源来。一个物理CPU可划分成多个虚拟CPU使用。例如主机有2个物理CPU，每个物理CPU包含14个物理核，这样就可以虚拟出28个逻辑处理器。而通过预设容量计算方式计算虚拟容量块的容量大小时，可以综合容量CPU算力乘以一定百分比的形式进行计算虚拟容量块的CPU算力。在上述预设容量计算方式中，虚拟CPU算力的权重系数可优选为0.25，同时显卡容量的权重系数/＞可优选为0.2，内存容量的权重系数/＞可优选为0.1，硬盘容量的权重系数可优选为0.1，带宽的权重系数/＞可优选为0.1。且需要说明的是，上述权重系数还可设置为其他合理数值，在此不对其进行固定限制。上述预设容量计算方式不仅可用来计算目标系统虚拟服务器的综合容量大小，还可用于计算各个虚拟容量块的容量大小，以及后续需要进行容量计算时使用。步骤S102，基于用户容量需求信号对多个虚拟容量块进行组合装配形成虚拟操作系统空间，将虚拟操作系统空间作为用户的实际操作系统空间。具体地，随着云虚拟化技术的飞速发展，无论CPU还是GPU都可以虚拟化，同时作为硬件基础的多个物理服务器的内存和硬盘、带宽等也可以直接物理进行增加扩充。所以以Ω为单位的虚拟容量块可以在一定程度上像堆积木一样进行不断累加使用。但考虑到利用云虚拟化技术将大资源块多次切割或者直接多储备一些低配置的服务器做小虚拟容量块皆不符合商用利益且对社会资源产生极大的浪费。因此本实施例在通过云虚拟化技术对目标系统云服务器进行分割时，可将虚拟容量块按容量大小分为两类，包括大虚拟容量块和小虚拟容量块。例如可设定容量等于或超过100Ω的虚拟容量块为大虚拟容量块，容量小于100Ω的虚拟容量块为小虚拟容量块。进一步小虚拟容量块可设定包括10Ω、20Ω、30Ω和50Ω等；大虚拟容量块可设定包括100Ω等。需要说明的是，虚拟容量块的分类以及大虚拟容量块、小虚拟容量块的设定还可通过其他合理形式进行定义，在此不做固定限制。且大虚拟容量块和小虚拟容量块数量的设置，可基于每日各个时段的使用量，下班后/放学后/周末/假期等各种原因设置，在此不对其进行过多限制。通过实际调研发现，正常用户对轻办公的需求占绝大多数。基于该类情况，本实施例可基于实际情况预先设置多个经常使用的预设场景，而后再根据预设场景需求对虚拟容量块进行组合装配，以形成对应的固有虚拟操作系统空间。例如预设场景可包括轻松办公模式，该种模式可设置为资源低配版本，其对应轻松办公操作系统空间可设置有10Ω的资源分配；预设场景还可包括小型影音娱乐模式，该种模式可设置为资源中配版本，其对应小型影音娱乐操作系统空间可设置有30Ω的资源分配；预设场景还可包括竞速游戏模式，该种模式可设置为资源高配版本，其对应竞速游戏操作系统空间可设置有近100Ω的资源分配。需要说明的是，本发明还可基于实际情况设置其他合理模式，且上述三种预设场景以及其对应固有虚拟操作系统空间的资源分配情况还可设置为其它合理情况，但需设定上述三种预设场景各自的资源分配情况均不相同。且每种预设场景均设置有多个对应固有虚拟操作系统空间，以实现多用户的选取。进一步若上述已有三种预设场景已经能够满足用户的需求，用户在使用时可直接选取对应固有虚拟操作系统空间作为用户的实际操作系统空间。例如若用户选取轻松办公模式时，可直接将一个轻松办公操作系统空间作为该用户的实际操作系统空间。进一步将固有虚拟操作系统空间设置为用户的实际操作系统空间，可通过后台指派服务器建立该用户端与对应固有虚拟操作系统空间的链接实现。其他模式下同理操作。进一步商家也可在此基础上进行计时收费等操作。本实施例还设置了自动化配置场景，以用来实现按用户需求设计容量大小的虚拟操作系统空间。进一步本实施例可基于自动化配置场景需求对多个虚拟容量块进行组合装配，以形成自动化配置操作系统空间。装配的自动化配置操作系统空间容量需大于预设容量阈值，例如可设置自动化配置操作系统空间容量超过1000Ω的资源配置，以使得用户使用自动化配置操作系统空间时可实现用户所有操作任务。进一步，上述自动化配置操作系统空间也可在通过云虚拟化技术对目标系统云服务器进行分割时直接分割获取，即直接基于自动化配置场景需求值分割出对应资源大小的自动化配置操作系统空间。若上述三种预设场景无法满足用户需求，用户需要基于自身实际需求进行实际操作系统空间的资源配置，或者在用户自身也无法明确所需实际操作系统空间的资源配置时，用户可选取自动化配置操作系统空间作为临时操作系统空间，此时用户容量需求信号即为选定自动化配置信号。后台指派服务器基于自动化配置信号将用户端与自动化配置操作系统空间建立链接，并在接下来的预设时间内检测用户在临时操作系统空间内所消耗的最大资源耗费。再根据最大资源耗费量，通过贪婪算法对当前所具有的虚拟容量块进行组合配置，形成设定虚拟操作系统空间。最后将设定虚拟操作系统空间与用户端建立链接，以实现将设定虚拟操作系统空间作为用户的实际操作系统空间。进一步获取预设时间段内用户在临时操作系统空间内所消耗的最大资源耗费，可通过计算用户历史行为中每个时刻所需的资源占用量，最后选取预设时间段内资源占用量最大的作为最大资源消耗。例如用户在预设时间段内只玩了一个大型网游，这个网游正常运行下需求400Ghz的算力，8G的GPU显卡容量，20G硬盘容量，6G内存算力，300M带宽，而后基于预设容量计算方式计算所需虚拟容量大小，进而获取预设时间段内的最大资源消耗。在预设时间段结束后，将最大资源消耗加上预设缓冲量，得到所需适配的容量大小。最后通过贪婪算法，基于当前所具有的虚拟容量块进行组合配置，形成所需适配容量大小的设定虚拟操作系统空间。通过贪婪算法对虚拟容量块进行组合配置，即为使用最少数量的虚拟容量块实现适配容量大小的组合配置。且优选地，预设缓冲量的计算方式通常为各个最大资源占用量的百分之10。进一步商家也可在此基础上进行相应计时收费等操作。步骤S103，对用户实际操作系统空间使用情况进行优化。具体地，用户在具体使用过程中可能存在所使用容量达到当前实际操作系统空间总虚拟容量过高比例的情况，此时可通过对实际操作系统空间进行优化，释放出一些不必要任务的资源占用，以缓解当前实际操作系统空间资源使用量过大的问题。进一步地，本实施例可通过资源监控服务器实时判断用户的实际操作系统空间容量使用量是否达到使用容量阈值，来判断当前实际操作系统空间容量使用量是否过大。若用户的实际操作系统空间容量使用量已经达到了使用容量阈值，则获取用户的历史行为数据，并从用户的历史行为数据中获取实际操作系统空间的所有操作参数。将实际操作系统空间的所有操作参数传输至训练完成的资源优化网络模型中，训练完成的资源优化网络模型输出预测结果。若预测结果为可进行优化，则基于训练完成的资源优化网络模型输出的优化策略对当前用户的实际操作系统空间进行优化。若预测结果为无法进行优化，则向用户输出扩充容量信号，用户再基于扩充容量信号向后台指派服务器申请添加虚拟容量块。优选地，优化策略包括关闭预设后台软件、当前任务超频工作和当前任务极限压缩中的至少一个。若用户的实际操作系统空间容量使用量没有达到使用容量阈值，则重新对用户的实际操作系统空间容量使用量进行是否过大的判断。其中资源优化网络模型为LSTM多模态神经网络，本实施例所采用的训练完成的资源优化网络模型为事先经过深度训练所得的。进一步地，资源优化网络模型的训练可采用网络公开的数据集或现实模拟数据集进行训练。基于训练集中的训练数据的标签计算交叉熵损失函数，并基于交叉熵损失函数值对资源优化网络模型参数进行调整。重复训练，直到获取的交叉熵损失函数达到收敛状态，以得到训练完成的资源优化网络模型。具体交叉熵损失函数达到收敛的标准可基于实际情况进行设定，本申请在此不对其进行过多的描述。步骤S104，基于增加容量块信号选定待增加的虚拟容量块，并将待增加的虚拟容量块添加到用户的实际操作系统空间中，以形成新的实际操作系统空间。具体地，当用户在实际应用过程中，实际操作系统空间过载但无法得到优化，或用户因其他原因需要增加容量块扩充容量时，后台指派服务器可基于用户选定的虚拟容量块增加量选定待增加的虚拟容量块，并将待增加的虚拟容量块添加到用户的实际操作系统空间中，以实现对用户实际操作系统空间的扩充。例如当用户在轻办公模式下玩网络游戏，资源监控服务器检测到用户的实际操作系统空间容量使用量达到了使用容量阈值，且无法实现对实际操作系统空间进行优化时。向用户发送扩充容量信号并给出扩充建议，若用户基于扩充容量信号选定虚拟容量块增加量，后台指派服务器就基于用户选定的虚拟容量块增加量选定待增加的虚拟容量块，并将待增加的虚拟容量块添加到用户的实际操作系统空间中。若用户选择不扩充容量，则资源监控服务器结束其过载任务。在扩容过程中商家也可在进行相应计时收费等操作。步骤S105，对剩余虚拟容量块进行优化。具体地，由于部分用户每次增加虚拟容量块只会叠加小虚拟容量块，并多次叠加。为了避免资源池内小虚拟容量块剩余量不足，导致虚拟容量块资源失衡，资源监控服务器还会对资源池内小虚拟容量块的数量进行实时监控。若资源池内小虚拟容量块的数量小于预设数量阈值时，资源监控服务器会检测所有用户的资源占用情况，并进一步提供资源优化方案。进一步源监控服务器实时判断目标系统云服务器中剩余小虚拟容量块数量是否小于预设数量阈值，若是则基于预设优化算法对当前所有用户的实际操作系统空间进行优化预判，并向预判可进行系统优化的用户发送是否进行系统优化信号。由于优化操作系统空间方案通常是需要关闭实际操作系统空间重新启动实现优化的，因此用户可根据自身情况判断是否要进行优化操作，若用户确定要进行系统优化，则返回确定系统优化信号，后台指派服务器释放对应用户的实际操作系统空间所占用的所有虚拟容量块，并基于进行系统优化预判时预设优化算法对应获取的容量块优化组合方案，对多个虚拟容量块进行组合，形成用户新的实际操作系统空间。其中基于预设优化算法获取优化操作系统空间方案，实际上是基于当前所有未进行组合的所述虚拟容量块和当前进行系统优化预判的用户实际操作系统空间中所包含的所有虚拟容量块，通过贪婪算法获取形成用户实际操作系统空间的容量块优化组合方案。优化操作系统空间方案实现了当前具有的有所较大的虚拟容量块的极限组合。上述方案真正实现了动态释放小容量块，达到资源块利用率最大化。若判断目标系统云服务器中剩余虚拟容量块不小于预设数量阈值，则重新判断目标系统云服务器中剩余虚拟容量块是否小于预设数量阈值。本发明实施例提供的划分容量块式虚拟资源分配方法，通过云虚拟化技术将云服务器分割为多个虚拟容量块，并通过设计容量计算方法，将虚拟容量块的资源进行具象化体现，进而实现基于用户需求设计不同容量大小的虚拟操作系统空间；通过自动化配置操作系统空间尽可能地精确估算出用户使用云服务器时所需要消耗的资源配置，为用户和商家均提供了巨大的便利，且有效提高了社会资源利用率，为云服务器提供者降低安全风险。实施例二为解决现有技术中存在的技术问题，本发明实施例提供了一种划分容量块式虚拟资源分配装置。图2示出了本发明实施例二划分容量块式虚拟资源分配装置的结构示意图；参考图2所示，本发明实施例划分容量块式虚拟资源分配装置包括虚拟分割模块和操作系统空间组合模块。虚拟分割模块用于采用云虚拟化技术对目标系统云服务器进行分割，以获取多个虚拟容量块。操作系统空间组合模块用于基于用户容量需求信号对多个虚拟容量块进行组合形成虚拟操作系统空间，将虚拟操作系统空间作为用户的实际操作系统空间。其中，目标系统云服务器资源包括目标系统云服务器的CPU算力、显卡容量、内存容量、硬盘容量和带宽；所有所述虚拟容量块的容量均基于预设容量计算方式获取。预设容量计算方式为：其中，P表示容量，表示CPU算力的权重系数，C表示CPU算力，/＞表示显卡容量的权重系数，G表示显卡容量，/＞表示内存容量的权重系数，R表示内容容量，/＞表示硬盘容量的权重系数，D表示硬盘容量，/＞表示带宽的权重系数，B表示带宽。本发明实施例提供的划分容量块式虚拟资源分配装置，通过云虚拟化技术将云服务器分割为多个虚拟容量块，并通过设计容量计算方法，将虚拟容量块的资源进行具象化体现，进而实现基于用户需求设计不同容量大小的虚拟操作系统空间；通过自动化配置操作系统空间尽可能地精确估算出用户使用云服务器时所需要消耗的资源配置，为用户和商家均提供了巨大的便利，且有效提高了社会资源利用率，为云服务器提供者降低安全风险。实施例三为解决现有技术中存在的上述技术问题，本发明实施例还提供了一种存储介质，其存储有计算机程序，该计算机程序被处理器执行时可实现实施例一中划分容量块式虚拟资源分配方法中的所有步骤。划分容量块式虚拟资源分配方法的具体步骤以及应用本发明实施例提供的可读存储介质获取的有益效果均与实施例一相同，在此不在对其进行赘述。需要说明的是：存储介质包括：ROM、RAM、磁碟或者光盘等各种可以存储程序代码的介质。实施例四为解决现有技术中存在的上述技术问题，本发明实施例还提供了一种终端。图3示出了本发明实施例四终端结构示意图，参照图3，本实施例终端包括相互连接的处理器及存储器；存储器用于存储计算机程序，处理器用于执行存储器存储的计算机程序，以使终端执行时可实现实施例一划分容量块式虚拟资源分配方法中的所有步骤。划分容量块式虚拟资源分配方法的具体步骤以及应用本发明实施例提供的终端获取的有益效果均与实施例一相同，在此不在对其进行赘述。需要说明的是，存储器可能包含随机存取存储器，也可能还包括非易失性存储器，例如至少一个磁盘存储器。同理处理器也可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。虽然本发明所公开的实施方式如上，但所述的内容只是为了便于理解本发明而采用的实施方式，并非用以限定本发明。任何本发明所属技术领域内的技术人员，在不脱离本发明所公开的精神和范围的前提下，可以在实施的形式上及细节上作任何的修改与变化，但本发明的保护范围，仍须以所附的权利要求书所界定的范围为。
