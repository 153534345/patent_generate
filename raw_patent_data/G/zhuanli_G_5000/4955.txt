标题title
一种多传感器安全自认知及安全处理装置及方法
摘要abst
本发明公开了一种多传感器安全自认知及安全处理装置及系统，其包括传感器模块、传感器安全自认知模块、传感器软硬件功能安全监测模块和安全处理模块，其中，传感器模块用于获取自车上各个传感器采集到的传感器原始数据，传感器安全自认知模块用于根据传感器原始数据，判断当前行驶环境对自动驾驶的影响，同时结合可行驶区域检测，对各传感器的预期功能安全进行感知，以获取传感器软硬件故障信息，安全处理模块用于根据预设的故障等级以及传感器软硬件功能安全监测模块监控获取得到的传感器模块和传感器安全自认知模块的运行状态，输出相应的安全处理决策。
权利要求书clms
1.一种多传感器安全自认知及安全处理装置，其特征在于，包括传感器模块、传感器安全自认知模块、传感器软硬件功能安全监测模块和安全处理模块，其中，传感器模块用于获取自车上各个传感器采集到的传感器原始数据，传感器安全自认知模块用于根据传感器原始数据，判断当前行驶环境对自动驾驶的影响，同时结合可行驶区域检测，对各传感器的预期功能安全进行感知，以获取传感器软硬件故障信息，安全处理模块用于根据预设的故障等级以及传感器软硬件功能安全监测模块监控获取得到的传感器模块和传感器安全自认知模块的运行状态，输出相应的安全处理决策；其中，传感器安全自认知模块包括：传感器遮挡检测子模块，其用于根据传感器原始数据，通过网络深度学习，获得传感器的遮挡相关信息；行驶环境检测子模块，其用于根据传感器原始数据，通过网络深度学习，获得行驶环境的检测结果以及对应的等级信息；多传感器互校验子模块，其用于通过融合传感器原始数据获取多传感器融合结果，以及用于通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器。2.如权利要求1所述的种多传感器安全自认知及安全处理装置，其特征在于，“通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器”的方法具体包括：首先，在选定区域判断第一检测结果与第二检测结果是否一致，如果为否，则判定该传感器为可能有故障的传感器；然后，判断可能有故障的传感器在预设帧数内是否均被判定为可能有故障传感器，如果是，则判定该可能有故障传感器为故障传感器。3.如权利要求1或2所述的种多传感器安全自认知及安全处理装置，其特征在于，安全处理模块包括：功能安全处理子模块，其用于接收传感器软硬件功能安全监测模块和传感器安全自认知模块的传感器软硬件故障信息，并且，当其故障类型为次要故障时，正常行驶并发出警报；当故障类型为重要故障时，暂停使用故障传感器，并对故障传感器类别进行划分，结合可行驶区域信息，输出对应的安全处理决策。4.如权利要求3所述的种多传感器安全自认知及安全处理装置，其特征在于，当故障类型为重要故障时，功能安全处理子模块根据如下几种类型输出安全处理决策：如果所有的传感器均发生故障，则执行一级安全处理决策；如果用于感知车辆正前方道路区域的传感器发生故障，则执行二级安全处理决策；如果用于感知车辆侧前方道路区域的传感器发生故障，则执行三级安全处理决策；如果用于感知车辆侧后方道路区域的传感器发生故障，则执行四级安全处理决策；如果其他传感器发生故障，则执行五级安全处理决策。5.如权利要求4所述的种多传感器安全自认知及安全处理装置，其特征在于，安全处理模块还包括：可行驶区域检测子模块；传感器遮挡安全处理子模块，其用于接收遮挡相关信息和可行驶区域检测子模块获取到的可行驶区域信息，则按照如下步骤执行：步骤321，判断清洗模块是否正常工作，如果是，则进入步骤322，否则进入步骤323；步骤322，判断清洗装置正常执行的清洗次数是否不超过预设次数，如果是，则进入步骤324，否则进入步骤323；步骤323，判断遮挡物是否位于特定区域且遮挡比例是否超过预设值，如果是则进入步骤325，否则进入步骤326；步骤324，根据可行驶区域信息，判断前方是否有障碍物，如果是，则进入步骤327，否则进入步骤328；步骤325，暂停使用该传感器，同时报警并降低车速到第一预设车速；步骤326，根据遮挡物计算安全行驶的最高车速；步骤327，根据可行驶区域距离信息、障碍物信息，计算与障碍物保持安全距离的最高车速，报警传感器遮挡信息，将车速降低到该最高车速以下，并执行清洗操作；步骤328，报警传感器遮挡信息，并向传感器的清洗模块执行清洗操作。6.如权利要求4所述的种多传感器安全自认知及安全处理装置，其特征在于，安全处理模块还包括：恶劣环境安全处理子模块，其用于接收行驶环境检测子模块获取到的行驶环境天气信息和可行驶区域检测子模块获取到的可行驶区域信息，若当前行驶环境为轻微恶劣天气时，则输出当前天气信息；若当前行驶环境为中度恶劣天气，则获取当前可行驶区域距离信息，并计算出当前场景下的最高车速，将车速调到该最高车速以下、输出当前天气信息；若当前行驶环境为重度恶劣天气，则将车速降低到第一预设速度、输出当前天气信息。7.一种多传感器安全自认知及安全处理方法，其特征在于，包括：步骤1，获取自车上各个传感器采集到的传感器原始数据；步骤2，根据传感器原始数据，判断当前行驶环境对自动驾驶的影响，同时结合可行驶区域检测，对各传感器的预期功能安全进行感知；步骤3，根据预设的故障等级以及步骤1和步骤2的运行状态，输出相应的安全处理决策；其中，步骤2具体包括：步骤21，根据传感器原始数据，通过网络深度学习，获得传感器的遮挡相关信息；步骤22，根据传感器原始数据，通过网络深度学习，获得行驶环境的检测结果以及对应的等级信息；步骤23，通过融合传感器原始数据获取多传感器融合结果，以及用于通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器。8.如权利要求1所述的多传感器安全自认知及安全处理方法，其特征在于，步骤23中的“通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器”的方法具体包括：首先，在选定区域判断第一检测结果与第二检测结果是否一致，如果为否，则判定该传感器为可能有故障的传感器；然后，判断可能有故障的传感器在预设帧数内是否均被判定为可能有故障传感器，如果是，则判定该可能有故障传感器为故障传感器。9.如权利要求7或8所述的种多传感器安全自认知及安全处理方法，其特征在于，步骤3具体包括：步骤31，接收传感器软硬件故障信息，并且，当其故障类型为次要故障时，正常行驶并发出警报；当故障类型为重要故障时，暂停使用故障传感器，并对故障传感器类别进行划分，结合可行驶区域信息，输出对应的安全处理决策；其中：当故障类型为重要故障时，功能安全处理子模块根据如下几种类型输出安全处理决策：如果所有的传感器均发生故障，则执行一级安全处理决策；如果用于感知车辆正前方道路区域的传感器发生故障，则执行二级安全处理决策；如果用于感知车辆侧前方道路区域的传感器发生故障，则执行三级安全处理决策；如果用于感知车辆侧后方道路区域的传感器发生故障，则执行四级安全处理决策；如果其他传感器发生故障，则执行五级安全处理决策。10.如权利要求9所述的种多传感器安全自认知及安全处理方法，其特征在于，步骤3还包括：步骤32，接收遮挡相关信息和可行驶区域检测子模块获取到的可行驶区域信息，则按照如下步骤执行：步骤321，判断清洗模块是否正常工作，如果是，则进入步骤322，否则进入步骤323；步骤322，判断清洗装置正常执行的清洗次数是否不超过预设次数，如果是，则进入步骤324，否则进入步骤323；步骤323，判断遮挡物是否位于特定区域且遮挡比例是否超过预设值，如果是则进入步骤325，否则进入步骤326；步骤324，根据可行驶区域信息，判断前方是否有障碍物，如果是，则进入步骤327，否则进入步骤328；步骤325，暂停使用该传感器，同时报警并降低车速到第一预设车速；步骤326，根据遮挡物计算安全行驶的最高车速；步骤327，根据可行驶区域距离信息、障碍物信息，计算与障碍物保持安全距离的最高车速，报警传感器遮挡信息，将车速降低到该最高车速以下，并执行清洗操作；步骤328，报警传感器遮挡信息，并向传感器的清洗模块执行清洗操作。
说明书desc
技术领域本发明涉及自动驾驶技术领域，特别是关于一种多传感器安全自认知及安全处理装置及方法。背景技术随着近些年深度学习的发展以及传感器硬件水平的提升，自动驾驶逐渐变成现实。自动驾驶系统包括环境感知、行为决策和运动控制。其中，环境感知为自动驾驶汽车提供周围环境信息，包括道路信息和障碍物信息等，为后续行为决策以及运动控制提供判断依据。传感器就如同人的眼睛一样，为自动驾驶汽车接收环境数据。利用多种不同类型的传感器，结合对应的传感器特点，融合获取环境信息，提高环境感知结果鲁棒性。多传感器安全自认知及安全处理装置可以提高自动驾驶汽车对故障监测及处理和应对复杂天气环境的能力，为自动驾驶安全可靠保驾护航。发明内容本发明的目的在于提供一种多传感器安全自认知及安全处理装置及方法来克服或至少减轻现有技术的上述缺陷中的至少一个。为实现上述目的，本发明提供一种多传感器安全自认知及安全处理装置，其包括传感器模块、传感器安全自认知模块、传感器软硬件功能安全监测模块和安全处理模块，其中，传感器模块用于获取自车上各个传感器采集到的传感器原始数据，传感器安全自认知模块用于根据传感器原始数据，判断当前行驶环境对自动驾驶的影响，同时结合可行驶区域检测，对各传感器的预期功能安全进行感知，以获取传感器软硬件故障信息，安全处理模块用于根据预设的故障等级以及传感器软硬件功能安全监测模块监控获取得到的传感器模块和传感器安全自认知模块的运行状态，输出相应的安全处理决策；其中，传感器安全自认知模块包括：传感器遮挡检测子模块，其用于根据传感器原始数据，通过网络深度学习，获得传感器的遮挡相关信息；行驶环境检测子模块，其用于根据传感器原始数据，通过网络深度学习，获得行驶环境的检测结果以及对应的等级信息；多传感器互校验子模块，其用于通过融合传感器原始数据获取多传感器融合结果，以及用于通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器。进一步地，“通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器”的方法具体包括：首先，在选定区域判断第一检测结果与第二检测结果是否一致，如果为否，则判定该传感器为可能有故障的传感器；然后，判断可能有故障的传感器在预设帧数内是否均被判定为可能有故障传感器，如果是，则判定该可能有故障传感器为故障传感器。进一步地，安全处理模块包括：功能安全处理子模块，其用于接收传感器软硬件功能安全监测模块和传感器安全自认知模块的传感器软硬件故障信息，并且，当其故障类型为次要故障时，正常行驶并发出警报；当故障类型为重要故障时，暂停使用故障传感器，并对故障传感器类别进行划分，结合可行驶区域信息，输出对应的安全处理决策。进一步地，当故障类型为重要故障时，功能安全处理子模块根据如下几种类型输出安全处理决策：如果所有的传感器均发生故障，则执行一级安全处理决策；如果用于感知车辆正前方道路区域的传感器发生故障，则执行二级安全处理决策；如果用于感知车辆侧前方道路区域的传感器发生故障，则执行三级安全处理决策；如果用于感知车辆侧后方道路区域的传感器发生故障，则执行四级安全处理决策；如果其他传感器发生故障，则执行五级安全处理决策。进一步地，安全处理模块还包括：可行驶区域检测子模块；传感器遮挡安全处理子模块，其用于接收遮挡相关信息和可行驶区域检测子模块获取到的可行驶区域信息，则按照如下步骤执行：步骤321，判断清洗模块是否正常工作，如果是，则进入步骤322，否则进入步骤323；步骤322，判断清洗装置正常执行的清洗次数是否不超过预设次数，如果是，则进入步骤324，否则进入步骤323；步骤323，判断遮挡物是否位于特定区域且遮挡比例是否超过预设值，如果是则进入步骤325，否则进入步骤326；步骤324，根据可行驶区域信息，判断前方是否有障碍物，如果是，则进入步骤327，否则进入步骤328；步骤325，暂停使用该传感器，同时报警并降低车速到第一预设车速；步骤326，根据遮挡物计算安全行驶的最高车速；步骤327，根据可行驶区域距离信息、障碍物信息，计算与障碍物保持安全距离的最高车速，报警传感器遮挡信息，将车速降低到该最高车速以下，并执行清洗操作；步骤328，报警传感器遮挡信息，并向传感器的清洗模块执行清洗操作。进一步地，安全处理模块还包括：恶劣环境安全处理子模块，其用于接收行驶环境检测子模块获取到的行驶环境天气信息和可行驶区域检测子模块获取到的可行驶区域信息，若当前行驶环境为轻微恶劣天气时，则输出当前天气信息；若当前行驶环境为中度恶劣天气，则获取当前可行驶区域距离信息，并计算出当前场景下的最高车速，将车速调到该最高车速以下、输出当前天气信息；若当前行驶环境为重度恶劣天气，则将车速降低到第一预设速度、输出当前天气信息。本发明还提供一种多传感器安全自认知及安全处理方法，其包括：步骤1，获取自车上各个传感器采集到的传感器原始数据；步骤2，根据传感器原始数据，判断当前行驶环境对自动驾驶的影响，同时结合可行驶区域检测，对各传感器的预期功能安全进行感知；步骤3，根据预设的故障等级以及步骤1和步骤2的运行状态，输出相应的安全处理决策；其中，步骤2具体包括：步骤21，根据传感器原始数据，通过网络深度学习，获得传感器的遮挡相关信息；步骤22，根据传感器原始数据，通过网络深度学习，获得行驶环境的检测结果以及对应的等级信息；步骤23，通过融合传感器原始数据获取多传感器融合结果，以及用于通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器。进一步地，步骤23中的“通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器”的方法具体包括：首先，在选定区域判断第一检测结果与第二检测结果是否一致，如果为否，则判定该传感器为可能有故障的传感器；然后，判断可能有故障的传感器在预设帧数内是否均被判定为可能有故障传感器，如果是，则判定该可能有故障传感器为故障传感器。进一步地，步骤3具体包括：步骤31，接收传感器软硬件故障信息，并且，当其故障类型为次要故障时，正常行驶并发出警报；当故障类型为重要故障时，暂停使用故障传感器，并对故障传感器类别进行划分，结合可行驶区域信息，输出对应的安全处理决策；其中：当故障类型为重要故障时，功能安全处理子模块根据如下几种类型输出安全处理决策：如果所有的传感器均发生故障，则执行一级安全处理决策；如果用于感知车辆正前方道路区域的传感器发生故障，则执行二级安全处理决策；如果用于感知车辆侧前方道路区域的传感器发生故障，则执行三级安全处理决策；如果用于感知车辆侧后方道路区域的传感器发生故障，则执行四级安全处理决策；如果其他传感器发生故障，则执行五级安全处理决策。进一步地，步骤3还包括：步骤32，接收遮挡相关信息和可行驶区域检测子模块获取到的可行驶区域信息，则按照如下步骤执行：步骤321，判断清洗模块是否正常工作，如果是，则进入步骤322，否则进入步骤323；步骤322，判断清洗装置正常执行的清洗次数是否不超过预设次数，如果是，则进入步骤324，否则进入步骤323；步骤323，判断遮挡物是否位于特定区域且遮挡比例是否超过预设值，如果是则进入步骤325，否则进入步骤326；步骤324，根据可行驶区域信息，判断前方是否有障碍物，如果是，则进入步骤327，否则进入步骤328；步骤325，暂停使用该传感器，同时报警并降低车速到第一预设车速；步骤326，根据遮挡物计算安全行驶的最高车速；步骤327，根据可行驶区域距离信息、障碍物信息，计算与障碍物保持安全距离的最高车速，报警传感器遮挡信息，将车速降低到该最高车速以下，并执行清洗操作；步骤328，报警传感器遮挡信息，并向传感器的清洗模块执行清洗操作。本发明由于采取以上技术方案，其具有以下优点：本发明根据检测到的由于系统软硬件故障所导致的功能安全不足、由于传感器自身遮挡或者自车行驶环境所导致的传感器功能受限、或者多传感器在共同感知区域不同的感知结果造成的决策混乱等预期功能不足的类型，输出不同的安全保障决策，最终综合各个决策，输出最终能够保障自动驾驶汽车安全行驶的处理结果。附图说明图1为本发明实施例提供的多传感器安全自认知及安全处理装置的总体框架。图2为本发明实施例提供的传感器遮挡检测子模块的工作原理图。图3为本发明实施例提供的行驶环境检测子模块的工作原理图。图4为本发明实施例提供的多传感器融合的工作原理图。图5为本发明实施例提供的多传感器互校验子模块的工作原理图。图6为发明实施例提供的功能安全处理子模块的工作原理图。图7为本发明实施例提供的传感器软硬件功能安全处理子模块的工作原理图。图8为本发明实施例提供的传感器遮挡安全处理子模块的工作原理图。图9为本发明实施例提供的恶劣环境安全处理子模块的工作原理图。具体实施方式在附图中，使用相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面结合附图对本发明的实施例进行详细说明。本文涉及下列术语，为便于理解，对其含义说明如下。本领域技术人员应当理解，下列术语也可能有其它名称，但在不脱离其含义的情形下，其它任何名称都应当被认为与本文所列术语一致。如图1所示，本发明实施例提供的多传感器安全自认知及安全处理装置包括传感器模块、传感器安全自认知模块、传感器软硬件功能安全监测模块和安全处理模块，其中：传感器模块用于获取自车上各个传感器采集到的传感器原始数据。传感器可以但不限于包括激光雷达、摄像头和毫米波雷达，还可以根据实际需求，增设其它功能的传感器。传感器安全自认知模块用于根据传感器原始数据，判断当前行驶环境对自动驾驶的影响，同时结合可行驶区域检测，对各传感器的预期功能安全进行感知，以获取传感器软硬件故障信息。其中的“影响”指的是不同的行驶环境对自动驾驶感知性能有不同程度的影响。其中：“判断当前行驶环境对自动驾驶的影响”的方法包括：利用深度学习训练的网络模型，通过不同传感器输入的行车环境数据，输出天气状况及等级，不同的天气对自动驾驶感知性能有不同程度的影响，以限制车速，保证恶劣天气下感知系统有足够的反应时间去获取目标信息，来提供给决策模块障碍物信息。其中的“结合可行驶区域检测”可以理解为通过可行驶区域获取当前场景下自动驾驶车辆可通行区域的信息，来判断该环境下感知系统的感知范围，结果体现在车辆按当前行驶路线的可行驶距离。“可行驶区域”指的是当前车辆通过感知模块获取到的可以驾驶通过区域，剔除障碍物所在区域，通过训练好的可通行区域路面检测网络可以根据传感器数据分割出可通行区域。通过传感器安全自认知模块可以保证自动驾驶对不同驾驶环境能够清楚认知传感器不足，充分发挥传感器优势，同时保证感知模块认知到自身模块在当前环境下的功能不足以及预期功能不足，从而采取相应的安全处理决策以保证自动驾驶安全可靠运行。传感器软硬件功能安全监测模块用于监控传感器模块是否能够正常获取到对应的传感器信息以及传感器安全自认知模块的执行情况，以获取所监控模块的运行状态。其中，“监控传感器模块是否能够正常获取到对应的传感器信息”可以根据该传感器模块能否按照采样频率，固定时间间隔发送传感器原始数据给到其他模块使用进行判断。“传感器安全自认知模块的执行情况”则可以通过对比接收到的传感器数据前后两帧的时间戳，如果时间差值超过一定阈值则认为传感器有故障，否则认为正常。传感器软硬件功能安全监测模块输出为故障传感器 ID和具体故障原因。在一个实施例中，传感器安全自认知模块包括传感器遮挡检测子模块、行驶环境检测子模块和多传感器互校验子模块，其中：如图2所示，传感器遮挡检测子模块用于利用网络深度学习，判断传感器是否被遮挡物挡，如灰尘、雨滴等遮挡，若是，则输出遮挡物遮挡区域以及遮挡面积与传感器镜头面积的遮挡面积比等传感器的遮挡相关信息。具体地，传感器遮挡检测子模块输出遮挡物遮挡区域信息，经过投影变换，可以得到对应的检测盲区，多传感器互校验子模块在互校验的时候会将盲区内的障碍物剔除掉，只对比选定区域且不在盲区的障碍物结果进行对比。如图3所示，行驶环境检测子模块用于实时检测原始数据，通过网络深度学习，得到行驶环境的检测结果雨、雪、灰尘雾霾、光线以及对应的等级信息。如图4和图5所示，多传感器互校验子模块用于将多传感器信息的原始数据进行融合，获取障碍物的类别、中心点坐标、尺寸和朝向信息等障碍物信息，再在选定区域，如车辆正前方一定距离的矩形范围，对目标进行对比，并判断传感器模块中各传感器检测到的目标结果与类别和数量等融合结果是否分别一致，如果为否，则将判断结果为否的传感器判定为可能有故障传感器，并记录；然后判断可能有故障传感器是否在预设帧数内均被判定为可能有故障传感器，如果是，则判定为该可能有故障传感器为故障传感器，并记录。多传感器互校验子模块最终输出故障传感器集合。例如：如沿车头方向前50m，车身左右各15m的矩形区域，然后除去因传感器遮挡导致的感知盲区后为选定对比区域，利用检测模块获取到各个传感器在该区域包含的障碍物类别及其数量信息以及多传感器融合得到的障碍物类别以及数量信息，通过对比各个类别障碍物的数量，如果数量不一致则记录该传感器为可能有故障传感器；根据多传感器融合的频率进行计算，判断周期为2s。安全处理模块用于根据预设的故障等级，以及传感器软硬件功能安全监测模块监控获取得到的传感器模块和传感器安全自认知模块的运行状态，输出相应的安全处理决策。在一个实施例中，安全处理模块包括可行驶区域检测子模块、功能安全处理子模块、传感器遮挡安全处理子模块、恶劣环境安全处理子模块和综合处理子模块。根据功能安全处理子模块、传感器遮挡安全处理子模块、恶劣环境安全处理子模块输出的处理结果，综合处理子模块得到最终用于执行的命令结果。可行驶区域检测子模块用于通过传感器模块提供的行驶环境数据，利用深度学习网络，提取传感器数据特征，识别并分割得到前方可行驶区域相关信息。在一个实施例中，如图6和图7所示，安全处理模块包括功能安全处理子模块，该子模块用于接收传感器软硬件功能安全监测模块和传感器安全自认知模块的传感器软硬件故障信息包括故障传感器ID和传感器检测网络故障等故障原因，并根据如下故障类型分类，分别进行如下相应安全处理决策：1、当故障类型为次要故障时，向车辆ECU和驾驶员发送正常行驶指令，并以及发出警报。其中，警报可以理解为警报信息以及天气状况，保持正常的自动驾驶。例如：当其故障类型为传感器软硬件非正常状态但对当前自动驾驶感知，即使出现该故障也不影响正常感知，如当前行驶环境温度较高，但激光雷达的加热管理模块出现故障等，这些都可以理解为次要故障。2、当故障类型为重要故障时，暂停使用故障传感器，并对故障传感器类别进行划分，再根据划分的结果进一步采取如下相应安全保障措施。其中，重要故障可以理解为出现传感器软硬件非正常状态且严重影响自动驾驶感知，发生故障会对驾驶员生命财产安全造成一定的影响等这类型故障。21、如果所有的传感器发生故障，则执行一级安全处理决策。其中，一级安全处理决策包括警报信息，并紧急停车，提醒驾驶员接管车辆，切换到驾驶员驾驶模式后方可启动。22、如果如前摄像头、前毫米波雷达，前激光雷达等前向传感器集合中的传感器发生故障，则执行二级安全处理决策。其中，二级安全处理决策包括警报信息，降低车速到第一预定车速，按照之前规划路径继续行驶，同时提醒驾驶员准备接管车辆，当前方出现障碍物或者需要转向变道时，紧急停车，切换到驾驶员驾驶模式后方可启动。23、如果如左前毫米波雷达、右前摄像头等侧向前方传感器集合中的传感器发生故障，则执行三级安全处理决策。其中，三级安全处理决策包括警报信息，降低车速到第二预定车速，按照之前规划路径继续行驶，同时提醒驾驶员准备接管车辆。24、如果如左后毫米波雷达、右后摄像头等侧向后方传感器集合中的传感器发生故障，则执行四级安全处理决策。其中，四级安全处理决策包括警报信息，降低车速到第三预定车速，按照之前规划路径继续行驶，同时提醒驾驶员准备接管车辆。25、如果不在以上提到的传感器集合中，则执行五级安全处理决策。其中，五级安全处理决策包括警报信息，降低车速到第四预定车速，按照之前规划路径继续行驶。其中，第一、二、三、四预定车速根据需要设定，按照第一预定车速、第二预定车速、第三预定车速、第四预定车速依次增大的方式设定。本实施例提供的传感器软硬件功能安全处理方法能够针对不同的故障类型 执行不同程度的安全处理决策。对于重要故障，则根据故障传感器类型集合执行对应的安全处理决策。对于次要故障，则警报信息。在一个实施例中，安全处理模块还包括传感器遮挡安全处理子模块，如图8 所示，该子模块用于接收传感器遮挡检测子模块获取到的遮挡相关信息和可行驶区域检测子模块获取到的可行驶区域信息，并按如下情形分别进行如下相应安全处理决策：1、在清洗模块正常工作，且清洗次数不超过预设次数的情况下，根据可行驶区域信息，当前方没有障碍物时，报警传感器遮挡信息，并向该传感器执行清洗操作。其中，该传感器遮挡信息例如可以是：根据车辆前方 50m，左右各5m的矩形可行驶区域是否完整，在可行驶区域检测子模块中如果有障碍物则输出的可行驶区域在障碍物的位置处有缺失，不完整。2、如果前方有障碍物，根据可行驶区域距离信息和障碍物信息，计算与障碍物保持安全距离的最高车速，报警传感器遮挡信息，将车速降低到该最高车速以下，并执行清洗操作。其中，传感器遮挡信息例如可以是：清洗时自车保持匀速行驶，将障碍物的速度分解为沿车头方向和垂直车身方向，根据单次清洗时长，分别在这两个方向反向计算运动轨迹不发生干涉的最高车速，取两者中较小的作为计算得到的该最高车速。3、由传感器安全处理子模块发出的清洗指令次数和清洗模块未正常工作的次数，计算出当前清洗次数，当清洗模块未正常工作或者清洗次数超过预设次数，则判断遮挡物是否位于符合该传感器特点的感知区域以及遮挡比例是否超过一定值，如果遮挡物位于感知区域且遮挡比例大于预设值，则暂停使用该传感器，同时报警并降低车速到预设车速；否则，根据遮挡物计算安全行驶的最高车速，报警传感器遮挡信息，将车速降低到该最高车速以下。其中，遮挡比例的预设值例如可以将车辆前方50m，左右各5m的矩形区域投影到传感器原始数据上即为对应的特定区域，将选定一定距离处人的2D边界框面积与上述特定区域面积之比，作为该预设值。“预设车速”可以参考二级或三级安全处理决策中的速度阈值设定方法确定。本实施例提供的传感器遮挡安全处理方法能够结合当前可行驶区域息，实时清洗传感器镜头。对于无法清洗掉的遮挡物，能够根据遮挡物的尺寸和位置信息，动态执行安全处理决策。在一个实施例中，如图9所示，安全处理模块还包括恶劣环境安全处理子模块，恶劣环境安全处理子模块用于接收行驶环境检测子模块获取到的行驶环境天气信息和可行驶区域检测子模块获取到的可行驶区域信息，并按如下情形分别进行如下相应安全处理决策：1、若当前行驶环境为轻微恶劣天气，则警报当前天气信息。2、若当前行驶环境为中度恶劣天气，则获取当前可行驶区域距离信息，计算出当前场景下的最高车速，将车速调到该最高车速以下，并警报当前天气信息。3、若当前行驶环境为重度恶劣天气，则将车速降低到第一预设速度并警报当前天气信息。本实施例提供的恶劣环境安全处理方法能够针对当前行驶环境复杂程度，同时利用可行驶区域信息，动态执行安全处理决策。综合处理子模块汇总上述各实施例中功能安全处理子模块、传感器遮挡安全处理子模块、恶劣环境安全处理子模块输出的最高车速信息，然后取其中最小的最高车速作为最终的限制车速，即最终用于执行的命令结果。其余非最高车速相关的处理结果保持不变。在一个实施例中，传感器软硬件功能安全监测模块包括硬件功能安全监测子模块和软件功能安全监测子模块。其中：硬件功能安全监测子模块监控传感器是否能够正常获取到周围行驶环境数据信息。软件功能安全监测子模块监控传感器安全自认知模块执行情况，获取系统运行状态。当检测到系统发生故障，无法满足环境感知功能安全时，将故障信息及类型输出给到安全处理模块进行处理。如果故障为重要故障，则安全处理模块结合安全自认知模块获取到的可行驶区域信息，输出对应的处理结果；如果故障为次要故障，则仅警报信息。安全处理模块用于接收传感器软硬件功能安全监测模块和传感器安全自认知模块处理结果，对功能不足和预期功能不足分情况进行处理，确保自动驾驶行驶安全。本发明实施例还提供一种多传感器安全自认知及安全处理方法，其包括：步骤1，获取自车上各个传感器采集到的传感器原始数据；步骤2，根据传感器原始数据，判断当前行驶环境对自动驾驶的影响，同时结合可行驶区域检测，对各传感器的预期功能安全进行感知，以获取传感器软硬件故障信息；步骤3，根据预设的故障等级以及步骤1和步骤2的运行状态，输出相应的安全处理决策。其中，步骤2具体包括：步骤21，根据传感器原始数据，通过网络深度学习，获得传感器的遮挡相关信息；步骤22，根据传感器原始数据，通过网络深度学习，获得行驶环境的检测结果以及对应的等级信息；步骤23，通过融合传感器原始数据获取多传感器融合结果，以及用于通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器。在一个实施例中，步骤23中的“通过多传感器融合结果分别与点云检测结果、图像检测结果和毫米波检测结果进行相互校验，判定故障传感器”的方法具体包括：首先，在选定区域判断第一检测结果与第二检测结果是否一致，如果为否，则判定该传感器为可能有故障的传感器；然后，判断可能有故障的传感器在预设帧数内是否均被判定为可能有故障传感器，如果是，则判定该可能有故障传感器为故障传感器。在一个实施例中，步骤3具体包括：步骤31，接收传感器软硬件故障信息，并且，当其故障类型为次要故障时，正常行驶并发出警报；当故障类型为重要故障时，暂停使用故障传感器，并对故障传感器类别进行划分，结合可行驶区域信息，输出对应的安全处理决策；其中：当故障类型为重要故障时，功能安全处理子模块根据如下几种类型输出安全处理决策：如果所有的传感器均发生故障，则执行一级安全处理决策；如果用于感知车辆正前方道路区域的传感器发生故障，则执行二级安全处理决策；如果用于感知车辆侧前方道路区域的传感器发生故障，则执行三级安全处理决策；如果用于感知车辆侧后方道路区域的传感器发生故障，则执行四级安全处理决策；如果其他传感器发生故障，则执行五级安全处理决策。在一个实施例中，步骤3还包括：步骤32，接收遮挡相关信息和可行驶区域检测子模块获取到的可行驶区域信息，则按照如下步骤执行：步骤321，判断清洗模块是否正常工作，如果是，则进入步骤322，否则进入步骤323；步骤322，判断清洗装置正常执行的清洗次数是否不超过预设次数，如果是，则进入步骤324，否则进入步骤323；步骤323，判断遮挡物是否位于特定区域且遮挡比例是否超过预设值，如果是则进入步骤325，否则进入步骤326；步骤324，根据可行驶区域信息，判断前方是否有障碍物，如果是，则进入步骤327，否则进入步骤328；步骤325，暂停使用该传感器，同时报警并降低车速到第一预设车速；步骤326，根据遮挡物计算安全行驶的最高车速；步骤327，根据可行驶区域距离信息、障碍物信息，计算与障碍物保持安全距离的最高车速，报警传感器遮挡信息，将车速降低到该最高车速以下，并执行清洗操作；步骤328，报警传感器遮挡信息，并向传感器的清洗模块执行清洗操作。上述实施例提供的多传感器安全自认知及安全处理方法及系统能够应对多种行驶场景。在系统软硬件发生故障时能够执行相应的安全处理以保证行驶的安全性；在由于自身传感器被遮挡时启动清洗装置进行清洗，如果遮挡物无法被清洗掉，才会执行安全处理操作，以减轻遮挡物对自动驾驶的影响；当自车处于恶劣环境下，车辆传感器感知受到限制，此时该系统能够识别天气状况等级并执行安全处理；当多个传感器对相同目标检测结果不一致时根据该传感器历史信息，融合得到可信的检测结果，同时记录一段时间内检测异常的传感器，执行对应的处理结果。该系统对自身运行及处理结果进行自认知，获取自身的功能不足和预期功能不足信息，并且能够有针对性地得到相应的处理结果，从而保证自动驾驶安全可靠运行。最后需要指出的是：以上实施例仅用以说明本发明的技术方案，而非对其限制。本领域的普通技术人员应当理解：可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
