标题title
一种针对安全达标车型检测项目的自动视同判定方法
摘要abst
本申请涉及一种针对安全达标车型检测项目的自动视同判定方法，包括步骤1，获取某个申报车型在道路运输车辆技术服务系统中的备案信息；步骤2，基于MySQL建立数据库存储已有合格报告的样品情况登记表的参数；步骤3，Python对基于Excel创建的企业申报检测方案按项目进行遍历；步骤4，Python判断步骤3中的获得的视同报告是否均存在于步骤2MySQL的数据库中；步骤5，根据步骤3和步骤4的判断结果，Python比对步骤1的申报参数和步骤4的数据库参数给出合理化方案；通过本申请的自动视同判定的方法代替人工方式，减少检测机构人员工作量，降低错误率，当检验项目出现不合理情况，自动视同判定方法能够给出相应的合理性建议。
权利要求书clms
1.一种针对安全达标车型检测项目的自动视同判定方法，其特征在于，所述自动视同判定方法适用于车辆营运申报时检测机构人员对检测项目的视同判定，所述自动视同判定方法包括：步骤1，在道路运输车辆技术服务系统中，获取某个申报车型的备案信息；步骤2，按照车型类别和检测项目划分，基于MySQL建立数据库用于储存已有合格报告的样品情况登记表的参数，并建立MySQL与Python的交互；步骤3，基于Excel创建该车的检测方案，基于Python对该检测方案按项目完成遍历，并获取对应项目的视同信息，包括视同车型和视同报告；步骤4，Python判断所述步骤3中获取的视同报告是否均存在于所述步骤2MySQL建立的数据库中，基于Python判断结果，若获取的视同报告均存在于MySQL建立的数据库中，直接进入下一步；若获取的视同报告未被MySQL建立的数据库收入，则在Python中输入车辆相应的视同信息以及对应的视同参数，并存储至MySQL数据库后进入下一步；步骤5，根据所述步骤3判定的检测类别，根据所述步骤4判断结果，将交通部制定的视同条件判断准则在Python中转化为程序可执行的逻辑语句，基于Python自动校核比对所述步骤1获取的备案参数和所述步骤4判断后的MySQL数据库中的视同参数，确定该项目是否满足视同，并将校核比对结果进行记录以Word文档保存，针对有实测的项目，找出车辆检验所需的最少实测次数以及对应的实测配置信息。2.根据权利要求1所述的安全达标车型检测项目的自动视同判定方法，其特征在于，所述步骤1中获取企业申报营运车辆的备案信息是利用网络抓包工具实现，具体包括：步骤1.1，根据企业提供的申请编号，打开储存此申请编号对应的备案信息网页，在网络抓包工具中输入网页解析代码，获取申报车型对应的备案信息；步骤1.2，将申报车型对应的备案信息采用Json格式存储，提供Python程序进行调用。3.根据权利要求2所述的安全达标车型检测项目的自动视同判定方法，其特征在于，所述步骤1.1的备案信息包括：所有涉及视同条件判定的参数，例如车辆尺寸信息、底盘信息、质量信息、制动信息、悬架信息、质心信息和零部件信息。4.根据权利要求1所述的安全达标车型检测项目的自动视同判定方法，其特征在于，所述步骤2中建立MySQL与Python的交互用于实现Python实时调用MySQL数据库的视同参数，以及Python对MySQL的数据库中缺少的视同信息实现静态输入。5.根据权利要求1所述的安全达标车型检测项目的自动视同判定方法，其特征在于，所述步骤3中基于Python对Excel的方案信息按项目进行遍历，获取每个检测项目对应的报告类型，报告类型包括实测、视同和实测兼视同三种，实测对应的实测次数、视同对应的视同车型号和视同报告号。6.根据权利要求1所述的安全达标车型检测项目的自动视同判定方法，其特征在于，所述步骤4具体包括：步骤4.1，基于所述步骤3获取的视同报告号判断视同报告是否均存在于所述步骤2的MySQL数据库中，若视同报告号已存在，则Python调用对应的视同参数；步骤4.2，若视同报告号未收录于MySQL数据库中，则Python创建Web应用程序，以网页的形式录入视同报告参数，录入完成通过所述步骤2建立的交互连接，将视同报告的信息储存在MySQL数据库中，并调用对应的视同参数为后续使用。7.根据权利要求1所述的安全达标车型检测项目的自动视同判定方法，其特征在于，所述步骤5中转化为程序可执行的逻辑语句的执行是依据所述步骤3中视同报告的具体参数，所述步骤3中视同报告的具体参数与所述步骤1申报车型对应的备案信息中的参数对应；所述步骤1中企业申报备案信息参数为申报值，所述步骤4判断后的MySQL数据库的信息为视同值。8.根据权利要求1所述的安全达标车型检测项目的自动视同判定方法，其特征在于，所述步骤5的视同条件判断准则包括三类：第一类是要求申报值和视同值相同或相等；第二类是要求申报值相对于视同值增加或者减小；第三类是要求申报值在视同值的某个变化范围之内。9.根据权利要求18所述的安全达标车型检测项目的自动视同判定方法，其特征在于，所述步骤5具体包括：步骤5.1，若所述步骤3中出现视同的检验类别，则按所述步骤5的视同条件判断准则进行比对；若所述步骤3中出现实测的检验类别，此时只有申报值；若所述步骤3中同时出现实测和视同的检验类别，则先判定视同的情况，判定完视同情况之后，将所有满足视同的配置进行剔除，然后对剩余的配置进行实测判定，最终得到完整的方案；步骤5.2，在Python中将所述步骤5.1的检测方案审核的结果同步记录于Word文件中，同时将Word文件以申请编号和车辆型号进行命名。10.根据权利要求9所述的安全达标车型检测项目的自动视同判定方法，其特征在于，当某个申报参数存在多个配置，可能导致该检测项目的试验次数＞1次，则Python对多个配置的参数进行遍历；当遍历到某个配置时，则以该配置作为申报值，剩余的配置作为视同值，按照所述步骤5.1进行判定，当所有配置遍历结束，基于判定结果，找出综合实测次数最少的检验方案作为最终的实测方案。
说明书desc
技术领域本申请属于自动化校核企业方案的技术领域，具体而言，涉及一种针对安全达标车型检测项目的自动视同判定方法。背景技术近年来，全国各地先后发生多起重特大道路交通事故，给人民群众生命财产造成了重大损失，产生了恶劣的社会影响。营运车辆整体安全性能不高，已经成为制约人民群众安全可靠出行的突出短板和薄弱环节。为深刻汲取事故教训，切实解决营运车辆安全等问题，交通运输部组织制定了多项营运要求的标准。2017年4月1日，交通运输部正式实施JT/T 1094-2016《营运客车安全技术条件》；次年5月1日，JT/T 1178.1-2018《营运货车安全技术条件第1部分：载货汽车》正式要求；2019年7月1日，JT/T 1178.2-2019《营运货车安全技术条件第2部分：牵引车辆与挂车》提上日程；2020年4月1日，JT/T 1285-2020《危险货物道路运输营运车辆安全技术条件》正式执行。交通运输部对营运车辆提出了诸多要求，每个型号的车辆必须满足所有项目的要求才能办理营运证，这些项目包括：电子稳定性控制系统性能、车道偏离预警系统性能、车辆前向碰撞预警系统性能、转向力和操纵稳定性、弯道制动稳定性等等；以上皆为整车试验项目，除了对应的整车项目，交通部还对一些零部件项目做了要求，如：压力测试连接器、制动衬片性能、ABS电磁兼容性等等。对应的项目必须有对应的报告作为支撑，该报告根据类别可分为：实测报告和视同报告两类，实测报告为申报车辆本身经过试验之后出具的报告，而视同报告则是其他型号车辆已出具的实测报告，但该报告不能直接被引用，必须满足交通部规定的视同条件要求才行。企业在进行营运申报时，必须提供该车型的所有检测方案，即告诉检测机构哪些项目需要实测，哪些项目需要视同；同时检测机构必须对相应方案进行审查，需要判断该车方案中的视同报告是否满足视同条件，视同报告能否真的被引用。另外，当企业某些参数申报多个配置时，还需要判断企业提供的实测次数是否足够，样车数量是否正确，以上要求均需要检测机构人员对视同条件非常熟悉。在传统的检测过程中，方案的校对过程均是检测机构人员根据视同条件逐项逐条进行比对，同时记录在册，不同车辆企业因业务发展不同，营运申报的时间也不尽相同，但营运申报工作一般每月5号截止，截止前夕，往往会出现企业扎堆申报的情况，这对检测机构人员的业务开展造成了一定困扰，且方案校核的质量得不到保障，另外，在视同判定的过程中，同一份视同报告可能被多个车型所引用，在进行比对时，需要对该视同报告的参数信息进行多次提取，存在一定的重复性劳动，效率不高。发明内容本申请针对现有技术缺陷，提出一种针对安全达标车型检测项目的自动视同判定方法，自动视同判定的方法代替人工方式，通过逻辑语句实现视同条件的判断，以此判断视同报告是否满足要求，同时确定实测次数是否足够等，减少了检测机构人员的工作量，降低了错误率，同时当检验项目出现不合理情况时，自动视同判定方法能够给出相应的合理性建议。为达到上述目的，本申请采用的技术方案提供了一种针对安全达标车型检测项目的自动视同判定方法，所述自动视同判定方法适用于车辆营运申报时检测机构人员对检测项目的视同判定，所述自动视同判定方法包括：步骤1，在道路运输车辆技术服务系统中，获取某个申报车型的备案信息；步骤2，按照车型类别和检测项目划分，基于MySQL建立数据库用于储存已有合格报告的样品情况登记表的参数，并建立MySQL与Python的交互；步骤3，基于Excel创建该车的检测方案，基于Python对该检测方案按项目完成遍历，并获取对应项目的视同信息，包括视同车型和视同报告；步骤4，Python判断所述步骤3中获取的视同报告是否均存在于所述步骤2MySQL建立的数据库中，基于Python判断结果，若获取的视同报告均存在于MySQL建立的数据库中，直接进入下一步；若获取的视同报告未被MySQL建立的数据库收入，则在Python中输入车辆相应的视同信息以及对应的视同参数，并存储至MySQL数据库后进入下一步；步骤5，根据所述步骤3判定的检测类别，根据所述步骤4判断结果，将交通部制定的视同条件判断准则在Python中转化为程序可执行的逻辑语句，基于Python自动校核比对所述步骤1获取的备案参数和所述步骤4判断后的MySQL数据库中的视同参数，确定该项目是否满足视同，并将校核比对结果进行记录以Word文档保存，针对有实测的项目，找出车辆检验所需的最少实测次数以及对应的实测配置信息。进一步地，所述步骤1中获取企业申报营运车辆的备案信息是利用网络抓包工具实现，具体包括：步骤1.1，根据企业提供的申请编号，打开储存此申请编号对应的备案信息网页，在网络抓包工具中输入网页解析代码，获取申报车型对应的备案信息；步骤1.2，将申报车型对应的备案信息采用Json格式存储，提供Python程序进行调用。进一步地，所述步骤1.1的备案信息包括：所有涉及视同条件判定的参数，例如车辆尺寸信息、底盘信息、质量信息、制动信息、悬架信息、质心信息和零部件信息。进一步地，所述步骤2中建立MySQL与Python的交互用于实现Python实时调用MySQL数据库的视同参数，以及Python对MySQL的数据库中缺少的视同信息实现静态输入。进一步地，所述步骤3中基于Python对Excel的方案信息按项目进行遍历，获取每个检测项目对应的报告类型，报告类型包括实测、视同和实测兼视同三种，实测对应的实测次数、视同对应的视同车型号和视同报告号。进一步地，所述步骤4具体包括：步骤4.1，基于所述步骤3获取的视同报告号判断视同报告是否均存在于所述步骤2的MySQL数据库中，若视同报告号已存在，则Python调用对应的视同参数；步骤4.2，若视同报告号未收录于MySQL数据库中，则Python创建Web应用程序，以网页的形式录入视同报告参数，录入完成通过所述步骤2建立的交互连接，将视同报告的信息储存在MySQL数据库中，并调用对应的视同参数为后续使用。进一步地，所述步骤5中转化为程序可执行的逻辑语句的执行是依据所述步骤3中视同报告的具体参数，所述步骤3中视同报告的具体参数与所述步骤1申报车型对应的备案信息中的参数对应；所述步骤1中企业申报备案信息参数为申报值，所述步骤4判断后的MySQL数据库的信息为视同值。进一步地，所述步骤5的视同条件判断准则包括三类：第一类是要求申报值和视同值相同或相等；第二类是要求申报值相对于视同值增加或者减小；第三类是要求申报值在视同值的某个变化范围之内。进一步地，所述步骤5具体包括：步骤5.1，若所述步骤3中出现视同的检验类别，则按所述步骤5的视同条件判断准则进行比对；若所述步骤3中出现实测的检验类别，此时只有申报值；若所述步骤3中同时出现实测和视同的检验类别，则先判定视同的情况，判定完视同情况之后，将所有满足视同的配置进行剔除，然后对剩余的配置进行实测判定，最终得到完整的方案；步骤5.2，在Python中将所述步骤5.1的检测方案审核的结果同步记录于Word文件中，同时将Word文件以申请编号和车辆型号进行命名。进一步地，当某个申报参数存在多个配置，可能导致该检测项目的试验次数＞1次，则Python对多个配置的参数进行遍历；当遍历到某个配置时，则以该配置作为申报值，剩余的配置作为视同值，按照所述步骤5.1进行判定，当所有配置遍历结束，基于判定结果，找出综合实测次数最少的检验方案作为最终的实测方案。本申请的有益效果是：第一、本申请中的技术方案通过解析道路运输车辆技术服务系统中的车辆备案信息网页，得到车辆的备案信息，通过MySQL建立视同项目的数据库，建立MySQL和Python的交互，通过Python按项目遍历企业提供给检测机构人员的Excel格式的检测方案，判断Excel中的视同报告是否全部存在于MySQL的数据库中，若不存在，检测机构人员在交互界面输入对应项目的视同报告及对应的视同参数，同时将这些信息存于数据库中；最后通过Python的逻辑语句实现视同条件的判断，以此判断视同报告是否满足要求，同时给出合理的车辆试验方案，这种自动视同判定的方法代替人工方式，减少了检测机构人员的工作量，降低了错误率；第二、本申请的技术方案通过Python对Excel的检测项目参数遍历，获取每个检测项目对应的报告类型，报告类型包括实测、视同和实测兼视同三种，再根据视同条件判断准则比对企业的备案参数和MySQL数据库的视同参数，当某个申报参数存在多个配置，可能导致该检测项目的试验次数＞1次，通过Python能够对多个配置的参数进行遍历，能够在检验项目出现不合理情况时，给出相应的合理性实测方案；第三、本申请的技术方案通过网络抓包工具采集的备案信息包括所有涉及视同条件判定的参数，例如车辆尺寸信息、底盘信息、质量信息、制动信息、悬架信息、质心信息和零部件信息；MySQL建立数据库按照车型类别划分为挂车、牵引车辆、载货汽车和客车等，按视同项目分为整车试验项目和零部件试验项目；Excel填写的营运车型检测项目方案能够覆盖载货汽车、牵引车辆、半挂车和客车的方案信息，同时清楚的展现每个检验项目对应的检验类别、实测次数、视同车型和视同报告编号，能够实现对某款车型申报项目的齐全性校验以及填写格式的规范性校验，通过Python将检测方案审核的结果同步记录于Word文件中，实现指导企业进行样车准备工作。附图说明图1是本申请实施例的安全达标车型检测项目的自动视同判定方法的流程示意图。具体实施方式为了能够更清楚地理解本申请的上述目的、特征和优点，下面结合附图和具体实施方式对本申请进行进一步的详细描述。需要说明的是，在不冲突的情况下，本申请的实施例及实施例中的特征可以相互结合。在下面的描述中，阐述了很多具体细节以便于充分理解本申请，但是，本申请还可以采用其他不同于在此描述的其他方式来实施，因此，本申请的保护范围并不受下面公开的具体实施例的限制。如图1所示，本实施例提供了一种针对安全达标车型检测项目的自动视同判定方法，该判定方法适用于车辆营运申报时检测机构人员对检测项目的视同判定，该判定方法包括：步骤1，在道路运输车辆技术服务系统中，获取某个申报车型的的备案信息。步骤2，按照车型类别和检测项目划分，基于MySQL建立储存已有合格报告的样品情况登记表参数的数据库，并建立MySQL与Python的交互。步骤3，基于Excel创建检测方案，Python对Excel中的方案信息按项目完成遍历，并获取车辆需要的视同信息，包括视同车型和视同报告。步骤4，Python判断步骤3中获取的视同报告是否均存在于步骤2MySQL建立的数据库中，基于Python判断结果，若获取的视同报告均存在于MySQL建立的数据库中，直接进入下一步；若获取的视同报告未被MySQL建立的数据库收入，则在Python中输入车辆相应的视同信息以及对应的视同参数，并存储至MySQL数据库后进入下一步。步骤5，根据步骤3判定的检测类别，根据步骤4判断结果，将交通部制定的视同条件判断准则在Python中转化为程序可执行的逻辑语句，基于Python自动校核比对步骤1获取的备案参数和步骤4判断后的MySQL数据库中的视同参数，确实该项目是否满足视同，并将校核比对结果进行记录以Word文档保存，另外，针对有实测的项目，找出车辆检验所需的最少实测次数以及对应的实测配置信息。进一步地，步骤1中某个申报车型的备案信息是利用网络抓包工具实现，具体包括：步骤1.1，根据企业提供的申请编号，打开储存此申请编号对应的备案信息网页，在网络抓包工具中输入网页解析代码，获取申报车型对应的备案信息，备案信息包括所有涉及视同条件判定的参数，例如车辆尺寸信息、底盘信息、质量信息、制动信息、悬架信息、质心信息和零部件信息。步骤1.2，将申报车型对应的备案信息采用Json格式存储，提供Python程序进行调用。进一步地，步骤2用于通过MySQL建立储存视同报告的数据库，具体包括：基于MySQL建立储存已有合格报告的样品情况登记表参数的数据库需按照车型类别和检测项目划分，是因为不同车型在不同项目中的视同要求各不相同。按照车型类别可划分挂车、牵引车辆、载货汽车和客车等；按视同项目分可分为整车试验项目和零部件试验项目，每个项目对应的具体参数根据视同条件设置，在视同条件中出现的参数均在MySQL建立的数据库中体现。需要说明的是，建立MySQL与Python的交互，能够实现Python实时调用MySQL的数据库，以及Python对MySQL的数据库中缺少的视同信息实现静态输入。进一步地，步骤3用于检测机构通过Excel模板获取企业申报营运车型的检测项目方案，Excel填写的营运车型检测项目方案能够覆盖载货汽车、牵引车辆、半挂车和客车的方案信息，同时清楚的展现每个检验项目对应的检验类别、实测次数、视同车型和视同报告编号，具体包括：基于Python中的Pandas库对企业提交的Excel进行检测项目参数遍历，获取每个检测项目对应的报告类型，报告类型包括实测、视同和实测兼视同三种，实测用△表示，视同用○表示，实测兼视同用△○表示，报告中包含检测项目对应的实测次数、对应的视同车型号和视同报告号。进一步地，步骤4用于判断企业提供的视同报告是否均收录于数据库中，具体包括：步骤4.1，通过步骤3获取的视同报告号判断该视同报告是否存在于步骤2的MySQL数据库中，若视同报告号已存在，则Python中的Pymysql库调用检测项目对应的视同参数。步骤4.2，若视同报告号未收录于MySQL的数据库中，则通过Python中的Flask库创建1个Web应用程序，检测机构人员将需要录入的视同报告参数以网页的形式输入，输入完成后通过步骤2中Python与MySQL建立的交互连接，将视同报告的信息储存在数据库中，并调用对应的视同参数为后续使用。进一步地，步骤5用于将视同条件判断准则转化为程序可执行的逻辑语句，并校核比对找出车辆检验所需的最少实测项目方案。需要说明的是，转化为程序可执行的逻辑语句是针对视同报告中的具体参数执行的，该具体参数在步骤1.2申报车型对应的备案信息中有对应的参数；校核比对的过程是步骤1.2中企业申报备案信息参数和步骤4判断后的MySQL数据库中的信息的比对。本实施例中，步骤5的车辆检验方案校核比对过程与步骤3和步骤4同时进行，在步骤3中遍历每个项目的试验方案时，判断该项目的类别属于视同还是实测，或者两者兼有，同时判断企业提供的视同报告是否存在于步骤2MySQL建立的数据库中，若未被收录，执行步骤4中的参数录入工作，待视同报告收入库中后，Python执行调用逻辑语句，获得对应项目的视同报告参数值，同时基于步骤1获得申报值，进行方案的校验及比对工作。视同条件判断准则包括三类：第一类是要求申报值和视同值相同或相等；第二类是要求申报值相对于视同值增加或者减小；第三类是要求申报值在视同值的某个变化范围之内。由于步骤1获得的申报值和步骤4获得的视同值存在数据类型的差别，因此在具体判定时，需将其转化为相应的数据类型。步骤5具体包括：步骤5.1，当步骤3中出现视同的检验类别，则按照视同条件判断准则进行比对；当步骤3中出现实测的检验类别，此时只有申报值；当步骤3中同时出现实测和视同的检验类别，则先判定视同的情况，判定完视同情况之后，将所有满足视同的配置进行剔除，然后对剩余的配置进行实测判定，最终得到完整的方案。在Python程序中可基于条件判断语句进行选择，然后基于逻辑判断语句进行判定。其中，第一类视同条件判断准则可以直接判断申报值和视同值的文本值是否相同；第二类和第三类视同条件判断准则，需要将对应的申报值和视同值转化为对应的数值型数据再进行判定，例如int型数据或者float型数据。需要说明的是，当某个申报参数存在多个配置，可能导致该检测项目的试验次数＞1次，此时Python中的Pandas库需要对多个配置的参数进行遍历，当遍历到某个配置时，以该配置作为申报值，剩余的配置作为视同值，然后按步骤5进行判定，当所有配置遍历结束后，通过对结果的判定，找出综合实测次数最少的检验方案作为最终的实测方案。步骤5.2，Python中的Docx库将步骤5.1的检测方案审核的结果同步记录于Word文件中，同时将Word文件以申请编号和车辆型号进行命名，该Word文档能够清楚的展现每个项目具体的比对结果，体现每个视同报告跟申报值中的哪些配置对应，同时也体现了最少实测次数的实测方案，用于指导企业进行样车准备工作。本申请中的步骤可根据实际需求进行顺序调整、合并和删减。尽管参考附图详地公开了本申请，但应理解的是，这些描述仅仅是示例性的，并非用来限制本申请的应用。本申请的保护范围由附加权利要求限定，并可包括在不脱离本申请保护范围和精神的情况下针对发明所作的各种变型、改型及等效方案。
