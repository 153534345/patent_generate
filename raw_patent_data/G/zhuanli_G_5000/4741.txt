标题title
基于区块链的企业关联交易业务协同处理方法
摘要abst
本发明提供基于区块链的企业关联交易业务协同处理方法，包括下列步骤：建立联盟链；交易甲方与交易乙方通过联盟链完成电子合同的签约、成果验证以及业务结算申请、付款结算申请，交易甲方在成果完成后在对应的协议节点生成支付凭证以及第一支付密钥；交易乙方的财务部门获取并解密所述第一支付密钥，从所述联盟链中获取对应的支付凭证以及业务结算凭证向对应的支付机构发起资金支付请求，支付机构在转账成功后，可生成第二凭证，将所述第二凭证发布至联盟链进行存证；交易甲方以及交易乙方监听到所述联盟链上的第二凭证后，对应生成付款制证以及收款制证，本发明提供的方法实现了基于区块链的、标准化、自动化和不可篡改的业务处理。
权利要求书clms
1.基于区块链的企业关联交易业务协同处理方法，其特征在于，包括下列步骤：S1、以多个协议节点建立联盟链；其中，每个所述协议节点对应至少一个实体，所述实体包括交易甲方、交易乙方以及支付机构；S2、交易甲方与交易乙方完成电子合同的签约，并对所述电子合同进行上链存储；S3、交易乙方的业务部门执行所述电子合同并向联盟链上的智能合约发送第一反馈结果，智能合约对第一反馈结果进行验证，通过验证后生成对应的第一凭证，将所述第一凭证进行上链存储；S4、交易乙方的业务部门向交易甲方的业务部门提出业务结算申请，交易甲方的业务部门根据至少一个第一凭证对业务结算申请进行校验，形成业务结算凭证，将所述业务结算凭证进行上链存储；S5、交易甲方接收并确认来自交易乙方的付款结算申请后，所述交易甲方对应的协议节点生成支付凭证以及第一支付密钥，并将所述支付凭证记录在所述联盟链上；S6、交易乙方获取并解密所述第一支付密钥，从所述联盟链中获取对应的支付凭证以及业务结算凭证，根据所述支付凭证以及业务结算凭证向对应的支付机构发起资金支付请求；S7、支付机构在转账成功后，可生成第二凭证，将所述第二凭证发布至联盟链进行存证；S8、交易甲方以及交易乙方监听到所述联盟链上的第二凭证后，对应启动付款制证以及收款制证，生成付款凭证以及收款凭证。2.根据权利要求1所述的基于区块链的企业关联交易业务协同处理方法，其特征在于，交易甲方的业务部门与交易乙方的业务部门完成电子合同的签约，具体包括：交易乙方创建电子合同以及电子合同对应的合同编号，计算所述电子合同的哈希值，并将所获得的哈希值与所述合同编号、交易乙方ID号进行组合，获得第一数字编码，并将第一数字编码上传至联盟链，并将合同编号以及对应的电子合同发送给交易甲方；通过联盟链上智能合约的密钥对所述第一数字编码进行加密，得到第一数字签名，同时将第一数字签名返回至交易乙方的协议节点，作为交易乙方的标记；交易甲方计算所述电子合同的哈希值，并将所获得的哈希值与所述合同编号、交易甲方ID号进行组合，获得第二数字编码，并将第二数字编码上传至联盟链；通过联盟链上智能合约的密钥对所述第二数字编码进行加密，得到第二数字签名，同时将第二数字签名返回至交易甲方的协议节点，作为交易甲方的标记；联盟链上的智能合约将第一数字签名以及第二数字签名写入电子合同中，并加盖时间戳，从而实现电子合同的签约。3.根据权利要求2所述的基于区块链的企业关联交易业务协同处理方法，其特征在于，交易乙方的业务部门执行所述电子合同并向联盟链上的智能合约发送第一反馈结果，智能合约对第一反馈结果进行验证，通过验证后生成对应的第一凭证：联盟链上的智能合约获取对应的电子合同，根据所述电子合同确定交易乙方的阶段成果；将交易乙方的阶段成果与所述第一反馈结果进行对比，判断二者是否一致，若二者一致，生成第二反馈结果，所述第二反馈结果由交易乙方的阶段成果与所述第一反馈结果所组成；智能合约将第二反馈结果发送至交易甲方进行确认，交易甲方确认后，智能合约生成第一凭证，同时建立第一凭证与所述电子合同的联立关系。4.根据权利要求3所述的基于区块链的企业关联交易业务协同处理方法，其特征在于，所述第一反馈结果中包含了第一数字签名，联盟链上的智能合约获取对应的电子合同，具体包括：通过联盟链中的智能合约对所述第一数字签名进行解密，获得第一数字编码，将所述第一数字编码进行分割，获得合同编号、交易乙方ID号、交易乙方所计算的电子合同哈希值；根据所述合同编号在所述联盟链中查找，获得对应的电子合同。5.根据权利要求4所述的基于区块链的企业关联交易业务协同处理方法，其特征在于，交易甲方的业务部门根据至少一个第一凭证对业务结算申请进行校验，形成业务结算凭证，具体包括：交易甲方的业务部门在收到业务结算申请后，从所述联盟链中获取电子合同，根据电子合同与第一凭证的所述联立关系，相应获取至少一个第一凭证；交易甲方的业务部门将多个第一凭证与所述电子合同进行对比分析，判断第一凭证所代表的所有阶段成果是否满足电子合同的要求，若满足要求，交易甲方的协议节点生成业务结算凭证，所述交易乙方从联盟链中获取业务结算凭证。6.根据权利要求5所述的基于区块链的企业关联交易业务协同处理方法，其特征在于，交易甲方接收并确认来自交易乙方的付款结算申请后，所述交易甲方对应的协议节点生成支付凭证以及第一支付密钥，具体包括：交易甲方接收并确认来自交易乙方的付款结算申请后，其交易甲方向协议节点输入银行账号以及金额、合同编号，交易甲方对应的协议节点根据银行账号以及金额、合同编号生成支付凭证；同时交易甲方对应的协议节点对银行账号、合同编号、金额、交易甲方ID号进行组合，获得第三数字编码，通过智能合约的密钥对所述第三数字编码进行加密，获得第一支付密钥。7.根据权利要求6所述的基于区块链的企业关联交易业务协同处理方法，其特征在于，将所述支付凭证上传至联盟链中，支付机构所对应的协议节点根据支付凭证中的金额以及银行账号，冻结交易甲方的账户中对应金额的数字资产。8.根据权利要求7所述的基于区块链的企业关联交易业务协同处理方法，其特征在于，所述支付机构所对应的协议节点根据支付凭证以及业务结算凭证，解冻所述交易甲方的账户中对应金额的数字资产，并将交易甲方的账户中对应金额的数字资产转移至交易乙方的数字账户中。
说明书desc
技术领域本发明涉及区块链技术领域，尤其涉及基于区块链的企业关联交易业务协同处理方法。背景技术关联交易的工作目前主要有业务协同、凭证协同、企业对账、结算协同等，其中最重要的是业务协同和凭证协同。业务协同指的是事前确认，例如在内部服务采购业务方面，主业单位与施工、物流、经研院等直属单位之间存在较多业务往来，在前端业务执行阶段包括合同签订、订单生成、结算付款环节都通过线下传递纸质单据的方式进行信息交互。凭证协同是事中确认，在会计凭证生成之前，一方发起业务，另一方进行业务确认，干预业务流程做协同确认，实现抵销自动化，在传统的协同业务处理过程中一般会进行纸质合同的签署，但纸质合同的签署存在很多问题：第一，是效率问题。因为距离或者其他原因，如果签署合同的各方不能在同一地点里完成签署，一般需要由某一方签署完毕后，带去另一方再进行签署，如果涉及多方签署，这样效率将会十分低下；另一方面存在凭证丢失和伪造的风险，当出现后端抵销信息不一致时，差错追溯难度较大。发明内容本发明的目的在于提供基于区块链的企业关联交易业务协同处理方法，以解决上述背景技术中提出的问题。本发明是通过以下技术方案实现的：基于区块链的企业关联交易业务协同处理方法，包括下列步骤：S1、以多个协议节点建立联盟链；其中，每个所述协议节点对应至少一个实体，所述实体包括交易甲方、交易乙方以及支付机构；S2、交易甲方与交易乙方完成电子合同的签约，并对所述电子合同进行上链存储；S3、交易乙方的业务部门执行所述电子合同并向联盟链上的智能合约发送第一反馈结果，智能合约对第一反馈结果进行验证，通过验证后生成对应的第一凭证，将所述第一凭证进行上链存储；S4、交易乙方的业务部门向交易甲方的业务部门提出业务结算申请，交易甲方的业务部门根据至少一个第一凭证对业务结算申请进行校验，形成业务结算凭证，将所述业务结算凭证进行上链存储；S5、交易甲方接收并确认来自交易乙方的付款结算申请后，所述交易甲方对应的协议节点生成支付凭证以及第一支付密钥，并将所述支付凭证记录在所述联盟链上；S6、交易乙方的财务部门获取并解密所述第一支付密钥，从所述联盟链中获取对应的支付凭证以及业务结算凭证，根据所述支付凭证以及业务结算凭证向对应的支付机构发起资金支付请求；S7、支付机构在转账成功后，可生成第二凭证，将所述第二凭证发布至联盟链进行存证；S8、交易甲方以及交易乙方监听到所述联盟链上的第二凭证后，对应启动付款制证以及收款制证，生成付款凭证以及收款凭证。可选的，交易甲方的业务部门与交易乙方的业务部门完成电子合同的签约，具体包括：交易乙方创建电子合同以及电子合同对应的合同编号，计算所述电子合同的哈希值，并将所获得的哈希值与所述合同编号、交易乙方ID号进行组合，获得第一数字编码，并将第一数字编码上传至联盟链，并将合同编号以及对应的电子合同发送给交易甲方；通过联盟链上智能合约的密钥对所述第一数字编码进行加密，得到第一数字签名，同时将第一数字签名返回至交易乙方的协议节点，作为交易乙方的标记；交易甲方计算所述电子合同的哈希值，并将所获得的哈希值与所述合同编号、交易甲方ID号进行组合，获得第二数字编码，并将第二数字编码上传至联盟链；通过联盟链上智能合约的密钥对所述第二数字编码进行加密，得到第二数字签名，同时将第二数字签名返回至交易甲方的协议节点，作为交易甲方的标记；联盟链上的智能合约将第一数字签名以及第二数字签名写入电子合同中，并加盖时间戳，从而实现电子合同的签约。可选的，交易乙方的业务部门执行所述电子合同并向联盟链上的智能合约发送第一反馈结果，智能合约对第一反馈结果进行验证，通过验证后生成对应的第一凭证：联盟链上的智能合约获取对应的电子合同，根据所述电子合同确定交易乙方的阶段成果；将交易乙方的阶段成果与所述反馈结果进行对比，判断二者是否一致，若二者一致，生成第二反馈结果，所述第二反馈结果由交易乙方的阶段成果与所述反馈结果所组成；智能合约将第二反馈结果发送至交易甲方进行确认，交易甲方确认后，智能合约生成第一凭证，同时建立第一凭证与所述电子合同的联立关系。可选的，所述第一反馈结果中包含了第一数字签名，联盟链上的智能合约获取对应的电子合同，具体包括：通过联盟链中的智能合约对所述第一数字签名进行解密，获得第一数字编码，将所述第一数字编码进行分割，获得合同编号、交易乙方ID号、交易乙方所计算的电子合同哈希值；根据所述合同编号在所述联盟链中查找，获得对应的电子合同。可选的，交易甲方的业务部门根据至少一个第一凭证对业务结算申请进行校验，形成业务结算凭证，具体包括：交易甲方的业务部门在收到业务结算申请后，从所述联盟链中获取电子合同，根据电子合同与第一凭证的所述联立关系，相应获取至少一个第一凭证；交易甲方的业务部门将多个第一凭证与所述电子合同进行对比分析，判断第一凭证所代表的所有阶段成果是否满足电子合同的要求，若满足要求，交易甲方的协议节点生成业务结算凭证，所述交易乙方从联盟链中获取业务结算凭证。可选的，交易甲方接收并确认来自交易乙方的付款结算申请后，所述交易甲方对应的协议节点生成支付凭证以及第一支付密钥，具体包括：交易甲方接收并确认来自交易乙方的付款结算申请后，其交易甲方向协议节点输入银行账号以及金额、合同编号，交易甲方对应的协议节点根据银行账号以及金额、合同编号生成支付凭证；同时交易甲方对应的协议节点对银行账号、合同编号、金额、交易甲方ID号进行组合，获得第三数字编码，通过智能合约的密钥对所述第三数字编码进行加密，获得第一支付密钥。可选的，将所述支付凭证上传至联盟链中，支付机构所对应的协议节点根据支付凭证中的金额以及银行账号，冻结交易甲方的账户中对应金额的数字资产。可选的，所述支付机构所对应的协议节点根据支付凭证以及业务结算凭证，解冻所述交易甲方的账户中对应金额的数字资产，并将交易甲方的账户中对应金额的数字资产转移至交易乙方的数字账户中。与现有技术相比，本发明达到的有益效果如下：本发明提供的基于区块链的企业关联交易业务协同处理方法，利用区块链技术的分布式账本、智能合约、共识机制、去信任、不可篡改性等技术优势，实现了对电子合同的成果校验以及资金成果监控将把原来耗费大量人力、物力、财力的公司间交易业务处理，转变为基于区块链的、标准化、自动化和不可篡改的业务处理，从而从源头上保证交易双方业务处理和会计核算信息真实性、一致性和同步性。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的优选实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明提供的基于区块链的企业关联交易业务协同处理方法的流程图。具体实施方式为了使得本发明的目的、技术方案和优点更为明显，下面将参照附图详细描述根据本发明的示例实施例。显然，所描述的实施例仅仅是本发明的一部分实施例，而不是本发明的全部实施例，应理解，本发明不受这里描述的示例实施例的限制。基于本发明中描述的本发明实施例，本领域技术人员在没有付出创造性劳动的情况下所得到的所有其它实施例都应落入本发明的保护范围之内。在下文的描述中，给出了大量具体的细节以便提供对本发明更为彻底的理解。然而，对于本领域技术人员而言显而易见的是，本发明可以无需一个或多个这些细节而得以实施。在其他的例子中，为了避免与本发明发生混淆，对于本领域公知的一些技术特征未进行描述。应当理解的是，本发明能够以不同形式实施，而不应当解释为局限于这里提出的实施例。相反地，提供这些实施例将使公开彻底和完全，并且将本发明的范围完全地传递给本领域技术人员。在此使用的术语的目的仅在于描述具体实施例并且不作为本发明的限制。在此使用时，单数形式的“一”、“一个”和“所述/该”也意图包括复数形式，除非上下文清楚指出另外的方式。还应明白术语“组成”和/或“包括”，当在该说明书中使用时，确定所述特征、整数、步骤、操作、元件和/或部件的存在，但不排除一个或更多其它的特征、整数、步骤、操作、元件、部件和/或组的存在或添加。在此使用时，术语“和/或”包括相关所列项目的任何及所有组合。为了彻底理解本发明，将在下列的描述中提出详细的结构，以便阐释本发明提出的技术方案。本发明的可选实施例详细描述如下，然而除了这些详细描述外，本发明还可以具有其他实施方式。参见图1，基于区块链的企业关联交易业务协同处理方法，包括下列步骤：S1、以多个协议节点建立联盟链；其中，每个所述协议节点对应至少一个实体，所述实体包括交易甲方、交易乙方以及支付机构；区块链有三种不同的应用模式，公有链是指任何人都可以随时参与到系统中读取数据、发起交易的区块链；联盟链是指若干个机构共同参与管理的区块链；私有链则是所有参与结点严格控制在特定。公有链、联盟链、私有链在环境信任程度、篡改难度、业务处理效率均不同。联盟链模式是产业级，企业级领域应用的主要方向；联盟链上的交易只需被几个受信的节点验证，保证交易低延时、高效率，只有特定的、被颁发许可的成员才能参与记账权限和维护治理，从源头上对参与者身份进行验证，增强互信，保证区块链安全。区块链是一个由许多节点互相通信组成的分布式系统；而联盟链是用于机构间的区块链。联盟链，只针对某个特定群体的成员和有限的第三方，其内部指定多个预选节点为记账人，每个块的生成由所有的预选节点共同决定，因此本申请中的实体包括可作为数据产生方的集团内部的各个分、子公司、部门。集团财务部、二级公司业务部门、二级公司财务部门，其上述实体均可做为集团中的交易甲方或交易乙方，例如当交易甲方为集团任一二级公司时，其在联盟链上享有特定的协议节点，而交易甲方中的业务部门以及财务部门均能登录前述协议节点，其交易甲方中的业务部门以及财务部门在协议节点中具有不同的操作权限，交易乙方同理，而集团对应的支付机构一般为第三方支付机构，例如银行等。另外在所建立的联盟链中，还包含了智能合约，其智能合约以集合的形式存在，即在集合中包含了由对称加密算法构成的限时加解密函数以及由其他运算逻辑构成的功能函数，其对称加密算法以及限时加解密函数、功能函数均为现有技术，例如专利号“CN202210333324.1，基于智能合约的限时加解密方法”中已经公开了对称加密算法以及限时加解密函的使用，即加密方将待加密的数据输入智能合约中，其智能合约通过限时加解密函数对待加密的数据进行加密，生成特定的密钥。S2、交易甲方与交易乙方完成电子合同的签约，并对所述电子合同进行上链存储；在本步骤中，交易甲方或交易乙方通过线下或线上沟通的方式形成共识，由交易乙方通过该共识创建电子合同，并同时创建电子合同对应的合同编号，其交易乙方对应的协议节点通过哈希算法对电子合同计算得到唯一的哈希值，将所获得的哈希值与所述合同编号、交易乙方ID号进行组合，其组合方式例如“A/B/C”，其中A,B,C分别对应合同编号、交易乙方ID号以及哈希值，其获得的“A/B/C”即为第一数字编码，并将第一数字编码上传至联盟链，联盟链上智能合约的密钥对所述第一数字编码进行加密，得到第一数字签名，同时将第一数字签名返回至交易乙方的协议节点，作为交易乙方的标记。在创建电子合同以及合同编号后，交易乙方将合同编号以及对应的电子合同以线上的形式发送给交易甲方。交易甲方在获得合同编号以及对应的电子合同后，通过哈希算法计算所述电子合同的哈希值，并将所获得的哈希值与所述合同编号、交易甲方ID号进行组合，获得第二数字编码，其组合方式例如“a/b/c”，其中a,b,c分别对应合同编号、交易乙方ID号以及哈希值，其获得的“a/b/c”即为第二数字编码，并将第二数字编码上传至联盟链，通过联盟链上智能合约的密钥对所述第二数字编码进行加密，得到第二数字签名，同时将第二数字签名返回至交易甲方的协议节点，作为交易甲方的标记。联盟链上的智能合约将第一数字签名以及第二数字签名写入电子合同中，并加盖时间戳，从而实现电子合同的签约，时间戳的主要作用就是验证数据是否被篡改，它通过技术手段，对某一数据产生的时间进行认证，以此来确定这一数据在产生后是否被篡改过。时间戳是指格林威治时间1970年01月01日00时00分00秒起至现在的总秒数。通俗的讲，时间戳是一份能够表示一份数据在一个特定时间点已经存在的完整的可验证的数据。时间戳的提出主要是为用户提供一份电子证据，以证明用户的某些数据的产生时间。本实施例的时间戳服务器采用权威时间源，通过可信时间戳可确定电子文件生成的精确时间。S3、交易乙方的业务部门执行所述电子合同并向联盟链上的智能合约发送第一反馈结果，智能合约对第一反馈结果进行验证，通过验证后生成对应的第一凭证，将所述第一凭证进行上链存储；在本步骤中，当电子合同的交易内容为一次性资金交易时，其第一反馈结果为资金交易结果以及第一数字签名，当电子合同的交易内容存在阶段性步骤时，其第一反馈结果为任一阶段的阶段性成果以及第一数字签名。智能合约对第一反馈结果进行验证，其验证过程为包括：当智能合约收到第一反馈结果后，对第一反馈结果进行解析，根据解析结果在联盟链中获取对应的电子合同，根据所述电子合同确定交易乙方的阶段成果；将交易乙方的阶段成果与所述第一反馈结果进行对比，判断二者是否一致，若二者一致，生成第二反馈结果，所述第二反馈结果由交易乙方的阶段成果与所述反馈结果所组成；智能合约将第二反馈结果发送至交易甲方，由交易甲方的业务部门进行进行确认，交易甲方确认后，智能合约生成第一凭证，同时建立第一凭证与所述电子合同的联立关系，即一份电子合同对应一个或多个第一凭证。在本发发明的一个实施方式中，当智能合约收到第一反馈结果后，对第一反馈结果进行解析，具体包括：通过联盟链中的智能合约对所述第一数字签名进行解密，获得第一数字编码，将所述第一数字编码进行分割，获得合同编号、交易乙方ID号、交易乙方所计算的电子合同哈希值；根据所述合同编号在所述联盟链中查找，获得对应的电子合同。S4、在合同执行完毕后，交易乙方的业务部门向交易甲方的业务部门提出业务结算申请，交易甲方的业务部门根据至少一个第一凭证对业务结算申请进行校验，形成业务结算凭证，将所述业务结算凭证进行上链存储，其具体包括：交易甲方的业务部门将多个第一凭证与所述电子合同进行对比分析，判断第一凭证所代表的所有阶段成果以及总成果是否满足电子合同的要求，若满足要求，交易甲方的协议节点生成业务结算凭证，将所述业务结算凭证进行上链存储，所述交易乙方从联盟链中获取业务结算凭证。S5、交易甲方接收并确认来自交易乙方的付款结算申请后，所述交易甲方对应的协议节点生成支付凭证以及第一支付密钥，并将所述支付凭证记录在所述联盟链上，其具体包括：交易甲方的财务部门接收并确认来自交易乙方的付款结算申请后，其付款结算申请包括合同编号、合同金额等，交易甲方的财务部门从联盟链上获得对应的业务结算凭证，业务结算凭证中的信息与合同编号、合同金额等付款结算申请的信息对应一致，则确认来自交易乙方的付款结算申请，交易甲方的财务部门向协议节点输入银行账号以及金额、合同编号，交易甲方对应的协议节点根据银行账号以及金额、合同编号生成支付凭证，将所述支付凭证进行上链存储，并在联盟链中建立合同编号与支付凭证的一一对应关系；同时交易甲方对应的协议节点对银行账号、合同编号、金额、交易甲方ID号进行组合，获得第三数字编码，通过智能合约的密钥对所述第三数字编码进行加密，获得第一支付密钥；将所述支付凭证上传至联盟链中，支付机构所对应的协议节点根据支付凭证中的金额以及银行账号，冻结交易甲方的账户中对应金额的数字资产。需要说明的是，在本发明的实施方式中，其支付凭证以及业务结算凭证均是根据协议节点中的特定规则所生成的数字化凭证，其具有唯一性，即每个支付凭证对应唯一的付款结算申请，而业务结算凭证对应唯一的电子合同。S6、交易乙方的财务部门获取并解密所述第一支付密钥，从所述联盟链中获取对应的支付凭证以及业务结算凭证，根据所述支付凭证以及业务结算凭证向对应的支付机构获取资金。在本步骤中，交易乙方在获取第一支付密钥后，将第一支付密钥上传至交易乙方对应的协议节点，通过协议节点所对应所述智能合约对所述第一支付密钥进行解密，获得合同编号，通过合同编号在联盟链中获得对应的业务凭证以及支付凭证，其智能合约将第一支付密钥、业务凭证以及支付凭证发送至支付机构，支付机构基于第一支付密钥、业务凭证以及支付凭证解冻所述交易甲方的账户中对应金额的数字资产，并将交易甲方的账户中对应金额的数字资产转移至交易乙方的数字账户中。具体的，在本发明的一个使用场景中，其第一支付密钥还可做为流通的数据资产，其交易乙方与交易丙方存在资金往来时，可将第一支付密钥做为可获得资金的凭证，在此场景下，当交易丙方将所述第一支付秘钥发送至所述智能合约，进行解密，获得合同编号，其智能合约根据智能合约向交易乙方发送确认消息，交易乙方向智能合约反馈带有交易丙方账号的确认信息后，其智能合约将第一支付密钥、业务凭证、支付凭证、交易丙方账号发送至支付机构，支付机构基于第一支付密钥、业务凭证以及支付凭证解冻所述交易甲方的账户中对应金额的数字资产，并将交易甲方的账户中对应金额的数字资产转移至交易丙方的数字账户中。S7、支付机构在转账成功后，可生成第二凭证，将所述第二凭证发布至联盟链进行存证，其第二凭证作为交易成功的依据。S8、交易甲方以及交易乙方监听到所述联盟链上的第二凭证后，对应启动付款制证以及收款制证，对应生成付款制证以及收款制证，此时交易甲方以及交易乙方的协同业务处理完成。进一步的，交易乙方在生成收款制证后，对应开具电子发票，通过智能合约对电子发票添加第一数字签名，并将添加第一数字签名后的电子发票发送至交易甲方处。本发明通过应用区块链技术，为集团内外B2B关联交易业务提供可信任、可追溯、高保密、准实时、无纸化的线上协同支撑平台，可实现包含保密性强合同签署、交易执行、业务结算、发票协同、资金结算、账务协同的多个步骤，提高集团本部对往来数据核对的智能化、信息化管控，保证集团本部财务合并报表的真实可靠。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明保护的范围之内。
