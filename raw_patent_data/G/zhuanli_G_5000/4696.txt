标题title
基于改进NEMA相位结构的混行交叉口信号配时方法与系统
摘要abst
本发明涉及智能交通控制技术领域，具体涉及基于改进NEMA相位结构的混行交叉口信号配时方法及系统，存储介质，电子设备。所述方法包括：确定待分析交叉口每个流向网联自动车流流量、每个流向人工车流流量以及该交叉口最大最小许可周期时长、最大最小相位许可绿灯时长、绿灯间隔时间以及左、直、右转向的网联自动车流和人工车流的折算系数；根据各进口方向网联自动车和人工车辆的最小跟车时距，确定网联自动车专用道、人工车辆专用道和混行车道的饱和流率；根据交叉口车道管理方案，确定各进口方向的车道布局；基于改进的NEMA相位结构分别对左、直、右转向的人工车流和网联自动车流进行信号控制，并构建约束条件进行信号配时。
权利要求书clms
1.一种基于改进NEMA相位结构的混行交叉口信号配时方法，其特征在于，所述方法包括：确定待分析交叉口每个流向网联自动车流流量、每个流向人工车流流量以及该交叉口最大最小许可周期时长、最大最小相位许可绿灯时长、绿灯间隔时间以及左、直、右转向的网联自动车流和人工车流的折算系数；确定网联自动车专用道、人工车辆专用道和混行车道的饱和流率；确定各进口方向的车道布局，包括进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道；基于冲突避免原则和时间资源充分利用原则，在传统NEMA相位结构上增设网联自动车流相位，得到改进NEMA相位结构；基于改进NEMA相位结构对左、直、右转向的人工车流和网联自动车流进行信号控制，构建约束条件，以待分析交叉口通行能力最大和/或延误最小为目标，构建混合整数线性规划模型，优化待分析交叉口的信号配时方案。2.根据权利要求1所述的方法，其特征在于，基于改进NEMA相位结构对左、直转向人工车流进行信号控制时，其对应的人工车流左、直转向相位信号配时构建的约束条件包括：周期时长需要满足NEMA相位结构中相互冲突的四股人工车流的绿灯时长的需求；各类型各转向车流的相位绿灯终点要早于周期终点结束；NEMA相位结构中的左右半环中的上下半环两相位绿灯时长之和相等；冲突人工车流的相位绿灯需先后分开开启；两对向进口的同转向人工车流的相位相序相同。3.根据权利要求1所述的方法，其特征在于，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流左转相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的左转网联自动车流的相位绿灯起点及时长需满足与其冲突车流相位绿灯分开开启；未布设网联自动车专用道的进口方向的左转网联自动车流与同向左转人工车流具备相同的绿灯方案。4.根据权利要求1所述的方法，其特征在于，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流直行相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的直行网联自动车流的绿灯起点及时长需满足与其冲突车流相位绿灯分开开启；未布设网联自动车专用道的进口方向的直行网联自动车流与同向直行人工车流具备相同的绿灯方案。5.根据权利要求1所述的方法，其特征在于，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流右转相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的网联自动车流右转相位1的绿灯起点和时长约束需满足与其冲突车流相位绿灯分开开启；布设了网联自动车专用道的进口方向的网联自动车流右转相位2与其配对的左转人工车流具备相同的绿灯方案；布设了网联自动车专用道的进口方向的网联自动车流右转相位3与其对向直行网联自动车流信号相位设置相关联；未布设网联自动车专用道的进口方向的右转网联自动车流与同向右转人工车流具备相同的绿灯方案。6.根据权利要求1所述的方法，其特征在于，基于改进的NEMA相位结构对右转人工车流进行信号控制，其对应的人工车流右转相位信号配时构建的约束条件包括：各进口方向人工车流右转相位1、2、3的绿灯起点和时长约束，与是否存在直右人工车辆专用道、是否布设了网联自动车专用道以及布设位置相关性的约束。7.根据权利要求1所述的方法，其特征在于，所述约束条件还包括：构建确保各相位绿灯时长满足最大饱和度约束要求的约束条件；构建确保所优化的配时参数处于许可范围内的约束条件；构建实现交叉口通行能力最大和/或车辆延误最小的目标的约束条件。8.一种基于改进NEMA相位结构的混行交叉口信号配时系统，其特征在于，所述系统包括：第一参数获取模块，用于确定待分析交叉口每个流向网联自动车流流量、每个流向人工车流流量以及该交叉口最大最小许可周期时长、最大最小相位许可绿灯时长、绿灯间隔时间以及左、直、右转向的网联自动车流和人工车流的折算系数；第二参数获取模块，用于确定网联自动车专用道、人工车辆专用道和混行车道的饱和流率；车道布局获取模块，用于确定各进口方向的车道布局，包括进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道；改进NEMA相位结构获取模块，用于基于冲突避免原则和时间资源充分利用原则，在传统NEMA相位结构上增设网联自动车流相位，得到改进NEMA相位结构；信号配时处理模块，用于基于改进NEMA相位结构对左、直、右转向的人工车流和网联自动车流进行信号控制，构建约束条件，以待分析交叉口通行能力最大和/或延误最小为目标，构建混合整数线性规划模型，优化待分析交叉口的信号配时方案。9.一种存储介质，其上存储有计算机程序，所述程序被处理器执行时实现根据权利要求1至7中任一项所述的基于改进NEMA相位结构的混行交叉口信号配时方法。10.一种电子设备，其特征在于，包括：处理器；以及存储器，用于存储所述处理器的可执行指令；其中，所述处理器配置为经由执行所述可执行指令来执行时实现根据权利要求1至7中任一项所述的基于改进NEMA相位结构的混行交叉口信号配时方法。
说明书desc
技术领域本发明涉及智能交通控制技术领域，具体涉及一种基于改进NEMA相位结构的混行交叉口信号配时方法、一种基于改进NEMA相位结构的混行交叉口信号配时系统，一种存储介质，一种电子设备。背景技术近年来，随着政府、企业和学者的不懈努力，具备与外界实时通信的自动驾驶车辆取得了飞速发展，已在部分区域进行了实地运营，在不久将来将有更多的网联自动车进入路网，与人工车辆一起运行。与传统路网仅运行单一人工车流不同，网联自动车和人工车辆存在不同的驾驶行为，为保证运行安全或提高路网出行效率，管理者可能会重新分配道路资源，将路段上某些车道设置为专供网联自动车运行的专用道，称为网联自动车专用道，另外部分车道专供人工车辆运行，称为人工车辆专用道，而同时允许网联自动车和人工车辆运行的车道称为混行车道。为进一步提升路网运行安全，将在路段上布设的网联自动车专用道一直延伸至交叉口，进而避免网联自动车流和人工车流在交叉口进口处发生交织冲突。尽管上述在交叉口布设网联自动车专用道可以很好地应对混行车流在交叉口的出行需求，但目前交叉口信号配时方法无法应对上述新型的交通组织。不合理的信号配时设置不但不能提升该新型交通组织下混行交叉口的通行效率，反而会浪费交叉口时空资源，甚至出现安全隐患，严重影响该交通组织方案下交叉口的运行。因此，针对上述新型的交通组织，急需一套信号配时方法与系统，以提升该组织方案下交叉口的运行安全与效率。需要说明的是，在上述背景技术部分公开的信息仅用于加强对本公开的背景的理解，因此可以包括不构成对本领域普通技术人员已知的现有技术的信息。发明内容本公开提供一种基于改进NEMA相位结构的混行交叉口信号配时方法及系统、存储介质、电子设备，能够优化信号配时方案，在确保运行安全的基础上提升混行交叉口的出行效率。本公开的其他特性和优点将通过下面的详细描述变得显然，或部分地通过本公开的实践而习得。根据本公开的第一方面，提供一种基于改进NEMA相位结构的混行交叉口信号配时方法，所述方法包括：确定待分析交叉口每个流向网联自动车流流量、每个流向人工车流流量以及该交叉口最大最小许可周期时长、最大最小相位许可绿灯时长、绿灯间隔时间以及左、直、右转向的网联自动车流和人工车流的折算系数；确定网联自动车专用道、人工车辆专用道和混行车道的饱和流率；确定各进口方向的车道布局，包括进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道；基于冲突避免原则和时间资源充分利用原则，在传统NEMA相位结构上增设网联自动车流相位，得到改进NEMA相位结构；基于改进NEMA相位结构对左、直、右转向的人工车流和网联自动车流进行信号控制，构建约束条件，以待分析交叉口通行能力最大和/或延误最小为目标，构建混合整数线性规划模型，优化待分析交叉口的信号配时方案。在本示例性实施方式中，基于改进NEMA相位结构对左、直转向人工车流进行信号控制时，其对应的人工车流左、直转向相位信号配时构建的约束条件包括：周期时长需要满足NEMA相位结构中相互冲突的四股人工车流的绿灯时长的需求；各类型各转向车流的相位绿灯终点要早于周期终点结束；NEMA相位结构中的左右半环中的上下半环两相位绿灯时长之和相等；冲突人工车流的相位绿灯需先后分开开启；两对向进口的同转向人工车流的相位相序相同。在本示例性实施方式中，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流左转相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的左转网联自动车流的相位绿灯起点及时长需满足与其冲突车流相位绿灯分开开启；未布设网联自动车专用道的进口方向的左转网联自动车流与同向左转人工车流具备相同的绿灯方案。在本示例性实施方式中，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流直行相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的直行网联自动车流的绿灯起点及时长需满足与其冲突车流相位绿灯分开开启；未布设网联自动车专用道的进口方向的直行网联自动车流与同向直行人工车流具备相同的绿灯方案。在本示例性实施方式中，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流右转相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的网联自动车流右转相位1的绿灯起点和时长约束需满足与其冲突车流相位绿灯分开开启；布设了网联自动车专用道的进口方向的网联自动车流右转相位2与其配对的左转人工车流具备相同的绿灯方案；布设了网联自动车专用道的进口方向的网联自动车流右转相位3与其对向直行网联自动车流信号相位设置相关联；未布设网联自动车专用道的进口方向的右转网联自动车流与同向右转人工车流具备相同的绿灯方案。在本示例性实施方式中，基于改进的NEMA相位结构对右转人工车流进行信号控制，其对应的人工车流右转相位信号配时构建的约束条件包括：各进口方向人工车流右转相位1、2、3的绿灯起点和时长约束，与是否存在直右人工车辆专用道、是否布设了网联自动车专用道以及布设位置相关性的约束。在本示例性实施方式中，所述约束条件还包括：构建确保各相位绿灯时长满足最大饱和度约束要求的约束条件；构建确保所优化的配时参数处于许可范围内的约束条件；构建实现交叉口通行能力最大和/或车辆延误最小的目标的约束条件。根据本公开的第二方面，提供一种基于改进NEMA相位结构的混行交叉口信号配时系统，所述系统包括：第一参数获取模块，用于确定待分析交叉口每个流向网联自动车流流量、每个流向人工车流流量以及该交叉口最大最小许可周期时长、最大最小相位许可绿灯时长、绿灯间隔时间以及左、直、右转向的网联自动车流和人工车流的折算系数；第二参数获取模块，用于确定网联自动车专用道、人工车辆专用道和混行车道的饱和流率；车道布局获取模块，用于确定各进口方向的车道布局，包括进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道；改进NEMA相位结构获取模块，用于基于冲突避免原则和时间资源充分利用原则，在传统NEMA相位结构上增设网联自动车流相位，得到改进NEMA相位结构；信号配时处理模块，用于基于改进NEMA相位结构对左、直、右转向的人工车流和网联自动车流进行信号控制，构建约束条件，以待分析交叉口通行能力最大和/或延误最小为目标，构建混合整数线性规划模型，优化待分析交叉口的信号配时方案。根据本公开的第三方面，提供一种应存储介质，其上存储有计算机程序，所述程序被处理器执行时实现根据上述第一方面所述的基于改进NEMA相位结构的混行交叉口信号配时方法。根据本公开的第四方面，提供一种电子设备，包括：处理器；以及存储器，用于存储所述处理器的可执行指令；其中，所述处理器配置为经由执行所述可执行指令来执行时实现根据上述第一方面所述的基于改进NEMA相位结构的混行交叉口信号配时方法。本公开的一种实施例所提供的基于改进NEMA相位结构的混行交叉口信号配时方法，针对网联自动车和人工车辆混行环境下的信号交叉口的管控，根据某进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道，改进NEMA相位结构，在此基础上优化交叉口信号配时方案，包括周期时长和各转向网联自动车流和人工车流的绿灯起点及时长，在确保交叉口内部运行安全的基础上提升交叉口通行效率。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本公开。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本公开的实施例，并与说明书一起用于解释本公开的原理。显而易见地，下面描述中的附图仅仅是本公开的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1示意性示出混行环境下包含网联自动车专用道的交叉口车道渠化图；图2示意性示出传统NEMA相位结构的示意图；图3示意性示出本公开实施例中网联自动车专用道右侧布设且无直右人工车辆专用道时交叉口渠化图及改进的NEMA相位结构的示意图；图4示意性示出本公开实施例中网联自动车专用道右侧布设且含直右人工车道时交叉口渠化图及改进的NEMA相位结构的示意图；图5示意性示出本公开实施例中网联自动车专用道左侧布设时交叉口渠化图及改进的NEMA相位结构的示意图；图6示意性示出本公开实施例中网联自动车专用道一左一右布设位置且无直右人工车辆专用道时交叉口渠化图及改进的NEMA相位结构的示意图；图7示意性示出本公开实施例中网联自动车专用道一左一右布设且有直右人工车辆专用道时交叉口渠化图及改进的NEMA相位结构的示意图；图8示意性示出本公开实施例中网联自动车专用道一有一无时交叉口渠化图及改进的NEMA相位结构的示意图图9示意性示出本公开实施例中基于改进NEMA相位结构的混行交叉口信号配时方法的示意图；图10示意性示出本公开实施例中基于改进NEMA相位结构的混行交叉口信号配时系统的示意图。具体实施方式现在将参考附图更全面地描述示例实施方式。然而，示例实施方式能够以多种形式实施，且不应被理解为限于在此阐述的范例；相反，提供这些实施方式使得本公开将更加全面和完整，并将示例实施方式的构思全面地传达给本领域的技术人员。所描述的特征、结构或特性可以以任何合适的方式结合在一个或更多实施方式中。此外，附图仅为本公开的示意性图解，并非一定是按比例绘制。图中相同的附图标记表示相同或类似的部分，因而将省略对它们的重复描述。附图中所示的一些方框图是功能实体，不一定必须与物理或逻辑上独立的实体相对应。可以采用软件形式来实现这些功能实体，或在一个或多个硬件模块或集成电路中实现这些功能实体，或在不同网络和/或处理器装置和/或微控制器装置中实现这些功能实体。针对现有技术的缺点和不足，参考图9所示，本示例实施方式提供了一种基于改进NEMA相位结构的混行交叉口信号配时方法方法，包括：步骤S1，确定待分析交叉口每个流向网联自动车流流量、每个流向人工车流流量以及该交叉口最大最小许可周期时长、最大最小相位许可绿灯时长、绿灯间隔时间以及左、直、右转向的网联自动车流和人工车流的折算系数；步骤S2，确定网联自动车专用道、人工车辆专用道和混行车道的饱和流率；步骤S3，确定各进口方向的车道布局，包括进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道；步骤S4，基于冲突避免原则和时间资源充分利用原则，在传统NEMA相位结构上增设网联自动车流相位，得到改进NEMA相位结构；步骤S5，基于改进NEMA相位结构对左、直、右转向的人工车流和网联自动车流进行信号控制，构建约束条件，以待分析交叉口通行能力最大和/或延误最小为目标，构建混合整数线性规划模型，优化待分析交叉口的信号配时方案。本公开提供一种基于改进NEMA相位结构的混行交叉口信号配时方法与系统，核心在于针对网联自动车和人工车辆混行环境下的信号交叉口，构建一套混合整数线性规划模型，以交叉口通行能力最大和/或延误最小为目标，考虑某进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道，优化信号配时方案，包括周期时长和各转向网联自动车流和人工车流的绿灯起点及时长，在确保运行安全的基础上提升混行交叉口的出行效率。本公开对网联自动车专用道上的网联自动车流在交叉口处实施串联控制，即三股车流依次轮流使用串联控制区内所有网联自动车专用道驶离交叉口。专用道设置预信号灯及预信号停止线，预信号停止线与交叉口停止线之间为串联控制区，长度按照能容纳一个周期内网联自动车流中任意一种转向车流停车排队设置；预信号停止线上游靠近人工车道一侧配置为停车排队区，按照能容纳一个周期内网联自动车流中任意两种转向车流停车排队设置，另一侧配置为通行区。网联自动车专用道至少包括两条车道，通常配置1条通行区，其余为停车排队区。如图1所示，首先，开启预信号左转绿灯信号，允许左转网联自动车流进入串联控制区，随后，开启交叉口该进口方向左转绿灯信号并关闭预信号左转绿灯信号，左转网联自动车流通过串联控制区所有进口车道驶离交叉口；其次，关闭交叉口左转绿灯信号并开启预信号直行绿灯，允许直行网联自动车流进入串联控制区，随后，开启交叉口直行绿灯信号并关闭预信号直行绿灯信号，直行网联自动车流通过串联控制区所有进口车道驶离交叉口；最后，关闭交叉口直行绿灯信号并开启预信号右转绿灯，允许右转网联自动车流进入串联控制区，随后，开启交叉口右转绿灯信号并关闭预信号右转绿灯信号，右转网联自动车流通过串联控制区所有进口车道驶离交叉口；周期性重复上述过程，进而实现对网联自动车流的串联控制。在步骤S1中，确定待分析交叉口每个流向网联自动车流流量、每个流向人工车流流量以及该交叉口最大最小许可周期时长、最大最小相位许可绿灯时长、绿灯间隔时间以及左、直、右转向的网联自动车流和人工车流的折算系数；本示例实施方式中，以典型五车道十字信号交叉口为例，如图1所示，交叉口四个进口方向均在左侧两车道布设了网联自动车专用道。实地调查确定各转向网联自动车流流量和人工车流平均流量，如表1和表2所示。基于人工经验确定该交叉口最大最小许可周期时长，，最大绿灯时长，基于行人过街时间需求确定最小许可相位绿灯时长，基于交叉口“两难区域”避免原则确定绿灯间隔时间。基于各转向网联自动车流和人工车流在交叉口的转向半径确定各转向车流的折算系数，折算系数按式计算得出，式中为转向类型车辆的转向半径。实施例中，左、直、右网联自动车流和人工车流的转向半径取值相同，分别为，，，计算得出折算系数分别为，，。表1 网联自动车流流量表2 人工车流流量在步骤S2中，确定网联自动车专用道、人工车辆专用道和混行车道的饱和流率。本示例实施方式中，饱和流率可根据理论模型法和实测法进行确定。具体的，根据调查统计得出交叉口处网联自动车和人工车辆各自最小跟驰车头时距。网联自动车专用道、人工车辆专用道和混行车道的饱和流率按下式进行计算确定： , 其中，表示允许类型车流运行的车道饱和流率，，表示网联自动车流，表示人工车流，表示由人工车流和网联自动车流组成的混行车流。当某一进口方向布设了网联自动车专用道，人工车辆和网联自动车分车道行驶，该进口方向存在人工车辆专用道和网联自动车专用道；否则，该进口方向人工车辆和网联自动车混合行驶，该进口方向所有进口车道均为混行车道，且各转向混行车道饱和流率需根据混行车流中网联自动车占比分开计算。分别表示人工车辆跟驰人工车辆的最小车头时距、网联自动车跟驰人工车辆的最小车头时距、人工车辆跟驰网联自动车的最小车头时距以及网联自动车跟驰网联自动车的最小车头时距。为混行车流中网联自动车占比，对网联自动车专用道的饱和流率进行计算时，令，对人工车辆专用道的饱和流率进行计算时，令。例如，网联自动车和人工车辆各自最小跟驰车头时距，，基于饱和流率与最小跟驰车头时距的倒数关系确定网联自动车专用道、人工车辆专用道的饱和流率分别为2400 pcu/h和 1800 pcu/h，各进口各转向混行车道饱和流率如表3所示。表3 各进口各转向混行车道饱和流率在步骤S3中，确定各进口方向的车道布局，包括进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道。本示例实施方式中，根据交叉口车道管理方案，确定每个进口方向的车道布局，包括是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道。其中，将网联自动车专用道布设位置分为左侧布设和右侧布设，左侧布设指网联自动车专用道布设在进口方向的左侧，如图1中网联自动车专用道均布设在左侧；右侧布设指网联自动车专用道布设在进口方向的右侧，如图3中网联自动车专用道均布设在右侧。实施例中四个进口方向均在左侧布设了两条网联自动车专用道，且四个进口方向均存在直右人工车辆专用道。在步骤S4中，基于冲突避免原则和时间资源充分利用原则，在传统NEMA相位结构上增设网联自动车流相位，得到改进NEMA相位结构。本示例实施方式中，所述冲突避免原则是指所增设的网联自动车流相位应与其冲突车流相位分开开启，如图3中网联自动车流相位10，由于其与相位2,6,20,60,90,100冲突，其相位绿灯与上述冲突相位绿灯分开开启，不存在重叠。所述时间资源充分利用原则是指相互兼容的车流相位应充分利用可用时间，如图3中网联自动车流相位10，由于其与人工车流相位1兼容，若其所需最小绿灯时长小于相位1，则将其绿灯时长设置与相位1相同，反之，将相位1绿灯时长设置与其相同。在步骤S5中，基于改进NEMA相位结构对左、直、右转向的人工车流和网联自动车流进行信号控制，并构建约束条件，以待分析交叉口通行能力最大和/或延误最小为目标，构建混合整数线性规划模型，优化待分析交叉口的信号配时方案。本示例实施方式中，基于改进NEMA相位结构对左、直转向人工车流进行信号控制时，其对应的人工车流左、直转向相位信号配时构建的约束条件包括：周期时长需要满足改进NEMA相位结构中相互冲突的四股人工车流的绿灯时长的需求；各类型各转向车流的相位绿灯终点要早于周期终点结束；NEMA相位结构中的左右半环中的上下半环两相位绿灯时长之和相等；冲突人工车流的相位绿灯需先后分开开启；两对向进口的同转向人工车流的相位相序相同。具体的，基于改进NEMA相位结构对左、直转向人工车流进行信号控制，可以构建以下约束对人工车流相位进行信号配时：其中，表示交叉口四个进口方向的集合，分别表示东、西、南、北进口方向；表示交叉口各进口方向车流的转向集合，分别表示左、直、右转向；表示十字交叉口一对对向进口方向集合，即西进口方向与东进口方向相互对向，南进口方向与北进口方向相互对向；表示NEMA相位结构中，左右同一环中相互冲突的车流集合，集合中某一股车流以双字母表示，首字母表示进口方向，尾字母表示车流转向，如表示西进口左转车流；表示NEMA相位结构中右环所包含的车流；表示进口方向转向类型车流的相位绿灯起点，，，；表示进口方向转向类型车流的相位绿灯时长，，，；表示人工车流和的先后顺序，表示进口方向左转人工车流相位绿灯先于进口方向直行人工车流相位绿灯开启；反之，进口方向左转人工车流相位绿灯晚于进口方向直行人工车流相位绿灯开启；为二进制参数，表示进口方向上是否布设了网联自动车专用道，表示进口方向上布设了网联自动车专用道，表示进口方向上未布设网联自动车专用道；表示冲突相位的绿灯间隔；表示周期时长；表示一足够大的正整数；式表示周期时长需要满足NEMA相位结构中相互冲突的四股人工车流的绿灯时长的需求；式表示类型车流的相位绿灯终点要早于周期终点结束；式和为NEMA相位结构中的屏障约束，即左右半环中的上下半环两相位绿灯时长之和相等；式、和表示人工车流的相位绿灯起点约束，式和表示左右同一半环中冲突的人工车流的相位绿灯起终点关系，式表示左右半环之间冲突的人工车流的相位绿灯起终点关系；式、和表示人工车流冲突相位的相序约束。式确保人工车流进口左转相位和进口直行相位的两相序变量和取值一致。当进口方向布设了网联自动车专用道，为了提升交叉口时间资源利用率，同一道路两对向左、直转向的相位相序应相同，用式表示。式为相序变量的二进制约束。基于改进NEMA相位结构对网联自动车流进行信号控制，与交叉口进口方向是否布设网联自动车专用道、网联自动车车专用道布设位置以及是否存在直右人工车辆专用道有关。当交叉口某一进口方向布设了网联自动车专用道，依据布设位置、是否存在直右人工车辆专用道和对向网联自动车专用道布设情况可分为网联自动车专用道右侧布设且无直右人工车辆专用道、网联自动车专用道右侧布设且有直右人工车辆专用道、网联自动车专用道左侧布设、一左一右布设且无直右人工车辆专用道、一左一右布设且有直右人工车辆专用道和一有一无网联自动车专用道布设。其中，网联自动车专用道一有一无布设场景下，无网联自动车专用道的进口方向上的网联自动车流与人工车流混行，同转向网联自动车流与人工车流具有相同的信号配时方案；有网联自动车专用道的进口方向上的网联自动车流信号配时可依据网联自动车专用道布设位置、是否存在直右人工车辆专用道进行设置。为了更好地提升网联自动车专用道布设场景下交叉口的出行效率，基于NEMA相位结构，经数学证明推导出上述前五种场景下最优的相位结构，如图3、图4、图5、图6、图7。分析得出，上述五种场景下最优相位结构具备以下特征：左右半环中人工车流两左转相位和两直行相位具有相同的相位顺序；左转网联自动车流相位伴随同转向的人工车流相位设置；当网联自动车车专用道右侧布设且存在直右人工车辆专用道时，在传统的NEMA相位结构的基础上增加一部分用于设置直行网联自动车流相位，除此之外，直行网联自动车流相位伴随同转向的人工车流相位设置；右转网联自动车流相位根据场景不同可在三处设置：直左网联自动车流相位之间设置，伴随对向直行网联自动车流相位设置，伴随左右另半环左转人工车流相位设置。具体而言，在此基础上，构建以下约束对网联自动车流相位进行信号配时，包括网联自动车流左转相位信号配时模块、网联自动车流直行相位信号配时模块和网联自动车流右转相位信号配时模块。本示例实施方式中，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流左转相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的左转网联自动车流的相位绿灯起点及时长需满足与其冲突车流相位绿灯分开开启；未布设网联自动车专用道的进口方向的左转网联自动车流与同向左转人工车流具备相同的绿灯方案；具体而言，在网联自动车流左转相位信号配时模块中，可以构建以下约束实现对网联自动车流左转相位的信号配时：其中，为二进制参数，表示进口方向上网联自动车专用道是否布设在左侧，若是，则，否则，；为二进制参数，表示进口方向上网联自动车专用道是否布设在右侧，且该进口方向是否存在直右人工车辆专用道，若是，则，否则，；为一辅助变量，表示NEMA相位结构的屏障位置；式和表示对布设了网联自动车专用道的进口方向左转网联自动车流的相位绿灯起点及时长进行约束，确保左转网联自动车流运行安全，即。当进口方向左转人工车流相位先于进口方向直行人工车流相位开启，即，式确保左转网联自动车流相位绿灯终点早于左右同半环中冲突的直行人工车流相位绿灯起点结束，进而确保左转网联自动车流在交叉口处的运行安全；当进口方向网联自动车专用道右侧布设且存在直右人工车辆车专用道时，即，式确保左转网联自动车流相位要晚于冲突的同向直行网联自动车流相位绿灯终点开启，否则，式确保左转网联自动车流相位不早于周期起点开启。当进口方向左转人工车流相位晚于进口方向直行人工车流相位开启，即，式确保左转网联自动车流相位晚于左右同半环中冲突的两股直行人工车流相位绿灯终点开启，式确保左转网联自动车流相位绿灯终点满足NEMA相位结构的屏障约束。注意，式和中暗含项，表示当进口方向上网联自动车专用道布设在左侧时，左转网联自动车流与同向直行人工车流不冲突，左转网联自动车流相位设置与同向直行人工车流相位无关。当进口方向未布设网联自动车专用道，即，式和确保左转网联自动车流与同向左转人工车流一起放行，即它们具备相同的绿灯相位。式和用于确定NEMA相位结构两处屏障位置，即辅助变量的取值。本示例实施方式中，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流直行相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的直行网联自动车流的绿灯起点及时长需满足与其冲突车流相位绿灯分开开启；未布设网联自动车专用道的进口方向的直行网联自动车流与同向直行人工车流具备相同的绿灯方案。具体而言，在网联自动车流直行相位信号配时模块中，可以构建以下约束实现对网联自动车流直行相位的信号配时：其中，式-表示对布设了网联自动车专用道的进口方向直行网联自动车流的绿灯起点及时长进行约束，确保直行网联自动车流运行安全，即，与人工车流左转与直行的相位相序、专用道左右侧布设以及是否存在直右人工车辆专用道有关。当进口方向左转人工车流相位早于进口方向直行人工车流相位开启，即，且不存在直右人工车辆专用道时，，式确保直行网联自动车流的绿灯起点晚于冲突的左转人工车流的绿灯终点开启，在式中，当进口方向网联自动车专用道左侧布设时，即，直行网联自动车流与左右同半环双向左转人工车流冲突，否则，直行网联自动车流仅与对向左转人工车流冲突，与同向左转人工车流不冲突；式确保直行网联自动车流相位绿灯终点满足NEMA相位结构的屏障约束，进而确保左转网联自动车流在交叉口处的运行安全。此外，当进口方向网联自动车专用道右侧布设且存在直右人工车辆专用道时，即，，式确保直行网联自动车流的绿灯起点晚于周期起点开启，式确保直行网联自动车流的绿灯终点早于冲突的人工车流相位绿灯起点结束。当进口方向左转人工车流相位晚于进口方向直行人工车流相位开启，即，式确保直行网联自动车流的绿灯起点晚于周期起点开启，式和确保直行网联自动车流的绿灯终点早于后续冲突车流相位绿灯起点结束。当进口方向未布设网联自动车专用道，即，式和确保直行网联自动车流与同向直行人工车流一起放行，即它们具备相同的绿灯相位。本示例实施方式中，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流右转相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的网联自动车流右转相位1的绿灯起点和时长约束需满足与其冲突车流相位绿灯分开开启；布设了网联自动车专用道的进口方向的网联自动车流右转相位2与其配对的左转人工车流具备相同的绿灯方案；布设了网联自动车专用道的进口方向的网联自动车流右转相位3与其对向直行网联自动车流信号相位设置相关联。未布设网联自动车专用道的进口方向的右转网联自动车流与同向右转人工车流具备相同的绿灯方案。具体而言，在网联自动车流右转相位信号配时中，由于右转网联自动车流可以与多股不冲突车流同时放行，经分析得出，网联自动车流右转信号相位存在三种情况，为了更好地利用交叉口的时间资源，设置三个相位来释放右转网联自动车流，分别称为网联自动车流右转相位1、相位2和相位3。可以构建以下约束实现对网联自动车流右转相位的信号配时：其中，将与进口方向右转车流具有相同出口的直行车流定义为进口方向右转车流的冲突直行车流，将该冲突直行车流对向左转人工车流定义为进口方向右转车流的配对左转车流，用集合表示交叉口配对左右转车流所对应的进口方向配对集合。式和分别表示进口方向网联自动车流右转相位1的绿灯起点和时长约束，与进口方向是否布设了网联自动车专用道、专用道布设位置、是否存在直右人工车辆专用道以及相位相序有关。当进口方向未布设网联自动车专用道，即时，式和表示右转网联自动车流与同向右转人工车流一起放行。当进口方向布设了网联自动车专用道，式表示网联自动车流右转相位1紧跟同进口方向左转或直行网联自动车流信号相位设置，式基于网联自动车流右转相位1的设置不导致周期时长增加的原则限制右转相位1的绿灯时长。在式中，当网联自动车专用道左侧布设时，即、，若对向人工车流直、左相位绿灯存在重叠，则可将右转相位1设置在该重叠区域而不与其他车流冲突，否则，取消右转相位1的设置；当网联自动车专用道右侧布设时，即，右转相位1绿灯时长受NEMA相位结构屏障和网联自动车流的直左相位绿灯时长的约束。式和分别表示进口方向网联自动车流右转相位2的绿灯起点和时长约束，依据配对的左转人工车流信号相位设置。式和分别表示进口方向网联自动车流右转相位3的绿灯起点和时长约束，当进口方向网联自动车专用道右侧布设且存在直右人工车辆专用道而进口方向不存在直右人工车辆专用道时，依据进口方向直行网联自动车流信号相位设置，否则，取消网联自动车流右转相位3的设置。本示例实施方式中，基于改进NEMA相位结构对右转人工车流进行信号控制，其对应的人工车流右转相位信号配时构建的约束条件包括：各进口方向人工车流右转相位1、2、3的绿灯起点和时长约束，与是否存在直右人工车辆专用道、是否布设了网联自动车专用道以及布设位置相关性的约束；具体而言，基于改进NEMA相位结构对右转人工车流进行信号控制，同样设置三个相位来释放右转人工车流，分别称为人工车流右转相位1、相位2和相位3，可以构建以下约束对人工车流右转相位进行信号配时：其中，表示进口方向是否存在直右人工车辆专用道，若存在，则，否则，；为一辅助变量，表示当进口方向网联自动车专用道左侧布设且人工车流右转与直行分车道运行时，则进口方向人工车流右转与同进口左转和直行一起放行，即人工车流右转相位1的绿灯起点取同进口左转和直行人工车流相位绿灯起点较小值，用式和表示。式和分别表示进口方向人工车流右转相位1的绿灯起点和时长约束，与是否存在直右人工车辆专用道、是否布设了网联自动车专用道以及布设位置有关。当存在直右人工车辆专用道时，右转人工车流与同进口方向直行一起放行；否则，当网联自动车专用道左侧布设或未布设时，右转人工车流与同进口左转和直行人工车流一起放行，当网联自动车专用道右侧布设时，人工车流右转相位1依据同进口方向网联自动车流右转相位1设置。式-分别表示进口方向人工车流右转相位2和3的绿灯起点和时长约束，当存在直右人工车辆专用道时，取消人工车流右转相位2和3的设置，否则，依据同进口网联自动车流右转相位2和3进行设置。本示例实施方式中，所述以待分析交叉口通行能力最大和/或延误最小为目标，构建混合整数线性规划模型，优化待分析交叉口的信号配时方案，约束条件还包括：构建确保各相位绿灯时长满足最大饱和度约束要求的约束条件；构建确保所优化的配时参数处于许可范围内的约束条件；构建实现交叉口通行能力最大和/或车辆延误最小的目标的约束条件；基于上述约束条件利用GAMS求解器进行求解，获取以待分析交叉口通行能力最大和延误最小的所设计车道渠化方案下信号配时方案。具体而言，在满足交叉口出行需求的基础上，以交叉口通行能力最大和/或延误最小为目标确定信号周期时长、各股网联自动车流和人工车流的相位绿灯起点和时长。包括饱和度约束模块、参数范围约束模块和优化目标模块。其中，可以通过构建以下约束确保各相位绿灯时长满足最大饱和度约束要求：其中：表示类型车流的折算系数；表示类型车流的流量；表示允许类型车流通行的车道数量；表示类型车流在交叉口处的饱和流率，根据进口方向是否存在网联自动车专用道，分别取网联自动车专用道饱和流率、人工车辆专用道饱和流率和混行车道饱和流率；表示类型车流的许可车道所允许的最大饱和度。当为右转车流相位时，应为右转相位1、相位2和相位3之和。通过构建以下约束确保所优化的配时参数处于许可范围内：其中，和分别表示类型车流最大和最小许可绿灯时长；和分别表示最大和最小许可周期时长。式和分别确保所优化的绿灯时长和周期时长满足最大最小值要求。通过构建目标函数实现交叉口通行能力最大和/或车辆延误最小的目标。本实施例中，以交叉口通行能力最大和车辆延误最小为目标，构建目标函数如下：基于绿灯时间越长，通行能力越大，以及周期时长越小，车辆延误越小的原理构建该目标函数，实现交叉口通行能力最大和车辆延误最小的目标。采用GAMS求解器求解上述信号配时优化模型，获得以交叉口通行能力最大和延误最小的所设计车道渠化方案下信号配时方案，结果如表4所示，周期时长 。表4 五车道交叉口最优信号配时方案本公开实施例所提供的基于改进NEMA相位结构的混行交叉口信号配时方法与系统，针对网联自动车和人工车辆混行环境下且布设了网联自动车专用道的信号交叉口的管控，根据某进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道，改进NEMA相位结构，在此基础上优化交叉口信号配时方案，包括周期时长和各转向网联自动车流和人工车流的绿灯起点及时长，在确保交叉口内部运行安全的基础上提升交叉口通行效率。进一步的，参考图10所示，本示例的实施方式中还提供一种基于改进NEMA相位结构的混行交叉口信号配时系统90，包括：第一参数获取模块901、第二参数获取模块902、车道布局获取模块903、改进NEMA相位结构获取模块904、信号配时处理模块905。其中，第一参数获取模块901可以用于确定待分析交叉口每个流向网联自动车流流量、每个流向人工车流流量以及该交叉口最大最小许可周期时长、最大最小相位许可绿灯时长、绿灯间隔时间以及左、直、右转向的网联自动车流和人工车流的折算系数。第二参数获取模块902可以用于根据各进口方向网联自动车和人工车辆的最小跟车时距，确定网联自动车专用道、人工车辆专用道和混行车道的饱和流率。车道布局获取模块903可以用于确定各进口方向的车道布局，包括进口方向是否布设了网联自动车专用道、网联自动车专用道布设位置以及是否存在直右人工车辆专用道。改进NEMA相位结构获取模块904可以用于基于冲突避免原则和时间资源充分利用原则，在传统NEMA相位结构上增设网联自动车流相位，得到改进NEMA相位结构。信号配时处理模块905可以用于用于基于改进NEMA相位结构对左、直、右转向的人工车流和网联自动车流进行信号控制，构建约束条件，以待分析交叉口通行能力最大和/或延误最小为目标，构建混合整数线性规划模型，优化待分析交叉口的信号配时方案。本示例实施方式中，基于改进NEMA相位结构对左、直转向人工车流进行信号控制时，其对应的人工车流左、直转向相位信号配时构建的约束条件包括：周期时长需要满足NEMA相位结构中相互冲突的四股人工车流的绿灯时长的需求；各类型各转向车流的相位绿灯终点要早于周期终点结束；NEMA相位结构中的左右半环中的上下半环两相位绿灯时长之和相等；冲突人工车流的相位绿灯需先后分开开启；两对向进口的同转向人工车流的相位相序相同。本示例实施方式中，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流左转相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的左转网联自动车流的相位绿灯起点及时长需满足与其冲突车流相位绿灯分开开启；未布设网联自动车专用道的进口方向的左转网联自动车流与同向左转人工车流具备相同的绿灯方案。本示例实施方式中，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流直行相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的直行网联自动车流的绿灯起点及时长需满足与其冲突车流相位绿灯分开开启；未布设网联自动车专用道的进口方向的直行网联自动车流与同向直行人工车流具备相同的绿灯方案。本示例实施方式中，基于改进的NEMA相位结构对网联自动车流进行信号控制，其对应的网联自动车流右转相位信号配时构建的约束条件包括：布设了网联自动车专用道的进口方向的网联自动车流右转相位1的绿灯起点和时长约束需满足与其冲突车流相位绿灯分开开启；布设了网联自动车专用道的进口方向的网联自动车流右转相位2与其配对的左转人工车流具备相同的绿灯方案；布设了网联自动车专用道的进口方向的网联自动车流右转相位3与其对向直行网联自动车流信号相位设置相关联；未布设网联自动车专用道的进口方向的右转网联自动车流与同向右转人工车流具备相同的绿灯方案。本示例实施方式中，基于改进的NEMA相位结构对右转人工车流进行信号控制，其对应的人工车流右转相位信号配时构建的约束条件包括：各进口方向人工车流右转相位1、2、3的绿灯起点和时长约束，与是否存在直右人工车辆专用道、是否布设了网联自动车专用道以及布设位置相关性的约束。本示例实施方式中，所述约束条件还包括：构建确保各相位绿灯时长满足最大饱和度约束要求的约束条件；构建确保所优化的配时参数处于许可范围内的约束条件；构建实现交叉口通行能力最大和/或车辆延误最小的目标的约束条件。上述的基于改进NEMA相位结构的混行交叉口信号配时系统中各模块的具体细节已经在对应的基于改进NEMA相位结构的混行交叉口信号配时方法中进行了详细的描述，因此此处不再赘述。应当注意，尽管在上文详细描述中提及了用于动作执行的设备的若干模块或者单元，但是这种划分并非强制性的。实际上，根据本公开的实施方式，上文描述的两个或更多模块或者单元的特征和功能可以在一个模块或者单元中具体化。反之，上文描述的一个模块或者单元的特征和功能可以进一步划分为由多个模块或者单元来具体化。
