标题title
判断车辆归属停车点的方法和介质
摘要abst
本申请公开了一种判断车辆归属停车点的方法和介质，在车辆处于静止状态的情况下，所述方法包括：获取所述车辆在第一时间点的第一位置；获取所述车辆在第二时间点的第二位置；计算所述第二位置与所述第一位置之间的位置间距，并分别判断所述第一位置和所述第二位置是否位于停车缓存区，所述停车缓存区具有对应的归属停车点；在所述位置间距小于或等于设定距离，且仅所述第一位置位于停车缓存区的情况下，根据所述第一位置确定所述车辆的归属停车点；或者，在至少所述第二位置位于停车缓存区的情况下，根据所述第二位置确定所述车辆的归属停车点。本申请提供的判断车辆归属停车点的方法提高了判断的准确性。
权利要求书clms
1.一种判断车辆归属停车点的方法，其特征在于，在车辆处于静止状态的情况下，所述方法包括：获取所述车辆在第一时间点的第一位置；获取所述车辆在第二时间点的第二位置；计算所述第二位置与所述第一位置之间的位置间距，并分别判断所述第一位置和所述第二位置是否位于停车缓存区，所述停车缓存区具有对应的归属停车点；在所述位置间距小于或等于设定距离，且仅所述第一位置位于停车缓存区的情况下，根据所述第一位置确定所述车辆的归属停车点；或者，在至少所述第二位置位于停车缓存区的情况下，根据所述第二位置确定所述车辆的归属停车点；在所述第一位置和所述第二位置均位于停车缓存区以外的情况下；或者，在无法获取所述第一位置和/或所述第二位置的情况下；根据所述车辆所在区域内的设定车辆所在的停车缓存区，确定所述车辆的归属停车点。2.根据权利要求1所述的判断车辆归属停车点的方法，其特征在于，所述设定车辆被配置为能够与所述车辆进行信号连接，且所述信号的强度值达到第一设定阈值的所有车辆。3.根据权利要求2所述的判断车辆归属停车点的方法，其特征在于，在所述设定车辆的数量大于两辆，且所述设定车辆具有50％以上位于停车缓存区的情况下，确定所述车辆位于所述停车缓存区。4.根据权利要求1所述的判断车辆归属停车点的方法，其特征在于，所述设定距离小于或等于20m。5.根据权利要求1所述的判断车辆归属停车点的方法，其特征在于，获取所述第一位置后，在3min内获取所述第二位置。6.根据权利要求5所述的判断车辆归属停车点的方法，其特征在于，所述第一位置为还车位置，所述第二位置为关锁位置。7.根据权利要求1所述的判断车辆归属停车点的方法，其特征在于，所述方法还包括：获取所述车辆在第三时间点的第三位置，并判断所述第三位置与所述车辆的所属位置之间的位置间距；在所述位置间距小于或等于第二设定阈值的情况下，所述车辆的归属停车点不更新；或者，在所述位置间距大于所述第二设定阈值的情况下，根据所述第三位置确定所述车辆的归属停车点。8.根据权利要求7所述的判断车辆归属停车点的方法，其特征在于，所述第二设定阈值的取值范围为50～200m。9.一种计算机可读存储介质，其特征在于，其上存储有计算机指令，所述计算机指令被处理器运行时执行权利要求1-8中任意一项所述的方法。
说明书desc
技术领域本申请涉及交通工具技术领域，更具体地，涉及一种判断车辆归属停车点的方法和计算机可读存储介质。背景技术随着共享车辆的推广，其数量越来越多，日常维护管理则尤为重要。目前，共享车辆的维护管理一般会按照停车点内实时车辆数来实现点位经营，点位经营里的指标建设、运营动作、分配产能、结果核验等重要输入数据，已应用在数据看板、点位地图、智能调度策略等项目中。因此，停车点内的实时车辆数准确性，对于经营管理效率的提升，以及核验一线运营等具有重要影响。鉴于此，急需提供一种能够准确判断车辆归属停车点的方法，以提升车辆的维护管理效率。发明内容本申请的一个目的是提供一种判断车辆归属停车点的方法和计算机可读存储介质的新技术方案。根据本申请的第一方面，提供了一种判断车辆归属停车点的方法，在车辆处于静止状态的情况下，所述方法包括：获取所述车辆在第一时间点的第一位置；获取所述车辆在第二时间点的第二位置；计算所述第二位置与所述第一位置之间的位置间距，并分别判断所述第一位置和所述第二位置是否位于停车缓存区，所述停车缓存区具有对应的归属停车点；在所述位置间距小于或等于设定距离，且仅所述第一位置位于停车缓存区的情况下，根据所述第一位置确定所述车辆的归属停车点；或者，在至少所述第二位置位于停车缓存区的情况下，根据所述第二位置确定所述车辆的归属停车点。在所述第一位置和所述第二位置均位于停车缓存区以外的情况下；或者，在无法获取所述第一位置和/或所述第二位置的情况下；根据所述车辆所在区域内的设定车辆所在的停车缓存区，确定所述车辆的归属停车点。可选地，所述设定车辆被配置为能够与所述车辆进行信号连接，且所述信号的强度值达到第一设定阈值的所有车辆。在所述设定车辆的数量大于两辆，且所述设定车辆具有50％以上位于停车缓存区的情况下，确定所述车辆位于所述停车缓存区。可选地，所述设定距离小于或等于20m。可选地，获取所述第一位置后，在3min内获取所述第二位置。可选地，所述第一位置为还车位置，所述第二位置为关锁位置。可选地，所述方法还包括：获取所述车辆在第三时间点的第三位置，并判断所述第三位置与所述车辆的所属位置之间的位置间距；在所述位置间距小于或等于第二设定阈值的情况下，所述车辆的归属停车点不更新；或者，在所述位置间距大于所述第二设定阈值的情况下，根据所述第三位置确定所述车辆的归属停车点。可选地，所述第二设定阈值的取值范围为50～200m。根据本申请的第二方面，提供了一种计算机可读存储介质，其上存储有计算机指令，所述计算机指令被处理器运行时执行第一方面所述的方法。根据本申请的一个实施例，本申请通过在不同时间点分别获取第一位置和第二位置，并通过计算第一位置和第二位置之间的位置间距以及判断第一位置和第二位置是否位于停车缓存区，使得能够根据第一位置或第二位置所属的停车缓存区来确定出车辆的归属停车点。上述通过两个位置相互校验的判定方法一方面提高了归属停车点的准确性，另一方面，避免了仅获取车辆的单个位置时导致的位置漂移，提升了归属停车点的一致性。通过以下参照附图对本申请的示例性实施例的详细描述，本申请的其它特征及其优点将会变得清楚。附图说明被结合在说明书中并构成说明书的一部分的附图示出了本申请的实施例，并且连同其说明一起用于解释本申请的原理。图1是本申请提供的一种判断车辆归属停车点的方法的流程示意图。具体实施方式现在将参照附图来详细描述本申请的各种示例性实施例。应注意到：除非另外具体说明，否则在这些实施例中阐述的部件和步骤的相对布置、数字表达式和数值不限制本申请的范围。以下对至少一个示例性实施例的描述实际上仅仅是说明性的，决不作为对本申请及其应用或使用的任何限制。对于相关领域普通技术人员已知的技术、方法和设备可能不作详细讨论，但在适当情况下，所述技术、方法和设备应当被视为说明书的一部分。在这里示出和讨论的所有例子中，任何具体值应被解释为仅仅是示例性的，而不是作为限制。因此，示例性实施例的其它例子可以具有不同的值。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步讨论。如图1所示，本申请提供了一种判断车辆归属停车点的方法，在车辆处于静止状态的情况下，所述方法包括：步骤S01：获取所述车辆在第一时间点的第一位置。步骤S02：获取所述车辆在第二时间点的第二位置。在上述步骤一和步骤二中，先获取第一位置，再获取第二位置。其中，获取第一位置或第二位置的方法可以是，在车辆上装配定位设备来检测车辆的实时位置，并通过定位设备定时将位置信息上报至管理后台，或通过管理后台主动对实时位置进行获取。另外，车辆的静止状态可以根据用户的还车操作进行判定，也可以通过在车辆上装配运动传感器等设备进行收集判定，本申请对此不做限定。一般情况下，车辆在还车后，会处于静止状态，此时便需要对车辆所述的归属停车点进行判断，以对车辆较多的一些归属停车点内的车辆进行调度或运营等。在一种实施例中，可以通过车锁的开关来辅助判定车辆的运行状态。步骤S03，计算所述第二位置与所述第一位置之间的位置间距，并分别判断所述第一位置和所述第二位置是否位于停车缓存区，所述停车缓存区具有对应的归属停车点。在所述位置间距小于或等于设定距离，且仅所述第一位置位于停车缓存区的情况下，根据所述第一位置确定所述车辆的归属停车点；或者，在至少所述第二位置位于停车缓存区的情况下，根据所述第二位置确定所述车辆的归属停车点。在此步骤中，通过第一位置和第二位置的具体位置信息计算出位置间距，并在此基础上通过判断第一位置和第二位置分别是否位于停车缓存区来判定车辆的归属停车点。其中，停车缓存区至少包括归属停车点的区域，根据运营管控强度或实际需求，可将归属停车点外扩一定范围，作为停车缓存区。在实际应用中，在道路上设置有多个不相交的停车缓存区，车辆位于某个停车缓存区内，即可判定位归属于对应的归属停车点。具体按照第一位置还是第二位置所在的停车缓存区来确定车辆的归属停车点，可分以下情况进行判定。当计算出的第一位置和第二位置的位置间距小于设定距离时，判定是否仅有第一位置位于某一个停车缓存区内，即第二位置位于停车缓存区以外，此时便按照第一位置所在的停车缓存区来确定车辆的归属停车点。当至少第二位置位于停车缓存区时，包括仅第二位置位于某一停车缓存区，或第一位置和第二位置均位于某一停车缓存区的情况。此时，第二位置相对于第一位置为新获取的位置信息，则按照第二位置所在的停车缓存区来确定车辆的归属停车点会更加准确。需要注意的是，在本实施例中，第一位置和第二位置之间的位置间距可以小于、等于或大于设定距离。另外，设定距离的取值范围可根据实际情况进行设置，本申请对此不做限制。上述判定车辆归属停车点的方法，由于使用了第一位置和第二位置两个时间点的两个位置信息对车辆的实际位置进行了校验，使得最终判定的车辆的位置信息更加准确。另外，在车辆静止状态下采用上述方法校验的位置信息，避免了现有技术中仅通过单个定位位置判定车辆归属停车点时容易出现漂移的问题，进一步提高了统计的准确性。进一步地，本申请提供的判断方法无需对现有车辆进行设备改造，通过原有的定位设备即可实现，降低了运维成本。并且，车辆归属停车点准确性的提高，有利于提高运营商的管理效率和管理成本。步骤S04：在所述第一位置和所述第二位置均位于停车缓存区以外的情况下；或者，在无法获取所述第一位置和/或所述第二位置的情况下；根据所述车辆所在区域内的设定车辆所在的停车缓存区，确定所述车辆的归属停车点。具体地，在本实施例中，如果获取的车辆的第一位置和第二位置均位于停车缓存区外，说明车辆的位置信息获取错误，或者车辆没有位置归属，此时，则可根据其周围设定车辆所在的停车缓存区对其位置信息进一步进行校验和判定。另外，在车辆无法上报实时位置或者由于网络等原因无法获取车辆的实时位置时，也可根据其周围设定车辆所在的停车缓存区对其位置信息进一步进行校验和判定。上述方法使得车辆在可能出现的意外的情况下，依旧能够判断出车辆的所属位置，提高了各停车点内车辆数量统计的准确性。可选地，所述设定车辆被配置为能够与所述车辆进行信号连接，且所述信号的强度值达到第一设定阈值的所有车辆。具体地，在实际应用中，各车辆之间设置有可以实现信号连接的通讯设备，例如蓝牙等设备。当需要被判断所属停车点的车辆和设定车辆之间的信号强度达到第一设定阈值时，则说明需要被判断所属停车点的车辆与设定车辆之间的位置较近，根据设定车辆的位置信息即可辅助判断出本车辆的归属停车点。可选地，在所述设定车辆的数量大于两辆，且所述设定车辆具有50％以上位于停车缓存区的情况下，确定所述车辆位于所述停车缓存区。具体地，在确定设定车辆的数量大于两辆，且其中一半以上位于停车缓存区时，则说明本车辆位于同一个停车缓存区内，此停车缓存区对应的归属停车点即为本车辆的归属停车点。可选地，所述设定距离小于或等于20m。具体地，将设定距离设置在20m以内时，车辆的第一位置和第二位置相距较近，此时，如果仅第一位置位于停车缓存区内时，说明第二位置也距离停车缓存区较近，则将车辆归属在第一位置所在的归属停车点既确定了车辆的位置，又不会影响判断结果的准确性。优选地，设定距离可以为5m～10m。可选地，获取所述第一位置后，在3min内获取所述第二位置。具体地，车辆在静止状态时，通过获取第一位置和第二位置能够校验出其具体位置，而第一位置和第二位置的间隔时间越长，会影响校验的整体时间，进而延长车辆的归属停车点判断时间，降低了判断效率。将时间控制在3min内，一方面可以控制位置校验花费的时间，提高判断效率，另一方面，避免车辆在获取第一位置和第二位置时，车辆发生异常移动，导致无法准确判断其归属停车点。其中，车辆的异常移动指非用户正常使用造成的车辆移动。可选地，所述第一位置为还车位置，所述第二位置为关锁位置。具体地，在实际应用中，一些车辆所在位置的使用频率较高，通过获取还车位置和关锁位置，可以在用归还完并锁定车辆的同时，获取到该车辆的位置信息和归属停车点等信息。其中，还车位置可以指用户在客户端进行还车操作时，车辆所在的位置信息，而关锁位置可以指客户端同意还车后，用户锁车时车辆所在的位置信息。一般情况下，在车辆被锁后，直到下一个用户使用时才会发生移动，因此，根据上述位置判断的该车辆的归属停车点不会发生较大变化。可选地，所述方法还包括：步骤S05，获取所述车辆在第三时间点的第三位置，并判断所述第三位置与所述车辆的所属位置之间的位置间距。在所述位置间距小于或等于第二设定阈值的情况下，所述车辆的归属停车点不更新；或者，在所述位置间距大于所述第二设定阈值的情况下，根据所述第三位置确定所述车辆的归属停车点。具体地，在步骤S03已经确定了车辆的归属停车点之后，可定时对车辆的实时位置进行获取，以避免车辆发生异常移动时，导致车辆的归属停车点信息不准确。在获取到第三位置后，将第三位置与在步骤三中确定的车辆的所属位置进行对比，计算出两者之间的位置间距。如果此位置间距大于第二设定阈值时，说明车辆发生了异常移动，且移动距离较远，车辆的归属停车点也可能发生变化，那么继续根据第三位置所在的停车缓存区对车辆的位置信息和归属停车点信息进行更新。如果此位置间距在第二设定阈值内，则说明获取的位置信息可能发生了漂移，而车辆的实时位置信息仍可归属在原归属停车点内，不用对车辆的位置信息等进行更新，保证了业务使用上的一致性。可选地，所述第二设定阈值的取值范围为50～200m。具体地，在本实施例中，第二设定阈值的取值范围可根据各停车缓存区的间距或实际需求进行设置。将第二设定阈值设置在50～200m，能够保证对车辆归属停车点统计的准确性。优选地，第二设定阈值选取100m。本申请还提供了一种计算机可读存储介质，其上存储有计算机指令，其特征在于，所述计算机指令被处理器运行时执行第一方面所述的方法。本申请可以是系统和/或计算机程序产品。计算机程序产品可以包括计算机可读存储介质，其上载有用于使处理器实现本公开的各个方面的计算机可读程序指令。计算机可读存储介质可以是可以保持和存储由指令执行设备使用的指令的有形设备。计算机可读存储介质例如可以是――但不限于――电存储设备、磁存储设备、光存储设备、电磁存储设备、半导体存储设备或者上述的任意合适的组合。计算机可读存储介质的更具体的例子包括：便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、静态随机存取存储器、便携式压缩盘只读存储器、数字多功能盘、记忆棒、软盘、机械编码设备、例如其上存储有指令的打孔卡或凹槽内凸起结构、以及上述的任意合适的组合。这里所使用的计算机可读存储介质不被解释为瞬时信号本身，诸如无线电波或者其他自由传播的电磁波、通过波导或其他传输媒介传播的电磁波、或者通过电线传输的电信号。这里所描述的计算机可读程序指令可以从计算机可读存储介质下载到各个计算/处理设备，或者通过网络、例如因特网、局域网、广域网和/或无线网下载到外部计算机或外部存储设备。网络可以包括铜传输电缆、光纤传输、无线传输、路由器、防火墙、交换机、网关计算机和/或边缘服务器。每个计算/处理设备中的网络适配卡或者网络接口从网络接收计算机可读程序指令，并转发该计算机可读程序指令，以供存储在各个计算/处理设备中的计算机可读存储介质中。用于执行本公开操作的计算机程序指令可以是汇编指令、指令集架构指令、机器指令、机器相关指令、微代码、固件指令、状态设置数据、或者以一种或多种编程语言的任意组合编写的源代码或目标代码，所述编程语言包括面向对象的编程语言—诸如Smalltalk、C++等，以及常规的过程式编程语言—诸如“C”语言或类似的编程语言。计算机可读程序指令可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络—包括局域网或广域网—连接到用户计算机，或者，可以连接到外部计算机。在一些实施例中，通过利用计算机可读程序指令的状态信息来个性化定制电子电路，例如可编程逻辑电路、现场可编程门阵列或可编程逻辑阵列，该电子电路可以执行计算机可读程序指令，从而实现本公开的各个方面。这里参照根据本公开实施例的方法、装置和计算机程序产品的流程图和/或框图描述了本公开的各个方面。应当理解，流程图和/或框图的每个方框以及流程图和/或框图中各方框的组合，都可以由计算机可读程序指令实现。这些计算机可读程序指令可以提供给通用计算机、专用计算机或其它可编程数据处理装置的处理器，从而生产出一种机器，使得这些指令在通过计算机或其它可编程数据处理装置的处理器执行时，产生了实现流程图和/或框图中的一个或多个方框中规定的功能/动作的装置。也可以把这些计算机可读程序指令存储在计算机可读存储介质中，这些指令使得计算机、可编程数据处理装置和/或其他设备以特定方式工作，从而，存储有指令的计算机可读介质则包括一个制造品，其包括实现流程图和/或框图中的一个或多个方框中规定的功能/动作的各个方面的指令。也可以把计算机可读程序指令加载到计算机、其它可编程数据处理装置、或其它设备上，使得在计算机、其它可编程数据处理装置或其它设备上执行一系列操作步骤，以产生计算机实现的过程，从而使得在计算机、其它可编程数据处理装置、或其它设备上执行的指令实现流程图和/或框图中的一个或多个方框中规定的功能/动作。附图中的流程图和框图显示了根据本公开的多个实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或指令的一部分，所述模块、程序段或指令的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。对于本领域技术人员来说公知的是，通过硬件方式实现、通过软件方式实现以及通过软件和硬件结合的方式实现都是等价的。上文实施例中重点描述的是各个实施例之间的不同，各个实施例之间不同的优化特征只要不矛盾，均可以组合形成更优的实施例，考虑到行文简洁，在此则不再赘述。虽然已经通过例子对本申请的一些特定实施例进行了详细说明，但是本领域的技术人员应该理解，以上例子仅是为了进行说明，而不是为了限制本申请的范围。本领域的技术人员应该理解，可在不脱离本申请的范围和精神的情况下，对以上实施例进行修改。本申请的范围由所附权利要求来限定。
