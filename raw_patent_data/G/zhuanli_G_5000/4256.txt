标题title
行驶控制方法、装置及电子设备
摘要abst
本发明公开了一种行驶控制方法、装置及电子设备。该方法包括：确定目标障碍匹配的目标外接矩形，目标障碍通过目标设备行驶方向上检测的目标障碍点云进行描述；确定目标障碍点云中障碍点与目标外接矩形中各矩形边之间的障碍点相对位置；依据障碍点相对位置对目标障碍点云进行分割得到至少两个分割后障碍点云；依据至少两个分割后障碍点云，确定目标设备在行驶方向上的行驶路线，以控制目标设备继续行驶。本申请技术方案通过对障碍点云进行分割，解决了依据障碍物点云计算的凸包包括大面积的可行驶区域导致无法有效使用可行驶区域进行行驶路线规划，进而造成行驶控制灵敏度低的问题，实现更精确描述障碍点云分布，提高了行驶控制的准确性。
权利要求书clms
1.一种行驶控制方法，其特征在于，包括：确定目标障碍匹配的目标外接矩形，所述目标障碍通过目标设备在行驶方向上检测的目标障碍点云进行描述；确定目标障碍点云中障碍点与所述目标外接矩形中各矩形边之间的障碍点相对位置；依据所述障碍点相对位置对所述目标障碍点云进行分割得到至少两个分割后障碍点云；依据至少两个分割后障碍点云，确定所述目标设备在行驶方向上的行驶路线，以控制所述目标设备继续行驶。2.根据权利要求1所述的方法，其特征在于，确定目标障碍匹配的目标外接矩形，包括：确定所述目标障碍点云的凸包；若所述凸包的凸包边的长度大于预设长度值，则将沿该凸包边所在直线作为外接矩形的一边构建外接矩形；统计所述目标障碍点云中各障碍点到所述外接矩形中最近边的距离值并求均值，记为所述凸包边关联的距离均值；从凸包边的长度大于预设长度值的各个所述凸包边关联的距离均值中确定距离均值最小值，将以距离均值最小值关联的凸包边所在直线作为外接矩形的一边所构建的外接矩形确定为所述目标障碍匹配的目标外接矩形。3.根据权利要求2所述的方法，其特征在于，在将沿该凸包边所在直线作为外接矩形的一边构建外接矩形之前，还包括：按照所述凸包的凸包边长度对各个凸包边由大到小排序；将所述凸包的各个凸包边中满足预设筛选条件的凸包边保留；其中，所述预设筛选条件包括排序在前的预设数量的凸包边且凸包边长度与各凸包边长度和之比大于预设值；或者，凸包边的长度值大于预设长度值且凸包边长度与各凸包边长度和之比大于预设值。4.根据权利要求1所述的方法，其特征在于，确定目标障碍点云中障碍点与所述目标外接矩形中各矩形边之间的障碍点相对位置，包括：对于所述目标障碍点云中障碍点，确定所述障碍点的位置以及所述目标外接矩形中各矩形边的位置；依据所述障碍点的位置与所述目标外接矩形中各矩形边的位置，确定障碍点到各矩形边的最短距离。5.根据权利要求1所述的方法，其特征在于，依据所述障碍点相对位置对所述目标障碍点云进行分割得到至少两个分割后障碍点云，包括：对于所述目标障碍点云中各个障碍点，依据所述障碍点相对位置从所述目标外接矩形各矩形边中确定所述障碍点关联的矩形边；统计所述目标外接矩形中各矩形边关联的障碍点数量；依据各矩形边关联的障碍点数量将所述目标障碍点云分割为至少两个分割后障碍点云。6.根据权利要求5所述的方法，其特征在于，依据各矩形边关联的障碍点数量将所述目标障碍点云分割为至少两个分割后障碍点云，包括：依据各矩形边关联的障碍点数量，确定所述目标障碍点云中各个障碍点在所述目标外接矩形中各矩形边的数量分布状态；若所述数量分布状态指示各个障碍点集中分布在所述目标外接矩形中预设数量的目标矩形边上，则将所述目标障碍点云分割为预设数量个数的分割后障碍点云；其中，集中分布于各个所述目标矩形边的障碍点数量之间的差值小于预设差值，集中分布于所述目标矩形边的障碍点数量与所述目标障碍点云中障碍点总数量之间的比值大于预设比值，所述预设数量为2个或3个。7.根据权利要求1所述的方法，其特征在于，依据至少两个分割后障碍点云，确定所述目标设备在行驶方向上的行驶路线，包括：对于至少两个分割后障碍点云，确定分割后障碍点云的最小外接位置框；依据各分割后障碍点云的最小外接位置框的位置与角度，确定所述目标设备在行驶方向上的路线可规划区域位置；按照路线可规划区域位置，生成所述目标设备在行驶方向上的行驶路线。8.根据权利要求7所述的方法，其特征在于，所述方法还包括：确定所述分割后障碍点云的最小外接位置框的面积或者路线可规划区域面积；若检测到最小外接位置框的面积大于预设分割面积阈值或者路线可规划区域面积小于预设规划面积阈值，则将所述分割后障碍点云作为新的目标障碍点云进行分割。9.一种行驶控制装置，其特征在于，包括：目标外接矩形确定模块，用于确定目标障碍匹配的目标外接矩形，所述目标障碍通过目标设备行驶方向上检测的目标障碍点云进行描述；相对位置确定模块，用于确定目标障碍点云中障碍点与所述目标外接矩形中各矩形边之间的障碍点相对位置；目标障碍点云分割模块，用于依据所述障碍点相对位置对所述目标障碍点云进行分割得到至少两个分割后障碍点云；行驶路线确定模块，用于依据至少两个分割后障碍点云，确定所述目标设备在行驶方向上的行驶路线，以控制所述目标设备继续行驶。10.一种电子设备，其特征在于，所述电子设备包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-8中任一项所述的行驶控制方法。
说明书desc
技术领域本发明涉及无人驾驶技术领域，尤其涉及一种行驶控制方法、装置及电子设备。背景技术单线激光雷达具有测量速度快、成本低、使用寿命长等优点在机器人领域广泛使用，室内机器人在通过单线激光雷达做环境感知的时候，机器人感知的环境信息中除了障碍物点云还包括了原本可行驶的区域，导致机器人判断的障碍物过大，环境感知准确性降低，影响机器人的正常行驶。发明内容本发明提供了一种行驶控制方法、装置、电子设备及存储介质，以解决依据障碍物点云所计算的凸包中包括大面积的可行驶区域导致行驶控制灵敏度低的问题。根据本发明的一方面，提供了一种行驶控制方法，所述方法包括：确定目标障碍匹配的目标外接矩形，所述目标障碍通过目标设备行驶方向上检测的目标障碍点云进行描述；确定目标障碍点云中障碍点与所述目标外接矩形中各矩形边之间的障碍点相对位置；依据所述障碍点相对位置对所述目标障碍点云进行分割得到至少两个分割后障碍点云；依据至少两个分割后障碍点云，确定所述目标设备在行驶方向上的行驶路线，以控制所述目标设备继续行驶。根据本发明的另一方面，提供了一种行驶控制装置，所述装置包括：目标外接矩形确定模块，用于确定目标障碍匹配的目标外接矩形，所述目标障碍通过目标设备行驶方向上检测的目标障碍点云进行描述；相对位置确定模块，用于确定目标障碍点云中障碍点与所述目标外接矩形中各矩形边之间的障碍点相对位置；目标障碍点云分割模块，用于依据所述障碍点相对位置对所述目标障碍点云进行分割得到至少两个分割后障碍点云；行驶路线确定模块，用于依据至少两个分割后障碍点云，确定所述目标设备在行驶方向上的行驶路线，以控制所述目标设备继续行驶。根据本发明的另一方面，提供了一种电子设备，所述电子设备包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行本发明任一实施例所述的行驶控制方法。根据本发明的另一方面，提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于使处理器执行时实现本发明任一实施例所述的行驶控制方法。本发明实施例的技术方案，通过确定目标障碍匹配的目标外接矩形，所述目标障碍通过目标设备行驶方向上检测的目标障碍点云进行描述；确定目标障碍点云中障碍点与所述目标外接矩形中各矩形边之间的障碍点相对位置；依据所述障碍点相对位置对所述目标障碍点云进行分割得到至少两个分割后障碍点云；依据至少两个分割后障碍点云，确定所述目标设备在行驶方向上的行驶路线，以控制所述目标设备继续行驶。本申请技术方案通过对障碍点云进行分割，并依据分割后障碍点云确定目标设备在行驶方向上的行驶路线，解决了依据障碍物点云计算的凸包包括大面积的可行驶区域导致无法有效使用可行驶区域进行行驶路线规划，进而造成行驶控制灵敏度低的问题，实现更精确描述障碍点云分布，提高了行驶控制的准确性。应当理解，本部分所描述的内容并非旨在标识本发明的实施例的关键或重要特征，也不用于限制本发明的范围。本发明的其它特征将通过以下的说明书而变得容易理解。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1a是根据本发明实施例一提供的一种行驶控制方法的流程图；图1b是适用于本发明实施例适用的确定目标外接矩形的示意图；图1c是适用于本发明实施例适用的确定目标设备在行驶方向上的行驶路线的示意图；图2a是根据本发明实施例二提供的一种行驶控制方法的流程图；图2b是适用于本发明实施例适用的凸包的示意图；图3是根据本发明实施例三提供的一种行驶控制方法的流程图；图4a是适用于本发明实施例适用的确定障碍点关联的矩形边的示意图；图4b是适用于本发明实施例适用的确定目标设备与目标障碍中凸凹区域的相对位置的结构示意图；图5是根据本发明实施例提供的一种行驶控制装置的结构示意图；图6是实现本发明实施例的行驶控制方法的电子设备的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本发明方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分的实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。实施例一图1a为本发明实施例一提供的一种行驶控制方法的流程图，本实施例可适用于自动驾驶场景中对障碍物进行检测的情况，该方法可以由行驶控制装置来执行，该行驶控制装置可以采用硬件和/或软件的形式实现，该行驶控制装置可配置于任何具有网络通信功能的电子设备中。如图1a所示，该方法包括：S110、确定目标障碍匹配的目标外接矩形，目标障碍通过目标设备在行驶方向上检测的目标障碍点云进行描述。目标设备在行驶过程中会不断地检测前方道路，并及时判断前方道路中是否出现障碍物。在检测到目标障碍后，可确定与目标障碍匹配的目标外接矩形，目标障碍位于目标外接矩形的区域范围内。参见图1b，目标障碍可以通过目标设备行驶方向上进行检测激光雷达所采集的目标障碍点云中包括的激光点进行表征，一个激光点对应一个障碍点，并形成包括目标障碍点云中各个障碍点的外接矩形，目标障碍点云中包括的障碍点位于目标外接矩形的区域范围内。比如，可以通过单线激光感知进行轮巡多个角度得到目标设备行驶方向上的障碍点云，比如发射器在激光雷达内部进行匀速的旋转，每旋转一个小角度即发射一次激光，轮巡一定的角度后，就生成了一帧完整的目标障碍点云数据。可选地，目标设备在行驶过程中，会通过不同的方式获取用于描述行驶方向上障碍的障碍点云，例如可以通过发射和接收单线激光获取行驶方向上的障碍点云。将获取的行驶方向上障碍的点云进行聚类处理，将属于同一个障碍的激光点云聚合在一起，即可得到不同的目标障碍点云。在此基础上，继续对目标障碍点云进行外接矩形框匹配，确定目标障碍点云合适的目标外接矩形。示例性地，获取一帧单线激光感知的激光点云，对激光点云使用DBScan进行聚类处理，将视野范围内同一物体的点云聚合到一起。DBScan算法通常需要二个参数：扫描半径和最小包含点数。任选一个未被访问的障碍点开始，找出与其距离在eps之内的所有附近点。如果附近点的数量≥mi nPts，则当前点与其附近点形成一个簇，并且出发点被标记为已访问。然后递归，以相同的方法处理该簇内所有未被标记为已访问的点，从而对簇进行扩展。如果附近点的数量＜mi nPts，则该点暂时被标记作为噪声点。如果簇充分地被扩展，即簇内的所有点被标记为已访问，然后用同样的算法去处理未被访问的点。S120、确定目标障碍点云中障碍点与目标外接矩形中各矩形边之间的障碍点相对位置。可选的，确定目标障碍点云中障碍点与目标外接矩形中各矩形边之间的障碍点相对位置，包括但不限于以下步骤A1-A2：步骤A1、对于目标障碍点云中障碍点，确定目标障碍点云中障碍点的位置以及目标外接矩形中各矩形边的位置。步骤A2、依据目标障碍点云中障碍点的位置与目标外接矩形中各矩形边的位置，确定障碍点到各矩形边的最短距离。具体的，确定目标障碍点云中各个障碍点的位置以及目标外接矩形中各矩形边的位置。对于目标障碍点云中各个障碍点，计算各个障碍点到目标外接矩形中各矩形边的最短距离，以便根据障碍点与目标外接矩形中各矩形边的相对位置对目标障碍点云进行划分。示例的，以障碍点为起点向各个矩形边做垂线，计算垂线的长度即最短距离，则可以根据该最短距离描述各个障碍点相对于各个矩形边的位置，例如可以描述为障碍点o在矩形边L1左边2.33厘米处。S130、依据障碍点相对位置对目标障碍点云进行分割得到至少两个分割后障碍点云。具体的，将障碍点相对于各个矩形边的最短距离值进行比较，选取对应最短距离值最小的矩形边作为该障碍点归属的矩形边，根据归属于各个矩形边的障碍点分布情况，可以将目标障碍点云进行分割。S140、依据至少两个分割后障碍点云，确定目标设备在行驶方向上的行驶路线，以控制目标设备继续行驶。示例的，参见图1c，在对障碍物点云直接分割前目标设备将凸包整个包含的位置皆判断为不可行驶的区域，不会继续行驶，而在将障碍点云分割后，目标设备会将凹陷区域中不存在障碍点云的区域作为可行驶区域，能够继续行驶。本发明实施例的技术方案，通过确定目标障碍匹配的目标外接矩形，所述目标障碍通过目标设备行驶方向上检测的目标障碍点云进行描述；确定目标障碍点云中障碍点与所述目标外接矩形中各矩形边之间的障碍点相对位置；依据所述障碍点相对位置对所述目标障碍点云进行分割得到至少两个分割后障碍点云；依据至少两个分割后障碍点云，确定所述目标设备在行驶方向上的行驶路线，以控制所述目标设备继续行驶，解决了依据障碍物点云计算的凸包包括大面积的可行驶区域导致无法有效使用可行驶区域进行行驶路线规划，进而造成行驶控制灵敏度低的问题，实现更精确描述障碍点云分布，提高了行驶控制的准确性。实施例二图2a为根据本发明实施例二提供的一种行驶控制方法的流程图，本实施例是对上述实施例中S110做详细的描述。如图2a所示，该方法包括：S210、确定目标障碍点云的凸包，目标障碍通过目标设备行驶方向上检测的目标障碍点云进行描述。其中，根据障碍点云求凸包，凸包指一组平面上的点，包含所有目标障碍点云中障碍点的最小的凸多边形，可以使用Graham扫描法计算凸包。参考图2b,所有的障碍点云中的障碍点都能够被凸包所囊括。S220、若凸包的凸包边的长度大于预设长度值，则将沿该凸包边所在直线作为外接矩形的一边构建外接矩形。其中，预设长度值是用来确定凸包边可以作为外接矩形的一边构建外接矩形的临界值，当凸包边的长度大于该临界值时，该凸包边可以作为外接矩形的一边构建外接矩形，反之，则不可以使用该凸包边作为外接矩形的一边构建外接矩形。可选地，在将沿该凸包边所在直线作为外接矩形的一边构建外接矩形之前，还可包括但不限于以下过程：按照所述凸包的凸包边长度对各个凸包边由大到小排序；将凸包的各个凸包边中满足预设筛选条件的凸包边保留。其中，所述预设筛选条件包括排序在前的预设数量的凸包边且凸包边长度与各凸包边长度和之比大于预设值；或者，凸包边的长度值大于预设长度值且凸包边长度与各凸包边长度和之比大于预设值。这样可以使得选择的凸包边更加准确，进而可以构建有效的外接矩形，减少计算过程，提高外接矩形的确定效率和准确率。S230、统计目标障碍点云中各障碍点到外接矩形中最近边的距离值并求均值，记为凸包边关联的距离均值。具体的，为了准确确定目标障碍匹配的目标外接矩形，首先需要依据目标障碍点云确定目标障碍点云对应的凸包结构，并确定凸包的各个凸包边的长度，以便于以大于预设长度值的凸包边作为外接矩形的一边构建外接矩形；然后将目标障碍点云中的各个障碍点到构建的外接矩形中最近一边的距离值进行确定，并将这些距离值求和再平均，以准确确定以该凸包边所在直线构建的外接矩形的距离均值，记为凸包边关联的距离均值；用同样的方式确定满足大于预设长度值的凸包边所构建的外接矩形的距离均值，再计算距离均值最小值，将距离均值最小值对应的外接矩形作为目标障碍匹配的目标外接矩形，实现了对目标外接矩形的准确确定，避免了因为外接矩形过大或者过小导致对行驶路线规划出现误差。示例的，假设凸包一共有n个边S1、S2...Sn,假设满足条件的凸包边为S1、S3和S4，则以凸包第一条边S1所在直线计算障碍点云的外接矩形M1，以凸包第三条边S3所在直线计算点云的外接矩形M3，以此类推，可以获得三个外接矩形即M1、M3以及M4，假设障碍点云包含n个障碍点：P1、P2...Pn,分别找到这n个障碍点距离外接矩形M1的4条边中的最近边，并计算其到最近边的距离，对于具有相同最近边的障碍点计算距离均值Dn，对于外接矩形M3及M4以相同方式进行计算。S240、从凸包边的长度大于预设长度值的各个所述凸包边关联的距离均值中确定距离均值最小值，将以距离均值最小值关联的凸包边所在直线作为外接矩形的一边所构建的外接矩形确定为所述目标障碍匹配的目标外接矩形。示例的，计算Sn对应的Dn，取Dn中最小值对应的矩形为障碍物匹配的外接矩形，假设计算结果为D1最小，则将外接矩形M1确定为目标障碍匹配的目标外接矩形。S250、确定目标障碍点云中障碍点与目标外接矩形中各矩形边之间的障碍点相对位置。S260、依据障碍点相对位置对目标障碍点云进行分割得到至少两个分割后障碍点云；S270、依据至少两个分割后障碍点云，确定目标设备在行驶方向上的行驶路线，以控制目标设备继续行驶。本申请的技术方案，通过确定目标障碍点云的凸包，若凸包的凸包边的长度大于预设长度值，则将沿该凸包边所在直线作为外接矩形的一边构建外接矩形，统计目标障碍点云中各障碍点到所述外接矩形中最近边的距离值并求均值，记为凸包边关联的距离均值，从凸包边的长度大于预设长度值的各个凸包边关联的距离均值中确定距离均值最小值，将以距离均值最小值关联的凸包边所在直线作为外接矩形的一边所构建的外接矩形确定为目标障碍匹配的目标外接矩形，通过确定目标外接矩形，方便后续进行分割处理，减轻计算压力，增强行驶路线规划的可靠性。实施例三图3为根据本发明实施例三提供的一种行驶控制方法的流程图，本实施例是对上述实施例中S130和S140做详细的描述。如图3所示，该方法包括：S310、对于目标障碍点云中各个障碍点，依据障碍点相对位置从目标外接矩形各矩形边中确定障碍点关联的矩形边。具体的，计算障碍点相对位置可以是计算各个障碍点到不同矩形边的距离，参考图4a，以目标障碍点云中各个障碍点的一个障碍点a为例，计算障碍点a到各个矩形边L1、L2、L3以及L4的距离H1、H2、H3以及H4，比较这些距离得知，障碍点a距离矩形边L2最短，则将矩形边L2标注为障碍点a关联的矩形边。S320、统计目标外接矩形中各矩形边关联的障碍点数量。按照不同矩形边统计关联的障碍点数量，即哪些障碍点将该矩形边作为关联的矩形边。S330、依据各矩形边关联的障碍点数量将目标障碍点云分割为至少两个分割后障碍点云。可以将关联的障碍点数量达到预设值的矩形边作为参与分割的矩形边，观察这样的矩形边有几条，将参与分割的各个矩形边的连接处作为分割处进行分割。可选的，依据各矩形边关联的障碍点数量将所述目标障碍点云分割为至少两个分割后障碍点云，包括但不限于以下步骤B1-B2：B1、依据各矩形边关联的障碍点数量，确定所述目标障碍点云中各个障碍点在所述目标外接矩形中各矩形边的数量分布状态；B2、若所述数量分布状态指示各个障碍点集中分布在所述目标外接矩形中预设数量的目标矩形边上，则将所述目标障碍点云分割为预设数量个数的分割后障碍点云；其中，集中分布于各个目标矩形边的障碍点数量之间的差值小于预设差值，集中分布于目标矩形边的障碍点数量与所述目标障碍点云中障碍点总数量之间的比值大于预设比值，所述预设数量为2个或3个。具体的，集中分布于各个所述目标矩形边的障碍点数量之间的差值小于预设差值，设置预设差值可以保证障碍点相对均匀且集中分布在各个目标矩形边上，分布于所述目标矩形边的障碍点数量相对所述目标障碍点云中障碍点总数量之间的比值大于预设比值，这样能够保证目标矩形边上关联障碍点数量足够多，则将障碍点集中分布的矩形边作为目标矩形边。当目标矩形边为两条时，说明障碍点云可能为直角或者接近直角形状的障碍点云，则将该障碍点云从两直角边衔接处进行分割获得两个分割后的障碍点云。当目标矩形边为三条时，则将该障碍点云从三条矩形边的衔接处进行分割获得三个分割后的障碍点云。需要注意的是，如果各个矩形边的长度相差大于第一预设差值，则在计算各矩形边的数量分布状态时，可以计算障碍点数量与矩形边长度的比值，对比不同矩形边的长度与障碍点数量的比值，在比值不超过第二预设差值时，将矩形边确认为目标矩形边，这样能够保证长度较短但关联障碍点分布也集中的矩形边也能被判断为是目标矩形边。可选的，当目标矩形边数量为4时，可能表征该障碍点云为矩形或接近矩形的障碍点云，不做分割处理。S340、对于至少两个分割后障碍点云，确定分割后障碍点云的最小外接位置框。其中，最小外接位置框可以是面积最小的矩形框，也可以是其他形状的框，对于不同的分割后障碍点云使用不同的最小外接位置框进行框选，属于该分割后障碍点云的所有障碍点都在该最小外接位置框的范围内。S350、依据各分割后障碍点云的最小外接位置框的位置与角度，确定目标设备在行驶方向上的路线可规划区域位置。其中，将行驶区域用栅格地图表示并建立二维坐标系，则位置可以通过该外接位置框顶点的坐标进行描述，若外接位置框形状为矩形则可以通过四个顶点坐标位置进行描述。同时，对应不同分割后障碍点云的不同外接位置框之间可以形成一定的角度。具体的，通过最小外接位置框的位置与角度可以判断行驶方向上区域是否是凹陷区域，将凹陷区域作为可规划区域位置。通过最小外接位置框的位置与角度可以确定最小外接位置框的分布情况，比如参见图4b，示出了凹凸障碍的凸出侧与凹陷侧的朝向，这样就可以获知目标设备相对目标障碍的凸出侧和凹陷侧的位置靠近程度，进而可以为目标设备规划合适的行进路线。若目标设备位于目标障碍的凸出侧，则表示在目标设备前方不存在路线可规划区域，目标设备按照原定的路线继续行进；若目标设备位于目标障碍的凹陷侧，表示在目标设备前方存在路线可规划区域，依据最小外接位置框的位置计算出路线可规划区域位置，进而根据路线可规划区域位置为目标设备规划新的行驶路线。示例的，以类似墙角形状的障碍点云为例，若目标设备在凹陷的一侧，能够判断两个分割后障碍的最小外接位置框的角度为90°左右，此时目标障碍的凹陷侧开口朝向目标设备，因此，目标设备可以继续在凹陷侧进行路线规划进行行驶；若目标设备在凸出的一侧，能够判断两个分割后障碍的最小外接位置框的角度为270°左右，此时目标障碍的凹陷侧开口背向目标设备，因此目标设备不可以越过凸出侧需要停止靠近该障碍点云。S360、按照路线可规划区域位置，生成目标设备在行驶方向上的行驶路线。在上述实施例的基础上，可选地，在对目标障碍点云进行分割得到至少两个分割后障碍点云之后，还可以包括：确定所述分割后障碍点云的最小外接位置框的面积或者路线可规划区域面积；若检测到最小外接位置框的面积大于预设分割面积阈值或者路线可规划区域面积小于预设规划面积阈值，则将所述分割后障碍点云作为新的目标障碍点云进行分割。具体的，最小外界位置框面积大于预设分割面积阈值时或者路线可规划区域面积小于预设规划面积阈值时，目标设备难以通过此路线可规划区域，也即目标设备不能在此区域内正常行驶，例如无法完成前进、后退或者转向功能，则此时获取的路线可规划区域面积实际上并不能行驶，因此，对分割后障碍点云再次进行分割，直到再次分割得到的最小外接位置框的面积不大于预设分割面积阈值或者路线可规划区域面积不小于预设规划面积阈值，表示此时获取的路线可规划区域满足实际正常行驶条件。本申请的技术方案，对于至少两个分割后障碍点云中分割后障碍点云，确定分割后障碍点云描述的分割后障碍的最小外接位置框，依据各分割后障碍的最小外接位置框的位置与分布，生成目标设备在行驶方向上的行驶路线，能够实现更加灵敏精确地生成行驶路线，增强行驶路线规划智能性。实施例四图5为本发明实施例提供的一种行驶控制装置的结构示意图。如图5所示，该装置包括：目标外接矩形确定模块510，用于确定目标障碍匹配的目标外接矩形，所述目标障碍通过目标设备行驶方向上检测的目标障碍点云进行描述；相对位置确定模块520，用于确定目标障碍点云中障碍点与所述目标外接矩形中各矩形边之间的障碍点相对位置；目标障碍点云分割模块530，用于依据所述障碍点相对位置对所述目标障碍点云进行分割得到至少两个分割后障碍点云；行驶路线确定模块540，用于依据至少两个分割后障碍点云，确定所述目标设备在行驶方向上的行驶路线，以控制所述目标设备继续行驶。目标外接矩形确定模块510包括：凸包确定单元，用于确定所述目标障碍点云的凸包。外接矩形构建单元，用于若所述凸包的凸包边的长度大于预设长度值，则将沿该凸包边所在直线作为外接矩形的一边构建外接矩形。距离值统计单元，用于统计所述目标障碍点云中各障碍点到所述外接矩形中最近边的距离值并求均值，记为所述凸包边关联的距离均值。距离均值最小值确定单元，用于从凸包边的长度大于预设长度值的各个所述凸包边关联的距离均值中确定距离均值最小值，将以距离均值最小值关联的凸包边所在直线作为外接矩形的一边所构建的外接矩形确定为所述目标障碍匹配的目标外接矩形。可选的，所述装置还包括：凸包边排序模块，用于按照所述凸包的凸包边长度对各个凸包边由大到小排序；凸包边保留模块，用于将所述凸包的各个凸包边中满足预设筛选条件的凸包边保留；其中，所述预设筛选条件包括排序在前的预设数量的凸包边且凸包边长度与各凸包边长度和之比大于预设值；或者，凸包边的长度值大于预设长度值且凸包边长度与各凸包边长度和之比大于预设值。相对位置确定模块520包括：矩形边位置确定模块，用于对于所述目标障碍点云中障碍点，确定所述障碍点的位置以及所述目标外接矩形中各矩形边的位置。最短距离确定模块，用于依据所述障碍点的位置与所述目标外接矩形中各矩形边的位置，确定障碍点到各矩形边的最短距离。目标障碍点云分割模块530包括：关联矩形边确定单元，用于对于所述目标障碍点云中各个障碍点，依据所述障碍点相对位置从所述目标外接矩形各矩形边中确定所述障碍点关联的矩形边。障碍点数量统计单元，用于统计所述目标外接矩形中各矩形边关联的障碍点数量。障碍点云分割单元，用于依据各矩形边关联的障碍点数量将所述目标障碍点云分割为至少两个分割后障碍点云。可选的，障碍点云分割单元具体用于：依据各矩形边关联的障碍点数量，确定所述目标障碍点云中各个障碍点在所述目标外接矩形中各矩形边的数量分布状态；若所述数量分布状态指示各个障碍点集中分布在所述目标外接矩形中预设数量的目标矩形边上，则将所述目标障碍点云分割为预设数量个数的分割后障碍点云；其中，集中分布于各个所述目标矩形边的障碍点数量之间的差值小于预设差值，集中分布于所述目标矩形边的障碍点数量与所述目标障碍点云中障碍点总数量之间的比值大于预设比值，所述预设数量为2个或3个。行驶路线确定模块540包括：最小外接位置框确定单元，用于对于至少两个分割后障碍点云，确定分割后障碍点云的最小外接位置框。可规划区域位置确定单元，用于依据各分割后障碍点云的最小外接位置框的位置与角度，确定所述目标设备在行驶方向上的路线可规划区域位置。行驶路线生成单元，用于按照路线可规划区域位置，生成所述目标设备在行驶方向上的行驶路线。可选的，所述行驶路线确定模块540还用于：确定所述分割后障碍点云的最小外接位置框的面积或者路线可规划区域面积；若检测到最小外接位置框的面积大于预设分割面积阈值或者路线可规划区域面积小于预设规划面积阈值，则将所述分割后障碍点云作为新的目标障碍点云进行分割。本发明实施例中所提供的行驶控制装置可执行上述本发明任意实施例中所提供的行驶控制方法，具备执行该行驶控制方法相应的功能和有益效果，详细过程参见前述实施例中行驶控制方法的相关操作。实施例五图6示出了可以用来实现本发明实施例的行驶控制方法的电子设备的结构示意图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本发明的实现。如图6所示，电子设备10包括至少一个处理器11，以及与至少一个处理器11通信连接的存储器，如只读存储器12、随机访问存储器13等，其中，存储器存储有可被至少一个处理器执行的计算机程序，处理器11可以根据存储在只读存储器12中的计算机程序或者从存储单元18加载到随机访问存储器13中的计算机程序，来执行各种适当的动作和处理。在RAM 13中，还可存储电子设备10操作所需的各种程序和数据。处理器11、ROM 12以及RAM 13通过总线14彼此相连。输入/输出接口15也连接至总线14。电子设备10中的多个部件连接至I/O接口15，包括：输入单元16，例如键盘、鼠标等；输出单元17，例如各种类型的显示器、扬声器等；存储单元18，例如磁盘、光盘等；以及通信单元19，例如网卡、调制解调器、无线通信收发机等。通信单元19允许电子设备10通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。处理器11可以是各种具有处理和计算能力的通用和/或专用处理组件。处理器11的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的处理器、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。处理器11执行上文所描述的各个方法和处理，例如行驶控制方法。在一些实施例中，行驶控制方法可被实现为计算机程序，其被有形地包含于计算机可读存储介质，例如存储单元18。在一些实施例中，计算机程序的部分或者全部可以经由ROM 12和/或通信单元19而被载入和/或安装到电子设备10上。当计算机程序加载到RAM 13并由处理器11执行时，可以执行上文描述的行驶控制方法的一个或多个步骤。备选地，在其他实施例中，处理器11可以通过其他任何适当的方式而被配置为执行行驶控制方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本发明的方法的计算机程序可以采用一个或多个编程语言的任何组合来编写。这些计算机程序可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器，使得计算机程序当由处理器执行时使流程图和/或框图中所规定的功能/操作被实施。计算机程序可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本发明的上下文中，计算机可读存储介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的计算机程序。计算机可读存储介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。备选地，计算机可读存储介质可以是机器可读信号介质。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在电子设备上实施此处描述的系统和技术，该电子设备具有：用于向用户显示信息的显示装置或者LCD监视器)；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给电子设备。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网、区块链网络和互联网。计算系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，又称为云计算服务器或云主机，是云计算服务体系中的一项主机产品，以解决了传统物理主机与VPS服务中，存在的管理难度大，业务扩展性弱的缺陷。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发明中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本发明的技术方案所期望的结果，本文在此不进行限制。上述具体实施方式，并不构成对本发明保护范围的限制。本领域技术人员应该明白的是，根据设计要求和其他因素，可以进行各种修改、组合、子组合和替代。任何在本发明的精神和原则之内所作的修改、等同替换和改进等，均应包含在本发明保护范围之内。
