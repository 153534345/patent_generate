标题title
基于数据处理的建筑板材分类方法
摘要abst
本发明涉及数据处理技术领域，具体涉及一种基于数据处理的建筑板材分类方法，该方法采集建筑板材的表面图像，并获取表面图像的灰度图像；获取灰度图像的二值图像，通过像素点的分布情况自适应获取形态学结构元的类型，对二值图像进行腐蚀去噪，得到去噪图像，利用去噪图像的像素点构建行和曲线和列和曲线，通过行和曲线和列和曲线获取纹理类型概率；通过设置多个概率阈值对纹理类型概率进行分段，得到多段概率区间，每段概率区间对应建筑板材的一个类别。本发明通过分析不同去噪效果下的行和曲线和列和曲线的变化情况判断纹理类型，在不同程度的噪声影响下均可准确完成纹理分类，提高了建筑板材分类判断的准确性。
权利要求书clms
1.基于数据处理的建筑板材分类方法，其特征在于，该方法包括以下步骤：采集建筑板材的表面图像，并获取表面图像的灰度图像；获取所述灰度图像的二值图像，通过像素点的分布情况自适应获取形态学结构元的类型，对二值图像进行腐蚀去噪，得到去噪图像，利用去噪图像的像素点构建行和曲线和列和曲线，通过行和曲线和列和曲线获取纹理类型概率；通过设置多个概率阈值对纹理类型概率进行分段，得到多段概率区间，每段概率区间对应建筑板材的一个类别。2.根据权利要求1所述的基于数据处理的建筑板材分类方法，其特征在于，所述二值图像的获取方法为：采用自适应阈值分割的方法对所述灰度图像进行分割，对灰度图像中所有像素点的灰度值依据自适应阈值赋值，得到对应的二值图像。3.根据权利要求1所述的基于数据处理的建筑板材分类方法，其特征在于，所述通过像素点的分布情况自适应获取形态学结构元的类型，包括：在所述二值图像中获取目标像素点的连通域，采用骨架提取算法提取连通域骨架，获取骨架的主方向，选取所有主方向的众数作为最终方向，基于所述最终方向选取对应的结构元。4.根据权利要求3所述的基于数据处理的建筑板材分类方法，其特征在于，所述骨架的主方向的获取方法为：采用最小二乘法对骨架中的像素点进行拟合，获取拟合直线，对于获取到的直线方程与水平轴的夹角即为骨架的主方向。5.根据权利要求3所述的基于数据处理的建筑板材分类方法，其特征在于，所述最终方向选取之前，还包括：基于骨架中的像素点数量筛除小面积连通域。6.根据权利要求1所述的基于数据处理的建筑板材分类方法，其特征在于，所述利用去噪图像的像素点构建行和曲线和列和曲线，包括：将去噪图像中第一列像素点的像素值进行累加，得到列和序列中的第一个列序列值，将图像中第二列像素点的值进行累加，得到列和序列中的第二个序列值，直至将所有列的像素点的值进行累加后停止，得到列和序列，将列和序列构建为列和曲线；将去噪图像中第一行像素点的像素值进行累加，得到行和序列中的第一个行序列值，将图像中第二行像素点的值进行累加，得到行和序列中的第二个行序列值，直至将所有行的像素点的值进行累加后停止，得到行和序列，将行和序列构建为行和曲线。7.根据权利要求1所述的基于数据处理的建筑板材分类方法，其特征在于，所述通过行和曲线和列和曲线获取纹理类型概率，包括：根据行和序列中的序列值获取每条行和曲线的波动程度，所有行和曲线的波动程度组成行波动程度序列；根据行和曲线中的峰值获取每条行和曲线的周期性，所有行和曲线的周期性组成行周期性序列；根据列和序列中的序列值获取每条列和曲线的波动程度，所有列和曲线的波动程度组成列波动程度序列；根据列和曲线中的峰值获取每条列和曲线的周期性，所有列和曲线的周期性组成列周期性序列；通过对波动程度序列和周期性序列进行线性拟合得到序列的离散程度，所述离散程度即为所述纹理类型概率。
说明书desc
技术领域本发明涉及数据处理技术领域，具体涉及一种基于数据处理的建筑板材分类方法。背景技术随着社会的发展，人们对实木板材的运用越来越频繁，但由于木材的生长环境与生长周期不同，会存在不同类型的纹理，常见的建筑板材均需要进行拼接，不同类型的纹理进行拼接会破坏板材的美感，降低板材质量等级，降低经济效益，由此对板材进行分类，将相似纹理的板材进行拼接组合是十分有必要的。传统描述纹理特征与纹理分类的方法较多，但对于纹理的提取不够准确，在采集建筑板材图像过程中，纹理极易受到外界干扰因素的影响，给纹理提取带来较大的困难，外界干扰及噪声影响极易导致纹理提取不完整，纹理断断续续，若不去除环境干扰及其噪声干扰，所提取的纹理特征难以表征纹理属性，导致分类结果不准确，影响后续板材拼接的质量。发明内容为了解决上述技术问题，本发明提供一种基于数据处理的建筑板材分类方法，所采用的技术方案具体如下：本发明一个实施例提供了一种基于数据处理的建筑板材分类方法，该方法包括以下步骤：采集建筑板材的表面图像，并获取表面图像的灰度图像；获取所述灰度图像的二值图像，通过像素点的分布情况自适应获取形态学结构元的类型，对二值图像进行腐蚀去噪，得到去噪图像，利用去噪图像的像素点构建行和曲线和列和曲线，通过行和曲线和列和曲线获取纹理类型概率；通过设置多个概率阈值对纹理类型概率进行分段，得到多段概率区间，每段概率区间对应建筑板材的一个类别。优选的，所述二值图像的获取方法为：采用自适应阈值分割的方法对所述灰度图像进行分割，对灰度图像中所有像素点的灰度值依据自适应阈值赋值，得到对应的二值图像。优选的，所述通过像素点的分布情况自适应获取形态学结构元的类型，包括：在所述二值图像中获取目标像素点的连通域，采用骨架提取算法提取连通域骨架，获取骨架的主方向，选取所有主方向的众数作为最终方向，基于所述最终方向选取对应的结构元。优选的，所述骨架的主方向的获取方法为：采用最小二乘法对骨架中的像素点进行拟合，获取拟合直线，对于获取到的直线方程与水平轴的夹角即为骨架的主方向。优选的，所述最终方向选取之前，还包括：基于骨架中的像素点数量筛除小面积连通域。优选的，所述利用去噪图像的像素点构建行和曲线和列和曲线，包括：将去噪图像中第一列像素点的像素值进行累加，得到列和序列中的第一个列序列值，将图像中第二列像素点的值进行累加，得到列和序列中的第二个序列值，直至将所有列的像素点的值进行累加后停止，得到列和序列，将列和序列构建为列和曲线；将去噪图像中第一行像素点的像素值进行累加，得到行和序列中的第一个行序列值，将图像中第二行像素点的值进行累加，得到行和序列中的第二个行序列值，直至将所有行的像素点的值进行累加后停止，得到行和序列，将行和序列构建为行和曲线。优选的，所述通过行和曲线和列和曲线获取纹理类型概率，包括：根据行和序列中的序列值获取每条行和曲线的波动程度，所有行和曲线的波动程度组成行波动程度序列；根据行和曲线中的峰值获取每条行和曲线的周期性，所有行和曲线的周期性组成行周期性序列；根据列和序列中的序列值获取每条列和曲线的波动程度，所有列和曲线的波动程度组成列波动程度序列；根据列和曲线中的峰值获取每条列和曲线的周期性，所有列和曲线的周期性组成列周期性序列；通过对波动程度序列和周期性序列进行线性拟合得到序列的离散程度，所述离散程度即为所述纹理类型概率。本发明实施例至少具有如下有益效果：通过分析纹理的分布类型，构建行和曲线和列和曲线，通过行和列和曲线的变化进行纹理类型的判断，从而提高纹理判断的准确性；通过像素点的分布情况自适应获取形态学结构元的类型，能够利用不同类型的结构元对二值图像进行不同程度的去噪，使得二值图像受噪声影响逐渐变小，通过分析不同去噪效果下的行和曲线和列和曲线的变化情况判断纹理类型，在不同程度的噪声影响下均可准确完成纹理分类，提高了建筑板材分类判断的准确性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例提供的一种基于数据处理的建筑板材分类方法的步骤流程图；图2为本发明一个实施例提供的5×5大小不同类型的线性结构元示意图；图3为本发明一个实施例提供的行和曲线和列和曲线示意图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种基于数据处理的建筑板材分类方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种基于数据处理的建筑板材分类方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种基于数据处理的建筑板材分类方法的步骤流程图，该方法包括以下步骤：步骤S001，采集建筑板材的表面图像，并获取表面图像的灰度图像。具体的步骤包括：采集建筑板材表面图像，所述图像采集装置包括输入辊台、视觉采集系统、输出辊台与光源模块。建筑板材由输入辊台往视觉采集系统进行输送，到达指定位置后，对板材表面进行打光，所述光源采用条形LED光源，通过调节相机采样频率与相机参数，采集板材表面图像，图像采集完成后，板材由输出辊台运送到分拣区域，根据分析结果进行板材分类。为了减少不必要的计算以及外界其他区域的干扰，本发明首先采用DNN技术来识别图像中的待分类的建筑板材。该DNN网络的相关内容如下：使用的数据集为本发明所述采集过程得到的建筑板材表面图像数据集，待检测建筑板材的样式形态为多种多样的。需要分割的像素共分为两类，即训练集对应标签标注过程为：单通道的语义标签，对应位置像素属于背景类的标注为0，属于待检测用于建筑板材的标注为1。网络的任务是分类，所以使用的loss函数为交叉熵损失函数。对识别表面图像中的建筑板材的分割后的图像进行灰度化处理，灰度化为现有技术，此处不予以详细概述。并采用中值滤波对灰度图像进行去噪处理。步骤S002，获取灰度图像的二值图像，通过像素点的分布情况自适应获取形态学结构元的类型，对二值图像进行腐蚀去噪，得到去噪图像，利用去噪图像的像素点构建行和曲线和列和曲线，通过行和曲线和列和曲线获取纹理类型概率。由于部分建筑板材的纹理与板材本身的颜色相近，在进行纹理分割时会伴随着大量的干扰噪声，导致纹理不清晰。根据先验可知，直纹理通常较为规整，按照一定的规律进行排列的，而山纹理通常是弧装，因此根据二值图像中像素点的分布情况确定形态学的结构元类型，采用不同大小尺寸的结构元对图像进行腐蚀，去除噪声，对形态学处理后的图像构建行和列和曲线，根据曲线的规整程度获取纹理类型概率。具体的步骤包括：采用自适应阈值分割的方法对灰度图像进行分割，对灰度图像中所有像素点的灰度值依据自适应阈值赋值，得到对应的二值图像。根据二值图像中目标像素点的分布特征自适应获取结构元的类型，对图像进行形态学操作时，结构元的类型不同时，对图像处理后的结果也是不相同的，由于纹理通常为线性的，因此结构元选择相同类型的结构元对二值图像的去噪效果更好，如图2所示的5×5大小不同类型的线性结构元示意图。在二值图像中获取目标像素点的连通域，采用骨架提取算法提取连通域骨架，获取骨架的主方向，选取所有主方向的众数作为最终方向，基于最终方向选取对应的结构元。二值图像中，纹理通常是较长的连通域，但由于噪声的影响，也会导致部分纹理出现断裂，因此采用区域生长法获取二值图像中目标像素点的连通域，目标像素点如图2中的白色像素点，区域生长法为现有技术，此处不予以详细概述，采用骨架提取算法提取连通域骨架，对骨架进行筛选，由于二值图像中会存在很多噪声，即会存在较多的小面积连通域，此类连通域不具备分析价值，故对需要去除小面积连通域的骨架，基于骨架中的像素点数量筛除小面积连通域，即：式中a表示骨架筛选阈值，m表示连通域数量，即骨架数量，b表示骨架中像素点的数量。当骨架中像素点的数量小于筛选阈值a时，不予以计算其方向。对大于筛选阈值的骨架，获取其骨架的主方向，具体方法为：采用最小二乘法对骨架中的像素点进行拟合，获取拟合直线，对于获取到的直线方程与水平轴的夹角即骨架主方向，记为，统计所有大于筛选阈值骨架的主方向值，选择的众数作为最终方向，根据最终方向选取对应的结构元。根据上述所得的结构元类型，选取不同大小的结构元对二值图像进行腐蚀操作，得到不同类型的处理图像，根据不同大小的线性结构元处理后的二值图像为去噪图像，对去噪图像构建行和列和曲线：将去噪图像中第一列像素点的像素值进行累加，得到列和序列中的第一个列序列值，将图像中第二列像素点的值进行累加，得到列和序列中的第二个序列值，直至将所有列的像素点的值进行累加后停止，得到列和序列，将列和序列构建为列和曲线；将去噪图像中第一行像素点的像素值进行累加，得到行和序列中的第一个行序列值，将图像中第二行像素点的值进行累加，得到行和序列中的第二个行序列值，直至将所有行的像素点的值进行累加后停止，得到行和序列，将行和序列构建为行和曲线。得到的行和列和曲线示意图如图3所示，其中波动较小的曲线为列和曲线，波动较大的曲线为行和曲线。根据行和序列中的序列值获取每条行和曲线的波动程度，所有行和曲线的波动程度组成行波动程度序列；根据行和曲线中的峰值获取每条行和曲线的周期性，所有行和曲线的周期性组成行周期性序列；根据列和序列中的序列值获取每条列和曲线的波动程度，所有列和曲线的波动程度组成列波动程度序列；根据列和曲线中的峰值获取每条列和曲线的周期性，所有列和曲线的周期性组成列周期性序列；通过对波动程度序列和周期性序列进行线性拟合得到序列的离散程度，离散程度即为纹理类型概率。不同的线性结构元处理后得到的行和列和曲线是不同的，初始时刻，即没有对二值图像进行线性结构元处理时，由于图像中存在较多的小面积连通域，此类小面积连通域多数可能为噪声点，故初始时刻的行和列和曲线相似，波动程度较大，故难以通过行和列和曲线的变化情况判断纹理类型。随着线性结构元的处理，会将小面积的连通域腐蚀掉，此时图像中噪声点会随着线性结构元的处理逐渐减少，当达到一定程度时噪声去除率会较好，行和列和曲线也会逐渐规整，随着线性结构元的尺寸增大，当达到某个时刻时，会将纹理也腐蚀掉，此时行和列和曲线会失去相应的规律性。通过分析可得，直纹理由于纹理较直，故行和列和曲线存在较强的规律性，而山纹理由于通常为弧线状，故行和列和曲线的规律性不强，因此通过获取行和列和曲线的规整程度判断纹理类型的概率。由于初始时刻纹理的方向无法确定，故行和列和曲线均需要计算曲线的周期性与波动程度，对于上述示意图中，行和曲线波动大，存在近似的周期性，而列和曲线波动小，不存在周期性，故所述波动程度为：式中f表示曲线波动程度,表示超参数，经验值，c表示列数，同理行和曲线波动程度计算方法同理，表示列和曲线中第j个点的序列值，表示列和曲线中所有点的序列值均值。所述周期性为：通过峰值点检测方法获取曲线的局部极大值点，峰值点检测方法为现有计算，此处不予以详细概述，获取曲线中所有峰值点的峰值序列，获取峰值序列的差值序列,若峰值点呈现近似周期出现时，则峰值序列的差值序列的相似性很高，即：式中h表示曲线周期性，z表示峰值点个数，表示峰值点的差值，表示峰值点的差值均值，峰值点的差值序列相似性越高，则说明曲线越呈现周期性出现，周期性h的值越趋近于1。不同大小的线性结构元处理后的二值图像的行和列和曲线的周期性与波动程度均不相同，初始时刻由于噪声的干扰，周期性与波动程度较差，随着线性结构元的大小增大，噪声去除率也随着增大，即图像中保留更多的是纹理本身，此时若纹理是直纹理，行和或列和曲线的周期性会随着线性结构元增大而增大，越来越趋近于1，而行和或列和曲线的波动程度会随着线性结构元增大而减小。故获取不同大小线性结构元处理后的行和列和曲线的波动程度序列和周期性，波动程度序列：,周期性序列：，通过最小二乘法对序列进行线性拟合，计算序列数据点与拟合直线的距离，计算数据点的离散程度，即：式中T表示数据点的离散程度，u表示结构元处理次数，表示序列坐标点的坐标信息，表示距离序列坐标点最近的拟合直线上的坐标信息。数据点分布越离散，说明随着噪声点的去除，行和列和曲线没有呈现规律性变化，故更有可能为山纹理，数据点的分布越集中越呈现线性，说明随着噪声点的去除，行和列和曲线呈现规律性变化，故更有可能为直纹理。采用神经网络对板材进行分类不仅需要大量的数据集，同时对采集图像的质量有较高的要求，实际采集的图像存在大量干扰噪声，导致板材的纹理特征不明显，采用神经网络进行分类会造成较大误差。采用行和列和曲线进行判断有较强的鲁棒性，针对不同类型的建筑板材、不同干扰程度的板材均有较好的分类效果。步骤S003，通过设置多个概率阈值对纹理类型概率进行分段，得到多段概率区间，每段概率区间对应建筑板材的一个类别。具体的步骤包括：设定阈值，得到多段概率区间，对建筑板材进行分类。当时，说明随着噪声点的去除，数据点不呈现规律性出现，此时纹理更有可能为山纹理，故将此类板材分为较为明显的山纹理类；当时，说明随着噪声点的去除，数据点的规律性不强，无法呈现明显的特征，此时纹理更有可能为山纹理与直纹理共存，故将此类板材分为山纹理与直纹理共存类；当时，说明随着噪声点的去除，数据点呈现规律性出现，此时纹理更有可能为直纹理，故将此类板材分为较为明显的直纹理类。综上所述，本发明实施例采集建筑板材的表面图像，并获取表面图像的灰度图像；获取灰度图像的二值图像，通过像素点的分布情况自适应获取形态学结构元的类型，对二值图像进行腐蚀去噪，得到去噪图像，利用去噪图像的像素点构建行和曲线和列和曲线，通过行和曲线和列和曲线获取纹理类型概率；通过设置多个概率阈值对纹理类型概率进行分段，得到多段概率区间，每段概率区间对应建筑板材的类别。本发明实施例通过分析不同去噪效果下的行和曲线和列和曲线的变化情况判断纹理类型，在不同程度的噪声影响下均可完成准确的纹理分类，提高纹理判断的准确性。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。且上述对本说明书特定实施例进行了描述。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同或相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。以上所述实施例仅用以说明本申请的技术方案，而非对其限制；对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围，均应包含在本申请的保护范围之内。
