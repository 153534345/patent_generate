标题title
电子地图中道路挂接的修正方法及装置
摘要abst
本申请提供一种电子地图中道路挂接的修正方法及装置。该方法在获取与实际道路地图不符的待处理电子地图后，对待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段；对第一类路段和第二类路段进行挂接拆分后的待识别第一类路段和待识别第二类路段，按照预设道路识别条件，确定待修正路段；确定待修正路段在所述待处理电子地图中的中心坐标点；基于各路段间的挂接信息，将挂接在待修正路段的路段起始点和路段结束点的路段挂接在中心坐标点，并删除待修正路段，以得到修正后的电子地图。该方法解决了电子地图中道路矢量数据挂接错误问题，通过自动化的对道路处理与操作，提高了电子地图的修正效率和电子地图的准确性。
权利要求书clms
1.一种电子地图中道路挂接的修正方法，其特征在于，所述方法包括：获取与实际道路地图不符的待处理电子地图，所述待处理电子地图包括标记的各路段的路段属性信息和各路段间的挂接信息；对所述待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段；其中，所述第一类路段为路段起始点和路段结束点中仅有一点处于挂接状态的路段；所述第二类路段为路段起始点和路段结束点均处于挂接状态的路段；分别对所述第一类路段和所述第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段；按照预设道路识别条件，对所述待识别第一类路段和所述待识别第二类路段进行识别，确定待修正路段；确定所述待修正路段在所述待处理电子地图中的中心坐标点；基于所述各路段间的挂接信息，将挂接在所述待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点，并删除所述待修正路段，以得到修正后的电子地图。2.如权利要求1所述的方法，其特征在于，分别对所述第一类路段和所述第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段，包括：对所述第一类路段进行挂接拆分，得到待识别第一类路段；对所述第二类路段中满足预设拆分条件的第二类路段进行挂接拆分，得到待识别第二类路段；其中，所述预设拆分条件为具有相同路段属性信息且存在至少3个与其他路段的挂接节点。3.如权利要求1所述的方法，其特征在于，预设道路识别条件包括当前路段的路段起始点和/或路段结束点均存在挂接路段，挂接的路段数量不小于2，且路段长度小于5米。4.如权利要求1所述的方法，其特征在于，所述待处理电子地图还包括标记的各路段的位置信息；确定所述待修正路段在所述待处理电子地图中的中心坐标点，包括：基于所述待修正路段的位置信息，确定所述待修正路段的路段起始点位置和路段结束点位置；基于路段起始点位置和路段结束点位置，获取所述待修正路段的中心坐标点。5.如权利要求1所述的方法，其特征在于，基于所述各路段间的挂接信息，将挂接在所述待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点之后，所述方法还包括：对所述待识别第一类路段和所述待识别第二类路段中除待修正路段外的路段进行长度检测；删除路段长度不大于预设长度阈值的路段。6.如权利要求5所述的方法，其特征在于，预设长度阈值为5米。7.如权利要求1所述的方法，其特征在于，所述第一类路段中处于挂接状态的路段起始点或路段结束点可挂接至少1个其他路段。8.一种电子地图中道路挂接的修正装置，其特征在于，所述装置包括：获取单元，用于获取与实际道路地图不符的待处理电子地图，所述待处理电子地图包括标记的各路段的路段属性信息和各路段间的挂接信息；检测单元，用于对所述待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段；其中，所述第一类路段为路段起始点和路段结束点中仅有一点处于挂接状态的路段；所述第二类路段为路段起始点和路段结束点均处于挂接状态的路段；拆分单元，用于分别对所述第一类路段和所述第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段；识别单元，用于按照预设道路识别条件，对所述待识别第一类路段和所述待识别第二类路段进行识别，确定待修正路段；确定单元，用于确定所述待修正路段在所述待处理电子地图中的中心坐标点；挂接单元，用于基于所述各路段间的挂接信息，将挂接在所述待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点，并删除所述待修正路段，以得到修正后的电子地图。9.一种电子设备，其特征在于，所述电子设备包括处理器、通信接口、存储器和通信总线，其中，处理器，通信接口，存储器通过通信总线完成相互间的通信；存储器，用于存放计算机程序；处理器，用于执行存储器上所存储的程序时，实现权利要求1-7任一所述的方法步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质内存储有计算机程序，所述计算机程序被处理器执行时实现权利要求1-7任一所述的方法步骤。
说明书desc
技术领域本申请涉及电子地图技术领域，具体而言，涉及一种电子地图中道路挂接的修正方法及装置。背景技术电子地图是指利用计算机技术，以数字方式存储和查阅的地图。包含城市区域信息或高速道路信息的地图数据，一般是在1:5000或更大比例尺下显示的城市详细地图数据，用于数据显示、辅助定位和辅助导航等。然而，对于与实际道路地图不符的电子地图，一般需要人工参照真实道路地图进行修改，由于电子地图数据量较大，如果要修改的数据量较大时，该修改方式效率会降低，且会引入人工误差。发明内容本申请实施例的目的在于提供一种电子地图中道路挂接的修正方法及装置，用以解决了现有技术存在的上述问题，可提高电子地图的修正效率和电子地图的准确性。第一方面，提供了一种电子地图中道路挂接的修正方法，该方法可以包括：获取与实际道路地图不符的待处理电子地图，所述待处理电子地图包括标记的各路段的路段属性信息和各路段间的挂接信息；对所述待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段；其中，所述第一类路段为路段起始点和路段结束点中仅有一点处于挂接状态的路段；所述第二类路段为路段起始点和路段结束点均处于挂接状态的路段；分别对所述第一类路段和所述第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段；按照预设道路识别条件，对所述待识别第一类路段和所述待识别第二类路段进行识别，确定待修正路段；确定所述待修正路段在所述待处理电子地图中的中心坐标点；基于所述各路段间的挂接信息，将挂接在所述待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点，并删除待修正路段，以得到修正后的电子地图。在一个可选的实现中，分别对所述第一类路段和所述第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段，包括：对所述第一类路段进行挂接拆分，得到待识别第一类路段；对所述第二类路段中满足预设拆分条件的第二类路段进行挂接拆分，得到待识别第二类路段；其中，所述预设拆分条件为具有相同路段属性信息且存在至少3个与其他路段的挂接节点。在一个可选的实现中，预设道路识别条件包括当前路段的路段起始点和/或路段结束点均存在挂接路段，挂接的路段数量不小于2，且路段长度小于5米。在一个可选的实现中，所述待处理电子地图还包括标记的各路段的位置信息；确定所述待修正路段在所述待处理电子地图中的中心坐标点，包括：基于所述待修正路段的位置信息，确定所述待修正路段的路段起始点位置和路段结束点位置；基于路段起始点位置和路段结束点位置，获取所述待修正路段的中心坐标点。在一个可选的实现中，基于所述各路段间的挂接信息，将挂接在所述待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点之后，所述方法还包括：对所述待识别第一类路段和所述待识别第二类路段中除待修正路段外的路段进行长度检测；删除路段长度不大于预设长度阈值的路段。在一个可选的实现中，预设长度阈值为5米。在一个可选的实现中，所述第一类路段中处于挂接状态的路段起始点或路段结束点可挂接至少1个其他路段。第二方面，提供了一种电子地图中道路挂接的修正装置，该装置可以包括：获取单元，用于获取与实际道路地图不符的待处理电子地图，所述待处理电子地图包括标记的各路段的路段属性信息和各路段间的挂接信息；检测单元，用于对所述待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段；其中，所述第一类路段为路段起始点和路段结束点中仅有一点处于挂接状态的路段；所述第二类路段为路段起始点和路段结束点均处于挂接状态的路段；拆分单元，用于分别对所述第一类路段和所述第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段；识别单元，用于按照预设道路识别条件，对所述待识别第一类路段和所述待识别第二类路段进行识别，确定待修正路段；确定单元，用于确定所述待修正路段在所述待处理电子地图中的中心坐标点；挂接单元，用于基于所述各路段间的挂接信息，将挂接在所述待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点，并删除待修正路段，以得到修正后的电子地图。第三方面，提供了一种电子设备，该电子设备包括处理器、通信接口、存储器和通信总线，其中，处理器，通信接口，存储器通过通信总线完成相互间的通信；存储器，用于存放计算机程序；处理器，用于执行存储器上所存放的程序时，实现上述第一方面中任一所述的方法步骤。第四方面，提供了一种计算机可读存储介质，该计算机可读存储介质内存储有计算机程序，所述计算机程序被处理器执行时实现上述第一方面中任一所述的方法步骤。本申请实施例提供的电子地图中道路挂接的修正方法在获取与实际道路地图不符的待处理电子地图后，对待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段；第一类路段为路段起始点和路段结束点中仅有一点处于挂接状态的路段；第二类路段为路段起始点和路段结束点均处于挂接状态的路段；分别对第一类路段和第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段；按照预设道路识别条件，对待识别第一类路段和待识别第二类路段进行识别，确定待修正路段；确定待修正路段在所述待处理电子地图中的中心坐标点；基于各路段间的挂接信息，将挂接在待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点，并删除待修正路段，以得到修正后的电子地图。该方法解决了电子地图中道路矢量数据挂接错误问题，通过自动化的对道路处理与操作，提高了电子地图的修正效率和电子地图的准确性。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对本申请实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本申请实施例提供的一种电子地图中道路挂接的修正方法的流程示意图；图2为本申请实施例提供的一种待处理电子地图的示意图；图3为本申请实施例提供的一种修正后的电子地图的示意图；图4为本申请实施例提供的另一种修正后的电子地图的示意图；图5为本申请实施例提供的一种电子地图中道路挂接的修正装置的结构示意图；图6为本申请实施例提供的一种电子设备的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅是本申请一部分实施例，并不是全部的实施例。基于本申请实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。以下结合说明书附图对本申请的优选实施例进行说明，应当理解，此处所描述的优选实施例仅用于说明和解释本申请，并不用于限定本申请，并且在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。图1为本申请实施例提供的一种电子地图中道路挂接的修正方法的流程示意图。如图1所示，该方法可以包括：步骤S110、获取与实际道路地图不符的待处理电子地图。其中，待处理电子地图可以包括标记的各路段的路段属性信息，如路段类型、铺设类型、路段名称、位置信息和各路段间的挂接信息。位置信息是指该路段中各点在待处理电子地图中的位置坐标，即位置信息包括相应路段的路段起始点位置和路段结束点位置。各路段间的挂接信息是指两个路段间是否存在挂接的信息；若两个路段间存在挂接，则挂接信息包括两个路段处于挂接状态和两个路段的挂接点位置等。若两个路段间不存在挂接，则挂接信息包括两个路段处于非挂接状态。如图2所示的待处理电子地图中，路段a、路段b和路段c两两之间为处于非挂接状态的3个路段；路段a和路段d间为处于挂接状态的两个路段。步骤S120、对待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段。其中，第一类路段为路段起始点和路段结束点中仅有一点处于挂接状态的路段，如图2中的路段a、路段b、路段c、路段1和路段5；第二类路段为路段起始点和路段结束点均处于挂接状态的路段，如图2中的路段d、路段2、路段3和路段4。需要说明的是，第一类路段中处于挂接状态的路段起始点或路段结束点可挂接至少1个其他路段。步骤S130、分别对第一类路段和第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段。对第一类路段进行挂接拆分，得到待识别第一类路段；该方式可以防止不连续的多个路段被标记为拥有同一属性信息，即为了防止数据中出现多条不连续路段为一个整体，共用一个属性信息的情况，需要进行挂接拆分处理，处理后成为独立的多个单独路段。例如，若待处理电子地图中路段a和路段b拥有同一属性信息，但路段a和路段b并不挂接，故此时待处理电子地图存在不连续的两个路段被标记为拥有同一属性信息的情况，对其进行挂接拆分处理，处理后的路段a和路段b为独立的两个路段，即均为待识别第一类路段。对第二类路段中满足预设拆分条件的第二类路段进行挂接拆分，得到待识别第二类路段；其中，预设拆分条件为具有相同路段属性信息且存在至少3个与其他路段的挂接节点。对于第二类路段，如果路段挂接的其他路段较多，很容易出现挂接错误或路段属性定义错误，故需要对某个挂接节点较多的路段进行挂接拆分，使该路段从各挂接节点拆开成多个独立的路段。具体的，查找第二类路段中具有相同路段属性信息且存在至少3个与其他路段的挂接节点的目标第二类路段，如路段H。对目标第二类路段进行挂接拆分，得到待识别第二类路段，如路段H1、路段H2、路段H3、路段H4和路段H5。步骤S140、按照预设道路识别条件，对待识别第一类路段和待识别第二类路段进行识别，确定待修正路段。预设道路识别条件可以包括当前路段的路段起始点和/或路段结束点存在挂接路段，挂接的路段数量不小于2，且路段长度小于5米。具体的，查找待识别第一类路段和待识别第二类路段中满足预设道路识别条件的路段，将其确定为待修正路段，如图2所示的路段4。步骤S150、确定待修正路段在待处理电子地图中的中心坐标点。具体的，基于待修正路段的位置信息，确定待修正路段的路段起始点位置和路段结束点位置；基于路段起始点位置和路段结束点位置，获取待修正路段的中心坐标点A。其中，中心坐标点A：A=/2，/2。步骤S160、基于各路段间的挂接信息，将挂接在待修正路段的路段起始点和路段结束点的路段挂接在中心坐标点，并删除待修正路段，以得到修正后的电子地图。在待处理电子地图中标记出中心坐标点A。基于各路段间的挂接信息，确定原挂接在待修正路段的目标路段，以及确定目标路段的目标点，即确定是该目标路段的路段起始点挂接在待修正路段上，还是该路段的路段结束点挂接在待修正路段上。若目标点是路段起始点挂接在待修正路段上，则将目标路段的路段起始点挂接在中心坐标点，若目标点是路段结束点挂接在待修正路段上，则将目标路段的路段结束点挂接在中心坐标点。如图3所示，在待处理电子地图中标记出中心坐标点A，将路段1、路段2、路段3和路段5挂接在中心坐标点A，并删除路段4，由此得到修正后的电子地图。进一步的，还需要对待识别第一类路段和待识别第二类路段中除待修正路段外的路段进行长度检测；删除路段长度不大于预设长度阈值的路段。例如，若路段5的长度小于5米，则删除路段5，由此修正后的电子地图可以如图4所示。本申请实施例提供的电子地图中道路挂接的修正方法在获取与实际道路地图不符的待处理电子地图后，对待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段；第一类路段为路段起始点和路段结束点中仅有一点处于挂接状态的路段；第二类路段为路段起始点和路段结束点均处于挂接状态的路段；分别对第一类路段和第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段；按照预设道路识别条件，对待识别第一类路段和待识别第二类路段进行识别，确定待修正路段；确定待修正路段在所述待处理电子地图中的中心坐标点；基于各路段间的挂接信息，将挂接在待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点，并删除待修正路段，以得到修正后的电子地图。该方法解决了电子地图中道路矢量数据挂接错误问题，通过自动化的对道路处理与操作，提高了电子地图的修正效率和电子地图的准确性。与上述方法对应的，本申请实施例还提供一种电子地图中道路挂接的修正装置，如图5所示，该装置包括：获取单元510，用于获取与实际道路地图不符的待处理电子地图，所述待处理电子地图包括标记的各路段的路段属性信息和各路段间的挂接信息；检测单元520，用于对所述待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段；其中，所述第一类路段为路段起始点和路段结束点中仅有一点处于挂接状态的路段；所述第二类路段为路段起始点和路段结束点均处于挂接状态的路段；拆分单元530，用于分别对所述第一类路段和所述第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段；识别单元540，用于按照预设道路识别条件，对所述待识别第一类路段和所述待识别第二类路段进行识别，确定待修正路段；确定单元550，用于确定所述待修正路段在所述待处理电子地图中的中心坐标点；挂接单元560，用于基于所述各路段间的挂接信息，将挂接在所述待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点，并删除待修正路段，以得到修正后的电子地图。本申请上述实施例提供的电子地图中道路挂接的修正装置的各功能单元的功能，可以通过上述各方法步骤来实现，因此，本申请实施例提供的电子地图中道路挂接的修正装置中的各个单元的具体工作过程和有益效果，在此不复赘述。本申请实施例还提供了一种电子设备，如图6所示，包括处理器610、通信接口620、存储器630和通信总线640，其中，处理器610，通信接口620，存储器630通过通信总线640完成相互间的通信。存储器630，用于存放计算机程序；处理器610，用于执行存储器630上所存放的程序时，实现如下步骤：获取与实际道路地图不符的待处理电子地图，所述待处理电子地图包括标记的各路段的路段属性信息和各路段间的挂接信息；对所述待处理电子地图中各路段的属性信息进行检测，得到第一类路段和第二类路段；其中，所述第一类路段为路段起始点和路段结束点中仅有一点处于挂接状态的路段；所述第二类路段为路段起始点和路段结束点均处于挂接状态的路段；分别对所述第一类路段和所述第二类路段进行挂接拆分，得到待识别第一类路段和待识别第二类路段；按照预设道路识别条件，对所述待识别第一类路段和所述待识别第二类路段进行识别，确定待修正路段；确定所述待修正路段在所述待处理电子地图中的中心坐标点；基于所述各路段间的挂接信息，将挂接在所述待修正路段的路段起始点和路段结束点的路段挂接在所述中心坐标点，并删除待修正路段，以得到修正后的电子地图。上述提到的通信总线可以是外设部件互连标准总线或扩展工业标准结构总线等。该通信总线可以分为地址总线、数据总线、控制总线等。为便于表示，图中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。通信接口用于上述电子设备与其他设备之间的通信。存储器可以包括随机存取存储器，也可以包括非易失性存储器，例如至少一个磁盘存储器。可选的，存储器还可以是至少一个位于远离前述处理器的存储装置。上述的处理器可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。由于上述实施例中电子设备的各器件解决问题的实施方式以及有益效果可以参见图2所示的实施例中的各步骤来实现，因此，本申请实施例提供的电子设备的具体工作过程和有益效果，在此不复赘述。在本申请提供的又一实施例中，还提供了一种计算机可读存储介质，该计算机可读存储介质中存储有指令，当其在计算机上运行时，使得计算机执行上述实施例中任一所述的电子地图中道路挂接的修正方法。在本申请提供的又一实施例中，还提供了一种包含指令的计算机程序产品，当其在计算机上运行时，使得计算机执行上述实施例中任一所述的电子地图中道路挂接的修正方法。本领域内的技术人员应明白，本申请实施例中的实施例可提供为方法、系统、或计算机程序产品。因此，本申请实施例中可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请实施例中可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请实施例中是参照根据本申请实施例中实施例的方法、设备、和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。尽管已描述了本申请实施例中的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例作出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本申请实施例中范围的所有变更和修改。显然，本领域的技术人员可以对本申请实施例中实施例进行各种改动和变型而不脱离本申请实施例中实施例的精神和范围。这样，倘若本申请实施例中实施例的这些修改和变型属于本申请实施例中权利要求及其等同技术的范围之内，则本申请实施例中也意图包含这些改动和变型在内。
