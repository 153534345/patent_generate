标题title
一种arm云游戏数据互通方法及其系统
摘要abst
本申请公开了一种arm云游戏数据互通方法及其系统，其中，arm云游戏数据互通方法，包括如下步骤：arm云游戏侧的常驻后台运行的服务与app侧的软件开发工具包通信；通信后，常驻后台运行的服务对app侧进行实时监听，获得监听动作；根据监听动作生成动作指令，根据动作指令从云端获取动作数据，并将动作数据发送至软件开发工具包，软件开发工具包将动作数据发送至app；软件开发工具包向常驻后台运行的服务发送数据获取指令，常驻后台运行的服务根据数据获取指令获取app侧的粘贴复制数据，使得app侧的粘贴复制数据能够在云端进行复制粘贴。本申请能够进一步解决app侧与arm云游戏侧的数据互通问题，进一步提升用户的游玩体验。
权利要求书clms
1.一种arm云游戏数据互通方法，其特征在于，包括如下步骤：arm云游戏侧的常驻后台运行的服务与app侧的软件开发工具包通信；通信后，常驻后台运行的服务对app侧进行实时监听，获得监听动作；其中，监听动作至少包括：打开浏览器动作、保存媒体数据动作和复制数据至剪贴板动作；根据监听动作生成动作指令，根据动作指令从云端获取动作数据，并将动作数据发送至软件开发工具包，软件开发工具包将动作数据发送至app；其中，动作指令至少包括：打开浏览器指令、保存媒体数据指令和复制指令；动作数据至少包括：浏览器数据、媒体数据和复制数据；软件开发工具包向常驻后台运行的服务发送数据获取指令，常驻后台运行的服务根据数据获取指令获取app侧的粘贴复制数据，使得app侧的粘贴复制数据能够在云端进行复制粘贴。2.根据权利要求1所述的arm云游戏数据互通方法，其特征在于，常驻后台运行的服务采用无感知的方式获取打开浏览器动作。3.根据权利要求2所述的arm云游戏数据互通方法，其特征在于，常驻后台运行的服务采用无感知的方式获取打开浏览器动作的子步骤如下：将arm云游戏侧运行的服务app设置为透明主题；完成透明主题的设置后，再将arm云游戏侧运行的服务app的获取数据页面配置为空UI，获得完成配置后的服务app；通过完成配置后的服务app对打开浏览器动作进行获取。4.根据权利要求3所述的arm云游戏数据互通方法，其特征在于，常驻后台运行的服务获取复制数据至剪贴板动作的子步骤如下：通过arm云游戏系统签名对服务app进行签名；完成签名后，申请读取剪贴板权限，获得具有权限的服务app，通过具有权限的服务app对复制数据至剪贴板动作进行获取。5.根据权利要求4所述的arm云游戏数据互通方法，其特征在于，当监听动作为打开浏览器动作时，服务app打开，并对浏览器数据进行获取，当获得浏览器数据后，同时退出服务app，但常驻后台运行的服务不退出，并将获得的浏览器数据发送给运行的软件开发工具包。6.根据权利要求1或5所述的arm云游戏数据互通方法，其特征在于，浏览器数据至少包括：网址链接。7.根据权利要求1或5所述的arm云游戏数据互通方法，其特征在于，媒体数据至少包括：图片和视频。8.根据权利要求1或5所述的arm云游戏数据互通方法，其特征在于，复制数据至少包括：复制的各种类型的文字数据。9.一种arm云游戏数据互通系统，其特征在于，包括：arm云游戏侧和app侧；其中，arm云游戏侧：设置有常驻后台运行的服务，通过常驻后台运行的服务与软件开发工具包通信，通信后，常驻后台运行的服务对app侧进行实时监听，获得监听动作；根据监听动作生成动作指令，根据动作指令从云端获取动作数据，并将动作数据发送至软件开发工具包；常驻后台运行的服务根据数据获取指令获取app侧的粘贴复制数据；app侧：设置有集成的软件开发工具包；软件开发工具包将动作数据发送至app；软件开发工具包向常驻后台运行的服务发送数据获取指令。10.根据权利要求9所述的arm云游戏数据互通系统，其特征在于，软件开发工具包提供接口，通过接口向常驻后台运行的服务发送数据获取指令。
说明书desc
技术领域本申请涉及计算机技术领域，尤其涉及一种arm云游戏数据互通方法及其系统。背景技术目前，云游戏领域分为x86云游戏与arm云游戏。云游戏的本质是将音视频从云端实时传输到端侧，在端侧进行渲染播放，以及将端侧的操作指令实时发送到云侧，对云侧的游戏进行对应的处理，这其中往往伴随着端侧与云侧的数据互通，较好的数据互通体验能极大的提升用户的游戏体验，让用户玩云游戏如同玩本地游戏一样。但在现有的安卓系统中，云侧无法对端侧的复制粘贴动作进行监听，也无法从端侧获取粘贴复制数据至云侧，从而使得端侧的粘贴复制数据能够在云侧进行复制粘贴。此外，通常对浏览器的监听不是无感知获取，会有弹窗等通知，会影响玩家的游戏画面。发明内容本申请的目的在于提供一种arm云游戏数据互通方法及其系统，能够进一步解决app侧与arm云游戏侧的数据互通问题，进一步提升用户的游玩体验。为达到上述目的，本申请提供一种arm云游戏数据互通方法，包括如下步骤：arm云游戏侧的常驻后台运行的服务与app侧的软件开发工具包通信；通信后，常驻后台运行的服务对app侧进行实时监听，获得监听动作；其中，监听动作至少包括：打开浏览器动作、保存媒体数据动作和复制数据至剪贴板动作；根据监听动作生成动作指令，根据动作指令从云端获取动作数据，并将动作数据发送至软件开发工具包，软件开发工具包将动作数据发送至app；其中，动作指令至少包括：打开浏览器指令、保存媒体数据指令和复制指令；动作数据至少包括：浏览器数据、媒体数据和复制数据；软件开发工具包向常驻后台运行的服务发送数据获取指令，常驻后台运行的服务根据数据获取指令获取app侧的粘贴复制数据，使得app侧的粘贴复制数据能够在云端进行复制粘贴。如上的，其中，常驻后台运行的服务采用无感知的方式获取打开浏览器动作。如上的，其中，常驻后台运行的服务采用无感知的方式获取打开浏览器动作的子步骤如下：将arm云游戏侧运行的服务app设置为透明主题；完成透明主题的设置后，再将arm云游戏侧运行的服务app的获取数据页面配置为空UI，获得完成配置后的服务app；通过完成配置后的服务app对打开浏览器动作进行获取。如上的，其中，常驻后台运行的服务获取复制数据至剪贴板动作的子步骤如下：通过arm云游戏系统签名对服务app进行签名；完成签名后，申请读取剪贴板权限，获得具有权限的服务app，通过具有权限的服务app对复制数据至剪贴板动作进行获取。如上的，其中，当监听动作为打开浏览器动作时，服务app打开，并对浏览器数据进行获取，当获得浏览器数据后，同时退出服务app，但常驻后台运行的服务不退出，并将获得的浏览器数据发送给运行的软件开发工具包。如上的，其中，浏览器数据至少包括：网址链接。如上的，其中，媒体数据至少包括：图片和视频。如上的，其中，复制数据至少包括：复制的各种类型的文字数据。本申请还提供一种arm云游戏数据互通系统，包括：arm云游戏侧和app侧；其中，arm云游戏侧：设置有常驻后台运行的服务，通过常驻后台运行的服务与软件开发工具包通信，通信后，常驻后台运行的服务对app侧进行实时监听，获得监听动作；根据监听动作生成动作指令，根据动作指令从云端获取动作数据，并将动作数据发送至软件开发工具包；常驻后台运行的服务根据数据获取指令获取app侧的粘贴复制数据；app侧：设置有集成的软件开发工具包；软件开发工具包将动作数据发送至app；软件开发工具包向常驻后台运行的服务发送数据获取指令。如上的，其中，软件开发工具包提供接口，通过接口向常驻后台运行的服务发送数据获取指令。本申请实现的有益效果如下：arm云游戏侧能够对app侧的复制粘贴动作进行监听。能从app侧获取粘贴复制数据至arm云游戏侧，从而使得app侧的粘贴复制数据能够在arm云游戏侧进行复制粘贴。对浏览器的监听为无感知获取，不影响用户的游戏画面，能够进一步提高用户的游玩体验。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请中记载的一些实施例，对于本领域普通技术人员来讲，还可以根据这些附图获得其他的附图。图1为arm云游戏数据互通系统一种实施例的结构图；图2为arm云游戏数据互通方法一种实施例的流程图。具体实施方式下面结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。如图1所示，本申请提供一种arm云游戏数据互通系统，包括：arm云游戏侧110和app侧120。其中，arm云游戏侧110：设置有常驻后台运行的服务，通过常驻后台运行的服务与软件开发工具包通信，通信后，常驻后台运行的服务对app侧进行实时监听，获得监听动作；根据监听动作生成动作指令，根据动作指令从云端获取动作数据，并将动作数据发送至软件开发工具包；常驻后台运行的服务根据数据获取指令获取app侧的粘贴复制数据。app侧120：设置有集成的软件开发工具包；软件开发工具包将动作数据发送至app；软件开发工具包向常驻后台运行的服务发送数据获取指令。具体的，arm云游戏侧110的服务器采用arm芯片。进一步的，软件开发工具包提供接口，通过接口向常驻后台运行的服务发送数据获取指令。如图2所示，本申请提供一种arm云游戏数据互通方法，包括如下步骤：S210：arm云游戏侧的常驻后台运行的服务与app侧的软件开发工具包通信；通信后，常驻后台运行的服务对app侧进行实时监听，获得监听动作。其中，监听动作至少包括：打开浏览器动作、保存媒体数据动作和复制数据至剪贴板动作。具体的，打开浏览器动作表示：arm云游戏侧发起的浏览器打开动作。保存媒体数据动作表示：玩家在arm云游戏侧玩云游戏过程中保存媒体数据的动作，其中，媒体数据至少包括：图片和视频。复制数据至剪贴板动作表示：玩家在arm云游戏侧玩游戏过程中触发的复制数据至剪贴板的动作，其中，复制数据包括：复制的各种类型的文字数据。进一步的，常驻后台运行的服务采用无感知的方式获取打开浏览器动作。进一步的，常驻后台运行的服务采用无感知的方式获取打开浏览器动作的子步骤如下：S2101：将arm云游戏侧运行的服务app设置为透明主题。具体的，作为一个实施例，将arm云游戏侧运行的服务app设置为透明主题的代码如下：＜ xml version=“1.0”encoding=“utf-8” ＞＜manifest xmlns:android=“http://schemas.android.com/apk/res/android”＞xmlns:tools=“http://schemas.android.com/tools”package=“com.pyou.arm_intent_intercept”＞＜uses-permission android:name=“android.permission.INTERNET”/＞＜uses-permission android:name=“android.permission.READ_EXTERNAL_STORAGE”/＞＜uses-permission android:name=“android.permission.WRITE_EXTERNAL_STORAGE”/＞＜uses-permission android:name=“android.permission.READ_CLIPBOARD_IN_BACKGROUND”/＞＜application＞android:name=“ArmApplication”android:allowBackup=“true”android:icon=“@mipmap/ic_launcher”android:label=“@string/app_name”android:networkSecurityConfig=“@xml/network_security_config”android:roundIcon=“@mipmap/ic_launcher_round”android:supportsRt1=“true”android:theme=“@style/MyTransparent”＞进一步的，作为一个实施例，透明主题的具体样式的代码如下：＜resources xmlns:tools=“http://schemas.android.com/tools”＞＜！--Base application theme.--＞＜style name=“MyTransparent”parent=“Theme.AppCompat.Light.NoActionBar”＞＜item name=“android：windowBackground”＞@color/transparent＜/item＞＜item name=“android：windowIsTranslucent”＞ture＜/item＞＜item name=“android：windowAnimationStyle＞@android:style/animation.Translucent＜/item＞＜item name=“android：windowFullscreen”＞ture＜/item＞＜/style＞＜/resources＞S2102：完成透明主题的设置后，再将arm云游戏侧运行的服务app的获取数据页面配置为空UI，获得完成配置后的服务app。具体的，对玩家而言，透明主题配上空UI页面只是在游戏画面上覆盖了一层透明层，对游戏画面无影响。没有实际UI的空UI页面的代码如下：＜ xml version=“1.0”encoding=“utf-8” ＞＜FrameLayout xmlns:android=“http://schemas.android”＞xmlns:app=“http://schemas.android.com/apk/res-auto”xmlns:tools=“http://schemas.android.com/tools”android:layout_width=“match_parent”android:layout_height=“match_parent”＞＜/FrameLayout＞S2103：通过完成配置后的服务app对打开浏览器动作进行获取。进一步的，通常情况下，由于android10版本的限制，后台运行的app无法获取到剪贴板数据，而本申请的常驻后台运行的服务能够获取剪贴板数据。具体的，常驻后台运行的服务获取复制数据至剪贴板动作的子步骤如下：S2101’：通过arm云游戏系统签名对服务app进行签名。S2102’：完成签名后，申请读取剪贴板权限，获得具有权限的服务app，通过具有权限的服务app对复制数据至剪贴板动作进行获取。具体的，申请读取剪贴板权限的代码如下：＜ xml version=“1.0”encoding=“utf-8” ＞＜manifest xmlns:android=“http://schemas.android.com/apk/res/android”＞xmlns:tools=“http://schemas.android.com/tools”package=“com.pyou.arm_intent_intercept”＞＜uses-permission android:name=“android.permission.INTERNET”/＞＜uses-permission android:name=“android.permission.READ_EXTERNAL_STORAGE”/＞＜uses-permission android:name=“android.permission.WRITE_EXTERNAL_STORAGE”/＞＜uses-permission android:name=“android.permission.READ_CLIPBOARD_IN_BACKGROUND”/＞S220：根据监听动作生成动作指令，根据动作指令从云端获取动作数据，并将动作数据发送至软件开发工具包，软件开发工具包将动作数据发送至app。其中，动作指令至少包括：打开浏览器指令、保存媒体数据指令和复制指令。动作数据至少包括：浏览器数据、媒体数据和复制数据。其中，浏览器数据至少包括：网址链接。媒体数据至少包括：图片和视频。复制数据至少包括：复制的各种类型的文字数据。具体的，当监听动作为打开浏览器动作，生成的动作指令为打开浏览器指令，根据打开浏览器指令从云端获取网址链接等浏览器数据作为动作数据，并发送至软件开发工具包，软件开发工具包将动作数据发送至app。当监听动作为保存媒体数据动作，生成的动作指令为保存媒体数据指令，根据保存媒体数据指令从云端获取图片和/或视频等媒体数据作为动作数据，并发送至软件开发工具包，软件开发工具包将动作数据发送至app。当监听动作为复制数据至剪贴板动作，生成的动作指令为复制指令，根据复制指令从云端获取复制的各种类型的文字数据等复制数据作为动作数据，并发送至软件开发工具包，软件开发工具包将动作数据发送至app。进一步的，当监听动作为打开浏览器动作时，服务app打开，并对浏览器数据进行获取，当获得浏览器数据后，同时退出服务app，但常驻后台运行的服务不退出，并将获得的浏览器数据发送给运行的软件开发工具包，由于获取浏览器数据时是透明界面和空UI页面，因此可以实现在玩家无感知的情况下获取到arm云游戏侧浏览器打开的浏览器数据，代码如下：}if{interceptProtocol.interceptIntent;SendDataEntity interceptDataEntity=new SendDataEntity,interceptProtocol.getSendData.getBytes);Intent service=new Intent;service.setAction;service.putExtra;startService;}}}onBackPressed;}S230：sdk向常驻后台运行的服务发送数据获取指令，常驻后台运行的服务根据数据获取指令获取app侧的粘贴复制数据，使得app侧的粘贴复制数据能够在云端进行复制粘贴。具体的，sdk提供api，通过api向常驻后台运行的服务发送数据获取指令，常驻后台运行的服务根据数据获取指令获取app侧的粘贴复制数据，其中，粘贴复制数据可以为礼包码、激活码和兑换码等，从而实现app侧与arm云游戏侧数据互通的功能。本申请实现的有益效果如下：arm云游戏侧能够对app侧的复制粘贴动作进行监听。能从app侧获取粘贴复制数据至arm云游戏侧，从而使得app侧的粘贴复制数据能够在arm云游戏侧进行复制粘贴。对浏览器的监听为无感知获取，不影响用户的游戏画面，能够进一步提高用户的游玩体验。尽管已描述了本申请的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例作出另外的变更和修改。所以，本申请的保护范围意欲解释为包括优选实施例以及落入本申请范围的所有变更和修改。显然，本领域的技术人员可以对本申请进行各种改动和变型而不脱离本申请的精神和范围。这样，倘若本申请的这些修改和变型属于本申请保护范围及其等同技术的范围之内，则本申请也意图包含这些改动和变型在内。
