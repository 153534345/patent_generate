标题title
基于区块链的可信数据资产传输方法和装置、设备、介质
摘要abst
本公开实施例公开了一种基于区块链的可信数据资产传输方法和装置、设备、介质，其中，方法包括：可信第三方对发证方和验证方执行能力检测，确定所述发证方和验证方具有数据资产验证能力；第一客户端通过可信第三方将数据资产发送给验证方进行验证，将得到的验证信息上传到区块链进行保存；基于验证信息确定所述数据资产是否验证通过，将是否验证通过的结果返回给所述第一客户端；通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端；本实施例保证了数据资产的不可篡改和可追溯性。
权利要求书clms
1.一种基于区块链的可信数据资产传输方法，其特征在于，包括：可信第三方对发证方和验证方执行能力检测，确定所述发证方和所述验证方具有数据资产验证能力；第一客户端通过所述可信第三方将数据资产发送给所述验证方进行验证，将得到的验证信息上传到区块链进行保存；基于所述验证信息确定所述数据资产是否验证通过，将是否验证通过的结果返回给所述第一客户端；通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端。2.根据权利要求1所述的方法，其特征在于，在可信第三方对验证方执行能力检测，确定所述验证方具有数据资产验证能力之后，还包括：持证方向所述发证方发送凭证请求；所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方；其中，所述可验证凭证对应至少一个实体对象；通过所述验证方对所述持证方的所述可验证凭证进行验证，确定所述持证方的身份是否合法。3.根据权利要求2所述的方法，其特征在于，在所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方之后，还包括：将所述可验证凭证、所述发证方的密钥和所述可验证凭证中包含的特征的模式上传到可验证数据注册表中；其中，所述可验证数据注册表存储在区块链中；所述通过所述验证方对所述持证方的所述可验证凭证进行验证，确定所述持证方的身份是否合法，包括：通过所述验证方将所述可验证凭证、所述可验证凭证对应的密钥和所述可验证凭证中包含的特征的模式发送到所述可验证数据注册表进行匹配；响应于所述可验证数据注册表中存在匹配的所述可验证凭证、所述可验证凭证对应的密钥和所述可验证凭证中包含的特征的模式，确定所述持证方的身份合法。4.根据权利要求3所述的方法，其特征在于，在所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方之后，还包括：通过设定实体保存所述可验证凭证。5.根据权利要求3或4所述的方法，其特征在于，在所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方之后，还包括：通过所述持证方将所述可验证凭证加载到凭证块中的负载中，得到具有负载的所述凭证块；将所述凭证块与负载为所述数据资产的数据块进行关联。6.根据权利要求5所述的方法，其特征在于，所述第一客户端通过所述可信第三方将数据资产发送给所述验证方进行验证，将得到的验证信息上传到区块链进行保存，包括：通过所述可信第三方将所述数据资产对应的所述数据块和所述凭证块发送给所述验证方；基于所述验证方对所述凭证块的负载中存储的所述可验证凭证进行验证，确定所述数据块对应的所述可验证凭证是否通过验证，得到所述验证信息；将所述验证信息上传到所述区块链中进行保存。7.根据权利要求6所述的方法，其特征在于，所述通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端，包括：通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息以及所述验证信息对应的预设时长和时间戳；其中，所述时间戳对应所述验证方对所述可验证凭证进行验证的验证时间；基于接收所述数据资产请求的当前时刻、所述时间戳和所述预设时长，确定所述验证信息是否有效；响应于所述验证信息有效，基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端。8.根据权利要求7所述的方法，其特征在于，所述基于接收所述数据资产请求的当前时刻、所述时间戳和所述预设时长，确定所述验证信息是否有效，包括：确定所述当前时刻与所述时间戳之间的时间差值是否小于所述预设时长；响应于所述时间差值小于所述预设时长，确定所述验证信息有效；响应于所述时间差值不小于所述预设时长，确定所述验证信息无效。9.根据权利要求1所述的方法，其特征在于，所述可信第三方对发证方和验证方执行能力检测，确定所述发证方和所述验证方具有数据资产验证能力，包括：从区块链中获取所述发证方对应的第一身份标识，和所述验证方对应的第二身份标识；基于所述第一身份标识在所述可信第三方获得对应的第一身份信息，基于所述第一身份信息与所述发证方的对应关系，确定所述发证方的数据资产验证能力；基于所述第二身份标识在所述可信第三方获得对应的第二身份信息，基于所述第二身份信息与所述验证方的对应关系，确定所述验证方的数据资产验证能力。10.一种基于区块链的可信数据资产传输装置，其特征在于，包括：能力验证模块，用于可信第三方对发证方和验证方执行能力检测，确定所述发证方和所述验证方具有数据资产验证能力；数据验证模块，用于第一客户端通过所述可信第三方将数据资产发送给所述验证方进行验证，将得到的验证信息上传到区块链进行保存；验证结果模块，用于基于所述验证信息确定是否验证通过，将是否验证通过返回给所述第一客户端；数据获取模块，用于通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端。11.一种电子设备，其特征在于，包括：存储器，用于存储计算机程序产品；处理器，用于执行所述存储器中存储的计算机程序产品，且所述计算机程序产品被执行时，实现上述权利要求1-9任一所述的基于区块链的可信数据资产传输方法。12.一种计算机可读存储介质，其上存储有计算机程序指令，其特征在于，该计算机程序指令被处理器执行时，实现上述权利要求1-9任一所述的基于区块链的可信数据资产传输方法。
说明书desc
技术领域本公开涉及数据传输技术，尤其是一种基于区块链的可信数据资产传输方法和装置、设备、介质。背景技术区块链具有不可篡改和可追溯性，它以一种去中心化的方式在全网获得共识并确保数据资产的唯一性。区块链将数据资产封装为可上链的数据对象，通过唯一的赋码机制确保资产唯一性，为每个数据资产确权；区块链确权机制，在业界有一种共识，那就是上链即确权，也就是用户生成数据区块的过程就是数据权利产生的过程。利用区块链分布式记账、不可篡改等特点，可以有效进行数据确权；数据的产生者以及使用者作为节点加入到区块链网络，利用区块链详细记录数据产生、流转、交易等全部环节，通过节点标识每笔数据对应的产生者以及使用者身份，但现有技术中，在区块链中传输的数据资产通常未经过验证，不能保证数据资产交互的合法合规性。发明内容为了解决上述技术问题，提出了本公开。本公开的实施例提供了一种基于区块链的可信数据资产传输方法和装置、设备、介质。根据本公开实施例的一个方面，提供了一种基于区块链的可信数据资产传输方法，包括：可信第三方对发证方和验证方执行能力检测，确定所述发证方和所述验证方具有数据资产验证能力；第一客户端通过所述可信第三方将数据资产发送给所述验证方进行验证，将得到的验证信息上传到区块链进行保存；基于所述验证信息确定所述数据资产是否验证通过，将是否验证通过的结果返回给所述第一客户端；通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端。可选地，在可信第三方对验证方执行能力检测，确定所述验证方具有数据资产验证能力之后，还包括：持证方向所述发证方发送凭证请求；所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方；其中，所述可验证凭证对应至少一个实体对象；通过所述验证方对所述持证方的所述可验证凭证进行验证，确定所述持证方的身份是否合法。可选地，在所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方之后，还包括：将所述可验证凭证、所述发证方的密钥和所述可验证凭证中包含的特征的模式上传到可验证数据注册表中；其中，所述可验证数据注册表存储在区块链中；所述通过所述验证方对所述持证方的所述可验证凭证进行验证，确定所述持证方的身份是否合法，包括：通过所述验证方将所述可验证凭证、所述可验证凭证对应的密钥和所述可验证凭证中包含的特征的模式发送到所述可验证数据注册表进行匹配；响应于所述可验证数据注册表中存在匹配的所述可验证凭证、所述可验证凭证对应的密钥和所述可验证凭证中包含的特征的模式，确定所述持证方的身份合法。可选地，在所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方之后，还包括：通过设定实体保存所述可验证凭证。可选地，在所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方之后，还包括：通过所述持证方将所述可验证凭证加载到凭证块中的负载中，得到具有负载的所述凭证块；将所述凭证块与负载为所述数据资产的数据块进行关联。可选地，所述第一客户端通过所述可信第三方将数据资产发送给所述验证方进行验证，将得到的验证信息上传到区块链进行保存，包括：通过所述可信第三方将所述数据资产对应的所述数据块和所述凭证块发送给所述验证方；基于所述验证方对所述凭证块的负载中存储的所述可验证凭证进行验证，确定所述数据块对应的所述可验证凭证是否通过验证，得到所述验证信息；将所述验证信息上传到所述区块链中进行保存。可选地，所述通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端，包括：通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息以及所述验证信息对应的预设时长和时间戳；其中，所述时间戳对应所述验证方对所述可验证凭证进行验证的验证时间；基于接收所述数据资产请求的当前时刻、所述时间戳和所述预设时长，确定所述验证信息是否有效；响应于所述验证信息有效，基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端。可选地，所述基于接收所述数据资产请求的当前时刻、所述时间戳和所述预设时长，确定所述验证信息是否有效，包括：确定所述当前时刻与所述时间戳之间的时间差值是否小于所述预设时长；响应于所述时间差值小于所述预设时长，确定所述验证信息有效；响应于所述时间差值不小于所述预设时长，确定所述验证信息无效。可选地，所述可信第三方对发证方和验证方执行能力检测，确定所述发证方和所述验证方具有数据资产验证能力，包括：从区块链中获取所述发证方对应的第一身份标识，和所述验证方对应的第二身份标识；基于所述第一身份标识在所述可信第三方获得对应的第一身份信息，基于所述第一身份信息与所述发证方的对应关系，确定所述发证方的数据资产验证能力；基于所述第二身份标识在所述可信第三方获得对应的第二身份信息，基于所述第二身份信息与所述验证方的对应关系，确定所述验证方的数据资产验证能力。根据本公开实施例的另一方面，提供了一种基于区块链的可信数据资产传输装置，包括：能力验证模块，用于可信第三方对发证方和验证方执行能力检测，确定所述发证方和所述验证方具有数据资产验证能力；数据验证模块，用于第一客户端通过所述可信第三方将数据资产发送给所述验证方进行验证，将得到的验证信息上传到区块链进行保存；验证结果模块，用于基于所述验证信息确定是否验证通过，将是否验证通过返回给所述第一客户端；数据获取模块，用于通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端。可选地，所述装置还包括：身份验证模块，用于持证方向所述发证方发送凭证请求；所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方；其中，所述可验证凭证对应至少一个实体对象；通过所述验证方对所述持证方的所述可验证凭证进行验证，确定所述持证方的身份是否合法。可选地，所述身份验证模块，还用于将所述可验证凭证、所述发证方的密钥和所述可验证凭证中包含的特征的模式上传到可验证数据注册表中；其中，所述可验证数据注册表存储在区块链中；通过所述验证方将所述可验证凭证、所述可验证凭证对应的密钥和所述可验证凭证中包含的特征的模式发送到所述可验证数据注册表进行匹配；响应于所述可验证数据注册表中存在匹配的所述可验证凭证、所述可验证凭证对应的密钥和所述可验证凭证中包含的特征的模式，确定所述持证方的身份合法。可选地，所述身份验证模块，在所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方之后，还用于通过设定实体保存所述可验证凭证。可选地，所述身份验证模块，在所述发证方根据所述凭证请求签发所述凭证请求对应的可验证凭证给所述持证方之后，还用于通过所述持证方将所述可验证凭证加载到凭证块中的负载中，得到具有负载的所述凭证块；将所述凭证块与负载为所述数据资产的数据块进行关联。可选地，所述数据验证模块，具体用于通过所述可信第三方将所述数据资产对应的所述数据块和所述凭证块发送给所述验证方；基于所述验证方对所述凭证块的负载中存储的所述可验证凭证进行验证，确定所述数据块对应的所述可验证凭证是否通过验证，得到所述验证信息；将所述验证信息上传到所述区块链中进行保存。可选地，所述数据获取模块，具体用于通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息以及所述验证信息对应的预设时长和时间戳；其中，所述时间戳对应所述验证方对所述可验证凭证进行验证的验证时间；基于接收所述数据资产请求的当前时刻、所述时间戳和所述预设时长，确定所述验证信息是否有效；响应于所述验证信息有效，基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端。可选地，所述数据获取模块在基于接收所述数据资产请求的当前时刻、所述时间戳和所述预设时长，确定所述验证信息是否有效时，用于确定所述当前时刻与所述时间戳之间的时间差值是否小于所述预设时长；响应于所述时间差值小于所述预设时长，确定所述验证信息有效；响应于所述时间差值不小于所述预设时长，确定所述验证信息无效。可选地，所述能力验证模块，具体用于从区块链中获取所述发证方对应的第一身份标识，和所述验证方对应的第二身份标识；基于所述第一身份标识在所述可信第三方获得对应的第一身份信息，基于所述第一身份信息与所述发证方的对应关系，确定所述发证方的数据资产验证能力；基于所述第二身份标识在所述可信第三方获得对应的第二身份信息，基于所述第二身份信息与所述验证方的对应关系，确定所述验证方的数据资产验证能力。根据本公开实施例的又一方面，提供了一种电子设备，包括：存储器，用于存储计算机程序产品；处理器，用于执行所述存储器中存储的计算机程序产品，且所述计算机程序产品被执行时，实现上述任一实施例所述的基于区块链的可信数据资产传输方法。根据本公开实施例的还一方面，提供了一种计算机可读存储介质，其上存储有计算机程序指令，该计算机程序指令被处理器执行时，实现上述任一实施例所述的基于区块链的可信数据资产传输方法。基于本公开上述实施例提供的一种基于区块链的可信数据资产传输方法和装置、设备、介质，包括：可信第三方对发证方和验证方执行能力检测，确定所述发证方和所述验证方具有数据资产验证能力；第一客户端通过所述可信第三方将数据资产发送给所述验证方进行验证，将得到的验证信息上传到区块链进行保存；基于所述验证信息确定所述数据资产是否验证通过，将是否验证通过的结果返回给所述第一客户端；通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端；本实施例通过在可信第三方对数据资产进行验证，实现了对数据资产的合法性和可用性进行验证，并且第二客户端从区块链获取数据资产，保证了数据资产的不可篡改和可追溯性。下面通过附图和实施例，对本公开的技术方案做进一步的详细描述。附图说明通过结合附图对本公开实施例进行更详细的描述，本公开的上述以及其他目的、特征和优势将变得更加明显。附图用来提供对本公开实施例的进一步理解，并且构成说明书的一部分，与本公开实施例一起用于解释本公开，并不构成对本公开的限制。在附图中，相同的参考标号通常代表相同部件或步骤；图1是本公开一示例性实施例提供的基于区块链的可信数据资产传输方法的流程示意图；图2a是本公开一示例性实施例提供的一种数据互操作协议生成的消息格式的结构示意图；图2b是本公开一示例性实施例提供的一种基本首部的的格式示意图；图2c是本公开一示例性实施例提供的一个可选示例中块结构示意图；图3是本公开一示例性实施例提供的一个可选示例中块中负载部分的基本证书示意图；图4是本公开一示例性实施例提供的一个可信数据资产验证的流程示意图；图5是本公开一示例性实施例提供的基于区块链的可信数据资产传输装置的结构示意图；图6是本公开一示例性实施例提供的电子设备的结构图。具体实施方式下面，将参考附图详细地描述根据本公开的示例实施例。显然，所描述的实施例仅仅是本公开的一部分实施例，而不是本公开的全部实施例，应理解，本公开不受这里描述的示例实施例的限制。应注意到：除非另外具体说明，否则在这些实施例中阐述的部件和步骤的相对布置、数字表达式和数值不限制本公开的范围。本领域技术人员可以理解，本公开实施例中的“第一”、“第二”等术语仅用于区别不同步骤、设备或模块等，既不代表任何特定技术含义，也不表示它们之间的必然逻辑顺序。还应理解，在本公开实施例中，“多个”可以指两个或两个以上，“至少一个”可以指一个、两个或两个以上。还应理解，对于本公开实施例中提及的任一部件、数据或结构，在没有明确限定或者在前后文给出相反启示的情况下，一般可以理解为一个或多个。另外，本公开中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本公开中字符“/”，一般表示前后关联对象是一种“或”的关系。本公开中所指数据可以包括文本、图像、视频等非结构化数据，也可以是结构化数据。还应理解，本公开对各个实施例的描述着重强调各个实施例之间的不同之处，其相同或相似之处可以相互参考，为了简洁，不再一一赘述。同时，应当明白，为了便于描述，附图中所示出的各个部分的尺寸并不是按照实际的比例关系绘制的。以下对至少一个示例性实施例的描述实际上仅仅是说明性的，决不作为对本公开及其应用或使用的任何限制。对于相关领域普通技术人员已知的技术、方法和设备可能不作详细讨论，但在适当情况下，所述技术、方法和设备应当被视为说明书的一部分。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步讨论。本公开实施例可以应用于终端设备、计算机系统、服务器等电子设备，其可与众多其它通用或专用计算系统环境或配置一起操作。适于与终端设备、计算机系统、服务器等电子设备一起使用的众所周知的终端设备、计算系统、环境和/或配置的例子包括但不限于：个人计算机系统、服务器计算机系统、瘦客户机、厚客户机、手持或膝上设备、基于微处理器的系统、机顶盒、可编程消费电子产品、网络个人电脑、小型计算机系统、大型计算机系统和包括上述任何系统的分布式云计算技术环境，等等。终端设备、计算机系统、服务器等电子设备可以在由计算机系统执行的计算机系统可执行指令的一般语境下描述。通常，程序模块可以包括例程、程序、目标程序、组件、逻辑、数据结构等等，它们执行特定的任务或者实现特定的抽象数据类型。计算机系统/服务器可以在分布式云计算环境中实施，分布式云计算环境中，任务是由通过通信网络链接的远程处理设备执行的。在分布式云计算环境中，程序模块可以位于包括存储设备的本地或远程计算系统存储介质上。示例性方法图1是本公开一示例性实施例提供的基于区块链的可信数据资产传输方法的流程示意图。本实施例可应用在电子设备上，如图1所示，包括如下步骤：步骤102，可信第三方对发证方和验证方执行能力检测，确定发证方和验证方具有数据资产验证能力。其中，数据资产包括类目对象和本体对象。可选地，发证方和验证方可以分别是不同的客户端或服务器，或者是区块链中的不同节点。步骤104，第一客户端通过可信第三方将数据资产发送给验证方进行验证，将得到的验证信息上传到区块链进行保存。在一实施例中，数据资产可信校验是验证所传输的数据资产是否规范、是否合法以及是否具有一定真实性的作用，是可信数据资产传输协议关键组成部分。步骤106，基于验证信息确定数据资产是否验证通过，将是否验证通过的结果返回给第一客户端。步骤108，通过可信第三方接收第二客户端发出数据资产请求，从区块链获取数据资产对应的验证通过的验证信息，并基于验证信息从第一客户端获取数据资产请求对应的数据资产返回第二客户端。本实施例中，采用“链上存证，链下数据传输”的可信传输方案，只有对共享数据的请求和应答会被记录在区块链上，而真正的共享数据通过链下传输，具体链下共享数据的传输也可以通过可信的云服务器中转，也可以直接通过客户端之间点对点传输。由于所有对共享数据的请求和应答响应都被记录在区块链上，而区块链又能保证其难以篡改、公开透明、可追溯，因此任何参与方如果对数据确权有异议，都可以通过查询区块链记来对数据的使用权和所有权的迁移过程进行追溯，并且追溯过程不受任何一方人为干扰。本公开上述实施例提供的一种基于区块链的可信数据资产传输方法，可信第三方对发证方和验证方执行能力检测，确定所述发证方和所述验证方具有数据资产验证能力；第一客户端通过所述可信第三方将数据资产发送给所述验证方进行验证，将得到的验证信息上传到区块链进行保存；基于所述验证信息确定所述数据资产是否验证通过，将是否验证通过的结果返回给所述第一客户端；通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端；本实施例通过在可信第三方对数据资产进行验证，实现了对数据资产的合法性和可用性进行验证，并且第二客户端从区块链获取数据资产，保证了数据资产的不可篡改和可追溯性。在一些可选的实施例中，在步骤102之后，还可以包括：持证方向发证方发送凭证请求；发证方根据凭证请求签发凭证请求对应的可验证凭证给持证方；其中，可验证凭证对应至少一个实体对象；通过验证方对持证方的可验证凭证进行验证，确定持证方的身份是否合法。本实施例中，发证方可以是：向用户签发可验证凭证的实体，在大多数情况下是相关对象，但在某些情况下可能不是；例如，如果对象是宠物猫，可验证凭证是接种证书，那么发证方将向猫的主人签发可验证凭证。持证方可以是：目前持有可验证凭证并且将其提交给验证方的实体，在大多数情况下，对象和持证方统一，但如如前方所示，在处方和宠物猫的示例中，情况不是如此。对象可以是：相关特征保存在可验证凭证中的实体，对象可以是任何具有身份者：人、组织、人造物、自然物体，逻辑事物等。本实施例中通过验证方确定持证方的可验证凭证进行验证，确定持证方是否是从发证方获得的可验证凭证，即，确定可验证凭证的获取手段是否合法，进而实现确定可验证凭证的合法性，实现确定持证方的身份是否合法。可选地，在发证方根据凭证请求签发凭证请求对应的可验证凭证给持证方之后，还可以包括：将可验证凭证、发证方的密钥和可验证凭证中包含的特征的模式上传到可验证数据注册表中；其中，可验证数据注册表存储在区块链中；通过验证方对持证方的可验证凭证进行验证，确定持证方的身份是否合法，包括：通过验证方将可验证凭证、可验证凭证对应的密钥和可验证凭证中包含的特征的模式发送到可验证数据注册表进行匹配；响应于可验证数据注册表中存在匹配的可验证凭证、可验证凭证对应的密钥和可验证凭证中包含的特征的模式，确定持证方的身份合法。其中，可验证数据注册表：是指可通过互联网访问的注册表，保存使可验证生态系统能够运行的所有基本数据和元数据，注册表中存储的数据和元数据类型的示例包括：发证方的公钥：可验证凭证可能包含的所有特征的模式或本体；已撤销可验证凭证的撤销名单；发证方生成相关对象的特征须有权威性。可选地，在发证方根据凭证请求签发凭证请求对应的可验证凭证给持证方之后，还包括：通过设定实体保存可验证凭证。本实施例中，将钱包作为持证方存放可验证凭证的实体，在许多情况下，钱包是持证代理不可或缺的部分，但这个模型可以以远程钱包的形式存在，比如云钱包。在一些可选的实施例中，在发证方根据凭证请求签发凭证请求对应的可验证凭证给持证方之后，还可以包括：通过持证方将可验证凭证加载到凭证块中的负载中，得到具有负载的凭证块；将凭证块与负载为数据资产的数据块进行关联。可选地，本实施例设计一种VC块，是可信数字资产传输协议独特存在的一种块，用来单独传输可验证证书相关内容，数字资产传输协议中定义的传输块、控制块、数据块以及凭证块统称为“块”，数据互操作协议通过交换预定义的数据互操作协议报文进行通信。数据互操作协议数据包主要由五部分组成，如图2a所示，分别是基本首部、传输快、控制块、数据块以及凭证快组成。基本首部包含数据包的基本信息，传输块、控制块、数据块以及凭证块分别携带数据包传递方式信息、控制信息、数据信息以及验证加密等信息。可选地，数据块还可以包括基本首部；传输块用于控制数据包的传输策略，以更好适配网络协议环境；控制块用于控制数据在发布、订阅过程中的具体方法；数据块用于携带待传输的具体数据，以及对其定义的相关处理；凭证块消息被处理的安全及验证信息。如图2b所示，基本首部的格式包括主版本、次版本和校验码，主版本和次版本均设置为8位，用于表示数据互操作协议的版本，每个字段由1个字节的非符号整数定义。主版本的不同表示协议格式的主要变化，使用较低主版本的一方必须升级软件从而确保通信的准确性。次版本的增加表示协议中添加了额外的功能但是不影响协议的主要信息格式。校验码设置为16位，用于检验传输后数据包的完整性。数据互操作协议定义可采用CRC-16标准进行校验。传输块、控制块、数据块以及凭证块的格式均可以设置相同，基本格式如图2c所示，块的基本格式各字段的含义包括：包括块类型、头类型、标志位、块长度、可选项、界定符和负载；块类型：4位无符号整型，取值范围0-7，用于表示该块的类型，包括传输块0000、控制块0001、数据块0010，凭证块0011，VC块0100；头类型：4位无符号整型，取值范围0-63，用于表示不同块中头部的类型；标志位：8位，置0则忽略该字段；块长度：16位，表示块的长度或者被分片的数据包的长度，以字节为单位，数据块长度的值必须为4字节的整数倍，块长度不包括填充字段长度；可选项：可变长，存储与块传输有关的必要信息；界定符：8位固定值0xFF；负载：可变长，用于存储对应具体数据；可选项与负载的长度和必须为4字节的倍数，若不够，以0填充。本实施例中将可验证凭证存入凭证块的负载中。在负载部分的基本证书如图3所示，其中，真实凭证包括VC元数据、VC声明和证明；Content表示：当人们交流时，需要知道使用什么语言和词汇，虽然用于 VC的默认编码语言是 JSON-LD，但这并没有公开 VC 可能包含哪些 JSON属性；因此，Context属性可以表示VC 中使用了哪些词汇；在语法上，Context包括一系列的一个或多个统一资源标识符；理想情况下，每个统一资源标识符应该指向一个机器可读的文档，该文档包含验证方可以自动下载和配置的词汇，由于许多实施方案可能不太复杂，URI可以交替地指向一个人类可读的规范，该规范允许管理员用必要的词汇配置验证方软件。请注意， Context本身提供的信息可能比验证方希望使用的更多。因此，VC 还包含类型属性。Type表示：类型属性包含一个 URI 列表，用于表明这是哪种类型的块；验证方可以阅读类型列表，并快速确定是否能够理解和处理这个VC块。如果VC是验证方无法识别的类型，验证方可以立即拒绝它，而无需进一步处理。ID表示：ID属性是由发证方创建的此 VC 的唯一标识符，它由一个 URI组成；这允许任何实体明确地引用此VC。Issuer表示：发证方属性是发证方独有的标识符，它属于统一资源标识符；此URI可以指向完整描述发证方的文档，也可以包含发证方的DNS名称，而可验证数据注册中心可以包含有关发证方的更多细节，如，公钥证书。Credential Subject表示：此属性包含发证方对主体所做的声明。它由主体的 ID 和发证方声明的关于主体的一组属性组成；在某些情况下，ID 可能丢失：比如不记名VC；由于VC的设计目的是保护主体的隐私，所以 ID 是主体的假名，以URI形式表示；一个主体可以有无数个假名，每个 VC 可以包含不同的 ID；这样，如果没有额外的信息，验证方无法知道具有不同主体 ID 的两个 VC 属于同一个个体。proof表示：为了使证书能够被验证，需要进行签名，在VC数据模型规范中泛指证明；这样以加密方式证明发证方发行了此VC，并且自发行以来未被篡改；每个VC必须包含证明属性，如果使用某种属性，则所有证明必须包含的一个公共属性是类型属性，它表明了证明的类型。负载中还可以包括的其本属性，例如：issuanceDate表示：组合日期和时间，采用ISO 8601格式，在这个时间之后VC有效；发证日期不一定是VC的实际发行日期，因为发证方可以在此日期之前或之后发行VC，通常发证日期是VC的生效日期。expirationDate表示：通常采用ISO 8601 格式的组合日期和时间，在此时间之后VC无效。credential Status表示：向验证方提供VC当前状态的详细信息：自其发布日期以来，它是否已被撤销、暂停、取代或以其它方式更改。这个属性就是说，预期VC在到期日期前不会改变其状态，这个属性对于长期VC来说特别有用，但对于短期VC来说并非如此；证书状态属性没有标准格式，但每个状态都必须包含id和类型属性。id属性是这个证书状态实例的唯一URL，验证方可以通过id属性获取这个VC的状态信息；类型属性说明证书状态的类型，而证书状态又规定了状态属性应包含哪些其它属性。可选地，第一客户端通过可信第三方将数据资产发送给验证方进行验证，将得到的验证信息上传到区块链进行保存，包括：通过可信第三方将数据资产对应的数据块和凭证块发送给验证方；基于验证方对凭证块的负载中存储的可验证凭证进行验证，确定数据块对应的可验证凭证是否通过验证，得到验证信息；将验证信息上传到区块链中进行保存。本实施例中，通过对凭证块的负载中存储的可验证凭证进行验证，来实现数据块的负载中存储的可验证凭证是否通过验证，得到数据块的可验证凭证是否通过验证的验证信息；并通过区块链保存验证信息，保证了验证信息不被篡改。在一些可选的实施例中，在上述实施例的基础上，步骤108可以包括：通过可信第三方接收第二客户端发出数据资产请求，从区块链获取数据资产对应的验证通过的验证信息以及验证信息对应的预设时长和时间戳；其中，时间戳对应验证方对可验证凭证进行验证的验证时间；基于接收数据资产请求的当前时刻、时间戳和预设时长，确定验证信息是否有效；响应于验证信息有效，基于验证信息从第一客户端获取数据资产请求对应的数据资产返回第二客户端。本实施例中，设置预设时长为验证信息对应的有效期，验证信息在从时间戳开始的预设时长内是有效的，对验证信息的有效性验证可以基于当前时刻减去时间戳，当得到的差值小于预设时长时，确定验证信息有效，当差值大于或等于预设时长时，确定验证信息无效；本实施例中，通过在区块链中验证信息确定数据资产的有效性，在有效的前提下，通过线下第二客户端直接从第一客户端获取对应的数据资产，即提高了数据资产传输的安全性，又提高了数据资产传输的效率。可选地，基于接收数据资产请求的当前时刻、时间戳和预设时长，确定验证信息是否有效，包括：确定当前时刻与时间戳之间的时间差值是否小于预设时长；响应于时间差值小于预设时长，确定验证信息有效；响应于时间差值不小于预设时长，确定验证信息无效。在一些可选的实施例中，在上述实施例的基础上，步骤102还可以包括：从区块链中获取发证方对应的第一身份标识，和验证方对应的第二身份标识；基于第一身份标识在可信第三方获得对应的第一身份信息，基于第一身份信息与发证方的对应关系，确定发证方的数据资产验证能力；基于第二身份标识在可信第三方获得对应的第二身份信息，基于第二身份信息与验证方的对应关系，确定验证方的数据资产验证能力。本实施例中，通过第一身份标识和第二身份标识，实现了自主管理身份，即安全管理用户的数字身份，自主管理身份使你可以控制他人对你的个人信息的验证，并只按需求提供相应的信息；简而言之，它用可验证凭证取代了身份标识；在此过程中，它大大简化并加快了个人和组织的数字化身份识别过程。图4提供了一个可信数据资产验证的可选示例，在本实施中，可信broker的位置可以部署于数据生产端，也可以部署与数据消费端；其中包括：步骤a，可信broker通过区块链基础设施进行发证方、验证方检测，对其数据资产验证能力给予证明；步骤b，对等方A进行数据资产发布并接收到返回指令，其中，数据资产包括类目对象和本体对象，类目对象用于表征数据资产间的从属关系、类目描述信息和元属性信息，本体对象为类目对象的实例，本体对象又分为数据对象和操作对象，前者描述定义以及指代的是数据，后者是对指定数据的操作；数据资产可以为一些属性声明数据；步骤c，通过验证的数据资产通过区块链获取证明，并将验证信息上联；步骤d，对等方B订阅一定所需信息，返回经过证明的数据资产；步骤e，对等方验证数据资产的有效性，例如，确定门票或驾驶执照等的有效性。本公开实施例提供的任一种基于区块链的可信数据资产传输方法可以由任意适当的具有数据处理能力的设备执行，包括但不限于：终端设备和服务器等。或者，本公开实施例提供的任一种基于区块链的可信数据资产传输方法可以由处理器执行，如处理器通过调用存储器存储的相应指令来执行本公开实施例提及的任一种基于区块链的可信数据资产传输方法。下文不再赘述。示例性装置图5是本公开一示例性实施例提供的基于区块链的可信数据资产传输装置的结构示意图。如图5所示，本实施例提供的装置包括：能力验证模块51，用于可信第三方对发证方和验证方执行能力检测，确定发证方和验证方具有数据资产验证能力。数据验证模块52，用于第一客户端通过可信第三方将数据资产发送给验证方进行验证，将得到的验证信息上传到区块链进行保存。验证结果模块53，用于基于验证信息确定是否验证通过，将是否验证通过返回给第一客户端。数据获取模块54，用于通过可信第三方接收第二客户端发出数据资产请求，从区块链获取数据资产对应的验证通过的验证信息，并基于验证信息从第一客户端获取数据资产请求对应的数据资产返回第二客户端。本公开上述实施例提供的一种基于区块链的可信数据资产传输装置，可信第三方对发证方和验证方执行能力检测，确定所述发证方和所述验证方具有数据资产验证能力；第一客户端通过所述可信第三方将数据资产发送给所述验证方进行验证，将得到的验证信息上传到区块链进行保存；基于所述验证信息确定所述数据资产是否验证通过，将是否验证通过的结果返回给所述第一客户端；通过所述可信第三方接收第二客户端发出数据资产请求，从所述区块链获取数据资产对应的验证通过的验证信息，并基于所述验证信息从所述第一客户端获取所述数据资产请求对应的所述数据资产返回所述第二客户端；本实施例通过在可信第三方对数据资产进行验证，实现了对数据资产的合法性和可用性进行验证，并且第二客户端从区块链获取数据资产，保证了数据资产的不可篡改和可追溯性。可选地，本实施例提供的装置还可以包括：身份验证模块，用于持证方向发证方发送凭证请求；发证方根据凭证请求签发凭证请求对应的可验证凭证给持证方；其中，可验证凭证对应至少一个实体对象；通过验证方对持证方的可验证凭证进行验证，确定持证方的身份是否合法。可选地，身份验证模块，还用于将可验证凭证、发证方的密钥和可验证凭证中包含的特征的模式上传到可验证数据注册表中；其中，可验证数据注册表存储在区块链中；通过验证方将可验证凭证、可验证凭证对应的密钥和可验证凭证中包含的特征的模式发送到可验证数据注册表进行匹配；响应于可验证数据注册表中存在匹配的可验证凭证、可验证凭证对应的密钥和可验证凭证中包含的特征的模式，确定持证方的身份合法。可选地，身份验证模块，在发证方根据凭证请求签发凭证请求对应的可验证凭证给持证方之后，还用于通过设定实体保存可验证凭证。可选地，身份验证模块，在发证方根据凭证请求签发凭证请求对应的可验证凭证给持证方之后，还用于通过持证方将可验证凭证加载到凭证块中的负载中，得到具有负载的凭证块；将凭证块与负载为数据资产的数据块进行关联。可选地，数据验证模块52，具体用于通过可信第三方将数据资产对应的数据块和凭证块发送给验证方；基于验证方对凭证块的负载中存储的可验证凭证进行验证，确定数据块对应的可验证凭证是否通过验证，得到验证信息；将验证信息上传到区块链中进行保存。可选地，数据获取模块54，具体用于通过可信第三方接收第二客户端发出数据资产请求，从区块链获取数据资产对应的验证通过的验证信息以及验证信息对应的预设时长和时间戳；其中，时间戳对应验证方对可验证凭证进行验证的验证时间；基于接收数据资产请求的当前时刻、时间戳和预设时长，确定验证信息是否有效；响应于验证信息有效，基于验证信息从第一客户端获取数据资产请求对应的数据资产返回第二客户端。可选地，数据获取模块54在基于接收数据资产请求的当前时刻、时间戳和预设时长，确定验证信息是否有效时，用于确定当前时刻与时间戳之间的时间差值是否小于预设时长；响应于时间差值小于预设时长，确定验证信息有效；响应于时间差值不小于预设时长，确定验证信息无效。可选地，能力验证模块51，具体用于从区块链中获取发证方对应的第一身份标识，和验证方对应的第二身份标识；基于第一身份标识在可信第三方获得对应的第一身份信息，基于第一身份信息与发证方的对应关系，确定发证方的数据资产验证能力；基于第二身份标识在可信第三方获得对应的第二身份信息，基于第二身份信息与验证方的对应关系，确定验证方的数据资产验证能力。示例性电子设备下面，参考图6来描述根据本公开实施例的电子设备。该电子设备可以是第一设备和第二设备中的任一个或两者、或与它们独立的单机设备，该单机设备可以与第一设备和第二设备进行通信，以从它们接收所采集到的输入信号。图6图示了根据本公开实施例的电子设备的框图。如图6所示，电子设备60包括一个或多个处理器61和存储器62。处理器61可以是中央处理单元或者具有数据处理能力和/或指令执行能力的其他形式的处理单元，并且可以控制电子设备60中的其他组件以执行期望的功能。存储器可以存储一个或多个计算机程序产品，所述存储器可以包括各种形式的计算机可读存储介质，例如易失性存储器和/或非易失性存储器。所述易失性存储器例如可以包括随机存取存储器和/或高速缓冲存储器等。所述非易失性存储器例如可以包括只读存储器、硬盘、闪存等。在所述计算机可读存储介质上可以存储一个或多个计算机程序产品，处理器可以运行所述计算机程序产品，以实现上文所述的本公开的各个实施例的基于区块链的可信数据资产传输方法以及/或者其他期望的功能。在一个示例中，电子设备60还可以包括：输入装置63和输出装置64，这些组件通过总线系统和/或其他形式的连接机构互连。例如，在该电子设备是第一设备或第二设备时，该输入装置63可以是上述的麦克风或麦克风阵列，用于捕捉声源的输入信号。在该电子设备是单机设备时，该输入装置63可以是通信网络连接器，用于从第一设备和第二设备接收所采集的输入信号。此外，该输入装置63还可以包括例如键盘、鼠标等等。该输出装置64可以向外部输出各种信息，包括确定出的距离信息、方向信息等。该输出装置64可以包括例如显示器、扬声器、打印机、以及通信网络及其所连接的远程输出设备等等。当然，为了简化，图6中仅示出了该电子设备60中与本公开有关的组件中的一些，省略了诸如总线、输入/输出接口等等的组件。除此之外，根据具体应用情况，电子设备60还可以包括任何其他适当的组件。示例性计算机程序产品和计算机可读存储介质除了上述方法和设备以外，本公开的实施例还可以是计算机程序产品，其包括计算机程序指令，所述计算机程序指令在被处理器运行时使得所述处理器执行本说明书上述部分中描述的根据本公开各种实施例的基于区块链的可信数据资产传输方法中的步骤。所述计算机程序产品可以以一种或多种程序设计语言的任意组合来编写用于执行本公开实施例操作的程序代码，所述程序设计语言包括面向对象的程序设计语言，诸如Java、C++等，还包括常规的过程式程序设计语言，诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算设备上执行、部分地在用户设备上执行、作为一个独立的软件包执行、部分在用户计算设备上部分在远程计算设备上执行、或者完全在远程计算设备或服务器上执行。此外，本公开的实施例还可以是计算机可读存储介质，其上存储有计算机程序指令，所述计算机程序指令在被处理器运行时使得所述处理器执行本说明书上述“示例性方法”部分中描述的根据本公开各种实施例的基于区块链的可信数据资产传输方法中的步骤。所述计算机可读存储介质可以采用一个或多个可读介质的任意组合。可读介质可以是可读信号介质或者可读存储介质。可读存储介质例如可以包括但不限于电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。以上结合具体实施例描述了本公开的基本原理，但是，需要指出的是，在本公开中提及的优点、优势、效果等仅是示例而非限制，不能认为这些优点、优势、效果等是本公开的各个实施例必须具备的。另外，上述公开的具体细节仅是为了示例的作用和便于理解的作用，而非限制，上述细节并不限制本公开为必须采用上述具体的细节来实现。本说明书中各个实施例均采用递进的方式描述，每个实施例重点说明的都是与其它实施例的不同之处，各个实施例之间相同或相似的部分相互参见即可。对于系统实施例而言，由于其与方法实施例基本对应，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。本公开中涉及的器件、装置、设备、系统的方框图仅作为例示性的例子并且不意图要求或暗示必须按照方框图示出的方式进行连接、布置、配置。如本领域技术人员将认识到的，可以按任意方式连接、布置、配置这些器件、装置、设备、系统。诸如“包括”、“包含”、“具有”等等的词语是开放性词汇，指“包括但不限于”，且可与其互换使用。这里所使用的词汇“或”和“和”指词汇“和/或”，且可与其互换使用，除非上下文明确指示不是如此。这里所使用的词汇“诸如”指词组“诸如但不限于”，且可与其互换使用。可能以许多方式来实现本公开的方法和装置。例如，可通过软件、硬件、固件或者软件、硬件、固件的任何组合来实现本公开的方法和装置。用于所述方法的步骤的上述顺序仅是为了进行说明，本公开的方法的步骤不限于以上具体描述的顺序，除非以其它方式特别说明。此外，在一些实施例中，还可将本公开实施为记录在记录介质中的程序，这些程序包括用于实现根据本公开的方法的机器可读指令。因而，本公开还覆盖存储用于执行根据本公开的方法的程序的记录介质。还需要指出的是，在本公开的装置、设备和方法中，各部件或各步骤是可以分解和/或重新组合的。这些分解和/或重新组合应视为本公开的等效方案。提供所公开的方面的以上描述以使本领域的任何技术人员能够做出或者使用本公开。对这些方面的各种修改对于本领域技术人员而言是非常显而易见的，并且在此定义的一般原理可以应用于其他方面而不脱离本公开的范围。因此，本公开不意图被限制到在此示出的方面，而是按照与在此公开的原理和新颖的特征一致的最宽范围。为了例示和描述的目的已经给出了以上描述。此外，此描述不意图将本公开的实施例限制到在此公开的形式。尽管以上已经讨论了多个示例方面和实施例，但是本领域技术人员将认识到其某些变型、修改、改变、添加和子组合。
