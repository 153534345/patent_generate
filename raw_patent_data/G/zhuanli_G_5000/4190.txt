标题title
存储设备管理方法、装置、电子设备和存储介质
摘要abst
本申请公开了一种存储设备管理方法、装置、电子设备和存储介质；本申请可以当识别到目标存储设备时，创建目标存储设备对应的磁盘对象，执行磁盘对象以读取目标存储设备的分区对应的分区信息；基于分区信息，创建分区对应的公共卷对象，执行公共卷对象以对对应的分区进行挂载，得到公共挂载路径；确定目标存储设备是否为目标类型的存储设备；当目标存储设备为目标类型的存储设备时，基于公共挂载路径创建模拟卷对象，执行模拟卷对象以对对应的分区进行挂载，以便将分区模拟为内置存储。在本申请中，可以将目标类型的存储设备模拟为内置存储，从而扩展内置存储的容量。由此，本方案可以提升电子设备的内置存储的容量。
权利要求书clms
1.一种存储设备管理方法，其特征在于，所述存储设备管理方法包括：当识别到目标存储设备时，创建所述目标存储设备对应的磁盘对象，执行所述磁盘对象以读取所述目标存储设备的分区对应的分区信息；基于所述分区信息，创建所述分区对应的公共卷对象，执行所述公共卷对象以对对应的分区进行挂载，得到公共挂载路径；确定所述目标存储设备是否为目标类型的存储设备；当所述目标存储设备为目标类型的存储设备时，基于所述公共挂载路径创建模拟卷模拟卷对象，执行所述模拟卷对象以对对应的分区进行挂载，以便将所述分区模拟为内置存储。2.如权利要求1所述的存储设备管理方法，其特征在于，所述方法还包括：当无法识别所述目标存储设备或所述分区挂载异常时，获取格式化指令；若所述格式化指令中包括预设格式化参数，获取所述目标存储设备对应的磁盘对象；当获取到所述目标存储设备对应的磁盘对象，采用预设指令，将所述目标存储设备的文件系统格式化为预设类型的文件系统。3.如权利要求2所述的存储设备管理方法，其特征在于，所述当获取到所述目标存储设备对应的磁盘对象之后，还包括：确定所述目标存储设备的分区是否挂载；当所述分区已挂载，卸载所述目标存储设备的所有分区。4.如权利要求2所述的存储设备管理方法，其特征在于，所述获取格式化指令，包括：输出无法识别所述目标存储设备的信息或所述分区挂载异常的信息；获取所述针对所述无法识别所述目标存储设备的信息或所述分区挂载异常的信息的反馈信息；当所述反馈信息指示格式化所述目标存储设备时，获取格式化指令。5.如权利要求2所述的存储设备管理方法，其特征在于，所述无法识别所述目标存储设备可以包括以下至少一项：执行磁盘对象无法读取所述目标存储设备的分区对应的分区信息、无法识别所述目标存储设备的文件系统、检测不到所述目标存储设备、无法读取所述目标存储设备的硬件信息。6.如权利要求1所述的存储设备管理方法，其特征在于，所述执行所述模拟卷对象以对对应的分区进行挂载之前，还包括：返回所述公共卷对象对应的分区挂载失败的信息。7.如权利要求1所述的存储设备管理方法，其特征在于，所述方法还包括：当所述目标存储设备断电时，获取移除指令；当获取到所述移除指令时，获取所述目标存储设备对应的磁盘对象；当获取到所述目标存储设备对应的磁盘对象，执行磁盘对象以调用所述公共卷对象中的卸载函数，来销毁所述分区对应的公共卷对象；当所有所述分区对应的所述公共卷对象销毁完成后，销毁所述目标存储设备对应的磁盘对象。8.如权利要求7所述的存储设备管理方法，其特征在于，所述销毁所述公共卷对象之前，还包括：确定所述公共卷对象对应的分区是否被模拟为内置存储；当所述分区被模拟为内置存储，调用所述分区对应的模拟卷对象中的卸载函数以销毁所述模拟卷对象，并卸载对应的分区和销毁所述分区挂载时的挂载点。9.如权利要求1所述的存储设备管理方法，其特征在于，所述确定所述目标存储设备是否为目标类型的存储设备，包括：检测所述目标存储设备的端口路径与预设端口路径是否相同；获取所述目标存储设备的文件系统的类型；当所述目标存储设备的端口路径与预设端口路径相同，所述目标存储设备的文件系统的类型为预设类型时，确定所述目标存储设备为目标类型的存储设备，否则不为目标类型的存储设备。10.如权利要求1所述的存储设备管理方法，其特征在于，所述当识别到目标存储设备时，创建所述目标存储设备对应的磁盘对象之前，还包括：屏蔽卷守护进程中基于/data/media创建原模拟卷对象的步骤；或，所述基于所述公共挂载路径创建模拟卷对象之前，还包括：销毁原模拟卷对象，所述原模拟卷对象是基于/data/media创建的。11.一种存储设备管理装置，其特征在于，包括：创建单元，用于当识别到目标存储设备时，创建所述目标存储设备对应的磁盘对象，执行所述磁盘对象以读取所述目标存储设备的分区对应的分区信息；公共挂载单元，用于基于所述分区信息，创建所述分区对应的公共卷对象，执行所述公共卷对象以对对应的分区进行挂载，得到公共挂载路径；确定单元，用于确定所述目标存储设备是否为目标类型的存储设备；模拟挂载单元，用于当所述目标存储设备为目标类型的存储设备时，基于所述公共挂载路径创建模拟卷对象，执行所述模拟卷对象以对对应的分区进行挂载，以便将所述分区模拟为内置存储。12.一种电子设备，其特征在于，包括处理器和存储器，所述存储器存储有多条指令；所述处理器从所述存储器中加载指令，以执行如权利要求1～10任一项所述的存储设备管理方法中的步骤。13.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有多条指令，所述指令适于处理器进行加载，以执行权利要求1～10任一项所述的存储设备管理方法中的步骤。
说明书desc
技术领域本申请涉及计算机技术领域，具体涉及一种存储设备管理方法、装置、电子设备和存储介质。背景技术随着互联网技术的快速发展，终端设备需要缓存的数据量越来越大，特别是用户对高清视频的观看、下载等需求，使得对系统内置存储的存储容量的需求日益增大。目前内置存储一般使用emmc，可扩展的容量非常有限。发明内容本申请提供一种存储设备管理方法、装置、电子设备和存储介质，可以提升电子设备的内置存储的容量。本申请提供一种存储设备管理方法，包括：当识别到目标存储设备时，创建目标存储设备对应的磁盘对象，执行磁盘对象以读取目标存储设备的分区对应的分区信息；基于分区信息，创建分区对应的公共卷对象，执行公共卷对象以对对应的分区进行挂载，得到公共挂载路径；确定目标存储设备是否为目标类型的存储设备；当目标存储设备为目标类型的存储设备时，基于公共挂载路径创建模拟卷对象，执行模拟卷对象以对对应的分区进行挂载，以便将分区模拟为内置存储。本申请还提供一种存储设备管理装置，包括：创建单元，用于当识别到目标存储设备时，创建目标存储设备对应的磁盘对象，执行磁盘对象以读取目标存储设备的分区对应的分区信息；公共挂载单元，用于基于分区信息，创建分区对应的公共卷对象，执行公共卷对象以对对应的分区进行挂载，得到公共挂载路径；确定单元，用于确定目标存储设备是否为目标类型的存储设备；模拟挂载单元，用于当目标存储设备为目标类型的存储设备时，基于公共挂载路径创建模拟卷对象，执行模拟卷对象以对对应的分区进行挂载，以便将分区模拟为内置存储。在一些实施例中，存储设备管理装置还用于：当无法识别目标存储设备或分区挂载异常时，获取格式化指令；若格式化指令中包括预设格式化参数，获取目标存储设备对应的磁盘对象；当获取到目标存储设备对应的磁盘对象，采用预设指令，将目标存储设备的文件系统格式化为预设类型的文件系统。在一些实施例中，存储设备管理装置还用于：确定目标存储设备的分区是否挂载；当分区已挂载，卸载目标存储设备的所有分区。在一些实施例中，存储设备管理装置还用于：输出无法识别目标存储设备的信息或分区挂载异常的信息；获取针对无法识别目标存储设备的信息或分区挂载异常的信息的反馈信息；当反馈信息指示格式化目标存储设备时，获取格式化指令。在一些实施例中，无法识别目标存储设备可以包括以下至少一项：执行磁盘对象无法读取目标存储设备的分区对应的分区信息、无法识别目标存储设备的文件系统、检测不到目标存储设备、无法读取目标存储设备的硬件信息。在一些实施例中，存储设备管理装置还用于：返回公共卷对象对应的分区挂载失败的信息。在一些实施例中，存储设备管理装置还用于：当目标存储设备断电时，获取移除指令；当获取到移除指令时，获取目标存储设备对应的磁盘对象；当获取到目标存储设备对应的磁盘对象，执行磁盘对象以调用公共卷对象中的卸载函数，来销毁公共卷对象；当所有公共卷对象销毁完成后，销毁目标存储设备对应的磁盘对象。在一些实施例中，存储设备管理装置还用于：确定公共卷对象对应的分区是否被模拟为内置存储；当分区被模拟为内置存储，调用分区对应的模拟卷对象中的卸载函数以销毁模拟卷对象，并卸载对应的分区和销毁分区挂载时的挂载点。在一些实施例中，确定单元具体用于：检测目标存储设备的端口路径与预设端口路径是否相同；获取目标存储设备的文件系统的类型当目标存储设备的端口路径与预设端口路径相同，目标存储设备的文件系统的类型为预设类型时，确定目标存储设备为目标类型的存储设备，否则不为目标类型的存储设备。在一些实施例中，当识别到目标存储设备时，创建目标存储设备对应的磁盘对象之前，存储设备管理装置还用于：屏蔽卷守护进程中基于/data/media创建原模拟卷对象的步骤；或，基于公共挂载路径创建模拟卷对象之前，还包括：销毁原模拟卷对象，原模拟卷对象是基于/data/media创建的。本申请还提供一种电子设备，包括存储器和处理器，存储器存储有多条指令；所述处理器从所述存储器中加载指令，以执行本申请所提供的任一种存储设备管理方法中的步骤。本申请还提供一种计算机可读存储介质，所述计算机可读存储介质存储有多条指令，所述指令适于处理器进行加载，以执行本申请所提供的任一种存储设备管理方法中的步骤。在本申请中，当识别到目标存储设备时，可以将基于该设备的分区信息创建公共卷对象，将公共卷对象对应的分区挂载后，得到公共挂载路径；然后基于公共挂载路径创建模拟卷对象，并对对应的分区进行挂载，可以将分区模拟为内置存储，从而扩展内置存储的容量；并且屏蔽了挂载成功的信息，可以让用户对扩展的内置存储无感，提高用户体验。由此，本方案可以提升电子设备的内置存储的容量。附图说明为了更清楚地说明本申请中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请提供的存储设备管理方法的流程示意图；图2是本申请提供的存储设备管理装置的一种结构示意图；图3是本申请提供的电子设备的结构示意图。具体实施方式下面将结合本申请中的附图，对本申请中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请提供一种存储设备管理方法、装置、电子设备和存储介质。其中，该存储设备管理装置具体可以集成在电子设备中，该电子设备可以为终端设备、服务器等设备。其中，终端设备可以为投影仪、智能电视、激光电视、手机、平板电脑、智能蓝牙设备、笔记本电脑、台式电脑等设备；服务器可以是单一服务器，也可以是由多个服务器组成的服务器集群。在一些实施例中，服务器也可以以终端设备的形式来实现。在一些实施例中，该存储设备管理装置还可以集成在投影仪中，可以在投影仪中内置一个目标存储设备，当投影仪开机时，可以执行本申请中的存储设备管理方法。其中，投影仪中可以搭载安卓Android系统，Android系统是基于嵌入式Linux系统的，Linux系统中可以包括Linux内核Uevent空间和用户空间。该投影仪可以当识别到目标存储设备时，创建目标存储设备对应的磁盘Disk对象，执行磁盘对象以读取目标存储设备的分区对应的分区信息；基于分区信息，创建分区对应的公共卷对象，执行公共卷PublicVolume对象以对对应的分区进行挂载，得到公共挂载路径；确定目标存储设备是否为目标类型的存储设备；当目标存储设备为目标类型的存储设备时，基于公共挂载路径创建模拟卷EmulatedVolume对象，执行模拟卷对象以对对应的分区进行挂载，以便将分区模拟为内置存储。在本实施例中，当识别到目标存储设备时，可以将基于该设备的分区信息创建公共卷对象，将公共卷对象对应的分区挂载后，得到公共挂载路径；然后基于公共挂载路径创建模拟卷对象，并对对应的分区进行挂载，可以将分区模拟为内置存储，从而扩展内置存储的容量；并且屏蔽了挂载成功的信息，可以让用户对扩展的内置存储无感，提高用户体验。由此，本方案可以提升电子设备的内置存储的容量。以下分别进行详细说明。需说明的是，以下实施例的序号不作为对实施例优选顺序的限定。在本实施例中，提供了一种存储设备管理方法，如图1所示，该存储设备管理方法的具体流程可以如下：110、当识别到目标存储设备时，创建目标存储设备对应的磁盘对象，执行磁盘对象以读取目标存储设备的分区对应的分区信息。其中，目标存储设备可以是硬盘等。一个磁盘对象与一个存储设备对应，磁盘对象中可以存储存储设备的各种信息。在一些实施例中，Linux内核空间识别到目标存储设备后，发送Uevent信息到用户空间；用户空间中卷守护进程vold的NetlinkManager收到Uevent信息后，创建目标存储设备对应的磁盘对象；执行磁盘对象以读取目标存储设备的分区对应的分区信息。在一些实施例中，当识别到目标存储设备时，创建目标存储设备对应的磁盘对象之前，可以屏蔽卷守护进程vold中基于/data/media创建模拟卷对象的步骤。120、基于分区信息，创建分区对应的公共卷对象，执行公共卷对象以对对应的分区进行挂载，得到公共挂载路径。其中，公共卷对象可以存储分区对应的文件系统的信息、目标存储设备对应的USB驱动的信息、分区在内核空间中文件路径、挂载后电子设备中的应用程序可以读写文件的路径等。在一些实施例中，磁盘对象基于分区信息，创建分区对应的公共卷对象，并通过VoldNativeService发送创建信息到StorageManagerService，StorageManagerService收到创建信息之后，发送挂载指令到vold，vold调用公共卷对象对对应的分区进行挂载，得到公共挂载路径。可选地，当公共卷对象对应的分区挂载失败时，可以向用户空间返回分区挂载异常的信息，以便将目标存储设备的状态展示给用户，用户可以根据分区挂载异常的信息，确定是否对目标存储设备进行格式化。130、确定目标存储设备是否为目标类型的存储设备。其中，目标类型可以是自定义配置的类型。可以在vold调用公共卷对象对对应的分区进行挂载的过程中，去确定目标存储设备是否为目标类型的存储设备。可选地，目标类型的存储设备可以只有一个分区。在一些实施例中，确定目标存储设备是否为目标类型的存储设备，可以包括但不限于：1)检测目标存储设备的端口路径与预设端口路径是否相同。其中，端口路径是指目标存储设备插入投影仪的端口，例如可以是USB端口。预设端口路径可以是指内置存储设备在投影仪中时的端口路径。2)获取目标存储设备的文件系统的类型。具体地，Vold可以通过blkid去获取当前正在挂载的分区的文件系统的类型。3)当目标存储设备的端口路径与预设端口路径相同，目标存储设备的文件系统的类型为预设类型时，确定目标存储设备为目标类型的存储设备，否则不为目标类型的存储设备。因此，采用端口路径和文件系统的类型的方式来判断目标存储设备是否需要被模拟为内置存储，可以避免其他外接存储设备被误模拟为内置存储。140、当目标存储设备为目标类型的存储设备时，基于公共挂载路径创建模拟卷对象，执行模拟卷对象以对对应的分区进行挂载，以便将分区模拟为内置存储。在一些实施例中，模拟卷对象创建后，通过VoldNativeService发送创建信息到StorageManagerService，StorageManagerService收到创建信息之后，发送挂载指令到vold，vold调用模拟卷对象，以对对应的分区进行挂载；模拟卷对象可以将挂载路径反馈到StorageManagerService。可选地，当模拟卷对象对应的分区挂载失败时，可以向用户空间返回挂载失败的信息，以便将目标存储设备的状态展示给用户。在一些实施例中，还可以返回公共卷对象对应的分区挂载失败的信息；即对于需要模拟为内置存储的存储设备，屏蔽了挂载成功的信息，返回挂载失败的信息至StorageManagerService。因此，屏蔽了模拟为内置存储的存储设备的挂载成功的信息，用户进入文件管理器后就不会看到这个存储设备，可以让用户对扩展的内置存储无感，也不会对该存储设备产生误操作，从而提高了用户体验。在一些实施例中，在基于公共挂载路径创建模拟卷对象之前，还可以销毁原模拟卷对象，原模拟卷对象是基于/data/media创建的。可选地，当目标存储设备不为目标类型的存储设备时，可以按照Linux系统原有的流程继续执行并返回实际挂载结果。在一些实施例中，当目标存储设备出现文件系统损坏或者内部器件异常而无法识别时，需要对目标存储设备进行修复。修复的具体实施方式可以包括但不限于：1)当无法识别目标存储设备或分区挂载异常时，获取格式化指令。其中，挂载异常可以为挂载失败或挂载为只读。如模拟卷对象和/或公共卷对象挂载异常。无法识别目标存储设备可以包括以下至少一项：执行磁盘对象无法读取目标存储设备的分区对应的分区信息、无法识别目标存储设备的文件系统、检测不到目标存储设备、无法读取目标存储设备的硬件信息。在一些实施例中，当无法识别目标存储设备或分区挂载异常时，可以输出无法识别目标存储设备的信息或分区挂载异常的信息；获取针对无法识别目标存储设备的信息或分区挂载异常的信息的反馈信息；当反馈信息指示格式化目标存储设备时，获取格式化指令。因此，可以由用户主动触发格式化，而不会在用户不知情的情况下主动格式化导致损坏数据。2)若格式化指令中包括预设格式化参数，获取目标存储设备对应的磁盘对象。其中，预设格式化参数可以根据实际应用情况自定义设置，如可以设置为emulated。通过预设格式化参数，可以避免找不到与之对应的vold，无法实现目标存储设备的修复。在一些实施例中，可以遍历投影仪中所有设备对应的磁盘对象，从而获取目标存储设备对应的磁盘对象。在一些实施例中，当获取到所述目标存储设备对应的磁盘对象之后，还可以：确定目标存储设备的分区是否挂载；当分区已挂载，卸载目标存储设备的所有分区。在一些实施例中，当无法获取到目标存储设备对应的磁盘对象，通过通用型输入输出给目标存储设备先断电再供电，以便对目标存储设备进行复位后再次识别。3)当获取到目标存储设备对应的磁盘对象，采用预设指令，将目标存储设备的文件系统格式化为预设类型的文件系统。其中，预设指令和预设类型可以根据实际应用情况自定义配置，例如预设指令可以是mke2fs命令，预设类型可以是ext4文件系统格式以及后续发展的各种版本的文件系统格式。例如，可以找到block目录下的磁盘对象对应的文件节点，使用mke2fs命令将目标存储设备的文件系统格式化为ext4文件系统格式的文件系统。在一些实施例中，当目标存储设备因为投影仪关机等原因断电时需要卸载，卸载的方法可以包括：1)当目标存储设备断电时，获取移除指令；例如，内核空间的驱动发送移除指令uevent到用户空间的Vold。2)当获取到移除指令时，获取目标存储设备对应的磁盘对象；例如，Vold的NetlinkManager收到移除指令之后，根据目标存储设备的硬件信息去获取与之对应的磁盘对象。3)当获取到目标存储设备对应的磁盘对象，执行磁盘对象以调用公共卷对象中的卸载函数，来销毁分区对应的公共卷对象。在一些实施例中，销毁公共卷对象之前，还可以确定公共卷对象对应的分区是否被模拟为内置存储；例如，当目标存储设备为目标类型的存储设备，且该存储设备仅有一个分区，则可以认为公共卷对象对应的分区是否被模拟为内置存储。当分区被模拟为内置存储，调用分区对应的模拟卷对象中的卸载函数以销毁模拟卷对象，并卸载对应的分区和销毁分区挂载时的挂载点。4)当所有分区对应的公共卷对象销毁完成后，销毁目标存储设备对应的磁盘对象。由上可知，本申请可以当识别到目标存储设备时，可以将基于该设备的分区信息创建公共卷对象，将公共卷对象对应的分区挂载后，得到公共挂载路径；然后基于公共挂载路径创建EmulatedVolume对象，并对对应的分区进行挂载，可以将分区模拟为内置存储，从而扩展内置存储的容量；并且屏蔽了挂载成功的信息，可以让用户对扩展的内置存储无感，提高用户体验。由此，本方案可以提升电子设备的内置存储的容量。为了更好地实施以上方法，本申请还提供一种存储设备管理装置，该存储设备管理装置具体可以集成在电子设备中，比如，在本实施例中，将以存储设备管理装置具体集成在投影仪中为例，对本申请的方法进行详细说明。例如，如图2所示，该存储设备管理装置可以包括创建单元201、公共挂载单元202、确定单元203以及模拟挂载单元204，如下：创建单元201，用于当识别到目标存储设备时，创建目标存储设备对应的磁盘对象，执行磁盘对象以读取目标存储设备的分区对应的分区信息；公共挂载单元202，用于基于分区信息，创建分区对应的公共卷对象，执行公共卷对象以对对应的分区进行挂载，得到公共挂载路径；确定单元203，用于确定目标存储设备是否为目标类型的存储设备；模拟挂载单元204，用于当目标存储设备为目标类型的存储设备时，基于公共挂载路径创建模拟卷对象，执行模拟卷对象以对对应的分区进行挂载，以便将分区模拟为内置存储。在一些实施例中，存储设备管理装置还用于：当无法识别目标存储设备或分区挂载异常时，获取格式化指令；若格式化指令中包括预设格式化参数，获取目标存储设备对应的磁盘对象；当获取到目标存储设备对应的磁盘对象，采用预设指令，将目标存储设备的文件系统格式化为预设类型的文件系统。在一些实施例中，存储设备管理装置还用于：确定目标存储设备的分区是否挂载；当分区已挂载，卸载目标存储设备的所有分区。在一些实施例中，存储设备管理装置还用于：输出无法识别目标存储设备的信息或分区挂载异常的信息；获取针对无法识别目标存储设备的信息或分区挂载异常的信息的反馈信息；当反馈信息指示格式化目标存储设备时，获取格式化指令。在一些实施例中，无法识别目标存储设备可以包括以下至少一项：执行磁盘对象无法读取目标存储设备的分区对应的分区信息、无法识别目标存储设备的文件系统、检测不到目标存储设备、无法读取目标存储设备的硬件信息。在一些实施例中，存储设备管理装置还用于：返回公共卷对象对应的分区挂载失败的信息。在一些实施例中，存储设备管理装置还用于：当目标存储设备断电时，获取移除指令；当获取到移除指令时，获取目标存储设备对应的磁盘对象；当获取到目标存储设备对应的磁盘对象，执行磁盘对象以调用公共卷对象中的卸载函数，来销毁公共卷对象；当所有公共卷对象销毁完成后，销毁目标存储设备对应的磁盘对象。在一些实施例中，存储设备管理装置还用于：确定公共卷对象对应的分区是否被模拟为内置存储；当分区被模拟为内置存储，调用分区对应的模拟卷对象中的卸载函数以销毁模拟卷对象，并卸载对应的分区和销毁分区挂载时的挂载点。在一些实施例中，当识别到目标存储设备时，创建目标存储设备对应的磁盘对象之前，存储设备管理装置还用于：屏蔽卷守护进程中基于/data/media创建原模拟卷对象的步骤；或，基于公共挂载路径创建模拟卷对象之前，还包括：销毁原模拟卷对象，原模拟卷对象是基于/data/media创建的。具体实施时，以上各个单元可以作为独立的实体来实现，也可以进行任意组合，作为同一或若干个实体来实现，以上各个单元的具体实施可参见前面的方法实施例，在此不再赘述。由上可知，本实施例的存储设备管理装置可以当识别到目标存储设备时，可以将基于该设备的分区信息创建公共卷对象，将公共卷对象对应的分区挂载后，得到公共挂载路径；然后基于公共挂载路径创建EmulatedVolume对象，并对对应的分区进行挂载，可以将分区模拟为内置存储，从而扩展内置存储的容量；并且屏蔽了挂载成功的信息，可以让用户对扩展的内置存储无感，提高用户体验。由此，本方案可以提升电子设备的内置存储的容量。本申请还提供一种电子设备，在本实施例中，将以本实施例的电子设备是电子设备为例进行详细描述，比如，如图3所示，其示出了本申请所涉及的电子设备的结构示意图，具体来讲：该电子设备可以包括一个或者一个以上处理核心的处理器301、一个或一个以上计算机可读存储介质的存储器302、电源303、输入模块304以及通信模块305等部件。本领域技术人员可以理解，图3中示出的电子设备结构并不构成对电子设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。其中：处理器301是该电子设备的控制中心，利用各种接口和线路连接整个电子设备的各个部分，通过运行或执行存储在存储器302内的软件程序和/或模块，以及调用存储在存储器302内的数据，执行电子设备的各种功能和处理数据。在一些实施例中，处理器301可包括一个或多个处理核心；在一些实施例中，处理器301可集成应用处理器和调制解调处理器，其中，应用处理器主要处理操作系统、用户界面和应用程序等，调制解调处理器主要处理无线通信。可以理解的是，上述调制解调处理器也可以不集成到处理器301中。存储器302可用于存储软件程序以及模块，处理器301通过运行存储在存储器302的软件程序以及模块，从而执行各种功能应用以及数据处理。存储器302可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序等；存储数据区可存储根据电子设备的使用所创建的数据等。此外，存储器302可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他易失性固态存储器件。相应地，存储器302还可以包括存储器控制器，以提供处理器301对存储器302的访问。电子设备还包括给各个部件供电的电源303，在一些实施例中，电源303可以通过电源管理系统与处理器301逻辑相连，从而通过电源管理系统实现管理充电、放电、以及功耗管理等功能。电源303还可以包括一个或一个以上的直流或交流电源、再充电系统、电源故障检测电路、电源转换器或者逆变器、电源状态指示器等任意组件。该电子设备还可包括输入模块304，该输入模块304可用于接收输入的数字或字符信息，以及产生与用户设置以及功能控制有关的键盘、鼠标、操作杆、光学或者轨迹球信号输入。该电子设备还可包括通信模块305，在一些实施例中通信模块305可以包括无线模块，电子设备可以通过该通信模块305的无线模块进行短距离无线传输，从而为用户提供了无线的宽带互联网访问。比如，该通信模块305可以用于帮助用户收发电子邮件、浏览网页和访问流式媒体等。尽管未示出，电子设备还可以包括显示单元等，在此不再赘述。具体在本实施例中，电子设备中的处理器301会按照如下的指令，将一个或一个以上的应用程序的进程对应的可执行文件加载到存储器302中，并由处理器301来运行存储在存储器302中的应用程序，从而实现各种功能，如下：当识别到目标存储设备时，创建目标存储设备对应的磁盘对象，执行磁盘对象以读取目标存储设备的分区对应的分区信息；基于分区信息，创建分区对应的公共卷对象，执行公共卷对象以对对应的分区进行挂载，得到公共挂载路径；确定目标存储设备是否为目标类型的存储设备；当目标存储设备为目标类型的存储设备时，基于公共挂载路径创建模拟卷对象，执行模拟卷对象以对对应的分区进行挂载，以便将分区模拟为内置存储。以上各个操作的具体实施可参见前面的实施例，在此不再赘述。由上可知，电子设备可以当识别到目标存储设备时，可以将基于该设备的分区信息创建公共卷对象，将公共卷对象对应的分区挂载后，得到公共挂载路径；然后基于公共挂载路径创建EmulatedVolume对象，并对对应的分区进行挂载，可以将分区模拟为内置存储，从而扩展内置存储的容量；并且屏蔽了挂载成功的信息，可以让用户对扩展的内置存储无感，提高用户体验。由此，本方案可以提升电子设备的内置存储的容量。本领域普通技术人员可以理解，上述实施例的各种方法中的全部或部分步骤可以通过指令来完成，或通过指令控制相关的硬件来完成，该指令可以存储于一计算机可读存储介质中，并由处理器进行加载和执行。为此，本申请提供一种计算机可读存储介质，其中存储有多条指令，该指令能够被处理器进行加载，以执行本申请所提供的任一种存储设备管理方法中的步骤。例如，该指令可以执行如下步骤：当识别到目标存储设备时，创建目标存储设备对应的磁盘对象，执行磁盘对象以读取目标存储设备的分区对应的分区信息；基于分区信息，创建分区对应的公共卷对象，执行公共卷对象以对对应的分区进行挂载，得到公共挂载路径；确定目标存储设备是否为目标类型的存储设备；当目标存储设备为目标类型的存储设备时，基于公共挂载路径创建模拟卷对象，执行模拟卷对象以对对应的分区进行挂载，以便将分区模拟为内置存储。其中，该存储介质可以包括：只读存储器、随机存取记忆体、磁盘或光盘等。根据本申请的一个方面，提供了一种计算机程序产品或计算机程序，该计算机程序产品或计算机程序包括计算机指令，该计算机指令存储在计算机可读存储介质中。计算机设备的处理器从计算机可读存储介质读取该计算机指令，处理器执行该计算机指令，使得该计算机设备执行上述实施例中提供存储设备管理方法。由于该存储介质中所存储的指令，可以执行本申请所提供的任一种存储设备管理方法中的步骤，因此，可以实现本申请所提供的任一种存储设备管理方法所能实现的有益效果，详见前面的实施例，在此不再赘述。以上对本申请所提供的一种存储设备管理方法、装置、电子设备和计算机可读存储介质进行了详细介绍，本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请的方法及其核心思想；同时，对于本领域的技术人员，依据本申请的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本申请的限制。
