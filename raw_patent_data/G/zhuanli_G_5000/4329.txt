标题title
一种机床控制方法及系统
摘要abst
本申请涉及一种机床控制方法及系统，机床控制方法，包括：获取机床的刀具库中各刀具的长度信息；使用刀具库中各刀具对模型进行试加工；根据试加工的尺寸结果对刀具的长度信息进行修正。本申请的技术方案，在实际加工前使用刀具库中各刀具对模型进行试加工，能自动修正刀具的长度信息，降低了机床的加工误差，提高机床的加工精度。
权利要求书clms
1.一种机床控制方法，其特征在于，包括：获取机床的刀具库中各刀具的长度信息；使用所述刀具库中各刀具对模型进行试加工；根据所述试加工的尺寸结果对所述刀具的长度信息进行修正。2.根据权利要求1所述的机床控制方法，其特征在于，所述获取机床的刀具库中各刀具的长度信息之前，还包括：对所述机床进行热机处理。3.根据权利要求2所述的机床控制方法，其特征在于，所述对所述机床进行热机处理，包括：根据预设参数控制所述机床循环进行三轴联动，直至所述机床的参数达到预设状态。4.根据权利要求3所述的机床控制方法，其特征在于，所述预设参数包括所述机床在实际加工环境中的主轴转速、进给速度和三轴移动速度中的至少一项；所述预设状态包括所述机床的振荡量和/或温度处于预设范围。5.根据权利要求1所述的机床控制方法，其特征在于，所述获取机床的刀具库中各刀具的长度信息，包括：对所述刀具库中各刀具分别进行对刀处理，以获取各所述刀具的长度信息。6.根据权利要求5所述的机床控制方法，其特征在于，所述对所述刀具库中各刀具分别进行对刀处理，包括：控制所述机床的主轴以实际加工转速进行旋转后暂停；在所述主轴暂停预设时长后，对所述主轴上当前安装的刀具进行对刀处理，以获取所述刀具的长度信息；若还有未进行对刀处理的刀具，则换刀，并返回所述控制所述机床的主轴以实际加工转速进行旋转后暂停的步骤。7.根据权利要求1所述的机床控制方法，其特征在于，所述使用所述刀具库中各刀具对模型进行试加工，包括：提供一模型，并使所述模型的待加工侧朝向所述刀具；根据预设加工深度，依次控制所述刀具库内各刀具在所述模型的待加工侧进行试切削，以在所述模型的待加工侧形成与各刀具一一对应的凹槽。8.根据权利要求7所述的机床控制方法，其特征在于，所述根据所述试加工的尺寸结果对所述刀具的长度信息进行修正，包括：获取所述刀具库中的目标刀具在所述模型上试切削形成的凹槽的深度为参考深度；将所述刀具库中其他各刀具在所述模型试切削形成的凹槽的深度与所述参考深度进行比较，确定所述其他各刀具对应的刀长修正值；根据所述刀长修正值分别对与之对应的刀具的长度信息进行修正；或者，将所述刀具库中各刀具在所述模型试切削形成的凹槽的深度与所述预设加工深度进行比较，确定各所述刀具对应的刀长修正值；根据所述刀长修正值分别对与之对应的刀具的长度信息进行修正。9.根据权利要求8所述的机床控制方法，其特征在于，获取各所述凹槽的深度，包括：驱动红外线测量探头分别测量所述模型上经过试切削形成的各凹槽的深度。10.一种机床控制系统，其特征在于，所述机床控制系统包括：存储器、处理器，其中，所述存储器上存储有机床控制程序，所述机床控制程序被所述处理器执行时实现如权利要求1至9中任一项所述的机床控制方法的步骤。
说明书desc
技术领域本申请涉及数控机床技术领域，具体涉及一种机床控制方法及系统。背景技术数控机床是数字控制机床的简称，是一种装有程序控制系统的自动化机床。该控制系统能够逻辑地处理具有控制编码或其他符号指令规定的程序，并将其译码，用代码化的数字表示，通过信息载体输入数控装置。经运算处理由数控装置发出各种控制信号，控制机床的动作，按图纸要求的形状和尺寸，自动地将零件加工出来。数控机床的加工中心在加工零件时常常产生较大误差，特别是Z轴产生的误差最为明显，如机床本身重复定位误差、机床主轴误差、刀柄误差、对刀仪误差、刀具误差、甚至车间温度都会影响最终产品的加工精度。当精度要求上升到微米级时上述误差表现特别明显，如何解决Z方向的高精密加工一直是个难题。发明内容针对上述技术问题，本申请提供一种机床控制方法及系统，通过在实际加工前使用刀具库中各刀具对模型进行试加工，能自动修正刀具的长度信息，降低了机床的加工误差，提高机床的加工精度。为解决上述技术问题，本申请提供一种机床控制方法，包括：获取机床的刀具库中各刀具的长度信息；使用所述刀具库中各刀具对模型进行试加工；根据所述试加工的尺寸结果对所述刀具的长度信息进行修正。可选地，所述获取机床的刀具库中各刀具的长度信息之前，还包括：对所述机床进行热机处理。可选地，所述对所述机床进行热机处理，包括：根据预设参数控制所述机床循环进行三轴联动，直至所述机床的参数达到预设状态。可选地，所述预设参数包括所述机床在实际加工环境中的主轴转速、进给速度和三轴移动速度中的至少一项；所述预设状态包括所述机床的振荡量和/或温度处于预设范围。可选地，所述获取机床的刀具库中各刀具的长度信息，包括：对所述刀具库中各刀具分别进行对刀处理，以获取各所述刀具的长度信息。可选地，所述对所述刀具库中各刀具分别进行对刀处理，包括：控制所述机床的主轴以实际加工转速进行旋转后暂停；在所述主轴暂停预设时长后，对所述主轴上当前安装的刀具进行对刀处理，以获取所述刀具的长度信息；若还有未进行对刀处理的刀具，则换刀，并返回所述控制所述机床的主轴以实际加工转速进行旋转后暂停的步骤。可选地，所述使用所述刀具库中各刀具对模型进行试加工，包括：提供一模型，并使所述模型的待加工侧朝向所述刀具；根据预设加工深度，依次控制所述刀具库内各刀具在所述模型的待加工侧进行试切削，以在所述模型的待加工侧形成与各刀具一一对应的凹槽。可选地，所述根据所述试加工的尺寸结果对所述刀具的长度信息进行修正，包括：获取所述刀具库中的目标刀具在所述模型上试切削形成的凹槽的深度为参考深度；将所述刀具库中其他各刀具在所述模型试切削形成的凹槽的深度与所述参考深度进行比较，确定所述其他各刀具对应的刀长修正值；根据所述刀长修正值分别对与之对应的刀具的长度信息进行修正；或者，将所述刀具库中各刀具在所述模型试切削形成的凹槽的深度与所述预设加工深度进行比较，确定各所述刀具对应的刀长修正值；根据所述刀长修正值分别对与之对应的刀具的长度信息进行修正。可选地，获取各所述凹槽的深度，包括：驱动红外线测量探头分别测量所述模型上经过试切削形成的各凹槽的深度。本申请还提供一种机床控制系统，包括：存储器、处理器，其中，所述存储器上存储有机床控制程序，所述机床控制程序被所述处理器执行时实现如上所述的机床控制方法的步骤。本申请的机床控制方法，包括：获取机床的刀具库中各刀具的长度信息；使用刀具库中各刀具对模型进行试加工；根据试加工的尺寸结果对刀具的长度信息进行修正。本申请的技术方案，在实际加工前使用刀具库中各刀具对模型进行试加工，能自动修正刀具的长度信息，降低了机床的加工误差，提高机床的加工精度。上述说明仅是本发明技术方案的概述，为了能够更清楚了解本发明的技术手段，而可依照说明书的内容予以实施，并且为了让本发明的上述和其他目的、特征和优点能够更明显易懂，以下特举较佳实施例，并配合附图，详细说明。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本发明的实施例，并与说明书一起用于解释本发明的原理。为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，对于本领域普通技术人员而言，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是根据一实施例示出的一种机床控制方法的流程示意图。图2是根据一实施例示出的热机处理的流程示意图。图3是根据一实施例示出的热机处理过程中系统软件的界面示意图。图4是根据一实施例示出的对刀处理的流程示意图。图5是根据一实施例示出的对刀处理过程中系统软件的界面示意图。图6是根据一实施例示出的试加工处理的场景示意图。图7是根据一实施例示出的凹槽深度测量的场景示意图。图8是根据一实施例示出的刀具误差修正过程中系统软件的界面示意图。附图标记说明：130、第一参数；127、第二参数；128、第一参数列表；110、第二参数列表；111第三参数列表；129、第四参数列表；121、刀柄；122、刀具；123、试切削模型；124、凹槽；125、红外测头；126、1号标准刀具加工的试切削凹槽。具体实施方式以下由特定的具体实施例说明本申请的实施方式，熟悉此技术的人士可由本说明书所揭露的内容轻易地了解本申请的其他优点及功效。在下述描述中，参考附图，附图描述了本申请的若干实施例。应当理解，还可使用其他实施例，并且可以在不背离本申请的精神和范围的情况下进行机械组成、结构、电气以及操作上的改变。下面的详细描述不应该被认为是限制性的，这里使用的术语仅是为了描述特定实施例，而并非旨在限制本申请。虽然在一些实例中术语第一、第二等在本文中用来描述各种元件，但是这些元件不应当被这些术语限制。这些术语仅用来将一个元件与另一个元件进行区分。再者，如同在本文中所使用的，单数形式“一”、“一个”和“该”旨在也包括复数形式，除非上下文中有相反的指示。应当进一步理解，术语“包含”、“包括”表明存在所述的特征、步骤、操作、元件、组件、项目、种类、和/或组，但不排除一个或多个其他特征、步骤、操作、元件、组件、项目、种类、和/或组的存在、出现或添加。此处使用的术语“或”和“和/或”被解释为包括性的，或意味着任一个或任何组合。因此，“A、B或C”或者“A、B和/或C”意味着“以下任一个：A；B；C；A和B；A和C；B和C；A、B和C”。仅当元件、功能、步骤或操作的组合在某些方式下内在地互相排斥时，才会出现该定义的例外。图1是根据一实施例示出的一种机床控制方法的流程示意图。如图1所示，本申请实施例的机床控制方法，包括：步骤201：获取机床的刀具库中各刀具的长度信息；步骤202：使用刀具库中各刀具对模型进行试加工；步骤203：根据试加工的尺寸结果对刀具的长度信息进行修正。本实施例的机床，通过在正式加工零件前提前集中让所有刀具对模具进行试加工，将每把刀具的实际误差呈现在模型上。然后在模型上自动采集每把刀具的加工尺寸，依据加工尺寸确定误差，并将误差输入刀具表内对刀具的长度信息进行修正，能降低在Z轴的加工误差，提升机床的加工精度。可选地，获取机床的刀具库中各刀具的长度信息之前，还包括：对机床进行热机处理。可选地，对机床进行热机处理，包括：根据预设参数控制机床循环进行三轴联动，直至机床的参数达到预设状态。可选地，预设参数包括机床在实际加工环境中的主轴转速、进给速度和三轴移动速度中的至少一项；预设状态包括机床的振荡量和/或温度处于预设范围。为了保持机床的热稳定性，使机床精度不出现大的偏差，为Z方向精度误差修正打下基础，需要编写热机程序对机床进行热机处理。如图2所示，为了模拟机床的实际加工环境，本申请的热机处理包括：主轴调取刀具，并给定转速和切削速度，转速和切削速度均与机床的实际加工环境一致。然后启动主轴旋转并打开切削液。需要说明的是，切削液是一种用在金属切削、磨加工过程中，用来冷却和润滑刀具和加工件的工业用液体。接着，主轴回到最高点之后，在热机程序中确定循环起始的标记点。之后控制机床的X轴和Y轴在最大行程和最小行程之间来回移动，此步骤循环执行100次之后，热机程序结束。主轴回到最高点的安全位置。本实施例依据机床在实际加工时的进给速度实现机床的三轴联动，并循环移动直至机床的参数如振荡量和/或温度趋于稳定后才停止。常规热机只是简单的实行三轴运动，本申请通过模拟实际加工环境的参数进行热机，更有利于机床数据的稳定，降低机床加工时因机床环境参数引起的误差。如下代码提取自基于米克朗机床海德汉系统编写的热机处理程序。当然，本申请的机床控制方法和相关的编程方法不限于米克朗机床和海德汉系统，适用于所有数控加工中心系统。热机处理程序代码举例：0BEGIN PGM WARMUP MM1TOOL CALL 3 Z S10000 F30002M33M84M140 MB MAX5LBL 16L X-240 Y+600 Z-50 F AUTO M917L X-800 Y+48 Z-250 F AUTO M918CALL LBL 1 REP1009M140 MB MAX10 END PGM WARMUP MM需要说明的是，在上述热机处理程序代码中：程序段编号0表示热机程序开始；程序段编号1表示更换第3号刀具并定义转速为S10000、进给速度为F3000；程序段编号2表示控制主轴旋转；程序段编号3表示控制切削液；程序段编号4表示控制Z轴回到最高点；程序段编号5表示定义循环起始标记1；程序段编号6表示控制机床三轴联动向正方向移动；程序段编号7表示控制机床三轴向负方向移动；程序段编号8表示返回到标记1，并且循环100次，当温度数据区域稳定后中途可以自行停止；程序段编号9表示Z轴回到最高点；程序段编号10表示热机程序结束。实际操作时，车间保持恒温的条件下开启机床，等机床自检完毕后，调整热机程序中的主轴转速、进给速度、三轴移动距离等参数，使之与实际加工环境相匹配。然后启动热机程序，模拟实际加工环境直到机床的参数达到预设状态，预设状态包括机床的振荡量和/或温度处于预设范围，例如，预设范围可为图3中的第一参数130小于1G，且变动误差在+-0.2G以内，和/或第二参数127小于80℃，且变动误差+-3℃以内，使机床处于稳定状态。可选地，步骤201获取机床的刀具库中刀具的长度信息，包括：对刀具库中各刀具分别进行对刀处理，以获取各刀具的长度信息。可选地，对刀具库中各刀具分别进行对刀处理，包括：控制机床的主轴以实际加工转速进行旋转后暂停；在主轴暂停预设时长后，对主轴上当前安装的刀具进行对刀处理，以获取刀具的长度信息；若还有未进行对刀处理的刀具，则换刀，并返回控制机床的主轴以实际加工转速进行旋转后暂停的步骤。本实施例中，可通过编写对刀程序实现自动地将刀库内的刀具一次性对完，使各刀具在同等环境下产生的刀长参数相对精准。对刀是数控机床专业术语，是指利用对刀设备获取刀具长度数据并输入到机床刀具长度表内。如下代码提取自基于米克朗机床海德汉系统编写的连续对刀宏程序，能够将刀具长度信息一次性通过宏命名写入刀具表内。对刀程序代码举例：0BEGIN PGM Measure_L&amp;R MM1FN 0: Q1 =+12FN 0: Q2 =+393FN 1: Q3 =+Q2 + +14LBL 995TOOL CALL Q1 Z S300006CYCL DEF 9.0 DWELL TIME7CYCL DEF 9.1 DWELL 308TCH PROBE 583 TOOL SETTING LEN ~ Q350=+0;MEASURING TYPE ~ Q361=+3;NUMBER OF MEASURINGS~ Q362=+0.01 ;SCATTER TOLERANCE ~ Q359=+0;ADD. LENGTH CORRECT.9FN 1: Q1 =+Q1 + +110 FN 12: IF +Q1 LT +Q3 GOTO LBL 9911 END PGM Measure_L&amp;R MM需要说明的是，在上述对刀程序代码中：程序段编号0表示对刀程序开始；程序段编号1表示定义变量Q1并赋值1，即从1号标准刀具开始对刀；程序段编号2表示定义参数Q2并赋值39；程序段编号3表示定义变量Q3，Q3为所有刀具的数量，即Q2+1=40把刀；程序段编号4表示循环标记99；程序段编号5表示从刀库调取Q1号刀具，并定义转速为实际加工转速；程序段编号6表示暂停循环；程序段编号7表示对刀前暂停30秒等待主轴动态平衡；程序段编号8表示运行对刀子程序：驱动机床到自带的对刀仪处采集长度数据并输入到机床刀具表内；程序段编号9表示程序每循环一次，变量Q1加1，刀具号累加；程序段编号10表示当变量Q1小于Q3时跳转到循环标记LBL99处，总共循环40次可以一次性对完40把刀具；程序段编号11表示对刀程序结束。请一并结合图4，对刀程序中，首先分别定义变量Q1、Q2和Q3。Q1赋值1作为刀具号的变量，Q2赋值39作为最后需要测量的刀具号，Q3赋值为Q2+1，作为循环判断语句的条件。然后确定循环起始的标记点，暂停30秒等待主轴旋转达到动态平衡之后，通过对刀仪获取刀具的长度数据并输入到机床。接着对Q1加1，换刀以继续获取下一把刀具的长度数据。换刀过程就是将机床主轴上的刀具放入刀库相应位置然后再从刀库抓取下一把需要的刀具。若当前刀具号Q1小于Q3，则循环对刀，直至当前刀具号Q1大于或等于Q3，结束对刀程序。本申请中的对刀程序在每把刀具对刀前先旋转主轴并且暂停30秒，让主轴达到动态平衡后再对刀，打破了常规直接对刀产生的不稳定性，让对刀误差降到最低。实际操作时，在充分热机的条件下准备对刀，运行机床内存储的对刀宏程序“BEGIN PGM Measure_L&amp;R MM”，每把刀具检测前在主轴旋转的情况下暂停30秒，等待主轴动态平衡后再检测刀长。程序运行过程中会逐一将所需刀具检测完毕，并把刀具长度写入图5中的第一参数列表128的对应位置完成对刀过程。可选地，步骤202使用刀具库中各刀具对模型进行试加工，包括：提供一模型，并使模型的待加工侧朝向刀具；根据预设加工深度，依次控制刀具库内各刀具在模型的待加工侧进行试切削，以在模型的待加工侧形成与各刀具一一对应的凹槽。本实施例中，由于对刀仪、刀柄、机床等本身的误差会使加工零件尺寸产生误差，为了提高加工精度，常规试切削直接在零件上加工，常常会造成尺寸超差且浪费大量时间。为此，本申请实施例设计了一种试切削模型，在加工零件前让机床Z轴在模型上进行试切削，让加工误差提前表现出来，并能够测量。在对刀过程完成后进行试切削，让每把刀具实际加工情况反映出来。如图6所示，提供一试切削模型123，可以是长方形的铜块，其大小可以根据实际需要调整。然后利用常规数控编程软件如UG编写加工程序，每把刀具逐一加工一个凹槽124，为下一步检测做好准备。具体地，在刀柄121内装入刀具122，根据预设加工深度控制刀具库内各刀具122依次在试切削模型123的待加工侧进行试切削，以在试切削模型123的待加工侧形成与各刀具122一一对应的凹槽124。图6中示出了40个高度一致的凹槽124，分明与刀具库中40把刀具相对应，凹槽124的实际数量可以根据刀具的实际数量进行增减。理论上加工出现的40个凹槽是一样高的，但实际受各种因素的影响会产生误差，这个误差也正是需要修正的Z轴误差。可选地，步骤203根据试加工的尺寸结果对刀具的长度信息进行修正，包括：获取刀具库中的目标刀具在模型上试切削形成的凹槽的深度为参考深度；将刀具库中其他各刀具在模型试切削形成的凹槽的深度与参考深度进行比较，确定其他各刀具对应的刀长修正值；根据刀长修正值分别对与之对应的刀具的长度信息进行修正；或者，将刀具库中各刀具在模型试切削形成的凹槽的深度与预设加工深度进行比较，确定各刀具对应的刀长修正值；根据刀长修正值分别对与之对应的刀具的长度信息进行修正。可选地，获取各凹槽的深度，包括：驱动红外线测量探头分别测量模型上经过试切削形成的各凹槽的深度。本实施例中，通过自动的数据采集和修正程序，实现刀具的误差自动采集并修正，实现刀具误差的提前预判、提前修正。如图7所示，驱动红外测头125检测每把刀具试切削的凹槽124，然后采集凹槽124的深度作为每把刀具的实际加工尺寸数据，将采集的数据与1号标准刀具加工的试切削凹槽126的深度进行比较，计算得出其他每把刀具的误差数据。接着通过程序宏命令将误差值写入机床的刀具长度表内进行补偿修正，实现了在加工零件前就把刀具实际加工的误差进行了修正，达到Z轴精度自动修正的目的。如下代码提取自基于米克朗机床海德汉系统编写的自动检测和自动修正的宏程序代码：0BEGIN PGM TOOL-OFFEST MM1TOOL CALL 41 Z S502LBL 13FN 0: Q1 =-354FN 0: Q2 =+205FN 0: Q3 =+16LBL 27FN 0: Q1 =-358LBL 39TCH PROBE 417 DATUM IN TS AXIS ~ Q263=+Q1 ;1ST POINT 1ST AXIS ~ Q264=+Q2 ;1ST POINT 2ND AXIS ~ Q294=+0;1ST POINT 3RD AXIS ~ Q320=+0;SET-UP CLEARANCE ~ Q260=+30 ;CLEARANCE HEIGHT ~ Q305=+Q3 ;NUMBER IN TABLE ~ Q333=+0;DATUM ~ Q303=+1;MEAS. VALUE TRANSFER10 FN 1: Q3 =+Q3 + +111 FN 1: Q1 =+Q1 + +1012 CALL LBL 3 REP713 FN 2: Q2 =+Q2 - +1014 CALL LBL 2 REP415 FN 18: SYSREAD Q1 = ID503 NR1 IDX316 FN 0: Q11 =+2 ;TOOL.NO.17 LBL 1118 FN 18: SYSREAD Q2 = ID503 NRQ11 IDX319 FN 2: Q3 =+Q2 - +Q120 FN 17: SYSWRITE ID 50 NR4 IDXQ11 =+Q321 FN 1: Q11 =+Q11 + +122 CALL LBL 11 REP3823 END PGM TOOL-OFFEST MM需要说明的是，在上述自动检测和自动修正的宏程序代码中：程序编号0表示启动刀具修正程序；程序编号1表示调取第41号红外测头125准备检查并采集数据；程序编号2表示循环标记1；程序编号3表示定义变量Q1为1号标准刀具的试切削凹槽126距离中心的X偏置，便于测头找位置；程序编号4表示定义变量Q2为1号标准刀具的试切削凹槽126距离中心的Y方向的偏置；程序编号5表示定义变量Q3为1号标准刀具的检测数据存储在1号参数内；程序编号6表示循环标记2；程序编号7表示定义Q1为红外测头125的第一个检测的起始位置；程序编号8表示循环标记3；程序编号9表示运行红外测头125程序采集凹槽数据，并把凹槽数据输入储存表内；程序编号10表示参数计算，目的使每把刀具的加工数据放在相应的参数内；程序编号11表示参数计算，使红外测头125自动横向偏移10毫米检测下一个检测点；程序编号12表示程序横向再循环7次，将试切削模型123上的第一排的8个凹槽124检测完；程序编号13表示参数计算，目的使红外测头125纵向偏移10毫米测量第二排的8个凹槽124；程序编号14表示程序再纵向循环移动4次完成5列8排共40个凹槽124的检测；程序编号15表示读取1号标准刀具加工的尺寸数据；程序编号16表示定义参数Q11为第2号刀具；程序编号17表示循环标记11；程序编号18表示读取第2号刀具加工的尺寸数据；程序编号19表示先用第2号刀具与1号标准刀具比较加工后尺寸差值；程序编号20表示将误差值通过写入命名输入第2号刀具表内进行修正；程序编号21表示参数计算，进行下一把刀具的误差计算；程序编号22表示固定循环38次，将剩余的38把刀具依次进行计算和写入相应刀具表内进行修正；程序编号23表示程序结束。需要说明的是，本实施例首先调取机床内的红外测头125，对每把刀具试加工的凹槽124逐一进行测量，然后将测量数据逐一存入图8的第二参数列表110内，第三参数列表111的数字对应刀具编号。将1号标准刀具加工的试切削凹槽126数据作为基数，后面其他刀具加工的凹槽124数据逐一减去1号标准刀具的数据，然后将所得的误差值对应写入图5的刀具表中，具体写入图5所示刀具表的第四参数列表129中。具体计算过程以图8中的第2号刀具为例：图8的第二参数列表110所对应的二号刀具加工数据为-78.818，减去1号标准刀具的数据-78.8133等于-0.0047，然后将-0.0047写入图5的刀具表内，具体写入图5中第四参数列表129中的第二行内。或者，可以将刀具库中各刀具在模型试切削形成的凹槽124的深度与预设加工深度进行比较，例如进行相减，得到各刀具长度补偿的修正值。此过程完全由宏程序内的命令采集数据和输入相应表格参数内，无需人为操作。此时便完成了Z轴加工精度误差的自动修正，解决了以往根据加工零件的优劣程度事后才能修正的问题，同时解决了人为手动输入修正值带来的不确定性问题，提高了产品一次合格率和总体良率，实现了自动修正误差。本申请实施例的机床控制方法，包括：获取机床的刀具库中各刀具的长度信息；使用刀具库中各刀具对模型进行试加工；根据试加工的尺寸结果对刀具的长度信息进行修正。本申请通过对机床的刀具试加工处理能自动修正刀具的长度信息，降低了机床的加工误差，提高了机床的加工精度。本申请实施例还提供一种机床控制系统，机床控制系统包括：存储器、处理器，其中，存储器上存储有机床控制程序，机床控制程序被处理器执行时实现如上所述的机床控制方法的步骤。上述所有实施例，仅为本申请的具体实施方式，用以说明本申请的技术方案，而非对其进行限制，本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员对前述实施例所记载的技术方案进行同等变形或替换都包含在本申请权利要求所限定的范围内。
