标题title
阀门状态监测方法、装置及介质
摘要abst
本发明公开了一种阀门状态监测方法、装置及介质。所述方法包括：创建缓冲区并进行参数初始化，缓冲区包括两个队列；获取电磁脉冲阀的声波信号，将相邻声波信号差存储于第一队列；累加第一队列全部数值作为单次能量累加值，将每轮喷吹最大能量累加值存储于第二队列；每轮喷吹完成，进行第二队列排序，逐级替换最低数值；基于第二队列中间区域数值得到有效喷吹能量值；当单次能量累加值大于有效喷吹能量值时，判定阀门打开了，否则判定阀门关闭。本发明通过对电磁脉冲阀附近声波信号进行分析，判断电磁脉冲阀的阀门状态，无需更换现有的阀门，在实现智能化监测的同时，避免了大规模改造，节省了阀门更换的时间和成本，监测结果准确可靠。
权利要求书clms
1.一种阀门状态监测方法，用于对袋式除尘器电磁脉冲阀的阀门状态进行监测，其特征在于，所述电磁脉冲阀一侧设置声波信号采集装置，用于采集电磁脉冲阀的声波信号；所述方法包括：缓冲区创建及初始化步骤：创建存储用的缓冲区，并进行参数初始化；所述缓冲区包括用于存储相邻采集信号差的第一队列和用于存储本轮喷吹最大能量累加值的第二队列；声波信号获取及判定步骤：获取所述电磁脉冲阀的声波信号，将相邻声波信号差存储于第一队列；累加第一队列的全部数值作为单次能量累加值，并将每轮喷吹的最大能量累加值存储于第二队列；每轮喷吹完成，进行第二队列排序，逐级替换最低的数值；选取第二队列中间区域数值的平均值乘以比例系数后作为有效喷吹能量值；当单次能量累加值大于有效喷吹能量值时，则判定为阀门打开了，否则判定为阀门关闭。2.如权利要求1所述的阀门状态监测方法，其特征在于，所述缓冲区创建及初始化步骤之前还包括触发判定步骤；所述触发判定步骤具体为：在接受到外部触发信号时，先延时第一设定时间等待，以判定是否为干扰导致的误触发；当第一设定时间结束后，再次检查触发信号是否还为有效状态；如果还是为有效状态，则执行缓冲区创建及初始化步骤；否则，等待下一次外部触发信号。3.如权利要求1所述的阀门状态监测方法，其特征在于，所述声波信号获取及判定步骤具体如下：相邻声波信号差值记录：把当前的声波信号值减去上一次的声波信号值求绝对值后依次放入第一队列中存储；第一队列存满后，则刷新第一格，将第二格的数移到第一格，后面的数依次前移，循环刷新记录；获取单次能量累加值：由第一队列中的全部数值累加得出；如果实际采集的次数小于第一队列的格数，则以实际采集的次数作为累加；本轮喷吹最大能量累加值更新：如果当前的单次能量累加值大于本轮喷吹最大能量累加值，则把当前的单次能量累加值替换到本轮喷吹最大能量累加值；阀门状态判定：根据多轮喷吹最大能量累加值的结果，计算有效喷吹能量值；当单次能量累加值大于有效喷吹能量值时，则判定为阀门打开了；否则判定为阀门关闭。4.如权利要求3所述的阀门状态监测方法，其特征在于，所述有效喷吹能量值的计算方法如下：将本轮喷吹最大能量累加值调整至设定的合法范围内；将调整后的本轮喷吹最大能量累加值添加到所述第二队列内；所述第二队列的所有数据按从低到高排序，当本轮喷吹最大能量累加值大于当前第二队列内的最小值时则替换该值，然后将第二队列从低到高重新排序；取第二队列的中间部分进行平均值计算，得到喷吹能量平均值；有效喷吹能量值=喷吹能量平均值*比例系数。5.如权利要求4所述的阀门状态监测方法，其特征在于，所述将本轮喷吹最大能量累加值调整至设定的合法范围内，具体为：检查本轮喷吹最大能量累加值是否处于设定的合法范围内，本轮喷吹最大能量累加值需要大于等于最低阈值且小于等于最高阈值；如果大于最高阈值，则将本轮喷吹最大能量累加值赋值成最高阈值；如果小于最低阈值，则将本轮喷吹最大能量累加值赋值成最低阈值。6.如权利要求4所述的阀门状态监测方法，其特征在于，每N轮有效喷吹后，清空第二队列的最高M个数值，并将其赋值为最低阈值，然后将第二队列按从低到高重新排序；M、N为正整数。7.如权利要求1所述的阀门状态监测方法，其特征在于，所述声波信号获取及判定步骤后还包括结束判定步骤；所述结束判定步骤具体为：在识别到外部触发信号断开时，先延时第二设定时间等待，以判定是否为干扰导致的误断开；当第二设定时间结束后，再次检查外部触发信号是否断开；如果没有断开，则继续执行声波信号获取及判定步骤；否则，跳出当前的声波信号获取，并且标记外部触发信号结束的时间。8.一种阀门状态监测装置，用于对袋式除尘器电磁脉冲阀的阀门状态进行监测，其特征在于，所述电磁脉冲阀一侧设置声波信号采集装置，用于采集电磁脉冲阀的声波信号；所述装置包括：缓冲区创建及初始化模块：用于创建存储用的缓冲区，并进行参数初始化；所述缓冲区包括用于存储采集信号差的第一队列和用于存储本轮喷吹最大能量累加值的第二队列；声波信号获取及判定模块：获取所述电磁脉冲阀的声波信号，将相邻声波信号差存储于第一队列；累加第一队列的全部数值作为单次能量累加值，并将每轮喷吹的最大能量累加值存储于第二队列；每轮喷吹完成，进行第二队列排序，逐级替换最低的数值；选取第二队列中间区域数值的平均值乘以比例系数后作为有效喷吹能量值；当单次能量累加值大于有效喷吹能量值时，则判定为阀门打开了，否则判定为阀门关闭。9.一种阀门状态监测装置，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1~7任一项所述的方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1~7任一项所述的方法。
说明书desc
技术领域本发明涉及袋式除尘技术领域，尤其涉及一种袋式除尘器电磁脉冲阀阀门状态监测方法、装置及计算机可读存储介质。背景技术袋式除尘器是一种干式滤尘装置。滤料使用一段时间后，由于筛滤、碰撞、滞留、扩散、静电等效应，滤袋表面积聚了一层粉尘，这层粉尘称为初层，在此以后的运动过程中，初层成了滤料的主要过滤层，依靠初层的作用，网孔较大的滤料也能获得较高的过滤效率。随着粉尘在滤料表面的积聚，除尘器的效率和阻力都相应的增加，当滤料两侧的压力差很大时，会把有些已附着在滤料上的细小尘粒挤压过去，使除尘器效率下降。另外，除尘器的阻力过高会使除尘系统的风量显著下降。因此，除尘器的阻力达到一定数值后，要及时清灰。电磁脉冲阀是除尘器清灰部分的核心部件，袋式除尘器利用电磁脉冲阀进反吹风，用以去除附着在滤料上的尘粒，从而降低除尘器运行阻力，保证设备可以持续稳定高效运作。在传统的袋式除尘器运维中，电磁脉冲阀需要人工巡检来发现故障，对人员要求较高且两次巡检之间存在一定的间隙，电磁脉冲阀的故障不能被实时发现。电磁脉冲阀一般安装在袋式除尘器的顶部，大型除尘设备高达二、三十米，人工巡检需要运维人员爬到高处，工作环境差、安全隐患大。为了更高效、方便地对电磁脉冲阀的运行情况进行监测，智能阀应运而生。智能阀是在传统电磁脉冲阀内部加入了接近开关，接近开关通常由一个传感器和一个输出装置组成。传感器安装在电磁脉冲阀内部，通过检测膜片与其的距离，获取膜片的运动状态。传感器测量的数据通过输出装置输出至现场数据采集分析设备或中控平台上，实现对电磁脉冲阀运行状态的实时监测和数据采集，以便于对气体喷吹过程进行控制和优化。但本申请发明人在实现本申请实施例中技术方案的过程中，发现上述技术至少存在如下技术问题：兼容性问题：现场数据采集分析设备或中控平台想要监测脉冲阀的工况只能接入智能阀使用，而智能阀需要更换原有现场设备的阀门。这导致对于旧项目改造而言，必须更换现有的阀门才能实现与现场数据采集分析设备或中控平台的连接。设备更换成本大：更换现场设备的阀门意味着额外的设备采购和安装成本。在旧项目中，如果阀门数量众多，更换每个阀门都需要考虑设备选型、调试和系统整合等问题，也需要众多的人力跟进，这会大大增加项目的成本。设备操作和维护复杂性：更换阀门可能涉及到系统的重新调试和操作培训。操作人员需要适应新的设备和系统，增加了学习成本和操作复杂性。此外，新设备的维护和保养也需要额外的培训和资源投入。工期延误：更换阀门和系统的过程可能需要在现场进行，这意味着可能需要停机和工期延误。这对于一些需要持续生产的工业项目而言是不可忽视的，因为停机可能导致生产线的中断和损失。综上所述，智能阀在袋式除尘器旧项目改造中，存在兼容性差、设备更换成本高、操作和维护复杂性增加以及会导致工期延误等缺点。这些缺点限制了袋式除尘器旧项目的升级和改造，并对系统的可用性、生产效率和成本控制造成了一定的影响。如何更便捷、经济和高效地对袋式除尘器电磁脉冲阀的阀门状态进行监测，是本领域技术人员目前致力于解决的难题。发明内容本申请实施例通过提供一种阀门状态监测方法、装置及计算机可读存储介质，解决了现有技术中智能阀在袋式除尘器旧项目改造中，存在兼容性差、设备更换成本高、操作和维护复杂性增加以及会导致工期延误等问题。第一方面，本申请实施例提供了一种阀门状态监测方法，用于对袋式除尘器电磁脉冲阀的阀门状态进行监测，所述电磁脉冲阀一侧设置声波信号采集装置，用于采集电磁脉冲阀的声波信号；所述方法包括：缓冲区创建及初始化步骤：创建存储用的缓冲区，并进行参数初始化；所述缓冲区包括用于存储相邻采集信号差的第一队列和用于存储本轮喷吹最大能量累加值的第二队列；声波信号获取及判定步骤：获取所述电磁脉冲阀的声波信号，将相邻声波信号差存储于第一队列；累加第一队列的全部数值作为单次能量累加值，并将每轮喷吹的最大能量累加值存储于第二队列；每轮喷吹完成，进行第二队列排序，逐级替换最低的数值；选取第二队列中间区域数值的平均值乘以比例系数后作为有效喷吹能量值；当单次能量累加值大于有效喷吹能量值时，则判定为阀门打开了，否则判定为阀门关闭。优选地，所述缓冲区创建及初始化步骤之前还包括触发判定步骤；所述触发判定步骤具体为：在接受到外部触发信号时，先延时第一设定时间等待，以判定是否为干扰导致的误触发；当第一设定时间结束后，再次检查触发信号是否还为有效状态；如果还是为有效状态，则执行缓冲区创建及初始化步骤；否则，等待下一次外部触发信号。优选地，所述声波信号获取及判定步骤具体如下：相邻声波信号差值记录：把当前的声波信号值减去上一次的声波信号值求绝对值后依次放入第一队列中存储；第一队列存满后，则刷新第一格，将第二格的数移到第一格，后面的数依次前移，循环刷新记录；获取单次能量累加值：由第一队列中的全部数值累加得出；如果实际采集的次数小于第一队列的格数，则以实际采集的次数作为累加；本轮喷吹最大能量累加值更新：如果当前的单次能量累加值大于本轮喷吹最大能量累加值，则把当前的单次能量累加值替换到本轮喷吹最大能量累加值；阀门状态判定：根据多轮喷吹最大能量累加值的结果，计算有效喷吹能量值；当单次能量累加值大于有效喷吹能量值时，则判定为阀门打开了；否则判定为阀门关闭。更优选地，所述有效喷吹能量值的计算方法如下：将本轮喷吹最大能量累加值调整至设定的合法范围内；将调整后的本轮喷吹最大能量累加值添加到所述第二队列内；所述第二队列的所有数据按从低到高排序，当本轮喷吹最大能量累加值大于当前第二队列内的最小值时则替换该值，然后将第二队列从低到高重新排序；取第二队列的中间部分进行平均值计算，得到喷吹能量平均值；有效喷吹能量值=喷吹能量平均值*比例系数。进一步地，所述比例系数为60%。进一步地，所述将本轮喷吹最大能量累加值调整至设定的合法范围内，具体为：检查本轮喷吹最大能量累加值是否处于设定的合法范围内，本轮喷吹最大能量累加值需要大于等于最低阈值且小于等于最高阈值；如果大于最高阈值，则将本轮喷吹最大能量累加值赋值成最高阈值；如果小于最低阈值，则将本轮喷吹最大能量累加值赋值成最低阈值。进一步地，所述最低阈值为3500，最高阈值为150000。进一步地，每N轮有效喷吹后，清空第二队列的最高M个数值，并将其赋值为最低阈值，然后将第二队列按从低到高重新排序；M、N为正整数。优选地，所述声波信号获取及判定步骤后还包括结束判定步骤；所述结束判定步骤具体为：在识别到外部触发信号断开时，先延时第二设定时间等待，以判定是否为干扰导致的误断开；当第二设定时间结束后，再次检查外部触发信号是否断开；如果没有断开，则继续执行声波信号获取及判定步骤；否则，跳出当前的声波信号获取，并且标记外部触发信号结束的时间。优选地，所述结束判定步骤后还包括判定结果输出步骤；所述判定结果输出步骤具体为：将判定结果输出至后端设备或监控终端；所有的计算处理完成后，检查判定结果的输出时间是否等于接受到的外部触发信号的持续时间，如果时间未满足，则继续等待，至时间满足后跳出，整个运行逻辑结束。第二方面，本申请实施例提供了一种阀门状态监测装置，包括：缓冲区创建及初始化模块：用于创建存储用的缓冲区，并进行参数初始化；所述缓冲区包括用于存储采集信号的第一队列和用于存储本轮喷吹最大能量累加值的第二队列；声波信号获取及判定模块：获取所述电磁脉冲阀的声波信号，将相邻声波信号差存储于第一队列；累加第一队列的全部数值作为单次能量累加值，并将每轮喷吹的最大能量累加值存储于第二队列；每轮喷吹完成，进行第二队列排序，逐级替换最低的数值；选取第二队列中间区域数值的平均值乘以比例系数后作为有效喷吹能量值；当单次能量累加值大于有效喷吹能量值时，则判定为阀门打开了，否则判定为阀门关闭。优选地，所述装置还包括触发判定模块，用于在接受到外部触发信号时，先延时第一设定时间等待，以判定是否为干扰导致的误触发；当第一设定时间结束后，再次检查触发信号是否还为有效状态；如果还是为有效状态，则执行缓冲区创建及初始化步骤；否则，等待下一次外部触发信号。优选地，所述装置还包括结束判定模块，用于在识别到外部触发信号断开时，先延时第二设定时间等待，以判定是否为干扰导致的误断开；当第二设定时间结束后，再次检查外部触发信号是否断开；如果没有断开，则继续执行声波信号获取及判定步骤；否则，跳出当前的声波信号获取，并且标记外部触发信号结束的时间。优选地，所述装置还包括判定结果输出模块，用于将判定结果输出至后端设备或监控终端；且在所有的计算处理完成后，检查判定结果的输出时间是否等于接受到的外部触发信号的持续时间，如果时间未满足，则继续等待，至时间满足后跳出，整个运行逻辑结束。第三方面，本申请实施例提供了一种阀门状态监测装置，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现上述的方法。第四方面，本申请实施例提供了一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现上述的方法。本申请实施例中提供的一个或多个技术方案，至少具有如下技术效果或优点：1、本申请提供的方法，通过对除尘器电磁脉冲阀附近的声波信号进行分析，即可判断除尘器电磁脉冲阀的阀门状态，无需更换现有的阀门，在实现智能化监测的同时，避免了大规模改造，节省了阀门更换的时间和成本，也大大减少了施工及后续的运维成本。2、本申请提供的方法，通过累加喷吹时的能量计数进行滤波判定，实现了对环境中异常噪音的有效过滤和实时动态调整；通过不断累加喷吹时的能量计数，实时监测环境的声音水平；这种自适应调整策略，允许系统灵活地调整阀门状态，以适应不同环境下的噪音水平和变化。3、本申请提供的方法采用存储用的缓冲区，喷吹最大能量累加值缓冲区内部初始值为高于环境底噪的预设值。缓冲区的设计考虑到了实时动态更新和有效值的保留。通过对缓冲区进行排序和逐级替换，系统能够始终保留最高的有效值，而不受短时噪音的干扰。4、为确保数据的合法有效性，本申请采用了一种智能的中间区域数值选择策略。每次只选取缓冲区中间区域的数值，抛弃最小和最大值，然后计算中间数据总和的60%作为有效值的判定。这种智能选择策略保证了阀门状态判定的稳定性和准确性。5、本申请提供的方法具备垃圾处理机制，以应对可能的异常情况。当垃圾数据被覆盖到有效区上限时，系统会自动将这些垃圾数据替换为环境底噪，并重新进行排序。这样的机制有效地防止了垃圾数据的长期积压，保障了系统的稳定性和长期可靠性。6、本申请提供的方法可以实时监控喷吹过程中的能量计数和阀门状态，并提供反馈信息，以供其他系统或用户实时了解当前环境的声音状况和阀门状态。这种实时监控和反馈机制使系统更具智能化和可控性。附图说明图1为本申请实施例一中阀门状态监测方法的流程图；图2为本申请实施例二中阀门状态监测装置的结构图；图3为四次触发状态下分别采集的能量累加值的示意图。具体实施方式本申请实施例通过提供一种阀门状态监测方法、装置及计算机可读存储介质，解决了现有技术中智能阀在袋式除尘器旧项目改造中，存在兼容性差、设备更换成本高、操作和维护复杂性增加以及会导致工期延误等问题。本申请实施例中的技术方案为解决上述技术问题，总体思路如下：在电磁脉冲阀附近安装声波信号采集装置，袋式除尘器喷吹时，采集除尘器的电磁脉冲阀附近的声波信号，对声波信号进行处理分析，通过累加喷吹时的能量计数进行滤波判定。为了自适应阀门状态，创建存储用的缓冲区用于自适应调整，喷吹最大能量累加值缓冲区内部初始值为高于环境背景噪音的预设值。当喷吹触发时，将当前的数值和缓冲区内的数值进行比较，如果当前的数值大于缓冲区内的数值，则缓冲区内的数值会被替换；每次喷吹完成，进行缓冲区排序逐级替换最低的数值，保留最高的有效值。为了确保数据的合法有效性，只选取中间区域的数值，抛弃最小和最大，每次采用中间的数据总和的60%作为有效值判定。当出现异常情况时，缓冲区拥有垃圾处理机制，当垃圾数据被覆盖到有效区上限时，会被自动替换为环境底噪且重新排序，这样避免了垃圾数据的长期积压。如此，通过对除尘器电磁脉冲阀附近的声波信号进行分析，即可判断除尘器电磁脉冲阀的阀门状态，无需更换现有的阀门，在实现智能化监测的同时，避免了大规模改造，节省了阀门更换的时间和成本，也大大减少了施工及后续的运维成本。为了更好的理解上述技术方案，下面将结合说明书附图以及具体的实施方式对上述技术方案进行详细的说明。实施例一在电磁脉冲阀附近安装声波信号采集装置，袋式除尘器喷吹时，采集除尘器的电磁脉冲阀附近的声波信号，对声波信号进行处理分析，以判断阀门的状态。所述声波信号采集装置可以是声波接收头，或者含有声波接收头的声波转接器。每个电磁阀脉冲分别对应设有一个声波信号采集装置，确保声波信号采集装置采集的声波信号的唯一性。声波信号采集装置可以安装在对应的电磁脉冲阀的喷吹控制板上，以使声波信号采集装置近距离采集对应的电磁脉冲阀喷吹的声音。各电磁脉冲阀一般在不同时间喷吹，即便是有几个电磁脉冲阀同时喷吹，由于相邻电磁脉冲阀之间具有一定距离，声波信号采集装置采集到的也是对应的电磁脉冲阀的声音。图1为本申请实施例一中提供的阀门状态监测方法的流程图，所述的阀门状态监测方法包括：步骤S10：触发判定；在接受到外部触发信号时，先延时第一设定时间等待，以判定是否为干扰导致的误触发；当第一设定时间结束后，再次检查触发信号是否还为有效状态；如果还是为有效状态，则执行步骤S20；否则，等待下一次外部触发信号。在某一优选的实施方式中，所述第一设定时间为6ms。步骤S20：创建存储用的缓冲区，并进行参数初始化；为了自适应阀门状态，创建存储用的缓冲区，以便于自适应调整。所述存储用的缓冲区包括：用于存储相邻采集信号差的第一队列；用于存储本轮喷吹最大能量累加值的第二队列。参数初始化包括采样时间设定、队列的长度设定和初始化数值等。在某一优选的实施方式中，采样时间设定为1秒，第一队列长度为150，第一队列内部初始值为空。第二队列长度为32，第二队列内部初始值为高于环境背景噪音的预设值。在袋式除尘器应用的各种工况现场，一般环境背景噪音都小于3500。因此，本实施例中，所述预设值设定为3500。步骤S30：获取声波信号采集装置采集的声波信号，对声波信号进行处理分析，进而判定阀门的状态；具体方法如下：把当前的声波信号值减去上一次的声波信号值求绝对值后依次放入150个第一队列中存储。150个第一队列存满后，则刷新第一格，将第二格的数移到第一格，后面的数依次前移，实现循环刷新记录。所述采集装置采集的声波信号通常为电压值或经过相关处理的数字量。接下来获取单次能量累加值，由150个第一队列中的全部数值累加得出。初始化的时候，150个第一队列全部被设定为了空队列。如果是一开始喷吹没有满足150个，则以实际采集的数量作为累加。具体地，按照当前现场的声波信号，设置初始化默认声波值x0。x0为根据现场情况采集的实际值。设第一轮获取的声波信号为x1、x2、x3……x150，则将| x1- x0 |、| x2- x1 |、| x3- x2 |……| x150- x149 |依次放入长度150的第一队列中存储。单次能量累加值sum=| x1- x0 |+| x2- x1 |+| x3- x2 |+……+| x150- x149 |。存满后，采集到x151时，则第一队列更新为：| x2- x1 |、| x3- x2 |……| x151-x150 |。单次能量累加值更新为sum=| x2- x1 |+| x3- x2 |+……+| x151- x150 |。如此往后，循环更新。如果是一开始喷吹没有满足150个，只获取到声波信号为x1、x2、x3……x60，则第一队列为：| x1- x0 |、| x2- x1 |、| x3- x2 |……| x60- x59 |、0、0、……、0。未使用队列始终为空。单次能量累加值sum=| x1- x0 |+| x2- x1 |+| x3- x2 |+……+| x60- x59 |。本轮喷吹最大能量累加值初始值设定为0。如果当前的单次能量累加值大于本轮喷吹最大能量累加值，则把当前的单次能量累加值替换到本轮喷吹最大能量累加值。当单次能量累加值大于有效喷吹能量值时，则判定为阀门打开了。并且从现在开始记录阀门开启的时间。这个时间是用于关闭输出信号用的，为了使输入的控制信号和输出信号时间一致。在外部触发信号有效状态下，一直执行上述的声波信号采集和判定过程。所述有效喷吹能量值的计算方法如下：首先，检查本轮喷吹最大能量累加值是否处于合法范围内，本轮喷吹最大能量累加值需要大于等于最低阈值且小于等于最高阈值；如果大于最高阈值，则将本轮喷吹最大能量累加值赋值成最高阈值；如果小于最低阈值，则将本轮喷吹最大能量累加值赋值成最低阈值。在某一优选的实施方式中，所述最低阈值为3500,最高阈值为150000。也就是说，本轮喷吹最大能量累加值需要大于3500且小于150000，如果存在大于150000的，则赋值成150000；如果存在小于3500的，则赋值成3500。接下来，将这个本轮喷吹最大能量累加值添加到第二队列内，第二队列的长度为32。第二队列的所有数据进行从低到高的排序，当本轮喷吹最大能量累加值大于当前第二队列内的最小值则替换该值，然后进行第二队列的从低到高的重新排序。接下来，取第二队列的中间部分进行平均值计算，从第二队列的第17格至24格取出累加值后除以8，计算得到喷吹能量平均值；具体地，设第二队列的第17格至24格的数值分别为T17、T18……T24；喷吹能量平均值=/8；有效喷吹能量值=喷吹能量平均值*比例系数。在某一优选的实施方式中，所述比例系数为60%。通常情况下，每轮电磁脉冲阀的控制信号在80毫秒到200毫秒之间，根据现场工控设定。每毫秒采集约10个数据，根据控制脉冲宽度定。也就是说，每轮喷轮采集的数据量通常在800~20000个。在某些特殊的工况下，比如钢铁厂，可能会偶然性地发出很大的一声噪音。为了防止垃圾数据堆积，每16轮有效喷吹，清空第二队列的最高8个数值，并将其赋值为3500，然后重新排序。步骤S40：结束判定；在识别到外部触发信号断开时，先延时第二设定时间等待，以判定是否为干扰导致的误断开；当第二设定时间结束后，再次检查外部触发信号是否断开；如果没有断开，则继续执行步骤S30；否则，跳出当前的数据采集，并且标记上控制信号结束的时间。在某一优选的实施方式中，所述第二设定时间为10ms。步骤S50：判定结果输出将判定结果输出至后端设备或监控终端。并且所有的计算处理完成后，检查判定结果的输出时间是否等于接受到的外部触发信号的持续时间，如果时间未满足，则继续等待，至时间满足后跳出，整个运行逻辑结束。实施例二基于与前述实施例中阀门状态监测方法同样的发明构思，本发明还提供一种阀门状态监测装置，如图2所示，所述装置包括：触发判定模块，用于在接受到外部触发信号时，先延时第一设定时间等待，以判定是否为干扰导致的误触发；当第一设定时间结束后，再次检查触发信号是否还为有效状态；如果还是为有效状态，则启动监测；否则，等待下一次外部触发信号；缓冲区创建及初始化模块，用于创建存储用的缓冲区，并进行参数初始化；所述存储用的缓冲区包括用于存储采集信号差的第一队列和用于存储本轮喷吹最大能量累加值的第二队列；声波信号采集及判定模块，用于获取声波信号并进行处理，进而判定阀门的状态；具体方法与实施例一相同。结束判定模块，用于在识别到外部触发信号断开时，先延时第二设定时间等待，以判定是否为干扰导致的误断开；当第二设定时间结束后，再次检查外部触发信号是否断开；如果没有断开，则继续监测；否则，跳出当前的监测，并且标记上控制信号结束的时间；判定结果输出模块，用于将判定结果输出至后端设备或监控终端。所有的计算处理完成后，检查判定结果的输出时间是否等于接受到的外部触发信号的持续时间，如果时间未满足，则继续等待，至时间满足后跳出，整个运行逻辑结束。实施例三基于与前述实施例中阀门状态监测方法同样的发明构思，本发明还提供一种阀门状态监测装置，其上存储有计算机程序，该程序被处理器执行时实现前文所述阀门状态监测方法的步骤。实施例四基于与前述实施例一中阀门状态监测方法同样的发明构思，本发明还提供一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现实施例一所述的阀门状态监测方法的步骤。实验验证基于实验棚测试，单个汽包9个电磁脉冲阀顺序喷吹。汽包压力设定为3公斤，有气带背景噪音喷吹，四次触发状态下分别采集的150次能量累加值如图3所示。图3中显示的有四组数据，是四次阀门收到外部控制的触发信号后记录下来的数据，蓝色为第一喷吹时的能量累加值，橘色为第一次不喷吹时的能量累加值，黄色为第二喷吹时的能量累加值，绿色为第二次不喷吹时的能量累加值，青色为门限阈值3500。蓝色和黄色的最大值均超过了门限阈值3500，基于实施一的方法判定的结果为阀门动作了。橘色和绿色的最大值没有超过门限阈值3500，基于实施一的方法判定的结果为阀门没动作。实施一的方法判定的结果与现场实测的结果一致，证明了实施一方法的有效性。随后，将汽包压力设定为2.5公斤、4公斤分别进行测试。在有气喷吹，无气喷吹，无气带背景噪音喷吹，有气带震动仪撞击气包喷吹，无气带震动仪撞击气包喷吹等各种工况均进行测试，均证明实施一的方法判定的结果是准确的。值得一提的是，申请人曾经尝试过只根据判断声音大小是否达到固定阈值的情况，但是这样会不准确，因为汽包压力大小会导致喷吹波形的不一样，每个现场是不一样的，所以测试下来定值的方案不行。后面尝试增加一个浮动参数来解决，在当前喷吹的噪音大于预设值后覆写这个变量，然后如果下次喷吹时达到这个数值的60%就算有效喷吹。这样正常看下来没什么问题，但是如果出现意外情况，比如现场非常大的噪音时，会导致这个变量被刷写成一个很离谱的数值，这样的话接下来的喷吹判定都会失效，除非重启。后面尝试增加队列来解决固定预设阈值的问题，默认队列中存储的是一个比较低的值，当喷吹的噪音高于队列里的数据，覆写后重新排序，取最低的值，这样即使出现了过大噪音也会有冗余的空间，并且之后还加上了当过高的数值超过3组后重新复位该队列这种垃圾数据回收机制。但是这个算法还是有概率会触发没气喷吹时会被当做有效喷吹，于是算法改进成了实施例一目前的算法，这套算法目前试验测试下来效果在理想的范围内，也在实际的现场测试下来运行情况很好。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。尽管已描述了本申请的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例作出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本申请范围的所有变更和修改。显然，本领域的技术人员可以对本申请进行各种改动和变型而不脱离本申请的精神和范围。这样，倘若本申请的这些修改和变型属于本申请权利要求及其等同技术的范围之内，则本申请也意图包含这些改动和变型在内。
