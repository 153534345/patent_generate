标题title
基于扩展卡尔曼滤波的吊车系统模型预测控制方法及系统
摘要abst
本发明属于吊车控制技术领域，为了解决现有在吊车控制中，没有考虑吊车五自由度的问题，以及避障和约束问题，提出了基于扩展卡尔曼滤波的吊车系统模型预测控制方法及系统，建立塔式吊车的非线性状态预测模型，用非线性模型预测控制同时实现系统的多重输入输出约束，包括全状态约束、负载位置约束、控制输入及其增量约、避障要求约束，并考虑过程噪声和传感器噪声，将非线性模型预测控制与扩展卡尔曼滤波方法相结合，共同应用于具有传感器噪声的五自由度塔式吊车，可以提高对测量噪声的鲁棒性；本发明的方案可以实现塔式吊车五个自由度的同时运行，且可有效防摆，因此可以显著提高塔式吊车工作效率。
权利要求书clms
1.一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法，其特征在于，包括：基于塔式吊车五自由度动力学模型，建立塔式吊车的非线性预测模型；建立塔式吊车的非线性预测模型的多个输入输出约束；其中，输入输出约束包括全状态约束，负载位置约束，控制输入和控制输入增量约束，以及避障要求约束；考虑塔式吊车中存在的过程噪声和传感器噪声，利用扩展卡尔曼滤波以所述塔式吊车的非线性预测模型的相关参数作为滤波状态变量，对所述塔式吊车的系统状态进行预测更新，得到状态一步预测值和状态一步预测协方差；获取塔式吊车当前状态参数，并利用扩展卡尔曼滤波算法根据所述当前状态参数对所述状态一步预测值和所述状态一步预测协方差进行测量更新，得到当前状态最优估计值和当前状态最优估计协方差；根据所述当前状态最优估计值和当前状态最优估计协方差，在所述多个输入输出约束下，控制所述塔式吊车的运动。2.如权利要求1所述的一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法，其特征在于，塔式吊车的五自由度的状态向量包括：旋臂回转角、台车位移、可变吊长度、负载的径向摆角和负载的切向摆角。3.如权利要求1所述的一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法，其特征在于，所述全状态约束为将五自由度塔式吊车系统中所有状态变量的位移/角度和速度限制在给定的约束范围内；所述负载位置约束为将五自由度塔式吊车系统中的负载位置限制在约束范围内；所述控制输入和控制输入增量约束为将塔式吊车控制输入及控制输入增量限制在给定范围内；根据障碍物在欧氏空间中的中心坐标向量和半径，以保证吊运负载不与障碍物发生碰撞，建立所述避障要求约束。4.如权利要求1所述的一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法，其特征在于，建立塔式吊车的非线性预测模型的多个输入输出约束，具体为：根据塔式吊车状态，吊运负载的状态参考轨迹，塔式吊车的非线性预测模型计算得到的系统状态、负载位置和控制输入增量，人工势场函数，以及动态遗忘因子构建代价函数；在多个输入输出约束下，以所构建的代价函数最小为目标进行求解。5.如权利要求4所述的一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法，其特征在于，所述人工势场函数用于惩罚负载位置到第个障碍物之间的距离；所述动态遗忘因子用于在接近障碍物时降低在所述代价函数中的权重。6.如权利要求1所述的一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法，其特征在于，考虑塔式吊车中存在的过程噪声和传感器噪声，具体为：在塔式吊车的系统状态表示中加入服从正态分布的过程噪声；在塔式吊车的输出状态表示中加入服从正态分布测量噪声。7.如权利要求1所述的一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法，其特征在于，根据系统状态的先验状态估计、最优卡尔曼增益、系统输出状态更新得到系统状态的后验状态估计；根据先验状态估计误差协方差矩阵和最优卡尔曼增益更新得到后验状态估计误差协方差矩阵。8.一种基于扩展卡尔曼滤波的吊车系统模型预测控制系统，其特征在于，包括：非线性模型建立模块：基于塔式吊车五自由度动力学模型，建立塔式吊车的非线性预测模型；约束建立模块：建立塔式吊车的非线性预测模型的多个输入输出约束；其中，输入输出约束包括全状态约束，负载位置约束，控制输入和控制输入增量约束，以及避障要求约束；预测更新模块：考虑塔式吊车中存在的过程噪声和传感器噪声，利用扩展卡尔曼滤波以所述塔式吊车的非线性预测模型的相关参数作为滤波状态变量，对所述塔式吊车的系统状态进行预测更新，得到状态一步预测值和状态一步预测协方差；测量更新模块：获取塔式吊车当前状态参数，并利用扩展卡尔曼滤波算法根据所述当前状态参数对所述状态一步预测值和所述状态一步预测协方差进行测量更新，得到当前状态最优估计值和当前状态最优估计协方差；控制输出模块：根据所述当前状态最优估计值和当前状态最优估计协方差，在所述多个输入输出约束下，控制所述塔式吊车的运动。9.如权利要求8所述的一种基于扩展卡尔曼滤波的吊车系统模型预测控制系统，其特征在于，在所述约束建立模块中，所述全状态约束为将五自由度塔式吊车系统中所有状态变量的位移/角度和速度限制在给定的约束范围内；所述负载位置约束为将五自由度塔式吊车系统中的负载位置限制在约束范围内；所述控制输入和控制输入增量约束为将塔式吊车控制输入及控制输入增量限制在给定范围内；根据障碍物在欧氏空间中的中心坐标向量和半径，以保证吊运负载不与障碍物发生碰撞，建立所述避障要求约束。10.如权利要求8所述的一种基于扩展卡尔曼滤波的吊车系统模型预测控制系统，其特征在于，在所述预测更新模块中，具体包括：根据塔式吊车状态，吊运负载的状态参考轨迹，塔式吊车的非线性预测模型计算得到的系统状态、负载位置和控制输入增量，人工势场函数，以及动态遗忘因子构建代价函数；在多个输入输出下，以所构建的代价函数最小为目标进行求解。
说明书desc
技术领域本发明属于吊车控制技术领域，尤其涉及基于扩展卡尔曼滤波的吊车系统模型预测控制方法及系统。背景技术本部分的陈述仅仅是提供了与本发明相关的背景技术信息，不必然构成在先技术。吊车系统是工程现场重要的机电设备，由于塔身高、回转半径大等特点，使其工作空间广、垂直作业效率高，更加适用于高层建筑的建设与修缮，特别是楼房建设和桥梁、高架桥等基础建设，有利于促进建筑设备的自动化和智能化，显著提高系统工作效率，并为工人安全提供有力保障。这使得塔式吊车系统成为建筑业不可或缺的关键设备之一。然而，塔式吊车的作业环境十分恶劣，旋臂的回转运动和高空风扰更容易激发负载在空间内的摆动，因此塔式吊车具有更加复杂的欠驱动特性、更强的非线性，且系统状态之间具有更强的耦合性。在这种情况下，非常难以实现负载的快速精准定位与消摆。因此，如何实现塔式吊车的高性能控制，具有非常重要的实际应用价值与意义。塔式吊车在实际中得到了广泛地应用，近年来也有许多有关塔式吊车的研究工作被报道。例如，针对塔式吊车固定吊绳长度的抑制货物摆动的命令整形算法如开环方法，对不确定性敏感；考虑实际效率问题的时间最优速度控制器；基于滑模和自适应控制相结合的鲁棒性保证方法。此外，还有结合群优化和遗传算法的递归神经网络控制器。然而，大多数塔式吊车的控制方法一般使用线性化模型，并且通常需要精确的状态反馈信号。此外，现有的大部分工作只考虑了塔式吊车运动的一部分，实际的塔式吊车系统包含五自由度，即旋臂回转、台车平移、吊绳提升、二自由度的摆角。即使有些工作考虑了五自由度塔式吊车的控制问题，但其输入、输出约束，避障问题也是亟待解决的关键问题之一。此外，实际的过程噪声和传感器噪声还可能会恶化控制性能，甚至造成难以想象的事故。发明内容为克服上述现有技术的不足，本发明提供了一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法及系统，将非线性模型预测控制与扩展卡尔曼滤波方法相结合，共同应用于具有传感器噪声的五自由度塔式吊车，可以提高对测量噪声的鲁棒性。为实现上述目的，本发明的第一个方面提供一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法，包括：基于塔式吊车五自由度动力学模型，建立塔式吊车的非线性预测模型；建立塔式吊车的非线性预测模型的多个输入输出约束；其中，输入输出约束包括全状态约束，负载位置约束，控制输入和控制输入增量约束，以及避障要求约束；考虑塔式吊车中的过程噪声和传感器噪声，利用扩展卡尔曼滤波以所述塔式吊车的非线性预测模型的相关参数作为滤波状态变量，对所述塔式吊车的系统状态进行预测更新，得到状态一步预测值和状态一步预测协方差；获取塔式吊车当前状态参数，并利用扩展卡尔曼滤波算法根据所述当前状态参数对所述状态一步预测值和所述状态一步预测协方差进行测量更新，得到当前状态最优估计值和当前状态最优估计协方差；根据所述当前状态最优估计值和当前状态最优估计协方差，在所述多个输入输出约束下，控制所述塔式吊车的运动。本发明的第二个方面提供一种基于扩展卡尔曼滤波的吊车系统模型预测控制系统，包括：非线性模型建立模块：基于塔式吊车五自由度动力学模型，建立塔式吊车的非线性预测模型；约束建立模块：建立塔式吊车的非线性预测模型的多个输入输出约束；其中，输入输出约束包括全状态约束，负载位置约束，控制输入和控制输入增量约束，以及避障要求约束；预测更新模块：考虑塔式吊车中的过程噪声和传感器噪声，利用扩展卡尔曼滤波以所述塔式吊车的非线性预测模型的相关参数作为滤波状态变量，对所述塔式吊车的系统状态进行预测更新，得到状态一步预测值和状态一步预测协方差；测量更新模块：获取塔式吊车当前状态参数，并利用扩展卡尔曼滤波算法根据所述当前状态参数对所述状态一步预测值和所述状态一步预测协方差进行测量更新，得到当前状态最优估计值和当前状态最优估计协方差；控制输出模块：根据所述当前状态最优估计值和当前状态最优估计协方差，在所述多个输入输出约束下，控制所述塔式吊车的运动。以上一个或多个技术方案存在以下有益效果：在本发明中，建立塔式吊车的非线性状态预测模型，用非线性模型预测控制同时实现系统的多重输入输出约束，包括全状态约束、负载位置约束、控制输入及其增量约、避障要求约束，考虑过程噪声和传感器噪声，并将非线性模型预测控制与扩展卡尔曼滤波方法相结合，共同应用于具有传感器噪声的五自由度塔式吊车，可以提高对测量噪声的鲁棒性；本发明的方案可以实现塔式吊车五个自由度的同时运行，且可有效防摆，因此可以显著提高塔式吊车工作效率。此外，基于离散设计的非线性模型预测控制的方式适用于工业场景，具有适应范围更广、应用更方便的特点。本发明附加方面的优点将在下面的描述中部分给出，部分将从下面的描述中变得明显，或通过本发明的实践了解到。附图说明构成本发明的一部分的说明书附图用来提供对本发明的进一步理解，本发明的示意性实施例及其说明用于解释本发明，并不构成对本发明的不当限定。图1为本发明实施例一中基于扩展卡尔曼滤波五自由度塔式吊车非线性模型预测控制算法系统示意图。具体实施方式应该指出，以下详细说明都是示例性的，旨在对本发明提供进一步的说明。除非另有指明，本文使用的所有技术和科学术语具有与本发明所属技术领域的普通技术人员通常理解的相同含义。需要注意的是，这里所使用的术语仅是为了描述具体实施方式，而非意图限制根据本发明的示例性实施方式。在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。实施例一本实施例公开了一种基于扩展卡尔曼滤波的吊车系统模型预测控制方法，包括：基于塔式吊车五自由度动力学模型，建立塔式吊车的非线性预测模型；建立塔式吊车的非线性预测模型的多个输入输出约束；其中，输入输出约束包括全状态约束，负载位置约束，控制输入和控制输入增量约束，以及避障要求约束；考虑塔式吊车中存在的过程噪声和传感器噪声，利用扩展卡尔曼滤波以所述塔式吊车的非线性预测模型的相关参数作为滤波状态变量，对所述塔式吊车的系统状态进行预测更新，得到状态一步预测值和状态一步预测协方差；获取塔式吊车当前状态参数，并利用扩展卡尔曼滤波算法根据所述当前状态参数对所述状态一步预测值和所述状态一步预测协方差进行测量更新，得到当前状态最优估计值和当前状态最优估计协方差；根据所述当前状态最优估计值和当前状态最优估计协方差，在所述多个输入输出约束下，控制所述塔式吊车的运动。本实施例方案基于五自由度塔式吊车的欧拉-拉格朗日动力学模型，建立其系统的非线性状态预测模型。利用非线性模型预测控制同时实现系统的多重输入输出约束，包括全状态约束、负载位置约束、控制输入及其增量约束。同时，通过在代价函数中加入人工势场作为避障惩罚项，并精心设计动态分配权系数，实现有效的避障控制，保障塔式吊车作业安全性。将非线性模型预测控制与扩展卡尔曼滤波方法相结合，共同应用于具有传感器噪声的五自由度塔式吊车，可以提高对测量噪声的鲁棒性。本实施例方案可以实现塔式吊车包含旋臂回转、台车平移、吊绳提升、二自由度的摆角在内的五个自由度的同时运行，且可有效防摆，因此可以显著提高塔式吊车工作效率。此外，基于离散设计的非线性模型预测控制的方式适用于工业场景，具有适应范围更广、应用更方便的特点。结合图1对本实施例的五自由度塔式吊车基于扩展卡尔曼滤波的非线性模型预测控制算法进行详细说明，包括以下步骤：动力学模型和非线性状态预测模型建立根据拉格朗日建模技术可以得到塔式吊车的动力学方程，为简明起见，这里给出了相应的紧凑的矩阵-向量形式：其中，为状态向量，包括三个驱动状态变量，即旋臂回转角、台车位移/＞、可变吊长度/＞，其对应的控制输入分别为/＞、/＞、/＞，t表示时刻。非驱动状态变量是负载的径向/切向摆角/＞和/＞，它们直接对应的控制输入为0。即/＞为控制输入向量。/＞，/＞分别为惯性矩阵和向心科里奥利矩阵，/＞为重力向量，其在五自由度塔式吊车系统中的具体表达式为：其中，元素的具体表达式如下：其中，为负载质量，/＞为台车质量，/＞为旋臂转动惯量。塔式吊车在三维工作空间坐标系中的负载位置向量定义为，其中，/＞、/＞、、/＞为吊绳在地面上的投影长度。定义，并利用欧拉法可以将五自由度塔式吊车系统离散化为：其中，为新定义的系统状态，/＞为系统的非线性函数，/＞表示第k个采样时刻，上标T表示转置。该离散动力学将用作非线性模型预测控制器设计和扩展卡尔曼滤波的预测模型。在本实施例中，除了考虑五自由度塔式吊车系统的定位要求外，还将讨论其控制过程中面临的各种约束和避障需求。具体来说，控制目标可表示为如下数学形式：定位需求：将五自由度塔式吊车系统中需要控制的所有状态变量调节到其期望值，即：其中，分别为旋臂回转角、台车位移、吊绳长度的期望位置，径向摆角和切向摆角的期望位置为0。全状态约束：将五自由度塔式吊车系统中所有状态变量的位移/角度和速度限制在给定的约束范围内，即：其中，和/＞分别为旋臂回转角的约束范围和角速度的约束范围，/＞和/＞分别为台车位移的约束范围和速度的约束范围，和/＞分别为吊绳长度的约束范围和速度的约束范围，/＞、分别为径向摆角的约束范围和角速度的约束范围，/＞，分别为切向摆角的约束范围和角速度的约束范围。负载位置约束：五自由度塔式吊车系统中的负载位置也应限制为：其中，、/＞、/＞分别为负载位置/＞、/＞、/＞的约束范围。控制输入和控制输入增量约束：将塔式吊车3个控制输入及3个控制输入增量/＞限制在给定范围内，即：其中，、/＞、/＞分别表示3个控制输入约束范围，/＞、/＞、/＞分别表示3个控制输入增量约束范围。避障要求：五自由度塔式吊车的工作空间中可能存在障碍物，因此要保证所吊运负载不与障碍物发生碰撞，即：其中，为障碍物的个数，/＞和/＞分别为障碍物在欧氏空间中的中心坐标向量和半径。考虑多重约束和避障功能的非线性模型预测控制器设计考虑输入输出约束的五自由度塔式吊车的非线性模型预测控制优化问题可以写为：其中，为代价函数，/＞为决策变量，/＞和/＞分别为预测时域和控制时域。/＞和/＞是预测模型中的状态和控制输入，以便与实际系统的作出区分。在时间/＞以测量值/＞作为预测模型的初始条件来预测未来的系统动力学。在控制时域/＞之外，控制输入保持不变。此外，为了同时满足欠驱动机械系统的定位要求和避障要求，将代价函数/＞精心设计为：其中，和/＞分别为塔式吊车状态和吊运负载的状态参考轨迹，向量/＞由人工势场函数/＞组成，用于惩罚负载位置到第/＞个障碍物之间的距离/＞。/＞，/＞和/＞分别表示根据所建立塔式吊车的非线性预测模型计算得到的系统状态，负载位置和控制输入增量。/＞和/＞均为权重矩阵。/＞和/＞被设计为定位成本的遗忘因子，以便在接近障碍物时快速降低它们在代价函数中的权重。/＞和/＞为权重系数。/＞表示第k+i个采样时刻。这样一来，利用非线性模型预测控制可同时实现输入输出约束以及安全避障控制。基于扩展卡尔曼滤波的非线性模型预测控制器设计在塔式吊车实际应用中，其动力学模型往往包含过程噪声，传感器在测量系统状态变量时也不可避免地存在测量噪声。因此，利用扩展卡尔曼滤波提供的估计状态作为非线性模型预测的反馈输入，以改善五自由度塔式吊车在传感器噪声下的控制性能。考虑具有过程噪声和传感器噪声的塔式吊车系统为：其中，是一个非线性函数，/＞和/＞分别表示过程噪声和测量噪声，两者均服从正态分布，/＞和/＞分别为过程噪声/＞和测量噪声/＞的协方差矩阵，和/＞表示第k+1时刻的系统状态和输出状态。随后利用扩展卡尔曼滤波可以得到时间更新方程和测量更新方程为：其中，和/＞分别是状态/＞的先验状态估计和后验状态估计，/＞和/＞分别是k+1时刻的先验状态估计误差协方差矩阵和k时刻的后验状态估计误差协方差矩阵，为系统的非线性函数，/＞为辅助矩阵，/＞为最优卡尔曼增益。于是，非线性模型预测控制和扩展卡尔曼滤波可以结合应用于五自由度塔式吊车系统。利用扩展卡尔曼滤波提供的状态估计作为非线性模型预测控制的反馈输入，在控制塔式吊车系统过程中考虑过程噪声和测量噪声，可以提高其控制性能。实施例二本实施例的目的是提供一种基于扩展卡尔曼滤波的吊车系统模型预测控制系统，包括：非线性模型建立模块：基于塔式吊车五自由度动力学模型，建立塔式吊车的非线性预测模型；约束建立模块：建立塔式吊车的非线性预测模型的多个输入输出约束；其中，输入输出约束包括全状态约束，负载位置约束，控制输入和控制输入增量约束，以及避障要求约束；预测更新模块：考虑塔式吊车中的过程噪声和传感器噪声，利用扩展卡尔曼滤波以所述塔式吊车的非线性预测模型的相关参数作为滤波状态变量，对所述塔式吊车的系统状态进行预测更新，得到状态一步预测值和状态一步预测协方差；测量更新模块：获取塔式吊车当前状态参数，并利用扩展卡尔曼滤波算法根据所述当前状态参数对所述状态一步预测值和所述状态一步预测协方差进行测量更新，得到当前状态最优估计值和当前状态最优估计协方差；控制输出模块：根据所述当前状态最优估计值和当前状态最优估计协方差，在所述多个输入输出约束下，控制所述塔式吊车的运动。本领域技术人员应该明白，上述本发明的各模块或各步骤可以用通用的计算机装置来实现，可选地，它们可以用计算装置可执行的程序代码来实现，从而，可以将它们存储在存储装置中由计算装置来执行，或者将它们分别制作成各个集成电路模块，或者将它们中的多个模块或步骤制作成单个集成电路模块来实现。本发明不限制于任何特定的硬件和软件的结合。上述虽然结合附图对本发明的具体实施方式进行了描述，但并非对本发明保护范围的限制，所属领域技术人员应该明白，在本发明的技术方案的基础上，本领域技术人员不需要付出创造性劳动即可做出的各种修改或变形仍在本发明的保护范围以内。
