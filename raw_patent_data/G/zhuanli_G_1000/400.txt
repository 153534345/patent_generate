标题title
一种柴油车瞬态过程颗粒物数量排放预测方法
摘要abst
本发明公开了一种柴油车瞬态过程颗粒物数量排放预测方法，属于颗粒物排放预测技术领域；通过改进EMD算法对柴油车的PN排放数据进行分解，降低了瞬态数据的波动性和随机性，将排放数据预处理分解的结果并结合测试运行数据分别对XGBoost算法和门控循环单元模型进行训练以及修正，通过将训练修正的XGBoost和GRU进行组合获取组合预测模型，实现不同训练技术的联立整合，可以有效提高后续瞬态过程颗粒物数量排放的预测效果；本发明用于解决现有方案中只是基于单一的神经网络算法来对现有的测试数据进行训练获取测试模型，不能将不同的训练技术进行联立整合导致瞬态过程颗粒物数量排放的预测效果不佳的技术问题。
权利要求书clms
1.一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，包括：S1：在不同试验条件下进行柴油车实际道路排放试验测试以及数据监测统计，获取柴油车的测试运行数据和排放数据；提取排放数据中不同时间监测统计的颗粒物瞬时排放量的数值并组合得到排放数据序列E，将测试运行数据与排放数据序列组合得到测试数据集；S2：通过改进的经验模态分解算法对测试数据集中的排放数据序列E进行分解获取多个不同时频的本征模态函数H；S3：将测试数据集中的测试运行数据作为输入量，以及将获得的多个本征模态函数H作为输出量，对XGBoost算法进行训练，利用XGBoost模型对多个本征模态函数H进行瞬时预测，获得初步预测值；并将多个本征模态函数H与初步预测值作差得到残差序列；S4：将残差序列和多个本征模态函数H转化为监督学习数据并作为门控循环单元模型的输入参数来对残差序列进行修正，得到残差序列的预测值；S5：将XGBoost模型瞬时预测的初步预测值和门控循环单元模型的预测值进行相加获取组合预测模型；S6：利用训练完成的组合预测模型进行颗粒物瞬态过程排放预测计算并输出颗粒物的实际瞬时估算结果。2.根据权利要求1所述的一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，试验条件包含若干不同的海拔范围、不同道路类型以及不同道路类型对应的行驶里程。3.根据权利要求2所述的一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，测试运行参数包含进气压力、车速、燃油消耗、发动机转速、发动机负荷、排气温度和行驶总里程；排放数据包含柴油车测试途中不同时间的颗粒物瞬时排放量。4.根据权利要求1所述的一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，通过改进的经验模态分解算法对颗粒物测试排放数据序列E进行一次分解，得到第一个本征模态函数h；计算第一个本征模态函数h的平均频率w0和平均幅值A0。5.根据权利要求4所述的一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，获取任意时刻tj的瞬时频率；根据所有时刻tj的瞬时频率/＞计算获取平均频率/＞；获取任意时刻tj的瞬时幅值 ；根据所有时刻tj的瞬时幅值/＞计算获取平均频率/＞；其中，j=1，2，3，……，N；N为正整数，表示为数据总个数。6.根据权利要求5所述的一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，构造四个基本函数：/＞；其中，k=1，2，3，4；RESi为残差函数，且第一个残差RES1=0；通过改进的经验模态分解算法分别对四个基本函数进行分解，得到四个本征模态函数Fik。7.根据权利要求6所述的一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，根据四个本征模态函数Fik计算获取第i个本征模态函数H=/4。8.根据权利要求7所述的一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，根据颗粒物测试排放数据序列E和第i个本征模态函数H计算残差RESi=E -ΣH；重复构造四个基本函数以及后续的分解获取第i个本征模态函数H，直到残差RESi变的单调，不能再被改进的经验模态算法分解，此时得到的本征模态函数H分量个数为M。9.根据权利要求8所述的一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，利用XGBoost模型对M个本征模态函数H进行瞬时预测时，选择网格搜索结合四折交叉验证的方式，寻找XGBoost模型学习率、决策树数量或者树的最大深度超参数的最优值来获得初步预测值。10.根据权利要求1所述的一种柴油车瞬态过程颗粒物数量排放预测方法，其特征在于，获取柴油车行驶过程中的实际运行数据，将实际运行数据中的进气压力、车速、燃油消耗、发动机转速、发动机负荷、排气温度和行驶总里程七个参数输入组合预测模型中计算获取柴油车瞬态过程颗粒物数量的瞬时估算值。
说明书desc
技术领域本发明涉及颗粒物排放预测技术领域，具体涉及一种柴油车瞬态过程颗粒物数量排放预测方法。背景技术柴油机具有良好的燃油经济性和动力性，但其排放中含有过高的颗粒物排放。颗粒物的粒径大小是危害人体健康的重要因素。因此，在控制颗粒物数量排放的同时，监测实际道路车辆的颗粒物数量排放也非常重要。经过检索，公开号为CN112964476A、名称为一种重型柴油车实际道路颗粒物排放在线预测方法的中国专利，公开了以下步骤；S1、进行车载PEMS测试，获取测试数据；S2、对数据进行清洗，并选取特征参数；S3、对选取的特征参数进行处理，进行预测模型训练，得到基于神经网络的颗粒物预测模型；S4、获取车辆实际运行时颗粒物排放数据，导入至预测模型，获取颗粒物排放预测结果。该发明所述的重型柴油车实际道路颗粒物排放在线预测方法该方法不需要增加额外的传感器等硬件，不增加车辆成本，基于试验数据训练的神经网络能够进行各种行驶工况下的颗粒物排放预测。现有的颗粒物排放预测方案存在一定的缺陷，只是基于单一的神经网络算法来对现有的测试数据进行训练获取测试模型，不能将不同的训练技术进行联立整合导致瞬态过程颗粒物数量排放的预测效果不佳。发明内容本发明的目的在于提供一种柴油车瞬态过程颗粒物数量排放预测方法，用于解决现有方案中只是基于单一的神经网络算法来对现有的测试数据进行训练获取测试模型，不能将不同的训练技术进行联立整合导致瞬态过程颗粒物数量排放的预测效果不佳的技术问题。本发明的目的可以通过以下技术方案实现：一种柴油车瞬态过程颗粒物数量排放预测方法，包括：S1：在不同试验条件下进行柴油车实际道路排放试验测试以及数据监测统计，获取柴油车的测试运行数据和排放数据；提取排放数据中不同时间监测统计的颗粒物瞬时排放量的数值并组合得到排放数据序列E，将测试运行数据与排放数据序列组合得到测试数据集；S2：通过改进的经验模态分解算法对测试数据集中的排放数据序列E进行分解获取多个不同时频的本征模态函数H；S3：将测试数据集中的测试运行数据作为输入量，以及将获得的多个本征模态函数H作为输出量，对XGBoost算法进行训练，利用XGBoost模型对多个本征模态函数H进行瞬时预测，获得初步预测值；并将多个本征模态函数H与初步预测值/＞作差得到残差序列/＞；S4：将残差序列和多个本征模态函数H转化为监督学习数据并作为门控循环单元模型的输入参数来对残差序列进行修正，得到残差序列的预测值/＞；S5：将XGBoost模型瞬时预测的初步预测值和门控循环单元模型的预测值/＞进行相加获取组合预测模型，组合预测模型的预测函数/＞为：/＞；S6：利用训练完成的组合预测模型进行颗粒物瞬态过程排放预测计算并输出颗粒物的实际瞬时估算结果。优选地，试验条件包含若干不同的海拔范围、不同道路类型以及不同道路类型对应的行驶里程。优选地，测试运行参数包含进气压力、车速、燃油消耗、发动机转速、发动机负荷、排气温度和行驶总里程；排放数据包含柴油车测试途中不同时间的颗粒物瞬时排放量。优选地，通过改进的经验模态分解算法对颗粒物测试排放数据序列E进行一次分解，得到第一个本征模态函数h；计算第一个本征模态函数h的平均频率w0和平均幅值A0。优选地，获取任意时刻tj的瞬时频率；根据所有时刻tj的瞬时频率/＞计算获取平均频率/＞；获取任意时刻tj的瞬时幅值 ；根据所有时刻tj的瞬时幅值计算获取平均频率/＞；其中，j=1，2，3，……，N；N为正整数，表示为数据总个数。优选地，构造四个基本函数：/＞；其中，k=1，2，3，4；RESi为残差函数，且第一个残差RES1=0；通过改进的经验模态分解算法分别对四个基本函数进行分解，得到四个本征模态函数Fik。优选地，根据四个本征模态函数Fik计算获取第i个本征模态函数H=/4。优选地，根据颗粒物测试排放数据序列E和第i个本征模态函数H计算残差RESi=E -ΣH；重复构造四个基本函数以及后续的分解获取第i个本征模态函数H，直到残差RESi变的单调，不能再被改进的经验模态算法分解，此时得到的本征模态函数H分量个数为M。优选地，利用XGBoost模型对M个本征模态函数H进行瞬时预测时，选择网格搜索结合四折交叉验证的方式，寻找XGBoost模型学习率、决策树数量或者树的最大深度超参数的最优值来获得初步预测值。优选地，获取柴油车行驶过程中的实际运行数据，将实际运行数据中的进气压力、车速、燃油消耗、发动机转速、发动机负荷、排气温度和行驶总里程七个参数输入组合预测模型中计算获取柴油车瞬态过程颗粒物数量的瞬时估算值。相比于现有方案，本发明实现的有益效果：本发明通过监测统计柴油车实验测试的OBD数据，通过改进EMD算法对柴油车的PN排放数据进行分解，降低了瞬态数据的波动性和随机性，同时可以增强后续模型学习的稳定性和效率，将排放数据预处理分解的结果并结合测试运行数据分别对XGBoost算法和门控循环单元模型进行训练以及修正，提高了组合预测模型运行预测的稳定性和适用性；通过将训练修正的XGBoost和GRU进行组合获取组合预测模型，实现不同训练技术的联立整合，可以有效提高后续瞬态过程颗粒物数量排放的预测效果。附图说明下面结合附图对本发明作进一步的说明。图1为本发明一种柴油车瞬态过程颗粒物数量排放预测方法的流程框图。图2为本发明中XGBoost简单原理示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通运维人员在没有作出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。如图1所示，本发明为一种柴油车瞬态过程颗粒物数量排放预测方法，包括：S1：在不同试验条件下进行柴油车实际道路排放试验测试以及数据监测统计，获取柴油车的测试运行数据和排放数据；提取排放数据中不同时间监测统计的颗粒物瞬时排放量的数值并组合得到排放数据序列E，将测试运行数据与排放数据序列组合得到测试数据集；其中，试验条件包含若干不同的海拔范围、不同道路类型以及不同道路类型对应的行驶里程；测试运行参数包含进气压力、车速、燃油消耗、发动机转速、发动机负荷、排气温度和行驶总里程；排放数据包含柴油车测试途中不同时间的颗粒物瞬时排放量；具体的，柴油车在0-800m、800-1600m、1600-2400m三个海拔范围内分别进行实际道路排放试验；每个海拔范围内柴油车在实际道路行驶过程中使用PEMS进行试验，传动装置是汽车中负责将发动机的动力传输到车轮的系统，而 PEMS 是一种用于监测和管理传动装置性能的电子系统，通常由一组传感器、控制模块和显示器组成，用于实时监测和诊断传动装置的各种参数和状态；PEMS 可以监测和记录传动装置的工作状态、转速、温度、油压、故障代码等信息；道路行驶包含市区、市郊和高速三种不同行驶工况，其中市区行驶里程占总里程15%—20%，市郊行驶里程占总里程20%—25%，高速行驶里程占总里程50%—55%；各个工况行驶里程不低于16km，测试时间不少于10000s；通过OBD读取并记录柴油车运行参数，使用PEMS获得对应的瞬时颗粒物数量PN排放；OBD 全称为 On-Board Diagnostics，意为车载诊断系统，它是一种安装在汽车中的电子系统，可以监测和诊断车辆的各种工作状态和故障信息，还可以监测和诊断引擎、变速器、转向、制动等系统的状态，同时还能检测排放和燃油经济性等方面的性能指标；读取柴油车在实际道路行驶过程中OBD产生的测试运行数据，包括进气压力、车速、燃油消耗、发动机转速、发动机负荷、排气温度和行驶总里程七个参数；通过PEMS获取柴油车实际道路行驶过程中的排放数据；需要说明的是，由于发动机内部工作环境复杂，燃烧温度高，造成难以对发动机排放进行直接测量，但是车辆行驶参数与排放息息相关，并且可以较低成本获得车辆行驶参数，如车速、燃油消耗、发动机转速、发动机负荷和行驶里程等，这些参数可以通过OBD直接读取。这些参数虽然不能直接解释燃烧的过程，但都能直接反映燃烧的效果，并且与瞬时颗粒物数量PN排放具有较强的相关性。颗粒物是柴油机气缸内柴油燃烧的产物，车辆驾驶情况间接决定了PN生成量和生成速率，如油门踏板的开度直接决定发动机的燃油消耗、发动机转速大小、行驶速度等车辆特征参数，同时，车辆负荷越大，所需油门踏板开度也更大，这些将直接影响柴油机的排放结果，海拔也对颗粒物排放有重要影响。因此，通过OBD读取的车辆行驶参数对PN排放进行预测是可行的。S2：通过改进的经验模态分解算法对测试数据集中的排放数据序列E进行分解获取多个不同时频的本征模态函数H；具体的步骤包括：S21：通过改进的经验模态分解算法对颗粒物测试排放数据序列E进行一次分解，得到第一个本征模态函数h；S22：计算第一个本征模态函数h的平均频率w0和平均幅值A0；其中，获取任意时刻tj的瞬时频率；根据所有时刻tj的瞬时频率/＞计算获取平均频率/＞；获取任意时刻tj的瞬时频率计算获取平均频率/＞；获取任意时刻tj的瞬时幅值 ；根据所有时刻tj的瞬时幅值计算获取平均频率/＞；其中，j=1，2，3，……，N；N为正整数，表示为数据总个数；S23：构造四个基本函数：/＞；其中，k=1，2，3，4；RESi为残差函数，且第一个残差RES1=0；通过改进的经验模态分解算法分别对四个基本函数进行分解，得到四个本征模态函数Fik，根据四个本征模态函数Fik计算获取第i个本征模态函数H=/4；S24：根据颗粒物测试排放数据序列E和第i个本征模态函数H计算残差RESi=E -ΣH；重复S2和S3，直到残差RESi变的单调，不能再被改进的经验模态算法分解，此时得到的本征模态函数H分量个数为M；此时；柴油车在实际道路行驶过程中产生的PN排放数据具有较强的波动性、随机性和非平稳性，在模型建立之前，需要对PMES测试的PN排放数据进行预处理，以增强模型的稳定性和泛化性；EMD算法是一种针对时间序列的分解算法，根据数据自身的时间尺度特征进行信号分解，分解得到的每一个子序列反映不同时频的特征变化；分解过后，通过子序列相加也能完美的还原出原始序列。本发明实施例中的改进EMD算法降低了EMD算法造成模态混叠的影响，同时也消除了CEEMDAN算法中引入噪声的影响以及计算成本较高的问题，非常适合于非线性、非平稳的时间序列分析和提高数据稳定性，在建立模型中使用改进EMD可以增强模型的预测性能。S3：将测试数据集中的测试运行数据作为输入量，以及将获得的M个本征模态函数H作为输出量，对XGBoost算法进行训练，利用XGBoost模型对M个本征模态函数H进行瞬时预测，获得初步预测值；并将M个本征模态函数H与初步预测值/＞作差得到残差序列/＞；其中，将测试运行数据中进气压力、车速、燃油消耗、发动机转速、发动机负荷、排气温度和行驶总里程七个参数作为输入量；利用XGBoost模型对M个本征模态函数H进行瞬时预测时，选择网格搜索结合四折交叉验证的方式，寻找XGBoost模型学习率、决策树数量或者树的最大深度超参数的最优值来获得初步预测值；S4：将残差序列和M个本征模态函数H转化为监督学习数据并作为门控循环单元模型的输入参数来对残差序列进行修正，得到残差序列的预测值/＞；S5：将XGBoost模型瞬时预测的初步预测值和门控循环单元模型的预测值/＞进行相加获取组合预测模型，组合预测模型的预测函数/＞为：/＞；XGBoost是集成算法Boosting中的一种，在GBDT的基础上进行改进，将许多个CART回归树弱分类器集成在一起，形成一个强分类器，具有更强大的计算能力和应用范围；XGBoost通过增量训练来循环学习CART回归树，利用数据特征的选择条件作为树的非叶节点，树的叶节点会对应一个得分值，每一个叶节点会包括若干样本x，模型对样本x的预测值为多颗回归树中包含样本x的所有叶节点的得分之和。如图2所示，对本发明实施例中实验测试的柴油车预测模型测试表明：当树的最大深度为7时，可以达到更高的训练精度；观察每棵树的随机样本比例为0.8时，可以更好的避免模型过拟合；弱学习器的个数直接影响集成最终效果，数量太少，容易欠拟合，数量太多，容易过拟合，一般情况与学习率一起考虑；在本发明实施例的柴油车预测模型中，弱学习器数量在500—600，学习率在0.008—0.012之间能取得泛化性较好的结果。S6：利用训练完成的组合预测模型进行颗粒物瞬态过程排放预测计算并输出颗粒物的实际瞬时估算结果。其中，获取柴油车行驶过程中的实际运行数据，将实际运行数据中的进气压力、车速、燃油消耗、发动机转速、发动机负荷、排气温度和行驶总里程七个参数输入组合预测模型中计算获取柴油车瞬态过程颗粒物数量的瞬时估算值。本发明实施例中，通过监测统计柴油车实验测试的OBD数据，通过改进EMD算法对柴油车的PN排放数据进行分解，降低了瞬态数据的波动性和随机性，同时可以增强后续模型学习的稳定性和效率，将排放数据预处理分解的结果并结合测试运行数据分别对XGBoost算法和门控循环单元模型进行训练以及修正，提高了组合预测模型运行预测的稳定性和适用性；通过将训练修正的XGBoost和GRU进行组合获取组合预测模型，实现不同训练技术的联立整合，可以有效提高后续瞬态过程颗粒物数量排放的预测效果。此外，上述中涉及的公式均是去除量纲取其数值计算，是由采集大量数据进行软件通过模拟软件模拟得到最接近真实情况的一个公式。在本发明所提供的几个实施例中，应该理解到，所揭露的系统，可以通过其它的方式实现。例如，以上所描述的发明实施例仅仅是示意性的，例如，模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理模块，既可以位于一个地方，或者也可以分布到多个网络模块上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能模块可以集成在一个处理模块中，也可以是各个模块单独物理存在，也可以两个或两个以上模块集成在一个模块中。上述集成的模块既可以采用硬件的形式实现，也可以采用硬件加软件功能模块的形式实现。对于本领域运维人员而言，显然本发明不限于上述示范性实施例的细节，而且在不背离本发明的基本特征的情况下，能够以其他的具体形式实现本发明。最后应说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通运维人员应当理解，可以对本发明的技术方案进行修改或等同替换，而不脱离本发明技术方案的精神和范围。
