标题title
3D打印智能辅助系统、方法及存储介质
摘要abst
本申请实施例公开了一种3D打印智能辅助系统、方法及存储介质，其中3D打印智能辅助系统包括：相连接的多处理器片上系统和层次型超限学习机忆阻器硬件网络，多处理器片上系统用于获取3D打印机械臂的实时图片数据，基于实时图片数据初始化和训练基于层次型超限学习机忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，以获取训练标签数据，基于训练标签数据进行随机化权重分配，并将得到的权重分配数据发送至层次型超限学习机忆阻器硬件网络，以基于层次型超限学习机忆阻器硬件网络模型的输出结果，得到机械臂的参数调整决策，从而辅助3D打印中机械臂的控制。以解决现有技术中存在的计算功耗高、延迟大的问题。
权利要求书clms
1.一种3D打印智能辅助系统，其特征在于，包括：相连接的多处理器片上系统和层次型超限学习机忆阻器硬件网络，其中，多处理器片上系统用于获取3D打印机械臂的实时图片数据，基于实时图片数据初始化和训练基于层次型超限学习机忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，以获取训练标签数据，基于训练标签数据进行随机化权重分配，并将得到的权重分配数据发送至层次型超限学习机忆阻器硬件网络，以基于层次型超限学习机忆阻器硬件网络模型的输出结果，得到机械臂的参数调整决策，从而辅助3D打印中机械臂的控制。2.根据权利要求1所述的3D打印智能辅助系统，其特征在于，在得到机械臂的参数调整决策之后，多处理器片上系统还用于：获取3D打印路径代码，基于3D打印路径代码进行机械臂运动轨迹规划，并融合机械臂的参数调整决策，进行对机械臂的参数化调整，以实现对机械臂的控制。3.根据权利要求1所述的3D打印智能辅助系统，其特征在于，层次型超限学习机忆阻器硬件网络模型包括：多路选择器、生成电路、忆阻器阵列和内层超限学习机忆阻器节点，其中，多路选择器用于基于输入的权重分配数据进行随机化权重分配；生成电路用于根据输入的权重分配数据生成模拟直流电流输入至忆阻器阵列中，以使忆阻器阵列将权重分配数据复制到每列的内层超限学习机忆阻器节点中，进而与当前镜像阵列中生成的随机权重相乘；忆阻器阵列用于根据基尔霍夫定律，对相同列中的电流求和，将电流求和结果作为隐藏层神经元的输入；内层超限学习机忆阻器节点用于获取隐藏层神经元的输出结果，完成小网格计算，以通过列扫描器得到输出权重，并最终得到层次型超限学习机忆阻器硬件网络模型的输出结果。4.根据权利要求3所述的3D打印智能辅助系统，其特征在于，层次型超限学习机忆阻器硬件网络还包括：尖峰神经元电路，用于将忆阻器阵列输出的电流转换为隐藏层神经元的输出结果。5.根据权利要求3所述的3D打印智能辅助系统，其特征在于，层次型超限学习机忆阻器硬件网络模型的输出结果表示为：，其中，表示层次型超限学习机忆阻器硬件网络模型的输出，表示隐藏矩阵,表示M个独立的内层超限学习机忆阻器节点，表示全部超限学习机模型的层次型超限学习机忆阻器硬件网络模型的输出权重，表示M个独立的内层超限学习机忆阻器节点的输出权重，表示每一个独立的内层超限学习机忆阻器节点的输出权重，Om表示内层超限学习机忆阻器节点的输出，Hm表示内层超限学习机忆阻器节点的隐藏层输出矩阵，表示求矩阵的Moore-Penrose广义逆，是sigmod激活函数，表示目标矩阵，表示给定训练数据集，训练数据集由实时图片数据预处理构成，和/＞分别表示内层超限学习机忆阻器节点的随机输入权重和初始偏置。6.根据权利要求5所述的3D打印智能辅助系统，其特征在于，基于实时图片数据初始化和训练基于层次型超限学习机忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，包括：在训练层次型超限学习机忆阻器硬件网络模型过程中，最小化其输出权重参数；具体包括：基于公式：和/＞，对层次型超限学习机忆阻器硬件网络模型进行凸优化，其中表示最小化目标函数/＞时输出权重/＞的取值，/＞为目标函数，/＞表示约束函数，/＞表示取L2范数，/＞表示训练样本，/＞表示训练样本数量，/＞表示常数，/＞表示目标真值与预测值之间的误差；定义凸优化问题增广的目标函数：，其中表示拉格朗日函数，/＞表示目标函数，/＞表示约束函数，/＞表示输出权重，表示梯度常数，/＞表示常数，/＞表示取L2范数，/＞表示第/＞个训练样本的梯度常数，/＞表示目标真值，/＞表示目标真值与预测值之间的误差；基于目标函数，得到凸优化最终输出权重参数的闭式解：，其中表示输出权重，/＞表示/＞阶单位矩阵，/＞表示/＞阶单位矩阵，/＞表示求逆矩阵，/＞表示隐藏层输出矩阵，/＞表示隐藏层输出矩阵的转置，/＞表示常数，/＞表示目标真值输出，/＞表示训练样本数量，/＞表示超限学习机忆阻器隐藏层节点个数。7.根据权利要求2所述的3D打印智能辅助系统，其特征在于，获取3D打印机械臂的实时图片数据，包括：获取通过与多处理器片上系统连接的机械臂图像采集装置采集的机械臂的原始图像的实时图片数据；获取3D打印路径代码，基于3D打印路径代码进行机械臂运动轨迹规划，包括：获取通过存储介质输入的切片好的3D打印路径代码，基于3D打印路径代码进行机械臂运动轨迹转化，将3D打印路径转换为机械臂运动轨迹，对机械臂运动轨迹求逆解，然后利用规划工具进行机械臂运动轨迹规划。8.根据权利要求1所述的3D打印智能辅助系统，其特征在于，权重分配数据包括地址和权重参数数据；机械臂的参数调整决策包括机械臂的速度、加速度和路径三个参数调整决策。9.一种3D打印智能辅助方法，其特征在于，包括：获取3D打印机械臂的实时图片数据，并进行特征提取和二值化；基于提取的特征数据初始化和训练基于层次型超限学习机忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，以获取训练标签数据；基于训练标签数据进行随机化权重分配，并将得到的权重分配数据发送至层次型超限学习机忆阻器硬件网络，以基于获取的层次型超限学习机忆阻器硬件网络模型的输出结果，得到机械臂的参数调整决策，从而辅助3D打印中机械臂的控制。10.一种计算机存储介质，其上存储有计算机程序，其特征在于，计算机程序被机器执行时实现如权利要求9的方法的步骤。
说明书desc
技术领域本申请涉及人工智能辅助3D打印技术领域，具体涉及一种3D打印智能辅助系统、方法及存储介质。背景技术在现有技术中，用于辅助3D打印的神经网络等机器学习算法都是运行在CPU或者GPU等冯诺伊曼架构环境下，此架构中计算和存储功能是分离的，分别由CPU和存储器完成。随着科技的发展，CPU和存储器的速度和容量飞速提高，但由于传输数据、指令的总线速度的提升十分有限，CPU和存储器之间频繁的数据传输造成信息处理的瓶颈，称为冯诺伊曼瓶颈；另一方面，存储器数据访问速度跟不上CPU的数据处理速度，且这一差距被越拉越大，导致了存储墙现象，存储器性能严重限制CPU性能发挥。因此，现有的采用冯诺伊曼架构的3D打印智能辅助系统，存在计算功耗高、延迟大的问题。发明内容本申请实施例的目的在于提供一种3D打印智能辅助系统、方法及存储介质，用以解决现有技术中的采用冯诺伊曼架构的作为3D打印智能辅助系统，存在的计算功耗高、延迟大的问题。为实现上述目的，本申请实施例提供一种3D打印智能辅助系统，包括：相连接的多处理器片上系统和层次型超限学习机忆阻器硬件网络，其中，所述多处理器片上系统用于获取3D打印机械臂的实时图片数据，基于所述实时图片数据初始化和训练基于所述层次型超限学习机忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，以获取训练标签数据，基于所述训练标签数据进行随机化权重分配，并将得到的权重分配数据发送至所述层次型超限学习机忆阻器硬件网络，以基于所述层次型超限学习机忆阻器硬件网络模型的输出结果，得到所述机械臂的参数调整决策，从而辅助3D打印中所述机械臂的控制。可选地，在所述得到所述机械臂的参数调整决策之后，所述多处理器片上系统还用于：获取3D打印路径代码，基于所述3D打印路径代码进行机械臂运动轨迹规划，并融合所述机械臂的参数调整决策，进行对所述机械臂的参数化调整，以实现对所述机械臂的控制。可选地，所述层次型超限学习机忆阻器硬件网络包括：多路选择器、生成电路、忆阻器阵列和内层超限学习机忆阻器节点，其中，所述多路选择器用于基于输入的所述权重分配数据进行随机化权重分配；所述生成电路用于根据输入的所述权重分配数据生成模拟直流电流输入至所述忆阻器阵列中，以使所述忆阻器阵列将所述权重分配数据复制到每列的所述内层超限学习机忆阻器节点中，进而与当前镜像阵列中生成的随机权重相乘；所述忆阻器阵列用于根据基尔霍夫定律，对相同列中的电流求和，将电流求和结果作为隐藏层神经元的输入；所述内层超限学习机忆阻器节点用于获取所述隐藏层神经元的输出结果，完成小网格计算，以通过列扫描器得到输出权重，并最终得到所述层次型超限学习机忆阻器硬件网络模型的输出结果。可选地，所述层次型超限学习机忆阻器硬件网络还包括：尖峰神经元电路，用于将所述忆阻器阵列输出的电流转换为所述隐藏层神经元的输出结果。可选地，所述层次型超限学习机忆阻器硬件网络模型的输出结果表示为：，其中， 表示所述层次型超限学习机忆阻器硬件网络模型的输出，表示隐藏矩阵,表示M个独立的层次型超限学习机忆阻器硬件网络模型，表示全部层次型超限学习机忆阻器硬件网络模型的输出权重，表示M个独立的层次型超限学习机忆阻器硬件网络模型的输出权重，表示每一个独立的层次型超限学习机忆阻器硬件网络模型的输出权重，Om表示内层超限学习机忆阻器节点的输出，Hm表示内层超限学习机忆阻器节点的隐藏层输出矩阵，表示求矩阵的Moore-Penrose广义逆，是sigmod激活函数，表示目标矩阵，表示给定训练数据集，所述训练数据集由所述实时图片数据预处理构成，和分别表示内层超限学习机忆阻器节点的随机输入权重和初始偏置。可选地，所述基于所述实时图片数据初始化和训练基于所述层次型超限学习机忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，包括：在训练所述层次型超限学习机忆阻器硬件网络模型过程中，最小化其输出权重参数；具体包括：基于公式：和，对所述层次型超限学习机忆阻器硬件网络模型进行凸优化，其中表示最小化目标函数时输出权重的取值，表示目标函数，表示约束函数，表示取L2范数，表示训练样本，表示训练样本数量，表示常数，表示目标真值与预测值之间的误差；定义凸优化问题增广的目标函数：，其中表示拉格朗日函数，表示目标函数，表示约束函数，表示输出权重，表示梯度常数，表示常数，表示取L2范数，表示第个训练样本的梯度常数，表示目标真值，表示目标真值与预测值之间的误差；基于所述目标函数，得到凸优化最终输出所述权重参数的闭式解：，其中表示输出权重，表示阶单位矩阵，表示阶单位矩阵，表示求逆矩阵，表示隐藏层输出矩阵，表示隐藏层输出矩阵的转置，表示常数，表示目标真值输出，表示训练样本数量，表示超限学习机忆阻器隐藏层节点个数。可选地，所述获取3D打印机械臂的实时图片数据，包括：获取通过与所述多处理器片上系统连接的机械臂图像采集装置采集的所述机械臂的原始图像的实时图片数据；所述获取3D打印路径代码，基于所述3D打印路径代码进行机械臂运动轨迹规划，包括：获取通过存储介质输入的切片好的所述3D打印路径代码，基于所述3D打印路径代码进行机械臂运动轨迹转化，将3D打印路径转换为机械臂运动轨迹，对所述机械臂运动轨迹求逆解，然后利用规划工具进行机械臂运动轨迹规划。可选地，所述权重分配数据包括地址和权重参数数据；所述机械臂的参数调整决策包括所述机械臂的速度、加速度和路径三个参数调整决策。为实现上述目的，本申请还提供一种3D打印智能辅助方法，包括：获取3D打印机械臂的实时图片数据，并进行特征提取和二值化；基于提取的所述特征数据初始化和训练基于忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，以获取训练标签数据；基于所述训练标签数据进行随机化权重分配，并将得到的权重分配数据发送至所述层次型超限学习机忆阻器硬件网络，以基于获取的所述层次型超限学习机忆阻器硬件网络模型的输出结果，得到所述机械臂的参数调整决策，从而辅助3D打印中所述机械臂的控制。为实现上述目的，本申请还提供一种计算机存储介质，其上存储有计算机程序，其中所述计算机程序被机器执行时实现如上所述的方法的步骤。本申请实施例具有如下优点：本申请实施例提供一种3D打印智能辅助系统，包括：相连接的多处理器片上系统和层次型超限学习机忆阻器硬件网络，其中，所述多处理器片上系统用于获取3D打印机械臂的实时图片数据，基于所述实时图片数据初始化和训练基于所述层次型超限学习机忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，以获取训练标签数据，基于所述训练标签数据进行随机化权重分配，并将得到的权重分配数据发送至所述层次型超限学习机忆阻器硬件网络，以基于所述层次型超限学习机忆阻器硬件网络模型的输出结果，得到所述机械臂的参数调整决策，从而辅助3D打印中所述机械臂的控制。通过上述系统，采用基于忆阻器的电路作为硬件神经网络计算单元，采用多处理器片上系统作为3D打印机械臂的辅助控制系统，针对于需要复杂环境的实时智能决策，提供更智能的系统辅助。由于忆阻器作为一种基本的无源器件，所具有的纳米级尺寸及非易失性,不仅能够在模拟神经突触时实现突触权值的不断变化，实现存算一体化，还可以构建集成度比较高的神经网络结构，这使得采用层次型超限学习机忆阻器硬件网络的3D打印智能辅助系统，计算功耗低，延迟小。附图说明为了更清楚地说明本申请的实施方式或现有技术中的技术方案，下面将对实施方式或现有技术描述中所需要使用的附图作简单地介绍。显而易见地，下面描述中的附图仅仅是示例性的，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图引申获得其它的实施附图。图1为本申请实施例提供的一种3D打印智能辅助系统的多处理器片上系统的结构示意图；图2为本申请实施例提供的一种3D打印智能辅助系统的层次型超限学习机忆阻器硬件网络模型的结构示意图；图3为本申请实施例提供的一种3D打印智能辅助系统的ELM忆阻器小网络的结构示意图；图4为本申请实施例提供的一种3D打印智能辅助系统的尖峰神经元电路的原理图；图5为本申请实施例提供的一种3D打印智能辅助方法的流程图。具体实施方式以下由特定的具体实施例说明本申请的实施方式，熟悉此技术的人士可由本说明书所揭露的内容轻易地了解本申请的其他优点及功效，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。此外，下面所描述的本申请不同实施方式中所涉及的技术特征只要彼此之间未构成冲突就可以相互结合。本申请一实施例提供一种3D打印智能辅助系统，包括：相连接的多处理器片上系统和层次型超限学习机忆阻器硬件网络。参考图1，图1为本申请的一实施方式中提供的一种3D打印智能辅助系统的多处理器片上系统的结构示意图，应当理解的是，该结构图还可以包括未示出的附加框和/或可以省略所示出的框，本申请的范围在此方面不受限制。所述多处理器片上系统用于获取3D打印机械臂的实时图片数据，基于所述实时图片数据初始化和训练基于所述层次型超限学习机忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，以获取训练标签数据，基于所述训练标签数据进行随机化权重分配，并将得到的权重分配数据发送至所述层次型超限学习机忆阻器硬件网络，以基于所述层次型超限学习机忆阻器硬件网络模型的输出结果，得到所述机械臂的参数调整决策，从而辅助3D打印中所述机械臂的控制。参考图1，在一些实施例中，所述获取3D打印机械臂的实时图片数据，包括：获取通过与所述多处理器片上系统连接的机械臂图像采集装置采集的所述机械臂的原始图像的实时图片数据。参考图1，在一些实施例中，在所述得到所述机械臂的参数调整决策之后，所述多处理器片上系统还用于：获取3D打印路径代码，基于所述3D打印路径代码进行机械臂运动轨迹规划，并融合所述机械臂的参数调整决策，进行对所述机械臂的参数化调整，以实现对所述机械臂的控制。参考图1，在一些实施例中，所述获取3D打印路径代码，基于所述3D打印路径代码进行机械臂运动轨迹规划，包括：获取通过存储介质输入的切片好的所述3D打印路径代码，基于所述3D打印路径代码进行机械臂运动轨迹转化，将3D打印路径转换为机械臂运动轨迹，对所述机械臂运动轨迹求逆解，然后利用规划工具进行机械臂运动轨迹规划。参考图1，具体地，多处理器片上系统内部主要由PS部分和PL部分两部分组成。PS部分是处理系统部分，也就是中央处理器芯片部分，PL部分是可编程逻辑部分，也就是现场可编程逻辑门阵列。具体地，其中PS部分，通过其中的程序实现：获取通过机械臂图像采集装置采集的机械臂的原始图像的实时图片数据，进行特征提取，并对提取的特征数据进行二值化；基于提取的特征数据初始化和训练HELM模型；将得到的数据发送到PL部分。PL部分通过其中的程序实现：处理获取到的训练标签数据,配置随机化权重和初始偏置，并进行外层随机化权重分配和内层随机化权重分配，并通过地址线A＜6:0＞和B＜6:0＞输出给层次型超限学习机忆阻器硬件网络。对HELM模型输出层进行计算，判断模型收敛，若为否，则获取目标矩阵,并且构建HELM模型的lagrange函数提供给凸优化器，由闭式解得到最优偏置，返回到输入更新偏置，直到模型收敛。训练结束后通过基于FPGA的决策电路进行决策，得到机械臂参数调整决策。具体地，对HELM输出层进行计算的主要是一种回归聚类算法，比如K均值，通过输出权重计算，最后得到速度、加速度和路径的预测。具体地，PS部分还通过其中的程序实现：获取通过SD卡等存储介质输入的切片好的3D打印路径G-code代码，基于3D打印路径代码进行机械臂运动轨迹转化，将3D打印路径转换为机械臂运动轨迹，通过ROS moveit ikfast等工具求逆解，通过ROS OMPL等工具进行机械臂运动轨迹规划，并融合机械臂参数调整决策,进行对机械臂的参数化调整；通过ROS ActionServer等工具来控制机械臂。参考图2，图2为本申请的一实施方式中提供的一种3D打印智能辅助系统的忆阻器硬件网络的结构示意图，应当理解的是，该结构图还可以包括未示出的附加框和/或可以省略所示出的框，本申请的范围在此方面不受限制。在一些实施例中，如图2所示，在所述层次型超限学习机忆阻器硬件网络中，所述层次型超限学习机忆阻器硬件网络包括：多路选择器、生成电路、忆阻器阵列和内层超限学习机忆阻器节点。其中，多路选择器可以为128路多路选择器，用于基于输入的地址A＜6:0＞和权重参数数据Data_in1进行随机化权重分配，首先计算并模拟输入网络的随机权重，同时，将地址A＜6:0＞和权重参数Data_in1数据根据地址进行多路分解，利用串行外围接口发送到系统中的特定通道。地址A＜6:0＞和权重参数Data_in1数据会先存储在移位寄存器中，用于配置输入生成电路中模数转换器的输入电流大小。IGC的功能是根据输入的地址和权重参数数据生成模拟直流电流输入至忆阻器阵列中，并且使用1T1R忆阻器阵列构成的外层超限学习机忆阻器节点将地址和权重参数数据复制到每列的ELM忆阻器小网络中，进而与1T1R忆阻器阵列中生成的随机权重相乘。其中ELM忆阻器小网络中内层ELM忆阻器节点的数据处理和输出方式与其外层ELM忆阻器节点相同。在图1至图3中，所述RN_in和CLK_in信号用于配置IGC输入生成电路的复位信号和时钟信号，用于对地址和权重参数数据进行复位和刷新控制。由所述多处理器片上系统上PL部分时钟模块和控制模块输出的CLK_out时钟信号驱动按列扫描每个ELM忆阻器小网络，并将输出数据存储到输出寄存器C＜13:0＞中，输出寄存器C＜13:0＞连接到多处理器片上系统上PL部分的HELM输出层计算模块。其中，图3为本申请的一实施方式中提供的一种3D打印智能辅助系统的ELM忆阻器小网络的结构示意图。此外，在图2和图3中表示数据传输的带箭头线条旁标注的相同字母A至I，用于表示在图2和图3中分别为相同的带箭头线条。具体地，如图2所示，根据基尔霍夫定律，对相同列中的电流求和，将结果作为隐藏层神经元的输入。隐藏层神经元根据输入电流产生不同频率的尖峰振荡，由生成矩阵的异步计数器进行计数。隐藏层神经元输出结果传输到ELM忆阻器小网络中，在所述ELM忆阻器小网络完成小网络计算，通过列扫描器，以便得到输出权重。最后得出HELM的计算结果并进行输出。参考图3，图3为本申请的一实施方式中提供的一种3D打印智能辅助系统的ELM忆阻器小网络的结构示意图，应当理解的是，该结构图还可以包括未示出的附加框和/或可以省略所示出的框，本申请的范围在此方面不受限制。具体地，如图3所示，是本申请所述的机械臂3D打印智能辅助系统中ELM忆阻器小网络的结构示意图，上一隐藏层的数据A，通过Data_in2连接到多路选择器数据输入端上，计算层次化节点随机权重C，通过输入地址B＜6:0＞连接到多路选择器地址输入端。再通过IGC将输入数据生成模拟直流电流并且使用1T1R忆阻器阵列构成的内层ELM忆阻器节点将其复制到每行的神经元隐层中。输出方式与外层相同。参考图2或图3，在一些实施例中，外层ELM忆阻器节点或者内层ELM忆阻器节点还包括尖峰神经元电路，尖峰神经元电路的作用是将输入电流转换为神经元的输出。尖峰神经元电路在图2和图3中用表示，由多处理器片上系统上PL部分中时钟模块和控制模块输出的NEU_EN信号控制使能。其中表示L个尖峰神经元计数器。可通过多处理器片上系统上PL部分中时钟模块和控制模块输出的RN_cnt信号对尖峰神经元计数器进行复位操作。HELM框架能够自动学习组合不同的单个超限学习机ELM忆阻器小网络，本申请采用ELM算法学习多个ELM模型的融合参数，进而通过组合各个单个ELM模型的输出来计算最后的结果。在一些实施例中，所述层次型超限学习机忆阻器硬件网络模型的训练过程分为两个步骤：输入给定训练数据集,目标矩阵，本申请实施例中训练数据集由3D打印机械臂上获取的实时图片数据预处理构成，内层ELM忆阻器节点数目，外层ELM忆阻器节点数目，内、外层ELM忆阻器隐藏层节点数相同为。步骤一：训练单个ELM忆阻器模型，即所述层次型超限学习机忆阻器硬件网络模型内层ELM忆阻器节点的训练，本申请实施例考虑内层ELM忆阻器节点数目等于外层ELM忆阻器节点数目，从而训练个节点独立的层次型超限学习机忆阻器硬件网络模型。图3中内层ELM忆阻器节点计算步骤主要包括：1.产生内层ELM忆阻器节点的随机输入权重和初始偏置，通过地址A＜6:0＞经过字母C线路连接至多路选择器的数据输入端；2.计算内层ELM忆阻器节点的隐藏层输出矩阵Hm：；3.计算内层ELM忆阻器节点的输出权重：；4.计算内层ELM忆阻器节点的输出Om：，其中是sigmod激活函数，也可以是任意非线性分段连续函数，并满足ELM通用逼近能力定理，所述的尖峰神经元电路可以理解为实际硬件化的激活函数。其中表示求矩阵的Moore-Penrose广义逆。步骤二：基于步骤一的学习，计算内层ELM忆阻器节点的输出值，然后学习多个ELM模型的融合参数；在所述层次型超限学习机忆阻器硬件网络模型中将所有内层ELM忆阻器节点输出的级联作为整个所述层次型超限学习机忆阻器硬件网络模型的隐藏矩阵：，其中是第m个内层ELM忆阻器节点的输出；其中，如果所有的内层ELM忆阻器节点有同样的大小，则是一个阶矩阵；所计算的融合参数为外层ELM忆阻器节点的输出权重,是一个的矩阵，表示M个不同内层ELM忆阻器节点贡献给最后结果的组合权重。所述外层ELM忆阻器节点被其参数，，，以及外层输出权重完全定义；每一个独立的层次型超限学习机忆阻器硬件网络模型的输出权重表示为：，每一个内层ELM忆阻器节点的输出权重是一个N×N方矩阵，表示第m个内层ELM忆阻器节点和最后输出之间的连接，全部的输出权重表示为：；所述层次型超限学习机忆阻器硬件网络模型的输出结果表示为：，可以理解为外层ELM忆阻器节点的输出是不同内层ELM忆阻器节点输出的线性组合，其中表示所述层次型超限学习机忆阻器硬件网络模型的输出，表示隐藏矩阵,表示训练步骤一中M个独立的内层ELM忆阻器节点，表示全部ELM模型的层次型超限学习机忆阻器硬件网络模型的输出权重，表示训练步骤一中M个独立的内层ELM忆阻器节点的输出权重，表示每一个独立的内层ELM忆阻器节点的输出权重。本领域技术人员应当理解的是，HELM是一种层次型神经网络，在每个隐层节点中包含一个小网络。在一些实施例中，针对HELM模型训练过程中的参数求解问题,除需考虑最小化网络预测值误差，还需考虑最小化其输出权重参数，从而得到带有正则项的优化问题。本申请提出了一种针对HELM模型进行凸优化的方法：、，其中表示最小化目标函数时输出权重的取值，为目标函数，为约束函数，表示取L2范数，为训练样本，为训练样本数量，为常数，为目标真值与预测值之间的误差。进一步的，定义凸优化问题增广的目标函数，即拉格朗日函数：，其中表示拉格朗日函数，为目标函数，为约束函数，为权重，为梯度常数，为训练样本，为训练样本数量，为常数，表示取L2范数，为第个训练样本的梯度常数，为目标真值，为目标真值与预测值之间的误差。进一步的，由上述拉格朗日函数，根据KKT条件，最优解需要满足以下形式：令权重的一阶偏导等于零，得到下式：，令目标真值与预测值之间的误差的一阶偏导等于零，得到下式： ，令梯度常数的一阶偏导等于零，得到下式：， 其中表示拉格朗日函数，表示输出权重，为第个训练样本的梯度常数，为梯度常数，为目标真值与预测值之间的误差，为常数，为隐藏层输出矩阵的转置，为训练样本数量，表示隐藏层行向量，为目标真值。进一步的，若存在小训练数据集情形，“小训练数据集”指训练样本数量少于ELM隐藏层节点个数。将式、式带入式得:，联立式、式可得：；进一步的，若存在大训练数据集情形,“大训练数据集”指训练样本数量远多于ELM隐藏层节点个数。此时由式、式可知：，；进一步的，再由式可得：， ；进一步的，联立式、式可得：；进一步的，得到凸优化最终输出权重的闭式解；，其中表示输出权重，表示阶单位矩阵，表示阶单位矩阵，表示求逆矩阵，表示求矩阵的Moore-Penrose广义逆，为隐藏层输出矩阵，为隐藏层输出矩阵的转置，为常数，为目标真值输出，为训练样本数量，为内、外层ELM忆阻器隐藏层节点个数。通过凸优化器输出权重的闭式解和随机输入权重可以反求出层次型超限学习机忆阻器硬件网络模型的最优偏置，其中表示sigmod激活函数的反函数，表示凸优化输出权重闭式解的Moore-Penrose广义逆，表示训练数据集,表示目标矩阵。对得到的最优偏置进行存储可用于更新初始偏置，加速模型训练收敛，并配合随机输入权重完成新的训练。本领域技术人员应当理解的是，所谓1T1R是指一个晶体管与一个忆阻器或阻变单元串联的结构。利用晶体管实现对忆阻器单元的选通，避免因漏电流问题造成的串扰现象。参考图4，图4为本申请的一实施方式中提供的一种3D打印智能辅助系统的尖峰神经元电路的原理图，应当理解的是，该原理图还可以包括未示出的附加框和/或可以省略所示出的框，本申请的范围在此方面不受限制。图4中管表示尖峰神经元电路的亚阈值晶体管，表示反馈电容器，表示尖峰神经元电路的输入电压信号，表示输入寄生存储电电容的存储电压，表示输入寄生存储电容，表示运算放大器的参考电压，表示尖峰神经元电路的输出电压信号。具体地，尖峰神经元电路的作用是将输入电流转换为神经元的输出。在构建好输入电路后，为了模拟神经元行为，将输入电流等效为每个神经元的输入，每个神经元的输出可以视为由以下尖峰率公式：，其中，是输出信号的采样周期，表示一个周期内的最大尖峰数，是一个赫维赛德阶跃函数，表示泄漏电流，表示输入电流。如果输入电流比泄漏电流小时，泄漏电流将不允许神经元产生尖峰。在一些实施例中，尖峰神经元输出可以用于计数器计时，因此在一定的采样时间内，如果每个神经元产生次尖峰，则可以把计数器输出看成的量化情况。然后，在第二阶段中继续进行计算得到。增材制造领域正在迅速扩大，新的材料、技术和解决方案不断被涌现。从确定某项工作的最佳材料到通过消除人为错误来提高产品的构造质量，人工智能辅助3D打印正在发挥其独特的优势。自忆阻器被用作电子突触器件以来，由于忆阻器中离子的迁移十分类似于神经突触中神经递质的扩散过程，于是利用忆阻器来模拟神经网络中的突触成为一大趋势，被广泛运用在神经网络中存储突触权值。大量的实验证明，用忆阻器来模拟神经网络中的突触将会有很大的前景优势。忆阻器作为一种基本的无源器件，所具有的纳米级尺寸及非易失性,不仅能够在模拟神经突触时实现突触权值的不断变化，实现存算一体化，还可以构建集成度比较高的神经网络结构，这使得人工神经网络不仅具有学习记忆的能力，同时其功能也变得更加多样化。因此，本申请提出的一种基于忆阻器网络优化的机械臂3D打印智能辅助系统，采用忆阻器RRAM电路作为硬件神经网络计算单元，MPSOC多处理器片上系统作为3D打印机械臂的控制系统，针对于需要复杂环境的实时智能决策，例如需要原位打印的生物3D打印以及文物修复3D打印等需要高稳定性的环境，提供更智能的系统辅助。同时，采用忆阻器硬件网络作为3D打印智能辅助系统，具有计算功耗低，延迟小的优点。本申请实施例还提供一种3D打印智能辅助方法，包括：获取3D打印机械臂的实时图片数据，并进行特征提取和二值化；基于提取的特征数据初始化和训练基于层次型超限学习机忆阻器硬件网络优化的层次型超限学习机忆阻器硬件网络模型，以获取训练标签数据；基于所述训练标签数据进行随机化权重分配，并将得到的权重分配数据发送至所述层次型超限学习机忆阻器硬件网络，以基于获取的所述层次型超限学习机忆阻器硬件网络模型的输出结果，得到所述机械臂的参数调整决策，从而辅助3D打印中所述机械臂的控制。具体地，参考图5，图5为本申请的一实施方式中提供的一种3D打印智能辅助方法的流程图，应当理解的是，该流程图还可以包括未示出的附加框和/或可以省略所示出的框，本申请的范围在此方面不受限制。如图5所示，首先是执行左侧流程，第一步，通过机械臂一旁的摄像头采集3D打印过程实时视频，第二步，获取实时图片数据，并进行特征提取，二值化，第三步，训练基于忆阻器硬件网络优化的HELM模型，第四步，对打印位置进行校准，并通过基于FPGA的决策电路，对机械臂速度、加速度以及路径点时间参数化进行调整，并调节喷头流速，第五步，通过3D打印喷嘴控制器对喷头流速进行调整。然后执行右侧流程，首先，第一步，输入打印文件G-code路径，第二步，将3D打印路径转化为机械臂运动轨迹，如MOVJ关节运动、MOVL直线运动、MOVC圆弧运动，第三步，基于ROS开源运动规划库OMPL中Ruckig时间最优轨迹生成算法对机械臂运动轨迹进行规划，并获取左侧流程中速度、加速度、路径进行参数调整，第四步，通过ActionServer动作服务器将规划的关节角度转换为机械臂电机的控制信号，第五步，控制实体机械臂。具体实现方法参考前述系统实施例，此处不再赘述。本申请可以是方法、装置、系统和/或计算机程序产品。计算机程序产品可以包括计算机可读存储介质，其上载有用于执行本申请的各个方面的计算机可读程序指令。计算机可读存储介质可以是可以保持和存储由指令执行设备使用的指令的有形设备。计算机可读存储介质例如可以是但不限于电存储设备、磁存储设备、光存储设备、电磁存储设备、半导体存储设备或者上述的任意合适的组合。计算机可读存储介质的更具体的例子包括：便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、静态随机存取存储器、便携式压缩盘只读存储器、数字多功能盘、记忆棒、软盘、机械编码设备、例如其上存储有指令的打孔卡或凹槽内凸起结构、以及上述的任意合适的组合。这里所使用的计算机可读存储介质不被解释为瞬时信号本身，诸如无线电波或者其他自由传播的电磁波、通过波导或其他传输媒介传播的电磁波、或者通过电线传输的电信号。这里所描述的计算机可读程序指令可以从计算机可读存储介质下载到各个计算/处理设备，或者通过网络、例如因特网、局域网、广域网和/或无线网下载到外部计算机或外部存储设备。网络可以包括铜传输电缆、光纤传输、无线传输、路由器、防火墙、交换机、网关计算机和/或边缘服务器。每个计算/处理设备中的网络适配卡或者网络接口从网络接收计算机可读程序指令，并转发该计算机可读程序指令，以供存储在各个计算/处理设备中的计算机可读存储介质中。用于执行本申请操作的计算机程序指令可以是汇编指令、指令集架构指令、机器指令、机器相关指令、微代码、固件指令、状态设置数据、或者以一种或多种编程语言的任意组合编写的源代码或目标代码，所述编程语言包括面向对象的编程语言—诸如Smalltalk、C++等，以及常规的过程式编程语言—诸如“C”语言或类似的编程语言。计算机可读程序指令可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络—包括局域网或广域网—连接到用户计算机，或者，可以连接到外部计算机。在一些实施例中，通过利用计算机可读程序指令的状态信息来个性化定制电子电路，例如可编程逻辑电路、现场可编程门阵列或可编程逻辑阵列，该电子电路可以执行计算机可读程序指令，从而实现本申请的各个方面。这里参照根据本申请实施例的方法、装置和计算机程序产品的流程图和/或框图描述了本申请的各个方面。应当理解，流程图和/或框图的每个方框以及流程图和/或框图中各方框的组合，都可以由计算机可读程序指令实现。这些计算机可读程序指令可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理单元，从而生产出一种机器，使得这些指令在通过计算机或其他可编程数据处理装置的处理单元执行时，产生了实现流程图和/或框图中的一个或多个方框中规定的功能/动作的装置。也可以把这些计算机可读程序指令存储在计算机可读存储介质中，这些指令使得计算机、可编程数据处理装置和/或其他设备以特定方式工作，从而，存储有指令的计算机可读介质则包括一个制造品，其包括实现流程图和/或框图中的一个或多个方框中规定的功能/动作的各个方面的指令。也可以把计算机可读程序指令加载到计算机、其他可编程数据处理装置、或其他设备上，使得在计算机、其他可编程数据处理装置或其他设备上执行一系列操作步骤，以产生计算机实现的过程，从而使得在计算机、其他可编程数据处理装置、或其他设备上执行的指令实现流程图和/或框图中的一个或多个方框中规定的功能/动作。附图中的流程图和框图显示了根据本申请的多个实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或指令的一部分，所述模块、程序段或指令的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。注意，除非另有直接说明，否则本说明书中所揭示的所有特征皆可由用于达到相同、等效或类似目的的可替代特征来替换。因此，除非另有明确说明，否则所公开的每一个特征仅是一组等效或类似特征的一个示例。在使用到的情况下，进一步地、较优地、更进一步地和更优地是在前述实施例基础上进行另一实施例阐述的简单起头，该进一步地、较优地、更进一步地或更优地后带的内容与前述实施例的结合作为另一实施例的完整构成。在同一实施例后带的若干个进一步地、较优地、更进一步地或更优地设置之间可任意组合的组成又一实施例。虽然，上文中已经用一般性说明及具体实施例对本申请作了详尽的描述，但在本申请基础上，可以对之作一些修改或改进，这对本领域技术人员而言是显而易见的。因此，在不偏离本申请精神的基础上所做的这些修改或改进，均属于本申请要求保护的范围。
