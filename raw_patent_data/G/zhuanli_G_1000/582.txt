标题title
一种建筑施工安全智能监控系统及方法
摘要abst
本发明公开了一种建筑施工安全智能监控系统，该系统包括：转换模块，将获取的建材堆放图像转换成灰度图像；建材边缘特征获得模块，对灰度图像进行分析获得建材边缘特征，建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点；相似窗口边长获得模块，基于建材边缘特征确定降噪分析的相似窗口边长；降噪模块，基于相似窗口边长对建材堆放图像进行降噪处理；建材识别模块，对去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材。如此基于自适应窗口边长对建材堆放图像进行去噪，提高对施工场地图像降噪处理的精度，提高了施工现场建材堆放检测的准确性，保障了施工现场的安全。
权利要求书clms
1.一种建筑施工安全智能监控系统，其特征在于，所述系统包括：转换模块，用于获取建筑施工现场中的建材堆放图像，将所述建材堆放图像转换成灰度图像；建材边缘特征获得模块，用于对所述灰度图像进行分析，获得建材边缘特征，所述建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点；相似窗口边长获得模块，用于基于所述建材边缘特征确定用于降噪分析的相似窗口边长；降噪模块，用于基于所述相似窗口边长对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像；建材识别模块，用于对所述去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材。2.根据权利要求1所述的一种建筑施工安全智能监控系统，其特征在于，所述相似窗口边长获得模块包括：建材堆放拥挤系数获取单元，用于基于所述建材边缘像素点、建材边缘图像、建材边界特征点确定搜索窗口内的建材堆放拥挤系数；建材堆放混乱度获得单元，用于获取所述灰度图像的灰度游程矩阵，基于灰度游程矩阵中建材边缘连通域方向的各个行列元素的值，基于各个行列原始的值以及所述建材堆放拥挤系数确定建材堆放混乱度；边长计算单元，用于根据所述建材堆放混乱度、所述搜索窗口边长计算相似窗口边长。3.根据权利要求2所述的一种建筑施工安全智能监控系统，其特征在于，所述建材堆放拥挤系数获取单元包括：建材边缘连通域获得单元，用于将所述灰度图像转换为显著性图像，基于所述显著性图像对建材边缘像素点内的区域进行标记，获得建材边缘连通域；纵横比计算单元，用于确定所述建材边缘连通域内的目标建材边界特征点，基于所述目标建材边界特征点的欧式距离以及所述欧式距离的个数计算各个建材边缘连通域的纵横比；建材堆叠度计算单元，用于基于各个建材边缘连通域的纵横比之和、搜索窗口边长计算建材堆叠度；建材边缘连通域面积序列获得单元，用于基于所述建材边缘连通域确定建材边缘参数序列，所述建材边缘参数序列包括建材边缘连通域边界特征值和建材边缘连通域面积序列；建材堆放拥挤系数获得单元，用于基于所述堆叠度、建材边缘连通域面积序列确定搜索窗口内的建材堆放拥挤系数。4.根据权利要求3所述的一种建筑施工安全智能监控系统，其特征在于，所述纵横比计算单元包括：目标建材边界特征点确定子单元，用于将所述建材边缘连通域的建材边界特征点确定为目标建材边界特征点；欧式距离确定子单元，用于确定各个所述目标建材边界特征点的水平方向欧式距离及水平方向欧式距离个数，并确定各个所述目标建材边界特征点的垂直方向欧式距离及垂直方向欧式距离个数；纵横比计算子单元，用于基于目标建材边界特征点的所述水平方向欧式距离、水平方向欧式距离个数、垂直方向欧式距离及垂直方向欧式距离个数计算对应建材边缘连通域的纵横比。5.根据权利要求3所述的一种建筑施工安全智能监控系统，其特征在于，所述建材边缘连通域面积序列获得单元包括：建材边界特征向量序列获得子单元，用于利用傅里叶描述子获得每个建材边缘连通域的特征向量，将各个特征向量表示为建材边界特征向量序列；连通域边界特征值序列获得子单元，用于将所述建材边缘连通域特征向量的模确定为建材边缘连通域边界特征值，将所有的建材边缘连通域边界特征值表示为建材边缘连通域边界特征值序列；统计子单元，用于统计每个建材边缘连通域的像素点个数，将获得的各个像素点个数表示为建材边缘连通域面积序列。6.根据权利要求2所述的一种建筑施工安全智能监控系统，其特征在于，所述建材堆放混乱度获得单元包括：建材边缘连通域方向序列获得子单元，用于基于建材边界特征向量序列确定建材边缘连通域的建材边缘连通域方向，获得建材边缘连通域方向序列；行列元素值获得子单元，用于从灰度游程矩阵中获取所述建材边缘连通域方向的各个行列元素的值。7.根据权利要求1所述的一种建筑施工安全智能监控系统，其特征在于，所述建材边缘特征获得模块包括：边缘检测单元，用于利用Canny边缘检测算法对所述灰度图像进行边缘检测，获得建材边缘像素点及建材边缘图像；角点检测单元，用于利用Harris角点检测算法检测所述建材边缘图像中的建材边界特征点。8.根据权利要求1所述的一种建筑施工安全智能监控系统，其特征在于，所述降噪模块包括：窗口确定单元，用于获取所述建材堆放图像的一个原图像像素点，以所述原图像像素点为中心确定搜索窗口和相似窗口，其中所述相似窗口边长为自适应边长；相似度计算单元，用于以所述相似窗口在所述搜索窗口中滑动，计算所述相似窗口与所述搜索窗口的权值；去噪单元，用于基于所述权值确定去噪建材堆放图像的像素点灰度值，并基于所述像素点灰度值获得去噪建材堆放图像。9.根据权利要求1所述的一种建筑施工安全智能监控系统，其特征在于，所述建材识别模块包括：分割单元，用于基于全卷积网络对所述去噪建材堆放图像进行分割；建材种类识别单元，用于通过SLAM算法从分割后的图像中识别堆放在施工现场的不同种类的建材。10.一种建筑施工安全智能监控方法，其特征在于，所述方法包括：获取建筑施工现场中的建材堆放图像，将所述建材堆放图像转换成灰度图像；对所述灰度图像进行分析，获得建材边缘特征，基于所述建材边缘特征确定用于降噪分析的相似窗口边长，所述建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点以及灰度游程矩阵；根据建材堆放混乱度、搜索窗口边长确定相似窗口边长；基于所述相似窗口边长对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像；对所述去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材。
说明书desc
技术领域本发明涉及图像处理技术领域，尤其涉及一种建筑施工安全智能监控系统及方法。背景技术对于建筑工地工人的安全保障至关重要，但仅仅是有了保障措施仍不能完全地规避伤害，还需要对环境进行安全监控。在建筑工地安全监测中加入机器视觉检测，通过机器视觉的方式对施工现场的环境进行实时的检测，可以实现对施工现场的实时检测，而且检测的效率和精度也相对于人工检测的方式有所提升。建筑材料堆放混乱会导致施工不便甚至存在安全隐患，因此对于建材堆放的检测较为重要。在采用机器视觉进行建材堆放检测时，由于现场的环境复杂和相机问题会使拍摄的图像质量较差，图像中有较多噪声的存在，在后续的堆放情况分析时出现误差。传统的降噪算法对施工场地图像的处理精度较低，以致于对施工现场建材的堆放检测准确性不高，对于因建材的不合理堆放存在的潜在危险的检测力度不够，对建筑工人施工安全的保障力度不够。发明内容本发明提供一种建筑施工安全智能监控系统及方法，旨在提高对施工场地图像降噪处理的精度，进而提高施工现场建材堆放检测的准确性，以保障施工现场的安全。为实现上述目的，一种建筑施工安全智能监控系统，所述系统包括：转换模块，用于获取建筑施工现场中的建材堆放图像，将所述建材堆放图像转换成灰度图像；建材边缘特征获得模块，用于对所述灰度图像进行分析，获得建材边缘特征，所述建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点；相似窗口边长获得模块，用于基于所述建材边缘特征确定用于降噪分析的相似窗口边长；降噪模块，用于基于所述相似窗口边长对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像；建材识别模块，用于对所述去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材。可选地，所述相似窗口边长获得模块包括：建材堆放拥挤系数获取单元，用于基于所述建材边缘像素点、建材边缘图像、建材边界特征点确定搜索窗口内的建材堆放拥挤系数；建材堆放混乱度获得单元，用于获取所述灰度图像的灰度游程矩阵，基于灰度游程矩阵中建材边缘连通域方向的各个行列元素的值，基于各个行列原始的值以及所述建材堆放拥挤系数确定建材堆放混乱度；边长计算单元，用于根据所述建材堆放混乱度、所述搜索窗口边长计算相似窗口边长。可选地，所述建材堆放拥挤系数获取单元包括：建材边缘连通域获得单元，用于将所述灰度图像转换为显著性图像，基于所述显著性图像对建材边缘像素点内的区域进行标记，获得建材边缘连通域；纵横比计算单元，用于确定所述建材边缘连通域内的目标建材边界特征点，基于所述目标建材边界特征点的欧式距离以及所述欧式距离的个数计算各个建材边缘连通域的纵横比；建材堆叠度计算单元，用于基于各个建材边缘连通域的纵横比之和、搜索窗口边长计算建材堆叠度；建材边缘连通域面积序列获得单元，用于基于所述建材边缘连通域确定建材边缘参数序列，所述建材边缘参数序列包括建材边缘连通域边界特征值和建材边缘连通域面积序列；建材堆放拥挤系数获得单元，用于基于所述堆叠度、建材边缘连通域面积序列确定搜索窗口内的建材堆放拥挤系数。可选地，所述纵横比计算单元包括：目标建材边界特征点确定子单元，用于将所述建材边缘连通域的建材边界特征点确定为目标建材边界特征点；欧式距离确定子单元，用于确定各个所述目标建材边界特征点的水平方向欧式距离及水平方向欧式距离个数，并确定各个所述目标建材边界特征点的垂直方向欧式距离及垂直方向欧式距离个数；纵横比计算子单元，用于基于目标建材边界特征点的所述水平方向欧式距离、水平方向欧式距离个数、垂直方向欧式距离及垂直方向欧式距离个数计算对应建材边缘连通域的纵横比。可选地，所述建材边缘连通域面积序列获得单元包括：建材边界特征向量序列获得子单元，用于利用傅里叶描述子获得每个建材边缘连通域的特征向量，将各个特征向量表示为建材边界特征向量序列；连通域边界特征值序列获得子单元，用于将所述建材边缘连通域特征向量的模确定为建材边缘连通域边界特征值，将所有的建材边缘连通域边界特征值表示为建材边缘连通域边界特征值序列；统计子单元，用于统计每个建材边缘连通域的像素点个数，将获得的各个像素点个数表示为建材边缘连通域面积序列。可选地，所述建材堆放混乱度获得单元包括：建材边缘连通域方向序列获得子单元，用于基于建材边界特征向量序列确定建材边缘连通域的建材边缘连通域方向，获得建材边缘连通域方向序列；行列元素值获得子单元，用于从灰度游程矩阵中获取所述建材边缘连通域方向的各个行列元素的值。可选地，所述建材边缘特征获得模块包括：边缘检测单元，用于利用Canny边缘检测算法对所述灰度图像进行边缘检测，获得建材边缘像素点及建材边缘图像；边缘检测单元，用于利用Harris角点检测算法检测所述建材边缘图像中的建材边界特征点。可选地，所述降噪模块包括：窗口确定单元，用于获取所述建材堆放图像的一个原图像像素点，以所述原图像像素点为中心确定搜索窗口和相似窗口，其中所述相似窗口边长为自适应边长；相似度计算单元，用于以所述相似窗口在所述搜索窗口中滑动，计算所述相似窗口与所述搜索窗口的权值；去噪单元，用于基于所述权值确定去噪建材堆放图像的像素点灰度值，并基于所述像素点灰度值获得去噪建材堆放图像。可选地，所述建材识别模块包括：分割单元，用于基于全卷积网络对所述去噪建材堆放图像进行分割；建材种类识别单元，用于通过SLAM算法从分割后的图像中识别堆放在施工现场的不同种类的建材。为实现上述目的，本发明还提供一种建筑施工安全智能监控方法，所述方法包括：获取建筑施工现场中的建材堆放图像，将所述建材堆放图像转换成灰度图像；对所述灰度图像进行分析，获得建材边缘特征，基于所述建材边缘特征确定用于降噪分析的相似窗口边长，所述建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点以及灰度游程矩阵；根据建材堆放混乱度、搜索窗口边长确定相似窗口边长；基于所述相似窗口边长对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像；对所述去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材。相比现有技术，本发明提供一种建筑施工安全智能监控系统及方法，所述系统包括：转换模块，用于获取建筑施工现场中的建材堆放图像，将所述建材堆放图像转换成灰度图像；建材边缘特征获得模块，用于对所述灰度图像进行分析，获得建材边缘特征，所述建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点；相似窗口边长获得模块，用于基于所述建材边缘特征确定用于降噪分析的相似窗口边长；降噪模块，用于基于所述相似窗口边长对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像；建材识别模块，用于对所述去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材。如此基于自适应窗口边长对建材堆放图像进行去噪，提高对施工场地图像降噪处理的精度，提高了施工现场建材堆放检测的准确性，保障了施工现场的安全。附图说明图1是本发明建筑施工安全智能监控系统第一实施例的结构示意图；图2是本发明建筑施工安全智能监控系统第一实施例的细化结构示意图；图3是本发明建筑施工安全智能监控系统第一实施例涉及的欧式距离序列示意图；图4是本发明建筑施工安全智能监控方法第一实施例的流程示意图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。请参照图1，图1是本发明建筑施工安全智能监控系统第一实施例的结构示意图。如图1所示，本发明第一实施例提出一种建筑施工安全智能监控系统，所述系统包括：转换模块10，用于获取建筑施工现场中的建材堆放图像，将所述建材堆放图像转换成灰度图像；本实施例通过CCD相机采集拍摄建筑施工现场的建材堆放图像。由于建筑施工现场的环境复杂，CCD相机拍摄的视频图像受光线等因素的影响较严重。建材堆放图像一般为RGB图像，为了降低环境影响造成的图像差异，本实施例将采集的建材堆放图像转换为灰度图像。建材边缘特征获得模块20，用于对所述灰度图像进行分析，获得建材边缘特征，所述建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点；在建筑施工现场，建筑材料若混乱堆放极易造成安全事故，由于不同种类的建筑材料的形状、颜色和质地等细节差异较大，其堆放在一起使边缘的形状错综复杂，且混乱的堆放会出现较多的阴影区域。在进行现场的图像的拍摄时由于堆放问题和太阳的角度会使图像的质量较差。为了能更好地对建材堆放图像的灰度图像进行降噪，获得降噪效果最好的相似窗口边长，本实施例基于灰度图像提取建材边缘像素点、建材边缘图像、建材边界特征点以及灰度游程矩阵等建材边缘特征。具体地，建材边缘特征获得模块20包括边缘检测单元和边缘检测单元。其中，边缘检测单元，用于利用Canny边缘检测算法对所述灰度图像进行边缘检测，获得建材边缘像素点及建材边缘图像；Canny边缘检测算法先进行高斯模糊，边缘属于图像中的高频信号，但噪声也属于高频信号，因此可以先对灰度图像做一次高斯模糊，抑制噪声，虽然边缘也会被抑制，但后期连接弱边缘时，被抑制的边缘还可能被重置为强边缘，而被抑制的噪声因为孤立而不被认为强边缘。基于高斯模糊后的灰度图像计算梯度大小和方向。边缘的梯度应当在这个梯度方向上是局部极值，而非局部极值的不是边缘响应最强烈的位置，基于此进行非最大化抑制，使得每条边理应只有一个响应。经过细化边缘之后，对边缘响应作分级，获得高于第一指定值H的强边缘，低于第二指定值L的平坦区域，处于第一指定值H和第二指定值L之间的边缘视作弱边缘，如此通过双阈值，分离强边缘和弱边缘。最后连接弱边缘，虽然获得了强边缘和弱边缘，但许多边缘之间是断断续续的，因此对获得的每一个弱边缘判断，如果周围8个邻接像素有一个是强边缘，则认为该弱边缘也是强边缘，否则视作孤立点抛弃，如此获得了灰度图像的所有边缘，并基于这些边缘提取建材边缘像素点及建材边缘图像。边缘检测单元，用于利用Harris角点检测算法检测所述建材边缘图像中的建材边界特征点。Harris角点检测算法首先计算Harris矩阵M ,然后计算该矩阵的特征值，其中该特征值表征了Harris矩阵主曲率，再通过构建Harris角点量测函数来确定灰度图像中建材边界的角点。本实施例将建材边界的角点标记为建材边界特征点。相似窗口边长获得模块30，用于基于所述建材边缘特征确定用于降噪分析的相似窗口边长T；参照图2，图2是本发明建筑施工安全智能监控系统第一实施例的细化结构示意图，如图2所示，相似窗口边长获得模块30包括：建材堆放拥挤系数获取单元301，用于基于所述建材边缘像素点、建材边缘图像、建材边界特征点确定搜索窗口内的建材堆放拥挤系数V；具体地，建材堆放拥挤系数获取单元301包括：建材边缘连通域获得单元、纵横比计算单元、建材堆叠度计算单元、建材边缘连通域面积序列获得单元、建材堆放拥挤系数获得单元。其中，建材边缘连通域获得单元，用于将所述灰度图像转换为显著性图像，基于所述显著性图像对建材边缘像素点内的区域进行标记，获得建材边缘连通域；由于堆放的建材种类可能不同，不同种类之间的形状和质地不同，由于灰度图像中只包含了建材，而建材多为规则形状，因此可以根据建材边缘像素点获得建材边缘连通域。如果建材堆放混乱那么建材边缘连通域会出现聚集且相互交错的情况，因此在降噪过程中当搜索框口移动至建材堆叠较严重的区域，则需要调整搜素窗口的大小。纵横比计算单元，用于确定所述建材边缘连通域内的目标建材边界特征点，基于所述目标建材边界特征点的欧式距离以及所述欧式距离的个数计算各个建材边缘连通域的纵横比Ai；具体地，纵横比计算单元包括目标建材边界特征点确定子单元、欧式距离确定子单元、纵横比计算子单元：目标建材边界特征点确定子单元，用于将所述建材边缘连通域的建材边界特征点确定为目标建材边界特征点；此处基于建材边界特征点将计算范围确定在建材边缘连通域内的目标建材边界特征点。欧式距离确定子单元，用于确定各个所述目标建材边界特征点的水平方向欧式距离及水平方向欧式距离个数，并确定各个所述目标建材边界特征点的垂直方向欧式距离及垂直方向欧式距离个数；欧式距离是一个通常采用的距离定义，指在m维空间中两个点之间的真实距离，或者向量的自然长度。在二维和三维空间中的欧式距离就是两点之间的实际距离。本实施例的欧式距离通过公知技术中的欧式距离计算公式确定。本实施例中的欧式距离是指目标建材边界特征点与所在建材边缘连通域中其它像素点直接的欧式距离，并将获得的欧式距离表示为欧式距离序列：将水平方向欧式距离序列表示为；将垂直方向欧式距离序列表示为；其中x表示水平距离欧式序列的数值的个数，y表示垂直距离欧式序列的数值的个数。欧式距离序列参考图3，图3是本发明建筑施工安全智能监控系统第一实施例涉及的欧式距离序列示意图。纵横比计算子单元，用于基于目标建材边界特征点的所述水平方向欧式距离、水平方向欧式距离个数、垂直方向欧式距离及垂直方向欧式距离个数计算对应建材边缘连通域的纵横比。将纵横比表示为Ai，则：其中，ao表示水平方向欧式距离序列中第o个值，bu表示水平方向欧式距离序列中第u个值。如此通过纵横比的计算公式则可以获得纵横比。建材堆叠度计算单元，用于基于各个建材边缘连通域的纵横比之和、搜索窗口边长N计算建材堆叠度D；将建材堆叠度表示为D，则：其中，N表示搜索窗口的边长，Ai表示第i个建材边缘连通域的纵横比，n表示搜索窗口内建材边缘连通域的个数。因此若搜索窗口内堆积的建材越多，即建材边缘连通域的个数n越多，计算得到的建材边缘连通域的纵横比越多，则建材边缘连通域的纵横比的和越大，即整个区域内的建材堆叠度D越大。建材边缘连通域面积序列获得单元，用于基于所述建材边缘连通域确定建材边缘参数序列，所述建材边缘参数序列包括建材边缘连通域边界特征值和建材边缘连通域面积序列；可以理解的，基于搜索窗口内的建材堆积的情况，在建筑材料随机乱放的情况下，计算得到的建材边缘连通域的方向是各不相同的。建材边缘连通域面积序列获得单元通过建材边界特征向量序列获得子单元、连通域边界特征值序列获得子单元以及统计子单元获得对应的序列。具体地，建材边界特征向量序列获得子单元，用于利用傅里叶描述子获得每个建材边缘连通域的特征向量，将各个特征向量表示为建材边界特征向量序列；傅里叶描述子是用来对一个特定物体创造一个图像特征，即：用一个高维向量，比如来描述目标物体。首先从灰度图像中裁剪出要描述物体所在的区域；然后得到要描述物体的边缘；再用一个一维的方程来表示这个2维的建材的图形；进行傅立叶级数展开，获得用于表示这个图像的四个系数向量；把这四个系数向量合成作为Fourier Descriptors，本实施例中的Fourier Descriptors就是建材边缘连通域的特征向量。连通域边界特征值序列获得子单元，用于将建材边缘连通域的特征向量的模确定为建材边缘连通域边界特征值，将所有的建材边缘连通域边界特征值表示为建材边缘连通域边界特征值序列；对建材边缘连通域的特征向量进行求模运算，将获得的结果作为建材边缘连通域边界特征值。统计子单元，用于统计每个建材边缘连通域的像素点个数，将获得的各个像素点个数表示为建材边缘连通域面积序列。建材堆放拥挤系数获得单元，用于基于所述堆叠度D、建材边缘连通域面积序列确定搜索窗口内的建材堆放拥挤系数。建材堆放拥挤系数表示为V，则有：其中，D为该搜索区域的建材堆叠度，zk为建材边缘连通域面积序列第k个数值，dk表示建材边缘连通域边界特征值序列中第k个数值，N2表示搜索窗口内像素点的个数。根据搜索区域内的每个建材边缘连通域的占比和其边界特征值乘积之和与建材堆叠度共同计算得到该区域的建材堆放拥挤系数V。当该搜索区域位于建材堆叠较多的位置时，其建材堆叠度D的值较大，且建材边缘连通域的占比个数增加即整体的建材边界特征的值较大，该区域的建材堆放拥挤系数V的值较大。建材堆放混乱度获得单元302，用于获取所述灰度图像的灰度游程矩阵，基于灰度游程矩阵中建材边缘连通域方向的各个行列元素的值，基于各个行列原始的值以及所述建材堆放拥挤系数确定建材堆放混乱度；所述建材堆放混乱度获得单元302包括：建材边缘连通域方向序列获得子单元，用于基于建材边界特征向量序列确定建材边缘连通域的建材边缘连通域方向，获得建材边缘连通域方向序列；行列元素值获得子单元，用于从灰度游程矩阵中获取所述建材边缘连通域方向的各个行列元素的值。本实施例根据已经获得的建材边界特征向量序列计算建材边缘连通域的方向，具体地选取建材边界特征向量序列中前5个建材边界特征向量的值计算边界方向，以计算的方向角度的均值作为建材边缘连通域的方向，由此获得建材边缘连通域方向序列。由于建筑材料的摆放是随机的，则得到的建材边缘连通域的方向表现出的特征是杂乱的。因此获取灰度图像的灰度游程矩阵，并将灰度游程矩阵的输入设置为建材边缘连通域方向序列的值。由于灰度游程矩阵是在二维矩阵里统计四个方向的特征，本实施例只在水平方向统计一维序列的特征；输出为建材边缘连通域方向游程矩阵M。根据建材边缘连通域方向游程矩阵M和建材堆放拥挤系数V计算该区域的建材堆放混乱度，将建材堆放混乱度表示为H，则：其中，M表示建材边缘连通域方向游程矩阵中第r行第t列的元素的值，g表示矩阵内元素的个数，V表示该区域的建材堆放拥挤系数，由建材堆放拥挤系数和方向的混乱度计算该区域的建材堆放混乱度H，对计算的结果进行归一化处理。若搜索框的搜索区域内建材数量较多，该区域的建材堆放拥挤系数V的值较大；由此该区域的建材的摆放也更加趋于混乱无序的，则由灰度游程矩阵计算的方向混乱度的值越大，整体该区域的建材堆放混乱度H的值越大，表示搜索框到该区域需调整的相似窗口更大。边长计算单元303，用于根据所述建材堆放混乱度H、所述搜索窗口边长N计算相似窗口边长T。将相似窗口边长表示为T，则：其中，N表示搜索窗口边长的大小，H表示搜索窗口内的建材堆放混乱度，根据建材堆放混乱度的大小调整搜索框内的相似窗口边长T的大小。本实施例选取搜索窗口边长的1/2作为相似窗口边长的最大值。当搜索窗口内的建材堆积较多且杂乱无序时，搜索窗口内H的值越大，则相似窗口的边长T的值越小，表示对于建材堆叠复杂的区域更考虑细节；在建材堆积较少的区域，窗口内H的值较小，则相似窗口的边长T的值越大，表示该区域更考虑全局特征。降噪模块40，用于基于所述相似窗口边长T对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像；具体地，降噪模块40包括窗口确定单元、相似度计算单元和去噪单元。本实施例基于非均值滤波将多次下采样的特征图恢复到和原图一样的大小，最后对每个像素生成一个分类的标签，进而实现去噪建材堆放图像的分割，获得建材图像。建材种类识别单元，用于通过SLAM算法从分割后的图像中识别堆放在施工现场的不同种类的建材。Simultaneous Localization and Mapping是一种机器人视觉系统，可以用来进行目标检测、语义分割、实例分割等。本实施例基于SLAM算法的公知技术从分割后的建材图像中识别并定位堆放在施工现场的不同种类的建材，从而获得建材堆放的定位、摆放情况。以供根据定位结果确认建材堆放的安全性。本实施例通过上述方案，提供一种建筑施工安全智能监控系统，所述系统包括：转换模块，用于获取建筑施工现场中的建材堆放图像，将所述建材堆放图像转换成灰度图像；建材边缘特征获得模块，用于对所述灰度图像进行分析，获得建材边缘特征，所述建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点；相似窗口边长获得模块，用于基于所述建材边缘特征确定用于降噪分析的相似窗口边长；降噪模块，用于基于所述相似窗口边长对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像；建材识别模块，用于对所述去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材。如此基于自适应窗口边长对建材堆放图像进行去噪，提高对施工场地图像降噪处理的精度，提高了施工现场建材堆放检测的准确性，保障了施工现场的安全。本发明第二实施例提供了一种建筑施工安全智能监控方法，参考图4，图4是本发明建筑施工安全智能监控方法第一实施例的流程示意图，如图4所示，所述建筑施工安全智能监控方法包括：步骤S101，获取建筑施工现场中的建材堆放图像，将所述建材堆放图像转换成灰度图像；步骤S102，对所述灰度图像进行分析，获得建材边缘特征，基于所述建材边缘特征确定用于降噪分析的相似窗口边长，所述建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点以及灰度游程矩阵；步骤S103，根据所述建材堆放混乱度、所述搜索窗口边长确定相似窗口边长；步骤S104，基于所述相似窗口边长对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像；步骤S105，对所述去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材。所述根据所述建材堆放混乱度、所述搜索窗口边长确定相似窗口边长包括：基于所述建材边缘像素点、建材边缘图像、建材边界特征点确定所述搜索窗口内的建材堆放拥挤系数；获取所述灰度图像的灰度游程矩阵，基于灰度游程矩阵中建材边缘连通域方向的各个行列元素的值，基于各个行列原始的值以及所述建材堆放拥挤系数确定建材堆放混乱度；根据所述建材堆放混乱度、所述搜索窗口边长计算相似窗口边长。所述基于所述建材边缘像素点、建材边缘图像、建材边界特征点确定所述搜索窗口内的建材堆放拥挤系数包括：将所述灰度图像转换为显著性图像，基于所述显著性图像对建材边缘像素点内的区域进行标记，获得建材边缘连通域；确定所述建材边缘连通域内的目标建材边界特征点，基于所述目标建材边界特征点的欧式距离以及所述欧式距离的个数计算各个建材边缘连通域的纵横比；基于各个建材边缘连通域的纵横比之和、搜索窗口边长计算建材堆叠度；基于所述建材边缘连通域确定建材边缘参数序列，所述建材边缘参数序列包括建材边缘连通域边界特征值和建材边缘连通域面积序列；基于所述堆叠度、建材边缘连通域面积序列确定搜索窗口内的建材堆放拥挤系数。所述确定所述建材边缘连通域内的目标建材边界特征点，基于所述目标建材边界特征点的欧式距离以及所述欧式距离的个数计算各个建材边缘连通域的纵横比包括：将所述建材边缘连通域的建材边界特征点确定为目标建材边界特征点；确定各个所述目标建材边界特征点的水平方向欧式距离及水平方向欧式距离个数，并确定各个所述目标建材边界特征点的垂直方向欧式距离及垂直方向欧式距离个数；基于目标建材边界特征点的所述水平方向欧式距离、水平方向欧式距离个数、垂直方向欧式距离及垂直方向欧式距离个数计算对应建材边缘连通域的纵横比。所述基于所述建材边缘连通域确定建材边缘参数序列，所述建材边缘参数序列包括建材边缘连通域边界特征值和建材边缘连通域面积序列包括：利用傅里叶描述子获得每个建材边缘连通域的特征向量，将各个特征向量表示为建材边界特征向量序列；将所述建材边缘连通域特征向量的模确定为建材边缘连通域边界特征值，将所有的建材边缘连通域边界特征值表示为建材边缘连通域边界特征值序列；统计每个建材边缘连通域的像素点个数，将获得的各个像素点个数表示为建材边缘连通域面积序列。所述获取所述灰度图像的灰度游程矩阵，基于灰度游程矩阵中建材边缘连通域方向的各个行列元素的值包括：基于建材边界特征向量序列确定建材边缘连通域的建材边缘连通域方向，获得建材边缘连通域方向序列；从灰度游程矩阵中获取所述建材边缘连通域方向的各个行列元素的值。所述对所述灰度图像进行分析，获得建材边缘特征包括：利用Canny边缘检测算法对所述灰度图像进行边缘检测，获得建材边缘像素点及建材边缘图像；利用Harris角点检测算法检测所述建材边缘图像中的建材边界特征点。所述基于所述相似窗口边长对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像包括：获取所述建材堆放图像的一个原图像像素点，以所述原图像像素点为中心确定搜索窗口和相似窗口，其中所述相似窗口边长为自适应边长；以所述相似窗口在所述搜索窗口中滑动，计算所述相似窗口与所述搜索窗口的权值；基于所述权值确定去噪建材堆放图像的像素点灰度值，并基于所述像素点灰度值获得去噪建材堆放图像。所述对所述去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材包括：基于全卷积网络对所述去噪建材堆放图像进行分割；通过SLAM算法从分割后的图像中识别堆放在施工现场的不同种类的建材。本实施例通过上述方案，提供一种建筑施工安全智能监控方法，包括：获取建筑施工现场中的建材堆放图像，将所述建材堆放图像转换成灰度图像；对所述灰度图像进行分析，获得建材边缘特征，所述建材边缘特征包括建材边缘像素点、建材边缘图像、建材边界特征点；基于所述建材边缘特征确定用于降噪分析的相似窗口边长；基于所述相似窗口边长对所述建材堆放图像进行降噪处理，获得去噪建材堆放图像；对所述去噪建材堆放图像进行图像分割，基于分割后的图像识别出堆放在施工现场的不同种类的建材。如此基于自适应窗口边长对建材堆放图像进行去噪，提高对施工场地图像降噪处理的精度，提高了施工现场建材堆放检测的准确性，保障了施工现场的安全。以上所述仅为本发明的优选实施例，并非因此限制本发明的范围，凡是利用本发明说明书及附图内容所作的等效结构或流程变换，或直接或间接运用在其它相关的技术领域，均同理包括在本发明的保护范围内。
