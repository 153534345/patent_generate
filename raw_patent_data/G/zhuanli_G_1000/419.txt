标题title
一种药品标题的修正方法、装置、设备及存储介质
摘要abst
本发明公开了一种药品标题的修正方法、装置、设备及存储介质，该方法包括：在药品入库时，在图像数据中检测多个文本块，图像数据包含向供应商订购药品的清单；查找属于药品的标题的文本块，作为候选标题信息；将候选标题信息与各个通用标题信息进行比较；若候选标题信息与各个通用标题信息均不同，则依据编辑的距离计算候选标题信息属于各个通用标题信息的概率；依据概率提取部分通用标题信息，作为目标标题信息；若接收到对目标标题信息触发的确认操作，则将候选标题信息修正为目标标题信息。本实施例可以同时克服光学字符识别模型的检测错误、供应商的格式不规范或书写错误，减少人工核对药品标题的工作，从而提高了录入药品标题的效率。
权利要求书clms
1.一种药品标题的修正方法，其特征在于，包括：在药品入库时，在图像数据中检测多个文本块，所述图像数据包含向供应商订购所述药品的清单；查找属于所述药品的标题的所述文本块，作为候选标题信息；将所述候选标题信息与各个通用标题信息进行比较，所述通用标题信息表示已入库药品的标题；若所述候选标题信息与各个所述通用标题信息均不同，则依据编辑的距离计算所述候选标题信息属于各个所述通用标题信息的概率；依据所述概率提取部分所述通用标题信息，作为目标标题信息；若接收到对所述目标标题信息触发的确认操作，则将所述候选标题信息修正为所述目标标题信息。2.根据权利要求1所述的方法，其特征在于，所述查找属于所述药品的标题的所述文本块，作为候选标题信息，包括：在所述文本块中查找所述供应商的标识信息；依据所述标识信息查询为所述供应商创建的模板，所述模板中标记有属于标题的检测框；将所述模板映射至所述图像数据上；若所述检测框与目标对象之间重叠的程度大于预设的第一重叠阈值，则确定所述文本块属于所述药品的标题，作为候选标题信息；其中，目标对象为单独一个所述文本块，或者，目标对象包括多个所述文本块与至少一个表示换行的符号；和/或，在所述文本块中查找所述供应商的标识信息；在所述图像数据中识别单元格，所述单元格中具有多个顶点；若两个所述单元格之间重叠的程度大于预设的第二重叠阈值，则在两个所述单元格中删除面积最小的所述单元格；若完成删除，则合并相邻的所述顶点；若完成合并，则按照行与列的顺序补全所述顶点；若完成补全，则按照行与列的顺序去除孤立的所述顶点；若完成去除，则提取相连面积最大的多个所述单元格，作为表格；将所述表格映射至所述图像数据上；依据所述标识信息确定位于所述表格中指定行或列上的所述单元格中目标对象属于所述药品的标题，作为候选标题信息；其中，目标对象为单独一个所述文本块，或者，目标对象包括多个所述文本块与至少一个表示换行的符号。3.根据权利要求1所述的方法，其特征在于，所述依据编辑的距离计算所述候选标题信息属于各个所述通用标题信息的概率，包括：将所述候选标题信息切分为多个第一候选分词；将所述通用标题信息切分为多个第二候选分词；若所述第一候选分词与所述第二候选分词相同，则将所述第一候选分词或所述第二候选分词标记为目标分词；依据所述目标分词计算所述候选标题信息属于各个所述通用标题信息的概率。4.根据权利要求3所述的方法，其特征在于，所述依据所述目标分词计算所述候选标题信息属于各个所述通用标题信息的概率，包括：对各个所述目标分词配置子权重；计算所有所述目标分词的子权重之和，作为总权重；统计历史上录入所述通用标题信息的第一次数；在所述第一次数的基础上加一，获得第二次数；分别统计所述第一候选分词的第一数量、所述第二候选分词的第二数量；将所述第一数量与所述第二数量相加，获得总数量；将所述总权重与所述第一次数之间的乘积、除以、所述总数量与所述第二次数之间的乘积，获得所述候选标题信息属于所述通用标题信息的概率。5.根据权利要求4所述的方法，其特征在于，所述对各个所述目标分词配置子权重，包括：统计各个所述目标分词的长度；若所述长度小于预设的置信区间，则将预设的第一数值设置为所述目标分词的子权重；若所述长度位于预设的置信区间内，则将为所述长度配置的第二数值设置为所述目标分词的子权重，所述第二数值与所述长度正相关；若所述长度大于预设的置信区间，则将预设的第三数值设置为所述目标分词的子权重；其中，所述第一数值小于所述第三数值，所述第三数值小于所述第二数值。6.根据权利要求5所述的方法，其特征在于，所述对各个所述目标分词配置子权重，还包括：在所述候选标题信息中查询药品的标识信息；所述将预设的第一数值设置为所述目标分词的子权重，包括：依据所述标识信息查询为所述药品配置的第一数值；将所述第一数值设置为所述目标分词的子权重；所述将为所述长度配置的第二数值设置为所述目标分词的子权重，包括：依据所述标识信息查询为所述药品配置的多个映射关系，各个所述映射关系中均记录长度与第二数值之间的关系；在所述映射关系中查询所述长度对应的第二数值，作为所述目标分词的子权重；所述将预设的第三数值设置为所述目标分词的子权重，包括：依据所述标识信息查询为所述药品配置的第三数值；将所述第三数值设置为所述目标分词的子权重。7.根据权利要求1-6中任一项所述的方法，其特征在于，所述药品的标题包括如下至少一者：所述药品的名称、所述药品的剂量、所述药品的数量、所述供应商的品牌、符号；所述依据所述概率提取部分所述通用标题信息，作为目标标题信息，包括：按照所述概率对所述通用标题信息进行降序排序，得到标题序列；提取排序最前的多个所述通用标题信息，作为目标标题信息。8.一种药品标题的修正装置，其特征在于，包括：文本块检测模块，用于在药品入库时，在图像数据中检测多个文本块，所述图像数据包含向供应商订购所述药品的清单；候选标题信息查找模块，用于查找属于所述药品的标题的所述文本块，作为候选标题信息；通用标题信息比较模块，用于将所述候选标题信息与各个通用标题信息进行比较，所述通用标题信息表示已入库药品的标题；概率计算模块，用于若所述候选标题信息与各个所述通用标题信息均不同，则依据编辑的距离计算所述候选标题信息属于各个所述通用标题信息的概率；目标标题信息提取模块，用于依据所述概率提取部分所述通用标题信息，作为目标标题信息；候选标题信息修正模块，用于若接收到对所述目标标题信息触发的确认操作，则将所述候选标题信息修正为所述目标标题信息。9.一种电子设备，其特征在于，所述电子设备包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-7中任一项所述的药品标题的修正方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机程序，所述计算机程序用于使处理器执行时实现权利要求1-7中任一项所述的药品标题的修正方法。
说明书desc
技术领域本发明涉及自然语言处理的技术领域，尤其涉及一种药品标题的修正方法、装置、设备及存储介质。背景技术电商平台从多个药品的供应商采购药品，多个供应商在运输药品时均附带药品的清单，电商平台的工作人员在验收药品时，扫描清单并将使用OCR技术识别清单中的文本信息，将清单中药品的标题录入系统中。一方面，供应商提供的清单中药品的标题格式多样化，并不一定符合电商平台的规范，而且，药品的标题还可能书写错误，另一方面，由于字体差异、清单折叠、油墨污染、印章覆盖字体等因素的影响，OCR识别出错，得到错误的药品的标题。工作人员在核对药品的标题时，如果发现错误，则人工进行修正，核对药品的标题的工作较为繁琐，容易发生错漏，导致录入药品的标题的效率较低。发明内容本发明提供了一种药品标题的修正方法、装置、设备及存储介质，以解决如何提高使用OCR技术录入药品的标题的效率的问题。根据本发明的一方面，提供了一种药品标题的修正方法，包括：在药品入库时，在图像数据中检测多个文本块，所述图像数据包含向供应商订购所述药品的清单；查找属于所述药品的标题的所述文本块，作为候选标题信息；将所述候选标题信息与各个通用标题信息进行比较，所述通用标题信息表示已入库药品的标题；若所述候选标题信息与各个所述通用标题信息均不同，则依据编辑的距离计算所述候选标题信息属于各个所述通用标题信息的概率；依据所述概率提取部分所述通用标题信息，作为目标标题信息；若接收到对所述目标标题信息触发的确认操作，则将所述候选标题信息修正为所述目标标题信息。根据本发明的另一方面，提供了一种药品标题的修正装置，包括：文本块检测模块，用于在药品入库时，在图像数据中检测多个文本块，所述图像数据包含向供应商订购所述药品的清单；候选标题信息查找模块，用于查找属于所述药品的标题的所述文本块，作为候选标题信息；通用标题信息比较模块，用于将所述候选标题信息与各个通用标题信息进行比较，所述通用标题信息表示已入库药品的标题；概率计算模块，用于若所述候选标题信息与各个所述通用标题信息均不同，则依据编辑的距离计算所述候选标题信息属于各个所述通用标题信息的概率；目标标题信息提取模块，用于依据所述概率提取部分所述通用标题信息，作为目标标题信息；候选标题信息修正模块，用于若接收到对所述目标标题信息触发的确认操作，则将所述候选标题信息修正为所述目标标题信息。根据本发明的另一方面，提供了一种电子设备，所述电子设备包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行本发明任一实施例所述的药品标题的修正方法。根据本发明的另一方面，提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序用于使处理器执行时实现本发明任一实施例所述的药品标题的修正方法。在本实施例中，在药品入库时，在图像数据中检测多个文本块，图像数据包含向供应商订购药品的清单；查找属于药品的标题的文本块，作为候选标题信息；将候选标题信息与各个通用标题信息进行比较，通用标题信息表示已入库药品的标题；若候选标题信息与各个通用标题信息均不同，则依据编辑的距离计算候选标题信息属于各个通用标题信息的概率；依据概率提取部分通用标题信息，作为目标标题信息；若接收到对目标标题信息触发的确认操作，则将候选标题信息修正为目标标题信息。本实施例使用通用标题信息修正从清单中识别的候选标题信息，可以同时克服光学字符识别模型的检测错误、供应商的格式不规范或书写错误等问题，针对标题长度较短的特性，使用编辑的距离候选标题信息属于各个通用标题信息的概率，计算简单，可保证概率的精确度，不仅避免训练光学字符识别模型，成本低，保证光学字符识别模型在其他业务的性能，而且，可有效降低错误，减少人工核对药品标题的工作，大大提高了录入药品标题的简便性，从而提高了录入药品标题的效率。应当理解，本部分所描述的内容并非旨在标识本发明的实施例的关键或重要特征，也不用于限制本发明的范围。本发明的其它特征将通过以下的说明书而变得容易理解。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是根据本发明实施例一提供的一种药品标题的修正方法的流程图；图2是根据本发明实施例一提供的一种将录入清单的示例图；图3是根据本发明实施例一提供的一种候选标题信息的示例图；图4是根据本发明实施例一提供的一种目标标题信息的示例图；图5是根据本发明实施例二提供的一种药品标题的修正装置的结构示意图；图6是根据本发明实施例三提供的一种电子设备的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本发明方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分的实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。实施例一图1为本发明实施例一提供的一种药品标题的修正方法的流程图，本实施例可适用于使用通用药品的标题对清单中药品的标题进行修正的情况，该方法可以由药品标题的修正装置来执行，该药品标题的修正装置可以采用硬件和/或软件的形式实现，该药品标题的修正装置可配置于电子设备中。如图1所示，该方法包括：步骤101、在药品入库时，在图像数据中检测多个文本块。在实际应用中，电商平台向多个供应商采购药品，供应商将药品及药品的清单通过物流等形式寄送到电商平台指定的地址，电商平台的工作人员对药品进行验收，以便将药品存入仓库中。一般情况下，药品的清单以表格的形式记录药品的各种信息。如图2所示，在验收药品的过程中，工作人员可使用高拍仪等摄像设备对药品的清单采集图像数据，即，图像数据包含向供应商订购药品的清单。在本实施例中，可以预先基于OCR的技术构建并训练光学字符识别模型，即，光学字符识别模型用于对图像数据执行光学字符识别。其中，光学字符识别模型的结构不局限于人工设计的神经网络，也可以通过模型量化方法优化的神经网络，通过NAS方法针对药品清单的特性搜索的神经网络，等等，本实施例对此不加以限制。由于药品的清单的背景较为清晰、背景为规范，可认为检测药品的清单中的文字属于简单的场景，可使用轻量级的光学字符识别模型，通过利用计算机视觉中的图像形态学操作，如膨胀、腐蚀基本操作等，即可在简单场景检测文字，并保证较高的精确度。为了降低开发的工作量，本实施例中的光学字符识别模型可以是预训练的光学字符识别模型，后期采集内容为向供应商采购药品的清单的图像数据作为样本，对光学字符识别模型进行微调。将图像数据输入光学字符识别模型中，光学字符识别模型对图像数据执行光学字符识别，从而在图像数据中检测多个独立的文本块，其中，在光学字符识别模型是以检测框的方式标记一个独立的文本块，在一个独立的文本块中可包含一个或多个字符，这些字符包括文字、标点符号，等等。在实际应用中，如图2所示，药品的清单中具有多种语义的信息，例如，药品的标题、药品的规格、生产厂商的名称、药品的单位、药品的数量、药品的单价、药品的金额、药品的批号或批准文号、药品的生产日期及有效期、药品的零售价格，等等。步骤102、查找属于药品的标题的文本块，作为候选标题信息。一般情况下，如图2所示，供应商提供的清单中对多种语义的信息的排版具有较为稳定的规律，因此，在录入药品的标题时，可以依据排版的规律在所有文本块中查找语义为药品的标题的文本块，记为候选标题信息。在实际应用中，药品的标题通常包含药品的关键信息。示例性地，药品的标题可以包括如下至少一者：药品的名称、药品的剂量、药品的数量、供应商的品牌、符号。进一步地，光学字符识别模型通常会将换行的信息识别为至少两个独立的文本块，而药品的标题的长度不一，可能存在换行，因此，药品的标题可能为一个文本块，也可能为多个文本块，本实施例对此不加以限制。在一种查找药品的标题的方式中，不同供应商在其药品的清单的排版方式稳定性较高，因此，可以针对不同的供应商，可分析其药品的清单的排版的规律，以此创建模板，其中，模板中标记有属于标题的检测框，并建立供应商的标识信息与模板之间的映射关系。那么，在本方式中，可使用关键词匹配等方式在文本块中查找供应商的标识信息，在映射关系中，依据标识信息查询为供应商创建的模板。将模板映射至图像数据上，那么，在同一图像数据上，模板与文本块重叠。若检测框与一个或多个文本块之间重叠的程度等方式表示)大于预设的第一重叠阈值，表示目标框与该一个或多个文本块重叠的程度较高，则确定该目标对象属于药品的标题，作为候选标题信息。进一步地，在多个文本块属于药品的标题的情况下，可以保留在光学字符识别时，在各个文本块之间添加表示换行的符号，使得目标对象为单独一个文本块，或者，目标对象包括多个文本块与至少一个表示换行的符号。在另一种查找药品的金额的方式中，如图2所示，可使用关键词匹配等方式在文本块中查找供应商的标识信息。将图像数据输入Modelscope中的table_recognition、Cycle-CenterNet等表格识别模型中，在图像数据中识别单元格，其中，单元格中具有多个顶点。若两个单元格之间重叠的程度大于预设的第二重叠阈值，表示两个单元格之间重叠的程度较高，属于嵌套的异常，则可以在两个单元格中删除面积最小的单元格。若完成删除，则可以按照行与列的顺序对单元格进行排序，从而对齐单元格，在对齐的情况下，合并相邻的顶点，所谓相邻，可以顶点之间的距离小于预设的间距阈值，相邻的顶点多是表格识别模型检测产生的错误，合并顶点可以让拆分的单元格合并到同一个表格中。若完成合并，则考虑到正常的单元格具有四个顶点，可使用插值法等方式按照行与列的顺序补全顶点。若完成补全，则可以按照行与列的顺序去除孤立的顶点，孤立的顶点无法组成正常的单元格，即，孤立的订单对于单元格来说，属于噪音。若完成去除，则提取相连面积最大的多个单元格，作为表格。将表格映射至图像数据上，那么，在同一图像数据上，表格与文本块重叠，使得一个或多个文本块落入该表格的各个单元格中。依据标识信息确定位于表格中指定行或列上的单元格中的目标对象属于药品的标题，作为候选标题信息。进一步地，在多个文本块属于药品的标题的情况下，可以保留在光学字符识别时，在各个文本块之间添加表示换行的符号，使得目标对象为单独一个文本块，或者，目标对象包括多个文本块与至少一个表示换行的符号。此外，在供应商的药品清单中，习惯将药品的标题排版至某行或某列，不同供应商排版药品的标题的行或列存在一定差异，但大多默认将药品的标题排版至某行或某列，以符合某些排版的规范，因此，可查询是否对标识信息表示的供应商标记药品的标题所在的行或列。如果对供应商已标记药品的标题所在的行或列，则确定表格中该行或该列上的单元格中的文本块属于药品的标题，作为候选标题信息。如果后期工作人员校验正常该行或该列并非记录药品的标题，并指定某行或某列，则以供应商的标识为索引，标记工作人员指定的行或列的信息为药品的标题。如果未对供应商位标记药品的标题所在的行或列，则将确定表格中默认的行或默认的列上的单元格中的文本块属于药品的标题，作为候选标题信息。如果后期工作人员校验该行或该列上的单元格记录药品的标题，则以供应商的标识为索引，标记该行或该列的信息。如果后期工作人员校验正常该行或该列并非记录药品的金额，并指定某行或某列，则以供应商的标识为索引，标记工作人员指定的行或列的信息为药品的标题。使用模板的方式提取候选标题信息，精确度较高，但是，制作模板的成本较高，而且，新增供应商的清单、原供应商更新清单时，均要新增模板，导致维护模板的成本较高。使用表格的方式提取候选金额信息，虽然精确度会有所下降，但可以适应大部分供应商，且可以在一定程度上适应新增供应商的清单、原供应商更新清单的情况，有效控制成本。使用模板的方式提取候选标题信息与使用表格的方式提取候选标题信息可以单独使用、也可以混合使用，因此，可以依据业务的实际需求选择使用模板的方式和/或表格的方式提取候选标题信息，本实施例对此不加以限制。在一个示例中，对图3中药品的标题进行OCR的结果如图4所示，识别到的候选标题信息分别为：商通鼻炎水#AA一清颗粒六味地黄胶囊羞香正气水#放期蕃香清胃片#EE消檬片#FFF其中，“AA”、“EE”、“FFF”表示生产厂家的商标，“#”为换行的符号。在本示例中，清单被污染，在OCR时增加了一些噪音，部分药品的标题是药品的名称与生产厂家的商标，部分药品的标题仅为药品的名称，格式并不统一，部分文字因为清单打印较为模糊的关系导致识别错误。步骤103、将候选标题信息与各个通用标题信息进行比较。在本实施例中，可以每间隔一段时间整理已经入库的药品的标题，将其标题记录为通用标题信息，即，通用标题信息表示已入库药品的标题，药品已入库，表明该药品的标题经过电商平台的工作人员的校正，使得通用标题信息中并不存在OCR识别的错误、供应商的格式不规范或书写错误等问题。此外，通用标题信息是指至少在电商平台中统一格式的药品的标题，其格式可以为按照某些药品的命名规范制定的，也可以依据电商平台的业务而自定义的，各种药品的通用标题信息的格式可以相同、也可以不相同，例如，某种药品的通用标题信息的格式为“药品的名称”、某种药品的通用标题信息的格式为“药品的名称”、某种药品的通用标题信息的格式为“药品的名称*药品的数量”，等等，本实施例对此不加以限制。在一个示例中，电商平台的系统数据库有成功入库的药品记录如下：Id1-滴通鼻炎水Id2-滴通鼻炎水Id3-滴通鼻炎水Id4-滴通鼻炎水喷雾剂*3瓶Id5-甘草锌胶囊……其中，“AA”、“GGG”表示生产厂家的商标。在本示例中，药品记录以“-”划分字段，第一个字段为Id，第二个字段为通用标题信息。遍历清单中的各个候选标题信息，可以将候选标题信息与各个已入库药品的通用标题信息进行比较，判断候选标题信息与各个已入库药品的通用标题信息是否相同。如果候选标题信息与某个已入库药品的通用标题信息相同，则可以将候选标题信息直接提供给工作人员，作为录入药品的标题的参考。工作人员在录入药品的标题时，会进一步依据图像数据或清单本身核对候选标题信息是否有误。如果工作人员核对候选标题信息无误，则将候选标题信息作为药品的标题录入至电商平台的系统中。在一个示例中，将候选标题信息“商通鼻炎水#AA”与通用标题信息“滴通鼻炎水”进行比较，两者并不一样，再将候选标题信息“商通鼻炎水#AA”与通用标题信息“滴通鼻炎水”进行比较，如此遍历各个通用标题信息。步骤104、若候选标题信息与各个通用标题信息均不同，则依据编辑的距离计算候选标题信息属于各个通用标题信息的概率。如果候选标题信息与各个已入库药品的通用标题信息均不相同，表示候选标题信息并不满足入库的要求，可能存在OCR识别出错、供应商的格式不符合规范等问题。一般情况下，即便存在OCR识别出错、供应商的格式不符合规范等问题，但这些问题所造成的影响是比较有限的，使得候选标题信息与药品的正确标题之间是较为相似的，因此，可以对候选标题信息与各个通用标题信息执行自然语言处理，分析候选标题信息与各个通用标题信息之间编辑的距离，从而计算候选标题信息属于各个通用标题信息的概率。其中，编辑的距离是针对候选标题信息与通用标题信息的差异程度的量化量测，在一定程度上可以体现将通用标题信息编辑为候选标题信息的概率。一般情况下，候选标题信息与通用标题信息之间编辑的距离与候选标题信息属于通用标题信息的概率负相关，候选标题信息与通用标题信息之间编辑的距离越小，将该通用标题信息编辑为该候选标题信息的概率越大，即，该候选标题信息属于该通用标题信息编辑的概率越大，反之，候选标题信息与通用标题信息之间的编辑距离越大，将该通用标题信息编辑为该候选标题信息的概率越小，即，该候选标题信息属于该通用标题信息编辑的概率越小。在本发明的一个实施例中，步骤104可以包括如下步骤：步骤1041、将候选标题信息切分为多个第一候选分词。在本实施例中，实时可以对候选标题信息执行分词处理，从而将候选标题信息切分为多个第一候选分词。在具体实现中，可以使用通用的分词工具对候选标题信息执行分词处理，操作比较便捷，拓展性也比较好。考虑到药品的标题包含专业性的医药词汇，因此，可以在通用的分词工具的基础上，通过加载医药领域的字典、自定义字典和正则表达式匹配等方式辅助对候选标题信息执行分词处理，以提高分词的精确度。在一个示例中，对候选标题信息“商通鼻炎水#AA”执行分词处理，得到。步骤1042、将通用标题信息切分为多个第二候选分词。在本实施例中，实时或离线可以对各个通用标题信息执行分词处理，从而将各个通用标题信息切分为多个第二候选分词。一般情况下，将候选标题信息切分为多个第一候选分词的方式与将各个通用标题信息切分为多个第二候选分词的方式相同。在具体实现中，可以使用通用的分词工具对各个通用标题信息执行分词处理，操作比较便捷，拓展性也比较好。考虑到药品的标题包含专业性的医药词汇，因此，可以在通用的分词工具的基础上，通过加载医药领域的字典、自定义字典和正则表达式匹配等方式辅助对各个通用标题信息执行分词处理，以提高分词的精确度。进一步地，可以每间隔一段时间对通用标题信息生成统计数据，包括通用标题信息的分词、入库的次数。在一个示例中，电商平台的系统数据库对部分成功入库的药品统计的数据如下：22-滴通鼻炎水-11-滴通鼻炎水-33-滴通鼻炎水喷雾剂*3瓶-25-甘草锌胶囊-在本示例中，统计数据以“-”划分字段，第一个字段为通用标题信息入库的次数，第二个字段为通用标题信息，第三个字段为通用标题信息的分词。步骤1043、若第一候选分词与第二候选分词相同，则将第一候选分词或第二候选分词标记为目标分词。针对既定的候选标题信息与通用标题信息，可以将各个第一候选分词与各个第二候选分词进行比较。如果第一候选分词与第二候选分词相同，表示第一候选分词与第二候选分词属于共现的词，则可以将第一候选分词或第二候选分词标记为目标分词。在一个示例中，对候选标题信息“商通鼻炎水#AA”的第一候选分词与通用标题信息“滴通鼻炎水”的第二候选分词')进行比较，得到目标分词为'滴通','鼻炎','水','AA'。步骤1044、依据目标分词计算候选标题信息属于各个通用标题信息的概率。一般情况下，对于同一药品的标题，候选标题信息与通用标题信息之间是相似的，具有多个共现的词，因此，可以以共现的词作为量化编辑的距离的基础，从而评估候选标题信息属于通用标题信息的概率。一般情况下，候选标题信息属于通用标题信息的概率与目标分词的数量负相关，即，目标分词的数量越少，候选标题信息属于通用标题信息的概率越低，反之，目标分词的数量越多，候选标题信息属于通用标题信息的概率越高。在本发明的一个实施例中，步骤1044进一步可以包括如下步骤：步骤10441、对各个目标分词配置子权重。针对既定的候选标题信息与通用标题信息，可以依据目标分词的种类、位置、长度等因素对各个目标分词配置适合的子权重。在具体实现中，可以预先设置置信区间，置信区间具有上限值与下限值，该置信区间为在医药领域中对药品的标题切分得到的分词中，对药品的标题影响较大的关键词的范围。在本示例中，可统计各个目标分词的长度，并将该长度与置信区间进行比较。在一种情况中，若长度小于预设的置信区间，则将预设的第一数值设置为目标分词的子权重。进一步地，第一数值可以是一个默认的经验值，不同种类的药品可统一使用一个经验值作为第一数值。此外，考虑到药品的名称中会含有医药领域的专业术语，这些专业术语的长度差异较大，其分词的长度也差异较大，为适应不同种类的药品，第一数值可以是基于药品的种类而自适应调整的数值，提高概率的精确度。针对动态的第二数值，可使用关键词模糊匹配等方式在候选标题信息中查询药品的标识信息。依据标识信息查询为当前种类的药品配置的第一数值，将该第一数值设置为目标分词的子权重。在另一种情况中，若长度位于预设的置信区间内，则将为长度配置的第二数值设置为目标分词的子权重。其中，第二数值与长度正相关，即，目标分词的长度越长，对目标分词配置的子权重越大，反之，目标分词的长度越短，对目标分词配置的子权重越小；进一步地，第二数值可以是一个默认的经验值，不同种类的药品可统一使用一个经验值作为第二数值。此外，考虑到药品的名称中会含有医药领域的专业术语，这些专业术语的长度差异较大，其分词的长度也差异较大，为适应不同种类的药品，第二数值可以是基于药品的种类而自适应调整的数值，提高概率的精确度。针对动态的第二数值，可使用关键词模糊匹配等方式在候选标题信息中查询药品的标识信息。依据标识信息查询为当前种类的药品配置的多个映射关系，其中，各个映射关系中均记录长度与第二数值之间的关系。在映射关系中查询当前长度对应的第二数值，作为目标分词的子权重。在又一种情况中，若长度大于预设的置信区间，则将预设的第三数值设置为目标分词的子权重。进一步地，第三数值可以是一个默认的经验值，不同种类的药品可统一使用一个经验值作为第三数值。此外，考虑到药品的名称中会含有医药领域的专业术语，这些专业术语的长度差异较大，其分词的长度也差异较大，为适应不同种类的药品，第三数值可以是基于药品的种类而自适应调整的数值，提高概率的精确度。针对动态的第二数值，可使用关键词模糊匹配等方式在候选标题信息中查询药品的标识信息。依据标识信息查询为药品配置的第三数值，将第三数值设置为目标分词的子权重。其中，第一数值小于第三数值，第三数值小于第二数值。在一个示例中，对某个种类的药品设置的置信区间为，在目标分词的长度为1时，考虑到换行的符号、括号等符号的存在，可以设置0为子权重，在目标分词的长度为2时，可以设置0.2为子权重，在目标分词的长度为3时，可以设置0.4为子权重，在目标分词的长度为4时，可以设置0.6为子权重，在目标分词的长度大于或等于6时，可以设置0.1为子权重。步骤10442、计算所有目标分词的子权重之和，作为总权重。针对既定的候选标题信息与通用标题信息，可以将所有目标分词的子权重相加，得到总权重。步骤10443、统计历史上录入通用标题信息的第一次数。在电商平台的系统中，读取历史最近一段时间录入数据库的通用标题信息的第一次数，即，第一次数为通用标题信息作为药品的标题入库的次数。步骤10444、在第一次数的基础上加一，获得第二次数。当前药品待入库，可以增加一次次数，那么，在第一次数的基础上加一，获得第二次数。步骤10445、分别统计第一候选分词的第一数量、第二候选分词的第二数量。针对既定的候选标题信息，对其统计所有第一候选分词的第一数量，针对既定的通用标题信息对其统计所有第二候选分词的第二数量。步骤10446、将第一数量与第二数量相加，获得总数量。对第一数量与第二数量求和，可以所有分词的总数量。步骤10447、将总权重与第一次数之间的乘积、除以、总数量与第二次数之间的乘积，获得候选标题信息属于通用标题信息的概率。将总权重与第一次数之间的乘积、除以、总数量与第二次数之间的乘积，获得候选标题信息属于通用标题信息的概率。那么，候选标题信息属于通用标题信息的概率可以表示为：其中，P为候选标题信息属于通用标题信息的概率，wi为第i个目标分词的子权重，n为目标分词的总数量，s1为历史上录入通用标题信息的第一次数，s2为在第一次数的基础上累加当前将药品的标题入库的第二次数，t1为所有第一候选分词的第一数量，t2为所有第二候选分词的第二数量。在一个示例中，计算候选标题信息“商通鼻炎水#AA”属于通用标题信息“滴通鼻炎水”的概率如下：其中，目标分词“滴通”、“鼻炎”、“AA”的子权重均为0.2，目标分词“水”的子权重为0.1，通用标题信息“滴通鼻炎水”入库的第一次数为22，当前数据的第二次数即为23，候选标题信息“商通鼻炎水#AA”中所有第一候选分词的第一数量为5，通用标题信息“滴通鼻炎水”中所有第一候选分词的第一数量为6。步骤105、依据概率提取部分通用标题信息，作为目标标题信息。在本实施例中，可以对候选标题信息属于各个通用标题信息的概率进行比较，筛选出概率较高的部分通用标题信息，记为目标标题信息。示例性地，按照概率对通用标题信息进行降序排序，得到标题序列，在标题序列中，概率越高，通用标题信息的排序越前，反之，概率越低，通用标题信息的排序越后。提取排序最前的多个通用标题信息，作为目标标题信息，即，筛选出概率最高的多个通用标题信息作为目标标题信息。在一个示例中，计算候选标题信息“商通鼻炎水#AA”属于各个通用标题信息的概率，候选标题信息“商通鼻炎水#AA”属于通用标题信息“滴通鼻炎水”的概率最高，则可以将通用标题信息“滴通鼻炎水”设置为目标标题信息。当然，上述选择目标标题信息的方式只是作为示例，在实施本实施例时，可以根据实际情况设置其它目标标题信息的方式，例如，提取概率大于某个阈值、且数值最大的多个通用标题信息，作为目标标题信息，等等，本实施例对此不加以限制。另外，除了上述目标标题信息的方式外，本领域技术人员还可以根据实际需要采用其它目标标题信息的方式，本实施例对此也不加以限制。步骤106、若接收到对目标标题信息触发的确认操作，则将候选标题信息修正为目标标题信息。在本实施例中，将部分概率较高的通用标题信息反馈给电商平台的工作人员，作为录入药品的标题的参考。例如，如图3所示，在电商平台的系统中，对各个药品提供可选的目标标题信息，目标标题信息分别为：商通鼻炎水一清颗粒六味地黄胶囊藿香正气水藿香清胃片消朦片其中，“AA”、“BBB”、“CC”、“DDDD”、“EE”、“FFF”表示生产厂家的商标。在本示例中，经过修正，清除了OCR带来的换行的符号“#”，消除了清单的污染在OCR时带来的噪音，纠正了OCR的识别错误，并统一格式为“药品的名称”。工作人员在录入药品的标题时，会进一步依据图像数据或清单本身核对目标标题信息是否有误。如果工作人员核对目标标题信息无误，则将目标标题信息作为药品的标题录入至电商平台的系统中。如果工作人员核对目标标题信息有误，则依据图像数据或清单本身对目标标题信息进行修正，将修正后的目标标题信息作为药品的金额录入至电商平台的系统中。一般情况下，光学字符识别模型的检测错误是一些长尾现象，如果为了克服光学字符识别模型在识别药品金额时的检测错误，而采集大量的样本对光学字符识别模型进行训练，采集样本与标注样本的成本高，而且，容易造成过拟合，影响光学字符识别模型在其他业务的性能。此外，供应商来源广泛，供应商的格式多样化、难以统一，供应商的书写错误、格式规范化问题较难从源头纠正。在本实施例中，在药品入库时，在图像数据中检测多个文本块，图像数据包含向供应商订购药品的清单；查找属于药品的标题的文本块，作为候选标题信息；将候选标题信息与各个通用标题信息进行比较，通用标题信息表示已入库药品的标题；若候选标题信息与各个通用标题信息均不同，则依据编辑的距离计算候选标题信息属于各个通用标题信息的概率；依据概率提取部分通用标题信息，作为目标标题信息；若接收到对目标标题信息触发的确认操作，则将候选标题信息修正为目标标题信息。本实施例使用通用标题信息修正从清单中识别的候选标题信息，可以同时克服光学字符识别模型的检测错误、供应商的格式不规范或书写错误等问题，针对标题长度较短的特性，使用编辑的距离候选标题信息属于各个通用标题信息的概率，计算简单，可保证概率的精确度，不仅避免训练光学字符识别模型，成本低，保证光学字符识别模型在其他业务的性能，而且，可有效降低错误，减少人工核对药品标题的工作，大大提高了录入药品标题的简便性，从而提高了录入药品标题的效率。实施例二图5为本发明实施例二提供的一种药品标题的修正装置的结构示意图。如图5所示，该装置包括：文本块检测模块501，用于在药品入库时，在图像数据中检测多个文本块，所述图像数据包含向供应商订购所述药品的清单；候选标题信息查找模块502，用于查找属于所述药品的标题的所述文本块，作为候选标题信息；通用标题信息比较模块503，用于将所述候选标题信息与各个通用标题信息进行比较，所述通用标题信息表示已入库药品的标题；概率计算模块504，用于若所述候选标题信息与各个所述通用标题信息均不同，则依据编辑的距离计算所述候选标题信息属于各个所述通用标题信息的概率；目标标题信息提取模块505，用于依据所述概率提取部分所述通用标题信息，作为目标标题信息；候选标题信息修正模块506，用于若接收到对所述目标标题信息触发的确认操作，则将所述候选标题信息修正为所述目标标题信息。在本发明的一个实施例中，所述候选标题信息查找模块502包括：标识信息查找模块，用于在所述文本块中查找所述供应商的标识信息；模板查询模块，用于依据所述标识信息查询为所述供应商创建的模板，所述模板中标记有属于标题的检测框；模板映射模块，用于将所述模板映射至所述图像数据上；重叠确定模块，用于若所述检测框与目标对象之间重叠的程度大于预设的第一重叠阈值，则确定所述文本块属于所述药品的标题，作为候选标题信息；其中，目标对象为单独一个所述文本块，或者，目标对象包括多个所述文本块与至少一个表示换行的符号；和/或，标识信息查找模块，用于在所述文本块中查找所述供应商的标识信息；单元格识别模块，用于在所述图像数据中识别单元格，所述单元格中具有多个顶点；单元格删除模块，用于若两个所述单元格之间重叠的程度大于预设的第二重叠阈值，则在两个所述单元格中删除面积最小的所述单元格；顶点合并模块，用于若完成删除，则合并相邻的所述顶点；顶点补全模块，用于若完成合并，则按照行与列的顺序补全所述顶点；顶点去除模块，用于若完成补全，则按照行与列的顺序去除孤立的所述顶点；表格提取模块，用于若完成去除，则提取相连面积最大的多个所述单元格，作为表格；表格映射模块，用于将所述表格映射至所述图像数据上；行列确定模块，用于依据所述标识信息确定位于所述表格中指定行或列上的所述单元格中目标对象属于所述药品的标题，作为候选标题信息；其中，目标对象为单独一个所述文本块，或者，目标对象包括多个所述文本块与至少一个表示换行的符号。在本发明的一个实施例中，所述概率计算模块504包括：第一分词模块，用于将所述候选标题信息切分为多个第一候选分词；第二分词模块，用于将所述通用标题信息切分为多个第二候选分词；目标分词标记模块，用于若所述第一候选分词与所述第二候选分词相同，则将所述第一候选分词或所述第二候选分词标记为目标分词；目标分词计算模块，用于依据所述目标分词计算所述候选标题信息属于各个所述通用标题信息的概率。在本发明的一个实施例中，所述目标分词计算模块包括：子权重配置模块，用于对各个所述目标分词配置子权重；总权重计算模块，用于计算所有所述目标分词的子权重之和，作为总权重；第一次数统计模块，用于统计历史上录入所述通用标题信息的第一次数；第二次数计算模块，用于在所述第一次数的基础上加一，获得第二次数；分词数量统计模块，用于分别统计所述第一候选分词的第一数量、所述第二候选分词的第二数量；总数量计算模块，用于将所述第一数量与所述第二数量相加，获得总数量；比值计算模块，用于将所述总权重与所述第一次数之间的乘积、除以、所述总数量与所述第二次数之间的乘积，获得所述候选标题信息属于所述通用标题信息的概率。在本发明的一个实施例中，所述目子权重配置模块包括：长度统计模块，用于统计各个所述目标分词的长度；第一数值设置模块，用于若所述长度小于预设的置信区间，则将预设的第一数值设置为所述目标分词的子权重；第二数值设置模块，用于若所述长度位于预设的置信区间内，则将为所述长度配置的第二数值设置为所述目标分词的子权重，所述第二数值与所述长度正相关；第三数值设置模块，用于若所述长度大于预设的置信区间，则将预设的第三数值设置为所述目标分词的子权重；其中，所述第一数值小于所述第三数值，所述第三数值小于所述第二数值。在本发明的一个实施例中，所述子权重配置模块还包括：药品标识查询模块，用于在所述候选标题信息中查询药品的标识信息；所述第一数值设置模块还用于：依据所述标识信息查询为所述药品配置的第一数值；将所述第一数值设置为所述目标分词的子权重；所述第二数值设置模块还用于：依据所述标识信息查询为所述药品配置的多个映射关系，各个所述映射关系中均记录长度与第二数值之间的关系；在所述映射关系中查询所述长度对应的第二数值，作为所述目标分词的子权重；所述第三数值设置模块还用于：依据所述标识信息查询为所述药品配置的第三数值；将所述第三数值设置为所述目标分词的子权重。在本发明实施例的一个示例中，所述药品的标题包括如下至少一者：所述药品的名称、所述药品的剂量、所述药品的数量、所述供应商的品牌、符号。在本发明的一个实施例中，所述目标标题信息提取模块505包括：标题排序模块，用于按照所述概率对所述通用标题信息进行降序排序，得到标题序列；序列提取模块，用于提取排序最前的多个所述通用标题信息，作为目标标题信息。本发明实施例所提供的药品标题的修正装置可执行本发明任意实施例所提供的药品标题的修正方法，具备执行药品标题的修正方法相应的功能模块和有益效果。实施例三图6示出了可以用来实施本发明的实施例的电子设备10的结构示意图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本发明的实现。如图6所示，电子设备10包括至少一个处理器11，以及与至少一个处理器11通信连接的存储器，如只读存储器12、随机访问存储器13等，其中，存储器存储有可被至少一个处理器执行的计算机程序，处理器11可以根据存储在只读存储器12中的计算机程序或者从存储单元18加载到随机访问存储器13中的计算机程序，来执行各种适当的动作和处理。在RAM13中，还可存储电子设备10操作所需的各种程序和数据。处理器11、ROM12以及RAM13通过总线14彼此相连。输入/输出接口15也连接至总线14。电子设备10中的多个部件连接至I/O接口15，包括：输入单元16，例如键盘、鼠标等；输出单元17，例如各种类型的显示器、扬声器等；存储单元18，例如磁盘、光盘等；以及通信单元19，例如网卡、调制解调器、无线通信收发机等。通信单元19允许电子设备10通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。处理器11可以是各种具有处理和计算能力的通用和/或专用处理组件。处理器11的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的处理器、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。处理器11执行上文所描述的各个方法和处理，如药品标题的修正方法。在一些实施例中，药品标题的修正方法可被实现为计算机程序，其被有形地包含于计算机可读存储介质，例如存储单元18。在一些实施例中，计算机程序的部分或者全部可以经由ROM12和/或通信单元19而被载入和/或安装到电子设备10上。当计算机程序加载到RAM13并由处理器11执行时，可以执行上文描述的药品标题的修正方法的一个或多个步骤。备选地，在其他实施例中，处理器11可以通过其他任何适当的方式而被配置为执行药品标题的修正方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本发明的方法的计算机程序可以采用一个或多个编程语言的任何组合来编写。这些计算机程序可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器，使得计算机程序当由处理器执行时使流程图和/或框图中所规定的功能/操作被实施。计算机程序可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本发明的上下文中，计算机可读存储介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的计算机程序。计算机可读存储介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。备选地，计算机可读存储介质可以是机器可读信号介质。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在电子设备上实施此处描述的系统和技术，该电子设备具有：用于向用户显示信息的显示装置或者LCD监视器)；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给电子设备。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网、区块链网络和互联网。计算系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，又称为云计算服务器或云主机，是云计算服务体系中的一项主机产品，以解决了传统物理主机与VPS服务中，存在的管理难度大，业务扩展性弱的缺陷。实施例四本发明实施例还提供了一种计算机程序产品，该计算机程序产品包括计算机程序，该计算机程序在被处理器执行时实现如本发明任一实施例所提供的药品标题的修正方法。计算机程序产品在实现的过程中，可以以一种或多种程序设计语言或其组合来编写用于执行本发明操作的计算机程序代码，程序设计语言包括面向对象的程序设计语言，诸如Java、Smalltalk、C++，还包括常规的过程式程序设计语言，诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络——包括局域网或广域网—连接到用户计算机，或者，可以连接到外部计算机。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发明中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本发明的技术方案所期望的结果，本文在此不进行限制。上述具体实施方式，并不构成对本发明保护范围的限制。本领域技术人员应该明白的是，根据设计要求和其他因素，可以进行各种修改、组合、子组合和替代。任何在本发明的精神和原则之内所作的修改、等同替换和改进等，均应包含在本发明保护范围之内。
