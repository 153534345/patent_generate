标题title
一种自助服务终端设备的数据防冗余方法和系统
摘要abst
本发明涉及数据存储相关领域，公开了一种自助服务终端设备的数据防冗余方法和系统，包括数据存储模块、校验检索模块、匹配分段模块以及存储链接模块；通过对需要存储的数据进行特征数据段的提取，可以方便的对与数据库中重复的数据进行匹配和识别，从而通过对需要存储的数据进行分段的方式进行存储，对于重复的片段采取多数据读取指向共用存储内容的方案进行数据的防冗余处理，相较于现有技术中的存储方式，能够大大的降低对于终端设备的存储占用，且重复数据的共源存储可以有效的提升数据安全的管理工作，对系统进行数据热度内容具有更加直观的判断，同时数据特征段的匹配方式也有效降低了防冗余计算过程中的设备算力占用。
权利要求书clms
1.一种自助服务终端设备的数据防冗余系统，其特征在于，包含：数据存储模块，用于获取待存储数据，基于预设的头数据库对待存储数据进行匹配，获取相对应的识别头数据段，并以预设的数据长度间隔及特征数据段长度对所述待存储数据进行特征提取，获取数个特征数据段，同一所述识别头数据段及相对应的特征数据段为防冗余数据组；校验检索模块，用于基于所述防冗余数据组对匹配数据库进行检索，若所述识别头数据段及连续的数个特征数据段与所述匹配数据库中的防冗余数据组相匹配，则获取相匹配的所述防冗余数据组的对应存储数据，对所述存储数据与所述待存储数据的对应数据段进行比对并生成判断结果；匹配分段模块，用于当所述判断结果表征为相同时，基于相匹配所述防冗余数据组的首末数据节点对所述待存储数据进行分段标记，并基于所述分段标记对所述待存储数据进行分割，获取多个待存储子数据段；存储链接模块，用于对所述判断结果表征为相同的待存储子数据与相对应的所述存储数据进行存储地址的引导指向链接，并对剩余多个所述待存储子数据段分配存储空间并生成存储地址链接，基于所述引导指向链接与所述存储地址链接生成所述待存储数据的存储读取链接。2.根据权利要求1所述的一种自助服务终端设备的数据防冗余系统，其特征在于，每个所述待存储数据包括不定数目个所述识别头数据段，所述识别头数据段均与防冗余数据组一一对应，多个所述防冗余数据组对应的所述待存储数据的数据段区间可重叠存在，所述待存储子数据段设有最大数据量，每个所述防冗余数据组中所述特征数据段对应设有最大数量。3.根据权利要求2所述的一种自助服务终端设备的数据防冗余系统，其特征在于，所述数据存储模块包括头设定单元；所述头设定单元，用于当基于所述头数据库对所述待存储数据进行匹配时，若在预设的数据段长度内未检索到相匹配的所述识别头数据段，则提取所述待存储数据在该数据段内的数据并建立识别头数据段，所述预设的数据段长度小于所述数据长度间隔，所述识别头数据段的数据长度小于所述数据长度间隔。4.根据权利要求3所述的一种自助服务终端设备的数据防冗余系统，其特征在于，所述匹配分段模块包括分割预留单元；所述分割预留单元，用于在所述分段标记两侧基于预设的预留数据段的大小分别划定分割预留节点，当对所述待存储数据进行分割时，两侧的所述预留数据段复制并分别分割至前后所述待存储子数据段，所述预留数据段用于当重新组合相邻所述待存储子数据时，进行数据内容的匹配定位。5.根据权利要求1所述的一种自助服务终端设备的数据防冗余系统，其特征在于，还包括辅助读取引导模块，具体包括：读取请求单元，用于获取数据读取请求，基于所述数据读取请求获取相对应的存储读取链接，并获取数个所述存储子数据段的引导指向链接及存储地址链接；读取判断单元，用于获取对应所述引导指向链接及所述存储地址链接的单位时间读取频率，若所述单位时间读取频率大于预设阈值，则生成引导与已读取存储数据的用户通信链接的辅助读取链接；读取引导单元，用于基于所述辅助读取链接通过用户获取所述存储数据。6.一种自助服务终端设备的数据防冗余方法，其特征在于，包含：获取待存储数据，基于预设的头数据库对待存储数据进行匹配，获取相对应的识别头数据段，并以预设的数据长度间隔及特征数据段长度对所述待存储数据进行特征提取，获取数个特征数据段，同一所述识别头数据段及相对应的特征数据段为防冗余数据组；基于所述防冗余数据组对匹配数据库进行检索，若所述识别头数据段及连续的数个特征数据段与所述匹配数据库中的防冗余数据组相匹配，则获取相匹配的所述防冗余数据组的对应存储数据，对所述存储数据与所述待存储数据的对应数据段进行比对并生成判断结果；当所述判断结果表征为相同时，基于相匹配所述防冗余数据组的首末数据节点对所述待存储数据进行分段标记，并基于所述分段标记对所述待存储数据进行分割，获取多个待存储子数据段；对所述判断结果表征为相同的待存储子数据与相对应的所述存储数据进行存储地址的引导指向链接，并对剩余多个所述待存储子数据段分配存储空间并生成存储地址链接，基于所述引导指向链接与所述存储地址链接生成所述待存储数据的存储读取链接。7.根据权利要求6所述的一种自助服务终端设备的数据防冗余方法，其特征在于，每个所述待存储数据包括不定数目个所述识别头数据段，所述识别头数据段均与防冗余数据组一一对应，多个所述防冗余数据组对应的所述待存储数据的数据段区间可重叠存在，所述待存储子数据段设有最大数据量，每个所述防冗余数据组中所述特征数据段对应设有最大数量。8.根据权利要求7所述的一种自助服务终端设备的数据防冗余方法，其特征在于，还包括步骤：当基于所述头数据库对所述待存储数据进行匹配时，若在预设的数据段长度内未检索到相匹配的所述识别头数据段，则提取所述待存储数据在该数据段内的数据并建立识别头数据段，所述预设的数据段长度小于所述数据长度间隔，所述识别头数据段的数据长度小于所述数据长度间隔。9.根据权利要求8所述的一种自助服务终端设备的数据防冗余方法，其特征在于，还包括步骤：在所述分段标记两侧基于预设的预留数据段的大小分别划定分割预留节点，当对所述待存储数据进行分割时，两侧的所述预留数据段复制并分别分割至前后所述待存储子数据段，所述预留数据段用于当重新组合相邻所述待存储子数据时，进行数据内容的匹配定位。10.根据权利要求6所述的一种自助服务终端设备的数据防冗余方法，其特征在于，还包括步骤：所述数据读取请求获取相对应的存储读取链接，并获取数个所述存储子数据段的引导指向链接及存储地址链接；获取对应所述引导指向链接及所述存储地址链接的单位时间读取频率，若所述单位时间读取频率大于预设阈值，则生成引导与已读取存储数据的用户通信链接的辅助读取链接；基于所述辅助读取链接通过用户获取所述存储数据。
说明书desc
技术领域本发明涉及数据存储相关领域，具体是一种自助服务终端设备的数据防冗余方法和系统。背景技术随着计算机及云端技术的快速发展，个人及服务端所具有的数据量正在快速的增加，这就导致云端以及个人对于存储的需求压不断的被提升，大量的数据需要被存储，对于存储设备的需求量也逐渐的难以满足。在基于物理层面对于存储设备的提升以解决问题外，通过现有技术中的问题我们可以了解到，产生当前问题的一部分原因包括存储需求的民用化，门槛的降低使得用户群体的扩张，且这些用户群体中，不同用户群体间存在大量重复或部分包含的相同数据内容，导致存储库空间的大量浪费。发明内容本发明的目的在于提供一种自助服务终端设备的数据防冗余方法和系统，以解决上述背景技术中提出的问题。为实现上述目的，本发明提供如下技术方案：一种自助服务终端设备的数据防冗余系统，包含：数据存储模块，用于获取待存储数据，基于预设的头数据库对待存储数据进行匹配，获取相对应的识别头数据段，并以预设的数据长度间隔及特征数据段长度对所述待存储数据进行特征提取，获取数个特征数据段，同一所述识别头数据段及相对应的特征数据段为防冗余数据组；校验检索模块，用于基于所述防冗余数据组对匹配数据库进行检索，若所述识别头数据段及连续的数个特征数据段与所述匹配数据库中的防冗余数据组相匹配，则获取相匹配的所述防冗余数据组的对应存储数据，对所述存储数据与所述待存储数据的对应数据段进行比对并生成判断结果；匹配分段模块，用于当所述判断结果表征为相同时，基于相匹配所述防冗余数据组的首末数据节点对所述待存储数据进行分段标记，并基于所述分段标记对所述待存储数据进行分割，获取多个待存储子数据段；存储链接模块，用于对所述判断结果表征为相同的待存储子数据与相对应的所述存储数据进行存储地址的引导指向链接，并对剩余多个所述待存储子数据段分配存储空间并生成存储地址链接，基于所述引导指向链接与所述存储地址链接生成所述待存储数据的存储读取链接。作为本发明的进一步方案：每个所述待存储数据包括不定数目个所述识别头数据段，所述识别头数据段均与防冗余数据组一一对应，多个所述防冗余数据组对应的所述待存储数据的数据段区间可重叠存在，所述待存储子数据段设有最大数据量，每个所述防冗余数据组中所述特征数据段对应设有最大数量。作为本发明的再进一步方案：所述数据存储模块包括头设定单元；所述头设定单元，用于当基于所述头数据库对所述待存储数据进行匹配时，若在预设的数据段长度内未检索到相匹配的所述识别头数据段，则提取所述待存储数据在该数据段内的数据并建立识别头数据段，所述预设的数据段长度小于所述数据长度间隔，所述识别头数据段的数据长度小于所述数据长度间隔。作为本发明的再进一步方案：所述匹配分段模块包括分割预留单元；所述分割预留单元，用于在所述分段标记两侧基于预设的预留数据段的大小分别划定分割预留节点，当对所述待存储数据进行分割时，两侧的所述预留数据段复制并分别分割至前后所述待存储子数据段，所述预留数据段用于当重新组合相邻所述待存储子数据时，进行数据内容的匹配定位。作为本发明的再进一步方案：还包括辅助读取引导模块，具体包括：读取请求单元，用于获取数据读取请求，基于所述数据读取请求获取相对应的存储读取链接，并获取数个所述存储子数据段的引导指向链接及存储地址链接；读取判断单元，用于获取对应所述引导指向链接及所述存储地址链接的单位时间读取频率，若所述单位时间读取频率大于预设阈值，则生成引导与已读取存储数据的用户通信链接的辅助读取链接；读取引导单元，用于基于所述辅助读取链接通过用户获取所述存储数据。本发明实施例旨在提供一种自助服务终端设备的数据防冗余方法，包含：获取待存储数据，基于预设的头数据库对待存储数据进行匹配，获取相对应的识别头数据段，并以预设的数据长度间隔及特征数据段长度对所述待存储数据进行特征提取，获取数个特征数据段，同一所述识别头数据段及相对应的特征数据段为防冗余数据组；基于所述防冗余数据组对匹配数据库进行检索，若所述识别头数据段及连续的数个特征数据段与所述匹配数据库中的防冗余数据组相匹配，则获取相匹配的所述防冗余数据组的对应存储数据，对所述存储数据与所述待存储数据的对应数据段进行比对并生成判断结果；当所述判断结果表征为相同时，基于相匹配所述防冗余数据组的首末数据节点对所述待存储数据进行分段标记，并基于所述分段标记对所述待存储数据进行分割，获取多个待存储子数据段；对所述判断结果表征为相同的待存储子数据与相对应的所述存储数据进行存储地址的引导指向链接，并对剩余多个所述待存储子数据段分配存储空间并生成存储地址链接，基于所述引导指向链接与所述存储地址链接生成所述待存储数据的存储读取链接。作为本发明的进一步方案：每个所述待存储数据包括不定数目个所述识别头数据段，所述识别头数据段均与防冗余数据组一一对应，多个所述防冗余数据组对应的所述待存储数据的数据段区间可重叠存在，所述待存储子数据段设有最大数据量，每个所述防冗余数据组中所述特征数据段对应设有最大数量。作为本发明的再进一步方案：还包括步骤：当基于所述头数据库对所述待存储数据进行匹配时，若在预设的数据段长度内未检索到相匹配的所述识别头数据段，则提取所述待存储数据在该数据段内的数据并建立识别头数据段，所述预设的数据段长度小于所述数据长度间隔，所述识别头数据段的数据长度小于所述数据长度间隔。作为本发明的再进一步方案：还包括步骤：在所述分段标记两侧基于预设的预留数据段的大小分别划定分割预留节点，当对所述待存储数据进行分割时，两侧的所述预留数据段复制并分别分割至前后所述待存储子数据段，所述预留数据段用于当重新组合相邻所述待存储子数据时，进行数据内容的匹配定位。作为本发明的再进一步方案：还包括步骤：所述数据读取请求获取相对应的存储读取链接，并获取数个所述存储子数据段的引导指向链接及存储地址链接；获取对应所述引导指向链接及所述存储地址链接的单位时间读取频率，若所述单位时间读取频率大于预设阈值，则生成引导与已读取存储数据的用户通信链接的辅助读取链接；基于所述辅助读取链接通过用户获取所述存储数据。与现有技术相比，本发明的有益效果是：通过对需要存储的数据进行特征数据段的提取，可以方便的对与数据库中重复的数据进行匹配和识别，从而通过对需要存储的数据进行分段的方式进行存储，对于重复的片段采取多数据读取指向共用存储内容的方案进行数据的防冗余处理，相较于现有技术中的存储方式，能够大大的降低对于终端设备的存储占用，且重复数据的共源存储可以有效的提升数据安全的管理工作，对系统进行数据热度内容具有更加直观的判断，同时数据特征段的匹配方式也有效降低了防冗余计算过程中的设备算力占用。附图说明图1为一种自助服务终端设备的数据防冗余系统的组成框图。图2为一种自助服务终端设备的数据防冗余系统中辅助读取引导模块的组成框图。图3为一种自助服务终端设备的数据防冗余方法的流程框图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。以下结合具体实施例对本发明的具体实现方式进行详细描述。如图1所述，为本发明一个实施例提供的一种自助服务终端设备的数据防冗余系统，包括以下步骤：数据存储模块100，用于获取待存储数据，基于预设的头数据库对待存储数据进行匹配，获取相对应的识别头数据段，并以预设的数据长度间隔及特征数据段长度对所述待存储数据进行特征提取，获取数个特征数据段，同一所述识别头数据段及相对应的特征数据段为防冗余数据组。校验检索模块300，用于基于所述防冗余数据组对匹配数据库进行检索，若所述识别头数据段及连续的数个特征数据段与所述匹配数据库中的防冗余数据组相匹配，则获取相匹配的所述防冗余数据组的对应存储数据，对所述存储数据与所述待存储数据的对应数据段进行比对并生成判断结果。匹配分段模块500，用于当所述判断结果表征为相同时，基于相匹配所述防冗余数据组的首末数据节点对所述待存储数据进行分段标记，并基于所述分段标记对所述待存储数据进行分割，获取多个待存储子数据段。存储链接模块700，用于对所述判断结果表征为相同的待存储子数据与相对应的所述存储数据进行存储地址的引导指向链接，并对剩余多个所述待存储子数据段分配存储空间并生成存储地址链接，基于所述引导指向链接与所述存储地址链接生成所述待存储数据的存储读取链接。本实施例中，给出了一种自助服务终端设备的数据防冗余系统，通过对需要存储的数据进行特征数据段的提取，可以方便的对与数据库中重复的数据进行匹配和识别，从而通过对需要存储的数据进行分段的方式进行存储，对于重复的片段采取多数据读取指向共用存储内容的方案进行数据的防冗余处理，相较于现有技术中的存储方式，能够大大的降低对于终端设备的存储占用，且重复数据的共源存储可以有效的提升数据安全的管理工作，对系统进行数据热度内容具有更加直观的判断，同时数据特征段的匹配方式也有效降低了防冗余计算过程中的设备算力占用；使用时，在库中存储的数据段均是对应设有方便匹配检索的防冗余数据组的，其中包括用于识别的识别头数据段及多个表征特征的特征数据段，这里把一段数据理解为长条状的数据轴存在的话，即数据的前部包括一个用于识别的头数据段，后以相同的间隔依次包括多个特征数据段，当在用户存储某一数据时，对数据进行安全检索的过程中，根据头数据段的存储库对数据进行匹配，当检索到某一头数据段一致的内容时，则基于该头数据段以相同的间隔提取多个特征数据段，从而可以进行与库中存储的数据进行特征匹配，判断是否相同，在均相同的情况下，可以判断为存储数据中的这一段与库中已存储的部分是一致的，则不再重复存储，通过设置引导至已存储数据的存储地址的方式，降低系统冗余。作为本发明另一个优选的实施例，每个所述待存储数据包括不定数目个所述识别头数据段，所述识别头数据段均与防冗余数据组一一对应，多个所述防冗余数据组对应的所述待存储数据的数据段区间可重叠存在，所述待存储子数据段设有最大数据量，每个所述防冗余数据组中所述特征数据段对应设有最大数量。进一步的，所述数据存储模块100包括头设定单元；所述头设定单元，用于当基于所述头数据库对所述待存储数据进行匹配时，若在预设的数据段长度内未检索到相匹配的所述识别头数据段，则提取所述待存储数据在该数据段内的数据并建立识别头数据段，所述预设的数据段长度小于所述数据长度间隔，所述识别头数据段的数据长度小于所述数据长度间隔。本实施例中，对于同一个待存储的数据，其是可以有多个防冗余数据组的，匹配出的识别头数据段可能只是一小段相同数据，并未可以直接表示与已存储数据相一致，因此需要多个防冗余数据组进行多次匹配以更加可靠合理的进行判断，且在获取识别头数据段时，若数据在一定的数据长度内未匹配到头数据，则基于该数据新建立新的头数据，表示该段数据在库中并未存储过。作为本发明另一个优选的实施例，所述匹配分段模块500包括分割预留单元；所述分割预留单元，用于在所述分段标记两侧基于预设的预留数据段的大小分别划定分割预留节点，当对所述待存储数据进行分割时，两侧的所述预留数据段复制并分别分割至前后所述待存储子数据段，所述预留数据段用于当重新组合相邻所述待存储子数据时，进行数据内容的匹配定位。本实施例中，分割预留的作用在于，当两端分割后的数据在重新进行读取时，可以通过重叠的相同部分数据进行两端数据组合的定位，避免数据的错位丢失等导致分段数据组合后无法还原原数据。如图2所示，作为本发明另一个优选的实施例，还包括辅助读取引导模块900，具体包括：读取请求单元901，用于获取数据读取请求，基于所述数据读取请求获取相对应的存储读取链接，并获取数个所述存储子数据段的引导指向链接及存储地址链接。读取判断单元902，用于获取对应所述引导指向链接及所述存储地址链接的单位时间读取频率，若所述单位时间读取频率大于预设阈值，则生成引导与已读取存储数据的用户通信链接的辅助读取链接。读取引导单元903，用于基于所述辅助读取链接通过用户获取所述存储数据。本实施例中，这一辅助读取引导模块900的作用在于，当在数据库在不断的读取的过程中，因防冗余的存在，部分共享数据段可能会存在较高的被读取频率，这将容易导致存储器寿命问题以及读取带宽的占用问题，因此通过将被频繁读取的数据段的读取请求引导至已经读取的设备端，进行数据内容的共享，则可以有效的降低对于存储库的读写压力。如图3所示，本发明还提供了一种自助服务终端设备的数据防冗余方法，其包含步骤：S200，获取待存储数据，基于预设的头数据库对待存储数据进行匹配，获取相对应的识别头数据段，并以预设的数据长度间隔及特征数据段长度对所述待存储数据进行特征提取，获取数个特征数据段，同一所述识别头数据段及相对应的特征数据段为防冗余数据组。S400，基于所述防冗余数据组对匹配数据库进行检索，若所述识别头数据段及连续的数个特征数据段与所述匹配数据库中的防冗余数据组相匹配，则获取相匹配的所述防冗余数据组的对应存储数据，对所述存储数据与所述待存储数据的对应数据段进行比对并生成判断结果。S600，当所述判断结果表征为相同时，基于相匹配所述防冗余数据组的首末数据节点对所述待存储数据进行分段标记，并基于所述分段标记对所述待存储数据进行分割，获取多个待存储子数据段。S800，对所述判断结果表征为相同的待存储子数据与相对应的所述存储数据进行存储地址的引导指向链接，并对剩余多个所述待存储子数据段分配存储空间并生成存储地址链接，基于所述引导指向链接与所述存储地址链接生成所述待存储数据的存储读取链接。作为本发明另一个优选的实施例，每个所述待存储数据包括不定数目个所述识别头数据段，所述识别头数据段均与防冗余数据组一一对应，多个所述防冗余数据组对应的所述待存储数据的数据段区间可重叠存在，所述待存储子数据段设有最大数据量，每个所述防冗余数据组中所述特征数据段对应设有最大数量。作为本发明另一个优选的实施例，还包括步骤：所述数据读取请求获取相对应的存储读取链接，并获取数个所述存储子数据段的引导指向链接及存储地址链接。获取对应所述引导指向链接及所述存储地址链接的单位时间读取频率，若所述单位时间读取频率大于预设阈值，则生成引导与已读取存储数据的用户通信链接的辅助读取链接。基于所述辅助读取链接通过用户获取所述存储数据。当基于所述头数据库对所述待存储数据进行匹配时，若在预设的数据段长度内未检索到相匹配的所述识别头数据段，则提取所述待存储数据在该数据段内的数据并建立识别头数据段，所述预设的数据段长度小于所述数据长度间隔，所述识别头数据段的数据长度小于所述数据长度间隔。作为本发明另一个优选的实施例，还包括步骤：在所述分段标记两侧基于预设的预留数据段的大小分别划定分割预留节点，当对所述待存储数据进行分割时，两侧的所述预留数据段复制并分别分割至前后所述待存储子数据段，所述预留数据段用于当重新组合相邻所述待存储子数据时，进行数据内容的匹配定位。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一非易失性计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路 DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。本领域技术人员在考虑说明书及实施例处的公开后，将容易想到本公开的其它实施方案。本申请旨在涵盖本公开的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本公开的一般性原理并包括本公开未公开的本技术领域中的公知常识或惯用技术手段。说明书和实施例仅被视为示例性的，本公开的真正范围和精神由权利要求指出。应当理解的是，本公开并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。本公开的范围仅由所附的权利要求来限制。
