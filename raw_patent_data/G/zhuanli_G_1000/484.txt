标题title
标定参数校准方法、检测方法、装置、介质、设备及系统
摘要abst
本公开实施例中提供标定参数校准方法、检测方法、装置、介质、设备及系统，校准方法用于标定尺度参数校准，标定尺度参数确定图像尺寸同实际物理尺寸的尺度关系；输送设备包括可旋转的至少一辊筒，设有一标定校准图案，随辊筒的旋转周期性地出现在相机的视野中；校准方法包括：基于相机的采集图像中标定校准图案的参考部分的图像尺寸以及标定标准图案所在的至少一个目标区域的标定尺度参数，得到标定校准图案的测量物理尺寸；基于参考部分的测量物理尺寸和实际物理尺寸之间的误差是否符合预设条件，确定标定尺度参数是否可靠。由此，在校准时无需对输送设备停机，校准时机可自行选择以保证输送物检测精度，实现及操作简单。
权利要求书clms
1.一种标定参数校准方法，其特征在于，应用于相机的标定尺度参数的校准，每个所述标定尺度参数用于确定所述相机的采集图像中目标区域的图像尺寸同实际物理尺寸之间的尺度关系；所述相机被配置成图像采集方向朝向输送设备设置，所述输送设备包括可旋转的至少一辊筒，所述辊筒设有一标定校准图案，所述标定校准图案随辊筒的旋转周期性地出现在所述相机的视野中；所述方法包括：基于所述相机的采集图像中标定校准图案的参考部分的图像尺寸以及标定标准图案所在的至少一个目标区域的标定尺度参数，得到所述标定校准图案的测量物理尺寸；基于所述参考部分的测量物理尺寸和实际物理尺寸之间的误差是否符合预设条件，确定所述标定尺度参数是否可靠。2.根据权利要求1所述的标定参数校准方法，其特征在于，所述标定校准图案包括：具有明暗差异的矩形的第一图案和第二图案，所述第二图案位于第一图案内且与所述第一图案的各边缘分别留有间距。3.根据权利要求2所述的标定参数校准方法，其特征在于，基于所述相机的采集图像中标定校准图案的参考部分的图像尺寸以及标定标准图案所在的至少一个目标区域的标定尺度参数，得到所述标定校准图案的测量物理尺寸，包括：在所述至少一个目标区域中，通过边缘检测算法得到所述第二图案在一个图像方向上的两侧边缘线及它们的坐标；基于所述两侧边缘线的坐标，确定所述第二图案在所述图像方向上的图像尺寸；根据所述图像方向上的图像尺寸及所述至少一个目标区域标定尺度参数，计算所述第二图案在该图像方向上的测量物理尺寸。4.根据权利要求1至3中任一项所述的标定参数校准方法，其特征在于，所述标定尺度参数通过每个像素点的实际物理尺寸来表示。5.一种输送物检测方法，其特征在于，包括：如权利要求1至4中任一项所述的标定参数校准方法；响应于所述标定尺度参数可靠、且所述输送设备的输送物进入所述相机的视野，基于所述标定尺度参数计算所采集图像中所述输送物的待测量部位的测量物理尺寸。6.根据权利要求5中所述的输送物检测方法，其特征在于，所述输送物包括至少两个电池极耳；所述基于所述标定尺度参数计算所采集图像中所述输送物的待测量部位的测量物理尺寸，包括：通过边缘检测算法得到所述至少两个电池极耳各自的两侧边缘线及它们的横坐标；基于所述至少两个电池极耳各自的两侧边缘线及它们的横坐标，确定所述至少两个电池极耳之间在横向上的各自宽度以及间距的图像尺寸；基于所述至少两个电池极耳之间在横向上的各自宽度和间距的图像尺寸以及所在目标区域的标定尺度参数，计算得到所述至少两个电池极耳之间在横向上的各自宽度和间距的测量物理尺寸；和/或，所述输送物检测方法还包括以下一种情形：1）周期性地执行所述标定参数校准方法；2）提供标定参数校准方法的标定模式选项；响应于所述标定模式选项受到的操作，执行或不执行所述标定参数校准方法。7.一种处理装置，其特征在于，包括：处理器及存储器；所述存储器存储有程序指令；所述处理器，用于运行所述程序指令，以执行如权利要求1至4中任一项所述的标定参数校准或如权利要求5或6所述的输送物检测方法。8.一种计算机可读存储介质，其特征在于，存储有程序指令，所述程序指令被运行以执行如权利要求1至4中任一项所述的标定参数校准或如权利要求5或6所述的输送物检测方法。9.一种输送设备，其特征在于，包括：输送机构，包括：可旋转的至少一辊筒，所述辊筒设有一标定校准图案；所述标定校准图案随辊筒的旋转周期性地出现在一相机的视野中；所述相机的图像采集方向朝向所述输送机构。10.一种输送系统，其特征在于，包括：如权利要求9所述的输送设备；相机，被配置成图像采集方向朝向所述输送设备设置，且令所述标定校准图案随辊筒的旋转周期性地出现在所述相机的视野中；如权利要求7所述的处理装置，通信连接所述相机。
说明书desc
技术领域本公开涉及新能源电池的图像识别技术领域，尤其涉及标定参数校准方法、检测方法、装置、介质、设备及系统。背景技术在图像测量过程以及机器视觉应用中，为确定空间物体表面某点的三维几何位置与其在图像中对应点之间的相互关系，必须建立相机成像的几何模型，这些几何模型参数就是相机参数。对相机参数进行标定，就是通过实验及计算求解相机的内、外参数及畸变参数的过程。标定的作用在于，一方面由于每个镜头的畸变程度各不相同，通过相机标定可以校正这种镜头畸变矫正畸变，生成矫正后的图像。另一方面，可根据获得的图像重构三维场景。无论是在图像测量或者机器视觉应用中，相机参数的标定都是非常关键的环节，其标定结果的精度及算法的稳定性直接影响相机工作产生结果的准确性。随着相机的使用，相机参数可能会随相机的偏移、磨损等而不准确，需要重新标定以校准相机参数。在目前的输送物输送场景中，会利用相机来拍摄输送设备所输送的输送物的图像，并进行一些逻辑处理。例如，识别输送物、测量输送物的尺寸等等。在进行输送物的尺寸测量时，需要使用到图像二维坐标系到空间三维坐标系的转换，也就涉及到所标定的相机参数。然而，目前在该场景中的标定参数的校准方案中，若出现输送物尺寸测量不准且不确定是否因为相机移位导致标定值不准，只能对输送设备进行停机，以执行标定校准。标定校准的过程，比如将标定板匀速通过相机下方并用相机进行采集以得到图像，并校准标定参数是否存在问题。可见，该校准过程需要停机断带，只能在不生产的时候进行，复杂繁琐且影响生产。发明内容鉴于以上所述现有技术的缺点，本公开的目的在于提供标定参数校准方法、检测方法、装置、介质、设备及系统，解决相关技术中的问题。本公开第一方面提供一种标定参数校准方法，应用于相机的标定尺度参数的校准，每个所述标定尺度参数用于确定所述相机的采集图像中目标区域的图像尺寸同实际物理尺寸之间的尺度关系；所述相机被配置成图像采集方向朝向输送设备设置，所述输送设备包括可旋转的至少一辊筒，所述辊筒设有一标定校准图案，所述标定校准图案随辊筒的旋转周期性地出现在所述相机的视野中；所述方法包括：基于所述相机的采集图像中标定校准图案的参考部分的图像尺寸以及标定标准图案所在的至少一个目标区域的标定尺度参数，得到所述标定校准图案的测量物理尺寸；基于所述参考部分的测量物理尺寸和实际物理尺寸之间的误差是否符合预设条件，确定所述标定尺度参数是否可靠。在第一方面的实施例中，所述标定校准图案包括：具有明暗差异的矩形的第一图案和第二图案，所述第二图案位于第一图案内且与所述第一图案的各边缘分别留有间距。在第一方面的实施例中，基于所述相机的采集图像中标定校准图案的参考部分的图像尺寸以及标定标准图案所在的至少一个目标区域的标定尺度参数，得到所述标定校准图案的测量物理尺寸，包括：在所述至少一个目标区域中，通过边缘检测算法得到所述第二图案在一个图像方向上的两侧边缘线及它们的坐标；基于所述两侧边缘线的坐标，确定所述第二图案在所述图像方向上的图像尺寸；根据所述图像方向上的图像尺寸及所述至少一个目标区域标定尺度参数，计算所述第二图案在该图像方向上的测量物理尺寸。在第一方面的实施例中，所述标定尺度参数通过每个像素点的实际物理尺寸来表示。本公开第二方面提供一种输送物检测方法，包括：如第一方面中任一项所述的标定参数校准方法；响应于所述标定尺度参数可靠、且所述输送设备的输送物进入所述相机的视野，基于所述标定尺度参数计算所采集图像中所述输送物的待测量部位的测量物理尺寸。在第二方面的实施例中，所述输送物包括至少两个电池极耳；所述基于所述标定尺度参数计算所采集图像中所述输送物的待测量部位的测量物理尺寸，包括：通过边缘检测算法得到所述至少两个电池极耳各自的两侧边缘线及它们的横坐标；基于所述至少两个电池极耳各自的两侧边缘线及它们的横坐标，确定所述至少两个电池极耳之间在横向上的各自宽度以及间距的图像尺寸；基于所述至少两个电池极耳之间在横向上的各自宽度和间距的图像尺寸以及所在目标区域的标定尺度参数，计算得到所述至少两个电池极耳之间在横向上的各自宽度和间距的测量物理尺寸。在第二方面的实施例中，所述输送物检测方法还包括以下一种情形：1）周期性地执行所述标定参数校准方法；2）提供标定参数校准方法的标定模式选项；响应于所述标定模式选项受到的操作，执行或不执行所述标定参数校准方法。本公开第三方面提供一种处理装置，包括：处理器及存储器；所述存储器存储有程序指令；所述处理器，用于运行所述程序指令，以执行如第一方面中任一项所述的标定参数校准或如第二方面中任一项所述的输送物检测方法。本公开第四方面提供一种计算机可读存储介质，其特征在于，存储有程序指令，所述程序指令被运行以执行如第一方面中任一项所述的标定参数校准或如第二方面中任一项所述的输送物检测方法。本公开第五方面提供一种输送设备，包括：输送机构，包括：可旋转的至少一辊筒，所述辊筒设有一标定校准图案；所述标定校准图案随辊筒的旋转周期性地出现在一相机的视野中；所述相机的图像采集方向朝向所述输送机构。本公开第六方面提供一种输送系统，包括：如第五方面所述的输送设备；相机，被配置成图像采集方向朝向所述输送设备设置，且令所述标定校准图案随辊筒的旋转周期性地出现在所述相机的视野中；如第三方面所述的处理装置，通信连接所述相机。如上所述，本公开实施例中提供标定参数校准方法、检测方法、装置、介质、设备及系统，校准方法用于标定尺度参数校准，标定尺度参数确定图像尺寸同实际物理尺寸的尺度关系；输送设备包括可旋转的至少一辊筒，设有一标定校准图案，随辊筒的旋转周期性地出现在所述相机的视野中；所述校准方法包括：基于所述相机的采集图像中标定校准图案的参考部分的图像尺寸以及标定标准图案所在的至少一个目标区域的标定尺度参数，得到所述标定校准图案的测量物理尺寸；基于所述参考部分的测量物理尺寸和实际物理尺寸之间的误差是否符合预设条件，确定所述标定尺度参数是否可靠。由此，在校准时无需对输送设备停机，校准时机可自行选择以保证输送物检测精度，实现及操作简单。附图说明图1A展示图像枕形畸变的示意图。图1B展示图像桶形畸变的示意图。图1C展示标定板上黑白棋盘格图案示意图。图2展示本公开一实施例中输送场景的结构示意图。图3展示本公开一实施例中输送系统的俯视视角的示意图。图4展示本公开一实施例中所述标定校准图案的结构示意图。图5展示本公开一实施例中相机采集图像中多个目标区域分别具有不同标定尺度参数的示意图。图6展示本公开一实施例中的标定参数校准方法的流程示意图。图7A展示本公开一实施例中标定校准图案完整落入右侧目标区域的示意图。图7B展示本公开一实施例中标定校准图案仅第一图案部分落入左侧目标区域的示意图。图7C展示本公开一实施例中标定校准图案的第二图案部分落入左侧目标区域的示意图。图8展示本公开一实施例中输送物检测方法的流程示意图。图9展示本公开一实施例中计算极耳和涂层区域宽度的示意图。图10展示本公开一实施例中处理装置的结构示意图。具体实施方式以下通过特定的具体示例说明本公开的实施方式，本领域技术人员可由本公开所揭露的消息轻易地了解本公开的其他优点与功效。本公开还可以通过另外不同的具体实施方式加以实施或应用模块，本公开中的各项细节也可以根据不同观点与应用模块，在没有背离本公开的精神下进行各种修饰或改变。需说明的是，在不冲突的情况下，本公开中的实施例及实施例中的特征可以相互组合。下面以附图为参考，针对本公开的实施例进行详细说明，以便本公开所属技术领域的技术人员能够容易地实施。本公开可以以多种不同形态体现，并不限定于此处说明的实施例。在本公开的表示中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的表示意指结合该实施例或示例表示的具体特征、结构、材料或者特点包括于本公开的至少一个实施例或示例中。而且，表示的具体特征、结构、材料或者特点可以在任一个或一组实施例或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本公开中表示的不同实施例或示例以及不同实施例或示例的特征进行结合和组合。此外，术语“第一”、“第二”仅用于表示目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或隐含地包括至少一个该特征。在本公开的表示中，“一组”的含义是两个或两个以上，除非另有明确具体的限定。为了明确说明本公开，省略与说明无关的器件，对于通篇说明书中相同或类似的构成要素，赋予了相同的参照符号。在通篇说明书中，当说某器件与另一器件“连接”时，这不仅包括“直接连接”的情形，也包括在其中间把其它元件置于其间而“间接连接”的情形。另外，当说某种器件“包括”某种构成要素时，只要没有特别相反的记载，则并非将其它构成要素排除在外，而是意味着可以还包括其它构成要素。虽然在一些示例中术语第一、第二等在本文中用来表示各种元件，但是这些元件不应当被这些术语限制。这些术语仅用来将一个元件与另一个元件进行区分。例如，第一接口及第二接口等表示。再者，如同在本文中所使用的，单数形式“一”、“一个”和“该”旨在也包括复数形式，除非上下文中有相反的指示。应当进一步理解，术语“包含”、“包括”表明存在所述的特征、步骤、操作、元件、模块、项目、种类、和/或组，但不排除一个或一组其他特征、步骤、操作、元件、模块、项目、种类、和/或组的存在、出现或添加。此处使用的术语“或”和“和/或”被解释为包括性的，或意味着任一个或任何组合。因此，“A、B或C”或者“A、B和/或C”意味着“以下任一个：A；B；C；A和B；A和C；B和C；A、B和C”。仅当元件、功能、步骤或操作的组合在某些方式下内在地互相排斥时，才会出现该定义的例外。此处使用的专业术语只用于言及特定实施例，并非意在限定本公开。此处使用的单数形态，只要语句未明确表示出与之相反的意义，那么还包括复数形态。在说明书中使用的“包括”的意义是把特定特性、图案、整数、步骤、作业、要素及/或成份具体化，并非排除其它特性、图案、整数、步骤、作业、要素及/或成份的存在或附加。虽然未不同地定义，但包括此处使用的技术术语及科学术语，所有术语均具有与本公开所属技术领域的技术人员一般理解的意义相同的意义。普通使用的字典中定义的术语追加解释为具有与相关技术文献和当前提示的消息相符的意义，只要未进行定义，不得过度解释为理想的或非常公式性的意义。在图像测量过程以及机器视觉应用中，为确定空间物体表面某点的三维几何位置与其在图像中对应点之间的相互关系，必须建立相机成像的几何模型，这些几何模型参数就是相机参数。相机参数包括内参、外参及畸变参数。相机成像的畸变主要来自于镜头，基于镜头的不同，形成的畸变类型和畸变程度也各不相同。畸变类型可以包括径向畸变，径向畸变又包括枕形畸变和桶形畸变。枕形畸变可参考图1A所示，视野中边缘区域的放大率远大于光轴中心区域的放大率，常用在远摄镜头中。桶形畸变可参考图1B所示，桶形畸变与枕形畸变相反，视野中光轴中心区域的放大率远大于边缘区域的放大率，常出现在广角镜头和鱼眼镜头中。相机标定的目的之一就是矫正畸变。另外，相机标定的另外目的在于根据获得的图像重构三维场景。比如，将相机的某个视角图像中的像素点坐标经内、外参转换，以得到其它视角的图像中的像素坐标、或者空间坐标系中的空间坐标。摄像机标定可以通过对标定板进行拍摄来完成。如图1C所示，展示一种标定板的图案，即黑白棋盘格。其中包含了大小一致且间隔设置的黑白方格，组成了与国际象棋棋盘相似的图案，故被称为黑白棋盘格。该图案的特点，在于每个方格的横向尺寸之间可以相同，纵向尺寸之间可以相同，且黑白方格间隔很容易被识别出方格角点。以图1C为例，可以得到n个对应的世界坐标三维点Xi和对应的图像坐标二维点xi，这些三维点到二维点的转换都可以通过相机内参K ，相机外参中旋转矩阵R 和平移矩阵T，以及畸变参数 D ，经过一系列的矩阵变换得到。以下对标定计算进行简单的原理说明。首先，是求解内部参数K和畸变参数D。基于在棋盘格上已知的角点坐标和在空间中实际测量的角点在图像中的位置，通过最小化重投影误差来求解相机的内部参数。在一些示例中，具体计算步骤如下：选择一个棋盘格图案，并测量棋盘格的大小和格点数量；在不同的方向、距离和角度下拍摄多张包含棋盘格的图片，并将图片转换为灰度图；对每张图片中的棋盘格进行角点检测，得到角点的像素坐标；将每张图片中的角点像素坐标与棋盘格中的角点物理坐标对应起来，得到相机的内部参数矩阵和畸变系数。可以使用麦夸尔特法计算最小化重投影误差，得到相机的内部参数矩阵和畸变系数的最优解。其次，在得到相机的内部参数后，可以使用PnP算法来计算相机的外部参数。PnP算法是一种基于3D-2D点对的相机姿态估计算法，根据已知的3D点和它们在图像中的对应2D点，计算相机的旋转向量和平移向量，即相机的外部参数。在一些示例中，具体计算步骤如下：确定一组已知的3D点和它们在图像中的对应2D点；根据相机的内部参数矩阵和畸变系数，将2D点坐标转换为归一化相机坐标系下的坐标；使用PnP算法求解相机的旋转向量和平移向量，即相机的外部参数。在输送场景中，会利用相机来拍摄图像并据以识别、测量输送物的尺寸等。在进行输送物的尺寸测量时，需要使用到图像二维坐标系到空间三维坐标系的转换，也就涉及到所标定的相机参数。如图2所示，展示本公开一实施例中输送场景的结构示意图。所述输送系统包括：输送设备201以及相机202。所述输送设备201具有用于物体的输送机构。在示例性地，所述相机202可以悬挂在输送设备201的上方，向下拍摄输送设备201的输送机构。作为示例，所述相机202可以是电荷耦合器件线扫描相机。线扫相机也叫做线阵相机，和面阵相机一样，都是重要的工业相机。线扫描成像使用单行图像传感器扫描到的一维像素线来构建二维图像，二维图像的第二维来自输送物的运动。所述线扫相机的扫描线的延伸方向可与输送物的移动方向垂直，在输送物垂直移动经过扫描线时，通过连续的各个单行扫描逐行获取数据以组成二维图像。通过标定相机202参数，可以确定相机202采集图像的图像坐标与世界坐标的关系，则通过计算一个标定尺度参数，就可以用于表示图像坐标系中的图像尺寸与世界坐标系中的实际物理尺寸之间的尺度关系，以便于快速计算图像中某个目标实际的物理尺寸。例如，所述图像尺寸通过像素量来表示，比如图像中某个线段在图像横坐标轴的长度为a像素，该线段的实际物理尺寸为c米，则可以计算标定尺度参数b=c/a，即每个像素所对应空间点的实际物理尺寸。由此，利用该标定尺度参数可以快速计算图像中目标的物理尺寸，可以被称为与“实际物理尺寸”对应的“测量物理尺寸”作为测量结果。而，当测量结果出现尺寸不准确时，可能是标定尺度参数不准确，则需要进行确定标定尺度参数是否准确的校准。在相关技术中，需要对输送设备201进行停机。进一步地，在图2中，将标定板203匀速通过相机202下方并用相机202进行采集以得到黑白棋盘格的二维图像，例如图1C所示例。进一步地，校准所使用的标定尺度参数是否存在问题。可见，相关技术中的校准过程实际上还是传统的标定手段，需要停机断带才能使用标定板203，只能在不生产的时候进行，复杂繁琐且影响生产。鉴于此，本公开实施例中省去了标定板，通过在输送设备的辊筒设置不影响正常输送的标定校准图案，并配合相应的标定参数校准方法，实现在无需停机的情况下可以随时进行标定校准，解决相关技术的问题。可参考图3，图3展示本公开一实施例中输送系统的俯视视角的示意图。所述输送设备301的输送机构可以包括可旋转的至少一个辊筒311。作为示例，图2中的所述输送机构可以是辊筒311式输送机构，包括沿输送方向排列设置的可滚动的多个辊筒311，利用每个辊筒311和输送物接触的摩擦力驱动输送物行进。作为另外示例，所述输送机构也可以是皮带式输送机构，皮带两端缠绕的两个辊筒的转动带动皮带行进，皮带则带动承载的输送物行进。作为示例，所述辊筒311可以是主动滚动，也可以是受驱滚动。在图3中，所述输送设备301的至少一个辊筒311上设有一标定校准图案302，所述标定校准图案302随辊筒311的旋转周期性地出现在所述相机303的视野中。作为示例，所述标定校准图案302可以位于所述辊筒311对应滚动方向的圆柱形侧面上。示例性地，所述标定校准图案302可设于靠近辊筒311的两端位置，以避免影响输送物，也避免被输送物遮蔽。示例性地，所述标定校准图案302可以是黏贴到辊筒311上，也可以直接在辊筒311上加工形成。由此，通过令相机303按照适合频率进行拍摄，即可在标定校准图案302向上时被拍摄到。可以参考图4所示，展示本公开一实施例中所述标定校准图案的结构示意图。所述标定校准图案包括：具有明暗差异的矩形的第一图案401和第二图案402，所述第二图案402位于第一图案401内且与所述第一图案401的各边缘分别留有间距。示例性地，所述第一图案401和第二图案402之间可以通过像素值的差异体现所述明暗差异，例如第一图案401为像素值为255的白色，第二图案402为像素值0的黑色等。通过明暗差异，可以识别出所述第二图案402的边缘线，以配合第二图案402的宽度、高度的图像尺寸及标定尺度参数来得到测量物理尺寸，以与已知的第二图案402的实际物理尺寸进行误差比较，来确定标定尺度参数是否可靠。需说明的是，考虑到标定尺度参数的准确性，在利用标定板进行标定时，相机所采集图像并非整体都采用同一种标定尺度参数，而是分区域计算标定尺度参数。例如，在图像横方向上每隔预设数量个像素点划分成一个目标区域，每个目标区域计算一种标定尺度参数。示例性地说明标定尺度参数的标定方式。例如，以图5为例，取其中一行黑白格，沿图像横轴方向每隔512个像素划分一个目标区域，假设每个黑、白格的宽度为512个像素，则每格为一个目标区域，使用一种标定尺度参数。由此，计算其中每一格在图中的图像水平方向的像素坐标范围，得到每个黑格/白格i在图像水平方向上的像素个数n1,n2,…ni。由于每个黑格/白格的宽度的实际物理尺寸w为已知，则每个黑格/白格的像素个数对应的标定尺度参数的计算式表示为：ki=w / ni 即，每个黑格/白格中每个像素宽度的实际物理尺寸为kimm。从而完成对每个目标区域使用的标定尺度参数的标定。可以理解的是，目标区域的数量取决于自身包含的像素数量以及采集图像的分辨率。因此，图4中将黑格/白格的划分为目标区域只是一种示例。如果相机分辨率发生变化，如每个黑格/白格的宽度为128个像素，则每4个黑格/白格的宽度为一个目标区域。如果采集图像的宽度为512，那么一个采集图像即对应一个目标区域。在执行标定尺度参数的校准时，不必如上述标定一般计算黑/白格的每个目标区域的标定参数，而只需要利用标定校准图案所在目标区域的标定尺度参数计算标定校准图案的测量物理尺寸，以与已知的标定校准图案的实际物理尺寸比较误差，即可确定所述标定尺度参数是否可靠。示例性地，在图3实施例中，还可设置一处理装置304，所述处理装置304与所述相机303通信连接，以通过执行标定参数校准方法实现对标定尺度参数的校准。如图6所示，展示本公开一实施例中的标定参数校准方法的流程示意图。所述标定参数校准方法可应用于图3中的处理装置304。在图6中，流程包括：步骤S601：基于所述相机的采集图像中标定校准图案的参考部分的图像尺寸以及标定标准图案所在的至少一个目标区域的标定尺度参数，得到所述标定校准图案的测量物理尺寸。进一步示例中，所述步骤S601可进一步包括：步骤S611：在所述至少一个目标区域中，通过边缘检测算法得到所述第二图案在一个图像方向上的两侧边缘线及它们的坐标。在一些实施例中，所述图像方向可以是图像水平方向，也可以称为图像横向、宽度方向、或图像坐标系的x轴方向。步骤S612：基于所述两侧边缘线的坐标，确定所述第二图案在所述图像方向上的图像尺寸。在一些实施例中，基于所述图像方向为图像水平方向，则步骤S612求的是第二图案的宽度的图像尺寸。需特别说明的是，虽然示例中采用第二图案的宽度作为参考，但只是一种举例，在其它实施例中可以选择第二图案的其它部位尺寸作为参考，并非以图示为限制。步骤S613：根据所述图像方向上的图像尺寸及所述至少一个目标区域标定尺度参数，计算所述第二图案在该图像方向上的测量物理尺寸。在一个示例中，根据式，通过将第二图案宽度的图像尺寸与相应目标区域的标定尺度参数相乘，即可得到所述宽度的测量物理尺寸。另外，根据之前图5实施例可知，采集图像中可以包含多个目标区域，每个目标区域使用不同的标定尺度参数。因此，所述标定校准图案可能完全落在一个目标区域内，也可能有落在不同目标区域内的部分。例如，图7A所示，示例性地展示两个目标区域，每个目标区域长度为512像素。左侧目标区域预先标定有标定尺度参数A，右侧目标区域预先标定有标定尺度参数B。在图7A中，可见标定校准图案完全落入右侧目标区域，则使用标定尺度参数B进行标定第二图案宽度方向的测量物理尺寸的计算。又例如图7B所示，在图7B中，标定校准图案的第一图案部分落入左侧目标区域，而第二图案部分完整落入右侧目标区域，则仍然可以使用标定尺度参数B进行标定第二图案宽度方向的测量物理尺寸的计算。又例如图7C所示，在图7C中，标定校准图案的第二图案分别落入左侧目标区域和右侧目标区域，则第二图案在左侧目标区域的第一部分宽度L1的测量物理尺寸使用标定尺度参数A计算，第二图案在右侧目标区域的第二部分宽度L2的测量物理尺寸使用标定尺度参数B计算，进而两部分测量物理尺寸相加得到完整的第二图案宽度的测量物理尺寸L。回到图6，步骤S602：基于所述参考部分的测量物理尺寸和实际物理尺寸之间的误差是否符合预设条件，确定所述标定尺度参数是否可靠。在一些实施例中，可以通过将多次连续计算误差是否均超出预设误差范围作为预设条件。通过判断所述误差是否超出预设误差范围的连续次数达到预设数量。若达到，则判断所述标定尺度参数不可靠；否则，判断所述标定尺度参数可靠。举例来说，在辊转动的时候对标定校准图案进行测量，连续测量n次。若结果全部在误差范围内，即判定可靠；否则，判定不可靠。基于所述标定参数校准方法，如图8所示，本公开实施例中还可以提供输送物检测方法，包括：步骤S601~步骤S602；以及，步骤S603：响应于所述标定尺度参数可靠、且所述输送设备的输送物进入所述相机的视野，基于所述标定尺度参数计算所采集图像中所述输送物的待测量部位的测量物理尺寸。示例性地，所述输送物可以包括如产品、零件等，则所述输送物检测方法进一步还可以包括：步骤S604：基于所述测量物理尺寸检验所述输送物是否合格。作为示例，如图9所示，示例性地展示所述输送物可以包括锂电池的至少两个电池极耳，分别为极耳1和极耳2。两个电池极耳之间为涂层区域。需要检测所述两个电池极耳的宽度以及所述涂层区域的宽度是否符合合格要求。在获取图9的极片图像后，通过边缘检测算法得到所述至少两个电池极耳各自的两侧边缘线及它们的横坐标，得到x方向坐标位置x1,x2,x3,x4。作为示例，所述边缘检测算法可以基于边缘检测模型，包括一阶的有Roberts算子，Prewitt算子，Sobel算子，Canny算子等；二阶的有Laplacian算子等。基于所述至少两个电池极耳各自的两侧边缘线及它们的横坐标，确定所述至少两个电池极耳之间在横向上的各自宽度以及间距的图像尺寸。举例来说，计算极耳1的像素宽度为x2-x1，起始坐标x1，通过查询坐标区间内已经校准为可靠的标定尺度参数，可以得到该区间内每个像素的测量物理尺寸，继而累加得出极耳1宽度的测量物理尺寸。同理，可得到极耳2和涂层区域的宽度的测量物理尺寸。基于所述至少两个电池极耳之间在横向上的各自宽度和间距的图像尺寸以及所在目标区域的标定尺度参数，计算得到所述至少两个电池极耳之间在横向上的各自宽度和间距的测量物理尺寸。在一些实施例中，所述输送物检测方法中所执行的所述标定参数校准方法，可以配置成一种标定参数校准功能以被使用。在一些实施例中，所述标定参数校准功能可以是自动执行，例如周期性地执行所述标定参数校准方法。在又一些实施例中，所述标定参数校准可以是由选项来设置开/关的。例如，通过人机交互界面提供标定参数校准方法的标定模式选项，以供用户选择，所述选项包括对所述标定参数校准功能的“开”及“关”。以及，响应于所述标定模式选项受到的用户操作，执行或不执行所述标定参数校准方法。由此可见，可以设置标定参数校准方法的随时执行，且不会影响到输送设备的正常运转。如图10所示，展示本公开一实施例中处理装置的结构示意图。所述处理装置1000可实现为图3中的处理装置。在一些实施例中，所述处理装置1000示例为云平台中的处理终端，例如服务器、台式机、笔记本电脑、平板电脑、智能手机或其它终端。所述处理装置1000包括总线1001、处理器1002、存储器1003。处理器1002、存储器1003之间可以通过总线1001通信。所述存储器1003中可以存储有程序指令。所述处理器1002通过运行存储器1003中的程序指令来实现例如图6实施例中的标定参数校准或图7中的输送物检测方法中的步骤。总线1001可以是外设部件互连标准总线或扩展工业标准结构总线等。总线可以分为地址总线、数据总线、控制总线等。为便于表示，虽然图中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。在一些实施例中，处理器1002可以为中央处理器、微处理单元、片上系统、或现场可编程逻辑阵列等实现。存储器1003可以包括易失性存储器以用于运行程序时的数据暂存使用，例如随机存取存储器。存储器1003还可以包括非易失性存储器以用于数据存储，例如只读存储器，快闪存储器，硬盘驱动器或固态盘。在一些实施例中，所述处理装置1000还可以包括通信器1004。所述通信器1004用于与外部通信。在具体实例中，所述通信器1004可以包括一个或一组有线和/或无线通信电路模块。举例来说，所述通信器1004可以包括例如有线网卡、USB模块、串行接口模块等中的一种或多种。无线通信模块所遵循的无线通信协议包括：例如近距离无线通信技术、红外技术、全球移动通讯系统、通用分组无线服务、码分多址引入、宽带码分多址、时分码分多址、长期演进、蓝牙、全球导航卫星系统等中的一种或多种。本公开实施例中还可以提供一种计算机可读存储介质，存储有程序指令，所述程序指令被运行时实现之前例如图6实施例中的标定参数校准或图7中的输送物检测方法中的步骤。即上述实施例中的方法步骤被实现为可存储在记录介质中的软件或计算机代码，或者被实现通过网络下载的原始存储在远程记录介质或非暂时机器可读介质中并将被存储在本地记录介质中的计算机代码，从而在此表示的方法可被存储在使用通用计算机、专用处理器或者可编程或专用硬件的记录介质上的这样的软件处理。本公开实施例中还可以提供一种输送设备，包括：输送机构，包括：可旋转的至少一辊筒，所述辊筒设有一标定校准图案。所述标定校准图案可例如图4所示。本公开实施例中还可以提供一种输送系统，可参考例如图3所示。需特别说明的是，本公开上述实施例的流程图表示的流程或方法表示可以被理解为，表示包括一个或更一组被配置成实现特定逻辑功能或过程的步骤的可执行指令的代码的模块、片段或部分。并且本公开的优选实施方式的范围包括另外的实现，其中可以不按所示出或讨论的顺序，包括根据所涉及的功能按基本同时的方式或按相反的顺序，来执行功能。例如，图6、图7等方法实施例中的各个步骤的顺序可能可以在具体场景中加以变化，并非以上述表示为限。综上所述，本公开实施例中提供标定参数校准方法、检测方法、装置、介质、设备及系统，校准方法用于标定尺度参数校准，标定尺度参数确定图像尺寸同实际物理尺寸的尺度关系；输送设备包括可旋转的至少一辊筒，设有一标定校准图案，随辊筒的旋转周期性地出现在所述相机的视野中；所述校准方法包括：基于所述相机的采集图像中标定校准图案的参考部分的图像尺寸以及标定标准图案所在的至少一个目标区域的标定尺度参数，得到所述标定校准图案的测量物理尺寸；基于所述参考部分的测量物理尺寸和实际物理尺寸之间的误差是否符合预设条件，确定所述标定尺度参数是否可靠。由此，在校准时无需对输送设备停机，校准时机可自行选择以保证输送物检测精度，实现及操作简单。主要功效表现在：1）对相机分辨率校准无需停机、断带，不影响正常生产，提高产能；2）对相机分辨率校准操作简单，无需额外粘贴标定板等其他辅助设备；3）可随时进行校准，保证检测精度。上述实施例仅例示性说明本公开的原理及其功效，而非用于限制本公开。任何熟悉此技术的人士皆可在不违背本公开的精神及范畴下，对上述实施例进行修饰或改变。因此，举凡所属技术领域中具有通常知识者在未脱离本公开所揭示的精神与技术思想下所完成的一切等效修饰或改变，仍应由本公开的说明书所涵盖。
