标题title
一种基于微波测量数据的噪声处理方法
摘要abst
本发明涉及数据处理技术领域，具体涉及一种基于微波测量数据的噪声处理方法，包括：采集微波测距系统中的发射数据与接收数据，并获取每个接收数据的所有局部范围；将接收数据中任意连续数据的作为一个接收数据段，根据接收数据段中的数据以及接收数据段中的数据所对应的发射数据，接收数据的正常程度与异常程度；根据接收数据的所有局部范围的异常程度、接收数据的搜索窗口中每个接收数据的所有特征段的正常程度与异常程度，获取接收数据的搜索窗口中每个接收数据的所有滤波权重，对接收数据进行滤波。本发明通过以每个接收数据受到噪声的影响程度为依据调整非局部均值滤波中的权重，以此提高微波测量数据的滤波去噪的效果。
权利要求书clms
1.一种基于微波测量数据的噪声处理方法，其特征在于，该方法包括以下步骤：采集微波测距系统的发射信号与接收信号，将发射信号中的数据记为发射数据，将接收信号中的数据记为接收数据，对接收数据进行划分，获取每个接收数据的所有局部范围；将接收信号中任意连续接收数据构成的数据段作为一个接收数据段，根据接收数据段中的接收数据以及接收数据段中的接收数据所对应的发射数据，获取接收数据段的正常程度；根据接收数据段中数据幅值的分布情况，获取接收数据段的异常程度；所述接收数据段的异常程度用于描述接收数据受到噪声影响的程度；构建非局部均值滤波算法中每个接收数据的搜索窗口；根据接收数据的所有局部范围以及接收数据的搜索窗口，获取接收数据的搜索窗口中每个接收数据的所有特征段；获取接收数据的所有局部范围的异常程度、接收数据的搜索窗口中每个接收数据的所有特征段的正常程度与异常程度，所述局部范围的异常程度、特征段的正常程度与异常程度的获取方法，和获取接收数据段的正常程度与异常程度的方法相同；根据接收数据的所有局部范围的异常程度、接收数据的搜索窗口中每个接收数据的所有特征段的正常程度与异常程度，获取接收数据的搜索窗口中每个接收数据的所有滤波权重；根据接收数据的搜索窗口中每个接收数据的所有滤波权重，以及接收数据的搜索窗口内所有数据的幅值，对接收数据进行非局部均值滤波；所述根据接收数据段中的接收数据以及接收数据段中的接收数据所对应的发射数据，获取接收数据段的正常程度，包括的具体方法为：首先预设一个子数据段范围；对于接收信号中任意一个接收数据段中第/＞个接收数据，以第/＞个接收数据为中心将距离最近的/＞个接收数据作为第/＞个接收数据的子数据段，得到接收数据段中所有的子数据段；获取接收数据段内所有数据所对应的发射数据，将发射数据与发射数据所对应的接收数据之间幅值上的差记为，将发射数据发射时的时间戳与发射数据所对应的接收数据接收时的时间戳之间的差记为/＞，获取接收数据段中的所有数据的子数据段内每个接收数据的/＞与/＞，根据接收数据段中的所有数据的/＞、/＞以及微波的传播速度，计算接收数据段的正常程度；所述根据接收数据段中的所有数据的、/＞以及微波的传播速度，计算接收数据段的正常程度，包括的具体计算公式为：式中，表示接收数据段的正常程度；/＞表示接收数据段中的数据数量；/＞表示接收数据段中第/＞个接收数据的/＞；/＞表示接收数据段中第/＞个接收数据的/＞；/＞表示微波的传播速度；/＞表示预设的子数据段范围；/＞表示接收数据段中第/＞个接收数据的子数据段内的第/＞个接收数据的/＞；/＞表示接收数据段中第/＞个接收数据的子数据段内的第/＞个接收数据的/＞；/＞表示绝对值运算；/＞表示以自然常数为底数的指数函数；所述获取接收数据段的正常程度；根据接收数据段中数据幅值的分布情况，获取接收数据段的异常程度，包括的具体方法为：对于第个接收数据段，将第/＞个接收数据段内中间的数据记为第/＞个接收数据段的中心数据；然后获取第/＞个接收数据段内每个接收数据的子数据段上所有的数据的幅值，以及第/＞个接收数据段的中心数据的子数据段上所有数据的幅值，同时获取第/＞个接收数据段内每个接收数据的子数据段的正常程度；根据第/＞个接收数据段内每个接收数据的子数据段上所有的数据的幅值、第/＞个接收数据段内每个接收数据的子数据段的正常程度以及第/＞个接收数据段的中心数据的子数据段上所有数据的幅值，获取第/＞个接收数据段的异常程度；所述根据第个接收数据段内每个接收数据的子数据段上所有的数据的幅值、第/＞个接收数据段内每个接收数据的子数据段的正常程度以及第/＞个接收数据段的中心数据的子数据段上所有数据的幅值，获取第/＞个接收数据段的异常程度，包括的具体计算公式为：式中，表示第/＞个接收数据段的异常程度；/＞表示第/＞个接收数据段的中心数据的子数据段上第/＞个接收数据的幅值；/＞表示第/＞个接收数据段的中心数据的子数据段上第个接收数据的幅值；/＞表示第/＞个接收数据段中的数据数量；/＞表示预设的子数据段范围；/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段的正常程度；/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段上第/＞个接收数据的幅值；/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段上第/＞个接收数据的幅值；/＞表示绝对值运算；表示线性归一化函数。2.根据权利要求1所述一种基于微波测量数据的噪声处理方法，其特征在于，所述对接收数据进行划分，获取每个接收数据的所有局部范围，包括的具体方法为：对于第个接收数据，预设初始局部范围大小/＞与局部范围数量/＞；将接收数据中与第/＞个接收数据最近的/＞个接收数据，记为第/＞个接收数据的第一局部范围；将接收数据中与第/＞个接收数据最近的/＞个接收数据，记为第/＞个接收数据的第二局部范围；直至将接收数据中与第个接收数据最近的/＞个接收数据，记为第/＞个接收数据的第/＞局部范围。3.根据权利要求1所述一种基于微波测量数据的噪声处理方法，其特征在于，所述构建非局部均值滤波算法中每个接收数据的搜索窗口，包括的具体方法为：预设一个搜索窗口范围，对于第/＞个接收数据；以第/＞个接收数据为中心，将距离第/＞个接收数据最近的/＞个接收数据作为第/＞个接收数据的搜索窗口。4.根据权利要求1所述一种基于微波测量数据的噪声处理方法，其特征在于，所述根据接收数据的所有局部范围以及接收数据的搜索窗口，获取接收数据的搜索窗口中每个接收数据的所有特征段，包括的具体方法为：对于第个接收数据的第/＞个局部范围，首先获取第/＞个局部范围中数据的数量记为/＞，然后以第/＞个接收数据的搜索窗口内每个接收数据为中心，将距离每个接收数据最近的/＞个接收数据作为每个接收数据的第/＞个特征段。5.根据权利要求1所述一种基于微波测量数据的噪声处理方法，其特征在于，所述根据接收数据的所有局部范围的异常程度、接收数据的搜索窗口中每个接收数据的所有特征段的正常程度与异常程度，获取接收数据的搜索窗口中每个接收数据的所有滤波权重，包括的具体计算公式为：式中，表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个滤波权重；/＞表示第/＞个接收数据的第/＞个局部范围的正常程度；/＞表示第/＞个接收数据的第/＞个局部范围的异常程度；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段的正常程度；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段的异常程度；表示以自然常数为底数的指数函数。6.根据权利要求1所述一种基于微波测量数据的噪声处理方法，其特征在于，所述根据接收数据的搜索窗口中每个接收数据的所有滤波权重，以及接收数据的搜索窗口内所有数据的幅值，对接收数据进行滤波，包括的具体计算公式为：式中，表示完成滤波后第/＞个接收数据的幅值；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个滤波权重；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的幅值；/＞表示预设的局部范围数量；/＞表示的预设的搜索窗口范围。
说明书desc
技术领域本发明涉及数据处理技术领域，具体涉及一种基于微波测量数据的噪声处理方法。背景技术发射信号是从微波测距系统重发射接触待测物体后，转化成为接收信号，发射信号转化成为接收信号的过程中，会持续的受到外界的热噪声、大气散射噪声等诸多噪声的影响，使得接收信号受到噪声的干扰，导致微波测距结果不准确；传统非局部均值滤波去噪仅是通过计算数据之间的相似程度，以数据之间的相似程度为权值，进行滤波去噪，而并没有考虑到每个接收数据受到噪声的影响程度，因此传统的非局部均值滤波算法对接收信号进行去噪的去噪效果不佳。发明内容本发明提供一种基于微波测量数据的噪声处理方法，以解决现有的问题：传统的非局部滤波算法对接收信号进行去噪的去噪效果不佳。本发明的一种基于微波测量数据的噪声处理方法采用如下技术方案：包括以下步骤：采集微波测距系统的发射信号与接收信号，将发射信号中的数据记为发射数据，将接收信号中的数据记为接收数据，对接收数据进行划分，获取每个接收数据的所有局部范围；将接收信号中任意连续接收数据构成的数据段作为一个接收数据段，根据接收数据段中的接收数据以及接收数据段中的接收数据所对应的发射数据，获取接收数据段的正常程度；根据接收数据段中数据幅值的分布情况，获取接收数据段的异常程度；所述接收数据段的异常程度用于描述接收数据受到噪声影响的程度；构建非局部均值滤波算法中每个接收数据的搜索窗口；根据接收数据的所有局部范围以及接收数据的搜索窗口，获取接收数据的搜索窗口中每个接收数据的所有特征段；获取接收数据的所有局部范围的异常程度、接收数据的搜索窗口中每个接收数据的所有特征段的正常程度与异常程度，所述局部范围的异常程度、特征段的正常程度与异常程度的获取方法，和获取接收数据段的正常程度与异常程度的方法相同；根据接收数据的所有局部范围的异常程度、接收数据的搜索窗口中每个接收数据的所有特征段的正常程度与异常程度，获取接收数据的搜索窗口中每个接收数据的所有滤波权重；根据接收数据的搜索窗口中每个接收数据的所有滤波权重，以及接收数据的搜索窗口内所有数据的幅值，对接收数据进行非局部均值滤波。优选的，所述对接收数据进行划分，获取每个接收数据的所有局部范围，包括的具体方法为：对于第个接收数据，预设初始局部范围大小/＞与局部范围数量/＞；将接收数据中与第/＞个接收数据最近的/＞个接收数据，记为第/＞个接收数据的第一局部范围；将接收数据中与第/＞个接收数据最近的/＞个接收数据，记为第/＞个接收数据的第二局部范围；直至将接收数据中与第个接收数据最近的/＞个接收数据，记为第/＞个接收数据的第/＞局部范围。优选的，所述根据接收数据段中的接收数据以及接收数据段中的接收数据所对应的发射数据，获取接收数据段的正常程度，包括的具体方法为：首先预设一个子数据段范围；对于接收信号中任意一个接收数据段中第/＞个接收数据，以第/＞个接收数据为中心将距离最近的/＞个接收数据作为第/＞个接收数据的子数据段，得到接收数据段中所有的子数据段；获取接收数据段内所有数据所对应的发射数据，将发射数据与发射数据所对应的接收数据之间幅值上的差记为，将发射数据发射时的时间戳与发射数据所对应的接收数据接收时的时间戳之间的差记为/＞，获取接收数据段中的所有数据的子数据段内每个接收数据的/＞与/＞，根据接收数据段中的所有数据的/＞、/＞以及微波的传播速度，计算接收数据段的正常程度。优选的，所述根据接收数据段中的所有数据的、/＞以及微波的传播速度，计算接收数据段的正常程度，包括的具体计算公式为：式中，表示接收数据段的正常程度；/＞表示接收数据段中的数据数量；/＞表示接收数据段中第/＞个接收数据的/＞；/＞表示接收数据段中第/＞个接收数据的/＞；/＞表示微波的传播速度；/＞表示预设的子数据段范围；/＞表示接收数据段中第/＞个接收数据的子数据段内的第/＞个接收数据的/＞；/＞表示接收数据段中第/＞个接收数据的子数据段内的第/＞个接收数据的/＞；/＞表示绝对值运算；/＞表示以自然常数为底数的指数函数。优选的，所述获取接收数据段的正常程度；根据接收数据段中数据幅值的分布情况，获取接收数据段的异常程度，包括的具体方法为：对于第个接收数据段，将第/＞个接收数据段内中间的数据记为第/＞个接收数据段的中心数据；然后获取第/＞个接收数据段内每个接收数据的子数据段上所有的数据的幅值，以及第/＞个接收数据段的中心数据的子数据段上所有数据的幅值，同时获取第/＞个接收数据段内每个接收数据的子数据段的正常程度；根据第/＞个接收数据段内每个接收数据的子数据段上所有的数据的幅值、第/＞个接收数据段内每个接收数据的子数据段的正常程度以及第/＞个接收数据段的中心数据的子数据段上所有数据的幅值，获取第/＞个接收数据段的异常程度。优选的，所述根据第个接收数据段内每个接收数据的子数据段上所有的数据的幅值、第/＞个接收数据段内每个接收数据的子数据段的正常程度以及第/＞个接收数据段的中心数据的子数据段上所有数据的幅值，获取第/＞个接收数据段的异常程度，包括的具体计算公式为：式中，表示第/＞个接收数据段的异常程度；/＞表示第/＞个接收数据段的中心数据的子数据段上第/＞个接收数据的幅值；/＞表示第/＞个接收数据段的中心数据的子数据段上第/＞个接收数据的幅值；/＞表示第/＞个接收数据段中的数据数量；/＞表示预设的子数据段范围；/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段的正常程度；/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段上第/＞个接收数据的幅值；/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段上第/＞个接收数据的幅值；/＞表示绝对值运算；表示线性归一化函数。优选的，所述构建非局部均值滤波算法中每个接收数据的搜索窗口，包括的具体方法为：预设一个搜索窗口范围，对于第/＞个接收数据；以第/＞个接收数据为中心，将距离第/＞个接收数据最近的/＞个接收数据作为第/＞个接收数据的搜索窗口。优选的，所述根据接收数据的所有局部范围以及接收数据的搜索窗口，获取接收数据的搜索窗口中每个接收数据的所有特征段，包括的具体方法为：对于第个接收数据的第/＞个局部范围，首先获取第/＞个局部范围中数据的数量记为/＞，然后以第/＞个接收数据的搜索窗口内每个接收数据为中心，将距离每个接收数据最近的/＞个接收数据作为每个接收数据的第/＞个特征段。优选的，所述根据接收数据的所有局部范围的异常程度、接收数据的搜索窗口中每个接收数据的所有特征段的正常程度与异常程度，获取接收数据的搜索窗口中每个接收数据的所有滤波权重，包括的具体计算公式为：式中，表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个滤波权重；表示第/＞个接收数据的第/＞个局部范围的正常程度；/＞表示第/＞个接收数据的第/＞个局部范围的异常程度；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段的正常程度；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段的异常程度；/＞表示以自然常数为底数的指数函数。优选的，所述根据接收数据的搜索窗口中每个接收数据的所有滤波权重，以及接收数据的搜索窗口内所有数据的幅值，对接收数据进行滤波，包括的具体计算公式为：式中，表示完成滤波后第/＞个接收数据的幅值；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个滤波权重；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的幅值；/＞表示预设的局部范围数量；/＞表示的预设的搜索窗口范围。本发明的技术方案的有益效果是：本申请，首先采集微波测距系统中的发射数据与接收数据，对接收数据进行划分，获取每个接收数据的所有局部范围，然后通过根据接收数据以及接收数据段所对应的发射数据，计算任意一个接收数据段的正常程度与异常程度；接着对每个接收数据构建各自的搜索窗口，通过搜索窗口中接收数据段的正常程度与异常程度，获取接收数据的搜索窗口中每个接收数据的所有滤波权重，通过将削弱受到噪声影响大的数据的滤波权重，增强受到噪声影响小的数据的滤波权重，以此提高微波测量数据的滤波去噪的效果。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明一种基于微波测量数据的噪声处理方法的步骤流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种基于微波测量数据的噪声处理方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种基于微波测量数据的噪声处理方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种基于微波测量数据的噪声处理方法的步骤流程图，该方法包括以下步骤：步骤S001：采集微波测距系统的发射信号与接收信号，将发射信号中的数据记为发射数据，将接收信号中的数据记为接收数据，对接收数据进行划分，获取每个接收数据的所有局部范围。需要说明的是，本实施例作为一种基于微波测量数据的噪声处理方法，其最终目的就是去除微波测距数据中的噪声，而为了去除微波测距数据中的噪声，则需要采集微波测距数据。具体的，采集微波测距系统发射的信号与接收的信号，分别记为发射信号与接收信号，将发射信号中的数据记为发射数据；将接收信号中的数据记为接收数据。需要说明的是，所述发射数据与接收数据为一一对应的；发射信号是从微波测距系统重发射接触待测物体后，转化成为接收信号，发射信号转化成为接收信号的过程中，会持续的受到外界的热噪声、大气散射噪声等诸多噪声的影响，使得接收信号受到噪声的干扰，导致微波测距结果不准确。需要进一步说明的是，传统非局部均值滤波去噪仅是通过计算数据之间的相似程度，以数据之间的相似程度为权值，进行滤波去噪，而并没有考虑到每个接收数据受到噪声的影响程度，因此传统的非局部均值滤波算法对接收信号进行去噪的去噪效果不佳，而本实施例作为一种基于微波测量数据的噪声处理方法，首先通过计算每个接收数据受到噪声的影响程度，然后以每个接收数据受到噪声的影响程度进行滤波去噪，以得到更好的去噪效果；而为了计算能够数据受到噪声的影响程度，均需要获取数据的局部范围；为了进一步更准确的计算数据受到噪声的影响程度，本实施例对每个接收数据均建立多个局部范围。具体的，对于第个接收数据，预设初始局部范围大小/＞与局部范围数量/＞，/＞与/＞的具体取值可结合实际情况自行设置，本实施例不做硬性要求，在本实施例中以/＞、/＞进行叙述；将接收数据中与第/＞个接收数据最近的/＞个接收数据，记为第/＞个接收数据的第一局部范围；将接收数据中与第/＞个接收数据最近的/＞个接收数据，记为第/＞个接收数据的第二局部范围；以此类推，直至将接收数据中与第个接收数据最近的/＞个接收数据，记为第/＞个接收数据的第/＞局部范围。至此，得到每个接收数据的所有局部范围。步骤S002：将接收信号中任意连续接收数据构成的数据段作为一个接收数据段，根据接收数据段中的接收数据以及接收数据段中的接收数据所对应的发射数据，获取接收数据段的正常程度；根据接收数据段中数据幅值的分布情况，获取接收数据段的异常程度。需要说明的是，在利用微波测距系统测量距离时，当微波测距系统与待测目标之间的距离越远时，发射数据在传播时所需的时间就越长，发射数据在传播的过程的中消耗的能量就越大；即当微波测距系统与待测目标之间的距离越远时，微波测距系统发射数据与发射数据所对应的接收数据的之间幅值上的差异就越大，为更好的对本实施例进行叙述，这里将微波测距系统发射数据与发射数据所对应的接收数据的之间幅值上的差异，和微波测距系统与待测目标之间的距离之间的关系记为衰减特征。需要进一步说明的是，接收信号中的噪声数据是随机分布在接收信号中的，且噪声数据的幅值也是随机的，因此若微波测距系统发射数据与发射数据所对应的接收数据为噪声数据，则不会具有衰减特征，故可以以此为依据，计算接收信号中任意一个接收数据段的正常程度。具体的，首先预设一个子数据段范围，/＞的具体取值可结合实际情况自行设置本实施例不做硬性要求，在本实施例中以/＞进行叙述；在接收信号中，可通过任意连续的接收数据组成任意接收数据段，对于接收信号中任意一个接收数据段中第/＞个接收数据，以第/＞个接收数据为中心将距离最近的/＞个接收数据作为第/＞个接收数据的子数据段，得到接收数据段中所有的数据的子数据段；获取接收数据段内所有数据所对应的发射数据，将发射数据与发射数据所对应的接收数据之间幅值上的差记为，将发射数据发射时的时间戳与发射数据所对应的接收数据接收时的时间戳之间的差记为/＞，获取接收数据段中的所有数据的子数据段内每个接收数据的/＞与/＞，根据接收数据段中的所有数据的/＞、/＞以及微波的传播速度，计算接收数据段的正常程度，其具体的计算公式为：式中，表示接收数据段的正常程度；/＞表示接收数据段中的数据数量；/＞表示接收数据段中第/＞个接收数据的/＞；/＞表示接收数据段中第/＞个接收数据的/＞；/＞表示微波的传播速度；/＞表示预设的子数据段范围；/＞表示接收数据段中第/＞个接收数据的子数据段内的第/＞个接收数据的/＞；/＞表示接收数据段中第/＞个接收数据的子数据段内的第/＞个接收数据的/＞；/＞表示绝对值运算；/＞表示以自然常数为底数的指数函数。需要说明的是，表示的是接收数据段中第/＞个接收数据的衰减特征，表示接收数据段中第/＞个接收数据段内所有数据的衰减特征均值，由于噪声数据是随机分布在接收信号中的，且噪声数据的数量少，因此/＞与/＞之间的差异越小，则接收数据段内越没有收到噪声的干扰，因此/＞的值越大则接收数据段越正常。需要进一步说明的是，由于接收信号中的噪声数据是随机分布在接收信号中的，且噪声数据的幅值也是随机的，同时在接收信号在噪声数据数量远少于正常数据，因此若接收数据段中存在噪声数据，则该接收数据段内的数据分布不集中，故可以以此为依据，获取接收数据段的异常程度。具体的，对于第个接收数据段，将第/＞个接收数据段内中间的数据记为第/＞个接收数据段的中心数据；然后获取第/＞个接收数据段内每个接收数据的子数据段上所有的数据的幅值，以及第/＞个接收数据段的中心数据的子数据段上所有数据的幅值，同时获取第/＞个接收数据段内每个接收数据的子数据段的正常程度；根据第/＞个接收数据段内每个接收数据的子数据段上所有的数据的幅值、第/＞个接收数据段内每个接收数据的子数据段的正常程度以及第/＞个接收数据段的中心数据的子数据段上所有数据的幅值，获取第/＞个接收数据段的异常程度，其具体的计算公式为：式中，表示第/＞个接收数据段的异常程度；/＞表示第/＞个接收数据段的中心数据的子数据段上第/＞个接收数据的幅值；/＞表示第/＞个接收数据段的中心数据的子数据段上第/＞个接收数据的幅值；/＞表示第/＞个接收数据段中的数据数量；/＞表示预设的子数据段范围；/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段的正常程度；/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段上第/＞个接收数据的幅值；/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段上第/＞个接收数据的幅值；/＞表示绝对值运算；表示线性归一化函数。需要说明的是，表示的是第/＞个接收数据段中第/＞个接收数据的子数据段上相邻的数据之间差值的总和，即/＞越大则第/＞个接收数据段中第/＞个接收数据的子数据段越离散；同理，/＞的值越大，则第/＞个接收数据段的中心数据的子数据段越离散；而/＞表示第/＞个接收数据段中第/＞个接收数据的子数据段的正常程度，因此/＞的值越大，则第/＞个接收数据段中第/＞个接收数据的子数据段可信度就越高，因此/＞的值越大，则说明第/＞个接收数据段的中心数据的子数据段上的数据，与第/＞个接收数据段的其他数据的子数据段上的数据在分布情况上的差异越大，因此/＞的值越大，则第/＞个接收数据段的异常程度就越大。至此，得到接收数据段的异常程度。步骤S003：构建非局部均值滤波算法中每个接收数据的搜索窗口；根据接收数据的所有局部范围以及接收数据的搜索窗口，获取接收数据的搜索窗口中每个接收数据的所有特征段；获取接收数据的所有局部范围的异常程度、接收数据的搜索窗口中每个接收数据的所有特征段的正常程度与异常程度；根据接收数据的所有局部范围的异常程度、接收数据的搜索窗口中每个接收数据的所有特征段的正常程度与异常程度，获取接收数据的搜索窗口中每个接收数据的所有滤波权重。需要说明的是，本实施例作为一种基于微波测量数据的噪声处理方法，是基于非局部均值滤波算法对接收数据进行去噪，因此首先需要对每个接收数据构建其对应的搜索窗口。具体的，预设一个搜索窗口范围，/＞的具体取值可结合实际情况自行设置，本实施例不做硬性要求，在本实施例中以/＞进行叙述；对于第/＞个接收数据；以第/＞个接收数据为中心，将距离第/＞个接收数据最近的/＞个接收数据作为第/＞个接收数据的搜索窗口；需要说明的是，在构建好每个接收数据的搜索窗口后，即可根据接收数据的搜索窗口内的数据，获取接收数据的搜索窗口内所有数据的滤波权重。具体的，对于第个接收数据的第/＞个局部范围，首先获取第/＞个局部范围中数据的数量记为/＞，然后以第/＞个接收数据的搜索窗口内每个接收数据为中心，将距离每个接收数据最近的/＞个接收数据作为每个接收数据的第/＞个特征段，获取第/＞个接收数据的搜索窗口中所有数据的所有特征段的异常程度与正常程度以及第/＞个接收数据的第/＞个局部范围的异常程度；需要说明的是获取由于接收数据的搜索窗口中所有数据的所有特征段与第个接收数据的所有局部范围，均是由连续的接收数据组成的，因此可通过步骤S002计算接收数据段的正常程度与异常程度的方法，获取第/＞个接收数据的搜索窗口中所有数据的所有特征段的异常程度与正常程度以及第/＞个接收数据的第/＞个局部范围的异常程度；因此在本步骤中不在进行赘述。根据第个接收数据的搜索窗口中所有数据的所有特征段的异常程度与正常程度以及第/＞个接收数据的第/＞个局部范围的异常程度，计算第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个滤波权重，其具体的计算公式为：式中，表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个滤波权重；表示第/＞个接收数据的第/＞个局部范围的正常程度；/＞表示第/＞个接收数据的第/＞个局部范围的异常程度；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段的正常程度；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段的异常程度；/＞表示以自然常数为底数的指数函数。需要说明的是，当接收数据段的异常程度越大时，则该接收数据段内就越可能存在噪声，且噪声数据的数量可能越多，即接收数据段的异常程度越大，接收数据段受到噪声的干扰程度就越大；而当接收数据段的正常程度越大时，则该接收数据段内就越可能不存在噪声，且噪声数据的数量可能越少，即接收数据段的正常程度越大，接收数据段受到噪声的干扰程度就越小，因此正常程度与异常程度的比值越大，则接收数据段受到噪声的干扰就越小可信度就越高；因此的值越大，则/＞的可信度就越高。需要进一步说明的是，表示的是第/＞个接收数据的第/＞个局部范围的异常程度与第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段的异常程度之间的差，而当/＞的值越小，则说明第/＞个接收数据的第/＞个局部范围受到噪声的影响，越小于第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段受到噪声的影响，因此第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段的滤波权重就要越小，因此/＞的值越小，则第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个特征段的滤波权重就越小；在对第/＞个接收数据进行，因此接收数据的局部范围与接收数据的搜索窗口中数据的特征段之间的异常程度差异越大，接收数据的搜索窗口中的数据对该接收数据的滤波权重就越大，故可以以此获取接收数据的搜索窗口内所有数据的滤波权重。需要注意的是，由于本实施例对一个接收数据构建了多个局部范围，因此接收数据的搜索窗口中每个接收数据均有多个权重。至此，得到接收数据的搜索窗口内所有数据的滤波权重。步骤S004：根据接收数据的搜索窗口中每个接收数据的所有滤波权重，以及接收数据的搜索窗口内所有数据的幅值，对接收数据进行非局部均值滤波。需要说明的是，本实施例作为一种基于微波测量数据的噪声处理方法，其目的是要去除接收数据中的噪声数据，而在通过步骤S003得到接收数据的搜索窗口内所有数据的滤波权重，即可根据接收数据的搜索窗口内所有数据的滤波权重滤波进行去噪。具体的，对于第个接收数据，根据第/＞个接收数据的搜索窗口内所有数据的幅值，以及第/＞个接收数据的搜索窗口内所有数据的滤波权重，对第/＞个接收数据进行滤波，得到完成滤波后第/＞个接收数据的幅值，其具体的计算公式为：式中，表示完成滤波后第/＞个接收数据的幅值；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的第/＞个滤波权重；/＞表示第/＞个接收数据的搜索窗口中第/＞个接收数据的幅值；/＞表示预设的局部范围数量；/＞表示的预设的搜索窗口范围。对所有接收数据均进行滤波，获取所有接收数据新的幅值，完成对接收数据的去噪。至此，本实施例完成。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
