标题title
一种基于图像处理的工件质量检测方法及系统、电子设备
摘要abst
本发明涉及一般的图像处理或产生技术领域，具体涉及一种基于图像处理的工件质量检测方法及系统、电子设备，包括利用深度相机获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像；对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据；根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。实现对工件以及工件的各零件组成的质量是否能够通过振动测试的智能判断，无需人视和激光设备，大大提高工件质量检测效率、可靠性和可用性。
权利要求书clms
1.一种基于图像处理的工件质量检测方法，其特征在于，所述方法包括：S100、利用深度相机获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像；S200、对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据；S300、根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。2.根据权利要求1所述的基于图像处理的工件质量检测方法，其特征在于，所述第一深度图像和第二深度图像的图像尺寸相同、分辨率相同，所述在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，包括：在第一深度图像中建立预设行数和预设列数的第一标记点阵，在第二深度图像中建立预设行数和预设列数的第二标记点阵，所述第一标记点阵中的各标记点的像素坐标，分别和第二标记点阵中相同位置的标记点的像素坐标相同。3.根据权利要求2所述的基于图像处理的工件质量检测方法，其特征在于，所述根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格，包括：计算第一标记点阵和第二标记点阵中，位置相同的标记点所对应的深度数据的差值的第一绝对值，并对所有所述第一绝对值求和，将求和结果记为第一求和数据；判断第一求和数据是否大于或等于第一预设阈值，根据判断结果判断目标工件质量是否合格。4.根据权利要求3所述的基于图像处理的工件质量检测方法，其特征在于，所述根据判断结果判断目标工件质量是否合格，包括：若第一求和数据大于或等于第一预设阈值，判断目标工件质量不合格，输出有关于目标工件质量不合格的文字和/或语音信号；若第一求和数据小于第一预设阈值，判断目标工件质量合格，输出有关于目标工件质量合格的文字和/或语音信号。5.根据权利要求4所述的基于图像处理的工件质量检测方法，其特征在于，所述在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，包括：所述目标工件包括多个零件，多个所述零件均对应设置有零件名称，将第一目标面的第一深度图像，按照目标工件的各零件的位置进行图像分割，并获取分割后的目标工件的各零件的坐标范围，获取第一目标面的第一深度图像中，各标记点对应的像素坐标，根据各零件的坐标范围获取各像素坐标对应的零件名称，根据第一标记点阵中，零件名称相同的标记点建立第一零件搜素框，并在第二深度图像的相同位置建立第二零件搜索框，计算各零件对应的第一零件搜索框和第二零件搜索框中，位置相同的标记点所对应的深度数据的差值的第二绝对值，并对各零件对应的所有所述第二绝对值求和，将求和结果记为各零件对应的第二求和数据，根据所述各零件对应的第二求和数据判断各零件的质量是否合格。6.根据权利要求5所述的基于图像处理的工件质量检测方法，其特征在于，根据所述各零件对应的第二求和数据判断各零件的质量是否合格，包括：判断各零件对应的第二求和数据是否大于或等于第二预设阈值，根据判断结果判断各零件的质量是否合格。7.根据权利要求6所述的基于图像处理的工件质量检测方法，其特征在于，所述方法还包括：若任意零件对应的第二求和数据大于或等于第二预设阈值，判断该零件质量不合格，并输出有关于该零件的零件名称，及，有关于该零件的质量不合格的文字和/或语音信号；若任意零件对应的第二求和数据小于第二预设阈值，判断该零件质量合格，输出有关于该零件的零件名称，及，有关于该零件的质量合格的文字和/或语音信号。8.根据权利要求7所述的基于图像处理的工件质量检测方法，其特征在于，所述第一零件搜索框设置为多个，多个所述零件搜索框分别对应目标工件的多个零件设置。9.一种基于图像处理的工件质量检测系统，其特征在于，包括：获取模块，包括深度相机，用于获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像；控制模块，用于对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据；或用于根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。10.一种电子设备，其特征在于，包括：存储器；以及处理器，所述存储器上存储有计算机可读指令，所述计算机可读指令被所述处理器执行时实现根据权利要求1至8中任意一项所述的基于图像处理的工件质量检测方法。
说明书desc
技术领域本发明涉及一般的图像处理或产生技术领域，具体涉及一种基于图像处理的工件质量检测方法及系统、电子设备。背景技术工件的振动测试过程中，由于工件通常是批次生产，且各工件的零件组成通常较复杂，振动过后，通常可能存在零件脱落、表面产生裂痕等众多缺陷，现有的振动测试后的工件质量检测，通过依靠人视完成，而在人视的情况下很难一一排除，同时众多的人力投入，也会造成企业的资源浪费，有缺陷的产品流入到市场会对消费者满意度、品牌形象，产生不利影响，且检测效率和检测可靠性较低，而现有技术的智能检测方案，通常依靠激光扫描完成，但是该方法需要依赖激光设备，且扫描需要的时间长，效率低。因此，现有技术还有待进一步发展。发明内容本发明的目的在于克服上述技术不足，提供一种基于图像处理的工件质量检测方法及系统、电子设备，以解决现有技术存在的问题。为达到上述技术目的，根据本发明的第一方面，本发明提供了一种基于图像处理的工件质量检测方法，包括：S100、利用深度相机获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像；S200、对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据；S300、根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。具体的，所述第一深度图像和第二深度图像的图像尺寸相同、分辨率相同，所述在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，包括：在第一深度图像中建立预设行数和预设列数的第一标记点阵，在第二深度图像中建立预设行数和预设列数的第二标记点阵，所述第一标记点阵中的各标记点的像素坐标，分别和第二标记点阵中相同位置的标记点的像素坐标相同。具体的，所述根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格，包括：计算第一标记点阵和第二标记点阵中，位置相同的标记点所对应的深度数据的差值的第一绝对值，并对所有所述第一绝对值求和，将求和结果记为第一求和数据；判断第一求和数据是否大于或等于第一预设阈值，根据判断结果判断目标工件质量是否合格。具体的，所述根据判断结果判断目标工件质量是否合格，包括：若第一求和数据大于或等于第一预设阈值，判断目标工件质量不合格，输出有关于目标工件质量不合格的文字和/或语音信号；若第一求和数据小于第一预设阈值，判断目标工件质量合格，输出有关于目标工件质量合格的文字和/或语音信号。具体的，所述在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，包括：所述目标工件包括多个零件，多个所述零件均对应设置有零件名称，将第一目标面的第一深度图像，按照目标工件的各零件的位置进行图像分割，并获取分割后的目标工件的各零件的坐标范围，获取第一目标面的第一深度图像中，各标记点对应的像素坐标，根据各零件的坐标范围获取各像素坐标对应的零件名称，根据第一标记点阵中，零件名称相同的标记点建立第一零件搜素框，并在第二深度图像的相同位置建立第二零件搜索框，计算各零件对应的第一零件搜索框和第二零件搜索框中，位置相同的标记点所对应的深度数据的差值的第二绝对值，并对各零件对应的所有所述第二绝对值求和，将求和结果记为各零件对应的第二求和数据，根据所述各零件对应的第二求和数据判断各零件的质量是否合格。具体的，根据所述各零件对应的第二求和数据判断各零件的质量是否合格，包括：判断各零件对应的第二求和数据是否大于或等于第二预设阈值，根据判断结果判断各零件的质量是否合格。具体的，所述方法还包括：若任意零件对应的第二求和数据大于或等于第二预设阈值，判断该零件质量不合格，并输出有关于该零件的零件名称，及，有关于该零件的质量不合格的文字和/或语音信号；若任意零件对应的第二求和数据小于第二预设阈值，判断该零件质量合格，输出有关于该零件的零件名称，及，有关于该零件的质量合格的文字和/或语音信号。具体的，所述第一零件搜索框设置为多个，多个所述零件搜索框分别对应目标工件的多个零件设置。根据本发明的第二方面，提供一种基于图像处理的工件质量检测系统，包括：获取模块，包括深度相机，用于获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像；控制模块，用于对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据；或用于根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。根据本发明的第三方面，提供一种电子设备，包括：存储器；以及处理器，所述存储器上存储有计算机可读指令，所述计算机可读指令被所述处理器执行时实现上述的基于图像处理的工件质量检测方法。有益效果：本发明实现对工件以及各工件的零件组成的质量是否能够通过振动测试的智能判断，无需人视和激光设备，大大降低了振动测试的工作量、人力投入和设备成本，很大提高了工件质量检测效率、可靠性、可用性和稳定性，无需复杂算法建模，很大程度上降低了本发明的应用难度和应用成本，很大程度上拓展了本发明的应用场景。附图说明图1是本发明具体实施例中提供的基于图像处理的工件质量检测方法的流程图；图2是本发明具体实施例中提供的基于图像处理的工件质量检测系统的系统组成示意图。具体实施方式为了使本领域的人员更好地理解本发明的技术方案，下面结合本发明的附图，对本发明的技术方案进行清楚、完整的描述，基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动的前提下所获得的其它类同实施例，都应当属于本申请保护的范围。此外，以下实施例中提到的方向用词，例如“上”“下”“左”“右”等仅是参考附图的方向，因此，使用的方向用词是用来说明而非限制本发明创造。下面结合附图和较佳的实施例对本发明作进一步说明。请参阅图1，本发明提供一种基于图像处理的工件质量检测方法，包括：S100、利用深度相机获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像。这里需要说明的是，所述第一目标面为将深度相机和目标工件按照预设位姿和预设相对位置摆放时、深度相机所能拍摄到的目标工件的表面，所述第一目标面、预设位姿和预设相对位置可根据实际需要具体设置，本发明不对第一目标面、预设位姿和预设相对位置的设置做具体限制。这里需要说明的是，步骤S100之前包括：预设预设行数、预设列数、第一预设阈值、第二预设阈值、各目标工件的各零件的零件名称，及，将第一目标面的第一深度图像按照目标工件的各零件的位置进行图像分割后的目标工件的各零件的坐标范围，可以理解的是，上述参数可以根据实际工件种类、第一目标面的面积和振动测试的试验强度具体设置，例如振动测试的强度越大，第一预设阈值和第二预设阈值的数值越大，第一目标面的面积越大或者振动测试的要求越严格，预设行数越大和/或预设列数越大。S200、对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据。具体的，所述第一深度图像和第二深度图像的图像尺寸相同、分辨率相同，所述在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，包括：在第一深度图像中建立预设行数和预设列数的第一标记点阵，在第二深度图像中建立预设行数和预设列数的第二标记点阵，所述第一标记点阵中的各标记点的像素坐标，分别和第二标记点阵中相同位置的标记点的像素坐标相同。S300、根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。具体的，所述根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格，包括：计算第一标记点阵和第二标记点阵中，位置相同的标记点所对应的深度数据的差值的第一绝对值，并对所有所述第一绝对值求和，将求和结果记为第一求和数据；判断第一求和数据是否大于或等于第一预设阈值，根据判断结果判断目标工件质量是否合格。具体的，所述根据判断结果判断目标工件质量是否合格，包括：若第一求和数据大于或等于第一预设阈值，判断目标工件质量不合格，输出有关于目标工件质量不合格的文字和/或语音信号；若第一求和数据小于第一预设阈值，判断目标工件质量合格，输出有关于目标工件质量合格的文字和/或语音信号。这里需要说明的是，若第一求和数据越大，则证明在经过振动测试后，目标工件在各标记点对应的位置发生的形变越大，通常，形变量若处于一个合理范围内，即若第一求和数据小于第一预设阈值，判断目标工件在经过振动测试后，形变量处于可接受的范围内，判断目标工件质量合格，输出有关于目标工件质量合格的文字和/或语音信号，但是，若形变量超出合理范围，即若第一求和数据大于或等于第一预设阈值，判断目标工件在经过振动测试后，形变量处于不可接受的范围内，判断目标工件质量不合格，输出有关于目标工件质量不合格的文字和/或语音信号。具体的，所述在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，包括：所述目标工件包括多个零件，多个所述零件均对应设置有零件名称，将第一目标面的第一深度图像，按照目标工件的各零件的位置进行图像分割，并获取分割后的目标工件的各零件的坐标范围，获取第一目标面的第一深度图像中，各标记点对应的像素坐标，根据各零件的坐标范围获取各像素坐标对应的零件名称，根据第一标记点阵中，零件名称相同的标记点建立第一零件搜素框，并在第二深度图像的相同位置建立第二零件搜索框，计算各零件对应的第一零件搜索框和第二零件搜索框中，位置相同的标记点所对应的深度数据的差值的第二绝对值，并对各零件对应的所有所述第二绝对值求和，将求和结果记为各零件对应的第二求和数据，根据所述各零件对应的第二求和数据判断各零件的质量是否合格。具体的，根据所述各零件对应的第二求和数据判断各零件的质量是否合格，包括：判断各零件对应的第二求和数据是否大于或等于第二预设阈值，根据判断结果判断各零件的质量是否合格。具体的，所述方法还包括：若任意零件对应的第二求和数据大于或等于第二预设阈值，判断该零件质量不合格，并输出有关于该零件的零件名称，及，有关于该零件的质量不合格的文字和/或语音信号；若任意零件对应的第二求和数据小于第二预设阈值，判断该零件质量合格，输出有关于该零件的零件名称，及，有关于该零件的质量合格的文字和/或语音信号。这里需要说明的是，若第二求和数据越大，则证明在经过振动测试后，该零件在各标记点对应的位置发生的形变越大，通常，形变量若处于一个合理范围内，即若第二求和数据小于第二预设阈值，判断该零件在经过振动测试后，形变量处于可接受的范围内，判断该零件质量合格，输出有关于该零件的零件名称，及，有关于该零件的质量合格的文字和/或语音信号。但是，若形变量超出合理范围，即若第二求和数据大于或等于第二预设阈值，判断该零件在经过振动测试后，形变量处于不可接受的范围内，判断该零件质量不合格，输出有关于该零件的零件名称，及，有关于该零件的质量不合格的文字和/或语音信号。可以理解的是，本发明通过上述技术方案，能够实现在目标工件包括多个零件时，分别对目标工件的多个零件进行振动测试过后的质量智能检测，同时在某零件检测质量不合格时，输出该零件的名称和检测结果，方便工作人员及时定位和查看不合格的零件，进一步提高了本发明的智能化程度、可靠性和可用性，进一步拓展了本发明的应用场景。具体的，所述第一零件搜索框设置为多个，多个所述零件搜索框分别对应目标工件的多个零件设置。可以理解的是，本发明提供了一种基于图像处理的工件质量检测方法及系统、电子设备，通过利用深度相机获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像；对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据；根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。实现对工件以及各工件的零件组成的质量是否能够通过振动测试的智能判断，无需人视和激光设备，大大降低了振动测试的工作量和人力投入，很大提高了工件质量检测效率、可靠性、可用性和稳定性，无需复杂算法建模，很大程度上降低了本发明的应用难度，很大程度上拓展了本发明的应用场景。请参阅图2，本发明提供了另一实施例，本实施例提供了一种基于图像处理的工件质量检测系统，所述基于图像处理的工件质量检测系统包括：获取模块100，包括深度相机，用于获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像；控制模块200，用于对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据；或用于根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。这里需要说明的是， 本发明提供了一种基于图像处理的工件质量检测方法及系统、电子设备，通过利用深度相机获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像；对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据；根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。实现对工件以及各工件的零件组成的质量是否能够通过振动测试的智能判断，无需人视和激光设备，大大降低了振动测试的工作量和人力投入，很大提高了工件质量检测效率、可靠性、可用性和稳定性，无需复杂算法建模，很大程度上降低了本发明的应用难度，很大程度上拓展了本发明的应用场景。在优选实施例中，本申请还提供了一种电子设备，所述电子设备包括：存储器；以及处理器，所述存储器上存储有计算机可读指令，所述计算机可读指令被所述处理器执行时实现所述的基于图像处理的工件质量检测方法。该计算机设备可以广义地为服务器、终端，或任何其他具有必要的计算和/或处理能力的电子设备。在一个实施例中，该计算机设备可包括通过系统总线连接的处理器、存储器、网络接口、通信接口等。该计算机设备的处理器可用于提供必要的计算、处理和/或控制能力。该计算机设备的存储器可包括非易失性存储介质和内存储器。该非易失性存储介质中或上可存储有操作系统、计算机程序等。该内存储器可为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的网络接口和通信接口可用于与外部的设备通过网络连接和通信。该计算机程序被处理器执行时执行本发明的方法的步骤。本发明可以实现为一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序在由处理器执行时导致本发明实施例的方法的步骤被执行。在一个实施例中，所述计算机程序被分布在网络耦合的多个计算机设备或处理器上，以使得所述计算机程序由一个或多个计算机设备或处理器以分布式方式存储、访问和执行。单个方法步骤/操作，或者两个或更多个方法步骤/操作，可以由单个计算机设备或处理器或由两个或更多个计算机设备或处理器执行。一个或多个方法步骤/操作可以由一个或多个计算机设备或处理器执行，并且一个或多个其他方法步骤/操作可以由一个或多个其他计算机设备或处理器执行。一个或多个计算机设备或处理器可以执行单个方法步骤/操作，或执行两个或更多个方法步骤/操作。本领域普通技术人员可以理解，本发明的方法步骤可以通过计算机程序来指示相关的硬件如计算机设备或处理器完成，所述的计算机程序可存储于非暂时性计算机可读存储介质中，该计算机程序被执行时导致本发明的步骤被执行。根据情况，本文中对存储器、存储、数据库或其它介质的任何引用可包括非易失性和/或易失性存储器。非易失性存储器的示例包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM、闪存、磁带、软盘、磁光数据存储装置、光学数据存储装置、硬盘、固态盘等。易失性存储器的示例包括随机存取存储器、外部高速缓冲存储器等。可以理解的是，本发明提供了一种基于图像处理的工件质量检测方法及系统、电子设备，通过利用深度相机获取目标工件的振动测试前，第一目标面的第一深度图像，及，振动测试后，第一目标面的第二深度图像；对第一深度图像和第二深度图像进行处理和识别，在第一深度图像建立第一标记点阵，在第二深度图像建立第二标记点阵，分别获取第一标记点阵和第二标记点阵中每个标记点对应的深度数据；根据第一标记点阵和第二标记点阵中每个标记点对应的深度数据，判断目标工件质量是否合格。实现对工件以及各工件的零件组成的质量是否能够通过振动测试的智能判断，无需人视完成，大大降低了振动测试的工作量和人力投入，很大提高了工件质量检测效率、可靠性、可用性和稳定性，无需复杂算法建模，很大程度上降低了本发明的应用难度，很大程度上拓展了本发明的应用场景。以上描述的各技术特征可以任意地组合。尽管未对这些技术特征的所有可能组合进行描述，但这些技术特征的任何组合都应当被认为由本说明书涵盖，只要这样的组合不存在矛盾。以上所述本发明的具体实施方式，并不构成对本发明保护范围的限定。任何根据本发明的技术构思所做出的各种其他相应的改变与变形，均应包含在本发明权利要求的保护范围内。
