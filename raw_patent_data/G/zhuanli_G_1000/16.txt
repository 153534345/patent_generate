标题title
基于K-means算法的多自动引导车协作停泊方法及自动引导车
摘要abst
本发明涉及基于K‑means算法的多自动引导车协作停泊方法及自动引导车，为了解决现有多个自动引导车协作运行时，通过设置固定时间，自动引导车固定停留货架，造成运行时无法适应真实需求的技术问题，本发明通过使用K‑means的机器学习来获取自动引导车货物搬运规律从而预测每天不同时段自动引导车在空闲时刻自动停泊相应地货架，该方法可以达到自动引导车运行的最高运行效率，且能够实时根据货物的习惯变化调整控制策略。
权利要求书clms
1.一种基于K-means算法的多自动引导车协作停泊方法，其特征在于：自动引导车控制系统初始化k个样本作为初始聚类中心，k为自然数；其中样本包括自动引导车载货时间、载货数量、货架取放货数据；计算每个样本到k个聚类中心的距离，根据计算结果将样本分到距离最小的聚类中心所对应的类中；针对每个类，重新计算它的聚类中心,即属于该类的所有样本的质心；重复上面、两步，直到达到预定的迭代次数或误差阈值，获得聚类结果；自动引导车车载控制系统根据聚类结果控制自动引导车运行。2.根据权利要求1所述的基于K-means算法的多自动引导车协作停泊方法，其特征在于：步骤中初始化所采用的计算公式为，其中/＞为损失函数，/＞为/＞的期望。3.根据权利要求1所述的基于K-means算法的多自动引导车协作停泊方法，其特征在于：将K-means算法与蜂群算法集成到自动引导车中，自动引导车通过K-means算法将自动引导车停留在适应货运需求的货架，在仓储系统临时需求自动引导车到达指定货架时，自动引导车控制器接收运行指令，将K-means算法求解结果带入蜂群算法中，从而使蜂群算法更快速的求解出适应值，然后根据适应值求解出最佳的解，并对应运行自动引导车。4.一种自动引导车，其特征在于，其具有如下设备：传感器，其获取自动引导车内的载货数量、载货时间、货架取放货数据；存储器，其存储传感器检测数据和/或存储计算机可执行指令，所述计算机可执行指令被执行时，实现如权利要求1所述的基于K-means算法的多自动引导车协作停泊方法得到的模型数据；控制器，其能够执行存储器的模型数据和/或将存储器存储的检测数据传输给服务器，通过服务器获取执行权利要求1所述的基于K-means算法的多自动引导车协作停泊方法得到的模型数据，并执行该模型数据。5.根据权利要求4所述的一种自动引导车，其特征在于：当所述控制器为将存储器存储的检测数据传输给服务器，通过服务器获取执行权利要求1所述的基于K-means算法的多自动引导车协作停泊方法得到的模型数据，并执行该模型数据时，自动引导车还具有通讯模块，其能够将控制器的检测数据传输至服务器，并将服务器计算得到的模型数据传输至控制器中。6.根据权利要求5所述的一种自动引导车，其特征在于：所述通讯模块为无线通讯模块或有线通信模块。7.根据权利要求5所述的一种自动引导车，其特征在于：其获取载货数量的传感器可替换为视频采集装置或摄像装置。
说明书desc
技术领域本发明涉及基于K-means算法的多自动引导车协作停泊方法及自动引导车，属于智能仓储领域。背景技术自动引导车在仓储系统中已经有了十分广泛的应用，在传统人工进出库及全自动化的智能仓储中均有自动引导车使用可能，自动引导车的运行效率是在设计自动引导车时的一个重要指标，尤其是货架较多的仓储系统会有多部自动引导车协作运行以提高运输效率。在这种情况下很多自动引导车调度方案、停泊方案应运而生。现已有很多理论提出利用物联网技术将自动引导车作为一个边缘设备，将其载货信息、运行信息、简况状况甚至运行控制等传输在云服务器中，实现数据可视等功能。而自动引导车停泊方案中目前多部自动引导车的协作运行主要为空闲时留有1-2部在泊车位等待，单部自动引导车利用长短期记忆递归神经网络来将自动引导车单日运行进行记录，使自动引导车在空闲时按照从早到晚的运行记录顺序依次停泊在启动时停留的货架。这种方案不能有效提高自动引导车的运行效率，因为当使用自动引导车放货后，下次取货不会严格递归从早到晚按照进入时的顺序进行，其顺序具有一定随机性，例如第一批货物放入自动引导车存放在了一号货架，而第二批货物需要存放在二号货架，恰好自动引导车空闲时二号货架需要取货，若按照长短期记忆递归神经网络算法模型，自动引导车会在一号货架等待，而自动引导车要取二号货架的货物需要从一号货架移动到二号货架，这样就造成了资源的浪费并降低了自动引导车运行的效率。并且，目前此种长短期记忆递归神经网络仅针对单部自动引导车设计，未考虑多部自动引导车之间的协作问题。因此，在目前的自动引导车设计中存在以下两个缺陷，一是无法实现在每天不同时间段根据货架取放货物频率配置其在不同时段空闲时停泊对应货架，二是无法实现根据多批货物同时使用情况协调最优载货路径，实现最少步骤完成运载工作。发明内容鉴于上述问题，本发明提供了基于K-means算法的多自动引导车协作停泊方法及自动引导车，能够根据货运不同时间段的使用习惯优化停泊方案，同时根据多个货运需求寻求最优载货路径，实现最少步骤完成运载工作。在一个实施方式中，一种基于K-means算法的多自动引导车协作停泊方法，该方法采用如下步骤实现：自动引导车控制系统初始化k个样本作为初始聚类中心，k为自然数；其中样本包括自动引导车载货时间、载货数量、货架取放货数据；计算每个样本到k个聚类中心的距离，根据计算结果将样本分到距离最小的聚类中心所对应的类中；针对每个类，重新计算它的聚类中心,即属于该类的所有样本的质心；重复上面、两步，直到达到预定的迭代次数或误差阈值，获得聚类结果；自动引导车车载控制系统根据聚类结果控制自动引导车运行。在该实施方式中，由于样本含有载货时间、载货数量、货架取放货数据等要素，该聚类方式考虑因素更多，聚类结果更合理，通过聚类得到的取放货物需求更贴近取放货物实际需求，该实施方式使用了K-menas算法，通过该实施方式，实现了自动引导车在每天不同时段空闲时刻停泊时，能更好的适应货物搬运习惯，同时由于该实施方式能够实时学习货物搬运需求，其能实时更新，避免了早期设定不符合货物搬运新需求的问题，达到了实时满足货物搬运实际需求的效果。优选的，上述停泊方法中，步骤的初始化采用的计算公式为，其中为损失函数，为的期望。在该实施方式中，该计算公式为Gapstatistic方法，采用该方法，对于样本的聚类更合理，更贴近于货运实际，反映效果更合理，达到了进一步优化停泊方案的技术效果。优选的，将K-means算法与蜂群算法集成到自动引导车中，自动引导车通过K-means算法将自动引导车停留在适应货运需求的货架，在仓储系统临时需求自动引导车到达指定货架时，自动引导车控制器接收运行指令，将K-means算法求解结果带入蜂群算法中，从而使蜂群算法更快速的求解出适应值，然后根据适应值求解出最佳的解，并对应运行自动引导车。在一个实施方式中，一种自动引导车，其具有如下设备：传感器，其获取自动引导车内的载货数量、载货时间、货架取放货数据；存储器，其存储传感器检测数据和/或存储执行前述实施方式的停泊方法得到的模型数据；控制器，其能够执行存储器的模型数据和/或将存储器存储的检测数据传输给服务器，通过服务器获取执行前述实施方式的停泊方法得到的模型数据，并执行该模型数据。优选地，在上述自动引导车中，当所述控制器为将存储器存储的检测数据传输给服务器，通过服务器获取执行前述实施方式的停泊方法得到的模型数据，并执行该模型数据时，自动引导车还具有通讯模块，其能够将控制器的检测数据传输至服务器，并将服务器计算得到的模型数据传输至控制器中。优选地，在上述自动引导车中，所述通讯模块为无线通讯模块或有线通信模块。优选地，在上述自动引导车中，其获取载货数量的传感器也可替换为视频采集装置或摄像装置。本发明通过使用K-means的机器学习来获取自动引导车货物搬运规律从而预测每天不同时段自动引导车在空闲时刻自动停泊相应地货架，该方法可以达到自动引导车运行的最高运行效率，且能够实时根据货物的习惯变化调整控制策略；此外，本发明还可通过人工蜂群算法获取货物需求，计算货物需求对应最佳自动引导车运行方案，提高了自动引导车运行效率，两种方式可以单独使用，也可以结合使用以进一步提升仓储系统出入库效率。附图说明在下文中将基于实施例并参考附图来对本发明进行更详细的描述。其中：图1是本发明某实施例提供的一种智能化多自动引导车协作停泊装置框图；图2是本发明某实施例提供的基于K-means算法的多自动引导车协作停泊方法的流程图。具体实施方式下面将结合附图对本发明作进一步说明。K-means算法是一种无监督学习方法，主要应用于聚类问题。间隔统计量方法是用于设定K-means算法k值的一种方法，Gap可以看做是随机样本的损失和实际样本的损失之差。假设实际样本对应的最佳簇数是k，那么实际样本的损失应该相对较小，随机样本损失与实际样本损失之差也相应的达到最大，即Gap取得最大值所对应的k值就是最佳簇数。图1是本发明某实施例提供的一种智能化多自动引导车协作停泊装置框图，自动引导车的车载控制系统由传感器或具有类似功能的装置、控制器以及存储器组成。此外，自动引导车的车载控制系统还可包括计数器，车载控制系统通过传感器或具有类似功能的装置识别自动引导车上货物数量，自动引导车的计数器记录自动引导车停泊货架，当然，计数器也可以通过多功能传感器或其他任意方式进行替代，只要能实现相同功能即可，上述数据存储于存储器，同时电气控制系统将数据上传至云端服务器，其上传方式可通过物联网传送，当然也不仅限于该方式，其他只要可实现将数据上传的方式均可。云端服务器内存储有K-means算法和/或人工蜂群算法，两者可存储其一，也可以两者均存储，云端服务器在接收到数据后，根据其内存储的算法类型执行相应算法，如两者均有时，两种算法均可执行，也可以根据需求仅执行其中一种。云端服务器根据采集到的信息通过K-means算法建立自动引导车每天不同时段使用模型，再将模型结果传输回控制器，由其执行该模型下的自动引导车空闲时的停泊策略，以预测每天不同时段将会需要使用自动引导车取放货的货架并将空闲自动引导车停泊在此等待。云端服务器根据采集到的信息通过人工蜂群算法建立自动引导车在仓储系统提出货运需求时的使用模型，再将模型结果传输回控制器，由其执行该模型下的自动引导车运行策略，避免了现有方案的运行僵化问题。可替换地，在上述实施例中，服务器也可以为本地服务器或其他装置，只要能实现通过K-means算法和/或人工蜂群算法建立模型即可。可替换地，在上述实施例中，也可以不采用服务器，K-means算法和/或人工蜂群算法是存储在自动引导车控制器中，控制器直接采集数据并在其运行上述算法，并基于该算法在其内建立模型，并运行模型策略。图2是本发明某实施例提供的一种智能化多自动引导车协作停泊K-means算法流程图。在本发明的另一种实施例中，参见图2，自动引导车基于K-means算法模型执行其停泊方式，其停泊方法如下：将所收集的自动引导车载货时间、载货数量以及货架取放货数据汇集起来，根据时间和货架将这些货运数据汇聚起来形成样本，最终预测各个时间最需要自动引导车停泊的货架。具体实施步骤如下：步骤1：选择初始化的k个样本作为初始聚类中心。k值是人为选定的，k为自然数，这里采用间隔统计量方法，同时样本即为控制器汇聚的数据。采用间隔统计量方法相应的计算公式为；其中为损失函数，为的期望。这个数值通常通过蒙特卡洛模拟产生，在样本所在的区域中按照均匀分布随机产生和原始样本数一样多的随机样本，并对这个随机样本做K-Means算法，从而得到一个损失函数。如此往复多次，通常20次，可以得到20个，当然，往复次数也可以为其他次数，在此仅作为一种示例。对这20个的数值求平均值，就得到了的近似值，最终可以计算间隔统计量。而间隔统计量取得最大值所对应的k值就是最佳k值。在上述聚类方式中，间隔统计量方法并不是唯一的方法，其他具有类似效果的方式也可以作为其替代方式，在本实施例中其仅作为一种示例，而不作为唯一的可实施方式。步骤2：针对数据集中每个样本计算它到k个聚类中心的距离并将其分到距离最小的聚类中心所对应的类中。步骤3：针对每个类，重新计算它的聚类中心，即属于该类的所有样本的质心。步骤4:重复上面步骤2、步骤3两步，直到达到中止条件，获得聚类结果；中止条件可为常规的迭代次数、最小误差变化等中止条件。在云端完成计算和训练之后，将结果模型通过无线通讯设备传输至自动引导车车载控制器直接控制自动引导车电机按照模型制定的运行策略来停泊即可。通过建立的K-means模型，按照每个时段自动引导车前往不用同货架搬运货物数量作为样本，将传感器收集到的这些样本建立在二维坐标系中，以时间和货架的货运流量作为坐标轴，样本作为点，在迭代中不断使样本接近聚类中心，从而机器学习得到根据不同时间段聚集起来的样本货运习惯，从而根据货运的使用习惯预测每天不同时段在空闲时刻自动停泊货架，进而以达到最高效率，避免了无法根据不同时段自动规划停泊最佳货架的弊端。在本发明的另一种实施例中，货运可能在不同时间段密集使用自动引导车，既需要自动引导车智能化停泊，又需要最近的自动引导车运送，从而提高自动引导车运行效率以及节省运行时间的需求。假设有一个应用场景，需要八部自动引导车同时运行或处于空闲状态，要求有一部在空闲状态下能够在指定的货架停泊等待，步骤如下：步骤1：控制器接收货运信息，根据货运信息描述，已知货运信息解空间为一维，初始化第一代蜜源的位置，按照正态分布随机生成采蜜峰的蜜源的位置，问题中蜜源即为货运信息的解，也就是停泊自动引导车的序号。初始化蜜源，其中SN为设定的采蜜蜂和观察蜂的个数，也是蜜源总个数。步骤2：设定计算种群中各个蜜蜂的适应度。其适应度函数可以用贪婪算法进行设计，当然也可以采用其他类似的算法替代。步骤3：采蜜蜂根据第一步中产生的新解并计算适应度。步骤4：采蜜蜂根据贪婪算法选择蜜源。步骤5：计算蜜源的概率。步骤6：观察蜂根据概率选择蜜源，如果一个蜜源的适应值在给定的步骤内提高，则进入下一步；如果没有被提高, 则丢弃该蜜源，而与该蜜源相对应的采蜜蜂变成侦查蜂。步骤7：观察蜂根据贪心策略选择蜜源。步骤8：决定是否存在需要放弃的蜜源，如果存在，则随机产生一个蜜源替代它，如果不存在需要放弃的蜜源，则返回步骤2。步骤9：记录最优解直至达到预定的迭代次数或误差阈值，输出最优解，自动引导车控制器根据该最优解控制对应自动引导车运行至货运位置并执行货运需求。自动引导车控制器在获取最优解后，指示相应自动引导车运行至货运位置。由于通过人工蜂群算法，能够避免现有技术中常见的不是离货运最近的自动引导车运行，而是根据原始设定的自动引导车进行运行的问题，避免了自动引导车运行的僵化，提高了自动引导车运行效率。在本发明的另一种实施例中，为了使货运能够体验感更好，本发明将K-means算法与蜂群算法集成到自动引导车运行中，在其正常运行时，自动引导车通过K-means算法将自动引导车停留在适应货运需求的货架，在仓储系统临时需求自动引导车到达需取放货的货架时，自动引导车控制器接收运行指令，控制器将K-means算法求解结果带入蜂群算法中，并对蜂群算法中适应度公式增加常数进行约束，从而使蜂群算法更快速的求解出适应值，然后根据适应度在蜂群算法中求解出最佳的解，并对应运行自动引导车。在该实施例中，通过将K-means算法和蜂群算法集合在一起，不仅同时具有K-means算法的优点，还具有蜂群算法的优点，此外在两个算法集合使用时优化适应度求解公式，能够相对简单整合使用K-means算法和蜂群算法能够具有更高的效率以及更适应货运使用需求，进一步提升了自动引导车的智能化。
