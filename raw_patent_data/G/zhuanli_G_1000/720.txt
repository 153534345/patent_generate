标题title
基于激光雷达的自动驾驶导航方法及系统
摘要abst
本申请提供一种基于激光雷达的自动驾驶导航方法及系统，属于导航技术领域。本申请将体素特征与点特征进行融合，得到更加丰富的语义特征，其中基于K近邻算法和注意力机制进行局部特征提取，可以直接利用点特征进行处理，不用改变3D拓扑结构，没有信息损失；在局部特征提取的过程中，采用了注意力机制，来获得增强的点特征。另外，在上采样过程中，引入了三维注意力机制，通过注意力机制自动选择不同层次的特征，来得到信息量更丰富的特征，从而改善网络性能，提高分割精度。通过上述方式，本申请可以提升导航的精准性。
权利要求书clms
1.一种基于激光雷达的自动驾驶导航方法，其特征在于，包括如下步骤：S1：获取激光点云；S2：采用圆柱形分割将所述激光点云进行重分配得到圆柱特征；采用多层感知机对所述激光点云进行特征提取得到点特征；将所述圆柱特征与所述点特征融合得到体素特征；S3：对所述体素特征进行非对称三维卷积操作，依次执行多次下采样及多次上采样，每次上采样过程均采用三维注意力机制进行监督；S4：基于K近邻算法和注意力机制执行三次局部特征提取，其中：第一次局部特征提取的输入特征为所述点特征，输出特征采用跳跃连接的方式与最后一次下采样的输出特征进行融合，得到第一融合特征；第二次局部特征提取的输入特征为所述第一融合特征，输出特征采用跳跃连接的方式与第一次上采样的输出特征进行融合，得到第二融合特征；第三次局部特征提取的输入特征为所述第二融合特征，输出特征采用跳跃连接的方式与最后一次上采样的输出特征进行融合，得到最终的融合特征；S5：对最终的融合特征进行语义分割，依照语义分割的结果，规划最优的导航路线。2.根据权利要求1所述的基于激光雷达的自动驾驶导航方法，其特征在于，步骤S4中，基于K近邻算法和注意力机制进行局部特征提取的过程具体包括如下步骤：S21：针对任意中心点云i，基于K近邻算法为其收集固定数量k的相邻点，并为每个相邻点进行位置编码，其中，第j个相邻点的编码位置表示为：；式中，表示多层感知机；/＞表示中心点云i的坐标；/＞表示第j个相邻点的坐标；表示拼接操作；/＞表示中心点云i和第j个相邻点的欧几里得距离；S22：将第j个相邻点的点云特征与编码位置/＞进行拼接，得到增强的特征/＞，表示为：；S23：遍历k个相邻点，将k个相邻点增强后的特征组合作为中心点云i的局部特征，表示为：；S24：为局部特征的每个空间位置计算权重，基于注意力机制自动学习重要的局部特征，得到最终输出的局部特征Ti，表示为：;；式中，表示空间位置的权重；/＞表示/＞操作；/＞表示逐元素相乘。3.根据权利要求1所述的基于激光雷达的自动驾驶导航方法，其特征在于，步骤S3中，三维注意力机制通过计算高层特征和低层特征的权重，然后将权重与输入的特征加权求和以生成最终的输出特征，最终的输出特征F表示为：；式中，表示注意力权重；/＞表示上采样；/＞表示采用/＞函数激活；表示3x3x3的卷积；/＞表示归一化；/＞表示高层特征；/＞表示低层特征；；；式中，表示三维注意力机制的计算过程，/＞表示三维注意力机制的输入。4.根据权利要求1所述的基于激光雷达的自动驾驶导航方法，其特征在于，步骤S3中，下采样的执行次数为四次，上采样的执行次数为三次。5.一种基于激光雷达的自动驾驶导航系统，其特征在于，包括：采集模块：用于获取激光点云；体素特征提取模块：用于采用圆柱形分割将所述激光点云进行重分配得到圆柱特征；采用多层感知机对所述激光点云进行特征提取得到点特征；将所述圆柱特征与所述点特征融合得到体素特征；三维非对称卷积网络：用于对所述体素特征进行非对称三维卷积操作，依次执行多次下采样及多次上采样，每次上采样过程均采用三维注意力机制进行监督；局部特征提取模块：基于K近邻算法执行三次局部特征提取，其中：第一次局部特征提取的输入特征为所述点特征，输出特征采用跳跃连接的方式与最后一次下采样的输出特征进行融合，得到第一融合特征；第二次局部特征提取的输入特征为所述第一融合特征，输出特征采用跳跃连接的方式与第一次上采样的输出特征进行融合，得到第二融合特征；第三次局部特征提取的输入特征为所述第二融合特征，输出特征采用跳跃连接的方式与最后一次上采样的输出特征进行融合，得到最终的融合特征；路线规划模块：用于对最终的融合特征进行语义分割，依照语义分割的结果，规划最优的导航路线。
说明书desc
技术领域本申请属于导航技术领域，具体涉及一种基于激光雷达的自动驾驶导航方法及系统。背景技术在自动驾驶领域，激光雷达是一种常见的定位和导航系统。激光雷达通过扫描空间点的目标，形成激光点云，每一个激光点云都包含了空间点的三维坐标和激光反射强度，通过对激光点云的数据进行处理后，呈现出目标物精确的三维结构信息。与传统的相机相比，激光点云作为三维数据表示形式之一，能够较好地表达复杂场景及物体的几何形状，并且在物体空间关系及拓扑关系的表达方面具有独特的优势。相关技术中，对激光点云的处理方法通常为：将无序的激光点云分割成一系列占用一定空间的体素, 然后送入三维卷积神经网络逐步进行体素级别的特征学习，最后为每一格体素内的所有点匹配与该体素相同的语义标签。然而，由于室外激光雷达点云具有无序性以及密度不一致性，以往的三维体素化方法将点云视为一个均匀的，并通过均匀立方体分割它们，而忽略了室外点云的密度不一致性特性，导致在体素化过程中不可避免地损失几何信息，导致对激光点云的分割精度不高，影响导航的精准性。因此，实有必要提供一种基于激光雷达的自动驾驶导航方法及系统，以解决上述背景技术中提出的问题。发明内容本申请提供一种基于激光雷达的自动驾驶导航方法及系统，能够提升导航的精准性。为解决上述技术问题，本申请的技术方案在于：一种基于激光雷达的自动驾驶导航方法，包括如下步骤：S1：获取激光点云；S2：采用圆柱形分割将所述激光点云进行重分配得到圆柱特征；采用多层感知机对所述激光点云进行特征提取得到点特征；将所述圆柱特征与所述点特征融合得到体素特征；S3：对所述体素特征进行非对称三维卷积操作，依次执行多次下采样及多次上采样，每次上采样过程均采用三维注意力机制进行监督；S4：基于K近邻算法和注意力机制执行三次局部特征提取，其中：第一次局部特征提取的输入特征为所述点特征，输出特征采用跳跃连接的方式与最后一次下采样的输出特征进行融合，得到第一融合特征；第二次局部特征提取的输入特征为所述第一融合特征，输出特征采用跳跃连接的方式与第一次上采样的输出特征进行融合，得到第二融合特征；第三次局部特征提取的输入特征为所述第二融合特征，输出特征采用跳跃连接的方式与最后一次上采样的输出特征进行融合，得到最终的融合特征；S5：对最终的融合特征进行语义分割，依照语义分割的结果，规划最优的导航路线。优选的，步骤S4中，基于K近邻算法和注意力机制进行局部特征提取的过程具体包括如下步骤：S21：针对任意中心点云i，基于K近邻算法为其收集固定数量k的相邻点，并为每个相邻点进行位置编码，其中，第j个相邻点的编码位置表示为：；式中，表示多层感知机；/＞表示中心点云i的坐标；/＞表示第j个相邻点的坐标；/＞表示拼接操作；/＞表示中心点云i和第j个相邻点的欧几里得距离；S22：将第j个相邻点的点云特征与编码位置/＞进行拼接，得到增强的特征/＞，表示为：；S23：遍历k个相邻点，将k个相邻点增强后的特征组合作为中心点云i的局部特征，表示为：；S24：为局部特征的每个空间位置计算权重，基于注意力机制自动学习重要的局部特征，得到最终输出的局部特征Ti，表示为：;；式中，表示空间位置的权重；/＞表示/＞操作；/＞表示逐元素相乘。优选的，步骤S3中，三维注意力机制通过计算高层特征和低层特征的权重，然后将权重与输入的特征加权求和以生成最终的输出特征，最终的输出特征F表示为：；式中，表示注意力权重；/＞表示上采样；/＞表示采用/＞函数激活；表示3x3x3的卷积；/＞表示归一化；/＞表示高层特征；/＞表示低层特征；/＞；；式中，表示三维注意力机制的计算过程，/＞表示三维注意力机制的输入。优选的，步骤S3中，下采样的执行次数为四次，上采样的执行次数为三次。本申请还提供一种基于激光雷达的自动驾驶导航系统，包括：采集模块：用于获取激光点云；体素特征提取模块：用于采用圆柱形分割将所述激光点云进行重分配得到圆柱特征；采用多层感知机对所述激光点云进行特征提取得到点特征；将所述圆柱特征与所述点特征融合得到体素特征；三维非对称卷积网络：用于对所述体素特征进行非对称三维卷积操作，依次执行多次下采样及多次上采样，每次上采样过程均采用三维注意力机制进行监督；局部特征提取模块：基于K近邻算法执行三次局部特征提取，其中：第一次局部特征提取的输入特征为所述点特征，输出特征采用跳跃连接的方式与最后一次下采样的输出特征进行融合，得到第一融合特征；第二次局部特征提取的输入特征为所述第一融合特征，输出特征采用跳跃连接的方式与第一次上采样的输出特征进行融合，得到第二融合特征；第三次局部特征提取的输入特征为所述第二融合特征，输出特征采用跳跃连接的方式与最后一次上采样的输出特征进行融合，得到最终的融合特征；路线规划模块：用于对最终的融合特征进行语义分割，依照语义分割的结果，规划最优的导航路线。本申请的有益效果在于：本发明提出了3D注意力特征融合块，使用注意力机制来决定高层特征和低层特征的权重，将权重与不同层次的语义特征加权求和得到更加丰富的语义特征，从而提高分割精度；由于驾驶场景中点云具有稀疏性、密度不一致性，导致在体素划分的过程中不可避免地改变3D拓扑结构，损失几何信息。针对上述问题，本发明提出了局部特征聚合模块，直接采用输入的原始点云数据，不损失任何信息。同时采用简单的K近邻算法，在保证效率的情况下，得到最近的K个相邻点坐标，聚合其特征，通过强大的注意力机制，最终生成信息更丰富的点特征。附图说明图1表示本申请提供的一种基于激光雷达的自动驾驶导航方法的流程图；图2表示局部特征提取模块的网络架构图；图3表示三维注意力机制的网络架构图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。请结合参阅图1-图3，本申请提供一种基于激光雷达的自动驾驶导航方法，包括如下步骤：S1：获取激光点云。S2：采用圆柱形分割将所述激光点云进行重分配得到圆柱特征；采用多层感知机对所述激光点云进行特征提取得到点特征；将所述圆柱特征与所述点特征融合得到体素特征。S3：对所述体素特征进行非对称三维卷积操作，依次执行多次下采样及多次上采样，每次上采样过程均采用三维注意力机制进行监督。步骤S3中，三维注意力机制通过计算高层特征和低层特征的权重，然后将权重与输入的特征加权求和以生成最终的输出特征，最终的输出特征F表示为：；式中，表示注意力权重；/＞表示上采样；/＞表示采用/＞函数激活；表示3x3x3的卷积；/＞表示归一化；/＞表示高层特征；/＞表示低层特征；；；式中，表示三维注意力机制的计算过程，/＞表示三维注意力机制的输入；/＞表示拼接操作；/＞表示/＞操作。对于自动驾驶场景的语义分割，有些部分需要高级的语义特征，有些部分需要更详细的特征，而高层的特征图包含更多的语义信息，而低层的特征图显示更多的细节，因此，本申请通过三维注意力机制来自动选择不同层次的特征，高层语义特征通过上采样操作来保持和底层语义特征相同的通道数，而不是使用简单的特征图拼接，可以有效地融合不同层次的语义信息，得到信息量更丰富的特征，从而改善模型性能，提高分割精度。三维注意力机制的网络架构如图3所示。下采样的执行次数为四次，上采样的执行次数为三次。S4：基于K近邻算法和注意力机制执行三次局部特征提取，其中：第一次局部特征提取的输入特征为所述点特征，输出特征采用跳跃连接的方式与最后一次下采样的输出特征进行融合，得到第一融合特征；第二次局部特征提取的输入特征为所述第一融合特征，输出特征采用跳跃连接的方式与第一次上采样的输出特征进行融合，得到第二融合特征；第三次局部特征提取的输入特征为所述第二融合特征，输出特征采用跳跃连接的方式与最后一次上采样的输出特征进行融合，得到最终的融合特征；由于室外点云的密度不一致性特性，导致在体素化过程中会不可避免地损失几何信息，为此本申请直接对原始无序的3D点云进行局部特征提取，没有任何信息损失，通过逐步增加每个点的接收场来自动保留复杂的局部结构，得到增强的点特征。最后将点特征与体素特征相融合，能够得到语义信息更加丰富的特征，从而提高网络的性能。基于K近邻算法和注意力机制进行局部特征提取的过程具体包括如下步骤：S21：针对任意中心点云i，基于K近邻算法为其收集固定数量k的相邻点，并为每个相邻点进行位置编码，其中，第j个相邻点的编码位置表示为：；式中，表示多层感知机；/＞表示中心点云i的坐标；/＞表示第j个相邻点的坐标；/＞表示拼接操作；/＞表示中心点云i和第j个相邻点的欧几里得距离；S22：将第j个相邻点的点云特征与编码位置/＞进行拼接，得到增强的特征/＞，表示为：；S23：遍历k个相邻点，将k个相邻点增强后的特征组合作为中心点云i的局部特征，表示为：；S24：为局部特征的每个空间位置计算权重，基于注意力机制自动学习重要的局部特征，得到最终输出的局部特征Ti，表示为：;；式中，表示空间位置的权重；/＞表示/＞操作；/＞表示逐元素相乘。在给定输入的点云数据情况下，通过聚合中心点的K个最近点的特征，从而使相应的点特征始终知道其相对点空间位置。这使局部空间编码块可以显式的观察局部几何图案，从而最终使整个网络受益，有效地学习复杂的局部结构，并最终生成信息量丰富的特征。S5：对最终的融合特征进行语义分割，依照语义分割的结果，规划最优的导航路线。本申请还提供一种基于激光雷达的自动驾驶导航系统，包括：采集模块：用于获取激光点云；体素特征提取模块：用于采用圆柱形分割将所述激光点云进行重分配得到圆柱特征；采用多层感知机对所述激光点云进行特征提取得到点特征；将所述圆柱特征与所述点特征融合得到体素特征；三维非对称卷积网络：用于对所述体素特征进行非对称三维卷积操作，依次执行多次下采样及多次上采样，每次上采样过程均采用三维注意力机制进行监督；局部特征提取模块：基于K近邻算法和注意力机制执行三次局部特征提取，其中：第一次局部特征提取的输入特征为所述点特征，输出特征采用跳跃连接的方式与最后一次下采样的输出特征进行融合，得到第一融合特征；第二次局部特征提取的输入特征为所述第一融合特征，输出特征采用跳跃连接的方式与第一次上采样的输出特征进行融合，得到第二融合特征；第三次局部特征提取的输入特征为所述第二融合特征，输出特征采用跳跃连接的方式与最后一次上采样的输出特征进行融合，得到最终的融合特征；路线规划模块：用于对最终的融合特征进行语义分割，依照语义分割的结果，规划最优的导航路线。实施例1在本实施方式中，所述导航网络模型训练采用的数据集为SemanticKITTI和nuScenes基准数据集。将数据集划分为训练集、验证集和测试集，所述训练集用于执行训练的过程，以学习和更新所述导航网络模型的参数，以使所述导航网络模型更好的拟合数据；所述验证集用于调整所述导航网络模型的超参数并评估所述导航网络模型的性能；所述测试集用于测试所述导航网络模型的性能。构建对比试验，评估本申请提供的导航网络模型和本领域的其他模型分别在nuScenes验证集和SemanticKITTI验证集上的性能，评估所采用的指标为平均交并比，其计算过程表示为：式中，TP表示为真正例，即模型预测为正例，实际是反例；FN表示为假反例，即模型预测为反例，实际是正例；FP表示为假正例，即模型预测为正例，实际是反例；K表示类别数。请参阅表1，表1表示本申请提供的导航网络模型与本领域的其他模型在SemanticKITTI验证集上的性能对比数据。表1 多种模型在SemanticKITTI验证集上性能对比数据其中，模型名称后的 表示的是模型网络输入数据的类型， L表示输入数据仅仅为激光雷达数据；L+C表示激光雷达数据和相机数据的融合数据。表1可以看出，从输入数据的类型来看，本申请与RandLANet、RangeNet++、SequeeezeSegV2、SequeeezeSegV3和SalsaNext等基于投影的方法2D空间相比，尽管都是输入单模态的雷达数据，但是由于三维几何信息的建模，本申请提供的方法在mIoU方面实现了性能增益。本申请与MinkowskiNet，SPVNAS和Cylinder3D等3D卷积方法相比，因为在我们的方法中融入了点特征，性能也要优于这些方法。最后，与基于多视图融合的方法相比，我们提出的方法也优于这些方法。请参阅表2，表2表示本申请提供的导航网络模型与本领域的其他模型在nuScenes验证集上性能对比数据。表2 多种模型在nuScenes验证集上性能对比数据从表2可以看出，与其他模型相比，本申请提出的方法在nuScenes验证集上实现了优异的性能，获得约4% -15%的性能增益；此外，本申请提出的方法取得了比最先进的多视图融合方法获得了更好的结果，与之比较mIoU提高了0.6%。而对于一些需要更加详细语义特征的对象，如行人和交通锥，我们提出的方法取得了良好的性能，这也表明了所提出的方法的有效性，可以有效解决自动驾驶场景的难点。上面结合附图对本申请的实施例进行了描述，但是本申请并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本申请的启示下，在不脱离本申请宗旨和权利要求所保护的范围情况下，还可做出很多形式，均属于本申请的保护之内。
