标题title
一种PCBA板缺陷的可视化方法及系统
摘要abst
本发明提供一种PCBA板缺陷的可视化方法及系统，涉及可视化技术领域。该方法包括获取同类型PCBA板检验结果数据，并根据检验结果数据进行元器件特征数据的提取，形成电路板检验基础数据；获取PCBA板实时图像数据，并结合电路板检验基础数据进行对比分析，并进行缺陷标记，形成缺陷检验标记信息；根据缺陷检验标记信息，对PCBA板的实时检验图像进行不同缺陷的标记，形成缺陷可视化检验图像。该方法通过利用图像处理技术建立合理的自动化判断方案，大大提高了检验的效率，同时也提高了产品生产的合格率。
权利要求书clms
1.一种PCBA板缺陷的可视化方法，其特征在于，包括：获取同类型PCBA板检验结果数据，并根据所述检验结果数据进行元器件特征数据的提取，形成电路板检验基础数据；获取PCBA板实时图像数据，并结合所述电路板检验基础数据进行对比分析，并进行缺陷标记，形成缺陷检验标记信息；根据所述缺陷检验标记信息，对PCBA板的实时检验图像进行不同缺陷的标记，形成缺陷可视化检验图像，其中，获取同类型PCBA板检验结果数据，并根据所述检验结果数据进行元器件特征数据的提取，形成电路板检验基础数据，包括：从同类型PCBA板检验结果数据中提取每个元器件的位置信息并进行元器件位置分析，形成元器件安装位置参考数据：对每个检验通过的同类型PCBA板，以板面为基础确定参考原点，并建立以所述参考原点为坐标原点以所述板面为第一平面的三维参考坐标系；根据所述三维参考坐标系，确定每个检验通过的同类型PCBA板上每个元器件的位置信息，并将相同的元器件的位置信息进行并运算，形成每个所述元器件的所述元器件安装位置参考数据：以所述第一平面为投影面，将同类型PCBA板上的每个所述元器件投影到所述第一平面上，形成元器件投影位置信息；根据所述元器件投影位置信息，确定每个元器件在所述第一平面上所投影形状的投影边界函数，其中，n表示不同的同类型PCBA板的编号，m表示同类型PCBA板上不同元器件的编号；获取所有相同元器件的所述投影边界函数/＞，形成元器件投影边界函数集，并进行以下并运算：建立复刻平面，将所述元器件投影边界函数集中的所有所述投影边界函数/＞复刻在所述复刻平面上；获取边界范围最大的不同曲线段，形成最大范围包络曲线；获取边界范围最小的不同曲线段，形成最小范围包络曲线；将所述最大范围包络曲线与所述最小范围包络曲线所界定的范围确定为元器件安装位置投影参考范围；结合所有元器件的所述元器件安装位置投影参考范围，形成所述元器件安装位置参考数据；从同类型PCBA板检验结果数据中获取每个元器件的触点位置信息并进行触点位置分析，形成触点安装位置参考数据；从同类型PCBA板检验结果数据中获取每个触点的质量信息并进行触点质量分析，形成触点质量参考数据；结合所述元器件安装位置参考数据、所述触点安装位置参考数据以及所述触点质量参考数据，形成所述电路板检验基础数据。2.根据权利要求1所述的PCBA板缺陷的可视化方法，其特征在于，所述从同类型PCBA板检验结果数据中获取每个元器件的触点位置信息并进行触点位置分析，形成触点安装位置参考数据，包括：对元器件的触脚进行编号，形成元器件触脚编号信息；对每个同类型PCBA板上的元器件，结合所述元器件触脚编号信息，确定每个元器件上对应编号的触脚在PCBA板上的安装位置参考坐标；结合所有同类型PCBA板上相同元器件上编号相同的触脚的所述安装位置参考坐标，形成所述触点安装位置参考数据。3.根据权利要求2所述的PCBA板缺陷的可视化方法，其特征在于，所述从同类型PCBA板检验结果数据中获取每个触点的质量信息并进行触点质量分析，形成触点质量参考数据，包括：对检验通过的同类型PCBA板上每个触点，在所述三维参考坐标系下建立任意的三个相互垂直的平面，确定为触点投影垂直参考平面；将触点分别投影到三个所述触点投影垂直参考平面上，形成触点投影参考信息；根据所述触点投影参考信息，进行触点投影形状质量分析，形成触点投影形状质量参考数据；在所述三维参考坐标系下，将同类型PCBA板上每个触点投影到所述第一平面上，形成第一平面触点投影参考信息；根据所述第一平面触点投影参考信息，进行触点距离质量分析，形成触点投影距离质量参考数据；结合所述触点投影形状质量参考数据和所述触点投影距离质量参考数据，形成所述触点质量参考数据。4.根据权利要求3所述的PCBA板缺陷的可视化方法，其特征在于，所述根据所述触点投影参考信息，进行触点投影形状质量分析，形成触点投影形状质量参考数据，包括：获取所有检验通过的同类型PCBA板上相同触点在相同方向上的所述触点投影参考信息，并进行并运算将并运算下投影边界范围最大的曲线段形成的最大范围和投影边界范围最小的曲线段形成的最小范围所限定的区间确定为触点方向投影参考范围；集合每个触点在三个所述触点投影垂直参考平面上的所述触点方向投影参考范围，形成所述触点质量参考数据。5.根据权利要求4所述的PCBA板缺陷的可视化方法，其特征在于，所述根据所述第一平面触点投影参考信息，进行触点距离质量分析，形成触点投影距离质量参考数据，包括：对每个检验通过的同类型PCBA板，根据所述第一平面触点投影参考信息，确定每个触点与相邻触点之间的最小间距；获取所有检验通过的同类型PCBA板上相同触点的所述最小间距，形成触点最小间距集；根据所述触点最小间距集，确定触点的平均最小间距；根据所述触点最小间距集和所述平均最小间距，确定平均距离偏移量，其中：，/＞，/＞表示不同PCBA板上对应的触电的所述最小间距。6.根据权利要求5所述的PCBA板缺陷的可视化方法，其特征在于，所述获取PCBA板实时图像数据，并结合所述电路板检验基础数据进行对比分析，并进行缺陷标记，形成缺陷检验标记信息，包括：对PCBA板实时图像数据的实时检测图像进行提取，并在所述实时检测图像上建立所述三维参考坐标系；根据所述三维参考坐标系确定每个元器件的实时安装位置，并将实时安装位置投影到所述第一平面上，形成元器件实时投影位置，并提取所述元器件实时投影位置的元器件实时投影边界曲线；将所述元器件实时投影边界曲线与所述元器件安装位置参考数据中对应的所述元器件安装位置投影参考范围进行对比：若所述元器件实时投影边界曲线存在任意的部分不属于所述元器件安装位置投影参考范围，则将元器件进行第一类型标记；若所述元器件实时投影边界曲线属于所述元器件安装位置投影参考范围，则获取所述元器件的所有触点实时安装位置，并根据编号将每个触点的所述触点实时安装位置与所述触点安装位置参考数据中对应的安装位置参考坐标进行对比：若所述触点实时安装位置与安装位置参考坐标不匹配，则对触点进行第二类型标记；若所述触点实时安装位置与安装位置参考坐标匹配，则分别获取触点与所述触点质量参考数据中对应触点相同的所述触点投影垂直参考平面下的触点实时投影形状质量数据以及在所述第一平面上的触点实时投影距离，并进行以下对比分析：若所述触点实时投影形状质量数据中在每个所述触点投影垂直参考平面上的投影边界均属于对应的所述触点方向投影参考范围，且所述触点实时投影距离属于对应的，则判断触点合格；反之则对触点进行第三类型标记。7.一种PCBA板缺陷的可视化系统，采用权利要求1-6任意一项所述PCBA板缺陷的可视化方法，其特征在于，包括：图像采集单元，用于采集PCBA板的实时检测图像；数据处理单元，用于对获取的检验通过的同类型PCBA板数据进行元器件特征数据的提取，形成电路板检验基础数据；检验分析单元，用于获取所述图像采集单元采集的实时检测图像，并结合电路板检验基础数据进行对比分析，形成缺陷检验标记信息，并根据检验结果将检验通过的实时检验图像发送给所述数据处理单元；可视化输出单元，用于将所述检验分析单元形成的曲线检验标记信息输出显示。
说明书desc
技术领域本发明涉及可视化技术领域，具体而言，涉及一种PCBA板缺陷的可视化方法及系统。背景技术印刷电路板，又称印制电路板，印刷线路板，常使用英文缩写PCB，是重要的电子部件，是电子元件的支撑体，是电子元器件线路连接的提供者。PCBA板上由于需要安装各种类型的电子元件，需要对每个电子元件进行安装检验，一方面保证电子元件的安装位置合理，另一方面保证电子元件在板面上的线路连接正确。随着科学技术的进步，对PCBA板的质量检测可以通过图像采集进行分析判断，但大多还是依靠人工进行分析确定，检测的效率较低，也耗费大量的人力成本，同时由于人工进行检测所带来的人为因素的差错，导致每批产品的合格率具有一定的限制性。因此，设计一种PCBA板缺陷的可视化方法及系统，通过利用图像处理技术建立合理的自动化判断方案，大大提高了检验的效率，同时也提高了产品生产的合格率，是目前亟待解决的问题。发明内容本发明的目的在于提供一种PCBA板缺陷的可视化方法，通过获取同类型PCBA板的检验结果大数据，并进行大数据下的元器件安装特征数据的分析提取，形成的电路板检验基础数据能够给后续进行实时PCBA板的检测提供准确合理的基础对比数据。同时，在利用这些基础对比数据进行实时PCBA板的检测时，对不同的检测缺陷进行分类标记，便于对不同的缺陷问题进行辨别，进而方便为后续针对性的修复提供指引。另外，将检测获取的缺陷信息在图像数据中标记并输出，实现可视化的检测结果，直观高效的提供检验缺陷的信息，大大提高了缺陷检验的效率，同时也保证了产品的质量。本发明的目的还在于提供一种PCBA板缺陷的可视化系统，通过图像采集单元获取同类型的PCBA板检测数据和实时PCBA板的图像数据，为后续的分析提供数据分析的基础。数据处理单元主要是进行同类型PCBA板的大数据分析，形成可以为后续对比分析参考的基础数据。检验分析单元，能够调用数据处理单元形成的基础数据与实时PCBA图像数据进行高效的对比分析，判断出实时PCBA板所存在的缺陷，进而实现对PCBA生产质量的把控。同时将检验合格的PCBA板数据提交给数据处理单元作为大数据分析的原始更新数据，以形成更加完善合理的基础数据。另外，可视化输出单元对缺陷检测结果进行输出显示，可以帮助进行直观的数据展示。第一方面，本发明提供一种PCBA板缺陷的可视化方法，包括获取同类型PCBA板检验结果数据，并根据检验结果数据进行元器件特征数据的提取，形成电路板检验基础数据；获取PCBA板实时图像数据，并结合电路板检验基础数据进行对比分析，并进行缺陷标记，形成缺陷检验标记信息；根据缺陷检验标记信息，对PCBA板的实时检验图像进行不同缺陷的标记，形成缺陷可视化检验图像。在本发明中，该方法通过获取同类型PCBA板的检验结果大数据，并进行大数据下的元器件安装特征数据的分析提取，形成的电路板检验基础数据能够给后续进行实时PCBA板的检测提供准确合理的基础对比数据。同时，在利用这些基础对比数据进行实时PCBA板的检测时，对不同的检测缺陷进行分类标记，便于对不同的缺陷问题进行辨别，进而方便为后续针对性的修复提供指引。另外，将检测获取的缺陷信息在图像数据中标记并输出，实现可视化的检测结果，直观高效的提供检验缺陷的信息，大大提高了缺陷检验的效率，同时也保证了产品的质量。作为一种可能的实现方式，获取同类型PCBA板检验结果数据，并根据检验结果数据进行元器件特征数据的提取，形成电路板检验基础数据，包括：从同类型PCBA板检验结果数据中提取每个元器件的位置信息并进行元器件位置分析，形成元器件安装位置参考数据；从同类型PCBA板检验结果数据中获取每个元器件的触点位置信息并进行触点位置分析，形成触点安装位置参考数据；从同类型PCBA板检验结果数据中获取每个触点的质量信息并进行触点质量分析，形成触点质量参考数据；结合元器件安装位置参考数据、触点安装位置参考数据以及触点质量参考数据，形成电路板检验基础数据。在本发明中，基于同类型PCBA板检验结果数据进行大数据分析提取元器件的特征数据主要包括三个方面，一个方面是对PCBA板上的所有元器件的安装位置数据进行提取，元器件的安装位置信息决定了元器件的安装是否正确，对于影响后续的触点连接和电子电路的功能有着重要的作用。第二方面是每个元器件的触脚的位置，可以理解的是元器件是通过触脚与板面上的线路进行联通进而发挥元器件的功能作用。所以，对于触脚的安装位置确定是元器件能够正常运行且保证线路正确的基础。第三方面是触脚的触点连接情况，触点的质量决定了电连接的性能，是保证PCBA板能够高性能工作的基础前提。作为一种可能的实现方式，从同类型PCBA板检验结果数据中提取每个元器件的位置信息并进行元器件位置分析，形成元器件安装位置参考数据，包括：对每个检验通过的同类型PCBA板，以板面为基础确定参考原点，并建立以参考原点为坐标原点以板面为第一平面的三维参考坐标系；根据三维参考坐标系，确定每个检验通过的同类型PCBA板上每个元器件的位置信息，并将相同的元器件的位置信息进行并运算，形成每个元器件的元器件安装位置参考数据。在本发明中，对于元器件安装位置数据的提取，主要考虑元器件相对在PCBA板上的位置，进而可以确保元器件上的触脚与连接线路的连接点能够对应。位置信息通过投影的方式来获取，并基于大数据分析获取到每个元器件相对在PCBA板上的合理包络安装范围。这里需要注意的是，要保证所有的同类型PCBA板所建立的坐标系是相同的，以板面上的位置作为原点建立可以实现这一目标，毕竟相对元器件，板面的形状和位置是唯一不变的。作为一种可能的实现方式，根据三维参考坐标系，确定每个检验通过的同类型PCBA板上每个元器件的位置信息，并将相同的元器件的位置信息进行并运算，形成每个元器件的元器件安装位置参考数据，包括：以第一平面为投影面，将同类型PCBA板上的每个元器件投影到第一平面上，形成元器件投影位置信息；根据元器件投影位置信息，确定每个元器件在第一平面上所投影形状的投影边界函数，其中，n表示不同的同类型PCBA板的编号，m表示同类型PCBA板上不同元器件的编号；获取所有相同元器件的投影边界函数，形成元器件投影边界函数集，并进行以下并运算：建立复刻平面，将元器件投影边界函数集中的所有投影边界函数/＞复刻在复刻平面上；获取边界范围最大的不同曲线段，形成最大范围包络曲线；获取边界范围最小的不同曲线段，形成最小范围包络曲线；将最大范围包络曲线与最小范围包络曲线所界定的范围确定为元器件安装位置投影参考范围；结合所有元器件的元器件安装位置投影参考范围，形成元器件安装位置参考数据。在本发明中，对PCBA板上的元器件合理包络安装位置的提取通过获取每个检验通过的同类型PCBA板上元器件安装位置在面板上投影形成的边界线进行并集范围的计算取得。这里对于并集计算目的是确定在众多的边界曲线上相交后形成的最外围和最内侧的边界段分别所组成的边界范围，从而确定出边界范围的最小包络范围和最大包络范围，进而形成对应元器件的安装范围区间。作为一种可能的实现方式，从同类型PCBA板检验结果数据中获取每个元器件的触点位置信息并进行触点位置分析，形成触点安装位置参考数据，包括：对元器件的触脚进行编号，形成元器件触脚编号信息；对每个同类型PCBA板上的元器件，结合元器件触脚编号信息，确定每个元器件上对应编号的触脚在PCBA板上的安装位置参考坐标；结合所有同类型PCBA板上相同元器件上编号相同的触脚的安装位置参考坐标，形成触点安装位置参考数据。在本发明中，对触点安装位置的数据提取需要考虑的是，一方面触点用于将元器件上的触脚和板面上的连接线路的连接点连接，而由于线路连接的多样性，每个触脚的连接位置可以是不同的，因而大数据下可以获取到触脚可以连接的多个安装位置，另一方面由于触脚是属于元器件的电信号连接触脚，所以对于触脚的安装位置的确定以元器件为单位进行编号定位更加合理。当然，更加准确的方式是对每个元器件的所有触脚安装位置进行组合编号，毕竟当其中一个触脚的安装位置发生变化后，其他的触脚位置也会发生变化，单一的进行单个触脚的位置确定不能体现这种关联性，组合编号进行判断可以将这一检验项包含，进而更加准确的确定触脚安装位置的准确性和正确性。作为一种可能的实现方式，从同类型PCBA板检验结果数据中获取每个触点的质量信息并进行触点质量分析，形成触点质量参考数据，包括：对检验通过的同类型PCBA板上每个触点，在三维参考坐标系下建立任意的三个相互垂直的平面，确定为触点投影垂直参考平面；将触点分别投影到三个触点投影垂直参考平面上，形成触点投影参考信息；根据触点投影参考信息，进行触点投影形状质量分析，形成触点投影形状质量参考数据；在三维参考坐标系下，将同类型PCBA板上每个触点投影到第一平面上，形成第一平面触点投影参考信息；根据第一平面触点投影参考信息，进行触点距离质量分析，形成触点投影距离质量参考数据；结合触点投影形状质量参考数据和触点投影距离质量参考数据，形成触点质量参考数据。在本发明中，对触点质量的数据提取分为两个方面，一方面是形成的触电的形状的质量，触点形状的质量决定了触点的电连接性能，诸如电阻值、通断情况等。对于触点形状质量的数据，考虑触点为三维的实体对象，单一的方向的检验并不能完整的进行质量检测，因而本发明通过在三维坐标系下确定三个相互垂直的平面进行形状的投影来获得形状特征数据，进而能够更加准确合理的进行形状质量的判断。可以理解的是，由于PCBA板上有各种类型的元器件，每个元器件上触点的位置环境情况是不同的，因而针对每个触点所建立的三个相互垂直的平面不尽相同，可以根据触点周围的环境情况进行确定，以保证在每个垂直平面上的投影信息完整，避免被周围其他触点或者元器件所遮挡。另一方面是触点与周围触点或者线路之间的距离间隔，可以理解不合理的间隔可能导致不允许的电连接，进而造成对线路的损坏影响PCBA板的性能。所以对触点与周围电连接位置的间隔是重要的检测项。虽然触点周围存在较多的触点或者线路，但可以通过分析界定最小的间隔量就能够合理的保证触点的间隔质量。这里通过对触点进行基于板面的投影来对间隔信息进行提取，当然，考虑触点的安装方向和位置，在进行投影时可以以最大的投影面积方式进行投影，以更加保守准确的提取间隔质量数据。作为一种可能的实现方式，根据触点投影参考信息，进行触点投影形状质量分析，形成触点投影形状质量参考数据，包括：获取所有检验通过的同类型PCBA板上相同触点在相同方向上的触点投影参考信息，并进行并运算将并运算下投影边界范围最大的曲线段形成的最大范围和投影边界范围最小的曲线段形成的最小范围所限定的区间确定为触点方向投影参考范围；集合每个触点在三个触点投影垂直参考平面上的触点方向投影参考范围，形成触点质量参考数据。在本发明中，触点形状质量数据的获取也是通过对三个不同方向的垂直平面上的投影数据在每个方向上进行复刻并集计算，进而提取到最大的包络范围和最小的包括范围，从而形成合理的触点形状范围。作为一种可能的实现方式，根据第一平面触点投影参考信息，进行触点距离质量分析，形成触点投影距离质量参考数据，包括：对每个检验通过的同类型PCBA板，根据第一平面触点投影参考信息，确定每个触点与相邻触点之间的最小间距；获取所有检验通过的同类型PCBA板上相同触点的最小间距，形成触点最小间距集；根据触点最小间距集，确定触点的平均最小间距；根据触点最小间距集和平均最小间距，确定平均距离偏移量/＞，其中：/＞，/＞，/＞表示不同PCBA板上对应的触电的最小间距。在本发明中，对于触点的距离数据可以以平均距离作为参考量，并在偏差量上进行平均化获得。可以理解的是，由于触点周围不同的距离情况，对于两种距离平均差值较大的可以分开进行，比如目标触点相对第一触点的距离的平均值和目标触点相对第二触点的距离平均值存在量级差距或者较大的距离差距，那么可以分别针对这两个相邻触点形成两组最小间距组委触点的距离质量数据，对于差距的判定可以基于大数据分析也可以根据实际经验和需要来确定。作为一种可能的实现方式，获取PCBA板实时图像数据，并结合电路板检验基础数据进行对比分析，并进行缺陷标记，形成缺陷检验标记信息，包括：对PCBA板实时图像数据的实时检测图像进行提取，并在实时检测图像上建立三维参考坐标系；根据三维参考坐标系确定每个元器件的实时安装位置，并将实时安装位置投影到第一平面上，形成元器件实时投影位置，并提取元器件实时投影位置的元器件实时投影边界曲线；将元器件实时投影边界曲线与元器件安装位置参考数据中对应的元器件安装位置投影参考范围进行对比：若元器件实时投影边界曲线存在任意的部分不属于元器件安装位置投影参考范围，则将元器件进行第一类型标记；若元器件实时投影边界曲线属于元器件安装位置投影参考范围，则获取元器件的所有触点实时安装位置，并根据编号将每个触点的触点实时安装位置与触点安装位置参考数据中对应的安装位置参考坐标进行对比：若触点实时安装位置与安装位置参考坐标不匹配，则对触点进行第二类型标记；若触点实时安装位置与安装位置参考坐标匹配，则分别获取触点与触点质量参考数据中对应触点相同的触点投影垂直参考平面下的触点实时投影形状质量数据以及在第一平面上的触点实时投影距离，并进行以下对比分析：若触点实时投影形状质量数据中在每个触点投影垂直参考平面上的投影边界均属于对应的触点方向投影参考范围，且触点实时投影距离属于对应的，则判断触点合格；反之则对触点进行第三类型标记。在本发明中，对于缺陷的实时检验考虑检验元器件安装位置、触脚安装位置以及触点的质量具有层次关系，因而可以分步进行，一方面实现有序的检测顺序提高检测效率，另一方面由于分步检测需要保证前一步骤的正确性才能进行下一步的实施，可以节省检验的时间，加快检验的效率。首先进行判断的是元器件的安装位置，元器件安装位置不正确会直接影响触脚的安装位置和触点的质量。其次是对触脚的安装位置进行判断。在触脚安装位置正确的情况下再对触点质量进行分析判断。对于触点的质量判断，考虑触点在形状质量以及距离质量上的任意一个质量缺陷就能导致触点的质量不合格，进而需要综合进行判断，尤其是形状质量，需要保证三个方向上的形状特征均符合要求才能判定形状质量合格。另外，考虑不同的质量缺陷会有不同的处理方式，且能够引导进行生产系统的调整，所以对不同的检测缺陷进行不同类型的标记，以为后续可视化提供更加直观的数据展示。第二方面，本发明提供一种PCBA板缺陷的可视化系统，应用于第一方面所说的一种PCBA板缺陷的可视化方法，包括图像采集单元，用于采集PCBA板的实时检测图像；数据处理单元，用于对获取的检验通过的同类型PCBA板数据进行元器件特征数据的提取，形成电路板检验基础数据；检验分析单元，用于获取图像采集单元采集的实时检测图像，并结合电路板检验基础数据进行对比分析，形成缺陷检验标记信息，并根据检验结果将检验通过的实时检验图像发送给数据处理单元；可视化输出单元，用于将检验分析单元形成的曲线检验标记信息输出显示。在本发明中，该系统通过图像采集单元获取同类型的PCBA板检测数据和实时PCBA板的图像数据，为后续的分析提供数据分析的基础。数据处理单元主要是进行同类型PCBA板的大数据分析，形成可以为后续对比分析参考的基础数据。检验分析单元，能够调用数据处理单元形成的基础数据与实时PCBA图像数据进行高效的对比分析，判断出实时PCBA板所存在的缺陷，进而实现对PCBA生产质量的把控。同时将检验合格的PCBA板数据提交给数据处理单元作为大数据分析的原始更新数据，以形成更加完善合理的基础数据。另外，可视化输出单元对缺陷检测结果进行输出显示，可以帮助进行直观的数据展示。本发明提供的一种PCBA板缺陷的可视化方法及系统的有益效果有：该方法通过获取同类型PCBA板的检验结果大数据，并进行大数据下的元器件安装特征数据的分析提取，形成的电路板检验基础数据能够给后续进行实时PCBA板的检测提供准确合理的基础对比数据。同时，在利用这些基础对比数据进行实时PCBA板的检测时，对不同的检测缺陷进行分类标记，便于对不同的缺陷问题进行辨别，进而方便为后续针对性的修复提供指引。另外，将检测获取的缺陷信息在图像数据中标记并输出，实现可视化的检测结果，直观高效的提供检验缺陷的信息，大大提高了缺陷检验的效率，同时也保证了产品的质量。该系统通过图像采集单元获取同类型的PCBA板检测数据和实时PCBA板的图像数据，为后续的分析提供数据分析的基础。数据处理单元主要是进行同类型PCBA板的大数据分析，形成可以为后续对比分析参考的基础数据。检验分析单元，能够调用数据处理单元形成的基础数据与实时PCBA图像数据进行高效的对比分析，判断出实时PCBA板所存在的缺陷，进而实现对PCBA生产质量的把控。同时将检验合格的PCBA板数据提交给数据处理单元作为大数据分析的原始更新数据，以形成更加完善合理的基础数据。另外，可视化输出单元对缺陷检测结果进行输出显示，可以帮助进行直观的数据展示。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本发明实施例提供的PCBA板缺陷的可视化方法的步骤图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行描述。印刷电路板，又称印制电路板，印刷线路板，常使用英文缩写PCB，是重要的电子部件，是电子元件的支撑体，是电子元器件线路连接的提供者。PCBA板上由于需要安装各种类型的电子元件，需要对每个电子元件进行安装检验，一方面保证电子元件的安装位置合理，另一方面保证电子元件在板面上的线路连接正确。随着科学技术的进步，对PCBA板的质量检测可以通过图像采集进行分析判断，但大多还是依靠人工进行分析确定，检测的效率较低，也耗费大量的人力成本，同时由于人工进行检测所带来的人为因素的差错，导致每批产品的合格率具有一定的限制性。参考图1，本发明实施例提供一种PCBA板缺陷的可视化方法，该方法通过获取同类型PCBA板的检验结果大数据，并进行大数据下的元器件安装特征数据的分析提取，形成的电路板检验基础数据能够给后续进行实时PCBA板的检测提供准确合理的基础对比数据。同时，在利用这些基础对比数据进行实时PCBA板的检测时，对不同的检测缺陷进行分类标记，便于对不同的缺陷问题进行辨别，进而方便为后续针对性的修复提供指引。另外，将检测获取的缺陷信息在图像数据中标记并输出，实现可视化的检测结果，直观高效的提供检验缺陷的信息，大大提高了缺陷检验的效率，同时也保证了产品的质量。PCBA板缺陷的可视化方法具体包括以下步骤：S1：获取同类型PCBA板检验结果数据，并根据检验结果数据进行元器件特征数据的提取，形成电路板检验基础数据。获取同类型PCBA板检验结果数据，并根据检验结果数据进行元器件特征数据的提取，形成电路板检验基础数据，包括：从同类型PCBA板检验结果数据中提取每个元器件的位置信息并进行元器件位置分析，形成元器件安装位置参考数据；从同类型PCBA板检验结果数据中获取每个元器件的触点位置信息并进行触点位置分析，形成触点安装位置参考数据；从同类型PCBA板检验结果数据中获取每个触点的质量信息并进行触点质量分析，形成触点质量参考数据；结合元器件安装位置参考数据、触点安装位置参考数据以及触点质量参考数据，形成电路板检验基础数据。基于同类型PCBA板检验结果数据进行大数据分析提取元器件的特征数据主要包括三个方面，一个方面是对PCBA板上的所有元器件的安装位置数据进行提取，元器件的安装位置信息决定了元器件的安装是否正确，对于影响后续的触点连接和电子电路的功能有着重要的作用。第二方面是每个元器件的触脚的位置，可以理解的是元器件是通过触脚与板面上的线路进行联通进而发挥元器件的功能作用。所以，对于触脚的安装位置确定是元器件能够正常运行且保证线路正确的基础。第三方面是触脚的触点连接情况，触点的质量决定了电连接的性能，是保证PCBA板能够高性能工作的基础前提。其中，从同类型PCBA板检验结果数据中提取每个元器件的位置信息并进行元器件位置分析，形成元器件安装位置参考数据，包括：对每个检验通过的同类型PCBA板，以板面为基础确定参考原点，并建立以参考原点为坐标原点以板面为第一平面的三维参考坐标系；根据三维参考坐标系，确定每个检验通过的同类型PCBA板上每个元器件的位置信息，并将相同的元器件的位置信息进行并运算，形成每个元器件的元器件安装位置参考数据。对于元器件安装位置数据的提取，主要考虑元器件相对在PCBA板上的位置，进而可以确保元器件上的触脚与连接线路的连接点能够对应。位置信息通过投影的方式来获取，并基于大数据分析获取到每个元器件相对在PCBA板上的合理包络安装范围。这里需要注意的是，要保证所有的同类型PCBA板所建立的坐标系是相同的，以板面上的位置作为原点建立可以实现这一目标，毕竟相对元器件，板面的形状和位置是唯一不变的。根据三维参考坐标系，确定每个检验通过的同类型PCBA板上每个元器件的位置信息，并将相同的元器件的位置信息进行并运算，形成每个元器件的元器件安装位置参考数据，包括：以第一平面为投影面，将同类型PCBA板上的每个元器件投影到第一平面上，形成元器件投影位置信息；根据元器件投影位置信息，确定每个元器件在第一平面上所投影形状的投影边界函数，其中，n表示不同的同类型PCBA板的编号，m表示同类型PCBA板上不同元器件的编号；获取所有相同元器件的投影边界函数/＞，形成元器件投影边界函数集，并进行以下并运算：建立复刻平面，将元器件投影边界函数集中的所有投影边界函数/＞复刻在复刻平面上；获取边界范围最大的不同曲线段，形成最大范围包络曲线；获取边界范围最小的不同曲线段，形成最小范围包络曲线；将最大范围包络曲线与最小范围包络曲线所界定的范围确定为元器件安装位置投影参考范围；结合所有元器件的元器件安装位置投影参考范围，形成元器件安装位置参考数据。对PCBA板上的元器件合理包络安装位置的提取通过获取每个检验通过的同类型PCBA板上元器件安装位置在面板上投影形成的边界线进行并集范围的计算取得。这里对于并集计算目的是确定在众多的边界曲线上相交后形成的最外围和最内侧的边界段分别所组成的边界范围，从而确定出边界范围的最小包络范围和最大包络范围，进而形成对应元器件的安装范围区间。从同类型PCBA板检验结果数据中获取每个元器件的触点位置信息并进行触点位置分析，形成触点安装位置参考数据，包括：对元器件的触脚进行编号，形成元器件触脚编号信息；对每个同类型PCBA板上的元器件，结合元器件触脚编号信息，确定每个元器件上对应编号的触脚在PCBA板上的安装位置参考坐标；结合所有同类型PCBA板上相同元器件上编号相同的触脚的安装位置参考坐标，形成触点安装位置参考数据。对触点安装位置的数据提取需要考虑的是，一方面触点用于将元器件上的触脚和板面上的连接线路的连接点连接，而由于线路连接的多样性，每个触脚的连接位置可以是不同的，因而大数据下可以获取到触脚可以连接的多个安装位置，另一方面由于触脚是属于元器件的电信号连接触脚，所以对于触脚的安装位置的确定以元器件为单位进行编号定位更加合理。当然，更加准确的方式是对每个元器件的所有触脚安装位置进行组合编号，毕竟当其中一个触脚的安装位置发生变化后，其他的触脚位置也会发生变化，单一的进行单个触脚的位置确定不能体现这种关联性，组合编号进行判断可以将这一检验项包含，进而更加准确的确定触脚安装位置的准确性和正确性。从同类型PCBA板检验结果数据中获取每个触点的质量信息并进行触点质量分析，形成触点质量参考数据，包括：对检验通过的同类型PCBA板上每个触点，在三维参考坐标系下建立任意的三个相互垂直的平面，确定为触点投影垂直参考平面；将触点分别投影到三个触点投影垂直参考平面上，形成触点投影参考信息；根据触点投影参考信息，进行触点投影形状质量分析，形成触点投影形状质量参考数据；在三维参考坐标系下，将同类型PCBA板上每个触点投影到第一平面上，形成第一平面触点投影参考信息；根据第一平面触点投影参考信息，进行触点距离质量分析，形成触点投影距离质量参考数据；结合触点投影形状质量参考数据和触点投影距离质量参考数据，形成触点质量参考数据。对触点质量的数据提取分为两个方面，一方面是形成的触电的形状的质量，触点形状的质量决定了触点的电连接性能，诸如电阻值、通断情况等。对于触点形状质量的数据，考虑触点为三维的实体对象，单一的方向的检验并不能完整的进行质量检测，因而本发明通过在三维坐标系下确定三个相互垂直的平面进行形状的投影来获得形状特征数据，进而能够更加准确合理的进行形状质量的判断。可以理解的是，由于PCBA板上有各种类型的元器件，每个元器件上触点的位置环境情况是不同的，因而针对每个触点所建立的三个相互垂直的平面不尽相同，可以根据触点周围的环境情况进行确定，以保证在每个垂直平面上的投影信息完整，避免被周围其他触点或者元器件所遮挡。另一方面是触点与周围触点或者线路之间的距离间隔，可以理解不合理的间隔可能导致不允许的电连接，进而造成对线路的损坏影响PCBA板的性能。所以对触点与周围电连接位置的间隔是重要的检测项。虽然触点周围存在较多的触点或者线路，但可以通过分析界定最小的间隔量就能够合理的保证触点的间隔质量。这里通过对触点进行基于板面的投影来对间隔信息进行提取，当然，考虑触点的安装方向和位置，在进行投影时可以以最大的投影面积方式进行投影，以更加保守准确的提取间隔质量数据。根据触点投影参考信息，进行触点投影形状质量分析，形成触点投影形状质量参考数据，包括：获取所有检验通过的同类型PCBA板上相同触点在相同方向上的触点投影参考信息，并进行并运算将并运算下投影边界范围最大的曲线段形成的最大范围和投影边界范围最小的曲线段形成的最小范围所限定的区间确定为触点方向投影参考范围；集合每个触点在三个触点投影垂直参考平面上的触点方向投影参考范围，形成触点质量参考数据。触点形状质量数据的获取也是通过对三个不同方向的垂直平面上的投影数据在每个方向上进行复刻并集计算，进而提取到最大的包络范围和最小的包括范围，从而形成合理的触点形状范围。根据第一平面触点投影参考信息，进行触点距离质量分析，形成触点投影距离质量参考数据，包括：对每个检验通过的同类型PCBA板，根据第一平面触点投影参考信息，确定每个触点与相邻触点之间的最小间距；获取所有检验通过的同类型PCBA板上相同触点的最小间距，形成触点最小间距集；根据触点最小间距集，确定触点的平均最小间距；根据触点最小间距集和平均最小间距，确定平均距离偏移量/＞，其中：/＞，，/＞表示不同PCBA板上对应的触电的最小间距。对于触点的距离数据可以以平均距离作为参考量，并在偏差量上进行平均化获得。可以理解的是，由于触点周围不同的距离情况，对于两种距离平均差值较大的可以分开进行，比如目标触点相对第一触点的距离的平均值和目标触点相对第二触点的距离平均值存在量级差距或者较大的距离差距，那么可以分别针对这两个相邻触点形成两组最小间距组委触点的距离质量数据，对于差距的判定可以基于大数据分析也可以根据实际经验和需要来确定。S2：获取PCBA板实时图像数据，并结合电路板检验基础数据进行对比分析，并进行缺陷标记，形成缺陷检验标记信息。获取PCBA板实时图像数据，并结合电路板检验基础数据进行对比分析，并进行缺陷标记，形成缺陷检验标记信息，包括：对PCBA板实时图像数据的实时检测图像进行提取，并在实时检测图像上建立三维参考坐标系；根据三维参考坐标系确定每个元器件的实时安装位置，并将实时安装位置投影到第一平面上，形成元器件实时投影位置，并提取元器件实时投影位置的元器件实时投影边界曲线；将元器件实时投影边界曲线与元器件安装位置参考数据中对应的元器件安装位置投影参考范围进行对比：若元器件实时投影边界曲线存在任意的部分不属于元器件安装位置投影参考范围，则将元器件进行第一类型标记；若元器件实时投影边界曲线属于元器件安装位置投影参考范围，则获取元器件的所有触点实时安装位置，并根据编号将每个触点的触点实时安装位置与触点安装位置参考数据中对应的安装位置参考坐标进行对比：若触点实时安装位置与安装位置参考坐标不匹配，则对触点进行第二类型标记；若触点实时安装位置与安装位置参考坐标匹配，则分别获取触点与触点质量参考数据中对应触点相同的触点投影垂直参考平面下的触点实时投影形状质量数据以及在第一平面上的触点实时投影距离，并进行以下对比分析：若触点实时投影形状质量数据中在每个触点投影垂直参考平面上的投影边界均属于对应的触点方向投影参考范围，且触点实时投影距离属于对应的，则判断触点合格；反之则对触点进行第三类型标记。对于缺陷的实时检验考虑检验元器件安装位置、触脚安装位置以及触点的质量具有层次关系，因而可以分步进行，一方面实现有序的检测顺序提高检测效率，另一方面由于分步检测需要保证前一步骤的正确性才能进行下一步的实施，可以节省检验的时间，加快检验的效率。首先进行判断的是元器件的安装位置，元器件安装位置不正确会直接影响触脚的安装位置和触点的质量。其次是对触脚的安装位置进行判断。在触脚安装位置正确的情况下再对触点质量进行分析判断。对于触点的质量判断，考虑触点在形状质量以及距离质量上的任意一个质量缺陷就能导致触点的质量不合格，进而需要综合进行判断，尤其是形状质量，需要保证三个方向上的形状特征均符合要求才能判定形状质量合格。另外，考虑不同的质量缺陷会有不同的处理方式，且能够引导进行生产系统的调整，所以对不同的检测缺陷进行不同类型的标记，以为后续可视化提供更加直观的数据展示。S3：根据缺陷检验标记信息，对PCBA板的实时检验图像进行不同缺陷的标记，形成缺陷可视化检验图像。通过可视化的输出显示，对于检测的缺陷表达更加直观。有利于高效的进行缺陷定位和分析。本发明还提供过一种PCBA板缺陷的可视化系统，该系统采用本发明提供的PCBA板缺陷的可视化方法，包括图像采集单元，用于采集PCBA板的实时检测图像；数据处理单元，用于对获取的检验通过的同类型PCBA板数据进行元器件特征数据的提取，形成电路板检验基础数据；检验分析单元，用于获取图像采集单元采集的实时检测图像，并结合电路板检验基础数据进行对比分析，形成缺陷检验标记信息，并根据检验结果将检验通过的实时检验图像发送给数据处理单元；可视化输出单元，用于将检验分析单元形成的曲线检验标记信息输出显示。该系统通过图像采集单元获取同类型的PCBA板检测数据和实时PCBA板的图像数据，为后续的分析提供数据分析的基础。数据处理单元主要是进行同类型PCBA板的大数据分析，形成可以为后续对比分析参考的基础数据。检验分析单元，能够调用数据处理单元形成的基础数据与实时PCBA图像数据进行高效的对比分析，判断出实时PCBA板所存在的缺陷，进而实现对PCBA生产质量的把控。同时将检验合格的PCBA板数据提交给数据处理单元作为大数据分析的原始更新数据，以形成更加完善合理的基础数据。另外，可视化输出单元对缺陷检测结果进行输出显示，可以帮助进行直观的数据展示。综上所述，本发明实施例提供的PCBA板缺陷的可视化方法及装置的有益效果有：该方法通过获取同类型PCBA板的检验结果大数据，并进行大数据下的元器件安装特征数据的分析提取，形成的电路板检验基础数据能够给后续进行实时PCBA板的检测提供准确合理的基础对比数据。同时，在利用这些基础对比数据进行实时PCBA板的检测时，对不同的检测缺陷进行分类标记，便于对不同的缺陷问题进行辨别，进而方便为后续针对性的修复提供指引。另外，将检测获取的缺陷信息在图像数据中标记并输出，实现可视化的检测结果，直观高效的提供检验缺陷的信息，大大提高了缺陷检验的效率，同时也保证了产品的质量。该系统通过图像采集单元获取同类型的PCBA板检测数据和实时PCBA板的图像数据，为后续的分析提供数据分析的基础。数据处理单元主要是进行同类型PCBA板的大数据分析，形成可以为后续对比分析参考的基础数据。检验分析单元，能够调用数据处理单元形成的基础数据与实时PCBA图像数据进行高效的对比分析，判断出实时PCBA板所存在的缺陷，进而实现对PCBA生产质量的把控。同时将检验合格的PCBA板数据提交给数据处理单元作为大数据分析的原始更新数据，以形成更加完善合理的基础数据。另外，可视化输出单元对缺陷检测结果进行输出显示，可以帮助进行直观的数据展示。本发明中，“至少一个”是指一个或者多个，“多个”是指两个或两个以上。“以下至少一项”或其类似表达，是指的这些项中的任意组合，包括单项或复数项的任意组合。例如，a,b,或c中的至少一项，可以表示：a, b, c, a-b, a-c, b-c, 或a-b-c，其中a,b,c可以是单个，也可以是多个。应理解，在本发明的各种实施例中，上述各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及方法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统、装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本发明所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上实施例仅表达了本发明的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干变形和改进，这些都属于本发明的保护范围。因此，本发明专利的保护范围应以所附权利要求为准。
