标题title
一种自回正无人船及控制方法
摘要abst
本发明公开了一种自回正无人船及控制方法，解决了现有技术实现船体调整时船体不容易单人携带作业，且船体吃水深度也会因为配重块的原因更深，无法基于船体倾斜度对船体潜在倾覆风险进行预测应对，使得外置的ADCP设备损坏的问题，方法包括：采集无人船体的实时状态数据，执行预构建的状态预测模型，状态预测模型输出预测姿态量；判断预测姿态量是否小于第一阈值，判断预测姿态量是否小于第二阈值，获取第一控制指令、第二控制指令或第三控制指令，执行船体自回正指令；本发明通过采集无人船体的实时状态数据，然后对实时状态数据进行分析和判断，从而为自回正模块驱动多组回正喷泵工作提供决策支持。
权利要求书clms
1.一种自回正无人船控制方法，其特征在于，所述自回正无人船控制方法包括：采集无人船体的实时状态数据，对实时状态数据进行预处理，并将实时状态数据上传至回正分析模块；获取无人船体的实时状态数据，以实时状态数据为输入，执行预构建的状态预测模型，状态预测模型输出预测姿态量；获取预测姿态量，判断预测姿态量是否小于第一阈值，若小于第一阈值，生成第一控制指令，若大于第一阈值，判断预测姿态量是否小于第二阈值，若小于第二阈值，生成第二控制指令，若大于第二阈值，则生成第三控制指令；获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令；所述执行预构建的状态预测模型，状态预测模型输出预测姿态量的方法，具体包括：获取倾斜度数据，状态预测模型对倾斜度数据进行数据转换，得到倾斜转换向量；其中，为倾斜采集时刻/＞采集的无人船体不同倾斜采集位置的倾斜度数据，而/＞为数据转换幅度值，/＞为数据变换的维度，/＞的取值范围为1-4，而/＞则为倾斜采集位置的权重，/＞为倾斜转换向量，/＞为无人船体倾斜采集位置数量的上限值，为求和上限值，/＞表示无人船体倾斜采集位置变量的下限值，而/＞表示起始第一组无人船体倾斜采集位置至求和上限/＞的所有倾斜度数据的和；其中，为倾斜采集时刻/＞采集的无人船体不同倾斜采集位置的倾斜度数据，而/＞为采用中值滤波法对的倾斜度数据进行预处理后的波浪中值，/＞为数据转换曲率，其取值范围为0.1-0.35;加载所述倾斜转换向量以及预测补偿因子，基于状态预测模型计算船体当前姿态量；其中，为理想姿态量，/＞为无人船体倾斜采集位置数量的上限值，而/＞则为倾斜采集位置的权重系数和，/＞为船体倾斜风险指数；其中，为无人船体倾斜采集位置的初始倾斜风险值，/＞为无人船体倾斜采集位置数量的上限值，而/＞则为倾斜采集位置的权重，/＞为无人船体倾斜风险常量，其取值范围为1-5；其中，为姿态补偿量，/＞为倾斜采集位置的预测补偿因子，而/＞则为倾斜采集位置的权重；以船体当前姿态量以及姿态补偿量为输入，确定船体的预测姿态量；；其中，为船体的预测姿态量，而/＞为倾斜采集位置的预测补偿因子，而/＞则为倾斜采集位置的权重。2.如权利要求1所述的自回正无人船控制方法，其特征在于：所述采集无人船体的实时状态数据，对实时状态数据进行预处理的方法，具体包括：在各倾斜采集时刻同步采集无人船体不同倾斜采集位置的倾斜度数据以及不同波浪采集位置的波浪数据/＞；获取各倾斜采集时刻同步采集的波浪数据，对波浪数据进行预处理，基于预处理后的波浪数据得到预测补偿因子；对各倾斜采集时刻同步采集无人船体不同倾斜采集位置的倾斜度数据进行清洗去噪，得到去噪后的倾斜度数据。3.如权利要求2所述的自回正无人船控制方法，其特征在于：所述采集无人船体的实时状态数据，对实时状态数据进行预处理的方法，具体还包括：加载无人船体三维坐标信息、倾斜度数据以及预测补偿因子，采用基于模糊隶属度的加权平均法生成船体倾斜监测模型，并将船体倾斜监测模型实时呈现至后台服务器。4.如权利要求3所述的自回正无人船控制方法，其特征在于：所述对波浪数据进行预处理，基于预处理后的波浪数据得到预测补偿因子的方法，具体包括：获取不同波浪采集位置的波浪数据，基于删除法、替换法或插值法对波浪数据进行缺失值预处理；对缺失值预处理后的波浪数据进行线性变换，使最终结果映射为的范围，实现对波浪数据的等比缩放；采用中值滤波法对的波浪数据进行预处理，得到波浪中值，并计算波浪数据的标准值；加载波浪中值以及波浪数据的标准值，计算单组波浪数据的波浪中值与标准值的绝对差值，得到预测补偿值；加载预测补偿值以及波浪中值，计算预测补偿值与波浪中值的比值作为波浪数据的预测补偿因子。5.如权利要求4所述的自回正无人船控制方法，其特征在于：所述采用基于模糊隶属度的加权平均法生成船体倾斜监测模型的方法，具体包括：获取无人船体三维坐标信息，基于无人船体三维坐标信息生成无人船三维坐标模型；遍历无人船体历史状态数据，其中，无人船历史状态数据从后台服务器获取；基于模糊隶属度对无人船体多组倾斜采集位置以及波浪采集位置进行初始赋权，确定至少一组包含权重的船体采集点；加载倾斜度数据以及预测补偿因子，对预测补偿因子以及倾斜度数据进行加权平均，得到权重修改后的船体倾斜监测模型。6.如权利要求5所述的自回正无人船控制方法，其特征在于：所述状态预测模型的构建方法，具体包括：遍历无人船体历史状态数据，提取无人船体历史状态数据中倾斜度数据以及预测补偿因子；构建基于深度学习的神经网络模型，所述神经网络模型用于处理无人船体历史状态数据中倾斜度数据以及预测补偿因子，对神经网络模型进行N轮迭代训练至模型收敛；以无人船体历史状态数据中倾斜度数据为输入，神经网络模型的卷积层中不同尺寸的卷积核对倾斜度数据进行特征提取，得到卷积层输出向量；加载预测补偿因子，以预测补偿因子为输入，神经网络模型的上采样层对预测补偿因子进行非线性映射，获得上采样输出向量；加载卷积层输出向量以及上采样输出向量，将卷积层输出向量以及上采样输出向量注入至神经网络模型的全连接层进行拼接，获得状态预测拼接向量。7.如权利要求6所述的自回正无人船控制方法，其特征在于：所述状态预测模型的构建方法，具体还包括：基于神经网络模型的激活函数对状态预测拼接向量进行处理，得到预测姿态量，判断预测姿态量是否大于预设预测精度，若大于预测精度，停止模型训练，输出状态预测模型；若小于预测精度，调整神经网络模型的超参数，对神经网络模型进行更新，重启N轮迭代训练所述神经网络模型至模型收敛。8.如权利要求7所述的自回正无人船控制方法，其特征在于：所述获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令的方法，具体包括：解析第一控制指令、第二控制指令或第三控制指令；基于指令信息计算回正喷泵的喷射角度和喷射功率，并将回正喷泵的喷射角度和喷射功率反馈至自回正模块；自回正模块驱动多组回正喷泵工作，执行船体自回正工作。9.一种自回正无人船，采用如权利要求1-8任一所述的自回正无人船控制方法实施，其特征在于：所述自回正无人船包括：无人船体；设置在所述无人船体上的动力推进模块，所述动力推进模块用于推进所述无人船体移动；数据采集模块，所述数据采集模块内置于所述无人船体内，数据采集模块用于获取所述无人船体的实时状态数据，并将实时状态数据上传至回正分析模块；回正分析模块，所述回正分析模块用于获取无人船体的实时状态数据，以实时状态数据为输入，执行预构建的状态预测模型，状态预测模型输出预测姿态量；姿态判断模块，所述姿态判断模块用于判断预测姿态量是否小于第一阈值，若小于第一阈值，生成第一控制指令，若大于第一阈值，判断预测姿态量是否小于第二阈值，若小于第二阈值，生成第二控制指令，若大于第二阈值，则生成第三控制指令；自回正模块，所述自回正模块用于获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令。
说明书desc
技术领域本发明属于无人船技术领域，具体涉及一种自回正无人船及控制方法。背景技术无人船是一种可以无需遥控，借助精确卫星定位和自身传感即可按照预设任务在水面航行的全自动水面机器人，英文缩写为USV。无人船可以应用于智慧水域管理、海洋工程、公共安全、科技文旅等领域，但是由于无人船的排水量很小，吃水较浅，特别容易受到水面波浪的影响，从而无法维持稳定的姿态。而现有无人船无自回正功能，若在海洋中行驶时，若有大风大浪等情况，容易出现侧翻等情况，若侧翻时容易造成船舱内进水损坏内部元器件。而现有技术通常采用的不倒翁原理，即通过配重块及姿态角度测量仪的形式，姿态角度测量仪通过测算角度的偏差，配重块通过滑轨的形式配至另外一侧进行配重，以防止船体倾覆；但是采用现有技术实现船体调整时船体不容易单人携带作业，且船体吃水深度也会因为配重块的原因更深，无法基于船体倾斜度对船体潜在倾覆风险进行预测应对，使得外置的ADCP设备损坏，为了解决上述问题，我们提出了一种自回正无人船及控制方法。发明内容本发明的目的在于针对现有技术的不足之处，提供一种自回正无人船及控制方法，解决了现有技术实现船体调整时船体不容易单人携带作业，且船体吃水深度也会因为配重块的原因更深，无法基于船体倾斜度对船体潜在倾覆风险进行预测应对，使得外置的ADCP设备损坏的问题。现有技术实现船体调整时船体不容易单人携带作业，且船体吃水深度也会因为配重块的原因更深，无法基于船体倾斜度对船体潜在倾覆风险进行预测应对，使得外置的ADCP设备损坏，为了解决上述问题，我们提出了一种自回正无人船及控制方法，简而言之，所述方法包括采集无人船体的实时状态数据，对实时状态数据进行预处理，以实时状态数据为输入，执行预构建的状态预测模型，状态预测模型输出预测姿态量，判断预测姿态量是否小于第一阈值、第二阈值以及对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令。本发明实施例通过采集无人船体的实时状态数据，然后对实时状态数据进行分析和判断，从而为自回正模块驱动多组回正喷泵工作提供决策支持，同时本发明实施例还能通过实时状态数据计算船体当前姿态，并基于船体当前姿态评估船体的预测姿态，从而避免船体受到外力冲击时发生侧翻，也能对船体外置的ADCP设备进行充分的保护，保证无人船体的正常稳定工作。本发明是这样实现的，一种自回正无人船，所述自回正无人船控制方法包括：采集无人船体的实时状态数据，对实时状态数据进行预处理，并将实时状态数据上传至回正分析模块；获取无人船体的实时状态数据，以实时状态数据为输入，执行预构建的状态预测模型，状态预测模型输出预测姿态量；获取预测姿态量，判断预测姿态量是否小于第一阈值，若小于第一阈值，生成第一控制指令，若大于第一阈值，判断预测姿态量是否小于第二阈值，若小于第二阈值，生成第二控制指令，若大于第二阈值，则生成第三控制指令；获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令。优选地，所述采集无人船体的实时状态数据，对实时状态数据进行预处理的方法，具体包括：在各倾斜采集时刻同步采集无人船体不同倾斜采集位置的倾斜度数据以及不同波浪采集位置的波浪数据/＞；获取各倾斜采集时刻同步采集的波浪数据，对波浪数据进行预处理，基于预处理后的波浪数据得到预测补偿因子；对各倾斜采集时刻同步采集无人船体不同倾斜采集位置的倾斜度数据进行清洗去噪，得到去噪后的倾斜度数据。优选地，所述采集无人船体的实时状态数据，对实时状态数据进行预处理的方法，具体还包括：加载无人船体三维坐标信息、倾斜度数据以及预测补偿因子，采用基于模糊隶属度的加权平均法生成船体倾斜监测模型，并将船体倾斜监测模型实时呈现至后台服务器。优选地，所述对波浪数据进行预处理，基于预处理后的波浪数据得到预测补偿因子的方法，具体包括：获取不同波浪采集位置的波浪数据，基于删除法、替换法或插值法对波浪数据进行缺失值预处理；对缺失值预处理后的波浪数据进行线性变换，使最终结果映射为的范围，实现对波浪数据的等比缩放；采用中值滤波法对的波浪数据进行预处理，得到波浪中值，并计算波浪数据的标准值；加载波浪中值以及波浪数据的标准值，计算单组波浪数据的波浪中值与标准值的绝对差值，得到预测补偿值；加载预测补偿值以及波浪中值，计算预测补偿值与波浪中值的比值作为波浪数据的预测补偿因子。优选地，所述采用基于模糊隶属度的加权平均法生成船体倾斜监测模型的方法，具体包括：获取无人船体三维坐标信息，基于无人船体三维坐标信息生成无人船三维坐标模型；遍历无人船体历史状态数据，其中，无人船历史状态数据从后台服务器获取；基于模糊隶属度对无人船体多组倾斜采集位置以及波浪采集位置进行初始赋权，确定至少一组包含权重的船体采集点；加载倾斜度数据以及预测补偿因子，对预测补偿因子以及倾斜度数据进行加权平均，得到权重修改后的船体倾斜监测模型。优选地，所述状态预测模型的构建方法，具体包括：遍历无人船体历史状态数据，提取无人船体历史状态数据中倾斜度数据以及预测补偿因子；构建基于深度学习的神经网络模型，所述神经网络模型用于处理无人船体历史状态数据中倾斜度数据以及预测补偿因子，对神经网络模型进行N轮迭代训练至模型收敛；以无人船体历史状态数据中倾斜度数据为输入，神经网络模型的卷积层中不同尺寸的卷积核对倾斜度数据进行特征提取，得到卷积层输出向量；加载预测补偿因子，以预测补偿因子为输入，神经网络模型的上采样层对预测补偿因子进行非线性映射，获得上采样输出向量；加载卷积层输出向量以及上采样输出向量，将卷积层输出向量以及上采样输出向量注入至神经网络模型的全连接层进行拼接，获得状态预测拼接向量。优选地，所述状态预测模型的构建方法，具体还包括：基于神经网络模型的激活函数对状态预测拼接向量进行处理，得到预测姿态量，判断预测姿态量是否大于预设预测精度，若大于预测精度，停止模型训练，输出状态预测模型；若小于预测精度，调整神经网络模型的超参数，对神经网络模型进行更新，重启N轮迭代训练所述神经网络模型至模型收敛。优选地，所述执行预构建的状态预测模型，状态预测模型输出预测姿态量的方法，具体包括：获取倾斜度数据，状态预测模型对倾斜度数据进行数据转换，得到倾斜转换向量；其中，为倾斜采集时刻/＞采集的无人船体不同倾斜采集位置的倾斜度数据，而为数据转换幅度值，/＞为数据变换的维度，/＞的取值范围为1-4，而/＞则为倾斜采集位置的权重，/＞为倾斜转换向量，/＞为无人船体倾斜采集位置数量的上限值，为求和上限值，表示无人船体倾斜采集位置变量的下限值，而/＞表示起始第一组无人船体倾斜采集位置至求和上限/＞的所有倾斜度数据的和；其中，为倾斜采集时刻/＞采集的无人船体不同倾斜采集位置的倾斜度数据，而/＞为采用中值滤波法对的倾斜度数据进行预处理后的波浪中值，/＞为数据转换曲率，其取值范围为0.1-0.35;加载所述倾斜转换向量以及预测补偿因子，基于状态预测模型计算船体当前姿态量；其中，为理想姿态量，/＞为无人船体倾斜采集位置数量的上限值，而/＞则为倾斜采集位置的权重系数和，/＞为船体倾斜风险指数；其中，为无人船体倾斜采集位置的初始倾斜风险值，/＞为无人船体倾斜采集位置数量的上限值，而/＞则为倾斜采集位置的权重，/＞为无人船体倾斜风险常量，其取值范围为1-5；其中，为姿态补偿量，/＞为倾斜采集位置的预测补偿因子，而/＞则为倾斜采集位置的权重；以船体当前姿态量以及姿态补偿量为输入，确定船体的预测姿态量；；其中，为船体的预测姿态量，而/＞为倾斜采集位置的预测补偿因子，而/＞则为倾斜采集位置的权重。优选地，所述获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令的方法，具体包括：解析第一控制指令、第二控制指令或第三控制指令；基于指令信息计算回正喷泵的喷射角度和喷射功率，并将回正喷泵的喷射角度和喷射功率反馈至自回正模块；自回正模块驱动多组回正喷泵工作，执行船体自回正工作。另一方面，本发明还提供了一种自回正无人船，采用所述的自回正无人船控制方法实施，所述自回正无人船包括：无人船体；设置在所述无人船体上的动力推进模块，所述动力推进模块用于推进所述无人船体移动；数据采集模块，所述数据采集模块内置于所述无人船体内，数据采集模块用于获取所述无人船体的实时状态数据，并将实时状态数据上传至回正分析模块；回正分析模块，所述回正分析模块用于获取无人船体的实时状态数据，以实时状态数据为输入，执行预构建的状态预测模型，状态预测模型输出预测姿态量；姿态判断模块，所述姿态判断模块用于判断预测姿态量是否小于第一阈值，若小于第一阈值，生成第一控制指令，若大于第一阈值，判断预测姿态量是否小于第二阈值，若小于第二阈值，生成第二控制指令，若大于第二阈值，则生成第三控制指令；自回正模块，所述自回正模块用于获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令。与现有技术相比，本申请实施例主要有以下有益效果：本发明实施例通过采集无人船体的实时状态数据，然后对实时状态数据进行分析和判断，从而为自回正模块驱动多组回正喷泵工作提供决策支持，同时本发明实施例还能通过实时状态数据计算船体当前姿态，并基于船体当前姿态评估船体的预测姿态，从而避免船体受到外力冲击时发生侧翻，也能对船体外置的ADCP设备进行充分的保护，保证无人船体的正常稳定工作。本发明实施例通过对实时状态数据进行预处理，一方面能够有效提取采集到的实时状态数据，为评估船体当前姿态以及预测姿态提供数据支持，从而保证了自回正模块精准作业，避免无人船体出现侧翻的现象，另一方面还能生成船体倾斜监测模型，并将船体倾斜监测模型实时呈现至后台服务器，实现对无人船体状态的实时监测。本发明实施例中预测补偿因子的获取能够保证状态预测模型评估无人船体状态时减小误差、提高预测精度而引入的一种修正因子，且本发明中预测补偿因子的获取基于波浪数据获取，有利于对无人船体状态进行精准的评估分析。本发明实施例通过状态预测模型计算当前时刻无人船体的当前姿态量，从而为自回正模块工作提供决策依据，同时状态预测模型还考量了以玻璃数据为基础的姿态补偿量来校正当前姿态量，最终确定船体的预测姿态量，从而降低了无人船体行驶过程中侧翻的风险。附图说明图1是本发明提供的自回正无人船控制方法的实现流程示意图。图2是本发明提供的采集无人船体的实时状态数据，对实时状态数据进行预处理方法的实现流程示意图。图3是本发明提供的对波浪数据进行预处理，基于预处理后的波浪数据得到预测补偿因子方法的实现流程示意图。图4是本发明提供的采用基于模糊隶属度的加权平均法生成船体倾斜监测模型方法的实现流程示意图。图5是本发明提供的状态预测模型构建方法的实现流程示意图。图6是本发明提供的执行预构建的状态预测模型，状态预测模型输出预测姿态量方法的实现流程示意图。图7是本发明提供的获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令方法的实现流程示意图。图8是本发明提供的自回正无人船的模块连接示意图。图9是本发明提供的自回正无人船的结构示意图。具体实施方式除非另有定义，本文所使用的所有的技术和科学术语与属于本申请技术领域的技术人员通常理解的含义相同；本文中在申请的说明书中所使用的术语只是为了描述具体的实施例的目的，不是旨在于限制本申请；本申请的说明书和权利要求书及上述附图说明中的术语“包括”和“具有”以及它们的任何变形，意图在于覆盖不排他的包含。本申请的说明书和权利要求书或上述附图中的术语“第一”、“第二”等是用于区别不同对象，而不是用于描述特定顺序。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。现有技术实现船体调整时船体不容易单人携带作业，且船体吃水深度也会因为配重块的原因更深，无法基于船体倾斜度对船体潜在倾覆风险进行预测应对，使得外置的ADCP设备损坏，为了解决上述问题，我们提出了一种自回正无人船及控制方法，简而言之，所述方法包括采集无人船体100的实时状态数据，对实时状态数据进行预处理，以实时状态数据为输入，执行预构建的状态预测模型，状态预测模型输出预测姿态量，判断预测姿态量是否小于第一阈值、第二阈值以及对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令。本发明实施例通过采集无人船体100的实时状态数据，然后对实时状态数据进行分析和判断，从而为自回正模块600驱动多组回正喷泵工作提供决策支持，同时本发明实施例还能通过实时状态数据计算船体当前姿态，并基于船体当前姿态评估船体的预测姿态，从而避免船体受到外力冲击时发生侧翻，也能对船体外置的ADCP设备进行充分的保护，保证无人船体100的正常稳定工作。本发明实施例提供了一种自回正无人船控制方法，图1示出了所述自回正无人船控制方法的实现流程示意图，所述自回正无人船控制方法，具体包括：步骤S10，采集无人船体100的实时状态数据，对实时状态数据进行预处理，并将实时状态数据上传至回正分析模块400；需要说明的是，本发明中无人船体100的实时状态数据包括但不限于无人船体100的倾斜度、波浪数据、吃水位置、无人船体100行驶速度以及无人船体100绝对风速。步骤S20，获取无人船体100的实时状态数据，以实时状态数据为输入，执行预构建的状态预测模型，状态预测模型输出预测姿态量；步骤S30，获取预测姿态量，判断预测姿态量是否小于第一阈值，若小于第一阈值，生成第一控制指令，若大于第一阈值，判断预测姿态量是否小于第二阈值，若小于第二阈值，生成第二控制指令，若大于第二阈值，则生成第三控制指令；步骤S40，获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令。本发明实施例通过采集无人船体100的实时状态数据，然后对实时状态数据进行分析和判断，从而为自回正模块600驱动多组回正喷泵工作提供决策支持，同时本发明实施例还能通过实时状态数据计算船体当前姿态，并基于船体当前姿态评估船体的预测姿态，从而避免船体受到外力冲击时发生侧翻，也能对船体外置的ADCP设备进行充分的保护，保证无人船体100的正常稳定工作。本发明实施例提供了采集无人船体100的实时状态数据，对实时状态数据进行预处理的方法，图2示出了所述采集无人船体100的实时状态数据，对实时状态数据进行预处理方法的实现流程示意图，所述采集无人船体100的实时状态数据，对实时状态数据进行预处理的方法，具体包括：步骤S101，在各倾斜采集时刻同步采集无人船体100不同倾斜采集位置的倾斜度数据以及不同波浪采集位置的波浪数据/＞；需要说明的是，倾斜采集时刻可以以5-10ms为采集周期，对无人船体100不同倾斜采集位置的倾斜度数据以及不同波浪采集位置的波浪数据进行采集，而倾斜度数据可以为无人船体100上设置的/＞个采集点在时间为/＞时的倾斜度数据，而采集点的布置方式可以为无人船体100前侧、后侧以及中间均布设置，也可以呈周向沿无人船体100外侧布置。在本实施例中，倾斜度数据采集设备可以为姿态角度测量仪、倾角传感器，而波浪数据的采集设备可以为WaveFinder和海浪探测雷达。WaveFinder是一种基于雷达的干燥传感器，在所有天气条件下均以毫米精度进行测量。步骤S102，获取各倾斜采集时刻同步采集的波浪数据，对波浪数据进行预处理，基于预处理后的波浪数据得到预测补偿因子；步骤S103，对各倾斜采集时刻同步采集无人船体100不同倾斜采集位置的倾斜度数据进行清洗去噪，得到去噪后的倾斜度数据。需要说明的是，对各倾斜采集时刻同步采集无人船体100不同倾斜采集位置的倾斜度数据进行清洗去噪时可以采用标准差去噪、分箱去噪、dbscan去噪、孤立森林实现对倾斜度数据的清洗去噪，同样也可以采用以上方式对波浪数据进行处理。步骤S104，加载无人船体100三维坐标信息、倾斜度数据以及预测补偿因子，采用基于模糊隶属度的加权平均法生成船体倾斜监测模型，并将船体倾斜监测模型实时呈现至后台服务器。本发明实施例通过对实时状态数据进行预处理，一方面能够有效提取采集到的实时状态数据，为评估船体当前姿态以及预测姿态提供数据支持，从而保证了自回正模块600精准作业，避免无人船体100出现侧翻的现象，另一方面还能生成船体倾斜监测模型，并将船体倾斜监测模型实时呈现至后台服务器，实现对无人船体100状态的实时监测。本发明实施例提供了对波浪数据进行预处理，基于预处理后的波浪数据得到预测补偿因子的方法，图3示出了所述对波浪数据进行预处理，基于预处理后的波浪数据得到预测补偿因子方法的实现流程示意图，所述对波浪数据进行预处理，基于预处理后的波浪数据得到预测补偿因子的方法，具体包括：步骤S1021，获取不同波浪采集位置的波浪数据，基于删除法、替换法或插值法对波浪数据进行缺失值预处理；步骤S1022，对缺失值预处理后的波浪数据进行线性变换，使最终结果映射为的范围，实现对波浪数据的等比缩放；在本实施例中，对缺失值预处理后的波浪数据进行线性变换可以采用Min-Max标准化、字符串等离散型数据处理，从而使最终结果映射为的范围，能够降低系统的处理负载，并提高数据处理效率。步骤S1023，采用中值滤波法对的波浪数据进行预处理，得到波浪中值，并计算波浪数据的标准值；在本实施例中，波浪数据标准值则是反映波浪数据数据的离散程度的一种量度，标准值是通过采用多种可靠的分析方法，由具有丰富经验的分析人员经过反复多次测定得出的比较准确的结果。最常见的标准值包括均值、方差以及标准差。在本实施例中，采用标准差作为波浪数据的标准值。步骤S1024，加载波浪中值以及波浪数据的标准值，计算单组波浪数据的波浪中值与标准值的绝对差值，得到预测补偿值；步骤S1025，加载预测补偿值以及波浪中值，计算预测补偿值与波浪中值的比值作为波浪数据的预测补偿因子。在本实施例中，本发明实施例中预测补偿因子的获取能够保证状态预测模型评估无人船体100状态时减小误差、提高预测精度而引入的一种修正因子，且本发明中预测补偿因子的获取基于波浪数据获取，有利于对无人船体100状态进行精准的评估分析。本发明实施例提供了采用基于模糊隶属度的加权平均法生成船体倾斜监测模型的方法，图4示出了所述采用基于模糊隶属度的加权平均法生成船体倾斜监测模型方法的实现流程示意图，所述采用基于模糊隶属度的加权平均法生成船体倾斜监测模型的方法，具体包括：步骤S1041，获取无人船体100三维坐标信息，基于无人船体100三维坐标信息生成无人船三维坐标模型；需要说明的是，无人船体100三维坐标建立过程中，首先要确定原点的位置，在本实施例中，三维坐标原点通常设在船只的中心点上，具体位置则在船只处于正浮状态时确定，这个原点与船只的几何中心大致重合，但也可能因为船只的不对称性而有所偏离。而本实施例中无人船三维坐标模型的构建可以采用实体建模、平面图像渲染、参数化建模或点线面建模方法构建。步骤S1042，遍历无人船体100历史状态数据，其中，无人船历史状态数据从后台服务器获取；在本实施例中，在后台服务器内可以存储有无人船体100运行时上传的历史状态数据，包括但不限于无人船体100的倾斜度、波浪数据、吃水位置、无人船体100行驶速度、自回正模块600控制指令、喷泵工作参数以及无人船体100绝对风速。步骤S1043，基于模糊隶属度对无人船体100多组倾斜采集位置以及波浪采集位置进行初始赋权，确定至少一组包含权重的船体采集点；需要说明的是，本实施例中无人船体100多组倾斜采集位置以及波浪采集位置可以为组合式采集点，即采集点可以同时采集倾斜度以及波浪数据，而对倾斜采集位置以及波浪采集位置进行初始赋权时，可以采用全零初始化、随机初始化、Xavier初始化和Kaiming初始化等实现对采集点的赋权，而在步骤S1044基于预测补偿因子以及倾斜度数据进行加权平均能够保证采集点权重的真实有效，为船体倾斜监测模型以及状态预测模型提供前期数据支持，也提高了船体倾斜监测模型以及状态预测模型的建模效率和速度。步骤S1044，加载倾斜度数据以及预测补偿因子，对预测补偿因子以及倾斜度数据进行加权平均，得到权重修改后的船体倾斜监测模型。本发明实施例通过对预测补偿因子以及倾斜度数据进行加权平均，得到权重修改后的船体倾斜监测模型能够在后台服务器实时呈现，从而保证了对船体状态的实时监测，在船体出现不可控因素干扰时人为介入提供数据支持。本发明实施例提供了状态预测模型的构建方法，图5示出了所述状态预测模型构建方法的实现流程示意图，所述状态预测模型的构建方法，具体包括：步骤S201，遍历无人船体100历史状态数据，提取无人船体100历史状态数据中倾斜度数据以及预测补偿因子；步骤S202，构建基于深度学习的神经网络模型，所述神经网络模型用于处理无人船体100历史状态数据中倾斜度数据以及预测补偿因子，对神经网络模型进行N轮迭代训练至模型收敛；在本实施例中，使用无人船体100历史状态数据中训练数据训练模型，同时可以将无人船体100历史状态数据以7:3的比例划分为训练数据和验证数据。在每个epoch之后，使用验证数据评估模型性能。监控损失和准确性等指标，以确定模型是否过拟合或欠拟合。步骤S203，以无人船体100历史状态数据中倾斜度数据为输入，神经网络模型的卷积层中不同尺寸的卷积核对倾斜度数据进行特征提取，得到卷积层输出向量；步骤S204，加载预测补偿因子，以预测补偿因子为输入，神经网络模型的上采样层对预测补偿因子进行非线性映射，获得上采样输出向量；步骤S205，加载卷积层输出向量以及上采样输出向量，将卷积层输出向量以及上采样输出向量注入至神经网络模型的全连接层进行拼接，获得状态预测拼接向量。步骤S206，基于神经网络模型的激活函数对状态预测拼接向量进行处理，得到预测姿态量；步骤S207，判断预测姿态量是否大于预设预测精度，在本实施例中，所述预测精度为预设的预测精度，其实评判模型精准的重要依据，可以为0.9-0.95；步骤S208，若大于预测精度，停止模型训练，输出状态预测模型；步骤S209，若小于预测精度，调整神经网络模型的超参数，对神经网络模型进行更新，返回步骤S202，重启N轮迭代训练所述神经网络模型至模型收敛。在本实施例中，状态预测模型包括至少一组卷积层、上采样层、全连接层，且卷积层与上采样层连接，上采样层与全连接层连接，卷积层设置有三段卷积，每段所述的卷积分别设置有64、128、256个3*3*3的卷积核，而在步骤S202中，采样基于萤火虫算法对神经网络模型进行训练，训练的轮次可以为100-1000次，同时，在模型训练过程中，调整神经网络模型的超参数可以采用小批量梯度下降算法进行调整优化。本发明实施例提供了执行预构建的状态预测模型，状态预测模型输出预测姿态量的方法，图6示出了所述执行预构建的状态预测模型，状态预测模型输出预测姿态量方法的实现流程示意图，所述执行预构建的状态预测模型，状态预测模型输出预测姿态量的方法，具体包括：步骤S301，获取倾斜度数据，状态预测模型对倾斜度数据进行数据转换，得到倾斜转换向量；其中，为倾斜采集时刻/＞采集的无人船体100不同倾斜采集位置的倾斜度数据，在本实施例中，/＞的取值范围为0-180°，而/＞为数据转换幅度值，/＞为数据变换的维度，的取值范围为1-4，而/＞则为倾斜采集位置的权重，/＞的求取方法在上述步骤中对预测补偿因子以及倾斜度数据进行加权平均，得到权重修改后的船体倾斜监测模型求得，/＞为倾斜转换向量，/＞为无人船体100倾斜采集位置数量的上限值，为求和上限值，/＞表示无人船体100倾斜采集位置变量的下限值，而/＞表示起始第一组无人船体100倾斜采集位置至求和上限/＞的所有倾斜度数据的和，在本实施例中无人船体100倾斜采集位置数量的上限值可以为1-20；其中，为倾斜采集时刻/＞采集的无人船体100不同倾斜采集位置的倾斜度数据，而/＞为采用中值滤波法对的倾斜度数据进行预处理后的波浪中值，/＞为数据转换曲率，其取值范围为0.1-0.35;步骤S302，加载所述倾斜转换向量以及预测补偿因子，基于状态预测模型计算船体当前姿态量；其中，为理想姿态量，/＞为无人船体100倾斜采集位置数量的上限值，而/＞则为倾斜采集位置的权重系数和，在本实施例中，不同倾斜采集位置的权重是不同的，而权重系数和为当前时刻无人船体100总的倾斜权重系数，其可以为线性组合系数，计算线性组合系数矩阵和综合得分系数，公式分别为：loading矩阵/Sqrt 和累积/累积方差解释率，/＞为船体倾斜风险指数；其中，为无人船体100倾斜采集位置的初始倾斜风险值，在本实施例中，初始倾斜风险值可以为0.1-0.5，/＞为无人船体100倾斜采集位置数量的上限值，而/＞则为倾斜采集位置的权重，/＞为无人船体100倾斜风险常量，其取值范围为1-5。/＞其中，为姿态补偿量，/＞为倾斜采集位置的预测补偿因子，而/＞则为倾斜采集位置的权重；步骤S303，以船体当前姿态量以及姿态补偿量为输入，确定船体的预测姿态量；；其中，为船体的预测姿态量，而/＞为倾斜采集位置的预测补偿因子，而/＞则为倾斜采集位置的权重。本发明实施例通过状态预测模型计算当前时刻无人船体100的当前姿态量，从而为自回正模块600工作提供决策依据，同时状态预测模型还考量了以玻璃数据为基础的姿态补偿量来校正当前姿态量，最终确定船体的预测姿态量，从而降低了无人船体100行驶过程中侧翻的风险。同时，需要说明的是，获取预测姿态量，判断预测姿态量是否小于第一阈值，若小于第一阈值，生成第一控制指令，若大于第一阈值，判断预测姿态量是否小于第二阈值，若小于第二阈值，生成第二控制指令，若大于第二阈值，则生成第三控制指令时，所述第一阈值为0.3，第二阈值为0.6，当预测姿态量小于第一阈值时，则判断当前无人船体100无侧翻的风险，自回正模块600基于预设的控制指令工作即可避免无人船体100侧翻，而当预测姿态量在0.3-0.6之间时，判断当前无人船体100侧翻风险较大，启动自回正模块600的部分回正喷泵完成辅助回正，而当预测姿态量大于0.6时，则判断当前无人船体100处于侧翻状态，自回正模块600的全部回正喷泵开启完成辅助回正。本发明实施例提供了获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令的方法，图7示出了所述获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令方法的实现流程示意图，所述获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令的方法，具体包括：步骤S401，解析第一控制指令、第二控制指令或第三控制指令；步骤S402，基于指令信息计算回正喷泵的喷射角度和喷射功率，并将回正喷泵的喷射角度和喷射功率反馈至自回正模块600；需要说明的是，所述回正喷泵可以为360°旋转喷泵，为喷水推进器或喷水推进泵，是一种新型的特种动力装置，其工作原理是通过推进水泵喷出的水流的反作用力来获得推力，并通过操纵舵及倒舵设备分配和改变喷流的方向来实现无人船体100的操纵。步骤S403，自回正模块600驱动多组回正喷泵工作，执行船体自回正工作。本发明实施例提供了一种自回正无人船，图8示出了所述自回正无人船的模块连接示意图，所述自回正无人船，具体包括：无人船体100；设置在所述无人船体100上的动力推进模块200，所述动力推进模块200用于推进所述无人船体100移动；数据采集模块300，所述数据采集模块300内置于所述无人船体100内，数据采集模块300用于获取所述无人船体100的实时状态数据，并将实时状态数据上传至回正分析模块400；回正分析模块400，所述回正分析模块400用于获取无人船体100的实时状态数据，以实时状态数据为输入，执行预构建的状态预测模型，状态预测模型输出预测姿态量；姿态判断模块500，所述姿态判断模块500用于判断预测姿态量是否小于第一阈值，若小于第一阈值，生成第一控制指令，若大于第一阈值，判断预测姿态量是否小于第二阈值，若小于第二阈值，生成第二控制指令，若大于第二阈值，则生成第三控制指令；自回正模块600，所述自回正模块600用于获取第一控制指令、第二控制指令或第三控制指令，对第一控制指令、第二控制指令或第三控制指令进行识别解析，执行船体自回正指令。需要说明的是，所述数据采集模块300、回正分析模块400、姿态判断模块500以自回正模块600均搭设在无人船体100内，而无人船体100的结构如图9所示，同时，数据采集模块300、回正分析模块400、姿态判断模块500以自回正模块600之间可以采用蓝牙、电性或5G通讯连接，从而实现数据的交互，同时无人船体100主体采用密封设计，相对现有技术，船体不需要再使用配重块，船体容易单人携带作业，吃水深度也不会因为配重块的原因更深而损坏外置的ADCP设备。另一方面，本发明实施例还提供了一种计算机可读存储介质，计算机可读存储介质存储有计算机程序指令，该计算机程序指令可以被处理器执行。该计算机程序指令被执行时实现上述任意一项实施例的方法。在本发明实施例的另一方面，还提供了一种计算机设备，计算机设备包括存储器和处理器，该存储器中存储有计算机程序，该计算机程序被该处理器执行时实现上述任意一项实施例的方法。存储器作为一种非易失性计算机可读存储介质，可用于存储非易失性软件程序、非易失性计算机可执行程序以及模块，如本申请实施例中的自回正无人船控制方法对应的程序指令/模块。存储器可以包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需要的应用程序；存储数据区可存储自回正无人船控制方法的使用所创建的数据等。此外，存储器可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他非易失性固态存储器件。在一些实施例中，存储器可选包括相对于处理器远程设置的存储器，这些远程存储器可以通过网络连接至本地模块。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。处理器通过运行存储在存储器中的非易失性软件程序、指令以及模块，从而执行服务器的各种功能应用以及数据处理，即实现上述方法实施例的自回正无人船控制方法。最后需要说明的是，本文的计算机可读存储介质可以是易失性存储器或非易失性存储器，或者可以包括易失性存储器和非易失性存储器两者。作为例子而非限制性的，非易失性存储器可以包括只读存储器、可编程ROM、电可编程ROM、电可擦写可编程ROM或快闪存储器。易失性存储器可以包括随机存取存储器，该RAM可以充当外部高速缓存存储器。作为例子而非限制性的，RAM可以以多种形式获得，比如同步RAM、动态RAM、同步DRAM、双数据速率SDRAM、增强SDRAM、同步链路DRAM、以及直接Rambus RAM。所公开的方面的存储设备意在包括但不限于这些和其它合适类型的存储器。结合这里的公开所描述的各种示例性逻辑块、模块和电路可以利用被设计成用于执行这里功能的下列部件来实现或执行：通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或其它可编程逻辑器件、分立门或晶体管逻辑、分立的硬件组件或者这些部件的任何组合。通用处理器可以是微处理器，但是可替换地，处理器可以是任何传统处理器、控制器、微控制器或状态机。处理器也可以被实现为计算设备的组合，例如，DSP和微处理器的组合、多个微处理器、一个或多个微处理器结合DSP和/或任何其它这种配置。综上所述，本发明提供了一种自回正无人船及控制方法，本发明实施例通过采集无人船体100的实时状态数据，然后对实时状态数据进行分析和判断，从而为自回正模块600驱动多组回正喷泵工作提供决策支持，同时本发明实施例还能通过实时状态数据计算船体当前姿态，并基于船体当前姿态评估船体的预测姿态，从而避免船体受到外力冲击时发生侧翻，也能对船体外置的ADCP设备进行充分的保护，保证无人船体100的正常稳定工作。需要说明的是，对于前述的各实施例，为了简单描述，故将其都表述为一系列的动作组合，但是本领域技术人员应该知悉，本发明并不受所描述的动作顺序的限制，因为依据本发明，某些步骤可能采用其他顺序或者同时进行。其次，本领域技术人员也应该知悉，说明书中所描述的实施例均属于优选实施例，涉及的动作和模块并不一定是本发明所必须的。本申请所提供的几个实施例中，应该理解到，所揭露的装置，可通过其他的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如上述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或通信连接可以是通过一些接口，装置或单元之间的间接耦合或通信连接，可以是电信或者其它的形式。上述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。以上实施例仅用以说明本发明的技术方案，而非对发明的保护范围进行限制。显然，所描述的实施例仅仅是本发明部分实施例，而不是全部实施例。基于这些实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明所要保护的范围。尽管参照上述实施例对本发明进行了详细的说明，本领域普通技术人员依然可以在不冲突的情况下，不作出创造性劳动对本发明各实施例中的特征根据情况相互组合、增删或作其他调整，从而得到不同的、本质未脱离本发明的构思的其他技术方案，这些技术方案也同样属于本发明所要保护的范围。
