标题title
基于备用成本测算的电力系统运行成本计算方法及系统
摘要abst
本发明提供一种基于备用成本测算的电力系统运行成本计算方法及系统，属于电力系统运行成本计算技术领域；为解决目前多种灵活性资源的电力系统备用成本测算建模复杂、计算困难的技术问题，提供一种基于备用成本测算的电力系统运行成本计算方法及计算系统结构的改进；采用的技术方案为：获取电力系统技术数据，以最小化系统运行成本和备用成本为目标函数，考虑各类运行约束，构建含火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型；将新能源以及负荷功率作为输入特征，经由Transformer神经网络模型计算，输出得到电力系统的备用成本；本发明用于计算电力系统运行成本。
权利要求书clms
1.一种基于备用成本测算的电力系统运行成本计算方法，其特征在于：包括如下的成本计算步骤：步骤S1：获取电力系统基本技术数据，通过高斯分布对新能源不确定性建模，以最小化电力系统的运行成本和备用成本为目标函数，对电力系统机组的相关参数添加合理的约束；对灵活性资源备用和线路传输功率约束进行机会约束建模，构建考虑火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型；步骤S2：设计基于深度学习的多源协调备用成本测算方法：基于电力负荷数据以及新能源出力数据，将其输入到步骤S1所构建的多源协调备用成本测算模型中进行求解，得到深度学习所需的训练样本，训练样本中包含负荷、新能源出力输入特征和各类灵活性资源的备用成本、系统总运行成本的输出特征；然后进行数据预处理：基于z-score的标准化方法对样本进行数据预处理，表达式为：；式中，xμ为样本均值，xσ为样本标准差；基于构建的标准化数据作为输入数据，采用Transformer神经网络模型训练学习出相应灵活性资源备用成本与负荷、新能源之间的高维映射关系；由Transformer神经网络模型训练模块中的编码器-解码器结构训练好网络参数之后，在预测模块对负荷、新能源进行输入，得到新能源渗透率与相应灵活性资源的备用成本代价关系，计算电力系统运行成本。2.根据权利要求1所述的一种基于备用成本测算的电力系统运行成本计算方法，其特征在于：所述步骤S1中构建的多源协调备用成本测算模型包括：1）目标函数的表达式为：；具体表达式为：；；；；；；；；式中：fi为火电机组在t时刻的发电成本；a、b、c分别为发电机组的二次发电成本函数的系数；Pi,t为第i台火电机组在t时刻的发电功率；fchp为热电联产机组在t时刻的发电成本，achp，bchp，cchp分别为热电联产机组的等效发电成本系数；Pchp,tCHP为第chp台热电联产机组在t时刻的发电功率；fp2g为能量转化机组在t时刻的购电成本，Cp2g为成本系数；Pp2g,tP2G为第p2g台能量转化机组在t时刻的消耗功率；fess为电池储能在t时刻的充放电成本，Cch，Cdis分别为充放电成本系数；Pe,tch、Pe,tdis分别为第e个储能设备在t时刻的充电功率和放电功率；fw为风电场在t时刻的弃风惩罚成本，Ccw为惩罚系数；Pw,tW-cur为第w个风电场在t时刻的弃风功率；fv为光伏电站在t时刻的弃光惩罚成本，Ccv为惩罚系数；Pv,tPV-cur为第v个风电场在t时刻的弃光功率；fdr为t时刻补偿用户进行需求响应的成本，CtLoad为补偿价格系数；Pd,tDR为第d个用户在t时刻的响应功率；fre为t时刻各类灵活性资源参与备用的备用采购成本，Cjup，Cjdw为第j类资源的上调或下调备用价格系数；Rj,tup、Rj,tdw为第j类资源在t时刻的上调或下调备用容量；2）风电不确定性模型：针对风电不确定性进行建模，风电出力采用预测值加上随机波动量的形式对其不确定性进行表征，其中风电出力的随机波动性采用服从高斯分布的随机变量ew,tW表征，表达式为：；；；式中：Pw,tW-sche为实际调度功率；为实际最大风电出力；Pw,tw-pred为预测的风力发电功率；Pw,tW-cur为弃风功率；ew,tW为风电出力的随机波动量，服从均值为0、标准差为σw,t的高斯分布；3）光伏不确定性模型：针对光伏不确定性进行建模，光伏出力采用预测值加上随机波动量的形式对其不确定性进行表征，其中光伏出力的随机波动性采用服从高斯分布的随机变量ev,tPV表示，表达式为：；；；式中：Pv,tPV-sche为实际调度功率；为实际最大光伏出力；Pv,tPV-cur为弃光功率；Pv,tPV-pred为预测功率；ev,tPV为光伏出力的随机波动量，服从均值为0、标准差为σpv,t的高斯分布；4）电池储能模型，表达式为：；；；；式中：Ee,t，Ee,t-1分别表示t时段和t-1时段储能系统的剩余能量；ηch与ηdis分别为充电效率和放电效率；Pe,tch，Pe,tdis分别为充放电功率；Pech-max，Pedis-max分别为充放电功率的最大限制；Emax为储能的最大能量水平限制；Amin为储能的最小能量水平系数；5）热电联产机组运行模型，表达式为：；；；；式中：Pchp为热电联产机组的电功率；riCHP-up，riCHP-dw分别为第i台热电联产机组的上或下爬坡限制；λchp为热电比；Qchp为热功率；Qi,minchp和Qi,maxchp分别为第i台热电联产机组的最小和最大热功率限制；6）能量转化机组运行模型，表达式为：；；；式中：GP2G为能量转化机组产生的气功率；PP2G为能量转化机组消耗的电功率；ηP2G为能量转化机组的效率；Pip2g-min和Pip2g-max分别为能量转化机组最小和最大消耗的电功率限制；Gmin和Gmax分别为能量转化机组产生的最小和最大气功率限制；7）需求响应模型，表达式为：；；；式中：Pi,tDR为需求响应后的负荷值；Pi,tL为预测的负荷值；Δq为响应的负荷变化量；λ为响应的系数；8）燃气轮机运行模型，表达式为：；式中：Pi,tG为燃气轮机在t时刻的发电功率，PiG,min和PiG,max分别为燃气轮机的最小和最大发电功率限制；ridw和riup分别为燃气轮机的向下和向上爬坡速率；9）系统旋转备用容量的机会约束模型，表达式为：；；式中：Pr{}表示概率约束，RtG-up、RtCHP-up、RtP2G-up、RtGT-up、Rtess-up、RtDR-up分别为火电机组、热电联产机组、能量转化机组、燃气轮机、储能和需求响应在t时刻的上旋备用容量；RtG-dw、RtCHP-dw、RtP2G-dw、RtGT-dw、Rtess-dw、RtDR-dw分别为火电机组、热电联产机组、能量转化机组、燃气轮机、储能和需求响应在t时刻的下旋备用容量；URextra,t，DRextra,t为应对表示考虑除风电、光伏波动之外的其他因素时在t时刻所需的额外上旋和下旋备用容量；Pw,tW-sche为在t时刻第w个风电场的实际风电调度功率；为在t时刻第w个风电场的实际最大风电出力功率；Pw,tW-cur为在t时刻第w个风电场的弃风功率；Pv,tPV-sche为在t时刻第v个光伏电站的实际光伏调度功率；/＞为在t时刻第v个光伏电站实际最大光伏出力功率；Pv,tPV-cur为在t时刻第v个光伏电站的弃光功率；aUR，aDR分别为最大允许系统上旋、下旋备用不足的概率；其中，各类资源的上旋和下旋备用容量的计算公式为：；；；；；；；；；；10）系统功率平衡的约束模型，表达式为：；式中：Pi,tG为第i台火电机组t时刻的发电功率；NG为火电机组的总数量；Pi,tP2G为第i台能量转化机组t时刻的消耗功率；Ps,tW,sche和Pv,tPV,sche分别为第s个风电场和v个光伏电站t时刻的实际调度功率；NW、NPV分别为风电场、光伏电站的总数量；Pi,tP2G为第i台能量转化机组t时刻的消耗功率风电和光伏的调度功率；Npg为能量转化机组的总数量；Pi,tDR为需求侧响应后时刻t的负荷；ND为可响应用户的总数量；Pi,tCHP为热电联产的发电功率；Nchp为热电联产机组的总数量；Pe,tch和Pe,tdis分别为储能的充放电功率；NES为储能设备的总数量；11）传输功率限制的机会约束模型，表达式为：；；式中：siL，ssL，svL，schpL，sgL，sPL，seL，sdL分别为火电、风电、光伏、热电联产机组、燃气轮机、能量转化机组、储能设备、需求响应的功率转移分布因子；Pi,tG为第i台火电机组t时刻的发电功率；PP,tP2G为第p台能量转化机组t时刻的消耗功率；Pe,tch和Pe,tdis分别为储能t时刻的充放电功率；为t时刻第s个风电场的实际最大风电出力功率；Ps,tW,cur为t时刻第s个风电场的弃风功率；/＞为t时刻第v个光伏电站实际最大光伏出力功率；Ps,tPV,cur为t时刻第v个光伏电站的弃光功率；/＞为线路功率限制；aL+和aL-分别为前向和后向线路潮流最大允许传输线过载运行的概率。3.为实现权利要求2所述的基于备用成本测算的电力系统运行成本计算方法所使用的计算系统，其特征在于：包括如下模块：构建模块，用于获取电力系统基本技术数据，以最小化电力系统的运行成本和备用成本为目标函数，对机组的相关参数添加合理的约束，并对灵活性资源备用和线路传输功率约束采用机会约束建模方法，构建考虑火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型；计算模块，用于设计基于深度学习的多源协调备用成本测算方法，向构建模块构建的成本测算模型中添加新能源、负荷输入得到Transformer神经网络模型的训练样本，然后标准化输入数据，采用Transformer神经网络模型训练学习出各类灵活性资源备用成本与负荷、新能源之间的高维映射关系，经过Transformer神经网络模型训练模块的编码器-解码器结构训练好网络参数之后，在预测模块对负荷、新能源进行输入，得到最终的方案输出。
说明书desc
技术领域本发明提供一种基于备用成本测算的电力系统运行成本计算方法及系统，属于电力系统运行成本计算技术领域。背景技术近年来随着风电、光伏等新能源电力系统的建设与发展，新能源发电的并网占比不断增加，而由于新能源发电方式具有强烈的随机波动性，其大规模接入也将产生高额的新能源消纳成本，从出力特性角度出发进行分析，风、光等新能源出力具有的随机波动性将迫使电力系统增加额外的辅助计算服务，各类灵活性资源将配套提供更多调节服务，从而产生消纳成本；随机波动性指新能源存在预测误差，根据新能源预测值制定的调度计划将难以满足运行日的实际需求，为此，电力系统需预留一定备用成本来应对新能源预测误差，对应产生备用成本。目前备用成本需求一般按照系统最大单机容量、系统负荷预测的固定比例或两者结合的方式来计算，这种计算方式过于简易粗糙，未充分考虑新能源随机波动性的影响；此外，在多元化发展趋势下，电力系统中灵活性资源种类日益丰富，而现有备用成本分析方法并未计及多种灵活性资源协同参与备用的情况，且在进行不同负荷和新能源场景下的灵活性可调资源成本分析测算时存在求解复杂的问题，针对不同灵活性资源出力状态均需要大量重复的优化计算。发明内容本发明为了解决目前多种灵活性资源的电力系统备用成本测算建模复杂、计算困难的技术问题，提供一种基于备用成本测算的电力系统运行成本计算方法及计算系统结构的改进。为了解决上述技术问题，本发明采用的技术方案为：一种基于备用成本测算的电力系统运行成本计算方法，包括如下的成本计算步骤：步骤S1：获取电力系统基本技术数据，通过高斯分布对新能源不确定性建模，以最小化电力系统的运行成本和备用成本为目标函数，对电力系统机组的相关参数添加合理的约束；对灵活性资源备用和线路传输功率约束进行机会约束建模，构建考虑火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型；步骤S2：设计基于深度学习的多源协调备用成本测算方法：基于电力负荷数据以及新能源出力数据，将其输入到步骤S1所构建的多源协调备用成本测算模型中进行求解，得到深度学习所需的训练样本，训练样本中包含负荷、新能源出力输入特征和各类灵活性资源的备用成本、系统总运行成本的输出特征；然后进行数据预处理：基于z-score的标准化方法对样本进行数据预处理，表达式为：；式中，xμ为样本均值，xσ为样本标准差；基于构建的标准化数据作为输入数据，采用Transformer神经网络模型训练学习出相应灵活性资源备用成本与负荷、新能源之间的高维映射关系；由Transformer神经网络模型训练模块中的编码器-解码器结构训练好网络参数之后，在预测模块对负荷、新能源进行输入，得到新能源渗透率与相应灵活性资源的备用成本代价关系，计算电力系统运行成本。所述步骤S1中构建的多源协调备用成本测算模型包括：1）目标函数的表达式为：；具体表达式为：；；；；；；；；式中：fi为火电机组在t时刻的发电成本；a、b、c分别为发电机组的二次发电成本函数的系数；Pi,t为第i台火电机组在t时刻的发电功率；fchp为热电联产机组在t时刻的发电成本，achp，bchp，cchp分别为热电联产机组的等效发电成本系数；Pchp,tCHP为第chp台热电联产机组在t时刻的发电功率；fp2g为能量转化机组在t时刻的购电成本，Cp2g为成本系数；Pp2g,tP2G为第p2g台能量转化机组在t时刻的消耗功率；fess为电池储能在t时刻的充放电成本，Cch，Cdis分别为充放电成本系数；Pe,tch、Pe,tdis分别为第e个储能设备在t时刻的充电功率和放电功率；fw为风电场在t时刻的弃风惩罚成本，Ccw为惩罚系数；Pw,tW-cur为第w个风电场在t时刻的弃风功率；fv为光伏电站在t时刻的弃光惩罚成本，Ccv为惩罚系数；Pv,tPV-cur为第v个风电场在t时刻的弃光功率；fdr为t时刻补偿用户进行需求响应的成本，CtLoad为补偿价格系数；Pd,tDR为第d个用户在t时刻的响应功率；fre为t时刻各类灵活性资源参与备用的备用采购成本，Cjup，Cjdw为第j类资源的上调或下调备用价格系数；Rj,tup、Rj,tdw为第j类资源在t时刻的上调或下调备用容量；2）风电不确定性模型：针对风电不确定性进行建模，风电出力采用预测值加上随机波动量的形式对其不确定性进行表征，其中风电出力的随机波动性采用服从高斯分布的随机变量ew,tW表征，表达式为：；；；式中：Pw,tW-sche为实际调度功率；为实际最大风电出力；Pw,tw-pred为预测的风力发电功率；Pw,tW-cur为弃风功率；ew,tW为风电出力的随机波动量，服从均值为0、标准差为σw,t的高斯分布；3）光伏不确定性模型：针对光伏不确定性进行建模，光伏出力采用预测值加上随机波动量的形式对其不确定性进行表征，其中光伏出力的随机波动性采用服从高斯分布的随机变量ev,tPV表示，表达式为：；；；式中：Pv,tPV-sche为实际调度功率；为实际最大光伏出力；Pv,tPV-cur为弃光功率；Pv,tPV-pred为预测功率；ev,tPV为光伏出力的随机波动量，服从均值为0、标准差为σpv,t的高斯分布；4）电池储能模型，表达式为：；；；；式中：Ee,t，Ee,t-1分别表示t时段和t-1时段储能系统的剩余能量；ηch与ηdis分别为充电效率和放电效率；Pe,tch，Pe,tdis分别为充放电功率；Pech-max，Pedis-max分别为充放电功率的最大限制；Emax为储能的最大能量水平限制；Amin为储能的最小能量水平系数；5）热电联产机组运行模型，表达式为：；；；；式中：Pchp为热电联产机组的电功率；riCHP-up，riCHP-dw分别为第i台热电联产机组的上或下爬坡限制；λchp为热电比；Qchp为热功率；Qi,minchp和Qi,maxchp分别为第i台热电联产机组的最小和最大热功率限制；6）能量转化机组运行模型，表达式为：；；；式中：GP2G为能量转化机组产生的气功率；PP2G为能量转化机组消耗的电功率；ηP2G为能量转化机组的效率；Pip2g-min和Pip2g-max分别为能量转化机组最小和最大消耗的电功率限制；Gmin和Gmax分别为能量转化机组产生的最小和最大气功率限制；7）需求响应模型，表达式为：；；；式中：Pi,tDR为需求响应后的负荷值；Pi,tL为预测的负荷值；Δq为响应的负荷变化量；λ为响应的系数；8）燃气轮机运行模型，表达式为：；式中：Pi,tG为燃气轮机在t时刻的发电功率，PiG,min和PiG,max分别为燃气轮机的最小和最大发电功率限制；ridw和riup分别为燃气轮机的向下和向上爬坡速率；9）系统旋转备用容量的机会约束模型，表达式为：；；式中：Pr{}表示概率约束，RtG-up、RtCHP-up、RtP2G-up、RtGT-up、Rtess-up、RtDR-up分别为火电机组、热电联产机组、能量转化机组、燃气轮机、储能和需求响应在t时刻的上旋备用容量；RtG-dw、RtCHP-dw、RtP2G-dw、RtGT-dw、Rtess-dw、RtDR-dw分别为火电机组、热电联产机组、能量转化机组、燃气轮机、储能和需求响应在t时刻的下旋备用容量；URextra,t，DRextra,t为应对表示考虑除风电、光伏波动之外的其他因素时在t时刻所需的额外上旋和下旋备用容量；Pw,tW-sche为在t时刻第w个风电场的实际风电调度功率；为在t时刻第w个风电场的实际最大风电出力功率；Pw,tW-cur为在t时刻第w个风电场的弃风功率；Pv,tPV-sche为在t时刻第v个光伏电站的实际光伏调度功率；/＞为在t时刻第v个光伏电站实际最大光伏出力功率；Pv,tPV-cur为在t时刻第v个光伏电站的弃光功率；aUR，aDR分别为最大允许系统上旋、下旋备用不足的概率；其中，各类资源的上旋和下旋备用容量的计算公式为：；；；；；；；；；；10）系统功率平衡的约束模型，表达式为：；式中：Pi,tG为第i台火电机组t时刻的发电功率；NG为火电机组的总数量；Pi,tP2G为第i台能量转化机组t时刻的消耗功率；Ps,tW,sche和Pv,tPV,sche分别为第s个风电场和v个光伏电站t时刻的实际调度功率；NW、NPV分别为风电场、光伏电站的总数量；Pi,tP2G为第i台能量转化机组t时刻的消耗功率风电和光伏的调度功率；Npg为能量转化机组的总数量；Pi,tDR为需求侧响应后时刻t的负荷；ND为可响应用户的总数量；Pi,tCHP为热电联产的发电功率；Nchp为热电联产机组的总数量；Pe,tch和Pe,tdis分别为储能的充放电功率；NES为储能设备的总数量；11）传输功率限制的机会约束模型，表达式为：；；式中：siL，ssL，svL，schpL，sgL，sPL，seL，sdL分别为火电、风电、光伏、热电联产机组、燃气轮机、能量转化机组、储能设备、需求响应的功率转移分布因子；Pi,tG为第i台火电机组t时刻的发电功率；PP,tP2G为第p台能量转化机组t时刻的消耗功率；Pe,tch和Pe,tdis分别为储能t时刻的充放电功率；为t时刻第s个风电场的实际最大风电出力功率；Ps,tW,cur为t时刻第s个风电场的弃风功率；/＞为t时刻第v个光伏电站实际最大光伏出力功率；Ps,tPV,cur为t时刻第v个光伏电站的弃光功率；/＞为线路功率限制；aL+和aL-分别为前向和后向线路潮流最大允许传输线过载运行的概率。一种基于备用成本测算的电力系统运行成本计算系统，包括如下模块：构建模块，用于获取电力系统基本技术数据，以最小化电力系统的运行成本和备用成本为目标函数，对机组的相关参数添加合理的约束，并对灵活性资源备用和线路传输功率约束采用机会约束建模方法，构建考虑火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型；计算模块，用于设计基于深度学习的多源协调备用成本测算方法，向构建模块构建的成本测算模型中添加新能源、负荷输入得到Transformer神经网络模型的训练样本，然后标准化输入数据，采用Transformer神经网络模型训练学习出各类灵活性资源备用成本与负荷、新能源之间的高维映射关系，经过Transformer神经网络模型训练模块的编码器-解码器结构训练好网络参数之后，在预测模块对负荷、新能源进行输入，得到最终的方案输出。本发明相对于现有技术具备的有益效果为：本发明提出一种基于备用成本测算的电力系统运行成本计算方法及系统，克服目前备用分析方法并未计及多种灵活性资源协同参与备用的情况，针对在不同负荷和新能源场景下灵活性可调资源成本分析测算时存在求解复杂、不同源荷出力状态均需大量重复优化计算的问题，采用深度学习方法加速求解过程，简化了问题的复杂性，在保证计算精度条件下提高了计算速度，能够应用于在多种灵活性资源协同参与备用的情况下，进行不同负荷和新能源场景的灵活性可调资源成本分析测算。附图说明下面结合附图对本发明做进一步说明：图1为本发明电力系统运行成本计算方法的步骤流程图；图2为本发明采用深度学习模块的框架结构示意图；图3为本发明实施例采用39节点系统的网络结构示意图；图4为本发明实施例中储能设备上调备用成本的测算结果的示意图；图5为本发明实施例中储能设备下调备用成本的测算结果的示意图；图6为本发明实施例中火电机组上调备用成本的测算结果的示意图；图7为本发明实施例中火电机组下调备用成本的测算结果的示意图；图8为本发明实施例中需求响应上调备用成本的测算结果的示意图；图9为本发明实施例中需求响应下调备用成本的测算结果的示意图。具体实施方式下面结合附图和实施例对本发明作进一步说明，但不应该理解为本发明上述主题范围仅限于下述实施例。在不脱离本发明上述技术思想的情况下，根据本领域普通技术知识和惯用手段，做出各种替换和变更，均应包括在本发明的保护范围内。在本发明的描述中，需要理解的是，术语“包括”和“包含”指示所描述特征、整体、步骤、操作、元素和/或组件的存在，但并不排除一个或多个其它特征、整体、步骤、操作、元素、组件和/或其集合的存在或添加。应当理解，尽管在本发明实施例中可能采用术语第一、第二、第三等来描述预设范围等，但这些预设范围不应限于这些术语。这些术语仅用来将预设范围彼此区分开。例如，在不脱离本发明实施例范围的情况下，第一预设范围也可以被称为第二预设范围，类似地，第二预设范围也可以被称为第一预设范围。取决于语境，如在此所使用的词语“如果”可以被解释成为“在……时”或“当……时”或“响应于确定”或“响应于检测”。类似地，取决于语境，短语“如果确定”或“如果检测”可以被解释成为“当确定时”或“响应于确定”或“当检测时”或“响应于检测”。在附图中示出了根据本发明公开实施例的各种结构示意图。这些图并非是按比例绘制的，其中为了清楚表达的目的，放大了某些细节，并且可能省略了某些细节。图中所示出的各种区域、层的形状及它们之间的相对大小、位置关系仅是示例性的，实际中可能由于制造公差或技术限制而有所偏差，并且本领域技术人员根据实际所需可以另外设计具有不同形状、大小、相对位置的区域/层。本发明主要提供一种基于备用成本测算的电力系统运行成本计算方法，该方法要求从电力系统规划部门获取主要数据，建立一个考虑火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型，其目标函数为最小化电力系统的运行成本和备用成本，然后通过设置火电、风电、光电、储能、热电联产机组、能量转化机组以及需求侧响应和系统的运行约束条件，描述模型各主体的物理特性，完善备用成本测算模型；本发明基于z-score标准化的数据处理方法，利用样本整体信息，即样本均值和样本标准差来执行归一化，受孤立点的影响较小，在消除数值问题的同时能更好地保存数据分布特点，有效地提高深度神经网络学习效率，以避免数值问题、减少异常样本的不利影响；同时通过构建深度学习模块，采用Transformer神经网络模型训练学习出各类灵活性资源备用成本与负荷、新能源之间的高维映射关系，经过Transformer神经网络模型训练模块的编码器-解码器结构训练好网络参数之后，在预测模块对负荷、新能源进行输入，得到最终的方案输出。本发明提供的多源协调备用成本计算方法，利用离线训练的Transformer神经网络模型对负荷、新能源信息进行特征提取和规则学习；在线计算中，基于训练好的Transformer神经网络模型直接映射负荷、新能源输入与各类灵活性资源备用调节成本的输出，大大降低了计算的难度；本发明将人工智能与优化方法相结合，不仅提高了计算速度，而且保证结果输出的精度。基于改进的IEEE-39测试系统表明，本发明方法在保证求解准确度和精度的条件下显著提高了计算速度。如图1所示，本发明提供的电力系统运行成本计算方法，具体包括以下步骤：步骤S1：建立一个考虑火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型；首先从电力系统规划部门获取电力系统基本技术数据，包括：电力系统中各类型电源的技术参数、可再生能源信息、电网网架参数以及负荷需求参数；1）以最小化电力系统的运行成本和备用成本为目标函数进行模型构建，表达式为：；具体表达式为：；；；；；；；；式中：fi为火电机组在t时刻的发电成本；a、b、c分别为发电机组的二次发电成本函数的系数；Pi,t为第i台火电机组在t时刻的发电功率；fchp为热电联产机组在t时刻的发电成本，achp，bchp，cchp分别为热电联产机组的等效发电成本系数；Pchp,tCHP为第chp台热电联产机组在t时刻的发电功率；fp2g为能量转化机组在t时刻的购电成本，Cp2g为成本系数；Pp2g,tP2G为第p2g台能量转化机组在t时刻的消耗功率；fess为电池储能在t时刻的充放电成本，Cch，Cdis分别为充放电成本系数；Pe,tch、Pe,tdis分别为第e个储能设备在t时刻的充电功率和放电功率；fw为风电场在t时刻的弃风惩罚成本，Ccw为惩罚系数；Pw,tW-cur为第w个风电场在t时刻的弃风功率；fv为光伏电站在t时刻的弃光惩罚成本，Ccv为惩罚系数；Pv,tPV-cur为第v个风电场在t时刻的弃光功率；fdr为t时刻补偿用户进行需求响应的成本，CtLoad为补偿价格系数；Pd,tDR为第d个用户在t时刻的响应功率；fre为t时刻各类灵活性资源参与备用的备用采购成本，Cjup，Cjdw为第j类资源的上调或下调备用价格系数；Rj,tup、Rj,tdw为第j类资源在t时刻的上调或下调备用容量。2）风电不确定性模型：针对风电不确定性进行建模，风电出力采用预测值加上随机波动量的形式对其不确定性进行表征，其中风电出力的随机波动性采用服从高斯分布的随机变量ew,tW表征，表达式为：；；；式中：Pw,tW-sche为实际调度功率；为实际最大风电出力；Pw,tw-pred为预测的风力发电功率；Pw,tW-cur为弃风功率；ew,tW为风电出力的随机波动量，服从均值为0、标准差为σw,t的高斯分布。3）光伏不确定性模型：针对光伏不确定性进行建模，光伏出力采用预测值加上随机波动量的形式对其不确定性进行表征，其中光伏出力的随机波动性采用服从高斯分布的随机变量ev,tPV表示，表达式为：；；；式中：Pv,tPV-sche为实际调度功率；为实际最大光伏出力；Pv,tPV-cur为弃光功率；Pv,tPV-pred为预测功率；ev,tPV为光伏出力的随机波动量，服从均值为0、标准差为σpv,t的高斯分布。进一步的，针对其他情形的运行约束，包括多种灵活性资源的运行约束，具体为：4）电池储能模型，表达式为：；；；；式中：Ee,t，Ee,t-1分别表示t时段和t-1时段储能系统的剩余能量；ηch与ηdis分别为充电效率和放电效率；Pe,tch，Pe,tdis分别为充放电功率；Pech-max，Pedis-max分别为充放电功率的最大限制；Emax为储能的最大能量水平限制；Amin为储能的最小能量水平系数。5）热电联产机组运行模型，表达式为：；；；；式中：Pchp为热电联产机组的电功率；riCHP-up，riCHP-dw分别为第i台热电联产机组的上或下爬坡限制；λchp为热电比；Qchp为热功率；Qi,minchp和Qi,maxchp分别为第i台热电联产机组的最小和最大热功率限制；6）能量转化机组运行模型，表达式为：；；；式中：GP2G为能量转化机组产生的气功率；PP2G为能量转化机组消耗的电功率；ηP2G为能量转化机组的效率；Pip2g-min和Pip2g-max分别为能量转化机组最小和最大消耗的电功率限制；Gmin和Gmax分别为能量转化机组产生的最小和最大气功率限制；7）需求响应模型，表达式为：；；；式中：Pi,tDR为需求响应后的负荷值；Pi,tL为预测的负荷值；Δq为响应的负荷变化量；λ为响应的系数；8）燃气轮机运行模型，表达式为：；式中：Pi,tG为燃气轮机在t时刻的发电功率，PiG,min和PiG,max分别为燃气轮机的最小和最大发电功率限制；ridw和riup分别为燃气轮机的向下和向上爬坡速率；9）系统旋转备用容量的机会约束模型，表达式为：；；式中：Pr{}表示概率约束，RtG-up、RtCHP-up、RtP2G-up、RtGT-up、Rtess-up、RtDR-up分别为火电机组、热电联产机组、能量转化机组、燃气轮机、储能和需求响应在t时刻的上旋备用容量；RtG-dw、RtCHP-dw、RtP2G-dw、RtGT-dw、Rtess-dw、RtDR-dw分别为火电机组、热电联产机组、能量转化机组、燃气轮机、储能和需求响应在t时刻的下旋备用容量；URextra,t，DRextra,t为应对表示考虑除风电、光伏波动之外的其他因素时在t时刻所需的额外上旋和下旋备用容量；Pw,tW-sche为在t时刻第w个风电场的实际风电调度功率；为在t时刻第w个风电场的实际最大风电出力功率；Pw,tW-cur为在t时刻第w个风电场的弃风功率；Pv,tPV-sche为在t时刻第v个光伏电站的实际光伏调度功率；/＞为在t时刻第v个光伏电站实际最大光伏出力功率；Pv,tPV-cur为在t时刻第v个光伏电站的弃光功率；aUR，aDR分别为最大允许系统上旋、下旋备用不足的概率；/＞其中，各类资源的上旋和下旋备用容量计算公式如下：；；；；；；；；；；10）系统功率平衡的约束模型，表达式为：；式中：Pi,tG为第i台火电机组t时刻的发电功率；NG为火电机组的总数量；Pi,tP2G为第i台能量转化机组t时刻的消耗功率；Ps,tW,sche和Pv,tPV,sche分别为第s个风电场和v个光伏电站t时刻的实际调度功率；NW、NPV分别为风电场、光伏电站的总数量；Pi,tP2G为第i台能量转化机组t时刻的消耗功率风电和光伏的调度功率；Npg为能量转化机组的总数量；Pi,tDR为需求侧响应后时刻t的负荷；ND为可响应用户的总数量；Pi,tCHP为热电联产的发电功率；Nchp为热电联产机组的总数量；Pe,tch和Pe,tdis分别为储能的充放电功率；NES为储能设备的总数量；11）传输功率限制的机会约束模型，表达式为：；；式中：siL，ssL，svL，schpL，sgL，sPL，seL，sdL分别为火电、风电、光伏、热电联产机组、燃气轮机、能量转化机组、储能设备、需求响应的功率转移分布因子；Pi,tG为第i台火电机组t时刻的发电功率；PP,tP2G为第p台能量转化机组t时刻的消耗功率；Pe,tch和Pe,tdis分别为储能t时刻的充放电功率；为t时刻第s个风电场的实际最大风电出力功率；Ps,tW,cur为t时刻第s个风电场的弃风功率；/＞为t时刻第v个光伏电站实际最大光伏出力功率；Ps,tPV,cur为t时刻第v个光伏电站的弃光功率；/＞为线路功率限制；aL+和aL-分别为前向和后向线路潮流最大允许传输线过载运行的概率。/＞步骤S2：如图2所示，首先利用离线训练的Transformer神经网络模型对负荷、新能源信息进行特征提取和规则学习；在线计算中，基于训练好的Transformer神经网络模型直接映射负荷、新能源输入与各类灵活性资源备用调节成本的输出。基于电力负荷数据以及新能源出力数据，将其输入到步骤S1所构建的多源协调备用成本测算模型中进行求解，得到Transformer神经网络模型所需的训练样本，样本中包含负荷、新能源出力输入特征和各类灵活性资源的备用成本、系统总运行成本等输出特征。数据预处理：通过构建的训练样本，它们具有不同的量纲且数值上具有较大的差别。基于z-score标准化方法对数据进行标准化：；式中，xμ为样本均值，xσ为样本标准差。基于第步构建的标准化输入数据，采用Transformer神经网络模型训练学习出各类灵活性资源备用成本与负荷、新能源之间的高维映射关系，经过Transformer神经网络模型训练模块的编码器-解码器结构训练好网络参数之后，在预测模块对负荷、新能源进行输入，得到最终的方案输出。在本发明的实施例中，提供了一种新型电力系统备用优化成本计算系统，该系统能够用于实现上述多源协调备用成本测算方法，具体的，该电力系统备用优化成本计算系统包括构建模块以及计算模块。其中，构建模块，获取电力系统基本技术数据，以最小化电力系统的运行成本和备用成本为目标函数，对机组的相关参数添加合理的约束，并对灵活性资源备用和线路传输功率约束采用机会约束建模方法，构建考虑火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型；计算模块，设计基于深度学习的多源协调备用成本测算方法，向构建模块构建的成本测算模型中添加新能源、负荷输入得到Transformer神经网络模型的训练样本，然后，标准化输入数据，采用Transformer神经网络模型训练学习出各类灵活性资源备用成本与负荷、新能源之间的高维映射关系，经过Transformer神经网络模型训练模块的编码器-解码器结构训练好网络参数之后，在预测模块对负荷、新能源进行输入，得到最终的方案输出。在本发明的实施例中，还提供有一种终端设备，该终端设备包括处理器以及存储器，所述存储器用于存储计算机程序，所述计算机程序包括程序指令，所述处理器用于执行所述计算机存储介质存储的程序指令。处理器可能是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等，其是终端的计算核心以及控制核心，其适于实现一条或一条以上指令，具体适于加载并执行一条或一条以上指令从而实现相应方法流程或相应功能，包括：获取电力系统基本技术数据，以最小化电力系统的运行成本和备用成本为目标函数，对机组的相关参数添加合理的约束，并对灵活性资源备用和线路传输功率约束采用机会约束建模方法，构建考虑火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型；设计基于深度学习的多源协调备用成本测算方法，向构建模块构建的成本测算模型中添加新能源、负荷输入得到神经网络的训练样本，然后，标准化输入数据，采用Transformer神经网络模型训练学习出各类灵活性资源备用成本与负荷、新能源之间的高维映射关系，经过Transformer神经网络模型训练模块的编码器-解码器结构训练好网络参数之后，在预测模块对负荷、新能源进行输入，得到最终的方案输出。在本发明的实施例中，还提供有一种存储介质，具体为计算机可读存储介质，所述计算机可读存储介质是终端设备中的记忆设备，用于存放程序和数据。可以理解的是，此处的计算机可读存储介质既可以包括终端设备中的内置存储介质，当然也可以包括终端设备所支持的扩展存储介质。计算机可读存储介质提供存储空间，该存储空间存储了终端的操作系统。并且，在该存储空间中还存放了适于被处理器加载并执行的一条或一条以上的指令，这些指令可以是一个或一个以上的计算机程序。需要说明的是，此处的计算机可读存储介质可以是高速RAM存储器，也可以是非不稳定的存储器，例如至少一个磁盘存储器。可由处理器加载并执行计算机可读存储介质中存放的一条或一条以上指令，以实现上述实施例中有关短期机组组合计算方法的相应步骤；计算机可读存储介质中的一条或一条以上指令由处理器加载并执行如下步骤：获取电力系统基本技术数据，以最小化电力系统的运行成本和备用成本为目标函数，对机组的相关参数添加合理的约束，并对灵活性资源备用和线路传输功率约束采用机会约束建模方法，构建考虑火电、风电、光电、储能、热电联产机组、能量转化机组、需求侧响应的多源协调备用成本测算模型；设计基于深度学习的多源协调备用成本测算方法，向构建模块构建的成本测算模型中添加新能源、负荷输入得到Transformer神经网络模型的训练样本，然后，标准化输入数据，采用Transformer神经网络模型训练学习出各类灵活性资源备用成本与负荷、新能源之间的高维映射关系，经过Transformer神经网络模型训练模块的编码器-解码器结构训练好网络参数之后，在预测模块对负荷、新能源进行输入，得到最终的方案输出。为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。通常在此处附图中的描述和所示的本发明实施例的组件可以通过各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在本发明的实施例中，采用改进的IEEE-39测试系统验证基于Transformer神经网络模型的备用成本测算方法的有效性，测试系统网架结构设置如图3所示，总共包含39个节点46条输电线路，8台火电和燃气轮机组、8座风电场、8座光伏电站、两个储热装置、3个电池储能装置、3台热电联产机组和2台能量转化机组。改造后，火电和燃气轮机装机容量5600MW、储能装置1200MW/2500MWh，热电联产机组容量2600MW，能量转化机组容量3000MW，需求响应量为负荷的10%，可再生能源装机容量随设置的新能源渗透率改变，最大占比超过50％。通过新能源渗透率的自举技术，基于模型训练的历史数据生成了11000个典型场景结果。本发明采用计算机处理器Intel Core i5-8400 CPU @ 2.80GHz 2.80GHz进行在线计算，采用GeForce RTX 1050进行神经网络的离线训练。在11000个测试集场景上，以多源协调备用成本测算模型的计算结果作为标准，基于Transformer神经网络模型的备用成本测算方法测算各类灵活性资源的备用成本，测算结果如表1所示：表1测算结果主要对比指标其中，表示基于Transformer神经网络模型的成本测算结果与多源协调备用成本测算结果的线性关系，越接近1表示拟合效果越好；MAE为基于Transformer神经网络模型的成本测算结果与多源协调备用成本测算结果的绝对平均误差。根据表1和图4至图9的结果数据可以验证，基于Transformer神经网络模型的备用成本测算方法计算结果与基准值的准确度均超过98%，储能、火电机组、热电联产机组、能量转化机组、需求响应、总上调备用成本的平均绝对误差分别为0.0566万元、0.1394万元、0.1082万元、0.0001万元、0.0639万元、0.1388万元，在显著提高了计算速度的同时计算精度并无明显下降。表2测算时间对比如表2所示，采用物理优化模型进行求解11000个测试场景的计算时间约为28435.6s，而本采用本发明所需计算时间为3.1s，显著提高了计算速度。部分灵活性资源的具体结果如图4至图9所示，本发明方法能够准确反映各灵活性资源备用调节成本的时空信息，充分挖掘新能源渗透率与备用调节成本变化的敏感性。通过Transformer神经网络模型的多头注意力机制，获取多维层面的负荷和新能源特征信息，可以准确地反映新能源渗透率的变化时，各类灵活性资源调节成本的变化关系。综上所述，本发明一种新型电力系统备用优化成本快速计算方法、系统、介质及设备，在考虑多种可调灵活性对不同渗透率场景下的备用成本求解时，通过引入人工智能里的深度学习方法，设计一种在保证较高的计算精度条件下尽可能提高计算速度的计算方法，通过Transformer神经网络模型，提取数据特征，获取多维层面的负荷和新能源特征信息，可以准确地反映新能源渗透率的变化时，各类灵活性资源调节成本代价的关系。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围。
