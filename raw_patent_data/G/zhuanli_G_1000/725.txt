标题title
基于生成对抗网络的地表参量估算方法、装置及设备
摘要abst
本发明提供了一种基于生成对抗网络的地表参量估算方法、装置及设备，包括：基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定监测区域对应的待处理数据；对待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对对象级分割数据进行空间尺度转换，生成训练样本数据；利用训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型；其中，目标地表参量估算模型采用生成对抗网络框架，目标地表参量估算模型用于对监测区域处的地表参量进行估算。本发明具备鲁棒性强、效率高、便于工程化等优势，对生态环境评估和监管起到基础技术支撑作用。
权利要求书clms
1.一种基于生成对抗网络的地表参量估算方法，其特征在于，包括：基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定所述监测区域对应的待处理数据；对所述待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对所述对象级分割数据进行空间尺度转换，生成训练样本数据；利用所述训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型；其中，所述目标地表参量估算模型采用生成对抗网络框架，所述目标地表参量估算模型用于对所述监测区域处的地表参量进行估算。2.根据权利要求1所述的基于生成对抗网络的地表参量估算方法，其特征在于，基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定所述监测区域对应的待处理数据的步骤，包括：对监测区域对应的星载合成孔径雷达数据和光学对地观测遥感数据分别进行预处理；将预处理后的所述星载合成孔径雷达数据作为待处理数据；或者，将预处理后的所述光学对地观测遥感数据作为待处理数据；或者，将预处理后的所述星载合成孔径雷达数据和预处理后的所述光学对地观测遥感数据进行波段组合，得到异源融合数据，并将所述异源融合数据作为待处理数据。3.根据权利要求1所述的基于生成对抗网络的地表参量估算方法，其特征在于，对所述待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对所述对象级分割数据进行空间尺度转换，生成训练样本数据的步骤，包括：将所述待处理影像数据转换为灰度数据，并利用模糊聚类算法对所述灰度数据进行聚类分割处理，生成对象级分割数据；将实测地表参量数据通过空间叠加至所述对象级分割数据，以从所述对象级分割数据中确定所述实测地表参量数据对应的对象数据；从所述待处理数据中确定所述对象数据对应的数据区域，并计算所述数据区域内每个波段的均值，得到所述实测地表参量数据对应的训练样本数据。4.根据权利要求3所述的基于生成对抗网络的地表参量估算方法，其特征在于，所述地表参量估算模型包括生成器和判别器；利用所述训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型的步骤，包括：将所述训练样本数据和随机噪声数据，组合输入至所述生成器，以使所述生成器输出第一地表参量估算结果；将所述训练样本数据和所述第一地表参量估算结果，组合输入至所述判别器，以生成所述第一地表参量估算结果对应的判别结果；基于所述判别结果，通过损失函数反向传播优化所述生成器和所述判别器，将优化后的所述生成器作为目标地表参量估算模型。5.根据权利要求4所述的基于生成对抗网络的地表参量估算方法，其特征在于，所述生成器包括多级生成网络层，每级生成网络层的数量为一个或多个；将所述训练样本数据和随机噪声数据，组合输入至所述生成器，以使所述生成器输出第一地表参量估算结果的步骤，包括：将所述训练样本数据和随机噪声数据，组合输入至第一级生成网络层，以使第一级生成网络层输出特征向量；对于除所述第一级生成网络层之外的其他生成网络层，将前一级的末位生成网络层输出的所述特征向量与所述随机噪声数据，组合输入至下一级的首位生成网络层，以使所述下一级的末位生成网络层输出特征向量；将最后一级生成网络层输出的特征向量，作为第一地表参量估算结果。6.根据权利要求4所述的基于生成对抗网络的地表参量估算方法，其特征在于，所述判别器包括第一输入单元、第二输入单元和多级判别网络层，所述第一输入单元和所述第二输入单元均包括多级输入网络层，每级判别网络层和每级输入网络层的数量为一个或多个；将所述训练样本数据和所述第一地表参量估算结果，组合输入至所述判别器，以生成所述第一地表参量估算结果对应的判别结果的步骤，包括：将所述训练样本数据输入至所述第一输入单元中的多级输入网络层，以生成第一输入向量；以及，将所述第一地表参量估算结果输入至所述第二输入单元中的多级输入网络层，以生成第二输入向量；将所述第一输入向量和所述第二输入向量，组合输入至多级判别网络层，以使多级判别网络层输出所述第一地表参量估算结果对应的判别结果。7.根据权利要求1所述的基于生成对抗网络的地表参量估算方法，其特征在于，所述方法还包括：基于监测区域对应的待评估星载合成孔径雷达数据和/或待评估光学对地观测遥感数据，确定所述监测区域对应的待评估数据；对所述待评估数据进行数据尺寸转换；将所述数据尺寸转换后的所述待评估数据，输入至所述地表参量估算模型，生成第二地表参量估算结果；对所述第二地表参量估算结果进行数据尺寸转换，得到所述监测区域对应的地表评估数据产品。8.一种基于生成对抗网络的地表参量估算装置，其特征在于，包括：数据确定模块，用于基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定所述监测区域对应的待处理数据；样本生成模块，用于对所述待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对所述对象级分割数据进行空间尺度转换，生成训练样本数据；模型训练模块，用于利用所述训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型；其中，所述目标地表参量估算模型采用生成对抗网络框架，所述目标地表参量估算模型用于对所述监测区域处的地表参量进行估算。9.一种电子设备，其特征在于，包括处理器和存储器，所述存储器存储有能够被所述处理器执行的计算机可执行指令，所述处理器执行所述计算机可执行指令以实现权利要求1至7任一项所述的方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机可执行指令，所述计算机可执行指令在被处理器调用和执行时，计算机可执行指令促使处理器实现权利要求1至7任一项所述的方法。
说明书desc
技术领域本发明涉及监测评估技术领域，尤其是涉及一种基于生成对抗网络的地表参量估算方法、装置及设备。背景技术地表参数如地表温度、植被覆盖度、土壤含水量等对于国土监管、环境保护、生态评估、应急减灾等方面具有重要作用。由于对地观测技术涵盖了从辐射源到大气层到地球表面再到传感器的复杂过程，所以对地观测数据与地表参数有着密切的关系，基于对地观测数据估算地表特征信息和参量的技术是应用最为广泛的方法之一。目前，基于对地观测数据估算地表参量方法大体分为三类，分别为统计法、物理模型法和半经验法，统计法通过建立对地观测数据与地表参量的机器学习回归模型，来估算地表参量，但是该方法适用性差、空间尺度转换困难；物理模型法利用辐射传输模型、几何光学模型，来描述地表参数动态过程，具备明确的数学物理意义，但是该方法方程复杂、运算速度慢；半经验法综合了统计法和物理法，所用模型有一些经验参数，又具备一定的物理意义，但是该方法输入参数多，难以大规模工程化生产应用。以上方法在基于对地观测数据的地表参量估算领域存在适用性差、尺度效应以及难于工程化应用等问题。发明内容有鉴于此，本发明的目的在于提供一种基于生成对抗网络的地表参量估算方法、装置及设备，具备鲁棒性强、效率高、便于工程化等优势，对生态环境评估和监管起到基础技术支撑作用。第一方面，本发明实施例提供了一种基于生成对抗网络的地表参量估算方法，包括：基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定所述监测区域对应的待处理数据；对所述待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对所述对象级分割数据进行空间尺度转换，生成训练样本数据；利用所述训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型；其中，所述目标地表参量估算模型采用生成对抗网络框架，所述目标地表参量估算模型用于对所述监测区域处的地表参量进行估算。在一种实施方式中，基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定所述监测区域对应的待处理数据的步骤，包括：对监测区域对应的星载合成孔径雷达数据和光学对地观测遥感数据分别进行预处理；将预处理后的所述星载合成孔径雷达数据作为待处理数据；或者，将预处理后的所述光学对地观测遥感数据作为待处理数据；或者，将预处理后的所述星载合成孔径雷达数据和预处理后的所述光学对地观测遥感数据进行波段组合，得到异源融合数据，并将所述异源融合数据作为待处理数据。在一种实施方式中，对所述待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对所述对象级分割数据进行空间尺度转换，生成训练样本数据的步骤，包括：将所述待处理影像数据转换为灰度数据，并利用模糊聚类算法对所述灰度数据进行聚类分割处理，生成对象级分割数据；将实测地表参量数据通过空间叠加至所述对象级分割数据，以从所述对象级分割数据中确定所述实测地表参量数据对应的对象数据；从所述待处理数据中确定所述对象数据对应的数据区域，并计算所述数据区域内每个波段的均值，得到所述实测地表参量数据对应的训练样本数据。在一种实施方式中，所述地表参量估算模型包括生成器和判别器；利用所述训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型的步骤，包括：将所述训练样本数据和随机噪声数据，组合输入至所述生成器，以使所述生成器输出第一地表参量估算结果；将所述训练样本数据和所述第一地表参量估算结果，组合输入至所述判别器，以生成所述第一地表参量估算结果对应的判别结果；基于所述判别结果，通过损失函数反向传播优化所述生成器和所述判别器，将优化后的所述生成器作为目标地表参量估算模型。在一种实施方式中，所述生成器包括多级生成网络层，每级生成网络层的数量为一个或多个；将所述训练样本数据和随机噪声数据，组合输入至所述生成器，以使所述生成器输出第一地表参量估算结果的步骤，包括：将所述训练样本数据和随机噪声数据，组合输入至第一级生成网络层，以使第一级生成网络层输出特征向量；对于除所述第一级生成网络层之外的其他生成网络层，将前一级的末位生成网络层输出的所述特征向量与所述随机噪声数据，组合输入至下一级的首位生成网络层，以使所述下一级的末位生成网络层输出特征向量；将最后一级生成网络层输出的特征向量，作为第一地表参量估算结果。在一种实施方式中，所述判别器包括第一输入单元、第二输入单元和多级判别网络层，所述第一输入单元和所述第二输入单元均包括多级输入网络层，每级判别网络层和每级输入网络层的数量为一个或多个；将所述训练样本数据和所述第一地表参量估算结果，组合输入至所述判别器，以生成所述第一地表参量估算结果对应的判别结果的步骤，包括：将所述训练样本数据输入至所述第一输入单元中的多级输入网络层，以生成第一输入向量；以及，将所述第一地表参量估算结果输入至所述第二输入单元中的多级输入网络层，以生成第二输入向量；将所述第一输入向量和所述第二输入向量，组合输入至多级判别网络层，以使多级判别网络层输出所述第一地表参量估算结果对应的判别结果。在一种实施方式中，所述方法还包括：基于监测区域对应的待评估星载合成孔径雷达数据和/或待评估光学对地观测遥感数据，确定所述监测区域对应的待评估数据；对所述待评估数据进行数据尺寸转换；将所述数据尺寸转换后的所述待评估数据，输入至所述地表参量估算模型，生成第二地表参量估算结果；对所述第二地表参量估算结果进行数据尺寸转换，得到所述监测区域对应的地表评估数据产品。第二方面，本发明实施例还提供一种基于生成对抗网络的地表参量估算装置，包括：数据确定模块，用于基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定所述监测区域对应的待处理数据；样本生成模块，用于对所述待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对所述对象级分割数据进行空间尺度转换，生成训练样本数据；模型训练模块，用于利用所述训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型；其中，所述目标地表参量估算模型采用生成对抗网络框架，所述目标地表参量估算模型用于对所述监测区域处的地表参量进行估算。第三方面，本发明实施例还提供一种电子设备，包括处理器和存储器，所述存储器存储有能够被所述处理器执行的计算机可执行指令，所述处理器执行所述计算机可执行指令以实现第一方面提供的任一项所述的方法。第四方面，本发明实施例还提供一种计算机可读存储介质，所述计算机可读存储介质存储有计算机可执行指令，所述计算机可执行指令在被处理器调用和执行时，计算机可执行指令促使处理器实现第一方面提供的任一项所述的方法。本发明实施例提供的一种基于生成对抗网络的地表参量估算方法、装置及设备，首先基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定监测区域对应的待处理数据；然后对待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对对象级分割数据进行空间尺度转换，生成训练样本数据；最后利用训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型，该目标地表参量估算模型采用生成对抗网络框架，且该目标地表参量估算模型用于对监测区域处的地表参量进行估算。上述方法构建了面向对地观测数据地表参数估算的生成对抗网络框架，该网络框架适用于星载合成孔径雷达数据、光学对地观测遥感数据、以及星载合成孔径雷达数据和光学对地观测遥感数据的异源融合数据等多种对地观测数据，因此具备鲁棒性强、效率高、便于工程化等优势，对生态环境评估和监管起到基础技术支撑作用。本发明的其他特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点在说明书、权利要求书以及附图中所特别指出的结构来实现和获得。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种基于生成对抗网络的地表参量估算方法的流程示意图；图2为本发明实施例提供的一种基于生成对抗网络的地表参量估算方法的整体流程图；图3为本发明实施例提供的一种数据处理的流程示意图；图4为本发明实施例提供的一种空间尺度转换的流程示意图；图5为本发明实施例提供的一种基于生成对抗网络框架的地表参量估算模型的结构示意图；图6为本发明实施例提供的一种生成器的结构示意图；图7为本发明实施例提供的一种判别器的结构示意图；图8为本发明实施例提供的一种训练地表参量估算模型的流程示意图；图9为本发明实施例提供的一种地表参量估算的流程示意图；图10为本发明实施例提供的一种异源融合数据的示意图；图11为本发明实施例提供的一种对象级分割数据的示意图；图12为本发明实施例提供的一种土壤含水量评估数据的示意图；图13为本发明实施例提供的一种基于生成对抗网络的地表参量估算装置的结构示意图；图14为本发明实施例提供的一种电子设备的结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合实施例对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。目前，相关技术在基于对地观测数据的地表参量估算领域存在适用性差、尺度效应以及难于工程化应用等问题。基于此，本发明实施提供了一种基于生成对抗网络的地表参量估算方法、装置及设备，具备鲁棒性强、效率高、便于工程化等优势，对生态环境评估和监管起到基础技术支撑作用。为便于对本实施例进行理解，首先对本发明实施例所公开的一种基于生成对抗网络的地表参量估算方法进行详细介绍，参见图1所示的一种基于生成对抗网络的地表参量估算方法的流程示意图，该方法主要包括以下步骤S102至步骤S106：步骤S102，基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定监测区域对应的待处理数据。其中，待处理数据可以为预处理后的星载合成孔径雷达数据、或预处理后的光学对地观测遥感数据、或预处理后的星载合成孔径雷达数据和预处理后的光学对地观测遥感数据融合得到的异源融合数据。在一种实施方式中，根据实测地表参量采集的时间和范围，以及地表类型选择合适的对地观测遥感数据源，该对地观测遥感数据源包括星载合成孔径雷达数据和光学对地观测遥感数据；分别对星载合成孔径雷达数据和光学对地观测遥感数据进行预处理；将预处理后的单一数据作为待处理输入，或者进一步对预处理后的星载合成孔径雷达数据和预处理后的光学对地观测遥感数据进行重采样和波段组合，以将得到的异源融合数据作为待处理数据。步骤S104，对待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对对象级分割数据进行空间尺度转换，生成训练样本数据。在一种实施方式中，可以依次对待处理数据进行真彩色转灰度、聚类分割处理，以生成对象级分割数据，再结合实测地表参量数据对对象级分割数据进行叠加分析和控件尺度转换，以生成训练样本数据。步骤S106，利用训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型。其中，目标地表参量估算模型采用生成对抗网络框架，目标地表参量估算模型用于对监测区域处的地表参量进行估算。地表参量估算模型包括生成器和判别器，生成器包括多级生成网络层，每级生成网络层的数量为一个或多个，判别器包括第一输入单元、第二输入单元和多级判别网络层，第一输入单元和第二输入单元均包括多级输入网络层，每级判别网络层和每级输入网络层的数量为一个或多个。在一种实施方式中，实测地表参量数据为模型训练阶段的标签，训练样本为模型训练阶段的输入，对地表参量估算模型进行训练。最后将监测区域的待评估数据输入至地表参量估算模型，即可得到相应的地表参量估算结果，进而得到地表评估数据产品。本发明实施例提供的基于生成对抗网络的地表参量估算方法，构建了面向对地观测数据地表参数估算的生成对抗网络框架，该网络框架适用于星载合成孔径雷达数据、光学对地观测遥感数据、以及星载合成孔径雷达数据和光学对地观测遥感数据的异源融合数据等多种对地观测数据，因此具备鲁棒性强、效率高、便于工程化等优势，对生态环境评估和监管起到基础技术支撑作用。为便于理解，本发明实施例提供了一种基于生成对抗网络的地表参量估算方法的具体实施方式，参见图2所示的一种基于生成对抗网络的地表参量估算方法的整体流程图，首先获取监测区域的原始对地观测数据，分别为空基SAR和光学对地观测遥感数据，然后对获取的空基SAR、和光学对地观测遥感数据进行数据处理，生成SAR和光学融合数据；基于异源融合数据进行聚类分割生成对象级分割数据，再结合实测地表参量数据对对象级分割数据进行空间尺度转换，生成用于对抗神经网络训练的样本数据；同时，参考原始生成对抗网络结构，结合对地观测遥感数据特征，创建面向对地观测数据的地表参量估算生成对抗网络框架；利用创建的对抗网络框架和生成的样本数据进行模型训练，生成用于地表估算深度学习模型；最后，通过地表估算深度学习模型，基于待评估的SAR和光学融合数据，对监测区域的地表参量进行大面积估算。在此基础上，本发明实施例对前述步骤 S102至步骤S106进行解释说明。对于前述步骤S102，本发明实施例提供了一种基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定监测区域对应的待处理数据的实施方式，参见如下步骤A1至步骤A2：步骤A1，对监测区域对应的星载合成孔径雷达数据和光学对地观测遥感数据分别进行预处理。参见图3所示的一种数据处理的流程示意图，在实际应用中，根据实测地表参量采集的时间和范围，以及地表类型选择合适的对地观测遥感数据源，并对原始遥感数据做处理，生成对抗网络可输入的两类常见的遥感数据，分别是星载合成孔径雷达数据和光学对地观测遥感数据，这两类数据选择其一输入也可以组合成融合数据输入。其中星载合成孔径雷达数据需要经过辐射校正、滤波、地形校正等预处理，处理成极化数据产品；光学对地观测遥感数据需要经过辐射定标、大气校正、几何校正等预处理，生成地表反射率数据产品。步骤A2，将预处理后的星载合成孔径雷达数据作为待处理数据；或者，将预处理后的光学对地观测遥感数据作为待处理数据；或者，将预处理后的星载合成孔径雷达数据和预处理后的光学对地观测遥感数据进行波段组合，得到异源融合数据，并将异源融合数据作为待处理数据。在一例中，可以仅将极化数据产品作为待处理数据。在一例中，可以仅将地表反射率数据作为待处理数据。在一例中，可以将极化数据产品和地表反射率数据的异源融合数据作为待处理数据。请继续参见图3，将SAR极化数据和光学地表反射率数据，进行重采样，统一数据分辨率，并进行波段组合，生成新的异源融合数据，记为，/＞数据的波段数为N，高宽为H，W。对于前述步骤S104，本发明实施例提供了一种对待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对对象级分割数据进行空间尺度转换，生成训练样本数据的实施方式，具体的：地表参量如地表温度、森林生物量等地面调查数据由于人力、地形环境等方面的限制，调查范围一般较小，通常是点状数据，但是卫星对地观测遥感数据特别是中等分辨率的数据，单一像素面积通常是几百、甚至上千平方米，这就导致了地表调查数据和遥感数据之间存在空间尺度差异。另一方面，卫星数据存在个别像元异常值的现象，地面数据在与遥感数据进行空间匹配时，会有可能提取异常值，为了解决空间尺度差异和异常值的问题，采用聚类分割技术和局部平均法对样本和遥感数据进行尺度转换。参见图4所示的一种空间尺度转换的流程示意图，以待处理数据为异源融合数据为例，通过对异源融合数据/＞进行真彩色转灰度、聚类分割得到对象级分割数据，结合实测地表参量数据对对象级分割数据进行叠加分析和基于局部平均法的空间尺度转换，以生成用于训练的样本数据X、y。其中，X为训练样本数据，y为实测地表参量数据。在一种具体的实施方式中，参见如下步骤B1至步骤B3：步骤B1，将待处理影像数据转换为灰度数据，并利用模糊聚类算法对灰度数据进行聚类分割处理，生成对象级分割数据。首先从异源融合数据中抽取红、绿、蓝三波段数据，利用灰度阴影法将红绿蓝真彩色转成灰度。具体过程如下：；；；其中，为灰度数据，具有1个波段，大小，/＞为红绿蓝波段的反射率，/＞为阴影区域反射率经验值，/＞为转换系数，/＞为红绿蓝平均反射率。然后利用模糊聚类算法，对灰度数据进行聚类分割处理，生成对象级分割数据/＞。具体如下：构建面向灰度数据的FCM聚类分割算法：；；；；其中，J为目标函数，J值越小分割效果越好，为灰度数据/＞中位置为像素值，C为分割类别数目，/＞为/＞隶属于第k类的概率值，/＞为k类聚类中心值，q为控制聚类结果的常数。经过求解和/＞，使得灰度数据/＞的J值最小，可以获取分割对象级分割数据/＞。步骤B2，将实测地表参量数据通过空间叠加至对象级分割数据，以从对象级分割数据中确定实测地表参量数据对应的对象数据。在一例中，获取地面参量实测数据中的点位数据，地面参量实测数据数目为S，其中一个地面参量实测数据数目的点位信息记为A，lon代表点位的经度，lat代表点位的纬度，A通过空间叠加到对象级分割数据，对应到对象级分割数据/＞的对象数据记为B。步骤B3，从待处理数据中确定对象数据对应的数据区域，并计算数据区域内每个波段的均值，得到实测地表参量数据对应的训练样本数据。在一例中，由于对象级分割数据和异源融合数据/＞大小一致，空间参考一致，则B直接在异源融合数据/＞找到对应的数据区域记为/＞，大小为，基于局部平均法计算数据区域/＞各个波段的均值，得到N维的向量/＞。依次类推，将所有地面参量实测数据数目按照上述步骤处理，最终可以获取经过尺度转换后的训练样本数据X和y，训练样本数据X为S个类似向量/＞组成的二维数组，大小为，y为地面参量实测数据，大小为S。进一步的，考虑到深度学习作为机器学习的重要分支，特别是生成对抗式深度学习，基于博弈论构建网络架构，具备模型稳定、适用性强、易于工程化等优点，在数据生成、图像编辑、超分辨重建等领域大放异彩，由于生成对抗网络聚焦于计算机视觉领域，其生成器和判别器网络结构、优化器等难于应用基于回归分析的地表参量估算，且需要解决对地观测中的尺度效应问题，所以亟需基于对地观测数据的多源、多光谱、多尺度等特征、以及对地观测数据与地表参量的相关性分析，设计出基于生成对抗网络的地表参量估算方法，以实现稳定、高效的地表参量评估。其中，生成对抗网络利用博弈论中对抗思想，是生成模型的一种，其训练过程则是处于一种对抗博弈的状态。GAN主要由生成器网络、判别器网络以及损失函数组成。GAN的网络框架能够适用于地表参量估算，但是由于对地观测遥感数据具备多光谱、多时相等典型特征，同时遥感数据与表参量存在较为严格的时空对应关系，所以需要根据现有GAN网络结构进行重构以及优化。该GAN神经网络框架，不仅可以适配对地观测遥感数据的时空、多光谱特征，还具备网络层数和结构灵活可配。基于此，本发明实施例提供了一种基于生成对抗网络框架的地表参量估算模型，参见图5所示的一种基于生成对抗网络框架的地表参量估算模型的结构示意图，地表参量估算模型包括生成器和判别器，在此基础上，可以按照如下步骤C1至步骤C3对预先构建的地表参量估算模型进行训练：步骤C1，将训练样本数据和随机噪声数据，组合输入至生成器，以使生成器输出第一地表参量估算结果。请继续参见图5，包括训练样本数据X，以及地面参量实测数据y，X的维度为xn，y的维度为1。首先将维度为zn的随机高斯噪声和训练样本数据X组合成生成器G的输入GX，维度为xn+zn；然后GX由生成器G处理后，输出第一地表参量估算结果Gy，维度为1。步骤C2，将训练样本数据和第一地表参量估算结果，组合输入至判别器，以生成第一地表参量估算结果对应的判别结果。请继续参见图5，第一地表参量估算结果Gy与训练样本数据X组合成判别器D的输入Dy，维度为xn+1；Dy经判别器D处理后，输出判别结果P，维度为1。步骤C3，基于判别结果，通过损失函数反向传播优化生成器和判别器，将优化后的生成器作为目标地表参量估算模型。进一步的，本发明实施例对步骤C1进行解释说明。本发明实施例提供的生成器包括多级生成网络层，每级生成网络层的数量为一个或多个。示例性的，参见图6所示的一种生成器的结构示意图，GAN的生成器网络结构基于噪声注入网络构建，5级生成网络层构成。具体的，5级生成网络层包括GL0网络层、GL1网络层、GL2网络层、GL3网络层、GL4网络层，其中GL0网络层、GL2网络层、GL4网络层的数量为1，GL1网络层、GL3网络层的数量为多个。在此基础上，可以按照如下步骤C1-1至步骤C1-3得到生成器输出的第一地表参量估算结果：步骤C1-1，将训练样本数据和随机噪声数据，组合输入至第一级生成网络层，以使第一级生成网络层输出特征向量。其中，第一级生成网络层也即GL0网络层。在一例中，将训练样本数据和随机噪声数据组合后的数据输入至GL0网络层，即可得到GL0网络层输出的特征向量。步骤C1-2，对于除第一级生成网络层之外的其他生成网络层，将前一级的末位生成网络层输出的特征向量与随机噪声数据，组合输入至下一级的首位生成网络层，以使下一级的末位生成网络层输出特征向量。其中，其他生成网络层包括GL1网络层、GL2网络层、GL3网络层、GL4网络层。以GL1网络层为例，将GL0网络层输出的特征向量和随机噪声数据组合后的数据输入至GL1网络层，即可得到GL1网络层输出的特征向量。同理可以得到GL2网络层、GL3网络层、GL4网络层输出的特征向量。步骤C1-3，将最后一级生成网络层输出的特征向量，作为第一地表参量估算结果。其中，最后一级生成网络层也即GL4网络层，也即将GL4网络层输出的特征向量作为第一地表参量估算结果。请继续参见图6，训练样本数据X和随机噪声数据Z组合成n0维的数据记为X0，输入GL0网络层，生成特征向量gn1；特征向量gn1和随机噪声数据Z组合成gn1维的X1，将X1输入a个连续GL1网络层，最后一层GL1生成的特征向量再与随机噪声数据Z组合成n1维的X2，X2输入GL2网络层，输出的特征向量再与随机噪声数据Z组合成n2维的X3，将X3输入b个连续GL3网络层，最后一层GL3生成的特征向量与随机噪声数据Z组合成n2为X4，X4经过GL4网络层处理后，生成1维的第一地表参量估算结果Gy。生成器各个网络层有线性函数linear和激活函数relu构成，具体结构如下表：进一步的，本发明实施例对步骤C2进行解释说明。本发明实施例提供的判别器包括第一输入单元、第二输入单元和多级判别网络层，第一输入单元和第二输入单元均包括多级输入网络层，每级判别网络层和每级输入网络层的数量为一个或多个。示例性的，参见图7所示的一种判别器的结构示意图，GAN的判别器网络结构基于双输入网络构建，由6个网络层构成。具体的，第二输入单元中的输入网络层为DL0网络层和DL1网络层；第一输入单元中的输入网络层为DL2网络层和DL1网络层；多级判别网络层为DL3网络层、DL4网络层、DL1网络层、DL5网络层。在此基础上，可以按照如下步骤C2-1至步骤C2-2得到判别器输出的判别结果：步骤C2-1，将训练样本数据输入至第一输入单元中的多级输入网络层，以生成第一输入向量；以及，将第一地表参量估算结果输入至第二输入单元中的多级输入网络层，以生成第二输入向量。在一例中，训练样本数据经过1个DL2网络层和多个DL1网络层的处理，输出第一输入向量；同理，第一地表参量估算结果经过1个DL0网络层和多个DL1网络层的处理，输出第二输入向量。步骤C2-2，将第一输入向量和第二输入向量，组合输入至多级判别网络层，以使多级判别网络层输出第一地表参量估算结果对应的判别结果。在一例中，第一输入向量和第二输入向量组合后的数据，经过多个DL3网络层、1个DL4网络层、多个DL1网络层和1一个DL5网络层的处理，输出判别结果。请继续参见图7，首先由生成器生成的1维的第一地表参量估算结果Gy，输入到DL0网络层，输出dn1维度的y0，将y0输入到c个连续DL1网络层，输出dn1维y1，同时对应第一地表参量估算结果Gy的训练样本数据X，经DL2网络层处理后，输出dn1维X0，将X0输入到d个连续DL1网络层后，最后一层DL1输出dn1维的X1，然后将y1和X1组合成2dn1维的d1，其作为DL3网络层的输入，经e个连续DL3处理后，输出2/＞dn1维的d2，d2输入到DL4网络层输出dn1维的d3，将d3输入f个连续DL1网络层，最后一个DL1层输出dn1维的d4，最后d4输入DL5层，输出1维的判别结果P。判别器各个网络层有线性函数linear和激活函数relu构成，具体结构如下表：进一步的，本发明实施例对步骤C3进行解释说明。本发明实施例提供的损失函数分为生成器和判别器的损失函数，具体如下：；；其中，为判别器损失函数，/＞为生成器损失函数，/＞为判别器的参数，/＞为生成器的参数，x，y，z单批次的遥感数据X、实测数据y以及对应的噪声。在前述C1至C3的基础上，本发明实施例提供了一种训练地表参量估算模型的实施方式，参见图8所示的一种训练地表参量估算模型的流程示意图，包括：根据样本数据按照一定比例分为训练集、验证集和测试集样本数据，再设置生成对抗网络框架训练的超参数，如训练批次、生成器学习率、判别器学习率、训练样本数目，波段数目、噪声尺寸大小等关键参数，然后进行深度学习训练。在训练过程中进行模型筛选以得到最优模型，具体的：每一次的训练批次都保存一个模型，最后对比每一个批次模型的loss大小，选择loss最小的模型作为最优模型。最优模型即为地表参量估算模型，记为model。进一步的，本发明实施例还提供了一种利用地表参量估算模型对监测区域进行地表参量估算的实施方式。具体的：由于参与训练数据是非图片数据，所以模型预测需要将待评估数据进行尺寸转变成二维数组，送入地表参量估算模型中，并生成地表评估数据产品。在一种具体的实施方式中，参见如下步骤D1至步骤D4：步骤D1，基于监测区域对应的待评估星载合成孔径雷达数据和/或待评估光学对地观测遥感数据，确定监测区域对应的待评估数据。具体可参见前述步骤A1至步骤A2，本发明实施例在此不再进行赘述。步骤D2，对待评估数据进行数据尺寸转换。步骤D3，将数据尺寸转换后的待评估数据，输入至地表参量估算模型，生成第二地表参量估算结果。地表参量估算模型对输入的待评估数据的处理过程可参见前述步骤C1，本发明实施例对此不再进行赘述。步骤D4，对第二地表参量估算结果进行数据尺寸转换，得到监测区域对应的地表评估数据产品。在一例中，参见图9所示的一种地表参量估算的流程示意图，包括对待评估SAR和光学融合数据进行数据处理，得到待评估的异源融合数据，对异源融合数据进行数据尺寸转换，并将数据尺寸转换后的待评估数据，输入至地表参量估算模型，生成第二地表参量估算结果，对第二地表参量估算结果进行数据尺寸转换，得到地表评估数据产品。示例性的。收集待评估区域的原始SAR和相同时期光学数据，并对数据进行处理，生成待评估的融合数据，尺寸大小为，对融合数据/＞进行数组尺寸变换，生成X1，大小为记为，S1 =H1/＞W1，将成X1送入地表参量估算模型model中，获取第二地表参量估算结果y1，大小为，最后对第二地表参量估算结果y1进行数组尺寸转换，生成地表评估数据产品/＞，大小为，从达到了地表参量评估目的。本发明实施例还提供了一种基于生成对抗网络的地表参量估算方法的应用示例。包括：对地观测数据处理：本发明实施例的研究区为山东省济宁市，地表参量类型为土壤含水量，利用土壤含水量评估本地旱情情况。本区域常发生旱情且对作物影响较大的时间范围为5-6月，收集2022年5-6月的站点实测土壤含水量数据、sentinel1 SAR及Landsat8光学对地观测遥感数据。对获取的sentinel1和Landsat8进行数据处理，其中sentinel1数据需要经过辐射校正、滤波、地形校正等处理，处理成极化数据产品；Landsat8需要经过辐射定标、大气校正、几何校正等处理，生成地表反射率数据产品。将极化数据和地表反射率数据组合，并重采样成30m的异源融合数据，异源融合数据/＞为9波段，包括Landsat8的7个TOA波段以及sentinel1 的2个极化波段，大小为，诸如图10所示的一种异源融合数据的示意图。空间尺度转换：首先异源融合数据抽取红、绿、蓝三波段数据，利用灰度阴影法将红绿蓝真彩色转成灰度，其中/＞为0.01，并对灰度图进行模糊聚类分析，设置聚类数目为8，生成对象级分割数据/＞，诸如图11所示的一种对象级分割数据的示意图。然后将获取2022年5-6月获取实测土壤含水量数据，一共620个样本数据，叠加到数据进行尺度转换，提取每个样本点对应对象范围，再根据对象范围计算在/＞数据中像元均值，最后构成用于深度学习训练的数据X和y，X大小为，y为地表参量实测数据向量，大小为 620。生成对抗网络框架搭建：设置随机噪声zn的维度大小为5，生成器的网络结构参数如下表：判别器的网络结构参数如下表：生成对抗模型训练：将X和y分别为安装7：2：1的比例设置训练、验证、测试集，分别为434，124，62个样本数据。网络的训练批次为200、生成器学习率为0.0001、判别器学习率为0.0001、训练样本数目为100，波段数目为9、噪声尺寸大小为5。训练得到loss最小的土壤含水量评估模型为model，可进行工程化评估。地表参量评估：基于经过处理的同一时期Landsat8和sentinel1数据，生成光学和SAR融合数据，利用异源融合数据，数据波段数为9，尺寸大小为，通过训练好的土壤含水量评估模型对融合数据预测，生成土壤含水量评估数据，诸如图12所示的一种土壤含水量评估数据的示意图。综上所述，本发明实施例构建了面向对地观测数据地表参数估算的生成对抗网络框架，利用尺度转换统一空基对地观测数据和地基实测参量数据的空间尺度，该网络框架适用于光学、SAR、以及光学和SAR异源融合多种对地观测数据，具备鲁棒性强、效率高，便于工程化等优势，对生态环境评估和监管起到基础技术支撑作用。在前述实施例的基础上，本发明实施例提供了一种基于生成对抗网络的地表参量估算装置，参见图13所示的一种基于生成对抗网络的地表参量估算装置的结构示意图，该装置主要包括以下部分：数据确定模块1302，用于基于监测区域对应的星载合成孔径雷达数据和/或光学对地观测遥感数据，确定监测区域对应的待处理数据；样本生成模块1304，用于对待处理数据进行聚类分割处理生成对象级分割数据，并结合实测地表参量数据对对象级分割数据进行空间尺度转换，生成训练样本数据；模型训练模块1306，用于利用训练样本数据，对预先构建的地表参量估算模型进行训练，以得到目标地表参量估算模型；其中，目标地表参量估算模型采用生成对抗网络框架，目标地表参量估算模型用于对监测区域处的地表参量进行估算。本发明实施例提供的基于生成对抗网络的地表参量估算装置，构建了面向对地观测数据地表参数估算的生成对抗网络框架，该网络框架适用于星载合成孔径雷达数据、光学对地观测遥感数据、以及星载合成孔径雷达数据和光学对地观测遥感数据的异源融合数据等多种对地观测数据，因此具备鲁棒性强、效率高、便于工程化等优势，对生态环境评估和监管起到基础技术支撑作用。在一种实施方式中，数据确定模块1302还用于：对监测区域对应的星载合成孔径雷达数据和光学对地观测遥感数据分别进行预处理；将预处理后的星载合成孔径雷达数据作为待处理数据；或者，将预处理后的光学对地观测遥感数据作为待处理数据；或者，将预处理后的星载合成孔径雷达数据和预处理后的光学对地观测遥感数据进行波段组合，得到异源融合数据，并将异源融合数据作为待处理数据。在一种实施方式中，样本生成模块1304还用于：将待处理影像数据转换为灰度数据，并利用模糊聚类算法对灰度数据进行聚类分割处理，生成对象级分割数据；将实测地表参量数据通过空间叠加至对象级分割数据，以从对象级分割数据中确定实测地表参量数据对应的对象数据；从待处理数据中确定对象数据对应的数据区域，并计算数据区域内每个波段的均值，得到实测地表参量数据对应的训练样本数据。在一种实施方式中，地表参量估算模型包括生成器和判别器；模型训练模块1306还用于：将训练样本数据和随机噪声数据，组合输入至生成器，以使生成器输出第一地表参量估算结果；将训练样本数据和第一地表参量估算结果，组合输入至判别器，以生成第一地表参量估算结果对应的判别结果；基于判别结果，通过损失函数反向传播优化生成器和判别器，将优化后的生成器作为目标地表参量估算模型。在一种实施方式中，生成器包括多级生成网络层，每级生成网络层的数量为一个或多个；模型训练模块1306还用于：将训练样本数据和随机噪声数据，组合输入至第一级生成网络层，以使第一级生成网络层输出特征向量；对于除第一级生成网络层之外的其他生成网络层，将前一级的末位生成网络层输出的特征向量与随机噪声数据，组合输入至下一级的首位生成网络层，以使下一级的末位生成网络层输出特征向量；将最后一级生成网络层输出的特征向量，作为第一地表参量估算结果。在一种实施方式中，判别器包括第一输入单元、第二输入单元和多级判别网络层，第一输入单元和第二输入单元均包括多级输入网络层，每级判别网络层和每级输入网络层的数量为一个或多个；模型训练模块1306还用于：将训练样本数据输入至第一输入单元中的多级输入网络层，以生成第一输入向量；以及，将第一地表参量估算结果输入至第二输入单元中的多级输入网络层，以生成第二输入向量；将第一输入向量和第二输入向量，组合输入至多级判别网络层，以使多级判别网络层输出第一地表参量估算结果对应的判别结果。在一种实施方式中，还包括参量估算模块，用于：基于监测区域对应的待评估星载合成孔径雷达数据和/或待评估光学对地观测遥感数据，确定监测区域对应的待评估数据；对待评估数据进行数据尺寸转换；将数据尺寸转换后的待评估数据，输入至地表参量估算模型，生成第二地表参量估算结果；对第二地表参量估算结果进行数据尺寸转换，得到监测区域对应的地表评估数据产品。本发明实施例所提供的装置，其实现原理及产生的技术效果和前述方法实施例相同，为简要描述，装置实施例部分未提及之处，可参考前述方法实施例中相应内容。本发明实施例提供了一种电子设备，具体的，该电子设备包括处理器和存储装置；存储装置上存储有计算机程序，计算机程序在被所述处理器运行时执行如上所述实施方式的任一项所述的方法 。图14为本发明实施例提供的一种电子设备的结构示意图，该电子设备100包括：处理器140，存储器141，总线142和通信接口143，所述处理器140、通信接口143和存储器141通过总线142连接；处理器140用于执行存储器141中存储的可执行模块，例如计算机程序。其中，存储器141可能包含高速随机存取存储器，也可能还包括非不稳定的存储器，例如至少一个磁盘存储器。通过至少一个通信接口143实现该系统网元与至少一个其他网元之间的通信连接，可以使用互联网，广域网，本地网，城域网等。总线142可以是ISA总线、PCI总线或EISA总线等。所述总线可以分为地址总线、数据总线、控制总线等。为便于表示，图14中仅用一个双向箭头表示，但并不表示仅有一根总线或一种类型的总线。其中，存储器141用于存储程序，所述处理器140在接收到执行指令后，执行所述程序，前述本发明实施例任一实施例揭示的流过程定义的装置所执行的方法可以应用于处理器140中，或者由处理器140实现。处理器140可能是一种集成电路芯片，具有信号的处理能力。在实现过程中，上述方法的各步骤可以通过处理器140中的硬件的集成逻辑电路或者软件形式的指令完成。上述的处理器140可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。可以实现或者执行本发明实施例中的公开的各方法、步骤及逻辑框图。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合本发明实施例所公开的方法的步骤可以直接体现为硬件译码处理器执行完成，或者用译码处理器中的硬件及软件模块组合执行完成。软件模块可以位于随机存储器，闪存、只读存储器，可编程只读存储器或者电可擦写可编程存储器、寄存器等本领域成熟的存储介质中。该存储介质位于存储器141，处理器140读取存储器141中的信息，结合其硬件完成上述方法的步骤。本发明实施例所提供的可读存储介质的计算机程序产品，包括存储了程序代码的计算机可读存储介质，所述程序代码包括的指令可用于执行前面方法实施例中所述的方法，具体实现可参见前述方法实施例，在此不再赘述。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。最后应说明的是：以上所述实施例，仅为本发明的具体实施方式，用以说明本发明的技术方案，而非对其限制，本发明的保护范围并不局限于此，尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，其依然可以对前述实施例所记载的技术方案进行修改或可轻易想到变化，或者对其中部分技术特征进行等同替换；而这些修改、变化或者替换，并不使相应技术方案的本质脱离本发明实施例技术方案的精神和范围，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应所述以权利要求的保护范围为准。
