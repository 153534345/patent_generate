标题title
高精导航图线状要素智能自适追索生成方法、装置及设备
摘要abst
本发明提供了一种高精导航图线状要素智能自适追索生成方法、装置及设备，涉及电子地图领域技术领域，包括：获取待追索点云数据，并确定至少两个追索起点，以进入自适追索流程；基于追索起点对应的坐标值对当前要素点进行追索得到当前要素点对应的初始坐标值；根据追索起点对应的坐标值确定每个指标项对应的目标坐标修正向量；利用目标坐标修正向量对初始坐标值进行修正得到目标坐标值；继续基于当前要素点对应的目标坐标值进行追索，直至停止时生成线状要素追索结果，并退出自适追索流程。本发明可以显著降低人工参与的工作量，可以有效降低线状要素追索的前期准备工作，从而提高线状要素追索的整体效率，同时还可以有效提高线状要素追索的精度。
权利要求书clms
1.一种高精导航图线状要素智能自适追索生成方法，其特征在于，包括：获取高精导航图对应的待追索点云数据，并从所述待追索点云数据中确定至少两个追索起点，以进入自适追索流程；基于所述追索起点对应的坐标值，对当前要素点进行追索，得到所述当前要素点对应的初始坐标值；根据所述追索起点对应的坐标值、所述待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量；利用每个所述指标项对应的所述目标坐标修正向量，对所述当前要素点对应的所述初始坐标值进行修正，得到所述当前要素点对应的目标坐标值；继续基于所述当前要素点对应的所述目标坐标值，对下一个要素点进行追索，直至满足预设的追索停止条件时，基于所述追索起点的坐标值和每个所述要素点的目标坐标值生成线状要素追索结果，并退出所述自适追索流程。2.根据权利要求1所述的高精导航图线状要素智能自适追索生成方法，其特征在于，根据所述追索起点对应的坐标值、所述待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量的步骤，包括：根据所述追索起点对应的坐标值和预设点云指标阈值，从所述待追索点云数据中提取每个指标项对应的第一目标点云数据，并基于所述第一目标点云数据中每个点的坐标值，确定每个所述指标项对应的第一重心点；基于所述追索起点和每个所述指标项对应的所述第一重心点，确定每个所述指标项对应的初始坐标修正向量；对于每个所述指标项，将该指标项对应的所述初始坐标修正向量的均值，作为该指标项对应的目标坐标修正向量。3.根据权利要求2所述的高精导航图线状要素智能自适追索生成方法，其特征在于，根据所述追索起点对应的坐标值和预设点云指标阈值，从所述待追索点云数据中提取每个指标项对应的第一目标点云数据，并基于所述第一目标点云数据中每个点的坐标值，确定每个所述指标项对应的第一重心点的步骤，包括：以所述追索起点对应的坐标值为球心，基于预设球半径从所述待追索点云数据中提取初始点云数据；对于每个指标项，如果所述初始点云数据内的点针对于该指标项的值位于预设点云指标阈值外，则将该点从所述初始点云数据中剔除，以得到该指标项对应的第一目标点云数据；将所述第一目标点云数据中每个点的坐标值的均值，作为该指标项对应的第一重心点。4.根据权利要求2所述的高精导航图线状要素智能自适追索生成方法，其特征在于，基于所述追索起点和每个所述指标项对应的所述第一重心点，确定每个所述指标项对应的初始坐标修正向量的步骤，包括：对于每个所述指标项，构造从该指标项对应的所述第一重心点指向所述追索起点的初始坐标修正向量。5.根据权利要求1所述的高精导航图线状要素智能自适追索生成方法，其特征在于，利用每个所述指标项对应的所述目标坐标修正向量，对所述当前要素点对应的所述初始坐标值进行修正，得到所述当前要素点对应的目标坐标值的步骤，包括：根据所述当前要素点对应的所述初始坐标值和预设点云指标阈值，从所述待追索点云数据中提取每个指标项对应的第二目标点云数据，并基于所述第二目标点云数据中每个点的坐标值，确定每个所述指标项对应的第二重心点；基于每个所述指标项对应的所述目标坐标修正向量和所述第二重心点，所述当前要素点针对于每个所述指标项的偏移后坐标值；将所述当前要素点针对于每个所述指标项的偏移后坐标值的均值，作为第三重心点和所述第三重心点对应的坐标值；根据所述第三重心点对应的坐标值，确定所述第三重心点与所述待追索点云数据中每个点之间的距离，以基于所述距离从所述待追索点云数据中，确定当前要素点及所述当前要素点对应的目标坐标值。6.根据权利要求5所述的高精导航图线状要素智能自适追索生成方法，其特征在于，基于每个所述指标项对应的所述目标坐标修正向量和所述第二重心点，所述当前要素点针对于每个所述指标项的偏移后坐标值的步骤，包括：对于每个所述指标项，构造从该指标项对应的所述第二重心点指向所述初始坐标值的待修正向量；利用该指标项对应的所述目标坐标修正向量，对该指标项对应的所述待修正向量进行偏移，以得到所述当前要素点针对于该指标项的偏移后坐标值。7.根据权利要求1所述的高精导航图线状要素智能自适追索生成方法，其特征在于，继续基于所述当前要素点对应的所述目标坐标值，对下一个要素点进行追索的步骤，包括：将当前要素点作为新的追索起点；以及根据所述追索起点与所述当前要素点之间的相对位置关系，从所述追索起点中确定至少一个新的追索起点；基于新的追索起点对应的坐标值，对下一个要素点进行追索。8.根据权利要求1所述的高精导航图线状要素智能自适追索生成方法，其特征在于，从所述待追索点云数据中确定至少两个追索起点，以进入自适追索流程的步骤，包括：如果所述追索起点的数量为2个，且接收到人工绘制结束消息，则进入所述自适追索流程；如果所述追索起点的数量为3个，则进入所述自适追索流程。9.一种高精导航图线状要素智能自适追索生成装置，其特征在于，包括：起点确定模块，用于获取高精导航图对应的待追索点云数据，并从所述待追索点云数据中确定至少两个追索起点，以进入自适追索流程；初始坐标值确定模块，用于基于所述追索起点对应的坐标值，对当前要素点进行追索，得到所述当前要素点对应的初始坐标值；修正向量确定模块，用于根据所述追索起点对应的坐标值、所述待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量；目标坐标值确定模块，用于利用每个所述指标项对应的所述目标坐标修正向量，对所述当前要素点对应的所述初始坐标值进行修正，得到所述当前要素点对应的目标坐标值；结果确定模块，用于继续基于所述当前要素点对应的所述目标坐标值，对下一个要素点进行追索，直至满足预设的追索停止条件时，基于所述追索起点的坐标值和每个所述要素点的目标坐标值生成线状要素追索结果，并退出所述自适追索流程。10.一种电子设备，其特征在于，包括处理器和存储器，所述存储器存储有能够被所述处理器执行的计算机可执行指令，所述处理器执行所述计算机可执行指令以实现权利要求1至8任一项所述的方法。
说明书desc
技术领域本发明涉及电子地图领域技术领域，尤其是涉及一种高精导航图线状要素智能自适追索生成方法、装置及设备。背景技术高精度地图的线状要素是在辅助驾驶、自动驾驶和无人驾驶等智能座驾所使用的地图中的表述车道、道路及其相关信息的线状地物，其精度可以达到厘米级甚至更高。与传统的导航地图线状要素相比，高精度地图线状要素有更多种类，也更加精准，还增加了高程数据以表达路面的起伏，为智能座驾系统提供更精细、更准确的环境信息。目前，相关技术中通常采用人工绘制、基于点云信息的自动绘制、基于深度学习的自动识别等方式，对高精度地图的线状要素进行追踪。但是，人工绘制方案对作业员的要求较高，而且绘制过程枯燥而持续；基于点云信息的自动绘制方案往往较慢且需要大量辅助人工修正，因为容易出现地物绘制不完整，且出现重复绘制和地物特点把控不完整的问题；基于深度学习的自动识别方案需要提前大量的样本准备，且程序要有较长时间的预先学习的时间成本，且对未经学习的要素不能识别或错误识别。发明内容有鉴于此，本发明的目的在于提供一种高精导航图线状要素智能自适追索生成方法、装置及设备，可以显著降低人工参与的工作量，可以有效降低线状要素追索的前期准备工作，从而提高线状要素追索的整体效率，同时还可以有效提高线状要素追索的精度。第一方面，本发明实施例提供了一种高精导航图线状要素智能自适追索生成方法，包括：获取高精导航图对应的待追索点云数据，并从所述待追索点云数据中确定至少两个追索起点，以进入自适追索流程；基于所述追索起点对应的坐标值，对当前要素点进行追索，得到所述当前要素点对应的初始坐标值；根据所述追索起点对应的坐标值、所述待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量；利用每个所述指标项对应的所述目标坐标修正向量，对所述当前要素点对应的所述初始坐标值进行修正，得到所述当前要素点对应的目标坐标值；继续基于所述当前要素点对应的所述目标坐标值，对下一个要素点进行追索，直至满足预设的追索停止条件时，基于所述追索起点的坐标值和每个所述要素点的目标坐标值生成线状要素追索结果，并退出所述自适追索流程。在一种实施方式中，根据所述追索起点对应的坐标值、所述待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量的步骤，包括：根据所述追索起点对应的坐标值和预设点云指标阈值，从所述待追索点云数据中提取每个指标项对应的第一目标点云数据，并基于所述第一目标点云数据中每个点的坐标值，确定每个所述指标项对应的第一重心点；基于所述追索起点和每个所述指标项对应的所述第一重心点，确定每个所述指标项对应的初始坐标修正向量；对于每个所述指标项，将该指标项对应的所述初始坐标修正向量的均值，作为该指标项对应的目标坐标修正向量。在一种实施方式中，根据所述追索起点对应的坐标值和预设点云指标阈值，从所述待追索点云数据中提取每个指标项对应的第一目标点云数据，并基于所述第一目标点云数据中每个点的坐标值，确定每个所述指标项对应的第一重心点的步骤，包括：以所述追索起点对应的坐标值为球心，基于预设球半径从所述待追索点云数据中提取初始点云数据；对于每个指标项，如果所述初始点云数据内的点针对于该指标项的值位于预设点云指标阈值外，则将该点从所述初始点云数据中剔除，以得到该指标项对应的第一目标点云数据；将所述第一目标点云数据中每个点的坐标值的均值，作为该指标项对应的第一重心点。在一种实施方式中，基于所述追索起点和每个所述指标项对应的所述第一重心点，确定每个所述指标项对应的初始坐标修正向量的步骤，包括：对于每个所述指标项，构造从该指标项对应的所述第一重心点指向所述追索起点的初始坐标修正向量。在一种实施方式中，利用每个所述指标项对应的所述目标坐标修正向量，对所述当前要素点对应的所述初始坐标值进行修正，得到所述当前要素点对应的目标坐标值的步骤，包括：根据所述当前要素点对应的所述初始坐标值和预设点云指标阈值，从所述待追索点云数据中提取每个指标项对应的第二目标点云数据，并基于所述第二目标点云数据中每个点的坐标值，确定每个所述指标项对应的第二重心点；基于每个所述指标项对应的所述目标坐标修正向量和所述第二重心点，所述当前要素点针对于每个所述指标项的偏移后坐标值；将所述当前要素点针对于每个所述指标项的偏移后坐标值的均值，作为第三重心点和所述第三重心点对应的坐标值；根据所述第三重心点对应的坐标值，确定所述第三重心点与所述待追索点云数据中每个点之间的距离，以基于所述距离从所述待追索点云数据中，确定当前要素点及所述当前要素点对应的目标坐标值。在一种实施方式中，基于每个所述指标项对应的所述目标坐标修正向量和所述第二重心点，所述当前要素点针对于每个所述指标项的偏移后坐标值的步骤，包括：对于每个所述指标项，构造从该指标项对应的所述第二重心点指向所述初始坐标值的待修正向量；利用该指标项对应的所述目标坐标修正向量，对该指标项对应的所述待修正向量进行偏移，以得到所述当前要素点针对于该指标项的偏移后坐标值。在一种实施方式中，继续基于所述当前要素点对应的所述目标坐标值，对下一个要素点进行追索的步骤，包括：将当前要素点作为新的追索起点；以及根据所述追索起点与所述当前要素点之间的相对位置关系，从所述追索起点中确定至少一个新的追索起点；基于新的追索起点对应的坐标值，对下一个要素点进行追索。在一种实施方式中，从所述待追索点云数据中确定至少两个追索起点，以进入自适追索流程的步骤，包括：如果所述追索起点的数量为2个，且接收到人工绘制结束消息，则进入所述自适追索流程；如果所述追索起点的数量为3个，则进入所述自适追索流程。第二方面，本发明实施例还提供一种高精导航图线状要素智能自适追索生成装置，包括：起点确定模块，用于获取高精导航图对应的待追索点云数据，并从所述待追索点云数据中确定至少两个追索起点，以进入自适追索流程；初始坐标值确定模块，用于基于所述追索起点对应的坐标值，对当前要素点进行追索，得到所述当前要素点对应的初始坐标值；修正向量确定模块，用于根据所述追索起点对应的坐标值、所述待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量；目标坐标值确定模块，用于利用每个所述指标项对应的所述目标坐标修正向量，对所述当前要素点对应的所述初始坐标值进行修正，得到所述当前要素点对应的目标坐标值；结果确定模块，用于继续基于所述当前要素点对应的所述目标坐标值，对下一个要素点进行追索，直至满足预设的追索停止条件时，基于所述追索起点的坐标值和每个所述要素点的目标坐标值生成线状要素追索结果，并退出所述自适追索流程。第三方面，本发明实施例还提供一种电子设备，包括处理器和存储器，所述存储器存储有能够被所述处理器执行的计算机可执行指令，所述处理器执行所述计算机可执行指令以实现第一方面提供的任一项所述的方法。本发明实施例提供的一种高精导航图线状要素智能自适追索生成方法、装置及设备，首先获取高精导航图对应的待追索点云数据，并从待追索点云数据中确定至少两个追索起点，以进入自适追索流程；然后基于追索起点对应的坐标值，对当前要素点进行追索，得到当前要素点对应的初始坐标值；以及根据追索起点对应的坐标值、待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量；再利用每个指标项对应的目标坐标修正向量，对当前要素点对应的初始坐标值进行修正，得到当前要素点对应的目标坐标值；继续基于当前要素点对应的目标坐标值，对下一个要素点进行追索，直至满足预设的追索停止条件时，基于追索起点的坐标值和每个要素点的目标坐标值生成线状要素追索结果，并退出自适追索流程。上述方法利用简单的人工操作确定出至少两个追索起点，并在追踪起点的基础上进入自适追索流程，即可自动地对要素点及其坐标值进行追索，本发明实施例通过确定当前要素点对应的初始坐标值，并利用目标坐标修正向量对其进行修正的方式，得到当前要素点的目标坐标值，循环这一过程，即可得到精度较高的线状要素追索结果，本发明实施例可以显著降低人工参与的工作量，可以有效降低线状要素追索的前期准备工作，从而提高线状要素追索的整体效率，同时还可以有效提高线状要素追索的精度。本发明的其他特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点在说明书、权利要求书以及附图中所特别指出的结构来实现和获得。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种线状要素的示意图；图2为本发明实施例提供的一种高精导航图线状要素智能自适追索生成方法的流程示意图；图3为本发明实施例提供的另一种高精导航图线状要素智能自适追索生成方法的流程图；图4为本发明实施例提供的另一种高精导航图线状要素智能自适追索生成方法的流程图；图5为本发明实施例提供的一种高精导航图线状要素智能自适追索生成装置的结构示意图；图6为本发明实施例提供的一种电子设备的结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合实施例对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明实施例当前所涉及的产品为高精导航地图线状要素，但算法本身包括但不限于高精导航地图线状要素，甚或不限于高精导航地图。激光点云是激光雷达系统扫描点的集合。激光雷达系统通过对地物扫描得到地物反射点的三维坐标，这些三维坐标称为扫描点。它除了包含了三维坐标信息，还包含颜色信息、反射强度信息、回波次数信息等。高精度地图的线状要素是在辅助驾驶、自动驾驶和无人驾驶等智能座驾所使用的地图中的表述车道、道路及其相关信息的线状地物，其精度可以达到厘米级甚至更高。与传统的导航地图线状要素相比，高精度地图线状要素有更多种类，也更加精准，还增加了高程数据以表达路面的起伏，为智能座驾系统提供更精细、更准确的环境信息。综上所述，高精导航图线状要素，在基于激光点云制作过程中，要求大比例尺作业、点取的距离要密，这种维持要素本身的平滑的操作费时费力，且要求作业员精神持续集中，所以制作成本较高，且制作效率较低，本发明以全自动绘制目的为目的，在保证作业精度和质量的前提下实现人工简短开始，程序按照激光点云的地物特点自动绘制的功能。参见图1所示的一种线状要素的示意图，如图1中的白线，上面位道路边线，稍下面为车道边线。目前，现有技术主要涉及以下三种，存在的缺点如下所示：人工绘制，这种方法在广大图商中广为应用，其精准度的把控较高，其缺点是，对作业员的要求较高，不但要求经验要高，而且绘制过程枯燥而持续。基于点云信息的自动绘制，这种方法往往较慢且需要大量辅助人工修正，因为容易出现地物绘制不完整，且出现重复绘制和地物特点把控不完整的问题。基于深度学习的自动识别，这种方法需要提前大量的样本准备，且程序要有较长时间的预先学习的时间成本，且对未经学习的要素不能识别或错误识别。本发明涉及电子地图领域，具体而言，涉及基于激光点云的车道边线、路牙、路缘石、护栏、道路边界线等地高精导航地图线要素的数据采集提取方法。本发明实施例已经实现：车道边线生成、路牙线制作、护栏绘制；本发明实施例的技术延展包括：曲线预测、多维向量加权、激光点云。基于此，本发明实施提供了一种高精导航图线状要素智能自适追索生成方法、装置及设备，可以显著降低人工参与的工作量，可以有效降低线状要素追索的前期准备工作，从而提高线状要素追索的整体效率，同时还可以有效提高线状要素追索的精度。为便于对本实施例进行理解，首先对本发明实施例所公开的一种高精导航图线状要素智能自适追索生成方法进行详细介绍，参见图2所示的一种高精导航图线状要素智能自适追索生成方法的流程示意图，该方法主要包括以下步骤S202至步骤S210：步骤S202，获取高精导航图对应的待追索点云数据，并从待追索点云数据中确定至少两个追索起点，以进入自适追索流程。其中，追索起点也即位于起始位置处的要素点，自适追索流程用于自动对要素点进行追索，以得到线状要素追索结果。可选的，可以通过人工绘制的方式，从待追索点云数据中选定至少两个追索起点。在一例中，如果人工绘制的要素点的数量仅为1个，且接收到人工绘制结束消息，则不再进行线状要素的追索；在一例中，如果人工绘制的要素点的数量为2个，且接收到人工绘制结束消息，则进入自适追索流程；在一例中，如果人工绘制的要素点的数量为3个，则自动进入自适追索流程。步骤S204，基于追索起点对应的坐标值，对当前要素点进行追索，得到当前要素点对应的初始坐标值。在一种实施方式中，如果追索起点的数量为2个，也即人工绘制了第一个要素点和第二要素点，则需要根据2个追索起点的坐标值，对第三个要素点进行追索，得到第三个要素点对应的初始坐标值。在另一种实施方式中，如果追索起点的数量为3个，也即人工绘制了第一个要素点、第二个要素点和第三个要素点，则需要根据3个追索起点的坐标值，对第四个要素点进行追索，得到第四个要素点对应的初始坐标值。步骤S206，根据追索起点对应的坐标值、待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量。其中，对于任一指标项对应的目标坐标修正向量，该目标修正向量为该指标项对应的多个初始坐标修正向量的均值，初始坐标修正向量的户数量与追索起点的数量相关，初始坐标修正向量为从该指标项对应的重心点指向追索起点的向量。在一种实施方式中，可以将待追索点云数据的一个或多个属性作为指标项，诸如将高程、反射角、反射率、颜色值等属性作为指标项。在此基础上，首先以追索起点的坐标值为球心坐标确定检索范围，以基于指标项的值与预设点云指标阈值，进一步对该检索范围内的点云数据进行筛选，以得到每个指标项对应的目标点云数据，根据目标点云数据中每个点的坐标值确定出每个指标项对应的重心点，从而基于中心点和追索起点构造指标相对应的初始坐标修正向量，再对指标项对应的各初始坐标修正向量求均值得到相应的目标坐标修正向量。步骤S208，利用每个指标项对应的目标坐标修正向量，对当前要素点对应的初始坐标值进行修正，得到当前要素点对应的目标坐标值。在一种实施方式中，以当前要素点对应的初始坐标值为球心坐标确定检索范围，以基于指标项的值与预设点云指标阈值，进一步对该检索范围内的点云数据进行筛选，以得到每个指标项对应的目标点云数据，根据目标点云数据中每个点的坐标值确定出每个指标项对应的重心点，从而基于中心点和追索起点构造指标相对应的待修正向量，利用每个指标项对应的目标坐标修正向量对该待修正向量进行偏移，实质是对初始坐标值的偏移，即可得到每个指标对应的偏移后坐标值，最后基于所有指标对应的偏移后坐标值的均值，确定出当前要素点对应的目标坐标值。可选的，为区分步骤S206至步骤S208中筛选得到的目标点云数，现将基于追索起点确定的每个指标项对应的目标点云数据记为第一目标点云数据，将基于当前要素点确定的每个指标项对应的目标点云数据记为第二目标点云数据。同理，将基于追索起点确定的每个指标项对应的重心点即为第一重心点，将基于当前要素点确定的每个指标项对应的重心点即为第二重心点。步骤S210，继续基于当前要素点对应的目标坐标值，对下一个要素点进行追索，直至满足预设的追索停止条件时，基于追索起点的坐标值和每个要素点的目标坐标值生成线状要素追索结果，并退出自适追索流程。在一种实施方式中，在确定当前要素点对应的目标坐标值之后，可以将该当前要素点作为新的追索起点，并从前述追索起点中确定出至少一个新的追索起点，从而利用至少两个新的追索起点继续对下一个要素点进行追索。优选的，后续追索过程均可采用3个点对下一个要素点进行追索。重复执行前述步骤S204至步骤S208，当无法追踪到点云数据或者无法筛选出符合预设点云指标阈值的目标点云数据时，即可确定满足追索停止条件，此时将人工设定的追索起点和追索得到的每个要素起点及其坐标值，作为线状要素追索结果，并退出自适追索流程，直至用户再次触发进入自适追索流程。本发明实施例提供的高精导航图线状要素智能自适追索生成方法，利用简单的人工操作确定出至少两个追索起点，并在追踪起点的基础上进入自适追索流程，即可自动地对要素点及其坐标值进行追索，本发明实施例通过确定当前要素点对应的初始坐标值，并利用目标坐标修正向量对其进行修正的方式，得到当前要素点的目标坐标值，循环这一过程，即可得到精度较高的线状要素追索结果，本发明实施例可以显著降低人工参与的工作量，可以有效降低线状要素追索的前期准备工作，从而提高线状要素追索的整体效率，同时还可以有效提高线状要素追索的精度。为便于理解，本发明实施例提供了如图3所示的另一种高精导航图线状要素智能自适追索生成方法的流程图，图3示意出了进入自适追索流程和退出自适追索流程的逻辑，包括如下步骤S302至步骤S314：步骤S302，人工绘制。步骤S304，判断人工绘制的要素点的数量是否为1。如果是，则结束，如果否，则执行步骤S306。步骤S306，判断人工绘制的要素点的数量是否为2。如果是，则执行步骤S308；如果否，则执行步骤S310。步骤S308，基于2个点追索当前要素点，并执行步骤S310，以在后续追索过程中基于3个点追索下一要素点。步骤S310，基于3个点追索当前要素点。步骤S312，判断是否可以追索到点云数据。如果是，则执行步骤S314；如果否，则执行步骤S310。步骤S314，完成追索，输出线状要素追索结果。在图3的基础上，本发明实施例对前述步骤S202进行解释说明，共分为三种场景：在一例中，如果追索起点的数量为1个，且接收到人工绘制结束消息，则直接结束。示例性的，在图形用户界面显示有结束人工绘制的控件，当用户仅绘制1个要素点，并点击该控件时，即可接收到人工绘制结束消息，并不再继续追踪。在一例中，如果追索起点的数量为2个，且接收到人工绘制结束消息，则进入自适追索流程。示例性的，当用户绘制2个要素点，并点击该控件时，即可接受到人工绘制结束消息，此时将进入自适追索流程，在该自适追索流程执行过程中，首先进行2点追索，也即基于2个要素点追索当前要素点，然后进行3点追索，也即基于3个要素点追索下一个要素点。其中，两点追索与三点追索主要在追踪预测公式略有不同，其他逻辑相同。在一例中，如果追索起点的数量为3个，则进入自适追索流程。示例性的，当用户绘制3个要素点，将直接进入自适追索流程，并进行3点追索，也即基于3个要素点追索下一个要素点。前述步骤S204至步骤S208也即自适追索流程的具体追索过程，本发明实施例依次对步骤S204至步骤S208进行解释说明。对于步骤S204，本发明实施例提供了一种基于追索起点对应的坐标值，对当前要素点进行追索，得到当前要素点对应的初始坐标值的实施方式，参见如下方式一至方式二：方式一，如果追索起点的数量为2个，也即人工绘制了第一个要素点和第二要素点，则需要根据2个追索起点的坐标值，对第三个要素点进行追索，得到第三个要素点对应的初始坐标值。示例性的，假设第一个要素点的坐标值为/＞，和第二个要素点/＞的坐标值为/＞，将依据两点/＞和/＞计算第三个要素点/＞的坐标值：在一例中，可以使用线性方程预测第三个要素点，线性方程公式如下：；其中，、/＞、/＞、/＞、/＞、/＞均为线性方程的系数，/＞为线性方程的变量。在一例中，以为起点即t=0，以为/＞中点即t=0.5，计算终点/＞即t=1如下：；。方式二，如果追索起点的数量为3个，也即人工绘制了第一个要素点、第二个要素点和第三个要素点，则需要根据3个追索起点的坐标值，对第四个要素点进行追索，得到第四个要素点对应的初始坐标值。在具体实现时，首先计算第一个要素点的参数值/＞、第二个要素点/＞的参数值/＞、第三个要素点/＞的参数值/＞和第四个要素点/＞的参数值/＞，然后根据参数值、第一个要素点/＞的坐标值/＞、第二个要素点/＞的坐标值/＞、第三个要素点/＞的坐标值/＞，计算第四个要素点/＞的初始坐标值。参见如下步骤至：计算第一个要素点、第二个要素点/＞、第三个要素点/＞和第四个要素点/＞的参数值/＞：以平均距离为第三个要素点和第四个要素点/＞间距计算曲线参数方程的参数值，公式如下：、/＞的距离为/＞；、/＞的距离为/＞；则、/＞的距离为/＞；所以。根据参数值、第一个要素点的坐标值/＞、第二个要素点/＞的坐标值、第三个要素点/＞的坐标值/＞，计算第四个要素点/＞的初始坐标值：用曲线方程预测第三点，曲线方程公式如下：；其中，、/＞、/＞、/＞、/＞、/＞、/＞、/＞、/＞为曲线方程的系数，/＞为变量。将计算得到的t值带入上述曲线方程之后得：；将计算得出的系数值和参数值t=1带入曲线方程，得到第四个要素点/＞的初始坐标值：。对于步骤S206，本发明实施例提供了一种根据追索起点对应的坐标值、待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量的实施方式，参见如下步骤1至步骤3：步骤1，根据追索起点对应的坐标值和预设点云指标阈值，从待追索点云数据中提取每个指标项对应的第一目标点云数据，并基于第一目标点云数据中每个点的坐标值，确定每个指标项对应的第一重心点。在一种具体的实施方式中，参见如下步骤1.1至步骤1.3：步骤1.1，以追索起点对应的坐标值为球心，基于预设球半径从待追索点云数据中提取初始点云数据。在一例中，以第一个要素点对应的坐标值为球心，以预设值为半径的球体作为检索范围，将位于该检索范围内的待追索点云数据作为初始点云数据。假设人工绘制的要素点数量为3个，同理可以分别以第二个要素点、第三个要素点对应的坐标值为球心，得到相应的初始点云数据，本发明实施例在此不再进行赘述。步骤1.2，对于每个指标项，如果初始点云数据内的点针对于该指标项的值位于预设点云指标阈值外，则将该点从初始点云数据中剔除，以得到该指标项对应的第一目标点云数据。其中，指标项包括高程、反射角、反射率、颜色值中的一种或多种，也即在实际应用中，可以基于各指标项的数据质量或者实际需求，从中选择所需的属性作为指标项，诸如仅将高程和颜色值作为指标项。预设点云指标阈值需要与选定的指标项一一对应。示例性的，以第一个要素点为球心筛选得到的初始点云数据为例，假设指标项为高程，则对于初始点云数据内的每个点，判断该点的高程值是否位于预设点云高程阈值之内，如果是，则保留该点，反之将该点从初始点云数据中剔除，即可确定出以高程这一指标项为检索条件筛选得到的第一目标点云数据。同理可以确定出以其他指标项为检索条件筛选得到的第一目标点云数据。假设人工绘制的要素点数量为3个，同理可以分别从以第二个要素点、第三个要素点为筛选得到的初始点云数据中，筛选出各个指标项对应的第一目标点云数据，本发明实施例在此不再进行赘述。步骤1.3，将第一目标点云数据中每个点的坐标值的均值，作为该指标项对应的第一重心点。在一例中，可以按照如下公式计算该指标项对应的第一重心点：；其中，为重心点坐标，为第一目标点云数据中第/＞个点的坐标值，/＞为第一目标点云数据包含的点的数量。继续以高程指标项和颜色值指标项为例，按照上述公式，可以分别得到高程指标项对应的第一重心点和颜色指标项对应的第一重心点。示例性的，假设人工绘制的要素点数量为3个，指标项为高程指标项和颜色值指标项，则经过前述步骤1.1至步骤1.3，可以分别得到第一个要素点中高程指标项对应的第一重心点、颜色指标项对应的第一重心点，第二个要素点/＞中高程指标项对应的第一重心点、颜色指标项对应的第一重心点，第三个要素点/＞中高程指标项对应的第一重心点、颜色指标项对应的第一重心点。步骤2，基于追索起点和每个指标项对应的第一重心点，确定每个指标项对应的初始坐标修正向量。在一例中，对于每个指标项，构造从该指标项对应的第一重心点指向追索起点的初始坐标修正向量。具体可以按照如下公式得到初始坐标修正向量：；其中，为球心，也即前述追索起点，为初始坐标修正向量。继续以高程指标项和颜色值指标项为例，则分别构造从高程指标项对应的第一重心点指向追索起点的向量，该向量即为高程指标项对应的初始坐标修正向量；同理，可以构造得到颜色值指标项对应的初始坐标修正向量。示例性的，假设人工绘制的要素点数量为3个，指标项为高程指标项和颜色值指标项，则经过前述步骤2，可以分别得到第一个要素点中高程指标项对应的初始坐标修正向量、颜色指标项对应的初始坐标修正向量，第二个要素点/＞中高程指标项对应的初始坐标修正向量、颜色指标项对应的初始坐标修正向量，第三个要素点/＞中高程指标项对应的初始坐标修正向量、颜色指标项对应的初始坐标修正向量。步骤3，对于每个指标项，将该指标项对应的初始坐标修正向量的均值，作为该指标项对应的目标坐标修正向量。示例性的，以高程指标项为例，可以将第一个要素点中高程指标项对应的初始坐标修正向量、第二个要素点/＞中高程指标项对应的初始坐标修正向量、第三个要素点/＞中高程指标项对应的初始坐标修正向量的均值，作为高程指标项对应的目标坐标修正向量；同理可以得到其他指标项对应的目标坐标修正向量，本发明实施例在此不再进行赘述。对于前述步骤S208，本发明实施例提供了一种利用每个指标项对应的目标坐标修正向量，对当前要素点对应的初始坐标值进行修正，得到当前要素点对应的目标坐标值的实施方式，参见如下步骤a至步骤d：步骤a，根据当前要素点对应的初始坐标值和预设点云指标阈值，从待追索点云数据中提取每个指标项对应的第二目标点云数据，并基于第二目标点云数据中每个点的坐标值，确定每个指标项对应的第二重心点。在一例中，第二重心点的确定过程可参见前述步骤1.1至步骤1.3，第二重心点坐标值的计算公式可参见前述第一重心点的坐标值计算公式，本发明实施例在此不再进行赘述。步骤b，基于每个指标项对应的目标坐标修正向量和第二重心点，当前要素点针对于每个指标项的偏移后坐标值。在具体实现时，可以参见如下步骤b1至步骤b2：步骤b1，对于每个指标项，构造从该指标项对应的第二重心点指向初始坐标值的待修正向量。示例性的，以高程指标项为例，构造从高程指标项对应的第二重心点指向初始坐标值的向量，该向量即为高程指标项对应的待修正向量；同理可以得到其他指标项对应的待修正向量，本发明实施例在此不再进行赘述。步骤b2，利用该指标项对应的目标坐标修正向量，对该指标项对应的待修正向量进行偏移，以得到当前要素点针对于该指标项的偏移后坐标值。在一例中，目标坐标修正向量与待修正向量之间的偏差可以体现初始坐标值的误差，按照某一指标项对应的目标坐标修正向量对该指标项对应的待修正向量进行偏移，偏移后的带修正向量的两个端点坐标将发生变化，其中，偏移后的初始坐标值即为该指标项对应的偏移后坐标值。例如，按照上述步骤b2分别得到高程指标项对应的偏移后坐标向量和颜色值对应的偏移后向量。步骤c，将当前要素点针对于每个指标项的偏移后坐标值的均值，作为第三重心点和第三重心点对应的坐标值。其中，第三重心点坐标值的计算公式可参见前述第一重心点的坐标值计算公式，本发明实施例对此不再进行赘述。步骤d，根据第三重心点对应的坐标值，确定第三重心点与待追索点云数据中每个点之间的距离，以基于距离从待追索点云数据中，确定当前要素点及当前要素点对应的目标坐标值。在一种实施方式中，可以确定出第三重心点与待追索点云数据中每个点之间的距离，将距离最近的点作为当前要素点，并将距离最近的点的坐标值作为当前要素点对应的目标坐标值。另外，对于前述步骤S210，本发明实施例还提供了一种继续基于当前要素点对应的目标坐标值，对下一个要素点进行追索的实施方式，包括：将当前要素点作为新的追索起点；以及根据追索起点与当前要素点之间的相对位置关系，从追索起点中确定至少一个新的追索起点；基于新的追索起点对应的坐标值，对下一个要素点进行追索。假设人工绘制的要素点数量为2个，则可以基于人工绘制的2个要素点和追索得到的第3个要素点，继续对第4个要素点进行追索；假设人工绘制的要素点数量为3个，则可以从3个要素点中选定2两个要素点，结合追索得到的第4个要素点，继续对第5个要素点进行追索。当无法再追踪到点云数据时，即可退出自适追索流程，同时可以输出相应的线状要素追索结果。本发明实施例的构思为：人工依据经验指定地物，程序将繁琐枯燥的工作完成，以达到精细把控和效率的共赢。本发明实施例在虽然大大降低人工操作，但并没有完全摒弃人工，同时基于绘制的探索，因地物单一，较完全自动绘制更加精准和快捷，且不易出错。相较于深度学习来讲，不但完全没有预先处理的资源和时间消耗，且识别精度把控和地物特点把控更加精细。进一步的，本发明实施例还提供了如图4所示的另一种高精导航图线状要素智能自适追索生成的流程示意图，图4示意出了自适追索流程的具体过程，包括步骤S402至步骤S428：步骤S402，获取最临近连续绘制的要素点的坐标值；步骤S404，只有两个要素点，则执行步骤S406；步骤S406，依据公式计算第三个要素点的初始坐标值，并执行步骤S414；步骤S408，足够三个要素点，则执行步骤S410；步骤S410，计算三个要素点的参数值；步骤S412，依据公式计算第四个要素点的初始坐标值；步骤S414，以该三个要素点为球心、以半径R搜索待追搜点云数据中的点，得到初始点云数据；步骤S416，各个要素点以不同点云指标阈值在初始点云数据中提取符合的点，得到目标点云数据；步骤S418，各指标项对应的目标点云数据计算重心点；步骤S420，依据公式计算前两个要素点各指标项到对应球心的初始坐标修正向量；步骤S422，计算前两个要素点各指标项对应的向量均值，并将向量均值作为各个指标项对应的目标坐标修正向量；步骤S424，依据向量均值计算第三个要素点各个指标项对应的偏移后坐标值；步骤S426，各个指标项对应的偏移后坐标值计算重心点；步骤S428，计算该重心点的最近点云点即为所求的当前要素点。本发明的研究主要是解决高精地图线状要素的绘制精度和效率问题，本发明和全人工、全自动绘制、深度学习自动识别以同一段包括道路边线、车道边线、护栏和路牙全包括的复杂区域来测算对比如下表。在前述实施例的基础上，本发明实施例提供了一种高精导航图线状要素智能自适追索生成装置，参见图5所示的一种高精导航图线状要素智能自适追索生成装置的结构示意图，该装置主要包括以下部分：起点确定模块502，用于获取高精导航图对应的待追索点云数据，并从待追索点云数据中确定至少两个追索起点，以进入自适追索流程；初始坐标值确定模块504，用于基于追索起点对应的坐标值，对当前要素点进行追索，得到当前要素点对应的初始坐标值；修正向量确定模块506，用于根据追索起点对应的坐标值、待追索点云数据和预设点云指标阈值，确定每个指标项对应的目标坐标修正向量；目标坐标值确定模块508，用于利用每个指标项对应的目标坐标修正向量，对当前要素点对应的初始坐标值进行修正，得到当前要素点对应的目标坐标值；结果确定模块510，用于继续基于当前要素点对应的目标坐标值，对下一个要素点进行追索，直至满足预设的追索停止条件时，基于追索起点的坐标值和每个要素点的目标坐标值生成线状要素追索结果，并退出自适追索流程。本发明实施例提供的高精导航图线状要素智能自适追索生成装置，利用简单的人工操作确定出至少两个追索起点，并在追踪起点的基础上进入自适追索流程，即可自动地对要素点及其坐标值进行追索，本发明实施例通过确定当前要素点对应的初始坐标值，并利用目标坐标修正向量对其进行修正的方式，得到当前要素点的目标坐标值，循环这一过程，即可得到精度较高的线状要素追索结果，本发明实施例可以显著降低人工参与的工作量，可以有效降低线状要素追索的前期准备工作，从而提高线状要素追索的整体效率，同时还可以有效提高线状要素追索的精度。在一种实施方式中，修正向量确定模块506还用于：根据追索起点对应的坐标值和预设点云指标阈值，从待追索点云数据中提取每个指标项对应的第一目标点云数据，并基于第一目标点云数据中每个点的坐标值，确定每个指标项对应的第一重心点；基于追索起点和每个指标项对应的第一重心点，确定每个指标项对应的初始坐标修正向量；对于每个指标项，将该指标项对应的初始坐标修正向量的均值，作为该指标项对应的目标坐标修正向量。在一种实施方式中，修正向量确定模块506还用于：以追索起点对应的坐标值为球心，基于预设球半径从待追索点云数据中提取初始点云数据；对于每个指标项，如果初始点云数据内的点针对于该指标项的值位于预设点云指标阈值外，则将该点从初始点云数据中剔除，以得到该指标项对应的第一目标点云数据；将第一目标点云数据中每个点的坐标值的均值，作为该指标项对应的第一重心点。在一种实施方式中，修正向量确定模块506还用于：对于每个指标项，构造从该指标项对应的第一重心点指向追索起点的初始坐标修正向量。在一种实施方式中，目标坐标值确定模块508还用于：根据当前要素点对应的初始坐标值和预设点云指标阈值，从待追索点云数据中提取每个指标项对应的第二目标点云数据，并基于第二目标点云数据中每个点的坐标值，确定每个指标项对应的第二重心点；基于每个指标项对应的目标坐标修正向量和第二重心点，当前要素点针对于每个指标项的偏移后坐标值；将当前要素点针对于每个指标项的偏移后坐标值的均值，作为第三重心点和第三重心点对应的坐标值；根据第三重心点对应的坐标值，确定第三重心点与待追索点云数据中每个点之间的距离，以基于距离从待追索点云数据中，确定当前要素点及当前要素点对应的目标坐标值。在一种实施方式中，目标坐标值确定模块508还用于：对于每个指标项，构造从该指标项对应的第二重心点指向初始坐标值的待修正向量；利用该指标项对应的目标坐标修正向量，对该指标项对应的待修正向量进行偏移，以得到当前要素点针对于该指标项的偏移后坐标值。在一种实施方式中，结果确定模块510还用于：将当前要素点作为新的追索起点；以及根据追索起点与当前要素点之间的相对位置关系，从追索起点中确定至少一个新的追索起点；基于新的追索起点对应的坐标值，对下一个要素点进行追索。在一种实施方式中，起点确定模块502还用于：如果追索起点的数量为2个，且接收到人工绘制结束消息，则进入自适追索流程；如果追索起点的数量为3个，则进入自适追索流程。本发明实施例所提供的装置，其实现原理及产生的技术效果和前述方法实施例相同，为简要描述，装置实施例部分未提及之处，可参考前述方法实施例中相应内容。本发明实施例提供了一种电子设备，具体的，该电子设备包括处理器和存储装置；存储装置上存储有计算机程序，计算机程序在被所述处理器运行时执行如上所述实施方式的任一项所述的方法 。图6为本发明实施例提供的一种电子设备的结构示意图，该电子设备100包括：处理器60，存储器61，总线62和通信接口63，所述处理器60、通信接口63和存储器61通过总线62连接；处理器60用于执行存储器61中存储的可执行模块，例如计算机程序。其中，存储器61可能包含高速随机存取存储器，也可能还包括非不稳定的存储器，例如至少一个磁盘存储器。通过至少一个通信接口63实现该系统网元与至少一个其他网元之间的通信连接，可以使用互联网，广域网，本地网，城域网等。总线62可以是ISA总线、PCI总线或EISA总线等。所述总线可以分为地址总线、数据总线、控制总线等。为便于表示，图6中仅用一个双向箭头表示，但并不表示仅有一根总线或一种类型的总线。其中，存储器61用于存储程序，所述处理器60在接收到执行指令后，执行所述程序，前述本发明实施例任一实施例揭示的流过程定义的装置所执行的方法可以应用于处理器60中，或者由处理器60实现。处理器60可能是一种集成电路芯片，具有信号的处理能力。在实现过程中，上述方法的各步骤可以通过处理器60中的硬件的集成逻辑电路或者软件形式的指令完成。上述的处理器60可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。可以实现或者执行本发明实施例中的公开的各方法、步骤及逻辑框图。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合本发明实施例所公开的方法的步骤可以直接体现为硬件译码处理器执行完成，或者用译码处理器中的硬件及软件模块组合执行完成。软件模块可以位于随机存储器，闪存、只读存储器，可编程只读存储器或者电可擦写可编程存储器、寄存器等本领域成熟的存储介质中。该存储介质位于存储器61，处理器60读取存储器61中的信息，结合其硬件完成上述方法的步骤。本发明实施例所提供的可读存储介质的计算机程序产品，包括存储了程序代码的计算机可读存储介质，所述程序代码包括的指令可用于执行前面方法实施例中所述的方法，具体实现可参见前述方法实施例，在此不再赘述。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。最后应说明的是：以上所述实施例，仅为本发明的具体实施方式，用以说明本发明的技术方案，而非对其限制，本发明的保护范围并不局限于此，尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，其依然可以对前述实施例所记载的技术方案进行修改或可轻易想到变化，或者对其中部分技术特征进行等同替换；而这些修改、变化或者替换，并不使相应技术方案的本质脱离本发明实施例技术方案的精神和范围，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应所述以权利要求的保护范围为准。
