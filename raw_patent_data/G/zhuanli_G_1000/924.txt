标题title
一种供电系统、计算板卡和服务器
摘要abst
本发明提供一种供电系统、计算板卡和服务器，涉及板卡供电技术领域。该系统包括：USB‑C连接器用于从PD电源适配器获取供电信号；第一传输电路用于被选通时将供电信号引到计算板卡的供电输入端；第二传输电路用于在选通时将供电信号进行功率转换后引到计算板卡的供电输入端；功率检测电路用于将供电信号的功率与预设功率进行比较并输出比较结果；驱动电路用于根据功率检测电路输出的比较结果分别为第一选通端和第二选通端生成驱动信号，以选通第一传输电路或选通第二传输电路。本发明的方案具有极佳的通用性，适合功率变化范围较大的计算板卡，能够有效避免功率损耗现象的发生，显著提升板卡供电稳定性和可靠性。
权利要求书clms
1.一种供电系统，其特征在于，用于为计算板卡供电，所述系统包括：USB-C连接器，所述USB-C连接器与PD电源适配器连接，用于从所述PD电源适配器获取供电信号；第一传输电路，所述第一传输电路设置有第一选通端，用于在所述第一选通端被选通时将所述供电信号引到所述计算板卡的供电输入端；第二传输电路，所述第一传输电路设置有第二选通端，用于在所述第二选通端被选通时将所述供电信号进行功率转换后引到所述计算板卡的供电输入端；功率检测电路，所述功率检测电路与所述USB-C连接器连接，用于将所述供电信号的功率与预设功率进行比较，并输出比较结果；驱动电路，所述驱动电路的输入端与所述功率检测电路的输出端连接，所述驱动电路的两个输出端分别与所述第一选通端和第二选通端连接，所述驱动电路用于根据所述功率检测电路输出的所述比较结果分别为所述第一选通端和第二选通端生成驱动信号，以选通所述第一传输电路或选通所述第二传输电路。2.根据权利要求1所述的供电系统，其特征在于，所述功率检测电路包括比较器；所述比较器用于将所述供电信号的电压与预设参考电压进行比较，并通过所述比较器的输出端输出比较结果；其中，所述供电信号的电压未超过所述预设参考电压时输出预设高电平，以及在所述供电信号的电压未超过所述预设参考电压时输出预设低电平。3.根据权利要求2所述的供电系统，其特征在于，所述功率检测电路还包括第一电阻和第二电阻；所述第一电阻与所述第二电阻串联，所述第一电阻远离所述第二电阻的一端与所述供电信号连接，所述第二电阻远离所述第一电阻的一端接地；所述比较器的正输入端与电压值等于预设高电平的电源连接，所述比较器的负输入端与所述第一电阻和第二电阻的串联端连接，所述比较器的输出端与所述驱动电路的输入端连接。4.根据权利要求2所述的供电系统，其特征在于，所述预设参考电压为12伏特。5.根据权利要求1所述的供电系统，其特征在于，第一传输电路包括第一NMOS管；所述第一NMOS管的漏极与所述供电信号连接，所述第一NMOS管的源极与所述计算板卡的供电输入端连接，所述第一NMOS管的栅极作为所述第一选通端。6.根据权利要求1所述的供电系统，其特征在于，第二传输电路包括第二NMOS管、第一直流-直流转换器和第三NMOS管；所述第一直流-直流转换器用于将输入端信号转的电压转换至预设电压后通过输出端输出；所述第二NMOS管的漏极与所述供电信号连接，所述第二NMOS管的源极与所述第一直流-直流转换器的输入端连接；第三NMOS管的漏极与所述第一直流-直流转换器的输出端连接，所述第二NMOS管的源极与所述计算板卡的供电输入端连接；所述第二NMOS管的栅极和所述第三NMOS管的栅极均作为第二选通端。7.根据权利要求5所述的供电系统，其特征在于，所述系统还包括热插拔芯片，所述第一NMOS管的源极经过所述热插拔芯片连接到所述计算板卡的供电输入端。8.根据权利要求6所述的供电系统，其特征在于，所述系统还包括热插拔芯片，所述第二NMOS管的源极经过所述热插拔芯片连接到所述计算板卡的供电输入端。9.根据权利要求1所述的供电系统，其特征在于，所述驱动电路包括用于驱动所述第一选通端的第一驱动电路和用于驱动所述第二选通端的第二驱动电路。10.根据权利要求9所述的供电系统，其特征在于，所述第一驱动电路包括：第一二极管、第一PMOS管、第二PMOS管、第三电阻、第四电阻、第五电阻、第六电阻、第一电容和第二电容；所述第一二极管的阴极与所述功率检测电路的输出端连接；所述第一PMOS管的栅极与所述第一二极管的阳极、所述第三电阻的一端、以及所述第一电容的一端连接，所述第一PMOS管的源极接地，所述第一PMOS管的漏极与所述第四电阻的一端、第二PMOS管的栅极连接，所述第三电阻的另一端和所述第四电阻的另一端均与电压值等于预设高电平的电源连接，所述第一电容的另一端接地；所述第二PMOS管的源极接地，所述第二PMOS管的漏极与所述第五电阻的一端、所述第六电阻的一端、以及所述第二电容的一端连接，所述第五电阻的另一端与所述供电信号连接，所述第六电阻的另一端接地，所述第二电容的另一端接地，所述第二PMOS管的漏极作为所述第一驱动电路的输出端与所述第一选通端连接。11.根据权利要求9所述的供电系统，其特征在于，所述第二驱动电路包括：第二二极管、第三PMOS管、第七电阻、第八电阻、第九电阻、第三电容、第四电容和第五电容；所述第二二极管的阴极与所述功率检测电路的输出端连接；所述第三PMOS管的栅极与所述第二二极管的阳极、所述第七电阻的一端、以及所述第三电容的一端连接，所述第七电阻的另一端与电压值等于预设高电平的电源连接，所述第三电容的另一端接地；所述第三PMOS管的源极接地，所述第三PMOS管的漏极与所述第八电阻的一端、所述第九电阻的一端、所述第四电容的一端、以及所述第五电容的一端连接，所述第八电阻的另一端与所述供电信号连接，所述第九电阻的另一端、所述第四电容以及所述第五电容的另一端均接地，所述第三PMOS管的漏极作为所述第二驱动电路的输出端与所述第二选通端连接。12.根据权利要求2或9所述的供电系统，其特征在于，所述系统还包括第二直流-直流转换器，所述第二直流-直流转换器用于将所述供电信号的电压转换至等于电压值预设高电平后作为电源输出。13.根据权利要求12所述的供电系统，其特征在于，所述预设高电平的电压值等于3.3伏特。14.根据权利要求1所述的供电系统，其特征在于，所述供电输入端为所述计算板卡上电压调节模块的输入端；所述电压调节模块用于将输入端的信号转换至电压等于所述计算板卡上计算芯片工作所需电压，并通过输出端输出给计算芯片。15.根据权利要求14所述的供电系统，其特征在于，所述计算芯片包括中央处理器、图形处理器、现场可编程逻辑门阵列、专用集成电路芯片以及系统级芯片。16.根据权利要求1所述的供电系统，其特征在于，所述PD电源适配器采用USB PowerDelivery协议供电。17.根据权利要求16所述的供电系统，其特征在于，所述PD电源适配器根据所述计算板卡的计算量为所述计算板卡提供多种功率的供电信号。18.一种计算板卡，其特征在于，所述计算板卡采用权利要求1至17任意一项所述的供电系统供电。19.根据权利要求18所述的计算板卡，其特征在于，所述计算板卡用于处理边缘计算任务。20.一种服务器，其特征在于，所述服务器包括计算板卡，所述计算板卡采用权利要求1-17任意一项所述的供电系统供电。
说明书desc
技术领域本发明涉及板卡供电技术领域，尤其涉及一种供电系统、计算板卡和服务器。背景技术近些年来，随着移动设备的普及和功能增强使得，快速充电成为用户的迫切需求。传统的USB充电标准已经不能满足用户对充电速度的要求，Type-C是USB接口的一种形式，不分正反两面均可插入，支持USB标准的充电、数据传输、视频传输、音频传输、显示输出等功能，同时支持USB-PD协议则可实现高达100W的电源供电。USB-PD协议容许USB Type-C连接器为一些计算设备等供电，也可以对手机、笔记本电脑等设备进行充电。新的USB PD 3.0协议还支持可编程电源 协议，容许对总线电压和电流进行精确调节。目前，在采用USB PD协议为计算设备供电时，需要结合计算板卡所需功率为其单独设计供电电路，当计算板卡改变功率时原有的供电电路可能会无法使用，或者即使供电电路能够适应计算板卡的功率变化也会在一定程度上造成功率损耗，因而亟需改进。发明内容本发明提供一种供电系统、计算板卡和服务器，用以解决相关技术中采用USB-PD协议为计算板卡供电存在功率损耗或者供电电路无法适配适配器高功率输出缺陷，实现自动判定电源适配器的实际功率，并根据实际功率自动切换供电信号传输电路。根据本发明的第一方面，提供了一种供电系统，用于为计算板卡供电，所述系统包括：USB-C连接器，所述USB-C连接器与PD电源适配器连接，用于从所述PD电源适配器获取供电信号；第一传输电路，所述第一传输电路设置有第一选通端，用于在所述第一选通端被选通时将所述供电信号引到所述计算板卡的供电输入端；第二传输电路，所述第一传输电路设置有第二选通端，用于在所述第二选通端被选通时将所述供电信号进行功率转换后引到所述计算板卡的供电输入端；功率检测电路，所述功率检测电路与所述USB-C连接器连接，用于将所述供电信号的功率与预设功率进行比较，并输出比较结果；驱动电路，所述驱动电路的输入端与所述功率检测电路的输出端连接，所述驱动电路的两个输出端分别与所述第一选通端和第二选通端连接，所述驱动电路用于根据所述功率检测电路输出的所述比较结果分别为所述第一选通端和第二选通端生成驱动信号，以选通所述第一传输电路或选通所述第二传输电路。在一些可能的实现方式中，所述功率检测电路包括比较器；所述比较器用于将所述供电信号的电压与预设参考电压进行比较，并通过所述比较器的输出端输出比较结果；其中，所述供电信号的电压未超过所述预设参考电压时输出预设高电平，以及在所述供电信号的电压未超过所述预设参考电压时输出预设低电平。在一些可能的实现方式中，所述功率检测电路还包括第一电阻和第二电阻；所述第一电阻与所述第二电阻串联，所述第一电阻远离所述第二电阻的一端与所述供电信号连接，所述第二电阻远离所述第一电阻的一端接地；所述比较器的正输入端与电压值等于预设高电平的电源连接，所述比较器的负输入端与所述第一电阻和第二电阻的串联端连接，所述比较器的输出端与所述驱动电路的输入端连接。在一些可能的实现方式中，所述预设参考电压为12伏特。在一些可能的实现方式中，第一传输电路包括第一NMOS管；所述第一NMOS管的漏极与所述供电信号连接，所述第一NMOS管的源极与所述计算板卡的供电输入端连接，所述第一NMOS管的栅极作为所述第一选通端。在一些可能的实现方式中，第二传输电路包括第二NMOS管、第一直流-直流转换器和第三NMOS管；所述第一直流-直流转换器用于将输入端信号转的电压转换至预设电压后通过输出端输出；所述第二NMOS管的漏极与所述供电信号连接，所述第二NMOS管的源极与所述第一直流-直流转换器的输入端连接；第三NMOS管的漏极与所述第一直流-直流转换器的输出端连接，所述第二NMOS管的源极与所述计算板卡的供电输入端连接；所述第二NMOS管的栅极和所述第三NMOS管的栅极均作为第二选通端。在一些可能的实现方式中，所述系统还包括热插拔芯片，所述第一NMOS管的源极经过所述热插拔芯片连接到所述计算板卡的供电输入端。在一些可能的实现方式中，所述系统还包括热插拔芯片，所述第二NMOS管的源极经过所述热插拔芯片连接到所述计算板卡的供电输入端。在一些可能的实现方式中，所述驱动电路包括用于驱动所述第一选通端的第一驱动电路和用于驱动所述第二选通端的第二驱动电路。在一些可能的实现方式中，所述第一驱动电路包括：第一二极管、第一PMOS管、第二PMOS管、第三电阻、第四电阻、第五电阻、第六电阻、第一电容和第二电容；所述第一二极管的阴极与所述功率检测电路的输出端连接；所述第一PMOS管的栅极与所述第一二极管的阳极、所述第三电阻的一端、以及所述第一电容的一端连接，所述第一PMOS管的源极接地，所述第一PMOS管的漏极与所述第四电阻的一端、第二PMOS管的栅极连接，所述第三电阻的另一端和所述第四电阻的另一端均与电压值等于预设高电平的电源连接，所述第一电容的另一端接地；所述第二PMOS管的源极接地，所述第二PMOS管的漏极与所述第五电阻的一端、所述第六电阻的一端、以及所述第二电容的一端连接，所述第五电阻的另一端与所述供电信号连接，所述第六电阻的另一端接地，所述第二电容的另一端接地，所述第二PMOS管的漏极作为所述第一驱动电路的输出端与所述第一选通端连接。在一些可能的实现方式中，所述第二驱动电路包括：第二二极管、第三PMOS管、第七电阻、第八电阻、第九电阻、第三电容、第四电容和第五电容；所述第二二极管的阴极与所述功率检测电路的输出端连接；所述第三PMOS管的栅极与所述第二二极管的阳极、所述第七电阻的一端、以及所述第三电容的一端连接，所述第七电阻的另一端与电压值等于预设高电平的电源连接，所述第三电容的另一端接地；所述第三PMOS管的源极接地，所述第三PMOS管的漏极与所述第八电阻的一端、所述第九电阻的一端、所述第四电容的一端、以及所述第五电容的一端连接，所述第八电阻的另一端与所述供电信号连接，所述第九电阻的另一端、所述第四电容以及所述第五电容的另一端均接地，所述第三PMOS管的漏极作为所述第二驱动电路的输出端与所述第二选通端连接。在一些可能的实现方式中，所述系统还包括第二直流-直流转换器，所述第二直流-直流转换器用于将所述供电信号的电压转换至等于电压值预设高电平后作为电源输出。在一些可能的实现方式中，所述预设高电平的电压值等于3.3伏特。在一些可能的实现方式中，所述供电输入端为所述计算板卡上电压调节模块的输入端；所述电压调节模块用于将输入端的信号转换至电压等于所述计算板卡上计算芯片工作所需电压，并通过输出端输出给计算芯片。在一些可能的实现方式中，所述计算芯片包括中央处理器、图形处理器、现场可编程逻辑门阵列、专用集成电路芯片以及系统级芯片。在一些可能的实现方式中，所述PD电源适配器采用USB Power Delivery协议供电。在一些可能的实现方式中，所述PD电源适配器根据所述计算板卡的计算量为所述计算板卡提供多种功率的供电信号。根据本发明的第二方面，还提供了一种计算板卡，所述计算板卡采用以上所述的供电系统供电。在一些可能的实现方式中，所述计算板卡用于处理边缘计算任务。根据本发明的第三方面，还提供了一种服务器，所述服务器包括计算板卡，所述计算板卡采用以上所述的供电系统供电。本发明提供的一种供电系统，采用了两种传输电路，一种是直接将PD电源适配器输出的供电信号引到计算板卡的第一传输电路，另一种是先对PD电源适配器输出的供电信号进行功率转换再引入到计算板卡的第二传输电路，通过功率检测电路实现供电信号的功率与预设功率的比较，最后利用驱动电路利用比较结果选通第一传输电路或第二传输电路，由此实现了依据PD电源适配器实际输出功率对供电电路进行动态调整，具有极佳的通用性，适合功率变化范围较大的计算板卡，能够有效避免功率损耗现象的发生，显著提升板卡供电稳定性和可靠性。此外，本发明的还提供了一种计算板卡和一种服务器，同样能实现上述技术效果，这里不再赘述。附图说明为了更清楚地说明本发明或相关技术中的技术方案，下面将对实施例或相关技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是现有的计算板供电系统示意图；图2是现有的计算板卡高功率状态下供电系统示意图；图3是本发明提供的供电系统的流程示意图之一；图4是本发明提供的供电系统电路拓扑结构示意图；图5是本发明提供的供电系统的流程示意图之二；图6是本发明提供的计算盒子的结构示意图。【附图标记说明】：100：PD电源适配器；200：计算板卡；300：供电系统；310：USB-C连接器；320：第一传输电路；321：第一选通端；330：第二传输电路；331：第二选通端；332：第一直流-直流转换器；340：功率检测电路；350：驱动电路；351：第一驱动电路；352：第二驱动电路；360：热插拔芯片；370：第二直流-直流转换器；U1：比较器；N1：第一NMOS管；N2：第二NMOS管；N3：第三NMOS管；P1：第一PMOS管；P2：第二PMOS管；P3：第三PMOS管；R1：第一电阻；R2：第二电阻；R3：第三电阻；R4：第四电阻；R5：第五电阻；R6：第六电阻；R7：第七电阻；R8：第八电阻；R9：第九电阻；C1：第一电容；C2：第二电容；C3：第三电容；C4：第四电容；C5：第五电容；D1：第一二极管；D2：第二二极管；VPIN：供电信号。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合本申请中的附图，对本申请中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请中的术语“第一”、“第二”等是用于区别类似的对象，而不用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便本申请的实施例能够以除了在这里图示或描述的那些以外的顺序实施，且“第一”、“第二”等所区分的对象通常为一类，并不限定对象的个数，例如第一对象可以是一个，也可以是多个。此外，本申请中“和/或”表示所连接对象的至少其中之一，字符“/”，一般表示前后关联对象是一种“或”的关系。在本发明的描述中，还需要说明的是，除非另有明确的规定和限定，术语“设置”、“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电性连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。在相关技术中，图1是现有的计算板供电系统示意图，具体来说是采用PD 100W适配器给含有Type-C USB接口的边缘计算设备盒子的板卡供电，适配器和板卡Type-C USB都支持USB PD协议。PD 100W适配器中也包含USB PD控制器，适配器中的USB PD控制器和板卡的USB PD控制器进行PD协议通信，则可以输出最大20V/5A 100W的功率进行供电。通常边缘计算设备盒子需要12V供电，计算设备盒子正常工作30W左右，如果运行大数据计算的话，最大功率能达到90W左右。当Type-C USB提供90W的功率时，按照PD协议则是Type-C USB输入20V的电压，图1所示的供电方式不满足计算设备盒子所需的12V供电，必须要使用电源砖或者直流-直流转换器将20V转成12V使用，如图2所示。然而，图2示出的供电方式存在以下问题：如果计算盒子正常工作需要30W左右功率的时候，Type-C USB输入12V电源是正好满足计算盒子12V电压的需求，此时PD适配器输出的供电信号同样需要经过电源砖或者直流-直流转换器，由于电源砖或者直流-直流转换器转换效率的问题，会造成部分功耗损失。下面结合图3至图6描述本发明的一种供电系统、一种计算板卡和一种服务器。图3是本发明提供的供电系统的流程示意图之一，本实施例提供了一种供电系统300，该供电系统300用于为计算板卡200供电，该供电系统300包括：USB-C连接器310、第一传输电路320、第二传输电路330、功率检测电路340和驱动电路350，下面将结合各个部件进行详细说明：USB-C连接器310，USB-C连接器310与PD电源适配器100连接，用于从PD电源适配器100获取供电信号PVIN；其中，PD电源适配器100采用USB Power Delivery协议供电。具体来说，USB Power Delivery协议简称USB PD协议，又称功率传输协议，是基于USB3.2 Gen2后提出的功率传输概念，功率传输协议可以将充电能力扩大为10倍，最高可达100瓦。第一传输电路320，第一传输电路320设置有第一选通端321，用于在第一选通端321被选通时将供电信号PVIN引到计算板卡200的供电输入端；第二传输电路330，第一传输电路320设置有第二选通端331，用于在第二选通端331被选通时将供电信号PVIN进行功率转换后引到计算板卡200的供电输入端；功率检测电路340，功率检测电路340与USB-C连接器310连接，用于将供电信号PVIN的功率与预设功率进行比较，并输出比较结果；在具体实施过程中，功率检测电路340可通过检测PD电源适配器100输出的供电信号的电压或者电流实现。预设功率可以根据计算板卡的额定功率确定，或者预设功率也可以根据计算板卡的常规计算任务量确定。示例性的，比如计算板卡在处理常规计算任务时的功率是12v、3A，此时可以将参考功率设置成36W，相应的功率检测电路可以检测PD电源适配器输出的供电信号电压是否超过12V，或者可以检测PD电源适配器输出的供电信号电流是否超过3A，当然也可以同时检测PD电源适配器输出的供电信号的电流和电压。需要说明的是，本实施例中列举的预设功率值仅用于举例说明，不应立即为对本发明方案的限制。驱动电路350，驱动电路350的输入端与功率检测电路340的输出端连接，驱动电路350的两个输出端分别与第一选通端321和第二选通端331连接，驱动电路350用于根据功率检测电路340输出的比较结果分别为第一选通端321和第二选通端331生成驱动信号，以选通第一传输电路320或选通第二传输电路330。本实施例的供电系统，采用了两种传输电路，一种是直接将PD电源适配器输出的供电信号引到计算板卡的第一传输电路，另一种是先对PD电源适配器输出的供电信号进行功率转换再引入到计算板卡的第二传输电路，通过功率检测电路实现供电信号的功率与预设功率的比较，最后利用驱动电路利用比较结果选通第一传输电路或第二传输电路，由此实现了依据PD电源适配器实际输出功率对供电电路进行动态调整，具有极佳的通用性，适合功率变化范围较大的计算板卡，能够有效避免功率损耗现象的发生，显著提升板卡供电稳定性和可靠性。在一些可能的实现方式中，请参照图4所示，功率检测电路340包括比较器U1；比较器U1用于将供电信号PVIN的电压与预设参考电压进行比较，并通过比较器U1的输出端输出比较结果；优选地，在具体实施过程中预设参考电压设置为12伏特。其中，供电信号PVIN的电压未超过预设参考电压时输出预设高电平，以及在供电信号PVIN的电压未超过预设参考电压时输出预设低电平。在一些可能的实现方式中，请再次参照图4所示，功率检测电路340还包括第一电阻R1和第二电阻R2；第一电阻R1与第二电阻R2串联，第一电阻R1远离第二电阻R2的一端与供电信号PVIN连接，第二电阻R2远离第一电阻R1的一端接地；比较器U1的正输入端与电压值等于预设高电平的电源连接，第比较器U1的负输入端与第一电阻R1和第二电阻R2的串联端连接，比较器U1器的输出端与驱动电路350的输入端连接。本实施例的供电系统，能够通过对供电信号的电压检测实现PD电源适配器输出功率的检测，藉由该比较器实现自动判供电信号的是否超出预设功率，从而为后续切换传输电路提供准确的判断依据。在一些可能的实现方式中，请继续参照4所示，第一传输电路320包括第一NMOS管N1；第一NMOS管N1的漏极与供电信号PVIN连接，第一NMOS管N1的源极与计算板卡200的供电输入端连接，第一NMOS管N1的栅极作为第一选通端321。本实施例的供电系统，通过第一NMOS管实现供电信号直接到计算板卡的选通，从而避免了人工进行供电电路的修改与切换，并且成本较低、易于实现。在一些可能的实现方式中，请继续参照4所示，第二传输电路330包括第二NMOS管N2、第一直流-直流转换器332和第三NMOS管N3；第一直流-直流转换器332用于将输入端信号转的电压转换至预设电压后通过输出端输出；第二NMOS管N2的漏极与供电信号PVIN连接，第二NMOS管N2的源极与第一直流-直流转换器332的输入端连接；第三NMOS管N3的漏极与第一直流-直流转换器332的输出端连接，第二NMOS管N2的源极与计算板卡200的供电输入端连接；第二NMOS管N2的栅极和第三NMOS管N3的栅极均作为第二选通端331。本实施例的供电系统，通过第二NMOS管实现供电信号电压调整后再到计算板卡的选通，无需人工进行供电电路的修改与切换，并且成本较低、易于实现。在一些可能的实现方式中，该供电系统300还包括热插拔芯片360，第一NMOS管N1的源极经过热插拔芯片360连接到计算板卡200的供电输入端。在一些可能的实现方式中，该供电系统还包括热插拔芯片360，第二NMOS管N2的源极经过热插拔芯片360连接到计算板卡200的供电输入端。本实施例的供电系统，通过在将供电信号引入到计算板卡之前，使供电信号或电压转换后的供电信号先经过热插拔芯片再引入计算板卡，能够保证计算板卡的用电安全，能够避免对计算板卡上的芯片造成损坏，有助于提升计算板卡用电安全性。在有一些可能的实现方式中，请继续参照图4所示，驱动电路350包括用于驱动第一选通端321的第一驱动电路351和用于驱动第二选通端331的第二驱动电路352。在一些可能的实现方式中，请继续参照图4所示，第一驱动电路351包括：第一二极管D1、第一PMOS管P1、第二PMOS管P2、第三电阻R3、第四电阻R4、第五电阻R5、第六电阻R6、第一电容C1和第二电容C2；第一二极管D1的阴极与功率检测电路340的输出端连接；第一PMOS管P1的栅极与第一二极管D1的阳极、第三电阻R3的一端、以及第一电容C1的一端连接，第一PMOS管P1的源极接地，第一PMOS管P1的漏极与第四电阻R4的一端、第二PMOS管P2的栅极连接，第三电阻R3的另一端和第四电阻R4的另一端均与电压值等于预设高电平的电源连接，第一电容C1的另一端接地；第二PMOS管P2的源极接地，第二PMOS管P2的漏极与第五电阻R5的一端、第六电阻R6的一端、以及第二电容C2的一端连接，第五电阻R5的另一端与供电信号PVIN连接，第六电阻R6的另一端接地，第二电容C2的另一端接地，第二PMOS管P2的漏极作为第一驱动电路351的输出端与第一选通端321连接。本实施例的供电系统，通过组合使用第一二极管以及两个PMOS，实现了将比较器输出转换成对第一传输电路的选通控制，即根据功率检测电路输出的比较结果自动完成对第一传输电路的选通控制，该第一驱动电路结构简单，器件成本较低，易于检修和维护。在一些可能的实现方式中，请继续参照图4所示，第二驱动电路352包括：第二二极管D2、第三PMOS管P3、第七电阻R7、第八电阻R8、第九电阻R9、第三电容C3、第四电容C4和第五电容C5；第二二极管D2的阴极与功率检测电路340的输出端连接；第三PMOS管P3的栅极与第二二极管D2的阳极、第七电阻R7的一端、以及第三电容C3的一端连接，第七电阻R7的另一端与电压值等于预设高电平的电源连接，第三电容C3的另一端接地；第三PMOS管P3的源极接地，第三PMOS管P3的漏极与第八电阻R8的一端、第九电阻R9的一端、第四电容C4的一端、以及第五电容C5的一端连接，第八电阻R8的另一端与供电信号PVIN连接，第九电阻R9的另一端、第四电容C4以及第五电容C5的另一端均接地，第三PMOS管P3的漏极作为第二驱动电路352的输出端与第二选通端331连接。本实施例的供电系统，通过组合使用第二二极管以及第三PMOS，实现了将比较器输出转换成对第二传输电路的选通控制，即根据功率检测电路输出的比较结果自动完成对第二传输电路的选通控制，该第二驱动电路结构简单，器件成本较低，易于检修和维护。在一些可能的实现方式中，请参照图5所示，该供电系统还包括第二直流-直流转换器370，第二直流-直流转换器370用于将供电信号PVIN的电压转换至等于电压值预设高电平后作为电源输出。需要说明的是，为了便于理解图5中省略了功率检测电路和驱动电路的部分，在正常使用的过程中应当该电源供电系统应该包含以上两部分电路，具体连接方式可参照图3所示。在一些可能的实现方式中，预设高电平的电压值等于3.3伏特。本实施例的供电系统，通过第二直流-直流转换器将供电输入信号转换至3.3伏特，从而使用该3.3伏特为供电系统中的多个器件供电，不仅能够保证各器件正常工作，而且还无需单独为器件引入供电电源，有助于降低设计成本。在一些可能的实现方式中，供电输入端为计算板卡200上电压调节模块的电源输入端；本实施例中，电压调节模块电压调节模组是为处理芯片提供合适的供应电压的装置，它可以直接焊接在主板上，也可以用模组子卡的方式来安装，由于它可以变换调节供应电压，电压调节模块可以集成在处理器额可单独设置。电压调节模块用于将输入端的信号转换至电压等于计算板卡200上计算芯片工作所需电压，并通过输出端输出给计算芯片。示例性的，电压调节模块能够将输入的信号的电压转换成多种电压值，如将12V转换成1.2V，3.3V或者5V等，当然可以将9V转换成1.2V，3.3V或者5V。在一些可能的实现方式中，计算芯片包括中央处理器、图形处理器、现场可编程逻辑门阵列、专用集成电路芯片以及系统级芯片。在一些可能的实现方式中，PD电源适配器100根据计算板卡200的计算量为计算板卡200提供多种功率的供电信号PVIN。在一些可能的实现方式中，为了便于理解本发明的方案，下面将以采用本发明的供电系统为计算盒子的计算板卡供电为详细说明该供电系统的工作原理。请参照图6所示，该计算盒子包括：主控芯片是一颗SOC，外围电路包括DDR4、M.2硬盘、SAS硬盘、Flash、时钟发生器、复杂可编程逻辑器件以及QSFP、RJ45、UART、HDMI等接口。采用图5所示的供电系统为该计算盒子供电为例，PVIN是Type-C USB的输入电压即供电信号，P3V3表示DCDC2的输出电压，P12V_V1是DCDC1的输入电压，P12V_V2是DCDC1的输出电压，P12V_V3是输入热插拔Hot Swap的电压。该供电系统的具体工作过程如下：首先，在计算设备盒子的USB PD控制器Flash下载好程序，按照USB PD协议识别12V、20V，当PD100W适配器通电，PVIN进入图5的DCDC2中，然后DCDC2输出P3V3。当计算设备盒子正产工作，功耗小于36W，此时PVIN=12V，同时PVIN经过电阻R1与R2分压，假设分压电压是3V，进入U1的3引脚。比较器U1的+IN电压大于-IN电压，则U1的Output输出高电平，则D1与D2的2引脚是高电平，P1和P3打开，P2、N2、N3关闭，N1打开，即 Switch_1打开， Switch_2和 Switch_3关闭。此时PVIN=12V经过开关Swittch_1变成P12V_V3,然后过Hot Swap输入后级的VRM给计算盒子的计算板卡供电。当计算设备盒子由正常工作切换到大数据计算，功耗大于36W，此处PVIN的输出增大，当PVIN输出大于15V时 ，同时PVIN经过电阻R1与R2分压，分压电压大于3.3V，进入U1的3引脚。比较器U1的+IN电压小于-IN电压，则U1的Output输出低电平，则D1与D2的2引脚是低电平，P1和P3关闭，P3、N2、N3打开，N1关闭，即Switch_1关闭，Switch_2和 Switch_3打开。此时PVIN=20V经过开关Switch_2变成P12V_V1输入DCDC1，然后DCDC1输出P12V_V2，P12V_V2经过Switch_3变成P12V_V3，再通过过热插拔芯片Hot Swap输入后级的VRM给计算盒子的计算板卡供电。本发明供电系统至少具备以下的有益效果：一方面，能够在计算设备正常工作时，Type-C USB供电输入12V直接满足计算盒子电压与功耗需求，无需经过直流-直流转换器进行电压转换，降低功耗损失；另一方面，还能够在计算设备进行大数据运算时，Type-C USB供电输入20V自动切换到经过直流-直流转换器进行电压转换，同样能够满足计算盒子需求；实现了自动判定电源适配器的实际功率，并根据实际功率自动切换供电信号传输电路。在一些可能的实现方式中，本发明还提供了一种计算板卡，该计算板卡采用以上实施例的供电系统供电，该供电系统包括：USB-C连接器，USB-C连接器与PD电源适配器连接，用于从PD电源适配器获取供电信号；第一传输电路，第一传输电路设置有第一选通端，用于在第一选通端被选通时将供电信号引到计算板卡的供电输入端；第二传输电路，第一传输电路设置有第二选通端，用于在第二选通端被选通时将供电信号进行功率转换后引到计算板卡的供电输入端；功率检测电路，功率检测电路与USB-C连接器连接，用于将供电信号的功率与预设功率进行比较，并输出比较结果；驱动电路，驱动电路的输入端与功率检测电路的输出端连接，驱动电路的两个输出端分别与第一选通端和第二选通端连接，驱动电路用于根据功率检测电路输出的比较结果分别为第一选通端和第二选通端生成驱动信号，以选通第一传输电路或选通第二传输电路。本实施例的计算板卡，采用了两种传输电路，一种是直接将PD电源适配器输出的供电信号引到计算板卡的第一传输电路，另一种是先对PD电源适配器输出的供电信号进行功率转换再引入到计算板卡的第二传输电路，通过功率检测电路实现供电信号的功率与预设功率的比较，最后利用驱动电路利用比较结果选通第一传输电路或第二传输电路，由此实现了依据PD电源适配器实际输出功率对供电电路进行动态调整，具有极佳的通用性，适合功率变化范围较大的计算板卡，能够有效避免功率损耗现象的发生，显著提升板卡供电稳定性和可靠性。在一些可能的实现方式中，计算板卡用于处理边缘计算任务。在一些可能的实现方式中，本发明还提供了一种服务器，该服务器包括计算板卡，该计算板卡采用以上实施例所述的供电系统供电，该供电系统包括：USB-C连接器，USB-C连接器与PD电源适配器连接，用于从PD电源适配器获取供电信号；第一传输电路，第一传输电路设置有第一选通端，用于在第一选通端被选通时将供电信号引到计算板卡的供电输入端；第二传输电路，第一传输电路设置有第二选通端，用于在第二选通端被选通时将供电信号进行功率转换后引到计算板卡的供电输入端；功率检测电路，功率检测电路与USB-C连接器连接，用于将供电信号的功率与预设功率进行比较，并输出比较结果；驱动电路，驱动电路的输入端与功率检测电路的输出端连接，驱动电路的两个输出端分别与第一选通端和第二选通端连接，驱动电路用于根据功率检测电路输出的比较结果分别为第一选通端和第二选通端生成驱动信号，以选通第一传输电路或选通第二传输电路。本实施例的种服务器，采用了两种传输电路，一种是直接将PD电源适配器输出的供电信号引到计算板卡的第一传输电路，另一种是先对PD电源适配器输出的供电信号进行功率转换再引入到计算板卡的第二传输电路，通过功率检测电路实现供电信号的功率与预设功率的比较，最后利用驱动电路利用比较结果选通第一传输电路或第二传输电路，由此实现了依据PD电源适配器实际输出功率对供电电路进行动态调整，具有极佳的通用性，适合功率变化范围较大的计算板卡，能够有效避免功率损耗现象的发生，显著提升板卡供电稳定性和可靠性。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
