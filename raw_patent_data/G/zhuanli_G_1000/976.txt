标题title
一种颗粒物浓度测量装置与方法
摘要abst
本发明公开一种颗粒物浓度测量装置与方法，涉及传感器技术领域。该颗粒物浓度测量装置包括：光学测量腔、激光发射组件、光敏器件组、一级运放电路、二级运放电路、AD转换器及微处理器。通过微处理器根据一级信号、二级信号及一级运放电路的当前增益生成一级运放电路的调整后的增益。由于调整了一级运放电路的增益，从而，根据一级运放电路的调整后的增益及二级信号计算得到的颗粒物浓度值更准确，并能扩大颗粒物浓度的检测量程。
权利要求书clms
1.一种颗粒物浓度测量装置，其特征在于，包括：光学测量腔、激光发射组件、光敏器件组、一级运放电路、二级运放电路、AD转换器及微处理器；所述激光发射组件、所述光敏器件组、所述一级运放电路、所述二级运放电路、所述AD转换器及所述微处理器均设置于所述光学测量腔外；所述激光发射组件用于发射激光光束；所述激光光束照射在所述光学测量腔中的颗粒物上，产生激光散射光；所述光敏器件组，与所述一级运放电路连接，用于接收所述激光散射光，将所述激光散射光转换为光敏电流信号，并将所述光敏电流信号输出至所述一级运放电路；所述一级运放电路，与所述二级运放电路连接，用于将所述光敏电流信号转换为光敏电压信号，并根据所述一级运放电路的增益对所述光敏电压信号进行一级放大处理，再将放大处理后得到的一级模拟信号输出至所述二级运放电路；所述二级运放电路，用于对所述一级模拟信号进行滤波处理及二级放大处理，并将处理后得到的二级模拟信号输出；所述AD转换器，分别与所述一级运放电路及所述二级运放电路连接，用于接收所述一级模拟信号和所述二级模拟信号，并分别对所述一级模拟信号和所述二级模拟信号进行模数转换，输出转换得到的一级信号和二级信号至所述微处理器；所述微处理器，分别与所述AD转换器及所述一级运放电路连接，用于接收所述一级信号和所述二级信号，并根据所述一级信号、所述二级信号及所述一级运放电路的当前增益生成所述一级运放电路的调整后的增益；所述微处理器还用于根据所述一级运放电路的调整后的增益及所述二级信号计算颗粒物浓度值。2.根据权利要求1所述的颗粒物浓度测量装置，其特征在于，所述激光发射组件包括：激光器和透镜；所述激光器用于发射扩散激光光束；所述透镜，设置于所述激光器与所述光敏器件组之间，用于改变所述扩散激光光束的方向。3.根据权利要求2所述的颗粒物浓度测量装置，其特征在于，所述透镜为准直透镜或聚焦透镜；当所述透镜为准直透镜时，所述激光发射组件发射的所述激光光束为准直平行光束；当所述透镜为聚焦透镜时，所述激光发射组件发射的所述激光光束为聚焦光束；所述聚焦透镜用于将所述扩散激光光束会聚于所述光学测量腔内的焦点处。4.根据权利要求3所述的颗粒物浓度测量装置，其特征在于，所述光敏器件组包括多个并联的第一光敏器件；当所述激光发射组件发射准直平行光束时，多个所述第一光敏器件按照相同角度设置于所述光学测量腔外。5.根据权利要求3所述的颗粒物浓度测量装置，其特征在于，所述光敏器件组包括多个并联的第二光敏器件；当所述激光发射组件发射聚焦光束时，多个所述第二光敏器件按照不同角度设置于所述光学测量腔外。6.一种颗粒物浓度测量方法，其特征在于，所述颗粒物浓度测量方法应用于权利要求1-5任一项所述的颗粒物浓度测量装置，所述颗粒物浓度测量方法包括：利用激光发射组件发射激光光束；所述激光光束照射在所述光学测量腔中的颗粒物上，产生激光散射光；利用光敏器件组接收所述激光散射光，将所述激光散射光转换为光敏电流信号，并将所述光敏电流信号输出至一级运放电路；通过所述一级运放电路将所述光敏电流信号转换为光敏电压信号，并根据所述一级运放电路的增益对所述光敏电压信号进行一级放大处理，再将放大处理后得到的一级模拟信号输出至二级运放电路；利用所述二级运放电路对所述一级模拟信号进行滤波处理及二级放大处理，并将处理后得到的二级模拟信号输出；采用所述AD转换器接收所述一级模拟信号和所述二级模拟信号，并分别对所述一级模拟信号和所述二级模拟信号进行模数转换，并输出转换得到的一级信号和二级信号至微处理器；通过所述微处理器接收所述一级信号和所述二级信号，并根据所述一级信号、所述二级信号及所述一级运放电路的当前增益生成所述一级运放电路的调整后的增益；根据所述一级运放电路的调整后的增益及所述二级信号计算颗粒物浓度值。7.根据权利要求6所述的颗粒物浓度测量方法，其特征在于，通过所述微处理器接收所述一级信号和所述二级信号，并根据所述一级信号、所述二级信号及所述一级运放电路的当前增益生成所述一级运放电路的调整后的增益，具体包括：步骤S1，采集所述二级信号，判断所述二级信号是否为零；如果是，则执行步骤S2，如果否，则根据所述二级信号及所述一级运放电路的当前增益计算所述颗粒物浓度值；步骤S2，采集所述一级信号，判断所述一级信号是否为零；如果是，则将所述颗粒物浓度值记为零；如果否，则执行步骤S3；步骤S3，判断所述一级信号是否饱和；如果是，执行步骤S4；如果否，则输出故障报警；步骤S4，判断所述一级运放电路的当前增益值是否小于预设倍数的增益初始值，如果是，则计算得出一级运放电路调整后的增益值，并返回步骤S1；如果否，则输出所述颗粒物浓度值为量程上限。8.根据权利要求7所述的颗粒物浓度测量方法，其特征在于，在步骤S1之前，还包括：设置所述一级运放电路的增益的初始值。
说明书desc
技术领域本发明涉及传感器技术领域，特别是涉及一种颗粒物浓度测量装置与方法。背景技术现有的激光颗粒物传感器，通过信号转换电路与运放电路对激光信号进行处理，得到放大后的激光散射信号，通过AD转换器转换为数字信号后，再由微处理器进行处理计算得出颗粒物浓度值。然而，当颗粒物浓度值较高时，存在信号饱和的情况，此时，对于颗粒物的粒径识别功能就会失效，这使得粒径识别的范围受到限制，具体讲，是指通过信号幅度来识别粒径的方式在信号饱和时会失效，比如当光敏器件接收到较强的散射光信号时，此时电路产生的信号处于饱和状态，此时就无法识别信号的电平，进而无法知晓散射光具体有多强，这样最终计算出的颗粒物测量值的精度必然会受到影响。相反，在颗粒物浓度值较低时，其采集到的散射光信号过弱，同样导致颗粒物测量值的识别精度不足。综上所述，由于现有技术中的激光颗粒物传感器只将二级信号依次输出至AD转换器及微处理器进行处理，而不调整一级运放电路的增益，从而无法将采集到的激光散射光调整到一个合适的电信号值，最终导致颗粒物浓度值不准确，其对颗粒物空气动力学直径的识别能力低。发明内容本发明的目的是提供一种颗粒物浓度测量装置与方法，以解决现有技术中的激光颗粒物传感器由于无法将采集到的激光散射光调整到一个合适的电信号值，最终导致颗粒物浓度值不准确，其对颗粒物空气动力学直径的识别能力低的问题。为实现上述目的，本发明提供了如下方案：一种颗粒物浓度测量装置，包括：光学测量腔、激光发射组件、光敏器件组、一级运放电路、二级运放电路、AD转换器及微处理器；所述激光发射组件、所述光敏器件组、所述一级运放电路、所述二级运放电路、所述AD转换器及所述微处理器均设置于所述光学测量腔外；所述激光发射组件用于发射激光光束；所述激光光束照射在所述光学测量腔中的颗粒物上，产生激光散射光；所述光敏器件组，与所述一级运放电路连接，用于接收所述激光散射光，将所述激光散射光转换为光敏电流信号，并将所述光敏电流信号输出至所述一级运放电路；所述一级运放电路，与所述二级运放电路连接，用于将所述光敏电流信号转换为光敏电压信号，并根据所述一级运放电路的增益对所述光敏电压信号进行一级放大处理，再将放大处理后得到的一级模拟信号输出至所述二级运放电路；所述二级运放电路，用于对所述一级模拟信号进行滤波处理及二级放大处理，并将处理后得到的二级模拟信号输出；所述AD转换器，分别与所述一级运放电路及所述二级运放电路连接，用于接收所述一级模拟信号和所述二级模拟信号，并分别对所述一级模拟信号和所述二级模拟信号进行模数转换，输出转换得到的一级信号和二级信号至所述微处理器；所述微处理器，分别与所述AD转换器及所述一级运放电路连接，用于接收所述一级信号和所述二级信号，并根据所述一级信号、所述二级信号及所述一级运放电路的当前增益生成所述一级运放电路的调整后的增益；所述微处理器还用于根据所述一级运放电路的调整后的增益及所述二级信号计算颗粒物浓度值。可选地，所述激光发射组件包括：激光器和透镜；所述激光器用于发射扩散激光光束；所述透镜，设置于所述激光器与所述光敏器件组之间，用于改变所述扩散激光光束的方向。可选地，所述透镜为准直透镜或聚焦透镜；当所述透镜为准直透镜时，所述激光发射组件发射的所述激光光束为准直平行光束；当所述透镜为聚焦透镜时，所述激光发射组件发射的所述激光光束为聚焦光束；所述聚焦透镜用于将所述扩散激光光束会聚于所述光学测量腔内的焦点处。可选地，所述光敏器件组包括多个并联的第一光敏器件；当所述激光发射组件发射准直平行光束时，多个所述第一光敏器件按照相同角度设置于所述光学测量腔外。可选地，所述光敏器件组包括多个并联的第二光敏器件；当所述激光发射组件发射聚焦光束时，多个所述第二光敏器件按照不同角度设置于所述光学测量腔外。为实现上述目的，本发明还提供了如下方案：一种颗粒物浓度测量方法，包括：利用激光发射组件发射激光光束；所述激光光束照射在所述光学测量腔中的颗粒物上，产生激光散射光；利用光敏器件组接收所述激光散射光，将所述激光散射光转换为光敏电流信号，并将所述光敏电流信号输出至一级运放电路；通过所述一级运放电路将所述光敏电流信号转换为光敏电压信号，并根据所述一级运放电路的增益对所述光敏电压信号进行一级放大处理，再将放大处理后得到的一级模拟信号输出至二级运放电路；利用所述二级运放电路对所述一级模拟信号进行滤波处理及二级放大处理，并将处理后得到的二级模拟信号输出；采用所述AD转换器接收所述一级模拟信号和所述二级模拟信号，并分别对所述一级模拟信号和所述二级模拟信号进行模数转换，并输出转换得到的一级信号和二级信号至微处理器；通过所述微处理器接收所述一级信号和所述二级信号，并根据所述一级信号、所述二级信号及所述一级运放电路的当前增益生成所述一级运放电路的调整后的增益；根据所述一级运放电路的调整后的增益及所述二级信号计算颗粒物浓度值。可选地，通过所述微处理器接收所述一级信号和所述二级信号，并根据所述一级信号、所述二级信号及所述一级运放电路的当前增益生成所述一级运放电路的调整后的增益，具体包括：步骤S1，采集所述二级信号，判断所述二级信号是否为零；如果是，则执行步骤S2，如果否，则根据所述二级信号及所述一级运放电路的当前增益计算所述颗粒物浓度值；步骤S2，采集所述一级信号，判断所述一级信号是否为零；如果是，则将所述颗粒物浓度值记为零；如果否，则执行步骤S3；步骤S3，判断所述一级信号是否饱和；如果是，执行步骤S4；如果否，则输出故障报警；步骤S4，判断所述一级运放电路的当前增益值是否小于预设倍数的增益初始值，如果是，则计算得出一级运放电路调整后的增益值，并返回步骤S1；如果否，则输出所述颗粒物浓度值为量程上限。可选地，在步骤S1之前，还包括：设置所述一级运放电路的增益的初始值。根据本发明提供的具体实施例，本发明公开了以下技术效果：本发明提供的颗粒物浓度测量装置与方法，通过一级运放电路将光敏电流信号转换为光敏电压信号，并根据一级运放电路的增益将光敏电压信号转换为一级模拟信号；二级运放电路将一级模拟信号转换为二级模拟信号；一级模拟信号及二级模拟信号经AD转换器进行模数转换得到一级信号和二级信号；微处理器根据一级信号、二级信号及一级运放电路的当前增益生成一级运放电路的调整后的增益。由于调整了一级运放电路的增益，那么，根据一级运放电路的调整后的增益及二级信号计算得到的颗粒物浓度值更准确，从而，扩大了颗粒物浓度的检测量程，并提高了对颗粒物空气动力学直径的识别能力。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明所提供的颗粒物浓度测量装置的结构图。图2为本发明所提供的光敏器件按照相同角度设置于光学测量腔内的结构图。图3为本发明所提供的光敏器件按照不同角度设置于光学测量腔内的结构图。图4为本发明所提供的颗粒物浓度测量方法流程图。图5为本发明所提供的微处理器计算一级运放电路调整后的增益的流程图。符号说明：光敏器件组—1，一级运放电路—2，二级运放电路—3，AD转换器—4，微处理器—5，光学测量腔—6，激光发射组件—7，激光器—8，准直透镜—9，第一光敏器件—10，聚焦透镜—11，第二光敏器件—12。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明的目的是提供一种颗粒物浓度测量装置与方法，通过微处理器根据一级信号、二级信号及一级运放电路的增益生成一级运放电路的调整后的增益。由于调整了一级运放电路的增益，那么，根据一级运放电路的调整后的增益及二级信号计算得到的颗粒物浓度值更准确，从而，扩大了颗粒物浓度的检测量程。此外，本发明能有效扩大颗粒物浓度值的检测量程，一般的PM2.5传感器的PM2.5检测有效量程仅有600ug/m3，通过本方法，可以将颗粒物浓度值的检测量程扩大约2～10倍。并且，本发明能较为有效的识别颗粒物的空气动力学直径，再结合颗粒物计数结果以及质量浓度算法，计算得出颗粒物的质量浓度，相对于标准仪器，本发明的漂移性小于±30%，一致性小于±15%。为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图和具体实施方式对本发明作进一步详细的说明。实施例一如图1所示，本发明提供一种颗粒物浓度测量装置，具体包括：光学测量腔6、激光发射组件7、光敏器件组1、一级运放电路2、二级运放电路3、AD转换器4及微处理器5。激光发射组件7、光敏器件组1、一级运放电路2、二级运放电路3、AD转换器4及微处理器5均设置于光学测量腔6外。激光发射组件7用于发射激光光束；激光光束照射在光学测量腔6中的颗粒物上，产生激光散射光。光敏器件组1，与一级运放电路2连接，用于接收激光光束，生成带有颗粒物信息的激光散射光，将激光散射光转换为光敏电流信号，并将光敏电流信号输出至一级运放电路2。一级运放电路2，与二级运放电路3连接，用于将光敏电流信号转换为光敏电压信号，并根据一级运放电路2的增益对光敏电压信号进行一级放大处理，再将放大处理后得到的一级模拟信号输出至二级运放电路3。二级运放电路3，用于对一级模拟信号进行滤波处理及二级放大处理，并将处理后得到的二级模拟信号输出。AD转换器4，分别与一级运放电路2及二级运放电路3连接，用于接收一级模拟信号和二级模拟信号，并分别对一级模拟信号和二级模拟信号进行模数转换，输出转换得到的一级信号和二级信号至微处理器5。微处理器5，分别与AD转换器4及一级运放电路2连接，用于接收一级信号和二级信号，并根据一级信号、二级信号及一级运放电路2的当前增益生成一级运放电路2的调整后的增益。微处理器5还用于根据一级运放电路2的调整后的增益及二级信号计算颗粒物浓度值。如图2-图3所示，激光发射组件7包括：激光器8和透镜。激光器8用于发射扩散激光光束；透镜设置于激光器8与光敏器件组1之间，用于改变扩散激光光束的方向。进一步的，透镜为准直透镜9或聚焦透镜11。当透镜为准直透镜9时，激光发射组件7发射的激光光束为准直平行光束；光敏器件组1包括的多个并联的第一光敏器件10按照相同角度设置于光学测量腔6外。当透镜为聚焦透镜11时，激光发射组件7发射的激光光束为聚焦光束，其中，聚焦透镜11用于将扩散激光光束汇聚于光学测量腔6内的焦点处，光敏器件组1包括的多个并联的第二光敏器件12按照不同角度设置于光学测量腔6外。具体的，通过聚焦透镜11将激光光束会聚于光学测量腔6内的焦点上，在焦点处以及附近区域的不同角度布置第二光敏器件12。具体的，多个第一光敏器件10并联，以光敏二极管为例，多个光敏二极管的P极相连接、N极相连接，在电气上视为一个光敏二极管器件。同样的，多个第二光敏器件12并联，以光敏二极管为例，多个光敏二极管的P极相连接、N极相连接，在电气上视为一个光敏二极管器件。本发明，不需要设置光学反光镜面，用以反射散射光，而是通过设置多个光敏器件，解决了单个感光元件单个位置采集散射光的不足的问题，提高了散射光采集效率，增大了测量量程及测量精度。实施例二如图4所示，本发明提供一种颗粒物浓度测量装置与方法，具体包括：步骤401，利用激光发射组件7发射激光光束；激光光束照射在光学测量腔6中的颗粒物上，产生激光散射光。步骤402，利用光敏器件组1接收激光散射光，将激光散射光转换为光敏电流信号，并将光敏电流信号输出至一级运放电路2。步骤403，通过一级运放电路2将光敏电流信号转换为光敏电压信号，并根据一级运放电路2的增益对光敏电压信号进行一级放大处理，再将放大处理后得到的一级模拟信号输出至二级运放电路3。步骤404，利用二级运放电路3对一级模拟信号进行滤波处理及二级放大处理，并将处理后得到的二级模拟信号输出。步骤405，采用AD转换器4接收一级模拟信号和二级模拟信号，并分别对一级模拟信号和二级模拟信号进行模数转换，并输出转换得到的一级信号和二级信号至微处理器5。步骤406，通过微处理器5接收一级信号和二级信号，并根据一级信号、二级信号及一级运放电路2的当前增益生成一级运放电路2的调整后的增益。步骤407，根据一级运放电路2的调整后的增益及二级信号计算颗粒物浓度值。具体的，可以通过一级信号判定其状态为零状态或饱和状态。通过二级信号及一级运放电路2的调整后的增益计算颗粒物的浓度值。进一步的，通过一级模拟信号判断其状态的方法为：当二级模拟信号为零时，存在两种可能的状态：第一种状态，信号为零，此时表示颗粒物浓度值太低；第二种状态，信号过大，达到饱和状态，此时表示颗粒物浓度值过高，超过测量上限从而导致一级模拟信号饱和。进一步的，可以通过识别一级模拟信号的特征来判定二级模拟信号处于第一种状态还是第二种状态。具体的，如果一级模拟信号的电平为零，则判定为此时二级模拟信号为零状态，此时表示颗粒物浓度值太低，已达测量下限；如果一级模拟信号饱和，则表示二级模拟信号过大，此时表示颗粒物浓度值过高并达到测量上限；如果一级模拟信号既不饱和也不为零，表示电路故障，此时输出产品故障报警信息。具体的，一级模拟信号饱和，是指当一级模拟信号的电压值已达到AD转换器4的基准值。实施例三如图5所示，本申请提供的一种颗粒物浓度测量装置中调整一级运放电路2的增益的具体方法，包括：步骤S1，采集二级信号，判断二级信号是否为零；如果是，则执行步骤S2，如果否，则根据二级信号及一级运放电路2的当前增益计算颗粒物浓度值。步骤S2，采集一级信号，判断一级信号是否为零；如果是，则将颗粒物浓度值记为零；如果否，则执行步骤S3。步骤S3，判断一级信号是否为饱和；如果是，执行步骤S4；如果否，则输出故障报警。步骤S4，判断一级运放电路2的当前增益值UC是否小于预设倍数的增益初始值UC0，如果是，则根据表达式U′=UC-0.1UC0得到一级运放电路2调整后的增益U′，并返回步骤S1；如果否，则输出颗粒物浓度值为量程上限。其中，预设倍数根据实际情况进行设定，具体可以为0.2倍。进一步的，在步骤S1之前，还包括：设置一级运放电路2的增益的初始值UC0。实施例四本申请提供的一种颗粒物浓度测量装置中的一级运放电路2增益的初始值计算方法，包括：第一步，根据需求，确立检测颗粒物浓度值的下限及粒径识别的下限。第二步，将n个试验样品通电放入试验箱中，并向试验箱中注入可识别的最小粒径的单分散颗粒物，控制试验箱中的颗粒物浓度值为检测下限。具体的，试验样品为颗粒物传感器。第三步，调节实验样品的一级运放电路2的增益UC的值，使二级电压信号U2的值为信号饱和值的1/2，此时每个样品均可获得一个增益值UC，分别记为UC1、UC2、……UCn。第四步，通过计算获得一级运放电路2的增益的初始值UC0=/n。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的结构、方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处。综上所述，本说明书内容不应理解为对本发明的限制。
