标题title
一种基于AI的安全信息构建方法及系统
摘要abst
本发明公开了一种基于AI的安全信息构建方法及系统，属于资源调度技术领域。系统包括数据采集模块、调度分配模块、传输交互模块和可视化模块；数据采集模块用于实时采集客户端传递过来的业务信息，以及所有服务器信息；调度分配模块用于对每台服务器的工作时长和故障日志进行综合分析从而计算危险指数，根据不同业务的重要等级和性能要求，将每个业务分配到合适的服务器中执行；传输交互模块用于将业务的执行结果缓存至服务器的内存中，并分析每台服务器的内存使用率，计算不同执行结果的留存分，筛选出留存分低的执行结果传输到危险指数更高的服务器中；可视化模块用于实时展示所有服务器的运行状态信息。
权利要求书clms
1.一种基于AI的安全信息构建方法，其特征在于：该方法包括以下步骤：S1、实时采集客户端传递过来的业务信息，以及所有服务器信息；S2、根据服务器信息计算每台服务器的危险指数，为业务分配服务器；S3、将业务执行结果缓存至服务器，分析各服务器内存容量并进行传输；S4、通过可视化大屏实时展示每台服务器的运行状态信息。2.根据权利要求1所述的一种基于AI的安全信息构建方法，其特征在于：在S1中，业务是指客户端传递过来需要服务器执行的事项，业务信息包括重要等级和性能占用率；重要等级是指业务的重要程度，性能占用率是指业务对服务器的CPU性能的占用率；服务器是指用于执行业务的计算机，服务器信息包括激活时间、故障日志、性能可使用率和内存使用率；激活时间是指服务器第一次启动的时间，故障日志是指服务器出现故障的记录，每条记录包括故障间隔时长和故障持续时长，故障间隔时长是指服务器本次发生故障时间与上次发生故障时间的间隔时长，故障持续时长是指服务器本次故障的持续时长，性能可使用率是指服务器的CPU资源可使用率，内存使用率是指服务器的内存空间已使用率。3.根据权利要求2所述的一种基于AI的安全信息构建方法，其特征在于：在S2中，具体步骤如下：S201、获取每台服务器的激活时间和故障日志，判断故障日志中记录条数是否为零，为零则将对应服务器的危险指数设为零，不为零则记录当前时间t1后将当前时间t1减去服务器的激活时间t激得到总运行时长tsrun，获取故障日志中每条记录的故障持续时长和故障间隔时长，代入公式计算每台服务器的危险指数；公式如下：式中，WXZ为危险指数，α为指数影响系数，j为故障日志中记录条数，TCi为第i条记录的故障持续时长，TJi为第i条记录的故障间隔时长，tsrun为总运行时长；S202、将所有业务的数量N除以所有服务器的数量M后得到实数S，实数S为大于或等于1的整数则将S作为拟分配数，实数S为小于1的数则将1作为拟分配数，实数S为大于1的非整数则将S向上取整后作为拟分配数；S203、获取所有业务的重要等级，为每个重要等级建立一个分配集合，将相同重要等级的业务放入同一个分配集合中；S204、按照危险指数从小到大顺序对服务器进行排序作为服务器分配顺序，按照重要等级从高到低顺序对分配集合进行排序作为业务分配顺序；分配具体步骤如下：S2041、选择业务分配顺序第一的分配集合中性能占用率正序排名第一的业务作为预选对象，判断该分配集合所有元素数量f是否小于S，结果为否，则将该分配集合中性能占用率倒序排名前S-1的业务作为次选对象，结果为是，则将业务分配顺序下所有分配集合的元素个数求和后得到剩余业务数e，判断剩余业务数e是否小于S，结果为否，则将该分配集合除预选对象以外的其他所有业务都作为次选对象，并将业务分配顺序第二的分配集合中性能占用率倒序排名前S-f的业务作为次选对象；结果为是，则将业务分配顺序下所有分配集合中除预选对象以外的所有业务都作为次选对象；S2042、将预选对象和所有次选对象的性能占用率求和得到性能总占用率XNsum，判断性能总占用率是否小于或等于服务器分配顺序中第一的服务器的性能可使用率XNksy，结果为是，则将预选对象和所有次选对象组合后作为该服务器的执行对象；结果为否，则将预选对象分别与每个次选对象进行组合，使得组合后的性能总占用率在满足小于或等于XNksy的前提下做到最大，将组合后对象作为该服务器的执行对象，其余未组合的次选对象分别作为该服务器的待执行对象；S2043、服务器具有执行对象时自动退出服务器分配顺序，分配集合中所有业务都作为执行对象或待执行对象时自动退出业务分配顺序；并按照退出后的服务器分配顺序和业务分配顺序重新进入S2041-S2042步骤，直到所有分配集合中的业务都作为执行对象或待执行对象则分配结束；S205、所有执行对象中的业务自动调入对应服务器中执行，业务执行完毕则释放与业务性能占用率相同单位的性能可使用率，当服务器性能可使用率满足待执行对象的性能占用率时，对应待执行对象自动调入服务器中执行。4.根据权利要求3所述的一种基于AI的安全信息构建方法，其特征在于：在S3中，具体步骤如下：S301、每个业务执行完毕后自动记录完成时间Twc，并将业务的执行结果缓存至服务器的内存中，当客户端访问服务器内存中的执行结果时自动记录访问时间Tfw，每次记录访问时间自动覆盖上次访问时间；S302、实时分析每台服务器的内存使用率，判断是否大于或等于内存容量阈值，结果为否则不做处理，结果为是则标记对应服务器；将标记服务器中所有执行结果对应业务的重要等级、完成时间和访问时间，与当前时间Tnow一起带入公式中计算各执行结果的留存分，公式如下：式中，LCD为执行结果的留存分，ZY为重要等级，base为基础分；S303、获取标记服务器中所有执行结果的留存分，留存分按照从小到大顺序依次放入留存集合中，留存集合中排名第一的留存分对应的执行结果作为流出对象，将服务器内存使用率减去流出对象所占用的内存得到剩余内存使用率；S304、判断剩余内存使用率是否小于内存容量阈值，结果为否，则将流出对象对应留存分从留存集合中删除，并将剩余内存使用率作为内存使用率重新带入S303步骤中；结果为是，则按照服务器分配顺序找到与当前服务器相邻且危险指数更大的服务器作为流入服务器，将服务器中所有流出对象对应的执行结果传输至流入服务器中；S305、当危险指数最大的服务器内存使用率大于或等于内存容量阈值时，获取服务器中所有执行结果的留存分，按照留存分从小到大顺序依次删除对应执行结果，直到服务器内存使用率小于内存容量阈值则停止删除；S306、不断重复S302-S305步骤，直到所有服务器的内存使用率都小于内存容量阈值，则停止传输或删除。5.根据权利要求4所述的一种基于AI的安全信息构建方法，其特征在于：在S4中，通过可视化大屏以动画形式实时展示每台服务器的性能可使用率和内存使用率，以及不同服务器之间的执行结果传输。6.一种基于AI的安全信息构建系统，其特征在于：系统包括数据采集模块、调度分配模块、传输交互模块和可视化模块；数据采集模块用于实时采集客户端传递过来的业务信息，以及所有服务器信息；调度分配模块用于对每台服务器的工作时长和故障日志进行综合分析从而计算危险指数，根据不同业务的重要等级和性能要求，将每个业务分配到服务器中执行；传输交互模块用于将业务的执行结果缓存至服务器的内存中，并分析每台服务器的内存使用率，计算不同执行结果的留存分，筛选出留存分低的执行结果传输到危险指数更高的服务器中；可视化模块用于实时展示每台服务器的运行状态信息。7.根据权利要求6所述的一种基于AI的安全信息构建系统，其特征在于：数据采集模块包括服务器信息采集单元和业务信息采集单元；服务器信息采集单元用于采集服务器的激活时间、故障日志、性能可使用率和内存使用率；故障日志是指服务器出现故障的记录，每条记录包括故障间隔时长和故障持续时长，故障间隔时长是指服务器本次发生故障时间与上次发生故障时间的间隔时长，故障持续时长是指服务器本次故障的持续时长，性能可使用率是指服务器的CPU资源可使用率，内存使用率是指服务器的内存空间已使用率；业务信息采集单元用于采集业务的重要等级和性能占用率；重要等级是指业务的重要程度，性能占用率是指业务对服务器的CPU性能的占用率。8.根据权利要求7所述的一种基于AI的安全信息构建系统，其特征在于：调度分配模块包括指数计算单元和业务分配单元；指数计算单元用于计算每台服务器的危险指数；先判断每台服务器故障日志中记录条数是否为零，为零则将对应服务器的危险指数设为零，不为零则记录当前时间并将当前时间减去服务器的激活时间得到总运行时长，与故障日志中每条记录的故障持续时长和故障间隔时长共同计算每台服务器的危险指数；业务分配单元用于将每个业务分配到服务器中执行；首先，将所有业务的数量除以所有服务器的数量后得到拟分配数S，并为每个重要等级建立一个分配集合，相同重要等级的业务放入同一个分配集合中；其次，按照危险指数从小到大顺序对服务器进行排序作为服务器分配顺序，按照重要等级从高到低顺序对分配集合进行排序作为业务分配顺序；最后，根据服务器分配顺序和业务分配顺序，以每个服务器分配S个业务的要求，将重要等级高的业务分配到危险指数小的服务器中执行。9.根据权利要求8所述的一种基于AI的安全信息构建系统，其特征在于：传输交互模块包括留存分析单元和传输删除单元；留存分析单元用于计算业务执行结果的留存分；首先，记录业务执行完毕后的完成时间和客户端访问执行结果时的访问时间；其次，标记内存使用率大于或等于内存容量阈值的服务器；最后，根据标记服务器中每个执行结果对应业务的重要等级、完成时间和访问时间来计算各执行结果的留存分；传输删除单元用于在服务器中传输或删除业务的执行结果；获取标记服务器中所有执行结果的留存分，按照从小到大顺序将留存分对应的执行结果依次作为流出对象，直到服务器内存使用率减去所有流出对象占用的内存后小于内存容量阈值，则按服务器分配顺序找到与当前服务器相邻且危险指数更大的服务器作为流入服务器，将服务器中所有流出对象对应的执行结果传输至流入服务器中，若服务器分配顺序中没有与当前服务器相邻且危险指数更大的服务器，则将所有流出对象全部删除。10.根据权利要求9所述的一种基于AI的安全信息构建系统，其特征在于：可视化模块用于实时展示每台服务器的运行状态信息，运行状态信息包括性能可使用率和内存使用率。
说明书desc
技术领域本发明涉及资源调度技术领域，具体为一种基于AI的安全信息构建方法及系统。背景技术随着信息技术的快速发展，服务器在各个行业中扮演着重要的角色，承担着大量的数据运算和管理任务。然而，随着硬件性能的高速提升，服务器硬件设备也在不断更新换代，企业和组织通常会面临新老服务器并存的情况，时间批次较早的服务器随着使用时间增长或故障率增多等问题可能会导致数据丢失。因此，研究新老服务器之间的协调问题，有助于提高服务器群集的稳定性，保护信息安全。现阶段，通常采用负载均衡的模式来提高服务器群集的灵活性和可用性，确保客户端传递过来的业务请求都能顺利执行。但是这种模式存在一些弊端，例如：1、在面临新老服务器并存的情况下，负载均衡通常只考虑各服务器能够提供的算力支持，没有充分考虑老服务器在执行业务时可能由于高故障率导致的数据丢失风险；2、新服务器由于性能配置高，所以通常被分配更加复杂的业务，而复杂的业务通常会产生更大存储量的执行结果，这些执行结果堆积在内存中又会占用新服务器的正常使用；3、新老服务器在面对不同重要程度的业务时不能做到有效衔接和协调，甚至可能出现将极为重要的业务分配至故障率高发的老服务器去执行的情况，使得数据不安全。所以，现阶段需要一种更加高效的服务器资源调度方案来解决上述问题。发明内容本发明的目的在于提供一种基于AI的安全信息构建方法及系统，以解决上述背景技术中提出的问题。为了解决上述技术问题，本发明提供如下技术方案：一种基于AI的安全信息构建方法，该方法包括以下步骤：S1、实时采集客户端传递过来的业务信息，以及所有服务器信息；S2、根据服务器信息计算每台服务器的危险指数，为业务分配服务器；S3、将业务执行结果缓存至服务器，分析各服务器内存容量并进行传输；S4、通过可视化大屏实时展示每台服务器的运行状态信息。在S1中，业务是指客户端传递过来需要服务器执行的事项，业务信息包括重要等级和性能占用率。重要等级是指业务的重要程度，性能占用率是指业务对服务器的CPU性能的占用率。服务器是指用于执行业务的计算机，服务器信息包括激活时间、故障日志、性能可使用率和内存使用率。激活时间是指服务器第一次启动的时间，故障日志是指服务器出现故障的记录，每条记录包括故障间隔时长和故障持续时长，故障间隔时长是指服务器本次发生故障时间与上次发生故障时间的间隔时长，故障持续时长是指服务器本次故障的持续时长，性能可使用率是指服务器的CPU资源可使用率，内存使用率是指服务器的内存空间已使用率。重要等级是指业务的重要程度，具体取值由管理员根据实际情况事先进行设定，每个业务都有各自的重要等级。重要等级为1-10，10级为最高重要等级，1级为最低重要等级。第一条故障记录中的故障间隔时长采取的是本次发生故障时间与服务器激活时间的间隔时长。内存使用率是指服务器当前可用内存占总内存的百分比。业务的性能占用率与服务器的性能可使用率都是指相对于同一个CPU资源总量基础的百分比，服务器的性能可使用率根据其具体的性能配置和正在执行业务的性能占用率的来计算，性能配置越高则性能可使用率越高，将性能可使用率减去所有正在执行的业务性能占用率得到服务器当前的性能可使用率。在S2中，具体步骤如下：S201、获取每台服务器的激活时间和故障日志，判断故障日志中记录条数是否为零，为零则将对应服务器的危险指数设为零，不为零则记录当前时间t1后将当前时间t1减去服务器的激活时间t激得到总运行时长tsrun，获取故障日志中每条记录的故障持续时长和故障间隔时长，代入公式计算每台服务器的危险指数。公式如下：式中，WXZ为危险指数，α为指数影响系数，j为故障日志中记录条数，TCi为第i条记录的故障持续时长，TJi为第i条记录的故障间隔时长，tsrun为总运行时长。危险指数的计算是用于判断服务器发生宕机等故障的风险概率，主要考虑服务器的故障总持续时长占总运行时长之比，以及每次故障持续时长和故障间隔时长之比。故障总持续时长占总运行时长之比是为了区分不同服务器的故障时长占比，不同服务器之间，故障时长占比越高的服务器发生风险概率越大。故障持续时长与故障间隔时长之比是为了区分不同服务器的规律性故障和短期集中性故障，当服务器近期出现故障的间隔时间越来越短且每次出现故障的持续时长越来越长，则服务器对应的危险指数会快速增加，增速大于规律性故障服务器的危险指数增速。S202、将所有业务的数量N除以所有服务器的数量M后得到实数S，实数S为大于或等于1的整数则将S作为拟分配数，实数S为小于1的数则将1作为拟分配数，实数S为大于1的非整数则将S向上取整后作为拟分配数。拟分配数的计算是为了在每个服务器都能够分配一定数量业务的基础上，将多余的业务尽量分配到危险指数低的服务器上执行。S203、获取所有业务的重要等级，为每个重要等级建立一个分配集合，将相同重要等级的业务放入同一个分配集合中。所有业务具有多少个不同的重要等级则建立多少个分配集合，确保每个分配集合中只存放相同重要等级的业务。S204、按照危险指数从小到大顺序对服务器进行排序作为服务器分配顺序，按照重要等级从高到低顺序对分配集合进行排序作为业务分配顺序；分配具体步骤如下：S2041、选择业务分配顺序第一的分配集合中性能占用率正序排名第一的业务作为预选对象，判断该分配集合所有元素数量f是否小于S，结果为否，则将该分配集合中性能占用率倒序排名前S-1的业务作为次选对象，结果为是，则将业务分配顺序下所有分配集合的元素个数求和后得到剩余业务数e，判断剩余业务数e是否小于S，结果为否，则将该分配集合除预选对象以外的其他所有业务都作为次选对象，并将业务分配顺序第二的分配集合中性能占用率倒序排名前S-f的业务作为次选对象；结果为是，则将业务分配顺序下所有分配集合中除预选对象以外的所有业务都作为次选对象。优先选择分配集合中性能占用率最高的业务作为预选对象是为了确保服务器的资源得到有效利用，在预选对象的基础上增添性能占用率较小的次选对象则是对预选对象的补充。S2042、将预选对象和所有次选对象的性能占用率求和得到性能总占用率XNsum，判断性能总占用率是否小于或等于服务器分配顺序中第一的服务器的性能可使用率XNksy，结果为是，则将预选对象和所有次选对象组合后作为该服务器的执行对象；结果为否，则将预选对象分别与每个次选对象进行组合，使得组合后的性能总占用率在满足小于或等于XNksy的前提下做到最大，将组合后对象作为该服务器的执行对象，其余未组合的次选对象分别作为该服务器的待执行对象。S2043、服务器具有执行对象时自动退出服务器分配顺序，分配集合中所有业务都作为执行对象或待执行对象时自动退出业务分配顺序；并按照退出后的服务器分配顺序和业务分配顺序重新进入S2041-S2042步骤，直到所有分配集合中的业务都作为执行对象或待执行对象则分配结束。S205、所有执行对象中的业务自动调入对应服务器中执行，业务执行完毕则释放与业务性能占用率相同单位的性能可使用率，当服务器性能可使用率满足待执行对象的性能占用率时，对应待执行对象自动调入服务器中执行。在S3中，具体步骤如下：S301、每个业务执行完毕后自动记录完成时间Twc，并将业务的执行结果缓存至服务器的内存中，当客户端访问服务器内存中的执行结果时自动记录访问时间Tfw，每次记录访问时间自动覆盖上次访问时间。S302、实时分析每台服务器的内存使用率，判断是否大于或等于内存容量阈值，结果为否则不做处理，结果为是则标记对应服务器。将标记服务器中所有执行结果对应业务的重要等级、完成时间和访问时间，与当前时间Tnow一起带入公式中计算各执行结果的留存分，公式如下：式中，LCD为执行结果的留存分，ZY为重要等级，base为基础分。留存分与重要等级、当前时间距离完成时间的时长和当前时间距离最近一次访问时间的时长有关。重要等级越高则留存初始分越高，留存分随着当前时间距离完成时间的时长增大而减小，也会随着当前时间距离最近一次访问时间的时长增大而减小，但每次客户端重新访问时，又会导致当前时间距离最近一次访问时间的时长减小，使留存分短时间内增大。S303、获取标记服务器中所有执行结果的留存分，留存分按照从小到大顺序依次放入留存集合中，留存集合中排名第一的留存分对应的执行结果作为流出对象，将服务器内存使用率减去流出对象所占用的内存得到剩余内存使用率。S304、判断剩余内存使用率是否小于内存容量阈值，结果为否，则将流出对象对应留存分从留存集合中删除，并将剩余内存使用率作为内存使用率重新带入S303步骤中；结果为是，则按照服务器分配顺序找到与当前服务器相邻且危险指数更大的服务器作为流入服务器，将服务器中所有流出对象对应的执行结果传输至流入服务器中。只要剩余内存使用率大于或等于内存容量阈值，则需要不断将新的留存集合中排名第一的留存分对应的执行结果作为流出对象，传输到流入服务器中。S305、当危险指数最大的服务器内存使用率大于或等于内存容量阈值时，获取服务器中所有执行结果的留存分，按照留存分从小到大顺序依次删除对应执行结果，直到服务器内存使用率小于内存容量阈值则停止删除。非危险指数最大的服务器中执行结果传输完成后删除本服务器中执行结果并保存流入服务器的内存地址，当客户端再次访问的时候通过内存地址仍然能够访问到执行结果，该执行结果在任意一个服务器中保存。危险指数最大的服务器只会删除留存分小的执行结果并不会进行传输，当客户端再次访问的时候无法访问到执行结果，该执行结果不在任何一个服务器中保存。S306、不断重复S302-S305步骤，直到所有服务器的内存使用率都小于内存容量阈值，则停止传输或删除。在S4中，通过可视化大屏以动画形式实时展示每台服务器的性能可使用率和内存使用率，以及不同服务器之间的执行结果传输。一种基于AI的安全信息构建系统，系统包括数据采集模块、调度分配模块、传输交互模块和可视化模块。数据采集模块用于实时采集客户端传递过来的业务信息，以及所有服务器信息。调度分配模块用于对每台服务器的工作时长和故障日志进行综合分析从而计算危险指数，根据不同业务的重要等级和性能要求，将每个业务分配到服务器中执行。传输交互模块用于将业务的执行结果缓存至服务器的内存中，并分析每台服务器的内存使用率，计算不同执行结果的留存分，筛选出留存分低的执行结果传输到危险指数更高的服务器中。可视化模块用于实时展示每台服务器的运行状态信息。数据采集模块包括服务器信息采集单元和业务信息采集单元。服务器信息采集单元用于采集服务器的激活时间、故障日志、性能可使用率和内存使用率；故障日志是指服务器出现故障的记录，每条记录包括故障间隔时长和故障持续时长，故障间隔时长是指服务器本次发生故障时间与上次发生故障时间的间隔时长，故障持续时长是指服务器本次故障的持续时长，性能可使用率是指服务器的CPU资源可使用率，内存使用率是指服务器的内存空间已使用率。业务信息采集单元用于采集业务的重要等级和性能占用率；重要等级是指业务的重要程度，性能占用率是指业务对服务器的CPU性能的占用率。调度分配模块包括指数计算单元和业务分配单元。指数计算单元用于计算每台服务器的危险指数。先判断每台服务器故障日志中记录条数是否为零，为零则将对应服务器的危险指数设为零，不为零则记录当前时间并将当前时间减去服务器的激活时间得到总运行时长，与故障日志中每条记录的故障持续时长和故障间隔时长共同计算每台服务器的危险指数。业务分配单元用于将每个业务分配到服务器中执行。首先，将所有业务的数量除以所有服务器的数量后得到拟分配数S，并为每个重要等级建立一个分配集合，相同重要等级的业务放入同一个分配集合中。其次，按照危险指数从小到大顺序对服务器进行排序作为服务器分配顺序，按照重要等级从高到低顺序对分配集合进行排序作为业务分配顺序。最后，根据服务器分配顺序和业务分配顺序，以每个服务器分配S个业务的要求，将重要等级高的业务分配到危险指数小的服务器中执行。传输交互模块包括留存分析单元和传输删除单元。留存分析单元用于计算业务执行结果的留存分。首先，记录业务执行完毕后的完成时间和客户端访问执行结果时的访问时间。其次，标记内存使用率大于或等于内存容量阈值的服务器。最后，根据标记服务器中每个执行结果对应业务的重要等级、完成时间和访问时间来计算各执行结果的留存分。传输删除单元用于在服务器中传输或删除业务的执行结果。获取标记服务器中所有执行结果的留存分，按照从小到大顺序将留存分对应的执行结果依次作为流出对象，直到服务器内存使用率减去所有流出对象占用的内存后小于内存容量阈值，则按服务器分配顺序找到与当前服务器相邻且危险指数更大的服务器作为流入服务器，将服务器中所有流出对象对应的执行结果传输至流入服务器中，若服务器分配顺序中没有与当前服务器相邻且危险指数更大的服务器，则将所有流出对象全部删除。可视化模块用于实时展示每台服务器的运行状态信息，运行状态信息包括性能可使用率和内存使用率。与现有技术相比，本发明所达到的有益效果是：1、精准服务器评估：本申请根据服务器的运行时长和故障日志进行综合分析，通过故障总时长占总运行时长之比来衡量基础风险程度，通过每次故障持续时长与故障间隔时长之比来衡量浮动风险程度，精准评估服务器的故障风险程度。2、高效业务分配：本申请针对业务的分配先是采用拟分配数来实现每个服务器都能被分配，再通过业务重要等级与服务器的风险指数进行匹配，降低由于故障带来的数据安全风险，最后通过执行对象排队的方式来实现对风险指数较小服务器的高效利用。3、内存流动性释放：本申请通过对业务执行完成后的执行结果进行动态评估，根据业务的重要等级、当前时间距离完成时间和最近一次访问时间的时长来实现动态计算留存分，通过留存分实现执行结果在不同服务器之间的传输转移或清除，流动性释放服务器的内存资源。综上所述，本发明相比于传统技术具有精准服务器评估、高效业务分配和内存流动性释放的优势，能够提高服务器资源利用效率和数据安全性。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1是本发明一种基于AI的安全信息构建方法的流程示意图；图2是本发明一种基于AI的安全信息构建系统的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，本发明提供一种基于AI的安全信息构建方法，该方法包括以下步骤：S1、实时采集客户端传递过来的业务信息，以及所有服务器信息；S2、根据服务器信息计算每台服务器的危险指数，为业务分配服务器；S3、将业务执行结果缓存至服务器，分析各服务器内存容量并进行传输；S4、通过可视化大屏实时展示每台服务器的运行状态信息。在S1中，业务是指客户端传递过来需要服务器执行的事项，业务信息包括重要等级和性能占用率。重要等级是指业务的重要程度，性能占用率是指业务对服务器的CPU性能的占用率。服务器是指用于执行业务的计算机，服务器信息包括激活时间、故障日志、性能可使用率和内存使用率。激活时间是指服务器第一次启动的时间，故障日志是指服务器出现故障的记录，每条记录包括故障间隔时长和故障持续时长，故障间隔时长是指服务器本次发生故障时间与上次发生故障时间的间隔时长，故障持续时长是指服务器本次故障的持续时长，性能可使用率是指服务器的CPU资源可使用率，内存使用率是指服务器的内存空间已使用率。重要等级是指业务的重要程度，具体取值由管理员根据实际情况事先进行设定，每个业务都有各自的重要等级。重要等级为1-10，10级为最高重要等级，1级为最低重要等级。第一条故障记录中的故障间隔时长采取的是本次发生故障时间与服务器激活时间的间隔时长。内存使用率是指服务器当前可用内存占总内存的百分比。业务的性能占用率与服务器的性能可使用率都是指相对于同一个CPU资源总量基础的百分比，服务器的性能可使用率根据其具体的性能配置和正在执行业务的性能占用率的来计算，性能配置越高则性能可使用率越高，将性能可使用率减去所有正在执行的业务性能占用率得到服务器当前的性能可使用率。在S2中，具体步骤如下：S201、获取每台服务器的激活时间和故障日志，判断故障日志中记录条数是否为零，为零则将对应服务器的危险指数设为零，不为零则记录当前时间t1后将当前时间t1减去服务器的激活时间t激得到总运行时长tsrun，获取故障日志中每条记录的故障持续时长和故障间隔时长，代入公式计算每台服务器的危险指数。公式如下：式中，WXZ为危险指数，α为指数影响系数，j为故障日志中记录条数，TCi为第i条记录的故障持续时长，TJi为第i条记录的故障间隔时长，tsrun为总运行时长。危险指数的计算是用于判断服务器发生宕机等故障的风险概率，主要考虑服务器的故障总持续时长占总运行时长之比，以及每次故障持续时长和故障间隔时长之比。故障总持续时长占总运行时长之比是为了区分不同服务器的故障时长占比，不同服务器之间，故障时长占比越高的服务器发生风险概率越大。故障持续时长与故障间隔时长之比是为了区分不同服务器的规律性故障和短期集中性故障，当服务器近期出现故障的间隔时间越来越短且每次出现故障的持续时长越来越长，则服务器对应的危险指数会快速增加，增速大于规律性故障服务器的危险指数增速。S202、将所有业务的数量N除以所有服务器的数量M后得到实数S，实数S为大于或等于1的整数则将S作为拟分配数，实数S为小于1的数则将1作为拟分配数，实数S为大于1的非整数则将S向上取整后作为拟分配数。拟分配数的计算是为了在每个服务器都能够分配一定数量业务的基础上，将多余的业务尽量分配到危险指数低的服务器上执行。S203、获取所有业务的重要等级，为每个重要等级建立一个分配集合，将相同重要等级的业务放入同一个分配集合中。所有业务具有多少个不同的重要等级则建立多少个分配集合，确保每个分配集合中只存放相同重要等级的业务。S204、按照危险指数从小到大顺序对服务器进行排序作为服务器分配顺序，按照重要等级从高到低顺序对分配集合进行排序作为业务分配顺序；分配具体步骤如下：S2041、选择业务分配顺序第一的分配集合中性能占用率正序排名第一的业务作为预选对象，判断该分配集合所有元素数量f是否小于S，结果为否，则将该分配集合中性能占用率倒序排名前S-1的业务作为次选对象，结果为是，则将业务分配顺序下所有分配集合的元素个数求和后得到剩余业务数e，判断剩余业务数e是否小于S，结果为否，则将该分配集合除预选对象以外的其他所有业务都作为次选对象，并将业务分配顺序第二的分配集合中性能占用率倒序排名前S-f的业务作为次选对象；结果为是，则将业务分配顺序下所有分配集合中除预选对象以外的所有业务都作为次选对象。优先选择分配集合中性能占用率最高的业务作为预选对象是为了确保服务器的资源得到有效利用，在预选对象的基础上增添性能占用率较小的次选对象则是对预选对象的补充。S2042、将预选对象和所有次选对象的性能占用率求和得到性能总占用率XNsum，判断性能总占用率是否小于或等于服务器分配顺序中第一的服务器的性能可使用率XNksy，结果为是，则将预选对象和所有次选对象组合后作为该服务器的执行对象；结果为否，则将预选对象分别与每个次选对象进行组合，使得组合后的性能总占用率在满足小于或等于XNksy的前提下做到最大，将组合后对象作为该服务器的执行对象，其余未组合的次选对象分别作为该服务器的待执行对象。S2043、服务器具有执行对象时自动退出服务器分配顺序，分配集合中所有业务都作为执行对象或待执行对象时自动退出业务分配顺序；并按照退出后的服务器分配顺序和业务分配顺序重新进入S2041-S2042步骤，直到所有分配集合中的业务都作为执行对象或待执行对象则分配结束。S205、所有执行对象中的业务自动调入对应服务器中执行，业务执行完毕则释放与业务性能占用率相同单位的性能可使用率，当服务器性能可使用率满足待执行对象的性能占用率时，对应待执行对象自动调入服务器中执行。在S3中，具体步骤如下：S301、每个业务执行完毕后自动记录完成时间Twc，并将业务的执行结果缓存至服务器的内存中，当客户端访问服务器内存中的执行结果时自动记录访问时间Tfw，每次记录访问时间自动覆盖上次访问时间。S302、实时分析每台服务器的内存使用率，判断是否大于或等于内存容量阈值，结果为否则不做处理，结果为是则标记对应服务器。将标记服务器中所有执行结果对应业务的重要等级、完成时间和访问时间，与当前时间Tnow一起带入公式中计算各执行结果的留存分，公式如下：式中，LCD为执行结果的留存分，ZY为重要等级，base为基础分。留存分与重要等级、当前时间距离完成时间的时长和当前时间距离最近一次访问时间的时长有关。重要等级越高则留存初始分越高，留存分随着当前时间距离完成时间的时长增大而减小，也会随着当前时间距离最近一次访问时间的时长增大而减小，但每次客户端重新访问时，又会导致当前时间距离最近一次访问时间的时长减小，使留存分短时间内增大。S303、获取标记服务器中所有执行结果的留存分，留存分按照从小到大顺序依次放入留存集合中，留存集合中排名第一的留存分对应的执行结果作为流出对象，将服务器内存使用率减去流出对象所占用的内存得到剩余内存使用率。S304、判断剩余内存使用率是否小于内存容量阈值，结果为否，则将流出对象对应留存分从留存集合中删除，并将剩余内存使用率作为内存使用率重新带入S303步骤中；结果为是，则按照服务器分配顺序找到与当前服务器相邻且危险指数更大的服务器作为流入服务器，将服务器中所有流出对象对应的执行结果传输至流入服务器中。只要剩余内存使用率大于或等于内存容量阈值，则需要不断将新的留存集合中排名第一的留存分对应的执行结果作为流出对象，传输到流入服务器中。S305、当危险指数最大的服务器内存使用率大于或等于内存容量阈值时，获取服务器中所有执行结果的留存分，按照留存分从小到大顺序依次删除对应执行结果，直到服务器内存使用率小于内存容量阈值则停止删除。非危险指数最大的服务器中执行结果传输完成后删除本服务器中执行结果并保存流入服务器的内存地址，当客户端再次访问的时候通过内存地址仍然能够访问到执行结果，该执行结果在任意一个服务器中保存。危险指数最大的服务器只会删除留存分小的执行结果并不会进行传输，当客户端再次访问的时候无法访问到执行结果，该执行结果不在任何一个服务器中保存。S306、不断重复S302-S305步骤，直到所有服务器的内存使用率都小于内存容量阈值，则停止传输或删除。在S4中，通过可视化大屏以动画形式实时展示每台服务器的性能可使用率和内存使用率，以及不同服务器之间的执行结果传输。请参阅图2，本发明提供一种基于AI的安全信息构建系统，系统包括数据采集模块、调度分配模块、传输交互模块和可视化模块。数据采集模块用于实时采集客户端传递过来的业务信息，以及所有服务器信息。调度分配模块用于对每台服务器的工作时长和故障日志进行综合分析从而计算危险指数，根据不同业务的重要等级和性能要求，将每个业务分配到服务器中执行。传输交互模块用于将业务的执行结果缓存至服务器的内存中，并分析每台服务器的内存使用率，计算不同执行结果的留存分，筛选出留存分低的执行结果传输到危险指数更高的服务器中。可视化模块用于实时展示每台服务器的运行状态信息。数据采集模块包括服务器信息采集单元和业务信息采集单元。服务器信息采集单元用于采集服务器的激活时间、故障日志、性能可使用率和内存使用率；故障日志是指服务器出现故障的记录，每条记录包括故障间隔时长和故障持续时长，故障间隔时长是指服务器本次发生故障时间与上次发生故障时间的间隔时长，故障持续时长是指服务器本次故障的持续时长，性能可使用率是指服务器的CPU资源可使用率，内存使用率是指服务器的内存空间已使用率。业务信息采集单元用于采集业务的重要等级和性能占用率；重要等级是指业务的重要程度，性能占用率是指业务对服务器的CPU性能的占用率。调度分配模块包括指数计算单元和业务分配单元。指数计算单元用于计算每台服务器的危险指数。先判断每台服务器故障日志中记录条数是否为零，为零则将对应服务器的危险指数设为零，不为零则记录当前时间并将当前时间减去服务器的激活时间得到总运行时长，与故障日志中每条记录的故障持续时长和故障间隔时长共同计算每台服务器的危险指数。业务分配单元用于将每个业务分配到服务器中执行。首先，将所有业务的数量除以所有服务器的数量后得到拟分配数S，并为每个重要等级建立一个分配集合，相同重要等级的业务放入同一个分配集合中。其次，按照危险指数从小到大顺序对服务器进行排序作为服务器分配顺序，按照重要等级从高到低顺序对分配集合进行排序作为业务分配顺序。最后，根据服务器分配顺序和业务分配顺序，以每个服务器分配S个业务的要求，将重要等级高的业务分配到危险指数小的服务器中执行。传输交互模块包括留存分析单元和传输删除单元。留存分析单元用于计算业务执行结果的留存分。首先，记录业务执行完毕后的完成时间和客户端访问执行结果时的访问时间。其次，标记内存使用率大于或等于内存容量阈值的服务器。最后，根据标记服务器中每个执行结果对应业务的重要等级、完成时间和访问时间来计算各执行结果的留存分。传输删除单元用于在服务器中传输或删除业务的执行结果。获取标记服务器中所有执行结果的留存分，按照从小到大顺序将留存分对应的执行结果依次作为流出对象，直到服务器内存使用率减去所有流出对象占用的内存后小于内存容量阈值，则按服务器分配顺序找到与当前服务器相邻且危险指数更大的服务器作为流入服务器，将服务器中所有流出对象对应的执行结果传输至流入服务器中，若服务器分配顺序中没有与当前服务器相邻且危险指数更大的服务器，则将所有流出对象全部删除。可视化模块用于实时展示每台服务器的运行状态信息，运行状态信息包括性能可使用率和内存使用率。实施例1：假设有A1和A2两台服务器同时激活，总运行时长分别为3000h和1080h，它们的故障日志记录分别为：A1服务器:第一次故障：故障持续时长1h，故障间隔时长720h；第二次故障：故障持续时长2h，故障间隔时长1200h；第三次故障：故障持续时长1h，故障间隔时长1080h；A2服务器:第一次故障：故障持续时长1h，故障间隔时长720h；第二次故障：故障持续时长3h，故障间隔时长240h；第三次故障：故障持续时长3h，故障间隔时长120h；当指数影响系数为1000时，代入公式计算每台服务器的危险指数：A1服务器的危险指数：A2服务器的危险指数：需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
