标题title
一种服装定制产线柔性控制系统及方法
摘要abst
本发明涉及服装制造技术领域，提出了一种服装定制产线柔性控制系统及方法，该系统包括：训练参数获取模块、训练参数处理模块、深度强化学习训练模块以及产线柔性控制模块。本发明通过从产线参数、生产订单和待安排人员中获得当前工厂的服装定制状态，利用深度强化学习模型，以最高行动价值为目标进行最优策略训练，获得当前工厂的服装定制状态时对应的当前服装定制行动，通过考虑生产效率与服装生产价值作为策略，来生成当前策略下最好的行动，以此指导生产订单与待安排人员向产线的分配，提高服装工厂生产效率以及工厂生产的抗干扰能力。
权利要求书clms
1.一种服装定制产线柔性控制系统，其特征在于，包括：训练参数获取模块，所述训练参数获取模块被配置为获取训练参数；其中，所述训练参数包括产线参数、生产订单和待安排人员，所述产线参数为表征每条产线生产效率的动态参数；训练参数处理模块，所述训练参数处理模块被配置为根据所述产线参数、所述生产订单和所述待安排人员，生成当前服装定制状态；深度强化学习训练模块，所述深度强化学习训练模块被配置为根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述行动价值为所述当前服装定制状态之后关于生产效率的回报累加值；产线柔性控制模块，所述产线柔性控制模块被配置为根据所述当前服装定制行动，执行生产订单与人员的分配动作。2.根据权利要求1所述的服装定制产线柔性控制系统，其特征在于，所述训练参数获取模块，具体包括：产线参数获取单元，所述产线参数获取单元被配置为根据不同人员执行不同服装类型生产时的生产效率，确定每条产线在分配到不同人员和不同生产订单时具有的生产效率参数；生产订单获取单元，所述生产订单获取单元被配置为根据接收订单系统输入的订单信息，获取用于分配至产线的生产订单；其中，所述生产订单包括服装类型参数及不同服装类型对应的生产量参数；待安排人员获取单元，所述待安排人员获取单元被配置为接收人员系统输入的待安排人员表，获取用于分配至产线的待安排人员；其中，所述待安排人员包括每个人员生产不同服装类型的生产效率。3.根据权利要求2所述的服装定制产线柔性控制系统，其特征在于，所述生产订单获取单元，具体包括：实时生产订单获取子单元，所述实时生产订单获取子单元被配置为直接获取订单系统输入的实时订单信息；预测生产订单获取子单元，所述预测生产订单获取子单元被配置为根据所述实时订单信息和历史订单映射特征，预测未来订单信息；其中，所述历史订单映射特征包括订单生成时间与订单服装类型的映射特征和订单生成时间与订单生产量的映射特征。4.根据权利要求2或3所述的服装定制产线柔性控制系统，其特征在于，所述产线参数获取单元，具体包括：单独生产效率获取子单元，所述单独生产效率获取子单元被配置为获取不同人员执行不同服装类型生产时的生产效率；整体生产效率确定子单元，所述整体生产效率确定子单元被配置为获取每条产线的工位信息，并根据所述工位信息和不同人员执行不同服装类型生产时的生产效率，生成每条产线在分配到不同人员和不同生产订单时具有的生产效率参数。5.根据权利要求1所述的服装定制产线柔性控制系统，其特征在于，所述训练参数处理模块，具体包括：训练参数序列化单元，所述训练参数序列化单元被配置为将所述产线参数、所述生产订单和所述待安排人员进行序列化；服装定制状态生成单元，所述服装定制状态生成单元被配置为将序列化的所述产线参数、所述生产订单和所述待安排人员转换为矩阵，获得当前服装定制状态；其中，所述当前服装定制状态的表达式，具体为： ； ；其中，为服装定制状态，/＞表示生产订单构成的矩阵，/＞表示产线参数构成的矩阵，/＞表示待安排人员构成的矩阵。6.根据权利要求5所述的服装定制产线柔性控制系统，其特征在于，所述深度强化学习训练模块，具体包括：强化学习模型单元，所述强化学习模型单元被配置为计算当前服装定制状态之后关于生产效率的回报累加值；深度学习模型单元，所述深度学习模型单元被配置为根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述当前服装定制行动的表达式，具体为： ；其中，a为当前服装定制行动，表示生成订单分配构成的矩阵，/＞表示人员分配构成的矩阵。7.根据权利要求6所述的服装定制产线柔性控制系统，其特征在于，所述强化学习模型单元，具体包括：回报率计算子单元，所述回报率计算子单元被配置为获取每条产线在分配到不同人员和不同生产订单时具有的生产效率参数和该分配条件下的服装生产价值，并根据所述生产效率参数与所述服装生产价值的乘积，确定每个时刻的回报率；回报累加值计算子单元，所述回报累加值计算子单元被配置为根据当前服装定制状态之后每个时刻的回报率总和，确定回报累加值；其中，所述回报累加值的表达式，具体为： ；其中，为回报累加值，/＞为在每个时刻t的回报率，/＞为折扣率。8.根据权利要求7所述的服装定制产线柔性控制系统，其特征在于，所述深度学习模型单元，具体包括：行动价值计算子单元，所述行动价值计算子单元被配置为根据当前服装定制状态之后关于生产效率的回报累加值，计算每个时刻的行动价值；其中，所述行动价值的表达式，具体为：其中，为行动价值，其表示在时刻t，状态/＞，行动/＞后，执行策略π得到的关于生产效率的回报累加值的回报期望E；最高行动价值计算子单元，所述最高行动价值计算子单元被配置为根据计算的行动价值，确定每个时刻的最高行动价值。9.根据权利要求8所述的服装定制产线柔性控制系统，其特征在于，所述深度学习模型单元，还包括：最优化策略训练子单元，所述最优化策略训练子单元被配置为根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述最优化策略训练的目标函数为最高行动价值，所述最高行动价值的表达式，具体为： ；其中，为最大行动价值，其表示在每个时刻执行策略π的最大的行动价值；其中，所述最优化策略训练的损失函数为均方误差，所述均方误差的表达式，具体为： ；其中L为损失函数，A为全部行动，为时间t时的行动，/＞为时间t时的状态。10.一种服装定制产线柔性控制方法，其特征在于，包括：获取训练参数；其中，所述训练参数包括产线参数、生产订单和待安排人员，所述产线参数为表征每条产线生产效率的动态参数；根据所述产线参数、所述生产订单和所述待安排人员，生成当前服装定制状态；根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述行动价值为所述当前服装定制状态之后关于生产效率的回报累加值；根据所述当前服装定制行动，执行生产订单与人员的分配动作。
说明书desc
技术领域本发明涉及服装制造技术领域，尤其是一种服装定制产线柔性控制系统及方法。背景技术服装定制产线柔性控制系统及方法是一种集成从前端下单到后端工厂智能样版、分床排料、工艺及生产的全流程数字化的解决方案，此方案的具体步骤包括：将服装基础样版进行分解，并对各类版型和部件进行建模，再上传至数据中心。在消费者下单、工厂后台审核通过后，系统就可以自动匹配对应的样版和部件，依据下单要求的尺寸自动修改版型大小和形状。并且根据下单数量、配比等自动形成可供生产的裁剪方案。各个生产环节通过API接口数据对接，实现全流程数字化、智能化、柔性化。上述系统已能初步实现服装定制产线的柔性控制，但控制系统处理仍显粗糙，在打通全流程过程中并未实现工厂生产利益的最大化，在生产订单安排等方面仍存有一定的提升空间。在服装定制产线柔性控制过程中，提高服装工厂生产效率以及工厂生产的抗干扰能力，具有重要的意义。针对工厂多产线订单分配，现有方法有：先进先出队列：将多条产线按照一定顺序编入组中，每次获得订单后分配到当前空闲的产线进行生产。完成生产后产线再重新加入队列。固定分配策略：针对不同的产品设定特定产线，特定任务只会分配到对应产线上。贪心策略：基于采集到的产线实时数据进行当前时刻的订单最优化分配，使当前时刻的预计订单总耗时达到最小。针对工厂生产的抗干扰能力，现有方法有：制定严格的流程以及规范：对员工进行定期培训，提高员工的技能和素质，减少人为因素对产线的影响。采用抗干扰技术如滤波、屏蔽等：使用多种技术配合，屏蔽外界造成的对于产线可能的干扰。制定针对策略：通过制作预案的方式，对于不同突发状况进行针对性训练以实现快速恢复生产。然而，上述现有技术虽然解决了服装定制的多产线分配及抗干扰问题，但这些方法都还不够完善，有大量空间可以优化来提升效率。因此，现有技术存在如下问题：先进先出队列：在实际生产中，由于同一服装不同产线、不同服装同一产线的生产效率之间大多存在差异，不同订单的原料之间也可能存在冲突，需在清理产线之后才能进行生产，因此尽管先进先出队列可以利用更多的产线，但是效率却不一定最优。固定分配策略：对于不同产线，固定分配对应类型的服装订单会导致有的产线订单饱满但有的产线长时间空置，生产效率低下。贪心策略：局部最优化不能得出整体最优化。前后订单的最优化策略也许存在冲突，这样无法实现长时间中的整体最优化。制定严格的流程以及规范：这种方法适用于防范严重的安全事故以及由于误操作带来的停摆。对于其他意外情况的处理没有任何帮助。采用抗干扰技术如滤波、屏蔽等：这种方法仅能避免外界环境对于内部的影响，确保产线的运行环境的稳定。对于内在生产要素改变带来的干扰无法处理。制定针对策略：这种方法可以有效避免重大安全事故的发生。但是对于细微的干扰不会处理。这些干扰包括人员的替换，产品的切换。这些干扰会影响整体的效率但不会制定策略进行处理。因此，如何提供一种提高服装工厂生产效率以及工厂生产的抗干扰能力的服装定制产线柔性控制方案，是当前服装制造行业亟需解决的技术问题。发明内容为解决上述现有技术问题，本发明的第一方面，提供了一种服装定制产线柔性控制系统，包括：训练参数获取模块，所述训练参数获取模块被配置为获取训练参数；其中，所述训练参数包括产线参数、生产订单和待安排人员，所述产线参数为表征每条产线生产效率的动态参数；训练参数处理模块，所述训练参数处理模块被配置为根据所述产线参数、所述生产订单和所述待安排人员，生成当前服装定制状态；深度强化学习训练模块，所述深度强化学习训练模块被配置为根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述行动价值为所述当前服装定制状态之后关于生产效率的回报累加值；产线柔性控制模块，所述产线柔性控制模块被配置为根据所述当前服装定制行动，执行生产订单与人员的分配动作。可选的，所述训练参数获取模块，具体包括：产线参数获取单元，所述产线参数获取单元被配置为根据不同人员执行不同服装类型生产时的生产效率，确定每条产线在分配到不同人员和不同生产订单时具有的生产效率参数；生产订单获取单元，所述生产订单获取单元被配置为根据接收订单系统输入的订单信息，获取用于分配至产线的生产订单；其中，所述生产订单包括服装类型参数及不同服装类型对应的生产量参数；待安排人员获取单元，所述待安排人员获取单元被配置为接收人员系统输入的待安排人员表，获取用于分配至产线的待安排人员；其中，所述待安排人员包括每个人员生产不同服装类型的生产效率。可选的，所述生产订单获取单元，具体包括：实时生产订单获取子单元，所述实时生产订单获取子单元被配置为直接获取订单系统输入的实时订单信息；预测生产订单获取子单元，所述预测生产订单获取子单元被配置为根据所述实时订单信息和历史订单映射特征，预测未来订单信息；其中，所述历史订单映射特征包括订单生成时间与订单服装类型的映射特征和订单生成时间与订单生产量的映射特征。可选的，所述产线参数获取单元，具体包括：单独生产效率获取子单元，所述单独生产效率获取子单元被配置为获取不同人员执行不同服装类型生产时的生产效率；整体生产效率确定子单元，所述整体生产效率确定子单元被配置为获取每条产线的工位信息，并根据所述工位信息和不同人员执行不同服装类型生产时的生产效率，生成每条产线在分配到不同人员和不同生产订单时具有的生产效率参数。可选的，所述训练参数处理模块，具体包括：训练参数序列化单元，所述训练参数序列化单元被配置为将所述产线参数、所述生产订单和所述待安排人员进行序列化；服装定制状态生成单元，所述服装定制状态生成单元被配置为将序列化的所述产线参数、所述生产订单和所述待安排人员转换为矩阵，获得当前服装定制状态；其中，所述当前服装定制状态的表达式，具体为：其中，为服装定制状态，/＞表示生产订单构成的矩阵，/＞表示产线参数构成的矩阵，/＞表示待安排人员构成的矩阵。可选的，所述深度强化学习训练模块，具体包括：强化学习模型单元，所述强化学习模型单元被配置为计算当前服装定制状态之后关于生产效率的回报累加值；深度学习模型单元，所述深度学习模型单元被配置为根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述当前服装定制行动的表达式，具体为：其中，a为当前服装定制行动，表示生成订单分配构成的矩阵，表示人员分配构成的矩阵。可选的，所述强化学习模型单元，具体包括：回报率计算子单元，所述回报率计算子单元被配置为获取每条产线在分配到不同人员和不同生产订单时具有的生产效率参数和该分配条件下的服装生产价值，并根据所述生产效率参数与所述服装生产价值的乘积，确定每个时刻的回报率；回报累加值计算子单元，所述回报累加值计算子单元被配置为根据当前服装定制状态之后每个时刻的回报率总和，确定回报累加值；其中，所述回报累加值的表达式，具体为：其中，为回报累加值，/＞为在每个时刻t的回报率，/＞为折扣率。可选的，所述深度学习模型单元，具体包括：行动价值计算子单元，所述行动价值计算子单元被配置为根据当前服装定制状态之后关于生产效率的回报累加值，计算每个时刻的行动价值；其中，所述行动价值的表达式，具体为：其中，为行动价值，其表示在时刻t，状态/＞，行动/＞后，执行策略π得到的关于生产效率的回报累加值的回报期望E。最高行动价值计算子单元，所述最高行动价值计算子单元被配置为根据计算的行动价值，确定每个时刻的最高行动价值。可选的，所述深度学习模型单元，还包括：最优化策略训练子单元，所述最优化策略训练子单元被配置为根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述最优化策略训练的目标函数为最高行动价值，所述最高行动价值的表达式，具体为：其中，为最大行动价值，其表示在每个时刻执行策略π的最大的行动价值；其中，所述最优化策略训练的损失函数为均方误差，所述均方误差的表达式，具体为：其中L为损失函数，A为全部行动，为时间t时的行动，/＞为时间t时的状态。为解决上述现有技术问题，本发明的第二方面，提供了一种服装定制产线柔性控制方法，包括：获取训练参数；其中，所述训练参数包括产线参数、生产订单和待安排人员，所述产线参数为表征每条产线生产效率的动态参数；根据所述产线参数、所述生产订单和所述待安排人员，生成当前服装定制状态；根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述行动价值为所述当前服装定制状态之后关于生产效率的回报累加值；根据所述当前服装定制行动，执行生产订单与人员的分配动作。本发明的有益效果在于：提出了一种服装定制产线柔性控制系统及方法，通过从产线参数、生产订单和待安排人员中获得当前工厂的服装定制状态，利用深度强化学习模型，以最高行动价值为目标进行最优策略训练，获得当前工厂的服装定制状态时对应的当前服装定制行动，通过考虑生产效率与服装生产价值作为策略，来生成当前策略下最好的行动，以此指导生产订单与待安排人员向产线的分配，提高服装工厂生产效率以及工厂生产的抗干扰能力。附图说明图1为本发明所提供的服装定制产线柔性控制系统的结构示意图；图2为本发明所提供的服装定制产线柔性控制方法的流程示意图。附图标记说明：10-训练参数获取模块；20-训练参数处理模块；30-深度强化学习训练模块；40-产线柔性控制模块。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例1：参照图1，图1为本发明实施例提供的一种服装定制产线柔性控制系统的结构示意图。如图1所示，一种服装定制产线柔性控制系统，包括：训练参数获取模块10，所述训练参数获取模块10被配置为获取训练参数；其中，所述训练参数包括产线参数、生产订单和待安排人员，所述产线参数为表征每条产线生产效率的动态参数；训练参数处理模块20，所述训练参数处理模块20被配置为根据所述产线参数、所述生产订单和所述待安排人员，生成当前服装定制状态；深度强化学习训练模块30，所述深度强化学习训练模块30被配置为根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述行动价值为所述当前服装定制状态之后关于生产效率的回报累加值；产线柔性控制模块40，所述产线柔性控制模块40被配置为根据所述当前服装定制行动，执行生产订单与人员的分配动作。需要说明的是，现有技术在实现服装定制多产线柔性控制时，存在着生产效率以及抗干扰能力不高的问题，且尚没有较好的解决方案。本实施例提供一种服装定制产线柔性控制系统，通过从产线参数中获取衡量每条产线生产效率的动态参数，进而生成基于生产效率与服装价值的优化策略，利用生产订单和待安排人员生成当前服装定制状态，通过深度强化学习模型进行最优化策略训练，获得具有最高行动价值的当前服装定制行动，以此来指导生产订单与人员在产线上的分配任务。由此，本实施例通过使用基于产线参数数据采集的强化学习策略算法，能够实现在多种服装多种产线并行的情况下的柔性控制，相比于传统先进先出队列、固定分配策略以及贪心策略，考虑了每条产线的生产效率以及服装价值，实现了整体效率的长期最优。同时，由于考虑了生产订单和待安排人员的具体情况，在面临不同类型订单以及不同能力水平的安排人员分配时，也具有较好的抗干扰能力。在优选的实施例中，所述训练参数获取模块10，具体包括：产线参数获取单元，所述产线参数获取单元被配置为根据不同人员执行不同服装类型生产时的生产效率，确定每条产线在分配到不同人员和不同生产订单时具有的生产效率参数；生产订单获取单元，所述生产订单获取单元被配置为根据接收订单系统输入的订单信息，获取用于分配至产线的生产订单；其中，所述生产订单包括服装类型参数及不同服装类型对应的生产量参数；待安排人员获取单元，所述待安排人员获取单元被配置为接收人员系统输入的待安排人员表，获取用于分配至产线的待安排人员；其中，所述待安排人员包括每个人员生产不同服装类型的生产效率。具体而言，所述产线参数获取单元，具体包括：单独生产效率获取子单元，所述单独生产效率获取子单元被配置为获取不同人员执行不同服装类型生产时的生产效率；整体生产效率确定子单元，所述整体生产效率确定子单元被配置为获取每条产线的工位信息，并根据所述工位信息和不同人员执行不同服装类型生产时的生产效率，生成每条产线在分配到不同人员和不同生产订单时具有的生产效率参数。需要说明的是，本实施采集的产线参数中包括每条产线在分配到不同人员和不同生产订单时具有的生产效率参数；其中，每条产线的生产效率参数通过获取该产线具有的工位信息，再根据工位信息以及不同人员执行不同服装类型生产时的单独生产效率来计算确定，由此，可以获得在实际情况下工厂中不同产线的整体生产效率，进而为计算最高行动价值以及最优化策略训练提供依据数据。具体而言，所述生产订单获取单元，具体包括：实时生产订单获取子单元，所述实时生产订单获取子单元被配置为直接获取订单系统输入的实时订单信息；预测生产订单获取子单元，所述预测生产订单获取子单元被配置为根据所述实时订单信息和历史订单映射特征，预测未来订单信息；其中，所述历史订单映射特征包括订单生成时间与订单服装类型的映射特征和订单生成时间与订单生产量的映射特征。在优选的实施例中，所述训练参数处理模块20，具体包括：训练参数序列化单元，所述训练参数序列化单元被配置为将所述产线参数、所述生产订单和所述待安排人员进行序列化；服装定制状态生成单元，所述服装定制状态生成单元被配置为将序列化的所述产线参数、所述生产订单和所述待安排人员转换为矩阵，获得当前服装定制状态；其中，所述当前服装定制状态的表达式，具体为：其中，为服装定制状态，/＞表示生产订单构成的矩阵，/＞表示产线参数构成的矩阵，/＞表示待安排人员构成的矩阵。需要说明的是，考虑到服装订单具有气候与季节等时间相关性，在一些实施例中，在获取生产订单时，不仅仅包括由客户下单经由订单系统传输而来的实时订单信息，还包括根据实时订单信息和历史订单映射特征预测获得的未来订单信息。在实际应用中，通过将订单生成时间与订单服装类型的映射特征以及订单生成时间与订单生产量的映射特征输入循环神经网络，实现对未来时刻订单生产量与订单服装类型的预测，以此根据历史订单信息预测未来订单信息，再将未来订单信息作为当前服装定制状态中的一部分考虑因素，通过深度强化学习模型不断优化自身策略，由此可以实现考虑未来订单情况下的最优分配。在优选的实施例中，所述深度强化学习训练模块30，具体包括：强化学习模型单元，所述强化学习模型单元被配置为计算当前服装定制状态之后关于生产效率的回报累加值；深度学习模型单元，所述深度学习模型单元被配置为根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述当前服装定制行动的表达式，具体为：其中，a为当前服装定制行动，表示生成订单分配构成的矩阵，表示人员分配构成的矩阵。其中，所述强化学习模型单元，具体包括：回报率计算子单元，所述回报率计算子单元被配置为获取每条产线在分配到不同人员和不同生产订单时具有的生产效率参数和该分配条件下的服装生产价值，并根据所述生产效率参数与所述服装生产价值的乘积，确定每个时刻的回报率；回报累加值计算子单元，所述回报累加值计算子单元被配置为根据当前服装定制状态之后每个时刻的回报率总和，确定回报累加值；其中，所述回报累加值的表达式，具体为：其中，为回报累加值，/＞为在每个时刻t的回报率，/＞为折扣率。在此基础上，所述深度学习模型单元，具体包括：行动价值计算子单元，所述行动价值计算子单元被配置为根据当前服装定制状态之后关于生产效率的回报累加值，计算每个时刻的行动价值；最高行动价值计算子单元，所述最高行动价值计算子单元被配置为根据计算的行动价值，确定每个时刻的最高行动价值。其中，所述行动价值的表达式，具体为：其中，为行动价值，其表示在时刻t，状态/＞，行动/＞，执行策略π得到的关于生产效率的回报累加值的回报期望E。需要说明的是，本实施例通过构建深度强化学习模型，利用生成的当前服装定制状态，定义当前服装定制行动/＞，以最高行动价值为目标进行最优化策略训练。其中，在确定最高行动价值时，先获取每条产线在分配到不同人员和不同生产订单时具有的生产效率参数和该分配条件下的服装生产价值，将两者的乘积之和作为每个时刻的回报率，再根据当前服装定制状态之后每个时刻的回报率总和，确定当前服装定制状态之后关于生产效率的回报累加值/＞，再以此计算每个时刻的行动价值，最后从每个时刻的行动价值中选取最高行动价值，利用每个时刻的最高行动价值进行最优化策略训练，获得当前服装定制行动，以此指导生产订单与人员在产线上的分配任务，能够最大化服装生成利益。对于折扣率的取值，本实施例中，对于每一步而言，下一步之后的整体回报会乘以折扣率以表示在这一步之后后续的回报总和。因此，从后向前递推，每向前一步，整体都会乘上一个折扣率/＞。考虑到未来难以掌握，因此折扣率往往小于1以削弱未来回报对当前决策的影响。折扣率的值将决定模型的整体决策。如果折扣率相对较低，模型会更倾向于选择短期回报的最大化；而如果折扣率接近于1，模型会选择整体最优的选择。然而，过大的折扣率可能导致模型难以训练和使用。折扣率越大，模型就越容易受到更长时间内的输入数据的影响。而输入的订单数据往往是随机的，这种随机性可能导致模型在长序列上表现优异，但在实际后续生产中表现较差。因此，选择一个合适的回报率有助于模型的训练和后续使用，一般情况下折扣率的取值为0.5或0.3。在工厂的实际生产中，订单并非完全随机，其客户可能较为固定，且服装类型与时间等存在较强的相关性。考虑到本模型的重点在于整体的订单以及人员的最优分配，因此折扣率可以选择一个较大的数值。在此情况下，选择0.5是一个较为合适的选择。更进一步的，所述深度学习模型单元，还包括：最优化策略训练子单元，所述最优化策略训练子单元被配置为根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述最优化策略训练的目标函数为最高行动价值，所述最高行动价值的表达式，具体为：其中，为最大行动价值，其表示在每个时刻执行策略π的最大的行动价值；其中，所述最优化策略训练的损失函数为均方误差，所述均方误差的表达式，具体为：其中L为损失函数，A为全部行动，为时间t时的行动，/＞为时间t时的状态。本实施例中，在根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练的过程中，目标函数即为最高行动价值，损失函数设置为均方误差，训练收敛条件时模型输出的行动与训练数据中能够采取的最佳行动一致。由此，利用深度强化学习利用最高行动价值进行的最优化策略训练，可通过持续获取生产过程中的状态以及回报进行不断优化，实现对于该服装定制产线生产订单序列的整体最优化策略分配，根据获得的当前服装定制行动进行生产订单和人员向不同的产线进行分配的方案。本实施例提出了一种服装定制产线柔性控制系统，通过从产线参数、生产订单和待安排人员中获得当前工厂的服装定制状态，利用深度强化学习模型，以最高行动价值为目标进行最优策略训练，获得当前工厂的服装定制状态时对应的当前服装定制行动，通过考虑生产效率与服装生产价值作为策略，来生成当前策略下最好的行动，以此指导生产订单与待安排人员向产线的分配，提高服装工厂生产效率以及工厂生产的抗干扰能力。实施例2：参照图2，图2为本发明实施例提供的一种服装定制产线柔性控制方法的流程示意图。如图2所示，一种服装定制产线柔性控制方法，包括如下步骤：S1：获取训练参数；其中，所述训练参数包括产线参数、生产订单和待安排人员，所述产线参数为表征每条产线生产效率的动态参数；S2：根据所述产线参数、所述生产订单和所述待安排人员，生成当前服装定制状态；S3：根据所述当前服装定制状态，以最高行动价值为目标进行最优化策略训练，获得当前服装定制行动；其中，所述行动价值为所述当前服装定制状态之后关于生产效率的回报累加值；S4：根据所述当前服装定制行动，执行生产订单与人员的分配动作。本申请服装定制产线柔性控制方法的具体实施方式与上述服装定制产线柔性控制系统各实施例基本相同，在此不再赘述。在本发明的实施例的描述中，需要理解的是，术语“上”、“下”、“前”、“后”、“左”、“右”、“坚直”、“水平”、“中心”、“顶”、“底”、“顶部”、“底部”、“内”、“外”、“内侧”、“外侧”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。其中，“里侧”是指内部或围起来的区域或空间。“外围”是指某特定部件或特定区域的周围的区域。在本发明的实施例的描述中，术语“第一”、“第二”、“第三”、“第四”仅用以描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”、“第三”、“第四”的特征可以明示或者隐含地包括一个或者更多个该特征。在本发明的描述中，除非另有说明，“多个”的含义是两个或两个以上。在本发明的实施例的描述中，需要说明的是，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”、“组装”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。在本发明的实施例的描述中，具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。在本发明的实施例的描述中，需要理解的是，“-”和“~”表示的是两个数值之同的范围，并且该范围包括端点。例如:“A-B”表示大于或等于A，且小于或等于B的范围。“A~B”表示大于或等于A，且小于或等于B的范围。在本发明的实施例的描述中，本文中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中字符“/”，一般表示前后关联对象是一种“或”的关系。尽管已经示出和描述了本发明的实施例，对于本领域的普通技术人员而言，可以理解在不脱离本发明的原理和精神的情况下可以对这些实施例进行多种变化、修改、替换和变型，本发明的范围由所附权利要求及其等同物限定。
