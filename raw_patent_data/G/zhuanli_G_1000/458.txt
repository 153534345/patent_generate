标题title
基于完全子图和插入式遗传算法的城际拼车静态调度方法
摘要abst
本发明提供基于完全子图和插入式遗传算法的城际拼车静态调度方法，涉及交通调度技术领域。方法包含S1、历史订单进行预处理。S2、预处理后提取所需字段获取输入订单数据。S3、根据输入订单数据，计算用户之间的时空相似性。S4、以时空相似性为元素生成n名乘客合乘权值矩阵。S5、根据合乘权值矩阵生成n名乘客的合乘带权图。S6、根据合乘带权图搜索1到k阶的完全图，获取合乘完全图集合。S7、多次在合乘完全图集合中搜索可行子图组合，获取原始种群。S8、重复执行S9至迭代结束，从新的种群选择适应度最高的个体作为静态调度的解。S9、从旧的种群选择个体进行交叉运算和变异运算获取新的个体。用新的个体替换旧的种群中较差的个体，获取新的种群。
权利要求书clms
1.一种基于完全子图和插入式遗传算法的城际拼车静态调度方法，其特征在于，包含步骤S1至步骤S9；S1、获取城际网约车的历史订单数据集，并进行预处理；S2、从预处理后的数据集中提取所需字段，以获取各个订单的输入订单数据；S3、根据所述输入订单数据，分别计算任意两名用户之间的时空相似性；S4、以所述时空相似性作为矩阵的元素生成关于n名乘客的n×n维的合乘权值矩阵；S5、根据所述合乘权值矩阵生成关于n名乘客的合乘带权图G；S6、根据所述合乘带权图搜索1到k阶的完全图，获取合乘完全图集合Gset；其中，k为客运车辆最大载客数；S7、多次按照高阶数的完全图优先的方式在合乘完全图集合中搜索符合合乘约束条件的可行子图组合，以得到遗传算法的原始种群；其中，一个可行子图组合作为原始种群中的一个可行解；S8、重复执行步骤S9直至迭代次数达到预设次数后，从最新的种群中选择适应度最高的个体作为城际拼车客运的静态调度的解；S9、根据旧的种群，以适应度大小为依据采用轮盘赌策略选择C个个体进行交叉运算和变异运算从而获取多个新的个体；然后根据所述多个新的个体，采用精英保留策略替换旧的种群中适应度最差的多个个体，获取新的种群；其中，第一次迭代时，以所述原始种群作为所述旧的种群，后续迭代以前一次迭代生成的新的种群作为所述旧的种群。2.根据权利要求1所述的一种基于完全子图和插入式遗传算法的城际拼车静态调度方法，其特征在于，步骤S1具体包括步骤S11和步骤S12；S11、获取城际网约车的历史订单数据集；S12、删除所述历史订单数据集中的无用数据和干扰数据；其中，所述无用数据包括：货件数据；所述干扰数据包括：未履约数据和缺失数据；步骤S2中的所需字段包括：乘客ID、下单时间、预约出发时间、预约起点、预约终点、订单类型、订单人数、订单状态和线路ID。3.根据权利要求1所述的一种基于完全子图和插入式遗传算法的城际拼车静态调度方法，其特征在于，步骤S3具体包括步骤S31和步骤S32；S31、根据所述输入订单数据，根据订单人数对订单进行拆分并生成子订单，以使每个子订单对应一个用户，并且约束拆分得到的用户乘坐同一辆车，以获取n个用户的订单；S32、根据所述n个用户的订单，基于订单的预约出发时间和预约起点计算任意两名用户之间的时空相似性；其中，所述时空相似性计算模型为：式中，为时空相似性、/＞为时间相似性常数、/＞为时间相似性，表示两名乘客在出发时间上的相近程度、/＞为空间相似性常数、/＞为空间相似性，表示两个乘客在地理空间位置上的相近程度。4.根据权利要求1所述的一种基于完全子图和插入式遗传算法的城际拼车静态调度方法，其特征在于，步骤S4具体包括：对于输入数据中的所有n名乘客，以时空相似性作为矩阵的元素生成关于n名乘客的n×n维的合乘权值矩阵；其中，矩阵主对角线上的元素为0。5.根据权利要求1所述的一种基于完全子图和插入式遗传算法的城际拼车静态调度方法，其特征在于，步骤S5具体包括步骤S51和步骤S52；S51、根据所述合乘权值矩阵，生成n名乘客的带权完全图；其中，带权完全图以乘客作为节点，以合乘权值矩阵的元素作为节点间的连边权值；S52、依据预设的合乘权值阈值删去n阶的带权完全图中小于阈值的连边，获取合乘带权图G。6.根据权利要求1所述的一种基于完全子图和插入式遗传算法的城际拼车静态调度方法，其特征在于，步骤S7具体包括步骤S71和步骤S72；S71、重复以下步骤，直至得到预设数量个可行解，以可行解作为遗传算法的个体从而得到的原始种群；S72、在满足约束条件的情况下将1-k阶合乘完全图集合Gset按照高阶完全图优先的方式分配给运营车辆；其中，对于一个小于k阶的完全图，首先在已分配拼车集中搜索是否能够找到一个能够合乘的车辆染色体，若能找到则插入拼车集中的染色体，否则分配给未分配的运营车辆后加入拼车集，直至包含所有乘客且满足所有约束条件后得到的一个可行子图组合作为调度的一个可行解；染色体表示运营车辆的行程规划，每条染色体代表一辆车的行程规划，不同行程用数字0分隔开，每条染色体由一个或者多个Gset中的完全图构成；染色体中的基因为乘客编号，基因的顺序代表运营车辆的接客顺序；约束条件包括1、每个个体内部的染色体基因不重复；2、每个个体包含所有的乘客；一个个体包含多条染色体。7.根据权利要求1所述的一种基于完全子图和插入式遗传算法的城际拼车静态调度方法，其特征在于，步骤S9具体包括步骤S91至步骤S93；S91、根据旧的种群，以适应度大的个体优先为前提采用轮盘赌策略选择C个个体进行交叉运算和变异运算，获取多个未筛选个体；其中，交叉运算为：对于、/＞两个个体，随机选择各自染色体上相同长度的染色体片段/＞ 和 /＞进行交换，将/＞插入/＞后删除中与/＞重复的乘客，将/＞插入/＞后删除/＞中与/＞重复的乘客；单点变异运算为：对于某个个体/＞中的染色体/＞，随机选择其中两个基因的位置进行交换；S92、剔除所述多个未筛选个体中不符合约束条件的个体，获取多个新的个体；S93、采用精英保留策略在多个新的个体中选择适应度最高的x个个体替代旧的种群中适应度最差的x个个体，获取新的种群。8.根据权利要求1至7任意一项所述的一种基于完全子图和插入式遗传算法的城际拼车静态调度方法，其特征在于，步骤S6的合乘完全图集合Gset中的不同的完全子图中允许有重合的节点。9.根据权利要求1至7任意一项所述的一种基于完全子图和插入式遗传算法的城际拼车静态调度方法，其特征在于，步骤S8和步骤S9中的适应度为客运公司所能获得的利润。
说明书desc
技术领域本发明涉及交通调度技术领域，具体而言，涉及一种基于完全子图和插入式遗传算法的城际拼车单侧静态调度方法。背景技术随着城市化进程的加快，人口流动和交通需求的增加，城际客运拼车已经成为现代社会重要的出行方式。城际客运拼车的静态调度通常是指在确定的车辆资源、乘客订单及限定条件和已知环境下所进行的调度，其目标是在满足客流需求的条件下，尽可能的利用调度资源来使目标结果最大化，能够有效的帮助城际预约出行服务提前规划好车辆的路径选择、服务时间等问题。当前“城际拼车”的主要发展方向是以盈利为目的且熟悉固定线路的专职司机提供出行服务，在此模式下，主要以本地熟悉路况的司机们组成规模不一的车队，通过车队间的相互沟通联系客源，提供固定几个城市之间的出行服务，该模式存在的主要问题有：城际拼车问题大部分轨迹重合，且乘客间的时空位置关系与车辆路径之间高度耦合，使问题求解困难。现有模型未综合乘客利益且考虑路径的通道问题和绕路系数带来的影响，建模困难且求解效率低。有效发挥城际拼车的优势除了加大“城际拼车”的宣传力度，完善行业相关规范，还需解决有关拼车的一系列问题，诸如同辆车乘客间上、下车范围的确定，不同服务间价格的合理制定，车辆路径规划等问题。有鉴于此，申请人在研究了现有的技术后特提出本申请。发明内容本发明提供了一种基于完全子图和插入式遗传算法的城际拼车单侧静态调度方法，以改善上述技术问题中的至少一个。本发明实施例提供了一种基于完全子图和插入式遗传算法的城际拼车单侧静态调度方法，其包含步骤S1至步骤S9。S1、获取城际网约车的历史订单数据集，并进行预处理。S2、从预处理后的数据集中提取所需字段，以获取各个订单的输入订单数据。S3、根据所述输入订单数据，分别计算任意两名用户之间的时空相似性。S4、以所述时空相似性作为矩阵的元素生成关于n名乘客的n×n维的合乘权值矩阵。S5、根据所述合乘权值矩阵生成关于n名乘客的合乘带权图G。S6、根据所述合乘带权图搜索1到k阶的完全图，获取合乘完全图集合Gset。其中，k为客运车辆最大载客数。S7、多次按照高阶数的完全图优先的方式在合乘完全图集合中搜索符合合乘约束条件的可行子图组合，以得到遗传算法的原始种群。其中，一个可行子图组合作为原始种群中的一个可行解。S8、重复执行步骤S9直至迭代次数达到预设次数后，从最新的种群中选择适应度最高的个体作为城际拼车客运的静态调度的解。S9、根据旧的种群，以适应度大小为依据采用轮盘赌策略选择C个个体进行交叉运算和变异运算从而获取多个新的个体。然后根据所述多个新的个体，采用精英保留策略替换旧的种群中适应度最差的多个个体，获取新的种群。其中，第一次迭代时，以所述原始种群作为所述旧的种群，后续迭代以前一次迭代生成的新的种群作为所述旧的种群。在一个可选的实施例中，步骤S1具体包括步骤S11和步骤S12。S11、获取城际网约车的历史订单数据集。S12、删除所述历史订单数据集中的无用数据和干扰数据。其中，所述无用数据包括：货件数据。所述干扰数据包括：未履约数据和缺失数据。在一个可选的实施例中，步骤S2中的所需字段包括：乘客ID、下单时间、预约出发时间、预约起点、预约终点、订单类型、订单人数、订单状态和线路ID。在一个可选的实施例中，步骤S3具体包括步骤S31和步骤S32。S31、根据所述输入订单数据，根据订单人数对订单进行拆分并生成子订单，以使每个子订单对应一个用户，并且约束拆分得到的用户乘坐同一辆车，以获取n个用户的订单。S32、根据所述n个用户的订单，基于订单的预约出发时间和预约起点计算任意两名用户之间的时空相似性。其中，所述时空相似性计算模型为：式中，为时空相似性、/＞为时间相似性常数、/＞为时间相似性，表示两名乘客在出发时间上的相近程度、/＞为空间相似性常数、/＞为空间相似性，表示两个乘客在地理空间位置上的相近程度。在一个可选的实施例中，步骤S4具体包括：对于输入数据中的所有n名乘客，以时空相似性作为矩阵的元素生成关于n名乘客的n×n维的合乘权值矩阵。其中，矩阵主对角线上的元素为0。在一个可选的实施例中，步骤S5具体包括步骤S51和步骤S52。S51、根据所述合乘权值矩阵，生成n名乘客的带权完全图。其中，带权完全图以乘客作为节点，以合乘权值矩阵的元素作为节点间的连边权值。S52、依据预设的合乘权值阈值删去n阶的带权完全图中小于阈值的连边，获取合乘带权图G。在一个可选的实施例中，步骤S6的合乘完全图集合Gset中的不同的完全子图中允许有重合的节点。在一个可选的实施例中，步骤S7具体包括步骤S71和步骤S72。S71、重复以下步骤，直至得到预设数量个可行解，以可行解作为遗传算法的个体从而得到的原始种群。S72、在满足约束条件的情况下将1-k阶合乘完全图集合Gset按照高阶完全图优先的方式分配给运营车辆。其中，对于一个小于k阶的完全图，首先在已分配拼车集中搜索是否能够找到一个能够合乘的车辆染色体，若能找到则插入拼车集中的染色体，否则分配给未分配的运营车辆后加入拼车集，直至包含所有乘客且满足所有约束条件后得到的一个可行子图组合作为调度的一个可行解。染色体表示运营车辆的行程规划，每条染色体代表一辆车的行程规划，不同行程用数字0分隔开，每条染色体由一个或者多个Gset中的完全图构成；染色体中的基因为乘客编号，基因的顺序代表运营车辆的接客顺序；约束条件包括1、每个个体内部的染色体基因不重复；2、每个个体包含所有的乘客；一个个体包含多条染色体。在一个可选的实施例中，步骤S8和步骤S9中的适应度为客运公司所能获得的利润。在一个可选的实施例中，步骤S9具体包括步骤S91至步骤S93。S91、根据旧的种群，以适应度大的个体优先为前提采用轮盘赌策略选择C个个体进行交叉运算和变异运算，获取多个未筛选个体。其中，交叉运算为：对于、/＞两个个体，随机选择各自染色体上相同长度的染色体片段/＞和/＞进行交换，将/＞插入/＞后删除/＞中与/＞重复的乘客，将/＞插入/＞后删除/＞中与/＞重复的乘客。单点变异运算为：对于某个个体/＞中的染色体/＞，随机选择其中两个基因的位置进行交换。S92、剔除所述多个未筛选个体中不符合约束条件的个体，获取多个新的个体。S93、采用精英保留策略在多个新的个体中选择适应度最高的x个个体替代旧的种群中适应度最差的x个个体，获取新的种群。通过采用上述技术方案，本发明可以取得以下技术效果：综上，本发明实施例能够根据历史乘客订单数据挖掘出行特点，静态训练更新模型，优化调度方法，规划得到利润率较高的调度策略，可以为运营企业提供决策支持，提高乘客的出行体验。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1是基于完全子图和插入式遗传算法的城际拼车单侧静态调度方法的流程示意图。图2是数据预处理的逻辑框图。图3是生成1至k阶合乘完全图集Gset的流程示意图。图4是利用1至k阶合乘完全图集Gset生成初始种群的流程示意图。图5是利用初始种群使用遗传算法进行迭代出目标解的流程示意图。图6为应用场景中构建得到的合乘带权图G的示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述。显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1至图5，本发明第一实施例提供一种基于完全子图和插入式遗传算法的城际拼车单侧静态调度方法，其可由于完全子图和插入式遗传算法的城际拼车静态调度设备来执行。特别地，由调度设备中的一个或多个处理器来执行，以实现步骤S1至步骤S9。可以理解的是，所述调度设备可为计算机、工作站、服务器、智能手机或平板电脑等具有数据运算处理能力的计算设备，本发明对此不做具体限定。S1、获取城际网约车的历史订单数据集，并进行预处理。优选的，步骤S1具体包括步骤S11和步骤S12。S11、获取城际网约车的历史订单数据集。S12、删除所述历史订单数据集中的无用数据和干扰数据。其中，所述无用数据包括：货件数据。所述干扰数据包括：未履约数据和缺失数据。具体的，城际网约车的历史订单数据集可以通过从各个网约车平台获取。在获取到历史订单数据集后，需要对历史订单数据集进行数据清洗。如图2所示，对历史订单数据集进行清洗，主要是删除无用的数据和干扰的数据，减小因为数据集的错误问题对调度模型产生的影响。发明人通过大量的研究，通过对历史订单数据集进行观察，发现“无用的数据”主要是：货件数据。货件数据，是用户下单用于委托城际网约车运营商跨城派送货件，因其不考虑上下车的时间约束，一般认为非正常订单数据，予以删除。“干扰的数据”主要是：未履约数据、缺失数据。未履约数据是指由司机或者乘客因某些原因导致订单没能完成，未履约数据会虚报城际间客运需求，不能正确反映正常拼车的情况。因此对于未履约数据，予以直接删除。缺失数据是指某条历史订单数据在给定字段存在缺失的情况。例如存在趟补单，即系统补贴单的订单，该类型的订单没有起点和终点，是系统用于补贴司机，一般是低峰期或高峰期的一些补贴措施，无实际出行意义。对于缺失数据，根据乘客ID中的系统特殊标识予以删除。S2、从预处理后的数据集中提取所需字段，以获取各个订单的输入订单数据。优选的，步骤S2中的所需字段包括：乘客ID、下单时间、预约出发时间、预约起点、预约终点、订单类型、订单人数、订单状态和线路ID。具体的，历史订单数据中包含大量后续用不到的数据，步骤S2将这些无用数据进行剔除，只提取了有用的数据。S3、根据所述输入订单数据，分别计算任意两名用户之间的时空相似性。优选地，步骤S3具体包括步骤S31和步骤S32。S31、根据所述输入订单数据，根据订单人数对订单进行拆分并生成子订单，以使每个子订单对应一个用户，并且约束拆分得到的用户乘坐同一辆车，以获取n个用户的订单。S32、根据所述n个用户的订单，基于订单的预约出发时间和预约起点计算任意两名用户之间的时空相似性。其中，所述时空相似性计算模型为：式中，为时空相似性、/＞为时间相似性常数、/＞为时间相似性，表示两名乘客在出发时间上的相近程度、/＞为空间相似性常数、/＞为空间相似性，表示两个乘客在地理空间位置上的相近程度。具体的，时间相似性和空间相似性/＞的具体计算模型为：式中，为设定最大时间约束、/＞为设定最大速度约束、/＞和/＞为乘客/＞的坐标、/＞和/＞为乘客/＞的坐标。在本实施例中，为了防止极端情况下，难以合乘的两名乘客有较不错的时空相似性，本方法采用对数函数将和/＞在趋近于0的值映射到无穷小，有效过滤极端情况。例如，两名乘客的时间相似性趋近于0，而空间相似性趋近于1，线性相加的方法下有不错的时空相似性，这显然是不希望看到的。而采用对数映射后变为极小的值，能够轻松被设定阈值的过滤。S4、以所述时空相似性作为矩阵的元素生成关于n名乘客的n×n维的合乘权值矩阵。优选地，步骤S4具体包括：对于输入数据中的所有n名乘客，以时空相似性作为矩阵的元素生成关于n名乘客的n×n维的合乘权值矩阵。其中，矩阵主对角线上的元素为0。具体的，n×n维的合乘权值矩阵是将n名乘客之间任意两名乘客的时空相似性作为矩阵元素的矩阵，且主对角线上的元素全部为0。步骤S31根据订单人数对订单进行复制拆分，以使每个订单对应一个用户，并且约束拆分得到的用户乘坐同一辆车，能够将数据从订单数据转化为乘车的出行需求数据，从而将订单问题化为乘客问题，具有很好的实际意义。需要说明的是，步骤S31对订单进行拆分的步骤也可以在步骤S4之后进行，在根据订单生成订单的合乘权值矩阵之后，再对合乘权值矩阵的行和列进行复制扩展，从而得到n×n维的合乘权值矩阵，本发明对此不做具体限定，无论在哪一个步骤中根据订单的人数对订单进行复制才分均属于本发明的保护范围。S5、根据所述合乘权值矩阵生成关于n名乘客的合乘带权图G。优选地，步骤S5具体包括步骤S51和步骤S52。S51、根据所述合乘权值矩阵，生成n名乘客的带权完全图。其中，带权完全图以乘客作为节点，以合乘权值矩阵的元素作为节点间的连边权值。S52、依据预设的合乘权值阈值删去n阶的带权完全图中小于阈值的连边，获取合乘带权图G。具体的，为了构建给定阶数的带权完全图集，需要先根据步骤S4的合乘权值矩阵构建合乘带权图G。本发明实施例中，利用n×n维时空相似性权值合乘矩阵生成这n名乘客的带权完全图，任意两名乘客间的连边权值为对应矩阵上的元素。然后，依据合乘阈值Threshold删去n阶带权完全图中小于Threshold的连边，得到合乘带权图G。S6、根据所述合乘带权图搜索1到k阶的完全图，获取合乘完全图集合Gset。其中，k为客运车辆最大载客数。优选地，步骤S6的合乘完全图集合Gset中的不同的完全子图中允许有重合的节点。具体的，得到合乘带权图G之后，在限定客运车辆最大载客数为k的条件下，在合乘带权图G中搜索出所有的1到k阶完全图，得到1-k阶合乘完全图集合Gset。其中，1-k阶合乘完全图集合Gset包含合乘带权图G中所有的1到k阶完全子图，允许不同的完全子图中有重合的点。S7、多次按照高阶数的完全图优先的方式在合乘完全图集合中搜索符合合乘约束条件的可行子图组合，以得到遗传算法的原始种群。其中，一个可行子图组合作为原始种群中的一个可行解。优选地，步骤S7具体包括步骤S71和步骤S72。S71、重复步骤S72直至得到预设数量个可行解，以可行解作为遗传算法的个体从而得到的原始种群。S72、在满足约束条件的情况下将1-k阶合乘完全图集合Gset按照高阶完全图优先的方式分配给运营车辆。其中，对于一个小于k阶的完全图，首先在已分配拼车集中搜索是否能够找到一个能够合乘的车辆染色体，若能找到则插入拼车集中的染色体，否则分配给未分配的运营车辆后加入拼车集，直至包含所有乘客且满足所有约束条件后得到的一个可行子图组合作为调度的一个可行解。染色体表示运营车辆的行程规划，每条染色体代表一辆车的行程规划，不同行程用数字0分隔开，每条染色体由一个或者多个Gset中的完全图构成；染色体中的基因为乘客编号，基因的顺序代表运营车辆的接客顺序；约束条件包括1、每个个体内部的染色体基因不重复；2、每个个体包含所有的乘客；一个个体包含多条染色体。具体的，如图4所示，满足约束条件的情况下将1-k阶完全图集合Gset按照高阶完全图优先的方式分配给运营车辆；对于一个小于k阶的完全图，首先在已分配拼车集中搜索是否能够找到一个能够合乘的车辆染色体，若能找到则插入拼车集中的染色体并将插入与被插入的完全图生成新的完全图，若不能则判断能否找到一个能拼成多趟行程的染色体，若仍不能找到则将其分配给未分配的运营车辆后加入拼车集，直至满足所有约束条件后得到的可行子图组合为一个可行解；在本实施例中，可行子图组合为调度的一个解，在遗传算法中为一个个体，多个个体构成遗传算法的种群；按照选出与已选完全图无重合点的完全图，直至包含所有乘客，得到一个初始解；在本实施例中，染色体为运营车辆的行程规划，每条染色体由一个或者多个完全图构成，每条染色体代表一趟行程，不同行程用数字0分隔开；染色体中的基因为乘客编号，基因的顺序代表运营车辆的接客顺序；在本实施例中，必要的约束条件包含每个个体内部的染色体基因不重复；每个个体包含所有的乘客；在上述实施例的基础上，本发明的一个可选地实施例中，搜索是否能够找到一个能够合乘的车辆染色体具体为：能否合乘需要依据合乘带权图G来判断新插入的完全图能否与染色体中的某一行程构成一个完全图，即判断新插入的完全图与被插入的完全图对应顶点在合乘带权图G中是否是一个大的完全图；若能，则染色体为能够合乘的车辆染色体；若不能，则进一步判断能否在满足约束条件下成为此染色体的新行程；若仍不能，则插入未分配车辆。S8、重复执行步骤S9直至迭代次数达到预设次数后，从最新的种群中选择适应度最高的个体作为城际拼车客运的静态调度的解。优选地，步骤S8和步骤S9中的适应度为客运公司所能获得的利润。具体的，不断产生新的种群直至到达设定的种群迭代次数后从最新的种群中选择适应度最高的个体输出作为静态调度的解。S9、根据旧的种群，以适应度大小为依据采用轮盘赌策略选择C个个体进行交叉运算和变异运算从而获取多个新的个体。然后根据所述多个新的个体，采用精英保留策略替换旧的种群中适应度最差的多个个体，获取新的种群。其中，第一次迭代时，以所述原始种群作为所述旧的种群，后续迭代以前一次迭代生成的新的种群作为所述旧的种群。优选地，步骤S9具体包括步骤S91至步骤S93。S91、根据旧的种群，以适应度大的个体优先为前提采用轮盘赌策略选择C个个体进行交叉运算和变异运算，获取多个未筛选个体。其中，交叉运算为：对于、/＞两个个体，随机选择各自染色体上相同长度的染色体片段/＞和/＞进行交换，将/＞插入/＞后删除/＞中与/＞重复的乘客，将/＞插入/＞后删除/＞中与/＞重复的乘客。单点变异运算为：对于某个个体/＞中的染色体/＞，随机选择其中两个基因的位置进行交换。S92、剔除所述多个未筛选个体中不符合约束条件的个体，获取多个新的个体。S93、采用精英保留策略在多个新的个体中选择适应度最高的x个个体替代旧的种群中适应度最差的x个个体，获取新的种群。具体的，在种群中依据适应度大小对个体进行排序，以适应度大的个体优先为前提，按照轮盘赌的策略选择C个个体进行交叉运算和变异运算；其中，交叉运算为：对于、两个个体，随机选择各自染色体上相同长度的染色体片段/＞、/＞进行交换。将/＞插入/＞后删除/＞中与/＞重复的乘客，将/＞插入/＞后删除/＞中与/＞重复的乘客；变异运算为：对于某个个体/＞中的染色体/＞，随机选择其中两个基因的位置进行交换。运算后剔除不符合约束条件的个体得到新个体；在本实施例中，剔除不符合约束条件的个体是指交叉运算后可能会丢失部分基因或者不符合合乘的约束条件；变异运算后可能产生不符合合乘约束的个体。得到新个体后按照精英保留策略在交叉运算和变异运算后产生的新个体中选择适应度最高的个体替代原种群中适应度最低的/＞个个体，产生新的种群。综上，本发明实施例能够根据历史乘客订单数据挖掘出行特点，静态训练更新模型，优化调度方法，规划得到利润率较高的调度策略，可以为运营企业提供决策支持，提高乘客的出行体验。为便于对本发明的理解，下面以一个实际的应用场景来说明本实施例的应用。本实际的应用场景的参数如表1所示：表1.实验模型参数设置研究对象为选取某公司的城际网约车历史订单数据，订单信息为2021年11月01日至2021年11月07日这段时间内，A城市的订单数据。其中，A城市在此期间的历史订单数据量在为每日40到70条之间。所选取的所需的字段包括：乘客ID、下单时间、预约出发时间、订单类型、人数、订单状态、线路ID，具体见表2。表2 A城市订单数据相关字段首末班数据集信息如表3所示：表3首末班数据集乘客预约数据集如表4和表5所示：表4乘客预约数据集表5乘客预约数据集利用2021年11月01日构建好的n×n合乘权值矩阵生成带权值的完全图，并删除n阶完全图中小于相似性阈值的边，得到的合乘带权图G如图6所示。实验结果得到的每日利润和收敛时长如表6所示：表6每日车辆总利润与平均收敛时长由表6可以看出，对于7天的预约拼车订单，40至120乘客节点的算例规模，模型都可以在规定的时间内收敛。车辆平均行驶时长与乘客候车时长如表7所示：表7车辆平均行驶时长与乘客候车时长根据表7所示，随着拼车订单的增加，车辆不需要绕更多路程去接送乘客。模型的收敛次数如表8所示：表8收敛次数结果表7至表8给出了平台总利润，车辆平均行驶时长，乘客平均候车时间，模型的收敛时长四个维度的结果。模型每个部分的性能如表9所示：表9模型每个部分的性能根据表9所示，完全子图与插入式遗传算法在整体模型中，初始解生成的拼车路径，计算得到的拼车平台的利润平均占搜索后最终解的93.07%以上，其中最后三天占比下降，可能是因为临近周末，数据规模的增加导致完全图的数量增加，有更多可行的组合未被生成。导致遗传算法可搜索域变大。通过收敛时长占比分析可知，随着数据规模的提升，完全子图生成的初始解的时长也随之增加，主要是因为乘客合乘矩阵的复杂度变大，遗传算法平均消耗了求解模型70.86%的时长，为初始解平均带来了6.92%的提升。本文模型有效增加了拼车平台的利润，且有助于改善乘客的乘车体验。在本发明实施例所提供的几个实施例中，应该理解到，所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置和方法实施例仅仅是示意性的，例如，附图中的流程图和框图显示了根据本发明的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本发明各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。所述功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。在本发明实施例中使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本发明。在本发明实施例和所附权利要求书中所使用的单数形式的“一种”、“所述”和“该”也旨在包括多数形式，除非上下文清楚地表示其他含义。应当理解，本文中使用的术语“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中字符“/”，一般表示前后关联对象是一种“或”的关系。取决于语境，如在此所使用的词语“如果”可以被解释成为“在……时”或“当……时”或“响应于确定”或“响应于检测”。类似地，取决于语境，短语“如果确定”或“如果检测”可以被解释成为“当确定时”或“响应于确定”或“当检测时”或“响应于检测”。实施例中提及的“第一第二”仅仅是是区别类似的对象，不代表针对对象的特定排序，可以理解地，“第一第二”在允许的情况下可以互换特定的顺序或先后次序。应该理解“第一第二”区分的对象在适当情况下可以互换，以使这里描述的实施例能够以除了在这里图示或描述的那些内容以外的顺序实施。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
