标题title
网卡配置方法、装置、电子设备及存储介质
摘要abst
本发明涉及计算机技术领域，具体涉及网卡配置方法、装置、电子设备及存储介质。在目标容器组创建过程中，为目标容器组分配目标网卡标识；判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡；当目标网卡标识对应的目标网卡为目标虚拟网卡时，获取目标容器组对应的第一所需加速卡资源；根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，以使目标容器组创建成功。可以保证为目标容器组配置的目标虚拟网卡或目标物理网卡的准确性。进而保证目标容器组在任何场景均可以成功执行任务，避免对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败的情况发生。
权利要求书clms
1.一种网卡配置方法，其特征在于，所述方法包括：在目标容器组创建过程中，为所述目标容器组分配目标网卡标识；判断所述目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡；其中，所述目标虚拟网卡为对所述目标物理网卡进行虚拟化得到的；当所述目标网卡标识对应的所述目标网卡为所述目标虚拟网卡时，获取所述目标容器组对应的第一所需加速卡资源；根据所述第一所需加速卡资源，为所述目标容器组配置所述目标虚拟网卡或所述目标虚拟网卡对应的所述目标物理网卡，以使所述目标容器组创建成功。2.根据权利要求1所述的方法，其特征在于，所述判断所述目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡，包括：获取所述目标网卡对应的服务器节点中的主板外接硬件设备目录；根据所述主板外接硬件设备目录，查找各主板外接硬件设备对应的设备信息；查找所述设备信息中是否存在对所述服务器节点对应的所述目标物理网卡进行虚拟化的虚拟化标记信息；当存在所述虚拟化标记信息时，确定所述目标网卡标识对应的所述目标网卡为所述目标虚拟网卡；当不存在所述虚拟化标记信息时，确定所述目标网卡标识对应的所述目标网卡为所述目标物理网卡。3.根据权利要求1所述的方法，其特征在于，所述根据所述第一所需加速卡资源，为所述目标容器组配置所述目标虚拟网卡或所述目标虚拟网卡对应的所述目标物理网卡，包括：获取所述目标容器组被调度的服务器节点对应的第一可用加速卡资源；将所述第一所需加速卡资源和所述第一可用加速卡资源进行对比；根据对比结果，为所述目标容器组配置所述目标虚拟网卡或所述目标虚拟网卡对应的所述目标物理网卡。4.根据权利要求3所述的方法，其特征在于，所述根据对比结果，为所述目标容器组配置所述目标虚拟网卡或所述目标虚拟网卡对应的所述目标物理网卡，包括：当所述第一所需加速卡资源等于所述第一可用加速卡资源时，获取所述目标虚拟网卡对应的所述目标物理网卡；为所述目标容器组配置所述目标虚拟网卡对应的所述目标物理网卡。5.根据权利要求4所述的方法，其特征在于，所述为所述目标容器组配置所述目标虚拟网卡对应的所述目标物理网卡，包括：获取所述目标物理网卡对应的目标物理网卡标识；将所述目标物理网卡标识，写入所述目标容器组对应的加速配置文件；将所述加速配置文件挂载到所述目标容器组，并将所述目标物理网卡配置到所述目标容器组。6.根据权利要求5所述的方法，其特征在于，所述将所述目标物理网卡配置到所述目标容器组，包括：依据所述目标物理网卡对应的第一网段信息，生成所述目标物理网卡对应的第一唯一网际协议地址；将所述目标物理网卡从初始网络命名空间移动到所述目标容器组对应的容器网络命名空间；为所述目标物理网卡配置所述第一唯一网际协议地址，并启动所述目标物理网卡。7.根据权利要求4所述的方法，其特征在于，所述根据对比结果，为所述目标容器组配置所述目标虚拟网卡或所述目标虚拟网卡对应的所述目标物理网卡，还包括：当所述第一所需加速卡资源小于所述第一可用加速卡资源时，将所述目标网卡标识写入所述目标容器组对应的加速配置文件；将所述加速配置文件挂载到所述目标容器组，并将所述目标虚拟网卡配置到所述目标容器组。8.根据权利要求7所述的方法，其特征在于，所述将所述目标虚拟网卡配置到所述目标容器组，包括：根据所述目标网卡标识信息查询所述目标虚拟网卡对应的第一数据链路信息；依据所述目标虚拟网卡对应的第二网段信息，生成所述目标虚拟网卡对应的第二唯一网际协议地址；根据所述第二唯一网际协议地址，生成所述目标虚拟网卡对应的目标物理地址，并备份所述目标虚拟网卡对应的第一原始物理地址；根据所述第一数据链路信息，为所述目标虚拟网卡配置所述目标物理地址；将所述目标虚拟网卡从初始网络命名空间移动到所述目标容器组对应的容器网络命名空间；根据所述第一数据链路信息，为所述目标虚拟网卡配置所述第二唯一网际协议地址，并启动所述目标虚拟网卡。9.根据权利要求1所述的方法，其特征在于，所述方法还包括：当所述目标网卡标识对应的所述目标网卡为所述目标物理网卡时，将所述目标网卡标识写入所述目标容器组对应的加速配置文件；将所述加速配置文件挂载到所述目标容器组，并将所述目标物理网卡配置到所述目标容器组。10.根据权利要求1所述的方法，其特征在于，所述方法还包括：获取待删除容器组对应的待删除网卡标识；判断所述待删除网卡标识对应的待删除网卡为待删除虚拟网卡还是待删除物理网卡；当所述待删除网卡为所述待删除物理网卡时，将所述待删除物理网卡从所述待删除容器组对应的容器网络命名空间移动到初始网络命名空间。11.根据权利要求10所述的方法，其特征在于，所述方法还包括：当所述待删除网卡为所述待删除虚拟网卡时，获取所述待删除容器组对应的第二所需加速卡资源以及所述待删除容器组被调度到的服务器节点对应的第二可用加速卡资源；将所述第二所需加速卡资源和所述第二可用加速卡资源进行对比；当所述第二所需加速卡资源小于所述第二可用加速卡资源时，根据所述待删除网卡标识查询所述待删除虚拟网卡对应的第二数据链路信息；获取所述待删除虚拟网卡对应的待删除网际协议地址，并根据所述第二数据链路信息删除所述待删除网际协议地址；获取所述待删除虚拟网卡对应的第二原始物理地址；为所述待删除虚拟网卡恢复所述第二原始物理地址；将所述待删除虚拟网卡从所述待删除容器组对应的容器网络命名空间移动到初始网络命名空间。12.根据权利要求11所述的方法，其特征在于，所述方法还包括：当所述第二所需加速卡资源等于所述第二可用加速卡资源时，根据所述待删除网卡标识查找所述待删除虚拟网卡对应的所述待删除物理网卡；删除所述待删除物理网卡对应的待删除网际协议地址，并将所述待删除物理网卡从所述待删除容器组对应的所述容器网络命名空间移动到所述初始网络命名空间。13.一种网卡配置装置，其特征在于，所述装置包括：分配模块，用于在目标容器组创建过程中，为所述目标容器组分配目标网卡标识；第一判断模块，用于判断所述目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡；其中，所述目标虚拟网卡为对所述目标物理网卡进行虚拟化得到的；第一获取模块，用于当所述目标网卡标识对应的所述目标网卡为所述目标虚拟网卡时，获取所述目标容器组对应的第一所需加速卡资源；第一配置模块，用于根据所述第一所需加速卡资源，为所述目标容器组配置所述目标虚拟网卡或所述目标虚拟网卡对应的所述目标物理网卡，以使所述目标容器组创建成功。14.一种电子设备，其特征在于，包括：存储器和处理器，所述存储器和所述处理器之间互相通信连接，所述存储器中存储有计算机指令，所述处理器通过执行所述计算机指令，从而执行权利要求1至12中任一项所述的网卡配置方法。15.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机指令，所述计算机指令用于使计算机执行权利要求1至12中任一项所述的网卡配置方法。
说明书desc
技术领域本发明涉及计算机技术领域，具体涉及网卡配置方法、装置、电子设备及存储介质。背景技术Kubernetes是目前最受欢迎的容器编排和管理平台之一，而SR-IOV技术则是在虚拟化环境中提供高性能网络功能的重要组成部分。在过去几年里，Kubernetes中SR-IOV技术的发展取得了显著的进展。一般地，在Kubernetes中的SR-IOV网卡的虚拟化配置方案是基于multus-cni、sriov-cni和sriov-device-plugin这三个组件合作完成的。sriov-device-plugin会将SR-IOV网卡虚拟出来的虚拟网卡进行识别和注册到Kubernetes集群，multus-cni、sriov-cni则是pod创建的时候将网卡虚拟配置到pod容器的网络栈中。此时，pod就可以通过虚拟网卡与其他使用虚拟网卡的pod进行通讯了。然而网卡虚拟只是SR-IOV网卡虚拟化产物，只继承了网卡的部分特性，并不具备网卡的全部功能。对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败。发明内容有鉴于此，本发明提供了一种网卡配置方法、装置、电子设备及存储介质，以解决对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败的问题。第一方面，本发明提供了一种网卡配置方法，方法包括：在目标容器组创建过程中，为目标容器组分配目标网卡标识；判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡；其中，目标虚拟网卡为对目标物理网卡进行虚拟化得到的；当目标网卡标识对应的目标网卡为目标虚拟网卡时，获取目标容器组对应的第一所需加速卡资源；根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，以使目标容器组创建成功。本申请实施例提供的网卡配置方法，在目标容器组创建过程中，为目标容器组分配目标网卡标识。然后，判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡，从而可以清楚确定目标容器组分配目标网卡标识的对应的目标网卡的类型。当目标网卡标识对应的目标网卡为目标虚拟网卡时，获取目标容器组对应的第一所需加速卡资源；根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，从而可以保证为目标容器组配置的目标虚拟网卡或目标虚拟网卡对应的目标物理网卡的准确性。进而可以保证目标容器组在任何场景均可以成功执行任务，避免了对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败的情况发生。在一种可选的实施方式中，判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡，包括：获取目标网卡对应的服务器节点中的主板外接硬件设备目录；根据主板外接硬件设备目录，查找各主板外接硬件设备对应的设备信息；查找设备信息中是否存在对服务器节点对应的目标物理网卡进行虚拟化的虚拟化标记信息；当存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标虚拟网卡；当不存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标物理网卡。本申请实施例提供的网卡配置方法，获取目标网卡对应的服务器节点中的主板外接硬件设备目录，根据主板外接硬件设备目录，查找各主板外接硬件设备对应的设备信息，保证了查找到的各主板外接硬件设备对应的设备信息的准确性。查找设备信息中是否存在对服务器节点对应的目标物理网卡进行虚拟化的虚拟化标记信息；当存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标虚拟网卡，保证了确定的目标网卡标识对应的目标网卡为目标虚拟网卡的结果的准确性。当不存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标物理网卡，保证了确定的目标网卡标识对应的目标网卡为目标物理网卡的结果的准确性。在一种可选的实施方式中，根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，包括：获取目标容器组被调度的服务器节点对应的第一可用加速卡资源；将第一所需加速卡资源和第一可用加速卡资源进行对比；根据对比结果，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡。本申请实施例提供的网卡配置方法，获取目标容器组被调度的服务器节点对应的第一可用加速卡资源；将第一所需加速卡资源和第一可用加速卡资源进行对比；根据对比结果，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，从而保证了为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡的准确性。进而可以保证目标容器组在任何场景均可以成功执行任务，避免了对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败的情况发生。在一种可选的实施方式中，根据对比结果，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，包括：当第一所需加速卡资源等于第一可用加速卡资源时，获取目标虚拟网卡对应的目标物理网卡；为目标容器组配置目标虚拟网卡对应的目标物理网卡。本申请实施例提供的网卡配置方法，当第一所需加速卡资源等于第一可用加速卡资源时，获取目标虚拟网卡对应的目标物理网卡；为目标容器组配置目标虚拟网卡对应的目标物理网卡。从而可以保证为目标容器组配置目标虚拟网卡对应的目标物理网卡的准确性。进而可以保证目标容器组在任何场景均可以成功执行任务，避免了为目标容器组配置目标虚拟网卡，使得对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败的情况发生。在一种可选的实施方式中，为目标容器组配置目标虚拟网卡对应的目标物理网卡，包括：获取目标物理网卡对应的目标物理网卡标识；将目标物理网卡标识，写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组，并将目标物理网卡配置到目标容器组。本申请实施例提供的网卡配置方法，获取目标物理网卡对应的目标物理网卡标识；将目标物理网卡标识，写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组，并将目标物理网卡配置到目标容器组。从而使得目标容器组可以基于加速配置文件查找到目标物理网卡，且使得目标容器组可以基于目标物理网卡完成任何场景下的任务。在一种可选的实施方式中，将目标物理网卡配置到目标容器组，包括：依据目标物理网卡对应的第一网段信息，生成目标物理网卡对应的第一唯一网际协议地址；将目标物理网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间；为目标物理网卡配置第一唯一网际协议地址，并启动目标物理网卡。本申请实施例提供的网卡配置方法，依据目标物理网卡对应的第一网段信息，生成目标物理网卡对应的第一唯一网际协议地址，保证了生成的目标物理网卡对应的第一唯一网际协议地址的准确性。将目标物理网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间，从而实现了目标容器组可以在对应的容器网络命名空间中基于目标物理网卡进行通信。为目标物理网卡配置第一唯一网际协议地址，并启动目标物理网卡。使得目标容器组可以基于目标物理网卡完成任何场景下的任务。在一种可选的实施方式中，根据对比结果，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，还包括：当第一所需加速卡资源小于第一可用加速卡资源时，将目标网卡标识写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组，并将目标虚拟网卡配置到目标容器组。本申请实施例提供的网卡配置方法，当第一所需加速卡资源小于第一可用加速卡资源时，将目标网卡标识写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组，并将目标虚拟网卡配置到目标容器组。从而使得目标容器组可以基于加速配置文件查找到目标虚拟网卡，且保证了在目标容器组可以基于目标虚拟网卡完成任务的前提下，从而节省了目标物理网卡的资源。在一种可选的实施方式中，将目标虚拟网卡配置到目标容器组，包括：根据目标网卡标识信息查询目标虚拟网卡对应的第一数据链路信息；依据目标虚拟网卡对应的第二网段信息，生成目标虚拟网卡对应的第二唯一网际协议地址；根据第二唯一网际协议地址，生成目标虚拟网卡对应的目标物理地址，并备份目标虚拟网卡对应的第一原始物理地址；根据第一数据链路信息，为目标虚拟网卡配置目标物理地址；将目标虚拟网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间；根据第一数据链路信息，为目标虚拟网卡配置第二唯一网际协议地址，并启动目标虚拟网卡。本申请实施例提供的网卡配置方法，根据目标网卡标识信息查询目标虚拟网卡对应的第一数据链路信息；保证了查询到的第一数据链路信息的准确性。依据目标虚拟网卡对应的第二网段信息，生成目标虚拟网卡对应的第二唯一网际协议地址，保证了生成的第二唯一网际协议地址的准确性。根据第二唯一网际协议地址，生成目标虚拟网卡对应的目标物理地址，并备份目标虚拟网卡对应的第一原始物理地址，保证了生成的目标虚拟网卡对应的目标物理地址的准确性，且使得目标虚拟网卡可以基于第一原始物理地址进行恢复。根据第一数据链路信息，为目标虚拟网卡配置目标物理地址，保证了对目标虚拟网卡配置目标物理地址的准确性。将目标虚拟网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间，从而实现了目标容器组可以在对应的容器网络命名空间中基于目标虚拟网卡进行通信。根据第一数据链路信息，为目标虚拟网卡配置第二唯一网际协议地址，并启动目标虚拟网卡，使得目标容器组可以基于目标虚拟网卡完成任何场景下的任务。在一种可选的实施方式中，方法还包括：当目标网卡标识对应的目标网卡为目标物理网卡时，将目标网卡标识写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组，并将目标物理网卡配置到目标容器组。本申请实施例提供的网卡配置方法，当目标网卡标识对应的目标网卡为目标物理网卡时，将目标网卡标识写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组，并将目标物理网卡配置到目标容器组。从而使得目标容器组可以基于加速配置文件查找到目标物理网卡，且使得目标容器组可以基于目标物理网卡完成任何场景下的任务。在一种可选的实施方式中，方法还包括：获取待删除容器组对应的待删除网卡标识；判断待删除网卡标识对应的待删除网卡为待删除虚拟网卡还是待删除物理网卡；当待删除网卡为待删除物理网卡时，将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。本申请实施例提供的网卡配置方法，获取待删除容器组对应的待删除网卡标识；判断待删除网卡标识对应的待删除网卡为待删除虚拟网卡还是待删除物理网卡；从而可以根据待删除网卡的类型对待删除网卡进行删除。当待删除网卡为待删除物理网卡时，将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间，从而实现了删除待删除容器组对应的待删除物理网卡，释放待删除物理网卡，进而可以将待删除容器组删除。在一种可选的实施方式中，方法还包括：当待删除网卡为待删除虚拟网卡时，获取待删除容器组对应的第二所需加速卡资源以及待删除容器组被调度到的服务器节点对应的第二可用加速卡资源；将第二所需加速卡资源和第二可用加速卡资源进行对比；当第二所需加速卡资源小于第二可用加速卡资源时，根据待删除网卡标识查询待删除虚拟网卡对应的第二数据链路信息；获取待删除虚拟网卡对应的待删除网际协议地址，并根据第二数据链路信息删除待删除网际协议地址；获取待删除虚拟网卡对应的第二原始物理地址；为待删除虚拟网卡恢复第二原始物理地址；将待删除虚拟网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。本申请实施例提供的网卡配置方法，当待删除网卡为待删除虚拟网卡时，获取待删除容器组对应的第二所需加速卡资源以及待删除容器组被调度到的服务器节点对应的第二可用加速卡资源；将第二所需加速卡资源和第二可用加速卡资源进行对比；从而可以根据对比结果，确定待删除容器组配置的待删除网卡的类型。然后，根据待删除网卡的类型对待删除网卡进行删除。当第二所需加速卡资源小于第二可用加速卡资源时，确定待删除容器组配置的待删除网卡为待删除虚拟网卡。根据待删除网卡标识查询待删除虚拟网卡对应的第二数据链路信息，保证了查到的待删除虚拟网卡对应的第二数据链路信息的准确性。获取待删除虚拟网卡对应的待删除网际协议地址，并根据第二数据链路信息删除待删除网际协议地址，保证了删除待删除网际协议地址的准确性。获取待删除虚拟网卡对应的第二原始物理地址；为待删除虚拟网卡恢复第二原始物理地址；将待删除虚拟网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。从而实现了在待删除容器组对应的容器网络命名空间中删除待删除虚拟网卡，释放待删除虚拟网卡，从而使得待删除容器组无法工作，进而可删除待删除容器组。在一种可选的实施方式中，方法还包括：当第二所需加速卡资源等于第二可用加速卡资源时，根据待删除网卡标识查找待删除虚拟网卡对应的待删除物理网卡；删除待删除物理网卡对应的待删除网际协议地址，并将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。本申请实施例提供的网卡配置方法，当第二所需加速卡资源等于第二可用加速卡资源时，根据待删除网卡标识查找待删除虚拟网卡对应的待删除物理网卡，保证了查找到的待删除物理网卡的准确性。删除待删除物理网卡对应的待删除网际协议地址，并将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。从而实现了删除待删除容器组对应的待删除物理网卡，释放待删除物理网卡，进而可以将待删除容器组删除。第二方面，本发明提供了一种网卡配置装置，装置包括：分配模块，用于在目标容器组创建过程中，为目标容器组分配目标网卡标识；第一判断模块，用于判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡；其中，目标虚拟网卡为对目标物理网卡进行虚拟化得到的；第一获取模块，用于当目标网卡标识对应的目标网卡为目标虚拟网卡时，获取目标容器组对应的第一所需加速卡资源；第一配置模块，用于根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，以使目标容器组创建成功。本申请实施例提供的网卡配置装置，在目标容器组创建过程中，为目标容器组分配目标网卡标识。然后，判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡，从而可以清楚确定目标容器组分配目标网卡标识的对应的目标网卡的类型。当目标网卡标识对应的目标网卡为目标虚拟网卡时，获取目标容器组对应的第一所需加速卡资源；根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，从而可以保证为目标容器组配置的目标虚拟网卡或目标虚拟网卡对应的目标物理网卡的准确性。进而可以保证目标容器组在任何场景均可以成功执行任务，避免了对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败的情况发生。第三方面，本发明提供了一种电子设备，包括：存储器和处理器，存储器和处理器之间互相通信连接，存储器中存储有计算机指令，处理器通过执行计算机指令，从而执行上述第一方面或其对应的任一实施方式的网卡配置方法。第四方面，本发明提供了一种计算机可读存储介质，该计算机可读存储介质上存储有计算机指令，计算机指令用于使计算机执行上述第一方面或其对应的任一实施方式的网卡配置方法。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是根据本发明实施例的网卡配置方法的流程示意图；图2是根据本发明实施例的另一网卡配置方法的流程示意图；图3是根据本发明实施例的又一网卡配置方法的流程示意图；图4是根据本发明实施例的再一网卡配置方法的流程示意图；图5是根据本发明实施例的网卡配置方法的架构图；图6是根据本发明实施例的网卡配置方法中的创建容器组的流程图；图7是根据本发明实施例的网卡配置方法中的删除容器组的流程图；图8是根据本发明实施例的网卡配置装置的结构框图；图9是根据本发明实施例的网卡配置装置的结构框图；图10是根据本发明实施例的网卡配置装置的结构框图；图11是根据本发明实施例的网卡配置装置的结构框图；图12是本发明实施例的电子设备的硬件结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。Kubernetes是目前最受欢迎的容器编排和管理平台之一，而SR-IOV技术则是在虚拟化环境中提供高性能网络功能的重要组成部分。在过去几年里，Kubernetes中SR-IOV技术的发展取得了显著的进展。SR-IOV技术通过将物理网卡的功能划分为多个虚拟网卡，实现了对网络资源的更加精细的控制和分配。这种直接在硬件层面进行虚拟化的方式，使得容器可以直接访问底层硬件设备，绕过了传统的网络虚拟化中的中间层，大幅度提高了网络性能和吞吐量。在Kubernetes中，SR-IOV技术的应用带来了很多好处。首先，它可以提供更低的网络延迟和更高的带宽，从而加速应用程序的运行速度，特别适用于对网络性能有较高要求的工作负载。其次，SR-IOV技术可以提供更好的隔离性和安全性，确保不同容器之间的网络流量互相隔离，防止恶意攻击和数据泄露，Kubernetes中SR-IOV技术的发展为容器化应用带来了更高的网络性能和更好的安全性。随着硬件厂商的支持和相关技术的不断进步，在未来的Kubernetes发展中可以看到更多关于SR-IOV的创新和应用。一般地，在Kubernetes中的SR-IOV网卡的虚拟化配置方案是基于multus-cni、sriov-cni和sriov-device-plugin这三个组件合作完成的。sriov-device-plugin会将SR-IOV网卡虚拟出来的虚拟网卡进行识别和注册到Kubernetes集群，multus-cni、sriov-cni则是pod创建的时候将虚拟网卡配置到pod容器的网络栈中。此时，pod就可以通过虚拟网卡与其他使用虚拟网卡的pod进行通讯了。然而虚拟网卡只是SR-IOV网卡虚拟化产物，只继承了虚拟网卡的部分特性，并不具备网卡的全部功能。对于一些特定场景，比如在kubernetes集群进行TensorFlow深度学习分布式训练时，不同TensorFlow worker节点需要用NCCL通讯框架配置GPU的通讯方式，如果在worker中使用虚拟网卡进行通讯，可能会造成NCCL框架优化不起作用的问题。对于该场景，SR-IOV网卡的PF更是worker之间的通讯。因此，本申请实施例提供了网卡配置方法，在目标容器组创建过程中，为目标容器组分配目标网卡标识。然后，判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡，当目标网卡标识对应的目标网卡为目标虚拟网卡时，根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，从而可以保证目标容器组在任何场景均可以成功执行任务，避免了对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败的情况发生。根据本发明实施例，提供了一种网卡配置方法实施例，需要说明的是，在附图的流程图示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤。需要说明的是，本申请实施例提供的网卡配置的方法，其执行主体可以是网卡配置的装置，该网卡配置的装置可以通过软件、硬件或者软硬件结合的方式实现成为电子设备的部分或者全部，其中，该电子设备可以是服务器或者终端，其中，本申请实施例中的服务器可以为一台服务器，也可以为由多台服务器组成的服务器集群，本申请实施例中的终端可以是智能手机、个人电脑、平板电脑、可穿戴设备以及智能机器人等其他智能硬件设备。下述方法实施例中，均以执行主体是电子设备为例来进行说明。在本实施例中提供了一种网卡配置方法，图1是根据本发明实施例的网卡配置方法的流程图，如图1所示，该流程包括如下步骤：步骤S101，在目标容器组创建过程中，为目标容器组分配目标网卡标识。具体地，在为目标容器组分配目标网卡标识之前，电子设备可以解析kubernetes集群中的物理网卡的配置文件，根据配置文件查询每个服务器节点上存在的SR-IOV PF网卡信息。然后，检验目标容器组对应的服务器节点是否对物理网卡进行虚拟化。如果已经对物理网卡进行虚拟化，获取各个虚拟网卡对应的单个虚拟网卡标识，将单个虚拟网卡标识进行拼接，生成组合虚拟网卡标识，将各个组合虚拟网卡标识进行上报。如果未对物理网卡进行虚拟化，获取各个物理网卡对应的单个物理网卡标识，将单个物理网卡标识进行拼接，生成组合物理网卡标识，将各个组合物理网卡标识进行上报。因此，在目标容器组创建过程中，为目标容器组分配目标网卡标识。其中，目标网卡标识可能是组合物理网卡标识，也可能是组合虚拟网卡标识。步骤S102，判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡。其中，目标虚拟网卡为对目标物理网卡进行虚拟化得到的。具体地，电子设备可以对目标网卡标识进行识别，根据识别结果确定目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡。示例性的，假设单个物理网卡标识为大写字母A、B、C、D等，而单个虚拟网卡标识为大小写字母a、b、c、d等，从而电子设备可以对目标网卡标识进行识别，根据识别结果确定目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡。步骤S103，当目标网卡标识对应的目标网卡为目标虚拟网卡时，获取目标容器组对应的第一所需加速卡资源。具体地，当目标网卡标识对应的目标网卡为目标虚拟网卡时，电子设备可以对目标容器组对应的容器组信息进行读取，获取目标容器组对应的第一所需加速卡资源。步骤S104，根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，以使目标容器组创建成功。具体地，电子设备可以将第一所需加速卡资源与预设加速卡资源进行对比。当第一所需加速卡资源等于或者大于预设加速卡资源时，为目标容器组配置目标虚拟网卡对应的目标物理网卡；当第一所需加速卡资源小于预设加速卡资源时，为目标容器组配置目标虚拟网卡。关于该步骤将在下文进行详细介绍。本申请实施例提供的网卡配置方法，在目标容器组创建过程中，为目标容器组分配目标网卡标识。然后，判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡，从而可以清楚确定目标容器组分配目标网卡标识的对应的目标网卡的类型。当目标网卡标识对应的目标网卡为目标虚拟网卡时，获取目标容器组对应的第一所需加速卡资源；根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，从而可以保证为目标容器组配置的目标虚拟网卡或目标虚拟网卡对应的目标物理网卡的准确性。进而可以保证目标容器组在任何场景均可以成功执行任务，避免了对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败的情况发生。在本实施例中提供了一种网卡配置方法，图2根据本发明实施例的网卡配置方法的流程图，如图2所示，该流程包括如下步骤：步骤S201，在目标容器组创建过程中，为目标容器组分配目标网卡标识。关于该步骤请参见图1对步骤S101的介绍，在此不进行赘述。步骤S202，判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡。其中，目标虚拟网卡为对目标物理网卡进行虚拟化得到的。在本申请一种可选的实施方式中，上述步骤S202，可以包括如下步骤：步骤S2021，获取目标网卡对应的服务器节点中的主板外接硬件设备目录。具体地，电子设备可以接收用户输入的目标网卡对应的服务器节点中的主板外接硬件设备目录，也可以接收其他设备发送的目标网卡对应的服务器节点中的主板外接硬件设备目录，电子设备还可以在存储空间中查找目标网卡对应的服务器节点中的主板外接硬件设备目录。本申请实施例对电子设备获取目标网卡对应的服务器节点中的主板外接硬件设备目录的方式不做具体限定。步骤S2022，根据主板外接硬件设备目录，查找各主板外接硬件设备对应的设备信息。具体地，电子设备在获取到主板外接硬件设备目录之后，可以根据主板外接硬件设备目录，查找各主板外接硬件设备对应的设备信息。步骤S2023，查找设备信息中是否存在对服务器节点对应的目标物理网卡进行虚拟化的虚拟化标记信息。具体地，电子设备可以对设备信息进行识别，根据识别结果查找设备信息中是否存在对服务器节点对应的目标物理网卡进行虚拟化的虚拟化标记信息。步骤S2024，当存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标虚拟网卡。具体地，当存在虚拟化标记信息时，确定已经对目标物理网卡进行虚拟化，因此，确定目标网卡标识对应的目标网卡为目标虚拟网卡。步骤S2025，当不存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标物理网卡。具体地，当不存在虚拟化标记信息时，确定未对目标物理网卡进行虚拟化，因此，确定目标网卡标识对应的目标网卡为目标物理网卡。步骤S203，当目标网卡标识对应的目标网卡为目标虚拟网卡时，获取目标容器组对应的第一所需加速卡资源。关于该步骤请参见图1对步骤S103的介绍，在此不进行赘述。步骤S204，根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，以使目标容器组创建成功。具体地，上述步骤S204，可以包括如下步骤：步骤S2041，获取目标容器组被调度的服务器节点对应的第一可用加速卡资源。具体地，电子设备可以对目标容器组被调度的服务器节点进行识别，确定目标容器组被调度的服务器节点对应的第一可用加速卡资源。步骤S2042，将第一所需加速卡资源和第一可用加速卡资源进行对比。具体地，电子设备可以将第一所需加速卡资源和第一可用加速卡资源进行对比。步骤S2043，根据对比结果，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡。具体地，上述步骤S2043，可以包括如下步骤：步骤a1，当第一所需加速卡资源等于第一可用加速卡资源时，获取目标虚拟网卡对应的目标物理网卡。具体地，当第一所需加速卡资源等于第一可用加速卡资源时，电子设备确定目标容器组第一所需加速卡资源较多，目标虚拟网卡不能满足目标容器组的业务需求，因此，获取目标虚拟网卡对应的目标物理网卡。步骤a2，为目标容器组配置目标虚拟网卡对应的目标物理网卡。具体地，步骤a2，可以包括：步骤a21，获取目标物理网卡对应的目标物理网卡标识。具体地，电子设备可以根据目标虚拟网卡与目标物理网卡之间的对应关系，确定目标虚拟网卡对应的目标物理网卡，并确定目标物理网卡对应的目标物理网卡标识。步骤a22，将目标物理网卡标识，写入目标容器组对应的加速配置文件。具体地，电子设备可以将目标物理网卡标识，写入目标容器组对应的加速配置文件。步骤a23，将加速配置文件挂载到目标容器组，并将目标物理网卡配置到目标容器组。具体地，电子设备可以将加速配置文件挂载到目标容器组。其中，步骤a23中的“将目标物理网卡配置到目标容器组”，可以包括如下步骤：步骤a231，依据目标物理网卡对应的第一网段信息，生成目标物理网卡对应的第一唯一网际协议地址。具体地，电子设备可以接收用户输入的目标物理网卡对应的第一网段信息，也可以接收其他设备发送的目标物理网卡对应的第一网段信息，还可以在存储空间中获取目标物理网卡对应的第一网段信息，本申请实施例对电子设备获取目标物理网卡对应的第一网段信息的方式不做具体限定。然后，电子设备根据目标物理网卡对应的第一网段信息，生成目标物理网卡对应的第一唯一网际协议地址。其中，第一网段信息用于表征目标物理网卡对应的第一唯一网际协议地址的网段区间。其中，第一唯一网际协议地址为目标物理网卡对应的第一唯一IP地址。步骤a232，将目标物理网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间。具体地，电子设备可以将目标物理网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间。步骤a233，为目标物理网卡配置第一唯一网际协议地址，并启动目标物理网卡。具体地，电子设备可以为目标物理网卡配置第一唯一网际协议地址，并启动目标物理网卡。步骤a3，当第一所需加速卡资源小于第一可用加速卡资源时，将目标网卡标识写入目标容器组对应的加速配置文件。具体地，当第一所需加速卡资源小于第一可用加速卡资源时，电子设备确定目标虚拟网卡可以满足目标容器组的业务需求，因此将目标网卡标识写入目标容器组对应的加速配置文件。步骤a4，将加速配置文件挂载到目标容器组，并将目标虚拟网卡配置到目标容器组。具体地，电子设备可以将加速配置文件挂载到目标容器组。具体地，上述步骤a4中的“将目标虚拟网卡配置到目标容器组”，可以包括：步骤a41，根据目标网卡标识信息查询目标虚拟网卡对应的第一数据链路信息。具体地，电子设备可以根据目标网卡标识信息查询目标虚拟网卡对应的第一数据链路信息。步骤a42，依据目标虚拟网卡对应的第二网段信息，生成目标虚拟网卡对应的第二唯一网际协议地址。具体地，电子设备可以接收用户输入的目标虚拟网卡对应的第二网段信息，也可以接收其他设备发送的目标虚拟网卡对应的第二网段信息，还可以在存储空间中获取目标虚拟网卡对应的第二网段信息，本申请实施例对电子设备获取目标虚拟网卡对应的第二网段信息的方式不做具体限定。在获取到目标虚拟网卡对应的第二网段信息之后，电子设备可以依据目标虚拟网卡对应的第二网段信息，随机生成目标虚拟网卡对应的第二唯一网际协议地址。步骤a43，根据第二唯一网际协议地址，生成目标虚拟网卡对应的目标物理地址，并备份目标虚拟网卡对应的第一原始物理地址。具体地，电子设备可以根据第二唯一网际协议地址，生成目标虚拟网卡对应的目标物理地址，并备份目标虚拟网卡对应的第一原始物理地址。其中，需要说明的是目标虚拟网卡对应的目标物理地址也是唯一的。步骤a44，根据第一数据链路信息，为目标虚拟网卡配置目标物理地址。具体地，电子设备可以根据第一数据链路信息，为目标虚拟网卡配置目标物理地址。示例性的，电子设备可以调用“ip link set $vf_link_name vf mac $mac_address”操作命令，为目标虚拟网卡配置目标物理地址。步骤a45，将目标虚拟网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间。具体地，电子设备可以将目标虚拟网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间。步骤a46，根据第一数据链路信息，为目标虚拟网卡配置第二唯一网际协议地址，并启动目标虚拟网卡。具体地，电子设备可以根据第一数据链路信息，为目标虚拟网卡配置第二唯一网际协议地址，并启动目标虚拟网卡。示例性的，电子设备可以调用“ ip link set $link_name down”操作命令，为目标虚拟网卡配置第二唯一网际协议地址。本申请实施例提供的网卡配置方法，获取目标网卡对应的服务器节点中的主板外接硬件设备目录，根据主板外接硬件设备目录，查找各主板外接硬件设备对应的设备信息，保证了查找到的各主板外接硬件设备对应的设备信息的准确性。查找设备信息中是否存在对服务器节点对应的目标物理网卡进行虚拟化的虚拟化标记信息；当存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标虚拟网卡，保证了确定的目标网卡标识对应的目标网卡为目标虚拟网卡的结果的准确性。当不存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标物理网卡，保证了确定的目标网卡标识对应的目标网卡为目标物理网卡的结果的准确性。此外，获取目标容器组被调度的服务器节点对应的第一可用加速卡资源；将第一所需加速卡资源和第一可用加速卡资源进行对比。当第一所需加速卡资源等于第一可用加速卡资源时，获取目标虚拟网卡对应的目标物理网卡；获取目标物理网卡对应的目标物理网卡标识；将目标物理网卡标识，写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组。依据目标物理网卡对应的第一网段信息，生成目标物理网卡对应的第一唯一网际协议地址，保证了生成的目标物理网卡对应的第一唯一网际协议地址的准确性。将目标物理网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间，从而实现了目标容器组可以在对应的容器网络命名空间中基于目标物理网卡进行通信。为目标物理网卡配置第一唯一网际协议地址，并启动目标物理网卡。使得目标容器组可以基于目标物理网卡完成任何场景下的任务。避免了为目标容器组配置目标虚拟网卡，使得对于一些特定场景，并不能满足任务需求。从而可能导致任务执行受到影响，甚至导致任务失败的情况发生。当第一所需加速卡资源小于第一可用加速卡资源时，将目标网卡标识写入目标容器组对应的加速配置文件，从而使得目标容器组可以基于加速配置文件查找到目标虚拟网卡。根据目标网卡标识信息查询目标虚拟网卡对应的第一数据链路信息；保证了查询到的第一数据链路信息的准确性。依据目标虚拟网卡对应的第二网段信息，生成目标虚拟网卡对应的第二唯一网际协议地址，保证了生成的第二唯一网际协议地址的准确性。根据第二唯一网际协议地址，生成目标虚拟网卡对应的目标物理地址，并备份目标虚拟网卡对应的第一原始物理地址，保证了生成的目标虚拟网卡对应的目标物理地址的准确性，且使得目标虚拟网卡可以基于第一原始物理地址进行恢复。根据第一数据链路信息，为目标虚拟网卡配置目标物理地址，保证了对目标虚拟网卡配置目标物理地址的准确性。将目标虚拟网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间，从而实现了目标容器组可以在对应的容器网络命名空间中基于目标虚拟网卡进行通信。根据第一数据链路信息，为目标虚拟网卡配置第二唯一网际协议地址，并启动目标虚拟网卡，使得目标容器组可以基于目标虚拟网卡完成任何场景下的任务。且保证了在目标容器组可以基于目标虚拟网卡完成任务的前提下，从而节省了目标物理网卡的资源。在本实施例中提供了一种网卡配置方法，图3根据本发明实施例的网卡配置方法的流程图，如图3所示，该流程包括如下步骤：步骤S301，在目标容器组创建过程中，为目标容器组分配目标网卡标识。关于该步骤请参见图2对步骤S201，在此不进行赘述。步骤S302，判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡。其中，目标虚拟网卡为对目标物理网卡进行虚拟化得到的。关于该步骤请参见图2对步骤S202，在此不进行赘述。步骤S303，当目标网卡标识对应的目标网卡为目标物理网卡时，将目标网卡标识写入目标容器组对应的加速配置文件。具体地，当目标网卡标识对应的目标网卡为目标物理网卡时，电子设备将目标网卡标识写入目标容器组对应的加速配置文件。步骤S304，将加速配置文件挂载到目标容器组，并将目标物理网卡配置到目标容器组。具体地，电子设备依据目标物理网卡对应的第一网段信息，生成目标物理网卡对应的第一唯一网际协议地址；将目标物理网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间；为目标物理网卡配置第一唯一网际协议地址，并启动目标物理网卡。本申请实施例提供的网卡配置方法，当目标网卡标识对应的目标网卡为目标物理网卡时，将目标网卡标识写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组，并将目标物理网卡配置到目标容器组。从而使得目标容器组可以基于加速配置文件查找到目标物理网卡，且使得目标容器组可以基于目标物理网卡完成任何场景下的任务。在本实施例中提供了一种网卡配置方法，图4根据本发明实施例的网卡配置方法的流程图，如图4所示，该流程包括如下步骤：步骤S401，获取待删除容器组对应的待删除网卡标识。具体地，电子设备可以接收用户指定的待删除容器组，然后对待删除容器组进行识别，确定待删除容器组对应的待删除网卡标识。步骤S402，判断待删除网卡标识对应的待删除网卡为待删除虚拟网卡还是待删除物理网卡。具体地，电子设备可以获取待删除网卡对应的服务器节点中的主板外接硬件设备目录；根据主板外接硬件设备目录，查找各主板外接硬件设备对应的设备信息；查找设备信息中是否存在对服务器节点对应的待删除物理网卡进行虚拟化的虚拟化标记信息；当存在虚拟化标记信息时，确定待删除网卡标识对应的待删除网卡为待删除虚拟网卡；当不存在虚拟化标记信息时，确定待删除网卡标识对应的待删除网卡为待删除物理网卡。步骤S403，当待删除网卡为待删除物理网卡时，将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。具体地，当待删除网卡为待删除物理网卡时，将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。步骤S404，当待删除网卡为待删除虚拟网卡时，获取待删除容器组对应的第二所需加速卡资源以及待删除容器组被调度到的服务器节点对应的第二可用加速卡资源。具体地，当待删除网卡为待删除虚拟网卡时，获取待删除容器组对应的第二所需加速卡资源以及待删除容器组被调度到的服务器节点对应的第二可用加速卡资源。步骤S405，将第二所需加速卡资源和第二可用加速卡资源进行对比。具体地，电子设备将第二所需加速卡资源和第二可用加速卡资源进行对比。步骤S406，当第二所需加速卡资源小于第二可用加速卡资源时，根据待删除网卡标识查询待删除虚拟网卡对应的第二数据链路信息。具体地，当第二所需加速卡资源小于第二可用加速卡资源时，电子设备确定待删除容器组配置的是待删除虚拟网卡。因此，电子设备根据待删除网卡标识查询待删除虚拟网卡对应的第二数据链路信息。步骤S407，获取待删除虚拟网卡对应的待删除网际协议地址，并根据第二数据链路信息删除待删除网际协议地址。具体地，电子设备可以对待删除虚拟网卡进行识别，确定待删除虚拟网卡对应的待删除网际协议地址，然后，根据第二数据链路信息删除待删除网际协议地址。示例性的，电子设备可以利用“ip link set $link_name down”操作指令，删除待删除网际协议地址。步骤S408，获取待删除虚拟网卡对应的第二原始物理地址。具体地，电子设备可以根据待删除虚拟网卡对应的待删除网卡标识，在存储空间中查找待删除虚拟网卡对应的第二原始物理地址。步骤S409，为待删除虚拟网卡恢复第二原始物理地址。具体地，电子设备可以对待删除虚拟网卡对应的第二原始物理地址。步骤S410，将待删除虚拟网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。具体地，电子设备可以将待删除虚拟网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。步骤S411，当第二所需加速卡资源等于第二可用加速卡资源时，根据待删除网卡标识查找待删除虚拟网卡对应的待删除物理网卡。具体地，当第二所需加速卡资源等于第二可用加速卡资源时，电子设备确定待删除容器组配置的是待删除物理网卡，因此电子设备根据待删除网卡标识查找待删除虚拟网卡对应的待删除物理网卡。步骤S412，删除待删除物理网卡对应的待删除网际协议地址，并将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。具体地，电子删除待删除物理网卡对应的待删除网际协议地址，并将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。本申请实施例提供的网卡配置方法，获取待删除容器组对应的待删除网卡标识；判断待删除网卡标识对应的待删除网卡为待删除虚拟网卡还是待删除物理网卡；从而可以根据待删除网卡的类型对待删除网卡进行删除。当待删除网卡为待删除物理网卡时，将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间，从而实现了删除待删除容器组对应的待删除物理网卡，释放待删除物理网卡，进而可以将待删除容器组删除。当待删除网卡为待删除虚拟网卡时，获取待删除容器组对应的第二所需加速卡资源以及待删除容器组被调度到的服务器节点对应的第二可用加速卡资源；将第二所需加速卡资源和第二可用加速卡资源进行对比；从而可以根据对比结果，确定待删除容器组配置的待删除网卡的类型。然后，根据待删除网卡的类型对待删除网卡进行删除。当第二所需加速卡资源小于第二可用加速卡资源时，确定待删除容器组配置的待删除网卡为待删除虚拟网卡。根据待删除网卡标识查询待删除虚拟网卡对应的第二数据链路信息，保证了查到的待删除虚拟网卡对应的第二数据链路信息的准确性。获取待删除虚拟网卡对应的待删除网际协议地址，并根据第二数据链路信息删除待删除网际协议地址，保证了删除待删除网际协议地址的准确性。获取待删除虚拟网卡对应的第二原始物理地址；为待删除虚拟网卡恢复第二原始物理地址；将待删除虚拟网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。从而实现了在待删除容器组对应的容器网络命名空间中删除待删除虚拟网卡，释放待删除虚拟网卡，从而使得待删除容器组无法工作，进而可删除待删除容器组。当第二所需加速卡资源等于第二可用加速卡资源时，根据待删除网卡标识查找待删除虚拟网卡对应的待删除物理网卡，保证了查找到的待删除物理网卡的准确性。删除待删除物理网卡对应的待删除网际协议地址，并将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。从而实现了删除待删除容器组对应的待删除物理网卡，释放待删除物理网卡，进而可以将待删除容器组删除。为了更好地介绍本申请实施例提供的网卡配置方法，如图5所示，本申请实施例提供了一种网卡配置方法的整体架构。通过设备插件机制，在进行资源扫描上报时，自适应判断可靠输入/输出虚拟化网卡是否做了虚拟化处理，识别网卡是虚拟网卡还是物理网卡，然后将其上报到节点代理中。通过设备插件机制，在进行网卡资源分配时，自适应判断设备插件是否做了虚拟化处理，如果分配的目标网卡标识对应的网卡是物理网卡，则将该物理网卡的名称写到配置文件中。如果是虚拟网卡，且当容器组对应的所需加速卡资源等于节点代理对应的可用加速卡资源时，获取虚拟网卡对应的物理网卡，则将该物理网卡的网卡标识写到配置文件中。当容器组对应的所需加速卡资源小于节点代理对应的可用加速卡资源时，则将该虚拟网卡的网卡标识写到配置文件中。在本申请一个可选的实施方式中，提供了容器组创建的流程图。如图6所示，在创建容器组时，多网卡控制组件根据创建容器组的请求，创建第一个网络。可靠输入/输出虚拟化网卡控制组件生成物理网卡国际协议地址。国际协议分配组件返回，可靠输入/输出虚拟化网卡控制组件将物理网卡移动到容器网络命名空间。在本申请一个可选的实施方式中，提供了容器组删除的流程图。如图7所示，在删除容器组时，多网卡控制组件根据删除容器组的请求，删除第一个网络。可靠输入/输出虚拟化网卡控制组件收回物理网卡国际协议地址。国际协议分配组件返回，可靠输入/输出虚拟化网卡控制组件将物理网卡从容器网络命名空间移出。在本实施例中还提供了一种网卡配置装置，该装置用于实现上述实施例及优选实施方式，已经进行过说明的不再赘述。如以下所使用的，术语“模块”可以实现预定功能的软件和/或硬件的组合。尽管以下实施例所描述的装置较佳地以软件来实现，但是硬件，或者软件和硬件的组合的实现也是可能并被构想的。本实施例提供一种网卡配置装置，如图8所示，包括：分配模块501，用于在目标容器组创建过程中，为目标容器组分配目标网卡标识；第一判断模块502，用于判断目标网卡标识对应的目标网卡为目标虚拟网卡还是目标物理网卡；其中，目标虚拟网卡为对目标物理网卡进行虚拟化得到的；第一获取模块503，用于当目标网卡标识对应的目标网卡为目标虚拟网卡时，获取目标容器组对应的第一所需加速卡资源；第一配置模块504，用于根据第一所需加速卡资源，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡，以使目标容器组创建成功。在一些可选的实施方式中，第一判断模块502，具体用于获取目标网卡对应的服务器节点中的主板外接硬件设备目录；根据主板外接硬件设备目录，查找各主板外接硬件设备对应的设备信息；查找设备信息中是否存在对服务器节点对应的目标物理网卡进行虚拟化的虚拟化标记信息；当存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标虚拟网卡；当不存在虚拟化标记信息时，确定目标网卡标识对应的目标网卡为目标物理网卡。在一些可选的实施方式中，第一配置模块504，具体用于获取目标容器组被调度的服务器节点对应的第一可用加速卡资源；将第一所需加速卡资源和第一可用加速卡资源进行对比；根据对比结果，为目标容器组配置目标虚拟网卡或目标虚拟网卡对应的目标物理网卡。在一些可选的实施方式中，第一配置模块504，具体用于当第一所需加速卡资源等于第一可用加速卡资源时，获取目标虚拟网卡对应的目标物理网卡；为目标容器组配置目标虚拟网卡对应的目标物理网卡。在一些可选的实施方式中，第一配置模块504，具体用于获取目标物理网卡对应的目标物理网卡标识；将目标物理网卡标识，写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组，并将目标物理网卡配置到目标容器组。在一些可选的实施方式中，第一配置模块504，具体用于依据目标物理网卡对应的第一网段信息，生成目标物理网卡对应的第一唯一网际协议地址；将目标物理网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间；为目标物理网卡配置第一唯一网际协议地址，并启动目标物理网卡。在一些可选的实施方式中，第一配置模块504，具体用于当第一所需加速卡资源小于第一可用加速卡资源时，将目标网卡标识写入目标容器组对应的加速配置文件；将加速配置文件挂载到目标容器组，并将目标虚拟网卡配置到目标容器组。在一些可选的实施方式中，第一配置模块504，具体用于根据目标网卡标识信息查询目标虚拟网卡对应的第一数据链路信息；依据目标虚拟网卡对应的第二网段信息，生成目标虚拟网卡对应的第二唯一网际协议地址；根据第二唯一网际协议地址，生成目标虚拟网卡对应的目标物理地址，并备份目标虚拟网卡对应的第一原始物理地址；根据第一数据链路信息，为目标虚拟网卡配置目标物理地址；将目标虚拟网卡从初始网络命名空间移动到目标容器组对应的容器网络命名空间；根据第一数据链路信息，为目标虚拟网卡配置第二唯一网际协议地址，并启动目标虚拟网卡。在一些可选的实施方式中，如图9所示，上述网卡配置装置，还包括：写入模块505，用于当目标网卡标识对应的目标网卡为目标物理网卡时，将目标网卡标识写入目标容器组对应的加速配置文件；第二配置模块506，用于将加速配置文件挂载到目标容器组，并将目标物理网卡配置到目标容器组。在一些可选的实施方式中，如图10所示，上述网卡配置装置，还包括：第二获取模块507，用于获取待删除容器组对应的待删除网卡标识；第二判断模块508，用于判断待删除网卡标识对应的待删除网卡为待删除虚拟网卡还是待删除物理网卡；第一移动模块509，用于当待删除网卡为待删除物理网卡时，将待删除物理网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。在一些可选的实施方式中，如图11所示，上述网卡配置装置，还包括：第三获取模块510，用于当待删除网卡为待删除虚拟网卡时，获取待删除容器组对应的第二所需加速卡资源以及待删除容器组被调度到的服务器节点对应的第二可用加速卡资源；对比模块511，用于将第二所需加速卡资源和第二可用加速卡资源进行对比；查询模块512，用于当第二所需加速卡资源小于第二可用加速卡资源时，根据待删除网卡标识查询待删除虚拟网卡对应的第二数据链路信息；第一删除模块513，用于获取待删除虚拟网卡对应的待删除网际协议地址，并根据第二数据链路信息删除待删除网际协议地址；第四获取模块514，用于获取待删除虚拟网卡对应的第二原始物理地址；恢复模块515，用于为待删除虚拟网卡恢复第二原始物理地址；第二移动模块516，用于恢复模块，用于将待删除虚拟网卡从待删除容器组对应的容器网络命名空间移动到初始网络命名空间。本实施例中的网卡配置装置是以功能单元的形式来呈现，这里的单元是指ASIC电路，执行一个或多个软件或固定程序的处理器和存储器，和/或其他可以提供上述功能的器件。上述各个模块和单元的更进一步的功能描述与上述对应实施例相同，在此不再赘述。本发明实施例还提供一种电子设备，具有上述图8-图11所示的网卡配置装置。请参阅图12，图12是本发明可选实施例提供的一种电子设备的结构示意图，如图12所示，该电子设备包括：一个或多个处理器10、存储器20，以及用于连接各部件的接口，包括高速接口和低速接口。各个部件利用不同的总线互相通信连接，并且可以被安装在公共主板上或者根据需要以其它方式安装。处理器可以对在电子设备内执行的指令进行处理，包括存储在存储器中或者存储器上以在外部输入/输出装置上显示GUI的图形信息的指令。在一些可选的实施方式中，若需要，可以将多个处理器和/或多条总线与多个存储器和多个存储器一起使用。同样，可以连接多个电子设备，各个设备提供部分必要的操作。图12中以一个处理器10为例。处理器10可以是中央处理器，网络处理器或其组合。其中，处理器10还可以进一步包括硬件芯片。上述硬件芯片可以是专用集成电路，可编程逻辑器件或其组合。上述可编程逻辑器件可以是复杂可编程逻辑器件，现场可编程逻辑门阵列，通用阵列逻辑或其任意组合。其中，存储器20存储有可由至少一个处理器10执行的指令，以使至少一个处理器10执行实现上述实施例示出的方法。存储器20可以包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需要的应用程序；存储数据区可存储根据一种小程序落地页的展现的电子设备的使用所创建的数据等。此外，存储器20可以包括高速随机存取存储器，还可以包括非瞬时存储器，例如至少一个磁盘存储器件、闪存器件、或其他非瞬时固态存储器件。在一些可选的实施方式中，存储器20可选包括相对于处理器10远程设置的存储器，这些远程存储器可以通过网络连接至该电子设备。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。存储器20可以包括易失性存储器，例如，随机存取存储器；存储器也可以包括非易失性存储器，例如，快闪存储器，硬盘或固态硬盘；存储器20还可以包括上述种类的存储器的组合。该电子设备还包括通信接口30，用于该电子设备与其他设备或通信网络通信。本发明实施例还提供了一种计算机可读存储介质，上述根据本发明实施例的方法可在硬件、固件中实现，或者被实现为可记录在存储介质，或者被实现通过网络下载的原始存储在远程存储介质或非暂时机器可读存储介质中并将被存储在本地存储介质中的计算机代码，从而在此描述的方法可被存储在使用通用计算机、专用处理器或者可编程或专用硬件的存储介质上的这样的软件处理。其中，存储介质可为磁碟、光盘、只读存储记忆体、随机存储记忆体、快闪存储器、硬盘或固态硬盘等；进一步地，存储介质还可以包括上述种类的存储器的组合。可以理解，计算机、处理器、微处理器控制器或可编程硬件包括可存储或接收软件或计算机代码的存储组件，当软件或计算机代码被计算机、处理器或硬件访问且执行时，实现上述实施例示出的方法。虽然结合附图描述了本发明的实施例，但是本领域技术人员可以在不脱离本发明的精神和范围的情况下做出各种修改和变型，这样的修改和变型均落入由所附权利要求所限定的范围之内。
