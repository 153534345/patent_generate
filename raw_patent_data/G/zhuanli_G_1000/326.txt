标题title
一种自动驾驶路线规划方法和系统
摘要abst
本发明公开了一种自动驾驶路线规划方法和系统，涉及路线规划领域，其技术方案要点包括：管理人员通过输入层确定起始点和终止点，并对自动驾驶车辆进行选择，获取自动驾驶车辆的相关信息；获取起始点和终止点之间的GPS地图作为二维预地图，通过分解单元法对二维预地图中的工作区域进行分割为多个小单元，其后形成二维地图，通过膨胀法和栅格法将二维地图中障碍物和可行路径进行规则化显示；通过优化蚁群算法模型对二维地图中可行路径点进行选择，获取自动驾驶车辆从起始点到终止点的最优行驶路线；当自动驾驶车辆在最优行驶路线上行驶时，根据碰撞概率模型对路径上的障碍物进行躲避，实现自动驾驶车辆的行驶路线规划和避障分析。
权利要求书clms
1.一种自动驾驶路线规划方法，其特征在于，所述自动驾驶路线规划方法包括以下步骤：步骤S1：管理人员通过输入层确定起始点和终止点，并对自动驾驶车辆进行选择，获取自动驾驶车辆的相关信息；步骤S2：获取起始点和终止点之间的GPS地图作为二维预地图，通过分解单元法对二维预地图中的工作区域进行分割为多个小单元，其后形成二维地图，通过膨胀法和栅格法将二维地图中障碍物和可行路径进行规则化显示；步骤S3：通过优化蚁群算法模型对二维地图中可行路径点进行选择，获取自动驾驶车辆从起始点到终止点的最优行驶路线；步骤S4：当自动驾驶车辆在最优行驶路线上行驶时，根据碰撞概率模型对路径上的障碍物进行躲避。2.根据权利要求1所述的一种自动驾驶路线规划方法，其特征在于，所述输入层包括车辆管理模块和人机交互模块，车辆管理模块用于自动驾驶车辆参数的输入，人机交互模块提供管理人员登陆的身份验证，管理人员通过人机界面对自动驾驶车辆起始点和终止点进行设定，并根据具体需求对相关参数进行功能性调整。3.根据权利要求1所述的一种自动驾驶路线规划方法，其特征在于，所述步骤S2涉及自动驾驶车辆工作区域中二维预地图的图像处理，分解单元法将整个工作区域划分为多个小单元，根据二维预地图中类别设置重度深色小单元对应起始点或者终止点，中度深色小单元对应障碍物，浅色小单元对应可通行路段，通过栅格法将分解单元法处理后的二维地图划分成多个规则的栅格，重度深色小单元和中度深色小单元通过膨胀法处理后将所在栅格填充完整，形成二维地图中各类物品的规则化显示，重度深色小单元、中度深色小单元和浅色小单元形成重度深色小栅格、中度深色小栅格和浅色小栅格。4.根据权利要求1所述的一种自动驾驶路线规划方法，其特征在于，所述步骤S3中，优化蚁群算法模型包括自适应信息素因子和自适应启发式因子的设计，；其中，表示最大迭代次数，/＞表示当前迭代次数，/＞表示初始状态下，即迭代次数初值时，各个浅色小栅格的迭代概率，且/＞，/＞表示信息素重要程度因子，/＞表示启发重要程度因子，/＞表示自适应信息素重要程度因子，/＞表示自适应启发重要程度因子。5.根据权利要求4所述的一种自动驾驶路线规划方法，其特征在于，所述步骤S3中，优化蚁群算法模型包括蚂蚁移动路径中随机概率的设计，；其中，表示可行路径点集合/＞中任意两个可行路径点的标号，/＞表示标号为/＞的蚂蚁从可行路径点/＞移动到可行路径点/＞的随机概率，/＞表示最优路径点搜索函数，表示当前迭代次数/＞下蚂蚁/＞从可行路径点/＞移动到可行路径点/＞时的信息素浓度，/＞表示当前迭代次数/＞下蚂蚁/＞从可行路径点/＞移动到可行路径点/＞时的启发式信息，/＞表示轮盘赌算法函数，/＞表示随机数，/＞表示随机概率转移调整因子。6.根据权利要求1所述的一种自动驾驶路线规划方法，其特征在于，所述步骤S4中，自动驾驶车辆基于干涉公式构建碰撞概率模型，干涉公式通过将基点位置的碰撞概率密度函数和时间联立，对自动驾驶车辆行驶过程中发生碰撞的概率进行分析，干涉公式如下，；获取周期时间时，坐标点为/＞的障碍物与自动驾驶车辆发生的碰撞概率值；其中，设定自动驾驶车辆为基点，且坐标点表示为，时刻/＞表示为周期时间/＞内标号/＞的离散化时间，/＞表示离散时刻/＞的标号，/＞表示障碍物坐标点/＞在离散时刻/＞时与基点/＞发生干涉碰撞的概率函数。7.根据权利要求6所述的一种自动驾驶路线规划方法，其特征在于，所述步骤S4中，碰撞概率模型包括判断模块，判断模块根据碰撞概率值与临界值的比较关系判断自动驾驶车辆是否存在碰撞风险，根据判断公式，；其中，表示输出符号，且/＞表示判定符号；/＞表示界限值；若，表示周期时间/＞内，坐标点为/＞的障碍物与自动驾驶车辆发生的碰撞概率值/＞小于或者等于界限值/＞，判断模块判定坐标点为/＞的障碍物不具有碰撞危机，生成安全信息；若，表示周期时间/＞内，坐标点为/＞的障碍物与自动驾驶车辆发生的碰撞概率值/＞大于界限值/＞，判断模块判定坐标点为/＞的障碍物具有碰撞危机，生成警示信息。8.一种用于实现如权利要求1~7任一项所述的一种自动驾驶路线规划方法的自动驾驶路线规划系统，其特征在于，所述自动驾驶路线规划系统包括输入层、处理层和显示层；处理层包括图像处理模块和路线规划模块，图像处理模块用于二维地图的规则化表示，路线规划模块包括优化蚁群算法模型和碰撞概率模型，优化蚁群算法模型用于二维地图中起始点和终止点最优行驶路线的生成，碰撞概率模型用于分析自动驾驶车辆在行驶过程中与障碍物的碰撞概率分析；显示层用于数据信息的端页显示，显示层布置在显示设备上，警示信息和安全信息通过显示设备进行展现。9.根据权利要求8所述的一种自动驾驶路线规划系统，其特征在于，所述处理层应用于微型计算机，用户通过客户端接入系统，客户端通过无线或者有线通讯仪器连接，通讯连接遵循HTTP协议，且采用集成信息处理体系和多客户端的信息体系结构。10.根据权利要求9所述的一种自动驾驶路线规划系统，其特征在于，所述自动驾驶路线规划系统应用于云处理平台，数据层应用于云端，且进行分布式存储，采用C/S架构模式，搭建SSM开源框架，应用MySQL。
说明书desc
技术领域本发明涉及路线规划领域，更具体地说，它涉及一种自动驾驶路线规划方法和系统。背景技术以先进车联网为代表的车辆自动化驾驶技术作为各项智能化科技中的佼佼者，能够提高人类生活便捷程度，并降低功耗、成本等社会能源的损耗，计算机视觉作为一种重要的技术手段，在智能车辆的图像处理和分析中占据重要位置。针对起始点和终止点，在自动驾驶车辆行驶过程中，如果行驶路线不统一，在有多种行驶路线时，自动驾驶车辆容易陷入路线选择困境，而且，路线中移动路线越长，越会增加自动驾驶车辆在行驶过程中的事故概率和障碍影响，导致自动驾驶车辆遇到不良影响的概率增加，因此需要对行驶的路线进行预先规划，使自动驾驶车辆按照预先设定的行驶路线进行工作，蚁群算法在路线规划的最优路径求解中常常被应用，但是在蚁群算法中，有着随机性和快速收敛的要求，而在不同的应用场景中，有着不同的变化要求，因此需要进行适应性改变。公开号为CN114454886A的发明公开了一种自动驾驶用路线规划系统，涉及自动驾驶技术领域，所述自动驾驶用路线规划系统包括：云服务器，用于保存需要持久化存储的数据，同时还可以实时同步记录最新路况信息。本发明中，通过图像采集单元来采集道路图像，而设置的地图存储单元则可以获取最新的地图信息，最后通过障碍物感知单元进行汇总分析，从而判别障碍物，设置的云服务器则可以同步记录交通事故信息、极端天气信息、道路塌方信息、车道停用信息和道路施工信息各种，通过综合各种路况信息，来进行规划路线，可以错开各种道路情况。此发明仅针对现有技术中自动驾驶过程中的安全性，交通事故错开的技术问题进行设计，但对于具体的障碍物躲避行为和路线规划均未涉及，因此本发明针对上述问题进行创新设计。发明内容针对现有技术存在的自动驾驶过程中容易造成障碍物碰撞和路线规划的问题，本发明的目的在于提供一种自动驾驶路线规划方法和系统，实现自动驾驶路线规划过程中的安全性。为实现上述目的，本发明提供了如下技术方案：一种自动驾驶路线规划方法，所述自动驾驶路线规划方法包括以下步骤：步骤S1：管理人员通过输入层确定起始点和终止点，并对自动驾驶车辆进行选择，获取自动驾驶车辆的相关信息；步骤S2：获取起始点和终止点之间的GPS地图作为二维预地图，通过分解单元法对二维预地图中的工作区域进行分割为多个小单元，其后形成二维地图，通过膨胀法和栅格法将二维地图中障碍物和可行路径进行规则化显示；步骤S3：通过优化蚁群算法模型对二维地图中可行路径点进行选择，获取自动驾驶车辆从起始点到终止点的最优行驶路线；步骤S4：当自动驾驶车辆在最优行驶路线上行驶时，根据碰撞概率模型对路径上的障碍物进行躲避。优选的，所述输入层包括车辆管理模块和人机交互模块，车辆管理模块用于自动驾驶车辆参数的输入，人机交互模块提供管理人员登陆的身份验证，管理人员通过人机界面对自动驾驶车辆起始点和终止点进行设定，并根据具体需求对相关参数进行功能性调整。车辆管理模块对各个自动驾驶车辆建立标识牌或者参数表，标识牌或者参数表由自动驾驶车辆的编号进行超链接读取。管理人员通过人机界面进行身份验证，认证网关根据用户Ukey的数字证书与数据库存储的身份信息进行校对，判断是否具有登录权限，只允许具有登陆权限的管理人员登入系统。优选的，所述步骤S2涉及自动驾驶车辆工作区域中二维预地图的图像处理，分解单元法将整个工作区域划分为多个小单元，根据二维预地图中类别设置重度深色小单元对应起始点或者终止点，中度深色小单元对应障碍物，浅色小单元对应可通行路段，通过栅格法将分解单元法处理后的二维地图划分成多个规则的栅格，重度深色小单元和中度深色小单元通过膨胀法处理后将所在栅格填充完整，形成二维地图中各类物品的规则化显示，重度深色小单元、中度深色小单元和浅色小单元形成重度深色小栅格、中度深色小栅格和浅色小栅格。优选的，所述步骤S3中，优化蚁群算法模型包括自适应信息素因子和自适应启发式因子的设计，在二维地图中，针对起始点和终止点之间实施优化蚁群算法，进行自动驾驶车辆的避障路线规划，公式表达如下，；其中，表示最大迭代次数，/＞表示当前迭代次数，/＞表示初始状态下，即迭代次数初值/＞时，各个浅色小栅格的迭代概率，且/＞，/＞表示信息素重要程度因子，/＞表示启发重要程度因子，/＞表示自适应信息素重要程度因子，/＞表示自适应启发重要程度因子。优选的，所述步骤S3中，优化蚁群算法模型包括蚂蚁移动路径中随机概率的设计，在优化蚁群算法中，为了避免优质浅色小栅格选择概率较低的问题，引入伪随机概率调整因子，建立新的概率转移函数，辅助蚁群在路线规划中搜索最优避障路径点，根据概率公式，；其中，表示可行路径点集合/＞中任意两个可行路径点的标号，/＞表示标号为/＞的蚂蚁从可行路径点/＞移动到可行路径点/＞的随机概率，/＞表示最优路径点搜索函数，/＞表示当前迭代次数/＞下蚂蚁/＞从可行路径点/＞移动到可行路径点/＞时的信息素浓度，/＞表示当前迭代次数/＞下蚂蚁/＞从可行路径点/＞移动到可行路径点/＞时的启发式信息，/＞表示轮盘赌算法函数，/＞表示随机数，/＞表示随机概率转移调整因子。优选的，所述步骤S4中，自动驾驶车辆基于干涉公式构建碰撞概率模型，干涉公式通过将基点位置的碰撞概率密度函数和时间联立，对自动驾驶车辆行驶过程中发生碰撞的概率进行分析，干涉公式如下，；获取周期时间时，坐标点为/＞的障碍物与自动驾驶车辆发生的碰撞概率值；其中，设定自动驾驶车辆为基点，且坐标点表示为，时刻/＞表示为周期时间/＞内标号/＞的离散化时间，/＞表示离散时刻/＞的标号，/＞表示障碍物坐标点/＞在离散时刻/＞时与基点/＞发生干涉碰撞的概率函数。优选的，所述步骤S4中，碰撞概率模型包括判断模块，判断模块根据碰撞概率值与临界值的比较关系判断自动驾驶车辆是否存在碰撞风险，根据判断公式，；其中，表示输出符号，且/＞表示判定符号；/＞表示界限值；若，表示周期时间/＞内，坐标点为/＞的障碍物与自动驾驶车辆发生的碰撞概率值/＞小于或者等于界限值/＞，判断模块判定坐标点为/＞的障碍物不具有碰撞危机，生成安全信息；若，表示周期时间/＞内，坐标点为/＞的障碍物与自动驾驶车辆发生的碰撞概率值/＞大于界限值/＞，判断模块判定坐标点为/＞的障碍物具有碰撞危机，生成警示信息。优选的，所述自动驾驶路线规划系统包括输入层、处理层和显示层；处理层包括图像处理模块和路线规划模块，图像处理模块用于二维地图的规则化表示，路线规划模块包括优化蚁群算法模型和碰撞概率模型，优化蚁群算法模型用于二维地图中起始点和终止点最优行驶路线的生成，碰撞概率模型用于分析自动驾驶车辆在行驶过程中与障碍物的碰撞概率分析；显示层用于数据信息的端页显示，显示层布置在显示设备上，警示信息和安全信息通过显示设备进行展现。优选的，所述处理层应用于微型计算机，管理人员应用于客户端，客户端通过无线或者有线通讯仪器连接，通讯连接遵循HTTP协议，且采用集成信息处理体系和多客户端的信息体系结构。优选的，所述自动驾驶路线规划系统应用于云处理平台，数据层应用于云端，且进行分布式存储，采用C/S架构模式，搭建SSM开源框架，应用MySQL。与现有技术相比，本发明具备以下有益效果：1、本发明中，通过图像处理模块的分解单元法、膨胀法和栅格法，实现二维地图的规则化显示和表达，通过在优化蚁群算法模型中对自适应信息素因子和自适应启发式因子进行设计，引导蚁群搜索方向，可以强化信息素的主导作用，进而随着迭代次数的增加提高收敛速度，通过在优化蚁群算法模型中建立随机概率调整因子，建立新的概率转移函数，辅助蚁群在路线规划中搜索最优避障路径点，进而形成最优行驶路线，实现了自动驾驶车辆在二维地图中最优行驶路线的生成效率和质量。2、本发明中，通过碰撞概率模型的干涉公式通过对自动驾驶车辆与障碍物的关联状态，进而获取周期时间内的行驶路线上，自动驾驶车辆行驶与动态障碍物和静态障碍物发生的碰撞概率值，判断模块将碰撞概率值与临界值进行大小比较，进而判断自动驾驶车辆与障碍物是否存在碰撞风险，从而生成不同的显示信息,提高自动驾驶车辆在行驶过程中的避障效率和质量，以及行驶的安全性。附图说明图1为本发明提出一种自动驾驶路线规划系统的结构示意图；图2为本发明中方法步骤的示意图；图3为本发明中优化蚁群算法模型的流程示意图；图4为本发明中图像处理模块的展示示意图；图5为本发明中优化蚁群算法模型的工作展示示意图。具体实施方式下面，将参考附图详细地描述根据本申请的示例实施例。显然，所描述的实施例仅仅是本申请的一部分实施例，而不是本申请的全部实施例，应理解，本申请不受这里描述的示例实施例的限制。实施例一参照图1、图3、图4和图5，实施例一对本发明提出的一种自动驾驶路线规划方法和系统做进一步说明。一种自动驾驶路线规划方法，所述输入层包括车辆管理模块和人机交互模块，车辆管理模块用于自动驾驶车辆参数的输入，人机交互模块提供管理人员登陆的身份验证，管理人员通过人机界面对自动驾驶车辆起始点和终止点进行设定，并根据具体需求对相关参数进行功能性调整。车辆管理模块对各个自动驾驶车辆建立标识牌或者参数表，标识牌或者参数表中包括自动驾驶车辆的发动机功能参数、油缸容量、油耗率等功能参数以及轮毂、轮胎、车身尺寸和形状的基本参数，标识牌或者参数表由自动驾驶车辆的编号进行超链接读取，编号用于区分各个自动驾驶车辆，例如，有n辆自动驾驶车辆，则对n辆自动驾驶车辆进行不重复编号，或者对n辆自动驾驶车辆都形成一个二维码，当自动驾驶车辆行驶时，通过扫描其标号或者二维码获取标识牌或者参数表，进而读取自动驾驶车辆的车辆参数数据。管理人员通过人机界面进行身份验证，过滤器会拦截每一个管理人员的登陆请求，并且认证网关根据用户Ukey的数字证书与数据库存储的身份信息进行校对，判断是否具有登录权限，只允许具有登陆权限的管理人员登入系统，管理人员登入系统后对自动驾驶车辆的起始点和终止点进行设定，自动驾驶车辆根据设定的起始点和终止点进行路线规划和自动行驶。步骤S2涉及自动驾驶车辆工作区域中二维预地图的图像处理，分解单元法将整个工作区域划分为多个小单元，根据二维预地图中类别设置重度深色小单元对应起始点或者终止点，中度深色小单元对应障碍物，浅色小单元对应可通行路段，通过栅格法将分解单元法处理后的二维地图划分成多个规则的栅格，重度深色小单元和中度深色小单元通过膨胀法处理后将所在栅格填充完整，形成二维地图中各类物品的规则化显示。计算机视觉技术在自动驾驶车辆行驶过程中的控制和导航中起着重要作用。通过集成图像识别和环境感知技术，分析周围环境中的图像信息，获取行驶过程中障碍物的动态检测和避让。并根据GPS导航利用计算机视觉技术为自动驾驶车辆提供准确的定位，并获取自动驾驶车辆工作区域的地图数据信息。分解单元法适用于较大的作业区域，是将整个作业区域逐步划分为一系列小单元，然后分别规划每个小单元的路径，可以确保工作机在整个作业区域内进行全面的覆盖作业。本系统中将整个行驶地图区域划分为多个小单元，可以根据地图的形状或面积进行划分，每个重度深色小单元对应一个起始点或者终止点，每个中度深色小单元对应一个障碍物或者一部分障碍物，每个浅色小单元代表可通行路段，管理员对起始点和终止点进行选择，为了避开每个中度深色小单元对每个浅色小单元进行选择，尽量选择两个重度深色小单元之间浅色小单元最少的路径，使得自动驾驶车辆在起始点和终止点之间路途最短，实现自动驾驶车辆的路线规划。路径规划的目标是尽量减少自动驾驶车辆的移动，使作业效率最大化。分解单元法调整相邻小单元之间的路径，确保自动驾驶车辆能够平滑地从一个小单元进入另一个小单元，使得自动驾驶车辆在不同小单元之间的移动是连续的。栅格法是将作业区域划分为一个个均匀的矩形栅格，然后根据栅格的状态进行填充，针对障碍物在地图上显示的不规则形状，优先通过分解单元法划分为多个小单元，然后再通过栅格法将分解成的各个小单元覆盖在小栅格上，栅格的大小可以根据实际情况进行调整，对于未填满的小栅格进行膨胀处理后填充满，使每个不规则或者规则形状的障碍物都通过各色的小栅格进行显示，实现整个地图的规则化显示。在自动驾驶车辆行驶过程中，静态障碍物直接显示在二维地图上，动态障碍物则在周期时间内的每个离散化时间/＞时对的栅格状态进行实时更新。栅格法的优势在于可以对不规则或者规则形状的物品进行规则化显示，提高路径的规划效率，而且降低了自动驾驶车辆的行驶难度。步骤S3中，优化蚁群算法模型包括自适应信息素因子和自适应启发式因子的设计。在二维地图中，针对起始点和终止点之间实施优化蚁群算法，进行自动驾驶车辆的避障路线规划。首先，按照均匀分布的原则设置蚁群内每一只蚂蚁的初始信息素完全相同，并对蚂蚁的数量进行参数设置，假设在二维地图中浅色小栅格表示可行路径点，则所以得浅色小栅格构成可行路径点集合，且设定可行路径点集合为,假设浅色小栅格的数量为/＞,则设定本系统中蚂蚁的数量为/＞,且初始化处理中将每只蚂蚁的分别放置到一个浅色小栅格中，并对其他参数进行设定，包括信息素重要程度因子、启发重要程度因子、信息素挥发因子、信息素释放总量以及最大迭代次数，设置迭代次数初值/＞,根据蚁群搜索特点，对信息素进行实时更新，更新公式为，；其中，表示当前迭代次数的标号，/＞表示当前迭代次数的下一迭代次数标号，表示当前迭代次数下各个浅色小栅格中信息素的浓度，/＞表示下一迭代次数中各个浅色小栅格中信息素的浓度，/＞表示从当前迭代次数到下一迭代次数中所有蚂蚁在各个浅色小栅格上释放的信息素浓度，/＞表示信息素挥发因子。由于蚁群迭代初期信息素的引导能力较差，需要应用启发式信息，引导蚁群搜索方向，直到各个浅色小栅格中信息素差异变大后，才可以强化信息素的主导作用。信息素重要程度因子用来表示信息素踪迹的吸引力，表示值越大，越倾向于选择已建立信息素的浅色小栅格，而启发重要程度因子用来表示从一个浅色小栅格转换到另一个浅色小栅格的吸引力，因此，自动驾驶车辆避障路线自动规划过程中，提出自适应信息素因子和自适应启发式因子，保证蚁群搜索过程中的随机性，又根据迭代次数提高收敛速度，针对蚁群算法中小栅格的自适应信息素因子和自适应启发式因子进行设计，公式表达如下，；其中，表示最大迭代次数，/＞表示当前迭代次数，/＞表示初始状态下，即迭代次数初值/＞时，各个浅色小栅格的迭代概率，且/＞，/＞表示信息素重要程度因子，/＞表示启发重要程度因子，/＞表示自适应信息素重要程度因子，/＞表示自适应启发重要程度因子。步骤S3中，优化蚁群算法模型包括蚂蚁移动路径中随机概率的设计。在优化蚁群算法中，为了避免优质浅色小栅格选择概率较低的问题，引入随机概率调整因子，建立新的概率转移函数，辅助蚁群在路线规划中搜索最优避障路径点，根据概率公式，；其中，表示可行路径点集合/＞中任意两个可行路径点的标号，/＞表示标号为的蚂蚁从可行路径点/＞移动到可行路径点/＞的随机概率，/＞表示最优路径点搜索函数，表示当前迭代次数/＞下蚂蚁/＞从可行路径点/＞移动到可行路径点/＞时的信息素浓度，表示当前迭代次数/＞下蚂蚁/＞从可行路径点/＞移动到可行路径点/＞时的启发式信息，表示轮盘赌算法函数，/＞表示随机数，/＞表示随机概率转移调整因子。轮盘赌选择法是最简单也是最常用的选择方法，在该方法中，各个个体的选择概率和其适应度值成比例，适应度越大，选中概率也越大。但实际在进行轮盘赌选择时个体的选择往往不是依据个体的选择概率，而是根据“累积概率”来进行选择，因此在本系统中，轮盘赌算法函数表达式如下，；根据上述公式可知，当随机数小于或者等于随机概率转移调整因子时，可以保留最优邻居路径点搜索结果。反之，当随机数大于随机概率转移调整因子时，需要采用轮盘赌策略继续搜索避障路线点。根据蚁群算法选择驾驶路线时，具体包括以下步骤：步骤S21:在蚁群算法启动之初，对参数进行初始化设置，参数包括蚂蚁的数量、信息素重要程度因子、启发重要程度因子、信息素挥发因子、信息素释放总量和最大迭代次，且设置迭代次数初值；步骤S22:将各个蚂蚁随机置于不同的浅色小栅格，对每个蚂蚁进行标号为，计算其下一个待访问浅色小栅格的随机概率，直到所有蚂蚁访问完所有的浅色小栅格；步骤S23:计算各个蚂蚁从起始点到终止点之间经过的路径长度，记录当前迭代次数中的最优解，对各个可行路径点上的信息素浓度进行更新；其中，可行路径点与浅色小栅格表示的含义相同，可以进行同义替换；步骤S24:若，则令/＞，并返回步骤S22；否则，终止计算，输出最优解。本实施例中，通过图像处理模块的分解单元法、膨胀法和栅格法，实现二维地图的规则化显示和表达，通过在优化蚁群算法模型中对自适应信息素因子和自适应启发式因子进行设计，引导蚁群搜索方向，可以强化信息素的主导作用，进而随着迭代次数的增加提高收敛速度，通过在优化蚁群算法模型中建立随机概率调整因子，建立新的概率转移函数，辅助蚁群在路线规划中搜索最优避障路径点，进而形成最优行驶路线，实现了自动驾驶车辆在二维地图中最优行驶路线的生成效率和质量。实施例二参照图1和图2，实施例二对本发明提出的一种自动驾驶路线规划方法及系统做进一步说明。一种自动驾驶路线规划方法，步骤S4中，自动驾驶车辆基于干涉公式构建碰撞概率模型，干涉公式通过将基点位置的碰撞概率密度函数和时间进行联立，对自动驾驶车辆行驶过程中发生碰撞的概率进行分析，干涉公式如下，；获取周期时间时，坐标点为/＞的障碍物与自动驾驶车辆发生的碰撞概率值；其中，设定自动驾驶车辆为基点，且坐标点表示为，时刻/＞表示为周期时间/＞内标号/＞的离散化时间，/＞表示离散时刻/＞的标号，/＞表示障碍物坐标点/＞在离散时刻/＞时与基点/＞发生干涉碰撞的概率函数；北斗GPS车载定位采用TTL电平串口通信标准，并与自动驾驶车辆上的处理层进行无线接口通信，处理层通过微控制器或者芯片解析GPS中自动驾驶车辆的位置、时间和速度，将行驶地图以及其上的障碍物扫描形成二维图像，如图4所示，并通过膨胀处理后的将障碍物所在栅格填充完整，同时将自动驾驶车辆进行膨胀处理，减少其与障碍物发生碰撞的风险，自动驾驶车辆和行驶路线碰撞区域根据障碍物与基点的位置概率密度进行碰撞概率计算，根据二维正态分布函数，；其中，和/＞分别表示横坐标/＞和纵坐标/＞的均值，/＞和/＞分别表示横坐标/＞和纵坐标/＞的标准差，且/＞和/＞的取值范围均为/＞，/＞的取值范围为/＞，以自动驾驶车辆为基点/＞，构建二维坐标系，障碍物在坐标系上的坐标点为/＞，责令，/＞，/＞，则对二维正态分布函数化简为，；进而获取到在坐标点，处障碍物与基点/＞处自动驾驶车辆发生碰撞的概率；其中，是针对静态或者动态障碍物做出的碰撞概率表达，在本系统中，将周期时间/＞内进行离散化时间，得到多个离散时刻/＞，使动态障碍物在周期时间/＞内的坐标点变化转换成每个离散时刻/＞时的瞬时静止状态，进而得到动态障碍物在离散时刻/＞时转化为静态障碍物时坐标点处与基点发生碰撞的概率，且/＞与/＞的关系表达式为，；其中，干涉公式的举例计算过程为，假设在视觉机器对自动驾驶车辆的周围进行连续周期性扫描时，识别到一个障碍物，且其中一个扫描周期时间内的离散时刻/＞为5个，分别设为/＞、/＞、/＞、/＞、/＞，则获取有5个坐标点，因为自动驾驶车辆是移动基点，所以障碍物相对于基点的位置是实时变化的，将5个坐标点依次带入到函数/＞中，获取到每个坐标点对应的概率值，设为/＞、/＞、/＞、/＞、/＞，假如/＞的数值最大，则根据过滤器选择其中最大概率值，即为，；获取周期时间内自动驾驶车辆与障碍物发生碰撞的概率。所述步骤S4中，碰撞概率模型包括判断模块，判断模块根据碰撞概率值与临界值的比较关系判断自动驾驶车辆是否存在碰撞风险，根据判断公式，；其中，表示输出符号，且/＞表示判定符号；/＞表示界限值；若，表示周期时间/＞内，坐标点为/＞的障碍物与自动驾驶车辆发生的碰撞概率值/＞小于或者等于界限值/＞，判断模块判定坐标点为/＞的障碍物不具有碰撞危机，生成安全信息；若，表示周期时间/＞内，坐标点为/＞的障碍物与自动驾驶车辆发生的碰撞概率值/＞大于界限值/＞，判断模块判定坐标点为/＞的障碍物具有碰撞危机，生成警示信息。上述碰撞模型中，本发明仅对周期时间内一个障碍物进行连续性碰撞概率判断，但是，本发明也适用于多个障碍物的碰撞概率分析，只需要对多个障碍物进行编号，通过碰撞概率模型分别监控每一个障碍物，进行碰撞概率分析。且本系统中，自动驾驶车辆在行驶路线上进行的是连续周期性监控。本实施例中，通过碰撞概率模型的干涉公式通过对自动驾驶车辆与障碍物的关联状态，进而获取周期时间内的行驶路线上，自动驾驶车辆行驶与动态障碍物和静态障碍物发生的碰撞概率值，判断模块将碰撞概率值与临界值进行大小比较，进而判断自动驾驶车辆与障碍物是否存在碰撞风险，从而生成不同的显示信息,提高自动驾驶车辆在行驶过程中的避障效率和质量，以及行驶的安全性。实施例三参照图1和图2，实施例三对本发明提出的一种自动驾驶路线规划方法及系统做进一步说明。一种自动驾驶路线规划方法，所述自动驾驶路线规划方法包括以下步骤：步骤S1：管理人员通过输入层确定起始点和终止点，并对自动驾驶车辆进行选择，获取自动驾驶车辆的相关信息；步骤S2：获取起始点和终止点之间的GPS地图作为二维预地图，通过分解单元法对二维预地图中的工作区域进行分割为多个小单元，其后形成二维地图，通过膨胀法和栅格法将二维地图中障碍物和可行路径进行规则化显示；步骤S3：通过优化蚁群算法模型对二维地图中可行路径点进行选择，获取自动驾驶车辆从起始点到终止点的最优行驶路线；步骤S4：当自动驾驶车辆在最优行驶路线上行驶时，根据碰撞概率模型对路径上的障碍物进行躲避。一种自动驾驶路线规划系统，应用于云处理平台，数据层应用于云端，且进行分布式存储，采用C/S架构模式，搭建SSM开源框架，应用MySQL。包括输入层、处理层和显示层。处理层包括图像处理模块和路线规划模块，图像处理模块用于二维地图的规则化表示，路线规划模块包括优化蚁群算法模型和碰撞概率模型，优化蚁群算法模型用于二维地图中起始点和终止点最优行驶路线的生成，碰撞概率模型用于分析自动驾驶车辆在行驶过程中与障碍物的碰撞概率分析；处理层应用于微型计算机，管理人员应用于客户端，客户端通过无线或者有线通讯仪器连接，通讯连接遵循HTTP协议，且采用集成信息处理体系和多客户端的信息体系结构。显示层用于数据信息的端页显示，显示层布置在显示设备上，警示信息和安全信息通过显示设备进行展现。此外，本系统应用于自动驾驶车辆时还可以与其中控设备连接，通过显示层的警示信息和安全信息，中控设备对车辆操作变向平台进行调控，例如，当警示信息传输给中控设备时，车辆操作变向平台调控自动驾驶车辆进行转弯调节，进行障碍物躲避，当安全信息传输给中控设备时，中控设备使车辆操作变向平台调控自动驾驶车辆按照既定行驶状态行驶，不需要对障碍物躲避。以上所述仅是本发明的优选实施方式，本发明的保护范围并不仅局限于上述实施例，凡属于本发明思路下的技术方案均属于本发明的保护范围。应当指出，对于本技术领域的普通技术用户来说，在不脱离本发明原理前提下的若干改进和润饰，这些改进和润饰也应视为本发明的保护范围。
