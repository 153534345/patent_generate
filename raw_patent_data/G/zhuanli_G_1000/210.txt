标题title
一种生产环境安全监测方法、装置、终端设备和存储介质
摘要abst
本发明公开了一种生产环境安全监测方法、装置、终端设备和存储介质，所述方法适用于药品生产厂，包括：获取药品生产厂的逃生通道数据，实时获取药品生产厂所有设备的设备运行数据、所有车间的车间环境数据和整个药品生产厂的人员分布数据；根据所述设备运行数据以及训练好的设备风险预测模型，确定设备预测风险源；根据所述车间环境数据以及训练好的环境风险预测模型，确定环境预测风险源；根据所述逃生通道数据、设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数；在所述安全逃生指数高于预设阈值时，进行生产环境风险报警。本发明相较于现有技术具有更高的安全性和预警性。
权利要求书clms
1.一种生产环境安全监测方法，其特征在于，适用于药品生产厂，包括：获取药品生产厂的逃生通道数据，实时获取药品生产厂所有设备的设备运行数据、所有车间的车间环境数据和整个药品生产厂的人员分布数据；根据所述设备运行数据以及训练好的设备风险预测模型，确定设备预测风险源；根据所述车间环境数据以及训练好的环境风险预测模型，确定环境预测风险源；根据所述逃生通道数据、设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数；在所述安全逃生指数高于预设阈值时，进行生产环境风险报警。2.如权利要求1所述的生产环境安全监测方法，其特征在于，所述设备风险预测模型的训练过程，包括：获取所有的设备历史数据以及所有的设备故障数据；所述设备历史数据包括历史所有时刻的设备运行数据和对应的记录时间；所述设备故障数据包括风险类型和故障时间；根据每一设备故障数据的故障时间，确定与所述故障时间相同的记录时间对应的设备历史数据；根据所述设备故障数据对应的风险类型，将所述对应的设备历史数据的标签设置为故障并标注风险类型，将剩余的设备历史数据的标签设置为安全；得到标注好的设备历史数据；根据所述标注好的设备历史数据训练所述设备风险预测模型，得到训练好的设备风险预测模型；根据所述设备运行数据以及设备风险预测模型，确定设备预测风险源，包括：将实时获取的设备运行数据输入所述设备风险预测模型，输出得到设备风险预测结果；其中，所述设备风险预测结果为安全或故障；当所述设备风险预测结果为故障时，所述设备风险预测结果还包括风险类型；当所述设备风险预测结果为故障时，根据所述风险类型，确定所述设备风险预测结果的风险等级；其中，所述风险等级包括逃生等级和非逃生等级；将所述设备风险预测结果的风险等级为逃生等级时，将对应的设备设置为设备预测风险源。3.如权利要求2所述的生产环境安全监测方法，其特征在于，所述设备运行数据，包括：设备温度数据、设备电气数据以及设备状态数据；所述设备故障数据的风险类型，包括：火灾、爆炸、触电以及化学泄漏；所述根据所述风险类型，确定所述设备风险预测结果的风险等级，包括：当所述风险类型为火灾、爆炸或化学泄漏时，将所述设备风险预测结果的风险等级设置为逃生等级；否则，将所述设备风险预测结果的风险等级设置为非逃生等级。4.如权利要求1所述的生产环境安全监测方法，其特征在于，所述环境风险预测模型的训练过程，包括：获取所有的环境历史数据以及所有的环境风险数据；所述环境历史数据包括历史所有时刻的车间环境数据和对应的记录时间；所述环境风险数据包括风险类型和风险时间；根据每一环境风险数据的风险时间，确定与所述风险时间相同的记录时间对应的环境历史数据；根据所述环境风险数据对应的风险类型，将所述对应的环境历史数据的标签设置为风险并标注风险类型，将剩余的环境历史数据的标签设置为安全；得到标注好的环境历史数据；根据所述标注好的环境历史数据训练所述环境风险预测模型，得到训练好的环境风险预测模型；根据所述车间环境数据以及环境风险预测模型，确定环境预测风险源，包括：将实时获取的环境运行数据输入所述环境风险预测模型，输出得到环境风险预测结果；其中，所述环境风险预测结果为安全或风险；当所述环境风险预测结果为风险时，所述环境风险预测结果还包括风险类型；当所述环境风险预测结果为风险时，根据所述风险类型，确定所述环境风险预测结果的风险等级；其中，所述风险等级包括逃生等级和非逃生等级；将所述环境风险预测结果的风险等级为逃生等级时，将对应的车间设置为设备预测风险源。5.如权利要求4所述的生产环境安全监测方法，其特征在于，所述车间环境数据，包括：车间温度数据、车间气压数据、车间噪音数据以及车间空气质量数据；所述环境风险数据的风险类型，包括：火灾、爆炸、噪音污染以及化学泄漏；所述根据所述风险类型，确定所述环境风险预测结果的风险等级，包括：当所述风险类型为火灾、爆炸或化学泄漏时，将所述环境风险预测结果的风险等级设置为逃生等级；否则，将所述环境风险预测结果的风险等级设置为非逃生等级。6.如权利要求1所述的生产环境安全监测方法，其特征在于，所述根据所述逃生通道数据、所述设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数，包括：根据所述逃生通道数据，确定药品生产厂所有逃生通道的位置数据；根据所述人员分布数据，通过K-means算法和肘部法则，确定若干人群聚集区域，并计算每一人群聚集区域的半径和包含的人员数量；针对每一人群聚集区域，根据所述人员分布数据、人群聚集区域的半径以及人群聚集区域的人员数量，计算所述人群聚集区域的逃生范围；根据所有所述逃生通道数据的位置数据、所有设备预测风险源、所有环境预测风险源，确定每一人群聚集区域的逃生范围内的设备预测风险源、环境预测风险源以及逃生通道；根据每一人群聚集区域对应逃生范围内的设备预测风险源、环境预测风险源以及逃生通道，计算安全逃生指数。7.如权利要求6所述的生产环境安全监测方法，其特征在于，所述根据所述人员分布数据，通过K-means算法和肘部法则，确定若干人群聚集区域，包括：根据肘部法则，确定K-means算法的最佳聚类数量；根据所述最佳聚类数量，对所述人员分布数据进行K-means算法的聚类操作，得到若干人群聚类区域；所述根据每一人群聚集区域对应逃生范围内的设备预测风险源、环境预测风险源以及逃生通道，计算安全逃生指数，包括：针对每一人群聚集区域，根据所述人群聚集的位置以及对应逃生范围内的逃生通道的位置，设计若干逃生路线；针对每一逃生路线，检测所述逃生路线附近是否有设备预测风险源或环境预测风险源；将附近有设备预测风险源或环境预测风险源的逃生路线作为不安全逃生路线；根据每一人群密集区域的半径、人员数量、逃生路线的数量和不安全逃生路线的数量，计算所述人群聚集区域的安全逃生指数。8.一种生产环境安全监测装置，其特征在于，包括：数据获取模块、风险源预测模块、安全逃生指数计算模块以及风险报警模块；其中，所述数据获取模块，用于获取药品生产厂的逃生通道数据，实时获取药品生产厂所有设备的设备运行数据、所有车间的车间环境数据和整个药品生产厂的人员分布数据；所述风险源预测模块，用于根据所述设备运行数据以及训练好的设备风险预测模型，确定设备预测风险源；根据所述车间环境数据以及训练好的环境风险预测模型，确定环境预测风险源；所述安全逃生指数计算模块，用于根据所述逃生通道数据、设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数；所述风险报警模块，用于在所述安全逃生指数高于预设阈值时，进行生产环境风险报警。9.一种终端设备，其特征在于，包括处理器、存储器以及存储在所述存储器中且被配置为由所述处理器执行的计算机程序，所述处理器执行所述计算机程序时实现如权利要求1至7中任意一项所述的生产环境安全监测方法。10.一种存储介质，其特征在于，所述存储介质包括存储的计算机程序，其中，在所述计算机程序运行时控制所述计算机可读存储介质所在设备执行如权利要求1至7中任意一项所述的生产环境安全监测方法。
说明书desc
技术领域本发明涉及工业生产技术领域，尤其涉及一种生产环境安全监测方法、装置、终端设备和存储介质。背景技术随着工业化的快速发展和科技的不断进步，生产环境的安全性越来越受到人们的关注。为了确保生产环境的稳定和工作人员的安全，生产环境安全监测方法成为了重要的技术手段。随着科技的不断发展，生产环境安全监测方法也在不断创新和改进。现代监测技术包括传感器技术、自动监测系统、数据分析与处理技术等。传感器技术可以将监测到的物理参数转化为电信号，通过自动监测系统进行数据采集和处理，并通过数据分析与处理技术，提供及时准确的监测数据，帮助工作人员进行决策和处理。同时，现代监测技术还可以实现远程监测和预警功能，大大提高了生产环境安全监测的效率和准确性。通过监测温度、湿度、压力、噪声等参数，可以及时发现和处理生产环境中的异常情况，保障工作人员和环境的安全。随着科技的不断进步，现代监测技术也在不断创新和改进，为生产环境安全监测提供了更加准确和高效的手段。但是现有的生产环境安全监测往往是在风险发生后进行报警处理或其他处理，是风险发生后的善后手段，而不能提前预测风险；而且现有技术的报警往往是针对风险发生的情况，而没有针对如果风险发生后是否可以安全逃生这一问题进行相应的报警。可见，现有的生产环境安全监测手段的安全性和预警性不高。发明内容本发明提供了一种生产环境安全监测方法、装置、终端设备和存储介质，以解决现有的生产环境安全监测手段的安全性和预警性不高的技术问题。为了解决上述技术问题，本发明实施例提供了一种生产环境安全监测方法，包括：获取药品生产厂的逃生通道数据，实时获取药品生产厂所有设备的设备运行数据、所有车间的车间环境数据和整个药品生产厂的人员分布数据；根据所述设备运行数据以及训练好的设备风险预测模型，确定设备预测风险源；根据所述车间环境数据以及训练好的环境风险预测模型，确定环境预测风险源；根据所述逃生通道数据、设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数；在所述安全逃生指数高于预设阈值时，进行生产环境风险报警。作为优选方案，所述设备风险预测模型的训练过程，包括：获取所有的设备历史数据以及所有的设备故障数据；所述设备历史数据包括历史所有时刻的设备运行数据和对应的记录时间；所述设备故障数据包括风险类型和故障时间；根据每一设备故障数据的故障时间，确定与所述故障时间相同的记录时间对应的设备历史数据；根据所述设备故障数据对应的风险类型，将所述对应的设备历史数据的标签设置为故障并标注风险类型，将剩余的设备历史数据的标签设置为安全；得到标注好的设备历史数据；根据所述标注好的设备历史数据训练所述设备风险预测模型，得到训练好的设备风险预测模型；根据所述设备运行数据以及设备风险预测模型，确定设备预测风险源，包括：将实时获取的设备运行数据输入所述设备风险预测模型，输出得到设备风险预测结果；其中，所述设备风险预测结果为安全或故障；当所述设备风险预测结果为故障时，所述设备风险预测结果还包括风险类型；当所述设备风险预测结果为故障时，根据所述风险类型，确定所述设备风险预测结果的风险等级；其中，所述风险等级包括逃生等级和非逃生等级；将所述设备风险预测结果的风险等级为逃生等级时，将对应的设备设置为设备预测风险源。作为优选方案，所述设备运行数据，包括：设备温度数据、设备电气数据以及设备状态数据；所述设备故障数据的风险类型，包括：火灾、爆炸、触电以及化学泄漏；所述根据所述风险类型，确定所述设备风险预测结果的风险等级，包括：当所述风险类型为火灾、爆炸或化学泄漏时，将所述设备风险预测结果的风险等级设置为逃生等级；否则，将所述设备风险预测结果的风险等级设置为非逃生等级。作为优选方案，所述环境风险预测模型的训练过程，包括：获取所有的环境历史数据以及所有的环境风险数据；所述环境历史数据包括历史所有时刻的车间环境数据和对应的记录时间；所述环境风险数据包括风险类型和风险时间；根据每一环境风险数据的风险时间，确定与所述风险时间相同的记录时间对应的环境历史数据；根据所述环境风险数据对应的风险类型，将所述对应的环境历史数据的标签设置为风险并标注风险类型，将剩余的环境历史数据的标签设置为安全；得到标注好的环境历史数据；根据所述标注好的环境历史数据训练所述环境风险预测模型，得到训练好的环境风险预测模型；根据所述车间环境数据以及环境风险预测模型，确定环境预测风险源，包括：将实时获取的环境运行数据输入所述环境风险预测模型，输出得到环境风险预测结果；其中，所述环境风险预测结果为安全或风险；当所述环境风险预测结果为风险时，所述环境风险预测结果还包括风险类型；当所述环境风险预测结果为风险时，根据所述风险类型，确定所述环境风险预测结果的风险等级；其中，所述风险等级包括逃生等级和非逃生等级；将所述环境风险预测结果的风险等级为逃生等级时，将对应的车间设置为设备预测风险源。作为优选方案，所述车间环境数据，包括：车间温度数据、车间气压数据、车间噪音数据以及车间空气质量数据；所述环境风险数据的风险类型，包括：火灾、爆炸、噪音污染以及化学泄漏；所述根据所述风险类型，确定所述环境风险预测结果的风险等级，包括：当所述风险类型为火灾、爆炸或化学泄漏时，将所述环境风险预测结果的风险等级设置为逃生等级；否则，将所述环境风险预测结果的风险等级设置为非逃生等级。作为优选方案，所述根据所述逃生通道数据、所述设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数，包括：根据所述逃生通道数据，确定药品生产厂所有逃生通道的位置数据；根据所述人员分布数据，通过K-means算法和肘部法则，确定若干人群聚集区域，并计算每一人群聚集区域的半径和包含的人员数量；针对每一人群聚集区域，根据所述人员分布数据、人群聚集区域的半径以及人群聚集区域的人员数量，计算所述人群聚集区域的逃生范围；根据所有所述逃生通道数据的位置数据、所有设备预测风险源、所有环境预测风险源，确定每一人群聚集区域的逃生范围内的设备预测风险源、环境预测风险源以及逃生通道；根据每一人群聚集区域对应逃生范围内的设备预测风险源、环境预测风险源以及逃生通道，计算安全逃生指数。作为优选方案，所述根据所述人员分布数据，通过K-means算法和肘部法则，确定若干人群聚集区域，包括：根据肘部法则，确定K-means算法的最佳聚类数量；根据所述最佳聚类数量，对所述人员分布数据进行K-means算法的聚类操作，得到若干人群聚类区域；所述根据每一人群聚集区域对应逃生范围内的设备预测风险源、环境预测风险源以及逃生通道，计算安全逃生指数，包括：针对每一人群聚集区域，根据所述人群聚集的位置以及对应逃生范围内的逃生通道的位置，设计若干逃生路线；针对每一逃生路线，检测所述逃生路线附近是否有设备预测风险源或环境预测风险源；将附近有设备预测风险源或环境预测风险源的逃生路线作为不安全逃生路线；根据每一人群密集区域的半径、人员数量、逃生路线的数量和不安全逃生路线的数量，计算所述人群聚集区域的安全逃生指数。在上述实施例的基础上，本发明另一实施例提供了一种生产环境安全监测装置，其特征在于，包括：数据获取模块、风险源预测模块、安全逃生指数计算模块以及风险报警模块；其中，所述数据获取模块，用于获取药品生产厂的逃生通道数据，实时获取药品生产厂所有设备的设备运行数据、所有车间的车间环境数据和整个药品生产厂的人员分布数据；所述风险源预测模块，用于根据所述设备运行数据以及训练好的设备风险预测模型，确定设备预测风险源；根据所述车间环境数据以及训练好的环境风险预测模型，确定环境预测风险源；所述安全逃生指数计算模块，用于根据所述逃生通道数据、设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数；所述风险报警模块，用于在所述安全逃生指数高于预设阈值时，进行生产环境风险报警。在上述实施例的基础上，本发明又一实施例提供了一种终端设备，所述终端设备包括处理器、存储器以及存储在所述存储器中且被配置为由所述处理器执行的计算机程序，所述处理器执行所述计算机程序时实现上述发明实施例所述的生产环境安全监测方法。在上述实施例的基础上，本发明又一实施例提供了一种存储介质，所述存储介质包括存储的计算机程序，其中，在所述计算机程序运行时控制所述计算机可读存储介质所在设备执行上述发明实施例所述的生产环境安全监测方法。相比于现有技术，本发明实施例具有如下有益效果：本发明通过获取生产厂的逃生通道数据，实时获取药品生产厂所有设备的设备运行数据、所有车间的车间环境数据和整个药品生产厂的人员分布数据；根据所述设备运行数据以及训练好的设备风险预测模型，确定设备预测风险源；根据所述车间环境数据以及训练好的环境风险预测模型，确定环境预测风险源；根据所述逃生通道数据、设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数；在所述安全逃生指数高于预设阈值时，进行生产环境风险报警。本发明可以确定根据实时获取到的数据确定设备预测风险源和环境预测风险源，并根据设备预测风险源和环境预测风险源提前预测风险并在风险存在的情况下预测安全逃生的可能性，在安全逃生可能性较低时进行报警，本发明相较于现有技术具有更高的安全性和预警性。附图说明图1是本发明一实施例提供的一种生产环境安全监测方法的流程示意图；图2是本发明一实施例提供的一种生产环境安全监测方法的结构示意图。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。除非另有定义，本文所使用的所有的技术和科学术语与属于本申请的技术领域的技术人员通常理解的含义相同；本文中所使用的术语只是为了描述具体的实施例的目的，不是旨在于限制本申请；本申请的说明书和权利要求书及上述附图说明中的术语“包括”和“具有”以及它们的任何变形，意图在于覆盖不排他的包含。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例一请参照图1，为本发明一实施例提供的一种生产环境安全监测方法的流程示意图，包括：S1、获取药品生产厂的逃生通道数据，实时获取药品生产厂所有设备的设备运行数据、所有车间的车间环境数据和整个药品生产厂的人员分布数据。在本实施例中，获取药品生产厂的建筑设计图纸，根据药品生产厂的建筑设计图纸获取逃生通道数据，包括逃生通道的位置和出入口。药品生产厂中的设备包括但不限于：混合设备、反应釜、蒸发器、结晶设备、干燥设备、粉碎设备、筛分设备、压片机、胶囊填充机、包装机、质量控制设备、清洁设备、实验室设备以及安全设备；药品生产厂的车间包括但不限于：洁净车间、配料车间、制剂车间、包装车间、质量控制实验室、仓储车间、动力车间以及辅助车间；药品生产厂各个空间都可能分布着相应的工作人员。通过安装在设备上的传感器实时获取药品生产厂中所有设备的设备运行数据；通过安装在车间的传感器实时获取所有车间的车间环境数据；通过覆盖了整个药品生产厂的监控设备获取整个药品生产厂的人员分布数据。S2、根据所述设备运行数据以及训练好的设备风险预测模型，确定设备预测风险源；根据所述车间环境数据以及训练好的环境风险预测模型，确定环境预测风险源。在本实施例中，所述训练好的设备风险预测模型根据输入的设备运行数据对设备风险情况进行预测，输出设备风险预测结果，然后根据设备风险预测结果确定设备预测风险源。所述训练好的环境风险预测模型根据输入的车间环境风险情况进行预测，输出环境风险预测结果，然后根据环境风险预测结果确定环境预测风险源。在一优选的实施例中，所述设备风险预测模型的训练过程，包括：获取所有的设备历史数据以及所有的设备故障数据；所述设备历史数据包括历史所有时刻的设备运行数据和对应的记录时间；所述设备故障数据包括风险类型和故障时间；根据每一设备故障数据的故障时间，确定与所述故障时间相同的记录时间对应的设备历史数据；根据所述设备故障数据对应的风险类型，将所述对应的设备历史数据的标签设置为故障并标注风险类型，将剩余的设备历史数据的标签设置为安全；得到标注好的设备历史数据；根据所述标注好的设备历史数据训练所述设备风险预测模型，得到训练好的设备风险预测模型；根据所述设备运行数据以及设备风险预测模型，确定设备预测风险源，包括：将实时获取的设备运行数据输入所述设备风险预测模型，输出得到设备风险预测结果；其中，所述设备风险预测结果为安全或故障；当所述设备风险预测结果为故障时，所述设备风险预测结果还包括风险类型；当所述设备风险预测结果为故障时，根据所述风险类型，确定所述设备风险预测结果的风险等级；其中，所述风险等级包括逃生等级和非逃生等级；将所述设备风险预测结果的风险等级为逃生等级时，将对应的设备设置为设备预测风险源。在一优选的实施例中，所述设备运行数据，包括：设备温度数据、设备电气数据以及设备状态数据；所述设备故障数据的风险类型，包括：火灾、爆炸、触电以及化学泄漏；所述根据所述风险类型，确定所述设备风险预测结果的风险等级，包括：当所述风险类型为火灾、爆炸或化学泄漏时，将所述设备风险预测结果的风险等级设置为逃生等级；否则，将所述设备风险预测结果的风险等级设置为非逃生等级。在一优选的实施例中，所述环境风险预测模型的训练过程，包括：获取所有的环境历史数据以及所有的环境风险数据；所述环境历史数据包括历史所有时刻的车间环境数据和对应的记录时间；所述环境风险数据包括风险类型和风险时间；根据每一环境风险数据的风险时间，确定与所述风险时间相同的记录时间对应的环境历史数据；根据所述环境风险数据对应的风险类型，将所述对应的环境历史数据的标签设置为风险并标注风险类型，将剩余的环境历史数据的标签设置为安全；得到标注好的环境历史数据；根据所述标注好的环境历史数据训练所述环境风险预测模型，得到训练好的环境风险预测模型；根据所述车间环境数据以及环境风险预测模型，确定环境预测风险源，包括：将实时获取的环境运行数据输入所述环境风险预测模型，输出得到环境风险预测结果；其中，所述环境风险预测结果为安全或风险；当所述环境风险预测结果为风险时，所述环境风险预测结果还包括风险类型；当所述环境风险预测结果为风险时，根据所述风险类型，确定所述环境风险预测结果的风险等级；其中，所述风险等级包括逃生等级和非逃生等级；将所述环境风险预测结果的风险等级为逃生等级时，将对应的车间设置为设备预测风险源。在一优选的实施例中，所述车间环境数据，包括：车间温度数据、车间气压数据、车间噪音数据以及车间空气质量数据；所述环境风险数据的风险类型，包括：火灾、爆炸、噪音污染以及化学泄漏；所述根据所述风险类型，确定所述环境风险预测结果的风险等级，包括：当所述风险类型为火灾、爆炸或化学泄漏时，将所述环境风险预测结果的风险等级设置为逃生等级；否则，将所述环境风险预测结果的风险等级设置为非逃生等级。S3、根据所述逃生通道数据、设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数。在一优选的实施例中，所述根据所述逃生通道数据、所述设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数，包括：根据所述逃生通道数据，确定药品生产厂所有逃生通道的位置数据；根据所述人员分布数据，通过K-means算法和肘部法则，确定若干人群聚集区域，并计算每一人群聚集区域的半径和包含的人员数量；针对每一人群聚集区域，根据所述人员分布数据、人群聚集区域的半径以及人群聚集区域的人员数量，计算所述人群聚集区域的逃生范围；根据所有所述逃生通道数据的位置数据、所有设备预测风险源、所有环境预测风险源，确定每一人群聚集区域的逃生范围内的设备预测风险源、环境预测风险源以及逃生通道；根据每一人群聚集区域对应逃生范围内的设备预测风险源、环境预测风险源以及逃生通道，计算安全逃生指数。在本实施例中，所述人群聚集区域为一个包围该区域所有人员的最小圆形区域，由此可以计算该人群聚集区域的半径和区域内的人员数量，还可以确定该人群聚集区域的中心点，即圆形的圆心。逃生范围为包含所述人群聚集区域的圆形区域。人群聚集区域的逃生范围计算公式为：；；式中，u表示人群聚集区域的人员分布密度；的P表示人群聚集区域内的人员数量；r表示人群聚集区域的半径；a为预设的活动系数；表示人群聚集区域内第i个人距离人群聚集区域中心点的距离；r为逃生范围的半径。在一优选的实施例中，所述根据所述人员分布数据，通过K-means算法和肘部法则，确定若干人群聚集区域，包括：根据肘部法则，确定K-means算法的最佳聚类数量；根据所述最佳聚类数量，对所述人员分布数据进行K-means算法的聚类操作，得到若干人群聚类区域；所述根据每一人群聚集区域对应逃生范围内的设备预测风险源、环境预测风险源以及逃生通道，计算安全逃生指数，包括：针对每一人群聚集区域，根据所述人群聚集的位置以及对应逃生范围内的逃生通道的位置，设计若干逃生路线；针对每一逃生路线，检测所述逃生路线附近是否有设备预测风险源或环境预测风险源；将附近有设备预测风险源或环境预测风险源的逃生路线作为不安全逃生路线；根据每一人群密集区域的半径、人员数量、逃生路线的数量和不安全逃生路线的数量，计算所述人群聚集区域的安全逃生指数。在本实施例中，根据肘部法则，确定K-means算法的最佳聚类数量，包括：根据所述人员分布数据，设置若干不同的K值；针对每一K值，运行K-means算法，得到聚类结果，并计算所述聚类结果的性能指标；其中，所述性能指标的计算包括：计算聚类结果的误差平方和、轮廓系数或内部凝聚度；将所有的K值和所对应的聚类结果的性能指标，绘制肘部曲线图；根据所述肘部曲线图，找到性能指标最高的点；其中，所述性能指标最高的点包括：误差平方和最小的点、轮廓系数最大的点或内部凝聚度最大的点；根据所述性能指标最高的点对应的K值，确定K-means算法的最佳聚类数量。针对每一人群聚集区域，根据所述人群聚集的位置以及对应逃生范围内的逃生通道的位置，还结合药品生产厂的建筑设计图纸，利用现有的逃生路线设计方法，设计若干逃生路线。每一人群聚集区域的逃生范围内，可能会有多个逃生通道，针对每一逃生通道可能设计出多条逃生路线。针对每一逃生路线，检测所述逃生路线附近预设距离范围内是否有设备预测风险源或环境预测风险源；如若检测到有设备预测风险源或环境预测风险源，则将该逃生路线作为不安全逃生路线。统计每一人群聚集区域对应的逃生路线和不安全逃生路线的数量，根据每一人群密集区域的半径、人员数量、逃生路线的数量和不安全逃生路线的数量计算所述人群聚集区域的安全逃生指数；所述安全逃生指数计算公式为：；；式中，u表示人群聚集区域的人员分布密度；的P表示人群聚集区域内的人员数量；r表示人群聚集区域的半径；表示安全逃生指数；W表示逃生路线的数量；w表示不安全逃生路线的数量。S4、在所述安全逃生指数高于预设阈值时，进行生产环境风险报警。在本实施例中，安全逃生指数高于预设阈值，间接说明人群聚集区域的人员分布密度过高或者可以实现安全逃生的逃生路线数量过少，这些情况都需要进行生产环境风险报警，通知相关人员进行对人员分布、逃生通道或有风险的设备和车间进行调整。请参照图2，为本发明一实施例提供的一种生产环境安全监测装置的结构示意图，包括：数据获取模块、风险源预测模块、安全逃生指数计算模块以及风险报警模块；其中，所述数据获取模块，用于获取药品生产厂的逃生通道数据，实时获取药品生产厂所有设备的设备运行数据、所有车间的车间环境数据和整个药品生产厂的人员分布数据；所述风险源预测模块，用于根据所述设备运行数据以及训练好的设备风险预测模型，确定设备预测风险源；根据所述车间环境数据以及训练好的环境风险预测模型，确定环境预测风险源；所述安全逃生指数计算模块，用于根据所述逃生通道数据、设备预测风险源、所述环境预测风险源以及所述人员分布数据，计算安全逃生指数；所述风险报警模块，用于在所述安全逃生指数高于预设阈值时，进行生产环境风险报警。实施例三相应地，本发明实施例提供了一种终端设备，所述终端设备包括处理器、存储器以及存储在所述存储器中且被配置为由所述处理器执行的计算机程序，所述处理器执行所述计算机程序时实现上述发明实施例所述的生产环境安全监测方法。实施例四相应地，本发明实施例提供了一种存储介质，所述存储介质包括存储的计算机程序，其中，在所述计算机程序运行时控制所述计算机可读存储介质所在设备执行上述发明实施例所述的生产环境安全监测方法。需说明的是，以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，本发明提供的装置实施例附图中，模块之间的连接关系表示它们之间具有通信连接，具体可以实现为一条或多条通信总线或信号线。本领域普通技术人员在不付出创造性劳动的情况下，即可以理解并实施。所述领域的技术人员可以清楚地了解到，为的方便和简洁，上述描述的装置的具体工作过程，可参考前述方法实施例中对应的过程，在此不再赘述。所述终端设备可以是桌上型计算机、笔记本、掌上电脑及云端服务器等计算设备。所述终端设备可包括，但不仅限于，处理器、存储器。所述处理器可以是中央处理单元，还可以是其他通用处理器、数字信号处理器 、专用集成电路、现成可编程门阵列  或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等，所述处理器是所述设备的控制中心，利用各种接口和线路连接整个设备的各个部分。所述存储器可用于存储所述计算机程序，所述处理器通过运行或执行存储在所述存储器内的计算机程序，以及调用存储在存储器内的数据，实现所述设备的各种功能。所述存储器可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序等；存储数据区可存储根据手机的使用所创建的数据等。此外，存储器可以包括高速随机存取存储器，还可以包括非易失性存储器，例如硬盘、内存、插接式硬盘，智能存储卡，安全数字卡，闪存卡、至少一个磁盘存储器件、闪存器件、或其他易失性固态存储器件。所述存储介质为计算机可读存储介质，所述计算机程序存储在所述计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个方法实施例的步骤。其中，所述计算机程序包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，所述计算机可读介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如在某些司法管辖区，根据立法和专利实践，计算机可读介质不包括电载波信号和电信信号。以上所述是本发明的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也视为本发明的保护范围。
