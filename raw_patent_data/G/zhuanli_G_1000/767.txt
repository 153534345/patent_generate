标题title
单分量磁场定位方法及定位系统
摘要abst
本发明属于磁定位技术领域，涉及单分量磁场定位方法及定位系统，该方法包括以下步骤：采集单分量磁场信号；对磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值；利用幅值和相对位置坐标构建磁定位目标函数；求解磁定位目标函数，获得目标的实际位置的坐标信息；将所述实际位置的坐标信息转化为姿态方位信息。本发明能解决现有磁性目标定位容易受地磁或者非目标磁场的干扰问题。单分量磁场高精度定位方法解决了现有磁定位中采用多个三分量磁探头需要考虑磁探头三轴正交性、灵敏度和零漂不一致问题，定位成本也更低，实用性强，值得推广。
权利要求书clms
1.单分量磁场定位方法，其特征在于，包括以下步骤：采集单分量磁场信号；对磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值；利用幅值和相对位置坐标构建磁定位目标函数；求解磁定位目标函数，获得目标的实际位置的坐标信息；将所述实际位置的坐标信息转化为姿态方位信息。2.根据权利要求1所述的单分量磁场定位方法，其特征在于，采集单分量磁场信号，包括以下步骤：将单分量的磁探头放置在磁场内；预设单分量的磁探头的采样时间周期，利用单分量的磁探头进行间隔采样获得多个电压信号；将多个电压信号对应转换为多个磁场信号。3.根据权利要求2所述的单分量磁场定位方法，其特征在于，利用下式将电压信号转换为磁场信号，M=kV+b；其中，M为磁场信号，V为电压信号，k为灵敏度系数，b为零偏。4.根据权利要求3所述的单分量磁场定位方法，其特征在于，对磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值，包括以下步骤：利用下式构建时域范围内的磁场信号，；利用下式将所述时域范围内的磁场信号离散化，；利用下式对所述的离散化磁场信号做傅里叶反变换，其中，表示为复数形式：/＞则幅度为：；相位为：；根据所述傅里叶反变换，得到对应频点的，即该频率的磁场信号对应的幅值。5.根据权利要求4所述的单分量磁场定位方法，其特征在于，利用下式构建磁定位目标函数：其中，为目标位置点到磁源的距离，/＞、/＞、/＞分别为空间某一目标位置点的三轴坐标，/＞、、/＞分别为磁源中心点的三轴坐标；交变磁偶极子源的辐射磁矩/＞在/＞方向上的磁矩分量，在空间某一目标位置点P1处沿/＞、/＞、/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，交变磁偶极子源的辐射磁矩/＞在/＞方向上的磁矩分量，在空间某一目标位置点P1处沿/＞、/＞、/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，交变磁偶极子源的辐射磁矩/＞在/＞方向上的磁矩分量，在空间某一目标位置点P1处沿/＞、/＞、/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，/＞是交变磁偶极子源的辐射磁矩/＞在空间某一目标位置点P1所产生的磁场信号在/＞方向上的磁场强度。6.根据权利要求5所述的单分量磁场定位方法，其特征在于，求解磁定位目标函数利用最优化求解算法。7.根据权利要求6所述的单分量磁场定位方法，其特征在于，所述最优化求解算法采用信赖域法。8.根据权利要求7所述的单分量磁场定位方法，其特征在于，利用下式将所述实际位置的坐标信息转化为姿态方位信息：其中，为旋转矩阵；,/＞ , /＞分别为理想状态的三维坐标信息, /＞、/＞、/＞分别为实际的三维坐标位置信息, /＞为依次绕/＞轴的旋转角度即横滚角, /＞为依次绕/＞轴旋转角度即俯仰角,为依次绕/＞轴旋转角度即航向角。9.定位系统，其特征在于，基于权利要求8所述方法进行磁定位，包括：单分量的磁探头，用于间隔采样磁场信号获得多个电压信号；数据采集处理模块，与所述磁探头电连接，用于将多个所述电压信号对应转换为多个磁场信号，并将多个所述磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值，利用幅值和相对位置坐标构建磁定位目标函数，求解磁定位目标函数，获得目标的实际位置的坐标信息，将所述实际位置的坐标信息转化为姿态方位信息。10.根据权利要求9所述的定位系统，其特征在于，还包括：信号发生器，用于产生不同频率的正弦信号；功放及驱动部分，与所述信号发生器电连接，用于放大所述正弦信号；三轴正交的磁源，与所述功放及驱动部分电连接，用于在所述功放及驱动部分的作用下，将放大后的所述正弦信号作用在三轴正交的磁源上，产生不同频率的磁场信号。
说明书desc
技术领域本发明属于磁定位技术领域，具体涉及单分量磁场定位方法及定位系统。背景技术磁定位技术由于具有全天候、所需设备简单、信号处理方便等特点，逐渐受到人们的重视。特别是随着磁探头噪声水平越来越低、测量精度越来越高，探测微弱的磁场信号成为可能。利用磁探头探测到的磁场信号进行数据反演，求解出目标的位置信息与运动状态，可广泛应用于资源勘探和军事应用等相关的领域。现有利用单个三分量磁通门传感器实现磁性目标的定位，需要已知交变磁偶极子源的运动速度，其基本的定位思路是：采用单个三分量磁通门传感器采集磁性目标在n个不同时刻点上产生的磁场信号，并构建相应的交变磁偶极子定位问题的目标函数，利用最优化求解算法反演出磁性目标在第n个时刻点相对磁通门传感器的位置。即利用前n-1个时刻点和第n个时刻点的磁场数据，可以定位出第n个时刻点目标相对磁探头的位置。如图1所示假设磁性目标从坐标系的第n-1点运动到第n点处，两者之间的相对位置关系。其中为向量/＞和Z轴正方向的夹角，/＞为向量/＞在XOY面上的投影与X轴正方向的夹角。当目标在点n-1处的坐标值表示为，在点n处的坐标值表示为，且点n-1和点n之间的距离表示为D，则两个测点的坐标值有如下的关系式其中，，/＞。当目标速度已知时，距离D、角度/＞和角度/＞都是固定值。如果得到了第n个点的位置参数/＞，就可以利用上式迭代得到前n-1个点的位置信息。现在的交变磁偶极子源定位方法，普遍使用三分量磁探头测量模式。由于受到加工工艺和安装技术水平的限制，实际应用中三分量磁探头的三轴并不完全正交，三轴之间的灵敏度及其他电气性能也不可能完全一致，而且，由于磁探头内部剩磁等影响，还存在零点漂移，这些因素使得三分量磁探头测量到的磁场值与实际磁场值之间有一个较大的误差。当采用单个三分量磁探头定位时，还需要已知目标源的运动速度且保持不变，而实际场景中，需要定位的目标源的运动速度很难提前获知，即使是合作目标的运动状态也不可能作为已知量一直不变。对于目前交变磁定位方法，普遍采用一个辐射棒作为发射，一个或多个三分量磁场磁探头进行接收，不同磁探头之间存在自身性能不一致的问题。发明内容有鉴于此，本发明提供了单分量磁场定位方法及定位系统，不需要已知交变磁偶极子磁源的运动速度，避免了磁源运动速度变化而带来的定位不准的问题。本发明的技术方案是：单分量磁场定位方法，包括以下步骤：采集单分量磁场信号，对磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值，利用幅值和相对位置坐标构建磁定位目标函数，求解磁定位目标函数，获得目标的实际位置的坐标信息，将所述实际位置的坐标信息转化为姿态方位信息。优选的，采集单分量磁场信号，包括以下步骤：将单分量的磁探头放置在磁场内，预设单分量的磁探头的采样时间周期，利用单分量的磁探头进行间隔采样获得多个电压信号，将多个电压信号对应转换为多个磁场信号。优选的，利用下式将电压信号转换为磁场信号，M=kV+b。其中，M为磁场信号，V为电压信号，k为灵敏度系数，b为零偏。优选的，对磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值，包括以下步骤：利用下式构建时域范围内的磁场信号，。利用下式将所述时域范围内的磁场信号离散化，。利用下式对所述的离散化磁场信号做傅里叶反变换，其中，表示为复数形式：/＞则幅度为：。相位为：。根据所述傅里叶反变换，得到对应频点的，即该频率的磁场信号对应的幅值。优选的，利用下式构建磁定位目标函数：其中，为目标位置点到磁源的距离，/＞、/＞、/＞分别为空间某一目标位置点的三轴坐标，/＞、/＞、/＞分别为磁源中心点的三轴坐标。交变磁偶极子源的辐射磁矩/＞在/＞方向上的磁矩分量/＞，在空间某一目标位置点P1处沿 /＞、/＞、/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，交变磁偶极子源的辐射磁矩/＞在/＞方向上的磁矩分量/＞，在空间某一目标位置点P1处沿/＞、/＞、/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，交变磁偶极子源的辐射磁矩/＞在/＞方向上的磁矩分量/＞，在空间某一目标位置点P1处沿/＞、/＞、/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，/＞是交变磁偶极子源的辐射磁矩/＞在空间某一目标位置点P1所产生的磁场信号在/＞方向上的磁场强度。优选的，求解磁定位目标函数利用最优化求解算法。优选的，所述最优化求解算法采用信赖域法。优选的，利用下式将所述实际位置的坐标信息转化为姿态方位信息：其中，为旋转矩阵。,/＞ , /＞分别为理想状态的三维坐标信息, /＞、/＞、/＞分别为实际的三维坐标位置信息, /＞为依次绕/＞轴的旋转角度即横滚角, /＞为依次绕/＞轴旋转角度即俯仰角,为依次绕/＞轴旋转角度即航向角。定位系统，基于上述方法进行磁定位，包括：单分量的磁探头，用于间隔采样磁场信号获得多个电压信号，数据采集处理模块，与所述磁探头电连接，用于将多个所述电压信号对应转换为多个磁场信号，并将多个所述磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值，利用幅值和相对位置坐标构建磁定位目标函数，求解磁定位目标函数，获得目标的实际位置的坐标信息，将所述实际位置的坐标信息转化为姿态方位信息。优选的，还包括：信号发生器，用于产生不同频率的正弦信号，功放及驱动部分，与所述信号发生器电连接，用于放大所述正弦信号，三轴正交的磁源，与所述功放及驱动部分电连接，用于在所述功放及驱动部分的作用下，将放大后的所述正弦信号作用在三轴正交的磁源上，产生不同频率的磁场信号。与现有技术相比，本发明提供的单分量磁场定位方法及定位系统，采用单分量磁探头的方式，只有一个分量的磁探头，不用考虑三个分量之间正交性、灵敏度和灵偏不一致问题，安装简单，施工方便，成本低廉，首先测得三轴交变磁偶极子磁源的磁矩大小，然后利用单分量磁探头进行目标磁场的采集，通过最优化模型求解可以得到磁探头相对磁源的位置关系，这样对于目标位置的运动状态要求不高，在考虑磁探头测量精度和随机噪声的情况下，仍然可以实现目标的高精度定位。本发明采用三轴正交频率各异的辐射棒作为磁源，可以解决现有磁性目标定位容易受地磁或者非目标磁场的干扰问题。单分量磁场高精度定位方法解决了现有磁定位中采用多个三分量磁探头需要考虑磁探头三轴正交性、灵敏度和零漂不一致问题，定位成本也更低，实用性强，值得推广。附图说明图1为本发明的相邻测点在三维坐标系下的位置图。图2为本发明的有源磁定位系统框图。图3为本发明的解算板软件流程图。图4为本发明的整体磁定位算法软件设计流程。图5为本发明的磁偶极子模型相对位置关系图。图6为本发明的L-M信赖域法流程图。图7为本发明的三轴正交辐射棒和单分量磁探头位置示意图。图8为本发明的单分量磁探头接收到的信号时域图。图9为本发明的单分量磁探头接收到的信号频域图。图10为本发明的 FFT计算的幅度和理论值之间的对比图。图11为本发明的磁性目标的位置信息。图12为本发明的磁性目标的方位信息。具体实施方式本发明提供了单分量磁场定位方法及定位系统，下面结合图2到图12的说明示意图，对本发明进行说明。实施例1如图2所示，本发明提供的定位系统的组成框图，整套有源定位系统包含磁源驱动部分和接收解算部分两部分组成。磁源驱动部分磁源驱动部分主要是用于产生三轴不同频率的磁场，磁源驱动部分的结构包括三轴正交的磁源、功放及驱动部分和信号发生器,信号发生器与功放及驱动部分电连接，功放及驱动部分与三轴正交的磁源电连接。其中，磁源可以优选为辐射棒。实际使用中，信号发生器，用于产生不同频率的正弦信号，功放及驱动部分与信号发生器电连接，用于放大正弦信号，三轴正交的磁源与功放及驱动部分电连接，用于在所述功放及驱动部分的作用下，将放大后的正弦信号作用在三轴正交的磁源上，从而驱动三轴正交的磁源，产生不同频率的磁场信号。接收解算部分接收解算部分用于接收三轴不同频率的磁场的信息，接收解算部分主要包括磁探头、数据采集处理模块，数据采集处理模块与磁探头连接，磁探头为单分量的磁探头，用于间隔采样磁场信号获得多个电压信号，数据采集处理模块与磁探头电连接，用于将多个电压信号对应转换为多个磁场信号，并将多个磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值，利用幅值和相对位置坐标构建磁定位目标函数，求解磁定位目标函数，获得目标的实际位置的坐标信息，将实际位置的坐标信息转化为姿态方位信息。在该过程中磁探头接收不同频率的磁场模拟信号后传递给数据采集处理模块，通过数据采集处理模块中的模数转换芯片将采集的不同频率的模拟信号转化为数字信号，并通过数据采集处理模块内部的处理模块对该数字信号进行处理。接收解算部分的采样受内部的硬件模数转换芯片的采样率的影响，同时满足实时对外输出传感器相对于磁源的位置信息。暂定模数转换芯片的采样率为4K，要满足10Hz的对外输出速率，400点就需要做一次快速傅里叶变换FFT，考虑FFT点数尽量为2的N次幂，同时还需要算法运算时间和实时性，因此可以选择128点或者256点进行FFT，另外考虑信号的频率需要为FFT处理的频率分辨率的整倍数，因此进行如下表1信号频率设计：表1 信号频率设计方案序号1~3就要求驱动电路的频率分辨率可以达到0.01Hz以上，序号4~6频率分辨率达到1Hz以上即可，最终根据实际硬件模数转换芯片的采样率和信号发生器的频率分辨率来决定选择的信号频率。目前采用信号发生器产生不同频率信号，同时考虑实际应用，因此后续的理论仿真采用序号6的信号频率设计方案，尽可能的模拟实际使用过程。接收解算部分软件设计接收解算部分的数据采集处理模块主要由主控微控制单元 、模数转换芯片等调理电路实现，主控MCU选用集成浮点运算单元的Cotex-M7 的ARM架构芯片，模数转换芯片与MCU间的SPI口通信，模数转换芯片采样的数据进行处理后同时集成定位算法，最终与外设基于RS422进行通信。软件基于Keil IDE进行编程，软件整体工作流程图如图3所示。接收解算部分的主控MCU等待启动定位指令，收到开始定位指令后，模数转换芯片开始采集磁探头的磁探头的电压数据，经过电压与磁场的对应关系将电压信号转换为磁场数据，根据磁源固定频率进行FFT处理得到固定频率的磁场数据，利用建立的磁定位目标函数，根据最优化求解算法求出磁探头相对于磁源的位置坐标和方位信息，通过RS422对外送出。以上的固定频率对应的就是中所选择的信号频率。磁定位算法软件设计整个磁定位算法软件流程如图4所示，针对图3 中1~4的详细说明三个相互正交的辐射棒组成的磁源各轴发射不同频率的磁场信号，采集单分量磁场信号，对磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值，利用幅值和相对位置坐标构建磁定位目标函数，求解磁定位目标函数，获得目标的实际位置的坐标信息，将所述实际位置的坐标信息转化为姿态方位信息，最终将实际位置信息和姿态方位信息实时发送出去。具体的，采集单分量磁场信号，包括以下步骤：将单分量的磁探头放置在磁场内，预设单分量的磁探头的采样时间周期，利用单分量磁探头进行间隔采样获得多个电压信号，利用下式将电压信号转换为磁场信号，M=kV+b其中，M为磁场信号，V为电压信号，k为灵敏度系数，b为零偏。具体的，对磁场信号进行快速傅里叶变换，解算出各个频率的磁场信号对应的幅度和相位，获取各个频率的磁场信号对应的幅值，包括以下步骤：利用下式构建时域范围内的磁场信号，利用下式将所述时域范围内的磁场信号离散化，，利用下式对所述的离散化磁场信号做傅里叶反变换，其中，表示为复数形式：/＞则幅度为：相位为：，根据所述傅里叶反变换，得到对应频点的，即该频率的磁场信号对应的幅值。具体的，利用下式构建磁定位目标函数：其中，为目标位置点到磁源的距离，/＞、/＞、/＞分别为空间某一目标位置点的三轴坐标，/＞、/＞、/＞分别为磁源中心点的三轴坐标，交变磁偶极子源的辐射磁矩/＞在/＞方向上的磁矩分量/＞，在空间某一目标位置点P1处沿 /＞、/＞、/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，交变磁偶极子源的辐射磁矩/＞在/＞方向上的磁矩分量/＞，在空间某一目标位置点P1处沿/＞、/＞、/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，交变磁偶极子源的辐射磁矩/＞在/＞方向上的磁矩分量/＞，在空间某一目标位置点P1处沿/＞、/＞、/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，/＞是交变磁偶极子源的辐射磁矩/＞在空间某一目标位置点P1所产生的磁场信号在/＞方向上的磁场强度。具体的，求解磁定位目标函数利用最优化求解算法，最优化求解算法采用信赖域法。具体的，假设理想状态的坐标位置为,实际坐标位置为,假设依次绕/＞轴旋转角度为横滚角/＞,绕/＞轴旋转角度为俯仰角/＞,绕/＞轴旋转角度为航向角/＞，则根据旋转矩阵可得到如下式：为旋转矩阵，根据此式即可解算出三个姿态角，即为姿态方位信息。整个磁定位算法软件部分最关键的就是构造磁定位目标函数和最优化计算，下面详细介绍这两部分。 磁定位目标函数磁定位算法的基本原理是基于交变磁偶极子模型，利用最优化算法获得目标的实际位置信息。如图5所示，采用三轴正交频率各异的辐射棒可作为交变磁偶极子源，位于空间点P，交变磁偶极子源的磁矩作为已知量可以人为规定各轴的大小和频率，交变磁偶极子源形成/＞轴发射频率为/＞、初相位为/＞、/＞轴发射频率为/＞、初相位为/＞ 、/＞轴发射频率为/＞、初相位为/＞的磁场，交变磁偶极子源的辐射磁矩/＞可以标记为其中，，为目标位置点到磁源的距离，/＞为交变磁偶极子源的辐射磁矩/＞在空间某一点P1产生的磁位，/＞为交变磁偶极子源的辐射磁矩/＞在空间某一点P1产生的磁场强度/＞是目标位置点到磁源的矢向量。、/＞、/＞分别为空间某一目标位置点的三轴坐标，/＞、/＞、/＞分别为磁源中心点的三轴坐标。由此可以得到，交变磁偶极子源的辐射磁矩在/＞方向上的磁矩分量，在空间某一目标位置点P1处沿/＞、/＞和/＞三个方向所产生的磁场强度分别为/＞、/＞、/＞，交变磁偶极子源的辐射磁矩在/＞方向上的磁矩分量/＞，在空间某一目标位置点P1处沿/＞、/＞和/＞三个方向所产生的磁场强度分别为/＞、/＞、，交变磁偶极子源的辐射磁矩在/＞方向上的磁矩分量/＞，在空间某一目标位置点P1处沿/＞、/＞和/＞三个方向所产生的磁场强度分别为/＞、、/＞，以上计算所得的磁场强度的单位为 ，若磁场强度的单位为nT，上式在乘以/＞的基础上，还需要再乘以100。采用单分量的磁探头进行接收时，交变磁偶极子源的辐射磁矩/＞在空间某一目标位置点P1所产生的磁场信号可以用在/＞方向上的磁场强度/＞表示为因此我们可以建立如下方程:其中/＞、、/＞为单分量的磁探头接收到的磁场经过FFT处理反算出的实时幅值矩阵。磁性目标的定位问题实际上就是求解下面非线性无约束最优化问题。假设磁探头采集到了m组磁场数据,即为式的/＞，根据磁偶极子模型可将上式统一写为式：其中，是关于目标位置坐标参数/＞即的矩阵，/＞为磁矩矩阵，/＞理论磁场矩阵。现在的问题是求解目标的位置坐标参数/＞，利用最优化求解算法使得磁探头采集点的理论磁场/＞与实际采样的磁场数据/＞偏差最小平方逼近意义下拟合于磁偶极子模拟数据，即求解下面非线性无约束极小化问题： 最优化求解算法最优化求解算法中常用的是L-M算法等，算法的优点是能够高效地处理小和大的残差误差。它特别适用于处理病态问题或者当初始参数估计与最优解相差较大时，缺点是可能会出现解决黑森矩阵不可逆，不满秩或非正定，收敛到局部最小值。为此，本项目引入L-M信赖域法，如图6所示，求解坐标参数矩阵，首先对坐标参数/＞取任意的初值/＞，对以上式的磁目标函数对目标位置坐标即求解梯度和黑森矩阵，判断有关黑森矩阵/＞的矩阵是否正定, /＞为单位矩阵，按照图6中的流程依次调整参数/＞和/＞，使/＞达到最优解。此最优解即为最终求解的目标位置坐标。信赖域法根据实际测试和验证情况选择和修改修正参数，以达到最佳求解效果。理论仿真分析如图7所示，利用matlab根据以上算法进行仿真模型建立，建立以三分量交变磁偶极子源所在位置为原点的坐标系，交变磁偶极子源X轴与传感器方向一致。假设交变磁偶极子源的辐射磁矩为：安培·米平方，则对应式2可知三分量交变磁偶极子源的信号频率分别为32Hz、64Hz、96Hz，初始相位为30°、60°、45°。三轴磁矩幅度为0.05、0.04、0.03。考虑磁探头的采集精度是0.1nT，实际过程中会有噪声，因此在磁探头目标点理论磁场中添加随机噪声，其噪声符合标准正态分布，其均值为1 nT、方差为0.2 nT。利用单分量的磁探头对三轴正交辐射棒辐射的磁场信号进行采集，模数转换芯片的采样率设置为4096Hz。考虑信号的频率最大为96Hz，在一个采样周期内，时间很短，因此预设磁探头在一个采样周期内可以认为静止。以下为了验证算法的有效性，考虑磁探头的运动轨迹以螺线管方式进行运动，采集得到的磁场数据时域图如图8所示，通过采集到的是与数据进行FFT处理得到如图9所示的频域图，可以看出实际采集到的信号有32Hz、64Hz、96Hz的信号。进行反算磁场在对应信号频率32Hz、64Hz、96Hz上的实时幅值和理论值之间的对比图如图10所示，如图Bx代表在目标位置感应到的32Hz的磁场信号的理论值和添加了噪声后计算出来的实时幅值。By代表在目标位置感应到的64Hz的磁场信号的理论值和添加了噪声后计算出来的实时幅值。Bz代表在目标位置感应到的96Hz的磁场信号的理论值和添加了噪声后计算出来的实时幅值。可以看到基本吻合。因此可以利用以上反算出来的三轴实时幅值，建立磁定位目标函数，采用最优化求解算法中的信赖域法对目标的位置信息进行求解，得到磁性目标的位置信息和方位信息如图11和图12所示。可以看出，采用三个相互正交的辐射棒组成的磁源发射三个不同频率的正弦信号，单分量磁探头进行接收，定位求得的位置信息和角度信息都与预设的理论值基本吻合，验证了定位算法的有效性。本发明采用三个相互正交的辐射棒组成的交变磁偶极子源发射三个不同频率的正弦信号，相比于一个辐射棒发射一个频率的正弦信号，每个位置点采集到的磁测信息更丰富，可以采用单分量磁探头在磁矩已知的情况下求解出目标的位置。利用FFT求解出不同频率的相位和幅度，并利用相位正负来判断幅值的正负，相位大于零，幅值为幅度乘以2。相位小于零，幅值为幅度乘以2的负值。可以解决交变磁场信号只利用幅度反演位置出现的不唯一问题。以上公开的仅为本发明的较佳的具体实施例，但是，本发明实施例并非局限于此，任何本领域技术人员能思之的变化都应落入本发明的保护范围。
