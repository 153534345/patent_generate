标题title
一种模温控制方法和相关装置
摘要abst
本申请提供了一种模温控制方法和相关装置，涉及压铸领域，获取压铸生产过程中针对压铸模具拍摄的红外图像，根据红外图像得到压铸模具的真实温度场，根据真实温度场判断压铸生产过程是否存在异常模温，若是，根据真实温度场和目标温度场，得到目标调节参数的调节后参数值，将调节后参数值发送至模温控制系统，以通过模温控制系统将模温设备的目标调节参数调节为调节后参数值，使压铸模具的温度场处于目标温度场的预设范围。本申请能基于红外图像快速发现压铸生产中的异常模温，基于真实温度场得到模温控制系统需要调节的目标调节参数的调节后参数值，使压铸模具的温度精准地控制在目标温度场的预设范围，提高了压铸模具温度控制的准确性和效率。
权利要求书clms
1.一种模温控制方法，其特征在于，包括：获取压铸生产过程中针对压铸模具拍摄的红外图像；根据所述红外图像得到所述压铸模具的三维温度场，作为所述压铸模具的真实温度场；根据所述真实温度场判断所述压铸生产过程是否存在异常模温；若是，则根据所述真实温度场和目标温度场，得到目标调节参数的调节后参数值，其中，所述目标调节参数为影响所述压铸模具的温度值的参数，所述目标温度场是指使所述压铸模具下的铸件满足质量要求的温度场；将所述目标调节参数的调节后参数值发送至模温控制系统，以通过所述模温控制系统将模温设备的所述目标调节参数调节为所述调节后参数值，使得所述压铸模具的温度场处于所述目标温度场的预设范围内。2.根据权利要求1所述的模温控制方法，其特征在于，所述根据所述红外图像得到所述压铸模具的三维温度场，包括：将所述红外图像包含的多个红外子图像进行对齐配准，得到配准后的目标红外图像；提取所述目标红外图像包含的各个预设的关注区域的温度信息；将所述温度信息映射到所述压铸模具的三维模具模型表面，得到所述三维温度场。3.根据权利要求1所述的模温控制方法，其特征在于，所述根据所述真实温度场和目标温度场，得到目标调节参数的调节后参数值，包括：将所述真实温度场和所述目标温度场输入预训练的逆向预测代理模型中，得到模型输出的所述调节后参数值，其中，所述逆向预测代理模型基于预训练的正向预测代理模型得到，所述正向预测代理模型为以标注所述压铸模具的仿真温度场标签的训练参数值、初始温度场和所述压铸模具的三维模具模型的采样点位置为样本数据训练得到，所述训练参数值有多组，每组训练参数值均由所述目标调节参数的参数值组成。4.根据权利要求3所述的模温控制方法，其特征在于，所述正向预测代理模型的训练过程，包括：采用基于CVT的试验设计构建方法得到所述训练参数值；通过CAE超算中心对所述训练参数值进行CAE仿真模拟计算，得到所述训练参数值对应的所述仿真温度场；获取所述压铸模具的三维模具模型的采样点位置和所述压铸模具的初始温度场；将所述训练参数值、所述初始温度场和所述采样点位置作为训练样本，将所述训练参数值对应的所述仿真温度场作为样本标签，基于所述训练样本和所述样本标签训练预构建的神经网络的参数，得到所述正向预测代理模型。5.根据权利要求1所述的模温控制方法，其特征在于，所述根据所述红外图像得到所述压铸模具的三维温度场，包括：通过预训练的分类模型判断所述红外图像是否存在拍摄异常；若否，则根据所述红外图像得到所述三维温度场。6.根据权利要求1所述的模温控制方法，其特征在于，所述根据所述真实温度场判断所述压铸生产过程是否存在异常模温，包括：获取所述压铸模具的多个历史温度场，所述历史温度场为基于所述压铸生产过程中针对所述压铸模具拍摄的历史红外图像得到；根据所述真实温度场和所述多个历史温度场，判断所述压铸生产过程是否存在异常模温。7.根据权利要求1~6任一项所述的模温控制方法，其特征在于，所述将所述目标调节参数的调节后参数值发送至模温控制系统，包括：将所述目标调节参数的调节后参数值和所述真实温度场输入预训练的正向预测代理模型，得到所述调节后参数值对应的预测温度场，其中，所述正向预测代理模型为以标注所述压铸模具的仿真温度场标签的训练参数值、初始温度场和所述压铸模具的三维模具模型的采样点位置为样本数据训练得到，所述训练参数值有多组，每组训练参数值均由所述目标调节参数的参数值组成；判断所述预测温度场是否满足预设的温度场阈值要求，其中，所述预设的温度场阈值要求根据所述目标温度场确定；若是，则将所述调节后参数值发送至所述模温控制系统。8.一种模温控制装置，其特征在于，包括：红外图像获取模块，用于获取压铸生产过程中针对压铸模具拍摄的红外图像；真实温度场确定模块，用于根据所述红外图像得到所述压铸模具的三维温度场，作为所述压铸模具的真实温度场；温度异常判断模块，用于根据所述真实温度场判断所述压铸生产过程是否存在异常模温；调节后参数值确定模块，用于在所述温度异常判断模块确定所述压铸生产过程存在异常模温的情况下，根据所述真实温度场和目标温度场，得到目标调节参数的调节后参数值，其中，所述目标调节参数为影响所述压铸模具的温度值的参数，所述目标温度场是指使所述压铸模具下的铸件满足质量要求的温度场；参数调节模块，用于将所述目标调节参数的调节后参数值发送至模温控制系统，以通过所述模温控制系统将模温设备的所述目标调节参数调节为所述调节后参数值，使得所述压铸模具的温度场处于所述目标温度场的预设范围内。9.一种电子设备，其特征在于，包括存储器和处理器；所述存储器，用于存储程序；所述处理器，用于执行所述程序，实现如权利要求1~7任一项所述的模温控制方法的各个步骤。10.一种可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时，实现如权利要求1~7任一项所述的模温控制方法的各个步骤。
说明书desc
技术领域本申请涉及压铸领域，特别是涉及一种模温控制方法和相关装置。背景技术在压铸生产过程中，压铸模具的模温不平衡会直接导致铸件产生铸造缺陷和变形，严重影响铸件的使用寿命和产品质量。由于技术水平的限制，目前的模温控制工艺决策主要由现场工艺工程师根据多年生产经验来设定，比如对模温设备的冷却回路开启时间、关闭时间、流量及介质温度等参数进行控制。但是，人工经验不足时易造成模温控制的准确性低的问题，并且随着压铸领域广泛应用，大型的压铸件也越来越多，大型压铸模具往往具有数百路水路、油路，其控制的复杂程度远远超出人的经验和认知能力，导致无法通过人工经验对模温进行控制。发明内容有鉴于此，本申请提供了一种模温控制方法和相关装置，用于解决现有技术存在的人工经验不足造成模温控制的准确性低且对大型压铸模具无法通过人工经验进行模温控制的问题，其技术方案如下：一种模温控制方法，包括：获取压铸生产过程中针对压铸模具拍摄的红外图像；根据所述红外图像得到所述压铸模具的三维温度场，作为所述压铸模具的真实温度场；根据所述真实温度场判断所述压铸生产过程是否存在异常模温；若是，则根据所述真实温度场和目标温度场，得到目标调节参数的调节后参数值，其中，所述目标调节参数为影响所述压铸模具的温度值的参数，所述目标温度场是指使所述压铸模具下的铸件满足质量要求的温度场；将所述目标调节参数的调节后参数值发送至模温控制系统，以通过所述模温控制系统将模温设备的所述目标调节参数调节为所述调节后参数值，使得所述压铸模具的温度场处于所述目标温度场的预设范围内。可选的，所述根据所述红外图像得到所述压铸模具的三维温度场，包括：将所述红外图像包含的多个红外子图像进行对齐配准，得到配准后的目标红外图像；提取所述目标红外图像包含的各个预设的关注区域的温度信息；将所述温度信息映射到所述压铸模具的三维模具模型表面，得到所述三维温度场。可选的，所述根据所述真实温度场和目标温度场，得到目标调节参数的调节后参数值，包括：将所述真实温度场和所述目标温度场输入预训练的逆向预测代理模型中，得到模型输出的所述调节后参数值，其中，所述逆向预测代理模型基于预训练的正向预测代理模型得到，所述正向预测代理模型为以标注所述压铸模具的仿真温度场标签的训练参数值、初始温度场和所述压铸模具的三维模具模型的采样点位置为样本数据训练得到，所述训练参数值有多组，每组训练参数值均由所述目标调节参数的参数值组成。可选的，所述正向预测代理模型的训练过程，包括：采用基于CVT的试验设计构建方法得到所述训练参数值；通过CAE超算中心对所述训练参数值进行CAE仿真模拟计算，得到所述训练参数值对应的所述仿真温度场；获取所述压铸模具的三维模具模型的采样点位置和所述压铸模具的初始温度场；将所述训练参数值、所述初始温度场和所述采样点位置作为训练样本，将所述训练参数值对应的所述仿真温度场作为样本标签，基于所述训练样本和所述样本标签训练预构建的神经网络的参数，得到所述正向预测代理模型。可选的，所述根据所述红外图像得到所述压铸模具的三维温度场，包括：通过预训练的分类模型判断所述红外图像是否存在拍摄异常；若否，则根据所述红外图像得到所述三维温度场。可选的，所述根据所述真实温度场判断所述压铸生产过程是否存在异常模温，包括：获取所述压铸模具的多个历史温度场，所述历史温度场为基于所述压铸生产过程中针对所述压铸模具拍摄的历史红外图像得到；根据所述真实温度场和所述多个历史温度场，判断所述压铸生产过程是否存在异常模温。可选的，所述将所述目标调节参数的调节后参数值发送至模温控制系统，包括：将所述目标调节参数的调节后参数值和所述真实温度场输入预训练的正向预测代理模型，得到所述调节后参数值对应的预测温度场，其中，所述正向预测代理模型为以标注所述压铸模具的仿真温度场标签的训练参数值、初始温度场和所述压铸模具的三维模具模型的采样点位置为样本数据训练得到，所述训练参数值有多组，每组训练参数值均由所述目标调节参数的参数值组成；判断所述预测温度场是否满足预设的温度场阈值要求，其中，所述预设的温度场阈值要求根据所述目标温度场确定；若是，则将所述调节后参数值发送至所述模温控制系统。一种模温控制装置，包括：红外图像获取模块，用于获取压铸生产过程中针对压铸模具拍摄的红外图像；真实温度场确定模块，用于根据所述红外图像得到所述压铸模具的三维温度场，作为所述压铸模具的真实温度场；温度异常判断模块，用于根据所述真实温度场判断所述压铸生产过程是否存在异常模温；调节后参数值确定模块，用于在所述温度异常判断模块确定所述压铸生产过程存在异常模温的情况下，根据所述真实温度场和目标温度场，得到目标调节参数的调节后参数值，其中，所述目标调节参数为影响所述压铸模具的温度值的参数，所述目标温度场是指使所述压铸模具下的铸件满足质量要求的温度场；参数调节模块，用于将所述目标调节参数的调节后参数值发送至模温控制系统，以通过所述模温控制系统将模温设备的所述目标调节参数调节为所述调节后参数值，使得所述压铸模具的温度场处于所述目标温度场的预设范围内。一种电子设备，包括存储器和处理器；所述存储器，用于存储程序；所述处理器，用于执行所述程序，实现如上述任一项所述的模温控制方法的各个步骤。一种可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时，实现如上述任一项所述的模温控制方法的各个步骤。经由上述的技术方案可知，本申请提供的模温控制方法，获取压铸生产过程中针对压铸模具拍摄的红外图像，根据红外图像得到压铸模具的三维温度场，作为压铸模具的真实温度场，根据真实温度场判断压铸生产过程是否存在异常模温，若是，则根据真实温度场和目标温度场，得到目标调节参数的调节后参数值，将目标调节参数的调节后参数值发送至模温控制系统，以通过模温控制系统将模温设备的目标调节参数调节为调节后参数值，使得压铸模具的温度场处于目标温度场的预设范围内。由此可见，本申请能够将红外成像技术与模温控制系统结合，基于红外图像能够快速发现压铸生产中的异常模温，再基于真实温度场得到模温控制系统需要调节的目标调节参数的调节后参数值，使得压铸模具的温度能够精准地控制在目标温度场的预设范围内，提高了压铸模具温度控制的准确性和效率。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本申请实施例提供的一种模温控制方法的流程示意图；图2为二维设计空间内由CVT构建的含50个样本点的DOE的示意图；图3为正向预测代理模型的结构示意图；图4为正向预测代理模型在模温仿真的测试集上的预测单点最大相对误差分布图；图5为压铸模具上需要调节参数的管路的示意图；图5为真实仿真结果示意图；图5为正向预测代理模型预测结果示意图；图5为正向预测代理模型预测结果与真实仿真结果形成的误差分布图；图6为本申请实施例提供的一种模温控制装置的结构示意图；图7为本申请实施例提供的一种电子设备的硬件结构框图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请提供了一种模温控制方法，接下来通过下述实施例对本申请提供的模温控制方法进行详细介绍。请参阅图1，示出了本申请实施例提供的模温控制方法的流程示意图，该模温控制方法可以包括：步骤S101、获取压铸生产过程中针对压铸模具拍摄的红外图像。这里，红外图像为利用红外成像技术拍摄出的图像。上述“压铸生产过程中针对压铸模具拍摄的红外图像”具体是指通过压铸模具在压铸生产过程中得到铸件的过程中拍摄出的红外图像，可选的，该红外图像可以通过红外相机设备拍摄得到。可选的，在上述压铸生产的过程中可以从不同角度、不同时间点拍摄多个红外子图像，由多个红外子图像作为本步骤中的红外图像。步骤S102、根据红外图像得到压铸模具的三维温度场，作为压铸模具的真实温度场。具体的，本实施例可以对红外图像进行解析，通过提取红外图像包含的各关注区域的温度信息并进行一定的处理，得到压铸模具的三维温度场，该三维温度场即为压铸模具的真实温度场。在一可选实施例中，本步骤“根据红外图像得到压铸模具的三维温度场”的过程具体可以包括：将红外图像配准并映射到三维模具模型表面，得到三维温度场。更具体地说，本步骤是将红外图像包含的多个红外子图像进行对齐配准，得到配准后的目标红外图像，提取目标红外图像包含的各个预设的关注区域的温度信息，将提取的温度信息映射到压铸模具的三维模具模型表面，得到三维温度场。上述对齐配准是为了将不同视角、不同时间点的多个红外子图像对齐，以便于后续的分析和比较，映射则是在配准后，将提取的各个区域的温度信息映射到三维模具模型表面，从而形成三维温度场。通过在监控界面查看映射后的三维温度场可以直观地了解压铸模具的温度分布情况，从而对压铸模具的性能和状态进行评估。可选的，上述配准和映射过程可以通过预训练的分割模型实现，该分割模型可以对红外图像包含的多个红外子图像分别进行图像处理和特征提取，并基于提取的特征进行配准和映射，得到三维温度场。步骤S103、根据真实温度场判断压铸生产过程是否存在异常模温。应当理解，压铸模具的结构比较复杂，如背景技术中的介绍，大型压铸模具往往具有数百路水路、油路，一旦压铸模具的至少一个管路的温度出现异常，很容易因压铸模具的模温不平衡导致铸件产生铸造缺陷和变形，严重影响铸件的使用寿命和产品质量。为此，本实施例可以基于真实温度场判别压铸生产过程是否存在异常模温。在本实施例中，将压铸模具压铸出一个铸件的过程作为一个循环，则真实温度场是一个循环下得到的温度场，考虑到再压铸生产的过程中可能出现一些突发情况导致仅一个循环的温度场出现异常，进而导致基于一个循环的温度场得出的判断结论出现错误。为了确保本步骤的判断结论准确无误，可选的，本实施例还可以基于真实温度场以及历史循环下的历史温度场判断压铸生产过程是否存在异常模温。基于此，本步骤“根据真实温度场判断压铸生产过程是否存在异常模温”的过程还可以包括：获取压铸模具的多个历史温度场，历史温度场为基于压铸生产过程中针对压铸模具拍摄的历史红外图像得到；根据真实温度场和多个历史温度场，判断压铸生产过程是否存在异常模温。可选的，“根据真实温度场和多个历史温度场，判断压铸生产过程是否存在异常模温”的过程进一步可以包括：根据真实温度场和多个历史温度场，得到压铸模具的温度场变化趋势曲线，若温度场变化趋势曲线下的温度变化趋势超出预设的阈值限，则判断压铸生产过程存在异常模温；和/或，判断真实温度场和多个历史温度场分别包含的监控点温度是否均大于预设阈值，若是，则判断压铸生产过程存在异常模温。例如，若真实温度场和5个历史温度场分别包含的监控点温度均大于预设阈值，则确定压铸生产过程存在异常模温，否则，确定压铸生产过程不存在异常模温。在本实施例中，当确定出压铸生产过程存在异常模温时，可选的，还可以进行异常定位，即确定温度异常点，以便于后续分析和处理。步骤S104、若是，则根据真实温度场和目标温度场，得到目标调节参数的调节后参数值。具体的，在真实温度场下压铸生产过程存在异常模温，导致铸件不满足质量要求，为了消除异常模温，使铸件满足质量要求，本实施例可以首先确定出使铸件满足质量要求的目标温度场，然后再基于真实温度场和目标温度场之间的差异，确定出目标调节参数的调节后参数值。这里，目标调节参数为影响压铸模具的温度值的参数，可以通过调节模温设备的目标调节参数的参数值，来达到控制模温的目的；目标温度场是指使压铸模具下的铸件满足质量要求的温度场。上述调节后参数值用于使压铸生产过程中存在的温度异常点恢复正常，即，使压铸模具的温度场回到目标温度场附近。在一可选实施例中，为了能够确定出目标调节参数都包含哪些参数，可以预先导入压铸模具的数据模型，并使数据模型关联模温控制系统，以便确定出目标调节参数包含的参数，此外，还可以确定出目标调节参数与模温模冷机、水温机等模温设备之间的关联关系，便于后续模温控制系统对模温设备进行控制。以压铸模具包含14根管路，分别为8根循环管以及6根点冷管为例进行研究，本案发明人发现14根管路各自的温度以及6根点冷管各自的水通断时间对压铸模具的模温的影响程度较大，为此，可选的，本实施例中的目标调节参数包括：14根管路各自的温度以及6根点冷管各自的水通断时间。在本实施例中，目标调节参数具有一定的参数范围，例如，上述20个参数各自的参数范围如下表所示。目标调节参数参数调节范围循环管1温度20-200……循环管8温度20-200点冷管1温度20-200……点冷管6温度20-200点冷管1水通断时间2-100……点冷管6水通断时间2-100可选的，在实际应用中，上述14根管路各自的温度，以及6根点冷管各自的水通断时间可以通过三维瞬态模温求解器进行设置。需要说明的是，上述表中的目标调节参数仅为示例，不作为对本申请的限定。步骤S105、将目标调节参数的调节后参数值发送至模温控制系统，以通过模温控制系统将模温设备的目标调节参数调节为调节后参数值，使得压铸模具的温度场处于目标温度场的预设范围内。具体的，可以将目标调节参数的调节后参数值发送至模温控制系统，以便模温控制系统将模温设备的目标调节参数设置为调节后参数值，理论情况下，当模温设备的目标调节参数设置为调节后参数值后，压铸模具的温度场应当为目标温度场，但是实际应用中，可能会出现偏差，因此，在本实施例中，当模温设备的目标调节参数设置为调节后参数值后，压铸模具的温度场会处于目标温度场的预设范围内。本申请提供的模温控制方法，获取压铸生产过程中针对压铸模具拍摄的红外图像，根据红外图像得到压铸模具的三维温度场，作为压铸模具的真实温度场，根据真实温度场判断压铸生产过程是否存在异常模温，若是，则根据真实温度场和目标温度场，得到目标调节参数的调节后参数值，将目标调节参数的调节后参数值发送至模温控制系统，以通过模温控制系统将模温设备的目标调节参数调节为调节后参数值，使得压铸模具的温度场处于目标温度场的预设范围内。由此可见，本申请能够将红外成像技术与模温控制系统结合，基于红外图像能够快速发现压铸生产中的异常模温，再基于真实温度场得到模温控制系统需要调节的目标调节参数的调节后参数值，使得压铸模具的温度能够精准地控制在目标温度场的预设范围内，提高了压铸模具温度控制的准确性和效率。在本申请的一些实施例中，对前述步骤S104“根据真实温度场和目标温度场，得到目标调节参数的调节后参数值”的过程进行介绍。在一种可能的实现方式中，可以比较真实温度场和目标温度场之间的差异，根据差异得到目标调节参数的调节后参数值。考虑到上述“根据差异得到目标调节参数的调节后参数值”的过程比较复杂，效率偏低。为了能够更快速地得到调节后参数值，本申请实施例训练了双向秒级预测代理模型，该双向秒级预测代理模型为模温控制系统中的核心模型，可以实现模温-目标调节参数关联的预测计算。具体来说，双向秒级预测代理模型包括逆向预测代理模型和正向预测代理模型，其中，逆向预测代理模型用于基于真实温度场和目标温度场得到调节后参数值，正向预测代理模型用于基于真实温度场和调节后参数值预测得到预测温度场，该预测温度场与目标温度场相对应，均为使压铸模具下的铸件满足质量要求的温度场。在本申请实施例中，可以先训练正向预测代理模型，然后再基于预训练的正向预测代理模型通过强化学习方法得到逆向预测代理模型。这里，正向预测代理模型为以标注压铸模具的仿真温度场标签的训练参数值、初始温度场和压铸模具的三维模具模型的采样点位置为样本数据训练得到，训练参数值有多组，每组训练参数值均由目标调节参数的参数值组成。具体的，正向预测代理模型的训练过程可以包括：采用基于CVT的试验设计构建方法得到训练参数值；通过CAE超算中心对训练参数值进行CAE仿真模拟计算，得到训练参数值对应的仿真温度场；获取压铸模具的三维模具模型的采样点位置和压铸模具的初始温度场；将训练参数值、初始温度场和采样点位置作为训练样本，将训练参数值对应的仿真温度场作为样本标签，基于训练样本和样本标签训练预构建的神经网络的参数，得到正向预测代理模型。本实施例采用DOE是为了生成能够用于正向预测代理模型训练的样本，即将影响压铸模具温度的所有参数因子梳理出来，形成一个含有所有参数因子的组合，即形成目标调节参数。鉴于计算机仿真的黑盒子属性，DOE生成的重点在于能够尽可能地让样本在设计空间内均匀分布。为了达成这一目的，本实施例使用了基于CVT的DOE构建方法。上述CVT旨在通过沃罗诺伊图的方式把设计空间等分，DOE的样本点就选在每个单元的重心上。例如，图2为二维设计空间内由CVT构建的含50个样本点的DOE的示意图，其展示了在二维设计空间内由CVT构建的含有50个样本点的DOE。具体到本实施例，可以采用基于CVT的DOE构建方法得到训练参数值。由于模型训练需要大量的训练数据，为此，训练参数值需要有多组，每组训练参数值均由目标调节参数的参数值组成。以上述目标调节参数包括14根管路各自的温度和6根点冷管各自的水通断时间为例，每组训练参数值包括上述的20个参数值。可选的，本实施例可以通过基于CVT的DOE构建方法生成12000个样本的DOE，也即生成12000组训练参数值。进一步，本实施例可以通过CAE超算中心对各组训练参数值逐一进行CAE仿真模拟计算，每组训练参数值经过CAE计算，都会得到一个温度场计算结果，为了区分，本实施例将得到的温度场计算结果作为训练参数值对应的仿真温度场。对于模温仿真，还需要设置初始温度场，该初始温度场可以是压铸模具的真实温度场，这里的真实温度场可以与上述步骤S102中的真实温度场相同，也可以不同。此外，还需要获取压铸模具的三维模具模型的采样点位置。那么，本实施例可以将训练参数值、初始温度场和采样点位置作为训练样本，将训练参数值对应的仿真温度场作为样本标签，通过训练得到正向预测代理模型。可选的，正向预测代理模型可以为“解码器”类型的神经元网络结构，参见图3，为本实施例提供的一种正向预测代理模型的结构示意图。本实施例可以将初始温度场和训练参数值作为图3所示的输入到分支网络中，将采样点位置作为图3所示输入到主干网络，则分支网络和主干网络的输出/＞即为正向预测代理模型输出的预测温度场。进一步，计算预测温度场和仿真温度场之间的损失，并基于计算的损失训练预构建的神经网络的参数，可以得到本实施例中的正向预测代理模型。为了确保正向预测代理模型的计算准确性，以上述12000组训练参数值为例，可以将12000组训练参数值以及对应的仿真温度场随机划分为训练集和测试集，训练集用于按照上述训练过程训练出正向预测代理模型，预训练的正向预测代理模型在测试集上进行验证，验证统计信息如图4所示，图4为正向预测代理模型在模温仿真的测试集上的预测单点最大相对误差分布图，经过训练后的正向预测代理模型在模温仿真的测试集上的预测相对误差在1%以内。再参照图5~图5所示，图5为压铸模具上需要调节参数的管路的示意图，图5为真实仿真结果示意图，图5为正向预测代理模型预测结果示意图，图5为正向预测代理模型预测结果与真实仿真结果形成的误差分布图。在图5中，黑色管路为需要调节参数的管路，即温度异常点，以图5为仿真对象，通过CAE超算中心得到的真实仿真结果如图5所示，而以图5为模型预测对象，通过上述预训练的正向预测代理模型计算出的预测结果如图5所示，可见，从肉眼上几乎无法分辨图5和图5，即正向预测代理模型能够达到与CAE仿真近乎相同的效果，证明了正向预测代理模型预测结果的准确性。若将图5和图5作差，差值结果如图5所示，可见，两者仅在个别地方存在差距不大的相对误差，多数地方的相对误差都接近于0。应当理解，模型的计算速度很快，可以在秒级内计算出结果，因此，相比于CAE仿真，本实施例提供正向预测代理模型，可以在保证准确度的情况下，大大提高得到压铸模具的预测温度场的速度，提高了效率。在上述正向预测代理模型的基础上，可以通过正向预测代理模型的输入输出数据训练得到逆向预测代理模型，此后，本实施例可以将真实温度场和目标温度场输入预训练的逆向预测代理模型中，得到模型输出的调节后参数值。由于正向预测代理模型的预测结果的准确性较高，使得本实施例可以训练出结果同样准确的逆向预测代理模型，通过该逆向预测代理模型计算调节后参数值，使得调节后参数值更准确。在本申请的另一些实施例中，对前述步骤S102“根据红外图像得到压铸模具的三维温度场”的过程进行介绍。应当理解，红外相机设备拍摄红外图像时，可能会由于拍摄人抖动、外部光照等情况导致红外图像存在拍摄异常，如图像模糊等异常。为了避免因拍摄异常导致步骤S103在判断异常模温时出现判断错误，本实施例可以在步骤S103判断异常模温前，先识别红外图像是否存在拍摄异常，也即，“根据红外图像得到压铸模具的三维温度场”的过程可以包括：通过预训练的分类模型判断红外图像是否存在拍摄异常，若否，则根据红外图像得到三维温度场。可选的，分类模型为以训练图像为训练样本，以标注的训练图像是否存在拍摄异常的结果为样本标签训练得到；或，分类模型为以训练图像为训练样本，以标注的训练图像存在的拍摄异常类型为样本标签训练得到。这里，训练图像也为红外图像，其获取方式与步骤S101中的红外图像的获取方式相同，在此不再赘述。可选的，分类模型为Resnet残差神经网络结构。即，本实施例通过分类模型进行红外图像与无拍摄异常的标准图像的相似度计算，以识别出红外图像是否存在拍摄异常，更优的，若红外图像存在拍摄异常，可以通过分类模型识别出红外图像存在哪种类型的拍摄异常。若红外图像不存在拍摄异常，那么可以按照步骤S102得到三维温度场。反之，若红外图像存在拍摄异常，本实施例可以进行系统报警提示，此外，可以不再使用压铸模具生产铸件，以免出现未能及时发现的铸件质量问题。本实施例通过拍摄异常判别步骤，可以尽量避免因拍摄异常导致步骤S103出现判断异常，能够在一定程度上避免因模温控制错误导致的铸件质量问题，提高了铸件生产效率，确保了铸件产品质量。为了进一步验证步骤S104得到的调节后参数值的准确性，提供了本实施例。具体的，本实施例“将目标调节参数的调节后参数值发送至模温控制系统”的过程可以包括：将目标调节参数的调节后参数值和真实温度场输入预训练的正向预测代理模型，得到调节后参数值对应的预测温度场，判断调节后参数值对应的预测温度场是否满足预设的温度场阈值要求，若是，则将调节后参数值发送至模温控制系统。这里，预设的温度场阈值要求根据目标温度场确定。本实施例中的正向预测代理模型与前文实施例中的正向预测代理模型相同，详细可参照前文介绍，在此不再赘述。由于正向预测代理模型的预测结果准确度很高，本实施例可以利用这一特性通过正向预测代理模型反向验证目标调节参数的准确性，若将目标调节参数的调节后参数值和真实温度场输入正向预测代理模型后，模型输出的调节后参数值对应的预测温度场满足预设的温度场阈值要求，即调节后参数值对应的预测温度场与目标温度场接近，那么可以确定调节后参数值符合预期，此后可以将调节后参数值发送至模温控制系统进行模温控制。优选的，上述输入正向预测代理模型的真实温度场除包括步骤S102中的真实温度场外，还可以使压铸模具再生产多个铸件，并在生产过程中拍摄红外图像，以再得到4个真实温度场。那么若该4个真实温度场以及步骤S102中的真实温度场分别输入正向预测代理模型后，模型输出的预测温度场均满足预设的温度场阈值要求，则可以将调节后参数值发送至模温控制系统进行模温控制。在上述本申请实施例中，通过正向预测代理模型对调节后参数值进行校验，进一步确保了调节后参数值的准确性，进而确保了精准的模温控制。通过本实施例，能够更好地把握压铸模具的温度变化，提升生产效率，提高了铸件产品质量。在一可选实施例中，本实施例还可以将每次拍摄的红外图像、识别到的模温异常点位置、全图及分区的平均温度、最高温度、最低温度、目标温度场、目标调节参数的调节后参数值等数据进行整理和打包；其中，红外图像、模温异常点位置、全图及分区的平均温度、最高温度、最低温度等数据需要以图像或数值的形式进行打包，目标温度场需要包含各点位的温度阈值上下限及分区信息，这些信息以文本或表格的形式进行打包。打包完成后，需要定期将这些数据自动上传至数据库，并与数据库中的其他数据进行整合和关联，以便后续的数据分析和处理。此外，上述上传至数据库的数据还可以用于更新双向秒级预测代理模型、分割模型、分类模型等本申请使用到的模型，使得这些模型可以更准确。本申请实施例还提供了一种模温控制装置，下面对本申请实施例提供的模温控制装置进行描述，下文描述的模温控制装置与上文描述的模温控制方法可相互对应参照。请参阅图6，示出了本申请实施例提供的模温控制装置的结构示意图，如图6所示，该模温控制装置可以包括：红外图像获取模块601、真实温度场确定模块602、温度异常判断模块603、调节后参数值确定模块604和参数调节模块605。红外图像获取模块601，用于获取压铸生产过程中针对压铸模具拍摄的红外图像。真实温度场确定模块602，用于根据红外图像得到压铸模具的三维温度场，作为压铸模具的真实温度场。温度异常判断模块603，用于根据真实温度场判断压铸生产过程是否存在异常模温。调节后参数值确定模块604，用于在温度异常判断模块确定压铸生产过程存在异常模温的情况下，根据真实温度场和目标温度场，得到目标调节参数的调节后参数值，其中，目标调节参数为影响压铸模具的温度值的参数，目标温度场是指使压铸模具下的铸件满足质量要求的温度场。参数调节模块605，用于将目标调节参数的调节后参数值发送至模温控制系统，以通过模温控制系统将模温设备的目标调节参数调节为调节后参数值，使得压铸模具的温度场处于目标温度场的预设范围内。在一种可能的实现方式中，上述真实温度场确定模块根据红外图像得到压铸模具的三维温度场的过程可以包括：将红外图像包含的多个红外子图像进行对齐配准，得到配准后的目标红外图像；提取目标红外图像包含的各个预设的关注区域的温度信息；将温度信息映射到压铸模具的三维模具模型表面，得到三维温度场。在一种可能的实现方式中，上述调节后参数值确定模块根据真实温度场和目标温度场，得到目标调节参数的调节后参数值的过程可以包括：将真实温度场和目标温度场输入预训练的逆向预测代理模型中，得到模型输出的调节后参数值，其中，逆向预测代理模型基于预训练的正向预测代理模型得到，正向预测代理模型为以标注压铸模具的仿真温度场标签的训练参数值、初始温度场和压铸模具的三维模具模型的采样点位置为样本数据训练得到，训练参数值有多组，每组训练参数值均由目标调节参数的参数值组成。在一种可能的实现方式中，上述调节后参数值确定模块中正向预测代理模型的训练过程可以包括：采用基于CVT的试验设计构建方法得到训练参数值；通过CAE超算中心对训练参数值进行CAE仿真模拟计算，得到训练参数值对应的仿真温度场；获取压铸模具的三维模具模型的采样点位置和压铸模具的初始温度场；将训练参数值、初始温度场和采样点位置作为训练样本，将训练参数值对应的仿真温度场作为样本标签，基于训练样本和样本标签训练预构建的神经网络的参数，得到正向预测代理模型。在一种可能的实现方式中，上述真实温度场确定模块根据红外图像得到压铸模具的三维温度场的过程可以包括：通过预训练的分类模型判断红外图像是否存在拍摄异常；若否，则根据红外图像得到三维温度场。在一种可能的实现方式中，上述温度异常判断模块根据真实温度场判断压铸生产过程是否存在异常模温的过程可以包括：获取压铸模具的多个历史温度场，历史温度场为基于压铸生产过程中针对压铸模具拍摄的历史红外图像得到；根据真实温度场和多个历史温度场，判断压铸生产过程是否存在异常模温。在一种可能的实现方式中，上述参数调节模块将目标调节参数的调节后参数值发送至模温控制系统的过程可以包括：将目标调节参数的调节后参数值和真实温度场输入预训练的正向预测代理模型，得到调节后参数值对应的预测温度场，其中，正向预测代理模型为以标注压铸模具的仿真温度场标签的训练参数值、初始温度场和压铸模具的三维模具模型的采样点位置为样本数据训练得到，训练参数值有多组，每组训练参数值均由目标调节参数的参数值组成；判断预测温度场是否满足预设的温度场阈值要求，其中，预设的温度场阈值要求根据目标温度场确定；若是，则将调节后参数值发送至模温控制系统。本申请实施例还提供了一种电子设备。可选的，图7示出了电子设备的硬件结构框图，参照图7，该电子设备的硬件结构可以包括：至少一个处理器1，至少一个通信接口2，至少一个存储器3和至少一个通信总线4；在本申请实施例中，处理器1、通信接口2、存储器3、通信总线4的数量为至少一个，且处理器1、通信接口2、存储器3通过通信总线4完成相互间的通信；处理器1可能是一个中央处理器CPU，或者是特定集成电路ASIC，或者是被配置成实施本发明实施例的一个或多个集成电路等；存储器3可能包含高速RAM存储器，也可能还包括非易失性存储器等，例如至少一个磁盘存储器；其中，存储器3存储有程序，处理器1可调用存储器3存储的程序，所述程序用于：获取压铸生产过程中针对压铸模具拍摄的红外图像；根据红外图像得到压铸模具的三维温度场，作为压铸模具的真实温度场；根据真实温度场判断压铸生产过程是否存在异常模温；若是，则根据真实温度场和目标温度场，得到目标调节参数的调节后参数值，其中，目标调节参数为影响压铸模具的温度值的参数，目标温度场是指使压铸模具下的铸件满足质量要求的温度场；将目标调节参数的调节后参数值发送至模温控制系统，以通过模温控制系统将模温设备的目标调节参数调节为调节后参数值，使得压铸模具的温度场处于目标温度场的预设范围内。可选的，所述程序的细化功能和扩展功能可参照上文描述。本申请实施例还提供一种可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时，实现如上述模温控制方法。可选的，所述程序的细化功能和扩展功能可参照上文描述。最后，还需要说明的是，在本文中，诸如和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本申请。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本申请的精神或范围的情况下，在其它实施例中实现。因此，本申请将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
