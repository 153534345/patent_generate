标题title
一种基于数字孪生的大型船舶航行运动学模型构建方法
摘要abst
本发明公开了一种基于数字孪生的大型船舶航行运动学模型构建方法，所述方法包括：建立船舶航行的数字孪生模型，分析异构要素影响作用条件下的船舶摇摆能谱；通过谱分析方法，分析自然频率下和遭遇频率下的船舶摇摆能谱；将异构要素影响作用条件下的船舶摇摆能谱叠加到遭遇频率下的船舶摇摆能谱上，得到规则波对船舶摇摆影响的运动方程；叠加多个规则波对船舶摇摆影响的运动方程，计算不规则波下的船舶摇摆能谱函数；将船舶摇摆运动坐标转换到大地坐标系下，求解船舶航行运动方程，实时调整船舶的位置和姿态，基于数字孪生模型进行运动仿真。
权利要求书clms
1.一种基于数字孪生的大型船舶航行运动学模型构建方法，其特征在于，所述方法包括：建立船舶航行的数字孪生模型，分析异构要素影响作用条件下的船舶摇摆能谱；通过谱分析方法，分析自然频率下和遭遇频率下的船舶摇摆能谱；将异构要素影响作用条件下的船舶摇摆能谱叠加到遭遇频率下的船舶摇摆能谱上，得到规则波对船舶摇摆影响的运动方程；叠加多个规则波对船舶摇摆影响的运动方程，计算不规则波下的船舶摇摆能谱函数；将船舶摇摆运动坐标转换到大地坐标系下，求解船舶航行运动方程，实时调整船舶的位置和姿态，基于数字孪生模型进行运动仿真。2.根据权利要求1所述的基于数字孪生的大型船舶航行运动学模型构建方法，其特征在于，所述异构要素影响作用条件包括航向、航速、浪速和外界作用力对船舶扰动频率的影响。3.根据权利要求2所述的基于数字孪生的大型船舶航行运动学模型构建方法，其特征在于，所述遭遇频率下的船舶摇摆能谱为：其中，sr′为遭遇频率下纵摇角的船舶摇摆能谱密度函数，sθ′为遭遇频率下横摇角的船舶摇摆能谱密度函数，sz为遭遇频率下首摇角的船舶摇摆能谱密度函数，s为自然频率下的船舶摇摆能谱，s为遭遇频率下的船舶摇摆能谱密度函数，r′a为纵摇角，θ′a横摇角，za首摇角，ξa为摇摆角，w0为自然频率，we为遭遇频率，v为摇摆的线速度，μ为浪向角。4.根据权利要求1所述的基于数字孪生的大型船舶航行运动学模型构建方法，其特征在于，所述叠加多个规则波对船舶摇摆影响的运动方程之前还包括：基于海浪谱经验公式，分析单元规则波对船体造成的摇摆，采用如下公式对单元波幅值和船舶船行因子进行计算：ξn＝ancosYn＝Yyξcos其中，an为单元规则波幅值，wn为单元规则波的频率，εn单元规则波的相位角，在0-2π间随机变化，ξn为单元规则波幅函数；Yn为单元规则波的影响下的船舶摇摆的波幅函数，Yyξ为船舶航行因子。5.根据权利要求4所述的基于数字孪生的大型船舶航行运动学模型构建方法，其特征在于，所述计算不规则波下的船舶摇摆能谱函数的公式为：其中，Syξ为不规则波下的船舶摇摆能谱函数，w是波浪频率，Δw为某一段波浪频率的微分，yn为不规则波波幅函数的函数值。6.根据权利要求5所述的基于数字孪生的大型船舶航行运动学模型构建方法，其特征在于，所述将船舶摇摆运动坐标转换到大地坐标系下，求解船舶航行运动方程，实时调整船舶的位置和姿态具体包括：根据不规则波下的船舶摇摆能谱函数跟踪船舶的摇摆角度；将船舶的摇摆角度由动坐标转换到随船坐标系下，再由随船坐标系下转换到大地坐标系下；计算船舶摇摆的形心坐标，根据形心坐标和重心计算得到船舶的回复力矩和所受到的波浪入射力；采用龙格库塔方法在时域内求解横摇、纵摇、首摇、横荡、纵荡、垂荡运动微分方程；分别判断实时的横摇、纵摇、首摇、横荡、纵荡或垂荡运动幅度设否大于对应的设定阈值，若是，调整船舶运动位置和姿态以降低船舶摇摆幅度。7.根据权利要求6所述的基于数字孪生的大型船舶航行运动学模型构建方法，其特征在于，所述回复力矩F的计算公式为：F＝ρVg*X其中，ρ为海水密度，g为重力加速度，V为船舶排水体积，X为形心的横坐标；波浪入射力Fd的计算公式为：其中，为船舶与水接触面的中心坐标，S为船舶与水接触面积，A为波幅，w为波浪频率，t为时间，k为波数，h为水深，ψ为航向角。8.根据权利要求1所述的基于数字孪生的大型船舶航行运动学模型构建方法，其特征在于，所述基于数字孪生模型进行运动仿真具体包括：基于船舶实时航行数据更新船舶航行的数字孪生模型，并基于船舶的位置和姿态调整操作进行实时的船舶运动仿真和三维可视化展示。
说明书desc
技术领域本发明属于数字孪生技术领域，具体涉及一种基于数字孪生的大型船舶航行运动学模型构建方法。背景技术船舶是集合机械、电气、流体、控制、信息等多学科的复杂系统，对于大型舰船，其航行运转需要船内各个系统的配合，且大型船舶舱内信息相对封闭，舱外环境复杂多变，航行时难以监控，目前整体系统调度缺乏数字化统一管控。现阶段基于物理模型的船舶运动决策主要在固定的模式下进行，例如旋回和Z行操纵，由于缺乏实船数据，鲜有在自由操舵和主机控制命令下的预测研究。同时，在现有预测中的环境通常基于恒定假设或单一影响。例如恒定的风、海流和海浪，未能体现真实的海洋情况和各种环境因素的耦合影响。另一方面，船舶在海上航行时，由于受风浪的影响，操舵造成的横摇角和旋回掉头所需水域也比较大，操舵不当造成船舶倾覆和碰撞的事故时有发生。随着船舶智能化的不断推进，对船舶航行状态的实时监控与预测的需求愈发迫切。由于海洋环境复杂多变，船舶的状态监控与决策需要多学科的知识融合，数字孪生技术正是实现这一功能的有力工具。但是现有的数字孪生技术在船舶上的应用主要集中在设备模型建模及可视化监测等方面。比如公开号为CN116309732A的发明专利公开了一种基于数字孪生的船舶运动可视化方法，其从多个数据源获取现实中的船舶信息，通过卡尔曼滤波对数字孪生船舶的运动状态进行更新，并动态调整孪生船舶运动状态更新频率，保证在运动状态更新时孪生船舶运动状态的平稳过渡。其重点在于保障数字孪生的视觉效果，便于可视化监测，但是无法实时对船舶运动决策提供有效辅助，且不能对船舶航行过程中的潜在危险局面提出早期预警。发明内容有鉴于此，本发明提出了一种基于数字孪生的大型船舶航行运动学模型构建方法，用于解决现有技术无法实时对船舶运动决策提供有效辅助的问题。本发明提出了一种基于数字孪生的大型船舶航行运动学模型构建方法，所述方法包括：建立船舶数字孪生模型，分析异构要素影响作用条件下的船舶摇摆能谱；通过谱分析方法，分析自然频率下和遭遇频率下的船舶摇摆能谱；将异构要素影响作用条件下的船舶摇摆能谱叠加到遭遇频率下的船舶摇摆能谱上，得到规则波对船舶摇摆影响的运动方程；叠加多个规则波对船舶摇摆影响的运动方程，计算不规则波下的船舶摇摆能谱函数；将船舶摇摆运动坐标转换到大地坐标系下，求解船舶航行运动方程，实时调整船舶的位置和姿态，基于数字孪生模型进行运动仿真。在以上技术方案的基础上，优选的，所述异构要素影响作用条件包括航向、航速、浪速和外界作用力对船舶扰动频率的影响。在以上技术方案的基础上，优选的，所述遭遇频率下的船舶摇摆能谱为：其中，sr′为遭遇频率下纵摇角的船舶摇摆能谱密度函数，sθ′为遭遇频率下横摇角的船舶摇摆能谱密度函数，sz为遭遇频率下首摇角的船舶摇摆能谱密度函数，s为自然频率下的船舶摇摆能谱，s为遭遇频率下的船舶摇摆能谱密度函数，r′a为纵摇角，θ′a横摇角，za首摇角，ξa为摇摆角，w0为自然频率，we为遭遇频率，v为摇摆的线速度，μ为浪向角。在以上技术方案的基础上，优选的，所述叠加多个规则波对船舶摇摆影响的运动方程之前还包括：基于海浪谱经验公式，分析单元规则波对船体造成的摇摆，采用如下公式对单元波幅值和船舶船行因子进行计算：ξn＝an cosYn＝Yyξcos其中，an为单元规则波幅值，wn为单元规则波的频率，εn单元规则波的相位角，在0-2π间随机变化，ξn为单元规则波幅函数；Yn为单元规则波的影响下的船舶摇摆的波幅函数，Yyξ为船舶航行因子。在以上技术方案的基础上，优选的，所述计算不规则波下的船舶摇摆能谱函数的公式为：其中，Syξ为不规则波下的船舶摇摆能谱函数，w是波浪频率，Δw为某一段波浪频率的微分，yn为不规则波波幅函数的函数值。在以上技术方案的基础上，优选的，所述将船舶摇摆运动坐标转换到大地坐标系下，调整船舶的位置和姿态具体包括：根据不规则波下的船舶摇摆能谱函数跟踪船舶的摇摆角度；将船舶的摇摆角度由动坐标转换到随船坐标系下，再由随船坐标系下转换到大地坐标系下；计算船舶摇摆的形心坐标，根据形心坐标和重心计算得到船舶的回复力矩和所受到的波浪入射力；采用龙格库塔方法在时域内求解横摇、纵摇、首摇、横荡、纵荡、垂荡运动微分方程；分别判断实时的横摇、纵摇、首摇，横荡、纵荡或垂荡运动幅度设否大于对应的设定阈值，若是，调整船舶运动位置和姿态以降低船舶摇摆幅度。在以上技术方案的基础上，优选的，所述回复力矩的计算公式为：F＝ρVg*X其中，ρ为海水密度，g为重力加速度，V为船舶排水体积，X为形心的横坐标；波浪入射力的计算公式为：其中，为船舶与水接触面的中心坐标，S为船舶与水接触面积，A为波幅，w为波浪频率，t为时间，k为波数，h为水深，ψ为航向角。在以上技术方案的基础上，优选的，所述基于数字孪生模型进行运动仿真具体包括：基于船舶实时航行数据更新船舶航行的数字孪生模型，并基于船舶的位置和姿态调整操作进行实时的船舶运动仿真和三维可视化展示。本发明相对于现有技术具有以下有益效果：1)本发明基于数字孪生技术，在虚拟的船舶数字孪生模型中，考虑船舶实际航行环境中风、浪等外界干扰因素，分析计算不规则波下的船舶摇摆能谱函数，建立船舶航行运动的数学模型，并将船舶在波浪中的摇荡运动与船舶操纵运动结合起来，实时调整船舶的位置和姿态，从而降低船舶摇摆幅度，在进行数字仿真的同时对船舶运动决策提供有效辅助。2)本发明通过分析单元规则波对船体造成的摇摆，建立不规则波下的船舶摇摆能谱函数，结合回复力与波浪入射力求解横摇、纵摇、首摇、横荡、纵荡、垂荡运动微分方程，可以提高船舶运动状态监测的准确度。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明的基于数字孪生的大型船舶航行运动学模型构建方法流程图；图2为船舶运动仿真的原理示意图。具体实施方式下面将结合本发明实施方式，对本发明实施方式中的技术方案进行清楚、完整地描述，显然，所描述的实施方式仅仅是本发明一部分实施方式，而不是全部的实施方式。基于本发明中的实施方式，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施方式，都属于本发明保护的范围。请参阅图1，本发明提出一种基于数字孪生的大型船舶航行运动学模型构建方法，所述方法包括：S1、建立船舶航行的数字孪生模型，分析异构要素影响作用条件下的船舶摇摆能谱。对于海上大型船舶，其实际航行状态受风浪、外界作用力影响比较大，因此，本发明在进行航行运动学模型时考虑规则波对航向、航速、浪速和外界作用力等异构要素扰动频率的影响，分析异构要素影响作用条件下的船舶摇摆能谱。要分析异构要素对摇摆能谱的影响，首先要分析异构要素的各个能谱函数。本发明基于实时的航向、航速、海浪的浪速以及外界作用力，在遭遇频率、遭遇波速和遭遇周期的综合作用下，分析异构要素的各个能谱函数。S2、通过谱分析方法，分析自然频率下和遭遇频率下的船舶摇摆能谱。S21、考虑自然频率下的船舶摇摆能谱，计算公式分别为：其中，w0为自然频率，sr′为自然频率下纵摇角的船舶摇摆能谱密度函数，sθ′为自然频率下横摇角的船舶摇摆能谱密度函数，sz为自然频率下首摇角的船舶摇摆能谱密度函数，s为自然频率下的船舶摇摆能谱；r′a为纵摇角，θ′a横摇角，za首摇角，ξa为摇摆角。S22、考虑自然频率与遭遇频率的转换，计算公式分别为：sdwe＝sdw0 其中，v为摇摆的线速度，μ为浪向角S23、遭遇频率下的船舶摇摆能谱为：其中，sr′为遭遇频率下纵摇角的船舶摇摆能谱密度函数，sθ′为遭遇频率下横摇角的船舶摇摆能谱密度函数，sz为遭遇频率下首摇角的船舶摇摆能谱密度函数，s为自然频率下的船舶摇摆能谱，s为遭遇频率下的船舶摇摆能谱密度函数，ra′为纵摇角，θa′横摇角，za首摇角，ξa为摇摆角，we为遭遇频率。S3、将异构要素影响作用条件下的船舶摇摆能谱叠加到遭遇频率下的船舶摇摆能谱上，分析规则波对船舶摇摆影响的运动方程。针对航向和航速，结合海浪浪速，及外界作用力，在遭遇频率、遭遇波速和遭遇周期的综合作用下，通过叠加异构要素的各个能谱函数到船舶摇摆能谱上，分析规则波对异构要素扰动频率的影响，得到规则波对船舶摇摆影响的运动方程。S4、叠加多个规则波对船舶摇摆影响的运动方程，计算不规则波下的船舶摇摆能谱函数。采取海浪谱经验公式，分析单元摇摆和船舶整体摇摆，单元摇摆指单元规则波对船体造成的摇摆。采用皮尔逊-莫斯科奇谱，海浪谱经验公式：其中，Sξ为海浪能谱函数，ω是波浪频率，g是重力加速度，νωd为海面上的风速。在此基础上，采用如下公式对单元波幅值和船舶船行因子进行计算：ξn＝ancos Yn＝Yyξcos 其中，an为单元规则波幅值，wn为单元规则波的频率，εn单元规则波的相位角，在0-2π间随机变化，ξn为单元规则波幅函数；Yn为单元规则波的影响下的船舶摇摆的波幅函数，Yyξ为船舶航行因子。因为不规则波是由单元规则波迭加而得，即不规则波的表达式Y为：n代表叠加的规则波的数量，sn为不规则波的相位角。因此，本发明通过叠加单元规则波的运动方程，分析不规则波中的船舶整体摇摆运动特性，计算出不规则波下的船舶摇摆能谱函数计算不规则波下的船舶摇摆能谱函数的公式为：其中，Syξ为不规则波下的船舶摇摆能谱函数，w是波浪频率，Δw为某一段波浪频率的微分，yn为不规则波波幅函数的函数值。S5、将船舶摇摆运动坐标转换到大地坐标系下，求解船舶航行运动方程，实时调整船舶的位置和姿态，基于数字孪生模型进行运动仿真。运动方程中的船舶中获取的是动坐标系的船体点坐标，动坐标系取船舶重心为原点构建右手坐标系，要先将动坐标转换到随船坐标系下，然后转换到大地坐标系下。S51、根据不规则波下的船舶摇摆能谱函数跟踪船舶的摇摆角度，例如θ′a，za，ξa。S52、将船舶的摇摆角度由动坐标转换到随船坐标系下，再由随船坐标系下转换到大地坐标系下。S53、计算船舶摇摆的形心坐标，根据形心坐标和重心计算得到船舶的回复力矩和所受到的波浪入射力。摇摆角度θ′a，za，ξa经过坐标系转换后，计算出形心坐标。根据形心坐标和重心计算得到船舶的回复力矩，回复力矩F的计算公式为：F＝ρVg*X其中，ρ为海水密度，g为重力加速度，V为船舶排水体积，X为形心的横坐标.设为船舶与水接触面的中心坐标，船舶与水的接触面积为S，则该面所受的波浪入射力Fd为：其中，A为波幅，w为波浪频率，t为时间，k为波数，h为水深，ψ为航向角。S54、采用龙格库塔方法在时域内求解横摇、纵摇、首摇，横荡、纵荡、垂荡运动微分方程。根据达朗贝尔原理，基于回复力与波浪入射力的计算方法，采用龙格库塔方法在时域内求解横摇、纵摇、首摇、纵荡、垂荡耦合运动微分方程，将这些微分方程作为船舶运动学模型。S55、分别判断实时的横摇、纵摇、首摇，横荡、纵荡或垂荡运动幅度设否大于对应的设定阈值，若是，调整船舶运动位置和姿态以降低船舶摇摆幅度。例如若其中的横摇角大于船舶设定的进水角则调整船舶的航行状态使横摇角小于进水角，使船舶横摇概率降低，并通过在大地坐标系中改变船舶的坐标以驱动船舶的航行。S6、基于船舶实时航行数据更新船舶航行的数字孪生模型，并基于船舶的位置和姿态调整操作进行实时的船舶运动仿真和三维可视化展示。如图2所示为船舶运动仿真的原理示意图，本发明基于孪生数据服务平台建立了与真实船舶对应的虚拟船舶，作为船舶航行的数字孪生模型，并基于真实船舶的航行数据，建立传播运行的实况模型，从而实时更新船舶航行的数字孪生模型，在孪生数据服务平台进行三维可视化展示。在仿真过程中，若某一角度的船舶摇摆幅度大于对应的设定阈值，调整船舶运动位置和姿态以降低船舶摇摆幅度，在三维可视化展示过程中更新船舶状态。本发明通过仿真实验验证该方法的有效性。根据船舶的标准操作性实验，选取应用较为普遍，最具代表性的回转实验进行仿真计算，并考虑风浪中船舶回旋运动的特性变化情况。旋回实验可以用来评价船舶旋回运动的快捷程度和所需水域的大小，是最为普遍的实验之一。以某型远洋实习船为例。其主要参数如下：船舶总长139.80米，排水量14680.08吨，设计水线长130.55米，舵面积18.80m平方米，设计吃水8米，螺旋桨直径4.6米。在无风无浪的平静水中，该船进行回转实船试验时的初始状态值如下表1所示：表1回转实验的初始状态主要参数在此基础上考虑航向、航速、浪速和外界作用力等异构要素，进行实时的船舶运动仿真和三维可视化展示，并进行实船实验，将仿真计算结果和实船实验结果相比，误差均在可接受范围以内，这说明本发明所建立的数学模型能达到工程上的精度要求。综上，船舶航行运动的数学模型考虑规则波对异构要素扰动频率的影响，运用谱分析方法对船舶整体摇摆进行分析，耦合了横摇、纵摇、首摇、纵荡、垂荡等6种基本运动方式，能够实现足够的模型精度，并易于实现仿真的进行，提供了的基于数字孪生的大型船舶航行运动学模型构建方法，可以将船舶在波浪中的摇荡运动与船舶操纵运动结合起来，实时调整船舶的位置和姿态，从而降低船舶摇摆幅度，在进行数字仿真的同时对船舶运动决策提供有效辅助。本发明还公开一种电子设备，包括：至少一个处理器、至少一个存储器、通信接口和总线；其中，所述处理器、存储器、通信接口通过所述总线完成相互间的通信；所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令，以实现本发明前述的方法。本发明还公开一种计算机可读存储介质，所述计算机可读存储介质存储计算机指令，所述计算机指令使所述计算机实现本发明实施例所述方法的全部或部分步骤。所述存储介质包括：U盘、移动硬盘、只读存储器ROM、随机存取存储器RAM、磁碟或者光盘等各种可以存储程序代码的介质。以上所描述的系统实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以分布到多个网络单元上。本领域普通技术人员在不付出创造性的劳动的情况下，可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。以上所述仅为本发明的较佳实施方式而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
