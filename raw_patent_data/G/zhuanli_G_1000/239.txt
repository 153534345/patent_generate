标题title
储能设备的故障定位方法及电路
摘要abst
本申请提供一种储能设备的故障定位方法及电路，该储能设备包括串联连接的多个电池单元，每个电池单元的正极和负极被确定为一网络节点，每个网络节点具有对应的一检测回路，每个检测回路依次被接通，上述方法包括：针对每次接通状态，确定在该次接通状态下的第一网络节点处的第一节点电压和第二网络节点处的第二节点电压；根据每次接通状态下的第一节点电压、第二节点电压及各网络节点对应的节点电流之间的关系，确定每个网络节点对应的对地绝缘电阻；根据每个网络节点对应的对地绝缘电阻，定位储能设备的故障点。本申请能够以电池单元作为计算单元，更为精准地计算每个电池单元的正、负对地绝缘电阻，以精确对故障点进行定位。
权利要求书clms
1.一种储能设备的故障定位方法，所述储能设备包括串联连接的多个电池单元，其特征在于，每个电池单元的正极和负极被确定为一网络节点，每个网络节点具有对应的一检测回路，每个检测回路依次被接通，所述方法包括：针对每次接通状态，确定在该次接通状态下的第一网络节点处的第一节点电压和第二网络节点处的第二节点电压，其中，第一网络节点指处于接通状态的预设检测回路所对应的网络节点，第二网络节点指多个网络节点中除第一网络节点之外的其他网络节点；根据每次接通状态下的第一节点电压、第二节点电压以及各网络节点对应的节点电流之间的关系，确定每个网络节点对应的对地绝缘电阻；根据每个网络节点对应的对地绝缘电阻，定位所述储能设备的故障点。2.根据权利要求1所述的方法，其特征在于，每次接通状态下的第一网络节点处的第一节点电压通过测量获得，其中，每次接通状态下的第二网络节点处的第二节点电压是基于该次接通状态下的第一节点电压以及预设电池电压来确定的，所述预设电池电压指第二网络节点与第一网络节点之间包含的电池单元的总电压。3.根据权利要求2所述的方法，其特征在于，每个检测回路包括第一检测支路，所述第一检测支路包括串联连接的第一电阻、检测开关和第二电阻，检测开关被闭合用于表征检测回路被接通，检测开关被断开用于表征检测回路未被接通，其中，通过以下方式确定每次接通状态下的第一网络节点处的第一节点电压：获取针对目标电阻的测量电压值，所述目标电阻为处于接通状态的第一检测支路上的第一电阻和第二电阻中的一个；基于所述测量电压值、第一电阻的第一电阻值和第二电阻的第二电阻值，确定所述第一节点电压。4.根据权利要求2所述的方法，其特征在于，第二网络节点包括前置网络节点和后置网络节点，所述前置网络节点指以第一网络节点为基准、位于所述储能设备的正极侧的网络节点，所述后置网络节点指以第一网络节点为基准、位于所述储能设备的负极侧的网络节点，其中，所述前置网络节点处的节点电压为第一节点电压与预设电池电压之和，所述后置网络节点处的节点电压为第一节点电压与预设电池电压之差。5.根据权利要求1所述的方法，其特征在于，通过以下方式确定每个网络节点对应的对地绝缘电阻：基于每次接通状态下的每个网络节点处的节点电压，构建针对所述储能设备的电压状态矩阵；根据各网络节点对应的节点电流之间的关系，构建针对所述储能设备的电流向量；根据所构建的电压状态矩阵和电流向量，确定针对所述储能设备的电阻向量，所述电阻向量中的每个元素用于表征对应一个网络节点对应的对地绝缘电阻。6.根据权利要求5所述的方法，其特征在于，所述电压状态矩阵包括多个电压状态向量，每个电压状态向量中的各元素用于表征在一次接通状态下的网络节点处的节点电压、接通电压和总节点电压，所述接通电压指每次接通状态下的第一网络节点处的第一节点电压，所述总节点电压指所有节点电压之和，和/或，所述电流向量中的各元素用于表征在一次接通状态下的各网络节点处的电流之和。7.根据权利要求5所述的方法，其特征在于，确定针对所述储能设备的电阻向量的步骤包括：确定所述电压状态矩阵的逆矩阵；根据所述逆矩阵与所述电流向量，获得针对所述储能设备的电导向量；针对电导向量中的每个元素，将该元素对应的电导值的倒数，确定为一网络节点对应的对地绝缘电阻，以形成所述电阻向量。8.根据权利要求6所述的方法，其特征在于，所述电压状态矩阵还包括第一单位行向量和第二单位行向量，所述第一单位行向量中的第一预设元素为1，所述第一单位行向量中的第一其他元素为0，所述第二单位行向量中的第二预设元素为1，所述第二单位行向量中的第二其他元素为0，所述第一预设元素指第一单位行向量中与电压状态向量中的接通电压所在位置对应的元素位置处的元素，所述第二预设元素指第二单位行向量中与电压状态向量中的总节点电压所在位置对应的元素位置处的元素，其中，所述电流向量还包括与第一预设元素对应的第一电导值、与第二预设元素对应的第二电导值，所述电阻向量还包括所述第一电导值和所述第二电导值。9.根据权利要求8所述的方法，其特征在于，每个检测回路包括并联设置的第一检测支路和第二检测支路，每次接通状态指示对应检测回路中的第一检测支路被接通，其中，所述第一电导值指任一处于接通状态下的第一检测支路对应的电导值，所述第二电导值指任一第二检测支路对应的电导值。10.一种储能设备的故障定位电路，所述储能设备包括串联连接的多个电池单元，其特征在于，所述故障定位电路包括：多个检测回路，布置在所述储能设备的对应一网络节点与预设接地端之间，每个电池单元的正极和负极被确定为一网络节点，每个检测回路依次被接通；处理器，用于执行如权利要求1-9任一所述的故障定位方法。
说明书desc
技术领域本申请涉及储能技术领域，尤其涉及一种储能设备的故障定位方法及电路。背景技术相关技术中的绝缘检测手段将储能电池系统等效为一个电源，所检测的绝缘电阻是等效正极对地电阻以及等效负极对地电阻。上述等效绝缘计算方式，无法精确计算出实际每个电芯的对地绝缘电阻值，导致在绝缘失效时，无法精确对失效点进行定位。发明内容有鉴于此，本申请实施例至少提供一种储能设备的故障定位方法及电路，以克服上述至少一种缺陷。第一方面，本申请示例性实施例提供一种储能设备的故障定位方法，所述储能设备包括串联连接的多个电池单元，每个电池单元的正极和负极被确定为一网络节点，每个网络节点具有对应的一检测回路，每个检测回路依次被接通，所述方法包括：针对每次接通状态，确定在该次接通状态下的第一网络节点处的第一节点电压和第二网络节点处的第二节点电压，其中，第一网络节点指处于接通状态的预设检测回路所对应的网络节点，第二网络节点指多个网络节点中除第一网络节点之外的其他网络节点；根据每次接通状态下的第一节点电压、第二节点电压以及各网络节点对应的节点电流之间的关系，确定每个网络节点对应的对地绝缘电阻；根据每个网络节点对应的对地绝缘电阻，定位所述储能设备的故障点。在一可能实施方式中，每次接通状态下的第一网络节点处的第一节点电压通过测量获得，其中，每次接通状态下的第二网络节点处的第二节点电压是基于该次接通状态下的第一节点电压以及预设电池电压来确定的，所述预设电池电压指第二网络节点与第一网络节点之间包含的电池单元的总电压。在一可能实施方式中，每个检测回路包括第一检测支路，所述第一检测支路包括串联连接的第一电阻、检测开关和第二电阻，检测开关被闭合用于表征检测回路被接通，检测开关被断开用于表征检测回路未被接通，其中，通过以下方式确定每次接通状态下的第一网络节点处的第一节点电压：获取针对目标电阻的测量电压值，所述目标电阻为处于接通状态的第一检测支路上的第一电阻和第二电阻中的一个；基于所述测量电压值、第一电阻的第一电阻值和第二电阻的第二电阻值，确定所述第一节点电压。在一可能实施方式中，第二网络节点包括前置网络节点和后置网络节点，所述前置网络节点指以第一网络节点为基准、位于所述储能设备的正极侧的网络节点，所述后置网络节点指以第一网络节点为基准、位于所述储能设备的负极侧的网络节点，其中，所述前置网络节点处的节点电压为第一节点电压与预设电池电压之和，所述后置网络节点处的节点电压为第一节点电压与预设电池电压之差。在一可能实施方式中，通过以下方式确定每个网络节点对应的对地绝缘电阻：基于每次接通状态下的每个网络节点处的节点电压，构建针对所述储能设备的电压状态矩阵；根据各网络节点对应的节点电流之间的关系，构建针对所述储能设备的电流向量；根据所构建的电压状态矩阵和电流向量，确定针对所述储能设备的电阻向量，所述电阻向量中的每个元素用于表征对应一个网络节点对应的对地绝缘电阻。在一可能实施方式中，所述电压状态矩阵包括多个电压状态向量，每个电压状态向量中的各元素用于表征在一次接通状态下的网络节点处的节点电压、接通电压和总节点电压，所述接通电压指每次接通状态下的第一网络节点处的第一节点电压，所述总节点电压指所有节点电压之和，和/或，所述电流向量中的各元素用于表征在一次接通状态下的各网络节点处的电流之和。在一可能实施方式中，确定针对所述储能设备的电阻向量的步骤包括：确定所述电压状态矩阵的逆矩阵；根据所述逆矩阵与所述电流向量，获得针对所述储能设备的电导向量；针对电导向量中的每个元素，将该元素对应的电导值的倒数，确定为一网络节点对应的对地绝缘电阻，以形成所述电阻向量。在一可能实施方式中，所述电压状态矩阵还包括第一单位行向量和第二单位行向量，所述第一单位行向量中的第一预设元素为1，所述第一单位行向量中的第一其他元素为0，所述第二单位行向量中的第二预设元素为1，所述第二单位行向量中的第二其他元素为0，所述第一预设元素指第一单位行向量中与电压状态向量中的接通电压所在位置对应的元素位置处的元素，所述第二预设元素指第二单位行向量中与电压状态向量中的总节点电压所在位置对应的元素位置处的元素，其中，所述电流向量还包括与第一预设元素对应的第一电导值、与第二预设元素对应的第二电导值，所述电阻向量还包括所述第一电导值和所述第二电导值。在一可能实施方式中，每个检测回路包括并联设置的第一检测支路和第二检测支路，每次接通状态指示对应检测回路中的第一检测支路被接通，其中，所述第一电导值指任一处于接通状态下的第一检测支路对应的电导值，所述第二电导值指任一第二检测支路对应的电导值。第二方面，本申请示例性实施例还提供一种储能设备的故障定位电路，所述储能设备包括串联连接的多个电池单元，所述故障定位电路包括：多个检测回路，布置在所述储能设备的对应一网络节点与预设接地端之间，每个电池单元的正极和负极被确定为一网络节点，每个检测回路依次被接通；处理器，用于执行上述的故障定位方法。通过本申请示例性实施例的储能设备的故障定位方法及电路，能够以电池单元作为计算单元，更为精准地计算每个电池单元的正、负对地绝缘电阻，以精确对故障点进行定位。为使本申请的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1示出本申请示例性实施例提供的储能设备的故障定位电路的示意图；图2示出本申请示例性实施例提供的在第n个检测回路处于接通状态时故障定位电路的示意图；图3示出本申请示例性实施例提供的在第n个检测回路处于接通状态时的等效电路图；图4示出本申请示例性实施例提供的储能设备的故障定位方法的流程图；图5示出本申请示例性实施例提供的确定第一网络节点处的第一节点电压的步骤的流程图；图6示出本申请示例性实施例提供的确定针对储能设备的电阻向量的步骤的流程图。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，应当理解，本申请中的附图仅起到说明和描述的目的，并不用于限定本申请的保护范围。另外，应当理解，示意性的附图并未按实物比例绘制。本申请中使用的流程图示出了根据本申请的一些实施例实现的操作。应当理解，流程图的操作可以不按顺序实现，没有逻辑的上下文关系的步骤可以反转顺序或者同时实施。此外，本领域技术人员在本申请内容的指引下，可以向流程图添加一个或多个其他操作，也可以从流程图中移除一个或多个操作。本说明书中使用用语“一个”、“一”、“该”和“所述”用以表示存在一个或多个要素/组成部分/等；用语“包括”和“具有”用以表示开放式的包括在内的意思并且是指除了列出的要素/组成部分/等之外还可存在另外的要素/组成部分/等；用语“第一”和“第二”等仅作为标记使用，不是对其对象的数量限制。应当理解，在本申请实施例中，“至少一个”是指一个或者多个，“多个”是指两个或者两个以上。“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。“包含A、B和/或C”是指包含A、B、C三者中任1个或任2个或3个。应当理解，在本申请实施例中，“与A对应的B”、“与A相对应的B”、“A与B相对应”或者“B与A相对应”，表示B与A相关联，根据A可以确定B。根据A确定B并不意味着仅仅根据A确定B，还可以根据A和/或其他信息确定B。另外，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本申请实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本申请的实施例的详细描述并非旨在限制要求保护的本申请的范围，而是仅仅表示本申请的选定实施例。基于本申请的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的全部其他实施例，都属于本申请保护的范围。相关技术中的绝缘检测手段将储能电池系统等效为一个电源，所检测的绝缘电阻是等效正极对地电阻以及等效负极对地电阻。在实际电池系统中，对于多个电芯串联的情况，若串联的多个电芯的数量为n，则应有n+1个对地绝缘电阻。但是上述等效绝缘计算方式，无法精确计算出实际每个电芯的对地绝缘电阻值，导致在绝缘失效时，无法精确对失效点进行定位。针对上述至少一个方面的问题，本申请提出的储能设备的故障定位方法及电路，能够以电池单元作为计算单元，更为精准地计算每个电池单元的正、负对地绝缘电阻，以精确对故障点进行定位。为便于对本申请进行理解，下面对本申请实施例提供的储能设备的故障定位电路的结构和工作原理进行详细介绍。图1示出本申请示例性实施例提供的储能设备的故障定位电路的示意图。在本申请实施例中，上述故障定位电路针对的是电池串联系统，即，上述储能设备包括串联连接的多个电池单元。示例性的，每个电池单元可以指单个电芯，或者也可以指单个电池包，即，电池单元为计算对地绝缘电阻的对象，可以按照实际需求来进行选择，本申请对此不做限制。如图1所示，每个电池单元的正极和负极被确定为一网络节点，针对储能设备包括串联连接的n个电池单元的情况，具有N个网络节点，如图1所示的网络节点M1~MN，后续计算每个网络节点的对地绝缘电阻相当于获得每个电池单元的正对地绝缘电阻、负对地绝缘电阻。在图1所示的电路中，每个网络节点的对地绝缘电阻可以设为Rp，每个网络节点具有对应的一检测回路10，示例性的，每个检测回路10包括并联设置的第一检测支路和第二检测支路，在执行后续的对地绝缘电阻计算过程中，需依次接通每个检测回路，每次接通状态指示对应检测回路中的第一检测支路被接通。下面以图1中所示的与网络节点M1对应的检测回路10为例，来介绍检测回路的具体结构。作为示例，每个检测回路10中的第一检测支路可以包括串联连接的第一电阻R1、检测开关Ks1和第二电阻R2，检测开关Ks1被闭合用于表征检测回路10被接通，检测开关Ks1被断开用于表征检测回路10未被接通。每个检测回路10中的第二检测支路可以包括第三电阻Rs，第三电阻Rs同串联后的第一电阻R1和第二电阻R2并联，即，每个网络节点通过检测回路10连接至接地点。此外，还在目标电阻处设置一电压表V，该目标电阻为第一检测支路上的第一电阻R1和第二电阻R2中的一个。在图1所示的示例中，在第一电阻R1处设置电压表，用以检测第一电阻R1两端的电压，每个电压表的负极接地。示例性的，第一检测支路对应的电导值如下：公式中，表示第一检测支路对应的电导值，/＞表示第一电阻的电阻值，/＞表示第一电阻的电阻值。示例性的，第二检测支路对应的电导值如下：公式中，表示第二检测支路对应的电导值，/＞表示第三电阻Rs的电阻值。示例性的，绝缘支路对应的电导值如下：公式中，表示绝缘支路对应的电导值，/＞表示网络节点的对地绝缘电阻Rp的电阻值。根据欧姆定律，当故障定位电路中的网络节点Mn对应的检测开关Ksn闭合时，即，结合图2和图3所示，在第n个检测回路处于接通状态时，对于该网络节点Mn，存在如下关系：公式中，表示网络节点Mn对应的支路电流，即，从网络节点Mn经过对地绝缘电阻、第一电阻R1以及第一电阻R1的电流，/＞表示网络节点Mn对应的节点电压，/＞表示网络节点Mn对应的对地绝缘电阻的电导值。对于故障定位电路中除网络节点Mn之外的其他网络节点Mj，存在如下关系：公式中，表示网络节点Mj对应的支路电流，/＞表示网络节点Mj对应的节点电压，/＞表示网络节点Mj对应的对地绝缘电阻的电导值。本申请示例性实施例的故障定位电路还包括处理器，用于执行下述的故障定位方法。图4示出本申请示例性实施例提供的储能设备的故障定位方法的流程图。如图4所示，在步骤S101中，针对每次接通状态，确定在该次接通状态下的第一网络节点处的第一节点电压和第二网络节点处的第二节点电压，其中，第一网络节点指处于接通状态的预设检测回路所对应的网络节点，第二网络节点指多个网络节点中除第一网络节点之外的其他网络节点。本申请实施例中，多个网络节点包括第一网络节点和第二网络节点，其中，第一网络节点指处于接通状态的预设检测回路所对应的网络节点，每次接通状态下的第一网络节点处的第一节点电压可以通过测量获得。下面结合图5来介绍确定每次接通状态下的第一网络节点处的第一节点电压的过程。图5示出本申请示例性实施例提供的确定第一网络节点处的第一节点电压的步骤的流程图。如图5所示，在步骤S201中，获取针对目标电阻的测量电压值。这里，目标电阻可以为处于接通状态的第一检测支路上的第一电阻R1和第二电阻R2中的一个，以图1所示的故障定位电路为例，目标电阻可以指第一电阻R1，此时，通过设置在第一电阻R1除的电压表V来获得第一电阻R1的测量电压值。在步骤S202中，基于测量电压值、第一电阻的第一电阻值和第二电阻的第二电阻值，确定第一网络节点处的第一节点电压。例如，可以通过如下公式来计算第一网络节点处的第一节点电压：公式中，表示检测开关Ksn闭合时第一网络节点Mn处的第一节点电压，/＞表示测量电压值。在本申请实施例中，第二网络节点可指多个网络节点中除第一网络节点之外的其他网络节点，示例性的，每次接通状态下的第二网络节点处的第二节点电压是基于该次接通状态下的第一节点电压以及预设电池电压来确定的，这里，该预设电池电压可指第二网络节点与第一网络节点之间包含的电池单元的总电压。示例性的，第二网络节点包括前置网络节点和后置网络节点，其中，前置网络节点指以第一网络节点为基准、位于储能设备的正极侧的网络节点，后置网络节点指以第一网络节点为基准、位于储能设备的负极侧的网络节点。对于图2所示的示例，在检测开关Ksn闭合时，前置网络节点可以指网络节点M1~M n-1，后置网络节点可以指网络节点Mn+1~M N。可以从BMS读取每个电池单元的电池电压UBat，然后，基于第二网络节点与第一网络节点之间的位置关系，来依次推算各前置网络节点电压的节点电压以及各后置网络节点的节点电压。例如，前置网络节点处的节点电压为第一节点电压与预设电池电压之和，如下式所示：公式中，表示检测开关Ksn闭合时第i个前置网络节点处的节点电压，1＜i＜n-1。例如，后置网络节点处的节点电压为第一节点电压与预设电池电压之差，如下式所示：公式中，表示表示检测开关Ksn闭合时第q个后置网络节点处的节点电压，n+1＜q＜N，n表示储能设备包括的电池单元的数量，N表示网络节点的数量，/＞表示单个电池单元的电池电压。针对故障定位电路，依次闭合检测开关Ks1至KsN，每次闭合检测开关后，读取该被闭合的检测开关所在的第一检测支路上的电压表的测量电压值，并利用上述公式计算第一网络节点处的第一节点电压，再根据公式和公式计算各第二网络节点处的第二节点电压。返回图4，在步骤S102中，根据每次接通状态下的第一节点电压、第二节点电压以及各网络节点对应的节点电流之间的关系，确定每个网络节点对应的对地绝缘电阻。这里，根据基尔霍夫电流定律，各网络节点处的节点电流之和为0，在此情况下，基于每个网络节点对应的节点电流之和为0，来根据网络节点处的节点电压每个网络节点对应的对地绝缘电阻。下面参照图6来介绍计算每个网络节点对应的对地绝缘电阻的具体过程。图6示出本申请示例性实施例提供的确定针对储能设备的电阻向量的步骤的流程图。如图6所示，在步骤S301中，基于每次接通状态下的每个网络节点处的节点电压，构建针对储能设备的电压状态矩阵。这里，电压状态矩阵包括多个电压状态向量，每个电压状态向量为一行向量，一个电压状态行向量对应一次检测开关闭合，即，对应一次检测回路被接通。示例性的，每个电压状态向量中的各元素用于表征在一次接通状态下的网络节点处的节点电压、接通电压和总节点电压，其中，各网络节点处的节点电压可以通过上述方式获得，接通电压指每次接通状态下的第一网络节点处的第一节点电压，总节点电压指所有节点电压之和。在一优选实施例中，上述电压状态矩阵可以还包括第一单位行向量和第二单位行向量，其中，第一单位行向量中的第一预设元素为1，第一单位行向量中的第一其他元素为0，第二单位行向量中的第二预设元素为1，第二单位行向量中的第二其他元素为0。这里，第一预设元素指第一单位行向量中与电压状态向量中的接通电压所在位置对应的元素位置处的元素，第二预设元素指第二单位行向量中与电压状态向量中的总节点电压所在位置对应的元素位置处的元素。针对储能设备包括n个电池单元的情况，存在n+1个对地绝缘电阻，相应地，存在n+1个检测回路，每次仅接通一个检测回路，依次接通所有的检测回路，可构成n+1个方程。示例性的，参照图1，对于存在n+1个网络节点的电路网络中，依次闭合检测开关Ks1至KsN可构造N=n+1个状态方程，对应的电压状态矩阵A可表示为：公式中，电压状态矩阵A中的第1行至第N行表示依次闭合检测开关Ks1至KsN时，由各网络节点的节点电压形成的电压状态行向量，倒数两行表示第一单位行向量和第二单位行向量。在步骤S302中，根据各网络节点对应的节点电流之间的关系，构建针对储能设备的电流向量。这里，电流向量中的各元素用于表征在一次接通状态下的各网络节点处的电流之和，根据基尔霍夫定律，各网络节点的流入节点电流与流出节点电流之和为0，如下所示：公式中，等式左侧的第一项表示第一网络节点对应的支路电流，等式左侧的第二项表示各第二网络节点对应的支路电流，各网络节点处的电流之和为0。针对上述电压状态矩阵的优选实施例的情况，电流向量还包括与第一预设元素对应的第一电导值、与第二预设元素对应的第二电导值，相应地，电阻向量还包括第一电导值和第二电导值。示例性的，第一电导值指任一处于接通状态下的第一检测支路对应的电导值，第二电导值指任一第二检测支路对应的电导值，上述两个电导值为检测回路的已知电导。例如，电流向量B可以如下式所示：如上，电流向量B中的元素个数为N+2，每个节点电压乘以相应的电导等于每个支路的电流，所有支路的节点电流之和为0。电流向量B中的Yk和Ys是检测回路的已知电导，在电压状态矩阵A中用单位向量定义，则待求解的电导向量x中的最后两位也为Yk和Ys。在步骤S303中，根据所构建的电压状态矩阵和电流向量，确定针对储能设备的电阻向量。这里，电阻向量中的每个元素用于表征对应一个网络节点对应的对地绝缘电阻。示例性的，确定电压状态矩阵的逆矩阵，根据逆矩阵与电流向量，获得针对储能设备的电导向量，如下式所示：公式中，x表示电导向量，inv表示电压状态矩阵A的逆矩阵，B表示电流向量。针对电导向量中的每个元素，将该元素对应的电导值的倒数，确定为一网络节点对应的对地绝缘电阻，以形成电阻向量。假设求得的电导向量为，，则可得电阻向量R如下所示：这里，电导向量x中的最后两位在构建方程时使用，再求倒数获得电阻向量R中的各对地绝缘电阻值时不使用。应理解，本申请实施例的故障定位方法不限于电池单元的数量，电池单元的串联数为n时，构造n+1个状态方程以及两个已知的电导方程，理论上在一种可能的方案中，可适用于计算无穷多组串联电池系统的对地绝缘电阻。返回图4，在步骤S103中，根据每个网络节点对应的对地绝缘电阻，定位储能设备的故障点。例如，针对网络节点，若该网络节点对应的对地绝缘电阻小于绝缘阈值，则确定该网络节点处存在故障，若该网络节点对应的对地绝缘电阻不小于绝缘阈值，则确定该网络节点处不存在故障。在相关技术中，等效绝缘计算方式所计算的对地电阻相比于实际绝缘电阻较小，当实际绝缘电阻处于较低、但实际阻值仍处于安全水平时，易触发阈值警告的误报。在本申请的设计方案中，可实时监控每个电池单元的正、负对地绝缘电阻，且在其低于绝缘阈值时，能够精准定位，有利于故障分析、故障等级评估以及现场维修等。本申请的方案相比于传统绝缘检测方案，能够精确地计算实际电池电路模型中的各绝缘电阻阻值。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统和装置的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本申请所提供的几个实施例中，应所述理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，又例如，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些通信接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个处理器可执行的非易失的计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者所述技术方案的部分可以以软件产品的形式体现出来，所述计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以权利要求的保护范围为准。
