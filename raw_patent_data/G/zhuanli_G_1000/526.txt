标题title
一种旋转机械的流体仿真方法、装置及计算机存储介质
摘要abst
本公开实施例公开了一种旋转机械的流体仿真方法、装置及计算机存储介质，旋转机械的流体仿真方法可以包括：在旋转机械的三维模型中获取待仿真区域，并确定流体工质以及流体工质对应的初始流动参数；基于预设网格阶数确定网格节点数，并基于网格节点数对待仿真区域进行网格划分得到多个初始网格；基于网格阶数和多个初始网格确定多阶参考网格；基于初始网格和多阶参考网格对初始流动参数进行迭代计算得到目标流动参数。
权利要求书clms
1.一种旋转机械的流体仿真方法，其特征在于，包括：在旋转机械的三维模型中获取待仿真区域，并确定流体工质以及所述流体工质对应的初始流动参数；基于预设网格阶数确定网格节点数，并基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格；基于所述网格阶数和多个初始网格确定多阶参考网格；基于所述初始网格和多阶所述参考网格对所述初始流动参数进行迭代计算得到目标流动参数。2.根据权利要求1所述的方法，其特征在于，所述基于所述初始网格和多阶所述参考网格对所述初始流动参数进行迭代计算得到目标流动参数，包括：对所述初始流动参数进行预迭代得到初始网格对应的第一流动参数和残差值；对所述第一流动参数进行n次延拓迭代得到第n阶参考网格的第一中间流动参数；对第n阶参考网格的第一中间流动参数进行n次插值修正以更新所述第一流动参数和所述残差值；响应所述残差值满足预设条件，将所述第一流动参数作为所述目标流动参数，其中n为正整数。3.根据权利要求1所述的方法，其特征在于，所述基于所述初始网格和多阶所述参考网格对所述初始流动参数进行迭代计算得到目标流动参数，包括：对所述初始流动参数进行预迭代得到初始网格对应的第一流动参数和残差值；对所述第一流动参数进行n次延拓迭代得到第n阶参考网格的第一中间流动参数；对第n阶参考网格的第一中间流动参数进行n-1次插值修正得到第1阶参考网格的第二流动参数；对所述第二流动参数进行n-1次延拓迭代得到第n阶参考网格的第二中间流动参数；对第n阶参考网格的第二中间流动参数进行n次插值修正以更新所述第一流动参数和所述残差值；响应所述残差值满足预设条件，将所述第一流动参数作为所述目标流动参数，其中n为正整数。4.根据权利要求1所述的方法，其特征在于，所述基于预设网格阶数确定网格节点数，并基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格，包括：获取预设网格阶数以及网格系数；基于所述预设网格阶数和所述网格系数确定所述网格节点数；基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格。5.根据权利要求2所述的方法，其特征在于，在基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格之后，所述方法还包括：利用泊松方程对所述初始网格进行光滑处理。6.根据权利要求1所述的方法，其特征在于，所述基于所述网格阶数将多个初始网格作为一个参考网格包括：获取网格合并系数，并基于所述网格合并系数、所述网格阶数和多个初始网格确定多阶所述参考网格。7.根据权利要求6所述的方法，其特征在于，所述参考网格的阶数和所述网格阶数相同；所述基于所述网格合并系数、所述网格阶数和多个初始网格确定多阶所述参考网格，包括：将2的mn次方个初始网格合并为第n阶参考网格，其中，m为所述网格合并系数，n为所述网格阶数。8.一种旋转机械的流体仿真装置，其特征在于，包括：获取模块，用于在旋转机械的三维模型中获取待仿真区域，并确定流体工质以及所述流体工质对应的初始流动参数；划分模块，用于基于预设网格阶数确定网格节点数，并基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格；确定模块，用于基于所述网格阶数和多个初始网格确定多阶参考网格；仿真模块，用于基于所述初始网格和多阶所述参考网格对所述初始流动参数进行迭代计算得到目标流动参数。9.一种电子设备，其特征在于，所述电子设备包括：处理器和存储器；所述处理器用于执行所述存储器中存储的指令，以实现如权利要求1至7任一项所述的方法。10.一种计算机存储介质，其特征在于，所述存储介质存储有至少一条指令，所述至少一条指令用于被处理器执行以实现如权利要求1至7任一项所述的方法。
说明书desc
技术领域本公开实施例涉及计算机软件技术领域，尤其涉及一种旋转机械的流体仿真方法、装置及计算机存储介质。背景技术在进行叶轮机械的流体仿真计算时，需要利用网格生成技术对整个流体计算域进行离散化。由于叶轮机械结构的复杂性和应用场景的特殊性，为了提高流体仿真计算的可信度，往往需要大量的尺寸符合要求的近壁面网格。导致网格总数庞大的同时，计算域中最小尺寸的网格和最大尺寸的网格相差较大，由此引入的低频误差分量将会大大拖慢收敛速度。因此，在叶轮机械流体仿真领域亟需一种既能保证计算精度的同时又能加快收敛速度的旋转机械的流体仿真方法。发明内容有鉴于此，本公开实施例期望提供一种旋转机械的流体仿真方法、装置及计算机存储介质；能够解决在流体仿真过程中收敛速度较慢的技术问题。本公开实施例的技术方案是这样实现的：第一方面，本公开实施例提供了一种旋转机械的流体仿真方法，包括：在旋转机械的三维模型中获取待仿真区域，并确定流体工质以及所述流体工质对应的初始流动参数；基于预设网格阶数确定网格节点数，并基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格；基于所述网格阶数和多个初始网格确定多阶参考网格；基于所述初始网格和多阶所述参考网格对所述初始流动参数进行迭代计算得到目标流动参数。在一些示例中，所述基于所述初始网格和多阶所述参考网格对所述初始流动参数进行迭代计算得到目标流动参数，包括：所述参考网格对所述初始流动参数进行迭代计算得到目标流动参数，包括：对所述初始流动参数进行预迭代得到初始网格对应的第一流动参数和残差值；对所述第一流动参数进行n次延拓迭代得到第n阶参考网格的第一中间流动参数；对第n阶参考网格的第一中间流动参数进行n次插值修正以更新所述第一流动参数和所述残差值；响应所述残差值满足预设条件，将所述第一流动参数作为所述目标流动参数，其中n为正整数。在一些示例中，所述基于所述初始网格和多阶所述参考网格对所述初始流动参数进行迭代计算得到目标流动参数，包括：对所述初始流动参数进行预迭代得到初始网格对应的第一流动参数和残差值；对所述第一流动参数进行n次延拓迭代得到第n阶参考网格的第一中间流动参数；对第n阶参考网格的第一中间流动参数进行n-1次插值修正得到第1阶参考网格的第二流动参数；对所述第二流动参数进行n-1次延拓迭代得到第n阶参考网格的第二中间流动参数；对第n阶参考网格的第二中间流动参数进行n次插值修正以更新所述第一流动参数和所述残差值；响应所述残差值满足预设条件，将所述第一流动参数作为所述目标流动参数，其中n为正整数。在一些示例中，所述基于预设网格阶数确定网格节点数，并基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格，包括：获取预设网格阶数以及网格系数；基于所述预设网格阶数和所述网格系数确定所述网格节点数；基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格。在一些示例中，在基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格之后，所述方法还包括：利用泊松方程对所述初始网格进行光滑处理。在一些示例中，所述基于所述网格阶数将多个初始网格作为一个参考网格包括：获取网格合并系数，并基于所述网格合并系数、所述网格阶数和多个初始网格确定多阶参考网格。在一些示例中，所述参考网格的阶数和所述网格阶数相同；所述基于所述网格合并系数、所述网格阶数和多个初始网格确定多阶所述参考网格，包括：将2的mn次方个初始网格合并为第n阶参考网格，其中，m为所述网格合并系数，n为所述网格阶数。第二方面，本公开实施例提供了一种旋转机械的流体仿真装置，包括：获取模块，在旋转机械的三维模型中获取待仿真区域，并确定流体工质以及所述流体工质对应的初始流动参数；划分模块，基于预设网格阶数确定网格节点数，并基于所述网格节点数对所述待仿真区域进行网格划分得到多个初始网格；确定模块，基于所述网格阶数和多个初始网格确定多阶参考网格；仿真模块，基于所述初始网格和多阶所述参考网格对所述初始流动参数进行迭代计算得到目标流动参数。第三方面，本公开实施例提供了一种电子设备，所述电子设备包括：处理器和存储器；所述处理器用于执行所述存储器中存储的指令，以实现第一方面所述的旋转机械的流体仿真方法。第四方面，本公开实施例提供了一种计算机存储介质，所述存储介质存储有至少一条指令，所述至少一条指令用于被处理器执行以实现如第一方面所述的旋转机械的流体仿真方法。本公开实施例提供了一种旋转机械的流体仿真方法、装置及计算机存储介质；基于网格阶数和多个初始网格确定多阶参考网格，即确定多个体积较大的网格，并基于初始网格和多阶所述参考网格对初始流动参数进行迭代计算得到目标流动参数，可以利用初始网格滤去相对频率较低的误差，然后采用体积较大的网格进行迭代计算，增加迭代效率，且能够保证精度。附图说明图1为本公开实施例提供的一种旋转机械的流体仿真方法的流程图。图2为本公开实施例提供的一种三维模型的示意图。图3为本公开实施例提供的一种叶片的子午视图。图4为本公开实施例提供的另一种全流道计算域的示意图。图5为本公开实施例提供的一种单流道计算域的示意图。图6为本公开实施例提供的一种网格划分的示意图。图7为本公开实施例提供的一种参考网格的示意图。图8为本公开实施例提供的一种网格迭代的流程图。图9为本公开实施例提供的一种网格迭代的数据流向图。图10为本公开实施例提供的另一种网格迭代的数据流向图。图11为本公开实施例提供的一种网格插值示意图。图12为本公开实施例提供的一种迭代收敛对比图。图13为本公开实施例提供的一种本公开的残差值与迭代步数的关系图。图14为相关技术中残差值与迭代步数的关系图。图15为本公开实施例提供的一种旋转机械的流体仿真装置的结构示意图。图16为本公开实施例提供的一种电子设备的结构示意图。通过上述附图，已示出本公开明确的实施例，后文中将有更详细的描述。这些附图和文字描述并不是为了通过任何方式限制本公开构思的范围，而是通过参考特定实施例为本领域技术人员说明本公开的概念。具体实施方式这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本公开的一些方面相一致的装置和方法的例子。计算流体力学是通过计算机数值计算和图像显示，对包含有流体流动和热传导等相关物理现象的系统所做的分析。由于数值模拟相对于实验研究有独特的优点，比如成本低、周期短，能获得完整的数据，能模拟出实际运动过程中各种所测数据状态，对于设计、改造等商业或实验室应用起到重要的指导作用，所以计算流体力学技术得到了越来越多的作用，促进了商业计算流体力学软件的发展。旋转机械被广泛的应用于航空、电力、机械、化工等领域中，而叶轮作为旋转机械的核心部件长期在高转速和重载荷情况下工作。其性能直接决定整机的性能和工作效率，所以有必要利用计算流体力学CFD仿真方法对叶轮的实际运转进行计算机流体仿真。在进行流体仿真过程中，需要对离散化后的偏微分方程代数方程组进行CFD数值求解时，需要应用Gauss-Seidel等迭代方法进行迭代求解。然而Gauss-Seidel迭代方法本身存在一定缺陷，即刚开始迭代收敛很快，随着迭代步数增加变得越来越慢，甚至最后基本停滞不收敛。这主要是由于Gauss-Seidel迭代法只对频率较大的误差有良好的消除效果，而消减频率较小的误差的速度往往十分缓慢。因此在迭代过程中，高频误差往往会先被筛选出来消除掉，最后留下低频误差，拖慢整体收敛速度。同时，误差频率的高低与网格尺寸大小有关，即在细网格中的低频误差可能在粗网格中就会变成高频误差。基于此，本公开首先提供一种旋转机械的流体仿真方法，图1示出了旋转机械的流体仿真方法的流程图，其中，上述旋转机械的流体仿真方法可以包括步骤S110至步骤S140。在步骤S110中，在旋转机械的三维模型中获取待仿真区域，并确定流体工质以及流体工质对应的初始流动参数。在本公开的一种示例实施方式中，可以首先获取旋转机械的三维模型，以单机半开式离心压气机实体三维模型为例，参照图2，离心压气机叶轮实体三维模型包括：转子叶片23、轮盖22、后盘24、轮毂21等。在得到三维模型之后可以在三维模型中进行流体域提取以获取待仿真区域，具体的，可以首先对三维模型进行域划分，划分之后可以得到流体将流动的区域，即流体域，以及固定表位区域。在提取流体域时，可以首先获取模型中各区域的子午视图，举例而言，图3示出了图2中转子的子午视图，转子的子午视图中可以包括轮盖面31、出口面32、进口面33以及轮毂面34。子午视图提供了旋转机械内部流体流动的概念视图，可以基于子午视图来确定上述流体域。基于子午视图获取的流体域精度更高，基于子午视图获取流体域的具体的获取方式可以参照相关技术，在此不做赘述。在一些示例中，可以首先提取流体域的全流道计算域，全流道计算域是整个流体流动相关的区域。具体的，全流道计算域可以参照图4，在一些示例中，可以将上述全流道计算域作为上述待仿真模型，也可以在上述全流道计算域中提取单流道计算域，将单流道计算域作为上述待仿真模型。在提取单流道计算域时，可以在全流道计算域中提取单个流道的部分，例如，对于轴对称结构，可以提取一个扇区作为单流道计算域。具体的，如图4所示的全流道计算域，流场在轴向均匀分布，因此，可以提取如图5所示的区域作为单流道计算域，采用单流道计算域进行流体仿真能够加快计算速度，减小计算量。在一些示例中，在得到待仿真区域之后，可以确定流体工质以及流体工质对应的初始流动参数。其中，流体工质是指用来传递能量或物质的液体或气体，初始流动参数是指流体在流动状态下的各种物理量，用于表征流体运动的性质和状态，主要参数可以包括速度、压力、温度、密度等信息。在步骤S120中，基于预设网格阶数确定网格节点数，并基于网格节点数对待仿真区域进行网格划分得到多个初始网格。在得到流体工质对应的初始流动参数之后，可以获取预设网格阶数，举例而言，预设网格阶数可以是如2、3等常数，具体的数值可以根据用户需求进行自定义。具体的，网格节点数可以根据节点数计算公式进行获取，节点数计算公式为：节点数=其中n为网格阶数；x为网格系数，需要说明的是，网格系数x的值可以基于用户需求进行自定义设置，在此不做赘述。在得到上述网格节点数之后，可以基于上述网格节点对上述计算流体域进行网格划分以得到多个初始网格，参照图6所示，将计算流体域中的待仿真区域划分为多个初始网格，具体的划分方式可以参照相关技术，在此不做赘述。需要说明的是，初始网格可以包括结构化网格、非结构化网格以及混合网格等多种类型，其中，结构化网格可以由规则排列的四边形或六面图单元构成，非结构化网格可以由不规则的三角形或四面体单元构成，混合网格包括了上述结构化网格和非结构化网格。在本示例实施方式中，以上述初始网格为结构化网格为例进行说明。初始网格的数量与上述网格节点数相关，基于网格节点数划分网格的具体过程可以参照相关技术，在此不做赘述。在步骤S130中，基于网格阶数和多个初始网格确定多阶参考网格。在一些示例中，在进行网格划分之后，可以基于上述网格阶数确定多阶参考网格，具体的，可以首先获取网格合并系数m，然后根据上述网格系数、网格阶数以及初始网格确定多阶参考网格，其中，上述网格合并系数m可以是3、也可以是2或者5等正整数，具体的数值可以基于用户需求进行自定义。在一些示例中，可以将2的mn次方个初始网格合并作为第n阶参考网格。举例而言，当m等于3时，参照图7，可以将8个初始网格构成的参考网格作为第1阶参考网格，将64个初始网格构成的参考网格作为第2阶参考网格。在步骤S140中，基于初始网格和多阶参考网格对初始流动参数进行迭代计算得到目标流动参数。在本公开的一些示例实施方式中，在得到上述初始网格和多阶参考网格之后，可以对初始流动参数进行迭代计算得到目标流动参数。具体的，可以首先基于用户需求选择求解器和算法，例如，有限元体积法、有限差值法等，利用上述求解器和算法对初始流动参数进行迭代，在每次迭代之后，根据当前的流动参数计算下一时间步或者迭代步的流动参数，并更新上述流动参数。在一些示例中，可以将上述初始流动参数在初始网格中和参考网格之间进行迭代和插值运算，直至收敛得到目标流动参数。具体的，可以在初始网格中迭代计算滤去初始高频误差分量；将计算后误差转移阶数较低的参考网格中进行迭代滤去相对频率较低的误差，然后转移到阶数较高的网格中进行跌代计算以提升收敛速度。在一些示例中，可以首先基于网格阶数和多个初始网格确定多阶参考网格，即确定多个体积较大的网格，并基于初始网格和多阶所述参考网格对初始流动参数进行迭代计算得到目标流动参数，可以利用初始网格滤去相对频率较低的误差，然后采用体积较大的网格进行迭代计算，增加迭代效率，且能够保证精度。在一些示例中，可以对第一流动参数进行n次延拓迭代得到第n阶参考网格的第一中间流动参数，然后再对第n阶参考网格的第一中间流动参数进行n次插值修正以更新所述第一流动参数和残差值。在另一些示例中，参照图8，可以首先执行步骤S810，对初始流动参数进行预迭代得到初始网格对应的第一流动参数和残差值；然后执行步骤S820，对第一流动参数进行n次延拓迭代得到第n阶参考网格的第一中间流动参数；之后再执行步骤S830，对第n阶参考网格的第一中间流动参数进行n-1次插值修正得到第1阶参考网格的第二流动参数；接下来执行步骤S840，对第二流动参数进行n-1次延拓迭代得到第n阶参考网格的第二中间流动参数；最后执行步骤S850，对第n阶参考网格的第二中间流动参数进行n次插值修正以更新第一流动参数和残差值。在一些示例中，在步骤S810至步骤S850之间，可以多次执行步骤S820至步骤S840，具体的执行次数不做赘述。也可以多次执行步骤S810至步骤S850在上述第一流动参数对应的残差值满足预设条件时，将第一流动参数作为上述目标流动参数。举例而言，在上述网格阶数为2时，参照图9，首先对初始流动参数进行预迭代得到初始网格对应的第一流动参数和残差值；然后对第一流动参数进行2次延拓迭代得到第2阶参考网格的第一中间流动参数；之后对第2阶参考网格的第一中间流动参数进行1次插值修正得到第1阶参考网格的第二流动参数；接下来对第二流动参数进行1次延拓迭代得到第2阶参考网格的第二中间流动参数；最后对第2阶参考网格的第二中间流动参数进行2次插值修正得到以更新第一流动参数和残差值。在上述网格阶数为3时，参照图10，首先对初始流动参数进行预迭代得到初始网格对应的第一流动参数和残差值；然后对第一流动参数进行3次延拓迭代得到第3阶参考网格的第一中间流动参数；之后对第3阶参考网格的第一中间流动参数进行2次插值修正得到第2阶参考网格的第二流动参数；接下来对第二流动参数进行2次延拓迭代得到第3阶参考网格的第二中间流动参数；最后对第3阶参考网格的第二中间流动参数进行3次插值修正得到以更新第一流动参数和残差值。需要说明的是，上述n次延拓迭代中的迭代步数可以相同，也可以不同，具体的迭代步数可以根据用户需求进行自定义设置，在此不做赘述。在一些示例中，在基于初始网格和多阶参考网格对初始流动参数进行迭代计算得到目标流动参数时，可以首先定义流动参数与残差之间的关系，具体如下：其中W表示守恒物理量；表示对应网格体积，即/＞为初始网格的体积；R表示对应网格阶数下的残差；下标h表示初始网格；2h表示一阶参考网格；4h表示2阶参考网格。在一些示例中，可以将前一阶的参考网格作为较细的网格，将后一阶的参考网格作为较粗的网格，首先可以对上述流动参数进行预迭代得到初始网格的初始流动参数，具体的，可以设置迭代步数a，将初始物理量在细网格上进行预迭代a步，并计算出此时的物理量大小和残差值：其中，上述迭代步数a的具体数值可以根据用户需求进行自定义，在此不做赘述。举例而言，令为细网格初始物理量的值；/＞为在细网格进行预迭代a步之后的物理量值；/＞为预迭代之前的残差，/＞为此时预迭代之后细网格中残差。下面以初始网格对应的第一流动参数计算第1阶参考网格的流动参数为例对延拓迭代进行说明，具体的，可以设置延拓迭代的步数b，迭代步数b的具体数值可以根据用户需求进行自定义，在此不做赘述。可以将前一阶的参考网格作为较细的网格，将后一阶的参考网格作为较粗的网格，举例而言，对于第M阶的参考网格以及第M+1节的参考网格，可以将第M阶的参考网格作为细网格，将第M+1节的参考网格作为粗网格，以初始网格到第1阶参考网格为例，此时的迭代过程可以如下：为第1阶的参考网格对应的流动参数；/＞表示将流动参数由细网格插值到粗网格的系数；/＞为第一流动参数进行预迭代a步和延拓迭代b步后的值。在迭代的过程中同时计算每次迭代之后的残差值，即计算出强迫函数，强迫函数为：其中，为第一流动参数对应的残差值进行预迭代a步和延拓迭代b步后的值，/＞为第1阶的参考网格的初始残差值。在一些示例中，参照图11，可以将细网格中的流动参数进行体积加权平均得到粗网格中的流动参数，具体的，图11中的A点的流动参数可以为：可以将细网格中的残差进行相加得到粗网格中的残差，具体的，图12中的A点的残差可以表示为：下面以采用第1阶参考网格的流动参数计算初始网格的流动参数的过程为例对插值修正过程进行说明，对第n阶参考网格的第一中间流动参数进行n次插值修正以更新所述第一流动参数和残差值的过程中，可以设置限制迭代步数c，然后首先在粗网格上进行时间推进，往后迭代，具体的，以初始网格为细网格，第1阶的参考网格为粗网格为例进行说明，在第1阶参考网格上进行时间推进，具体的：其中，为第1阶参考网格对应的流动参数，/＞为初始网格的体积，/＞为第1阶参考网格对应的残差值，/＞为上述强迫函数，t为时间。然后可以计算上述粗网格上的流动参数的差量，举例而言，计算第1阶参考网格的差量，具体的：其中，为第1阶参考网格中得流动参数在迭代之前和迭代c次前后的差量，第1阶参考网格中得流动参数在限制迭代c次后的值，/＞为第1阶参考网格中得流动参数尚未进行限制迭代的流动参数。然后可以基于得到的上述差值，将差量插值到细网格，举例而言，将第1阶参考网格中的流动参数插值到初始网格参数中，具体的：其中，为细网格的流动参数；/＞表示将流动参数由粗网格插值到细网格的系数；/＞为粗网格的流动参数。在一些示例中，参照图11，可以根据细网格相邻的四个粗网格的流动参数就加权以得到细网格的流动参数，举例而言，最近的网格权重为9/16，次近的为3/16，最远的为1/16，即细网格中点的流动参数的值为：其中，表示A点的流动参数，/＞表示B点的流动参数，/＞表示C点的流动参数，表示D点的流动参数。在上述残差值满足预设条件时，将第一流动参数作为所述目标流动参数。其中，上述预设条件可以是在这个量级进行上下波动，即残差值收敛之后，将上述第一流动参数作为上述目标流动参数。也就是说，可以反复执行上述粗网格到细网格的迭代以及细网格到粗网格的插值过程，以使得上述残差值满足上述预设条件。需要说明的是，上述从初始网格的第一流动参数到第1阶参考网格的流动参数的计算方法，也可以应用到第M阶参考网格的流动参数到第M+1阶参考网格的流动参数的计算。同理，上述从第1阶参考网格的流动参数到初始网格的第一流动参数的计算方法，也可以应用到第M+1阶参考网格的流动参数到第M阶参考网格的流动参数的计算。在一些示例中，在得到上述初始网格之后，可以利用泊松方程对初始网格进行光滑处理，具体的，可以首先获取上述初始网格的物理域坐标，然后将物理域坐标向计算域坐标/＞变换的椭圆方程写成：式中，P、Q、R是源项，P、Q、R均是用来控制网格间距、网格角度的控制函数，用来控制网格分布，具体形式可以参照相关技术，在此不做赘述。使用作为自变量，对方程进行修正后，对上述控制函数进行求解以对初始网格进行光滑处理，具体的光滑处理操作可以参照相关技术，在此不做赘述。在一些示例中，在进行流体仿真时，可以首先确定边界条件和求解器的相关参数，具体的设置参数可以根据用户需求进行自定义，也可以参照现有技术，在此不做赘述。在完成对边界条件以及求解器的设定之后，可以给定进口总压和出口静压，应用Gauss-Seidel进行迭代求解，具体过程如下：对于N-S方程：其中，表示守恒变量数组，包括密度、坐标轴的三个方向的速度和能量，/＞、/＞、/＞分别表示三个方向上的通量，/＞、/＞、/＞分别表示坐标轴的三个方向的粘性通量。此时已知，求/＞，定义残差为：其中，表示第n步的守恒变量数组，/＞表示第n+1步的守恒变量数组，/＞表示第n步到第n+1步的守恒变量数组的变化值。推导得到关于的线性方程组为：其中，表示由第n步的通量、粘性通量求得的三个矩阵，/＞表示第n步对应通量和粘性通量的差值，/＞表示时间的变化量。使用LU法求解这个线性方程得到，回代得到：如此逐步往后进行迭代，直至收敛。参照图12，其示出了本公开与现有技术中的残差值收敛时的迭代步数对比示意图，采用本公开的旋转机械的流体仿真方法的曲线A在第200步迭代时残差值已经完成收敛，现有技术中的流体仿真方法的曲线B在第800步时才完成收敛。图13示出了本公开的流体仿真方法中残差值的变化示例图，图14示出了相关技术中的流体仿真方法中的残差值的变化示意图，对比图13和图14，能够得到本公开的收敛速度较快，且收敛后残差值的稳定性更高，即本公开的旋转机械的流体仿真方法相较于现有技术中具有流体仿真效率更高，且精度更高的优点。进一步的，本公开还提供一种旋转机械的流体仿真装置，参照图15所示，旋转机械的流体仿真装置1500可以包括获取模块1510、划分模块1520、确定模块1530以及仿真模块1540。其中：获取模块1510可以用于在旋转机械的三维模型中获取待仿真区域，并确定流体工质以及流体工质对应的初始流动参数。划分模块1520可以用于基于预设网格阶数确定网格节点数，并基于网格节点数对待仿真区域进行网格划分得到多个初始网格。确定模块1530可以用于基于网格阶数和多个初始网格确定多阶参考网格。仿真模块1540可以用于基于初始网格和多阶参考网格对初始流动参数进行迭代计算得到目标流动参数。在一些示例中，仿真模块1540还可以用于对初始流动参数进行预迭代得到初始网格对应的第一流动参数和残差值；对第一流动参数进行n次延拓迭代得到第n阶参考网格的第一中间流动参数；对第n阶参考网格的第一中间流动参数进行n次插值修正得到以更新第一流动参数和残差值；响应残差值满足预设条件，将第一流动参数作为目标流动参数。在一些示例中，仿真模块1540还可以用于对初始流动参数进行预迭代得到初始网格对应的第一流动参数和残差值；对第一流动参数进行n次延拓迭代得到第n阶参考网格的第一中间流动参数；对第n阶参考网格的第一中间流动参数进行n-1次插值修正得到第1阶参考网格的第二流动参数；对第二流动参数进行n-1次延拓迭代得到第n阶参考网格的第二中间流动参数；对第n阶参考网格的第二中间流动参数进行n次插值修正以更新第一流动参数和残差值；响应残差值满足预设条件，将第一流动参数作为目标流动参数。在一些示例中，划分模块1520还可以用于获取预设网格阶数以及网格系数；基于网格阶数和网格系数确定网格节点数；基于网格节点数对待仿真区域进行网格划分得到多个初始网格。在一些示例中，在基于网格节点数对待仿真区域进行网格划分得到多个初始网格之后旋转机械的流体仿真装置1500还可以用于利用泊松方程对初始网格进行光滑处理。在一些示例中，确定模块1530还可以用于获取网格合并系数，并基于网格合并系数、网格阶数和多个初始网格确定多阶参考网格。在一些示例中，参考网格的阶数和网格阶数相同；确定模块1530还可以用于将2的mn次方个初始网格合并作为第n阶参考网格，其中，m为网格合并系数，n为网格阶数。请参考图16，其示出了本公开一个示例性实施例提供的电子设备的结构方框图。在一些示例中，电子设备可以为智能手机、智能手表、台式电脑、手提电脑、虚拟现实终端、增强现实终端、无线终端和膝上型便携计算机等设备中的至少一种。电子设备具有通信功能，可以接入有线网络或无线网络。电子设备可以泛指多个终端中的一个，本领域技术人员可以知晓，上述终端的数量可以更多或更少。可以理解地，电子设备承担本公开技术方案的计算及处理工作，本公开实施例对此不作限定。应该理解，上述的装置实施例仅是示意性的，本公开的装置还可通过其它的方式实现。例如，上述实施例中单元/模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。例如，多个单元、模块或组件可以结合，或者可以集成到另一个系统，或一些特征可以忽略或不执行。另外，若无特别说明，在本公开各个实施例中的各功能单元/模块可以集成在一个单元/模块中，也可以是各个单元/模块单独物理存在，也可以两个或两个以上单元/模块集成在一起。上述集成的单元/模块既可以采用硬件的形式实现，也可以采用软件程序模块的形式实现。集成的单元/模块如果以硬件的形式实现时，该硬件可以是数字电路，模拟电路等等。硬件结构的物理实现包括但不局限于晶体管，忆阻器等等。若无特别说明，处理器可以是任何适当的硬件处理器，比如CPU、GPU、FPGA、DSP和ASIC等等。若无特别说明，存储单元可以是任何适当的磁存储介质或者磁光存储介质，比如，阻变式存储器RRAM、动态随机存取存储器DRAM、静态随机存取存储器SRAM、增强动态随机存取存储器EDRAM、高带宽内存HBM、混合存储立方 HMC等等。集成的单元/模块如果以软件程序模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储器中。基于这样的理解，本公开的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储器中，包括若干指令用以使得一台计算机设备执行本公开各个实施例方法的全部或部分步骤。而前述的存储器包括：U盘、只读存储器、随机存取存储器、移动硬盘、磁碟或者光盘等各种可以存储程序代码的介质。如图16所示，该电子设备1600可以包括：至少一个处理器1610、存储器1620、和通信接口1630。存储器1620，用于存储程序。具体地，程序可以包括程序代码，程序代码包括计算机操作指令。存储器1620可能包含高速RAM存储器，也可能还包括非易失性存储器，例如至少一个磁盘存储器。处理器1610用于执行存储器1620存储的计算机执行指令，以实现前述方法实施例所描述的旋转机械的流体仿真方法。其中，处理器1610可能是一个中央处理器，或者是特定集成电路，或者是被配置成实施本公开实施例的一个或多个集成电路。该电子设备1600还可以包括通信接口1630，以通过通信接口1630可以与外部设备进行通信交互。在具体实现上，如果通信接口1630、存储器1620和处理器1610独立实现，则通信接口1630、存储器1620和处理器1610可以通过总线相互连接并完成相互间的通信。总线可以是工业标准体系结构总线、外部设备互连总线或扩展工业标准体系结构总线等。总线可以分为地址总线、数据总线、控制总线等，但并不表示仅有一根总线或一种类型的总线。可选的，在具体实现上，如果通信接口1630、存储器1620和处理器1610集成在一块芯片上实现，则通信接口1630、存储器1620和处理器1610可以通过内部接口完成通信。本公开还提供了一种计算机可读存储介质，该计算机可读存储介质可以包括：U盘、移动硬盘、只读存储器随机存取存储器、磁盘或者光盘等各种可以存储程序代码的介质，具体的，该计算机可读存储介质中存储有程序指令，程序指令用于上述实施例中的旋转机械的流体仿真方法。本公开实施例还提供了一种计算机程序产品，该计算机程序产品包括计算机指令，该计算机指令存储在计算机可读存储介质中；电子设备的处理器从计算机可读存储介质读取该计算机指令，处理器执行该计算机指令，使得该电子设备执行以实现上述各个实施例的旋转机械的流体仿真方法。本领域技术人员应该可以意识到，在上述一个或多个示例中，本公开实施例所描述的功能可以用硬件、软件、固件或它们的任意组合来实现。当使用软件实现时，可以将这些功能存储在计算机可读介质中或者作为计算机可读介质上的一个或多个指令或代码进行传输。计算机可读介质包括计算机存储介质和通信介质，其中通信介质包括便于从一个地方向另一个地方传送计算机程序的任何介质。存储介质可以是通用或专用计算机能够存取的任何可用介质。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其他实施例的相关描述。上述实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。本领域技术人员在考虑说明书及实践这里申请的发明后，将容易想到本公开的其它实施方案。本公开旨在涵盖本公开的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本公开的一般性原理并包括本公开未申请的本技术领域中的公知常识或惯用技术手段。应当理解的是，本公开并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。本公开的范围仅由所附的权利要求书来限制。
