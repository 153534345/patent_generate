标题title
面向联邦推荐系统的隐私泄露检测方法及装置
摘要abst
本申请实施例提供了一种面向联邦推荐系统的隐私泄露检测方法及装置，涉及数据处理技术领域，其中，一种面向联邦推荐系统的隐私泄露检测方法，包括：获取各个预定项目对应的嵌入梯度，基于所获取的各个预定项目对应的嵌入梯度之间的相似关系，预估针对各个预定项目的两类评级分布，分别以两类评级分布中的项目评级作为候选评级真值，构建两类影子数据，基于两类影子数据，对服务端的本地推荐模型进行训练，得到两类预测结果，基于两类预测结果，确定各个预定项目的目标评级真值以及目标预测结果，基于目标评级真值与目标预测结果的匹配关系，确定联邦推荐系统的隐私数据泄露的检测结果。可见，本方案可以对联邦推荐系统进行有效地数据泄露检测。
权利要求书clms
1.一种面向联邦推荐系统的隐私泄露检测方法，其特征在于，所述联邦推荐系统包括用户端和服务端，所述方法包括：获取各个预定项目对应的嵌入梯度；其中，各个预定项目对应的嵌入梯度为所述用户端根据各个预定项目的关于同一用户的训练数据集，对本地推荐模型进行训练时所生成的；基于所获取的各个预定项目对应的嵌入梯度之间的相似关系，按照预定的项目评级确定方式，预估针对各个预定项目的第一类评级分布和第二类评级分布；其中，所述项目评级确定方式包括针对任意两个项目，若相似关系表征相似则设定为相同的项目评级且若相似关系表征不相似则设定为不同的项目评级，以及针对同一项目，在不同的评级分布中具有不同的项目评级；分别以所述第一类评级分布中的项目评级和第二类评级分布中的项目评级作为候选评级真值，构建第一类影子数据和第二类影子数据；其中，所述第一类影子数据和第二类影子数据均为各个预定项目的关于同一用户的训练数据集；分别基于第一类影子数据和第二类影子数据，对所述服务端的本地推荐模型进行训练，得到所述第一类影子数据对应的第一类预测结果和第二类影子数据对应的第二类预测结果；其中，所述第一类预测结果和第二类预测结果均包括各个预定项目的候选预测结果以及对应的嵌入梯度；基于所述第一类预测结果和第二类预测结果，以及所获取到的各个预定项目对应的嵌入梯度，确定各个预定项目的目标评级真值以及目标预测结果；基于各个预定项目的目标评级真值与目标预测结果的匹配关系，确定所述联邦推荐系统的隐私数据泄露的检测结果。2.根据权利要求1所述的方法，其特征在于，所述基于所述第一类预测结果和第二类预测结果，以及所获取到的各个预定项目对应的嵌入梯度，确定各个预定项目的目标评级真值以及目标预测结果，包括：针对每一预定项目，分别确定第一类预测结果中该预定项目对应的嵌入梯度与所获取到的该预定项目对应的嵌入梯度的相似关系，以及第二类预测结果中该预定项目的嵌入梯度与所获取到的该预定项目对应的嵌入梯度的相似关系，基于所确定出的相似关系，从所述第一类评级分布所包含的该预定项目的项目评级和第二类评级分布所包含的该预定项目的项目评级中，选取该预定项目对应的目标评级真值；针对每一预定项目，确定所述第一类预测结果和第二类预测结果中的、目标影子数据对应的预测结果，从所确定的预测结果中，确定该预定项目的候选预测结果，作为该预定项目的目标预测结果；其中，所述目标影子数据为基于该预定项目的目标评级真值所构建得到的影子数据。3.根据权利要求2所述的方法，其特征在于，所述基于所确定出的相似关系，从所述第一类评级分布所包含的该预定项目的项目评级和第二类评级分布所包含的该预定项目的项目评级中，选取该预定项目对应的目标评级真值，包括：基于所确定的相似关系，从第一类预测结果所包含的该预定项目对应的嵌入梯度和第二类预测结果所包含的该预定项目对应的嵌入梯度中，选取与所获取到的该预定项目对应的嵌入梯度相似程度高的嵌入梯度，得到待利用嵌入梯度；从所述第一类评级分布和第二类评级分布中，确定所述待利用嵌入梯度对应的影子数据构建时所基于的评级分布；其中，所述待利用嵌入梯度对应的影子数据为用于训练得到所述待利用嵌入梯度的影子数据；将所确定出的评级分布中该预定项目的项目评级，确定为该预定项目对应的目标评级真值。4.根据权利要求1所述的方法，其特征在于，所述基于各个预定项目的目标评级真值与目标预测结果的匹配关系，确定所述联邦推荐系统的隐私数据泄露的检测结果，包括：针对每一预定项目，判断该预定项目对应的目标评级真值与目标预测结果之间是否一致，得到该预定项目的判断结果；基于具有表征相一致的判断结果的预定项目的数量，与各个预定项目的总数量的比例，确定所述联邦推荐系统的隐私数据泄露的检测结果。5.根据权利要求4所述的方法，其特征在于，所述基于具有表征相一致的判断结果的预定项目的数量，与各个预定项目的总数量的比例，确定所述联邦推荐系统的隐私数据泄露的检测结果，包括：判断具有表征相一致的判断结果的预定项目的数量，与各个预定项目的总数量的比例是否大于预定阈值；若大于预定阈值，将第一检测结果确定为所述联邦推荐系统的隐私数据泄露的检测结果；若不大于预定阈值，将第二检测结果确定为所述联邦推荐系统的隐私数据泄露的检测结果；其中，所述第一检测结果用于表征所述联邦推荐系统存在隐私数据泄露问题的检测结果，所述第二检测结果用于表征所述联邦推荐系统未存在隐私数据泄露问题的检测结果。6.根据权利要求1-5任一项所述的方法，其特征在于，所述所获取的各个预定项目对应的嵌入梯度之间的相似关系，包括：基准项目对应的嵌入梯度分别与各个其他预定项目对应的嵌入梯度之间的相似关系；其中，所述基准项目为各个预定项目中的一个项目，任一其他预定项目为各个预定项目中除所述基准项目以外的一个项目；所述基于所获取的各个预定项目对应的嵌入梯度之间的相似关系，按照预定的项目评级确定方式，预估针对各个预定项目的第一类评级分布和第二类评级分布，包括：为所述基准项目设置第一项目评级，并针对每一其他预定项目，响应于该其他预定项目对应的嵌入梯度与所述基准项目对应的嵌入梯度的相似关系表征相似，为该其他预定项目设置所述第一项目评级，响应于该其他预定项目对应的嵌入梯度与所述基准项目对应的嵌入梯度的相似关系表征不相似，为该其他预定项目设置第二项目评级，得到第一类评级分布；其中，所述第一项目评级和第二项目评级为不同的项目评级；为所述基准项目设置所述第二项目评级，并针对每一其他预定项目，响应于该其他预定项目对应的嵌入梯度与所述基准项目对应的嵌入梯度的相似关系表征相似，为该其他预定项目设置所述第二项目评级，响应于该其他预定项目对应的嵌入梯度与所述基准项目对应的嵌入梯度的相似关系表征不相似，为该其他预定项目设置所述第一项目评级，得到第二类评级分布。7.一种面向联邦推荐系统的隐私泄露检测装置，其特征在于，所述联邦推荐系统包括用户端和服务端，所述装置包括：获取模块，用于获取各个预定项目对应的嵌入梯度；其中，各个预定项目对应的嵌入梯度为所述用户端根据各个预定项目的关于同一用户的训练数据集，对本地推荐模型进行训练时所生成的；预估模块，用于基于所获取的各个预定项目对应的嵌入梯度之间的相似关系，按照预定的项目评级确定方式，预估针对各个预定项目的第一类评级分布和第二类评级分布；其中，所述项目评级确定方式包括针对任意两个项目，若相似关系表征相似则设定为相同的项目评级且若相似关系表征不相似则设定为不同的项目评级，以及针对同一项目，在不同的评级分布中具有不同的项目评级；构建模块，用于分别以所述第一类评级分布中的项目评级和第二类评级分布中的项目评级作为候选评级真值，构建第一类影子数据和第二类影子数据；其中，所述第一类影子数据和第二类影子数据均为各个预定项目的关于同一用户的训练数据集；训练模块，用于分别基于第一类影子数据和第二类影子数据，对所述服务端的本地推荐模型进行训练，得到所述第一类影子数据对应的第一类预测结果和第二类影子数据对应的第二类预测结果；其中，所述第一类预测结果和第二类预测结果均包括各个预定项目的候选预测结果以及对应的嵌入梯度；第一确定模块，用于基于所述第一类预测结果和第二类预测结果，以及所获取到的各个预定项目对应的嵌入梯度，确定各个预定项目的目标评级真值以及目标预测结果；第二确定模块，用于基于各个预定项目的目标评级真值与目标预测结果的匹配关系，确定所述联邦推荐系统的隐私数据泄露的检测结果。8.一种电子设备，其特征在于，包括：存储器，用于存放计算机程序；处理器，用于执行存储器上所存放的程序时，实现权利要求1-6任一所述的方法。9.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质内存储有计算机程序，所述计算机程序被处理器执行时实现权利要求1-6任一所述的方法。10.一种计算机程序，其特征在于，所述计算机程序在计算机上运行时，使得计算机执行权利要求1-6任一项所述的方法。
说明书desc
技术领域本申请涉及数据处理技术领域，特别是涉及面向联邦推荐系统的隐私泄露检测方法及装置。背景技术随着时代的发展，联邦推荐系统在各种场景中被广泛使用，例如，音乐推荐、电影推荐、购物商品推荐等各种项目推荐场景。联邦推荐系统的特点为可以在不共享用户数据的情况下，训练出各个用户端侧的推荐模型，该推荐模型可以用于针对各个项目进行项目评级，即分析用户针对各个项目是否感兴趣。由于联邦推荐系统是一种开放型系统，因此，为了保证数据安全性，存在针对联邦推荐系统进行隐私数据泄露情况的检测分析需求，以便为进一步提升联邦推荐系统的安全性提供实现基础。因此，亟需一种面向联邦推荐系统的隐私泄露检测方法，以对联邦推荐系统进行有效地隐私数据泄露检测。发明内容本申请实施例的目的在于提供一种面向联邦推荐系统的隐私泄露检测方法及装置，以实现对联邦推荐系统进行有效地隐私数据泄露检测。具体技术方案如下：第一方面，本申请实施例提供了一种面向联邦推荐系统的隐私泄露检测方法，所述联邦推荐系统包括用户端和服务端，所述方法包括：获取各个预定项目对应的嵌入梯度；其中，各个预定项目对应的嵌入梯度为所述用户端根据各个预定项目的关于同一用户的训练数据集，对本地推荐模型进行训练时所生成的；基于所获取的各个预定项目对应的嵌入梯度之间的相似关系，按照预定的项目评级确定方式，预估针对各个预定项目的第一类评级分布和第二类评级分布；其中，所述项目评级确定方式包括针对任意两个项目，若相似关系表征相似则设定为相同的项目评级且若相似关系表征不相似则设定为不同的项目评级，以及针对同一项目，在不同的评级分布中具有不同的项目评级；分别以所述第一类评级分布中的项目评级和第二类评级分布中的项目评级作为候选评级真值，构建第一类影子数据和第二类影子数据；其中，所述第一类影子数据和第二类影子数据均为各个预定项目的关于同一用户的训练数据集；分别基于第一类影子数据和第二类影子数据，对所述服务端的本地推荐模型进行训练，得到所述第一类影子数据对应的第一类预测结果和第二类影子数据对应的第二类预测结果；其中，所述第一类预测结果和第二类预测结果均包括各个预定项目的候选预测结果以及对应的嵌入梯度；基于所述第一类预测结果和第二类预测结果，以及所获取到的各个预定项目对应的嵌入梯度，确定各个预定项目的目标评级真值以及目标预测结果；基于各个预定项目的目标评级真值与目标预测结果的匹配关系，确定所述联邦推荐系统的隐私数据泄露的检测结果。第二方面，本申请实施例提供了一种面向联邦推荐系统的隐私泄露检测装置，所述联邦推荐系统包括用户端和服务端，所述装置包括：获取模块，用于获取各个预定项目对应的嵌入梯度；其中，各个预定项目对应的嵌入梯度为所述用户端根据各个预定项目的关于同一用户的训练数据集，对本地推荐模型进行训练时所生成的；预估模块，用于基于所获取的各个预定项目对应的嵌入梯度之间的相似关系，按照预定的项目评级确定方式，预估针对各个预定项目的第一类评级分布和第二类评级分布；其中，所述项目评级确定方式包括针对任意两个项目，若相似关系表征相似则设定为相同的项目评级且若相似关系表征不相似则设定为不同的项目评级，以及针对同一项目，在不同的评级分布中具有不同的项目评级；构建模块，用于分别以所述第一类评级分布中的项目评级和第二类评级分布中的项目评级作为候选评级真值，构建第一类影子数据和第二类影子数据；其中，所述第一类影子数据和第二类影子数据均为各个预定项目的关于同一用户的训练数据集；训练模块，用于分别基于第一类影子数据和第二类影子数据，对所述服务端的本地推荐模型进行训练，得到所述第一类影子数据对应的第一类预测结果和第二类影子数据对应的第二类预测结果；其中，所述第一类预测结果和第二类预测结果均包括各个预定项目的候选预测结果以及对应的嵌入梯度；第一确定模块，用于基于所述第一类预测结果和第二类预测结果，以及所获取到的各个预定项目对应的嵌入梯度，确定各个预定项目的目标评级真值以及目标预测结果；第二确定模块，用于基于各个预定项目的目标评级真值与目标预测结果的匹配关系，确定所述联邦推荐系统的隐私数据泄露的检测结果。第三方面，本申请实施例提供了一种电子设备，包括：存储器，用于存放计算机程序；处理器，用于执行存储器上所存放的程序时，实现上述任一面向联邦推荐系统的隐私泄露检测方法。第四方面，本申请实施例提供了一种计算机可读存储介质，所述计算机可读存储介质内存储有计算机程序，所述计算机程序被处理器执行时实现上述任一面向联邦推荐系统的隐私泄露检测方法。第五方面，本申请实施例提供了一种计算机程序，所述计算机程序在计算机上运行时，使得计算机执行上述任一面向联邦推荐系统的隐私泄露检测方法。本申请实施例有益效果：本申请实施例提供的面向联邦推荐系统的隐私泄露检测方法，可以基于各个预定项目对应的嵌入梯度的相似关系，预估得到针对各个预定项目的第一类评级分布和第二类评级分布，并构建第一类影子数据和第二类影子数据，两类影子数据具有完全相反的项目评级，其中，一类影子数据的项目评级与目标评级真值相似，再对两类影子数据进行训练，得到第一类预测结果及第二类预测结果，基于第一类预测结果与第二类预测结果，确定得到目标评级真值及目标预测结果，从而根据目标评级真值及目标预测结果的匹配关系，确定联邦推荐系统的隐私数据泄露的检测结果，故本方案可以对联邦推荐系统进行有效地隐私数据泄露检测，从而提高联邦推荐系统的安全性。以及，本申请实施例抛弃了相关技术中的对用户的正负采样比进行假设的方案，而是基于各个预定项目对应的嵌入梯度，构建出项目评级完全相反的第一类影子数据和第二类影子数据，从而最终基于第一类影子数据和第二类影子数据，确定联邦推荐系统的隐私数据泄露的检测结果，故本申请实施例无需对用户的正负采样比进行假设，从而提高对联邦推荐系统进行检测的准确率。当然，实施本申请的任一产品或方法并不一定需要同时达到以上所述的所有优点。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，还可以根据这些附图获得其他的实施例。图1为本申请实施例提供的一种联邦推荐系统中的用户端与服务端的训练原理图；图2为本申请实施例提供的第一种面向联邦推荐系统的隐私泄露检测方法的流程示意图；图3为本申请实施例提供的第二种面向联邦推荐系统的隐私泄露检测方法的流程示意图；图4为本申请实施例提供的第三种面向联邦推荐系统的隐私泄露检测方法的流程示意图；图5为本申请实施例提供的一种面向联邦推荐系统的隐私泄露检测装置的结构示意图；图6为本申请实施例提供的一种电子设备的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员基于本申请所获得的所有其他实施例，都属于本申请保护的范围。下面，首先对本申请实施例中所涉及的专业术语进行介绍：联邦推荐系统：将推荐系统与联邦分布场景相结合的一种分布式推荐系统范式，旨在处理分布式数据源及保护用户隐私的需求。联邦推荐系统可以理解为用户端和服务端，用户端及服务端均具有本地推荐模型，联邦推荐系统可以对用户端及服务端的本地推荐模型进行联合训练，也就是，服务端可以基于用户端的上报的模型参数，对服务端的本地推荐模型进行模型参数更新，并下发至用户端，以使用户端也更新模型参数，从而达到联合训练的目的。余弦相似度：一种用于测量两个非零向量之间相似度的数学度量方法，通过确定两个向量在多维空间中的夹角，从而评估它们之间的相似程度。计算公式如下： ;其中，表示/＞和/＞之间的余弦相似度，/＞分别表示向量/＞或B的范数，通常是欧氏范数，计算方式为每个元素的平方和然后开根号。余弦相似度的值在-1到1之间，值越接近1表示越相似，值越接近-1表示越不相似，值接近0表示中等相似度或不相关。为了更好的理解本方案，下面先对相关技术进行简单介绍：相关技术中面向联邦推荐系统的隐私泄露检测方法，可以获取任一时刻下各个预定项目对应的嵌入梯度，根据所假设的正负采样比，对各个预定项目随机分配项目评级，以构建影子数据，构建得到的影子数据为关于各个预定项目的训练数据集，其中，该训练数据集中的每一预定项目的训练数据包括有样本用户的用户数据、预定项目的特征数据以及预定项目的项目评级；其中，假设的正负采样比为预先假设样本用户针对各个预定项目感兴趣与不感兴趣的比例，并根据影子数据，对服务端的本地推荐模型进行训练，得到训练过程中所产生的影子嵌入梯度，计算该影子嵌入梯度及所获取到的各个预定项目对应的嵌入梯度之间的欧式距离，从而推理出联邦推荐系统的隐私数据泄露的检测结果。但是由于上述方法依赖于影子数据与本地推荐模型的真实训练数据集相接近，才可以推理出联邦推荐系统的隐私数据泄露的检测结果，而影子数据的构建则依赖于对正负采样比进行假设，故可能会存在影子数据与真实训练数据集的相似度极差的情况，从而导致无法对联邦推荐系统进行有效地隐私数据泄露检测，以及对联邦推荐系统进行检测的准确率也较低。基于相关技术所存在的问题，本申请实施例提供了一种面向联邦推荐系统的隐私泄露检测方法及装置，以对联邦推荐系统进行有效地隐私数据泄露检测。为了更好的理解本方案，下面对联邦推荐系统中的用户端与服务端的训练原理，结合附图进行简单介绍，如图1所示：图1为联邦推荐系统中的用户端与服务端的训练原理图，该联邦推荐系统中具有一个服务端110和多个用户端120，服务端110的本地推荐模型根据训练数据集进行训练后，可以更新全局模型，也就是，对多个用户端120发送模型参数，以使得多个用户端120的本地推荐模型均进行更新，用户端120的本地推荐模型也可以根据训练集进行本地训练，多个用户端120可以将模型参数上传至服务端110进行中心聚合，从而实现用户端120与服务端110之间的训练。以及，在针对用户端的本地推荐模型进行训练前，用户端可以对私有参数进行初始化处理，私有参数可以是用户嵌入，用户嵌入也可以被称为用户数据，服务端可以对全局参数进行初始化处理，全局参数可以是项目嵌入，项目嵌入也可以称为项目的特征数据。那么，针对联邦推荐系统中的本地推荐模型进行训练的流程可以包含以下四个步骤：1）在每轮训练开始时，服务端首先随机选取用户端参与本轮训练，并将对应的全局参数发送至被选择到的用户端；2）用户端在接收到全局参数后将其与本地的私有参数结合，形成本地推荐模型，并借助本地的私有训练集进行训练，然后，利用损失函数，对本地推荐模型的模型参数进行持续更新，得到用户嵌入梯度以及全局项目嵌入的梯度；3）用户端将用户嵌入梯度保留在本地用于更新自己的私有参数，并将项目嵌入梯度上传至服务端；4）服务端得到各个用户端上传的项目嵌入梯度后进行聚合，然后更新全局参数。以上四个步骤可以重复迭代。其中，示例性的，损失函数可以如下： ;其中，为模型训练的损失值，/＞为训练集中的样本用户i的用户数据，i表征样本用户i，/＞为训练集中的项目j的特征数据，j表征项目j，/＞为训练集中样本用户i关于项目j的项目评级，/＞为本地推荐模型根据样本用户i的用户数据及项目j的特征数据所训练得到的预测值，/＞为训练集，由用户数据、项目的特征数据及项目评级组成，可以看作是三元组数据，即为/＞。其中，表示项目j为样本用户i的正项，可以认为样本用户i对项目j感兴趣；反之/＞表示项目j为样本用户i的负项，可以认为是样本用户i对项目j不感兴趣。/＞和可以分别表示样本用户i的正项集和负项集，联邦推荐系统被训练的目标是预测样本用户i对尚未交互过的项目的评级/＞。其中，用户数据可以表征用户的身份id信息，需要强调的是，用户数据并不表征用户实际的性别、年龄、体重等个人信息，可以仅仅使用一串数字进行表示，在首次进行训练时，用户数据可以是随机生成的一串数字，从而可以避免用户的个人信息被泄露。其中，项目评级表征用户针对项目的感兴趣程度，也就是，感兴趣还是不感兴趣，可以使用各种形式进行表示，例如：“1”表征为感兴趣，那么，“0”就可以表征为不感兴趣，本申请实施例对项目评级的具体形式不做具体限定。示例性的，用户A对面包感兴趣，那么，项目面包的项目评级就可以为“1”，表征为感兴趣。下面首先对本申请实施例提供的一种面向联邦推荐系统的隐私泄露检测方法进行介绍。其中，本申请实施例所提供的面向联邦推荐系统的隐私泄露检测方法，可以应用于电子设备。示例性的，在一种可选的实现方式中，该电子设备可以为用于对于联邦推荐系统进行监测的终端设备或服务器；在另一种可选地实现方式中，电子设备也可以为运行有联邦推荐系统中的服务端的设备。本申请对于所述的电子设备的具体设备形态并不做限定。具体的，该面向联邦推荐系统的隐私泄露检测方法的执行主体也可以为一种面向联邦推荐系统的隐私泄露检测装置。示例性的，当该面向联邦推荐系统的隐私泄露检测方法应用于终端设备时，该面向联邦推荐系统的隐私泄露检测装置可以为运行于终端设备中的、用于针对联邦推荐系统进行隐私数据泄露检测的软件。示例性的，当该面向联邦推荐系统的隐私泄露检测方法应用于服务器时，该面向联邦推荐系统的隐私泄露检测装置可以为运行于服务器中的计算机程序，该计算机程序可以用于针对联邦推荐系统进行隐私数据泄露检测。可以理解的是，本申请实施例所提及的联邦推荐系统可以适用于各种项目推荐场景，示例性的，音乐推荐、电影推荐、购物商品推荐等各种项目推荐场景，其中，音乐推荐的场景中，通过联邦推荐系统中的用户端训练得到的本地推荐模型可以针对用户感兴趣的音乐进行推荐，通过联邦推荐系统中的用户端训练得到的本地推荐模型可以针对用户感兴趣的电影进行推荐。另外，针对任一预定项目而言，该预定项目的项目评级用于表征用户是否对该预定项目感兴趣，也就是，任一预定项目的项目评级可以包括两种评级，分别表征感兴趣以及不感兴趣。并且，本申请中所提及的各个预定项目，针对不同的场景而言可以不同。示例性的，针对音频推荐场景，各个预定项目属于音频类型，各个预定项目可以为各个预定音频，而针对商品推荐场景而言，各个预定项目属于商品类型，各个预定项目可以为各个预定商品。其中，一种面向联邦推荐系统的隐私泄露检测方法，所述联邦推荐系统包括用户端和服务端，所述方法包括：获取各个预定项目对应的嵌入梯度；其中，各个预定项目对应的嵌入梯度为所述用户端根据各个预定项目的关于同一用户的训练数据集，对本地推荐模型进行训练时所生成的；基于所获取的各个预定项目对应的嵌入梯度之间的相似关系，按照预定的项目评级确定方式，预估针对各个预定项目的第一类评级分布和第二类评级分布；其中，所述项目评级确定方式包括针对任意两个项目，若相似关系表征相似则设定为相同的项目评级且若相似关系表征不相似则设定为不同的项目评级，以及针对同一项目，在不同的评级分布中具有不同的项目评级；分别以所述第一类评级分布中的项目评级和第二类评级分布中的项目评级作为候选评级真值，构建第一类影子数据和第二类影子数据；其中，所述第一类影子数据和第二类影子数据均为各个预定项目的关于同一用户的训练数据集；分别基于第一类影子数据和第二类影子数据，对所述服务端的本地推荐模型进行训练，得到所述第一类影子数据对应的第一类预测结果和第二类影子数据对应的第二类预测结果；其中，所述第一类预测结果和第二类预测结果均包括各个预定项目的候选预测结果以及对应的嵌入梯度；基于所述第一类预测结果和第二类预测结果，以及所获取到的各个预定项目对应的嵌入梯度，确定各个预定项目的目标评级真值以及目标预测结果；基于各个预定项目的目标评级真值与目标预测结果的匹配关系，确定所述联邦推荐系统的隐私数据泄露的检测结果。可见，本申请可以基于各个预定项目对应的嵌入梯度的相似关系，预估得到针对各个预定项目的第一类评级分布和第二类评级分布，并构建第一类影子数据和第二类影子数据，两类影子数据具有完全相反的项目评级，其中，一类影子数据的项目评级与目标评级真值相似，再对两类影子数据进行训练，得到第一类预测结果及第二类预测结果，基于第一类预测结果与第二类预测结果，确定得到目标评级真值及目标预测结果，从而根据目标评级真值及目标预测结果的匹配关系，确定联邦推荐系统的隐私数据泄露的检测结果，故本方案可以对联邦推荐系统进行有效地隐私数据泄露检测，从而提高联邦推荐系统的安全性。以及，本申请实施例抛弃了相关技术中的对用户的正负采样比进行假设的方案，而是基于各个预定项目对应的嵌入梯度，构建出项目评级完全相反的第一类影子数据和第二类影子数据，从而最终基于第一类影子数据和第二类影子数据，确定联邦推荐系统的隐私数据泄露的检测结果，故本申请实施例无需对用户的正负采样比进行假设，从而提高对联邦推荐系统进行检测的准确率。下面结合附图介绍本申请实施例所提供的一种面向联邦推荐系统的隐私泄露检测方法。如图2所示，本申请实施例提供的第一种面向联邦推荐系统的隐私泄露检测方法，所述方法可以包括如下步骤：S201，获取各个预定项目对应的嵌入梯度；其中，各个预定项目对应的嵌入梯度为所述用户端根据各个预定项目的关于同一用户的训练数据集，对本地推荐模型进行训练时所生成的；可以理解的是，各个预定项目均是预先进行确定的，且是针对同一用户的，例如：在音乐推荐的场景下，可以针对样本用户A，对1000首歌进行推荐分析，即识别样本用户A是否对该1000首歌感兴趣，每一首歌均可以看作是一个预定项目；在商品推荐的场景下，可以针对样本用户B，对500个商品进行推荐，即识别样本用户B是否对该500个商品感兴趣，每一个商品均可以看作是一个预定项目。另外，各个预定项目并不属于隐私泄露的范围，故用户端和服务端都可以预先获取各个预定项目的具体内容，从而得到预定项目的用于构建训练数据的特征数据。需要强调的是，针对每一轮模型训练过程，每一预定项目均可以对应有嵌入梯度，且每一预定项目对应的嵌入梯度表征在基于该预定项目的训练数据进行模型训练过程中，该预定项目嵌入在该轮训练对应的更新过程中的更新方向，即针对该预定项目的项目评级及用户数据进行更新的更新方向。本申请中，步骤S101中获取到的各个预定项目对应的嵌入梯度可以为在任一轮的模型训练过程，所得到的各个预定项目对应的嵌入梯度。需要强调的是，本地推荐模型可以看作是一个二分类模型，可以基于激活函数，得到项目评级，针对本地推荐模型的输入可以是用户数据与预定项目的特征数据，输出的结果即为表征感兴趣或不感兴趣的项目评级，在理想状态下，将用户数据与预定项目的特征数据进行特定运算，可以得到项目评级，那么，用户i针对激活函数的输入可以是，其中，h可以认为是全局模型，/＞可以认为是用户i在模型训练的第t轮的用户数据，/＞可以认为是模型训练第t轮的预定项目的特征数据，/＞可以认为是用户i针对激活函数的输入。经过sigmoid激活函数后的概率为：/＞，/＞的取值范围可以是为、光介质、或者固态硬盘(Solid StateDisk，SSD）等。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。本说明书中的各个实施例均采用相关的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于系统实施例而言，由于其基本相似于方法实施例，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。以上所述仅为本申请的较佳实施例，并非用于限定本申请的保护范围。凡在本申请的精神和原则之内所作的任何修改、等同替换、改进等，均包含在本申请的保护范围内。
