标题title
一种越野机动能力评价方法、系统、存储介质、设备
摘要abst
本发明公开了一种越野机动能力评价方法，属于遥感影像领域，包括：获取相关研究区内的地理数据、地质数据及分类标签，并通过构建包括空间通道特征融合模块的越野机动能力评价模型，将地理数据和地质数据的图像块嵌入特征的不同空间和不同通道的特征进行融合并拼接，得到具有丰富空间特征的拼接地理地质数据融合特征，进行越野机动性评价，这种方法为解决复杂地质环境越野机动性评价研究提供了科学的支持。
权利要求书clms
1.一种越野机动能力评价方法，其特征在于，包括：S1、获取相关研究区内的地理数据、地质数据及分类标签，并将地理数据、地质数据划分为训练集、测试集和验证集，其中，分类标签表明相关研究区内越野机动能力类型分布；S2、根据地理数据和地质数据，构建越野机动能力评价模型，包括特征提取模块、图像块嵌入模块、空间通道特征融合模块；特征提取模块包括两个特征提取单元，分别用于提取地理数据和地质数据的空间特征；图像块嵌入模块将所述地理数据和地质数据的空间特征转换为地理数据和地质数据的图像块嵌入特征；空间通道特征融合模块对地理数据和地质数据的图像块嵌入特征的不同空间和不同通道的特征进行融合，得到不同级别的融合特征，将不同级别的融合特征进行拼接，得到地理地质数据融合特征，将地理地质数据融合特征通过LayerNorm层、全局平均池化层和全连接层，得到越野机动能力评价结果；S3、根据所述训练集、测试集、验证集及分类标签对越野机动能力评价模型进行优化，得到最终的越野机动能力评价模型，将待检测数据输入至最终的越野机动能力评价模型中，得到越野机动能力预测结果。2.根据权利要求1所述的一种越野机动能力评价方法，其特征在于，地理数据和地质数据为栅格图像。3.根据权利要求1所述的一种越野机动能力评价方法，其特征在于，步骤S1中，获取的相关研究区内的地理数据、地质数据及分类标签是对相关研究区内原始的地理数据、地质数据经过预处理得到，预处理过程为：将原始的地理数据和地质数据转化为影像标签，根据影像标签和装备通行能力分类体系，得到分类标签数据集，分类标签的类型包括：不能通行、难通行、易通行；将原始的地理数据和地质数据进行标准化，并将统一标准后的地理数据和地质数据及对应的分类标签进行数据增强处理，得到地理数据、地质数据及分类标签。4.根据权利要求1所述的一种越野机动能力评价方法，其特征在于，特征提取单元以ResNet50作为主干网络。5.根据权利要求1所述的一种越野机动能力评价方法，其特征在于，空间通道特征融合模块包括第一到第八混合单元、第一融合模块、第二融合模块、一个LayerNorm层、一个全局平均池化层、一个全连接层；所述地理数据图像块嵌入特征输入第一混合单元得到第一混合特征，所述第一混合特征输入第二混合单元得到第二混合特征，所述第二混合特征和所述地理数据图像块嵌入特征输入第三混合单元得到第三混合特征，所述第三混合特征输入第四混合单元得到第四混合特征；所述地质数据图像块嵌入特征输入第五混合单元得到第五混合特征，所述第五混合特征和所述第一混合特征相加后输入第六混合单元得到第六混合特征，所述第六混合特征、所述地质数据图像块嵌入特征、所述第二混合特征相加后输入第七混合单元得到第七混合特征，所述第七混合特征和所述第三混合特征相加后输入第八混合单元得到第八混合特征；所述第一混合特征和所述第五混合特征输入第一融合模块得到第一融合特征，所述第四混合特征和所述第八混合特征输入第二融合模块得到第二融合特征；将所述第一融合特征和所述第二融合特征进行特征拼接得到地理地质数据融合特征；其中，所述第一融合特征为低级特征，所述第二融合特征为高级特征；将地理地质数据融合特征通过LayerNorm层、全局平均池化层和全连接层，得到越野机动能力评价结果。6.根据权利要求5所述的一种越野机动能力评价方法，其特征在于，第一到第八混合单元均包含结构相同的第一混合子单元和第二混合子单元，第一混合子单元将图像块嵌入特征每个通道特征作为输入，得到特征图U，第二混合子单元将特征图U的每行作为输入，得到特征图Y，用公式表示如下：其中，表示图像块嵌入特征的第i列，S是图像块嵌入特征的行数，C是图像块嵌入特征的通道数，/＞表示第一混合子单元的第一全连接层，/＞表示第一混合子单元的第二全连接层，/＞表示第二混合子单元的第一全连接层，/＞表示第二混合子单元的第二全连接层，/＞表示层归一化操作，/＞表示非线性单元，/＞表示图像块嵌入特征的第i列输入第一混合子单元的输出，/＞表示将特征图U的第j行输入第二混合子单元的输出。7.一种越野机动能力评价系统，其特征在于，包括：数据获取单元，用于获取相关研究区内的地理数据、地质数据及分类标签，并将地理数据、地质数据划分为训练集、测试集和验证集，其中，分类标签表明相关研究区内越野机动能力类型分布；模型构建单元，用于根据地理数据和地质数据，构建越野机动能力评价模型，包括特征提取模块、图像块嵌入模块、空间通道特征融合模块；特征提取模块包括两个特征提取单元，分别用于提取地理数据和地质数据的空间特征；图像块嵌入模块将所述地理数据和地质数据的空间特征转换为地理数据和地质数据的图像块嵌入特征；空间通道特征融合模块对地理数据和地质数据的图像块嵌入特征的不同空间和不同通道的特征进行融合，得到不同级别的融合特征，将不同级别的融合特征进行拼接，得到地理地质数据融合特征，将地理地质数据融合特征通过LayerNorm层、全局平均池化层和全连接层，得到越野机动能力评价结果；结果获得单元，用于根据所述训练集、测试集、验证集及分类标签对越野机动能力评价模型进行优化，得到最终的越野机动能力评价模型，将待检测数据输入至最终的越野机动能力评价模型中，得到越野机动能力预测结果。8.一种存储介质，其特征在于，所述存储介质上存储有数据处理程序，所述数据处理程序被处理器执行时实现如权利要求1至6中任一项所述的方法的步骤。9.一种电子设备，其特征在于，包括处理器和存储器，所述处理器与所述存储器相互连接，其中，所述存储器用于存储计算机程序，所述计算机程序包括计算机可读指令，所述处理器被配置用于调用所述计算机可读指令，执行如权利要求1至6任一项所述的方法。
说明书desc
技术领域本发明属于遥感影像领域，具体涉及一种越野机动能力评价方法、系统、存储介质、设备。背景技术在复杂地形条件下，越野机动能力评价至关重要。通过引入智能评价算法，结合地质、地形等信息，可以实现对地质环境的通行性评价。当前关于这一问题的相关研究是基于人工规则方式的方法来定性的评价多因子对越野通行的综合影响。结果通常是一张能够表达通行能力的复合地图。一般通行能力分类标准为多类：如三类可分为良好、受限和困难；四类可分为良好、受限、工程措施受限和困难。现有技术中，出现：通过定性评估和现场实验研究，评估了土地覆盖、土壤湿度指数等在越野通行方面的潜力；利用土地覆盖、土壤承载力、坡度等因子半定量化评估越野通行，同时开发了土壤承载力估算公式；应用多层次分析法评估土地利用、土壤、坡度、湿度对车辆越越野通行的影响；对土地覆盖、土壤、海拔和湿度等因子进行半定量化，利用地形相似性分析和地理空间数据建立经验关系来评估越野通行性。以往研究，主要考虑地理因子，而地质要素同样影响越野机动能力。在越野通行中，地质要素中的岩体、构造、地质灾害等均阻碍通行能力。岩体风化后，坚硬岩或较坚硬岩石经常形成具有棱角状的碎石，车辆通行过程中，会造成轮胎磨损。此外，地质灾害隐患也对越野通行构成了严重的威胁。比如，崩塌、滑坡、泥石流、地面塌陷、地裂缝不仅直接损坏民用设施，还会对公路、铁路等通行载体造成阻碍。因此，地质灾害因子是阻碍越野通行性的重要因子。发明内容本发明通过融合地理数据和地质数据中的空间特征，改善空间特征的表征能力。本发明提出一种越野机动能力评价方法，包括：S1、获取相关研究区内的地理数据、地质数据及分类标签，并将地理数据、地质数据划分为训练集、测试集和验证集，其中，分类标签表明相关研究区内越野机动能力类型分布；S2、根据地理数据和地质数据，构建越野机动能力评价模型，包括特征提取模块、图像块嵌入模块、空间通道特征融合模块；特征提取模块包括两个特征提取单元，分别用于提取地理数据和地质数据的空间特征；图像块嵌入模块将所述地理数据和地质数据的空间特征转换为地理数据和地质数据的图像块嵌入特征；空间通道特征融合模块对地理数据和地质数据的图像块嵌入特征的不同空间和不同通道的特征进行融合，得到不同级别的融合特征，将不同级别的融合特征进行拼接，得到地理地质数据融合特征，将地理地质数据融合特征通过LayerNorm层、全局平均池化层和全连接层，得到越野机动能力评价结果；S3、根据所述训练集、测试集、验证集及分类标签对越野机动能力评价模型进行优化，得到最终的越野机动能力评价模型，将待检测数据输入至最终的越野机动能力评价模型中，得到越野机动能力预测结果。进一步地，地理数据和地质数据为栅格图像。进一步地，步骤S1中，获取的相关研究区内的地理数据、地质数据及分类标签是对相关研究区内原始的地理数据、地质数据经过预处理得到，预处理过程为：将原始的地理数据和地质数据转化为影像标签，根据影像标签和装备通行能力分类体系，得到分类标签数据集，分类标签的类型包括：不能通行、难通行、易通行；将原始的地理数据和地质数据进行标准化，并将统一标准后的地理数据和地质数据及对应的分类标签进行数据增强处理，得到地理数据、地质数据及分类标签。进一步地，特征提取单元以ResNet50作为主干网络。进一步地，空间通道特征融合模块包括第一到第八混合单元、第一融合模块、第二融合模块、一个LayerNorm层、一个全局平均池化层、一个全连接层；所述地理数据的图像块嵌入特征输入第一混合单元得到第一混合特征，所述第一混合特征输入第二混合单元得到第二混合特征，所述第二混合特征和所述地理数据的图像块嵌入特征输入第三混合单元得到第三混合特征，所述第三混合特征输入第四混合单元得到第四混合特征；所述地质数据的图像块嵌入特征输入第五混合单元得到第五混合特征，所述第五混合特征和所述第一混合特征相加后输入第六混合单元得到第六混合特征，所述第六混合特征、所述地质数据的图像块嵌入特征、所述第二混合特征相加后输入第七混合单元得到第七混合特征，所述第七混合特征和所述第三混合特征相加后输入第八混合单元得到第八混合特征；所述第一混合特征和所述第五混合特征输入第一融合模块得到第一融合特征，所述第四混合特征和所述第八混合特征输入第二融合模块得到第二融合特征；将所述第一融合特征和所述第二融合特征进行特征拼接得到地理地质数据融合特征；其中，所述第一融合特征为低级特征，所述第二融合特征为高级特征；将地理地质数据融合特征通过LayerNorm层、全局平均池化层和全连接层，得到越野机动能力评价结果。进一步地，第一到第八混合单元均包含结构相同的第一混合子单元和第二混合子单元，第一混合子单元将图像块嵌入特征每个通道特征作为输入，得到特征图U，第二混合子单元将特征图U的每行作为输入，得到特征图Y，用公式表示如下：其中，表示图像块嵌入特征的第i列，S是图像块嵌入特征的行数，C是图像块嵌入特征的通道数，/＞、/＞、/＞、/＞表示全连接层，/＞表示层归一化操作，表示非线性单元，/＞表示图像块嵌入特征的第i列输入第一混合子单元的输出，/＞表示将特征图U的第j行输入第二混合子单元的输出。本发明还提出一种越野机动能力评价系统，包括：数据获取单元，用于获取相关研究区内的地理数据、地质数据及分类标签，并将地理数据、地质数据划分为训练集、测试集和验证集，其中，分类标签表明相关研究区内越野机动能力类型分布；模型构建单元，用于根据地理数据和地质数据，构建越野机动能力评价模型，包括特征提取模块、图像块嵌入模块、空间通道特征融合模块；特征提取模块包括两个特征提取单元，分别用于提取地理数据和地质数据的空间特征；图像块嵌入模块将所述地理数据和地质数据的空间特征转换为地理数据和地质数据的图像块嵌入特征；空间通道特征融合模块对地理数据和地质数据的图像块嵌入特征的不同空间和不同通道的特征进行融合，得到不同级别的融合特征，将不同级别的融合特征进行拼接，得到地理地质数据融合特征，将地理地质数据融合特征通过LayerNorm层、全局平均池化层和全连接层，得到越野机动能力评价结果；结果获得单元，用于根据所述训练集、测试集、验证集及分类标签对越野机动能力评价模型进行优化，得到最终的越野机动能力评价模型，将待检测数据输入至最终的越野机动能力评价模型中，得到越野机动能力预测结果。本发明还提出一种存储介质，存储介质上存储有数据处理程序，数据处理程序被处理器执行时实现上述的越野机动能力评价方法的步骤。本发明还提出一种电子设备，包括处理器和存储器，所述处理器与所述存储器相互连接，其中，所述存储器用于存储计算机程序，所述计算机程序包括计算机可读指令，所述处理器被配置用于调用所述计算机可读指令，执行上述的越野机动能力评价方法。本发明提供的技术方案带来的有益效果是：本发明通过获取研究区的地理数据和地质数据的特征，并通过构建包括空间通道特征融合模块的越野机动能力评价模型，将不同的地理数据和地质数据的空间特征进行融合，得到不同级别的地理数据融合特征和不同级别的地质数据融合特征，且将不同级别的两种特征进行融合，得到具有丰富空间特征的地理地质数据融合特征，进行越野机动性评价，这种方法为解决复杂地质环境越野机动性评价研究提供了科学的支持。附图说明图1是本发明实施例一种越野机动能力评价方法的流程图；图2是本发明实施例构建的越野机动能力评价模型结构框图；图3是本发明实施例构建的混合单元结构框图，包括第一混合子单元和第二混合子单元；图4是本发明实施例一示例性实施例中的一种电子设备的框图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明实施方式作进一步地描述。本发明实施例一种越野机动能力评价方法的流程图如图1所示，包括：S1、获取相关研究区内的地理数据、地质数据及分类标签，这里获取的数据形式为栅格图像，存储格式为：.GIF，其中，地理数据包括海拔高度图、土地覆被图、地形湿度指数图、坡度图、坡位指数图；地质数据包括地质灾害易发性评价图、岩体和土体分布图、节理构造图、土壤圆锥指数图、水流力指数图。获取的相关研究区内的地理数据、地质数据及分类标签是对相关研究区内原始的地理数据、地质数据经过预处理得到，原始数据的获取途径可以是自然资源部门户网站、公共地图或卫星图像、无人机采集。原始的地理数据、地质数据预处理过程为：将地理数据和地质数据转化为影像标签，根据影像标签和装备通行能力分类体系，得到分类标签数据集，分类标签的类型包括：不能通行、难通行、易通行。进一步的实施例中，在ArcGIS 10.8的软件中，手动选取研究区域内的原始地理和地质数据的矢量文件，通过“矢量转栅格”工具转化为“.GIF”格式的影像标签，接着对栅格影像标签，用专家经验判别方法确定某装备通行能力分类体系，得到分类标签数据集。将研究区分为多类：不能通行、难通行、易通行，构成分类标签数据集。将地理数据和地质数据进行标准化，并将统一标准后的地理数据和地质数据及对应的分类标签进行数据增强处理。进一步的实施例中，将图像尺寸裁剪为：3×256×256，3表示图片通道数为3，图片尺寸为：256像素长，256像素宽。此外对每样数据及分类标签进行旋转90°、180°和270°，再进行概率为0.5的随机水平和垂直翻转等操作进行数据增强，得到最终的数据集及分类标签，其中，分类标签表明相关研究区内越野机动能力类型分布，按照越野机动能力将研究区划分为包括通行、难通行、易通行3类若干小区域。按照6:2:2的比例随机将最终的数据集中的数据分为训练集、测试集和验证集，划分后的文件存放在子文件里，分别为train.txt，val.txt和test.txt。S2、根据地理数据和地质数据，构建越野机动能力评价模型，参考图2，包括特征提取模块、图像块嵌入模块、空间通道特征融合模块。特征提取模块包括两个特征提取单元，分别用于提取地理数据和地质数据的空间特征，进一步的实施例中，特征提取单元以ResNet50作为主干网络，分别对地理数据、地质数据进行空间特征提取，得到两个维度为256×64×64的特征图。图像块嵌入模块将所述地理数据和地质数据的空间特征转换为地理数据和地质数据的图像块嵌入特征。进一步的实施例中，图像块嵌入模块包括两个二维卷积层，其输入通道维度设置为256，输出通道维度设置为h，卷积核大小为64/，步幅为64//＞。将特征图嵌入到形状为的非重叠图像块嵌入向量中，其中p和h指的是图像块的数量和嵌入维度。分别得到地理数据图像块嵌入特征和地质数据图像块嵌入特征。空间通道特征融合模块对地理数据和地质数据的图像块嵌入特征的不同空间和不同通道的特征进行融合，得到融合有地理数据和地质数据不同空间特征和不同通道特征的不同级别的融合特征，将不同级别的融合特征进行拼接，得到地理地质数据融合特征，将地理地质数据融合特征通过LayerNorm层、全局平均池化层和全连接层，得到越野机动能力评价结果。空间通道特征融合模块包括第一混合单元、第二混合单元、第三混合单元、第四混合单元、第五混合单元、第六混合单元、第七混合单元、第八混合单元、第一融合模块、第二融合模块、一个LayerNorm层、一个全局平均池化层、一个全连接层。地理数据图像块嵌入特征输入第一混合单元得到第一混合特征，第一混合特征输入第二混合单元得到第二混合特征，第二混合特征和地理数据图像块嵌入特征输入第三混合单元得到第三混合特征，第三混合特征输入第四混合单元得到第四混合特征；地质数据图像块嵌入特征输入第五混合单元得到第五混合特征，第五混合特征和第一混合特征相加后输入第六混合单元得到第六混合特征，第六混合特征、地质数据图像块嵌入特征、第二混合特征相加后输入第七混合单元得到第七混合特征，第七混合特征和第三混合特征相加后输入第八混合单元得到第八混合特征；第一混合特征和第五混合特征输入第一融合模块得到第一融合特征，第四混合特征和第八混合特征输入第二融合模块得到第二融合特征；将第一融合特征和第二融合特征进行特征拼接得到地理地质数据融合特征；其中，第一融合特征为低级特征，第二融合特征为高级特征。第一到第八混合单元均包含结构相同的第一混合子单元和第二混合子单元，第一混合子单元和第二混合子单元由一个LayerNorm层、两个全连接层和一个GLUE非线性单元组成，如图3所示。第一混合子单元将图像块嵌入特征的每列，即每个通道的特征作为输入，得到特征图U。图像块嵌入特征的每列，即图像块嵌入特征图中每个通道的特征，输入第一混合子单元的LayerNorm层进行归一化，归一化后输入第一混合子单元的第一全连接层进行分类和回归，然后通过第一混合子单元的GLUE非线性单元处理图像中的复杂特征和非线性关系，再输入第一混合子单元的第二全连接层进行分类和回归，得到的结果和第一混合子单元的输入相加，最后得到特征图U。第二混合子单元将特征图U的每行作为输入，得到特征图Y，特征图U的每行，输入第二混合子单元的LayerNorm层进行归一化，归一化后输入第二混合子单元的第一全连接层进行分类和回归，然后通过第二混合子单元的GLUE非线性单元处理图像中的复杂特征和非线性关系，再输入第二混合子单元的第二全连接层进行分类和回归，得到的结果和第二混合子单元的输入相加，最后得到特征图Y。这样的连接方式可以实现不同通道特征和不同空间特征之间的混合。用公式表示如下：其中，表示图像块嵌入特征的第i列，图像块嵌入特征X的大小为/＞，S是图像块嵌入特征的图像块数量，即行数，C是图像块嵌入特征的通道数，即列数，/＞、/＞、/＞、/＞表示全连接层，/＞表示第一混合子单元的第一全连接层，/＞表示第一混合子单元的第二全连接层，/＞表示第二混合子单元的第一全连接层，/＞表示第二混合子单元的第二全连接层，/＞表示层归一化操作，/＞表示非线性单元，/＞表示图像块嵌入特征的第i列输入第一混合子单元的输出，/＞表示将特征图U的第j行输入第二混合子单元的输出。将地理地质数据融合特征通过LayerNorm层、全局平均池化层和全连接层，得到最终的具有辨别性的高层次特征，用以评价越野机动能力。进一步的实施例中，每个混合单元全连接层维度设置为256，第一混合子单元和第二混合子单元维度分别设置为128和1024。最后，使用一个维度为64的全连接层进行特征降维，得到最终的学习到的高分辨率遥感图像的空间特征，形状为。进一步的实施例中，第一融合特征和第二融合特征形状为，地理数据和地质数据的融合特征大小为，再依次通过LayerNorm层、全局平均池化层和一个带有softmax激活函数的全连接层，最终得到一个大小为的矩阵向量，其中k表示类别个数，本发明设置为3，即不能通行、难通行、易通行，类别向量中每个位置的值代表对应类别的概率值，取类别向量中的最大值对应的类别作为模型最终的预测类别。Softmax函数作为分类器，可以计算每个类别的概率，所有类别的概率和为1，像素l属于类别i的概率如下式所示：其中，k表示所有类别的总数，表示像素l的第i个通道值。S3、根据训练集、测试集和验证集对越野机动能力评价模型进行优化，得到最终的越野机动能力评价模型，将待检测数据输入至最终的越野机动能力评价模型中，得到越野机动能力预测结果。进一步的实施例中，使用交并比、F1分数、像素精确度、召回率和总体准确率作为评价指标，从预测像素正确的部分在预测像素和真实像素的并集中的比例，以及正确像素占总像素的比例两个角度来对模型的训练结果进行评价，MIoU值越高则表示图像分割效果越好。交并比、F1分数、像素精确度、召回率和总体准确率的公式分别为：其中TP，FP，TN，FN。本发明实施例还提出一种越野机动能力评价系统，包括：数据获取单元，用于获取相关研究区内的地理数据、地质数据及分类标签，并将地理数据、地质数据划分为训练集、测试集和验证集，其中，分类标签表明相关研究区内越野机动能力类型分布；模型构建单元，用于根据地理数据和地质数据，构建越野机动能力评价模型，包括特征提取模块、图像块嵌入模块、空间通道特征融合模块；特征提取模块包括两个特征提取单元，分别用于提取地理数据和地质数据的空间特征；图像块嵌入模块将所述地理数据和地质数据的空间特征转换为地理数据和地质数据的图像块嵌入特征；空间通道特征融合模块对地理数据和地质数据的图像块嵌入特征的不同空间和不同通道的特征进行融合，得到不同级别的融合特征，将不同级别的融合特征进行拼接，得到地理地质数据融合特征，将地理地质数据融合特征通过LayerNorm层、全局平均池化层和全连接层，得到越野机动能力评价结果；结果获得单元，用于根据所述训练集、测试集、验证集及分类标签对越野机动能力评价模型进行优化，得到最终的越野机动能力评价模型，将待检测数据输入至最终的越野机动能力评价模型中，得到越野机动能力预测结果。在一示例性实施例中，包括一种存储介质，存储介质上存储有数据处理程序，数据处理程序被处理器执行时实现上述的越野机动能力评价方法的步骤。参考图4，在一示例性实施例中，包括一种电子设备，包括至少一处理器、至少一存储器、以及至少一通信总线。其中，存储器上存储有计算机程序，计算机程序包括计算机可读指令，处理器通过通信总线调用存储器中存储的计算机可读指令，执行上述的越野机动能力评价方法。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本发明。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本发明的精神或范围的情况下，在其它实施例中实现。因此，本发明将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
