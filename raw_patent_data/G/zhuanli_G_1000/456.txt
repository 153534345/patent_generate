标题title
尺寸检测方法及尺寸检测系统
摘要abst
本申请涉及一种尺寸检测方法及尺寸检测系统。所述方法应用于多测试相机的检测设备，通过获取各测试相机采集的标定块的第一图像特征值，并根据各第一图像特征值和标定块对应的计量值，对各测试相机进行标定，对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据。上述方法实现了多测试相机的大尺寸工件检测，且通过对多测试相机进行标定，以及基于多测试相机的图像视野进行处理和检测，可以提高针对大尺寸产品的检测准确度。
权利要求书clms
1.一种尺寸检测方法，其特征在于，所述尺寸检测方法应用于检测设备，所述检测设备包括多个测试相机，所述方法包括：获取各所述测试相机采集的标定块的第一图像特征值；所述第一图像特征值包括位于所述标定块相对两侧的测试相机采集的图像的特征值，以及位于所述标定块的另外相对两侧的测试相机采集的图像的特征值；根据各所述第一图像特征值和所述标定块对应的计量值，对各所述测试相机进行标定，对各所述测试相机进行标定，得到各所述测试相机对应的坐标关联关系；所述坐标关联关系表示各所述测试相机的坐标系和所述标定块的坐标系之间的变换关系；根据各所述测试相机对应的坐标关联关系，对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据；所述第二图像特征包括位于所述待测电池相对两侧的测试相机采集的图像的特征值，以及位于所述待测电池的另外相对两侧的测试相机采集的图像的特征值。2.根据权利要求1所述的方法，其特征在于，所述根据各所述第一图像特征值和所述标定块对应的计量值，对各所述测试相机进行标定，得到各所述测试相机对应的坐标关联关系，包括：根据各所述第一图像特征值和所述标定块对应的计量值，确定各所述测试相机对应的平移变换参数；根据各所述测试相机采集的目标特征，确定旋转变换参数；所述目标特征为所述第一图像特征值中任两个特征值对应的标定特征；根据所述平移变换参数和所述旋转变换参数，确定各所述测试相机对应的坐标关联关系。3.根据权利要求2所述的方法，其特征在于，所述目标特征为所述标定块上的任一圆形孔对应的特征，所述根据各所述测试相机采集的目标特征，确定旋转变换参数，包括：将各所述测试相机采集的目标特征进行矩阵变换，得到所述旋转变换参数。4.根据权利要求1-3任一项所述的方法，其特征在于，所述获取各所述测试相机采集的标定块的第一图像特征值，包括：获取各所述测试相机采集的标定块的图像；对各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值。5.根据权利要求4所述的方法，其特征在于，所述对各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值，包括：确定与所述标定块的类型对应的图像模板；采用所述图像模板对各所述标定块的图像进行适配，得到各所述测试相机采集的标定块的第一图像特征值。6.根据权利要求4所述的方法，其特征在于，所述标定块上设置有多个标定点位，所述对各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值，包括：对所述标定块的图像中的各标定点位进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值。7.根据权利要求4所述的方法，其特征在于，所述方法还包括：对各所述标定块的图像进行预处理，得到预处理后的各所述标定块的图像；所述预处理包括二值化处理、裁剪处理中的至少一种；所述对各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值，包括：对预处理后的各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值。8.一种尺寸检测系统，其特征在于，所述尺寸检测系统包括检测设备和控制终端；所述控制终端与所述检测设备连接，所述检测设备包括多个测试相机和运动装置，所述多个测试相机设置于所述运动装置；所述控制终端，用于控制所述运动装置带动各所述测试相机运动至标定块或待测电池的相对两侧和另外相对两侧，并根据如权利要求1-7任一项所述的方法对所述标定块或待测电池进行测量，得到测量数据。9.根据权利要求8所述的系统，其特征在于，所述多个测试相机包括至少两个第一测试相机和至少两个第二测试相机，所述运动装置包括第一运动装置和第二运动装置，所述至少两个第一测试相机设置于所述第一运动装置，所述至少两个第二测试相机设置于所述第二运动装置；所述控制终端，用于控制所述第一运动装置带动各所述第一测试相机运动至所述标定块或待测电池所在测试区域的相对两侧，以及控制所述第二运动装置带动各所述第二测试相机运动至所述标定块或待测电池所在测试区域的另外相对两侧，并根据如权利要求1-7任一项所述的方法对所述标定块或待测电池进行测量，得到测量数据。10.根据权利要求9所述的系统，其特征在于，所述第一运动装置包括第一直线运动机构和第一升降机构，所述第一直线运动机构配置为能够带动所述第一升降机构沿第一方向运动，所述第一方向处于水平面内，所述至少两个第一测试相机安装于所述第一升降机构，所述第一升降机构配置为能够带动所述至少两个第一测试相机升降。11.根据权利要求10所述的系统，其特征在于，所述第二运动装置包括第二直线运动机构和第二升降机构，所述第二直线运动机构配置为能够带动所述第二升降机构沿第二方向运动，所述第二方向处于水平面内且与所述第一方向相交，所述至少两个第二测试相机安装于所述第二升降机构，所述第二升降机构配置为能够带动所述至少两个第二测试相机升降。12.根据权利要求9所述的系统，其特征在于，所述至少两个第一测试相机包括第一轮廓相机和至少一个第一面阵检测相机，所述第一轮廓相机和所述第一面阵检测相机均朝向所述标定块或所述待测电池设置。13.根据权利要求9所述的系统，其特征在于，所述至少两个第二测试相机包括第二轮廓相机和至少一个第二面阵检测相机，所述第二轮廓相机和所述第二面阵检测相机均朝向所述标定块或所述待测电池设置。14.根据权利要求9所述的系统，其特征在于，所述多个测试相机还包括至少两个第三测试相机，所述运动装置还包括第三运动装置，所述至少两个第三测试相机设置于所述第三运动装置；所述控制终端，用于控制所述第三运动装置带动各所述第三测试相机运动至所述标定块或待测电池的上方，并根据如权利要求1-7任一项所述的方法对所述标定块或待测电池进行测量，得到测量数据。15.根据权利要求14所述的系统，其特征在于，所述第三运动装置包括第三直线运动机构和第三升降机构，所述第三直线运动机构配置为能够带动所述第三升降机构沿第一方向或第二方向运动，所述第二方向处于水平面内且与所述第一方向相交，所述至少两个第三测试相机安装于所述第三升降机构，所述第三升降机构配置为能够带动所述至少两个第三测试相机升降。16.根据权利要求15所述的系统，其特征在于，所述至少两个第三测试相机包括第三面阵检测相机和至少两个第三轮廓相机，所述第三面阵检测相机和所述第三轮廓相机均朝向所述标定块或所述待测电池设置。17.根据权利要求8-16任一项所述的系统，其特征在于，所述检测设备还包括机架，所述运动装置设置于所述机架；所述机架的检测区域设置有所述标定块或待测电池。18.根据权利要求17所述的系统，其特征在于，所述机架包括固定架体和升降台，所述运动装置设置于所述固定架体上；所述标定块或待测电池设置于所述升降台上的检测区域。19.根据权利要求18所述的系统，其特征在于，所述升降台包括工作台和设置于所述工作台底部的第四升降机构，所述定块或待测电池设置于所述工作台上的检测区域。20.根据权利要求19所述的系统，其特征在于，所述升降台还包括设置于所述工作台上的高度传感器，所述高度传感器用于检测位于检测区域中的标定块或待测电池的高度。
说明书desc
技术领域本申请涉及锂电成品测量技术领域，特别是涉及一种尺寸检测方法及尺寸检测系统。背景技术在锂电成品尺寸的测量领域中常常出现形位公差，所以需要对形位公差进行高效测量。由于单个电池成品的尺寸属于大尺寸，所以相关技术中对大尺寸电池成品的测量过程，通常需要使用人员动手吊装使用检具进行尺寸检测。然而，上述检具存在检测准确度低的问题。发明内容基于此，有必要针对上述技术问题，提供一种能够提高检测准确度的尺寸检测方法及尺寸检测系统。第一方面，本申请提供了一种尺寸检测方法。所述方法应用于检测设备，所述检测设备包括多个测试相机，所述方法包括：获取各所述测试相机采集的标定块的第一图像特征值；所述第一图像特征值包括位于所述标定块相对两侧的测试相机采集的图像的特征值，以及位于所述标定块的另外相对两侧的测试相机采集的图像的特征值；根据各所述第一图像特征值和所述标定块对应的计量值，对各所述测试相机进行标定；对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据；所述第二图像特征包括位于所述待测电池相对两侧的测试相机采集的图像的特征值，以及位于所述待测电池的另外相对两侧的测试相机采集的图像的特征值。本申请实施例所述的尺寸检测方法，应用于多测试相机的检测设备，通过获取各测试相机采集的标定块的第一图像特征值，并根据各第一图像特征值和标定块对应的计量值，对各测试相机进行标定，对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据。上述方法实现了多测试相机的大尺寸工件检测，且通过对多测试相机进行标定，以及基于多测试相机的图像视野进行处理和检测，可以提高针对大尺寸产品的检测准确度。在其中一个实施例中，所述根据各所述第一图像特征值和所述标定块对应的计量值，对各所述测试相机进行标定，包括：根据各所述第一图像特征值和所述标定块对应的计量值，对各所述测试相机进行标定，得到各所述测试相机对应的坐标关联关系；所述对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据，包括：根据各所述测试相机对应的坐标关联关系，对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据。本申请实施例所述的方法，实现了对各测试相机的坐标系进行统一标定，可以在一定程度上解决不同测试相机坐标系不一致导致测量误差的问题。通过统一坐标系可标定各方向的测试相机，来完成待测电池的基准和特征的信息收集，从而可实现不同坐标系间的联合标定，进而提高测试精度。在其中一个实施例中，所述根据各所述第一图像特征值和所述标定块对应的计量值，对各所述测试相机进行标定，得到各所述测试相机对应的坐标关联关系，包括：根据各所述第一图像特征值和所述标定块对应的计量值，确定各所述测试相机对应的平移变换参数；根据各所述测试相机采集的目标特征，确定旋转变换参数；所述目标特征为所述第一图像特征值中任两个特征值对应的标定特征；根据所述平移变换参数和所述旋转变换参数，确定各所述测试相机对应的坐标关联关系。本申请实施例所述的标定方法，通过分析特征在相机坐标系和产品坐标系之间由旋转和平移完成，来确定相机坐标系和产品坐标系之间的关联关系，可以实现多测试相机在统一坐标系下的标定，进而基于标定后的测试相机采集的特征得到准确的测量数据。在其中一个实施例中，所述根据各所述测试相机采集的目标特征，确定旋转变换参数，包括：将各所述测试相机采集的目标特征进行矩阵变换，得到所述旋转变换参数。在其中一个实施例中，所述获取各所述测试相机采集的标定块的第一图像特征值，包括：获取各所述测试相机采集的标定块的图像；对各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值。本申请实施例所述捕获图像特征值的方法，可以基于图像识别技术或其他识别算法，快速进行特征识别，从而提高后期基于特征输出测量数据的效率。在其中一个实施例中，所述对各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值，包括：确定与所述标定块的类型对应的图像模板；采用所述图像模板对各所述标定块的图像进行适配，得到各所述测试相机采集的标定块的第一图像特征值。本申请实施例通过采用模板匹配方式实现对图像特征进行识别，可以在一定程度上提高特征识别的成功率，在一定程度上可以避免出现模板匹配错误或偏差导致的误差。在其中一个实施例中，所述标定块上设置有多个标定点位，所述对各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值，包括：对所述标定块的图像中的各标定点位进行识别，得到各所述测试相机采集的标定块的第一图像特征值。本申请实施例通过识别标定块上的标定点位确定图像特征值，可以在一定程度上提高特征识别的准确性，从而提高后期基于特征值进行检测的准确性。在其中一个实施例中，所述方法还包括：对各所述标定块的图像进行预处理，得到预处理后的各所述标定块的图像；所述预处理包括二值化处理、裁剪处理中的至少一种；所述对各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值，包括：对预处理后的各所述标定块的图像进行特征识别，得到各所述测试相机采集的标定块的第一图像特征值。本申请实施例对各标定块的图像进行二值化处理的预处理，便于从图像中提取特征。而且，通过对各标定块的图像进行二值化处理，再基于二值化图像进行特征提取，可以提高特征提取的准确性。第二方面，本申请还提供了一种尺寸检测系统。所述系统包括检测设备和控制终端；所述控制终端与所述检测设备连接，所述检测设备包括多个测试相机和运动装置，所述多个测试相机设置于所述运动装置；所述控制终端，用于控制所述运动装置带动各所述测试相机运动至标定块或待测电池所在测试区域的相对两侧和另外相对两侧，并根据如第一方面所述的方法对所述标定块或待测电池进行测量，得到测量数据。在其中一个实施例中，所述多个测试相机包括至少两个第一测试相机和至少两个第二测试相机，所述运动装置包括第一运动装置和第二运动装置，所述至少两个第一测试相机设置于所述第一运动装置，所述至少两个第二测试相机设置于所述第二运动装置；所述控制终端，用于控制所述第一运动装置带动各所述第一测试相机运动至所述标定块或待测电池所在测试区域的相对两侧，以及控制所述第二运动装置带动各所述第二测试相机运动至所述标定块或待测电池所在测试区域的另外相对两侧，并根据如第一方面所述的方法对所述标定块或待测电池进行测量，得到测量数据。在其中一个实施例中，所述第一运动装置包括第一直线运动机构和第一升降机构，所述第一直线运动机构配置为能够带动所述第一升降机构沿第一方向运动，所述第一方向处于水平面内，所述至少两个第一测试相机安装于所述第一升降机构，所述第一升降机构配置为能够带动所述至少两个第一测试相机升降。在其中一个实施例中，所述第二运动装置包括第二直线运动机构和第二升降机构，所述第二直线运动机构配置为能够带动所述第二升降机构沿第二方向运动，所述第二方向处于水平面内且与所述第一方向相交，所述第二图像采集组件安装于所述第二升降机构，所述第二升降机构配置为能够带动所述第二图像采集组件升降。在其中一个实施例中，所述至少两个第一测试相机包括第一轮廓相机和至少一个第一面阵检测相机，所述第一轮廓相机和所述第一面阵检测相机均朝向所述标定块或所述待测电池设置。在其中一个实施例中，所述至少两个第二测试相机包括第二轮廓相机和至少一个第二面阵检测相机，所述第二轮廓相机和所述第二面阵检测相机均朝向所述标定块或所述待测电池设置。在其中一个实施例中，所述多个测试相机还包括至少两个第三测试相机，所述运动装置还包括第三运动装置，所述至少两个第三测试相机设置于所述第三运动装置；所述控制终端，用于控制所述第三运动装置带动各所述第三测试相机运动至所述标定块或待测电池的上方，并根据如第一方面所述的方法对所述标定块或待测电池进行测量，得到测量数据。在其中一个实施例中，所述第三运动装置包括第三直线运动机构和第三升降机构，所述第三直线运动机构配置为能够带动所述第三升降机构沿第一方向或第二方向运动，所述第二方向处于水平面内且与所述第一方向相交，所述至少两个第三测试相机安装于所述第三升降机构，所述第三升降机构配置为能够带动所述至少两个第三测试相机升降。在其中一个实施例中，所述至少两个第三测试相机包括第三面阵检测相机和至少两个第三轮廓相机，所述第三面阵检测相机和所述第三轮廓相机均朝向所述标定块或所述待测电池设置。在其中一个实施例中，所述检测设备还包括机架，所述运动装置设置于所述机架；所述机架的检测区域设置有所述标定块或待测电池。在其中一个实施例中，所述机架包括固定架体和升降台，所述运动装置设置于所述固定架体上；所述标定块或待测电池设置于所述升降台上的检测区域。在其中一个实施例中，所述升降台包括工作台和设置于所述工作台底部的第四升降机构，所述定块或待测电池设置于所述工作台上的检测区域。在其中一个实施例中，所述升降台还包括设置于所述工作台上的高度传感器，所述高度传感器用于检测位于检测区域中的标定块或待测电池的高度。上述说明仅是本申请技术方案的概述，为了能够更清楚了解本申请的技术手段，而可依照说明书的内容予以实施，并且为了让本申请的上述和其它目的、特征和优点能够更明显易懂，以下特举本申请的具体实施方式。附图说明通过阅读对下文优选实施方式的详细描述，各种其他的优点和益处对于本领域普通技术人员将变得清楚明了。附图仅用于示出优选实施方式的目的，而并不认为是对本申请的限制。而且在全部附图中，用相同的附图标号表示相同的部件。在附图中：图1为一个实施例中尺寸检测系统的示意图；图2为一个实施例中尺寸检测方法的流程示意图；图3为另一个实施例中尺寸检测方法的流程示意图；图4为另一个实施例中尺寸检测方法的流程示意图；图5为另一个实施例中尺寸检测方法的流程示意图；图6为另一个实施例中尺寸检测方法的流程示意图；图7为另一个实施例中尺寸检测方法的流程示意图；图8为另一个实施例中尺寸检测方法的流程示意图；图9为一个实施例中尺寸检测系统的结构示意图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。除非另有定义，本文所使用的所有的技术和科学术语与属于本申请的技术领域的技术人员通常理解的含义相同；本文中所使用的术语只是为了描述具体的实施例的目的，不是旨在于限制本申请；本申请的说明书和权利要求书及上述附图说明中的术语“包括”和“具有”以及它们的任何变形，意图在于覆盖不排他的包含。在本申请实施例的描述中，技术术语“第一”“第二”等仅用于区别不同对象，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量、特定顺序或主次关系。在本申请实施例的描述中，“多个”的含义是两个以上，除非另有明确具体的限定。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。目前，针对大尺寸的电池包，即由多层电池模组堆叠在一起形成的电池包，进行大尺寸电池包测试时，由于单个大尺寸的电池包的尺寸一般在1m3以上，所以现有大尺寸的电池包的测量方案是通过人员手动吊装产品后使用检具进行尺寸检测，此种方法测量效率慢的同时检具只能进行定性测量，本申请实施例针对该问题，以优化现有大尺寸产品尺寸测量的方法，提供了一种可以提高测试效率及测试精度的尺寸检测方法，下面实施例将具备说明该尺寸检测方法。本申请实施例提供的尺寸检测方法，可以应用于如图1所示的尺寸检测系统中，该尺寸检测系统中包括多个测试相机101、驱动装置102和控制终端103。其中，各测试相机101可以设置于驱动装置102上；控制终端103分别连接各测试相机101和驱动装置102，控制终端103用于控制驱动装置102带动各测试相机101运动，以及用于控制各测试相机101能够采集到测试区域104中标定块或待测电池各个面的图像，以实现对测试区域104内放置的标定块或待测电池的尺寸或公差测量。其中，驱动装置102可以为一种伺服控制装置；控制终端103可以但不限于是各种个人计算机、笔记本电脑、智能手机、平板电脑、物联网设备和便携式可穿戴设备，物联网设备可为智能音箱、智能电视、智能空调、智能车载设备等。本领域技术人员可以理解，图1中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的尺寸检测系统的限定，具体的检测设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，如图2所示，提供了一种尺寸检测方法，以该方法应用于图1中的控制终端103为例进行说明，包括以下步骤：S201，获取各测试相机采集的标定块的第一图像特征值。其中，标定块为满足尺寸检测而基于产品外形设计的方形工件，一般为铝合金材质，其表面进行氧化处理、可以避免镜面反光，同时涉及尺寸测量的特征需要与待测电池的特征一致，且保持较好的一致性，目的是为了在测量过程中进行龙门三坐标计量和尺寸检测系统校验时获得良好的重复性；可选的，标定块还可以在测试特征周围设计有额外的辅助特征，用于满足后期标定使用。可选的，标定块的设计可以与待测电池进行1:1仿形制作，且标定块材质应满足粗糙度＜3.2，各平面形位公差波动＜测试公差5%需求，而且标定块的设计特征周围材质一致性应该基于测量逻辑以及测量点布置满足其测试需求，对标不限于位置度、轮廓度、位置度、平面度尺寸。测试相机可以选用3D轮廓相机、2D面阵相机、2D线扫相机中的至少一种。可选的，第一图像特征值包括位于标定块相对两侧的测试相机采集的图像的特征值，以及位于标定块的另外相对两侧的测试相机采集的图像的特征值；可选的，第一图像特征值可以包括标定块上端面、侧面、顶面中的孔特征或其他特征，比如，孔特征包括孔中心位置、孔直径、孔距离等。不同测试相机可以采集标定块上不同面的图像特征值，比如，有些测试相机可以采集标定块上端面的图像特征值、有些测试相机可以采集标定块上侧面的图像特征值、有些测试相机可以采集标定块上顶面的图像特征值。本申请实施例中，可以将标定块放置于测试区域，控制终端可以控制各测试相机进行精度标定，再确定测试区域周围的测试点位之后，控制终端可以控制驱动装置带动各测试相机运动至各测试相机的测试点位，之后即可控制各测试相机在各自的测试点位上采集测试区域内标定块的各面的图像，并从中捕获到标定块上各特征对应的第一图像特征值。需要说明的是，在控制测试相机运动至各测试相机的测试点位的过程中，即在对各测试相机的点位进行调试过程中，可以对尺寸检测系统中各机构层面进行调整，从而实现调整后尺寸检测系统中各测试相机动作的重复性均满足现场测试需求，因此，在测试之前可以先对尺寸检测系统的平面度进行校验，比如，尺寸检测系统中的各运动装置的平面保持一致，即保持平行或垂直。另外，在测试之前，控制终端还可以根据不同类型的特征调整各测试相机的打光效果，以便之后能够更加准确的捕获产品特征，还可以保证每次测试的稳定性。S202，根据各第一图像特征值和标定块对应的计量值，对各测试相机进行标定。其中，不同测试相机的坐标系不同，且测试相机的坐标系与标定块的坐标系不同，或测试相机的坐标系与世界坐标系不同。本申请实施例中，当控制终端基于前述步骤得到各测试相机采集的标定块的第一图像特征值时，可以进一步的对各第一图像特征值和标定块对应的计量值之间的转换关系进行分析，从而得到各测试相机的坐标系与标定块的坐标系之间的关联关系，再基于测试相机的坐标系与标定块的坐标系之间的关联关系，完成各测试相机的标定；可选的，还可以对各第一图像特征值和标定块对应的计量值之间的转换关系进行分析，得到各第一图像特征值和标定块对应的计量值之间的关联关系，再基于各第一图像特征值和标定块对应的计量值之间的关联关系，完成对各测试相机的标定。可选的，也可以根据各第一图像特征值的位置和标定块的计量值，对各测试相机的坐标系中心偏差进行校正，以完成对各测试相机的标定。需要说明的是，在控制终端执行上述操作之前，可以使用更高一级精度计量设备对标定块进行测量，得到标定块的计量值。S203，对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据。其中，第二图像特征包括位于所述待测电池相对两侧的测试相机采集的图像的特征值，以及位于所述待测电池的另外相对两侧的测试相机采集的图像的特征值；可选的，第二图像特征值可以包括待测电池上端面、侧面、顶面中的孔特征或其他特征，比如，孔特征包括孔中心位置、孔直径、孔距离等，可选的，第二图像特征也可以为其它辅助特征。不同测试相机可以采集待测电池上不同面的图像特征值，比如，有些测试相机可以采集待测电池上端面的图像特征值、有些测试相机可以采集待测电池上侧面的图像特征值、有些测试相机可以采集待测电池上顶面的图像特征值。本申请实施例中，当控制终端基于前述步骤对各测试相机进行标定后，即可使用各标定后的测试相机采集待测电池的图像，得到各测试相机对应的第二图像特征值；并对各测试相机对应的第二图像特征值进行变换处理，或者采用形位公差计算方法，对各测试相机对应的第二图像特征值进行计算，得到对待测电池进行测量的测量数据。需要说明的是，上述形位公差计算方法可以是现有的形位公差计算方法，比如，可以分为形状公差计算、位置公差计算、定向公差计算等；其中，形状公差计算包括直线度、平面度、圆度、圆柱度、线轮廓度、面轮廓度等；定向公差计算包括平行度、倾斜度、垂直度等；位置公差计算包括位置度、同心度、对称度等；对于形位公差计算方法的具体实施方式，属于现有技术，此处不赘述。可选的，控制终端可以通过标定块的计量值和前述各标定后的测试相机采集的待测电池的第二图像特征值，计算第二图像特征值和计量值的偏差S1，同时可以通过基准和对各测试相机的标定，得到产品坐标系和世界坐标系的变换方程P，再基于以上偏差即可得到如下关系式：D=L*P0- ；其中，D表示待测电池的世界坐标系中特征到讨论基准面的距离，L表示待测电池的特征在产品坐标系下的一个标准距离，S0表示第二图像特征在标定块坐标系下的特征值，S1表示第二图像特征值和计量值的偏差，P0表示产品坐标系和标定块坐标系的变换方程。基于上述关系式，再基于形位公差计算方法，以及基于测试得到的偏差量得到形位公差指代数据，即测量数据，再例如，上述D可以用来计算形状公差中的直线度。本申请实施例所述的尺寸检测方法，应用于多测试相机的检测设备，通过获取各测试相机采集的标定块的第一图像特征值，并根据各第一图像特征值和标定块对应的计量值，对各测试相机进行标定，对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据。上述方法实现了多测试相机的大尺寸工件检测，且通过对多测试相机进行标定，以及基于多测试相机的图像视野进行处理和检测，可以提高针对大尺寸产品的检测准确度。在一个实施例中，提供了一种对各测试相机进行标定的方法，即上述S202“根据各第一图像特征值和标定块对应的计量值，对各测试相机进行标定”，如图3所示，包括：根据各第一图像特征值和标定块对应的计量值，对各测试相机进行标定，得到各测试相机对应的坐标关联关系。其中，各测试相机对应的坐标关联关系表示各测试相机的坐标系和标定块的坐标系之间的变换关系，可以使用变换方程表示。本申请实施例中，当控制终端基于前述步骤得到各测试相机采集的标定块的第一图像特征值时，可以进一步的对各第一图像特征值和标定块对应的计量值之间的转换关系进行分析，从而得到测试相机的坐标系与标定块的坐标系之间的变换关系，并使用变换方程表示该变换关系。对应的，控制终端执行上述S203“对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据”时，具体执行步骤：根据各测试相机对应的坐标关联关系，对各标定后的测试相机采集的待测电池的第二图像特征值进行处理，得到测量数据。本申请实施例中，当控制终端基于前述步骤得到各测试相机对应的坐标关联关系时，可以根据该坐标关联关系对各标定后的测试相机采集的待测电池的第二图像特征值进行映射，具体可以将第二图像特征值从测试相机的坐标系映射到标定块的坐标系中，得到映射后的特征值对应数据，最后即可采用相应的形位公差算法或其他尺寸计算方法，根据映射后的特征值对应数据计算得到测量数据。比如，若各测试相机对应的坐标关联关系使用变换方程表示时，可以直接将第二图像特征值作为实际值代入到变换方程中求解出该第二图像特征值映射到标定块的坐标系下的特征值，之后即可根据标定块的坐标系下的特征值计算得到形位公差的测量数据。本申请实施例所述的方法，实现了对各测试相机的坐标系进行统一标定，可以在一定程度上解决不同测试相机坐标系不一致导致测量误差的问题。通过统一坐标系可标定各方向的测试相机，来完成待测电池的基准和特征的信息收集，从而可实现不同坐标系间的联合标定，进而提高测试精度。在一个实施例中，还提供了一种确定坐标关联关系的实现方式，即上述步骤“根据各第一图像特征值和标定块对应的计量值，对各测试相机进行标定，得到各测试相机对应的坐标关联关系”，如图4所示，包括：S301，根据各第一图像特征值和标定块对应的计量值，确定各测试相机对应的平移变换参数。其中，平移变换参数为测试相机的坐标系和标定块的坐标系之间变换的一个相关量，其表示坐标系进行平移的相关量。本申请实施例中，控制终端可以将各第一图像特征值和标定块对应的计量值之间的差值，确定为各测试相机对应的平移变换参数，比如，将各第一图像特征的坐标系XYZ值和标定块对应的计量值的坐标系XYZ值之间的差值，确定为各测试相机对应的平移变换参数。S302，根据各测试相机采集的目标特征，确定旋转变换参数；目标特征为第一图像特征值中任两个特征值对应的标定特征。其中，旋转变换参数为测试相机的坐标系和标定块的坐标系之间变换的另一个相关量，其表示坐标系进行旋转的相关量。旋转变换参数可以使用正交矩阵R表示，比如，R可以为一个3*3的正交矩阵，即如下R：；本申请实施例中，控制终端可以先从各测试相机采集的第一图像特征值中任选择两个特征值，再基于基准数据确定出该两个特征值对应的标定特征，然后将该两个特征值对应的标定特征作为目标特征代入到旋转变换方程中进行计算，得到旋转变换参数。需要说明的是，上述选择的两个特征值可以具体为圆形特征的特征值，比如，标定块上圆形孔对应的特征值，并利用圆形特征的特征值确定旋转变换参数，再以旋转变换参数确定各测试相机对应的坐标关联关系进行标定，可以提高测试相机在XY方向成像精度。可选的，控制终端可以将各测试相机采集的目标特征进行矩阵变换，得到旋转变换参数。其中的矩阵变换可以具备以下特征：或者/＞；；；；其中，是3*3的单位矩阵；R表示旋转变换参数；U表示各测试相机采集的一个特征值对应的标定特征；V表示各测试相机采集的另一个特征值对应的标定特征；/＞为向量的模。S303，根据平移变换参数和旋转变换参数，确定各测试相机对应的坐标关联关系。其中，各测试相机对应的坐标关联关系可以基于欧式空间坐标系变换方式确定，即各测试相机对应的坐标关联关系可以使用变换方程表示，例如，该变换方程可以基于如下关系式表示：P1=RP+t；其中，t表示平移变换参数；R表示旋转变换参数；P表示测试相机的坐标系下的特征值；P1表示标定块的坐标系下的特征值。本申请实施例中，当控制终端基于前述步骤确定了平移变换参数和旋转变换参数后，即可将各测试相机对应的平移变换参数和旋转变换参数代入到上述关系式中，并将P1和P作为未知变量，得到各测试相机对应的坐标关联关系。本申请实施例所述的标定方法，通过分析特征在相机坐标系和产品坐标系之间由旋转和平移完成，来确定相机坐标系和产品坐标系之间的关联关系，可以实现多测试相机在统一坐标系下的标定，进而基于标定后的测试相机采集的特征得到准确的测量数据。在一个实施例中，提供了一种获取第一图像特征值的实现方式，如图5所示，上述S201“获取各测试相机采集的标定块的第一图像特征值”，包括：S401，获取各测试相机采集的标定块的图像。本申请实施例中，控制终端可以控制各测试相机采集检测区域内标定块上各个面的图像，比如，各个面的图像包括标定块的端面的图像、标定块的侧面的图像、标定块顶面的图像。S402，对各标定块的图像进行特征识别，得到各测试相机采集的标定块的第一图像特征值。本申请实施例中，控制终端可以采用预设特征识别算法对标定块上各个面的图像进行特征识别，得到各测试相机采集的标定块的第一图像特征值；可选的，控制终端也可以采用模板匹配的方式，对标定块上各个面的图像进行特征识别，得到各测试相机采集的标定块的第一图像特征值。本申请实施例所述捕获图像特征值的方法，可以基于图像识别技术或其他识别算法，快速进行特征识别，从而提高后期基于特征输出测量数据的效率。在一个实施例中，提供了一种特征识别的实现方式，即上述“对各标定块的图像进行特征识别，得到各测试相机采集的标定块的第一图像特征值”，如图6所述，包括：S501，确定与标定块的类型对应的图像模板。其中，不同的图像模板对应不同类型的标定块。图像模板上标注出各产品的特征，比如，标注出各产品的孔中心位置。本申请实施例中，数据库中预先存储有模板文件，且模板文件中包括各类型的标定块或各类型的产品对应的图像模板；当控制终端需要提取各测试相机采集的图像中的特征值时，可以从数据库中的模板文件中提取与标定块的类型对应的图像模板。S502，采用图像模板对各标定块的图像进行适配，得到各测试相机采集的标定块的第一图像特征值。本申请实施例中，当控制终端确定了标定块的类型对应的图像模板时，即可采用该图像模板对各测试相机采集的标定块的图像进行特征适配，从而得到各测试相机采集的标定块的第一图像特征值。需要说明的是，上述图像模板可以为多种图像模板，即采用多种图像模板对图像进行适配，可以在一定程度上提高特征识别的成功率，在一定程度上可以避免出现模板匹配错误或偏差导致的误差。在一个实施例中，标定块的端面和/或侧面上还设置有多个标定点位，还提供了一种特征识别的实现方式，即控制终端执行上述“对各标定块的图像进行特征识别，得到各测试相机采集的标定块的第一图像特征值”时，具体执行步骤：对标定块的图像中的各标定点位进行特征识别，得到各测试相机采集的标定块的第一图像特征值。本申请实施例中，标定块的端面和/或侧面上设置有多个标定点位，所以控制终端在采集到标定块上端面的图像和/或侧面的图像时，可以进一步的对端面和/或侧面中的标定点位进行识别，且提取标定点位上的特征值作为第一图像特征值；可选的，控制终端还可以先根据端面和/或侧面上各标定点位的位置，对端面和/或侧面的图像中的各标定点位进行定位，再基于定位后的端面和/或侧面的图像进行特征识别，得到各测试相机采集的标定块的第一图像特征值。本申请实施例通过识别标定块上的标定点位确定图像特征值，可以在一定程度上提高特征识别的准确性，从而提高后期基于特征值进行检测的准确性。可选的，控制终端还可以采用寻边工具对各标定块的图像进行识别，得到各测试相机采集的标定块的第一图像特征值。在一个实施例中，为了提高特征识别的精度，可以对各标定块的图像进行预处理，即图5实施例所述方法，如图7所示，还包括步骤：S403，对各标定块的图像进行预处理，得到预处理后的各标定块的图像；预处理包括二值化处理、裁剪处理中的至少一种；对应的，控制终端执行上述步骤S402“对各标定块的图像进行特征识别，得到各测试相机采集的标定块的第一图像特征值”时，具体执行步骤：对预处理后的各标定块的图像进行特征识别，得到各测试相机采集的标定块的第一图像特征值。本申请实施例对各标定块的图像进行二值化处理的预处理，便于从图像中提取特征，比如，轮廓度测试项目中的三坐标的打点，位置度测试项目中的孔中心，辅助特征孔中心等。而且，通过对各标定块的图像进行二值化处理，再基于二值化图像进行特征提取，可以提高特征提取的准确性。综合上述所有实施例所述的尺寸检测方法，在一个实施例中，还提供了另一种尺寸检测方法，如图8所示，该方法应用于如图1所示的检测设备，该方法的执行主体为控制终端，该方法包括：S601，控制驱动装置带动各测试相机移动至各自对应的测试点位，其中，各测试点位预先由控制终端根据不同的待测电池的测试需求确定，且可以设置在测试区域周围。S602，控制各测试相机进行自身精度标定和视野参数等光学调试。S603，将标定块放置于测试区域，控制各测试相机启动在各自的测试点位上采集测试区域内标定块的各面的图像。S604，对各测试相机采集到的图像进行裁剪处理，并对裁剪处理后的图像进行特征二值化处理，得到各测试相机对应的二值化图像。S605，对各测试相机对应的二值化图像进行特征识别，得到各测试相机采集的标定块的第一图像特征值。S606，获取标定块的计量值。S607，根据各测试相机采集的标定块的第一图像特征值和标定块的计量值，计算坐标变换相关量，得到平移变换参数和旋转变换参数。S608，根据平移变换参数和旋转变换参数，基于欧式变换原则，得到各测试相机的坐标系和世界坐标系之间的坐标关联关系。S609，将待测电池放置于测试区域，控制各测试相机在各自的测试点位上采集测试区域内待测电池的各面的图像。S610，根据S604-S605的处理方法，对各测试相机采集的待测电池的图像进行处理，得到各测试相机采集的待测电池的第二图像特征值。S611，调用各测试相机的坐标系和世界坐标系之间的坐标关联关系，导入各测试相机采集的待测电池的第二图像特征值，将各测试相机采集的待测电池的第二图像特征值映射到世界坐标系，得到各测试相机对应的产品实际特征值。S612，采用相应形位公差算法或其他尺寸检测算法，根据各测试相机对应的产品实际特征值计算得到测量数据。上述各步骤的实现方式在前述实施例中均有说明，详细内容请参见前述内容，此处不赘述。本申请实施例所述的尺寸检测方法，结合数学理论和实际测试相机使用，可以完成多测试相机的坐标系统一，随后在基于现有尺寸测量技术，使产品通过尺寸检测系统可以输出形位公差计算结果，从而填补在线自动尺寸检测系统无法测试形位公差的空白，同时通过标定块设计，能够快速进行标定和校验，以及提高尺寸检测系统的检测精度。应该理解的是，虽然如上所述的各实施例所涉及的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，如上所述的各实施例所涉及的流程图中的至少一部分步骤可以包括多个步骤或者多个阶段，这些步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤中的步骤或者阶段的至少一部分轮流或者交替地执行。基于同样的发明构思，本申请实施例还提供了一种用于实现上述所涉及的尺寸检测方法的尺寸检测系统。该系统所提供的解决问题的实现方案与上述方法中所记载的实现方案相似，故下面所提供的一个或多个尺寸检测系统实施例中的具体限定可以参见上文中对于尺寸检测方法的限定，在此不再赘述。在一个实施例中，如图9所示，还提供了一种尺寸检测系统，包括：检测设备20和控制终端30；控制终端30与检测设备20连接，检测设备20包括多个测试相机201和运动装置202，多个测试相机201设置于运动装置202；控制终端30，用于控制运动装置202带动各测试相机201运动至标定块或待测电池40的相对两侧和另外相对两侧，并根据前述任一实施例所述的方法对标定块或待测电池进行测量，得到测量数据。其中，多个测试相机包括至少两个第一测试相机和至少两个第二测试相机，运动装置包括第一运动装置和第二运动装置，至少两个第一测试相机设置于第一运动装置，至少两个第二测试相机设置于第二运动装置；可选的，基于上述系统，控制终端，用于控制第一运动装置带动各第一测试相机运动至标定块或待测电池的相对两侧，以及控制第二运动装置带动各第二测试相机运动至标定块或待测电池的另外相对两侧。可选的，第一运动装置包括第一直线运动机构和第一升降机构，第一直线运动机构配置为能够带动第一升降机构沿第一方向运动，第一方向处于水平面内，至少两个第一测试相机安装于第一升降机构，第一升降机构配置为能够带动至少两个第一测试相机升降。可选的，第二运动装置包括第二直线运动机构和第二升降机构，第二直线运动机构配置为能够带动第二升降机构沿第二方向运动，第二方向处于水平面内且与第一方向相交，至少两个第二测试相机安装于第二升降机构，第二升降机构配置为能够带动至少两个第二测试相机升降。可选的，至少两个第一测试相机包括第一轮廓相机和至少一个第一面阵检测相机，第一轮廓相机和第一面阵检测相机均朝向标定块或待测电池设置。至少两个第二测试相机包括第二轮廓相机和至少一个第二面阵检测相机，第二轮廓相机和第二面阵检测相机均朝向标定块或待测电池设置。多个测试相机还包括至少两个第三测试相机。可选的，运动装置还包括第三运动装置，至少两个第三测试相机设置于第三运动装置；基于该系统，控制终端，用于控制第三运动装置带动各第三测试相机运动至标定块或待测电池的上方，并根据前任一实施例所述的方法对标定块或待测电池进行测量，得到测量数据。可选的，第三运动装置包括第三直线运动机构和第三升降机构，第三直线运动机构配置为能够带动第三升降机构沿第一方向或第二方向运动，第二方向处于水平面内且与第一方向相交，至少两个第三测试相机安装于第三升降机构，第三升降机构配置为能够带动至少两个第三测试相机升降。可选的，至少两个第三测试相机包括第三面阵检测相机和至少两个第三轮廓相机，第三面阵检测相机和第三轮廓相机均朝向标定块或待测电池设置。可选的，检测设备还包括机架，运动装置设置于机架；机架的检测区域设置有标定块或待测电池。机架包括固定架体和升降台，运动装置设置于固定架体上；标定块或待测电池设置于升降台上的检测区域。升降台包括工作台和设置于工作台底部的第四升降机构，定块或待测电池设置于工作台上的检测区域。升降台还包括设置于工作台上的高度传感器，高度传感器用于检测位于检测区域中的标定块或待测电池的高度。前述图2-图8任一实施例所述的尺寸检测方法均适用于图9实施例所述的尺寸检测系统，图9实施例所述的尺寸检测系统中包括用于大尺寸产品的各面上形位公差检测的检测设备，且根据各面的检测需求设计有各面对应的多个测试相机，以实现全面尺寸信息收集以及检测，可以在一定程度上提高检测准确度。另外，上述检测设备还可以实现对待测电池的量化测量，得到测量结果的量化值。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存、光存储器、高密度嵌入式非易失性存储器、阻变存储器、磁变存储器、铁电存储器、相变存储器、石墨烯存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器等。作为说明而非局限，RAM可以是多种形式，比如静态随机存取存储器或动态随机存取存储器等。本申请所提供的各实施例中所涉及的数据库可包括关系型数据库和非关系型数据库中至少一种。非关系型数据库可包括基于区块链的分布式数据库等，不限于此。本申请所提供的各实施例中所涉及的处理器可为通用处理器、中央处理器、图形处理器、数字信号处理器、可编程逻辑器、基于量子计算的数据处理逻辑器等，不限于此。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本申请专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请的保护范围应以所附权利要求为准。
