标题title
一种全自动真空熔炼智能监测方法及系统
摘要abst
本发明涉及真空熔炼智能监测技术领域。更具体地，本发明涉及一种全自动真空熔炼智能监测方法及系统，该方法包括获取真空熔炼炉的炉门图像；根据所述炉门图像提取炉门边缘区域的像素点对应的像素值，并构成边缘集合；对边缘集合中的像素值进行温度异常判定，以确定炉门边缘区域中的温度异常点；获取所述温度异常点的温度变化速度，并根据温度变化速度和正常温升速度确定温升指数；将所述温升指数输入训练好的温升指数预测模型，以得到未来时刻的温升指数；响应于未来时刻的温升指数小于温升指数阈值，判定此时的温度异常点为严重异常点。根据本发明的方案，解决了目前真空熔炼炉状态监测时存在的监测效率低、效果差的问题。
权利要求书clms
1.一种全自动真空熔炼智能监测方法，其特征在于，包括：获取真空熔炼炉的炉门图像；根据所述炉门图像提取炉门边缘区域的像素点对应的像素值，并构成边缘集合；对边缘集合中的像素值进行梯度异常判定，以确定炉门边缘区域中的温度异常点；获取所述温度异常点的温度变化速度，并根据温度变化速度和正常温升速度确定温升指数；将所述温升指数输入训练好的温升指数预测模型，以得到未来时刻的温升指数；响应于未来时刻的温升指数小于温升指数阈值，判定此时的温度异常点为严重异常点。2.根据权利要求1所述的全自动真空熔炼智能监测方法，其特征在于，获取真空熔炼炉的炉门图像，包括：获取真空熔炼炉的炉门区域的热力图像，并得到灰度图像；对所述灰度图像进行区域分割，以提取炉门区域和背景区域；将炉门区域对应的分割图像与所述热力图像进行相乘，以得到炉门图像。3.根据权利要求2所述的全自动真空熔炼智能监测方法，其特征在于，对所述灰度图像进行区域分割，以提取炉门区域和背景区域，包括：根据炉门像素值与背景像素值的分类函数进行区域分割，以确定像素值分类点，其中所述分类函数包括：其中，u为分类值，Z1为灰度图像中一类像素值，Z2为灰度图像中另一类像素值，mean为均值计算，STD为标准差计算；根据像素值分类点的像素值均值对炉门区域和背景区域进行划分。4.根据权利要求3所述的全自动真空熔炼智能监测方法，其特征在于，根据炉门像素值与背景像素值的分类函数进行区域分割，包括：响应于分类函数计算得到的分类值最大，完成像素值分类，并确定炉门像素值范围和背景像素值范围。5.根据权利要求1所述的全自动真空熔炼智能监测方法，其特征在于，对边缘集合中的像素值进行温度异常判定，以确定炉门边缘区域中的温度异常点，包括：对边缘集合中的所有像素点的像素值进行邻域梯度探索，以计算目标像素点的梯度异常判断值，所述梯度异常判断值的计算公式为：其中，r梯度异常判断值，r1为边缘梯度异常判断值，r2为邻域梯度异常判断值，h为边缘集合内的目标像素点的像素值，H为边缘集合，W为目标像素点的邻域像素值集合；当梯度异常判断值为1时，确定对应的像素点为温度异常点。6.根据权利要求1所述的全自动真空熔炼智能监测方法，其特征在于，其中温度异常点的温度变化速度的计算公式为：其中，为像素点的温度变化速度，/＞为该像素点在/＞时刻图像中的像素值，/＞为该像素点在/＞使用图像中的像素值，/＞和/＞为相邻帧对应的时刻。7.根据权利要求6所述的全自动真空熔炼智能监测方法，其特征在于，根据温度变化速度和正常温升速度确定温升指数，包括：计算温度异常点的温度变化速度与正常升温速度的比值，将所述比值作为温升指数。8.根据权利要求1所述的全自动真空熔炼智能监测方法，其特征在于，其中温升指数预测模型的训练过程，包括：将加热过程中的每帧图像进行温升指数计算，以得到温升指数序列；将温升指数序列划分训练集和验证集，以对BP神经网络进行训练，以得到温升指数预测模型，其中训练过程中的损失函数为均方差损失函数。9.一种全自动真空熔炼智能监测系统，其特征在于，包括：处理器；存储器，所述存储器存储有计算机程序指令，当所述计算机程序指令被所述处理器执行时实现根据权利要求1-8中任意一项所述的全自动真空熔炼智能监测方法。
说明书desc
技术领域本发明一般地涉及真空熔炼智能监测技术领域。更具体地，本发明涉及一种全自动真空熔炼智能监测方法及系统。背景技术真空熔炼是目前国内外钛合金熔炼的主要技术，真空熔炼主要是利用短路产生的电弧弧光放热熔化金属，在熔炼的过程中存在极高的生产风险，当前主要是通过对熔炼过程中的真空度、温度、坩埚出水口流量、压力、气动夹头的夹紧状态、电极下限位和触底限位等参量进行实时监测，从而实现准确地熔炼控制。全自动真空熔炼炉由炉盖、炉体、炉底、坩埚回转机构、真空系统及中频电源控制系统等组成。炉盖、炉体及炉底均采用双层水冷结构，保持炉壳温度不超过60℃。炉盖打开方式为手动，炉盖上设有观察孔及挡板，为便于熔化过程中添加合金元素，炉盖上特设有合金加料器。炉体内有一感应线圈，通过手动转动炉外手柄可轻松将坩埚内熔液浇入锭模，锭模可设计成水冷形式。坩埚上部设有一测温装置。全自动真空熔炼受限制于炉门边缘的材料磨损，在实际生产中会造成真空度下降，温度下降，破坏熔炼成品。目前，在生产领域一般还是依靠人工定期检测，消耗人力成本，同时由于不能及时发现熔炼炉异常，导致熔炼产品品质较差。基于此，如何解决目前真空熔炼炉状态监测时存在的监测效率低、效果差的问题，是目前研究的重点。发明内容为解决上述一个或多个技术问题，本发明提出通过确定熔炼炉的实时异常点，并预测异常点的温升速度，若温升情况出现异常，即为严重异常点，提前停止加热，避免造成能源浪费。为此，本发明在如下的多个方面中提供方案。在第一方面中，本发明提供了一种全自动真空熔炼智能监测方法，包括：获取真空熔炼炉的炉门图像；根据所述炉门图像提取炉门边缘区域的像素点对应的像素值，并构成边缘集合；对边缘集合中的像素值进行梯度异常判定，以确定炉门边缘区域中的温度异常点；获取所述温度异常点的温度变化速度，并根据温度变化速度和正常温升速度确定温升指数；将所述温升指数输入训练好的温升指数预测模型，以得到未来时刻的温升指数；响应于未来时刻的温升指数小于温升指数阈值，判定此时的温度异常点为严重异常点。在一个实施例中，获取真空熔炼炉的炉门图像，包括：获取真空熔炼炉的炉门区域的热力图像，并得到灰度图像；对所述灰度图像进行区域分割，以提取炉门区域和背景区域；将炉门区域对应的分割图像与所述热力图像进行相乘，以得到炉门图像。在一个实施例中，对所述灰度图像进行区域分割，以提取炉门区域和背景区域，包括：根据炉门像素值与背景像素值的分类函数进行区域分割，以确定像素值分类点，其中所述分类函数包括：，其中，u为分类值，Z1为灰度图像中一类像素值，Z2为灰度图像中另一类像素值，mean为均值计算，STD为标准差计算；根据像素值分类点的像素值均值对炉门区域和背景区域进行划分。在一个实施例中，根据炉门像素值与背景像素值的分类函数进行区域分割，包括：响应于分类函数计算得到的分类值最大，完成像素值分类，并确定炉门像素值范围和背景像素值范围。在一个实施例中，对边缘集合中的像素值进行梯度异常判定，以确定炉门边缘区域中的温度异常点，包括：对边缘集合中的所有像素点的像素值进行邻域梯度探索，以计算目标像素点的梯度异常判断值，所述梯度异常判断值的计算公式为：其中，r梯度异常判断值，r1为边缘梯度异常判断值，r2为邻域梯度异常判断值，h为边缘集合内的目标像素点的像素值，H为边缘集合，W为目标像素点的邻域像素值集合；当梯度异常判断值为1时，确定对应的像素点为温度异常点。在一个实施例中，其中温度异常点的温度变化速度的计算公式为：其中，v为像素点的温度变化速度，为该像素点在t1时刻图像中的像素值，/＞为该像素点在t2时刻图像中的像素值，t1和t2为相邻帧对应的时刻。在一个实施例中，根据温度变化速度和正常温升速度确定温升指数，包括：计算温度异常点的温度变化速度与正常升温速度的比值，将所述比值作为温升指数。在一个实施例中，其中温升指数预测模型的训练过程，包括：将加热过程中的每帧图像进行温升指数计算，以得到温升指数序列；将温升指数序列划分训练集和验证集，以对BP神经网络进行训练，以得到温升指数预测模型，其中训练过程中的损失函数为均方差损失函数。在第二方面中，本发明还提供了一种全自动真空熔炼智能监测系统，包括：处理器；存储器，所述存储器存储有计算机程序指令，当所述计算机程序指令被所述处理器执行时实现根据前文一个或多个实施例所述的全自动真空熔炼智能监测方法。本发明的有益效果在于：通过图像技术对熔炼炉炉门的监测，确定熔炼炉的实时异常点，并预测异常点的温度变化速度，利用温度变化速度确定温升指数，当温升指数小于阈值时，即为严重异常点，实现对熔炼过程及时、准确地监测，有效节省了人力。同时通过及时监测异常情况，能够减少资源的浪费，同时能够及时对熔炼炉进行维护，保证熔炼产品质量。附图说明通过参考附图阅读下文的详细描述，本发明示例性实施方式的上述以及其他目的、特征和优点将变得易于理解。在附图中，以示例性而非限制性的方式示出了本发明的若干实施方式，并且相同或对应的标号表示相同或对应的部分，其中：图1是示意性示出根据本发明的实施例的全自动真空熔炼智能监测方法的流程图；图2是示意性示出根据本实施例中的全自动真空熔炼智能监测系统的结构框图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。下面结合附图来详细描述本发明的具体实施方式。图1是示意性示出根据本发明的实施例的全自动真空熔炼智能监测方法100的流程图。如图1所示，在步骤S101处，获取真空熔炼炉的炉门图像。在一些实施例中，获取真空熔炼炉的炉门区域的热力图像，并得到灰度图像。对灰度图像进行区域分割，以提取炉门区域和背景区域。将炉门区域对应的分割图像与所述热力图像进行相乘，以得到炉门图像。在步骤S102处，根据炉门图像提取炉门边缘区域的像素点对应的像素值，并构成边缘集合。在一些实施例中，可以根据炉门像素值与背景像素值的分类函数进行区域分割，以确定像素值分类点。其中分类函数包括：，其中，u为分类值，Z1为灰度图像中一类像素值，Z2为灰度图像中另一类像素值，mean为均值计算，STD为标准差计算。然后根据像素值分类点的像素值均值对炉门区域和背景区域进行划分。进一步，响应于分类函数计算得到的分类值最大，完成像素值分类，并确定炉门像素值范围和背景像素值范围。在步骤S103处，对边缘集合中的像素值进行梯度异常判定，以确定炉门边缘区域中的温度异常点。在一些实施例中，对边缘集合中的所有像素点的像素值进行邻域梯度探索，以计算目标像素点的梯度异常判断值，所述梯度异常判断值的计算公式为：其中，r梯度异常判断值，r1为边缘梯度异常判断值，r2为邻域梯度异常判断值，h为边缘集合内的目标像素点的像素值，H为边缘集合，W为目标像素点的邻域像素值集合。当梯度异常判断值为1时，确定对应的像素点为温度异常点。在步骤S104处，获取温度异常点的温度变化速度，并根据温度变化速度和正常温升速度确定温升指数。其中温度异常点的温度变化速度的计算公式为：其中，v为像素点的温度变化速度，为该像素点在t1时刻图像中的像素值，/＞为该像素点在t2时刻图像中的像素值，t1和t2为相邻帧对应的时刻。进一步，在计算温升指数时，计算温度异常点的温度变化速度与正常升温速度的比值，将该比值作为温升指数。在步骤S105处，将温升指数输入训练好的温升指数预测模型，以得到未来时刻的温升指数。该未来时刻的温升指数，可以通过神经网络模型进行预测，其中温升指数预测模型的训练过程包括：将加热过程中的每帧图像进行温升指数计算，以得到温升指数序列。将温升指数序列划分训练集和验证集，以对BP神经网络进行训练，以得到温升指数预测模型，其中训练过程中的损失函数为均方差损失函数。在步骤S106处，响应于未来时刻的温升指数小于温升指数阈值，判定此时的温度异常点为严重异常点。接下来将结合具体实施例对本发明的方案进行进一步说明。本实施例所针对的具体场景为：真空熔炼炉的炉门监测。首先，通过红外热像仪进行拍摄，并通过图像处理过程获取真空熔炼炉的炉门的热力图像。具体地，可以通过在真空熔炼炉的炉门的正上方布设的热像仪，采集真空熔炼炉的炉门区域的热力图像，并将热力图像转化为灰度图像。该采集过程中，当使用者在使用真空熔炼炉，关闭真空熔炼炉炉门时开始采集热力图像，当完成熔炼时，停止采集。由于采集到的热力图像包含了炉门区域和背景区域，因此需要提取热力图像中的炉门区域。首先，需要对图像中像素值进行像素值范围的划分，提取出炉门像素值范围和背景像素值范围。由于图像中发热的区域只有炉门区域，因此在炉门区域的像素值变化较大，背景区域的像素值变化较小。炉门像素值与背景像素值的分类函数满足下述关系式：，其中，u为分类值，Z1为灰度图像中一类像素值，Z2为灰度图像中另一类像素值，mean为均值计算，STD为标准差计算。遍历所有像素值分类点，得到若干组二分类结果，每一个分类结果对应一个分类值。当分类值u达到最大值时，完成对图像的像素值分类，得到炉门像素值范围和背景像素值范围。且其中像素值均值较大的一类为炉门像素值，较小的为背景像素值。将像素值属于背景像素值范围的像素点标记为0，像素值属于炉门像素值范围的像素点标记为1，得到炉门的0-1分割图。将该0-1分割图与原图像相乘，得到炉门图像。接着，根据炉门图像提取炉门边缘区域的像素点对应的像素值，并构成边缘集合。炉门的边缘为热量散失的主要区域，炉门与炉门边缘的贴合程度决定了炉内温度的散失速度，贴合程度越高，炉门气密性越好，热量散失的越少，炉门边缘的温度分布的越均匀。因此需要对炉门边缘进行异常点的确定。提取炉门边缘区域的像素点对应的像素值，构成边缘集合。对边缘集合中的每个像素值进行邻域梯度探索。以一个边缘集合中的像素点为例，记录该像素点为目标像素点。计算目标像素点的梯度异常判断值，梯度异常判断值满足下述多项式：其中，r梯度异常判断值，r1为边缘梯度异常判断值，r2为邻域梯度异常判断值，h为边缘集合内的目标像素点的像素值，H为边缘集合，W为目标像素点的邻域像素值集合。当为1时，则目标像素点为异常点，在该位置点出现了温度的异常散失。反之，则目标像素点为正常点。通过遍历边缘集合内所有像素点，可以得到所有的正常点和异常点。最后，可以根据获取的异常点，进行炉门区域异常点的温度变化监测，从而确定是否发生严重异常。由于上述过程对于异常点的寻找比较灵敏，当某一边缘点出现局部温度过高时，立刻被标记为异常点，但是在实际应用中，需要对异常点进行温度变化速度的监测。将所有的异常温度点进行监测，当炉内处于加热阶段时，炉门周围的像素点开始变化，随着温度的升高，像素点的像素值也会随之变化，且存在正比关系。但由于像素值不能直接表示温度的具体高低，只能通过像素值的相对大小，得到温度的相对大小关系。采集炉内温度升高时的实时图像，获得图像中每个像素点在实际升温过程中，像素值的变化速度。以一个像素点为例，该像素点的温度变化速度满足下述关系式：其中，v为像素点的温度变化速度，为该像素点在t1时刻图像中的像素值，/＞为该像素点在t2时刻图像中的像素值，t1和t2为相邻帧对应的时刻。每个时刻对应一个图像，遍历图像中所有像素点，每个像素点对应一个实时的温升速度。由于正常点的温升速度是保持一致的，可以采用对同一帧中图像中所有的正常点求均值的方式，得到正常温升速度。但异常点的温升速度不一致，且可能存在温升严重异常的异常点，即该异常点的温升速度较慢。因此可以针对一个异常点，将该异常点的温升速度与正常温升速度作比，获得温升指数。一个异常点在一帧图像中对应一个温升指数，根据加热过程中的每帧图像，可以获得一个温升指数序列。以一个异常点为例，采用BP神经网络对异常点的温升指数变化进行预测，将实时得到温升指数序列的前80%作为训练集，后20%作为验证集，BP神经网络的训练，采用损失函数为均方差损失函数。当损失函数趋近于零时，完成训练，训练得到温升指数预测模型。将当前t时刻该异常点的温升指数，输入到训练完成的温升指数预测模型中，输出t+1时刻该异常点的温升指数。输入t+1时刻该异常点的温升指数，得到t+2时刻该异常点的温升指数，类推得到，直至预设加热时间段内，所有未来时刻的温升指数。构建温升指数阈值，当异常点未来时刻的温升指数小于温升指数阈值时，说明此时的异常点为严重异常点，需要停止加热检查炉门的闭合情况，需要对炉门进行维修。图2是示意性示出根据本实施例中的全自动真空熔炼智能监测系统的结构框图。本发明还提供了一种全自动真空熔炼智能监测系统，包括处理器以及存储器，所述存储器存储有计算机程序指令，当所述计算机程序指令被所述处理器执行时实现根据前文所述的全自动真空熔炼智能监测方法。所述系统还包括通信总线和通信接口等本领域技术人员熟知的其他组件，其设置和功能为本领域中已知，因此在此不再赘述。在本发明中，前述的存储器可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。例如，计算机可读存储介质可以是任何适当的磁存储介质或者磁光存储介质，比如，阻变式存储器RRAM、动态随机存取存储器DRAM、静态随机存取存储器SRAM、增强动态随机存取存储器EDRAM、高带宽内存HBM、混合存储立方HMC等等，或者可以用于存储所需信息并且可以由应用程序、模块或两者访问的任何其他介质。任何这样的计算机存储介质可以是设备的一部分或可访问或可连接到设备。本发明描述的任何应用或模块可以使用可以由这样的计算机可读介质存储或以其他方式保持的计算机可读/可执行指令来实现。在本说明书的描述中，“多个”、“若干个”的含义是至少两个，例如两个，三个或更多个等，除非另有明确具体的限定。虽然本说明书已经示出和描述了本发明的多个实施例，但对于本领域技术人员显而易见的是，这样的实施例只是以示例的方式提供的。本领域技术人员会在不偏离本发明思想和精神的情况下想到许多更改、改变和替代的方式。应当理解的是在实践本发明的过程中，可以采用对本文所描述的本发明实施例的各种替代方案。
