标题title
基于物联网的超声波流量计的泄漏检测方法、系统及设备
摘要abst
本申请公开了基于物联网的超声波流量计的泄漏检测方法、系统及设备，涉及管路检测技术领域，首先利用超声波流量计获得各处管路的实时流量数据，若存在泄漏情况，实时流量数据相对既定流量数据将发生变化，由于沿输送方向上泄漏点之前的流量会变大，之后的流量会减小，可在目标管路上根据流量数据的偏差情况确认一组相反偏差的数据对应的流量计，泄漏点就可确定在这两组流量计之间，进一步利用流量计，通过研究泄漏点前后的流量数据的变化受其距离泄漏点远近的影响，将前后数据变化的量做比例，然后按照既定关系对流量计之间的管路距离进行区分，也就准确确定了泄漏点的具体位置，并避免引入其他来源的数据，降低了泄漏点确认的复杂程度。
权利要求书clms
1.一种基于物联网的超声波流量计的泄漏检测方法，其特征在于，应用于物联网系统，所述物联网系统包括：依次交互的用户平台、服务平台、管理平台、传感网络平台以及对象平台，所述对象平台用于接入超声波流量计，所述超声波流量计沿输送管路设置多个，所述基于物联网的超声波流量计的泄漏检测方法包括以下步骤：利用所述超声波流量计，获得所有所述输送管路的实时流量数据；判断所述实时流量数据是否为既定流量数据；响应于判断结果为否，确定泄漏点所在的目标输送管路；根据所述目标输送管路上获得的所述实时流量数据相对所述既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据；根据差值比和所述第一异常数据与所述第二异常数据对应的所述超声波流量计之间的管路距离的既定关系，确定所述泄漏点的位置；其中，所述差值比基于第一差值与第二差值获得，所述第一差值为所述第一异常数据与所述既定流量数据的差值，所述第二差值为所述既定流量数据与所述第二异常数据差值。2.根据权利要求1所述的基于物联网的超声波流量计的泄漏检测方法，其特征在于，所述根据所述目标输送管路上获得的所述实时流量数据相对所述既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据，包括：沿所述目标输送管路的输送方向，对所述目标输送管路上获得的所述实时流量数据进行遍历，获得所有所述实时流量数据相对所述既定流量数据的偏差情况；根据所述偏差情况，获得偏差相反且在遍历过程中相邻的所述实时流量数据，以作为第一异常数据和第二异常数据。3.根据权利要求1所述的基于物联网的超声波流量计的泄漏检测方法，其特征在于，所述根据差值比和所述第一异常数据与所述第二异常数据对应的所述超声波流量计之间的管路距离的既定关系，确定所述泄漏点的位置之前，所述基于物联网的超声波流量计的泄漏检测方法还包括：基于模拟泄漏点在模拟输送管路的不同位置上的泄漏仿真，获得所述模拟输送管路两端的流量数据以及所述模拟泄漏点分别到所述模拟输送管路两端的距离；根据所述模拟输送管路两端的流量数据和输入流量数据，获得所述模拟泄漏点两侧的差值情况；根据所述模拟泄漏点两侧的差值情况以及所述模拟泄漏点分别到所述模拟输送管路两端的距离，获得所述既定关系。4.根据权利要求1所述的基于物联网的超声波流量计的泄漏检测方法，其特征在于，所述利用所述超声波流量计，获得所有所述输送管路的实时流量数据，包括：利用所述超声波流量计，获得所有所述输送管路的流量数据；对位于同一所述输送管路的分级管路上的所述流量数据进行线性拟合，获得实时流量数据。5.根据权利要求1所述的基于物联网的超声波流量计的泄漏检测方法，其特征在于，所述利用所述超声波流量计，获得所有所述输送管路的实时流量数据，包括：利用所述超声波流量计，获得目标时间段内所有所述输送管路的时间序列流量数据，以作为实时流量数据。6.根据权利要求5所述的基于物联网的超声波流量计的泄漏检测方法，其特征在于，所述判断所述实时流量数据是否为既定流量数据，包括：判断所述实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定所述实时流量数据是否为所述既定流量数据。7.根据权利要求6所述的基于物联网的超声波流量计的泄漏检测方法，其特征在于，所述判断所述实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定所述实时流量数据是否为所述既定流量数据之前，所述方法还包括：基于时间轴对所述实时流量数据进行扭曲，获得目标实时流量数据；所述判断所述实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定所述实时流量数据是否为所述既定流量数据，包括：判断所述目标实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定所述目标实时流量数据是否为所述既定流量数据。8.一种基于物联网的超声波流量计的泄漏检测系统，其特征在于，应用于物联网系统，所述物联网系统包括：依次交互的用户平台、服务平台、管理平台、传感网络平台以及对象平台，所述对象平台用于接入超声波流量计，所述超声波流量计沿输送管路设置多个，所述基于物联网的超声波流量计的泄漏检测系统包括：第一获得模块，所述第一获得模块用于利用所述超声波流量计，获得所有所述输送管路的实时流量数据；判断模块，所述判断模块用于判断所述实时流量数据是否为既定流量数据；确定模块，所述确定模块用于响应于判断结果为否，确定泄漏点所在的目标输送管路；第二获得模块，所述第二获得模块用于根据所述目标输送管路上获得的所述实时流量数据相对所述既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据；目标获得模块，所述目标获得模块用于根据差值比和所述第一异常数据与所述第二异常数据对应的所述超声波流量计之间的管路距离的既定关系，确定所述泄漏点的位置；其中，所述差值比基于第一差值与第二差值获得，所述第一差值为所述第一异常数据与所述既定流量数据的差值，所述第二差值为所述既定流量数据与所述第二异常数据差值。9.一种电子设备，其特征在于，包括处理器及存储器，其中，所述存储器用于存储计算机程序；所述处理器用于加载执行所述计算机程序，以使所述电子设备执行如权利要求1-7中任一项所述的基于物联网的超声波流量计的泄漏检测方法。
说明书desc
技术领域本申请涉及管路检测技术领域，具体涉及一种基于物联网的超声波流量计的泄漏检测方法、系统及设备。背景技术超声波流量计，是指一种基于超声波在流动介质中传播速度等于被测介质的平均流速与声波在静止介质中速度的矢量和的原理开发的流量计，通过对象平台接入物联网系统，实现对管路中输送介质的流量数据的监测及交互。虽然能够通过超声波流量计反馈的数据及时发现泄漏情况，但是目前的手段仅仅只是利用数据确定泄漏的大致位置，泄露点具体位置则另需要检测压力值的变化确定，如此一来，不仅对于超声波流量计的利用率降低，不同源数据的使用还会降低泄漏点准确位置确定的效率。发明内容本申请的主要目的在于提供一种基于物联网的超声波流量计的泄漏检测方法、系统及设备，旨在解决现有技术中在基于物联网系统的超声波流量计在泄漏检测应用中的利用率较低，导致泄漏点位置确定的效率偏低的问题。为实现上述目的，本申请采用的技术方案如下：第一方面，本申请提供一种基于物联网的超声波流量计的泄漏检测方法，应用于物联网系统，物联网系统包括：依次交互的用户平台、服务平台、管理平台、传感网络平台以及对象平台，对象平台用于接入超声波流量计，超声波流量计沿输送管路设置多个，基于物联网的超声波流量计的泄漏检测方法包括以下步骤：利用超声波流量计，获得所有输送管路的实时流量数据；判断实时流量数据是否为既定流量数据；响应于判断结果为否，确定泄漏点所在的目标输送管路；根据目标输送管路上获得的实时流量数据相对既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据；根据差值比和第一异常数据与第二异常数据对应的超声波流量计之间的管路距离的既定关系，确定泄漏点的位置；其中，差值比基于第一差值与第二差值获得，第一差值为第一异常数据与既定流量数据的差值，第二差值为既定流量数据与第二异常数据差值。可选的，根据目标输送管路上获得的实时流量数据相对既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据，包括：沿目标输送管路的输送方向，对目标输送管路上获得的实时流量数据进行遍历，获得所有实时流量数据相对既定流量数据的偏差情况；根据偏差情况，获得偏差相反且在遍历过程中相邻的实时流量数据，以作为第一异常数据和第二异常数据。可选的，根据差值比和第一异常数据与第二异常数据对应的超声波流量计之间的管路距离的既定关系，确定泄漏点的位置之前，基于物联网的超声波流量计的泄漏检测方法还包括：基于模拟泄漏点在模拟输送管路的不同位置上的泄漏仿真，获得模拟输送管路两端的流量数据以及模拟泄漏点分别到模拟输送管路两端的距离；根据模拟输送管路两端的流量数据和输入流量数据，获得模拟泄漏点两侧的差值情况；根据模拟泄漏点两侧的差值情况以及模拟泄漏点分别到模拟输送管路两端的距离，获得既定关系。可选的，利用超声波流量计，获得所有输送管路的实时流量数据，包括：利用超声波流量计，获得所有输送管路的流量数据；对位于同一输送管路的分级管路上的流量数据进行线性拟合，获得实时流量数据。可选的，利用超声波流量计，获得所有输送管路的实时流量数据，包括：利用超声波流量计，获得目标时间段内所有输送管路的时间序列流量数据，以作为实时流量数据。可选的，判断实时流量数据是否为既定流量数据，包括：判断实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定实时流量数据是否为既定流量数据。可选的，判断实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定实时流量数据是否为既定流量数据之前，方法还包括：基于时间轴对实时流量数据进行扭曲，获得目标实时流量数据；判断实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定实时流量数据是否为既定流量数据，包括：判断目标实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定目标实时流量数据是否为既定流量数据。第二方面，本申请提供一种基于物联网的超声波流量计的泄漏检测系统，应用于物联网系统，物联网系统包括：依次交互的用户平台、服务平台、管理平台、传感网络平台以及对象平台，对象平台用于接入超声波流量计，超声波流量计沿输送管路设置多个，基于物联网的超声波流量计的泄漏检测系统包括：第一获得模块，第一获得模块用于利用超声波流量计，获得所有输送管路的实时流量数据；判断模块，判断模块用于判断实时流量数据是否为既定流量数据；确定模块，确定模块用于响应于判断结果为否，确定泄漏点所在的目标输送管路；第二获得模块，第二获得模块用于根据目标输送管路上获得的实时流量数据相对既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据；目标获得模块，目标获得模块用于根据差值比和第一异常数据与第二异常数据对应的超声波流量计之间的管路距离的既定关系，确定泄漏点的位置；其中，差值比基于第一差值与第二差值获得，第一差值为第一异常数据与既定流量数据的差值，第二差值为既定流量数据与第二异常数据差值。第三方面，本申请提供一种电子设备，包括处理器及存储器，其中，存储器用于存储计算机程序；处理器用于加载执行计算机程序，以使电子设备执行如上述第一方面中任一项提供的基于物联网的超声波流量计的泄漏检测方法。与现有技术相比，本申请的有益效果是：本申请提出的一种基于物联网的超声波流量计的泄漏检测方法、系统及设备，该方法包括：利用超声波流量计，获得所有输送管路的实时流量数据；判断实时流量数据是否为既定流量数据；响应于判断结果为否，确定泄漏点所在的目标输送管路；根据目标输送管路上获得的实时流量数据相对既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据；根据差值比和第一异常数据与第二异常数据对应的超声波流量计之间的管路距离的既定关系，确定泄漏点的位置；其中，差值比基于第一差值与第二差值获得，第一差值为第一异常数据与既定流量数据的差值，第二差值为既定流量数据与第二异常数据差值。本申请首先利用沿输送管路设置的多个超声波流量计获得各处管路的实时流量数据，如果存在泄漏情况，那么实时流量数据相对既定流量数据将发生变化，流量发生变化的管路就是泄漏发生的管路，由于沿输送方向上泄漏点之前的流量会变大，之后的流量会减小，因此可以在目标管路上根据流量数据的偏差情况确认一组相反偏差的数据对应的流量计，泄漏点就可以确定在这两组流量计之间，进一步对流量数据进行利用，通过研究泄漏点前后的流量数据的变化受其距离泄漏点远近的影响，将前后数据变化的量做比例，然后按照既定关系对流量计之间的管路距离进行区分，也就准确确定了泄漏点的具体位置，并且避免引入其他来源的数据，降低了泄漏点确认的复杂程度。附图说明图1为本申请实施例涉及的硬件运行环境的电子设备结构示意图；图2为本申请实施例提供的基于物联网的超声波流量计的泄漏检测方法的流程示意图；图3为本申请实施例提供的基于物联网的超声波流量计的泄漏检测方法中物联网系统的框架示意图；图4为本申请实施例提供的基于物联网的超声波流量计的泄漏检测方法在一种实施方式下的逻辑框图；图中标记：101-处理器，102-通信总线，103-网络接口，104-用户接口，105-存储器。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。参照附图1，附图1为本申请实施例方案涉及的硬件运行环境的电子设备结构示意图，该电子设备可以包括：处理器101，例如中央处理器，通信总线102、用户接口104，网络接口103，存储器105。其中，通信总线102用于实现这些组件之间的连接通信。用户接口104可以包括显示屏、输入单元比如键盘，可选用户接口104还可以包括标准的有线接口、无线接口。网络接口103可选的可以包括标准的有线接口、无线接口。存储器105可选的可以是独立于前述处理器101的存储装置，存储器105可能是高速的随机存取存储器存储器，也可能是稳定的非易失性存储器，例如至少一个磁盘存储器；处理器101可以是通用处理器，包括中央处理器、网络处理器等，还可以是数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。本领域技术人员可以理解，附图1中示出的结构并不构成对电子设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如附图1所示，作为一种存储介质的存储器105中可以包括操作系统、网络通信模块、用户接口模块以及基于物联网的超声波流量计的泄漏检测系统。在附图1所示的电子设备中，网络接口103主要用于与网络服务器进行数据通信；用户接口104主要用于与用户进行数据交互；本申请中的处理器101、存储器105可以设置在电子设备中，电子设备通过处理器101调用存储器105中存储的基于物联网的超声波流量计的泄漏检测系统，并执行本申请实施例提供的基于物联网的超声波流量计的泄漏检测方法。参照附图2，基于前述实施例的硬件设备，本申请的实施例提供一种基于物联网的超声波流量计的泄漏检测方法，应用于物联网系统，物联网系统包括：依次交互的用户平台、服务平台、管理平台、传感网络平台以及对象平台，对象平台用于接入超声波流量计，超声波流量计沿输送管路设置多个，基于物联网的超声波流量计的泄漏检测方法包括以下步骤：S10：利用超声波流量计，获得所有输送管路的实时流量数据。在具体实施过程中，输送管路可以是输送如天然气的气体管路，也可以是如输送水、石油等的液体管路。需要注意的是，对于管路都需要至少在进口端与出口端设置一个超声波流量计，对于有支路的管路，那么至少需要在支路的进口端和出口端设置一个超声波流量计。所有输送管路的实时流量数据也就是当前情况下，超声波流量计反馈的流量数据，本申请针对稳态传输方式，也就是在无泄漏发生的情况下，管路中介质都是以恒定的流速输送，不涉及变速输送的情况。不论是泄露或者不泄露的情况下，由于流量数据的测量值并非一个固定不变的值，通常情况是在某一个值的上下浮动，比如既定流量是50个单位，实际上流量计在某个时间点反映出来的实时测量值可能是51，也有可能是49，为了避免点数据的特异情况影响判断，将点数据进行线性拟合，即：利用超声波流量计，获得所有输送管路的实时流量数据，包括：利用超声波流量计，获得所有输送管路的流量数据；对位于同一输送管路的分级管路上的流量数据进行线性拟合，获得实时流量数据。在具体实施过程中，考虑到不同分级的管路流量情况本就存在差异，因此需要以不同分级管路分别进行流量数据的处理，将输送管道上同一分级管路的流量数据进行线性拟合，也即将一串波动的数据拟合后得到一条水平线，该水平线所代表的值可以被当作这条分级管路的流量真实值，测量值是尽可能在这个真实值的基础上较小浮动。S20：判断实时流量数据是否为既定流量数据。在具体实施过程中，既定流量数据也就是按照设定的输送条件且无泄漏状态下，管道中介质的流量数据。判断实时流量数据是否为既定流量数据也就是判断二者是否有差异，比如以前述进行了线性拟合后的点数据进行处理时，判断手段即为判断拟合后所反映的流量真实值是否等于既定流量。既定流量数据可以是实际应用中测得的数据，也可以是进行仿真模拟得到的数据，考虑到有设计误差、测量偏差等带来的影响，在判断实时流量数据是否为既定流量数据时允许一定的偏差，比如设定一个允许偏差值，实时流量数据与既定流量数据的差值不超过允许偏差值，即可认为实时流量数据为既定流量数据。S30：响应于判断结果为否，确定泄漏点所在的目标输送管路。在具体实施过程中，判断结果为否，即可认为出现了泄露。需要注意的一点是，在多级管路中，每一个分级管路上的既定流量数据可以是不同的，而前述判断也是判断的同一分级管路上的实时流量数据与既定流量数据。不论流量数据偏大还是偏小，都可以确定采集该流量数据的超声波流量计所在的管路出现了泄漏，由此可以确定泄漏点所在的目标输送管路，实现泄漏点位置的初步定位。S40：根据目标输送管路上获得的实时流量数据相对既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据。在具体实施过程中，确定了泄漏点所在管路后，缩小处理范围，将目标输送管路上的实时流量数据与既定流量数据的偏差情况获取，然后确定偏差相反的异常数据，也即一个异常数据相对既定流量数据偏大，一个异常数据相对既定流量数据偏小。结合到实际的泄漏情况中，沿输送方向，泄漏点之前的流量增大，之后的流量减小，即可以进一步确定泄漏点是在异常数据所对应的两个超声波流量计之间。进一步的，根据目标输送管路上获得的实时流量数据相对既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据，包括：S401：沿目标输送管路的输送方向，对目标输送管路上获得的实时流量数据进行遍历，获得所有实时流量数据相对既定流量数据的偏差情况；S402：根据偏差情况，获得偏差相反且在遍历过程中相邻的实时流量数据，以作为第一异常数据和第二异常数据。在具体实施过程中，在一个分级输送管路上可以有多个超声波流量计，在管路输送方向确定出泄漏点前后最近的一个超声波流量计，可以更准确地定位泄漏点位置，对目标输送管路上获得的实时流量数据进行遍历，以相邻的流量数据为一组，依次进行遍历查询，当查询到一组数据中一个实时流量数据偏大，一个数据偏小时，说明遍历过程所对应的管路路径已经经过了泄漏点，由此可确定这两个数据分别为第一异常数据和第二异常数据。S50：根据差值比和第一异常数据与第二异常数据对应的超声波流量计之间的管路距离的既定关系，确定泄漏点的位置；其中，差值比基于第一差值与第二差值获得，第一差值为第一异常数据与既定流量数据的差值，第二差值为既定流量数据与第二异常数据差值。在具体实施过程中，由于泄漏点的出现会带来流量的变化，为了将泄漏点位置对流量变化程度的影响具体化，将泄漏点两侧流量的变化程度做比，并结合到其与管路距离的既定关系，从而确定具体泄漏点的位置。既定关系的获得步骤如下：基于模拟泄漏点在模拟输送管路的不同位置上的泄漏仿真，获得模拟输送管路两端的流量数据以及模拟泄漏点分别到模拟输送管路两端的距离；根据模拟输送管路两端的流量数据和输入流量数据，获得模拟泄漏点两侧的差值情况；根据模拟泄漏点两侧的差值情况以及模拟泄漏点分别到模拟输送管路两端的距离，获得既定关系。在具体实施过程中，通过在仿真软件中进行模拟，将泄漏点设置于输送管路不同位置上进行泄漏模拟，从而得到模拟的管路两端的流量数据，也就是泄漏点之前和之后流量数据的变化，将这种变化情况反映到距离上，也就是两个端口距离泄漏点有不同的距离，通过仿真模拟得到泄漏点与两端流量的变化情况的关系，也就是既定关系，其中为了实现关系的一一对应，将两端的差值作比，得到一个差值比即可。本实施例中，首先利用沿输送管路设置的多个超声波流量计获得各处管路的实时流量数据，如果存在泄漏情况，那么实时流量数据相对既定流量数据将发生变化，流量发生变化的管路就是泄漏发生的管路，由于沿输送方向上泄漏点之前的流量会变大，之后的流量会减小，因此可以在目标管路上根据流量数据的偏差情况确认一组相反偏差的数据对应的流量计，泄漏点就可以确定在这两组流量计之间，进一步对流量数据进行利用，通过研究泄漏点前后的流量数据的变化受其距离泄漏点远近的影响，将前后数据变化的量做比例，然后按照既定关系对流量计之间的管路距离进行区分，也就准确确定了泄漏点的具体位置，并且避免引入其他来源的数据，降低了泄漏点确认的复杂程度。本申请实施例中所提供的物联网系统应用于燃气管理场景下的框架如附图3所示，可包括依次交互的用户平台、服务平台、管理平台、传感网络平台以及对象平台，形成基本的五平台构架，其中，对象平台可包括超声波流量计对象分平台；传感网络平台可包括设备管理模块与数据传输管理模块，设备管理模块可包括网络管理单元、指令管理单元以及设备状态管理单元，数据传输管理模块可包括数据协议管理单元、数据解析单元、数据分类单元、数据传输监控单元以及数据传输安全单元；管理平台可包括设备管理分平台、业务管理分平台和数据中心，设备管理分平台和业务管理分平台可分别与数据中心进行交互，设备管理分平台可包括设备运行状态监控管理单元、计量数据监控管理单元、设备参数管理单元以及设备生命周期管理单元，业务管理分平台可包括营收管理单元、工商户管理单元、报装管理单元、消息管理单元、调度管理单元、购销差管理单元、运行分析管理单元以及综合业务管理单元，基于物联网的超声波流量计的泄漏检测系统的各功能模块可集成至管理平台，并储存在数据中心中实现调用；服务平台可包括使用服务模块、运营服务模块以及安全服务模块；用户平台可包括普通用户模块、政府用户模块以及监管用户模块，通过上述五平台为基础的物联网系统的各个功能平台之间的交互，建立完善的闭环信息运行逻辑，确保了感知信息和控制信息的有序运行，实现设备本地操作安全的智慧化管理。在一种实施例中，利用超声波流量计，获得所有输送管路的实时流量数据，包括：利用超声波流量计，获得目标时间段内所有输送管路的时间序列流量数据，以作为实时流量数据。在具体实施过程中，为了进一步提升泄漏点位置定位的准确性，对流量数据的质量进行提升。采用一段时间内的时间序列流量数据作为实时数据，能够更好的反映出一个阶段内流量数据的变化情况。在此基础上，判断实时流量数据是否为既定流量数据就变成了时间序列流量数据与既定流量数据的相关性，也即：判断实时流量数据是否为既定流量数据，包括：判断实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定实时流量数据是否为既定流量数据。显然，在前述手段的基础上，与实时流量数据进行对比的既定流量数据也需要采用时间序列的形式，但即便是采用上述手段，依然会存在一些客观误差无法消除，因此判断实时流量数据是否为既定流量数据时，只要实时流量数据与既定流量数据的序列相似度满足相似度阈值，即可认为实时流量数据是既定流量数据。进一步的，提供一种适用于两个序列数据对比，以获得序列相似度的方式，也即：判断实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定实时流量数据是否为既定流量数据之前，方法还包括：基于时间轴对实时流量数据进行扭曲，获得目标实时流量数据。在具体实施过程中，采用动态规划的方法来进行时间规整，通过扭曲时间序列，也即在时间轴上对序列数据进行局部的缩放，调整后的数据即为目标实时流量数据，使得两个序列的形态尽可能一致后，即便是面对长度不一致、数据量不同的两个序列数据，采用如DTW距离的方式，也能得到最大可能的相似度，与本申请实施例中的实时流量数据和既定流量数据的形式更加契合，能进一步提升泄漏判断的准确性。基于前述步骤，判断实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定实时流量数据是否为既定流量数据，包括：判断目标实时流量数据与既定流量数据的序列相似度是否满足相似度阈值，以确定目标实时流量数据是否为既定流量数据。参照附图4，在如附图4所示的实施方式下，对本申请做进一步说明：首先采集得到各管路上基于时间序列的流量数据，提升流量数据的覆盖面，能够提升其所表征的实时流量数据的质量，然后对该序列数据进行扭曲，以便于和既定流量数据进行对比，获得更为准确的序列相似度，得到满足条件的实时流量数据作为目标数据。然后根据确定的序列相似度，可以判定实时流量数据是否为既定流量数据，如果是，则返回至获取时间序列数据的流程，不断采集当前的实时数据，实现不间断监控；如果判断不是既定流量数据，那么可以根据出现异常的数据，先行确定泄漏点所在的管路，缩小后续准确位置的确定范围，提升检测效率；由于沿输送方向上泄漏点之前的流量会变大，之后的流量会减小，因此可以在管路上确定相对既定流量数据的偏差情况，确认一组相反偏差的第一异常数据和第二异常数据，泄漏点就可以确定在这两组数据对应的流量计之间，由于通过泄漏仿真已经得到既定关系，确认了泄漏点前后的流量数据的变化与其距离泄漏点远近的关系，将第一异常数据和第二异常数据相对既定流量数据的差值作比后，将单一数据通过既定关系与泄漏点的位置距离进行对应，由此确定泄漏点的具体位置。基于与前述实施例中同样的发明构思，本申请实施例还提供一种基于物联网的超声波流量计的泄漏检测系统，应用于物联网系统，物联网系统包括：依次交互的用户平台、服务平台、管理平台、传感网络平台以及对象平台，对象平台用于接入超声波流量计，超声波流量计沿输送管路设置多个，基于物联网的超声波流量计的泄漏检测系统包括：第一获得模块，第一获得模块用于利用超声波流量计，获得所有输送管路的实时流量数据；判断模块，判断模块用于判断实时流量数据是否为既定流量数据；确定模块，确定模块用于响应于判断结果为否，确定泄漏点所在的目标输送管路；第二获得模块，第二获得模块用于根据目标输送管路上获得的实时流量数据相对既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据；目标获得模块，目标获得模块用于根据差值比和第一异常数据与第二异常数据对应的超声波流量计之间的管路距离的既定关系，确定泄漏点的位置；其中，差值比基于第一差值与第二差值获得，第一差值为第一异常数据与既定流量数据的差值，第二差值为既定流量数据与第二异常数据差值。本领域技术人员应当理解，实施例中的各个模块的划分仅仅是一种逻辑功能的划分，实际应用时可以全部或部分集成到一个或多个实际载体上，且这些模块可以全部以软件通过处理单元调用的形式实现，也可以全部以硬件的形式实现，或是以软件、硬件结合的形式实现，需要说明的是，本实施例中基于物联网的超声波流量计的泄漏检测系统中各模块是与前述实施例中的基于物联网的超声波流量计的泄漏检测方法中的各步骤一一对应，因此，本实施例的具体实施方式可参照前述基于物联网的超声波流量计的泄漏检测方法的实施方式，这里不再赘述。基于与前述实施例中同样的发明构思，本申请的实施例还提供一种计算机可读存储介质，储存有计算机程序，计算机程序被处理器加载执行时，实现如本申请实施例提供的基于物联网的超声波流量计的泄漏检测方法。基于与前述实施例中同样的发明构思，本申请的实施例还提供一种电子设备，包括处理器及存储器，其中，存储器用于存储计算机程序；处理器用于加载执行计算机程序，以使电子设备执行如本申请实施例提供的基于物联网的超声波流量计的泄漏检测方法。在一些实施例中，计算机可读存储介质可以是FRAM、ROM、PROM、EPROM、EEPROM、闪存、磁表面存储器、光盘、或CD-ROM等存储器；也可以是包括上述存储器之一或任意组合的各种设备。计算机可以是包括智能终端和服务器在内的各种计算设备。在一些实施例中，可执行指令可以采用程序、软件、软件模块、脚本或代码的形式，按任意形式的编程语言来编写，并且其可按任意形式部署，包括被部署为独立的程序或者被部署为模块、组件、子例程或者适合在计算环境中使用的其它单元。作为示例，可执行指令可以但不一定对应于文件系统中的文件，可以可被存储在保存其它程序或数据的文件的一部分，例如，存储在超文本标记语言文档中的一个或多个脚本中，存储在专用于所讨论的程序的单个文件中，或者，存储在多个协同文件中。作为示例，可执行指令可被部署为在一个计算设备上执行，或者在位于一个地点的多个计算设备上执行，又或者，在分布在多个地点且通过通信网络互连的多个计算设备上执行。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本申请实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述 实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通 过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本申请的 技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台多媒体终端设备执行本申请各个实施例所述的方法。综上，本申请提供的一种基于物联网的超声波流量计的泄漏检测方法、系统及设备，该方法包括：利用超声波流量计，获得所有输送管路的实时流量数据；判断实时流量数据是否为既定流量数据；响应于判断结果为否，确定泄漏点所在的目标输送管路；根据目标输送管路上获得的实时流量数据相对既定流量数据的偏差情况，获得偏差相反的第一异常数据和第二异常数据；根据差值比和第一异常数据与第二异常数据对应的超声波流量计之间的管路距离的既定关系，确定泄漏点的位置；其中，差值比基于第一差值与第二差值获得，第一差值为第一异常数据与既定流量数据的差值，第二差值为既定流量数据与第二异常数据差值。本申请首先利用沿输送管路设置的多个超声波流量计获得各处管路的实时流量数据，如果存在泄漏情况，那么实时流量数据相对既定流量数据将发生变化，流量发生变化的管路就是泄漏发生的管路，由于沿输送方向上泄漏点之前的流量会变大，之后的流量会减小，因此可以在目标管路上根据流量数据的偏差情况确认一组相反偏差的数据对应的流量计，泄漏点就可以确定在这两组流量计之间，进一步对流量数据进行利用，通过研究泄漏点前后的流量数据的变化受其距离泄漏点远近的影响，将前后数据变化的量做比例，然后按照既定关系对流量计之间的管路距离进行区分，也就准确确定了泄漏点的具体位置，并且避免引入其他来源的数据，降低了泄漏点确认的复杂程度。以上所述仅为本申请的较佳实施例，并不用以限制本申请，凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
