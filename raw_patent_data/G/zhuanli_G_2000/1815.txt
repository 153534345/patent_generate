标题title
应用于数字孪生的多维度场景坐标点位转换及映射方法
摘要abst
本发明公开了应用于数字孪生的多维度场景坐标点位转换及映射方法包括步骤：基于三维模型生成1：1尺寸的俯视图得到二维模型，并记录3d模型属性；将二维模型进行比例缩放，记录缩放后的2d模型参数并添加到模型库中；在二维地图上打点得到二维点位，在模型库中选择二维模型与二维点位进行关联绑定，基于二维点位坐标及二维模型的模型原点位置确定二维模型的位置，对二维模型进行参数调整；将二维点位坐标在三维场景中转换为三维点位，基于3d模型属性、模型原点位置、三维点位及参数调整情况在三维场景中渲染三维模型。本发明无须专业技术人员参与，普通用户在三维模型对应的二维平面上改变点位位置，也可以对点位替换元素或者模型。
权利要求书clms
1.一种应用于数字孪生的多维度场景坐标点位转换及映射方法，其特征在于，包括以下步骤：基于三维模型生成1：1尺寸的俯视图得到二维模型，并记录3d模型属性；将所述二维模型进行比例缩放以便于在二维地图上展示，记录缩放后的2d模型参数并添加到模型库中；在所述二维地图上打点得到二维点位，在所述模型库中选择所述二维模型与所述二维点位进行关联绑定；基于所述二维点位坐标及所述二维模型的模型原点位置确定所述二维模型的位置，对所述二维模型进行参数调整；基于所述3d模型属性和所述2d模型参数，将所述二维点位坐标在三维场景中转换为三维点位，基于所述3d模型属性、模型原点位置、所述三维点位及参数调整情况在三维场景中渲染所述三维模型。2.根据权利要求1所述的应用于数字孪生的多维度场景坐标点位转换及映射方法，其特征在于，所述3d模型属性包括俯视图的宽度3d_width、俯视图的高度3d_height，所述2d模型参数包括缩放后的二维平面图宽度2d_width、二维平面图高度2d_height，设定所述二维平面图上的左上角为二维模型原点；获得二维点位基于二维平面图原点的相对坐标记为横坐标2d_x、纵坐标2d_y；二维点位坐标转换映射到三维点位坐标的算法公式：3d_x = 3d_width*2d_x / 2d_width3d_y = 3d_height*2d_y / 2d_height。3.根据权利要求2所述的应用于数字孪生的多维度场景坐标点位转换及映射方法，其特征在于，所述模型原点位置包括：二维模型原点和三维模型原点，基于所述二维模型原点垂直所述俯视图做三维模型的切线，切换到三维透视图，切线与三维模型相切的点即设为三维模型的原点。4.根据权利要求1所述的应用于数字孪生的多维度场景坐标点位转换及映射方法，其特征在于，所述三维模型至少包括以下任意一种：人物模型、植物模型、动物模型、建筑模型和物联网设备模型。5.根据权利要求1所述的应用于数字孪生的多维度场景坐标点位转换及映射方法，其特征在于，对所述二维模型进行参数调整至少包括以下步骤任意之一：设置所述二维模型的离地高度、调整所述二维模型的旋转角度和设定所述二维模型在三维场景中显示的缩放比例。6.根据权利要求1所述的应用于数字孪生的多维度场景坐标点位转换及映射方法，其特征在于，在所述二维地图上打点得到二维点位，包括步骤：监听鼠标点击事件，判断是否有鼠标指针在二维平面图范围内点击；当有鼠标指针在二维平面图范围内点击，在所述鼠标指针点击位置显示svg小图标，并弹出模型选择及参数调整窗口。7.一种应用于数字孪生的多维度场景坐标点位转换及映射系统，其特征在于，包括：二维转换模块，用于根据三维模型生成1：1尺寸的俯视图得到二维模型，并记录3d模型属性；比例缩放模块，与所述二维转换模块通信连接，用于将所述二维模型进行比例缩放以便于在二维地图上展示，记录缩放后的2d模型参数并添加到模型库中；打点及模型关联模块，与所述比例缩放模块通信连接，在所述二维地图上打点得到二维点位，在所述模型库中选择所述二维模型与所述二维点位进行关联绑定；参数调整模块，与所述打点及模型关联模块通信连接，基于所述二维点位坐标及所述二维模型的原点位置确定所述二维模型的位置，对所述二维模型进行参数调整；三维渲染模块，与所述二维转换模块、所述比例缩放模块和所述打点及模型关联模块通信连接，基于所述3d模型属性和所述2d模型参数，将所述二维点位坐标在三维场景中转换为三维点位，基于所述3d模型属性、模型原点位置、所述三维点位及参数调整情况在三维场景中渲染所述三维模型。8.根据权利要求7所述的应用于数字孪生的多维度场景坐标点位转换及映射系统，其特征在于，所述参数调整模块包括：高度设定单元，用于设置所述二维模型的离地高度；旋转角度调整单元，用于调整所述二维模型的旋转角度；比例设定单元，用于设定所述二维模型在三维场景中显示的缩放比例。9.一种电子设备，其特征在于，包括处理器，存储器及存储在所述存储器上并可在所述处理器上运行的程序或指令，所述程序或指令被所述处理器执行时实现如权利要求1-6任一项所述的应用于数字孪生的多维度场景坐标点位转换及映射方法。10.一种可读存储介质，其特征在于，所述可读存储介质上存储程序或指令，所述程序或指令被处理器执行时实现如权利要求1-6任一项所述的应用于数字孪生的多维度场景坐标点位转换及映射方法。
说明书desc
技术领域本发明涉及数字孪生场景技术领域，尤其是涉及应用于数字孪生的多维度场景坐标点位转换及映射方法。背景技术目前，数字孪生技术是指以物理实体为基础，运用数字化技术手段对其进行数字化建模，形成与之相对应的虚拟物体。目前数字孪生技术已广泛应用于多个领域，如机械制造、建筑设计、医疗诊断等，具有广阔的应用前景。随着数字孪生的逐渐普及，使用数字孪生技术实时展现物联网设备的状态，变得很普遍。由于物联网设备数量庞大，一旦某些设备在三维模型中改变位置，三维模型设计师需要根据新需求重新绘制三维模型，需要花费大量时间和精力。在已创建好的数字孪生三维模型场景里，若某些元素点位位置有变动，需要三维模型设计师根据新需求重新绘制，这大大增加了设计师的工作量。如果点位需要替换成别的元素或者模型，软件开发也需要参与其中，工作量巨大，且软件开发成本极高。发明内容本发明的目的在于克服上述技术不足，提出应用于数字孪生的多维度场景坐标点位转换及映射方法，解决现有技术中元素点位位置有变动、点位需要替换成别的元素或者模型，绘制成本大、开发成本高且工作量巨大的技术问题。为达到上述技术目的，第一方面，本发明的技术方案提供一种应用于数字孪生的多维度场景坐标点位转换及映射方法，包括以下步骤：基于三维模型生成1：1尺寸的俯视图得到二维模型，并记录3d模型属性；将所述二维模型进行比例缩放以便于在二维地图上展示，记录缩放后的2d模型参数并添加到模型库中；在所述二维地图上打点得到二维点位，在所述模型库中选择所述二维模型与所述二维点位进行关联绑定，基于所述二维点位坐标及所述二维模型的模型原点位置确定所述二维模型的位置，对所述二维模型进行参数调整；基于所述3d模型属性和所述2d模型参数，将所述二维点位坐标在三维场景中转换为三维点位，基于所述3d模型属性、模型原点位置、所述三维点位及参数调整情况在三维场景中渲染所述三维模型。与现有技术相比，本发明提供的应用于数字孪生的多维度场景坐标点位转换及映射方法的有益效果包括：本发明的应用于数字孪生的多维度场景坐标点位转换及映射方法，首先，基于三维模型生成1：1尺寸的俯视图得到二维模型，并记录3d模型属性；再将所述二维模型进行比例缩放以便于在二维地图上展示，由于1：1尺寸的俯视图可能较大，不便于在二维地图上展示，所以需要进行适度的缩放，若尺寸合适，是可以不进行缩放操作的，即二维尺寸的宽度和高度与俯视图一致，记录缩放后的2d模型参数并添加到模型库中，此时模型库里面可能存储有多个二维模型；在需要调用的时候就可以直接在模型库里面选择与点位绑定，然后所述二维点位坐标在三维场景中转换为三维点位，基于所述3d模型属性、模型原点位置、所述三维点位及参数调整情况在三维场景中渲染所述三维模型。本发明的应用于数字孪生的多维度场景坐标点位转换及映射方法，无须专业技术人员参与，普通用户在三维模型对应的二维平面上改变点位位置，即可在三维模型上动态绘制新点位，也可以对点位替换元素或者模型。本发明在已创建好的数字孪生三维模型场景中，若某些元素点位位置有变动，无需要三维模型设计师根据新需求重新绘制，无需设计师参与设计。如果点位需要替换成别的元素或者模型，也无需重新开发，能够极大地提升工作效率，降低设计成本和开发成本。根据本发明的一些实施例，所述3d模型属性包括俯视图的宽度、俯视图的高度，所述2d模型参数包括缩放后的二维平面图宽度、二维平面图高度，设定所述二维平面图上的左上角为二维模型原点；获得二维点位基于二维平面图原点的相对坐标记为横坐标、高度尺寸，单位像素。由于三维模型生成的1：1俯视图可能尺寸过大，缩放到浏览器页面能够完整展现的尺寸，把俯视图放在浏览器web端页面上，记录缩放后的二维平面图宽、高，单位像素，之后在该二维平面图上打点可以转换映射到对应的三维模型上。把缩放后的二维平面图展现在浏览器web端页面上，在页面上设置点位。设定二维平面图上的左上角为坐标原点、俯视图的高度，2d模型参数包括缩放后的二维平面图宽度、二维平面图高度，设定二维平面图上的左上角为二维模型原点；获得二维点位基于二维平面图原点的相对坐标记为横坐标和通信介质。如本领域普通技术人员公知的，术语计算机存储介质包括在用于存储信息的任何方法或技术中实施的易失性和非易失性、可移除和不可移除介质。计算机存储介质包括但不限于RAM、ROM、EEPROM、闪存或其他存储器技术、CD-ROM、数字多功能盘或其他光盘存储、磁盒、磁带、磁盘存储或其他磁存储装置，或者可以用于存储期望的信息并且可以被计算机访问的任何其他的介质。此外，本领域普通技术人员公知的是，通信介质通常包含计算机可读指令、数据结构、程序模块或者诸如载波或其他传输机制之类的调制数据信号中的其他数据，并且可包括任何信息传递介质。以上是对本发明的较佳实施进行了具体说明，但本发明并不局限于上述实施方式，熟悉本领域的技术人员在不违背本发明精神的前提下还可做出种种的等同变形或替换，这些等同的变形或替换均包含在本发明权利要求所限定的范围内。
