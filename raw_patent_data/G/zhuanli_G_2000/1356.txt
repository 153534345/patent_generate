标题title
内贸集运的运输路线规划方法、系统及计算机设备
摘要abst
本发明涉及运输路线规划领域，具体为一种内贸集运的运输路线规划方法、系统及计算机设备；通过获取目标船只在初始规划航线上的航道信息和航行数据，从而计算规划出若干个交汇区域，通过与同航船只进行通讯并确定用于超船的交汇区域进行超船，在协商无果或者同航船只未回复的情况下进一步在航行数据的基础上建立超船航线，并根据超船航线在航道上选取若干个超船区域，随后依次通过各个超船区域和超船航线进行实际的超船行为，直至完成超船，在超船过程中进一步采用警戒距离来实现对超船航线的实时动态调整，保证目标船只能够安全地完成超船行为；解决了目前进行超船时主要是基于操控人员经验进行，存在引发船舶碰撞风险的问题。
权利要求书clms
1.一种内贸集运的运输路线规划方法，其特征在于，包括：S1、获取目标船只在初始规划航线上的航道信息；S2、根据航道信息在任一时间判断初始规划航线上是否存在与目标船只航线和航行方向相同的同航船只；若存在，则获取包含目标船只和同航船只的航速、船身尺寸、航道轮廓和航道宽度的航行数据；若不存在，返回步骤S1；S3、根据航行数据在航道上规划出用于超船的若干个交汇区域；S4、向同航船只发出超船请求并根据请求回复判断是否能够在交汇区域完成超船；若是，则通过交汇区域超船后结束；若否，则进入步骤S5；S5、根据航行数据规划用于超船的若干个超船区域，并在超船区域内建立超船航线；S6、依次通过各个超船区域进行超船，并同步修正超船区域内的超船航线。2.根据权利要求1所述的运输路线规划方法，其特征在于，在步骤S3中，具体包括如下步骤：S31、根据航行数据确定警戒距离；S32、根据警戒距离计算第一预选范围；第一预选范围的表达式为：上式中，和/＞分别表示第一预选范围的宽度和长度，/＞和/＞分别表示目标船只船身长度的一半和船身宽度的一半，/＞表示警戒距离，/＞和/＞分别表示同航船只船身长度的一半和船身宽度的一半，/＞表示取最小值；S33、根据第一预选范围从航道上规划出若干个第一交汇区域；S34、对第一交汇区域进行筛选以获得若干个用于超船的交汇区域。3.根据权利要求2所述的运输路线规划方法，其特征在于，在步骤S31中，具体包括如下步骤：S311、根据航行数据获取目标船只和同航船只的安全距离；S312、对比目标船只和同航船只的安全距离大小，并选择最大的安全距离作为警戒距离。4.根据权利要求2所述的运输路线规划方法，其特征在于，在步骤S34中，具体包括如下步骤：S341、根据航行数据依次判断各第一交汇区域的两侧轮廓线是否仅有一侧向远离航线的方向凸起；若是，则将该第一交汇区域标记为第二交汇区域；若否，则将该第一交汇区域标记为第三交汇区域；S342、分别对第二交汇区域和第三交汇区域建立用于超船的第二预选范围和第三预选范围；S343、根据第二预选范围和第三预选范围分别对第二交汇区域和第三交汇区域进行筛选以获得若干个交汇区域。5.根据权利要求4所述的运输路线规划方法，其特征在于，在步骤S342中，第二预选范围的表达式为：第三预选范围的表达式为：上述公式中，表示第二预选范围的宽度，/＞表示目标船只驶入第二预选范围时的第二预选范围的宽度，/＞表示同航船只驶入第二预选范围时的第二预选范围的宽度，/＞表示第二预选范围的长度，/＞表示目标船只驶入第二预选范围时的第二预选范围的长度，表示同航船只驶入第二预选范围时的第二预选范围的长度，/＞表示第三预选范围的宽度，/＞表示第三预选范围的长度，/＞和/＞分别表示目标船只船身长度的一半和船身宽度的一半，/＞表示警戒距离，/＞和/＞分别表示同航船只船身长度的一半和船身宽度的一半，/＞和表示目标船只和同航船只分别驶入和驶出第二预选范围或者第三预选范围的夹角，/＞和/＞的取值范围可以为/＞。6.根据权利要求1所述的运输路线规划方法，其特征在于，在步骤S5中，具体包括如下步骤：S51、计算目标船只与同航船只的航速差；S52、在航道上建立船舶航行的主航线，建立与主航线平行的第一超船航线，并设定主航线与第一超船航线之间的超船间距；超船间距的表达式为：上式中，表示超船间距，/＞和/＞分别表示目标船只和同航船只船身宽度的一半，/＞表示警戒距离；S53、在主航线与第一超船航线之间分别建立第二超船航线和第三超船航线，设定第二超船航线、第三超船航线与主航线之间的锐角均为，设第二超船航线与主航线和第一超船航线的交点分别为A和B，第三超船航线与第一超船航线和主航线之间的交点分别为C和D；S54、计算同航船只在航行时，船尾从A点离开到船头到达D点时的超船时间；S55、根据超船时间计算目标船只超船时的最短路程；S56、根据最短路程计算AD点之间沿着主航线的路程；S57、根据AD点之间沿着主航线的路程长度计算用于目标船只超船的最小超船范围；S58、根据目标船只与同航船只的路程差和航速差，计算目标船只追赶上同航船只时的追赶路程；S59、根据最小超船范围，在目标船只前方航线的航道上规划若干个超船区域，且超船区域与目标船只的距离大于或者等于追赶路程；S60、在各个超船区域内建立第一超船航线，超船区域内主航线的中点作为航线AD的中点，以角度在A点和D点建立第二超船航线和第三超船航线并与第一超船航线相交以获得B点和C点，以各个超船区域内的航线ABCD作为超船航线。7.根据权利要求6所述的运输路线规划方法，其特征在于，在步骤S57中，最小超船范围的表达式为：上式中，表示航道上位于目标船只前进方向的一侧轮廓线到主航线的最小距离，为最小超船范围的最小宽度，/＞表示最小超船范围的长度，/＞表示取最大值，/＞表示同航船只的宽度，/＞表示警戒距离，/＞和/＞分别表示目标船只船长的一半和船宽的一半，表示目标船只驶入最小超船范围时与主航线的夹角，/＞表示BC两点在第一超船航线上的路程，/＞表示AD两点在主航线上的路程。8.根据权利要求1所述的运输路线规划方法，其特征在于，在步骤S6中，具体包括如下步骤：S61、目标船只在超船区域内沿着超船航线进行航行；S62、在航行过程中以一定检测频率获取目标船只与同航船只的超船间距，以及目标船只与超船区域边界的边界距离；S63、对比超船间距和边界距离分别与警戒距离的大小，并对目标船只航线进行调整；若，且/＞，则继续沿着超船航线方向进行航行；若，且/＞，则使目标船只在该检测频率内向远离同航船只的方向航行距离/＞；若，且/＞，则使目标船只在该检测频率内向靠近同航船只的方向航行距离/＞；若，且/＞，则目标船只停止航行；上式中，表示超船间距，/＞表示边界距离，/＞表示警戒距离。9.一种用于实现上述权利要求1～8任一项运输路线规划方法的系统，其特征在于，包括：航道信息获取模块，所述航道信息获取模块用于获取目标船只在初始规划航线上的航道信息；航行数据获取模块，所述航行数据获取模块用于根据航道信息在任一时间判断初始规划航线上是否存在与目标船只的航线和航行方向相同的同航船只，并获取包含目标船只和同航船只的航速、船身尺寸、航道轮廓和航道宽度的航行数据；交汇区域计算模块，所述交汇区域计算模块用于根据航行数据获取模块获取的航行数据规划出若干个交汇区域；通讯模块，所述通讯模块用于与同航船只进行通讯；超船区域计算模块，所述超船区域计算模块用于根据航行数据计算出最小超船范围，并根据最小超船范围在航道上规划出若干个超船区域，同时建立超船航线；超船航线更新模块，所述超船航线更新模块用于获取目标船只与同航船只和超船区域边界的距离，并在超船时对超船航线进行实时调整。10.一种计算机设备，其特征在于，包括处理器和存储器，所述存储器用于存储计算机程序，计算机程序被所述处理器执行时实现如权利要求1至8任一项所述的运输路线规划方法。
说明书desc
技术领域本发明涉及运输路线规划领域，具体为一种内贸集运的运输路线规划方法、系统及计算机设备。背景技术在内贸集运的过程中，经常会经过一些较为狭窄的航道，难以满足两艘轮船的并列航行，在此狭窄的航道上，船与船之间的会遇一般会存在两种情况，一种是两船航行方向相反的会遇，一种是后船需要超越前船的会遇，在第一种情况下，两船为了保证各自能够最快地完成会遇过程，一般会比较配合的快速完成会遇。但是在后船因货期等原因需要超越前船时，往往会遇到各种问题，比如当前船未曾注意到后船需要超船的请求，或者前船基于其他原因不方便配合避让后船时，后船需要基于内河避碰规则中所提到的避免妨碍同航船只航行的义务进行超船，自行判断航道中可以进行超船的区域以完成超船动作，但是通过自身经验来进行超船区域的挑选和航线的制定，其主观性较强，存在引发船舶碰撞的风险。发明内容针对现有技术的不足，本发明提供了一种内贸集运的运输路线规划方法、系统及计算机设备，解决了目前进行超船时主要是基于操控人员经验进行，存在引发船舶碰撞风险的问题。为实现上述目的，本发明提供如下技术方案：一种内贸集运的运输路线规划方法，包括：S1、获取目标船只在初始规划航线上的航道信息；S2、根据航道信息在任一时间判断初始规划航线上是否存在与目标船只航线和航行方向相同的同航船只；若存在，则获取包含目标船只和同航船只的航速、船身尺寸、航道轮廓和航道宽度的航行数据；若不存在，返回步骤S1；S3、根据航行数据在航道上规划出用于超船的若干个交汇区域；S4、向同航船只发出超船请求并根据请求回复判断是否能够在交汇区域完成超船；若是，则通过交汇区域超船后结束；若否，则进入步骤S5；S5、根据航行数据规划用于超船的若干个超船区域，并在超船区域内建立超船航线；S6、依次通过各个超船区域进行超船，并同步修正超船区域内的超船航线。作为优选，在步骤S3中，具体包括如下步骤：S31、根据航行数据确定警戒距离；S32、根据警戒距离计算第一预选范围；第一预选范围的表达式为：上式中，和/＞分别表示第一预选范围的宽度和长度，/＞和/＞分别表示目标船只船身长度的一半和船身宽度的一半，/＞表示警戒距离，/＞和/＞分别表示同航船只船身长度的一半和船身宽度的一半，/＞表示取最小值；S33、根据第一预选范围从航道上规划出若干个第一交汇区域；S34、对第一交汇区域进行筛选以获得若干个用于超船的交汇区域。作为优选，在步骤S31中，具体包括如下步骤：S311、根据航行数据获取目标船只和同航船只的安全距离；S312、对比目标船只和同航船只的安全距离大小，并选择最大的安全距离作为警戒距离。作为优选，在步骤S34中，具体包括如下步骤：S341、根据航行数据依次判断各第一交汇区域的两侧轮廓线是否仅有一侧向远离航线的方向凸起；若是，则将该第一交汇区域标记为第二交汇区域；若否，则将该第一交汇区域标记为第三交汇区域；S342、分别对第二交汇区域和第三交汇区域建立用于超船的第二预选范围和第三预选范围；S343、根据第二预选范围和第三预选范围分别对第二交汇区域和第三交汇区域进行筛选以获得若干个交汇区域。作为优选，在步骤S342中，第二预选范围的表达式为：第三预选范围的表达式为：上述公式中，表示第二预选范围的宽度，/＞表示目标船只驶入第二预选范围时的第二预选范围的宽度，/＞表示同航船只驶入第二预选范围时的第二预选范围的宽度，表示第二预选范围的长度，/＞表示目标船只驶入第二预选范围时的第二预选范围的长度，/＞表示同航船只驶入第二预选范围时的第二预选范围的长度，/＞表示第三预选范围的宽度，/＞表示第三预选范围的长度，/＞和/＞分别表示目标船只船身长度的一半和船身宽度的一半，/＞表示警戒距离，/＞和/＞分别表示同航船只船身长度的一半和船身宽度的一半，/＞和/＞表示目标船只和同航船只分别驶入和驶出第二预选范围或者第三预选范围的夹角，和/＞的取值范围可以为/＞。作为优选，在步骤S5中，具体包括如下步骤：S51、计算目标船只与同航船只的航速差；S52、在航道上建立船舶航行的主航线，建立与主航线平行的第一超船航线，并设定主航线与第一超船航线之间的超船间距；超船间距的表达式为：上式中，表示超船间距，/＞和/＞分别表示目标船只和同航船只船身宽度的一半，/＞表示警戒距离；S53、在主航线与第一超船航线之间分别建立第二超船航线和第三超船航线，设定第二超船航线、第三超船航线与主航线之间的锐角均为，设第二超船航线与主航线和第一超船航线的交点分别为A和B，第三超船航线与第一超船航线和主航线之间的交点分别为C和D；S54、计算同航船只在航行时，船尾从A点离开到船头到达D点时的超船时间；S55、根据超船时间计算目标船只超船时的最短路程；S56、根据最短路程计算AD点之间沿着主航线的路程；S57、根据AD点之间沿着主航线的路程长度计算用于目标船只超船的最小超船范围；S58、根据目标船只与同航船只的路程差和航速差，计算目标船只追赶上同航船只时的追赶路程；S59、根据最小超船范围，在目标船只前方航线的航道上规划若干个超船区域，且超船区域与目标船只的距离大于或者等于追赶路程；S60、在各个超船区域内建立第一超船航线，超船区域内主航线的中点作为航线AD的中点，以角度在A点和D点建立第二超船航线和第三超船航线并与第一超船航线相交以获得B点和C点，以各个超船区域内的航线ABCD作为超船航线。作为优选，在步骤S57中，最小超船范围的表达式为：上式中，表示航道上位于目标船只前进方向的一侧轮廓线到主航线的最小距离，为最小超船范围的最小宽度，/＞表示最小超船范围的长度，/＞表示取最大值，/＞表示同航船只的宽度，/＞表示警戒距离，/＞和/＞分别表示目标船只船长的一半和船宽的一半，/＞表示目标船只驶入最小超船范围时与主航线的夹角，/＞表示BC两点在第一超船航线上的路程，/＞表示AD两点在主航线上的路程。作为优选，在步骤S6中，具体包括如下步骤：S61、目标船只在超船区域内沿着超船航线进行航行；S62、在航行过程中以一定检测频率获取目标船只与同航船只的超船间距，以及目标船只与超船区域边界的边界距离；S63、对比超船间距和边界距离分别与警戒距离的大小，并对目标船只航线进行调整；若，且/＞，则继续沿着超船航线方向进行航行；若，且/＞，则使目标船只在该检测频率内向远离同航船只的方向航行距离/＞；若，且/＞，则使目标船只在该检测频率内向靠近同航船只的方向航行距离/＞；若，且/＞，则目标船只停止航行；上式中，表示超船间距，/＞表示边界距离，/＞表示警戒距离。该技术方案还提供了一种用于实现运输路线规划方法的系统，该系统包括：航道信息获取模块，所述航道信息获取模块用于获取目标船只在初始规划航线上的航道信息；航行数据获取模块，所述航行数据获取模块用于根据航道信息在任一时间判断初始规划航线上是否存在与目标船只的航线和航行方向相同的同航船只，并获取包含目标船只和同航船只的航速、船身尺寸、航道轮廓和航道宽度的航行数据；交汇区域计算模块，所述交汇区域计算模块用于根据航行数据获取模块获取的航行数据规划出若干个交汇区域；通讯模块，所述通讯模块用于与同航船只进行通讯；超船区域计算模块，所述超船区域计算模块用于根据航行数据计算出最小超船范围，并根据最小超船范围在航道上规划出若干个超船区域，同时建立超船航线；超船航线更新模块，所述超船航线更新模块用于获取目标船只与同航船只和超船区域边界的距离，并在超船时对超船航线进行实时调整。该技术方案还提供了一种计算机设备，包括处理器和存储器，所述存储器用于存储计算机程序，计算机程序被所述处理器执行时实现上述运输路线规划的方法。与现有技术相比，本发明提供了一种内贸集运的运输路线规划方法、系统及计算机设备，具备以下有益效果：1、本发明通过获取目标船只在初始规划航线上的航道信息和航行数据，从而计算规划出若干个交汇区域，通过与同航船只进行通讯并确定用于超船的交汇区域进行超船，在协商无果或者同航船只未回复的情况下进一步的在航行数据的基础上建立超船航线，并根据超船航线在航道上选取若干个超船区域，随后依次通过各个超船区域和超船航线进行实际的超船行为，直至完成超船，在超船过程中进一步采用警戒距离来实现对超船航线的实时动态调整，保证目标船只能够安全地完成超船行为，为超船过程提供理论的指导和实际的监控。2、本发明通过根据航道上不同区域的轮廓分别建立第二预选范围和第三预选范围，从超船时目标船只的超船方式入手，充分计算判断各第一交汇区域是否存在超船的可能性，从而能够更加充分地从大量的第一交汇区域中挑选出能够完成超船行为的交汇区域。3、本发明通过先建立理论的超船航线以获得最小超船范围从而获得若干个超船区域，再将超船航线映射到各个超船区域内，从而在各个超船区域内建立超船航线，在实际通过超船航线进行超船行为时，通过警戒距离对目标船只的位置实时监控，并作为超船航线动态调整的依据，保证目标船只能够顺利地完成超船。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1为本发明内贸集运的运输路线规划方法的流程图；图2为本发明内贸集运的运输路线规划系统的原理框图；图3为本发明计算机设备的原理框图；图4为本发明向同航船只发出超船请求的示意图；图5为本发明同航船只进入第二预选范围的示意图；图6为本发明目标船只进入第二预选范围的示意图；图7为本发明第三预选范围的示意图；图8为本发明最小超船范围和超船航线的示意图。图中：10、航道信息获取模块；20、航行数据获取模块；30、交汇区域计算模块；40、通讯模块；50、超船区域计算模块；60、超船航线更新模块。具体实施方式为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图 和具体实施方式对本发明作进一步详细的说明。借此对本申请如何应用技术手段来解决技术问题并达成技术功效的实现过程能充分理解并据以实施。本领域普通技术人员可以理解实现以下实施例方法中的全部或部分步骤是可以通过程序来指令相关的硬件来完成，因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。在内贸集运的过程中，内河航道是其重要的组成部分，当船舶航行至内河航道的狭窄部位时，航道的宽度无法使两艘船舶进行并列航行，而由于船舶在内河上航行时，其速度和航向也是存在一定的差异，比如在《长江江苏段船舶定线制规定2021》中，规定船舶正常航行时最高航速不得超过15节，最低航速不得低于4节，船舶在航行时需要在此范围内选择合适速度进行航行，导致船舶在狭窄航道上航行时一般会发生超船和相向两种会遇方式，而不同的船只根据自身的货运周期和路程会选择合适的安全航速，此时后船若相对速度较快，则需要后船凭借经验合理选择合适的区域超越前船从而保证按时送货，但是这种方式安全性相对较低。图1－图8为本发明的一个实施例，当船舶在狭窄的航道上进行航行且需要超越前船时，为了避免影响前船的航行，需要自行选择进行超船的区域，为了保证超船区域大小和超船区域内超船航线的可行性，本发明提供了一种内贸集运的运输路线规划方法，在提供超船区域和超船航线的基础上，同时保证超船过程中的安全性，该方法包括：S1、获取目标船只在初始规划航线上的航道信息；可以采用目前的A星算法和蚁群算法等进行规划获得目标船只即本船的初始规划航线，航道信息一般是采用AIS系统进行获取，用来指导船舶的航行路线，同时识别和获取航行路线上的障碍物、其他船只和航道的基本信息。S2、根据航道信息在任一时间判断初始规划航线上是否存在与目标船只航线和航行方向相同的同航船只；若存在，则获取包含目标船只和同航船只的航速、船身尺寸、航道轮廓和航道宽度的航行数据；若不存在，返回步骤S1；在狭窄航道上，为了避开航道上的礁石或者浅水区域等，航线路径相对固定，因此在狭窄航道上的两艘船只一般只存在同向和相向航行两种方式。S3、根据航行数据在航道上规划出用于超船的若干个交汇区域；由于超船的区域肯定是位于同航船只的前方航道上，因此实际操作时可以只精确获取同航船只前方的航道数据即可，减少数据的获取量，加快运算速度；交汇区域的大小主要与目标船只和同航船只的船身大小、两船在航行过程中的安全距离相关，因此需要根据获取的航行数据进行相对应的计算，以规划出能够满足目标船只超船的交汇区域，在步骤S3中，具体包括如下步骤：S31、根据航行数据确定警戒距离；警戒距离的大小和船舶船身的大小相关，为了保证在超船过程中的安全性，警戒距离的制定需要综合考虑到目标船只和同航船只的安全距离，在步骤S31中，具体包括如下步骤：S311、根据航行数据获取目标船只和同航船只的安全距离；S312、对比目标船只和同航船只的安全距离大小，并选择最大的安全距离作为警戒距离。S32、根据警戒距离计算第一预选范围；第一预选范围的表达式为：上式中，和/＞分别表示第一预选范围的宽度和长度，长度的方向与船舶的航行方向相同，宽度的方向与船舶的航行方向垂直，长度的方向和宽度的方向位于水平面上，/＞和/＞分别表示目标船只船身长度的一半和船身宽度的一半，/＞表示警戒距离，/＞和/＞分别表示同航船只船身长度的一半和船身宽度的一半，/＞表示取最小值。S33、根据第一预选范围从航道上规划出若干个第一交汇区域；S34、对第一交汇区域进行筛选以获得若干个用于超船的交汇区域；为了能够从航道上快速挑选出交汇区域，需要先计算出一个第一预选范围，通过对比的方式较为粗糙地快速挑选出若干个第一交汇区域，这样可以减少后续进行分类的计算量，同时初步过滤掉航道上大量不符合要求的区域，加快运算速度，随后再通过对第一交汇区域进行分类，并以更加精准的第二预选范围和第三预选范围分别对分类后获得的第二交汇区域和第三交汇区域进行二次筛分，从而充分的挑选出能够满足目标船只超船的若干个交汇区域，在步骤S34中，具体包括如下步骤：S341、根据航行数据依次判断各第一交汇区域的两侧轮廓线是否仅有一侧向远离航线的方向凸起；判断方式可以通过轮廓线坐标变化或者通过AIS获取航道上的一些停泊区或者在轮廓线上相距一定距离的两点之间建立参考线，然后根据参考线进行判断等，在此不再一一列举；若是，则将该第一交汇区域标记为第二交汇区域；若否，则将该第一交汇区域标记为第三交汇区域；S342、分别对第二交汇区域和第三交汇区域建立用于超船的第二预选范围和第三预选范围；第二预选范围的表达式为：第三预选范围的表达式为：上述公式中，表示第二预选范围的宽度，/＞表示目标船只驶入第二预选范围时的第二预选范围的宽度，如图6所示，此时同航船只位于航线上，目标船只从第二预选范围内超越前船，/＞表示同航船只驶入第二预选范围时的第二预选范围的宽度，如图5所示，此时同航船只驶入到第二预选范围内，目标船只从航线上经过后，同航船只再驶出第二预选范围，/＞表示第二预选范围的长度，/＞表示目标船只驶入第二预选范围时的第二预选范围的长度，/＞表示同航船只驶入第二预选范围时的第二预选范围的长度，/＞表示第三预选范围的宽度，/＞表示第三预选范围的长度，/＞和/＞分别表示目标船只船身长度的一半和船身宽度的一半，/＞表示警戒距离，/＞和/＞分别表示同航船只船身长度的一半和船身宽度的一半，/＞和/＞表示目标船只和同航船只分别驶入和驶出第二预选范围或者第三预选范围的夹角，/＞和/＞的取值范围可以为/＞，/＞表示取最大值函数，第三预选范围的轮廓如图7所示。本着尽量方便同航船只的原则，第二预选范围和第三预选范围的大小在制定时，同航船只可以直接驶入和驶出第二预选范围或第三预选范围，仅需要进行简单的转向，不必在第二预选范围内进行精细的位置调整，如倒船等操作，更加方便同航船只的行驶。S343、根据第二预选范围和第三预选范围分别对第二交汇区域和第三交汇区域进行筛选以获得若干个交汇区域。由于第一交汇区域轮廓线的不同以及目标船只超船方式的不同，通过第二预选范围和第三预选范围分别对第一交汇区域分类后获得的第二交汇区域和第三交汇区域进行筛选，从而能够筛除部分难以完成超船行为的区域，以获得若干个可以进行超船的交汇区域，并且在计算的过程中也同步确定了各个交汇区域容许目标船只超船的方式。S4、向同航船只发出超船请求并根据请求回复判断是否能够在交汇区域完成超船；如图4所示，在通过前述步骤所提及的方法获取了若干个交汇区域后，目标船只开始向同航船只发送超船请求，通过无线电或者AIS设备等进行通讯，从而沟通确定是否可以通过获取的若干个交汇区域完成超船；若是，则通过交汇区域超船后结束；此时目标船只向同航船只发出超船请求，二者协商确定了交汇区域，只需要二船在交汇区域内配合完成超船即可。若否，则进入步骤S5；目标船只向同航船只发出超船请求之后，同航船只也可能与目标船只并未统一确定好交汇区域的位置，或者同航船只未进行回应，此时需要通过步骤S5和后续步骤所提及的方法以辅助目标船只自行完成超船。当然，在确定用于超船的交汇区域时，一般会从若干个交汇区域内选择范围最大的，以减少超船过程中目标船只和同航船只的速度损失，而且在超船过程中二船的操作也可以实现尽量简化。S5、根据航行数据规划用于超船的若干个超船区域，并在超船区域内建立超船航线；当同航船只未回应或者与目标船只并未统一确定好交汇区域的位置时，则默认同航船只保持航线和航速不变，此时需要在避免妨碍同航船只航行的义务下进行超船，因此超船区域的选择范围更小，需要根据二者的速度差和主航线的轨迹来建立超船航线，并且根据超船航线和目标船只的大小完成最小超船范围的计算，最终从航道上挑选出合适的超船区域，同时确定超船航向，在步骤S5中，具体包括如下步骤：S51、计算目标船只与同航船只的航速差；航速差的计算公式为：上式中，表示目标船只和同航船只的航速差，/＞表示目标船只的航速，/＞表示同航船只的航速；/＞根据目标船只超船时的预定船速进行设定，不超过目标船只的额定船速。S52、在航道上建立船舶航行的主航线，建立与主航线平行的第一超船航线，并设定主航线与第一超船航线之间的超船间距；超船间距的表达式为：上式中，表示超船间距，/＞和/＞分别表示目标船只和同航船只船身宽度的一半，/＞表示警戒距离；S53、在主航线与第一超船航线之间分别建立第二超船航线和第三超船航线，设定第二超船航线、第三超船航线与主航线之间的锐角均为，设第二超船航线与主航线和第一超船航线的交点分别为A和B，第三超船航线与第一超船航线和主航线之间的交点分别为C和D，绘制好图形的相关参数如图8所示，图中所示意的是在主航线右侧建立第一超船航线，当然也可以在主航线左侧建立第一超船航线，并在此基础上建立第二超船航线、第三超船航线和角度/＞。S54、计算同航船只在航行时，船尾从A点离开到船头到达D点时的超船时间；上式中，表示超船时间，/＞表示A和D点之间沿着主航线的路程，/＞表示同航船只的航行速度；S55、根据超船时间计算目标船只超船时的最短路程；S56、根据最短路程计算AD点之间沿着主航线的路程；AD点之间沿着主航线的路程的计算公式为：其中，上式中，表示AD点之间沿着主航线的路程，/＞表示目标船只的航速，/＞表示同航船只的航速，/＞表示超船间距，/＞表示警戒距离，/＞表示第二超船航线、第三超船航线与主航线之间的锐角，/＞和/＞分别表示目标船只和同航船只的船长的一半；S57、根据AD点之间沿着主航线的路程长度计算用于目标船只超船的最小超船范围；最小超船范围的表达式为：上式中，表示航道上位于目标船只前进方向的一侧轮廓线到主航线的最小距离，为最小超船范围的最小宽度，/＞表示最小超船范围的长度，/＞表示取最大值，/＞表示同航船只的宽度，/＞表示警戒距离，/＞和/＞分别表示目标船只船长的一半和船宽的一半，/＞表示目标船只驶入最小超船范围时与主航线的夹角，/＞表示BC两点在第一超船航线上的路程，/＞表示AD两点在主航线上的路程；S58、根据目标船只与同航船只的路程差和航速差，计算目标船只追赶上同航船只时的追赶路程；目标船只追赶上同航船只时的追赶路程的计算公式为：上式中，表示目标船只追赶上同航船只时所需要航行的追赶路程，/＞表示同航船只和目标船只的路程差，/＞表示警戒距离，/＞表示目标船只与同航船只的航速差，/＞表示目标船只的航速；S59、根据最小超船范围，在目标船只前方航线的航道上规划若干个超船区域，且超船区域与目标船只的距离大于或者等于追赶路程；S60、在各个超船区域内建立第一超船航线，超船区域内主航线的中点作为航线AD的中点，以角度在A点和D点建立第二超船航线和第三超船航线并与第一超船航线相交以获得BC点，以各个超船区域内的航线ABCD作为超船航线，其中第一超船航线、第二超船航线、第三超船航线和角度/＞的建立按照步骤S52和步骤S53中所提及的方法。如图7所示，通过步骤S6的方法，先建立一个可以进行超船的最短超船航线ABCD，并据此建立最小超船范围，从而在航道上选取若干个超船区域，最终再将超船航线ABCD再次映射建立到各个超船区域内，从而形成目标船只在超船区域内进行超船的实际的超船航线ABCD。S6、依次通过各个超船区域进行超船，并同步修正超船区域内的超船航线。在通过理论计算获得若干个超船区域和超船航线时，需要进行实际的超船行为，此时需要根据在超船过程中获取的实际数据，在保证安全的基础上，同步地对超船航线进行同步的修正，并且在实际难以完成超船行为时，指导目标船只停止超船，在步骤S6中，具体包括如下步骤：S61、目标船只在超船区域内沿着超船航线进行航行；S62、在航行过程中以一定检测频率获取目标船只与同航船只的超船间距，以及目标船只与超船区域边界的边界距离；该频率可以根据超船时的速度进行设定，或者设置为固定频率，如1秒1次的频率。S63、对比超船间距和边界距离分别与警戒距离的大小，并对目标船只航线进行调整；若，且/＞，则继续沿着超船航线方向进行航行；若，且/＞，则使目标船只在该检测频率内向远离同航船只的方向航行距离/＞；若，且/＞，则使目标船只在该检测频率内向靠近同航船只的方向航行距离/＞；若，且/＞，则目标船只停止航行；上式中，表示超船间距，/＞表示边界距离，/＞表示警戒距离。本发明将超船行为划分为两个方面，一方面建立在友好协商的基础上，通过步骤S1至步骤S4所提的方法，通过理论计算从航道上获取便于进行超船的交汇区域，供目标船只和同航船只的操纵人员进行协商确定，另一方面，在协商不成或者难以取得联系时，通过步骤S5所提及的方法，在获取目标船只和同航船只速度和大小的基础上计算出能够进行超船的理论上的最短的超船航线，并以此建立最小超船范围，从而在航道上获取若干个超船区域，同步地再将该最短的超船航线建立到各个超船区域内，最后通过步骤S6所提及的方法，在超船过程中实现对目标船只状态的实时监控以及对超船航线的实时调整，以保证实际超船时的安全性。与上述实施例提供的运输路线规划方法相对应，本实施例还提供实现运输路线规划方法的系统，由于本实施例提供的运输路线规划系统与上述实施例提供的运输路线规划方法相对应，因此前述运输路线规划方法的实施方式也适用于本实施例提供的运输路线规划系统，在本实施例中不再详细描述。该系统包括：航道信息获取模块10，用于获取目标船只在初始规划航线上的航道信息；航行数据获取模块20，用于根据航道信息在任一时间判断初始规划航线上是否存在与目标船只的航线和航行方向相同的同航船只，并获取包含目标船只和同航船只的航速、船身尺寸、航道轮廓和航道宽度的航行数据；交汇区域计算模块30，用于根据航行数据获取模块20获取的航行数据规划出若干个交汇区域；通讯模块40，用于与同航船只进行通讯；超船区域计算模块50，用于根据航行数据计算出最小超船范围，并根据最小超船范围在航道上规划出若干个超船区域，同时建立超船航线；超船航线更新模块60，用于获取目标船只与同航船只和超船区域边界的距离，并在超船时对超船航线进行实时调整。与上述实施例提供的运输路线规划方法相对应，本实施例还提供一种计算机设备，如图3所示，包括处理器和存储器，所述存储器用于存储计算机程序，计算机程序被所述处理器执行时实现上述实施例中运输路线规划的方法步骤，例如图1所示的步骤S1至步骤S6的方法和该方法的延伸，或者处理器执行计算机可读指令时实现上述实施例中运输路线规划的各模块的功能，例如图2所示模块1至模块6的功能。为避免重复，这里不再赘述。需要说明的是，上述实施例提供的系统，在实现其功能时，仅以上述各功能模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能模块完成，即将设备的内部结构划分成不同的功能模块，以完成以上描述的全部或者部分功能。另外，上述实施例提供的系统与方法实施例属于同一构思，其具体实现过程详见方法实施例，这里不再赘述。以上实施方式对本发明进行了详细介绍，本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本发明的限制。
