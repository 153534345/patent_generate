标题title
一种印控仪图像校准方法
摘要abst
本发明公开了一种印控仪图像校准方法，本发明涉及图像校准技术领域，解决了印纸放置的位置存在偏差，不能合理的对参数进行调节，对图像整体质量造成影响的技术问题，本发明通过对印纸的放置位置进行识别分析，并根据识别的结果来对其进行合理的调整，从而能够减小后续位置的偏差带来的影响，其次针对图像质量进行分析，并根据图像的像素值、噪点数量来判断图像质量是否达到标准，并对没有达到标准的图像进行分析，通过分析油墨厚度和曝光时长来进行的确定具体的原因，针对具体的原因来进行合理的调整。
权利要求书clms
1.一种印控仪图像校准方法，其特征在于，该方法具体包括以下步骤：步骤一：获取到印控仪的识别区域，同时获取到印纸的放置位置，并结合识别区域对印纸的放置位置进行分析判断生成分析结果，其中分析结果包括异常放置和正常放置，并对异常放置进行调节得到调节结果；步骤二：接着获取到正常放置的印纸图像并将其记作为目标对象，接着对目标对象的像素值、亮噪点和暗噪点进行分析，判断目标对象的质量，同时将质量分类为合格和不合格并生成图像质量分类结果；步骤三：接着对分类为不合格目标对象进行分析，并将不合格目标对象进行图像分割处理，同时对分割处理的图像进行筛选并将其记作为待分析图像；步骤四：获取到所有的待分析区域，并对待分析区域的分布情况进行分析并生成分布情况信息，且分布情况信息包括集中式分布和分散式分布，接着分别对集中式分布和分散式分布进行分析，得到影响结果，其中影响结果包括油墨厚度和印刷速度；步骤五：获取到不合格目标对象的影响结果，并将影响结果显示给对应的操作人员。2.根据权利要求1所述的一种印控仪图像校准方法，其特征在于，所述步骤一中生成调节结果的具体方式为：S1：将识别区域和印纸放置位置进行三维建模处理，接着分别以识别区域的四条边纵向建立基准面，同时将印纸的四个顶点进行标号处理且记作为Di，且i=1、2、3和4；S2：接着获取到印纸四个顶点分别与四个基准面的距离基准为LDi，同时将计算出来的距离LDi进行比较，具体比较方式为：判断同侧两个顶点之间的距离是否相同，如果相同则表示印纸的放置位置为正常放置，如果不相同则表示印纸的放置位置为异常放置；S3：然后对异常放置的印纸进行分析，获取到同侧距离LDi最小的顶点并将其标记为倾斜点，同时获取到倾斜点所在印纸边与基准面的角度，同时生成调节结果。3.根据权利要求1所述的一种印控仪图像校准方法，其特征在于，所述步骤二中根据像素值生成图像分类结果的具体方式为：P1：获取到目标对象的像素值并将其记作为XS，接着获取到标准图像的像素值记作为XSb，其中标准图像的像素值XSb表示的为成品图像的像素值，为用户指定的输入参数像素值，并将二者进行比较；P2：当XS≥XSb时，表示目标对象的像素值超过标准图像的像素值，并将目标对象标记为合格对象，反之当XS＜XSb时，表示目标对象的像素值未超过标准图像的像素值，并将目标对象标记为不合格对象。4.根据权利要求1所述的一种印控仪图像校准方法，其特征在于，所述步骤二中对亮噪点判断生成图像分类结果的具体方式为：M1：获取到标准图像的噪点，其中噪点包括亮噪点和暗噪点，并分别对亮噪点和暗噪点进行分析判断二者对标准图像清晰度的影响，当亮噪点对标准图像清晰度造成影响时，获取到亮噪点的数量并记作为LDb；M2：接着获取到目标对象亮噪点数量记作为LD，并将其与LDb进行比较，若LD≥LDb，则表示目标对象亮噪点数量超过标准图像亮噪点数量，并将目标对象分类为不合格对象，反之若LD＜LDb，则表示目标对象亮噪点数量未超过标准图像噪点数量，并将目标对象分类为合格对象。5.根据权利要求1所述的一种印控仪图像校准方法，其特征在于，所述步骤二中对暗噪点判断生成图像分类结果的具体方式为：N1：获取到标准图像的暗噪点数量记作为ADb，并判断暗噪点数量ADb减小时标准图像清晰度的变化，若暗噪点数量ADb减小，标准图像清晰度变大，则表明暗噪点数量与不标准图像清晰度成反比关系；N2：接着获取到目标对象的暗噪点数量记作为AD，并将其与ADb进行比较，当AD≥ADb时，则表示目标对象的清晰度不合格，并将目标对象分类为不合格对象，反之当AD＜ADb时，将目标对象分类为合格对象。6.根据权利要求1所述的一种印控仪图像校准方法，其特征在于，所述步骤三中获取到待分析区域的具体方式为：A1：获取到不合格目标对象的长度和宽度，并分别记作为CD和KD，同时获取到长度CD和宽度KD的最小公约数记作为G，接着将目标对象长度CD和宽度KD进行G份的分割处理得到G份分割图像；A2：接着对G份分割图像进行标号处理记作为k，且k=1、2、…、G，同时获取到分割图像k的色彩值记作为SCk，并计算G份分割图像色彩值的平均值记作为SCp，并将不同分割图像k的色彩值SCk与平均值SCp进行比较，具体的比较方式如下：A21：若SCk≥SCp则将该分割图像k标记为超均值图像，反之若SCk＜SCp时则将该分割图像k标记为低均值图像，接着分别对超均值图像和低均值图像进行分析；A22：接着获取到标准图像的色彩值记作为SCb，同时获取到低均值图像色彩值的最大值记作为SCmax，并将SCmax与SCb进行比较，当SCmax＜SCb时，则判定低均值图像的色彩值存在异常。7.根据权利要求1所述的一种印控仪图像校准方法，其特征在于，所述步骤四中得到影响结果的具体方式为：对集中式分布进行分析：B1：获取到所有的待分析区域并将待分析区域记作为m，并获取到其对应的油墨厚度记作为YMm和曝光时长记作为Tm，同时获取到标准图像的油墨厚度YMb和曝光时长Tb，接着获取到当前曝光速度SD1；B2：并将YMm与YMb进行比较，当YMm＞YMb时，则判定待分析区域m的油墨厚度超出标准值，接着计算YMm和YMb的差值记作为|YMm-YMb|，同时生成油墨厚度影响结果，反之当YMm≤YMb时，则判定待分析区域m的油墨厚度未超出标准值，不做任何处理；B3：接着将曝光时长进行比较，当Tm＞Tb时，则判定待分析区域m的曝光时长过长，反之当Tm≤Tb时，则判定待分析区域m的曝光时长正常，并根据获取到的曝光时长来计算印控仪的曝光速度，对分散式分布的分析方式同理上述对集中式的分析方式。8.根据权利要求7所述的一种印控仪图像校准方法，其特征在于，所述B3中曝光速度的计算方式如下：B31：获取到所有位于一条直线上的待分析区域m并将个数记作为H，并获取到该直线上待分析区域的总长度记作为CDz，同时获取到其曝光时长记作为Tz；B32：接着将CDz和Tz代入公式，接着计算单个待分析区域m的曝光速度记作为/＞，并将其与当前曝光速度SD1进行差值计算/＞，同时生成曝光速度影响结果。
说明书desc
技术领域本发明涉及图像校准技术领域，具体为一种印控仪图像校准方法。背景技术印控仪是一种自动盖章的仪器，比传统手工盖章具有科学化、正规化的特点，实现了人与印分离，以保证印章使用的科学性、安全性和高效性。印章封闭于印控仪内，仪器具有接收指令进行自动用印的功能，用印均在印控仪内完成。部分现有的印控仪在使用的时候，一方面由于人为因素的影响导致了在对印纸放置的时候存在偏差，进一步地会导致出来的图像质量存在问题，另一方面由于参数设置的不合理，会造成图像质量存在影响，但是参数的调节是人为自行设定的，没有经过系统的计算，同时针对影响参数的因素不能具体的分析，导致后续还是会存在相同的问题。发明内容针对现有技术的不足，本发明提供了一种印控仪图像校准方法，解决了印纸放置的位置存在偏差，不能合理地对参数进行调节，对图像整体质量造成影响的问题。为实现以上目的，本发明通过以下技术方案予以实现：一种印控仪图像校准方法，该方法具体包括以下步骤：步骤一：获取到印控仪的识别区域，同时获取到印纸的放置位置，并结合识别区域对印纸的放置位置进行分析判断生成分析结果，其中分析结果包括异常放置和正常放置，并对异常放置进行调节得到调节结果；步骤二：接着获取到正常放置的印纸图像并将其记作为目标对象，接着对目标对象的像素值、亮噪点和暗噪点进行分析，判断目标对象的质量，同时将质量分类为合格和不合格并生成图像质量分类结果；步骤三：接着对分类为不合格目标对象进行分析，并将不合格目标对象进行图像分割处理，同时对分割处理的图像进行筛选并将其记作为待分析图像；步骤四：获取到所有的待分析区域，并对待分析区域的分布情况进行分析并生成分布情况信息，且分布情况信息包括集中式分布和分散式分布，接着分别对集中式分布和分散式分布进行分析，得到影响结果，其中影响结果包括油墨厚度和印刷速度；步骤五：获取到不合格目标对象的影响结果，并将影响结果显示给对应的操作人员。作为本发明的进一步方案：步骤一中生成调节结果的具体方式为：S1：将识别区域和印纸放置位置进行三维建模处理，接着分别以识别区域的四条边纵向建立基准面，同时将印纸的四个顶点进行标号处理且记作为Di，且i=1、2、3和4；S2：接着获取到印纸四个顶点分别与四个基准面的距离基准为LDi，同时将计算出来的距离LDi进行比较，具体比较方式为：判断同侧两个顶点之间的距离是否相同，如果相同则表示印纸的放置位置为正常放置，如果不相同则表示印纸的放置位置为异常放置；S3：然后对异常放置的印纸进行分析，获取到同侧距离LDi最小的顶点并将其标记为倾斜点，同时获取到倾斜点所在印纸边与基准面的角度，同时生成调节结果。具体的，首先通过对印纸的位置与识别区域的位置进行比较分析，判断是否处于合适的位置，且比较的方式通过判断印纸顶点与识别区域基准面的距离来进行判断，进一步的将距离不同的摆放位置记作为异常放置，同时针对异常放置位置来判断，并获取到异常放置位置的倾斜角。作为本发明的进一步方案：步骤二中根据像素值生成图像分类结果的具体方式为：P1：获取到目标对象的像素值并将其记作为XS，接着获取到标准图像的像素值记作为XSb，其中标准图像的像素值XSb表示的为成品图像的像素值，为用户指定的输入参数像素值，并将二者进行比较；P2：当XS≥XSb时，表示目标对象的像素值超过标准图像的像素值，并将目标对象标记为合格对象，反之当XS＜XSb时，表示目标对象的像素值未超过标准图像的像素值，并将目标对象标记为不合格对象。作为本发明的进一步方案：步骤二中对亮噪点判断生成图像分类结果的具体方式为：M1：获取到标准图像的噪点，其中噪点包括亮噪点和暗噪点，并分别对亮噪点和暗噪点进行分析判断二者对标准图像清晰度的影响，当亮噪点对标准图像清晰度造成影响时，获取到亮噪点的数量并记作为LDb；M2：接着获取到目标对象亮噪点数量记作为LD，并将其与LDb进行比较，若LD≥LDb，则表示目标对象亮噪点数量超过标准图像亮噪点数量，并将目标对象分类为不合格对象，反之若LD＜LDb，则表示目标对象亮噪点数量未超过标准图像噪点数量，并将目标对象分类为合格对象。作为本发明的进一步方案：步骤二中对暗噪点判断生成图像分类结果的具体方式为：N1：获取到标准图像的暗噪点数量记作为ADb，并判断暗噪点数量ADb减小时标准图像清晰度的变化，若暗噪点数量ADb减小，标准图像清晰度变大，则表明暗噪点数量与不标准图像清晰度成反比关系；N2：接着获取到目标对象的暗噪点数量记作为AD，并将其与ADb进行比较，当AD≥ADb时，则表示目标对象的清晰度不合格，并将目标对象分类为不合格对象，反之当AD＜ADb时，将目标对象分类为合格对象。作为本发明的进一步方案：步骤三中获取到待分析区域的具体方式为：A1：获取到不合格目标对象的长度和宽度，并分别记作为CD和KD，且不合格目标对象为长方形，同时获取到长度CD和宽度KD的最小公约数记作为G，接着将目标对象长度CD和宽度KD进行G份的分割处理得到G份分割图像；具体的，在对长度CD和宽度KD进行最小公约数G找寻的，默认G≠1。A2：接着对G份分割图像进行标号处理记作为k，且k=1、2、…、G，同时获取到分割图像k的色彩值记作为SCk，并计算G份分割图像色彩值的平均值记作为SCp，并将不同分割图像k的色彩值SCk与平均值SCp进行比较，具体的比较方式如下：A21：若SCk≥SCp则将该分割图像k标记为超均值图像，反之若SCk＜SCp时则将该分割图像k标记为低均值图像，接着分别对超均值图像和低均值图像进行分析；A22：接着获取到标准图像的色彩值记作为SCb，同时获取到低均值图像色彩值的最大值记作为SCmax，并将SCmax与SCb进行比较，当SCmax＜SCb时，则判定低均值图像的色彩值存在异常。具体地，当低均值图像色彩值的最大值未超过标准图像色彩值SCb时，也就表示所有低均值图像的色彩值均未超过SCb，则将低均值图像标记为待分析区域，对于那些高均值图像也就无需对其进行分析。作为本发明的进一步方案：步骤四中得到影响结果的具体方式为：对集中式分布进行分析：B1：获取到所有的待分析区域并将待分析区域记作为m，并获取到其对应的油墨厚度记作为YMm和曝光时长记作为Tm，同时获取到标准图像的油墨厚度YMb和曝光时长Tb；B2：并将YMm与YMb进行比较，当YMm＞YMb时，则判定待分析区域m的油墨厚度超出标准值，接着计算YMm和YMb的差值记作为|YMm-YMb|，同时生成油墨厚度影响结果，反之当YMm≤YMb时，则判定待分析区域m的油墨厚度未超出标准值，不做任何处理；B3：接着将曝光时长进行比较，当Tm＞Tb时，则判定待分析区域m的曝光时长过长，反之当Tm≤Tb时，则判定待分析区域m的曝光时长正常，并根据获取到的曝光时长来计算印控仪的曝光速度，具体的计算方式为：B31：获取到所有位于一条直线上的待分析区域m并将个数记作为H，并获取到该直线上待分析区域的总长度记作为CDz，同时获取到其曝光时长记作为Tz；B32：接着将CDz和Tz代入公式，接着计算单个待分析区域m的曝光速度记作为/＞，并将其与当前曝光速度SD1进行差值计算/＞，同时生成曝光速度影响结果；对分散式分布的分析方式同理上述对集中式的分析方式。有益效果本发明提供了一种印控仪图像校准方法。与现有技术相比具备以下有益效果：本发明通过对印纸的放置位置进行识别分析，并根据识别的结果来对其进行合理的调整，从而能够减小后续位置的偏差带来的影响，其次针对图像质量进行分析，并根据图像的像素值、噪点数量来判断图像质量是否达到标准，并对没有达到标准的图像进行分析，通过分析油墨厚度和曝光时长来进行的确定具体的原因，针对具体的原因来进行合理的调整。附图说明图1为本发明流程图；图2为本发明方法图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例一，请参阅图1，本申请提供了一种印控仪图像校准方法，该方法具体包括以下步骤：步骤一：获取到印控仪的识别区域，同时获取到印纸的放置位置，并结合识别区域对印纸的放置位置进行分析判断生成分析结果，其中分析结果包括异常放置和正常放置，并对异常放置进行调节得到调节结果，且调节结果的获取方式如下：S1：将识别区域和印纸放置位置进行三维建模处理，接着分别以识别区域的四条边纵向建立基准面，同时将印纸的四个顶点进行标号处理且记作为Di，且i=1、2、3和4；S2：接着获取到印纸四个顶点分别与四个基准面的距离基准为LDi，同时将计算出来的距离LDi进行比较，具体比较方式为：判断同侧两个顶点之间的距离是否相同，如果相同则表示印纸的放置位置为正常放置，如果不相同则表示印纸的放置位置为异常放置；S3：然后对异常放置的印纸进行分析，获取到同侧距离LDi最小的顶点并将其标记为倾斜点，同时获取到倾斜点所在印纸边与基准面的角度，同时生成调节结果。具体的，首先通过对印纸的位置与识别区域的位置进行比较分析，判断是否处于合适的位置，且比较的方式通过判断印纸顶点与识别区域基准面的距离来进行判断，进一步的将距离不同的摆放位置记作为异常放置，同时针对异常放置位置来判断，并获取到异常放置位置的倾斜角。步骤二：接着获取到正常放置的印纸图像并将其记作为目标对象，接着对目标对象的像素值进行分析，判断目标对象的质量，同时将质量分类为合格和不合格并生成图像质量分类结果，且图像分类结果的具体获取方式为：P1：获取到目标对象的像素值并将其记作为XS，接着获取到标准图像的像素值记作为XSb，其中标准图像的像素值XSb表示的为成品图像的像素值，为用户指定的输入参数像素值，并将二者进行比较；P2：当XS≥XSb时，表示目标对象的像素值超过标准图像的像素值，并将目标对象标记为合格对象，反之当XS＜XSb时，表示目标对象的像素值未超过标准图像的像素值，并将目标对象标记为不合格对象。具体地，图像像素是判断图像质量的基本要求，根据印刷出来的图像像素值来进行对目标对象进行合理的判断分类，且图像的像素值能够通过软件直接获取到，如Photoshop、GIMP等。步骤三：接着对分类为不合格目标对象进行分析，并将不合格目标对象进行图像分割处理，同时对分割处理的图像进行筛选并将其记作为待分析图像，且待分析区域的获取方式如下：A1：获取到不合格目标对象的长度和宽度，并分别记作为CD和KD，且不合格目标对象为长方形，同时获取到长度CD和宽度KD的最小公约数记作为G，接着将目标对象长度CD和宽度KD进行G份的分割处理得到G份分割图像；具体的，在对长度CD和宽度KD进行最小公约数G找寻的，默认G≠1。A2：接着对G份分割图像进行标号处理记作为k，且k=1、2、…、G，同时获取到分割图像k的色彩值记作为SCk，并计算G份分割图像色彩值的平均值记作为SCp，并将不同分割图像k的色彩值SCk与平均值SCp进行比较，具体的比较方式如下：A21：若SCk≥SCp则将该分割图像k标记为超均值图像，反之若SCk＜SCp时则将该分割图像k标记为低均值图像，接着分别对超均值图像和低均值图像进行分析；A22：接着获取到标准图像的色彩值记作为SCb，同时获取到低均值图像色彩值的最大值记作为SCmax，并将SCmax与SCb进行比较，当SCmax＜SCb时，则判定低均值图像的色彩值存在异常。具体地，当低均值图像色彩值的最大值未超过标准图像色彩值SCb时，也就表示所有低均值图像的色彩值均未超过SCb，则将低均值图像标记为待分析区域，对于那些高均值图像也就无需对其进行分析。步骤四：获取到所有的待分析区域，并对待分析区域的分布情况进行分析并生成分布情况信息，且分布情况信息包括集中式分布和分散式分布，接着分别对集中式分布和分散式分布进行分析，得到影响结果，其中影响结果包括油墨厚度和印刷速度，且得到影响结果的方式如下：对集中式分布进行分析：B1：获取到所有的待分析区域并将待分析区域记作为m，并获取到其对应的油墨厚度记作为YMm和曝光时长记作为Tm，同时获取到标准图像的油墨厚度YMb和曝光时长Tb；B2：并将YMm与YMb进行比较，当YMm＞YMb时，则判定待分析区域m的油墨厚度超出标准值，接着计算YMm和YMb的差值记作为|YMm-YMb|，同时生成油墨厚度影响结果，反之当YMm≤YMb时，则判定待分析区域m的油墨厚度未超出标准值，不做任何处理；B3：接着将曝光时长进行比较，当Tm＞Tb时，则判定待分析区域m的曝光时长过长，反之当Tm≤Tb时，则判定待分析区域m的曝光时长正常，并根据获取到的曝光时长来计算印控仪的曝光速度，具体的计算方式如下：B31：获取到所有位于一条直线上的待分析区域m并将个数记作为H，并获取到该直线上待分析区域的总长度记作为CDz，同时获取到其曝光时长记作为Tz；B32：接着将CDz和Tz代入公式，接着计算单个待分析区域m的曝光速度记作为/＞，并将其与当前曝光速度SD1进行差值计算/＞，同时生成曝光速度影响结果。对分散式分布的分析方式同理上述对集中式的分析方式。具体的，针对待分析区域通过对其油墨厚度和曝光速度进行分析，其中曝光速度相当于印控仪的印刷速度，同时针对集中式分布和分散式分布的情况，出现问题的原因是油墨厚度和曝光时长中的一种，如果集中式分布出现的原因为油墨厚度，则分散式分布出现的原因则是曝光时长。步骤五：获取到不合格目标对象的影响结果，并将影响结果显示给对应的操作人员。实施例二，作为本发明的实施例二与实施例一的区别之处在于，步骤二中对目标对象判定的方式不同，实施例二中是通过对图像的噪点进行分析来对目标对象分类，且图像分类结果的具体获取方式为：M1：获取到标准图像的噪点，其中噪点包括亮噪点和暗噪点，并分别对亮噪点和暗噪点进行分析判断二者对标准图像清晰度的影响，当亮噪点对标准图像清晰度造成影响时，获取到亮噪点的数量并记作为LDb；M2：接着获取到目标对象亮噪点数量记作为LD，并将其与LDb进行比较，若LD≥LDb，则表示目标对象亮噪点数量超过标准图像亮噪点数量，并将目标对象分类为不合格对象，反之若LD＜LDb，则表示目标对象亮噪点数量未超过标准图像噪点数量，并将目标对象分类为合格对象。具体的，实施例二中是判定亮噪点为增大的情况下会对图像整体的清晰度造成影响，针对亮噪点减小时对图像清晰度造成影响的分析与亮噪点分析相反，在此不做过多的赘述。实施例三，作为本发明的实施例三，与实施例一和实施例二的区别之处在于，本实施例是当暗噪点存在时对图像整体的清晰度造成影响的分析，且图像分类结果的具体获取方式为：N1：获取到标准图像的暗噪点数量记作为ADb，并判断暗噪点数量ADb减小时标准图像清晰度的变化，若暗噪点数量ADb减小，标准图像清晰度变大，则表明暗噪点数量与不标准图像清晰度成反比关系；N2：接着获取到目标对象的暗噪点数量记作为AD，并将其与ADb进行比较，当AD≥ADb时，则表示目标对象的清晰度不合格，并将目标对象分类为不合格对象，反之当AD＜ADb时，将目标对象分类为合格对象。具体的，实施例三是通过对暗噪点的数量增大或者减小时对整体清晰度的影响，且是认为暗噪点数量减小图像清晰度变大，同时当暗噪点数量增大图像清晰度变大的情况在此不做过多的赘述，分析的过程与对暗噪点的分析过程相同。实施例四，作为本发明的实施例四，重点在于将实施例一、实施例二和实施例三的实施过程结合实施。上述公式中的部分数据均是去其纲量进行数值计算，同时本说明书中未作详细描述的内容均属于本领域技术人员公知的现有技术。以上实施例仅用以说明本发明的技术方法而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，可以对本发明的技术方法进行修改或等同替换，而不脱离本发明技术方法的精神和范围。
