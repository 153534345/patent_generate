标题title
一种工业边缘计算采集集中器及其数据采集方法
摘要abst
本发明提供了一种工业边缘计算采集集中器及其数据采集方法，属于数据采集与通信技术领域，其中采集集中器包括：配置模块，用于自定义配置上游各系统的参数信息和下游各采集终端的参数信息；参数读取模块，用于从所述配置模块读取更新相应的参数信息并进行存储；数据采集模块，用于根据所述参数读取模块读取的所述相应的参数信息采集下游相应所述采集终端的数据；存储模块，用于存储所述数据采集模块采集到的数据。本发明可以支持多种通信协议的转换，使得上下游之间能够无缝通信，提高产品的适用范围和灵活性。
权利要求书clms
1.一种工业边缘计算采集集中器，其特征在于，包括：配置模块，用于自定义配置上游各系统的参数信息和下游各采集终端的参数信息；参数读取模块，用于从所述配置模块读取更新相应的参数信息并进行存储；数据采集模块，用于根据所述参数读取模块读取的所述相应的参数信息采集下游相应所述采集终端的数据；存储模块，用于存储所述数据采集模块采集到的数据；上位机命令处理模块，用于解析来自上游的所述系统的命令，对所述参数读取模块、所述数据采集模块、所述存储模块、所述采集终端进行控制；其中，对所述参数读取模块进行控制包括：对所述参数信息进行修改；对所述数据采集模块进行控制包括：对所述数据采集模块采集数据的过程进行监控；对所述存储模块进行控制包括：根据所述参数读取模块读取的相应的参数信息从所述存储模块获取数据并上报给相应的上游系统；对所述采集终端进行控制包括：根据所述参数读取模块读取的相应的参数信息向对应的所述采集终端的控制接口下发控制命令；异常处理模块，所述异常处理模块从所述存储模块中获取数据，并判断获取的数据是否超过异常参数阈值，并在超过所述异常参数阈值时向所述上位机命令处理模块触发告警处理。2.如权利要求1所述的工业边缘计算采集集中器，其特征在于，所述上位机命令处理模块还用于临时修改所述异常处理模块中的所述异常参数阈值。3.如权利要求1所述的工业边缘计算采集集中器，其特征在于，所述上游各系统的参数信息包括：设备编号、通讯地址、IP参数；向上协议的协议类型、数据类型和数据地址；所述下游各采集终端的参数信息包括：采集端口、被采集设备的协议、被采集设备的类型、被采集设备的地址和数据格式。4.如权利要求1所述的工业边缘计算采集集中器，其特征在于，所述数据采集模块还用于对采集到的数据进行计算处理。5.如权利要求1所述的工业边缘计算采集集中器，其特征在于，所述数据采集模块还用于，将属于同一地址的设备进行通讯报文的拼接，根据拼接后的通讯报文进行数据采集。6.如权利要求1所述的工业边缘计算采集集中器，其特征在于，所述采集集中器还包括启动模块，所述启动模块用于调用所述配置模块和所述参数读取模块的数据，以在启动时进行初始化设置和加载配置文件。7.一种工业边缘计算采集集中器的数据采集方法，其特征在于，基于权利要求1-6任一项所述的工业边缘计算采集集中器，所述方法包括：将上游各系统的参数信息和下游各采集终端的参数信息通过配置模块进行自定义配置；参数读取模块从配置模块读取更新相应的参数信息并进行存储；数据采集模块根据所述参数读取模块读取的所述相应的参数信息采集下游相应所述采集终端的数据，并将采集到的数据存储在数据存储模块中。
说明书desc
技术领域本发明涉及工业领域尤其是节能环保领域中的数据采集与通信技术，具体涉及一种工业边缘计算采集集中器及其数据采集方法。背景技术网关是进行网络数据转发的关键设备，在工业数据采集应用场景下，各种传感器需要执行网关转发的由云端服务器下发的采集命令，并将采集到的数据通过网关设备转发至云端服务器，那么此时网关设备准确高效的将不同采集指令分发至不同传感器，以及将特定传感器采集到的数据上传至云端成为该网关的核心功能。目前市面上的网关基本为向下定制协议、向上走厂家非标协议或者是一些电力GB标准通讯协议。现有产品有以下不足：1.通信协议限制：某些现有产品在通信协议的支持上存在限制，可能无法适配特定设备或与某些行业标准兼容。这可能导致数据采集和集成的困难，限制了产品的适用范围和灵活性。2.数据处理能力有限：部分产品在数据处理能力方面存在局限性。由于缺乏边缘计算能力，需要将采集到的数据传输到远程服务器进行处理和分析，导致较大的传输延迟和响应时间较长的问题。这可能影响实时监控和及时决策的能力。3.数据存储和管理不便：部分产品在数据存储和管理方面存在不便之处。可能无法提供长期数据的存储和快速检索功能，限制了数据的后续分析、回溯和挖掘的能力。同时，数据存储的容量和扩展性也可能存在限制。4.异常检测和告警不及时：某些现有产品在异常检测和告警方面存在不足。可能缺乏实时监测和告警功能，无法及时发现潜在问题或异常情况。这可能导致延误故障处理和增加生产风险。因此，如何解决上述至少部分问题，是本领域关注的焦点。发明内容本发明的目的是提出一种工业边缘计算采集集中器及其数据采集方法，可以支持多种通信协议的转换。为了实现上述目的，本发明提供了一种工业边缘计算采集集中器，包括：配置模块，用于自定义配置上游各系统的参数信息和下游各采集终端的参数信息；参数读取模块，用于从所述配置模块读取更新相应的参数信息并进行存储；数据采集模块，用于根据所述参数读取模块读取的所述相应的参数信息采集下游相应所述采集终端的数据；存储模块，用于存储所述数据采集模块采集到的数据；上位机命令处理模块，用于解析来自上游的所述系统的命令，对所述参数读取模块、所述数据采集模块、所述存储模块、所述采集终端进行控制；其中，对所述参数读取模块进行控制包括：对所述参数信息进行修改；对所述数据采集模块进行控制包括：对所述数据采集模块采集数据的过程进行监控；对所述存储模块进行控制包括：根据所述参数读取模块读取的相应的参数信息从所述存储模块获取数据并上报给相应的上游系统；对所述采集终端进行控制包括：根据所述参数读取模块读取的相应的参数信息向对应的所述采集终端的控制接口下发控制命令；异常处理模块，所述异常处理模块从所述存储模块中获取数据，并判断获取的数据是否超过异常参数阈值，并在超过所述异常参数阈值时向所述上位机命令处理模块触发告警处理。可选方案中，所述上位机命令处理模块还用于临时修改所述异常处理模块中的所述异常参数阈值。可选方案中，所述上游各系统的参数信息包括：设备编号、通讯地址、IP参数；向上协议的协议类型、数据类型和数据地址；所述下游各采集终端的参数信息包括：采集端口、被采集设备的协议、被采集设备的类型、被采集设备的地址和数据格式。可选方案中，所述数据采集模块还用于对采集到的数据进行计算处理。可选方案中，所述数据采集模块还用于，将属于同一地址的设备进行通讯报文的拼接，根据拼接后的通讯报文进行数据采集。可选方案中，所述采集集中器还包括启动模块，所述启动模块用于调用所述配置模块和所述参数读取模块的数据，以在启动时进行初始化设置和加载配置文件。本发明还提供了一种工业边缘计算采集集中器的数据采集方法，基于上述的工业边缘计算采集集中器，所述方法包括：将上游各系统的参数信息和下游各采集终端的参数信息通过配置模块进行自定义配置；参数读取模块从配置模块读取更新相应的参数信息并进行存储；数据采集模块根据所述参数读取模块读取的所述相应的参数信息采集下游相应所述采集终端的数据，并将采集到的数据存储在数据存储模块中。本发明的有益效果在于：本发明通过配置模块进行自定义的参数配置，因此可以支持多种通信协议的转换，使得上下游之间能够无缝通信，提高产品的适用范围和灵活性。进一步地，本发明数据采集模块能够对采集到的数据进行计算处理，具备边缘计算能力，能够在采集终端本地进行数据计算和处理，实现实时的数据处理和分析，提高数据的实时性和响应性。进一步地，本发明的存储模块提供了历史数据存储功能，能够将采集到的数据进行长期保存。进一步地，本发明异常处理模块在超过异常参数阈值时向上位机命令处理模块触发告警处理，用户可以设定特定的数据阈值，当采集到的数据超过或低于这些阈值时，终端将发出警报，及时提醒用户进行处理和调整。附图说明通过结合附图对本发明示例性实施例进行更详细的描述，本发明的上述以及其它目的、特征和优势将变得更加明显，在本发明示例性实施例中，相同的参考标号通常代表相同部件。图1为本发明一实施例中工业边缘计算采集集中器的结构框图。图2为本发明一实施例中工业边缘计算采集集中器工作流程图。附图标记说明：具体实施方式以下结合附图和具体实施例对本发明作进一步详细说明。根据下面的说明和附图，本发明的优点和特征将更清楚，然而，需说明的是，本发明技术方案的构思可按照多种不同的形式实施，并不局限于在此阐述的特定实施例。附图均采用非常简化的形式且均使用非精准的比例，仅用以方便、明晰地辅助说明本发明实施例的目的。应当明白，当元件或层被称为“在...上”、“与...相邻”、“连接到”或“耦合到”其它元件或层时，其可以直接地在其它元件或层上、与之相邻、连接或耦合到其它元件或层，或者可以存在居间的元件或层。相反，当元件被称为“直接在...上”、“与...直接相邻”、“直接连接到”或“直接耦合到”其它元件或层时，则不存在居间的元件或层。应当明白，尽管可使用术语第一、第二、第三等描述各种元件、部件、区、层和/或部分，这些元件、部件、区、层和/或部分不应当被这些术语限制。这些术语仅仅用来区分一个元件、部件、区、层或部分与另一个元件、部件、区、层或部分。因此，在不脱离本发明教导之下，下面讨论的第一元件、部件、区、层或部分可表示为第二元件、部件、区、层或部分。空间关系术语例如“在...下”、“在...下面”、“下面的”、“在...之下”、“在...之上”、“上面的”等，在这里可为了方便描述而被使用从而描述图中所示的一个元件或特征与其它元件或特征的关系。应当明白，除了图中所示的取向以外，空间关系术语意图还包括使用和操作中的器件的不同取向。例如，如果附图中的器件翻转，然后，描述为“在其它元件下面”或“在其之下”或“在其下”元件或特征将取向为在其它元件或特征“上”。因此，示例性术语“在...下面”和“在...下”可包括上和下两个取向。器件可以另外地取向并且在此使用的空间描述语相应地被解释。在此使用的术语的目的仅在于描述具体实施例并且不作为本发明的限制。在此使用时，单数形式的“一”、“一个”和“所述/该” 也意图包括复数形式，除非上下文清楚指出另外的方式。还应明白术语“组成”和/或“包括”，当在该说明书中使用时，确定所述特征、整数、步骤、操作、元件和/或部件的存在，但不排除一个或更多其它的特征、整数、步骤、操作、元件、部件和/或组的存在或添加。在此使用时，术语“和/或”包括相关所列项目的任何及所有组合。实施例1参照图1和图2，本实施例提供了一种工业边缘计算采集集中器，包括：配置模块，用于自定义配置上游各系统的参数信息和下游各采集终端的参数信息；参数读取模块，用于从所述配置模块读取更新相应的参数信息并进行存储；数据采集模块，用于根据所述参数读取模块读取的所述相应的参数信息采集下游相应所述采集终端的数据；存储模块，用于存储所述数据采集模块采集到的数据。具体地，所述上游各系统的参数信息包括：设备编号、通讯地址、IP参数以及向上协议的协议类型、数据类型、数据地址。所述下游各采集终端的参数信息包括：采集端口、被采集设备的协议、被采集设备的类型、被采集设备的地址和数据格式。本实施例通过配置模块进行自定义的参数配置，因此可以支持多种通信协议的转换，使得上下游之间能够无缝通信，提高产品的适用范围和灵活性。如，本采集集中器可以增加对于标准MODBUS-RTU协议的采集以及非标协议的定制开发，可以支持用户自选数据和自定义上传的MODBUS-TCP协议地址，只需要服务器端使用标准的MODBUS-TCP协议采集即可完成，减少用户针对非标协议的开发工作量，缩短项目周期，节约了时间成本。本实施例中，所述采集集中器还包括：上位机命令处理模块，所述上位机命令处理模块用于解析来自上游的所述系统的命令，对所述参数读取模块、数据采集模块、存储模块进行控制；其中，对所述参数读取模块进行控制包括：对所述参数信息进行修改；对所述数据采集模块进行控制包括：对所述数据采集模块采集数据的过程进行监控；对所述存储模块进行控制包括：根据所述参数读取模块读取的相应的参数信息从所述存储模块获取数据并上报给相应的上游系统。所述上位机命令处理模块还用于解析来自上游的所述系统的命令，根据所述参数读取模块读取的相应的参数信息向对应的所述采集终端的控制接口下发控制命令。本实施例中，所述采集集中器还包括：异常处理模块，所述异常处理模块从所述存储模块中获取数据，并判断获取的数据是否超过异常参数阈值，并在超过所述异常参数阈值时向所述上位机命令处理模块触发告警处理。所述上位机命令处理模块还用于临时修改所述异常处理模块中的所述异常参数阈值。本实施例中，所述数据采集模块还用于对采集到的数据进行计算处理。使采集集中器具备边缘计算能力，能够在采集终端本地进行数据计算和处理，实现实时的数据处理和分析，提高数据的实时性和响应性。所述数据采集模块还用于，将属于同一地址的设备进行通讯报文的拼接，根据拼接后的通讯报文进行数据采集。本实施例中，所述采集集中器还包括启动模块，所述启动模块用于调用所述配置模块和所述参数读取模块的数据，以在启动时进行初始化设置和加载配置文件。本实施例的工业边缘计算采集集中器应用于工业领域中的数据采集、转换、存储和计算。它允许将来自不同设备和传感器的数据进行采集，并通过多种协议进行转换，以便与不同的数据通信标准进行兼容。同时，该采集集中器还提供了历史数据存储功能，可以对采集的数据进行长期保存，以供后续分析和回溯使用。本实施例具有以下优势：1、多协议转换：工业设备使用的通信协议多样化，不同设备之间的数据交换和集成存在一定的困难。本实施例通过支持多种协议的转换功能，可以与不同设备和传感器进行无缝通信和集成，实现了设备间数据的互联互通，提高了系统的灵活性和兼容性，减少了设备之间的集成难度和工作量。2、实时数据处理：传统的工业数据采集终端通常将数据传输到远程服务器进行处理和分析，存在较大的传输延迟和响应时间较长的问题。本实施例具备边缘计算能力，能够在终端设备本地进行数据计算和处理，提高了数据处理的实时性和响应性，降低了数据传输延迟，减少了对云端计算资源的依赖，节省了云端计算成本，增强了系统的稳定性和可靠性。3、高效数据存储和管理：工业领域的数据量庞大，传统的数据存储和管理方式可能无法满足长期数据的存储和快速检索需求。本实施例提供了历史数据存储功能，能够将采集到的数据进行长期保存，便于后续的数据分析和回溯应用。帮助用户更好地了解设备状态、优化生产流程和进行故障诊断，提高了决策的准确性和效率。4、异常情况监测和预警：工业设备运行过程中可能出现异常情况，需要及时监测和预警。传统的数据采集终端缺乏实时告警机制，无法及时发现潜在问题。本实施例提供了阈值告警功能，用户可以设定特定的异常参数阈值，当采集到的数据超过或低于这些阈值时，终端将发出警报，及时提醒用户进行处理和调整。快速识别异常情况，提高了故障诊断和处理的效率，减少了停机时间和损失，提升了生产安全性和可靠性。本实施例通过解决多协议转换、实时数据处理、高效数据存储和管理以及异常情况监测和预警等技术问题，能够满足工业领域对于数据采集、处理和管理的高效需求。实施例2参照图2，本实施例提供了一种工业边缘计算采集集中器的数据采集方法，基于实施例1所述的工业边缘计算采集集中器，所述方法包括：将上游各系统的参数信息和下游各采集终端的参数信息通过配置模块进行自定义配置；参数读取模块从配置模块读取更新相应的参数信息并进行存储；数据采集模块根据所述参数读取模块读取的所述相应的参数信息采集下游相应所述采集终端的数据，并将采集到的数据存储在数据存储模块中。具体地，启动系统，自动加载配置文件并进行初始化设置，随后，系统读取参数，确保所需参数已成功获取。通过485数据采集模块，周期性进行数据采集操作。采集到的数据将被存储在内部存储模块，并形成循环存储的数据缓冲区。上位机命令处理模块等待上位采集或控制命令的到达，对接收到的命令协议进行解析，以确保协议的完整性和正确性。如果协议异常，系统将持续等待上位命令的到达，如果协议正常，系统判断命令类型，若为读取数据命令，则从数据存储区域内获取数据，并将其返回给上位系统，若为下发参数命令，则解析下发协议，并通过设备的RS485端口发送至相应采集终端。异常处理模块根据用户配置的异常参数阈值，对采集到的数据进行比对，判断数据是否满足或不满足用户设定的条件，根据设定的告警规则，若数据异常，则触发异常上报或告警处理。上述描述仅是对本发明较佳实施例的描述，并非对本发明范围的任何限定，本发明领域的普通技术人员根据上述揭示内容做的任何变更、修饰，均属于权利要求书的保护范围。
