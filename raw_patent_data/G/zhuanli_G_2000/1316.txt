标题title
数据筛选方法、装置、设备及存储介质
摘要abst
本发明公开了一种数据筛选方法、装置、设备及存储介质。该方法包括：获取待筛选样本数据集；待筛选样本数据集中包括多张样本图片；根据样本图片的图片类别，确定待保留样本图片；根据待保留样本图片，确定待筛选样本数据集中的剩余样本图片；确定剩余样本图片的图片重要性得分；若剩余样本图片的图片重要性得分满足预设的图片保留条件，则将剩余样本图片确定为目标样本图片；生成包括待保留样本图片和目标样本图片的目标样本数据集。本发明实施例提高了对样本数据集的筛选精准度。
权利要求书clms
1.一种数据筛选方法，其特征在于，包括：获取待筛选样本数据集；所述待筛选样本数据集中包括多张样本图片；根据所述样本图片的图片类别，确定待保留样本图片；根据所述待保留样本图片，确定所述待筛选样本数据集中的剩余样本图片；确定所述剩余样本图片的图片重要性得分；若所述剩余样本图片的图片重要性得分满足预设的图片保留条件，则将所述剩余样本图片确定为目标样本图片；生成包括所述待保留样本图片和所述目标样本图片的目标样本数据集。2.根据权利要求1所述的方法，其特征在于，所述根据所述样本图片的图片类别，确定待保留样本图片，包括：根据所述样本图片的图片类别，对所述待筛选样本数据集进行数据集划分，得到至少一个候选样本数据集；确定所述待筛选样本数据集中样本图片的第一图片数量，以及确定各所述候选样本数据集中样本图片的第二图片数量；根据所述第一图片数量和各所述第二图片数量，确定待保留样本图片。3.根据权利要求2所述的方法，其特征在于，所述根据所述第一图片数量和各所述第二图片数量，确定待保留样本图片，包括：确定所述候选样本数据集的数据集数量；根据所述第一图片数量和各所述第二图片数量，基于所述数据集数量，确定待保留样本数据集；将所述待保留样本数据集中的样本图片作为待保留样本图片。4.根据权利要求1所述的方法，其特征在于，所述确定所述剩余样本图片的图片重要性得分，包括：确定所述剩余样本图片的图片准确度得分；确定所述剩余样本图片的图片一致性得分；根据所述图片准确度得分和所述图片一致性得分，确定所述剩余样本图片的图片重要性得分。5.根据权利要求4所述的方法，其特征在于，所述确定所述剩余样本图片的图片准确度得分，包括：确定所述剩余样本图片的图片漏检得分；确定所述剩余样本图片的图片误判得分；根据所述图片漏检得分和所述图片误判得分，确定所述剩余样本图片的图片准确度得分。6.根据权利要求5所述的方法，其特征在于，所述方法还包括：将所述剩余样本图片输入至目标检测模型中，得到模型输出的样本预测图片；其中，所述剩余样本图片具有包括至少一个样本标准检测框和相应的样本标准类别的样本信息标签；所述目标检测模型由所述待筛选样本数据集输入至预设的网络模型中进行预先训练得到；所述样本预测图片包括至少一个样本预测检测框和相应的样本预测类别。7.根据权利要求6所述的方法，其特征在于，所述确定所述剩余样本图片的图片漏检得分，包括：确定所述剩余样本图片的样本标准检测框的标准检测框数量；确定各所述样本标准检测框和所述样本预测检测框之间的检测框匹配度；确定各所述检测框匹配度中满足预设的框匹配度条件的框匹配数量；根据所述标准检测框数量和所述框匹配数量，确定所述剩余样本图片的图片漏检得分。8.根据权利要求6所述的方法，其特征在于，所述确定所述剩余样本图片的图片误判得分，包括：确定所述剩余样本图片的样本标准类别的标准类别数量；根据所述样本标准类别和所述样本预测类别，确定预测错误类别数量；根据所述标准类别数量和所述预测错误类别数量，确定所述剩余样本图片的图片误判得分。9.根据权利要求6所述的方法，其特征在于，所述确定所述剩余样本图片的图片一致性得分，包括：将所述样本预测图片进行图像增强，得到第一预测增强样本图片；以及，将所述剩余样本图片进行图像增强，得到增强样本图片，将所述增强样本图片输入至所述目标检测模型中，得到第二预测增强样本图片；根据所述第一预测增强样本图片中的各第一预测检测框，以及所述第二预测增强样本图片的各第二预测检测框，确定至少一个样本预测框匹配对；所述样本预测框匹配对中包括具有匹配关系的第一预测检测框和第二预测检测框；根据各所述样本预测框匹配对中的第一预测检测框和第二预测检测框，确定所述剩余样本图片的图片一致性得分。10.根据权利要求9所述的方法，其特征在于，所述根据各所述样本预测框匹配对中的第一预测检测框和第二预测检测框，确定所述剩余样本图片的图片一致性得分，包括：根据各所述样本预测框匹配对中的第一预测检测框和第二预测检测框，确定各所述样本预测匹配对的框一致性得分；根据各所述样本预测匹配对中的第一预测检测框的第一预测概率值和第二预测检测框的第二预测概率值，确定各所述样本预测匹配对的类别一致性得分；根据各所述样本预测匹配对的框一致性得分和类别一致性得分，确定所述剩余样本图片的图片一致性得分。11.一种数据筛选装置，其特征在于，包括：数据集获取模块，用于获取待筛选样本数据集；所述待筛选样本数据集中包括多张样本图片；待保留图片确定模块，用于根据所述样本图片的图片类别，确定待保留样本图片；剩余图片确定模块，用于根据所述待保留样本图片，确定所述待筛选样本数据集中的剩余样本图片；重要性得分确定模块，用于确定所述剩余样本图片的图片重要性得分；目标图片确定模块，用于若所述剩余样本图片的图片重要性得分满足预设的图片保留条件，则将所述剩余样本图片确定为目标样本图片；目标数据集生成模块，用于生成包括所述待保留样本图片和所述目标样本图片的目标样本数据集。12. 一种电子设备，其特征在于，所述电子设备包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-10中任一项所述的数据筛选方法。13.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于使处理器执行时实现权利要求1-10中任一项所述的数据筛选方法。
说明书desc
技术领域本发明涉及数据处理技术领域，尤其涉及一种数据筛选方法、装置、设备及存储介质。背景技术在安检场景下，通过对物品智能化识别的方式判断待安检物品中是否存在违禁品。通常情况下，通过智能扫描仪器扫描物品图像，并由预先训练好的智能检测模型对物品图像中的违禁物品进行检测，从而判断物品图像中是否存在违禁品。因此，对违禁品的检测准确度往往取决于智能检测模型的模型训练准确度。在对智能检测模型进行训练的过程中，模型训练准确度和训练效率与样本训练集息息相关。现有技术通常直接采用带有违禁样品的图片作为样本训练集进行模型训练。然而，带有违禁品样本的数据量大但重复样本较多，从而会存在类别不平衡的问题，进而导致模型迭代速度慢、训练周期长、模型训练效果差。因此，如何精准的对数据样本进行筛选和压缩，实现训练筛选和压缩后的数据集的效果，与训练完整的数据集效果一样好，甚至更好，成为亟待解决的问题。发明内容本发明提供了一种数据筛选方法、装置、设备及存储介质，以提高对样本数据集的筛选精准度。根据本发明的一方面，提供了一种数据筛选方法，所述方法包括：获取待筛选样本数据集；所述待筛选样本数据集中包括多张样本图片；根据所述样本图片的图片类别，确定待保留样本图片；根据所述待保留样本图片，确定所述待筛选样本数据集中的剩余样本图片；确定所述剩余样本图片的图片重要性得分；若所述剩余样本图片的图片重要性得分满足预设的图片保留条件，则将所述剩余样本图片确定为目标样本图片；生成包括所述待保留样本图片和所述目标样本图片的目标样本数据集。根据本发明的另一方面，提供了一种数据筛选装置，所述装置包括：数据集获取模块，用于获取待筛选样本数据集；所述待筛选样本数据集中包括多张样本图片；待保留图片确定模块，用于根据所述样本图片的图片类别，确定待保留样本图片；剩余图片确定模块，用于根据所述待保留样本图片，确定所述待筛选样本数据集中的剩余样本图片；重要性得分确定模块，用于确定所述剩余样本图片的图片重要性得分；目标图片确定模块，用于若所述剩余样本图片的图片重要性得分满足预设的图片保留条件，则将所述剩余样本图片确定为目标样本图片；目标数据集生成模块，用于生成包括所述待保留样本图片和所述目标样本图片的目标样本数据集。根据本发明的另一方面，提供了一种电子设备，所述电子设备包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行本发明任一实施例所述的数据筛选方法。根据本发明的另一方面，提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于使处理器执行时实现本发明任一实施例所述的数据筛选方法。本发明实施例技术方案通过获取待筛选样本数据集；待筛选样本数据集中包括多张样本图片；根据样本图片的图片类别，确定待保留样本图片；根据待保留样本图片，确定待筛选样本数据集中的剩余样本图片；确定剩余样本图片的图片重要性得分；若剩余样本图片的图片重要性得分满足预设的图片保留条件，则将剩余样本图片确定为目标样本图片；生成包括待保留样本图片和目标样本图片的目标样本数据集。上述技术方案通过根据图片类别，确定待保留样本图片，实现了对图片类别下的数据总量占比较少的样本图片的保留；通过确定剩余样本图片的图片重要性得分，并根据图片重要性得分对图片样本进行筛选，实现了对样本数据集的精准筛选，在对数据样本进行精准压缩的同时，保证样本数据集的全面性和完整性，从而使得后续使用筛选压缩后的样本进行模型训练时的模型训练准确度和模型训练精准度。应当理解，本部分所描述的内容并非旨在标识本发明的实施例的关键或重要特征，也不用于限制本发明的范围。本发明的其它特征将通过以下的说明书而变得容易理解。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是根据本发明实施例一提供的一种数据筛选方法的流程图；图2是根据本发明实施例二提供的一种数据筛选方法的流程图；图3是根据本发明实施例三提供的一种数据筛选方法的流程图；图4是根据本发明实施例四提供的一种数据筛选装置的结构示意图；图5是实现本发明实施例的数据筛选方法的电子设备的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本发明方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分的实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。实施例一图1为本发明实施例一提供的一种数据筛选方法的流程图，本实施例可适用于对训练样本数据进行精准筛选的情况，该方法可以由数据筛选装置来执行，该数据筛选装置可以采用硬件和/或软件的形式实现，该数据筛选装置可配置于电子设备中。如图1所示，该方法包括：S110、获取待筛选样本数据集；待筛选样本数据集中包括多张样本图片。需要说明的是，本实施例可应用于安检场景下，对待安检物品中的违禁物品进行检测的场景，而在该场景下用于进行违禁品检测的检测网络模型在训练过程中所使用的样本数据集，可以采用本实施例的方式进行筛选得到，使得筛选得到的样本数据集在筛选压缩后对模型的训练效果，与使用未筛选的样本数据集对模型的训练效果一样好，甚至更好，从而保证使用较少数量的精准样本对模型进行训练，提高模型训练效率的同时，提升模型的训练精准度。本实施例所述的违禁品可以为禁止和限制寄递的物品，例如，违禁品可以是烟花爆竹等，本实施例对此不进行限制，具体可以由相关技术人员结合实际场景确定。其中，样本图片可以是对待安检物品进行图像采集得到的图片。样本图片中可以具有一个或多个违禁品图像；由大量的样本图片构成的数据集可以为待筛选样本数据集。其中，样本图片具有样本标签；样本标签包括图片检测框和相应图片类别；需要说明的是，样本图片中可以包括至少一个违禁品图像，相应的，违禁品的种类类别可以存在一个或多个。因此，在生成该样本图片的样本标签过程中，每一个违禁品图像均对应一个图片检测框，且该图片检测框具有相应的图片类别标签。因此，样本图片的样本标签包括至少一个图片检测框的坐标位置信息标签和相应图片检测框对应的图片类别标签。S120、根据样本图片的图片类别，确定待保留样本图片。可以根据样本图片的图片类别，确定不同图片类别下的样本图片的图片数量；并根据各图片类别下的图片数量，确定待保留样本图片。示例性的，若相应图片类别下的样本图片的图片数量小于等于预设的图片数量阈值，则将该图片类别下的样本图片确定为待保留样本图片。其中，图片数量阈值可以由相关技术人员根据实际需求进行预先设定，具体可以根据样本图片的图片总数量进行设定。需要说明的是，由于样本图片所包含的图片检测框的数量可以为至少一个，因此，样本图片所包含的图片类别的类别数量为至少一个。若样本图片具有多个图片类别，则在各图片类别下，均包含该样本图片，也即，一张样本图片可以重复出现在不同图片类别下，其结果不影响对待保留样本图片的确定。S130、根据待保留样本图片，确定待筛选样本数据集中的剩余样本图片。示例性的，可以将待筛选样本数据集中，除待保留样本图片之外的其他样本图片确定为剩余样本图片。S140、确定剩余样本图片的图片重要性得分。示例性的，可以采用待筛选样本数据集对预设网络模型进行预先训练，得到训练完成的目标检测模型。将剩余样本图片分别输入至目标检测模型进行图片检测，得到图片预测结果。其中，图片预测结果中包括图片预测框和图片预测框对应的图片类别，以及图片类别的类别预测概率值。可以根据剩余样本图片的样本标签中的真实值和相应图片预测结果，确定剩余样本图片的图片重要性得分。具体的，可以根据剩余样本图片的图片检测框和图片预测框之间的匹配程度确定图片重要性得分。例如，若匹配程度为90%，则图片重要性得分可以为90分。可选的，还可以根据对相应图片类别的类别预测概率值，确定或更新图片重要性得分。例如，若类别预测概率值大于95%，则该图片重要性得分无需更新，即为90分；若类别预测概率值不大于95%，则更新该图片重要性得分，例如，类别预测概率值为90%，则图片重要性得分可以为88分；类别预测概率值为85%，则图片重要性得分可以为86分。S150、若剩余样本图片的图片重要性得分满足预设的图片保留条件，则将剩余样本图片确定为目标样本图片。其中，图片保留条件可以由相关技术人员根据实际需求进行预先设定，例如，图片保留条件可以为若剩余样本图片的图片重要性不大于预设重要性得分阈值，则将该剩余样本图片确定为目标样本图片；反之，若剩余样本图片的图片重要性大于预设重要性得分阈值，则对该剩余样本图片进行剔除，也即，不将其确定为目标样本图片。示例性的，若剩余样本图片的图片重要性得分满足预设的图片保留条件，则将剩余样本图片确定为目标样本图片；若剩余样本图片的图片重要性得分不满足预设的图片保留条件，则对剩余样本图片进行剔除，也即不将其确定为目标样本图片。S160、生成包括待保留样本图片和目标样本图片的目标样本数据集。本发明实施例技术方案通过获取待筛选样本数据集；待筛选样本数据集中包括多张样本图片；根据样本图片的图片类别，确定待保留样本图片；根据待保留样本图片，确定待筛选样本数据集中的剩余样本图片；确定剩余样本图片的图片重要性得分；若剩余样本图片的图片重要性得分满足预设的图片保留条件，则将剩余样本图片确定为目标样本图片；生成包括待保留样本图片和目标样本图片的目标样本数据集。上述技术方案通过根据图片类别，确定待保留样本图片，实现了对图片类别下的数据总量占比较少的样本图片的保留；通过确定剩余样本图片的图片重要性得分，并根据图片重要性得分对图片样本进行筛选，实现了对样本数据集的精准筛选，在对数据样本进行精准压缩的同时，保证样本数据集的全面性和完整性，从而使得后续使用筛选压缩后的样本进行模型训练时的模型训练准确度和模型训练精准度。实施例二图2为本发明实施例二提供的一种数据筛选方法的流程图，本实施例在上述各技术方案的基础上，进行了优化改进。进一步的，将步骤“根据样本图片的图片类别，确定待保留样本图片”细化为“根据样本图片的图片类别，对待筛选样本数据集进行数据集划分，得到至少一个候选样本数据集；确定待筛选样本数据集中样本图片的第一图片数量，以及确定各候选样本数据集中样本图片的第二图片数量；根据第一图片数量和各第二图片数量，确定待保留样本图片。”以完善对待保留样本图片的确定方式。将步骤“确定剩余样本图片的图片重要性得分”细化为“确定剩余样本图片的图片准确度得分；确定剩余样本图片的图片一致性得分；根据图片准确度得分和图片一致性得分，确定剩余样本图片的图片重要性得分。”以完善对图片重要性得分的确定方式。需要说明的是，在本发明实施例中未详述的部分，可参见其他实施例的表述。如图2所示，该方法包括以下具体步骤：S210、获取待筛选样本数据集；待筛选样本数据集中包括多张样本图片。S220、根据样本图片的图片类别，对待筛选样本数据集进行数据集划分，得到至少一个候选样本数据集。示例性的，可以根据样本图片的图片类别，将相同图片类别的样本图片划分至一个相同的候选样本数据集中，得到至少一个不同图片类别的候选样本数据集。需要说明的是，由于样本图片可能对应多个图片类别，因此，不同候选样本数据集中可以存在相同的样本图片。S230、确定待筛选样本数据集中样本图片的第一图片数量，以及确定各候选样本数据集中样本图片的第二图片数量。示例性的，将待筛选样本数据集中的样本图片的图片数量作为第一图片数量；将各候选样本数据集中的样本图片的图片数量作为第二图片数量，各候选样本数据集分别对应其自身的第二图片数量。S240、根据第一图片数量和各第二图片数量，确定待保留样本图片。示例性的，针对任一候选样本数据集，若该候选样本数据集对应的第二图片数量与第一图片数量之间的比值小于等于预设的数量比值阈值，则将该候选样本数据集中的样本图片确定为待保留样本图片；反之，若该候选样本数据集对应的第二图片数量与第一图片数量之间的比值大于预设的数量比值阈值，则该候选样本数据集中的样本图片不为待保留样本图片。需要说明的是，若被确定为待保留样本图片中存在重复样本图片，则进行去重处理。为进一步提高对待保留样本图片的确定准确度，考虑到对数据量占比较少数据的有效保留，还可以在确定待保留样本图片的过程中考虑结合图片数据和类别数量，从而确保数据量占比较少的样本图片的有效保留。在一个可选实施例中，根据第一图片数量和各第二图片数量，确定待保留样本图片，包括：确定候选样本数据集的数据集数量；根据第一图片数量和各第二图片数量，基于数据集数量，确定待保留样本数据集；将待保留样本数据集中的样本图片作为待保留样本图片。其中，数据集数量可以是候选样本数据集的数量。示例性的，针对任一候选样本数据集，若该候选样本数据集/＞满足如下判断条件，则将该候选样本数据集确定为待保留样本数据集。假设，候选样本数据集/＞对应的第二图片数量为/＞，待筛选样本数据集中样本图片的第一图片数量为/＞，候选样本数据集的数据集数量为/＞，则判断条件如下：将满足判断条件的候选样本数据集确定为待保留样本数据集，并将待保留样本数据集中的样本图片作为待保留样本图片。S250、根据待保留样本图片，确定待筛选样本数据集中的剩余样本图片。S260、确定剩余样本图片的图片准确度得分。示例性的，可以采用待筛选样本数据集对预设网络模型进行预先训练，得到训练完成的目标检测模型；将剩余样本图片分别输入至目标检测模型进行图片检测，得到图片预测结果。其中，图片预测结果中包括图片预测框和图片预测框对应的图片类别，以及图片类别的类别预测概率值。具体的，可以根据剩余样本图片的图片预测框和真实标注的图片检测框之间的框匹配程度，确定图片准确度得分。例如，若框匹配程度为95%，则可以确定剩余样本图片的图片准确度得分为95分。S270、确定剩余样本图片的图片一致性得分。示例性的，可以根据剩余样本图片的预测类别和类别预测概率值，确定剩余样本图片的图片一致性得分。具体的，若剩余样本图片的预测类别和真实标注的图片类别不一致，则图片一致性得分为0分；若剩余样本图片的预测类别和真实标注的图片类别一致，且类别预测概率值为95%，则可以确定图片一致性得分为95分。S280、根据图片准确度得分和图片一致性得分，确定剩余样本图片的图片重要性得分。示例性的，可以将剩余样本图片的图片准确度得分和图片一致性得分的均值或加权平均值，确定为剩余样本图片的图片重要性得分。例如，若第张剩余样本图片的图片准确度得分为/＞，图片一致性得分为/＞，则剩余样本图片的图片重要性得分/＞的确定方式如下：S290、若剩余样本图片的图片重要性得分满足预设的图片保留条件，则将剩余样本图片确定为目标样本图片。S2100、生成包括待保留样本图片和目标样本图片的目标样本数据集。本实施例技术方案通过根据样本图片的图片类别，对待筛选样本数据集进行数据集划分，得到至少一个候选样本数据集，确定待筛选样本数据集中样本图片的第一图片数量，以及确定各候选样本数据集中样本图片的第二图片数量，根据第一图片数量和各第二图片数量，确定待保留样本图片，实现了对数据量较少的类别下的样本图片的精准筛选，避免不同图片类别的样本图片数量分布不均导致样本数据集的质量较低、全面性较差的情况发生。通过确定剩余样本图片的图片准确度得分，以及确定剩余样本图片的图片一致性得分，并根据图片准确度得分和图片一致性得分，确定剩余样本图片的图片重要性得分，综合考虑图片准确性因素和图片一致性因素，提高了对剩余样本图片的图片重要性得分的确定准确度。实施例三图3为本发明实施例三提供的一种数据筛选方法的流程图，本实施例在上述各技术方案的基础上，进行了优化改进。进一步的，将步骤“确定剩余样本图片的图片准确度得分”细化为“确定剩余样本图片的图片漏检得分；确定剩余样本图片的图片误判得分；根据图片漏检得分和图片误判得分，确定剩余样本图片的图片准确度得分。”以完善对剩余样本图片的图片重要性得分的确定方式。在步骤“确定待筛选样本数据集中的剩余样本图片”之后，添加步骤“将剩余样本图片输入至目标检测模型中，得到模型输出的样本预测图片；其中，剩余样本图片具有包括至少一个样本标准检测框和相应的样本标准类别的样本信息标签；目标检测模型由所述待筛选样本数据集输入至预设的网络模型中进行预先训练得到；样本预测图片包括至少一个样本预测检测框和相应的样本预测类别。”相应的，将步骤“确定剩余样本图片的图片一致性得分”细化为“将样本预测图片进行图像增强，得到第一预测增强样本图片；以及，将剩余样本图片进行图像增强，得到增强样本图片，将增强样本图片输入至目标检测模型中，得到第二预测增强样本图片；根据第一预测增强样本图片中的各第一预测检测框，以及第二预测增强样本图片的各第二预测检测框，确定至少一个样本预测框匹配对；样本预测框匹配对中包括具有匹配关系的第一预测检测框和第二预测检测框；根据各样本预测框匹配对中的第一预测检测框和第二预测检测框，确定剩余样本图片的图片一致性得分。”以完善对剩余样本图片的图片一致性得分的确定方式。需要说明的是，在本发明实施例中未详述的部分，可参见其他实施例的表述。如图3所示，该方法包括以下具体步骤：S310、获取待筛选样本数据集；待筛选样本数据集中包括多张样本图片。S320、根据样本图片的图片类别，确定待保留样本图片。S330、根据待保留样本图片，确定待筛选样本数据集中的剩余样本图片。S340、将剩余样本图片输入至目标检测模型中，得到模型输出的样本预测图片。其中，剩余样本图片具有包括至少一个样本标准检测框和相应的样本标准类别的样本信息标签；目标检测模型由待筛选样本数据集输入至预设的网络模型中进行预先训练得到；样本预测图片包括至少一个样本预测检测框和相应的样本预测类别，以及样本预测类别对应的预测概率值。示例性的，将剩余样本图片输入至预先训练得到的目标检测模型中，可以得到模型输出的该剩余样本图片对应的样本预测图片，且样本预测图片上具有样本预测检测框和相应的样本预测类别和预测概率值。S350、确定剩余样本图片的图片漏检得分。示例性的，可以根据剩余样本图片的样本信息标签中的真实值，即样本标准检测框和样本标准类别，以及剩余样本图片经过目标检测模型进行预测后得到的预测结果，确定图片漏检得分。在一个可选实施例中，确定剩余样本图片的图片漏检得分，包括：确定剩余样本图片的样本标准检测框的标准检测框数量；确定各样本标准检测框和样本预测检测框之间的检测框匹配度；确定各检测框匹配度中满足预设的框匹配度条件的框匹配数量；根据标准检测框数量和框匹配数量，确定剩余样本图片的图片漏检得分。需要说明的是，由于剩余样本图片中所包含的图片类别可以为一个或多个，因此，对应的样本标准检测框的数量可以为一个或多个，标准检测框数量即为剩余样本图片的样本标准检测框的数量。其中，样本标准检测框和样本预测检测框之间的检测框匹配度可以通过预设的匹配度算法进行确定。例如，可以采用IoU算法确定检测框匹配度。其中，IoU为目标检测所常用的概念，是用于计算“预测的边框”和“真实的边框”的交叠率，即它们的交集和并集的比值。其最理想情况下是完全重叠，也即比值为1。例如，若样本标准检测框为，对应的样本预测检测框为/＞，则两者之间的检测框匹配度为/＞。其中，框匹配度条件可以由相关技术人员进行预先设定，例如，框匹配度条件可以是检测框匹配度不小于预设的匹配度阈值；其中，匹配度阈值可以由相关技术人员根据实际需求进行预先设定，例如，匹配度阈值可以为0.5。示例性的，针对任一剩余样本图片，确定该剩余样本图片对应的各检测框匹配度中满足预设的框匹配度条件的框匹配数量。根据标准检测框数量和框匹配数量，确定剩余样本图片的图片漏检得分的方式可以如下：其中，为框匹配数量；/＞为标准检测框数量。S360、确定剩余样本图片的图片误判得分。示例性的，可以剩余样本图片经过目标检测模型进行预测后得到的预测结果中预测错误的类别数量，确定图片漏检得分。在一个可选实施例中，确定剩余样本图片的图片误判得分，包括：确定剩余样本图片的样本标准类别的标准类别数量；根据样本标准类别和样本预测类别，确定预测错误类别数量；根据标准类别数量和预测错误类别数量，确定剩余样本图片的图片误判得分。示例性的，根据样本标准类别和样本预测类别，可以确定预测错误类别数量；具体的，针对任一剩余样本图片中的任一样本预测检测框的样本预测类别，若样本预测类别与对应的样本标准类别不一致，则确定预测错误；若样本预测类别与对应的样本标准类别一致，则确定预测正确。示例性的，根据标准类别数量和预测错误类别数量，对剩余样本图片的图片误判得分的确定方式可以如下：其中，为标准类别数量；/＞为预测错误类别数量。S370、根据图片漏检得分和图片误判得分，确定剩余样本图片的图片准确度得分。示例性的，根据图片漏检得分和图片误判得分，对剩余样本图片的图片准确度得分的确定方式可以如下：其中，为图片漏检得分；/＞为图片误判得分。其中，图片准确度得分越高，表示模型对该剩余样本图片的预测准确度越高。S380、将样本预测图片进行图像增强，得到第一预测增强样本图片。其中，图像增强方式可以包括图片翻转、旋转、随机区域去除和错切等，本实施例对此不进行限制，也可以是其他任意图像增强方式。示例性的，可以选择一种或多种图像增强方式对样本预测图片进行图像增强，得到增强后的第一预测增强样本图片。其中，样本预测图片为剩余样本图片经过目标检测模型进行预测后得到的预测图片。S390、将剩余样本图片进行图像增强，得到增强样本图片，将增强样本图片输入至目标检测模型中，得到第二预测增强样本图片。示例性的，采用一种或多种图像增强方式先对剩余样本图片进行图像增强，得到增强样本图片；再将增强样本图片输入至目标检测模型中，得到模型输出的第二预测增强样本图片。其中，本实施例对S380和S390的步骤执行前后顺序不进行限定，可以是S380在S390之前执行，也可以是在S390之后执行，还可以是同时执行。S3100、根据第一预测增强样本图片中的各第一预测检测框，以及第二预测增强样本图片的各第二预测检测框，确定至少一个样本预测框匹配对；样本预测框匹配对中包括具有匹配关系的第一预测检测框和第二预测检测框。示例性的，可以根据最大IoU规则，对各第一预测检测框和各第二预测检测框进行分别匹配，并将检测框之间的IoU值最大的第一预测检测框和第二预测检测框作为具有匹配关系的两个检测框。例如，若存在第一预测检测框A1和第一预测检测框A2，以及第二预测检测框B1和第二预测检测框B2，则分别确定第一预测检测框A1和第二预测检测框B1之间的IoU11、第一预测检测框A1和第二预测检测框B2之间的IoU12；以及，分别确定第一预测检测框A2和第二预测检测框B1之间的IoU21、第一预测检测框A2和第二预测检测框B2之间的IoU22，并根据最大IoU匹配规则，将IoU值最大的两个检测框确定为具有匹配关系的第一预测检测框和第二预测检测框。S3110、根据各样本预测框匹配对中的第一预测检测框和第二预测检测框，确定剩余样本图片的图片一致性得分。示例性的，可以根据第一预测检测框和第二预测检测框分别对应的预测概率值和检测框匹配度，确定剩余样本图片的图片一致性得分。在一个可选实施例中，根据各样本预测框匹配对中的第一预测检测框和第二预测检测框，确定剩余样本图片的图片一致性得分，包括：根据各样本预测框匹配对中的第一预测检测框和第二预测检测框，确定各样本预测匹配对的框一致性得分；根据各样本预测匹配对中的第一预测检测框的第一预测概率值和第二预测检测框的第二预测概率值，确定各样本预测匹配对的类别一致性得分；根据各样本预测匹配对的框一致性得分和类别一致性得分，确定剩余样本图片的图片一致性得分。其中，框一致性得分的确定方式可以如下：其中，和/＞分别为剩余样本图片中的第n个样本预测匹配对中的第一预测检测框和第二预测检测框。示例性的，根据各样本预测匹配对中的第一预测检测框的第一预测概率值和第二预测检测框的第二预测概率值，确定各样本预测匹配对的类别一致性得分的方式可以如下：其中，，/＞；其中，/＞为各样本预测匹配对中，各第一预测检测框分别对应的第一预测概率值的集合；/＞为各样本预测匹配对中，各第二预测检测框分别对应的第二预测概率值的集合。示例性的，第K各样本预测匹配对的类别一致性得分的确定方式可以如下：示例性的，剩余样本图片的图片一致性得分的确定方式可以如下：S3120、根据图片准确度得分和图片一致性得分，确定剩余样本图片的图片重要性得分。S3130、若剩余样本图片的图片重要性得分满足预设的图片保留条件，则将剩余样本图片确定为目标样本图片。S3140、生成包括待保留样本图片和目标样本图片的目标样本数据集。本实施例技术方案通过确定剩余样本图片的图片漏检得分，以及确定剩余样本图片的图片误判得分，并根据图片漏检得分和图片误判得分，确定剩余样本图片的图片准确度得分，提高了对剩余样本图片的图片准确度得分的确定准确度。通过将样本预测图片进行图像增强，得到第一预测增强样本图片，以及将剩余样本图片进行图像增强，得到增强样本图片，将增强样本图片输入至目标检测模型中，得到第二预测增强样本图片；根据第一预测增强样本图片中的各第一预测检测框，以及第二预测增强样本图片的各第二预测检测框，确定至少一个样本预测框匹配对，并根据各样本预测框匹配对中的第一预测检测框和第二预测检测框，确定剩余样本图片的图片一致性得分，提高了对剩余样本图片的图片一致性得分的确定准确度，进一步提高了对剩余样本图片的图片重要性得分的确定准确度，从而实现了对目标样本图片的精准筛选。实施例四图4为本发明实施例四提供的一种数据筛选装置的结构示意图。本发明实施例所提供的一种数据筛选装置，该装置可适用于对训练样本数据进行精准筛选的情况，该数据筛选装置可以采用硬件和/或软件的形式实现，如图4所示，该装置具体包括：数据集获取模块401、待保留图片确定模块402、剩余图片确定模块403、重要性得分确定模块404、目标图片确定模块405和目标数据集生成模块406。其中，数据集获取模块401，用于获取待筛选样本数据集；所述待筛选样本数据集中包括多张样本图片；待保留图片确定模块402，用于根据所述样本图片的图片类别，确定待保留样本图片；剩余图片确定模块403，用于根据所述待保留样本图片，确定所述待筛选样本数据集中的剩余样本图片；重要性得分确定模块404，用于确定所述剩余样本图片的图片重要性得分；目标图片确定模块405，用于若所述剩余样本图片的图片重要性得分满足预设的图片保留条件，则将所述剩余样本图片确定为目标样本图片；目标数据集生成模块406，用于生成包括所述待保留样本图片和所述目标样本图片的目标样本数据集。本发明实施例技术方案通过获取待筛选样本数据集；待筛选样本数据集中包括多张样本图片；根据样本图片的图片类别，确定待保留样本图片；根据待保留样本图片，确定待筛选样本数据集中的剩余样本图片；确定剩余样本图片的图片重要性得分；若剩余样本图片的图片重要性得分满足预设的图片保留条件，则将剩余样本图片确定为目标样本图片；生成包括待保留样本图片和目标样本图片的目标样本数据集。上述技术方案通过根据图片类别，确定待保留样本图片，实现了对图片类别下的数据总量占比较少的样本图片的保留；通过确定剩余样本图片的图片重要性得分，并根据图片重要性得分对图片样本进行筛选，实现了对样本数据集的精准筛选，在对数据样本进行精准压缩的同时，保证样本数据集的全面性和完整性，从而使得后续使用筛选压缩后的样本进行模型训练时的模型训练准确度和模型训练精准度。可选的，所述待保留图片确定模块402，包括：数据集生成单元，用于根据所述样本图片的图片类别，对所述待筛选样本数据集进行数据集划分，得到至少一个候选样本数据集；图片数量确定单元，用于确定所述待筛选样本数据集中样本图片的第一图片数量，以及确定各所述候选样本数据集中样本图片的第二图片数量；待保留图片确定单元，用于根据所述第一图片数量和各所述第二图片数量，确定待保留样本图片。可选的，所述待保留图片确定单元，包括：数据集数量确定子单元，用于确定所述候选样本数据集的数据集数量；待保留数据集确定子单元，用于根据所述第一图片数量和各所述第二图片数量，基于所述数据集数量，确定待保留样本数据集；待保留图片确定子单元，用于将所述待保留样本数据集中的样本图片作为待保留样本图片。可选的，所述重要性得分确定模块404，包括：准确度得分确定单元，用于确定所述剩余样本图片的图片准确度得分；一致性得分确定单元，用于确定所述剩余样本图片的图片一致性得分；重要性得分确定单元，用于根据所述图片准确度得分和所述图片一致性得分，确定所述剩余样本图片的图片重要性得分。可选的，所述准确度得分确定单元，包括：漏检得分确定子单元，用于确定所述剩余样本图片的图片漏检得分；误判得分确定子单元，用于确定所述剩余样本图片的图片误判得分；准确度得分确定子单元，用于根据所述图片漏检得分和所述图片误判得分，确定所述剩余样本图片的图片准确度得分。可选的，所述装置还包括：样本预测图片生成模块，用于将所述剩余样本图片输入至目标检测模型中，得到模型输出的样本预测图片；其中，所述剩余样本图片具有包括至少一个样本标准检测框和相应的样本标准类别的样本信息标签；所述目标检测模型由所述待筛选样本数据集输入至预设的网络模型中进行预先训练得到；所述样本预测图片包括至少一个样本预测检测框和相应的样本预测类别。可选的，所述漏检得分确定子单元，具体用于：确定所述剩余样本图片的样本标准检测框的标准检测框数量；确定各所述样本标准检测框和所述样本预测检测框之间的检测框匹配度；确定各所述检测框匹配度中满足预设的框匹配度条件的框匹配数量；根据所述标准检测框数量和所述框匹配数量，确定所述剩余样本图片的图片漏检得分。可选的，所述误判得分确定子单元，具体用于：确定所述剩余样本图片的样本标准类别的标准类别数量；根据所述样本标准类别和所述样本预测类别，确定预测错误类别数量；根据所述标准类别数量和所述预测错误类别数量，确定所述剩余样本图片的图片误判得分。可选的，所述一致性得分确定单元，包括：第一增强图片确定子单元，用于将所述样本预测图片进行图像增强，得到第一预测增强样本图片；以及，第二增强图片确定子单元，用于将所述剩余样本图片进行图像增强，得到增强样本图片，将所述增强样本图片输入至所述目标检测模型中，得到第二预测增强样本图片；框匹配对确定子单元，用于根据所述第一预测增强样本图片中的各第一预测检测框，以及所述第二预测增强样本图片的各第二预测检测框，确定至少一个样本预测框匹配对；所述样本预测框匹配对中包括具有匹配关系的第一预测检测框和第二预测检测框；一致性得分确定子单元，用于根据各所述样本预测框匹配对中的第一预测检测框和第二预测检测框，确定所述剩余样本图片的图片一致性得分。可选的，所述一致性得分确定子单元，具体用于：根据各所述样本预测框匹配对中的第一预测检测框和第二预测检测框，确定各所述样本预测匹配对的框一致性得分；根据各所述样本预测匹配对中的第一预测检测框的第一预测概率值和第二预测检测框的第二预测概率值，确定各所述样本预测匹配对的类别一致性得分；根据各所述样本预测匹配对的框一致性得分和类别一致性得分，确定所述剩余样本图片的图片一致性得分。本发明实施例所提供的数据筛选装置可执行本发明任意实施例所提供的数据筛选方法，具备执行方法相应的功能模块和有益效果。实施例五图5示出了可以用来实施本发明的实施例的电子设备50的结构示意图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本发明的实现。如图5所示，电子设备50包括至少一个处理器51，以及与至少一个处理器51通信连接的存储器，如只读存储器52、随机访问存储器53等，其中，存储器存储有可被至少一个处理器执行的计算机程序，处理器51可以根据存储在只读存储器52中的计算机程序或者从存储单元58加载到随机访问存储器53中的计算机程序，来执行各种适当的动作和处理。在RAM 53中，还可存储电子设备50操作所需的各种程序和数据。处理器51、ROM 52以及RAM 53通过总线54彼此相连。输入/输出接口55也连接至总线54。电子设备50中的多个部件连接至I/O接口55，包括：输入单元56，例如键盘、鼠标等；输出单元57，例如各种类型的显示器、扬声器等；存储单元58，例如磁盘、光盘等；以及通信单元59，例如网卡、调制解调器、无线通信收发机等。通信单元59允许电子设备50通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。处理器51可以是各种具有处理和计算能力的通用和/或专用处理组件。处理器51的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的处理器、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。处理器51执行上文所描述的各个方法和处理，例如数据筛选方法。在一些实施例中，数据筛选方法可被实现为计算机程序，其被有形地包含于计算机可读存储介质，例如存储单元58。在一些实施例中，计算机程序的部分或者全部可以经由ROM 52和/或通信单元59而被载入和/或安装到电子设备50上。当计算机程序加载到RAM 53并由处理器51执行时，可以执行上文描述的数据筛选方法的一个或多个步骤。备选地，在其他实施例中，处理器51可以通过其他任何适当的方式而被配置为执行数据筛选方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本发明的方法的计算机程序可以采用一个或多个编程语言的任何组合来编写。这些计算机程序可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器，使得计算机程序当由处理器执行时使流程图和/或框图中所规定的功能/操作被实施。计算机程序可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本发明的上下文中，计算机可读存储介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的计算机程序。计算机可读存储介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。备选地，计算机可读存储介质可以是机器可读信号介质。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在电子设备上实施此处描述的系统和技术，该电子设备具有：用于向用户显示信息的显示装置或者LCD监视器）；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给电子设备。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网、区块链网络和互联网。计算系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，又称为云计算服务器或云主机，是云计算服务体系中的一项主机产品，以解决了传统物理主机与VPS服务中，存在的管理难度大，业务扩展性弱的缺陷。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发明中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本发明的技术方案所期望的结果，本文在此不进行限制。上述具体实施方式，并不构成对本发明保护范围的限制。本领域技术人员应该明白的是，根据设计要求和其他因素，可以进行各种修改、组合、子组合和替代。任何在本发明的精神和原则之内所作的修改、等同替换和改进等，均应包含在本发明保护范围之内。
