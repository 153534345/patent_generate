标题title
一种位置确定方法及装置
摘要abst
本发明提供了一种位置确定方法及装置，该方法包括：在第t时刻，对每个接收机的信道状态信息进行变换处理，得到频率偏移信息，结合发射机的载波频率、对象的位移参数生成目标频率偏移函数；对两个目标频率偏移函数进行求解得到位移集合；基于预设挑选方法从位移集合中确定目标位移信息包括目标速度信息和初始运动方向；根据目标速度信息与每个接收机的夹角，确定不同频率偏移标识的偏移权重，夹角是根据发射机的位置和接收机的位置以及目标位移信息确定的；利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整，得到目标运动方向，第t时刻下对象的位置信息包括目标速度信息和目标运动方向。基于该方法还提供了一种位置确定装置。
权利要求书clms
1.一种位置确定方法，其特征在于，包括：在第t时刻，对每个接收机的信道状态信息进行变换处理，得到对应于每个所述接收机的频率偏移信息，其中，t≥0；针对每个所述接收机，根据所述频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数，其中，所述接收机包括一个可用的接收天线；对每两个所述目标频率偏移函数进行求解，得到所述对象的位移集合；基于预设挑选方法从所述位移集合中确定目标位移信息，其中，所述目标位移信息包括目标速度信息和初始运动方向；根据所述目标速度信息与每个所述接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，其中，所述夹角是根据所述发射机的位置、所述接收机的位置以及所述目标位移信息确定的；利用多个所述偏移权重和多个所述频率偏移标识，对所述初始运动方向进行调整，得到目标运动方向，其中，第t时刻下所述对象的位置信息包括所述目标速度信息和所述目标运动方向。2.根据权利要求1所述的方法，其特征在于，对每个接收机的信道状态信息进行变换处理，得到对应于每个所述接收机的频率偏移信息，包括：针对每个所述信道状态信息，利用连续小波变换方法处理所述信道状态信息的幅值，得到所述频率偏移信息。3.根据权利要求1所述的方法，其特征在于，目标频率偏移函数如公式所示：其中，表示根据第i个接收机的信道状态信息生成的对象位移与频率偏移信息之间的关系，f表示发射机的载波频率，/＞表示对象的位移参数中对象运动速度的大小，/＞表示对象的位移参数中对象运动的方向，/＞,/＞分别表示发射机发射的信号离开发射机的出发角和信号到达第i个接收机的到达角，c表示光速。4.根据权利要求1所述的方法，其特征在于，基于预设挑选方法从所述位移集合中确定目标位移信息，包括：利用预设聚类方法对所述位移集合进行聚类处理，得到K个初始聚簇，其中，K是根据所述位移集合中位移信息的数量确定的，其中，K≥1；利用预设筛选方法对多个所述初始聚簇进行处理，得到目标聚簇；基于预设选取方法，从所述目标聚簇中多个位移信息中确定所述目标位移信息。5.根据权利要求4所述的方法，其特征在于，利用预设筛选方法对多个所述初始聚簇进行处理，得到目标聚簇，包括：针对每个所述初始聚簇，在所述初始聚簇中位移信息的数量满足第一数量条件的情况下，将所述初始聚簇确定为中间聚簇；计算每个所述中间聚簇的聚集度；将聚集度最大的中间聚簇确定为所述目标聚簇。6.根据权利要求4或5所述的方法，其特征在于，基于预设选取方法，从所述目标聚簇中多个位移信息中确定所述目标位移信息，包括：根据所述目标聚簇中多个位移信息确定聚簇中心；计算每个所述位移信息与所述聚簇中心之间的聚簇距离；将聚簇距离最小值对应的位移信息确定为所述目标位移信息。7.根据权利要求1所述的方法，其特征在于，根据所述目标速度信息与每个所述接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，包括：根据多个所述接收机的信道状态信息之间的协方差，生成对应于每个所述接收机的频率偏移标识；针对每个所述接收机，根据所述初始运动方向、所述发射机的位置和所述接收机的位置，生成与所述接收机对应的夹角；在所述夹角大于或等于预设夹角阈值的情况下，确定与所述接收机对应的频率偏移标识的偏移权重为第一权重；在所述夹角小于所述预设夹角阈值的情况下，确定与所述接收机对应的频率偏移标识的偏移权重为第二权重，其中，所述第一权重大于所述第二权重。8.根据权利要求1所述的方法，其特征在于，利用多个所述偏移权重和多个所述频率偏移标识，对所述初始运动方向进行调整，得到目标运动方向，包括：针对每个所述接收机，根据所述目标速度信息、所述发射机的载波频率、所述发射机发射的信号离开所述发射机的出发角和信号到达所述接收机的到达角，确定所述目标速度信息与所述接收机之间的理论偏移标识；根据多个所述理论偏移标识、多个所述频率偏移标识和多个所述偏移权重，生成加权速度信息；在所述加权速度信息大于等于预设数值的情况下，将所述初始运动方向确定为所述目标运动方向；在所述加权速度信息小于所述预设数值的情况下，根据所述初始运动方向和预设角度生成为所述目标运动方向。9.根据权利要求8所述的方法，其特征在于，所述夹角如公式所示，偏移权重如公式所示，理论偏移标识/＞如公式所示，加权速度信息/＞如公式所示，目标运动方向/＞如公式所示：其中，，/＞，其中，表示发射机/＞的位置，/＞表示N个中第i个接收机的位置，dot为点积函数，norm为向量范数函数；/＞为第一权重，/＞为第二权重，/＞为预设夹角阈值；/＞为初始运动方向，/＞、/＞、/＞分别为由多个偏移权重/＞、多个频率偏移标识/＞、多个理论偏移标识/＞构成的多维向量，/＞为预设数值，/＞为预设角度，/＞表示根据第i个接收机的信道状态信息生成的对象位移与频率偏移信息之间的关系，f表示发射机的载波频率，/＞表示对象的位移参数中对象运动速度的大小，/＞表示对象的位移参数中对象运动的方向，/＞，/＞分别表示发射机发射的信号离开发射机的出发角和信号到达第i个接收机的到达角，c表示光速。10.一种位置确定装置，其特征在于，包括：变换模块，用于在第t时刻，对每个接收机的信道状态信息进行变换处理，得到对应于每个所述接收机的频率偏移信息，其中，t≥0；生成模块，用于针对每个所述接收机，根据所述频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数，其中，所述接收机包括一个可用的接收天线；求解模块，用于对每两个所述目标频率偏移函数进行求解，得到所述对象的位移集合；第一确定模块，用于基于预设挑选方法从所述位移集合中确定目标位移信息，其中，所述目标位移信息包括目标速度信息和初始运动方向；第二确定模块，用于根据所述目标速度信息与每个所述接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，其中，所述夹角是根据所述发射机的位置、所述接收机的位置以及所述目标位移信息确定的；以及调整模块，用于利用多个所述偏移权重和多个所述频率偏移标识，对所述初始运动方向进行调整，得到目标运动方向，其中，第t时刻下所述对象的位置信息包括所述目标速度信息和所述目标运动方向。
说明书desc
技术领域本发明涉及信号处理领域，更具体地，涉及一种位置确定方法及装置。背景技术非接触式室内追踪是广泛的现实应用的重要组成部分，包括入侵者位置追踪，老年人/患者监控，活动行为识别等。在基于WiFi设备的无接触式室内追踪技术中，从细粒度的信道状态信息中提取的频率偏移信息被广泛应用于目标运动速度的估计。然而，从WiFi设备的每一根天线中获取的CSI都存在随机相位偏移，这对DFS的估计有严重影响。在传统的方法中，可以利用两根天线的CSI数据共轭相乘或者相除来消除随机相位偏移，这就要求WiFi设备至少有两根工作在同一频段的天线，但现实是许多IoT设备的WiFi芯片都只有一根天线，在此情况下，多天线的位置追踪方法无法在单天线设备上应用，而现有的单天线的位置追踪方法所确定的位置其准确度较差。发明内容有鉴于此，本发明实施例提供了一种位置确定方法及装置。本发明实施例的一个方面提供了一种位置确定方法，包括：根据本发明的实施例，在第t时刻，对每个接收机的信道状态信息进行变换处理，得到对应于每个接收机的频率偏移信息，其中，t≥0；针对每个接收机，根据频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数，其中，接收机包括一个可用的接收天线；对每两个目标频率偏移函数进行求解，得到对象的位移集合；基于预设挑选方法从位移集合中确定目标位移信息，其中，目标位移信息包括目标速度信息和初始运动方向；根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，其中，夹角是根据发射机的位置、接收机的位置以及目标位移信息确定的；利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整，得到目标运动方向，其中，第t时刻下对象的位置信息包括目标速度信息和目标运动方向。根据本发明的实施例，对每个接收机的信道状态信息的幅值进行变换处理，得到对应于每个接收机的频率偏移信息，包括：针对每个信道状态信息，利用连续小波变换方法处理所述信道状态信息的幅值，得到频率偏移信息。根据本发明的实施例，目标频率偏移函数如公式所示：其中，表示根据第i个接收机的信道状态信息生成的对象位移与频率偏移信息之间的关系，f表示发射机的载波频率，/＞表示对象的位移参数中对象运动速度的大小，/＞表示对象的位移参数中对象运动的方向，/＞,/＞分别表示发射机发射的信号离开发射机的出发角和信号到达第i个接收机的到达角，c表示光速。根据本发明的实施例，基于预设挑选方法从位移集合中确定目标位移信息，包括：利用预设聚类方法对位移集合进行聚类处理，得到K个初始聚簇，其中，K是根据位移集合中位移信息的数量确定的；利用预设筛选方法对多个初始聚簇进行处理，得到目标聚簇；基于预设选取方法，从目标聚簇中多个位移信息中确定目标位移信息。根据本发明的实施例，利用预设筛选方法对多个初始聚簇进行处理，得到目标聚簇，包括：针对每个初始聚簇，在初始聚簇中位移信息的数量满足第一数量条件的情况下，将初始聚簇确定为中间聚簇；计算每个中间聚簇的聚集度；将聚集度最大的中间聚簇确定为目标聚簇。根据本发明的实施例，基于预设选取方法，从目标聚簇中多个位移信息中确定目标位移信息，包括：根据目标聚簇中多个位移信息确定聚簇中心；计算每个位移信息与聚簇中心之间的聚簇距离；将聚簇距离最小值对应的位移信息确定为目标位移信息。根据本发明的实施例，根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，包括：根据多个接收机的信道状态信息之间的协方差，生成对应于每个接收机的频率偏移标识；针对每个接收机，根据初始运动方向、发射机的位置和接收机的位置，生成与接收机对应的夹角；在夹角大于或等于预设夹角阈值的情况下，确定与接收机对应的频率偏移标识的偏移权重为第一权重；在夹角小于预设夹角阈值的情况下，确定与接收机对应的频率偏移标识的偏移权重为第二权重，其中，第一权重大于第二权重。根据本发明的实施例，利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整，得到目标运动方向，包括：针对每个接收机，根据目标速度信息、发射机的载波频率、发射机发射的信号离开发射机的出发角和信号到达接收机的到达角，确定目标速度信息与接收机之间的理论偏移标识；根据多个理论偏移标识、多个频率偏移标识和多个偏移权重，生成加权速度信息；在加权速度信息大于等于预设数值的情况下，将初始运动方向确定为目标运动方向；在加权速度信息小于预设数值的情况下，根据初始运动方向和预设角度生成为目标运动方向。根据本发明的实施例，夹角如公式所示，偏移权重/＞如公式所示，理论偏移标识/＞如公式所示，加权速度信息/＞如公式所示，目标运动方向/＞如公式所示：其中，,/＞其中，表示发射机/＞的位置，/＞表示N个中第i个接收机的位置，dot为点积函数，norm为向量范数函数；/＞为第一权重，/＞为第二权重，/＞为预设夹角阈值；/＞为初始运动方向，/＞、/＞、/＞分别为由多个偏移权重/＞、多个频率偏移标识/＞、多个理论偏移标识构成的多维向量，/＞为预设数值，/＞为预设角度。本发明实施例的另一个方面提供了一种位置确定装置，包括：变换模块，用于在第t时刻，对每个接收机的信道状态信息进行变换处理，得到对应于每个接收机的频率偏移信息；生成模块，用于针对每个接收机，根据频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数，其中，接收机包括一个可用的接收天线；求解模块，用于对每两个目标频率偏移函数进行求解，得到对象的位移集合；第一确定模块，用于基于预设挑选方法从位移集合中确定目标位移信息，其中，目标位移信息包括目标速度信息和初始运动方向；第二确定模块，用于根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，其中，所述夹角是根据发射机的位置、接收机的位置以及目标位移信息确定的；以及调整模块，用于利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整，得到目标运动方向，其中，第t时刻下对象的位置信息包括目标速度信息和目标运动方向。根据本发明的实施例，通过频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数；对每两个目标频率偏移函数进行求解，得到对象的位移集合；基于预设挑选方法从位移集合中确定目标位移信息；根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重；利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整。因此至少部分地克服了现有技术中只能利用两根天线的CSI数据共轭相乘或者相除来消除随机相位偏移，实现使用一根天线的CSI数据来完成无接触目标位置追踪，减小了从发射机的多根天线中获取的CSI随机相位偏移对DFS的影响，达到利用单天线的发射机实现高精度的位置追踪。附图说明通过以下参照附图对本发明实施例的描述，本发明的上述以及其他目的、特征和优点将更为清楚，在附图中：图1示出了根据本发明实施例的一种位置确定方法的流程图；图2示出了根据本发明实施例的CSI幅值随时间变化的曲线图；图3示出了根据本发明实施例的位移合集中位移信息的分布图；图4示出了根据本发明实施例的一种位置确定方法的流程框架图；图5示出了根据本发明实施例的一种位置确定方法的对比结果曲线图；图6示出了根据本发明实施例的空旷环境中一次目标轨迹追踪的示意图；图7示出了根据本发明实施例的走廊环境下一次目标轨迹追踪的示意图；图8示出了根据本发明实施例的会议室环境下一次目标轨迹追踪的示意图；图9示出了根据本发明实施例的速度估计中角度估计的累计误差分布曲线图；图10示出了根据本发明实施例的速度估计中速度大小估计的累计误差分布曲线图；图11示出了根据本发明实施例的速度估计中位置估计的累计误差分布曲线图；图12示出了根据本发明实施例的一种位置确定装置的框图。具体实施方式以下，将参照附图来描述本发明的实施例。但是应该理解，这些描述只是示例性的，而并非要限制本发明的范围。在下面的详细描述中，为便于解释，阐述了许多具体的细节以提供对本发明实施例的全面理解。然而，明显地，一个或多个实施例在没有这些具体细节的情况下也可以被实施。此外，在以下说明中，省略了对公知结构和技术的描述，以避免不必要地混淆本发明的概念。在此使用的术语仅仅是为了描述具体实施例，而并非意在限制本发明。在此使用的术语“包括”、“包含”等表明了所述特征、步骤、操作和/或部件的存在，但是并不排除存在或添加一个或多个其他特征、步骤、操作或部件。在此使用的所有术语具有本领域技术人员通常所理解的含义，除非另外定义。应注意，这里使用的术语应解释为具有与本说明书的上下文相一致的含义，而不应以理想化或过于刻板的方式来解释。在使用类似于“A、B和C等中至少一个”这样的表述的情况下，一般来说应该按照本领域技术人员通常理解该表述的含义来予以解释。从WiFi设备的每一根天线中获取的CSI都存在随机相位偏移，这对DFS的估计有严重影响。在传统的方法中，可以利用两根天线的CSI数据共轭相乘或者相除来消除随机相位偏移，这就要求WiFi设备至少有两根工作在同一频段的天线，但现实是许多IoT设备的WiFi芯片都只有一根天线。在IoT场景下，如何利用单天线的WiFi设备实现高精度的位置追踪是本申请重要的研究课题。有鉴于此，本发明的实施例提供了一种位置确定方法及装置，包括：在第t时刻，对每个接收机的信道状态信息进行变换处理，得到对应于每个接收机的频率偏移信息；针对每个接收机，根据频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数，其中，接收机包括一个可用的接收天线；对每两个目标频率偏移函数进行求解，得到对象的位移集合；基于预设挑选方法从位移集合中确定目标位移信息，其中，目标位移信息包括目标速度信息和初始运动方向；根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，其中，夹角是根据发射机的位置、接收机的位置以及目标位移信息确定的；利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整，得到目标运动方向，其中，第t时刻下对象的位置信息包括目标速度信息和目标运动方向。图1示出了根据本发明实施例的一种位置确定方法的流程图。根据本发明的实施例，如图1所示，一种位置确定方法包括操作S110~操作S160。在操作S110，在第t时刻，对每个接收机的信道状态信息进行变换处理，得到对应于每个接收机的频率偏移信息，即多普勒频率偏移信息。根据本发明的实施例，接收机由天线接收电磁信号，接收机的部署数量大于等于3，本领域技术人员可根据实际需要进行选择。在操作S120，针对每个所述接收机，根据频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数，其中，接收机包括一个可用的接收天线。根据本发明的实施例，发射机是将信号按一定频率发射出的装置，完成有用的低频信号对高频载波的调制，接收机可以是单天线接收机，也可以是多天线，但是多天线接收机中只有一根天线可用。在操作S130，对每两个目标频率偏移函数进行求解，得到对象的位移集合。在操作S140，基于预设挑选方法从位移集合中确定目标位移信息，其中，目标位移信息包括目标速度信息和初始运动方向。在操作S150，根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，其中，夹角是根据发射机的位置、接收机的位置以及目标位移信息确定的。在操作S160，利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整，得到目标运动方向，其中，第t时刻下对象的位置信息包括目标速度信息和目标运动方向。根据本发明的实施例，在t时刻下，一人在室内移动，其中，室内有部署发射机和若干接收机，发射机和接收机均具有WiFi通信功能，接收机获取信道状态信息，通过变换得到频率偏移信息，根据所述频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数；对目标频率偏移函数进行求解得到此人的位移合集，确定目标位移信息即目标速度信息和初始运动方向；为确定运动方向，通过发射机的位置、接收机的位置以及此人的目标位移信息确定夹角，夹角与目标速度信息确定权重以对初始运动方向进行调整得到目标运动方向，最终得到t时刻下此人的位置信息。根据本发明的实施例，通过频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数；对每两个目标频率偏移函数进行求解，得到对象的位移集合；基于预设挑选方法从位移集合中确定目标位移信息；根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重；利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整。因此至少部分地克服了现有技术中只能利用两根天线的CSI数据共轭相乘或者相除来消除随机相位偏移，实现使用一根天线的CSI数据来完成无接触目标位置追踪，减小了从WiFi设备的多根天线中获取的CSI随机相位偏移对DFS的影响，达到利用单天线的WiFi设备实现高精度的位置追踪。图2示出了根据本发明实施例的CSI幅值随时间变化的曲线图。根据本发明的实施例，对每个接收机的信道状态信息进行变换处理，得到对应于每个接收机的频率偏移信息，包括：针对每个信道状态信息，利用连续小波变换方法处理所述信道状态信息的幅值，得到频率偏移信息。根据本发明的实施例，获取每个接收机的信道状态信息，计算CSI幅值，并利用连续小波变换来计算在一个短时间周期内的CSI幅值的频率。根据本发明的实施例，如图3所示，CSI幅度波形类似于余弦值和恒定偏移值之和。随着动态路径距离的增加，动态路径对CSI幅度的影响减小。根据本发明的实施例，目标频率偏移函数如公式所示：其中，表示根据第i个接收机的信道状态信息生成的对象位移与频率偏移信息之间的关系，f表示发射机的载波频率，/＞表示对象的位移参数中对象运动速度的大小，/＞表示对象的位移参数中对象运动的方向，/＞,/＞分别表示发射机发射的信号离开发射机的出发角和信号到达第i个接收机的到达角，c表示光速。根据本发明的实施例，以N个接收机为例，可以建立以下方程组： ┋其中表示发射机发射的信号经过目标反射后到达第i个接收机的到达角。两两组合上述方程，并解出所有可能解来建立一个位移集合/＞，L为位移集合S中位移信息的数量。图3示出了根据本发明实施例的位移合集中位移信息的分布图。根据本发明的实施例，基于预设挑选方法从位移集合中确定目标位移信息，包括：利用预设聚类方法对位移集合进行聚类处理，得到K个初始聚簇，其中，K是根据位移集合中位移信息的数量确定的；利用预设筛选方法对多个初始聚簇进行处理，得到目标聚簇；基于预设选取方法，从目标聚簇中多个位移信息中确定目标位移信息。根据本发明的实施例，如图3所示，用K-means算法将位移集合S分为K个初始聚簇，，并记每个初始聚簇中的位移信息数量为/＞。本发明对算法的选择不做限定，本领域技术人员可以根据实际情况进行选择。根据本发明的实施例，利用预设筛选方法对多个初始聚簇进行处理，得到目标聚簇，包括：针对每个初始聚簇，在初始聚簇中位移信息的数量满足第一数量条件的情况下，将初始聚簇确定为中间聚簇；计算每个中间聚簇的聚集度；将聚集度最大的中间聚簇确定为目标聚簇。根据本发明的实施例，在所有满足位移信息数量的初始聚簇确定为中间聚簇，中间聚簇的聚集度由如下公式来衡量：其中M为中间聚簇中位移信息总数，表示第i个位移信息点，/＞表示包含这M个位移信息的簇，/＞表示该中间聚簇的簇中心点。该值越小表明聚集度越高，反之亦然。在中间聚簇中选择聚集度最高的簇作为目标聚簇。根据本发明的实施例，基于预设选取方法，从目标聚簇中多个位移信息中确定目标位移信息，包括：根据目标聚簇中多个位移信息确定聚簇中心；计算每个位移信息与聚簇中心之间的聚簇距离；将聚簇距离最小值对应的位移信息确定为目标位移信息。根据本发明的实施例，将目标聚簇中最接近聚簇中心的位移信息作为目标位移信息，记为：，其中，/＞表示目标速度信息，/＞表示初始运动方向。根据本发明的实施例，根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，包括：根据多个接收机的信道状态信息之间的协方差，生成对应于每个接收机的频率偏移标识；针对每个接收机，根据初始运动方向、发射机的位置和接收机的位置，生成与接收机对应的夹角；在夹角大于或等于预设夹角阈值的情况下，确定与接收机对应的频率偏移标识的偏移权重为第一权重；在夹角小于预设夹角阈值的情况下，确定与接收机对应的频率偏移标识的偏移权重为第二权重，其中，第一权重大于第二权重。根据本发明的实施例，频率偏移标识通过计算不同子载波的CSI的协方差的子载波的时延关系得到，记为：。根据本发明的实施例，利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整，得到目标运动方向，包括：针对每个接收机，根据目标速度信息、发射机的载波频率、发射机发射的信号离开发射机的出发角和信号到达接收机的到达角，确定目标速度信息与接收机之间的理论偏移标识；根据多个理论偏移标识、多个频率偏移标识和多个偏移权重，生成加权速度信息；在加权速度信息大于等于预设数值的情况下，将初始运动方向确定为目标运动方向；在加权速度信息小于预设数值的情况下，根据初始运动方向和预设角度生成为目标运动方向。根据本发明的实施例，夹角如公式所示，偏移权重/＞如公式所示，理论偏移标识/＞如公式所示，加权速度信息/＞如公式所示，目标运动方向/＞如公式所示：其中，，/＞其中，表示发射机/＞的位置，/＞表示N个中第i个接收机的位置，dot为点积函数，norm为向量范数函数；/＞为第一权重，/＞为第二权重，/＞为预设夹角阈值；/＞为初始运动方向，/＞、/＞、/＞分别为由多个偏移权重/＞、多个频率偏移标识/＞、多个理论偏移标识/＞构成的多维向量，/＞为预设数值，/＞为预设角度。图4示出了根据本发明实施例的一种位置确定方法的流程框架图。根据本发明实施例，如图4所示，通过每个接收机获取原始CSI数据，根据CSI数据计算CSI幅值，利用连续小波变换得到DFS的值；将得到的DFS的值结合发射机的载波频率、对象的位移参数，生成目标频率偏移函数，建立方程组对函数进行两两求解，建立一个位移合集；利用K-means算法提取位移信息；通过不同子载波时间延时分析得到频率偏移标识；根据位移信息和频率偏移标识确定权重，根据多个理论偏移标识、多个频率偏移标识和多个偏移权重，生成加权速度信息，利用加权速度信息对方向进行区分。图5示出了根据本发明实施例的一种位置确定方法的对比结果曲线图。根据本发明实施例，如图5所示，经过图4流程得出的真实速度与估计速度的对比结果，其中，估计速度是由本发明方法得到，对比重合率较高，误差相对较小，因此可以证实本发明的准确性。为进一步解释本发明实施例提供的位置确定方法，以下结合实施例来对本发明实施例提供的位置确定方法进行详细说明。据本发明实施例，设定信号的中心频率为5.31GHz，带宽为40MHz，接收端仅使用三根天线中的第二根天线对信号进行接收。如图6至图8所示，三角点代表发射机的位置，圆点代表接收机的位置，实线表示估计轨迹，虚线表示真实轨迹，其中，估计轨迹是由本发明方法得到。其中，图6是空旷环境下示意图、图7是走廊环境下示意图、图8是会议室环境下示意图，如图所示，真实轨迹与估计轨迹的曲线高度重合；通过以真实速度方向与估计的速度方向的误差，真实速度大小与估计速度大小的误差，二维定位空间中的真实位置与估计位置的误差距离来评估追踪性能，并以累计误差分布的形式展现，其中，估计速度是由本发明方法得到，如图9至图11所示，一般选取中值误差，可以看出误差相对较小，因此本发明在无论是在速度大小的估计，速度方向估计还是目标位置追踪中都有良好的表现，具有一定精确度，可以证明本发明的优异性能。图12示出了根据本发明实施例的一种位置确定装置的框图。如图所示，位置确定装置1200包括：变换模块1210、生成模块1220、求解模块1230、第一确定模块1240、第二确定模块1250和调整模块1260。根据本发明实施例，变换模块1210用于在第t时刻，对每个接收机的信道状态信息进行变换处理，得到对应于每个接收机的频率偏移信息，其中，t≥0。根据本发明实施例，生成模块1220用于针对每个接收机，根据频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数，其中，接收机包括一个可用的接收天线。根据本发明实施例，求解模块1230用于对每两个目标频率偏移函数进行求解，得到对象的位移集合。根据本发明实施例，第一确定模块1240用于基于预设挑选方法从位移集合中确定目标位移信息，其中，目标位移信息包括目标速度信息和初始运动方向。根据本发明实施例，第二确定模块1250用于根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重，其中，夹角是根据发射机的位置、接收机的位置以及目标位移信息确定的。根据本发明实施例，调整模块1260用于利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整，得到目标运动方向，其中，第t时刻下对象的位置信息包括目标速度信息和目标运动方向。根据本发明的实施例，通过频率偏移信息、发射机的载波频率、对象的位移参数，生成目标频率偏移函数；对每两个目标频率偏移函数进行求解，得到对象的位移集合；基于预设挑选方法从位移集合中确定目标位移信息；根据目标速度信息与每个接收机之间的夹角，确定对应于不同频率偏移标识的偏移权重；利用多个偏移权重和多个频率偏移标识，对初始运动方向进行调整。因此至少部分地克服了现有技术中只能利用两根天线的CSI数据共轭相乘或者相除来消除随机相位偏移，实现使用一根天线的CSI数据来完成无接触目标位置追踪，减小了从WiFi设备的多根天线中获取的CSI随机相位偏移对DFS的影响，达到利用单天线的WiFi设备实现高精度的位置追踪。根据本发明实施例，变换模块1210包括：变换单元。变换单元用于针对每个信道状态信息，利用连续小波变换方法处理信道状态信息的幅值，得到频率偏移信息。根据本发明实施例，第一确定模块1240包括：聚类单元、筛选单元、第一确定单元。聚类单元用于利用预设聚类方法对位移集合进行聚类处理，得到K个初始聚簇，其中，K是根据位移集合中位移信息的数量确定的。筛选单元用于利用预设筛选方法对多个初始聚簇进行处理，得到目标聚簇。第一确定单元基于预设选取方法，从目标聚簇中多个位移信息中确定目标位移信息。根据本发明实施例，筛选单元包括：第一确定子单元、第一计算子单元和第二确定子单元。第一确定子单元用于针对每个初始聚簇，在初始聚簇中位移信息的数量满足第一数量条件的情况下，将初始聚簇确定为中间聚簇。第一计算子单元用于计算每个中间聚簇的聚集度。第二确定子单元用于将聚集度最大的中间聚簇确定为目标聚簇。根据本发明实施例，确定第一单元包括：第三确定子单元、第二计算子单元和第四确定子单元。第三确定子单元用于根据目标聚簇中多个位移信息确定聚簇中心。第二计算子单元用于计算每个位移信息与聚簇中心之间的聚簇距离。第四确定子单元用于将聚簇距离最小值对应的位移信息确定为目标位移信息。根据本发明开实施例，第二确定模块1250包括：第一生成单元、第二生成单元、第二确定单元、第三确定单元。第一生成单元用于根据多个接收机的信道状态信息之间的协方差，生成对应于每个接收机的频率偏移标识。第二生成单元用于针对每个接收机，根据初始运动方向、发射机的位置、接收机的位置，生成与接收机对应的夹角。第二确定单元用于在夹角大于或等于预设夹角阈值的情况下，确定与接收机对应的频率偏移标识的偏移权重为第一权重。第三确定单元用于在夹角小于预设夹角阈值的情况下，确定与接收机对应的频率偏移标识的偏移权重为第二权重，其中，第一权重大于所述第二权重。根据本发明实施例，调整模块1260包括：第四确定单元、第三生成单元、第五确定单元、第四生成单元。第四确定单元用于针对每个接收机，根据目标速度信息、发射机的载波频率、发射机发射的信号离开所述发射机的出发角和信号到达所述接收机的到达角，确定目标速度信息与接收机之间的理论偏移标识。第三生成单元用于根据多个理论偏移标识、多个所频率偏移标识和多个偏移权重，生成加权速度信息。第五确定单元用于在加权速度信息大于等于预设数值的情况下，将初始运动方向确定为目标运动方向。第四生成单元用于在加权速度信息小于预设数值的情况下，根据初始运动方向和预设角度生成为目标运动方向。根据本发明的实施例的模块、单元、子单元中的任意多个、或其中任意多个的至少部分功能可以在一个模块中实现。根据本发明实施例的模块、单元、子单元中的任意一个或多个可以被拆分成多个模块来实现。根据本发明实施例的模块、单元、子单元中的任意一个或多个可以至少被部分地实现为硬件电路，例如现场可编程门阵列、可编程逻辑阵列、片上系统、基板上的系统、封装上的系统、专用集成电路，或可以通过对电路进行集成或封装的任何其他的合理方式的硬件或固件来实现，或以软件、硬件以及固件三种实现方式中任意一种或以其中任意几种的适当组合来实现。或者，根据本发明实施例的模块、单元、子单元中的一个或多个可以至少被部分地实现为计算机程序模块，当该计算机程序模块被运行时，可以执行相应的功能。例如，变换模块1210、生成模块1220、求解模块1230、第一确定模块1240、第二确定模块1250和调整模块1260中的任意多个可以合并在一个模块/单元/子单元中实现，或者其中的任意一个模块/单元/子单元可以被拆分成多个模块/单元/子单元。或者，这些模块/单元/子单元中的一个或多个模块/单元/子单元的至少部分功能可以与其他模块/单元/子单元的至少部分功能相结合，并在一个模块/单元/子单元中实现。根据本发明的实施例，变换模块1210、生成模块1220、求解模块1230、第一确定模块1240、第二确定模块1250和调整模块1260中的至少一个可以至少被部分地实现为硬件电路，例如现场可编程门阵列、可编程逻辑阵列、片上系统、基板上的系统、封装上的系统、专用集成电路，或可以通过对电路进行集成或封装的任何其他的合理方式等硬件或固件来实现，或以软件、硬件以及固件三种实现方式中任意一种或以其中任意几种的适当组合来实现。或者，变换模块1210、生成模块1220、求解模块1230、第一确定模块1240、第二确定模块1250和调整模块1260中的至少一个可以至少被部分地实现为计算机程序模块，当该计算机程序模块被运行时，可以执行相应的功能。需要说明的是，本发明的实施例中位置确定装置部分与本发明的实施例中位置确定方法部分是相对应的，位置确定装置部分的描述具体参考位置确定方法部分，在此不再赘述。以上对本发明的实施例进行了描述。但是，这些实施例仅仅是为了说明的目的，而并非为了限制本发明的范围。尽管在以上分别描述了各实施例，但是这并不意味着各个实施例中的措施不能有利地结合使用。本发明的范围由所附权利要求及其等同物限定。不脱离本发明的范围，本领域技术人员可以做出多种替代和修改，这些替代和修改都应落在本发明的范围之内。
