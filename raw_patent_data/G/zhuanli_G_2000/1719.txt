标题title
一种四旋翼无人机吊挂系统的抗摇摆控制方法及控制系统
摘要abst
本发明提供一种四旋翼无人机吊挂系统的抗摇摆控制方法及控制系统，控制方法包括S1：基于坐标变换关系和拉格朗日方程建立动力学模型；S2：在动力学模型的基础上，结合自适应频率估计器和谐波扩张状态观测器得到自适应谐波扩张状态观测器，并利用自适应谐波扩张状态观测器进行扰动估计，得到扰动估计值；S3：利用反步法构建姿态控制器，其中，利用所述扰动估计值补偿所述姿态控制器的反馈校正信号，得到姿态复合控制信号，通过所述姿态复合控制信号控制四旋翼无人机吊挂系统进行抗摇摆动作，本发明通过自适应频率估计器对扰动进行精确估计，相较于传统的扩张状态观测器，更加适用于估计吊挂负载对无人机造成的扰动。
权利要求书clms
1.一种四旋翼无人机吊挂系统的抗摇摆控制方法，其特征在于，所述控制方法包括：S1：基于坐标变换关系和拉格朗日方程建立动力学模型；S2：在动力学模型的基础上，结合自适应频率估计器和谐波扩张状态观测器得到自适应谐波扩张状态观测器，并利用自适应谐波扩张状态观测器进行扰动估计，得到扰动估计值；S3：利用反步法构建姿态控制器，其中，利用所述扰动估计值补偿所述姿态控制器的反馈校正信号，得到姿态复合控制信号，通过所述姿态复合控制信号控制四旋翼无人机吊挂系统进行抗摇摆动作。2.根据权利要求1所述的一种四旋翼无人机吊挂系统的抗摇摆控制方法，其特征在于，S1包括：S101：基于坐标变换关系和拉格朗日方程构建四旋翼无人机吊挂系统的基础动力学模型；S102：根据假定条件简化所述基础动力学模型，得到最终的动力学模型。3.根据权利要求2所述的一种四旋翼无人机吊挂系统的抗摇摆控制方法，其特征在于，S101包括：S101-1：定义惯性坐标系、机体坐标系/＞和期望坐标系/＞，四旋翼无人机在惯性坐标系EI中的位置为，姿态角为/＞，四旋翼无人机的姿态用四元数表示为/＞，四旋翼无人机的期望姿态为/＞，在机体坐标系EB中，四旋翼无人机的角速度为/＞，四旋翼无人机的期望角速度为/＞，姿态角/＞和机体角速度/＞之间的关系为：；其中，；S101-2：定义缆绳与机体连接点在机体坐标系EB中的位置为，吊挂负载在惯性坐标系EI中的位置为/＞，其中，/＞与/＞的关系为：；其中，为摆角, /＞为/＞平面和摆角平面之间的夹角，/＞为缆绳的长度，；S101-3：构建四旋翼无人机吊挂系统的拉格朗日方程L，具体为：；其中，，为四旋翼无人机吊挂系统的七个自由度，，为四旋翼无人机吊挂系统总的动能，/＞代表吊挂负载的质量，/＞代表无人机的质量，/＞，为四旋翼无人机吊挂系统的旋转动能，其中，/＞为对角惯性矩阵，/＞，为四旋翼无人机吊挂系统总的势能，由于总升力/＞和控制信号是非保守力，因此，拉格朗日方程L表示为：；其中，代表非保守力，S101-4：推导得到四旋翼无人机吊挂系统的动力学方程，表示为：；其中，表示/＞自由度下的控制信号的力矩，/＞表示/＞自由度下的控制信号的力矩，/＞表示/＞自由度下的控制信号的力矩，/＞表示/＞自由度下的升力，/＞表示/＞自由度下的升力，/＞表示/＞自由度下的升力。4.根据权利要求3所述的一种四旋翼无人机吊挂系统的抗摇摆控制方法，其特征在于，S102包括：S102-1：假设四旋翼无人机匀速飞行，即，在实际任务中/＞，因此/＞，将四旋翼无人机吊挂系统的动力学方程简化为：；其中，；/＞；S102-2：若吊挂负载的摆角满足小角度近似条件时，得到/＞和，将四旋翼无人机吊挂系统的动力学方程进一步简化为：；计算得到摆角为：；其中，A0和x0代表与初始状态管理的未知幅值和相角，最终得到扰动的动力学方程为：；其中，。5.根据权利要求4所述的一种四旋翼无人机吊挂系统的抗摇摆控制方法，其特征在于，S2包括：S201：建立谐波扩张状态观测器的方程，并表示为：；简化为：；其中，代表谐波扩张状态观测器的状态，/＞代表/＞的估计量，/＞表示谐波扩张状态观测器的增益；S202：建立自适应频率估计器，并表示为：；其中，，/＞，/＞是/＞的估计值，/＞，，参数/＞的估计值为：；其中，＞ 0 是任意实数，/＞是/＞的第2i+1个量，得到干扰的频率为：或/＞；S203：串联自适应频率估计器和谐波状态观测器，得到自适应谐波扩张状态观测器。6.根据权利要求1所述的一种四旋翼无人机吊挂系统的抗摇摆控制方法，其特征在于，S3包括：S301：定义第一个李雅普诺夫函数为：；并求导，得到虚拟控制律为：；S302：定义姿态角速度误差和虚拟控制输入/＞之间的误差为：；S303：定义第二个李亚普诺夫函数为：；并求导，得到控制信号为：。7.一种四旋翼无人机抗摇摆控制系统，其特征在于，包括动力模型构建模块，用于基于坐标变换关系和拉格朗日方程建立动力学模型；扰动估计模块，用于在动力学模型的基础上，结合自适应频率估计器和谐波扩张状态观测器得到自适应谐波扩张状态观测器，并利用自适应谐波扩张状态观测器进行扰动估计，得到扰动估计值；控制模块，用于利用反步法构建姿态控制器，其中，利用所述扰动估计值补偿所述姿态控制器的反馈校正信号，得到姿态复合控制信号，通过所述姿态复合控制信号控制四旋翼无人机吊挂系统进行抗摇摆动作。
说明书desc
技术领域本发明涉及无人机技术领域，尤其涉及一种四旋翼无人机吊挂系统的抗摇摆控制方法及控制系统。背景技术四旋翼无人机结构简单可靠、动作灵敏、可操控性强，在低速悬停、垂直起降、定点投送等方面具有显著优势。因此，近年来四旋翼无人机在军事和民用领域得到广泛应用，如：航拍摄影、搜捕救援、物资投送等。在四旋翼无人机进行货物运输时，货物一般通过绳索吊挂于四旋翼无人机下方，货物、绳索和四旋翼无人机共同构成四旋翼无人机吊挂系统。四旋翼无人机吊挂的方法，能减少四旋翼无人机机体的惯性，从而保证了四旋翼无人机姿态变化的快速性。因此，无人机吊挂在物资运输和物资投送中具有显著优势，近年来，对四旋翼吊挂系统的研究受到国内外研究人员的广泛关注。在实际应用中，吊挂重物会在外部扰动或无人机加速度的影响下摆动，而吊挂重物的摆动将会对四旋翼无人机吊挂系统的稳定性产生影响。为了提高系统的稳定性，抑制或消除吊挂重物的摆动已经得到广泛关注。在易碎、易燃和易爆等危险物品的运输中，吊挂重物的抗摇摆控制显得尤为重要。为了解决这一问题，现有技术提出一种基于能量的非线性控制器，其旨在跟踪四旋翼飞行器的位置，减小吊挂重物的摆角。还提出了一种基于谐波扩张状态观测器的干扰和不确定性估计与衰减策略，通过对负载摆动对机体产生扰动的估计与补偿，实现吊挂负载的抗摇摆控制。但是上述研究大多集中在电缆长度恒定且已知的情况下，而忽略了实际作业任务中绳长无法获得或无法准确获得的情况。在实际作业任务中，为了保证四旋翼无人机在各种情况下的可靠运输，需要对缆绳的长度进行相应的变化。然而，在缆绳长度变化的过程中，需要多次测量获得绳长的准确值和多次控制器参数的调整，这会耗费大量时间或无法在工程现场进行。此外，确定四旋翼无人机和吊挂负载重心的过程是一项费时费力的任务，同时提高了获得缆绳精确长度的难度。由于缆绳作为四旋翼无人机与负载的连接，缆绳长度的变化将直接影响负载的动力学和四旋翼的运动控制。因此，在四旋翼无人机吊挂系统的研究中减少对缆绳长度信息的依赖是非常必要的。发明内容为解决上述技术问题，本发明提供一种四旋翼无人机吊挂系统的抗摇摆控制方法及控制系统，由姿态控制器和自适应谐波扩张状态观测器组成的扰动和不确定性估计与衰减控制策略，其中姿态控制器用于根据参考姿态与四旋翼无人机实际姿态之间的关系得到初步控制信号，在缆绳长度未知情况下，自适应谐波扩张状态观测器用于估计吊挂负载摆动和外界干扰对无人机产生的扰动，然后在初步控制信号中对估计的扰动进行补偿得到最终的控制信号，保证无人机稳定飞行。本发明提供的一种四旋翼无人机吊挂系统的抗摇摆控制方法，控制方法包括：S1：基于坐标变换关系和拉格朗日方程建立动力学模型；S2：在动力学模型的基础上，结合自适应频率估计器和谐波扩张状态观测器得到自适应谐波扩张状态观测器，并利用自适应谐波扩张状态观测器进行扰动估计，得到扰动估计值；S3：利用反步法构建姿态控制器，其中，利用所述扰动估计值补偿所述姿态控制器的反馈校正信号，得到姿态复合控制信号，通过所述姿态复合控制信号控制四旋翼无人机吊挂系统进行抗摇摆动作。优选的，所述步骤S1包括：S101：基于坐标变换关系和拉格朗日方程构建四旋翼无人机吊挂系统的基础动力学模型；S102：根据假定条件简化所述基础动力学模型，得到最终的动力学模型。优选的，所述步骤S101包括：S101-1：定义惯性坐标系、机体坐标/＞和期望坐标/＞，四旋翼无人机在惯性坐标系EI中的位置/＞，姿态角为/＞，四旋翼无人机的姿态用四元数表示为，四旋翼无人机的期望姿态为/＞，在机体坐标系EB中，四旋翼无人机的角速度为/＞，四旋翼无人机的期望角速度为/＞，姿态角/＞和机体角速度/＞之间的关系为：；其中，；S101-2：定义缆绳与机体连接点在机体坐标系EB中的位置为，吊挂负载在惯性坐标系/＞中的位置为/＞，其中，/＞与/＞的关系为：；其中，为摆角, /＞为/＞平面和摆角平面之间的夹角，/＞为缆绳的长度，；S101-3：构建四旋翼无人机吊挂系统的拉格朗日方程L，具体为：；其中，，为四旋翼无人机吊挂系统的七个自由度，，为四旋翼无人机吊挂系统总的动能，/＞代表吊挂负载的质量，代表无人机的质量，/＞，为四旋翼无人机吊挂系统的旋转动能，其中，/＞为对角惯性矩阵，/＞，为四旋翼无人机吊挂系统总的势能，由于总升力/＞和控制信号是非保守力，因此，拉格朗日方程L表示为：；其中，代表非保守力，S101-4：推导得到四旋翼无人机吊挂系统的动力学方程，表示为：；其中，表示/＞自由度下的控制信号的力矩，/＞表示/＞自由度下的控制信号的力矩，表示/＞自由度下的控制信号的力矩，/＞表示/＞自由度下的升力，/＞表示/＞自由度下的升力，表示/＞自由度下的升力。优选的，所述步骤S102包括：S102-1：假设四旋翼无人机匀速飞行，即，在实际任务中/＞，因此，将四旋翼无人机吊挂系统的动力学方程简化为：；其中，，/＞；S102-2：若吊挂负载的摆角满足小角度近似条件时，得到/＞和/＞，将四旋翼无人机吊挂系统的动力学方程进一步简化为：；计算得到摆角为：；其中，A0和代表与初始状态的未知幅值和相角，；其中，。优选的，所述步骤S2包括：S201：建立谐波扩张状态观测器的方程，并表示为：；简化为：；其中，代表谐波扩张状态观测器的状态，/＞代表/＞的估计量，/＞表示谐波扩张状态观测器的增益；S202：建立自适应频率估计器，并表示为：；其中，，/＞，/＞是/＞的估计值，，/＞，参数/＞的估计值为：；其中，＞0 是任意实数，/＞是/＞的第2i+1个量，得到干扰的频率为：或/＞；S203：串联自适应频率估计器和谐波状态观测器，得到自适应谐波扩张状态观测器。优选的，所述步骤S3包括：S301：定义第一个李雅普诺夫函数为：；并求导，得到虚拟控制律为：；S302：定义姿态角速度误差和虚拟控制输入/＞之间的误差为：；S303：定义第二个李亚普诺夫函数为：；并求导，得到控制信号为：。一种四旋翼无人机抗摇摆控制系统，包括动力模型构建模块，用于基于坐标变换关系和拉格朗日方程建立动力学模型；扰动估计模块，用于在动力学模型的基础上，结合自适应频率估计器和谐波扩张状态观测器得到自适应谐波扩张状态观测器，并利用自适应谐波扩张状态观测器进行扰动估计，得到扰动估计值；控制模块，用于利用反步法构建姿态控制器，其中，利用所述扰动估计值补偿所述姿态控制器的反馈校正信号，得到姿态复合控制信号，通过所述姿态复合控制信号控制四旋翼无人机吊挂系统进行抗摇摆动作。与相关技术相比较，本发明提供的一种四旋翼无人机吊挂系统的抗摇摆控制方法及控制系统具有如下有益效果：本发明通过小角度近似得到扰动的数学模型，并根据扰动的数学模型设计合适的自适应频率估计器，通过自适应频率估计器对扰动的频率进行自适应估计，同时设计了谐波扩张状态观测器，并与自适应频率估计器结合，形成自适应谐波扩张状态观测器，以对扰动进行精确估计，相较于传统的扩张状态观测器，更加适用于估计吊挂负载对无人机造成的扰动。附图说明图1为本发明一种四旋翼无人机吊挂系统的抗摇摆控制方法的流程示意图；图2为本发明一种四旋翼无人机吊挂系统的位置关系结构示意图；图3为本发明一种四旋翼无人机吊挂系统的抗摇摆控制系统的控制原理线框图；图4为本发明实施例三的四旋翼无人机的横滚角在不同控制模式下的对比图；图5为本发明实施例三的四旋翼无人机的俯仰角在不同控制模式下的对比图；图6为本发明实施例三的四旋翼无人机的偏航角在不同控制模式下的对比图；图7为本发明实施例三的四旋翼无人机在自适应谐波扩张状态观测器与扩张状态观测器两种控制模式下的观测误差对比图；图8为本发明实施例三的自适应频率估计器输出的频率示意图。具体实施方式下面结合附图和实施方式对本发明做进一步说明。实施例一本发明提供了一种基于自适应谐波扩张状态观测器的四旋翼无人机吊挂系统抗摇摆控制方法，以有效地抑制负载的摆动，参考图1至图3所示，其所述控制方法包括如下步骤：S1：基于坐标变换关系和拉格朗日方程建立动力学模型。具体的，步骤S1包括以下步骤：步骤S101：基于坐标变换关系和拉格朗日方程构建四旋翼无人机吊挂系统的基础动力学模型。在本实施例中，步骤S101具体操作为：首先，定义惯性坐标系、机体坐标系/＞和期望坐标系/＞来描述四旋翼无人机吊挂系统的运动特性。四旋翼无人机在惯性坐标系/＞中的位置为/＞，姿态角为/＞。四旋翼无人机的姿态用四元数表示为/＞。在机体坐标系EB中，四旋翼无人机的角速度为/＞。姿态角和机体角速度/＞之间的关系为：；其中，。其次，定义缆绳与机体连接点在机体坐标系EB中的位置为，吊挂负载的在惯性坐标系/＞中的位置为/＞，其与四旋翼无人机在惯性坐标系/＞中的位置/＞的关系为：；其中，为摆角，/＞为/＞平面和摆角平面之间的夹角，/＞为缆绳的长度，。四旋翼无人机吊挂系统包含七个自由度，并将其定义为：；四旋翼无人机吊挂系统总的动能可以表示为：；四旋翼无人机吊挂系统旋转动能可以表示为：；其中，为对角惯性矩阵。四旋翼无人机吊挂系统总的势能可以表示为：；四旋翼无人机吊挂系统的拉格朗日方程可以表示为：；由于，总升力和控制信号/＞是非保守力，所以系统的欧拉-拉格朗日方程可以表示为：；其中，代表非保守力。最终，四旋翼无人机吊挂系统的动力学方程可以被推导为：；步骤S102：根据假定条件简化所述基础动力学模型，得到最终的动力学模型。在本实施例中，步骤S102具体操作为：假设四旋翼无人机匀速飞行，即，在实际任务中/＞，因此/＞，因此，可以将四旋翼无人机吊挂系统的姿态动力学方程简化为：；其中，，/＞。当吊挂负载的摆角满足小角度近似条件时，可以得到/＞和/＞，上述方程可以进一步简化为：；可以计算得到摆角为：；其中，A0和代表和初始状态有关的未知幅值和相角。通过计算我们可以最终得到扰动的动力学模型：；其中，。S2：在动力学模型的基础上，结合自适应频率估计器和谐波扩张状态观测器得到自适应谐波扩张状态观测器，并利用自适应谐波扩张状态观测器进行扰动估计，得到扰动估计值。在本实施例中，步骤S2具体为：由于扰动可以表示为：；其中，。将扰动表示为状态方程的形式：；其中，，/＞，/＞，是系统的状态，代表干扰的余项。由于在方向的旋转动力学方程为：；定义为一个新的状态向量，系统可以表示为：；基于上式，谐波扩张状态观测器可以表示为：；其中，代表谐波扩张状态观测器的状态，/＞代表/＞的估计量，/＞表示谐波扩张状态观测器的增益。为了实现对干扰频率的估计，设计自适应频率估计器。干扰信号可以表示为：；其传递函数为：；其中，。选择一个Hurwitz多项式为：；对y进行变换：；/＞当u为0时，将上式化为状态空间形式：；其中，，/＞，/＞。是/＞的估计值，/＞是/＞的估计值. /＞表示为：；自适应频率估计器可以定义为：；参数的估计值为：；其中，＞0 是任意实数，/＞是/＞的第2i+1个量。因此，干扰的频率为：或/＞；将自适应频率估计器串联于谐波扩张状态观测器之前得到自适应谐波扩张状态观测器，实现对未知绳长下的干扰估计。S3：利用反步法构建姿态控制器，其中，利用所述扰动估计值补偿所述姿态控制器的反馈校正信号，得到姿态复合控制信号，通过所述姿态复合控制信号控制四旋翼无人机吊挂系统进行抗摇摆动作。在本实施例中，步骤S3具体为：采用反步法进行姿态控制器的设计。首先，设计一个虚拟控制律保证姿态误差收敛到零；选择李雅普诺夫函数为：；通过计算其导数并保证其始终为负得虚拟控制律为：；然后，设计控制信号u保证姿态角速度误差可以精确跟踪虚拟控制输入/＞。/＞定义姿态角速度误差和虚拟控制输入/＞之间的误差为：；为了保证四旋翼无人机吊挂系统的稳定性，选择李亚普诺夫函数为：；通过计算其导数，并保证其始终为负，可以得到控制信号为：；本发明提供的一种四旋翼无人机吊挂系统的抗摇摆控制方法的工作原理如下：本发明通过小角度近似得到扰动的数学模型，并根据扰动的数学模型设计合适的自适应频率估计器，通过自适应频率估计器对扰动的频率进行自适应估计，同时设计了谐波扩张状态观测器，并与自适应频率估计器结合，以形成自适应谐波扩张状态观测器对扰动进行精确估计，相较于传统的扩张状态观测器，更加适用于估计吊挂负载对无人机造成的扰动。实施例二一种四旋翼无人机抗摇摆控制系统，包括动力模型构建模块，用于基于坐标变换关系和拉格朗日方程建立动力学模型；扰动估计模块，用于在动力学模型的基础上，结合自适应频率估计器和谐波扩张状态观测器得到自适应谐波扩张状态观测器，并利用自适应谐波扩张状态观测器进行扰动估计，得到扰动估计值；控制模块，用于利用反步法构建姿态控制器，其中，利用所述扰动估计值补偿所述姿态控制器的反馈校正信号，得到姿态复合控制信号，通过所述姿态复合控制信号控制四旋翼无人机吊挂系统进行抗摇摆动作。实施例三利用matlab进行仿真分析，在仿真中模拟四旋翼无人机在某一固定姿态下的抗扰能力，设置四旋翼无人机的期望姿态角为。同时为了验证本申请所提出控制算法的有效性，将该算法与传统基于扩张状态观测器的控制方法进行比较，图3、4、5分别为四旋翼无人机的横滚角，俯仰角和偏航角在不同控制算法下的稳定性。通过比较可以发现，相较于传统的扩张状态观测器，本申请所提出的控制算法有较好的抗扰能力。图6为自适应谐波扩张状态观测器与扩张状态观测器观测误差的比较，可以发现自适应谐波扩张状态观测器的观测误差大大减小。图7为自适应频率估计器的估计值，由于扰动中噪声的存在，使得估计值发生抖动，但是对实际控制效果的影响较小。本申请是参照根据本申请实施例的方法、设备和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框，以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。本领域普通技术人员可以理解上述实施例的各种方法中的全部或部分步骤是可以通过程序来指令相关的硬件来完成，该程序可以存储于一种计算机可读存储介质中，存储介质包括只读存储器、随机存储器、可编程只读存储器、可擦除可编程只读存储器、一次可编程只读存储器、电子抹除式可复写只读存储器、只读光盘或其他光盘存储器、磁盘存储器、磁带存储器，或者能够用于携带或存储数据的计算机可读的任何其他介质。还需要说明的是，术语“包括”“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、商品或者设备中还存在另外的相同要素。
