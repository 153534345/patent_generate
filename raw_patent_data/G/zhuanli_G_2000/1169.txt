标题title
一种长篇工程设计报告中综合说明自动生成方法及系统
摘要abst
本发明公开了一种长篇工程设计报告中综合说明自动生成方法及系统，涉及专业技术报告编制领域。本发明通过将待检测原文本拆分成各个专业文本，对每个专业的专业文本进行句子拆分，对每个句子进行泛读和精读，输出深度理解的句子和句子的Rouge值，再通过多头注意力集中模型和Rouge值预测模型获取深度理解的句子和每个深度理解的句子的Rouge值，进而确定每个专业的专业摘要终稿；将每个专业摘要终稿按照原文本中的专业顺序进行排列，获取综合说明终稿，最终实现了长篇工程设计报告中综合说明自动生成，提高了长篇工程报告中综合说明生成效率与质量。
权利要求书clms
1.一种长篇工程设计报告中综合说明自动生成方法，其特征在于，具体包括如下步骤：步骤S1，获取待检测的原文本，并将所述原文本按照专业进行拆分，获得每个专业的专业文本；步骤S2，对每个专业的专业文本进行句子拆分，对每个句子进行泛读和精读，输出深度理解的句子，根据所述深度理解的句子获取每个深度理解的句子的Rouge值；步骤S3，根据深度理解的句子和所述Rouge值，获取每个专业的专业摘要终稿；步骤S4，将每个所述专业摘要终稿按照原文本中的专业顺序进行排列，获取综合说明终稿；步骤S5，将生成的综合说明终稿收录至训练素材库。2.根据权利要求1所述的一种长篇工程设计报告中综合说明自动生成方法，其特征在于，所述步骤S2具体为：步骤S21，对专业文本进行句子拆分，将拆分后的句子输入泛读模型，输出包含所述专业文本的全局信息的句子；步骤S22，将包含全局信息的句子输入精读模型，输出对所述专业文本中每个句子深度理解的句子；步骤S23，将所述深度理解的句子输入多头注意力集中模型，输出每个深度理解的句子与所述专业文本的相关性结果；步骤S24，将所述每个深度理解的句子和所述相关性结果输入Rouge值预测模型，输出每个深度理解的句子的Rouge值。3.根据权利要求1所述的一种长篇工程设计报告中综合说明自动生成方法，其特征在于，所述步骤S3中，根据深度理解的句子和所述Rouge值，获取每个专业的专业摘要终稿，具体为：步骤S31，将所述Rouge值进行降序排列，获取排在前K个的Rouge值及K个所述Rouge值对应的深度理解的句子，K为摘要长度参数；步骤S32，将K个所述深度理解的句子按照在专业文本中的顺序进行排列，获取专业摘要初稿；步骤S33，对所述专业摘要初稿进行平滑处理，获取专业摘要终稿。4.根据权利要求2所述的一种长篇工程设计报告中综合说明自动生成方法，其特征在于，所述泛读模型采用NLP模型，用于获取包含专业文本的全局信息的句子，具体为：步骤S211，将专业文本的第1个句子放入隐空间，获得句子1的隐空间；步骤S212，根据第2个句子和句子1的隐空间，获得句子2的隐空间，所述句子2的隐空间同时带有第1、第2个句子的信息；步骤S213，以此类推，直至根据第N个句子和句子N-1的隐空间，获得句子N的隐空间，所述句子N的隐空间中包含专业文本的全局信息的句子，N为专业文本的句子数量。5.根据权利要求2所述的一种长篇工程设计报告中综合说明自动生成方法，其特征在于，所述精读模型采用NLP模型，用于获取每个深度理解的句子，具体为：步骤S221，根据专业文本的第1个句子及泛读阶段获取的包含专业文本的全局信息的句子，获得深度理解的第1个句子；步骤S222，根据专业文本的第2个句子及泛读阶段获取的包含专业文本的全局信息的句子，输出深度理解的第2个句子；步骤S223，以此类推，直至获取深度理解的所有的N个句子。6.根据权利要求2所述的一种长篇工程设计报告中综合说明自动生成方法，其特征在于，所述多头注意力集中模型采用MLP模型，用于采用多头注意力集中机制计算每个深度理解的句子与专业文本的相关性结果；所述相关性结果为每个深度理解的句子的数值和权重。7.根据权利要求2所述的一种长篇工程设计报告中综合说明自动生成方法，其特征在于，所述Rouge值预测模型采用MLP模型，用于根据所述每个深度理解的句子及相关性结果获取每个句子的Rouge值。8.根据权利要求2所述的一种长篇工程设计报告中综合说明自动生成方法，其特征在于，所述Rouge值预测模型的损失函数L为：；其中，N为句子的数量，pi为多头注意力集中模型输出的第i个句子的权重，yi为多头注意力集中模型输出的第i个句子的数值，ri为Rouge值预测模型输出的第i个句子的Rouge值。9.根据权利要求3所述的一种长篇工程设计报告中综合说明自动生成方法，其特征在于，所述步骤S33中，所述平滑处理的算法为Ernie算法。10.一种长篇工程设计报告中综合说明自动生成系统，使用如权利要求1-9任一项所述的长篇工程设计报告中综合说明自动生成方法，其特征在于，包括如下模块：数据获取模块：用于获取待检测的原文本，并将所述原文本按照专业进行拆分，获得每个专业的专业文本；Rouge值计算模块：与所述数据获取模块连接，用于对每个专业的专业文本进行句子拆分，对每个句子进行泛读和精读，输出深度理解的句子，根据所述深度理解的句子获取每个深度理解的句子的Rouge值；专业摘要生成模块：与所述Rouge值计算模块连接，用于根据深度理解的句子和所述Rouge值，获取每个专业的专业摘要终稿；综合说明生成模块，与所述专业摘要生成模块连接，用于将每个所述专业摘要终稿按照原文本中的专业顺序进行排列，获取综合说明终稿；数据收录模块，与所述综合说明生成模块连接，用于将生成的综合说明终稿收录至训练素材库。
说明书desc
技术领域本发明涉及专业技术报告编制领域，尤其涉及一种长篇工程设计报告中综合说明自动生成方法及系统。背景技术在设计型企业中，工程设计报告是其核心产品，涉及项目从规划、勘测、设计到建设的各个阶段以及多个专业。设计报告篇幅长，涉及专业众多，文档编制、生成花费公司大量的人力、物力，成为所有设计人员日常主要的工作内容。特别是摘要和综合说明的编写中，既要求编辑人员对专业技术十分熟悉，又要求对整个报告的布局、重点、技术方向等有充分的把控。现有技术中，已有短篇文档的摘要生成技术，但仅仅是基于词频实现摘要的合成，而长篇设计报告中，篇幅多、内容多、设计的技术、关键点也多，单纯的依靠词频，会导致生成的摘要准确性低，因此亟需长篇工程设计报告中综合说明自动生成方法。因此，需要借助数字化技术研究长篇工程设计报告中综合说明自动生成方法，提高长篇工程报告中摘要和综合说明生成效率与质量，实现生产方式的创新。发明内容针对现有技术存在的缺陷，本发明提出一种长篇工程设计报告中综合说明自动生成方法，具体包括如下步骤：步骤S1，获取待检测的原文本，并将所述原文本按照专业进行拆分，获得每个专业的专业文本；步骤S2，对每个专业的专业文本进行句子拆分，对每个句子进行泛读和精读，输出深度理解的句子，根据所述深度理解的句子获取每个深度理解的句子的Rouge值；步骤S3，根据深度理解的句子和所述Rouge值，获取每个专业的专业摘要终稿；步骤S4，将每个所述专业摘要终稿按照原文本中的专业顺序进行排列，获取综合说明终稿；步骤S5，将生成的综合说明终稿收录至训练素材库。进一步的，所述步骤S2具体为：步骤S21，对专业文本进行句子拆分，将拆分后的句子输入泛读模型，输出包含所述专业文本的全局信息的句子；步骤S22，将包含全局信息的句子输入精读模型，输出对所述专业文本中每个句子深度理解的句子；步骤S23，将所述深度理解的句子输入多头注意力集中模型，输出每个深度理解的句子与所述专业文本的相关性结果；步骤S24，将所述每个深度理解的句子和所述相关性结果输入Rouge值预测模型，输出每个深度理解的句子的Rouge值。进一步的，所述步骤S3中，根据深度理解的句子和所述Rouge值，获取每个专业的专业摘要终稿，具体为：步骤S31，将所述Rouge值进行降序排列，获取排在前K个的Rouge值及K个所述Rouge值对应的深度理解的句子，K为摘要长度参数；步骤S32，将K个所述深度理解的句子按照在专业文本中的顺序进行排列，获取专业摘要初稿；步骤S33，对所述专业摘要初稿进行平滑处理，获取专业摘要终稿。进一步的，所述泛读模型采用NLP模型，用于获取包含专业文本的全局信息的句子，具体为：步骤S211，将专业文本的第1个句子放入隐空间，获得句子1的隐空间；步骤S212，根据第2个句子和句子1的隐空间，获得句子2的隐空间，所述句子2的隐空间同时带有第1、第2个句子的信息；步骤S213，以此类推，直至根据第N个句子和句子N-1的隐空间，获得句子N的隐空间，所述句子N的隐空间中包含专业文本的全局信息的句子，N为专业文本的句子数量。进一步的，所述精读模型采用NLP模型，用于获取每个深度理解的句子，具体为：步骤S221，根据专业文本的第1个句子及泛读阶段获取的包含专业文本的全局信息的句子，获得深度理解的第1个句子；步骤S222，根据专业文本的第2个句子及泛读阶段获取的包含专业文本的全局信息的句子，输出深度理解的第2个句子；步骤S223，以此类推，直至获取深度理解的所有的N个句子。进一步的，所述多头注意力集中模型采用MLP模型，用于采用多头注意力集中机制计算每个深度理解的句子与专业文本的相关性结果；所述相关性结果为每个深度理解的句子的数值和权重。进一步的，所述Rouge值预测模型采用MLP模型，用于根据所述每个深度理解的句子及相关性结果获取每个句子的Rouge值。进一步的，所述Rouge值预测模型的损失函数L为：；其中，N为句子的数量，pi为多头注意力集中模型输出的第i个句子的权重，yi为多头注意力集中模型输出的第i个句子的数值，ri为Rouge值预测模型输出的第i个句子的Rouge值。进一步的，所述步骤S33中，所述平滑处理的算法为Ernie算法。一种长篇工程设计报告中综合说明自动生成系统，使用如上任一项所述的长篇工程设计报告中综合说明自动生成方法，包括如下模块：数据获取模块：用于获取待检测的原文本，并将所述原文本按照专业进行拆分，获得每个专业的专业文本；Rouge值计算模块：与所述数据获取模块连接，用于对每个专业的专业文本进行句子拆分，对每个句子进行泛读和精读，输出深度理解的句子，根据所述深度理解的句子获取每个深度理解的句子的Rouge值；专业摘要生成模块：与所述Rouge值计算模块连接，用于根据深度理解的句子和所述Rouge值，获取每个专业的专业摘要终稿；综合说明生成模块，与所述专业摘要生成模块连接，用于将每个所述专业摘要终稿按照原文本中的专业顺序进行排列，获取综合说明终稿；数据收录模块，与所述综合说明生成模块连接，用于将生成的综合说明终稿收录至训练素材库。与现有技术相比较，本发明的有益效果在于：其一，本发明通过将待检测的原文本拆分成各个专业文本，对每个专业的专业文本处理，获取每个专业的专业摘要终稿；再根据原文本中的顺序进行排序，进而获取综合说明终稿，最终实现了长篇工程设计报告中综合说明自动生成，相较于现有技术以词频为依据的摘要生成方法，本发明通过获取含有全局信息的句子，再计算句子的Rouge值，根据Rouge值获取与原文相关性最高的句子，提高了长篇工程报告中综合说明生成结果的准确率，实现了生产方式的创新；其二，本发明采用四个模型依次连接，泛读模型和精读模型采用NLP模型，相较于采用单个的模型，可以使句子分析模型更加充分、准确的理解所有句子的含义；多头注意力集中模型采用MLP模型，对所述N个深度理解的句子进行处理，获取句子的相关性结果；Rouge值预测模型采用MLP模型，根据所述N个深度理解的句子及句子的相关性结果计算每个句子的Rouge值，最终使得句子分析模型充分结合了每个模型的特点，为综合说明的生成提供准确的数据基础，提升模型输出结果的准确性。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明综合说明自动生成方法流程图；图2为本发明综合说明自动生成系统的示意图。具体实施方式下面将结合附图对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。本领域技术人员应当知晓，下述具体实施例或具体实施方式，是本发明为进一步解释具体的发明内容而列举的一系列优化的设置方式，而该些设置方式之间均是可以相互结合或者相互关联使用的，除非在本发明明确提出了其中某些或某一具体实施例或实施方式无法与其他的实施例或实施方式进行关联设置或共同使用。同时，下述的具体实施例或实施方式仅作为最优化的设置方式，而不作为限定本发明的保护范围的理解。下面结合附图对本发明的具体实施方式做出说明。本发明提出了一种长篇工程设计报告中综合说明自动生成方法，具体包括如下步骤：步骤S1，获取待检测的原文本，并将所述原文本按照专业进行拆分，获得每个专业的专业文本。工程设计报告的篇幅长、设计专业众多，在编制时，会为每个专业撰写一个专业摘要，因此每一个专业的报告作为一个待检测的文本，通过对每一个专业进行摘要生成，再将每个专业的摘要进行汇总，实现长篇工程设计报告中综合说明自动生成。步骤S2，对每个专业的专业文本进行句子拆分，对每个句子进行泛读和精读，输出深度理解的句子，根据所述深度理解的句子获取每个深度理解的句子的Rouge值。所述步骤S2具体为：步骤S21，对专业文本进行句子拆分，将拆分后的句子输入泛读模型，输出包含所述专业文本的全局信息的句子。所述泛读模型采用NLP模型，用于获取包含专业文本的全局信息的句子，具体为：步骤S211，将专业文本的第1个句子放入隐空间，获得句子1的隐空间；步骤S212，根据第2个句子和句子1的隐空间，获得句子2的隐空间，所述句子2的隐空间同时带有第1、第2个句子的信息；步骤S213，以此类推，直至根据第N个句子和句子N-1的隐空间，获得句子N的隐空间，所述句子N的隐空间中包含专业文本的全局信息的句子，N为专业文本的句子数量。泛读模型，被广泛应用于自然语言理解、自然语言生成、文本分类、语音识别、机器翻译、情感分析、信息抽取等领域。随着大数据和人工智能技术的发展，NLP的应用范围越来越广泛，被广泛应用于智能客服、智能家居、智能医疗、智能金融等领域。因此，本发明采用NLP模型构建泛读模型和精读模型。所述泛读模型用于获取获取具有全局信息的句子，具体为对每个句子进行如下操作：根据第n个句子与前n-1个句子的隐空间计算得到第n个句子的隐空间，1＜n≤N，N为原文本的句子数，并且所述第N个句子的隐空间带有所有句子的全局信息；泛读模型参数为：隐含层数为2层，每层含有512个神经元，激活函数为Relu函数，优化器为Adam，学习速率为3e-4，并按照0.005的速度衰减。步骤S22，将包含全局信息的句子输入精读模型，输出对所述专业文本中每个句子深度理解的句子。所述精读模型采用NLP模型，用于获取每个深度理解的句子，具体为：步骤S221，根据专业文本的第1个句子及泛读阶段获取的包含专业文本的全局信息的句子，获得深度理解的第1个句子；步骤S222，根据专业文本的第2个句子及泛读阶段获取的包含专业文本的全局信息的句子，输出深度理解的第2个句子；步骤S223，以此类推，直至获取深度理解的所有的N个句子。泛读模型是一种前馈人工神经网络模型，其将输入的多个数据集映射到单一的输出的数据集上，能够处理非线性问题，通过学习合适的权重和偏差来建立输入与输出的映射关系，被广泛用于机器学习和深度学习任务。长篇工程设计报告篇幅长，涉及专业众多，在编制综合说明时，只需要获取有限的关键信息，提取相对于整个专业来说更加重要的内容，以免生成的综合说明篇幅太长，冗余信息多。所述多头注意力集中模型采用MLP模型，用于采用多头注意力集中对所述N个深度理解的句子进行处理，增强模型对于不同特征的关注度，获取的句子的相关性结果也更准确。多头注意力集中模型的参数为：算法为attention，隐含层数为2层，每层含有512个神经元，激活函数为Relu函数或softmax函数，输出维度为64，头个数为12，优化器为Adam，学习速率为3e-4，并按照0.005的速度衰减。本发明在研究过程中对头个数进行了不同的设置，包括：4、8、12、16，经过研究发现，当头个数设置为12时，能够保证数据精读又能够满足模型训练的效率注意力集中机制是通过某种运算来直接计算得到句子在编码过程中每个位置上的注意力权重，然后再以权重和的形式来计算得到整个句子的隐含向量表示，本发明中目的是为了找到句子中词与词之间的相关性，忽略句子中不重要的部分，重点关注句子上下文所要表达的意思，更能准确的输出语意信息。但在实际语境中，词与词的相关性不止一种，尤其在专业报告中，所以本发明使用多头来计算不同种类的相关性，然后softmax函数得到每种相关性的权重，通过加权平均得到最终输出。步骤S24，将所述每个深度理解的句子和所述相关性结果输入Rouge值预测模型，输出每个深度理解的句子的Rouge值。所述Rouge值预测模型采用MLP模型，用于根据所述每个深度理解的句子及相关性结果获取每个句子的Rouge值。所述Rouge值预测模型的参数为：算法为MLP，隐含层数为2层，每层含有512个神经元，激活函数为Relu函数，输出维度为1，优化器为Adam，学习速率为3e-4，并按照0.005的速度衰减。本发明引入了Rouge自动化文档匹配评估指标，Rouge是一套评估指标集，用来评估一段模型生成的摘要文本与原文本在语义上的相似度，本发明使用这套评估指标用来评估在原始文档中所选取的段落、句子集合和综合说明中的摘要文本的相似度，Rouge值越高，则说明被选取的段落或句子集合和摘要文本越相似，也就间接说明该集合中的文本越应该被包括在摘要文本中。上述各个模型训练的数据集来源与训练素材库。从训练素材库中获取用于模型训练的专业文本数据和相应的原始专业摘要；本次数据集为问答摘要与推理数据集，数据规模共82943条数据，数据集主要有6个字段，分别为QID、Brank、Model、Question、Dialogue以及Report。分别对应问题ID、品牌、型号、问题、对话以及报告。通过选择合适的损失函数以获得最佳的训练效果。所述Rouge值预测模型的损失函数为： ；其中，N为句子的数量，pi为多头注意力集中模型输出的第i个句子的权重，yi为多头注意力集中模型输出的第i个句子的数值，ri为Rouge值预测模型输出的第i个句子的Rouge值。选取该损失函数对Rouge值预测模型进行训练，综合了多头注意力集中模型的输出，使得Rouge值预测模型能够综合考虑多头注意力集中模型得到的句子间的相关性结果，不仅使各个前后的连接更接紧密，最终预测结果的准确率也更高。本发明通过结合多头注意力集中模型输出的每个深度理解的句子的数值和权重来计算Rouge值预测模型的损失函数值，使得模型输出的结果能够充分结合不同类型的文本数据，并且可以自适应地学习不同的特征，选择上述损失函数用于解决样本不平衡问题，提高模型对少数类别的关注度，提高模型预测结果的准确性。步骤S3，根据深度理解的句子和所述Rouge值，获取每个专业的专业摘要终稿。所述步骤S3中，根据深度理解的句子和所述Rouge值，获取每个专业的专业摘要终稿，具体为：步骤S31，将所述Rouge值进行降序排列，获取排在前K个的Rouge值及K个所述Rouge值对应的深度理解的句子，K为摘要长度参数。选择排在前K个的句子组成专业摘要，可以使得生成的专业摘要与专业文本在语义上的相似度更高。实际应用中，可根据原文本的长度、专业文本的长度、设计需要等对K的取值进行调整。步骤S32，将K个所述深度理解的句子按照在专业文本中的顺序进行排列，获取专业摘要初稿；根据专业文本中的顺序进行排列，使得获得的专业摘要初稿尽量的满足前后的逻辑关系，为下一步处理提供更加准确的数据基础。步骤S33，对所述专业摘要初稿进行平滑处理，获取专业摘要终稿。对所述专业摘要初稿进行平滑处理具体为：通过Ernie算法平滑处理句子与句子之间的连接关系，以使得句子之间的连接顺畅。Ernie是百度提出的一种预训练语言模型，基于深度学习框架Paddle实现。Ernie模型基于Transformer结构，与BERT模型类似，充分利用了自注意力机制来捕获长距离的依赖关系。旨在对各种不同类型的知识进行建模，从而提高自然语言理解任务的性能。Ernie模型引入了多粒度知识建模：不仅关注词的表示，还关注短语、实体和句子的表示。这种多粒度的知识建模有助于捕捉语言中的丰富结构；提出了连续语义融入策略：ERNIE 在预训练阶段将实体识别和语义关系挖掘融入其中，从而更好地理解句子的语义；实现了知识增强：利用大量的知识图谱数据，在预训练阶段将结构化知识融入到模型中，从而提高了模型的知识表示能力。最终实现更丰富的知识建模、更好的语义理解、结构化知识融合。步骤S4，将每个所述专业摘要终稿按照原文本中的专业顺序进行排列，获取综合说明终稿；经过本步操作，最终自动生成原文档的综合说明。综合说明即为整个长篇工程设计报告的说明文档，由各个专业的专业摘要构成，在各个专业的摘要完成后，按顺序排列即可构成整个长篇工程设计报告的综合说明。步骤S5，将生成的综合说明终稿收录至训练素材库。为之后句子分析模型的训练提供更多、更准确的数据基础。实施例2一种长篇工程设计报告中综合说明自动生成系统，使用如实施例1中任一项所述的一种长篇工程设计报告中综合说明自动生成方法，包括如下模块：数据获取模块：用于获取待检测的原文本，并将所述原文本按照专业进行拆分，获得每个专业的专业文本；Rouge值计算模块：与所述数据获取模块连接，用于对每个专业的专业文本进行句子拆分，对每个句子进行泛读和精读，输出深度理解的句子，根据所述深度理解的句子获取每个深度理解的句子的Rouge值；专业摘要生成模块：与所述Rouge值计算模块连接，用于根据深度理解的句子和所述Rouge值，获取每个专业的专业摘要终稿；综合说明生成模块，与所述专业摘要生成模块连接，用于将每个所述专业摘要终稿按照原文本中的专业顺序进行排列，获取综合说明终稿；数据收录模块，与所述综合说明生成模块连接，用于将生成的综合说明终稿收录至训练素材库。本发明通过将待检测的原文本拆分成各个专业文本，对每个专业的专业文本进行处理，获取每个专业的专业摘要终稿；再根据各个专业在原文本中的顺序进行排序，进而获取综合说明终稿，最终实现了长篇工程设计报告中综合说明自动生成，相较于现有技术以词频为依据的摘要生成方法，本发明通过获取含有全局信息的句子，再计算句子的Rouge值，根据Rouge值获取与原文相关性最高的句子，提高了长篇工程报告中综合说明生成结果的准确率，实现了生产方式的创新；在摘要生成阶段，本发明采用四个模型依次连接，泛读模型和精读模型采用NLP模型，相较于采用单个的模型，可以使句子分析模型更加充分、准确的理解所有句子的含义；多头注意力集中模型采用MLP模型，对所述N个深度理解的句子进行处理，获取句子的相关性结果；Rouge值预测模型采用MLP模型，根据所述N个深度理解的句子及句子的相关性结果计算每个句子的Rouge值，最终使得句子分析模型充分结合了每个模型的特点，为综合说明的生成提供准确的数据基础，提升模型输出结果的准确性。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围。
