标题title
一种港口吊装设备在数字孪生场景下的定位方法
摘要abst
本发明涉及数字孪生场景的定位算法领域，具体涉及一种港口吊装设备在数字孪生场景下的定位方法，包括：S1：根据堆场区四角经纬度构建堆场广场的虚拟模型；S2：获取吊装设备上GPS所在位置的经纬度，判断吊装设备是否在堆场区域；S3：通过比对吊装设备的实时经纬度与历史经纬度数据，矫正吊装设备所在点位；与现有技术相比，本发明的有益效果是：本发明所述的定位方法通过判断及矫正吊装设备的实时位置，及其与矫正参考线的位置关系，实现了对原始经纬度的相应矫正，确保吊装设备位置在数字孪生环境中准确显示。
权利要求书clms
1.一种港口吊装设备在数字孪生场景下的定位方法，其特征在于，包括： S1：根据堆场区四角经纬度构建堆场广场的虚拟模型； S2：获取吊装设备上GPS所在位置的经纬度，判断吊装设备是否在堆场区域； S3：在堆场区域内时，通过比对吊装设备的实时经纬度与最近历史经纬度数据，矫正吊装设备所在点位； S4：循环矫正步骤，直至矫正后点位与参考线的垂直距离小于10厘米，停止循环，并使数字孪生场景内吊装设备返回最终矫正后的经纬度。2.根据权利要求1所述的港口吊装设备在数字孪生场景下的定位方法，其特征在于，所述步骤S1中，构建堆场广场的虚拟模型包括： A1：根据堆场区四角经纬度坐标构建堆场边线，并计算各边长度； A2：选取长度较短的两相对边，获取其经纬度坐标； A3：计算步骤A2中选取的两条边的中点经纬度坐标，两中点相连后的中线作为堆场区的矫正参考线。3.根据权利要求1所述的港口吊装设备在数字孪生场景下的定位方法，其特征在于，所述步骤S2中，判断吊装设备是否在堆场区域采用如下方式：连续定位N次吊装设备所在坐标，如N次均不在堆场区域内，则判定吊装设备位于堆场外侧，孪生场景内显示为定位所在经纬度坐标；反之，如N次均在堆场区域，则判定吊装设备位于堆场区域内，并修正孪生场景内当前显示经纬度坐标为最后一次在堆场区域内的经纬度坐标。4.根据权利要求1所述的港口吊装设备在数字孪生场景下的定位方法，其特征在于，所述步骤S3中，矫正吊装设备所在点位包括： T1：构建计算模型，以获取计算用辅助点位及辅助线； T2：通过海伦公式计算吊装设备当前位置与矫正参考线的垂直距离，并分解为经度方向距离和纬度方向距离； T3：通过物理长度转经纬度算法将上述的经度方向距离长度和纬度方向距离长度转换为经纬度； T4：根据计算出的经纬度，判断吊装设备与矫正参考线的位置关系，矫正吊装设备的原始经纬度，获得矫正后的新经纬度。5.根据权利要求4所述的港口吊装设备在数字孪生场景下的定位方法，其特征在于，所述步骤T4中，判断吊装设备与矫正参考线的位置关系，矫正吊装设备的原始经纬度采用如下具体方式：判断吊装设备位于矫正参考线上方或下方；若吊装设备位于矫正参考线上方，则将原纬度减分解纬度，原经度加分解经度；若吊装设备位于矫正参考线下方，则将原纬度加分解纬度、原经度减分解经度。6.根据权利要求4所述的港口吊装设备在数字孪生场景下的定位方法，其特征在于：下一循环步骤中的原始经纬度为上一循环矫正中所得出的矫正后经纬度。
说明书desc
技术领域本发明涉及数字孪生场景的定位算法领域，具体涉及一种港口吊装设备在数字孪生场景下的定位方法。背景技术港口轮胎吊起重机在数字孪生场景下的定位算法是一种用于确定轮胎吊起重机在虚拟数字孪生环境中精确位置的算法，该算法利用传感器数据、地理信息和可能的机器学习技术，将实际设备的运动和姿态等信息映射到数字孪生系统中，以在虚拟环境中准确模拟和跟踪轮胎吊起重机的位置和状态。然而，当前存在技术挑战，即如何仅通过GPS数据而无需进行现场施工或设备更换，来准确显示轮胎吊起重机的真实位置，GPS只能得知吊装设备的大致位置，无法精确显示在数字孪生场景中，由于轨道吊起重机和轮胎吊起重机在堆场上的操作方式和所使用的定位设备不同，因此无法直接复用已有的GPS解决方案。因此，如何在只有一个不准确的GPS设备情况下，通过算法计算出准确的位置坐标，并准确显示于数字孪生场景中，确保港口堆场正常运行，无需施工或更换设备，以实现数字孪生场景中轮胎吊起重机位置的精确显示，不仅可以再较小改动的情况下实现数字孪生场景的应用，还具有良好的经济效益、社会效益及工程应用潜力，这正是本发明得以完成的动力所在和基础。发明内容具体而言，本发明所要解决的技术问题是：提供一种港口吊装设备在数字孪生场景下的定位方法，通过GPS即可实现数字孪生场景的实时定位，以解决上述背景技术中提出的问题。为实现上述目的，本发明提供如下技术方案：一种港口吊装设备在数字孪生场景下的定位方法，包括： S1：根据堆场区四角经纬度构建堆场广场的虚拟模型； S2：获取吊装设备上GPS所在位置的经纬度，判断吊装设备是否在堆场区域； S3：通过比对吊装设备的实时经纬度与历史经纬度数据，矫正吊装设备所在点位； S4：循环矫正步骤，直至矫正后点位与参考线的垂直距离小于10厘米，停止循环，并使数字孪生场景内吊装设备返回最终矫正后的经纬度。在本发明中，作为一种改进，所述步骤S1中，构建堆场广场的虚拟模型包括： A1：根据堆场四角经纬度坐标构建堆场边线，并计算各边长度； A2：选取长度较短的两相对边，获取其经纬度坐标； A3：计算步骤A2中选取的两条边的中点经纬度坐标，两中点相连后的中线作为堆场区的矫正参考线。在本发明中，作为一种改进，所述步骤S2中，判断吊装设备是否在堆场区域采用如下方式：连续定位N次吊装设备所在坐标，如N次均不在堆场区域内，则判定吊装设备位于堆场外侧，孪生场景内显示为定位所在经纬度坐标；反之，如N次均在堆场区域，则判定吊装设备位于堆场区域内，并修正孪生场景内当前显示经纬度坐标为最后一次在堆场区域内的经纬度坐标。在本发明中，作为一种改进，所述步骤S3中，矫正吊装设备所在点位包括： T1：构建计算模型，以获取计算用辅助点位及辅助线； T2：通过海伦公式计算吊装设备当前位置与矫正参考线的垂直距离，并分解为经度方向距离和纬度方向距离； T3：通过物理长度转经纬度算法将上述的经度方向距离长度和纬度方向距离长度转换为经纬度； T4：根据计算出的经纬度，判断吊装设备与矫正参考线的位置关系，矫正吊装设备的原始经纬度，获得矫正后的新经纬度。在本发明中，作为一种改进，所述步骤T4中，判断吊装设备与矫正参考线的位置关系，矫正吊装设备的原始经纬度采用如下具体方式：判断吊装设备位于矫正参考线上方或下方；若吊装设备位于矫正参考线上方，则将原纬度减分解纬度，原经度加分解经度；若吊装设备位于矫正参考线下方，则将原纬度加分解纬度、原经度减分解经度。在本发明中，作为一种改进，矫正吊装设备的原始经纬度的具体计算方法如下：建立计算模型，所述模型中b点为吊装设备所在点，a点为矫正点，d点和e点为矫正参考线两端点，c点为计算辅助点；通过两点经纬度转物理长度算法计算线段bd、线段de、线段be的物理长度；利用海伦公式计算线段ab的物理长度； bc平行于纬度线，ac垂直于bc交于c点，∠cab=α，计算线段ac和bc的长度，其中线段ac的长度表示经度上需要位移的距离，线段bc的长度表示经度上需要位移的距离；通过物理长度转经纬度算法，将线段ac和线段bc的物理长度转换为经纬度长度并将其与吊装设备的原始经纬度进行加减，得到矫正后的新经纬度。在本发明中，作为一种改进，下一循环步骤中的原始经纬度为上一循环矫正中所得出的矫正后经纬度。与现有技术相比，本发明的有益效果是： 本发明所述的定位方法通过判断及矫正吊装设备的实时位置，及其与矫正参考线的位置关系，实现了对原始经纬度的相应矫正，确保吊装设备位置在数字孪生环境中准确显示。本发明通过仅有一个GPS设备的情况下，实现了在数字孪生场景中精确显示吊装设备的位置，无需进行现场施工或更换设备，以确保港口堆场的正常运行。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍。在所有附图中，类似的元件或部分一般由类似的附图标记标识。附图中，各元件或部分并不一定按照实际的比例绘制。图1为本发明定位方法的流程示意图；图2为本发明定位矫正参考线的流程示意图；图3为本发明S2步骤的流程示意图；图4为本发明矫正经纬度线的流程示意图；图5为本发明矫正经纬度的计算示意图；图6为本发明矫正参考线示意图。具体实施方式下面将结合附图对本发明技术方案的实施例进行详细的描述。以下实施例仅用于更加清楚地说明本发明的技术方案，因此只作为示例，而不能以此来限制本发明的保护范围。实施例一本申请公开了一种港口吊装设备在数字孪生场景下的定位方法，数字孪生场景与实际港口堆场区相匹配，吊装设备包括行走式龙门架及安装与龙门架上的吊装小车，小车在龙门架上横向移动，龙门架的纵向行走构成为纵向吊装移动，小车在龙门架上的横向移动，则限定横向吊装位置，GPS安装于吊装小车上，GPS的实时位置为吊装设备限定横向及纵向点位后所在的吊装位置，所述定位方法如图1所示，具体包括： S1：构建堆场广场的虚拟模型，虚拟模型为数字孪生场景内的模型，与实际堆场区域相匹配，其中，包括堆场区域及矫正参考线，堆场区域为正方形或长方形区域，构建时首先获取堆场区的四个边角经纬度； S2：获取吊装设备上GPS所在位置的经纬度，判断吊装设备是否在堆场区域，未检测到在堆场区域，则默认其在厂区内部道路； S3：通过比对吊装设备的实时经纬度与历史经纬度数据，矫正吊装设备所在点位，所述历史数据为最近m次吊装设备在堆场区域的定位数据，其中，m至少为11次，通过实验数据表明，至少比对最近11次循环后可得出更为准确的矫正数据。S4：循环矫正步骤，直至矫正后点位与参考线的垂直距离小于10厘米，停止循环，并使数字孪生场景内吊装设备显示点位返回最终矫正后的经纬度。如图2所示，步骤S1中，构建广场的虚拟模型采用如下方式： A1：获取堆场区四个边角的经纬度坐标，并根据四个边角坐标计算出堆场四条边的长度； A2：选取较短的两条相对边，获取其经纬度坐标，其中，采用物理长度转经纬度算法将边的长度转为经纬度，所述算法为现有技术中的经纬度和距离转换算法； A3：计算步骤A2中选取的两条边的中点经纬度坐标，两中点相连后的中线作为堆场区的矫正参考线，如图6所示，虚线为矫正参考线，参考线周围的四条边构成单一堆场区，堆场区可连续设置多个。所述步骤S2中，判断吊装设备是否在堆场区域采用如下方式：连续定位N次吊装设备所在坐标，N大于等于3，如N次均不在堆场区域内，则判定吊装设备位于堆场外侧的内部道路处，在孪生场景内显示为定位所在经纬度坐标，无需坐标矫正；反之，如N次均在堆场区域，则判定吊装设备位于堆场区域内，修正孪生场景内当前显示经纬度坐标为最后一次在堆场区域内的经纬度坐标。如图3所示，所述步骤S3中，矫正吊装设备所在点位包括： T1：构建计算模型，以获取计算用辅助点位及辅助线； T2：通过海伦公式计算吊装设备当前位置与矫正参考线的垂直距离，并分解为经度方向距离和纬度方向距离； T3：通过物理长度转经纬度算法将上述的经度方向距离长度和纬度方向距离长度转换为经纬度； T4：根据计算出的经纬度，判断吊装设备与矫正参考线的位置关系，矫正吊装设备的原始经纬度，获得矫正后的新经纬度。如图4所示，循环上述步骤中，上次矫正后的新经纬度作为下次矫正的原始经纬度，以此，不断比对历史数据和实时经纬度，直至矫正后点位与参考线的垂直距离小于10厘米。其中，步骤T4中，判断吊装设备与矫正参考线的位置关系包括系统自动判断吊装设备在矫正参考线上方或下方，如图6所示，上方下方指图中方向，当吊装设备位于矫正参考线上方时，将原纬度减分解纬度，原经度加分解经度，当吊装设备位于矫正参考线下方时，将原纬度加分解纬度，原经度减分解经度，从而矫正吊装设备原始经纬度。实施例二本实施例中，具体说明步骤S3中矫正吊装设备所在点位的具体技术方式，如下：建立计算模型，如图5所示，所述模型中b点为吊装设备所在点，a点为矫正点，d点和e点为矫正参考线两端点，c点为计算辅助点；通过两点经纬度转物理长度算法计算线段bd、线段de、线段be的物理长度；利用海伦公式计算线段ab的物理长度； bc平行于纬度线，ac垂直于bc交于c点，∠cab=α，计算线段ac和bc的长度，其中线段ac的长度表示经度上需要位移的距离，线段bc的长度表示经度上需要位移的距离；通过物理长度转经纬度算法，将线段ac和线段bc的物理长度转换为经纬度长度并将其与吊装设备的原始经纬度进行加减，得到矫正后的新经纬度。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围，其均应涵盖在本发明的权利要求和说明书的范围当中。
