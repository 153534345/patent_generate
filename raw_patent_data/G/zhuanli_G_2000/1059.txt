标题title
一种书写轨迹相似度评估方法及处理设备
摘要abst
本申请涉及一种书写轨迹相似度评估方法及处理设备。其中书写轨迹相似度评估方法首先分别对模拟轨迹图、参考轨迹图进行特征点提取，然后进行特征点匹配，并根据匹配结果对特征点进行类别划分。随后结合各特征点的类别识别并统计异常特征点，根据各类别下特征点的数目、异常特征点的数目计算第一书写轨迹与第二书写轨迹的相似度。在确定异常特征点以及计算书写轨迹相似度时，均有考虑特征点所属的类别，并不将这些特征点一视同仁，有利于使对书写特点表现力强的特征点中的异常得到重点关注，淡化对书写特征表现力弱的特征点的异常，从而提升书写轨迹相似度评估的准确性，为书写轨迹相似度在各领域的应用提供可靠、可信赖的基础。
权利要求书clms
1.一种书写轨迹相似度评估方法，其特征在于，所述书写轨迹相似度评估方法包括：分别对互为对照的模拟轨迹图、参考轨迹图进行特征点提取得到第一特征点集合、第二特征点集合，所述模拟轨迹图中包含第一书写轨迹，所述参考轨迹图中包含第二书写轨迹；匹配所述第一特征点集合与所述第二特征点集合中的特征点，为所述特征点在对照图片的所述特征点中寻找匹配点，并根据匹配结果对所述特征点进行类别划分；结合各所述特征点的类别识别并统计异常特征点；根据各所述类别下所述特征点的数目、所述异常特征点的数目计算所述第一书写轨迹与所述第二书写轨迹的相似度。2.如权利要求1所述的书写轨迹相似度评估方法，其特征在于，所述匹配所述第一特征点集合与所述第二特征点集合中的特征点，为所述特征点在对照图片的所述特征点中寻找匹配点包括：对于任意一所述特征点，为其确定匹配点时将其作为目标点，计算所述目标点与所述对照图片中各所述特征点的距离；从所述对照图片的各所述特征点中选择与所述目标点距离最小的一个作为所述目标点的匹配点。3.如权利要求1所述的书写轨迹相似度评估方法，其特征在于，所述类别中包括一类点与二类点，根据各所述类别下所述特征点的数目、所述异常特征点的数目计算所述第一书写轨迹与所述第二书写轨迹的相似度包括：根据所述一类点的数目、所述一类点中所述异常特征点的数目、所述一类点对应的第一权重，以及所述二类点的数目、所述二类点中所述异常特征点的数目、所述二类点对应的第二权重，计算所述第一书写轨迹与所述第二书写轨迹的差异度，所述第一权重大于所述第二权重；根据所述差异度确定所述第一书写轨迹与所述第二书写轨迹的相似度。4.如权利要求3所述的书写轨迹相似度评估方法，其特征在于，计算所述第一书写轨迹与所述第二书写轨迹的差异度包括：根据以下公式计算所述第一书写轨迹与所述第二书写轨迹的相似度：其中，D为所述差异度；Q1、Q2分别为所述第一权重、所述第二权重；N1、N2分别为所述一类点的数目、所述二类点的数目；d1、d2分别为所述一类点中所述异常特征点的数目、所述二类点中所述异常特征点的数目。5.如权利要求3所述的书写轨迹相似度评估方法，其特征在于，所述一类点包括端点、转折点、远距离点中的至少一种，所述远距离点为同其匹配点间距离超过第一距离阈值的特征点；所述二类点包括线条组成点，所述线条组成点为形成书写轨迹中平滑线条的特征点。6.如权利要求1至5任一项所述的书写轨迹相似度评估方法，其特征在于，所述分别对互为对照的模拟轨迹图、参考轨迹图进行特征点提取得到第一特征点集合、第二特征点集合包括：对所述模拟轨迹图进行角点提取得到第一角点集合，对所述参考轨迹图进行角点提取得到第二角点集合，并对所述模拟轨迹图进行端点提取得到第一端点集合，对所述参考轨迹图进行端点提取得到第二端点集合；取所述第一角点集合与所述第一端点集合的全集，得到所述第一特征点集合，取所述第二角点集合与所述第二端点集合的全集，得到所述第二特征点集合。7.如权利要求6所述的书写轨迹相似度评估方法，其特征在于，所述类别包括端点、转折点、远距离点以及线条组成点，所述线条组成点为形成书写轨迹中平滑线条的特征点，且所述端点、所述转折点与所述远距离点属于一类点，所述线条组成点属于二类点；所述根据匹配结果对所述特征点进行类别划分包括：将所述第一端点集合与所述第二端点集合中的所述特征点划分为所述端点；将所述第一特征点集合与所述第二特征点集合中去除所述端点后剩余的所述特征点作为第一剩余点集，将所述第一剩余点集内同其匹配点距离大于第一距离阈值的所述特征点划分为所述远距离点；将所述第一剩余点集中去除所述远距离点后剩余的所述特征点作为第二剩余点集，从所述第二剩余点集中识别出所述转折点；将所述第二剩余点集中去除所述转折点后剩余的所述特征点划分为所述线条组成点。8.如权利要求7所述的书写轨迹相似度评估方法，其特征在于，所述从所述第二剩余点集中识别出所述转折点包括：对于所述第二剩余点集中的任意一所述特征点，将所述特征点作为目标特征点，并以所述目标特征点为中心形成预设第一尺寸的第一截取窗口；以所述第一截取窗口对所述目标特征点所在的书写轨迹进行截取得到若干第一截断点；若所述第一截断点数目大于等于3，则将所述目标特征点划分为所述转折点；若所述第一截断点数目小于3，则以矩形框对所述第一截取窗口进行遍历，确定所述书写轨迹在所述矩形框内的轮廓数，所述矩形框包括横向矩形框与纵向矩形框，所述横向矩形框与所述第一截取窗口同宽，其高度为1；所述纵向矩形框与所述第一截取窗口同高，其宽度为1；如果遍历过程中所述矩形框内轮廓数大于等于2的情况出现两次以上，则将所述目标特征点划分为所述转折点；如果遍历过程中所述矩形框内轮廓数大于等于2的情况不足两次，则确定两个所述第一截断点的中间点，并计算由所述中间点以及两所述第一截断点确定的且以所述中间点为顶点的第一夹角，若所述第一夹角的大小满足预设条件，则将所述目标特征点划分为所述转折点，否则所述目标特征点不属于所述转折点。9.如权利要求7所述的书写轨迹相似度评估方法，其特征在于，所述结合各所述特征点的类别识别并统计异常特征点包括：对于所有的所述远距离点，异常识别时均被识别为异常特征点；对于任一所述端点，异常识别时以所述端点作为目标端点，分别计算所述对照图片的各所述端点与所述目标端点的距离，若所述目标端点与所述对照图片中所述端点的最小距离超过第二距离阈值，则所述目标端点为异常特征点，所述第二距离阈值小于所述第一距离阈值；统计所述端点中所述异常特征点的数目作为第一异常端点数，并计算所述第一端点集合与所述第二端点集合中所述端点的数目差值作为第二异常端点数；计算所述第一异常端点数与所述第二异常端点数的和值作为所述端点中所述异常特征点的数目；对于任一所述线条组成点，异常识别时将所述线条组成点作为目标线条点，分别以所述目标线条点、所述目标线条点的匹配点为中心形成尺寸均为预设第二尺寸的第二截取窗口、第三截取窗口；分别采用所述第二截取窗口、第三截取窗口对所述目标线条点所在的书写轨迹、所述目标线条点的匹配点所在的书写轨迹进行截取，分别截取得到两第二截取点、两第三截取点；计算由所述目标线条点与两所述第二截断点确定的，且以所述目标线条点为顶点的第二夹角，以及计算由所述目标线条点的匹配点与两所述第三截断点确定的，且以所述目标线条点的匹配点为顶点的第三夹角；若所述第二夹角与所述第三夹角的差值大于预设第一角度阈值，且两所述第二截取点之间的线段分别同X轴、Y轴方向的余弦值中至少一个大于预设余弦阈值，则识别所述目标线条点为异常特征点；若所述第二夹角与所述第三夹角的差值大于预设第一角度阈值，且两所述第三截取点之间的线段分别同X轴、Y轴方向的余弦值中至少一个大于预设余弦阈值，则识别所述目标线条点的匹配点为异常特征点；对于任一所述转折点，异常识别时将所述转折点作为目标转折点，分别以所述目标转折点、所述目标转折点的匹配点为中心形成尺寸均为第三预设尺寸的第四截取窗口、第五截取窗口；分别采用所述第四截取窗口、所述第五截取窗口对所述目标转折点所在书写轨迹、所述目标转折点的匹配点所在的书写轨迹进行截取；若所述第四截取窗口得到的第四截断点、所述第五截取窗口得到的第五截断点数目不相等，则识别所述目标转折点及其匹配点为异常特征点；若所述第四截断点、所述第五截断点的数目均为2，则计算由所述目标转折点与两所述第四截断点确定的，且以所述目标转折点为顶点的第四夹角，以及计算由所述目标转折点的匹配点与两所述第五截断点确定的，且以所述目标转折点的匹配点为顶点的第五夹角，若所述第四夹角与所述第五夹角的差值大于预设第二角度阈值，则识别所述目标转折点及其匹配点为异常特征点；若所述第四截断点、所述第五截断点数目超过2，则以所述目标转折点为起点，各所述第四截断点为终点确定多个第一方向矢量，以所述目标转折点的匹配点为起点，各所述第五截断点为终点确定多个第二方向矢量；对各所述第一方向矢量与各所述第二方向矢量匹配成对，并计算各方向矢量对中所述第一方向矢量、所述第二方向矢量间的第六夹角，若最大的所述第六夹角超过预设第三角度阈值，则识别所述目标转折点及其匹配点为异常特征点。10.一种处理设备，其特征在于，包括处理器、存储器以及通信总线，所述通信总线用于实现所述处理器与所述存储器之间的通信连接，所述处理器用于执行存储在所述存储器中的计算机程序，以实现如权利要求1至9中任一项所述的书写轨迹相似度评估方法。
说明书desc
技术领域本申请涉及软件技术领域，尤其是涉及一种书写轨迹相似度评估方法及处理设备。背景技术目前计算机进行书写轨迹鉴定主要基于直方图对比、结构相似性对比、均值哈希对比、感知哈希对比、SIFT或SURF对比几种方式，但这些算法的误匹配率比较高，严重影响了书写轨迹鉴定结果的准确性。所以，如何提升书写轨迹鉴定结果的准确性是目前亟待解决的技术问题。发明内容为了提升书写轨迹相似度评估的准确性，本申请提供了一种书写轨迹相似度评估方法及处理设备。第一方面，本申请提供的一种书写轨迹相似度评估方法，所述书写轨迹相似度评估方法包括：分别对互为对照的模拟轨迹图、参考轨迹图进行特征点提取得到第一特征点集合、第二特征点集合，所述模拟轨迹图中包含第一书写轨迹，所述参考轨迹图中包含第二书写轨迹；匹配所述第一特征点集合与所述第二特征点集合中的特征点，为所述特征点在对照图片的所述特征点中寻找匹配点，并根据匹配结果对所述特征点进行类别划分；结合各所述特征点的类别识别并统计异常特征点；根据各所述类别下所述特征点的数目、所述异常特征点的数目计算所述第一书写轨迹与所述第二书写轨迹的相似度。通过采用上述技术方案，在书写轨迹相似度评估过程中，对模拟轨迹图与参考轨迹图进行特征点提取后可以对两幅图的特征点进行匹配，为每个特征点在对照图片的特征点中找到匹配点，然后根据匹配结果对特征点进行类别划分，并根据特征点所属的类别识别其是否是异常特征点，一个特征点被识别为异常特征点则说明在对照图片中不存在与该特征点足够相似的特征点，所以异常特征点在一定程度上体现了两幅书写轨迹之间的差异。随后在计算模拟轨迹图中第一书写轨迹与参考轨迹图第二书写轨迹的相似度时，根据各类别下特征点的数目、异常特征点的数目计算第一书写轨迹与第二书写轨迹的相似度。由于不同类别特征点对书写特点的表现力不同，所以本申请提供的书写轨迹相似度评估方案，在确定异常特征点以及计算书写轨迹相似度时均有考虑特征点所属的类别，并不将这些特征点一视同仁，有利于使得书写特点表现力强的特征点中的异常得到重点关注，淡化对书写特征表现力弱的特征点的异常，从而提升书写轨迹相似度评估的准确性，为书写轨迹相似度在各领域的应用提供可靠、可信赖的基础。可选地，所述匹配所述第一特征点集合与所述第二特征点集合中的特征点，为所述特征点在对照图片的所述特征点中寻找匹配点包括：对于任意一所述特征点，为其确定匹配点时将其作为目标点，计算所述目标点与所述对照图片中各所述特征点的距离；从所述对照图片的各所述特征点中选择与所述目标点距离最小的一个作为所述目标点的匹配点。通过采用上述技术方案，在对第一特征点集合与第二特征点集合中的特征点进行匹配时，可以计算对照图片中各特征点与目标点的距离，然后取最小距离对应的一个特征点作为目标点的匹配点，这样可以采用相对简单的方式实现模拟轨迹图与参照轨迹图中特征点的“对齐”，降低了书写轨迹相似度评估方法的复杂度。可选地，所述类别中包括一类点与二类点，根据各所述类别下所述特征点的数目、所述异常特征点的数目计算所述第一书写轨迹与所述第二书写轨迹的相似度包括：根据所述一类点的数目、所述一类点中所述异常特征点的数目、所述一类点对应的第一权重，以及所述二类点的数目、所述二类点中所述异常特征点的数目、所述二类点对应的第二权重，计算所述第一书写轨迹与所述第二书写轨迹的差异度，所述第一权重大于所述第二权重；根据所述差异度确定所述第一书写轨迹与所述第二书写轨迹的相似度。通过采用上述技术方案，针对特征点中的一类点赋予较高的第一权重，针对二类点赋予相对较低的第二权重，这样相对提升了一类点对书写轨迹相似度评估结果的影响力，相对降低了二类点对书写轨迹相似度评估结果的影响力，有利于提升书写轨迹相似度计算的准确性。可选地，计算所述第一书写轨迹与所述第二书写轨迹的差异度包括：根据以下公式计算所述第一书写轨迹与所述第二书写轨迹的相似度：其中，D为所述差异度；Q1、Q2分别为所述第一权重、所述第二权重；N1、N2分别为所述一类点的数目、所述二类点的数目；d1、d2分别为所述一类点中所述异常特征点的数目、所述二类点中所述异常特征点的数目。可选地，所述一类点包括端点、转折点、远距离点中的至少一种，所述远距离点为同其匹配点间距离超过第一距离阈值的特征点；所述二类点包括线条组成点，所述线条组成点为形成书写轨迹中平滑线条的特征点。通过采用上述技术方案，将端点、转折点与远距离点等承载了较多书写特征、较多书写特色的特征点划分为一类点，在参与书写轨迹相似度计算时具有较高的影响力；而对于书写轨迹中平滑线条上的特征点，因为承载的书写特征较少，所以被划分为二类点，在参与书写轨迹相似度计算时的影响力相对较低，该技术方案相对全面地考虑了笔记中各类特征点及其重要程度，增强了书写轨迹相似度计算的可信性。可选地，所述分别对互为对照的模拟轨迹图、参考轨迹图进行特征点提取得到第一特征点集合、第二特征点集合包括：对所述模拟轨迹图进行角点提取得到第一角点集合，对所述参考轨迹图进行角点提取得到第二角点集合，并对所述模拟轨迹图进行端点提取得到第一端点集合，对所述参考轨迹图进行端点提取得到第二端点集合；取所述第一角点集合与所述第一端点集合的全集，得到所述第一特征点集合，取所述第二角点集合与所述第二端点集合的全集，得到所述第二特征点集合。可选地，所述类别包括端点、转折点、远距离点以及线条组成点，所述线条组成点为形成书写轨迹中平滑线条的特征点，且所述端点、所述转折点与所述远距离点属于一类点，所述线条组成点属于二类点；所述根据匹配结果对所述特征点进行类别划分包括：将所述第一端点集合与所述第二端点集合中的所述特征点划分为所述端点；将所述第一特征点集合与所述第二特征点集合中去除所述端点后剩余的所述特征点作为第一剩余点集，将所述第一剩余点集内同其匹配点距离大于第一距离阈值的所述特征点划分为所述远距离点；将所述第一剩余点集中去除所述远距离点后剩余的所述特征点作为第二剩余点集，从所述第二剩余点集中识别出所述转折点；将所述第二剩余点集中去除所述转折点后剩余的所述特征点划分为所述线条组成点。可选地，所述从所述第二剩余点集中识别出所述转折点包括：对于所述第二剩余点集中的任意一所述特征点，将所述特征点作为目标特征点，并以所述目标特征点为中心形成预设第一尺寸的第一截取窗口；以所述第一截取窗口对所述目标特征点所在的书写轨迹进行截取得到若干第一截断点；若所述第一截断点数目大于等于3，则将所述目标特征点划分为所述转折点；若所述第一截断点数目小于3，则以矩形框对所述第一截取窗口进行遍历，确定所述书写轨迹在所述矩形框内的轮廓数，所述矩形框包括横向矩形框与纵向矩形框，所述横向矩形框与所述第一截取窗口同宽，其高度为1；所述纵向矩形框与所述第一截取窗口同高，其宽度为1；如果遍历过程中所述矩形框内轮廓数大于等于2的情况出现两次以上，则将所述目标特征点划分为所述转折点；如果遍历过程中所述矩形框内轮廓数大于等于2的情况不足两次，则确定两个所述第一截断点的中间点，并计算由所述中间点以及两所述第一截断点确定的且以所述中间点为顶点的第一夹角，若所述第一夹角的大小满足预设条件，则将所述目标特征点划分为所述转折点，否则所述目标特征点不属于所述转折点。可选地，所述结合各所述特征点的类别识别并统计异常特征点包括：对于所有的所述远距离点，异常识别时均被识别为异常特征点；对于任一所述端点，异常识别时以所述端点作为目标端点，分别计算所述对照图片的各所述端点与所述目标端点的距离，若所述目标端点与所述对照图片中所述端点的最小距离超过第二距离阈值，则所述目标端点为异常特征点，所述第二距离阈值小于所述第一距离阈值；统计所述端点中所述异常特征点的数目作为第一异常端点数，并计算所述第一端点集合与所述第二端点集合中所述端点的数目差值作为第二异常端点数；计算所述第一异常端点数与所述第二异常端点数的和值作为所述端点中所述异常特征点的数目；对于任一所述线条组成点，异常识别时将所述线条组成点作为目标线条点，分别以所述目标线条点、所述目标线条点的匹配点为中心形成尺寸均为预设第二尺寸的第二截取窗口、第三截取窗口；分别采用所述第二截取窗口、第三截取窗口对所述目标线条点所在的书写轨迹、所述目标线条点的匹配点所在的书写轨迹进行截取，分别截取得到两第二截取点、两第三截取点；计算由所述目标线条点与两所述第二截断点确定的，且以所述目标线条点为顶点的第二夹角，以及计算由所述目标线条点的匹配点与两所述第三截断点确定的，且以所述目标线条点的匹配点为顶点的第三夹角；若所述第二夹角与所述第三夹角的差值大于预设第一角度阈值，且两所述第二截取点之间的线段分别同X轴、Y轴方向的余弦值中至少一个大于预设余弦阈值，则识别所述目标线条点为异常特征点；若所述第二夹角与所述第三夹角的差值大于预设第一角度阈值，且两所述第三截取点之间的线段分别同X轴、Y轴方向的余弦值中至少一个大于预设余弦阈值，则识别所述目标线条点的匹配点为异常特征点；对于任一所述转折点，异常识别时将所述转折点作为目标转折点，分别以所述目标转折点、所述目标转折点的匹配点为中心形成尺寸均为第三预设尺寸的第四截取窗口、第五截取窗口；分别采用所述第四截取窗口、所述第五截取窗口对所述目标转折点所在书写轨迹、所述目标转折点的匹配点所在的书写轨迹进行截取；若所述第四截取窗口得到的第四截断点、所述第五截取窗口得到的第五截断点数目不相等，则识别所述目标转折点及其匹配点为异常特征点；若所述第四截断点、所述第五截断点的数目均为2，则计算由所述目标转折点与两所述第四截断点确定的，且以所述目标转折点为顶点的第四夹角，以及计算由所述目标转折点的匹配点与两所述第五截断点确定的，且以所述目标转折点的匹配点为顶点的第五夹角，若所述第四夹角与所述第五夹角的差值大于预设第二角度阈值，则识别所述目标转折点及其匹配点为异常特征点；若所述第四截断点、所述第五截断点数目超过2，则以所述目标转折点为起点，各所述第四截断点为终点确定多个第一方向矢量，以所述目标转折点的匹配点为起点，各所述第五截断点为终点确定多个第二方向矢量；对各所述第一方向矢量与各所述第二方向矢量匹配成对，并计算各方向矢量对中所述第一方向矢量、所述第二方向矢量间的第六夹角，若最大的所述第六夹角超过预设第三角度阈值，则识别所述目标转折点及其匹配点为异常特征点。第二方面，本申请提供了一种处理设备，包括处理器、存储器以及通信总线，所述通信总线用于实现所述处理器与所述存储器之间的通信连接，所述处理器用于执行存储在所述存储器中的计算机程序，以实现前述任一项所述的书写轨迹相似度评估方法。第三方面，本申请还提供的一种计算机可读存储介质，该计算机可读存储介质存储有书写轨迹相似度评估程序；所述书写轨迹相似度评估程序可被处理器执行时实现上述任一项的书写轨迹相似度评估方法。通过采用上述技术方案，提供了书写轨迹相似度评估方法的计算机程序的载体。综上所述，本申请包括以下至少有益技术效果：在确定异常特征点以及计算书写轨迹相似度时均有考虑特征点所属的类别，有利于使得对书写特点表现力强的特征点中的异常得到重点关注，淡化对书写特征表现力弱的特征点的异常，从而提升书写轨迹相似度评估的准确性。附图说明图1为本申请实施例一中提供的书写轨迹相似度评估方法的一种流程示意图；图2为本申请实施例一中提供的对手写书写轨迹中端点的一种说明示意图；图3为本申请实施例一中提供的提取特征点的一种流程示意图；图4为本申请实施例一中示出的对原图片进行剪切的一种示意图；图5为本申请实施例一中提供的对原图片进行与处理的一种流程示意图；图6为本申请实施例一中示出的对原图片进行细化处理前后的示意图；图7为本申请实施例一中提供的对特征点进行类别划分的一种流程示意图；图8为本申请实施例一中提供的识别转折点的一种流程示意图；图9为本申请实施例一中示出的第一截取窗口对书写轨迹进行截取的一种示意图；图10为本申请实施例一中提供的书写轨迹相似度评估装置的一种结构示意图；图11为本申请实施例一中提供的处理设备的一种硬件结构示意图。附图标记说明：10-目标特征点；11-第一截取窗口；110-第一截断点；20-书写轨迹；30-书写轨迹相似性评估装置；302-特征提取模块；304-匹配分类模块；306-识别统计模块；308-相似度计算模块；40-处理设备；41-处理器；42-存储器；43-通信总线。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本申请，并不用于限定本申请。实施例一：书写轨迹包括人的书写轨迹，也包括机器的书写轨迹，所以书写轨迹的书写者既可以是人也可以是机器。其中人的书写轨迹，又称“笔迹”，是人的一种比较稳定的行为特征，能够用于身份鉴定，例如随着信息技术的飞速发展，人们的生活越发便利，工作与生活中的交易活动、缔约活动等都可以通过线上完成，无须交易双方或缔约双方在线下场合见面，省却了相应的差旅流程，减少了对金钱、时间与精力的耗费。在这种情况下，对交易者或缔约者的身份进行准确迅速的认证就成了必不可少的一环。笔迹带有强烈的个人特色，所以一直以来都是重要的身份认证方式，笔迹鉴定的基础原理就是通过对比确定笔迹的相似度，根据比对对象数目的不同，笔迹鉴定被分为一对一鉴定、一对多鉴定，两者在金融、公安司法等多个领域中均有涉及，所以笔迹相似度评估的准确性对金融安全性、司法公正性都有一定的影响，因此提供准确性更高的笔迹相似度计算方案一直是各领域的共识。对机器的书写轨迹进行相似度评估也同样具有重要意义，例如，通过评估机器书写的模拟轨迹与理论轨迹之间的相似度，可以评估机器的书写精度，进而为提升机器书写的准确度提供依据。基于此，本实施例提供一种书写轨迹相似度评估方法，请参见图1示出的该书写轨迹相似度评估方法的流程示意图：S102：分别对互为对照的模拟轨迹图、参考轨迹图进行特征点提取得到第一特征点集合、第二特征点集合。模拟轨迹图与参考轨迹图是两张包含书写轨迹的图片，其中，模拟轨迹图中包含第一书写轨迹，参考轨迹图中包含第二书写轨迹，第一书写轨迹与第二书写轨迹即是需要确定相似度的两份书写轨迹。“模拟轨迹图”、“参考轨迹图”是为了对两幅待确定书写轨迹相似度的图片进行区分而给出的名称，在其他一些示例中，二者也可以分别具有其他名称，例如“参考轨迹图”可以被称为“对比轨迹图”或“第一轨迹图”，“模拟轨迹图”也可以被称为“第二轨迹图”等，这里不做具体限定。由于本实施例提供的书写轨迹相似度评估方法在一些过程中对模拟轨迹图与参考轨迹图的处理方式是一致的，因此，为了便于介绍，在这些情况下将会把模拟轨迹图与参考轨迹图统称为“轨迹图”，将第一书写轨迹与第二书写轨迹统称为“书写轨迹”。模拟轨迹图与参考轨迹图会为对照，对于模拟轨迹图而言，参考轨迹图即是其对照图片，同样地，对于参考轨迹图，其对照图片即是模拟轨迹图。在图像处理中，所谓“特征点”，主要指的就是能够在其他含有相同场景或相同目标的相似图像中以一种相同的或至少非常相似的不变形式表示图像或目标的点，换言之，对于同一个物体或场景，从不同的角度采集多幅图片，如果相同的地方能够被识别出来是相同的，则这些点或块称为特征点。在本实施例的一些示例中，对轨迹图进行特征点提取时，可以对轨迹图中的书写轨迹进行角点提取。从通常意义上来说，角点就是极值点，即在某方面属性特别突出的点，是在某些属性上强度最大或者最小的孤立点、线段的终点。角点提取的方式包括Harris角点提取算法、Shi-Tomasi角点检测算法、FAST角点提取算法等，在本实施例中，可以采用Shi-Tomasi角点检测算法进行角点提取，这样可以保证对书写轨迹上的角点进行相对全面的提取。通常情况下，角点提取的特征点并不包含书写轨迹的全部端点，所以，在本实施例的一些示例中进行特征点提取时，除了会对书写轨迹进行角点提取，还会进行端点提取。端点是指书写轨迹中一侧孤悬，另一侧与书写轨迹中其他点相连的特征点，例如，在图2中手写数字“9”的书写轨迹上a、b两个点，以及手写数字“10”的书写轨迹上c、d、e、f这几个点都属于端点，而图2中手写数字“8”的书写轨迹中就没有端点。下面结合图3对特征点提取的过程进行介绍：S302：对模拟轨迹图与参考轨迹图分别进行角点提取。例如可以采用Shi-Tomasi角点检测算法对模拟轨迹图中的第一书写轨迹进行角点提取得到第一角点集合Sc1，对参考轨迹图进行角点提取得到第二角点集合Sc2。通常情况下，虽然进行角点提取时所选用的算法有多种，但针对互为对照的模拟轨迹图与参照轨迹图，本实施例中还是采用相同的角点检测算法，这样可以防止因为算法本身的差异影响到书写轨迹比对的结果。S304：对模拟轨迹图与参考轨迹图分别进行端点提取。对模拟轨迹图进行端点提取得到第一端点集合Se1，对参考轨迹图进行端点提取得到第二端点集合Se2。需要说明的是，虽然图3对应的示例中是先进行角点提取，然后才进行端点提取的，但本领域技术人员应当理解的是角点提取与端点提取两个过程本没有严格的时序关系，因此，在本实施例的其他一些示例中，也可以选择先进行端点提取，或者是同时进行角点提取与端点提取。S306：取第一角点集合与第一端点集合的全集，得到第一特征点集合，取第二角点集合与第二端点集合的全集，得到第二特征点集合。由于第一角点集合与第一端点集合都是对应模拟轨迹图的，而第二角点集合Sc2、与第二端点集合Se2都是对应参考轨迹图的，因此取Sc1∪Se1就可以得到模拟轨迹图的第一特征点集合S1，取Sc2∪Se2就可以得到参考轨迹图的第二特征点集合S2。在本实施例的一些示例中，对书写轨迹提取的特征点中也可以不包括端点，也即在书写轨迹相似度计算是并不考虑端点带来的影响，在这些示例中进行特征点提取时，可以仅进行角点提取，然后通过一些方式筛除角点中的端点，从而得到不包含端点的角点作为特征点。可以理解的是，两份书写轨迹各自在原图片中的位置、尺寸占比等可能都有所区别，例如，第一书写轨迹可能位于其原图片的左侧，而第二书写轨迹位于其原图片的右侧，第一书写轨迹字体较小，而第二书写轨迹字体较大，若直接针对原图片中的书写轨迹进行相似度评估，可能会存在较大误差，而且可能需要设置专门的算法来消除平移与缩放的影响，进而导致相似度评估算法复杂度高。所以，在本实施例的一些示例中，并不直接以原图片中的书写轨迹为比对对象，而是会在进行特征点提取之前先对两份书写轨迹所在的原图片进行预处理，例如找到书写轨迹的边界，然后对原图片进行剪切，仅保留包含书写轨迹的部分，如图4所示。随后将经剪切得到的图片进行缩放，使得两份书写轨迹所对应的两张图片尺寸一致。另外，因为即便是同一个人书写，不同的书写工具也会有不同粗细的书写轨迹，为了消除这部分影响，在本实施例的一些示例中，可以选择对原始书写轨迹进行细化处理，提取原始书写轨迹的骨架线，这样既能消除书写轨迹粗细的影响，也能减少后续特征点提取、特征点匹配等流程的计算量。下面结合图5示出的预处理流程示意图对原图片预处理，得到模拟轨迹图、参考轨迹图的过程进行介绍：S502：对原图片进行二值化分割。二值化分割也即是二值化处理，即是将原图片由灰阶图片或者彩色图片处理为二值图片，在二值图片中，像素点的值仅有“0”与“255”两种，所以二值图片也是真正意义上的黑白图片。S504：对原图片进行细化处理。图像的细化主要是针对二值图而言，把输入的具有一定宽度的图像轮廓用逐次去掉边缘的方法最终变为宽度仅为一个像素的骨架，所以对原图片进行细化处理实际上也就是提取原图片中书写轨迹的骨架线。所谓骨架，可以理解为图像的中轴，例如长方形的骨架是它的长度方向上的中轴线，圆的骨架是它的圆心，直线的骨架是它自身，孤立点的骨架也是自身。图6中示出了一张原图片细化处理前后的示意图。骨架线提取的思想包括基于烈火模拟的思想与基于最大圆盘的思想，其中，基于烈火模拟：设想在同一时刻，将目标的边缘线都点燃，火的前沿以匀速向内部蔓延，当前沿相交时火焰熄灭，火焰熄灭点的结合就是骨架。基于最大圆盘：目标的骨架是由目标内所有内切圆盘的圆心组成。在本实施例中，进行细化处理时可以采用查表法进行。S506：对原图片进行剪切。完成骨架线提取后，可以找到骨架线在原图片中高度方向的两个边界以及在原图片宽度方向的两个边界，然后根据这四个边界对原图片进行剪切，去除不包含骨架线的边缘区域，仅保留有骨架线的中间区域。S508：对剪切得到的图片进行缩放得到尺寸一致的模拟轨迹图与参考轨迹图。假定剪切完成后，第一书写轨迹所在的图片为第一剪切图片，第二书写轨迹所在的图片为第二剪切图片，在此基础上，对第一剪切图片与第二剪切图片中的至少一个进行缩放处理，使得两张剪切图片具有相同的尺寸，缩放完成后第一剪切图片、第二剪切图片就分别形成了模拟轨迹图、参考轨迹图。S104：匹配第一特征点集合与第二特征点集合中的特征点，为特征点在对照图片的特征点中寻找匹配点。在对第一特征点集合与第二特征点集合进行匹配时，对于任意一特征点集合中的任意一特征点，为其确定匹配点时就将其作为“目标点”，可以理解的是，目标点实际上就是特指的当前被匹配的一个特征点，该名称只是为了同泛指的特征点进行区分。然后，计算该目标点与对照图片中各特征点的距离。从对照图片的各特征点中选择与目标点距离最小的一个作为该目标点的匹配点。对于第一特征点集合中的任意一特征点来说，当其作为目标点时，其对照图片就是参考轨迹图，对照图片的特征点就是第二特征点集合中的特征点；对于第二特征点集合中的任意一特征点来说，其对照图片是模拟轨迹图，对照图片的特征点就是第一特征点集合中的特征点。假定第一特征点集合中包括a1、b1、c1、d1、e1五个特征点，而第二特征点结合中包括a2、b2、c2、d2、e2、f2六个特征点，当以a1为目标点时，需要分别计算a2、b2、c2、d2、e2、f2这六个特征点同a1之间的距离，假定经过计算a1与a2之间的距离最小，则处理设备将选择a2作为a1的匹配点。可以理解的是，由于第一特征点集合与第二特征点集合中特征点数目可能并不一致，所以可能存在两个甚至两个以上的特征点具有相同匹配点的情况，当然，这种情况也可能在两个特征点集合中特征点数目一致时发生。另外，在一些示例中也可能存在第一特征点集合中的特征点b1以第二特征点集合中特征点b2作为匹配点，但将特征点b2作为目标点时，匹配到的确实第一特征点集合中的特征点c1的情况，所以虽然很多情况下特征点可以匹配成对，互为彼此的匹配点，但其实也存在特征点与其匹配点不能成对的情况。在本实施例的一些示例中，对第一特征点集合与第二特征点集合中的特征点进行匹配之前，可以先从两个特征点集合中去除近距离的特征点，例如，如果一特征点集合中甲、乙两个特征点距离很近，则可以选择去除二者中的一个，仅保留另一个；如果有多个特征点距离很近，同样也仅保留其中一个，去除其余的特征点，这样可以减少后续特征点匹配、特征点分类等流程中的计算量，减少书写轨迹近似度评估实现对处理设备处理资源长时间的高占用，提升书写轨迹近似度评估的处理效率。在完成特征点匹配后，可以根据匹配结果对特征点进行分类。在本实施例一些示例中，特征点的类别包括一类点与二类点，其中一类点比二类点更能体现书写特点。一些示例中，一类点中可以包括端点、转折点、远距离点中的至少一种，而二类点中包括线条组成点，线条组成点是指形成书写轨迹中平滑线条的特征点，或者说线条组成点是位于书写轨迹中平滑线条上的特征点，这里平滑线条包括线段与曲线中的至少一种。下面结合图7对特征点的类别同时包括端点、转折点、远距离点以及线条组成点四类时，特征点的分类过程进行阐述：S702：将第一端点集合与第二端点集合中的特征点划分为端点。对于端点的识别，由于流程S102中进行过端点提取，所以，如果一个特征点属于第一端点集合或者第二端点集合，则该特征点的类别就属于端点。所以，在进行特征点分类时，处理设备首先可以直接将第一端点集合与第二端点结合中的特征点划分为端点。S704：将两特征点集合中去除端点后剩余的特征点作为第一剩余点集，将第一剩余点集内同其匹配点距离大于第一距离阈值的特征点划分为远距离点。在本实施例中，处理器设备可以将第一特征点集合与第二特征点集合中去除端点后剩余的特征点作为第一剩余点集，然后从第一剩余点集中识别远距离点。一特征点是否是远距离点，可以根据前述特征点匹配过程中计算的最小距离进行判定，对于任意一个特征点，如果其与对应匹配点之间的距离超过第一距离阈值，则该特征点就属于远距离点。在本实施例的一些示例中，第一距离阈值可以设置为图像偏移量的2倍，本领域技术人员可以理解的是，在其他一些示例中，第一距离阈值也可以设置为其他值。S706：将第一剩余点集中去除远距离点后剩余的特征点作为第二剩余点集，从第二剩余点集中识别出转折点。筛选出第一剩余点集中的远距离点后，可以将第一剩余点集中去除远距离点后剩余的特征点作为第二剩余点集，然后从第二剩余点集中筛选转折点。对于转折点的识别方案，这里给出一种示例，请参见图8示出的流程示意图：S802：以目标特征点为中心形成第一截取窗口，并采用第一截取窗口对目标特征点所在的书写轨迹进行截取得到若干第一截断点。对于第二剩余点集中的任意一特征点，对其类别划分时可以将该特征点作为“目标特征点”，目标特征点是第二剩余点集中当前正在被分类的一个特征点，该名称也只是为了同第二剩余点集中其他特征点进行区分，不表示其与第二剩余点集中的其他特征点有本质区别。随后，以目标特征点为中心形成第一截取窗口，利用第一截取窗口对目标特征点所在的书写轨迹进行截取，从而得到若干个截断点。为了便于与后续其他截取窗口所形成的截断点进行区分，这里将第一截取窗口所形成的截断点称为第一截断点。应当明白的是，如果目标特征点为第一特征点集合中的特征点，其所在的书写轨迹自然就是第一书写轨迹，反之，如果目标特征点为第二特征点集合中的特征点，则其所在的书写轨迹就是第二书写轨迹。预设第一尺寸必然小于模拟轨迹图的尺寸，在本实施例中，第一尺寸的大小可以根据书写轨迹对应字体的大小，如果字体较大，则可以第一尺寸也相对较大，反之，则需要将第一尺寸设置得小一点，图9示出了第一截取窗口11对书写轨迹20进行截取的一种示意图：第一截取窗口11以目标特征点10为中心，虽然本示例中第一截取窗口11呈长方形，但在本实施例的其他一些示例中，第一截取窗口11也可以为正方向、正六边形、圆形等几何形状。在图9中第一截取窗口11对目标特征点10所在的书写轨迹20进行截取，与书写轨迹20形成了两个交点，这两个交点就是第一截断点110。S804：判断第一截断点的数目是否大于等于3。若判断结果为是，则执行S816，否则执行S806。S806：以矩形框对第一截取窗口进行遍历，确定书写轨迹在矩形框内的轮廓数。如果第一截取窗口11所形成的第一截断点的数目不足3个，则进一步以矩形框对第一截取窗口11内的图像内容进行遍历。其中，矩形框包括横向矩形框与纵向矩形框。横向矩形框与第一截取窗口11同宽，其高度为1，所以横向矩形框类似于一条平行于第一截取窗口11的宽度方向，线宽为1个像素，长度为第一截取窗口11宽度的“横向线段”。纵向矩形框与第一截取窗口11同高，其宽度为1，所以纵向矩形框类似于一条平行于第一截取窗口11的高度方向，线宽为1个像素，长度为第一截取窗口11高度的“纵向线段”。在利用横向矩形框对第一截取窗口11内的图形内容进行遍历时，实际上就是上述横向线段沿着第一截取窗口11的高度方向逐渐移动，并对书写轨迹进行截取的过程；利用总向矩形框对第一截取窗口11内的图形内容进行遍历时，实际上就是上述纵向线段沿着第一截取窗口11的宽度方向逐渐移动，并对书写轨迹进行截取的过程。S808：判断遍历过程中矩形框内轮廓数大于等于2的情况出现两次以上。可以理解的是，矩形框内的轮廓在线的尺度上实际上也是横向线段或纵向线段与书写轨迹的交点，所以，矩形框内轮廓数大于等于2的情况也就是横向线段或纵向线段与第一截取窗口11内书写轨迹有至少两个交点的情况。若判断结果为是，则执行S816，否则执行S810。S810：确定两个第一截断点的中间点。如果遍历过程中矩形框内轮廓数大于等于2的情况不足两次，则确定两个第一截断点110的中间点。在本实施例中，两个点之间的中间点并不是指二者坐标位置上的中点，而是通过对这两个点之间的特征点进行依次遍历，将遍历顺序处于中间的特征点作为这两个点的中间点。例如，在对两第一截断点110之间的特征点进行遍历时，遍历顺序依次是a1、b1、c1、d1、e1，那么c1就是这两个第一截断点110的中间点。S812：计算由中间点与两第一截断点确定的，且以中间点为顶点的第一夹角。为两第一截断点110确定出中间点后，可以确定由中间点与两第一截断点确定的，且以中间点为顶点的第一夹角，如两第一截断点110分别为A、B，则处理设备会确定以c1为顶点，线段Ac1、Bc1为夹边的第一夹角的大小。S814：判断第一夹角的大小是否满足预设条件。若是，则执行S816，否则执行S818。在本实施例的一些示例中，预设条件是指第一夹角的值大于20°且小于160°。本领域技术人员可以理解的是，在本实施例其他一些示例中，该预设条件也可以为其他条件，例如第一夹角的阈值大小可以为其他值。S816：判定该目标特征点为转折点。如果第一截断点110的数目大于等于3，或遍历过程中矩形框内轮廓数大于等于2的情况出现两次以上，又或者第一夹角的大小满足预设条件，则将目标特征点划分为转折点。S818：判定该目标特征点不属于转折点。如果对目标特征点进行判断时，上述三个S804、S808以及S814对应的判断结果均为否，则判定该目标特征点不属于转折点。本领域技术人员可以理解的是，在本实施例其他一些示例中，也可以通过其他可行的方式来判定第二剩余点集中的特征点是否是转折点，本实施例并不限制必须采用图8对应的流程进行判别。S708：将第二剩余点集中去除转折点后剩余的特征点划分为线条组成点。在从第二剩余点集中识别出转折点以后，可以将转折点从第二剩余点集中筛除，然后将剩余的特征点直接划分为线条组成点。S106：结合各特征点的类别识别并统计异常特征点。完成特征点的分类后，可以结合特征点的类别对特征点进行异常识别，从而筛选出异常特征点。在本实施例中，一个特征点为异常特征点是指在对照图片中不存在与该特征点足够相似的特征点，或者说在对照图片中不存在与该特征点符合相似条件的特征点。对于任一远距离点，本实施例中直接将其判定为异常特征点：对于任意一个特征点而言，匹配点已经是对照图片中与其距离最近、最相似的一个特征点了，但其如果属于远距离点，则说明该特征点同其匹配点之间的距离很大，也即在同样的参照坐标系下，这个特征点相对其匹配点偏移太多，其与匹配点的相似程度很低，因此该远距离点属于异常特征点。对于任一端点，在对其进行异常识别时本实施例中将该端点作为“目标端点”，目标端点特指当前正在被异常识别的一个端点。确定出当前的目标端点后，计算对照图片中各个端点同该目标端点之间的距离。然后选择其中最小的一个距离作为最小距离，如果最小距离超过第二距离阈值，则判定该目标端点属于异常特征点，否则该目标端点不属于异常特征点。在本实施例中，第二距离阈值小于前面的第一距离阈值，例如在一种示例中，第一距离阈值为为图像偏移量的2倍，而第二距离阈值的取值等于图像偏移量。通过这种方式从端点中识别出的异常特征点并不一定是端点内的全部异常特征点，所以，处理设备可以统计通过上述方式端点中识别出的异常特征点的数目作为第一异常端点数。另一方面，处理设备还计算第二异常端点数，第二异常端点数为第一端点集合与第二端点集合中端点的数目差值，然后确定第一异常端点数与第二异常端点数的和值作为端点中异常特征点的数目。如果第一端点集合中包括3个端点，第二端点集合中包括5个端点，那么第二异常端点数就是2，如果第一端点集合中有3个端点，但第二端点集合为空，则第一端点集合中这3个端点都是异常特征点。对于任一线条组成点，异常识别时将该线条组成点作为“目标线条点”，和“目标端点”类似，“目标线条点”特指当前正被异常识别的一个线条组成点。分别以目标线条点、目标线条点的匹配点为中心形成尺寸均为预设第二尺寸的第二截取窗口、第三截取窗口，毫无疑义的是，第二截取窗口对应目标线条点，而第三截取窗口对应目标线条点的匹配点。接着，采用第二截取窗口对目标线条点所在的书写轨迹进行截取，得到两个第二截取点，并采用第三截取窗口对目标线条点的匹配点所在的书写轨迹进行截取，得到两个第三截取点。随后，计算由目标线条点与两第二截断点确定的且以目标线条点为顶点的第二夹角，并计算由目标线条点的匹配点与两第三截断点确定的且以目标线条点的匹配点为顶点的第三夹角。若第二夹角与第三夹角的差值大于预设第一角度阈值，则进一步确定两第二截取点之间的线段分别同X轴、Y轴方向的余弦值，如果两个余弦值中至少一个大于预设余弦阈值，则识别目标线条点为异常特征点。类似地，确定两第三截取点之间的线段分别同X轴、Y轴方向的余弦值，如果两个余弦值中至少一个大于预设余弦阈值，则识别目标线条点的匹配点也为异常特征点。本领域技术人员可以理解的是，对于目标线条点而言，第二夹角与第三夹角的差值大于预设第一角度阈值，以及两个第二截断点间的线条同X轴、Y轴方向的余弦值中至少一个大于预设余弦阈值，是该目标线条点被判定为异常特征点的两个条件，这两个条件间是且的逻辑关系。同样地，对于目标线条点的匹配点而言，第二夹角与第三夹角的差值大于预设第一角度阈值，以及两个第三截断点间的线条同X轴、Y轴方向的余弦值中至少一个大于预设余弦阈值，是该目标线条点的匹配点被判定为异常特征点的两个条件，这两个条件间也是且的逻辑关系。虽然在本实施例中是确定满足条件一的情况下，才会进一步确定是否满足条件二，但在本实施例的其他一些示例中，条件一与条件二的判定时序可以调换，或者可以同时进行。对于任一转折点，异常识别时将该转折点作为“目标转折点”，“目标转折点”特指当前正被异常识别的一个转折点。分别以目标转折点、目标转折点的匹配点为中心形成尺寸均为第三预设尺寸的第四截取窗口、第五截取窗口；分别采用第四截取窗口、第五截取窗口对目标转折点所在书写轨迹、目标转折点的匹配点所在的书写轨迹进行截取，其中第四截取窗口对目标转折点所在书写轨迹进行截取，得到若干第四截断点，第五截取窗口对目标转折点的匹配点所在的书写轨迹进行截取，得到若干第五截断点。如果，第四截断点与第五截断点的数目不相等，则识别目标转折点及其匹配点为异常特征点。如果第四截断点、第五截断点的数目均为2，则计算由目标转折点与两第四截断点确定的且以目标转折点为顶点的第四夹角，以及计算由目标转折点的匹配点与两第五截断点确定的且以目标转折点的匹配点为顶点的第五夹角，若第四夹角与第五夹角的差值大于预设第二角度阈值，则识别目标转折点及其匹配点为异常特征点。如果第四截断点、第五截断点数目超过2，则以目标转折点为起点，各第四截断点为终点确定多个第一方向矢量，以目标转折点的匹配点为起点，各第五截断点为终点确定多个第二方向矢量。然后对各第一方向矢量与各第二方向矢量匹配成对，完成对匹配后，将形成多个方向矢量对，每个方向矢量对由一个第一方向矢量与一个第二方向矢量构成。随后，针对每一个方向矢量对计算第六夹角，第六夹角是指方向矢量对中第一方向矢量、第二方向矢量间的夹角。可以理解的是，计算出的第六夹角的数目与方向矢量对的数目一致，处理设备通过比较各第六夹角的大小，可以确定出其中最大的一个第六夹角，如果最大的第六夹角超过预设第三角度阈值，则识别目标转折点及其匹配点为异常特征点。可以理解的是，第四截取窗口、第五截取窗口以及前述第三截取窗口、第二截取窗口的尺寸均小于第一截取窗口，截取窗口的具体尺寸都可以根据字体本身的大小决定，例如在一种示例中，第四截取窗口、第五截取窗口均为边长等于30像素的正方形。需要说明的是，不同类别的特征点的异常识别方式并不会相互影响，所以，本实施例中并不要求必须采用上述中的方式对远距离点进行异常识别，采用上述中的方式对端点进行异常识别，采用上述中的方式对线条组成点进行异常识别，同时采用上述中的方式对转折点进行异常识别。例如，采用的方式识别远距离点中的异常特征点的情况下，也可以采用以外的方式来识别转折点中的异常特征点；采用的方式识别线条组成点中的异常特征点的情况下，也可以采用以外的方式来识别端点中的异常特征点。在本实施例的一些示例中，异常识别过程中可以应用于上述四种方式中的部分，对于其余类别的特征点，则采用其他可行的方式完成异常识别。S108：根据各类别下特征点的数目、异常特征点的数目计算第一书写轨迹与第二书写轨迹的相似度。经过对特征点的分类，处理设备可以确定各类别下特征点的数目；完成异常识别后，处理设备可以确定每个类别下异常特征点的数目，随后，处理设备可以根据各类别下特征点的数目、异常特征点的数目计算第一书写轨迹与第二书写轨迹的相似度。在本实施例的一些示例中，针对一类点与二类点，会设置不同的权重来参与相似度计算，例如一类点的权重为第一权重，二类点的权重为第二权重，其中第二权重小于第一权重。可以理解的是一个类别的权重实际上也就是该类别的特征点在参与书写轨迹相似度计算时的影响因子，所以，二类点对书写轨迹相似度的影响力小于一类点对书写轨迹相似度的影响力。处理设备可以根据一类点的数目、一类点中异常特征点的数目、一类点对应的第一权重，以及二类点的数目、二类点中异常特征点的数目、二类点对应的第二权重，计算第一书写轨迹与第二书写轨迹的差异度。然后根据差异度确定第一书写轨迹与第二书写轨迹的相似度。在本实施例的一种示例中，处理设备根据以下公式计算第一书写轨迹与第二书写轨迹的相似度：对应地，第一书写轨迹与第二书写轨迹的相似度S则为：其中，D为差异度；Q1、Q2分别为第一权重、第二权重；N1、N2分别为一类点的数目、二类点的数目；d1、d2分别为一类点中异常特征点的数目、二类点中异常特征点的数目。在本实施例的一些示例中，N1为所有特征点中除去线条点的数目，也是远距离点、端点以及转折点三类特征点的总数；N2就是线条组成点的数目。d1是远距离点、端点以及转折点三个类别中异常特征点的总和，而d2则是指线条组成点中异常特征点的数目。模拟轨迹图与参考轨迹图都各自有自己的特征点数目与异常特征点数目，在本实施例的一些示例中，计算书写轨迹相似度时，针对上述公式中各参数，可以以两张图片的总数进行计算，例如，其中N1、N2分别是指模拟轨迹图与参考轨迹图中一类点的和值、二类点的和值；d1、d2分别为一类点中异常特征点的总和、二类点中异常特征点的总和。另外一些示例中，针对上述公式中各参数，可以以两张图片中值更大的一个进行计算，例如，如果模拟轨迹图对应的一类点数目为n1而参考轨迹图对应的一类点的数目为n2，n2小于n1，则N1的取值就是n1；如果模拟轨迹图的一类点中有15个异常特征点，而参考轨迹图的一类点中只有10个异常特征点，那么d1的取值就是15。下面提供一种第一权重与第二权重的确定方案：其中，轮廓数目是指书写轨迹字体本身所占的面积，可以理解为书写轨迹对应像素点的数目；Q2是指第二权重。假定第二权重的值为1，那么第一权重Q1就为：可以理解的是，这只是确定第一权重与第二权重的众多可选方式中的一种，并非唯一途径。本实施例提供的书写轨迹相似度评估方法，在确定异常特征点以及计算书写轨迹相似度时均有考虑特征点所属的类别，并不将这些特征点一视同仁，有利于使得对书写者书写特点表现力强的特征点中的异常得到重点关注，淡化对书写特征表现力弱的特征点的异常，从而提升书写轨迹相似度评估的准确性，为书写轨迹鉴定在各领域的应用提供可靠、可信赖的基础。实施例二：本实施例首先提供一种书写轨迹相似性评估装置30，请参见图10：书写轨迹相似性评估装置30包括特征提取模块302、匹配分类模块304、识别统计模块306以及相似度计算模块308。其中，特征提取模块302用于分别对互为对照的模拟轨迹图、参考轨迹图进行特征点提取得到第一特征点集合、第二特征点集合；匹配分类模块304用于匹配第一特征点集合与第二特征点集合中的特征点，为特征点在对照图片的特征点中寻找匹配点，并根据匹配结果对特征点进行类别划分；识别统计模块306用于结合各特征点的类别识别并统计异常特征点；相似度计算模块308用于根据各类别下特征点的数目、异常特征点的数目计算第一书写轨迹与第二书写轨迹的相似度。前述实施例任一示例中提供的方法中的各种变化方式和具体实例同样适用于本实施例的书写轨迹相似性评估装置30，通过前述对书写轨迹相似性评估方法的详细描述，本领域技术人员可以清楚的知道本实施例中的书写轨迹相似性评估装置30的实施方法，为了说明书的简洁，在此不再详述。为了更好地执行上述方法的程序，本申请实施例还提供一种处理设备40，请参见图11，处理设备40包括处理器41、存储器42以及通信总线43，其中，处理器41与存储器42通过通信总线43实现通信连接。其中，存储器42可用于存储指令、程序、代码、代码集或指令集、数据。存储器42可以包括存储程序区和存储数据区，存储程序区可存储用于实现操作系统的指令、用于至少一个功能的指令，存储数据区可存储数据。在本实施例的一些示例中，处理设备40中可以部署前述书写轨迹相似度评估装置30，其存储程序区中存储有书写轨迹相似度评估程序，该书写轨迹相似度评估程序可供处理器41执行，以实现上述实施例提供的书写轨迹相似度评估方法的流程；存储数据区可存储上述实施例提供的书写轨迹相似度评估方法涉及到的数据等。处理器41可以包括一个或者多个处理核心。处理器41通过运行或执行存储在存储器42内的指令、程序、代码集或指令集，调用存储在存储器42内的数据，执行本申请的各种功能和处理数据。处理器41可以为特定用途集成电路、数字信号处理器、数字信号处理装置、可编程逻辑装置、现场可编程门阵列、中央处理器、控制器、微控制器和微处理器中的至少一种。可以理解地，对于不同的设备，用于实现上述处理器41功能的电子器件还可以为其它，本申请实施例不作具体限定。本申请实施例提供一种计算机可读存储介质，例如包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。该计算机可读存储介质存储有能够被处理器41加载并执行的书写轨迹相似度评估程序，其中书写轨迹相似度评估程序可供处理器41执行，以实现前述实施例任意一种书写轨迹相似度评估方法的流程。上述处理设备40可以以各种形式来实施，包括服务器与终端，其中终端可以包括诸如手机、平板电脑、笔记本电脑、掌上电脑、个人数字助理、便捷式媒体播放器、导航装置、可穿戴设备、智能手环、计步器等移动终端，以及诸如数字TV、台式计算机等固定终端。以上所述，以上实施例仅用以对本申请的技术方案进行了详细介绍，但以上实施例的说明只是用于帮助理解本申请的方法及其核心思想，不应理解为对本申请的限制。本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本申请的保护范围之内。
