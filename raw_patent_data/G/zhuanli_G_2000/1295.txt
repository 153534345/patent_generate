标题title
一种称重抄网
摘要abst
本发明提供了一种称重抄网，涉及称重技术领域。该称重抄网包括目标抄网和目标称重模块，所述目标称重模块包括处理器和存储有计算机程序的存储器，所述计算机程序被处理器执行时，实现以下步骤：获取目标抄网的网圈半径r和网兜深度h；获取目标鱼在目标抄网中的第一重量序列W，W=；将目标称重序列输入经训练的目标神经网络模型，得到对应的转折采样次数n；获取目标占比k，k=n/m；如果k0&lt;k≤1，则根据目标鱼在目标抄网中的第二重量序列W2获取目标鱼的目标重量。本发明提高了使用称重抄网获取的鱼的重量的准确性。
权利要求书clms
1.一种称重抄网，其特征在于，所述称重抄网包括目标抄网和目标称重模块，所述目标称重模块包括处理器和存储有计算机程序的存储器，所述计算机程序被处理器执行时，实现以下步骤：S100，获取目标抄网的网圈半径r和网兜深度h；S200，获取目标鱼在目标抄网中的第一重量序列W，W=，weie为目标时间段中第e个采样时刻采样得到的目标抄网中目标鱼的重量，e的取值范围为1到m，m为目标时间段内对目标抄网中目标鱼的重量进行采样的次数；S300，将目标称重序列输入经训练的目标神经网络模型，得到对应的转折采样次数n；S400，获取目标占比k，k=n/m；S500，如果k0＜k≤1，则进入S600；k0为预设的第一占比阈值，k0≥0.5；S600，根据目标鱼在目标抄网中的第二重量序列W2获取目标鱼的目标重量，W2=,wei2,j为目标时间段中位于目标时刻后的第j个采样时刻采样得到的目标抄网中目标鱼的重量，j的取值范围为1到m-n，所述目标时刻为目标时间段中第n个采样时刻。2.根据权利要求1所述的称重抄网，其特征在于，S600包括：S610，根据W2获取目标鱼的第一重量wei0，wei0=/；S620，将wei0确定为目标鱼的目标重量。3.根据权利要求1所述的称重抄网，其特征在于，所述目标神经网络模型的获取过程包括：S010，获取训练样本集A，A=，cg为第g个训练样本，cg=，rg为cg对应的抄网的网圈半径，hg为cg对应的抄网的网兜深度，XWg为cg对应的鱼在抄网中的第一重量序列，XWg=，xweig,e为Tg中第e个采样时刻采样得到的cg对应的抄网中鱼的重量，Tg为cg对应的采样时间段，Tg与所述目标时间段的时长相等，g的取值范围为1到R，R为训练样本的数量；S020，遍历A，获取cg对应的转折采样次数ng；S030，将每一cg作为训练样本，将每一ng作为cg的训练样本的标签，对目标神经网络模型进行训练；S040，获取经训练的目标神经网络模型。4.根据权利要求3所述的称重抄网，其特征在于，在S040之后还包括：S050，获取测试集D，D=，sp为第p个测试样本，sp=，r’p为sp对应的抄网的网圈半径，h’p为sp对应的抄网的网兜深度，W’p为sp对应的鱼在抄网中的第一重量序列，W’p=，wei’p,e为T’p中第e个采样时刻采样得到的sp对应的抄网中鱼的重量，T’p为sp对应的采样时间段，T’p与所述目标时间段的时长相等，p的取值范围为1到Q，Q为测试样本的数量；S060，遍历D，将每一sp输入经训练的目标神经网络模型，得到每一sp对应的转折采样次数n’p；S070，判断每一n’p是否满足预设条件，所述预设条件包括：W’p中后m-n’p个重量中与sp对应的鱼的真实重量偏差大于等于Δwei的重量的数量与m-n’p之比小于等于k2，W’p中前n’p个重量中与sp对应的鱼的真实重量偏差大于等于Δwei的重量的数量与n’p之比大于k2，Δwei为预设的重量阈值，k2为预设的第三占比阈值；S080，获取满足预设条件的n’p的数量num1；S090，如果num1/Q≥k1，则将经训练的目标神经网络模型作为最终的经训练的目标神经网络模型；否则，继续对所述经训练的目标神经网络模型进行训练，以得到最终的经训练的目标神经网络模型；k1为预设的第二占比阈值。5.根据权利要求4所述的称重抄网，其特征在于，k1≥0.9。6.根据权利要求1所述的称重抄网，其特征在于，S500还包括：如果0＜k≤k0，则进入S700；S700，对W中元素进行分类，得到b个类别，每一类别包括的元素相同，不同类别包括的元素不同；S800，将b个类别中包括元素最多的类别包括的目标鱼的重量确定为目标鱼的目标重量。7.根据权利要求1所述的称重抄网，其特征在于，所述目标时间段的起始时刻为目标鱼进入目标抄网的时刻，所述目标时间段的时长为预设时长。
说明书desc
技术领域本发明涉及称重技术领域，特别是涉及一种称重抄网。背景技术现有技术中通常是将鱼从抄网中取出后再放入称重工具中进行称重，操作比较繁琐。为此，申请公布号为CN108371153A的中国专利公开了一种可夜用的称重抄网，该称重抄网的网圈内部安装有压力传感器，基于该压力传感器可以直接获得鱼的重量，不用再利用其他的称重工具对鱼进行称重。但是，称重抄网中鱼的活性往往使鱼的称重结果误差较大，如何提高使用称重抄网对鱼称重的准确性，是亟待解决的问题。发明内容针对上述技术问题，本发明采用的技术方案为：一种称重抄网，所述称重抄网包括目标抄网和目标称重模块，所述目标称重模块包括处理器和存储有计算机程序的存储器，所述计算机程序被处理器执行时，实现以下步骤：S100，获取目标抄网的网圈半径r和网兜深度h。S200，获取目标鱼在目标抄网中的第一重量序列W，W=，weie为目标时间段中第e个采样时刻采样得到的目标抄网中目标鱼的重量，e的取值范围为1到m，m为目标时间段内对目标抄网中目标鱼的重量进行采样的次数。S300，将目标称重序列输入经训练的目标神经网络模型，得到对应的转折采样次数n。S400，获取目标占比k，k=n/m。S500，如果k0＜k≤1，则进入S600；k0为预设的第一占比阈值，k0≥0.5。S600，根据目标鱼在目标抄网中的第二重量序列W2获取目标鱼的目标重量，W2=,wei2,j为目标时间段中位于目标时刻后的第j个采样时刻采样得到的目标抄网中目标鱼的重量，j的取值范围为1到m-n，所述目标时刻为目标时间段中第n个采样时刻。本发明的有益效果至少包括：本发明将由目标抄网的网圈半径、网兜深度和目标鱼在目标抄网中的第一重量序列W构成的目标称重序列作为经训练的目标神经网络模型的输入，将经训练的目标神经网络模型的输出作为目标称重序列对应的转折采样次数n；本发明获取了该转折采样次数n与目标时间段内对目标抄网中目标鱼的重量进行采样的次数的比值，并根据该比值来确定是否根据目标时间段中后m-n次采样得到的目标抄网中目标鱼的重量来获取目标鱼的目标重量；本发明中k0≥0.5，如果k0＜k≤1，说明目标鱼在目标抄网中较为活跃，目标鱼从进入目标抄网开始的时刻至相对稳定的时刻之间时间段较长，该时间段中目标鱼处于不稳定的状态的时间占比也较大，W中与目标鱼的真实重量相差较大的元素也较多，相较于直接将W中所有元素的均值作为目标鱼的目标重量的技术方案，本发明在k0＜k≤1的情况下选择根据目标时间段中后m-n次采样得到的目标抄网中目标鱼的重量来获取目标鱼的目标重量，可以避免由于目标鱼前期在目标抄网中较为活跃导致的获取的目标鱼的目标重量与目标鱼的真实重量偏差较大的问题，提高了使用称重抄网获取的鱼的重量的准确性。上述说明仅是本发明技术方案的概述，为了能够更清楚了解本发明的技术手段，可依照说明书的内容予以实施，并且为了让本发明的上述以及其他目的、特征和优点能够更明显易懂，以下特举较佳实施例，并配合附图，详细说明如下。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的目标称重模块的计算机程序被处理器执行时实现的步骤的流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有作出创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。本实施例提供了一种称重抄网，所述称重抄网包括目标抄网和目标称重模块，所述目标称重模块包括处理器和存储有计算机程序的存储器，所述计算机程序被处理器执行时，实现以下步骤，如图1所示：S100，获取目标抄网的网圈半径r和网兜深度h。S200，获取目标鱼在目标抄网中的第一重量序列W，W=，weie为目标时间段中第e个采样时刻采样得到的目标抄网中目标鱼的重量，e的取值范围为1到m，m为目标时间段内对目标抄网中目标鱼的重量进行采样的次数。本实施例中，目标时间段的起始时刻为目标鱼进入目标抄网的时刻，所述目标时间段的时长为预设时长。本实施例中，预设时长为经验值，目标鱼进入目标抄网的时刻可为称重抄网的压力传感器感受到压力的时刻。本实施例中，在目标时间段中以预设的采样频率f0进行采样，任意两相邻采样时刻之间的时间间隔相同。本实施例中，第一重量序列中靠前的重量对应的采样时刻早于第一重量序列中靠后的重量对应的采样时刻。S300，将目标称重序列输入经训练的目标神经网络模型，得到对应的转折采样次数n。本实施例中，经训练的目标神经网络模型具有根据输入的称重序列推理对应的转折采样次数的功能，对应的转折采样次数n为经训练的目标神经网络模型推理出的目标时间段包括的m个采样次数中满足转折条件的采样次数，所述转折条件包括：W中后m-n个重量中与目标鱼的真实重量偏差大于等于Δwei的重量的数量与m-n之比小于等于k2，W中前n个重量中与目标鱼的真实重量偏差大于等于Δwei的重量的数量与n之比大于k2；Δwei为预设的重量阈值，k2为预设的第三占比阈值，本实施例中，Δwei和k2均为经验值，可选的，k2≤0.2。S400，获取目标占比k，k=n/m。S500，如果k0＜k≤1，则进入S600；k0为预设的第一占比阈值，k0≥0.5。本实施例中，k0为经验值，当k0＜k≤1时，标志目标鱼从进入目标抄网开始的时刻至相对稳定的时刻之间时间段较长，该时间段中目标鱼处于不稳定的状态的时间占比也较大，W中与目标鱼的真实重量相差较大的元素也较多；当0＜k≤k0时，标志目标鱼从进入目标抄网开始的时刻至相对稳定的时刻之间时间段较短，该时间段中目标鱼处于不稳定的状态的时间占比也较小，W中与目标鱼的真实重量相差较大的元素也较少。S600，根据目标鱼在目标抄网中的第二重量序列W2获取目标鱼的目标重量，W2=,wei2,j为目标时间段中位于目标时刻后的第j个采样时刻采样得到的目标抄网中目标鱼的重量，j的取值范围为1到m-n，所述目标时刻为目标时间段中第n个采样时刻。作为一种可选的具体实施方式，S600包括：S610，根据W2获取目标鱼的第一重量wei0，wei0=/。S620，将wei0确定为目标鱼的目标重量。本实施例中将由目标抄网的网圈半径、网兜深度和目标鱼在目标抄网中的第一重量序列W构成的目标称重序列作为经训练的目标神经网络模型的输入，将经训练的目标神经网络模型的输出作为目标称重序列对应的转折采样次数n；本实施例获取了该转折采样次数n与目标时间段内对目标抄网中目标鱼的重量进行采样的次数的比值，并根据该比值来确定是否根据目标时间段中后m-n次采样得到的目标抄网中目标鱼的重量来获取目标鱼的目标重量；本实施例中k0≥0.5，如果k0＜k≤1，说明目标鱼在目标抄网中较为活跃，目标鱼从进入目标抄网开始的时刻至相对稳定的时刻之间时间段较长，该时间段中目标鱼处于不稳定的状态的时间占比也较大，W中与目标鱼的真实重量相差较大的元素也较多，相较于直接将W中所有元素的均值作为目标鱼的目标重量的技术方案，本实施例在k0＜k≤1的情况下选择根据目标时间段中后m-n次采样得到的目标抄网中目标鱼的重量来获取目标鱼的目标重量，可以避免由于目标鱼前期在目标抄网中较为活跃导致的获取的目标鱼的目标重量与目标鱼的真实重量偏差较大的问题，提高了使用称重抄网获取的鱼的重量的准确性。作为一种具体实施方式，目标神经网络模型的获取过程包括：S010，获取训练样本集A，A=，cg为第g个训练样本，cg=，rg为cg对应的抄网的网圈半径，hg为cg对应的抄网的网兜深度，XWg为cg对应的鱼在抄网中的第一重量序列，XWg=，xweig,e为Tg中第e个采样时刻采样得到的抄网中鱼的重量，Tg为cg对应的采样时间段，Tg与所述目标时间段的时长相等，g的取值范围为1到R，R为训练样本的数量。本实施例中，在cg对应采样时间段中以预设的采样频率f0进行采样，任意两相邻采样时刻之间的时间间隔相同。本实施例中，不同训练样本对应的抄网的网圈半径相同或不同，不同训练样本对应的抄网的网兜深度相同或不同。S020，遍历A，获取cg对应的转折采样次数ng。本实施例中，cg对应的转折采样次数ng由人工给出或基于cg对应的鱼的真实重量计算得到，ng满足第一条件，所述第一条件包括：XWg中后m-ng个重量中与cg对应的鱼的真实重量偏差大于等于Δwei的重量的数量与m-ng之比小于等于k2，XWg中前ng个重量中与cg对应的鱼的真实重量偏差大于等于Δwei的重量的数量与ng之比大于k2；Δwei为预设的重量阈值，k2为预设的第三占比阈值，本实施例中，Δwei和k2均为经验值，可选的，k2≤0.2。S030，将每一cg作为训练样本，将每一ng作为cg的训练样本的标签，对目标神经网络模型进行训练。S040，获取经训练的目标神经网络模型。本领域技术人员知悉，现有技术中任何的基于标签对神经网络模型进行训练的方法都落入本发明的保护范围。作为一种优选的具体实施方式，在S040之后还包括：S050，获取测试集D，D=，sp为第p个测试样本，sp=，r’p为sp对应的抄网的网圈半径，h’p为sp对应的抄网的网兜深度，W’p为sp对应的鱼在抄网中的第一重量序列，W’p=，wei’p,e,为T’p中第e个采样时刻采样得到的sp对应的抄网中鱼的重量，T’p为sp对应的采样时间段，T’p与所述目标时间段的时长相等，p的取值范围为1到Q，Q为测试样本的数量。本实施例中，在sp对应采样时间段中以预设的采样频率f0进行采样，任意两相邻采样时刻之间的时间间隔相同。本实施例中，不同测试样本对应的抄网的网圈半径相同或不同，不同测试样本对应的抄网的网兜深度相同或不同。S060，遍历D，将每一sp输入经训练的目标神经网络模型，得到每一sp对应的转折采样次数n’p。S070，判断每一n’p是否满足预设条件，所述预设条件包括：W’p中后m-n’p个重量中与sp对应的鱼的真实重量偏差大于等于Δwei的重量的数量与m-n’p之比小于等于k2，W’p中前n’p个重量中与sp对应的鱼的真实重量偏差大于等于Δwei的重量的数量与n’p之比大于k2，Δwei为预设的重量阈值，k2为预设的第三占比阈值。S080，获取满足预设条件的n’p的数量num1。S090，如果num1/Q≥k1，则将经训练的目标神经网络模型作为最终的经训练的目标神经网络模型；否则，继续对所述经训练的目标神经网络模型进行训练，以得到最终的经训练的目标神经网络模型；k1为预设的第二占比阈值。本实施例中，k1为经验值，可选的，k1≥0.9。基于S050-S090的测试阶段，本实施例得到了经训练的目标神经网络模型的准确度，如果准确度已满足要求，则不再继续训练；如果准确度不满足要求，则继续训练，以保证S300中用于推理的经训练的目标神经网络模型的准确度较高，进而提高最终得到的目标鱼的目标重量的准确性。作为一种具体实施方式，S500还包括：如果0＜k≤k0，则进入S700。S700，对W中元素进行分类，得到b个类别，每一类别包括的元素相同，不同类别包括的元素不同。S800，将b个类别中包括元素最多的类别包括的目标鱼的重量确定为目标鱼的目标重量。本发明中k0≥0.5，如果0＜k≤k0，说明目标鱼在目标抄网中较为稳定，目标鱼从进入目标抄网开始的时刻至相对稳定的时刻之间时间段较短，该时间段中目标鱼处于不稳定的状态的时间占比也较小，W中与目标鱼的真实重量相差较大的元素也较少，相较于直接将W中所有元素的均值作为目标鱼的目标重量的技术方案，本发明在0＜k≤k0的情况下选择将目标时间段中出现次数最多的目标鱼的重量作为目标鱼的目标重量，可以避免由于目标鱼在目标抄网中动作导致的获取的目标鱼的目标重量与目标鱼的真实重量偏差较大的问题，提高了使用称重抄网获取的鱼的重量的准确性。虽然已经通过示例对本发明的一些特定实施例进行了详细说明，但是本领域的技术人员应该理解，以上示例仅是为了进行说明，而不是为了限制本发明的范围。本领域的技术人员还应理解，可以对实施例进行多种修改而不脱离本发明的范围和精神。本发明公开的范围由所附权利要求来限定。
