标题title
一种无人驾驶汽车运行检测方法及系统
摘要abst
本发明涉及用于激光雷达数据处理技术领域，具体涉及一种无人驾驶汽车运行检测方法及系统，包括根据原始点云中测点密度异常特征、以及测量值两极化特征构建残影测点的筛选模型，并设置阈值筛出残影测点；然后根据不同测点所属环境区域之间的差异获取残影测点聚类过程中的环境调节因子，并根据该环境调节因子优化残影测点的聚类模型，得到环境区域以及残差区域；最后将每个残影区域在点云数据中进行滑动平移，根据残影区域与环境区域之间的匹配关系，构建loss函数，进而消除伪测点，实现点云配准。本发明避免有效信息的损失，使激光雷达所采集点云数据质量更高，无人驾驶汽车的感知精度更高，运行状态更为稳定。
权利要求书clms
1.一种无人驾驶汽车运行检测方法，其特征在于，该方法包括以下步骤：获取激光雷达的原始点云数据，所述激光雷达的原始点云数据包含若干个测点以及每个测点距离激光雷达发射位置的空间欧式距离，将所述空间欧式距离作为每个测点的测量值；将原始点云数据中每个测点作为目标测点，将目标测点的若干个相邻测点作为目标测点的近邻测点，根据原始点云数据中每个目标测点的近邻测点与目标测点之间的平均空间欧式距离得到目标测点的密度异常值，根据目标测点的近邻测点与目标测点测量值差值的信息熵、目标测点的近邻测点与目标测点测量值差值两极化的熵极限得到目标测点的结构异常值，根据目标测点的密度异常值、结构异常值得到每个目标测点的残影特征值，对所述残影特征值设置阈值，筛分得到残影测点与正常测点；对正常测点聚类得到多个环境区域，然后根据不同测点所属环境区域的平均测量值差值绝对值、不同测点的近邻测点测量值标准差的差值绝对值获取残影测点聚类过程中的环境调节因子，根据环境调节因子、残影特征值优化残影测点的聚类距离度量模型，根据聚类距离度量模型对残影测点进行聚类，得到多个残影区域；将残影区域在原始点云数据中进行滑动平移，根据滑动平移过程中残影区域与环境区域之间重叠测点的均方误差、重叠测点数量占比构建loss函数，根据loss函数获取残影区域中的伪测点，消除所述伪测点，根据消除伪测点后的原始点云数据进行无人驾驶汽车运行检测。2.根据权利要求1所述一种无人驾驶汽车运行检测方法，其特征在于，所述将原始点云数据中每个测点作为目标测点，将目标测点的若干个相邻测点作为目标测点的近邻测点，根据原始点云数据中每个目标测点的近邻测点与目标测点之间的平均空间欧式距离得到目标测点的密度异常值，根据目标测点的近邻测点与目标测点测量值差值的信息熵、目标测点的近邻测点与目标测点测量值差值两极化的熵极限得到目标测点的结构异常值的具体计算方法如下：将原始点云数据中每个测点作为目标测点， 根据距离目标测点空间欧式距离由近至远计数L个相邻测点，称为目标测点的近邻测点；;其中，代表目标测点的密度异常值，o代表所有目标测点中第o个目标测点，N代表当前时刻无人驾驶汽车所采集点云数据的测点总数，i代表第o个目标测点第i个近邻测点，/＞为目标测点的近邻测点数量，/＞代表所有目标测点中第o个目标测点的近邻测点数量，/＞代表目标测点邻域第i个测点距离目标测点的空间欧式距离；代表目标测点的结构异常值，/＞代表目标测点第i个近邻测点与目标测点的测量值差值，/＞代表任意一类/＞值，所述一类代表/＞值相同，R为目标测点的近邻测点总/＞值类数，代表第v类/＞值的数量，/＞代表目标测点的近邻测点与目标测点测量值差值两极化的熵极限。3.根据权利要求1所述一种无人驾驶汽车运行检测方法，其特征在于，所述根据目标测点的密度异常值、结构异常值得到每个目标测点的残影特征值，对所述残影特征值设置阈值，筛分得到残影测点与正常测点的具体计算方法如下：;其中，代表目标测点的密度异常值，/＞代表目标测点的结构异常值，/＞代表目标测点的残影特征值；预设残影测点阈值，目标测点的残影特征值大于等于所述阈值时，所述目标测点为残影测点，目标测点的残影特征值小于所述阈值时，目标测点为正常测点。4.根据权利要求1所述一种无人驾驶汽车运行检测方法，其特征在于，所述对正常测点聚类得到多个环境区域，包括的具体步骤如下：将正常测点标记为A类测点；先采用k-means聚类算法对所有A类测点进行聚类，聚类结果为多个A类测点聚簇，然后利用boundary函数获取每个聚簇的边界测点，得到多个环境区域。5.根据权利要求1所述一种无人驾驶汽车运行检测方法，其特征在于，所述根据不同测点所属环境区域的平均测量值差值绝对值、不同测点的近邻测点测量值标准差的差值绝对值获取残影测点聚类过程中的环境调节因子，包括的具体计算方法如下：将残影测点标记为B类测点；;其中，a、b分别代表任意两个B类测点，代表a、b两个测点的环境调节因子，分别代表a、b测点各自所属环境区域的平均测量值，/＞分别代表第a、b个测点的近邻测点测量值标准差。6.根据权利要求1所述一种无人驾驶汽车运行检测方法，其特征在于，所述根据环境调节因子、残影特征值优化残影测点的聚类距离度量模型，包括的具体计算方法如下：将残影测点标记为B类测点，a、b分别代表任意两个B类测点；;其中，代表a、b两个测点之间的聚类距离度量，/＞分别代表第a、b个测点的残影特征值，/＞代表第a、b个测点之间的空间欧式距离。7.根据权利要求1所述一种无人驾驶汽车运行检测方法，其特征在于，所述根据聚类距离度量模型对残影测点进行聚类，得到多个残影区域，包括的具体步骤如下：将聚类模型作为k-means聚类算法中的距离度量值，根据手肘法获取B类测点最优k值，将k值输入k-means聚类算法中，对B类测点进行聚类得到B类测点的聚类结果，并利用boundary函数获取所述聚类结果中多个聚簇边界测点，获得多个残影区域。8.根据权利要求1所述一种无人驾驶汽车运行检测方法，其特征在于，所述将残影区域在原始点云数据中进行滑动平移，根据滑动平移过程中残影区域与环境区域之间重叠测点的均方误差、重叠测点数量占比构建loss函数，包括的具体计算方法如下：将每个残影区域在原始点云数据中进行滑动平移，滑动方式为遍历原始点云数据中所有位置；;其中，E代表loss函数，p代表第p个残影区域，q代表第q个环境区域，代表滑动过程中第p个残影区域与第q个环境区域所有重叠的测点中，第p个残影区域内第/＞个测点的测量值，/＞代表第q个环境区域内第/＞个测点的测量值，/＞代表第p个残影区域与第q个环境区域所有重叠测点的数量，/＞代表第p个残影区域的B类测点总数。9.根据权利要求1所述一种无人驾驶汽车运行检测方法，其特征在于，所述根据loss函数获取残影区域中的伪测点，消除所述伪测点，包括的具体步骤如下：在原始点云数据上滑动残影区域，残影区域每次滑动，loss函数都会得到一个输出值，当输出值最小时停止滑动，根据残影区域在原始点云数据上所停留位置，得到所述残影区域的反射源区域，获取反射源区域内的原始点云数据，获取停止滑动后残影区域内的原始点云数据与反射源区域内的原始点云数据之间的重叠测点，根据重叠测点得到所述残影区域内的伪测点，将所述残影区域内的伪测点直接去除。10.一种无人驾驶汽车运行检测系统，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1~9任意一项所述一种无人驾驶汽车运行检测方法的步骤。
说明书desc
技术领域本发明涉及激光雷达数据处理技术领域，具体涉及一种无人驾驶汽车运行检测方法及系统。背景技术与传统汽车不同的地方在于，无人驾驶汽车可以根据自身感知到的环境信息，进行自主的路径规划、目标识别和导航操作。它们使用激光雷达、摄像头、雷达、超声波传感器等多种传感器来获取道路、车辆、行人和其他障碍物的相关数据。这些传感器数据由车辆内部的计算机系统进行处理和分析，生成驾驶决策并控制车辆执行相应的动作，如加速、刹车、转向等。激光雷达信号为无人驾驶汽车提供了高精度的环境感知能力，它是自动驾驶系统中不可或缺的关键技术之一。激光雷达在工作过程中会发出短脉冲的激光光束，并记录光束反射回传的时间。信号经过接收、处理后转化为数字数据以提供对目标的高精度测量。激光雷达可以根据测量信号生成三维点云数据。点云表示目标物体在空间中的几何形状和位置分布，帮助车辆实现精确的障碍物检测、定位和导航。但是无人驾驶汽车行驶在城市、郊野、高速等各种环境中时，不可避免受到大量干扰，导致激光雷达数据失真，控制系统发生感知误差时很可能出现过敏指令，使无人驾驶技术存在一定不稳定因素。发明内容本发明提供一种无人驾驶汽车运行检测方法及系统，以解决现有无人驾驶汽车行驶在城市、郊野、高速等各种环境中时，不可避免受到大量干扰，导致激光雷达数据失真，控制系统发生感知误差时很可能出现过敏指令，使无人驾驶技术存在一定不稳定因素的问题。本发明的一种无人驾驶汽车运行检测方法及系统采用如下技术方案：本发明一个实施例提供了一种无人驾驶汽车运行检测方法，该方法包括以下步骤：获取激光雷达的原始点云数据，所述激光雷达的原始点云数据包含若干个测点以及每个测点距离激光雷达发射位置的空间欧式距离，将所述空间欧式距离作为每个测点的测量值；将原始点云数据中每个测点作为目标测点，将目标测点的若干个相邻测点作为目标测点的近邻测点，根据原始点云数据中每个目标测点的近邻测点与目标测点之间的平均空间欧式距离得到目标测点的密度异常值，根据目标测点的近邻测点与目标测点测量值差值的信息熵、目标测点的近邻测点与目标测点测量值差值两极化的熵极限得到目标测点的结构异常值，根据目标测点的密度异常值、结构异常值得到每个目标测点的残影特征值，对所述残影特征值设置阈值，筛分得到残影测点与正常测点；对正常测点聚类得到多个环境区域，然后根据不同测点所属环境区域的平均测量值差值绝对值、不同测点的近邻测点测量值标准差的差值绝对值获取残影测点聚类过程中的环境调节因子，根据环境调节因子、残影特征值优化残影测点的聚类距离度量模型，根据聚类距离度量模型对残影测点进行聚类，得到多个残影区域；将残影区域在原始点云数据中进行滑动平移，根据滑动平移过程中残影区域与环境区域之间重叠测点的均方误差、重叠测点数量占比构建loss函数，根据loss函数获取残影区域中的伪测点，消除所述伪测点。进一步的，所述将原始点云数据中每个测点作为目标测点，将目标测点的若干个相邻测点作为目标测点的近邻测点，根据原始点云数据中每个目标测点的近邻测点与目标测点之间的平均空间欧式距离得到目标测点的密度异常值，根据目标测点的近邻测点与目标测点测量值差值的信息熵、目标测点的近邻测点与目标测点测量值差值两极化的熵极限得到目标测点的结构异常值的具体计算方法如下：将原始点云数据中每个测点作为目标测点， 根据距离目标测点空间欧式距离由近至远计数L个相邻测点，称为目标测点的近邻测点；其中，代表目标测点的密度异常值，o代表所有目标测点中第o个目标测点，N代表当前时刻无人驾驶汽车所采集点云数据的测点总数，i代表第o个目标测点第i个近邻测点，为目标测点的近邻测点数量，代表所有目标测点中第o个目标测点的近邻测点数量，代表目标测点邻域第i个测点距离目标测点的空间欧式距离；代表目标测点的结构异常值，代表目标测点第i个近邻测点与目标测点的测量值差值，代表任意一类值，所述一类代表值相同，R为目标测点的近邻测点总值类数，代表第v类值的数量，代表目标测点的近邻测点与目标测点测量值差值两极化的熵极限。进一步的，所述根据目标测点的密度异常值、结构异常值得到每个目标测点的残影特征值，对所述残影特征值设置阈值，筛分得到残影测点与正常测点的具体计算方法如下：其中，代表目标测点的密度异常值，代表目标测点的结构异常值，代表目标测点的残影特征值；预设残影测点阈值，目标测点的残影特征值大于等于所述阈值时，所述目标测点为残影测点，目标测点的残影特征值小于所述阈值时，目标测点为正常测点。进一步的，所述对正常测点聚类得到多个环境区域，包括的具体步骤如下：将正常测点标记为A类测点；先采用k-means聚类算法对所有A类测点进行聚类，聚类结果为多个A类测点聚簇，然后利用boundary函数获取每个聚簇的边界测点，得到多个环境区域。进一步的，所述根据不同测点所属环境区域的平均测量值差值绝对值、不同测点的近邻测点测量值标准差的差值绝对值获取残影测点聚类过程中的环境调节因子，包括的具体计算方法如下：将残影测点标记为B类测点；其中，a、b分别代表任意两个B类测点，代表a、b两个测点的环境调节因子， 分别代表a、b测点各自所属环境区域的平均测量值，分别代表第a、b个测点的近邻测点测量值标准差。进一步的，所述根据环境调节因子、残影特征值优化残影测点的聚类距离度量模型，包括的具体计算方法如下：将残影测点标记为B类测点，a、b分别代表任意两个B类测点；其中，代表a、b两个测点之间的聚类距离度量，分别代表第a、b个测点的残影特征值，代表第a、b个测点之间的空间欧式距离。进一步的，所述根据聚类距离度量模型对残影测点进行聚类，得到多个残影区域，包括的具体步骤如下：将聚类模型作为k-means聚类算法中的距离度量值，根据手肘法获取B类测点最优k值，将k值输入k-means聚类算法中，对B类测点进行聚类得到B类测点的聚类结果，并利用boundary函数获取所述聚类结果中多个聚簇边界测点，获得多个残影区域。进一步的，所述将残影区域在原始点云数据中进行滑动平移，根据滑动平移过程中残影区域与环境区域之间重叠测点的均方误差、重叠测点数量占比构建loss函数，包括的具体计算方法如下：将每个残影区域在原始点云数据中进行滑动平移，滑动方式为遍历原始点云数据中所有位置；其中，E代表loss函数，p代表第p个残影区域，q代表第q个环境区域，代表滑动过程中第p个残影区域与第q个环境区域所有重叠的测点中，第p个残影区域内第个测点的测量值，代表第q个环境区域内第个测点的测量值，代表第p个残影区域与第q个环境区域所有重叠测点的数量，代表第p个残影区域的B类测点总数。进一步的，根据loss函数获取残影区域中的伪测点，消除所述伪测点实现点云配准，包括的具体步骤如下：在原始点云数据上滑动残影区域，残影区域每次滑动，loss函数都会得到一个输出值，当输出值最小时停止滑动，根据残影区域在原始点云数据上所停留位置，得到所述残影区域的反射源区域，获取反射源区域内的原始点云数据，获取停止滑动后残影区域内的原始点云数据与反射源区域内的原始点云数据之间的重叠测点，根据重叠测点得到所述残影区域内的伪测点，将所述残影区域内的伪测点直接去除。一种无人驾驶汽车运行检测系统，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，所述计算机程序执行并实现以上所有方法。本发明的技术方案的有益效果是：无人驾驶汽车行驶过程中，激光雷达所采集的三维点云数据可能出现模糊残影，传统滤波器以及冗余采样的方式，无法有效去除点云残影。本发明针对该技术问题提出一种优化方法，先根据原始点云中目标测点处密度异常特值、以及结构异常值，构建残影测点的筛选模型，并设置阈值筛出残影测点。其中，残影测点筛选模型不仅可以表现残影区域内的测量值类数，还可以很好的描述残影区域中真实测点、伪测点交叉、重叠的分布特征。然后根据不同测点所属环境区域之间差异，获取残影测点聚类过程中的环境调节因子，并根据该环境调节因子优化了残影测点的聚类模型，得到环境区域以及残差区域。最后将每个的残影区域，在点云数据中滑动平移，根据残影区域与环境区域之间的匹配关系，构建loss函数，进而消除伪测点，实现点云配准。本发明不需要利用滤波器对点云数据无差别平滑，避免有效信息的损失，并且无需多次采样、融合来消除点云残影，使激光雷达所采集点云数据质量更高，无人驾驶汽车的感知精度更高，运行状态更为稳定。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明一种无人驾驶汽车运行检测方法的步骤流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种无人驾驶汽车运行检测方法及系统，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种无人驾驶汽车运行检测方法及系统的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种无人驾驶汽车运行检测方法的步骤流程图，该方法包括以下步骤：S001、获取无人驾驶汽车在城市路面上行驶时的激光雷达数据。在城市路面进行无人驾驶实验，使汽车按照40Lm/h的速度匀速行驶，在行驶过程中持续采集激光雷达三维点云数据，记为原始点云数据，原始点云数据中每个测点都包含了其三维坐标，可直接获取每个测点距离激光雷达发射位置的空间欧式距离作为该测点的测量值。城市环境存在较多反光区域以及密集的电磁干扰，激光雷达点云数据中噪声较多，尽管激光雷达通常配备多个发射和接收通道，可以进行冗余采样和多次测量，或通过使用滤波器降低噪声水平，这些方法对于数值异常的噪声有效。但是对于城市环境下，较多的镜面反射区域会使激光照射到目标物体时发生多次镜面反射，导致点云数据中出现残影或重叠的情况，此时常规冗余采样以及滤波器就无法解决残影问题，甚至还会导致残影扩张问题。S002、根据原始点云中目标测点处密度异常特值、以及结构异常值，构建残影测点的筛选模型，并设置阈值筛分残影测点和正常测点。需要说明的是，残影区域中每个测点都称为残影测点，残影测点又分为伪测点、真实测点。残影区域为部分虚假的伪测点出现在真实测点周围，形成局部的点云模糊。将由于本身材质反光、透明而产生残影区域的物体称为该残影区域的反射源区域，激光光束从激光雷达至透明、反光的反射源后，会被反射出去，其每被反射一次都会在接收器中形成一个虚假的伪测点。从同一反射源平面上所反射形成的伪测点都具有相同、相近的反射轨迹，因此伪测点是成片状出现在激光点阵中，这也是伪测点总会模糊点阵的原因，当这些伪测点与真实的测点重叠在一起时，所形成的残影区域具有测点密度变大，且测量值两极化的特征。本实施例将原始点云数据中每个测点均视为目标测点，根据距离目标测点由近至远计数L个相邻测点，称为目标测点的近邻测点，本实施例设置L=8。然后根据原始点云数据中每个目标测点近邻测点与目标测点之间的平均空间欧式距离，得到每个目标测点的密度异常值，根据目标测点的近邻测点与目标测点测量值差值的信息熵、目标测点近邻测点与目标测点测量值差值两极化的熵极限，得到每个目标测点的结构异常值，具体的：其中，代表目标测点处的密度异常值，o代表所有目标测点中第o个目标测点，N代表当前时刻无人驾驶汽车所采集原始点云数据的测点总数，i代表目标测点第i个近邻测点，为目标测点的近邻测点数量，代表所有目标测点中第o个目标测点的近邻测点数量，代表目标测点第i个测点距离目标测点的空间欧式距离；进一步的，代表以任意一个目标测点为中心，该目标测点的L个近邻测点与目标测点之间的平均空间欧式距离，称为目标测点的近邻空间欧式距离，该值越小，代表此处的测点密度越大，则代表点云数据中所有目标测点近邻空间欧式距离的平均值，将目标测点的近邻空间欧式距离与所有目标测点近邻空间欧式距离的平均值求比，该比值越小代表该目标测点处的近邻测点密度异常值越高。则是为了矫正逻辑关系。其中，代表目标测点处的结构异常值，代表目标测点邻域第i个测点与目标测点的测量值差值，代表任意一类值，所述一类代表值相同，R为目标测点L个近邻测点总值类数，代表第v类值的数量，代表第v类值在目标测点近邻测点值集合内的概率，代表以2为底数，2为真数的对数函数。需要说明的是在此处表示值总类别数为2时的熵极限。需要说明的是，则为目标测点近邻测点与目标测点测量值差值的信息熵，为目标测点近邻测点与目标测点测量值差值两极化的熵极限，将所述目标测点L近邻测点值的信息熵与假设值类别为2时的熵极限求比值，所得比值越接近1则代表以目标测点为中心的L近邻范围内具有接近两类的测量值，且各自测点占比几乎对半，这一点符合残影区域测量值两极化的分布特征，因此结构异常值越大。近邻测点与目标测点的值信息熵逼近熵极限时，代表目标测点近邻测点中测量值两级化，且两类测量值分布概率接近相等，那么利用熵极限作为目标测点近邻测量值两极化特征的提取方法，不仅可以表现残影区域内的测量值类数，还可以很好的描述残影区域中真实测点、伪测点交叉、重叠的分布特征。至此得到所有目标测点的密度异常值、结构异常值。然后根据密度异常值、结构异常值构建残影测点的筛选模型，具体为：其中，代表目标测点的残影特征值。对所有目标测点提取残影特征之后，直接设置阈值筛出残影特征值较高的测点，本实施例设置经验阈值为0.7，当目标测点的残影特征值时，目标测点为残影测点，反之当时，目标测点为正常测点。至此将所有测点划分为正常测点和残影测点。S003、对正常测点进行k-means聚类，得到环境区域。并根据不同测点所属环境区域之间差异，获取残影测点聚类过程中的环境调节因子。进一步的，可得到所有残影测点集合，将残影特征值小于等于阈值的残影测点标记为B类测点，将残影特征值大于阈值的正常测点则标记为A类测点。注意残影区域是被反射的伪测点与真实测点叠加形成，因此B类测点包含真实测点和伪测点。将标记的A、B类测点分为两个数据层并分别进行处理。先采用k-means聚类算法分别对所有A类测点进行聚类，所有A类测点数据包含无人驾驶汽车周围不同环境单位，例如树木、行人、障碍物等等，每个环境单位上的测点组成一个的区域。对两类测点分别聚类的目的是将不同区域的点云数据归类为多个聚簇，以追溯残影区域的反射源。由于A类测点为正常测点数据，对A类测点进行聚类直接以测点之间的空间欧式距离作为聚类度量参数，根据手肘法获取A类测点集合的最优k值，将所述最优k输入k-means聚类算法中对所有A类测点进行聚类得到聚类结果，聚类结果为多个A类测点聚簇，然后利用boundary函数包围每个聚簇各自的界，得到多个环境区域。boundary函数是用于搜索三维点云中边界点的函数，为本领域公知技术，不多赘述。进一步的，对B类测点进行聚类，k-means聚类过程一般以数据点之间的距离作为聚类度量参数，但是残影区域是真实测点和伪测点重叠、混杂的，真实测点的测量值为真，但伪测点测量值是虚假的，其显示的测量值与所处空间位置并不对应，因此无法直接利用距离度量对B类测点进行归类。需要说明的是，B类测点聚类过程存在两种问题：第一种是同环境区域内相邻B类测点也可能存在较大的距离差异，这一问题可以引入所述残影特征进行解决，因为残影特征包含了近邻测点信息，相互重叠的真实测点和伪测点可以直接用残影特征矫正聚类距离度量。第二种是假设当残影区域存在于两个环境区域边界时，考虑到后续的点云配准过程，是否应该将一个残影区域划分为两个簇。本实施获取环境调节因子来解决上述问题，具体为：其中，a、b分别代表任意两个B类测点，代表a、b两个测点的环境调节因子， 分别代表a、b测点各自所属环境区域的平均测量值，分别代表第a、b个测点的近邻测点测量值标准差， 表示以自然数为底的指数函数，本实施例采用模型来呈现反比例归一化处理，为模型输入，实施者可根据实际情况设置反比例归一化函数。其中，代表a、b两个测点近邻测点测量值标准差的差值绝对值；代表a、b两个测点各自所属环境区域的平均测量值差值绝对值。代表a、b近邻点测量值标准差的差值绝对值，乘以a、b两个测点各自所属环境区域的平均测量值差值绝对值，然后利用模型对乘积进行反比例归一化。需要说明的是，值代表a、b两点的近邻测点重叠信息是否一致，当与a测点重叠的近邻测点类型，和与b测点重叠的近邻测点类型相近、相同时，接近0。值越小，则代表a、b同属一个环境区域，或属于两个相近且X、Y、Z坐标差异小的环境区域，此时认为即使a、b测点属于不同环境区域，但环境区域之间差异较小，过渡平缓不会对点云配准造成影响；反之当越大时，代表a、b所属不同的环境区域，且两个环境区域X、Y、Z坐标差异越大，此时，即使a、b属于同反射源，也不可以将a、b测点归为同一聚簇，因为a、b所属两个环境区域之间过渡落差较大，会影响后续点云配准过程。S004、利用残影特征、空间欧式距离、环境调节因子优化残影测点的聚类模型，进而利用k-means聚类得到所有残影区域。进一步的，得到环境调节后，根据残影特征与环境调节因子，优化聚类模型，具体为：其中，代表a、b两个测点之间的聚类距离度量，分别代表第a、b个测点的残影特征值，代表第a、b个测点之间的空间欧式距离。其中，代表a、b两个测点的残影特征值相差，代表第a、b个测点的残影特征值差值与空间欧式距离的欧式范数，将该欧式范数除以环境调节，环境调节因子越小，则分子部分的欧式范数会被调节的越大；反之，环境调节因子越大，则分子部分的欧式范数会被调节的越小。以环境调节因子自适应调控不同环境下，B类测点之间的度量参数，进而干预聚类结果。进一步的，得到B类测点的聚类距离度量模型之后，同样根据手肘法获取最优k值，对B类测点进行k-means聚类，得到B类测点的聚类结果，并利用boundary函数包围所述聚类结果中多个聚簇的边界，得到多个残影区域。S005、将每个的残影区域，在点云数据中滑动平移，根据残影区域与环境区域之间的匹配关系，构建loss函数，进而消除伪测点，实现点云配准。残影区域为伪测点和真实测点重合的区域，其中伪测点为从某一真实环境区域反射所得，因此每个残影区域中有接近半数的测点，可以与环境区域高度吻合，因此将残影区域在原始点云数据中进行滑动匹配，滑动方式为遍历原始点云数据中所有位置，根据残影区域滑动过程中与原始点云数据中环境区域的重合情况，筛选伪测点，三维点云空间中利用滑动平移、旋转的方式实现点云配准为该领域的公知技术，并且伪测点在反射形成时不可能发生旋转，在此不多赘述。构建残影区域滑动匹配过程中的loss函数，具体为：其中，p代表第p个残影区域，q代表第q个环境区域，代表滑动过程中第p个残影区域与第q个环境区域所有重叠的测点中，第p个残影区域内第个测点的测量值，代表第q环境区域内第个测点的测量值，代表第p个残影区域与第q个环境区域所有重叠测点的数量，代表第p个残影区域的B类测点总数。需要说明的是，当残影区域滑动过程中与任意环境区域都不重合时，选择距离残影区域空间欧式距离最近的环境区域输出loss函数。其中，代表当第p个残影区域在第q个环境区域上滑动时，重叠测点之间测量值的均方误差，为第p、q区域的第个重叠测点测量值差值，与第q区域内第第个重叠测点测量值的比值，该操作仅为归一化计算；代表第p、q区域重叠测点数量与第p区域总测点数量的比值，与常数所得差值绝对值。进一步的，当第p个残影区域内的测点在滑动平移过程中与第q个环境区域内的测点出现重叠时，计算重叠测点之间的均方误差，该均方误差越小代表匹配度越高；且重叠测点数量需要接近残影区域总测点数量的，因此以作为惩罚项。所述均方误差与惩罚项已统一量纲。进一步的，残影区域每次滑动，loss函数都会输出一个值，当E值最小时，代表目标函数收敛，此时残影区域在原始点云数据中停留位置即为该残影区域的反射源。Loss函数收敛，代表此时对于残影区域内重叠测点的匹配度最高，那么重叠测点即为导致点云残影的伪测点，将重叠测点直接去除，即可实现点云配准，消除点云残影数据。消除点云残影之后，激光雷达所采集的无人驾驶汽车周遭环境数据更为准确，将消除点云残影后的点云数据输入已训练完成的PointNet神经网络中，即可更好的识别无人驾驶汽车行驶过程中的障碍物，消除点云残影可避免汽车运行过程中的过敏指令。需要说明的是本实施例旨在优化无人驾驶汽车激光雷达点云数据的采集质量，为障碍物识别、环境检测、路径规划等提供可靠的数据支持，使无人驾驶汽车运行更为稳定，具体障碍物识别方法等为无人驾驶领域公知技术、手段，本发明不多赘述。本实施例还提供了一种无人驾驶汽车运行检测系统。包括：存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，该计算机程序用于执行本实施例步骤S001~S005的方法。对于计算机程序具体的处理逻辑已经在上述内容中进行了详细阐述，因此不再进行赘述。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
