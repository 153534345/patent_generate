标题title
一种基于中转编译的跨平台同屏方法
摘要abst
本发明涉及同屏显示领域，具体提供了一种基于中转编译的跨平台同屏方法，接收跨平台应用的申请信息，生成跨平台应用的中转编译请求，并在云端服务器中获取与中转编译请求对应的编译脚本；其中，编译脚本预先配置于云端服务器的编译数据库中；在云端服务器配置与跨平台应用进行信息交互的中转协议栈；其中，中转协议栈设置有至少一个中转对接端口和至少两个信息交互端口；将编译脚本和中转对接端口连接，并通过信息交互端口分别连接跨平台应用，进行同屏显示。可以实现不同平台之间的同屏显示，在不同平台之间进行编译，让不同的数据，可以符合对应平台的显示格式，从而跨平台同屏。
权利要求书clms
1.一种基于中转编译的跨平台同屏方法，其特征在于，包括：接收跨平台应用的申请信息，生成跨平台应用的中转编译请求，并在云端服务器中获取与中转编译请求对应的编译脚本；其中，编译脚本预先配置于云端服务器的编译数据库中；在云端服务器配置跨平台应用进行信息交互的中转协议栈；其中，中转协议栈设置有至少一个中转对接端口和至少两个信息交互端口；将编译脚本和中转对接端口连接，并通过信息交互端口分别连接跨平台应用，进行同屏显示。2.如权利要求1所述的一种基于中转编译的跨平台同屏方法，其特征在于，所述跨平台应用通过动态可重构高速串行总线协议连接云端服务器；其中，动态可重构高速串行总线协议基于多通道通信的总线型拓扑结构进行数据交互；总线型拓扑结构配置有数据节点，每个数据节点对接于一个跨平台应用；其中，数据节点上配置有用于触发请求的向量参数，触发请求包括中断请求、编译请求和同屏请求。3.如权利要求2所述的一种基于中转编译的跨平台同屏方法，其特征在于，所述申请信息包括至少一个请求平台向目标平台发出的同屏申请信息；其中，同屏申请信息对应于目标平台实时播放的屏幕界面，目标平台不低于一个；在目标平台不低于一个时，请求平台执行分屏操作，并在对应数据节点上生成隔离交互的多通信信道。4.如权利要求1所述的一种基于中转编译的跨平台同屏方法，其特征在于，所述中转编译请求包括中转请求和编译请求；其中，中转请求包括同步中转请求和延迟中转请求；当接收到同步中转请求和编译请求时，在云端服务器生成基于跨平台应用的时间戳同步机制，通过时间戳同步机制在云端服务器中进行编译映射；当接收到延迟中转请求和编译请求时，在云端服务器生成基于跨平台应用的延迟变迁机制，通过延迟变迁机制在云端服务器进行延迟同屏。5.如权利要求4所述的一种基于中转编译的跨平台同屏方法，其特征在于，所述编译请求中携带有跨平台应用的数据格式信息；其中，数据格式信息包括跨平台应用中实时显示的主机平台的第一格式信息，以及进行同屏显示的从机平台的第二格式信息；第一格式信息和第二格式信息在云端服务器中配置有进行数据编译识别的编译向量，编译向量与编译脚本之间具有关联响应。6.如权利要求1所述的一种基于中转编译的跨平台同屏方法，其特征在于，所述中转协议栈包括识别层、编译层和交互层；其中，识别层和编译层之间配置有格式响应，编译层和交互层之间配置有传输响应；识别层用于识别编译脚本，在中转编译请求中，识别执行跨平台同屏的目标平台的数据格式；编译层用于配置有脚本对接端口，用于连接编译脚本，并通过数据格式和格式响应，启动连接后的编译脚本；交互层用于连接跨平台应用，用于在编译脚本启动后，根据跨平台应用和传输响应，进行同屏显示。7.如权利要求6所述的一种基于中转编译的跨平台同屏方法，其特征在于，所述交互层还配置有同屏检测机制；其中，同屏检测机制包括记录时钟和检测单元，检测单元用于进行帧数检测、数据包检测和编码检测；记录时钟用于记录编译脚本编译前的数据流和编译后的数据流，判断是否存在数据缺失。8.如权利要求7所述的一种基于中转编译的跨平台同屏方法，其特征在于，所述记录时钟包括延迟计算和丢包计算；其中，延迟计算时，云端服务器用于判断编译脚本编译前的不同数据到达编译脚本的第一时间戳差值和编译脚本编译后不同数据达到目标跨平台应用的第二时间戳差值是否一致，并在不一致时，确定延迟时间；丢包计算时，云端服务器用于记录编译脚本编译前数据到达编译脚本的第一数据包和编译脚本编译后数据到达目标跨平台应用的第二数据包是否一致，并在不一致时，确定丢包率。9.如权利要求1所述的一种基于中转编译的跨平台同屏方法，其特征在于，所述中转对接端口包括信道隔离的数据输出端口和数据接收端口；数据输出端口和数据接收端口之间配置有融合编译脚本的转换填充模型；转换填充模型为编译脚本的驱动模型。10.如权利要求1所述的一种基于中转编译的跨平台同屏方法，其特征在于，所述信息交互端口用于响应跨平台应用的确定操作，并创建与跨平台应用关联的交互关联关系；其中，确定操作用于在中转编译请求生成时，构成第一确定响应，并在编译脚本编译完成后，生成第二确定响应。
说明书desc
技术领域本发明涉及跨平台技术领域，特别涉及一种基于中转编译的跨平台同屏方法。背景技术目前，远程同屏专利主要集中在远程教育、家庭影视、机器人定位等方向。远程同屏功能在工程机械行业内无法大量应用的一个原因就在于需要开发两套软件，设备端开发的软件不能直接应用在远程的PC端或是移动端。传统的远程同屏功能，车载端和远程端需要分别开发软件，工作量很大，而且工程机械行业的软件变更非常频繁，这样车载端和远程端的软件都需要进行更改，非常麻烦。此外，之前的远程同屏仅限于相同的平台，对于不同的应用软件，无法实现同屏。发明内容本发明提供一种基于中转编译的跨平台同屏方法，用以解决不同的应用软件无法实现同屏的情况。一种基于中转编译的跨平台同屏方法，包括：接收跨平台应用的申请信息，生成跨平台应用的中转编译请求，并在云端服务器中获取与中转编译请求对应的编译脚本；其中，编译脚本预先配置于云端服务器的编译数据库中；在云端服务器配置有跨平台应用进行信息交互的中转协议栈；其中，中转协议栈设置有至少一个中转对接端口和至少两个信息交互端口；将编译脚本和中转对接端口连接，并通过信息交互端口分别连接跨平台应用，进行同屏显示。优选的，所述跨平台应用通过动态可重构高速串行总线协议连接云端服务器；其中，动态可重构高速串行总线协议基于多通道通信的总线型拓扑结构进行数据交互；总线型拓扑结构配置有数据节点，每个数据节点对接于一个跨平台应用；其中，数据节点上配置有用于触发请求的向量参数，触发请求包括中断请求、编译请求和同屏请求。优选的，所述申请信息包括至少一个请求平台向目标平台发出的同屏申请信息；其中，同屏申请信息对应于目标平台实时播放的屏幕界面，目标平台不低于一个；在目标平台不低于一个时，请求平台执行分屏操作，并在对应数据节点上生成隔离交互的多通信信道。优选的，所述中转编译请求包括中转请求和编译请求；其中，中转请求包括同步中转请求和延迟中转请求；当接收到同步中转请求和编译请求时，在云端服务器生成基于跨平台应用的时间戳同步机制，通过时间戳同步机制在云端服务器中进行编译映射；当接收到延迟中转请求和编译请求时，在云端服务器生成基于跨平台应用的延迟变迁机制，通过延迟变迁机制在云端服务器进行延迟同屏。优选的，所述编译请求中携带有跨平台应用的数据格式信息；其中，数据格式信息包括跨平台应用中实时显示的主机平台的第一格式信息，以及进行同屏显示的从机平台的第二格式信息；第一格式信息和第二格式信息在云端服务器中配置有进行数据编译识别的编译向量，编译向量与编译脚本之间具有关联响应。优选的，所述中转协议栈包括识别层、编译层和交互层；其中，识别和编译层之间配置有格式响应，编译层和交互层之间配置有传输响应；识别层用于识别编译脚本，在中转编译请求中，识别执行跨平台同屏的目标平台的数据格式；编译层用于配置有脚本对接端口，用于连接编译脚本，并通过数据格式和格式响应，启动连接后的编译脚本；交互层用于连接跨平台应用，用于在编译脚本启动后，根据跨平台应用和传输响应，进行同屏显示。优选的，所述交互层还配置有同屏检测机制；其中，同屏检测机制包括记录时钟和检测单元，检测单元用于进行帧数检测、数据包检测和编码检测；记录时钟用于记录编译脚本编译前的数据流和编译后的数据流，判断是否存在数据缺失。优选的，所述记录时钟包括延迟计算和丢包计算；其中，延迟计算时，云端服务器用于判断编译脚本编译前的不同数据到达编译脚本的第一时间戳差值和编译脚本编译后不同数据达到目标跨平台应用的第二时间戳差值是否一致，并在不一致时，确定延迟时间；丢包计算时，云端服务器用于记录编译脚本编译前数据到达编译脚本的第一数据包和编译脚本编译后数据到达目标跨平台应用的第二数据包是否一致，并在不一致时，确定丢包率。优选的，所述中转对接端口包括信道隔离的数据输出端口和数据接收端口；数据输出端口和数据接收端口之间配置有融合编译脚本的转换填充模型；转换填充模型为编译脚本的驱动模型。优选的，所述信息交互端口用于响应跨平台应用的确定操作，并创建与跨平台应用关联的交互关联关系；其中，确定操作用于在中转编译请求生成时，构成第一确定响应，并在编译脚本编译完成后，生成第二确定响应。本发明有益效果在于：本申请可以实现不同平台之间的同屏显示，在不同平台之间进行编译，让不同的数据，可以符合对应平台的显示格式，从而跨平台同屏。本申请的跨平台同屏是一站式的同屏方式，可以实现多平台对多平台、单平台对多平台，单平台对单平台，多平台对单平台四种方式的同屏显示。本申请在同屏显示的时候，可以实现切换不同的编译脚本，从而任意对接不同平台，实现同屏显示。本发明的其它特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点可通过在所写的说明书以及附图中所特别指出的结构来实现和获得。下面通过附图和实施例，对本发明的技术方案做进一步的详细描述。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1为本发明实施例中中转编译结构图；图2为本发明实施例中编译脚本连接示意图图；图3为本发明实施例中多主机显示和单主机显示的示意图。具体实施方式以下结合附图对本发明的优选实施例进行说明，应当理解，此处所描述的优选实施例仅用于说明和解释本发明，并不用于限定本发明。本申请提出了一种基于中转编译的跨平台同屏方法，包括：接收跨平台应用的申请信息，生成跨平台应用的中转编译请求，并在云端服务器中获取与中转编译请求对应的编译脚本；其中，编译脚本预先配置于云端服务器的编译数据库中；在云端服务器配置有跨平台应用进行信息交互的中转协议栈；其中，中转协议栈设置有至少一个中转对接端口和至少两个信息交互端口；将编译脚本和中转对接端口连接，并通过信息交互端口分别连接跨平台应用，进行同屏显示。上述技术方案的原理在于：如附图1、附图2和附图3所示，本申请在为了解决不同平台之前的同屏显示功能，主要的技术是设置“编译技术”通过设置中转编译功能，实现不同平台之间的中转编译，从而，不同平台之间，就算是数据格式不同，也能够实现不同平台的显示，因为，所有的从机平台都通过中转编译的编译脚本，实现数据中转编译，符合不同从机平台的显示格式。相对于现有技术的跨平台编译手段，一个编译脚本只能编译两个不同平台的不同格式显示的数据，如果，存在三个平台、四个平台或者更多的不同平台，只是一个编译脚本就无法实现同步的编译处理，所以本申请设置了中转协议栈，中转协议栈可以对接多种不同的编译脚本，从而实现一次性的将一个视频流编译为多种不同平台都可以显示的格式，实现多个平台的同屏显示。在本申请实施过程中，申请信息为需要进行跨平台播放的平台信息；通过平台信息，云端服务器自动响应，确定目标平台的格式信息，从而确定对应的编译脚本。然后将编译脚本和中转协议站进行对接，从而实现跨平台的同屏显示。上述技术方案的有益效果在于：本申请可以实现不同平台之间的同屏显示，在不同平台之间进行编译，让不同的数据，可以符合对应平台的显示格式，从而跨平台同屏。本申请的跨平台同屏是一站式的同屏方式，可以实现多平台对多平台、单平台对多平台，单平台对单平台，多平台对单平台四种方式的同屏显示。本申请在同屏显示的时候，可以实现切换不同的编译脚本，从而任意对接不同平台，实现同屏显示。优选的，所述跨平台应用通过动态可重构高速串行总线协议连接云端服务器；其中，动态可重构高速串行总线协议基于多通道通信的总线型拓扑结构进行数据交互；总线型拓扑结构配置有数据节点，每个数据节点对接于一个跨平台应用；其中，数据节点上配置有用于触发请求的向量参数，触发请求包括中断请求、编译请求和同屏请求。上述技术方案的原理在于：本申请在跨平台的时候采用了动态可重构高速串行总线协议，即这些协议是动态的实现协议变换，本申请的多通信信道可以实现同一时刻连接多个终端设备或者用户账号登录的设备，即通过不同的数据节点连接不同终端设备上的跨平台应用，从而触发对应的同屏请求的向量参数，进而实现同屏幕显示。本申请存在多种请求通过请求的向量参数，执行不同的请求。上述技术方案的有益效果在于：本申请在跨平台的时候采用了动态可重构高速串行总线协议，即这些协议是动态的实现协议变换，从而才能实现不同平台的显示。优选的，所述申请信息包括至少一个请求平台向目标平台发出的同屏申请信息；其中，同屏申请信息对应于目标平台实时播放的屏幕界面，目标平台不低于一个；在目标平台不低于一个时，请求平台执行分屏操作，并在对应数据节点上生成隔离交互的多通信信道。上述技术方案的原理在于：本申请在接收到同屏显示信息的时候，会向至少一个平台发送同屏申请信息，从而实现交互同屏。目标平台是进行同屏显示的主平台；在主平台为多个平台的时候，可以通过数据节点生成隔离交互的多通信信道，从而将同屏显示的多个主平台的界面，生成九宫格或者多种不同界面尺寸的小型显示界面，显示在同屏显示的子界面之上。上述技术方案的有益效果在于：本申请可以实现多平台对多平台、单平台对多平台，单平台对单平台，多平台对单平台四种方式的同屏显示。优选的，所述中转编译请求包括中转请求和编译请求；其中，中转请求包括同步中转请求和延迟中转请求；当接收到同步中转请求和编译请求时，在云端服务器生成基于跨平台应用的时间戳同步机制，通过时间戳同步机制在云端服务器中进行编译映射；当接收到延迟中转请求和编译请求时，在云端服务器生成基于跨平台应用的延迟变迁机制，通过延迟变迁机制在云端服务器进行延迟同屏。上述技术方案的原理在于：本申请的中转编译请求存在中转和编译两种请求，因此可以实现延迟同屏和实时同屏；在这个过程中，延迟同屏可以基于变迁机制，实现时间的延迟；同步同屏可以通过编译映射的机制，实现同步映射编译。时间戳同步机制，就是通过时间戳，在云服务器中进行对应时间戳的界面映射，直接将主平台的实时界面同步映射的方式显示在子平台中。延迟中转请求是通过预先确定延时时间，然后根据延时时间，控制子平台显示主平台的显示界面。上述技术方案的有益效果在于：本申请的中转编译请求存在中转和编译两种请求，因此可以实现延迟同屏和实时同屏，适应于同步会议的场景和远程控制的时候，可以延时机制，在主平台显示错误的时候，基于这个延时机制发现错误，防止错误信息直接同步显示在子平台之中。优选的，所述编译请求中携带有跨平台应用的数据格式信息；其中，数据格式信息包括跨平台应用中实时显示的主机平台的第一格式信息，以及进行同屏显示的从机平台的第二格式信息；第一格式信息和第二格式信息在云端服务器中配置有进行数据编译识别的编译向量，编译向量与编译脚本之间具有关联响应。上述技术方案的原理在于：本申请的数据格式信息中包括主机平台和从机平台的不同格式信息，从而判断需要选择的具体的编译脚本，然后基于编译脚本实现关联响应的编译，防止在进行编译的时候出现编译错误。上述技术方案的有益效果在于：本申请可以实现任意不同格式的数据编译，适配不同的脚本，实现动态配置编译转换的编译脚本。优选的，所述中转协议栈包括识别层、编译层和交互层；其中，识别和编译层之间配置有格式响应，编译层和交互层之间配置有传输响应；识别层用于识别编译脚本，在中转编译请求中，识别执行跨平台同屏的目标平台的数据格式；编译层用于配置有脚本对接端口，用于连接编译脚本，并通过数据格式和格式响应，启动连接后的编译脚本；交互层用于连接跨平台应用，用于在编译脚本启动后，根据跨平台应用和传输响应，进行同屏显示。上述技术方案的原理在于：本申请的中转协议栈包括三层，识别层、编译层和交互层，识别层用于识别接入的平台以及编译脚本。编译层用于对接编译脚本，从而起到不同平台的不同格式转换功能，实现同屏显示。交互层用于连接不同终端设备上的跨平台应用，实现编译前猴儿编译后的数据传输。格式响应的作用是进行不同编译脚本的编译转换格式和主机平台的源格式以及从机平台的目标格式的格式响应，进行对应的数据格式的信息识别；传输响应是进行数据传输编译前和编译后，主机平台的数据输入传输响应和从机平台的数据接入响应，判断跨平台同屏是否平稳。上述技术方案的有益效果在于：本申请通过中转协议栈，可以实现对不同平台和不同终端设备的数据进行自适应转换，并基于传输响应和格式响应，保证同屏显示的过程中不会出现数据错误。优选的，所述交互层还配置有同屏检测机制；其中，同屏检测机制包括记录时钟和检测单元，检测单元用于进行帧数检测、数据包检测和编码检测；记录时钟用于记录编译脚本编译前的数据流和编译后的数据流，判断是否存在数据缺失。上述技术方案的原理在于：本申请的同屏检测机制是通过记录时钟和检测单元，从时间角度和数据传输角度进行的同步检测方式；首先记录时钟用于记录编译前后的数据流中每一份数据的时间戳，包括同屏显示界面的帧图像、数据传输打包过程中的数据包，以及编译过程中的编译脚本的编码执行进程；通过时间戳记录这些数据，然后判断编译前后数据流中数据的个数，帧图像的显示界面是否一致，从而判断是否存在数据缺失。上述技术方案的有益效果在于：本申请可以通过同屏检测机制，判断是否存在数据缺失，从而防止同屏显示的界面是否存在缺失。优选的，所述记录时钟包括延迟计算和丢包计算；其中，延迟计算时，云端服务器用于判断编译脚本编译前的不同数据到达编译脚本的第一时间戳差值和编译脚本编译后不同数据达到目标跨平台应用的第二时间戳差值是否一致，并在不一致时，确定延迟时间；丢包计算时，云端服务器用于记录编译脚本编译前数据到达编译脚本的第一数据包和编译脚本编译后数据到达目标跨平台应用的第二数据包是否一致，并在不一致时，确定丢包率。上述技术方案的原理在于：本申请的同屏检测机制在执行的过程中，会进行延迟计算和丢包计算，在这个过程中：延迟计算是通过判断编译前后，数据流传输过程的差值是否一致，这个差值是根据传输过程中，数据因为网络传输速度产生的必要延迟时间，通过必要延迟时间的计算，为数据是否存在缺失提供第一检测结果；丢包计算是通过数据包进行计算，编译前后，数据量可能存在变化，但是进行打包的数据包数量是一直的，因此，在传输时间上存在延迟，并且数据包数量不一致的情况下，必定表明同屏显示存在异常。上述技术方案的有益效果在于：本申请可以从丢包计算和延迟计算两方面，判断出同屏显示的过程中必定存在异常。优选的，所述中转对接端口包括信道隔离的数据输出端口和数据接收端口；数据输出端口和数据接收端口之间配置有融合编译脚本的转换填充模型；转换填充模型为编译脚本的驱动模型。上述技术方案的原理在于：本申请中转对接端口存在信道隔离的数据输出端口和数据接收端口，这两个端口之间设置的是基于填充机制的编辑脚本加载方式，从而在进行不同格式转换的过程中，进行变化不同的编译脚本，适应于任意格式的数据转换。上述技术方案的有益效果在于：本申请通过转换填充模型，进行不同跨平台应用的改变，实现自适应搭配编译脚本。优选的，所述信息交互端口用于响应跨平台应用的确定操作，并创建与跨平台应用关联的交互关联关系；其中，确定操作用于在中转编译请求生成时，构成第一确定响应，并在编译脚本编译完成后，生成第二确定响应。上述技术方案的原理在于：本申请的交互关系在生成的时候，会同时生成第一确定响应和第二确定响应，从而实现同步响应，同步关联。第一确定响应是请求生成的响应，而第二确定响应是编译转换完成的响应，实现双重的同屏显示机制的认定。上述技术方案的有益效果在于：本申请在编译的时候可以实现同步响应和关联处理。显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。
