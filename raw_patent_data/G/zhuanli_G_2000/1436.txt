标题title
一种基于物联网的智能家居控制系统及方法
摘要abst
本发明涉及智能家居技术领域，具体为一种基于物联网的智能家居控制系统及方法，包括：采集所有区域的位置信息、所有智能家居的设备信息，并调取任意使用记录在使用前一段时间内目标用户的位置信息；对所有采集的数据进行加密存储；分析各个区域的关联性，进行主要设备和次要设备的划分；划分n*n个区块，获取任意区块的位置范围，分析任意次要设备使用前的位置规律，进一步构建任意次要设备的个性化区块集；预测目标用户进入的所有区域，智能控制主要设备和次要设备的开启；未检测到用户的使用时长大于设定阈值时，关闭设备，进行实时显示，有效提高智能家居的智能性。
权利要求书clms
1.一种基于物联网的智能家居控制方法，其特征在于：包括以下步骤：步骤S100：以目标用户居住地的平面设计图构建二维平面坐标系，采集平面设计图中划分的所有区域的位置信息，形成区域范围集；采集所有智能家居的设备信息，设为目标设备，形成设备信息集；基于设备信息集，采集任意目标设备的历史使用记录，形成使用记录集；基于使用记录集，利用人体传感器调取任意使用记录在使用前一段时间内目标用户的位置信息，形成位置信息集；对所有采集的数据进行加密存储；步骤S200：根据区域范围集和位置信息集分析区域范围集中各个区域的关联性；根据使用记录集分析目标用户对任意目标设备的使用规律性，进一步对任意目标设备进行主要设备和次要设备的划分；步骤S300：将区域范围集中的任意区域划分为n*n个区块，分别获取任意区块的位置范围，形成区块集；将区块集中任意区块的位置范围和设备信息集中任意次要设备信息进行匹配，形成区块设备集；根据区块集和任意使用记录的位置信息集分析任意次要设备使用前目标用户在区块集内的位置规律，进一步根据位置规律和区块设备集构建任意次要设备的个性化区块集；步骤S400：利用人体传感器实时采集当前目标用户的位置信息，根据当前位置信息和区域的关联性预测目标用户进入的所有区域，设为待使用区域，此时智能控制所有待使用区域的主要设备开启；在目标用户进入任意待使用区域时，将目标用户的实时位置和区块集进行匹配，分析用户符合任意次要设备的个性化区块集的概率，智能控制概率超过阈值的次要设备开启；步骤S500：当人体传感器未检测到目标用户的使用时长大于设定阈值时，将待使用区域的主要设备和次要设备进行关闭处理，并对所有目标设备的工作状态进行实时显示。2.根据权利要求1所述的一种基于物联网的智能家居控制方法，其特征在于：所述步骤S100包括：步骤S110：获取目标用户居住地的平面设计图，以居住地的水平面某一顶角为坐标原点，构建二维平面坐标系，则采集平面设计图中划分的所有区域的位置信息，形成区域范围集A；步骤S120：对所有智能家居的设备信息进行采集，并将智能家居设为目标设备，形成设备信息集B；进一步对设备信息集B中任意目标设备bi的历史使用记录进行信息采集，形成使用记录信息集Ci＝{c1,c2,…,cm}，其中c1,c2,…,cm分别表示对应任意目标设备bi在第1,2,…,m条历史使用记录中的时间点和使用时长；步骤S130：对区域范围集A中的任意区域安装人体感应器，利用人体传感器调取任意使用记录cj在使用前的t时间段内目标用户的位置信息，形成位置信息集Dj＝{,,…,}，其中,,…,表示任意使用记录cj在使用前t时间段内目标用户第1,2，…,t个时间点时目标用户的位置信息；步骤S140：对采集到的区域范围集A、设备信息集B、使用记录信息集Ci和位置信息集Dj进行采集，利用非对称算法进行加密存储处理。3.根据权利要求2所述的一种基于物联网的智能家居控制方法，其特征在于：所述步骤S200包括：步骤S210：获取位置信息集Dj中目标用户进入区域范围集A中的所有区域，形成区域顺序集Ej＝{ej1,ej2,…,ejk}，其中ej1,ej2,…,ejk表示任意使用记录cj在使用前的t时间段内目标用户进入的顺序标号为1,2,…,k的区域，此时遍历任意目标设备bi的使用记录信息集Ci，形成由m个区域顺序集Ej组成的顺序集合E；获取区域顺序集Ej中任意区域ejf在顺序集合E中的占比p，当p大于概率阈值α/m时，将区域r表示为任意区域ejf，则对顺序集合E中存在区域r的所有区域顺序集Ej进行提取，形成筛选集合*E＝{E1,E2,…,Ew}，其中E1,E2,…,Ew表示存在区域r的第1,2,…,w个区域顺序集；步骤S220：根据筛选集合*E确认区域r在任意区域顺序集Ej中的位置fj，形成顺序标号集：*Ef＝{f1,f2,…,fw}，其中f1,f2,…,fw表示区域r第1,2,…,w个区域顺序集中的位置标号信息；根据顺序标号集*Ef中任意标号fj的相邻标号fj+1，确认区域r的任意相邻区域为ej；进一步得到任意相邻区域ej和其它相邻区域的关联度β＝！{eλ-ej}，其中λ＝1,2,…,w，则根据关联度β得到任意相邻区域ej和区域r的关联性为ρj＝/w，遍历顺序标号集*Ef，将w个关联性值ρj利用冒泡排序法进行降序，并确认ρ1对应的相邻区域为eq；当ρ1大于关联阈值σ，则将相邻区域eq确认为区域r的连接区域；此时得到顺序集合E中任意区域ejf的连接区域为eq，并根据步骤S210和步骤S220确认连接区域eq是否仍存在连接区域；通过遍历区域范围集A，根据任意区域ejf的连接区域对相关联的区域进行聚合，根据聚合后任意区域种类的数量大小进行降序，形成区域范围集A’＝{R1,R2,…,Rz}，其中R1,R2,…,Rz表示区域范围集A中将相关联区域进行聚合后的第1,2,…,z种区域集合；步骤S230：将根据设备信息集B获取的所有目标设备的位置信息和区域范围集A进行匹配，确认任意目标设备bi所处的任意区域au对应的区域集合为Rg；根据任意目标设备bi的使用记录信息集Ci，确认任意目标设备bi的使用频率为hi＝/m，当使用频率hi＞γ1时，对任意目标设备bi进行剔除；当使用频率γ2＜hi＜γ1时，将任意目标设备bi划分为主要设备；反之，若使用频率hi＜γ2时，将任意目标设备bi划分为次要设备，其中γ1、γ2均表示频率阈值。4.根据权利要求3所述的一种基于物联网的智能家居控制方法，其特征在于：所述步骤S300包括：步骤S310：将区域范围集A中任意区域au根据区域面积划分为n*n个区块，分别获取任意区块的位置范围，形成区块集U＝{u1,u2,…,u}；其中u1,u2,…,u表示对任意区域au等分后的第1,2,…,n*n个区块位置信息；根据步骤S230获取任意区域au中的任意次要设备信息，将所述任意次要设备信息和区块集U进行匹配，确认任意次要设备ba对应的区块位置ua；步骤S320：获取任意次要设备ba的使用记录集为Ca，则基于使用记录集Ca中任意使用记录cj所形成的位置信息集Dj获取目标用户在任意区域au中的位置信息，进一步将目标用户在任意区域au中的所有位置信息和区块集进行匹配，形成任意区块变化*Uj；通过遍历使用记录集Ca，得到m次使用记录中目标用户在任意区域au的区块变化，形成区块变化集*U＝{*U1,*U2,…,*Um}；基于区块变化集*U，利用整合算法对所有区块变化整合成新的区块变化*U0，则将新的区块变化*U0作为任意次要设备ba的个性化区块集。5.根据权利要求4所述的一种基于物联网的智能家居控制方法，其特征在于：所述步骤S400包括：步骤S410：利用人体传感器实时采集当前目标用户的位置信息，确认目标用户所处区域为au，则根据区域的关联性将区域集合Rg作为待使用区域，此时智能控制所有待使用区域Rg的主要设备开启；步骤S420：利用人体传感器实时检测到目标用户进入区域au时的位置变化，将实时获取的位置变化和区块集U进行匹配，形成实时区块变化*Um+1；此时将实时区块变化*Um+1和新的区块变化*U0进行匹配，得到匹配相似度Υ＝|*Um+1∩*U0|/|*Um+1∪*U0|；当匹配相似度大于匹配阈值φ时，对任意次要设备ba进行智能开启。6.用于实现权利要求1-5中任一项所述的一种基于物联网的智能家居控制方法的智能家居控制系统，其特征在于：所述系统包括：数据采集模块、数据库、区域分析模块、个性化构建模块、智能控制模块和数据反馈模块；通过所述数据采集模块以目标用户居住地的平面设计图构建二维平面坐标系，采集平面设计图中划分的所有区域的位置信息，形成区域范围集；采集所有智能家居的设备信息，设为目标设备，形成设备信息集；基于设备信息集，采集任意目标设备的历史使用记录，形成使用记录集；基于使用记录集，利用人体传感器调取任意使用记录在使用前一段时间内目标用户的位置信息，形成位置信息集；通过所述数据库对所有采集的数据进行加密存储；通过所述区域分析模块根据区域范围集和位置信息集分析区域范围集中各个区域的关联性；根据使用记录集分析目标用户对任意目标设备的使用规律性，进一步对任意目标设备进行主要设备和次要设备的划分；通过所述个性化构建模块将区域范围集中的任意区域划分为n*n个区块，分别获取任意区块的位置范围，形成区块集；将区块集中任意区块的位置范围和设备信息集中任意次要设备信息进行匹配，形成区块设备集；根据区块集和任意使用记录的位置信息集分析任意次要设备使用前目标用户在区块集内的位置规律，进一步根据位置规律和区块设备集构建任意次要设备的个性化区块集；通过所述智能控制模块利用人体传感器实时采集当前目标用户的位置信息，根据当前位置信息和区域的关联性预测目标用户进入的所有区域，设为待使用区域，此时智能控制所有待使用区域的主要设备开启；在目标用户进入任意待使用区域时，将目标用户的实时位置和区块集进行匹配，分析用户符合任意次要设备的个性化区块集的概率，智能控制概率超过阈值的次要设备开启；通过所述数据反馈模块当人体传感器未检测到目标用户的使用时长大于设定阈值时，将待使用区域的主要设备和次要设备进行关闭处理，并对所有目标设备的工作状态进行实时显示。7.根据权利要求6所述的智能家居控制系统，其特征在于：所述数据采集模块包括区域范围采集单元、设备信息采集单元和位置信息采集单元；所述区域范围采集单元用于采集平面设计图中划分的所有区域的位置信息；所述设备信息采集单元用于采集任意目标设备的历史使用记录；所述位置信息采集单元用于利用人体传感器调取任意使用记录在使用前一段时间内目标用户的位置信息。8.根据权利要求6所述的智能家居控制系统，其特征在于：所述区域分析模块包括关联分析单元和设备划分单元；所述关联分析单元用于根据区域范围集和位置信息集分析区域范围集中各个区域的关联性；所述设备划分单元用于根据使用记录集分析目标用户对任意目标设备的使用规律性，进一步对任意目标设备进行主要设备和次要设备的划分。9.根据权利要求6所述的智能家居控制系统，其特征在于：所述个性化构建模块包括区块匹配单元和个性化分析单元；所述区块匹配单元用于将任意区域划分为n*n个区块，形成区块集，则将区块集中任意区块的位置范围和设备信息集中任意次要设备信息进行匹配，形成区块设备集；所述个性化分析单元用于分析任意次要设备使用前目标用户在区块集内的位置规律，进一步根据位置规律和区块设备集构建任意次要设备的个性化区块集。10.根据权利要求6所述的智能家居控制系统，其特征在于：所述智能控制模块包括实时采集单元、主要设备控制单元和次要设备控制单元；所述实时采集单元用于实时采集当前目标用户的位置信息；所述主要设备控制单元用于根据当前位置信息和区域的关联性预测目标用户进入的所有区域，设为待使用区域，此时智能控制所有待使用区域的主要设备开启；所述次要设备控制单元用于在目标用户进入任意待使用区域时，将目标用户的实时位置和区块集进行匹配，分析用户符合任意次要设备的个性化区块集的概率，智能控制概率超过阈值的次要设备开启。
说明书desc
技术领域本发明涉及智能家居技术领域，具体为一种基于物联网的智能家居控制系统及方法。背景技术智能家居是指在智能家居控制系统中对网络安全通信技术、自动控制技术与计算机网络技术进行充分的使用，使家具具有一定的智能特点。随着经济的快速发展，智能家居逐步成为当前现代建筑在信息化过程中的一个重要趋势，符合消费者追求较高生活质量的实际需求。伴随当前物联网技术、云计算技术等的快速发展，很多新技术在智能家居控制系统当中，扮演着非常重要的角色，为人们的家居生活提供了更舒适更安全的服务。现有技术中通常是通过语音来对智能家居进行控制的，当用户进入居住地时，智能家居几乎会全部进行响应，主机控制照明系统开启，控制温度模块等很多智能模块开启，然而当用户对某些智能模块功能需求性不高时，开启后不仅影响用户使用，还浪费许多资源；因此，如何根据用户需求对智能家居进行智能控制成为亟待解决的问题。发明内容本发明的目的在于提供一种基于物联网的智能家居控制系统及方法，以解决上述背景技术中提出的问题。为了解决上述技术问题，本发明提供如下技术方案：一种基于物联网的智能家居控制方法，包括以下步骤：步骤S100：以目标用户居住地的平面设计图构建二维平面坐标系，采集平面设计图中划分的所有区域的位置信息，形成区域范围集；采集所有智能家居的设备信息，设为目标设备，形成设备信息集，其中包括智能家居名称和相应的位置信息；基于设备信息集，采集任意目标设备的历史使用记录，形成使用记录集；基于使用记录集，利用人体传感器调取任意使用记录在使用前一段时间内目标用户的位置信息，形成位置信息集；对所有采集的数据进行加密存储；步骤S200：根据区域范围集和位置信息集分析区域范围集中各个区域的关联性；根据使用记录集分析目标用户对任意目标设备的使用规律性，进一步对任意目标设备进行主要设备和次要设备的划分；步骤S300：将区域范围集中的任意区域划分为n*n个区块，分别获取任意区块的位置范围，形成区块集；将区块集中任意区块的位置范围和设备信息集中任意次要设备信息进行匹配，形成区块设备集；根据区块集和任意使用记录的位置信息集分析任意次要设备使用前目标用户在区块集内的位置规律，进一步根据位置规律和区块设备集构建任意次要设备的个性化区块集；步骤S400：对任意区域内设置人体传感器，利用人体传感器实时采集当前目标用户的位置信息，根据当前位置信息和区域的关联性预测目标用户进入的所有区域，设为待使用区域，此时智能控制所有待使用区域的主要设备开启；在目标用户进入任意待使用区域时，将目标用户的实时位置和区块集进行匹配，分析用户符合任意次要设备的个性化区块集的概率，智能控制概率超过阈值的次要设备开启；步骤S500：当任意区域内的人体传感器未检测到目标用户的使用时长大于设定阈值时，将待使用区域的主要设备和次要设备进行关闭处理，并对所有目标设备的工作状态进行实时显示进一步的，步骤S100包括：步骤S110：获取目标用户居住地的平面设计图，以居住地的水平面某一顶角为坐标原点，构建二维平面坐标系，则采集平面设计图中划分的所有区域的位置信息，形成区域范围集A；步骤S120：对所有智能家居的设备信息进行采集，并将智能家居设为目标设备，形成设备信息集B；进一步对设备信息集B中任意目标设备bi的历史使用记录进行信息采集，形成使用记录信息集Ci＝{c1,c2,…,cm}，其中c1,c2,…,cm分别表示对应任意目标设备bi在第1,2,…,m条历史使用记录中的时间点和使用时长；步骤S130：对区域范围集A中的任意区域安装人体感应器，利用人体传感器调取任意使用记录cj在使用前的t时间段内目标用户的位置信息，形成位置信息集Dj＝{,,…,}，其中,,…,表示任意使用记录cj在使用前t时间段内目标用户第1,2，…,t个时间点时目标用户的位置信息，其中，设置为t时间段的目的是保留数据的完整性，使得对用户习惯判断更加准确；步骤S140：对采集到的区域范围集A、设备信息集B、使用记录信息集Ci和位置信息集Dj进行采集，利用非对称算法进行加密存储处理。进一步的，步骤S200包括：步骤S210：获取位置信息集Dj中目标用户进入区域范围集A中的所有区域，形成区域顺序集Ej＝{ej1,ej2,…,ejk}，其中ej1,ej2,…,ejk表示任意使用记录cj在使用前的t时间段内目标用户进入的顺序标号为1,2,…,k的区域，此时遍历任意目标设备bi的使用记录信息集Ci，形成由m个区域顺序集Ej组成的顺序集合E；获取区域顺序集Ej中任意区域ejf在顺序集合E中的占比p，当p大于概率阈值α/m时，将区域r表示为任意区域ejf，则对顺序集合E中存在区域r的所有区域顺序集Ej进行提取，形成筛选集合*E＝{E1,E2,…,Ew}，其中E1,E2,…,Ew表示存在区域r的第1,2,…,w个区域顺序集；步骤S220：根据筛选集合*E确认区域r在任意区域顺序集Ej中的位置fj，形成顺序标号集：*Ef＝{f1,f2,…,fw}，其中f1,f2,…,fw表示区域r第1,2,…,w个区域顺序集中的位置标号信息；根据顺序标号集*Ef中任意标号fj的相邻标号fj+1，确认区域r的任意相邻区域为ej；进一步得到任意相邻区域ej和其它相邻区域的关联度β＝！{eλ-ej}，其中λ＝1,2,…,w，则根据关联度β得到任意相邻区域ej和区域r的关联性为ρj＝/w，遍历顺序标号集*Ef，将w个关联性值ρj利用冒泡排序法进行降序，并确认ρ1对应的相邻区域为eq；当ρ1大于关联阈值σ，则将相邻区域eq确认为区域r的连接区域，反之，若小于关联阈值，则判定区域r无连接区域；其中，所述冒泡排序法属于本领域技术人员的常规技术手段，因此在本申请中就不再做出过多的赘述；此时得到顺序集合E中任意区域ejf的连接区域为eq，并根据步骤S210和步骤S220确认连接区域eq是否仍存在连接区域；通过遍历区域范围集A，根据任意区域ejf的连接区域对相关联的区域进行聚合，根据聚合后任意区域种类的数量大小进行降序，形成区域范围集A’＝{R1,R2,…,Rz}，其中R1,R2,…,Rz表示区域范围集A中将相关联区域进行聚合后的第1,2,…,z种区域集合；通过根据区域r对获取的区域顺序进行筛选，确认筛选出的所有区域顺序集中区域r的位置标号，根据每一个标号顺序分析区域顺序集的连接相似度，并确认区域r的连接区域，从而对区域范围集进行分类聚合，有利于提高对区域关联性的分析，提高后续根据区域关联性，确认主要设备的工作状态的分析能力；步骤S230：将根据设备信息集B获取的所有目标设备的位置信息和区域范围集A进行匹配，确认任意目标设备bi所处的任意区域au对应的区域集合为Rg；根据任意目标设备bi的使用记录信息集Ci，确认任意目标设备bi的使用频率为hi＝/m，当使用频率hi＞γ1时，对任意目标设备bi进行剔除，如冰箱等需要长时间开启的设备，无法将其作为目标设备，进行主要设备和次要设备的划分；当使用频率γ2＜hi＜γ1时，将任意目标设备bi划分为主要设备；反之，若使用频率hi＜γ2时，将任意目标设备bi划分为次要设备，其中γ1、γ2均表示频率阈值。进一步的，步骤S300包括：步骤S310：将区域范围集A中任意区域au根据区域面积划分为n*n个区块，分别获取任意区块的位置范围，形成区块集U＝{u1,u2,…,u}；其中u1,u2,…,u表示对任意区域au等分后的第1,2,…,n*n个区块位置信息；根据步骤S230获取任意区域au中的任意次要设备信息，将所述任意次要设备信息和区块集U进行匹配，确认任意次要设备ba对应的区块位置ua；步骤S320：获取任意次要设备ba的使用记录集为Ca，则基于使用记录集Ca中任意使用记录cj所形成的位置信息集Dj获取目标用户在任意区域au中的位置信息，进一步将目标用户在任意区域au中的所有位置信息和区块集进行匹配，形成任意区块变化*Uj；通过遍历使用记录集Ca，得到m次使用记录中目标用户在任意区域au的区块变化，形成区块变化集*U＝{*U1,*U2,…,*Um}；基于区块变化集*U，利用整合算法对所有区块变化整合成新的区块变化*U0，则将新的区块变化*U0作为任意次要设备ba的个性化区块集；其中，所述整合算法属于本领域技术人员的常规技术手段，因此在本申请中就不再做出过多的赘述；通过将任意区域划分为多个区块，将设备位置和目标用户的位置变化归纳为区块信息的变化，进一步根据区块的变化分析目标用户在使用任意设备时的区块变化规律，构建任意次要设备的个性化区块集，提高数据的准确性，不同用户构建的个性化区块不同，提高系统分析的多样性，有利于后续根据用户实时位置确认所有设备的工作状态。进一步的，步骤S400包括：步骤S410：利用人体传感器实时采集当前目标用户的位置信息，确认目标用户所处区域为au，则根据区域的关联性将区域集合Rg作为待使用区域，此时智能控制所有待使用区域Rg的主要设备开启；步骤S420：利用人体传感器实时检测到目标用户进入区域au时的位置变化，将实时获取的位置变化和区块集U进行匹配，形成实时区块变化*Um+1；此时将实时区块变化*Um+1和新的区块变化*U0进行匹配，得到匹配相似度Υ＝|*Um+1∩*U0|/|*Um+1∪*U0|；当匹配相似度大于匹配阈值φ时，对任意次要设备ba进行智能开启，反之，则处于关闭状态。通过利用人体传感器实时分析用户位置，根据用户位置确认用户的关联区域，智能开启区域的主要设备；进一步根据用户位置的区块变化和个性化区块集的相似度，智能匹配次要设备的工作状态，提高对智能家居的控制性能。进一步的，智能家居控制系统，系统包括：数据采集模块、数据库、区域分析模块、个性化构建模块、智能控制模块和数据反馈模块；通过数据采集模块以目标用户居住地的平面设计图构建二维平面坐标系，采集平面设计图中划分的所有区域的位置信息，形成区域范围集；采集所有智能家居的设备信息，设为目标设备，形成设备信息集，其中包括智能家居名称和相应的位置信息；；基于设备信息集，采集任意目标设备的历史使用记录，形成使用记录集；基于使用记录集，利用人体传感器调取任意使用记录在使用前一段时间内目标用户的位置信息，形成位置信息集；通过数据库对所有采集的数据进行加密存储；通过区域分析模块根据区域范围集和位置信息集分析区域范围集中各个区域的关联性；根据使用记录集分析目标用户对任意目标设备的使用规律性，进一步对任意目标设备进行主要设备和次要设备的划分；通过个性化构建模块将区域范围集中的任意区域划分为n*n个区块，分别获取任意区块的位置范围，形成区块集；将区块集中任意区块的位置范围和设备信息集中任意次要设备信息进行匹配，形成区块设备集；根据区块集和任意使用记录的位置信息集分析任意次要设备使用前目标用户在区块集内的位置规律，进一步根据位置规律和区块设备集构建任意次要设备的个性化区块集；通过智能控制模块对所有区域内设置人体传感器，利用人体传感器实时采集当前目标用户的位置信息，根据当前位置信息和区域的关联性预测目标用户进入的所有区域，设为待使用区域，此时智能控制所有待使用区域的主要设备开启；在目标用户进入任意待使用区域时，将目标用户的实时位置和区块集进行匹配，分析用户符合任意次要设备的个性化区块集的概率，智能控制概率超过阈值的次要设备开启；通过数据反馈模块当任意区域内的人体传感器未检测到目标用户的使用时长大于设定阈值时，将待使用区域的主要设备和次要设备进行关闭处理，并对所有目标设备的工作状态进行实时显示。进一步的，数据采集模块包括区域范围采集单元、设备信息采集单元和位置信息采集单元；区域范围采集单元用于采集平面设计图中划分的所有区域的位置信息；设备信息采集单元用于采集任意目标设备的历史使用记录；位置信息采集单元用于利用人体传感器调取任意使用记录在使用前一段时间内目标用户的位置信息。进一步的，区域分析模块包括关联分析单元和设备划分单元；关联分析单元用于根据区域范围集和位置信息集分析区域范围集中各个区域的关联性；设备划分单元用于根据使用记录集分析目标用户对任意目标设备的使用规律性，进一步对任意目标设备进行主要设备和次要设备的划分。进一步的，个性化构建模块包括区块匹配单元和个性化分析单元；区块匹配单元用于将任意区域划分为n*n个区块，形成区块集，则将区块集中任意区块的位置范围和设备信息集中任意次要设备信息进行匹配，形成区块设备集；个性化分析单元用于分析任意次要设备使用前目标用户在区块集内的位置规律，进一步根据位置规律和区块设备集构建任意次要设备的个性化区块集。进一步的，智能控制模块包括实时采集单元、主要设备控制单元和次要设备控制单元；实时采集单元用于实时采集当前目标用户的位置信息；主要设备控制单元用于根据当前位置信息和区域的关联性预测目标用户进入的所有区域，设为待使用区域，此时智能控制所有待使用区域的主要设备开启；次要设备控制单元用于在目标用户进入任意待使用区域时，将目标用户的实时位置和区块集进行匹配，分析用户符合任意次要设备的个性化区块集的概率，智能控制概率超过阈值的次要设备开启。与现有技术相比，本发明所达到的有益效果是：通过分析所有区域之间的关联性，提高后续根据区域关联性，确认主要设备的工作状态的分析能力；通过将任意区域划分为n*n个区块，将目标用户的位置变化归类为区块变化，进一步根据区块的变化分析目标用户在使用任意设备时的区块变化规律，构建任意次要设备的个性化区块集，提高数据的准确性，不同用户构建的个性化区块不同，提高系统分析的多样性；通过利用人体传感器实时分析用户位置，根据用户位置确认用户的关联区域，智能开启区域的主要设备；进一步根据用户位置的区块变化和个性化区块集的相似度，智能匹配次要设备的工作状态，提高对智能家居的控制性能。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1是本发明一种基于物联网的智能家居控制系统的结构图；图2是本发明一种基于物联网的智能家居控制方法的流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，本发明提供技术方案：智能家居控制系统，系统包括：数据采集模块、数据库、区域分析模块、个性化构建模块、智能控制模块和数据反馈模块；通过数据采集模块以目标用户居住地的平面设计图构建二维平面坐标系，采集平面设计图中划分的所有区域的位置信息，形成区域范围集；采集所有智能家居的设备信息，设为目标设备，形成设备信息集，其中包括智能家居名称和相应的位置信息；；基于设备信息集，采集任意目标设备的历史使用记录，形成使用记录集；基于使用记录集，利用人体传感器调取任意使用记录在使用前一段时间内目标用户的位置信息，形成位置信息集；数据采集模块包括区域范围采集单元、设备信息采集单元和位置信息采集单元；区域范围采集单元用于采集平面设计图中划分的所有区域的位置信息；设备信息采集单元用于采集任意目标设备的历史使用记录；位置信息采集单元用于利用人体传感器调取任意使用记录在使用前一段时间内目标用户的位置信息。通过数据库对所有采集的数据进行加密存储；数据库用于采集区域范围集、设备信息集、使用记录集和位置信息集，并对采集的数据利用非对称算法进行加密存储。通过区域分析模块根据区域范围集和位置信息集分析区域范围集中各个区域的关联性；根据使用记录集分析目标用户对任意目标设备的使用规律性，进一步对任意目标设备进行主要设备和次要设备的划分；区域分析模块包括关联分析单元和设备划分单元；关联分析单元用于根据区域范围集和位置信息集分析区域范围集中各个区域的关联性；设备划分单元用于根据使用记录集分析目标用户对任意目标设备的使用规律性，进一步对任意目标设备进行主要设备和次要设备的划分。通过个性化构建模块将区域范围集中的任意区域划分为n*n个区块，分别获取任意区块的位置范围，形成区块集；将区块集中任意区块的位置范围和设备信息集中任意次要设备信息进行匹配，形成区块设备集；根据区块集和任意使用记录的位置信息集分析任意次要设备使用前目标用户在区块集内的位置规律，进一步根据位置规律和区块设备集构建任意次要设备的个性化区块集；个性化构建模块包括区块匹配单元和个性化分析单元；区块匹配单元用于将任意区域划分为n*n个区块，形成区块集，则将区块集中任意区块的位置范围和设备信息集中任意次要设备信息进行匹配，形成区块设备集；个性化分析单元用于分析任意次要设备使用前目标用户在区块集内的位置规律，进一步根据位置规律和区块设备集构建任意次要设备的个性化区块集。通过智能控制模块对所有区域内设置人体传感器，利用人体传感器实时采集当前目标用户的位置信息，根据当前位置信息和区域的关联性预测目标用户进入的所有区域，设为待使用区域，此时智能控制所有待使用区域的主要设备开启；在目标用户进入任意待使用区域时，将目标用户的实时位置和区块集进行匹配，分析用户符合任意次要设备的个性化区块集的概率，智能控制概率超过阈值的次要设备开启；智能控制模块包括实时采集单元、主要设备控制单元和次要设备控制单元；实时采集单元用于实时采集当前目标用户的位置信息；主要设备控制单元用于根据当前位置信息和区域的关联性预测目标用户进入的所有区域，设为待使用区域，此时智能控制所有待使用区域的主要设备开启；次要设备控制单元用于在目标用户进入任意待使用区域时，将目标用户的实时位置和区块集进行匹配，分析用户符合任意次要设备的个性化区块集的概率，智能控制概率超过阈值的次要设备开启。通过数据反馈模块当任意区域内的人体传感器未检测到目标用户的使用时长大于设定阈值时，将待使用区域的主要设备和次要设备进行关闭处理，并对所有目标设备的工作状态进行实时显示。请参阅图2，本发明提供技术方案：一种基于物联网的智能家居控制方法，包括以下步骤：步骤S100：以目标用户居住地的平面设计图构建二维平面坐标系，采集平面设计图中划分的所有区域的位置信息，形成区域范围集；采集所有智能家居的设备信息，设为目标设备，形成设备信息集，其中包括智能家居名称和相应的位置信息；基于设备信息集，采集任意目标设备的历史使用记录，形成使用记录集；基于使用记录集，利用人体传感器调取任意使用记录在使用前一段时间内目标用户的位置信息，形成位置信息集；对所有采集的数据进行加密存储；步骤S100包括：步骤S110：获取目标用户居住地的平面设计图，以居住地的水平面某一顶角为坐标原点，构建二维平面坐标系，则采集平面设计图中划分的所有区域的位置信息，形成区域范围集A；步骤S120：对所有智能家居的设备信息进行采集，并将智能家居设为目标设备，形成设备信息集B；进一步对设备信息集B中任意目标设备bi的历史使用记录进行信息采集，形成使用记录信息集Ci＝{c1,c2,…,cm}，其中c1,c2,…,cm分别表示对应任意目标设备bi在第1,2,…,m条历史使用记录中的时间点和使用时长；步骤S130：对区域范围集A中的任意区域安装人体感应器，利用人体传感器调取任意使用记录cj在使用前的t时间段内目标用户的位置信息，形成位置信息集Dj＝{,,…,}，其中,,…,表示任意使用记录cj在使用前t时间段内目标用户第1,2，…,t个时间点时目标用户的位置信息，其中，设置为t时间段的目的是保留数据的完整性，使得对用户习惯判断更加准确；步骤S140：对采集到的区域范围集A、设备信息集B、使用记录信息集Ci和位置信息集Dj进行采集，利用非对称算法进行加密存储处理。步骤S200：根据区域范围集和位置信息集分析区域范围集中各个区域的关联性；根据使用记录集分析目标用户对任意目标设备的使用规律性，进一步对任意目标设备进行主要设备和次要设备的划分；步骤S200包括：步骤S210：获取位置信息集Dj中目标用户进入区域范围集A中的所有区域，形成区域顺序集Ej＝{ej1,ej2,…,ejk}，其中ej1,ej2,…,ejk表示任意使用记录cj在使用前的t时间段内目标用户进入的顺序标号为1,2,…,k的区域，此时遍历任意目标设备bi的使用记录信息集Ci，形成由m个区域顺序集Ej组成的顺序集合E；获取区域顺序集Ej中任意区域ejf在顺序集合E中的占比p，当p大于概率阈值α/m时，将区域r表示为任意区域ejf，则对顺序集合E中存在区域r的所有区域顺序集Ej进行提取，形成筛选集合*E＝{E1,E2,…,Ew}，其中E1,E2,…,Ew表示存在区域r的第1,2,…,w个区域顺序集；步骤S220：根据筛选集合*E确认区域r在任意区域顺序集Ej中的位置fj，形成顺序标号集：*Ef＝{f1,f2,…,fw}，其中f1,f2,…,fw表示区域r第1,2,…,w个区域顺序集中的位置标号信息；根据顺序标号集*Ef中任意标号fj的相邻标号fj+1，确认区域r的任意相邻区域为ej；进一步得到任意相邻区域ej和其它相邻区域的关联度β＝！{eλ-ej}，其中λ＝1,2,…,w，则根据关联度β得到任意相邻区域ej和区域r的关联性为ρj＝/w，遍历顺序标号集*Ef，将w个关联性值ρj利用冒泡排序法进行降序，并确认ρ1对应的相邻区域为eq；当ρ1大于关联阈值σ，则将相邻区域eq确认为区域r的连接区域，反之，若小于关联阈值，则判定区域r无连接区域；其中，所述冒泡排序法属于本领域技术人员的常规技术手段，因此在本申请中就不再做出过多的赘述；此时得到顺序集合E中任意区域ejf的连接区域为eq，并根据步骤S210和步骤S220确认连接区域eq是否仍存在连接区域；通过遍历区域范围集A，根据任意区域ejf的连接区域对相关联的区域进行聚合，根据聚合后任意区域种类的数量大小进行降序，形成区域范围集A’＝{R1,R2,…,Rz}，其中R1,R2,…,Rz表示区域范围集A中将相关联区域进行聚合后的第1,2,…,z种区域集合；步骤S230：将根据设备信息集B获取的所有目标设备的位置信息和区域范围集A进行匹配，确认任意目标设备bi所处的任意区域au对应的区域集合为Rg；根据任意目标设备bi的使用记录信息集Ci，确认任意目标设备bi的使用频率为hi＝/m，当使用频率hi＞γ1时，对任意目标设备bi进行剔除，如冰箱等需要长时间开启的设备，无法将其作为目标设备，进行主要设备和次要设备的划分；当使用频率γ2＜hi＜γ1时，将任意目标设备bi划分为主要设备；反之，若使用频率hi＜γ2时，将任意目标设备bi划分为次要设备，其中γ1、γ2均表示频率阈值。步骤S300：将区域范围集中的任意区域划分为n*n个区块，分别获取任意区块的位置范围，形成区块集；将区块集中任意区块的位置范围和设备信息集中任意次要设备信息进行匹配，形成区块设备集；根据区块集和任意使用记录的位置信息集分析任意次要设备使用前目标用户在区块集内的位置规律，进一步根据位置规律和区块设备集构建任意次要设备的个性化区块集；步骤S300包括：步骤S310：将区域范围集A中任意区域au根据区域面积划分为n*n个区块，分别获取任意区块的位置范围，形成区块集U＝{u1,u2,…,u}；其中u1,u2,…,u表示对任意区域au等分后的第1,2,…,n*n个区块位置信息；根据步骤S230获取任意区域au中的任意次要设备信息，将所述任意次要设备信息和区块集U进行匹配，确认任意次要设备ba对应的区块位置ua；步骤S320：获取任意次要设备ba的使用记录集为Ca，则基于使用记录集Ca中任意使用记录cj所形成的位置信息集Dj获取目标用户在任意区域au中的位置信息，进一步将目标用户在任意区域au中的所有位置信息和区块集进行匹配，形成任意区块变化*Uj；通过遍历使用记录集Ca，得到m次使用记录中目标用户在任意区域au的区块变化，形成区块变化集*U＝{*U1,*U2,…,*Um}；基于区块变化集*U，利用整合算法对所有区块变化整合成新的区块变化*U0，则将新的区块变化*U0作为任意次要设备ba的个性化区块集；其中，所述整合算法属于本领域技术人员的常规技术手段，因此在本申请中就不再做出过多的赘述。步骤S400：对任意区域内设置人体传感器，利用人体传感器实时采集当前目标用户的位置信息，根据当前位置信息和区域的关联性预测目标用户进入的所有区域，设为待使用区域，此时智能控制所有待使用区域的主要设备开启；在目标用户进入任意待使用区域时，将目标用户的实时位置和区块集进行匹配，分析用户符合任意次要设备的个性化区块集的概率，智能控制概率超过阈值的次要设备开启；步骤S400包括：步骤S410：利用人体传感器实时采集当前目标用户的位置信息，确认目标用户所处区域为au，则根据区域的关联性将区域集合Rg作为待使用区域，此时智能控制所有待使用区域Rg的主要设备开启；步骤S420：利用人体传感器实时检测到目标用户进入区域au时的位置变化，将实时获取的位置变化和区块集U进行匹配，形成实时区块变化*Um+1；此时将实时区块变化*Um+1和新的区块变化*U0进行匹配，得到匹配相似度Υ＝|*Um+1∩*U0|/|*Um+1∪*U0|；当匹配相似度大于匹配阈值φ时，对任意次要设备ba进行智能开启，反之，则处于关闭状态。步骤S500：当任意区域内的人体传感器未检测到目标用户的使用时长大于设定阈值时，将待使用区域的主要设备和次要设备进行关闭处理，并对所有目标设备的工作状态进行实时显示。例如：步骤S100包括：步骤S110：获取目标用户居住地的平面设计图，以居住地的水平面某一顶角为坐标原点，构建二维平面坐标系，则采集平面设计图中划分的所有区域的位置信息，形成区域范围集A；步骤S120：对所有智能家居的设备信息进行采集，并将智能家居设为目标设备，形成设备信息集B；进一步对设备信息集B中任意目标设备b10的历史使用记录进行信息采集，形成使用记录信息集Ci＝{c1,c2,…,c500}，其中c1,c2,…,c500分别表示对应任意目标设备b10在第1,2,…,500条历史使用记录中的时间点和使用时长；步骤S130：对区域范围集A中的任意区域安装人体感应器，利用人体传感器调取任意使用记录c50在使用前的1min时间段内目标用户的位置信息，形成位置信息集D50＝{,,…,}，其中,,…,表示任意使用记录c50在使用前1min时间段内目标用户第1,2，…,60个时间点时目标用户的位置信息；步骤S140：对采集到的区域范围集A、设备信息集B、使用记录集C10和位置信息集D50进行采集，利用非对称算法进行加密存储处理。步骤S200包括：步骤S210：获取位置信息集D50中目标用户进入区域范围集A中的所有区域，形成区域顺序集E50＝{e501,e502,…,e5020}，其中e501,e502,…,e5020表示任意使用记录c50在使用前的1min时间段内目标用户进入的顺序标号为1,2,…,20的区域；此时遍历任意目标设备b10的使用记录集C10，形成由500个区域顺序集E50组成的顺序集合E；获取区域顺序集E50中任意区域e50f在顺序集合E中的占比p，当p大于概率阈值100/500＝1/5时，将区域r表示为任意区域e50f，则对顺序集合E中存在区域r的所有区域顺序集E50进行提取，形成筛选集合*E＝{E1,E2,…,E200}，其中E1,E2,…,E200表示存在区域r的第1,2,…,200个区域顺序集；步骤S220：根据筛选集合*E确认区域r在某一区域顺序集E50中的位置f50，形成顺序标号集：*Ef＝{f1,f2,…,f200}，其中f1,f2,…,f200表示区域r第1,2,…,200个区域顺序集中的位置标号信息；根据顺序标号集*Ef中任意标号f20的相邻标号f20+1，确认区域r的任意相邻区域为ej；进一步得到任意相邻区域e50和其它相邻区域的关联度β＝！{eλ-e50}，其中λ＝1,2,…,200，则根据关联度β得到任意相邻区域e50和区域r的关联性为ρ20＝/200，遍历顺序标号集*Ef，将200个关联性值ρ50利用冒泡排序法进行降序，并确认ρ1对应的相邻区域为eq＝e3；当ρ1大于关联阈值σ＝0.6，则将相邻区域e3确认为区域r的连接区域；此时得到顺序集合E中任意区域e50f的连接区域为e3，并根据步骤S210和步骤S220确认连接区域e3是否仍存在连接区域；通过遍历区域范围集A，根据任意区域ejf的连接区域对相关联的区域进行聚合，根据聚合后任意区域种类的数量大小进行降序，形成区域范围集A’＝{R1,R2,…,R5}，其中R1,R2,…,R5表示区域范围集A中将相关联区域进行聚合后的第1,2,…,5种区域集合；步骤S230：将根据设备信息集B获取的所有目标设备的位置信息和区域范围集A进行匹配，确认任意目标设备b10所处的任意区域au对应的区域集合为R2；根据任意目标设备b10的使用记录集C10，确认任意目标设备b10的使用频率为h10＝/500，当使用频率h10＞γ1＝5次/天时，对任意目标设备bi进行剔除；当使用频率2＜h10＜5次/天时，将任意目标设备b10划分为主要设备；反之，若使用频率h10＜2次/天时，将任意目标设备b10划分为次要设备。步骤S300包括：步骤S310：将区域范围集A中任意区域au根据区域面积划分为20*20个区块，分别获取任意区块的位置范围，形成区块集U＝{u1,u2,…,u}；根据步骤S230获取任意区域au中的任意次要设备信息，将所述任意次要设备信息和区块集U进行匹配，确认任意次要设备b13对应的区块位置u120；步骤S320：获取任意次要设备b13的使用记录集为C120，则基于使用记录集C120中任意使用记录c50所形成的位置信息集D50获取目标用户在任意区域au中的位置信息，进一步将目标用户在任意区域au中的所有位置信息和区块集进行匹配，形成任意区块变化*U50；通过遍历使用记录集C120，得到500次使用记录中目标用户在任意区域au的区块变化，形成区块变化集*U＝{*U1,*U2,…,*U500}；基于区块变化集*U，利用整合算法对所有区块变化整合成新的区块变化*U0，则将新的区块变化*U0作为任意次要设备ba的个性化区块集。步骤S400包括：步骤S410：利用人体传感器实时采集当前目标用户的位置信息，确认目标用户所处区域为au，则根据区域的关联性将区域集合Rg作为待使用区域，此时智能控制所有待使用区域Rg的主要设备开启；步骤S420：利用人体传感器实时检测到目标用户进入区域au时的位置变化，将实时获取的位置变化和区块集U进行匹配，形成实时区块变化*Um+1；此时将实时区块变化*Um+1和新的区块变化*U0进行匹配，得到匹配相似度Υ＝|*Um+1∩*U0|/|*Um+1∪*U0|；当匹配相似度大于匹配阈值φ时，对任意次要设备ba进行智能开启。步骤S500：当人体传感器未检测到目标用户的使用时长大于设定阈值时，将待使用区域的主要设备和次要设备进行关闭处理，并对所有目标设备的工作状态进行实时显示。最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
