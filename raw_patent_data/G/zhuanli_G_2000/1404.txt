标题title
一种基于卫星星历的天基光学设备测量数据仿真算法
摘要abst
本发明公开了一种基于卫星星历的天基光学设备测量数据仿真算法，包括步骤：S1、获取被观测目标地固系星历和天基光学设备地固系星历，配置天基光学设备运行参数文件、行星星历文件和地球自转参数文件；S2、计算是否几何可见；S3、查看距离、方位角和俯仰角是否满足天基光学设备的设计指标；S4、计算被观测目标是否在地影或月影中；S5、张角是否大于阈值进行判定；S6、计算仿真数据赤经和赤纬，S7、遍历时间段，存储仿真数据。本发明通过对多种天基光学设备的观测条件判定，保证天基光学设备仿真测量数据符合真实的跟踪场景，可为天基光学设备上天前的需求论证提供理论支持，为其他需要仿真天基光学设备测量数据的场景提供支持。
权利要求书clms
1.一种基于卫星星历的天基光学设备测量数据仿真算法，其特征在于，包括以下步骤：S1、获取被观测目标地固系星历和天基光学设备地固系星历/＞，配置天基光学设备运行参数文件、行星星历文件和地球自转参数文件，其中/＞；S2、在时间段内，按设定步长，计算时刻/＞被观测目标地固系位置速度和天基光学设备地固系位置速度/＞；根据/＞和/＞计算被观测目标与天基光学设备是否几何可见；S3、如果被观测目标与天基光学设备几何可见，则将和分别转置至天基光学设备本体坐标系/＞，在本体坐标系/＞下，计算被观测目标在天基光学设备中的距离/＞、方位角/＞和俯仰角/＞，查看距离/＞、方位角/＞和俯仰角/＞是否满足天基光学设备的设计指标；如果被观测目标与天基光学设备几何不可见，则返回S2进行下一步长计算；S4、如果距离、方位角/＞和俯仰角/＞满足天基光学设备的设计指标，则计算被观测目标是否在地影或月影中；如果距离、方位角/＞和俯仰角/＞不满足天基光学设备的设计指标，则返回S2进行下一步长计算；S5、如果被观测目标不在地影或月影中，则计算天基光学设备太阳矢量与天基光学设备被观测目标矢量/＞的张角/＞，对张角/＞是否小于阈值进行判定；如果被观测目标在地影或月影中，则返回S2进行下一步长计算；S6、如果张角不小于阈值，则计算天基光学设备的仿真测量数据赤经/＞和赤纬/＞，然后返回S2进行下一步长计算；如果张角小于阈值，则返回S2进行下一步长计算；S7、按设定步长，遍历时间段，存储仿真测量数据。2.根据权利要求1所述的一种基于卫星星历的天基光学设备测量数据仿真算法，其特征在于：所述S1中配置天基光学设备运行参数文件中包括：仿真开始时间、仿真结束时间，仿真数据步长，被观测目标代号，天基光学设备代号。3.根据权利要求1所述的一种基于卫星星历的天基光学设备测量数据仿真算法，其特征在于：所述S2中根据和/＞计算被观测目标与天基光学设备是否几何可见的公式为：；其中：；；；；；；；RE为地球半径，FE为地球扁率，SS、SA、SB、SC、DX、DY、DZ和G2为过程变量；、、/＞为/＞三维向量的三个分量，/＞、/＞、为/＞三维向量的三个分量；当SS＜0，则被观测目标与天基光学设备几何可见。4.根据权利要求3所述的一种基于卫星星历的天基光学设备测量数据仿真算法，其特征在于：当SS≥0时，根据公式判定被观测目标与天基光学设备是否几何可见的方法为：当SB＜0，计算，/＞；如果K1＜0且K2＜0，则被观测目标与天基光学设备几何可见；当SB≥0，计算，/＞；如果K1＞1且K2＞1，则被观测目标与天基光学设备几何可见。5.根据权利要求1所述的一种基于卫星星历的天基光学设备测量数据仿真算法，其特征在于：所述S3中计算被观测目标在天基光学设备中的距离、方位角/＞和俯仰角/＞的过程为：S31、将和/＞分别转置至/＞惯性坐标系；获得观测目标惯性坐标系位置速度/＞和天基光学设备惯性坐标系位置速度/＞；S32、将和/＞分别转置至天基光学设备本体坐标系/＞，获得：；；其中为/＞惯性坐标系至天基光学设备本体坐标系/＞的转置矩阵；S33、令,则；；；；其中为中的位置点，/＞为被观测目标在天基光学设备中的距离；/＞为被观测目标在天基光学设备中的方位角/＞；/＞为被观测目标在天基光学设备中的俯仰角。6.根据权利要求1所述的一种基于卫星星历的天基光学设备测量数据仿真算法，其特征在于：所述S4中地影和月影分别包括本影，半影和伪本影。7.根据权利要求6所述的一种基于卫星星历的天基光学设备测量数据仿真算法，其特征在于：所述S4中计算被观测目标是否在地影中的过程为：；；；；其中 为卫星至太阳的矢量，/＞为该矢量的模，/＞为地球卫星太阳张角，/＞为在卫星上视太阳的半径，/＞为在卫星上视地球的半径，/＞为地球半径；当，/＞时，卫星在地球本影区；当，/＞时，卫星在地球半影区；所述S4中计算被观测目标是否在月影中的过程为：；；；；式中为卫星至月球的矢量，/＞为该矢量的模，/＞为月球卫星太阳张角，/＞为在卫星上视太阳的半径，/＞为在卫星上视月球的半径，/＞为月球半径；当，/＞时，卫星在月球本影区；当，/＞，/＞时，卫星在月球伪本影区；当，/＞时，卫星在月球半影区。8.根据权利要求1所述的一种基于卫星星历的天基光学设备测量数据仿真算法，其特征在于：所述S5中计算天基光学设备太阳矢量与天基光学设备被观测目标矢量/＞的张角/＞的公式为：；其中，为天基光学设备太阳矢量，/＞为天基光学设备被观测目标矢量。9.根据权利要求1所述的一种基于卫星星历的天基光学设备测量数据仿真算法，其特征在于：所述S6中计算天基光学设备的仿真数据赤经和赤纬/＞的公式为：；；；；其中为/＞中的位置点，/＞为仿真数据赤经/＞，/＞为仿真数据赤纬。
说明书desc
技术领域本发明涉及天基光学设备数据测量技术领域，尤其涉及一种基于卫星星历的天基光学设备测量数据仿真算法。背景技术随着卫星技术的发展以及人类进入空间、利用空间能力的不断增强，空间对人类社会的影响越来越大，加强空间控制也就越来显得必要。空间监视系统是进行空间控制的一种重要手段，空间监视系统主要包括地基空间目标监视系统与天基空间目标监视系统，天基空间目标监视系统因为其不受气象条件限制，工作范围广等独特优势，成为了地基空间目标监视系统的有效补充手段。因为目前的天基空间目标监视系统主要以光学探测为主，为了规划天基光学设备卫星轨道，评估卫星上天后的空间监视能力，仿真工作就显得格外重要。本专利在综合考虑天基光学设备的各项工作指标，跟踪条件等各种限制因素，尽可能的模拟了天基光学设备的跟踪环境，并仿真生成了模拟的跟踪测量数据，为卫星轨道设计、星座设计以及评估卫星的效能提供了依据。专利号为CN103093098B的专利文献公开一种卫星光学传感器动态观测能力的定量评价方法，其对卫星光学传感器观测能力评价涉及到了传感器时空覆盖能力值、主题观测能力值、观测环境值和模糊综合评价值，具有定量和动态的特点，但其也存在：1、观测能力评价限于实体光学卫星，无法对卫星的仿真观测进行计算，无法用于评估卫星上天后的空间监视能力；2、观测能力评价涉及的卫星参数范围有限，无法为卫星轨道设计、星座设计以及评估卫星的效能提供了依据。发明内容本发明的目的在于提供一种基于卫星星历的天基光学设备测量数据仿真算法，仿真天基光学设备对被观测目标测量的限定条件，使获取的仿真测量数据符合真实的跟踪场景，获取较为准确的仿真测量数据。本发明的目的可以通过以下技术方案实现：一种基于卫星星历的天基光学设备测量数据仿真算法，包括以下步骤：S1、获取被观测目标地固系星历和天基光学设备地固系星历，配置天基光学设备运行参数文件、行星星历文件和地球自转参数文件，其中；S2、在时间段内，按设定步长，计算时刻被观测目标地固系位置速度和天基光学设备地固系位置速度；根据和计算被观测目标与天基光学设备是否几何可见；S3、如果被观测目标与天基光学设备几何可见，则将和分别转置至天基光学设备本体坐标系，在本体坐标系下，计算被观测目标在天基光学设备中的距离、方位角和俯仰角，查看距离、方位角和俯仰角是否满足天基光学设备的设计指标；如果被观测目标与天基光学设备几何不可见，则返回S2进行下一步长计算；S4、如果距离、方位角和俯仰角满足天基光学设备的设计指标，则计算被观测目标是否在地影或月影中；如果距离、方位角和俯仰角不满足天基光学设备的设计指标，则返回S2进行下一步长计算；S5、如果被观测目标不在地影或月影中，则计算天基光学设备太阳矢量与天基光学设备被观测目标矢量的张角，对张角是否小于阈值进行判定；如果被观测目标在地影或月影中，则返回S2进行下一步长计算；S6、如果张角不小于阈值，则计算天基光学设备的仿真测量数据赤经和赤纬，然后返回S2进行下一步长计算；如果张角小于阈值，则返回S2进行下一步长计算；S7、按设定步长，遍历时间段，存储仿真测量数据。进一步地：所述S1中配置天基光学设备运行参数文件中包括：仿真开始时间、仿真结束时间，仿真数据步长，被观测目标代号，天基光学设备代号。进一步地：所述S2中根据和计算被观测目标与天基光学设备是否几何可见的公式为：其中：RE为地球半径，FE为地球扁率，SS、SA、SB、SC、DX、DY、DZ和G2为过程变量；、、为三维向量的三个分量，、、为三维向量的三个分量；当SS＜0，则被观测目标与天基光学设备几何可见。进一步地：当SS≥0时，根据公式判定被观测目标与天基光学设备是否几何可见的方法为：当SB＜0，计算，；如果K1＜0且K2＜0，则被观测目标与天基光学设备几何可见；当SB≥0，计算，；如果K1＞1且K2＞1，则被观测目标与天基光学设备几何可见。进一步地：所述S3中计算被观测目标在天基光学设备中的距离、方位角和俯仰角的过程为：S31、将和分别转置至惯性坐标系；获得观测目标惯性坐标系位置速度和天基光学设备惯性坐标系位置速度；S32、将和分别转置至天基光学设备本体坐标系，获得：其中为惯性坐标系至天基光学设备本体坐标系的转置矩阵；S33、令,则其中为中的位置点，为被观测目标在天基光学设备中的距离；为被观测目标在天基光学设备中的方位角；为被观测目标在天基光学设备中的俯仰角。进一步地：所述S4中地影和月影分别包括本影，半影和伪本影。进一步地：所述S4中计算被观测目标是否在地影中的过程为：；；；；其中 为卫星至太阳的矢量，为该矢量的模，为地球卫星太阳张角，为在卫星上视太阳的半径，为在卫星上视地球的半径，为地球半径；当，/＞时，卫星在地球本影区；当，/＞时，卫星在地球半影区；所述S4中计算被观测目标是否在月影中的过程为：；；；；式中为卫星至月球的矢量，/＞为该矢量的模，/＞为月球卫星太阳张角，/＞为在卫星上视太阳的半径，/＞为在卫星上视月球的半径，/＞为月球半径；当，/＞时，卫星在月球本影区；当，/＞，/＞时，卫星在月球伪本影区；当，/＞时，卫星在月球半影区。进一步地：所述S5中计算天基光学设备太阳矢量与天基光学设备被观测目标矢量的张角的公式为：；其中，为天基光学设备太阳矢量，为天基光学设备被观测目标矢量。进一步地：所述S6中计算天基光学设备的仿真数据赤经和赤纬的公式为：；；；；其中为中的位置点，为仿真数据赤经，为仿真数据赤纬。本发明的有益效果：本发明通过提供了一种天基光学设备仿真测量数据的仿真算法，考虑了被观测目标与天基光学设备是否几何可见、被观测目标在天基光学设备中的距离、方位角和俯仰角是否满足天基光学设备的设计指标、被观测目标是否在地影或月影中、张角是否大于阈值条件等多种天基光学设备的观测条件，保证天基光学设备仿真测量数据符合真实的跟踪场景，可为天基光学设备上天前的需求论证提供理论支持，为其他需要仿真天基光学设备测量数据的场景提供支持。附图说明图1为本发明一种基于卫星星历的天基光学设备测量数据仿真算法的流程示意图；图2为本发明锥形地影结构示意图；图3为本发明天基光学设备、太阳、月亮和地球的几何关系示意图。具体实施方式下面详细描述本发明的实施例，所述实施例的示例在附图中表示，其中自始至终相同或类似的符号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施例是示例性的，仅用于解释本发明，而不能理解对本发明的限制。如图1-图3所示，本发明公开一种基于卫星星历的天基光学设备测量数据仿真算法，包括以下步骤：S1、获取被观测目标地固系星历和天基光学设备地固系星历，配置天基光学设备运行参数文件、行星星历文件和地球自转参数文件，其中；S2、在时间段内，按设定步长，计算时刻被观测目标地固系位置速度和天基光学设备地固系位置速度；根据和计算被观测目标与天基光学设备是否几何可见；S3、如果被观测目标与天基光学设备几何可见，则将和分别转置至天基光学设备本体坐标系，在本体坐标系下，计算被观测目标在天基光学设备中的距离、方位角和俯仰角，查看距离、方位角和俯仰角是否满足天基光学设备的设计指标；如果被观测目标与天基光学设备几何不可见，则返回S2进行下一步长计算；S4、如果距离、方位角和俯仰角满足天基光学设备的设计指标，则计算被观测目标是否在地影或月影中；如果距离、方位角和俯仰角不满足天基光学设备的设计指标，则返回S2进行下一步长计算；S5、如果被观测目标不在地影或月影中，则计算天基光学设备太阳矢量与天基光学设备被观测目标矢量的张角，对张角是否小于阈值进行判定；如果被观测目标在地影或月影中，则返回S2进行下一步长计算；S6、如果张角不小于阈值，则计算天基光学设备的仿真测量数据赤经和赤纬，然后返回S2进行下一步长计算；如果张角小于阈值，则返回S2进行下一步长计算；S7、按设定步长，遍历时间段，存储仿真测量数据。根据仿真需要设定被观测目标和天基光学设备，需要综合考虑天基光学设备的工作指标，跟踪条件等各种限制因素，模拟天基光学设备的跟踪环境，仿真生成了模拟的跟踪测量数据。可以通过配置天基光学设备运行参数文件，对天基光学设备仿真开始时间、仿真结束时间，仿真数据步长，被观测目标代号，天基光学设备代号进行设置，还可以通过行星星历文件和地球自转参数等文件模拟天基光学设备的工作指标，模拟天基光学设备的工作环境，跟踪条件等各种限制因素，为天基光学设备轨道设计、星座设计以及评估天基光学设备的效能提供了依据。在天基光学设备的仿真环境设置完成后，在时间段内，获取被观测目标地固系星历和天基光学设备地固系星历。按设定步长，设定步长为均匀的时间间隔，步长通过配置天基光学设备运行参数文件获取，在时间段内计算时刻，采用插值算法计算出所需时刻T的被观测目标地固系位置速度和天基光学设备地固系位置速度，插值算法采用经典的拉格朗日插值算法，拉格朗日插值算法为公开技术，此处不再赘述。通过和可以计算两者是否被地球遮挡，如果没有遮挡，则表示在时刻被观测目标此时相对于天基光学设备几何可见，继续进行下一步的计算；如果有遮挡，则表示在时刻被观测目标此时相对于天基光学设备几何不可见，说明被观测目标与天基光学设备在时刻无需再进行仿真测量数据的进一步计算，可以按设定步长，直接进行下一步长计算。具体的，根据和计算被观测目标与天基光学设备是否几何可见的公式为：其中：RE为地球半径，FE为地球扁率；SS、SA、SB、SC、DX、DY、DZ和G2为过程变量；当SS＜0，则被观测目标与天基光学设备几何可见；当SS≥0时：当SB＜0，计算，；当SB≥0，计算，；如果K1＜0且K2＜0，则被观测目标与天基光学设备几何可见；如果K1＞1且K2＞1，则被观测目标与天基光学设备几何可见。对满足几何可见的被观测目标与天基光学设备，继续计算被观测目标在天基光学设备中的距离、方位角和俯仰角，查看被观测目标在天基光学设备中的距离、方位角和俯仰角是否满足天基光学设备的设计指标；如果被观测目标在天基光学设备中的距离、方位角和俯仰角不满足天基光学设备的设计指标，说明被观测目标与天基光学设备在时刻无需再进行仿真测量数据的进一步计算，可以按设定步长，直接进行下一步长计算。具体的，计算被观测目标在天基光学设备中的距离、方位角和俯仰角的过程为：将和由地固系坐标转置至惯性坐标系，所用转置算法为现有技术，此处不再赘述，通过转置获取观测目标惯性坐标系位置速度和天基光学设备惯性坐标系位置速度。再将和分别转置至天基光学设备本体坐标系，获得：其中为惯性坐标系至天基光学设备本体坐标系的转置矩阵；再令,则其中为中的位置点，为被观测目标在天基光学设备中的距离；为被观测目标在天基光学设备中的方位角；为被观测目标在天基光学设备中的俯仰角。通过求出的距离、方位角和俯仰角，如果被观测目标在天基光学设备中的距离、方位角和俯仰角满足天基光学设备的设计指标，则继续进行下一步的计算，对被观测目标是否在地影或月影中进行判定。如果被观测目标处于地影或月影中，则被观测目标将不能被天基光学设备探测到，说明被观测目标与天基光学设备在时刻无需再进行仿真测量数据的进一步计算，可以按设定步长，直接进行下一步长计算。如图2、图3所示，地影和月影分别包括本影，半影和伪本影；通过读取行星星历文件，插值计算时刻太阳和月球的位置，计算被观测目标是否在地影、月影中，因为当被观测目标进入地影或月影中时，此时因没有光线照射，即使从空间关系上理论可见，也不会被光学设备探测到，因此必须计算被观测目标进入地影或月影的情况。以地影为例进行说明，太阳是一个有效半径为6.96*10^5km的光球，太阳距地球的距离大约有1.5*10^8km左右，因此真实的地影呈锥形，还存在一定的半影区，如图2、图3所示，图中，S为太阳，E为地球，太阳两条外公切线与SE的延长线相交于点A，太阳两条内公切线与SE相交于点B，地球造成的阴影分为本影，半影和伪本影。为了判定被观测目标是否在地影中，以及在地影的那部分阴影中，可以采用下述方法进行计算：计算获取：；；；；其中 为卫星至太阳的矢量，/＞为该矢量的模，/＞为地球卫星太阳张角，/＞为在卫星上视太阳的半径，/＞为在卫星上视地球的半径，/＞为地球半径；当，/＞时，判定卫星在地球本影区；当，/＞时，判定卫星在地球半影区。同理，为了判定被观测目标是否在月影中，以及在月影的那部分阴影中，可以采用下述方法进行计算：计算获取：；；；；式中 为卫星至月球的矢量，/＞为该矢量的模，/＞为月球卫星太阳张角，/＞为在卫星上视太阳的半径，/＞为在卫星上视月球的半径，/＞为月球半径；当，/＞时，判定卫星在月球本影区；当，/＞，/＞时，判定卫星在月球伪本影区；当，/＞时，判定卫星在月球半影区。如果经过计算被观测目标不处于地影或月影中，说明被观测目标不受地影或月影的影响，可以继续进行下一步，对天基光学设备太阳矢量与天基光学设备被观测目标矢量的张角进行判定。如果张角过小，小于阈值，则说明天基光学设备会被太阳光或月球反光干扰，天基光学设备不能正常观测，被观测目标与天基光学设备在时刻无需再进行仿真测量数据的进一步计算，可以按设定步长，直接进行下一步长计算。具体的，对张角的大小判定可以通过获取天基光学设备太阳矢量和天基光学设备被观测目标矢量，张角的公式为：，经过计算可以获取张角。如果张角大于阈值，说明天基光学设备与被观测目标之间观测不会受到太阳光或月球反光干扰。通过上述计算对满足被观测目标与天基光学设备几何可见、被观测目标在天基光学设备中的距离、方位角和俯仰角满足天基光学设备的设计指标、被观测目标不在地影或月影中、张角大于阈值条件的被观测目标与天基光学设备可以进行仿真测量数据赤经和赤纬的计算。具体的，仿真数据赤经和赤纬的公式为：；；；；为中的位置点，为仿真数据赤经，为仿真数据赤纬。获取的赤经和赤纬即为时刻天基光学设备对被观测目标的仿真测量数据，时刻的数据获取完成后，根据步长，继续进行下一时刻仿真测量数据的计算，遍历时间段，存储仿真测量数据，获取最后的仿真数据观测结构。以上所述，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，根据本发明的技术方案及其发明构思加以等同替换或改变，都应涵盖在本发明的保护范围之内。
