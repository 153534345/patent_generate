标题title
基于图像识别技术的煤流监测系统
摘要abst
本发明涉及图像处理技术领域，具体涉及基于图像识别技术的煤流监测系统，包括：数据采集模块，用于采集煤流图像；像素点的噪声表现强度计算模块，用于根据目标像素点的第一局部窗口内所有像素点、所有标记方向上的灰度差异得到目标像素点的噪声表现强度；像素点的增强必要性计算模块，用于根据目标像素点的第二局部窗口内类别中心之间的距离和类别数量之间差异得到目标像素点的密集程度，得到目标像素点修正后的密集程度，得到目标像素点的聚集程度和异常程度，得到所有增强像素点和非增强像素点；煤流图像滤波处理模块，用于得到滤波处理后的煤流图像，并进行监测。本发明通过对煤流图像进行处理，提高了煤流监测的时效性。
权利要求书clms
1.基于图像识别技术的煤流监测系统，其特征在于，该系统包括以下模块：数据采集模块，用于采集煤流图像；像素点的噪声表现强度计算模块，用于将煤流图像中任意一个像素点记为目标像素点，根据目标像素点的第一局部窗口内像素点的灰度差异和目标像素点的标记方向上的所有突变像素点，得到目标像素点的噪声表现强度，所述突变像素点通过标记方向上相邻像素点灰度差异的最大值获得；像素点的增强必要性计算模块，用于根据目标像素点的第二局部窗口内的像素点类别得到目标像素点的密集程度，根据目标像素点的第一局部窗口内像素点的噪声表现强度和梯度幅值，对目标像素点的密集程度进行修正，得到目标像素点修正后的密集程度，根据目标像素点的每个标记方向上的剧变像素点的个数和剧变像素点与目标像素点之间的距离得到目标像素点的聚集程度，所述剧变像素点是通过标记方向上相邻像素点灰度差异与平均灰度值获得；根据目标像素点修正后的密集程度和聚集程度得到目标像素点的异常程度，根据目标像素点的异常程度和噪声表现强度得到目标像素点的增强必要性，根据增强必要性将煤流图像中所有像素点划分为增强像素点和非增强像素点；煤流图像滤波处理模块，用于对所有增强像素点进行滤波处理，所有非增强像素点不进行滤波处理，得到滤波处理后的煤流图像，根据滤波处理后的煤流图像进行监测。2.根据权利要求1所述基于图像识别技术的煤流监测系统，其特征在于，所述第一局部窗口的获取方法包括：以目标像素点为中心，以为窗口边框长度，获取目标像素点的第一局部窗口，其中，A为预设阈值。3.根据权利要求2所述基于图像识别技术的煤流监测系统，其特征在于，所述根据目标像素点的第一局部窗口内像素点的灰度差异和目标像素点的标记方向上的所有突变像素点，得到目标像素点的噪声表现强度，包括：目标像素点的噪声表现强度的计算公式为：式中，表示目标像素点的第一局部窗口内第j个像素点的第一局部窗口内所有像素点的灰度值的方差，/＞表示目标像素点的第一局部窗口内第j个像素点与目标像素点之间的距离，N表示目标像素点的第一局部窗口内所有像素点的总个数，/＞表示目标像素点的第d个标记方向上的突变像素点的灰度差异程度，/＞表示目标像素点的第d个标记方向上的突变像素点与目标像素点之间的距离，/＞表示标记方向的个数，/＞表示目标像素点的噪声表现强度；将目标像素点的竖直向上方向、水平向右方向、右上方向和右下/＞方向，记为标记方向；计算目标像素点的每个标记方向上每个像素点与下一个相邻的像素点之间的灰度差异，得到目标像素点的每个标记方向上每个像素点的灰度差异程度。4.根据权利要求1所述基于图像识别技术的煤流监测系统，其特征在于，所述目标像素点的第二局部窗口内的像素点类别的获取方法包括：以目标像素点为中心，以为窗口边框长度，获取目标像素点的第二局部窗口，其中，B为预设阈值；通过k-means聚类算法对目标像素点的第二局部窗口内所有像素点进行聚类，将目标像素点的第二局部窗口内的所有像素点划分为多个类别。5.根据权利要求4所述基于图像识别技术的煤流监测系统，其特征在于，所述根据目标像素点的第二局部窗口内的像素点类别得到目标像素点的密集程度，包括：目标像素点的密集程度的计算公式为：式中，表示目标像素点的第二局部窗口内第c个类别的中心点与第k个类别的中心点之间的距离，/＞表示目标像素点的第二局部窗口内第c个类别的像素点数量与第k个类别的像素点数量之间的数量差异，M表示目标像素点的第二局部窗口内的类别个数，/＞表示目标像素点的密集程度。6.根据权利要求1所述基于图像识别技术的煤流监测系统，其特征在于，所述根据目标像素点的第一局部窗口内像素点的噪声表现强度和梯度幅值，对目标像素点的密集程度进行修正，得到目标像素点修正后的密集程度，包括：目标像素点修正后的密集程度的计算公式为：式中，表示目标像素点的第一局部窗口内第v个像素点的梯度幅值，/＞表示目标像素点的第一局部窗口内第v个像素点的噪声表现强度，/＞表示目标像素点的密集程度，N表示目标像素点的第一局部窗口内所有像素点的总个数，/＞表示目标像素点修正后的密集程度。7.根据权利要求3所述基于图像识别技术的煤流监测系统，其特征在于，所述根据目标像素点的每个标记方向上的剧变像素点的个数和剧变像素点与目标像素点之间的距离得到目标像素点的聚集程度，包括：当目标像素点的每个标记方向上每个像素点的灰度差异程度大于对应的标记方向上的所有像素点的灰度值的均值时，将该像素点记为剧变像素点；目标像素点的聚集程度的计算公式为：式中，表示目标像素点的所有标记方向上的第p个剧变像素点与目标像素点之间的距离，F表示目标像素点的所有标记方向上的所有剧变像素点的个数，/＞表示目标像素点的聚集程度。8.根据权利要求1所述基于图像识别技术的煤流监测系统，其特征在于，所述根据目标像素点修正后的密集程度和聚集程度得到目标像素点的异常程度，包括：目标像素点的异常程度的计算公式为：式中，表示目标像素点修正后的密集程度，/＞表示目标像素点的聚集程度，/＞表示目标像素点的异常程度。9.根据权利要求1所述基于图像识别技术的煤流监测系统，其特征在于，所述根据目标像素点的异常程度和噪声表现强度得到目标像素点的增强必要性，根据增强必要性将煤流图像中所有像素点划分为增强像素点和非增强像素点，包括：目标像素点的增强必要性的计算公式为：式中，表示目标像素点的异常程度，/＞表示目标像素点的噪声表现强度，/＞表示目标像素点的增强必要性，/＞表示线性归一化函数；将增强必要性大于或者等于预设阈值T的像素点全部记为增强像素点，将增强必要性小于预设阈值T的像素点全部记为非增强像素点。10.根据权利要求1所述基于图像识别技术的煤流监测系统，其特征在于，所述对所有增强像素点进行滤波处理，所有非增强像素点不进行滤波处理，得到滤波处理后的煤流图像，包括：通过非局部均值滤波算法对煤流图像中所有的增强像素点进行滤波增强，煤流图像中所有的非增强像素点的灰度值保持不变，则得到滤波处理后的煤流图像。
说明书desc
技术领域本发明涉及图像处理技术领域，具体涉及基于图像识别技术的煤流监测系统。背景技术我国煤炭很多都是井下开采产出，而井下生产过程中只有将煤炭从采煤工作面运输到地面后，煤炭才真正具有使用价值，因此煤流运输是煤炭生产的关键环节，在很大程度上决定了煤炭的产量、成本及生产效率。煤流运输系统本身环节多、设备多、运输线路长，加之井下运输环境恶劣，致使煤流运输成为矿井事故的多发环节，因而对其进行实时监测与分析具有非常重要的意义。为了监测煤流的运输情况，通常使用计算机视觉进行监测，由于矿井中的光线不太好，因此直接采集到的图像需要进行去噪和滤波预处理，在预处理过程中可以直接使用非局部均值滤波进行预处理，但是非局部均值滤波需要对图像中的所有像素点进行分析处理，这就导致在使用非局部均值滤波进行预处理时，由于计算量非常大，导致计算机的运算时间很长。由于时间过长，这就导致不能及时的监测出煤流的异常情况。发明内容本发明提供基于图像识别技术的煤流监测系统，以解决现有的问题。本发明的基于图像识别技术的煤流监测系统采用如下技术方案：本发明一个实施例提供了基于图像识别技术的煤流监测系统，该系统包括以下模块：数据采集模块，用于采集煤流图像；像素点的噪声表现强度计算模块，用于将煤流图像中任意一个像素点记为目标像素点，根据目标像素点的第一局部窗口内像素点的灰度差异和目标像素点的标记方向上的所有突变像素点，得到目标像素点的噪声表现强度，所述突变像素点通过标记方向上相邻像素点灰度差异的最大值获得；像素点的增强必要性计算模块，用于根据目标像素点的第二局部窗口内的像素点类别得到目标像素点的密集程度，根据目标像素点的第一局部窗口内像素点的噪声表现强度和梯度幅值，对目标像素点的密集程度进行修正，得到目标像素点修正后的密集程度，根据目标像素点的每个标记方向上的剧变像素点的个数和剧变像素点与目标像素点之间的距离得到目标像素点的聚集程度，所述剧变像素点是通过标记方向上相邻像素点灰度差异与平均灰度值获得；根据目标像素点修正后的密集程度和聚集程度得到目标像素点的异常程度，根据目标像素点的异常程度和噪声表现强度得到目标像素点的增强必要性，根据增强必要性将煤流图像中所有像素点划分为增强像素点和非增强像素点；煤流图像滤波处理模块，用于对所有增强像素点进行滤波处理，所有非增强像素点不进行滤波处理，得到滤波处理后的煤流图像，根据滤波处理后的煤流图像进行监测。进一步地，所述第一局部窗口的获取方法包括：以目标像素点为中心，以为窗口边框长度，获取目标像素点的第一局部窗口，其中，A为预设阈值。进一步地，所述根据目标像素点的第一局部窗口内像素点的灰度差异和目标像素点的标记方向上的所有突变像素点，得到目标像素点的噪声表现强度，包括：目标像素点的噪声表现强度的计算公式为：式中，表示目标像素点的第一局部窗口内第j个像素点的第一局部窗口内所有像素点的灰度值的方差，/＞表示目标像素点的第一局部窗口内第j个像素点与目标像素点之间的距离，N表示目标像素点的第一局部窗口内所有像素点的总个数，/＞表示目标像素点的第d个标记方向上的突变像素点的灰度差异程度，/＞表示目标像素点的第d个标记方向上的突变像素点与目标像素点之间的距离，/＞表示标记方向的个数，/＞表示目标像素点的噪声表现强度；将目标像素点的竖直向上方向、水平向右方向、右上方向和右下/＞方向，记为标记方向；计算目标像素点的每个标记方向上每个像素点与下一个相邻的像素点之间的灰度差异，得到目标像素点的每个标记方向上每个像素点的灰度差异程度。进一步地，所述目标像素点的第二局部窗口内的像素点类别的获取方法包括：以目标像素点为中心，以为窗口边框长度，获取目标像素点的第二局部窗口，其中，B为预设阈值；通过k-means聚类算法对目标像素点的第二局部窗口内所有像素点进行聚类，将目标像素点的第二局部窗口内的所有像素点划分为多个类别。进一步地，所述根据目标像素点的第二局部窗口内的像素点类别得到目标像素点的密集程度，包括：目标像素点的密集程度的计算公式为：式中，表示目标像素点的第二局部窗口内第c个类别的中心点与第k个类别的中心点之间的距离，/＞表示目标像素点的第二局部窗口内第c个类别的像素点数量与第k个类别的像素点数量之间的数量差异，M表示目标像素点的第二局部窗口内的类别个数，/＞表示目标像素点的密集程度。进一步地，所述根据目标像素点的第一局部窗口内像素点的噪声表现强度和梯度幅值，对目标像素点的密集程度进行修正，得到目标像素点修正后的密集程度，包括：目标像素点修正后的密集程度的计算公式为：式中，表示目标像素点的第一局部窗口内第v个像素点的梯度幅值，/＞表示目标像素点的第一局部窗口内第v个像素点的噪声表现强度，/＞表示目标像素点的密集程度，N表示目标像素点的第一局部窗口内所有像素点的总个数，/＞表示目标像素点修正后的密集程度。进一步地，所述根据目标像素点的每个标记方向上的剧变像素点的个数和剧变像素点与目标像素点之间的距离得到目标像素点的聚集程度，包括：当目标像素点的每个标记方向上每个像素点的灰度差异程度大于对应的标记方向上的所有像素点的灰度值的均值时，将该像素点记为剧变像素点；目标像素点的聚集程度的计算公式为：式中，表示目标像素点的所有标记方向上的第p个剧变像素点与目标像素点之间的距离，F表示目标像素点的所有标记方向上的所有剧变像素点的个数，/＞表示目标像素点的聚集程度。进一步地，所述根据目标像素点修正后的密集程度和聚集程度得到目标像素点的异常程度，包括：目标像素点的异常程度的计算公式为：式中，表示目标像素点修正后的密集程度，/＞表示目标像素点的聚集程度，/＞表示目标像素点的异常程度。进一步地，所述根据目标像素点的异常程度和噪声表现强度得到目标像素点的增强必要性，根据增强必要性将煤流图像中所有像素点划分为增强像素点和非增强像素点，包括：目标像素点的增强必要性的计算公式为：式中，表示目标像素点的异常程度，/＞表示目标像素点的噪声表现强度，/＞表示目标像素点的增强必要性，/＞表示线性归一化函数；将增强必要性大于或者等于预设阈值T的像素点全部记为增强像素点，将增强必要性小于预设阈值T的像素点全部记为非增强像素点。进一步地，所述对所有增强像素点进行滤波处理，所有非增强像素点不进行滤波处理，得到滤波处理后的煤流图像，包括：通过非局部均值滤波算法对煤流图像中所有的增强像素点进行滤波增强，煤流图像中所有的非增强像素点的灰度值保持不变，则得到滤波处理后的煤流图像。本发明的技术方案的有益效果是：本发明根据目标像素点的第一局部窗口内所有像素点的灰度分布、所有标记方向上的灰度差异和突变像素点与目标像素点之间的距离得到目标像素点的噪声表现强度，初步确定了每个像素点含有噪声的成分；根据目标像素点的第二局部窗口内类别中心之间的距离和类别数量之间差异得到目标像素点的密集程度，对目标像素点的密集程度进行修正，得到目标像素点修正后的密集程度，获取目标像素点的每个标记方向上的剧变像素点，根据目标像素点的每个标记方向上的剧变像素点的个数和剧变像素点与目标像素点之间的距离得到目标像素点的聚集程度，根据目标像素点修正后的密集程度和聚集程度得到目标像素点的异常程度，根据目标像素点的异常程度和目标像素点的噪声表现强度，得到目标像素点的增强必要性，根据目标像素点的增强必要性得到煤流图像中的所有增强像素点和非增强像素点，确定出了需要调整的像素点和不需要调整的像素点，大大的减少了计算机的运算量；根据所有增强像素点和非增强像素得到滤波处理后的煤流图像，根据滤波处理后的煤流图像进行监测，提高了煤流监测的时效性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明基于图像识别技术的煤流监测系统的模块流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的基于图像识别技术的煤流监测系统，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的基于图像识别技术的煤流监测系统的具体方案。请参阅图1，其示出了本发明一个实施例提供的基于图像识别技术的煤流监测系统的模块流程图，该系统包括以下模块：模块101：数据采集模块。需要说明的是，为了分析煤流过程是否出现异常情况，则需要采集煤流过程中的图像，通过对采集到的图像进行分析，以此来监测煤流过程。具体地，采集煤流过程中的图像，并对其进行灰度化预处理得到预处理后的煤流图像。至此，得到煤流图像。模块102：像素点的噪声表现强度计算模块。需要说明的是，由于非局部均值滤波算法是根据每个像素点对应的参考块之间的相似性来对像素点进行平滑的，当噪声表现强度较低的像素点在经过处理后变化很小时，对这些像素点进行增强的意义不大，因此需要筛选出噪声表现强度较高的像素点并加以处理，以此来减少计算机运算量的问题。进一步需要说明的是，而在煤流运输图像中，图像中像素点的噪声表现强度并不会仅通过单个像素点的灰度值来体现出来，例如因传送带运动或煤块的滚动而产生的拖影、煤块堆积时重叠的边缘等，都需要分析像素点所在位置周围的一片区域内的局部特征来得出其噪声表现强度。为了分析图像中每个像素点的噪声表现强度，则需要根据每个像素点的邻域内所有像素点的灰度差异进行分析。具体地，预设一个阈值A，其中本实施例以A=30为例进行叙述，本实施例不进行具体限定，其中A可根据具体实施情况而定。以目标像素点为中心，以为窗口边框长度，获取目标像素点的第一局部窗口。以煤流图像中左下角的像素点为坐标原点，以煤流图像边缘水平向右的方向为横轴，以煤流图像边缘竖直向上的方向为纵轴建立了坐标系。至此，可以得到每两个像素点之间的距离。将每个像素点的竖直向上方向、水平向右方向、右上方向和右下/＞方向，记为每个像素点的标记方向。其中，在本实施例中，突变像素点是根据目标像素点的每个标记方向上的每个像素点与下一个相邻的像素点之间的灰度差异，得到目标像素点的每个标记方向上的每个像素点的灰度差异程度，将目标像素点的每个标记方向上的每个像素点的灰度差异程度最大的像素点记为每个像素点的每个标记方向上的突变像素点。其中，差异表示差值的绝对值。而在其它实施例中，突变像素点是根据目标像素点的每个标记方向上的每个像素点与上一个相邻的像素点之间的灰度差异，得到目标像素点的每个标记方向上的每个像素点的灰度差异程度，将目标像素点的每个标记方向上的每个像素点的灰度差异程度最大的像素点记为每个像素点的每个标记方向上的突变像素点。将煤流图像中任意一个像素点记为目标像素点。根据目标像素点的第一局部窗口内所有像素点的灰度分布、所有标记方向上的灰度差异和突变像素点与目标像素点之间的距离得到目标像素点的噪声表现强度，用公式具体表示为：式中，表示目标像素点的第一局部窗口内第j个像素点的第一局部窗口内所有像素点的灰度值的方差，/＞表示目标像素点的第一局部窗口内第j个像素点与目标像素点之间的距离，N表示目标像素点的第一局部窗口内所有像素点的总个数，/＞表示目标像素点的第d个标记方向上的突变像素点的灰度差异程度，/＞表示目标像素点的第d个标记方向上的突变像素点与目标像素点之间的距离，/＞表示标记方向的个数，/＞表示目标像素点的噪声表现强度。其中，中/＞是作为/＞的权重对其进行修正，即当每个像素点离中心像素点越近，其对应的像素点的第一局部窗口内所有像素点的灰度值的方差越可信，即权重越大，则像素点的噪声表现强度越大；当每个像素点离中心像素点越远，其对应的像素点的第一局部窗口内所有像素点的灰度值的方差越不可信，即权重越小，则像素点的噪声表现强度越小。同理，/＞中/＞是作为/＞的权重对其进行修正，当每个标记方向上的突变像素点与中心像素点越近，其对应的权重越大，则像素点的噪声表现强度越大，当每个标记方向上的突变像素点与中心像素点越远，其对应的权重越小，则像素点的噪声表现强度越小。至此，得到目标像素点的噪声表现强度。模块103：像素点的增强必要性计算模块。需要说明的是，由于在上述步骤中，只是通过每个像素点的邻域内像素点的灰度分布差异获取了每个像素点的噪声表现程度，这就导致分析得到的噪声表现程度有点局部性，因此可以通过扩大每个像素点的邻域范围大小对其进行分析。进一步需要说明的是，由于在矿井中通过使用传送带对煤炭进行传送，则在传送过程中，当出现煤炭的堵塞、堆积、溢出或者发生偏移时，则表示出现了异常；当出现煤炭的堵塞、堆积时，此时像素点的灰度值偏低，而周围的像素点的灰度值偏高；当出现煤炭的溢出或者发生偏移时，溢出或者发生偏移的那块区域中像素点的灰度值偏高，而周围其他区域中的像素点的灰度值偏低，当不管是堵塞、堆积还是溢出、发生偏移，都会使得煤炭一片一片的，导致形成区域，因此可以通过扩大每个像素点的邻域范围来确定每个像素点的密集程度。具体地，预设一个阈值B，其中本实施例以B=150为例进行叙述，本实施例不进行具体限定，其中B可根据具体实施情况而定。以目标像素点为中心，以为窗口边框长度，获取目标像素点的第二局部窗口。通过k-means聚类算法对目标像素点的第二局部窗口内所有像素点进行聚类，得到目标像素点的第二局部窗口内的若干个类别。其中，k-means聚类算法为公知技术，此处不再进行具体赘述。其中，在本实施例中类别的个数M预设为10个进行叙述，本实施例不进行具体限定，其中M可根据具体实施情况而定。其中，在本实施例中第一局部窗口和第二局部窗口的大小不相同；但在其它实施例中第一局部窗口和第二局部窗口的大小可以相同。根据目标像素点的第二局部窗口内类别中心之间的距离和类别数量之间差异得到目标像素点的密集程度，用公式表示为：式中，表示目标像素点的第二局部窗口内第c个类别的中心点与第k个类别的中心点之间的距离，/＞表示目标像素点的第二局部窗口内第c个类别的像素点数量与第k个类别的像素点数量之间的数量差异，M表示目标像素点的第二局部窗口内的类别个数，/＞表示目标像素点的密集程度。在公式中c与k不相等。其中，当类别与类别之间的类别中心点的距离越远，表示对应的像素点的密集程度越小，即此时传送带上出现异常的情况较小；当类别与类别之间的类别中心点的距离越近，表示对应的像素点的密集程度大，即此时传送带上出现异常的情况较大。当类别与类别之间的数量差异越大，表示对应的像素点的密集程度越大，即此时传送带上出现异常的情况较大；当类别与类别之间的数量差异越小，表示对应的像素点的密集程度越小，即此时传送带上出现异常的情况较小。至此，得到目标像素点的密集程度。需要说明的是，对每个像素点的密集程度进行分析时，当每个像素点的邻域范围内的像素点的灰度差异不大，但是和上述聚类成相同的类别时，这就导致计算出的像素点的密集程度的误差较大，因此需要进行修正。进一步需要说明的是，当每个像素点的邻域范围内的像素点的灰度差异不大时，这就导致计算出的像素点的密集程度越不可信，当每个像素点的邻域范围内的像素点的灰度差异较大时，此时计算出的像素点的密集程度越可信，因此可以根据每个像素点的邻域内的所有像素点的灰度差异进行分析，由于在上述步骤中像素点的噪声表现强度是通过方差得到的，因此可以根据像素点的噪声表现强度和梯度幅值进行修正。具体地，根据目标像素点的第一局部窗口内每个像素点的噪声表现强度和梯度幅值，对目标像素点的密集程度进行修正，得到目标像素点修正后的密集程度，用公式表示为：式中，表示目标像素点的第一局部窗口内第v个像素点的梯度幅值，/＞表示目标像素点的第一局部窗口内第v个像素点的噪声表现强度，/＞表示目标像素点的密集程度，N表示目标像素点的第一局部窗口内所有像素点的总个数，/＞表示目标像素点修正后的密集程度。其中，为像素点的梯度幅值与噪声表现强度的乘积，当像素点的梯度幅值与噪声表现强度的乘积越大，表示该像素点修正后的密集程度越大；当像素点的梯度幅值与噪声表现强度的乘积越小，表示该像素点修正后的密集程度越小。至此，得到目标像素点修正后的密集程度。需要说明的是，当煤炭在传送过程中，出现煤炭的堵塞、堆积、溢出或者发生偏移时，则每个像素点的所有标记方向上必然会出现一些相邻像素点之间的灰度差异较大的像素点，因此可以根据每个像素点的所有标记方向上相邻像素点之间的灰度差异进行分析。具体地，计算煤流图像中目标像素点的每个标记方向上所有像素点的灰度值的均值，再计算目标像素点的每个标记方向上每个像素点与下一个相邻的像素点之间的灰度差异，得到目标像素点的每个标记方向上每个像素点的灰度差异程度，当目标像素点的每个标记方向上每个像素点的灰度差异程度大于对应的标记方向上的所有像素点的灰度值的均值时，将该像素点记为剧变像素点。根据煤流图像中目标像素点的每个标记方向上的剧变像素点的个数和剧变像素点与目标像素点之间的距离得到目标像素点的聚集程度，用公式具体表示为：式中，表示目标像素点的所有标记方向上的第p个剧变像素点与目标像素点之间的距离，F表示目标像素点的所有标记方向上的所有剧变像素点的个数，/＞表示目标像素点的聚集程度。其中，表示目标像素点的所有标记方向上的所有剧变像素点与目标像素点之间的距离的均值，当距离的均值越大，则其目标像素点的聚集程度越大；当目标像素点的所有标记方向上的所有剧变像素点的个数越多，则目标像素点的聚集程度也越大；当目标像素点修正后的密集程度越大，则目标像素点的聚集程度也越大。至此，得到目标像素点的聚集程度。根据目标像素点的密集程度、目标像素点修正后的密集程度和目标像素点的聚集程度得到目标像素点的异常程度，用公式表示为：式中，表示目标像素点修正后的密集程度，/＞表示目标像素点的聚集程度，/＞表示目标像素点的异常程度。其中，当目标像素点的密集程、目标像素点修正后的密集程度和目标像素点的聚集程度时，则目标像素点的异常程度越大，即该数据点越异常，越需要增强。根据目标像素点的异常程度和目标像素点的噪声表现强度得到目标像素点的增强必要性，用公式表示为：式中，表示目标像素点的异常程度，/＞表示目标像素点的噪声表现强度，/＞表示目标像素点的增强必要性，/＞表示线性归一化函数。至此，得到目标像素点的增强必要性。预设一个阈值T，其中本实施例以T=0.75为例进行叙述，本实施例不进行具体限定，其中T可根据具体实施情况而定。将增强必要性大于或者等于预设阈值T的像素点全部记为增强像素点，将增强必要性小于预设阈值T的像素点全部记为非增强像素点。至此，得到煤流图像中所有的增强像素点和所有的非增强像素点。模块104：煤流图像滤波处理模块。通过非局部均值滤波算法对煤流图像中所有的增强像素点进行滤波增强，煤流图像中所有的非增强像素点的灰度值保持不变，则得到滤波处理后的煤流图像。其中，非局部均值滤波算法为公知技术，此处不再进行具体赘述。然后通过对滤波处理后的煤流图像进行监测。至此，本实施例完成。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
