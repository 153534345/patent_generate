标题title
一种基于OCR的医疗器械注册证识别方法、装置及介质
摘要abst
本发明公开了一种基于OCR的医疗器械注册证识别方法、装置及介质，该方法包括以下步骤：S1，获取医疗器械注册证的图像并对医疗器械注册证的图像预处理，以提高图像清晰度；S2，对预处理后的图像进行识别并封装，生成封装数据；S3，从封装数据中查找预设的关键词；S4，根据步骤S3的查找结果，计算查找到的关键词的坐标。通过OCR技术，可以快速准确地识别医疗器械注册证上的文字信息，大大提高了信息采集的速度和准确性，省去了人工录入和核对的时间和人力成本，同时OCR技术可以识别各种字体和格式的文字信息，减少因手写或打印错误导致的识别错误，确保信息的准确性，可以直接将医疗器械注册证上的文字信息转化为电子格式。
权利要求书clms
1.一种基于OCR的医疗器械注册证识别方法，其特征是，包括以下步骤：S1，获取医疗器械注册证的图像并对医疗器械注册证的图像预处理，以提高图像清晰度；S2，对预处理后的图像进行识别并封装，生成封装数据；S3，从封装数据中查找预设的关键词；S4，根据步骤S3的查找结果，计算查找到的关键词的坐标；S5，根据步骤S4计算出的坐标，在医疗器械注册证的图像中标记对应的关键词。2.根据权利要求1所述的基于OCR的医疗器械注册证识别方法，其特征是，步骤S1中对医疗器械注册证的图像进行预处理是通过灰度化、二值化和平滑滤波法去除噪声、增强对比度，并调整识别阈值或去除背景干扰以提高图片清晰度。3.根据权利要求2所述的基于OCR的医疗器械注册证识别方法，其特征是，步骤S2包括：S21，使用OCR技术识别预处理后的图像中的数据；其中，该数据包括整行文本字符串、整行文本坐标、行内文字、文字坐标集合和识别准确度评估数据；S22，将步骤S21中得到的数据进行封装，得到所述封装数据。4.根据权利要求1所述的基于OCR的医疗器械注册证识别方法，其特征是，所述封装数据为json数据。5.根据权利要求3所述的基于OCR的医疗器械注册证识别方法，其特征是，步骤S3中使用用户输入的文本数据作为预设的关键词，在所述封装数据中进行查找。6.根据权利要求5所述的基于OCR的医疗器械注册证识别方法，其特征是，步骤S3包括以下步骤：S31，在所述封装数据的整行文本字符串中查找预设的关键词；S32，判断是否能够在整行文本字符串中查找到预设的关键词；如果是，则进入步骤S4；如果否，则进入步骤S33；S33，将预设的关键词拆分成多个关键字；并在整行文本字符串中查找关键字；S34，判断是否能在整行文本字符串查找到部分关键字；如果是，进入步骤S35；如果否，进入步骤S37；S35，将查找到的关键字按顺序排列；S36，判断排序后的关键字是否为连续文字；如果是，进入步骤S38；如果否，进入步骤S37；S37，在下一行整行文本字符串中查找关键字，并且重复步骤S34~S36，直到历遍所有的整行文本字符；S38，判断查找到的连续文字中最后一个文字是否是该整行文本字符串中的最后一个文字；如果是，进入步骤S39，如果否，进入步骤S37；S39，更新关键词，从下一行整行文本字符串的首字符开始查找更新后的关键词；S310，判断是否查找到更新后的关键词；如果是，进入步骤S311；如果否，进入步骤S37；S311，将更新后的关键词与对应的连续文字组合成查找结果集合。7.根据权利要求1所述的基于OCR的医疗器械注册证识别方法，其特征是，预设的关键词包括医疗器械注册证的号码和/或供应商填写的文本信息，查找结果包括文字字符、文字字符在文件中的坐标和/或文字字符识别准确率评估。8.根据权利要求1-7任一项所述的基于OCR的医疗器械注册证识别方法，其特征是，所述在步骤S4中计算查找到的关键词的坐标包括所述关键词的起止坐标，所述关键词的起止坐标包括首字符左上角坐标和左下角坐标和最后一位字符右上角坐标和右下角坐标，如果文字存在换行情况，分别计算两行文字的起止坐标。9.一种基于OCR的医疗器械注册证识别装置，包括存储器和处理器，存储器存储有计算机可执行指令，处理器被配置为运行所述计算机可执行指令，其特征在于，所述计算机可执行指令被所述处理器运行时实现权利要求1～8任一项所述的基于OCR的医疗器械注册证识别方法。10.一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，其特征在于，所述计算机程序被处理器运行时实现权利要求1～8任一项所述的基于OCR的医疗器械注册证识别方法。
说明书desc
技术领域本发明涉及医疗信息化数据识别技术领域，尤其是涉及一种基于OCR的医疗器械注册证识别方法、装置及介质。背景技术在医疗领域采购、供应业务过程中，医疗类设备、耗材、试剂、器械等医疗设备和物资信息要与医疗产品注册证信息进行比对，以保障医疗产品采购和供应合法合规。现有技术中，医疗产品注册证比对工作往往都是人工操作，工作量极大，对比出现失误的概率极高，一旦出现失误给医院和供应商双方都会造成大量的经济损失和信誉损失。如何减少人工成本、降低人工失误风险，是本领域亟待解决的重要问题之一。发明内容本发明的目的为减少人工成本、降低人工失误风险，设计一种基于OCR的医疗器械注册证识别方法、装置及介质，同时本发明实现了对医疗器械注册证文件进行智能检查，对检查数据进行高亮标记。本发明为达到上述发明目的，采用如下技术方案：第一方面，本发明提供一种基于OCR的医疗器械注册证识别方法，包括以下步骤：S1，获取医疗器械注册证的图像并对医疗器械注册证的图像预处理，以提高图像清晰度；S2，对预处理后的图像进行识别并封装，生成封装数据；S3，从封装数据中查找预设的关键词；S4，根据步骤S3的查找结果，计算查找到的关键词的坐标；S5，根据步骤S4计算出的坐标，在医疗器械注册证的图像中标记对应的关键词。如上所述的基于OCR的医疗器械注册证识别方法，其中，可选的是，步骤S1中对医疗器械注册证的图像进行预处理是通过灰度化、二值化和平滑滤波法去除噪声、增强对比度，并调整识别阈值或去除背景干扰以提高图片清晰度。如上所述的基于OCR的医疗器械注册证识别方法，其中，可选的是，步骤S2包括：S21，使用OCR技术识别预处理后的图像中的数据；其中，该数据包括整行文本字符串、整行文本坐标、行内文字、文字坐标集合和识别准确度评估数据；S22，将步骤S21中得到的数据进行封装，得到所述封装数据。如上所述的基于OCR的医疗器械注册证识别方法，其中，可选的是，所述封装数据为json数据。如上所述的基于OCR的医疗器械注册证识别方法，其中，可选的是，步骤S3中使用用户输入的文本数据作为预设的关键词，在所述封装数据中进行查找。如上所述的基于OCR的医疗器械注册证识别方法，其中，可选的是，步骤S3包括以下步骤：S31，在所述封装数据的整行文本字符串中查找预设的关键词；S32，判断是否能够在整行文本字符串中查找到预设的关键词；如果是，则进入步骤S4；如果否，则进入步骤S33；S33，将预设的关键词拆分成多个关键字；并在整行文本字符串中查找关键字；S34，判断是否能在整行文本字符串查找到部分关键字；如果是，进入步骤S35；如果否，进入步骤S37；S35，将查找到的关键字按顺序排列；S36，判断排序后的关键字是否为连续文字；如果是，进入步骤S38；如果否，进入步骤S37；S37，在下一行整行文本字符串中查找关键字，并且重复步骤S34~S36，直到历遍所有的整行文本字符；S38，判断查找到的连续文字中最后一个文字是否是该整行文本字符串中的最后一个文字；如果是，进入步骤S39，如果否，进入步骤S37；S39，更新关键词，从下一行整行文本字符串的首字符开始查找更新后的关键词；S310，判断是否查找到更新后的关键词；如果是，进入步骤S311；如果否，进入步骤S37；S311，将更新后的关键词与对应的连续文字组合成查找结果集合。如上所述的基于OCR的医疗器械注册证识别方法，其中，可选的是，预设的关键词包括医疗器械注册证的号码和/或供应商填写的文本信息，查找结果包括文字字符、文字字符在文件中的坐标和/或文字字符识别准确率评估。如上所述的基于OCR的医疗器械注册证识别方法，其中，可选的是，所述在步骤S4中计算查找到的关键词的坐标包括所述关键词的起止坐标，所述关键词的起止坐标包括首字符左上角坐标和左下角坐标和最后一位字符右上角坐标和右下角坐标，如果文字存在换行情况，分别计算两行文字的起止坐标。第二方面，本发明还提出了一种基于OCR的医疗器械注册证识别装置，包括存储器和处理器，存储器存储有计算机可执行指令，处理器被配置为运行所述计算机可执行指令，其中，所述计算机可执行指令被所述处理器运行时实现如上述任一项所述的基于OCR的医疗器械注册证识别方法。第三方面，本发明还提出了一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，其中，所述计算机程序被处理器运行时实现如上述任一项所述的基于OCR的医疗器械注册证识别方法。与现有技术相比，本发明的有益效果如下：1、通过OCR技术、图像处理技术，可以快速准确地识别和提取医疗器械注册证上的产品信息与提交产品信息进行对比，并对比对结果和比对可信度进行计算和显示，大大提高了信息采集的速度和准确性，省去了人工录入和核对的时间，降低人工投入成本，同时大大降低了因检查失误而造成的经济损失，同时OCR技术可以识别各种字体和格式的文字信息，减少因手写或打印错误导致的识别错误，确保信息的准确性。2、通过对文字语义问题和关键字标记范围问题进行标记和处理，可以提高文本处理的质量和效率，对文本中的格式、关键字标记范围问题进行规范和标准化的处理，可以提高文本处理的可重复性和一致性，便于后续的数据分析和处理工作，对关键字标记范围进行选择和处理，可以确保标记的关键字与文本内容相符合，避免关键字标记范围过小或过大，提高文本处理的一致性和准确性。3、本发明通过将预设的关键字拆分成单个关键字，分别进行检索，能够对从中间换行的关键词进行检索并计算相应的坐标，以实现对图片中横跨两行的关键词进行标记。附图说明图1为本发明实施例1公开的一种基于OCR的医疗器械注册证识别方法流程图；图2为本发明提供的实施例1中步骤S3的具体步骤流程图。具体实施方式下面通过参考附图描述的实施例是示例性的，仅用于解释本发明，而不能解释为对本发明的限制。实施例1：本实施例在OCR技术的基础上，对算法作了进一步改进，以解决背景技术中提出的问题。OCR，也就是光学字符识别，是一种通过图像处理和字符识别技术，将纸质文档上的印刷体字符通过光学方式转换成黑白点阵图像文件，然后通过识别软件将图像中的文字转换成电子文本格式，供文字处理软件进一步编辑加工的技术。请参照图1，本实施例公开了一种基于OCR的医疗器械注册证识别方法，该方法包括以下实施步骤：S1，获取医疗器械注册证的图像并对医疗器械注册证的图像预处理，以提高图像清晰度。在本步骤中，对医疗器械注册证的图像进行预处理是通过灰度化、二值化和平滑滤波法去除噪声、增强对比度，并调整识别阈值或去除背景干扰以提高图片清晰度。通过上述步骤，能够提高图像清晰度，有利于提高OCR识别的准确性。S2，对预处理后的图像进行识别并封装，生成封装数据。本步骤的主要作用是利用OCR技术对预处理后的图像进行识别。具体地，本步骤具体包括以下步骤：S21，使用OCR技术识别预处理后的图像中的数据；其中，该数据包括整行文本字符串、整行文本坐标、行内文字、文字坐标集合和识别准确度评估数据。即，识别后的文字按原图中的行数，以整行为单位，形成多行整行文本字符串。整行文本坐标，是指每行文本字符串在原图中的坐标。行内文字是指整行文本字符串中对应的行内文字，文字坐标集合则可以是每个行内文字对应的坐标的集合。S22，将步骤S21中得到的数据进行封装，得到所述封装数据，封装数据为json数据。将数据封装成json数据，有利于在后续步骤中进行关键词的检索。S3，从封装数据中查找预设的关键词；在具体实施时，从封装数据中查找预设的关键词，是本实施例关键步骤之一。其中，预设的关键词包括医疗器械注册证的号码和/或供应商填写的文本信息，查找结果包括文字字符、文字字符在文件中的坐标和/或文字字符识别准确率评估。在本步骤中使用用户输入的文本数据作为预设的关键词，在所述封装数据中进行查找。即，操作人员可以根据实际需要输入需要查找的文字，并将该文本数据作为预设的关键词进行后续处理。其主要作用是，从封装数据中查找预设的关键词。需要指出的是，对于图像上的关键词存在换行的问题，即关键词跨度为两行的情况下，现有技术中会存在遗漏的问题。针对这种情况，本实施例设计了以下具体步骤，以解决图案中关键词遗漏的问题。具体地，步骤S3包括以下具体步骤：S31，在所述封装数据的整行文本字符串中查找预设的关键词；即，直接在封装数据中直接查找，通过此步查找，能够直接找到存在于一行之内的关键词。对于有些证书，其待查找的关键词出现在两行，即图像上的关键词中间存在换行的情况。可通过以下步骤来避免遗漏这种情况。S32，判断是否能够在整行文本字符串中查找到预设的关键词；如果是，则进入步骤S4；如果否，则进入步骤S33。S33，将预设的关键词拆分成多个关键字；并在整行文本字符串中查找关键字。即，以单个字为单位，对关键词进行拆分，再以关键字为单位进行查找，如此，当图像中的关键词存在换行的情况下，依然能够被查找到。对单个关键字进行查找会存在大量的非目标关键字被查找到，为了确定被查找到的关键字是否为非目标关键字，就需要对查找到的关键字是否存在于要查找到的关键词中进行判断。为此，本实施例还设计了以下步骤：S34，判断是否能在整行文本字符串查找到部分关键字；如果是，进入步骤S35；如果否，进入步骤S37。在具体实施时，由于整行文本字符串的数量为多行，需要逐行进行检索。当某行未查到到时，进入步骤S37，以在下一行文字中检索。S35，将查找到的关键字按顺序排列；在具体实施时，查找到的关键字可能是多个，也可能是一个，当为一个时直接将其作为连续文字。当查找到的关键字为多个时，按其在整行文本字符串中的前后顺序，进行排序。S36，判断排序后的关键字是否为连续文字；如果是，进入步骤S38；如果否，进入步骤S37。具体地，判断排序后的关键字为连续文字，是指，在预设的关键词中，存在该排序后的关键字。S37，在下一行整行文本字符串中查找关键字，并且重复步骤S34~S36，直到历遍所有的整行文本字符。当所有的整行文本字符串中均不存在连续文字，说明在所有整行文本字符串中，均没有查找到连续文字。S38，判断查找到的连续文字中最后一个文字是否是该整行文本字符串中的最后一个文字；如果是，进入步骤S39，如果否，进入步骤S37。在具体实施时，某些情况下，虽然存在连续文字，但连续文字并非出现在该行的最后，说明该连续文字并不存在于对应的关键词中。通过本步骤，能够筛除掉这种情况。S39，更新关键词，从下一行整行文本字符串的首字符开始查找更新后的关键词。在具体实施时，更新关键词的方法为，在预设的关键词中，去掉连续文字后的字按原顺序所组成的词作为更新后的关键词。S310，判断是否查找到更新后的关键词；如果是，进入步骤S311；如果否，进入步骤S37。即，当更新后的关键词出现在下一行的行首位置时，说明更新后的关键词匹配成功。S311，将更新后的关键词与对应的连续文字组合成查找结果集合。即，组合后的结果仍为关键词，需要指出的是，由于横跨了两行，对应的座标应当为两组，一组是连续文字对应的坐标，另一组是更新后的关键词的坐标。S4，根据步骤S3的查找结果，计算查找到的关键词的坐标。在本步骤中计算查找到的关键词的坐标包括关键词的起始坐标，关键词的起始坐标包括首字符左上角坐标和左下角坐标和最后一位字符右上角坐标和右下角坐标。如此，能够快速确定文字的位置。如果文字存在换行情况，分别计算两行文字的起止坐标。即，分别计算连续文字的坐标和对应的更新后的关键词的坐标。以便于将整个关键词标记出来。S5，根据步骤S4计算出的坐标，在医疗器械注册证的图像中标记对应的关键词。在具体实施时，对于关键词的标记可以是在关键词的下方划线，如，可以是波浪线、点划线等，其颜色可以是红色、蓝色等。在具体实施时，本步骤中，还包括计算文字行间距，根据文字行间距来确定线条粗细；具体地，根据关键词的起止坐标，使用图像处理方法，在图片中划红线进行标记。通过识别医疗器械注册证上的信息，并对关键信息进行识别和标记，可以实现医疗器械的全生命周期管理，包括生产、流通、使用等各个环节的可追溯性，有助于加强医疗器械监管和管理，可有效提高医疗器械注册证检查的效率和准确率，降低人工投入成本，同时大大降低了因检查失误而造成的经济损失。本发明通过整合OCR技术、图片处理等技术，识别和提取医疗器械注册证中的产品信息与提交的结构化产品信息进行比对，并对比对结果和比对可信度进行计算和显示，并标识出关键信息，能够达到减少人工成本、降低人工失误风险的目的。本发明通过对文字识别和对预设的关键词进行标记和处理，可以提高文本处理的质量和效率，对文本中的格式、关键字标记范围问题进行规范和标准化的处理，可以提高文本处理的可重复性和一致性，便于后续的数据分析和处理工作，对关键字标记范围进行选择和处理，可以确保标记的关键字与文本内容相符合，避免关键字标记范围过小或过大，提高文本处理的一致性和准确性。实施例2：本实施例公开了一种基于OCR的医疗器械注册证识别装置，包括存储器以及处理器，存储器存储有计算机可执行指令，处理器被配置为运行计算机可执行指令，计算机可执行指令被处理器运行时实现实施例1公开的基于OCR的医疗器械注册证识别方法。实施例3：本实施例公开了一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，计算机程序被处理器运行时实现实施例1公开的基于OCR的医疗器械注册证识别方法。以上依据图式所示的实施例详细说明了本发明的构造、特征及作用效果，以上所述仅为本发明的较佳实施例，但本发明不以图面所示限定实施范围，凡是依照本发明的构想所作的改变，或修改为等同变化的等效实施例，仍未超出说明书与图示所涵盖的精神时，均应在本发明的保护范围内。
