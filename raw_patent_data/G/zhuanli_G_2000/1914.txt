标题title
货架倾斜监测预警系统
摘要abst
本发明涉及了倾斜监测技术，具体的本发明涉及一种货架倾斜监测预警系统，本发明包括设置在架顶上的一组光源，每一个光源正下方的架底上均固定设置一个平面镜，平面镜倾斜设置，每一个平面镜的镜面一侧均固定设置一个光传感器，所述的光传感器用于将光信号转换为电信号，所述的光传感器与上位机电连接，上位机用于获取两个光传感器的信号，根据获取两个光传感器的信号特点确定货架倾斜程度，本发明能够精准的表征货架的倾斜程度，从而做出正确的判断。本发明解决现有技术之中的问题。
权利要求书clms
1.货架倾斜监测预警系统，其特征在于，包括设置在架顶上的一组光源，每一个光源正下方的架底上均固定设置一个平面镜，平面镜倾斜设置，每一个平面镜的镜面一侧均固定设置一个光传感器，所述的光传感器用于将光信号转换为电信号，所述的光传感器与上位机电连接，上位机用于获取两个光传感器的信号，根据获取两个光传感器的信号特点确定货架倾斜程度。2.根据权利要求1所述的货架倾斜监测预警系统，其特征在于，所述的平面镜与光传感器之间固定设置凹透镜，所述的凹透镜固定设置在第二镜座上。3.根据权利要求2所述的货架倾斜监测预警系统，其特征在于，所述的光传感器包括圆环形的传感采集区。4.根据权利要求1所述的货架倾斜监测预警系统，其特征在于，所述的平面镜设置在第一镜座上，至少设置两组平面镜，对应的也设置两组光源和两组光传感器。5.根据权利要求1所述的货架倾斜监测预警系统，其特征在于，根据获取两个光传感器的信号特点确定货架倾斜程度包括：上位机用于获取两个光传感器的信号数值变化时间点，并且将两个光传感器的信号变化数值按照变化时间点间隔排序，然后计算信号的变化频率，根据信号的变化频率确定货架倾斜程度。6.根据权利要求1所述的货架倾斜监测预警系统，其特征在于，根据获取两个光传感器的信号特点确定货架倾斜程度包括：上位机用于获取两个光传感器的信号数值变化时间点，并且将两个光传感器的信号变化数值按照变化时间点间隔排序，然后计算信号的变化方向，根据信号的变化方向确定货架倾斜程度。7.根据权利要求6所述的货架倾斜监测预警系统，其特征在于，根据信号的变化方向确定货架倾斜程度具体包括有，先计算信号的变化方向对应方向值，获取两个光传感器的信号数值变化时间点，并且将两个光传感器的信号变化数值按照变化时间点间隔排序，其中一个光传感器的信号变化数值作为正方向数字，另外一个光传感器的信号变化数值作为负方向数字，在任何一个光传感器均无信号变化时设置为0，在一定周期内，信号变化数值向正方向或负方向中的其中一个方向连续倾斜，表明信号具有一个明确的方向，这个连续倾斜的最大值就是信号值的方向值。8.根据权利要求1所述的货架倾斜监测预警系统，其特征在于，根据获取两个光传感器的信号特点确定货架倾斜程度包括根据信号的函数特点确定货架的倾斜程度：具体的，获取两个光传感器的信号数值变化时间点，并且将两个光传感器的信号变化数值按照变化时间点间隔排序，其中一个光传感器的信号变化数值作为正方向数字，另外一个光传感器的信号变化数值作为负方向数字，在任何一个光传感器均无信号变化时设置为0，在一定周期内将获取的所有的信号变化数值处理成关于时间变量的函数值，对该一定周期内所获取的函数值关于时间变量的数据做时间序列分析、一阶导数时间排序和二阶导数时间排序，然后建立该函数值关于时间变量的微分方程，然后解该微分方程得到对应的函数值关于时间变量的一般方程，根据该函数值关于时间变量的一般方程预估货架在未来时间点的倾斜程度。9.根据权利要求8所述的货架倾斜监测预警系统，其特征在于，建立该函数值关于时间变量的微分方程通式为：f+bf+af＝expsinαt)+Qn2cosαt)；f为假设的一般方程，f为f的一阶导，f为f的二阶导，a，b为对应常数系数，t为时间变量，r为指数系数，Qn1，Qn2为待定多项式，n1，n2为对应幂次；α为t的时间频率参数；计算一般方程前a，b，r，n1，n2，α以及Qn1，Qn2均可以确定；解该微分方程得到对应的函数值关于时间变量的一般方程为：f＝tc*expcosαt)+sinαt)；其中c的确定方法为，当r+iα或r-iα不是微分方程的特征方程的根时c＝0，当r+iα或r-iα是微分方程的特征方程的根时c＝1；其中i为-1为虚数数值；其中r即通式中的指数系数，m＝max，p1m，p2m均为t的多项式，m为对应多项式的幂次，p1m，p2m中的1,2不是幂次而是区分用的标识。10.根据权利要求1所述的货架倾斜监测预警系统，其特征在于，所述的上位机采用PC机。
说明书desc
技术领域本发明涉及倾斜监测技术，具体涉及一种货架倾斜监测预警系统。背景技术在相关现有技术中，对于货架倾斜的检测一般通过专用的传感器来实现，比如多数会使用力传感器、距离传感器或者采用图像监测的传感器，或者使用图像监测及图像分析来进行监测。但是这类技术存在很多的缺陷。比如第一类问题为，使用传感器监测情况中，传感器一般不能够长期稳定的保持高精度，使用图像监测及图像分析来进行监测情况中，图像识别往往不能达到图像所要求的分辨率，所以这种效果都比较差。相关现有技术中也有通过一些使用光干涉原理对货架倾斜进行检测的，这种检测精度较高，稳定性也比较强，但是也存在一定的问题。这种检测的问题主要在于，即第二类问题，在检测的精度过高时，经常会出现误判和误报警的情况。主要是因为一般的货架在放置时尤其特别高的货架放置时，因为受到空气的作用以及相关建筑物或地基等本身的轻微晃动，通常都会存在一定的自震动幅度，当这种自震动幅度较小，也可能导致轻微的货架倾斜，不过所导致的货架倾斜都不会影响到货架本身的重心位置的，并且不会有较大变化，也即不会使货架产生倾倒。而通常只有外力作用或者货架本身的结构较大变化时，那么货架倾斜可能会导致重心的偏移，从而导致倾倒。所以在货架的倾斜检测中，因为货架本身通常会存在一定幅度的自然晃动，而当基于光干涉的倾斜检测设备精度调整过高时，则可能将这种货架的自然晃动误判为货架的危险性倾斜，从而出现误报警的情况。发明内容本发明的目的在于提供一种货架倾斜监测预警系统，以解决上述背景技术中提出的问题。为了解决上述技术问题，本发明提供如下技术方案：货架倾斜监测预警系统，包括设置在架顶上的一组光源，每一个光源正下方的架底上均固定设置一个平面镜，平面镜倾斜设置，每一个平面镜的镜面一侧均固定设置一个光传感器，所述的光传感器用于将光信号转换为电信号，所述的光传感器与上位机电连接，上位机用于获取两个光传感器的信号，根据获取两个光传感器的信号特点确定货架倾斜程度。进一步，所述的平面镜与光传感器之间固定设置凹透镜，所述的凹透镜固定设置在第二镜座上。进一步，所述的光传感器包括圆环形的传感采集区。进一步，所述的平面镜设置在第一镜座上，至少设置两组平面镜，对应的也设置两组光源和两组光传感器。进一步，根据获取两个光传感器的信号特点确定货架倾斜程度包括：上位机用于获取两个光传感器的信号数值变化时间点，并且将两个光传感器的信号变化数值按照变化时间点间隔排序，然后计算信号的变化频率，根据信号的变化频率确定货架倾斜程度。进一步，根据获取两个光传感器的信号特点确定货架倾斜程度包括：上位机用于获取两个光传感器的信号数值变化时间点，并且将两个光传感器的信号变化数值按照变化时间点间隔排序，然后计算信号的变化方向，根据信号的变化方向确定货架倾斜程度。进一步，根据信号的变化方向确定货架倾斜程度具体包括有，先计算信号的变化方向对应方向值，获取两个光传感器的信号数值变化时间点，并且将两个光传感器的信号变化数值按照变化时间点间隔排序，其中一个光传感器的信号变化数值作为正方向数字，另外一个光传感器的信号变化数值作为负方向数字，在任何一个光传感器均无信号变化时设置为0，在一定周期内，信号变化数值向正方向或负方向中的其中一个方向连续倾斜，表明信号具有一个明确的方向，这个连续倾斜的最大值就是信号值的方向值。进一步，根据获取两个光传感器的信号特点确定货架倾斜程度包括根据信号的函数特点确定货架的倾斜程度：具体的，获取两个光传感器的信号数值变化时间点，并且将两个光传感器的信号变化数值按照变化时间点间隔排序，其中一个光传感器的信号变化数值作为正方向数字，另外一个光传感器的信号变化数值作为负方向数字，在任何一个光传感器均无信号变化时设置为0，在一定周期内将获取的所有的信号变化数值处理成关于时间变量的函数值，对该一定周期内所获取的函数值关于时间变量的数据做时间序列分析、一阶导数时间排序和二阶导数时间排序，然后建立该函数值关于时间变量的微分方程，然后解该微分方程得到对应的函数值关于时间变量的一般方程，根据该函数值关于时间变量的一般方程预估货架在未来时间点的倾斜程度。进一步，建立该函数值关于时间变量的微分方程通式为：f+bf+af＝expsinαt)+Qn2cosαt)；f为假设的一般方程，f为f的一阶导，f为f的二阶导，a，b为对应常数系数，t为时间变量，r为指数系数，Qn1，Qn2为待定多项式，n1，n2为对应幂次；α为t的时间频率参数；计算一般方程前a，b，r，n1，n2，α以及Qn1，Qn2均可以确定；解该微分方程得到对应的函数值关于时间变量的一般方程为：f＝tc*expcosαt)+sinαt)；其中c的确定方法为，当r+iα或r-iα不是微分方程的特征方程的根时c＝0，当r+iα或r-iα是微分方程的特征方程的根时c＝1；其中i为-1为虚数数值；其中r即通式中的指数系数，m＝max，p1m，p2m均为t的多项式，m为对应多项式的幂次，p1m，p2m中的1,2不是幂次而是区分用的标识。进一步，所述的上位机采用PC机。与现有技术相比，本发明的有益效果：本发明并不是专门针对传感器的测量本值来计算倾斜程度，实质上本发明是将两个不同方向的传感器的数值差值的特点来对倾斜程度进行判断的。在实践中，即便是长期的使用中，传感器的精准度不再稳定，也不会影响判断结果，因为本发明并不是以传感器的测量本值做判别，不是以这个绝对值来做判断，而是以两个传感器之间的差值及其特点，比如时域特点，即一个相对值或相对值的衍生数值来做判断，也就是说，在实践中，即便传感器本值判断不太精准了，但传感器之间的差值仍然在实践中有参考意义和精准表征的特点，并能够精准的表征货架的倾斜程度，从而做出正确的判断；与现有技术所不同的是，当货架倾斜存在自然的晃动时，本发明采用的是两组传感器所检测到的两种倾斜度均会出现变化，当这两种变化的变化幅度的差值维持在一定的限度内可以判定这种变化属于自然的变化，或者变化频率在正常范围可以判定这种变化属于自然的变化，则不对此进行报警。否则数据分析才会判定这种货架情节属于危险性的情节，属于重心偏移性的情节，才会对此进行报警。综上，本发明能够同时解决背景技术中提高的第一类问题和第二类问题。附图说明图1为本发明的整体结构示意图；图2为本发明的光传感器结构示意图。图中，货架100；光源200；平面镜300；第一镜座400；凹透镜500；第二镜座600；光传感器700；上位机800；架顶101；架底102；传感采集区701。具体实施方式下面将结合本发明实施例，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在具体实施中，本发明公开了货架倾斜监测预警系统，如图1，其应用在货架100上，所述的货架100至少包括上部的架顶101与下部的架底102，货架倾斜监测预警系统包括设置在架顶101上的一组光源200，每一个光源200正下方的架底102上均固定设置一个平面镜300，平面镜300倾斜设置，每一个平面镜300的镜面一侧均固定设置一个光传感器700，所述的光传感器700用于将光信号转换为电信号，所述的平面镜300与光传感器700之间固定设置凹透镜500，所述的凹透镜500固定设置在第二镜座600上，所述的平面镜300设置在第一镜座400上，一般的至少设置两组平面镜300，其中一组的平面镜300用于对水平面x轴方向的倾斜检测，另外一组平面镜300用于对水平面y轴方向的倾斜检测，如图2，所述的光传感器700包括圆环形的传感采集区701，因为凹透镜500的分散光线作用，光线基本全部集中到光传感器700的边缘，所以设置圆环形的传感采集区701并且对距离调整使得货架100完全水平和静态时能够有较多的光线聚集到传感采集区701，所述的光传感器700与上位机800电连接，具体可以通过串口通讯，上位机800用于获取两个光传感器700的信号根据获取两个光传感器700的信号特点确定货架倾斜程度。在实践中，在应用中，本发明并不是专门针对传感器的测量本值来计算倾斜程度。实质上本发明是将两个不同方向的传感器的数值差值的特点来对倾斜程度进行判断的。在实践中，即便是长期的使用中，传感器的精准度不再稳定，也不会影响判断结果，因为本发明并不是以传感器的测量本值做判别，不是以这个绝对值来做判断，而是以两个传感器之间的差值及其特点，比如时域特点，即一个相对值或相对值的衍生数值来做判断，也就是说，在实践中，即便传感器本值判断不太精准了，但传感器之间的差值仍然在实践中有参考意义和精准表征的特点，并能够精准的表征货架的倾斜程度，从而做出正确的判断。本发明本质上依然采用光的传播及光的检测原理对货架倾斜度进行检测，与现有技术所不同的是，当货架倾斜存在自然的晃动时，本发明采用的是两组传感器所检测到的两种倾斜度均会出现变化，当这两种变化的变化幅度的差值维持在一定的限度内可以判定这种变化属于自然的变化，或者变化频率在正常范围可以判定这种变化属于自然的变化，则不对此进行报警。否则数据分析才会判定这种货架情节属于危险性的情节，属于重心偏移性的情节，才会对此进行报警，报警可以使用声和光来共同提醒进行报警，具体的上位机800与扬声器和报警灯的控制电路电连接在需要报警时可以使用声和光来共同提醒，扬声器和报警灯的位置可以在货架100上或者其他便于提醒的位置。本发明能够同时解决背景技术中提高的第一类问题和第二类问题。第一类问题为，使用传感器监测情况中，传感器一般不能够长期稳定的保持高精度，使用图像监测及图像分析来进行监测情况中，图像识别往往不能达到图像所要求的分辨率，所以这种效果都比较差。第二类问题为，在检测的精度过高时，经常会出现误判和误报警的情况。主要是因为一般的货架在放置时尤其特别高的货架放置时，因为受到空气的作用以及相关建筑物或地基等本身的轻微晃动，通常都会存在一定的自震动幅度。具体的，根据获取两个光传感器700的信号特点确定货架倾斜程度包括：上位机用于获取两个光传感器700的信号数值变化时间点，并且将两个光传感器700的信号变化数值按照变化时间点间隔排序，然后计算信号的变化频率，根据信号的变化频率确定货架倾斜程度，比如判断频率的大小是否满足条件来确定。这样能同时解决背景技术中提高的第一类问题和第二类问题。具体的，上位机用于获取两个光传感器700的信号数值变化时间点，并且将两个光传感器700的信号变化数值按照变化时间点间隔排序，然后计算信号的变化方向，根据信号的变化方向确定货架倾斜程度；根据信号的变化方向确定货架倾斜程度具体包括有，先计算信号的变化方向对应方向值，获取两个光传感器700的信号数值变化时间点，并且将两个光传感器700的信号变化数值按照变化时间点间隔排序，其中一个光传感器700的信号变化数值作为正方向数字，另外一个光传感器700的信号变化数值作为负方向数字，在任何一个光传感器700均无信号变化时设置为0，比如共有甲乙两个传感器，假如甲乙传感器采集的情况分别为第1秒甲乙传感器采集的信号变化数值分别为1,2，第2秒甲乙传感器采集的信号变化数值分别为2,1，第3秒甲乙传感器采集的信号变化数值分别为3,1，则间隔排序之后，得到信号信号变化数值组：1、-2,2、-1,3、-1，其中的甲传感器信号变化数字为正方向数字，其中的乙传感器信号变化数字为负方向数字，在一定周期内，信号变化数值向正方向或负方向中的其中一个方向连续倾斜，表明信号具有一个明确的方向，这个连续倾斜的最大值就是信号值的方向值。根据方向值大小是否满足阈值来具体判断货架的倾斜程度。这样也能够同时解决背景技术中提高的第一类问题和第二类问题。可见本申请通过分析信号的变化频率和信号的变化方向，就能够对整个货架的倾斜程度进行预测。在更加具体的实施中，为了对货架做到前瞻性预测，本发明根据获取两个光传感器700的信号特点确定货架倾斜程度，包括根据信号的函数特点确定货架的倾斜程度：具体的，获取两个光传感器700的信号数值变化时间点，并且将两个光传感器700的信号变化数值按照变化时间点间隔排序，其中一个光传感器700的信号变化数值作为正方向数字，另外一个光传感器700的信号变化数值作为负方向数字，在任何一个光传感器700均无信号变化时设置为0，在一定周期内将获取的所有的信号变化数值处理成关于时间变量的函数值，对该一定周期内所获取的函数值关于时间变量的数据做时间序列分析、一阶导数时间排序和二阶导数时间排序，然后建立该函数值关于时间变量的微分方程，然后解该微分方程得到对应的函数值关于时间变量的一般方程，根据该函数值关于时间变量的一般方程预估货架在未来时间点的倾斜程度，这可以对货架做到前瞻性预测，提前的预警。建立该函数值关于时间变量的微分方程，然后解该微分方程得到对应的函数值关于时间变量的一般方程，具体包括有，建立的微分方程通式为：f+bf+af＝expsinαt)+Qn2cosαt)；f为假设的一般方程，f为f的一阶导，f为f的二阶导，a，b为对应常数系数，t为时间变量，r为指数系数，Qn1，Qn2为待定多项式，n1，n2为对应幂次；α为t的时间频率参数；计算一般方程前a，b，r，n1，n2，α以及Qn1，Qn2均可以确定；比如：实践中一种实施例的通式：f+f＝t*cos2t；则a＝1，b＝0，r＝0＝1)，Qn1＝0，Qn2＝t，n1＝0，n2＝1，α＝2。然后，解该微分方程得到对应的函数值关于时间变量的一般方程为f＝tc*expcosαt)+sinαt)；其中c的确定方法为，当r+iα或r-iα不是微分方程的特征方程的根时c＝0，当r+iα或r-iα是微分方程的特征方程的根时c＝1；其中i为-1为虚数数值；其中r即通式中的指数系数，m＝max，p1m，p2m均为t的多项式，m为对应多项式的幂次，p1m，p2m中的1,2不是幂次而是区分用的标识；比如当实践中一种实施例的通式为f+f＝t*cos2t则按照前述方法的一般方程为f＝sin2t+cos2t；A,B,D,E均为待定系数，求解之后即得到上式f＝sin2t+cos2t＝t*cos2t即解得f＝*t*cos2t+*sin2t。通过一般方程输入未来时间点的时间变量t即可输出预测函数值，即可对未来信号变化数值预测，当预测未来信号变化数值超过阈值则可以提前预警。可以理解的，本发明上位机的功能可以通过程序代码实现，相应的程序代码存储在机器可读介质，机器可读介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的程序。机器可读介质可以是机器可读信号介质或机器可读储存介质。机器可读介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在计算机上实施此处描述的上位机，该计算机可以采用PC机器，该计算机具有：用于向用户显示信息的显示装置或者LCD监视器)；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给计算机。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；且可以用任何形式来接收来自用户的输入。
