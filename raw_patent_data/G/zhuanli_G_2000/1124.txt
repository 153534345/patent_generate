标题title
分析测试错误项的方法、装置、电子设备及存储介质
摘要abst
本申请提供一种分析测试错误项的方法、装置、电子设备及存储介质。该方法通过复用目标历史测试脚本的NG项的方式，来实现了自动获得当前测试脚本的当前NG项的目的，相比人工定位分析NG项，该方法能够有效提高分析效率，尤其在执行测试任务需要运行大量测试脚本时，更能显著提高分析效率。
权利要求书clms
1.一种分析测试错误项的方法，其特征在于，所述方法包括：在当前测试任务运行当前测试脚本时得到的测试结果为未通过测试时，从已获得的所有历史测试任务中确定目标历史测试任务；所述目标历史测试任务在执行时要求运行多个历史测试脚本；任一历史测试脚本具有对应的历史错误NG项，任一历史测试脚本的历史NG项是在运行该历史测试脚本时的测试结果为未通过测试时得到的；基于已设置的规则项，判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足所述规则项的历史测试脚本，如果是，则将该历史测试日志与当前测试脚本的当前测试日志满足所述规则项的历史测试脚本确定为目标历史测试脚本，所述规则项包括至少一个匹配条件，所述规则项关联对应的NG项；如果否，则依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度，依据各历史测试脚本的置信度确定目标历史测试脚本；依据所述目标历史测试脚本的NG项，确定所述当前测试脚本的当前NG项。2.根据权利要求1所述的方法，其特征在于，所述判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足所述规则项的历史测试脚本包括：按照顺序遍历各历史测试脚本，将遍历到的历史测试脚本作为参考历史测试脚本；按照顺序遍历已设置的规则项，将遍历到的规则项确定为当前规则项；检查参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是否满足当前规则项中的匹配条件，如果满足，则确定参考历史测试脚本为所述目标历史测试脚本，如果不满足，则：检查当前规则项是否为最后一个规则项，若当前规则性不为最后一个规则项，则继续遍历规则项，将遍历到的规则项确定为当前规则项，返回检查参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是否满足当前规则项中的匹配条件的步骤，若当前规则性为最后一个规则项，则在参考历史测试脚本不为最后一个历史测试脚本时，继续遍历历史测试脚本，返回将遍历到的历史测试脚本作为参考历史测试脚本的步骤，在参考历史测试脚本为最后一个历史测试脚本时，确定目标历史测试任务中各历史测试脚本中不存在历史测试日志与当前测试脚本的当前测试日志满足所述规则项的历史测试脚本。3.根据权利要求1所述的方法，其特征在于，所述依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度包括：针对每一非目标历史测试任务中每一历史测试脚本，计算该历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度；所述历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度是指：该历史测试脚本被运行时所对应的历史测试任务的任务创建者与当前测试脚本被运行时所对应的当前测试任务的任务创建者之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务所要求的测试硬件环境与当前测试脚本被运行时所对应的当前测试任务的任务所要求的测试硬件环境之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务所要求的测试组网环境与当前测试脚本被运行时所对应的当前测试任务的任务所要求的测试组网环境之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务的任务标识与当前测试脚本被运行时所对应的当前测试任务的任务标识之间的相似度、和/或，该历史测试脚本被运行时所测试设备的设备标识与当前测试脚本被运行时所测试设备的设备标识之间的相似度、和/或，该历史测试脚本被运行时所测试设备的升级软件包的版本标识与当前测试脚本被运行时所测试设备的升级软件包的版本标识之间的相似度、和/或，该历史测试脚本的运行结束时间与当前测试脚本的运行结束时间之间的相似度；依据各历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度，确定各历史测试脚本的置信度。4.根据权利要求1所述的方法，其特征在于，所述依据各历史测试脚本的置信度确定目标历史测试脚本包括：选择置信度最大的历史测试脚本为所述目标历史测试脚本。5.根据权利要求1所述的方法，其特征在于，所述从已获得的所有历史测试任务中确定目标历史测试任务包括：针对已获得的所有历史测试任务中每一历史测试任务，计算该历史测试任务的任务信息与当前测试任务的任务信息之间的相似度；所述历史测试任务的任务信息与当前测试任务的任务信息之间的相似度是指：该历史测试任务的任务创建者与当前测试任务的任务创建者之间的相似度、和/或，该历史测试任务所要求的测试硬件环境与当前测试任务所要求的测试硬件环境之间的相似度、和/或，该历史测试任务所要求的测试组网环境与当前测试任务的任务所要求的测试组网环境之间的相似度、和/或，该历史测试任务的任务标识与当前测试任务的任务标识之间的相似度、和/或，该历史测试任务所要求测试的各设备的设备标识与当前测试任务所要求测试的各设备的设备标识之间的相似度、和/或，该历史测试任务所测试的各设备的升级软件包的版本标识与当前测试任务所测试的各设备的升级软件包的版本标识之间的相似度、和/或，该历史测试任务被执行时要求运行的历史测试脚本的总数和当前测试任务被执行时所要求运行的当前测试脚本的总数的相似度；依据各历史测试任务的任务信息与当前测试任务的任务信息之间的相似度，确定各历史测试任务的置信度；选择置信度最大的历史测试任务为所述目标历史测试任务。6.根据权利要求1所述的方法，其特征在于，所述依据所述目标历史测试脚本的NG项，确定所述当前测试脚本的当前NG项包括：将目标历史测试脚本具有对应的历史NG项确定为所述当前测试脚本的当前NG项。7.一种分析测试错误项的装置，其特征在于，所述装置包括：第一确定模块，用于在当前测试任务运行当前测试脚本时得到的测试结果为未通过测试时，从已获得的所有历史测试任务中确定目标历史测试任务；所述目标历史测试任务在执行时要求运行多个历史测试脚本；任一历史测试脚本具有对应的历史NG项，任一历史测试脚本的历史NG项是在运行该历史测试脚本时的测试结果为未通过测试时得到的；判断模块，用于基于已设置的规则项，判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足所述规则项的历史测试脚本，如果是，则将该历史测试日志与当前测试脚本的当前测试日志满足所述规则项的历史测试脚本确定为目标历史测试脚本，所述规则项包括至少一个匹配条件，所述规则项关联对应的NG项；如果否，则依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度，依据各历史测试脚本的置信度确定目标历史测试脚本；第二确定模块，依据所述目标历史测试脚本的NG项，确定所述当前测试脚本的当前NG项。8.根据权利要求7所述的装置，其特征在于，所述判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足所述规则项的历史测试脚本包括：按照顺序遍历各历史测试脚本，将遍历到的历史测试脚本作为参考历史测试脚本；按照顺序遍历已设置的规则项，将遍历到的规则项确定为当前规则项；检查参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是否满足当前规则项中的匹配条件，如果满足，则确定参考历史测试脚本为所述目标历史测试脚本，如果不满足，则：检查当前规则项是否为最后一个规则项，若当前规则性不为最后一个规则项，则继续遍历规则项，将遍历到的规则项确定为当前规则项，返回检查参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是否满足当前规则项中的匹配条件的步骤，若当前规则性为最后一个规则项，则在参考历史测试脚本不为最后一个历史测试脚本时，继续遍历历史测试脚本，返回将遍历到的历史测试脚本作为参考历史测试脚本的步骤，在参考历史测试脚本为最后一个历史测试脚本时，确定目标历史测试任务中各历史测试脚本中不存在历史测试日志与当前测试脚本的当前测试日志满足所述规则项的历史测试脚本；和/或，所述依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度包括：针对每一非目标历史测试任务中每一历史测试脚本，计算该历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度；所述历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度是指：该历史测试脚本被运行时所对应的历史测试任务的任务创建者与当前测试脚本被运行时所对应的当前测试任务的任务创建者之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务所要求的测试硬件环境与当前测试脚本被运行时所对应的当前测试任务的任务所要求的测试硬件环境之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务所要求的测试组网环境与当前测试脚本被运行时所对应的当前测试任务的任务所要求的测试组网环境之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务的任务标识与当前测试脚本被运行时所对应的当前测试任务的任务标识之间的相似度、和/或，该历史测试脚本被运行时所测试设备的设备标识与当前测试脚本被运行时所测试设备的设备标识之间的相似度、和/或，该历史测试脚本被运行时所测试设备的升级软件包的版本标识与当前测试脚本被运行时所测试设备的升级软件包的版本标识之间的相似度、和/或，该历史测试脚本的运行结束时间与当前测试脚本的运行结束时间之间的相似度；依据各历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度，确定各历史测试脚本的置信度；和/或，所述依据各历史测试脚本的置信度确定目标历史测试脚本包括：选择置信度最大的历史测试脚本为所述目标历史测试脚本；和/或，所述从已获得的所有历史测试任务中确定目标历史测试任务包括：针对已获得的所有历史测试任务中每一历史测试任务，计算该历史测试任务的任务信息与当前测试任务的任务信息之间的相似度；所述历史测试任务的任务信息与当前测试任务的任务信息之间的相似度是指：该历史测试任务的任务创建者与当前测试任务的任务创建者之间的相似度、和/或，该历史测试任务所要求的测试硬件环境与当前测试任务所要求的测试硬件环境之间的相似度、和/或，该历史测试任务所要求的测试组网环境与当前测试任务的任务所要求的测试组网环境之间的相似度、和/或，该历史测试任务的任务标识与当前测试任务的任务标识之间的相似度、和/或，该历史测试任务所要求测试的各设备的设备标识与当前测试任务所要求测试的各设备的设备标识之间的相似度、和/或，该历史测试任务所测试的各设备的升级软件包的版本标识与当前测试任务所测试的各设备的升级软件包的版本标识之间的相似度、和/或，该历史测试任务被执行时要求运行的历史测试脚本的总数和当前测试任务被执行时所要求运行的当前测试脚本的总数的相似度；依据各历史测试任务的任务信息与当前测试任务的任务信息之间的相似度，确定各历史测试任务的置信度；选择置信度最大的历史测试任务为所述目标历史测试任务；和/或，所述依据所述目标历史测试脚本的NG项，确定所述当前测试脚本的当前NG项包括：将目标历史测试脚本具有对应的历史NG项确定为所述当前测试脚本的当前NG项。9.一种电子设备，其特征在于，包括：处理器；以及存储器，在所述存储器中存储有计算机程序指令，所述计算机程序指令在被所述处理器运行时使得所述处理器执行如权利要求1至6任一项所述的方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序指令，所述计算机程序指令在被处理器运行时使得所述处理器执行如权利要求1至6任一项所述的方法。
说明书desc
技术领域本发明涉及通信技术领域，尤其涉及一种分析测试错误项的方法、装置、电子设备及存储介质。背景技术智能测试云系统能够管理各产品线的硬件产品的测试任务。测试人员将测试脚本和拓扑编写好后，从硬件产品资源池中搭建好对应的测试组网环境，通过向该系统提交测试任务来实现在满足拓扑要求的组网环境上运行指定测试脚本，从而对产品进行测试。目前，该系统在测试脚本运行完毕后自动输出测试结果，即未通过测试或通过测试，但在这之后还需要人工分析执行结果来发现被测试产品中存在的各种硬件或软件问题，亦称为错误项，以便返回给开发人员进行修改。然而，当执行测试任务时需要运行大量测试脚本时，人工分析NG项存在分析效率低的问题。发明内容有鉴于此，本申请提供一种分析测试错误项的方法、装置、电子设备及存储介质。本申请实施例提供一种分析测试错误项的方法，该方法包括：在当前测试任务运行当前测试脚本时得到的测试结果为未通过测试时，从已获得的所有历史测试任务中确定目标历史测试任务；目标历史测试任务在执行时要求运行多个历史测试脚本；任一历史测试脚本具有对应的历史NG项，任一历史测试脚本的历史NG项是在运行该历史测试脚本时的测试结果为未通过测试时得到的；基于已设置的规则项，判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本，如果是，则将该历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本确定为目标历史测试脚本，规则项包括至少一个匹配条件，规则项关联对应的NG项；如果否，则依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度，依据各历史测试脚本的置信度确定目标历史测试脚本；依据目标历史测试脚本的NG项，确定当前测试脚本的当前NG项。本申请实施例还提供一种分析测试错误项的装置，该装置包括：第一确定模块，用于在当前测试任务运行当前测试脚本时得到的测试结果为未通过测试时，从从已获得的所有历史测试任务中确定目标历史测试任务；目标历史测试任务在执行时要求运行多个历史测试脚本；任一历史测试脚本具有对应的历史NG项，任一历史测试脚本的历史NG项是在运行该历史测试脚本时的测试结果为未通过测试时得到的；判断模块，用于基于已设置的规则项，判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本，如果是，则将该历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本确定为目标历史测试脚本，规则项包括至少一个匹配条件，规则项关联对应的NG项；如果否，则依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度，依据各历史测试脚本的置信度确定目标历史测试脚本；第二确定模块，依据目标历史测试脚本的NG项，确定当前测试脚本的当前NG项。本申请实施例还提供一种电子设备，包括：处理器和用于存储计算机程序指令的存储器，计算机程序指令在被处理器运行时使得处理器执行如上方法的步骤。本申请实施例还提供一种机器可读存储介质，该存储介质存储有计算机程序指令，当该计算机程序指令被执行时，能够实现如上方法的步骤。由以上技术方案可以看出，本申请实施例中，在当前测试任务在运行当前测试脚本时得到的测试结果为未通过测试，则从已获得的所有历史测试任务中确定目标历史测试任务，基于已设置的规则项，判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本，如果是，则将该历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本确定为目标历史测试脚本，如果否，则依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度，依据各历史测试脚本的置信度确定目标历史测试脚本，并通过复用目标历史测试脚本的NG项的方式，来实现了自动获得当前测试脚本的当前NG项的目的，相比人工定位分析NG项，该方法能够有效提高分析效率，尤其在执行测试任务需要运行大量测试脚本时，更能显著提高分析效率。附图说明图1为本申请一示例性实施例提供的分析测试错误项的方法的流程示意图。图2为本申请一示例性实施例提供的确定目标历史测试任务的方法的流程示意图。图3为本申请一示例性实施例提供的判断目标历史测试任务中各历史测试脚本是否存在目标历史测试脚本的方法的流程示意图。图4为本申请一示例性实施例提供的从指定时间段内的各非目标历史测试任务中各历史测试脚本中确定目标历史测试脚本的流程示意图。图5为本申请一实施例提供的智能测试云系统的结构示意图。图6为本申请一实施例提供的一种分析测试错误项的装置。图7为本申请一实施例提供的电子设备的结构示意图。具体实施方式这里将详细地对示例性实施例进行说明，其示例标识在附图中。下面的描述涉及附图时，除非另有标识，不同附图中的相同数字标识相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本申请相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本申请的一些方面相一致的装置和方法的例子。在本申请使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本申请。在本申请和所附权利要求书中所使用的单数形式的“一种”、“”和“该”也旨在包括多数形式，除非上下文清楚地标识其他含义。还应当理解，本文中使用的术语“和/或”是指并包含一个或多个相关联的列出项目的任何或所有可能组合。下面为了使本领域技术人员更好地理解本申请实施例提供的技术方案，并使本申请实施例的上述目的、特征和优点能够更加明显易懂，下面结合附图对本申请实施例中技术方案作进一步详细的说明。参见图1，图1为本申请一示例性实施例提供的分析测试错误项的方法的流程示意图。作为一个实施例，该方法应用于配置在智能测试云系统中的NG项自动分析设备，该NG项自动分析设备可是一台服务器，本实施例对此不作具体限定。如图1所示，该流程可包括以下步骤：S101，在当前测试任务运行当前测试脚本时得到的测试结果为未通过测试时，从已获得的所有历史测试任务中确定目标历史测试任务；目标历史测试任务在执行时要求运行多个历史测试脚本；任一历史测试脚本具有对应的历史NG项，任一历史测试脚本的历史NG项是在运行该历史测试脚本时的测试结果为未通过测试时得到的。本实施例中，执行当前测试任务会运行多个测试脚本，比如，执行当前测试任务需要运行100个测试脚本，这些测试脚本按照设定顺序依次被运行，在运行当前测试脚本时得到的测试结果为未通过测试，则触发执行本实施例提供的方法的步骤，比如，运行第4个测试脚本时得到的测试结果为未通过测试，则触发执行本实施例提供的技术方案的步骤，运行第35个测试脚本时得到的测试结果为未通过测试，则也触发执行本实施例提供的技术方案的步骤。本实施例中，上述从已获得的所有历史测试任务中确定目标历史测试任务的具体实现方式会在后文阐述，此处不再赘述。S102，基于已设置的规则项，判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本，如果是，则将该历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本确定为目标历史测试脚本，规则项包括至少一个匹配条件，规则项关联对应的NG项；如果否，则依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度，依据各历史测试脚本的置信度确定目标历史测试脚本。本实施例中，置信度用于表征各非目标历史测试任务中各历史测试脚本的脚本信息和当前测试脚本的脚本信息之间相似度的高低，相似度越高，置信度越高，反之亦然。举例来说，指定时间段可为当前测试任务创建时间之前的90天之内，还可为当前测试任务创建时间之前的30天之内，本实施例对此不做具体限定。需要说明的是，本申请提及的一个NG项指的是导致测试结果为不通过测试的一个具体原因，比如，文件在SVN上不存在，或者，文件存在但长度为0等。一个规则性关联一个设定的NG项，该规则项用于限定具体如何比对当前测试脚本的当前测试日志和历史测试脚本的历史测试日志。在实际应用中，类似的NG项对应的规则项会被归类为同一分析策略，比如，“文件在SVN上不存在”对应的规则项，或者，“文件存在但长度为0”对应的规则项等都会被归类为“拓扑文件不存在”这一分析策略。在当前测试任务运行前，会提前确定多个分析策略。大部分情况下，使用智能测试云平台中已设定的default.policy就可以满足要求，但当测试人员认为该系统自带的分析策略不能满足需求时，可以建立或导入需要执行的分析策略。本实施例中，判断目标历史测试任务中各历史测试脚本是否存在目标历史测试脚本的具体实现方式会在后文阐述，此处不再赘述。本实施例中，从指定时间段内的各非目标历史测试任务中各历史测试脚本中确定目标历史测试脚本的具体实现方式也会在后文阐述，此处不再赘述。S103，依据目标历史测试脚本的NG项，确定当前测试脚本的当前NG项。作为一个实施例，步骤S103的具体实现方式为：将目标历史测试脚本具有对应的历史NG项确定为当前测试脚本的当前NG项。至此，完成图1所示流程。通过图1所示流程，在当前测试任务在运行当前测试脚本时得到的测试结果为未通过测试，则从已获得的所有历史测试任务中确定目标历史测试任务，基于已设置的规则项，判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本，如果是，则将该历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本确定为目标历史测试脚本，如果否，则依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度，依据各历史测试脚本的置信度确定目标历史测试脚本，并通过复用目标历史测试脚本的NG项的方式，来实现了自动获得当前测试脚本的当前NG项的目的，相比人工定位分析NG项，该方法能够有效提高分析效率，尤其在执行测试任务需要运行大量测试脚本时，更能显著提高分析效率。下面对上述从已获得的所有历史测试任务中确定目标历史测试任务进行详细阐述。参见图2，图2为本申请一示例性实施例提供的确定目标历史测试任务的方法的流程示意图。如图2所示，该流程可包括以下步骤：S201，针对已获得的所有历史测试任务中每一历史测试任务，计算该历史测试任务的任务信息与当前测试任务的任务信息之间的相似度。本实施例中，历史测试任务的任务信息与当前测试任务的任务信息之间的相似度是指：该历史测试任务的任务创建者与当前测试任务的任务创建者之间的相似度、和/或，该历史测试任务所要求的测试硬件环境与当前测试任务所要求的测试硬件环境之间的相似度、和/或，该历史测试任务所要求的测试组网环境与当前测试任务的任务所要求的测试组网环境之间的相似度、和/或，该历史测试任务的任务标识与当前测试任务的任务标识之间的相似度、和/或，该历史测试任务所要求测试的各设备的设备标识与当前测试任务所要求测试的各设备的设备标识之间的相似度、和/或，该历史测试任务所测试的各设备的升级软件包的版本标识与当前测试任务所测试的各设备的升级软件包的版本标识之间的相似度、和/或，该历史测试任务被执行时要求运行的历史测试脚本的总数和当前测试任务被执行时所要求运行的当前测试脚本的总数的相似度。S202，依据各历史测试任务的任务信息与当前测试任务的任务信息之间的相似度，确定各历史测试任务的置信度。本实施例中，相似度与置信度呈正相关关系，相似度越高，置信度越高反之亦然。举例来说，从上述7个方面计算历史测试任务的任务信息与当前测试任务的任务信息之间的相似度，以获得该历史测试任务的置信度。该历史测试任务的任务创建者与当前测试任务的任务创建者相同，置信度为5。该历史测试任务所要求测试的各设备的设备型号与当前测试任务所要求测试的各设备的设备型号相同，置信度为15。历史测试任务所要求的Lab与当前测试任务所要求的Lab相同，置信度为20。。历史测试任务所要求的Rack与当前测试任务所要求的Rack相同，置信度为20，置信度为20。。该历史测试任务与当前测试任务的任务名称相同，置信度为10。。历史测试任务所测试的各设备的升级软件包的版本号与当前测试任务所测试的各设备的升级软件包的版本号相同，置信度为10。。该历史测试任务被执行时要求运行的历史测试脚本的总数和当前测试任务被执行时所要求运行的当前测试脚本的总数相同，置信度为20。通过将上述得到的置信度求和获得该历史测试任务的置信度。S203，选择置信度最大的历史测试任务为目标历史测试任务。至此，完成图2所示流程。以上对从已获得的所有历史测试任务中确定目标历史测试任务进行详细阐述，下面对上述判断目标历史测试任务中各历史测试脚本是否存在目标历史测试脚本进行详细阐述。参见图3，图3为本申请一示例性实施例提供的判断目标历史测试任务中各历史测试脚本是否存在目标历史测试脚本的方法的流程示意图。如图3所示，该流程可包括以下步骤：S301，按照顺序遍历各历史测试脚本，将遍历到的历史测试脚本作为参考历史测试脚本。S302，按照顺序遍历已设置的规则项，将遍历到的规则项确定为当前规则项。本实施例中，遍历顺序依据各历史测试脚本被运行的时间来制定，历史测试脚本被运行的时间越靠前，历史测试脚本的遍历顺序越靠前。S303，检查参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是否满足当前规则项中的匹配条件。如果满足，则执行下述步骤S304。如果不满足，则执行下述步骤S305。作为一个实施例，每一规则项对应多个匹配条件，匹配条件通过匹配条件表达式来体现，即，每一规则项对应多个匹配条件表达式。上述检查参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是否满足当前规则项中的匹配条件可以被执行为，在获得当前测试日志和历史测试日志之后，并依据当前测试日志和历史测试日志各自的关键词生成当前测试日志和历史测试日志各自对应的字符串，检测在当前测试日志对应的字符串和历史测试日志对应的字符串是否满足当前规则项中的多个匹配条件表达式。其中，匹配条件表达式的基本格式为“＜左值＞ ＜操作符＞ ＜右值＞”，中间用空格分开。左值是当前测试脚本的当前测试日志的字符串，例如“当前脚本.拓扑文件.文件大小”。右值可以是一个具体的值，例如“false”，也可以是参考历史测试脚本的历史测试日志的字符串，例如“历史脚本.拓扑文件.文件大小”。匹配条件表达式的示例格式如下：其中，对于任一匹配条件表达式而言，匹配条件表达式有两种情况，1、该匹配条件表达式只包含一个子匹配条件表达式，2、该匹配条件表达式包含多个子匹配条件表达式。相应地，这两种情况具有两种修饰符：匹配条件表达式只包含一个子匹配条件表达式，使用“Match”：{Match:"历史脚本.运行结果.结果类型"= OK"}该匹配条件表达式包含多个子匹配条件表达式，使用MatchOptX：{MatchOpt1:"当前脚本.SETUP文件.文件内容" 包含 "limit device",MatchOpt2:"当前脚本.SETUP文件.文件内容" 包含 "limit port"}其中，上述操作符如下表所示：需要说明的是，上表中除“匹配”按正则表达式进行外，其它的比较都不区分大小写。其中，测试日志中，某些关键词对应的字符串可能是一个列表，例如“当前脚本.运行环境.Rack”。对于这种列表的处理，分为如下情况：操作符为“列表全等”此时要求左右两端都是列表，将检查两个列表的子项个数、出现顺序和值是否都相同。操作符为=、!=、＜、＞ 左端数据为一个列表，右端为一个具体的值时，要求左端列表所有项都匹配右值，例如：当前脚本.运行环境.Rack.是否变更"= false。此时要求当前脚本的所有Rack都没有变更，左端为单个值，右端为列表时，要求左端值匹配右端列表中任意值。左右两端都是列表时，要求左端每一项都能在右端找到匹配值，但不要求右端的值在左端有匹配。以上详细阐述了检测在当前测试日志对应的字符串和历史测试日志对应的字符串是否满足当前规则项中的多个匹配条件表达式的具体实现方式。S304，确定参考历史测试脚本为目标历史测试脚本。本实施例中，若参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是满足当前规则项中的匹配条件，则将该参考历史测试脚本为目标历史测试脚本。S305，检查当前规则项是否为最后一个规则项。若S305的执行结果为是，则返回执行S302和S303，若S305的执行结果为否，则执行下述步骤S306。也就是说，当前规则性不为最后一个规则项，则继续遍历规则项，返回检查参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是否满足当前规则项中的匹配条件的步骤。若当前规则性为最后一个规则项，则判断参考历史测试脚本是否为最后一个历史测试脚本。S306，判断参考历史测试脚本是否为最后一个历史测试脚本。若S306的执行结果为否，则返回执行S301、S302和S303，若S306的执行结果为是，则执行下述步骤S307。S307，确定目标历史测试任务中各历史测试脚本中不存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本。也就是说，在参考历史测试脚本不为最后一个历史测试脚本时，继续遍历历史测试脚本，返回将遍历到的历史测试脚本作为参考历史测试脚本的步骤，在参考历史测试脚本为最后一个历史测试脚本时，确定目标历史测试任务中各历史测试脚本中不存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本。至此，完成图3所示流程。以上对判断目标历史测试任务中各历史测试脚本是否存在目标历史测试脚本进行了详细阐述。下面对上述从指定时间段内的各非目标历史测试任务中各历史测试脚本中确定目标历史测试脚本进行详细阐述：参见图4，图4为本申请一示例性实施例提供的从指定时间段内的各非目标历史测试任务中各历史测试脚本中确定目标历史测试脚本的流程示意图。如图4所示，该流程可包括以下步骤：S401，针对每一非目标历史测试任务中每一历史测试脚本，计算该历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度。其中，历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度是指：该历史测试脚本被运行时所对应的历史测试任务的任务创建者与当前测试脚本被运行时所对应的当前测试任务的任务创建者之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务所要求的测试硬件环境与当前测试脚本被运行时所对应的当前测试任务的任务所要求的测试硬件环境之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务所要求的测试组网环境与当前测试脚本被运行时所对应的当前测试任务的任务所要求的测试组网环境之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务的任务标识与当前测试脚本被运行时所对应的当前测试任务的任务标识之间的相似度、和/或，该历史测试脚本被运行时所测试设备的设备标识与当前测试脚本被运行时所测试设备的设备标识之间的相似度、和/或，该历史测试脚本被运行时所测试设备的升级软件包的版本标识与当前测试脚本被运行时所测试设备的升级软件包的版本标识之间的相似度、和/或，该历史测试脚本的运行结束时间与当前测试脚本的运行结束时间之间的相似度。S402，依据各历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度，确定各历史测试脚本的置信度。获得各历史测试脚本的置信度的具体方式与各历史测试任务的置信度的具体方式类似，此处不再赘述。S403，选择置信度最大的历史测试脚本为目标历史测试脚本。至此，完成图4所示流程。以上对从指定时间段内的各非目标历史测试任务中各历史测试脚本中确定目标历史测试脚本进行了详细阐述。作为一个实施例，在获得当前测试脚本的当前NG项之后，还包括：将当前测试脚本对应的测试日志和当前测试脚本的当前NG项存储在数据池中，以备在后续被选择为目标历史测试脚本时，能够直接复用NG项，较少后续分析时间。作为一个实施例，在获得当前测试脚本的当前NG项分析结果之后，还包括：将当前测试脚本的当前NG项分析结果以前端页面的分析原因和NG项分析报告的进行可视化展示。本申请实施例还提供的一种智能测试云系统，下面详细阐述该智能测试云系统。参见图5，图5为本申请一实施例提供的智能测试云系统的结构示意图，如图5所示，该系统包括：智能测试云平台、客户端以及与该智能测试云平台通信连接的至少一个NG项自动分析设备。其中，客户端用于接收用户输入当前测试任务创建指令和当前测试任务所需要运行的至少一个当前测试脚本，并将当前测试任务创建指令和当前测试任务所需要运行的至少一个当前测试脚本发送至智能测试云平台。该智能测试云平台用于响应当前测试任务创建指令，为当前测试任务构建测试环境，以在满足条件的测试环境上运行当前测试任务的至少一个当前测试脚本，并生成各当前测试脚本的测试日志；任一NG项自动分析设备，用于执行上述方法中的步骤，以在运行任一当前测试脚本时得到的测试结果为未通过测试，获得该当前测试脚本的当前NG项。参见图6，图6为本申请一实施例提供的一种分析测试错误项的装置，如图6所示，该装置600可应用于配置在智能测试云系统中的NG项自动分析设备。该装置600包括：第一确定模块601、判断模块602和第二确定模块603。第一确定模块601，用于在当前测试任务运行当前测试脚本时得到的测试结果为未通过测试时，从已获得的所有历史测试任务中确定目标历史测试任务；目标历史测试任务在执行时要求运行多个历史测试脚本；任一历史测试脚本具有对应的历史NG项，任一历史测试脚本的历史NG项是在运行该历史测试脚本时的测试结果为未通过测试时得到的；判断模块602，用于基于已设置的规则项，判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本，如果是，则将该历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本确定为目标历史测试脚本，规则项包括至少一个匹配条件，规则项关联对应的NG项；如果否，则依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度，依据各历史测试脚本的置信度确定目标历史测试脚本；第二确定模块603，依据目标历史测试脚本的NG项，确定当前测试脚本的当前NG项。作为一个实施例，判断目标历史测试任务中各历史测试脚本中，是否存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本包括：按照顺序遍历各历史测试脚本，将遍历到的历史测试脚本作为参考历史测试脚本；按照顺序遍历已设置的规则项，将遍历到的规则项确定为当前规则项；检查参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是否满足当前规则项中的匹配条件，如果满足，则确定参考历史测试脚本为目标历史测试脚本，如果不满足，则：检查当前规则项是否为最后一个规则项，若当前规则性不为最后一个规则项，则继续遍历规则项，将遍历到的规则项确定为当前规则项，返回检查参考历史测试脚本的历史测试日志与当前测试脚本的当前测试日志是否满足当前规则项中的匹配条件的步骤，若当前规则性为最后一个规则项，则在参考历史测试脚本不为最后一个历史测试脚本时，继续遍历历史测试脚本，返回将遍历到的历史测试脚本作为参考历史测试脚本的步骤，在参考历史测试脚本为最后一个历史测试脚本时，确定目标历史测试任务中各历史测试脚本中不存在历史测试日志与当前测试脚本的当前测试日志满足规则项的历史测试脚本。作为一个实施例，依据指定时间段内的各非目标历史测试任务中各历史测试脚本的脚本信息以及当前测试脚本的脚本信息，确定各历史测试脚本的置信度包括：针对每一非目标历史测试任务中每一历史测试脚本，计算该历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度；历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度是指：该历史测试脚本被运行时所对应的历史测试任务的任务创建者与当前测试脚本被运行时所对应的当前测试任务的任务创建者之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务所要求的测试硬件环境与当前测试脚本被运行时所对应的当前测试任务的任务所要求的测试硬件环境之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务所要求的测试组网环境与当前测试脚本被运行时所对应的当前测试任务的任务所要求的测试组网环境之间的相似度、和/或，该历史测试脚本被运行时所对应的历史测试任务的任务标识与当前测试脚本被运行时所对应的当前测试任务的任务标识之间的相似度、和/或，该历史测试脚本被运行时所测试设备的设备标识与当前测试脚本被运行时所测试设备的设备标识之间的相似度、和/或，该历史测试脚本被运行时所测试设备的升级软件包的版本标识与当前测试脚本被运行时所测试设备的升级软件包的版本标识之间的相似度、和/或，该历史测试脚本的运行结束时间与当前测试脚本的运行结束时间之间的相似度；依据各历史测试脚本的脚本信息与当前测试脚本的脚本信息之间的相似度，确定各历史测试脚本的置信度。作为一个实施例，依据各历史测试脚本的置信度确定目标历史测试脚本包括：选择置信度最大的历史测试脚本为目标历史测试脚本。作为一个实施例，从已获得的所有历史测试任务中确定目标历史测试任务包括：针对已获得的所有历史测试任务中每一历史测试任务，计算该历史测试任务的任务信息与当前测试任务的任务信息之间的相似度；历史测试任务的任务信息与当前测试任务的任务信息之间的相似度是指：该历史测试任务的任务创建者与当前测试任务的任务创建者之间的相似度、和/或，该历史测试任务所要求的测试硬件环境与当前测试任务所要求的测试硬件环境之间的相似度、和/或，该历史测试任务所要求的测试组网环境与当前测试任务的任务所要求的测试组网环境之间的相似度、和/或，该历史测试任务的任务标识与当前测试任务的任务标识之间的相似度、和/或，该历史测试任务所要求测试的各设备的设备标识与当前测试任务所要求测试的各设备的设备标识之间的相似度、和/或，该历史测试任务所测试的各设备的升级软件包的版本标识与当前测试任务所测试的各设备的升级软件包的版本标识之间的相似度、和/或，该历史测试任务被执行时要求运行的历史测试脚本的总数和当前测试任务被执行时所要求运行的当前测试脚本的总数的相似度；依据各历史测试任务的任务信息与当前测试任务的任务信息之间的相似度，确定各历史测试任务的置信度；选择置信度最大的历史测试任务为目标历史测试任务。作为一个实施例，依据目标历史测试脚本的NG项，确定当前测试脚本的当前NG项包括：将目标历史测试脚本具有对应的历史NG项确定为当前测试脚本的当前NG项。对于装置实施例而言，由于其基本对应于方法实施例，所以相关之处参见方法实施例的部分说明即可。请参见图7，图7为本申请实施例提供的一种电子设备的硬件结构示意图。该电子设备可以包括处理器701、通信接口702、存储器703和通信总线704。处理器701、通信接口702以及存储器703通过通信总线704完成相互间的通信。其中，存储器703上存放有计算机程序；处理器701可以通过执行存储器703上所存放的程序，执行上述实施例描述的方法的步骤。该电子设备根据该电子设备的实际功能，还可以包括其他硬件，对此不再赘述。本说明书中描述的主题及功能操作的实施例可以在以下中实现：数字电子电路、有形体现的计算机软件或固件、包括本说明书中公开的结构及其结构性等同物的计算机硬件、或者它们中的一个或多个的组合。本说明书中描述的主题的实施例可以实现为一个或多个计算机程序，即编码在有形非暂时性程序载体上以被数据处理装置执行或控制数据处理装置的操作的计算机程序指令中的一个或多个模块。可替代地或附加地，程序指令可以被编码在人工生成的传播信号上，例如机器生成的电、光或电磁信号，该信号被生成以将信息编码并传输到合适的接收机装置以由数据处理装置执行。计算机存储介质可以是机器可读存储设备、机器可读存储基板、随机或串行存取存储器设备、或它们中的一个或多个的组合。本说明书中描述的处理及逻辑流程可以由执行一个或多个计算机程序的一个或多个可编程计算机执行，以通过根据输入数据进行操作并生成输出来执行相应的功能。处理及逻辑流程还可以由专用逻辑电路—例如FPGA或ASIC来执行，并且装置也可以实现为专用逻辑电路。适合用于执行计算机程序的计算机包括，例如通用和/或专用微处理器，或任何其他类型的中央处理单元。通常，中央处理单元将从只读存储器和/或随机存取存储器接收指令和数据。计算机的基本组件包括用于实施或执行指令的中央处理单元以及用于存储指令和数据的一个或多个存储器设备。通常，计算机还将包括用于存储数据的一个或多个大容量存储设备，例如磁盘、磁光盘或光盘等，或者计算机将可操作地与此大容量存储设备耦接以从其接收数据或向其传送数据，抑或两种情况兼而有之。然而，计算机不是必须具有这样的设备。此外，计算机可以嵌入在另一设备中，例如移动电话、个人数字助理、移动音频或视频播放器、游戏操纵台、全球定位系统接收机、或例如通用串行总线闪存驱动器的便携式存储设备，仅举几例。适合于存储计算机程序指令和数据的计算机可读介质包括所有形式的非易失性存储器、媒介和存储器设备，例如包括半导体存储器设备、磁盘、磁光盘以及CD ROM和DVD-ROM盘。处理器和存储器可由专用逻辑电路补充或并入专用逻辑电路中。虽然本说明书包含许多具体实施细节，但是这些不应被解释为限制任何发明的范围或所要求保护的范围，而是主要用于描述特定发明的具体实施例的特征。本说明书内在多个实施例中描述的某些特征也可以在单个实施例中被组合实施。另一方面，在单个实施例中描述的各种特征也可以在多个实施例中分开实施或以任何合适的子组合来实施。此外，虽然特征可以如上在某些组合中起作用并且甚至最初如此要求保护，但是来自所要求保护的组合中的一个或多个特征在一些情况下可以从该组合中去除，并且所要求保护的组合可以指向子组合或子组合的变型。类似地，虽然在附图中以特定顺序描绘了操作，但是这不应被理解为要求这些操作以所示的特定顺序执行或顺次执行、或者要求所有例示的操作被执行，以实现期望的结果。在某些情况下，多任务和并行处理可能是有利的。此外，上述实施例中的各种系统模块和组件的分离不应被理解为在所有实施例中均需要这样的分离，并且应当理解，所描述的程序组件和系统通常可以一起集成在单个软件产品中，或者封装成多个软件产品。由此，主题的特定实施例已被描述。其他实施例在所附权利要求书的范围以内。在某些情况下，权利要求书中记载的动作可以以不同的顺序执行并且仍实现期望的结果。此外，附图中描绘的处理并非必需所示的特定顺序或顺次顺序，以实现期望的结果。在某些实现中，多任务和并行处理可能是有利的。以上仅为本申请的较佳实施例而已，并不用以限制本申请，凡在本申请的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本申请保护的范围之内。
