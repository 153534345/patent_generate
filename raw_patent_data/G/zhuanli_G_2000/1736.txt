标题title
一种基于多代理技术的机载变换器自动测试方法
摘要abst
本申请公开了一种基于多代理技术的机载变换器自动测试方法，涉及机载变换器领域，该方法通过搭建一个测试平台与待测试机载变换器对接，测试平台内的工控机可以根据测试逻辑按照测试任务控制多代理控制单元和测试资源单元，多代理控制单元利用多代理技术控制各个功率切换器件的通断以自动化导通与测试任务匹配的传输通路，工控机可以几乎同时控制多个测试资源单元利用不同的传输通路进行相应的性能参数的自动化采集，从而实现自动化的测试，测试效率高，能有效地解决机载变换器自动测试问题，且具有较强的通用性、扩展性，测试完成后可以对测试数据进行数据显示和保存，减少人工记录的时间。
权利要求书clms
1.一种基于多代理技术的机载变换器自动测试方法，其特征在于，所述机载变换器自动测试方法包括：搭建测试平台，所述测试平台包括工控机、多代理控制单元、测试资源单元和功率切换单元，所述工控机通过多总线连接并控制所述多代理控制单元和测试资源单元，所述多代理控制单元连接并控制所述功率切换单元包含的各个功率切换器件的通断；所述测试资源单元包括交直流程控电源、交直流程控负载和参数采集单元；所述测试平台引出输入测试端口和输出测试端口，所述交直流程控电源连接至所述输入测试端口，所述输出测试端口处连接交直流程控负载，所述输入测试端口和所述输出测试端口的各个端口引脚分别连接至参数采集单元；每个测试资源单元与对应的端口引脚之间的传输通路上分别设置有功率切换器件以控制所述传输通路的通断；将所述测试平台的输入测试端口的各个端口引脚分别对应连接待测试机载变换器的输入测试端口的各个端口引脚，将所述测试平台的输出测试端口的各个端口引脚分别对应连接待测试机载变换器的输出测试端口的各个端口引脚；利用所述测试平台对所述待测试机载变换器进行电气性能自动测试：所述工控机获取测试任务并根据所述测试任务生成测试指令下发给所述多代理控制单元和对应的测试资源单元，所述多代理控制单元根据接收到的测试指令利用多代理技术控制各个功率切换器件的通断以导通与所述测试任务匹配的传输通路，交直流程控电源和交直流程控负载分别按照接收到的测试指令调整测试参数，所述参数采集单元按照接收到的测试指令采集性能参数并反馈给所述工控机，所述工控机汇总所述参数采集单元反馈的性能参数得到所述待测试机载变换器的测试数据。2.根据权利要求1所述的机载变换器自动测试方法，其特征在于，所述交直流程控电源包括交流程控电源和直流程控电源，所述交流程控电源通过功率切换器件连接到所述输入测试端口，所述直流程控电源通过功率切换器件连接到所述输入测试端口；所述交流程控电源用于给属于交流端口的输入测试端口提供交流电源，所述直流程控电源用于给属于直流端口的输入测试端口提供直流电源；所述交直流程控负载包括交流程控负载和直流程控负载，所述输出测试端口处分别通过功率切换器件连接交流程控负载和直流程控负载；所述交流程控负载用于给属于交流端口的输出测试端口提供交流负载，所述交流程控负载还用于给属于直流端口的输出测试端口提供直流负载；所述参数采集单元包括数字万用表和功率分析仪，所述数字万用表的正极分别通过不同的功率切换器件连接所述输入测试端口和所述输出测试端口的各个端口引脚，所述数字万用表的负极分别通过不同的功率切换器件连接所述输入测试端口和所述输出测试端口的各个端口引脚；所述功率分析仪分别通过不同的功率切换器件连接所述输入测试端口和所述输出测试端口。3.根据权利要求2所述的机载变换器自动测试方法，其特征在于，所述利用所述测试平台对所述待测试机载变换器进行电气性能自动测试包括：所述工控机将获取到的针对所述待测试机载变换器的测试任务分解为多项测试子任务，并根据每项测试子任务生成对应的测试指令下发给所述多代理控制单元和对应的测试资源单元以进行对应的一项电气性能自动测试，对所述待测试机载变换器完成的电气性能自动测试的类型包括引脚导通性测试、空载测试、负载调整测试和电压调整测试；所述引脚导通性测试用于在未给所述待测试机载变换器的输入测试端口提供电源的基础上，分别测试所述待测试机载变换器的输入测试端口和输出测试端口的不同端口引脚之间的导通情况；所述空载测试用于在给所述待测试机载变换器的输入测试端口提供输入电压的基础上，测试所述待测试机载变换器在输出测试端口空载情况下在不同输入电压下的性能参数；所述负载调整测试用于在给所述待测试机载变换器的输入测试端口提供输入电压的基础上，测试所述待测试机载变换器在相同输入电压、输出测试端口具有不同负载情况下的性能参数；所述电压调整测试用于在给所述待测试机载变换器的输入测试端口提供输入电压的基础上，测试所述待测试机载变换器在输出测试端口带有额定负载的情况下在不同输入电压下的性能参数。4.根据权利要求3所述的机载变换器自动测试方法，其特征在于，所述利用所述测试平台对所述待测试机载变换器进行引脚导通性测试包括：所述工控机根据第一类测试子任务生成第一测试指令并下发给所述多代理控制单元和所述数字万用表；所述多代理控制单元根据接收到的所述第一测试指令利用多代理技术控制功率切换器件的通断以在所述数字万用表的正极和负极之间依次配置形成多条不同的导通测试链路，所述数字万用表根据接收到的所述第一测试指令分别获取正极经过每条导通测试链路至负极的电阻值并反馈给所述工控机；在配置形成每条导通测试链路时，所述多代理控制单元控制所述数字万用表的正极至其中一个端口引脚的传输通路上的功率切换器件导通、控制所述数字万用表的负极至其中一个端口引脚的传输通路上的功率切换器件导通、控制其他所有功率切换器件断开，以在所述数字万用表的正极和负极之间配置形成一条导通测试链路；每条导通测试链路经过的两个端口引脚是输入测试端口中的两个不同的端口引脚，或者是输出测试端口中的两个不同的端口引脚，或者包括输入测试端口中的一个端口引脚和输出测试端口中的一个端口引脚。5.根据权利要求3所述的机载变换器自动测试方法，其特征在于，所述利用所述测试平台对所述待测试机载变换器进行空载测试包括：所述工控机根据第二类测试子任务生成第二测试指令并下发给所述多代理控制单元、所述交直流程控电源和所述功率分析仪；所述多代理控制单元根据接收到的所述第二测试指令利用多代理技术控制所述交直流程控电源至所述输入测试端口的传输通路上的功率切换器件导通、控制所述功率分析仪与所述输入测试端口的传输通路上的功率切换器件导通、控制所述功率分析仪与所述输出测试端口的传输通路上的功率切换器件导通、控制其他功率器件断开；所述交直流程控电源根据接收到的所述第二测试指令依次调整提供给所述输入测试端口的输入电压，在每一个输入电压下，所述功率分析仪根据接收到的所述第二测试指令分别获取所述输入测试端口的电流电压信号的性能参数和所述输出测试端口的电流电压信号的性能参数并反馈给所述工控机；其中，属于交流信号的电流电压信号的性能参数包括信号的波形、相序、三相平均值、三相不平衡度和总谐波含量，属于直流信号的电流电压信号的性能参数包括电压值和电压纹波。6.根据权利要求3所述的机载变换器自动测试方法，其特征在于，所述利用所述测试平台对所述待测试机载变换器进行负载调整测试包括：所述工控机根据第三类测试子任务生成第三测试指令并下发给所述多代理控制单元、所述交直流程控电源和所述功率分析仪；所述多代理控制单元根据接收到的所述第三测试指令利用多代理技术控制所述交直流程控电源至所述输入测试端口的传输通路上的功率切换器件导通、控制所述交直流程控负载至所述输出测试端口的传输通路上的功率切换器件导通、控制所述功率分析仪与所述输入测试端口的传输通路上的功率切换器件导通、控制所述功率分析仪与所述输出测试端口的传输通路上的功率切换器件导通、控制其他功率器件断开；所述交直流程控电源根据接收到的所述第三测试指令依次调整提供给所述输入测试端口的输入电压，在保持输入电压不变的情况下，所述交直流程控负载根据接收到的所述第三测试指令依次调整负载值以改变所述输出测试端口的负载情况，在每个负载值下，所述功率分析仪根据接收到的所述第三测试指令分别获取所述输入测试端口的电流电压信号的性能参数和所述输出测试端口的电流电压信号的性能参数并反馈给所述工控机；其中，属于交流信号的电流电压信号的性能参数包括信号的波形、相序、三相平均值、三相不平衡度和总谐波含量，属于直流信号的电流电压信号的性能参数包括电压值和电压纹波。7.根据权利要求3所述的机载变换器自动测试方法，其特征在于，所述利用所述测试平台对所述待测试机载变换器进行电压调整测试包括：所述工控机根据第四类测试子任务生成第四测试指令并下发给所述多代理控制单元、所述交直流程控电源和所述功率分析仪；所述多代理控制单元根据接收到的所述第四测试指令利用多代理技术控制所述交直流程控电源至所述输入测试端口的传输通路上的功率切换器件导通、控制所述交直流程控负载至所述输出测试端口的传输通路上的功率切换器件导通、控制所述功率分析仪与所述输入测试端口的传输通路上的功率切换器件导通、控制所述功率分析仪与所述输出测试端口的传输通路上的功率切换器件导通、控制其他功率器件断开；所述交直流程控负载根据接收到的所述第四测试指令调整至所述待测试机载变换器的额定负载，在保持额定负载的情况下，所述交直流程控电源根据接收到的所述第四测试指令依次调整提供给所述输入测试端口的输入电压，在每一个输入电压下，所述功率分析仪根据接收到的所述第四测试指令分别获取所述输入测试端口的电流电压信号的性能参数和所述输出测试端口的电流电压信号的性能参数并反馈给所述工控机；其中，属于交流信号的电流电压信号的性能参数包括信号的波形、相序、三相平均值、三相不平衡度和总谐波含量，属于直流信号的电流电压信号的性能参数包括电压值和电压纹波。8.根据权利要求1所述的机载变换器自动测试方法，其特征在于，所述机载变换器自动测试方法还包括：在利用所述测试平台对待测试机载变换器进行电气性能自动测试之前，将所述测试平台与样本机载变换器进行对接，并利用样本机载变换器对所述测试平台进行功能验证。9.根据权利要求8所述的机载变换器自动测试方法，其特征在于，所述对所述测试平台进行功能验证包括：验证所述多代理控制单元内部线路导通阻值是否满足对应的要求、验证所述功率切换单元内部功率切换器件的阻值是否满足对应的要求、验证所述测试平台是否能识别不同型号的样本机载变换器、验证所述交直流程控负载实现的电流调节误差是否满足对应的要求、验证所述测试平台对样本机载变换器的电气性能自动测试准确率是否满足对应的要求。10.根据权利要求1所述的机载变换器自动测试方法，其特征在于，所述测试平台还包括人机交互模块，所述人机交互模块与所述工控机建立通讯连接；所述工控机响应于所述人机交互模块获取到的配置信息，根据所述配置信息对所述测试平台进行配置；所述工控机还通过所述人机交互模块实时显示所述待测试机载变换器的测试数据，所述测试数据包括配置的各项测试参数及对应采集到的性能参数以及测试属性信息。
说明书desc
技术领域本申请涉及机载变换器技术领域，尤其是一种基于多代理技术的机载变换器自动测试方法。背景技术机载变换器是飞机二次电源系统中承担电能变换的重要器件，其功能对于飞机的飞行安全至关重要，机载变换器一旦发生故障，飞机上的各个设备将失去供电可靠性，这会使得飞机各个模块工作异常，随着“多电飞机”的不断发展，飞机搭载的机载变换器的种类与数量也随之不断增加，对机载变换器可靠性要求也不断提高，因此对机载变换器进行性能测试以保证其工作可靠性显得至关重要。近年来，有关机载变换器的测试一直是众多学者研究的热门之一，目前对于机载变换器的测试主要利用各种仪表以手动方式来进行，但这种测试方法的测试效率较低，需要耗费大量的人力和时间，且测试结果需要人工判断且要求操作者具有丰富的操作经验，因此测试结果的准确性和可靠性难以保证，导致现有的测试方法的测试手段较为单一，通用性和扩展性都较差，自动化水平程度不高。发明内容本申请人针对上述问题及技术需求，提出了一种基于多代理技术的机载变换器自动测试方法，本申请的技术方案如下：一种基于多代理技术的机载变换器自动测试方法，该机载变换器自动测试方法包括：搭建测试平台，测试平台包括工控机、多代理控制单元、测试资源单元和功率切换单元，工控机通过多总线连接并控制多代理控制单元和测试资源单元，多代理控制单元连接并控制功率切换单元包含的各个功率切换器件的通断；测试资源单元包括交直流程控电源、交直流程控负载和参数采集单元；测试平台引出输入测试端口和输出测试端口，交直流程控电源连接至输入测试端口，输出测试端口处连接交直流程控负载，输入测试端口和输出测试端口的各个端口引脚分别连接至参数采集单元；每个测试资源单元与对应的端口引脚之间的传输通路上分别设置有功率切换器件以控制传输通路的通断；将测试平台的输入测试端口的各个端口引脚分别对应连接待测试机载变换器的输入测试端口的各个端口引脚，将测试平台的输出测试端口的各个端口引脚分别对应连接待测试机载变换器的输出测试端口的各个端口引脚；利用测试平台对待测试机载变换器进行电气性能自动测试：工控机获取测试任务并根据测试任务生成测试指令下发给多代理控制单元和对应的测试资源单元，多代理控制单元根据接收到的测试指令利用多代理技术控制各个功率切换器件的通断以导通与测试任务匹配的传输通路，交直流程控电源和交直流程控负载分别按照接收到的测试指令调整测试参数，参数采集单元按照接收到的测试指令采集性能参数并反馈给工控机，工控机汇总参数采集单元反馈的性能参数得到待测试机载变换器的测试数据。其进一步的技术方案为，交直流程控电源包括交流程控电源和直流程控电源，交流程控电源通过功率切换器件连接到输入测试端口，直流程控电源通过功率切换器件连接到输入测试端口；交流程控电源用于给属于交流端口的输入测试端口提供交流电源，直流程控电源用于给属于直流端口的输入测试端口提供直流电源；交直流程控负载包括交流程控负载和直流程控负载，输出测试端口处分别通过功率切换器件连接交流程控负载和直流程控负载；交流程控负载用于给属于交流端口的输出测试端口提供交流负载，交流程控负载还用于给属于直流端口的输出测试端口提供直流负载；参数采集单元包括数字万用表和功率分析仪，数字万用表的正极分别通过不同的功率切换器件连接输入测试端口和输出测试端口的各个端口引脚，数字万用表的负极分别通过不同的功率切换器件连接输入测试端口和输出测试端口的各个端口引脚；功率分析仪分别通过不同的功率切换器件连接输入测试端口和输出测试端口。其进一步的技术方案为，利用测试平台对待测试机载变换器进行电气性能自动测试包括：工控机将获取到的针对待测试机载变换器的测试任务分解为多项测试子任务，并根据每项测试子任务生成对应的测试指令下发给多代理控制单元和对应的测试资源单元以进行对应的一项电气性能自动测试，对待测试机载变换器完成的电气性能自动测试的类型包括引脚导通性测试、空载测试、负载调整测试和电压调整测试；引脚导通性测试用于在未给待测试机载变换器的输入测试端口提供电源的基础上，分别测试待测试机载变换器的输入测试端口和输出测试端口的不同端口引脚之间的导通情况；空载测试用于在给待测试机载变换器的输入测试端口提供输入电压的基础上，测试待测试机载变换器在输出测试端口空载情况下在不同输入电压下的性能参数；负载调整测试用于在给待测试机载变换器的输入测试端口提供输入电压的基础上，测试待测试机载变换器在相同输入电压、输出测试端口具有不同负载情况下的性能参数；电压调整测试用于在给待测试机载变换器的输入测试端口提供输入电压的基础上，测试待测试机载变换器在输出测试端口带有额定负载的情况下在不同输入电压下的性能参数。其进一步的技术方案为，利用测试平台对待测试机载变换器进行引脚导通性测试包括：工控机根据第一类测试子任务生成第一测试指令并下发给多代理控制单元和数字万用表；多代理控制单元根据接收到的第一测试指令利用多代理技术控制功率切换器件的通断以在数字万用表的正极和负极之间依次配置形成多条不同的导通测试链路，数字万用表根据接收到的第一测试指令分别获取正极经过每条导通测试链路至负极的电阻值并反馈给工控机；在配置形成每条导通测试链路时，多代理控制单元控制数字万用表的正极至其中一个端口引脚的传输通路上的功率切换器件导通、控制数字万用表的负极至其中一个端口引脚的传输通路上的功率切换器件导通、控制其他所有功率切换器件断开，以在数字万用表的正极和负极之间配置形成一条导通测试链路；每条导通测试链路经过的两个端口引脚是输入测试端口中的两个不同的端口引脚，或者是输出测试端口中的两个不同的端口引脚，或者包括输入测试端口中的一个端口引脚和输出测试端口中的一个端口引脚。其进一步的技术方案为，利用测试平台对待测试机载变换器进行空载测试包括：工控机根据第二类测试子任务生成第二测试指令并下发给多代理控制单元、交直流程控电源和功率分析仪；多代理控制单元根据接收到的第二测试指令利用多代理技术控制交直流程控电源至输入测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输入测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输出测试端口的传输通路上的功率切换器件导通、控制其他功率器件断开；交直流程控电源根据接收到的第二测试指令依次调整提供给输入测试端口的输入电压，在每一个输入电压下，功率分析仪根据接收到的第二测试指令分别获取输入测试端口的电流电压信号的性能参数和输出测试端口的电流电压信号的性能参数并反馈给工控机；其中，属于交流信号的电流电压信号的性能参数包括信号的波形、相序、三相平均值、三相不平衡度和总谐波含量，属于直流信号的电流电压信号的性能参数包括电压值和电压纹波。其进一步的技术方案为，利用测试平台对待测试机载变换器进行负载调整测试包括：工控机根据第三类测试子任务生成第三测试指令并下发给多代理控制单元、交直流程控电源和功率分析仪；多代理控制单元根据接收到的第三测试指令利用多代理技术控制交直流程控电源至输入测试端口的传输通路上的功率切换器件导通、控制交直流程控负载至输出测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输入测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输出测试端口的传输通路上的功率切换器件导通、控制其他功率器件断开；交直流程控电源根据接收到的第三测试指令依次调整提供给输入测试端口的输入电压，在保持输入电压不变的情况下，交直流程控负载根据接收到的第三测试指令依次调整负载值以改变输出测试端口的负载情况，在每个负载值下，功率分析仪根据接收到的第三测试指令分别获取输入测试端口的电流电压信号的性能参数和输出测试端口的电流电压信号的性能参数并反馈给工控机；其中，属于交流信号的电流电压信号的性能参数包括信号的波形、相序、三相平均值、三相不平衡度和总谐波含量，属于直流信号的电流电压信号的性能参数包括电压值和电压纹波。其进一步的技术方案为，利用测试平台对待测试机载变换器进行电压调整测试包括：工控机根据第四类测试子任务生成第四测试指令并下发给多代理控制单元、交直流程控电源和功率分析仪；多代理控制单元根据接收到的第四测试指令利用多代理技术控制交直流程控电源至输入测试端口的传输通路上的功率切换器件导通、控制交直流程控负载至输出测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输入测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输出测试端口的传输通路上的功率切换器件导通、控制其他功率器件断开；交直流程控负载根据接收到的第四测试指令调整至待测试机载变换器的额定负载，在保持额定负载的情况下，交直流程控电源根据接收到的第四测试指令依次调整提供给输入测试端口的输入电压，在每一个输入电压下，功率分析仪根据接收到的第四测试指令分别获取输入测试端口的电流电压信号的性能参数和输出测试端口的电流电压信号的性能参数并反馈给工控机；其中，属于交流信号的电流电压信号的性能参数包括信号的波形、相序、三相平均值、三相不平衡度和总谐波含量，属于直流信号的电流电压信号的性能参数包括电压值和电压纹波。其进一步的技术方案为，机载变换器自动测试方法还包括：在利用测试平台对待测试机载变换器进行电气性能自动测试之前，将测试平台与样本机载变换器进行对接，并利用样本机载变换器对测试平台进行功能验证。其进一步的技术方案为，对测试平台进行功能验证包括：验证多代理控制单元内部线路导通阻值是否满足对应的要求、验证功率切换单元内部功率切换器件的阻值是否满足对应的要求、验证测试平台是否能识别不同型号的样本机载变换器、验证交直流程控负载实现的电流调节误差是否满足对应的要求、验证测试平台对样本机载变换器的电气性能自动测试准确率是否满足对应的要求。其进一步的技术方案为，测试平台还包括人机交互模块，人机交互模块与工控机建立通讯连接；工控机响应于人机交互模块获取到的配置信息，根据配置信息对测试平台进行配置；工控机还通过人机交互模块实时显示待测试机载变换器的测试数据，测试数据包括配置的各项测试参数及对应采集到的性能参数以及测试属性信息。本申请的有益技术效果是：本申请公开了一种基于多代理技术的机载变换器自动测试方法，该测试方法通过搭建一个测试平台，将测试平台与待测试机载变换器对接后，工控机可以几乎同时控制多个测试资源单元，按照配置的测试逻辑完成测试任务，实现自动化的测试参数配置和性能数据采集，自动化程度高，测试效率高，能有效地解决机载变换器自动测试问题，具有很好的应用前景，且该方法可以实现对各型机载变换器的高效测试，具有较强的通用性、扩展性，测试完成后可以对测试数据进行数据显示和保存，减少人工记录的时间。附图说明图1是现有的自动测试理论的集中式自动测试框架的框架示意图。图2是本申请搭建的测试平台的结构示意图。图3是本申请搭建的测试平台设计的测试逻辑的软件结构图。图4是本申请一个测试实例中，利用本申请的测试平台进行自动测试后汇总得到的在不同输入电压下的三相输入平均电流随着负载的变化曲线图。图5是本申请一个测试实例中，利用本申请的测试平台进行自动测试后汇总得到的在不同输入电压下的三相最大电流差随着负载的变化曲线图。图6是本申请一个测试实例中，利用本申请的测试平台进行自动测试后汇总得到的在不同输入电压下的输入电流THD随着负载的变化曲线图。图7是本申请一个测试实例中，利用本申请的测试平台进行自动测试后汇总得到的在不同输入电压下的输出电压随着负载的变化曲线图。图8是本申请一个测试实例中，利用本申请的测试平台进行自动测试后汇总得到的在不同输入电压下的输出电压纹波随着负载的变化曲线图。具体实施方式下面结合附图对本申请的具体实施方式做进一步说明。本申请公开了一种基于多代理技术的机载变换器自动测试方法，该自动测试方法基于搭建的测试平台来完成，测试平台的搭建基于自动测试理论的测试框架展开，常见的自动测试理论的测试框架主要包括集中式自动测试框架和分布式自动测试框架两种：集中式自动测试框架具有集成度高、结构简单的优点，但是对于测试主机的性能要求较高，主要用于构建中小型自动测试系统。分布式自动测试框架通过分布式设计降低了对测试主机的性能要求，便于横向扩展，但是设计复杂，需要考虑不同站点之间通讯的实时性，主要用于构建大型或特大型的自动测试系统。考虑到机载变换器的测试需求，本申请基于自动测试理论，按照集中式自动测试框架来搭建测试平台。集中式自动测试框架主要包含三部分，分别是自动测试系统ATE、测试程序集TPS和软件开发工具，请参考图1所示的框架结构图，软件开发工具提供用于进行测试逻辑设计的开发环境。测试程序集TPS是自动测试系统ATE实现控制的基础，用于利用软件开发工具对测试逻辑进行设计。自动测试系统ATE用于按照设计的测试逻辑进行控制以实现测试。本申请根据集中式自动测试框架的结构搭建用于机载变换器自动测试的测试平台，该测试平台的自动测试系统ATE的架构如图2所示，包括工控机、多代理控制单元、测试资源单元和功率切换单元。分别介绍如下：工控机是整个测试平台实现控制和运算的核心，常见的可以选用PC或诸如ARM、FPGA之类的嵌入式处理器实现。多代理控制单元是用于执行多代理技术的器件。测试资源单元用于对接待测试机载变换器，并按照工控机的指令来给待测试机载变换器提供激励以及对待测试机载变换器实现数据采集，根据机载变换器的测试需要，测试资源单元包括三类：交直流程控电源、交直流程控负载和参数采集单元，测试资源单元需要分别对接至待测试机载变换器。为了方便该测试平台中部件与待测试机载变换器的对接，该测试平台对外引出输入测试端口Din和输出测试端口Dout，测试平台的输入测试端口Din用于对接待测试机载变换器的输入测试端口Din，测试平台的输出测试端口Dout用于对接待测试机载变换器的输出测试端口Dout。输入测试端口包括多个端口引脚，输出测试端口包括多个端口引脚，每个测试端口包含的端口引脚的数量根据测试端口的类型确定。比如当待测试机载变换器为变压整流器时，测试平台以及待测试机载变换器的输入测试端口分别为包含三个端口引脚的交流端口，测试平台以及待测试机载变换器的输出测试端口分别为包含两个端口引脚的直流端口，图2以此为例。则在测试平台中，测试资源单元都连接到相应的测试端口，从而连接待测试机载变换器中对应的测试端口，则：交直流程控电源连接至测试平台的输入测试端口，用于通过输入测试端口给待测试机载变换器的输入测试端口提供输入电压。在一个实施例中，交直流程控电源包括交流程控电源和直流程控电源，交流程控电源用于给属于交流端口的输入测试端口提供交流电源，直流程控电源用于给属于直流端口的输入测试端口提供直流电源，以提高适用性。输出测试端口处连接交直流程控负载，用于调节待测试机载变换器的输出测试端口的负载情况。在一个实施例中，交直流程控负载包括交流程控负载和直流程控负载，交流程控负载用于给属于交流端口的输出测试端口提供交流负载，交流程控负载还用于给属于直流端口的输出测试端口提供直流负载，同样的，用于提高适用性。输入测试端口和输出测试端口的各个端口引脚分别连接至参数采集单元，使得参数采集单元可以采集待测试机载变换器的输入测试端口和输出测试端口的各个端口引脚的信号，以确定待测试机载变换器的性能参数。在一个实施例中，参数采集单元包括数字万用表和功率分析仪，数字万用表的正极分别连接输入测试端口和输出测试端口的各个端口引脚，数字万用表的负极分别连接输入测试端口和输出测试端口的各个端口引脚。功率分析仪连接输入测试端口和输出测试端口。功率切换单元包含多个功率切换器件，功率切换器件包括继电器和接触器。每个测试资源单元与对应的端口引脚之间的传输通路上分别设置有功率切换器件以控制传输通路的通断，当功率切换器件断开时，其所在的传输通断就断开，则测试资源单元无法对待测试机载变换器施加激励或实现数据采集。当功率切换器件导通时，其所在的传输通断就导通，则测试资源单元无法可以对待测试机载变换器施加激励或实现数据采集。包括：交流程控电源通过功率切换器件连接到输入测试端口，直流程控电源通过功率切换器件连接到输入测试端口。输出测试端口处分别通过功率切换器件连接交流程控负载和直流程控负载。数字万用表的正极分别通过不同的功率切换器件连接输入测试端口和输出测试端口的各个端口引脚，数字万用表的负极分别通过不同的功率切换器件连接输入测试端口和输出测试端口的各个端口引脚。功率分析仪分别通过不同的功率切换器件连接输入测试端口和输出测试端口。工控机通过多总线连接并控制多代理控制单元和测试资源单元，多代理控制单元连接并控制功率切换单元包含的各个功率切换器件的通断。根据单元使用的通讯协议不同，这里使用到的多总线包括USB、PCI、TCP、RS232等总线。在一个实施例中如图2所示，工控机通过DB25电缆连接多代理控制单元从而可以向多代理控制单元发送指令。工控机通过USB转RS232连接线连接交流程控电源实现双向通信，使得工控机可以向交流程控电源发送指令，也使得交流程控电源可以向工控机返回提供的输入电压。工控机通过USB连接线连接直流程控电源实现双向通信，使得工控机可以向直流程控电源发送指令，也使得直流程控电源可以向工控机返回提供的输入电压。工控机通过USB转RS232连接线连接交流程控负载实现双向通信，使得工控机可以向交流程控负载发送指令，也使得交流程控负载可以向工控机返回配置的负载值。工控机通过USB连接线连接直流程控负载实现双向通信，使得工控机可以向直流程控负载发送指令，也使得直流程控负载可以向工控机返回配置的负载值。工控机通过USB连接线连接数字万用表，使得工控机可以向数字万用表发送指令，也使得数字万用表可以向工控机返回采集到的性能数据。工控机通过TCP连接线连接功率分析仪，使得工控机可以向功率分析仪发送指令，也使得功率分析仪可以向工控机返回采集到的性能数据。通过上述介绍可以看出，在本申请搭建的测试平台中，自动测试系统ATE部分实现了三层结构，即管理层、协同层和执行层。管理层为工控机，是整个测试平台的核心，担负规划和安排测试任务，并最终负责数据的整理和保存。管理层通过各种总线协议向协同层传达命令，通过协调各个总线的通讯的调度，从而按照设计的测试逻辑合理的调度各测试资源。协同层包括多代理控制单元和测试资源单元，负责与管理层进行通讯以接收管理层的指令，多代理控制单元和测试资源单元通过通讯协议对工控机的指令进行解析，然后测试资源单元按照指令调整激励、负载并进行数据采集。多代理控制单元根据自定义的PCI通讯协议由FPGA进行译码操作，译码后通过改变I/O口电平，经过驱动电路后将信号输出给执行层，从而进一步对执行层进行控制，实现强弱电隔离。执行层为功率切换单元，该层内部由大量的继电器和接触器组成，通过合理的设计实现待测试机载变换器和各种测试资源单元之间的传输通路的切换，同时，功率切换单元内部在设计上为提高该层故障后的排故效率还需要具备继电器和接触器自检功能。另外该测试平台还包括人机交互模块，人机交互模块与工控机建立通讯连接，人机交互模块提供人机交互界面，用于实现数据输入和实时显示。搭建的测试平台的软件开发工具使用Visual C++6.0开发工具，利用MFC框架进行人机交互界面的设计，在测试过程中，由人机交互界面中对应的功能函数进行相应控制和读取指令的传输，在获得相关测试数据后，软件需要对数据进行显示、分析和保存。搭建的测试平台中的测试程序集TPS所设计的测试逻辑是利用该测试平台实现自动测试的核心，通过软件设计、编程与开发，驱动所有的测试资源单元和功率切换单元，并完成高效的系统功能测试，一套逻辑明晰、执行高效的测试逻辑是实现高效自动测试的关键，为了提高执行效率同时便于研发，本申请搭建的测试平台的测试逻辑的软件架构采用分层设计思想来设计，根据软件转化为实际驱动的流程，自上而下分为软件应用层、总线协议层以及总线驱动层，每一层都进行相应的封装，用于自上而下的调用，最终实现更加简洁的控制逻辑，其结构如图3所示。基于这种自上而下分层软件设计思想，由软件应用层设计各个测试任务的测试函数，通过多线程编程，保证各个模块之间数据共享，提高软件执行效率，其中各个测试线程可以调用PCI，USB等总线协议函数，再由总线协议函数调用相应总线的驱动函数，从而实现代码的简洁性和可靠性，并便于后续代码的维护。另外，为了帮助测试人员进行自动化测试，还需要设计一个人机交互界面，将所对应的测试和识别等功能函数对应放入相应的界面中。该测试平台所设计的测试逻辑会在后续对自动测试方法的介绍过程中详细介绍。在搭建完测试平台后，将测试平台的输入测试端口的各个端口引脚分别对应连接待测试机载变换器的输入测试端口的各个端口引脚，将测试平台的输出测试端口的各个端口引脚分别对应连接待测试机载变换器的输出测试端口的各个端口引脚，实现测试平台与待测试机载变换器的对接。然后即可利用该测试平台对待测试机载变换器进行电气性能自动测试，测试整体过程如下：工控机获取测试任务并根据测试任务生成测试指令下发给多代理控制单元和对应的测试资源单元，多代理控制单元根据接收到的测试指令利用多代理技术控制各个功率切换器件的通断以导通与测试任务匹配的传输通路。交直流程控电源和交直流程控负载分别按照接收到的测试指令调整测试参数，参数采集单元按照接收到的测试指令采集性能参数并反馈给工控机。基于上述测试过程，根据对待测试机载变换器的测试内容的不同，工控机会将获取到的针对待测试机载变换器的测试任务分解为多项测试子任务，并根据每项测试子任务生成对应的测试指令下发给多代理控制单元和对应的测试资源单元以进行对应的一项电气性能自动测试。对待测试机载变换器完成的电气性能自动测试的类型包括如下几类：引脚导通性测试。引脚导通性测试用于在未给待测试机载变换器的输入测试端口提供电源的基础上，分别测试待测试机载变换器的输入测试端口和输出测试端口的不同端口引脚之间的导通情况。后续的各项测试都在对待测试机载变换器通电之后展开，而这一项测试在对待测试机载变换器通电之前首先执行，主要为了测试待测试机载变换器的不同端口引脚之间的导通性，避免因为端口引脚之间的短路而造成待测试机载变换器的通电损坏，有利于确保后续对待测试机载变换器的通电测试的安全性。以用于实现引脚导通性测试的测试子任务为第一类测试子任务，利用测试平台对待测试机载变换器进行引脚导通性测试包括：工控机根据第一类测试子任务生成第一测试指令并下发给多代理控制单元和数字万用表。多代理控制单元根据接收到的第一测试指令利用多代理技术控制功率切换器件的通断以在数字万用表的正极和负极之间依次配置形成多条不同的导通测试链路，数字万用表根据接收到的第一测试指令分别获取正极经过每条导通测试链路至负极的电阻值并反馈给工控机，工控机检测接收到的每条导通测试链路对应的电阻值是否满足对应的测试判据即可得到针对该导通测试链路的测试结果，测试结果指示测试通过、导通测试链路上的两个端口引脚之间未短路，或者测试结果指示测试不通过、导通测试链路上的两个端口引脚之间短路。在配置形成每条导通测试链路时，多代理控制单元控制数字万用表的正极至其中一个端口引脚的传输通路上的功率切换器件导通、控制数字万用表的负极至其中一个端口引脚的传输通路上的功率切换器件导通、控制其他所有功率切换器件断开，以在数字万用表的正极和负极之间配置形成一条导通测试链路。每条导通测试链路经过的两个端口引脚是输入测试端口中的两个不同的端口引脚，或者是输出测试端口中的两个不同的端口引脚，或者包括输入测试端口中的一个端口引脚和输出测试端口中的一个端口引脚。也即引脚导通性测试可以用于测试输入测试端口的端口引脚与输出测试端口的端口引脚的导通性，还用于测试输入测试端口的不同端口引脚之间的导通性，还用于测试输出测试端口的不同端口引脚之间的导通性。比如以待测试机载变换器为某型号的变压整流器为例，该变压整流器的输入测试端口为交流端口且包括端口引脚A、端口引脚B和端口引脚C，该变压整流器的输出测试端口为直流端口且包括正极端口引脚+28V以及负极端口引脚-28V。则在对该变压整流器进行引脚导通性测试时，测试内容和结果如下：空载测试。空载测试用于在给待测试机载变换器的输入测试端口提供输入电压的基础上，测试待测试机载变换器在输出测试端口空载情况下在不同输入电压下的性能参数。对待测试机载变换器的空载测试可以检查待测试机载变换器自身的工作损耗等特性。以用于实现空载测试的测试子任务为第二类测试子任务，利用测试平台对待测试机载变换器进行空载测试包括：工控机根据第二类测试子任务生成第二测试指令并下发给多代理控制单元、交直流程控电源和功率分析仪。多代理控制单元根据接收到的第二测试指令利用多代理技术控制交直流程控电源至输入测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输入测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输出测试端口的传输通路上的功率切换器件导通、控制其他功率器件断开。交直流程控电源根据接收到的第二测试指令依次调整提供给输入测试端口的输入电压。在每一个输入电压下，功率分析仪根据接收到的第二测试指令分别获取输入测试端口的电流电压信号的性能参数和输出测试端口的电流电压信号的性能参数并反馈给工控机。其中，属于交流信号的电流电压信号的性能参数包括信号的波形、相序、三相平均值、三相不平衡度和总谐波含量，属于直流信号的电流电压信号的性能参数包括电压值和电压纹波。在空载调整测试过程中，加入了对相序与波形的检查，可以对待测试机载变换器的输入波形和输出波形的质量进行测试。对于变压整流器而言，其相序和波形的检查主要体现为输入电流的相序和波形的检查，对于相序检查，通过功率分析仪读取端口引脚AB、BC和CA间的相位差进行判断，而对于波形检查，通过功率分析仪显示的三相输入电流波形进行测试。除了相序和波形之外，还对有关波形的其他参数进行测试，三相不平衡度可以用采集最大电流差来表征，总谐波含量可以用THD来表征。负载调整测试。负载调整测试用于在给待测试机载变换器的输入测试端口提供输入电压的基础上，测试待测试机载变换器在相同输入电压、输出测试端口具有不同负载情况下的性能参数。机载变换器的输出电压会随着输出端的负载情况的不同而发生变化，而机载变换器在实际工作时负载情况时常发生变化，因此需要利用负载调整测试来对待测试机载变换器的带载性能进行测试。以用于实现负载测试的测试子任务为第三类测试子任务，利用测试平台对待测试机载变换器进行负载调整测试包括：工控机根据第三类测试子任务生成第三测试指令并下发给多代理控制单元、交直流程控电源和功率分析仪；多代理控制单元根据接收到的第三测试指令利用多代理技术控制交直流程控电源至输入测试端口的传输通路上的功率切换器件导通、控制交直流程控负载至输出测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输入测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输出测试端口的传输通路上的功率切换器件导通、控制其他功率器件断开；交直流程控电源根据接收到的第三测试指令依次调整提供给输入测试端口的输入电压，在保持输入电压不变的情况下，交直流程控负载根据接收到的第三测试指令依次调整负载值以改变输出测试端口的负载情况，在每个负载值下，功率分析仪根据接收到的第三测试指令分别获取输入测试端口的电流电压信号的性能参数和输出测试端口的电流电压信号的性能参数并反馈给工控机。其中，属于交流信号的电流电压信号的性能参数包括信号的波形、相序、三相平均值、三相不平衡度和总谐波含量，属于直流信号的电流电压信号的性能参数包括电压值和电压纹波。同样的，在负载调整测试过程中，加入了对相序与波形的检查，还加入了对波形的其他参数的测试。电压调整测试。电压调整测试用于在给待测试机载变换器的输入测试端口提供输入电压的基础上，测试待测试机载变换器在输出测试端口带有额定负载的情况下在不同输入电压下的性能参数，电压调整测试可以用于测试该待测试机载变换器是否具备宽输入能力。以用于实现负载测试的测试子任务为第四类测试子任务，利用测试平台对待测试机载变换器进行电压调整测试包括：工控机根据第四类测试子任务生成第四测试指令并下发给多代理控制单元、交直流程控电源和功率分析仪；多代理控制单元根据接收到的第四测试指令利用多代理技术控制交直流程控电源至输入测试端口的传输通路上的功率切换器件导通、控制交直流程控负载至输出测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输入测试端口的传输通路上的功率切换器件导通、控制功率分析仪与输出测试端口的传输通路上的功率切换器件导通、控制其他功率器件断开；交直流程控负载根据接收到的第四测试指令调整至待测试机载变换器的额定负载，在保持额定负载的情况下，交直流程控电源根据接收到的第四测试指令依次调整提供给输入测试端口的输入电压，在每一个输入电压下，功率分析仪根据接收到的第四测试指令分别获取输入测试端口的电流电压信号的性能参数和输出测试端口的电流电压信号的性能参数并反馈给工控机。其中，属于交流信号的电流电压信号的性能参数包括信号的波形、相序、三相平均值、三相不平衡度和总谐波含量，属于直流信号的电流电压信号的性能参数包括电压值和电压纹波。同样的，在负载调整测试过程中，加入了对相序与波形的检查，还加入了对波形的其他参数的测试。在完成上述各项测试子任务后，工控机汇总各个参数采集单元反馈的性能参数得到待测试机载变换器的测试数据，工控机可以实现测试数据的查看、保存、导出和打印，便于数据管理。工控机还通过人机交互模块实时显示待测试机载变换器的测试数据，测试数据包括配置的各项测试参数及对应采集到的性能参数以及测试属性信息，测试属性信息包括测试任务号、测试产品件号、测试人员、测试时间、测试项目、测试进度等。工控机还可以响应于人机交互模块获取到的配置信息，根据配置信息对测试平台进行配置，比如测试项目的选定、数据的查看、软件复位等等。对于接收到的针对引脚导通性测试的性能参数，工控机可以分别显示各条导通测试链路的电阻值。对于接收到的针对空载测试的性能参数，工控机可以分别显示输入测试端口的电流电压信号的性能参数随着输入电压的变化曲线，以及显示输出测试端口的电流电压信号的性能参数随着输入电压的变化曲线。对于接收到的针对负载调整测试的性能参数，工控机可以分别显示在每一个输入电压下，输入测试端口的电流电压信号的性能参数随着负载情况的变化曲线，以及在每一个输入电压下，输出测试端口的电流电压信号的性能参数随着负载情况的变化曲线。对于接收到的针对电压调整测试的性能参数，工控机可以分别显示在每一个输入电压下，输入测试端口的电流电压信号的性能参数随着输入电压的变化曲线，以及在每一个输入电压下，输出测试端口的电流电压信号的性能参数随着输入电压的变化曲线。比如在一个测试实例中，对某型号的变压整流器分别在108V输入电压、115V输入电压和118V输入电压的情况下负载调整测试：工控机汇总得到在每一个输入电压下的输入电流的三相平均值随着负载情况的变化曲线如图4所示，由图4可以看出，在同一个输入电压下，输出测试端口的负载越大，三相输入平均电流越大。由于输入电压的电压调整幅度并不大，所以三个输入电压对应的曲线几乎是重合的，说明在相同的负载情况下，三相输入平均电流在不同输入电压下的变化幅度不大。工控机汇总得到在每一个输入电压下的三相不平衡度随着负载情况的变化曲线如图5所示，由图5可以看出，在同一个输入电压下，三相最大电流差随着负载情况不同而变化，且并不是单调变化的。115V输入电压下的曲线和118V输入电压下的曲线基本重合，与108V输入电压的曲线的变化也不大。工控机汇总得到在每一个输入电压下的总谐波含量随着负载情况的变化曲线如图6所示，由图6可以看出，在同一个输入电压下，THD随着负载增大而减小，且并不是单调变化的。输入电压的电压调整幅度并不大，所以三个输入电压对应的曲线几乎是重合的，说明在相同的负载情况下，THD在不同输入电压下的变化幅度不大。工控机汇总得到在每一个输入电压下的输出电压随着负载情况的变化曲线如图7所示，由图7可以看出，在同一个输入电压下，输出电压随着负载增大而减小。且不同输入电压对应的曲线也不重合，说明在相同的负载情况下，不同输入电压下的输出电压也不同。工控机汇总得到在每一个输入电压下的输出电压纹波随着负载情况的变化曲线如图8所示，由图8可以看出，在同一个输入电压下，输出电压纹波随着负载变化而变化，且这种变化并不是单调的。不同输入电压对应的曲线几乎重合，说明在相同的负载情况下，不同输入电压下的输出电压纹波的差别不大。将汇总得到的测试数据与待测试机载变换器的测试判据进行比较，即可得到待测试机载变换器的测试结果，比如在一个实例中，将汇总得到的图5、图7和图8的测试数据与如下测试判据比较，即能得到对应的测试结果。带载情况输出电压/V输出电压纹波/V三相最大电流差/A空载26.4～32＜2.4V峰峰值/10％带载≤29.5V＜2.4V峰峰值＜0.5A50％带载27～30＜2.4V峰峰值＜1.2A100％带载≥24.16＜2.4V峰峰值＜1.2A150％带载/＜2.4V峰峰值/另外在另一个实施例中，在利用测试平台对待测试机载变换器进行电气性能自动测试之前，还会首先将测试平台与样本机载变换器进行对接，并利用样本机载变换器对测试平台进行功能验证。对测试平台进行功能验证包括：验证多代理控制单元内部线路导通阻值是否满足对应的要求、验证功率切换单元内部功率切换器件的阻值是否满足对应的要求、验证测试平台是否能识别不同型号的样本机载变换器、验证交直流程控负载实现的电流调节误差是否满足对应的要求、验证测试平台对样本机载变换器的电气性能自动测试准确率是否满足对应的要求。以保证测试平台的准确可靠工作。在本申请中，不同型号的机载变换器的预定引脚的电阻不同，可以用于区分识别机载变换器的型号。以上所述的仅是本申请的优选实施方式，本申请不限于以上实施例。可以理解，本领域技术人员在不脱离本申请的精神和构思的前提下直接导出或联想到的其他改进和变化，均应认为包含在本申请的保护范围之内。
