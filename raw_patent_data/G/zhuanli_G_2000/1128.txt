标题title
一种智慧城市监控系统及数据处理方法
摘要abst
本发明涉及数据处理技术领域，提出了一种智慧城市监控系统及数据处理方法，包括：采集河流水位数据、河水流量数据以及降雨量数据；根据河水流量数据获取河水流量变化指数、河水流量突变相对强度指数，根据河流水位数据获取河流水位平均增长速率，进而计算河水流量变化影响因子；根据河流水位数据、河水流量数据以及降雨量数据，获取数据向量，计算降雨量影响因子；根据河水流量变化影响因子、降雨量影响因子和数据向量，获取河流水位数据的初始权重，将河流水位数据的数值以及初始权重作为自适应增强算法的输入，进行水位的预测。本发明旨在解决传统水位预测方法未考虑到降雨时河流流量以及排水饱和的影响，导致水位预测不准确的问题。
权利要求书clms
1.一种智慧城市监控数据处理方法，其特征在于，该方法包括以下步骤：采集河流水位数据、河水流量数据以及降雨量数据；根据河流的流向，将相邻的两个监测点区分为上游监测点、下游监测点，获取相邻的两个监测点对应的河段；根据所述河水流量数据构建河水流量时间序列，获取河水流量突变点；根据所述河流水位数据构建河流水位时间序列；根据所述降雨量数据构建降雨量时间序列；根据上游监测点、下游监测点处的河水流量时间序列和河水流量突变点，计算河段的河水流量变化指数；根据上游监测点、下游监测点处河水流量突变点的采集时刻，计算河段的河水流量突变相对强度指数；根据监测点的河流水位时间序列，获取监测点的河流水位增长平均速率；根据所述河水流量变化指数、河水流量突变相对强度指数和河流水位增长平均速率，获取监测点的河水流量变化影响因子；根据所述河流水位时间序列、河水流量时间序列以及降雨量时间序列，获取监测点的数据向量，计算监测点的降雨量影响因子；根据所述河水流量变化影响因子、降雨量影响因子和数据向量，获取河流水位数据的初始权重；根据所有河流水位数据的数值以及初始权重，使用Adaboost自适应增强算法，输出下一时刻的河流水位，完成水位的预测。2.根据权利要求1所述的一种智慧城市监控数据处理方法，其特征在于，所述根据河流的流向，将相邻的两个监测点区分为上游监测点、下游监测点，获取相邻的两个监测点对应的河段，包括的具体方法为：根据河流的流向，将相邻的两个监测点中靠近河流源头的监测点记为上游监测点，将另一监测点记为下游监测点，将相邻两个监测点之间的河流确定为相邻的两个监测点对应的河段。3.根据权利要求1所述的一种智慧城市监控数据处理方法，其特征在于，所述根据所述河水流量数据构建河水流量时间序列，获取河水流量突变点，包括的具体方法为：将在监测点处采集到的河水流量数据按照采集的时间顺序排列，获取河水流量时间序列；设置滑动步长为第一预设长度，滑动窗口的长度为第二预设长度，对河水流量时间序列使用滑动窗口检测，当滑动窗口内新读入一个河水流量数据点时，计算滑动窗口内河水流量数据的平均值和标准差，当新读入河水流量数据点的数据值与滑动窗口内河水流量数据的平均值的差值的绝对值大于第一预设阈值时，判定新读入的河水流量数据点为河水流量突变点。4.根据权利要求1所述的一种智慧城市监控数据处理方法，其特征在于，所述根据上游监测点、下游监测点处的河水流量时间序列和河水流量突变点，计算河段的河水流量变化指数，包括的具体方法为：将上游监测点处的河水流量时间序列的第一个元素值记为上游河水流量首数据；将下游监测点处的河水流量时间序列的第一个元素值记为下游河水流量首数据；将上游河水流量首数据与下游河水流量首数据差值的绝对值记为河水流量首数据差值；将上游监测点处的河水流量时间序列的最后一个元素值记为上游河水流量尾数据；将下游监测点处的河水流量时间序列的最后一个元素值记为下游河水流量尾数据；将上游河水流量尾数据与下游河水流量尾数据差值的绝对值记为河水流量尾数据差值；将河水流量首数据差值与河水流量尾数据差值的均值记为河水流量首尾变化量；将上游监测点处的河水流量突变点的河水流量数据与下游监测点处对应的河水流量突变点的河水流量数据的差值的绝对值记为河水流量突变点的上下游河水流量突变度；将所有河水流量突变点的上下游河水流量突变度的均值记为上下游河水流量突变均值；将上下游河水流量突变均值与河水流量首尾变化量的比值记为河段的河水流量变化指数。5.根据权利要求1所述的一种智慧城市监控数据处理方法，其特征在于，所述根据上游监测点、下游监测点处河水流量突变点的采集时刻，计算河段的河水流量突变相对强度指数，包括的具体方法为：将上游监测点处河水流量突变点的采集时刻与下游监测点处对应的河水流量突变点的采集时刻的差值的绝对值记为河水流量突变点的突变强度；将所有河水流量突变点的突变强度的最大值与所有河水流量突变点的突变强度的最小值的平均值记为河段的河水流量平均突变强度；将河水流量突变点的突变强度与河段的河水流量平均突变强度的比值记为河水流量突变点的相对突变强度；将所有河水流量突变点的相对突变强度的均值记为第一均值；将第一均值与数值1的差值的绝对值记为河段的河水流量突变相对强度指数。6.根据权利要求1所述的一种智慧城市监控数据处理方法，其特征在于，所述根据监测点的河流水位时间序列，获取监测点的河流水位增长平均速率，包括的具体方法为：计算监测点处河流水位时间序列中相邻数据点之间的二阶差分值，将河流水位时间序列中所有相邻数据点之间二阶差分值的均值记为监测点的河流水位增长平均速率。7.根据权利要求1所述的一种智慧城市监控数据处理方法，其特征在于，所述根据所述河水流量变化指数、河水流量突变相对强度指数和河流水位增长平均速率，获取监测点的河水流量变化影响因子，包括的具体方法为：将河水流量突变相对强度指数的相反数记为第一相反数；将以自然常数为底，以第一相反数为指数的幂记为第一指数；将第一指数、河水流量变化指数和河流水位增长平均速率的乘积记为第一乘积；将第一乘积的归一化值记为河水流量变化影响因子。8.根据权利要求1所述的一种智慧城市监控数据处理方法，其特征在于，所述根据所述河流水位时间序列、河水流量时间序列以及降雨量时间序列，获取监测点的数据向量，计算监测点的降雨量影响因子，包括的具体方法为：计算河流水位时间序列中相邻数据点之间的一阶差分值，获取监测点的河流水位差分序列；计算河水流量时间序列中相邻数据点之间的一阶差分值，获取监测点的河水流量差分序列；计算降雨量时间序列中相邻数据点之间的一阶差分值，获取监测点的降雨量差分序列；计算河流水位差分序列与河水流量差分序列相同位置元素的差值的绝对值，获取第一绝对值序列；计算河水流量差分序列与降雨量差分序列相同位置元素的差值的绝对值，获取第二绝对值序列；计算河流水位差分序列与降雨量差分序列相同位置元素的差值的绝对值，获取第三绝对值序列；将第二绝对值序列和第三绝对值序列相同位置的元素取平均值，获取均值序列；将第一绝对值序列和均值序列相同位置的元素相乘，获取数据向量；将数据向量的极差记为第一极差；将数据向量的标准差记为第一标准差；将第一极差与第一标准差的乘积记为第二乘积；将第二乘积的相反数记为第二相反数；将以自然常数为底，以第二相反数为指数的幂记为监测点的降雨量影响因子。9.根据权利要求1所述的一种智慧城市监控数据处理方法，其特征在于，所述河流水位数据的初始权重的获取方法为：其中，为第/＞个监测点处的第/＞个河流水位数据的初始权重，/＞为归一化函数，/＞为以自然常数为底的指数函数，/＞为第/＞个监测点处的数据向量的第/＞个元素值，为第/＞个监测点的河水流量变化影响因子，/＞为第/＞个监测点的降雨量影响因子。10.一种智慧城市监控系统，其特征在于，该系统包括以下模块：数据采集模块：采集河流水位数据、河水流量数据以及降雨量数据；河流水位数据初始权重获取模块：根据河流的流向，将相邻的两个监测点区分为上游监测点、下游监测点，获取相邻的两个监测点对应的河段；根据所述河水流量数据构建河水流量时间序列，获取河水流量突变点；根据所述河流水位数据构建河流水位时间序列；根据所述降雨量数据构建降雨量时间序列；根据上游监测点、下游监测点处的河水流量时间序列和河水流量突变点，计算河段的河水流量变化指数；根据上游监测点、下游监测点处河水流量突变点的采集时刻，计算河段的河水流量突变相对强度指数；根据监测点的河流水位时间序列，获取监测点的河流水位增长平均速率；根据所述河水流量变化指数、河水流量突变相对强度指数和河流水位增长平均速率，获取监测点的河水流量变化影响因子；根据所述河流水位时间序列、河水流量时间序列以及降雨量时间序列，获取监测点的数据向量，计算监测点的降雨量影响因子；根据所述河水流量变化影响因子、降雨量影响因子和数据向量，获取河流水位数据的初始权重；预测模块：根据所有河流水位数据的数值以及初始权重，使用Adaboost自适应增强算法，输出下一时刻的河流水位，完成水位的预测。
说明书desc
技术领域本发明涉及数据处理技术领域，具体涉及一种智慧城市监控系统及数据处理方法。背景技术全球城市化进程不断加速，越来越多的人涌入城市，城市规模扩大，城市面临着巨大的管理和发展挑战，智慧城市的概念应运而生，智慧城市的建设需要各个领域的协作和资源整合，涉及城市规划、交通、能源、环境、教育、医疗等多个方面，水位监测作为智慧城市中防洪、排水系统管理的重要组成部分，对于城市的安全运行和灾害预防起着至关重要的作用。然而在对城市河流的水位监测时，突然的降雨往往会导致城市排水系统的压力增大，雨水迅速流入河流、湖泊或排水渠道，引起水位迅速上涨。传统水位预测方法未考虑到降雨时河流流量以及排水饱和的影响，导致水位预测不准确。发明内容为解决上述技术问题，本发明的目的在于提供一种智慧城市监控系统及数据处理方法，以解决传统水位预测方法未考虑到降雨时河流流量以及排水饱和的影响，导致水位预测不准确的问题，所采用的技术方案具体如下：本发明一个实施例提供了一种智慧城市监控数据处理方法，该方法包括以下步骤：采集河流水位数据、河水流量数据以及降雨量数据；根据河流的流向，将相邻的两个监测点区分为上游监测点、下游监测点，获取相邻的两个监测点对应的河段；根据所述河水流量数据构建河水流量时间序列，获取河水流量突变点；根据所述河流水位数据构建河流水位时间序列；根据所述降雨量数据构建降雨量时间序列；根据上游监测点、下游监测点处的河水流量时间序列和河水流量突变点，计算河段的河水流量变化指数；根据上游监测点、下游监测点处河水流量突变点的采集时刻，计算河段的河水流量突变相对强度指数；根据监测点的河流水位时间序列，获取监测点的河流水位增长平均速率；根据所述河水流量变化指数、河水流量突变相对强度指数和河流水位增长平均速率，获取监测点的河水流量变化影响因子；根据所述河流水位时间序列、河水流量时间序列以及降雨量时间序列，获取监测点的数据向量，计算监测点的降雨量影响因子；根据所述河水流量变化影响因子、降雨量影响因子和数据向量，获取河流水位数据的初始权重；根据所有河流水位数据的数值以及初始权重，使用Adaboost自适应增强算法，输出下一时刻的河流水位，完成水位的预测。可选的，所述根据河流的流向，将相邻的两个监测点区分为上游监测点、下游监测点，获取相邻的两个监测点对应的河段，包括的具体方法为：根据河流的流向，将相邻的两个监测点中靠近河流源头的监测点记为上游监测点，将另一监测点记为下游监测点，将相邻两个监测点之间的河流确定为相邻的两个监测点对应的河段。可选的，所述根据所述河水流量数据构建河水流量时间序列，获取河水流量突变点，包括的具体方法为：将在监测点处采集到的河水流量数据按照采集的时间顺序排列，获取河水流量时间序列；设置滑动步长为第一预设长度，滑动窗口的长度为第二预设长度，对河水流量时间序列使用滑动窗口检测，当滑动窗口内新读入一个河水流量数据点时，计算滑动窗口内河水流量数据的平均值和标准差，当新读入河水流量数据点的数据值与滑动窗口内河水流量数据的平均值的差值的绝对值大于第一预设阈值时，判定新读入的河水流量数据点为河水流量突变点。可选的，所述根据上游监测点、下游监测点处的河水流量时间序列和河水流量突变点，计算河段的河水流量变化指数，包括的具体方法为：将上游监测点处的河水流量时间序列的第一个元素值记为上游河水流量首数据；将下游监测点处的河水流量时间序列的第一个元素值记为下游河水流量首数据；将上游河水流量首数据与下游河水流量首数据差值的绝对值记为河水流量首数据差值；将上游监测点处的河水流量时间序列的最后一个元素值记为上游河水流量尾数据；将下游监测点处的河水流量时间序列的最后一个元素值记为下游河水流量尾数据；将上游河水流量尾数据与下游河水流量尾数据差值的绝对值记为河水流量尾数据差值；将河水流量首数据差值与河水流量尾数据差值的均值记为河水流量首尾变化量；将上游监测点处的河水流量突变点的河水流量数据与下游监测点处对应的河水流量突变点的河水流量数据的差值的绝对值记为河水流量突变点的上下游河水流量突变度；将所有河水流量突变点的上下游河水流量突变度的均值记为上下游河水流量突变均值；将上下游河水流量突变均值与河水流量首尾变化量的比值记为河段的河水流量变化指数。可选的，所述根据上游监测点、下游监测点处河水流量突变点的采集时刻，计算河段的河水流量突变相对强度指数，包括的具体方法为：将上游监测点处河水流量突变点的采集时刻与下游监测点处对应的河水流量突变点的采集时刻的差值的绝对值记为河水流量突变点的突变强度；将所有河水流量突变点的突变强度的最大值与所有河水流量突变点的突变强度的最小值的平均值记为河段的河水流量平均突变强度；将河水流量突变点的突变强度与河段的河水流量平均突变强度的比值记为河水流量突变点的相对突变强度；将所有河水流量突变点的相对突变强度的均值记为第一均值；将第一均值与数值1的差值的绝对值记为河段的河水流量突变相对强度指数。可选的，所述根据监测点的河流水位时间序列，获取监测点的河流水位增长平均速率，包括的具体方法为：计算监测点处河流水位时间序列中相邻数据点之间的二阶差分值，将河流水位时间序列中所有相邻数据点之间二阶差分值的均值记为监测点的河流水位增长平均速率。可选的，所述根据所述河水流量变化指数、河水流量突变相对强度指数和河流水位增长平均速率，获取监测点的河水流量变化影响因子，包括的具体方法为：将河水流量突变相对强度指数的相反数记为第一相反数；将以自然常数为底，以第一相反数为指数的幂记为第一指数；将第一指数、河水流量变化指数和河流水位增长平均速率的乘积记为第一乘积；将第一乘积的归一化值记为河水流量变化影响因子。可选的，所述根据所述河流水位时间序列、河水流量时间序列以及降雨量时间序列，获取监测点的数据向量，计算监测点的降雨量影响因子，包括的具体方法为：计算河流水位时间序列中相邻数据点之间的一阶差分值，获取监测点的河流水位差分序列；计算河水流量时间序列中相邻数据点之间的一阶差分值，获取监测点的河水流量差分序列；计算降雨量时间序列中相邻数据点之间的一阶差分值，获取监测点的降雨量差分序列；计算河流水位差分序列与河水流量差分序列相同位置元素的差值的绝对值，获取第一绝对值序列；计算河水流量差分序列与降雨量差分序列相同位置元素的差值的绝对值，获取第二绝对值序列；计算河流水位差分序列与降雨量差分序列相同位置元素的差值的绝对值，获取第三绝对值序列；将第二绝对值序列和第三绝对值序列相同位置的元素取平均值，获取均值序列；将第一绝对值序列和均值序列相同位置的元素相乘，获取数据向量；将数据向量的极差记为第一极差；将数据向量的标准差记为第一标准差；将第一极差与第一标准差的乘积记为第二乘积；将第二乘积的相反数记为第二相反数；将以自然常数为底，以第二相反数为指数的幂记为监测点的降雨量影响因子。可选的，所述河流水位数据的初始权重的获取方法为：其中，为第/＞个监测点处的第/＞个河流水位数据的初始权重，/＞为归一化函数，/＞为以自然常数为底的指数函数，/＞为第/＞个监测点处的数据向量的第/＞个元素值，/＞为第/＞个监测点的河水流量变化影响因子，/＞为第/＞个监测点的降雨量影响因子。本发明的另一个实施例提供了一种智慧城市监控系统，该系统包括数据采集模块、河流水位数据初始权重获取模块以及预测模块，其中：数据采集模块：采集河流水位数据、河水流量数据以及降雨量数据；河流水位数据初始权重获取模块：根据河流的流向，将相邻的两个监测点区分为上游监测点、下游监测点，获取相邻的两个监测点对应的河段；根据所述河水流量数据构建河水流量时间序列，获取河水流量突变点；根据所述河流水位数据构建河流水位时间序列；根据所述降雨量数据构建降雨量时间序列；根据上游监测点、下游监测点处的河水流量时间序列和河水流量突变点，计算河段的河水流量变化指数；根据上游监测点、下游监测点处河水流量突变点的采集时刻，计算河段的河水流量突变相对强度指数；根据监测点的河流水位时间序列，获取监测点的河流水位增长平均速率；根据所述河水流量变化指数、河水流量突变相对强度指数和河流水位增长平均速率，获取监测点的河水流量变化影响因子；根据所述河流水位时间序列、河水流量时间序列以及降雨量时间序列，获取监测点的数据向量，计算监测点的降雨量影响因子；根据所述河水流量变化影响因子、降雨量影响因子和数据向量，获取河流水位数据的初始权重；预测模块：根据所有河流水位数据的数值以及初始权重，使用Adaboost自适应增强算法，输出下一时刻的河流水位，完成水位的预测。本发明的有益效果是：根据河水流量数据计算河水流量变化指数、河水流量突变相对强度指数，根据河流水位数据计算河流水位平均增长速率，根据河水流量变化指数、河水流量突变相对强度指数和河流水位增长平均速率，获取河水流量变化影响因子，提高了确定河水流量变化影响因子的准确性；根据河流水位数据、河水流量数据以及降雨量数据，获取数据向量，计算降雨量影响因子，量化降雨量对河流水位的影响程度，提高了确定降雨量影响因子的准确性；根据河水流量变化影响因子、降雨量影响因子和数据向量，获取河流水位数据的初始权重，将河流水位数据的数值以及初始权重作为Adaboost自适应增强算法的输入，输出下一时刻的河流水位，完成水位的预测，通过将更大的权重分配给受到河水流量变化、降雨量影响较大的数据点，更好地捕捉降雨量和河水流量这两个关键因素对水位的影响，使得算法能够在降雨量较大或河水流量急剧变化的情况下更准确地预测水位，能够更好地适应实际情况，解决了传统水位预测方法未考虑到降雨时河流流量以及排水饱和的影响，导致水位预测不准确的问题。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明一个实施例所提供的一种智慧城市监控数据处理方法流程示意图；图2为结构框图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，其示出了本发明一个实施例所提供的一种智慧城市监控数据处理方法流程图，该方法包括以下步骤：步骤S001、采集河流水位数据、河水流量数据以及降雨量数据，并对采集到的数据进行预处理。城市内的河流往往受到城市化和人类活动的影响，如建筑物、道路和排水系统，导致大部分降水无法渗透到土壤中，而直接形成径流。径流是河流中的流量来源，当降雨量超过土壤的持水能力时，多余的水将形成径流，最终进入河流中，导致河水流量的增加。当降雨较为持续且强度适中时，径流量和河水流量相对较稳定，预测相对较为可靠。然而，在发生强降雨或持续暴雨的情况下，径流量会急剧增加，导致水位快速上涨，河流流量随之增加，可能超出原先的预测范围，使城市内的河流可能出现洪水威胁。所以在进行水位预测时，河流流量数据和降雨量数据是非常重要的参数。本实施例的目的是根据河流水位数据、河水流量数据以及降雨量数据，获取河流水位数据的初始权重，根据所有河流水位数据的数值以及初始权重，使用Adaboost自适应增强算法进行水位预测，由于河流通常较长，在对河流进行水位预测时，应该分段预测，从河流源头开始，每隔米设置一个监测点，并将监测点从1开始编号，在各个监测点处使用水位传感器、流量计、雨量计等传感器对城市内的河流水位数据、河水流量数据以及降雨量数据进行采集，/＞经验取值为1000，共设置/＞个监测点，/＞的实际取值由河流的长度确定，经验取值为100，两个相邻监测点之间构成一个河段。以时间/＞为周期对上述三个参数进行采集，在周期/＞内均匀采集/＞个数据，/＞和/＞分别取经验值/＞，/＞。实施者可以根据实际情况对/＞、/＞和/＞的取值进行更改，取值并不唯一。在采集周期内，对水位传感器、流量计和雨量计所采集的数据使用滑动平均法进行平滑处理，以减少数据中的噪声和波动。然后，对采集的数据进行时间对齐，确保三个参数的数据在相同时间点上对应。对于缺失的数据，采用线性插值技术填补。最后，进行数据归一化处理，将三个参数的数据范围映射到相同的尺度，确保后续分析的准确性和可比性，完成对采集数据的预处理。至此，获取到河流水位数据、河水流量数据以及降雨量数据。步骤S002、根据河水流量数据计算河水流量变化指数、河水流量突变相对强度指数，根据河流水位数据计算河流水位平均增长速率，综合河水流量变化指数、河水流量突变相对强度指数和河流水位增长平均速率，获取河水流量变化影响因子。将在各个监测点处周期内采集到的河流水位数据按照采集的时间顺序排列，构建河流水位时间序列，将在各个监测点处周期/＞内采集到的降雨量数据按照采集的时间顺序排列，构建降雨量时间序列，将在各个监测点处周期/＞内采集到的河水流量数据按照采集的时间顺序排列，构建河水流量时间序列。需要说明的是，由于河流通常较长，在对河流进行水位预测时，应该分段预测。具体的，将相邻的两个监测点之间确定为一个河段，即第个监测点和第/＞个监测点之间构成第/＞个河段，为了将两个监测点进行区分，根据河流的流向，将相邻的两个监测点中靠近河流源头的监测点记为上游监测点，将另一监测点记为下游监测点。需要说明的是，在强暴雨发生时，降雨量剧增，可能出现局部性降雨暴发、暴雨集中等情况，可能导致局部性洪水和城市排水系统超负荷运行，会对预测结果产生较大的影响。具体的，设置滑动步长为1，滑动窗口的长度为，/＞取经验值2，对周期/＞内获取的河水流量时间序列使用滑动窗口检测，当滑动窗口内新读入一个河水流量数据点时，计算滑动窗口内河水流量数据的平均值和标准差；设定阈值，当新读入河水流量数据点的数据值与滑动窗口内河水流量数据的平均值的差值的绝对值超过阈值/＞时，则判定新读入的河水流量数据点为一个河水流量突变点，阈值/＞的经验取值为滑动窗口内河水流量数据的标准差的三倍。进一步需要说明的是，由于两个传感器相距距离较远，受降雨量、环境以及排水性能的影响，上游监测点和下游监测点处的河水流量突变点的个数可能不同，如果选择不对齐的河水流量突变点进行计算，可能会导致数据的不一致和不准确，影响最终结果的可靠性。具体的，设第个监测点处河水流量突变点个数为/＞，取上游监测点和下游监测点处河水流量突变点个数的最小值为对应河段的突变点数目，即第/＞个河段的突变点数目，当上游监测点、下游监测点处河水流量突变点个数大于突变点数目时，则仅取前/＞个河水流量突变点进行分析，将靠后的多余的河水流量突变点舍去，不继续进行下述分析。需要说明的是，统一上游监测点和下游监测点处的河水流量突变点的个数可使上游的河水流量突变点和下游的河水流量突变点一一对应，减少由于突变点数目不同而引起的计算误差。进一步的，由于上游监测点和下游监测点所处位置不同，两组传感器放置的位置不同，可以根据两组传感器所测河水流量数据的差值获取上下游河水流量的变化情况。具体的，第个监测点处的河水流量时间序列为/＞，序列元素/＞表示在第/＞个监测点处周期/＞内采集的第/＞个河水流量数据，/＞取值范围为1到/＞之间的整数，第/＞个河段的河水流量变化指数/＞可以表示如下：其中，为第/＞个河段对应的上游监测点与下游监测点在周期/＞内采集的第/＞个河水流量数据之差的绝对值，其中，/＞的取值范围为1到/＞之间的整数，/＞表示在第/＞个监测点处周期/＞内采集的第/＞个河水流量数据，/＞表示在第/＞个监测点处周期/＞内采集的第/＞个河水流量数据；为第/＞个河段的河水流量变化指数，/＞表示第/＞个监测点处的第/＞个河水流量突变点在河水流量时间序列中的序号，/＞为第/＞个河段对应的上游监测点与下游监测点的第个河水流量突变点的河水流量数据之差的绝对值，/＞为第/＞个河段的突变点数目，/＞为第个河段对应的上游监测点与下游监测点在周期/＞内采集的第一个河水流量数据之差的绝对值，/＞为第/＞个河段对应的上游监测点与下游监测点在周期/＞内采集的最后一个河水流量数据之差的绝对值。需要说明的是，为第/＞个河段对应的上游监测点与下游监测点在周期/＞内河水流量突变点元素值变化量的平均值，代表了第/＞个河段周期/＞内上下游河水流量突变的平均程度。/＞代表了第/＞个河段周期/＞内的上下游河水流量变化。通过比较上游监测点与下游监测点在河水流量突变点的流量变化和整体的流量变化，从而计算用于衡量上下游河水流量的变化程度。河水流量突变点元素值变化量的平均值与周期/＞内上下游河水流量变化的比值可以反映出上下游河水流量突变的均匀程度。这个比值越大，意味着突变点处的流量差异相对于整体流量变化更明显，可能存在水流积累的情况。反之，比值较小则说明整体流量变化更均匀。需要说明的是，由于河段对应的上游监测点与下游监测点在周期内的河水流量突变点一一对应，而河流的上游受降雨的影响更快，降雨形成的地表径流更快聚集到上游河段，上游河段水位变化需要一定时间才能影响到下游。尤其对于大河流，水流传导需要更长时间。然而随着暴雨以及城市排水系统的饱和，上游流量的变化对下游影响更快。在水流速度急剧变化的地区，如果降雨量较大或其他因素导致水量增加，可能会更容易发生洪水。可以根据上游监测点与下游监测点在周期/＞内的河水流量突变点采集时刻的差值获取河水流量的突变强度。具体的，第个河段的第/＞个河水流量突变点的突变强度/＞可以表示为，其中，/＞表示第/＞个监测点处的第/＞个河水流量突变点在河水流量时间序列中的序号，代表采集时刻，/＞表示第/＞个监测点处的第/＞个河水流量突变点在河水流量时间序列中的序号。当上游监测点与下游监测点在周期/＞内的河水流量突变点采集时刻的差值越大时，河水流量突变点的突变强度越高。进一步的，获取第个河段的所有河水流量突变点的突变强度，计算第/＞个河段的所有河水流量突变点的突变强度的最大值、最小值，第/＞个河段的河水流量平均突变强度可以表示为/＞，其中，/＞为第/＞个河段的所有河水流量突变点的突变强度的最大值，/＞为第/＞个河段的所有河水流量突变点的突变强度的最小值。第/＞个河段的河水流量突变相对强度指数/＞可以表示如下：其中，表示第/＞个河段的河水流量突变相对强度指数，/＞为第/＞个河段的第/＞个河水流量突变点的突变强度，/＞为第/＞个河段的突变点数目，/＞表示第/＞个河段的河水流量平均突变强度。需要说明的是，当河段的各个河水流量突变点的突变强度与河段的河水流量平均突变强度的比值越大时，说明整个周期内的河水流量突变强度存在越小的波动性，河水流量突变相对强度指数越大，发生洪水的可能性越低。进一步需要说明的是，对于河流水位数据，若由于暴雨、排水等原因造成水位变化，则水位变化强度可以很好的反映洪水风险。具体的，计算各监测点处河流水位时间序列中相邻数据点之间的二阶差分值，并将所有相邻数据点之间的二阶差分值求均值，得到河流水位增长平均速率。需要说明的是，通过计算二阶差分均值，我们可以更直接地观察不同数据点之间的变化情况。河流水位增长平均速率的值越大，表示水位增长的越快；河流水位增长平均速率的值越小，表示水位增长的越缓慢或趋于平稳。进一步需要说明的是，由于河流水位增长速率的加快会直接导致河水流量的增加，上下游两处的河道流量截面面积差异、河道分支影响或者河道形状影响也会影响到河水流量的变化，当河水流量因为水位的增长发生变化时，应该给予河水流量更高的权重。可以根据河流水位平均增长速率、河水流量变化指数以及河水流量突变相对强度指数，获取河水流量变化影响因子。具体的，第个监测点处的河水流量变化影响因子/＞可以表示如下：其中，为第/＞个监测点处的河水流量变化影响因子，/＞为归一化函数，/＞为第/＞个监测点处的河流水位增长平均速率，/＞为第/＞个河段的河水流量变化指数，/＞为第/＞个河段的河水流量突变相对强度指数，/＞为以自然常数为底的指数函数。需要说明的是，当河流水位增长平均速率越大时，河水流量变化影响会越大，河水流量变化影响因子越大；当河水流量变化指数越大时，上游和下游流量变化差距增大会导致整体流量变化对水位的影响更加明显，河水流量变化影响因子越大；当河水流量突变相对强度指数越大时，整个周期内的河水流量突变强度存在越大的波动性，发生洪水的可能性越低，河水流量变化影响因子越小。至此，获取到河水流量变化影响因子，用以量化河水流量对河流水位的影响程度。步骤S003、根据河流水位数据、河水流量数据以及降雨量数据，获取数据向量，计算降雨量影响因子。需要说明的是，降雨量也是影响水位变化的主要因素之一，当降雨量较大时，地表径流增加，导致河流流量增加，河流水位上涨，然而降雨量的增加和水位的提高之间会有一个时间缓冲，直到土壤饱和并形成地表径流，进而导致水位显著上涨。具体的，计算河流水位时间序列中相邻数据点之间的一阶差分值，获取河流水位差分序列，计算河水流量时间序列中相邻数据点之间的一阶差分值，获取河水流量差分序列/＞，计算降雨量时间序列中相邻数据点之间的一阶差分值，获取降雨量差分序列。根据河流水位差分序列、河水流量差分序列和降雨量差分序列，获取数据向量，用以表示降雨量在各个时刻对河流水位、河水流量的影响。数据向量的元素值可以表示如下：其中，为第/＞个监测点处的数据向量的第/＞个元素值，/＞为第/＞个监测点处的河流水位差分序列的第/＞个元素值，/＞为第/＞个监测点处的河水流量差分序列的第/＞个元素值，/＞为第/＞个监测点处的降雨量差分序列的第/＞个元素值。第个监测点处的降雨量影响因子/＞可以表示如下：其中，为第/＞个监测点处的降雨量影响因子，/＞为以自然常数为底的指数函数，/＞为第/＞个监测点处数据向量所有元素值的最大值，/＞为第/＞个监测点处数据向量所有元素值的最小值，/＞为第/＞个监测点处数据向量所有元素值的标准差。需要说明的是，由于数据向量中的元素值可以反映不同时间点河流水位变化、河流流量变化以及降雨量变化之间的差异程度，降雨量影响因子的大小可以代表降雨量对水位的影响程度。河流水位差分序列中的各个元素值与对应降雨量差分序列中的元素值差值的绝对值相差越小、河水流量差分序列中的各个元素值与对应降雨量差分序列中的元素值差值的绝对值相差越小、河流水位差分序列中的各个元素值与对应河水流量差分序列中的元素值差值的绝对值相差越小时，说明河流水位、河水流量随着降雨量的变化越不具有规律性，河流水位、河水流量的变化越可能是受到其他因素的影响，降雨量对河流水位、河水流量的影响程度越小，即数据向量的各个元素值相差越大时，越大，/＞越大，降雨量影响因子越小。至此，获取到降雨量影响因子，用以量化降雨量对河流水位的影响程度。步骤S004、根据河水流量变化影响因子、降雨量影响因子和数据向量，获取河流水位数据的初始权重，根据所有河流水位数据的数值以及初始权重，使用Adaboost自适应增强算法，输出下一时刻的河流水位，完成水位的预测。需要说明的是，Adaboost是一种集成学习算法，用于提高弱分类器组成的整体分类性能，原始算法通常将每个样本的权重初始化为，其中/＞为监测点的个数，/＞为周期/＞内采集的河流水位数据的个数，由于传统水位预测方法未考虑到降雨时河流流量以及降雨排水饱和的影响，导致无法准确预测水位，在此根据不同因素对水位的影响程度对河流水位数据的初始权重做出改进，提高水位预测的准确性。具体的，第个监测点处周期/＞内采集的第/＞个河流水位数据的初始权重/＞可以表示如下：其中，是第/＞个监测点处周期/＞内采集的第/＞个河流水位数据的初始权重，为归一化函数，/＞为以自然常数为底的指数函数，/＞为第/＞个监测点处的数据向量的第/＞个元素值，/＞为第/＞个监测点处的河水流量变化影响因子，/＞为第/＞个监测点处的降雨量影响因子。值得一提的是，在采集到的个河流水位数据中，第/＞个数据不参与河流水位的预测。改进后的权重可以根据降雨量以及河流流量的影响重新分配每个河流水位数据的初始权重，每个河流水位数据受到河水流量影响程度和降雨量影响程度越大，则赋予该河流水位数据的初始权重越大，通过将更大的权重分配给对水位影响较大的数据点，可以更好地捕捉这些因素的影响，从而提高水位预测的精确度，使得Adaboost自适应增强算法可以更多地考虑降雨量和河水流量这两个关键因素对水位的影响，使得算法能够在降雨较大或河水流量急剧变化的情况下更准确地预测水位，能够更好地适应实际情况，解决了传统水位预测方法未考虑到降雨时河流流量以及排水饱和的影响，导致水位预测不准确的问题。进一步需要说明的是，对河流水位数据的初始权重设定完成之后，设置迭代次数，/＞取经验值20。Adaboost自适应增强算法可以与各种不同类型的弱分类器结合，如决策树、随机森林等等，设置G个弱分类器组合，G取经验值10，弱分类器的种类可以是一样的，也可以是不一样的，具体组合种类和个数实施者可以根据实际情况自行调整，并不唯一。根据河流水位数据的初始权重分布训练一个弱分类器，根据某一时刻的河流水位数据，对下一时刻的河流水位进行预测，获取下一时刻的预测河流水位，当下一时刻的预测河流水位与当前时刻河流水位的差值大于0时，则设置预测标签为1，表示河流水位为上升趋势，否则设置预测标签为0，表示河流水位为下降趋势；当下一时刻的实际河流水位与当前时刻河流水位的差值大于0时，则设置实际标签为1，否则设置实际标签为0，当预测标签与实际标签相同时，则分类正确，否则分类错误，将分类错误的河流水位数据的个数与河流水位数据总个数的比值，记为该弱分类器的分类误差率。计算该弱分类器的权重并更新样本的权重分布，增加被错误分类样本的权重，减少被正确分类样本的权重直到达到迭代次数，根据弱分类器的权重进行加权组合，得到强分类器，对强分类器输入各个监测点的河流水位数据的数值以及初始权重，输出下一时刻的河流水位，完成对城市内河流水位的预测。至此，获取到所有监测点下一时刻的河流水位，完成河流水位的预测。请参阅图2，其示出了本发明一个实施例提供的一种智慧城市监控系统的结构框图，该系统包括以下模块：数据采集模块S101：采集河流水位数据、河水流量数据以及降雨量数据；河流水位数据初始权重获取模块S102：根据河流的流向，将相邻的两个监测点区分为上游监测点、下游监测点，获取相邻的两个监测点对应的河段；根据所述河水流量数据构建河水流量时间序列，获取河水流量突变点；根据所述河流水位数据构建河流水位时间序列；根据所述降雨量数据构建降雨量时间序列；根据上游监测点、下游监测点处的河水流量时间序列和河水流量突变点，计算河段的河水流量变化指数；根据上游监测点、下游监测点处河水流量突变点的采集时刻，计算河段的河水流量突变相对强度指数；根据监测点的河流水位时间序列，获取监测点的河流水位增长平均速率；根据所述河水流量变化指数、河水流量突变相对强度指数和河流水位增长平均速率，获取监测点的河水流量变化影响因子；根据所述河流水位时间序列、河水流量时间序列以及降雨量时间序列，获取监测点的数据向量，计算监测点的降雨量影响因子；根据所述河水流量变化影响因子、降雨量影响因子和数据向量，获取河流水位数据的初始权重；预测模块S103：根据所有河流水位数据的数值以及初始权重，使用Adaboost自适应增强算法，输出下一时刻的河流水位，完成水位的预测。需要说明的是，本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
