标题title
一种包装领域的盒型3D预览系统及其方法
摘要abst
本申请涉及一种包装领域的盒型3D预览系统及其方法，属于包装盒设计技术领域，解决了现有技术中生成的3D预览模型不够精准的技术问题。包装领域的盒型3D预览系统包括：预处理模块，用于从模型库中获取初始模型，并转换为对应的2D初始图像；设计模块，用于获取所述2D初始图像，用户通过所述设计模块中的设计工具对所述2D初始图像进行设计，以生成2D设计图像；映射模块，包括获取单元、线性关系建立单元、求解单元和模型生成单元，用于将2D设计图像转换为3D预览模型。本申请为用户提供了多样、方便的设计工具，实现了将用户设计的2D图像精准生成为3D预览模型。
权利要求书clms
1.一种包装领域的盒型3D预览系统，其特征在于，包括：预处理模块，用于从模型库中选定初始模型，并获取所述初始模型对应的2D初始图像；设计模块，用于获取所述2D初始图像，基于设计元素生成2D设计图像；映射模块，包括获取单元、线性关系建立单元、求解单元和模型生成单元；所述获取单元获取所述初始模型和所述2D设计图像；所述线性关系建立单元将所述初始模型划分为多个相邻的三角形，根据每个三角形在所述初始模型和所述2D设计图像中的坐标对应关系建立相应的线性关系；所述求解单元根据所述线性关系，求解出所述初始模型的至少部分顶点在所述2D设计图像中的坐标；所述模型生成单元根据所述坐标和所述2D设计图像生成3D预览模型。2.根据权利要求1所述的包装领域的盒型3D预览系统，其特征在于，在建立线性关系之前先选取所述初始模型中的两个顶点作为参考点，并固定所述参考点在所述2D设计图像中的位置。3.根据权利要求1所述的包装领域的盒型3D预览系统，其特征在于，所述映射模块还设有能量函数，用于衡量所述线性关系的畸变程度，所述能量函数如下所示：；其中，表示能量函数，/＞表示积分，/＞和/＞分别表示三角形在3D空间和2D空间中的变换，/＞和/＞分别表示变换的模长。4.根据权利要求3所述的包装领域的盒型3D预览系统，其特征在于，所述映射模块还包括微调单元，当所述能量函数大于预设阈值/＞时，所述微调单元通过调整三角形在3D空间和2D空间中的变换以使所述能量函数/＞小于所述预设阈值/＞，减小所述线性关系的畸变程度。5.根据权利要求1所述的包装领域的盒型3D预览系统，其特征在于，所述初始模型还能够是用户上传的自行设计的模型。6.根据权利要求1所述的包装领域的盒型3D预览系统，其特征在于，所述预览系统还包括渲染模块，用于供用户对所述3D预览模型进行渲染。7.根据权利要求6所述的包装领域的盒型3D预览系统，其特征在于，所述渲染模块包括灯光模拟单元、材质模拟单元和工艺效果模拟单元。8.根据权利要求1所述的包装领域的盒型3D预览系统，其特征在于，所述预览系统还包括后处理模块，用于供用户对所述3D预览模型的外观进行修改。9.根据权利要求1所述的包装领域的盒型3D预览系统，其特征在于，所述预览系统还包括反馈模块；所述反馈模块用于收集用户实时反馈的意见和建议，设计师收到用户反馈后，对所述3D预览模型进行相应调整。10.一种包装领域的盒型3D预览方法，其特征在于，权利要求1至9任一项所述的预览系统，所述方法包括如下步骤：预处理步骤：从模型库中选定初始模型，并获取所述初始模型对应的2D初始图像；设计步骤：获取所述2D初始图像，基于设计元素生成2D设计图像；映射步骤：获取所述初始模型和所述2D设计图像；将所述初始模型划分为多个相邻的三角形，根据每个三角形在所述初始模型和所述2D设计图像中的坐标对应关系建立相应的线性关系；根据所述线性关系求解出所述初始模型的至少部分顶点在所述2D设计图像中的坐标；根据所述坐标和所述2D设计图像生成3D预览模型。
说明书desc
技术领域本申请属于包装盒设计技术领域，具体而言涉及一种包装领域的盒型3D预览系统及其方法。背景技术新的消费浪潮为包装产业带来显著变化，传统消费品牌为满足市场需求，现在有80%的产品包装需要重新设计，且迭代频率提升。常见的包装盒设计采用平面设计，然后进行样品生产组装，平面设计方法不够立体、直观，样品不符合需求时，必须重新进行平面设计和样品生产组装，耗时耗力；而现有的包装盒3D预览技术中仅通过模型的棱边进行简单映射，存在生成的3D预览模型不够精准的问题。发明内容鉴于上述的分析，本发明实施例旨在提供一种包装领域的盒型3D预览系统及其方法，用以解决现有的包装盒3D预览技术中生成的3D预览模型不够精准的技术问题。本发明的目的是这样实现的：一方面，提供一种包装领域的盒型3D预览系统，包括：预处理模块，用于从模型库中选定初始模型，并获取所述初始模型对应的2D初始图像；设计模块，用于获取所述2D初始图像，基于设计元素生成2D设计图像；映射模块，包括获取单元、线性关系建立单元、求解单元和模型生成单元；所述获取单元获取所述初始模型和所述2D设计图像；所述线性关系建立单元将所述初始模型划分为多个相邻的三角形，根据每个三角形在所述初始模型和所述2D设计图像中的坐标对应关系建立相应的线性关系；所述求解单元根据所述线性关系，求解出所述初始模型的至少部分顶点在所述2D设计图像中的坐标；所述模型生成单元根据所述坐标和所述2D设计图像生成3D预览模型。进一步地，在建立线性关系之前先选取所述初始模型中的两个顶点作为参考点，并固定所述参考点在所述2D设计图像中的位置。进一步地，所述映射模块还设有能量函数，用于衡量所述线性关系的畸变程度，所述能量函数如下所示：其中，表示能量函数，/＞表示积分，/＞和/＞分别表示三角形在3D空间和2D空间中的变换，/＞和/＞分别表示变换的模长。进一步地，所述映射模块还包括微调单元，当所述能量函数大于预设阈值/＞时，所述微调单元通过调整三角形在3D空间和2D空间中的变换以使所述能量函数/＞小于所述预设阈值/＞，减小所述线性关系的畸变程度。进一步地，所述初始模型还能够是用户上传的自行设计的模型。进一步地，所述预览系统还包括渲染模块，用于供用户对所述3D预览模型进行渲染。进一步地，所述渲染模块包括灯光模拟单元、材质模拟单元和工艺效果模拟单元。进一步地，所述预览系统还包括后处理模块，用于供用户对所述3D预览模型的外观进行修改。进一步地，所述预览系统还包括反馈模块；所述反馈模块用于收集用户实时反馈的意见和建议，设计师收到用户反馈后，对所述3D预览模型进行相应调整。另一方面，提供一种包装领域的盒型3D预览方法，包括如下步骤：预处理步骤：从模型库中选定初始模型，并获取所述初始模型对应的2D初始图像；设计步骤：获取所述2D初始图像，基于设计元素生成2D设计图像；映射步骤：获取所述初始模型和所述2D设计图像；将所述初始模型划分为多个相邻的三角形，根据每个三角形在所述初始模型和所述2D设计图像中的坐标对应关系建立相应的线性关系；根据所述线性关系求解出初始模型的至少部分顶点在所述2D设计图像中的坐标；根据所述坐标和所述2D设计图像生成3D预览模型。与现有技术相比，本发明至少可实现如下有益效果之一： a）本发明提供的包装领域的盒型3D预览系统，通过将初始模型划分为多个三角形，根据每个三角形在初始模型和2D设计图像中的坐标对应关系建立相应的线性关系，求解出所述初始模型的至少部分顶点在2D设计图像中的坐标，再生成3D预览模型，实现了将用户设计的2D图像精准生成3D预览模型。b）本发明提供的包装领域的盒型3D预览系统，通过微调单元适当调整能量函数，减小了线性关系的畸变程度。c）本发明提供的包装领域的盒型3D预览系统，求解线性关系时，通过优化单元消除坐标重叠现象，确保了系统能够精准生成3D预览模型。附图说明为了更清楚地说明本说明书实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本说明书实施例中记载的一些实施例，对于本领域普通技术人员来讲，还可以根据这些附图获得其他的附图。图1为本发明提供的包装领域的盒型3D预览系统的结构示意图1；图2为本发明提供的包装领域的盒型3D预览系统的结构示意图2；图3为本发明提供的包装领域的盒型3D预览方法的流程图。附图标记： 1-预处理模块；2-设计模块；3-映射模块；301-获取单元；302-线性关系建立单元；303-微调单元；304-求解单元；305-优化单元；306-模型生成单元；4-渲染模块；401-灯光模拟单元；402-材质模拟单元；403-工艺效果模拟单元；5-后处理模块；6-反馈模块。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。需要说明的是，在不冲突的情况下，本公开中的实施方式及实施方式中的特征可以相互组合、分离、互换和/或重新布置。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。实施例1 本发明的一个具体实施例，如图1-2所示，公开了一种包装领域的盒型3D预览系统，包括：预处理模块1，用于从模型库中选定初始模型，并获取所述初始模型对应的2D初始图像；设计模块2，用于获取所述2D初始图像，基于设计元素生成2D设计图像；映射模块3，包括获取单元301、线性关系建立单元302、求解单元304和模型生成单元306；所述获取单元301获取所述初始模型和所述2D设计图像；所述线性关系建立单元302将所述初始模型划分为多个相邻的三角形，根据每个三角形在所述初始模型和所述2D设计图像中的坐标对应关系建立相应的线性关系；所述求解单元304根据所述线性关系，求解出所述初始模型的至少部分顶点在所述2D设计图像中的坐标；所述模型生成单元306根据所述坐标和所述2D设计图像生成3D预览模型。实施时，模型库中提供了多种不同形状的3D初始模型，以及对应的2D初始图像。用户选定一个初始模型，由预处理模块1将对应的2D初始图像呈现给客户；设计模块2获取2D初始图像，为用户提供设计工具，用户利用设计工具对2D初始图像进行设计，并根据设计元素生成2D设计图像；映射模块3中的获取单元301获取初始模型和2D设计图像，线性关系建立单元302将初始模型的每个面划分为多个相邻的三角形，根据每个三角形在初始模型和2D设计图形中的坐标对应关系建立相应的线性关系，求解单元304对线性关系进行求解，得到初始模型的至少部分顶点在2D设计图像中的坐标，根据求解单元304得到的坐标将2D设计图形生成为3D预览模型。与现有技术相比，本实施例提供的预览系统，通过将初始模型划分为多个三角形，根据每个三角形在初始模型和2D设计图像中的坐标对应关系建立相应的线性关系，求解出初始模型的至少部分顶点在2D设计图像中的坐标，再生成3D预览模型，实现了将用户设计的2D图像精准生成3D预览模型。示例性的，本实施例中的所述预处理模块1提供了丰富的盒型模型库，包括但不限于常见的飞机盒、天地盖、抽屉盒等盒型，基于这些盒型所述预览系统提供了二次定义的常用行业的设计模型，比如酒水饮料、食品保鲜、电子数码等不同行业的模板。用户可以根据选择模型库中的内容进行二次编辑，也可以上传自行设计的模型作为所述初始模型，所述设计模块2将用户自行设计的初始模型转换为2D初始图像，并保存在个人库中以供后续使用。进一步地，本实施例中的所述设计模块2提供的设计工具包括但不限于图形元素操作工具、图像和图形导入工具、文本编辑工具、颜色调节工具、图层管理工具、元素库和辅助设计工具，用户可以按照自身需求利用这些工具对2D初始图像进行多样性设计。示例性的，所述图形元素操作工具提供如选择、移动、缩放和旋转等基础工具，使用户能够自由摆放和组织元素；同时增加对齐、分布、组合、裁切和阴影效果，帮助用户实现更复杂的设计效果；所述图像和图形导入工具允许用户从本地计算机或在线库导入图像和图形，并提供基本的图片编辑功能，如亮度、对比度、饱和度调整，以及裁剪和旋转；所述文本编辑工具提供丰富的字体库选择，并支持用户上传自定义字体；提供文本编辑工具，如字体大小、颜色、行距、字间距、对齐等；所述颜色调节工具提供调色板，允许用户创建和保存自定义颜色和渐变；所述图层管理工具提供图层面板，用户可以创建、重命名、排序、隐藏和锁定图层，并支持图层混合模式和透明度调整；所述元素库提供常用的设计元素，如形状、图标、边框等，并支持用户创建个人资产库，保存常用的设计元素、颜色、文本样式等；所述辅助设计工具提供辅助线和网格，帮助用户精确放置和对齐设计元素，并提供设计尺寸和距离的实时标注功能。本实施例中，所述映射模块3中配备有合理的映射算法，能够将所述2D设计图像映射到所述初始模型上，所述映射算法主要包括固定参考点、建立线性关系、求解线性关系和模型生成四个步骤。具体而言，所述映射模块3选取所述初始模型中的两个顶点作为参考点，并固定所述参考点在所述2D设计图像中的位置，以在平面发生平移或旋转时，确保建立的线性关系的准确性。本实施例中，所述映射模块3还设有能量函数，用于衡量所述线性关系的畸变程度；所述能量函数的表示如下：其中，表示能量函数，/＞表示积分，/＞和/＞分别表示三角形在3D空间和2D空间中的变换，/＞和/＞分别表示变换的模长。本实施例中，所述映射模块3还包括微调单元303，当所述能量函数大于预设阈值/＞时，所述微调单元303通过调整三角形在3D空间和2D空间中的变换以使所述能量函数/＞小于所述预设阈值/＞，从而减小所述线性关系的畸变程度。本实施例中，所述映射模块3还包括优化单元305，所述求解单元304得出的所述初始模型的至少部分顶点在所述2D设计图像中的坐标可能会出现重叠现象，所述优化单元305如果检测到有坐标重叠，则将重叠的坐标反馈回所述线性关系建立单元302，所述线性关系建立单元302根据重叠的坐标，对所述线性关系进行适当调整和删除，所述求解单元304再对调整的线性关系重新求解，直至消除坐标重叠现象，进一步确保了生成的3D预览模型的精准性。本实施例中，所述预览系统还包括纹理应用模块，用于将所述2D设计图像中的颜色和纹理信息提取出来，并应用于所述3D预览模型上。本实施例中，所述预览系统还包括渲染模块4，用于供用户对所述3D预览模型进行渲染；所述渲染模块4包括灯光模拟单元401、材质模拟单元402和工艺效果模拟单元403。示例性的，可以利用图形硬件加速，实现高分辨率、真实光影和细节丰富的渲染效果，支持全局光照、反射、折射和其他物理光学特性，为用户提供接近真实的视觉效果。具体而言，所述灯光模拟单元401利用现有技术为用户提供例如自然暖阳光、顶射聚焦、冷暖光、清冷光、白天高光和白天柔光等效果；所述材质模拟单元402为用户提供例如纸质、塑料、金属、玻璃等效果，并支持用户自由调整材质的光泽度、粗糙度、透明度和反光度等物理属性，以及纹理、颗粒和水印等复杂材质效果；所述工艺效果模拟单元403提供烫金工艺模拟、击凸与凹印工艺模拟和局部UV模拟；所述烫金工艺模拟使用户选择特定的区域或图案进行烫金模拟，在所述3D预览模型中，这些区域会呈现出金属的光泽和反射效果；所述击凸与凹印工艺模拟使得模拟区域凸起或凹陷，形成真实的立体效果；所述局部UV模拟通常用于增强特定区域的光泽，使其与周围区域形成对比。这些效果通常在传统2D设计中很难直观地呈现，通过渲染模块提供的工艺效果模拟，用户可以得到一个接近真实的效果预览。示例性的，上述工艺效果模拟通过置换贴图方法实现，能够直接修改模型的几何形状，根据纹理信息对模型的顶点进行实际的移位。置换贴图通常是灰度图像，其中每个像素的亮度代表在模型上相应位置的几何置换量。明亮的像素表示正置换，暗的像素表示负置换。具体而言，所述置换贴图的步骤如下： 创建高质量模型 使用3D建模软件为目标物体创建一个高分辨率模型。生成置换贴图 通过比较高分辨率模型和低分辨率模型之间的差异来生成置换贴图。该贴图通常是灰度的，其中白色表示最大正置换，黑色表示最大负置换，灰色表示没有置换。准备低质量模型 为了有效地使用置换贴图，需要确保低质量模型有足够的顶点密度。虽然不需要像高分辨率模型那样高，但是它需要有足够的细节来支持置换。确保模型有一个良好的纹理贴图坐标布局，这样置换贴图可以正确地映射到表面。应用置换贴图 在渲染引擎或3D应用程序中，将置换贴图应用到低分辨率模型上。在每个顶点或每个像素处，根据置换贴图的值来调整顶点的位置。基于顶点的置换通常在顶点着色器中执行，而基于像素的置换在细分着色器中执行，它会动态地添加更多的几何形状。细分 细分技术，用于生成高分辨率和平滑的表面。它通过迭代地细分模型的多边形，使其逐渐接近一个连续的曲面。具体而言，细分技术的工作原理与步骤如下： 开始模型，通常从一个粗糙或低分辨率的多边形网格开始； 细分规则，应用特定的细分规则，例如Catmull-Clark或Loop细分。这些规则定义了如何将每个多边形细分成更小的部分。迭代细分，通过多次迭代地应用细分规则，模型的分辨率和平滑度都会逐渐增加； 限制曲面，在多次细分后，网格将趋近于一个连续的曲面，称为限制曲面； 适应性细分，为了效率，通常不会均匀地细分整个模型。例如，只在模型的某些部分或相机视角近的部分使用更高的细分级别。法线计算，由于细分会更改顶点位置，因此需要重新计算法线以正确渲染模型。其中，Catmull-Clark细分规则包括：对于每个四边形面，计算其所有顶点的平均位置，这个平均位置成为新的“面点”；对于网格中的每条边，计算该边的两个端点和与该边相邻的两个面的面点的平均位置，这个平均位置成为新的“边点”；对于原始网格中的每个顶点，新位置是基于相邻的顶点位置、相邻边的边点和相邻面的面点来计算的。新位置由以下部分组成：/相邻面数原顶点位置+1/相邻面数的和/＞相邻面的面点总和+1/相邻面数的和/＞相邻边的边点总和；使用新计算的面点、边点和顶点的更新位置来创建新的四边形，每个原始的四边形都被细分为四个新的四边形。Loop细分规则包括：对于每条边，新的边点位置由以下计算得出：；对于每个原始顶点，其新位置根据它的邻居数量和位置来确定。如果顶点有n个邻居，新的顶点位置为：/＞原顶点位置所有邻居位置的总和，其中/＞的值根据邻居的数量n来确定。对于n=3，/＞=3/16；对于n＞3，/＞；使用新计算的边点和顶点的更新位置来创建新的三角形，每个原始的三角形都被细分为四个新的三角形。本实施例中，所述预览系统还包括后处理5模块，用于供用户对3D预览模型的外观进行修改。具体而言，生成3D预览模型后，所述后处理模块5为用户提供颜色、标签、形状等编辑工具，用户可以在3D预览模型上进行编辑并查看编辑后的2D效果。在某些实施例中，所述预览系统还提供简单的3D动画与过渡效果，如旋转、缩放、移动、淡入、淡出和滑动，以增强3D预览的交互体验。本实施例中，所述预览系统还包括反馈模块6，用于收集用户实时反馈的意见和建议，设计师收到用户反馈后，对所述3D预览模型进行相应调整。实施时，所述反馈模块6通过设置一个对话框，供用户提出意见和建议，所述反馈模块6实时将用户的反馈发送给设计师，使设计师按照用户的需求对所述3D预览模型进行相应调整。每次调整后，系统会自动保存一个新版本，设计师可以在不同版本间进行切换，对比调整前后的效果，也可以选择将几个版本的3D预览分享给团队或用户群体，收集他们对不同版本的评价，以确定最佳设计。在某些实施例中，所述反馈模块6设置有反馈统计单元，设计师可以看到最常被提及的问题点、最受欢迎的设计元素等。对于文字评论，系统可以对其进行情感分析，为设计师提供整体上用户对设计的正面或负面反馈的比率。通过结合实时3D预览与用户反馈，设计师不仅能更迅速地优化设计，还能确保设计更加符合目标群体的期望和需求。实施例2 本发明的又一具体实施例，如图3所示，公开了一种包装领域的盒型3D预览方法，包括以下步骤：预处理步骤：从模型库中选定初始模型，并获取所述初始模型对应的2D初始图像；设计步骤：获取所述2D初始图像，基于设计元素生成2D设计图像；映射步骤：获取所述初始模型和所述2D设计图像；将所述初始模型划分为多个相邻的三角形，根据每个三角形在所述初始模型和所述2D设计图像中的坐标对应关系建立相应的线性关系；检测能量函数是否大于预设阈值/＞，若大于，调整三角形在3D空间和2D空间中的变化以使所述能量函数/＞小于所述阈值/＞；根据所述线性关系求解出所述初始模型的至少部分顶点在所述2D设计图像中的坐标；检测是否有坐标重叠，若有，对所述线性关系进行适当调整和删除；根据所述坐标和所述2D设计图像生成3D预览模型；渲染步骤：使用渲染工具对所述3D预览模型进行灯光、材质、工艺效果渲染；后处理步骤：根据自身需求使用提供的编辑工具对所述3D预览模型的外观进行编辑；反馈步骤：将意见和建议反馈给设计师，设计师对所述3D预览模型进行相应调整。以上所述的具体实施方式，对本申请的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本申请的具体实施方式而已，并不用于限定本申请的保护范围，凡在本申请的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
