标题title
具有保护功能的PNP输出电路及传感器
摘要abst
本发明公开了一种具有保护功能的PNP输出电路，应用于PNP输出的传感器中，包括：PNP输出电路，输入端与主控电路连接，输出端与外部设备连接；瞬态电压抑制电路，输入端与PNP输出电路的输出端连接，输出端与外部设备连接；状态保持电路，输入端与主控电路连接，输出端与保护电路的输入端连接，当外部设备正常工作时，保持截止状态；当外部设备短路时，保持导通状态；保护电路，输出端与PNP输出电路的输入端连接，当外部设备短路时，用于对流经PNP输出电路的电流进行分流到地。本申请通过保护电路在外部设备短路时实现PNP输出电路快速断开输出，并且通过瞬态电压抑制电路实现对外部设备产生的静电或高电压进行有效的抑制作用，提高了传感器的使用寿命。
权利要求书clms
1.一种具有保护功能的PNP输出电路，应用于PNP输出的传感器中，其特征在于，包括：PNP输出电路，输入端与主控电路连接，输出端与外部设备连接，用于接收所述主控电路输出的高电平信号或低电平信号，并将所述高电平信号或低电平信号输出给所述外部设备；瞬态电压抑制电路，输入端与所述PNP输出电路的输出端连接，输出端与所述外部设备连接，用于抑制所述外部设备产生的静电或高电压；状态保持电路，输入端与所述主控电路连接，输出端与保护电路的输入端连接，当所述外部设备正常工作时，保持截止状态，使所述主控电路与所述保护电路之间的通路断开；当所述外部设备短路时，保持导通状态，使所述主控电路与所述保护电路之间的通路导通；所述保护电路，输出端与所述PNP输出电路的输入端连接，当所述外部设备短路时，用于对流经所述PNP输出电路的电流进行分流到地，并使所述PNP输出电路关闭。2.根据权利要求1所述的具有保护功能的PNP输出电路，其特征在于，还包括：偏置电路，输入端与所述主控电路连接，输出端与所述PNP输出电路的输入端连接，用于为所述PNP输出电路提供偏置电压。3.根据权利要求2所述的具有保护功能的PNP输出电路，其特征在于，还包括：防反接电路，输入端与所述PNP输出电路的输出端连接，输出端与所述外部设备连接，用于防止所述外部设备连接的负电压反流至所述PNP输出电路。4.根据权利要求3所述的具有保护功能的PNP输出电路，其特征在于，所述PNP输出电路包括：第一电阻和PNP型三极管和PNP型三极管；所述PNP型三极管的基极与所述主控电路连接，所述PNP型三极管的发射极与所述第一电阻的一端连接，所述PNP型三极管的集电极与所述PNP型三极管的基极连接；所述第一电阻的另一端接地；所述PNP型三极管的发射极与外部电源连接，所述PNP型三极管的集电极与所述外部设备连接。5.根据权利要求4所述的具有保护功能的PNP输出电路，其特征在于，所述瞬态电压抑制电路包括：第一双向二极管和第二双向二极管；所述第一双向二极管的一端与所述PNP型三极管的发射极连接，所述第一双向二极管的另一端与所述第二双向二极管的一端连接，所述第二双向二极管的另一端与所述第一电阻的另一端连接并接地。6.根据权利要求5所述的具有保护功能的PNP输出电路，其特征在于，所述状态保持电路包括：第三电阻和电容；所述电容的一端与所述PNP型三极管的发射极连接，所述电容的另一端与所述第三电阻的一端连接，所述第三电阻的另一端与所述第二双向二极管的一端连接。7.根据权利要求4所述的具有保护功能的PNP输出电路，其特征在于，所述保护电路包括：PMOS管、第一二极管、第四电阻和第五电阻；所述PMOS管的源极与所述PNP型三极管的发射极连接，所述PMOS管的栅极与所述第一二极管D6的阴极连接，所述PMOS管的漏极与所述第五电阻的一端连接，所述第五电阻的另一端与所述PNP型三极管的集电极连接；所述第一二极管的阳极与所述PNP型三极管的集电极连接；所述第四电阻的两端分别与所述PMOS管的源极和所述PMOS管的漏极连接。8.根据权利要求4所述的具有保护功能的PNP输出电路，其特征在于，所述防反接电路包括：第二二极管；所述第二二极管的阳极与所述PNP型三极管的集电极连接，所述第二二极管的阴极与所述外部设备连接。9.根据权利要求7所述的具有保护功能的PNP输出电路，其特征在于，所述偏置电路包括：第二电阻和第三二极管；所述第二电阻的一端与所述PNP型三极管的集电极连接，所述第二电阻的另一端与所述PNP型三极管的基极连接；所述第三二极管的阳极与所述PNP型三极管的基极连接，所述第三二极管的阴极与所述PMOS管的漏极连接。10.一种传感器，其特征在于，包括传感器本体和如权利要求1-9任一项所述的具有保护功能的PNP输出电路，所述具有保护功能的PNP输出电路设置于所述传感器本体内部。
说明书desc
技术领域本发明涉及电路保护技术领域，尤其涉及一种具有保护功能的PNP输出电路及传感器。背景技术传感器往往是自动化作业中最前端的重要节点，通常情况下，传感器用于采集数据参数，并输出给主控电路，主控电路根据该数据参数对外部设备进行控制，而在控制的过程中，往往会存在一系列的突发状况，比如短路的情况发生，这就导致传感器的整体寿命降低，现有技术中，传统的保险丝，比如熔断式保险丝、自恢复保险丝，存在老化时间快、动作反应慢、高温环境下误差大等缺点，至使保护时有失效，虽然能够在突发状况下对传感器进行保护，但是无法实现快速断开传感器的输出，且无法有效抑制外部设备产生的静电或高电压。发明内容基于此，有必要针对上述问题，提出了一种具有保护功能的PNP输出电路及传感器。一种具有保护功能的PNP输出电路，应用于PNP输出的传感器中，包括：PNP输出电路，输入端与主控电路连接，输出端与外部设备连接，用于接收所述主控电路输出的高电平信号或低电平信号，并将所述高电平信号或低电平信号输出给所述外部设备；瞬态电压抑制电路，输入端与所述PNP输出电路的输出端连接，输出端与所述外部设备连接，用于抑制所述外部设备产生的静电或高电压；状态保持电路，输入端与所述主控电路连接，输出端与保护电路的输入端连接，当所述外部设备正常工作时，保持截止状态，使所述主控电路与所述保护电路之间的通路断开；当所述外部设备短路时，保持导通状态，使所述主控电路与所述保护电路之间的通路导通；所述保护电路，输出端与所述PNP输出电路的输入端连接，当所述外部设备短路时，用于对流经所述PNP输出电路的电流进行分流到地，并使所述PNP输出电路关闭。在一个实施例中，所述的具有保护功能的PNP输出电路，其特征在于，还包括：偏置电路，输入端与所述主控电路连接，输出端与所述PNP输出电路的输入端连接，用于为所述PNP输出电路提供偏置电压。在一个实施例中，所述的具有保护功能的PNP输出电路，还包括：防反接电路，输入端与所述PNP输出电路的输出端连接，输出端与所述外部设备连接，用于防止所述外部设备连接的负电压反流至所述PNP输出电路。在一个实施例中，所述PNP输出电路包括：第一电阻和PNP型三极管和PNP型三极管；所述PNP型三极管的基极与所述主控电路连接，所述PNP型三极管的发射极与所述第一电阻的一端连接，所述PNP型三极管的集电极与所述PNP型三极管的基极连接；所述第一电阻的另一端接地；所述PNP型三极管的发射极与外部电源连接，所述PNP型三极管的集电极与所述外部设备连接。在一个实施例中，所述瞬态电压抑制电路包括：第一双向二极管和第二双向二极管；所述第一双向二极管的一端与所述PNP型三极管的发射极连接，所述第一双向二极管的另一端与所述第二双向二极管的一端连接，所述第二双向二极管的另一端与所述第一电阻的另一端连接并接地。在一个实施例中，所述状态保持电路包括：第三电阻和电容；所述电容的一端与所述PNP型三极管的发射极连接，所述电容的另一端与所述第三电阻的一端连接，所述第三电阻的另一端与所述第二双向二极管的一端连接。在一个实施例中，所述保护电路包括：PMOS管、第一二极管、第四电阻和第五电阻；所述PMOS管的源极与所述PNP型三极管的发射极连接，所述PMOS管的栅极与所述第一二极管D6的阴极连接，所述PMOS管的漏极与所述第五电阻的一端连接，所述第五电阻的另一端与所述PNP型三极管的集电极连接；所述第一二极管的阳极与所述PNP型三极管的集电极连接；所述第四电阻的两端分别与所述PMOS管的源极和所述PMOS管的漏极连接。在一个实施例中，所述防反接电路包括：第二二极管；所述第二二极管的阳极与所述PNP型三极管的集电极连接，所述第二二极管的阴极与所述外部设备连接。在一个实施例中，所述偏置电路包括：第二电阻和第三二极管；所述第二电阻的一端与所述PNP型三极管的集电极连接，所述第二电阻的另一端与所述PNP型三极管的基极连接；所述第三二极管的阳极与所述PNP型三极管的基极连接，所述第三二极管的阴极与所述PMOS管的漏极连接。一种传感器，其特征在于，包括传传感器本体和如上所述的具有保护功能的PNP输出电路，所述具有保护功能的PNP输出电路设置于所述传感器本体内部。实施本发明实施例，将具有如下有益效果：本申请通过PNP输出电路接收主控电路输出的高电平信号或低电平信号，并将高电平信号或低电平信号输出给外部设备；瞬态电压抑制电路抑制所述外部设备产生的静电或高电压；状态保持电路可当所述外部设备正常工作时，用于接收高电平信号或低电平信号，并保持截止状态，使主控电路与保护电路之间的通路断开；当外部设备短路时，接收高电平信号或低电平信号，保持导通状态，使主控电路与所述保护电路之间的通路导通；所述保护电路可当外部设备短路时，对流经PNP输出电路的电流进行分流到地，并使PNP输出电路关闭。本申请通过保护电路在外部设备短路时实现PNP输出电路快速断开输出，并且通过瞬态电压抑制电路实现对外部设备产生的静电或高电压进行有效的抑制作用，提高了传感器的使用寿命。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。其中：图1为一个实施例中具有保护功能的PNP输出电路的结构框图；图2为另一个实施例中具有保护功能的PNP输出电路的结构框图；图3为一个实施例中具有保护功能的PNP输出电路的电路图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。传感器往往是自动化作业中最前端的重要节点，通常情况下，传感器用于采集数据参数，并输出给主控电路，主控电路根据该数据参数对外部设备进行控制，而在控制的过程中，往往会存在一系列的突发状况，比如短路的情况发生，这就导致传感器的整体寿命降低，现有技术中，传统的保险丝，比如熔断式保险丝、自恢复保险丝，存在老化时间快、动作反应慢、高温环境下误差大等缺点，至使保护时有失效，虽然能够在突发状况下对传感器进行保护，但是无法实现快速断开传感器的输出，且无法有效抑制外部设备产生的静电或高电压。为了解决上述技术问题，本申请提供一种具有保护功能的PNP输出电路，应用于PNP输出的传感器中，如图1所示，包括：PNP输出电路10、瞬态电压抑制电路20、状态保持电路30和保护电路40；其中，所述PNP输出电路10的输入端与主控电路连接，输出端与外部设备连接，用于接收所述主控电路输出的高电平信号或低电平信号，并将所述高电平信号或低电平信号输出给所述外部设备；所述瞬态电压抑制电路20的输入端与所述PNP输出电路10的输出端连接，输出端与所述外部设备连接，用于抑制所述外部设备产生的静电或高电压；所述状态保持电路30的输入端与所述主控电路连接，输出端与保护电路40的输入端连接，当所述外部设备正常工作时，保持截止状态，使所述主控电路与所述保护电路40之间的通路断开；当所述外部设备短路时，保持导通状态，使所述主控电路与所述保护电路40之间的通路导通；所述保护电路40的输出端与所述PNP输出电路10的输入端连接，当所述外部设备短路时，用于对流经所述PNP输出电路10的电流进行分流到地，并使所述PNP输出电路10关闭。本申请通过PNP输出电路接收主控电路输出的高电平信号或低电平信号，并将高电平信号或低电平信号输出给外部设备；瞬态电压抑制电路抑制所述外部设备产生的静电或高电压；状态保持电路可当所述外部设备正常工作时，用于接收高电平信号或低电平信号，并保持截止状态，使主控电路与保护电路之间的通路断开；当外部设备短路时，接收高电平信号或低电平信号，保持导通状态，使主控电路与所述保护电路之间的通路导通；所述保护电路可当外部设备短路时，对流经PNP输出电路的电流进行分流到地，并使PNP输出电路关闭。本申请通过保护电路在外部设备短路时实现PNP输出电路快速断开输出，并且通过瞬态电压抑制电路实现对外部设备产生的静电或高电压进行有效的抑制作用，提高了传感器的使用寿命。在一个实施例中，如图2所示，所述的具有保护功能的PNP输出电路，还包括：偏置电路60，其中，所述偏置电路60的输入端与所述主控电路连接，输出端与所述PNP输出电路10的输入端连接，用于为所述PNP输出电路10提供偏置电压。在一个实施例中，如图2所示，所述的具有保护功能的PNP输出电路，还包括：防反接电路50，其中，所述防反接电路50的输入端与所述PNP输出电路10的输出端连接，输出端与所述外部设备连接，用于防止所述外部设备连接的负电压反流至所述PNP输出电路10。在一个实施例中，如图3所示，所述PNP输出电路10包括：第一电阻R29和NPN型三极管Q5和PNP型三极管Q4；其中，所述NPN型三极管Q5的基极与所述主控电路连接，所述NPN型三极管Q5的发射极与所述第一电阻R29的一端连接，所述NPN型三极管Q5的集电极与所述PNP型三极管Q4的基极连接；所述第一电阻R29的另一端接地；所述PNP型三极管Q4的发射极与外部电源连接，所述PNP型三极管Q4的集电极与所述外部设备连接。在一个实施例中，如图3所示，所述瞬态电压抑制电路20包括：第一双向二极管D23和第二双向二极管D24；其中，所述第一双向二极管D23的一端与所述PNP型三极管Q4的发射极连接，所述第一双向二极管D23的另一端与所述第二双向二极管D24的一端连接，所述第二双向二极管D24的另一端与所述第一电阻R29的另一端连接并接地。在一个实施例中，如图3所示，所述状态保持电路30包括：第三电阻R26和电容C15；其中，所述电容C15的一端与所述PNP型三极管Q4的发射极连接，所述电容C15的另一端与所述第三电阻R26的一端连接，所述第三电阻R26的另一端与所述第二双向二极管D24的一端连接。在一个实施例中，如图3所示，所述保护电路40包括：PMOS管Q2、第一二极管D6、第四电阻R21和第五电阻R22；其中，所述PMOS管Q2的源极与所述PNP型三极管Q4的发射极连接，所述PMOS管Q2的栅极与所述第一二极管D6的阴极连接，所述PMOS管Q2的漏极与所述第五电阻R22的一端连接，所述第五电阻R22的另一端与所述NPN型三极管Q5的集电极连接；所述第一二极管D6的阳极与所述NPN型三极管Q5的集电极连接；所述第四电阻R21的两端分别与所述PMOS管Q2的源极和所述PMOS管Q2的漏极连接。在一个实施例中，如图3所示，所述防反接电路50包括：第二二极管D9；其中，所述第二二极管D9的阳极与所述PNP型三极管Q4的集电极连接，所述第二二极管D9的阴极与所述外部设备连接。在一个实施例中，如图3所示，所述偏置电路60包括：第二电阻R30和第三二极管D5；其中，所述第二电阻R30的一端与所述NPN型三极管Q5的集电极连接，所述第二电阻R30的另一端与所述PNP型三极管Q4的基极连接；所述第三二极管D5的阳极与所述PNP型三极管Q4的基极连接，所述第三二极管D5的阴极与所述PMOS管Q2的漏极连接。本申请还提供一种传感器，包括传感器本体和如上所述的具有保护功能的PNP输出电路，所述具有保护功能的PNP输出电路设置于所述传感器本体内部。本申请的工作原理如下：主控电路输出低电平信号时，NPN型三极管Q5截止，PNP型三极管Q4没有得到基极的偏置电压、电流，从而处于截止状态，PNP输出电路10输出关闭，输出程现‘关’状态。而同时第一二极管D6、第四电阻R21、第五电阻R22也把PMOS管Q2的栅极电压Vgs钳位在-0.7V以上。PMOS管Q2导通的条件是栅极电压Vgs≤-1.6V。所以此时PMOS管Q2也是关闭状态的。整体输出电路均处于关闭状态。如果之前有出现过自动保护动作，此时因第一二极管D6的钳位作用也同时清除了保护条件，等待着电路的重新启动。主控电路输出高电平信号时，3.3V至使NPN型三极管Q5导通，NPN型三极管Q5的基极3.3V稳定，3.3－0.7＝2.6V，2.6V/1.1K=2.36MA,这个电流是稳定的，它将给输出功率管PNP型三极管Q4提供偏置电源。因第四电阻R21的存在，它分流了约1.4MA由NPN型三极管Q5提供过来的电流值，使得供给PNP型三极管Q4的基极电流约在1MA左右。它是经由第五电阻R22、第三二极管D5和第二电阻R30共同到达PNP型三极管Q4的基极，电流约1MA。PNP型三极管Q4得到了基极的电流、电压，从而有了输出，因PNP型三极管Q4的放大倍数β为100-300倍，所以输出电流的能力在100MA-300MA之间。在输入3.3V高电平信号的时侯，PMOS管Q2的栅极电压Vgs因电容C15的存在，所以电平不能突变，维持着≥-0.7V，所以此时PMOS管Q2是截止的。当PNP型三极管Q4导通后，如果外部设备正常，PNP型三极管Q4将处于饱和导通状态，就能把集电极电压拉到Vec≥-0.3V以上。加上第二二极管D9的压降0.4V，在第二二极管D9负极到PNP型三极管Q4的发射极Ve的电压≥-0.7V。此电压通过第三电阻R26到达PMOS管Q2的漏极，因G极电压没达到PMOS管Q2的导通点电压Vgs≤-1.6V，所以PMOS管Q2还是处于截止状态。整体电路处于正常输出的工作状态中。当因特殊原因，如负载损坏、接点短路等导致负载出现变化，如果这种变化导至负载吸收的电流大于300MA,此时因输出电流变大，超出了三极管PNP型三极管Q4的开关电流，PNP型三极管Q4将进入放大状态，此时PNP型三极管Q4的集电极电压Vc减小，第二二极管D9的阴极电压减小，PMOS管Q2的栅极电压Vgs减小。当PMOS管Q2的栅极电压Vgs下降到-1.6V以下时，PMOS管Q2开始导通，从而对由第五电阻R22进入PNP型三极管Q4的基极电流进行分流，从而导致PNP型三极管Q4的基极电流下降，如果此时外部设备还是没有好转，就会引起PNP型三极管Q4在放大状态中向截止状态变化，会导至PNP型三极管Q的集电极电压减小，第二二极管D9的阴极电压减小，PMOS管Q2的栅极电压减小，PMOS管Q2的漏极电流增大， PMOS管Q2的漏极电压增大，PNP型三极管Q4的基极电压减小，PNP型三极管Q4的基极电流减小，PNP型三极管Q4的集电极电流减小，PNP型三极管Q4的集电极电压减小，在这样的一个正循环中，直至PMOS管Q2完全导通，把PNP型三极管Q4偏置的主电流通路第五电阻R22的电流全部引流走。输出快速关闭。从而保护了电路与外部设备。此时还有经第二电阻R30提供的一个微小电流给PNP型三极管Q4偏置，使PNP型三极管Q4处于微放大状态，C极的电流很小，用来在外部设备断开后电路的自动恢复。当有故障的外部设备给拆下来，此时外部设备处于空载状态，因第二电阻R30所提供的微小偏置，会使PNP型三极管Q4进入饱和导通状态。PNP型三极管Q4的集电极和基极间的电压Vec≥-0.3V，加上第二二极管D9的0.4V，此时第二二极管D9的阴极电压≥-0.7V，电容C15的电位通过第三电阻R26、第一二极管D6、PNP型三极管Q4放电，当PMOS管Q2的栅极电压Vgs≥-1.6V时，PMOS管Q2开始向截止方向运行直至截止。第五电阻R22提供的电流将继续通过D5给PNP型三极管Q4供电，从而电路进入恢复正常输出状态。此时接上新负载就又可以重新工作了。以上所揭露的仅为本发明较佳实施例而已，当然不能以此来限定本发明之权利范围，因此依本发明权利要求所作的等同变化，仍属本发明所涵盖的范围。
