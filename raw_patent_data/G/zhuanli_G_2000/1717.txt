标题title
基于单点单光子探测器的360度三维成像装置及方法
摘要abst
本发明涉及一种基于单点单光子探测器的360度三维成像装置及方法，其中装置包括沿光路依次设置的皮秒激光器、分束器、空间光延时器、偏振分束立方体、二维扫描振镜、聚光镜、单光子雪崩探测器；还包括与分束器连接的光电二极管、与所述光电二极管电连接的功分器、与功分器电连接的时间延迟器、与时间延迟器电连接的时间相关单光子计数器；还包括与所述时间延迟器电连接的快速时间门控制器，快速时间门控制器与时间相关单光子计数器电连接；还包括工控机。与现有技术相比，本发明实现了基于单个单光子点探测器的远距离目标的360度三维成像；具有高的深度分辨率以及远的作用距离、大的视场、较好的横向分辨率。
权利要求书clms
1.一种基于单点单光子探测器的360度三维成像装置，其特征在于，包括沿光路依次设置的皮秒激光器、分束器、空间光延时器、偏振分束立方体、二维扫描振镜、聚光镜、单光子雪崩探测器；成像场景置于所述二维扫描振镜所覆盖的大角度空间中；还包括与所述分束器连接的光电二极管、与所述光电二极管电连接的功分器、与所述功分器电连接的时间延迟器、与时间延迟器电连接的时间相关单光子计数器；还包括与所述时间延迟器电连接的快速时间门控制器，所述快速时间门控制器与时间相关单光子计数器电连接；还包括分别与所述皮秒激光器、时间延迟器、二维扫描振镜、快速时间门控制器、时间相关单光子计数器电连接的工控机，所述工控机用于分别调控皮秒激光器的出光功率、时间延迟器的延迟长度、快速时间门控制器的门宽、二维扫描振镜的偏转角度。2.根据权利要求1所述的一种基于单点单光子探测器的360度三维成像装置，其特征在于，所述工控机用于控制所述快速时间门控制器的参数设置；所述快速时间门控制器输出的信号抵到时间相关单光子计数器作为信号输入。3.根据权利要求1所述的一种基于单点单光子探测器的360度三维成像装置，其特征在于，所述皮秒激光器出射的皮秒激光到达分束器后，一部分作为光触发信号至光电二极管，并作为时间延迟器的输入，以此控制快速时间门控制器的门控起始点，另一部分作为光脉冲信号到达功分器；所述功分器将光触发信号分为两部分，一部分作为同步信号输出至时间相关单光子计数器，另一部分输出至空间光延时器，通过控制时间光延时器的时延长度，使得经整个成像场景后抵到单光子雪崩探测器的返回光子信号处在时间相关单光子计数器的对应时间位置，光脉冲信号经偏振分束立方体后，到达二维扫描振镜，二维扫描振镜将光脉冲信号指向成像场景中的不同空间点。4.根据权利要求3所述的一种基于单点单光子探测器的360度三维成像装置，其特征在于，所述光脉冲信号经成像场景后，单光子雪崩探测器获取经成像场景反射光经二维扫描振镜、再经偏振分束立方体和激光经后抵达单光子雪崩探测器，在时间门范围内的光子被探测，并输出至时间相关单光子计数器；单点曝光时间完成后，获取二维扫描振镜的角度为，及时间相关单光子计数器的输出为/＞；当二维扫描振镜完成整个空间扫描后，依据对应的扫描角度位置与光子信号强度位置，由以下公式可得到扫描场景的三维点云数据：，其中r表示所述二维扫描振镜的中心点与直线视场内的扫描点之间的距离，即以二维扫描振镜中心为坐标零点到扫描点之间的距离，和/＞分表表示水平与竖直两个方向扫描角度。5.根据权利要求4所述的一种基于单点单光子探测器的360度三维成像装置，其特征在于，对于通过扫描无法直接获取的场景信息数据，通过非视域成像的方式实现，具体包括：选取中继面，用于获取非视域成像场景；分析直接扫描得到的三维点云数据，选取三维点云数据中构成的中继面；将中继面对应点的r值所对应的时间作为时间延迟器的输入，对这些点开始非视域成像扫描，非视域成像扫描完成后，获得对应的扫描数据；将非视域成像扫描的数据解包络，使得所有扫描点对应的数据的起始为当前扫描点直接二维扫描时获得的信号峰值处位置，即中继墙面处，利用非视域成像算法重建非视域场景三维图像；令解包络后的非视域成像扫描数据为，其中/＞为中继墙面上激光照射点的点云坐标，/＞为与之共焦的中继墙面激光接收点的点云坐标；最后将直接扫描得到的直线视场三维点云数据与经由非视域成像得到的三维点云数据/＞融合，即可得到场景中的目标的360度三维数据。6.根据权利要求5所述的一种基于单点单光子探测器的360度三维成像装置，其特征在于，非视域成像场景的重建点云数据可由下属公式得到：,,其中为中继墙面上的虚拟光源点对应的相位场波前，/＞为滤波反投影算子。7.一种基于单点单光子探测器的360度三维成像方法，其特征在于，包括以下步骤：S1：搭建如权利要求1至6中任意一项所述基于单点单光子探测器的360度三维成像装置；S2：利用所述工控机设置所述皮秒激光器功率、二维扫描振镜扫描角度范围及扫描点数、时间延迟器的时延、快速时间门控制器的门宽、时间相关单光子计数器的时间分辨率；S3：开始激光雷达扫描过程，获取直线视场内能直接看到的场景信息，使得所述皮秒激光器出光，二维扫描振镜开始扫描，时间相关单光子计数器采集对应扫描角度下的光子信息，根据扫描角度及光子飞行时间信息，得到直线视场角内的场景信息三维点云数据；S4：开始非视域扫描过程，获取非视域成像视场内的场景信息；S5：解时间包络，将非视域数据的数据开始的位置对应于中继墙面的位置；S6：各墙面非视域信号重建，基于非视域成像算法重建场景非视域三维场景数据；S7：360度三维成像数据合成，将S3和S6中获取的直线视场点云数据和非视域点云数据合成，即可得到场景中目标的360度三维成像点云数据。8.根据权利要求7所述的一种基于单点单光子探测器的360度三维成像方法，其特征在于，S3中，三维点云数据的x，y，z获取过程如下：，其中r表示所述二维扫描振镜的中心点与直线视场内的扫描点之间的距离，即坐标零点到扫描点之间的距离，和/＞分表表示水平与竖直两个方向扫描角度。9.根据权利要求7所述的一种基于单点单光子探测器的360度三维成像方法，其特征在于，S4中具体包括：将S3中获取的对应中间墙面的r值对应的时间延迟作为所述时间延迟器的延迟时间，将所述快速时间门控制器的时间门控起点对应于中继墙面后，使得时延作用后，获取的非视域数据能够避免中继墙面信号的干扰，其中/＞为中继墙面上激光照射点的点云坐标，/＞为与之共焦的中继墙面激光接收点的点云坐标。10.根据权利要求7所述的一种基于单点单光子探测器的360度三维成像方法，其特征在于，其特征在于，利用所述360度三维成像装置，通过直线视角下场景中随机分布的墙面，实现原直线视角下无法得到的非视域成像场景，将直线视角场景与非视域成像场景合成，即可实现原场景中物体的360度成像。
说明书desc
技术领域本发明涉及三维成像技术领域，尤其是涉及一种基于单点单光子探测器的360度三维成像装置及方法。背景技术三维成像技术能够获取场景/目标平面二维以及深度维信息，在包括自动驾驶、机器视觉、消费电子等很多领域内均具有重要应用。区别于传统二维成像技术只能获取场景二维平面信息而无法获取深度/距离信息，三维成像因其更丰富的深度/距离信息内容，使得其能在更多的领域取得广泛应用。三维成像能够使得医学成像中的定位更准确，组织观察细节更丰富立体；三维成像可帮助自动驾驶技术实现更精准的场景定位以及目标识别，达到更加准确的指令下达；三维成像可助力遥感成像采集目标深度信息，以对目标距离作出更精准的定位，以及对远距离情况的正确判断。目前的三维成像技术主要包括结构光三维成像、双目视觉成像、激光雷达、单像素成像、单光子成像、全息成像、光场成像、计算机断层扫描、光学相干层析扫描成像等三维光学成像技术将成像从二维平面拓展到空间三维。生物医学中常用的计算机断层扫描、光学相干层析扫描等三维成像技术利用成像目标的半透明特性，能够实现真正意义上的目标三维体成像。除此之外，以上列举的其它光学三维成像技术所实现的三维成像均建立在视线之内，同一方向上只能存在一个深度点信息。如需要目标更多信息，或者实现场景的360度成像，则需要排布更多的探测单元。当场景空间受制约、距离较远或者排布探测单元数受限制时，即便采用上述方法也将无法实现场景的360度三维成像。例如远距离三维成像在安防、机器视觉、自动驾驶、医学成像等领域有重要应用。因此基于单个探测单元的360度三维成像技术必将有很大应用前景。发明内容本发明的目的就是为了克服上述现有技术存在的缺陷而提供一种基于单点单光子探测器的360度三维成像装置及方法，实现了基于单个单光子点探测器的远距离目标的360度三维成像；具有高的深度分辨率以及远的作用距离、大的视场、较好的横向分辨率。本发明的基本构思原理为：目前的三维成像技术，尤其是远距离三维成像技术，基本原理是对于直线视场内角度或者平面投影空间上的一点，最多只有一个反照率点的目标信息能够被获取。对于场景中的一个特定目标而言，如果需要对其成360度的三维像，那么需要至少阵列式排布多个探测单元。当目标处于远距离或者场景空间受制约，或者探测单元数受限制时，现有的三维成像技术无法实现对特定目标360度三维场景数据的获取。将场景的三维成像获取分为视域内直线视场三维成像与视域内非直线视场三维成像将是一个好的选择。目前视域内直线视场三维成像技术包括了以上列出的多种成像技术，视域内非直线视场三维成像技术则可以采用非视域成像技术。非视域成像通过直线视域内的中继面，将虚拟的点光源与探测点中级到该中继面上，通过各种巧妙的计算，实现了场景中目标的非视域成像。考虑到大视场角、远距离、探测单元排布单元数受限制的360度三维成像场景，再考虑到激光雷达具有大视场远距离高精度成像能力，尤其是在非视域成像中单光子雪崩探测器具有的高灵敏探测能力。最后考虑到快速时间门控制器在避免强信号点干扰上的显著能力。本方案以此确定最适合的基本方法与装置。本发明的目的可以通过以下技术方案来实现：本发明第一方面提供一种基于单点单光子探测器的360度三维成像装置，包括沿光路依次设置的皮秒激光器、分束器、空间光延时器、偏振分束立方体、二维扫描振镜、聚光镜、单光子雪崩探测器；成像场景置于所述二维扫描振镜所覆盖的大角度空间中；还包括与所述分束器连接的光电二极管、与所述光电二极管电连接的功分器、与所述功分器电连接的时间延迟器、与时间延迟器电连接的时间相关单光子计数器；还包括与所述时间延迟器电连接的快速时间门控制器，所述快速时间门控制器与时间相关单光子计数器电连接；还包括分别与所述皮秒激光器、时间延迟器、二维扫描振镜、快速时间门控制器、时间相关单光子计数器电连接的工控机，所述工控机用于分别调控皮秒激光器的出光功率、时间延迟器的延迟长度、快速时间门控制器的门宽、二维扫描振镜的偏转角度。进一步地，所述工控机用于控制所述快速时间门控制器的参数设置；所述快速时间门控制器输出的信号抵到时间相关单光子计数器作为信号输入。进一步地，所述皮秒激光器出射的皮秒激光到达分束器后，一部分作为光触发信号至光电二极管，并作为时间延迟器的输入，以此控制快速时间门控制器的门控起始点，另一部分作为光脉冲信号到达功分器；所述功分器将光触发信号分为两部分，一部分作为同步信号输出至时间相关单光子计数器，另一部分输出至空间光延时器，通过控制时间光延时器的时延长度，使得经整个成像场景后抵到单光子雪崩探测器的返回光子信号处在时间相关单光子计数器的对应时间位置，光脉冲信号经偏振分束立方体后，到达二维扫描振镜，二维扫描振镜将光脉冲信号指向成像场景中的不同空间点。进一步地，所述光脉冲信号经成像场景后，单光子雪崩探测器获取经成像场景反射光经二维扫描振镜、再经偏振分束立方体和激光经后抵达单光子雪崩探测器，在时间门范围内的光子被探测，并输出至时间相关单光子计数器；单点曝光时间完成后，获取二维扫描振镜的角度为，及时间相关单光子计数器的输出为；当二维扫描振镜完成整个空间扫描后，依据对应的扫描角度位置与光子信号强度位置，由以下公式可得到扫描场景的三维点云数据：，其中r表示所述二维扫描振镜的中心点与直线视场内的扫描点之间的距离，即坐标零点到扫描点之间的距离，和分表表示水平与竖直两个方向扫描角度。进一步地，对于通过扫描无法直接获取的场景信息数据，通过非视域成像的方式实现，具体包括：选取中继面，用于获取非视域成像场景；分析直接扫描得到的三维点云数据，选取三维点云数据中构成的中继面；将中继面对应点的r值所对应的时间作为时间延迟器的输入，对这些点开始非视域成像扫描，非视域成像扫描完成后，获得对应的扫描数据；将非视域成像扫描的数据解包络，使得所有扫描点对应的数据的起始为当前扫描点直接二维扫描时获得的信号峰值处位置，即中继墙面处，利用非视域成像算法重建非视域场景三维图像；令解包络后的非视域成像扫描数据为，其中为中继墙面上激光照射点的点云坐标，为与之共焦的中继墙面激光接收点的点云坐标；最后将直接扫描得到的直线视场三维点云数据与经由非视域成像得到的三维点云数据融合，即可得到场景中的目标的360度三维数据。进一步地，非视域成像场景的重建点云数据可由下属公式得到：其中为中继墙面上的虚拟光源点对应的相位场波前，为滤波反投影算子。本发明第二方面提供一种基于单点单光子探测器的360度三维成像方法，包括以下步骤：S1：搭建如上所述基于单点单光子探测器的360度三维成像装置；S2：利用所述工控机设置所述皮秒激光器功率、二维扫描振镜扫描角度范围及扫描点数、时间延迟器的时延、快速时间门控制器的门宽、时间相关单光子计数器的时间分辨率；S3：开始激光雷达扫描过程，获取直线视场内能直接看到的场景信息，使得所述皮秒激光器出光，二维扫描振镜开始扫描，时间相关单光子计数器采集对应扫描角度下的光子信息，根据扫描角度及光子飞行时间信息，得到直线视场角内的场景信息三维点云数据；S4：开始非视域扫描过程，获取非视域成像视场内的场景信息；S5：解时间包络，将非视域数据的数据开始的位置对应于中继墙面的位置；S6：各墙面非视域信号重建，基于非视域成像算法重建场景非视域三维场景数据；S7：360度三维成像数据合成，将S3和S6中获取的直线视场点云数据和非视域点云数据合成，即可得到场景中目标的360度三维成像点云数据。进一步地，S3中，三维点云数据的x，y，z获取过程如下：，其中r表示所述二维扫描振镜的中心点与直线视场内的扫描点之间的距离，即坐标零点到扫描点之间的距离，和分表表示水平与竖直两个方向扫描角度。进一步地，S4中具体包括：将S3中获取的对应中间墙面的r值对应的时间延迟作为所述时间延迟器的延迟时间，将所述快速时间门控制器的时间门控起点对应于中继墙面后，使得时延作用后，获取的非视域数据能够避免中继墙面信号的干扰，其中为中继墙面上激光照射点的点云坐标，为与之共焦的中继墙面激光接收点的点云坐标。利用所述360度三维成像装置，通过直线视角下场景中随机分布的墙面，实现原直线视角下无法得到的非视域成像场景，将直线视角场景与非视域成像场景合成，即可实现原场景中物体的360度成像。与现有技术相比，本发明具有以下技术优势；1）本技术方案构建了一种基于单点单光子探测器的360度三维成像装置及方法，实现了远距离、大视场角下，场景空间受制约或者排布探测单元数受限制时的场景360度三维成像，能够在极大方向上获取目标的高精度深度数据、较好横向分辨率的场景三维数据。2）相较于目前的多阵列探测单元排布获取目标三维数据的方法相比，具有结构简单，所需探测单元数少的特点。本方案只需要一个点探测器即可实现场景的360度三维数据获取。3）与传统激光雷达相比，本方案具有在远距离上获取目标非视域信息的能力；与传统计算扫描断层成像技术相比，具有作用距离远，探测单元数少的优点。附图说明图1为本技术方案中基于单点单光子探测器的360度三维成像装置的结构示意图；图2为本技术方案中基于单点单光子探测器的360度三维成像方法的流程示意图；图3为本技术方案中直线视场采集数据的三维点云的二维图，其中处于直线视场边缘的墙面作为非视域成像的中继墙面；图4为本技术方案中非视域成像视场中三个中继墙面各自对应的非视域成像场景三维点云图；图5为本技术方案中直线视场和非视域成像视场对应的场景融合在一起360度三维点云数据图。图中：1-皮秒激光器， 2-分束器， 3-空间光延时器， 4-偏振分束立方体， 5-二维扫描振镜，6-聚光镜， 7-单光子雪崩探测器， 8-光电二极管，9-功分器， 10-时间延迟器，11-快速时间门控制器， 12-时间相关单光子计数器， 13-工控机， 14-成像场景。具体实施方式整体上，本发明涉及一种基于单点单光子探测器的360度三维成像装置及方法，其中基于单点单光子探测器的360度三维成像装置包括沿光路依次设置的皮秒激光器、分束器、空间光延时器、偏振分束立方体、二维扫描振镜、聚光镜、单光子雪崩探测器、快速时间门控制器，还包括与所述分束器连接的光电二极管、以及与所述光电二极管连接的功分器，与所述功分器连接的时间延迟器，与所述时间延迟器连接的快速时间门控制器，待成像场景置于所述二维扫描振镜所覆盖的大角度空间中，还包括与所述快速时间门控制器电连接的时间相关单光子计数器，还包括分别与所述皮秒激光器、功分器、时间延迟器、二维扫描振镜、时间相关单光子计数器、快速时间门控制器电连接的工控机。与现有技术相比，本发明实现了场景目标远距离的360度三维成像，并且系统结构简单，可成像视场大，视场内目标可三维成像，同时具有高的深度分辨率的特点。下面结合附图和具体实施例对本发明进行详细说明。本技术方案中如未明确说明的部件型号、材料名称、连接结构、控制方法、算法等特征，均视为现有技术中公开的常见技术特征。实施例1参阅图1，图1是本发明基于单点单光子探测器的360度三维成像装置结构示意图。本发明第一方面提供一种基于单点单光子探测器的360度三维成像装置，包括沿光路依次设置的皮秒激光器1、分束器2、空间光延时器3、偏振分束立方体4、二维扫描振镜5、聚光镜6、单光子雪崩探测器7。成像场景13置于所述二维扫描振镜5所覆盖的大角度空间中。还包括与所述分束器2连接的光电二极管8、与所述光电二极管8电连接的功分器9、与所述功分器9电连接的时间延迟器10、与时间延迟器10电连接的时间相关单光子计数器12。还包括与所述时间延迟器10电连接的快速时间门控制器11，所述快速时间门控制器11与时间相关单光子计数器12电连接。还包括分别与所述皮秒激光器1、时间延迟器10、二维扫描振镜5、快速时间门控制器11、时间相关单光子计数器12电连接的工控机13，所述工控机13用于分别调控皮秒激光器1的出光功率、时间延迟器10的延迟长度、快速时间门控制器11的门宽、二维扫描振镜5的偏转角度。工控机13用于控制所述快速时间门控制器11的参数设置；所述快速时间门控制器11输出的信号抵到时间相关单光子计数器12作为信号输入。图2是基于单点单光子探测器的360度三维成像方法的流程示意图。具体流程为：首先构建合适的光路，使得：快速时间门控制器上输出到单光子雪崩探测器上的门控触发信号和单光子雪崩探测器当前接收到的光子来自皮秒激光器输出的同一光脉冲，以最大限度降低探测系统的时间抖动。设置二维扫描振镜5的扫描范围，使得成像场景能覆盖，设置快速时间门控制器的门宽合适，使得直线视场和非视域成像视场均能覆盖。设置皮秒激光器功率参数，曝光时间参数，开始直线视场扫描。皮秒激光器1出射的10皮秒级脉宽的皮秒激光到达分束器2后，一部分作为光触发信号至光电二极管8，并作为时间延迟器10的输入，以此控制快速时间门控制器11的门控起始点。另一部分作为光脉冲信号到达功分器9，功分器将光触发信号分为两部分。一部分作为同步信号输出至时间相关单光子计数器12。另一部分输出至时间延迟器10，使得经整个成像场景14后抵到单光子雪崩探测器7，并使得经成像场景14返回的光子信号在时间相关单光子计数器12的对应时间位置。光脉冲信号经偏振分束立方体4后，到达二维扫描振镜5，二维扫描振镜5将光脉冲信号指向成像场景14中的不同空间点。光脉冲信号经成像场景14后，得到的反射光，或者反射光经二维扫描振镜5、再经偏振分束立方体和激光经后抵达单光子雪崩探测器7。在时间门范围内的光子被探测，并输出至时间相关单光子计数器。单点曝光时间完成后，令此时二维扫描振镜5的角度为，时间相关单光子计数器12的输出为。当二维扫描振镜5完成整个空间扫描后，依据对应的扫描角度位置与光子信号强度位置，由以下公式可得到扫描场景的三维点云数据：，其中r为扫描点至二维扫描振镜的中心位置的距离，该值可通过扫描点的峰值与二维扫描振镜的信号峰值之间的时间差确定。对于那些通过扫描无法直接获取的场景信息数据，则通过非视域成像的方式实现。当场景中存在墙面时，该墙面可作为非视域成像中的中继墙面，用于获取非视域成像场景。分析直接扫描得到的三维点云数据，选取其中的中继墙面。将这些点的r对应的时间作为时间延迟器10的输入，对这些点开始非视域成像扫描。需要注意的是，可在非视域扫描前根据需要设置皮秒激光器的功率，以提升非视域信号的信噪比。非视域成像扫描完成后，获得对应的扫描数据。图3为直线视场采集数据的三维点云的二维图，其中处于直线视场边缘的墙面作为非视域成像的中继墙面。将非视域成像扫描的数据解包络，使得所有扫描点对应的数据的起始为该点直接二维扫描时获得的信号峰值处，即中继墙面处。如此，得到然后利用非视域成像算法重建非视域场景三维图像，这里选取基于向量场的非视域成像算法为例，重建对应的非视域三维场景点云数据。图4为非视域成像视场中三个中继墙面各自对应的非视域成像场景三维点云图。令解包络后的非视域成像扫描数据为，其中为中继墙面上激光照射点的点云坐标，为与之共焦的中继墙面激光接收点的点云坐标。则非视域成像场景的重建点云数据可由下属公式得到其中为中继墙面上的虚拟光源点对应的相位场波前，为滤波反投影算子。最后将直接扫描得到的直线视场三维点云数据与经由非视域成像得到的三维点云数据融合，即可得到场景中的目标的360度三维数据。图5为直线视场和非视域成像视场对应的场景融合在一起360度三维点云数据图。本装置可利用直线视角下场景中随机分布的墙面，实现原直线视角下无法得到的非视域成像场景，将直线视角场景与非视域成像场景合成后即可实现原场景中物体的360度成像。该方法利用单个点探测器即实现了360度的三维成像，并且在深度上具有很高的距离分辨率。上述的对实施例的描述是为便于该技术领域的普通技术人员能理解和使用发明。熟悉本领域技术的人员显然可以容易地对这些实施例做出各种修改，并把在此说明的一般原理应用到其他实施例中而不必经过创造性的劳动。因此，本发明不限于上述实施例，本领域技术人员根据本发明的揭示，不脱离本发明范畴所做出的改进和修改都应该在本发明的保护范围之内。
