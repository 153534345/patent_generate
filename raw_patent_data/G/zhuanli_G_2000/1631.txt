标题title
一种球面结构化网格剖分方法、装置及相关设备
摘要abst
本申请公开了一种球面结构化网格剖分方法、装置及相关设备，该方法包括：获取各几何面的几何参数，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置；基于各几何面的几何参数，确定各节点，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接；以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格；基于所述目标节点的结构化网格，确定其他各节点的结构化网格。本申请实现了对以球面及柱面构成的复杂几何体的结构化网格剖分，且各复杂几何体中各几何面的结构化网格具有较高的规整性。
权利要求书clms
1.一种球面结构化网格剖分方法，其特征在于，包括：获取各几何面的几何参数，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置；基于各几何面的几何参数，确定各节点，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接；以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格；基于所述目标节点的结构化网格，确定其他各节点的结构化网格。2.根据权利要求1所述的方法，其特征在于，基于各几何面的几何参数，确定同心球组节点的过程，包括：基于各几何面的几何参数，筛选出球心距离在预设的第一阈值之内的第一几何面，所述第一几何面为球面；从各第一几何面中筛选出半径比例在预设的第二阈值之内的第二几何面，并将各第二几何面确定为同心球组节点。3.根据权利要求1所述的方法，其特征在于，以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格的过程，包括：对于所述目标节点中半径最大的第一球面，基于给定的裁剪份数以及预先确定的起始位置，对所述第一球面进行几何划分，得到所述第一球面的结构化网格；基于所述起始位置，将所述第一球面的结构化网格映射至第二球面，得到所述第二球面的结构化网格，所述第二球面为所述目标节点中除所述第一球面以外的其他球面。4.根据权利要求3所述的方法，其特征在于，对于所述目标节点中半径最大的第一球面，基于给定的裁剪份数以及预先确定的起始位置，对所述第一球面进行几何划分，得到所述第一球面的结构化网格的过程，包括：获取所述目标节点的一个邻接同轴柱组节点，并基于所述邻接同轴柱组节点，确定所述目标节点的两个极点；基于所述裁剪份数、所述起始位置以及所述两个极点，确定所述第一球面的各目标经线和各目标纬线，各目标经线之间以及各目标纬线之间间隔均匀；基于各目标经线以及各目标纬线，对所述第一球面进行有限元网格化处理，得到所述第一球面的结构化网格。5.根据权利要求1所述的方法，其特征在于，基于所述目标节点的结构化网格，确定其他各节点的结构化网格的过程，包括：基于各节点之间的邻接关系，构建无向图；以所述目标节点为根节点，深度遍历所述无向图，得到目标树；针对所述目标树中的每一节点，利用所述节点的父节点的结构化网格进行特征线对齐及平面化，得到所述节点的结构化网格。6.根据权利要求5所述的方法，其特征在于，当一节点为所述目标节点的邻接同轴柱组节点时，利用所述节点的父节点的结构化网格进行特征线对齐及平面化，得到所述节点的结构化网格的过程，包括：获取所述节点的外柱面与所述目标节点的外球面的交界线；获取所述目标节点的外球面中的目标经线与所述交界线的交界点，以及获取所述目标节点的外球面中的目标纬线与所述交界线的交点；基于各交点确定所述外柱面的纵向裁剪线，并基于所述纵向裁剪线对所述外柱面进行有限元网格化处理，得到所述外柱面的结构化网格；将所述外柱面的结构化网格映射至所述节点的内柱面，得到所述节点的内柱面的结构化网格。7.根据权利要求1所述的方法，其特征在于，在基于所述目标节点的结构化网格，确定其他各节点的结构化网格之后，还包括：基于各几何面的几何参数，确定各邻近球组，每一邻近球组包括两个球面，其中一个球面包裹在另一个球面内部，所述两个球面不属于同一同心球组节点，且所述两个球面中部分面片的距离小于预设的第三阈值；针对每一邻近球组，判断所述邻近球组中外球面的结构化网格是否与内球面发生干涉；若是，获取外球面的结构化网格与内球面发生干涉的网格部分，并对所述网格部分的裁剪线进行加密处理，得到外球面新的结构化网格，所述新的结构化网格与内球面不发生干涉。8.一种球面结构化网格剖分装置，其特征在于，包括：参数获取单元，用于获取各几何面的几何参数，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置；节点确定单元，用于基于各几何面的几何参数，确定各节点，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接；第一剖分单元，用于以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格；第二剖分单元，用于基于所述目标节点的结构化网格，确定其他各节点的结构化网格。9.一种球面结构化网格剖分设备，其特征在于，包括：存储器和处理器；所述存储器，用于存储程序；所述处理器，用于执行所述程序，实现如权利要求1~7中任一项所述的球面结构化网格剖分方法的各个步骤。10.一种存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时，实现如权利要求1~7中任一项所述的球面结构化网格剖分方法的各个步骤。
说明书desc
技术领域本申请涉及三维模型平面化技术领域，更具体地说，是涉及一种球面结构化网格剖分方法、装置及相关设备。背景技术目前，航天、机械、汽车、家电等各个领域都离不开仿真分析，通过仿真分析，可以在确保质量的前提下，有效降低检验成本。球面和类球面结构作为三维模型中的基础几何对象，在这些领域的产品设计中被广泛使用。图1示例了球面射电望远镜，考虑到各种天气及环境影响，需要对望远镜进行静力、动力和结构等分析，这些分析就是在划分网格的基础上进行仿真分析，以此确定该球面望远镜的各项设计是否合理；图2示例了球面建筑，需要对其进行结构分析，判断是否安全坚固；图3示例了球销副，在机械制造中较为常见，需要对其进行失效及动力分析，判断其寿命及承载力；图4示例了常见的球形吊灯，需要对其进行热力分析，判断是否安全合格。而仿真分析的基础便是对三维模型进行有限元网格划分，因此，一种好的球面网格剖分方法，对上述行业的仿真分析至关重要。网格可以根据网格的单元拓扑关系分为非结构网格和结构网格。图5示例了非结构网格，非结构网格对几何没有要求，每个内部节点周围的单元数量不等，需要显式表达网格。图6示例了结构网格，该网格所有节点连接的三角形单元数目都是6。可知，结构网格较为规整，要求每个内部网格节点周围的单元数量相等，同样对几何也要求相对规整。此外，若按一定规则对结构网格的节点进行编号，则节点相邻关系等网格拓扑信息可隐藏于节点编号之中。与非结构网格相比，结构网格在存储及访问方面都更有优势。另外，结构网格具有很好的正交性和贴边性，如图6所示的结构化网格与球面很接近，几何精度高，数值计算的精度也比非结构化网格高。而精度在建筑、机械及电器设计这些容错率极低的场景下尤为重要。因此，对于球面这类简单且常用的曲面，我们期望获得结构化网格。发明内容有鉴于此，本申请提供了一种球面结构化网格剖分方法、装置及相关设备，以实现对以球面为主的复杂几何体的结构化网格剖分。为实现上述目的，本申请第一方面提供了一种球面结构化网格剖分方法，包括：获取各几何面的几何参数，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置；基于各几何面的几何参数，确定各节点，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接；以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格；基于所述目标节点的结构化网格，确定其他各节点的结构化网格。优选地，基于各几何面的几何参数，确定同心球组节点的过程，包括：基于各几何面的几何参数，筛选出球心距离在预设的第一阈值之内的第一几何面，所述第一几何面为球面；从各第一几何面中筛选出半径比例在预设的第二阈值之内的第二几何面，并将各第二几何面确定为同心球组节点。优选地，以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格的过程，包括：对于所述目标节点中半径最大的第一球面，基于给定的裁剪份数以及预先确定的起始位置，对所述第一球面进行几何划分，得到所述第一球面的结构化网格；基于所述起始位置，将所述第一球面的结构化网格映射至第二球面，得到所述第二球面的结构化网格，所述第二球面为所述目标节点中除所述第一球面以外的其他球面。优选地，对于所述目标节点中半径最大的第一球面，基于给定的裁剪份数以及预先确定的起始位置，对所述第一球面进行几何划分，得到所述第一球面的结构化网格的过程，包括：获取所述目标节点的一个邻接同轴柱组节点，并基于所述邻接同轴柱组节点，确定所述目标节点的两个极点；基于所述裁剪份数、所述起始位置以及所述两个极点，确定所述第一球面的各目标经线和各目标纬线，各目标经线之间以及各目标纬线之间间隔均匀；基于各目标经线以及各目标纬线，对所述第一球面进行有限元网格化处理，得到所述第一球面的结构化网格。优选地，基于所述目标节点的结构化网格，确定其他各节点的结构化网格的过程，包括：基于各节点之间的邻接关系，构建无向图；以所述目标节点为根节点，深度遍历所述无向图，得到目标树；针对所述目标树中的每一节点，利用所述节点的父节点的结构化网格进行特征线对齐及平面化，得到所述节点的结构化网格。优选地，当一节点为所述目标节点的邻接同轴柱组节点时，利用所述节点的父节点的结构化网格进行特征线对齐及平面化，得到所述节点的结构化网格的过程，包括：获取所述节点的外柱面与所述目标节点的外球面的交界线；获取所述目标节点的外球面中的目标经线与所述交界线的交界点，以及获取所述目标节点的外球面中的目标纬线与所述交界线的交点；基于各交点确定所述外柱面的纵向裁剪线，并基于所述纵向裁剪线对所述外柱面进行有限元网格化处理，得到所述外柱面的结构化网格；将所述外柱面的结构化网格映射至所述节点的内柱面，得到所述节点的内柱面的结构化网格。优选地，在基于所述目标节点的结构化网格，确定其他各节点的结构化网格之后，还包括：基于各几何面的几何参数，确定各邻近球组，每一邻近球组包括两个球面，其中一个球面包裹在另一个球面内部，所述两个球面不属于同一同心球组节点，且所述两个球面中部分面片的距离小于预设的第三阈值；针对每一邻近球组，判断所述邻近球组中外球面的结构化网格是否与内球面发生干涉；若是，获取外球面的结构化网格与内球面发生干涉的网格部分，并对所述网格部分的裁剪线进行加密处理，得到外球面新的结构化网格，所述新的结构化网格与内球面不发生干涉。本申请第二方面提供了一种球面结构化网格剖分装置，包括：参数获取单元，用于获取各几何面的几何参数，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置；节点确定单元，用于基于各几何面的几何参数，确定各节点，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接；第一剖分单元，用于以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格；第二剖分单元，用于基于所述目标节点的结构化网格，确定其他各节点的结构化网格。本申请第三方面提供了一种球面结构化网格剖分设备，包括：存储器和处理器；所述存储器，用于存储程序；所述处理器，用于执行所述程序，实现上述的球面结构化网格剖分方法的各个步骤。本申请第四方面提供了一种存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时，实现如上述的球面结构化网格剖分方法的各个步骤。经由上述的技术方案可知，本申请首先获取各几何面的几何参数，其中，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置。需要注明的是，每一几何面是一个简单几何面，所有几何面一起构成复杂几何体。然后，基于各几何面的几何参数，确定各节点，其中，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接，即，任一节点中的几何面至少与一个其他节点的几何面相交。接着，以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格。最后，基于所述目标节点的结构化网格，确定其他各节点的结构化网格。由于目标节点具有最多邻居节点，意味着目标节点中的球面与较多的其他几何面相交，即目标节点中的球面相当于整个复杂几何体的中枢几何面，通过参考所述目标节点的结构化网格，去构造其他各节点的结构化网格，使得各节点的网格裁剪线具有一定的协调性，所得到的各结构化网格也更规整。至此，本申请实现了对以球面及柱面构成的复杂几何体的结构化网格剖分，且各复杂几何体中各几何面的结构化网格具有较高的规整性。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1示例了球面射电望远镜；图2示例了球面建筑；图3示例了球销副；图4示例了球形吊灯；图5示例了本申请实施例公开的非结构网格；图6示例了本申请实施例公开的结构网格；图7示例了本申请实施例公开的球面；图8示例了本申请实施例公开的球面的平面面片；图9示例了本申请实施例公开的球面的结构化网格；图10示例了本申请实施例公开的球心重合的两个球面；图11示例了本申请实施例公开的比较邻近的两个球面；图12示例了本申请实施例公开的划分网格后的赤道截面；图13示例了本申请实施例公开的划分网格后的另一截面；图14示例了本申请实施例公开的球面和柱面的拓扑关系；图15示例了本申请实施例公开的对连接体划分的结构化网格；图16为本申请实施例公开的球面结构化网格剖分方法的示意图；图17示例了本申请实施例公开的相同球心的两个球面的截面；图18示例了本申请实施例公开的球面的目标经线和目标纬线；图19示例了本申请实施例公开的目标树；图20为本申请实施例公开的球面结构化网格剖分方法的另一示意图；图21示例了本申请实施例公开的内外球面的网格发生干涉的情况；图22示例了本申请实施例公开的增加裁剪线后的情况；图23为本申请实施例公开的球面结构化网格剖分装置的示意图；图24为本申请实施例公开的球面结构化网格剖分装置的另一示意图；图25为本申请实施例公开的球面结构化网格剖分设备的示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请的发明人发现，在对复杂几何体的结构化网格剖分中，首先需要对单个球面进行前处理，添加特征线去划分球面，然后在划分后对应的平面上运用Delaunay三角剖分算法获取结构化网格。此时特征线的位置就决定了网格的均匀程度，图7为一张球面，对其添加均匀特征线，考虑特征线对应的子面构成的平面面片，得到如图8所示的平面面片；对平面面片采用Delaunay三角剖分算法得到图9所示的结构化网格。其次，一个几何对象中常常不止一个球面，这时就需要考虑球面间的几何关系以及球面和其它几何间的拓扑关系。其中球面间的几何关系包括球面的球心重合和球面接近但不相交。球心重合的球面半径差异任意小时，球面之间并不会干涉，但是对应的网格并不能保证这一点，但是干涉在实际生活生产是不会出现的；球面接近但不相交，由于内部球面裁剪方式的多样性，两球面均平面化后的干涉很难计算，因此采取外部球面平面化后和内部完整球面进行干涉判断。若两者不会干涉，那么内部球面平面化后更不会和外部球面平面化后的结果发生干涉。在两球面的最短距离小于一定值时，可能导致网格干涉，这是需要避免的。球面和其它几何之间的拓扑关系主要是指球面和柱面的拓扑关系，如图14。在球面和柱面连接模型添加特征线时，要保证对应特征线交于一点，这样可以使得仿真计算结果更符合实际，划分的结构化网格见图15。下面详细介绍本申请实施例提供的球面结构化网格剖分方法。请参阅图16，本申请实施例提供的球面结构化网格剖分方法可以包括如下步骤：步骤S101，获取各几何面的几何参数。其中，每一几何面均为一个简单几何面，这些简单几何面可以是球面或柱面，所有几何面通过一定的连接关系构成一个复杂几何体。一几何面的几何参数用于描述该几何面的形状及位置，示例性地，对于一个球面，其几何参数可以是该球面对应的球心坐标和半径大小。步骤S102，基于各几何面的几何参数，确定各节点。在考虑现实生活中几何体均有一定厚度的情况下，球面及柱面均成双出现。因此，同心球组可以构成一个同心球组节点，其中，同心球组由至少2个球心接近的球面组成，且同心球组中各球面的半径也比较接近；同轴柱组也可以构成一个同轴柱组节点，其中，同轴柱面组由至少2个轴比较接近的柱面组成，且同轴柱面组中各柱面的底面半径比较接近。在考虑各几何面均不是孤立几何面的情况下，任一节点至少与一个其他节点邻接。步骤S103，以具有最多邻居节点的同心球组节点为目标节点，确定该目标节点的结构化网格。其中，基于各节点以及节点间的连接关系，可以生成一个无向图，一个节点的度由该节点的邻居数量决定，某节点的邻居节点是指与该节点相邻的节点，在本申请的应用场景中，某节点的邻居节点是指与该节点相连接的节点，邻居节点最多的节点亦即度最多的节点。可以理解的是，在一个复杂几何体中，某节点的邻居节点数量最多，意味着该节点在该复杂几何体中的位置比较核心。因此，在各节点中，将具有最多邻居节点的同心球组节点确定为目标节点的过程，可以包括：S1，基于各几何面的几何参数，确定各节点之间的连接关系。S2，基于各节点之间的连接关系，生成无向图。S3，将该无向图中度最多的同心球组节点，确定为目标节点。由于目标节点为同心球组节点，其包含至少2个球心比较接近的球面，那么，目标节点的结构化网格的过程，可以包括：基于给定的裁剪份数，利用几何划分方法，对每一个球面进行裁剪，得到相应的结构化网格。步骤S104，基于该目标节点的结构化网格，确定其他各节点的结构化网格。示例性地，以该目标节点为参考，首先确定与该目标节点相邻的一级子节点的结构化网格，具体地，基于目标节点中结构化网格的裁剪线在交界处的情况，确定一级子节点的裁剪线，进一步处理得到结构化网格；然后再基于一级子节点的结构化网格，按照同样的方法去确定与一级子节点相邻的二级子节点的结构化网格。本申请首先获取各几何面的几何参数，其中，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置。需要注明的是，每一几何面是一个简单几何面，所有几何面一起构成复杂几何体。然后，基于各几何面的几何参数，确定各节点，其中，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接，即，任一节点中的几何面至少与一个其他节点的几何面相交。接着，以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格。最后，基于所述目标节点的结构化网格，确定其他各节点的结构化网格。由于目标节点具有最多邻居节点，意味着目标节点中的球面与较多的其他几何面相交，即目标节点中的球面相当于整个复杂几何体的中枢几何面，通过参考所述目标节点的结构化网格，去构造其他各节点的结构化网格，使得各节点的网格裁剪线具有一定的协调性，所得到的各结构化网格也更规整。至此，本申请实现了对以球面及柱面构成的复杂几何体的结构化网格剖分，且各复杂几何体中各几何面的结构化网格具有较高的规整性。在本申请的一些实施例中，步骤S102基于各几何面的几何参数，确定同心球组节点的过程，可以包括：S1，基于各几何面的几何参数，筛选出球心距离在预设的第一阈值之内的第一几何面。需要注明的是，该第一几何面为球面。上述条件可以表示为如下数学式：其中，分别为两球面的球心，/＞为给定的几何容差，即第一阈值。S2，从各第一几何面中筛选出半径比例在预设的第二阈值之内的第二几何面，并将各第二几何面确定为同心球组节点。即两球面的半径需满足如下数学式：其中，如图10和图17所示，分别为内外球面的半径，α为一个小面片对应的圆心角。此时外球面由于平面化缩小，会与内球面相交，才有可能与内球面平面化后的面片干涉。反之，两球面由于半径差异过大，平面化不会导致其干涉，可以采取不同的裁剪策略，故不考虑其为同心球组。在本申请的一些实施例中，步骤S102基于各几何面的几何参数，确定同轴柱组节点的过程，可以包括：S1，基于各几何面的几何参数，筛选出轴的距离在预设的第四阈值之内的第三几何面。需要注明的是，该第三几何面为柱面。S2，从各第三几何面中筛选出半径比例在预设的第五阈值之内的第四几何面，并将各第四几何面确定为同轴柱组节点。具体方法参见上述对于同心球组的处理，此处不再赘述。在本申请的一些实施例中，步骤S103以具有最多邻居节点的同心球组节点为目标节点，确定该目标节点的结构化网格的过程，可以包括：S1，对于目标节点中半径最大的第一球面，基于给定的裁剪份数以及预先确定的起始位置，对第一球面进行几何划分，得到第一球面的结构化网格。S2，基于该起始位置，将第一球面的结构化网格映射至第二球面，得到第二球面的结构化网格。其中，第二球面为目标节点中除第一球面以外的其他球面，由于第一球面为目标节点中半径最大的球面，意味着第一球面为目标节点中的外球面，第二球面为目标节点中的内球面。示例性地，起始位置可以是某条目标经线，将第一球面的结构化网格映射至第二球面的过程，相当于以外球面的球心为参考点，将外球面的结构化网格等比例地缩小，并铺设于内球面上，在这种情况下，外球面的目标经线与内球面的目标经线在同一截面上，且该截面通过外球面的球心。在本申请的一些实施例中，上述S1对于目标节点中半径最大的第一球面，基于给定的裁剪份数以及预先确定的起始位置，对第一球面进行几何划分，得到第一球面的结构化网格的过程，可以包括：S11，获取目标节点的一个邻接同轴柱组节点，并基于该邻接同轴柱组节点，确定目标节点的两个极点。需要注明的是，目标节点的两个极点即目标节点中外球面上的两个极点。示例性地，假设该邻接同轴柱组节点中的外柱面，正交于目标节点的外球面，即，该外柱面的轴穿过外球面的球心，则可以将该外柱面的轴与该外球面的两个交点，确定为两个极点。S12，基于裁剪份数、起始位置以及两个极点，确定第一球面的各目标经线和各目标纬线。其中，各目标经线之间间隔均匀，各目标纬线之间也间隔均匀。S13，基于各目标经线以及各目标纬线，对第一球面进行有限元网格化处理，得到第一球面的结构化网格。示例性地，如图18所示，各目标经线以及各目标纬线已经将第一球面划分成多个四边形；如图15所示，在每一四边形中添加对角线将其划分为2个三角形，则各三角形构成第一球面的结构化网格。在本申请的一些实施例中，步骤S104基于该目标节点的结构化网格，确定其他各节点的结构化网格的过程，可以包括：S1，基于各节点之间的邻接关系，构建无向图。其中，各节点之间的邻接关系可以通过各几何面的几何参数计算得到。S2，以该目标节点为根节点，深度遍历该无向图，得到目标树。如图10所示的复杂几何体中，包含1个同心球组节点A以及3个同轴柱组节点B、C、D。那么，以节点A为根节点，深度遍历后，得到的目标树如图19所示。S3，针对目标树中的每一节点，利用该节点的父节点的结构化网格进行特征线对齐及平面化，得到该节点的结构化网格。示例性地，对于如图19所示的目标树，由于节点B、C、D的父节点均为节点A，因此，以节点A的目标经线为参考，确定节点D的纵向裁剪线；以节点A的目标纬线为参考，确定节点B、C的纵向裁剪线。然后，结合柱面本身的几何特点，在确定纵向裁剪线后，进一步确定横向裁剪线，得到各四边形；接着，在每一四边形中添加对角线，从而得到最终的结构化网格。在本申请的一些实施例中，当一节点为该目标节点的邻接同轴柱组节点时，上述S3利用该节点的父节点的结构化网格进行特征线对齐及平面化，得到该节点的结构化网格的过程，可以包括：S31，获取该节点的外柱面与目标节点的外球面的交界线。S32，获取目标节点的外球面中的目标经线与该交界线的交界点，以及获取目标节点的外球面中的目标纬线与该交界线的交点。S33，基于各交点确定外柱面的纵向裁剪线，并基于纵向裁剪线对所述外柱面进行有限元网格化处理，得到外柱面的结构化网格。示例性地，可以在纵向裁剪线的基础上，添加等间隔的横向裁剪线，然后在每一单位四边形中添加对角线裁剪线，从而得到外柱面的结构化网格。S34，将所外柱面的结构化网格映射至该节点的内柱面，得到该节点的内柱面的结构化网格。示例性地，可以以轴为参考，结合外柱面和内柱面的半径比例，等比例地将外柱面的结构化网格映射到内柱面上，其中，外柱面纵向裁剪线与内柱面的纵向裁剪线一一对应，且与轴线在同一纵向截面上。至此，完成该节点内外柱面的结构化网格剖分。同心球组平面化后的面片之间根据几何划分不会发生干涉，然而，如果两个球面为邻近球组，按照几何划分的方式进行球面平面化时，可能会发生面片之间的干涉。由于球面几何的高度对称性以及平面化后的经纬线差别，内部球裁剪角度的多样性，很难判断两球裁剪之后干涉的位置，所以通过简单的几何推演难以解决邻近球组之间的各种干涉问题。在本申请的一些实施例中，请参阅图20，在步骤S104基于该目标节点的结构化网格，确定其他各节点的结构化网格之后，还可以包括：步骤S105，基于各几何面的几何参数，确定各邻近球组。其中，如图11所示，每一邻近球组可以包括两个球面，其中一个球面包裹在另一个球面内部，所述两个球面不属于同一同心球组节点，即不满足上述式，且所述两个球面中部分面片的距离小于预设的第三阈值。具体地，邻近球组中的两个球面需要满足下述数学式：其中分别为两球面的球心，/＞为给定的几何容差。同时，两个球面中部分面片满足下述数学式：其中分别为内外球面的半径，/＞为外球面一个小面片对应的裁剪圆心角。步骤S106，针对每一邻近球组，判断是否存在干涉。若是，执行步骤S107。具体地，针对每一邻近球组，判断该邻近球组中外球面的结构化网格是否与内球面发生干涉。步骤S107，获取外球面的结构化网格与内球面发生干涉的网格部分，并对该网格部分的裁剪线进行加密处理，得到外球面新的结构化网格。其中，该新的结构化网格与内球面不发生干涉。在上述处理过程中，首先确定外部球的平面化裁剪方式，然后确定与内部球面可能会发生干涉的位置，最后对外部球面进行裁剪线加密，直至加密后的结构化网格不再与内球面发生干涉。通过后验检查的平面化外部球面就一定不会与平面化后的内球面的结构化网格发生干涉。示例性地，如图11中的两个不同球心且邻近的球面，考虑其最接近位置的最大截面，如图21，可以发现S2球面的分割线AB、BC与S1球面相交，即内外球面出现干涉。此时，如图22所示，我们在外球面上增加裁剪线，此时平面化后的外球面与内球面将不会干涉，与平面化后的内球面更不会干涉。下面对本申请实施例提供的球面结构化网格剖分装置进行描述，下文描述的球面结构化网格剖分装置与上文描述的球面结构化网格剖分方法可相互对应参照。请参见图23，本申请实施例提供的球面结构化网格剖分装置，可以包括：参数获取单元21，用于获取各几何面的几何参数，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置；节点确定单元22，用于基于各几何面的几何参数，确定各节点，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接；第一剖分单元23，用于以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格；第二剖分单元24，用于基于所述目标节点的结构化网格，确定其他各节点的结构化网格。在本申请的一些实施例中，节点确定单元22基于各几何面的几何参数，确定同心球组节点的过程，可以包括：基于各几何面的几何参数，筛选出球心距离在预设的第一阈值之内的第一几何面，所述第一几何面为球面；从各第一几何面中筛选出半径比例在预设的第二阈值之内的第二几何面，并将各第二几何面确定为同心球组节点。在本申请的一些实施例中，第一剖分单元23以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格的过程，可以包括：对于所述目标节点中半径最大的第一球面，基于给定的裁剪份数以及预先确定的起始位置，对所述第一球面进行几何划分，得到所述第一球面的结构化网格；基于所述起始位置，将所述第一球面的结构化网格映射至第二球面，得到所述第二球面的结构化网格，所述第二球面为所述目标节点中除所述第一球面以外的其他球面。在本申请的一些实施例中，对于所述目标节点中半径最大的第一球面，第一剖分单元23基于给定的裁剪份数以及预先确定的起始位置，对所述第一球面进行几何划分，得到所述第一球面的结构化网格的过程，可以包括：获取所述目标节点的一个邻接同轴柱组节点，并基于所述邻接同轴柱组节点，确定所述目标节点的两个极点；基于所述裁剪份数、所述起始位置以及所述两个极点，确定所述第一球面的各目标经线和各目标纬线，各目标经线之间以及各目标纬线之间间隔均匀；基于各目标经线以及各目标纬线，对所述第一球面进行有限元网格化处理，得到所述第一球面的结构化网格。在本申请的一些实施例中，第二剖分单元24基于所述目标节点的结构化网格，确定其他各节点的结构化网格的过程，可以包括：基于各节点之间的邻接关系，构建无向图；以所述目标节点为根节点，深度遍历所述无向图，得到目标树；针对所述目标树中的每一节点，利用所述节点的父节点的结构化网格进行特征线对齐及平面化，得到所述节点的结构化网格。在本申请的一些实施例中，当一节点为所述目标节点的邻接同轴柱组节点时，第二剖分单元24利用所述节点的父节点的结构化网格进行特征线对齐及平面化，得到所述节点的结构化网格的过程，可以包括：获取所述节点的外柱面与所述目标节点的外球面的交界线；获取所述目标节点的外球面中的目标经线与所述交界线的交界点，以及获取所述目标节点的外球面中的目标纬线与所述交界线的交点；基于各交点确定所述外柱面的纵向裁剪线，并基于所述纵向裁剪线对所述外柱面进行有限元网格化处理，得到所述外柱面的结构化网格；将所述外柱面的结构化网格映射至所述节点的内柱面，得到所述节点的内柱面的结构化网格。在本申请的一些实施例中，请参阅图24，所述球面结构化网格剖分装置还可以包括网格后验单元25，网格后验单元25用于：在第二剖分单元24基于所述目标节点的结构化网格，确定其他各节点的结构化网格之后，基于各几何面的几何参数，确定各邻近球组，每一邻近球组包括两个球面，其中一个球面包裹在另一个球面内部，所述两个球面不属于同一同心球组节点，且所述两个球面中部分面片的距离小于预设的第三阈值；针对每一邻近球组，判断所述邻近球组中外球面的结构化网格是否与内球面发生干涉；若是，获取外球面的结构化网格与内球面发生干涉的网格部分，并对所述网格部分的裁剪线进行加密处理，得到外球面新的结构化网格，所述新的结构化网格与内球面不发生干涉。本申请实施例提供的球面结构化网格剖分装置可应用于球面结构化网格剖分设备，如计算机等。可选的，图25示出了球面结构化网格剖分设备的硬件结构框图，参照图25，球面结构化网格剖分设备的硬件结构可以包括：至少一个处理器31，至少一个通信接口32，至少一个存储器33和至少一个通信总线34。在本申请实施例中，处理器31、通信接口32、存储器33、通信总线34的数量为至少一个，且处理器31、通信接口32、存储器33通过通信总线34完成相互间的通信；处理器31可能是一个中央处理器CPU，或者是特定集成电路ASIC，或者是被配置成实施本申请实施例的一个或多个集成电路等；存储器33可能包含高速RAM存储器，也可能还包括非易失性存储器等，例如至少一个磁盘存储器；其中，存储器33存储有程序，处理器31可调用存储器33存储的程序，所述程序用于：获取各几何面的几何参数，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置；基于各几何面的几何参数，确定各节点，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接；以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格；基于所述目标节点的结构化网格，确定其他各节点的结构化网格。可选的，所述程序的细化功能和扩展功能可参照上文描述。本申请实施例还提供一种存储介质，该存储介质可存储有适于处理器执行的程序，所述程序用于：获取各几何面的几何参数，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置；基于各几何面的几何参数，确定各节点，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接；以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格；基于所述目标节点的结构化网格，确定其他各节点的结构化网格。可选的，所述程序的细化功能和扩展功能可参照上文描述。综上所述：本申请首先获取各几何面的几何参数，其中，所述各几何面包括球面和柱面，所述几何参数用于描述几何面的形状及位置。需要注明的是，每一几何面是一个简单几何面，所有几何面一起构成复杂几何体。然后，基于各几何面的几何参数，确定各节点，其中，所述节点为同心球组节点或同轴柱组节点，任一节点至少与一个其他节点邻接，即，任一节点中的几何面至少与一个其他节点的几何面相交。接着，以具有最多邻居节点的同心球组节点为目标节点，确定所述目标节点的结构化网格。最后，基于所述目标节点的结构化网格，确定其他各节点的结构化网格。由于目标节点具有最多邻居节点，意味着目标节点中的球面与较多的其他几何面相交，即目标节点中的球面相当于整个复杂几何体的中枢几何面，通过参考所述目标节点的结构化网格，去构造其他各节点的结构化网格，使得各节点的网格裁剪线具有一定的协调性，所得到的各结构化网格也更规整。至此，本申请实现了对以球面及柱面构成的复杂几何体的结构化网格剖分，且各复杂几何体中各几何面的结构化网格具有较高的规整性。最后，还需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间可以根据需要进行组合，且相同相似部分互相参见即可。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本申请。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本申请的精神或范围的情况下，在其它实施例中实现。因此，本申请将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
