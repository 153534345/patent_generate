标题title
一种LED灯具视觉检测方法、系统及存储介质
摘要abst
本发明公开了一种LED灯具视觉检测方法、系统及存储介质，属于质量检测技术领域，其中，方法包括：获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像；基于未点亮状态时的第一目标检测图像，检查待检测LED灯具上的各个元器件，与标准LED灯具进行比对，得到器件偏差值；如果器件偏差值大于偏差阈值，则判断待检测LED灯具质量不合格，否则，则质量合格，执行下一步骤；基于点亮状态时的第二目标检测图像，实时获取待检测LED灯具单位时间的亮度值和温度值，并绘制亮度‑时间变化图和温度‑时间变化图，预测光衰值；如果光衰值大于光衰阈值，则判断待检测LED灯具质量不合格，否则，则质量合格。
权利要求书clms
1.一种LED灯具视觉检测方法，其特征在于，包括：步骤S1：获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像；步骤S2：基于未点亮状态时的第一目标检测图像，检查所述待检测LED灯具上的各个元器件，与标准LED灯具进行比对，得到所述待检测LED灯具的器件偏差值；步骤S3：如果所述待检测LED灯具的器件偏差值大于偏差阈值，则判断所述待检测LED灯具质量不合格，否则，则质量合格，执行下一步骤；步骤S4：基于点亮状态时的第二目标检测图像，实时获取所述待检测LED灯具单位时间的亮度值和温度值，并绘制亮度-时间变化图和温度-时间变化图；步骤S5：基于亮度-时间变化图得到亮度变化率，基于温度-时间变化图得到升温变化率和散热变化率；步骤S6：基于亮度变化率、升温变化率、散热变化率和光衰预测公式，预测所述待检测LED灯具的光衰值；步骤S7：如果所述待检测LED灯具的光衰值大于光衰阈值，则判断所述待检测LED灯具质量不合格，否则，则质量合格。2.如权利要求1所述的LED灯具视觉检测方法，其特征在于，所述步骤S2具体包括以下步骤：S201：将未点亮状态时的所述第一目标检测图像，划分为不同的检测区域，在检测区域内框选所述待检测LED灯具上的元器件，获取所述待检测LED灯具上的元器件的焊接缝隙的间隙距离；S202：将标准LED灯具图像依据步骤S201划分为不同的检测区域，在检测区域内框选所述标准LED灯具上的元器件，获取所述标准LED灯具上的元器件的焊接缝隙的间隙距离 ；S203：根据焊接缝隙偏差值的公式，得到焊接缝隙偏差值θ。3.如权利要求1所述的LED灯具视觉检测方法，其特征在于，所述第二目标检测图像包括灯具图像和红外热成像图。4.如权利要求3所述的LED灯具视觉检测方法，其特征在于，所述步骤S4中实时获取所述待检测LED灯具单位时间的亮度值，并绘制亮度-时间变化图，具体包括：实时获取点亮状态的所述待检测LED灯具的灯具图像，直到所述待检测LED灯具完全亮起，其中，所述灯具图像至少包括初始图像和最终图像；根据初始图像和最终图像之间的间隔图像，获取间隔图像的帧数和每帧间隔图像的亮度值；根据间隔图像的帧数得到反应时间，根据每帧间隔图像的亮度值得到所述待检测LED灯具单位时间的亮度值，绘制亮度-时间变化图。5.如权利要求3所述的LED灯具视觉检测方法，其特征在于，所述步骤S4中实时获取所述待检测LED灯具单位时间的温度值，并绘制温度-时间变化图，具体包括：基于点亮状态的所述待检测LED灯具，实时获取单位时间内所述待检测LED灯具的红外热成像图，根据红外热成像图获取单位时间的温度值，绘制温度-时间变化图。6.如权利要求4所述的LED灯具视觉检测方法，其特征在于，所述亮度-时间变化图包括上升区间和平稳区间，所述亮度变化率为上升区间到平稳区间的单位时间亮度变化。7.如权利要求5所述的LED灯具视觉检测方法，其特征在于，所述温度-时间变化图包括上升区间、平稳区间和下降区间，所述升温变化率为上升区间到平稳区间的单位时间温度变化，所述散热变化率为平稳区间到下降区间的单位时间温度变化。8.如权利要求1所述的LED灯具视觉检测方法，其特征在于，所述光衰预测公式为：；其中，为待检测LED灯具的光衰值，k1为亮度变化对应的光衰预设权重，t为待检测LED灯具完全亮起的反应时间，f1为待检测LED灯具的亮度变化率，k2为温度变化对应的光衰预设权重，f2为待检测LED灯具的升温变化率，f3为待检测LED灯具的散热变化率。9.一种LED灯具视觉检测系统，用于实现如权利要求1-8任一项所述的LED灯具视觉检测方法，其特征在于，包括：获取图像单元，用于获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像；第一图像信息处理单元，用于基于未点亮状态时的第一目标检测图像，得到所述待检测LED灯具的器件偏差值；第一判断单元，用于根据器件偏差值和偏差阈值，判断所述待检测LED灯具质量是否合格；第二图像信息处理单元，用于基于点亮状态时的第二目标检测图像，预测所述待检测LED灯具的光衰值；第二判断单元，用于根据光衰值和光衰阈值，判断所述待检测LED灯具质量是否合格。10.一种存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-8任一项所述的LED灯具视觉检测方法。
说明书desc
技术领域本发明涉及质量检测技术领域，具体涉及一种LED灯具视觉检测方法、系统及存储介质。背景技术近年来，LED灯具作为多媒体技术的重要载体之一，在人们工作、生活和娱乐当中起着越来越重要的作用，逐渐引起人们的关注。由于LED发光二极管工作电压低、耐冲击、抗震动、寿命长，所以在大型的显示设备中，目前尚无其他的显示方式能与LED显示方式匹敌。LED灯具的质量检测通常由人工进行，这种方式容易受检测人员的视疲劳影响而出现误差，检测的精度不高。在检测过程中，涉及到了多个方向的检测，一方面检测LED灯具在生产过程中是否有漏焊错焊的情况发生，另一方面检测LED灯具在实际使用中，其LED灯光衰的变化情况。这些检测动作原来由人工完成，在检测中容易出现漏检，检测标准模糊，检测效率低的状况，给产品品质造成较大影响。因此，如何提供一种视觉检测方法，使其提升检测效率，提高产品品质稳定性，节省人力成本，检测手段自动化，是本领域技术人员亟待解决的技术问题。发明内容为此，本发明提供一种LED灯具视觉检测方法、系统及存储介质，以解决现有技术中由于人工检测而导致的检测的精度不高、检测效率低影响产品品质的问题。为了实现上述目的，本发明提供如下技术方案：根据本发明的第一方面，提供了一种LED灯具视觉检测方法，包括：步骤S1：获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像；步骤S2：基于未点亮状态时的第一目标检测图像，检查所述待检测LED灯具上的各个元器件，与标准LED灯具进行比对，得到所述待检测LED灯具的器件偏差值；步骤S3：如果所述待检测LED灯具的器件偏差值大于偏差阈值，则判断所述待检测LED灯具质量不合格，否则，则质量合格，执行下一步骤；步骤S4：基于点亮状态时的第二目标检测图像，实时获取所述待检测LED灯具单位时间的亮度值和温度值，并绘制亮度-时间变化图和温度-时间变化图；步骤S5：基于亮度-时间变化图得到亮度变化率，基于温度-时间变化图得到升温变化率和散热变化率；步骤S6：基于亮度变化率、升温变化率、散热变化率和光衰预测公式，预测所述待检测LED灯具的光衰值；步骤S7：如果所述待检测LED灯具的光衰值大于光衰阈值，则判断所述待检测LED灯具质量不合格，否则，则质量合格。进一步地，所述步骤S2具体包括以下步骤：S201：将未点亮状态时的所述第一目标检测图像，划分为不同的检测区域，在检测区域内框选所述待检测LED灯具上的元器件，获取所述待检测LED灯具上的元器件的焊接缝隙的间隙距离；S202：将标准LED灯具图像依据步骤S201划分为不同的检测区域，在检测区域内框选所述标准LED灯具上的元器件，获取所述标准LED灯具上的元器件的焊接缝隙的间隙距离；S203：根据焊接缝隙偏差值的公式，得到焊接缝隙偏差值θ。进一步地，所述第二目标检测图像包括灯具图像和红外热成像图。进一步地，所述步骤S4中实时获取所述待检测LED灯具单位时间的亮度值，并绘制亮度-时间变化图，具体包括：实时获取点亮状态的所述待检测LED灯具的灯具图像，直到所述待检测LED灯具完全亮起，其中，所述灯具图像至少包括初始图像和最终图像；根据初始图像和最终图像之间的间隔图像，获取间隔图像的帧数和每帧间隔图像的亮度值；根据间隔图像的帧数得到反应时间，根据每帧间隔图像的亮度值得到所述待检测LED灯具单位时间的亮度值，绘制亮度-时间变化图。进一步地，所述步骤S4中实时获取所述待检测LED灯具单位时间的温度值，并绘制温度-时间变化图，具体包括：基于点亮状态的所述待检测LED灯具，实时获取单位时间内所述待检测LED灯具的红外热成像图，根据红外热成像图获取单位时间的温度值，绘制温度-时间变化图。进一步地，所述亮度-时间变化图包括上升区间和平稳区间，所述亮度变化率为上升区间到平稳区间的单位时间亮度变化。进一步地，所述温度-时间变化图包括上升区间、平稳区间和下降区间，所述升温变化率为上升区间到平稳区间的单位时间温度变化，所述散热变化率为平稳区间到下降区间的单位时间温度变化。进一步地，所述光衰预测公式为：；其中，为待检测LED灯具的光衰值，k1为亮度变化对应的光衰预设权重，t为待检测LED灯具完全亮起的反应时间，f1为待检测LED灯具的亮度变化率，k2为温度变化对应的光衰预设权重，f2为待检测LED灯具的升温变化率，f3为待检测LED灯具的散热变化率。根据本发明的第二方面，提供了一种LED灯具视觉检测系统，用于实现上述任一项所述的LED灯具视觉检测方法，包括：获取图像单元，用于获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像；第一图像信息处理单元，用于基于未点亮状态时的第一目标检测图像，得到所述待检测LED灯具的器件偏差值；第一判断单元，用于根据器件偏差值和偏差阈值，判断所述待检测LED灯具质量是否合格；第二图像信息处理单元，用于基于点亮状态时的第二目标检测图像，预测所述待检测LED灯具的光衰值；第二判断单元，用于根据光衰值和光衰阈值，判断所述待检测LED灯具质量是否合格。根据本发明的第三方面，提供了一种存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上述任一项所述的LED灯具视觉检测方法。本发明具有如下优点：本发明获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像。基于未点亮状态时的第一目标检测图像，检查待检测LED灯具上的各个元器件，与标准LED灯具进行比对，得到待检测LED灯具的器件偏差值。如果待检测LED灯具的器件偏差值大于偏差阈值，则判断待检测LED灯具质量不合格，否则，则质量合格，执行下一步骤。基于点亮状态时的第二目标检测图像，实时获取待检测LED灯具单位时间的亮度值和温度值，并绘制亮度-时间变化图和温度-时间变化图。基于亮度-时间变化图得到亮度变化率，基于温度-时间变化图得到升温变化率和散热变化率。基于亮度变化率、升温变化率、散热变化率和光衰预测公式，预测待检测LED灯具的光衰值。如果待检测LED灯具的光衰值大于光衰阈值，则判断待检测LED灯具质量不合格，否则，则质量合格。本发明通过获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像，对未点亮状态时的第一目标检测图像和点亮状态时的第二目标检测图像进行分析，就能判断待检测LED灯具质量是否合格。检测手段自动化，提升检测效率，提高产品品质稳定性，节省人力成本。附图说明为了更清楚地说明本发明的实施方式或现有技术中的技术方案，下面将对实施方式或现有技术描述中所需要使用的附图作简单地介绍。显而易见地，下面描述中的附图仅仅是示例性的，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图引伸获得其它的实施附图。本说明书所绘示的结构、比例、大小等，均仅用以配合说明书所揭示的内容，以供熟悉此技术的人士了解与阅读，并非用以限定本发明可实施的限定条件，故不具技术上的实质意义，任何结构的修饰、比例关系的改变或大小的调整，在不影响本发明所能产生的功效及所能达成的目的下，均应仍落在本发明所揭示的技术内容得能涵盖的范围内。图1为本发明提供的一种LED灯具视觉检测方法的流程图；图2为本发明提供的方法中步骤S2的具体流程图；图3为本发明提供的一种LED灯具视觉检测系统的连接框图；图4为本发明提供的方法中的亮度-时间变化图；图5为本发明提供的方法中的温度-时间变化图。具体实施方式以下由特定的具体实施例说明本发明的实施方式，熟悉此技术的人士可由本说明书所揭露的内容轻易地了解本发明的其他优点及功效，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。为了解决现有技术中由于人工检测而导致的检测的精度不高、检测效率低、影响产品品质的问题，根据本发明的第一方面，提供了一种LED灯具视觉检测方法，如图1所示的，包括：步骤S1：获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像；步骤S2：基于未点亮状态时的第一目标检测图像，检查待检测LED灯具上的各个元器件，与标准LED灯具进行比对，得到待检测LED灯具的器件偏差值；步骤S3：如果待检测LED灯具的器件偏差值大于偏差阈值，则判断待检测LED灯具质量不合格，否则，则质量合格，执行下一步骤；步骤S4：基于点亮状态时的第二目标检测图像，实时获取待检测LED灯具单位时间的亮度值和温度值，并绘制亮度-时间变化图和温度-时间变化图，其中，第二目标检测图像包括灯具图像和红外热成像图；步骤S5：基于亮度-时间变化图得到亮度变化率，基于温度-时间变化图得到升温变化率和散热变化率；步骤S6：基于亮度变化率、升温变化率、散热变化率和光衰预测公式，预测待检测LED灯具的光衰值；步骤S7：如果待检测LED灯具的光衰值大于光衰阈值，则判断待检测LED灯具质量不合格，否则，则质量合格。LED灯具上具有多种元器件，如灯珠、电阻、电容和变电器等部件，多种元器件焊接在PCB板上，从而形成通路，对LED灯进行供电，使LED灯发光。在检测时，首先对待检测LED灯具的外观进行检查，检查LED灯具上的各个元器件是否均正确焊接在PCB板上。如果检测结果不合格，则表明此LED灯具质量不合格。如果检测结果合格，可对LED灯具进行进一步检测。多方面获取点亮状态时LED灯具的光度参数信息，对LED灯具的光衰情况进行预测。如图2所示的，步骤S2具体包括以下步骤：S201：将未点亮状态时的第一目标检测图像，划分为不同的检测区域，在检测区域内框选待检测LED灯具上的元器件，获取待检测LED灯具上的元器件的焊接缝隙的间隙距离；S202：将标准LED灯具图像依据步骤S201划分为不同的检测区域，在检测区域内框选标准LED灯具上的元器件，获取标准LED灯具上的元器件的焊接缝隙的间隙距离；S203：根据焊接缝隙偏差值的公式，得到焊接缝隙偏差值θ。通过上述检测到的个元器件的焊缝偏差值来判断灯具的质量，其不仅能够反映生产时的灯具质量，还能够在一定程度上反映灯具在预期寿命，即当焊缝偏差值大于偏差阈值时，表明焊接缝隙较大，在预期使用时间内可能导致脱焊等问题。在各个元器件的位置均焊接正确的基础上，检测各个元器件的引脚处的焊接间隙距离。如果焊接间隙距离与标准距离之间的偏差值过大时，表示此元器件处于断路状态，不能形成通路，从而不能为LED灯提供工作环境，因此，判断此LED灯具质量不合格。具体地，步骤S4中实时获取待检测LED灯具单位时间的亮度值，并绘制亮度-时间变化图，具体包括：实时获取点亮状态的待检测LED灯具的灯具图像，直到待检测LED灯具完全亮起，其中，灯具图像至少包括初始图像和最终图像；根据初始图像和最终图像之间的间隔图像，获取间隔图像的帧数和每帧间隔图像的亮度值；根据间隔图像的帧数得到反应时间，根据每帧间隔图像的亮度值得到待检测LED灯具单位时间的亮度值，绘制亮度-时间变化图。LED灯具完全亮起的时间是瞬时短暂的，可通过读取时间帧的方式进行计算。初始图像为亮度为0的图像，最终图像为亮度最大的图像。一秒有24帧图像，可以根据间隔图像的帧数，获得每一帧图像的灯具亮度，同时计算得到LED灯具完全亮起的反应时间。如图4所示的，亮度-时间变化图包括上升区间和平稳区间，图像由零点上升趋近平稳。零点为初始图像亮度，平稳点为最终图像亮度。亮度变化率为上升区间到平稳区间的单位时间亮度变化。亮度-时间变化图的零点到图像平稳点的时间帧个数为间隔图像的帧数。具体地，步骤S4中实时获取待检测LED灯具单位时间的温度值，并绘制温度-时间变化图，具体包括：基于点亮状态的待检测LED灯具，实时获取单位时间内待检测LED灯具的红外热成像图，根据红外热成像图获取单位时间的温度值，绘制温度-时间变化图。如图5所示的，温度-时间变化图包括上升区间、平稳区间和下降区间。上升区间为LED灯具逐渐升温的过程，平稳区间为LED灯具达到最高温度的过程，下降区间为LED灯具逐渐散热降温的过程。LED灯具会由于发光，其温度逐渐上升。为了降低LED灯具的光衰，需要对LED灯具进行降温操作，因此，温度-时间变化图具有上升区间、平稳区间和下降区间。升温变化率为上升区间到平稳区间的单位时间温度变化，散热变化率为平稳区间到下降区间的单位时间温度变化。光衰预测公式为：；其中，为待检测LED灯具的光衰值，k1为亮度变化对应的光衰预设权重，t为待检测LED灯具完全亮起的反应时间，f1为待检测LED灯具的亮度变化率，k2为温度变化对应的光衰预设权重，f2为待检测LED灯具的升温变化率，f3为待检测LED灯具的散热变化率。上述光衰预测公式结合LED灯具的亮度变化情况、升温变化情况和散热变化情况，全方面地对LED灯具的光衰进行综合预测。设定光衰阈值，如果计算得到光衰值大于光衰阈值，则判断此LED灯具质量不合格，否则，则质量合格。根据本发明的第二方面，提供了一种LED灯具视觉检测系统，用于实现一种LED灯具视觉检测方法，如图3所示的，包括：获取图像单元，用于获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像；第一图像信息处理单元，用于基于未点亮状态时的第一目标检测图像，得到待检测LED灯具的器件偏差值；第一判断单元，用于根据器件偏差值和偏差阈值，判断待检测LED灯具质量是否合格；第二图像信息处理单元，用于基于点亮状态时的第二目标检测图像，预测待检测LED灯具的光衰值；第二判断单元，用于根据光衰值和光衰阈值，判断待检测LED灯具质量是否合格。具体地，获取图像单元获取未点亮状态和点亮状态的待检测LED灯具的目标检测图像。第一图像信息处理单元基于未点亮状态时的第一目标检测图像，检查待检测LED灯具上的各个元器件，与标准LED灯具进行比对，得到待检测LED灯具的器件偏差值。如果待检测LED灯具的器件偏差值大于偏差阈值，第一判断单元则判断待检测LED灯具质量不合格，否则，则质量合格，执行下一步骤。第二图像信息处理单元基于点亮状态时的第二目标检测图像，实时获取待检测LED灯具单位时间的亮度值和温度值，并绘制亮度-时间变化图和温度-时间变化图。基于亮度-时间变化图得到亮度变化率，基于温度-时间变化图得到升温变化率和散热变化率。基于亮度变化率、升温变化率、散热变化率和光衰预测公式，预测待检测LED灯具的光衰值。如果待检测LED灯具的光衰值大于光衰阈值，第二判断单元则判断待检测LED灯具质量不合格，否则，则质量合格。根据本发明的第三方面，提供了一种存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现一种LED灯具视觉检测方法。虽然，上文中已经用一般性说明及具体实施例对本发明作了详尽的描述，但在本发明基础上，可以对之作一些修改或改进，这对本领域技术人员而言是显而易见的。因此，在不偏离本发明精神的基础上所做的这些修改或改进，均属于本发明要求保护的范围。
