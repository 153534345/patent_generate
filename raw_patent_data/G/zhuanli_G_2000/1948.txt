标题title
一种检查检验互认数据采集方法及装置
摘要abst
本发明公开了一种检查检验互认数据采集方法及装置，涉及医疗技术领域，本发明通过部署DICOM采集服务，配置服务器参数，启用Q/R模式下载DICOM文件，利用前置机边缘计算能力进行图像的预解析，提高数据采集的效率和准确性，同时采用AE信息校验验证数据的完整性和准确性，配置信息校验策略，监视DICOM文件到达，将文件复制到指定目录，并根据校验结果管理文件的上传，确保数据的可靠性。同时从服务器端获取参数，将参数本地化存储，此外部署检查报告推送服务，配置API接口，实现医院的检查报告数据自动采集和上传，包括数据统计和缺失数据的补传，通过配置自动恢复机制和定期监控数据完整性，减少数据丢失的风险。
权利要求书clms
1.一种检查检验互认数据采集方法，其特征在于，包括：步骤1：图像采集，设置前置机，部署DICOM采集服务于前置机，配置DICOM服务器参数，启用Q/R模式用于下载DICOM文件，采集相关DICOM数据，支持HTTP/FTP存储格式，利用前置机的边缘计算能力进行图像的预解析；步骤2：数据校验和管理，采用AE信息校验验证数据完整性，配置信息校验策略，监视DICOM文件到达，将文件复制到指定目录；步骤3：参数配置和本地化，从服务器端获取参数，包括每次上传数量、上传线程数、S3存储配置，将服务器端参数本地化存储，配置参数本地化存储，包括服务端网关地址、医院编码、文件存储路径、存储路径规则；步骤4：检查报告采集，在前置机上部署检查报告推送服务，配置推送服务和API接口，报告接收API接口通过编程方式连接各医院推送检查报告和质控数据，配置接收API接口，用于各医院的数据上传；步骤5：质控数据采集，前置机对接医院的质控数据，通过调用API向平台推送质控数据，同时对采集的质控数据进行展示，包括基础质控、质控抽查、质控报表，采用分布式部署方式。2.根据权利要求1所述的一种检查检验互认数据采集方法，其特征在于，所述步骤1中，配置前置机用于执行图像预解析算法，包括DICOM图像处理、压缩和格式转换；采用AE信息校验对数据的完整性和准确性进行验证；配置信息校验策略，将DICOM文件复制到指定目录并进行上传；配置文件监控和复制，设定上传策略和目标；配置前置机的自我恢复机制，用于数据异常以及SCP关闭情况；从服务器端获取参数，包括每次上传数量、上传线程数、S3存储服务配置；进行参数获取接口，采集堆积文件，并将采集的文件缓存到临时目录；配置临时目录和缓存策略，实现断网后的自动恢复机制。3.根据权利要求1所述的一种检查检验互认数据采集方法，其特征在于，所述步骤1中，配置临时目录和缓存策略，具体的：配置缓存策略，包括缓存文件的最大数量、缓存文件的最大大小以及缓存文件的保留时间；在缓存设置中，配置断网后的自动恢复机制：配置前置机在网络恢复时自动上传之前缓存的文件，以及文件上传的线程数量。4.根据权利要求1所述的一种检查检验互认数据采集方法，其特征在于，所述步骤2中，配置AE信息校验策略具体包括：定义校验算法A，设置校验参数P，包括校验阈值、故障容忍度；AE信息校验策略表示为V=，设定文件到达速率R，表示每秒到达的文件数量；使用滑动时间窗口W监控文件到达速率，如果文件到达速率超过阈值，则触发警报；文件到达速率表示为R，t表示时间；警报触发条件表示为：R〉阈值。5.根据权利要求1所述的一种检查检验互认数据采集方法，其特征在于，所述步骤2中，配置AE信息校验策略还包括：对每个收到的DICOM文件应用AE信息校验，采用策略V=进行校验；校验结果表示为I，其中I=1表示校验通过，I=0表示校验失败；如果校验通过，即I=1，则将文件复制到指定目录；定义成功率：，其中表示校验成功率，/＞表示检验成功的文件数量，/＞表示总文件数量；定义故障率：，其中表示校验失败率，/＞表示检验失败的文件数量，/＞同样表示总文件数量。6.根据权利要求1所述的一种检查检验互认数据采集方法，其特征在于，所述步骤4中，检查报告采集包括集成检查报告采集逻辑，通过第三方提供的检查视图进行自动采集；搭建数据库视图，基于数据库视图执行检查报告数据采集作业；配置定时作业和API上传，基于数据库视图定时查询前一天的检查报告统计数据和流水号清单，通过API上传到平台中心；如果存在缺失流水号，重新查询缺失的流水号清单并补传检查报告数据到平台中心。7.根据权利要求1所述的一种检查检验互认数据采集方法，其特征在于，所述步骤5中，质控数据采集展示步骤具体包括：将前置机与医院的质控数据接口进行对接获取医院的质控数据；通过调用API将质控数据传输到平台中心；建立质控数据的数据库，用于存储传输的质控数据；质控指标数据包括影像质量、报告准确性；质控抽查数据包括随机抽查的结果和统计信息；质控报表包括质控数据的可视化图表和汇总信息；所述步骤5中，质控指标计算方式具体为：，其中表示影像质量评分，/＞为总分缺陷分数，/＞表示总分；，其中表示报告准确性评分，/＞表示正确报告数，/＞表示总报告数；，其中表示质控抽查通过率，/＞表示通过数量，/＞表示总抽查数量。8.一种检查检验互认数据采集装置，其特征在于，包括：图像采集模块，用于接收医院端的DICOM文件，支持Q/R模式的DICOM文件下载，提供DICOM文件的预解析和格式转换；数据校验和管理模块，负责验证DICOM数据的完整性和准确性，实施AE信息校验策略，包括校验算法和校验参数设定，监视DICOM文件到达速率；参数配置和本地化模块，用于从服务器端获取上传参数，包括每次上传数量和上传线程数；检查报告采集模块，部署检查报告推送服务，用于自动推送检查报告数据；质控数据采集模块，与医院的质控数据接口对接获取质控数据，使用API将质控数据传输到平台中心。9.一种终端设备，其特征在于，该设备包括：存储器、处理器及存储在存储器上并可在处理器上运行的检查检验互认数据采集方法的控制程序，所述检查检验互认数据采集方法的控制程序被所述处理器执行时实现如权利要求1-7中任一项所述的检查检验互认数据采集方法。10.一种存储介质，其特征在于，该介质应用于计算机，所述存储介质上存储有检查检验互认数据采集方法的控制程序，所述检查检验互认数据采集方法的控制程序被所述处理器执行时实现如权利要求1-7中任一项所述的检查检验互认数据采集方法。
说明书desc
技术领域本发明涉及医疗技术领域，具体为一种检查检验互认数据采集方法及装置。背景技术查检验是医疗服务过程中的一项重要环节，开展检查检验结果互认工作可以有效提升医疗机构运行效率，促进医疗资源合理利用，减轻人民群众就医负担，各级卫生健康行政部门、各级各类医疗卫生机构、广大医务人员要高度重视。然而传统的检查检验互认数据采集方法在多个源或目的地之间传输数据时，可能会出现数据冲突，尤其应用在多社区或医院之间的检查互认数据传输上，概率较大，会导致数据的覆盖不一致，面临数据丢失或损坏风险，无法完全保证数据的完整性和准确性，同时在数据采集和传输方面效率较低，处理大量数据时容易出现性能问题，降低医疗系统的整体质量和可信度，因此亟需一种高传输质量的检查检验互认数据采集方法及装置来解决此类问题。发明内容解决的技术问题针对现有技术的不足，本发明提供了一种检查检验互认数据采集方法及装置，解决现有技术中存在的多个源或目的地之间传输数据时，会导致数据的覆盖不一致，无法完全保证数据的完整性和准确性的问题。技术方案为实现以上目的，本发明通过以下技术方案予以实现，本发明提供了一种检查检验互认数据采集方法，包括：步骤1：图像采集，设置前置机，部署DICOM采集服务于前置机，配置DICOM服务器参数，启用Q/R模式用于下载DICOM文件，采集相关DICOM数据，支持HTTP/FTP存储格式，利用前置机的边缘计算能力进行图像的预解析；步骤2：数据校验和管理，采用AE信息校验验证数据完整性，配置信息校验策略，监视DICOM文件到达，将文件复制到指定目录；步骤3：参数配置和本地化，从服务器端获取参数，包括每次上传数量、上传线程数、S3存储配置，将服务器端参数本地化存储，配置参数本地化存储，包括服务端网关地址、医院编码、文件存储路径、存储路径规则；步骤4：检查报告采集，在前置机上部署检查报告推送服务，配置推送服务和API接口，报告接收API接口通过编程方式连接各医院推送检查报告和质控数据，配置接收API接口，用于各医院的数据上传；步骤5：质控数据采集，前置机对接医院的质控数据，通过调用API向平台推送质控数据，同时对采集的质控数据进行展示，包括基础质控、质控抽查、质控报表，采用分布式部署方式。本发明进一步地设置为：所述步骤1中，配置前置机用于执行图像预解析算法，包括DICOM图像处理、压缩和格式转换；采用AE信息校验对数据的完整性和准确性进行验证；配置信息校验策略，将DICOM文件复制到指定目录并进行上传；配置文件监控和复制，设定上传策略和目标；配置前置机的自我恢复机制，用于数据异常以及SCP关闭情况；从服务器端获取参数，包括每次上传数量、上传线程数、S3存储服务配置；进行参数获取接口，采集堆积文件，并将采集的文件缓存到临时目录；配置临时目录和缓存策略，实现断网后的自动恢复机制；本发明进一步地设置为：所述步骤1中，配置临时目录和缓存策略，具体的：配置缓存策略，包括缓存文件的最大数量、缓存文件的最大大小以及缓存文件的保留时间；在缓存设置中，配置断网后的自动恢复机制：配置前置机在网络恢复时自动上传之前缓存的文件，以及文件上传的线程数量；本发明进一步地设置为：所述步骤2中，配置AE信息校验策略具体包括：定义校验算法A，设置校验参数P，包括校验阈值、故障容忍度；AE信息校验策略表示为V=，设定文件到达速率R，表示每秒到达的文件数量；使用滑动时间窗口W监控文件到达速率，如果文件到达速率超过阈值，则触发警报；文件到达速率表示为R，t表示时间；警报触发条件表示为：R〉阈值；本发明进一步地设置为：所述步骤2中，配置AE信息校验策略还包括：对每个收到的DICOM文件应用AE信息校验，采用策略V=进行校验；校验结果表示为I，其中I=1表示校验通过，I=0表示校验失败；如果校验通过，即I=1，则将文件复制到指定目录；定义成功率：，其中表示校验成功率，/＞表示检验成功的文件数量，/＞表示总文件数量；定义故障率：，其中表示校验失败率，/＞表示检验失败的文件数量，/＞同样表示总文件数量；本发明进一步地设置为：所述步骤4中，检查报告采集包括集成检查报告采集逻辑，通过第三方提供的检查视图进行自动采集；搭建数据库视图，基于数据库视图执行检查报告数据采集作业；配置定时作业和API上传，基于数据库视图定时查询前一天的检查报告统计数据和流水号清单，通过API上传到平台中心；如果存在缺失流水号，重新查询缺失的流水号清单并补传检查报告数据到平台中心；本发明进一步地设置为：所述步骤5中，质控数据采集展示步骤具体包括：将前置机与医院的质控数据接口进行对接获取医院的质控数据；通过调用API将质控数据传输到平台中心；建立质控数据的数据库，用于存储传输的质控数据；质控指标数据包括影像质量、报告准确性；质控抽查数据包括随机抽查的结果和统计信息；质控报表包括质控数据的可视化图表和汇总信息；所述步骤5中，质控指标计算方式具体为：，其中表示影像质量评分，/＞为总分缺陷分数，/＞表示总分；，其中表示报告准确性评分，/＞表示正确报告数，/＞表示总报告数；，其中表示质控抽查通过率，/＞表示通过数量，/＞表示总抽查数量；本发明还提供一种检查检验互认数据采集装置，包括：图像采集模块，用于接收医院端的DICOM文件，支持Q/R模式的DICOM文件下载，提供DICOM文件的预解析和格式转换；数据校验和管理模块，负责验证DICOM数据的完整性和准确性，实施AE信息校验策略，包括校验算法和校验参数设定，监视DICOM文件到达速率；参数配置和本地化模块，用于从服务器端获取上传参数，包括每次上传数量和上传线程数；检查报告采集模块，部署检查报告推送服务，用于自动推送检查报告数据；质控数据采集模块，与医院的质控数据接口对接获取质控数据，使用API将质控数据传输到平台中心；本发明还提供一种终端设备，该设备包括：存储器、处理器及存储在存储器上并可在处理器上运行的检查检验互认数据采集方法的控制程序，所述检查检验互认数据采集方法的控制程序被所述处理器执行时实现上述的检查检验互认数据采集方法；本发明还提供一种存储介质，该介质应用于计算机，所述存储介质上存储有检查检验互认数据采集方法的控制程序，所述检查检验互认数据采集方法的控制程序被所述处理器执行时实现上述的检查检验互认数据采集方法。有益效果本发明提供了一种检查检验互认数据采集方法及装置。具备以下有益效果：本申请所提供的检查检验互认数据采集方法通，通过部署DICOM采集服务，配置服务器参数，启用Q/R模式下载DICOM文件，利用前置机边缘计算能力进行图像的预解析，从而提高数据采集的效率和准确性，同时采用AE信息校验验证数据的完整性和准确性，配置信息校验策略，监视DICOM文件到达，将文件复制到指定目录，并根据校验结果管理文件的上传，以此来确保数据的可靠性。同时从服务器端获取参数，包括上传数量、线程数、S3存储配置，将这些参数本地化存储，同时配置基本参数如服务端网关地址、医院编码、文件存储路径，此外部署检查报告推送服务，配置API接口，实现医院的检查报告数据自动采集和上传，包括数据统计和缺失数据的补传。质控方面，对接医院的质控数据接口，通过API将质控数据传送到平台中心，同时对质控数据进行展示，包括基础质控、质控抽查和质控报表，采用分布式部署方式保证负载均衡和高可用性。综上，本申请所提供的检查检验互认数据采集方法实现了更高效的数据采集、更可靠的数据校验和管理，以及更全面的质控数据采集和展示，有助于提高医疗数据互认的质量和效率，为医疗行业提供更好的数据支持；同时通过配置和本地化参数，以及利用前置机的边缘计算能力，满足不同医疗机构的需求；通过配置自动恢复机制和定期监控数据完整性，减少数据丢失的风险。解决了现有技术中存在的多个源或目的地之间传输数据时，会导致数据的覆盖不一致，无法完全保证数据的完整性和准确性的问题。附图说明图1为本发明的一种检查检验互认数据采集方法流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整的描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例请参阅图1，本发明提供一种检查检验互认数据采集方法，包括：步骤1：图像采集，设置前置机，部署DICOM采集服务于前置机，配置DICOM服务器参数，启用Q/R模式用于下载DICOM文件，采集相关DICOM数据，支持HTTP/FTP存储格式，利用前置机的边缘计算能力进行图像的预解析，提高效率；步骤1中，配置前置机用于执行图像预解析算法，包括DICOM图像处理、压缩和格式转换；采用AE信息校验对数据的完整性和准确性进行验证；配置信息校验策略，将DICOM文件复制到指定目录并进行上传；配置文件监控和复制，设定上传策略和目标；配置前置机的自我恢复机制，用于数据异常以及SCP关闭情况；从服务器端获取参数，包括每次上传数量、上传线程数、S3存储服务配置；进行参数获取接口，采集堆积文件，并将采集的文件缓存到临时目录，从而在断网情况下保存接收到的影像数据；配置临时目录和缓存策略，实现断网后的自动恢复机制；步骤1中，配置临时目录和缓存策略，具体的：配置缓存策略，包括缓存文件的最大数量、缓存文件的最大大小以及缓存文件的保留时间；在缓存设置中，配置断网后的自动恢复机制：配置前置机在网络恢复时自动上传之前缓存的文件，以及文件上传的线程数量；步骤2：数据校验和管理，采用AE信息校验验证数据完整性，配置信息校验策略，监视DICOM文件到达，将文件复制到指定目录，从而实现文件监控和复制；步骤2中，配置AE信息校验策略具体包括：定义校验算法A，设置校验参数P，包括校验阈值、故障容忍度；AE信息校验策略表示为V=，设定文件到达速率R，表示每秒到达的文件数量；使用滑动时间窗口W监控文件到达速率，如果文件到达速率超过阈值，则触发警报；文件到达速率表示为R，t表示时间；警报触发条件表示为：R〉阈值；步骤2中，配置AE信息校验策略还包括：对每个收到的DICOM文件应用AE信息校验，采用策略V=进行校验；校验结果表示为I，其中I=1表示校验通过，I=0表示校验失败。如果校验通过，即I=1，则将文件复制到指定目录；定义成功率：，其中表示校验成功率，/＞表示检验成功的文件数量，/＞表示总文件数量；定义故障率：，其中表示校验失败率，/＞表示检验失败的文件数量，/＞同样表示总文件数量；步骤3：参数配置和本地化，从服务器端获取参数，包括每次上传数量、上传线程数、S3存储配置，将服务器端参数本地化存储，配置参数本地化存储，包括服务端网关地址、医院编码、文件存储路径、存储路径规则；步骤4：检查报告采集，在前置机上部署检查报告推送服务，配置推送服务和API接口，报告接收API接口通过编程方式连接各医院推送检查报告和质控数据，配置接收API接口，用于各医院的数据上传；步骤4中，检查报告采集包括集成检查报告采集逻辑，通过第三方提供的检查视图进行自动采集；搭建数据库视图，基于数据库视图执行检查报告数据采集作业；配置定时作业和API上传，基于数据库视图定时查询前一天的检查报告统计数据和流水号清单，通过API上传到平台中心；如果存在缺失流水号，重新查询缺失的流水号清单并补传检查报告数据到平台中心；步骤5：质控数据采集，前置机对接医院的质控数据，通过调用API向平台推送质控数据，同时对采集的质控数据进行展示，包括基础质控、质控抽查、质控报表，采用分布式部署方式，从而保证负载均衡和系统的高可用性；步骤5中，质控数据采集展示步骤具体包括：将前置机与医院的质控数据接口进行对接获取医院的质控数据；通过调用API将质控数据传输到平台中心；建立质控数据的数据库，用于存储传输的质控数据；质控指标数据包括影像质量、报告准确性；质控抽查数据包括随机抽查的结果和统计信息；质控报表包括质控数据的可视化图表和汇总信息；步骤5中，质控指标计算方式具体为：，其中表示影像质量评分，/＞为总分缺陷分数，/＞表示总分；，其中表示报告准确性评分，/＞表示正确报告数，/＞表示总报告数；，其中表示质控抽查通过率，/＞表示通过数量，/＞表示总抽查数量。本发明还提供一种检查检验互认数据采集装置，包括：图像采集模块，用于接收医院端的DICOM文件，支持Q/R模式的DICOM文件下载，提供DICOM文件的预解析和格式转换；数据校验和管理模块，负责验证DICOM数据的完整性和准确性，实施AE信息校验策略，包括校验算法和校验参数设定，监视DICOM文件到达速率；参数配置和本地化模块，用于从服务器端获取上传参数，包括每次上传数量和上传线程数；检查报告采集模块，部署检查报告推送服务，用于自动推送检查报告数据；质控数据采集模块，与医院的质控数据接口对接获取质控数据，使用API将质控数据传输到平台中心；本发明还提供一种终端设备，该设备包括：存储器、处理器及存储在存储器上并可在处理器上运行的检查检验互认数据采集方法的控制程序，检查检验互认数据采集方法的控制程序被处理器执行时实现上述的检查检验互认数据采集方法；本发明还提供一种存储介质，该介质应用于计算机，存储介质上存储有检查检验互认数据采集方法的控制程序，检查检验互认数据采集方法的控制程序被处理器执行时实现上述的检查检验互认数据采集方法。综合以上内容，在本申请中：本申请所提供的检查检验互认数据采集方法通，通过部署DICOM采集服务，配置服务器参数，启用Q/R模式下载DICOM文件，利用前置机边缘计算能力进行图像的预解析，从而提高数据采集的效率和准确性，同时采用AE信息校验验证数据的完整性和准确性，配置信息校验策略，监视DICOM文件到达，将文件复制到指定目录，并根据校验结果管理文件的上传，以此来确保数据的可靠性。同时从服务器端获取参数，包括上传数量、线程数、S3存储配置，将这些参数本地化存储，同时配置基本参数如服务端网关地址、医院编码、文件存储路径，此外部署检查报告推送服务，配置API接口，实现医院的检查报告数据自动采集和上传，包括数据统计和缺失数据的补传。质控方面，对接医院的质控数据接口，通过API将质控数据传送到平台中心，同时对质控数据进行展示，包括基础质控、质控抽查和质控报表，采用分布式部署方式保证负载均衡和高可用性。综上，本申请所提供的检查检验互认数据采集方法实现了更高效的数据采集、更可靠的数据校验和管理，以及更全面的质控数据采集和展示，有助于提高医疗数据互认的质量和效率，为医疗行业提供更好的数据支持；同时通过配置和本地化参数，以及利用前置机的边缘计算能力，满足不同医疗机构的需求；通过配置自动恢复机制和定期监控数据完整性，减少数据丢失的风险。显然，本发明的上述实施例仅仅是为清楚地说明本发明所作的举例，而并非是对本发明的实施方式的限定。对于所属领域的普通技术人员来说，在上述说明的基础上还可以做出其它不同形式的变化或变动。这里无需也无法对所有的实施方式予以穷举。凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明权利要求的保护范围之内。
