标题title
一种支持多种模式的三维设计钢筋图智能联动更新方法
摘要abst
本发明提供一种支持多种模式的三维设计钢筋图智能联动更新方法，包括：S1、获取源钢筋图的信息和钢筋图的更新模式m，生成目标钢筋图；S2、比较源钢筋图和目标钢筋图的缩放比例以及结构线；S3、判断修改更新模式m是否为全局更新模式；S4、遍历源钢筋图中的每个钢筋组Tj，将对应的钢筋标注Bj添加至目标钢筋图；判断更新模式m是否为联动更新模式，若是，则执行步骤S6；S5、将隐藏标识h为否的钢筋标注删除；S6、若当前钢筋组Ri与源钢筋图中对应的钢筋组Tj的几何不一致，则删除钢筋标注Ai；S7、对每个钢筋组Ri对应钢筋标注的标注文本进行更新或对每个钢筋组Ri进行标注。本发明能够提供多模式可选的三维设计钢筋图智能联动更新方法。
权利要求书clms
1.一种支持多种模式的三维设计钢筋图智能联动更新方法，其特征在于：包括：S1、获取源钢筋图的信息和钢筋图的更新模式m，基于源钢筋图相应剖切面或投影面于三维配筋模型上重新生成目标钢筋图；其中，更新模式m包括联动更新模式、可视更新模式和全局更新模式；S2、比较源钢筋图和目标钢筋图的缩放比例以及结构线，若缩放比例或结构线不一致，则修改更新模式m为全局更新模式；S3、判断更新模式m是否为全局更新模式，若是，则执行步骤S7；否则，执行步骤S4；S4、遍历源钢筋图中的每个钢筋组Tj，若源钢筋图中的某一钢筋组Tj存在于目标钢筋图中，则添加该钢筋组Tj对应的钢筋标注Bj至目标钢筋图；判断更新模式m是否为联动更新模式，若是，则执行步骤S6；否则，执行步骤S5；S5、遍历目标钢筋图中的每个钢筋标注Ai，若当前钢筋标注Ai的隐藏标识h为否，则删除该钢筋标注Ai；S6、遍历目标钢筋图中的每个钢筋组Ri，若当前钢筋组Ri与源钢筋图中对应的钢筋组Tj的几何不一致，则删除钢筋组Ri对应的钢筋标注Ai；S7、遍历目标钢筋图中的每个钢筋组Ri，对每个钢筋组Ri对应钢筋标注的标注文本进行更新，或对每个钢筋组Ri进行标注。2.根据权利要求1所述的支持多种模式的三维设计钢筋图智能联动更新方法，其特征在于：步骤S1中，源钢筋图的信息包括：结构线、钢筋组、钢筋标注、缩放比例、剖切面或投影面标识。3.根据权利要求1所述的支持多种模式的三维设计钢筋图智能联动更新方法，其特征在于：步骤S2包括：S21、判断源钢筋图和目标钢筋图的缩放比例是否相等，若否，则修改更新模式m为全局更新模式，执行步骤S3；若是，则执行步骤S22；S22、获取源钢筋图的结构线对应的形状组合SS-和目标钢筋图的结构线对应的形状组合SS，若SS-的基础形状数量不等于SS的基础形状数量，则修改更新模式m为全局更新模式，执行步骤S3；否则，执行步骤S23；S23、遍历形状组合SS-，判断形状组合SS-与形状组合SS是否一致，若不一致，则修改更新模式m为全局更新模式，执行步骤S3。4.根据权利要求3所述的支持多种模式的三维设计钢筋图智能联动更新方法，其特征在于：步骤S22中，形状组合包括基础形状，基础形状包括直线段、弧以及样条线，直线段的参数包括两个端点坐标，弧的参数包括圆心坐标、旋转角度、起始角度、终止角度、长半径、短半径，样条线的参数为控制点的坐标；判断形状组合SS-与形状组合SS是否一致的判断方法为：形状组合SS-的基础形状与形状组合SS的基础形状的类型和参数相同。5.根据权利要求1所述的支持多种模式的三维设计钢筋图智能联动更新方法，其特征在于：步骤S4包括：S41、遍历源钢筋图中的每个钢筋组Tj，获取当前钢筋组Tj对应的钢筋标注Bj和钢筋组标识RIj；S42、检索目标钢筋图中钢筋组标识为RIj的钢筋组，若存在钢筋组Ri的钢筋组标识为RIj，则将钢筋标注Bj作为钢筋组Ri的钢筋标注。6.根据权利要求1所述的支持多种模式的三维设计钢筋图智能联动更新方法，其特征在于：步骤S5中，用户在源钢筋图中删除的钢筋标注的隐藏标识h为是，其余的钢筋标注的隐藏标识h为否。7.根据权利要求1所述的支持多种模式的三维设计钢筋图智能联动更新方法，其特征在于：步骤S6包括：S61、遍历目标钢筋图中的每个钢筋组Ri，检索源钢筋图中与钢筋组Ri的钢筋组标识相同的钢筋组Tj；若钢筋组Tj不存在，则遍历至钢筋组Ri+1；S62、判断钢筋组Ri与钢筋组Tj的几何是否一致，若不一致，则删除钢筋组Ri对应的钢筋标注Ai。8.根据权利要求6所述的支持多种模式的三维设计钢筋图智能联动更新方法，其特征在于：步骤S62中，判断钢筋组Ri与钢筋组Tj的几何是否一致的方法包括：判断钢筋组Ri对应的形状组合中的每一个基础形状的参数与钢筋组Tj对应的形状组合中的每一个基础形状的参数是否完全一致。9.根据权利要求1至7任一项所述的支持多种模式的三维设计钢筋图智能联动更新方法，其特征在于：步骤S7包括：S71、遍历目标钢筋图中的每个钢筋组Ri，检索目标钢筋图中与当前钢筋组Ri的钢筋组标识一致的钢筋标注Ai，若Ai存在，则基于当前钢筋组Ri的属性信息更新钢筋标注Ai的标注文本；若Ai不存在，则执行步骤S72；S72、调用钢筋标注算法对当前钢筋组Ri进行标注，得到钢筋标注A*i；S73、设置钢筋标注A*i的钢筋组标识为当前钢筋组Ri的钢筋组标识，并将钢筋标注A*i加入目标钢筋图中。
说明书desc
技术领域本发明涉及钢筋图更新技术领域，具体涉及一种支持多种模式的三维设计钢筋图智能联动更新方法。背景技术钢筋图是土木工程结构设计行业的主要输出成果之一，内容包括结构线、钢筋点线和钢筋标注。在三维配筋出图过程中，结构线和钢筋点线可以直接通过剖切或投影计算得出，钢筋标注则由专门的标注算法计算生成。尽管现有钢筋标注算法已基本实现结构规整且干涉较少钢筋标注的自动生成，但模型结构复杂的情况下仍不可避免需要人工调整钢筋标注。与此同时，三维设计尤其是三维配筋设计是一个反复迭代的过程，模型通常需要反复修改，这就涉及对已有钢筋图的联动更新。结构线和钢筋点线的更新可以直接从三维模型上计算并替换。钢筋标注需要综合考虑模型变更且通常经过人工调整，因而其更新情况更为复杂。《三维钢筋出图技术在水电工程中的应用》基于CATIA开发的RebarSmart三维钢筋数字化设计系统在三维配筋模型发生变化后，直接刷新钢筋图并重新绘制钢筋标注，虽然实现了钢筋图的更新，但粗暴舍弃了用户对钢筋标注的所有调整，增加了用户重复调整钢筋标注的工作量。《ReStation系统的钢筋抽图技术介绍》介绍的ReStation会记录用户调整的钢筋标注，并在更新后的钢筋图中保留相应标注样式，该方案虽然降低了用户反复调整钢筋标注的工作量，但存在钢筋模型变更无法联动刷新标注的情况，使得钢筋图信息与三维配筋模型脱节。此外，上述两种钢筋图更新方法均只提供固定的更新模式，难以满足用户的实际应用需求。综上所述，现有三维设计钢筋图更新方法存在方式简单生硬、模式单一和计算冗余的问题，开发一种能针对不同使用场景提供多种更新模式且更新结果综合考虑模型变更、标注调整及模式选择的三维设计钢筋图智能联动更新方法十分必要。发明内容本发明的目的就是针对现有技术的缺陷，提供一种支持多种模式的三维设计钢筋图智能联动更新方法。本发明提供一种支持多种模式的三维设计钢筋图智能联动更新方法，包括：S1、获取源钢筋图的信息和钢筋图的更新模式m，基于源钢筋图相应剖切面或投影面于三维配筋模型上重新生成目标钢筋图；其中，更新模式m包括联动更新模式、可视更新模式和全局更新模式；S2、比较源钢筋图和目标钢筋图的缩放比例以及结构线，若缩放比例或结构线不一致，则修改更新模式m为全局更新模式；S3、判断更新模式m是否为全局更新模式，若是，则执行步骤S7；否则，执行步骤S4；S4、遍历源钢筋图中的每个钢筋组Tj，若源钢筋图中的某一钢筋组Tj存在于目标钢筋图中，则添加该钢筋组Tj对应的钢筋标注Bj至目标钢筋图；判断更新模式m是否为联动更新模式，若是，则执行步骤S6；否则，执行步骤S5；S5、遍历目标钢筋图中的每个钢筋标注Ai，若当前钢筋标注Ai的隐藏标识h为否，则删除该钢筋标注Ai；S6、遍历目标钢筋图中的每个钢筋组Ri，若当前钢筋组Ri与源钢筋图中对应的钢筋组Tj的几何不一致，则删除钢筋组Ri对应的钢筋标注Ai；S7、遍历目标钢筋图中的每个钢筋组Ri，对每个钢筋组Ri对应钢筋标注的标注文本进行更新，或对每个钢筋组Ri进行标注。进一步地，步骤S1中，源钢筋图的信息包括：结构线、钢筋组、钢筋标注、缩放比例、剖切面或投影面标识。进一步地，步骤S2包括：S21、判断源钢筋图和目标钢筋图的缩放比例是否相等，若否，则修改更新模式m为全局更新模式，执行步骤S3；若是，则执行步骤S22；S22、获取源钢筋图的结构线对应的形状组合SS-和目标钢筋图的结构线对应的形状组合SS，若SS-的基础形状数量不等于SS的基础形状数量，则修改更新模式m为全局更新模式，执行步骤S3；否则，执行步骤S23；S23、遍历形状组合SS-，判断形状组合SS-与形状组合SS是否一致，若不一致，则修改更新模式m为全局更新模式，执行步骤S3。进一步地，步骤S2中，形状组合包括基础形状，基础形状包括直线段、弧以及样条线，直线段的参数包括两个端点坐标，弧的参数包括圆心坐标、旋转角度、起始角度、终止角度、长半径、短半径，样条线的参数为控制点的坐标；判断形状组合SS-与形状组合SS是否一致的判断方法为：形状组合SS-的基础形状与形状组合SS的基础形状的类型和参数相同。进一步地，步骤S4包括：S41、遍历源钢筋图中的每个钢筋组Tj，获取当前钢筋组Tj对应的钢筋标注Bj和钢筋组标识RIj；S42、检索目标钢筋图中钢筋组标识为RIj的钢筋组，若存在钢筋组Ri的钢筋组标识为RIj，则将钢筋标注Bj作为钢筋组Ri的钢筋标注。进一步地，步骤S5中，用户在源钢筋图中删除的钢筋标注的隐藏标识h为是，其余的钢筋标注的隐藏标识h为否。进一步地，步骤S6包括：S61、遍历目标钢筋图中的每个钢筋组Ri，检索源钢筋图中与钢筋组Ri的钢筋组标识相同的钢筋组Tj；若钢筋组Tj不存在，则遍历至钢筋组Ri+1；S62、判断钢筋组Ri与钢筋组Tj的几何是否一致，若不一致，则删除钢筋组Ri对应的钢筋标注Ai。进一步地，步骤S62中，判断钢筋组Ri与钢筋组Tj的几何是否一致的方法包括：判断钢筋组Ri对应的形状组合中的每一个基础形状的参数与钢筋组Tj对应的形状组合中的每一个基础形状的参数是否完全一致。进一步地，步骤S7包括：S71、遍历目标钢筋图中的每个钢筋组Ri，检索目标钢筋图中与当前钢筋组Ri的钢筋组标识一致的钢筋标注Ai，若Ai存在，则基于当前钢筋组Ri的属性信息更新钢筋标注Ai的标注文本；若Ai不存在，则执行步骤S72；S72、调用钢筋标注算法对当前钢筋组Ri进行标注，得到钢筋标注A*i；S73、设置钢筋标注A*i的钢筋组标识为当前钢筋组Ri的钢筋组标识，并将钢筋标注A*i加入目标钢筋图中。本发明的有益效果为：本发明所提供的多模式可选的三维设计钢筋图智能联动更新方法，为用户提供三种更新模式以适用不同使用场景，且能够综合模型变更、标注调整及模式选取信息，智能地针对用户选择或变更区域进行更新钢筋标注，从而在尽量保留用户调整的同时实现钢筋图联动更新，减少用户工作量并提升钢筋图更新效率。附图说明图1为本发明的方法流程图；图2为本发明钢筋图数据组织结构及其含义示意图；图3为本发明修改更新模式为全局更新的条件示意图；图4为本发明基础形状及形状组合示意图；图5为本发明三维钢筋组修改内容及对应图纸更新示意图；图6为本发明钢筋组几何组织形式示意图。具体实施方式为了使本申请所要解决的技术问题、技术方案及有益效果更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。如图1所示，本实施例提供一种支持多种模式的三维设计钢筋图智能联动更新方法，包括：S1、获取源钢筋图的信息和钢筋图的更新模式m，基于源钢筋图相应剖切面或投影面于三维配筋模型上重新生成目标钢筋图；其中，更新模式包括联动更新模式、可视更新模式和全局更新模式，本实施例中，m=0，表示更新模式为联动更新模式，m=1，表示更新模式为可视更新模式，m=2，表示更新模式为全局更新模式；源钢筋图的信息包括：结构线、钢筋组、钢筋标注、缩放比例、剖切面或投影面标识，目标钢筋图的信息包括：结构线、钢筋组、钢筋标注、缩放比例、剖切面或投影面标识。钢筋图的数据组织结构及其含义如图2所示。其中，钢筋组标识是三维钢筋组的唯一标识，三维钢筋组、钢筋图中钢筋组和钢筋标注都通过钢筋组标识形成关联，因此对于三维钢筋组、钢筋图中钢筋组以及该钢筋组的钢筋标注具有相同的钢筋组标识，并且三维钢筋组的钢筋组标识一旦生成则不会改变，除非将其删除再重新添加，也就是说，如果对三维配筋模型中的三维钢筋组进行了修改，该三维钢筋组、钢筋图中钢筋组以及对应的钢筋标注的钢筋组标识都不会改变。需要说明的是，钢筋图更新的数据源为现有钢筋图和三维配筋模型。其中，现有钢筋图记录了经用户调整过的钢筋标注数据，三维配筋模型则提供最新的结构线和钢筋组数据。定义用户选取的现有钢筋图为源钢筋图，三维配筋模型新生成的钢筋图为目标钢筋图。本方法支持的钢筋图更新内容包括：三维模型结构修改、三维钢筋组新增、三维钢筋组修改、三维钢筋组删除。本方法尽量保留的源钢筋图数据包括：钢筋标注修改和钢筋标注删除。由于不同场景下用户有不同的钢筋图更新需求，本方法提供三种钢筋图更新模式供用户选择，其中，联动更新模式仅更新新增、修改和删除三维钢筋组所对应的钢筋标注，其余钢筋标注保留现有钢筋图中的样式；可视更新模式在联动更新模式的基础上，还更新源钢筋图上保留的所有钢筋标注，即除了用户删除且对应三维钢筋组未修改的钢筋标注，其余全部更新；全局更新模式即根据三维配筋模型生成全新的钢筋图，图中钢筋标注全部重新生成。S2、比较源钢筋图和目标钢筋图的缩放比例以及结构线，若缩放比例或结构线不一致，则修改更新模式m为全局更新模式；步骤S2具体包括：S21、判断源钢筋图和目标钢筋图的缩放比例是否相等，若否，则修改更新模式m为全局更新模式，执行步骤S3；若是，则执行步骤S22；S22、获取源钢筋图的结构线对应的形状组合SS-和目标钢筋图的结构线对应的形状组合SS，若SS-的基础形状数量不等于SS的基础形状数量，则修改更新模式m为全局更新模式，执行步骤S3；否则，执行步骤S23；如图4所示，基础形状包括直线段、弧以及样条线，直线段的参数包括两个端点坐标，弧的参数包括圆心坐标、旋转角度、起始角度、终止角度、长半径、短半径，样条线的参数为控制点的坐标；任何一个结构线都可以通过基础形状组成。S23、遍历形状组合SS-，判断形状组合SS-与形状组合SS是否一致，若不一致，则修改更新模式m为全局更新模式，执行步骤S3。需要说明的是，尽管本方法提供三种更新模式供用户选择，但存在以下两种情况时将强制采取全局更新模式：1.目标钢筋图采用不同于源钢筋图的缩放比例；2.目标钢筋图的结构线不同于源钢筋图。当目标钢筋图采用不同于源钢筋图缩放比例时，源钢筋图中钢筋标注将与目标钢筋图中钢筋和结构形成偏移，如图3中的所示，因而钢筋标注需全部重新计算。当新钢筋图的结构线不同于源钢筋图时，源钢筋图上本布局合理的钢筋标注可能会脱离对应钢筋组或者与新钢筋图的结构线产生干涉冲突，如图3中的所示，因此需根据新的结构线和钢筋点线重新计算所有钢筋标注。S3、判断更新模式m是否为全局更新模式，若是，则执行步骤S7；否则，执行步骤S4；当更新模式m为全局更新模式时，目标钢筋图中的所有钢筋组将重新计算标注，源钢筋图的所有钢筋标注均不会保留至目标钢筋图中，因此可直接跳至最后一步S7对目标钢筋图进行钢筋标注即可。S4、遍历源钢筋图中的每个钢筋组Tj，若源钢筋图中的某一钢筋组Tj存在于目标钢筋图中，则添加该钢筋组Tj对应的钢筋标注Bj至目标钢筋图；判断更新模式m是否为联动更新模式，若是，则执行步骤S6；否则，执行步骤S5；步骤S4具体包括：S41、遍历源钢筋图中的每个钢筋组Tj，获取当前钢筋组Tj对应的钢筋标注Bj和钢筋组标识RIj；S42、检索目标钢筋图中钢筋组标识为RIj的钢筋组，若存在钢筋组Ri的钢筋组标识为RIj，则将钢筋标注Bj作为钢筋组Ri的钢筋标注。当更新模式m为非全局更新时，目标钢筋图中将保留部分源钢筋图的钢筋标注。钢筋标注保留策略是：首先将源钢筋图中的钢筋标注拷贝至目标钢筋图中，后续再通过筛选将需要更新的标注从目标钢筋图中删除。由于三维配筋模型中可能删除了部分三维钢筋组，因此在将源钢筋图中钢筋标注拷贝至目标钢筋图的过程中，需将被删除钢筋组对应的钢筋标注剔除。需要说明的是，步骤S4中，隐藏标识h为是的钢筋标注也拷贝至了目标钢筋图中。S5、遍历目标钢筋图中的每个钢筋标注，若当前钢筋标注Ai的隐藏标识h为否，则删除该钢筋标注Ai；需要说明的是，用户在源钢筋图中“删除”的钢筋标注所对应的隐藏标识h为是，其余为否。隐藏标识h为是，表示该钢筋标注实际是存在的，只是通过隐藏达到视觉上被删除的效果，也就是说，用户在源钢筋图中对某一个钢筋标注进行了删除指令，但实际上该钢筋标注并未被删除，只是以隐藏指令代替了删除指令；而隐藏标识h为否，则说明该钢筋标注是直接从源钢筋图中拷贝至目标钢筋图的。采用隐藏标识h的目的是避免被删除钢筋标注在钢筋图更新过程中被重新计算生成。例如，用户在源钢筋图中删除了钢筋组Tj对应钢筋标注Bj，如果钢筋标注Bj的信息被彻底删除，那么目标钢筋图中与Bj对应的Ai是不存在的，步骤S7就会为钢筋组Ri重新生成钢筋标注Ai。而通过赋值隐藏标识为“是”来隐藏“被删除”的钢筋标注，则可避免源钢筋图中“被删除”的钢筋标注在钢筋图更新后重新被生成。当更新模式为可视更新模式时，所有源钢筋图中未被删除的钢筋标注均需被更新，因此需将被拷贝至目标钢筋图中所有隐藏标识为否的钢筋标注删除，从而在步骤S7重新生成钢筋标注，实现可视更新。S6、遍历目标钢筋图中的每个钢筋组Ri，若当前钢筋组Ri与源钢筋图中对应的钢筋组Tj的几何不一致，则删除钢筋组Ri对应的钢筋标注Ai；。步骤S6具体包括：S61、遍历目标钢筋图中的每个钢筋组Ri，检索源钢筋图中与钢筋组Ri的钢筋组标识相同的钢筋组Tj；若钢筋组Tj不存在，则遍历至钢筋组Ri+1；S62、判断钢筋组Ri与钢筋组Tj的几何是否一致，若不一致，则删除钢筋组Ri对应的钢筋标注Ai。判断钢筋组Ri与钢筋组Tj的几何是否一致的方法包括：如图6所示，钢筋组的几何采用一组形状组合表示，每一根钢筋都用一个形状组合表示，每个形状组合由一个或者多个基础形状组成。判断钢筋组Ri与钢筋组Tj几何是否一致，即判断钢筋组Ri对应的形状组合中的每一个基础形状的参数与钢筋组Tj对应的形状组合中的每一个基础形状的参数是否完全一致，如果存在不一致，则钢筋组Ri与钢筋组Tj几何不一致。三维钢筋组被修改后，其在目标钢筋图中的钢筋标注需要联动更新。三维钢筋组修改包括几何修改和属性修改，如图5所示。几何修改即钢筋线数量、形状和位置修改，属性修改即钢筋直径和等级修改。对于属性修改，钢筋标注仅需替换文本内容即可，不需重新计算，如图5中的所示；对于三维钢筋组几何修改，只有当其在钢筋图中的剖切或投影发生变化，则才需要重新计算钢筋标注，如图5中的所示。本方法通过比对目标钢筋图和源钢筋图中相应钢筋组几何是否一致，来判断是否目标钢筋图中钢筋组是否需删除对应钢筋标注以便步骤S7中进行更新。S7、遍历目标钢筋图中的每个钢筋组Ri，对每个钢筋组Ri对应钢筋标注的标注文本进行更新，或对每个钢筋组Ri进行标注。步骤S7具体包括：S71、遍历目标钢筋图中的每个钢筋组Ri，检索目标钢筋图中与当前钢筋组Ri的钢筋组标识一致的钢筋标注Ai，若Ai存在，则基于当前钢筋组Ri的属性信息更新钢筋标注Ai的标注文本；若Ai不存在，则执行步骤S72；S72、调用钢筋标注算法对当前钢筋组Ri进行标注，得到钢筋标注A*i；S73、设置钢筋标注A*i的钢筋组标识为当前钢筋组Ri的钢筋组标识，并将钢筋标注A*i加入目标钢筋图中。下面将详细阐述本方法是如何在尽量保留源钢筋图中钢筋标注样式和删除记录的同时，针对三维配筋模型中钢筋组增加、修改和删除联动更新钢筋标注的。当三维配筋模型新增钢筋组时，如果新增三维钢筋组被投影或剖切到目标钢筋图上形成二维钢筋组Ri，由于钢筋组Ri在源钢筋图中没有对应钢筋标注，因此会在步骤S72中计算添加钢筋标注；当三维配筋模型中钢筋组被修改时，如果仅仅是属性修改，则仅通过步骤S71更新标注文本即可完成联动更新，如果几何修改致其在目标钢筋图中的钢筋组Ri对应几何发生改变，则步骤S6会删除钢筋组Ri对应钢筋标注Ai并通过步骤S72为期重新计算生成钢筋标注；当三维钢筋组被删除，则步骤S4不会添加其在源钢筋图中对应钢筋标注Bj至目标钢筋图中。当用户删除源钢筋图中钢筋组Tj对应钢筋标注Bj时，钢筋标注Bj隐藏标识h设置为是，并被拷贝至目标钢筋图中形成钢筋标注Ai，钢筋标注Ai会一直保留但不被显示，从而避免步骤S72再次计算钢筋标注Ai。除上述情景之外的源钢筋图中所有钢筋标注将会通过步骤S4拷贝至目标钢筋图中并保留至方法结束。可视更新模式与联动更新模式的区别，仅仅在于步骤S5，即将隐藏标识h为否的钢筋标注Ai全部删除，使得步骤S7中能够将步骤S5中删除的钢筋标注全部重新计算。以上所述实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的精神和范围，均应包含在本申请的保护范围之内。
