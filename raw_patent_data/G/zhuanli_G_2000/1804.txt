标题title
计算服务外包的可验证数据隐私保护系统及方法
摘要abst
本发明公开了计算服务外包的可验证数据隐私保护系统及方法，验证客户端、两个证明服务器进行初始化操作；两个证明服务器均向验证客户端发送隐私数据承诺；验证客户端接收隐私数据承诺后，将机器学习推理所需的数据份额分别发送给两个证明服务器；验证客户端接收两个证明服务器反馈的计算结果份额和计算过程证明；所述计算结果份额，是两个证明服务器根据获取的数据份额，进行机器学习推理服务得到的；所述计算过程证明，是两个证明服务器通过零知识证明方式为计算过程生成的；验证客户端根据所获得的计算过程证明，对计算过程进行验证，如果对计算过程验证无误，则根据计算结果份额进行秘密重构，得到最终的机器学习推理结果。
权利要求书clms
1.计算服务外包的可验证数据隐私保护系统，其特征是，包括：验证客户端、第一证明服务器和第二证明服务器；验证客户端、第一证明服务器和第二证明服务器进行初始化操作；验证客户端将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器；验证客户端接收第一证明服务器和第二证明服务器反馈的计算结果份额和计算过程证明；所述计算结果份额，是第一证明服务器和第二证明服务器根据获取的数据份额，进行机器学习推理服务得到的；所述计算过程证明，是第一证明服务器和第二证明服务器通过零知识证明方式为计算过程生成的；验证客户端根据所获得的计算过程证明，对计算过程进行验证，如果对计算过程验证无误，则根据计算结果份额进行秘密重构，得到最终的机器学习推理结果。2.如权利要求1所述的计算服务外包的可验证数据隐私保护系统，其特征是，所述验证客户端、第一证明服务器和第二证明服务器进行初始化操作，具体包括：验证客户端第一证明服务器/＞和第二证明服务器/＞共同进行向量不经意线性评估VOLE协议的初始化操作，在初始化操作过程中，验证客户端/＞分别获取算术电路及布尔电路下的全局密钥/＞及/＞其中/＞表示算术电路的域空间，/＞表示布尔电路的域空间；验证客户端分别与第一证明服务器/＞和第二证明服务器/＞生成设定数量的随机VOLE关系，用于后续零知识证明协议中输入值的承诺及乘法门的计算，将每个随机VOLE关系看成对其中的值r的承诺，表示为M＝K+Δ·r，其中/＞持有随机数r及相应的消息认证码M，验证客户端/＞持有用于随机VOLE关系的本地密钥K及全局密钥Δ；验证客户端分别为第一证明服务器/＞和第二证明服务器/＞生成n个乘法三元组份额{＜ai＞1,＜bi＞1,＜ci＞1}，{＜ai＞2,＜bi＞2,＜ci＞2},i∈，满足＝·；验证客户端首先选取2n个随机数{xi,yi},i∈，并计算乘法值zi＝xi·yi，此后验证客户端/＞选取3n个随机数{＜ai＞1,＜bi＞1,＜ci＞1},i∈作为第一证明服务器/＞的乘法三元组份额，发送给第一证明服务器/＞其后，验证客户端/＞计算第二证明服务器/＞的乘法三元组份额＜ai＞2＝xi-＜ai＞1，＜bi＞2＝yi-＜bi＞1，＜ci＞2＝zi-＜ci＞1，i∈,并发送给第二证明服务器/＞至此，验证客户端/＞完成n个乘法三元组的生成及分发工作；验证客户端、第一证明服务器和第二证明服务器，均对乘法三元组的份额生成承诺。3.如权利要求1所述的计算服务外包的可验证数据隐私保护系统，其特征是，所述验证客户端将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器，具体包括：验证客户端将机器学习推理任务过程中所需的预测数据，通过秘密分享方式生成相应的数据份额，并将数据份额分发给第一证明服务器和第二证明服务器；所述将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器之后，还包括：第一证明服务器和第二证明服务器接收分发的数据份额，第一证明服务器、第二证明服务器与验证客户端共同使用零知识证明协议，对数据份额生成承诺。4.如权利要求3所述的计算服务外包的可验证数据隐私保护系统，其特征是，所述第一证明服务器、第二证明服务器与验证客户端共同使用零知识证明协议，对数据份额生成承诺，具体包括：假设验证客户端的输入数据为{di},i∈，验证客户端/＞首先生成n个随机值{ri},i∈，然后验证客户端/＞进行减法计算si＝di-ri；验证客户端将{ri}及{si}作为输入数据的相应份额分别分发给第一证明服务器/＞及第二证明服务器/＞第一证明服务器、第二证明服务器与验证客户端，一同对接收到的数据份额生成相应的承诺。5.如权利要求1所述的计算服务外包的可验证数据隐私保护系统，其特征是，所述计算结果份额，是第一证明服务器和第二证明服务器根据获取的数据份额，进行机器学习推理服务得到的，具体包括：对于机器学习中的线性操作，采用算术电路下的零知识证明协议及秘密分享协议完成计算；对于机器学习中的非线性操作，将数据表示为布尔值，并利用布尔电路下的零知识证明协议及秘密分享协议进行计算。6.如权利要求5所述的计算服务外包的可验证数据隐私保护系统，其特征是，所述对于机器学习中的线性操作，采用算术电路下的零知识证明协议及秘密分享协议完成计算，具体包括：第一证明服务器及第二证明服务器/＞在算术电路下，通过零知识证明协议及加法秘密分享进行线性运算：首先假设进行运算的预测数据a,b的承诺为,；拥有两个承诺的本地密钥ka,kb及全局密钥Δ；拥有相应的数据份额＜a＞1,＜b＞1及份额所对应的消息认证码/＞拥有相应的数据份额＜a＞2,＜b＞2及份额所对应的消息认证码/＞满足关系：及对于相应的承诺加法计算＝+；计算kc＝ka+kb；计算＜c＞1＝＜a＞1+＜b＞1及/＞计算＜c＞2＝＜a＞2+＜b＞2及/＞7.如权利要求5所述的计算服务外包的可验证数据隐私保护系统，其特征是，所述对于机器学习中的线性操作，采用算术电路下的零知识证明协议及秘密分享协议完成计算，具体还包括：对于相应的承诺乘法运算＝·，使用初始化阶段生成的乘法三元组；假设获取的乘法三元组份额为{＜x＞1,＜y＞1,＜z＞1}，/＞获取的乘法三元组份额为{＜x＞2,＜y＞2,＜z＞2}，满足＜z＞1+＜z＞2＝·；及/＞两方首先根据乘法三元组进行计算，获取：＜d＞i＝＜a＞i-＜x＞i,＜e＞i＝＜b＞i-＜y＞i,i∈{1,2}，此后及/＞两方通过交互{＜d＞i,＜e＞i}获取：d＝＜d＞1+＜d＞2及e＝＜e＞1+＜e＞2；计算乘法结果份额＜c＞1＝d·e+d·＜y＞1+＜x＞1·e+＜z＞1；计算乘法结果份额＜c＞2＝d·＜y＞2+＜x＞2·e+＜z＞2；由此完成对加法秘密分享协议下乘法的计算；此后，及/＞将获取的数据份额＜c＞1,＜c＞2进行承诺，因此三方获取乘法结果承诺，满足/＞完成零知识证明协议下乘法门的计算。8.如权利要求5所述的计算服务外包的可验证数据隐私保护系统，其特征是，所述对于机器学习中的非线性操作，将数据表示为布尔值，并利用布尔电路下的零知识证明协议及秘密分享协议进行计算，具体包括：对于机器学习中的非线性计算，执行在布尔电路下的零知识证明协议及加法秘密分享协议来进行计算完整性的验证和隐私保护：在布尔电路下，加法秘密分享协议的数据分发阶段利用异或运算，对于持有的隐私数据a而言，/＞通过选取随机数r作为数据份额＜a＞1，并计算/＞然后将＜a＞1,＜a＞2作为数据份额分发给/＞完成隐私数据分发；对于加法秘密分享协议而言，承诺异或门的计算均在本地完成：非门计算c＝～a，只需对其中一方的数据份额进行取反运算：＜c＞1＝～＜a＞1,＜c＞2＝＜a＞2；对于承诺与门计算c＝α&amp;b，通过v生成相应的三元组{＜x＞i,＜y＞i,＜z＞i}来辅助进行与门计算，即先计算：然后进行交互获取{d,e}，此后计算：计算结果份额/＞计算结果份额/＞所述对于机器学习中非线性操作，将数据表示为布尔值，并利用布尔电路下的零知识证明协议及秘密分享协议进行计算，具体还包括：对于零知识证明协议而言，承诺类型基本相似：其中，验证客户端持有本地密钥k及全局密钥Γ，证明服务器/＞持有数据份额{xi}及相应的消息认证码{mi},i∈{1,2}；异或门与算术电路下的加法门的运算类似，对于计算：证明服务器计算：对于非门运算＝～，本地计算/＞证明服务器/＞对承诺值x进行秘密分享协议下的取反操作。9.如权利要求1所述的计算服务外包的可验证数据隐私保护系统，其特征是，所述验证客户端根据所获得的计算过程证明，对计算过程进行验证，具体包括：对于证明过程中产生的乘法结果承诺的验证：设证明电路的大小为n，即电路中存在n个乘法门，设每个乘法门上的计算为ci＝ai·bi,i∈；由于获取的乘法结果承诺从/＞获取，这时/＞便需要去验证承诺与,之间满足关系ci＝ai·bi；根据相应的承诺中的本地密钥计算：证明服务器通过相应的承诺值份额及相应的消息认证码计算：选取一个随机值χ，并将其发送给/＞随后，计算：将＜U＞j和＜V＞j发送给验证客户端/＞计算/＞并验证等式W＝+·Δ是否成立，若成立，则认为获取的乘法结果承诺满足关系ci＝ai·bi，完成对零知识证明协议下乘法门的验证；对于最终计算结果的验证，通过打开承诺的方式进行验证：获取由/＞及/＞发送的最终计算结果份额＜s＞1,＜s＞2及相对应的消息认证码/＞然后验证等式是否成立；所述验证客户端根据所获得的计算过程证明，对计算过程进行验证，具体还包括：对于与门计算c＝a&amp;b的验证，具体包括：证明服务器通过加法秘密分享方案下的乘法运算获取乘法值的份额＜c＞1,＜c＞2，然后对其向/＞进行承诺，生成承诺，完成与门的证明过程；对于n个与门的批量验证，通过等式：进行证明，代表乘法输入值ai,bi的消息认证码的与值，/＞代表验证客户端的相应的本地密钥之间的计算，/＞由两个证明服务器生成；对于最终结果的验证，验证客户端通过从/＞获取的计算结果及针对计算结果的承诺完成验证，此后/＞通过对计算结果进行秘密重构获取结算结果的明文。10.计算服务外包的可验证数据隐私保护方法，其特征是，包括：验证客户端、第一证明服务器和第二证明服务器进行初始化操作；验证客户端将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器；验证客户端接收第一证明服务器和第二证明服务器反馈的计算结果份额和计算过程证明；所述计算结果份额，是第一证明服务器和第二证明服务器根据获取的数据份额，进行机器学习推理服务得到的；所述计算过程证明，是第一证明服务器和第二证明服务器通过零知识证明方式为计算过程生成的；验证客户端根据所获得的计算过程证明，对计算过程进行验证，如果对计算过程验证无误，则根据计算结果份额进行秘密重构，得到最终的机器学习推理结果。
说明书desc
技术领域本发明涉及计算服务外包技术领域，特别是涉及计算服务外包的可验证数据隐私保护系统及方法。背景技术本部分的陈述仅仅是提到了与本发明相关的背景技术，并不必然构成现有技术。近年来，机器学习相关技术地迅猛发展为社会地发展提供了强劲的动力。机器学习技术可被用于替代大量“重复性”劳动，并提升相关生产效率。智能驾驶、语音助手等便民技术也由于机器学习技术地进步，从而获得了充分地发展。在可预测的未来，机器学习将会在社会各个领域发挥越来越重要的作用。但与之相对地是机器学习对于数据及算力的需求也变得越来越大，例如近年来流行的ChatGPT，通过由数万个A100 GPU组成的大型AI超级计算机提供强大的算力，并且在未来训练模型所需算力仍会不断增加。如此巨量的算力对于小型公司及个人用户完全无力承担，但通过较低的算力无法获取精确的结果，这对于医疗诊断、智能驾驶等对模型精确度要求较高的领域也无法接受。计算资源有限的客户端可以将数据委托给服务器，随后用户可以将计算任务外包给服务器，服务器收到计算请求后，在客户端上传的数据上进行计算并返回计算结果给用户，这种外包计算可以节省软件硬件设施部署和维护的高昂成本，避免参与复杂的计算。外包计算任务通常涉及大量的隐私数据，由于服务器可能会滥用用户数据，直接将用户数据上传给服务器可能会引发隐私问题，此外如果服务器返回一个错误的计算结果，外包计算也可能会带来安全问题。发明内容为了解决外包机器学习中可能存在的数据隐私保护及可验证计算问题，本发明提供了计算服务外包的可验证数据隐私保护系统及方法，可以提供数据隐私的保护，还可以对计算结果进行验证，保证外包计算的安全性。一方面，提供了计算服务外包的可验证数据隐私保护系统，包括：验证客户端、第一证明服务器和第二证明服务器；验证客户端、第一证明服务器和第二证明服务器进行初始化操作；验证客户端将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器；验证客户端接收第一证明服务器和第二证明服务器反馈的计算结果份额和计算过程证明；所述计算结果份额，是第一证明服务器和第二证明服务器根据获取的数据份额，进行机器学习推理服务得到的；所述计算过程证明，是第一证明服务器和第二证明服务器通过零知识证明方式为计算过程生成的；验证客户端根据所获得的计算过程证明，对计算过程进行验证，如果对计算过程验证无误，则根据计算结果份额进行秘密重构，得到最终的机器学习推理结果。另一方面，提供了计算服务外包的可验证数据隐私保护方法，包括：验证客户端、第一证明服务器和第二证明服务器进行初始化操作；验证客户端将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器；验证客户端接收第一证明服务器和第二证明服务器反馈的计算结果份额和计算过程证明；所述计算结果份额，是第一证明服务器和第二证明服务器根据获取的数据份额，进行机器学习推理服务得到的；所述计算过程证明，是第一证明服务器和第二证明服务器通过零知识证明方式为计算过程生成的；验证客户端根据所获得的计算过程证明，对计算过程进行验证，如果对计算过程验证无误，则根据计算结果份额进行秘密重构，得到最终的机器学习推理结果。上述技术方案具有如下优点或有益效果：本发明公开了一种可以保障用户数据隐私性，允许验证的外包计算方法，本发明提供的方法安全、可靠、高效，本发明选择基于VOLE的零知识证明技术，相比较其他零知识证明技术方案，其拥有更低的内存开销，以及证明计算开销与电路体积呈线性关系，因此其相比其他零知识证明方案更适用于机器学习等复杂计算任务的证明。基于加法秘密分享技术及零知识证明技术，构建了一个可验证隐私保护机器学习推理方案。通过零知识证明技术对计算的正确性进行验证，其次利用加法秘密分享技术保证验证客户端的数据隐私性。本发明的零知识证明技术，采用基于VOLE的零知识证明方案。相比其他方案，其大幅度减少了证明过程中所需内存开销，因此更加适用于机器学习等复杂计算任务的计算正确性验证。对于零知识证明协议及加法秘密分享协议在布尔电路及算术电路下的相互转换，本方案通过应用edaBits方案及ABY方案来分别完成相应转换，从而使整个系统可以应用于机器学习推理任务中。附图说明构成本发明的一部分的说明书附图用来提供对本发明的进一步理解，本发明的示意性实施例及其说明用于解释本发明，并不构成对本发明的不当限定。图1为实施例一的方案整体技术路线；图2为实施例一的方案整体框架图；图3为实施例一的方案流程图。具体实施方式应该指出，以下详细说明都是示例性的，旨在对本发明提供进一步的说明。除非另有指明，本文使用的所有技术和科学术语具有与本发明所属技术领域的普通技术人员通常理解的相同含义。术语说明：零知识证明技术：零知识证明作为一种密码学原语，最早由Goldwasser等人在1985年提出，通过零知识证明，证明服务器可以证明陈述的有效性，而不会向验证客户端透露任何其他信息。其具备三个基本特性，完备性：若证明服务器和验证客户端诚实地执行协议，且证明服务器拥有有效的证据，那么验证客户端总是会接受陈述的正确性。可靠性：保证恶意证明服务器无法欺骗验证客户端相信陈述的正确性。零知识性：可以防止恶意验证客户端获知除陈述正确性以外的其他信息。近年来，零知识证明技术迅猛发展，无论是计算复杂度还是通信复杂度都有大幅度地降低，得益于此，零知识证明技术已经被应用于区块链、分布式计算等领域来验证计算的完整性。近年来，基于VOLE的零知识证明协议出现，其相比于其他零知识证明方案具有更低的内存开销及线性时间的计算开销，使得其相比于其他的零知识证明方案更适用于复杂的计算任务。加法秘密分享协议：秘密分享协议作为一种多方场景下的隐私计算技术，秘密分享协议通过将隐私数据拆分为多份，并分发给多个参与者，可以保证隐私数据在计算过程中不被任何一方知晓，只有达到方案指定的人数才可以重构隐私数据。其可以被分为两个阶段：在秘密分发阶段，数据拥有方将隐私数据m拆分为n份，并将其分发给n个不合谋的计算方，计算方通过之间的交互完成相应的计算操作。在秘密重构阶段，计算方将计算结果ri发送给数据拥有方，数据拥有方对数据进行重构获取最终计算结果r。加法秘密分享方案作为秘密分享技术中的一种方案，可以被认为门限的秘密分享协议。实施例一本实施例提供了计算服务外包的可验证数据隐私保护系统；如图1、图2和图3所示，计算服务外包的可验证数据隐私保护系统，包括：验证客户端、第一证明服务器和第二证明服务器；验证客户端、第一证明服务器和第二证明服务器进行初始化操作；验证客户端将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器；验证客户端接收第一证明服务器和第二证明服务器反馈的计算结果份额和计算过程证明；所述计算结果份额，是第一证明服务器和第二证明服务器根据获取的数据份额，进行机器学习推理服务得到的；所述计算过程证明，是第一证明服务器和第二证明服务器通过零知识证明方式为计算过程生成的；验证客户端根据所获得的计算过程证明，对计算过程进行验证，如果对计算过程验证无误，则根据计算结果份额进行秘密重构，得到最终的机器学习推理结果。进一步地，所述验证客户端、第一证明服务器和第二证明服务器进行初始化操作，具体包括：验证客户端第一证明服务器/＞和第二证明服务器/＞共同进行向量不经意线性评估协议的初始化操作，在初始化操作过程中，验证客户端v分别获取算术电路及布尔电路下的全局密钥/＞及/＞其中表示算术电路的域空间，/＞表示布尔电路的域空间；验证客户端分别与第一证明服务器/＞和第二证明服务器/＞生成设定数量的随机VOLE关系，用于后续零知识证明协议中输入值的承诺及乘法门的计算，将每个随机VOLE关系看成对其中的值r的承诺，表示为M＝K+Δ·r，其中/＞持有随机数r及相应的消息认证码M，验证客户端/＞持有用于随机VOLE关系的本地密钥K及全局密钥Δ。验证客户端分别为第一证明服务器/＞和第二证明服务器/＞生成n个乘法三元组份额{＜ai＞1，＜bi＞1，＜ci＞1}，{＜ai＞2，＜bi＞2，＜ci＞2}，i∈，满足＝·。验证客户端首先选取2n个随机数{xi，yi}，i∈，并计算乘法值zi＝xi·yi，此后验证客户端/＞选取3n个随机数{＜ai＞1，＜bi＞1，＜ci＞1}，i∈作为第一证明服务器/＞的乘法三元组份额，发送给第一证明服务器/＞其后，验证客户端/＞计算第二证明服务器/＞的乘法三元组份额＜ai＞2＝xi-＜ai＞1，＜bi＞2＝yi-＜bi＞1，＜ci＞2＝zi-＜ci＞1，i∈，并发送给第二证明服务器/＞至此，验证客户端/＞完成n个乘法三元组的生成及分发工作；验证客户端、第一证明服务器和第二证明服务器，均对乘法三元组的份额生成承诺。进一步地，所述验证客户端将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器，具体包括：验证客户端将机器学习推理任务过程中所需的预测数据，通过秘密分享方式生成相应的数据份额，并将数据份额分发给第一证明服务器和第二证明服务器。进一步地，所述将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器之后，还包括：第一证明服务器和第二证明服务器接收分发的数据份额，第一证明服务器、第二证明服务器与验证客户端共同使用零知识证明协议，对数据份额生成承诺。进一步地，所述第一证明服务器、第二证明服务器与验证客户端共同使用零知识证明协议，对数据份额生成承诺，具体包括：假设验证客户端的输入数据为{di}，i∈，验证客户端/＞首先生成n个随机值{ri}，i∈，然后验证客户端/＞进行减法计算si＝di-ri。验证客户端将{ri}及{si}作为输入数据的相应份额分别分发给第一证明服务器及第二证明服务器/＞第一证明服务器、第二证明服务器与验证客户端，一同对接收到的数据份额生成相应的承诺。在此过程，由于各方均获知相应的数据份额，因此，通过无需通信的公共承诺来对接收到的数据份额进行承诺，各个证明服务器与验证客户端约定一个随机数α作为公共承诺的消息认证码。随后，在对值x生成公共承诺过程中，证明服务器直接将α作为相应的消息认证码Mx，而验证客户端只计算本地密钥kx＝α-Δ·x。进一步地，所述计算结果份额，是第一证明服务器和第二证明服务器根据获取的数据份额，进行机器学习推理服务得到的，具体包括：对于机器学习中的线性操作，采用算术电路下的零知识证明协议及秘密分享协议完成计算；对于机器学习中的非线性操作，将数据表示为布尔值，并利用布尔电路下的零知识证明协议及秘密分享协议进行计算；在计算过程中，使用edaBits方案来实现布尔及算术电路下协议之间的转换操作。进一步地，所述对于机器学习中的线性操作，采用算术电路下的零知识证明协议及秘密分享协议完成计算，具体包括：第一证明服务器及第二证明服务器/＞在算术电路下，通过零知识证明协议及加法秘密分享进行线性运算：首先假设进行运算的预测数据a，b的承诺为，；拥有两个承诺的本地密钥ka，kb及全局密钥Δ；拥有相应的数据份额＜a＞1，＜b＞1及份额所对应的消息认证码/＞拥有相应的数据份额＜a＞2，＜b＞2及份额所对应的消息认证码/＞满足关系：及对于相应的承诺加法计算＝+；计算kc＝ka+kb；计算＜c＞1＝＜a＞1+＜b＞1及/＞计算＜c＞2＝＜a＞2+＜b＞2及/＞进一步地，所述对于机器学习中的线性操作，采用算术电路下的零知识证明协议及秘密分享协议完成计算，具体还包括：对于相应的承诺乘法运算＝·，使用初始化阶段生成的乘法三元组；假设获取的乘法三元组份额为{＜x＞1，＜y＞1，＜z＞1}，/＞获取的乘法三元组份额为{＜x＞2，＜y＞2，＜z＞2}，满足＜z＞1+＜z＞2＝·。及/＞两方首先根据乘法三元组进行计算，获取：＜d＞i＝＜a＞i-＜x＞i，＜e＞i＝＜b＞i-＜y＞i，i∈{1，2}，此后及/＞两方通过交互{＜d＞i，＜e＞i}获取：d＝＜d＞1+＜d＞2及e＝＜e＞1+＜e＞2。计算乘法结果份额＜c＞1＝d·e+d·＜y＞1+＜x＞1·e+＜z＞1；计算乘法结果份额＜c＞2＝d·＜y＞2+＜x＞2·e+＜z＞2；由此完成对加法秘密分享协议下乘法的计算。此后，及/＞将获取的数据份额＜c＞1，＜c＞2进行承诺，因此三方获取乘法结果承诺，满足/＞完成零知识证明协议下乘法门的计算。进一步地，所述对于机器学习中的非线性操作，将数据表示为布尔值，并利用布尔电路下的零知识证明协议及秘密分享协议进行计算，具体包括：对于机器学习中的非线性计算，执行在布尔电路下的零知识证明协议及加法秘密分享协议来进行计算完整性的验证和隐私保护：在布尔电路下，加法秘密分享协议的数据分发阶段利用异或运算，对于v持有的隐私数据a而言，通过选取随机数r作为数据份额＜a＞1，并计算/＞然后将＜a＞1，＜a＞2作为数据份额分发给/＞完成隐私数据分发；对于加法秘密分享协议而言，承诺异或门的计算均在本地完成：非门计算c＝～a，只需对其中一方的数据份额进行取反运算：＜c＞1＝～＜a＞1，＜c＞2＝＜a＞2；对于承诺与门计算c＝a&amp;b，通过生成相应的三元组来辅助/＞进行与门计算，即先计算：然后进行交互获取{d，e}，此后计算：计算结果份额/＞计算结果份额/＞进一步地，所述对于机器学习中非线性操作，将数据表示为布尔值，并利用布尔电路下的零知识证明协议及秘密分享协议进行计算，具体还包括：对于零知识证明协议而言，承诺类型基本相似：其中，验证客户端持有本地密钥k及全局密钥Γ，证明服务器/＞持有数据份额{xi}及相应的消息认证码{mi}，i∈{1，2}。异或门与算术电路下的加法门的运算类似，对于计算：证明服务器计算：对于非门运算＝～，本地计算/＞证明服务器/＞只需对承诺值x进行秘密分享协议下的取反操作。进一步地，所述在计算过程中，使用edaBits方案来实现布尔及算术电路下协议之间的转换操作，具体包括：对于零知识证明协议之间的相互转换，通过可验证机器学习推理方案Mystique中的提出的zk-edaBits协议完成转换；对于加法秘密分享方案在布尔电路及算术电路之间的转换，通过现有高效秘密分享转换方案ABY来完成，其中对于秘密分享方案从布尔电路到算术电路的转换，其可以通过不经意传输协议实现；对于秘密分享方案从算术电路到布尔电路的转换需要先将算术电路下的数据份额转为姚电路，其次再从姚电路转为布尔电路下的数据份额。应理解地，对于机器学习中线性计算及非线性计算共同存在，因此我们需实现零知识证明协议及秘密分享协议在布尔电路及算术电路之间的转换，使之可以完整地完成对可验证机器学习推理任务的隐私保护。进一步地，所述计算过程证明，是第一证明服务器和第二证明服务器通过零知识证明方式为计算过程生成的，具体包括：基于零知识证明所采用的承诺方案具有加法同态的性质，对于加法门或者异或门计算，三方无需通信只需要根据需证明电路进行相应的加法承诺计算，获取加法结果承诺。对于乘法门及与门计算，两个证明服务器通过秘密分享协议先对承诺值进行乘法或与运算生成相应的结果值，其后利用预生成的VOLE关系将结果值向验证客户端进行承诺。在完成运算后，两个证明服务器将最后的结果值发送给验证服务器进行验证，完成整个计算过程的证明。进一步地，所述验证客户端根据所获得的计算过程证明，对计算过程进行验证，具体包括：对于证明过程中产生的乘法结果承诺的验证，具体包括：设证明电路的大小为n，即电路中存在n个乘法门，我们设每个乘法门上的计算为ci＝ai·bi，i∈：由于获取的乘法结果承诺从/＞获取，这时/＞便需要去验证承诺与，之间满足关系ci＝ai·bi；v根据相应的承诺中的本地密钥计算：证明服务器通过相应的承诺值份额及相应的消息认证码计算：选取一个随机值χ，并将其发送给/＞随后，计算：将＜U＞j和＜V＞j发送给验证客户端/＞计算/＞并验证等式W＝+·Δ是否成立，若成立，则认为获取的乘法结果承诺满足关系ci＝ai·bi，完成对零知识证明协议下乘法门的验证。对于最终计算结果的验证，通过打开承诺的方式进行验证：获取由/＞及/＞发送的最终计算结果份额＜s＞1，＜s＞2及相对应的消息认证码/＞然后验证等式是否成立。进一步地，所述验证客户端根据所获得的计算过程证明，对计算过程进行验证，具体还包括：对于与门计算c＝a&amp;b的验证，具体包括：证明服务器通过加法秘密分享方案下的乘法运算获取乘法值的份额＜c＞1，＜c＞2，然后对其向/＞进行承诺，生成承诺，完成与门的证明过程；对于n个与门的批量验证，通过等式：进行证明，代表乘法输入值ai，bi的消息认证码的与值，/＞代表验证客户端的相应的本地密钥之间的计算，/＞由两个证明服务器生成。此外为保证协议安全性，需利用一定数量的随机VOLE来对等式中计算值进行随机化。对于最终结果的验证，验证客户端通过从/＞获取的计算结果及针对计算结果的承诺完成验证，此后/＞通过对计算结果进行秘密重构获取结算结果的明文。进一步地，所述根据计算结果份额进行秘密重构，得到最终的机器学习推理结果，具体包括：验证客户端对生成的证明完成验证，确保计算过程无误，对于从/＞得到的最终结果份额＜s＞1，＜s＞2，通过加法重构获取最终的计算结果s，s＝＜s＞1+＜s＞2。在本方案中一共包括三个实体，分别为一个验证客户端及两个证明服务器。验证客户端作为数据提供者负责提供机器学习推理所需的隐私数据，并通过加法秘密分享将隐私数据分发给两个证明服务器，此外验证客户端还负责为两个证明方提供乘法三元组用于份额之间的乘法运算。证明服务器作为计算方，根据获取的数据份额进行机器学习推理服务，并通过零知识证明为计算过程生成相应的计算过程证明。完成计算后，证明服务器将计算后获得的结果份额和计算的证明一同返回给验证客户端。验证客户端根据获得的计算证明对计算过程进行验证，若对获取的两个证明验证无误，验证客户端根据获取的结果份额进行秘密重构获取最终的计算结果。通过这个方案，利用零知识证明技术保证两个证明服务器计算的正确性，并通过秘密分享技术保证验证客户端隐私数据的安全性。根据零知识证明的零知识特性还可以对证明服务器所持有的隐私机器学习模型及其精度进行验证。假设两个证明服务器持有相同的模型，并保证两方不会进行同谋，此时证明服务器首先可以利用密码学承诺方案将模型参数向验证客户端进行承诺，此后验证客户端可以利用测试数据对模型精度进行测试，若模型精度满足验证客户端的需求，验证客户端通过秘密分享技术分发隐私数据，进行机器学习推理过程。本发明方案的具体步骤如下：验证客户端与证明服务器进行初始化操作，验证客户端执行算术电路及布尔电路下的零知识证明协议的初始化阶段，并获取设定数量的乘法三元组分发给两个证明服务器，用于后续的秘密分享协议下的乘法运算。验证客户端进行加法秘密分享协议的秘密分发阶段，通过生成相应数量的随机数对需要用于机器学习推理的数据进行分发。证明服务器获取分发的数据份额后，证明服务器与验证客户端共同使用零知识证明协议对数据份额生成承诺。证明服务器利用获取的数据份额进行相应的计算操作。对于机器学习中线性操作，只需算术电路下的零知识证明协议及秘密分享协议便可以完成计算。对于机器学习中非线性操作，涉及到比较等操作以及浮点数，因此我们需要将数据表示为布尔值，并利用布尔电路下的零知识证明协议及秘密分享协议进行相应的计算。由于机器学习中线性计算及非线性计算需要分别使用算术电路及布尔电路下的零知识证明及秘密分享协议，因此在计算过程中需要使用edaBits方案来实现布尔及算术电路下协议之间的转换操作。在完成相关计算后，证明服务器将计算结果连同证明一同返回给验证客户端，此时验证客户端可以通过证明验证计算结果的正确性。若验证无误，验证客户端便可以进行秘密重构，获取最终的机器学习推理结果。实施例二本实施例提供了计算服务外包的可验证数据隐私保护方法，包括：验证客户端、第一证明服务器和第二证明服务器进行初始化操作；验证客户端将机器学习推理所需的数据份额分别发送给第一证明服务器和第二证明服务器；验证客户端接收第一证明服务器和第二证明服务器反馈的计算结果份额和计算过程证明；所述计算结果份额，是第一证明服务器和第二证明服务器根据获取的数据份额，进行机器学习推理服务得到的；所述计算过程证明，是第一证明服务器和第二证明服务器通过零知识证明方式为计算过程生成的；验证客户端根据所获得的计算过程证明，对计算过程进行验证，如果对计算过程验证无误，则根据计算结果份额进行秘密重构，得到最终的机器学习推理结果。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
