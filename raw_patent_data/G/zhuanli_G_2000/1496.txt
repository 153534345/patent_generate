标题title
基于机器视觉的鹅舍消杀喷液图像检测方法
摘要abst
本发明涉及图像数据处理技术领域，提出了基于机器视觉的鹅舍消杀喷液图像检测方法，包括：获取消杀喷液灰度图像，对灰度图像进行均匀分块；根据图像块中表现的液滴形状差异获取图像块的喷液密集因子；根据图像块中表现的液滴分布的差异获取图像块的喷液淆乱因子；根据图像块的喷液密集因子和淆乱因子获取图像块的喷液密集指数；根据图像块的喷液密集指数获取图像块的密集扩散渐变指数；根据图像块的密集扩散渐变指数获取图像块的喷液密集均匀度；根据图像块的喷液密集均匀度获取图像块的喷液不均匀系数；根据喷液不均匀系数完成对鹅舍消杀喷液图像的检测。本发明解决了鹅舍消杀喷液检测精度低的问题，可以得到更加准确的鹅舍消杀喷液检测结果。
权利要求书clms
1.基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，该方法包括以下步骤：获取鹅舍消杀喷液灰度图；利用均匀分块的方式对鹅舍消杀喷液灰度图像进行划分，根据图像块与喷液中心距离的不同表现的液滴形状特征获取图像块的喷液密集因子；根据图像块与喷液中心距离不同表现的液滴分布特征获取图像块的喷液淆乱因子；根据图像块的喷液密集因子和喷液淆乱因子获取图像块的喷液密集指数；根据消毒液喷洒方式表现的渐变特征获取图像块的喷液密集扩散渐变指数；根据消杀喷液向四周均匀喷洒的特征计算图像块与距喷液中心相同距离的其它所有图像块喷液密集扩散渐变指数的差异获取图像块的喷液密集均匀度；根据图像块的喷液密集均匀度获取图像块的喷液不均匀系数；根据图像块的喷液不均匀系数获取消杀喷液灰度图上不均匀区域；根据消杀喷液不均匀区域的分析完成对鹅舍消杀喷液的检测。2.根据权利要求1所述的基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，所述根据图像块与喷液中心距离的不同表现的液滴形状特征获取图像块的喷液密集因子的方法为：利用均匀分块的方式对鹅舍消杀喷液灰度图像进行划分，得到第一预设数量个图像块；将所述鹅舍消杀喷液灰度图像的中心区域所在的图像块作为中心图像块；采用SIFT角点检测算法获取所述图像块内的角点，计算所述图像块内任意两个角点之间的欧氏距离，将所述图像块内任意两个角点之间的欧氏距离的计算结果组成的序列作为图像块的角点距离序列；计算所述图像块的角点距离序列的均方差与预设调节参数的和作为所述图像块的第一变化系数；计算所述图像块内角点数量与第一变化系数的比值作为所述图像块的喷液密集因子。3.根据权利要求1所述的基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，所述根据图像块与喷液中心距离不同表现的液滴分布特征获取图像块的喷液淆乱因子的方法为：计算所述图像块内灰度值的变异系数作为所述图像块的第一淆乱系数；将所述图像块内的灰度值由小到大进行排序，将具有相同灰度值的像素点作为同一灰度级的像素点，将所述同一灰度级的像素点分为一组，将分组中数值数量大于第二预设数量阈值的分组作为所述图像块的目标分组，计算所述图像块的目标分组的数量与未被划分到目标分组中的数值的总数量的积作为所述图像块的第二淆乱系数；计算所述图像块的第一淆乱系数和第二淆乱系数的乘积作为所述图像块的喷液淆乱因子。4.根据权利要求1所述的基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，所述根据图像块的喷液密集因子和喷液淆乱因子获取图像块的喷液密集指数的方法为：计算所述图像块的喷液密集因子与预设调节参数的和作为所述图像块的第一密集系数；计算所述图像块的喷液淆乱因子与预设调节参数的和作为所述图像块的第二密集系数；计算所述图像块的第一密集系数和所述图像块的第二密集系数乘积的倒数作为所述图像块的喷液密集指数。5.根据权利要求1所述的基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，所述根据消毒液喷洒方式表现的渐变特征获取图像块的喷液密集扩散渐变指数的方法为：； ；式中，和/＞分别表示所述消杀喷液灰度图像中心图像块的中心像素点与第/＞个图像块的中心像素点之间连线经过的第/＞个和第/＞个图像块的喷液密集指数，/＞表示消杀喷液灰度图像中心图像块与第/＞个图像块之间连线经过的图像块的数量，/＞表示所述连线经过的相邻图像块的喷液密集指数差值的均值；/＞和/＞分别表示所述连线经过的第/＞个和第/＞个图像块的喷液密集指数；/＞表示所述消杀喷液灰度图像中第/＞个图像块的喷液密集扩散渐变指数。6.根据权利要求1所述的基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，所述根据消杀喷液向四周均匀喷洒的特征计算图像块与距喷液中心相同距离的其它所有图像块喷液密集扩散渐变指数的差异获取图像块的喷液密集均匀度的方法为：计算中心图像块的中心像素点与其余所有图像块中心像素点的欧氏距离，将计算结果由小到大进行排序，将所述排序后的结果中相同数值的数据分为一组；计算所述图像块与同组内其它所有图像块的喷液密集扩散渐变指数的差值的均值；计算所述喷液密集扩散渐变指数差值的均值与预设调节参数和的倒数作为所述图像块的喷液密集均匀度。7.根据权利要求1所述的基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，所述根据图像块的喷液密集均匀度获取图像块的喷液不均匀系数的方法为：；式中，表示所述消杀喷液灰度图中第/＞个图像块的喷液密集均匀度，/＞表示所述消杀喷液灰度图中第/＞个图像块的喷液密集均匀度，所述消杀喷液灰度图中图像块的数量为/＞，表示以自然常数为底数的指数函数；/＞表示所述消杀喷液灰度图中第/＞个图像块的喷液不均匀系数。8.根据权利要求1所述的基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，所述根据图像块的喷液不均匀系数获取消杀喷液灰度图上不均匀区域的方法为：将消杀喷液灰度图中图像块的喷液不均匀系数大于预设不均匀阈值的图像块进行标记，将标记的图像块所在的区域作为消杀喷液灰度图上的不均匀区域。9.根据权利要求1所述的基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，所述根据消杀喷液不均匀区域的分析完成对鹅舍消杀喷液的检测的方法为：计算所述不均匀区域与中心区域的欧氏距离作为所述不均匀区域的距离系数；计算所述不均匀区域的喷液不均匀系数与所述不均匀区域的距离系数的比值作为所述不均匀区域的第一合格系数；根据所述不均匀区域的第一合格系数获取鹅舍消杀喷液的检测结果。10.根据权利要求9所述的基于机器视觉的鹅舍消杀喷液图像检测方法，其特征在于，所述根据所述不均匀区域的第一合格系数获取鹅舍消杀喷液的检测结果的方法为：计算所述不均匀区域的第一合格系数在消杀喷液灰度图像上的累加和作为消杀喷液图像的第二合格系数，将所述消杀喷液图像的第二合格系数的归一化处理结果作为消杀喷液图像的合格系数，所述消杀喷液图像的合格系数大于预设合格阈值则鹅舍消杀喷液合格。
说明书desc
技术领域本发明涉及图像数据处理技术领域，具体涉及基于机器视觉的鹅舍消杀喷液图像检测方法。背景技术鹅舍是鹅群集中生活、繁殖的场所，随着规模化养殖进程的推进，高密度的饲养环境带来细菌、病毒等病原微生物的富集，禽流感、新城疫、小鹅瘟、鹅痛风等疫病检出率逐年递增，给鹅养殖业带来极大挑战。采用消杀喷液对鹅舍进行消毒处理，可以有效灭杀鹅舍表面和环境中的病原微生物，预防鹅群疾病的传播，创造一个清洁、卫生的环境，降低鹅的死淘率，提高生产性能，提升养殖效益，促进养殖业提质增效。由于市场上的化学消毒剂对人体有不同程度的危害，通过自动化系统进行无人自动消毒，可以减少人员接触有害物质的机会，降低风险，而且可以根据环境、预定的时间进行自动消毒，准确控制消毒液的喷洒时间和覆盖范围。采用传统的大津阈值分割算法对消杀喷液图像进行检测时，由于鹅舍消杀喷液特征的影响使输出的消杀喷液图像的分割结果存在较大误差，导致根据消杀喷液图像的分割结果对鹅舍消杀喷液检测的精度较低，对鹅舍消杀效果的检测不准确。发明内容本发明提供基于机器视觉的鹅舍消杀喷液图像检测方法，以解决鹅舍消杀效果检测不准确的问题，所采用的技术方案具体如下：本发明一个实施例基于机器视觉的鹅舍消杀喷液图像检测方法，该方法包括以下步骤：获取鹅舍消杀喷液灰度图；利用均匀分块的方式对鹅舍消杀喷液灰度图像进行划分，根据图像块与喷液中心距离的不同表现的液滴形状特征获取图像块的喷液密集因子；根据图像块与喷液中心距离不同表现的液滴分布特征获取图像块的喷液淆乱因子；根据图像块的喷液密集因子和喷液淆乱因子获取图像块的喷液密集指数；根据消毒液喷洒方式表现的渐变特征获取图像块的喷液密集扩散渐变指数；根据消杀喷液向四周均匀喷洒的特征计算图像块与距喷液中心相同距离的其它所有图像块喷液密集扩散渐变指数的差异获取图像块的喷液密集均匀度；根据图像块的喷液密集均匀度获取图像块的喷液不均匀系数；根据图像块的喷液不均匀系数获取消杀喷液灰度图上不均匀区域；根据消杀喷液不均匀区域的分析完成对鹅舍消杀喷液的检测。优选的，所述根据图像块与喷液中心距离的不同表现的液滴形状特征获取图像块的喷液密集因子的方法为：利用均匀分块的方式对鹅舍消杀喷液灰度图像进行划分，得到第一预设数量个图像块；将所述鹅舍消杀喷液灰度图像的中心区域所在的图像块作为中心图像块；采用SIFT角点检测算法获取所述图像块内的角点，计算所述图像块内任意两个角点之间的欧氏距离，将所述图像块内任意两个角点之间的欧氏距离的计算结果组成的序列作为图像块的角点距离序列；计算所述图像块的角点距离序列的均方差与预设调节参数的和作为所述图像块的第一变化系数；计算所述图像块内角点数量与第一变化系数的比值作为所述图像块的喷液密集因子。优选的，所述根据图像块与喷液中心距离不同表现的液滴分布特征获取图像块的喷液淆乱因子的方法为：计算所述图像块内灰度值的变异系数作为所述图像块的第一淆乱系数；将所述图像块内的灰度值由小到大进行排序，将具有相同灰度值的像素点作为同一灰度级的像素点，将所述同一灰度级的像素点分为一组，将分组中数值数量大于第二预设数量阈值的分组作为所述图像块的目标分组，计算所述图像块的目标分组的数量与未被划分到目标分组中的数值的总数量的积作为所述图像块的第二淆乱系数；计算所述图像块的第一淆乱系数和第二淆乱系数的乘积作为所述图像块的喷液淆乱因子。优选的，所述根据图像块的喷液密集因子和喷液淆乱因子获取图像块的喷液密集指数的方法为：计算所述图像块的喷液密集因子与预设调节参数的和作为所述图像块第一密集系数；计算所述图像块的喷液淆乱因子与预设调节参数的和作为所述图像块的第二密集系数；计算所述图像块的第一密集系数和所述图像块的第二密集系数乘积的倒数作为所述图像块的喷液密集指数。优选的，所述根据消毒液喷洒方式表现的渐变特征获取基于喷液密集指数变化的图像块的喷液密集扩散渐变指数的方法为：；；式中，和/＞分别表示所述消杀喷液灰度图像中心图像块的中心像素点与第/＞个图像块的中心像素点之间连线经过的第/＞个和第/＞个图像块的喷液密集指数，/＞表示消杀喷液灰度图像中心图像块与第/＞个图像块之间连线经过的图像块的数量，/＞表示所述连线经过的相邻图像块的喷液密集指数差值的均值；/＞和/＞分别表示所述连线经过的第个和第/＞个图像块的喷液密集指数；/＞表示所述消杀喷液灰度图像中第/＞个图像块的喷液密集扩散渐变指数。优选的，所述根据消杀喷液向四周均匀喷洒的特征计算图像块与距喷液中心相同距离的其它所有图像块喷液密集扩散渐变指数的差异获取图像块的喷液密集均匀度的方法为：计算所述中心图像块的中心像素点与其余所有图像块中心像素点的欧氏距离，将计算结果由小到大进行排序，将所述排序后的结果中相同数值的数据分为一组；计算所述图像块与同组内其它所有图像块的喷液密集扩散渐变指数的差值的均值；计算所述喷液密集扩散渐变指数差值的均值与预设调节参数求和的倒数作为所述图像块的喷液密集均匀度。优选的，所述根据图像块的喷液密集均匀度获取图像块的喷液不均匀系数的方法为：；式中，表示所述消杀喷液灰度图中第/＞个图像块的喷液密集均匀度，/＞表示所述消杀喷液灰度图中第/＞个图像块的喷液密集均匀度，所述消杀喷液灰度图中图像块的数量为/＞，/＞表示以自然常数为底数的指数函数；/＞表示所述消杀喷液灰度图中第/＞个图像块的喷液不均匀系数。优选的，所述根据图像块的喷液不均匀系数获取消杀喷液灰度图上不均匀区域的方法为：将消杀喷液灰度图中图像块的喷液不均匀系数大于预设不均匀阈值的图像块进行标记，将标记的图像块所在区域作为消杀喷液灰度图上的不均匀区域。优选的，所述根据消杀喷液不均匀区域的分析完成对鹅舍消杀喷液的检测的方法为：计算所述不均匀区域与中心区域的欧氏距离作为所述不均匀区域的距离系数；计算所述不均匀区域的喷液不均匀系数与所述不均匀区域的距离系数比值作为所述不均匀区域的第一合格系数；根据所述不均匀区域的第一合格系数获取鹅舍消杀喷液的检测结果。优选的，所述根据所述不均匀区域的第一合格系数获取鹅舍消杀喷液的检测结果的方法为：计算所述不均匀区域的第一合格系数在消杀喷液灰度图像上的累加和作为消杀喷液图像的第二合格系数，将所述消杀喷液图像的第二合格系数的归一化处理结果作为消杀喷液图像的合格系数，所述消杀喷液图像的合格系数大于预设合格阈值则鹅舍消杀喷液合格。本发明的有益效果是：针对鹅舍自动消杀喷液喷洒不均匀区域的检测，考虑消杀喷液图像中喷液不均匀分布特征，分析鹅舍消毒效果。考虑消杀喷液喷洒不均匀区域的液滴形状特征、液滴分布特征构建喷液密集因子和喷液淆乱因子；基于喷液密集因子、喷液淆乱因子和图像块之间的渐变特征构建喷液密集扩散渐变指数；根据喷液密集扩散渐变指数和消杀喷液喷洒特征构建喷液密集均匀度。基于喷液密集均匀度计算喷液不均匀系数，其有益效果在于考虑了消杀喷液的喷洒过程中的特征，提高对鹅舍消杀喷液喷洒的检测精度，进而提高鹅舍消毒效果检测的效率。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明一个实施例所提供的基于机器视觉的鹅舍消杀喷液图像检测方法的流程示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，其示出了本发明一个实施例提供的基于机器视觉的鹅舍消杀喷液图像检测方法流程图，该方法包括以下步骤：步骤S001，获取鹅舍消杀喷液灰度图像。本发明的消杀喷液头在鹅舍的上方，连接装有已经配置好的消毒液的管道，开启消毒指令之后，打开消杀喷液头，对鹅舍进行喷液消毒处理。在消毒喷头上方安装CCD相机，将相机焦点对准消毒喷头的正下方，采集鹅舍消杀喷液的图像，在采集过程中，为了获得更好反应消杀喷液特征的图像，打开顶部日光灯对消杀喷液喷洒情况进行拍摄，得到消杀喷液的RGB图像。将消杀喷液RGB图像转换成灰度图像，为降低图像中噪声以及环境中其他因素的影响，本发明采用高斯滤波对图像进行降噪处理，实施者可根据实际情况采用其他去噪方式。至此，获取了鹅舍消杀喷液灰度图像。步骤S002，根据图像块中表现的液滴形状差异和分布差异，构建喷液密集因子和淆乱因子；根据喷液密集因子和淆乱因子，构建图像块的喷液密集指数。在鹅舍消杀喷液喷洒过程中会出现因为消杀喷液头堵塞、故障等原因，导致鹅舍消毒不全面，存在部分区域消杀喷液较少，消毒效果较差的情况。若消杀喷液喷洒正常，在图像上表现为液体分布较为均匀，没有呈现较为明显的聚集、空缺部分，而消杀喷液图像的中心区域为消毒喷头的正下方，消杀喷液都是从该区域进行消毒液喷射、扩散；在消杀喷液灰度图像上该中心区域的消杀喷液密度较大；消杀喷液灰度图像中其它区域距离该中心区域越近，消杀喷液密度越大，距离中心区域较近的区域，消毒液体的速度更接近喷液的初始速度，速度衰减程度较小，液体的惯性和表面张力较大，消杀喷液没有明显的下坠趋势，因此在消杀喷液灰度图像中距离中心区域较近的区域液滴形状差异较大且液滴分布较为集中；距离中心区域较远的部分，由于喷液初始速度衰减较大，该区域液体的惯性和表面张力较小，消杀喷液具有明显的下坠趋势，因此在消杀喷液灰度图像中距离中心区域较远的区域液滴形状差异较小且液滴分布较为离散。因此对消杀喷液灰度图像进行均匀划分，分析不同区域的液滴形状差异特征和分布差异特征，本发明中对消杀喷液灰度图像划分图像块的大小为，/＞大小取经验值21且取奇数，实施者可根据相机拍摄高度、消杀喷液覆盖面积等场景具体特征选取合适的图像块大小；消杀喷液灰度图像的中心图像块即为喷洒的中心区域。根据图像块所在区域与中心区域距离不同表现的液滴形状差异特征，采用SIFT角点检测算法获取图像块内的角点，具体获取角点的计算过程为公知技术，这里不再进行赘述；计算图像块内角点之间的欧氏距离，获取图像块的角点距离序列，角点距离序列中数值的数量为/＞，根据图像块的角点距离序列和图像块内角点的数量计算喷液密集因子：；；式中，表示角点距离序列中第/＞个欧氏距离数值，/＞表示角点距离序列中所有欧氏距离数值的均值，角点距离序列中欧氏距离数值的数量为/＞，/＞表示消杀喷液灰度图中第/＞个图像块的第一变化系数；/＞表示消杀喷液灰度图中第/＞个图像块内角点的数量，/＞表示调节参数，大小取经验值1，/＞表示消杀喷液灰度图中第/＞个图像块的喷液密集因子。若消杀喷液灰度图中第/＞个图像块的位置距离中心区域越近，则第/＞个图像块内的液滴形状差异越大，角点分布较为离散，计算得到的/＞的值越大，且角点数量/＞的值较少；得到的第/＞个图像块的喷液密集因子/＞的值越小，表示该图像块所在区域的密集特征不明显，且该图像块所在区域距离中心区域越近。基于上述分析液滴形状差异导致不同位置角点分布特征不同，进一步分析液滴的分布特征与图像块的所在位置直接相关。将图像块内的灰度值由小到大进行排序，将序列中的相同数值的数据分为一组，设定每组中数据数量大于的为目标数组，/＞的大小取经验值10，统计目标数组的数量为/＞，未被分到目标数组的数据的数量为/＞，计算图像块的喷液淆乱因子：；式中，表示消杀喷液灰度图中第/＞个图像块中像素点灰度值的变异系数；/＞表示消杀喷液灰度图中第/＞个图像块中统计的目标数组的数量；/＞表示消杀喷液灰度图中第/＞个图像块中统计的未被分到目标数组的数据的数量，/＞表示调节参数；/＞表示消杀喷液灰度图中第/＞个图像块的喷液淆乱因子。若消杀喷液灰度图中第/＞个图像块的位置距离中心区域越近，则该图像块中的灰度分布越均匀，计算得到的/＞的值越小，同时划分的目标数组的数量越少且未被分到目标数组的数据的数量越少，即/＞和/＞的值越小；得到的消杀喷液灰度图中第/＞个图像块的喷液淆乱因子/＞的值越小，表示消杀喷液灰度图中第/＞个图像块所在位置表现的液滴分布特征值越小。基于上述计算得到的消杀喷液灰度图中第个图像块的喷液密集因子和喷液淆乱因子，可以进一步表示消杀喷液灰度图中第/＞个图像块所在位置表现的喷液密集特征，计算该图像块的喷液密集指数，公式如下：；式中，表示消杀喷液灰度图中第/＞个图像块的喷液密集因子，/＞表示消杀喷液灰度图中第/＞个图像块的喷液淆乱因子，/＞表示调节参数，/＞表示归一化函数，/＞表示消杀喷液灰度图中第/＞个图像块的喷液密集指数。若消杀喷液灰度图中第/＞个图像块距离消杀喷液灰度图的中心区域较远，则该图像块表现的液滴形状差异越小且液滴分布越混乱，即/＞和/＞的值越大，计算得到的消杀喷液灰度图中第/＞个图像块的喷液密集指数/＞的值越小，表示该图像块所在区域的喷液密集特征不明显，且该图像块所在位置距离消杀喷液灰度图中心区域较远。至此，获取了消杀喷液灰度图中图像块的喷液密集指数。步骤S003，根据喷液喷洒特征，基于图像块的喷液密集指数构建图像块的密集扩散渐变指数；根据密集扩散渐变指数，构建图像块的喷液均匀度，基于喷液均匀度构建喷液不均匀系数。若消杀喷液喷洒较为均匀，则消杀喷液灰度图中图像块的喷液密集指数是由中心区域向四周逐渐增大。将消杀喷液灰度图中第个图像块的中心像素点与中心图像块的中心像素点连接，输入为第/＞个图像块的中心像素点和中心图像块的中心像素点的位置信息，采用Bresenham算法获取第/＞个图像块的中心像素点与中心图像块的中心像素点连线经过的像素点，得到中心图像块的中心像素点到第/＞个图像块的中心像素点依次经过的像素点序列/＞，Bresenham算法的具体计算过程为公知技术，不再进行赘述。将序列中数据根据所属图像块进行分组，即同一图像块内像素点为一组，按序列中分组的顺序输出每组像素点所属图像块的喷液密集指数，构成消杀喷液灰度图中第/＞个图像块的喷液密集扩散序列/＞，序列/＞即表示消杀喷液灰度图中的中心图像块的中心像素点到第/＞个图像块的中心像素点依次经过的图像块的喷液密集指数构成的序列，其中/＞表示消杀喷液灰度图中的中心图像块的喷液密集指数，/＞表示消杀喷液灰度图中第/＞个图像块的喷液密集指数。因此可以根据喷液密集扩散序列计算图像块的喷液密集扩散渐变指数，公式如下：；；式中，和/＞分别表示消杀喷液灰度图中第/＞个图像块的喷液密集扩散序列/＞中的第/＞个和第/＞个数值，/＞表示序列/＞中数值的数量，/＞表示序列/＞中数值的均值；/＞和/＞分别表示消杀喷液灰度图中第/＞个图像块的喷液密集扩散序列/＞中的第/＞个和第个数值, /＞表示消杀喷液灰度图中第/＞个图像块的喷液密集扩散渐变指数。若在消杀喷液灰度图中的中心图像块到第/＞个图像块的喷液密集指数变化过程中，第/＞个图像块相对于连线方向上其邻近图像块喷液密集特征发生较大变化，即/＞和/＞的差值越大，计算得到的/＞的值越大，表示消杀喷液灰度图中第/＞个图像块为消杀喷液喷洒不均匀区域的可能性越大。基于上述喷液密集指数的渐变特征，可以得到消杀喷液灰度图中图像块的喷液密集扩散渐变指数，由于消杀喷液向四周均匀喷洒，因此与消杀喷液灰度图中心区域距离相同的图像块表现的喷液密集渐变特征相似。计算消杀喷液灰度图中每个图像块的中心像素点与中心图像块的中心像素点的欧氏距离，将计算结果按数值由小到大的进行排序可以得到图像块类别判断序列，消杀喷液灰度图中图像块的数量为/＞，将序列中数据进行分组，数值相同的分为一组，据此可将图像块按照与中心图像块的距离进行分组，与中心图像块距离相同的图像块为同一组，因此消杀喷液灰度图的图像块分组序列为/＞。根据分组情况计算图像块的喷液密集均匀度，公式如下：；；式中，表示消杀喷液灰度图中第/＞个图像块的喷液密集扩散渐变指数，/＞表示消杀喷液灰度图中与第/＞个图像块属于同一组中的第/＞个图像块的喷液密集扩散渐变指数，表示消杀喷液灰度图中第/＞个图像块所述分组中图像块的数量，/＞表示消杀喷液灰度图中第/＞个图像块的第一渐变系数；/＞表示调节参数，/＞表示消杀喷液灰度图中第/＞个图像块的喷液密集均匀度。若消杀喷液灰度图中与中心图像块距离相同的图像块中出现喷洒不均匀区域，即第/＞个图像块所在区域的喷洒不均匀，则第/＞个图像块与其所在分组其它图像块的喷液密集扩散渐变指数的差异较大，计算得到的/＞的值越大，/＞的值越大，得到的/＞的值越小，表示第/＞个图像块所在区域的喷洒不均匀特征较明显。基于消杀喷液灰度图中图像块的喷液密集均匀度，计算图像块所在区域的喷液不均匀系数，公式如下：；式中，表示消杀喷液灰度图中第/＞个图像块的喷液密集均匀度，/＞表示消杀喷液灰度图中第/＞个图像块的喷液密集均匀度，/＞表示消杀喷液灰度图中图像块的数量，/＞表示消杀喷液灰度图中第/＞个图像块的喷液不均匀系数。若消杀喷液的喷洒出现故障，会出现喷洒不均匀区域，计算得到的/＞的值越大，则得到的/＞的值越大，表示消杀喷液灰度图中第/＞个图像块喷液不均匀特征越明显，该图像块所在区域喷洒不均匀的可能性越大。至此，获取了消杀喷液灰度图中图像块的喷液不均匀系数。步骤S004，根据消杀喷液灰度图中图像块的喷液不均匀系数获取不均匀区域，基于不均匀区域分析获取对鹅舍消杀喷液的检测结果。消杀喷液灰度图中图像块的喷液不均匀系数考虑了图像块所在区域的喷液密集特征；消杀喷液灰度图中图像块所在出现喷洒不均匀特征时，计算得到的喷液不均匀系数的值越大，本发明设置不均匀阈值为0.8，筛选大于不均匀阈值图像块的喷液不均匀系数构成喷洒检测集合。根据喷洒检测集合/＞计算合格系数，公式如下：；式中，表示消杀喷液灰度图中第/＞个图像块的喷液不均匀系数，/＞消杀喷液灰度图中第/＞个图像块的中心像素点与中心图像块的中心像素点的欧氏距离，喷洒检测集合/＞中数据的数量为/＞，/＞表示鹅舍消杀喷液喷洒的合格系数。根据消杀喷液灰度图喷液不均匀系数较大的区域与该区域所在位置参数的比值表示鹅舍消毒效果的合格系数，即不均匀区域出现在中心区域附近则计算得到的/＞的值越大，表示鹅舍消毒效果越差，设定鹅舍消毒合格阈值为0.1，合格系数大于合格阈值则鹅舍消毒不合格。至此，完成对鹅舍消杀喷液的检测。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
