标题title
基于变邻域搜索算法求解矩阵制造车间AGV调度的方法
摘要abst
一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，涉及智能化制造车间调度技术领域，特别是属于一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法。包括步骤1，初始化算法参数；步骤2，初始化种群；步骤3，进入扰动阶段；步骤4，进入可变邻域下降阶段；步骤5，进入局部搜索阶段；步骤6，判断是否进行重调度；步骤7，更新最佳解决方案。本发明解决了AGV调度过程中的成本优化问题，以及AGV遇到车间内生产单元故障的重调度问题，具有有效提高生产效率并降低生产成本的积极效果。
权利要求书clms
1.一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，其特征在于，包括以下步骤，步骤1，初始化变邻域搜索算法参数，设置种群大小Ps，进化过程中的迭代次数，重调度策略中的权重参数/＞；步骤2，初始化种群，使用最近邻启发式规则生成1个解，使用随机方法生成剩余Ps-1个解，形成包含Ps个解的初始种群，从Ps个解中选择总成本最小的解，作为最佳方案进行更新；步骤3，进入扰动阶段，利用煎饼翻转策略指导解进行邻域扰动，接收总成本更小的解作为新解；步骤4，进入可变邻域下降阶段，利用同车插入策略和同车交换策略，指导当前解进化，继续接收总成本更小的解作为新解；步骤5，进入局部搜索阶段，利用合并策略指导当前解跳出局部最优；步骤6，判断是否进行重调度，若需要重调度，随机执行快速维修重新安排的重调度策略或改进的最近邻域搜索的重调度策略，若不需要重调度，则继续执行下一步；步骤7，更新总成本最小的解，判断是否达到终止时间，若满足则终止进化，输出当前最佳解的总成本，反之执行步骤3。2.根据权利要求1所述的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，其特征还在于，在步骤2中，解由三部分组成：一个一维数组π、一个由m个向量组成的集合和m个0，一维数组π中的元素表示AGV最终返回的地点的索引，集合/＞表示AGV服务的呼叫单元的序列，0用于将一维数组和m个向量隔开。3.根据权利要求2所述的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，其特征还在于，在步骤2中，最近邻启发式规则为，对于每个AGV来说，都是根据行驶距离最小来选择下一个呼叫单元，直到所有呼叫单元都分配到AGV中后，则停止分配，构成所需要的解。4.根据权利要求3所述的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，其特征还在于，在步骤3中，煎饼翻转策略包括以下步骤，定义序列为AGV将物料运送到呼叫单元的顺序，其中包括n个待安排的呼叫单元，从序列中找到序列号最大的呼叫单元，并设序列号最大的呼叫单元下标为k，k∈，对前k+1个呼叫单元进行翻转操作，然后翻转所有呼叫单元，每次迭代都能将序列号最大的呼叫单元置于序列的底部，重复这一过程k次，直至获得新序列。5.根据权利要求4所述的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，其特征还在于，在步骤4中，同车插入策略为，从执行煎饼翻转策略之后的新序列中随机选择一个呼叫单元i，并将所选择的呼叫单元i随机插入当前序列中的一个位置，如果仍找不到总成本更小的解，则执行同车交换策略；同车交换策略为，从执行煎饼翻转策略之后的新序列中随机选择两个呼叫单元i，呼叫单元j，然后交换呼叫单元i和呼叫单元j，继续寻找总成本更小的解，重复上述过程次后，接收此时的解作为当前解。6.根据权利要求5所述的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，其特征还在于，在步骤5中，为防止陷入局部最优，执行合并策略指导当前解跳出局部最优，合并策略包括以下步骤，首先，根据当前解来确定使用的AGV数量，将当前解中的序列按照呼叫单元的数量进行降序，尝试将降序后的序列中呼叫单元数量少的序列插入到其他序列中，直到无法插入为止，以此得到总成本最小的解。7.根据权利要求6所述的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，其特征还在于，在步骤6中，快速维修重新安排的重调度策略即右移操作，跳过故障单元，对下一个呼叫单元配送物料；改进的最近邻域搜索的重调度策略通过协调呼叫单元的距离和呼叫时间之间的权重生成新的总成本最小的解，其中，若呼叫单元损坏，则该呼叫单元将被设定为故障单元。8.根据权利要求1所述的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，其特征还在于，在步骤7中，终止时间为5s。
说明书desc
技术领域本发明涉及智能化制造车间调度技术领域，特别是属于一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法。背景技术随着个性化产品需求的急剧增加和智能工业的迅速发展，越来越多的制造企业正在采用矩阵式生产的理念来布局自己的制造车间。矩阵式制造车间通过个性化产品订单配置呼叫单元，利用AGV来搬运所需的物料，并将物流系统与生产系统分开，形成一种新型智能制造车间。根据相关资料，在产品的整个生产过程中，加工制造环节仅占总时间的20%，其余80%用于储存、装卸、等待加工和运输等环节。从成本角度来看，人工劳动成本占总成本的比例不到10%，随着制造车间的智能化升级，这一比例还在不断下降。与此相反，储存、装卸和运输等环节的费用占据总成本的40%。“推进制造过程智能化”，其中包括关注关键工序的智能化、机器人替代关键岗位、生产过程智能优化控制以及供应链的优化。矩阵式制造车间代表着新一代的智能制造车间，而AGV则扮演了重要的角色，用于搬运物料。然而，在高度自动化的生产环境中，机器故障的发生不可避免，否则会导致生产中断和资源浪费。在此背景下，基于高效智能方法的AGV重调度技术就显得尤为重要，它可以帮助控制系统快速做出决策，调整任务分配方案，避开故障区域，保证无人车在呼叫单元内的持续稳定运行。因此，在考虑机器突然故障的情况下，研究一种有效的方法来解决AGV调度问题对于企业和研究人员来说具有重要意义，有助于降低车间物流成本并提高生产效率。发明内容本发明的目的即在于提供一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，解决了AGV调度过程中的成本优化问题，以及AGV遇到车间内呼叫单元故障的重调度问题，以达到有效提高生产效率并降低生产成本的目的。本发明所提供的基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，其特征在于，包括以下步骤，步骤1，初始化变邻域搜索算法参数，设置种群大小Ps，进化过程中的迭代次数，重调度策略中的权重参数/＞；步骤2，初始化种群，使用最近邻启发式规则生成1个解，使用随机方法生成剩余Ps-1个解，形成包含Ps个解的初始种群，从Ps个解中选择总成本最小的解，作为最佳方案进行更新；步骤3，进入扰动阶段，利用煎饼翻转策略指导解进行邻域扰动，接收总成本更小的解作为新解；步骤4，进入可变邻域下降阶段，利用同车插入策略和同车交换策略，指导当前解进化，继续接收总成本更小的解作为新解；步骤5，进入局部搜索阶段，利用合并策略指导当前解跳出局部最优；步骤6，判断是否进行重调度，若需要重调度，随机执行快速维修重新安排的重调度策略或改进的最近邻域搜索的重调度策略，若不需要重调度，则继续执行下一步；步骤7，更新总成本最小的解，判断是否达到终止时间，若满足则终止进化，输出当前最佳解的总成本，反之执行步骤3。进一步的，在步骤2中，解由三部分组成：一个一维数组π、一个由m个向量组成的集合和m个0，一维数组π中的元素表示AGV最终返回的地点的索引，集合/＞表示AGV服务的呼叫单元的序列，0用于将一维数组和m个向量隔开。进一步的，在步骤2中，最近邻启发式规则为，对于每个AGV来说，都是根据行驶距离最小来选择下一个呼叫单元，直到所有呼叫单元都分配到AGV中后，则停止分配，构成所需要的解。进一步的，在步骤3中，煎饼翻转策略包括以下步骤，定义序列为AGV将物料运送到呼叫单元的顺序，其中包括n个待安排的呼叫单元，从序列中找到序列号最大的呼叫单元，并设序列号最大的呼叫单元下标为k，k∈，对前k+1个呼叫单元进行翻转操作，然后翻转所有呼叫单元，每次迭代都能将序列号最大的呼叫单元置于序列的底部，重复这一过程k次，直至获得新序列。进一步的，在步骤4中，同车插入策略为，从执行煎饼翻转策略之后的新序列中随机选择一个呼叫单元i，并将所选择的呼叫单元i随机插入当前序列中的一个位置，如果仍找不到总成本更小的解，则执行同车交换策略；同车交换策略为，从执行煎饼翻转策略之后的新序列中随机选择两个呼叫单元i，呼叫单元j，然后交换呼叫单元i和呼叫单元j，继续寻找总成本更小的解。重复上述过程次后，接收此时的解作为当前解。进一步的，在步骤5中，在步骤5中，为防止陷入局部最优，执行合并策略指导当前解跳出局部最优，合并策略包括以下步骤，首先，根据当前解来确定使用的AGV数量，将当前解中的序列按照呼叫单元的数量进行降序，尝试将降序后的序列中呼叫单元数量少的序列插入到其他序列中，直到无法插入为止，以此得到总成本最小的解。进一步的，在步骤6中，快速维修重新安排的重调度策略即右移操作，跳过故障单元，对下一个呼叫单元配送物料；改进的最近邻域搜索的重调度策略通过协调呼叫单元的距离和呼叫时间之间的权重生成新的总成本最小的解，其中，若呼叫单元损坏，则该呼叫单元将被设定为故障单元。进一步的，在步骤7中，终止时间固定为5s。本发明所提供的基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，根据问题特性和问题规模，本发明提出了一种基于种群的变邻域搜索算法。且针对带有突发故障的矩阵制造车间的的AGV调度问题，本发明提出了快速维修重新安排的重调度策略或改进的最近邻域搜索的重调度策略，与现有的一些算法相比，本发明解决了AGV重调度的问题，避免了呼叫单元因故障而停工的现象，有效的降低了生产运输成本，提高了企业生产效率，有助于降低车间物流成本并提高物流效率。此外，本发明克服了传统优化算法随机生成初始方案的缺点，采用高效的启发式方法生成初始解，保证了初始种群的多样性和高质量。综上所述，本发明具有有效提高生产效率并降低生产成本的积极效果。附图说明图1为本发明的基于种群的变邻域搜索算法流程图；图2为本发明的矩阵制造车间布局图；图3为本发明对比算法的平均散点图。具体实施方式如图1和图2所示，本发明所提供的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，主要通过以下步骤实现。步骤1：初始化变邻域搜索算法参数。设置种群大小Ps，进化过程中的迭代次数，重调度策略中的权重参数/＞。设置种群大小Ps，进化过程中的迭代次数/＞，重调度策略中的权重参数/＞，其中，其中Ps=200，/＞=30，/＞=0.6，每次的运行时间为5s。步骤2：初始化种群。使用最近邻启发式规则生成1个解，使用随机方法生成剩余Ps-1个解，形成包含Ps个解的初始种群，从Ps个解中选择总成本最小的解，作为最佳方案进行更新。具体地，解由三部分组成：一个一维数组π、一个由m个向量组成的集合和m个0。一维数组π中的元素表示AGV最终返回的地点的索引，集合/＞表示AGV服务的呼叫单元的序列，0用于将一维数组和m个向量隔开。最近邻启发式规则步骤如下：对于每个AGV来说，都是根据行驶距离最小来选择下一个呼叫单元，直到所有呼叫单元都分配到AGV中后，则停止分配，构成所需要的解。步骤3：进入扰动阶段。利用煎饼翻转策略指导解进行邻域扰动，接收总成本更小的解作为新解。具体地，煎饼翻转策略包括以下步骤。首先，我们从序列中找到序列号最大的呼叫单元，并设序列号最大的呼叫单元下标为k，k∈。随后，对前k+1个呼叫单元进行翻转操作，然后翻转所有呼叫单元。每次迭代都能将序列号最大的呼叫单元置于序列的底部。重复这一过程k次，直至直至获得新序列。其中，AGV将物料运送到呼叫单元的顺序就是一个序列，其中包括n个待安排的呼叫单元。步骤4：进入可变邻域下降阶段。利用同车插入策略和同车交换策略指导当前解进化，继续接收总成本更小的解作为新解。具体地，同车插入策略为，从执行煎饼翻转策略之后的新序列中随机选择一个呼叫单元i，并将所选择的呼叫单元i随机插入当前序列中的一个位置，如果仍找不到总成本更小的解，则执行同车交换策略；同车交换策略为，从执行煎饼翻转策略之后的新序列中随机选择两个呼叫单元i，呼叫单元j，然后交换呼叫单元i和呼叫单元j，继续寻找总成本更小的解。重复上述过程次后，接收此时的解作为当前解。步骤5：进入局部搜索阶段。利用合并策略指导当前解跳出局部最优。具体地，在本阶段，为防止陷入局部最优，执行合并策略指导当前解跳出局部最优。合并策略包括以下步骤：首先，根据当前解来确定使用的AGV数量，将当前解中的序列按照呼叫单元的数量进行降序，尝试将降序后的序列中呼叫单元数量少的序列插入到其他序列中，直到无法插入为止，以此得到总成本最小的解。步骤6：判断是否进行重调度，若需要重调度，随机执行快速维修重新安排的重调度策略或改进的最近邻域搜索的重调度策略，若不需要重调度，则继续执行下一步。具体地，快速维修重新安排的重调度策略即右移操作，跳过故障单元，对下一个呼叫单元配送物料，这样在一定的理论程度上减少了计算，能让制造系统在短时间内快速做出决策。改进的最近邻域搜索的重调度策略通过协调呼叫单元的距离和呼叫时间之间的权重生成新的总成本最小的解，其中，若呼叫单元损坏，则该呼叫单元将被设定为故障单元。步骤7，更新总成本最小的解，判断是否达到终止时间，若满足便结束进化，输出当前最佳解的总成本，反之执行步骤3。在本发明的具体实施例中，终止时间固定设置为5s。如果时间超过5s，无论是否产生总成本最小的解都直接终止进化，如果未超过5s，则执行步骤3继续进行进化。本发明提出的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，提出了一种新的解的表达方式，通过变邻域搜索算法来提高算法的全局探索能力，局部搜索阶段提出合并策略用来尽可能的降低AGV数量，在重调度阶段提出快速维修重新安排的重调度策略、改进的最近邻域搜索的重调度策略。下面，本发明通过列举本发明的一个具体实施例，对本发明做进一步的描述说明。根据某时间段内矩阵制造车间的呼叫单元向控制系统发送物料配送请求的情况，采集仓库、缓冲区库存以及各呼叫单元的编号、位置、叫料时间、叫料时缓冲库存、AGV交货时间等信息集。本实施例适用于一个仓库、多辆同型号AGV的矩阵制造车间，求解目标是确定一个能够降低总消耗成本的调度方案，总成本包括AGV行驶成本、惩罚成本和用车成本。仓库坐标为，AGV出发时间、装载量、车速、卸料用时分别是365s、250kg、1m/s和15s，各呼叫单元间的横向和纵向距离分别为5.5m和8.8m。如以下的表1所示，表1为本发明方法的矩阵制造车间算例数据表。如图3所示，将本发明的变邻域搜索算法相对于和声搜索算法、离散人工蜂群算法、果蝇优化算法和改进的迭代贪婪算法来说，在解决本问题的总成本方面都要优于比较的算法。为了减小实验的误差，使计算结果更具有效性与一般性，对于每个算例重复执行30次，以生成统计结果。本发明使用相对百分比偏差作为性能评价指标，RPI的计算公式为RPI=/Cbest*100%，其中，C表示某一具体算法解决算例时得到的总成本，而Cbest则表示这5种算法中解决算例时得到最小的总成本。显然，RPI值越小，表示算法寻找到的总成本越小，性能越好。综上所述，通过本发明的具体实施例验证，本发明解决了AGV重调度的问题，避免了呼叫单元因故障而停工的现象，有效的降低了生产运输成本，提高了企业生产效率，更具有广大的市场应用前景。故，本发明提供了求解矩阵制造车间AGV调度问题的方法，相较于目前文献中现有的解决方法，本发明提出的一种基于变邻域搜索算法求解矩阵制造车间AGV调度的方法，有了很大的进步。
