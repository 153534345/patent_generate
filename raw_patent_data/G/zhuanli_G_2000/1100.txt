标题title
一种基于反馈数据的数控机床加工状态监测方法及系统
摘要abst
本发明公开了一种基于反馈数据的数控机床加工状态监测方法及系统，包括：根据数控机床的基础信息获取机床故障数据集，将故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，获取各故障样本的低维故障特征集；筛选不同工况下对应的多维特征参数，获取故障反馈数据，根据故障反馈数据生成含有工况特征的故障表征；构建加工状态监测模型，识别数控机床的当前工况并进行故障决策；获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向。本发明通过关键性能指标优化数控机床的加工状态监测过程，根据故障决策找到数控机床的异常及薄弱环节，提取运维改进方向，降低生产事故发生率，提高生产加工效率。
权利要求书clms
1.一种基于反馈数据的数控机床加工状态监测方法，其特征在于，包括以下步骤：根据数控机床的基础信息获取机床故障数据集，将所述机床故障数据集中的故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，获取各故障类别的低维故障特征集；通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征；基于含有工况特征的故障表征构建加工状态监测模型，识别数控机床的当前工况，根据当前工况对应的多维特征参数进行故障决策；根据低维故障特征集构建故障机理图谱，获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向。2.根据权利要求1所述的一种基于反馈数据的数控机床加工状态监测方法，其特征在于，将所述机床故障数据集中的故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，具体为：获取数控机床的基础信息，通过基础信息建立检索标签利用大数据方法获取故障数据，所述故障数据包括故障信号参数、故障位置、故障原因、故障模式、故障处理方法及故障影响；根据所述故障数据生成故障样本构建故障数据集，对所述故障数据集中的故障样本进行数据降维，并通过故障数据的文本描述进行预分类；将数据降维后的故障样本进行主成分分析，获取预分类中各特征的期望累计贡献度，预设期望累计贡献度阈值，在预分类中筛选预设数量的特征进行数据精简，利用对应的特征向量作为主成分方向，将各特征在所述主成分方向进行投影构成投影矩阵；将预分类中的各故障样本与所述投影矩阵进行相似度计算，根据所述相似度进行故障样本预分类的分类调整，获取最终分类结果，在不同分类结果中利用精简后的特征结合所述投影矩阵生成故障样本的低维故障特征集。3.根据权利要求1所述的一种基于反馈数据的数控机床加工状态监测方法，其特征在于，通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，具体为：根据历史生产数据获取不同生产任务及对应的振动信号，根据数控机床各轴的刀具种类、转速及给进量预设工况类别，通过所述工况类别确定类簇数量，对不同生产任务的振动信息进行聚类分析；获取不同工况类别对应的工况特征，利用所述工况特征将不同故障样本进行分类，为故障样本设置工况标签，利用故障样本的种类信息统计分析同一工况标签下的高频故障种类；根据高频故障种类利用Fisher算法在低维故障特征集中进行多维特征参数选取，以最大故障识别准确率为目标，判断不同信号参数的重要度及维度是否满足预设要求，获取符合预设要求的敏感信号参数作为当前工况标签下的多维特征参数；根据不同工况标签下的多维特征参数获取各种类故障的故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征。4.根据权利要求1所述的一种基于反馈数据的数控机床加工状态监测方法，其特征在于，基于含有工况特征的故障表征构建加工状态监测模型，具体为：构建加工状态监测模型，利用含有工况特征的故障表征对所述加工状态监测模型进行训练，所述加工状态监测模型分为工况识别分支及故障决策分支；获取数控机床当前时间戳的振动信号作为工况识别分支的输入，通过深度卷积网络结合注意力机制提取当前时间戳的振动特征，对所述振动特征进行注意力加权；将加权后的振动特征导入全连接层进行特征组合，将特征组合序列导入Seq2Seq模型进行编码，根据隐层状态信息获取特征组合之间的时间相关性，通过解码器迭代计算后获取特征时序信息；通过Softmax激活函数进行工况识别，获取当前时间戳的工况信息，根据当前工况获取对应的多维特征参数。5.根据权利要求4所述的一种基于反馈数据的数控机床加工状态监测方法，其特征在于，所述故障决策分支，具体为：根据当前工况对应的多维特征参数提取数控机床当前时间戳的信号集合，作为故障决策分支的输入；通过自编码器网络对输入的信号集合进行自监督特征编码及重构，获取不同信号特征的关联度，获取所述自编码器网络的重构误差对特征编码及重构进行优化，利用解码器获取重构的信号特征；提取重构后的信号特征的关联度，根据所述关联度将不同信号特征进行图表示，利用图卷积网络对所述图表示进行学习获取图结构数据，并将所述图结构数据利用邻居矩阵进行表示；通过多头注意力机制为不同的邻居节点赋予注意力权重，通过加权聚合更新节点的特征表示，获取信号融合特征的嵌入表示，根据所述信号融合特征的嵌入表示在低维空间中计算与当前工况下高频故障的曼哈顿距离；当所述曼哈顿距离小于预设距离阈值时，选取最近距离的高频故障生层故障决策。6.根据权利要求1所述的一种基于反馈数据的数控机床加工状态监测方法，其特征在于，根据低维故障特征集构建故障机理图谱，获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向，具体为：根据故障数据及低维故障特征集结合关系抽取获取三元组模型，通过所述三元组模型生成故障机理图谱；利用故障决策结果在所述故障机理图谱中进行定位，将故障对应的信号集合进行图像转化，将图像转化后的信号特征进行数据增强，提取对应图像特征在故障机理图谱中识别故障模式；根据所述故障种类及故障模式在所述故障机理图谱中进行元路径提取，通过所述元路径中各节点在故障中的出现频率设置权重信息，根据元路径获取完整的故障链进行故障追溯；并根据权重信息判断故障的发展趋势，根据故障追溯结果及故障发展趋势获取数控机床的运维方向。7.一种基于反馈数据的数控机床加工状态监测系统，其特征在于，该系统包括：存储器、处理器，所述存储器中包括基于反馈数据的数控机床加工状态监测方法程序，所述基于反馈数据的数控机床加工状态监测方法程序被所述处理器执行时实现如下步骤：根据数控机床的基础信息获取机床故障数据集，将所述机床故障数据集中的故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，获取各故障样本的低维故障特征集；通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征；基于含有工况特征的故障表征构建加工状态监测模型，识别数控机床的当前工况，根据当前工况对应的多维特征参数进行故障决策；根据低维故障特征集构建故障机理图谱，获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向。8.根据权利要求7所述的一种基于反馈数据的数控机床加工状态监测系统，其特征在于，通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，具体为：根据历史生产数据获取不同生产任务及对应的振动信号，根据数控机床各轴的刀具种类、转速及给进量预设工况类别，通过所述工况类别确定类簇数量，对不同生产任务的振动信息进行聚类分析；获取不同工况类别对应的工况特征，利用所述工况特征将不同故障样本进行分类，为故障样本设置工况标签，利用故障样本的种类信息统计分析同一工况标签下的高频故障种类；根据高频故障种类利用Fisher算法在低维故障特征集中进行多维特征参数选取，以最大故障识别准确率为目标，判断不同信号参数的重要度及维度是否满足预设要求，获取符合预设要求的敏感信号参数作为当前工况标签下的多维特征参数；根据不同工况标签下的多维特征参数获取各种类故障的故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征。9.根据权利要求7所述的一种基于反馈数据的数控机床加工状态监测系统，其特征在于，基于含有工况特征的故障表征构建加工状态监测模型，具体为：构建加工状态监测模型，利用含有工况特征的故障表征对所述加工状态监测模型进行训练，所述加工状态监测模型分为工况识别分支及故障决策分支；获取数控机床当前时间戳的振动信号作为工况识别分支的输入，通过深度卷积网络结合注意力机制提取当前时间戳的振动特征，对所述振动特征进行注意力加权；将加权后的振动特征导入全连接层进行特征组合，将特征组合序列导入Seq2Seq模型进行编码，根据隐层状态信息获取特征组合之间的时间相关性，通过解码器迭代计算后获取特征时序信息；通过Softmax激活函数进行工况识别，获取当前时间戳的工况信息，根据当前工况获取对应的多维特征参数。10.根据权利要求9所述的一种基于反馈数据的数控机床加工状态监测系统，其特征在于，所述故障决策分支，具体为：根据当前工况对应的多维特征参数提取数控机床当前时间戳的信号集合，作为故障决策分支的输入；通过自编码器网络对输入的信号集合进行自监督特征编码及重构，获取不同信号特征的关联度，获取所述自编码器网络的重构误差对特征编码及重构进行优化，利用解码器获取重构的信号特征；提取重构后的信号特征的关联度，根据所述关联度将不同信号特征进行图表示，利用图卷积网络对所述图表示进行学习获取图结构数据，并将所述图结构数据利用邻居矩阵进行表示；通过多头注意力机制为不同的邻居节点赋予注意力权重，通过加权聚合更新节点的特征表示，获取信号融合特征的嵌入表示，根据所述信号融合特征的嵌入表示在低维空间中计算与当前工况下高频故障的曼哈顿距离；当所述曼哈顿距离小于预设距离阈值时，选取最近距离的高频故障生层故障决策。
说明书desc
技术领域本发明涉及数控加工状态监测技术领域，更具体的，涉及一种基于反馈数据的数控机床加工状态监测方法及系统。背景技术数控机床状态监测作为机床智能化研究的核心,在保障机床安全稳定运行、提高加工质量及生产效率等方面发挥重要作用,而数控机床加工过程状态识别作为机床状态监测的关键部分。机床的动态特性决定了其切削特性，并直接决定了数控机床的加工稳定性、切削能力和精度等性能指标。因此获取机床更准确的动态特征及模态参数，可以有效地识别异常状态同时提高加工精度，实现数控机床装备的优化运行及管理。准确获取生产中数控机床的运行情况，掌握机床的加工状态，对于生产管理人员提升设备能效、把握加工进度、配置生产任务具有重大意义。车间的数控机床设备数量众多，人工监督设备的状态效率低，不利于最大程度的提升数控机床的生产效率。目前多轴数控机床工作状态通常采用传统的功率传感器及温度巡检仪表等进行相关测试，部分数控机床状态变化对应的功率或温度变化范围小，无法正常识别捕捉，而且不能达到实时监测的目的，并且部分旧式机床仍然没有数据交互功能，无法直接获得机床的运行代码。因此，如何基于数控机床的多模态反馈数据分析加工状态，实现自适应控制是亟需解决的问题。发明内容为了解决上述技术问题，本发明提出了一种基于反馈数据的数控机床加工状态监测方法及系统。本发明第一方面提供了一种基于反馈数据的数控机床加工状态监测方法，包括：根据数控机床的基础信息获取机床故障数据集，将所述机床故障数据集中的故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，获取各故障类别的低维故障特征集；通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征；基于含有工况特征的故障表征构建加工状态监测模型，识别数控机床的当前工况，根据当前工况对应的多维特征参数进行故障决策；根据低维故障特征集构建故障机理图谱，获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向。本方案中，将所述机床故障数据集中的故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，具体为：获取数控机床的基础信息，通过基础信息建立检索标签利用大数据方法获取故障数据，所述故障数据包括故障信号参数、故障位置、故障原因、故障模式、故障处理方法及故障影响；根据所述故障数据生成故障样本构建故障数据集，对所述故障数据集中的故障样本进行数据降维，并通过故障数据的文本描述进行预分类；将数据降维后的故障样本进行主成分分析，获取预分类中各特征的期望累计贡献度，预设期望累计贡献度阈值，在预分类中筛选预设数量的特征进行数据精简，利用对应的特征向量作为主成分方向，将各特征在所述主成分方向进行投影构成投影矩阵；将预分类中的各故障样本与所述投影矩阵进行相似度计算，根据所述相似度进行故障样本预分类的分类调整，获取最终分类结果，在不同分类结果中利用精简后的特征结合所述投影矩阵生成故障样本的低维故障特征集。本方案中，通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，具体为：根据历史生产数据获取不同生产任务及对应的振动信号，根据数控机床各轴的刀具种类、转速及给进量预设工况类别，通过所述工况类别确定类簇数量，对不同生产任务的振动信息进行聚类分析；获取不同工况类别对应的工况特征，利用所述工况特征将不同故障样本进行分类，为故障样本设置工况标签，利用故障样本的种类信息统计分析同一工况标签下的高频故障种类；根据高频故障种类利用Fisher算法在低维故障特征集中进行多维特征参数选取，以最大故障识别准确率为目标，判断不同信号参数的重要度及维度是否满足预设要求，获取符合预设要求的敏感信号参数作为当前工况标签下的多维特征参数；根据不同工况标签下的多维特征参数获取各种类故障的故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征。本方案中，基于含有工况特征的故障表征构建加工状态监测模型，具体为：构建加工状态监测模型，利用含有工况特征的故障表征对所述加工状态监测模型进行训练，所述加工状态监测模型分为工况识别分支及故障决策分支；获取数控机床当前时间戳的振动信号作为工况识别分支的输入，通过深度卷积网络结合注意力机制提取当前时间戳的振动特征，对所述振动特征进行注意力加权；将加权后的振动特征导入全连接层进行特征组合，将特征组合序列导入Seq2Seq模型进行编码，根据隐层状态信息获取特征组合之间的时间相关性，通过解码器迭代计算后获取特征时序信息；通过Softmax激活函数进行工况识别，获取当前时间戳的工况信息，根据当前工况获取对应的多维特征参数。本方案中，所述故障决策分支，具体为：根据当前工况对应的多维特征参数提取数控机床当前时间戳的信号集合，作为故障决策分支的输入；通过自编码器网络对输入的信号集合进行自监督特征编码及重构，获取不同信号特征的关联度，获取所述自编码器网络的重构误差对特征编码及重构进行优化，利用解码器获取重构的信号特征；提取重构后的信号特征的关联度，根据所述关联度将不同信号特征进行图表示，利用图卷积网络对所述图表示进行学习获取图结构数据，并将所述图结构数据利用邻居矩阵进行表示；通过多头注意力机制为不同的邻居节点赋予注意力权重，通过加权聚合更新节点的特征表示，获取信号融合特征的嵌入表示，根据所述信号融合特征的嵌入表示在低维空间中计算与当前工况下高频故障的曼哈顿距离；当所述曼哈顿距离小于预设距离阈值时，选取最近距离的高频故障生层故障决策。本方案中，根据低维故障特征集构建故障机理图谱，获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向，具体为：根据故障数据及低维故障特征集结合关系抽取获取三元组模型，通过所述三元组模型生成故障机理图谱；利用故障决策结果在所述故障机理图谱中进行定位，将故障对应的信号集合进行图像转化，将图像转化后的信号特征进行数据增强，提取对应图像特征在故障机理图谱中识别故障模式；根据所述故障种类及故障模式在所述故障机理图谱中进行元路径提取，通过所述元路径中各节点在故障中的出现频率设置权重信息，根据元路径获取完整的故障链进行故障追溯；并根据权重信息判断故障的发展趋势，根据故障追溯结果及故障发展趋势获取数控机床的运维方向。本发明第二方面还提供了一种基于反馈数据的数控机床加工状态监测系统，该系统包括：存储器、处理器，所述存储器中包括基于反馈数据的数控机床加工状态监测方法程序，所述基于反馈数据的数控机床加工状态监测方法程序被所述处理器执行时实现如下步骤：根据数控机床的基础信息获取机床故障数据集，将所述机床故障数据集中的故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，获取各故障类别的低维故障特征集；通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征；基于含有工况特征的故障表征构建加工状态监测模型，识别数控机床的当前工况，根据当前工况对应的多维特征参数进行故障决策；根据低维故障特征集构建故障机理图谱，获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向。本发明公开了一种基于反馈数据的数控机床加工状态监测方法及系统，包括：根据数控机床的基础信息获取机床故障数据集，将故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，获取各故障样本的低维故障特征集；筛选不同工况下对应的多维特征参数，获取故障反馈数据，根据故障反馈数据生成含有工况特征的故障表征；构建加工状态监测模型，识别数控机床的当前工况并进行故障决策；获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向。本发明通过关键性能指标优化数控机床的加工状态监测过程，根据故障决策找到数控机床的异常及薄弱环节，提取运维改进方向，降低生产事故发生率，提高生产加工效率。附图说明图1示出了本发明基于反馈数据的数控机床加工状态监测方法的流程图；图2示出了本发明基于多维特征参数获取故障反馈数据的流程图；图3示出了本发明利用加工状态监测模型进行故障决策的流程图；图4示出了本发明基于反馈数据的数控机床加工状态监测系统的框图。具体实施方式为了能够更清楚地理解本发明的上述目的、特征和优点，下面结合附图和具体实施方式对本发明进行进一步的详细描述。需要说明的是，在不冲突的情况下，本申请的实施例及实施例中的特征可以相互组合。在下面的描述中阐述了很多具体细节以便于充分理解本发明，但是，本发明还可以采用其他不同于在此描述的其他方式来实施，因此，本发明的保护范围并不受下面公开的具体实施例的限制。图1示出了本发明一种基于反馈数据的数控机床加工状态监测方法的流程图。如图1所示，本发明第一方面提供了一种基于反馈数据的数控机床加工状态监测方法，包括：S102，根据数控机床的基础信息获取机床故障数据集，将所述机床故障数据集中的故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，获取各故障类别的低维故障特征集；S104，通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征；S106，基于含有工况特征的故障表征构建加工状态监测模型，识别数控机床的当前工况，根据当前工况对应的多维特征参数进行故障决策；S108，根据低维故障特征集构建故障机理图谱，获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向。需要说明的是，获取数控机床的型号、设备结及构运行特征等基础信息，通过基础信息建立检索标签利用大数据方法获取故障数据，所述故障数据包括故障信号参数、故障位置、故障原因、故障模式、故障处理方法及故障影响；根据所述故障数据生成故障样本构建故障数据集，对所述故障数据集中的故障样本利用Laplacian得分算法等方法进行数据降维，并通过故障数据的文本描述获取词向量，根据所述词向量选取关键词进行预分类；将数据降维后的故障样本进行主成分分析，获取预分类中各特征的期望累计贡献度，预设期望累计贡献度阈值，在预分类中筛选预设数量的特征进行数据精简，利用对应的特征向量作为主成分方向，将各特征在所述主成分方向进行投影构成投影矩阵；将预分类中的各故障样本与所述投影矩阵进行相似度计算判断一致性，根据所述相似度进行故障样本预分类的分类调整，获取最终分类结果，在不同分类结果中利用精简后的特征结合所述投影矩阵生成故障样本的低维故障特征集。图2示出了本发明基于多维特征参数获取故障反馈数据的流程图；根据本发明实施例，通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，具体为：S202，根据历史生产数据获取不同生产任务及对应的振动信号，根据数控机床各轴的刀具种类、转速及给进量预设工况类别，通过所述工况类别确定类簇数量，对不同生产任务的振动信息进行聚类分析；S204，获取不同工况类别对应的工况特征，利用所述工况特征将不同故障样本进行分类，为故障样本设置工况标签，利用故障样本的种类信息统计分析同一工况标签下的高频故障种类；S206，根据高频故障种类利用Fisher算法在低维故障特征集中进行多维特征参数选取，以最大故障识别准确率为目标，判断不同信号参数的重要度及维度是否满足预设要求，获取符合预设要求的敏感信号参数作为当前工况标签下的多维特征参数；S208，根据不同工况标签下的多维特征参数获取各种类故障的故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征。需要说明的是，特征选择是去除无关紧要和冗余的特征，保留其他的原始特征生成对应的特征子集，在不同工况下筛选与故障的敏感度高的信号参数能够为故障识别提供良好的数据基础，数控机床的信号参数包括但不限于振动信号、电极运动信号、环境温度信号及脉冲电源信号等。Fisher算法是特征选择的有效方法之一，主要思想为将样本进行投影并让同类的投影点尽可能聚集，而异类的投影点尽可能分离，获取不同信号参数识别故障的准确度，以准确度最大化诶目标建立多目标优化任务，从若干信号参数中选择敏感信号参数组合作为当前工况标签下的多维特征参数。图3示出了本发明利用加工状态监测模型进行故障决策的流程图。根据本发明实施例，加工状态监测模型的故障决策分支，具体为：S302，根据当前工况对应的多维特征参数提取数控机床当前时间戳的信号集合，作为故障决策分支的输入；S304，通过自编码器网络对输入的信号集合进行自监督特征编码及重构，获取不同信号特征的关联度，获取所述自编码器网络的重构误差对特征编码及重构进行优化，利用解码器获取重构的信号特征；S306，提取重构后的信号特征的关联度，根据所述关联度将不同信号特征进行图表示，利用图卷积网络对所述图表示进行学习获取图结构数据，并将所述图结构数据利用邻居矩阵进行表示；S308，通过多头注意力机制为不同的邻居节点赋予注意力权重，通过加权聚合更新节点的特征表示，获取信号融合特征的嵌入表示，根据所述信号融合特征的嵌入表示在低维空间中计算与当前工况下高频故障的曼哈顿距离；S310，当所述曼哈顿距离小于预设距离阈值时，选取最近距离的高频故障生层故障决策。需要说明的是，构建加工状态监测模型，利用含有工况特征的故障表征对所述加工状态监测模型进行训练，所述加工状态监测模型分为工况识别分支及故障决策分支；获取数控机床当前时间戳的振动信号作为工况识别分支的输入，通过深度卷积网络结合注意力机制提取当前时间戳的振动特征，可通过不同工况的工况特征对深度卷积网络进行单独训练，对所述振动特征进行注意力加权；将加权后的振动特征导入全连接层进行特征组合，将特征组合序列导入Seq2Seq模型进行编码，Seq2Seq模型使用的都是RNN单元，一般为LSTM和GRU，通过上一时刻的编码器隐藏状态和记忆状态计算得到相关性，进行归一化，根据隐层状态信息获取特征组合之间的时间相关性，通过解码器迭代计算后获取特征时序信息；通过Softmax激活函数进行工况识别，获取当前时间戳的工况信息，根据当前工况获取对应的多维特征参数。通过多头注意力机制为不同的邻居节点赋予注意力权重，注意力权重计算公式为：/＞，其中，/＞为激活函数，/＞为归一化表示，分别表示任意两个节点，/＞为学习权重，/＞为矩阵转置，/＞为向量拼接，引入多头注意力机制使得模型更有效的提取信息，扩展了对于不同位置节点聚合的能力，更加关注关联度高的节点，提升特征融合结果。需要说明的是，根据故障数据及低维故障特征集结合关系抽取获取三元组模型，通过所述三元组模型生成故障机理图谱；利用故障决策结果在所述故障机理图谱中进行定位，将故障对应的信号集合进行图像转化，将图像转化后的信号特征进行数据增强，提取对应图像特征在故障机理图谱中识别故障模式；根据所述故障种类及故障模式在所述故障机理图谱中进行元路径提取，通过所述元路径中各节点在故障中的出现频率设置权重信息，根据元路径获取完整的故障链进行故障追溯；并根据权重信息判断故障的发展趋势，根据故障追溯结果及故障发展趋势获取数控机床的运维方向，用户可通过故障机理图谱给出的相关故障链作为参考对设备进行调整与维修。获取数控机床在预设时间内的加工状态监测数据，提取对应的故障及故障种类，并对故障程度进行评估，根据故障频次及故障程度将各机床组件设置初始权重，生成机床设备初始权重标签；判断数控机床当前工况，根据当前工况确定多维特征参数，利用多维特征参数获取与故障机床组件耦合的其他机床组件的运行曲线；在低维空间中判断所述运行曲线与无故障时运行曲线的偏差，基于所述偏差结合机床设备对应的初始权重获取故障的耦合影响程度；当所述耦合影响程度大于预设阈值时，在生成对应耦合机床组件的故障预警。图4示出了本发明一种基于反馈数据的数控机床加工状态监测系统的框图。本发明第二方面还提供了一种基于反馈数据的数控机床加工状态监测系统4，该系统包括：存储器41、处理器42，所述存储器中包括基于反馈数据的数控机床加工状态监测方法程序，所述基于反馈数据的数控机床加工状态监测方法程序被所述处理器执行时实现如下步骤：根据数控机床的基础信息获取机床故障数据集，将所述机床故障数据集中的故障样本进行特征精简，利用精简后的故障特征进行故障样本的分类，获取各故障类别的低维故障特征集；通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征；基于含有工况特征的故障表征构建加工状态监测模型，识别数控机床的当前工况，根据当前工况对应的多维特征参数进行故障决策；根据低维故障特征集构建故障机理图谱，获取故障决策结果追溯故障根源，并根据故障追溯结果确定数控机床的运维方向。需要说明的是，获取数控机床的型号、设备结及构运行特征等基础信息，通过基础信息建立检索标签利用大数据方法获取故障数据，所述故障数据包括故障信号参数、故障位置、故障原因、故障模式、故障处理方法及故障影响；根据所述故障数据生成故障样本构建故障数据集，对所述故障数据集中的故障样本利用Laplacian得分算法等方法进行数据降维，并通过故障数据的文本描述获取词向量，根据所述词向量选取关键词进行预分类；将数据降维后的故障样本进行主成分分析，获取预分类中各特征的期望累计贡献度，预设期望累计贡献度阈值，在预分类中筛选预设数量的特征进行数据精简，利用对应的特征向量作为主成分方向，将各特征在所述主成分方向进行投影构成投影矩阵；将预分类中的各故障样本与所述投影矩阵进行相似度计算判断一致性，根据所述相似度进行故障样本预分类的分类调整，获取最终分类结果，在不同分类结果中利用精简后的特征结合所述投影矩阵生成故障样本的低维故障特征集。根据本发明实施例，通过所述低维故障特征集筛选不同工况下对应的多维特征参数，基于所述多维特征参数获取故障反馈数据，具体为：根据历史生产数据获取不同生产任务及对应的振动信号，根据数控机床各轴的刀具种类、转速及给进量预设工况类别，通过所述工况类别确定类簇数量，对不同生产任务的振动信息进行聚类分析；获取不同工况类别对应的工况特征，利用所述工况特征将不同故障样本进行分类，为故障样本设置工况标签，利用故障样本的种类信息统计分析同一工况标签下的高频故障种类；根据高频故障种类利用Fisher算法在低维故障特征集中进行多维特征参数选取，以最大故障识别准确率为目标，判断不同信号参数的重要度及维度是否满足预设要求，获取符合预设要求的敏感信号参数作为当前工况标签下的多维特征参数；根据不同工况标签下的多维特征参数获取各种类故障的故障反馈数据，根据所述故障反馈数据生成含有工况特征的故障表征。需要说明的是，特征选择是去除无关紧要和冗余的特征，保留其他的原始特征生成对应的特征子集，在不同工况下筛选与故障的敏感度高的信号参数能够为故障识别提供良好的数据基础，数控机床的信号参数包括但不限于振动信号、电极运动信号、环境温度信号及脉冲电源信号等。Fisher算法是特征选择的有效方法之一，主要思想为将样本进行投影并让同类的投影点尽可能聚集，而异类的投影点尽可能分离，获取不同信号参数识别故障的准确度，以准确度最大化诶目标建立多目标优化任务，从若干信号参数中选择敏感信号参数组合作为当前工况标签下的多维特征参数。根据本发明实施例，加工状态监测模型的故障决策分支，具体为：根据当前工况对应的多维特征参数提取数控机床当前时间戳的信号集合，作为故障决策分支的输入；通过自编码器网络对输入的信号集合进行自监督特征编码及重构，获取不同信号特征的关联度，获取所述自编码器网络的重构误差对特征编码及重构进行优化，利用解码器获取重构的信号特征；提取重构后的信号特征的关联度，根据所述关联度将不同信号特征进行图表示，利用图卷积网络对所述图表示进行学习获取图结构数据，并将所述图结构数据利用邻居矩阵进行表示；通过多头注意力机制为不同的邻居节点赋予注意力权重，通过加权聚合更新节点的特征表示，获取信号融合特征的嵌入表示，根据所述信号融合特征的嵌入表示在低维空间中计算与当前工况下高频故障的曼哈顿距离；当所述曼哈顿距离小于预设距离阈值时，选取最近距离的高频故障生层故障决策。需要说明的是，构建加工状态监测模型，利用含有工况特征的故障表征对所述加工状态监测模型进行训练，所述加工状态监测模型分为工况识别分支及故障决策分支；获取数控机床当前时间戳的振动信号作为工况识别分支的输入，通过深度卷积网络结合注意力机制提取当前时间戳的振动特征，对所述振动特征进行注意力加权；将加权后的振动特征导入全连接层进行特征组合，将特征组合序列导入Seq2Seq模型进行编码，Seq2Seq模型使用的都是RNN单元，一般为LSTM和GRU，通过上一时刻的编码器隐藏状态和记忆状态计算得到相关性，进行归一化，根据隐层状态信息获取特征组合之间的时间相关性，通过解码器迭代计算后获取特征时序信息；通过Softmax激活函数进行工况识别，获取当前时间戳的工况信息，根据当前工况获取对应的多维特征参数。通过多头注意力机制为不同的邻居节点赋予注意力权重，注意力权重计算公式为：/＞，其中，/＞为激活函数/＞为归一化表示，分别表示任意两个节点，/＞为学习权重，/＞为矩阵转置，/＞为向量拼接，引入多头注意力机制使得模型更有效的提取信息，扩展了对于不同位置节点聚合的能力，更加关注关联度高的节点，提升特征融合结果。需要说明的是，根据故障数据及低维故障特征集结合关系抽取获取三元组模型，通过所述三元组模型生成故障机理图谱；利用故障决策结果在所述故障机理图谱中进行定位，将故障对应的信号集合进行图像转化，将图像转化后的信号特征进行数据增强，提取对应图像特征在故障机理图谱中识别故障模式；根据所述故障种类及故障模式在所述故障机理图谱中进行元路径提取，通过所述元路径中各节点在故障中的出现频率设置权重信息，根据元路径获取完整的故障链进行故障追溯；并根据权重信息判断故障的发展趋势，根据故障追溯结果及故障发展趋势获取数控机床的运维方向，用户可通过故障机理图谱给出的相关故障链作为参考对设备进行调整与维修。本发明第三方面还提供一种计算机可读存储介质，所述计算机可读存储介质中包括基于反馈数据的数控机床加工状态监测方法程序，所述基于反馈数据的数控机床加工状态监测方法程序被处理器执行时，实现如上述任一项所述的基于反馈数据的数控机床加工状态监测方法的步骤。在本申请所提供的几个实施例中，应该理解到，所揭露的设备和方法，可以通过其它的方式实现。以上所描述的设备实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，如：多个单元或组件可以结合，或可以集成到另一个系统，或一些特征可以忽略，或不执行。另外，所显示或讨论的各组成部分相互之间的耦合、或直接耦合、或通信连接可以是通过一些接口，设备或单元的间接耦合或通信连接，可以是电性的、机械的或其它形式的。上述作为分离部件说明的单元可以是、或也可以不是物理上分开的，作为单元显示的部件可以是、或也可以不是物理单元；既可以位于一个地方，也可以分布到多个网络单元上；可以根据实际的需要选择其中的部分或全部单元来实现本实施例方案的目的。另外，在本发明各实施例中的各功能单元可以全部集成在一个处理单元中，也可以是各单元分别单独作为一个单元，也可以两个或两个以上单元集成在一个单元中；上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能单元的形式实现。本领域普通技术人员可以理解：实现上述方法实施例的全部或部分步骤可以通过程序指令相关的硬件来完成，前述的程序可以存储于计算机可读取存储介质中，该程序在执行时，执行包括上述方法实施例的步骤；而前述的存储介质包括：移动存储设备、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。或者，本发明上述集成的单元如果以软件功能模块的形式实现并作为独立的产品销售或使用时，也可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明实施例的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分。而前述的存储介质包括：移动存储设备、ROM、RAM、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
