标题title
一种带人脸识别的红外测温方法及系统
摘要abst
本发明涉及涉及红外测温技术领域，公开了一种带人脸识别的红外测温方法及系统。其中的方法步骤包括：通过跟踪算法对摄像机采集的视频序列中人体的运动轨迹进行追踪；对视频序列按预设间隔时间进行光源检测,若是夜晚场景进行图像增强处理；使用一个预先训练好的能见度检测模型进行能见度检测，记录能见度值，对能见度值低于阈值的图像进行复原处理；识别图像中被跟踪算法追踪的人物身份信息并定位人体额头位置；对额头位置进行红外测温；对红外测温方法进行环境和距离的温度补偿。本发明有效缓解了室外复杂环境下，光照、气象、温度等的变化对人脸识别和红外测温的影响，提高人脸识别准确性以及红外测温精度。
权利要求书clms
1.一种带人脸识别的红外测温方法，其特征在于，所述方法包括以下步骤：S1、通过跟踪算法对摄像机采集的视频序列中人体的运动轨迹进行追踪；S2、对视频序列按预设间隔时间进行光源检测,判断序列图像场景是白天或者夜晚，若是夜晚执行S3，若是白天执行S4；S3、对序列图像进行增强处理，然后执行S4；S4、使用预先训练好的能见度检测模型提取图像中的能见度特征并进行能见度检测，记录能见度值，对能见度值低于阈值的图像运行S5，不低于阈值的图像执行S6；S5、对图像进行复原处理，去除图像场景中悬浮颗粒物的遮挡影响，复原出清晰图像,然后执行S6；S6、识别图像中通过所述跟踪算法追踪的人体的身份信息，同时定位人体额头位置；S7、对所述人体额头位置进行红外测温；S8、通过对所述红外测温进行环境和距离的温度补偿，实现对额头测量温度进行校准。2.根据权利要求1所述的一种带人脸识别的红外测温方法，其特征在于，步骤S4中所述预先训练好的能见度检测模型，模型结构采用经过处理的Inception V4模型，所述处理具体包括：提取Inception V4模型中Reduction层的特征信息后进行全局平均池化操作，然后和进行全局平均池化操作之前的Reduction层的特征信息进行堆叠，融合不同尺度的特征，将不同层级的图像特征信息输入到后面的预测层中。3.根据权利要求2所述的一种带人脸识别的红外测温方法，其特征在于，步骤S4中所述预先训练好的能见度检测模型提取图像中的能见度特征并进行能见度值检测的具体步骤为：S41、创建图像能见度数据集，采集不同场景、不同天气、不同时间的视频并按预设间隔提取图片；S42、对图片数据进行归一化处理，将其尺寸大小转化为299×299×3，将处理完后的图片按4：1的比例分为训练集和测试集并打乱顺序；S43、进行能见度检测模型的训练，将训练数据输入到搭建好的能见度检测模型中进行特征提取，输出当前图片数据的能见度预测值；将能见度预测值与能见度真实值进行对比，计算出当前迭代的损失；进行反向传播，更新网络参数；经过反复迭代，当达到预先设定的迭代次数时终止训练，最终得到训练好的能见度检测模型；S44、将待检测图像输入训练好的能见度检测模型，得到图像的能见度值。4.根据权利要求1所述的一种带人脸识别的红外测温方法，其特征在于，步骤S6中所述识别图像中通过所述跟踪算法追踪的人体的身份信息具体步骤为：对步骤S4中所述能见度值不低于阈值的图像、经过步骤S5所述的图像复原处理的图像进行特征采集，采集图像中人脸的特征信息；将采集到的图像中人脸的特征信息与数据库中录入的人脸特征信息进行匹配，找到相似度最高的人脸数据；如果二者相似度超过设定阈值，则输出相似度最高的人脸数据对应的身份信息，如果相似度没有超过设定阈值，则判定图像中出现的人物未在数据库记录中。5.根据权利要求1所述的一种带人脸识别的红外测温方法，其特征在于，步骤S6中所述定位人体额头位置具体步骤是在采集图像中人脸的特征信息基础上对人脸额头位置进行定位。6.根据权利要求1所述的一种带人脸识别的红外测温方法，其特征在于，步骤S8中所述对红外测温方法进行环境和距离的温度补偿，所述温度补偿具体包括环境温度补偿、环境可见度补偿、测量距离补偿和测量角度补偿，所述温度补偿的具体步骤包括基于所述额头测量温度、环境温度、环境能见度、测量距离、测量角度和额头位置真实温度，确定多元线性回归模型，其中，所述多元线性回归模型的因变量用于表征补偿后的额头位置温度，所述多元线性回归模型的自变量包括所述额头测量温度、环境温度、环境能见度、测量距离和测量角度，将所述多元线性回归模型作为综合补偿模型，对所述红外测温方法进行环境和距离的温度补偿。7.根据权利要求6所述的一种带人脸识别的红外测温方法，其特征在于，建立所述综合补偿模型具体步骤为：S81、将额头测量温度、环境温度、环境能见度、测量距离和测量角度作为自变量，额头位置实际温度作为因变量，建立多元线性回归模型：，其中，表示额头位置实际温度值，/＞，/＞，/＞，/＞，/＞和/＞是所述多元线性回归模型的6个不同的待估计回归系数，分别表示额头位置测量温度、环境温度、环境能见度、测量距离和测量角度的补偿系数，/＞，/＞，/＞，/＞和/＞分别表示额头位置测量温度值、环境温度值、环境能见度值、测量距离值和测量角度值，/＞表示随机误差项；S82、测量额头位置实际温度值；采集额头位置测量温度/＞和当前测量所处环境的环境温度/＞；利用步骤S4所述预先训练好的能见度检测模型测量环境能见度/＞；测量人体红外测温设备与额头位置之间的距离/＞和角度/＞；S83、从测量数据中随机选择部分数据，通过matlab中多元线性回归regress函数建立多元线性回归模型，求解出，/＞，/＞，/＞，/＞和/＞。8.一种带人脸识别的红外测温系统，其基于权利要求1-7中任一项所述的一种带人脸识别的红外测温方法实现，其特征在于，所述系统包括：行人追踪模块、图像处理模块、人脸识别模块、额头定位模块、红外测温模块、温度补偿模块；所述行人追踪模块用于对摄像机采集的视频序列中人体的运动轨迹进行追踪；所述图像处理模块用于对视频序列按预设间隔时间进行光源检测、图像增强、能见度检测以及图像修复；所述人脸识别模块用于对所述图片处理模块输出的图片采集人脸特征信息，将采集到的人脸特征信息与数据库中录入的人脸特征信息进行匹配，确定采集到的人脸对应的身份信息；所述额头定位模块用于对所述人脸识别模块采集到的人脸特征信息进行人体额头位置的定位；所述红外测温模块用于对所述人体额头位置进行红外测温；所述温度补偿模块用于对所述红外测温模块进行环境和距离的温度补偿。9.根据权利要求8所述的一种带人脸识别的红外测温系统，所述图像处理模块包括图像光源检测单元，图像增强单元，能见度检测单元，图像复原单元；所述图像光源检测单元用于对输入图像进行光源检测，判断图像中的场景是白天还是夜晚；所述图像增强单元用于对所述图像光源检测单元检测出的夜间图像进行图像增强处理；所述能见度检测单元用于对输入图像进行能见度检测；所述图像复原单元用于对所述能见度检测单元检测出的能见度值低于阈值的图片进行图像复原，去除图像场景中悬浮颗粒物的遮挡影响。10.根据权利要求8所述的一种带人脸识别的红外测温系统，所述温度补偿模块包括环境温度补偿单元、环境能见度补偿单元、测量距离补偿单元和测量角度补偿单元；所述环境温度补偿单元用于对环境温度进行补偿；所述环境能见度补偿单元用于对环境能见度进行补偿；所述测量距离补偿单元用于对测量距离进行补偿；所述测量角度补偿单元用于对测量角度进行补偿。11.一种计算机可读存储介质，其上存储有计算机指令，其特征在于，所述计算机指令运行时执行权利要求1-7中任一项所述的一种带人脸识别的红外测温方法的步骤。12.一种电子设备，包括存储器和处理器，其特征在于，所述存储器上存储有能够在所述处理器上运行的计算机指令，所述处理器运行所述计算机指令时执行权利要求1-7中任一项所述的一种带人脸识别的红外测温方法的步骤。
说明书desc
技术领域本发明涉及红外测温技术领域，具体为一种带人脸识别的红外测温方法及系统。背景技术机器进行人脸识别一般通过摄像机采集含有人脸的图像或视频后进行分析处理，室外条件下，大气透明度在大雾、阴天、下雨、沙尘暴等天气下会降低，能见度也会随之下降。另外，夜晚场景下经常存在光照不足或者光源分布不均的情况，这些情况下，摄像机采集到的图像或视频分辨率很低，低质量的图片让后续进行人脸识别的难度增大。目前非接触式红外测温设备应用广泛，但是红外辐射传输很容易受距离、发射率、环境温度等因素影响。在室外条件下，早午晚温差变化大，同时，天气变化不仅会影响能见度，也会导致环境温度、湿度等发生改变，进而影响到测温设备的红外辐射传输，导致红外测温不准确，因此室外进行非接触式红外测温存在测量精度低、稳定性差等问题。目前对红外设备温度补偿方法的研究大多是针对单一因素，通过研究环境温度、测温距离等单一因素对测温精度的影响，然后进行针对性补偿，但是在室外的复杂环境下，红外设备的测温偏差是多个因素共同作用的结果，单一因素的补偿很难适应复杂环境。发明内容本发明所要解决的技术问题是针对上述现有技术存在的不足，而提供一种带人脸识别的红外测温方法及系统。为解决上述技术问题，本发明采用的技术方案是：一种带人脸识别的红外测温方法，其特征在于，步骤为：S1、通过跟踪算法对摄像机采集的视频序列中人体的运动轨迹进行追踪；S2、对视频序列按预设间隔时间进行光源检测,判断序列图像场景是白天或者夜晚，若是夜晚执行S3，若是白天执行S4；S3、对序列图像进行增强处理，然后执行S4；S4、使用预先训练好的能见度检测模型提取图像中的能见度特征并进行能见度检测，记录能见度值，对能见度值低于阈值的图像运行S5，不低于阈值的图像执行S6；S5、对图像进行复原处理，去除图像场景中悬浮颗粒物的遮挡影响，复原出清晰图像,然后执行S6；S6、识别图像中被步骤S1所述跟踪算法追踪的人物身份，同时定位人体额头位置；S7、对所述人体额头位置进行红外测温；S8、通过对所述红外测温进行环境和距离的温度补偿，实现对额头测量温度进行校准。本发明进一步的改进在于，步骤S4中所述预先训练好的能见度检测模型，模型结构采用经过处理的Inception V4模型，所述处理具体包括：提取Inception V4模型中Reduction层的特征信息后进行全局平均池化操作，然后和进行全局平均池化操作之前的Reduction层的特征信息做堆叠，融合不同尺度的特征，将不同层级的图像特征信息输入到后面的预测层中。本发明更进一步的改进在于，步骤S4中所述预先训练好的能见度检测模型提取图像中的能见度特征并进行能见度值检测的具体步骤为：S41、创建图像能见度数据集，采集不同场景、不同天气、不同时间的视频并按预设间隔提取图片；S42、对图片数据进行归一化处理，将其尺寸大小转化为299 × 299 × 3，将处理完后的图片按4：1的比例分为训练集和测试集并打乱顺序；S43、进行能见度检测模型的训练，将训练数据输入到搭建好的能见度检测模型中进行特征提取，输出当前图片数据的能见度预测值；将能见度预测值与能见度真实值进行对比，计算出当前迭代的损失；进行反向传播，更新网络参数；经过反复迭代，当达到预先设定的迭代次数时终止训练，最终得到训练好的能见度检测模型；S44、将待检测图像输入训练和的能见度检测模型，得到图像的能见度值。本发明进一步的改进在于，步骤S6中所述识别图像中通过所述跟踪算法追踪的人体的身份信息具体步骤为：对步骤S4中所述能见度值不低于阈值的图像、经过步骤S5所述的图像复原处理的图像进行特征采集，采集图像中人脸的特征信息；将采集到的图像中人脸的特征信息与数据库中录入的人脸特征信息进行匹配，找到相似度最高的人脸数据；如果二者相似度超过设定阈值，则输出相似度最高的人脸数据对应的身份信息，如果相似度没有超过设定阈值，则判定图像中出现的人物未在数据库记录中。本发明进一步的改进在于，步骤S6中所述定位人体额头位置的具体步骤是在采集图像中人脸的特征信息基础上对人脸额头位置进行定位。本发明进一步的改进在于，步骤S8中所述对红外测温方法进行环境和距离的温度补偿，所述温度补偿具体包括环境温度补偿、环境可见度补偿、测量距离补偿和测量角度补偿，所述进行温度补偿的具体步骤包括基于所述额头测量温度、环境温度、环境能见度、测量距离、测量角度和额头位置真实温度，确定多元线性回归模型，其中，所述多元线性回归模型的因变量用于表征补偿后的额头位置温度，所述多元线性回归模型的自变量包括所述额头测量温度、环境温度、环境能见度、测量距离和测量角度，将所述多元线性回归模型作为综合补偿模型，对所述红外测温方法进行环境和距离的温度补偿。本发明更进一步的改进在于，建立所述综合补偿模型具体步骤为：S81、将额头测量温度、环境温度、环境能见度、测量距离和测量角度作为自变量，额头位置实际温度作为因变量，建立多元线性回归模型：，式中，表示额头位置实际温度值，/＞，/＞，/＞，/＞，/＞和/＞是所述多元线性回归模型的6个不同的待估计回归系数，分别表示额头位置测量温度、环境温度、环境能见度、测量距离和测量角度的补偿系数，/＞，/＞，/＞，/＞和/＞分别表示额头位置测量温度值、环境温度值、环境能见度值、测量距离值和测量角度值，/＞表示随机误差项；S82、测量额头位置实际温度值；采集额头位置测量温度/＞和当前测量所处环境的环境温度/＞；利用步骤S4所述预先训练好的能见度检测模型测量环境能见度/＞；测量人体红外测温设备与额头位置之间的距离/＞和角度/＞；S83、从测量数据中随机选择部分数据，通过matlab中多元线性回归regress函数建立多元线性回归模型，求解出，/＞，/＞，/＞，/＞和/＞。另一方面，本发明提供了一种带人脸识别的红外测温系统，包括：行人追踪模块、图像处理模块、人脸识别模块、额头定位模块、红外测温模块、温度补偿模块；所述行人追踪模块用于对摄像机采集的视频序列中人体的运动轨迹进行追踪；所述图像处理模块用于对视频序列按预设间隔时间进行光源检测、图像增强、能见度值检测以及图像修复；所述人脸识别模块用于对所述图片处理模块输出的图片采集人脸特征信息，将采集到的人脸特征信息与数据库中录入的人脸特征信息进行匹配，确定采集到的人脸对应的身份信息；所述额头定位模块用于对所述人脸识别模块采集到的人脸数据进行人体额头位置的定位；所述红外测温模块用于对所述人体额头位置进行红外测温；所述温度补偿模块用于对所述红外测温模块进行环境和距离的温度补偿。本发明进一步的改进在于，所述图像处理模块包括：图像光源检测单元，图像增强单元，能见度检测单元，图像复原单元；所述图像光源检测单元用于对输入图像进行光源检测，判断图像场景是白天还是夜晚；所述图像增强单元用于对所述图像光源检测单元检测出的夜间图像进行图像增强处理；所述能见度检测单元用于对输入图像进行能见度值检测；所述图像复原单元用于对所述能见度检测单元检测出的能见度低于阈值的图片进行图像复原，去除图像场景中悬浮颗粒物的遮挡影响。本发明进一步的改进在于，所述温度补偿模块包括：环境温度补偿单元、环境能见度补偿单元、测量距离补偿单元和测量角度补偿单元；所述环境温度补偿单元用于对环境温度进行补偿；所述环境能见度补偿单元用于对环境能见度进行补偿；所述测量距离补偿单元用于对测量距离进行补偿；所述测量角度补偿单元用于对测量角度进行补偿。与现有技术相比，本发明具有的有益效果是：1.对跟踪算法采集到的视频序列按预设间隔时间进行光源检测，判断图像场景是白天或者夜晚，对夜晚图像进行图像增强处理；通过经过处理的Inception V4模型提取图像中的能见度特征并进行能见度检测，并对能见度低于阈值的图像进行图像复原处理，去除图像场景中悬浮颗粒物的遮挡影响，复原出清晰图像。通过对能见度低的图像进行分类处理，不仅提高人脸识别准确性，还滤除了因光照导致的能见度值低对温度补偿的干扰。2.基于额头测量温度、环境温度、环境能见度、测量距离、测量角度和额头位置真实温度，确定多元线性回归模型，对所述红外测温方法进行环境和距离的温度补偿，所述多元线性回归模型的因变量用于表征补偿后的额头位置温度，所述多元线性回归模型的自变量包括所述额头测量温度、环境温度、环境能见度、测量距离和测量角度。通过对红外测温方法进行多个因素的综合温度补偿，不仅提高了红外测温方法的精度，同时提高了所述红外测温方法在复杂环境下的适应性。附图说明图1为本发明一种带人脸识别的红外测温方法的流程示意图；图2为本发明一种带人脸识别的红外测温系统的原理构架示意图；图3为本发明一种带人脸识别的红外测温系统中所述图片处理模块的示意图；图4为本发明一种带人脸识别的红外测温系统中所述温度补偿模块的示意图。具体实施方式下面结合附图对本发明作进一步描述。以下实施例仅用于更加清楚地说明本发明的技术方案，而不能以此来限制本发明的保护范围。以下结合具体实施例对本发明的具体实现进行详细描述。实施例1如图1所示，在本实施例当中，提供了一种带人脸识别的红外测温方法，包括以下步骤：S1、通过跟踪算法对摄像机采集的视频序列中人体的运动轨迹进行追踪；在本实施例当中,采用DeepSORT跟踪算法对摄像机采集的视频序列中人体的运动轨迹进行追踪，设T1、T2和T3是视频中连续的三帧图像，对T1和T2分别进行人体目标检测，并根据人体目标的特征信息将T2检测到的人体目标与前一帧T1检测到的人体目标一一对应起来，确定人物从T1到T2的位置变动。再对T2和T3进行同样操作，将T3检测到的人体目标与前一帧T2检测到的人体目标一一对应起来，确定人物从T2到T3的位置变动，通过不停更新人体目标位置，实现对人体目标的持续追踪。S2、对视频序列按预设间隔时间进行光源检测,判断序列图像场景是白天或者夜晚，若是夜晚执行S3，若是白天执行S4；能见度值检测可以判断图片是否清晰，大雾、下雨、雾霾等导致的能见度降低是因为空气中颗粒物增加导致大气透射率降低，黄昏或者夜晚能见度降低则一般是因为夜间灯光照明带来的光照不足或者光线不均匀。因此，本实施例中，对能见度低的图像使用光源检测判断图像场景是否为夜间，具体分析能见度降低原因并给出不同解决办法，同时，减少因为夜间灯光照明导致的能见度值较高影响之后利用环境能见度进行温度补偿。本实施例具体方案为：S3、对序列图像进行增强处理，然后执行S4；在本实施例中，图像增强是通过分割图像暗色背景区域，对分割后的区域使用局部对比度增强的直方图均衡化算法进行灰度调整，将增强后的灰度图像与原先彩色图像融合，得到增强后的彩色图像。S4、使用预先训练好的能见度检测模型提取图像中的能见度特征并进行能见度检测，记录能见度值，对能见度值低于阈值的图像运行S5，不低于阈值的图像执行S6；在本实施例中，进行图像增强处理后执行S4和直接执行S4的图像都必须按照S1的视频序列顺序进行S4中能见度值检测。在本实施例中，能见度检测模型结构采用改进的Inception V4模型，改进方式为：提取Inception V4模型中Reduction层的特征信息后进行全局平均池化操作，然后和进行全局平均池化操作之前的Reduction层的特征信息进行堆叠，融合不同尺度的特征，底层特征指的是轮廓、颜色、纹理和形状等信息特征，高层特征包含了丰富的语义信息，通过改进保存了Inception V4模型丢失的部分底层特征。将不同层级的图像特征信息输入到后面的预测层中。在本实施例中，步骤S4中所述预先训练好的能见度检测模型提取图像中的能见度特征并进行能见度值检测的具体方案为：S41、创建图像能见度数据集，采集多个不同场景、不同天气、不同时间的室内外视频并按预设间隔提取图片；S42、对图片数据进行归一化处理，将其尺寸大小转化为299 × 299 × 3，将处理完后的图片按4：1的比例分为训练集和测试集并打乱顺序；S43、进行能见度检测模型的训练，将训练数据输入到搭建好的能见度检测模型中进行特征提取，输出当前图片数据的能见度预测值；将能见度预测值与能见度真实值进行对比，计算出当前迭代的损失；进行反向传播，更新网络参数；经过反复迭代，当达到预先设定的迭代次数时终止训练，最终得到训练好的能见度检测模型；S44、将待检测图像输入训练好的能见度检测模型，即可得到图像的能见度值。S5、对图像进行复原处理，去除图像场景中悬浮颗粒物的遮挡影响，复原出清晰图像,然后执行S6；在本实施例中，利用局部平均深度和联合双边滤波估计动态大气透射率，使用中值滤波和区间估值优化局部大气光亮,并通过大气散射模型恢复图像。S6、识别图像中通过所述跟踪算法追踪的人体的身份信息，同时定位人体额头位置；在本实施例中，步骤S6中所述识别图像中通过所述跟踪算法追踪的人体的身份信息的具体步骤为：对步骤S4中所述能见度值不低于阈值的图像、经过步骤S5所述的图像复原处理后图像进行特征采集，采集图像中人脸的特征信息；将采集到的图像中人脸的特征信息与数据库中录入的人脸特征信息进行匹配，找到相似度最高的人脸数据；如果二者相似度超过设定阈值，则输出相似度最高的人脸数据对应的身份信息，如果相似度没有超过设定阈值，则判定图像中出现的人物未在数据库记录中。在本实施例中，步骤S6中所述定位人体额头位置具体步骤是在采集图像中人脸的特征信息基础上对人脸额头位置进行定位。S7、对所述人体额头位置进行红外测温；S8、通过对所述红外测温进行环境和距离的温度补偿，实现对额头测量温度进行校准。在室外的复杂环境下，红外设备的测温偏差是环境温度、湿度、风力以及测量距离、角度等多个因素共同作用的结果，研究环境温度、测温距离等单一因素对测温精度的影响，然后进行针对性补偿很难适应复杂环境，因此对多个因素补偿方法进行综合研究，让测温方法能够适应复杂环境。本实施例具体方案为：步骤S8中所述对红外测温方法进行环境和距离的温度补偿，具体补偿包括环境温度补偿、环境可见度补偿、测量距离补偿和测量角度补偿，所述温度补偿的具体步骤包括基于所述额头测量温度、环境温度、环境能见度、测量距离、测量角度和额头位置真实温度，确定多元线性回归模型，其中，所述多元线性回归模型的因变量用于表征补偿后的额头位置温度，所述多元线性回归模型的自变量包括所述额头测量温度、环境温度、环境能见度、测量距离和测量角度，将所述多元线性回归模型作为环境温度_环境能见度_测量距离_测量角度-温度综合补偿模型，对所述红外测温方法进行环境和距离的温度补偿。建立环境温度_环境能见度_测量距离_测量角度-温度综合补偿模型具体步骤为：S81、将额头测量温度、环境温度、环境能见度、测量距离和测量角度作为自变量，额头位置实际温度作为因变量，建立多元线性回归模型：，式中，表示额头位置实际温度值，/＞，/＞，/＞，/＞，/＞和/＞是所述多元线性回归模型的6个不同的待估计回归系数，分别表示额头位置测量温度、环境温度、环境能见度、测量距离和测量角度的补偿系数，/＞，/＞，/＞，/＞和/＞分别表示额头位置测量温度值、环境温度值、环境能见度值、测量距离值和测量角度值，/＞表示随机误差项；S82、测量额头位置实际温度值；采集额头位置测量温度/＞和当前测量所处环境的环境温度/＞；利用步骤S4所述预先训练好的能见度检测模型测量环境能见度/＞；测量人体红外测温设备与额头位置之间的距离/＞和角度/＞；S83、从测量数据中随机选择部分测量数据，通过matlab中多元线性回归regress函数建立多元线性回归模型，求解出，/＞，/＞，/＞，/＞和/＞。实施例2在本实施例中，如图2所示，提供了一种带人脸识别的红外测温系统，具体包括：行人追踪模块、图像处理模块、人脸识别模块、额头定位模块、红外测温模块、温度补偿模块；所述行人追踪模块用于对摄像机采集的视频序列中人体的运动轨迹进行追踪；所述图像处理模块用于对视频序列按预设间隔时间进行光源检测、图像增强、能见度值检测以及图像修复；所述人脸识别模块用于对所述图片处理模块输出的图片采集人脸特征信息，将采集到的人脸特征信息与数据库中录入的人脸特征信息进行匹配，确定采集到的人脸对应的人物身份信息；所述额头定位模块用于对所述人脸识别模块采集到的人脸数据进行人体额头位置的定位；所述红外测温模块用于对所述额头定位模块定位到的额头位置进行红外测温；所述温度补偿模块用于对所述红外测温模块进行环境和距离的温度补偿。在本实施例中，如图3所示，图像处理模块包括：图像光源检测单元，图像增强单元，能见度检测单元，图像复原单元；所述图像光源检测单元用于对输入图像进行光源检测，判断图像中的场景是白天还是夜晚；所述图像增强单元用于对所述图像光源检测单元检测出的夜间图像进行图像增强处理；所述能见度检测单元用于对输入图像进行能见度值检测；所述图像复原单元用于对所述能见度检测单元检测出的能见度值低于阈值的图片进行图像复原，去除图像场景中悬浮颗粒物的遮挡影响。在本实施例中，如图4所示，温度补偿模块包括：环境温度补偿单元、环境能见度补偿单元、测量距离补偿单元和测量角度补偿单元；所述环境温度补偿单元用于对所述红外测温模块进行环境温度补偿；所述环境能见度补偿单元用于对所述红外测温模块进行环境能见度补偿；所述测量距离补偿单元用于对所述红外测温模块进行测量距离补偿；所述测量角度补偿单元用于对所述红外测温模块进行测量角度补偿。以上显示和描述了本发明的基本原理和主要特征和本发明的优点。本行业的技术人员应该了解，本发明不受上述实施例的限制，上述实施例和说明书中描述的只是说明本发明的原理，在不脱离本发明精神和范围的前提下，本发明还会有各种变化和改进，这些变化和改进都落入要求保护的本发明范围内。本发明要求保护范围由所附的权利要求书及其等效物界定。
