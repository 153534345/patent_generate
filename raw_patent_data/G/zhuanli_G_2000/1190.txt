标题title
自动预标线机器人系统及其作业方法
摘要abst
本发明提供一种自动预标线机器人系统及其作业方法，该系统包括：第一定位装置，用于沿参照物采集路线采样点坐标；人机交互模块，用于对路线采样点坐标进行平移后再进行插值计算；自动预标线机器人，用于在确定计算后的路径为第1路径的情况下将计算后的路径确定为目标路线，在确定计算后的路径为第n路径的情况下基于计算后的路径更新目标路线，并基于自动预标线机器人的定位数据控制自身沿目标路线行驶，且在行驶过程中画预标线；n≥2；第二定位装置，用于采集自动预标线机器人的定位数据，并将自动预标线机器人的定位数据发送至自动预标线机器人。本发明可解决自动预标线机器人在作业过程中等待和停顿时间长的技术问题。
权利要求书clms
1.一种自动预标线机器人系统，其特征在于，包括：第一定位装置，用于在预标线机器人未到达预定终点的情况下，沿参照物采集路线采样点坐标；人机交互模块，与所述第一定位装置通信连接，用于对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径；自动预标线机器人，与所述人机交互模块通信连接，用于在确定所述计算后的路径为第1路径的情况下，将所述计算后的路径确定为目标路线，在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，并基于所述自动预标线机器人的定位数据，控制自身沿所述目标路线行驶，且在行驶过程中画预标线；n≥2；第二定位装置，固定在所述自动预标线机器人上，与所述自动预标线机器人通信连接，用于采集所述自动预标线机器人的定位数据，并将所述自动预标线机器人的定位数据发送至所述自动预标线机器人。2.根据权利要求1所述的自动预标线机器人系统，其特征在于，所述人机交互模块，用于以所述参照物与预标线之间的垂直距离为平移距离，以垂直于所述参照物并指向所述预标线的方向为平移方向，对所述路线采样点坐标进行平移，得到平移后的采样点坐标，并对平移后的采样点坐标进行插值计算，得到计算后的路径。3.根据权利要求2所述的自动预标线机器人系统，其特征在于，所述对平移后的采样点坐标进行插值计算，得到计算后的路径，包括：按照固定间距对平移后的采样点坐标进行插值计算，得到计算后的路径。4.根据权利要求1所述的自动预标线机器人系统，其特征在于，所述在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，包括：在确定所述计算后的路径为第n路径的情况下，将第n路径拼接到第n-1路径对应的目标路线上，得到更新后的目标路线。5.根据权利要求1所述的自动预标线机器人系统，其特征在于，所述参照物为道路边沿、中央隔离带或者原车道标线。6.根据权利要求1所述的自动预标线机器人系统，其特征在于，所述第一定位装置为手持RTK装置。7.一种自动预标线机器人系统的作业方法，其特征在于，所述方法应用于权利要求1-6任一项所述的系统中，所述方法，包括：基于第一定位装置，在预标线机器人未到达预定终点的情况下，沿参照物采集路线采样点坐标；基于人机交互模块，对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径；基于第二定位装置，采集所述自动预标线机器人的定位数据，并将所述自动预标线机器人的定位数据发送至所述自动预标线机器人；在所述自动预标线机器人确定所述计算后的路径为第1路径的情况下，将所述计算后的路径确定为目标路线，在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，并基于所述自动预标线机器人的定位数据，控制自身沿所述目标路线行驶，且在行驶过程中画预标线；n≥2。8.根据权利要求7所述的自动预标线机器人系统的作业方法，其特征在于，所述基于人机交互模块，对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径，包括：基于所述人机交互模块，以所述参照物与预标线之间的垂直距离为平移距离，以垂直于所述参照物并指向所述预标线的方向为平移方向，对所述路线采样点坐标进行平移，得到平移后的采样点坐标，并对平移后的采样点坐标进行插值计算，得到计算后的路径。9.根据权利要求8所述的自动预标线机器人系统的作业方法，其特征在于，所述对平移后的采样点坐标进行插值计算，得到计算后的路径，包括：按照固定间距对平移后的采样点坐标进行插值计算，得到计算后的路径。10.根据权利要求7所述的自动预标线机器人系统的作业方法，其特征在于，所述在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，包括：在确定所述计算后的路径为第n路径的情况下，将第n路径拼接到第n-1路径对应的目标路线上，得到更新后的目标路线。
说明书desc
技术领域本发明涉及机器人技术领域，具体涉及一种自动预标线机器人系统及其作业方法。背景技术道路交通标线，比如车道线、车道边界线，主要画设于道路表面，用于指示车道界限和道路界限。同时，各类公路经受日晒雨淋，风雪冰冻，遭受车辆的冲击磨耗，定期都需对这些标线进行重新施画。通常，在进行交通标线施画前，需要进行预标线施画放样，即根据交通标线的位置和走向，施画一条较细的预标线。工人再根据预标线，施画出相应的交通标线。当前，以人工作业为主的预标线施画放样，不仅存在放样误差的问题，而且带来繁重工作量，且作业效率不高。自动预标线机器人能够以高精度、高效率的方式对预标线进行施画，通过导入一段目标路线，启动自动预标线机器人，然后机器人能够沿着目标路线自动行驶，并施画预标线。目前，市面上已经出现了自动预标线机器人产品及其方案，存在以下问题：机器人在行走施画前，需要接收或导入目标路线，然后启动机器人沿着目标路线行驶，同时进行喷涂和打点。为机器人生成目标路线的方法有：通过施工图纸提取，即提取施工图纸中预标线的信息，基于预标线的信息生成目标路线；通过手工制作，即施工员通过定位装置获取少量采样点，再拟合生成曲线，作为目标路线。将这些手动生成的目标路线，发送或导入到机器人，再启动机器人，使其沿着目标路线循迹行驶并作业施画，到达目标路线终点时停车并结束作业。然后再手工生成下一段道路的目标路线，发送或导入机器人，启动下一段道路的作业施画。这种间断式的作业方式要求机器人必须在停车状态下接收目标路线，导致大量的等待和停顿时间，作业效率非常低。发明内容有鉴于此，有必要提供一种自动预标线机器人系统及其作业方法，用以解决自动预标线机器人在作业过程中等待和停顿时间长，作业效率低的技术问题。为了实现上述目的，本发明提供了一种自动预标线机器人系统，包括：第一定位装置，用于在预标线机器人未到达预定终点的情况下，沿参照物采集路线采样点坐标；人机交互模块，与所述第一定位装置通信连接，用于对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径；自动预标线机器人，与所述人机交互模块通信连接，用于在确定所述计算后的路径为第1路径的情况下，将所述计算后的路径确定为目标路线，在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，并基于所述自动预标线机器人的定位数据，控制自身沿所述目标路线行驶，且在行驶过程中画预标线；n≥2；第二定位装置，固定在所述自动预标线机器人上，与所述自动预标线机器人通信连接，用于采集所述自动预标线机器人的定位数据，并将所述自动预标线机器人的定位数据发送至所述自动预标线机器人。进一步地，所述人机交互模块，用于以所述参照物与预标线之间的垂直距离为平移距离，以垂直于所述参照物并指向所述预标线的方向为平移方向，对所述路线采样点坐标进行平移，得到平移后的采样点坐标，并对平移后的采样点坐标进行插值计算，得到计算后的路径。进一步地，所述对平移后的采样点坐标进行插值计算，得到计算后的路径，包括：按照固定间距对平移后的采样点坐标进行插值计算，得到计算后的路径。进一步地，所述在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，包括：在确定所述计算后的路径为第n路径的情况下，将第n路径拼接到第n-1路径对应的目标路线上，得到更新后的目标路线。进一步地，所述参照物为道路边沿、中央隔离带或者原车道标线。进一步地，所述第一定位装置为手持RTK装置。本发明还提供一种自动预标线机器人系统的作业方法，所述方法应用于上述任一项所述的系统中，所述方法，包括：基于第一定位装置，在预标线机器人未到达预定终点的情况下，沿参照物采集路线采样点坐标；基于人机交互模块，对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径；基于第二定位装置，采集所述自动预标线机器人的定位数据，并将所述自动预标线机器人的定位数据发送至所述自动预标线机器人；在所述自动预标线机器人确定所述计算后的路径为第1路径的情况下，将所述计算后的路径确定为目标路线，在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，并基于所述自动预标线机器人的定位数据，控制自身沿所述目标路线行驶，且在行驶过程中画预标线；n≥2。进一步地，所述基于人机交互模块，对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径，包括：基于所述人机交互模块，以所述参照物与预标线之间的垂直距离为平移距离，以垂直于所述参照物并指向所述预标线的方向为平移方向，对所述路线采样点坐标进行平移，得到平移后的采样点坐标，并对平移后的采样点坐标进行插值计算，得到计算后的路径。进一步地，所述对平移后的采样点坐标进行插值计算，得到计算后的路径，包括：按照固定间距对平移后的采样点坐标进行插值计算，得到计算后的路径。进一步地，所述在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，包括：在确定所述计算后的路径为第n路径的情况下，将第n路径拼接到第n-1路径对应的目标路线上，得到更新后的目标路线。采用上述实现方式的有益效果是：本发明提供的自动预标线机器人系统及其作业方法，人机交互模块通过第一定位装置采集并生成第1路径，并发送给自动预标线机器人；通过自动预标线机器人更新目标路线；自动预标线机器人通过第二定位装置获取自身的定位数据，控制自身沿目标路线行驶，并施画预标线，直至目标路线终点；在自动预标线机器人行驶施画的同时，通过第一定位装置继续采集并生成第n路径，并发送至自动预标线机器人；返回到更新目标路线的步骤，机器人更新目标路线继续行驶施画预标线。本发明提供的系统，自动预标线机器人在施画预标线时，就继续自动获取下一阶段的路径，并结合下一阶段的路径对目标路线进行更新，不用等到自动预标线机器人到达当前阶段的目标路线的终点时，才获取下一阶段的路径，因而本发明能够为道路预标线提供自动化的连续作业方式，解决自动预标线机器人在作业过程中等待和停顿时间长的问题，显著提升道路预标线施画的效率。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明提供的自动预标线机器人系统的一实施例的结构示意图；图2为本发明提供的对路径进行插值处理的示意图；图3为本发明提供的第n路径的示意图；图4为本发明提供的拼接生成新的目标路线的示意图；图5为本发明提供的自动预标线机器人系统的一实施例的流程图；图6为本发明提供的自动预标线机器人系统的另一实施例的流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述。显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在本申请实施例的描述中，除非另有说明， “多个”的含义是两个或两个以上。本发明实施例中术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或模块的过程、方法、装置、产品或设备不必限于清楚地列出的那些步骤或模块，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或模块。在本发明实施例中出现的对步骤进行的命名或者编号，并不意味着必须按照命名或者编号所指示的时间/逻辑先后顺序执行方法流程中的步骤，已经命名或者编号的流程步骤可以根据要实现的技术目的变更执行次序，只要能达到相同或者相似的技术效果即可。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本发明的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其他实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其他实施例相结合。本发明提供了一种自动预标线机器人系统及其作业方法，以下分别进行说明。如图1所示，本发明提供一种自动预标线机器人系统，包括：第一定位装置110，用于在预标线机器人未到达预定终点的情况下，沿参照物采集路线采样点坐标；人机交互模块120，与所述第一定位装置110通信连接，用于对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径；路径也即路线；自动预标线机器人130，与所述人机交互模块120通信连接，用于在确定所述计算后的路径为第1路径的情况下，将所述计算后的路径确定为目标路线，在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，并基于所述自动预标线机器人130的定位数据，控制自身沿所述目标路线行驶，且在行驶过程中画预标线；n≥2；第二定位装置140，固定在所述自动预标线机器人130上，与所述自动预标线机器人130通信连接，用于采集所述自动预标线机器人130的定位数据，并将所述自动预标线机器人130的定位数据发送至所述自动预标线机器人130。可以理解的是，第一定位装置110指便携式定位设备，如手持RTK，并发送至自动预标线机器人130。人工使用第一定位装置110，沿参照物采集第n段路径的采样点，获得第n段路径采样点的坐标，并将第n段路径采样点发送至人机交互模块120；人机交互模块120对第n段路径采样点进行平移，得到平移后的采样点坐标，其中，平移距离为参照物与预标线之间的垂直距离，平移方向为垂直于参照物，并指向预标线；人机交互模块120对平移后的采样点进行插值计算，得到固定间距的插值点序列，，，…、，将其作为第n路径，其中kn表示第n路径的路径点数量，并将第n路径发送至自动预标线机器人130。在一些实施例中，所述在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，包括：在确定所述计算后的路径为第n路径的情况下，第n段路径如图3所示，将第n路径拼接到第n-1路径对应的目标路线上，得到更新后的目标路线。可以理解的是，自动预标线机器人130判断接收的路径是否为第1路径，若是，则将第1路径作为目标路线；如图4所示，若是第n路径，则将接收的第n路径拼接到目标路线上，作为新的目标路线。在一些实施例中，所述参照物为道路边沿、中央隔离带或者原车道标线。综上所述，本发明提供的自动预标线机器人130系统，包括：第一定位装置110，用于在预标线机器人未到达预定终点的情况下，沿参照物采集路线采样点坐标；人机交互模块120，与所述第一定位装置110通信连接，用于对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径；自动预标线机器人130，与所述人机交互模块120通信连接，用于在确定所述计算后的路径为第1路径的情况下，将所述计算后的路径确定为目标路线，在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，并基于所述自动预标线机器人130的定位数据，控制自身沿所述目标路线行驶，且在行驶过程中画预标线；n≥2；第二定位装置140，固定在所述自动预标线机器人130上，与所述自动预标线机器人130通信连接，用于采集所述自动预标线机器人130的定位数据，并将所述自动预标线机器人130的定位数据发送至所述自动预标线机器人130。在本发明提供的自动预标线机器人系统中，人机交互模块120通过第一定位装置110采集并生成第1路径，并发送给自动预标线机器人130；通过自动预标线机器人130更新目标路线；自动预标线机器人130通过第二定位装置140获取自身的定位数据，控制自身沿目标路线行驶，并施画预标线，直至目标路线终点；在自动预标线机器人130行驶施画的同时，通过第一定位装置110继续采集并生成第n路径，并发送至自动预标线机器人130；返回到更新目标路线的步骤，机器人更新目标路线继续行驶施画预标线。本发明提供的系统，自动预标线机器人在施画预标线时，就继续自动获取下一阶段的路径，并结合下一阶段的路径对目标路线进行更新，不用等到自动预标线机器人130到达当前阶段的目标路线的终点时，才获取下一阶段的路径，因而本发明能够为道路预标线提供自动化的连续作业方式，解决自动预标线机器人130在作业过程中等待和停顿时间长的问题，显著提升道路预标线施画的效率。如图5所示，本发明还提供一种自动预标线机器人130系统的作业方法，所述方法应用于上述的系统中，所述方法，包括：步骤510、基于第一定位装置110，在预标线机器人未到达预定终点的情况下，沿参照物采集路线采样点坐标；步骤520、基于人机交互模块120，对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径；步骤530、基于第二定位装置140，采集所述自动预标线机器人130的定位数据，并将所述自动预标线机器人130的定位数据发送至所述自动预标线机器人130；步骤540、在所述自动预标线机器人130确定所述计算后的路径为第1路径的情况下，将所述计算后的路径确定为目标路线，在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，并基于所述自动预标线机器人130的定位数据，控制自身沿所述目标路线行驶，且在行驶过程中画预标线；n≥2。可以理解的是，在另一些实施例中，如图6所示，自动预标线机器人130系统的作业方法包括：人机交互模块120通过第一定位装置110采集并生成第1路径，并发送给自动预标线机器人130；自动预标线机器人130更新目标路线；自动预标线机器人130通过第二定位装置140获取自身的定位数据，控制自身沿目标路线行驶，并施画预标线，直至目标路线终点；在自动预标线机器人130行驶施画的同时，通过第一定位装置110继续采集并生成第n路径，并发送至自动预标线机器人130；返回到，机器人更新目标路线继续行驶施画预标线。本发明能够为道路预标线提供自动化的连续作业方式，显著提升道路预标线施画的效率。在一些实施例中，所述基于人机交互模块120，对所述路线采样点坐标进行平移后再进行插值计算，得到计算后的路径，包括：基于所述人机交互模块120，以所述参照物与预标线之间的垂直距离为平移距离，以垂直于所述参照物并指向所述预标线的方向为平移方向，对所述路线采样点坐标进行平移，得到平移后的采样点坐标，并对平移后的采样点坐标进行插值计算，得到计算后的路径。在一些实施例中，所述对平移后的采样点坐标进行插值计算，得到计算后的路径，包括：按照固定间距对平移后的采样点坐标进行插值计算，得到计算后的路径。在一些实施例中，所述在确定所述计算后的路径为第n路径的情况下，基于所述计算后的路径更新所述目标路线，包括：在确定所述计算后的路径为第n路径的情况下，将第n路径拼接到第n-1路径对应的目标路线上，得到更新后的目标路线。以上对本发明所提供的自动预标线机器人系统及其作业方法进行了详细介绍，本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本发明的限制。
