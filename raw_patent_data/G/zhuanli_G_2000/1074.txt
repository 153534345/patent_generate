标题title
一种城市轨道交通高平峰多标尺节能运行图编制方法
摘要abst
本发明提供了一种城市轨道交通高平峰多标尺节能运行图编制方法。该方法包括：基于列车运行过程受力分析，结合列车运行工况，构建列车牵引能耗计算模型；将列车运行基本参数输入到列车牵引能耗计算模型中，计算得到各区间不同运行等级对应的牵引能耗；以节能指标为优化目标构建平峰时段标尺优化模型并求解；根据优化后的平峰标尺和已知的高峰标尺分别铺画平峰时段和高峰时段的运行线，得到初始的高平峰多标尺全日运行图；以到发时刻均衡指标为优化目标，构建并求解过渡时段标尺优化模型，得到优化后的全日高平峰多标尺节能运行图。本发明考虑客流分布特征，提出“高峰保运力，平峰降能耗”思想，从全日视角降低系统牵引能耗，实现牵引能耗的降低。
权利要求书clms
1.一种城市轨道交通高平峰多标尺节能运行图编制方法，其特征在于，包括：基于列车运行过程受力分析，结合列车运行工况，构建列车牵引能耗计算模型；将列车运行基本参数输入到所述列车牵引能耗计算模型中，计算得到各区间不同运行等级对应的牵引能耗；基于所述各区间不同运行等级对应的牵引能耗，以节能指标为优化目标构建平峰时段标尺优化模型；利用求解器求解所述平峰时段标尺优化模型，得到优化后的平峰标尺；根据优化后的平峰标尺和已知的高峰标尺分别铺画平峰时段和高峰时段的运行线，得到初始的高平峰多标尺全日运行图；基于所述高平峰多标尺全日运行图针对高平峰多标尺导致的过渡时段列车服务不均衡问题，以到发时刻均衡指标为优化目标，构建过渡时段标尺优化模型；利用求解器求解所述过渡时段标尺优化模型，求出过渡时段优化后的标尺，调整过渡时段运行线，得到优化后的全日高平峰多标尺节能运行图。2.根据权利要求1所述的方法，其特征在于，所述的基于列车运行过程受力分析，结合列车运行工况，构建列车牵引能耗计算模型，包括：所述列车运行工况包括牵引工况、巡航工况、惰行工况和制动工况；列车运行过程受力包括列车牵引力、制动力、基本阻力和坡道附加阻力，基于列车运行过程受力分析，结合列车运行工况，构建的列车牵引能耗计算模型如下：式中，v表示列车运行速度；X表示相邻站点之间的距离；x表示列车在站间的位置；p表示列车在速度为v，运行工况为u下牵引力；P表示列车速度为v的最大牵引力；λp表示列车在运行工况为u下的牵引力输出系数；q表示列车在速度为v，运行工况为u下制动力；Q表示列车速度为v的最大制动力；λq表示列车在运行工况为u下的制动力输出系数；r表示列车在x位置、速度为v时的运行阻力；T表示列车在站间的运行时间；Mp表示列车定员质量；α表示列车回转质量系数；ω0表示列车在速度为v时列车单位基本阻力；ω1表示列车在位置x处的列车单位坡度附加阻力；a,b,c表示列车基本阻力方程系数；θ表示列车在位置x处的坡度千分位。3.根据权利要求1所述的方法，其特征在于，所述的将列车运行基本参数输入到所述列车牵引能耗计算模型中，计算得到各区间不同运行等级对应的牵引能耗，包括：设置列车运行基本参数包括列车运行的线路数据、列车数据和运营数据，所述的线路数据包括线路上各车站中心公里标、站间距离X、限速段起止公里标及对应限速值V和坡道起止公里标及对应坡度θ；所述的列车数据包括列车的编组方式、定员质量Mp、牵引特性曲线F、制动特性曲线B，以及基本阻力方程系数a、b、c，运行等级集合M及对应的区间运行时间tm，停站等级集合N及对应的停站时间tn；所述的运营数据包括客流时段划分、发车间隔和周转时间；将所述线路数据、列车数据输入到所述列车牵引能耗计算模型中，计算得到任意j,j+1区间运行等级m对应的牵引能耗具体如下：步骤2.1、读取线路数据，获取各相邻站点间距Xj,j+1，初始化各相邻站点间线路的坡度千分位θ、线路限速段及对应限速值V，读取列车数据，获取运行列车定员质量Mp，读取列车牵引力、制动力运行离散点，读取列车阻力方程系数a、b、c；步骤2.2、初始化线路信息，根据坡度计算出各区间的线路坡度附加阻力ω0，并通过列车阻力方程系数构建列车基本阻力计算公式ω1，通过读取列车牵引力、制动力运行离散点拟合得到列车牵引力特性曲线F、制动特性曲线B；步骤2.3、计算区间运行等级能耗，读取各区间运行等级m对应的运行时间以步长为Δt进行离散化并初始化对应等级牵引能耗e＝0、站间初始运行时间ttotal，计算对应步长下的列车牵引能耗Δe＝p·v·Δt,并计算e＝e+Δe，t＝t+Δt。重复上述计算过程直至/＞得到各区间不同运行等级对应的牵引能耗/＞4.根据权利要求3所述的方法，其特征在于，所述的基于所述各区间不同运行等级对应的牵引能耗，以节能指标为优化目标构建平峰时段标尺优化模型，包括：基于所述各区间不同运行等级对应的牵引能耗，以节能指标为优化目标构建的平峰时段标尺优化模型如下：设置所述平峰时段标尺优化模型的目标函数为列车总牵引能耗最低，所述目标函数的公式为：式中，D表示线路上的车站集合，j表示线路上第j个车站，其中j,j+1表示车站j与j+1之间的区间；/＞表示列车在区间j,j+1是否采用运行等级m，采用取1，不采用取0；/＞表示列车在区间j,j+1采用运行等级m对应的牵引能耗；设置所述平峰时段标尺优化模型的选择唯一性约束为：限制列车在所有区间必须且只能选择一种运行等级和停站等级，具体表现为：式中，表示列车在车站j是否采用停站等级n，采用取1，不采用取0；设置所述平峰时段标尺优化模型的周转时间约束：限制列车周转时间在规定时间范围内，具体表现为：式中，表示列车在区间j,j+1等级m对应的运行时间；/＞表示列车在车站j停站等级n对应的停站时间；Tmin表示周转时间最小值；Tmax表示周转时间最大值；将周转时间定义为自线路始发站出发时间起，至线路终点站到达时间至。5.根据权利要求4所述的方法，其特征在于，所述的利用求解器求解所述平峰时段标尺优化模型，得到优化后的平峰标尺，包括：利用Gurobi求解器求解所述平峰时段标尺优化模型，得到优化后的平峰标尺。6.根据权利要求5所述的方法，其特征在于，所述的根据优化后的平峰标尺和已知的高峰标尺分别铺画平峰时段和高峰时段的运行线，得到初始的高平峰多标尺全日运行图，包括：依据历史客流数据将全日运营时间划分为高峰时段和平峰时段；在高峰时段，基于已知的高峰标尺、开行方案和发车间隔，依次铺画高峰时段运行线；在平峰时段，基于优化后的平峰标尺，结合平峰时段开行方案和发车间隔，依次铺画平峰时段运行线，得到初始的高平峰多标尺节能运行图。7.根据权利要求6所述的方法，其特征在于，所述的基于所述高平峰多标尺全日运行图针对高平峰多标尺导致的过渡时段列车服务不均衡问题，以到发时刻均衡指标为优化目标，构建过渡时段标尺优化模型，包括：基于所述全日运行图以到发时刻均衡指标为优化目标构建过渡时段标尺优化模型，设置所述过渡时段标尺优化模型的目标函数为列车到达间隔时间标准差最小化，具体表现为：式中，D表示车站集合；为最后一座车站标号同时也表示车站数量；L表示列车集合；/＞为最后一列车同时也表示列车数量；/＞表示列车i+1在车站j的到达时间；/＞表示列车i在车站j的到达时间；/＞表示最后一列车/＞在车站j的到达时间；/＞表示第一列车在车站j的到达时间；设置所述过渡时段标尺优化模型的时间约束为：限制列车区间运行时间为其选择的列车运行等级所对应的区间运行时间，停站时间为其选择的停站等级所对应的停站时间，具体表现为：式中，表示列车i在车站j的出发时刻；/＞表示列车i在车站j的到达时刻；/＞表示列车i在车站j是否采用停站等级n，采用取1，不采用取0；/＞表示列车在车站j停站等级n对应的停站时间；/＞表示列车i在区间j,j+1是否采用运行等级m，采用取1，不采用取0；/＞表示列车在区间j,j+1等级m对应的运行时间；设置所述过渡时段标尺优化模型的选择唯一性约束为：限制列车在所有区间必须且只能选择一种运行等级和停站等级，具体表现为：式中，表示列车i在区间j,j+1是否采用运行等级m，采用取1，不采用取0；/＞表示列车i在车站j是否采用停站等级n，采用取1，不采用取0；设置所述过渡时段标尺优化模型的发车间隔约束为：限制不同时期始发的列车要严格执行发车间隔的约束要求，具体表现为：式中，表示列车是否在高峰时段始发，高峰时段始发取1，否则取0；/＞表示列车是否在平峰时段始发，平峰时段始发取1，否则取0；/＞表示高峰时段最小发车间隔；/＞表示平峰时段最小发车间隔；/＞表示高峰时段最大发车间隔；/＞表示平峰时段最大发车间隔；周转时间约束：限制列车周转时间在规定时间范围内，具体表现为：式中，表示列车i在线路上终点站的到达时间；/＞表示列车i在线路上始发站的出发时间；安全约束：限制列车在各站到达、出发要满足追踪间隔时间要求，具体表现为：8.根据权利要求7所述的方法，其特征在于，所述的利用求解器求解所述过渡时段标尺优化模型，求出过渡时段优化后的标尺，得到优化后的全日高平峰多标尺节能运行图，包括：基于初始全日运行图确定需要优化的过渡时段及具体列车；利用Gurobi求解器求解过渡时段标尺优化模型，得到过渡时段标尺，调整过渡时段运行线，得到优化后的全日高平峰多标尺节能运行图。
说明书desc
技术领域本发明涉及城市轨道交通技术领域，尤其涉及一种城市轨道交通高平峰多标尺节能运行图编制方法。背景技术城市轨道交通以电能为主要能源，具有绿色环保的技术优势。然而随着轨道交通路网规模日益扩大，其带来的巨大电能消耗问题不容忽视。2021年全国城轨系统总能耗为213.1亿kW·h，同比增长23.6％。其中北京与上海的城轨年耗电量达到了21.5亿kW·h和25.6亿kW·h，分别占城市社会用电总量的1.7％和1.5％。因此，节能减排、降本增效是当前轨道交通系统面临的突出问题。我国多项政策方针也对城轨系统的发展提出了高要求。国内城市轨道系统普遍采用平行运行图，即全日所有的列车服务在同一区间和车站都具有相同的运行时间和停留时间。然而，地铁全日运营时间范围内的客流分布是不均衡的，不同时段出行的乘客心理对于各环节时间的敏感程度也不相同。工作日高峰时段客流量较大，城市轨道交通系统作为客运服务企业仍然要以满足运力需求为主；而在平峰时段运力需求较为平缓，将降低运营成本、提高经济效益将成为运营公司的主要目标。因此，在全日客流分布不均衡条件下，需要提供一种高平峰多标尺节能运行图的编制方法，遵从“高峰保运力、平峰降能耗”思想，为运营公司从全日视角实现牵引能耗降低提供决策支持。标尺是轨道交通运营单位依据现场作业种类所制定的时间标准，用以指导运行图的铺画。如定义A-B区间运行标尺为60秒，则运行图中规定的某列车在B站到达时间等于该列车在A站出发时间加60秒；B站的停站标尺为30秒，则运行图中应规定列车在B站停站时间为30秒。现有技术有方案证明列车的运行时分是列车牵引能耗的决定因素，通常来说，区间的运行时分越长，对应的牵引能耗越小。现有技术还有方案通过分析区间运行时间与牵引电耗的关系，并基于此建立单车多站间运行时分优化模型，在保证列车总运行时分的条件下，将各个列车在区间运行的能耗与运行时间进行重新分配，使得列车的惰行距离提升，从而减少区间运行的牵引能耗以实现节能效果；现有技术还有方案详细介绍了在实际运营中列车自动监控系统系统预存的列车运行等级，不同等级对应于不同的站间运行时分与运行曲线。基于此提出一种考虑随机运营场景的列车运行等级鲁棒优化方法，以实现列车节能运行的目标；现有技术还有方案采用预存曲线的思路，构建了面向节能的地铁运行图案例库，并提出了一种改进的变权值最近邻法，实现在较短时间内检索到适合当前外部条件的最节能的列车运行图；现有技术还有方案以停站时间的压缩值为变量，以节能指标和准时指标为优化目标，建立非高峰时段多列车优化模型；现有技术还有方案拟合出不同区间的时间能耗反比例特征曲线；计算各区间的冗余时间，离散化冗余时间得到多个时间单元。然后取时间单元预分配到所有区间，通过对比将该时间单元分配到能耗变化量最大的区间，直至冗余时间全部分配。上述现有技术中关于节能运行图方案的缺点包括：这些现有技术方案主要针对列车再生制动能利用问题，所构建模型较为复杂难以求解，且优化效果鲁棒性不强，现实中遇到突发事件偏离图定时间几秒钟优化效果即会大打折扣。这些现有技术方案只针对单一时段或单一列车进行节能优化，优化效果有限。发明内容本发明的实施例提供了一种城市轨道交通高平峰多标尺节能运行图编制方法，以实现有效地降低城市轨道交通的牵引能耗。为了实现上述目的，本发明采取了如下技术方案。一种城市轨道交通高平峰多标尺节能运行图编制方法，包括：基于列车运行过程受力分析，结合列车运行工况，构建列车牵引能耗计算模型；将列车运行基本参数输入到所述列车牵引能耗计算模型中，计算得到各区间不同运行等级对应的牵引能耗；基于所述各区间不同运行等级对应的牵引能耗，以节能指标为优化目标构建平峰时段标尺优化模型；利用求解器求解所述平峰时段标尺优化模型，得到优化后的平峰标尺；根据优化后的平峰标尺和已知的高峰标尺分别铺画平峰时段和高峰时段的运行线，得到初始的高平峰多标尺全日运行图；基于所述高平峰多标尺全日运行图针对高平峰多标尺导致的过渡时段列车服务不均衡问题，以到发时刻均衡指标为优化目标，构建过渡时段标尺优化模型；利用求解器求解所述过渡时段标尺优化模型，求出过渡时段优化后的标尺，调整过渡时段运行线，得到优化后的全日高平峰多标尺节能运行图。优选地，所述的基于列车运行过程受力分析，结合列车运行工况，构建列车牵引能耗计算模型，包括：所述列车运行工况包括牵引工况、巡航工况、惰行工况和制动工况；列车运行过程受力包括列车牵引力、制动力、基本阻力和坡道附加阻力，基于列车运行过程受力分析，结合列车运行工况，构建的列车牵引能耗计算模型如下：式中，v表示列车运行速度；X表示相邻站点之间的距离；x表示列车在站间的位置；p表示列车在速度为v，运行工况为u下牵引力；P表示列车速度为v的最大牵引力；λp表示列车在运行工况为u下的牵引力输出系数；q表示列车在速度为v，运行工况为u下制动力；Q表示列车速度为v的最大制动力；λq表示列车在运行工况为u下的制动力输出系数；r表示列车在x位置、速度为v时的运行阻力；T表示列车在站间的运行时间；Mp表示列车定员质量；α表示列车回转质量系数；ω0表示列车在速度为v时列车单位基本阻力；ω1表示列车在位置x处的列车单位坡度附加阻力；a,b,c表示列车基本阻力方程系数；θ表示列车在位置x处的坡度千分位。优选地，所述的将列车运行基本参数输入到所述列车牵引能耗计算模型中，计算得到各区间不同运行等级对应的牵引能耗，包括：设置列车运行基本参数包括列车运行的线路数据、列车数据和运营数据，所述的线路数据包括线路上各车站中心公里标、站间距离X、限速段起止公里标及对应限速值V和坡道起止公里标及对应坡度θ；所述的列车数据包括列车的编组方式、定员质量Mp、牵引特性曲线F、制动特性曲线B，以及基本阻力方程系数a、b、c，运行等级集合M及对应的区间运行时间tm，停站等级集合N及对应的停站时间tn；所述的运营数据包括客流时段划分、发车间隔和周转时间；将所述线路数据、列车数据输入到所述列车牵引能耗计算模型中，计算得到任意j,j+1区间运行等级m对应的牵引能耗具体如下：步骤2.1、读取线路数据，获取各相邻站点间距Xj,j+1，初始化各相邻站点间线路的坡度千分位θ、线路限速段及对应限速值V，读取列车数据，获取运行列车定员质量Mp，读取列车牵引力、制动力运行离散点，读取列车阻力方程系数a、b、c；步骤2.2、初始化线路信息，根据坡度计算出各区间的线路坡度附加阻力ω0，并通过列车阻力方程系数构建列车基本阻力计算公式ω1，通过读取列车牵引力、制动力运行离散点拟合得到列车牵引力特性曲线F、制动特性曲线B；步骤2.3、计算区间运行等级能耗，读取各区间运行等级m对应的运行时间以步长为Δt进行离散化并初始化对应等级牵引能耗e＝0、站间初始运行时间ttotal，计算对应步长下的列车牵引能耗Δe＝p·v·Δt,并计算e＝e+Δe，t＝t+Δt。重复上述计算过程直至/＞得到各区间不同运行等级对应的牵引能耗/＞优选地，所述的基于所述各区间不同运行等级对应的牵引能耗，以节能指标为优化目标构建平峰时段标尺优化模型，包括：基于所述各区间不同运行等级对应的牵引能耗，以节能指标为优化目标构建的平峰时段标尺优化模型如下：设置所述平峰时段标尺优化模型的目标函数为列车总牵引能耗最低，所述目标函数的公式为：式中，D表示线路上的车站集合，j表示线路上第j个车站，其中j,j+1表示车站j与j+1之间的区间；/＞表示列车在区间j,j+1是否采用运行等级m，采用取1，不采用取0；/＞表示列车在区间j,j+1采用运行等级m对应的牵引能耗；设置所述平峰时段标尺优化模型的选择唯一性约束为：限制列车在所有区间必须且只能选择一种运行等级和停站等级，具体表现为：式中，表示列车在车站j是否采用停站等级n，采用取1，不采用取0；设置所述平峰时段标尺优化模型的周转时间约束：限制列车周转时间在规定时间范围内，具体表现为：式中，表示列车在区间j,j+1等级m对应的运行时间；/＞表示列车在车站j停站等级n对应的停站时间；Tmin表示周转时间最小值；Tmax表示周转时间最大值；将周转时间定义为自线路始发站出发时间起，至线路终点站到达时间至。优选地，所述的利用求解器求解所述平峰时段标尺优化模型，得到优化后的平峰标尺，包括：利用Gurobi求解器求解所述平峰时段标尺优化模型，得到优化后的平峰标尺。优选地，所述的根据优化后的平峰标尺和已知的高峰标尺分别铺画平峰时段和高峰时段的运行线，得到初始的高平峰多标尺全日运行图，包括：依据历史客流数据将全日运营时间划分为高峰时段和平峰时段；在高峰时段，基于已知的高峰标尺、开行方案和发车间隔，依次铺画高峰时段运行线；在平峰时段，基于优化后的平峰标尺，结合平峰时段开行方案和发车间隔，依次铺画平峰时段运行线，得到初始的高平峰多标尺节能运行图。优选地，所述的基于所述高平峰多标尺全日运行图针对高平峰多标尺导致的过渡时段列车服务不均衡问题，以到发时刻均衡指标为优化目标，构建过渡时段标尺优化模型，包括：基于所述全日运行图以到发时刻均衡指标为优化目标构建过渡时段标尺优化模型，设置所述过渡时段标尺优化模型的目标函数为列车到达间隔时间标准差最小化，具体表现为：式中，D表示车站集合；为最后一座车站标号同时也表示车站数量；L表示列车集合；/＞为最后一列车同时也表示列车数量；/＞表示列车i+1在车站j的到达时间；表示列车i在车站j的到达时间；/＞表示最后一列车/＞在车站j的到达时间；/＞表示第一列车在车站j的到达时间；设置所述过渡时段标尺优化模型的时间约束为：限制列车区间运行时间为其选择的列车运行等级所对应的区间运行时间，停站时间为其选择的停站等级所对应的停站时间，具体表现为：式中，表示列车i在车站j的出发时刻；/＞表示列车i在车站j的到达时刻；/＞表示列车i在车站j是否采用停站等级n，采用取1，不采用取0；/＞表示列车在车站j停站等级n对应的停站时间；/＞表示列车i在区间j,j+1是否采用运行等级m，采用取1，不采用取0；表示列车在区间j,j+1等级m对应的运行时间；设置所述过渡时段标尺优化模型的选择唯一性约束为：限制列车在所有区间必须且只能选择一种运行等级和停站等级，具体表现为：式中，表示列车i在区间j,j+1是否采用运行等级m，采用取1，不采用取0；/＞表示列车i在车站j是否采用停站等级n，采用取1，不采用取0；设置所述过渡时段标尺优化模型的发车间隔约束为：限制不同时期始发的列车要严格执行发车间隔的约束要求，具体表现为：式中，表示列车是否在高峰时段始发，高峰时段始发取1，否则取0；表示列车是否在平峰时段始发，平峰时段始发取1，否则取0；/＞表示高峰时段最小发车间隔；/＞表示平峰时段最小发车间隔；/＞表示高峰时段最大发车间隔；/＞表示平峰时段最大发车间隔；周转时间约束：限制列车周转时间在规定时间范围内，具体表现为：式中，表示列车i在线路上终点站的到达时间；/＞表示列车i在线路上始发站的出发时间；安全约束：限制列车在各站到达、出发要满足追踪间隔时间要求，具体表现为：优选地，所述的利用求解器求解所述过渡时段标尺优化模型，求出过渡时段优化后的标尺，得到优化后的全日高平峰多标尺节能运行图，包括：基于初始全日运行图确定需要优化的过渡时段及具体列车；利用Gurobi求解器求解过渡时段标尺优化模型，得到过渡时段标尺，调整过渡时段运行线，得到优化后的全日高平峰多标尺节能运行图。由上述本发明的实施例提供的技术方案可以看出，本发明考虑客流分布特征，提出“高峰保运力，平峰降能耗”思想，从全日视角降低系统牵引能耗；同时本发明所构建模型为线性形式，复杂度低，利用通用的商业优化软件即可进行求解。本发明附加的方面和优点将在下面的描述中部分给出，这些将从下面的描述中变得明显，或通过本发明的实践了解到。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种城市轨道交通高平峰多标尺节能运行图的编制方法的处理流程图。图2为本发明实施例提供的一种计算牵引能耗算法流程图。图3为本发明实施例提供的一种某区间各运行等级对应的区间运行时间与牵引能耗示意图。图4为本发明实施例提供的一种为不同区间延长相同时间步长所带来的节能效果不同示意图。图5为本发明实施例提供的一种初始全日运行图示意图。图6为本发明实施例提供的一种优化后的高平峰多标尺节能运行图示意图。具体实施方式下面详细描述本发明的实施方式，所述实施方式的示例在附图中示出，其中自始至终相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施方式是示例性的，仅用于解释本发明，而不能解释为对本发明的限制。本技术领域技术人员可以理解，除非特意声明，这里使用的单数形式“一”、“一个”、“所述”和“该”也可包括复数形式。应该进一步理解的是，本发明的说明书中使用的措辞“包括”是指存在所述特征、整数、步骤、操作、元件和/或组件，但是并不排除存在或添加一个或多个其他特征、整数、步骤、操作、元件、组件和/或它们的组。应该理解，当我们称元件被“连接”或“耦接”到另一元件时，它可以直接连接或耦接到其他元件，或者也可以存在中间元件。此外，这里使用的“连接”或“耦接”可以包括无线连接或耦接。这里使用的措辞“和/或”包括一个或更多个相关联的列出项的任一单元和全部组合。本技术领域技术人员可以理解，除非另外定义，这里使用的所有术语具有与本发明所属领域中的普通技术人员的一般理解相同的意义。还应该理解的是，诸如通用字典中定义的那些术语应该被理解为具有与现有技术的上下文中的意义一致的意义，并且除非像这里一样定义，不会用理想化或过于正式的含义来解释。为便于对本发明实施例的理解，下面将结合附图以几个具体实施例为例做进一步的解释说明，且各个实施例并不构成对本发明实施例的限定。本发明实施例提供了一种城市轨道交通高平峰多标尺节能运行图的编制方法，该方法在保证过渡时段列车服务均衡的条件下，最大化降低系统全日列车牵引能耗。该方法的处理流程如图1所示，包括以下处理步骤：步骤S1：基于列车运行过程受力分析，结合列车运行工况，构建列车牵引能耗计算模型；步骤S2：设置列车运行的线路数据、列车数据和运营数据等列车运行基本参数，将列车运行基本参数输入到列车牵引能耗计算模型中，计算得到各区间不同运行等级对应的牵引能耗；步骤S3：基于各区间不同运行等级对应的牵引能耗，以节能指标为优化目标构建平峰时段标尺优化模型；步骤S4：利用Gurobi求解器求解平峰时段标尺优化模型，得到优化后的平峰标尺；步骤S5：根据优化后的平峰标尺和已知的高峰标尺分别铺画平峰时段和高峰时段的运行线，得到初始的高平峰多标尺全日运行图；步骤S6：基于所述高平峰多标尺全日运行图针对高平峰多标尺导致的过渡时段列车服务不均衡问题，以到发时刻均衡指标为优化目标，构建过渡时段标尺优化模型；步骤S7：利用Gurobi求解器求解过渡时段标尺优化模型，求出过渡时段优化后的标尺，得到优化后的全日高平峰多标尺节能运行图。进一步地，步骤S1中所述的列车运行工况包括牵引工况、巡航工况、惰行工况、制动工况；列车运行过程受力分析包括列车牵引力、制动力、基本阻力、坡道附加阻力；所构建的列车牵引能耗计算模型，具体如下：式中，v表示列车运行速度；X表示相邻站点之间的距离；x表示列车在站间的位置；p表示列车在速度为v，运行工况为u下牵引力；P表示列车速度为v的最大牵引力；λp表示列车在运行工况为u下的牵引力输出系数；q表示列车在速度为v，运行工况为u下制动力；Q表示列车速度为v的最大制动力；λq表示列车在运行工况为u下的制动力输出系数；r表示列车在x位置、速度为v时的运行阻力；T表示列车在站间的运行时间；Mp表示列车定员质量；α表示列车回转质量系数；ω0表示列车在速度为v时列车单位基本阻力；ω1表示列车在位置x处的列车单位坡度附加阻力；a,b,c表示列车基本阻力方程系数；θ表示列车在位置x处的坡度千分位。进一步地，步骤S2中所述的线路数据，包括线路上各车站中心公里标，站间距离X，限速段起止公里标及对应限速值V，坡道起止公里标及对应坡度θ；所述的列车数据，包括列车的编组方式，定员质量Mp，牵引特性曲线F，制动特性曲线B，基本阻力方程系数a、b、c，运行等级集合M及对应的区间运行时间tm，停站等级集合N及对应的停站时间tn；所述的运营数据，包括客流时段划分，发车间隔，周转时间；将线路数据、列车数据输入列车牵引能耗计算模型，计算得到任意j,j+1区间运行等级m对应的牵引能耗具体如下：步骤2.1、读取线路数据，获取各相邻站点间距Xj,j+1，初始化各相邻站点间线路的坡度千分位θ、线路限速段及对应限速值V，读取列车数据，获取运行列车定员质量Mp，读取列车牵引力、制动力运行离散点，读取列车阻力方程系数a、b、c。步骤2.2、初始化线路信息，根据坡度计算出各区间的线路坡度附加阻力ω0，并通过列车阻力方程系数构建列车基本阻力计算公式ω1，通过读取列车牵引力、制动力运行离散点拟合得到列车牵引力特性曲线F、制动特性曲线B。步骤2.3、计算牵引能耗，读取各区间运行等级m对应的运行时间以步长为Δt进行离散化并初始化对应等级牵引能耗e＝0、站间初始运行时间t＝0，计算对应步长下的列车牵引能耗：Δe＝p·v·Δt式中，Δe表示时间步长Δt下的列车牵引能耗；v表示列车运行速度；p表示列车在速度为v，运行工况为u下牵引力；并计算e＝e+Δe，t＝t+Δt重复上述计算过程直至得到如图2所示的区间运行等级对应的牵引能耗针对任意区间不同运行等级分别计算其牵引能耗，如图3所示为某区间各运行等级对应的区间运行时间与牵引能耗。结合图4，从全线视角出发，由于线路物理条件不同，为不同区间延长相同时间步长所带来的节能效果不同，在列车周转时间固定的前提下重新分配区间运行时间可以实现牵引能耗的降低，由此构建步骤S3中所述的平峰时段标尺优化模型，具体如下：目标函数为列车总牵引能耗最低，表现为：式中，D表示线路上的车站集合，j表示线路上第j个车站，其中j,j+1表示车站j与j+1之间的区间；/＞表示列车在区间j,j+1是否采用运行等级m，采用取1，不采用取0；/＞表示列车在区间j,j+1采用运行等级m对应的牵引能耗；选择唯一性约束：限制列车在所有区间必须且只能选择一种运行等级和停站等级，具体表现为：式中，表示列车在车站j是否采用停站等级n，采用取1，不采用取0；周转时间约束：限制列车周转时间在规定时间范围内，具体表现为：式中，表示列车在区间j,j+1等级m对应的运行时间；/＞表示列车在车站j停站等级n对应的停站时间；Tmin表示周转时间最小值；Tmax表示周转时间最大值；本发明将周转时间定义为自线路始发站出发时间起，至线路终点站到达时间至。进一步地，步骤S4中利用Gurobi求解器求解所述平峰时段标尺优化模型，得到优化后的平峰标尺。进一步地，步骤S5中根据优化后的平峰标尺和已知的高峰标尺分别铺画平峰时段和高峰时段的运行线，得到初始的高平峰多标尺全日运行图，具体如下：步骤5.1、依据历史客流数据将全日运营时间划分为高峰时段和平峰时段；步骤5.2、在高峰时段，基于已知的高峰标尺、开行方案和发车间隔，依次铺画高峰时段运行线；步骤5.3、在平峰时段，基于优化后的平峰标尺，结合平峰时段开行方案和发车间隔，依次铺画平峰时段运行线，得到初始的高平峰多标尺节能运行图。进一步地，步骤S6中所述的基于所述高平峰多标尺全日运行图针对高平峰多标尺导致的过渡时段列车服务不均衡问题，以到发时刻均衡指标为优化目标，构建过渡时段标尺优化模型，具体如下：目标函数为列车到达间隔时间标准差最小化，具体表现为：时间约束：限制列车区间运行时间为其选择的列车运行等级所对应的区间运行时间，停站时间为其选择的停站等级所对应的停站时间，具体表现为：式中，表示列车i在车站j的出发时刻；/＞表示列车i在车站j的到达时刻；选择唯一性约束：限制列车在所有区间必须且只能选择一种运行等级和停站等级，具体表现为：发车间隔约束：限制不同时期始发的列车要严格执行发车间隔的约束要求，具体表现为：式中，表示列车是否在高峰时段始发，高峰时段始发取1，否则取0；表示列车是否在平峰时段始发，平峰时段始发取1，否则取0；/＞表示高峰时段最小发车间隔；/＞表示平峰时段最小发车间隔；/＞表示高峰时段最大发车间隔；/＞表示平峰时段最大发车间隔；周转时间约束：限制列车周转时间在规定时间范围内，具体表现为：式中，表示列车i在线路上终点站的到达时间；/＞表示列车i在线路上始发站的出发时间；安全约束：限制列车在各站到达、出发要满足追踪间隔时间要求，具体表现为：进一步地，步骤S7中所述的利用Gurobi求解器求解过渡时段标尺优化模型，求出过渡时段优化后的标尺，从而得出优化后的全日高平峰多标尺节能运行图，具体如下：步骤7.1、基于初始全日运行图确定需要优化的过渡时段及具体列车；步骤7.2、利用Gurobi求解器求解过渡时段标尺优化模型，得到过渡时段标尺，调整过渡时段运行线，得到优化后的全日高平峰多标尺节能运行图。采用本发明方法，以国内某地铁线路实际线路数据进行仿真，仿真结果表明，系统全日总牵引能耗降低12.5％，达到了良好的节能效果。综上所述，本发明实施例考虑客流分布特征，提出“高峰保运力，平峰降能耗”思想，从全日视角降低系统牵引能耗。本发明从城市轨道交通系统的运营角度出发，通过调整列车运行图即可实现牵引能耗的降低，简单易行。本发明所构建的模型精确，形式简单充分考虑列车安全运行指标、运营调度指标等约束，可以满足复杂的实际应用要求。本发明所构建模型为线性形式，复杂度低，利用通用的商业优化软件即可进行求解。本领域普通技术人员可以理解：附图只是一个实施例的示意图，附图中的模块或流程并不一定是实施本发明所必须的。通过以上的实施方式的描述可知，本领域的技术人员可以清楚地了解到本发明可借助软件加必需的通用硬件平台的方式来实现。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行本发明各个实施例或者实施例的某些部分所述的方法。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于装置或系统实施例而言，由于其基本相似于方法实施例，所以描述得比较简单，相关之处参见方法实施例的部分说明即可。以上所描述的装置及系统实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性劳动的情况下，即可以理解并实施。以上所述，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应该以权利要求的保护范围为准。
