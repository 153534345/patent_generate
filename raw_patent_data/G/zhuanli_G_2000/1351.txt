标题title
基于物联网的地理信息测绘仪数据管理方法
摘要abst
本发明涉及数据处理技术领域，提出了基于物联网的地理信息测绘仪数据管理方法，包括：根据采集的三维点云数据集构建八叉树；获取八叉树的叶节点的地形险要度；获取八叉树的叶节点的地形信息纯度；进而获取叶节点的地形关键度，根据叶节点的地形关键度对八叉树进行压缩，将压缩后八叉树包含的地理信息数据存储在数据库中并建立索引，利用地理信息系统软件或可视化工具，将目标测绘区域地貌地形进行可视化展示。本发明旨在解决地理信息测绘仪数据管理的过程中，存储的数据精度不足的问题。
权利要求书clms
1.基于物联网的地理信息测绘仪数据管理方法，其特征在于，该方法包括以下步骤：采集地形三维点云数据，获取三维点云数据集，根据三维点云数据集构建八叉树；获取八叉树中叶节点的邻域密度和第一曲率，获取八叉树中叶节点的平均绝对离差，根据叶节点的邻域密度、第一曲率和平均绝对离差获取叶节点的地形险要度；获取八叉树中叶节点的颜色差异度，根据八叉树中叶节点的颜色差异度、八叉树中叶节点的邻域空间内包含的点云数据RGB三通道像素值和激光反射强度，获取叶节点的地形信息纯度；根据八叉树中叶节点的地形险要度和地形信息纯度获取叶节点的地形关键度，根据叶节点的地形关键度对八叉树进行分层和合并以完成八叉树的压缩，将压缩后八叉树包含的地理信息数据存储在数据库中并建立索引，利用地理信息系统软件或可视化工具，将目标测绘区域地貌地形进行可视化展示。2.根据权利要求1所述的基于物联网的地理信息测绘仪数据管理方法，其特征在于，所述获取三维点云数据集，包括的具体方法为：对获取的地形三维点云数据进行去噪和坐标配准，获取地形点云数据集；地形点云数据集包含的数据为点云数据，每个点云数据均包含但不限于点云数据的三维空间坐标、RGB三通道像素值、激光反射强度和曲率。3.根据权利要求2所述的基于物联网的地理信息测绘仪数据管理方法，其特征在于，所述获取八叉树中叶节点的邻域密度和第一曲率，包括的具体方法为：分别将八叉树中的每个叶节点作为待分析叶节点，以待分析叶节点为中心，建立边长为第一预设阈值的邻域空间；将待分析叶节点的邻域空间内包含的点云数据的数量与八叉树中包含的所有非空叶节点的数量的比值记为待分析叶节点的邻域密度；将待分析叶节点的邻域空间内包含的所有点云数据对应的曲率的均值记为待分析叶节点的第一曲率。4.根据权利要求3所述的基于物联网的地理信息测绘仪数据管理方法，其特征在于，所述获取八叉树中叶节点的平均绝对离差，包括的具体方法为：将待分析叶节点的邻域空间内包含的所有点云数据对应的横坐标的平均绝对离差记为待分析叶节点的第一平均绝对离差；将待分析叶节点的邻域空间内包含的所有点云数据对应的纵坐标的平均绝对离差记为待分析叶节点的第二平均绝对离差；将待分析叶节点的邻域空间内包含的所有点云数据对应的高度的平均绝对离差记为待分析叶节点的第三平均绝对离差；将待分析叶节点的第一平均绝对离差、第二平均绝对离差和第三平均绝对离差的最大值作为待分析叶节点的平均绝对离差。5.根据权利要求1所述的基于物联网的地理信息测绘仪数据管理方法，其特征在于，所述根据叶节点的邻域密度、第一曲率和平均绝对离差获取叶节点的地形险要度，包括的具体方法为：将叶节点的邻域密度、第一曲率和平均绝对离差的乘积记为叶节点的地形险要度。6.根据权利要求4所述的基于物联网的地理信息测绘仪数据管理方法，其特征在于，所述获取八叉树中叶节点的颜色差异度，包括的具体方法为：分别将待分析叶节点的邻域空间内包含的每个点云数据作为待分析点云数据；将待分析点云数据RGB三通道像素值的最大值与最小值的差值记为待分析点云数据的颜色差值；将待分析叶节点的邻域空间内包含的所有点云数据的颜色差值的和记为待分析叶节点的颜色差异度。7.根据权利要求2所述的基于物联网的地理信息测绘仪数据管理方法，其特征在于，所述根据八叉树中叶节点的颜色差异度、八叉树中叶节点的邻域空间内包含的点云数据RGB三通道像素值和激光反射强度，获取叶节点的地形信息纯度，包括的具体方法为：将八叉树中叶节点的邻域空间内包含的点云数据对应的RGB三通道中、所有通道的像素值标准差的和记为叶节点的第一通道标准差；将叶节点的邻域空间内包含的所有点云数据的激光反射强度的均值与叶节点的第一通道标准差的乘积记为叶节点的第一乘积；将叶节点的第一乘积与第一调参因子的和记为叶节点的第一和值；将叶节点的颜色差异度与叶节点的第一和值的比值记为叶节点的地形信息纯度。8.根据权利要求1所述的基于物联网的地理信息测绘仪数据管理方法，其特征在于，所述根据八叉树中叶节点的地形险要度和地形信息纯度获取叶节点的地形关键度，包括的具体方法为：将八叉树中叶节点的地形险要度与地形信息纯度的比值的归一化值记为叶节点的地形关键度。9.根据权利要求1所述的基于物联网的地理信息测绘仪数据管理方法，其特征在于，所述根据叶节点的地形关键度对八叉树进行分层和合并以完成八叉树的压缩，包括的具体方法为：当叶节点的地形关键度大于第一预设阈值时，认为叶节点为关键地形叶节点，从关键地形叶节点处继续递归分层；当递归分层后的叶节点的地形关键度指标大于第一预设阈值时，认为递归分层后的叶节点为关键地形叶节点，继续递归，同时，需要保证不超过最大递归深度；当递归分层后的叶节点的地形关键度指标小于等于第二预设阈值时，进行合并，将进行合并的叶节点与26邻域立体空间中其他进行合并的叶节点合并为父节点；在对进行合并的叶节点进行合并时，将地形关键度最小的叶节点合并至地形关键度最大的叶节点中，重复合并步骤，直至所有叶节点的地形关键度指标都大于第二预设阈值。10.根据权利要求1所述的基于物联网的地理信息测绘仪数据管理方法，其特征在于，所述将压缩后八叉树包含的地理信息数据存储在数据库中并建立索引，利用地理信息系统软件或可视化工具，将目标测绘区域地貌地形进行可视化展示，包括的具体方法为：将压缩后的八叉树数据存储在数据库中，便于数据的检索和查询，其中，数据库为能够处理点云数据和地理信息的数据库；根据数据表的字段特性，创建空间索引和属性索引，加速查询操作；利用地理信息系统软件或可视化工具，将查询到的地形数据进行可视化展示。
说明书desc
技术领域本发明涉及数据处理技术领域，具体涉及基于物联网的地理信息测绘仪数据管理方法。背景技术地理信息测绘仪是一种用于获取地理空间数据的仪器设备。它通常包括全球定位系统接收器、激光测距仪、摄影测量仪、雷达测量仪等多种传感器和测量设备，用于测量地理位置、地形、地貌等信息，并将这些信息转化为数字化的地理信息数据。地理信息测绘仪在土地规划、城市规划、环境保护、农业、林业、地质勘探、测绘地理信息系统等领域广泛应用，帮助人们更好地了解和管理地理空间数据，为决策提供科学依据。地理信息测绘仪获取的三维点云数据量巨大，在对这些三维点云数据进行管理时，常用八叉树算法对点云数据进行分层表示和压缩，在减小存储空间。但是，在八叉树算法对点云数据进行压缩的过程中，会造成数据精度的损失，所以，需要一种能够平衡点云数据精度与压缩率的压缩方式，在保证较高压缩率的前提下提升数据管理的精度。发明内容本发明提供基于物联网的地理信息测绘仪数据管理方法，以解决地理信息测绘仪数据管理的过程中，存储的数据精度不足的问题，所采用的技术方案具体如下：本发明一个实施例提供了基于物联网的地理信息测绘仪数据管理方法，该方法包括以下步骤：采集地形三维点云数据，获取三维点云数据集，根据三维点云数据集构建八叉树；获取八叉树中叶节点的邻域密度和第一曲率，获取八叉树中叶节点的平均绝对离差，根据叶节点的邻域密度、第一曲率和平均绝对离差获取叶节点的地形险要度；获取八叉树中叶节点的颜色差异度，根据八叉树中叶节点的颜色差异度、八叉树中叶节点的邻域空间内包含的点云数据RGB三通道像素值和激光反射强度，获取叶节点的地形信息纯度；根据八叉树中叶节点的地形险要度和地形信息纯度获取叶节点的地形关键度，根据叶节点的地形关键度对八叉树进行分层和合并以完成八叉树的压缩，将压缩后八叉树包含的地理信息数据存储在数据库中并建立索引，利用地理信息系统软件或可视化工具，将目标测绘区域地貌地形进行可视化展示。进一步，所述获取三维点云数据集，包括的具体方法为：对获取的地形三维点云数据进行去噪和坐标配准，获取地形点云数据集；地形点云数据集包含的数据为点云数据，每个点云数据均包含但不限于点云数据的三维空间坐标、RGB三通道像素值、激光反射强度和曲率。进一步，所述获取八叉树中叶节点的邻域密度和第一曲率，包括的具体方法为：分别将八叉树中的每个叶节点作为待分析叶节点，以待分析叶节点为中心，建立边长为第一预设阈值的邻域空间；将待分析叶节点的邻域空间内包含的点云数据的数量与八叉树中包含的所有非空叶节点的数量的比值记为待分析叶节点的邻域密度；将待分析叶节点的邻域空间内包含的所有点云数据对应的曲率的均值记为待分析叶节点的第一曲率。进一步，所述获取八叉树中叶节点的平均绝对离差，包括的具体方法为：将待分析叶节点的邻域空间内包含的所有点云数据对应的横坐标的平均绝对离差记为待分析叶节点的第一平均绝对离差；将待分析叶节点的邻域空间内包含的所有点云数据对应的纵坐标的平均绝对离差记为待分析叶节点的第二平均绝对离差；将待分析叶节点的邻域空间内包含的所有点云数据对应的高度的平均绝对离差记为待分析叶节点的第三平均绝对离差；将待分析叶节点的第一平均绝对离差、第二平均绝对离差和第三平均绝对离差的最大值作为待分析叶节点的平均绝对离差。进一步，所述根据叶节点的邻域密度、第一曲率和平均绝对离差获取叶节点的地形险要度，包括的具体方法为：将叶节点的邻域密度、第一曲率和平均绝对离差的乘积记为叶节点的地形险要度。进一步，所述获取八叉树中叶节点的颜色差异度，包括的具体方法为：分别将待分析叶节点的邻域空间内包含的每个点云数据作为待分析点云数据；将待分析点云数据RGB三通道像素值的最大值与最小值的差值记为待分析点云数据的颜色差值；将待分析叶节点的邻域空间内包含的所有点云数据的颜色差值的和记为待分析叶节点的颜色差异度。进一步，所述根据八叉树中叶节点的颜色差异度、八叉树中叶节点的邻域空间内包含的点云数据RGB三通道像素值和激光反射强度，获取叶节点的地形信息纯度，包括的具体方法为：将八叉树中叶节点的邻域空间内包含的点云数据对应的RGB三通道中、所有通道的像素值标准差的和记为叶节点的第一通道标准差；将叶节点的邻域空间内包含的所有点云数据的激光反射强度的均值与叶节点的第一通道标准差的乘积记为叶节点的第一乘积；将叶节点的第一乘积与第一调参因子的和记为叶节点的第一和值；将叶节点的颜色差异度与叶节点的第一和值的比值记为叶节点的地形信息纯度。进一步，所述根据八叉树中叶节点的地形险要度和地形信息纯度获取叶节点的地形关键度，包括的具体方法为：将八叉树中叶节点的地形险要度与地形信息纯度的比值的归一化值记为叶节点的地形关键度。进一步，所述根据叶节点的地形关键度对八叉树进行分层和合并以完成八叉树的压缩，包括的具体方法为：当叶节点的地形关键度大于第一预设阈值时，认为叶节点为关键地形叶节点，从关键地形叶节点处继续递归分层；当递归分层后的叶节点的地形关键度指标大于第一预设阈值时，认为递归分层后的叶节点为关键地形叶节点，继续递归，同时，需要保证不超过最大递归深度；当递归分层后的叶节点的地形关键度指标小于等于第二预设阈值时，认为递归分层后的叶节点对应的山体位置包含的地形信息较少，可以进行合并，将可以进行合并的叶节点与26邻域立体空间中其他可以进行合并的叶节点合并为父节点；在对可以进行合并的叶节点进行合并时，将地形关键度最小的叶节点合并至地形关键度最大的叶节点中，重复合并步骤，直至所有叶节点的地形关键度指标都大于第二预设阈值。进一步，所述将压缩后八叉树包含的地理信息数据存储在数据库中并建立索引，利用地理信息系统软件或可视化工具，将目标测绘区域地貌地形进行可视化展示，包括的具体方法为：将压缩后的八叉树数据存储在数据库中，便于数据的检索和查询，其中，数据库为能够处理点云数据和地理信息的数据库；根据数据表的字段特性，创建空间索引和属性索引，加速查询操作；利用地理信息系统软件或可视化工具，将查询到的地形数据进行可视化展示。本发明的有益效果是：本发明根据采集的地形三维点云数据构建八叉树，对八叉树的不同叶节点进行分析，根据叶节点的邻域密度、第一曲率和平均绝对离差获取叶节点的地形险要度，获取对叶节点包含的数据信息的重要程度的判断结果；根据叶节点的邻域空间对应植被覆盖区域的可能性获取叶节点的地形信息纯度；根据八叉树中叶节点的地形险要度和地形信息纯度获取叶节点的地形关键度，根据叶节点的地形关键度对八叉树进行分层和合并以完成八叉树的压缩，实现对包含的数据信息的重要程度较大的叶节点进行保留和继续递归、对包含的数据信息的重要程度较小的叶节点进行合并的目的，解决地理信息测绘仪数据管理的过程中，存储的数据精度不足的问题，在保证较高压缩率的前提下提升数据精度。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明一个实施例所提供的基于物联网的地理信息测绘仪数据管理方法流程示意图；图2为八叉树示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，其示出了本发明一个实施例所提供的基于物联网的地理信息测绘仪数据管理方法流程图，该方法包括以下步骤：步骤S001、采集地形三维点云数据，获取三维点云数据集，根据三维点云数据集构建八叉树。在目标测绘山体区域部署地理信息测绘仪，用以采集地形三维点云数据，将设备通过物联网连接到云平台，以定期批处理的方式将采集的地形三维点云数据传输到数据中心，实施者可根据目标测绘区域所采集数据量确定定期时长,定期时长经验值取30分钟。对从云平台获取的地形三维点云数据进行数据清洗，数据清洗包括去噪和坐标配准。对地形三维点云数据使用高斯滤波去噪并使用ICP迭代最近点算法将采集的点云与现有地理坐标系中的数据进行匹配和校准，获取地形点云数据集。其中，高斯滤波去噪以及ICP迭代最近点算法为公知技术，不再赘述。其中，地形点云数据集即测绘山体区域的三维点云数据集，包含多个点云数据，每个点云数据均包含点云数据的三维空间坐标、RGB三通道像素值、激光反射强度和曲率。根据地形点云数据集构建八叉树，八叉树的构建从根节点开始，将点云数据所包含的三维空间坐标轴作为八叉树的三维空间的坐标轴，将所有点分配到根节点所表示的空间中。其中，八叉树将根节点对应的三维空间递归地平均划分成八个相同大小的子立方体，每个子立方体对应于八叉树的一个叶节点，直到每个叶节点包含的点数不超过预定义的阈值或达到最大递归深度，八叉树示意图如图2所示。其中，最大递归深度需要结合测绘场景、查询速率要求以及本地服务器存储空间进行设置，本实施例中，测绘对象为不规则山体，点云数据分布稀疏程度不同，且对于查询速率要求适中，最大递归深度经验值取10，实施者也可以根据实际情况对最大递归深度进行选取。至此，获取根据地形三维点云数据构建的八叉树。步骤S002、获取八叉树中叶节点的邻域密度和第一曲率，获取八叉树中叶节点的平均绝对离差，根据叶节点的邻域密度、第一曲率和平均绝对离差获取叶节点的地形险要度。八叉树构建完成后，该地形点云数据集对应八叉树会占用更大的储存空间，需要对八叉树的不同叶节点进行分析，根据分析结果决定叶节点继续递归还是合并，对八叉树进行压缩，在保证保留点云数据精度的前提下尽提高压缩率，使地形点云数据集的八叉树占用更少的存储空间。分别将八叉树中的每个叶节点作为待分析叶节点，以待分析叶节点为中心，建立边长为第一预设阈值的邻域空间。其中，第一预设阈值的经验值为3。将待分析叶节点的邻域空间内包含的点云数据的数量与八叉树中包含的所有非空叶节点的数量的比值记为待分析叶节点的邻域密度。当待分析叶节点的邻域密度越大时，待分析叶节点的邻域空间内点云数据的密度越大，待分析叶节点对应的山体位置越有可能为山体的险要地形位置，如沟壑，断层等。将待分析叶节点的邻域空间内包含的所有点云数据对应的曲率的均值记为待分析叶节点的第一曲率。当待分析叶节点的第一曲率越大时，待分析叶节点的邻域空间内点云数据对应的山体位置越为陡峭，待分析叶节点对应的山体位置越有可能为山体的险要地形位置，如沟壑，断层等。将待分析叶节点的邻域空间内包含的所有点云数据对应的横坐标的平均绝对离差记为待分析叶节点的第一平均绝对离差，将待分析叶节点的邻域空间内包含的所有点云数据对应的纵坐标的平均绝对离差记为待分析叶节点的第二平均绝对离差，将待分析叶节点的邻域空间内包含的所有点云数据对应的高度的平均绝对离差记为待分析叶节点的第三平均绝对离差。将待分析叶节点的第一平均绝对离差、第二平均绝对离差和第三平均绝对离差的最大值作为待分析叶节点的平均绝对离差。当待分析叶节点的平均绝对离差越大时，待分析叶节点的邻域空间内点云数据对应的山体位置的立体邻域空间内，横坐标方向、纵坐标方向或高度方向中至少一个方向的数据平稳性较低，待分析叶节点的邻域空间内点云数据对应的山体位置越为崎岖，即待分析叶节点对应的山体位置越有可能为山体的险要地形位置，如沟壑，断层等。根据叶节点的邻域密度、第一曲率和平均绝对离差获取叶节点的地形险要度。式中，为八叉树中的第/＞个叶节点的地形险要度；/＞为八叉树中的第/＞个叶节点的邻域密度；/＞为八叉树中的第/＞个叶节点的第一曲率；/＞为八叉树中的第/＞个叶节点的地形险要度。当叶节点的邻域密度、第一曲率和平均绝对离差越大时，叶节点的地形险要度越大，即叶节点对应的山体位置越有可能为山体的险要地形位置，如沟壑，断层等。至此，获取八叉树中叶节点的地形险要度。步骤S003、获取八叉树中叶节点的颜色差异度，根据八叉树中叶节点的颜色差异度、八叉树中叶节点的邻域空间内包含的点云数据RGB三通道像素值和激光反射强度，获取叶节点的地形信息纯度。分别将待分析叶节点的邻域空间内包含的每个点云数据作为待分析点云数据，将待分析点云数据RGB三通道像素值的最大值与最小值的差值记为待分析点云数据的颜色差值。将待分析叶节点的邻域空间内包含的所有点云数据的颜色差值的和记为待分析叶节点的颜色差异度。当叶节点的颜色差异度越大时，叶节点的邻域空间对应的山体色彩越单调、越有可能为植被均匀覆盖区域。获取叶节点的地形信息纯度。式中，为八叉树中的第/＞个叶节点的地形信息纯度；/＞为八叉树中的第/＞个叶节点的颜色差异度；/＞为八叉树中的第/＞个叶节点的邻域空间内包含的所有点云数据在R通道的像素值的标准差；/＞为八叉树中的第/＞个叶节点的邻域空间内包含的所有点云数据在G通道的像素值的标准差；/＞为八叉树中的第/＞个叶节点的邻域空间内包含的所有点云数据在B通道的像素值的标准差；/＞为八叉树中的第/＞个叶节点的邻域空间内包含的所有点云数据的激光反射强度的均值；/＞为第一调参因子，作用为避免分母为0导致分式无意义，经验值取0.001。当叶节点的邻域空间内包含的所有点云数据在R、G、B三通道的像素值的标准差越小，叶节点的邻域空间内包含的所有点云数据的激光反射强度的均值越小，待分析叶节点的颜色差异度越大时，叶节点的地形信息纯度越大，叶节点的邻域空间越可能对应植被覆盖区域。至此，获取叶节点的地形信息纯度。步骤S004、根据八叉树中叶节点的地形险要度和地形信息纯度获取叶节点的地形关键度，根据叶节点的地形关键度对八叉树进行分层和合并以完成八叉树的压缩，将压缩后八叉树包含的地理信息数据存储在数据库中并建立索引，利用地理信息系统软件或可视化工具，将目标测绘区域地貌地形进行可视化展示。将八叉树中叶节点的地形险要度与地形信息纯度的比值的归一化值记为叶节点的地形关键度。叶节点的地形关键度评价了叶节点对应的山体位置地形的关键程度，越关键的山体地形对应的叶节点所包含的点云数据可以提供越重要的地形信息，越应该从叶节点处继续进行递归生成更多的叶节点。其中，关键的山体地形包含峰顶、悬崖、断层等。当叶节点的地形关键度大于第一预设阈值时，认为叶节点为关键地形叶节点，从关键地形叶节点处继续递归分层；当递归分层后的叶节点的地形关键度指标大于第一预设阈值时，认为递归分层后的叶节点为关键地形叶节点，继续递归，同时，需要保证不超过最大递归深度；当递归分层后的叶节点的地形关键度指标小于等于第二预设阈值时，认为递归分层后的叶节点对应的山体位置包含的地形信息较少，可以进行合并，将可以进行合并的叶节点与26邻域立体空间中其他可以进行合并的叶节点合并为父节点。其中，在对可以进行合并的叶节点进行合并时，将地形关键度较小的叶节点合并至地形关键度较大的叶节点中，重复合并步骤，直至所有叶节点的地形关键度指标都大于第二预设阈值。其中，第一预设阈值和第二预设阈值的经验值分别为0.8和0.4，至此，完成八叉树的数据压缩过程。将压缩后的八叉树数据存储在数据库中，便于数据的检索和查询，实施者可以选择适合地理数据存储的数据库，例如PostgreSQL、PostGIS、SQLite等，以确保数据库能够处理点云数据和地理信息。根据数据表的字段特性，创建适当的空间索引和属性索引，以加速查询操作，例如，对于地理坐标，使用GIS数据库可以创建空间索引，对于其他属性，创建普通属性索引。利用地理信息系统软件或可视化工具，将查询到的地形数据进行可视化展示，完成对地理信息测绘仪数据的管理。其中，地理信息系统软件包括ArcGIS、QGIS等，可视化工具包括Matplotlib、OpenGL等。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
