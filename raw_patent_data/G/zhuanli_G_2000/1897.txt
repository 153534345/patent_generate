标题title
基于协作分布式MPC的异构无人机集群搜索算法
摘要abst
本发明公开了一种基于协作分布式MPC的异构无人机集群搜索算法，涉及无人机搜索航路规划技术领域，包括：基于侦察态势模型、约束条件和无人机侦察性能指标函数，考虑优化协作无人机集合内的目标函数之和，构建多无人机协同目标侦察控制问题的分布式滚动时域优化模型，基于该分布式滚动时域优化模型得到无人机的控制输入序列，协作无人机集合指的是对于某架无人机，除自身之外的其它无人机的集合；无人机侦察性能指标函数基于敌方目标在未来的预测位置构建得到，敌方目标在未来的预测位置是采用多项式拟合方法得到。本发明具有模型可扩展性，能降低单步计算复杂度和计算时间，提升控制性能、搜索效率和安全性。
权利要求书clms
1.一种基于协作分布式MPC的异构无人机集群搜索算法，其特征在于，基于侦察态势模型、约束条件和无人机侦察性能指标函数，考虑优化协作无人机集合内的目标函数之和，构建多无人机协同目标侦察控制问题的分布式滚动时域优化模型，基于该分布式滚动时域优化模型得到无人机的控制输入序列，协作无人机集合/＞指的是对于某架无人机，除自身之外的其它无人机的集合；侦察态势模型包括环境模型、无人机传感器探测模型、无人机平台模型和目标模型，无人机传感器探测模型包括探测概率、识别概率、虚警概率和可探测的区域范围，目标模型是根据搜索目标的速度和预测位置构建；无人机侦察性能指标函数基于环境侦察收益和任务执行代价构建得到，环境侦察收益基于敌方目标在未来的预测位置构建得到，敌方目标在未来的预测位置是采用多项式拟合方法得到。2.根据权利要求1所述基于协作分布式MPC的异构无人机集群搜索算法，其特征在于，无人机平台模型为：xi＝f,ui),i＝1,2,…,Nv,j＝1,2,…,Tp其中，f为无人机状态更新方程，Tp为预测时域，Nv为无人机集群数量；xi＝其中，xi，yi分别为无人机Ai在环境模型的任务区域地图x轴和y轴的位置，Vi为无人机Ai的飞行速度的大小，φi为无人机Ai速度方向与环境模型的任务区域地图x轴正半轴的夹角，μi为无人机的滚转角，g为重力常数，nz,i为无人机的法向过载，在所有无人机的飞行高度一致且匀速飞行的情况下，无人机平台的控制量被简化方向角的变化量Δφi，即ui＝Δφi。3.根据权利要求2所述基于协作分布式MPC的异构无人机集群搜索算法，其特征在于，目标模型为：其中，Vtarget为目标在时刻t的速度，xtarget为目标在时刻t的位置。4.根据权利要求3所述基于协作分布式MPC的异构无人机集群搜索算法，其特征在于，约束条件包括环境约束、避碰约束、避障约束和无人机转弯半径约束；环境约束为：xmin≤xi≤xmaxymin≤yi≤ymax其中，xmin，xmax表示环境模型的任务区域地图x方向上的地图范围，ymin，ymax表示环境模型的任务区域地图y方向上的地图范围；避碰约束为：||xi-xj||≥R1其中，xi，xj分别代表无人机Ai，Aj在t时刻的位置，R1代表机间安全距离；避障约束为：||xi-xo||≥R2其中，xi代表无人机Ai在t时刻的位置，xo代表禁飞区位置，R2代表无人机集群与禁飞区之间的安全距离；无人机转弯半径约束为：-φi,max≤ui≤φi,max其中，φi,max为无人机Ai速度方向与环境模型的任务区域地图x轴正半轴的最大夹角。5.根据权利要求4所述基于协作分布式MPC的异构无人机集群搜索算法，其特征在于，无人机侦察性能指标函数为：其中，权重k1，k2满足k1+k2＝1；环境侦察收益其中，Pil,i＝q,…,Tp代表无人机Ai在t时刻预测的第l条路径上第q个航迹点，Φi,t表示当无人机Ai在t时刻，其传感器的探测靶面集合，Φi,t根据无人机传感器探测模型得到，ηi,c,t为网格路径点c内的不确定度，根据敌方目标在未来的预测位置得到ηi,c,t；任务执行代价其中，ui表示无人机Ai在路径点Pil处的航向。6.根据权利要求5所述基于协作分布式MPC的异构无人机集群搜索算法，其特征在于，不确定度ηi,c,t的更新方法包括：定义在环境模型的任务区域网格地图的网格路径点c内，对目标的识别概率pc,t∈，即pc,t＝0表示网格路径点c内不存在目标，pc,t＝1表示网格路径点c内存在目标，网格路径点c的不确定度ηi,c,t的更新公式为：其中，Kγ＞0，为常数系数，决定了函数的陡峭程度，|·|表示取绝对值；定义τ＝1表示网格路径点c中存在目标，τ＝0表示事件网格路径点c中不存在目标，Ωi,c,t＝1表示在t时刻无人机Ai搜索到任务区域Ω的网格路径点c中存在目标，即敌方目标在t时刻，到达了t时刻前预测的敌方目标在t时刻的位置，Ωi,c,t＝0表示在t时刻无人机Ai搜索到网格路径点c中不存在目标，即敌方目标在t时刻，没有到达t时刻前预测的敌方目标在t时刻的位置，定义变量：因此，概率地图线性更新公式为：Πc,t＝Πc,t-1+λi,c,t其中，pi,d，pi,f分别为无人机传感器的虚警概率和检测概率，即pi,d＝p,pi,f＝p，则不确定度ηi,c,t更新为：7.根据权利要求6所述基于协作分布式MPC的异构无人机集群搜索算法，其特征在于，多无人机协同目标侦察控制问题的分布式滚动时域优化模型为：其中，Ji表示无人机Ai在滚动时域Tp内优化的侦察性能指标函数，和Ui分别为无人机Ai在滚动时域内的状态预测序列和控制输入序列，fi表示无人机Ai的状态更新方程，/＞和/＞表示除无人机Ai之外的其他无人机在滚动时域t∈内的状态预测序列和控制输入预测序列，α为协作权重系数，/＞为无人机Ai的协作无人机集合。8.根据权利要求7所述基于协作分布式MPC的异构无人机集群搜索算法，其特征在于，获取敌方目标在未来的预测位置的方法具体包括：将敌方目标的位置坐标独立地定义为与时间相关的2个多项式形式：δ＝其中，ax0，ax1，ax2为待拟合系数，tp为预测采样时域，即收集目标在过去的位置历史信息，将其近似为多项式；设定采样周期tp，对敌方目标历史时间窗口的历史轨迹进行采样，对其运动轨迹进行拟合，得到各多项式中的待定系数ax0，ax1，ax2后，由此外推至未来的异构多无人机集群协同搜索算法，针对运动目标或者时敏目标，利用协作分布式算法，为异构无人机集群进行协同航迹规划。本发明采取的技术方案如下：一种基于协作分布式MPC的异构无人机集群搜索算法，基于侦察态势模型、约束条件和无人机侦察性能指标函数，考虑优化协作无人机集合内的目标函数之和，构建多无人机协同目标侦察控制问题的分布式滚动时域优化模型，基于该分布式滚动时域优化模型得到无人机的控制输入序列，协作无人机集合/＞指的是对于某架无人机，除自身之外的其它无人机的集合；侦察态势模型包括环境模型、无人机传感器探测模型、无人机平台模型和目标模型，无人机传感器探测模型包括探测概率、识别概率、虚警概率和可探测的区域范围，目标模型是根据搜索目标的速度和预测位置构建；无人机侦察性能指标函数基于环境侦察收益和任务执行代价构建得到，环境侦察收益基于敌方目标在未来的预测位置构建得到，敌方目标在未来的预测位置是采用多项式拟合方法得到。在本发明的一较佳实施方式中，无人机平台模型为：xi＝f,ui),i＝1,2,…,Nv,j＝1,2,Nv,＝1,2…,Tp其中，f为无人机状态更新方程，Tp为预测时域，Nv为无人机集群数量；xi＝其中，xi，yi分别为无人机Ai在环境模型的任务区域地图x轴和y轴的位置，Vi为无人机Ai的飞行速度的大小，φi为无人机Ai速度方向与环境模型的任务区域地图x轴正半轴的夹角，μi为无人机的滚转角，g为重力常数，nz,i为无人机的法向过载，在所有无人机的飞行高度一致且匀速飞行的情况下，无人机平台的控制量被简化方向角的变化量Δφi，即ui＝Δφi。在本发明的一较佳实施方式中，目标模型为：其中，Vtarget为目标在时刻t的速度，xtarget为目标在时刻t的位置。在本发明的一较佳实施方式中，约束条件包括环境约束、避碰约束、避障约束和无人机转弯半径约束；环境约束为：xmin≤xi≤xmaxymin≤yi≤ymax其中，xmin，xmax表示环境模型的任务区域地图x方向上的地图范围，ymin，ymax表示环境模型的任务区域地图y方向上的地图范围；避碰约束为：||xi-xj||≥R1其中，xi，xj分别代表无人机Ai，Aj在t时刻的位置，R1代表机间安全距离；避障约束为：||xi-xo||≥R2其中，xi代表无人机Ai在t时刻的位置，xo代表禁飞区位置，R2代表无人机集群与禁飞区之间的安全距离；无人机转弯半径约束为：-φi,max≤ui≤φi,max其中，φi,max为无人机Ai速度方向与环境模型的任务区域地图x轴正半轴的最大夹角。在本发明的一较佳实施方式中，无人机侦察性能指标函数为：其中，权重k1，k2满足k1+k2＝1；环境侦察收益其中，Pil,i＝q,…,Tp代表无人机Ai在t时刻预测的第l条路径上第q个航迹点，Φi,t示当无人机Ai在t时刻，其传感器的探测靶面集合，Φi,t根据无人机传感器探测模型得到，ηi,c,t为网格路径点c内的不确定度，根据敌方目标在未来的预测位置得到ηi,c,t；任务执行代价其中，ui表示无人机Ai在路径点Pil处的航向。在本发明的一较佳实施方式中，不确定度ηi,c,t的更新方法包括：定义在环境模型的任务区域网格地图的网格路径点c内，对目标的识别概率pc,t∈，即pc,t＝0表示网格路径点c内不存在目标，pc,t＝1表示网格路径点c内存在目标，网格路径点c的不确定度ηi,c,t的更新公式为：其中，Kγ＞0，为常数系数，决定了函数的陡峭程度，|·|表示取绝对值；定义τ＝1表示网格路径点c中存在目标，τ＝0表示事件网格路径点c中不存在目标，Ωi,c,t＝1表示在t时刻无人机Ai搜索到任务区域Ω的网格路径点c中存在目标，即敌方目标在t时刻，到达了t时刻前预测的敌方目标在t时刻的位置，Ωi,c,t＝0表示在t时刻无人机Ai搜索到网格路径点c中不存在目标，即敌方目标在t时刻，没有到达t时刻前预测的敌方目标在t时刻的位置，定义变量：因此，概率地图线性更新公式为：Πc,t＝Πc,t-1+λi,c,t其中，pi,d，pi,f分别为无人机传感器的虚警概率和检测概率，即pi,d＝p,pi,f＝p，则不确定度ηi,c,t更新为：在本发明的一较佳实施方式中，多无人机协同目标侦察控制问题的分布式滚动时域优化模型为：其中，Ji表示无人机Ai在滚动时域Tp内优化的侦察性能指标函数，和Ui分别为无人机Ai在滚动时域内的状态预测序列和控制输入序列，fi表示无人机Ai的状态更新方程，/＞和/＞表示除无人机Ai之外的其他无人机在滚动时域t∈内的状态预测序列和控制输入预测序列，α为协作权重系数，/＞为无人机Ai的协作无人机集合。在本发明的一较佳实施方式中，获取敌方目标在未来的预测位置的方法具体包括：将敌方目标的位置坐标独立地定义为与时间相关的2个多项式形式：δ＝其中，ax0，ax1，ax2为待拟合系数，tp为预测采样时域，即收集目标在过去的位置历史信息，将其近似为多项式；设定采样周期tp，对敌方目标历史时间窗口的历史轨迹进行采样，对其运动轨迹进行拟合，得到各多项式中的待定系数ax0，ax1，ax2后，由此外推至未来考虑搭载不同载荷的无人机集群的协同搜索路径规划问题，具有模型可扩展性，可适应不同参数不同运动约束的无人机集群；针对无人机集群内的协同目标，采用的协作分布式MPC通过同时优化协作集内的目标函数之和，促进了机间的协作，相比较集中式的方法，可以降低单步计算复杂度和计算时间。相比较分布式的方法，可以提升控制性能。采用多项式拟合对敌方动态目标位置进行预测，提高了搜索效率。并考虑了敌方的威胁区域避障，在高效搜索目标的同时，可以满足安全约束。为使本发明的上述目的、特征和优点能更明显易懂，下文特举本发明实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1是实施方式中任务区域栅格化后形成的地图；图2是实施方式中的雷达探测范围示意图；图3是实施方式中的无人机搜索轨迹图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。问题描述异构多无人机集群协同搜索场景描述如下：Nv架无人机对未知区域Ω中的NT个目标执行侦察任务。无人机用编号Ai表示，敌方目标用编号Ti来表示。异构无人机协同侦察的任务是指无人机通过搭载的不同载荷对目标区域Ω进行探测，实时获取目标数量和位置分布等信息。本发明考虑的场景是异构无人机集群对地面多个目标进行协同搜索，同时规避敌方威胁区。针对本研究的协同侦察问题的需求，本发明提供一种基于协作分布式MPC的异构无人机集群搜索算法，建立了环境模型、无人机传感器探测模型、无人机平台模型以及目标模型，进一步考虑环境约束、避碰约束、避障约束和无人机性能约束，结合搜索性能指标，构造协同搜索优化问题。1.侦察态势模型环境模型在实际情况中，多无人机在执行协同侦察任务时，面临的环境因素非常复杂，本发明将环境模型抽象成一定范围内的栅格化地图。通过已知的地理位置和环境边界信息，将任务区域栅格化，并定义环境矩阵。每架无人机都在执行任务前获得已知先验信息，并保存已知地图。将任务区域Ω离散成个网格，构建图1所示的环境地图，即环境模型即以Δx，Δy为x、y两个方向上的长度，栅格化之后的地图模型，对应图1。其中，第m行第n列的网格的编号用c来表示，c＝m+×Lx并且c∈{1,2,…,Lx×Ly}。网格c的长度和宽度为Δx和Δy，可选取为无人机在单位时间步长内的平均飞行距离。在侦察开始前，由于整个区域的环境信息完全未知，且需要对整个区域展开覆盖侦察。随着侦察的进行，地图信息实时变化，覆盖分布地图实时更新，并在多机集群通信网络内共享，为无人机的实时决策提供环境信息。任务区域不考虑地势高低的变化，即将侦察任务区域视为水平面。无人机传感器探测模型无人机进行侦察任务时，通过无人机的传感器来获取未知信息，传感器侦察的能力直接影响着无人机协同侦察的效果。本发明所述的无人机传感器探测模型包括探测概率、识别概率、虚警概率和可探测的区域范围，具体如下：1)探测概率为发现搜索目标的概率pd。即当目标处于无人机的可探测范围内时，无人机发现目标的概率。2)识别概率为识别搜索目标的概率pc。即在发现目标后，无人机能正确识别出任务待侦察目标的概率。3)虚警概率为误识别搜索目标的概率pf。即当前区域不存在目标，但是无人机检测到该区域存在目标这一事件的概率。4)可探测的区域范围设雷达在方位面的最大覆盖角度为在无人机正下方存在半径为dmin的扇形探测盲区。无人机雷达的搜索范围在地面的投影则为如图2所示的扇面，即灰色区域。无人机平台模型由于无人机侦察时的飞行高度需依据传感器的视角、摄像头的分辨率等许多限制来提前设定好，在执行任务时一般不改变飞行高度与速度。构建无人机的运动模型为：其中，xi，yi分别为无人机Ai在x轴和y轴的位置，Vi为无人机Ai的飞行速度的大小，φi为无人机Ai速度方向与x轴正半轴的夹角，μi为无人机的滚转角，g为重力常数，nz,i为无人机的法向过载。在所有无人机的飞行高度一致且匀速飞行的情况下，无人机平台的控制量被简化方向角的变化量，即Δφi。记无人机Ai的状态量为xi＝，因此，根据方程，可得到无人机Ai的预测方程，即最终的无人机平台模型为：xi＝f,ui),i＝1,2,…,Nv,j＝1,2,…,Tp 其中，f为无人机状态更新方程，ui＝Δφi,Tp为预测时域，Nv为无人机集群数量。目标模型考虑到敌方目标的动态特性，需要对目标运动模型进行建模。本发明考虑动态目标在待搜索区域做匀速运动，因此目标模型如下：其中，Vtarget为敌方目标的运动速度，xtarget为敌方目标的位置。2、约束条件环境约束由于搜索区域存在边界，因此在无人机执行搜索任务时，需考虑搜索地图边界约束，即环境约束：其中，xmin，xmax表示x方向上的地图范围，ymin，ymax表示y方向上的地图范围。避碰约束在执行任务时，与单架无人机相比，多无人机协同侦察需要考虑机间碰撞的问题。由于无人机漂移、气流影响等固有因素的存在，多无人机执行任务时必须设定安全距离，否则轻则导致无人机相互干扰，重则多架撞机坠毁，因此本发明设定无人机间的安全距离，即避碰约束：||xi-xj||≥R1 其中，xi，xj分别代表无人机Ai，Aj在t时刻的位置，R1代表机间安全距离。避障约束在执行任务时，由于敌方威胁区或者障碍物的存在，我方异构无人机集群需要在规划飞行轨迹的同时，避开禁飞区域，即避障约束为：||xi-xo||≥R2 其中，xi代表无人机Ai在t时刻的位置，xo代表t时刻的禁飞区位置，R2代表无人机集群与禁飞区之间的安全距离。无人机转弯半径约束由于无人机的自身性能受限，在高速飞行的过程中，无人机的转弯半径受到限制。即，无人机的控制量ui需要满足无人机转弯半径约束：-φi,max≤ui≤φi,max 其中，φi,max为无人机Ai速度方向与地图x轴正半轴的最大夹角。3、无人机集群分布式协同目标侦察控制无人机侦察性能指标函数在设计无人机侦察性能指标函数时，本发明考虑：环境侦察收益，即使得无人机能够尽可能地去探测不确定度较高的未知区域，环境侦察收益是由搜索路径上航迹网格路径点c内的不确定度之和决定，在具有一定先验信息下，目标预测位置不确定度最高，已经搜索过的区域不确定度最低；任务执行代价，即使得无人机尽量保持直飞的状态，减少转弯机动的次数，即搜索路径上偏航角的变化量之和。因此无人机侦察性能指标函数是一个多目标函数。1)环境侦察收益定义无人机Ai的侦察路径上的环境侦察收益为：其中，Pil,i＝q,…,Tp代表无人机Ai在t时刻预测的第l条路径上第q个航迹点，Φi,t表示当无人机Ai在t时刻，其传感器的探测靶面集合，Φi,t根据无人机传感器探测模型得到，，ηi,c,t为网格路径点c内的不确定度大小，根据敌方目标在未来的预测位置得到ηi,c,t。定义在网格路径点c内，搜索目标存在的概率为pc∈，即pc＝0表示网格路径点内不存在目标，pc＝1表示网格路径点内存在目标。网格路径点c的不确定度ηi,c,t的更新公式为：其中Kγ＞0，为该函数的常数系数，决定了函数的陡峭程度，|·|表示取绝对值。定义τ＝1表示事件“网格路径点c中存在目标”，τ＝0表示事件“网格路径点c中不存在目标”，Ωi,c,t＝1表示在t时刻无人机Ai搜索到网格路径点c中存在目标，即敌方目标在t时刻，到达了t时刻前预测的敌方目标在t时刻的位置，Ωi,c,t＝0表示在t时刻无人机Ai搜索到网格路径点c中不存在目标，即敌方目标在t时刻，没有到达t时刻前预测的敌方目标在t时刻的位置。定义：因此概率地图线性更新公式为：Πc,t＝Πc,t-1+λi,c,t 其中，pi,d，pi,f分别为无人机传感器的虚警概率和检测概率，即pi,d＝p,pi,f＝p，这两个指标描述了无人机传感器的性能。则，不确定度ηi,c,t更新为：2)任务执行代价无人机Ai的侦察路径上的任务执行代价为：其中，ui表示无人机Ai在路径点Pil处的航向。可以看出，任务执行代价Jc可使得无人机尽量减少转弯机动的次数而尽量保持直线飞行，有利于减少耗油量。因此，无人机Ai的侦察路径Pil上的总体性能指标函数是上述各个性能指标的加权求和，即无人机侦察性能指标函数为：其中，权重k1，k2满足k1+k2＝1。多无人机协同目标侦察控制问题的分布式滚动时域优化模型为了避免集中式的滚动时域优化模型中随着无人机数量增多而带来的维数灾难问题，并且提高集群内无人机之间的协作效能，本发明根据侦察态势模型、约束条件和无人机侦察性能指标函数建立如下多无人机协同目标侦察控制问题的分布式滚动时域优化模型：其中，Ji表示无人机Ai在滚动时域Tp内优化的侦察性能指标函数。和Ui分别为无人机Ai在滚动时域内的状态预测序列和控制输入序列，fi表示无人机Ai的状态更新方程。/＞和/＞表示除无人机Ai之外的其他无人机在滚动时域t∈内的状态预测序列和控制输入预测序列，α为协作权重系数，/＞为无人机Ai的协作无人机集合，/＞可视具体任务或者战场环境确定。由于本发明采用协作分布式算法对异构无人机集群进行协同轨迹规划，无人机Ai在规划轨迹时，不仅需要考虑自身的目标函数Ji，还需考虑协作集中无人机的目标函数以及相应的约束，同时优化协作集/＞的目标函数，实现局部范围内的协同，以此增强机间的协作，规划出搜索收益最大的搜索路径。基于多项式拟合的目标轨迹预测在t时刻无人机进行轨迹规划决策时，计算多无人机协同目标侦察控制问题的分布式滚动时域优化模型中的侦察性能指标函数时，需要地面运动的敌方目标在未来中λi,c,t的大小，λi,c,t的大小影响了公式中Πc,t的大小，即相当于敌方目标在在未来。考虑无人机决策频率较高，敌方目标在我方无人机单步决策内的机动时间和机动范围较小，因此根据敌方目标的历史位置信息，对其在(t,t+Tp]的未来时间内的位置进行预测。轨迹预测方法为：将目标的平面运动位置的预测问题简化为多项式拟合问题，即目标的位置坐标被独立地定义为与时间相关的2个多项式形式：其中，ax0，ax1，ax2为待拟合系数，tp为预测采样时域，即收集目标在过去的位置历史信息，将其近似为多项式，并假设目标为未来短时间内不会做大机动位移，其未来(t,t+Tp]时刻依然服从该多项式形式。首先设定采样周期fp，对目标历史时间窗口的历史轨迹进行采样，对其运动轨迹进行拟合，得到各多项式中的待定系数ax0，ax1，ax2后，由此外推至未来(t,t+Tp]时间区间内的位置预测信息，即除此之外，可以根据未来的位置预测信息，对未来的速度等状态同样进行反算预测。4.下面对本发明所述基于协作分布式MPC的异构无人机集群搜索算法进行仿真，具体如下：考虑以下场景，场景为小范围矩形区域，我方8个无人机敌方3个动态目标，参数设计如表1所示：表1图3为无人机搜索轨迹，其中，五角星为目标位置，目标按照规定速度在目标区域内运动，扇形表示无人机的雷达探测靶面。在此任务场景下，8架异构无人机在不违反转弯半径约束以及机间避碰约束下，经128s搜索到所有目标，平均单步决策时间为0.01s，满足任务实时性要求。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
