标题title
广告投放方法及装置、存储介质及电子设备
摘要abst
本发明提供一种广告投放方法及装置、存储介质及电子设备，该方法包括：获取广告素材；分析广告素材，获得广告素材对应的文本描述信息；基于文本描述信息，确定投放广告素材的场景信息及广告素材对应的广告产品的竞品信息；对场景信息进行处理，获得场景信息对应的第一场景向量；基于第一场景向量，查找数据库中允许投放广告素材的至少一目标视频片段；基于竞品信息，确定各个目标视频片段中投放广告素材的有效视频片段；在各个有效视频片段中添加广告素材。本发明通过视频场景以及竞品信息对广告进行投放，即保障用户的观影体验，也能同时保障广告商的权益。
权利要求书clms
1.一种广告投放方法，其特征在于，包括：获取广告素材；分析所述广告素材，获得所述广告素材对应的文本描述信息；基于所述文本描述信息，确定投放所述广告素材的场景信息及所述广告素材对应的广告产品的竞品信息；对所述场景信息进行处理，获得所述场景信息对应的第一场景向量；基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段；基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段；在各个所述有效视频片段中添加所述广告素材。2.根据权利要求1所述的方法，其特征在于，所述对所述场景信息进行处理，获得所述场景信息对应的第一场景向量，包括：将所述场景信息输入预设的Clip模型，获得所述Clip模型输出的所述场景信息对应的第一场景向量。3.根据权利要求1所述的方法，其特征在于，所述基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段，包括：计算所述第一场景向量与所述数据库的向量引擎中各个第二场景向量之间的相似度，所述数据库存储多个视频片段，所述向量引擎中包含与每个所述视频片段关联的第二场景向量，所述第二场景向量用于表示与其相关联的视频片段中的视频场景；确定与第一场景向量之间的相似度大于第一预设阈值的第二场景向量对应的视频片段为允许投放所述广告素材的目标视频片段。4.根据权利要求3所述的方法，其特征在于，还包括：获取长视频；将所述长视频拆分成多个初始视频片段；抽取所述初始视频片段的各个视频帧中的首帧和尾帧；对所述首帧和尾帧进行处理，获得所述首帧对应的首帧向量及所述尾帧对应的尾帧向量；在所述首帧向量与所述尾帧向量之间的相似度大于第二预设阈值的情况下，将所述初始视频片段保存至所述数据库。5.根据权利要求4所述的方法，其特征在于，将所述初始视频片段保存至所述数据库之后，还包括：将所述初始视频片段中至少一视频帧对应的视频帧向量作为对所述初始视频片段关联的第二场景向量保存至所述向量引擎。6.根据权利要求1所述的方法，其特征在于，所述基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段，包括：识别所述目标视频片段中第一广告信息；基于所述第一广告信息，确定所述目标视频片段中是否存在与所述竞品信息相符的广告；如果所述目标视频片段中不存在与所述竞品信息相符的广告，确定所述目标视频片段为有效视频片段。7.根据权利要求6所述的方法，其特征在于，所述在各个所述有效视频片段中添加所述广告素材，包括：确定所述有效视频片段所属的目标长视频；识别所述目标长视频对应的第二广告信息；基于所述第二广告信息，确定所述有效视频片段是否符合预设的广告投放规范；在所述有效视频片段符合预设的广告投放规范的情况下，在所述有效视频片段中添加所述广告素材；其中，所述广告投放规范为单个视频片段内的广告数量小于第三阈值且同一长视频中同一广告素材的投放时间间隔大于预设播放时间。8.一种广告投放装置，其特征在于，包括：获取单元，用于获取广告素材；分析单元，用于分析所述广告素材，获得所述广告素材对应的文本描述信息；第一确定单元，用于基于所述文本描述信息，确定投放所述广告素材的场景信息及所述广告素材对应的广告产品的竞品信息；处理单元，用于对所述场景信息进行处理，获得所述场景信息对应的第一场景向量；查找单元，用于基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段；第二确定单元，用于基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段；广告投放单元，用于在各个所述有效视频片段中添加所述广告素材。9.一种存储介质，其特征在于，所述存储介质包括存储的指令，其中，在所述指令运行时控制所述存储介质所在的设备执行如上述权利要求1~7任意一项所述的广告投放方法。10.一种电子设备，其特征在于，包括存储器，以及一个或者一个以上的指令，其中一个或者一个以上指令存储于存储器中，且经配置以由一个或者一个以上处理器执行如上述权利要求1~7任意一项所述的广告投放方法。
说明书desc
技术领域本发明涉及视频处理技术领域，特别是涉及一种广告投放方法及装置、存储介质及电子设备。背景技术互联网上以视频形式进行信息传播已成为普遍形态，在这其中，广告作为用户获取信息以及广告主提升知名度和宣传产品的重要途径，利用广告插入视频的方法，进行信息传播已成为常态。现有技术中，通常会在视频的留白位置进行广告投放，以达到广告曝光的目的。但是现有技术的广告投放方式无法合理结合视频场景进行广告投放，在与广告内容不符的视频场景中投放广告容易影响用户的观影体验，即便广告投放的视频场景合适，在原视频中也有可能存在竞品广告，影响广告商的权益。因此，现有技术的广告投放方式无法保障用户的观影体验，也不能同时保障广告商的权益。发明内容有鉴于此，本发明提供一种广告投放方法，通过该方法，可以结合视频场景以及竞品信息对广告进行投放，即保障用户的观影体验，也能同时保障广告商的权益。本发明还提供了一种广告投放装置，用以保证上述方法在实际中的实现及应用。一种广告投放方法，包括：获取广告素材；分析所述广告素材，获得所述广告素材对应的文本描述信息；基于所述文本描述信息，确定投放所述广告素材的场景信息及所述广告素材对应的广告产品的竞品信息；对所述场景信息进行处理，获得所述场景信息对应的第一场景向量；基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段；基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段；在各个所述有效视频片段中添加所述广告素材。上述的方法，可选的，所述对所述场景信息进行处理，获得所述场景信息对应的第一场景向量，包括：将所述场景信息输入预设的Clip模型，获得所述Clip模型输出的所述场景信息对应的第一场景向量。上述的方法，可选的，所述基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段，包括：计算所述第一场景向量与所述数据库的向量引擎中各个第二场景向量之间的相似度，所述数据库存储多个视频片段，所述向量引擎中包含与每个所述视频片段关联的第二场景向量，所述第二场景向量用于表示与其相关联的视频片段中的视频场景；确定与第一场景向量之间的相似度大于第一预设阈值的第二场景向量对应的视频片段为允许投放所述广告素材的目标视频片段。上述的方法，可选的，还包括：获取长视频；将所述长视频拆分成多个初始视频片段；抽取所述初始视频片段的各个视频帧中的首帧和尾帧；对所述首帧和尾帧进行处理，获得所述首帧对应的首帧向量及所述尾帧对应的尾帧向量；在所述首帧向量与所述尾帧向量之间的相似度大于第二预设阈值的情况下，将所述初始视频片段保存至所述数据库。上述的方法，可选的，将所述初始视频片段保存至所述数据库之后，还包括：将所述初始视频片段中至少一视频帧对应的视频帧向量作为对所述初始视频片段关联的第二场景向量保存至所述向量引擎。上述的方法，可选的，所述基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段，包括：识别所述目标视频片段中第一广告信息；基于所述第一广告信息，确定所述目标视频片段中是否存在与所述竞品信息相符的广告；如果所述目标视频片段中不存在与所述竞品信息相符的广告，确定所述目标视频片段为有效视频片段。上述的方法，可选的，所述在各个所述有效视频片段中添加所述广告素材，包括：确定所述有效视频片段所属的目标长视频；识别所述目标长视频对应的第二广告信息；基于所述第二广告信息，确定所述有效视频片段是否符合预设的广告投放规范；在所述有效视频片段符合预设的广告投放规范的情况下，在所述有效视频片段中添加所述广告素材；其中，所述广告投放规范为单个视频片段内的广告数量小于第三阈值且同一长视频中同一广告素材的投放时间间隔大于预设播放时间。一种广告投放装置，包括：获取单元，用于获取广告素材；分析单元，用于分析所述广告素材，获得所述广告素材对应的文本描述信息；第一确定单元，用于基于所述文本描述信息，确定投放所述广告素材的场景信息及所述广告素材对应的广告产品的竞品信息；处理单元，用于对所述场景信息进行处理，获得所述场景信息对应的第一场景向量；查找单元，用于基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段；第二确定单元，用于基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段；广告投放单元，用于在各个所述有效视频片段中添加所述广告素材。一种存储介质，所述存储介质包括存储的指令，其中，在所述指令运行时控制所述存储介质所在的设备执行上述的广告投放方法。一种电子设备，包括存储器，以及一个或者一个以上的指令，其中一个或者一个以上指令存储于存储器中，且经配置以由一个或者一个以上处理器执行上述的广告投放方法。与现有技术相比，本发明包括以下优点：本发明提供一种广告投放方法，包括：获取广告素材；分析所述广告素材，获得所述广告素材对应的文本描述信息；基于所述文本描述信息，确定投放所述广告素材的场景信息及所述广告素材对应的广告产品的竞品信息；对所述场景信息进行处理，获得所述场景信息对应的第一场景向量；基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段；基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段；在各个所述有效视频片段中添加所述广告素材。本发明通过获得广告素材的文本描述确定投放广告的视频场景以及该广告的竞品的竞品信息。通过视频场景以及竞品信息对广告进行投放，即保障用户的观影体验，也能同时保障广告商的权益。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本发明实施例提供的一种广告投放方法的方法流程图；图2为本发明实施例提供的一种广告投放方法的又一方法流程图；图3为本发明实施例提供的一种广告投放方法的又一方法流程图；图4为本发明实施例提供的一种广告投放方法的又一方法流程图；图5为本发明实施例提供的一种广告投放装置的装置结构图；图6为本发明实施例提供的一种电子设备结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在本申请中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。本发明可用于众多通用或专用的计算装置环境或配置中。例如：个人计算机、服务器计算机、手持设备或便携式设备、平板型设备、多处理器装置、包括以上任何装置或设备的分布式计算环境等等。本发明实施例提供了一种广告投放方法，该方法可以应用在多种系统平台，其执行主体可以为计算机终端或各种移动设备的处理器，所述方法的方法流程图如图1所示，具体包括：S101：获取广告素材。需要说明的是，广告素材可以是图片、视频或者文本等。S102：分析广告素材，获得广告素材对应的文本描述信息。具体的，如果广告素材为图片或者视频，利用图片描述生成技术处理广告素材图片和视频，获得广告素材对应的文本描述信息。其中，利用图片描述生成技术对图片或视频进行处理具体是利用基于深度学习方法获得的模型进行处理。深度学习方法包括基于注意力机制的方法、基于图神经的方法以及基于自注意力的方法等；通过深度学习方法训练模型，该模型为视觉语言预训练模型、多模态Transformer模型、多模态预训练、生成式预训练Transformer模型或者ChatGLM等。S103：基于文本描述信息，确定投放广告素材的场景信息及广告素材对应的广告产品的竞品信息。需要说明的是，场景信息可以是对可以对广告素材进行投放的场景文本描述。竞品信息可以包括竞品图片、竞品名称以及竞品的文字描述。S104：对场景信息进行处理，获得场景信息对应的第一场景向量。具体的，通过Clip模型对场景信息进行处理，获得场景信息对应的第一场景向量。Clip模型是一款开源并广泛用于业务的图文多媒体预训练模型。S105：基于第一场景向量，查找数据库中允许投放广告素材的至少一目标视频片段。需要说明的是，数据库内预先存储多个视频片段，各个视频片段为通过长视频进行分镜划分的短视频片段。还需要说明的是，在数据库中包含每个视频片段对应的索引，该索引与其对应的视频片段内的视频场景相关，通过第一场景向量，查找与该场景信息相符的视频片段。具体的，基于第一场景向量，查找数据库中允许投放广告素材的至少一目标视频片段的实施过程如下：计算第一场景向量与数据库的向量引擎中各个第二场景向量之间的相似度，数据库存储多个视频片段，向量引擎中包含与每个视频片段关联的第二场景向量，第二场景向量用于表示与其相关联的视频片段中的视频场景；确定与第一场景向量之间的相似度大于第一预设阈值的第二场景向量对应的视频片段为允许投放广告素材的目标视频片段。可以理解的是，数据库中保存有大量的视频片段，该视频片段为对长视频进行分镜处理后的视频分镜片段。对于数据库中的每个视频片段，均在向量引擎中存储对应的索引信息，该索引信息则为视频片段关联的第二场景向量。第二场景向量为其关联的视频片段的场景向量。如果第一场景向量与第二场景向量相似，表征第二场景向量关联的视频片段中的视频场景适合播放该广告素材。S106：基于竞品信息，确定各个目标视频片段中投放广告素材的有效视频片段。可以理解的是，通过竞品信息，筛选出不包含竞品的目标视频片段为有效视频片段。S107：在各个有效视频片段中添加广告素材。可选的，在有效视频片段中添加广告素材时，可以对视频内容进行识别，区分出可投放区域和不可投放区域，并在可投放区域中添加广告素材。例如人物、动物以及其他关键物件的显示区域为不可投放区域，人物、动物以及其他关键物件显示区域为可投放区域。本发明实施例提供的方法中，在数据库中保存广告视频片段的具体实施过程如图2所示，具体包括：S201：获取长视频。长视频可以是一部完整的电影或者是一集电视剧等。S202：将长视频拆分成多个初始视频片段。其中，按照视频分镜的方式对长视频进行拆分。具体的，针对可参与情境广告投放的长视频内容进行分镜检测，将长视频划分成分镜级别视频单元，一般采用pyscenedetect库来完成，过滤出分镜片段时长大于一定阈值的分镜。分镜的片段时长可以根据经验经设置，一般情况下分镜片段可以小于5秒，超过5s的分镜占总分镜数较少，但是存在较多情况就是可能中间有渐变的转场：比如前2秒是室内，然后一个渐黑，再渐亮就到了室外的一个场景了。S203：抽取初始视频片段的各个视频帧中的首帧和尾帧。S204：对首帧和尾帧进行处理，获得首帧对应的首帧向量及尾帧对应的尾帧向量。其中，采用Clip模型对首帧中的视频场景进行识别，获得首帧向量；采用Clip模型对尾帧中的视频场景进行识别，获得尾帧向量。S205：在首帧向量与尾帧向量之间的相似度大于第二预设阈值的情况下，将初始视频片段保存至所述数据库。计算向量相似性，如果大于阈值则认为存在渐变或长距离运镜，标记为不适合投放广告的片段，反之则标记为可投放广告的片段并保存至数据库。进一步地，在确定视频片段保存至数据库后，可以将初始视频片段中至少一视频帧对应的视频帧向量作为对初始视频片段关联的第二场景向量保存至向量引擎。优选的，可以选择初始视频片段中的中间帧对应的视频帧向量作为索引保存至向量引擎，该索引则为第二场景向量。假设片段有N帧，取第N/2帧，利用Clip模型进行推理获得向量表征。并将向量存储到向量引擎中便于检索计算。本发明实施例提供的方法中，基于竞品信息，确定各个目标视频片段中投放广告素材的有效视频片段的过程如图3所示，具体包括：S301：识别目标视频片段中第一广告信息。具体的，通过OCR技术和物体检测技术检测目标视频片段中出现的第一广告信息。S302：基于第一广告信息，确定目标视频片段中是否存在与竞品信息相符的广告。具体的，通过BLIP模型可以获得视频片段的文本描述之外，还可以获得竞品描述的竞品信息。根据第一广告信息和竞品信息，确定是否存在与广告素材冲突的竞品。其中，竞品信息包括客户指定投放其广告的场景不应包含的内容；通过广告投放的经验自行维护广告产品的同类产品，同类产品一般不允许出现，比如手机广告，不允许出现其他手机内容；通过BLIP模型本身能力联想出同类产品。其中，如果目标视频片段中不存在与竞品信息相符的广告，执行S303；反之，执行S304。S303：确定目标视频片段为有效视频片段。S304：取消在目标视频片段投放广告。本发明中，BLIP模型可以理解并输出能匹配广告的场景描述以及规避竞品的文本描述。以文本信息实现对广告素材内容的描述，根据文本描述输出符合该广告投放的内容情境描述以及同类型产品描述，以得到用于进行向量检索的视频内容情境描述文本及应该进行竞品规避的产品类目信息。进一步地，在确定有效视频片段之后，在各个有效视频片段中投放广告的过程如图4所示，具体包括：S401：确定有效视频片段所属的目标长视频。S402：识别目标长视频对应的第二广告信息。其中，第二广告信息包含有效视频片段在内，长视频所出现的所有广告。第二广告信息包含第一广告信息。S403：基于第二广告信息，确定有效视频片段是否符合预设的广告投放规范。其中，所述广告投放规范为单个视频片段内的广告数量小于第三阈值且同一长视频中同一广告素材的投放时间间隔大于预设播放时间。本发明实施例中，根据业务实际进行进一步筛选：考虑到广告投放的商业权益与用户体验的平衡，首先要求单个长视频内广告投放的点位与片头需要相距一定时长，单个长视频中情境广告出现的次数不宜过多，相邻两次情境广告投放点时间间隔不能过近。再综合考虑广告投放的商业权益，根据权益来扩大覆盖的视频合集数量或缩小视频合集数量。S404：在有效视频片段符合预设的广告投放规范的情况下，在有效视频片段中添加广告素材。本发明实施例提供的方法中，在整个长视频中，如果广告投放太过于密集，容易影响用户的观影体验。因此，在确定长视频中的任一视频片段为有效视频片段后，结合整体的长视频中的第二广告信息，确定该长视频是否符合投放规范，如果符合，则可以直接在有效视频片段中添加广告，反之，取消在该有效视频片段中添加广告。可选的，在有效视频片段中添加广告时，识别视频片段中的广告位置，广告位置可以是视频中的四个角位或者视频片段中不存在关键角色的位置。应用本发明实施例提供的方法，通过广告投放规范，在考虑到用户的观影体验的同时，能够保证广告投放时的收益最大化。基于上述实施例提供的方法，本发明提供的广告投放方法有以下实施内容：对长视频内容进行分镜检测，将长视频划分成分镜级别视频单元，利用图文多模态预训练模型对视频分镜片段进行推理获得向量表征。并将向量存储到向量引擎中便于检索计算。针对广告投放的素材，通常包括文本、图片或者视频，以及文本描述资料。利用图片描述生成技术处理广告素材图片和视频，具体是利用大模型能力自动生成适配广告内容的视频场景描述文本及竞品规避文本。其中，图片描述生成技术其中传统方法包括：基于深度学习方法。深度学习方法包括：基于注意力机制的方法、基于图神经的方法、基于自注意力的方法以及其他深度学习方法。通过深度学习获得的大模型包括：VLP、BLIP、OFA、GPT或ChatGLM等模型。通过Clip模型将大模型提取的广告适配视频情景描述文本、竞品规避文本转成向量表征，与目标的长视频分镜向量表征进行相似度计算。结合业务需求，需对不同长视频合集、单个长视频中匹配到的分镜片段进行打散，要求在不同的长视频合集和单个长视频中需要根据匹配个数和分镜的时间间隔进行动态的相似度阈值调整。保证情境广告不至于过分密集，从而影响用户观影体验。最终得到所有适合投放情境广告的所有点位。本发明通过利用文本与图像多模态预训练模型结合向量检索技术，实现视频内容镜头级、场景级的定位，提升情境广告投放场景点位检索效率，突破传统AI分析有限维度和维度类别集合的限制，实现任意场景的自由检索。从而扩大情境广告投放点位的库存。最大可能挖掘海量长视频库存内容的情境广告投放价值。上述各个实施例的具体实施过程及其衍生方式，均在本发明的保护范围之内。与图1所述的方法相对应，本发明实施例还提供了一种广告投放装置，用于对图1中方法的具体实现，本发明实施例提供的广告投放装置可以应用计算机终端或各种移动设备中，其结构示意图如图5所示，具体包括：获取单元501，用于获取广告素材；分析单元502，用于分析所述广告素材，获得所述广告素材对应的文本描述信息；第一确定单元503，用于基于所述文本描述信息，确定投放所述广告素材的场景信息及所述广告素材对应的广告产品的竞品信息；处理单元504，用于对所述场景信息进行处理，获得所述场景信息对应的第一场景向量；查找单元505，用于基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段；第二确定单元506，用于基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段；广告投放单元507，用于在各个所述有效视频片段中添加所述广告素材。本发明实施例提供的装置中，所述处理单元504对所述场景信息进行处理，获得所述场景信息对应的第一场景向量具体用于：将所述场景信息输入预设的Clip模型，获得所述Clip模型输出的所述场景信息对应的第一场景向量。本发明实施例提供的装置中，所述查找单元505基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段，具体用于：计算所述第一场景向量与所述数据库的向量引擎中各个第二场景向量之间的相似度，所述数据库存储多个视频片段，所述向量引擎中包含与每个所述视频片段关联的第二场景向量，所述第二场景向量用于表示与其相关联的视频片段中的视频场景；确定与第一场景向量之间的相似度大于第一预设阈值的第二场景向量对应的视频片段为允许投放所述广告素材的目标视频片段。本发明实施例提供的装置中，还包括：视频处理单元，用于获取长视频；将所述长视频拆分成多个初始视频片段；抽取所述初始视频片段的各个视频帧中的首帧和尾帧；对所述首帧和尾帧进行处理，获得所述首帧对应的首帧向量及所述尾帧对应的尾帧向量；在所述首帧向量与所述尾帧向量之间的相似度大于第二预设阈值的情况下，将所述初始视频片段保存至所述数据库。本发明实施例提供的装置中，所述视频处理单元将所述初始视频片段保存至所述数据库之后，还用于：将所述初始视频片段中至少一视频帧对应的视频帧向量作为对所述初始视频片段关联的第二场景向量保存至所述向量引擎。本发明实施例提供的装置中，所述第二确定单元506基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段，具体用于：识别所述目标视频片段中第一广告信息；基于所述第一广告信息，确定所述目标视频片段中是否存在与所述竞品信息相符的广告；如果所述目标视频片段中不存在与所述竞品信息相符的广告，确定所述目标视频片段为有效视频片段。本发明实施例提供的装置中，所述广告投放单元507在各个所述有效视频片段中添加所述广告素材，具体用于：确定所述有效视频片段所属的目标长视频；识别所述目标长视频对应的第二广告信息；基于所述第二广告信息，确定所述有效视频片段是否符合预设的广告投放规范；在所述有效视频片段符合预设的广告投放规范的情况下，在所述有效视频片段中添加所述广告素材；其中，所述广告投放规范为单个视频片段内的广告数量小于第三阈值且同一长视频中同一广告素材的投放时间间隔大于预设播放时间。以上本发明实施例公开的广告投放装置中各个单元的具体工作过程，可参见本发明上述实施例公开的广告投放方法中的对应内容，这里不再进行赘述。本发明实施例还提供了一种存储介质，所述存储介质包括存储的指令，其中，在所述指令运行时控制所述存储介质所在的设备执行上述广告投放方法。本发明实施例还提供了一种电子设备，其结构示意图如图6所示，具体包括存储器601，以及一个或者一个以上的指令602，其中一个或者一个以上指令602存储于存储器601中，且经配置以由一个或者一个以上处理器603执行所述一个或者一个以上指令602进行以下操作：获取广告素材；分析所述广告素材，获得所述广告素材对应的文本描述信息；基于所述文本描述信息，确定投放所述广告素材的场景信息及所述广告素材对应的广告产品的竞品信息；对所述场景信息进行处理，获得所述场景信息对应的第一场景向量；基于所述第一场景向量，查找数据库中允许投放所述广告素材的至少一目标视频片段；基于所述竞品信息，确定各个所述目标视频片段中投放所述广告素材的有效视频片段；在各个所述有效视频片段中添加所述广告素材。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于系统或系统实施例而言，由于其基本相似于方法实施例，所以描述得比较简单，相关之处参见方法实施例的部分说明即可。以上所描述的系统及系统实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性劳动的情况下，即可以理解并实施。专业人员还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现。为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本发明。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本发明的精神或范围的情况下，在其它实施例中实现。因此，本发明将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
