标题title
路径规划方法、装置和域控制器
摘要abst
本申请涉及一种路径规划方法、装置和域控制器，其中，该路径规划方法包括：基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围，驶入范围内包括多个驶入点；基于自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点；基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点，时间交集是基于自车从当前位置到达候选驶入点的驶入时间范围与多个障碍车到达对应的候选驶入点的间隔时间确定的，障碍车为待驶入车道中预设范围内的车辆；基于最优驶入点进行路径规划。通过本申请，解决了自动驾驶场景中路径规划的算力成本较高的问题，有效地降低了自动驾驶场景中路径规划的算力成本。
权利要求书clms
1.一种路径规划方法，其特征在于，包括：基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围，所述驶入范围内包括多个驶入点；基于所述自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点；基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点，所述时间交集是基于所述自车从当前位置到达候选驶入点的驶入时间范围与多个障碍车到达对应的候选驶入点的间隔时间确定的，所述障碍车为所述待驶入车道中预设范围内的车辆；基于所述最优驶入点进行路径规划。2.根据权利要求1所述的路径规划方法，其特征在于，所述基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围，包括：基于地图信息，获取当前车道的车道线与待驶入车道的车道线之间的交点；所述交点包括第一交点以及第二交点，所述第一交点到所述自车的距离小于所述第二交点到所述自车的距离；基于所述自车从所述当前位置到所述待驶入车道的车道线之间的横向距离，确定最小预留时间；基于所述最小预留时间以及所述自车的车辆信息，确定所述自车的最小预留纵向距离；基于所述最小预留纵向距离以及所述第一交点的纵向位置信息，确定所述驶入范围的最小值；基于所述第二交点的纵向位置信息以及第一预设距离，确定所述驶入范围的最大值。3.根据权利要求2所述的路径规划方法，其特征在于，所述基于所述自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点，包括：根据第二预设距离在所述驶入范围内确定多个驶入点；根据多个驶入点与所述自车的距离，由小到大的顺序，依次将多个驶入点确定为候选驶入点。4.根据权利要求1所述的路径规划方法，其特征在于，在所述基于所述候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点之前，还包括：基于所述当前车道驶入所述待驶入车道场景下的最小设定速度，确定所述自车从当前位置到达候选驶入点的最大驶入时间；基于所述当前车道驶入所述待驶入车道场景下的最大设定速度以及所述自车的参数信息，确定所述自车从当前位置到达对应的候选驶入点的最小驶入时间；基于所述最大驶入时间以及所述最小驶入时间确定所述驶入时间范围。5.根据权利要求4所述的路径规划方法，其特征在于，所述时间交集根据下述方式确定：基于多个所述障碍车中两两障碍车分别到达候选驶入点的时间，确定多个间隔时间；基于障碍车到达对应候选驶入点的顺序，依次确定对应的间隔时间与所述驶入时间范围是否存在时间交集。6.根据权利要求5所述的路径规划方法，其特征在于，所述基于多个所述障碍车中两两障碍车分别到达候选驶入点的时间，确定多个间隔时间，包括：基于多个所述障碍车中两两障碍车分别到达候选驶入点的时间，确定多个基础间隔时间；基于冗余时间以及多个所述基础间隔时间，确定多个所述间隔时间。7.根据权利要求5所述的路径规划方法，其特征在于，所述基于所述最优驶入点进行路径规划，包括：基于所述时间交集，确定所述自车驶入所述待驶入车道的最小期望时间；基于所述最小期望时间、所述自车的当前位置以及所述最优驶入点的位置，确定所述自车从当前位置到达所述最优驶入点的平均速度；基于所述平均速度进行路径规划。8.根据权利要求7所述的路径规划方法，其特征在于，所述基于所述平均速度进行路径规划，包括：将所述平均速度作为所述自车驶入所述待驶入车道的终态速度约束；基于所述终态速度约束进行纵向路径规划，得到纵向路径规划结果；基于所述纵向路径规划结果，确定所述自车驶入所述待驶入车道的终态车辆信息；基于所述终态车辆信息以及所述自车当前状态信息进行横向路径规划。9.一种路径规划装置，其特征在于，包括：第一确定模块，用于基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围，所述驶入范围内包括多个驶入点；第二确定模块，用于基于所述自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点；第三确定模块，用于基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点，所述时间交集是基于所述自车从当前位置到达候选驶入点的驶入时间范围与多个障碍车到达对应的候选驶入点的间隔时间确定的，所述障碍车为所述待驶入车道中预设范围内的车辆；路径规划模块，用于基于所述最优驶入点进行路径规划。10.一种域控制器，包括存储器和处理器，其特征在于，所述存储器中存储有计算机程序，所述处理器被设置为运行所述计算机程序以执行权利要求1至权利要求8中任一项所述的路径规划方法。
说明书desc
技术领域本申请涉及自动驾驶技术领域，特别是涉及一种路径规划方法、装置和域控制器。背景技术随着技术的发展，自动驾驶技术得到广泛地应用。其中，可行域求解是自动驾驶技术中的一项关键技术，它依赖于地图、传感器、路径规划、决策算法等多种技术，旨在确定出现实道路环境中可以安全运行的范围，保障行驶过程中的安全和舒适性。目前，在自动驾驶的可行域求解过程中，主要是遍历循环可行域范围内的所有解，从而计算出最优解，进一步，执行最优解的路径，通过遍历循环可行域范围内的最优解的路径规划方式复杂，且计算量大，从而导致自动驾驶场景中路径规划的算力成本较高。针对自动驾驶场景中路径规划的算力成本较高的问题，目前还没有提出有效的解决方案。发明内容在本实施例中提供了一种路径规划方法、装置和域控制器，以解决自动驾驶场景中路径规划的算力成本较高的问题。第一个方面，在本实施例中提供了一种路径规划方法，包括：基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围，所述驶入范围内包括多个驶入点；基于所述自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点；基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点，所述时间交集是基于所述自车从当前位置到达候选驶入点的驶入时间范围与多个障碍车到达对应的候选驶入点的间隔时间确定的，所述障碍车为所述待驶入车道中预设范围内的车辆；基于所述最优驶入点进行路径规划。在其中的一些实施例中，所述基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围，包括：基于地图信息，获取当前车道的车道线与待驶入车道的车道线之间的交点；所述交点包括第一交点以及第二交点，所述第一交点到所述自车的距离小于所述第二交点到所述自车的距离；基于所述自车从所述当前位置到所述待驶入车道的车道线之间的横向距离，确定最小预留时间；基于所述最小预留时间以及所述自车的车辆信息，确定所述自车的最小预留纵向距离；基于所述最小预留纵向距离以及所述第一交点的纵向位置信息，确定所述驶入范围的最小值；基于所述第二交点的纵向位置信息以及第一预设距离，确定所述驶入范围的最大值。在其中的一些实施例中，所述基于所述自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点，包括：根据第二预设距离在所述驶入范围内确定多个驶入点；根据多个驶入点与所述自车的距离，由小到大的顺序，依次将多个驶入点确定为候选驶入点。在其中的一些实施例中，在所述基于所述候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点之前，还包括：基于所述当前车道驶入所述待驶入车道场景下的最小设定速度，确定所述自车从当前位置到达候选驶入点的最大驶入时间；基于所述当前车道驶入所述待驶入车道场景下的最大设定速度以及所述自车的参数信息，确定所述自车从当前位置到达对应的候选驶入点的最小驶入时间；基于所述最大驶入时间以及所述最小驶入时间确定所述驶入时间范围。在其中的一些实施例中，所述时间交集根据下述方式确定：基于多个所述障碍车中两两障碍车分别到达候选驶入点的时间，确定多个间隔时间；基于障碍车到达对应候选驶入点的顺序，依次确定对应的间隔时间与所述驶入时间范围是否存在时间交集。在其中的一些实施例中，所述基于多个所述障碍车中两两障碍车分别到达候选驶入点的时间，确定多个间隔时间，包括：基于多个所述障碍车中两两障碍车分别到达候选驶入点的时间，确定多个基础间隔时间；基于冗余时间以及多个所述基础间隔时间，确定多个所述间隔时间。在其中的一些实施例中，所述基于所述最优驶入点进行路径规划，包括：基于所述时间交集，确定所述自车驶入所述待驶入车道的最小期望时间；基于所述最小期望时间、所述自车的当前位置以及所述最优驶入点的位置，确定所述自车从当前位置到达所述最优驶入点的平均速度；基于所述平均速度进行路径规划。在其中的一些实施例中，所述基于所述平均速度进行路径规划，包括：将所述平均速度作为所述自车驶入所述待驶入车道的终态速度约束；基于所述终态速度约束进行纵向路径规划，得到纵向路径规划结果；基于所述纵向路径规划结果，确定所述自车驶入所述待驶入车道的终态车辆信息；基于所述终态车辆信息以及所述自车当前状态信息进行横向路径规划。第二个方面，在本实施例中提供了一种路径规划装置，包括：第一确定模块，用于基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围，所述驶入范围内包括多个驶入点；第二确定模块，用于基于所述自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点；第三确定模块，用于基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点，所述时间交集是基于所述自车从当前位置到达候选驶入点的驶入时间范围与多个障碍车到达对应的候选驶入点的间隔时间确定的，所述障碍车为所述待驶入车道中预设范围内的车辆；路径规划模块，用于基于最优驶入点进行路径规划。第三个方面，在本实施例中提供了一种域控制器，包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述第一个方面所述的路径规划方法。第四个方面，在本实施例中提供了一种存储介质，其上存储有计算机程序，该程序被处理器执行时实现上述第一个方面所述的路径规划方法。与相关技术相比，在本实施例中提供的路径规划方法，通过地图信息，确定出自车由当前车道驶入待驶入车道的驶入范围，并确定出驶入范围内的多个驶入点，进一步地，根据自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点，从而使确定出的驶入点为当前状态下自车驶入待驶入车道的最优位置，进一步地，基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点，其中，时间交集是根据自车从当前位置到达候选驶入点的驶入时间范围与多个障碍车到达对应的候选驶入点的间隔时间确定的，从而使确定出第一个满足条件的候选驶入点即为最优驶入点，并且在最优驶入点进行变道时，能够满足当前环境的变道条件，从而无需遍历可行域范围内的所有解后才能确定最优解，进而有效地降低了自动驾驶场景中路径规划的算力成本。本申请的一个或多个实施例的细节在以下附图和描述中提出，以使本申请的其他特征、目的和优点更加简明易懂。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1是本申请实施例提供的一种路径规划应用场景示意图；图2是本申请实施例提供的一种路径规划方法的流程图；图3是本申请实施例提供的一种自车变道场景中驶入范围的示意图；图4是本申请实施例提供的一种障碍车的间隔时间示意图；图5是本申请实施例提供的一种间隔时间确定方法的示意图；图6是本申请实施例提供的一种路径规划方法的实施例流程图；图7是本申请实施例提供的一种路径规划装置的结构框图；图8是本申请实施例提供的一种域控器的内部结构图。具体实施方式为更清楚地理解本申请的目的、技术方案和优点，下面结合附图和实施例，对本申请进行了描述和说明。除另作定义外，本申请所涉及的技术术语或者科学术语应具有本申请所属技术领域具备一般技能的人所理解的一般含义。在本申请中的“一”、“一个”、“一种”、“该”、“这些”等类似的词并不表示数量上的限制，它们可以是单数或者复数。在本申请中所涉及的术语“包括”、“包含”、“具有”及其任何变体，其目的是涵盖不排他的包含；例如，包含一系列步骤或模块的过程、方法和系统、产品或设备并未限定于列出的步骤或模块，而可包括未列出的步骤或模块，或者可包括这些过程、方法、产品或设备固有的其他步骤或模块。在本申请中所涉及的“连接”、“相连”、“耦接”等类似的词语并不限定于物理的或机械连接，而可以包括电气连接，无论是直接连接还是间接连接。在本申请中所涉及的“多个”是指两个或两个以上。“和/或”描述关联对象的关联关系，表示可以存在三种关系，例如，“A和/或B”可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。通常情况下，字符“/”表示前后关联的对象是一种“或”的关系。在本申请中所涉及的术语“第一”、“第二”、“第三”等，只是对相似对象进行区分，并不代表针对对象的特定排序。本申请实施例提供的路径规划方法，可以应用于如图1所示的应用场景中，图1是本申请实施例提供的一种路径规划应用场景示意图，如图1所示，终端102通过网络与服务器104进行通信。数据存储系统可以存储服务器104需要处理的数据。数据存储系统可以集成在服务器104上，也可以放在云上或其他网络服务器上。其中，终端102可以但不限于是各种个人计算机、笔记本电脑、智能手机、平板电脑、物联网设备和便携式可穿戴设备，物联网设备可为智能音箱、智能电视、智能空调、智能车载设备等，本申请实施例中的终端102以智能车载设备为例。服务器104可以用独立的服务器或者是多个服务器组成的服务器集群来实现。具体的，服务器104也可以被配置成实施自主驾驶或高级驾驶员辅助系统交通工具功能性，此类功能性可包括能够提供一定驾驶自动化水平的交通工具机载控制系统。驾驶自动化可包括涉及多个交通工具功能的同时控制的某种水平的自动控制或干预。驾驶自动化可包括交通工具驾驶功能的同时自动控制，其中，驾驶员在行程期间对于一段时间周期放弃交通工具的控制。驾驶自动化可包括交通工具驾驶功能的同时自动控制。驾驶自动化包括硬件和控制器，其被配置成在各种驾驶模式下监测空间环境，以在动态交通工具操作期间执行各种驾驶任务。通过非限制性示例的方式，驾驶自动化可包括巡航控制、自适应巡航控制、车道变换警告、干预和控制、自动停车、加速、制动和类似。通过非限制性示例的方式，自主交通工具功能包括自适应巡航控制操作、车道引导和车道保持操作、车道变换操作、转向辅助操作、对象避让操作、停车辅助操作、交通工具制动操作、交通工具速度和加速操作、交通工具横向运动操作，例如，作为车道引导、车道保持和车道变换操作等等的部分。随着技术的发展，自动驾驶技术得到广泛地应用。其中，可行域求解是自动驾驶技术中的一项关键技术，它依赖于地图、传感器、路径规划、决策算法等多种技术，旨在确定出现实道路环境中可以安全运行的范围，保障行驶过程中的安全和舒适性。目前，在自动驾驶的可行域求解过程中，主要是遍历循环可行域范围内的所有解，从而计算出最优解，进一步，执行最优解的路径，通过遍历循环可行域范围内的最优解的路径规划方式复杂，且计算量大，从而导致自动驾驶场景中路径规划的算力成本较高。因此，如何降低自动驾驶场景中路径规划的算力成本，是一个需要解决的问题。在本申请实施例中提供了一种路径规划方法，图2是本申请实施例提供的一种路径规划方法的流程图，该方法的执行主体可以是电子装置，可选的，电子装置可以是服务器，也可以是终端设备，但本申请不限于此。具体的，如图2所示，该流程包括如下步骤：步骤S201，基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围。其中，驶入范围包括多个驶入点。步骤S202，基于自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点。步骤S203，基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点。其中，时间交集是基于自车从当前位置到达候选驶入点的驶入时间范围与多个障碍车到达对应的候选驶入点的间隔时间确定的，障碍车为待驶入车道中预设范围内的车辆。步骤S204，基于最优驶入点进行路径规划。示例性地，本申请的路径规划可以应用在自动驾驶的变道场景中，具体的，以自车从匝道进入主道的变道场景为例进行说明，本申请的路径规划也可以应用于其它变道前与变道后的车道线存在相交的场景中，在此不做限制。若自车的当前车道为匝道，待驶入车道为主道，则可以根据自车在当前环境中的地图信息，确定出自车从匝道驶入主道的驶入范围，即自车的变道范围。具体的，该驶入范围可以是匝道的两边界线分别与主道最先相交的边界线的两个交点之间的范围，该驶入范围可以包括多个驶入点，即在该驶入范围内，自车可以从多个驶入点对应的位置进入主道。进一步地，根据自车当前与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点。进一步地，根据候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点。根据候选驶入点的顺序，依次预测出自车从当前位置到达当前的候选驶入点的驶入时间范围，以及多个障碍车到达对应的候选驶入点之间的间隔时间。其中，障碍车可以是待驶入车道中预设范围内的车辆，也可以是在待驶入车道中，在驶入范围之外预设范围内的车辆，可以是自车在当前位置能够捕捉到的在待驶入车道中的所有车辆。具体的，可以根据自车当前的车辆信息预测出自车从当前位置到候选驶入点的最大时间和最小时间，从而得到自车的驶入时间范围，并预测出多个障碍车分别到达对应的候选驶入点的时间，进而确定两两障碍车之间的间隔时间。进一步地，根据自车的驶入时间范围以及多个障碍车之间的间隔时间，确定对应的候选驶入点的驶入时间范围与间隔时间是否存在时间交集，并且，将第一次出现时间交集的候选驶入点确定为最优驶入点。具体的，将自车与多个驶入点的距离，由小到大的顺序，依次将多个驶入点确定为候选驶入点，作为一种示例，可以根据该顺序，将多个候选驶入点分别命名为第一候选驶入点、第二候选驶入点、第三候选驶入点、…、第N候选驶入点，N为驶入点的总数。首先确定出自车从当前位置到第一候选驶入点的第一驶入时间范围，以及根据多个障碍车分别到达第一候选驶入点的时间，确定多个第一时间间隔，进一步地，确定第一驶入时间范围与多个第一时间间隔是否存在时间交集，若第一驶入时间范围与任一第一时间间隔存在时间交集，则将第一候选驶入点确定为最优驶入点。若第一驶入时间范围与所有第一时间间隔都不存在时间交集，则确定出自车从当前位置到第二候选驶入点的第二驶入时间范围，以及根据多个障碍车分别到达第二候选驶入点的时间，确定多个第二时间间隔，进一步地，确定第二驶入时间范围与多个第二时间间隔是否存在时间交集，以此类推，直至确定出驶入时间范围与时间间隔存在时间交集的候选驶入点为止，并将首次出现时间交集的候选驶入点确定为最优驶入点。若遍历完所有候选驶入点后，驶入时间范围与时间间隔都不存在时间交集，则返回规划失败的结果。进一步地，根据确定出的最优驶入点进行自车从匝道进入主道的路径规划。在上述实现过程中，通过地图信息，确定出自车由当前车道驶入待驶入车道的驶入范围，并确定出驶入范围内的多个驶入点，进一步地，根据自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点，从而使确定出的驶入点为当前状态下自车驶入待驶入车道的最优位置，进一步地，基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点，其中，时间交集是根据自车从当前位置到达候选驶入点的驶入时间范围与多个障碍车到达对应的候选驶入点的间隔时间确定的，进而确定出当前的候选驶入点是否满足当前环境的变道条件，若当前的候选驶入点不满足当前环境的变道条件，确定下一候选驶入点是否满足当前环境的变道条件，直至确定出满足变道条件的最优驶入点为止，进一步地，根据最优驶入点进行路径规划，从而使确定出的第一个驶入点即为最优驶入点，并且在最优驶入点进行变道时，能够满足当前环境的变道条件，从而无需遍历可行域范围内的所有解后才能确定最优解，进而有效地降低了自动驾驶场景中路径规划的算力成本。在其中的一些实施例中，基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围，可以包括以下步骤：步骤1：基于地图信息，获取当前车道的车道线与待驶入车道的车道线之间的交点，交点包括第一交点以及第二交点，第一交点到自车的距离小于第二交点到自车的距离。步骤2：基于自车从当前位置到待驶入车道的车道线之间的横向距离，确定最小预留时间。步骤3：基于最小预留时间以及自车的车辆信息，确定自车的最小预留纵向距离。步骤4：基于最小预留纵向距离以及第一交点的纵向位置信息，确定驶入范围的最小值。步骤5：基于第二交点的纵向位置信息以及第一预设距离，确定驶入范围的最大值。示例性地，图3是本申请实施例提供的一种自车变道场景中驶入范围的示意图，如图3所示，根据地图信息可以确定出匝道的两车道线与主道最先相交的车道线的交点包括图3中的点M1和点M2两个点，并且，在自车充匝道进入主道的场景中，点M1到自车的距离小于点M2到自车的距离，因此，点M1为第一交点，点M2为第二交点。进一步地，根据自车从当前位置从匝道到主道之间的横向距离，如图3中的L1，确定出最小预留时间。具体的，可以通过贝塞尔算法确定出在横向距离为LI时，自车从当前位置移动到主道的最小预留时间，该最小预留时间即为满足自车横向舒适性的最小预留时间t。进一步地，根据最小预留时间t以及自车的车辆信息确定出自车的最小预留纵向距离，具体的，自车的车辆信息可以包括自车当前的速度v，自车满足纵向舒适性要求下的最大加速度Accmax。具体的，可以根据纵向运动学公式，确定出最小预留纵向距离Smin。进一步地，根据第一交点的纵向位置以及最小预留纵向距离Smin确定出驶入范围的最小值，具体的，根据自车进入主道的驶入方向、第一交点的纵向位置以及最小预留纵向距离Smin确定出驶入范围的最小值，如图3所示，自车进入主道后由下至上运动，则将第一交点沿纵向由下至上移动最小预留纵向距离Smin，得到的点即为驶入范围的最小值对应的点。进一步地，在实际场景中自车由匝道进入主道时，不能直接从点M2对应的位置进入主道，需要在点M2之前的位置进入主道，因此，将第二交点M2的纵向位置沿第一交点M1的方向移动第一预设距离，得到的点即为驶入范围的最大值对应的点。若以第一交点为坐标原点，主道中车辆的形式方向为纵向的正方向，即图3中由下至上的方向，则驶入范围的最大值对应的点/＞的纵向位置大于驶入范围的最小值对应的点/＞的纵向位置。需要说明的是，本申请实施例中的第一预设距离可以根据多次试验预先确定的，也可以根据当前匝道的宽度以及预先确定的距离进行适应性调整得到的，在此不做限制。进一步地，如图3所示，驶入范围的最小值对应的点与驶入范围的最大值对应的点/＞之间的范围即为驶入范围/＞。在上述实现过程中，根据自车从当前位置到带驶入车道的横向距离，确定最小预留时间，进而根据最小预留时间确定自车的最小预留纵向距离，从而确保自车从当前车道驶入待驶入车道的过程中的横向运行的舒适性，进一步地，根据最小预留纵向距离以及第一交点的纵向距离确定出驶入范围的最小值，即确定出自车变道时的起始位置，并且，根据第二交点的纵向位置以及第一预设距离确定驶入范围的最大值，从而确定出自车变道时的终点位置，实现了自车变道时驶入范围的确定。在其中的一些实施例中，基于自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点，可以包括以下步骤：步骤1：根据第二预设距离在驶入范围内确定多个驶入点。步骤2：根据多个驶入点与自车的距离，由小到大的顺序，依次将多个驶入点确定为候选驶入点。作为其中的一个实施例，根据第二预设距离在驶入范围内确定多个驶入点可以包括：确定驶入范围的最小值对应的点与驶入范围的最大值对应的点之间的距离，若该距离小于或等于第三预设距离，则在驶入范围内确定一个驶入点，若该距离大于第三预设距离，则根据第二预设距离在驶入范围内确定多个驶入点。示例性地，若点与点/＞之间的距离小于或等于第三预设距离，则可以只在驶入范围内确定一个驶入点，该驶入点可以是点/＞与点/＞的中点，也可以是点/＞与点/＞之间的任意一点，在此不做限制。若点与点/＞之间的距离大于第三预设距离，则在驶入范围内从驶入范围的最小值对应的点/＞开始，朝着点/＞的方向，将每隔第二预设距离对应的点作为一个驶入点，从而可以得到在驶入范围内确定多个驶入点。进一步地，根据多个驶入点与自车的距离由小到大的顺序，依次将多个驶入点确定为候选驶入点，即自车由近及远地将多个驶入点依次作为当前的候选驶入点，从而确保自车到达驶入点的距离最近。在上述实现过程中，根据多个驶入点与自车的距离，由小到大的顺序，依次将多个驶入点确定为最优驶入点，从而确保了满足变道条件的候选驶入点距自车的距离最近，从而无需遍历可行域中的所有解进行路径规划最优解的计算，有效地降低了自动驾驶场景中路径规划的算力成本。在其中的一些实施例中，在基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点之前，还可以包括以下步骤：步骤1：基于当前车道驶入待驶入车道场景下的最小设定速度，确定自车从当前位置到达候选驶入点的最大驶入时间。步骤2：基于当前车道驶入待驶入车道场景下的最大设定速度以及自车的参数信息，确定自车从当前位置到达对应的候选驶入点的最小驶入时间。步骤3：基于最大驶入时间以及最小驶入时间确定驶入时间范围。示例性地，当前自车的变道场景为从匝道进入主道，则可以根据匝道进入主道的交通场景中最小设定速度确定出自车从当前位置到达候选驶入点的最大驶入时间。具体的，可以将匝道进入主道的交通环境中最小设定速度作为自车进入主道时的终态速度的约束条件，该速度可以为40km/h，也可以为45km/h，也可以根据实际场景确定，在此不做限制。进一步地，通过二阶运动规划算法规划出终态速度约束下的纵向速度谱，进而根据纵向速度谱并通过二分搜索算法迭代计算出到达候选驶入点的最大驶入时间。进一步地，根据匝道进入主道的交通环境中的最大设定速度以及自车的参数信息，确定出自车从当前位置到达对应的候选驶入点的最小驶入时间，具体的，自车的参数信息可以包括自车的最高车速以及最大加速度，作为一种示例，自车的最高车速以及最大加速度可以对应的为环境所允许最高车速、最大加速度。具体的，根据三阶JLT规划算法，在自车当前的速度约束、终止状态速度约束以及自车最高车速、最大加速度等动力学最大限制下规划出自车到达候选驶入点的纵向速度谱以及到该候选驶入点的最小时间，此时，自车终止状态速度可以是当前车道驶入待驶入车道场景下的最大设定速度。进一步地，将最大驶入时间与最小驶入时间对应的时间范围确定为自车从当前车道驶入待驶入车道的驶入时间范围。在上述实现过程中，根据当前变道环境中的最大设定速度和最小设定速度作为变道场景下自车的速度约束，从而确定出自车当前位置驶入待驶入车道的驶入时间范围。在其中的一些实施例中，时间交集的方式确定方式，可以包括以下步骤：步骤1：基于多个障碍车中两两障碍车分别到达候选驶入点的时间，确定多个间隔时间。步骤2：基于障碍车到对应的候选驶入点的顺序，依次确定对应的间隔时间与驶入时间范围是否存在交集。示例性地，在自车变道的场景中，为了避免自车进入待驶入车道时，不与待驶入车道中的其他车辆发生碰撞，则还需要考虑待驶入车道中其他车辆的状态信息。具体的，在自车变道场景中，将自车能够捕捉到的待驶入车道中的所有车辆确定为障碍车。可以根据自车各种传感器获取到每一障碍车的速度以及加速度等车辆信息，并根据每一障碍车的车辆信息确定出每一障碍车到达当前的候选驶入点的时间，进而可以根据两两障碍车分别到达当前的候选驶入点的时间，确定两两障碍车之间的时间间隔，从而可以得到多个间隔时间。图4是本申请实施例提供的一种障碍车的间隔时间示意图，如图4所示，若当前场景的主道中包括A、B、C、D、E、F共6辆障碍车，点Q为当前的候选驶入点，则根据障碍车的车辆信息可以确定出6辆障碍车分别到达点Q的时间点，从而可以得到5个间隔时间。进一步地，根据障碍车到达最优驶入点Q的顺序，依次将对应的间隔时间与自车到达候选驶入点Q的驶入时间范围，，，，}表示。矩阵中的每个元素代表相应车辆到候选驶入点的时间。步骤S604，根据间隔时间的先后顺序，依次确定当前间隔时间，并将当前间隔时间与当前驶入时间范围进行对比。根据多个间隔时间的先后顺序，依次将多个间隔时间确定为当前间隔时间，并将当前间隔时间与当前驶入时间范围进行对比，从而确定当前间隔时间与当前驶入时间范围是否存在时间交集。步骤S605，判断当前间隔时间与当前驶入时间范围是否存在交集。具体的，判断当前间隔时间与当前驶入时间范围是否存在时间交集，若当前间隔时间与当前驶入时间范围存在时间交集，则当前间隔时间与驶入时间范围存在可行域，并将当期的候选驶入点确定为最优驶入点，并执行步骤S609。若当前间隔时间与当前驶入时间范围不存在交集，则当前间隔时间与当前驶入时间范围不存在可行域，执行步骤S606。步骤S606，判断多个间隔时间是否遍历结束。具体的，若当前间隔时间与当前驶入时间范围不存在时间交集，则当前间隔时间与当前驶入时间范围不存在可行域，则需要判断下一间隔时间与当前驶入时间范围是否存在交集，因此，在判断下一间隔时间与当前驶入时间范围是否存在交集之前，需要判断是否将多个间隔时间都遍历完成，多个间隔时间都遍历结束，则执行步骤S608。若多个间隔时间未遍历完成，则执行步骤S607。步骤S607，确定下一间隔时间。具体的，若当前间隔时间为，，，中的任何一个，则多个间隔时间未遍历结束，则可以确定当前间隔时间的下一间隔时间，并返回步骤S604，判断下一间隔时间与当前驶入时间范围是否存在交集。若当前间隔时间为，则多个间隔时间已遍历结束，从而执行步骤S608。步骤S608，确定下一候选驶入点。若当前候选驶入点对应的多个间隔时间与当前驶入时间范围都不存在交集，则确定下一候选驶入点，具体的，返回步骤S603，确定下一候选驶入点，并根下一候选驶入点对应的多个时间间隔以及驶入时间范围确定下一候选驶入点是否存在可行域，直到确定出存在可行域的候选驶入点为止。若将所有驶入点都遍历结束后，都未得到最优驶入点，则返回规划失败的结果。步骤S609，根据最优驶入点进行路径规划。若多个时间间隔以及驶入时间范围存在时间交集，则将第一次确定出的候选驶入点确定为最优驶入点，并根据最优驶入点进行自车从匝道进入主道的路径规划。具体的，将间隔时间与驶入时间范围交集的最小值确定为最小期望时间，并根据最小期望时间、自车的当前位置以及最优驶入点的位置，确定自车从当前位置到达最优驶入点的平均速度，将此平均车速做为三阶JLT规划算法的终态速度及最高速度约束，以规划出一条先加速后匀速的速度谱，使得纵向控制平顺，并尽量使得换道过程中的纵向加速度很小，保持匀速换道。进一步地，通过纵向规划得到的当前位置到最优驶入点的距离、自车当前的状态确定自车驶入主道最终状态，自车驶入主道最终状态包括自车完成上匝道的终点，终点速度以及航向角，并进行分三段式的贝塞尔曲线的规划，如果此时环境条件不出现车道线、车辆控制状态的外界跳变，则认为规划有效，此时会融合规划出的路径与驶入的目标车道的中心线，使其能够平滑变到主道，同时能够平滑的过度到常规的车道保持状态，完成横向规划。需要说明的是，虽然如上所述的各实施例所涉及的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，如上所述的各实施例所涉及的流程图中的至少一部分步骤可以包括多个步骤或者多个阶段，这些步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤中的步骤或者阶段的至少一部分轮流或者交替地执行。在本实施例中还提供了一种路径规划装置，该装置用于实现上述实施例及优选实施方式，已经进行过说明的不再赘述。以下所使用的术语“模块”、“单元”、“子单元”等可以实现预定功能的软件和/或硬件的组合。尽管在以下实施例中所描述的装置较佳地以软件来实现，但是硬件，或者软件和硬件的组合的实现也是可能并被构想的。图7是本申请实施例提供的一种路径规划装置的结构框图，如图7所示，该装置包括：第一确定模块701，用于基于地图信息，确定自车由当前车道驶入待驶入车道的驶入范围，驶入范围内包括多个驶入点；第二确定模块702，用于基于自车与每一驶入点之间的距离，由小到大的顺序依次将多个驶入点确定为候选驶入点；第三确定模块703，用于用于基于候选驶入点的顺序，将首次出现时间交集的候选驶入点确定为最优驶入点，时间交集是基于自车从当前位置到达候选驶入点的驶入时间范围与多个障碍车到达对应的候选驶入点的间隔时间确定的，障碍车为待驶入车道中预设范围内的车辆；路径规划模块704，用于基于最优驶入点进行路径规划。在其中的一些实施例中，第一确定模块701具体用于：基于地图信息，获取当前车道的车道线与待驶入车道的车道线之间的交点；交点包括第一交点以及第二交点，第一交点到自车的距离小于第二交点到自车的距离；基于自车从当前位置到待驶入车道的车道线之间的横向距离，确定最小预留时间；基于最小预留时间以及自车的车辆信息，确定自车的最小预留纵向距离；基于最小预留纵向距离以及第一交点的纵向位置信息，确定驶入范围的最小值；基于第二交点的纵向位置信息以及第一预设距离，确定驶入范围的最大值。在其中的一些实施例中，第二确定模块702具体用于：根据第二预设距离在驶入范围内确定多个驶入点；根据多个驶入点与自车的距离，由小到大的顺序，依次将多个驶入点确定为候选驶入点。在其中的一些实施例中，第三确定模块703还用于：基于当前车道驶入待驶入车道场景下的最小设定速度，确定自车从当前位置到达候选驶入点的最大驶入时间；基于当前车道驶入待驶入车道场景下的最大设定速度以及自车的参数信息，确定自车从当前位置到达对应的候选驶入点的最小驶入时间；基于最大驶入时间以及最小驶入时间确定驶入时间范围。在其中的一些实施例中，第三确定模块703具体用于：基于多个障碍车中两两障碍车分别到达候选驶入点的时间，确定多个间隔时间；基于障碍车到达对应候选驶入点的顺序，依次确定对应的间隔时间与驶入时间范围是否存在时间交集。在其中的一些实施例中，第三确定模块703具体用于：基于多个障碍车中两两障碍车分别到达候选驶入点的时间，确定多个基础间隔时间；基于冗余时间以及多个基础间隔时间，确定多个间隔时间。在其中的一些实施例中，路径规划模块704具体用于：基于时间交集，确定自车驶入待驶入车道的最小期望时间；基于最小期望时间、自车的当前位置以及最优驶入点的位置，确定自车从当前位置到达最优驶入点的平均速度；基于平均速度进行路径规划。在其中的一些实施例中，路径规划模块704具体用于：将平均速度作为自车驶入待驶入车道的终态速度约束；基于终态速度约束进行纵向路径规划，得到纵向路径规划结果；基于纵向路径规划结果，确定自车驶入待驶入车道的终态车辆信息；基于终态车辆信息以及自车当前状态信息进行横向路径规划。需要说明的是，上述各个模块可以是功能模块也可以是程序模块，既可以通过软件来实现，也可以通过硬件来实现。对于通过硬件来实现的模块而言，上述各个模块可以位于同一处理器中；或者上述各个模块还可以按照任意组合的形式分别位于不同的处理器中。在一个实施例中，提供了一种域控器，该域控器可以是服务器，其内部结构图可以如图8所示，图8是本申请实施例提供的一种域控器的内部结构图，该域控器包括通过系统总线连接的处理器、存储器和网络接口。其中，该域控器的处理器用于提供计算和控制能力。该域控器的存储器包括非易失性存储介质和内存储器。该非易失性存储介质存储有操作系统、计算机程序和数据库。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该域控器的数据库用于存储传感器获取的数据。该域控器的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时以实现一种路径规划方法。本领域技术人员可以理解，图8中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，还提供了一种计算机设备，包括存储器和处理器，存储器中存储有计算机程序，该处理器执行计算机程序时实现上述各方法实施例中的步骤。在一个实施例中，提供了一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现上述各方法实施例中的步骤。需要说明的是，本申请所涉及的用户信息和数据，均为经用户授权或者经过各方充分授权的信息和数据。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存、光存储器、高密度嵌入式非易失性存储器、阻变存储器、磁变存储器、铁电存储器、相变存储器、石墨烯存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器等。作为说明而非局限，RAM可以是多种形式，比如静态随机存取存储器或动态随机存取存储器等。本申请所提供的各实施例中所涉及的数据库可包括关系型数据库和非关系型数据库中至少一种。非关系型数据库可包括基于区块链的分布式数据库等，不限于此。本申请所提供的各实施例中所涉及的处理器可为通用处理器、中央处理器、图形处理器、数字信号处理器、可编程逻辑器、基于量子计算的数据处理逻辑器等，不限于此。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对专利保护范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请的保护范围应以所附权利要求为准。
