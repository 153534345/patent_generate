标题title
图像处理方法、装置、电子设备及计算机可读存储介质
摘要abst
本申请提供了一种图像处理方法、装置、电子设备及计算机可读存储介质；所述方法包括：确定目标数字化X射线图像中肢体的数量；在所述肢体的数量大于第一阈值的情况下，基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位；对所述目标DR图像中的肢体图像进行分离，基于所述肢体的方位确定目标肢体图像。本申请实施例能够减少DR图像中多个肢体图像的分割所需的时间，简化处理过程。
权利要求书clms
1.一种图像处理方法，其特征在于，所述方法包括：确定目标数字化X射线DR图像中肢体的数量；在所述肢体的数量大于第一阈值的情况下，基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位；对所述目标DR图像中的肢体图像进行分离，基于所述肢体的方位确定目标肢体图像。2.根据权利要求1所述的方法，其特征在于，所述确定目标数字化X射线DR图像中肢体的数量，包括：确定所述目标DR图像中的前景区域；基于所述前景区域的数量确定所述目标DR图像中肢体的数量。3.根据权利要求2所述的方法，其特征在于，所述基于所述前景区域的数量确定所述目标DR图像中肢体的数量，包括：若所述前景区域的数量为1，则确定所述目标DR图像中肢体的数量为1；若所述前景区域的数量大于1，则基于所述前景区域的面积确定所述目标DR图像中肢体的数量。4.根据权利要求3所述的方法，其特征在于，所述基于所述前景区域的面积确定所述目标DR图像中肢体的数量，包括：所述前景区域包括第一前景区域和第二前景区域；若所述第一前景区域的面积与所述第二前景区域的面积之差小于第二阈值，则所述目标DR图像中肢体的数量为2；若所述第一前景区域的面积与所述第二前景区域的面积之差大于或等于所述第二阈值，则所述目标DR图像中肢体的数量为1。5.根据权利要求1所述的方法，其特征在于，所述基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位，包括：确定所述目标DR图像中用于表征所述肢体的方位的标识上的角点；对所述角点进行聚类处理，得到第一聚类中心和第二聚类中心；基于第一聚类中心与第二聚类中心之间的距离与所述目标DR图像的宽度的比值，对表征所述肢体的方位的标识分类；确定分类后的所述标识的最大边界为所述标识所属的区域；基于所述标识所属的区域的轮廓线确定所述肢体的方位。6.根据权利要求5所述的方法，其特征在于，所述基于所述标识所属的区域的轮廓线确定所述肢体的方位，包括：针对一类标识，若所述标识所属的区域的轮廓线的数量为1，则确定所述肢体的方位为左方位；若所述标识所属的区域的轮廓线的数量为2，则确定所述肢体的方位为右方位。7.根据权利要求1所述的方法，其特征在于，所述对所述目标DR图像中的肢体图像进行分离，包括：确定所述目标DR图像中的面积最大的第一前景区域和第二前景区域；确定所述第一前景区域的中心位置为第一中心，所述第二前景区域的中心位置为第二中心；基于所述第一中心和第二中心的中点确定第一界限；基于所述第一界限对所述目标DR图像进行分离，得到所述第一前景区域对应的肢体图像和所述第二前景区域对应的肢体图像。8.根据权利要求1所述的方法，其特征在于，所述基于所述肢体的方位确定目标肢体图像，包括：根据表征肢体的方位的标识，确定左方位的肢体对应的图像为所述目标肢体图像。9.根据权利要求1至8任一项所述的方法，其特征在于，所述确定目标数字化X射线DR图像中肢体的数量之前，所述方法还包括：对待处理DR图像进行形态学处理，得到所述目标DR图像。10.一种图像处理装置，其特征在于，所述装置包括：肢体数量确定模块，用于确定目标数字化X射线DR图像中肢体的数量；方位确定模块，用于在所述肢体的数量大于第一阈值的情况下，基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位；肢体图像确定模块，用于对所述目标DR图像中的肢体图像进行分离，基于所述肢体的方位确定目标肢体图像。11.一种电子设备，其特征在于，包括：存储器，用于存储可执行指令；处理器，用于执行所述存储器中存储的可执行指令时，实现权利要求1至9任一项所述的图像处理方法。12.一种计算机可读存储介质，其特征在于，存储有可执行指令，用于被处理器执行时，实现权利要求1至9任一项所述的图像处理方法。
说明书desc
技术领域本申请涉及图像处理技术，尤其涉及一种图像处理方法、装置、电子设备及计算机可读存储介质。背景技术通常通过数字化X射线图像呈现人或动物肢体的特征；不同的机构拍摄的肢体DR图像可能存在差异，如有些DR图像呈现一个肢体，有些DR图像呈现两个肢体；以手的DR图像为例，有的DR图像呈现的是一只手，有的DR图像呈现的是两只手。但是，在一些场景下，仅需要呈现一个肢体的DR图像；因此，需要DR图像中包括的多个肢体的图像进行分割。发明内容本申请实施例提供一种图像处理方法、装置、电子设备及计算机可读存储介质，能够对DR图像中包括的多个肢体的图像进行分割。本申请实施例的技术方案是这样实现的：第一方面，本申请实施例提供一种图像处理方法，包括：确定DR图像中肢体的数量；在所述肢体的数量大于第一阈值的情况下，基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位；对所述目标DR图像中的肢体图像进行分离，基于所述肢体的方位确定目标肢体图像。在上述方案中，所述确定目标数字化X射线DR图像中肢体的数量，包括：确定所述目标DR图像中的前景区域；基于所述前景区域的数量确定所述目标DR图像中肢体的数量。在上述方案中，所述基于所述前景区域的数量确定所述目标DR图像中肢体的数量，包括：若所述前景区域的数量为1，则所述目标DR图像中肢体的数量为1；若所述前景区域的数量大于1，则基于所述前景区域的面积确定所述目标DR图像中肢体的数量。在上述方案中，所述基于所述前景区域的面积确定所述目标DR图像中肢体的数量，包括：所述前景区域包括第一前景区域和第二前景区域；若所述第一前景区域的面积与所述第二前景区域的面积之差小于第二阈值，则所述目标DR图像中肢体的数量为2；若所述第一前景区域的面积与所述第二前景区域的面积之差大于或等于所述第二阈值，则所述目标DR图像中肢体的数量为1。在上述方案中，所述基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位，包括：确定所述目标DR图像中用于表征所述肢体的方位的标识上的角点；对所述角点进行聚类处理，得到第一聚类中心和第二聚类中心；基于第一聚类中心与第二聚类中心之间的距离与所述目标DR图像的宽度的比值，对表征所述肢体的方位的标识分类；确定分类后的所述标识的最大边界为所述标识所属的区域；基于所述标识所属的区域的轮廓线确定所述肢体的方位。在上述方案中，所述基于所述标识所属的区域的轮廓线确定所述肢体的方位，包括：针对一类标识，若所述标识所属的区域的轮廓线的数量为1，则确定所述肢体的方位为左方位；若所述标识所属的区域的轮廓线的数量为2，则确定所述肢体的方位为右方位。在上述方案中，所述对所述目标DR图像中的肢体图像进行分离，包括：确定所述目标DR图像中的面积最大的第一前景区域和第二前景区域；确定所述第一前景区域的中心位置为第一中心，所述第二前景区域的中心位置为第二中心；基于所述第一中心和第二中心的中点确定第一界限；基于所述第一界限对所述目标DR图像进行切割，得到所述第一前景区域对应的肢体图像和所述第二前景区域对应的肢体图像。在上述方案中，所述基于所述肢体的方位确定目标肢体图像，包括：确定左方位的肢体对应的图像为所述目标肢体图像。在上述方案中，所述确定目标数字化X射线DR图像中肢体的数量之前，所述方法还包括：对待处理DR图像进行形态学处理，得到所述目标DR图像。第二方面，本申请实施例提供一种图像处理装置，所述装置包括：肢体数量确定模块，用于确定目标数字化X射线DR图像中肢体的数量；方位确定模块，用于在所述肢体的数量大于第一阈值的情况下，基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位；肢体图像确定模块，用于对所述目标DR图像中的肢体图像进行分离，基于所述肢体的方位确定目标肢体图像。第三方面，本申请实施例提供一种电子设备，包括：存储器，用于存储可执行指令；处理器，用于执行所述存储器中存储的可执行指令时，实现本申请实施例提供的图像处理方法。第四方面，本申请实施例提供一种计算机可读存储介质，存储有可执行指令，用于被处理器执行时，实现本申请实施例提供的图像处理方法。本申请实施例提供的图像处理方法，确定目标DR图像中肢体的数量；在所述肢体的数量大于第一阈值的情况下，基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位；对所述目标DR图像中的肢体图像进行分离，基于所述肢体的方位确定目标肢体图像。其中，目标DR图像中的肢体的方位可以通过表征肢体的方位的标识对应的轮廓线的数量确定，无需通过机器学习模型确定，节省了为实现目标DR图像中多个肢体图像的分割时，利用机器学习模型识别肢体的方位的过程，并且节省了训练用于识别肢体的方位的机器学习模型的过程，减少了目标DR图像中多个肢体图像的分割所需的时间，简化了处理过程。附图说明图1是本申请实施例提供的图像处理系统的架构示意图；图2是本申请实施例提供的应用图像处理方法的服务器的结构示意图；图3是本申请实施例提供的图像处理方法的一种可选处理流程示意图；图4是本申请实施例提供的确定目标DR图像中肢体的数量的可选处理流程示意图；图5是本申请实施例提供的对待处理DR图像进行形态学处理的一种可选示意图；图6是本申请实施例提供的对待处理DR图像进行形态学处理的另一种可选示意图；图7是本申请实施例提供的确定肢体的方位的一种可选处理流程示意图；图8是本申请实施例提供的对目标DR图像中的肢体图像进行分离的一种可选处理流程示意图；图9是本申请实施例提供的对目标DR图像进行图像分割的示意图；图10是本申请实施例提供的第一界限的示意图。具体实施方式为了使本申请的目的、技术方案和优点更加清楚，下面将结合附图对本申请作进一步地详细描述，所描述的实施例不应视为对本申请的限制，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本申请保护的范围。在以下的描述中，涉及到“一些实施例”，其描述了所有可能实施例的子集，但是可以理解,“一些实施例”可以是所有可能实施例的相同子集或不同子集，并且可以在不冲突的情况下相互结合。在以下的描述中，所涉及的术语“第一第二”仅仅是区别类似的对象，不代表针对对象的特定排序，可以理解地，“第一第二”在允许的情况下可以互换特定的顺序或先后次序，以使这里描述的本申请实施例能够以除了在这里图示或描述的以外的顺序实施。除非另有定义，本文所使用的所有的技术和科学术语与属于本申请的技术领域的技术人员通常理解的含义相同。本文中所使用的术语只是为了描述本申请实施例的目的，不是旨在限制本申请。相关技术中DR图像中多个肢体图像的分割存在以下技术方案：首先通过深度学习技术检测DR图像中代表方位的字母，再对DR图像进行字符识别，从而判断DR图像中的左侧肢体和右侧肢体，并进行左侧肢体图像和右侧肢体图像的分割。然而以上方法所需时间较长，判断左侧和右侧肢体的过程十分繁琐。另外，检测代表方位的字母时，需要大量的字母样本数据训练神经网络模型；字符识别时，也需要多种类型的字符样本数据训练神经网络模型；因此，深度学习技术不适合应用于DR图像中多个肢体图像的分割。相关技术中，DR图像中多个肢体的分割的应用场景至少包括骨龄评估。骨龄评估通常基于呈现单手的DR图像进行处理和计算得到。针对相关技术提供的上述方法存在的DR图像中多个肢体图像的分割所需时间长和过程繁琐的问题，本申请实施例提供了一种图像处理方法，装置、电子设备和计算机可读存储介质，能够解决DR图像中多个肢体图像的分割所需时间长和过程繁琐的问题，减少DR图像中多个肢体图像的分割所需的时间，简化处理过程。下面说明本申请实施例提供的电子设备的示例性应用，本申请实施例提供的电子设备可以实施为服务器。下面，将说明电子设备实施为服务器时示例性应用。服务器可以是独立的物理服务器，也可以是多个物理服务器构成的服务器集群或者分布式系统，还可以是提供云计算服务的云服务器。终端可以是智能手机、平板电脑、笔记本电脑、台式计算机、智能音箱、智能手表等，但并不局限于此。终端以及服务器可以通过有线或无线通信方式进行直接或间接地连接，本申请实施例在此不做限制。参见图1，图1是本申请实施例提供的实施本申请实施例图像处理方法的图像处理系统的架构示意图，图像处理系统可以用于对DR图像中包括的多个肢体图像进行分离。在图像处理系统中，图像处理系统的功能可以是基于服务器200中的各个模块实现的，终端400通过网络300连接服务器200，网络300可以是广域网或者局域网，又或者是二者的组合，响应于服务器200接收到终端400的图像处理请求，服务器200中的肢体数量确定模块2551确定DR图像中肢体的数量；方位确定模块2552在所述肢体的数量大于第一阈值的情况下，确定所述肢体的方位；肢体图像确定模块2553，用于对所述目标DR图像中的肢体图像进行分离，基于所述肢体的方位确定目标肢体图像。作为示例，终端400可以安装并运行相关的应用。应用是指于服务器相对应，为客户提供本地服务的程序。这里，本地服务可以包括但不限于：显示DR图像，向服务器发送DR图像。本申请实施例中所述的终端可以包括但不限于任何一种基于智能操作系统的电子产品，其可与用户通过键盘、虚拟键盘、触摸板、触摸屏以及声控设备等输入设备来进行人机交互，诸如智能手机、平板电脑、个人电脑等。其中，智能操作系统包括但不限于任何通过向移动设备提供各种移动应用来丰富设备功能的操作系统，诸如：安卓、IOS等。可以理解，图1的图像处理系统构架只是本申请实施例中的部分示例性的实施方式，本申请实施例中图像处理系统架构包括但不限于图1所示的图像处理系统构架。参见图2，图2是本申请实施例提供的应用图像处理方法的服务器200的结构示意图，图2所示的服务器200包括：至少一个处理器210、存储器250和至少一个网络接口220。服务器200中的各个组件通过总线系统240耦合在一起。可理解，总线系统240用于实现这些组件之间的连接通信。总线系统240除包括数据总线之外，还包括电源总线、控制总线和状态信号总线。但是为了清楚说明起见，在图2中将各种总线都标为总线系统240。处理器210可以是一种集成电路芯片，具有信号的处理能力，例如通用处理器、数字信号处理器，或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等，其中，通用处理器可以是微处理器或者任何常规的处理器等。存储器250可以是可移除的，不可移除的或其组合。示例性的硬件设备包括固态存储器，硬盘驱动器，光盘驱动器等。存储器250可选地包括在物理位置上远离处理器210的一个或多个存储设备。在一些实施例中，存储器250能够存储数据以支持各种操作，这些数据的示例包括程序、模块和数据结构或者其子集或超集，下面示例性说明。操作系统251，包括用于处理各种基本系统服务和执行硬件相关任务的系统程序，例如框架层、核心库层、驱动层等，用于实现各种基础业务以及处理基于硬件的任务；网络通信模块252，用于经由一个或多个网络接口220到达其他计算设备，示例性的网络接口220包括：蓝牙、无线相容性认证、和通用串行总线等。在一些实施例中，本申请实施例提供的图像处理装置可以采用软件方式实现，图2示出了存储在存储器250中的图像处理装置255，包括了图像处理系统的多个模块，模块可以是程序和插件等形式的软件，至少包括以下软件模块：肢体数量确定模块2551、方位确定模块2552和肢体图像确定模块2553，这些模块是逻辑上的，因此根据所实现的功能可以进行任意的组合或进一步拆分，将在下文中说明各个模块的功能。将结合本申请实施例提供的图像处理系统的示例性应用和实施，说明本申请实施例提供的图像处理方法。参见图3，图3是本申请实施例提供的图像处理方法的一种可选处理流程示意图，将结合图3示出的步骤S101-S103进行说明。步骤S101，确定目标DR图像中肢体的数量。在一些实施例中，图像处理装置确定目标DR图像中肢体的数量。在一些实施例中，目标DR图像可由DR系统拍摄，DR系统即直接数字化X射线摄影系统，是由电子暗盒、扫描控制器、系统控制器、影像监示器等组成，直接将X线光子通过电子暗盒转换为数字化图像，是一种广义上的直接数字化X线摄影。而狭义上的直接数字化摄影即DDR，通常指采用平板探测器的影像直接转换技术的数字放射摄影，是真正意义上的直接数字化X射线摄影系统。按照探测器类型主要分为非晶硅平板DR、非晶硒平板DR和CCD DR；按照机架结构分为悬吊DR和立柱DR。在一些实施例中，目标DR图像呈现的肢体可以是手或脚；肢体的数量可以是1个或多个。在一些实施例中，确定目标DR图像中肢体的数量的可选处理流程示意图，如图4所示，至少可以包括：步骤S101a，确定目标DR图像中的前景区域。在一些实施例中，在确定目标DR图像中的前景区域之前，可以先对待处理DR图像进行预处理和形态学处理，得到所述目标DR图像。其中，对待处理图像进行预处理可以是对待处理DR图像基于最大值和最小值进行归一化处理，以对待处理DR图像进行拉伸，提高待处理DR图像的对比度。通过对待处理DR图像进行预处理，便于后续对待处理DR图像进行二值化处理和角点检测。在一些实施例中，形态学处理可以在对待处理DR图像进行预处理之后执行；形态学处理可以包括腐蚀和/或膨胀等处理方式。作为示例，对待处理DR图像进行形态学处理的一种可选示意图，可以如图5所示，图5中右侧图像为待处理DR图像，图5中左侧图像为经过腐蚀处理得到的目标DR图像。作为示例，对待处理DR图像进行形态学处理的另一种可选示意图，可以如图6所示，图6中右侧图像为待处理DR图像，图6中左侧图像为经过腐蚀和膨胀处理得到的目标DR图像。基于图5和图6可以看出，待处理DR图像经过形态学处理，能够去除待处理DR图像中的细小噪声，区分手部区域与手的方位标识，使左手和右手之间的界限更清晰。在一些实施例中，在得到目标DR图像之后，可以对目标DR图像进行二值化处理。作为示例，可以按照大津法求得大津阈值，基于大津阈值进行图像二值化处理，使得目标DR图像中前景区域与背景区域的类间方差最大，便于获取目标DR图像中的前景区域。在一些实施例中，前景区域可以是目标DR图像中呈现肢体的区域，前景区域可以包括肢体图像。在一些实施例中，可以采用帧差法或背景减除法等方式获取目标DR图像中的前景区域。步骤S101b，基于所述前景区域的数量确定所述目标DR图像中肢体的数量。在一些实施例中，图像处理装置可以将前景区域的数量确定为目标DR图像中肢体的数量。举例来说，若前景区域的数量为1，则可以确定目标DR图像中肢体的数量为1；以肢体是手为例，若前景区域的数量为1，则可以确定目标DR图像中手的数量为1。若前景区域的数量为大于1，则基于所述前景区域的面积确定所述目标DR图像中肢体的数量。以前景区域包括第一前景区域和第二前景区域为例，若所述第一前景区域的面积与所述第二前景区域的面积之差小于第二阈值，则所述目标DR图像中肢体的数量为2；若所述第一前景区域的面积与所述第二前景区域的面积之差大于或等于所述第二阈值，则所述目标DR图像中肢体的数量为1。其中，第二阈值可以根据实际的应用场景灵活设置；若第一前景区域的面积与第二前景区域的面积之差小于第二阈值，则表征第一前景区域与第二前景区域面积接近，第一前景区域和第二前景区域呈现的是相同类型的对象，如第一前景区域和第二前景区域均是手的DR图像。若第一前景区域的面积与第二前景区域的面积之差大于或等于第二阈值，则表征第一前景区域与第二前景区域面积相差较大，第一前景区域和第二前景区域呈现的可能是不同类型的对象，如第一前景区域是手的DR图像，第二前景区域是手的方位标识；该场景下，目标DR图像中肢体的数量为1。步骤S102，在所述肢体的数量大于第一阈值的情况下，基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位。在一些实施例中，在目标DR图像中肢体的数量大于第一阈值的情况下，图像处理装置基于表征每个肢体的方位的标识，确定每个肢体的方位。作为示例，图像处理装置确定表征每个肢体的方位的标识，基于每个标识对应的轮廓线的数量确定每个肢体的方位。其中，每个标识对应的轮廓线可以是每个标识所属的区域的轮廓线。在一些实施例中，确定肢体的方位的一种可选处理流程，如图7所示，至少可以包括：步骤S102a，确定所述目标DR图像中用于表征所述肢体的方位的标识上的角点。在一些实施例中，角点可以是物体或对象轮廓线的连接点；如灰度的梯度的局部最大所对应的像素点为角点，或者两条及两条以上边缘的交点为角点，或者图像中梯度值和梯度方向的变化速率都很高的点为角点。在一些实施例中，图像处理装置可以先检测目标DR图像中的全部角点，再从目标DR图像中的全部角点中确定用于表征所述肢体的方位的标识上的角点。作为示例，表征所述肢体的方位的标识可以是R或L，R表示右侧，L表示左侧。图像处理装置可以先检测目标DR图像中的全部角点时，可以使用一个固定窗口在目标DR图像上进行任意方向上的滑动，比较滑动前与滑动后两种情况，窗口中的像素灰度变化程度，如果存在任意方向上的滑动，都有着较大灰度变化，那么可以认为该窗口中存在角点。图像处理装置在检测到目标DR图像中的全部角点之后，从全部角点中筛选出表征所述肢体的方位的标识上的角点。步骤S102b，对所述角点进行聚类处理，得到第一聚类中心和第二聚类中心。在一些实施例中，图像处理装置对表征肢体的方位的标识上的角点进行聚类处理，聚类的数量用于表示标识的类别，作为示例，聚类的数量可以是2。若聚类的数量是2，则可以得到2个聚类中心，分别是第一聚类中心和第二聚类中心。在具体实施时，对表征肢体的方位的标识上的角点进行聚类处理时，可以利用划分方法、层次方法、基于密度的方法、基于网格的方法以及基于模型的方法等实现，本申请实施例不做限定。步骤S102c，基于第一聚类中心与第二聚类中心之间的距离与所述目标DR图像的宽度的比值，对表征所述肢体的方位的标识分类。在一些实施例中，图像处理装置基于第一聚类中心与第二聚类中心之间的距离与所述目标DR图像的宽高的比值，对表征所述肢体的方位的标识分类。在一些实施例中，若第一聚类中心与第二聚类中心之间的距离与目标DR图像的宽高的比值小于预设的距离阈值，则表征第一聚类中心和第二聚类中心来自于同一个表征肢体的方位的标识，可将第一聚类中心和第二聚类中心归为一类。若第一聚类中心与第二聚类中心之间的距离与目标DR图像的宽高的比值大于或等于预设的距离阈值，则表征第一聚类中心和第二聚类中心来自于不同的表征肢体的方位的标识。步骤S102d，确定分类后的所述标识的最大边界为所述标识所属的区域。在一些实施例中，图像处理装置可以根据分类的最大边界得到表征不同的肢体的方位的标识所在的区域。作为示例，若聚类的数量是2，则可以得到2个聚类中心，分别是第一聚类中心和第二聚类中心；第一聚类中心和第二聚类中西分别对应一个标识，每个标识对应一个区域。步骤S102e，基于所述标识所属的区域的轮廓线确定所述肢体的方位。在一些实施例中，图像处理装置可以基于标识所属的区域的轮廓线确定所述肢体的方位。在一些实施例中，标识可以包括“R”和“L”，其中，“R”表示右侧，“L”表示左侧。由于“R”的轮廓线数量为2，“L”的轮廓线数量为1，因此可以根据标识的轮廓线数量确定肢体的方位。作为示例，针对某个标识，若所述标识所属的区域的轮廓线的数量为1，则确定所述肢体的方位为左方位；若所述标识所属的区域的轮廓线的数量为2，则确定所述肢体的方位为右方位。步骤S103，对所述目标DR图像中的肢体图像进行分离，基于所述肢体的方位确定目标肢体图像。在一些实施例中，对目标DR图像中的肢体图像进行分离的一种可选处理流程，如图8所示，至少可以包括：步骤S103a，确定所述目标DR图像中的面积最大的第一前景区域和第二前景区域。在一些实施例中，可以对目标DR图像进行二值化处理。作为示例，可以按照大津法求得大津阈值，基于大津阈值进行图像二值化处理，使得目标DR图像中前景区域与背景区域的类间方差最大，便于获取目标DR图像中的前景区域。作为示例，目标DR图像包括手的图像和表征手的方位的标识的图像，手的图像大小大于表征手的方位的标识的图像大小；因此，通过确定目标DR图像中面积最大的第一前景区域和第二前景区域，能够确定目标DR图像中手的图像。在一些实施例中，对目标DR图像进行图像分割的示意图，如图9所示，图9右侧为目标DR图像，左侧为图像分割后得到的第一前景区域对应的肢体图像和第二前景区域对应的肢体图像。步骤S103b，确定所述第一前景区域的中心位置为第一中心，所述第二前景区域的中心位置为第二中心。在一些实施例中，所述第一前景区域的中心位置可以是第一前景区域的轮廓线的中心位置，所述第二前景区域的中心位置可以是第二前景区域的轮廓线的中心位置。步骤S103c，基于所述第一中心和第二中心的中点确定第一界限。在一些实施例中，图像处理装置可以确定第一中心和第二中心两个点之间的中心位置。第一界限的示意图，如图10所示，图10右侧为目标DR图像，图像分割后得到的第一前景区域对应的肢体图像和第二前景区域对应的肢体图像，可以连接第一前景区域的第一中心和和第二前景区域的第二中心，得到以第一中心和第二中心为端点的线段，以该线段的中心做垂直于该线段的垂线，该垂线为第一界限。步骤S103d，基于所述第一界限对所述目标DR图像进行切割，得到所述第一前景区域对应的肢体图像和所述第二前景区域对应的肢体图像。在一些实施例中，图像处理装置可以以第一界限为作为边界线对目标DR图像进行切割，得到第一前景区域对应的肢体图像和第二前景区域对应的肢体图像。在一些实施例中，在对目标DR图像中的肢体图像进行分离之后，根据分离后的两个肢体图像对应的方位标识，确定左方位的肢体图像；并确定左方位的肢体图像为目标肢体图像。本申请实施例提供的图像处理方法，目标DR图像中肢体的方位可以根据表征肢体的方位的标识对应的轮廓线的数量确定，无需利用机器学习模型确定。目标DR图像中肢体的数量可以通过目标DR图像中前景区域的数量确定，无需利用机器学习模型确定。目标DR图像中的目标肢体可以通过对目标DR图像中的肢体图像分割以及每个肢体的方向确定，无需利用机器学习模型确定。本申请实施例提供的图像处理方法，也可以预先训练完成用于识别肢体方位的肢体方位识别模型，所述肢体方位识别模型可以包括肢体数量确定子模型、和目标肢体确定子模型。训练肢体数量确定子模型的过程可以包括：获取DR图像样本，并确定DR图像样本的标签；其中，DR图像样本的标签可以包括DR图像样本包括的肢体数量；将DR图像样本输入肢体数量确定子模型，肢体数量确定子模型输出DR图像样本包括的肢体样本数量；确定肢体样本数量与DR图像样本包括的真实肢体数量的差异，基于所述差异更新肢体数量确定子模型的参数。目标DR图像中肢体的方位可以根据表征肢体的方位的标识对应的轮廓线的数量确定，无需利用机器学习模型确定。训练目标肢体确定子模型的过程可以包括：将DR图像样本输入目标肢体确定子模型，目标肢体确定子模型输出目标样本肢体，确定目标样本肢体与DR图像样本包括的目标肢体的差异，基于所述差异更新目标肢体确定子模型的参数。本申请实施例提供的图像处理方法中，目标DR图像中的肢体的方位可以通过表征肢体的方位的标识的轮廓线的数量确定，无需通过机器学习模型确定，节省了为实现目标DR图像中多个肢体图像的分割时，利用机器学习模型识别肢体的方位的过程，并且节省了训练用于识别肢体的方位的机器学习模型的过程，减少了DR图像中多个肢体图像的分割所需的时间，简化了处理过程。下面对本申请实施例提供的图像处理方法在骨龄确定的应用场景中的示例性应用。使用图像处理方法的应用程序可以是一款构建在移动终端上的平台，或者可以是内置于移动终端的其他应用程序，对DR图像进行腐蚀和膨胀等形态学处理；对形态学处理后的DR图像进行阈值分割，通过判断DR图像中前景区域的数量，确定DR图像所包括的肢体数量。若DR图像中前景区域的数量为1，则确定DR图像所包括的肢体数量为1；该DR图像即为目标肢体图像。若DR图像中前景区域的数量为2，则确定DR图像所包括的肢体数量为2；进一步判断两个前景区域的面积，若两个前景区域的面积差异较大，可以认为两个前景区域分别是肢体对应的区域和表征肢体方位的标识对应的区域，该DR图像包括的肢体数量为1，该DR图像即为目标肢体图像。若两个前景区域的面积差异较小，可以认为两个前景区域为两个肢体对应的区域；则进一步判断每个肢体对应的标识的轮廓线确定每个肢体对应的标识为“R”或“L”，进而确定每个肢体的方位；最后确定左方位的肢体为目标肢体。在确定目标肢体之后，识别目标肢体图像中的关节；作为示例，可以识别13个掌指骨关节图像和1个腕骨关节图像，1个腕骨关节图像包括7块腕部关节；分别基于DR图像、每个关节图像和DR图像所属的人物的生理年龄信息确定每个关节的关节评级，得到14个关节评级。之后，可以根据13个掌指骨关节评级确定13个掌指骨关节的关节评级值，每个关节的评级值对应一个骨龄评分，将13个掌指骨关节的骨龄评分进行加和运算，得到掌指骨关节的总评分；根据现有技术中掌指骨关节的总评分与骨龄的对应关系，确定与掌指骨关节的总评分对应的掌指骨关节的骨龄。同理，根据7块腕部关节评级确定7块腕部关节的关节评级值，每个关节的评级值对应一个骨龄评分，将7块腕部关节的骨龄评分进行加和运算，得到腕骨关节的总评分；根据现有技术中腕骨关节的总评分与骨龄的对应关系，确定与腕骨关节的总评分对应的腕骨关节的骨龄。进而，可以通过掌指骨关节的骨龄和/或腕骨关节的骨龄描述骨骼发育的不同阶段，判断人体的生长发育情况。本实施例中，可基于TW3方法进行骨龄评估。下面继续说明本申请实施例提供的图像处理装置255的实施为软件模块的示例性结构，在一些实施例中，如图2所示，存储在存储器250的图像处理装置255中的软件模块可以包括：肢体数量确定模块2551，用于确定目标数字化X射线DR图像中肢体的数量；方位确定模块2552，用于在所述肢体的数量大于第一阈值的情况下，基于表征所述肢体的方位的标识对应的轮廓线确定所述肢体的方位。肢体图像确定模块2553，用于对所述目标DR图像中的肢体图像进行分离，基于所述肢体的方位确定目标肢体图像。在一些实施例中，所述肢体数量确定模块2551，用于确定所述目标DR图像中的前景区域；基于所述前景区域的数量确定所述目标DR图像中肢体的数量。在一些实施例中，所述肢体数量确定模块2551，用于若所述前景区域的数量为1，则确定所述目标DR图像中肢体的数量为1；若所述前景区域的数量大于1，则基于所述前景区域的面积确定所述目标DR图像中肢体的数量。在一些实施例中，所述前景区域包括第一前景区域和第二前景区域；所述肢体数量确定模块2551，用于若所述第一前景区域的面积与所述第二前景区域的面积之差小于第二阈值，则所述目标DR图像中肢体的数量为2；若所述第一前景区域的面积与所述第二前景区域的面积之差大于或等于所述第二阈值，则所述目标DR图像中肢体的数量为1。在一些实施例中，所述方位确定模块2552，用于确定所述目标DR图像中用于表征所述肢体的方位的标识上的角点；对所述角点进行聚类处理，得到第一聚类中心和第二聚类中心；基于第一聚类中心与第二聚类中心之间的距离与所述目标DR图像的宽度的比值，对表征所述肢体的方位的标识分类；确定分类后的所述标识的最大边界为所述标识所属的区域；基于所述标识所属的区域的轮廓线确定所述肢体的方位。在一些实施例中，所述方位确定模块2552，用于针对一类标识，若所述标识所属的区域的轮廓线的数量为1，则确定所述肢体的方位为左方位；若所述标识所属的区域的轮廓线的数量为2，则确定所述肢体的方位为右方位。在一些实施例中，所述肢体图像确定模块2553，用于确定所述目标DR图像中的面积最大的第一前景区域和第二前景区域；确定所述第一前景区域的中心位置为第一中心，所述第二前景区域的中心位置为第二中心；基于所述第一中心和第二中心的中点确定第一界限；基于所述第一界限对所述目标DR图像进行切割，得到所述第一前景区域对应的肢体图像和所述第二前景区域对应的肢体图像。在一些实施例中，所述肢体图像确定模块2553，用于根据表征肢体的方位的标识，确定左方位的肢体对应的图像为所述目标肢体图像。在一些实施例中，所述肢体数量确定模块2551，还用于对待处理DR图像进行形态学处理，得到所述目标DR图像。需要说明的是，本申请实施例装置的描述，与上述方法实施例的描述是类似的，具有同方法实施例相似的有益效果，因此不做赘述。对于本申请实施例提供的基于人工智能的关节评级装置中未尽的技术细节，可以根据图1至图6中任一附图的说明而理解。本申请实施例提供一种存储有可执行指令的计算机可读存储介质，其中存储有可执行指令，当可执行指令被处理器执行时，将引起处理器执行本申请实施例提供的图像处理方法。在一些实施例中，计算机可读存储介质可以是FRAM、ROM、PROM、EP ROM、EEPROM、闪存、磁表面存储器、光盘、或CD-ROM等存储器；也可以是包括上述存储器之一或任意组合的各种设备。在一些实施例中，可执行指令可以采用程序、软件、软件模块、脚本或代码的形式，按任意形式的编程语言来编写，并且其可按任意形式部署，包括被部署为独立的程序或者被部署为模块、组件、子例程或者适合在计算环境中使用的其它单元。作为示例，可执行指令可被部署为在一个计算设备上执行，或者在位于一个地点的多个计算设备上执行，又或者，在分布在多个地点且通过通信网络互连的多个计算设备上执行。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。应理解，在本申请的各种实施例中，各实施过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本申请实施例的实施过程构成任何限定。以上，仅为本申请的实施例而已，并非用于限定本申请的保护范围。凡在本申请的精神和范围之内所作的任何修改、等同替换和改进等，均包含在本申请的保护范围之内。
