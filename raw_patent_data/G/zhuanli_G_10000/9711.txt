标题title
一种基于BIM技术的涉核作业人员路径规划方法及系统
摘要abst
本发明公开了一种基于BIM技术的涉核作业人员路径规划方法及系统，包括S1：从BIM场景模型中获取涉核厂房的相关参数数据，并进行预处理；S2：根据预处理后的数据，确定涉核厂房楼层的组合关系；S3：根据涉核厂房楼层的组合关系，选择作业人员路径规划起点、终点；判断作业人员的起点和终点是否在同一楼层，若是在同一楼层，则进行作业人员路径规划模式选择；若否，则选择相邻楼层的组合后，进行作业人员路径规划模式选择；S4：采用A*算法进行作业人员路径规划，得到路径规划结果。本发明以作业人员行走路径和作业人员受照剂量大小作为评价依据，规划和优化核设施维/退役人员三维路径，减少人员受照剂量，保护人员和环境安全。
权利要求书clms
1.一种基于BIM技术的涉核作业人员路径规划方法，其特征在于，该方法包括：S1：从BIM三维场景模型中获取涉核厂房的相关参数数据，并对获取的涉核厂房的相关参数数据进行栅格化预处理，得到结构体参数数据；S2：根据预处理后的结构体参数数据，确定涉核厂房楼层的组合关系；S3：根据涉核厂房楼层的组合关系，选择作业人员路径规划起点、终点；判断作业人员的起点和终点是否在同一楼层，若是在同一楼层，则进行作业人员路径规划模式选择；若否，则选择相邻楼层的组合后，进行作业人员路径规划模式选择；所述作业人员路径规划模式包括作业人员受照剂量累积量最小路径规划、作业人员行走距离最短路径规划和作业人员多指标评价最优路径规划；其中，所述作业人员多指标评价最优路径规划是通过对人员受照剂量和人员行走距离两个指标取权重值计算；S4：根据选择的作业人员路径规划模式，采用涉核A*算法进行作业人员的路径规划，得到路径规划结果并输出。2.根据权利要求1所述的一种基于BIM技术的涉核作业人员路径规划方法，其特征在于，步骤S1中所述涉核厂房的相关参数数据包括涉核厂房实际场景参数、涉核厂房实际设备参数、涉核厂房实际放射性参数；所述涉核厂房实际场景参数包括涉核厂房占地大小，厂房高度，楼层数，楼层高度及每层所有楼梯对的入口和出口位置；所述涉核厂房实际设备参数包括涉核厂房待拆除及维修的设备、管道、仪器、仪表的位置、体积及材质，在规划路径时，其属于障碍物；所述涉核厂房实际放射性参数包括涉核厂房放射性源项、已活化物项位置、活度，厂房内γ放射性水平分布。3.根据权利要求2所述的一种基于BIM技术的涉核作业人员路径规划方法，其特征在于，步骤S2包括以下子步骤：步骤21、根据步骤S1的场景参数确定多组楼梯对间的约束关系，获取相邻楼层多组楼梯对的排列组合关系矩阵；步骤22、计算起点和终点间的楼层差，判断是否存在中间层，即楼层差大于1；若存在中间层，从步骤21得到的排列组合关系矩阵中取出相应楼层楼梯对的排列组合情况。4.根据权利要求1所述的一种基于BIM技术的涉核作业人员路径规划方法，其特征在于，步骤S4中根据选择的作业人员路径规划模式，采用涉核A*算法进行作业人员的路径规划，包括：步骤41、采用涉核A*算法分别对步骤S3中的三种作业人员路径规划模式，设计三种不同评价标准的作业人员路径规划代价函数，包括作业人员受照剂量累积量最小代价函数、作业人员行走距离最短代价函数和作业人员多指标评价最优代价函数；步骤42、通过选择起点、终点和中间点，获得多条作业人员行走路径，根据设计的三种不同代价的代价函数值，获取满足相应条件的最优作业人员行走路径。5.根据权利要求4所述的一种基于BIM技术的涉核作业人员路径规划方法，其特征在于，步骤411、当作业人员路径规划目标为作业人员受照剂量累积量最小，实际代价G为作业人员行走在当前栅格点和下一个扩展栅格点作业人员所受到的辐射剂量之和，估计代价H为作业人员行走在下一个扩展栅格点与目标栅格点之间的作业人员受到的辐射剂量之和，总体代价F为实际代价与估计代价之和；步骤412、当作业人员路径规划目标为作业人员行走路径最短，实际代价G为作业人员在当前栅格点和下一个扩展栅格点之间的行走的最短距离，估计代价H为作业人员在下一个扩展栅格点与目标栅格点之间的行走最短距离，总体代价F为实际代价与估计代价之和；步骤413、当作业人员路径规划目标为多指标评价最优，通过权重综合考虑作业人员行走距离和作业人员受照剂量，实际代价G为当前栅格点和下一个扩展栅格点的作业人员受照剂量之和，估计代价H为下一个扩展栅格点与目标栅格点之间的作业人员受照剂量之和，作业人员受照剂量由两部分组成，一部分为以行走路径为准则转换的作业人员受照剂量，另一部分为作业人员行走过程中实际受到的受照剂量，总体代价F为实际代价与估计代价之和。6.根据权利要求5所述的一种基于BIM技术的涉核作业人员路径规划方法，其特征在于，步骤411中基于涉核A*算法的作业人员受照剂量最小代价函数包括：步骤4111、扩展栅格点时采用八向搜索的方式；步骤4112、实际代价分为对角线和非对角线栅格点考虑，对于对角线上的栅格点，考虑其行走距离比非对角元素长，引入一个大小为的修正因子；步骤4113、估计代价函数按照以下规则对两点间的代价进行估计：先按照斜对角线的方向对其辐射量进行累加，直到其x或者y坐标等于目标节点的x或者y坐标，再通过固定x或者y坐标，在y方向或者x方向上进行辐射量累加。7.根据权利要求5所述的一种基于BIM技术的涉核作业人员路径规划方法，其特征在于，步骤412中基于涉核A*算法的作业人员行走路径最短代价函数包括：步骤4121、扩展栅格点时采用八向搜索的方式；步骤4122、实际代价和估计代价采用欧式距离最短计算栅格点间的代价；步骤4123、估计代价采用欧式距离最短计算栅格点间的代价。8.根据权利要求5所述的一种基于BIM技术的涉核作业人员路径规划方法，其特征在于，步骤412中基于涉核A*算法的作业人员多指标评价最优代价函数包括：步骤4121、扩展栅格点时采用八向搜索的方式；步骤4122、实际代价分为对角线和非对角线栅格点考虑，对于对角线上的栅格点，考虑其行走距离比非对角元素长，引入一个大小为的修正因子；步骤4123、估计代价函数由两部分组成，一部分为以最短路径为准则转换的近似辐射量，考虑用直角三角形的两直角边之和来近似非直角边；另一部分为以辐射量最小为准则计算的辐射量，和步骤4122中的估计代价相同，按照以下规则对两点间的代价进行估计：先按照斜对角线的方向对其辐射量进行累加，直到其x或者y坐标等于目标节点的x或者y坐标，再通过固定x或者y坐标，在y方向或者x方向上进行辐射量累加，斜对角线乘以修正因子9.一种基于BIM技术的涉核作业人员路径规划系统，其特征在于，该系统支持如权利要求1至8中任一所述的一种基于BIM技术的涉核作业人员路径规划方法，该系统包括：获取单元，用于从BIM三维场景模型中获取涉核厂房的相关参数数据；预处理单元，用于对获取的涉核厂房的相关参数数据进行栅格化预处理，得到结构体参数数据；确定楼层的组合关系单元，用于根据预处理后的结构体参数数据，确定涉核厂房楼层的组合关系；选择起终点单元，用于根据涉核厂房楼层的组合关系，选择作业人员路径规划起点、终点；选择作业人员路径模式单元，用于判断作业人员的起点和终点是否在同一楼层，若是在同一楼层，则进行作业人员路径规划模式选择；若否，则选择相邻楼层的组合后，进行作业人员路径规划模式选择；所述作业人员路径规划模式包括作业人员受照剂量累积量最小路径规划、作业人员行走距离最短路径规划和作业人员多指标评价最优路径规划；其中，所述作业人员多指标评价最优路径规划是通过对人员受照剂量和人员行走距离两个指标取权重值计算；涉核作业人员路径规划单元，用于根据选择的作业人员路径规划模式，采用涉核A*算法进行作业人员的路径规划，得到路径规划结果输出单元，用于输出所述路径规划结果。10.根据权利要求9所述的一种基于BIM技术的涉核作业人员路径规划系统，其特征在于，所述获取单元中涉核厂房的相关参数数据包括涉核厂房实际场景参数、涉核厂房实际设备参数、涉核厂房实际放射性参数；所述涉核厂房实际场景参数包括涉核厂房占地大小，厂房高度，楼层数，楼层高度及每层所有楼梯对的入口和出口位置；所述涉核厂房实际设备参数包括涉核厂房待拆除及维修的设备、管道、仪器、仪表的位置、体积及材质，在规划路径时，其属于障碍物；所述涉核厂房实际放射性参数包括涉核厂房放射性源项、已活化物项位置、活度，厂房内γ放射性水平分布。
说明书desc
技术领域本发明涉及路径规划技术领域，具体涉及一种基于BIM技术的涉核作业人员路径规划方法及系统。背景技术核设施维修/退役等涉核作业中，由于核设施在役运行过程中，设备、仪器、管道受到中子活化或放射性核素的污染，核设施维修/退役的施工环境存在较强放射性，且系统包含反应堆、一回路及相应的大量辅助系统，空间狭窄，设备、仪器、管道种类繁多且紧密排布，施工作业安全风险高、不可预见性较强。利用仿真技术对危险环境下的人员行走路径进行规划，优化工作内容和方法，已被证明是一种安全、高效和低成本的研究方式。当前，国内外对核设施退役/维修的人员的路径规划仿真方法主要是基于二维平面实现的，不包含核设施场景和人员的空间几何、运动行为和状态信息。同时，现实中核设施维修/退役活动是在三维空间内进行，并存在高放射性、高复杂性的特点，单一的在二维平面的路径规划满足不了工程实际的需求。BIM技术为建筑信息模型技术，核心是建立虚拟的建筑三维模型，利用数字化技术为这个模型提供完整的、与实际情况一致的三维信息库，相比二维平面的路径规划，基于BIM技术的路径规划具备更高的可视化、模拟性和便捷性。发明内容本发明所要解决的技术问题是现有的涉核作业人员路径规划方法仅仅考虑作业人员行走路径，未考虑作业人员受照剂量大小，增加了作业人员受照剂量，存在工作人员和环境的安全问题。本发明目的在于提供一种基于BIM技术的涉核作业人员路径规划方法及系统，以作业人员行走路径和作业人员受照剂量大小作为评价依据，规划和优化核设施维/退役人员三维路径，减少作业人员受照剂量，保护工作人员和环境安全。本发明用于核设施维修/退役活动，对保证人员的辐照安全，减少放射性作业对人员、公众和环境造成的危害具有重要的实际意义。本发明通过下述技术方案实现：第一方面，本发明提供了一种基于BIM技术的涉核作业人员路径规划方法，该方法包括：S1：从BIM三维场景模型中获取涉核厂房的相关参数数据，具体地，从BIM三维场景模型中提取涉核厂房的BIM三维场景数据，并将其转变成参数化数据；并对获取的涉核厂房的相关参数数据进行栅格化预处理，得到结构体参数数据；栅格化预处理包括：首先将BIM三维场景数据按照楼层切片，切片后的数据按照压缩比“Size_Compress”将场景地图栅格化；其次，将BIM模型数据处理为结构体，主要为场景参数、放射性源项参数和其他参数，“Para”结构体存放核设施维修和退役场景参数，“Device”结构体存放核设施维修和退役的设备参数，“Radio”结构体存放核设施维修和退役的放射性参数；S2：根据预处理后的结构体参数数据，确定涉核厂房楼层的组合关系；S3：根据涉核厂房楼层的组合关系，选择作业人员路径规划起点、终点；判断作业人员的起点和终点是否在同一楼层，若是在同一楼层，则进行作业人员路径规划模式选择；若否，则选择相邻楼层的组合后，进行作业人员路径规划模式选择；所述作业人员路径规划模式包括作业人员受照剂量累积量最小路径规划、作业人员行走距离最短路径规划和作业人员多指标评价最优路径规划；其中，所述作业人员多指标评价最优路径规划是通过对人员受照剂量和人员行走距离两个指标取权重值计算；S4：根据选择的作业人员路径规划模式，采用涉核A*算法进行作业人员的路径规划，得到路径规划结果并输出。进一步地，步骤S1中所述涉核厂房的相关参数数据包括涉核厂房实际场景参数、涉核厂房实际设备参数、涉核厂房实际放射性参数；所述涉核厂房实际场景参数包括涉核厂房占地大小，厂房高度，楼层数，楼层高度及每层所有楼梯对的入口和出口位置等；所述涉核厂房实际设备参数包括涉核厂房待拆除及维修的设备、管道、仪器、仪表等的位置、体积及材质，在规划路径时，其属于障碍物；所述涉核厂房实际放射性参数包括涉核厂房放射性源项、已活化物项位置、活度，厂房内γ放射性水平分布等。进一步地，步骤S2包括以下子步骤：步骤21、根据步骤S1的场景参数确定多组楼梯对间的约束关系，获取相邻楼层多组楼梯对的排列组合关系矩阵；步骤22、计算起点和终点间的楼层差，判断是否存在中间层；若存在中间层，从步骤21得到的排列组合关系矩阵中取出相应楼层楼梯对的排列组合情况。进一步地，步骤S3中根据涉核厂房楼层的组合关系矩阵，选择作业人员路径规划起点、终点；包括：根据施工工艺，得到每次作业人员路径规划的起点和终点；在系统中选取三维虚拟场景中人员路径规划的起点和终点的位置坐标。进一步地，步骤S3中判断作业人员的起点和终点是否在同一楼层，其结果作为作业人员路径规划的限定条件，具体还包括：根据作业人员行走路径的起点和终点，选择相应的路径计算步骤，若作业人员行走路径起点所在楼层和终点在同一楼层，则直接通过涉核A*算法计算；否则，根据确定楼层的组合关系进行计算。进一步地，步骤S4中根据选择的作业人员路径规划模式，采用涉核A*算法进行作业人员的路径规划，包括：步骤41、采用涉核A*算法分别对步骤S3中的三种作业人员路径规划模式，设计三种不同评价标准的作业人员路径规划代价函数，包括作业人员受照剂量累积量最小代价函数、作业人员行走距离最短代价函数和作业人员多指标评价最优代价函数；步骤42、通过选择起点、终点和中间点，获得多条作业人员行走路径，根据设计的三种不同代价的代价函数值，获取满足相应条件的最优作业人员行走路径。进一步地，所述涉核A*算法的设计过程如下：步骤7.1.1、设置起始栅格点S和目标栅格点E，创建两个列表：OPEN表和CLOSED表，此时CLOSED表为空。其中OPEN列表用于存储所有已经生成但是没有被考察过的栅格点，CLOSED列表存放己经访问过的栅格点和障碍点；步骤7.1.2、将起始栅格点S添加到OPEN表中；步骤7.1.3、判断OPEN列表是否为空。遍历OPEN表中的所有栅格点，当OPEN表为空时，表示没有找到路径，执行算法结束命令；否则，转到步骤7.1.4；步骤7.1.4、当OPEN表不为空时，从OPEN表中选择一个估计值值最小的栅格点，将它添加到CLOSED表中。其中代价函数F＝G+H，F表示从起始栅格点通过栅格点n到达目标栅格点所花费的代价；G是从起始栅格点到当前栅格点所花费的实际代价，H是从当前栅格点n到目标栅格点的估计代价；步骤7.1.5、判断栅格点n是否是目标栅格点。当栅格点n为目标栅格点E时，则搜索结束，找到最优路径，执行算法结束命令；当栅格点n不是目标栅格点E时，转到步骤7.1.6；步骤7.1.6、判断n是否有下一栅格点。扩展栅格点n，即扩展它的全部下一个栅格点。如果有下一栅格点，则跳转到步骤7.1.7，否则，跳转到步骤7.1.3；优选的，步骤7.1.6还包括：步骤7.1.6.1、如果栅格点x不在OPEN表和CLOSED表中，就添加到OPEN表中。然后就给x加一个指向栅格点n的指针。路径搜索完成以后，根据指针指向连接路径；步骤7.1.6.2、如果栅格点x己经在OPNE表中了，则比较计算得到的F新值和OPNE表中的F旧值。保留F较小的栅格点，修改指针指向当前的栅格点n；步骤7.1.6.3、如果栅格点x在CLOSED表中，则跳过该栅格点，返回步骤7.1.6继续扩展其它栅格点；步骤7.1.7、设它的任意下一个栅格点为x，计算所有下一个栅格点的F值，找到最优解或者无解时，执行算法结束命令；否则，跳到步骤7.1.3。进一步地，步骤411、当作业人员路径规划目标为作业人员受照剂量累积量最小，实际代价G为作业人员行走在当前栅格点和下一个扩展栅格点作业人员所受到的辐射剂量之和，估计代价H为作业人员行走在下一个扩展栅格点与目标栅格点之间的作业人员受到的辐射剂量之和，总体代价F为实际代价与估计代价之和；步骤412、当作业人员路径规划目标为作业人员行走路径最短，实际代价G为作业人员在当前栅格点和下一个扩展栅格点之间的行走的最短距离，估计代价H为作业人员在下一个扩展栅格点与目标栅格点之间的行走最短距离，总体代价F为实际代价与估计代价之和；步骤413、当作业人员路径规划目标为多指标评价最优，通过权重综合考虑作业人员行走距离和作业人员受照剂量，由于两个指标单位不一致，首先通过添加合适权值将单位默认转换为一致，这里将行走距离的单位转换为作业人员受照剂量的单位；实际代价G为当前栅格点和下一个扩展栅格点的作业人员受照剂量之和，估计代价H为下一个扩展栅格点与目标栅格点之间的作业人员受照剂量之和，作业人员受照剂量由两部分组成，一部分为以行走路径为准则转换的作业人员受照剂量，另一部分为作业人员行走过程中实际受到的受照剂量，总体代价F为实际代价与估计代价之和。进一步地，步骤411中基于涉核A*算法的作业人员受照剂量最小代价函数包括：步骤4111、扩展栅格点时采用“八向”搜索的方式；步骤4112、实际代价分为对角线和非对角线栅格点考虑，对于对角线上的栅格点，考虑其行走距离比非对角元素长，引入一个大小为的修正因子；步骤4113、估计代价函数按照以下规则对两点间的代价进行估计：先按照斜对角线的方向对其辐射量进行累加，直到其x或者y坐标等于目标节点的x或者y坐标，再通过固定x或者y坐标，在y方向或者x方向上进行辐射量累加。和步骤4111中的实际代价相同，斜对角线需要乘以修正因子进一步地，步骤412中基于涉核A*算法的作业人员行走路径最短代价函数包括：步骤4121、扩展栅格点时采用“八向”搜索的方式；步骤4122、实际代价和估计代价采用欧式距离最短计算栅格点间的代价；步骤4123、估计代价采用欧式距离最短计算栅格点间的代价。进一步地，步骤412中基于涉核A*算法的作业人员多指标评价最优代价函数包括：步骤4121、扩展栅格点时采用“八向”搜索的方式；步骤4122、实际代价分为对角线和非对角线栅格点考虑，对于对角线上的栅格点，考虑其行走距离比非对角元素长，引入一个大小为的修正因子；步骤4123、估计代价函数由两部分组成，一部分为以最短路径为准则转换的近似辐射量，考虑用直角三角形的两直角边之和来近似非直角边；另一部分为以辐射量最小为准则计算的辐射量，和步骤4122中的估计代价相同，按照以下规则对两点间的代价进行估计：先按照斜对角线的方向对其辐射量进行累加，直到其x或者y坐标等于目标节点的x或者y坐标，再通过固定x或者y坐标，在y方向或者x方向上进行辐射量累加，斜对角线乘以修正因子第二方面，本发明还提供了一种基于BIM技术的涉核作业人员路径规划系统，该系统支持所述的一种基于BIM技术的涉核作业人员路径规划方法，该系统包括：获取单元，用于从BIM三维场景模型中获取涉核厂房的相关参数数据；预处理单元，用于对获取的涉核厂房的相关参数数据进行栅格化预处理，得到结构体参数数据；确定楼层的组合关系单元，用于根据预处理后的结构体参数数据，确定涉核厂房楼层的组合关系；选择起终点单元，用于根据涉核厂房楼层的组合关系，选择作业人员路径规划起点、终点；选择作业人员路径模式单元，用于判断作业人员的起点和终点是否在同一楼层，若是在同一楼层，则进行作业人员路径规划模式选择；若否，则选择相邻楼层的组合后，进行作业人员路径规划模式选择；所述作业人员路径规划模式包括作业人员受照剂量累积量最小路径规划、作业人员行走距离最短路径规划和作业人员多指标评价最优路径规划；其中，所述作业人员多指标评价最优路径规划是通过对人员受照剂量和人员行走距离两个指标取权重值计算；涉核作业人员路径规划单元，用于根据选择的作业人员路径规划模式，采用涉核A*算法进行作业人员的路径规划，得到路径规划结果输出单元，用于输出所述路径规划结果。进一步地，所述获取单元中涉核厂房的相关参数数据包括涉核厂房实际场景参数、涉核厂房实际设备参数、涉核厂房实际放射性参数；所述涉核厂房实际场景参数包括涉核厂房占地大小，厂房高度，楼层数，楼层高度及每层所有楼梯对的入口和出口位置等；所述涉核厂房实际设备参数包括涉核厂房待拆除及维修的设备、管道、仪器、仪表等的位置、体积及材质，在规划路径时，其属于障碍物；所述涉核厂房实际放射性参数包括涉核厂房放射性源项、已活化物项位置、活度，厂房内γ放射性水平分布等。本发明与现有技术相比，具有如下的优点和有益效果：1、本发明以作业人员行走路径和作业人员受照剂量大小作为评价依据，规划和优化核设施维/退役人员三维路径，减少人员受照剂量，保护工作人员和环境安全。2、本发明解决了缺乏三维涉核作业人员路径规划方法的困境。3、本发明有利于提高涉核作业工艺设计效率，有利于减少涉核人员累积受照剂量，有利于保护工作人员的安全。附图说明此处所说明的附图用来提供对本发明实施例的进一步理解，构成本申请的一部分，并不构成对本发明实施例的限定。在附图中：图1为本发明一种基于BIM技术的涉核作业人员路径规划方法流程示意图；图2为本发明涉核A*算法流程示意图；图3为本发明“八向”搜索方法示意图；图4为本发明基于涉核A*算法的作业人员受照剂量累积量最小代价函数实际代价的示意图；图5为本发明基于涉核A*算法的作业人员受照剂量累积量最小代价函数估计代价的示意图；图6为本发明最短路径转换为近似人员受照剂量的示意图。图7为本发明一种基于BIM技术的涉核作业人员路径规划系统的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚明白，下面结合实施例和附图，对本发明作进一步的详细说明，本发明的示意性实施方式及其说明仅用于解释本发明，并不作为对本发明的限定。实施例1如图1至图6所示，根据本发明的一个实施例，提供一种基于BIM技术的涉核作业人员路径规划方法，该人员路径规划方法采用Catia建立三维模型，C++语言编程实现，A*算法进行路径规划，如图1所示，具体实施过程包括：获取BIM模型数据；BIM模型数据预处理；确定楼层的排列组合关系；选择人员路径规划起点、终点；判断起点和终点是否在同一楼层；选择人员路径规划模式；A*算法规划路径；路径规划结果输出。一种基于BIM技术的涉核作业人员路径规划方法，该方法包括：S1：从BIM三维场景模型中获取涉核厂房的相关参数数据，具体地，从BIM三维场景模型中提取涉核厂房的BIM三维场景数据，并将其转变成参数化数据；并对获取的涉核厂房的相关参数数据进行栅格化预处理，得到结构体参数数据；具体地，从BIM三维场景模型中获取涉核厂房的相关参数数据，如下：获取涉核厂房实际场景参数，包括：涉核厂房占地大小，厂房高度，楼层数，楼层高度及每层所有楼梯对的入口和出口位置等。获取涉核厂房实际设备参数，包括：涉核厂房待拆除及维修的设备、管道、仪器、仪表等的位置、体积及材质，在规划路径时，其属于障碍物。获取涉核厂房实际放射性参数，包括：涉核厂房放射性源项、已活化物项位置、活度，厂房内γ放射性水平分布等。并将上述图形化模型场景进行数字化存储。具体地，对获取的涉核厂房的相关参数数据进行栅格化预处理，包括：将获取BIM三维场景数据按照楼层切片；利用向上取整的方式将切片后的数据按照设定的压缩比“Size_Compress”将地图栅格化。将涉核厂房栅格化后的场景参数处理为“Para”结构体。将涉核厂房栅格化后的设备参数处理为“Device”结构体。将涉核厂房栅格化后的放射性参数处理为“Radio”结构体。S2：根据预处理后的结构体参数数据，确定涉核厂房楼层的组合关系；具体地：步骤21、根据步骤S1的场景参数确定多组楼梯对间的约束关系，获取相邻楼层多组楼梯对的排列组合关系矩阵；步骤22、计算起点和终点间的楼层差，判断是否存在中间层；若存在中间层，从步骤21得到的排列组合关系矩阵中取出相应楼层楼梯对的排列组合情况。S3：根据涉核厂房楼层的组合关系，选择作业人员路径规划起点、终点；判断作业人员的起点和终点是否在同一楼层，若是在同一楼层，则进行作业人员路径规划模式选择；若否，则选择相邻楼层的组合后，进行作业人员路径规划模式选择；所述作业人员路径规划模式包括作业人员受照剂量累积量最小路径规划、作业人员行走距离最短路径规划和作业人员多指标评价最优路径规划；其中，所述作业人员多指标评价最优路径规划是通过对人员受照剂量和人员行走距离两个指标取权重值计算；具体地，根据涉核厂房楼层的组合关系矩阵，选择作业人员路径规划起点、终点；包括：根据施工工艺，得到每次作业人员路径规划的起点和终点；在系统中选取三维虚拟场景中人员路径规划的起点和终点的位置坐标。具体地，判断作业人员的起点和终点是否在同一楼层，其结果作为作业人员路径规划的限定条件，具体还包括：根据作业人员行走路径的起点和终点，选择相应的路径计算步骤，若作业人员行走路径起点所在楼层和终点在同一楼层，则直接通过涉核A*算法计算；否则，根据确定楼层的组合关系进行计算。具体地，进行作业人员路径规划模式选择，包括：根据三种路径规划评价标准，将作业人员路径规划模式分为三种：作业人员受照剂量累积量最小路径规划；作业人员行走距离最短路径规划；作业人员多指标评价最优路径规划。其中，作业人员多指标评价最优路径规划模式通过对作业人员受照剂量和作业人员行走距离两个指标取权重值计算。S4：根据选择的作业人员路径规划模式，采用涉核A*算法进行作业人员的路径规划，得到路径规划结果并输出。具体地，涉核A*算法进行作业人员的规划路径，包括：将涉核厂房场景参数、设备参数、放射性参数、路径起点、终点、楼层差、楼层楼梯对排列组合情况、作业人员路径规划模式等作为人员路径规划的限定条件。分别对三种路径规划模式，设计三种不同评价标准的、作业人员路径规划代价函数：、作业人员受照剂量累积量最小代价函数；、作业人员行走距离最短代价函数；、作业人员多指标评价最优代价函数。通过选择起点、终点和中间点，可获得多条、作业人员行走路径，根据设计的三种不同代价的代价函数值，获取满足相应条件的最优人员行走路径。如图2所示，涉核A*算法规划流程如下：步骤设置起始栅格点S和目标栅格点E，创建两个列表：OPEN表和CLOSED表，此时CLOSED表为空。其中OPEN列表用于存储所有已经生成但是没有被考察过的栅格点，CLOSED列表存放己经访问过的栅格点和障碍点；步骤将起始栅格点S添加到OPEN表中；步骤判断OPEN列表是否为空。遍历OPEN表中的所有栅格点，当OPEN表为空时，表示没有找到路径，执行算法结束命令；否则，进行下一步；步骤当OPEN表不为空时，从OPEN表中选择一个估计值值最小的栅格点，将它添加到CLOSED表中。其中代价函数F＝G+H，F表示从起始栅格点通过栅格点n到达目标栅格点所花费的代价；G是从起始栅格点到当前栅格点所花费的实际代价，H是从当前栅格点n到目标栅格点的估计代价；步骤判断栅格点n是否是目标栅格点。当栅格点n为目标栅格点E时，则搜索结束，找到最优路径，执行算法结束命令；当栅格点n不是目标栅格点E时，进行下一步；步骤判断n是否有下一栅格点。扩展栅格点n，即扩展它的全部下一个栅格点。如果有下一栅格点，则进行下一步，否则，跳转到步骤；步骤设它的任意下一个栅格点为x，计算所有下一个栅格点的F值，找到最优解或者无解时，执行算法结束命令；否则，跳到步骤设计三种路径规划模式的代价函数，具体如下：1)当作业人员路径规划目标为人员受照剂量累积量最小，实际代价G为作业人员行走在当前栅格点和下一个扩展栅格点作业人员所受到的辐射剂量之和，估计代价H为作业人员行走在下一个扩展栅格点与目标栅格点之间的作业人员受到的辐射剂量之和，总体代价F为实际代价与估计代价之和。如图3所示，扩展栅格点时采用“八向”搜索的方式。如图4所示，实际代价分为对角线和非对角线栅格点考虑，对于对角线上的栅格点，我们考虑其行走距离比非对角元素长，引入一个大小为的修正因子。如图5所示，估计代价函数按照以下规则对两点间的代价进行估计：先按照斜对角线的方向对其辐射量进行累加，直到其x或者y坐标等于目标节点的x或者y坐标，再通过固定x或者y坐标，在y方向或者x方向上进行辐射量累加。相应的斜对角线需要乘以修正因子2)当作业人员路径规划目标为作业人员行走路径最短，实际代价G为作业人员在当前栅格点和下一个扩展栅格点之间的行走的最短距离，估计代价H为作业人员在下一个扩展栅格点与目标栅格点之间的行走最短距离，总体代价F为实际代价与估计代价之和。扩展栅格点时采用“八向”搜索的方式。实际代价和估计代价均采用欧式距离最短计算栅格点间的代价。3)当作业人员路径规划目标为多指标评价最优，通过权重综合考虑作业人员行走距离和受照剂量，由于两个指标单位不一致，首先通过添加合适权值将单位默认转换为一致，这里将行走距离的单位转换为作业人员受照剂量的单位。实际代价G为当前栅格点和下一个扩展栅格点的作业人员受照剂量之和，估计代价H为下一个扩展栅格点与目标栅格点之间的作业人员受照剂量之和，作业人员受照剂量由两部分组成，一部分为以行走路径为准则转换的作业人员受照剂量，另一部分为作业人员行走过程中实际受到的受照剂量，总体代价F为实际代价与估计代价之和。扩展栅格点时采用“八向”搜索的方式。实际代价和估计代价均采用欧式距离最短计算栅格点间的代价。实际代价也分为对角线和非对角线栅格点考虑，相应的斜对角线上的栅格点需要乘以修正因子估计代价函数由两部分组成，一部分为以最短路径为准则转换的近似辐射量，如图6所示，本发明方案主要考虑用直角三角形的两直角边之和来近似非直角边；另一部分为以作业人员受照剂量累积量最小为准则计算估计代价值：先按照斜对角线的方向对其辐射量进行累加，直到其x或者y坐标等于目标节点的x或者y坐标，再通过固定x或者y坐标，在y方向或者x方向上进行辐射量累加。相应的斜对角线上的栅格点需要乘以修正因子采用以上涉核A*算法进行作业人员的路径规划，得到路径规划结果并输出。本发明以作业人员行走路径和作业人员受照剂量大小作为评价依据，规划和优化核设施维/退役人员三维路径，减少作业人员受照剂量，保护工作人员和环境安全。本发明用于核设施维修/退役活动，对保证人员的辐照安全，减少放射性作业对人员、公众和环境造成的危害具有重要的实际意义。实施例2如图1至图7所示，本实施例与实施例1的区别在于，本实施例提供一种基于BIM技术的涉核作业人员路径规划系统，该系统支持实施例1所述的一种基于BIM技术的涉核作业人员路径规划方法，如图7所示，该系统包括：获取单元，用于从BIM三维场景模型中获取涉核厂房的相关参数数据；预处理单元，用于对获取的涉核厂房的相关参数数据进行栅格化预处理，得到结构体参数数据；确定楼层的组合关系单元，用于根据预处理后的结构体参数数据，确定涉核厂房楼层的组合关系；选择起终点单元，用于根据涉核厂房楼层的组合关系，选择作业人员路径规划起点、终点；选择作业人员路径模式单元，用于判断作业人员的起点和终点是否在同一楼层，若是在同一楼层，则进行作业人员路径规划模式选择；若否，则选择相邻楼层的组合后，进行作业人员路径规划模式选择；所述作业人员路径规划模式包括作业人员受照剂量累积量最小路径规划、作业人员行走距离最短路径规划和作业人员多指标评价最优路径规划；其中，所述作业人员多指标评价最优路径规划是通过对人员受照剂量和人员行走距离两个指标取权重值计算；涉核作业人员路径规划单元，用于根据选择的作业人员路径规划模式，采用涉核A*算法进行作业人员的路径规划，得到路径规划结果输出单元，用于输出所述路径规划结果。本实施例中，所述获取单元中涉核厂房的相关参数数据包括涉核厂房实际场景参数、涉核厂房实际设备参数、涉核厂房实际放射性参数；所述涉核厂房实际场景参数包括涉核厂房占地大小，厂房高度，楼层数，楼层高度及每层所有楼梯对的入口和出口位置等；所述涉核厂房实际设备参数包括涉核厂房待拆除及维修的设备、管道、仪器、仪表等的位置、体积及材质，在规划路径时，其属于障碍物；所述涉核厂房实际放射性参数包括涉核厂房放射性源项、已活化物项位置、活度，厂房内γ放射性水平分布等。本系统中的各个单元的执行过程按照实施例1所述的一种基于BIM技术的涉核作业人员路径规划方法流程步骤执行即可，此实施例中不再一一赘述。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。以上所述的具体实施方式，对本发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施方式而已，并不用于限定本发明的保护范围，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
