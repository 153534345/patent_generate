标题title
一种基于区块链的多式联运的货物拼车方法及应用系统
摘要abst
本发明公开了一种基于区块链的多式联运的货物拼车方法及应用系统，该方法包括获取各参与方的身份信息和货物拼车的需求、供给信息、GPS定位信息和交易账号信息，使用多目标优化模型根据各参与方的需求生成考虑运输时间、费用、货损的货物拼车运输方案和具体交易情况，使用哈希运算和时间戳技术生成关键数据的merkle树和时间戳并存储在区块链中，通过智能合约自动寻找拼车方案并执行完成交易；所述应用系统包括获取模块、存储模块、信息处理模块、显示模块、区块链、反馈模块。本发明能够提高陌生实体之间货物拼车过程的可靠性和可信性，提高货物拼车的成功率、安全性和空位利用率，减少承运主体开销为托运主体提供货物运输便利，通过智能合约完成交易无需第三方平台提高交易效率。
权利要求书clms
1.一种基于区块链的多式联运的货物拼车方法，其特征在于：包括以下步骤：采集用户身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将采集得到的数据进行储存；对用户身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息运用时间戳技术进行处理，并将交易账号信息发送至区块链；通过区块链的共识机制对上述信息进行信息完整度的认证并使托运主体与承运主体之间达成共识，然后根据空位资源信息、货物拼车需求信息和运输目标，生成货物拼车方案与对应的具体交易情况；所述具体交易情况包括交易金额、资金流向；其中，所述货物拼车方案为单式货物拼车方案和多式联运的货物拼车方案中的任意一种方案，每种方案中包括如下信息：出发时间、出发地点、承运主体、托运主体、收货主体姓名、联系方式、运输方式、不同载运工具的转运地点、预计到达时间、预计到达地点、载运工具信息、交易金额和资金流向；若在托运主体可接受拼车时空范围内都存在承运主体的出发时间和出发地点信息，且托运主体表述的货物形状符合承运主体表述的空位形状，托运主体表述的货物大小、重量均小于承运主体表述的空位大小、重量，承运主体要求的价格在托运主体的可接受价格范围内时，则可生成得到可行的单式货物拼车方案，并根据托运主体的需求和运输目标，使用多目标优化模型计算得到最终的单式货物拼车方案，否则为无法生成可行的货物拼车方案，立即将货物拼车方案失败的结果发送给托运主体和承运主体；若根据托运主体的需求信息和运输目标，将两个或以上的承运主体以两种或以上的运输方式联合运输完成货物拼车时，即：当两个承运主体可接受的时间和空间上的误差范围内都存在对方的信息，且托运主体表述的货物形状符合每个承运主体表述的空位形状，托运主体表述的货物大小、重量均小于每个承运主体表述的空位大小、重量，承运主体要求的价格总和在托运主体的可接受价格范围内时，则可生成可行的多式联运的货物拼车方案，并根据托运主体的需求和运输目标，使用多目标优化模型计算得到最终的多式联运的货物拼车方案，否则为无法生成可行的货物拼车方案，立即将货物拼车方案失败的结果发送给托运主体和承运主体；所述多目标优化模型包括以下计算公式：A、运输时间计算公式：其中，t1ik为第i种运输方式第k次使用的运输方式期望耗时，t2ij为第i种运输方式转移到第j种运输方式的转运时间，α为对应变量的系数，mi为第i种运输方式使用了m次，T托min和T托max分别为托运主体能接受的最小期望时间和能接受的最大期望时间，T承min和T承max分别为承运主体接受的最小期望时间和接受的最大期望时间，tij＝0时表示第i种运输方式不存在，tmn＝0时表示m运输方式不能转换至n运输方式；B、运输费用计算公式：其中，c1kij为货物类型k在第i种运输方式的第j次使用的运输成本，c2pq为p种运输方式转运到q运输方式的成本，β为对应变量的系数，C托max为托运主体最大可接受支出，C承min承运主体最小可接受获得费用，c1i＝0时表示第i种运输方式不存在，cpq＝0时表示q种运输方式不能转换为q种运输方式；C、货损剩余价值计算公式：其中，s1i表示货物价值，γ2ij表示运输包装损失率，γ3k表示装卸搬运方式损失率，γ4表示货物混合度损失率，γ5i表示时耗损失率，γ6pq表示运输方式转换装卸搬运货损率，γ7m表示意外风险货损率，h为运输方式更换次数，l为运输方式种类数,取值依次为1、2、3、…、n，γ71m为各种运输方式意外风险损失率；S托max为托运主体最大可接受货损，S承min为承运主体最小可接受货损；利用哈希运算和时间戳技术生成身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并将货物拼车方案、merkle树、时间戳、具体交易情况发送至区块链；通过读取区块链中的货运信息，并利用对应运输目标的计算公式生成货物拼车方案完成多个托运主体与承运主体之间的货物拼车合同的签订；向托运主体、承运主体发送空位资源供给信息、货物拼车方案、具体交易情况，托运主体和承运主体依据货物拼车方案进行货物运输，实时获取并更新载运工具和货物的定位信息、交易进度和交易结果；同时根据各参与方身份信息、交易账号信息、货物拼车方案、具体交易情况信息生成智能合约，包括生成智能合约的预置触发条件和响应动作，并将智能合约部署在区块链上，实时检查和更新当前状态，当满足触发条件时，利用区块链的智能合约自动执行完成托运主体和承运主体之间的交易，将交易记录存储在区块链的账本中，并在区块链中存储身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并向托运主体、承运主体发送交易执行情况信息。2.根据权利要求1所述基于区块链的多式联运的货物拼车方法，其特征在于：所述身份信息包括承运主体、托运主体、收货主体的身份信息，具体包括姓名、性别、身份证号码、身份证照片、联系方式、承运主体照片和托运主体照片。3.根据权利要求1所述基于区块链的多式联运的货物拼车方法，其特征在于：所述空位资源供给信息包括载运工具基本信息、货运空位信息、出行信息、承运主体可接受的货物拼车时空范围和最小可获得费用；所述载运工具信息包括承运主体使用的载运工具、颜色、车牌和车次；所述货运空位信息包括空位大小、空位形状、可放置货物的重量和空位价格；所述出行信息包括出行时间、出行地点、出行路线、期望耗时、到达地点和运输方式。4.根据权利要求1所述基于区块链的多式联运的货物拼车方法，其特征在于：所述货物拼车需求信息包括需要运载的货物信息、期望到达地点、托运主体可接受的货物拼车时空范围和最大可接受支出、货物运输时的需求目标、用户个性需求信息；所述需要运载的货物信息包括货物大小、货物形状、货物重量、货物类型；所述用户个性需求信息包括货物的性质、货物的摆放方向、承运主体在货物运输过程中要特别注意的信息。5.根据权利要求1所述基于区块链的多式联运的货物拼车方法，其特征在于：所述载运工具和货物的定位信息包括载运工具的载运信息和货物的定位信息。6.一种基于区块链的多式联运的货物拼车应用系统，应用于权利要求1至5中任意一项所述货物拼车方法中，其特征在于：包括获取模块、存储模块、信息处理模块、显示模块、区块链、反馈模块；所述获取模块，用于获取身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将获取得到的数据发送至存储模块；所述存储模块，用于存储身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将身份信息、空位资源供给信息、货物拼车需求信息、定位信息发送至信息处理模块，将交易账号信息发送至区块链；所述信息处理模块，用于根据空位资源信息、货物拼车需求信息和运输目标生成货物拼车方案与对应的具体交易情况，并且将具体交易情况、货物拼车方案和交易进度、交易结果发送至显示模块；同时利用哈希运算和时间戳技术生成身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并将货物拼车方案、merkle树、时间戳、具体交易情况信息发送至区块链；所述显示模块，用于显示从信息处理模块获取的载运工具和货物的定位信息、货物拼车方案，交易结果、交易进度，具体交易情况，并将交易进度、交易结果发送至反馈模块；所述区块链包括智能合约、共识机制、账本、merkle树，通过所述区块链的共识机制使托运主体与承运主体的货运信息保证完整性并达成共识上传到区块链中，利用区块链的智能合约自动执行完成托运主体和承运主体之间的交易，将交易记录存储在区块链的账本中，并在区块链中存储身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，将交易执行情况发送至显示模块；所述反馈模块，用于将交易进度、交易结果向区块链模块进行反馈。7.根据权利要求6所述基于区块链的多式联运的货物拼车应用系统，其特征在于：所述信息处理模块中包括运输时间计算模块、运输费用计算模块、货损剩余价值计算模块。
说明书desc
技术领域本发明属于物流运输技术领域，具体涉及一种基于区块链的多式联运的货物拼车方法及应用系统。背景技术随着经济的不断发展，人们包车、包车厢、包船运输货物的情况越来越多，如从桂林包车运输货物到广州，经常会出现包车车厢的空间没有被充分利用的情况，造成了空位资源的浪费，需要设计一种货物拼车应用系统与方法解决该问题，但是由于陌生实体之间相互不熟悉，警惕性变高，且容易出现上当受骗的情况，往往难以拼车成功，导致货物拼车难度增大。同时现阶段物流需求也在不断增加，单一运输方式越来越不能满足运输系统对运输效率以及成本的要求，多式联运可以节省费用，降低运输成本，提高运输组织水平，使运输更加合理化。区块链具有不可篡改性和去中心化等特点，区块链的本质是一种数字分布式账本，它由一系列算法、技术、工具集构成的架构组合而成，以分布式、不可篡改和可信的方式保证所记录交易的完整性、不可反驳和不可抵赖性，如何将区块链应用于联运的货物拼车应用系统，提高货物拼车交易的可靠性和可信性成为研究重点。发明内容针对上述不足，本发明公开了一种基于区块链的多式联运的货物拼车方法及应用系统，解决货物拼车交易的可靠性和可信性较差，货物拼车难度大的问题。本发明是采用如下技术方案实现的：一种基于区块链的多式联运的货物拼车方法，其包括以下步骤：采集用户身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将采集得到的数据进行储存；对用户身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息运用时间戳技术进行处理，并将交易账号信息发送至区块链；通过区块链的共识机制对上述信息进行信息完整度的认证并使托运主体与承运主体之间达成共识，然后根据空位资源信息、货物拼车需求信息和运输目标，生成货物拼车方案与对应的具体交易情况；所述具体交易情况包括交易金额、资金流向；其中，所述货物拼车方案为单式货物拼车方案和多式联运的货物拼车方案中的任意一种方案，每种方案中包括如下信息：出发时间、出发地点、承运主体、托运主体、收货主体姓名、联系方式、运输方式、不同载运工具的转运地点、预计到达时间、预计到达地点、载运工具信息、交易金额和资金流向；若在托运主体可接受拼车时空范围内都存在承运主体的出发时间和出发地点信息，且托运主体表述的货物形状符合承运主体表述的空位形状，托运主体表述的货物的大小、重量均小于承运主体表述的空位大小、重量，承运主体要求的价格在托运主体的可接受价格范围内时，则可生成得到可行的单式货物拼车方案，并根据托运主体的需求和运输目标，使用多目标优化模型计算得到最终的单式货物拼车方案，否则为无法生成可行的货物拼车方案，立即将货物拼车方案失败的结果发送给托运主体和承运主体；若根据托运主体的需求信息和运输目标，将两个或以上的承运主体以两种或以上的运输方式联合运输完成货物拼车时，即：当两个承运主体可接受的时间和空间上的误差范围内都存在对方的信息，且托运主体表述的货物形状符合每个承运主体表述的空位形状，托运主体表述的货物的大小、重量均小于每个承运主体表述的空位大小、重量，承运主体要求的价格总和在托运主体的可接受价格范围内时，则可生成可行的多式联运的货物拼车方案，并根据托运主体的需求和运输目标，使用多目标优化模型计算得到最终的多式联运的货物拼车方案，否则为无法生成可行的货物拼车方案，立即将货物拼车方案失败的结果发送给托运主体和承运主体；所述多目标优化模型包括以下计算公式：A、运输时间计算公式：其中，t1ik为第i种运输方式第k次使用的运输方式期望耗时，t2ij为第i种运输方式转移到第j种运输方式的转运时间，α为对应变量的系数，mi为第i种运输方式使用了m次，T托min和T托max分别为托运主体能接受的最小期望时间和能接受的最大期望时间，T承min和T承max分别为承运主体接受的最小期望时间和接受的最大期望时间，tij＝0时表示第i种运输方式不存在，tmn＝0时表示m运输方式不能转换至n运输方式；B、运输费用计算公式：其中，c1kij为货物类型k在第i种运输方式的第j次使用的运输成本，c2pq为p种运输方式转运到q运输方式的成本，β为对应变量的系数，C托max为托运主体最大可接受支出，C承min承运主体最小可接受获得费用，c1i＝0时表示第i种运输方式不存在，cpq＝0时表示q种运输方式不能转换为q种运输方式；C、货损剩余价值计算公式：其中，s1i表示货物价值，γ2ij表示运输包装损失率，γ3k表示装卸搬运方式损失率，γ4表示货物混合度损失率，γ5i表示时耗损失率，γ6pq表示运输方式转换装卸搬运货损率，γ7m表示意外风险货损率，h为运输方式更换次数，l为运输方式种类数,取值依次为1、2、3、…、n，γ71m为各种运输方式意外风险损失率；S托max为托运主体最大可接受货损，S承min为承运主体最小可接受货损；利用哈希运算和时间戳技术生成身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并将货物拼车方案、merkle树、时间戳、具体交易情况发送至区块链；向托运主体、承运主体发送空位资源供给信息、货物拼车方案、具体交易情况，托运主体和承运主体依据货物拼车方案进行货物运输，实时获取并更新载运工具和货物的定位信息、交易进度和交易结果；同时根据各参与方身份信息、交易账号信息、货物拼车方案、具体交易情况信息生成智能合约，包括生成智能合约的预置触发条件和响应动作，并将智能合约部署在区块链上，实时检查和更新当前状态，当满足触发条件时，利用区块链的智能合约自动执行完成托运主体和承运主体之间的交易，将交易记录存储在区块链的账本中，并在区块链中存储身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并向托运主体、承运主体发送交易执行情况信息。本发明基于区块链的共识机制和智能合约完成多式联运的货物拼车过程，共识机制通过在互不信任的节点之间建立一套共同遵守的预设规则，实现节点之间的协作与配合，最终达到不同节点数据的一致性，现有的共识机制主要有工作量证明、权益证明、股份授权证明与实用拜占庭容错，PoW共识机制是通过引入分布式节点的算力竞争来保证数据一致性和共识的安全性，PoS共识机制本质上是采用权益证明来代替PoW中的基于哈希算力的工作量证明，是由系统中具有最高权益而非最高算力的节点获得区块记账权，DPoS共识机制中每个节点相当于一个股东，所有股东选择一定数量的代表作为共同信任的委托人，由该委托人来帮助大家记账，PBFT共识机制无需通过竞争来确定记账者，而是让系统中的节点以投票方式来产生新区块，并实现系统中共识结果的一致性，共识机制在本专利中用于使托运主体与承运主体之间达成共识；智能合约是一套以程序代码指定的承诺以及执行这些承诺的协议，在本发明中用于自动执行完成交易，并将交易记录保存在区块链的账本中。本专利将托运主体的相关信息以及时间戳证书作为区块链的数据源，将承运主体的相关承运信息作为激励层的资源，通过区块链的共识机制对上述信息进行数据完整度的认证。本专利利用Raft算法的共识机制进行认证，所有新增的承运主体以及托运主体信息赋予follower的状态，当经过八小时后，会自动转成candidate状态。然后Candidate节点对所有的follower节点发送成为leader的请求，当过半follower节点同意请求后，该candidate节点更改状态为leader。在一轮的共识阶段中，仅有一个leader节点，并且leader节点通过心跳机制向follower节点证明自己的存在。同时leader节点能够与follower节点实时同步日志的更新。每过八个小时后，一轮共识周期结束，并选举获得leader节点完成共识机制工作，确认承运主体以及托运主体提交信息的完整性，并更新区块链。区块链的智能合约需要实时读取区块链中的信息，并利用对应运输目标的计算公式生成多式联运的货物拼车方案并自动生成货物拼车方案的合同。进一步的，所述身份信息包括承运主体、托运主体、收货主体的身份信息，具体包括姓名、性别、身份证号码、身份证照片、联系方式、承运主体照片和托运主体照片。进一步的，所述空位资源供给信息包括载运工具基本信息、货运空位信息、出行信息、承运主体可接受的货物拼车时空范围和最小可获得费用；所述载运工具信息包括承运主体使用的载运工具、颜色、车牌和车次；所述货运空位信息包括空位大小、空位形状、可放置货物的重量和空位价格；所述出行信息包括出行时间、出行地点、出行路线、期望耗时、到达地点和运输方式。进一步的，所述货物拼车需求信息包括需要运载的货物信息、期望到达地点、托运主体可接受的货物拼车时空范围和最大可接受支出、货物运输时的需求目标、用户个性需求信息；所述需要运载的货物信息包括货物大小、货物形状、货物重量、货物类型；所述用户个性需求信息包括货物的性质、货物的摆放方向、承运主体在货物运输过程中要特别注意的信息。进一步的，所述载运工具和货物的定位信息包括载运工具的载运信息和货物的定位信息。一种基于区块链的多式联运的货物拼车应用系统，应用于上述货物拼车方法中，其包括获取模块、存储模块、信息处理模块、显示模块、区块链、反馈模块；所述获取模块，用于获取身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将获取得到的数据发送至存储模块；所述存储模块，用于存储身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将身份信息、空位资源供给信息、货物拼车需求信息、定位信息发送至信息处理模块，将交易账号信息发送至区块链；所述信息处理模块，用于根据空位资源信息、货物拼车需求信息和运输目标生成货物拼车方案与对应的具体交易情况，并且将具体交易情况、货物拼车方案和交易进度、交易结果发送至显示模块；同时利用哈希运算和时间戳技术生成身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并将货物拼车方案、merkle树、时间戳、具体交易情况信息发送至区块链；所述显示模块，用于显示从信息处理模块获取的载运工具和货物的定位信息、货物拼车方案，交易结果、交易进度，具体交易情况，并将交易进度、交易结果发送至反馈模块；所述区块链包括智能合约、共识机制、账本、merkle树，通过所述区块链的共识机制使托运主体与承运主体之间达成共识，利用区块链的智能合约自动执行完成托运主体和承运主体之间的交易，将交易记录存储在区块链的账本中，并在区块链中存储身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，将交易执行情况发送至显示模块；所述反馈模块，用于将交易进度、交易结果向区块链模块进行反馈。其中，所述共识机制用于在交易开始前使用共识机制使托运主体和承运主体的信息对货运信息进行信息完整度的认证并达成共识，其可以是所有参与方一起记录数据，记录数据时使用哈希函数进行运算，确保数据防篡改，保证交易的安全和可信任；所述智能合约实时读取区块链中的信息，并利用对应运输目标的计算公式生成多式联运的货物拼车方案并自动生成货物拼车方案的合同，使用智能合约自动执行交易，其可以将多个托运主体与承运主体分别有足够的货运需求与货运供给，将收货主体确认收货预设为触发条件，智能合约实时检查和更新当前状态，当满足触发条件时，自动执行交易并将交易记录存储在区块链中，保证交易不受恶意操控，无需第三方参与即可完成交易，节省时间提高效率；所述账本用于存储交易的merkle树，防止交易被恶意篡改。进一步的，所述信息处理模块中包括运输时间计算模块、运输费用计算模块、货损剩余价值计算模块。所述运输时间计算模块按照上述运输时间计算公式进行运输时间的计算；所述运输费用计算模块按照上述运输费用计算公式进行运输费用的计算；所述货损剩余价值计算模块按照上述货损剩余价值计算公式进行货损剩余价值的计算。本技术方案与现有技术相比较具有以下有益效果：1、本发明建立了多目标优化模型，模型中考虑了运输时间、运输成本和运输货损三个方面，根据托运主体和承运主体的要求选出最佳的多式联运货物拼车运输方案，提高承运主体的空位利用率，使空位资源得到充分利用，减少承运主体的开销，给托运主体提供了货物运输便利；该系统应用区块链技术提高能陌生实体之间的可信度和可靠性，提高货物拼车的订单的成功率和安全性，并通过智能合约自动执行完成多式联运的货物拼车方案并自动生成货物拼车方案的合同托运主体向承运主体付款，无需经过第三方平台即可完成交易，提高交易效率。2、本发明基于区块链完成货物拼车过程可提高货物拼车交易的可靠性和可信性，将交易信息和各参与方身份信息数据的摘要值存储在区块链上，只需验证原文计算的摘要值和区块链上的摘要值便可知道数据是否被篡改，并利用智能合约自动完成点对点交易，无需通过银行和第三方平台，提高了支付效率。附图说明图1是本发明所述基于区块链的多式联运的货物拼车应用系统的结构框图。图2是本发明所述基于区块链的多式联运的货物拼车应用系统的模块数据传输示意图。图3是本发明所述基于区块链的多式联运的货物拼车方法的流程图。图4是本发明所述基于区块链的多式联运的货物拼车方法的共识机制的应用说明图。图5是本发明所述基于区块链的多式联运的货物拼车方法的智能合约的应用说明图。图6是本发明所述基于区块链的多式联运的货物拼车的货物拼车过程的示例说明图。图7是本发明所述基于区块链的多式联运的货物拼车逻辑关系图。具体实施方式以下通过实施例进一步说明本发明，但不作为对本发明的限制。下列实施例中未注明的具体实验条件和方法，所采用的技术手段通常为本领域技术人员所熟知的常规手段。实施例1：如图3所示，一种基于区块链的多式联运的货物拼车方法，其包括以下步骤：采集用户身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将采集得到的数据进行储存；所述身份信息包括承运主体、托运主体、收货主体的身份信息，具体包括姓名、性别、身份证号码、身份证照片、联系方式、承运主体照片和托运主体照片；所述空位资源供给信息包括载运工具基本信息、货运空位信息、出行信息、承载人可接受的货物拼车时空范围和最小可获得费用；所述载运工具信息包括承运主体使用的载运工具、颜色、车牌和车次；所述货运空位信息包括空位大小、空位形状、可放置货物的重量和空位价格；所述出行信息包括出行时间、出行地点、出行路线、期望耗时、到达地点和运输方式；所述货物拼车需求信息包括需要运载的货物信息、期望到达地点、托运主体可接受的货物拼车时空范围和最大可接受支出、货物运输时的需求目标、用户个性需求信息；所述需要运载的货物信息包括货物大小、货物形状、货物重量、货物类型；所述用户个性需求信息包括货物的性质、货物的摆放方向，承运主体在货物运输过程中要特别注意的信息；所述载运工具和货物的定位信息包括载运工具的载运信息和货物的定位信息；对用户身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息进行处理。对从托运主体得到的相关信息S利用分布式协议的时间戳技术计算出Hash值s＝Hash，并在众多需要托运的托运主体中随机挑选签发者，组成签发者组G，签发组会对托运主体的托运信息进行签名并返回时间戳签名Sign，由此托运主体的相关信息会拥有一个时间戳的证书。同理，对承运主体的相关信息C利用时间戳技术生成时间戳证书。本专利将托运主体的相关信息以及时间戳证书作为区块链的数据源，将承运主体的相关承运信息作为激励层的资源，通过区块链的共识机制对上述信息进行数据完整度的认证。本专利利用Raft算法的共识机制进行认证，所有新增的承运主体以及托运主体信息赋予follower的状态，当经过八小时后，会自动转成candidate状态。然后Candidate节点对所有的follower节点发送成为leader的请求，当过半follower节点同意请求后，该candidate节点更改状态为leader。在一轮的共识阶段中，仅有一个leader节点，并且leader节点通过心跳机制向follower节点证明自己的存在。同时leader节点能够与follower节点实时同步日志的更新。每过八个小时后，一轮共识周期结束，并选举获得leader节点完成共识机制工作，确认承运主体以及托运主体提交信息的完整性，并更新区块链。并将交易账号信息发送至区块链；如图4所示，通过区块链的共识机制使货运信息进行完整度的认证并使托运主体与承运主体之间达成共识，然后根据空位资源信息、货物拼车需求信息和运输目标，生成货物拼车方案与对应的具体交易情况；所述具体交易情况包括交易金额、资金流向；其中，所述货物拼车方案为单式货物拼车方案和多式联运的货物拼车方案中的任意一种方案，每种方案中包括如下信息：出发时间、出发地点、承运主体、托运主体、收货主体姓名、联系方式、运输方式、不同载运工具的转运地点、预计到达时间、预计到达地点、载运工具信息、交易金额和资金流向；若在托运主体可接受拼车时空范围内都存在承运主体的出发时间和出发地点信息，且托运主体表述的货物形状符合承运主体表述的空位形状，托运主体表述的货物的大小、重量均小于承运主体表述的空位大小、重量，承运主体要求的价格在托运主体的可接受价格范围内时，则可生成得到可行的单式货物拼车方案，并根据托运主体的需求和运输目标，使用多目标优化模型计算得到最终的单式货物拼车方案，否则为无法生成可行的货物拼车方案，立即将货物拼车方案失败的结果发送给托运主体和承运主体；若根据托运主体的需求信息和运输目标，将两个或以上的承运主体以两种或以上的运输方式联合运输完成货物拼车时，即：当两个承运主体可接受的时间和空间上的误差范围内都存在对方的信息，且托运主体表述的货物形状符合每个承运主体表述的空位形状，托运主体表述的货物的大小、重量均小于每个承运主体表述的空位大小、重量，承运主体要求的价格总和在托运主体的可接受价格范围内时，则可生成可行的多式联运的货物拼车方案，并根据托运主体的需求和运输目标，使用多目标优化模型计算得到最终的多式联运的货物拼车方案，否则为无法生成可行的货物拼车方案，立即将货物拼车方案失败的结果发送给托运主体和承运主体；所述多目标优化模型包括以下计算公式：A、运输时间计算公式：其中，t1ik为第i种运输方式第k次使用的运输方式期望耗时，t2ij为第i种运输方式转移到第j种运输方式的转运时间，α为对应变量的系数，mi为第i种运输方式使用了m次，T托min和T托max分别为托运主体能接受的最小期望时间和能接受的最大期望时间，T承min和T承max分别为承运主体接受的最小期望时间和接受的最大期望时间，tij＝0时表示第i种运输方式不存在，tmn＝0时表示m运输方式不能转换至n运输方式；B、运输费用计算公式：其中，c1kij为货物类型k在第i种运输方式的第j次使用的运输成本，c2pq为p种运输方式转运到q运输方式的成本，β为对应变量的系数，C托max为托运主体最大可接受支出，C承min承运主体最小可接受获得费用，c1i＝0时表示第i种运输方式不存在，cpq＝0时表示q种运输方式不能转换为q种运输方式；C、货损剩余价值计算公式：其中，s1i表示货物价值，γ2ij表示运输包装损失率，γ3k表示装卸搬运方式损失率，γ4表示货物混合度损失率，γ5i表示时耗损失率，γ6pq表示运输方式转换装卸搬运货损率，γ7m表示意外风险货损率，h为运输方式更换次数，l为运输方式种类数,取值依次为1、2、3、…、n，γ71m为各种运输方式意外风险损失率；S托max为托运主体最大可接受货损，S承min为承运主体最小可接受货损；利用哈希运算和时间戳技术生成身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并将货物拼车方案、merkle树、时间戳、具体交易情况发送至区块链；通过读取区块链中的货运信息，并利用对应运输目标的计算公式生成货物拼车方案完成多个托运主体与承运主体之间的货物拼车合同的签订。向托运主体、承运主体发送空位资源供给信息、货物拼车方案、具体交易情况，托运主体和承运主体依据货物拼车方案进行货物运输，实时获取并更新载运工具和货物的定位信息、交易进度和交易结果；同时根据各参与方身份信息、交易账号信息、货物拼车方案、具体交易情况信息生成智能合约，包括生成智能合约的预置触发条件和响应动作，并将智能合约部署在区块链上，实时检查和更新当前状态，当满足触发条件时，利用区块链的智能合约自动执行完成托运主体和承运主体之间的交易，将交易记录存储在区块链的账本中，并在区块链中存储身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并向托运主体、承运主体发送交易执行情况信息。实施例2：一种基于区块链的多式联运的货物拼车应用系统，应用于实施例1中所述货物拼车方法中，如图1和图2所示，其包括获取模块、存储模块、信息处理模块、显示模块、区块链、反馈模块；所述获取模块，用于获取身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将获取得到的数据发送至存储模块；所述存储模块，用于存储身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将身份信息、空位资源供给信息、货物拼车需求信息、定位信息发送至信息处理模块，将交易账号信息发送至区块链；所述信息处理模块，用于根据空位资源信息、货物拼车需求信息和运输目标生成货物拼车方案与对应的具体交易情况，并且将具体交易情况、货物拼车方案和交易进度、交易结果发送至显示模块；同时利用哈希运算和时间戳技术生成身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并将货物拼车方案、merkle树、时间戳、具体交易情况信息发送至区块链；所述信息处理模块中包括运输时间计算模块、运输费用计算模块、货损剩余价值计算模块；所述运输时间计算模块按照实施例1中所述运输时间计算公式进行运输时间的计算；所述运输费用计算模块按照实施例1中所述运输费用计算公式进行运输费用的计算；所述货损剩余价值计算模块按照实施例1中所述货损剩余价值计算公式进行货损剩余价值的计算；所述显示模块，用于显示从信息处理模块获取的载运工具和货物的定位信息、货物拼车方案，交易结果、交易进度，具体交易情况，并将交易进度、交易结果发送至反馈模块；所述区块链包括智能合约、共识机制、账本、merkle树，通过所述区块链的共识机制使托运主体与承运主体之间达成共识，利用区块链的智能合约自动执行完成托运主体和承运主体之间的交易，将交易记录存储在区块链的账本中，并在区块链中存储身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，将交易执行情况发送至显示模块；所述反馈模块，用于将交易进度、交易结果向区块链模块进行反馈。其中，所述账本用于存储交易的merkle树，防止交易被恶意篡改。如图4所示，所述共识机制用于在交易开始前使用共识机制使货运信息进行完整度的认证并使托运主体和承运主体达成共识，其可以是所有参与方一起记录数据，记录数据时使用哈希函数进行运算，确保数据防篡改，保证交易的安全和可信任；如图5所示，根据各参与方身份信息、交易账号信息、货物拼车方案、具体交易情况信息生成智能合约，包括生成智能合约的预置触发条件和响应动作，利用对应运输目标的计算公式生成货物拼车方案完成多个托运主体与承运主体之间的货物拼车合同的签订。用于在收货主体确认收到货物后，使用智能合约自动执行交易，其可以将收货主体确认收货预设为触发条件，智能合约实时检查和更新当前状态，当满足触发条件时，自动执行交易并将交易记录存储在区块链中，保证交易不受恶意操控，无需第三方参与即可完成交易，节省时间提高效率；如图6所示，将本实施例所述基于区块链的多式联运的货物拼车应用系统，应用于实施例1中所述货物拼车方法中，其具体包括以下步骤：通过获取模块采集身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将获取得到的数据发送至存储模块；所述身份信息包括承运主体、托运主体、收货主体的身份信息，具体包括姓名、性别、身份证号码、身份证照片、联系方式、承运主体照片和托运主体照片；所述空位资源供给信息包括载运工具基本信息、货运空位信息、出行信息、承运主体可接受的货物拼车时空范围和最小可获得费用；所述载运工具信息包括承运主体使用的载运工具、颜色、车牌和车次；所述货运空位信息包括空位大小、空位形状、可放置货物的重量和空位价格；所述出行信息包括出行时间、出行地点、出行路线、期望耗时、到达地点和运输方式；所述货物拼车需求信息包括需要运载的货物信息、期望到达地点、托运主体可接受的货物拼车时空范围和最大可接受支出、货物运输时的需求目标、用户个性需求信息；所述需要运载的货物信息包括货物大小、货物形状、货物重量、货物类型；所述用户个性需求信息包括货物的性质、货物的摆放方向、承运主体在货物运输过程中要特别注意的信息；所述载运工具和货物的定位信息包括载运工具的载运信息和货物的定位信息；通过存储模块接收获取模块发来的身份信息、空位资源供给信息、货物拼车需求信息、载运工具和货物的定位信息、交易账号信息，并将身份信息、空位资源供给信息、货物拼车需求信息、定位信息发送至信息处理模块，将交易账号信息发送至区块链；通过区块链接收存储模块发来的交易账号信息，使用共识机制使托运主体与承运主体之间货运信息进行信息完整度的认证并达成共识；通过信息处理模块接收存储模块发来的身份信息、空位资源供给信息、货物拼车需求信息、定位信息，并根据空位资源信息、货物拼车需求信息和运输目标判断能否生成得到货物拼车方案；每种方案中包括如下信息：出发时间、出发地点、承运主体、托运主体、收货主体姓名、联系方式、运输方式、不同载运工具的转运地点、预计到达时间、预计到达地点、载运工具信息、交易金额和资金流向；根据托运主体的需求信息和运输目标，将两个或以上的承运主体以两种或以上的运输方式联合运输完成货物拼车时，即：当两个承运主体可接受的时间和空间上的误差范围内都存在对方的信息，且托运主体表述的货物形状符合每个承运主体表述的空位形状，托运主体表述的货物的大小、重量均小于每个承运主体表述的空位大小、重量，承运主体要求的价格总和在托运主体的可接受价格范围内时，则可生成可行的多式联运的货物拼车方案，并根据托运主体的需求和运输目标，使用多目标优化模型计算得到最终的多式联运的货物拼车方案与对应的具体交易情况，否则为无法生成可行的货物拼车方案，立即将货物拼车方案失败的结果发送给托运主体和承运主体；通过信息处理模块利用哈希运算和时间戳技术生成身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳，并将货物拼车方案、merkle树、时间戳、具体交易情况发送至区块链；同时向托运主体、承运主体发送空位资源供给信息、货物拼车方案、具体交易情况，托运主体和承运主体依据货物拼车方案进行货物运输，实时获取并更新载运工具和货物的定位信息、交易进度和交易结果；通过显示模块显示从信息处理模块获取的载运工具和货物的定位信息、货物拼车方案，交易结果、交易进度，具体交易情况，并将交易进度、交易结果发送至反馈模块；通过反馈模块将交易进度、交易结果向区块链模块进行反馈；通过区块链接收信息处理模块和反馈模块发来的货物拼车方案、merkle树、时间戳、具体交易情况、交易进度、交易结果，并根据获取到的交易进度、交易结果，在收货主体确认收到货物后，利用区块链的智能合约自动执行完成托运主体和承运主体之间的交易，将交易记录存储在区块链的账本中，并在区块链中存储身份信息、空位资源供给信息、货物拼车需求信息和货物拼车方案的merkle树和时间戳；向托运主体、承运主体发送交易执行情况信息。如图7所示，上述采用多式联运进行货物运输的逻辑关系，包括以下内容：根据生成的货物运输方案，存在y个托运主体向承运主体1托运货物，承运主体1根据货物运输方案与承运主体2完成对接货物；存在z个托运主体向承运主体2托运货物，承运主体2根据货物运输方案与承运主体3完成对接货物，并依次根据货物拼车方案完成托运主体向承运主体托运货物与承运主体之间的对接货物，最后根据货物运输方案完成承运主体向收货主体交付货物，并在收货主体确认收货后利用智能合约自动执行完成交易。此外，应当理解，虽然本说明书按照实施方式加以描述，但并非每个实施方式仅包含一个独立的技术方案，说明书的这种叙述方式仅仅是为清楚起见，本领域技术人员应当将说明书作为一个整体，各实施例中的技术方案也可以经适当组合，形成本领域技术人员可以理解的其他实施方式。
