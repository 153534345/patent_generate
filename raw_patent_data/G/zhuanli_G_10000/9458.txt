标题title
基于T-S模糊模型的制冷站负荷和能效比动态建模方法
摘要abst
本发明提供了一种基于T‑S模糊模型的制冷站负荷和能效比动态建模方法，动态建模方法通过采集制冷站系统数据，构建负荷预测模型和能效比预测模型，进而得到基于T‑S模糊模型的制冷站负荷和能效比动态模型，本发明为了解决在T‑S模糊模型结构辨识中，传统FCM算法在迭代求解时，对初值的选取要求较高，且易陷入局部最优的问题，提出了基于粒子群优化算法的改进模糊C均值聚类算法完成结构辨识；为了解决为解决场测数据噪声较大引起的参数辨识效果较差的问题，同时提升建模效率，提出利用扩展卡尔曼滤波算法进行模糊模型后件参数在线修正，试验表明所建立的负荷预测模型和能效比预测模型相对误差分别是2.75％和2.25％。
权利要求书clms
1.一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，该动态建模方法由模型前件结构辨识、模型后件参数辨识、模型性能验证三部构成，动态模型的动态建模方法通过采集制冷站系统数据，构建负荷预测模型并完成T-S模糊模型结构辨识、构建能效比预测模型并完成T-S模糊模型参数辨识，进而得到基于T-S模糊模型的制冷站负荷和能效比动态模型，包括以下步骤：S1、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、前一天负荷值Qdayago以及前一周负荷值Qweekago，构建负荷预测模型，其中，所述负荷预测模型的输出层为下一时刻的负荷预测值Q；S2、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、当前时刻系统能效比EER、冷冻水供水温度设定值Tchwset、冷冻水泵频率fpumpch、冷却水泵频率fpumpc以及冷却塔风机频率ftower，构建能效比预测模型，其中，所述能效比预测模型的输出层为下一时刻系统能效比EER；S3、利用PSO算法对FCM算法的目标函数进行全局寻优，采用PSO算法代替FCM迭代过程，得到聚类中心和聚类半径，完成T-S模糊模型结构辨识；S4、利用扩展卡尔曼滤波进行T-S模糊模型参数辨识。S5、将数据输入到T-S模糊模型进行验证。2.根据权利要求1所述的一种于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，在步骤S1和S2中，将输入数据进行滤波，得到滤除干扰后的模型输入向量：X＝{x1,...,xj,...,xn}。3.根据权利要求2所述的一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，在步骤S1和步骤S2中，采用线性函数转换法对样本数据进行归一化和反归一化处理，将数据转换成0至1范围内的值，公式为：y＝xdmin+yoi式中：xi表示经过归一化转换之后的值；xdi表示原输入值；xdmin表示输入量所在区间范围的最小值；xdmax表示输入量所在区间的最大值；yoi表示经过神经网络训练后的输出值；yoi表示通过反归一化后反应真实物理意义的输出值。4.根据权利要求1所述的一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，在步骤S1和步骤S2中，负荷预测模型和能效比预测模型输入参数进行滑动窗口滤波处理，使窗口宽N为21。5.根据权利要求1-4任一项所述的一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，在步骤S3中，T-S模糊模型结构辨识中，在T-S模糊模型的前件结构辨识部分引入基于PSO的改进FCM算法，利用粒子群算法的全局搜索能力代替FCM算法寻找初始聚类中心，使其跳出局部极小值，实现模糊聚类，得到聚类中心{c1,...,ci,...,cn}，最终完成结构辨识，具体的步骤包括：、初始化聚类个数c、加权参数m，最大迭代次数Dmax，最小惯性权重wmin和最大惯性权重wmax，设置粒子速度范围vid∈，给定数据样本集X＝{x1,...,xj,...,xn}；、在样本集X中初始化粒子群位置，计算此时个体极值pid和全局极值pgd，初始化每个粒子的速度；计算公式为：其中，uij表示第j个样本xj属于某一类的隶属度，其表达式为：式中，m为加权参数；且uij的限制条件为：初始化每个粒子的速度计算公式为：式中：c1、c2为加速常数；rand是服从均匀分布在0～1之间的一个随机数；vid和xid为d维粒子速度和位置；w为惯性权重，表达公式为：式中，D为当前迭代次数，Dmax为最大迭代次数；、更新粒子位置，更新此时个体适应度值和群体适应度值，记录此时个体极值pid和全局极值pgd，计算公式为：xid＝xid+vid；、根据适应度函数计算每个粒子的适应度值，更新个体极值，pid和全局极值pgd，更新粒子群速度，其中，计算每个粒子的适应度值公式：更新粒子群速度的公式为：xid＝xid+vid；、判断此时迭代次数是否达到Dmax或者pgd是否小于预设ε，若是，则结束，否则D＝D+1，返回步骤；、得到样本X的聚类中心ci，计算得到模糊半径σij，结构辨识结束，计算公式为：6.根据权利要求1-4任一项所述的一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，在步骤S4中，扩展卡尔曼滤波进行T-S模糊模型参数辨识，首先对后件参数及其协方差矩阵进行初始化，然后利用卡尔曼滤波框架预测下一时刻参数p，结合p的协方差矩阵P，计算卡尔曼增益K，最后更新p和P，直到迭代完成，得到了多组if-then的线性的模糊规则，即多变量的非线性系统特性被多组if-then的模糊规则描述，具体包括以下步骤：1)、初始化后件参数p；2)、初始化后件参数的协方差矩阵P；3)、计算P，计算公式为：P＝ΦP+ΦT其中，P是所预测的估计协方差；4)、计算T-S模糊模型输出值计算公式为：其中，表示第i条规则的后件参数集合；yi表示负荷或系统能效比预测模型输出；k为当前采样时刻；5)、计算下一时刻的模糊模型输出，计算公式为：其中，wi定义为：其中βi表示第i条if-then规则的适应度，其定义为：βi＝u×·,·u,··×u式中u表示隶属度函数，其表达式为：其中σij、cij分别表示样本的模糊半径和模糊中心；6)、计算卡尔曼增益K，计算公式为：K＝ΦPCT×PCT+Re)-17)、更新x，计算公式为:9)、更新P，计算公式为：P＝ΦP+ΦT10)、循环是否完成，若否，则转步骤3)；若是，流程结束；上述中，将系统状态看作T-S模糊模型待辨识的后件参数p，T-S模糊模型后件参数为p，y模糊模型输出值：p＝ψpy＝h,p)+e式中，ψ是p的参数矩阵，e表示模型输出中的不确定性白噪声，此时系统的雅可比矩阵为：Φ)＝ψΓ)＝0式中，为模糊模型参数向量的当前估计值；表示使用前一时刻的估计状态所产生的当前时刻状态估计值，表示所更新的当前时刻k的估计状态；P是所预测的估计协方差，P是所更新的估计协方差矩阵；K为卡尔曼增益，y为估计输出，Re为噪声协方差矩阵，由Re＝EeT)计算得出。
说明书desc
技术领域本发明涉及制冷站领域，特别是一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法。背景技术近年来，建筑物能源消耗处于不断上升的趋势。目前我国建筑能耗约占社会总能耗的30％左右，而建筑物中集中式空调系统的能耗可达建筑总能耗的40％～60％，而制冷站系统能耗又占到空调系统总能耗的60％～80％，因此研究制冷站系统节能控制策略具有重要意义。然而，由于制冷站系统设备众多、结构复杂，且具有非线性、大滞后、时变和强耦合等复杂特性，造成传统PID控制方法设计和调试困难。课题组通过调研发现，由于PID参数整定困难，使得控制系统在负荷变化时易产生振荡，造成目前90％以上的制冷站系统采用手动控制方式，造成大量的能源浪费。已有研究表明，智能控制具有自适应、自学习和寻优能力，若将满足建筑冷量要求和节省能耗作为综合优化性能指标，其能够实现制冷站的全局优化控制。在智能控制方法中，模型预测控制可以处理约束和耦合问题，其能够基于预测模型和滚动优化机制，实现在满足建筑物冷量需求的前提下，最大限度地降低系统能耗。而预测控制以被控对象预测模型为基础，因此建立制冷站系统预测模型是实现集中式空调节能优化控制的先决条件，并且模型性能在系统控制中也起到关键作用。但是，制冷站系统所具有的结构复杂、非线性、强耦合等特点，给机理建模带来了困难。为此，研究人员提出了多种基于数据驱动的建模方法。文献以现有制冷站系统内单个设备的能耗模型为基础，依据制冷站运行原理建立残差神经网络ResNet模型，该模型拟合优度为0.9876；文献建立制冷站系统的BP神经网络模型和参数辨识模型，利用K-means聚类方法将两模型的精度较高区间相结合，最终建立制冷站系统融合模型；先目前，建立了冷水机组的多元多项回归参数模型和水泵的半物理模型，并用250组数据对模型参数进行了辨识。上述研究成果避免了机理建模复杂的计算过程，但是对数据样本要求较高，工程上实现较为困难。对于非线性系统而言，由Takagi和Sugeno提出的T-S模糊模型被证实可以以任意精度有效逼近实际被控对象动态特性，具有结构简单、可理解性高、逼近能力强等特点。T-S模糊建模过程通常分为前件结构辨识和后件参数辨识两部分，前件结构辨识通常需要确定每条模糊规则的模糊中心和模糊半径，目前相关成果一般采用模糊C-均值聚类算法实现，但是模糊C-均值聚类算法是一种局部搜索算法，若初值选取不当则容易陷入局部最优，不合适在线建模和控制。另一方面，对于预测控制等智能控制方法而言，在实现节能优化控制过程中需要进行模型在线校正，使模型参数能够随系统变化自适应调整，以提高模型精度，改善控制效果，对于T-S模糊模型，在线校正可以通过后件参数在线辨识实现。目前相关学者大多采用最小二乘法进行T-S模糊模型后件在线修正，由于制冷站系统属于多变量系统，最小二乘法对于多变量系统辨识求解计算量较大，为解决该问题，有学者提出利用递推最小二乘法在线求解模型后件参数，以减小计算量。但是制冷站系统现场实测数据噪声较大，会造成最小二乘法和递推最小二乘法所辨识的模型精度下降。此外，为提高建模效率，需要研究模型可移植问题，亦即为实现某个新的建筑制冷站系统节能优化控制，可以以既有建筑制冷站系统已有模型为基础，通过模型后件参数在线修正，学习新系统的动态特性，这样可以避免采集大量新系统的运行数据，能够节省建模和系统开发、调试时间。因此，需要研究抑制噪声能力强，且易于实现在线修正和模型移植的T-S模糊模型后件参数辨识方法。此外，制冷站系统的耗能设备众多，且设备间能耗彼此相关，例如当冷冻水供水温度较低时，冷冻水泵能耗较低，但是，冷水机组出水温度越低，其能效也随之下降。因此，要实现制冷站系统节能控制，需要在满足建筑冷量需求的前提下，使整个系统的综合能效尽可能提高。发明内容为解决上述问题，本文提出一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，基于制冷站节能优化控制目标，构建制冷站系统负荷预测模型和能效比预测模型，首先对制冷站系统机理进行了分析，从实现控制目标出发，确定上述两个模型的结构，在此基础上，为解决模糊C-均值聚类算法初值选取不当易陷入局部最优的问题，本文在传统FCM寻优过程中引入粒子群算法，分别完成两个模型的结构辨识；为解决噪声环境下模型参数在线辨识困难的问题，利用卡尔曼滤波算法抑制噪声能力强、在线计算量小的特点，采用扩展卡尔曼滤波算法对T-S模糊模型的后件参数进行递归在线修正。本发明的目的是通过以下技术方案来实现的：一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，所述动态建模方法通过采集制冷站系统数据，构建负荷预测模型和能效比预测模型，进而得到基于T-S模糊模型的制冷站负荷和能效比动态模型，包括以下步骤：S1、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、前一天负荷值Qdayago以及前一周负荷值Qweekago，构建负荷预测模型，其中，所述负荷预测模型的输出层为下一时刻的负荷预测值Q；S2、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、当前时刻系统能效比EER、冷冻水供水温度设定值Tchwset、冷冻水泵频率fpumpch、冷却水泵频率fpumpc以及冷却塔风机频率ftower，构建能效比预测模型，其中，所述能效比预测模型的输出层为下一时刻系统能效比EER；S3、利用PSO算法对FCM算法的目标函数进行全局寻优，采用PSO算法代替FCM迭代过程，得到聚类中心和聚类半径，完成T-S模糊模型结构辨识；S4、利用扩展卡尔曼滤波进行T-S模糊模型参数辨识。进一步的，在步骤S1和S2中，将输入数据进行滤波，得到滤除干扰后的模型输入向量：X＝{x1,...,xj,...,xn}；进一步的，在步骤S1和步骤S2中，采用线性函数转换法对样本数据进行归一化和反归一化处理，将数据转换成0至1范围内的值，公式为：y＝xdmin+yoi式中：xi表示经过归一化转换之后的值；xdi表示原输入值；xdmin表示输入量所在区间范围的最小值；xdmax表示输入量所在区间的最大值；yoi表示经过神经网络训练后的输出值；yoi表示通过反归一化后反应真实物理意义的输出值。进一步的，在步骤S1和步骤S2中，负荷预测模型和能效比预测模型输入参数进行滑动窗口滤波处理，使窗口宽N为21。进一步的，在步骤S3中，T-S模糊模型结构辨识中，在T-S模糊模型的前件结构辨识部分引入基于PSO的改进FCM算法，利用粒子群算法的全局搜索能力代替FCM算法寻找初始聚类中心，使其跳出局部极小值，实现模糊聚类，得到聚类中心{c1,...,ci,...,cn}，最终完成结构辨识，具体的步骤包括：、初始化聚类个数c、加权参数m，最大迭代次数Dmax，最小惯性权重wmin和最大惯性权重wmax，设置粒子速度范围vid∈，给定数据样本集X＝{x1,...,xj,...,xn}；、在样本集X中初始化粒子群位置，计算此时个体极值pid和全局极值pgd，初始化每个粒子的速度；计算公式为：其中，uij表示第j个样本xj属于某一类的隶属度，其表达式为：式中，m为加权参数；且uij的限制条件为：初始化每个粒子的速度计算公式为：vid＝w×vid+c1×rand×-xid)+c2×rand×-xid)；式中：c1、c2为加速常数；rand是服从均匀分布在0～1之间的一个随机数；vid和xid为d维粒子速度和位置；w为惯性权重，表达公式为：式中，D为当前迭代次数，Dmax为最大迭代次数；、更新粒子位置，更新此时个体适应度值和群体适应度值，记录此时个体极值pid和全局极值pgd，计算公式为：xid＝xid+vid；、根据适应度函数计算每个粒子的适应度值，更新个体极值，pid和全局极值pgd，更新粒子群速度，其中，计算每个粒子的适应度值公式：更新粒子群速度的公式为：xid＝xid+vid；、判断此时迭代次数是否达到Dmax或者pgd是否小于预设ε，若是，则结束，否则D＝D+1，返回步骤；、得到样本X的聚类中心ci，计算得到模糊半径σij，结构辨识结束，计算公式为：进一步的，在步骤S4中，扩展卡尔曼滤波进行T-S模糊模型参数辨识，首先对后件参数及其协方差矩阵进行初始化，然后利用卡尔曼滤波框架预测下一时刻参数p，结合p的协方差矩阵P，计算卡尔曼增益K，最后更新p和P，直到迭代完成，得到了多组if-then的线性的模糊规则，即多变量的非线性系统特性被多组if-then的模糊规则描述，具体包括以下步骤：1)、初始化后件参数p；2)、初始化后件参数的协方差矩阵P；3)、计算P，计算公式为：P＝ΦP+ΦT其中，P是所预测的估计协方差；4)、计算T-S模糊模型输出值计算公式为：其中，表示第i条规则的后件参数集合；yi表示负荷或系统能效比预测模型输出；k为当前采样时刻；5)、计算下一时刻的模糊模型输出，计算公式为：其中，wi定义为：其中βi表示第i条if-then规则的适应度，其定义为：式中表示隶属度函数，其表达式为：其中σij、cij分别表示样本的模糊半径和模糊中心；6)、计算卡尔曼增益K，计算公式为：K＝ΦPCT×PCT+Re)-17)、更新x，计算公式为:9)、更新P，计算公式为：P＝ΦP+ΦT10)、循环是否完成，若否，则转步骤3)；若是，流程结束；上述中，将系统状态看作T-S模糊模型待辨识的后件参数p，T-S模糊模型后件参数为p，y模糊模型输出值：p＝ψpy＝h,p)+e式中，ψ是p的参数矩阵，e表示模型输出中的不确定性白噪声，此时系统的雅可比矩阵为：Φ)＝ψΓ)＝0式中，为模糊模型参数向量的当前估计值；表示使用前一时刻的估计状态所产生的当前时刻状态估计值，表示所更新的当前时刻k的估计状态；P是所预测的估计协方差，P是所更新的估计协方差矩阵；K为卡尔曼增益，y为估计输出，Re为噪声协方差矩阵，由Re＝EeT)计算得出。本发明的有益效果是：本发明提供的一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，首先确定了两个模型的结构和参数，在此基础上，为解决传统模糊C-均值聚类算法在迭代求解时，对初值的选取要求较高，且易陷入局部最优的问题，本发明采用基于粒子群优化算法的改进模糊C-均值聚类算法得到样本的聚类中心和聚类半径，完成结构辨识；为解决场测数据噪声较大引起的参数辨识效果较差的问题，同时提升建模效率，本发明采用扩展卡尔曼滤波算法进行模糊模型后件参数在线修正。针对广州市某公共建筑制冷站的建模实验表明，所建立的负荷预测模型和能效比预测模型相对误差分别是2.75％和2.25％，满足工业控制模型精度要求；同时用广州市另一座建筑数据对模型可移植性和在线校正的效果进行验证，模型在线修正效果良好，所得到的新模型相对误差为4.5％，满足模型精度要求。附图说明图1为本发明模型结构图；图2为本发明实施例1中制冷站系统图；图3为本发明实施例1中冷水机组能效比-冷冻水-冷却水关系曲线图；图4为本发明实施例5中冷冻水供水温度采样值滤波前后对比图；图5为本发明实验例1中负荷预测值与实测值对比图；图6为本发明实验例1中负荷预测模型相对误差图；图7为本发明实验例2中能效比预测值与实测值对比图；图8为本发明实验例2中能效比预测模型相对误差；图9为本发明实验例3中负荷预测模型参数变化图。具体实施方式以下通过特定的具体实例说明本发明的实施方式，本领域技术人员可由本说明书所揭露的内容轻易地了解本发明的其他优点与功效。本发明还可以通过另外不同的具体实施方式加以实施或应用，本说明书中的各项细节也可以基于不同观点与应用，在没有背离本发明的精神下进行各种修饰或改变。需说明的是，在不冲突的情况下，以下实施例及实施例中的特征可以相互组合。实施例1：一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，所述动态建模方法通过采集制冷站系统数据，构建负荷预测模型和能效比预测模型，进而得到基于T-S模糊模型的制冷站负荷和能效比动态模型，包括以下步骤：S1、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、前一天负荷值Qdayago以及前一周负荷值Qweekago，构建负荷预测模型，其中，所述负荷预测模型的输出层为下一时刻的负荷预测值Q；S2、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、当前时刻系统能效比EER、冷冻水供水温度设定值Tchwset、冷冻水泵频率fpumpch、冷却水泵频率fpumpc以及冷却塔风机频率ftower，构建能效比预测模型，其中，所述能效比预测模型的输出层为下一时刻系统能效比EER；S3、利用PSO算法对FCM算法的目标函数进行全局寻优，采用PSO算法代替FCM迭代过程，得到聚类中心和聚类半径，完成T-S模糊模型结构辨识；S4、利用扩展卡尔曼滤波进行T-S模糊模型参数辨识。制冷站系统主要由冷水机组、冷冻水回路和冷却水回路组成，其结构和相关热工循环过程如附图2所示，水机组是核心部件，其主要由蒸发器、压缩机、冷凝器和膨胀阀四部分组成。冷水机组主要负责制备冷量，其工作原理是一个制冷剂不断吸热放热的循环过程。首先，液态制冷剂在蒸发器内吸收冷冻水回水的热量，变成气态，再经过压缩机，被压缩成高温高压的气体；然后，高温高压的气体在冷凝器内通过热交换把热量传递给冷却水，冷却水将热量带到冷却塔排出，气态制冷剂温度降低后变成液态；然后低温高压的液态制冷在系统推动下流过膨胀阀，变为低温低压的液态制冷剂再次被送到蒸发器内，进入下一次循环。冷冻泵和冷冻水管道共同组成冷冻水回路。与上述制冷剂的循环过程相匹配，冷冻水首先在蒸发器处与制冷剂进行热交换，被降温后由冷冻泵加压送入冷冻水管道，然后流到空调末端的空气处理机组，与进入到室内的空气进行热交换，带走空气热量。经过降温处理后的空气进入室内，达到降低室内温度的目的；同时，冷冻水因吸收空气热量而温度升高，被升温后的冷冻水再进入蒸发器与制冷剂进行热交换，并重复上述过程。冷却泵、冷却水管道和冷却塔共同组成冷却水回路。系统运行过程中，冷却水在冷凝器处吸收制冷剂释放的热量，从而温度升高。然后，冷却泵将升温后的冷却水压入冷却塔，使之与外界环境进行热交换。最后，降温后的冷却水又回到冷水机组进入下一次循环。本文针对制冷站系统的控制确定控制变量有4个，分别为冷冻水供水温度、冷冻水泵转速、冷却水转速以及冷却塔风机转速，现场采用变频器控制水泵和风机，相关变量和符号如下表所示：多种因素会对建筑冷负荷产生影响，主要包括空调区域的内部扰动与外部扰动。其中，内部扰动一般指由大楼内部的照明设备、室内人员及其他电气设备等产生的热量；外部扰动主要包括室外空气温/湿度、太阳辐射强度、风速、风向等。当建筑物投入使用后，建筑物的空间结构与使用材料等为固定参数，此时影响空调系统负荷的最重要参数是室外气象参数、室内空间的使用以及设备的开启情况，另外，历史负荷也会对当前负荷产生影响。因此，本发明所确定的负荷预测模型的输入参数有以下5个，如下表所示，模型的输出为下一时刻的负荷预测值Q：制冷站系统的耗能设备主要有冷水机组、冷冻水泵、冷却水泵和冷却塔风机，其中冷水机组能耗约占系统总能耗的55％，冷冻水泵和冷却水泵能耗大约占到38％，冷却塔风机能耗占7％，各设备能效彼此相关。冷水机组能效比COP随冷冻水供水温度、冷却水回水温度的变化关系曲线如附图3所示。由附图3可知，冷冻水供水温度越高，冷却水回水温度越低，冷水机组的能效越高。因此，要实现制冷站系统节能控制，需要在满足建筑冷量需求的前提下，使整个系统的综合能效尽可能提高，此时需要构建制冷站系统综合能效模型。本文以系统能效比EER表示综合能效，其表达式为：EER＝Qch/Ptotal其中，Qch为冷水机组制冷量，单位kW；Ptotal为制冷站各个设备运行功率的总和：Ptotal＝Pchiller+Ppumpch+Ppumpc+Ptower其中，Pchiller表示冷水机组的运行功率，Ppumpch、Ppumpc分别为冷冻水泵运行功率和冷却水泵运行功率，Ptower表示冷却塔风机运行功率，单位均为kW。模型输入为影响制冷站系统EER的状态变量和控制变量，其中影响系统EER的主要状态变量包括室外气象参数和冷负荷，因此本文选取室外温度、室外相对湿度和系统负荷作为模型状态变量输入。对于控制变量而言，冷冻水泵、冷却水泵和冷却塔风机的控制变量是输出给相应变频器的频率信号；而冷水机组结构复杂，造价昂贵，且其内部有厂家设置好的控制器，不允许外部控制器对其进行控制，因此本文选择冷冻水供水温度设定值作为冷水机组的控制变量。模型构建完成后，控制系统可以利用控制算法计算使系统EER达到最佳时的冷冻水供水温度设定值，当优化后的设定值传给冷水机组后，冷水机组会自动通过内部控制器，使其出水温度达到该设定值。综上所述，制冷站系统模型的输出变量为下一时刻系统能效比EER，输入变量为以下8个，如下表所示：实施例2：一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，所述动态建模方法通过采集制冷站系统数据，构建负荷预测模型和能效比预测模型，进而得到基于T-S模糊模型的制冷站负荷和能效比动态模型，包括以下步骤：S1、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、前一天负荷值Qdayago以及前一周负荷值Qweekago，构建负荷预测模型，其中，所述负荷预测模型的输出层为下一时刻的负荷预测值Q；S2、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、当前时刻系统能效比EER、冷冻水供水温度设定值Tchwset、冷冻水泵频率fpumpch、冷却水泵频率fpumpc以及冷却塔风机频率ftower，构建能效比预测模型，其中，所述能效比预测模型的输出层为下一时刻系统能效比EER；S3、利用PSO算法对FCM算法的目标函数进行全局寻优，采用PSO算法代替FCM迭代过程，得到聚类中心和聚类半径，完成T-S模糊模型结构辨识；S4、利用扩展卡尔曼滤波进行T-S模糊模型参数辨识。由于冷冻水泵、冷却水泵和冷却塔风机具有非线性特性，因此负荷预测模型和冷冻水系统能效比预测模型均为多输入、单输出非线性模型。一般来说，每一个多输入单输出的T-S模糊模型可以由一组模糊规则来描述，每一条规则代表一个线性子系统。其中第i条模糊规则的T-S模型为式中，Ri表示第i条if-then规则，c为规则数目；xj是输入数据，如实施例1中所述，包括室外温度、室外湿度、负荷值、能效比EER等模型输入参数；是模型第i条if-then规则中第j个前件模糊集合，表示第i条规则的后件参数集合；yi表示负荷或系统能效比预测模型输出；k为当前采样时刻。模糊系统的输出量为每条规则的输出量的加权平均：式中，wi定义为：其中βi表示第i条if-then规则的适应度，其定义为：βi＝u×·,·u,··×u式中u表示隶属度函数，本文选取高斯隶属度函数：其中σij、cij分别表示样本的模糊半径和模糊中心T-S模糊建模流程如附图1所示，由模型前件结构辨识、模型后件参数辨识、模型性能验证3部分组成。首先，本文将输入数据进行滤波，得到滤除干扰后的模型输入向量：X＝{x1,...,xj,...,xn}然后，本发明在模型前件结构辨识部分引入基于PSO的改进FCM算法，利用粒子群算法的全局搜索能力代替FCM算法寻找初始聚类中心，使其跳出局部极小值，实现模糊聚类，得到聚类中心{c1,...,ci,...,cn}，完成结构辨识。传统FCM算法在迭代求取最优聚类中心时，对初值的选取要求较高，且易陷入局部最优，对于数据量较大的样本聚类，一般多次使用FCM算法对样本进行实验才可以得到较为满意的结果，效率较低。PSO算法是一种基于群体的随机寻优算法，对解的初值位置要求较低，且全局优化求解能力强，可以弥补FCM的不足。因此，本文在计算聚类中心时引入PSO算法对FCM算法的目标函数进行全局寻优，采用PSO算法代替FCM迭代过程，得到聚类中心和聚类半径，最终完成T-S模型结构辨识。PSO算法基本思想是随机初始化d维粒子位置xid和速度vid，通过公式vid＝w×vid+c1×rand×-xid)+c2×rand×-xid)xid＝xid+vid不断更新xid和vid，最后找到问题空间内最优解，每次更新粒子状态时都将记录当前迭代次数为止的最优解pid，以及整个种群目前所找到的最优解pgd。公式中，c1、c2为加速常数；rand是服从均匀分布在0～1之间的一个随机数；w为惯性权重，控制着粒子飞行的速度，本文采用权值线性递减法根据迭代次数更新w，通过引入该方法可以使算法在迭代开始时具有较强的全局搜索能力，其公式为：其中，wmin和wmax表示惯性因子的最大值和最小值，D为当前迭代次数，Dmax为最大迭代次数。设数据样本集为X＝{x1,...,xj,...,xn}，假设将样本x分成c类，聚类中心为{c1,...,ci,...,cN}。设表示第j个样本xj到第i个聚类中心ci的欧几里得距离。FCM的目标函数为：其中，uij表示第j个样本xj属于某一类的隶属度，其表达式为：式中，m为加权参数，一般取m＝2；且uij的限制条件为：在使用PSO算法进行寻优求解时，一般首先考虑设计适应度函数，适应度函数用以判别粒子的优良程度。本节将FCM的目标函数J作为PSO算法的适应度函数，J的值越小，表示聚类效果越好。本发明将c个聚类中心作为PSO算法中的c个粒子群。具体的，包括以下步骤：、初始化聚类个数c、加权参数m，最大迭代次数Dmax，最小惯性权重wmin和最大惯性权重wmax，设置粒子速度范围vid∈，给定数据样本集X＝{x1,...,xj,...,xn}；、在样本集X中初始化粒子群位置，计算此时个体极值pid和全局极值pgd，初始化每个粒子的速度；计算公式为：、更新粒子位置，更新此时个体适应度值和群体适应度值，记录此时个体极值pid和全局极值pgd，计算公式为：xid＝xid+vid；、根据适应度函数计算每个粒子的适应度值，更新个体极值，pid和全局极值pgd，更新粒子群速度，其中，计算每个粒子的适应度值公式：更新粒子群速度的公式为：xid＝xid+vid；、判断此时迭代次数是否达到Dmax或者pgd是否小于预设ε，若是，则结束，否则D＝D+1，返回步骤；、得到样本X的聚类中心ci，计算得到模糊半径σij，结构辨识结束，计算公式为：实施例3：一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，所述动态建模方法通过采集制冷站系统数据，构建负荷预测模型和能效比预测模型，进而得到基于T-S模糊模型的制冷站负荷和能效比动态模型，包括以下步骤：S1、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、前一天负荷值Qdayago以及前一周负荷值Qweekago，构建负荷预测模型，其中，所述负荷预测模型的输出层为下一时刻的负荷预测值Q；S2、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、当前时刻系统能效比EER、冷冻水供水温度设定值Tchwset、冷冻水泵频率fpumpch、冷却水泵频率fpumpc以及冷却塔风机频率ftower，构建能效比预测模型，其中，所述能效比预测模型的输出层为下一时刻系统能效比EER；S3、利用PSO算法对FCM算法的目标函数进行全局寻优，采用PSO算法代替FCM迭代过程，得到聚类中心和聚类半径，完成T-S模糊模型结构辨识；S4、利用扩展卡尔曼滤波进行T-S模糊模型参数辨识。在结构模型基础上，本发明采用扩展卡尔曼滤波算法对后件参数p进行辨识。本发明首先对后件参数及其协方差矩阵进行初始化，然后利用卡尔曼滤波框架预测下一时刻参数p，结合p的协方差矩阵P，计算卡尔曼增益K，最后更新p和P，直到迭代完成，此时得到了多组if-then的线性的模糊规则，即多变量的非线性系统特性被多组if-then的模糊规则描述。扩展卡尔曼滤波的基本思想是利用泰勒级数展开方法将非线性系统线性化，然后采用卡尔曼滤波框架对场测数据进行滤波，能够实现非线性参数在线估计，与递推最小二乘法等在线参数辨识方法相比更适用于场测噪声数据较大的制冷站系统建模。本文中，参数辨识问题可以转化为系统状态估计问题，将系统状态看作T-S模糊模型待辨识的后件参数p，设T-S模糊模型后件参数为p，y模糊模型输出值：p＝ψpy＝h,p)+e式中，ψ是p的参数矩阵，e表示模型输出中的不确定性白噪声。此时系统的雅可比矩阵为：Φ)＝ψΓ)＝0式中，为模糊模型参数向量的当前估计值。曼滤波可以通过以下公式迭代求解：预测阶段：P＝ΦP+ΦT更新阶段：K＝ΦPCT×PCT+Re)-1P＝ΦPΦT-KPΦT)其中，表示使用前一时刻的估计状态所产生的当前时刻状态估计值，表示所更新的当前时刻k的估计状态；P是所预测的估计协方差，P是所更新的估计协方差矩阵；K为卡尔曼增益，y为估计输出，Re为噪声协方差矩阵，由Re＝EeT)计算得出。扩展卡尔曼滤波进行T-S模糊模型参数辨识具体包括以下步骤：1)、初始化后件参数p；2)、初始化后件参数的协方差矩阵P；3)、计算P，计算公式为：P＝ΦP+ΦT其中，P是所预测的估计协方差；4)、计算T-S模糊模型输出值计算公式为：5)、计算下一时刻的模糊模型输出，计算公式为：其中，wi定义为：其中βi表示第i条if-then规则的适应度，其定义为：βi＝u×·,·u,··×u式中u表示隶属度函数，其表达式为：其中σij、cij分别表示样本的模糊半径和模糊中心；6)、计算卡尔曼增益K，计算公式为：K＝ΦPCT×PCT+Re)-17)、更新x，计算公式为:9)、更新P，计算公式为：P＝ΦP+ΦT10)、循环是否完成，若否，则转步骤3)；若是，流程结束。实施例4：一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，所述动态建模方法通过采集制冷站系统数据，构建负荷预测模型和能效比预测模型，进而得到基于T-S模糊模型的制冷站负荷和能效比动态模型，包括以下步骤：S1、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、前一天负荷值Qdayago以及前一周负荷值Qweekago，构建负荷预测模型，其中，所述负荷预测模型的输出层为下一时刻的负荷预测值Q；S2、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、当前时刻系统能效比EER、冷冻水供水温度设定值Tchwset、冷冻水泵频率fpumpch、冷却水泵频率fpumpc以及冷却塔风机频率ftower，构建能效比预测模型，其中，所述能效比预测模型的输出层为下一时刻系统能效比EER；S3、利用PSO算法对FCM算法的目标函数进行全局寻优，采用PSO算法代替FCM迭代过程，得到聚类中心和聚类半径，完成T-S模糊模型结构辨识；S4、利用扩展卡尔曼滤波进行T-S模糊模型参数辨识。本实施例里，在步骤S1和步骤S2中，本文所采集的数据变量量纲不同，且数值大小差异较大。由于模糊C-均值聚类算法在聚类过程中对差异过大的数值较为敏感，有可能导致模型结构辨识不精准，因此，本文采用线性函数转换法对样本数据进行归一化和反归一化处理，将数据转换成0至1范围内的值，其公式为：y＝xdmin+yoi式中：xi表示经过归一化转换之后的值；xdi表示原输入值；xdmin表示输入量所在区间范围的最小值；xdmax表示输入量所在区间的最大值；yoi表示经过神经网络训练后的输出值；yoi表示通过反归一化后反应真实物理意义的输出值。实施例5：一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法，其特征在于，所述动态建模方法通过采集制冷站系统数据，构建负荷预测模型和能效比预测模型，进而得到基于T-S模糊模型的制冷站负荷和能效比动态模型，包括以下步骤：S1、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、前一天负荷值Qdayago以及前一周负荷值Qweekago，构建负荷预测模型，其中，所述负荷预测模型的输出层为下一时刻的负荷预测值Q；S2、采集制冷站的室外温度Tto、室外湿度Tho、当前时刻负荷值Q、当前时刻系统能效比EER、冷冻水供水温度设定值Tchwset、冷冻水泵频率fpumpch、冷却水泵频率fpumpc以及冷却塔风机频率ftower，构建能效比预测模型，其中，所述能效比预测模型的输出层为下一时刻系统能效比EER；S3、利用PSO算法对FCM算法的目标函数进行全局寻优，采用PSO算法代替FCM迭代过程，得到聚类中心和聚类半径，完成T-S模糊模型结构辨识；S4、利用扩展卡尔曼滤波进行T-S模糊模型参数辨识。在本实施例里，在步骤S1和步骤S2中，为了消除尖峰噪声和各种随机噪声，本发明对模型输入参数进行了滑动窗口滤波处理，本发明以制冷站的冷冻水供水温度采样值为例展示滤波效果，如附图4示，滑动平均滤波算法需要先指定一个宽度为N的滑动窗口，即连续N个数据的排列，窗口不断向后右滑动，经过新数据时将其放到队首，并去掉队尾一个数据，滤波输出为N个数据的算术平均值。经过反复试验，本发明选取窗口宽N为21。实验例1：选取广州市某公共建筑制冷站系统2020年9月至10月的实测样本数据进行建模，数据由安装在设备上传感器得到，得到的数据如下表格所示：在建立T-S模糊模型时，采用7:3的比例随机划分数据集，取70％的数据作为训练集，30％的数据作为测试集，并选择平均绝对误差作为性能评价指标，以验证模型的有效性。具体计算公式如下：其中，M表示测试使用数据数量，yk表示实际数据数量，yk是T-S模糊模型的预测输出。构建负荷预测模型，过程中，基于PSO的模糊C均值聚类算法参数的选取为m＝2，c＝3，c1＝1.6，c2＝1.6，Dmax＝1000，wmin＝0.4，wmax＝0.9，ε＝0.1。扩展卡尔曼滤波算法初始条件为P＝I，p＝0，最大迭代次数MAX＝30。建模结果如附图5所示，经计算，MAE为14.1972kW，模型相对误差在±2.75％之内，如附图6所示。实验例2：本实验例中，在构建系统能效比模型过程中，为了验证模型的准确性，也采用平均绝对误差作为模型性能评价指标。在系统能效比模型中，根据经验，基于PSO的模糊C均值聚类算法参数的选取为m＝2，c＝8，c1＝1.45，c2＝1.45，Dmax＝1000，wmin＝0.4，wmin＝0.9，ε＝0.1。扩展卡尔曼滤波算法初始条件为P＝I，p＝0，最大迭代次数MAX＝30。建模结果如附图7所示，经计算，MAE为0.0020，模型平均相对误差在±2.25％之内，如附图8所示。实验例3：为验证模型在线修正的有效性，本实验例利用广州市另一座建筑数据对模型可移植性和在线校正的效果进行验证，新模型输入参数同样为当前时刻室外温度、室外湿度、当前时刻负荷值、前一天负荷值以及前一周负荷值。首先，在仿真实验开始时，设置聚类个数c为2，由于输入变量个数num为5个，因此后件参数个数为×c为12个，使用北京西城某建筑采集的数据训练负荷预测模型，在训练第500次时，使用广州某建筑的采集数据继续训练模型，在完成500次迭代训练后，12个模型参数收敛情况如附图6所示。从附图9可看出，在将结构相同的模型置入不同环境时，模型参数能够以较快的速度收敛，所得到的新模型相对误差为4.5％，满足模型精度要求。综上，为了能够利用智能控制手段实现在满足冷量要求的前提下制冷站系统能效最佳，精准的预测模型十分关键，因此发明提出一种基于T-S模糊模型的制冷站负荷和能效比动态建模方法。为了解决在T-S模糊模型结构辨识中，传统FCM算法在迭代求解时，对初值的选取要求较高，且易陷入局部最优的问题，本发明提出了基于粒子群优化算法的改进模糊C均值聚类算法完成结构辨识；为了解决为解决场测数据噪声较大引起的参数辨识效果较差的问题，同时提升建模效率，本发明提出利用扩展卡尔曼滤波算法进行模糊模型后件参数在线修正，并对其进行验证试验，试验表明所建立的负荷预测模型和能效比预测模型相对误差分别是2.75％和2.25％，满足工业控制模型精度要求；同时用广州市另一座建筑数据对模型可移植性和在线校正的效果进行验证，模型在线修正效果良好，所得到的新模型相对误差为4.5％，满足模型精度要求。以上所述实施例仅表达了本发明的具体实施方式，其描述较为具体和详细，但并不能因此而理解为对本发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干变形和改进，这些都属于本发明的保护范围。
