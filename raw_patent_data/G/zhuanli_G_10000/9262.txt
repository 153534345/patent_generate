标题title
电容式触控面板的多模式作业方法
摘要abst
本发明公开了一种用于电容式触控面板的多模式作业方法及一种计算设备，其中用于电容式触控面板的多模式作业方法包括下述步骤：以面板初始时的互容电容值作为基准值；初始步骤后取得的互容电容值作为原始值；比较原始值与基准值以取得感应数值；比较目前感应数值与先前感应数值以取得第一比较结果；校正步骤，当触控格具有小于0的感应数值且触控格的垂直方向及水平方向的其它触控格中分别有任一触控格的感应数值大于有效触控标准值时，则根据该触控格的感应数值与该触控格的绝对值取得计算值，作为该触控格的感应数值；决定步骤，根据第一比较结果与校正步骤后的所有格感应数值，选取正常模式或防水模式。
权利要求书clms
1.一种用于电容式触控面板的多模式作业方法，其特征在于，该面板具有多个触控格，以互容扫描方式取得该多个触控格的一感应数值，触控面板的操作模式包含一正常模式以及一防水模式，并依据下述一判断防水条件决定进入该防水模式：该多个触控格的该感应数值中最大值大于一上阈值，以及该多个触控格的该感应数值中最小值小于一下阈值；该多个触控格的该感应数值中最大值减掉最小值大于一第一预定值；该多个触控格的该感应数值中大于该上阈值的总格数大于一上防水格数，以及小于该下阈值的总格数大于一下防水格数；以及所有小于该下阈值的该多个感应数值的绝对值总和大于一第二预定值；符合以上～其中两项以上条件，则判断进入该防水模式。2.如权利要求1所述的用于电容式触控面板的多模式作业方法，其特征在于，当该多个感应数值判断两次以上符合权利要求1中～所述条件时，则进入该防水模式。3.如权利要求1所述的用于电容式触控面板的多模式作业方法，其特征在于，在执行判断前，该多个感应数值先进行下述处理步骤：在该面板初始时，取得各触控格互容扫描的该感应数值作为各触控格的基准值；及之后每次取得各触控格互容扫描的该感应数值，把该感应数值扣除各触控格的基准值，再执行该判断防水条件。4.如权利要求1所述的用于电容式触控面板的多模式作业方法，其特征在于，在执行判断前，该多个感应数值先进行校正处理，当触控格具有小于0的感应数值，以及该触控格的垂直方向及水平方向的其它触控格中分别有任一触控格的感应数值大于一有效触控标准值，以及该触控格的水平方向的所有其它触控格中任一格的感应数值大于该有效触控标准值时，则根据该触控格的感应数值与该触控格的绝对值取得一计算值，以作为该触控格的感应数值。5.如权利要求1所述的用于电容式触控面板的多模式作业方法，其特征在于，若侦测到一触控事件，该判断防水条件中的该上阈值、该下阈值、该第一预定值、该上防水格数、该下防水格数或该第二预定值的数值，随着触控事件的数量而增大。6.如权利要求2所述的用于电容式触控面板的多模式作业方法，其特征在于，若侦测到一触控事件，该判断防水条件中的该上阈值、该下阈值、该第一预定值、该上防水格数、该下防水格数、该第二预定值或判断次数的数值，随着触控事件的数量而增大。7.如权利要求1所述的用于电容式触控面板的多模式作业方法，其特征在于，在进入该防水模式后，包含回到该正常模式的一判断无水条件，其中该判断无水条件与该判断防水条件的标准相同，或者减小该上阈值、该下阈值、该第一预定值、该上防水格数、该下防水格数或该第二预定值的数值，形成缓冲效果。8.如权利要求1所述的用于电容式触控面板的多模式作业方法，其特征在于，在该防水模式中，当判定触控对象造成触控事件后，在该触控对象离开该触控面板后一段预定时间内，强制停留在该防水模式中操作，或者当目前感应数值与先前感应数值的差值大于预定值的触控格的总数大于一预定格数时，则仍留在该防水模式一段预定时间但不执行有效触控判断。9.一种用于电容式触控面板的多模式作业方法，该面板具有多个触控格，以互容扫描方式取得该多个触控格的一感应数值，其特征在于，触控面板的操作模式包含一正常模式以及一防水模式，并且在该防水模式中，针对未判定为触摸的一区域，如果有感应量的变化视为水引起的变化，并依此建立一防水基准值，每个触控格的感应数值扣除该防水基准值后，再判断一触摸效果。10.如权利要求9所述的用于电容式触控面板的多模式作业方法，其特征在于，在该防水模式中，一防水模式有效触控标准值设定成大于该正常模式中的一正常模式有效触控标准值，以及根据感测值大于该防水模式有效触控标准值的触控格的上、下、左及右邻接触控格的感应数值设定一周围判断条件，判断该触控格是否被有效触控。11.如权利要求9所述的用于电容式触控面板的多模式作业方法，其特征在于，在该防水模式中，当未判定触控事件发生时，提高该防水模式有效触控标准值，或者提高该周围判断条件的标准，发生触控事件后，再回到原本的该防水模式有效触控标准值，或者回到原本的该周围判断条件的标准。12.如权利要求9所述的用于电容式触控面板的多模式作业方法，其特征在于，在该防水模式中，当该多个触控格的该感应数值中大于一上阈值的总数与一正面积格数之差大于一面积变化格数时或者多个触控格的该感应数值中小于一下阈值的总数与一负面积格数之差大于一面积变化格数时，提高该防水模式有效触控标准值，或者提高该周围判断条件的标准。13.如权利要求9所述的用于电容式触控面板的多模式作业方法，其特征在于，在该防水模式中，当判定触控事件发生时，一触控坐标周围设定一保护范围，该保护范围内加强稳定处理，提高报点标准，或者强制限定不产生新的触控事件。14.如权利要求9所述的用于电容式触控面板的多模式作业方法，其特征在于，在该防水模式中，将该触控面板边缘的触控格的该有效触控标准值设定成小于该防水有效触控标准值，或者将在该触控面板角落的触控格的该有效触控标准值设定成大于该防水有效触控标准值，根据感测值大于该防水模式有效触控标准值的触控格的上、下、左及右邻接该触控格的感应数值，判断该触控格是否被有效触控；或者针对各触控格的感应数值加强滤波或稳定处理，提升触控效果的稳定度。15.一种用于电容式触控面板的多模式作业方法，该面板具有多个触控格，以互容扫描方式取得该多个触控格的一感应数值，其特征在于，触控面板的操作模式包含一正常模式以及一水中操作模式，并且利用一水中开关设定或者依据下述一判断水中条件判定进入该水中操作模式：该多个触控格的该感应数值在一短时间内增加的变化量大于一有效触控标准值，并且该多个触控格的该感应数值在一预设时间内的感应数值都维持稳定；另外在判定进入该水中操作模式后，建立一水中基准值，并且该多个触控格的该感应数值取绝对值或取负值再做一触控判断。16.如权利要求15所述的用于电容式触控面板的多模式作业方法，其特征在于，还包含一防水模式，在该防水模式中依据该水中开关设定或者该判断水中条件判定进入该水中操作模式。17.如权利要求15或16所述的方法，其特征在于，在判定进入该水中操作模式后，该多个触控格的该感应数值再放大或者进行触控判断时放宽判断标准，其中该放宽判断标准的方法包含一水中模式有效触控标准值设定成小于该正常模式中的一正常模式有效触控标准值，或者根据感测值大于该水中模式有效触控标准值的该触控格的上、下、左及右邻接该触控格的感应数值设定周围判断条件的标准值降低，判断该触控格是否被有效触控。18.如权利要求15或16所述的用于电容式触控面板的多模式作业方法，其特征在于，在判定进入水中操作模式后，另外依据下述判断离开水中条件判定离开水中操作模式，并且回到防水模式或正常模式：该多个触控格的该感应数值在一短时间内减少的总变化量大于一水中判定值，并且该多个触控格的该感应数值在一预设时间内的总变化量都小于一稳定预设值。19.一种计算设备，其特征在于，包含：一中央处理单元；一触控面板，用于显示及允许使用者以触控方式操作；一控制器，与该触控面板及该中央处理单元相互通讯，或者具有针对一触控感应数值进行判断一触控效果的功能；其中该中央处理单元及该控制器协力操作以执行如权利要求1、9、15中任一项的方法。
说明书desc
技术领域本发明关于电容式触控面板的多模式操作，特别是关于使用互控式扫描的电容式触控面板的防水模式操作。背景技术电容式触控面板已广泛应用于各式样的电子或计算装置，特别是移动电话、平板电脑、笔记本电脑等电子设备。电容式触控面板经常面临差异极大的操作环境，举例而言，水或导电度高的液体溅洒于触控垫上的情形、污染物附着的情形等等。为了解决这些异常的使用状态，美国专利US8823678及中国台湾专利TWI490764，分别揭示被水污染的位置的判断方法。美国专利US8823678是根据干式模式及湿式模式中的测得的电容位准来判断及决定有无污染物存在的情形。中国台湾专利TWI490764是根据自容模式扫描方式，将不同列的扫描信号结果相互比对以辨识有水的位置。但是，现有技术仅识别受水影响的区域但无法辨识这些区域是否被有效触控。此外，现有技术也无法区别受盐水等导电度高的液体污染的情形，以致判断被触控点的准确率低。因此需要在多种不同模式中都能够降低误判而有高报点率的电容式触控面板技术。发明内容为了提供能准确地判断各种操作模式以及在各种操作模式中都具有高报点率的技术，本发明提出一种用于电容式触控面板的多模式作业方法，该面板具有多个触控格，以互容扫描方式取得该多个触控格的一感应数值，包含一正常模式以及一防水模式，并依据下述判断一防水条件决定进入该防水模式：该多个触控格的该感应数值中最大值大于一上阈值，以及该多个触控格的该感应数值中最小值小于一下阈值；该多个触控格的该感应数值中最大值减掉最小值大于一第一预定值；该多个触控格的该感应数值中大于该上阈值的总格数大于一上防水格数，以及小于该下阈值的总格数大于一下防水格数；以及所有小于该下阈值的该多个感应数值的绝对值总和大于一第二预定值，只要符合两项以上条件，就会判断进入该防水模式。依据本发明的构想，该多个感应数值较佳需要判断两次以上符合上述条件，才会进入该防水模式。依据本发明的构想，在执行判断前，该多个感应数值会先进行下述处理步骤：在该面板初始时，取得各触控格互容扫描的该感应数值作为各触控格的基准值；之后每次取得各触控格互容扫描的该感应数值，把该感应数值扣除该各触控格的基准值，再执行该判断防水条件。依据本发明的构想，在执行判断前，该多个感应数值会先进行校正处理，当触控格具有小于0的感应数值，以及该触控格的垂直方向及水平方向的其它触控格中分别有任一触控格的感应数值大于一有效触控标准值，以及该触控格的水平方向的所有其它触控格中任一格的感应数值大于该有效触控标准值时，则根据该触控格的感应数值与该触控格的绝对值取得一计算值，以作为该触控格的感应数值。依据本发明的构想，若侦测到一触控事件，该判断防水条件中的该上阈值、该下阈值、该第一预定值、该上防水格数、该下防水格数、该第二预定值或判断次数的数值，可随着触控事件的数量而提升。依据本发明的构想，在进入该防水模式后，包含一回到正常模式的一判断无水条件，该判断无水条件与该判断防水条件的标准相同，或者可以缩小该上阈值、该下阈值、该第一预定值、该上防水格数、该下防水格数或该第二预定值的数值，形成缓冲效果。本发明亦提出一种用于电容式触控面板的多模式作业方法，该面板具有多个触控格，以互容扫描方式取得该多个触控格的一感应数值，其中包含一正常模式以及一防水模式，并且在该防水模式中，针对未判定为触摸的一区域，如果有感应量的变化视为水引起的变化，并依此建立一防水基准值，每个触控格的感应数值扣除该防水基准值后，再判断一触摸效果。依据本发明的构想，在该防水模式中，一防水模式有效触控标准值设定成大于该正常模式中的一正常模式有效触控标准值，以及根据感测值大于该防水模式有效触控标准值的触控格的上、下、左及右邻接触控格的感应数值设定一周围判断条件，判断该触控格是否被有效触控。依据本发明的构想，在该防水模式中，当未判定触控事件发生时，可以提高该防水模式有效触控标准值，或者提高该周围判断条件的标准，发生触控事件后，再回到原本的该防水模式有效触控标准值，或者回到原本的该周围判断条件的标准。依据本发明的构想，在该防水模式中，当该多个触控格的该感应数值中大于一上阈值的总数大于一正面积格数或者小于一下阈值的总数大于一负面积格数的变化量大于一面积变化格数时，可以提高该防水模式有效触控标准值，或者提高该周围判断条件的标准。依据本发明的构想，在该防水模式中，当判定触控事件发生时，一触控坐标周围设定一保护范围，该保护范围内加强稳定处理，提高报点标准，或者强制限定不会产生新的触控事件。依据本发明的构想，在该防水模式中，将该触控面板边缘的触控格的该有效触控标准值设定成小于该防水有效触控标准值，或者将在该触控面板角落的触控格的该有效触控标准值设定成大于该防水有效触控标准值，根据感测值大于该防水模式有效触控标准值的触控格的上、下、左及右邻接该触控格的感应数值，判断该触控格是否被有效触控；或者针对各触控格的感应数值加强滤波或稳定处理，提升触控效果的稳定度。依据本发明的构想，在该防水模式中，当判定触控对象造成触控事件后，如果该触控对象离开该触控面板后一段预定时间内，则强制停留在该防水模式中操作，或者假使目前感应数值与先前感应数值的差值大于预定值的触控格的总数大于一预定格数时，则仍留在该防水模式一段预定时间但不执行有效触控判断。本发明还提出一种用于电容式触控面板的多模式作业方法，该面板具有多个触控格，以互容扫描方式取得该多个触控格的一感应数值，其中包含一正常模式以及一水中操作模式，并且利用一水中开关设定或者依据下述一判断水中条件判定进入该水中操作模式：该多个触控格的该感应数值在一短时间内增加的变化量大于一有效触控标准值，并且该多个触控格的该感应数值在一预设时间内的感应数值都维持稳定；另外在判定进入该水中操作模式后，建立一水中基准值，并且该多个触控格的该感应数值取绝对值或取负值再做一触控判断。依据本发明的构想，该方法还包含一防水模式，在该防水模式中可依据该水中开关设定或者该判断水中条件判定进入该水中操作模式。依据本发明的构想，在判定进入该水中操作模式后，该多个触控格的该感应数值可以再放大或者进行触控判断时放宽判断标准，其中该放宽判断标准的方法包含一水中模式有效触控标准值设定成小于该正常模式中的一正常模式有效触控标准值，或者根据感测值大于该水中模式有效触控标准值的该触控格的上、下、左及右邻接该触控格的感应数值设定周围判断条件的标准值降低，判断该触控格是否被有效触控。依据本发明的构想，在判定进入水中操作模式后，另外依据下述判断离开水中条件判定离开水中操作模式，并且回到防水模式或正常模式：该多个触控格的该感应数值在一短时间内减少的总变化量大于一水中判定值，并且该多个触控格的该感应数值在一预设时间内的总变化量都小于一稳定预设值。本发明还提出一种计算设备，包含：一中央处理单元；一触控面板，用于显示及允许使用者以触控方式操作；一控制器，与该触控面板及该中央处理单元相互通讯，或者具有针对一触控感应数值进行判断一触控效果的功能；其中该中央处理单元及该控制器协力操作以执行前述几个方法。根据本发明，可以区别负触效应及污染物附着的情形，在触控屏幕沾到大量水的情形中仍能准确辨识有效触控，能够区别导电度高的液体附着于触控面板与戴着手套触控的情形，因而相较于现有技术，具有相当高的有效触控辨识能力。附图说明图1为概要显示互容式触控面板的视图；图2A及图2B分别显示举例说明正常手指触控面板时各触控格感应数值及有水存在于触控面板时的各触控格感应数值；图3为流程图，用于说明根据本发明的实施例的互容电容信号处理；图4为流程图，用于说明根据本发明的实施例的追踪及负触效应处理；图5为显示触控面板的众多格感应数值，用以说明负触效应；图6为流程图，用于说明“防水模式”判断及处理作业；图7为方块图，显示根据一实施例的计算设备。附图标记说明：500-计算设备；502-触控面板；504-控制器；506-中央处理单元。具体实施方式为了助于了解本发明的精神及原理，将简要说明电容式触控面板的布置及感测方式。参考图1，触控面板100设有N列及M行的扫描线。在本说明书中，将两个相邻行与两个相邻列之间的区域称为格，将整片触控面板称为框。一般而言，电容式触控面板是在面板表面产生一感应电场以取得等效电容值，手指触摸时，感应电场的强度产生变化而等效电容值也会改变，一般而言变化量级约pF，如此取得的信号会由例如模拟对数字转换器等装置转换成数字信号及接受其它处理，以产生对应的数值，以便用于执行不同处理或运算。一般而言，扫描触控面板取得感应数值的扫描方式主要有两种，其一为自容式扫描，另一种为互容式扫描，本发明主要使用互容式扫描以取得感应数值。此处，将电容式触控面板在感应电场下的电容感应数值称为原始数据，在外物触碰、附着等不同的环境条件下，电容感应数值也会不同。在未被外物碰触或接触的初始条件下取得的原始数据于下称为基准值。在手指触摸电容式触控面板时取得原始值，此原始值减掉基准值的差异值就是手指触摸而产生的变化量值，亦即差异值＝原始值－基准值。举例而言，图2A显示正常情形下手指触摸时各触控格的变化量值，亦即，图中所示的数值都是差异值。如图2A所示，值1197的格及其周围格的值显著大于其它触控格，因而被视为手指触控。于下，变化量值会称为感应数值。一般而言，触控面板的操作模式主要有正常模式及防水模式两种模式。防水模式指有水存在于触控面板时的操作模式，此一种模式以外的操作模式即为正常模式。图3为流程图，用以说明根据本发明的互容电容信号处理100。如图3所示，在步骤S100，在开机初始时，以互容方式扫描整个触控面板以取得互容电容值信号，以及对信号进行A/D处理等处理而取得对应的数值作为基准值。举例而言，在干净环境及无外物触碰下，取得的各触控格的基准值会在一定范围之内，例如在±30之内。然后进入步骤S102。在步骤S102中，以互容方式扫描整个触控面板以取得互容电容值信号，以及对信号进行A/D处理等处理而取得对应的数值作为原始值。然后，在步骤S104，将原始值减掉基准值，取得差异值作为目前感应数值，以供后续处理之用。一般而言，在开机初始后即进入正常操作模式。举例而言，在整个触控面板具有28x16格的情形中，有效触控标准值预设为400，亦即，格的数值大于或等于400时会被视为被有效触控。假使触控面板开机后进入正常模式中时，手指触摸处的最大感应数值为1200。根据本发明的实施例，如上取得的感应数值会接受追踪及负触效应处理200，以用于模式判断及模式处理。如图4所示，在S202中，执行追踪处理，比较各触控格目前的感应数值与先前感应数值，比较结果可以提供触控面板上的触控点信息等等。举例而言，根据比较结果，可以知道是否有新的触控事件发生，以及，知道手指等触控对象的移动轨迹。负触效应指当两根以上的手指碰触触控面而造成两个以上的触控点时，在这些有效触控点之间会产生负的感应值，此效应称为负触效应。当根据追踪处理的比较结果，发现触碰事件发生且有些格的值为负时，会进行负触效应处理。举例而言，如图5所示，有两个触控点存在，框中有多个格的数值为负值，这些负值是因负效应而造成的。但是，有些格会因为被污染物影响而产生负值，因此，为了避免负触效应被判定为污染物，会对具有负值的格执行负触效应处理。在步骤S206，判断格是否受负触效应影响。假使格感应数值小于有效触控标准值以及该触控格的垂直方向及水平方向均有大于标准值的格，则该触控格被认为受负触效应影响。举例而言，图5中具有-153的格符合负触效应。假使判定结果为是，则继续进行至步骤S208。在步骤S208中，以下式计算取得的值取代该触控格的目前值：Ccal＝C+/R其中，Ccal：负效应计算值，C：格值，Noffset：负触效应偏移，R：比例值。因此，-153的格的值经过处理后会变成-153+/2≈-132。如此，在进行防水模式条件判断之前，受负触效应影响的格不会被误判为受污染点，进一步增加判断准确度。根据本发明的实施例，上述追踪及负触效应处理后的感应数值会提供给模式判断处理及/或各模式处理使用。接着，说明根据本发明的实施例的模式判断及相关的模式处理。首先，说明根据本发明的实施例的“防水模式”判断及处理作业。防水模式是指在有水存在于触控面板时的情形。图6是流程图，用于说明“防水模式”判断及处理作业300。在步骤S302中，根据经过追踪及负触效应处理后的触控面板感应数值，先判断是否触控面板上有水存在，以决定是否要维持在正常模式或是进入防水模式或者要从防水模式切换到正常模式，倘若判断触控面板上有水存在就会进入防水模式，反之则维持在正常模式或者从防水模式切换到正常模式。举例而言，如果符合下述五个条件，就会被判定为有水存在而进入防水模式中操作：1.触控面板所有格感测值中最大的值大于上防水阈值，例如200，或者最小的值小于下防水阈值，例如-200；2.－＞预定值，例如300；3.所有格感测值中个别格的感测值大于上防水阈值的总格数多于上防水格数以及小于下阈值的总格数多于下防水格数；4.所有格感应数值中小于下阈值的各触控格感应数值的绝对值减掉防水偏移值的总和大于预定值。举例而言，如图2B中较大粗框中标示的四个格感应数值总和为＞420；5.至少连续两次扫描所有格感应数值，同时符合以上条件1至4。值得注意的是，较佳地，上述各阈值、偏移值或预定值可以视触控面板的尺寸、格子数量等等特性而定。如果符合上述五条件，即符合有水的条件，则继续前进至步骤S304以进入防水模式操作。在步骤S304中，设定比正常模式更高的有效触控标准值。举例而言，在正常模式操作时，有效触控标准值设为400，但防水模式中，有效触控标准值设为600。此外，根据本发明的实施例，为了准确判别触控面板边缘及角落积水的情形，以降低误判，会将触控面板边缘及角落的触控格的有效触控标准值设定成与其它触控格不同。举例而言，在其它触控格的有效触控标准值设定为600时，将触控面板的边缘的触控格的有效触控标准值降低，例如降为550，而在角落的触控格的有效触控标准值进一步提高，例如700。如此，可以避免误报有效触控点。然后，继续进行至步骤S306。在步骤S306中，根据可能的被触控格及其周围相邻格的感应数值与有效触控标准及多个预设阈值的比较，判断该触控格是否被有效触控。举例而言，判断可能被触控格的感测值是否大于有效触控标准值以及是否大于或等于所有相邻的格的感应数值。此处，周围相邻格是指该触控格垂直及水平方向相接邻的格，举例而言，最上列及下列的格只有3个相邻格，中央的格会有4个相邻的格等等。接着，判断该触控格的相邻格的值是否都大于0、上下相邻格的总和是否大于第一预定阈值、左右相邻格的值的总和是否大于第二预定阈值或上下左右总和大于第三预定阈值。如果符合，则该触控格会被判定为被有效触控，而被判定为被有效触控后，才会将触控结果输出。举例而言，如图2B所示，较小粗框标示的感应数值为603的格虽然大于有效触控标准值，但是其右邻的值为-193，并不符合邻居都要大于0的条件，因而不会被判定为有效触控。须了解，上述用于判断的标准值或相关阈值仅为举例说明，它们可以视列与行的间距等等条件而不同。举例而言，可能依据大量的测量数据而决定相关阈值。此外，在判断有效触控点存在时，当两指触控点距离在6格内时，仅留下感应量较大的触控点，将另一点忽略。再者，为了避免触控对象在接触触控面板后，触控面板上的水被触控对象拨开造成步骤S302在判定是否有水存在时的误判，而从防水模式切换到正常模式，在步骤S302判定为无水存在并准备从防水模式切换到正常模式之前，会就是否要离开防水模式先进行判断，当进行步骤S302之前已处于防水模式时，在判定触控对象造成触控事件后，如果该触控对象离开该触控面板后一段预定时间内，则还是会强制停留在该防水模式中操作，或者假使目前感应数值与先前感应数值的差值大于预定值的触控格的总数大于一预定格数时，则仍会留在防水模式一段预定时间但不执行有效触控判断。换言之，倘若符合步骤S302判定为无水存在的条件时，则会再就以下2项进行判断：1.判断在进入步骤S302之前是否处于防水模式；2.目前感应数值与先前感应数值的差值大于预定值的触控格的总数是否大于一预定格数。符合前述2项其中任一项时，即便步骤S302判定为无水状态，仍然会维持在防水模式一段预定时间，而不直接切换到正常模式，并接着进行步骤S304。反之，则离开防水模式并直接切换到正常模式，并接着进行步骤S306。在步骤S308中，判断是否要离开防水模式。在此步骤中的判断条件会比判断进入防水模式的条件更加严苛，以避免在边界条件情况时，在两个不同模式之间频繁切换。举例而言，假定触控垫在完全无水的情况下，值为0时，而在很多水而无法操作的情况下值为100时，判断进入防水模式的某阈值设定为80，则离开防水模式的某阈值会设定为60，当进入防水模式后，值在60与80之间时，仍然维持在防水模式操作。此外，当判定手指触控后手指抬起时，会留在防水模式中至少一段时间，例如0.5秒，且仍然执行有效触控点辨识处理。或者，在感应数值与先前的感应数值的差值大于预定变化值的总格数大于例如相当于拇指宽度的预定格数时，例如2格，则仍留在防水模式中至少一段时间，例如0.5秒，但不作任何有效触控点辨识处理。在步骤S308中判定离开防水模式时会回至正常模式，否则，回至步骤S306。以本实施例来说，针对步骤S308中判定是否要离开防水模式回到正常模式，有以下五个条件，符合条件就会判定为要离开防水模式回到正常模式：1.触控面板所有格感测值中最大的值大于上防水阈值，例如150，或者最小的值小于下防水阈值，例如-150；2.－＞预定值，例如210；3.所有格感测值中个别格的感测值大于上防水阈值的总格数多于上防水格数以及小于下阈值的总格数多于下防水格数；4.所有格感应数值中小于下阈值的各触控格感应数值的绝对值减掉防水偏移值的总和大于预定值。举例而言，如图2B中较大粗框中标示的四个格感应数值总和为＞420；5.至少连续两次扫描所有格感应数值，同时符合以上条件1至4。值得注意的是，较佳地，上述各阈值、偏移值或预定值可以视触控面板的尺寸、格子数量等等特性而定。如果符合上述五条件，即符合要离开防水模式回到正常模式的条件，则进入正常模式操作。如上所述，触控面板的操作模式主要有正常模式及防水模式两种模式。防水模式指有水存在于触控面板时的操作模式，此一种模式以外的操作模式即为正常模式。依照本发明，只要有少量的水存在于触控面板时，就会进入防水模式。虽然屏幕整个浸在水中时，亦可广义视为有水存在于触控面板上，但若细究，两者还是有所差异。更明确的说，当只有少量的水存在于触控面板时，可根据其与周围相邻格的感应数值与有效触控标准及多个预设阈值的比较来判断其为水渍或是被有效触控。然而，当屏幕整个浸在水中时，屏幕上所有的触控格就会处于一种有水的状态，使得整体的感应数值都会提高，在这样的状态下，即使手指触控屏幕，其感应数值增加的变化量就会相对的变得小，很难清楚的判断与察觉。因此，本发明针对屏幕整个浸在水中的状态另外设定了一水中模式。不同于少量的水存在于触控面板时，水渍或手指所接触的触控格的感应数值会因施压而明显增加，当屏幕整个浸在水中时，由于屏幕上所有的触控格都处于一种有水的状态，手指在触控面板上滑动时会将触控面板上的水拨开，反而会造成所接触的触控格的感应数值下降，因而可藉以判断是否为有效触控。水中模式可通过一水中开关来进行设定或者依据下述条件来判定是否要进入水中模式：触控格的感应数值在一短时间内增加的变化量大于一有效触控标准值且该触控格的感应数值在一预设时间内维持稳定。在判定进入水中模式后，系统会建立一水中基准值，再依照触控格的感应数值取绝对值或取负值进行一触控判断。由于屏幕上所有的触控格在屏幕整个浸在水中时，其感应数值会整体提高，因此，在判定进入水中模式后，为了有效判定手指的触控，触控格的感应数值可以设定再放大或者在进行触控判断时再另外设定一放宽判断标准。而放宽判断标准的方法包含：将一水中模式有效触控标准值设定成小于一正常模式中的一正常模式有效触控标准值，或者根据感测值大于该水中模式有效触控标准值的该触控格的上、下、左及右邻接该触控格的感应数值设定周围判断条件的标准值降低，判断该触控格是否被有效触控。在判定进入水中模式后，可再依据下述判断离开水中模式并回到防水模式或正常模式：触控格的感应数值在一短时间内减少的总变化量大于一水中判定值，并且触控格的感应数值在一预设时间内的总变化量都小于一稳定预设值。相较于现有技术，根据本发明，可以显著地降低误判的情形，大幅提供有效触控的准确度。有相当大的水量存在时，现有技术的防水模式经常误判或者是无法执行，但是，根据本发明的防水模式仍然能正确判别有效触控。图7为方块图，显示根据一实施例的计算设备500。如图所示，计算设备500包含触控面板502、控制器504、中央处理单元506。触控面板502用于显示及允许使用者以触控方式操作。控制器506可从触控面板取得输入信号，并可以根据输入信号，与中央处理单元508协力执行根据本发明的上述多种模式中的至少之一。计算设备500能够执行根据本发明的防水模式处理，具有高的触控点准确率。虽然已于上述中说明本发明的较佳实施例，但是，这些仅为说明之用且不应被解释为限定本发明的范围，在不悖离本发明的精神之下，习于此技艺者可以执行很多修改，权利要求涵盖所有这些落在发明的范围及精神之内的修改。
