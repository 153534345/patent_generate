标题title
一种PCIE接口扩展供电结构及供电方法
摘要abst
本发明提供一种PCIE接口扩展供电结构及供电方法，包括：第一引脚和第二引脚，所述第一引脚经串联的保险丝与电源连接；第二引脚经反向串联的电编程保险丝连接电源，且第二引脚通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚和第二引脚均设置在PCIE插槽内。本发明能够有效解决因P3V3_STBY供电对PCIE设备可扩展数量的限制和因P3V3_STBY供电对非标卡的限制，增强了PCIE的可扩展性和适用范围。
权利要求书clms
1.一种PCIE接口扩展供电结构，其特征在于，包括：第一引脚和第二引脚，所述第一引脚经串联的保险丝与电源连接；第二引脚经反向串联的电编程保险丝连接电源，且第二引脚通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚和第二引脚均设置在PCIE插槽内。2.根据权利要求1所述的PCIE接口扩展供电结构，其特征在于，第一引脚为P3V3_AUX电源的供电引脚。3.根据权利要求2所述的PCIE接口扩展供电结构，其特征在于，第二引脚为PCIE插槽内的空闲引脚，所述第二引脚经反向串联的电编程保险丝连接所述P3V3_AUX电源。4.根据权利要求1所述的PCIE接口扩展供电结构，其特征在于，第二引脚连接电编程保险丝的输入引脚；第二引脚连接第一电阻的一端，第一电阻的另一端分别连接电编程保险丝的使能引脚和接地的第二电阻；电编程保险丝的输出引脚连接电源。5.根据权利要求1所述的PCIE接口扩展供电结构，其特征在于，PCIE插槽通过非标准设备的PCIE金手指与非标准设备连接；非标准设备包括与第一引脚对接的第一对接引脚，和与第二引脚对接的第二对接引脚；第一对接引脚与第二对接引脚连接。6.一种基于权利要求1所述PCIE接口扩展供电结构的供电方法，其特征在于，所述方法包括：电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值；若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到本地的电压阈值，则控制本地的输入引脚与输出引脚导通。7.根据权利要求6所述的方法，其特征在于，所述方法还包括：根据PCIE插槽连接的设备的需求充电速度确定保险丝的参数。8.根据权利要求7所述的方法，其特征在于，根据第一引脚的电流阈值设置电编程保险丝的电压阈值，包括：根据电流阈值和保险丝阻值计算保险丝电压；将P3V3_AUX电源电压与保险丝电压之差作为设备电压；根据设备电压、第一电阻的阻值R1和第二电阻的阻值R2计算电压阈值，计算公式为：电压阈值＝设备电压×R1/。
说明书desc
技术领域本发明属于服务器技术领域，具体涉及一种PCIE接口扩展供电结构及供电方法。背景技术PCI Express是由PCI-SIG发布的一种总线和接口标准，采用多对高速串行的差分信号进行高速传输。PCIE规范对于设备的设计采用分层的结构，由事务层、数据链路层、物理层组成。PCIE接口根据总线位宽不同而有所差异，包括X1、X4、X8、X16，一个PCIE X16的插槽可以连接一个PCIE X16设备，或是扩展为2个PCIE X8插槽连接2个PCIE X8设备，或是4个PCIE X4插槽连接4个PCIE X4设备。在PCIE接口引脚定义中，电源部分包含P12V/P3V3/P3V3_AUX三种电源。不论是X1/X4/X8，还是X16的插槽，P3V3_AUX都仅有1个引脚。现有的PCIE插槽供电引脚设计存在以下缺点：1)、P3V3_AUX电源供电引脚数量限制PCIE扩展插槽的数量。PCIE接口标准中，对P3V3_AUX的电流需求限定为0.375A，标准的PCIE设备，不论X1/X4/X8，还是X16，都应当满足该条件。所以，当一个PCIE X16的插槽，在扩展成4个PCIEX4插槽时，对P3V3_AUX的功耗需求可能达到1.5A。因此最初按照一个PCIE X16槽进行的电源设计，可能无法支持扩展成4个PCIE X4插槽。2)、P3V3_AUX电源供电限制PCIE非标准卡的使用。使用中除了完全满足PCIE标准的标准板卡或设备，还存在一些各企业自行设计的PCIE非标准卡或设备。非标卡设备对P3V3_AUX的电流需求可能远大于0.375A。这就导致在部分应用场景下，非标卡无法在标准插槽使用。例如，具有NCSI功能非标网卡，在关机状态，仅由一个P3V3_AUX引脚供电，因引脚供电限制，线路压降过大，NCSI功能可能出现异常。发明内容针对现有技术的上述不足，本发明提供一种PCIE接口扩展供电结构及供电方法，以解决上述限制PCIE扩展插槽的数量以及不适用部分非标卡的技术问题。本发明提供一种PCIE接口扩展供电结构，包括：第一引脚和第二引脚，所述第一引脚经串联的保险丝与电源连接；第二引脚经反向串联的电编程保险丝连接电源，且第二引脚通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚和第二引脚均设置在PCIE插槽内。进一步的，第一引脚为P3V3_AUX电源的供电引脚。进一步的，第二引脚为PCIE插槽内的空闲引脚，所述第二引脚经反向串联的电编程保险丝连接所述P3V3_AUX电源。进一步的，第二引脚连接电编程保险丝的输入引脚；第二引脚连接第一电阻的一端，第一电阻的另一端分别连接电编程保险丝的使能引脚和接地的第二电阻；电编程保险丝的输出引脚连接电源。进一步的，PCIE插槽通过非标准设备的PCIE金手指与非标准设备连接；非标准设备包括与第一引脚对接的第一对接引脚，和与第二引脚对接的第二对接引脚；第一对接引脚与第二对接引脚连接。本发明还提供一种基于PCIE接口扩展供电结构的供电方法，所述方法包括：电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值；若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到本地的电压阈值，则控制本地的输入引脚与输出引脚导通。进一步的，所述方法还包括：根据PCIE插槽连接的设备的需求充电速度确定保险丝的参数。进一步的，根据第一引脚的电流阈值设置电编程保险丝的电压阈值，包括：根据电流阈值和保险丝阻值计算保险丝电压；将P3V3_AUX电源电压与保险丝电压之差作为设备电压；根据设备电压、第一电阻的阻值R1和第二电阻的阻值R2计算电压阈值，计算公式为：电压阈值＝设备电压×R1/。本发明的有益效果在于，本发明提供的PCIE接口扩展供电结构，通过在第一引脚串联一颗保险丝，并将空闲的PCIE引脚作为辅助供电引脚，即将空闲PCIE引脚反向串联电编程保险丝，通过电编程保险丝将空闲的PCIE引脚开发为第一引脚的辅助供电引脚，在第一引脚电流过大时开启空闲PCIE引脚的供电功能。因此，该PCIE接口扩展供电结构能够有效解决因P3V3_STBY供电对PCIE设备可扩展数量的限制和因P3V3_STBY供电对非标卡的限制，增强了PCIE的可扩展性和适用范围。本发明提供的基于PCIE接口扩展供电结构的供电方法，根据第一引脚的电流阈值设置电编程保险丝的电压阈值，并将电压阈值写入电编程保险丝寄存器，电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值；若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到所述电压阈值，则控制本地的输入引脚与输出引脚导通。本发明通过令空闲的PCIE引脚反向串联电编程保险丝，将空闲的PCIE引脚开发为第一引脚的辅助供电引脚，在第一引脚电流过大时开启空闲PCIE引脚的供电功能。此外，本发明设计原理可靠，结构简单，具有非常广泛的应用前景。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，对于本领域普通技术人员而言，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请一个实施例的PCIE接口扩展供电结构的结构示意图；图2是本申请一个实施例的PCIE接口扩展供电结构连接标卡的结构示意图；图3是本申请一个实施例的PCIE接口扩展供电结构连接非标卡的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本发明中的技术方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。需要说明的是，在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。在本发明的描述中，需要理解的是，术语“第一”、“第二”等仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”等的特征可以明示或者隐含地包括一个或者更多个该特征。在本发明的描述中，除非另有说明，“多个”的含义是两个或两个以上。在本发明的描述中，需要说明的是，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以通过具体情况理解上述术语在本发明中的具体含义。下面对本发明提到的专业名词进行解释。FUSE保险丝EFUSE电编程保险丝一次性可编程存储器。eFuse的诞生源于几年前IBM工程师的一个发现:与更旧的激光熔断技术相比，电子迁移特性可以用来生成小得多的熔丝结构。EM熔丝可以在芯片上编程，不论是在晶圆探测阶段还是在封装中。采用I/O电路的片上电压，一个持续200微秒的10毫安直流脉冲就足以编程单根熔丝。下面将参考附图并结合实施例来详细说明本发明。实施例1本实施例提供一种PCIE接口扩展供电结构，包括以下结构：第一引脚Pin1和第二引脚Pin2，第一引脚经串联的保险丝与电源连接；第二引脚经反向串联的电编程保险丝连接电源，且第二引脚通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚和第二引脚均设置在PCIE插槽内。本实施例中，第一引脚Pin1为电源的原有供电引脚，第二引脚Pin2为PCIE插槽内的空闲引脚。实施例2本实施例提供一种PCIE接口扩展供电结构，如图1所示，包括以下结构：第一引脚Pin1和第二引脚Pin2，第一引脚Pin1经串联的保险丝与电源连接；第二引脚Pin2经反向串联的电编程保险丝连接电源，且第二引脚Pin2通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚Pin1和第二引脚Pin2均设置在PCIE插槽内。本实施例中，电源为P3V3_STBY_source，即P3V3_AUX电源。第一引脚Pin1为原有的P3V3_STBY供电引脚，第二引脚Pin2为PCIE插槽内的空闲引脚。PCIE插槽内还包括第三引脚Pin3和第四引脚Pin4，第三引脚Pin3和第四引脚Pin4一起连接GND网络。本实施例提供的PCIE接口扩展供电结构，使用闲置的＜PRSNT_N＞引脚扩展为供电引脚；efuse电路反向串联，利用efuse的漏电特性实现引脚功能的切换；标卡与非标卡均可使用。实施例3本实施例提供一种PCIE接口扩展供电结构，包括以下结构：第一引脚Pin1和第二引脚Pin2，第一引脚Pin1经串联的保险丝与电源连接；第二引脚Pin2经反向串联的电编程保险丝连接电源，且第二引脚Pin2通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚Pin1和第二引脚Pin2均设置在PCIE插槽内。第二引脚与电编程保险丝的具体连接结构为：第二引脚连接电编程保险丝的输入引脚；第二引脚连接第一电阻的一端，第一电阻的另一端分别连接电编程保险丝的使能引脚和接地的第二电阻；电编程保险丝的输出引脚连接电源。本实施例中第一电阻与第二电阻的阻值相同。本实施例中，电源为P3V3_STBY_source，即P3V3_AUX电源。第一引脚Pin1为原有的P3V3_STBY供电引脚，第二引脚Pin2为PCIE插槽内的空闲引脚。PCIE插槽内还包括第三引脚Pin3和第四引脚Pin4，第三引脚Pin3和第四引脚Pin4一起连接GND网络。本实施例提供的PCIE接口扩展供电结构，使用闲置的＜PRSNT_N＞引脚扩展为供电引脚；efuse电路反向串联，利用efuse的漏电特性实现引脚功能的切换；标卡与非标卡均可使用。实施例4本实施例提供一种PCIE接口扩展供电结构，包括以下结构：第一引脚Pin1和第二引脚Pin2，第一引脚Pin1经串联的保险丝与电源连接；第二引脚Pin2经反向串联的电编程保险丝连接电源，且第二引脚Pin2通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚Pin1和第二引脚Pin2均设置在PCIE插槽内。第二引脚与电编程保险丝的具体连接结构为：第二引脚连接电编程保险丝的输入引脚；第二引脚连接第一电阻的一端，第一电阻的另一端分别连接电编程保险丝的使能引脚和接地的第二电阻；电编程保险丝的输出引脚连接电源。本实施例中第一电阻采用可调节电阻，第二电阻采用定值电阻。本实施例中，电源为P3V3_STBY_source，即P3V3_AUX电源。第一引脚Pin1为原有的P3V3_STBY供电引脚，第二引脚Pin2为PCIE插槽内的空闲引脚。PCIE插槽内还包括第三引脚Pin3和第四引脚Pin4，第三引脚Pin3和第四引脚Pin4一起连接GND网络。本实施例提供的PCIE接口扩展供电结构，使用闲置的＜PRSNT_N＞引脚扩展为供电引脚；efuse电路反向串联，利用efuse的漏电特性实现引脚功能的切换；标卡与非标卡均可使用。实施例5本实施例提供一种PCIE接口扩展供电结构，包括以下结构：第一引脚Pin1和第二引脚Pin2，第一引脚Pin1经串联的保险丝与电源连接；第二引脚Pin2经反向串联的电编程保险丝连接电源，且第二引脚Pin2通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚Pin1和第二引脚Pin2均设置在PCIE插槽内。第二引脚与电编程保险丝的具体连接结构为：第二引脚连接电编程保险丝的输入引脚；第二引脚连接第一电阻的一端，第一电阻的另一端分别连接电编程保险丝的使能引脚和接地的第二电阻；电编程保险丝的输出引脚连接电源。本实施例中第一电阻采用可调节电阻，第二电阻采用定值电阻。本实施例中的保险丝规格参数由需求充电速度决定，根据外接设备的需求的充电速度选取相应规格的保险丝。对于非标卡容性负载过大的情况，可以是实现前期以较小电流充电，避免初始充电电流过大造成＜P3V3_STBY_source＞端电压振荡或保护。本实施例中，电源为P3V3_STBY_source，即P3V3_AUX电源。第一引脚Pin1为原有的P3V3_STBY供电引脚，第二引脚Pin2为PCIE插槽内的空闲引脚。PCIE插槽内还包括第三引脚Pin3和第四引脚Pin4，第三引脚Pin3和第四引脚Pin4一起连接GND网络。本实施例提供的PCIE接口扩展供电结构，使用闲置的＜PRSNT_N＞引脚扩展为供电引脚；efuse电路反向串联，利用efuse的漏电特性实现引脚功能的切换；标卡与非标卡均可使用。实施例6请参考图2，在PCIE标准接口中，X1/X4/X8/X16均有一个插入检测引脚＜PRSNT_N＞，记为＜PRSNT1/2/3/4_N＞。一个PCIE X16设备，＜PRSNT4_N＞为低电平即可判断该设备插入，因此他的＜PRSNT1/2/3_N＞是可以视为闲置引脚。一个PCIE X8设备，＜PRSNT1/2_N＞可视为闲置引脚。本实施例提供一种PCIE接口扩展供电结构，包括以下结构：第一引脚Pin1和第二引脚Pin2，第一引脚Pin1经串联的保险丝与电源连接；第二引脚Pin2经反向串联的电编程保险丝连接电源，且第二引脚Pin2通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚Pin1和第二引脚Pin2均设置在PCIE插槽内。第二引脚与电编程保险丝的具体连接结构为：第二引脚连接电编程保险丝的输入引脚；第二引脚连接第一电阻的一端，第一电阻的另一端分别连接电编程保险丝的使能引脚和接地的第二电阻；电编程保险丝的输出引脚连接电源。本实施例中第一电阻采用可调节电阻，第二电阻采用定值电阻。本实施例中的保险丝规格参数由需求充电速度决定，根据外接设备的需求的充电速度选取相应规格的保险丝。对于非标卡容性负载过大的情况，可以是实现前期以较小电流充电，避免初始充电电流过大造成＜P3V3_STBY_source＞端电压振荡或保护。本实施例中，电源为P3V3_STBY_source，即P3V3_AUX电源。第一引脚Pin1为原有的P3V3_STBY供电引脚，第二引脚Pin2为PCIE插槽内的空闲引脚。PCIE插槽内还包括第三引脚Pin3和第四引脚Pin4，第三引脚Pin3和第四引脚Pin4一起连接GND网络。PCIE插槽通过标卡的PCIE金手指与标卡连接。标卡包括与第一引脚对接的第一对接引脚，和与第二引脚对接的第二对接引脚。第一引脚Pin1向＜P3V3_STBY_device＞供电3.3V，第二引脚引脚＜PRSNT_N＞连接GND变为低电平，第二对接引脚＜PRSNTx_N＞浮空，电编程保险丝关闭。此时该插槽可作为一个标准PCIE插槽使用。实施例7请参考图3，在PCIE标准接口中，X1/X4/X8/X16均有一个插入检测引脚＜PRSNT_N＞，记为＜PRSNT1/2/3/4_N＞。一个PCIE X16设备，＜PRSNT4_N＞为低电平即可判断该设备插入，因此他的＜PRSNT1/2/3_N＞是可以视为闲置引脚。一个PCIE X8设备，＜PRSNT1/2_N＞可视为闲置引脚。本实施例提供一种PCIE接口扩展供电结构，包括以下结构：第一引脚Pin1和第二引脚Pin2，第一引脚Pin1经串联的保险丝与电源连接；第二引脚Pin2经反向串联的电编程保险丝连接电源，且第二引脚Pin2通过分压电阻组合连接电编程保险丝的开关引脚；第一引脚Pin1和第二引脚Pin2均设置在PCIE插槽内。第二引脚与电编程保险丝的具体连接结构为：第二引脚连接电编程保险丝的输入引脚；第二引脚连接第一电阻的一端，第一电阻的另一端分别连接电编程保险丝的使能引脚和接地的第二电阻；电编程保险丝的输出引脚连接电源。本实施例中第一电阻采用可调节电阻，第二电阻采用定值电阻。本实施例中的保险丝规格参数由需求充电速度决定，根据外接设备的需求的充电速度选取相应规格的保险丝。对于非标卡容性负载过大的情况，可以是实现前期以较小电流充电，避免初始充电电流过大造成＜P3V3_STBY_source＞端电压振荡或保护。本实施例中，电源为P3V3_STBY_source，即P3V3_AUX电源。第一引脚Pin1为原有的P3V3_STBY供电引脚，第二引脚Pin2为PCIE插槽内的空闲引脚。PCIE插槽内还包括第三引脚Pin3和第四引脚Pin4，第三引脚Pin3和第四引脚Pin4一起连接GND网络。PCIE插槽通过非标卡的PCIE金手指与非标卡连接。非标卡包括与第一引脚对接的第一对接引脚，和与第二引脚对接的第二对接引脚。第一对接引脚与第二对接引脚连接。第一引脚Pin1向第一对接引脚连接的＜P3V3_STBY_device＞充电，第一对接引脚连接的＜P3V3_STBY_device＞电压逐渐升高；当第一对接引脚连接的＜P3V3_STBY_device＞到达某一设定阈值Von时，即第二引脚Pin2电压V1经R1R2分压后开启EFUSE；EFUSE开启后，EFUSE的VIN与VOUT导通，P3V3_STBY_source经EFUSE反向输出到第二引脚Pin2，并进入非标卡给＜P3V3_STBY_device＞供电。实施例8本实施例提供一种基于PCIE接口扩展供电结构的供电方法，包括以下步骤：S1、根据第一引脚的电流阈值设置电编程保险丝的电压阈值，并将所述电压阈值写入电编程保险丝寄存器。S2、电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值。S3、若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到所述电压阈值，则控制本地的输入引脚与输出引脚导通。实施例9本实施例提供一种基于PCIE接口扩展供电结构的供电方法，包括以下步骤：S1、根据PCIE插槽连接的设备的需求充电速度确定保险丝的参数。S2、根据第一引脚的电流阈值设置电编程保险丝的电压阈值，并将所述电压阈值写入电编程保险丝寄存器。S3、电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值。S4、若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到所述电压阈值，则控制本地的输入引脚与输出引脚导通。实施例10本实施例提供一种基于PCIE接口扩展供电结构的供电方法，包括以下步骤：S1、根据PCIE插槽连接的设备的需求充电速度确定保险丝的参数。通过选用不同参数的FUSE来实现不同的充电速度。对于非标卡容性负载过大的情况，可以是实现前期以较小电流充电，避免初始充电电流过大造成＜P3V3_STBY_source＞端电压振荡或保护。S2、根据第一引脚的电流阈值设置电编程保险丝的电压阈值，并将所述电压阈值写入电编程保险丝寄存器。首先采集P3V3_AUX电源电压值、保险丝阻值、第一电阻阻值和第二电阻阻值，并根据第一引脚可承受的电流值设置电流阈值。电流阈值与保险丝阻值的乘积为保险丝电压，保险丝电压＝电流阈值×保险丝阻值。将P3V3_AUX电源电压与保险丝电压之差作为设备电压，设备电压＝P3V3_AUX电源电压-保险丝电压。根据设备电压、第一电阻的阻值R1和第二电阻的阻值R2计算电压阈值Von，计算公式为：电压阈值Von＝设备电压×R1/。将上述计算得到的电压阈值Von烧录至电编程保险丝。S3、电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值。设定电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值V1。S4、若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到所述电压阈值，则控制本地的输入引脚与输出引脚导通。一旦监控到电压值V达到电压阈值Von，第二引脚Pin2引脚电压V1经R1R2分压后开启电编程保险丝，电编程保险丝的输入引脚与输出引脚的连接链路导通，P3V3_STBY_source经电编程保险丝反向输出到第二引脚Pin2，并进入非标卡给＜P3V3_STBY_device＞供电。本实施例提供的基于PCIE接口扩展供电结构的供电方法，根据第一引脚的电流阈值设置电编程保险丝的电压阈值，并将电压阈值写入电编程保险丝寄存器，电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值；若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到所述电压阈值，则控制本地的输入引脚与输出引脚导通。本发明通过令空闲的PCIE引脚反向串联电编程保险丝，将空闲的PCIE引脚开发为第一引脚的辅助供电引脚，在第一引脚电流过大时开启空闲PCIE引脚的供电功能。实施例11本实施例提供一种基于PCIE接口扩展供电结构的供电方法，包括以下步骤：S1、根据PCIE插槽连接的设备的需求充电速度确定保险丝的参数。通过选用不同参数的FUSE来实现不同的充电速度。对于非标卡容性负载过大的情况，可以是实现前期以较小电流充电，避免初始充电电流过大造成＜P3V3_STBY_source＞端电压振荡或保护。S2、根据第一引脚的电流阈值设置电编程保险丝的电压阈值，并将所述电压阈值写入电编程保险丝寄存器。首先采集P3V3_AUX电源电压值、保险丝阻值、第一电阻阻值和第二电阻阻值，并根据第一引脚可承受的电流值设置电流阈值。本实施例中第一电阻值R1与第二电阻值R2相等。电流阈值与保险丝阻值的乘积为保险丝电压，保险丝电压＝电流阈值×保险丝阻值。将P3V3_AUX电源电压与保险丝电压之差作为设备电压，设备电压＝P3V3_AUX电源电压-保险丝电压。根据设备电压、第一电阻的阻值R1和第二电阻的阻值R2计算电压阈值Von，计算公式为：电压阈值Von＝设备电压×R1/＝设备电压×1/2。将上述计算得到的电压阈值Von烧录至电编程保险丝。S3、电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值。设定电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值V1。S4、若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到所述电压阈值，则控制本地的输入引脚与输出引脚导通。一旦监控到电压值V达到电压阈值Von，第二引脚Pin2引脚电压V1经R1R2分压后开启电编程保险丝，电编程保险丝的输入引脚与输出引脚的连接链路导通，P3V3_STBY_source经电编程保险丝反向输出到第二引脚Pin2，并进入非标卡给＜P3V3_STBY_device＞供电。本实施例提供的基于PCIE接口扩展供电结构的供电方法，根据第一引脚的电流阈值设置电编程保险丝的电压阈值，并将电压阈值写入电编程保险丝寄存器，电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值；若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到所述电压阈值，则控制本地的输入引脚与输出引脚导通。本发明通过令空闲的PCIE引脚反向串联电编程保险丝，将空闲的PCIE引脚开发为第一引脚的辅助供电引脚，在第一引脚电流过大时开启空闲PCIE引脚的供电功能。实施例12本实施例提供一种基于PCIE接口扩展供电结构的供电方法，包括以下步骤：S1、根据PCIE插槽连接的设备的需求充电速度确定保险丝的参数。通过选用不同参数的FUSE来实现不同的充电速度。对于非标卡容性负载过大的情况，可以是实现前期以较小电流充电，避免初始充电电流过大造成＜P3V3_STBY_source＞端电压振荡或保护。S2、根据第一引脚的电流阈值设置电编程保险丝的电压阈值，并将所述电压阈值写入电编程保险丝寄存器。首先采集P3V3_AUX电源电压值、保险丝阻值、第一电阻阻值和第二电阻阻值，并根据第一引脚可承受的电流值设置电流阈值。本实施例中第一电阻为可调节电阻，第二电阻为固定电阻。电流阈值与保险丝阻值的乘积为保险丝电压，保险丝电压＝电流阈值×保险丝阻值。将P3V3_AUX电源电压与保险丝电压之差作为设备电压，设备电压＝P3V3_AUX电源电压-保险丝电压。根据设备电压、第一电阻的阻值R1和第二电阻的阻值R2计算电压阈值Von，计算公式为：电压阈值Von＝设备电压×1/2。将上述计算得到的电压阈值Von烧录至电编程保险丝。S3、电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值。设定电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值V1。S4、若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到所述电压阈值，则控制本地的输入引脚与输出引脚导通。一旦监控到电压值V达到电压阈值Von，第二引脚Pin2引脚电压V1经R1R2分压后开启电编程保险丝，输入引脚与输出引脚的连接链路导通，P3V3_STBY_source经电编程保险丝反向输出到第二引脚Pin2，并进入非标卡给＜P3V3_STBY_device＞供电。当负载端电源需求远大于设计，即通过保险丝的电流过大，则保险丝两端压降增加，设备电压经分压后永远小于阈值Von，EFUSE始终不会导通。此时需要调节第一电阻的阻值，将第一电阻的阻值调大，直至电编程保险丝的输入引脚与使能引脚之间的电压值达到所述电压阈值，输入引脚与输出引脚的连接链路导通。本实施例提供的基于PCIE接口扩展供电结构的供电方法，根据第一引脚的电流阈值设置电编程保险丝的电压阈值，并将电压阈值写入电编程保险丝寄存器，电编程保险丝实时监控本地的输入引脚与使能引脚之间的电压值；若电编程保险丝监控到输入引脚与使能引脚之间的电压值达到所述电压阈值，则控制本地的输入引脚与输出引脚导通。本发明通过令空闲的PCIE引脚反向串联电编程保险丝，将空闲的PCIE引脚开发为第一引脚的辅助供电引脚，在第一引脚电流过大时开启空闲PCIE引脚的供电功能。尽管通过参考附图并结合优选实施例的方式对本发明进行了详细描述，但本发明并不限于此。在不脱离本发明的精神和实质的前提下，本领域普通技术人员可以对本发明的实施例进行各种等效的修改或替换，而这些修改或替换都应在本发明的涵盖范围内/任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应所述以权利要求的保护范围为准。
