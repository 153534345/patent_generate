标题title
全空间定位方法、装置、设备与计算机可读存储介质
摘要abst
本发明公开了一种全空间定位方法、装置、设备与计算机可读存储介质，该方法包括：在通过三维天线阵列接收到移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合；根据所述响应信号矩阵集合，确定特征向量集合，并根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合；根据所述功率值集合，确定所述移动设备所在的方位角，以对所述移动设备进行定位。本发明通过将三维天线阵列接收到的响应信号储存为响应信号矩阵集合，并根据响应信号矩阵集合确定特征向量集合，再根据特征向量集合和预设导向矢量集合，确定功率值集合，根据功率值集合确定移动设备的方位角，以对移动设备进行定位，扩大了定位范围和提高了定位精度。
权利要求书clms
1.一种全空间定位方法，其特征在于，所述全空间定位方法包括如下步骤：在通过三维天线阵列接收到移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合；根据所述响应信号矩阵集合，确定特征向量集合，并根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合；根据所述功率值集合，确定所述移动设备所在的方位角，以对所述移动设备进行定位。2.如权利要求1所述的全空间定位方法，其特征在于，所述响应信号矩阵集合包括水平维响应信号矩阵集合和垂直维响应信号矩阵集合，所述在通过三维天线阵列接收到移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合的步骤包括：在通过所述三维天线阵列接收到移动设备的响应信号时，根据所述三维天线阵列中的天线阵元的分布情况，将所述响应信号储存为水平维响应信号矩阵集合和垂直维响应信号矩阵集合，并将所述水平维响应信号矩阵集合和所述垂直维响应信号矩阵集合储存为所述响应信号矩阵集合。3.如权利要求2所述的全空间定位方法，其特征在于，所述根据所述三维天线阵列中的天线阵元的分布情况，将所述响应信号储存为水平维响应信号矩阵集合和垂直维响应信号矩阵集合的步骤包括：根据所述三维天线阵列中的天线阵元的分布情况，将分布在同一行的所述天线阵元接收到的所述响应信号储存到同一个水平维响应信号矩阵中，将分布在相邻两行且位于同一列的所述天线阵元接收到的所述响应信号储存到同一个垂直维响应信号矩阵中；将所有水平维响应信号矩阵储存为所述水平维响应信号矩阵集合，并将所有垂直维响应信号矩阵储存为所述垂直维响应信号矩阵集合。4.如权利要求3所述的全空间定位方法，其特征在于，所述特征向量集合包括水平特征向量和垂直特征向量集合，所述根据所述响应信号矩阵集合，确定特征向量集合的步骤包括：计算出所述响应信号矩阵集合中每个水平维响应信号矩阵的水平维协方差矩阵，并计算出所述响应信号矩阵集合中每个垂直维响应信号矩阵的垂直维协方差矩阵；将所有所述水平维协方差矩阵进行累加，并进行奇异值分解，确定水平特征向量，将相邻两行所述天线阵元对应的所有所述垂直维协方差矩阵进行累加，并进行奇异值分解，确定垂直特征向量集合。5.如权利要求4中所述的全空间定位方法，其特征在于，所述预设导向矢量集合包括水平导向矢量和垂直导向矢量，所述根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合的步骤包括：将所述特征向量集合中的水平特征向量与所述预设导向矢量集合中的水平导向矢量进行相关计算，确定水平功率值集合；将所述特征向量集合中的垂直特征向量集合与所述预设导向矢量集合中的垂直导向矢量进行相关计算，确定垂直功率值集合；根据所述水平功率值集合和所述垂直功率值集合，确定所述响应信号的功率值集合。6.如权利要求5所述的全空间定位方法，其特征在于，所述根据所述功率值集合，确定所述移动设备所在的方位角的步骤包括：确定所述响应信号的功率值集合中的水平功率值集合中最大的水平功率值，确定所述响应信号的功率值集合中的垂直功率值集合中最大的垂直功率值，并根据所述最大的水平功率值和所述最大的垂直功率值，计算出所述移动设备所在的方位角。7.如权利要求6所述的全空间定位方法，其特征在于，所述对所述移动设备进行定位的步骤包括：根据所述移动设备所在的方位角，确定所述移动设备对应的位置坐标，以完成对所述移动设备的定位。8.一种全空间定位装置，其特征在于，所述全空间定位装置包括：储存模块，用于在通过三维天线阵列接收到移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合；确定模块，用于根据所述响应信号矩阵集合，确定特征向量集合，并根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合；定位模块，用于根据所述功率值集合，确定所述移动设备所在的方位角，以对所述移动设备进行定位。9.一种全空间定位设备，其特征在于，所述全空间定位设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的全空间定位程序，所述全空间定位程序被所述处理器执行时实现如权利要求1至7中任一项所述的全空间定位方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有全空间定位程序，所述全空间定位程序被处理器执行时实现如权利要求1至7中任一项所述的全空间定位方法的步骤。
说明书desc
技术领域本发明涉及移动通信技术领域，尤其涉及全空间定位方法、装置、设备与计算机可读存储介质。背景技术随着Massive MIMO技术的发展，推动了基于到达角的定位方法的发展，由于目前基于到达角的定位方法所使用的MassiveMIMO天线阵列都是二维平面阵列，在定位过程中，定位范围较窄且定位精度不高，因此，如何扩大定位范围和提高定位精度，是急需解决的问题。发明内容本发明的主要目的在于提出一种全空间定位方法、装置、设备与计算机可读存储介质，旨在解决如何扩大定位范围和提高定位精度的问题。为实现上述目的，本发明提供一种全空间定位方法，所述全空间定位方法包括如下步骤：在通过三维天线阵列接收到移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合；根据所述响应信号矩阵集合，确定特征向量集合，并根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合；根据所述功率值集合，确定所述移动设备所在的方位角，以对所述移动设备所在进行定位。优选地，响应信号矩阵集合包括水平维响应信号矩阵集合和垂直维响应信号矩阵集合，所述在通过三维天线阵列接收到用户携带的移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合的步骤包括：在通过所述三维天线阵列接收到用户携带的移动设备的响应信号时，根据所述三维天线阵列中的天线阵元的分布情况，将所述响应信号储存为水平维响应信号矩阵集合和垂直维响应信号矩阵集合，并将所述水平维响应信号矩阵集合和所述垂直维响应信号矩阵集合储存为所述响应信号矩阵集合。优选地，根据所述三维天线阵列中的天线阵元的分布情况，将所述响应信号储存为水平维响应信号矩阵集合和垂直维响应信号矩阵集合的步骤包括：根据所述三维天线阵列中的天线阵元的分布情况，将分布在同一行的所述天线阵元接收到的所述响应信号储存到同一个水平维响应信号矩阵中，将分布在相邻两行且位于同一列的所述天线阵元接收到的所述响应信号储存到同一个垂直维响应信号矩阵中；将所有水平维响应信号矩阵储存为所述水平维响应信号矩阵集合，并将所有垂直维响应信号矩阵储存为所述垂直维响应信号矩阵集合。优选地，特征向量集合包括水平特征向量和垂直特征向量集合，所述根据所述响应信号矩阵集合，确定特征向量集合的步骤包括：计算出所述响应信号矩阵集合中每个水平维响应信号矩阵的水平维协方差矩阵，并计算出所述响应信号矩阵集合中每个垂直维响应信号矩阵的垂直维协方差矩阵；将所有所述水平维协方差矩阵进行累加，并进行奇异值分解，确定水平特征向量，将相邻两行所述天线阵元对应的所有所述垂直维协方差矩阵进行累加，并进行奇异值分解，确定垂直特征向量集合。优选地，预设导向矢量集合包括水平导向矢量和垂直导向矢量，所述根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合的步骤包括：将所述特征向量集合中的水平特征向量与所述预设导向矢量集合中的水平导向矢量进行相关计算，确定水平功率值集合；将所述特征向量集合中的垂直特征向量集合与所述预设导向矢量集合中的垂直导向矢量进行相关计算，确定垂直功率值集合；根据所述水平功率值集合和所述垂直功率值集合，确定所述响应信号的功率值集合。优选地，根据所述功率值集合，确定所述移动设备所在的方位角的步骤包括：确定所述响应信号的功率值集合中的水平功率值集合中最大的水平功率值，确定所述响应信号的功率值集合中的垂直功率值集合中最大的垂直功率值，并根据所述最大的水平功率值和所述最大的垂直功率值，计算出所述移动设备所在的方位角。优选地，对所述移动设备进行定位的步骤包括：根据所述移动设备所在的方位角，确定所述移动设备对应的位置坐标，以完成对所述移动设备的定位。此外，为实现上述目的，本发明还提供一种全空间定位装置，所述全空间定位装置包括：储存模块，用于在通过三维天线阵列接收到移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合；确定模块，用于根据所述响应信号矩阵集合，确定特征向量集合，并根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合；定位模块，用于根据所述功率值集合，确定所述移动设备所在的方位角，以对所述移动设备进行定位。优选地，所述储存模块还用于：在通过所述三维天线阵列接收到用户携带的移动设备的响应信号时，根据所述三维天线阵列中的天线阵元的分布情况，将所述响应信号储存为水平维响应信号矩阵集合和垂直维响应信号矩阵集合，并将所述水平维响应信号矩阵集合和所述垂直维响应信号矩阵集合储存为所述响应信号矩阵集合。优选地，所述储存模块还用于：根据所述三维天线阵列中的天线阵元的分布情况，将分布在同一行的所述天线阵元接收到的所述响应信号储存到同一个水平维响应信号矩阵中，将分布在相邻两行且位于同一列的所述天线阵元接收到的所述响应信号储存到同一个垂直维响应信号矩阵中；将所有水平维响应信号矩阵储存为所述水平维响应信号矩阵集合，并将所有垂直维响应信号矩阵储存为所述垂直维响应信号矩阵集合。优选地，所述确定模块还用于：计算出所述响应信号矩阵集合中每个水平维响应信号矩阵的水平维协方差矩阵，并计算出所述响应信号矩阵集合中每个垂直维响应信号矩阵的垂直维协方差矩阵；将所有所述水平维协方差矩阵进行累加，并进行奇异值分解，确定水平特征向量，将相邻两行所述天线阵元对应的所有所述垂直维协方差矩阵进行累加，并进行奇异值分解，确定垂直特征向量集合。优选地，所述确定模块还用于：将所述特征向量集合中的水平特征向量与所述预设导向矢量集合中的水平导向矢量进行相关计算，确定水平功率值集合；将所述特征向量集合中的垂直特征向量集合与所述预设导向矢量集合中的垂直导向矢量进行相关计算，确定垂直功率值集合；根据所述水平功率值集合和所述垂直功率值集合，确定所述响应信号的功率值集合。优选地，所述定位模块还用于：确定所述响应信号的功率值集合中的水平功率值集合中最大的水平功率值，确定所述响应信号的功率值集合中的垂直功率值集合中最大的垂直功率值，并根据所述最大的水平功率值和所述最大的垂直功率值，计算出所述移动设备的方位角。优选地，所述定位模块还用于：根据所述移动设备所在的方位角，确定所述移动设备对应的位置坐标，以完成对所述移动设备的定位。此外，为实现上述目的，本发明还提供一种全空间定位设备，所述全空间定位设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的全空间定位程序，所述全空间定位程序被所述处理器执行时实现如上所述的全空间定位方法的步骤。此外，为实现上述目的，本发明还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有全空间定位程序，所述全空间定位程序被处理器执行时实现如上所述的全空间定位方法的步骤。本发明提出的全空间定位方法，在通过三维天线阵列接收到移动设备的响应信号时，将响应信号储存为响应信号矩阵集合；根据响应信号矩阵集合，确定特征向量集合，并根据特征向量集合和预设导向矢量集合，确定响应信号的功率值集合；根据功率值集合，确定移动设备所在的方位角，以对移动设备进行定位。本发明通过将三维天线阵列接收到的响应信号储存为响应信号矩阵集合，并根据响应信号矩阵集合确定特征向量集合，再根据特征向量集合和预设导向矢量集合，确定功率值集合，根据功率值集合确定移动设备所在的方位角，以对移动设备进行定位，扩大了定位范围和提高了定位精度。附图说明图1是本发明实施例方案涉及的硬件运行环境的设备结构示意图；图2为本发明全空间定位方法第一实施例的流程示意图；图3为4行8列三维天线阵列的侧视图；图4为4行8列三维天线阵列的俯视图；图5为4行8列三维天线阵列的联合角度测量范围分布示意图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。如图1所示，图1是本发明实施例方案涉及的硬件运行环境的设备结构示意图。本发明实施例设备可以是PC机或服务器设备。如图1所示，该设备可以包括：处理器1001，例如CPU，网络接口1004，用户接口1003，存储器1005，通信总线1002。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口。存储器1005可以是高速RAM存储器，也可以是稳定的存储器，例如磁盘存储器。存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图1中示出的设备结构并不构成对设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如图1所示，作为一种计算机存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及全空间定位程序。其中，操作系统是管理和控制便携全空间定位设备与软件资源的程序，支持网络通信模块、用户接口模块、全空间定位程序以及其他程序或软件的运行；网络通信模块用于管理和控制网络接口1004；用户接口模块用于管理和控制用户接口1003。在图1所示的全空间定位设备中，所述全空间定位设备通过处理器1001调用存储器1005中存储的全空间定位程序，并执行下述全空间定位方法各个实施例中的操作。基于上述硬件结构，提出本发明全空间定位方法实施例。参照图2，图2为本发明全空间定位方法第一实施例的流程示意图，所述方法包括：步骤S10，在通过三维天线阵列接收到移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合；步骤S20，根据所述响应信号矩阵集合，确定特征向量集合，并根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合；步骤S30，根据所述功率值集合，确定所述移动设备所在的方位角，以对所述移动设备进行定位。本实施例全空间定位方法运用于全空间定位设备中，全空间定位设备可以是终端或者PC设备，为描述方便，以全空间定位设备为例进行描述，全空间定位设备中包括但不限于基站，该基站中包括三维天线阵列；全空间定位设备在通过基站中的三维天线阵列接收到用户携带的移动设备的响应信号时，将响应信号储存为响应信号矩阵集合，根据响应信号矩阵集合，确定特征向量集合，并根据特征向量集合和预设导向矢量集合，确定响应信号的功率值集合，根据功率值集合，确定移动设备所在的方位角，以对移动设备所在进行定位，进而对用户进行定位；需要说明的是，三维天线阵列是Massive MIMO三维天线阵列，即多个天线阵元组成的三维天线阵列，三维天线阵列具有多种三维架构，具体的三维架构由相关研发人员根据具体需求制定，本实施例以4行8列的三维天线阵列为例进行说明，参考图3和图4，4行8列的三维天线阵列中的第一行天线阵元和第四行天线阵元位于同一平面，第二行天线阵元和第三行天线阵元位于同一平面，并且第一行天线阵元和第四行天线阵元所在的平面位于第二行天线阵元和第三行天线阵元所在的平面之后，4行8列的三维天线阵列一共具有32个天线阵元，并分别编号为Ant0到Ant31；预设导向矢量集合是由相关研发人员根据三维天线阵列具体的三维架构进行设定的，其中包括水平导向矢量和垂直导向矢量；功率值集合中包括三维天线阵列接收到的不同相位的响应信号的功率值。本实施例的全空间定位方法，在通过三维天线阵列接收到移动设备的响应信号时，将响应信号储存为响应信号矩阵集合；根据响应信号矩阵集合，确定特征向量集合，并根据特征向量集合和预设导向矢量集合，确定响应信号的功率值集合；根据功率值集合，确定移动设备所在的方位角，以对移动设备进行定位。本发明通过将三维天线阵列接收到的响应信号储存为响应信号矩阵集合，并根据响应信号矩阵集合确定特征向量集合，再根据特征向量集合和预设导向矢量集合，确定功率值集合，根据功率值集合确定移动设备所在的方位角，以对移动设备进行定位，扩大了定位范围和提高了定位精度。以下将对各个步骤进行详细说明：步骤S10，在通过三维天线阵列接收到移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合；在本实施例中，全空间定位设备在通过基站中的三维天线阵列接收到用户携带的移动设备的响应信号时，将响应信号储存为响应信号矩阵集合，如：将4行8列的三维天线阵列中每一行天线阵元接收到的响应信号分别储存为H_row1、H_row2、H_row3、H_row4四个响应信号矩阵，将第一行天线阵元和第二行天线阵元中位于同一列的天线阵元接收到的响应信号分别储存为V_column1_12、V_ column2_12、V_column3_12、V_ column4_12、V_column5_12、V_ column6_12、V_ column7_12、V_ column8_12八个响应信号矩阵，将第二行天线阵元和第三行天线阵元中位于同一列的天线阵元接收到的响应信号分别储存为V_column1_23、V_ column2_23、V_column3_23、V_ column4_23、V_column5_23、V_ column6_23、V_ column7_23、V_ column8_23八个响应信号矩阵，将第三行天线阵元和第四行天线阵元中位于同一列的天线阵元接收到的响应信号分别储存为V_column1_34、V_ column2_34、V_column3_34、V_ column4_34、V_column5_34、V_ column6_34、V_ column7_34、V_column8_34八个响应信号矩阵，将上述所有响应信号矩阵储存为响应信号矩阵集合；其中Row1、Row2、Row3和Row4分别代表第一行天线阵元、第二行天线阵元、第三行天线阵元和第四行天线阵元。具体的，步骤S10还包括：步骤a，在通过所述三维天线阵列接收到用户携带的移动设备的响应信号时，根据所述三维天线阵列中的天线阵元的分布情况，将所述响应信号储存为水平维响应信号矩阵集合和垂直维响应信号矩阵集合，并将所述水平维响应信号矩阵集合和所述垂直维响应信号矩阵集合储存为所述响应信号矩阵集合。在该步骤中，全空间定位设备在通过三维天线阵列接收到用户携带的移动设备的响应信号时，根据三维天线阵列中的天线阵元的分布情况，将响应信号储存为水平维响应信号矩阵集合和垂直维响应信号矩阵集合，并将水平维响应信号矩阵集合和垂直维响应信号矩阵集合储存为所述响应信号矩阵集合，如：若相关研发人员设计的三维天线阵列为4行8列，则将4行8列的三维天线阵列中每一行天线阵元接收到的响应信号分别储存为四个水平维响应信号矩阵，将四个水平维响应信号矩阵储存为水平维响应信号矩阵集合，将第一行天线阵元和第二行天线阵元中位于同一列的天线阵元接收到的响应信号分别储存为八个垂直维响应信号矩阵，将第二行天线阵元和第三行天线阵元中位于同一列的天线阵元接收到的响应信号分别储存为八个垂直维响应信号矩阵，将第三行天线阵元和第四行天线阵元中位于同一列的天线阵元接收到的响应信号分别储存为八个垂直维响应信号矩阵，将上述24个垂直维响应信号矩阵储存为垂直维响应矩阵集合，将水平维响应信号矩阵集合和垂直维响应信号矩阵集合储存为响应信号矩阵集合；若相关研发人员设计的三维天线阵列为3行7列，则将3行7列的三维天线阵列中每一行天线阵元接收到的响应信号分别储存为水平维响应信号矩阵，将三个水平维响应信号矩阵储存为水平维响应信号矩阵集合，将第一行天线阵元和第二行天线阵元中位于同一列的天线阵元接收到的响应信号分别储存为七个垂直维响应信号矩阵，将第二行天线阵元和第三行天线阵元中位于同一列的天线阵元接收到的响应信号分别储存为七个垂直响应信号矩阵，将上述14个垂直维响应信号矩阵储存为垂直维响应矩阵集合，将水平维响应信号矩阵集合和垂直维响应信号矩阵集合储存为响应信号矩阵集合；其他不同三维架构的三维天线阵列也是按照上述方法得到响应信号矩阵集合。步骤b，将根据所述三维天线阵列中的天线阵元的分布情况，将分布在同一行的所述天线阵元接收到的所述响应信号储存到同一个水平维响应信号矩阵中，将分布在相邻两行且位于同一列的所述天线阵元接收到的所述响应信号储存到同一个垂直维响应信号矩阵中；在该步骤中，全空间定位设备根据所述三维天线阵列中的天线阵元的分布情况，将分布在同一行的天线阵元接收到的响应信号储存到同一个水平维响应信号矩阵中，将分布在相邻两行且位于同一列的天线阵元接收到的所述响应信号储存到同一个垂直维响应信号矩阵中，如：针对4行8列的三维天线阵列，全空间定位设备将每一行天线阵元接收到的响应信号储存为一个水平维响应信号矩阵，四行天线阵元一共得到四个水平维响应信号矩阵，将第一行天线阵元和第二行天线阵元中位于同一列的天线阵元接收到的响应信号储存为同一个垂直维响应信号矩阵，将第二行天线阵元和第三行天线阵元中位于同一列的天线阵元接收到的响应信号储存为同一个垂直维响应信号矩阵，将第三行天线阵元和第四行天线阵元中位于同一列的天线阵元接收到的响应信号储存为同一个垂直维响应信号矩阵，一共得到24个垂直维响应信号矩阵；步骤c，将所有水平维响应信号矩阵储存为所述水平维响应信号矩阵集合，并将所有垂直维响应信号矩阵储存为所述垂直维响应信号矩阵集合。在该步骤中，全空间定位设备将所有水平维响应信号矩阵储存为水平维响应信号矩阵集合，并将所有垂直维响应信号矩阵储存为垂直维响应信号矩阵集合。如：针对4行8列的三维天线阵列，全空间定位设备将得到的四个水平维响应信号矩阵储存为水平维响应信号矩阵集合，将24个垂直维响应信号矩阵储存为垂直维响应信号矩阵集合。步骤S20，根据所述响应信号矩阵集合，确定特征向量集合，并根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合；在本实施例中，全空间定位设备对得到的响应信号矩阵集合中的水平维响应信号矩阵和垂直维响应信号矩阵进行协方差计算，得到水平维协方差矩阵和垂直维协方差矩阵，对得到的所有水平维协方差矩阵和所有垂直维协方差矩阵进行奇异值分解，得到水平特征向量和垂直特征向量集合，将水平特征向量和垂直特征向量集合储存为特征向量集合，根据特征向量集合中水平特征向量和垂直特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合。具体的，步骤S20还包括：步骤d，计算出所述响应信号矩阵集合中每个水平维响应信号矩阵的水平维协方差矩阵，并计算出所述响应信号矩阵集合中每个垂直维响应信号矩阵的垂直维协方差矩阵；在该步骤中，全方位定位设备计算出响应信号矩阵集合中每个水平维响应信号矩阵的水平维协方差矩阵，并计算出响应信号矩阵集合中每个垂直维响应信号矩阵的垂直维协方差矩阵，如：若相关研发人员设计的三维天线阵列为4行8列，全方位定位设备对响应信号矩阵集合中的四个水平维响应信号矩阵进行协方差计算，得到R_row1、R_row2、R_row3、R_row4四个水平维协方差矩阵，对响应信号矩阵集合中的24个垂直维响应信号矩阵进行协方差计算得到R_column1_12、R_ column2_12、R_column3_12、R_ column4_12、R_column5_12、R_ column6_12、R_ column7_12、R_ column8_12、R_column1_23、R_ column2_23、R_column3_23、R_ column4_23、R_column5_23、R_ column6_23、R_ column7_23、R_ column8_23、R_column1_34、R_ column2_34、R_column3_34、R_ column4_34、R_column5_34、R_column6_34、R_ column7_34、R_ column8_34，24个垂直维协方差矩阵。步骤e，将所有所述水平维协方差矩阵进行累加，并进行奇异值分解，确定水平特征向量，将相邻两行所述天线阵元对应的所有所述垂直维协方差矩阵进行累加，并进行奇异值分解，确定垂直特征向量集合。在该步骤中，全空间定位设备将所有水平维协方差矩阵进行累加，并进行奇异值分解，确定水平特征向量，将相邻两行天线阵元对应的所有垂直维协方差矩阵进行累加，并进行奇异值分解，确定垂直特征向量集合，如：若相关研发人员设计的三维天线阵列为4行8列，全方位定位设备得到的R_row1、R_row2、R_row3、R_row4四个水平维协方差矩阵进行累加，得到总的水平维协方差矩阵R_row，并对R_row进行奇异值分解，确定水平特征向量V0，将第一行天线阵元和第二行天线阵元对应的R_column1_12、R_ column2_12、R_column3_12、R_ column4_12、R_column5_12、R_ column6_12、R_ column7_12、R_ column8_12八个垂直维协方差矩阵进行累加，得到第一行天线阵元和第二行天线阵元总的垂直维协方差矩阵R_column_12，将第二行天线阵元和第三行天线阵元对应的R_column1_23、R_ column2_23、R_column3_23、R_ column4_23、R_column5_23、R_ column6_23、R_ column7_23、R_column8_23八个垂直维协方差矩阵进行累加，得到第一行天线阵元和第二行天线阵元总的垂直维协方差矩阵R_column_23，将第一行天线阵元和第二行天线阵元对应的R_column1_34、R_ column2_34、R_column3_34、R_ column4_34、R_column5_34、R_ column6_34、R_column7_34、R_ column8_34八个垂直维协方差矩阵进行累加，得到第一行天线阵元和第二行天线阵元总的垂直维协方差矩阵R_column_34，分别对R_column_12、R_column_23和R_column_34进行奇异值分解，分别得到垂直特征向量V1、V2和V3，进而确定垂直特征向量集合；其中Row1、Row2、Row3和Row4分别代表第一行天线阵元、第二行天线阵元、第三行天线阵元和第四行天线阵元。步骤f，将所述特征向量集合中的水平特征向量与所述预设导向矢量集合中的水平导向矢量进行相关计算，确定水平功率值集合；在该步骤中，全方位定位设备将特征向量集合中的水平特征向量与预设导向矢量集合中的水平导向矢量进行相关计算，确定水平功率值集合；如：水平导向矢量为Vh=，水平导向矢量Vh的相位通过时间的改变，可以用于表征三维天线阵列从水平维的0度到180度的不同接收响应信号的角度方向，然后将水平导向矢量Vh与水平特征向量V0相关，分别得到各个角度方向的响应信号的水平功率值，得到水平功率值集合。步骤g，将所述特征向量集合中的垂直特征向量集合与所述预设导向矢量集合中的垂直导向矢量进行相关计算，确定垂直功率值集合；在该步骤中，全方位定位设备将特征向量集合中的垂直特征向量集合与预设导向矢量集合中的垂直导向矢量进行相关计算，确定垂直功率值集合；如：垂直导向矢量为Vv=，垂直导向矢量Vh的相位通过时间的改变，可以用于表征三维天线阵列从垂直维的0度到180度的不同接收响应信号的角度方向，然后将垂直导向矢量Vv与垂直特征向量V1，V2，V3相关，分别得到各个角度方向的响应信号的垂直功率值，得到垂直功率值集合。步骤h，根据所述水平功率值集合和所述垂直功率值集合，确定所述响应信号的功率值集合。在该步骤中，全方位定位设备根据水平功率值和垂直功率值集合，确定响应信号的功率值集合。步骤S30，根据所述功率值集合，确定所述移动设备所在的方位角，以对所述移动设备进行定位。在本实施例中，全空间定位设备分别根据功率值集合中的水平功率值集合中的最大水平功率值和垂直功率值集合中的最大垂直功率值，确定移动设备所在的方位角，以对移动设备进行定位；具体地，步骤S30还包括：步骤i，确定所述响应信号的功率值集合中的水平功率值集合中最大的水平功率值，确定所述响应信号的功率值集合中的垂直功率值集合中最大的垂直功率值，并根据所述最大的水平功率值和所述最大的垂直功率值，计算出所述移动设备所在的方位角。在该步骤中，全空间定位设备将响应信号的功率值集合中的水平功率值集合中的所有水平功率值进行对比，确定最大水平功率值，将响应信号的功率值集合中的垂直功率值集合中的所有垂直功率值进行对比，确定最大垂直功率值，并根据最大水平功率值和最大垂直功率值，确定三维天线阵列接收到的响应信号时响应信号的入射角度，从而确定移动设备所在的方位角；需要说明的是，确定移动设备所在的方位角至少需要两个全空间定位设备来完成，每个全空间定位设备安装在不同的位置，位于不同位置的全空间定位设备确定响应信号的入射角度不同，通过结合至少两个不同的入射角度，便可确定用户的方位角。步骤j，根据所述移动设备所在的方位角，确定所述移动设备对应的位置坐标，以完成对所述移动设备的定位。在该步骤中，全空间定位设备根据移动设备所在的方位角，确定移动设备对应的位置坐标，以完成对移动设备的定位；如：全空间定位设备根据确定的用户的方位角，并结合全空间定位设备的具体位置和电子地图，确定移动设备所在的具体位置坐标，以完成对移动设备的定位，进而确定携带该移动设备的用户的具体位置。本实施例的全空间定位设备全空间定位设备在通过基站中的三维天线阵列接收到用户携带的移动设备的响应信号时，将响应信号储存为响应信号矩阵集合，根据响应信号矩阵集合，确定特征向量集合，并根据特征向量集合和预设导向矢量集合，确定响应信号的功率值集合，根据功率值集合，确定移动设备所在的方位角，以对移动设备进行定位，进而完成对携带该移动设备的用户的定位，进而扩大了定位范围和提高了定位精度。参考图3和图4，图3为4行8列三维天线阵列的侧视图，图4为4行8列三维天线阵列的俯视图；如图3所示，4行8列三维天线阵列中的第一行天线阵元和第四行天线阵元位于同一平面，4行8列三维天线阵列中的第二行天线阵元和第三行天线阵元位于同一平面，并且第一行天线阵元和第四行天线阵元所在的平面位于第二行天线阵元和第三行天线阵元所在的平面之后；如图4所示，每一行天线阵元中的第一个到第八个阵元都分别位于同一平面，结合图3和图4可以想象，4行8列三维天线阵列的正视图中，每一行天线阵元中的第一个天线阵元位于同一列，每一行天线阵元中的第二个天线阵元也位于同一列，以此类推。需要说明的是，4行8列三维天线阵列仅仅是多种三维天线阵列中的一种，三维天线阵列可以由多种架构，例如3行7列、5行9列、10行10列等，以4行8列三维天线阵列为例，还可以根据实际情况，设计第一行天线阵元和第二行天线阵元位于同一平面，第三行天线阵元和第四行天线阵元位于同一平面，也即三维天线阵列中的任意行的天线阵元都可以位于同一平面，只要不是所有行天线阵元都位于同一平面即可。参考图5，图5为4行8列三维天线阵列的联合角度测量范围分布示意图，从上往下的第一条虚线和第三条虚线代表第一行天线阵元和第二行天线阵元的联合角度测量范围，从上往下的二条虚线和第五条虚线代表第二行天线阵元和第三行天线阵元的联合角度测量范围，从上往下的第四条虚线和第六条虚线代表第三行天线阵元和第四行天线阵元的联合角度测量范围。需要说明的是，不同架构的三维天线阵列对应的联合角度测量范围不同。本发明还提供一种全空间定位装置。本发明全空间定位装置包括：储存模块，用于在通过三维天线阵列接收到移动设备的响应信号时，将所述响应信号储存为响应信号矩阵集合；确定模块，用于根据所述响应信号矩阵集合，确定特征向量集合，并根据所述特征向量集合和预设导向矢量集合，确定所述响应信号的功率值集合；定位模块，用于根据所述功率值集合，确定所述移动设备所在的方位角，以对所述移动设备进行定位。优选地，所述储存模块还用于：在通过所述三维天线阵列接收到用户携带的移动设备的响应信号时，根据所述三维天线阵列中的天线阵元的分布情况，将所述响应信号储存为水平维响应信号矩阵集合和垂直维响应信号矩阵集合，并将所述水平维响应信号矩阵集合和所述垂直维响应信号矩阵集合储存为所述响应信号矩阵集合。优选地，所述储存模块还用于：根据所述三维天线阵列中的天线阵元的分布情况，将分布在同一行的所述天线阵元接收到的所述响应信号储存到同一个水平维响应信号矩阵中，将分布在相邻两行且位于同一列的所述天线阵元接收到的所述响应信号储存到同一个垂直维响应信号矩阵中；将所有水平维响应信号矩阵储存为所述水平维响应信号矩阵集合，并将所有垂直维响应信号矩阵储存为所述垂直维响应信号矩阵集合。优选地，所述确定模块还用于：计算出所述响应信号矩阵集合中每个水平维响应信号矩阵的水平维协方差矩阵，并计算出所述响应信号矩阵集合中每个垂直维响应信号矩阵的垂直维协方差矩阵；将所有所述水平维协方差矩阵进行累加，并进行奇异值分解，确定水平特征向量，将相邻两行所述天线阵元对应的所有所述垂直维协方差矩阵进行累加，并进行奇异值分解，确定垂直特征向量集合。优选地，所述确定模块还用于：将所述特征向量集合中的水平特征向量与所述预设导向矢量集合中的水平导向矢量进行相关计算，确定水平功率值集合；将所述特征向量集合中的垂直特征向量集合与所述预设导向矢量集合中的垂直导向矢量进行相关计算，确定垂直功率值集合；根据所述水平功率值集合和所述垂直功率值集合，确定所述响应信号的功率值集合。优选地，所述定位模块还用于：确定所述响应信号的功率值集合中的水平功率值集合中最大的水平功率值，确定所述响应信号的功率值集合中的垂直功率值集合中最大的垂直功率值，并根据所述最大的水平功率值和所述最大的垂直功率值，计算出所述移动设备所在的方位角。优选地，所述定位模块还用于：根据所述移动设备所在的方位角，确定所述移动设备对应的位置坐标，以完成对所述移动设备的定位。本发明还提供一种计算机可读存储介质。本发明计算机可读存储介质上存储有全空间定位程序，所述全空间定位程序被处理器执行时实现如上所述的全空间定位方法的步骤。其中，在所述处理器上运行的全空间定位程序被执行时所实现的方法可参照本发明全空间定位方法各个实施例，此处不再赘述。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在如上所述的一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书与附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
