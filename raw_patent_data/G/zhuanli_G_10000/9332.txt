标题title
电网二次调频的控制方法、系统、存储介质及计算设备
摘要abst
本发明公开了一种电网二次调频的控制方法、系统、存储介质及计算设备，本发明将调频需求功率在机组、锂电池、铅炭电池之间进行合理分配，减轻了机组调频的压力，使其运行在平滑的状态，有效降低了机械磨损及单位煤耗，延长混合储能电池的寿命，同时可以有效改善场站调频性能，降低系统运行成本，获得更高的调频收益。
权利要求书clms
1.电网二次调频的控制方法，其特征在于，包括：响应于接收到区域控制需求指令，采用第一低通滤波器对区域控制需求指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率；采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率；将机组分配到的调频功率、锂电池分配到的调频功率和铅炭电池分配到的调频功率输入预设的优化模型，获得机组分配到的最优调频功率、锂电池分配到的最优调频功率和铅炭电池分配到的最优调频功率；其中，优化模型为计及锂电池和铅炭电池寿命的优化模型，优化模型以混合储能系统调频收益最大为目标。2.根据权利要求1所述的电网二次调频的控制方法，其特征在于，响应于接收到区域控制需求指令，采用第一低通滤波器对区域控制需求指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率，具体公式为：其中，Pbat为混合储能系统当前时刻分配到的调频功率，Pbat为混合储能系统上一时刻分配到的调频功率，Tf1为第一低通滤波器的滤波常数，PARR为当前时刻的调频需求信号，PARR为上一时刻的调频需求功率，ΔT为工作步长，Pg为机组当前时刻分配到的调频功率，Pg为机组上一时刻分配到的调频功率。3.根据权利要求1所述的电网二次调频的控制方法，其特征在于，采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率，具体公式为：其中，Pplan_li为锂电池当前时刻分配到的调频功率，Pplan_li为锂电池上一时刻分配到的调频功率，Pplan_lead为铅炭电池当前时刻分配到的调频功率，Pplan_lead为铅炭电池上一时刻分配到的调频功率，Tf2为第一低通滤波器的滤波常数，Pbat为混合储能系统当前时刻分配到的调频功率，Pbat为混合储能系统上一时刻分配到的调频功率，ΔT为工作步长。4.根据权利要求1所述的电网二次调频的控制方法，其特征在于，在将锂电池分配到的调频功率和铅炭电池分配到的调频功率输入优化模型之前，根据预设规则，对锂电池分配到的调频功率和铅炭电池分配到的调频功率进行调整。5.根据权利要求4所述的电网二次调频的控制方法，其特征在于，预设规则为：若Pbat≥Pli_d_max+Plead_d_max，则Pli＝Pli_d_max、Plead＝Plead_d_max；其中，Pbat为混合储能系统分配到的调频功率，Pli_d_max为锂电池的最大出力，Plead_d_max为铅炭电池的最大出力，Pli为调整后的锂电池分配到的调频功率，Plead为调整后的铅炭电池分配到的调频功率；若Pbat＜Pli_d_max+Plead_d_max、且Pli_d_max≤Pplan_li，则Pli＝Pli_d_max、Plead＝Pplan_li-Pli_d_max+Pplan_lead；其中，Pplan_li为锂电池分配到的调频功率，Pplan_lead为铅炭电池分配到的调频功率。6.根据权利要求1所述的电网二次调频的控制方法，其特征在于，优化模型的优化过程中，若分配到的调频功率不满足优化模型的约束条件或计算出的目标函数当前值不满足预设条件，则调整第一低通滤波器和第二低通滤波器的滤波常数，重新分解区域控制需求指令。7.根据权利要求1或6所述的电网二次调频的控制方法，其特征在于，优化模型的目标函数为：max＝max其中，Ctotal为混合储能系统调频收益，Cele为混合储能系统在调频过程中的日电量收益，Cr为调频服务得到的补偿收益，Cpun为混合储能系统无法达到调频需求的惩罚成本，Cli为锂电池全寿命周期成本，Clead为铅炭电池全寿命周期成本，Cgn为机组调频成本；约束条件为：机组爬坡率约束|Pg-Pg|≤ΔgPg_max其中，Pg为机组当前时刻出力，Pg为机组上一时刻出力，Δg为机组爬坡能力的系数，Pg_max为机组的最大工作功率；储能功率及SOC约束其中，Pr_max为混合储能系统的最大充电功率，Pd_max为混合储能系统的最大放电功率，Pt为混合储能系统当前时刻工作的功率，Socmin为电池最小荷电状态，Socmax为电池最大荷电状态，Soct为电池当前时刻的荷电状态；跟踪性能指标约束其中，Cpun为惩罚成本，ηref为跟踪偏差阈值，Fr为储能跟踪性能指标未满足要求时的惩罚成本，ηj为储能跟踪性能指标；其中，Pli为锂电池在第j个工作步长ΔT的工作功率，Plead为铅炭电池在第j个工作步长ΔT的工作功率，Pbat为混合储能系统在第j个工作步长ΔT的工作功率。8.电网二次调频的控制系统，其特征在于，包括：第一分解模块：响应于接收到区域控制需求指令，采用第一低通滤波器对区域控制需求指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率；第二分解模块：采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率；优化模块：将机组分配到的调频功率、锂电池分配到的调频功率和铅炭电池分配到的调频功率输入预设的优化模型，获得机组分配到的最优调频功率、锂电池分配到的最优调频功率和铅炭电池分配到的最优调频功率；其中，优化模型为计及锂电池和铅炭电池寿命的优化模型，优化模型以混合储能系统调频收益最大为目标。9.一种存储一个或多个程序的计算机可读存储介质，其特征在于：所述一个或多个程序包括指令，所述指令当由计算设备执行时，使得所述计算设备执行根据权利要求1至7所述的方法中的任一方法。10.一种计算设备，其特征在于，包括：一个或多个处理器、一个或多个存储器以及一个或多个程序，其中一个或多个程序存储在所述一个或多个存储器中并被配置为由所述一个或多个处理器执行，所述一个或多个程序包括用于执行根据权利要求1至7所述的方法中的任一方法的指令。
说明书desc
技术领域本发明涉及一种电网二次调频的控制方法、系统、存储介质及计算设备，属于电网二次调频领域。背景技术随着储能电池参与二次调频的应用越来越广泛，如何实现调频信号在机组、电池间的合理分配成为了研究热点。部分文献虽在储能参与二次调频过程中考虑了储能损耗成本，但储能为了执行中高频的调频需求，频繁的充放电切换、高比例的调节深度等因素不可避免的加快电池寿命衰减。发明内容本发明提供了一种电网二次调频的控制方法、系统、存储介质及计算设备，解决了背景技术中披露的问题。为了解决上述技术问题，本发明所采用的技术方案是：电网二次调频的控制方法，包括：响应于接收到区域控制需求指令，采用第一低通滤波器对区域控制需求指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率；采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率；将机组分配到的调频功率、锂电池分配到的调频功率和铅炭电池分配到的调频功率输入预设的优化模型，获得机组分配到的最优调频功率、锂电池分配到的最优调频功率和铅炭电池分配到的最优调频功率；其中，优化模型为计及锂电池和铅炭电池寿命的优化模型，优化模型以混合储能系统调频收益最大为目标。响应于接收到区域控制需求指令，采用第一低通滤波器对区域控制需求指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率，具体公式为：其中，Pbat为混合储能系统当前时刻分配到的调频功率，Pbat为混合储能系统上一时刻分配到的调频功率，Tf1为第一低通滤波器的滤波常数，PARR为当前时刻的调频需求信号，PARR为上一时刻的调频需求功率，ΔT为工作步长，Pg为机组当前时刻分配到的调频功率，Pg为机组上一时刻分配到的调频功率。采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率，具体公式为：其中，Pplan_li为锂电池当前时刻分配到的调频功率，Pplan_li为锂电池上一时刻分配到的调频功率，Pplan_lead为铅炭电池当前时刻分配到的调频功率，Pplan_lead为铅炭电池上一时刻分配到的调频功率，Tf2为第一低通滤波器的滤波常数，Pbat为混合储能系统当前时刻分配到的调频功率，Pbat为混合储能系统上一时刻分配到的调频功率,ΔT为工作步长。在将锂电池分配到的调频功率和铅炭电池分配到的调频功率输入优化模型之前，根据预设规则，对锂电池分配到的调频功率和铅炭电池分配到的调频功率进行调整。预设规则为：若Pbat≥Pli_d_max+Plead_d_max，则Pli＝Pli_d_max、Plead＝Plead_d_max；其中，Pbat为混合储能系统分配到的调频功率，Pli_d_max为锂电池的最大出力，Plead_d_max为铅炭电池的最大出力，Pli为调整后的锂电池分配到的调频功率，Plead为调整后的铅炭电池分配到的调频功率；若Pbat＜Pli_d_max+Plead_d_max、且Pli_d_max≤Pplan_li，则Pli＝Pli_d_max、Plead＝Pplan_li-Pli_d_max+Pplan_lead；其中，Pplan_li为锂电池分配到的调频功率，Pplan_lead为铅炭电池分配到的调频功率；优化模型的优化过程中，若分配到的调频功率不满足优化模型的约束条件或计算出的目标函数当前值不满足预设条件，则利用粒子群算法调整第一低通滤波器和第二低通滤波器的滤波常数，重新分解区域控制需求指令。优化模型的目标函数为：max＝max其中，Ctotal为混合储能系统调频收益，Cele为混合储能系统在调频过程中的日电量收益，Cr为调频服务得到的补偿收益，Cpun为混合储能系统无法达到调频需求的惩罚成本，Cli为锂电池全寿命周期成本，Clead为铅炭电池全寿命周期成本，Cgn为机组调频成本；约束条件为：机组爬坡率约束|Pg-Pg|≤ΔgPg_max其中，Pg为机组当前时刻出力，Pg为机组上一时刻出力，Δg为机组爬坡能力的系数，Pg_max为机组的最大工作功率；储能功率及SOC约束其中，Pr_max为混合储能系统的最大充电功率，Pd_max为混合储能系统的最大放电功率，Pt为混合储能系统当前时刻工作的功率，Socmin为电池最小荷电状态，Socmax为电池最大荷电状态，Soct为电池当前时刻的荷电状态；跟踪性能指标约束其中，Cpun为惩罚成本，ηref为跟踪偏差阈值，Fr为储能跟踪性能指标未满足要求时的惩罚成本，ηj为储能跟踪性能指标；其中，Pli为锂电池在第j个工作步长ΔT的工作功率，Plead为铅炭电池在第j个工作步长ΔT的工作功率，Pbat为混合储能系统在第j个工作步长ΔT的工作功率。电网二次调频的控制系统，包括：第一分解模块：响应于接收到区域控制需求指令，采用第一低通滤波器对区域控制需求指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率；第二分解模块：采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率；优化模块：将机组分配到的调频功率、锂电池分配到的调频功率和铅炭电池分配到的调频功率输入预设的优化模型，获得机组分配到的最优调频功率、锂电池分配到的最优调频功率和铅炭电池分配到的最优调频功率；其中，优化模型为计及锂电池和铅炭电池寿命的优化模型，优化模型以混合储能系统调频收益最大为目标。一种存储一个或多个程序的计算机可读存储介质，所述一个或多个程序包括指令，所述指令当由计算设备执行时，使得所述计算设备执行电网二次调频的控制方法。一种计算设备，包括一个或多个处理器、一个或多个存储器以及一个或多个程序，其中一个或多个程序存储在所述一个或多个存储器中并被配置为由所述一个或多个处理器执行，所述一个或多个程序包括用于执行电网二次调频的控制方法的指令。本发明所达到的有益效果：本发明将调频需求功率在机组、锂电池、铅炭电池之间进行合理分配，减轻了机组调频的压力，使其运行在平滑的状态，有效降低了机械磨损及单位煤耗，延长混合储能电池的寿命，同时可以有效改善场站调频性能，降低系统运行成本，获得更高的调频收益。附图说明图1为本发明方法的流程图；图2为本发明方法的具体流程图。具体实施方式下面结合附图对本发明作进一步描述。以下实施例仅用于更加清楚地说明本发明的技术方案，而不能以此来限制本发明的保护范围。如图1所示，电网二次调频的控制方法，包括以下步骤：步骤1，响应于接收到区域控制需求指令，采用第一低通滤波器对区域控制需求指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率；步骤2，采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率；步骤3，将机组分配到的调频功率、锂电池分配到的调频功率和铅炭电池分配到的调频功率输入预设的优化模型，获得机组分配到的最优调频功率、锂电池分配到的最优调频功率和铅炭电池分配到的最优调频功率；其中，优化模型为计及锂电池和铅炭电池寿命的优化模型，优化模型以混合储能系统调频收益最大为目标。上述方法将调频需求功率在机组、锂电池、铅炭电池之间进行合理分配，减轻了机组调频的压力，使其运行在平滑的状态，有效降低了机械磨损及单位煤耗，延长混合储能电池的寿命，同时可以有效改善场站调频性能，降低系统运行成本，获得更高的调频收益。接收的区域控制需求指令简称ARR指令，其包含低频的调频功率和中高频的调频功率，低频的调频功率主要分配给机组，中高频的调频功率主要分配给混合储能系统。因此可采用第一低通滤波器对ARR指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率，具体如下：其中，Pbat为混合储能系统当前时刻分配到的调频功率，Pbat为混合储能系统上一时刻分配到的调频功率，Tf1为第一低通滤波器的滤波常数，PARR为当前时刻的调频需求信号，该信号是由调度中心发给调频场站，PARR为上一时刻的调频需求功率，ΔT为调频系统的工作步长，一般为1min，Pg为机组当前时刻分配到的调频功率，Pg为机组上一时刻分配到的调频功率。混合储能系统中主要包括锂电池和铅炭电池，基于各个电池的特性，采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率，具体如下：其中，Pplan_li为锂电池当前时刻分配到的调频功率，Pplan_li为锂电池上一时刻分配到的调频功率，Pplan_lead为铅炭电池当前时刻分配到的调频功率，Pplan_lead为铅炭电池上一时刻分配到的调频功率，Tf2为第一低通滤波器的滤波常数。为提高混合储能系统的跟踪性能，需要根据预设规则，对锂电池分配到的调频功率和铅炭电池分配到的调频功率进行调整。预设规则为：若Pbat≥Pli_d_max+Plead_d_max，即混合储能系统的最大出力能力不足以满足或刚好满足调度功率，则Pli＝Pli_d_max、Plead＝Plead_d_max；在此动态功率分配方法下，最大程度上减小混合储能系统的跟踪偏差；其中，Pbat为混合储能系统分配到的调频功率，Pli_d_max为锂电池的最大出力，Plead_d_max为铅炭电池的最大出力，Pli为调整后的锂电池分配到的调频功率，Plead为调整后的铅炭电池分配到的调频功率；若Pbat＜Pli_d_max+Plead_d_max、且Pli_d_max≤Pplan_li，则Pli＝Pli_d_max、Plead＝Pplan_li-Pli_d_max+Pplan_lead；即此时混合储能系统的总裕量充足，但锂电池最大出力不足以满足分配功率，需铅炭电池对其进行动态补偿，在此功率动态补偿下，混合储能系统无跟踪偏差；其中，Pplan_li为锂电池分配到的调频功率，Pplan_lead为铅炭电池分配到的调频功率；上述采用的优化模型目标函数为：max＝max其中，Ctotal为混合储能系统调频收益，Cele为混合储能系统在调频过程中的日电量收益，Cr为调频服务得到的补偿收益，Cpun为混合储能系统无法达到调频需求的惩罚成本，Cli为锂电池全寿命周期成本，Clead为铅炭电池全寿命周期成本，Cgn为机组调频成本；约束条件为：机组爬坡率约束|Pg-Pg|≤ΔgPg_max其中，Pg为机组当前时刻出力，Pg为机组上一时刻出力，Δg为机组爬坡能力的系数，Pg_max为机组的最大工作功率；储能功率及SOC约束其中，Pr_max为混合储能系统的最大充电功率，Pd_max为混合储能系统的最大放电功率，Pt为混合储能系统当前时刻工作的功率，Socmin为电池最小荷电状态，Socmax为电池最大荷电状态，Soct为电池当前时刻的荷电状态；跟踪性能指标约束其中，Cpun调频系统的惩罚成本，ηref为跟踪偏差阈值，Fr为储能跟踪性能指标未满足要求时的惩罚成本，ηj为储能跟踪性能指标；其中，Pli为锂电池在第j个工作步长ΔT的工作功率，Plead为铅炭电池在第j个工作步长ΔT的工作功率，Pbat为混合储能系统在第j个工作步长ΔT的工作功率。在优化过程中，若分配到的调频功率不满足优化模型的约束条件或计算出的目标函数当前值不满足预设条件，则调整第一低通滤波器和第二低通滤波器的滤波常数，重新分解区域控制需求指令。因此上述方法具体如图2所示：1)初始化：滤波常数初始化；2)接收ARR指令；3)采用第一低通滤波器对区域控制需求指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率；4)采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率；4)对锂电池分配到的调频功率和铅炭电池分配到的调频功率进行调整；5)计算混合储能系统调频收益；6)判断是否满足约束条件，若不满足，调整滤波常数，转至3)，否则转至7)；7)获取最大混合储能系统调频收益；8)判断是否满足预设条件，即终止条件或达到最大迭代次数，若是，则转至9)，否则调整滤波常数，转至3)，9)输出最大混合储能系统调频收益、以及相应的最优ARR指令分配。上述方法相应的软件系统，即电网二次调频的控制系统，包括：第一分解模块：响应于接收到区域控制需求指令，采用第一低通滤波器对区域控制需求指令进行分解，获得机组分配到的调频功率和混合储能系统分配到的调频功率；第二分解模块：采用第二低通滤波器对混合储能系统分配到的调频功率进行分解，获得混合储能系统中锂电池分配到的调频功率和铅炭电池分配到的调频功率；优化模块：将机组分配到的调频功率、锂电池分配到的调频功率和铅炭电池分配到的调频功率输入预设的优化模型，获得机组分配到的最优调频功率、锂电池分配到的最优调频功率和铅炭电池分配到的最优调频功率；其中，优化模型为计及锂电池和铅炭电池寿命的优化模型，优化模型以混合储能系统调频收益最大为目标。一种存储一个或多个程序的计算机可读存储介质，所述一个或多个程序包括指令，所述指令当由计算设备执行时，使得所述计算设备执行电网二次调频的控制方法。一种计算设备，包括一个或多个处理器、一个或多个存储器以及一个或多个程序，其中一个或多个程序存储在所述一个或多个存储器中并被配置为由所述一个或多个处理器执行，所述一个或多个程序包括用于执行电网二次调频的控制方法的指令。本领域内的技术人员应明白，本发明的实施例可提供为方法、系统、或计算机程序产品。因此，本发明可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本发明可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本发明是参照根据本发明实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。以上仅为本发明的实施例而已，并不用于限制本发明，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均包含在申请待批的本发明的权利要求范围之内。
