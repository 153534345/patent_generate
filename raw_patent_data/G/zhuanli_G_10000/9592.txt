标题title
一种两轴音圈快速反射镜的神经网络滑模控制方法
摘要abst
本发明公开了一种两轴音圈快速反射镜的神经网络滑模控制方法，具体按照以下步骤实施：步骤1、进行音圈电机快反镜系统建模与简化；步骤2、利用步骤1建立的音圈电机快反镜系统模型，计算音圈电机快速反射镜的滑模控制函数；步骤3、采用神经网络对步骤2得到的滑模控制函数进行优化，完成神经网络滑模控制；解决了现有技术中存在的对模型参数扰动鲁棒性差的问题。
权利要求书clms
1.一种两轴音圈快速反射镜的神经网络滑模控制方法，其特征在于，具体按照以下步骤实施：步骤1、进行音圈电机快反镜系统建模与简化；步骤2、利用步骤1建立的音圈电机快反镜系统模型，计算音圈电机快速反射镜的滑模控制函数；步骤3、采用神经网络对步骤2得到的滑模控制函数进行优化，完成神经网络滑模控制。2.根据权利要求1所述的一种两轴音圈快速反射镜的神经网络滑模控制方法，其特征在于，所述步骤1具体按照以下步骤实施：两轴音圈电机快速反射镜中作为驱动器的音圈电机的等效数学模型如下：Me＝CmiaEa＝Ceω 其中，ia为电枢电流，Ra为电枢电阻，La为电枢电感，Ea为反电势，Ua为电枢电压，Me为电磁转矩，Cm为电磁转矩常数，Ce为电动势常数，ω为线圈角速度；对于除音圈电机之外的可在两维方向上运动的反射镜机构部分，将其解耦成两个独立的单自由度的扭振系统，建立其力矩平衡方程为：其中，Me为同轴两台串联的音圈电机共同施加的合力矩，J1为倾斜镜的转动惯量，θm为倾斜镜的偏转角，和为角速度和角加速度，C为等效阻尼系数，L为驱动器作用点到转动轴的距离，m为音圈的质量；令J1＝J+2mL2，C1＝2CL2,则式表示为：将、和式代入式可得输出角速度与电压之间的传递函数为：由上式得出由音圈电机驱动的反射镜为二阶振荡环节，其对应的微分方程为：若忽略项的影响，则上式可化为：其中：f＝ω/Cm此时令x1＝θm，则可将式转化为状态方程：式和组成解耦后的状态方程。3.根据权利要求2所述的一种两轴音圈快速反射镜的神经网络滑模控制方法，其特征在于，所述步骤2具体按照以下步骤实施：θd和θm分别为反射镜的位置给定和实际位置；定义位置误差为e＝x1-θd，其中θd为位置给定信号，定义滑模切换函数为：其中常数c＞0，定义则：s＝x2-xq对s两边求导并带入式得：采用等速趋近率：其中参数λ＞0控制系统运动点趋近切换面s＝0的速率，其值小，趋近速率慢，相反则快，进一步由式和可得如下的理想控制量：4.根据权利要求3所述的一种两轴音圈快速反射镜的神经网络滑模控制方法，其特征在于，所述步骤3具体按照以下步骤实施：由于实际当中式中参数J和f是随时间变化的，理想控制量ur是未知的非线性函数，将滑模变量s作为径向基神经网络的唯一输入逼近ur，即：其中ε1为逼近误差，n为神经元个数，φi为Sigmoid基函数，W＝T为权值向量，φ＝T为基函数向量；神经网络中对于任意正数ξ和一个连续函数f:X→Rn，存在一个足够大的正整数对于任意整数n＞v*，总能找到一个理想的n维权值向量W＝W*和合适的基函数集合φ，使得具有n个隐元的神经网络的输出满足：其中为神经网络模型；找到一组权值W使得逼近误差满足|ε1|≤ξ，最优权值W通常未知需要在线估计；故定义当前权值估计为则此时实际的控制输入为：根据滑模控制理论，采用滑模控制时只有当满足滑模可达条件时时，在ur的作用下被控系统状态才将收敛到原点；采用神经网络在线逼近ur，需要在保证满足滑模可达条件下对网络的权值进行在线更新，对应的权值更新策略为：其中参数γ＞0表示学习速率，定义权值估计误差为则：定义Lyapunov函数为：求其关于时间的一阶导数为：又因为易知：可见当|s|≥ξ/J*λ时，则则满足了时，滑模变量s将收敛到曲线s＝0附近±ξ/J*λ的范围内，并且系统误差随着神经网络逼近精度的提高而下降；同时在s＝0的邻域内，V正定，负半定，根据Lyapunov稳定性定理可知闭环系统稳定；由式可知位置跟踪误差e有界收敛；实际应用时根据式和式通过式获得控制输入控制反射镜的位置，并通过式实时更新滑模神经网络控制器的权值系数；完成神经网络滑模控制。5.根据权利要求1所述的一种两轴音圈快速反射镜的神经网络滑模控制方法，其特征在于，所述步骤1具体按照以下步骤实施：两轴音圈电机快速反射镜中作为驱动器的音圈电机的等效数学模型如下：Me＝CmiaEa＝Ceω 其中，ia为电枢电流，Ra为电枢电阻，La为电枢电感，Ea为反电势，Ua为电枢电压，Me为电磁转矩，Cm为电磁转矩常数，Ce为电动势常数，ω为线圈角速度；对于除音圈电机之外的可在两维方向上运动的反射镜机构部分，将其解耦成两个独立的单自由度的扭振系统，建立其力矩平衡方程为：其中，Me为同轴两台串联的音圈电机共同施加的合力矩，J1为倾斜镜的转动惯量，θm为倾斜镜的偏转角，和为角速度和角加速度，C为等效阻尼系数，L为驱动器作用点到转动轴的距离，m为音圈的质量。令J1＝J+2mL2，C1＝2CL2,则式表示为：由公式可知电磁转矩与输出位置之间的传递函数为：将公式、和带入上式可得：则：考虑到所以上式可转化为：若忽略项的影响，则上式可化为：其中：此时令x1＝θm，则可将转化为状态方程：式和组成解耦后的状态方程。
说明书desc
技术领域本发明属于快速反射镜控制技术领域，涉及一种两轴音圈快速反射镜的神经网络滑模控制方法。背景技术在激光通信、激光雷达、激光加工、大口径天文望远镜、空间探测等领域中，光束二维方向上的稳定控制是制约系统性能的核心技术之一。在规定的转角范围内，快速反射镜能对光束进行高精度、高动态的快速精确指向。两轴快速反射镜采用能减少摩擦的柔性支撑结构，安装在复合轴结构中。驱动快反镜转动的方式可分为压电陶瓷式和音圈电机式两类。与压电陶瓷驱动方式相比，音圈电机驱动具有运动行程大，驱动电压低，驱动电路简单的优点，但在扰动抑制方面不如压电陶瓷方式。然而在音圈电机快反镜实际应用中，以扰动形式加载在系统中的柔性支撑结构摩擦力矩和质量不平衡力矩，包括非线性环节、环境因素引发的系统参数变动和未建模环节，可能会导致反射镜系统的不稳定，从而影响快速反射镜对光束的精密快速指向和精确定位性能。在现有结构制造能力和传感器测量精度条件下，提高系统的抗扰性能以及具有对参数摄动具有鲁棒性已成为制约音圈电机快反镜性能的难点之一。目前所采用的主要方法有扰动观测器法、自抗扰控制和自适应鲁棒控制：扰动观测器法和自抗扰控制基于线性模型设计，难以对非线性的摩擦力矩进行准确的观测与抑制，而自适应鲁棒控制所采用的符号函数容易引起状态抖振从而影响控制精度。发明内容本发明的目的是提供一种两轴音圈快速反射镜的神经网络滑模控制方法，解决了现有技术中存在的对模型参数扰动鲁棒性差的问题。本发明所采用的技术方案是，一种两轴音圈快速反射镜的神经网络滑模控制方法，具体按照以下步骤实施：步骤1、进行音圈电机快反镜系统建模与简化；步骤2、利用步骤1建立的音圈电机快反镜系统模型，计算音圈电机快速反射镜的滑模控制函数；步骤3、采用神经网络对步骤2得到的滑模控制函数进行优化，完成神经网络滑模控制。本发明的特点还在于：步骤1具体按照以下步骤实施：两轴音圈电机快速反射镜中作为驱动器的音圈电机的等效数学模型如下：Me＝CmiaEa＝Ceω 其中，ia为电枢电流，Ra为电枢电阻，La为电枢电感，Ea为反电势，Ua为电枢电压，Me为电磁转矩，Cm为电磁转矩常数，Ce为电动势常数，ω为线圈角速度；对于除音圈电机之外的可在两维方向上运动的反射镜机构部分，将其解耦成两个独立的单自由度的扭振系统，建立其力矩平衡方程为：其中，Me为同轴两台串联的音圈电机共同施加的合力矩，J1为倾斜镜的转动惯量，θm为倾斜镜的偏转角，和为角速度和角加速度，C为等效阻尼系数，L为驱动器作用点到转动轴的距离，m为音圈的质量；令J1＝J+2mL2，C1＝2CL2,则式表示为：将、和式代入式可得输出角速度与电压之间的传递函数为：由上式得出由音圈电机驱动的反射镜为二阶振荡环节，其对应的微分方程为：若忽略项的影响，则上式可化为：其中：f＝ω/Cm此时令x1＝θm，则可将式转化为状态方程：式和组成解耦后的状态方程。步骤2具体按照以下步骤实施：θd和θm分别为反射镜的位置给定和实际位置；定义位置误差为e＝x1-θd，其中θd为位置给定信号，定义滑模切换函数为：其中常数c＞0，定义则：s＝x2-xq对s两边求导并带入式得：采用等速趋近率：其中参数λ＞0控制系统运动点趋近切换面s＝0的速率，其值小，趋近速率慢，相反则快，进一步由式和可得如下的理想控制量：步骤3具体按照以下步骤实施：由于实际当中式中参数J和f是随时间变化的，理想控制量ur是未知的非线性函数，将滑模变量s作为径向基神经网络的唯一输入逼近ur，即：其中ε1为逼近误差，n为神经元个数，φi为Sigmoid基函数，W＝T为权值向量，φ＝T为基函数向量；神经网络中对于任意正数ξ和一个连续函数f:X→Rn，存在一个足够大的正整数对于任意整数n＞v*，总能找到一个理想的n维权值向量W＝W*和合适的基函数集合φ，使得具有n个隐元的神经网络的输出满足：其中为神经网络模型；找到一组权值W使得逼近误差满足|ε1|≤ξ，最优权值W通常未知需要在线估计；故定义当前权值估计为则此时实际的控制输入为：根据滑模控制理论，采用滑模控制时只有当满足滑模可达条件时，在ur的作用下被控系统状态才将收敛到原点；采用神经网络在线逼近ur，需要在保证满足滑模可达条件下对网络的权值进行在线更新，对应的权值更新策略为：其中参数γ＞0表示学习速率，定义权值估计误差为则：定义Lyapunov函数为：求其关于时间的一阶导数为：又因为易知：可见当|s|≥ξ/J*λ时，则则满足了时，滑模变量s将收敛到曲线s＝0附近±ξ/J*λ的范围内，并且系统误差随着神经网络逼近精度的提高而下降；同时在s＝0的邻域内，V正定，负半定，根据Lyapunov稳定性定理可知闭环系统稳定；由式可知位置跟踪误差e有界收敛；实际应用时根据式和式通过式获得控制输入控制反射镜的位置，并通过式实时更新滑模神经网络控制器的权值系数；完成神经网络滑模控制。步骤1具体按照以下步骤实施：两轴音圈电机快速反射镜中作为驱动器的音圈电机的等效数学模型如下：Me＝Cmia Ea＝Ceω其中，ia为电枢电流，Ra为电枢电阻，La为电枢电感，Ea为反电势，Ua为电枢电压，Me为电磁转矩，Cm为电磁转矩常数，Ce为电动势常数，ω为线圈角速度；对于除音圈电机之外的可在两维方向上运动的反射镜机构部分，将其解耦成两个独立的单自由度的扭振系统，建立其力矩平衡方程为：其中，Me为同轴两台串联的音圈电机共同施加的合力矩，J1为倾斜镜的转动惯量，θm为倾斜镜的偏转角，和为角速度和角加速度，C为等效阻尼系数，L为驱动器作用点到转动轴的距离，m为音圈的质量。令J1＝J+2mL2，C1＝2CL2,则式表示为：由公式可知电磁转矩与输出位置之间的传递函数为：将公式、和带入上式可得：则：考虑到所以上式可转化为：若忽略项的影响，则上式可化为：其中：此时令x1＝θm，则可将转化为状态方程：式和组成解耦后的状态方程。本发明的有益效果是：本发明一种两轴音圈快速反射镜的神经网络滑模控制方法，解决了现有技术中存在的对模型参数扰动鲁棒性差、抗外界扰动能力弱的问题。通过构造电流环将音圈电机转换为一个可用比例环节等效的力矩控制器，使得音圈电机的输出力矩与控制电流之间成线性关系，快反镜机械部分解耦成两个独立的单自由度的二阶扭振系统，将二阶系统转换为状态方程；再定义位置误差，设计等速趋近率的滑模控制器来抑制扰动和参数摄动引起的问题；然后设计神经网络对滑模控制器进行在线估计，神经网络的输出电压作为力矩控制器的给定。在不改变现有系统和传感器的基础上，对参数摄动和系统外加扰动具有鲁棒性，能满足音圈电机反射镜的性能要求，且不采用符号函数设计滑模控制器，具有较高的实用性。附图说明图1是本发明一种两轴音圈快速反射镜的神经网络滑模控制方法中滑模神经网络位置控制框；图2是本发明一种两轴音圈快速反射镜的神经网络滑模控制方法中两轴音圈电机快速反射镜结构示意图；图3是本发明一种两轴音圈快速反射镜的神经网络滑模控制方法中参数突变下的1Hz 17.4mrad正弦信号激励响应图；图4是本发明一种两轴音圈快速反射镜的神经网络滑模控制方法中扰动情况下的1Hz 17.4mrad正弦信号激励响应图。图中：1.反射镜，2.反射镜支架，3.柔性支撑结构，4.音圈电机，5.微位移传感器，6.基座，7.控制器。具体实施方式下面结合附图和具体实施方式对本发明进行详细说明。本发明一种两轴音圈快速反射镜的神经网络滑模控制方法，具体按照以下步骤实施：步骤1、进行音圈电机快反镜系统建模与简化；步骤1具体按照以下步骤实施：两轴音圈电机快速反射镜中作为驱动器的音圈电机的等效数学模型如下：Me＝CmiaEa＝Ceω 其中，ia为电枢电流，Ra为电枢电阻，La为电枢电感，Ea为反电势，Ua为电枢电压，Me为电磁转矩，Cm为电磁转矩常数，Ce为电动势常数，ω为线圈角速度；对于除音圈电机之外的可在两维方向上运动的反射镜机构部分，将其解耦成两个独立的单自由度的扭振系统，建立其力矩平衡方程为：其中，Me为同轴两台串联的音圈电机共同施加的合力矩，J1为倾斜镜的转动惯量，θm为倾斜镜的偏转角，和为角速度和角加速度，C为等效阻尼系数，L为驱动器作用点到转动轴的距离，m为音圈的质量；令J1＝J+2mL2，C1＝2CL2,则式表示为：将、和式代入式可得输出角速度与电压之间的传递函数为：由上式得出由音圈电机驱动的反射镜为二阶振荡环节，其对应的微分方程为：若忽略项的影响，则上式可化为：其中：f＝ω/Cm此时令x1＝θm，则可将式转化为状态方程：式和组成解耦后的状态方程。步骤1还可按照以下步骤实施：两轴音圈电机快速反射镜中作为驱动器的音圈电机的等效数学模型如下：Me＝CmiaEa＝Ceω 其中，ia为电枢电流，Ra为电枢电阻，La为电枢电感，Ea为反电势，Ua为电枢电压，Me为电磁转矩，Cm为电磁转矩常数，Ce为电动势常数，ω为线圈角速度；对于除音圈电机之外的可在两维方向上运动的反射镜机构部分，将其解耦成两个独立的单自由度的扭振系统，建立其力矩平衡方程为：其中，Me为同轴两台串联的音圈电机共同施加的合力矩，J1为倾斜镜的转动惯量，θm为倾斜镜的偏转角，和为角速度和角加速度，C为等效阻尼系数，L为驱动器作用点到转动轴的距离，m为音圈的质量。令J1＝J+2mL2，C1＝2CL2,则式表示为：由公式可知电磁转矩与输出位置之间的传递函数为：将公式、和带入上式可得：则：考虑到所以上式可转化为：若忽略项的影响，则上式可化为：其中：此时令x1＝θm，则可将转化为状态方程：式和组成解耦后的状态方程。步骤2、利用步骤1建立的音圈电机快反镜系统模型，计算音圈电机快速反射镜的滑模控制函数；步骤2具体按照以下步骤实施：音圈电机快反镜位置环主要实现快反镜指向及跟踪扫描功能，采用滑模神经网络位置控制框图，如图1所示。图中G为被控对象数学模型，即公式所示的包括音圈电机在内的反射镜机构部分，θd和θm分别为反射镜的位置给定和实际位置；定义位置误差为e＝x1-θd，其中θd为位置给定信号，定义滑模切换函数为：其中常数c＞0，定义则：s＝x2-xq对s两边求导并带入式得：采用等速趋近率：其中参数λ＞0控制系统运动点趋近切换面s＝0的速率，其值小，趋近速率慢，相反则快，进一步由式和可得如下的理想控制量：但是上式的理想控制量是一个多变量函数，实现复杂。步骤3、采用神经网络对步骤2得到的滑模控制函数进行优化，完成神经网络滑模控制。步骤3具体按照以下步骤实施：由于实际当中式中参数J和f是随时间变化的，因此理想控制量ur是未知的非线性函数，因此需要估计理想控制量ur。为便于实际控制，将滑模变量s作为径向基神经网络的唯一输入逼近ur，即：其中ε1为逼近误差，n为神经元个数，φi为Sigmoid基函数，W＝T为权值向量，φ＝T为基函数向量；神经网络中对于任意正数ξ和一个连续函数f:X→Rn，存在一个足够大的正整数对于任意整数n＞v*，总能找到一个理想的n维权值向量W＝W*和合适的基函数集合φ，使得具有n个隐元的神经网络的输出满足：其中为神经网络模型；找到一组权值W使得逼近误差满足|ε1|≤ξ，最优权值W通常未知需要在线估计；故定义当前权值估计为则此时实际的控制输入为：根据滑模控制理论，采用滑模控制时只有当满足滑模可达条件时，在ur的作用下被控系统状态才将收敛到原点；采用神经网络在线逼近ur，需要在保证满足滑模可达条件下对网络的权值进行在线更新，对应的权值更新策略为：其中参数γ＞0表示学习速率，定义权值估计误差为则：定义Lyapunov函数为：求其关于时间的一阶导数为：又因为易知：可见当|s|≥ξ/J*λ时，则则满足了时，滑模变量s将收敛到曲线s＝0附近±ξ/J*λ的范围内，并且系统误差随着神经网络逼近精度的提高而下降；同时在s＝0的邻域内，V正定，负半定，根据Lyapunov稳定性定理可知闭环系统稳定；由式可知位置跟踪误差e有界收敛；实际应用时根据式和式通过式获得控制输入控制反射镜的位置，并通过式实时更新滑模神经网络控制器的权值系数；完成神经网络滑模控制。本发明一种两轴音圈快速反射镜的神经网络滑模控制方法中两轴音圈电机快速反射镜可采用如下结构：包括反射镜1、反射镜支架2、柔性支撑结构3、音圈电机4、微位移传感器5、基座6、控制器7。以圆形反射镜的圆心为坐标原点建立x轴和y轴，反射镜1安装在反射镜支架2上，反射镜支架2和基座6之间安装柔性支撑结构3和音圈电机4，沿x轴和y轴方向在反射镜支架2和基座6之间分别安装两个音圈电机4，再沿x轴和y轴方向在基座6上分别安装两个差动测量的微位移传感器5，控制器7则对快反镜进行控制。音圈电机快速反射镜滑模神经网络控制器7工作时，根据接收的位置指令，与微位移传感器5的位置测量信号作差获得位置误差，作为位置环的滑模神经网络控制器根据位置误差产生相应的输出驱动音圈电机4，调整反射镜绕x轴和y轴转动直至到达指定位置。本发明一种两轴音圈快速反射镜的神经网络滑模控制方法中对两轴音圈电机快速反射镜进行了解耦，且两轴配置的音圈电机同规格，即镜面绕x轴和y轴的转动均可独立控制互不影响，故对于绕两轴的控制是完全相同的。因此，实施例选择绕x轴进行控制来说明本方法。本发明一种两轴音圈快速反射镜的神经网络滑模控制方法，可以在不需要系统模型的基础上，利用位置误差和位置误差的微分计算滑模变量，并以滑模变量为输入构造基于基函数的神经网络，神经网络的输出控制音圈电机快反镜机构。并且神经网络结构简单，仅需依据滑模可达条件在线更新其权值。该方法融合了滑模控制的鲁棒性和神经网络的自适应学习能力，能有效地抑制系统参数突变和外加扰动引起的不利影响，提高了音圈电机快反镜的控制性能。两轴音圈电机快反镜实际工作时面临温度、电磁干扰、振动、灰尘以及风阻等环境因素的影响，这些因素会引起系统模型参数变化或者以外加干扰形式作用在系统中，从而引发系统性能下降甚至导致不稳定。本发明一种两轴音圈快速反射镜的神经网络滑模控制方法，既能利用滑模控制应对外加干扰引起的输出变化，又能利用神经网络的在线学习能力应对模型参数变化引起的性能下降，并且能保证系统的稳定性。本发明一种两轴音圈快速反射镜的神经网络滑模控制方法解决了现有音圈电机反射镜控制方法对模型参数扰动鲁棒性差、抗外界扰动能力弱的问题。为定量说明本发明一种两轴音圈快速反射镜的神经网络滑模控制方法的控制效果，定义均方根误差为其中N为采样点数。实验中期望跟踪输入信号xd＝17.4sin，即幅值17.4mrad，频率1Hz的正弦信号，然后将式所示的神经网络滑模控制器进行实验。图3为模拟控制器跟踪输入指令信号以及等效转动惯量J发生突变时，采用本发明方法的跟踪效果。图3中前4秒为跟踪指令信号的情形，从图中可以看出一开始经过短暂的偏差后输出迅速达到指定值，在第4s时转动惯量J即突然增大10％，模拟参数突变的情况，从图3中可以看出经过短暂幅值较大的波动后，输出再次稳定地跟踪输入指令信号，跟踪误差xRMS＝0.1351mrad，而采用常规的PID方法跟踪误差为xRMS＝0.8634mrad。图4为模拟稳定情况下收到外加扰动的时，采用本发明方法的跟踪效果。图4中前4秒为稳态情况，第4秒突加干扰d＝0.05cos，t≥4s，从图中可以看出经历短暂的小幅震荡后，输出仍能稳定地跟踪指令信号，跟踪误差为xRMS＝0.0699mrad，而采用传统的PID方法跟踪误差为xRMS＝0.2383mrad。可见通过采用神经网络滑模控制方法，快反镜的输出在参数扰动和外加干扰情况下仍然具有远优于传统PID方法的跟踪效果。仿真过程中音圈电机的参数为：音圈电机电枢电阻Ra＝5Ω，音圈电机电枢电感La＝0.08μH，等效阻尼系数C＝0.005Ns/m，驱动器作用点到转动轴的距离L＝35mm，音圈负载质量mc＝60.21g，转矩系数Cm＝8.1，反电势系数Ce＝8.1，转动惯量J＝161.215*10-6kg·m2。控制器参数取为：n＝7，λ＝10，γ＝10，神经网络的初始权值取为区间内的随机数，扰动d＝0.005sin。本发明一种两轴音圈快速反射镜的神经网络滑模控制方法，解决了现有技术中存在的对模型参数扰动鲁棒性差、抗外界扰动能力弱的问题。通过构造电流环将音圈电机转换为一个可用比例环节等效的力矩控制器，使得音圈电机的输出力矩与控制电流之间成线性关系，快反镜机械部分解耦成两个独立的单自由度的二阶扭振系统，将二阶系统转换为状态方程；再定义位置误差，设计等速趋近率的滑模控制器来抑制扰动和参数摄动引起的问题；然后设计神经网络对滑模控制器进行在线估计，神经网络的输出电压作为力矩控制器的给定。在不改变现有系统和传感器的基础上，对参数摄动和系统外加扰动具有鲁棒性，能满足音圈电机反射镜的性能要求，且不采用符号函数设计滑模控制器，具有较高的实用性。
