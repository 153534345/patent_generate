标题title
基于多径利用的北斗定位室外目标方法
摘要abst
本发明公开了一种基于多径利用的北斗定位室外目标方法，主要解决现有技术在多径环境下对点目标定位不准确的问题。其实现方案是：建立城市环境下室外目标几何定位模型；根据北斗卫星发射直达波信号的时间和接收机接收直达波信号的时间获取直达波信号的波达时间；根据北斗卫星发射三个不同的一阶多径信号的时间和接收机接收三个不同的一阶多径信号的时间来获取三个不同一阶多径信号的波达时间；将这些时间信息分别带入已经建立好的几何定位模型中，得到四个球体方程；联立求解四个球体的方程组，得这四个球体的相交点即为目标的位置。本发明能有效利用多径信息，所建立的几何定位模型简单，成本低，提高了定位精度，可用于对室外点目标的定位。
权利要求书clms
1.一种基于多径利用的北斗定位室外目标方法，其特征在于，包括：根据北斗卫星发射的不同信号时间和地面接收机接收该信号的时间，得到其波达时间：1a)根据北斗卫星发射直达波信号的时间t1和地面接收机接收直达波信号的时间tr1，得到直达波的波达时间τA；1b)根据北斗卫星发射一阶多径信号的时间t2和地面接收机接收一阶多径信号的时间tr2，得到一阶多径信号的波达时间τB；1c)根据北斗卫星发射一阶多径信号的时间t3和地面接收机接收一阶多径信号的时间tr3，得到一阶多径信号的波达时间τC；1d)根据北斗卫星发射一阶多径信号的时间t4和地面接收机接收一阶多径信号的时间tr4，得到一阶多径信号的波达时间τD；建立城市环境室外目标几何定位模型：2a)建立站心坐标系，在站心坐标系中定义卫星位置Q和导航接收机位置A：Q＝，A＝；其中：Rx为卫星位置Q的横坐标，Ry为卫星位置Q的纵坐标，Rz为卫星位置Q的竖坐标；Ax为接收机位置A的横坐标，Ay为接收机位置A的纵坐标，Az为接收机位置A的竖坐标；2b)在站心坐标系中对反射面信息初始化，根据卫星位置关于反射面的对称位置，得到卫星关于反射面yoz平面的虚拟卫星的位置点P1、卫星关于反射面xoz平面的虚拟卫星的位置点P2以及卫星关于反射面xoy平面的虚拟卫星的位置点P3：P1＝，P2＝，P3＝；其中：Dx1为虚拟卫星位置P1的横坐标，Dy1为虚拟卫星位置P1的纵坐标，Dz1为虚拟卫星位置P1的竖坐标；Dx2为虚拟卫星位置P2的横坐标，Dy2为虚拟卫星位置P2的纵坐标，Dy3为虚拟卫星位置P3的竖坐标；2c)根据卫星位置Q、导航接收机位置A、虚拟卫星的位置P1、P2、P3和反射面信息，建立数学模型表达式：其中，式＜1＞是以卫星Q的位置为球心，以卫星到导航接收机的距离为半径的球体，是直达波信号的几何模型；式＜2＞是以虚拟卫星P1的位置为球心，以虚拟卫星P1到导航接收机的距离为半径的球体，是一阶多径信号的几何模型；式＜3＞是以虚拟卫星P2的位置为球心，以虚拟卫星P2到导航接收机的距离为半径的球体，是一阶多径信号的几何模型；式＜4＞是以虚拟卫星P3的位置为球心，以虚拟卫星P3到导航接收机的距离为半径的球体，是一阶多径信号的几何模型；c为电磁波在空间中的传播速度，dt是设备与标准卫星的时钟差，为要测量的目标位置；将中得到的直达波信号波达时间τA、一阶多径信号波达时间τB、一阶多径信号波达时间τC、一阶多径信号波达时间τD带入2c)中建立的数学模型中进行联立求解，得到其四个几何模型即四个不同球体的相交点，该点为目标的位置。2.根据权利要求1所述的方法，其中所述1a)中得到直达波的波达时间τA，表示如下：τA＝tr1-t1；式中：t1是北斗卫星对应的直达波信号的发射时间，tr1接收机对应的直达波信号的接收时间。3.根据权利要求1所述的方法，其中,所述1b)中得到一阶多径信号的波达时间τB，表示如下：τB＝tr2-t2；式中：t2是北斗卫星对应的一阶多径信号的发射时间，tr2是接收机对应的一阶多径信号的接收时间。4.根据权利要求1所述的方法，其中所述1c)中得到一阶多径信号的波达时间τC，表示如下：τC＝tr3-t3；式中：t3是北斗卫星对应的一阶多径信号的发射时间，tr3是接收机对应的一阶多径信号的接收时间。5.根据权利要求1所述的方法，其中所述1d)中得到一阶多径信号的波达时间τD，表示如下：τD＝tr4-t4式中：t4是北斗卫星对应的一阶多径信号的发射时间，tr4是接收机对应的一阶多径信号的接收时间。
说明书desc
技术领域本发明属于通信技术领域，特别涉及一种北斗定位室外目标方法，可用于对城市环境下室外点目标位置的定位。背景技术在城市环境下，使用北斗卫星对目标进行定位时，由于建筑物表面或其他物体对信号的散射或反射，信号可以通过不同的路径到达导航接收机，接收机除了接收发射机直接传来的信号还会接收到经过遮挡物反射或者衍射的信号甚至他们之间互相干扰后的信号，产生多径效应。多径效应是影响目标定位准确性的十分重要的因素之一。多径信号的存在，会严重降低定位性能。当接收信号中只存在直达信号时，接收信号与本地伪码的相关函数就是伪码的自相关函数，而当存在多径信号时，多径信号也会与本地伪码进行相关，从而影响接收信号与本地伪码的相关函数，使得最终输出的相关函数的形状发生畸变，不再是理想的自相关函数，导致鉴相函数的过零点偏移，产生码测量误差。对于多径信号的影响，传统方法主要是通过抑制多径信号来获取目标的真实位置信息。比如：通过改变天线放置策略，使直达波信号和多径信号几乎同时到达天线，或设计地平面天线，遮挡来自天线下方的多径信号，见鲁郁撰写的书籍《北斗-GPS双模软件接收机原理与实现技术》。但是这些传统方法，对不同路径的波达时间精准度有严格的要求，仅适合延迟较短的多径环境，其使用范围受到限制。同时，还存在着成本较高、处理复杂、适用范围小的问题。近年来，专家们也提出很多改进方法。申请号为CN2018103327263的专利申请提出了《一种多径效应抑制方法、装置及设备》，其通过相关信号和衰减信号的预设对应关系，并根据正交变换方法来更新直达信号，以得到精确的直达径信号估计值，但这个方法仅能实现对短多径效应的抑制，而对长多径效应的抑制效果甚微。申请号为CN2018114224627的专利申请提出了《一种基于多载波信号的多径抑制方法》，其通过利用多载波信号机制，对多频信号间频差进行约束，并将多频点量测量均值化，使得多频点量测量所携带的多径误差趋于0，以削弱甚至消除静态多径效应，但是这个方法增添了复合通道码跟踪环路，增加了系统的复杂度，影响了该方法的应用范围。多径信号的本质是来源于北斗卫星对应的信号，包含着低于直达信号的信号能量以及终端的位置信息，对这部分信号的抑制会导致能量和信息的损失，如果能够加以合理利用，就可以提升多径环境下的定位性能。申请号为CN2019102249115的专利提出了《一种多径利用的自适应相干波束形成方法》，其通过约束反射系数求得最优加权向量，再进行自适应波束形成，有效利用了多径相干信息。但这种方法在当输入信噪比增加时，会出现性能下降、输出信噪比低的问题。胡刘博提出了《基于多径利用的城区目标探测方法研究》，其通过使用雷达对目标定位的理论，结合多径模型，以对目标进行定位。但是在目标静止时，杂波会对该方法产生很大的影响，造成目标定位精度下降。发明内容本发明的目的在于针对上述现有方法的不足，提出一种基于多径利用的北斗定位室外目标方法，以提高目标真实位置的检测准确性，同时降低成本和处理复杂度，扩大其适用范围。为实现上述目的，本发明的技术方案包括如下：1.一种基于多径利用的北斗室外目标定位方法，其特征在于，包括：根据北斗卫星发射的不同信号时间和地面接收机接收该信号的时间，得到其波达时间：1a)根据北斗卫星发射直达波信号的时间t1和地面接收机接收直达波信号的时间tr1，得到直达波的波达时间τA；1b)根据北斗卫星发射一阶多径信号的时间t2和地面接收机接收一阶多径信号的时间tr2，得到一阶多径信号的波达时间τB；1c)根据北斗卫星发射一阶多径信号的时间t3和地面接收机接收一阶多径信号的时间tr3，得到一阶多径信号的波达时间τC；1d)根据北斗卫星发射一阶多径信号的时间t4和地面接收机接收一阶多径信号的时间tr4，得到一阶多径信号的波达时间τD；建立城市环境室外目标几何定位模型：2a)建立站心坐标系，在站心坐标系中定义卫星位置Q和导航接收机位置A：Q＝，A＝；其中：Rx为卫星位置Q的横坐标，Ry为卫星位置Q的纵坐标，Rz为卫星位置Q的竖坐标；Ax为接收机位置A的横坐标，Ay为接收机位置A的纵坐标，Az为接收机位置A的竖坐标；2b)在站心坐标系中对反射面信息初始化，根据卫星位置关于反射面的对称位置，得到卫星关于反射面yoz平面的虚拟卫星的位置点P1、卫星关于反射面xoz平面的虚拟卫星的位置点P2以及卫星关于反射面xoy平面的虚拟卫星的位置点P3：P1＝，P2＝，P3＝；其中：Dx1为虚拟卫星位置P1的横坐标，Dy1为虚拟卫星位置P1的纵坐标，Dz1为虚拟卫星位置P1的竖坐标；Dx2为虚拟卫星位置P2的横坐标，Dy2为虚拟卫星位置P2的纵坐标，Dy3为虚拟卫星位置P3的竖坐标；2c)根据卫星位置Q、导航接收机位置A、虚拟卫星的位置P1、P2、P3和反射面信息，建立数学模型表达式：其中，式＜1＞是以卫星Q的位置为球心，以卫星到导航接收机的距离为半径的球体，是直达波信号的几何模型；式＜2＞是以虚拟卫星P1的位置为球心，以虚拟卫星P1到导航接收机的距离为半径的球体，是一阶多径信号的几何模型；式＜3＞是以虚拟卫星P2的位置为球心，以虚拟卫星P2到导航接收机的距离为半径的球体，是一阶多径信号的几何模型；式＜4＞是以虚拟卫星P3的位置为球心，以虚拟卫星P3到导航接收机的距离为半径的球体，是一阶多径信号的几何模型；c为电磁波在空间中的传播速度，dt是设备与标准卫星的时钟差，为要测量的目标位置；将中得到的直达波信号波达时间τA、一阶多径信号波达时间τB、一阶多径信号波达时间τC、一阶多径信号波达时间τD带入2c)中建立的数学模型中进行联立求解，得到其四个几何模型即四个不同球体的相交点，该点为目标的位置。本发明与现有技术相比，具有以下优点：1、检测位置准确度高。在多径环境下，传统的匹配滤波方法将受到多径信号的干扰，且对各路径波达时间的准确度要求较高，无法准确测出目标的位置。本发明由于所建模型是利用多径信息对各路径波达时间的综合判断，可以准确地测出目标位置信息。2、模型简单、成本低。为减弱多径效应对目标定位的影响，传统方法是采取抑制多径效应的方法，需要多个接收天线来接收信号，并且对接收信号处理算法复杂。本发明是利用多径信息，建立目标几何定位模型，根据各路径的波达时间与几何定位模型得到数学模型，由数学模型得到目标的真实位置，模型简单，成本较低。3、本发明利用点目标多径信息对点目标直接三维空间定位，相比于现有技术通过多径抑制甚至多径消除来进行目标定位，本发明提高了定位精度，减少了资源的浪费。附图说明图1是本发明的实现流程图；图2是本发明在多径环境下北斗卫星定位的原理示意图；图3是本发明在设定的目标和环境参数下的仿真定位结果图；图4是本发明在设定的目标和环境参数下的距离误差仿真结果图。具体实施方式参照图1，本发明的实现步骤如下：步骤1：获取不同路径的波达时间。1.1)根据卫星发射信号的时间t1和地面接收机接收信号的时间tr1，得到直达波的波达时间：τA＝tr1-t1；1.2)根据卫星发射信号的时间t2和地面接收机接收信号的时间tr2，得到一阶多径信号的波达时间：τB＝tr2-t2；1.3)根据卫星发射信号的时间和地面接收机接收信号的时间，得到一阶多径信号的波达时间：τC＝tr3-t3；1.4)根据卫星发射信号的时间和地面接收机接收信号的时间，得到一阶多径信号的波达时间：τD＝tr4-t4。步骤2：建立北斗卫星室外点目标几何定位模型。参照图2，定义北斗卫星和导航接收机分别在Q点和A点处，初始化目标的反射面信息，假设目标的反射面为镜面反射，反射面分别为yoz平面、xoz平面、xoy平面，根据反射面信息得到北斗卫星关于反射面对称的虚拟卫星的位置P1、P2、P3，根据卫星位置Q、虚拟卫星的位置P1、P2、P3和不同路径的波达时间τA、τB、τC、τD，建立目标几何定位模型，步骤如下：2.1)建立站心坐标系：2.2)在坐标系中定义北斗卫星位置Q和点目标位置A：Q＝，A＝；其中：Rx为卫星位置Q的横坐标，Ry为卫星位置Q的纵坐标，Rz为卫星位置Q的竖坐标；Ax为接收机位置A的横坐标，Ay为接收机位置A的纵坐标，Az为接收机位置A的竖坐标；2.3)在坐标系中对目标反射面信息初始化，即根据卫星位置关于目标反射面的对称位置，得到虚拟卫星的位置点P1、P2、P3：P1＝，P2＝，P3＝；其中：Dx1为虚拟卫星位置P1的横坐标，Dy1为虚拟卫星位置P1的纵坐标，Dz1为虚拟卫星位置P1的竖坐标；Dx2为虚拟卫星位置P2的横坐标，Dy2为虚拟卫星位置P2的纵坐标，Dy3为虚拟卫星位置P3的竖坐标；2.4)根据北斗卫星位置Q、点目标位置A、虚拟卫星的位置点P1、P2、P3和目标反射面之间的关系，得到不同信号的几何图：2.4.1)对于直达波信号的波达时间τA，信号从卫星的位置Q发射，沿路径QA到达接收机的位置A，其几何图是以卫星的位置Q点为球心，以QA长度为半径的球体；2.4.2)对于一阶多径信号的波达时间τB，信号从卫星的位置Q发射，沿路径QF1传播，经位于yoz平面的反射点F1发生反射后再沿路径F1A到达接收机的位置A，其几何图的确定是根据卫星的位置Q和位于坐标系中第二象限的虚拟卫星位置点P1关于yoz平面对称的分布，先得出信号从卫星的位置Q发射沿路径QF1传播的路径长度与信号从位于坐标系中第二象限的虚拟卫星的位置点P1发射沿路径P1F1传播的路径长度相等，即QF1＝P1F1，再根据等式QF1+F1A＝P1F1+F1A＝P1A，可将上述信号传播路径看成信号从位于坐标系中第二象限的虚拟卫星的位置点P1发射，沿路径P1A到达接收机，故得到其几何图是以P1点为球心，以P1A长度为半径的球体；2.4.3)对于一阶多径信号的波达时间τC，信号从卫星的位置Q发射，沿路径QF2传播，经位于xoz平面的反射点F2发生反射后再沿路径F2A到达接收机的位置A，其几何图的确定是根据卫星的位置Q和位于坐标系中第四象限的虚拟卫星位置点P2关于xoz平面对称的分布，先得出信号从卫星的位置Q发射沿路径QF2传播的路径长度与信号从位于坐标系中第四象限的虚拟卫星的位置点P2发射沿路径P2F2传播的路径长度相等，即QF2＝P2F2；再根据等式QF2+F2A＝P2F2+F2A＝P2A，将上述信号传播路径看成信号从位于坐标系中第四象限的虚拟卫星的位置点P2发射，沿路径P2A到达接收机，故得到其几何图是以P2点为球心，以P2A长度为半径的球体；2.4.4)对于一阶多径信号的波达时间τD，信号从卫星的位置Q发射，沿路径QF3传播，经位于xoy平面的反射点F3发生反射后再沿路径F3A到达接收机的位置A，其几何图的确定是根据卫星的位置Q和位于坐标系中第八象限的虚拟卫星位置点P3关于xoy平面对称的分布，先得出信号从卫星的位置Q发射沿路径QF3传播的路径长度与信号从位于坐标系中第八象限的虚拟卫星的位置点P3发射沿路径P3F3传播的路径长度相等，即QF3＝P3F3，再根据等式QF3+F3A＝P3F3+F3A＝P3A，可将上述信号传播路径看成信号从位于坐标系中第八象限的虚拟卫星的位置点P3发射，沿路径P3A到达接收机的位置A，故得到其几何图是以P3点为球心，以P3A长度为半径的球体；2.5)根据北斗卫星位置Q、点目标位置A、虚拟卫星的位置点P1、P2、P3和设备与标准卫星的时钟差dt，得到北斗卫星室外点目标几何定位模型：由于多径效应的影响，信号由卫星发射经不同路径到达接收机，又接收设备与标准卫星之间存在时钟差，使得不同信号的实际波达时间在原理想波达时间的基础上增加dt，可知不同信号的实际波达时间为τA+dt、τB+dt、τC+dt、τD+dt，根据不同信号的实际波达时间及其组成的几何图，建立不同的数学模型表达式：2.5.1)根据直达波信号的实际波达时间τA+dt与电磁波在空间中的传播速度c得到卫星与导航接收机之间的距离s1＝·c，以该距离s1为半径建立以卫星Q的位置为球心的球体，得到对应的数学模型表达式为：2+2+2＝2c2；其中，为要测量的目标位置；2.5.2)根据一阶多径信号的实际波达时间τB+dt与电磁波在空间中的传播速度c得到位于第二象限的虚拟卫星P1与导航接收机之间的距离s2＝·c，以该距离s2为半径建立以虚拟卫星P1的位置为球心的球体，得到对应的数学模型表达式为：2+2+2＝2c2；其中，为要测量的目标位置；2.5.3)根据一阶多径信号的实际波达时间τC+dt与电磁波在空间中的传播速度c得到位于第四象限的虚拟卫星P2与导航接收机之间的距离s3＝·c，以该距离s3为半径建立以虚拟卫星P2的位置为球心的球体，得到对应的数学模型表达式为：2+2+2＝2c2；其中，为要测量的目标位置；2.5.4)根据一阶多径信号的实际波达时间τC+dt与电磁波在空间中的传播速度c得到位于第八象限的虚拟卫星P3与导航接收机之间的距离s4＝·c，以距离s4为半径建立以虚拟卫星P3的位置为球心的球体，可得到对应的数学模型表达式为：2+2+2＝2c2；其中，为要测量的目标位置。步骤3：确定目标位置坐标。3.1)将直达波信号波达时间τA代入2.5.1)的数学模型表达式中，可以得到以Tx、Ty、Tz和dt为未知参数，以卫星Q的位置为球心，以卫星到地面接收机的距离为半径的球体；3.2)将一阶多径信号波达时间τB代入2.5.2)的数学模型表达式中，可以得到以Tx、Ty、Tz和dt为未知参数，以虚拟卫星P1的位置为球心，以虚拟卫星P1到地面接收机的距离为半径的球体；3.3)将一阶多径信号波达时间τC代入2.5.3)的数学模型表达式中，可以得到以Tx、Ty、Tz和dt为未知参数，以虚拟卫星P2的位置为球心，以虚拟卫星P2到地面接收机的距离为半径的球体；3.4)将一阶多径信号波达时间τD代入2.5.4)的数学模型表达式中，可以得到以Tx、Ty、Tz和dt为未知参数，以虚拟卫星P3的位置为球心，以虚拟卫星P3到地面接收机的距离为半径的球体；将上述四个不同的球体联立求解，可解得钟差dt和目标位置的横坐标Tx、纵坐标Ty与竖坐标Tz，即目标位置。在本实例中，定义卫星的坐标矢量为Q＝，即Rx＝15000，Ry＝10000，Rz＝10000；目标的坐标矢量为A＝，即Ax＝2，Ay＝10，Az＝2；在反射面分别沿沿yoz平面、xoz平面、xoy平面的情况下，可得位于坐标中第二象限的虚拟卫星P1的坐标矢量为P1＝，即Dx1＝-15000，Dy1＝10000，Dz1＝10000；位于坐标系中第四象限的虚拟卫星P2的坐标矢量为P2＝，即Dx2＝15000，Dy2＝-10000，Dz2＝10000；位于坐标系中第八象限的虚拟卫星P3的坐标矢量为P3＝，即Dx3＝15000，Dy3＝10000，Dz3＝-10000。将τA＝6.8681e-05s、c＝3×108m/s、Rx＝15000、Ry＝10000、Rz＝10000带入2.5.1)的数学模型表达式中，得到以Tx、Ty、Tz和dt为未知参数，以卫星Q的位置为球心，以卫星Q到地面接收机的距离为半径的球体：2+2+2＝2×2将τB＝6.8691e-05s、c＝3×108m/s、Dx1＝-15000、Dy1＝10000、Dz1＝10000带入2.5.2)的数学模型表达式中，得到以Tx、Ty、Tz和dt为未知参数，以虚拟卫星P1的位置为球心，以虚拟卫星P1到地面接收机的距离为半径的球体：2+2+2＝2×2；将τC＝6.8714e-05s、c＝3×108m/s、Dx2＝15000，Dy2＝-10000，Dz2＝10000带入2.5.3)的数学模型表达式中，得到以Tx、Ty、Tz和dt为未知参数，以虚拟卫星P2的位置为球心，以虚拟卫星P2到地面接收机的距离为半径的球体：2+2+2＝2×2；将τD＝6.8694e-05s、c＝3×108m/s、Dx3＝15000，Dy3＝10000，Dz3＝-10000带入2.5.4)的数学模型表达式中，得到以Tx、Ty、Tz和dt为未知参数，以虚拟卫星P3的位置为球心，以虚拟卫星P3到地面接收机的距离为半径的球体：2+2+2＝2×2将上述四个不同的球体进行联立，可得：对这四个方程的方程组进行联立求解，得到接收设备与标准卫星之间的时钟差dt和目标位置的横坐标Tx、纵坐标Ty与竖坐标Tz，即确定出目标的位置。对本发明实施例的点目标位置与发射卫星之间的距离进行仿真，结果如图3所示；从图3中可以看出，经计算得到的点目标位置与发射卫星之间的距离为2.06029×104m，而真实的的点目标位置与发射卫星之间的距离为2.06082×104m，两者之间的距离误差值仅为5.337m，如图4所示。表明本发明不仅能对多径环境下室外的点目标进行定位，而且还有很高的定位精度。
