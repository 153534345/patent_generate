标题title
语音数据合成方法、终端设备以及计算机可读存储介质
摘要abst
本申请实施例公开了一种语音数据合成方法、终端设备以及计算机可读存储介质，本申请实施例方法包括：首先接收语音播报请求，然后根据该语音播报请求向云端发送合成请求，该合成请求用于指示云端运行云端语音合成进程，并通过该云端语音合成进程对语音播报请求对应的语音数据进行合成，以及在第一时间段内未接收到云端返回的目标语音数据时，则运行本地语音合成进程，并通过该本地语音合成进程对该语音播报请求对应的语音数据进行合成。通过实施该方法，能够提高文字转语音的处理效果。
权利要求书clms
1.一种语音数据合成方法，其特征在于，包括：接收语音播报请求；根据所述语音播报请求向云端发送合成请求，所述合成请求用于指示所述云端运行云端语音合成进程，并通过所述云端语音合成进程对所述语音播报请求对应的语音数据进行合成；若在第一时间段内未接收到所述云端返回的目标语音数据，则运行本地语音合成进程，并通过所述本地语音合成进程对所述语音播报请求对应的语音数据进行合成。2.根据权利要求1所述的方法，其特征在于，在所述根据所述语音播报请求向云端发送合成请求之后，所述方法还包括：若在第一时间段内接收到所述云端返回的目标语音数据，则播报所述云端语音合成进程合成的语音数据。3.根据权利要求1所述的方法，其特征在于，在所述通过所述本地语音合成进程对所述语音播报请求对应的语音数据进行合成之后，所述方法还包括：若在运行所述本地语音合成进程的第二时间段内接收到所述云端返回的目标语音数据，则终止运行所述本地语音合成进程，并播报所述云端语音合成进程合成的语音数据；若在运行所述本地语音合成进程的第二时间段内依然未接收到所述云端返回的目标语音数据，则向所述云端发送终止请求，并播报所述本地语音合成进程合成的语音数据，所述终止请求用于指示所述云端终止运行所述云端语音合成进程。4.根据权利要求3所述的方法，其特征在于，所述若在运行所述本地语音合成进程的第二时间段内依然未接收到所述云端返回的目标语音数据，则向所述云端发送终止请求，包括：若在运行所述本地语音合成进程的第二时间段内依然未接收到所述云端返回的目标语音数据，且在所述第二时间段内已接收到所述本地语音合成进程合成的首帧语音数据，则向所述云端发送终止请求。5.根据权利要求3所述的方法，其特征在于，所述方法还包括：若在运行所述本地语音合成进程的第二时间段内依然未接收到所述云端返回的目标语音数据，且在所述第二时间段内未接收到所述本地语音合成进程合成的首帧语音数据，则继续等待；若首先接收到所述云端返回的目标语音数据，则终止所述本地语音合成进程，并播报所述云端语音合成进程合成的语音数据；若首先接收到所述本地语音合成进程合成的首帧语音数据，则向所述云端发送终止请求，并播报所述本地语音合成进程合成的语音数据，所述终止请求用于指示所述云端终止运行所述云端语音合成进程。6.根据权利要求1-5任一项所述的方法，其特征在于，在所述接收语音播报请求之后，所述方法还包括：获取目标文本的目标融合策略，所述目标文本为所述语音播报请求对应的文本内容中的任一文本；所述若在第一时间段内未接收到所述云端返回的目标语音数据，则运行本地语音合成进程，包括：若在所述目标融合策略对应的第一时间段内未接收到所述云端返回的与所述目标融合策略对应的目标语音数据，则运行本地语音合成进程。7.根据权利要求6所述的方法，其特征在于，所述获取目标文本的目标融合策略，包括：从所述语音播报请求中获取策略标识；将所述策略标识指示的融合策略，确定为目标文本的目标融合策略。8.根据权利要求6所述的方法，其特征在于，所述获取目标文本的目标融合策略，包括：获取所述语音播报请求对应的业务类型；将与所述业务类型匹配的融合策略，确定为目标文本的目标融合策略。9.根据权利要求6所述的方法，其特征在于，所述获取目标文本的目标融合策略，包括：利用预设的文本特征匹配库，对所述目标文本进行文本特征匹配，以得到所述目标文本的文本特征；将与所述文本特征匹配的融合策略，确定为目标文本的目标融合策略。10.根据权利要求6所述的方法，其特征在于，所述目标融合策略包括延迟优先融合策略，与所述延迟优先融合策略对应的目标语音数据包括所述目标文本对应的首帧语音数据。11.根据权利要求6所述的方法，其特征在于，所述目标融合策略包括数据优先融合策略，与所述数据优先融合策略对应的目标语音数据包括所述目标文本对应的全部语音数据。12.一种终端设备，其特征在于，包括：获取单元，用于接收发送的语音播报请求；处理单元，用于根据所述语音播报请求向云端发送合成请求，所述合成请求用于指示所述云端运行云端语音合成进程，并通过所述云端语音合成进程对所述语音播报请求对应的语音数据进行合成；所述处理单元，还用于若在第一时间段内未接收到所述云端返回的目标语音数据，则运行本地语音合成进程，并通过所述本地语音合成进程对所述语音播报请求对应的语音数据进行合成。13.一种终端设备，其特征在于，包括：存储有可执行程序代码的存储器；以及所述存储器耦合的处理器；所述处理器调用所述存储器中存储的所述可执行程序代码，所述可执行程序代码被所述处理器执行时，使得所述处理器实现如权利要求1-11中任一所述的方法。14.一种计算机可读存储介质，其上存储有可执行程序代码，其特征在于，所述可执行程序代码被处理器执行时，实现如权利要求1-11中任一所述的方法。
说明书desc
技术领域本申请涉及终端设备应用领域，尤其涉及一种语音数据合成方法、终端设备以及计算机可读存储介质。背景技术文字转换成语音，多用于人机交互场景中设备向用户反馈语音信息。TTS往往涉及文字转语音的运算处理，现有的文字转语音的处理方式往往是单一的本地设备处理或云端处理。实践中发现，本地设备在进行文字转语音时，语音数据的时延虽然小，但本地设备的运算力受限，大都仅能使用简单模型进行运算，得到的语音数据的音质一般。云端虽然运算能力强，可以使用复杂模型进行运算，得到音质优秀的语音数据，但云端受网络条件的影响较大，语音数据的时延往往较大。因此，现有的文字转语音的处理效果往往较差。发明内容本申请实施例提供了一种语音数据合成方法、终端设备以及计算机可读存储介质，能够提高文字转语音的处理效果。本申请实施例第一方面提供了一种语音数据合成方法，包括：接收语音播报请求；根据所述语音播报请求向云端发送合成请求，所述合成请求用于指示所述云端运行云端语音合成进程，并通过所述云端语音合成进程对所述语音播报请求对应的语音数据进行合成；若在第一时间段内未接收到所述云端返回的目标语音数据，则运行本地语音合成进程，并通过所述本地语音合成进程对所述语音播报请求对应的语音数据进行合成。作为一种可选的实施方式，在本申请实施例第一方面中，在所述根据所述语音播报请求向云端发送合成请求之后，所述方法还包括：若在第一时间段内接收到所述云端返回的目标语音数据，则播报所述云端语音合成进程合成的语音数据。作为一种可选的实施方式，在本申请实施例第一方面中，在所述通过所述本地语音合成进程对所述语音播报请求对应的语音数据进行合成之后，所述方法还包括：若在运行所述本地语音合成进程的第二时间段内接收到所述云端返回的目标语音数据，则终止运行所述本地语音合成进程，并播报所述云端语音合成进程合成的语音数据；若在运行所述本地语音合成进程的第二时间段内依然未接收到所述云端返回的目标语音数据，则向所述云端发送终止请求，并播报所述本地语音合成进程合成的语音数据，所述终止请求用于指示所述云端终止运行所述云端语音合成进程。作为一种可选的实施方式，在本申请实施例第一方面中，所述若在运行所述本地语音合成进程的第二时间段内依然未接收到所述云端返回的目标语音数据，则向所述云端发送终止请求，包括：若在运行所述本地语音合成进程的第二时间段内依然未接收到所述云端返回的目标语音数据，且在所述第二时间段内已接收到所述本地语音合成进程合成的首帧语音数据，则向所述云端发送终止请求。作为一种可选的实施方式，在本申请实施例第一方面中，所述方法还包括：若在运行所述本地语音合成进程的第二时间段内依然未接收到所述云端返回的目标语音数据，且在所述第二时间段内未接收到所述本地语音合成进程合成的首帧语音数据，则继续等待；若首先接收到所述云端返回的目标语音数据，则终止所述本地语音合成进程，并播报所述云端语音合成进程合成的语音数据；若首先接收到所述本地语音合成进程合成的首帧语音数据，则向所述云端发送终止请求，并播报所述本地语音合成进程合成的语音数据，所述终止请求用于指示所述云端终止运行所述云端语音合成进程。作为一种可选的实施方式，在本申请实施例第一方面中，在所述接收语音播报请求之后，所述方法还包括：获取目标文本的目标融合策略，所述目标文本为所述语音播报请求对应的文本内容中的任一文本；所述若在第一时间段内未接收到所述云端返回的目标语音数据，则运行本地语音合成进程，包括：若在所述目标融合策略对应的第一时间段内未接收到所述云端返回的与所述融合策略对应的目标语音数据，则运行本地语音合成进程。作为一种可选的实施方式，在本申请实施例第一方面中，所述获取目标文本的目标融合策略，包括：从所述语音播报请求中获取策略标识；将所述策略标识指示的融合策略，确定为目标文本的目标融合策略。作为一种可选的实施方式，在本申请实施例第一方面中，所述获取目标文本的目标融合策略，包括：获取所述语音播报请求对应的业务类型；将与所述业务类型匹配的融合策略，确定为目标文本的目标融合策略。作为一种可选的实施方式，在本申请实施例第一方面中，所述获取目标文本的目标融合策略，包括：利用预设的文本特征匹配库，对所述目标文本进行文本特征匹配，以得到所述目标文本的文本特征；将与所述文本特征匹配的融合策略，确定为目标文本的目标融合策略。作为一种可选的实施方式，在本申请实施例第一方面中，所述目标融合策略包括延迟优先融合策略，与所述延迟优先融合策略对应的目标语音数据包括所述目标文本对应的首帧语音数据。作为一种可选的实施方式，在本申请实施例第一方面中，所述目标融合策略包括数据优先融合策略，与所述数据优先融合策略对应的目标语音数据包括所述目标文本对应的全部语音数据。本申请实施例第二方面提供了一种终端设备，包括：获取单元，用于接收发送的语音播报请求；处理单元，用于根据所述语音播报请求向云端发送合成请求，所述合成请求用于指示所述云端运行云端语音合成进程，并通过所述云端语音合成进程对所述语音播报请求对应的语音数据进行合成；所述处理单元，还用于若在第一时间段内未接收到所述云端返回的目标语音数据，则运行本地语音合成进程，并通过所述本地语音合成进程对所述语音播报请求对应的语音数据进行合成。本申请实施例第三方面提供了一种终端设备，可以包括：存储有可执行程序代码的存储器；以及所述存储器耦合的处理器；所述处理器调用所述存储器中存储的所述可执行程序代码，所述可执行程序代码被所述处理器执行时，使得所述处理器实现如本申请实施例第一方面所述的方法。本申请实施例第四方面提供一种计算机可读存储介质，其上存储有可执行程序代码，所述可执行程序代码被处理器执行时，实现如本申请实施例第一方面所述的方法。本申请实施例第五方面公开一种计算机程序产品，当该计算机程序产品在计算机上运行时，使得该计算机执行本申请实施例第一方面公开的任意一种所述的方法。本申请实施例第六方面公开一种应用发布平台，该应用发布平台用于发布计算机程序产品，其中，当该计算机程序产品在计算机上运行时，使得该计算机执行本申请实施例第一方面公开的任意一种所述的方法。从以上技术方案可以看出，本申请实施例具有以下优点：在本申请实施例中，首先接收语音播报请求，然后根据该语音播报请求向云端发送合成请求，该合成请求用于指示云端运行云端语音合成进程，并通过该云端语音合成进程对语音播报请求对应的语音数据进行合成，以及在第一时间段内未接收到云端返回的目标语音数据时，则运行本地语音合成进程，并通过该本地语音合成进程对该语音播报请求对应的语音数据进行合成。优先通过云端进行语音数据合成，有利于提高语音数据的音质；另外，若在第一时间段内未接收到云端返回的目标语音数据，说明云端当前的数据处理情况较差，则启动本地语音合成进程，可以避免因云端未及时反馈目标语音数据造成的处理效率低的问题。因此，通过实施该方法，将云端与本地的语音数据合成方式进行结合，同时兼顾语音数据的质量和处理效率，有利于优化文字转语音的处理效果。附图说明为了更清楚地说明本申请实施例技术方案，下面将对实施例和现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，还可以根据这些附图获得其它的附图。图1A是本申请实施例公开的一种语音数据合成方法的场景示意图；图1B是本申请实施例公开的一种语音数据合成方法的时序图；图2是本申请实施例公开的一种语音合成方法的流程示意图；图3是本申请实施例公开的另一种语音数据合成方法的流程示意图；图4是本申请实施例公开的又一种语音数据合成方法的流程示意图；图5是本申请实施例公开的延迟优先融合策略对应的语音合成方法的流程示意图；图6是本申请实施例公开的数据优先融合策略对应的语音合成方法的流程示意图；图7是本申请实施例公开的终端设备的一种结构框图；图8是本申请实施例公开的终端设备的另一种结构框图；图9是本申请实施例公开的终端设备的又一种结构框图。具体实施方式本申请实施例提供了一种语音数据合成方法、终端设备以及计算机可读存储介质，能够优化文字转语音的处理效果。为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行描述，显然，所描述的实施例仅仅是本申请一部分的实施例，而不是全部的实施例。基于本申请中的实施例，都应当属于本申请保护的范围。可以理解的是，本申请实施例中所涉及的终端设备可以包括一般的电子终端设备，诸如手机、智能电话、便携式终端、终端、个人数字助理、便携式多媒体播放器装置、笔记本电脑、笔记本、无线宽带终端、平板电脑、智能PC、销售终端和车载终端等。终端设备也可以包括可穿戴设备。可穿戴设备可以直接穿戴在用户身上，或是整合到用户的衣服或配件的一种便携式电子设备。可穿戴设备不仅仅是一种硬件设备，更可以通过软件支持以及数据交互、云端交互来实现强大的智能功能，比如：计算功能、定位功能、报警功能，同时还可以连接手机及各类终端。可穿戴设备可以包括但不限于以手腕为支撑的watch类，以脚为支撑的shoes类，以头部为支撑的Glass类以及智能服装，书包、拐杖、配饰等各类非主流产品形态。下面以实施例的方式，对本申请技术方案做进一步的说明。请参阅图1A，图1A是本申请实施例公开的一种语音数据合成方法的场景示意图。如图1所示的场景示意图包括和云端200，云端200可指的是云服务器，云服务器可提供简单高效、安全可靠、处理能力强的计算服务，该云端200可包括一个或多个云端服务器。请参阅图1B，图1B是本申请实施例公开的一种语音数据合成方法的时序图。终端设备100在接收到安装的任一应用程序发送的语音播报请求时，可根据该语音播报请求向云端200发送合成请求，云端200在收到该合成请求时可以运行云端语音合成进程，以合成该语音播报请求对应的语音数据，以及向终端设备100发送合成的语音数据。若终端设备100在第一时间段内未收到云端200返回的目标语音数据，则终端设备100运行本地语音合成进程，以合成该语音播报请求对应的语音数据。终端设备100优先通过云端200得到语音数据，若未及时得到云端200返回的语音数据，则启动本地语音合成进程，这样，终端设备100在获取语音数据时，可以同时兼顾语音数据的质量和处理效率，有利于优化终端设备100文字转语音的处理效果。请参阅图2，图2是本申请实施例公开的一种语音合成方法的流程示意图。该方法可应用于上述的终端设备，该方法可以包括以下步骤：201、接收语音播报请求。在一些实施例中，终端设备可以通过语音播报请求模块接收语音播报请求，该语音播报请求模块可以为终端设备的一个功能服务模块。需要说明的是，该功能服务模块可供运行于终端设备上的应用程序调用。具体的，用户可以通过语音、手势或触摸等操作方式操作应用程序，应用程序在检测到用户操作时，向该语音播报请求模块发送语音播报请求。示例性的，该应用程序可包括但不限于导航类应用程序、学习类应用程序、通讯类应用程序等。若该应用程序为学习类应用程序，则该语音播报请求可以包括用于指示播报待学习内容对应语音数据的指示信息。若该应用程序为导航类应用程序，则该语音播报请求可包括用于指示导航信息对应语音数据的指示信息，该导航信息可包括起始地位置信息、目的地位置信息、导航路线等；若该应用程序为通讯类应用，则该语音播报请求可包括用于指示播报文字通讯内容对应的语音数据的指示信息等。202、根据语音播报请求向云端发送合成请求，该合成请求用于指示云端运行云端语音合成进程，并通过云端语音合成进程对语音播报请求对应的语音数据进行合成。在一些实施例中，上述合成请求可以包括语音数据的指示信息对应的一条或多条文本内容，该合成请求可用于指示云端通过云端语音合成进程对该文本内容对应的语音数据进行合成。示例性的，若应用程序为导航类应用程序，用户语音输入“如何驾车从A地到B地”，该应用程序发送给语音播报请求模块的语音播报请求可以包括文本内容“沿c段路直行7公里，再左转，进入d路段，继续直行8公里”，该合成请求可以包括“沿c段路直行7公里”。在本申请实施例中，云端在接收到一条或多条文本内容时，可以利用运行于云端的转换引擎对接收到的文本内容进行语音合成。需要说明的是，运行于云端的转换引擎所涉及的转化模型是非常复杂的，因此，云端语音合成进程得到的语音数据的音质较为优质。203、若在第一时间段内未接收到云端返回的目标语音数据，则运行本地语音合成进程，并通过本地语音合成进程对语音播报请求对应的语音数据进行合成。在本申请实施例中，终端设备可以预设有第一时间段，该第一时间段可指的是离线合成的启动延迟时间段。目标语音数据可以包括文本内容对应的目标帧语音数据。示例性的，目标帧语音数据可以是合成请求所包含的文本内容对应的首帧语音数据、前3帧语音数据、前10帧语音数据或全部帧语音数据等。可选的，目标帧语音数据可以根据实际需求进行设置，或者由终端设备根据网络情况智能设置，本申请实施例不做限定。在一些实施例中，第一时间段的大小可以与目标语音数据所包括的帧数呈正相关关系，可以理解的是，目标语音数据所包括的帧数越多，第一时间段越长，反之，则越短。可以理解的是，终端设备若在第一时间段内未收到目标语音数据，说明云端当前的数据处理情况较差，例如，可能是网络状况较差，或是云端的负载较大等导致出现语音数据处理效率低的情况，为了保证及时播报语音数据，终端设备可以运行本地语音合成进程，通过本地语音合成进程进行离线的语音数据合成。在一些实施例中，终端设备若在第一时间段内未接收到云端返回的目标语音数据，则播报云端语音合成进程合成的语音数据。通过实施上述方法，终端设备优先通过云端进行语音数据合成，有利于提高语音数据的音质；另外，若在第一时间段内未接收到云端返回的目标语音数据，说明云端当前的数据处理情况较差，则启动本地语音合成进程，可以避免因云端未及时反馈目标语音数据造成的处理效率低的问题。因此，将云端与本地的语音数据合成方式进行结合，同时兼顾语音数据的质量和处理效率，有利于优化文字转语音的处理效果。请参阅图3，图3是本申请实施例公开的另一种语音数据合成方法的流程示意图。可以包括以下步骤：301、接收语音播报请求。302、获取目标文本的目标融合策略，该目标文本为语音播报请求对应的文本内容中的任一文本。在一些实施例中，目标融合策略可以包括延迟优先融合策略或数据优先融合策略。其中，延迟优先融合策略是以播报延迟作为优先的策略，针对的是延迟敏感型TTS业务，延迟敏感型TTS业务指示的是对数据时延要求比较高的业务，例如人机对话。数据优先融合策略是以播报数据完整性作为优先的策略，针对的是数据完整性敏感型TTS业务，数据完整性敏感型TTS业务指示的是对数据完整性要求比较高的业务，例如导航业务。在一些实施例中，终端设备获取目标文本的目标融合策略的方式可以包括但不限于以下方式：方式1、终端设备从语音播报请求中获取策略标识，并将策略标识指示的融合策略，确定为目标文本的目标融合策略。在本申请实施例中，语音播报请求可以包括目标文本和指示该目标融合策略的策略标识。可选的，策略标识可以包括数字、文本或特殊字符中一种或几种的组合。在一些实施例中，应用程序在检测到用户操作时，可以基于用户操作得到目标文本，并自主设置该目标文本的目标融合策略，以及根据该目标文本和目标融合策略生成语音播报请求，最后向语音播报请求模块发送该语音播报请求。可以理解的是，若应用程序为天气查询应用程序，在检测用户用于查询天气的操作时，该应用程序得到指示天气的目标文本，并设置目标文本的融合策略为延迟优先融合策略，则天气查询应用程序生成的语音播报请求可以包括指示天气的目标文本和延迟优先融合策略对应的策略标识。通过实施该方法，应用程序可以基于自身业务需求自主设置融合策略，使得语音数据的合成可以更加贴合实际需求。方式2、终端设备获取语音播报请求对应的业务类型，并将与业务类型匹配的融合策略，确定为目标文本的目标融合策略。若终端设备通过语音播报请求模块接收到语音播报请求，语音播报请求对应的业务类型即为发送该语音播报请求的应用程序对应的业务类型。在一些实施例中，业务类型可以包括延迟敏感型TTS业务或数据完整性敏感型TTS业务。示例性的，若应用程序是天气查询应用程序，则语音播报请求对应的业务类型为延迟敏感型TTS业务，若应用程序是导航类应用程序，则语音播报请求对应的业务类型为数据完整性敏感型TTS业务。在一些实施例中，终端设备可以预先存储第一融合策略库，该第一融合策略库可以包括多种融合策略，以及每一融合策略对应的应用程序。在一些实施例中，语音播报请求中可以包括应用程序的应用标识，终端设备可以通过语音播报请求中的应用标识，识别该应用程序，进而在第一融合策略库中查找该该应用程序对应的融合策略。在一些实施例中，应用标识可以包括数字、文本以及特殊字符中的任一种或几种。通过实施该方法，终端设备可以基于业务类型实现融合策略的智能确定，有利于提高终端设备合成语音数据的智能化程度。方式3、终端设备利用预设的文本特征匹配库，对目标文本进行文本特征匹配，以得到目标文本的文本特征；将与该文本特征匹配的融合策略，确定为目标文本的目标融合策略。在本申请实施例中，文本特征可以包括延迟敏感型文本和数据敏感型文本等。在一些实施例中，终端设备可以预先设置有第二融合策略库，该第二融合策略库记录有多种预设文本特征，以及每一预设文本特征对应的融合策略。可选的，终端设备可以识别目标文本中的关键文本，并从关键文本中提取目标文本的文本特征，可将目标文本的文本特征与第二融合策略库中记录的各个预设文本特征进行匹配，并确定与目标文本的文本特征匹配的预设文本特征，最后再根据该匹配的预设文本特征确定目标文本的目标融合策略。作为另一种实施方式，终端设备可以对目标文本进行字符识别，进而基于字符识别结果得到业务类型，最后再根据业务类型确定目标文本的目标融合策略。实践中发现，针对数据完整性敏感型TTS业务，多数的文本属于数据敏感型文本，即指示路径的文本，但也存在少数延迟敏感型文本即指示行驶安全的文本，因此，基于目标文本的文本特征来确定目标文本的目标融合策略，可以进一步细化针对融合策略的分析粒度，使得语音数据的合成进一步贴合实际需求。303、根据语音播报请求向云端发送合成请求，该合成请求用于指示云端运行云端语音合成进程，并通过云端语音合成进程对语音播报请求对应的语音数据进行合成。其中，关于步骤301和步骤303的描述，请参照图2所示方法中步骤201和步骤202的介绍，此处不做限定。304、若在目标融合策略对应的第一时间段内未接收到云端返回的与目标融合策略对应的目标语音数据，则运行本地语音合成进程，并通过本地语音合成进程对语音播报请求对应的语音数据进行合成。不同融合策略可根据相应的业务需求，分别设置不同的目标语音数据及第一时间段。在本申请实施例中，若目标融合策略为延迟优先融合策略，则延迟优先融合策略对应的目标语音数据可以包括目标文本对应的首帧语音数据。若目标融合策略为数据优先融合策略，则数据优先融合策略对应的目标语音数据可以包括目标文本对应的所有语音数据。在本申请实施例中，因为延迟优先融合策略是以播报延迟作为优先的策略，更加强调获取语音数据的效率，所以，延迟优先融合策略对于云端返回的语音数据的等待时间一般较短。数据优先融合策略是以播报数据完整性作为优先的策略，更加强调语音数据的完整性，所以数据优先融合策略对于云端返回的语音数据的等待时间一般较长。因此，在一些实施例中，延迟优先融合策略对应的第一时间段可以小于数据优先融合策略对应的第一时间段。在一些实施例中，若在目标融合策略对应的第一时间段内未接收到云端返回的与目标融合策略对应的目标语音数据，终端设备可以向云端发送终止请求，该终止请求用于指示云端终止运行该云端语音合成进程，也即运行本地语音合成进程时，运行于云端的云端语音合成进程已取消，那么，后续播报的语音数据通过本地语音合成进程得到。在一些实施例中，若在目标融合策略对应的第一时间段内未接收到云端返回的与目标融合策略对应的目标语音数据，在运行本地语音合成进程时，云端的云端语音合成进程可以持续运行，那么，后续播报的语音数据通过本地语音合成进程/云端语音合成进程得到。通过实施上述方法，将云端与本地的语音数据合成方式进行结合，同时兼顾语音数据的质量和处理效率，有利于优化文字转语音的处理效果。另外，终端设备可以基于语音播报请求确定目标文本的目标融合策略，进而按照目标融合策略的指示合成目标文本的语音数据，有利于提高了语音数据合成的灵活性，进而使得语音数据合成更加贴合业务需求。请参阅图4，图4是本申请实施例公开的又一种语音数据合成方法的流程示意图。可以包括：401、接收语音播报请求。402、获取目标文本的目标融合策略，该目标文本为语音播报请求对应的文本内容中的任一文本。403、根据语音播报请求向云端发送合成请求，该合成请求用于指示云端运行云端语音合成进程，并通过云端语音合成进程对语音播报请求对应的语音数据进行合成。404、判断在目标融合策略对应的第一时间段内是否接收到云端返回的与目标融合策略对应的目标语音数据，若是，则执行步骤405，若否，则执行步骤406-步骤407。405、播报云端语音合成进程合成的语音数据。406、运行本地语音合成进程，并通过该本地语音合成进程对语音播报请求对应的语音数据进行合成。其中，关于步骤401-步骤406的描述，请参照图3所示的步骤301-步骤304，此处不再赘述。407、判断在运行本地语音合成进程的第二时间段内是否接收到云端返回的与目标融合策略对应的目标语音数据，若是，则执行步骤408，若否，则执行步骤409。需要说明的是，若步骤407的判断结果为否，终端设备可以向云端发送终止请求。可选的，终端设备可以直接向云端发送终止请求；或者，执行步骤409。在本申请实施例中，为了尽可能提高语音数据的音质，可以设置针对云端语音合成进程的宽限时段，即第二时间段，第二时间段的大小决定了播放的语音数据来源于云端语音合成进程的比重，具体的，第二时间段越大，播放的语音数据来源于云端语音合成进程的比重越大，反之，则越小。可选的，第二时间段的确定方式可以包括但不限于以下方式：终端设备通过语音播报请求模块进行确定；终端设备根据语音播报请求模块的业务类型进行确定。示例性的，若语音播报请求模块的业务类型为延迟敏感型TTS业务，则第二时间段较短，若语音播报请求模块的业务类型为数据完整性敏感型TTS业务，则第二时间段较长。终端设备根据目标文本进行确定。可选的，终端设备可以根据目标文本的复杂度和/或文本长度进行确定。目标文本的复杂度可以与目标文本所包括的文本类型的个数相关。其中，目标文本的复杂度越大，文本长度越长，第二时间段越长。终端设备根据网络信号强度进行确定。可选的，网络信号越强，第二时间段越短，反之，第二时间段越长。终端设备根据终端设备所处的位置信息进行确定。具体的，若终端设备所处的位置信息为强网区域，则第二时间段越短，反之，第二时间段越长。若终端设备处于移动状态，终端设备可以根据移动速度进行确定。具体的，移动速度越快第二时间段越长，反之，第二时间段越短。可以理解的是，终端设备移动速度越快，终端设备的网络变差的概率较大，反之，终端设备的网络变差的概率较小。408、终止运行本地语音合成进程，并播报云端语音合成进程合成的语音数据。在本申请实施例中，在目标融合策略为延迟优先融合策略时，当在运行本地语音合成进程的第二时间段内接收到云端返回的目标文本对应的首帧语音数据，则播报该首帧语音数据。可以理解的是，若目标文本对应的语音数据包括n帧，终端设备接收到云端返回的一帧语音数据，则播放一帧语音数据。在本申请实施例中，在目标融合策略为数据优先融合策略时，当在运行本地语音合成进程的第二时间段内接收到云端返回的目标文本对应的全部语音数据，则播报该全部语音数据。可以理解的是，若目标文本对应的语音数据包括n帧，终端设备在接收到云端返回的n帧语音数据时，则播放该n帧语音数据据。409、判断在第二时间段内是否接收到本地语音合成进程合成的首帧语音数据，若是，执行步骤410，若否，执行步骤411/步骤412。410、向云端发送终止请求，并播报本地语音合成进程合成的语音数据，该终止请求用于指示所述云端终止运行所述云端语音合成进程。在本申请实施例中，若目标融合策略为延迟优先融合策略，终端设备通过本地语音合成进程得到目标文本对应的一帧语音数据，则播报该帧语音数据。若目标融合策略为数据优先融合策略，终端设备通过本地语音合成进程得到目标文本对应的一帧语音数据，则播报该帧语音数据，或者，终端设备在通过本地语音合成进程得到目标文本对应的所有语音数据时，则播报目标文本对应的所有语音数据。411、若首先接收到所述云端返回的目标语音数据，则终止本地语音合成进程，并播报云端语音合成进程合成的语音数据。412、若首先接收到本地语音合成进程合成的首帧语音数据，则向云端发送终止请求，并播报本地语音合成进程合成的语音数据。请参阅图5，图5是本申请实施例公开的延迟优先融合策略对应的语音合成方法的流程示意图。请参阅图6，图6是本申请实施例公开的数据优先融合策略对应的语音合成方法的流程示意图。通过实施上述方法，将云端与本地的语音数据合成方式进行结合，同时兼顾语音数据的质量和处理效率，有利于优化文字转语音的处理效果。另外，终端设备可以基于语音播报请求确定目标文本的目标融合策略，进而按照目标融合策略的指示合成目标文本的语音数据，有利于提高了语音数据合成的灵活性，进而使得语音数据合成更加贴合业务需求。进一步的，通过设置针对云端语音合成进程的宽限时间段，可以加大播放的语音数据来源于云端语音合成进程的比重，有利于进一步提高语音数据的音质。请参阅图7，图7是本申请实施例公开的终端设备的一种结构框图，可以包括获取单元701和处理单元702。其中：获取单元701，用于接收发送的语音播报请求；处理单元702，用于根据该语音播报请求向云端发送合成请求，合成请求用于指示云端运行云端语音合成进程，并通过云端语音合成进程对语音播报请求对应的语音数据进行合成；处理单元702，还用于若在第一时间段内未接收到云端返回的目标语音数据，则运行本地语音合成进程，并通过本地语音合成进程对语音播报请求对应的语音数据进行合成。请参阅图8，图8是本申请实施例公开的终端设备的又一种结构框图，可以包括获取单元701、处理单元702以及播放单元703。其中：关于获取单元701和处理单元702，请参照图7所示的终端设备的描述，此处不再赘述。播放单元703，用于若在第一时间段内接收到云端返回的目标语音数据，则播报云端语音合成进程合成的语音数据。在一些实施中，播放单元703，还用于若在运行本地语音合成进程的第二时间段内接收到云端返回的目标语音数据，则终止运行本地语音合成进程，并播报云端语音合成进程合成的语音数据；以及，若在运行本地语音合成进程的第二时间段内依然未接收到云端返回的目标语音数据，则向云端发送终止请求，并播报本地语音合成进程合成的语音数据，该终止请求用于指示云端终止运行云端语音合成进程。在一些实施例中，播放单元703，具体用于若在运行所述本地语音合成进程的第二时间段内依然未接收到云端返回的目标语音数据，且在第二时间段内已接收到本地语音合成进程合成的首帧语音数据，则向云端发送终止请求。在一些实施例中，播放单元703，还用于若在运行本地语音合成进程的第二时间段内依然未接收到云端返回的目标语音数据，且在第二时间段内未接收到本地语音合成进程合成的首帧语音数据，则继续等待；以及，若首先接收到云端返回的目标语音数据，则终止本地语音合成进程，并播报云端语音合成进程合成的语音数据；以及，若首先接收到本地语音合成进程合成的首帧语音数据，则向云端发送终止请求，并播报本地语音合成进程合成的语音数据，该终止请求用于指示云端终止运行云端语音合成进程。在一些实施例中，获取单元701，还用于在接收语音播报请求之后，获取目标文本的目标融合策略，目标文本为语音播报请求对应的文本内容中的任一文本。进一步的，处理单元702，具体用于若在目标融合策略对应的第一时间段内未接收到云端返回的与目标融合策略对应的目标语音数据，则运行本地语音合成进程。在一些实施例中，获取单元701用于获取目标文本的目标融合策略的方式可以包括但不限于以下方式：获取单元701，具体用于从语音播报请求中获取策略标识，并将该策略标识指示的融合策略，确定为目标文本的目标融合策略。获取单元701，具体用于获取语音播报请求对应的业务类型，并将与该业务类型匹配的融合策略，确定为目标文本的目标融合策略。获取单元701，具体用于利用预设的文本特征匹配库，对目标文本进行文本特征匹配，以得到目标文本的文本特征，并将与该文本特征匹配的融合策略，确定为目标文本的目标融合策略。在一些实施例中，目标融合策略可以包括延迟优先融合策略，与延迟优先融合策略对应的目标语音数据包括目标文本对应的首帧语音数据。在一些实施例中，目标融合策略可以包括数据优先融合策略，与数据优先融合策略对应的目标语音数据包括目标文本对应的全部语音数据。请参阅图9，图9是本申请实施例公开的终端设备的又一种结构框图。包括：处理器901和存储器902。其中，处理器901具有以下功能：接收发送的语音播报请求；根据该语音播报请求向云端发送合成请求，合成请求用于指示云端运行云端语音合成进程，并通过云端语音合成进程对语音播报请求对应的语音数据进行合成；若在第一时间段内未接收到云端返回的目标语音数据，则运行本地语音合成进程，并通过本地语音合成进程对语音播报请求对应的语音数据进行合成。在一些实施例中，处理器901还具有以下功能：若在第一时间段内接收到云端返回的目标语音数据，则播报云端语音合成进程合成的语音数据。在一些实施例中，处理器901还具有以下功能：若在运行本地语音合成进程的第二时间段内接收到云端返回的目标语音数据，则终止运行本地语音合成进程，并播报云端语音合成进程合成的语音数据；若在运行本地语音合成进程的第二时间段内依然未接收到云端返回的目标语音数据，则向云端发送终止请求，并播报本地语音合成进程合成的语音数据，该终止请求用于指示云端终止运行云端语音合成进程。在一些实施例中，处理器901还具有以下功能：若在运行所述本地语音合成进程的第二时间段内依然未接收到云端返回的目标语音数据，且在第二时间段内已接收到本地语音合成进程合成的首帧语音数据，则向云端发送终止请求。在一些实施例中，处理器901还具有以下功能：若在运行所述本地语音合成进程的第二时间段内依然未接收到所述云端返回的目标语音数据，且在所述第二时间段内未接收到所述本地语音合成进程合成的首帧语音数据，则继续等待；若首先接收到所述云端返回的目标语音数据，则终止所述本地语音合成进程，并播报所述云端语音合成进程合成的语音数据；若首先接收到所述本地语音合成进程合成的首帧语音数据，则向所述云端发送终止请求，并播报所述本地语音合成进程合成的语音数据，所述终止请求用于指示所述云端终止运行所述云端语音合成进程。在一些实施例中，处理器901还具有以下功能：在接收语音播报请求之后，获取目标文本的目标融合策略，目标文本为语音播报请求对应的文本内容中的任一文本。若在目标融合策略对应的第一时间段内未接收到云端返回的与目标融合策略对应的目标语音数据，则运行本地语音合成进程。在一些实施例中，处理器901还具有以下功能：从语音播报请求中获取策略标识，并将该策略标识指示的融合策略，确定为目标文本的目标融合策略。在一些实施例中，处理器901还具有以下功能：获取语音播报请求对应的业务类型，并将与该业务类型匹配的融合策略，确定为目标文本的目标融合策略。在一些实施例中，处理器901还具有以下功能：利用预设的文本特征匹配库，对目标文本进行文本特征匹配，以得到目标文本的文本特征，并将与该文本特征匹配的融合策略，确定为目标文本的目标融合策略。在一些实施例中，目标融合策略可以包括延迟优先融合策略，与延迟优先融合策略对应的目标语音数据包括目标文本对应的首帧语音数据。在一些实施例中，目标融合策略可以包括数据优先融合策略，与数据优先融合策略对应的目标语音数据包括目标文本对应的全部语音数据。存储器902具有以下功能：存储处理器901的处理过程和处理结果。本申请实施例公开一种计算机可读存储介质，其存储计算机程序，该计算机程序被处理器执行时实现上述方法实施例中的任一方法。本申请实施例公开一种计算机程序产品，该计算机程序产品包括存储了计算机程序的非瞬时性计算机可读存储介质，且该计算机程序可操作来使计算机执行上述方法实施例中的任一方法。本申请实施例公开一种应用发布平台，其中，应用发布平台用于发布计算机程序产品，其中，当计算机程序产品在计算机上运行时，使得计算机执行上述方法实施例中的任一方法。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机程序指令时，全部或部分地产生按照本发明实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一计算机可读存储介质传输，例如，所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线)或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存储的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质，、光介质、或者半导体介质)等。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统，装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本发明所提供的几个实施例中，应该理解到，所揭露的系统，装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
