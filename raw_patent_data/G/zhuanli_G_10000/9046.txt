标题title
发动机台架试验温度边界控制系统、方法及存储介质
摘要abst
本发明公开了一种发动机台架试验温度边界控制系统、方法及存储介质。方法包括：建立台架温控设备换热模型及发动机换热需求预测模型；发动机换热需求预测模型根据发动机的工况实时计算当前工况的需求换热量，包括中冷需求换热量；台架温控设备换热模型根据中冷需求换热量计算中冷后温度控制器的加热量和/或冷却量；根据加热量计算中冷后温度控制器的加热器功率，根据冷却量计算中冷后温度控制器中换热器的换热系数及影响换热系数h的可变控制参数，可变控制参数包括循环泵的流量及三通比例阀的开度；根据之前步骤中计算的控制参数对中冷后温度控制器进行控制，以控制发动机的温度边界。本发明能使台架温控设备跟随发动机工况变化同步调整换热量。
权利要求书clms
1.一种发动机台架试验温度边界控制系统，其特征在于，包括：台架自动化控制系统，用于发动机台架试验的自动化控制；油门踏板，与所述台架自动化控制系统连接，以通过所述台架自动化控制系统控制所述油门踏板的开度；发动机组件，与所述油门踏板连接，能依据所述油门踏板的信号调节发动机负荷；测功机，与所述发动机组件及所述台架自动化控制系统连接；换热量计算模块，用于计算发动机在当前工况下的需求换热量；台架温控设备，与所述发动机组件及所述换热量计算模块连接，用于调节发动机温度边界，包括进气温度湿度控制器、中冷后温度控制器、冷却水温度控制器、机油温度控制器及排气温度冷却器；其中，所述中冷后温度控制器包括：储水箱、循环泵、冷冻水换热器、加热器、三通比例阀、中冷器喷淋箱；所述循环泵的进水口与所述储水箱连接，所述循环泵的出水口出来的冷却水分为两路，其中一路经过所述加热器后流至所述三通比例阀的其中一个入口，其中另一路经过所述冷冻水换热器后流至所述三通比例阀的另一个入口，两路冷却水从所述三通比例阀出来后汇合流经所述中冷器喷淋箱后流回至所述储水箱；所述发动机的进气流经所述中冷器喷淋箱与所述冷却水换热；冷冻水流经所述冷冻水换热器与所述冷却水换热。2.一种基于权利要求1所述发动机台架试验温度边界控制系统的发动机台架试验温度边界控制方法，其特征在于，包括如下步骤：S100、在换热量计算模块中建立台架温控设备换热模型及发动机换热需求预测模型；S200、发动机换热需求预测模型根据发动机的工况实时计算当前工况的需求换热量，所述需求换热量包括中冷需求换热量Qicd；S300、台架温控设备换热模型根据中冷需求换热量Qicd计算所述中冷后温度控制器的加热量Qheat及冷却量Qcool；S400、根据所述加热量Qheat计算所述中冷后温度控制器的加热器功率P，根据所述冷却量Qcool计算所述中冷后温度控制器中换热器的换热系数h及影响换热系数h的可变控制参数，可变控制参数包括循环泵的流量qm及三通比例阀的开度Pv；S500、台架自动化控制系统根据步骤S200至步骤S400中计算的控制参数对中冷后温度控制器进行控制，以控制发动机的温度边界。3.根据权利要求2所述的发动机台架试验温度边界控制方法，其特征在于，所述中冷后温度控制器中有如下热量公式：Qic＝Qheat+Qcool+Qother 其中，Qic为冷却水与发动机进气之间的换热器的换热量，Qheat为加热器对冷却水的加热量，Qcool为冷冻水换热器对冷却水的换热量，Qother为管路的散热损失。4.根据权利要求3所述的发动机台架试验温度边界控制方法，其特征在于，所述中冷后温度控制器中换热器的单位时间换热量通过如下公式计算：Qj＝hAj 其中，h为换热系数；A为换热面积；换热器两侧的介质温度分别为Thigh和Tlow。5.根据权利要求4所述的发动机台架试验温度边界控制方法，其特征在于，换热系数h与循环泵流量qm和三通比例阀开度Pv之间的函数关系为：h＝f 。6.根据权利要求5所述的发动机台架试验温度边界控制方法，其特征在于，所述加热器的单位时间加热量公式为：Qh eat＝P·η 其中，P为加热器功率，η为加热器效率。7.根据权利要求6所述的发动机台架试验温度边界控制方法，其特征在于，所述台架温控设备换热模型根据公式至公式建立。8.根据权利要求2所述的发动机台架试验温度边界控制方法，其特征在于，所述发动机换热需求预测模型通过数学模型、物理仿真模型或数学与物理结合模型建立。9.根据权利要求8所述的发动机台架试验温度边界控制方法，其特征在于，所述物理仿真模型建立的方式为：压气机在对发动机进气进行压缩的同时会使进气温度升高，其满足如下关系：其中，Tc为压气机出口温度，ηc为压气机效率，Tci为压气机入口温度，πc为增压比，γ为等熵指数，压气机效率ηc从压气机MAP文件获取，增压比πc通过发动机实时工况参数获得；通过压气机出口温度Tc，结合下式计算所述中冷后温度控制器的换热需求：Qicd＝q.cp.其中Qicd为需求换热量，q为发动机进气流量，cp为定压比热容，Tici为中冷前温度，Tico为目标中冷后进气温度。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求2-9中任一所述的发动机台架试验温度边界控制方法。
说明书desc
技术领域本发明涉及发动机台架试验技术领域，尤其涉及一种发动机台架试验温度边界控制系统、方法及存储介质。背景技术发动机台架试验过程中需要根据发动机工况调节发动机温度边界。在发动机台架试验的数据测量过程中，还需要维持温度边界的稳定。这些温度边界通常会按照国家标准或设计目标来进行变温控制。目前的控温设备通常采用PID控制，主要通过检测实际温度边界与目标温度边界的差值来增加控温设备的冷却量或加热量。这种控制方式存在调整时间长、超调量大、设备能耗高等缺点。发动机调节到目标工况后需要较长时间，等待温度边界调节稳定后才能测量和记录试验数据，这样就降低了发动机试验的效率。因此，亟待提供一种发动机台架试验温度边界控制系统、方法及存储介质来解决上述问题。发明内容本发明的目的在于提供一种能在发动机工况改变时，使温控设备跟随发动机工况变化同步调整换热量，从而降低系统迟滞、超调和能耗，进而提升试验效率并节约能源的发动机台架试验温度边界控制方法、车辆及存储介质。为实现上述目的，提供以下技术方案：一种发动机台架试验温度边界控制系统，包括：台架自动化控制系统，用于发动机台架试验的自动化控制；油门踏板，与所述台架自动化控制系统连接，以通过所述台架自动化控制系统控制所述油门踏板的开度；发动机组件，与所述油门踏板连接，能依据所述油门踏板的信号调节发动机负荷；测功机，与所述发动机组件及所述台架自动化控制系统连接；换热量计算模块，用于计算发动机在当前工况下的需求换热量；台架温控设备，与所述发动机组件及所述换热量计算模块连接，用于调节发动机温度边界，包括进气温度湿度控制器、中冷后温度控制器、冷却水温度控制器、机油温度控制器及排气温度冷却器；其中，所述中冷后温度控制器包括：储水箱、循环泵、冷冻水换热器、加热器、三通比例阀、中冷器喷淋箱；所述循环泵的进水口与所述储水箱连接，所述循环泵的出水口出来的冷却水分为两路，其中一路经过所述加热器后流至所述三通比例阀的其中一个入口，其中另一路经过所述冷冻水换热器后流至所述三通比例阀的另一个入口，两路冷却水从所述三通比例阀出来后汇合流经所述中冷器喷淋箱后流回至所述储水箱；所述发动机的进气流经所述中冷器喷淋箱与所述冷却水换热；冷冻水流经所述冷冻水换热器与所述冷却水换热。一种基于上述发动机台架试验温度边界控制系统的发动机台架试验温度边界控制方法，包括如下步骤：S100、在换热量计算模块中建立台架温控设备换热模型及发动机换热需求预测模型；S200、发动机换热需求预测模型根据发动机的工况实时计算当前工况的需求换热量，所述需求换热量包括中冷需求换热量Qicd；S300、台架温控设备换热模型根据中冷需求换热量Qicd计算所述中冷后温度控制器的加热量Qheat及冷却量Qcool；S400、根据所述加热量Qheat计算所述中冷后温度控制器的加热器功率P，根据所述冷却量Qcool计算所述中冷后温度控制器中换热器的换热系数h及影响换热系数h的可变控制参数，可变控制参数包括循环泵的流量qm及三通比例阀的开度Pv；S500、台架自动化控制系统根据步骤S200至步骤S400中计算的控制参数对中冷后温度控制器进行控制，以控制发动机的温度边界。作为上述发动机台架试验温度边界控制方法的一种可选方案，所述中冷后温度控制器中有如下热量公式：Qic＝Qheat+Qcool+Qother其中，Qic为冷却水与发动机进气之间的换热器的换热量，Qheat为加热器对冷却水的加热量，Qcool为冷冻水换热器对冷却水的换热量，Qother为管路的散热损失。作为上述发动机台架试验温度边界控制方法的一种可选方案，所述中冷后温度控制器中换热器的单位时间换热量通过如下公式计算：Qj＝hAj其中，h为换热系数；A为换热面积；换热器两侧的介质温度分别为Thigh和Tlow。作为上述发动机台架试验温度边界控制方法的一种可选方案，换热系数h与循环泵流量qm和三通比例阀开度Pv之间的函数关系为：h＝f作为上述发动机台架试验温度边界控制方法的一种可选方案，所述加热器的单位时间加热量公式为：Qh eat＝P.η其中，P为加热器功率，η为加热器效率。作为上述发动机台架试验温度边界控制方法的一种可选方案，所述台架温控设备换热模型根据公式至公式建立。作为上述发动机台架试验温度边界控制方法的一种可选方案，所述发动机换热需求预测模型通过数学模型、物理仿真模型或数学与物理结合模型建立。作为上述发动机台架试验温度边界控制方法的一种可选方案，所述物理仿真模型建立的方式为：压气机在对发动机进气进行压缩的同时会使进气温度升高，其满足如下关系：其中，Tc为压气机出口温度，ηc为压气机效率，Tci为压气机入口温度，πc为增压比，γ为等熵指数，压气机效率ηc从压气机MAP文件获取，增压比πc通过发动机实时工况参数获得；通过压气机出口温度Tc，结合下式计算所述中冷后温度控制器的换热需求：Qicd＝q.cp.其中Qicd为需求换热量，q为发动机进气流量，cp为定压比热容，Tici为中冷前温度，Tico为目标中冷后进气温度。一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现如上所述的发动机台架试验温度边界控制方法。与现有技术相比，本发明的有益效果：本发明中换热量计算模块能实时计算发动机在不同工况下各温控设备的需求换热量，在发动机工况改变的同时，换热量计算模块通过台架自动化控制系统输送控制信息到各温控设备，使温控设备跟随发动机工况变化同步调整换热量，从而显著降低系统迟滞、超调和能耗，进而提升试验效率并节约能源。附图说明图1为本发明中发动机台架试验温度边界控制系统第一实施例的结构示意图；图2为本发明中发动机台架试验温度边界控制系统第二实施例的结构示意图；图3为本发明中中冷后温度控制器实施例的结构示意图；图4为本发明中发动机台架试验温度边界控制方法第一实施例的流程框图；图5为本发明中发动机台架试验温度边界控制方法第二实施例的流程框图。附图标记：1、换热量计算模块；2、台架自动化控制系统；3、油门踏板；4、发动机组件；5、台架温控设备；6、台架测量设备；7、测功机；8、发动机ECU标定系统；9、自动标定装置；10、储水箱，20、循环泵，30、冷冻水换热器，40、加热器，50、三通比例阀，60、中冷器喷淋箱，70、供回水管路，80、控制通讯模块。具体实施方式以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例一本发明提供一种发动机台架试验温度边界控制系统，图1为本发明中发动机台架试验温度边界控制系统第一实施例的结构示意图，如图1所示，发动机台架试验温度边界控制系统包括：台架自动化控制系统2，用于发动机台架试验的自动化控制；油门踏板3，与所述台架自动化控制系统2连接，以通过所述台架自动化控制系统2控制所述油门踏板3的开度；发动机组件4，与所述油门踏板3连接，能依据所述油门踏板3的信号调节发动机负荷；测功机7，与所述发动机组件4及所述台架自动化控制系统2连接；换热量计算模块1，用于计算发动机在当前工况下的需求换热量；台架温控设备5，与所述发动机组件4及所述换热量计算模块1连接，用于调节发动机温度边界，包括进气温度湿度控制器、中冷后温度控制器、冷却水温度控制器、机油温度控制器及排气温度冷却器。台架自动化控制系统2通过以太网、CAN总线、IO口等控制油门踏板3、台架温控设备5、测功机7的运转并获取台架测量设备6的测量数据。发动机组件4包括发动机及其电控系统，发动机组件4可以依据油门踏板3信号调节发动机负荷。如图1所示，本发明发动机台架试验温度边界控制系统第一实施例中，换热量计算模块1集成在台架自动化控制系统2中，如图2所示，本发明发动机台架试验温度边界控制系统第二实施例中，换热量计算模块1集成在自动标定装置9中。可选的，发动机ECU标定系统8和自动标定装置9通过以太网或CAN总线与台架自动化系统连接，通过ASAP3协议或CAN总线协议传输测量数据和控制命令。同时发动机ECU标定系统8还通过CAN总线或ETK线与ECU连接，用于给ECU发动控制命令并接收ECU测量的数据。如图前文所述，台架温控设备5可包括进气温度湿度控制器、中冷后温度控制器、冷却水温度控制器、机油温度控制器及排气温度冷却器，多种台架温控设备5共同完成发动机发动机台架试验温度边界的控制。本发明中以中冷后温度控制器为例，对本发明的发动机发动机台架试验温度边界控制进行说明。图3为本发明中中冷后温度控制器实施例的结构示意图，如图3所示，中冷后温度控制器包括储水箱10、循环泵20、冷冻水换热器30、加热器40、三通比例阀50、中冷器喷淋箱60。循环泵20的进水口与储水箱10连接，循环泵20的出水口出来的冷却水分为两路，其中一路经过加热器40后流至三通比例阀50的其中一个入口，其中另一路经过冷冻水换热器30后流至三通比例阀50的另一个入口，两路冷却水从三通比例阀50出来后汇合流经中冷器喷淋箱60后流回至储水箱10；中冷器喷淋箱60中的冷却水通过供回水管路70流回储水箱10。中冷后温度控制器还包括控制通讯模块80，控制通讯模块80与循环泵20及三通比例阀50连接，以实现对循环泵20和三通比例阀50的控制。发动机的进气流经中冷器喷淋箱60与冷却水换热；冷冻水流经冷冻水换热器30与冷却水换热。通过对中冷后温度控制器中循环泵20流量qm及三通比例阀50的开度Pv的调节，可控制冷却水的温度和流量，进而控制冷却水与发动机进气之间的换热量，实现发动机台架试验温度边界的控制。实施例二本发明实施例二还提供一种发动机台架试验温度边界控制方法，参考图4，发动机台架试验温度边界控制方法包括如下步骤：S1、建立台架温控设备换热模型；S2、发动机换热需求预测模型；S3、判断发动机工况是否改变；S4、若发动机工况改变，则调用发动机换热需求预测模型计算需求换热量，并调用台架温控设备换热模型计算温控设备的可变控制参数，根据可变控制参数对温控设备进行调节和控制；S5、判断发动机台架试验温度边界与目标值是否存在稳态误差，若存在，则应用PID调节进行误差修正。本发明能实时计算发动机在不同工况下各温控设备的需求换热量及温控设备的可变控制参数，上述温控设备可变控制参数计算完成后，换热量计算模块通过台架自动化控制系统发送控制参数给各温控设备，从而使各温控设备在发动机工况变化的同时调整加热量、散热量等，使发动机的温度边界尽快稳定，减少设备超调和能耗。如果调节存在稳态误差，再通过PID调节小幅修正。本发明能使温控设备跟随发动机工况变化同步调整换热量，从而显著降低系统迟滞、超调和能耗，进而提升试验效率并节约能源。在另一实施例中，如图5所示，当发动机按照试验工况计划进行自动试验和数据测量时，换热量计算模块可以在前一工况数据测量结束后就开始按照下一目标工况调节温控设备的换热量，忽略过渡工况的换热需求响应，从而进一步降低温度边界稳定时间，提高试验效率。在又一实施例中，台架温控设备以中冷后温度控制器为例来进行详细说明，又一实施例中，结合图3，发动机台架试验温度边界控制方法包括如下步骤：S10、在换热量计算模块中建立台架温控设备换热模型及发动机换热需求预测模型；S20、发动机换热需求预测模型根据发动机的工况实时计算当前工况的需求换热量，所述需求换热量包括中冷需求换热量Qicd；S30、台架温控设备换热模型根据中冷需求换热量Qicd计算所述中冷后温度控制器的加热量Qheat及冷却量Qcool；S40、根据所述加热量Qheat计算所述中冷后温度控制器的加热器功率P，根据所述冷却量Qcool计算所述中冷后温度控制器中换热器的换热系数h及影响换热系数h的可变控制参数，可变控制参数包括循环泵的流量qm及三通比例阀的开度Pv；S50、台架自动化控制系统根据步骤S20至步骤S40中计算的控制参数对中冷后温度控制器进行控制，以控制发动机的温度边界。具体的，由于中冷后温度控制器中有换热器和加热器，因此台架温控设备换热模型包括换热器模型和加热器模型，换热器模型用于针对换热器的换热量和参数进行计算，加热器模型用于针对加热器的加热量和参数进行计算。中冷后温度控制器中有如下热量公式：Qic＝Qheat+Qcool+Qother其中，Qic为冷却水与发动机进气之间的换热器的换热量，参考图3，Qic也可以理解成中冷器喷淋箱60的换热量，Qheat为加热器40对冷却水的加热量，Qcool为冷冻水换热器30对冷却水的换热量，Qother为管路的散热损失。中冷后温度控制器中换热器的单位时间换热量通过如下公式计算：Qj＝hAj其中，h为换热系数；A为换热面积；换热器两侧的介质温度分别为Thigh和Tlow。换热系数h、换热面积A及换热器两侧的介质温度Thigh和Tlow均为通过模型进行计算时需要输入的参数。参考图3，这里的Qj既可以表示中冷后温度控制器中冷冻水换热器的单位时间换热量，也可以表示中冷后温度控制器中中冷器喷淋箱的单位时间换热量，冷冻水换热器和中冷器喷淋箱均为换热器。对于本例中的中冷后温度控制器而言，各换热器的换热面积A为定值，冷冻水换热器低温侧温度不随发动机工况变化，各换热器换热系数h的主要影响因素为由循环泵和三通比例阀开度控制的冷却水流经各换热器的流量，可以通过标定得到换热系数h与水泵流量qm及比例阀开度Pv之间的函数关系。换热系数h与循环泵流量qm和三通比例阀开度Pv之间的函数关系为：h＝f加热器的单位时间加热量可通过如下公式计算：Qh eat＝P.η其中，P为加热器功率，η为加热器效率。通过上述原理建立台架温控设备换热模型，本发明中台架温控设备换热模型可以使用Python等语言进行程序化，并结合试验数据对难以测量的换热系数h等参数进行标定。同时，还需要建立发动机换热需求预测模型。发动机的冷却水、机油、进气、排气均与外界存在换热。发动机换热需求预测模型通过数学模型、物理仿真模型或数学与物理结合模型建立。数学模型基于既有试验数据，可以通过查表方式进行预测，也可以先将数据拟合为函数再通过代入工况参数进行计算。物理仿真模型为基于物理原理建立的模型，以增压发动机中冷器的换热需求预测为例说明建模思路，物理仿真模型建立的方式为：压气机在对发动机进气进行压缩的同时会使进气温度升高，其满足如下关系：其中，Tc为压气机出口温度，ηc为压气机效率，Tci为压气机入口温度，πc为增压比，γ为等熵指数，压气机效率ηc从压气机MAP文件获取，增压比πc通过发动机实时工况参数获得；通过压气机出口温度Tc，结合下式计算所述中冷后温度控制器的换热需求：Qicd＝q.cp.其中Qicd为需求换热量，q为发动机进气流量，cp为定压比热容，Tici为中冷前温度，Tico为目标中冷后进气温度。本发明中的发动机换热需求预测模型可以使用Python等语言进行程序化，并结合试验数据对难以测量的参数进行标定。发动机工况发生改变时，换热量计算模块依据发动机换热需求预测模型实时计算当前工况的需求换热量，例如中冷需求换热量Qicd。进一步的，依据需求换热量和台架温控设备换热模型计算温控设备应该提供的加热量Qheat或冷却量Qcool。进一步的，依据需求加热量和加热器模型计算加热器功率P。依据需求冷却量和换热器模型计算需求换热系数h及影响换热系数的可变控制参数，可变控制参数例如中冷后温度控制器的循环泵流量qm及三通比例阀开度Pv实施例三本发明实施例三还提供一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现上述发动机台架试验温度边界控制方法。通过以上关于实施方式的描述，所属领域的技术人员可以清楚地了解到，本发明可借助软件及必需的通用硬件来实现，当然也可以通过硬件实现，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如计算机的软盘、只读存储器、随机存取存储器、闪存、硬盘或光盘等，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述的方法。上述实施例中，所包括的各个单元和模块只是按照功能逻辑进行划分的，但并不局限于上述的划分，只要能够实现相应的功能即可；另外，各功能单元的具体名称也只是为了便于相互区分，并不用于限制本发明的保护范围。注意，上述仅为本发明的较佳实施例及所运用技术原理。本领域技术人员会理解，本发明不限于这里所述的特定实施例，对本领域技术人员来说能够进行各种明显的变化、重新调整和替代而不会脱离本发明的保护范围。因此，虽然通过以上实施例对本发明进行了较为详细的说明，但是本发明不仅仅限于以上实施例，在不脱离本发明构思的情况下，还可以包括更多其他等效实施例，而本发明的范围由所附的权利要求范围决定。
