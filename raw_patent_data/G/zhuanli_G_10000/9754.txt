标题title
一种车辆定位方法及定位装置
摘要abst
本发明实施例提供了一种车辆定位方法及定位装置，解决了车辆自身定位不准确的问题。所述车辆定位方法包括：基于基础地图确定车辆的初始位置，基于所述初始位置获取所述初始位置处的高精地图；获取车辆传感器数据信息，基于所述车辆传感器数据信息和局部高精地图得到初始车道信息，基于所述初始车道信息获取车道地图；基于所述传感器数据信息和所述车道地图获得区域标牌信息；基于所述区域标牌信息确定车辆位置。
权利要求书clms
1.一种车辆定位方法，其特征在于，包括：基于基础地图确定车辆的初始位置，基于所述初始位置获取所述初始位置处的高精地图；获取车辆传感器数据信息，基于所述车辆传感器数据信息和局部高精地图得到初始车道信息，基于所述初始车道信息获取车道地图；基于所述传感器数据信息和所述车道地图获得区域标牌信息；基于所述区域标牌信息确定车辆位置。2.根据权利要求1所述的车辆定位方法，其特征在于，所述基于基础地图确定车辆的初始位置的步骤包括：使用全球导航卫星定位系统或自定位系统确定车辆的初始位置。3.根据权利要求1所述的车辆定位方法，其特征在于，所述传感器数据信息包括：测距感知结果、基础定位结果、地图信息、跨线感知信息和根据横向车道线视觉测距结果中的至少一种。4.根据权利要求1所述的车辆定位方法，其特征在于，所述基于所述车辆传感器数据信息和局部高精地图得到初始车道信息的步骤包括：将所述传感器数据信息进行预处理形成传感器数据队列；对所述传感器数据队列进行数据对齐、基础数据筛选，并确定所述初始车道信息。5.根据权利要求1所述的车辆定位方法，其特征在于，所述传感器数据信息包括跨线感知信息，所述基于所述车辆传感器数据信息和局部高精地图得到初始车道信息的步骤还包括：基于所述跨线感知信息确定车辆是否变道，若车辆变道，判定变道后的车道信息并锁定变道后的车道地图信息。6.根据权利要求1所述的车辆定位方法，其特征在于，所述基于所述传感器数据信息和所述初始车道信息获得标牌信息的步骤包括：所述传感器数据信息包括横向车道线视觉测距信息，基于所述横向车道线视觉测距信息得到第一标牌信息，基于所述初始车道信息得到第二标牌信息；将所述第一标牌信息和所述第二标牌信息进行匹配，若匹配结果在预设范围内，判定所述第一标牌信息和所述第二标牌信息相同，则所述第一标牌信息或所述第二标牌信息为所述区域标牌信息。7.根据权利要求1所述的车辆定位方法，其特征在于，所述区域标牌信息为语义唯一型标牌信息。8.根据权利要求1所述的车辆定位方法，其特征在于，所述基于所述区域标牌信息确定车辆位置的步骤包括；返回所述基础地图匹配状态码。9.一种车辆定位装置，其特征在于，包括：基础地图模块，作用为基于基础地图确定车辆的初始位置，基于所述初始位置获取所述初始位置处的高精地图；传感器处理模块，作用为获取车辆传感器数据信息；测距定位模块，作用为基于所述车辆传感器数据信息和局部高精地图得到初始车道信息，基于所述车道信息获取车道地图；基于所述传感器数据信息和所述车道地图获得区域标牌信息；融合定位模块，作用为基于所述区域标牌信息确定车辆位置。10.根据权利要求9所述的车辆定位装置，其特征在于，所述融合定位模块还作用于返回所述基础地图模块匹配状态码，并输出车辆定位结果。11.一种电子设备，其特征在于，包括存储器和处理器，所述存储器用于存储一条或多条计算机指令，其中，所述一条或多条计算机指令被所述处理器执行时实现如权利要求1-8任意一项所述的车辆定位方法。12.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机程序，所述计算机程序被处理器执行时用以实现如权利要求1-8任意一项所述的车辆定位方法。
说明书desc
技术领域本发明涉及车辆定位技术领域，具体涉及一种车辆定位方法及定位装置。背景技术高精度定位是目前高级别自动驾驶车的关键技术，以高精度定位为基础，自动驾驶车辆可以确定自身所在地图与现实世界的位置信息，从而使得车辆可以结合路型、交规等外在驾驶必须的信息，进行实际的车辆控制，如出匝道、变道、拐弯等驾驶动作。如果车辆自身定位不准确，很容易出现错过路口、撞击护栏、违反交规等危险情况，因此，如何实现车辆自身的高精度定位，确定车辆在地图，以及现实世界中的具体位置，成为自动驾驶行业要解决的核心问题之一。发明内容有鉴于此，本发明实施例提供了一种车辆定位方法及定位装置，解决了车辆自身定位不准确的问题。本发明一实施例提供的一种车辆定位方法包括：基于基础地图确定车辆的初始位置，基于所述初始位置获取所述初始位置处的高精地图；获取车辆传感器数据信息，基于所述车辆传感器数据信息和局部高精地图得到初始车道信息，基于所述初始车道信息获取车道地图；基于所述传感器数据信息和所述车道地图获得区域标牌信息；基于所述区域标牌信息确定车辆位置。在一种实施方式中，所述基于基础地图确定车辆的初始位置的步骤包括：使用全球导航卫星定位系统或自定位系统确定车辆的初始位置。在一种实施方式中，所述传感器数据信息包括：测距感知结果、基础定位结果、地图信息、跨线感知信息和根据横向车道线视觉测距结果中的至少一种。在一种实施方式中，所述基于所述车辆传感器数据信息和局部高精地图得到初始车道信息的步骤包括：将所述传感器数据信息进行预处理形成传感器数据队列；对所述传感器数据队列进行数据对齐、基础数据筛选，并确定所述初始车道信息。在一种实施方式中，所述传感器数据信息包括跨线感知信息，所述基于所述车辆传感器数据信息和局部高精地图得到初始车道信息的步骤还包括：基于所述跨线感知信息确定车辆是否变道，若车辆变道，判定变道后的车道信息并锁定变道后的车道地图信息。在一种实施方式中，所述基于所述传感器数据信息和所述初始车道信息获得标牌信息的步骤包括：所述传感器数据信息包括横向车道线视觉测距信息，基于所述横向车道线视觉测距信息得到第一标牌信息，基于所述初始车道信息得到第二标牌信息；将所述第一标牌信息和所述第二标牌信息进行匹配，若匹配结果在预设范围内，判定所述第一标牌信息和所述第二标牌信息相同，则所述第一标牌信息或所述第二标牌信息为所述区域标牌信息。在一种实施方式中，所述区域标牌信息为语义唯一型标牌信息。在一种实施方式中，所述基于所述区域标牌信息确定车辆位置的步骤包括；返回所述基础地图匹配状态码。一种车辆定位装置，包括：基础地图模块，作用为基于基础地图确定车辆的初始位置，基于所述初始位置获取所述初始位置处的高精地图；传感器处理模块，作用为获取车辆传感器数据信息；测距定位模块，作用为基于所述车辆传感器数据信息和局部高精地图得到初始车道信息，基于所述车道信息获取车道地图；基于所述传感器数据信息和所述车道地图获得区域标牌信息；融合定位模块，作用为基于所述区域标牌信息确定车辆位置。在一种实施方式中，所述融合定位模块还作用于返回所述基础地图模块匹配状态码，并输出车辆定位结果。一种电子设备，包括存储器和处理器，所述存储器用于存储一条或多条计算机指令，其中，所述一条或多条计算机指令被所述处理器执行时实现上述任意一项所述的车辆定位方法。一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，所述计算机程序被处理器执行时用以实现上述任意一项所述的车辆定位方法。本发明实施例提供的一种车辆定位方法及定位装置，所述车辆定位方法包括基于基础地图确定车辆的初始位置，基于所述初始位置获取所述初始位置处的高精地图；获取车辆传感器数据信息，基于所述车辆传感器数据信息和局部高精地图得到初始车道信息，基于所述初始车道信息获取车道地图；基于所述传感器数据信息和所述车道地图获得区域标牌信息；基于所述区域标牌信息确定车辆位置。使用本实施例提供的车辆定位方法，并重复上述步骤进行实时监控，在确定车辆初始位置的基础上，使用语义唯一型标牌信息反推车辆位置，能够提高车辆定位的准确性，还能够使得定位功能能够适应更多的应用场景，并解决对高精地图的个性化依赖，同时整体成本更便于落地和量产；且采用本发明后，可以对当前测距感知结果进行规范统一化，厂商可以根据自身技术特点和应用场景确定所选择的传感器，同时，对于高精地图的制图和使用进行明确化和统一化，实现了对于自动驾驶高精度定位技术的规范统一。附图说明图1所示为本发明一实施例提供的一种车辆定位方法的流程示意图。图2所示为本发明一实施例提供的一种车辆定位装置的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。目前在高精度定位领域，主流有三类方案：1)实时动态差分定位技术；2)视觉特征匹配定位技术；3)基于视觉、毫米波雷达、激光雷达等多传感器融合的定位技术。经本申请发明人研究发现，RTK技术受限于地理地形的影响，如多路径效应、山区、隧道等地区定位精度大大降低，不能满足多场景的应用需求；视觉特征匹配技术，单独建立视觉定位特征图层，且各家厂商因感知系统不同，感知方案不同，需要不同的视觉特征，很难标准化使用；基于视觉、毫米波雷达、激光雷达的多传感器融合技术，受限于软硬件成本，量产化的难度较高。因此，以上三种技术，在成本、场景适配、推广难度等方面均有一定的问题，目前尚无一种方案已经实现量产。针对上述问题，本发明提出一种车辆定位的方法，使得定位功能能够适应更多的应用场景，并解决对高精地图的个性化依赖，提高了定位精度，同时整体成本更便于落地和量产，具体实施方式如下述实施例所述。本发明一实施例提供一种车辆定位方法，所述车辆定位方法包括：步骤01:基于基础地图确定车辆的初始位置，基于所述初始位置获取所述初始位置处的高精地图。基于基础地图确定车辆的初始位置的方法包括：使用全球导航卫星定位系统确定车辆的初始位置，或车辆自定位系统确定车辆的初始位置。可选地，在全球导航卫星定位系统能够定位的地方，采用全球导航卫星定位系统确定车辆的初始位置；或者在一些无法使用全球导航卫星定位系统的区域，例如：隧道、立交桥下等，可以使用车辆自定位系统确定车辆初始位置。在确定车辆的初始位置之后，根据确定的初始位置获取初始位置处的局部高精地图。步骤02:获取车辆传感器数据信息，基于所述车辆传感器数据信息和局部高精地图得到初始车道信息，基于所述初始车道信息获取车道地图。实时获取车辆的传感器数据信息，其中所述传感器数据信息可以包括测距感知结果、基础定位结果、地图信息、跨线感知信息和根据横向车道线视觉测距结果中的至少一种。将所述传感器数据信息进行预处理形成传感器数据队列，对传感器数据队列进行数据对齐、基础数据筛选，并基于局部高精地图确定初始车道信息。数据对齐包括将同一时刻的传感器数据进行对齐，将对齐后的传感器数据进行基础数据筛选，筛选出所需的数据，根据筛选出的数据依据局部高精地图确定基础车道信息。其中，筛选出的数据可以包括车道线语义信息和车道线几何信息等。车道线语义信息可包括车道线颜色、线型等数据；道线几何信息包括可报考车体坐标系中心原点到车道线的距离和车道线的曲线表达等等。在确定初始车道后，将车辆所在的车道单独标出。在得到初始车道信息后，结合初始位置处的高精地图得到车道地图。其中，传感器数据信息包括跨线感知信息。基于所述车辆传感器数据信息和局部高精地图得到初始车道信息的步骤还包括：基于所述跨线感知信息确定车辆是否变道，判定当前车道信息并锁定车道地图信息。在确定初始车道信息后，实时监测跨线感知信息，如果监测结果为车辆未跨线，判定当前车道信息并锁定当前车道地图信息，基于当前车道地图信息进行后续步骤操作；如果监测结果为车辆跨线，判定变道后的车道信息并锁定变道后的车道地图信息；则基于该变道后的车道地图信息进行后续步骤操作。步骤03:基于所述传感器数据信息和所述初始车道地图获得区域标牌信息。传感器数据信息包括横向车道线视觉测距信息，根据横向车道线视觉测距信息可得到第一标牌信息；如上述实施例所述，在步骤02中根据初始车道信息可获得的车道地图信息，根据车道地图可以得到第二标牌信息；将第一标牌信息和第二标牌信息进行匹配，若匹配结果在预设范围内，判定第一标牌信息和第二标牌信息相同，则将第一标牌信息做为区域标牌信息。可选地，区域标牌信息可以为语义唯一型标牌信息，其中语义唯一型标牌信息为有唯一含义的标牌。可选地，区域标牌信息包括限速标牌、右侧合入标牌或隧道入口等等。步骤04:基于所述区域标牌信息确定车辆位置。根据区域标牌信息相对于车辆的位置以及区域标牌大小等信息，给出车体坐标系的坐标位置，进而得到车辆的精确位置。根据区域标牌信息确定车辆位置的步骤还包括返回所述基础地图匹配状态码。状态码是根据地图信息和当前车辆位置信息计算所需定位的状态，比如在"#$$信号不好的地方如隧道，则将用于确定车辆初始位置，将获取局部高精地图的定位切换成车辆自定位，以防止在信号不好的地方定位出现中断的问题。使用本实施例提供的车辆定位方法，并重复上述步骤进行实时监控，在确定车辆初始位置的基础上，使用语义唯一型标牌信息反推车辆位置，能够提高车辆定位的准确性，还能够使得定位功能能够适应更多的应用场景，并解决对高精地图的个性化依赖，同时整体成本更便于落地和量产；且采用本发明后，可以对当前测距感知结果进行规范统一化，厂商可以根据自身技术特点和应用场景确定所选择的传感器，同时，对于高精地图的制图和使用进行明确化和统一化，实现了对于自动驾驶高精度定位技术的规范统一。本发明一实施例提供一种车辆定位装置100，所述车辆定位装置100包括：基础地图模块10、传感器处理模块20、测距定位模块30和融合定位模块40。基础地图模块10作用为基于基础地图确定车辆的初始位置，基于所述初始位置获取所述初始位置处的高精地图；传感器处理模块20作用为获取车辆传感器数据信息；测距定位模块30作用为基于所述车辆传感器数据信息和局部高精地图得到初始车道信息；基于所述初始车道信息和局部高精地图获得车道地图，基于所述传感器数据信息和所述车道地图获得区域标牌信息；融合定位模块40作用为基于所述区域标牌信息确定车辆位置。本发明一实施例中，基础地图模块10使用全球导航卫星定位系统确定车辆的初始位置，或车辆自定位系统确定车辆的初始位置之后，根据初始位置获取初始位置处的局部高精地图。传感器处理模块20获取车辆传感器数据信息，测距定位模块30将所述传感器数据信息进行预处理形成传感器数据队列，对传感器数据队列进行数据对齐、基础数据筛选，并基于局部高精地图确定初始车道信息。测距定位模块30得到初始车道信息后，结合初始位置处的高精地图得到车道地图；测距定位模块30基于所述传感器数据信息和所述初始车道地图获得区域标牌信息，传感器数据信息包括横向车道线视觉测距信息，根据横向车道线视觉测距信息可得到第一标牌信息；根据车道地图可以得到第二标牌信息；测距定位模块30将第一标牌信息和第二标牌信息进行匹配，若匹配结果在预设范围内，判定第一标牌信息和第二标牌信息相同，则将第一标牌信息做为区域标牌信息。融合定位模块40根据区域标牌信息相对于车辆的位置以及区域标牌大小等信息，给出车体坐标系的坐标位置，进而得到车辆的精确位置。此外，传感器数据信息包括跨线感知信息，测距定位模块30还作用于基于所述跨线感知信息确定车辆是否变道，判定当前车道信息并锁定车道地图信息。在确定初始车道信息后，实时监测跨线感知信息，如果监测结果为车辆未跨线，判定当前车道信息并锁定当前车道地图信息，基于当前车道地图信息进行后续步骤操作；如果监测结果为车辆跨线，判定变道后的车道信息并锁定变道后的车道地图信息；则基于该变道后的车道地图信息进行后续步骤操作。此外，融合定位模块40还作用于返回所述基础地图模块10匹配状态码，并输出车辆定位结果。本发明一实施例提供一种计算机可读存储介质，本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统、装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本申请所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序校验码的介质。本发明一实施例提供一种电子设备，包括存储器和处理器，所述存储器用于存储一条或多条计算机指令，其中，所述一条或多条计算机指令被所述处理器执行时实现上述实施例中所述的车辆定位方法。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换等，均应包含在本发明的保护范围之内。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换等，均应包含在本发明的保护范围之内。
