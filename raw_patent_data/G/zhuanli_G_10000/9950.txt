标题title
一种人脸温度检测方法、装置、电子设备及存储介质
摘要abst
本发明提供一种人脸温度检测方法、装置、电子设备及存储介质，所述方法包括：获取待识别人脸图像，所述待识别人脸图像包括人脸红外热图；将所述待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到所述待识别人脸图像对应的人脸身份信息以及人脸温度信息；所述预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，所述人脸样本集中包括人脸红外热图样本。这样可以直接通过采集目标人员的人脸图像中的人脸红外热图完成对目标人员的身份识别以及体温测试，便于监控管理目标人员的体温情况。进而降低了人力成本以及提高了温度检测工作效率。
权利要求书clms
1.一种人脸温度检测方法，其特征在于，包括以下步骤：获取待识别人脸图像，所述待识别人脸图像包括人脸红外热图；将所述待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到所述待识别人脸图像对应的人脸身份信息以及人脸温度信息；所述预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，所述人脸样本集中包括人脸红外热图样本。2.如权利要求1所述的方法，其特征在于，所述人脸样本集中还包括第一人脸RGB图样本，所述预先训练好的人脸温度检测模型的训练方法包括：获取所述人脸样本集；获取预先训练好的人脸检测模型；将所述人脸样本集输入预先训练好的人脸检测模型中对所述预先训练好的人脸检测模型进行训练，并在训练过程中降低所述第一人脸RGB图样本的输入权重，以使所述预先训练好的人脸检测模型根据所述人脸红外热图样本学习到人脸温度信息的预测，以得到所述预先训练好的人脸温度检测模型。3.如权利要求2所述的方法，其特征在于，所述将所述人脸样本集输入预先训练好的人脸检测模型中对所述预先训练好的人脸检测模型进行训练，并在训练过程中降低所述第一人脸RGB图样本的输入权重，包括：对所述预先训练好的人脸检测模型进行减枝处理，以使所述预先训练好的人脸检测模型适应所述人脸红外热图样本的单通道输入；将所述人脸样本集输入到减枝后的所述预先训练好的人脸检测模型进行训练，并在训练过程中降低所述第一人脸RGB图样本的输入权重至零。4.如权利要求2所述的方法，其特征在于，所述获取所述人脸样本集，包括：获取第一人脸RGB图样本集，所述第一人脸RGB图样本包括第一人脸身份标签；获取人脸红外热图样本集，所述人脸红外热图样本包括人脸温度标签；根据所述第一人脸RGB图样本集以及所述人脸红外热图样本集形成所述人脸样本集。5.如权利要求4所述的方法，其特征在于，所述获取第一人脸RGB图样本集，包括：获取多个第一人脸RGB图；将所述多个第一人脸RGB图输入人脸RGB初级特征提取模型进行人脸RGB图初级特征提取，以得到多个第一人脸RGB图初级特征；基于所述多个第一人脸RGB图初级特征得到所述第一人脸RGB图样本集。6.如权利要求4所述的方法，其特征在于，所述获取人脸红外热图样本集，包括：获取多个人脸红外热图；将所述多个人脸红外热图输入人脸红外热图初级特征提取模型进行人脸红外热图初级特征提取，以得到多个人脸红外热图初级特征；基于多个人脸红外热图初级特征得到所述人脸红外热图样本集。7.如权利要求2所述的方法，其特征在于，所述获取预先训练好的人脸检测模型，包括：获取第二人脸RGB图样本集，所述第二人脸RGB图样本包括第二人脸身份标签；将所述第二人脸RGB图样本集输入预训练模型进行训练，以使所述预训练模型根据所述第二人脸RGB图样本集学习到人脸身份信息的预测，以得到所述预先训练好的人脸检测模型。8.一种人脸温度检测装置，其特征在于，所述装置包括：获取模块，用于获取待识别人脸图像，所述待识别人脸图像包括人脸红外热图；识别模块，用于将所述待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到所述待识别人脸图像对应的人脸身份信息以及人脸温度信息；所述预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，所述人脸样本集中包括人脸红外热图样本。9.一种电子设备，其特征在于，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如权利要求1至7任一项所述的人脸温度检测方法中的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1至7中任一项所述的人脸温度检测方法中的步骤。
说明书desc
技术领域本发明涉及人工智能技术领域，尤其涉及一种人脸温度检测方法、装置、电子设备及存储介质。背景技术目前，若需要对相应目标人员的体温进行监控管理时，在如医院，小区，学校等场景需要对目标人员的体温进行测量时，不能做到体温的智能识别，只能派相关工作人员为每个目标人员进行测温以及询问相关身份信息并进行登记，这种方式不仅工作效率低，并且人力成本高。发明内容本发明实施例提供一种人脸温度检测方法，能够使用红外热图完成对目标人员的身份识别以及体温检测，能够提升工作效率。第一方面，本发明实施例提供一种人脸温度检测方法，包括以下步骤：获取待识别人脸图像，所述待识别人脸图像包括人脸红外热图；将所述待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到所述待识别人脸图像对应的人脸身份信息以及人脸温度信息；所述预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，所述人脸样本集中包括人脸红外热图样本。可选的，所述人脸样本集中还包括第一人脸RGB图样本，所述预先训练好的人脸温度检测模型的训练方法包括：获取所述人脸样本集；获取预先训练好的人脸检测模型；将所述人脸样本集输入预先训练好的人脸检测模型中对所述预先训练好的人脸检测模型进行训练，并在训练过程中降低所述第一人脸RGB图样本的输入权重，以使所述预先训练好的人脸检测模型根据所述人脸红外热图样本学习到人脸温度信息的预测，以得到所述预先训练好的人脸温度检测模型。可选的，所述将所述人脸样本集输入预先训练好的人脸检测模型中对所述预先训练好的人脸检测模型进行训练，并在训练过程中降低所述第一人脸RGB图样本的输入权重，包括：对所述预先训练好的人脸检测模型进行减枝处理，以使所述预先训练好的人脸检测模型适应所述人脸红外热图样本的单通道输入；将所述人脸样本集输入到减枝后的所述预先训练好的人脸检测模型进行训练，并在训练过程中降低所述第一人脸RGB图样本的输入权重至零。可选的，所述获取所述人脸样本集，包括：获取第一人脸RGB图样本集，所述第一人脸RGB图样本包括第一人脸身份标签；获取人脸红外热图样本集，所述人脸红外热图样本包括人脸温度标签；根据所述第一人脸RGB图样本集以及所述人脸红外热图样本集形成所述人脸样本集。可选的，所述获取第一人脸RGB图样本集，包括：获取多个第一人脸RGB图；将所述多个第一人脸RGB图输入人脸RGB初级特征提取模型进行人脸RGB图初级特征提取，以得到多个第一人脸RGB图初级特征；基于所述多个第一人脸RGB图初级特征得到所述第一人脸RGB图样本集。可选的，所述获取人脸红外热图样本集，包括：获取多个人脸红外热图；将所述多个人脸红外热图输入人脸红外热图初级特征提取模型进行人脸红外热图初级特征提取，以得到多个人脸红外热图初级特征；基于多个人脸红外热图初级特征得到所述人脸红外热图样本集。可选的，所述获取预先训练好的人脸检测模型，包括：获取第二人脸RGB图样本集，所述第二人脸RGB图样本包括第二人脸身份标签；将所述第二人脸RGB图样本集输入预训练模型进行训练，以使所述预训练模型根据所述第二人脸RGB图样本集学习到人脸身份信息的预测，以得到所述预先训练好的人脸检测模型。第二方面，本发明实施例还提供一种人脸温度检测装置，所述装置包括：获取模块，用于获取待识别人脸图像，所述待识别人脸图像包括人脸红外热图；识别模块，用于将所述待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到所述待识别人脸图像对应的人脸身份信息以及人脸温度信息；所述预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，所述人脸样本集中包括人脸红外热图样本。第三方面，本发明实施例提供一种电子设备，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现本发明实施例提供的人脸温度检测方法中的步骤。第四方面，本发明实施例提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现发明实施例提供的人脸温度检测方法中的步骤。本发明实施例中，通过获取待识别人脸图像，所述待识别人脸图像包括人脸红外热图；将所述待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到所述待识别人脸图像对应的人脸身份信息以及人脸温度信息；所述预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，所述人脸样本集中包括人脸红外热图样本。这样可以直接通过采集目标人员的人脸图像中的人脸红外热图完成对目标人员的身份识别以及体温测试，便于监控管理目标人员的体温情况。进而解决现有技术中，不能做到体温的智能识别，只能派相关工作人员为每个目标人员进行测温以及询问身份信息并登记，而导致的人力成本高，温度检测工作效率低的问题。进而降低了人力成本以及提高了温度检测工作效率。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的一种人脸温度检测方法的流程图；图2是本发明实施例提供的一种人脸温度检测模型的训练方法的流程图；图3是图2实施例中步骤201提供的一种方法的流程图；图4是图2实施例中步骤202提供的一种方法的流程图；图5是图2实施例步骤203提供的一种方法的流程图；图6是本发明实施例提供的一种红外热图模型检测示意图；图7是本发明实施例提供的一种人脸温度检测装置的结构示意图；图8是本发明实施例训练模块提供的另一种结构示意图；图9是图8实施例中训练子模块提供的一种结构示意图；图10是图8实施例中第一获取子模块提供的一种结构示意图；图11是图8实施例中第二获取子模块提供的一种结构示意图；图12是本发明实施例提供的一种电子设备的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参见图1，图1是本发明实施例提供的一种人脸温度检测方法的流程图，如图1所示，包括以下步骤：步骤101、获取待识别人脸图像。其中，上述待识别人脸图像为应用场景中需要识别的目标人员的人脸图像。应用场景可以是某医院、某小区、某校园、某单位等，或者是其他需要检测目标人员体温的应用场景。更具体的可以是某医院、某小区、某校园、某单位入口或出口等的门禁系统中。在本实施例中，主要以需要检测体温的某应用场景的出入口的门禁系统为例进行说明。待识别人脸图像则可以为出入小区、校园、单位入口或出口的目标人员的人脸图像。上述待识别人脸图像包括人脸红外热图，人脸红外热图可以称为红外热像图。目标人员可以是一个或多个。上述待识别人脸图像可以是一个或多个，当目标人员为多个时，对应的待识别人脸图像也为多个。对应的人脸红外热图也多个。上述人脸红外热图可以是通过红外热图成像设备采集得到。人脸红外热图成像设备可以是红外热成像仪等。人脸红外热图可以是通过部署医院、在小区、校园、单位入口或出口的红外热成像仪对准目标人员人脸进行采集得到，用于检测目标人员的人脸温度，进而检测到目标人员体温。该红外热成像仪也可以称为红外热像仪，红外热成像仪是利用红外探测器和光学成像物镜接受被测目标的红外辐射能量分布图形反映到红外探测器的光敏元件上，从而获得红外热像图，热像图与物体表面的热分布场相对应。上述待识别人脸图像还可以包括人脸RGB图像，用于识别目标人员的人脸身份信息。人脸RGB图像可以是部署在小区入口、校园入口、单位入口的人脸图像采集设备获取到的目标人员人脸的静态图像或动态视频的图像帧。当然，摄像头可以是人脸摄像头、人像摄像头或普通的RGB图像摄像头。应当理解的是，上述红外热成像仪与人脸摄像头同一水平线设置，比如，同一水平上下设置、同一水平左右设置、同一水平左上右下设置、以及同一水平做下右上设置。这样可以保证红外热成像仪对准的目标人员人脸以及人脸摄像头对应的目标人员人脸角度基本一致。也进一步保证红外热成像仪对准的目标人员与人脸摄像头对准的目标人员是同一个人。具体的，当有目标人员需要出入门禁时，通过红外热成像仪对准该目标人员，并采集该目标人员对应的人脸红外热图，进而得到目标人员的待识别人脸图像。当然了，同时还可以通过人脸摄像头对准该目标人员，并采集该目标人员的RGB图像，进而与人脸红外热图形成待识别人脸图像。步骤102、将待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到待识别人脸图像对应的人脸身份信息以及人脸温度信息。预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，人脸样本集中包括人脸红外热图样本。其中，上述预先训练好的人脸温度检测模型用于检测目标人员的人脸温度，进而检测到目标人员的体温。人脸温度检测模型可以是人脸温度检测神经网络、人脸温度检测卷积网络等。上述人脸身份信息为待识别人脸图像对应的目标人员的人脸身份信息。人脸身份信息可以是包括姓名、人脸图像、证件号、联系方式、家庭住址、工作单位、身体状况等信息。人脸身份信息可以存储在身份数据库中。身份数据库可以是具有权威性的单位或机构提供的，用于存储目标人员人脸身份信息的数据库。身份数据库可以存储有多个人员的人脸身份信息。上述人脸温度信息可以是待识别人脸图像对应的目标人员的人脸温度信息，对应的可以是待识别人脸图像对应的目标人员的体温信息。人脸温度信息可以包括温度大小、测量温度的时间等，比如，A人员在12点时检测到的温度为36.1C°等。上述人脸样本集是用于训练预先训练好的人脸检测模型的人脸样本组成的人脸样本集合。人脸样本集可以包括人脸红外热图样本，也可以包括第一人脸RGB图样本。人脸样本集可以存储在本地预设的人脸样本集数据库中、或者存储在外接的存储器中，比如U盘等。这样在使用人脸样本集时，可以直接从本地预设的人脸样本集数据库中调用、或者从外接的存储器中调用。还可以通过网络链接远程调用远程人脸样本集数据库中的人脸样本集。上述人脸样本集包括多个人脸样本，具体的，可以包括多个人的人脸红外热图样本，还可以包括多个人的第一人脸RGB图样本。当然这里的第一人脸RGB图样本为用于与人脸红外热图样本共同作为预先训练好的人脸检测模型的输入以训练预先训练好的人脸检测模型得到人脸温度检测模型的人脸RGB图样本。当然，可以不需要第一人脸RGB图样本作为预先训练好的人脸检测模型的输入对预先训练好的人脸检测模型进行训练，只需要人脸红外热图做为预先训练好的人脸检测模型的输入对预先训练好的人脸检测模型进行训练即可得到预先训练好的人脸温度检测模型。需要说明的是，预先训练好的人脸检测模型可以是预先训练好的人脸检测神经网络或卷积网络。具体的，当获取到待识别人脸图像后，并可将获取到的待识别人脸图像作为预先训练好的人脸温度检测模型的输入数据，并通过预先训练好的人脸温度检测模型识别出待识别人脸图像对应的目标人员的人脸身份信息以及检测出待识别人脸图像对应的目标人员的人脸温度信息。更具体为，是通过将人脸红外热图作为预先训练好的人脸温度检测模型的输入数据，然后通过预先训练好的人脸温度检测模型对人脸红外热图进行人脸检测并给出相应的人脸温度。这样，当有目标人员出入小区、校园、单位等的出入口时，能够识别出目标人员的人脸身份信息以及该目标人员对应的体温。当然，当待识别人脸图像包括多个人的图像时，将多个人的图像输入到预先训练好的人脸温度检测模型进行人脸检测并给出相应的温度，这样也就可以得到多个人对应的多组人脸身份信息以及人脸温度信息。在本发明一实施方式中，可以对识别到的人脸身份信息以及人脸温度信息进行分析，当检测到人脸温度异常的目标人员时，可以发出警报。以便于提醒相关工作单位工作人员采取相应的管理措施，对温度异常人员进行特殊监控管理。在本发明实施例中，通过获取待识别人脸图像，所述待识别人脸图像包括人脸红外热图；将所述待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到所述待识别人脸图像对应的人脸身份信息以及人脸温度信息；所述预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，所述人脸样本集中包括人脸红外热图样本。这样可以直接通过采集目标人员的人脸图像中的人脸红外热图完成对目标人员的身份识别以及体温测试，便于监控管理目标人员的体温情况。进而解决现有技术中，不能做到体温的智能识别，只能派相关工作人员为每个目标人员进行测温以及询问身份信息并登记，而导致的人力成本高，温度检测工作效率低的问题。进而降低了人力成本以及提高了温度检测工作效率。参见图2，图2是本发明实施例提供的一种人脸温度检测模型的训练方法的流程图，该人脸温度检测模型的训练方法包括步骤：步骤201、获取人脸样本集。具体的，参见图3，图3是图2实施例中步骤201提供的一种方法的流程图，步骤201包括：步骤301、获取第一人脸RGB图样本集。其中，上述第一人脸RGB图样本集可以包括多个第一人脸RGB图样本，并且每个第一人脸RGB图样本均包括第一人脸身份标签。第一人脸身份标签可以是用于表示该第一人脸RGB图样本对应的目标人员的人脸身份信息的标签。第一人脸身份标签可以是姓名、证件号、人脸特征等。第一人脸RGB图样本集可以是存储在预设的人脸RGB图样本数据库中，也可以是通过对应的人脸RGB图采集设备实时采集得到的。第一人脸RGB图均一一对应包含有唯一的第一人脸身份标签。具体的，获取多个第一人脸RGB图。将多个第一人脸RGB图输入人脸RGB初级特征提取模型进行人脸RGB图初级特征提取，以得到多个第一人脸RGB图初级特征。基于多个第一人脸RGB图初级特征得到第一人脸RGB图样本集。更具体的，可以通过获取多个目标人员对应的第一人脸RGB图，并且通过人脸RGB初级特征提取模型提取每个第一人脸RGB图的第一人脸RGB图初级特征，并保存，并基于多个目标人员对应的第一人脸RGB图初级特征形成第一人脸RGB图样本集。这样在进行进行模型训练的时候，就可以直接使用第一人脸RGB图初级特征进行训练即可，不需要将整张第一人脸RGB图输入模型进行训练，可以减少第一人脸RGB图的输入数据量。使得人脸RGB图初级特征提取模型可以提升模型对人脸RGB图的依赖。步骤302、获取人脸红外热图样本集。上述人脸红外热图样本集可以包括多个人脸红外热图样本，并且每个人脸红外热图样本均包括人脸温度标签。人脸温度标签可以是用于表示该人脸红外热图对应的目标人员的人脸温度信息的标签。人脸温度标签可以是温度的度数大小。人脸红外热图样本集可以是存储在预设的人脸红外热图样本数据库中，也可以是通过人脸红外热图采集设备实时采集得到的。具体的，获取多个人脸红外热图。将多个人脸红外热图输入人脸红外热图初级特征提取模型进行人脸红外热图初级特征提取，以得到多个人脸红外热图初级特征。基于多个人脸红外热图初级特征得到人脸红外热图样本集。更具体的，可以通过获取多个目标人员对应的人脸红外热图，并且通过人脸红外热图初级特征提取模型提取每个人脸红外热图的人脸红外热图初级特征，并保存，并基于多个目标人员对应的人脸红外热图初级特征形成人脸红外热图样本集。这样在进行模型训练的时候，就可以直接使用人脸红外热图初级特征进行训练即可，不需要将整张人脸红外热图输入模型进行训练，可以减少人脸红外热图的输入数据量。使得人脸红外热图初级特征提取模型可以提升模型对人脸红外热图的依赖。并且可以保证第一人脸RGB图像和人脸红外热图的初级特征维度一致。步骤303、根据第一人脸RGB图样本集以及人脸红外热图样本集形成人脸样本集。具体的，当分别获取到第一人脸RGB图样本集以及人脸红外热图样本集后，将这两个样本集共同组成人脸样本集。其中，人脸红外热图在特征表现上与人脸RGB图有一定的相似性，比如轮廓等。步骤202、获取预先训练好的人脸检测模型。具体的，参见图4，图4是图2实施例中步骤202提供的一种方法的流程图，步骤202包括：步骤401、获取第二人脸RGB图样本集，第二人脸RGB图样本包括第二人脸身份标签。步骤402、将第二人脸RGB图样本集输入预训练模型进行训练，以使预训练模型根据第二人脸RGB图样本集学习到人脸身份信息的预测，以得到预先训练好的人脸检测模型。其中，上述第二人脸RGB图样本集可以包括多个第二人脸RGB图样本，并且每个第二人脸RGB图样本均包括第二人脸身份标签。第二人脸身份标签可以是用于表示该第二人脸RGB图样本对应的目标人员的人脸身份信息的标签。第二人脸身份标签可以是姓名、证件号、人脸特征等。第二人脸RGB图样本集可以是存储在预设的人脸RGB图样本数据库中，也可以是通过对应的人脸RGB图采集设备实时采集得到的。第二人脸RGB图均一一对应包含有唯一的第二人脸身份标签。需要说明的是，上述第二人脸RGB图样本集与上述第一人脸RGB图样本集可以是相同的，也可以是不同的。上述第二人脸RGB图样本集中也可以包括多个人员的人脸RGB样本。上述预训练模型可以是预先设置好的还没有训练的模型。预训练模型可以是预训练神经网络或卷积网络。在预训练模型还没有进行训练时，预训练模型不能够识别或检测任何信息。预训练模型的卷积核可以是设置为3*3*3的卷积核。具体的，在获取到第二人脸RGB图样本集后，输入到预训练模型中进行人脸识别训练，让预训练模型能够根据第二人脸RGB图样本集学习到人脸身份信息的预测，这样预训练模型就被训练为人脸检测模型。应当理解的是，当第二人脸RGB图样本集与第一人脸RGB图样本集不相同时，说明预先训练好的人脸检测模型仅是通过第二人脸RGB图样本集训练得到的。当第二人脸RGB图样本集与第一人脸RGB图样本集相同时，也可以说明预先训练好的人脸检测模型是通过第一人脸RGB图样本集训练得到的。步骤203、将人脸样本集输入预先训练好的人脸检测模型中对预先训练好的人脸检测模型进行训练，并在训练过程中降低第一人脸RGB图样本的输入权重，以使预先训练好的人脸检测模型根据人脸红外热图样本学习到人脸温度信息的预测，以得到预先训练好的人脸温度检测模型。其中，上述第一人脸RGB图样本的输入权重为第一人脸RGB图样本在人脸样本集中的占比，可以表示为第一人脸RGB图样本数/人脸样本集总样本数，当人脸样本集仅包含第一人脸RGB图样本以及人类红外热图样本时，第一人脸RGB图样本的输入权重可以表示为第一人脸RGB图样本数/，比如，现有一人脸样本集，该人脸样本集中有100个人脸样本，其中，有40个第一人脸RGB图样本，有60个人脸红外热图样本，那么将该人脸样本集中的100个人脸样本作为预先训练好的人脸检测模型中进行训练，此时，第一人脸RGB图样本的输入权重则为40/100，第一人脸RGB的输入权重也即为2/5。输入权重也可以用权重系数来表示。上述在训练过程中降低第一人脸RGB图样本的输入权重可以为，在将一人脸样本集输入到预先训练好的人脸检测模型中进行训练时，也就是在迭代过程中不断以一预设下降值为下降单位降低第一人脸RGB图样本在人脸样本集中的比重。具体的，参见图5，图5是图2实施例步骤203提供的一种方法的流程图，步骤203包括：步骤501、对预先训练好的人脸检测模型进行减枝处理，以使预先训练好的人脸检测模型适应人脸红外热图样本的单通道输入。其中，上述减枝处理可以是降维处理，比如，预先训练好的人脸检测模型中包括3*3*3的卷积核，将该3*3*3的卷积核降低维度之后变成3*3*1的卷积网络。具体的，上述第一人脸RGB图样本中的第一人脸RGB图是三通道，分别是R通道、G通道、B通道。为此，预先训练好的人脸检测模型可以为3*3*3的卷积核，每层卷积核分别卷积R通道、G通道、B通道。而红外热图是单通道的，所以，为了更好地保留预训练模型的参数和减小模型的大小，对预训练好的人脸检测模型进行减枝处理，删除2/3共享较小的通道，以适应单通道的人脸红外热图，比如，将3*3*3的卷积核降低维度之后变成3*3*1的卷积核以适应于卷积人脸红外热图的单通道。在减枝过程中，根据反向传播统计每一个卷积核对应的梯度大小，然后删除梯度较小的2/3的卷积核。因为红外热图所能提供的信息相对于RGB图较少，且模型大小也相应变小。步骤502、将人脸样本集输入到减枝后的预先训练好的人脸检测模型进行训练，并在训练过程中降低第一人脸RGB图样本的输入权重至零。具体的，在对预先训练好的人脸检测模型进行减枝处理后对预先训练好的人脸检测模型进行训练，并且降低第一人脸RGB图样本的输入权重。直到第一人脸RGB图样本的输入权重降低为零，进而得到的人脸温度检测模型。其中，上述在训练过程中降低第一人脸RGB图样本的输入权重至零可以是，将第一人脸样本集输入到预先训练好的人脸检测模型中进行训练时，也就是在迭代过程中不断以一预设下降值为下降单位降低第一人脸RGB图样本在人脸样本集中的比重，直到第一人脸RGB图样本的输入权重降低到零，使得人脸样本集中只有红外热图，并且在预先训练好的人脸检测模型转换为人脸温度检测模型后，就可以通过人脸温度检测模型识别人脸红外热图对应的人脸身份信息以及人脸温度信息。具体的，预先设置一预设下降值，让第一人脸RGB图样本的输入权重以该预设下降值为单位降低，直至第一人脸RGB图样本的输入权重降低为零，这样就可以结束人脸温度检测模型的训练。示例性的，预设下降值设置为1/10，第一人脸RGB图样本第一次和人脸红外热图样本输入到预先训练好的人脸检测模型中进行训练时的输入权重为1/2，此时的人脸红外热图的输入权重也为1/2，此时预先训练好的人脸检测模型输出对应的人脸身份信息以及人脸温度信息。第一人脸RGB图样本第二次和人脸红外热图样本输入到预先训练好的人脸检测模型中进行训练时以1/10的预设下降值为单位在第一次输入权重的基础上降低第一人脸RGB图样本的输入权重为4/10，此时的人脸红外热图的输入权重也为6/10，此时预先训练好的人脸检测模型输出对应的人脸身份信息以及人脸温度信息。第一人脸RGB图样本第三次和人脸红外热图样本输入到预先训练好的人脸检测模型中进行训练时以1/10的预设下降值为单位在第二次输入权重的基础上降低第一人脸RGB图样本的输入权重为3/10，此时的人脸红外热图的输入权重也为7/10，此时预先训练好的人脸检测模型输出对应的人脸身份信息以及人脸温度信息。在经过N次训练后，第一人脸RGB图样本最后一次和人脸红外热图样本输入到预先训练好的人脸检测模型中进行识别检测时的输入权重为0，此时人脸样本集中的人脸红外热图样本的输入权重变为1，也就是说人脸样本集中的人脸样本全是人脸红外热图，而人脸样本集中不存在第一人脸RGB样本。在人脸样本集中没有第一人脸RGB图样本的情况下，预先训练好的人脸检测模型也能够通过人脸红外热图样本识别到对应人脸红外热图对应的人脸身份信息以及人脸温度信息。当第一人脸RGB图样本的输入权重被降低至零时，预先训练好的人脸检测模型也就被训练为人脸温度检测模型，人脸温度检测模型仅通过人脸红外热图样本就可以识别到人脸红外热图对应的人脸身份信息和人脸温度信息。需要说明的是，预设下降值越小，第一人脸RGB图样本的输入权重降低的速度越慢，对预先训练好的人脸检测模型的训练次数就会越多，能够更加准确调整预先训练好的人脸检测模型的参数以模型大小，进而可以得到更好的人脸温度检测模型。参见图6，图6是本发明实施例提供的一种红外热图模型检测示意图，具体的工程流程为，最开始使用普通RGB图像和红外热图作为输入，训练预先训练好的人脸检测模型并给出每个人脸对应身份信息和温度信息。在训练的过程逐步降低RGB图像的权重，完成训练后RGB输入的权重降低至0，实现仅以红外热图即可完成目标人员的身份识别以及温度检测的功能。为了提升网络的性能，不对RGB图像与红外热图做简单的叠加，而是通过分别设计两个小型的卷积网络模块对两种图像进行初级特征的提取，初级特征提取模块可以提升网络对RGB图像的依赖和保证两种图像特征维度一致。在训练的过程，通过调整权重系数控制RGB图像对网络的贡献，完成训练权重系数降低至0。在本发明一实施方式中，当第一人脸RGB图样本集与第二人脸RGB图样本不相同时，首先通过第二人脸RGB图样本集训练预训练模型得到人脸检测模型，使得人脸检测模型能够基于第二人脸RGB图识别出对应的人脸身份信息。再通过第一人脸RGB图样本集与人脸红外热图共同作为预先训练好的人脸检测模型的输入对预先训练好的人脸检测模型进行人脸识别以及温度检测训练，进而将预先训练好的人脸检测模型训练为人脸温度检测模型。在人脸温度检测模型的训练过程中不断降低第一人脸RGB图样本的输入权重，并给出对应的人脸身份信息以及人脸温度信息，进而使得人脸温度检测模型只要根据人脸红外热图就能够识别出对应的人脸身份信息以及人脸温度信息。提升人脸温度检测模型的检测能力。在本发明另一个实施方式中，当第一人脸RGB图样本集与第二人脸RGB图样本相同时，首先通过第一人脸RGB图样本集训练预训练模型得到人脸检测模型，再通过第一人脸RGB图样本集与人脸红外热图共同作为预先训练好的人脸检测模型的输入对预先训练好的人脸检测模型进行人脸识别以及温度检测训练，进而将预先训练好的人脸检测模型训练为人脸温度检测模型。在人脸温度检测模型的训练过程中不断降低第一人脸RGB图样本的输入权重，并给出对应的人脸身份信息以及人脸温度信息，进而使得人脸温度检测模型只要根据人脸红外热图就能够识别出对应的人脸身份信息以及人脸温度信息。提升人脸温度检测模型的检测能力。在本发明实施例中，预先使用人脸样本集对预先训练好的人脸检测模型进行训练以使预先训练好的人脸检测模型根据人脸样本集学习到识别人脸身份信息以及检测人脸温度信息，这样可以直接使用该人脸温度检测模型通过人脸红外热图就可以对待识别人脸图像进行身份识别以及温度检测。便于监控管理目标人员的体温情况。进而解决现有技术中，不能做到体温的智能识别，只能派相关工作人员为每个目标人员进行测温以及询问身份信息并登记，而导致的人力成本高，温度检测工作效率低的问题。进而降低了人力成本以及提高了温度检测工作效率。请参见图7，图7是本发明实施例提供的一种人脸温度检测装置的结构示意图，如图7所示，该人脸温度检测装置600包括：获取模块601，用于获取待识别人脸图像，待识别人脸图像包括人脸红外热图；识别模块602，用于将待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到待识别人脸图像对应的人脸身份信息以及人脸温度信息；预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，人脸样本集中包括人脸红外热图样本。可选的，如图8所示，人脸样本集中还包括第一人脸RGB图样本，训练模块603包括：第一获取子模块6031，用于获取人脸样本集；第二获取子模块6032，用于获取预先训练好的人脸检测模型；训练子模块6033，用于将人脸样本集输入预先训练好的人脸检测模型中对预先训练好的人脸检测模型进行训练，并在训练过程中降低第一人脸RGB图样本的输入权重，以使预先训练好的人脸检测模型根据人脸红外热图样本学习到人脸温度信息的预测，以得到预先训练好的人脸温度检测模型。可选的，如图9所示，训练子模块6033包括：减枝处理单元60331，用于对预先训练好的人脸检测模型进行减枝处理，以使预先训练好的人脸检测模型适应人脸红外热图样本的单通道输入；第一训练单元60332，用于将人脸样本集输入到减枝后的预先训练好的人脸检测模型进行训练，并在训练过程中降低第一人脸RGB图样本的输入权重至零。可选的，如图10所示，第一获取子模块6031包括：第一获取单元60311，用于获取第一人脸RGB图样本集，第一人脸RGB图样本包括第一人脸身份标签；第二获取单元60312，用于获取人脸红外热图样本集，人脸红外热图样本包括人脸温度标签；形成单元60313，用于根据第一人脸RGB图样本集以及人脸红外热图样本集形成人脸样本集。可选的，第一获取单元包括：第一获取子单元，用于获取多个第一人脸RGB图；第一提取子单元，用于将多个第一人脸RGB图输入人脸RGB初级特征提取模型进行人脸RGB图初级特征提取，以得到多个第一人脸RGB图初级特征；第一形成子单元，用于基于多个第一人脸RGB图初级特征形成第一人脸RGB图样本集。可选的，第二获取单元包括：第二获取子单元，用于获取多个人脸红外热图；第二提取子单元，用于将多个人脸红外热图输入人脸红外热图初级特征提取模型进行人脸红外热图初级特征提取，以得到多个人脸红外热图初级特征；第二形成子单元基于多个人脸红外热图初级特征形成人脸红外热图样本集。可选的，如图11所示，第二获取子模块6032包括：第三获取单元60321，用于获取第二人脸RGB图样本集，第二人脸RGB图样本包括第二人脸身份标签；第二训练单元60322，用于将第二人脸RGB图样本集输入预训练模型进行训练，以使预训练模型根据第二人脸RGB图样本集学习到人脸身份信息的预测，以得到预先训练好的人脸检测模型。需要说明的是，本发明实施例提供的人脸温度检测装置600可以应用于需要进行人脸温度检测的手机、监控器、计算机、服务器等设备。本发明实施例提供的人脸温度检测装置600能够实现上述方法实施例中人脸温度检测方法实现的各个过程，且可以达到相同的有益效果。为避免重复，这里不再赘述。参见图12，图12是本发明实施例提供的一种电子设备的结构示意图，如图12所示，包括：存储器702、处理器701及存储在存储器702上并可在处理器701上运行的计算机程序，其中：处理器701用于调用存储器702存储的计算机程序，执行如下步骤：获取待识别人脸图像，待识别人脸图像包括人脸红外热图；将待识别人脸图像输入到预先训练好的人脸温度检测模型进行识别，得到待识别人脸图像对应的人脸身份信息以及人脸温度信息；预先训练好的人脸温度检测模型是根据人脸样本集对预先训练好的人脸检测模型进行训练得到，人脸样本集中包括人脸红外热图样本。可选的，人脸样本集中还包括第一人脸RGB图样本，处理器701执行的预先训练好的人脸温度检测模型的训练方法包括：获取人脸样本集；获取预先训练好的人脸检测模型；将人脸样本集输入预先训练好的人脸检测模型中对预先训练好的人脸检测模型进行训练，并在训练过程中降低第一人脸RGB图样本的输入权重，以使预先训练好的人脸检测模型根据人脸红外热图样本学习到人脸温度信息的预测，以得到预先训练好的人脸温度检测模型。可选的，处理器701执行的将人脸样本集输入预先训练好的人脸检测模型中对预先训练好的人脸检测模型进行训练，并在训练过程中降低第一人脸RGB图样本的输入权重，包括：对预先训练好的人脸检测模型进行减枝处理，以使预先训练好的人脸检测模型适应人脸红外热图样本的单通道输入；将人脸样本集输入到减枝后的预先训练好的人脸检测模型进行训练，并在训练过程中降低第一人脸RGB图样本的输入权重至零。可选的，处理器701执行的获取人脸样本集，包括：获取第一人脸RGB图样本集，第一人脸RGB图样本包括第一人脸身份标签；获取人脸红外热图样本集，人脸红外热图样本包括人脸温度标签；根据第一人脸RGB图样本集以及人脸红外热图样本集形成人脸样本集。可选的，处理器701执行的获取第一人脸RGB图样本集，包括：获取多个第一人脸RGB图；将多个第一人脸RGB图输入人脸RGB初级特征提取模型进行人脸RGB图初级特征提取，以得到多个第一人脸RGB图初级特征；基于多个第一人脸RGB图初级特征得到第一人脸RGB图样本集。可选的，处理器701执行的获取人脸红外热图样本集，包括：获取多个人脸红外热图；将多个人脸红外热图输入人脸红外热图初级特征提取模型进行人脸红外热图初级特征提取，以得到多个人脸红外热图初级特征；基于多个人脸红外热图初级特征得到人脸红外热图样本集。可选的，处理器701执行的获取预先训练好的人脸检测模型，包括：获取第二人脸RGB图样本集，第二人脸RGB图样本包括第二人脸身份标签；将第二人脸RGB图样本集输入预训练模型进行训练，以使预训练模型根据第二人脸RGB图样本集学习到人脸身份信息的预测，以得到预先训练好的人脸检测模型。需要说明的是，上述电子设备700可以是可以应用于需要进行人脸温度检测的手机、监控器、计算机、服务器等设备。本发明实施例提供的电子设备700能够实现上述方法实施例中人脸温度检测方法实现的各个过程，且可以达到相同的有益效果，为避免重复，这里不再赘述。本发明实施例还提供一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，该计算机程序被处理器执行时实现本发明实施例提供的人脸温度检测方法的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，所述的存储介质可为磁碟、光盘、只读存储记忆体或随机存取存储器等。以上所揭露的仅为本发明较佳实施例而已，当然不能以此来限定本发明之权利范围，因此依本发明权利要求所作的等同变化，仍属本发明所涵盖的范围。
