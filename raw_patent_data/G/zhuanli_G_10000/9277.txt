标题title
矩阵按键电路自动检测方法、系统、介质及设备
摘要abst
本发明提供了一种矩阵按键电路自动检测方法、装置、介质和设备，该方法可以由被测终端执行，该方法包括：接收来自上位机的按键测试指令；根据所述按键测试指令，扫描N个目标按键的寄存器状态，获取N个目标按键的目标按键值；当N个目标按键的目标按键值与N个目标按键的参考按键值一致时，则确定被测终端的矩阵按键电路正常；其中，N个目标按键通过治具短接。该方法可以实现自动化测试，成本低，工装设计简单，能够提高产线测试效率。
权利要求书clms
1.一种矩阵按键电路自动检测方法，应用于被测终端，其特征在于，所述方法包括：接收来自上位机的按键测试指令；根据所述按键测试指令，扫描N个目标按键的寄存器状态，获取所述N个目标按键的目标按键值；其中，当所述N个目标按键的目标按键值与所述N个目标按键的参考按键值一致时，则指示所述被测终端的矩阵按键电路正常；其中，所述N个目标按键通过治具短接。2.根据权利要求1所述的方法，其特征在于，所述方法还包括：当所述N个目标按键的目标按键值与所述N个目标按键的参考按键值不一致时，则指示所述被测终端的矩阵按键电路异常。3.根据权利要求1或2所述的方法，其特征在于，所述N个目标按键中不同的目标按键的按键输入端和按键输出端是不同的，且由所述N个目标按键的按键输入端和按键输出端构成的集合包括所述被测终端的全部按键输入端和全部按键输出端。4.根据权利要求1至3任一项所述的方法，其特征在于，所述N个目标按键为所述被测终端中除了专用按键之外的按键，其中，所述专用按键的按键输入端和按键输出端通过治具短接后会触发所述被测终端进入设定模式。5.根据权利要求1至3任一项所述的方法，其特征在于，所述N个目标按键为所述被测终端的按键3、按键4、按键soft_l、按键down、按键sim1。6.一种矩阵按键电路自动检测方法，应用于上位机，其特征在于，所述方法包括：向被测终端发送按键测试指令；接收来自所述被测终端的测试结果，所述测试结果包括所述被测终端的N个目标按键的目标按键值；当所述N个目标按键的目标按键值与所述N个目标按键的参考按键值一致时，则确定所述被测终端的矩阵按键电路正常；其中，所述被测终端的N个目标按键通过治具短接。7.根据权利要求6所述的方法，其特征在于，所述方法还包括：当所述N个目标按键的目标按键值与所述N个目标按键的参考按键值不一致时，则确定所述被测终端的矩阵按键电路异常。8.一种矩阵按键电路自动检测装置，其特征在于，该装置包括：接收单元，用于接收来自上位机的按键测试指令；处理单元，用于根据所述按键测试指令，扫描N个目标按键的寄存器状态，获取所述N个目标按键的目标按键值；当所述N个目标按键的目标按键值与所述N个目标按键的参考按键值一致时，则确定所述被测终端的矩阵按键电路正常；其中，所述N个目标按键通过治具短接。9.根据权利要求8所述的装置，其特征在于，所述处理单元还用于：当所述N个目标按键的目标按键值与所述N个目标按键的参考按键值不一致时，则确定所述被测终端的矩阵按键电路异常。10.根据权利要求8或9所述的装置，其特征在于，所述N个目标按键中不同的目标按键的按键输入端和按键输出端是不同的，且由所述N个目标按键的按键输入端和按键输出端构成的集合包括所述被测终端的全部按键输入端和全部按键输出端。11.根据权利要求8至10任一项所述的装置，其特征在于，所述N个目标按键为所述被测终端中除了专用按键之外的按键，其中，所述专用按键的按键输入端和按键输出端通过治具短接后会触发所述被测终端进入设定模式。12.根据权利要求8至10任一项所述的装置，其特征在于，所述N个目标按键为所述被测终端的按键3、按键4、按键soft_l、按键down、按键sim1。13.一种矩阵按键电路自动检测装置，其特征在于，该装置包括：发送单元，用于向被测终端发送按键测试指令；接收单元，用于接收来自所述被测终端的测试结果，所述测试结果包括所述被测终端的N个目标按键的目标按键值；处理单元，用于当所述N个目标按键的目标按键值与所述N个目标按键的参考按键值一致时，则确定所述被测终端的矩阵按键电路正常；其中，所述被测终端的N个目标按键通过治具短接。14.根据权利要求13所述的装置，其特征在于，所述处理单元还用于：当所述N个目标按键的目标按键值与所述N个目标按键的参考按键值不一致时，则确定所述被测终端的矩阵按键电路异常。15.一种计算机可读存储介质，所述计算机可读存储介质内存储有计算机程序，其特征在于：所述计算机程序被处理器执行时，实现权利要求1至5中任一项所述的方法，或6至7任一项所述的方法。16.一种电子设备，其特征在于，包括存储器和处理器，所述存储器上存储有可在所述处理器上运行的计算机程序，当所述计算机程序被所述处理器执行时，使得所述处理器实现权利要求1至5中任一项所述的方法，或6至7任一项所述的方法。
说明书desc
技术领域本发明涉及终端测试领域，尤其涉及一种矩阵按键电路自动检测方法、系统、介质及设备。背景技术随着科学技术的发展，在新型电子产品领域催生出了许多生产生活需求，因此越来越多的电子产品被生产出来，在这些产品的设计过程中，一个重要的技术就是人机交互接口的设计方法，当产品需要安装多个按键时，检测按键信息就成了一个重要的设计领域，传统的按键矩阵监测方法是用多组输入输出接口连接不同的按键，在控制器内部采用行列扫描的方法分别扫描不同的IO接口，当扫描到对应的行列电平变化的时候即可以断定是对应的按键被按下。因部分产品芯片的通用型之输入输出设计数量有限，不同形态产品按键需求数量不同，在按键数量较多时，设计的矩阵按键中会使用无GPIO的功能的引脚，此时无GPIO的pin无法通过互联的方式使其输入/输出高低电平来来读取电平的变化，以实现矩阵按键电路自动化测试，所以不得不采用增加外接辅助的辅助设备/电路来实现产线的自动化测试，可见，这样就存在工装设计复杂、成本高的问题；或者还可以采用人工逐个按键测试的方式来判断按键功能是否正常，可见，这样就存在人工成本高、效率低的问题。发明内容本发明的目的在于提供一种矩阵按键电路自动检测方法、系统、介质及设备，用以实现矩阵按键电路自动化测试。第一方面，本发明提供一种矩阵按键电路自动检测方法，应用于被测终端，该方法包括：被测终端接收来自上位机的按键测试指令；被测终端根据按键测试指令，扫描N个目标按键的寄存器状态，获取N个目标按键的目标按键值。其中，当N个目标按键的目标按键值与N个目标按键的参考按键值一致时，则指示被测终端的矩阵按键电路正常；其中，N个目标按键通过治具短接。在一种可能的实施例中，该方法还包括：当N个目标按键的目标按键值与N个目标按键的参考按键值不一致时，则指示被测终端的矩阵按键电路异常。本实施例中，通过治具短接N个目标按键，扫描N个目标按键的键值，就可以评估被测终端的全部按键输入端和全部按键输出端是否正常，可以实现自动化测试，成本低，工装设计简单，能够提高产线测试效率。在一种可能的实施例中，N个目标按键中不同的目标按键的按键输入端和按键输出端是不同的，且由N个目标按键的按键输入端和按键输出端构成的集合包括被测终端的全部按键输入端和全部按键输出端。在一种可能的实施例中，N个目标按键为所述被测终端中除了专用按键之外的按键，其中，专用按键的按键输入端和按键输出端通过治具短接后会触发所述被测终端进入设定模式。在一种可能的实施例中，N个目标按键为所述被测终端的按键3、按键4、按键soft_l、按键down、按键sim1。第二方面，本发明实施例提供一种矩阵按键电路自动检测方法，应用于上位机，该方法包括：上位机向被测终端发送按键测试指令；上位机接收来自被测终端的测试结果，测试结果包括被测终端的N个目标按键的目标按键值；当N个目标按键的目标按键值与N个目标按键的参考按键值一致时，则确定被测终端的矩阵按键电路正常；其中，被测终端的N个目标按键通过治具短接。在一种可能的实施例中，该方法还包括：当N个目标按键的目标按键值与所述N个目标按键的参考按键值不一致时，则确定所述被测终端的矩阵按键电路异常。本实施例中，通过治具短接N个目标按键，扫描N个目标按键的键值，就可以评估被测终端的全部按键输入端和全部按键输出端是否正常，可以实现自动化测试，成本低，工装设计简单，能够提高产线测试效率。第三方面，本申请实施例还提供一种矩阵按键电路自动检测装置，该装置包括执行上述第一方面的任意一种可能的设计的方法的模块/单元。这些模块/单元可以通过硬件实现，也可以通过硬件执行相应的软件实现。第四方面，本申请实施例还提供一种矩阵按键电路自动检测装置，该装置包括执行上述第二方面的任意一种可能的设计的方法的模块/单元。这些模块/单元可以通过硬件实现，也可以通过硬件执行相应的软件实现。第五方面，本申请实施例提供一种被测终端，包括处理器和存储器。其中，存储器用于存储一个或多个计算机程序；当存储器存储的一个或多个计算机程序被处理器执行时，使得该被测终端能够实现上述第一方面的任意一种可能的设计的方法。第六方面，本申请实施例提供一种上位机，包括处理器和存储器。其中，存储器用于存储一个或多个计算机程序；当存储器存储的一个或多个计算机程序被处理器执行时，使得该被测终端能够实现上述第二方面的任意一种可能的设计的方法。第七方面，本申请实施例中还提供一种计算机可读存储介质，计算机可读存储介质包括计算机程序，当计算机程序在电子设备上运行时，使得所述电子设备执行上述任一方面的任意一种可能的设计的方法。第八方面，本申请实施例还提供一种包含计算机程序产品，当所述计算机程序产品在终端上运行时，使得所述电子设备执行上述任一方面的任意一种可能的设计的方法。关于上述第三方面至第八方面的有益效果可以参见上述第一方面或第二方面中的描述。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简要介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域的普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例提供的一种矩阵按键电路自动检测系统示意图；图2为本申请实施例提供的一种矩阵按键电路自动检测方法示意图；图3为本申请实施例提供的一种矩阵按键电路示意图；图4为本申请实施例提供的一种矩阵按键电路自动检测装置示意图；图5为本申请实施例提供的另一种矩阵按键电路自动检测装置示意图；图6为本申请实施例提供的一种电子设备结构示意图。具体实施方式为了使本技术领域的人员更好地理解本发明实施例中的技术方案，并使本发明实施例的上述目的、特征和优点能够更加明显易懂，下面结合附图对现有技术方案和本发明实施例中的技术方案作进一步详细的说明。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。在本申请的描述中，“多个”的含义是至少两个，例如两个，三个等，除非另有明确具体的限定。除非另有定义，本文所使用的所有的技术和科学术语与属于本申请的技术领域的技术人员通常理解的含义相同。本文中所使用的术语只是为了描述具体的实施方式的目的，不是旨在于限制本申请。本文所使用的术语“和/或”包括一个或多个相关的所列项目的任意的和所有的组合。本申请实施例中的矩阵按键电路自动检测方法可以应用于测试模块到模块。M2M指的是一种装贴形式，M2M通信模块指的是贴装式的通信模块，该通信模块贴装于印制电路板上。本实施例中M2M通信模块可以是蜂窝通信模块、无线保真模块、长期演进模块、窄带物联网模块等。如图1所示，M2M通信模块包括多个引脚，PIN脚可分为无GPIO的功能的引脚，以及有GPIO的功能的引脚。无GPIO的引脚无法通过互联的方式使其输入/输出高低电平来来读取电平的变化，以实现矩阵按键电路自动化测试，所以不得不采用增加外接辅助的辅助设备/电路来实现产线的自动化测试。本实施例中，为了实现在不借助FPBA或单片机等硬件设备的情况下，能够对矩阵按键电路进行自动检测，提供了一种矩阵按键电路自动检测方法，该方法需要将通过治具顶针将被测终端中的N个目标按键进行短接。参见图1，为本申请示出的一种矩阵按键电路自动检测系统，该测试系统上包括PC10和被测终端20，其中被测终端是位于测试夹具30上的，该测试夹具30与PC10通过数据线)相连接，PC和被测终端20可以通过AT信令进行交互。该测试夹具30的治具顶针将被测终端中的N个目标按键进行短接，被测终端的目标按键被短接之后，向上位机输出N个目标按键的键值，进而上位机)通过比较键值的一致性来判断被测终端的全部输入输出的通路是否正常。可见，被测终端在不借助其它硬件设备的情况下就能够实现对被测终端的输入输出通路快速检测。参见图2，为本申请示出的一种矩阵按键电路自动检测方法流程示意图，其中，被测终端20位于测试夹具30上，被测终端20的N个目标按键通过测试夹具30的治具顶针进行短接，该方法包括如下步骤。S201，上位机10向被测终端20发送按键测试指令。示例性地，PC10通过USB向位于测试夹具30上的手机发送按键测试指令。S202，被测终端20接收来自上位机10的按键测试指令。S203，被测终端20根据按键测试指令，扫描N个目标按键的寄存器状态，获取N个目标按键的目标按键值。示例性地，N个目标按键可以是图3中圈中的5个按键，即按键3、按键4、按键soft_i、按键down和按键sim1。因该5个按键通过治具顶针短接，所以相当于按键被按下。这样，被测终端就可以扫描该5个按键的寄存器状态，从而获取该5个按键的目标按键值。值得说明的是，N个目标按键中不同的目标按键的按键输入端和按键输出端可以是不同的，且由N个目标按键的按键输入端和按键输出端构成的集合包括被测终端的全部按键输入端和全部按键输出端。另外，N个目标按键为所述被测终端中除了专用按键之外的按键，其中，专用按键的按键输入端和按键输出端通过治具短接后会触发被测终端进入设定模式。例如，按键1长时间短接会触发被测终端进入特殊模式，所以选择时可以避开这类按键。S204，上位机10接收来自被测终端20的测试结果。其中，测试结果包括被测终端20的N个目标按键的目标按键值。S205，当N个目标按键的目标按键值与N个目标按键的参考按键值一致时，则上位机10确定被测终端20的矩阵按键电路正常；当N个目标按键的目标按键值与N个目标按键的参考按键值不一致时，则确定被测终端的矩阵按键电路异常。示例性地，由图3可见，按键3对应的输入输出通路为keyout0-keyin2，按键4对应的输入输出通路为keyout1-keyin0，按键soft_i对应的输入输出通路为keyout2-keyin4，按键down对应的输入输出通路为keyout3-keyin3，按键sim1对应的输入输出通路为keyout4-keyin1，可见，这5个按键覆盖了图3中的全部输入通路和输出通路。如果全部输入通路和输出通路均正常，则5个按键的目标按键值也会与预设的键值相同，否则，则可能部分相同或完全不同。这样，PC10从被测终端20获取该5个按键的键值之后，就可以判断该5个按键的键值是否与预设键值完全一致，若完全一致，则说明该被测终端的输入输出通路是正常的，否则，则判定为异常。在本申请的一些实施例中，本申请实施例还公开了一种矩阵按键电路自动检测装置，如图4所示，该装置用于实现以上方法实施例中被测终端20所执行的各个方法步骤，其包括：接收单元401，用于接收来自上位机的按键测试指令；处理单元402，用于根据按键测试指令，扫描N个目标按键的寄存器状态，获取N个目标按键的目标按键值；当N个目标按键的目标按键值与N个目标按键的参考按键值一致时，则确定所述被测终端的矩阵按键电路正常，其中，N个目标按键通过治具短接。上述方法实施例涉及的各步骤的所有相关内容均可以援引到对应功能模块的功能描述，在此不再赘述。在本申请的一些实施例中，本申请实施例还公开了一种矩阵按键电路自动检测装置，如图5所示，该装置用于实现以上方法实施例中上位机10所执行的各个方法步骤，其包括：发送单元501，用于向被测终端发送按键测试指令；接收单元502，用于接收来自所述被测终端的测试结果，所述测试结果包括所述被测终端的N个目标按键的目标按键值；处理单元503，用于当所述N个目标按键的目标按键值与所述N个目标按键的参考按键值一致时，则确定所述被测终端的矩阵按键电路正常；其中，被测终端的N个目标按键通过治具短接。在本申请的另一些实施例中，本申请实施例公开了一种被测终端，如图6所示，该被测终端可以包括：一个或多个处理器601；存储器602；显示器603；一个或多个应用程序；以及一个或多个计算机程序604，上述各器件可以通过一个或多个通信总线605连接。其中该一个或多个计算机程序604被存储在上述存储器602中并被配置为被该一个或多个处理器601执行，该一个或多个计算机程序604包括指令，上述指令可以用于执行如图2及相应实施例中的各个步骤。通过以上的实施方式的描述，所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，仅以上述各功能模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能模块完成，即将装置的内部结构划分成不同的功能模块，以完成以上描述的全部或者部分功能。上述描述的系统，装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本申请实施例各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请实施例的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备或处理器执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：快闪存储器、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，仅为本申请实施例的具体实施方式，但本申请实施例的保护范围并不局限于此，任何在本申请实施例揭露的技术范围内的变化或替换，都应涵盖在本申请实施例的保护范围之内。因此，本申请实施例的保护范围应以所述权利要求的保护范围为准。
