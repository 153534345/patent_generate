标题title
一种光学临近修正方法及装置
摘要abst
本发明实施例公开了一种光学临近修正方法及装置。其中光学临近修正方法包括：制作测试掩模版；利用测试掩模版获取当前光刻条件下的晶圆数据；利用晶圆数据建立光学临近修正模型和制程变异带宽模型；根据光学临近修正模型和制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形；计算第一修正图形的第一模拟轮廓和第二修正图形的第二模拟轮廓的差异值；根据差异值的大小调整目标图形的修正方式。本发明实施例的技术方案，在修正时考虑制程变异带宽可能造成的变异，增大光刻工艺窗口，提高产品的良率。
权利要求书clms
1.一种光学临近修正方法，其特征在于，包括：制作测试掩模版；利用所述测试掩模版获取当前光刻条件下的晶圆数据；利用所述晶圆数据建立光学临近修正模型和制程变异带宽模型；根据所述光学临近修正模型和所述制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形；计算所述第一修正图形的第一模拟轮廓和所述第二修正图形的第二模拟轮廓的差异值；根据所述差异值的大小调整所述目标图形的修正方式。2.根据权利要求1所述的光学临近修正方法，其特征在于，所述根据所述差异值的大小调整所述目标图形的修正方式，包括：设置阈值；若所述差异值小于或等于所述阈值，则采用所述光学临近修正模型进行目标图形修正；若所述差异值大于所述阈值，则调整所述光学临近修正模型，采用调整后的所述光学临近修正模型进行目标图形修正。3.根据权利要求2所述的光学临近修正方法，其特征在于，所述调整所述光学临近修正模型，包括：通过改变亚分辨率辅助图形和/或调整图形大小的方式调整所述光学临近修正模型，直至利用调整后的所述光学临近修正模型得到的所述第一修正图形的第一模拟轮廓与所述第二修正图形的第二模拟轮廓的差异值小于或等于所述阈值。4.根据权利要求3所述的光学临近修正方法，其特征在于，还包括：若经过多次调整后所述光学临近修正模型得到的第一修正图形的第一模拟轮廓与所述第二修正图形的第二模拟轮廓的差异值仍大于所述阈值，则调整所述目标图形的目标值；利用调整后的所述目标值重新进行所述光学临近修正模型修正，直至利用调整后的所述光学临近修正模型得到的第一修正图形的第一模拟轮廓与所述第二修正图形的第二模拟轮廓的差异值小于或等于所述阈值。5.根据权利要求4所述的光学临近修正方法，其特征在于，所述调整所述目标图形的目标值的步骤，包括：计算所述目标图形与上层图形和/或下层图形之间的位置关系；根据所述位置关系调整所述目标值。6.根据权利要求5所述的光学临近修正方法，其特征在于，所述计算所述目标图形与上层图形和/或下层图形之间的位置关系，包括：计算所述目标图形的边界与所述目标图形有交叠的所述上层图形和/或所述下层图形的边界的距离。7.根据权利要求6所述的光学临近修正方法，其特征在于，所述计算所述目标图形与上层图形和/或下层图形之间的位置关系，还包括：计算所述目标图形的边界与所述目标图形有交叠的所述上层图形和/或所述下层图形的临近图形的边界的距离。8.根据权利要求1所述的光学临近修正方法，其特征在于，所述根据所述差异值的大小调整所述目标图形的修正方式的步骤中，还包括：获取所述第一修正图形和所述第二修正图形的模拟工艺窗口；若所述第一修正图形的模拟工艺窗口大于或等于所述第二修正图形的模拟工艺窗口，同时所述差异值小于或等于设置阈值，则采用所述光学临近修正模型修正图形；若所述第一修正图形的模拟工艺窗口小于所述第二修正图形的模拟工艺窗口，同时所述差异值小于或等于设置阈值，则采用所述制程变异带宽模型修正图形。9.根据权利要求1所述的光学临近修正方法，其特征在于，所述根据所述差异值的大小调整所述目标图形的修正方式的步骤中，还包括：获取所述第一修正图形和所述第二修正图形的模拟工艺窗口；若所述第一修正图形的模拟工艺窗口大于或等于所述第二修正图形的模拟工艺窗口，同时所述差异值大于设置阈值，则采用所述第一模拟轮廓和所述第二模拟轮廓中接近目标图形的目标值的修正方式。10.根据权利要求1所述的光学临近修正方法，其特征在于，所述利用所述晶圆数据建立光学临近修正模型和制程变异带宽模型，包括：获取当前光刻条件下的光学系统相关参数、掩模版相关参数、光刻目标膜层相关参数以及晶圆数据，建立所述光学临近修正模型；根据焦距能量矩阵的晶圆数据以及当前光刻条件数据，建立所述制程变异带宽模型。11.根据权利要求10所述的光学临近修正方法，其特征在于，所述焦距能量矩阵的晶圆数据包括以标准曝光量与标准焦深为中心，分别以预设曝光量步进值和预设焦深步进值沿正方向和负方向延伸形成的曝光量和焦深条件矩阵得到的晶圆数据。12.一种光学临近修正装置，其特征在于，包括：掩模版制作模块，用于制作测试掩模版；数据获取模块，用于利用所述测试掩模版获取当前光刻条件下的晶圆数据；模型建立模块，用于利用所述晶圆数据建立光学临近修正模型和制程变异带宽模型；修正模块，用于根据所述光学临近修正模型和所述制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形；计算模块，用于计算所述第一修正图形的第一模拟轮廓和所述第二修正图形的第二模拟轮廓的差异值；调整模块，用于根据所述差异值的大小调整所述目标图形的修正方式。
说明书desc
技术领域本发明实施例涉及半导体制造技术，尤其涉及一种光学临近修正方法及装置。背景技术由于紫外光的衍射效应，使得在硅片表面光刻胶上曝光成像图形发生畸变，并最终降低了成像质量，这被称为光学邻近效应，OPE引起的图形畸变主要表现为线宽偏移、线条变短、角部变圆等。通过对掩模上的图形做适当的修改以补偿这种效应，从而在硅片上得到和设计相同的图形，这种修正称为光学邻近修正。现有的OPC主要是确保硅片的关键尺寸接近设计目标，尽量减小边缘放置误差，但此时可能无法确保其光刻工艺窗口的大小符合制程上需求的范围，导致工艺的质量无法得到保证。发明内容本发明实施例提供一种光学临近修正方法及装置，该光学临近修正方法在修正时考虑制程变异带宽可能造成的变异，增大光刻工艺窗口，提高产品良率。第一方面，本发明实施例提供一种光学临近修正方法，包括：制作测试掩模版；利用所述测试掩模版获取当前光刻条件下的晶圆数据；利用所述晶圆数据建立光学临近修正模型和制程变异带宽模型；根据所述光学临近修正模型和所述制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形；计算所述第一修正图形的第一模拟轮廓和所述第二修正图形的第二模拟轮廓的差异值；根据所述差异值的大小调整所述目标图形的修正方式。可选的，所述根据所述差异值的大小调整所述目标图形的修正方式，包括：设置阈值；若所述差异值小于或等于所述阈值，则采用所述光学临近修正模型进行目标图形修正；若所述差异值大于所述阈值，则调整所述光学临近修正模型，采用调整后的所述光学临近修正模型进行目标图形修正。可选的，所述调整所述光学临近修正模型，包括：通过改变亚分辨率辅助图形和/或调整图形大小的方式调整所述光学临近修正模型，直至利用调整后的所述光学临近修正模型得到的所述第一修正图形的第一模拟轮廓与所述第二修正图形的第二模拟轮廓的差异值小于或等于所述阈值。可选的，还包括：若经过多次调整后所述光学临近修正模型得到的第一修正图形的第一模拟轮廓与所述第二修正图形的第二模拟轮廓的差异值仍大于所述阈值，则调整所述目标图形的目标值；利用调整后的所述目标值重新进行所述光学临近修正模型修正，直至利用调整后的所述光学临近修正模型得到的第一修正图形的第一模拟轮廓与所述第二修正图形的第二模拟轮廓的差异值小于或等于所述阈值。可选的，所述调整所述目标图形的目标值的步骤，包括：计算所述目标图形与上层图形和/或下层图形之间的位置关系；根据所述位置关系调整所述目标值。可选的，所述计算所述目标图形与上层图形和/或下层图形之间的位置关系，包括：计算所述目标图形的边界与所述目标图形有交叠的所述上层图形和/或所述下层图形的边界的距离。可选的，所述计算所述目标图形与上层图形和/或下层图形之间的位置关系，还包括：计算所述目标图形的边界与所述目标图形有交叠的所述上层图形和/或所述下层图形的临近图形的边界的距离。可选的，所述根据所述差异值的大小调整所述目标图形的修正方式的步骤中，还包括：获取所述第一修正图形和所述第二修正图形的模拟工艺窗口；若所述第一修正图形的模拟工艺窗口大于或等于所述第二修正图形的模拟工艺窗口，同时所述差异值小于或等于设置阈值，则采用所述光学临近修正模型修正图形；若所述第一修正图形的模拟工艺窗口小于所述第二修正图形的模拟工艺窗口，同时所述差异值小于或等于设置阈值，则采用所述制程变异带宽模型修正图形。可选的，所述根据所述差异值的大小调整所述目标图形的修正方式的步骤中，还包括：获取所述第一修正图形和所述第二修正图形的模拟工艺窗口；若所述第一修正图形的模拟工艺窗口大于或等于所述第二修正图形的模拟工艺窗口，同时所述差异值大于设置阈值，则采用所述第一模拟轮廓和所述第二模拟轮廓中接近目标图形的目标值的修正方式。可选的，所述利用所述晶圆数据建立光学临近修正模型和制程变异带宽模型，包括：获取当前光刻条件下的光学系统相关参数、掩模版相关参数、光刻目标膜层相关参数以及晶圆数据，建立所述光学临近修正模型；根据焦距能量矩阵的晶圆数据以及当前光刻条件数据，建立所述制程变异带宽模型。可选的，所述焦距能量矩阵的晶圆数据包括以标准曝光量与标准焦深为中心，分别以预设曝光量步进值和预设焦深步进值沿正方向和负方向延伸形成的曝光量和焦深条件矩阵得到的晶圆数据。第二方面，本发明实施例还提供一种光学临近修正装置，包括：掩模版制作模块，用于制作测试掩模版；数据获取模块，用于利用所述测试掩模版获取当前光刻条件下的晶圆数据；模型建立模块，用于利用所述晶圆数据建立光学临近修正模型和制程变异带宽模型；修正模块，用于根据所述光学临近修正模型和所述制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形；计算模块，用于计算所述第一修正图形的第一模拟轮廓和所述第二修正图形的第二模拟轮廓的差异值；调整模块，用于根据所述差异值的大小调整所述目标图形的修正方式。本发明实施例提供的光学临近修正方法，通过制作测试掩模版，利用测试掩模版进行光刻测试；通过测试掩模版获取当前光刻条件下的晶圆数据；通过晶圆数据建立光学临近修正模型和制程变异带宽模型；通过根据光学临近修正模型和制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形；通过计算第一修正图形的第一模拟轮廓和第二修正图形的第二模拟轮廓的差异值；根据差异值的大小调整目标图形的修正方式。通过在光学临近修正时考虑制程变异带宽可能造成的变异，解决现有修正时可能导致光刻工艺窗口不足的问题，增大光刻工艺窗口，提高产品良率。附图说明图1是本发明实施例提供的一种光学临近修正方法的流程示意图；图2是本发明实施例提供的一种理想情况下的标准条件时目标图形与光刻图形轮廓示意图；图3是本发明实施例提供的一种理想情况下的FEM对应目标图形与光刻图形轮廓示意图；图4是本发明实施例提供的一种实际情况下的FEM对应目标图形与光刻图形轮廓示意图；图5是本发明实施例提供的一种调整目标图形的修正方式的流程示意图；图6是本发明实施例提供的一种孔状目标图形的结构示意图。具体实施方式下面结合附图和实施例对本发明作进一步的详细说明。可以理解的是，此处所描述的具体实施例仅仅用于解释本发明，而非对本发明的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与本发明相关的部分而非全部结构。在本发明实施例中使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本发明。需要注意的是，本发明实施例所描述的“上”、“下”、“左”、“右”等方位词是以附图所示的角度来进行描述的，不应理解为对本发明实施例的限定。此外在上下文中，还需要理解的是，当提到一个元件被形成在另一个元件“上”或“下”时，其不仅能够直接形成在另一个元件“上”或者“下”，也可以通过中间元件间接形成在另一元件“上”或者“下”。术语“第一”、“第二”等仅用于描述目的，并不表示任何顺序、数量或者重要性，而只是用来区分不同的组成部分。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。图1为本发明实施例提供的一种光学临近修正方法的流程示意图，本实施例可适用于光刻工艺中进行光学临近修正的情形，该方法可以由光学临近修正装置来执行，该光学临近修正装置可以采用软件和/或硬件的方式实现，例如，该光学临近修正装置可配置于计算机设备中。如图1所示，该光学临近修正方法包括：步骤S110、制作测试掩模版。本实施例中，测试掩模版可以包括多种类型的测试图形，例如线条测试图形，孔测试图形等。测试掩模版根据测试图形的设计规则进行设计，例如，对于线条测试图形，其设计规则包括线条测试图形目标线宽、线条测试图形的目标长度、线条测试图形之间的目标间距等。步骤S120、利用测试掩模版获取当前光刻条件下的晶圆数据。利用上一步骤中制作的测试掩模版，在当前光刻条件下，例如当前照明模式、光刻胶种类、光刻胶厚度等选定的条件下，进行晶圆曝光，可以收集通过测试掩模版曝光形成的晶圆上的各种数据。步骤S130、利用晶圆数据建立光学临近修正模型和制程变异带宽模型。可选的，利用晶圆数据建立光学临近修正模型和制程变异带宽模型包括：获取当前光刻条件下的光学系统相关参数、掩模版相关参数、光刻目标膜层相关参数以及晶圆数据，建立光学临近修正模型；其中，光学系统相关参数包括光源的波长、数值孔径NA、部分相干因子sigma等，掩模版相关参数包括掩模版上的测试图形类型、形状、大小等，光刻目标膜层相关参数包括曝光晶圆上的不同膜层之间的堆叠关系、厚度等，根据这些参数以及晶圆数据，以此建立光学临近修正模型并进行模拟与校正。利用所述光学临近修正模型可以模拟修正后的图形经曝光后在晶圆上形成的光刻图形轮廓，并按照仿真结果选择标准曝光量以及标准焦深作为标准条件进行校正。示例性的，图2为本发明实施例提供的一种理想情况下的标准条件时目标图形与光刻图形轮廓示意图，其中矩形1为目标图形轮廓，椭圆2为光刻图形轮廓。根据焦距能量矩阵的晶圆数据以及当前光刻条件数据，建立制程变异带宽模型。可选的，焦距能量矩阵的晶圆数据包括以标准曝光量与标准焦深为中心，分别以预设曝光量步进值和预设焦深步进值沿正方向和负方向延伸形成的曝光量和焦深条件矩阵得到的晶圆数据。可以理解的是，焦距能量矩阵是以标准曝光量和标准焦深为中心，将曝光量和焦深分别按预设步进值变化得到的条件矩阵。示例性的，表1所示为某光刻条件下的一种FEM实例，其标准曝光量为25mJ/cm2，标准焦深为0.2nm，预设曝光量步进值和预设焦深步进值分别为0.25mJ/cm2和0.05nm沿正负方向延伸，在制程允许的范围内，在两個极值交界的轮廓区域内，理想情况下会形成由标准轮廓向外和向内移动的对称轮廓，示例性的，图3为本发明实施例提供的一种理想情况下的FEM对应目标图形与光刻图形轮廓示意图，其中矩形1为目标图形轮廓，椭圆2为标准条件光刻图形轮廓，椭圆3为正离焦或过曝光条件光刻图形轮廓，椭圆4为负离焦或欠曝光条件光刻图形轮廓。表1一种FEM实例在给定焦深和曝光量条件下用光刻仿真轮廓，制程变化带宽定义为外轮廓和内轮廓之间的区域。在实际情况下，由于存在许多系统或随机变异来源，图4为本发明实施例提供的一种实际情况下的FEM对应目标图形与光刻图形轮廓示意图，其中矩形1为目标图形轮廓，椭圆2为标准条件光刻图形轮廓，椭圆3为正离焦或过曝光条件光刻图形轮廓，椭圆4为负离焦或欠曝光条件光刻图形轮廓。根据FEM的晶圆数据和当前的光刻条件数据，可以建立制程变异带宽模型。具体的，利用FEM定义的曝光条件对晶圆进行曝光，可以得到在不同曝光量和焦深条件下真实的晶圆数据，利用所述晶圆数据以及光刻条件建立制程变异带宽模型。步骤S140、根据光学临近修正模型和制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形。本实施例中，根据光学临近修正模型和制程变异带宽模型分别进行目标图形修正，得到第一修正图形和第二修正图形，并得到第一修正图形的第一模拟轮廓和第二修正图形的第二模拟轮廓。步骤S150、计算第一修正图形的第一模拟轮廓和第二修正图形的第二模拟轮廓的差异值。步骤S160、根据差异值的大小调整目标图形的修正方式。图5为本发明实施例提供的一种调整目标图形的修正方式的流程示意图。参考图5，可选的，根据差异值的大小调整目标图形的修正方式，包括：步骤S161、设置阈值。步骤S162a、若差异值小于或等于阈值，则采用光学临近修正模型进行目标图形修正。步骤162b、若差异值大于阈值，则调整光学临近修正模型，采用调整后的光学临近修正模型进行目标图形修正。具体实施时，所述阈值可以根据实际光刻条件设定，本发明实施例不对具体数值进行限定。例如，所述阈值为10nm、5nm、3nm或1nm。本实施例的技术方案，通过制作测试掩模版，利用测试掩模版进行光刻测试；通过测试掩模版获取当前光刻条件下的晶圆数据；通过晶圆数据建立光学临近修正模型和制程变异带宽模型；通过根据光学临近修正模型和制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形；通过计算第一修正图形的第一模拟轮廓和第二修正图形的第二模拟轮廓的差异值；根据差异值的大小调整目标图形的修正方式。通过在光学临近修正时考虑制程变异带宽可能造成的变异，解决现有修正时可能导致光刻工艺窗口不足的问题，增大光刻工艺窗口，提高产品良率。在上述技术方案的基础上，可选的，调整光学临近修正模型，包括：通过改变亚分辨率辅助图形和/或调整图形大小的方式调整光学临近修正模型，直至利用调整后的光学临近修正模型得到的第一修正图形的第一模拟轮廓与第二修正图形的第二模拟轮廓的差异值小于或等于阈值。可以理解的是，亚分辨率辅助图形是在集成电路设计版图中的目标图形周围添加一些细小的图形，使目标图形在光学角度上看像密集图形，这些细小图形必须小于光刻机分辨率，曝光时，这些图形只对光线起到透射作用，而不会被转移到光刻胶上。可选的，调整光学临近修正模型还包括：若经过多次调整后光学临近修正模型得到的第一修正图形的第一模拟轮廓与第二修正图形的第二模拟轮廓的差异值仍大于阈值，则调整目标图形的目标值；利用调整后的目标值重新进行光学临近修正模型修正，直至利用调整后的光学临近修正模型得到的第一修正图形的第一模拟轮廓与第二修正图形的第二模拟轮廓的差异值小于或等于阈值。在具体实施时，多次调整光学临近修正模型可能仍无法使光学临近修正模型得到的第一修正图形的第一模拟轮廓与第二修正图形的第二模拟轮廓的差异值小于或等于阈值，此时可以在制程允许的情况下，调整目标图形的目标值，然后利用调整后的目标值进行光学临近修正，从而利用调整后的光学临近修正模型得到的第一修正图形的第一模拟轮廓与第二修正图形的第二模拟轮廓的差异值小于或等于阈值，增大光刻工艺窗口，提高产品良率。具体的，所述目标图形的目标值包括但不限于光刻工艺步骤中目标图形预设的光刻后所要达到的目标值，也可以为刻蚀工艺步骤中目标图形预设的刻蚀后所要达到的目标值。示例性的，某一目标图形为线条状凸起或凹槽形状，该形状周围某一距离内没有其他图形，那么该图形可以看作是孤立图形，在制程允许的范围内，EPE可以牺牲掉1nm～2nm，以使PV band尽可能趋近标准条件，从而保证足够的光刻工艺窗口。可选的，调整目标图形的目标值的步骤，包括：计算目标图形与上层图形和/或下层图形之间的位置关系；根据位置关系调整目标值。可以理解的是，利用光刻工艺制作的半导体器件，一般包括层叠设置的多个膜层，通过计算目标图形与上层图形和/或下层图形之间的位置关系，在目标图形与上层图形和/或下层图形不会相互影响且在制程允许的条件下，调整目标值的大小，以使第一修正图形的第一模拟轮廓与第二修正图形的第二模拟轮廓的差异值小于或等于阈值，从而增大光刻工艺窗口。可选的，计算目标图形与上层图形和/或下层图形之间的位置关系，包括：计算目标图形的边界与目标图形有交叠的上层图形和/或下层图形的边界的距离。示例性的，图6为本发明实施例提供的一种孔状目标图形的结构示意图，参考图6，孔10与下层的线状图形20交叠，由于曝光后的图形与光刻后的图形都会产生一定的偏差，为了保证线状图形20完全包围孔10，一般设置二者边界距离d大于15nm～20nm，从而避免光刻后电连接不良的问题。可选的，计算目标图形与上层图形和/或下层图形之间的位置关系，还包括：计算目标图形的边界与目标图形有交叠的上层图形和/或下层图形的临近图形边界的距离。可以理解的是，在实际调整的过程中，还需要考虑目标图形边界与目标图形有交叠的上层图形和/或下层图形的临近图形边界的距离，例如两个图形的间距小于预设的调整距离，需要避免同层图形出现交叠情况下进行调整。可选的，根据差异值的大小调整目标图形的修正方式的步骤中，还包括：获取第一修正图形和第二修正图形的模拟工艺窗口；若第一修正图形的模拟工艺窗口大于或等于第二修正图形的模拟工艺窗口，同时差异值小于或等于设置阈值，则采用光学临近修正模型修正图形；若第一修正图形的模拟工艺窗口小于第二修正图形的模拟工艺窗口，同时差异值小于或等于设置阈值，则采用制程变异带宽模型修正图形。可以理解的是，选用工艺窗口较大的方法修正图形，可以有效提高产品良率。可选的，根据差异值的大小调整目标图形的修正方式的步骤中，还包括：获取第一修正图形和第二修正图形的模拟工艺窗口；若第一修正图形的模拟工艺窗口大于或等于第二修正图形的模拟工艺窗口，同时差异值大于设置阈值，则采用第一模拟轮廓和第二模拟轮廓中接近目标图形的目标值的修正方式。通过采用接近目标图形的目标值的修正方式，可以使光刻目标的误差尽可能小，提高光刻工艺质量。本发明实施例还提供一种光学临近修正装置，包括：掩模版制作模块，用于制作测试掩模版；数据获取模块，用于利用测试掩模版获取当前光刻条件下的晶圆数据；模型建立模块，用于利用晶圆数据建立光学临近修正模型和制程变异带宽模型；可选的，模型建立模块具体用于：获取当前光刻条件下的光学系统相关参数、掩模版相关参数、光刻目标膜层相关参数以及晶圆数据，建立光学临近修正模型；根据焦距能量矩阵的晶圆数据以及当前光刻条件数据，建立制程变异带宽模型。可选的，焦距能量矩阵的晶圆数据包括以标准曝光量与标准焦深为中心，分别以预设曝光量步进值和预设焦深步进值沿正方向和负方向延伸形成的曝光量和焦深条件矩阵得到的晶圆数据。修正模块，用于根据光学临近修正模型和制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形；计算模块，用于计算第一修正图形的第一模拟轮廓和第二修正图形的第二模拟轮廓的差异值；调整模块，用于根据差异值的大小调整目标图形的修正方式。可选的，调整模块具体用于：设置阈值；若差异值小于或等于阈值，则采用光学临近修正模型进行目标图形修正；若差异值大于阈值，则调整光学临近修正模型，采用调整后的光学临近修正模型进行目标图形修正。本实施例的技术方案，通过掩模版制作模块制作测试掩模版，利用测试掩模版进行光刻测试；通过数据获取模块利用测试掩模版获取当前光刻条件下的晶圆数据；通过模型建立模块利用晶圆数据建立光学临近修正模型和制程变异带宽模型；通过修正模块根据光学临近修正模型和制程变异带宽模型进行目标图形修正，分别得到第一修正图形和第二修正图形；通过计算模块计算第一修正图形的第一模拟轮廓和第二修正图形的第二模拟轮廓的差异值；通过调整模块根据差异值的大小调整目标图形的修正方式。通过在光学临近修正时考虑制程变异带宽可能造成的变异，解决现有修正时可能导致光刻工艺窗口不足的问题，增大光刻工艺窗口，提高产品良率。可选的，调整光学临近修正模型，包括：通过改变亚分辨率辅助图形和/或调整图形大小的方式调整光学临近修正模型，直至利用调整后的光学临近修正模型得到的第一修正图形的第一模拟轮廓与第二修正图形的第二模拟轮廓的差异值小于或等于阈值。可选的，调整光学临近修正模型还包括：若经过多次调整后光学临近修正模型得到的第一修正图形的第一模拟轮廓与第二修正图形的第二模拟轮廓的差异值仍大于阈值，则调整目标图形的目标值；利用调整后的目标值重新进行光学临近修正模型修正，直至利用调整后的光学临近修正模型得到的第一修正图形的第一模拟轮廓与第二修正图形的第二模拟轮廓的差异值小于或等于阈值。可选的，调整目标图形的目标值的步骤，包括：计算目标图形与上层图形和/或下层图形之间的位置关系；根据位置关系调整目标值。可选的，计算目标图形与上层图形和/或下层图形之间的位置关系，包括：计算目标图形的边界与目标图形有交叠的上层图形和/或下层图形的边界的距离。可选的，计算目标图形与上层图形和/或下层图形之间的位置关系，还包括：计算目标图形的边界与目标图形有交叠的上层图形和/或下层图形的临近图形边界的距离。可选的，调整模块还用于：获取第一修正图形和第二修正图形的模拟工艺窗口；若第一修正图形的模拟工艺窗口大于或等于第二修正图形的模拟工艺窗口，同时差异值小于或等于设置阈值，则采用光学临近修正模型修正图形；若第一修正图形的模拟工艺窗口小于第二修正图形的模拟工艺窗口，同时差异值小于或等于设置阈值，则采用制程变异带宽模型修正图形。可选的，调整模块还用于：获取第一修正图形和第二修正图形的模拟工艺窗口；若第一修正图形的模拟工艺窗口大于或等于第二修正图形的模拟工艺窗口，同时差异值大于设置阈值，则采用第一模拟轮廓和第二模拟轮廓中接近目标图形的目标值的修正方式。注意，上述仅为本发明的较佳实施例及所运用技术原理。本领域技术人员会理解，本发明不限于这里所述的特定实施例，对本领域技术人员来说能够进行各种明显的变化、重新调整和替代而不会脱离本发明的保护范围。因此，虽然通过以上实施例对本发明进行了较为详细的说明，但是本发明不仅仅限于以上实施例，在不脱离本发明构思的情况下，还可以包括更多其他等效实施例，而本发明的范围由所附的权利要求范围决定。
