标题title
一种反熔丝存储单元及其数据读写电路
摘要abst
本发明公开了一种反熔丝存储单元及其数据读写电路，反熔丝存储单元包括基底，基底上有一N阱和非N阱区，非N阱区上设有第一NMOS管，所述第一NMOS管的栅极用于输入第一选通信号，所述N阱上设有PMOS管和电容管，PMOS管与电容管的栅极均连接第一NMOS管的漏极，PMOS管的漏极、源极、衬底及电容管的漏极、源极、衬底均连接可控电源。本发明增加了可编程区域的面积，减小了存储单元击穿后的导通电阻，提高了可靠性，降低了成本，并有利于提高数据读取速度。
权利要求书clms
1.一种反熔丝存储单元，其特征在于，包括基底，基底上有一N阱和非N阱区，非N阱区上设有第一NMOS管，所述第一NMOS管的栅极用于输入第一选通信号，所述N阱上设有PMOS管和电容管，PMOS管与电容管的栅极均连接第一NMOS管的漏极，N阱、PMOS管的漏极、源极、衬底及电容管的漏极、源极、衬底均连接可控电源。2.根据权利要求1所述的反熔丝存储单元，其特征在于，电容管的漏极、源极中至少一个是N型注入，复用作PMOS管的N阱接触，PMOS管无专用的N阱接触。3.根据权利要求1或2所述的反熔丝存储单元，其特征在于，PMOS管的源极与电容管的源极邻接，PMOS管的漏极与电容管的漏极邻接，PMOS管的有源区与电容管的有源区邻接，PMOS管的栅极与电容管的栅极邻接或共用一个栅极。4.根据权利要求1或2所述的反熔丝存储单元，其特征在于，第一NMOS管是IO器件或者高压工艺器件，PMOS管、电容管中至少一个是CORE内核器件或者低压工艺器件。5.根据权利要求1或2所述的反熔丝存储单元，其特征在于，所述可控电源包括编程高压和正常工作电压两种状态。6.一种包含权利要求1-5任一所述的反熔丝存储单元的数据读写电路，其特征在于，还包括第二NMOS管、参考信号及比较器，第二NMOS管的栅极用于输入第二选通信号，第二NMOS管的漏极连接第一NMOS管的源极，第二NMOS管的源极与参考信号连接比较器的输入端，比较器的输出端输出逻辑电平。7.一种反熔丝存储器，其特征在于，包括多个如权利要求1-5任一所述的反熔丝存储单元，多个反熔丝存储单元呈矩阵连接，不同的反熔丝存储单元输入不同的第一选通信号或不同的第二选通信号。8.根据权利要求7所述的反熔丝存储器，其特征在于，连接同一第二选通信号的相邻两个反熔丝存储单元共用一个PMOS管的源极或漏极，且共用一个电容管的源极或漏极。9.一种如权利要求7或8所述的反熔丝存储器的操作方法，其特征在于，包括数据写入方法，数据写入方法包括：将可控电源切换到编程高压，将需要写入值的反熔丝存储单元作为写目标单元，根据该写目标单元的位置寻址，将写目标单元的第一选通信号和第二选通信号均置为高电平；对于不需要写入值的反熔丝存储单元，将第一选通信号、第二选通信号中至少一个置0V。10.根据权利要求9所述的反熔丝存储器的操作方法，其特征在于，包括数据读取方法，数据读取方法包括：将可控电源切换到正常工作电压，所述正常工作电压不超过编程高压的30%，将需要读取的反熔丝存储单元作为读目标单元，根据读目标单元的位置寻址，将读目标单元的第一选通信号和第二选通信号均置为高电平，比较器输出有效值或无效值。
说明书desc
技术领域本发明属于集成电路设计领域，尤其涉及一种反熔丝存储单元及其数据读写电路。背景技术半导体技术的发展为产品智能化带来机遇，电子智能化通常少不了MCU，而MCU的必要部分是存储器，OTP存储器因其密度高、MASK层次少、成本低等优点而得到广泛应用。目前市场上OTP存储器种类繁多，也在不断更新换代，早期的浮栅型OTP无法可靠用于65nm或更先进工艺中较薄的栅氧层，故先进工艺普遍采用反熔丝方案。由于一个存储器需要成千上万个OTP存储单元排成一阵列实现，因此存储单元的结构及其排列密度直接决定了存储器的面积，从而影响其成本。另外，可靠性和读取速度即MCU运行速度也是存储器的主要指标。发明内容发明目的：为了解决现有技术中，反熔丝存储器面积大成本高、导通电阻大、降低读取速度和可靠性的问题，本发明提出一种反熔丝存储单元及其数据读写电路。本发明的另一目的是提供一种反熔丝存储器。技术方案：一种反熔丝存储单元，包括基底，基底上有一N阱和非N阱区，非N阱区上设有第一NMOS管，所述第一NMOS管的栅极用于输入第一选通信号，所述N阱上设有PMOS管和电容管，PMOS管与电容管的栅极均连接第一NMOS管的漏极，N阱、PMOS管的漏极、源极、衬底及电容管的漏极、源极、衬底均连接可控电源。进一步地，电容管的漏极、源极中至少一个是N型注入，复用作PMOS管的N阱接触，PMOS管无需专用的N阱接触，从而节约了专用N阱接触带来的公摊面积。进一步地，PMOS管的源极与电容管的源极邻接，PMOS管的漏极与电容管的漏极邻接，PMOS管的有源区与电容管的有源区邻接，PMOS管的栅极与电容管的栅极邻接或共用一个栅极。进一步地，第一NMOS管是IO器件或者高压工艺器件，PMOS管、电容管中至少一个是CORE内核器件或者低压工艺器件。进一步地，所述可控电源包括编程高压和正常工作电压两种状态，正常工作电压是其常态，用于读取数据；编程高压仅在编程时用到，作为OTP存储器通常只会被编程一次，故编程高压通常只用到一次。一种包含上述反熔丝存储单元的数据读写电路，还包括第二NMOS管、参考信号及比较器，第二NMOS管的栅极用于输入第二选通信号，第二NMOS管的漏极连接第一NMOS管的源极，第二NMOS管的源极与参考信号连接比较器的输入端，比较器的输出端输出逻辑电平。一种反熔丝存储器，包括多个上述反熔丝存储单元，多个反熔丝存储单元呈矩阵连接，不同的反熔丝存储单元输入不同的第一选通信号或不同的第二选通信号。进一步地，连接同一第二选通信号的相邻两个反熔丝存储单元共用一个PMOS管的源极或漏极，且共用一个电容管的源极或漏极，以节约芯片面积。一种上述反熔丝存储器的操作方法，包括数据写入方法，数据写入方法包括：将可控电源切换到编程高压，将需要写入值的反熔丝存储单元作为写目标单元，根据该写目标单元的位置寻址，将写目标单元的第一选通信号和第二选通信号均置为高电平；对于不需要写入值的反熔丝存储单元，将第一选通信号、第二选通信号中至少一个置0V。进一步地，包括数据读取方法，数据读取方法包括：将可控电源切换到正常工作电压，所述正常工作电压不超过编程高压的30%，将需要读取的反熔丝存储单元作为读目标单元，根据读目标单元的位置寻址，将读目标单元的第一选通信号和第二选通信号均置为高电平，比较器输出有效值或无效值。工作原理：本发明中的电容管相当于放置于N阱中的特殊NMOS管，部分工艺会将其完全独立出来并提供模型，称之为可变电容管Varactor。根据CMOS工艺原理、电子学原理分析和实验发现，在那些未独立提供模型的普通CMOS制造工艺中，此特殊器件也是完全可行的，完全无需增加MASK或者改动工艺流程。编程时，第一NMOS导通，使PMOS管和电容管的栅极是0或较低电压，N阱是可控电源的正高压，相当于负高压同时作用于PMOS管和电容管的栅极，并在栅极下的N阱中形成P反型，此P反型与PMOS管的源漏同极性，故可低阻导通，有利于可靠地击穿并形成低阻连接。正常工作过程进行读取操作时，第一NMOS导通，但由于N阱可控电源是正常工作电压，相对较低，所以那些已被击穿并形成阻性连接的栅极与N阱之间压差较小，故不再形成P反型或者是不完全反型。此处栅极下的原N型与电容管的源漏同极性，此处如有P反型，则与PMOS的源漏同极性，不管哪种，本发明均能借助两种极性的源漏提供可靠的低阻导通，从而提高芯片良率、提高读取速度，并大幅简化比较器的设计。另一方面，由于N阱有最小宽度的规则要求，即使将PMOS管和电容管邻接后，使得两者并联后的有源区宽度增加，但仍然没有超过最小宽度规则下N阱所能包含的有源区宽度，即，没有因此而增加N阱面积。本发明将电容管即特殊NMOS与PMOS邻接，既增大了存储单元的可编程接触面积，也能兼做PMOS管的N阱接触，节约了总体面积，还降低了编程后的导通电阻。本发明提出一种反熔丝存储单元及其数据读写电路，相比较现有技术，具有以下有益效果：1、PMOS管与电容管邻接，共同作为存储单元的可编程区域，相当于提供了两倍的栅氧面积，有利于在需要时能被高压可靠地击穿。2、电容管的源漏极兼做了N阱接触，N阱接触点距离可编程区域较近，降低了高压击穿后的导通电阻，提升了可靠性，简化了比较器的设计，低阻导通和简化设计有利于提高数据读取速度。3、PMOS管与电容管两者共用一个N阱区，提高性能的同时也未增加单元面积，同时还节约了常规设计中为PMOS管预留的专用N阱接触的面积。4、相比常规反熔丝设计中的栅极接编程高压、要考虑栅极耐压，本发明利用N阱作为编程高压输入，充分发挥了N阱耐压远高于栅极的特性，降低了高压电路的设计难度。5、相比常规反熔丝设计中的N阱接第一NMOS管漏极、要考虑N阱对衬底寄生电容大的缺点，本发明将N阱作为可控电源端，正常工作中处于静态电压，N阱寄生电容大的缺点完全不影响读取速度。6、本发明只采用了CMOS先进工艺标配的内核低压器件和IO高压器件，兼容现有常规制造工艺，无需增加任何掩膜版，易于制造，良率高，综合成本低。附图说明图1为反熔丝存储单元的电路原理图；图2为反熔丝存储单元的数据读写电路原理图；图3为反熔丝存储单元的数据读写电路另一种实现方式；图4为反熔丝存储单元的版图；图5为图4中PMOS管与电容管沿A-A’线的剖面图；图6为2bit反熔丝存储单元的电路原理图；图7为2bit反熔丝存储单元的数据读写电路原理图；图8为2bit反熔丝存储单元的版图；图9为8×4 bits反熔丝存储单元阵列的电路原理图；图10为8×4 bits反熔丝存储单元阵列的版图。具体实施方式下面结合附图和具体实施例对本发明做进一步解释说明。实施例一：如图1所示，一种反熔丝存储单元，包括第一NMOS管Q1、PMOS管Q2及电容管Q3，N阱、PMOS管的漏极、源极、衬底及电容管的漏极、源极、衬底均连接可控电源VPD。PMOS管及电容管的栅极连接第一NMOS管的漏极，第一NMOS管的栅极输入第一选通信号WSNm。第一NMOS管Q1采用IO器件或者2.5V~5V高压的工艺器件，如2.5V/3.3V/5V，可以短时间承受偶尔编程时的较高编程电压，PMOS管和电容管采用CORE内核器件或者0.7V~1.8V低压的工艺器件，如0.9V/1.0V/1.2V/1.5V/1.8V。从版图上看，如图4所示，为了便于观看，右侧虚线框中为左侧版图的拆解图。该反熔丝存储单元包括基底2，基底2上有一N阱区3和非N阱区4，非N阱区4上设有第一NMOS管5，所述第一NMOS管5的栅极用于输入第一选通信号，所述N阱区3上设有PMOS管6和电容管7，PMOS管6与电容管7的栅极均连接第一NMOS管5的漏极，PMOS管6的漏极、源极、衬底及电容管7的漏极、源极、衬底均连接可控电源。如图5所示，PMOS管6与电容管7同在一个N阱区内。电容管7的沟道由N阱形成，其源极和漏极为N+注入层，和N阱是连接关系，且连接电源，因此电容管7的漏极、源极中至少一个可以复用作PMOS管6的N阱接触，PMOS管6无专用的N阱接触。这样可以减小面积，使反熔丝存储单元排列密度更大。此外，可将PMOS管6和电容管7紧靠在一起，如PMOS管6的源极与电容管7的源极邻接butted，PMOS管6的漏极与电容管7的漏极紧靠，PMOS管的栅极与电容管的栅极紧靠或者可以说是共用一个栅极8，以此进一步减小面积。第一NMOS管的漏极靠近PMOS管、电容管的栅极放置，进一步减小面积，提高器件排列密度。可控电源VPD包括编程高压和正常工作电压两种状态，高压4~7V，如5V；正常工作电压是相对低压的0.7~1.8V，如1.2V，也可以根据不同环境选择使用其他数值。数据写入时，VPD输入高压；数据读取时，VPD输入低压。图2为反熔丝存储单元的数据读写电路，包括如上的反熔丝存储单元1、第二NMOS管Q4、参考电流源IREF及比较器，第二NMOS管的栅极用于输入第二选通信号，第二NMOS管的漏极连接第一NMOS管的源极，第二NMOS管的源极连接比较器的第一输入端，比较器的第二输入端连接参考电流源IREF，比较器的输出端输出逻辑电平。除此之外，还可以使用电压比较器，相应使用参考电压源实现。在实现方式上也可以如图3所示，第二NMOS管的源极连接参考电流源及比较器。反熔丝存储器，包括多个反熔丝存储单元，多个反熔丝存储单元呈矩阵连接，如图9所示，不同的反熔丝存储单元输入不同的第一选通信号WSN或不同的第二选通信号BSN，通过第一选通信号WSN及第二选通信号BSN选通需要写入值的存储单元，图10为矩阵阵列的版图，WSN1、WSN2、WSN3、WSN4、分别为四个不同的第一选通信号，每一排的存储单元的第一选通信号相同，第二选通信号不同。如图6为2 bit反熔丝存储单元的电路图，图7为2 bit反熔丝存储单元的读写电路图，两个单元的第一选通信号分别为WSNm、WSNn，且共用第二选通信号BSNm。为了进一步缩小面积，以尽可能地增大排列密度，如图8所示，连接同一第二选通信号的相邻两个反熔丝存储单元可以共用一个PMOS管的源极或漏极，共用一个电容管的源极或漏极，且共用一个N阱区3。反熔丝存储器的操作方法，包括数据写入方法和数据读取方法，具体如下：数据写入时，可控电源输入高压4~7V，如5V，PMOS管和电容管的源极、漏极、衬底均被拉到高压电位。将需要写入有效值的反熔丝存储单元作为写目标单元，根据写目标单元的位置寻址，如图7，将其对应的第一选通信号WSNm和第二选通信号BSNm均置为高电平例如3.3V，使第一NMOS管Q1和第二NMOS管Q4导通，对于需要写入有效值的写目标单元，PMOS管和电容管的栅极被拉到0V。PMOS管的栅电容两端一般工作电压不超过2V，但此时两端压差能够达到5V，此编程高压使PMOS管、电容管栅极与N阱/源极/漏极/衬底高压击穿，使该存储单元形成电阻性连接，形成导电通路，相当于一个导通电阻，写入操作完成。对于不需要写入有效值或写入无效值的反熔丝存储单元，将该存储单元的第一选通信号WSNm、第二选通信号BSNm中至少一个置0V，使该存储单元的第一NMOS管Q1、第二NMOS管Q4中至少一个不导通，该存储单元保持绝缘状态。PMOS管、电容管的栅极与N阱之间没有足够的压差，故栅极到N阱之间不会被击穿，也就不会形成导电通路。数据读取时，可控电源切换至相对较低的正常工作电压，此低压不超过编程高压的30%，如1.2V，PMOS管和电容管的源极、漏极、衬底被拉到低压电源电位VDDK的1.2V。将需要读取的存储单元作为读目标单元，将所有读目标单元的第一选通信号和第二选通信号均置为高电平，例如3.3V或者1.8V，第一NMOS管、第二NMOS管导通。对于位值被写入的存储单元，该位由于之前被编程高压写入，其PMOS管的栅电容被击穿，处于电阻性连接状态。此时VPD=1.2V，经过该导通电阻输出到比较器的输入端。以图3为例，由于IREF电流值为数uA到数十uA的量级，比较器的输入端被拉高为1.2V。由此比较器输出高于参考的有效值。对于位值保持无效的单元，该位由于之前未被编程高压写入，其PMOS管、电容管的栅电容没有被击穿，不存在电阻性通路，存储单元处于绝缘状态。以图3为例，此时VPD=1.2V，基本上不会有电流经PMOS或电容管到达比较器的输入端。IREF将比较器的输入端下拉为0V。由此比较器输出低于参考的无效值。实施例二：实施例二与实施例一的区别仅在于，反熔丝存储单元的读写电路中，第二NMOS管的源极BX点还连接有上拉管和下拉管，在数据写入时，对于需要写入有效值的存储单元，除了将写目标单元的第一选通信号WSNm和第二选通信号BSNm均置为高电平以外，BX点下拉为0V低电位；对于不需要写入有效值或者写入无效值的存储单元，BX点上拉为高电位如4.3V。其余部分与实施例一相同。
