标题title
一种基于模型的工业边云协同系统和方法
摘要abst
本发明涉及一种基于模型的工业边云协同系统和方法，边缘侧，用于基于统一协议库实现工业协议转换，基于容器运行时构建工业模型运行环境，基于模型管理实现工业模型属性定义以及方法映射，基于模型解析引擎对云侧构建的工业app和工业模型进行解析和执行；云侧，用于与边缘侧进行工业模型同步，实现工业模型管理并构建工业APP。本发明支持在云侧基于模型编写业务逻辑并生成工业app，将工业app通过模型管理下发给边缘侧，边缘侧基于模型解析引擎和数据关联引擎对工业app进行解析，通过模型管理模块进行执行，基于此可通过该协同方法快速构建工业APP。
权利要求书clms
1.一种基于模型的工业边云协同系统，其特征在于，包括：边缘侧，用于基于统一协议库实现工业协议转换，基于容器运行时构建工业模型运行环境，基于模型管理实现工业模型属性定义以及方法映射，基于模型解析引擎对云侧构建的工业app和工业模型进行解析和执行；云侧，用于与边缘侧进行工业模型同步，实现工业模型管理并构建工业APP。2.根据权利要求1所述的一种基于模型的工业边云协同系统，其特征在于，所述边缘侧包括：统一协议库，包括按终端类别划分的各类驱动，为容器运行时提供协议解析支撑；容器运行时，用于基于统一协议库形成数据资源池、原子服务目录、自定义服务目录，提供工业模型构建的环境支撑；模型管理，用于在边缘侧构建工业模型；执行引擎，包括数据关联检索引擎和模型解析引擎，用于在边缘侧基于工业模型构建云侧所需的数据格式，对云侧构建的工业app进行逻辑解析与模型映射。3.根据权利要求2所述的一种基于模型的工业边云协同系统，其特征在于，所述容器运行时包括驱动管理、数采管理、存储管理、发布管理、边缘计算；所述驱动管理，用于对统一协议库提供配置文件，实现协议转换；所述数采管理，用于调用统一协议库执行数据采集操作；所述存储管理，用于基于数采管理采集的数据，通过内存数据库和关系型数据库形成数据资源池；所述发布管理，用于提供原子服务目录；所述边缘计算，用于基于数据资源池和原子服务目录经运算和逻辑编排形成自定义服务目录。4.根据权利要求2所述的一种基于模型的工业边云协同系统，其特征在于，所述模型管理包括对工业模型的属性方法、映射逻辑进行构建；属性方法：用于用户根据行业模板以及数据资源池提供的资源进行工业模型自定义，即配置工业模型的静态属性信息以及工业模型能够实现的方法；映射逻辑：用于定义的工业模型与数据资源池建立映射。5.根据权利要求2所述的一种基于模型的工业边云协同系统，其特征在于，所述执行引擎包括：数据关联检索引擎，用于整合数据资源池中数据，基于模型管理形成的工业模型从数据资源池抽取数据填入工业模型，呈现给用户；模型解析引擎，用于解析云侧发送的工业app配置文件以及工业模型；将工业app配置文件中的业务逻辑转换为若干执行步骤，最终映射到原子服务目录、自定义服务目录，从而完成工业app的执行；将工业模型基于数据资源池进行实例化，并与原子服务目录、自定义服务目录实现映射。6.根据权利要求1所述的一种基于模型的工业边云协同系统，其特征在于，所述云侧包括边缘接入、模型管理与工业app管理；所述边缘接入，用于搭建云侧和边缘侧的数据通路，从而支持云侧和边缘侧工业模型同步；所述模型管理，用于进行模型定义、模型下发和模型获取；所述工业app管理，用于选定工业模型、配置参数、构建业务逻辑和启停控制。7.根据权利要求6所述的一种基于模型的工业边云协同系统，其特征在于，所述模型管理包括：模型定义，与边缘侧工业模型一致，用于支持用户根据边缘侧提供的数据资源池、原子服务目录、自定义服务目录在云侧定义工业模型；模型获取，用于通过边缘接入获取边缘侧提供的工业模型，进而对工业模型进行二次开发和编辑；模型下发，用于将构建的工业app以及工业模型下发给边缘侧。8.根据权利要求6所述的一种基于模型的工业边云协同系统，其特征在于，所述工业app管理包括：基本信息，用于选定需要用到云侧模型管理中的工业模型；参数配置，用于配置工业app业务逻辑和选定工业模型的参数；业务构建，用于基于工业模型构建工业app；启停控制，用于向边缘侧的模型解析引擎下发指令控制工业app的启停。9.一种基于模型的工业边云协同方法，其特征在于，在边缘侧执行以下步骤：通过统一协议库在边缘侧实现协议转换；容器运行时基于统一协议库进行数据采集、存储形成数据资源池、原子服务目录、自定义服务目录，提供工业模型构建的环境支撑；模型管理基于容器运行时提供的数据资源池、原子服务目录、自定义服务目录实现工业模型的管理；数据关联检索引擎基于模型管理生成的工业模型对数据关系进行编辑整合并做可视化显示；模型解析引擎基于模型管理生成的工业模型执行工业APP业务逻辑。10.根据权利要求9所述的一种基于模型的工业边云协同方法，其特征在于，在云侧执行以下步骤：实现边缘接入；在云侧构建工业模型，向边缘侧下发工业模型并获取边缘侧同步的工业模型；工业app选定工业模型、配置参数、构建业务逻辑和启停控制。
说明书desc
技术领域本发明涉及一种基于模型的工业边云协同系统和方法，属于智能制造领域。背景技术云计算是分布式计算的一种，指的是通过网络“云”将巨大的数据计算处理程序分解成无数个小程序，然后，通过多部服务器组成的系统进行处理和分析这些小程序得到结果并返回给用户。通过这项技术，可以在很短的时间内完成对数以万计的数据的处理，从而达到强大的网络服务。边缘计算，是指在靠近物或数据源头的一侧，采用网格、计算、存储、应用核心能力为一体的开放平台，就近提供边缘智能数据处理业务，以满足网格敏捷连接、实时业务、数据优化等应用需求。在当前的IT发展过程中，垂直行业中往往存在大量传统设备和系统，大多架构封闭且相互孤立，使得数据难以融合，阻碍了业务价值的进一步创造。边云协同技术架构提供了一套基于云原生的开放架构以及丰富的边云业务协同能力，包括IOT接入、应用集成、安全保护等。其应用解决方案可广泛适用于行业数字化转型过程中，大大提升业务创新的速度。目前国内的边云协同技术方兴未艾，主要是基于数据协同，这样的协同方式无法完全满足工业边云协同需构建丰富场景这一需求。因此，在我国打造“中国制造2025”的关键时期，结合我国工业边云协同的特点，利用模型贯穿边云协同技术架构，对提高工业边云协同可用性、灵活性显得尤为重要。鉴于以上内容，本专利提出了一种基于模型的工业边云协同系统和方法。发明内容本发明所要解决的技术问题是针对传统工业边云系统交互方式单一，无法支撑复杂工业业务，提出了一种基于模型的边云协同系统和方法，将工业设备以及系统信息物理化，从而做到实时感知、动态控制和信息服务。该边云协同架构采用“端-边-云”三层架构，端侧包括种类丰富的工业设备；边缘侧基于统一协议库对端侧工业设备进行协议转换，基于容器运行时实现数据采集、存储、数据接口服务目录构建以及边缘计算，基于模型管理实现模型的封装与映射，基于数据关联检索引擎构建云平台所需数据格式，基于模型解析引擎对云平台构建的工业app进行逻辑解析与模型映射；云侧对边缘节点进行监控管理、日志管理以及安全管理，基于边缘接入接口与边缘侧进行数据交互，基于模型管理实现工业模型定义、下发以及获取，最终基于模型构建工业APP。为了解决上述技术问题，本发明的技术方案如下：一种基于模型的工业边云协同系统，包括：边缘侧，用于基于统一协议库实现工业协议转换，基于容器运行时构建工业模型运行环境，基于模型管理实现工业模型属性定义以及方法映射，基于模型解析引擎对云侧构建的工业app和工业模型进行解析和执行；云侧，用于与边缘侧进行工业模型同步，实现工业模型管理并构建工业APP。所述边缘侧包括：统一协议库，包括按终端类别划分的各类驱动，为容器运行时提供协议解析支撑；容器运行时，用于基于统一协议库形成数据资源池、原子服务目录、自定义服务目录，提供工业模型构建的环境支撑；模型管理，用于在边缘侧构建工业模型；执行引擎，包括数据关联检索引擎和模型解析引擎，用于在边缘侧基于工业模型构建云侧所需的数据格式，对云侧构建的工业app进行逻辑解析与模型映射。所述容器运行时包括驱动管理、数采管理、存储管理、发布管理、边缘计算；所述驱动管理，用于对统一协议库提供配置文件，实现协议转换；所述数采管理，用于调用统一协议库执行数据采集操作；所述存储管理，用于基于数采管理采集的数据，通过内存数据库和关系型数据库形成数据资源池；所述发布管理，用于提供原子服务目录；所述边缘计算，用于基于数据资源池和原子服务目录经运算和逻辑编排形成自定义服务目录。所述模型管理包括对工业模型的属性方法、映射逻辑进行构建；属性方法：用于用户根据行业模板以及数据资源池提供的资源进行工业模型自定义，即配置工业模型的静态属性信息以及工业模型能够实现的方法；映射逻辑：用于定义的工业模型与数据资源池建立映射。所述执行引擎包括：数据关联检索引擎，用于整合数据资源池中数据，基于模型管理形成的工业模型从数据资源池抽取数据填入工业模型，呈现给用户；模型解析引擎，用于解析云侧发送的工业app配置文件以及工业模型；将工业app配置文件中的业务逻辑转换为若干执行步骤，最终映射到原子服务目录、自定义服务目录，从而完成工业app的执行；将工业模型基于数据资源池进行实例化，并与原子服务目录、自定义服务目录实现映射。所述云侧包括边缘接入、模型管理与工业app管理；所述边缘接入，用于搭建云侧和边缘侧的数据通路，从而支持云侧和边缘侧工业模型同步；所述模型管理，用于进行模型定义、模型下发和模型获取；所述工业app管理，用于选定工业模型、配置参数、构建业务逻辑和启停控制。所述模型管理包括：模型定义，与边缘侧工业模型一致，用于支持用户根据边缘侧提供的数据资源池、原子服务目录、自定义服务目录在云侧定义工业模型；模型获取，用于通过边缘接入获取边缘侧提供的工业模型，进而对工业模型进行二次开发和编辑；模型下发，用于将构建的工业app以及工业模型下发给边缘侧。所述工业app管理包括：基本信息，用于选定需要用到云侧模型管理中的工业模型；参数配置，用于配置工业app业务逻辑和选定工业模型的参数；业务构建，用于基于工业模型构建工业app；启停控制，用于向边缘侧的模型解析引擎下发指令控制工业app的启停。一种基于模型的工业边云协同方法，在边缘侧执行以下步骤：通过统一协议库在边缘侧实现协议转换；容器运行时基于统一协议库进行数据采集、存储形成数据资源池、原子服务目录、自定义服务目录，提供工业模型构建的环境支撑；模型管理基于容器运行时提供的数据资源池、原子服务目录、自定义服务目录实现工业模型的管理；数据关联检索引擎基于模型管理生成的工业模型对数据关系进行编辑整合并做可视化显示；模型解析引擎基于模型管理生成的工业模型执行工业APP业务逻辑。在云侧执行以下步骤：实现边缘接入；在云侧构建工业模型，向边缘侧下发工业模型并获取边缘侧同步的工业模型；工业app选定工业模型、配置参数、构建业务逻辑和启停控制。本发明的有益效果是：1、本发明采用“端-边-云”三层架构，基于模型进行边云交互，使交互逻辑和交互数据格式更加清晰，边缘侧和云侧用户可以直接基于业务进行模型定义、映射、下发和获取而无需关心底层逻辑，无需定制编码，极大降低开发任务和沟通成本，让专业的人去做专业的事儿。2.本发明支持在云侧基于模型编写业务逻辑并生成工业app，将工业app通过模型管理下发给边缘侧，边缘侧基于模型解析引擎和数据关联引擎对工业app进行解析，通过模型管理模块进行执行，基于此可通过该协同方法快速构建工业APP。3.本发明基于模型进行边云协同，可以实现工业设备以及系统信息物理化，从而做到实时感知、动态控制和信息服务附图说明图1是本发明提供的一种基于模型的工业边云协同系统示意图；图2是本发明提供的一种基于模型的边云协同方法在边缘侧的执行流程图；图3是本发明提供的一种基于模型的边云协同方法在云侧的执行流程图。具体实施方式为了使本发明的目的、技术方案以及优点等更加清楚明确，在这里举出实际例子并参考附图进行进一步的说明。一种基于模型的工业边云协同系统，包括：端侧，包括种类丰富的工业设备，具体包括PLC、DCS、DDC、传感设备、仪表设备、机器人设备、摄像头设备等。边缘侧，基于统一协议库实现工业协议转换；基于容器运行时实现驱动管理、数采管理、存储管理、发布管理、安全管理、报警与订阅、可靠性管理以及边缘计算；基于模型管理实现工业模型属性方法、采集规则、数据格式、映射逻辑、存储规则、设备关系的配置；基于数据关联检索引擎构建云平台所需数据格式，基于模型解析引擎对云平台构建的工业app进行逻辑解析与模型映射。云侧，对边缘节点进行监控管理、日志管理以及安全管理。基于边缘接入接口与边缘侧进行数据交互，基于模型管理实现工业模型定义、下发以及获取，最终基于模型构建工业APP。所述边缘侧包括：统一协议库，包括多类别协议，分别是标准协议、PLC协议、智能仪表协议、智能模块协议、变频器类协议、板卡类协议；容器运行时，用于提供模型构建的基础环境支撑，包括驱动管理、数采管理、存储管理、发布管理、安全管理、报警与订阅、可靠性管理以及边缘计算；模型管理，用于在边缘侧构建模型，其中包括对模型属性方法、采集规则、数据格式、映射逻辑、存储规则、设备关系进行构建。执行引擎，包括数据关联检索引擎和模型解析引擎。用于在边缘侧基于模型构建云平台所需的数据格式，对云平台构建的工业app进行逻辑解析与模型映射。所述云侧包括：边缘接入，用于基于标准物联网接口对模型进行同步，接口包括MQTT接口、OPCUA接口、REST接口、HTTP/HTTPS接口以及WEBSOCKET接口；监控管理，用于对边缘节点运行状态以及工业APP执行状态进行监控，包括边缘节点状态监控以及APP监控；日志管理，用于存储分析边缘节点运行日志以及工业app运行日志，包括边缘节点日志与APP日志；模型管理，用于在云侧构建工业模型、获取边缘侧模型以及向边缘侧下发模型。工业APP管理，用于在云侧基于模型构建工业APP,包括工业app基本信息进行描述、基础参数配置、APP启停控制以及业务构建。一种基于模型的工业边云协同方法，在边缘侧包括以下步骤：通过统一协议库在边缘侧实现协议转换。容器运行时基于统一协议库进行数据采集、存储、数据接口服务目录构建以及边缘计算，最终实现数据封装。模型管理基于容器运行时提供的数据集合以及数据接口服务目录实现工业模型的管理，具体包括定义属性方法、采集规则、数据格式、映射逻辑、存储规则、设备关系构建等。数据关联检索引擎基于模型管理生成的模型对数据关系进行编辑整合并做可视化显示；模型解析引擎基于模型管理生成的模型执行工业APP业务逻辑。一种基于模型的工业边云协同方法，在云侧包括以下步骤：通过mqtt、opcua、http、websocket等方式实现边缘接入。模型管理基于边缘接入提供的数据，在云侧构建工业模型，向边缘侧下发工业模型并获取边缘侧同步的工业模型。工业app管理基于模型管理生成的工业模型，对工业APP进行基本信息描述、参数配置、业务构建并控制工业APP启停。一种基于模型的工业边云协同系统方式，层次结构图如图1所示，包括：端侧，包括种类丰富的工业设备，具体包括PLC、DCS、DDC、传感设备、仪表设备、机器人设备、摄像头设备等。边缘侧，基于统一协议库实现工业协议转换；基于容器运行时实现驱动管理、数采管理、存储管理、发布管理、安全管理、报警与订阅、可靠性管理以及边缘计算；基于模型管理实现工业模型属性方法、采集规则、数据格式、映射逻辑、存储规则、设备关系的配置；基于数据关联检索引擎构建云平台所需数据格式，基于模型解析引擎对云平台构建的工业app进行逻辑解析与模型映射。云侧，对边缘节点进行监控管理、日志管理以及安全管理。基于边缘接入接口与边缘侧进行数据交互，基于模型管理实现工业模型定义、下发以及获取，最终基于模型构建工业APP。所述的端侧包括种类丰富的工业设备，具体包括PLC、DCS、DDC、传感设备、仪表设备、机器人设备、摄像头设备等。所述的边缘侧包括统一协议库模块、容器运行时模块、模型管理模块与执行引擎模块。所述统一协议库模块包括按类别划分的各类驱动，具体包括标准协议、PLC协议、智能仪表协议、智能模块协议、变频器协议、板卡协议等，为容器运行时提供协议解析支撑：所述容器运行时模块包括驱动管理、数采管理、存储管理、发布管理、安全管理、报警与订阅、可靠性管理以及边缘计算模块。驱动管理：驱动管理模块包括驱动上传、安装驱动、驱动配置以及驱动卸载功能。驱动以微服务形式存在，当驱动包版本更新后可通过驱动上传部分进行上传。驱动上传完成后，根据项目的实际需要，选择相应的驱动进行安装，安装成功后系统具备相应驱动的协议解析能力，安装驱动是后续进行数采采集以及构建模型的基础。驱动配置部分负责配置协议解析所需的各项参数，该部分以驱动为单位进行切换。驱动配置部分配置流程依次为选择驱动、驱动设备参数配置、驱动变量参数配置，完成配置流程后，生成项目的数采计划文件，该文件同时也是后续进行数采计划的输入文件。卸载驱动可以关闭并卸载系统中已安装的驱动。数采管理模块：数采管理模块包括数采工具和数据展示。数采工具以系统中已安装的驱动为单位进行数采，点击开始数采后，系统则以协议为单位进行高并发数采。数据展示部分直接显示现场设备解析值，以便用户直观查看。数据展示部分以协议为单位进行切换，之后点选设备列表中的设备，可查看该设备下所有变量的实时数值以及时间戳。存储管理模块：存储管理为用户提供数据持久化能力，存储管理模块包括存储基本配置和存储模式配置。其中存储基本配置部分负责进行内存数据库和关系型数据库参数配置。存储模式配置分为列存储模式和行存储模式两种，列存储模式为数值-时间键值对存储模式，行存储模式为根据用户需要，可以基于系统中的变量自定义数据表格。发布管理模块，出口管理为系统北向接口，定期把釆集的数据按云侧的要求，以特定的格式和顺序，通过HTTP，MQTT，OPCUA等协议用JSON、CSV或二进制的格式向云侧发送。安全管理：安全管理模块分为安全策略管理、检测模块管理、防护模块管理，主要是负责对报文读写进行限制，防火墙设置，基于可疑报文针对攻击类型、系统健康度、系统报警与可疑情况进行统计，与云平台加密通信等功能。报警与订阅：报警设置功能可以以协议为单位，针对协议下的所有变量设置报警条件，报警条件包括最小值、最大值以及报文中的特征值；当设置好报警条件之后，系统提供报警监控功能，通过协议切换，针对系统中所有的满足报警条件的警报信息进行统计。可靠性管理：可靠性管理模块主要是断网缓存功能。断网缓存针对的场景是，当网关与云平台无法连接时，那么网关端会缓存断网期间的数据。我们可以对断网缓存的上限条目数以及上限时间进行设置。我们会通过key-value的方式把数值存储下来，当再次联网时，把缓存数据通过ftp方式上传。边缘计算：边缘计算可以支持用户基于系统变量在边缘侧实现数据处理与运算，系统提供标准的javaScript脚本，分为变量管理和脚本管理两方面功能，变量管理模块支持用户自定义一些变量，脚本管理支持用户新建脚本，并且支持脚本的校验和运行，脚本执行后系统变量值以及自定义变量值会相应发生改变。所述模型管理模块包括：属性方法：用户可根据行业模板以及数采平台提供的资源进行模型自定义。可以配置模型的静态属性信息以及模型能够实现的方法等。映射逻辑：定义的模型与数采平台底层建立映射。如定义电网设备模型，该设备模型包括静态资产信息、测点数值与设备控制方法。对于这样的模型，我们需要将模型中的测点数值与数采平台底层的读数据方法绑定；将模型中的设备控制方法与数采平台底层的写数据方法绑定，从而实现模型映射。采集规则：定义模型中不同数据点的采集规则。数据格式：定义模型作为数据载体最终的数据格式。存储规则：定义模型数据源额的存储位置。设备关系：定义模型之间的相互联系，当工业app拆解为模型组合时可以基于模型间相互关系设置限制条件所述执行引擎包括：数据关联检索引擎：数据关联检索引擎负责整合底层所有数据资源，包括不同关系型数据库、内存数据库、图数据库等，形成数据资源池，最终基于模型管理形成的工业模型从数据资源池抽取数据填入模型，通过模型方式对数据进行可视化编辑呈现给最终用户。模型解析引擎负责解析云侧发送的工业app配置文件，将配置文件中的业务逻辑转换为工步模块，最终映射到模型中的执行模块，从而完成基于模块的工业app的执行。所述云侧包括边缘接入模块、监控管理模块、日志管理模块、模型管理模块与工业app管理模块。所述边缘接入模块主要负责搭建云侧和边缘侧的数据通路，从而支持云侧和边缘侧模型同步，通信方式包括MQTT出口、OPCUA出口、REST出口、HTTP/HTTPS出口、WEBSOCKET出口。所述的监控管理模块负责边缘节点运行状态监控以及工业app运行状态监控所述的日志管理模块负责边缘节点日志以及工业app运行日志存储与分析。所述的模型管理模块包括模型定义、模型下发和模型获取。模型定义：模型定义模块与边缘侧保持一致，支持用户根据边缘侧提供的数据源点位列表以及服务列表在云侧自定义模型，最终生成模型文件。模型获取：云侧获取边缘侧提供的模型，云侧可以对该模型进行二次开发和编辑。模型下发：云侧将用户在云侧构建的工业app以及工业模型通过该模块下发给云平台。所述的的工业APP管理包括基本信息、参数配置、启停控制、业务构建。基本信息：包括该工业app需要用到模型管理模块中的哪些模型，进行选定。参数配置：对工业app业务逻辑和选定模型的必要参数进行配置。业务构建：云侧基于模型构建工业app启停控制：向边缘侧下发指令控制工业app的启停。图2是本发明中一种基于模型的工业协同方法在边缘侧实施的流程图，如图1所示，所述方法包括以下步骤：步骤S1：通过统一协议库在边缘侧实现协议转换；具体地，协议转换按类别划分包括标准协议、PLC协议、智能仪表协议、智能模块协议、变频器协议、板卡协议当完成以上步骤后，边缘侧具备以上设备的解析能力，为容器运行时驱动管理与配置提供基础环境支撑。步骤S2：容器运行时基于统一协议库进行数据采集、存储、数据接口服务目录构建以及边缘计算，最终实现数据封装以及构建设备服务接口目录，供模型管理模块使用。具体地，驱动管理模块负责配置模型所需点表，形成数采计划文件；数采管理模型基于下层统一协议库以及数采计划文件进行数据采集；存储管理模块负责将模型所需的利用数采管理模块采集到的数据进行持久化；发布管理模块用于构建设备服务接口目录；报警管理模块负责对满足报警条件的报文进行统计；可靠性管理模块负责当边缘侧与云侧断开连接时缓存数据；边缘计算支持用户在边缘侧基于系统变量进行数据的运算和处理；安全管理负责保障容器安全。步骤S3：模型管理基于容器运行时提供的数据集合以及数据接口服务目录实现工业模型的管理，具体包括定义属性方法、采集规则、数据格式、映射逻辑、存储规则、设备关系构建等。具体地，用户可根据行业模板以及数采平台提供的资源进行模型自定义。可以配置模型的静态属性信息以及模型能够实现的方法等。定义的模型与数采平台底层建立映射。具体来说，我们需要将模型中的测点数值与数采平台底层的读数据方法绑定；将模型中的设备控制方法与数采平台底层的写数据方法绑定，从而实现模型映射。此外，用户可以做如下定义：包括定义模型中不同数据点的采集规则、定义模型作为数据载体最终的数据格式、定义模型数据源额的存储位置、定义模型之间的相互联系。步骤S4：数据关联检索引擎基于模型管理生成的模型对数据关系进行编辑整合并做可视化显示；模型解析引擎基于模型管理生成的模型执行工业APP业务逻辑。具体地，数据关联检索引擎负责整合底层所有数据资源，形成数据资源池，最终基于模型管理形成的工业模型从数据资源池抽取数据填入模型，通过模型方式对数据进行可视化编辑呈现给最终用户。模型解析引擎负责解析云侧发送的工业app配置文件，将配置文件中的业务逻辑转换为工步模块，最终映射到模型中的执行模块，从而完成基于模块的工业app的执行。图3是本发明中一种基于模型的工业协同方法在云侧实施的流程图，如图3所示，所述方法包括以下步骤：步骤S1：通过mqtt、opcua、http、websocket等方式实现边缘接入；具体地，边缘侧和云侧基于mqtt、opcua、http、websocket接口构建模型上下行通路，从而实现模型的同步。步骤S2：模型管理基于边缘接入提供的数据，在云侧构建工业模型，向边缘侧下发工业模型并获取边缘侧同步的工业模型；具体地，通过模型定义模块根据边缘侧提供的数据源点位列表以及服务列表在云侧自定义模型，从而生成模型文件。另外，云侧可以基于边缘侧上传的模型进行二次开发和编辑。也可以将云侧构建的工业app以及工业模型下发给边缘侧。步骤S3：工业app管理基于模型管理生成的工业模型，对工业APP进行基本信息描述、参数配置、业务构建并控制工业APP启停；具体地，工业app管理模块实现选定模型，对工业app业务逻辑和选定模型的必要参数进行配置。之后基于模型构建工业app，通过向边缘侧下发指令控制工业app的启停。综上所述，本发明的方法，针对目前基于数据实现边云协同应用场景单一，不够灵活这一问题，提出了一种基于模型的工业边云协同系统和方法，利用模型贯穿边云协同技术架构，从而提高边云协同的可用性和灵活性。本发明实施例采用“端-边-云”三层架构，基于模型进行边云交互，使交互逻辑和交互数据格式更加清晰，边缘侧和云侧用户可以直接基于业务进行模型定义、映射、下发和获取而无需关心底层逻辑，无需定制编码，极大减少开发任务，降低沟通成本；在本发明实施例中支持在云侧基于模型编写业务逻辑并生成工业app，将工业app通过模型管理下发给边缘侧，边缘侧基于模型解析引擎和数据关联引擎对工业app进行解析，通过模型管理模块进行执行，从而快速构建工业APP。基于模型进行边云协同，可以实现工业设备以及系统信息物理化，从而做到实时感知、动态控制和信息服务。综上，这是一种基于模型的工业边云协同系统和方法优化解决方案，适合推广使用。
