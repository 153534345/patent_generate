标题title
一种孔线阻抗匹配的高速信号反盘设计方法
摘要abst
本发明提供一种孔线阻抗匹配的高速信号反盘设计方法，涉及集成电路设计技术领域，包括以下步骤：S1：获取高速传输链路阻抗范围以及步进值；S2：初始化目标阻抗值为最大阻抗值；S3：搭建目标阻抗值下的差分过孔和差分传输线模型；S4：计算该目标阻抗值下的最优反盘图形设计和差分传输线的总插入损耗值；S5：判断目标阻抗值是否大于最小阻抗值；若是，则将目标阻抗值减小步进值，并返回S3；反则执行S6；S6：对比所有目标阻抗下的总插入损耗值，选取总插入损耗值最小时的高速过孔结构作为反盘最优结构。本发明合理有效，结合工程设计要求和实际工艺能力，综合考虑多维参数，实现高速信号传输线阻抗与孔阻抗整体优化，确定传输线结构和高速过孔反盘设计图形，降低回波损耗，最终有效提升高速信号链路的传输性能。
权利要求书clms
1.一种孔线阻抗匹配的高速信号反盘设计方法，其特征在于，包括以下步骤：S1：获取工程设计要求的高速传输链路特性阻抗范围，按照步进值在最大阻抗值和最小阻抗值之间设置预定个数个可选值；S2：初始化高速传输链路目标阻抗值为最大阻抗值；S3：搭建目标阻抗值下的差分过孔和差分传输线模型；S4：计算该目标阻抗值下的最优反盘图形设计和差分传输线的总插入损耗值；S5：判断目标阻抗值是否大于最小阻抗值；若是，则将目标阻抗值减小步进值，并返回步骤S3；反之则执行步骤S6；S6：对比所有目标阻抗下的总插入损耗值，选取总插入损耗值最小时的最优反盘结构作为反盘最优结构。2.根据权利要求1所述的一种孔线阻抗匹配的高速信号反盘设计方法，其特征在于：执行步骤S1时，工程设计要求的高速传输链路特性阻抗范围为Z0±Z’，最大阻抗值为Z0＋Z’，最小阻抗值为Z0－Z’，步进值为△Z，那么在最大阻抗值和最小阻抗值之间有+1个可选值。3.根据权利要求2所述的一种孔线阻抗匹配的高速信号反盘设计方法，其特征在于：执行步骤S3时，获取实际工程设计要求，并使用仿真软件搭建高速差分过孔结构和差分传输线结构模型。4.根据权利要求3所述的一种孔线阻抗匹配的高速信号反盘设计方法，其特征在于：执行步骤S4时，具体包括以下步骤：S41：调整传输线结构，使得计算阻抗值与目标阻抗值保持一致；S42：针对差分过孔反盘尺寸进行参数扫描，确定其阻抗值与计算阻抗值最匹配的过孔最优反盘尺寸；S43：在最优反盘尺寸基础上，针对反盘补偿角不同的角度与不同的深度进行参数扫描，对比每种情况下的过孔阻抗值并确定最优补偿角结构；S44：将差分传输线模型和最优反盘结构的过孔联合仿真，记录该目标阻抗值下的总插入损耗值。5.根据权利要求4所述的一种孔线阻抗匹配的高速信号反盘设计方法，其特征在于：执行步骤S44之后，将插入损耗值、与该插入损耗值对应的最优反盘尺寸值以及与该最优反盘尺寸值对应的目标阻抗值进行对应存储至记录表中。6.根据权利要求5所述的一种孔线阻抗匹配的高速信号反盘设计方法，其特征在于：执行步骤S5时，将目标阻抗值减小步进值，并返回步骤S3的迭代次数为2* Z’/△Z次。7.根据权利要求6所述的一种孔线阻抗匹配的高速信号反盘设计方法，其特征在于：执行步骤S6时，从记录表中，对+1次的总插入损耗值进行对比，选取最小的总插入损耗值，并输出该插入损耗值、相应的目标阻抗值与该插入损耗值对应的最优反盘图形设计。
说明书desc
技术领域本发明涉及集成电路设计技术领域，尤其是，本发明涉及一种孔线阻抗匹配的高速信号反盘设计方法。背景技术一条完整的高速信号传输链路通常包括连接器、差分过孔以及差分传输线等结构，随着传输速率的不断提升，高速信号过孔和传输线设计实现孔线阻抗匹配显得越发重要，以控制信号反射、损耗等不良现象达到较好的信号完整性。但是过孔孔径尺寸、反盘尺寸以及传输线的线宽设计，实际受限于工程设计方案和生产工艺水平等众多因素，过孔的阻抗一般低于传输线。为实现孔线匹配，专门针对过孔结构设计的研究工作有很多，例如中国专利发明专利CN110676174A公开了一种封装高速信号过孔优化设计方法，包括：、对过孔连接盘的最小孔径进行设计；、对过孔反焊盘的盘径进行设计；、对过孔反焊盘的深度进行设计；依据上述设计确定封装高速信号孔盘结构。针对封装引脚BGA焊盘位置的阻抗不连续特性，综合过孔连接盘盘径、过孔反盘盘径、过孔反盘深度等多维参数进行过孔阻抗扫描，优化确定封装高速信号孔盘结构，可以有效提高封装高速信号过孔阻抗，降低封装高速信号回波损耗，改善封装高速信号传输特性。但是目前这些研究存在以下两个问题：未考虑过孔与传输线的联合优化，将传输线和过孔作为两个独立部件，仅考虑优化过孔结构参数实现孔线阻抗匹配；研究偏理想情况，过孔的钻孔孔径、过孔间隔、钻孔深度等因素不受限制，未考虑实际情况。实际工程中，过孔的钻孔孔径、过孔间隔、反钻深度、布线层基本确定，只能优化少量过孔结构参数。因此为了解决上述问题，设计一种合理的孔线阻抗匹配的高速信号反盘设计方法对我们来说是很有必要的。发明内容本发明的目的在于提供一种合理有效，结合工程设计要求和实际工艺能力，综合考虑多维参数，实现高速信号传输线阻抗与孔阻抗的整体优化，确定传输线结构和反盘设计图形，降低回波损耗，最终有效提升高速信号链路的传输性能的孔线阻抗匹配的高速信号反盘设计方法。为达到上述目的，本发明采用如下技术方案得以实现的：一种孔线阻抗匹配的高速信号反盘设计方法，包括以下步骤：S1：获取工程设计要求的高速传输链路特性阻抗范围，按照步进值在最大阻抗值和最小阻抗值之间设置预定个数个可选值；S2：初始化高速传输链路目标阻抗值为最大阻抗值；S3：搭建目标阻抗值下的差分过孔和差分传输线模型；S4：计算该目标阻抗值下的最优反盘图形设计和差分传输线的总插入损耗值；S5：判断目标阻抗值是否大于最小阻抗值；若是，则将目标阻抗值减小步进值，并返回步骤S3；反之则执行步骤S6；S6：对比所有目标阻抗下的总插入损耗值，选取总插入损耗值最小时的最优反盘结构作为反盘最优结构。作为本发明的优选，执行步骤S1时，工程设计要求的高速传输链路特性阻抗范围为Z0±Z’，最大阻抗值为Z0＋Z’，最小阻抗值为Z0－Z’，步进值为△Z，那么在最大阻抗值和最小阻抗值之间有+1个可选值。作为本发明的优选，执行步骤S2时，对目标阻抗值进行初始化，初始化值为Z0＋Z’。作为本发明的优选，执行步骤S3时，获取实际工程设计要求，并使用仿真软件搭建高速差分过孔结构和差分传输线结构模型。作为本发明的优选，执行步骤S4时，具体包括以下步骤：S41：调整传输线结构，使得计算阻抗值与目标阻抗值保持一致；S42：针对差分过孔反盘尺寸进行参数扫描，确定其阻抗值与计算阻抗值最匹配的过孔最优反盘尺寸；S43：在最优反盘尺寸基础上，针对反盘补偿角不同的角度与不同的深度进行参数扫描，对比每种情况下的过孔阻抗值并确定最优补偿角结构；S44：将差分传输线模型和最优反盘结构的过孔联合仿真，记录该目标阻抗值下的总插入损耗值。作为本发明的优选，执行步骤S44之后，将目标阻抗值、总插入损耗值与该插入损耗值对应的最优反盘图形设计进行对应存储至记录表中。作为本发明的优选，执行步骤S5时，将目标阻抗值减小步进值，并返回步骤S3的迭代次数为2* Z’/△Z次。即迭代次数为2* Z’/△Z次，使得目标阻抗值从最大阻抗值一直减小到最小阻抗值，遍历了其中+1个可选值，得到+1个目标阻抗值数据以及其最优反盘设计时的总插入损耗值。作为本发明的优选，执行步骤S6时，从记录表中，对+1次的总插入损耗值进行对比，选取最小的总插入损耗值，并输出该插入损耗值、相应的目标阻抗值与该插入损耗值对应的最优反盘图形设计。本发明一种孔线阻抗匹配的高速信号反盘设计方法有益效果在于：合理有效，结合工程设计要求和实际工艺能力，综合考虑多维参数，实现高速信号传输线阻抗与孔阻抗的整体优化，确定传输线结构和反盘设计图形，降低回波损耗，最终有效提升高速信号链路的传输性能。附图说明图1为本发明一种孔线阻抗匹配的高速信号反盘设计方法的流程示意图；图2为本发明一种孔线阻抗匹配的高速信号反盘设计方法中的插入损耗值的获取流程示意图。具体实施方式以下是本发明的具体实施例，对本发明的技术方案作进一步的描述，但本发明并不限于这些实施例。现在将参照附图来详细描述本发明的各种示例性实施例。应注意到：除非另外具体说明，否则在这些实施例中阐述的模块和结构的相对布置不限制本发明的范围。以下对至少一个示例性实施例的描述实际上仅仅是说明性的，决不作为对本发明及其应用或使用的任何限制。对于相关领域普通技术人员已知的技术、方法及系统可能不作详细讨论，但在适当情况下，技术、方法及系统应当被视为授权说明书的一部分。实施例：如图1至2所示，仅仅为本发明的其中一个的实施例，一种孔线阻抗匹配的高速信号反盘设计方法，包括以下步骤：S1：获取工程设计要求的高速传输链路特性阻抗范围，按照步进值在最大阻抗值和最小阻抗值之间设置预定个数个可选值；在这里，执行步骤S1时，工程设计要求的高速传输链路特性阻抗范围为Z0±Z’，最大阻抗值为Z0＋Z’，最小阻抗值为Z0－Z’，步进值为△Z，那么在最大阻抗值和最小阻抗值之间有个+1个步进值。也就是说，那么在最大阻抗值和最小阻抗值之间有个+1个可选值，且每一个可选值之间是成等差数列进行排列，相邻两个可选值之间的差值为步进值△Z。S2：初始化高速传输链路目标阻抗值为最大阻抗值；实际上，执行步骤S2就是对目标阻抗值进行初始化，也就是取消上次实验的所有数据，建立新的高速传输链路目标阻抗值记作Target，使其初始值为最大阻抗值。S3：搭建目标阻抗值下的差分过孔和差分传输线模型；需要注意的是，执行步骤S3时，获取实际工程设计要求，并使用仿真软件搭建高速差分过孔结构和差分传输线结构模型，最大化的结合工程设计要求和实际工艺能力。S4：计算该目标阻抗值下的最优反盘图形设计和差分传输线的总插入损耗值；在这里，执行步骤S4时，具体包括以下步骤：S41：调整传输线结构，使得计算阻抗值与目标阻抗值保持一致；S42：针对差分过孔反盘尺寸进行参数扫描，确定其阻抗值与计算阻抗值最匹配的过孔最优反盘尺寸；S43：在最优反盘尺寸基础上，针对反盘补偿角不同的角度与不同的深度进行参数扫描，对比每种情况下的过孔阻抗值并确定最优补偿角结构；S44：将差分传输线模型和最优反盘结构的过孔联合仿真，记录该阻抗值下的总插入损耗值。执行步骤S44之后，将目标阻抗值、总插入损耗值与该插入损耗值对应的最优反盘图形设计进行对应存储至记录表中。S5：判断目标阻抗值是否大于最小阻抗值；若是，则将目标阻抗值减小步进值，并返回步骤S3；反之则执行步骤S6；执行步骤S5时，将目标阻抗值减小步进值，并返回步骤S3的迭代次数为2* Z’/△Z次。迭代次数为2* Z’/△Z次，总共将步骤S4执行+1次，使得目标阻抗值从最大阻抗值一直减小到最小阻抗值，遍历了其中+1个可选值，得到+1个目标阻抗值数据以及其最优反盘设计时的总插入损耗值，记入记录表中。S6：对比预定个数个目标阻抗下的总插入损耗值，选取总插入损耗值最小时的最优反盘结构作为反盘最优结构。执行步骤S6时，从记录表中，对+1次的总插入损耗值进行对比，选取最小的插入损耗值，并输出该插入损耗值、相应的目标阻抗值与该插入损耗值对应的最优反盘图形设计。本发明不局限于上述具体的实施方式，本发明可以有各种更改和变化。凡是依据本发明的技术实质对以上实施方式所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围。
