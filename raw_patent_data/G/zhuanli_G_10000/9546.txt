标题title
船舶航线识别方法、装置、电子设备及存储介质
摘要abst
本发明提供一种船舶航线识别方法、装置、电子设备及存储介质，其中，该方法包括：基于目标船舶的港口历史挂靠数据，构建有向图基于有向图，获取第一集合和第二集合；基于第一集合和第二集合，获取目标船舶的航线。本发明实施例提供的船舶航线识别方法、装置、电子设备及存储介质，通过港口历史挂靠数据构建有向图，提取有向图中的强连通分量和环，基于各强连通分量构成的第一集合和各个环构成的第二集合，获取目标船舶的航线，能更高效、准确、及时地识别船舶航线，能动态挖掘全球任一条集装箱的航线，能更加方便对全球集装箱航线多维度分析，能动态挖掘船舶运行航线变化。
权利要求书clms
1.一种船舶航线识别方法，其特征在于，包括：基于目标船舶的港口历史挂靠数据，构建有向图；基于所述有向图，获取第一集合和第二集合；基于所述第一集合和第二集合，获取所述目标船舶的航线；其中，所述有向图中的顶点表示所述目标船舶挂靠的港口，所述有向图中的边表示两个港口的挂靠关系和挂靠属性；所述第一集合，为所述有向图的强连通分量构成的集合；所述第二集合，为所述有向图中的环构成的集合。2.根据权利要求1所述的船舶航线识别方法，其特征在于，所述基于所述第一集合和第二集合，获取所述目标船舶的航线之后，还包括：基于目标船舶公司的各所述目标船舶的航线，获取所述目标船舶公司的航线。3.根据权利要求1所述的船舶航线识别方法，其特征在于，所述基于目标船舶的港口历史挂靠数据，构建有向图，与所述基于所述有向图，获取第一集合和第二集合之间，还包括：对所述有向图进行拓扑排序；基于拓扑排序的结果，确定所述有向图中存在环。4.根据权利要求1所述的船舶航线识别方法，其特征在于，基于所述有向图，获取第一集合，具体包括：基于深度优先搜索算法，获取所述有向图的各强连通分量；基于所述有向图的各强连通分量，获取所述第一集合。5.根据权利要求1所述的船舶航线识别方法，其特征在于，基于所述有向图，获取第二集合，具体包括：基于深度优先搜索算法，对所述有向图中的各顶点进行着色；基于着色结果，获取所述有向图中的各个环；基于所述有向图中的各个环，获取所述第二集合。6.根据权利要求1至5任一项所述的船舶航线识别方法，其特征在于，所述基于所述第一集合和第二集合，获取所述目标船舶的航线，具体包括：分别获取所述第一集合中每个元素与所述第二集合中的每个元素的第一相似性；基于所述第一相似性，获取所述目标船舶的航线。7.根据权利要求2所述的船舶航线识别方法，其特征在于，所述基于目标船舶公司的各所述目标船舶的航线，获取所述目标船舶公司的航线，具体包括：获取每两条所述航线之间的第二相似性；基于各第二相似性，合并所述目标船舶公司的各所述目标船舶的航线，获取所述目标船舶公司的航线。8.一种船舶航线识别装置，其特征在于，包括：构建模块，用于基于目标船舶的港口历史挂靠数据，构建有向图；获取模块，用于基于所述有向图，获取第一集合和第二集合；识别模块，用于基于所述第一集合和第二集合，获取所述目标船舶的航线；其中，所述有向图中的顶点表示所述目标船舶挂靠的港口，所述有向图中的边表示两个港口的挂靠关系和挂靠属性；所述第一集合，为所述有向图的强连通分量构成的集合；所述第二集合，为所述有向图中的环构成的集合。9.一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1至7任一项所述的船舶航线识别方法的步骤。10.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至7任一项所述的船舶航线识别方法的步骤。
说明书desc
技术领域本发明涉及交通运输技术领域，尤其涉及一种船舶航线识别方法、装置、电子设备及存储介质。背景技术随着航运的发展，集装箱航线扩增或者改变比较频繁，因此，对于船舶货运而言，对集装箱船等货运船舶航线的动态识别十分重要。集装箱航线具有班轮特性，连通性，方向性，循环性。集装船舶通过航线按班轮方式运行，其中港口与港口之间互相连通，存在港口A到港口B的方向性，同时有从A港出发到A港结束的循环性。集装箱船舶运输过程中存在调度问题，例如加港、甩港或中转港等。现有方法是人工基于历史挂靠数据识别船舶航线，但航线识别的及时性、准确率和效率均较低。发明内容本发明提供一种船舶航线识别方法、装置、电子设备及存储介质，用以解决现有技术中的航线识别的及时性差的技术问题。本发明提供一种船舶航线识别方法，包括：基于目标船舶的港口历史挂靠数据，构建有向图；基于所述有向图，获取第一集合和第二集合；基于所述第一集合和第二集合，获取所述目标船舶的航线；其中，所述有向图中的顶点表示所述目标船舶挂靠的港口，所述有向图中的边表示两个港口的挂靠关系和挂靠属性；所述第一集合，为所述有向图的强连通分量构成的集合；所述第二集合，为所述有向图中的环构成的集合。根据本发明提供的一种船舶航线识别方法，所述基于所述第一集合和第二集合，获取所述目标船舶的航线之后，还包括：基于目标船舶公司的各所述目标船舶的航线，获取所述目标船舶公司的航线。根据本发明提供的一种船舶航线识别方法，所述基于目标船舶的港口历史挂靠数据，构建有向图，与所述基于所述有向图，获取第一集合和第二集合之间，还包括：对所述有向图进行拓扑排序；基于拓扑排序的结果，确定所述有向图中存在环。根据本发明提供的一种船舶航线识别方法，基于所述有向图，获取第一集合，具体包括：基于深度优先搜索算法，获取所述有向图的各强连通分量；基于所述有向图的各强连通分量，获取所述第一集合。根据本发明提供的一种船舶航线识别方法，基于所述有向图，获取第二集合，具体包括：基于深度优先搜索算法，对所述有向图中的各顶点进行着色；基于着色结果，获取所述有向图中的各个环；基于所述有向图中的各个环，获取所述第二集合。根据本发明提供的一种船舶航线识别方法，所述基于所述第一集合和第二集合，获取所述目标船舶的航线，具体包括：分别获取所述第一集合中每个元素与所述第二集合中的每个元素的第一相似性；基于所述第一相似性，获取所述目标船舶的航线。根据本发明提供的一种船舶航线识别方法，所述基于目标船舶公司的各所述目标船舶的航线，获取所述目标船舶公司的航线，具体包括：获取每两条所述航线之间的第二相似性；基于各第二相似性，合并所述目标船舶公司的各所述目标船舶的航线，获取所述目标船舶公司的航线。本发明还提供一种船舶航线识别装置，包括：构建模块，用于基于目标船舶的港口历史挂靠数据，构建有向图；获取模块，用于基于所述有向图，获取第一集合和第二集合；识别模块，用于基于所述第一集合和第二集合，获取所述目标船舶的航线；其中，所述有向图中的顶点表示所述目标船舶挂靠的港口，所述有向图中的边表示两个港口的挂靠关系和挂靠属性；所述第一集合，为所述有向图的强连通分量构成的集合；所述第二集合，为所述有向图中的环构成的集合。本发明还提供一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上述任一种所述船舶航线识别方法的步骤。本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现如上述任一种所述船舶航线识别方法的步骤。本发明提供的船舶航线识别方法、装置、电子设备及存储介质，通过港口历史挂靠数据构建有向图，提取有向图中的强连通分量和环，基于各强连通分量构成的第一集合和各个环构成的第二集合，获取目标船舶的航线，能更高效、准确、及时地识别船舶航线，能动态挖掘全球任一条集装箱的航线，能更加方便对全球集装箱航线多维度分析，能动态挖掘船舶运行航线变化。附图说明为了更清楚地说明本发明或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的船舶航线识别方法的流程示意图；图2是本发明实施例中有向图的示意图；图3是本发明实施例提供的船舶航线识别装置的结构示意图；图4是本发明实施例提供的电子设备的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合本发明中的附图，对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在本发明实施例的描述中，需要说明的是，术语“中心”、“上”、“下”、“左”、“右”、“竖直”、“水平”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明实施例和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明实施例的限制。此外，术语“第一”、“第二”、“第三”仅用于描述目的，而不能理解为指示或暗示相对重要性，且不涉及顺序。在本发明实施例的描述中，需要说明的是，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明实施例中的具体含义。为了克服现有技术的上述问题，本发明提供一种船舶航线识别方法、装置、电子设备及存储介质，其发明构思是，基于港口历史挂靠数据，采用利用图论中强连通分量、DFS和拓扑排序等方法，动态挖掘船舶航线，可以解决全球集装箱航线改变和扩增难以发现，以及跳港、加港、中转港对航线挖掘的影响，从而可以满足对集装箱船公司航线的分析和全球集装箱航线的动态挖掘。图1是本发明实施例提供的船舶航线识别方法的流程示意图。下面结合图1描述本发明实施例的船舶航线识别方法。如图1所示，该方法包括：步骤101、基于目标船舶的港口历史挂靠数据，构建有向图。其中，有向图中的顶点表示目标船舶挂靠的港口，有向图中的边表示两个港口的挂靠关系和挂靠属性。具体地，港口挂靠数据是使用AIS数据生成全球船舶的海量港口挂靠数据，这些挂靠错落分布在时间轴线上，记录了船舶数年以来的航运时间结点和空间结点。港口挂靠数据包括船舶的时间信息和空间信息。其中，时间信息包括到港时间、靠泊时间和离港时间，空间信息包括港口标识、锚地标识和泊位标识。挂靠关系，指船舶在港口产生挂靠的顺序。挂靠属性，包括船舶挂靠的港口的基础属性，挂靠时间，港口距离和运输时间等属性。基于目标船舶的港口历史挂靠数据，去除其中连续相同挂靠港口，以港口为节点v，港口之间连线为边e，挂靠港口的先后顺序作为边的方向，用港口之间的平均时间作为权重w。即生成有向无环图G＝，节点v的属性d，v.d表示港口id。可选地，目标船舶为集装箱船舶。如果港口历史挂靠数据中，目标船舶从港口A出发，到达港口B的过程中未经未挂靠其他港口，则有向图中存在连接表示港口A的顶点与连接表示港口B的顶点的边，该边的方向为连接表示港口A的顶点指向连接表示港口B的顶点。通过集装箱船舶的历史挂靠数据，去除其中连续相同挂靠港口，以港口为节点，港口之间连线为边,港口先后顺序作为方向,用港口之间的平均时间作为权重。我们把港口给予不同的id，把船舶从港口id1到港口id2的行驶方向作为图边方向，并记录航线次数和航行时间，然后依次把目标船舶目标时间段的挂靠港口按上面步骤做图，最后利用图中的边记录的航次和航行时间，通过公式w＝航线时间和/航行次数，计算出来边的平均航行时间作为权重。步骤102、基于有向图，获取第一集合和第二集合。其中，第一集合，为有向图的强连通分量构成的集合；第二集合，为有向图中的环构成的集合。具体地，在有向图G中，如果两个顶点vi,vj间有一条从vi到vj的有向路径，同时还有一条从vj到vi的有向路径，则称两个顶点强连通。即如果两个顶点可以相互通达，则称两个顶点强连通。如果有向图G的每两个顶点都强连通，称G是一个强连通图。有向图的极大强连通子图，称为强连通分量。极大强连通子图：一个图的强连通子图，并且加入任何一个不在它的点集中的点都会导致它不再强连通。可以通过任一种计算有向图的强连通分量的算法，计算步骤101得到的有向图的各强连通分量，得到第一集合。在图论中，环是一条只有第一个和最后一个顶点重复的非空路径。在有向图中的环是一条只有第一个和最后一个顶点重复的非空路径。可以通过任一种找环算法，计算步骤101得到的有向图的各个环，得到第二集合。步骤103、基于第一集合和第二集合，获取目标船舶的航线。具体地，因为集装箱船舶是按航线运行，存在周期性以及船舶动态调度的现象，因此，所有强连通分量集合和所有环的集合均可能包含部分航线、完整航线、航线开端、无航线和多航线等情况，其中理论上可能存在上述一种或者多种情况。通过对第一集合和第二集合进行融合分析，可以得到目标船舶的航线，以克服单独用强连通分量或单独用环表示航线均存在不准确或不完整的问题。进行融合分析，可以区分部分航线、完整航线、航线开端、无航线和多航线等情况，以识别出完整航线，解决跳港和加港对航线识别的影响。可选地，对第一集合和第二集合进行处理，可以采用获取二者的交集的方法，将交集中的每一元素表示的航线，分别确定为目标船舶的航线。本发明实施例通过港口历史挂靠数据构建有向图，提取有向图中的强连通分量和环，基于各强连通分量构成的第一集合和各个环构成的第二集合，获取目标船舶的航线，能更高效、准确、及时地识别船舶航线，能动态挖掘全球任一条集装箱的航线，能更加方便对全球集装箱航线多维度分析，能动态挖掘船舶运行航线变化。基于上述任一实施例的内容，基于第一集合和第二集合，获取目标船舶的航线之后，还包括：基于目标船舶公司的各目标船舶的航线，获取目标船舶公司的航线。具体地，对于目标船舶公司，可以将该公司的每一条集装箱船舶均作为目标船舶。对于每一目标船舶，可以通过上述实施例提供的船舶航线识别方法，获取该目标船舶的航线。对于该目标船舶公司，可以对该目标船舶公司的各目标船舶的航线进行融合分析，例如去掉重复的航线和/或去掉包括的港口的数量小于预设阈值的航线等，可以获取该目标船舶公司的航线。可以理解的是，可以将每一船舶公司分别作为目标船舶公司，从而得到全球各船舶公司的航线，即可以得到全球集装箱航线。将得到的所有全球集装箱航线按船公司分类存储更新，即可动态计算全球航线。需要说明的是，各目标船舶公司之间相似的航线不进行合并。本发明实施例通过按船公司动态挖掘全球集装箱航线，能更高效、准确、及时地识别全球集装箱航线，能动态挖掘全球集装箱航线，能更加方便对全球集装箱航线多维度分析，能动态挖掘全球集装箱航线的变化。基于上述任一实施例的内容，基于目标船舶的港口历史挂靠数据，构建有向图，与基于有向图，获取第一集合和第二集合之间，还包括：对有向图进行拓扑排序。具体地，步骤101与步骤102之间，还包括确定有向图中存在环的步骤。如果确定有向图中存在环，则可以继续执行步骤102。如果确定有向图中不存在环，则不再继续执行步骤102。判断有向图中是否存在环，可以采用对有向图进行拓扑排序的方法来确定。对有向图进行拓扑排序，可以利用DFS，使用TOPOLLOGICAL-SORT算法生成拓扑排序：从有向图中选取一个没有前驱的顶点，并输出；从有向图中删去此顶点以及所有以它为尾的弧。重复上述两步，直至图空，或者图不空但找不到无前驱的顶点为止。基于拓扑排序的结果，确定有向图中存在环。具体地，如果可以生成拓扑排序图，所有顶点均被输出，说明该有向图中无环，则不再进行步骤102。如果拓扑排序生成失败，还有顶点未被输出，说明该有向图中有环，继续执行步骤102。本发明实施例通过对有向图进行拓扑排序，确定有向图中存在环，能避免直接执行找环算法无法获得环的情况，能避免无效的船舶航线识别，能提高效率。基于上述任一实施例的内容，基于有向图，获取第一集合，具体包括：基于深度优先搜索算法，获取有向图的各强连通分量。具体地，可以采用深度优先搜索算法，计算有向图的强连通分量，从而获得该有向图的各强连通分量。常用于计算图的强连通分量的深度优先搜索算法包括：Kosaraju算法、Tarjan算法和Gabow算法等。以Tarjan算法为例，每个强连通分量为搜索树中的一棵子树。搜索时，把当前搜索树中未处理的节点加入一个堆栈，回溯时可以判断栈顶到栈中的节点是否为一个强连通分量。定义DFN为结点u搜索的次序编号，Low为u或u的子树能够追溯到的最早的栈中结点的次序号。由定义可以得出，Low＝Min{Low,Low}为树枝边，u为v的父结点.Low＝Min{Low,DFN}DFN,为指向栈中结点的后向边}当结点u搜索结束后，若DFN＝Low时，则以u为根的搜索子树上所有还在栈中的结点是一个强连通分量。基于有向图的各强连通分量，获取第一集合。具体地，将有向图的每一强连通分量分别作为第一集合中的一个元素，从而可以得到第一集合。本发明实施例通过深度优先搜索算法，获取有向图的各强连通分量，得到第一集合，能更高效、准确、及时地获取该有向图的强连通分量，从而能更高效、准确、及时地识别船舶航线，能动态挖掘全球任一条集装箱的航线，能更加方便对全球集装箱航线多维度分析，能动态挖掘船舶运行航线变化。基于上述任一实施例的内容，基于有向图，获取第二集合，具体包括：基于深度优先搜索算法，对有向图中的各顶点进行着色。具体地，本发明实施例提供的用于有向图中的各个环的深度优先搜索算法，可以称为改进的DFS。深度优先在搜索过程中可以使用通用的着色算法实现，即为结点着色以表示结点的状态C。将图中结点进行如下修改，图中的一个结点，根据其C的值，有三种状态：C＝0，表示此结点没有被访问过；C＝1，表示此结点被访问过至少1次，其后代节点正在被访问中；C＝1，表示此结点的后代节点都被访问过。按照上述假设，当按照DFS进行搜索时，碰到一个节点时有三种可能：1、如果C＝0，这是一个新的结点，不做处理；2、如果C＝-1，说明是在访问该结点的后代的过程中访问到该结点本身，则有向图中有环。3、如果C＝1，类似于2的推导，有向图中没有环。每个顶点开始均为0，搜索中被发现时置为-1，结束时又被置成1。这一技巧可以保证每一顶点搜索结束时只存在于一棵深度优先树上，因此这些树都是分离的。除了创建一个深度优先森林外，深度优先搜索同时为每个结点加盖时间戳。每个结点v有两个时间戳：当结点v第一次被发现时记录下第一个时间戳d，当结束检查v的邻接表时记录下第二个时间截f。基于着色结果，获取有向图中的各个环。具体地，基于上述深度优先搜索过程，即可以找出图中有几个环，并记录每个环的路径。这样即可通过改进型DFS算法得到图中所有的环路，用于挖掘集装箱航线。基于有向图中的各个环，获取第二集合。具体地，将有向图的每一个环分别作为第二集合中的一个元素，从而可以得到第二集合。本发明实施例通过改进的深度优先搜索算法，获取有向图的各个环，得到第二集合，能更高效、准确、及时地获取该有向图的强连通分量，从而能更高效、准确、及时地识别船舶航线，能动态挖掘全球任一条集装箱的航线，能更加方便对全球集装箱航线多维度分析，能动态挖掘船舶运行航线变化。基于上述任一实施例的内容，基于第一集合和第二集合，获取目标船舶的航线，具体包括：分别获取第一集合中每个元素与第二集合中的每个元素的第一相似性。具体地，对于第一集合和第二集合，可以通过查找强连通分量是否是环中的子集，确定第一集合中每个元素与第二集合中的每个元素的第一相似性。如果某个强连通分量是某个环中的子集，说明二者的第一相似性为相似；如果某个强连通分量不是某个环中的子集，说明二者的第一相似性为不相似。基于第一相似性，获取目标船舶的航线。具体地，通过上述步骤可以得到第一集合和第二集合对应的相似集合E。每一集合E，由存在相似关系的强连通分量和环构成。即集合E中的每一强连通分量，至少与该集合E中的一个环相似；该集合E中的每一个环，至少与该集合E中的一个强连通分量相似。其中E存在以下三种情况：1、相似集合E为空，说明未找到船舶航线；2、相似集合E中只有一对一相似，说明找到船舶航线，可以将相似集合E中每一个环分别确定为目标船舶的航线；3、相似集合E中有多对多或者多对一相似，可以将相似的多个环中最长的环确定为目标船舶的航线。本发明实施例基于强连通分量和环之间的相似性，识别目标船舶的航线，能更高效、准确、及时地识别船舶航线，能动态挖掘全球任一条集装箱的航线，能更加方便对全球集装箱航线多维度分析，能动态挖掘船舶运行航线变化。基于上述任一实施例的内容，基于目标船舶公司的各目标船舶的航线，获取目标船舶公司的航线，具体包括：获取每两条航线之间的第二相似性。具体地，上述每两条航线，包括第一目标船舶的第一航线和第二目标船舶的第二航线。可以通过相似度算法jaccard similarity，获取每两条航线之间的第二相似性。Jaccard index，又称为Jaccard相似系数用于比较有限样本集之间的相似性与差异性。Jaccard系数值越大，样本相似度越高。基于各第二相似性，合并目标船舶公司的各目标船舶的航线，获取目标船舶公司的航线。具体地，对于第二相似性大于相似度阈值的两条航线，可以通过进行插入的方式合并，即可得到目标船舶公司不重复的航线。相似度阈值可以根据实际情况设定，例如相似度阈值为80％。对于相似度阈值的具体值，本发明实施例不进行具体限定。本发明实施例基于航线之间的相似性，合并目标船舶公司的各目标船舶的航线，获取目标船舶公司的航线，能更高效、准确、及时地识别全球集装箱航线，能动态挖掘全球集装箱航线，能更加方便对全球集装箱航线多维度分析，能动态挖掘全球集装箱航线的变化。下面对本发明提供的船舶航线识别装置进行描述，下文描述的船舶航线识别装置与上文描述的船舶航线识别方法可相互对应参照。图3是本发明实施例提供的船舶航线识别装置的结构示意图。基于上述任一实施例的内容，如图3所示，该装置包括构建模块301、获取模块302和识别模块303，其中：构建模块301，用于基于目标船舶的港口历史挂靠数据，构建有向图；获取模块302，用于基于有向图，获取第一集合和第二集合；识别模块303，用于基于第一集合和第二集合，获取目标船舶的航线；其中，有向图中的顶点表示目标船舶挂靠的港口，有向图中的边表示两个港口的挂靠顺序；第一集合，为有向图的强连通分量构成的集合；第二集合，为有向图中的环构成的集合。具体地，构建模块301、获取模块302和识别模块303顺次电连接。构建模块301基于目标船舶的港口历史挂靠数据，去除其中连续相同挂靠港口，以港口为节点v，港口之间连线为边e，港口先后顺序作为方向，用港口之间的平均时间作为权重w。即生成有向无环图G＝，节点v的属性d，v.d表示港口id。获取模块302可以通过任一种计算有向图的强连通分量的算法，计算步骤101得到的有向图的各强连通分量，得到第一集合。获取模块302还可以通过任一种找环算法，计算步骤101得到的有向图的各个环，得到第二集合。识别模块303通过对第一集合和第二集合进行融合分析，可以得到目标船舶的航线，以克服单独用强连通分量或单独用环表示航线均存在不准确或不完整的问题。可选地，该船舶航线识别装置还包括：汇总模块，用于基于目标船舶公司的各目标船舶的航线，获取目标船舶公司的航线。可选地，该船舶航线识别装置还包括：确定模块，用于对有向图进行拓扑排序；基于拓扑排序的结果，确定有向图中存在环。可选地，获取模块302包括：第一获取单元，用于基于深度优先搜索算法，获取有向图的各强连通分量；基于有向图的各强连通分量，获取第一集合。可选地，获取模块302包括：第二获取单元，用于基于深度优先搜索算法，对有向图中的各顶点进行着色；基于着色结果，获取有向图中的各个环；基于有向图中的各个环，获取第二集合。可选地，识别模块303具体用于：分别获取第一集合中每个元素与第二集合中的每个元素的第一相似性；基于第一相似性，获取目标船舶的航线。可选地，汇总模块具体用于：获取每两条航线之间的第二相似性；基于各第二相似性，合并目标船舶公司的各目标船舶的航线，获取目标船舶公司的航线。本发明实施例提供的船舶航线识别装置，用于执行本发明上述船舶航线识别方法，其实施方式与本发明提供的船舶航线识别方法的实施方式一致，且可以达到相同的有益效果，此处不再赘述。该船舶航线识别装置用于前述各实施例的船舶航线识别方法。因此，在前述各实施例中的船舶航线识别方法中的描述和定义，可以用于本发明实施例中各执行模块的理解。本发明实施例通过港口历史挂靠数据构建有向图，提取有向图中的强连通分量和环，基于各强连通分量构成的第一集合和各个环构成的第二集合，获取目标船舶的航线，能更高效、准确、及时地识别船舶航线，能动态挖掘全球任一条集装箱的航线，能更加方便对全球集装箱航线多维度分析，能动态挖掘船舶运行航线变化。图4示例了一种电子设备的实体结构示意图，如图4所示，该电子设备可以包括：处理器410、通信接口420、存储器430和通信总线440，其中，处理器410，通信接口420，存储器430通过通信总线440完成相互间的通信。处理器410可以调用存储在存储器430中并可在处理器410上运行的逻辑指令，以执行上述各方法实施例提供的船舶航线识别方法，该方法包括：基于目标船舶的港口历史挂靠数据，构建有向图基于有向图，获取第一集合和第二集合；基于第一集合和第二集合，获取目标船舶的航线；其中，有向图中的顶点表示目标船舶挂靠的港口，有向图中的边表示两个港口的挂靠顺序；第一集合，为有向图的强连通分量构成的集合；第二集合，为有向图中的环构成的集合。此外，上述的存储器430中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。本发明实施例提供的电子设备中的处理器410可以调用存储器430中的逻辑指令，其实施方式与本发明提供的船舶航线识别方法的实施方式一致，且可以达到相同的有益效果，此处不再赘述。另一方面，本发明实施例还提供一种计算机程序产品，所述计算机程序产品包括存储在非暂态计算机可读存储介质上的计算机程序，所述计算机程序包括程序指令，当所述程序指令被计算机执行时，计算机能够执行上述各方法实施例所提供的船舶航线识别方法，该方法包括：基于目标船舶的港口历史挂靠数据，构建有向图基于有向图，获取第一集合和第二集合；基于第一集合和第二集合，获取目标船舶的航线；其中，有向图中的顶点表示目标船舶挂靠的港口，有向图中的边表示两个港口的挂靠顺序；第一集合，为有向图的强连通分量构成的集合；第二集合，为有向图中的环构成的集合。本发明实施例提供的计算机程序产品被执行时，实现上述船舶航线识别方法，其具体的实施方式与前述船舶航线识别方法的实施例中记载的实施方式一致，且可以达到相同的有益效果，此处不再赘述。又一方面，本发明实施例还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现以执行上述各实施例提供的船舶航线识别方法，该方法包括：基于目标船舶的港口历史挂靠数据，构建有向图基于有向图，获取第一集合和第二集合；基于第一集合和第二集合，获取目标船舶的航线；其中，有向图中的顶点表示目标船舶挂靠的港口，有向图中的边表示两个港口的挂靠顺序；第一集合，为有向图的强连通分量构成的集合；第二集合，为有向图中的环构成的集合。本发明实施例提供的非暂态计算机可读存储介质上存储的计算机程序被执行时，实现上述船舶航线识别方法，其具体的实施方式与前述船舶航线识别方法的实施例中记载的实施方式一致，且可以达到相同的有益效果，此处不再赘述。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的方法。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
