标题title
一种低复杂度分离去相关自适应声学回声消除方法及装置
摘要abst
本发明提供了一种低复杂度分离去相关自适应声学回声消除方法，包括：S1，采集远端麦克风地输入信号并进行远端输入信号滤波；S2，基于近端参考信号和经过滤波获得地输出值进行误差信号消除以及回声抵消；S3，进行远端输入信号去相关和近端参考信号去相关；S4，远端去相关输入信号滤波；S5，回声消除滤波器权向量更新；S6，设定鲁棒步长后重复步骤S1‑S5迭代。还公开了相应的装置、电子设备以及计算机可读存储介质，新的分离去相关降低稳态误差；周期RLS更新去相关参数及去相关参数本身的延时特性减小计算复杂度；鲁棒的步长避免NLMS类方法在非平稳语音信号下的高稳态误差，计算复杂度低，收敛速度快，稳态误差低，能很好完成通信系统中的回声消除任务。
权利要求书clms
1.一种低复杂度分离去相关自适应声学回声消除方法，其特征在于包括：S1，采集远端麦克风地输入信号并进行远端输入信号滤波；S2，基于近端参考信号和经过滤波获得地输出值进行误差信号消除以及回声抵消；S3，进行信号去相关，包括远端输入信号去相关和近端参考信号去相关；S4，远端去相关输入信号滤波；S5，回声消除滤波器权向量更新；S6，设定鲁棒步长后重复步骤S1-S5进行迭代。2.根据权利要求1所述的一种低复杂度分离去相关自适应声学回声消除方法，其特征在于所述S1包括：采集远端麦克风最近的L个语音信号值构成当前时刻n的远端输入向量x＝T，其中，L为声学回声路径的长度，上标T代表转置。将x作为自适应回声消除滤波器的输入，得到滤波输出值其中，为自适应回声消除滤波器当前时刻n的权向量。3.根据权利要求2所述的一种低复杂度分离去相关自适应声学回声消除方法，其特征在于所述S2包括：对近端参考信号d和滤波输出值做差，获得误差信号并将此信号送回给远端。当算法收敛时，逼近回声信号，从近端参考信号中减去回声信号的副本，便达到了回声消除的目的。4.根据权利要求3所述的一种低复杂度分离去相关自适应声学回声消除方法，其特征在于所述S3包括：S31，采用周期RLS完成传统去相关向量的估计，具体如下:其中，λ为遗忘因子，且0≤λ＜1，P为更新周期，K×1的向量s＝T，K是模拟远端语音输入信号x产生的自回归模型的阶数，r的定义为矩阵R-1的更新公式如下所示：S32，使用分离去相关思想进一步调整调整后的为：控制因子c同样以周期P进行更新，其确定方式为：其中，ε＞0是一个小的正则参数，误差信号方差的估计为：其中，0＜α1＜1为遗忘因子；S33，获得去相关向量后，按照下式计算去相关的输入信号同样地，对近端参考信号d进行如下处理完成去相关操作：其中，近端参考向量d＝T。5.根据权利要求4所述的一种低复杂度分离去相关自适应声学回声消除方法，其特征在于所述S4包括：远端去相关输入信号通过自适应回声消除滤波器得到输出6.根据权利要求5所述的一种低复杂度分离去相关自适应声学回声消除方法，其特征在于所述S5包括：使用如下公式完成下一时刻自适应回声消除滤波器权向量的计算：其中，去相关误差信号ζ估计公式为μ是自适应回声消除滤波器的步长，且按如下方式确定：其中，μw＞0为一固定步长，去相关输入信号方差的估计公式为：其中，α2为另一个遗忘因子。7.根据权利要求6所述的一种低复杂度分离去相关自适应声学回声消除方法，其特征在于所述步骤S6包括：令n＝n+1，重复步骤S1-S5，直至通话结束。8.一种低复杂度分离去相关自适应声学回声消除装置，包括：采集滤波模块，用于采集远端麦克风地输入信号并进行远端输入信号滤波；回声抵消模块，用于基于近端参考信号和经过滤波获得地输出值进行误差信号消除以及回声抵消；信号去相关模块，用于进行信号去相关，包括远端输入信号去相关和近端参考信号去相关；去相关信号滤波模块，用于远端去相关输入信号滤波；滤波器更新模块，用于回声消除滤波器权向量更新；迭代模块，用于设定鲁棒步长后重复步骤S1-S5进行迭代。9.一种电子设备，包括处理器和存储器，所述存储器存储有多条指令，所述处理器用于读取所述多条指令并执行如权利要求1-7任一所述的方法。10.一种计算机可读存储介质，所述计算机存储介质存储有多条指令，所述多条指令可被处理器读取并执行如权利要求1-7任一所述的方法。
说明书desc
技术领域本发明涉及语音通信中的回声消除技术领域，特别是涉及一种低复杂度分离去相关自适应声学回声消除方法及装置。背景技术在手机免提通话和视频会议等通信系统中，扬声器和麦克风的同时使用将不可避免的产生声学回声。为了尽可能地降低回声的影响，提高通信质量，国内外学者已经提出各种方法来抑制或消除声学回声。自适应声学回声消除方法作为回声消除领域的主流，它首先使用自适应滤波器估计扬声器和麦克风间的声学回声路径，获得声学回声的副本，接着在近端信号中减去声学回声的副本达到消除回声的目的。由于声学回声消除应用中语音输入信号具有强的相关性，传统的归一化最小均方回声消除法面临收敛速度变慢的挑战。为了解决该问题，各种改进的自适应声学回声消除方法提出，如仿射投影自适应声学回声消除法、子带自适应声学回声消除法以及自适应去相关NLMS声学回声消除法等。APA声学回声消除法使用数据复用技巧除去信号的相关性，但矩阵求逆操作使其计算复杂度变高。于是，伪APA自适应回声消除法、快速APA自适应回声消除法等低复杂度版本相继产生。子带自适应声学回声消除法利用分析滤波器组将输入和输出信号分成多个不相关的并行子带。基于其低的计算复杂度，各种改进的SAF回声消除法不断涌现，如归一化SAF回声消除法、多结构SAF回声消除法等。自适应去相关NLMS回声消除方法使用梯度下降法完成去相关参数的估计，它加快收敛速度的同时也放大了噪声方差。面对此问题，权重约束的AD-NLMS回声消除法提出。然而，无论何种AD-NLMS回声消除法，去相关参数的估计都增加了其计算负担。因此，针对降低回声、提高通信质量的问题，设计一种新的低复杂度分离去相关自适应声学回声消除方法和装置是很有必要的。发明内容为了克服现有技术中这部分的缺失及不足，本发明提供一种低复杂度分离去相关自适应声学回声消除方法，该方法首先设计了一种新的分离去相关策略降低传统自适应去相关声学回声消除方法的稳态误差；接着利用周期RLS更新去相关参数以及去相关参数本身的延时特性减小本发明的计算复杂度；最后为低复杂度分离去相关自适应回声消除器设计鲁棒的步长，避免了NLMS类方法在非平稳语音信号下的高稳态误差。与现有的部分技术相比，本发明的计算复杂度低，收敛速度快，稳态误差低，能很好地完成通信系统中的回声消除任务。本发明的目的在于提供一种低复杂度分离去相关自适应声学回声消除方法，包括：S1，采集远端麦克风地输入信号并进行远端输入信号滤波；S2，基于近端参考信号和经过滤波获得地输出值进行误差信号消除以及回声抵消；S3，进行信号去相关，包括远端输入信号去相关和近端参考信号去相关；S4，远端去相关输入信号滤波；S5，回声消除滤波器权向量更新；S6，设定鲁棒步长后重复步骤S1-S5进行迭代。进一步地，所述S1包括：采集远端麦克风最近的L个语音信号值构成当前时刻n的远端输入向量x＝T，其中，L为声学回声路径的长度，上标T代表转置。将x作为自适应回声消除滤波器的输入，得到滤波输出值其中，为自适应回声消除滤波器当前时刻n的权向量。进一步地，所述S2包括：对近端参考信号d和滤波输出值做差，获得误差信号并将此信号送回给远端。当算法收敛时，逼近回声信号，从近端参考信号中减去回声信号的副本，便达到了回声消除的目的。进一步地，所述S3包括：S31，采用周期RLS完成传统去相关向量的估计，具体如下:其中，λ为遗忘因子，且0≤λ＜1，P为更新周期，K×1的向量s＝T，K是模拟远端语音输入信号x产生的自回归模型的阶数，r的定义为矩阵R-1的更新公式如下所示：S32，使用分离去相关思想进一步调整调整后的为：控制因子c同样以周期P进行更新，其确定方式为：其中，ε＞0是一个小的正则参数，误差信号方差的估计为：其中，0＜α1＜1为遗忘因子；S33，获得去相关向量后，按照下式计算去相关的输入信号同样地，对近端参考信号d进行如下处理完成去相关操作：其中，近端参考向量d＝T。进一步地，所述S4包括：远端去相关输入信号通过自适应回声消除滤波器得到输出进一步地，所述S5包括：使用如下公式完成下一时刻自适应回声消除滤波器权向量的计算：其中，去相关误差信号ζ估计公式为μ是自适应回声消除滤波器的步长，且按如下方式确定：其中，μw＞0为一固定步长，去相关输入信号方差的估计公式为：其中，α2为另一个遗忘因子。进一步地，所述步骤S6包括：令n＝n+1，重复步骤S1-S5，直至通话结束。根据本发明的第二方面，提供了一种低复杂度分离去相关自适应声学回声消除装置，包括：采集滤波模块，用于采集远端麦克风地输入信号并进行远端输入信号滤波；回声抵消模块，用于基于近端参考信号和经过滤波获得地输出值进行误差信号消除以及回声抵消；信号去相关模块，用于进行信号去相关，包括远端输入信号去相关和近端参考信号去相关；去相关信号滤波模块，用于远端去相关输入信号滤波；滤波器更新模块，用于回声消除滤波器权向量更新；迭代模块，用于设定鲁棒步长后重复步骤S1-S5进行迭代。根据本发明的第三方面，提供了一种电子设备，包括处理器和存储器，所述存储器存储有多条指令，所述处理器用于读取所述多条指令并执行如第一方面所述的方法。根据本发明的第四方面，提供了一种计算机可读存储介质，所述计算机存储介质存储有多条指令，所述多条指令可被处理器读取并执行如第一方面所述的方法。本发明提供的低复杂度分离去相关自适应声学回声消除方法、装置及电子设备，至少包括如下有益效果：该方法首先设计了一种新的分离去相关策略降低传统自适应去相关声学回声消除方法的稳态误差。接着利用周期RLS更新去相关参数以及去相关参数本身的延时特性减小本发明的计算复杂度。最后为低复杂度分离去相关自适应回声消除器设计了鲁棒的步长，避免了NLMS类方法在非平稳语音信号下的高稳态误差。因此，与现有的部分技术相比，本发明的计算复杂度低，收敛速度快，稳态误差低，能很好地完成通信系统中的回声消除任务。根据下文结合附图对本发明具体实施例的详细描述，本领域技术人员将会更加明了本发明的上述以及其他目的、优点和特征。附图说明后文将参照附图以示例性而非限制性的方式详细描述本发明的一些具体实施例。附图中相同的附图标记标示了相同或类似的部件或部分。本领域技术人员应该理解，这些附图未必是按比例绘制的。本发明的目标及特征考虑到如下结合附图的描述将更加明显，附图中：图1为根据本发明优选实施例的低复杂度分离去相关自适应声学回声消除方法流程图；图2为根据本发明优选实施例的实验用的远端信号图；图3和图3为根据本发明优选实施例的实验用的声学回声信道图；图4和图4为根据本发明优选实施例的对比方法和本发明方法在仿真实验中的归一化稳态失调曲线；图5为根据本发明优选实施例的低复杂度分离去相关自适应声学回声消除装置的结构示意图；图6为根据本发明优选实施例的电子设备的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在本发明的描述中，需要说明的是，术语“竖直”、“上”、“下”、“水平”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。在本发明的描述中，还需要说明的是，除非另有明确的规定和限定，术语“设置”、“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。图1提供了低复杂度分离去相关自适应滤波器在声学回声消除应用中的流程框图，其具体步骤如下：A.远端输入信号滤波采集远端麦克风最近的L个语音信号值构成当前时刻n的远端输入向量x＝T，其中，L为声学回声路径的长度，上标T代表转置。将x作为自适应回声消除滤波器的输入，得到输出其中，为自适应回声消除滤波器当前时刻n的权向量。B.回声抵消对近端参考信号d和滤波值做差，获得误差信号并将此信号送回给远端。当算法收敛时，逼近回声信号，从近端参考信号中减去回声信号的副本，便达到了回声消除的目的。C.信号去相关信号去相关包括远端输入信号去相关和近端参考信号去相关。去相关参数的估计是信号去相关步骤的重要组成部分。为了降低方法的计算复杂度，本发明首先采用周期RLS完成传统去相关向量的估计，具体如下:其中，λ为遗忘因子，且0≤λ＜1，P为更新周期，K×1的向量s＝T产生的自回归模型的阶数)，r的定义为矩阵R-1的更新公式如下所示：接着，使用分离去相关思想进一步调整调整后的为：这里，控制因子c同样以周期P进行更新，其确定方式为：其中，ε＞0是一个小的正则参数，误差信号方差的估计为：其中，0＜α1＜1为遗忘因子。获得去相关向量后，按照下式计算去相关的输入信号同样地，对近端参考信号d进行如下处理完成去相关操作：其中，近端参考向量d＝T。D.远端去相关输入信号滤波远端去相关输入信号通过自适应回声消除滤波器得到输出E.回声消除滤波器权向量更新使用如下公式完成下一时刻自适应回声消除滤波器权向量的计算：其中，去相关误差信号ζ估计公式为μ是自适应回声消除滤波器的步长，且按如下方式确定：其中，μw＞0为一固定步长，去相关输入信号方差的估计公式为：这里，α2为另一个遗忘因子。采用这样的步长确定策略，可以避免本发明方法在非平稳语音输入信号下的高稳态误差。F.迭代令n＝n+1，重复A、B、C、D、E的步骤，直至通话结束。仿真实验：为了验证本发明的有效性，此处将本发明方法、NSAF声学回声消除法、AD-NLMS声学回声消除法和基于二维坐标下降法的递归最小二乘回声消除法进行对比仿真。值得注意的是实验中使用了周期的DCD_RLS方法估计去相关参数，进一步降低了本发明的计算复杂度。仿真实验在两种不同长度的回声信道中进行，其脉冲响应长度分别为128和256。远端语音信号的采样频率为16000Hz，采样点数为100。整个实验，叠加方差为0.1的高斯白噪声作为背景噪声，信噪比为15dB。该实验中各算法参数设置如表1所示。表1.仿真实验中各算法参数设置由图4可知，本发明方法比NSAF声学回声消除法和AD-NLMS声学回声消除法有更快的初始收敛速度、更好的追踪性以及更小的稳态误差；虽然本发明方法的初始收敛速度差于DCD-RLS声学回声消除法，但它跟踪信号突变的能力更强。表2展示了本次实验中NSAF声学回声消除法、AD-NLMS声学回声消除法、DCD-RLS回声消除法以及本发明方法迭代一次的平均计算复杂度。从表中数据可以得出如下结论：相比于AD-NLMS声学回声消除法，本发明方法使其乘法和加法计算复杂度都降低了83％；在这四种自适应声学回声消除方法中，本发明方法的计算复杂度最低。表2.仿真实验中各算法迭代一次的平均计算复杂度参考图5，在一些实施例中，提供一种基于实体抽取的产业舆情推荐装置，包括：采集滤波模块201，用于采集远端麦克风地输入信号并进行远端输入信号滤波；回声抵消模块202，用于基于近端参考信号和经过滤波获得地输出值进行误差信号消除以及回声抵消；信号去相关模块203，用于进行信号去相关，包括远端输入信号去相关和近端参考信号去相关；去相关信号滤波模块204，用于远端去相关输入信号滤波；滤波器更新模块205，用于回声消除滤波器权向量更新；迭代模块206，用于设定鲁棒步长后重复步骤S1-S5进行迭代。参考图6，在一些实施例中，还提供一种电子设备，包括处理器301和存储器302，存储器302存储有多条指令，处理器301用于执行低复杂度分离去相关自适应声学回声消除方法。在一些实施例中，还提供一种计算机可读存储介质，所述计算机存储介质存储有多条指令，所述多条指令可被处理器读取并执行低复杂度分离去相关自适应声学回声消除方法。综上，上述实施例提供的执行低复杂度分离去相关自适应声学回声消除方法方法、装置及电子设备，至少包括如下有益效果：该方法首先设计了一种新的分离去相关策略降低传统自适应去相关声学回声消除方法的稳态误差。接着利用周期RLS更新去相关参数以及去相关参数本身的延时特性减小本发明的计算复杂度。最后为低复杂度分离去相关自适应回声消除器设计了鲁棒的步长，避免了NLMS类方法在非平稳语音信号下的高稳态误差。因此，与现有的部分技术相比，本发明的计算复杂度低，收敛速度快，稳态误差低，能很好地完成通信系统中的回声消除任务。虽然本发明已经参考特定的说明性实施例进行了描述，但是不会受到这些实施例的限定而仅仅受到附加权利要求的限定。本领域技术人员应当理解可以在不偏离本发明的保护范围和精神的情况下对本发明的实施例能够进行改动和修改。
