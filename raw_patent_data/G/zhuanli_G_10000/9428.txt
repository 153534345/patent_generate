标题title
基于近红外光谱的模型转移方法及终端设备
摘要abst
本发明适用于近红外光谱分析技术领域，提供了一种基于近红外光谱的模型转移方法及终端设备，上述方法包括：确定目标样本在第一近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第一斜率集合；同理，在第二近红外光谱仪上得到第二斜率集合；根据第一斜率集合和第二斜率集合，确定标准特征向量；根据标准特征向量进行建模，得到待分析样本的类别识别模型。由于近红外光谱曲线的变化趋势反映了物质内部成分的变化，而特征点之间的斜率反应了这种变化趋势，因此本发明根据特征点之间的斜率寻找两台光谱仪的共性特征，建立适用于不同光谱仪的类型识别模型，模型转移的数据量小，过程简单。
权利要求书clms
1.一种基于近红外光谱的模型转移方法，其特征在于，包括：获取目标样本在第一近红外光谱仪上的近红外光谱曲线，及所述目标样本在第二近红外光谱仪上的近红外光谱曲线；确定所述目标样本在第一近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第一斜率集合；确定所述目标样本在第二近红外光谱仪上的近红外光谱曲线在所述多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第二斜率集合；其中，所述相邻两个特征点为波长相邻的两个特征点；根据所述第一斜率集合和所述第二斜率集合，确定标准特征向量；根据所述标准特征向量进行建模，得到待分析样本的类别识别模型。2.如权利要求1所述的基于近红外光谱的模型转移方法，其特征在于，所述根据所述第一斜率集合和所述第二斜率集合，确定标准特征向量，包括：查找第一斜率；其中，所述第一斜率集合和所述第二斜率集合中均存在第一斜率；所述第一斜率为多个；其中，针对每个第一斜率，该第一斜率对应两个预设波长；各个第一斜率对应的两个预设波长处对应的特征点之间的斜率形成所述标准特征向量。3.如权利要求1所述的基于近红外光谱的模型转移方法，其特征在于，在所述获取目标样本在第一近红外光谱仪上的近红外光谱曲线，及所述目标样本在第二近红外光谱仪上的近红外光谱曲线之前，所述方法还包括：获取多个预设种类的实验样本在所述第一近红外光谱仪上的近红外光谱曲线；根据多个预设种类的实验样本在所述第一近红外光谱仪上的近红外光谱曲线，确定所述多个预设波长。4.如权利要求3所述的基于近红外光谱的模型转移方法，其特征在于，所述根据多个预设种类的实验样本在所述第一近红外光谱仪上的近红外光谱曲线，确定所述多个预设波长，包括：针对每个预设种类，确定该预设种类的实验样本在所述第一近红外光谱仪上的近红外光谱曲线中的各个极值点为中间特征点；根据各个预设种类对应的近红外光谱曲线中的中间特征点，确定所述多个预设波长。5.如权利要求4所述的基于近红外光谱的模型转移方法，其特征在于，所述根据各个预设种类对应的近红外光谱曲线中的中间特征点，确定所述多个预设波长，包括：查找目标波长；其中，各个预设种类对应的近红外光谱曲线中均存在第一波长对应的中间特征点；所述目标波长为多个；将多个目标波长作为多个预设波长；其中，所述目标波长的数量与所述预设波长的数量一致。6.如权利要求2所述的基于近红外光谱的模型转移方法，其特征在于，所述根据所述标准特征向量进行建模，得到待分析样本的类别识别模型，包括：获取多个训练样本在所述第一近红外光谱仪上的近红外光谱曲线；针对每个训练样本，确定该训练样本的近红外光谱曲线在各个第一斜率对应的两个预设波长处对应的特征点之间的斜率，得到该训练样本对应的标准特征向量；根据各个训练样本对应的标准特征向量对基础模型进行训练，得到所述类别识别模型。7.如权利要求6所述的基于近红外光谱的模型转移方法，其特征在于，所述基础模型为神经网络模型。8.一种基于近红外光谱的模型转移装置，其特征在于，包括：第一参数获取模块，用于获取目标样本在第一近红外光谱仪上的近红外光谱曲线，及所述目标样本在第二近红外光谱仪上的近红外光谱曲线；第一特征提取模块，用于确定所述目标样本在第一近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第一斜率集合；确定所述目标样本在第二近红外光谱仪上的近红外光谱曲线在所述多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第二斜率集合；其中，所述相邻两个特征点为波长相邻的两个特征点；第二特征提取模块，用于根据所述第一斜率集合和所述第二斜率集合，确定标准特征向量；模型建立模块，用于根据所述标准特征向量进行建模，得到待分析样本的类别识别模型。9.一种终端设备，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至7任一项所述基于近红外光谱的模型转移方法的步骤。10.一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至7任一项所述基于近红外光谱的模型转移方法的步骤。
说明书desc
技术领域本发明属于近红外光谱分析技术领域，尤其涉及一种基于近红外光谱的模型转移方法及终端设备。背景技术近红外光谱是近年来发展起来的一种高新分析技术，具有简便、快速、低成本、无污染、对样品无破坏等有点，能快速实现物品种类的识别。由于不同的仪器存在差别，在一台仪器上建立的模型在其他仪器上不可用，因此需进行近红外光谱分析模型的转移。现有技术中，基于近红外光谱的物质种类的识别多按照方差最大化的方向提取光谱特征，近红外光谱分析模型的转移也需要采集大量的样品数据，数据量巨大，过程复杂发明内容有鉴于此，本发明实施例提供了基于近红外光谱的模型转移方法及终端设备，以解决现有技术中近红外光谱分析模型的转移数据量巨大，过程复杂的问题。本发明实施例的第一方面提供了一种基于近红外光谱的模型转移方法，包括：获取目标样本在第一近红外光谱仪上的近红外光谱曲线，及目标样本在第二近红外光谱仪上的近红外光谱曲线；确定目标样本在第一近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第一斜率集合；确定目标样本在第二近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第二斜率集合；其中，相邻两个特征点为波长相邻的两个特征点；根据第一斜率集合和第二斜率集合，确定标准特征向量；根据标准特征向量进行建模，得到待分析样本的类别识别模型。本发明实施例的第二方面提供了一种基于近红外光谱的模型转移装置，包括：第一参数获取模块，用于获取目标样本在第一近红外光谱仪上的近红外光谱曲线，及目标样本在第二近红外光谱仪上的近红外光谱曲线；第一特征提取模块，用于确定目标样本在第一近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第一斜率集合；确定目标样本在第二近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第二斜率集合；其中，相邻两个特征点为波长相邻的两个特征点；第二特征提取模块，用于根据第一斜率集合和第二斜率集合，确定标准特征向量；模型建立模块，用于根据标准特征向量进行建模，得到待分析样本的类别识别模型。本发明实施例的第三方面提供了一种终端设备，包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，处理器执行计算机程序时实现如本发明实施例第一方面提供的基于近红外光谱的模型转移方法的步骤。本发明实施例的第四方面提供了一种计算机可读存储介质，计算机可读存储介质存储有计算机程序，计算机程序被处理器执行时实现如本发明实施例第一方面提供的基于近红外光谱的模型转移方法的步骤。本发明实施例提供了一种基于近红外光谱的模型转移方法及终端设备，上述方法包括：获取目标样本在两台近红外光谱仪上的近红外光谱曲线；确定目标样本在第一近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第一斜率集合；确定目标样本在第二近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第二斜率集合；其中，相邻两个特征点为波长相邻的两个特征点；根据第一斜率集合和第二斜率集合，确定标准特征向量；根据标准特征向量进行建模，得到待分析样本的类别识别模型。由于近红外光谱曲线的变化趋势反映了物质内部成分的变化，而特征点之间的斜率反应了这种变化趋势，因此本发明实施例根据特征点之间的斜率寻找两台近红外光谱仪的共性特征，建立适用于不同近红外光谱仪的类型识别模型，模型转移的数据量小，过程简单。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的一种基于近红外光谱的模型转移方法的实现流程示意图；图2是多个预设种类的实验样本的近红外光谱曲线图；图3是本发明实施例提供的基于近红外光谱的模型转移装置的示意图；图4是本发明实施例提供的终端设备的示意图。具体实施方式以下描述中，为了说明而不是为了限定，提出了诸如特定系统结构、技术之类的具体细节，以便透彻理解本发明实施例。然而，本领域的技术人员应当清楚，在没有这些具体细节的其它实施例中也可以实现本发明。在其它情况中，省略对众所周知的系统、装置、电路以及方法的详细说明，以免不必要的细节妨碍本发明的描述。为了说明本发明的技术方案，下面通过具体实施例来进行说明。参考图1，本发明实施例提供了一种基于近红外光谱的模型转移方法，包括：S101：获取目标样本在第一近红外光谱仪上的近红外光谱曲线，及目标样本在第二近红外光谱仪上的近红外光谱曲线；S102：确定目标样本在第一近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第一斜率集合；确定目标样本在第二近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第二斜率集合；其中，相邻两个特征点为波长相邻的两个特征点；S103：根据第一斜率集合和第二斜率集合，确定标准特征向量；S104：根据标准特征向量进行建模，得到待分析样本的类别识别模型。近红外光是介于可见光和中红外光之间的电磁波，按ASTM定义是指波长在780～2526nm范围内的电磁波。红外光谱曲线图是分子能选择性吸收某些波长的红外线，而引起分子中振动能级和转动能级的跃迁，检测红外线被吸收的情况可得到物质的红外吸收光谱，又称分子振动光谱或振转光谱。近红外区域的吸收基本上均为红外区基准振动的倍频或合频振动所引起的，特别是以由氢原子相关联的O-H、N-H、C-H等官能基的吸收为主。近红外光应用于物质的分析所使用的波长域根据待测物的特征和测定目的可分为三个区域：1、1800～2500nm，在这个范围的吸收，由C＝O在1900nm第二倍频所引起的吸收外，其他全可以归类为O-H、N-H、C-H及C＝O的合频。包括了水、脂肪、蛋白质及碳水化合物等主要成分的有关吸收波长；2、1100～1800nm，在这个范围的吸收，水的O-H在1150、1450和1790nm的倍频吸收，C-H在1600-1800nm区域的第一倍频和1100-1400nm区域的第二倍频，N-H在1400-1600nm区域的第一倍频。与1800-2500nm波长带相似，存在各主要成分的吸收带；3、800～1100nm，在这个范围的吸收，水的O-H在960nm处的合频吸收，C-H在800～900nm区域的第三倍频吸收，N-H在1000～1100nm区域的第二倍频。在这个区域的吸收比较弱。由以上可知，不同波长对于不同物质的反射率呈现一定的规律，由于物质的近红外光谱曲线具有“指纹”效应，不同物不同谱，相同物质应当具有相似的光谱结构，仅因为物质浓度的变化引起相同波长处反射率值的变化，在近红外光谱曲线的坐标系中反应为同种样本的近红外光谱曲线表现为沿着纵轴上下平移，形成一簇曲线。由于近红外光谱曲线的变化趋势反映了物质内部成分的变化，而特征点之间的斜率反应了这种变化趋势。因此，本发明实施例根据近红外光谱曲线的“指纹”效应，获取目标样本分别在两台近红外光谱仪上的近红外光谱曲线，并确定两个近红外光谱曲线在多个预设波长处对应的特征点，根据特征点之间的斜率寻找两台近红外光谱仪的共性特征，建立适用于不同光谱仪的类型识别模型，模型转移的数据量小，过程简单。其中，多个预设波长为预先确定的可以反应近红外光谱曲线变化趋势的特定的波长。例如，目标样本为马铃薯，多个预设波长分别为911、962、1081、1199、1269、1455。一些实施例中，S103可以包括：S1031：查找第一斜率；其中，第一斜率集合和第二斜率集合中均存在第一斜率；第一斜率为多个；其中，针对每个第一斜率，该第一斜率对应两个预设波长；S1032：各个第一斜率对应的两个预设波长处对应的特征点之间的斜率形成标准特征向量。由于红外光谱曲线中特征点之间的斜率反应了目标样本内部成分的变化，选取两台近红外光谱仪中相同斜率形成标准特征向量，斜率相同，说明两台设备反应的变化趋势一致，可作为共性特征。例如，多个预设波长911、962、1081、1199、1269、1455，两台近红外光谱仪上，911与962之间的斜率、1081与1199之间的斜率、1199与1269之间的斜率相同，则可选取这三对波长对应的特征点之间的斜率形成标准特征向量。一些实施例中，在S101之前，上述方法还可以包括：S105：获取多个预设种类的实验样本在第一近红外光谱仪上的近红外光谱曲线；S106：根据多个预设种类的实验样本在第一近红外光谱仪上的近红外光谱曲线，确定多个预设波长。一些实施例中，S106可以包括：S1061：针对每个预设种类，确定该预设种类的实验样本在第一近红外光谱仪上的近红外光谱曲线中的各个极值点为中间特征点；S1062：根据各个预设种类对应的近红外光谱曲线中的中间特征点，确定多个预设波长。由于曲线的极值点决定了曲线的峰谷，因此曲线的轮廓形状主要由起点、终点、极值点等这些特征点决定，这些特征点最能体现近红外光谱的“指纹”，特征点之间的斜率可以用来表示曲线的走向。因此，本发明实施例中选取近红外光谱曲线中的各个极值点，或各个极值点及各相邻极值点的中点确定预设波长，准确提取曲线特征。一些实施例中，S1062可以包括：查找目标波长；其中，各个预设种类对应的近红外光谱曲线中均存在第一波长对应的中间特征点；目标波长为多个；将多个目标波长作为多个预设波长；其中，目标波长的数量与预设波长的数量一致。例如，参考图2，利用正常、干腐和疮痂马铃薯作为三类实验样本。查找三类样本中的波长相同的极值点，对应的第一波长分为：911、962、1081、1199、1269、1455，共计6处，将该六个波长作为预设波长。由图2可知，各预设种类的实验样本的近红外光谱曲线在各个预设波长处的中间特征点间曲线的走向基本一致，但起伏程度不同。在该实施方式中，为寻找各预设种类实验样本的共有特征，本发明实施例中选用相同的波长作为预设波长，计算量小，结果准确。进一步的，若第一波长的数量较多，还可以对多个第一波长进行进一步的筛选，选取相关性高的部分第一波长作为预设波长，在不影响识别准确率的前提下提高了计算效率。例如，可通过统计方法或相关性计算计算多个第一波长与分类结果的相关性，选取相关性系数较高的波长作为预设波长。一些实施例中，S104可以包括：S1041：获取多个训练样本在第一近红外光谱仪上的近红外光谱曲线；S1042：针对每个训练样本，确定该训练样本的近红外光谱曲线在各个第一斜率对应的两个预设波长处对应的特征点之间的斜率，得到该训练样本对应的标准特征向量；S1043：根据各个训练样本对应的标准特征向量对基础模型进行训练，得到类别识别模型。根据标准特征向量对模型进行训练。例如，两台近红外光谱仪上，911与962之间的斜率、1081与1199之间的斜率、1199与1269之间的斜率相同，则针对每个训练样本，确定该训练样本的近红外光谱曲线在波长911与962之间的斜率、1081与1199之间的斜率、及1199与1269之间的斜率，形成该训练样本对应的标准特征向量，根据各个训练样本对应的标准特征向量及类别标签对基础模型进行训练，得到类别识别模型。基于以上，采用上述类别识别模型对待分析样本进行识别时，同样获取待分析样本在第一近红外光谱仪或第二近红外光谱仪上的近红外光谱曲线，分别确定该近红外光谱曲线在波长911、962、1081、1199及1269处的特征点，然后计算波长911与962处的两个特征点之间的斜率、波长1081与1199处的两个特征点之间的斜率、波长1199与1269处的两个特征点之间的斜率，形成待分析样本对应的标准特征向量，将待分析样本对应的标准特征向量输入上述训练完成的类别识别模型中，即可得到待分析样本的类别。例如，类别可以为正常、干腐或疮痂。一些实施例中，基础模型可以为神经网络模型。其中，本发明实施例将第一近红外光谱仪作为主设备确定预设波长及模型训练。也可根据实际应用需求将第二近红外光谱仪作为主设备。应理解，上述实施例中各步骤的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。参考图3，本发明实施例提供了一种基于近红外光谱的模型转移装置，包括：第一参数获取模块21，用于获取目标样本在第一近红外光谱仪上的近红外光谱曲线，及目标样本在第二近红外光谱仪上的近红外光谱曲线；第一特征提取模块22，用于确定目标样本在第一近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第一斜率集合；确定目标样本在第二近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第二斜率集合；其中，相邻两个特征点为波长相邻的两个特征点；第二特征提取模块23，用于根据第一斜率集合和第二斜率集合，确定标准特征向量；模型建立模块24，用于根据标准特征向量进行建模，得到待分析样本的类别识别模型。一些实施例中，第二特征提取模块23可以包括：斜率查找单元231，用于查找第一斜率；其中，第一斜率集合和第二斜率集合中均存在第一斜率；第一斜率为多个；其中，针对每个第一斜率，该第一斜率对应两个预设波长；特征向量确定单元232，用于各个第一斜率对应的两个预设波长处对应的特征点之间的斜率形成标准特征向量。一些实施例中，基于近红外光谱的模型转移装置还可以包括：第二参数获取模块25，用于获取多个预设种类的实验样本在第一近红外光谱仪上的近红外光谱曲线；预设波长确定模块26，用于根据多个预设种类的实验样本在第一近红外光谱仪上的近红外光谱曲线，确定多个预设波长。一些实施例中，预设波长确定模块26可以包括：特征点确定单元261，用于针对每个预设种类，确定该预设种类的实验样本在第一近红外光谱仪上的近红外光谱曲线中的各个极值点为中间特征点；预设波长确定单元262，用于根据各个预设种类对应的近红外光谱曲线中的中间特征点，确定多个预设波长。一些实施例中，预设波长确定单元262具体用于：查找目标波长；其中，各个预设种类对应的近红外光谱曲线中均存在第一波长对应的中间特征点；目标波长为多个；将多个目标波长作为多个预设波长；其中，目标波长的数量与预设波长的数量一致。一些实施例中，模型建立模块24可以包括：样本参数获取单元241，用于获取多个训练样本在第一近红外光谱仪上的近红外光谱曲线；样本特征提取单元242，用于针对每个训练样本，确定该训练样本的近红外光谱曲线在各个第一斜率对应的两个预设波长处对应的特征点之间的斜率，得到该训练样本对应的标准特征向量；模型训练单元243，用于根据各个训练样本对应的标准特征向量对基础模型进行训练，得到类别识别模型。一些实施例中，基础模型可以为神经网络模型。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将终端设备的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。实施例中的各功能单元、模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中，上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。另外，各功能单元、模块的具体名称也只是为了便于相互区分，并不用于限制本申请的保护范围。上述装置中单元、模块的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。图4是本发明一实施例提供的终端设备的示意框图。如图4所示，该实施例的终端设备4包括：一个或多个处理器40、存储器41以及存储在存储器41中并可在处理器40上运行的计算机程序42。处理器40执行计算机程序42时实现上述各个基于近红外光谱的模型转移方法实施例中的步骤，例如图1所示的步骤S101至S104。或者，处理器40执行计算机程序42时实现上述基于近红外光谱的模型转移装置实施例中各模块/单元的功能，例如图3所示模块21至24的功能。示例性地，计算机程序42可以被分割成一个或多个模块/单元，一个或者多个模块/单元被存储在存储器41中，并由处理器40执行，以完成本申请。一个或多个模块/单元可以是能够完成特定功能的一系列计算机程序指令段，该指令段用于描述计算机程序42在终端设备4中的执行过程。例如，计算机程序42可以被分割成第一参数获取模块21、第一特征提取模块22、第二特征提取模块23及模型建立模块24。第一参数获取模块21，用于获取目标样本在第一近红外光谱仪上的近红外光谱曲线，及目标样本在第二近红外光谱仪上的近红外光谱曲线；第一特征提取模块22，用于确定目标样本在第一近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第一斜率集合；确定目标样本在第二近红外光谱仪上的近红外光谱曲线在多个预设波长处对应的特征点，并确定每相邻两个特征点之间连线的斜率，形成第二斜率集合；其中，相邻两个特征点为波长相邻的两个特征点；第二特征提取模块23，用于根据第一斜率集合和第二斜率集合，确定标准特征向量；模型建立模块24，用于根据标准特征向量进行建模，得到待分析样本的类别识别模型。其它模块或者单元在此不再赘述。终端设备4包括但不仅限于处理器40、存储器41。本领域技术人员可以理解，图4仅仅是终端设备的一个示例，并不构成对终端设备4的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如终端设备4还可以包括输入设备、输出设备、网络接入设备、总线等。处理器40可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。存储器41可以是终端设备的内部存储单元，例如终端设备的硬盘或内存。存储器41也可以是终端设备的外部存储设备，例如终端设备上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，存储器41还可以既包括终端设备的内部存储单元也包括外部存储设备。存储器41用于存储计算机程序42以及终端设备所需的其他程序和数据。存储器41还可以用于暂时地存储已经输出或者将要输出的数据。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述或记载的部分，可以参见其它实施例的相关描述。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本申请的范围。在本申请所提供的实施例中，应该理解到，所揭露的终端设备和方法，可以通过其它的方式实现。例如，以上所描述的终端设备实施例仅仅是示意性的，例如，模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通讯连接可以是通过一些接口，装置或单元的间接耦合或通讯连接，可以是电性，机械或其它的形式。作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请实现上述实施例方法中的全部或部分流程，也可以通过计算机程序来指令相关的硬件来完成，的计算机程序可存储于一计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个方法实施例的步骤。其中，计算机程序包括计算机程序代码，计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。计算机可读介质可以包括：能够携带计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，计算机可读介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如在某些司法管辖区，根据立法和专利实践，计算机可读介质不包括是电载波信号和电信信号。以上所述实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的精神和范围，均应包含在本申请的保护范围之内。
