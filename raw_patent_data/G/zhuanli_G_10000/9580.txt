标题title
一种面向智能车间不同智能体之间的联邦学习方法及系统
摘要abst
本发明人工智能领域，尤其涉及一种面向智能车间不同智能体之间的联邦学习方法及系统，其特征在于：方法为建立图论模型，聚类客户端即机器人；对同一集群内的客户端进行联邦学习，具体为：同一集群内的各客户端进行局部模型训练，利用自身数据进行边缘计算，生成局部模型参数；基于ResNet残差网络聚合各客户端的局部模型参数生成全局模型，获得全局模型参数，提高训练精度，从而提高车间机器人识别精度。
权利要求书clms
1.一种面向智能车间不同智能体之间的联邦学习方法，其特征在于：方法步骤包括：建立图论模型，聚类客户端即机器人；对同一集群内的客户端进行联邦学习，具体为：同一集群内的各客户端进行局部模型训练，利用自身数据进行边缘计算，生成局部模型参数；基于ResNet残差网络聚合各客户端的局部模型参数生成全局模型，获得全局模型参数。2.根据权利要求1所述的面向智能车间不同智能体之间的联邦学习方法，其特征在于：方法具体步骤包括：步骤1：建立图论模型，聚类出相关联的客户端即机器人；步骤2：同一集群内的各客户端对采集的图像数据进行数据预处理；步骤3：对同一集群内的客户端进行联邦学习；步骤3.1：机器人局部模型训练：采用卷积神经网络MobileNet构建局部模型，采用不同机器人的数据对局部模型进行本地训练，生成局部模型参数；步骤3.2：聚合全局模型：采用残差神经网络Resnet构建全局模型，将局部模型参数作为特征，通过残差神经网络Resnet来提取特征，生成全局模型参数。3.根据权利要求2所述的面向智能车间不同智能体之间的联邦学习方法，其特征在于：所述步骤1具体为：由于一个协同车间中存在着多个机器人，即设定一个存在N个客户端的环境，环境表达成拓扑结构G；为拓扑结构G中的节点集合，代表每个机器人的位置；是i节点与j节点之间的边，其中i，j代表节点的编号即机器人的编号，根据不同机器人之间的相对位置和偏转角度来定义边，每个机器人上装有定位传感器和视觉传感器，两机器人之间的相对位置，其中 为i机器人times时刻的位置，为j机器人times时刻的位置，表示2范数；以正南方向为参考方向，两机器人之间的偏转角度之差为，其中为i机器人times时刻相对于正南方向的偏转角度，为j机器人times时刻相对于正南方向的偏转角度；为拓扑结构G的邻接矩阵，若机器人之间的相对位置小于机器人视觉探测范围的1/3，并且偏转角度之差小于90度时，，否则为0；根据上述数据、和建立图论模型G；根据邻接矩阵为中为1的部分机器人分为一类集群，从而对这一类机器人进行联邦学习。4.根据权利要求2所述的面向智能车间不同智能体之间的联邦学习方法，其特征在于：所述数据预处理步骤为：步骤2.1：去噪预处理：基于卷积神经网络CNN的小波变换算法，首先对机器人采集的图像进行单尺度离散小波分解，得到一个低频分量和三个高频分量，然后分别通过四个CNN来分离这四个分量中的噪声图像；具体为：步骤2.1.1：小波分解原始图像：对图像进行2次单尺度离散小波分解，得到一个方向上的低频分量和其余三个方向上的高频分量，如公式所示：其中，X表示待分解图像；L表示图像经离散小波分解后得到的低频分量；H表示水平方向高频分量；V表示垂直方向高频分量；D表示对角方向的高频分量；haar表示小波分解时采用haar基；基于小波变换的分解产生的四个分量，分别训练了4个CNN网络，目的是去除各个高频分量和低频分量中的噪声，来获得对应的预测分量，如公式所示：其中，表示ReLU激活函数，和均为训练参数；步骤2.1.2：通过离散小波逆变换来重构图像得到最终去噪后的图像，如公式所示： 其中，表示2次离散小波逆分解用来重构图像；步骤2.2：采用最大值法对去噪后的图像进行灰度化，如公式所示： 其中，分别为去噪后的图像的R，G，B三通道的颜色分量；为最终的输入灰度图像。5.根据权利要求2所述的面向智能车间不同智能体之间的联邦学习方法，其特征在于：步骤3.1具体为：步骤3.1.1：训练数据为同一集群内机器人收集到的图像集，其中为第k个机器人的数据集；构建机器人的初始局部模型，初始局部模型使用轻量化的卷积神经网络MobileNet，其基本结构包括了3×3深度可分离卷积层，批归一化，ReLU激活函数，1×1常规卷积使用；步骤3.1.2：设置机器人局部模型的损失函数，如公式所示：其中，为当前局部模型参数下的预测值，表示t时刻的权值，表示第k个机器人数据集中第i个样本，表示特征是n×m的RGB图片，n为图片的长，m为图片的宽，表示标签真实值，表示第k个数据集的样本数目；步骤3.1.3：更新局部模型参数：由公式得出第个客户端局部模型的损失函数，进而根据Adam优化器更新各局部模型的模型参数，如公式和公式所示，公式为参数更新公式；  其中，m为梯度的一阶矩估计即梯度的均值，v为梯度的二阶矩估计即梯度的有偏方差，g为梯度，t表示当前学习的迭代次数，表示为了维持数值稳定性而添加的常数，，是一种同位元素相乘的乘法；是一组超参数，定义 ，；和是修正后的梯度的均值和有偏方差，为学习率。6.根据权利要求5所述的面向智能车间不同智能体之间的联邦学习方法，其特征在于：所述步骤3.2具体为：将局部模型相关层的参数作为特征，通过Resnet残差神经网络来提取特征，进而自适应的生成全局模型对应层参数；Resnet的输入层神经元个数与局部模型对应层的神经元个数一致，输出层的神经元个数为U，对应着全局模型相关层神经元个数，局部模型本地训练迭代次数为，通信次数为R；局部模型利用本地数据训练之后客户端将局部模型参数上传至终端服务器，当各层的局部模型参数达到预设数量时开始训练Resnet来提取特征从而生成全局模型，即如公式所示：其中，表示Resnet残差神经网络，为全局神经网络参数即全局模型参数，表示层数。7.一种面向智能车间不同智能体之间的联邦学习系统，其特征在于，包括：客户端和与客户端通信连接的终端服务器；客户端，即机器人，包括定位传感器、视觉传感器、节点存储器和节点处理器，定位传感器用于定位机器人当前所在位置，视觉传感器用于获取图像数据，节点存储器存储有节点计算机程序，节点计算机程序被节点处理器执行时实现权利要求1所述的同一集群内的各客户端进行局部模型训练，利用自身数据进行边缘计算，生成局部模型参数的步骤；终端服务器，包括主存储器和主处理器，主存储器存储有主计算机程序，主计算机程序被主处理器执行时实现权利要求1所述的建立图论模型，聚类客户端即机器人的步骤和基于ResNet残差网络聚合各客户端的局部模型参数生成全局模型，获得全局模型参数的步骤。
说明书desc
技术领域本发明涉及人工智能领域，尤其涉及一种面向智能车间不同智能体之间的联邦学习方法及系统。背景技术一般而言，公司的生产线会由很多公司生产的智能设备即智能体组成，这些智能体有的是各自检测产品的一部分质量，有的是需要共同搬运、装配一个设备，但是这些智能设备的学习、控制系统很可能是各自独立的，它们的生产者之间的技术壁垒使得人们很难把它们协调组装起来，不愿意共享它们的本身的数据；联邦学习是一种能够保护数据隐私的分布式机器学习/深度学习框架，因为其隐私保护和间接融合多方数据的特性拥有广泛的应用场景。智能的自动化车间环境中视觉机器人物品/人脸识别任务存在着问题，具体来说，车间中存在着多个视觉机器人，但是一般这些机器人之间都是相互孤立的，若想在车间中实现高度自动化，首要任务就是要让车间内的机器人能够认识周围的环境即识别物品，但是单个视觉机器人，同一时刻只能看到待识别物的部分，导致单个机器人的识别准确率并不高，特别是车间内一些大型的物件，这就需要充分利用、融合各机器人信息，因此，需要通过联邦学习融合多个机器人获取到的信息来提高整体的性能；传统联邦学习融合算法不加以区分就直接融合客户端，可能会产生适得其反的作用，会降低客户端的性能；另一方面如果在机器人之间直接传输原始数据，很容易被第三方窃取用户货物的隐私信息。虽然传统的联邦学习可以通过仅传输模型参数来保护隐私和融合各客户端模型，但是现阶段人工设计的聚合的过程很难考虑全面，无法很好的降低环境干扰因素的对模型性能的损害。发明内容本发明针对现有传统联邦学习算法的问题，主要面向视觉机器人孤立作业，无法很好的融合其他关联机器人数据的现状，提供一种面向智能车间不同智能体之间的联邦学习方法及系统，融合多客户端的模型参数，提高训练精度，从而提高车间机器人识别精度。为解决以上技术问题，本发明的技术方案为：一种面向智能车间不同智能体之间的联邦学习方法，步骤包括：建立图论模型，聚类客户端即机器人；对同一集群内的客户端进行联邦学习，具体为：同一集群内的各客户端进行局部模型训练，利用自身数据进行边缘计算，生成局部模型参数；基于ResNet残差网络聚合各客户端的局部模型参数生成全局模型，获得全局模型参数。按以上方案，方法具体步骤包括：步骤1：建立图论模型，聚类出相关联的客户端即机器人；步骤2：同一集群内的各客户端对采集的图像数据进行数据预处理；步骤3：对同一集群内的客户端进行联邦学习；步骤3.1：机器人局部模型训练：采用卷积神经网络MobileNet构建局部模型，采用不同机器人的数据对局部模型进行本地训练，生成局部模型参数；步骤3.2：聚合全局模型：采用残差神经网络Resnet构建全局模型，将局部模型参数作为特征，通过残差神经网络Resnet来提取特征，生成全局模型参数。按以上方案，所述步骤1具体为：由于一个协同车间中存在着多个机器人，即设定一个存在N个客户端的环境，环境表达成拓扑结构G；为拓扑结构G中的节点集合，代表每个机器人的位置；是i节点与j节点之间的边，其中i，j代表节点的编号即机器人的编号，根据不同机器人之间的相对位置和偏转角度来定义边，每个机器人上装有定位传感器和视觉传感器，两机器人之间的相对位置，其中为i机器人times时刻的位置，为j机器人times时刻的位置，表示2范数；以正南方向为参考方向，两机器人之间的偏转角度之差为，其中为i机器人times时刻相对于正南方向的偏转角度，为j机器人times时刻相对于正南方向的偏转角度；为拓扑结构G的邻接矩阵，若机器人之间的相对位置小于机器人视觉探测范围的1/3，并且偏转角度之差小于90度时，，否则为0；根据上述数据、和建立图论模型G；根据邻接矩阵为中为1的部分机器人分为一类集群，从而对这一类机器人进行联邦学习。按以上方案，所述数据预处理步骤为：步骤2.1：去噪预处理，降低原始图像数据中带有的噪声：基于卷积神经网络CNN的小波变换算法，首先对机器人采集的图像进行单尺度离散小波分解，得到一个低频分量和三个高频分量，然后分别通过四个CNN来分离这四个分量中的噪声图像；具体为：步骤2.1.1：小波分解原始图像：对图像进行2次单尺度离散小波分解，得到一个方向上的低频分量和其余三个方向上的高频分量，如公式所示：其中，X表示待分解图像；n表示分解尺度；L表示图像经离散小波分解后得到的低频分量；H表示水平方向高频分量；V表示垂直方向高频分量；D表示对角方向的高频分量；haar表示小波分解时采用haar基；基于小波变换的分解产生的四个分量，分别训练了4个CNN网络，目的是去除各个高频分量和低频分量中的噪声，来获得对应的预测分量，如公式所示：其中，表示ReLU激活函数，和均为训练参数；步骤2.1.2：通过离散小波逆变换来重构图像得到最终去噪后的图像，如公式所示：其中，表示2次离散小波逆分解用来重构图像；步骤2.2：采用最大值法对去噪后的图像进行灰度化，如公式所示，去除一些无关信息，减少参数量，减小背景对识别的影响，以此来增强客户端的实时性：其中，分别为去噪后的图像的R，G，B三通道的颜色分量；为最终的输入灰度图像。按以上方案，步骤3.1具体为：步骤3.1.1：训练数据为同一集群内机器人收集到的图像集，其中 为第k个机器人的数据集，即步骤2获得的灰度图像；构建机器人的初始局部模型，初始局部模型使用轻量化的卷积神经网络MobileNet，其基本结构包括了3×3深度可分离卷积层，批归一化，ReLU激活函数，1×1常规卷积使用；步骤3.1.2：设置机器人局部模型的损失函数，如公式所示：其中，为当前局部模型参数下的预测值，表示t时刻的权值，表示第k个机器人数据集中第i个样本，表示特征是n×m的RGB图片，n为图片的长，m为图片的宽，表示标签真实值，表示第k个数据集的样本数目；步骤3.1.3：更新局部模型参数：由公式得出第个客户端局部模型的损失函数，进而根据Adam优化器更新各局部模型的模型参数，如公式和公式所示，公式为参数更新公式； 其中，m为梯度的一阶矩估计即梯度的均值，v为梯度的二阶矩估计即梯度的有偏方差，g为梯度，t表示当前学习的迭代次数，表示为了维持数值稳定性而添加的常数， ，是一种同位元素相乘的乘法；是一组超参数，定义 ，；和是修正后的梯度的均值和有偏方差，为学习率。按以上方案，所述步骤3.2具体为：将局部模型相关层的参数作为特征，通过Resnet残差神经网络来提取特征，进而自适应的生成全局模型对应层参数；Resnet的输入层神经元个数与局部模型对应层的神经元个数一致，输出层的神经元个数为U，对应着全局模型相关层神经元个数，局部模型本地训练迭代次数为，通信次数为R；局部模型利用本地数据训练之后客户端将局部模型参数上传至终端服务器，当各层的局部模型参数达到预设数量时开始训练Resnet来提取特征从而生成全局模型，即如公式所示：其中，表示Resnet残差神经网络，为全局神经网络参数即全局模型参数，表示层数。本发明为一种面向智能车间不同智能体之间的联邦学习系统，包括：客户端和与客户端通信连接的终端服务器；客户端，即机器人，包括定位传感器、视觉传感器、节点存储器和节点处理器，定位传感器用于定位机器人当前所在位置，视觉传感器用于获取图像数据，节点存储器存储有节点计算机程序，节点计算机程序被节点处理器执行时实现上述的同一集群内的各客户端进行局部模型训练，利用自身数据进行边缘计算，生成局部模型参数的步骤；终端服务器，包括主存储器和主处理器，主存储器存储有主计算机程序，主计算机程序被主处理器执行时实现上述的建立图论模型，聚类客户端即机器人的步骤和基于ResNet残差网络聚合各客户端的局部模型参数生成全局模型，获得全局模型参数的步骤。本发明具有如下有益效果：本发明建立了新的联邦学习框架，一是考虑到各个客户端的关联性，自动分类相关客户端集群；二是自动学习聚合参数，从而较为精准的聚合客户端模型参数，提高联邦学习的训练精度，从而提高车间机器人整体的识别精度；本发明的图论可以很好的描述客户端之间的相似性，进而分类客户端集群，在不同客户端集群进行联邦学习，降低不相关图像数据对全局模型的损失；进一步，残差网络是目前应用最为广泛的卷积特征提取网络，本发明将客户端模型最后一层全连接层参数作为一种另类的特征输入到ResNet中来聚合生成全局模型；通过这样的联邦学习框架，来融合多客户端模型，提高机器人识别性能的同时，保护数据隐私。附图说明图1为本发明实施例的车间环境示意图；图2为本发明实施例的流程示意图；图3为本发明实施例的基于ResNet的联邦学习框架示意图；图4为本发明实施例的客户端基础神经网络结构示意图；图5为本发明实施例的ResNet残差神经网络结构示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，下面结合附图和具体实施例对本发明作进一步详细说明。本发明提供一种面向智能车间不同智能体之间的联邦学习方法，利用图论充分考虑客户端之间的关联建立客户端集群，分别训练客户端的局部模型，进一步利用ResNet残差网络自动学习局部模型参数从而聚合生成全局模型。本发明学习方法的过程分为两个模块，第一模块为：建立图论模型，聚类具有关联性的联邦学习客户端；第二模块为：同一集群内的机器人进行联邦学习，第二模块主要分为两部分，第一部分机器人客户端进行局部模型训练，利用自身数据进行边缘计算，生成局部模型参数；第二个部分是基于ResNet残差网络聚合各客户端的局部模型参数生成全局模型，获得全局模型参数，融合关联机器人信息，将全局模型参数发送至各客户端更新各客户端局部模型的模型参数。本发明提供一种面向智能车间不同智能体之间的联邦学习系统，包括客户端和与客户端通信连接的终端服务器；本实施例中，参阅图1，车间环境包含了多个视觉机器人和一台终端服务器，视觉机器人，以下简称机器人，为学习系统中的客户端；每个机器人都至少搭载了定位传感器、视觉传感器、节点存储器、节点处理器和动力系统，视觉传感器用来获取图像数据以供机器人完成识别任务；GPS定位传感器，用来定位机器人当前所在位置；动力系统，用来驱动机器人移动，包括电源和驱动电机；节点存储器和节点处理器构成边缘计算机，用来作为计算资源。本实施例中，视觉传感器采用的是型号为CV-035MCV-035CCV-200M的KEYENCE基恩士视觉传感器；GPS定位传感器采用的是正点原子GPS北斗双定位模块ATK1218-BD；边缘计算机采用的是天虹迷你四核微型主机。终端服务器包括主存储器和主处理器，用于全局计算。机器人与终端服务器之间通信，依靠wifi、zigbee、4G、5G中的一种或者多种建立通信连接，用来传输模型参数。参阅图2，本发明的一种面向智能车间不同智能体之间的联邦学习方法，步骤包括：步骤1：建立图论模型，聚类出相关联的客户端即机器人；参阅图1，由于一个车间环境中存在着多个联邦学习的客户端，即本实施例中，协同车间存在着多个机器人，这些客户端收集到的信息可能是相关的，也有可能毫无关联；所以在联合多个客户端联合训练联邦学习全局模型之前，需要聚类出相关联的客户端，然后将关联的客户端分为M个集群分别进行联邦学习，得到M个全局模型；其中集群中包含了个机器人；由于多数环境中的客户端之间存在着不规则的关系，本申请采用图论的方式对整个环境进行描述；考虑一个存在N个客户端的环境，环境可以表达成拓扑结构G；为拓扑结构G中的节点集合，代表每个机器人的位置；是i节点与j节点之间的边，其中i，j代表节点的编号即机器人的编号，本实施例中根据不同之间机器人之间的相对位置和偏转角度来定义边，每个机器人上装有GPS定位传感器和视觉传感器，由此可以得出两机器人之间的相对位置，其中为i机器人times时刻的位置，为j机器人times时刻的位置，具体数值由各机器人上搭载的GPS定位传感器采集，表示2范数。以正南方向为参考方向，两机器人之间的偏转角度之差为，其中为i机器人times时刻相对于正南方向的偏转角度， 为j机器人times时刻相对于正南方向的偏转角度。为拓扑图G的邻接矩阵，若机器人之间的相对位置小于机器人视觉探测范围的1/3，并且偏转角度之差小于90度时，，否则为0；根据以上已知数据建立了图论模型G；由此依据邻接矩阵为中为1的部分机器人分为一类集群，进行聚类，从而对这一类机器人进行联邦学习。在其他一些实施例中，除了上述面向的共同搬运、装配的任务的机器人外，也可以面向那些不能移动的上下游检测设备，即各自检测产品的一部分质量的设备，人工直接建立它们的连接图论模型，即直接设为， ，设为1表示它们为一类集群，设为15的意义表示它们之间的数据有交叉有不同。步骤2：同一集群内的各客户端对采集的图像数据进行数据预处理；数据预处理分为两部分，第一部分是为了降低原始图像数据中带有的噪声；第二部分为了降低参数量，去除一些无关信息，以此来增强客户端的实时性。步骤2.1：去噪预处理：结合卷积神经网络的优越的特征提取能力和小波变换的去噪能力，基于卷积神经网络CNN的小波变换算法，首先对机器人采集的图像进行单尺度离散小波分解，得到一个低频分量和三个高频分量，然后分别通过四个CNN来分离这四个分量中的噪声图像；具体为：步骤2.1.1：小波分解原始图像：对图像进行2次单尺度离散小波分解，得到一个方向上的低频分量和其余三个方向上的高频分量，如公式所示： 其中，X表示待分解图像； L表示图像经离散小波分解后得到的低频分量；H表示水平方向高频分量；V表示垂直方向高频分量；D表示对角方向的高频分量；haar表示小波分解时采用haar基；基于小波变换的分解产生的四个分量，分别训练了4个CNN网络，目的是去除各个高频分量和低频分量中的噪声，来获得对应的预测分量，如公式所示：其中，表示ReLU激活函数，和均为训练参数；步骤2.1.2：通过离散小波逆变换来重构图像得到最终去噪后的图像，如公式所示： 其中，idwt2表示2次离散小波逆分解；步骤2.2：对去噪后的图像进行灰度化处理，以此来减少参数量，减小背景对识别的影响；采用最大值法对去噪后的图像进行灰度化，如公式所示：其中，分别为去噪后的图像的R，G，B三通道的颜色分量；为最终的输入灰度图像。步骤3：对同一集群内的客户端进行联邦学习；参阅图3，训练数据为同一集群内视觉传感器收集到的图像集，其中为第k个机器人的数据集，即步骤2获得的灰度图像。因为同一类的各客户端所使用的视觉传感器相同，但是所获得的图像数据不相同，其中包含的特征也不同，所以本实施例为同构纵向联邦学习，联邦学习中分为两部分，分别是客户端的局部模型训练，局部模型聚合生成全局模型；步骤3包括：步骤3.1：机器人局部模型训练：本实施例采用经典的卷积神经网络对不同机器人的数据进行本地训练，卷积神经网络通过公开ImagNet数据集的预训练网络参数来初始化，本地训练过程中采用迁移学习的思想，只更新网络最后一层的参数，以此减少参数量，提高实时性。步骤3.1.1：构建机器人的初始局部模型，为了能够让机器人在本地处理图像数据，初始局部模型使用轻量化的卷积神经网络MobileNet，参阅图4，其基本结构包括了3×3深度可分离卷积层，批归一化，ReLU激活函数，1×1常规卷积使用；机器人i每增加1000个样本则增加一层卷积层和池化层，卷积层的卷积核尺寸为 5×5。步骤3.1.2：设置机器人局部模型的损失函数，如公式所示：其中，为当前局部模型参数下的预测值，表示t时刻的权值，表示第k个机器人数据集 中第i个样本，表示特征是n×m的RGB图片，n为图片的长，m为图片的宽，表示标签真实值，表示第k个数据集的样本数目；步骤3.1.3：更新局部模型参数：由公式得出第个客户端局部模型的损失函数，进而根据Adam优化器更新各局部模型的模型参数，如公式和公式所示，公式为参数更新公式；  其中，m为梯度的一阶矩估计即梯度的均值，v为梯度的二阶矩估计即梯度的有偏方差，g为梯度，t表示当前学习的迭代次数，表示为了维持数值稳定性而添加的常数，本实施例中，按照经验值设定为10e-8，即，，是一种同位元素相乘的乘法；是一组超参数，本实施例定义 ，；和是修正后的梯度的均值和有偏方差，为学习率。通过上述的过程更新局部模型参数之后，上传到终端服务器中，用于聚合全局模型。步骤3.2：聚合全局模型：采用残差神经网络Resnet构建全局模型，将局部模型参数作为特征，通过残差神经网络Resnet来提取特征，生成全局模型参数；具体为：终端服务器聚合步骤3.1中上传的各局部模型参数，不同于传统的联邦平均聚合算法，仅仅对局部模型参数进行平均化处理；本实施例收到集成学习中stacking结合策略的启发，设计了一种基于ResNet残差网络的聚合模块，用来聚合客户端模型参数生成全局模型，这种聚合模块能够自动化的聚合客户端参数，而不需要额外建立聚合规则；将局部模型相关层的参数作为特征，通过Resnet残差神经网络来提取特征，进而自适应的生成全局模型对应层参数，如图5所示；Resnet的输入层神经元个数与局部模型对应层的神经元个数一致，输出层的神经元个数为U，对应着全局模型相关层神经元个数，局部模型本地训练迭代次数为，通信次数为R；局部模型利用本地数据训练之后客户端将局部模型参数上传至终端服务器，当各层的局部模型参数达到预设的一定数量时开始训练Resnet来提取特征从而生成全局模型，即如公式所示：其中，表示Resnet残差神经网络，为全局神经网络参数即全局模型参数，表示层数。本发明一是能够考虑到各个参与方即客户端的相关性，聚类出具有关联性的客户端进行联邦学习；二是能够自动化的聚合局部模型参数，而不是人工制定固定的融合策略；通过这两方面可以很好的提高联邦学习的训练精度；各局部机器人阶段性地将训练出的MobileNet模型参数上传至终端服务器，终端服务器负责自动化地聚合这些参数，得出全局模型参数，聚合后的全局模型参数包含了各个局部机器人的训练经验，间接地融合了局部机器人获取到的特征，然后将全局模型参数发送给各局部机器人从而更新各自局部模型的模型参数，由此训练出泛化性能较高的MobileNet模型从而进行环境识别，本申请通过联合多机器人图像数据训练的方式提高了各局部机器人采用MobileNet模型识别的识别精度。具体如步骤3所示。本发明未涉及部分均与现有技术相同或采用现有技术加以实现。以上内容是结合具体的实施方式对本发明所作的进一步详细说明，不能认定本发明的具体实施只局限于这些说明。对于本发明所属技术领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干简单推演或替换，都应当视为属于本发明的保护范围。
