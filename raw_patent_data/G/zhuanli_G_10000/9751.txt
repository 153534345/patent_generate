标题title
基于节奏的智能锁系统及方法
摘要abst
本发明公开了一种基于节奏的智能锁系统及方法，该智能锁系统包括服务器、移动终端和智能锁；所述智能锁包括单片机、舵机、门锁和震动传感器；震动传感器用于接收外界在智能锁的指定区域的震动信号；单片机用于接收震动信号并将震动信号转换为数值A，以及用于将数值A与保存在单片机中的预设密码数值序列中的对应次序的数值B进行实时比较并得到比较结果；如果比较结果全部正确，则单片机还用于根据该比较结果对舵机发送控制命令；舵机用于接收单片机发送的控制命令，并基于所述控制命令控制门锁的开启。本发明用特定的敲门节奏代替数字密码，提高了节奏密码的保密性和利于用户记忆，还能降低整体功耗。
权利要求书clms
1.一种基于节奏的智能锁系统，其特征在于，该智能锁系统包括服务器、移动终端和智能锁；所述移动终端用于使得用户通过移动终端的应用程序设置预设密码数值序列；所述服务器用于接收移动终端发送的预设密码数值序列并将预设密码数值序列进行保存，以及用于将预设密码数值序列下载至智能锁中；所述智能锁包括单片机、舵机、门锁和震动传感器；所述震动传感器用于接收外界在智能锁的指定区域的震动信号；所述单片机用于接收震动信号并将震动信号转换为数值A，以及用于将数值A与保存在单片机中的预设密码数值序列中的对应次序的数值B进行实时比较并得到比较结果；如果比较结果全部正确，则单片机还用于根据该比较结果对舵机发送控制命令；所述舵机用于接收单片机发送的控制命令，并基于所述控制命令控制门锁的开启。2.根据权利要求1所述的智能锁系统，其特征在于，所述单片机在将震动信号转换为数值A的过程无需等待所有震动信号输入完毕。3.根据权利要求1或2所述的智能锁系统，其特征在于，通过移动终端的应用程序设置所述预设密码数值序列的过程包括：移动终端的应用程序选择现有音乐或自定义音乐；基于现有音乐或自定义音乐的节奏在移动终端的屏幕上敲击形成敲击节奏，相邻敲击节奏构成节奏间隔；当节奏间隔存在相邻的前一个节奏间隔时，则基于相邻两个节奏间隔转换为一数值；判断所述敲击节奏的数量是否满足所需的节奏间隔的要求，如果满足，则停止现有音乐或自定义音乐的播放，否则继续播放。4.根据权利要求3所述的智能锁系统，其特征在于，还包括：所述移动终端通过所述服务器的身份认证后，将所述预设密码数值序列上传给所述服务器保存；所述智能锁向所述服务器发出请求，通过身份认证后，下载所述预设密码数值序列，并保存在所述智能锁中。5.根据权利要求4所述的智能锁系统，其特征在于，基于相邻两个节奏间隔转换为一数值的过程包括：依次计算相邻两个节奏间隔的时长比值；将所述比值作为所述数值。6.根据权利要求5所述的智能锁系统，其特征在于，单片机将数值A与保存在单片机中的预设密码数值序列中的对应次序的数值B进行实时比较并得到比较结果的过程还包括：当比较结果不正确，则所述震动传感器停止对震动信号的接收。7.根据权利要求6所述的智能锁系统，其特征在于，还包括生物信息传感器或者数字字符密码输入键盘；数字字符密码输入键盘用于使得用户通过数字字符密码键盘输入开启门锁的数字字符密码；生物信息传感器用于使得用户通过输入生物信息方式开启门锁。8.采用权利要求1～7任一项的智能锁系统进行开锁的方法，其特征在于，包括：震动传感器接收外界在智能锁的指定区域的震动信号；单片机接收震动信号并将震动信号转换为数值A，并将数值A与保存在单片机中的预设密码数值序列中的对应次序的数值B进行实时比较并得到比较结果；如果比较结果全部正确，则单片机根据该比较结果对舵机发送开启门锁的控制命令；如果比较结果不正确，则立刻停止震动传感器对震动信号的接收；所述舵机基于所述开启门锁的控制命令控制门锁的开启。9.根据权利要求8所述的方法，其特征在于，所述单片机接收震动信号并将震动信号转换为数值A的过程包括：在所述指定区域敲击形成敲击节奏，相邻敲击节奏构成节奏间隔；当节奏间隔存在相邻的前一个节奏间隔时，则基于相邻两个节奏间隔转换为数值A。10.根据权利要求9所述的方法，其特征在于，在所述接收外界在智能锁的指定区域的震动信号之前，所述智能锁播放一开锁音乐作为提示；当所述敲击节奏的数量满足所需的节奏间隔的要求或者音乐播放时长达到指定的最大时长，则停止播放音乐。11.根据权利要求10所述的方法，其特征在于，基于相邻两个节奏间隔转换为数值A的过程包括：依次计算相邻两个节奏间隔的时长比值；将所述比值作为数值A。
说明书desc
技术领域本发明涉及一种智能锁系统及方法。背景技术智能锁目前成为一种流行的安全装置，具有使用方便，设置简单，安全有效的特点。智能锁与传统机械锁相比，传统机械锁仅具有由机械装置构成的锁具，因而只能通过相匹配的钥匙实现门禁功能。而智能锁采用了信息化技术对锁具进行了改进，从而使得其锁具在用户识别、安全性、管理性方面具有更加灵活的智能化功能，其最重要的一个功能特点是能通过手机等移动终端设备远程控制，并和智能家居实现联动功能。通常，智能锁通常包括由云端服务、移动设备端的APP、监控器和锁具构成。云端服务能够将用户基本信息保存在云端，并可对锁具进行管理，保存执行锁具开启关闭功能的安全信息的备份，如密码，在某些状况下，用户可将这些备份信息找回。移动设备端的APP主要包括信息管理和信息收集模块，用户可通过远端操作核实身份、修改或者重置密码、或者用移动设备端的传感器更新生物信息，如指纹，人脸信息等。监控器主要是由单片机、网络适配器、键盘或生物传感器、显示屏、线路检测、A/D转换等单元构成。锁具主要由智能部分和机械部分组成，由智能部分发布指令驱动舵机并操控锁具的闭合与开启状态。单片机接收键入的密码或者生物信息等安全信息，与其保存的安全信息进行比较，如果正确则控制智能锁的舵机开锁，否则根据事先约定的程序要求重新输入、锁死或报警处理。可见，智能锁不同于传统机械锁的一个最重要的区别是：采用了能够被信息化技术处理的安全信息升级了传统机械锁的钥匙部件。现有智能锁的安全信息大多数通过数字字符密码键盘、生物信息传感器获取密码、指纹等信息。但是，数字字符密码信息存在定义困难，不易记忆，易被破解的不足。此外，数字字符密码键盘的字符键盘布局的差异对于视力残障或者受损人士在使用时，存在较大的难度。指纹等生物信息克服了数字密码信息的不足，但是，生物信息需要生物信息传感器的支持。由于生物信息传感器容易受到环境影响或人为损坏。一旦损坏，则会使得智能锁失去功能。为了同时克服上述不足，又出现了以节奏信息作为密码的智能锁。申请号为201810781872.4的中国专利申请公开的基于节奏识别开锁的门锁适配器及其开锁控制方法、申请号为201110253933.8的中国专利申请公开的创建节奏密码及根据节奏密码进行验证的方法和装置、申请号为201610281119.X中国专利申请公开的一种密码解锁方法及装置，都提及将传统的数字字符密码用节奏方式的密码替代，以克服传统密码难以记忆的问题。申请号为201810781872.4的中国专利申请需要控制好节奏密码输入的快慢，否则无法输入正确的节奏密码。申请号为201110253933.8的中国专利申请则需要预先得到用户的训练数据得到其输入节奏的特征值，这对于向其他用户转移节奏密码时存在较大的难度。申请号为201610281119.X的中国专利申请需要获取输入的总时间用于计算各时间间隔的比值。可见，只有当用户将震动节奏输入完毕后，获取到总时间后，才能够进行密码比对的操作。另外，申请号为201210094962.9的中国专利申请公开了一种解除屏幕锁定状态的方法及其装置，虽然采用了点击节奏的方式解锁屏幕的锁定，但是其技术方案需要等待所有的点击次数完成后，进一步判断密码动作与解锁动作的点击次数是否相同，才能够进行密码动作是否正确的判断，如果恶意用户故意拖延点击时间间隔，由于设备上的震动传感器要一直处于工作状态以确保能够收到所有的点击，因此这对于功耗敏感的设备是极为不利的。由此可见，采用节奏方式密码的智能锁仍存在以下技术问题：输入节奏的节拍不易掌握，或快或慢都会影响节奏密码的比对，引起智能锁的误判。另外，节奏与数值之间相互转换的数值机制过程较为复杂，不能实施密码的实时校验比对，需要在用户全部输入节奏信号后，才能进行数值转换，因而执行效能较低。震动传感器在用户输入的节奏信号已经出现错误时，仍必须保持信号接收和处理状态，不利于智能锁的节能设计。发明内容有鉴于此，本发明提出了一种全新的节奏密码智能锁系统。一般来说，数字字符密码通常和用户信息相关时，能够降低用户的记忆难度，但是极易被破解，与个人信息无关的信息又不便于记忆。因此，本发明创造性地提出密码基于用户爱好的音乐节奏来生成数值序列。由于个人喜好的音乐相对于身份证号、出生日期等更不易被破解，而音乐节奏相较于数字和字母更便于记忆。其次，本发明还通过引导用户将音乐节奏以敲击的方式在移动端输入，形成独立密码，这样生成的密码保密性更强。此外，本发明还建立了一种节奏密码与预设密码数值序列的对应方案，不仅克服了节奏密码输入过快或者过慢带来的不利影响，还有利于智能锁系统的节能设计。一方面，本发明提供一种基于节奏的智能锁系统，该智能锁系统包括服务器、移动终端和智能锁；所述移动终端用于使得用户通过移动终端的应用程序设置预设密码数值序列；所述服务器用于接收移动终端发送的预设密码数值序列并将预设密码数值序列进行保存，以及用于将预设密码数值序列下载至智能锁中；所述智能锁包括单片机、舵机、门锁和震动传感器；所述震动传感器用于接收外界在智能锁的指定区域的震动信号；所述单片机用于接收震动信号并将震动信号转换为数值A，以及用于将数值A与保存在单片机中的预设密码数值序列中的对应次序的数值B进行实时比较并得到比较结果；如果比较结果全部正确，则单片机还用于根据该比较结果对舵机发送控制命令；所述舵机用于接收单片机发送的控制命令，并基于所述控制命令控制门锁的开启。根据本发明的基于节奏的智能锁系统，优选地，所述单片机在将震动信号转换为数值A的过程无需等待所有震动信号输入完毕。因而使得智能锁进行数值的实时转换和比较。根据本发明的基于节奏的智能锁系统，优选地，通过移动终端的应用程序设置所述预设密码数值序列的过程包括：移动终端的应用程序选择现有音乐或自定义音乐；基于现有音乐或自定义音乐的节奏在移动终端的屏幕上敲击形成敲击节奏，相邻敲击节奏构成节奏间隔；当节奏间隔存在相邻的前一个节奏间隔时，则基于相邻两个节奏间隔转换为一数值；判断所述敲击节奏的数量是否满足所需的节奏间隔的要求，如果满足，则停止现有音乐或自定义音乐的播放，否则继续播放。根据本发明的一个实施方式，当设定的节奏间隔为m个时，则敲击节奏的数量需要为m+1个。例如，节奏间隔为5个时，则敲击节奏的数量需要为6个，相邻敲击节奏之间则能构成5个节奏间隔。因此，当敲击节奏数量达到6个时，可停止现有音乐或自定义音乐的播放。根据本发明的基于节奏的智能锁系统，优选地，所述移动终端通过所述服务器的身份认证后，将所述预设密码数值序列上传给所述服务器保存；所述智能锁向所述服务器发出请求，通过身份认证后，下载所述预设密码数值序列，并保存在所述智能锁中。根据本发明的基于节奏的智能锁系统，优选地，基于相邻两个节奏间隔转换为一数值的过程包括：依次计算相邻两个节奏间隔的时长比值；将所述比值作为所述数值。根据本发明的一个实施方式，第一次敲击开始，系统会记录下每两次敲击的间隔时间，如以毫秒为单位，记录相邻两次敲击的间隔时间。如，用户敲击了6次，形成6次敲击节奏，这6次敲击中，相邻两次之间存在时间间隔，即节奏间隔，节奏间隔分别为500毫秒，1000毫秒，2005毫秒，556毫秒和555毫秒。从第二个节奏间隔开始，可计算相邻节奏间隔的时长比值。一种优选的方式为：计算前一节奏间隔时长与相邻的后一节奏间隔时长的比值，并按四舍五入保留一位小数，即分别为：0.5，0.5，4.0，1.0。则0.5，0.5，4.0，1.0则为生成的数值序列。当敲击的节奏间隔不为500毫秒，1000毫秒，2005毫秒，556毫秒和555毫秒时，而是1000毫秒，2000毫秒，4010毫秒，1112毫秒和1110毫秒，但它们形成的节奏间隔的时长比值依然为0.5，0.5，4.0，1.0。可见，虽然两次的敲击节奏的快慢不同，但是输入的数值序列是一致的。这样可以克服敲击节奏作为密码输入时，节奏快慢难以掌握的技术难题。用户只需要按照自己习惯的敲击节奏的速度输入震动信息。另外，还可通过设置所述时长比值的所保留的有效小数的位数提升节奏密码使用的精度。更多的有效小数的位数对节奏间隔的要求越高。根据本发明的基于节奏的智能锁系统，优选地，单片机将数值A与保存在单片机中的预设密码数值序列中的对应次序的数值B进行实时比较并得到比较结果的过程还包括：当比较结果不正确，则所述震动传感器停止对震动信号的接收。由于本发明能够实时地将转换的数值通过单片机进行比对，因而无需等待全部接收到用户输入的敲击节奏。继续以前述例子说明：如当得到第二个节奏间隔时长时，则可获得转换的第一个数值0.5，智能锁的单片机则实时地将0.5与保存的预设密码数值序列的第一个数值进行比较。如果比较的结果正确，则继续接收用户后续输入的敲击节奏构成的节奏间隔，并计算得到一个新的转换数值、转换后的数值与预设密码数值序列中对应次序的数值继续进行实时比对。一旦比对结果不正确，则停止震动传感器的工作及智能锁相关的后续操作，即停止接收用户后续输入的敲击节奏的接收、数值转换和比对等。也就是说，一旦输入的节奏间隔被转换为数值后，单片机实时比对所述数值与保存的预设密码数值序列中对应次序的数值。如果出现比对不正确的情况，则停止对用户后续输入的敲击节奏的接收和数值转换，从而能够减少智能锁系统的电能消耗。本发明提出的数值转换技术方案由于无需等待所有震动信号输入完毕就能实现数值比对的功能，从而能有效避免不必要的对已出现错误的敲击节奏信号的信号进行处理的过程，减少了智能锁系统的电能消耗。根据本发明的基于节奏的智能锁系统，优选地，还包括生物信息传感器或者数字字符密码输入键盘；数字字符密码输入键盘用于使得用户通过数字字符密码键盘输入开启门锁的数字字符密码；生物信息传感器用于使得用户通过输入生物信息方式开启门锁。此外，根据本发明的基于节奏的智能锁，优选地，用户可通过移动终端播放与开锁的震动节奏相关的音乐片段作为提示。另一方面，本发明还提供一种采用如上所述的智能锁系统进行开锁的方法，包括：震动传感器接收外界在智能锁的指定区域的震动信号；单片机接收震动信号并将震动信号转换为数值A，并将数值A与保存在单片机中的预设密码数值序列中的对应次序的数值B进行实时比较并得到比较结果；如果比较结果全部正确，则单片机根据该比较结果对舵机发送开启门锁的控制命令；如果比较结果不正确，则立刻停止震动传感器对震动信号的接收；所述舵机基于所述开启门锁的控制命令控制门锁的开启。根据本发明的方法，优选地，单片机接收震动信号并将震动信号转换为数值A的过程包括：在所述指定区域敲击形成敲击节奏，相邻敲击节奏构成节奏间隔；当节奏间隔存在相邻的前一个节奏间隔时，则基于相邻两个节奏间隔转换为数值A。根据本发明的方法，优选地，在所述接收外界在智能锁的指定区域的震动信号之前，所述智能锁播放一开锁音乐作为提示；当所述敲击节奏的数量满足所需的节奏间隔的要求或者音乐播放时长达到指定的最大时长，则停止播放音乐。提示音乐的播放大大提升了智能锁使用的友好度。根据本发明的方法，优选地，基于相邻两个节奏间隔转换为数值A的过程包括：依次计算相邻两个节奏间隔的时长比值；将所述比值作为数值A。采用本发明的敲门节奏代替数字密码的技术方案，克服了数字密码难以记忆的技术问题。敲门节奏可取决于用户喜好的音乐，大大提高了密码的保密性，同时更便于用户记忆。另外，取消了显式的传感器，避免了由于传感器被破坏影响智能锁功能。敲门节奏相对于密码输入，扫描指纹等方式更简单直观，对视力残障人士更加友好。进一步地，本发明提出的节奏节拍转化为数值序列的技术方案，实现了敲门节奏与数值密码的相互转换的对应关系，便于用户按需使用智能锁的输入方式，同时也便于用户在移动设备上编辑密码。此外，本发明提出的数值序列及密码的生成技术方案，通过相邻节奏间隔的时长的比值转换数值，既有效克服了采用节奏密码输入快慢不易掌握的难题，也能够实现数值转换和比对的实时性，无需等待用户完成敲击节奏的全部输入，一旦出现基于敲击节奏所转换的数值比对不正确时情况，则可立即停止智能锁震动传感器的工作，从而可有效降低智能锁系统的整体功耗水平。附图说明图1为本发明一种智能锁系统的软件总体结构图。图2为本发明一种智能锁系统使用流程图。图3为本发明一种节奏密码生成算法流程图。具体实施方式下面结合具体实施例对本发明作进一步的说明，但本发明的保护范围并不限于此。为了便于理解实施例，先对实施例中的树莓派和GPIO进行必要的解释：GPIO：General-purpose input/output，即通用型输入输出，是可以自定义电平的引脚，可以与其电路元件构成智能电路。在实施例中，通过程序操作GPIO电流达到控制舵机的功能。树莓派：树莓派是基于arm芯片的卡片式电脑。与一般单片机不同的是，它具有较快的处理器和较大内存，可以运行linux并支持在其上直接编程，可以运行大型程序。此外，树莓派通过GPIO接口输出电平信号可以直接操作电动机、舵机等模拟电子设备。在实施例中，利用树莓派强大的运算能力完成节奏密码的识别，而其与舵机的直接连接和操作可以省去下位机，做到整个系统的高度整合。本实施例的基于节奏的智能锁系统包括服务器、移动终端和智能锁。服务器和移动终端可以采用本领域已知的那些，这里不再赘述。本实施例的智能锁包括单片机、舵机、门锁和震动传感器以及任选的电源管理单元。任选地，还包括生物信息传感器或者数字字符密码输入键盘。震动传感器接收外界在智能锁指定区域的有节奏的震动，并将其转换为电信号。单片机可由树莓派单片机构成，单片机接收震动信号并将震动信号转换为数值A，以及用于将数值A与保存在单片机中的预设密码数值序列中的对应次序的数值B进行实时比较并得到比较结果；如果比较结果全部正确，则单片机还用于根据该比较结果对舵机发送控制命令。舵机用于关闭和开启门锁的上锁/解锁装置。电源管理单元包括LDO、电源芯片和电池，给智能锁提供所需的电力。生物信息传感器或者数字字符密码输入键盘为备用开锁单元，二者分别提供指纹和数字密码的方式开锁。移动终端使得用户通过移动终端的应用程序设置预设密码数值序列。预设密码数值序列即为基准密码数值序列。移动终端包括手机、平板电脑。服务器接收移动终端发送的预设密码数值序列并将预设密码数值序列进行保存，以及将预设密码数值序列下载至智能锁中。为了便于用户以更佳的用户体验使用智能锁系统，可通过部署的软件提供更多的智能化功能，参见图1所示的智能锁系统的软件总体结构图。其中，智能锁系统的软件包括位于服务器端程序，单片机程序和手机上的APP程序。服务器程序通常部署在服务器中；手机APP，主要包括密码设置，曲目上传，自定义节奏等主要功能；单片机程序位于智能锁上，主要用于和服务器端通讯、判断密码、控制舵机对门锁进行开闭。图2示出了智能锁系统在智能锁系统硬件、软件协同的环境下的使用流程图。用户使用智能锁时，当需要设置智能锁的节奏密码时，可以通过手机端APP设置，节奏密码的节奏方式可以取材于现有音乐，也可以为用户自定义音乐。具体地，音乐可以为歌曲或者伴奏等。当确定以现有音乐或自定义音乐作为节奏方式时，可以将确定的现有音乐或自定义音乐保存在手机端，然后根据现有音乐或自定义音乐的节奏通过敲击手机屏幕进行节奏密码输入，并转为预设密码数值序列；输入完成后由服务器端程序进行所述现有音乐或自定义音乐和节奏密码对应的预设密码数值序列的保存。当通过服务器端身份验证的智能锁需要下载预设密码数值序列时，可由智能锁的单片机下载程序将节奏密码对应的预设密码数值序列下载，并保存在智能锁的单片机的存储器中。这样就设置了预设密码数值序列并对其进行保存，以及将其下载至智能锁中。在开锁时，用户根据事先确定的节奏在智能锁指定的区域敲击，由锁上的震动传感器感知震动节奏，即震动信号，单片机将震动节奏组成的节奏间隔数字化后，即将震动节奏信号转换为数值序列，与保存的预设密码数值序列进行对比，如果两者符合则操作开锁动作。如果不符合则可由LED屏幕或声音提示错误，或者通过手机播放相应的音乐片段提醒用户再试。如果用户确实忘记节奏密码，也可选择在智能锁上的备用开锁单元进行开锁，如选择使用指纹或密码等传统智能锁完成开锁步骤。在某些实施方案中，节奏密码转换算法实现以震动信号形式表征的密码到以数值序列形式表征的密码数值序列的转换。转换过程包括：震动采集、时间分析、序列生成和存储四个步骤。震动采集可以以用户设定的音乐片段作为基础，由用户根据音乐片段点击屏幕形成震动节奏，即震动信号；时间分析则将由震动节奏间隔形成的节奏间隔转换成数值，并进一步将数值化的节奏间隔由序列生成功能而生成数值序列，并可以特定格式存储到存储设备或者上传到指定的服务器端予以保存，从而实现了震动节奏向数值序列的转换。以用户在手机APP上设置节奏密码的过程为例说明这个转换过程，其流程参见图3。首先，用户通过智能锁系统的手机APP选择一现有音乐或自定义音乐，用户基于现有音乐或自定义音乐的节奏在手机屏幕上点击/敲击形成敲击节奏；手机APP计算现有音乐或自定义音乐的节奏间隔的数量，基于节奏间隔的所需数量判断节奏数量是否满足预设的数量要求，如果满足，则停止歌曲播放，否则继续播放；当节奏数量满足要求后，计算用户敲击的节奏间隔的时长，并根据节奏间隔将用户敲击节奏生成数值序列。当用户在智能锁上输入节奏密码时，在智能锁指定区域敲击形成敲击节奏，相邻敲击节奏构成一敲击间隔，当构成的敲击间隔存在相邻的前一敲击间隔时，智能锁的单片机计算这两个相邻的敲击间隔的时长比值，从而获得数值A，单片机将所述数值A与智能锁保存的预设密码数值序列对应次序的数值B进行比对，如果比对正确，则继续接收敲击节奏信号，构成新的敲击间隔，计算新的数值和预设密码数值序列中的对应数值进行比对，如果比对不正确，则立即停止震动传感器的工作，不再进行后续的计算和比对操作。为便于理解上述实施例，通过以下简化的具体示例进一步说明。例如，当设置含4个数值的节奏密码时，则需要5个节奏间隔，用户需要敲击6次。6次敲击中，如果相邻两次敲击的间隔时长分别为500毫秒，1000毫秒，2005毫秒，556毫秒和555毫秒，那么根据计算相邻节奏间隔时长的比值，将它们转换为一组数值。转换方式可以如下：计算前一节奏间隔时长与相邻的后一节奏间隔时长的比值，并按四舍五入保留一位小数，0.5，0.5，4.0和1.0。0.5，0.5，4.0和1.0则为生成的数值序列。这个数值序列可作为预设密码数值序列进行保存。当用户需要开锁时，用户在智能锁的指定区域敲击输入节奏，通过上述转换方式将用户的敲击节奏转换为数值序列。略为不同的是，自用户敲击第三次时，由于能构成2个相邻敲击间隔，则开始数值的转换。每完成一个数值转换，则智能锁的单片机将数值A与保存的预设密码数值序列中的对应次序的数值B进行对比。只有所有的比对都正确时，才会执行门禁功能，如开锁动作。一旦出现数值比对错误的情况，则立刻停止智能锁的震动传感器的工作。可见，由于本发明的实施例中采用相邻节奏间隔的时长的比值关系进行数字化转换，因此，本发明不仅解决了用户在进行敲击时担心敲击的速度过快或者过慢的技术问题，还能够实现实时转换数值和密码数值比对的功能，当出现比对不正确的情况，就能立即停止震动传感器的工作，从而有效降低整体的能量消耗。为了进一步加强安全性，本发明还允许用户使用曲库循环的方式，定期修改密码。在设定密码时，本发明还允许用户在移动终端，如手机通过敲击屏幕的方式，将熟悉的音乐节奏以自定义的模式输入，系统会自动将新节奏加入到密码库。在本发明中，在使用智能锁系统输入密码时，本发明采用震动的节奏作为密码，与震动传感器结合，用户通过有节奏地敲击门和/或窗，由震动传感器接收震动信号，单片机将转换的节奏密码与已保存的节奏密码比对，实现密码锁的功能。由于使用门窗作为密码输入工具结合，震动传感器吸附在门背面，实现了对震动传感器的隐藏，不易损坏；另外，由于震动传感器吸附在门后，整个门都成为传感器的一部分，接触面积大大增加，利于输入)，为视力残障用户解决了密码不易输入的问题，同时，密码输入的方式更简易，不需要额外的数据采集，节省了成本。本发明并不限于上述实施方式，在不背离本发明的实质内容的情况下，本领域技术人员可以想到的任何变形、改进、替换均落入本发明的范围。
