标题title
一种电推力矢量在轨标定方法
摘要abst
本发明提供了一种电推力矢量在轨标定方法，确定开机时刻、关机时刻以及所对应的实测卫星位置和速度；根据矢量调节机构转角实测值估计电推力矢量；将估计的电推力矢量在本体系三轴的分量代入开机时刻卫星的轨道运动方程，积分得到关机时刻卫星在地心赤道惯性系的位置和速度；求取电推力矢量在三轴分量的最优估计，实现电推力矢量标定。本发明可以对单台、多台电推力器进行标定，不依赖于标定时间，不需要多次标定，可行性高，实施简单。
权利要求书clms
1.一种电推力矢量在轨标定方法，其特征在于，包括以下步骤：确定开机时刻、关机时刻以及所对应的实测卫星位置和速度；根据矢量调节机构转角实测值估计电推力矢量，电推力器三轴合成推力分别为FbxidxElec＝FetskidxElec×sin×cos，FbyidxElec＝-FetskidxElec×sin，FbzidxElec＝FetskidxElec×cos×cos，式中，βMidxElec和αMidxElec为电推矢量调节机构两轴转角实测值，idxElec为电推力器编号，FetskidxElec为各电推力器在位保工作模式下的标称推力；将估计的电推力矢量在本体系三轴的分量代入开机时刻卫星的轨道运动方程，积分得到关机时刻卫星在地心赤道惯性系的位置和速度；求取电推力矢量在三轴分量的最优估计，实现电推力矢量标定。2.根据权利要求1所述的电推力矢量在轨标定方法，其特征在于，所述卫星的轨道运动方程为其中，为卫星地心位置矢量在惯性坐标系的分量，为卫星速度矢量在惯性坐标系的分量，r为地心距，μ为地球引力常数，为卫星的轨道摄动加速度，为电推力器推力，m为卫星当前质量。3.根据权利要求1所述的电推力矢量在轨标定方法，其特征在于，所述的步骤采用遗传算法求取电推力矢量在三轴分量的最优估计，将积分得到的关机时刻卫星在地心赤道惯性系的位置和速度与测得的关机时刻位置、速度相比较，定义适应度函数其中，Z为积分得到的关机时刻惯性系的卫星位置、速度，Z1为实测的关机时刻惯性系u、v、w三个方向的卫星位置、速度，λh为对三个方向的位置、速度的加权系数。4.根据权利要求3所述的电推力矢量在轨标定方法，其特征在于，所述的加权系数λh对三个方向的位置、速度分别取0.001、0.001、0.001、1.0、1.0、1.0。5.根据权利要求1所述的电推力矢量在轨标定方法，其特征在于，所述的步骤根据电推力矢量在三轴分量的最优估计Fbx、Fby、Fbz计算电推力其中，AbI为地心惯性坐标系到卫星本体坐标系的转移矩阵。
说明书desc
技术领域本发明属于航天测量与控制领域，涉及一种矢量标定方法。背景技术电推进系统由于具有比冲高、完成任务所需的工质质量小和控制精度高等优点，在航天中的应用日益广泛。电推力器推力矢量的标定对于位保轨控策略的制定和轨道控制的精度具有重要意义。由于受到地面环境的限制，难以在地面建立与空间环境一致的温度和压力条件；而且也受到地面测量手段的限制，很难实现电推进器的精确标定。因此，为了确保电推进器在轨工作的有效性，需要对其推力进行在轨标定。工程上往往采用轨道确定和利用角动量的方法进行电推力标定。利用轨道确定的方法通过计算推力器在开机前和关机后的轨道变化量，反算出电推力器的在轨实际推力，这种方法简单易行，但对于两台甚至四台推力的混合效果，需要考虑如何分别标定。利用电推力器工作时引起的星体角动量变化来进行电推力矢量标定的方法，在轨长期使用期间，推力指向质心，用角动量标定推力大小精度较差，根据在轨经验，最好情况下估计误差为2-3％，且角动量标定需要短期内多次进行指向标定，对标定的次数提出了要求。发明内容为了克服现有技术的不足，本发明提供一种电推力矢量在轨标定方法，基于遗传算法进行电推力矢量在轨标定，将按卫星运动方程积分得到的和实测得到的关机时刻卫星位置和速度和变化相比较，设计了适应度函数。本发明实施简单，能够标定单个推力器。本发明解决其技术问题所采用的技术方案包括以下步骤：确定开机时刻、关机时刻以及所对应的实测卫星位置和速度；根据矢量调节机构转角实测值估计电推力矢量，电推力器三轴合成推力分别为FbxidxElec＝FetskidxElec×sin×cos，FbyidxElec＝-FetskidxElec×sin，FbzidxElec＝FetskidxElec×cos×cos，式中，βMidxElec和αMidxElec为电推矢量调节机构两轴转角实测值，idxElec为电推力器编号，FetskidxElec为各电推力器在位保工作模式下的标称推力；将估计的电推力矢量在本体系三轴的分量代入开机时刻卫星的轨道运动方程，积分得到关机时刻卫星在地心赤道惯性系的位置和速度；求取电推力矢量在三轴分量的最优估计，实现电推力矢量标定。所述卫星的轨道运动方程为其中，为卫星地心位置矢量在惯性坐标系的分量，为卫星速度矢量在惯性坐标系的分量，r为地心距，μ为地球引力常数，为卫星的轨道摄动加速度，为电推力器推力，m为卫星当前质量。所述的步骤采用遗传算法求取电推力矢量在三轴分量的最优估计，将积分得到的关机时刻卫星在地心赤道惯性系的位置和速度与测得的关机时刻位置、速度相比较，定义适应度函数其中，Z为积分得到的关机时刻惯性系的卫星位置、速度，Z1为实测的关机时刻惯性系u、v、w三个方向的卫星位置、速度，λh为对三个方向的位置、速度的加权系数。所述的加权系数λh对三个方向的位置、速度分别取0.001、0.001、0.001、1.0、1.0、1.0。所述的步骤根据电推力矢量在三轴分量的最优估计Fbx、Fby、Fbz计算电推力其中，AbI为地心惯性坐标系到卫星本体坐标系的转移矩阵。本发明的有益效果是：根据电推进器特点设计了优化函数，只需要输入电推进关机时刻卫星位置和速度，使用智能优化算法求解出电推进的推力值，可以对单台、多台电推力器进行标定，不依赖于标定时间，不需要多次标定，因此相比于现有采用轨道确定和利用角动量进行电推力标定的方法，可行性高，实施简单。附图说明图1是适应度进化曲线图；图2是电推位保期间电推力矢量标定计算流程图；图3是遗传算法计算流程图。具体实施方式下面结合附图和实施例对本发明进一步说明，本发明包括但不仅限于下述实施例。本发明针对某一类型地球静止轨道卫星上所配置的电推力使用特点，提出一种基于遗传算法进行电推力矢量在轨标定的方法，针对电推力器推力矢量特点设计了编码、适应度函数。按卫星运动方程积分外推得到的和实测得到的关机时刻卫星位置和速度和变化最小为约束，得到了电推力矢量的最优估计值。仿真结果表明算法正确可行。本发明为在轨卫星电推标定和调整提供了一种解决方案，方法可行性高，实施简单，具有单次点火可以标定，不依赖于标定时间，电推进器关机即可进行标定，可以标定单台、多台推力器等特点。电推进位保模式默认控制周期为N+1模式，在升、降交点附近各点两次火，因此电推进位保的评估时机有：1天的测定轨后；N天位保中每天升交点、降交点点火前，如图1所示。由于位保每次只用一台电推进器，为了标定出每一台电推进器的推力矢量，在N天位保中每天升交点、降交点点火前进行电推力矢量标定。本发明的具体过程如下：输入开机时刻、关机时刻及它们所对应的实测轨道位置速度。开机时刻的轨道位置速度为关机时刻的轨道位置速度为其中x、y、z和u、v、w分别为开关机时刻星体在惯性坐标系各方向的位置参数，和分别为开关机时刻星体在惯性坐标系各个方向的速度。根据矢量调节机构转角实测值进行电推力矢量初步估计。NE、NW、SW、SE四个电推力器在三轴合成推力FbxidxElec、FbyidxElec、FbzidxElec的初步估计按照下文的公式进行计算，idxElec为电推力器编号，代表NE、NW、SW、SE四个电推力器。FbxNE＝FetskNE×sin×cosFbyNE＝-FetskNE×sinFbzNE＝FetskNE×cos×cosFbxSW＝-FetskSW×sin×cosFbySW＝FetskSW×sinFbzSW＝FetskSW×cos×cosFbxNW＝FetskNW×sin×cosFbyNW＝FetskNW×sinFbzNW＝FetskNW×cos×cosFbxSE＝-FetskSE×sin×cosFbySE＝-FetskSE×sinFbzSE＝FetskSE×cos×cos式中，βMidxElec和αMidxElec为电推矢量调节机构两轴转角实测值，FbxidxElec、FbyidxElec、FbzidxElec为电推力器在三轴合成推力，idxElec为电推力器编号，FetskidxElec为各电推力器在位保工作模式下的标称推力。将估计的电推力矢量在本体系三轴的分量代入开机时刻卫星的轨道运动方程，积分得到关机时刻卫星在地心赤道惯性系的位置和速度，求得目标函数。电推力器推力通常较小，工作过程是小推力助推问题，按喷气过程达到稳定状态，用一个平均效应的连续喷气过程来处理，考虑积累效应。对于地球静止轨道，考虑二阶摄动，卫星运动在地心赤道惯性坐标系OXIYIZI中描述的卫星运动方程如下：其中：为卫星地心位置矢量在惯性坐标系的分量，单位为m；为卫星速度矢量在惯性坐标系的分量，单位为m/s；r为地心距，μ为地球引力常数，μ＝3.986005×1014m3/s2；为卫星的轨道摄动加速度；F为电推力器推力，单位为N；m为卫星当前质量，单位为kg。利用遗传算法求电推力矢量在三轴分量的最优估计，使由此电推力矢量算得目标函数最小。电推进矢量在轨标定问题采用遗传算法进行电推力矢量寻优，进而实现电推力矢量标定的目的，其优化流程如图3所示。具体算法采用实数编码、“轮盘赌”选择法、实值变异，适应度函数设计如下：由矢量调节机构实测转角给出一组推力分量Fbx、Fby、Fbz作为初始估计，由卫星运动方程和开机时刻的位置、速度，积分点火时间长度后得到关机时刻的卫星、速度，将此位置、速度与测得的关机时刻位置、速度相比较，定义适应度函数为：其中：Z为由推力矢量按卫星运动方程积分得到的关机时刻惯性系u、v、w三个方向的卫星位置、速度，h＝1～6；Z1为实测的关机时刻惯性系u、v、w三个方向的卫星位置、速度，h＝1～6；λh为对三个方向的位置、速度的加权系数，h＝1～6，考虑关机时刻位置变化量小，速度变化量大的情况，按照工程经验，分别取0.001、0.001、0.001、1.0、1.0、1.0。根据寻优得到的电推力矢量在本体系三轴分量Fbx、Fby、Fbz，则其中，考虑到电推点火过程卫星姿态误差很小，假定卫星姿态为点火姿态，可计算该台电推力器的推力大小为：下面给出ARI的求法。卫星运动方程以地心惯性系为基准，姿态坐标系采用东南地坐标系。从电推力器开机时刻到关机时刻的卫星实际姿态，由星上的各种姿态敏感器给出。在东南地坐标系OEXYZ中，定义三轴姿态角。偏航角ψ、俯仰角θ和滚动角φ分别为绕Z轴、Y轴和X轴转动的转角。设i、j、k和l、m、n分别为代表地心惯性坐标系主轴XI、YI、ZI和卫星东南坐标系主轴X、Y、Z方向的单位矢量。则地心惯性坐标系OXIYIZI转到东南地坐标系OEXYZ有：式中：定义地心惯性坐标系OXIYIZI为坐标系原点O点与地心重合，XI指向2000.0平春分点，ZI指向北极，YI在赤道面内与XI轴垂直。定义卫星东南地坐标系OEXYZ为坐标系原点OE点与卫星质心重合，Z轴指向地心，X轴与当地纬线平行，正向指东，Y轴与Z、X成右手直角坐标系。以国内某类型地球同步轨道卫星为例，电推进分系统配置四台离子推力器，每台电推力器分别配置一台矢量调节机构。正常模式主用电推力器完成东西和南北位置保持，并通过调整矢量调节机构指向使推力方向偏离质心，从而在位保点火的同时兼顾角动量卸载功能。每台电推力器在位保工作模式下的推力大小标称为100mN，进行位置保持时每次开启一台电推力器工作，目标推力指向过整星质心。目标推力指向通过发送两轴转角到矢量调节机构来执行电推力方向调整。输入开机时刻、关机时刻及它们所对应的实测轨道位置速度。开机时刻的轨道位置速度为关机时刻的轨道位置速度为其中x、y、z和u、v、w分别为开关机时刻星体在惯性坐标系各方向的位置参数，和分别为开关机时刻星体在惯性坐标系各个方向的速度。根据矢量调节机构转角实测值进行电推力矢量初步估计。此次电推采用NE方向推力器工作，取推力过质心时的矢量调节机构实测转角如表1所示。表1电推力器矢量调节机构实测转角NE上轴转角Beta-32.41下轴转角Alfa-14.81NE电推力器在三轴合成推力FbxidxElec、FbyidxElec、FbzidxElec的初步估计根据下式计算得出，其中Fetsk取装订值0.1。FbxNE＝FetskNE×sin×cos＝0.1×sin×cos＝-0.02156FbyNE＝-FetskNE×sin＝-0.1×sin＝0.05359FbzNE＝FetskNE×cos×cos＝0.1×cos×cos＝0.07127将估计的电推力矢量在本体系三轴的分量代入开机时刻卫星的轨道运动方程，积分得到关机时刻卫星在地心赤道惯性系的位置和速度，求得目标函数。电推力器推力通常较小，工作过程是小推力助推问题，按喷气过程达到稳定状态，用一个平均效应的连续喷气过程来处理，考虑积累效应。对于地球静止轨道，考虑二阶摄动，卫星运动在地心赤道惯性坐标系OXIYIZI中描述的卫星运动方程如下：其中：为卫星地心位置矢量在惯性坐标系的分量，单位为m；为卫星速度矢量在惯性坐标系的分量，单位为m/s；r为地心距，μ为地球引力常数，μ＝3.986005×1014m3/s2；为卫星的轨道摄动加速度；F为电推力器推力，单位为N；m为卫星当前质量，单位为kg。由矢量调节机构实测转角给出一组推力分量Fbx、Fby、Fbz作为初始估计，由卫星运动方程和开机时刻的位置、速度，积分点火时间长度后得到关机时刻的卫星、速度，将此位置、速度与测得的关机时刻位置、速度相比较，定义适应度函数为：其中：Z，h＝1,6，为由推力矢量按卫星运动方程积分得到的关机时刻惯性系u、v、w三个方向的卫星位置、速度；Z1，h＝1,6，为实测的关机时刻惯性系u、v、w三个方向的卫星位置、速度；λh，h＝1,6，为对三个方向的位置、速度的加权系数，考虑关机时刻位置变化量小，速度变化量大的情况，按照工程经验，分别取0.001、0.001、0.001、1.0、1.0、1.0。遗传算法求电推力矢量在三轴分量的最优估计，使由此电推力矢量算得目标函数最小。遗传算法参数设置为：初始化种群数目为NP＝20，最大遗传代数MAXGEN＝50，交叉概率XOVR＝0.8，变异概率MUTR＝0.6。优化结束后，其适应度进化曲线如图1所示，曲线反映了推力矢量最优解的进化过程，得到电推力矢量的最优估计值为F＝105.03mN。推力在本体系三轴分量为：-0.023398mN，0.055141mN，0.082965mN。按卫星运动方程积分外推得到的和实测得到的关机时刻卫星位置和速度和变化最小为约束，得到了电推力矢量的最优估计值。基于这个电推力矢量即可进行电推力矢量的标定，方法可行性高，实施简单，具有单次点火可以标定，不依赖于标定时间，电推进器关机即可进行标定，可以标定单台、多台推力器的特点。
