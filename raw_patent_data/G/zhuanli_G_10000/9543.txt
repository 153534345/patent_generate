标题title
一种数据处理方法、动作仿真方法、装置、设备和介质
摘要abst
本发明实施例公开了一种数据处理方法、动作仿真方法、装置、设备和介质。方法包括：获取目标对象的作业数据，将作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；根据关键帧数据结构链表中每个关键帧数据的时间信息以及预设时域算子，分别确定对每个关键帧进行键值对处理，基于各个关键帧对应的键值对生成关键帧数据字典；本发明的技术方案降低了目标关键帧访问的复杂度，提高了目标关键帧的寻找效率。
权利要求书clms
1.一种数据处理方法，其特征在于，包括：获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典。2.一种动作仿真方法，其特征在于，包括：获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典；当对目标对象进行动作仿真时，根据目标时刻和预设时域算子，从所述关键帧数据字典所存储的键值对中，查找与所述目标时刻对应的目标关键帧，根据所述目标关键帧的关键帧数据确定所述目标对象在所述目标时刻下的关键帧数据。3.根据权利要求1或2任一所述的方法，其特征在于，所述根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别确定对每个所述关键帧进行键值对处理，包括：计算所述关键帧数据结构链表中每个所述关键帧在所述时间轴上的开始时间和结束时间，将所述开始时间和所述结束时间分别对所述时域算子作向上取整除法得到开始取整结果和结束取整结果；确定从开始取整结果到结束取整结果之间的所有整数，将所述开始取整结果、所述结束取整结果和所述从开始取整结果到结束取整结果之间的所有整数构成整数集，以所述整数集中的各个整数为所述键值对的键，以关键帧沿所述时间轴的时间帧的序号为键值对的值，生成每个关键帧的键值对。4.根据权利要求2所述的方法，其特征在于，所述根据目标时刻和预设时域算子，从预先生成的关键帧数据字典所存储的键值对中，查找与所述目标时刻对应的目标关键帧，包括：对目标时刻根据预设时域算子作向上取整除法得到目标取整结果，从所述关键帧数据字典所存储的键值对中，查找以所述目标取整结果为键的值，作为与所述目标时刻对应的目标关键帧。5.根据权利要求2所述的方法，其特征在于，所述根据所述目标关键帧的关键帧数据确定所述目标对象在所述目标时刻下的关键帧数据，包括：基于所述目标关键帧的关键帧数据以及与所述目标关键帧相邻的前一帧关键帧的关键帧数据进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据。6.根据权利要求5所述的方法，其特征在于，所述基于所述目标关键帧的关键帧数据以及与所述目标关键帧相邻的前一帧关键帧的关键帧数据进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据，包括：基于公式kf＝)/ΔT*kf+kf，进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据；其中，ΔT＝ts-te；t为目标时刻；i+1表示目标时刻t对应的第i+1个关键帧；kf为第i+1个关键帧的关键帧数据；kf为第i个关键帧的关键帧数据；ts为与关键帧数据kf的开始时间，te为关键帧数据kf的结束时间，ΔT为关键帧数据kf的持续时间。7.根据权利要求1或2任一所述的方法，其特征在于，在所述根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别确定对每个所述关键帧进行键值对处理之前，还包括：计算从每个关键帧与每个关键帧相邻的下一关键帧的持续时间，计算每个关键帧在所述时间轴上的开始时间，将每个关键帧的持续时间和开始时间放入每个关键帧的关键帧数据中。8.根据权利要求1或2任一所述的方法，其特征在于，所述关键帧数据包括目标对象在所述关键帧对应的时刻下的全状态数据；其中，所述全状态数据包括所述目标对象的坐标、所述目标对象的朝向、所述目标对象每个机械结构的位置以及所述目标对象每个机械结构的角度中的至少一项。9.一种数据处理装置，其特征在于，包括：作业数据获取模块，用于获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；关键帧数据字典生成模块，用于根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典。10.一种动作仿真装置，其特征在于，包括：作业数据获取模块，用于获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；关键帧数据字典生成模块，用于根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典；关键帧数据确定模块，当对目标对象进行动作仿真时，根据目标时刻和预设时域算子，从所述关键帧数据字典所存储的键值对中，查找与所述目标时刻对应的目标关键帧，根据所述目标关键帧的关键帧数据确定所述目标对象在所述目标时刻下的关键帧数据。11.一种设备，其特征在于，所述设备包括：一个或多个处理器；存储装置，用于存储一个或多个程序；当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1-8中任一所述的方法。12.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1-8中任一所述的方法。
说明书desc
技术领域本发明实施例涉及机器人技术领域，尤其涉及一种数据处理方法、动作仿真方法、装置、设备和介质。背景技术目前，对机器人进行动作仿真时，都是通过对机器人模型的关键帧属性参数进行顺序插值，形成中间动作帧微指令。一般地，生成中间动作帧微指令需要对数据结构的线性容器进行逐个关键帧寻址访问和插值操作，但是当线性容器中元素较多时，线性容器的寻址访问就需要耗费大量时间，严重影响对关键帧属性参数进行的差值速度。发明内容本发明实施例提供一种数据处理方法、动作仿真方法、装置、设备和介质，以实现提高关键帧寻址访问效率的效果。第一方面，本发明实施例提供了一种数据处理方法，该方法包括：获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典。第二方面，本发明实施例提供了一种动作仿真方法，该方法包括：获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典；当对目标对象进行动作仿真时，根据目标时刻和预设时域算子，从所述关键帧数据字典所存储的键值对中，查找与所述目标时刻对应的目标关键帧，根据所述目标关键帧的关键帧数据确定所述目标对象在所述目标时刻下的关键帧数据。第三方面，本发明实施例还提供了一种数据处理装置，该装置包括：作业数据获取模块，用于获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；关键帧数据字典生成模块，用于根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典。第四方面，本发明实施例还提供了一种动作仿真装置，该装置包括：作业数据获取模块，用于获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；关键帧数据字典生成模块，用于根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别确定对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典；关键帧数据确定模块，当对目标对象进行动作仿真时，根据目标时刻和预设时域算子，从预先生成的关键帧数据字典所存储的键值对中，查找与所述目标时刻对应的目标关键帧，根据所述目标关键帧的关键帧数据确定所述目标对象在所述目标时刻下的关键帧数据。第五方面，本发明实施例还提供了一种设备，其中，所述设备包括：一个或多个处理器；存储装置，用于存储一个或多个程序；当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如本发明任意实施例所提供的数据处理方法或动作仿真方法。第六方面，本发明实施例还提供了一种计算机可读存储介质，其上存储有计算机程序，其中，该程序被处理器执行时实现如本发明任意实施例所提供的数据处理方法或动作仿真方法。本发明实施例通过获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中，将关键帧数据存储到链表中方便对关键帧数据进行访问，；根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典，使时间信息与关键帧建立对应关系，能够快速查找与目标时刻对应的目标关键帧；无需对所有关键帧进行逐个访问，提高了目标关键帧的查找效率。附图说明图1是本发明实施例一中的一种数据处理方法的流程图；图2是关键帧数据结构和关键帧数据结构链表的示意图；图3是关键帧数据链表的数据示意图；图4是将所有关键帧映射到关键帧数据字典的处理和存储过程示意图；图5是本发明实施例二中的一种动作仿真方法的流程图；图6是本发明实施例三中的一种动作仿真方法的流程图；图7是仿真时计算任意时刻t的关键帧全数据状态值示意图；图8是是本发明实施例四中的一种数据处理装置的结构图；图9是本发明实施例五中的一种动作仿真装置的结构图；图10是本发明实施例六中的一种设备的结构示意图。具体实施方式下面结合附图和实施例对本发明作进一步的详细说明。可以理解的是，此处所描述的具体实施例仅仅用于解释本发明，而非对本发明的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与本发明相关的部分而非全部结构。实施例一图1为本发明实施例一提供的一种数据处理方法的流程图，本实施例可适用于机器人数据处理的情况，该方法可以由数据处理装置来执行，具体包括如下步骤：S110、获取目标对象的作业数据，将作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中。示例性的，目标对象可以是机器人。获取目标对象的作业数据具体可以是输入目标对象的作业数据文件，通过目标对象中的程序读取作业数据的内容，对作业数据进行解析，得到作业数据中的各个作业点，进而将作业数据中的各个作业点转换为基于时间轴的关键帧。为了保证动作仿真的时序连贯以及仿真动画的流畅展示，可以将每个关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中。如图2所示，可以预先定义目标对象关键帧数据结构KF，声明关键帧数据结构KF链表kf，进而，将目标对象的所有作业点转换成基于时间轴的至少一个关键帧，将所有关键帧的关键帧数据存储到kf链表中。示例性地，可用kf表示第i个关键帧数据，这样方便对关键帧数据的查找，从而提高对目标对象的动作仿真效率。如图3所示，每个关键帧的所述关键帧数据可包括目标对象在每个关键帧对应的时刻下的全状态数据。具体地，全状态数据可包括所述目标对象的坐标、所述目标对象的朝向、所述目标对象每个机械结构的位置以及所述目标对象每个机械结构的角度中的至少一项。S120、根据关键帧数据结构链表中每个关键帧数据的时间信息以及预设时域算子，分别对每个关键帧进行键值对处理，基于各个关键帧对应的键值对生成关键帧数据字典。一般的，数据字典是一个自动或手动存储数据源定义和属性的文档，对数据的数据项、数据结构、数据流、数据存储、处理逻辑、外部实体等进行定义和描述，其目的是对数据流程图中的各个元素做出详细的说明。将存储在数据结构链表中的每个关键帧都进行键值对处理，生成关键帧数据字典，为预设时间关键帧的查找提供了一个简单方便的工具，提高了关键帧查找的效率。可选地，为了方便计算，在所述根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别确定对每个所述关键帧进行键值对处理之前，还可以包括：计算从与每个关键帧相邻的前一个关键帧到每个关键帧的持续时间，计算每个关键帧在所述时间轴上的开始时间，将每个关键帧的持续时间和开始时间放入每个关键帧的关键帧数据中。需要说明的是，关键帧是机器人的每个作业点基于时间轴转化而来，在本发明实施例中，定义第一帧关键帧只有状态，而没有持续时间，故可以将第一帧的开始时间作为第二帧的开始时间。对除第一帧关键帧外的每个关键帧进行如下的时间计算，以第i个关键帧为例，i为大于等于1的正整数。计算从第i个关键帧kf到第i+1个关键帧kf的动画时间ΔT；计算每个关键帧在整个时间轴上的开始时间ts；将ΔT和ts放入kf中，方便后续计算使用。具体地，所述根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别确定对每个所述关键帧进行键值对处理，可包括：计算所述关键帧数据结构链表中所述关键帧在所述时间轴上的开始时间和结束时间，将所述开始时间和所述结束时间分别对所述时域算子作向上取整除法得到开始取整结果和结束取整结果；确定从开始取整结果到结束取整结果之间的所有整数，将所述开始取整结果、所述结束取整结果和所述从开始取整结果到结束取整结果之间的所有整数构成整数集，以所述整数集中的各个整数为所述键值对的键，以关键帧沿所述时间轴的时间帧的序号为键值对的值，生成每个关键帧的键值对。其中，向上取整除法的运算结果为整除后加一。如图4所示，用kf表示kf链表中的第n个关键帧，n为大于等于2的正整数，利用存储在链表中每个关键帧的开始时间和持续时间，计算每个关键帧的结束时间，用ts表示每个关键帧的开始时间，te表示第n个关键帧的结束时间；预先设定一个时域算子T,T为一常数，通常可根据各个关键帧的关键帧数据进行设定，具体数值可由本领域技术人员根据实际情况进行设定；将ts和te分别对时域算子T作向上取整除法，得到Vs和Ve,即Vs＝,Ve＝，得到从Vs到Ve的所有整数集Q：。示例性的，若第n个关键帧的开始时间为第3秒，持续时间为10秒，则第n个关键帧帧的结束时间为第13秒，设定时域算子T为2，将开始时间和结束时间做向上取整除法，得到Vs为2，Ve为7，得到整数集Q：。进而，将整数集Q作为键值对的键，n作为键值对的值，得到以下键值对：{,,…,,…,,}，将这些键值对全部放入数据字典，k为正整数。示例性的，将上述整数集Q：作为键值对的键，将n作为键值对的值，得到以下键值对：{,,,,，}。通过键值对，将时间信息与关键帧进行关联，方便根据时间信息对关键帧进行查找，提高关键帧查找效率。本发明实施例通过获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中，能够保证动作仿真的时序，而且方便对各个关键帧数据进行查找以及处理，提高对目标对象动作仿真效率；进而，根据预设时域算以及每个所述关键帧数据的时间信息，分别确定对每个所述关键帧的键值对，基于各个关键帧对应的键值对生成关键帧数据字典，为关键帧的查找提供了一个简单方便的工具，将每个关键帧数据中的时间信息与关键帧建立对应关系，通过对应关系查找与目标时刻对应的目标关键帧，提高了关键帧查找的效率。实施例二图5为本发明实施例二提供的一种动作仿真方法的流程图，本实施例可适用于机器人动作仿真的情况，该方法可以由动作仿真装置来执行，具体包括如下步骤：S210、获取目标对象的作业数据，将作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中。S220、根据关键帧数据结构链表中每个关键帧数据的时间信息以及预设时域算子，分别对每个关键帧进行键值对处理，基于各个关键帧对应的键值对生成关键帧数据字典。S230、当对目标对象进行动作仿真时，根据目标时刻和预设时域算子，从预先生成的关键帧数据字典所存储的键值对中，查找与目标时刻对应的目标关键帧，根据目标关键帧的关键帧数据确定目标对象在目标时刻下的关键帧数据。由前述内容可知，关键帧数据字典中的键值对是基于对预设时域算子关键帧数据结构链表中每个所述关键帧数据的时间信息进行处理后生成的，因此，可根据预设时域算子对仿真过程中的目标时刻进行同样的处理，进而，从预先生成的关键帧数据字典所存储的键值对中查找与目标时刻对应的目标关键帧。继续沿用上例，具体可以是，对目标时刻根据预设时域算子作向上取整除法，从所述关键帧数据字典所存储的键值对中，查找以所述目标取整结果为键的值，作为与所述目标时刻对应的目标关键帧。需要说明的是，本步骤中的预设时域算子与S120中的时域算子为同一数值。目标时刻为时间轴上的任意一时刻。根据目标时刻和时域算子，在关键帧数据字典中找到与目标时刻对应的目标关键帧，从而得到目标关键帧的关键帧数据，通过目标关键帧的关键帧数确定目标时刻的关键帧数据，即得到目标对象在目标时刻的动作仿真微指令。可选地，根据目标关键帧的关键帧数据确定目标对象在目标时刻下的关键帧数据，包括：根据目标关键帧的关键帧数据实时插值计算，确定目标对象在目标时刻下的关键帧数据，即得到了目标对象的动作仿真微指令。具体可以是，基于所述目标关键帧的关键帧数据以及与所述目标关键帧相邻的前一帧关键帧的关键帧数据进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据。本发明实施例通过获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中，能够保证动作仿真的时序，而且方便对各个关键帧数据进行查找以及处理，提高对目标对象动作仿真效率；进而，根据预设时域算以及每个所述关键帧数据的时间信息，分别确定对每个所述关键帧的键值对，基于各个关键帧对应的键值对生成关键帧数据字典，为关键帧的查找提供了一个简单方便的工具，将每个关键帧数据中的时间信息与关键帧建立对应关系，通过对应关系查找与目标时刻对应的目标关键帧，提高了关键帧查找的效率；当对目标对象进行动作仿真时，根据目标时刻和预设时域算子，从关键帧数据字典所存储的键值对中，查找与所述目标时刻对应的目标关键帧，最后根据目标关键帧的关键帧数据确定所述目标对象在所述目标时刻下的关键帧数据，即得到目标时刻下目标对象的动作仿真微指令，解决了通过离线差值进行目标对象动作仿真时需要耗费大量内存资源的问题，实现了提高目标对象动作仿真微指令的生成速度的效果，并提升仿真系统运行性能，使动作仿真微指令跨平台发布后仍能高效运行。实施例三图6为本发明实施例三提供的一种动作仿真方法的流程图，本实施例是以上述实施例为基础进行的进一步细化，所述根据目标时刻和预设时域算子，从预先生成的关键帧数据字典所存储的键值对中，查找与所述目标时刻对应的目标关键帧，包括：根据预设时域算子对目标时刻作向上取整除法得到目标取整结果，从所述关键帧数据字典所存储的键值对中，查找以所述目标取整结果为键的值，作为与所述目标时刻对应的目标关键帧。可选地，根据所述目标关键帧的关键帧数据确定所述目标对象在所述目标时刻下的关键帧数据，可包括：基于所述目标关键帧的关键帧数据以及与所述目标关键帧相邻的至少一个关键帧的关键帧数据进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据。如图6所示，该方法具体包括：S310、获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中。S320、根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别确定对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典。S330、对目标时刻根据预设时域算子作向上取整除法得到目标取整结果，从所述关键帧数据字典所存储的键值对中，查找以所述目标取整结果为键的值，作为与所述目标时刻对应的目标关键帧。示例性的，将目标时刻t对预设时域算子T作向上取整除法，得到整数m，以整数m为键值对的键在关键帧数据字典中查找，找到与整数m对应的键值为6，则与目标时刻t对应的目标关键帧为第6个关键帧。通过关键帧数据字典查找目标关键帧，无需遍历所有关键帧，提高了关键帧的查找效率。S340、基于所述目标关键帧的关键帧数据以及与所述目标关键帧相邻的前一帧关键帧的关键帧数据进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据。如图7所示，对所述目标关键帧的关键帧数据以及与所述目标关键帧相邻的至少一个关键帧的关键帧数据进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据，包括：基于公式kf＝)/ΔT*kf+kf，进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据；其中，ΔT＝ts-te；t为目标时刻；i+1表示目标时刻t对应的第i+1个关键帧；kf为第i+1个关键帧的关键帧数据；kf为第i个关键帧的关键帧数据；ts为与关键帧数据kf的开始时间，te为关键帧数据kf的结束时间，ΔT为关键帧数据kf的持续时间。示例性的，目标关键帧为第6关键帧，第6帧的关键帧数据为kf，与kf相邻的关键帧为第5关键帧，其关键帧数据为kf，通过上述公式进行插值计算，得到目标时刻t的关键帧数据：kf＝t-ts)/ΔT*kf+kf，kf即为t时刻目标对象的动作仿真微指令。本发明实施例通过根据预设时域算子对目标时刻作向上取整除法得到目标取整结果，从预先生成的关键帧数据字典所存储的键值对中，查找以所述目标取整结果为键的值，作为与所述目标时刻对应的目标关键帧，无需逐个对所有关键帧进行查找，提高了目标关键帧的查找效率。基于所述目标关键帧的关键帧数据以及与所述目标关键帧相邻的至少一个关键帧的关键帧数据进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据，利用相邻的关键帧数据进行插值，使经插值得到的目标时刻的关键帧数据更加合理，使仿真动画的播放更加流畅。实施例四图8为本发明实施例五提供的一种动作仿真装置的结构图，该动作仿真装置包括：作业数据获取模块410和关键帧数据字典生成模块420。其中，其中，作业数据获取模块410，用于获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；关键帧数据字典生成模块420，用于根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典；在上述实施例方案中，关键帧数据字典生成模块420，还包括：时间取整单元，用于计算所述关键帧数据结构链表中每个所述关键帧在所述时间轴上的开始时间和结束时间，将所述开始时间和所述结束时间分别对所述时域算子作向上取整除法得到开始取整结果和结束取整结果；键值对生成单元，用于确定从开始取整结果到结束取整结果之间的所有整数，将所述开始取整结果、所述结束取整结果和所述从开始取整结果到结束取整结果之间的所有整数构成整数集，以所述整数集中的各个整数为所述键值对的键，以关键帧沿所述时间轴的时间帧的序号为键值对的值，生成每个关键帧的键值对。在上述实施例的技术方案中，数据处理装置，还包括：时间计算模块，用于计算从每个关键帧与每个关键帧相邻的下一关键帧的持续时间，计算每个关键帧在所述时间轴上的开始时间，将每个关键帧的持续时间和开始时间放入每个关键帧的关键帧数据中。可选的，关键帧数据包括目标对象在所述关键帧对应的时刻下的全状态数据；其中，所述全状态数据包括所述目标对象的坐标、所述目标对象的朝向、所述目标对象每个机械结构的位置以及所述目标对象每个机械结构的角度中的至少一项。本发明实施例通过获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中，能够保证动作仿真的时序，而且方便对各个关键帧数据进行查找以及处理，提高对目标对象动作仿真效率；进而，根据预设时域算以及每个所述关键帧数据的时间信息，分别确定对每个所述关键帧的键值对，基于各个关键帧对应的键值对生成关键帧数据字典，为关键帧的查找提供了一个简单方便的工具，将每个关键帧数据中的时间信息与关键帧建立对应关系，通过对应关系查找与目标时刻对应的目标关键帧，提高了关键帧查找的效率。实施例五图9为本发明实施例五提供的一种动作仿真装置的结构图，该动作仿真装置包括：作业数据获取模块510、关键帧数据字典生成模块520、关键帧数据确定模块530。其中，作业数据获取模块510，用于获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；关键帧数据字典生成模块520，用于根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典；关键帧数据确定模块530，当对目标对象进行动作仿真时，根据目标时刻和预设时域算子，从所述关键帧数据字典所存储的键值对中，查找与所述目标时刻对应的目标关键帧，根据所述目标关键帧的关键帧数据确定所述目标对象在所述目标时刻下的关键帧数据。在上述实施例方案中，关键帧数据字典生成模块520，还包括：时间取整单元，用于计算所述关键帧数据结构链表中每个所述关键帧在所述时间轴上的开始时间和结束时间，将所述开始时间和所述结束时间分别对所述时域算子作向上取整除法得到开始取整结果和结束取整结果；键值对生成单元，用于确定从开始取整结果到结束取整结果之间的所有整数，将所述开始取整结果、所述结束取整结果和所述从开始取整结果到结束取整结果之间的所有整数构成整数集，以所述整数集中的各个整数为所述键值对的键，以关键帧沿所述时间轴的时间帧的序号为键值对的值，生成每个关键帧的键值对。在上述实施例方案中，关键帧数据确定模块530，包括：目标关键帧获取单元，用于对目标时刻根据预设时域算子作向上取整除法得到目标取整结果，从所述关键帧数据字典所存储的键值对中，查找以所述目标取整结果为键的值，作为与所述目标时刻对应的目标关键帧。在上述实施例方案中，关键帧数据确定模块530，还包括：关键帧数据获取单元，用于基于所述目标关键帧的关键帧数据以及与所述目标关键帧相邻的前一帧关键帧的关键帧数据进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据。在上述实施例方案中，关键帧数据获取单元，包括：关键帧数据计算子单元，用于基于公式kf＝)/ΔT*kf+kf，进行插值计算，得到所述目标对象在所述目标时刻下的关键帧数据；其中，ΔT＝ts-te；t为目标时刻；i+1表示目标时刻t对应的第i+1个关键帧；kf为第i+1个关键帧的关键帧数据；kf为第i个关键帧的关键帧数据；ts为与关键帧数据kf的开始时间，te为关键帧数据kf的结束时间，ΔT为关键帧数据kf的持续时间。在上述实施例的技术方案中，动作仿真装置，还包括：时间计算模块，用于计算从每个关键帧与每个关键帧相邻的下一关键帧的持续时间，计算每个关键帧在所述时间轴上的开始时间，将每个关键帧的持续时间和开始时间放入每个关键帧的关键帧数据中。可选的，关键帧数据包括目标对象在所述关键帧对应的时刻下的全状态数据；其中，所述全状态数据包括所述目标对象的坐标、所述目标对象的朝向、所述目标对象每个机械结构的位置以及所述目标对象每个机械结构的角度中的至少一项。本实施例的技术方案，通过获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别确定对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典；当对目标对象进行动作仿真时，根据目标时刻和预设时域算子，从预先生成的关键帧数据字典所存储的键值对中，查找与所述目标时刻对应的目标关键帧，根据所述目标关键帧的关键帧数据确定所述目标对象在所述目标时刻下的关键帧数据，解决了通过离线差值进行机器人动作仿真时需要耗费大量内存资源的问题，实现了提高机器人动作仿真微指令的生成速度，并提升仿真系统运行性能的效果。本发明实施例所提供的动作仿真装置可执行本发明任意实施例所提供的动作仿真方法，具备执行方法相应的功能模块和有益效果。实施例六图10为本发明实施例10提供的一种设备的结构示意图，如图10所示，该设备包括处理器610、存储器620、输入装置630和输出装置640；设备中处理器610的数量可以是一个或多个，图10中以一个处理器610为例；设备中的处理器610、存储器620、输入装置630和输出装置640可以通过总线或其他方式连接，图10中以通过总线连接为例。存储器620作为一种计算机可读存储介质，可用于存储软件程序、计算机可执行程序以及模块，如本发明实施例中的数据处理方法对应的程序指令/模块。处理器610通过运行存储在存储器620中的软件程序、指令以及模块，从而执行设备的各种功能应用以及数据处理，即实现上述的动作仿真方法。存储器620可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序；存储数据区可存储根据终端的使用所创建的数据等。此外，存储器620可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他非易失性固态存储器件。在一些实例中，存储器620可进一步包括相对于处理器610远程设置的存储器，这些远程存储器可以通过网络连接至设备。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。输入装置630可用于接收输入的数字或字符信息，以及产生与设备的用户设置以及功能控制有关的键信号输入。输出装置640可包括显示屏等显示设备。实施例七本发明实施例七还提供一种包含计算机可执行指令的存储介质，所述计算机可执行指令在由计算机处理器执行时用于执行一种数据处理方法，该方法包括：获取目标对象的作业数据，将所述作业数据中的各个作业点转换为基于时间轴的关键帧，并将每个所述关键帧的关键帧数据以预定义的关键帧数据结构存储到关键帧数据结构链表中；根据所述关键帧数据结构链表中每个所述关键帧数据的时间信息以及预设时域算子，分别对每个所述关键帧进行键值对处理，基于各个所述关键帧对应的键值对生成关键帧数据字典。当然,本发明实施例所提供的一种包含计算机可执行指令的存储介质,其计算机可执行指令不限于如上所述的方法操作,还可以执行本发明任意实施例所提供的数据处理方法中的相关操作。通过以上关于实施方式的描述，所属领域的技术人员可以清楚地了解到，本发明可借助软件及必需的通用硬件来实现，当然也可以通过硬件实现，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如计算机的软盘、只读存储器、随机存取存储器、闪存、硬盘或光盘等，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述的方法。值得注意的是，上述数据处理装置的实施例中，所包括的各个单元和模块只是按照功能逻辑进行划分的，但并不局限于上述的划分，只要能够实现相应的功能即可；另外，各功能单元的具体名称也只是为了便于相互区分，并不用于限制本发明的保护范围。注意，上述仅为本发明的较佳实施例及所运用技术原理。本领域技术人员会理解，本发明不限于这里所述的特定实施例，对本领域技术人员来说能够进行各种明显的变化、重新调整和替代而不会脱离本发明的保护范围。因此，虽然通过以上实施例对本发明进行了较为详细的说明，但是本发明不仅仅限于以上实施例，在不脱离本发明构思的情况下，还可以包括更多其他等效实施例，而本发明的范围由所附的权利要求范围决定。
