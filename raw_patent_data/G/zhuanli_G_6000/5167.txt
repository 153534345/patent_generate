标题title
微地图方向系统的构建方法
摘要abst
本发明公开了一种微地图方向系统的构建方法。该方法的提出从为微地图制图方法提供技术支持以及填补微地图数学基础的空白出发，基于两种参考框架和空间方向关系的优势，在充分分析用户位置与参考框架选择的关系上，以用户所在位置或用户所在位置周围的固定地物为参考对象，判断与源目标之间的空间方向关系，并在顾及用户在定向时选择不同参考框架的情况下，构建微地图方向系统。该方法补充了微地图的基础理论，即填补了微地图数学基础的空白，推动了微地图的发展，为微地图制图方法的研究提供了支持。
权利要求书clms
1.一种微地图方向系统的构建方法，其特征在于，包括：步骤1：以用户所在位置为参考对象，判断与源目标之间的空间方向关系；步骤2：以用户所在位置周围的固定地物为参考对象，判断与源目标之间的空间方向关系；步骤3：结束。2.根据权利要求1所述的一种微地图方向系统的构建方法，其特征在于，在步骤1中，包含以下子步骤：S1.1：以参考对象为原点，将方向划分为9个方向区域建立方向关系矩阵模型；S1.2：若源目标与参考对象的某个方向上的交集非空，则矩阵中对应元素为方位角、长度比值或面积比值；否则矩阵中对应元素为0；S1.3：依据源目标的几何形态确定矩阵种对应元素的值；S1.4：以用户所在位置为参考对象，判断与源目标之间的空间方向关系计算完成。3.根据权利要求1或2所述的一种微地图方向系统的构建方法，其特征在于，在步骤2中，具体包括：确定参考对象、确定参考对象的几何形态以及构建空间方向模型。
说明书desc
技术领域本发明涉及微地图数学模型的构建和建立的技术领域，更具体的说是涉及一种微地图方向系统的构建方法。背景技术微地图的出现是传统地图在自媒体时代的发展和补充，为地图用户或者爱好者自己制作地图提供了一种可能。它作为一种面向平民大众的地图，制作者无需经过严格的专业培训，地图用户也能够随时参与地图制作，可以在个人电子设备上方便、快捷地交互传播和应用。由于微地图的制作不像正式出版地图一样严格，其数学基础要素差异大，有些微地图是极其简单，不需要严格的数学基础约束；有些微地图则对精度要求较高，这类微地图就需要给出严格的数学基础。无论是示意性微地图，还是高精度微地图，他们二者在绘制和使用时都离不开方向系统。现有微地图的探索多集中于传播、符号和寻路应用，例如：微地图传播时的用户关联规则的挖掘和在多维情景下满足特定空间需求的微地图用户分析、微地图符号视觉变量的分析和应用、室内导航的微地图设计以及服务于寻路的地标提取方法。但是，这些研究要么是从传播角度挖掘用户的关联规则，要么是探索微地图符号的视觉变量，要么是提取地标或通过室内导航设计微地图进一步服务用户寻路，对微地图方向系统构建的问题鲜有涉及，微地图方向系统是数学基础的重要一环，不可或缺。现存地图的方向系统直接应用于微地图定向中有一定困难。究其原因是现存地图将获取到的精确坐标在参考系统中以可视化的方式表达地理对象的空间特征与关系，并由此确定地图的方向系统，依据坐标网的方向体现地图的方向系统。现存地图确定了制图资料，以可视化方式表达地理对象的空间特征与关系时，地图的方向系统就已经被确定了。现存地图的方向系统能够为微地图的方向系统构建提供部分支持，但是对于面向平民大众的微地图而言还有局限，不够全面。如：一些针对成人使用现存地图中的位置与朝向表征问题的研究表明，当身处较大的陌生环境时，利用地图表征位置和朝向对于成年人甚至是大学生有一定困难。若仅在现有方向系统支持下构建微地图方向系统，有一部分成年人甚至是大学生，仍然存在无法表征位置和朝向的问题。因此，如何提供一种能够构建微地图方向系统的方法是本领域技术人员亟需解决的问题。发明内容有鉴于此，本发明提供了一种微地图方向系统的构建方法，弥补微地图数学基础方面的空白，为微地图的后续研究提供支持，避免现有地图方向系统为微地图方向系统提供支持的局限，解决微地图方向系统留有空白、现有地图方向系统无法全面地为微地图方向系统提供技术支持等问题。为了实现上述目的，本发明采用如下技术方案：一种微地图方向系统的构建方法，包括：步骤1：以用户所在位置为参考对象，判断与源目标之间的空间方向关系；步骤2：以用户所在位置周围的固定地物为参考对象，判断与源目标之间的空间方向关系；步骤3：结束。优选的，在步骤1中，具体包括以下步骤：S1.1：以参考对象O为原点，将方向划分为9个方向区域{E,N,W,S,NE,NW,SW,SE,O}建立方向关系矩阵模型；S1.2：若源目标与参考对象O的某个方向上的交集非空，则矩阵中对应元素为方位角、长度比值或面积比值；否则矩阵中对应元素为0；S1.3：若源目标的几何形态为点，则矩阵中对应元素为参考对象的子午线按顺时针方向与参考对象和源目标的连线组成的角度；若源目标的几何形态为线，则矩阵中对应元素为源目标和参考对象的某一方向区域之间交的长度与源目标自身长度的比值；若源目标的几何形态为面，则矩阵中对应元素为源目标和参考对象的某一方向区域之间交的面积与源目标自身面积的比值；S1.4：以用户所在位置为参考对象，判断与源目标之间的空间方向关系计算完成。优选的，在步骤2中，具体包括以下步骤：S2.1：确定参考对象；S2.2：确定参考对象几何形态；S2.3：构建空间方向模型；优选的，在上述步骤S2.1中，根据相关定位手段，确定用户所在位置，将所有群组目标按照几何形态划分为多个单目标计算用户位置到每个单目标的距离，并对每个距离进行排序处理，选出距离用户最小的目标，将其确定为参考对象；优选的，在步骤S2.2中，若距离用户最近的单目标的几何形态为点，则执行上述步骤1；若距离用户最近的单目标的几何形态为线或面，则执行步骤S2.3；优选的，在步骤S2.3中，具体还包括：步骤①：计算参考对象O的最小外接矩形MBR；步骤②：以MBR为中心，将空间划分为9个方向{E,N,W,S,NE,NW,SW,SE,O}；步骤③：在方向关系矩阵模型中，分别求参考对象各方向区域与源目标的交集；优选的，在步骤③中，若源目标为线或面，参考对象的几何形态主要体现为线或面时，则交集的值为源目标和参考对象的某一方向区域之间交的长度与源目标自身长度的比值或为源目标和参考对象的某一方向区域之间交的面积与源目标自身面积的比值；若在源目标为点的情况，计算参考对象的质心，进而确定源目标与参考目标的空间关系矩阵，其值为参考对象的子午线按顺时针方向与参考对象和源目标的连线组成的角度；经由上述的技术方案可知，与现有技术相比，本发明公开提供了一种微地图方向系统的构建方法，该方法易于实现，弥补了微地图数学基础方面的空白，可以为微地图的后续研究提供支持，避免现有地图方向系统为微地图方向系统提供支持的局限，解决了微地图方向系统留有空白、现有地图方向系统无法全面地为微地图方向系统提供支持等问题。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本发明提供的自我中心参考框架示意图；图2为本发明提供的固定参考框架示意图；图3为本发明提供的以点为参考目标的空间方向关系模型的示意图；图4为本发明提供的以线为参考目标的空间方向关系模型的示意图；图5为本发明提供的以面为参考目标的空间方向关系模型的示意图；图6为本发明提供的以点为参考目标的空间方向关系计算结果的效果图；图7为本发明提供的以线为参考目标的空间方向关系计算结果的效果图；图8为本发明提供的以面为参考目标的空间方向关系计算结果的效果图；具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明实施例公开了一种微地图方向系统的构建方法，包括：步骤1：以用户所在位置为参考对象，判断与源目标之间的空间方向关系；步骤2：以用户所在位置周围的固定地物为参考对象，判断与源目标之间的空间方向关系；步骤3：结束。为了进一步优化上述技术方案，在步骤1中，具体包括以下子步骤：S1.1：以参考对象O为原点，将方向划分为9个方向区域{E,N,W,S,NE,NW,SW,SE,O}建立方向关系矩阵模型；S1.2：若源目标与参考对象O的某个方向上的交集非空，则矩阵中对应元素为方位角、长度比值或面积比值；否则矩阵中对应元素为0；S1.3：若源目标的几何形态为点，则矩阵中对应元素为参考对象的子午线按顺时针方向与参考对象和源目标的连线组成的角度；若源目标的几何形态为线，则矩阵中对应元素为源目标和参考对象的某一方向区域之间交的长度与源目标自身长度的比值；若源目标的几何形态为面，则矩阵中对应元素为源目标和参考对象的某一方向区域之间交的面积与源目标自身面积的比值；S1.4：以用户所在位置为参考对象，判断与源目标之间的空间方向关系计算完成。为了进一步优化上述技术方案，在步骤2中，具体包括以下子步骤：S2.1：确定参考对象；S2.2：确定参考对象几何形态；S2.3：构建空间方向模型；为了进一步优化上述技术方案，在步骤S2.1中，根据相关定位手段，确定用户所在位置，将所有群组目标按照几何形态划分为多个单目标计算用户位置到每个单目标的距离，并对每个距离进行排序处理，选出距离用户最小的目标，将其确定为参考对象；为了进一步优化上述技术方案，在步骤S2.2中，若距离用户最近的单目标的几何形态为点，则执行上述步骤1；若距离用户最近的单目标的几何形态为线或面，则执行步骤S2.3；为了进一步优化上述技术方案，在步骤S2.3中，具体还包括：步骤①：计算参考对象O的最小外接矩形MBR；步骤②：以MBR为中心，将空间划分为9个方向{E,N,W,S,NE,NW,SW,SE,O}；步骤③：在方向关系矩阵模型中，分别求参考对象各方向区域与源目标的交集；为了进一步优化上述技术方案，在步骤③中，若源目标为线或面，参考对象的几何形态主要体现为线或面时，则交集的值为源目标和参考对象的某一方向区域之间交的长度与源目标自身长度的比值或为源目标和参考对象的某一方向区域之间交的面积与源目标自身面积的比值；若在源目标为点的情况，计算参考对象的质心，进而确定源目标与参考目标的空间关系矩阵，值为参考对象的子午线按顺时针方向与参考对象和源目标的连线组成的角度。下面对本发明中涉及到的方法做进一步说明。本发明选择自我中心参考框架和固定参考框架进行微地图方向系统的构建，是因为不同用户在同一时间不会处于同一位置，且同一用户在不同的时间也不会位于同一位置。故而，微地图用户能够被看作一个观察者，寻路和定向的过程看作一个运动状态。当地图被它的使用者所使用时，用户依据自身所在的空间位置，选择该空间中用户视角下的空间对象作参考对象。用户将自己作为中心去判断和决定空间方向，这个过程就是以自我中心参考框架构建方向，如图1所示。当然，在这个过程中，若固定的空间地物被用户用作定位、寻路和绘图，则为使用固定参考框架构建方向，如图2所示。无论人们使用前、后、左、右等方向术语划分区域，还是在描述东、南、西、北的方向术语时不同人有不同解释。但是地图被用于空间查询时，必须对空间方向的描述是确定的、没有歧义的。因此，微地图定向的研究除考虑参考框架之外，还需要依赖于空间方向关系的支持。但是微地图用户在使用地图判断空间方向时，依然是以自己为参考或者以自己周围的固定地物为参考确定和单个目标之间的空间方向。因此，需要考虑单一目标之间的空间方向关系。由于全球参考定向的空间关系已有许多模型可用，所以本发明其空间方向关系未多作论述，而是集中于对自我中心参考框架和固定参考框架下的空间方向关系的论述，即步骤1和步骤2。如图3是以点为参考目标的空间方向关系模型的示意图，将方向划分为9个方向区域。其中，若源目标与参考对象的某个方向上的交集非空，则矩阵中对应的元素为1；否则矩阵中对应元素为0。虽然这一模型和方向关系矩阵能够反应对空间方向的表达，但这只能概略地描述空间方向关系，即定性描述。空间方向关系在查询和描述上必须要精确且无歧义，因此需要利用方位角、长度比值、面积比值等值较为精确地描述空间方向，即定量描述。当源目标为点时，矩阵元素为参考对象的子午线按顺时针方向与参考对象和源目标的连线组成的角度，请参见公式；当源目标为线时，矩阵元素用源目标和参考对象的某一方向区域之间交的长度与源目标自身长度的比值来表示，请参见公式；当源目标为面时，矩阵元素用源目标和参考对象的某一方向区域之间交的面积与源目标自身面积的比值来表示，请参见公式。使用上述方法确定参考目标和源目标后，首先确定源目标与各方向的交集，将非空交集对应的元素填为1，其它元素填为0；然后，计算以点、线和面的参考目标的子午线按顺时针方向与参考对象和源目标的连线组成的角度、或者源目标和参考对象的某一方向区域之间交的长度与源目标自身长度的比值、或者源目标和参考对象的某一方向区域之间交的面积与源目标自身面积的比值，替换值为1的矩阵元素，则算法结束；最后，将空间方向关系输出，即可得到空间方向关系。本发明提供的方法的主要步骤如下：步骤1：以用户所在位置为参考对象，判断与源目标之间的空间方向关系；步骤2：以用户所在位置周围的固定地物为参考对象，判断与源目标之间的空间方向关系；步骤3：结束。其中，在步骤1中，具体包括以下子步骤：S1.1：以参考对象O为原点，将方向划分为9个方向区域{E,N,W,S,NE,NW,SW,SE,O}建立方向关系矩阵模型；S1.2：若源目标与参考对象O的某个方向上的交集非空，则矩阵中对应元素为方位角、长度比值或面积比值；否则矩阵中对应元素为0；S1.3：若源目标的几何形态为点，则矩阵中对应元素为参考对象的子午线按顺时针方向与参考对象和源目标的连线组成的角度；若源目标的几何形态为线，则矩阵中对应元素为源目标和参考对象的某一方向区域之间交的长度与源目标自身长度的比值；若源目标的几何形态为面，则矩阵中对应元素为源目标和参考对象的某一方向区域之间交的面积与源目标自身面积的比值；S1.4：以用户所在位置为参考对象，判断与源目标之间的空间方向关系计算完成。步骤2中，具体包括以下子步骤：S2.1：确定参考对象；根据相关定位手段，确定用户所在位置，将所有群组目标按照几何形态划分为多个单目标计算用户位置到每个单目标的距离，并对每个距离进行排序处理，选出距离用户最小的目标，将其确定为参考对象；S2.2：确定参考对象几何形态；若距离用户最近的单目标的几何形态为点，则执行上述步骤1；若距离用户最近的单目标的几何形态为线或面，则执行步骤S2.3；S2.3：构建空间方向模型；如图4和图5所示，具体为：步骤①：计算参考对象O的最小外接矩形MBR；步骤②：以MBR为中心，将空间划分为9个方向{E,N,W,S,NE,NW,SW,SE,O}；步骤③：在方向关系矩阵模型中，分别求参考对象各方向区域与源目标的交集；若源目标为线或面，参考对象的几何形态主要体现为线或面时，则交集的值为源目标和参考对象的某一方向区域之间交的长度与源目标自身长度的比值或为源目标和参考对象的某一方向区域之间交的面积与源目标自身面积的比值；若在源目标为点的情况，计算参考对象的质心，进而确定源目标与参考目标的空间关系矩阵，值为参考对象的子午线按顺时针方向与参考对象和源目标的连线组成的角度；本发明提供的微地图方向系统的构建方法具备以下特点：确定了微地图方向系统的主要参考框架；自我中心参考框架和固定参考框架结合空间方向关系构建了微地图的方向模型；填补了微地图数学基础的技术空白，提供了微地图制图的数学基础，推动了微地图的发展。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本发明。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本发明的精神或范围的情况下，在其它实施例中实现。因此，本发明将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
