标题title
一种净水器智能控制系统
摘要abst
本发明公开了一种净水器智能控制系统，涉及自适应控制系统领域，其设置于净水器内，通过自适应调节净水器的自吸泵，以控制净水过程，包括：目标运算单元和自适应控制单元。可根据净水过程传感信息实时设置目标泵压，并通过具有副环路精细微调，主环路定性调控的主副双环路控制模型，根据净水器自吸泵的转速状态和泵压误差情况，自适应调节自吸泵，快速实现目标泵压，提高净水效率，延长反渗透膜滤芯寿命，并增强净水器的可靠性。
权利要求书clms
1.一种净水器智能控制系统，其特征在于，设置于净水器内，通过自适应调节净水器的自吸泵，以控制净水过程，包括：目标运算单元和自适应控制单元；所述目标运算单元上运行有单层线性网络模型，用于根据净水过程传感信息，设置目标泵压；所述自适应控制单元上运行有主副双环路控制模型，其将转速误差反馈环路作为内层副环路，并将泵压误差反馈环路作为外层主环路，用于自适应调节自吸泵，以实现目标泵压。2.根据权利要求1所述的净水器智能控制系统，其特征在于，所述净水过程传感信息包括：通过浊度传感器测得的原水水质数据；通过温度传感器测得的自吸泵温度数据；通过第一压力变送器测得的原水水压数据。3.根据权利要求2所述的净水器智能控制系统，其特征在于，所述单层线性网络模型的运算表达式为：，，其中，为目标泵压，/＞为净水过程传感信息列向量，/＞为原水水质数据，/＞为自吸泵温度数据，/＞为原水水压数据，/＞为单层线性网络参数列向量，/＞为转置变换。4.根据权利要求3所述的净水器智能控制系统，其特征在于，所述单层线性网络参数列向量通过下式迭代训练得到：，，其中，为第/＞次迭代时的单层线性网络参数列向量，/＞为第/＞次迭代时的单层线性网络参数列向量，/＞为参与第/＞次迭代的过往净水过程传感信息列向量，为第/＞次迭代时的代价矩阵，/＞为第/＞次迭代时的系数矩阵，/＞为迭代速率，/＞为第/＞次迭代时的差值。5.根据权利要求4所述的净水器智能控制系统，其特征在于，所述第次迭代时的差值的计算表达式为：，其中，为收集得到的与参与第/＞次迭代的过往净水过程传感信息列向量对应的最佳泵压值；所述单层线性网络参数列向量的初始表达式为：，其中，为未开始迭代时的单层线性网络参数列向量；所述代价矩阵的初始表达式为：，其中，为未开始迭代时的代价矩阵。6.根据权利要求5所述的净水器智能控制系统，其特征在于，所述主副双环路控制模型的表达式包括：，，其中，为第/＞轮自适应调节时的泵压误差，/＞为第/＞轮自适应调节时的泵压误差，/＞为第/＞轮自适应调节时的泵压误差，/＞为外层主环路比例系数，/＞为外层主环路微分系数，/＞为外层主环路积分系数，/＞为第/＞轮自适应调节时的第一缓存数据，/＞为第/＞轮自适应调节输出的控制量，/＞为内层副环路比例系数，/＞为内层副环路微分系数，/＞为内层副环路积分系数，/＞为第/＞轮自适应调节时的转速误差，为第/＞轮自适应调节时的泵压误差转速误差，/＞为第/＞轮自适应调节时的转速误差。7.根据权利要求6所述的净水器智能控制系统，其特征在于，所述第轮自适应调节时的泵压误差的计算表达式为：，其中，为第/＞轮自适应调节时通过第二压力变送器测得的反渗透膜滤芯水压数据。8.根据权利要求7所述的净水器智能控制系统，其特征在于，所述第轮自适应调节时的转速误差的计算表达式为：，其中，为第/＞轮自适应调节时的第二缓存数据，/＞为第/＞轮自适应调节时通过转速传感器测得的自吸泵转速。9.根据权利要求8所述的净水器智能控制系统，其特征在于，所述第轮自适应调节时的第二缓存数据的计算表达式为：，其中，为第/＞轮自适应调节时的第一缓存数据，/＞为第/＞轮自适应调节时的第二缓存数据，/＞为第/＞轮自适应调节时的第二缓存数据，/＞为泵压转速差分方程/＞阶第一系数，/＞为泵压转速差分方程/＞阶第二系数。
说明书desc
技术领域本发明涉及自适应控制系统领域，具体涉及一种净水器智能控制系统。背景技术净水器设备通常由预处理滤芯、自吸泵、反渗透膜滤芯和后置滤芯组成。在净水过程中，原水经预处理滤芯粗过滤，再由自吸泵提供一定的压力，压往反渗透膜滤芯，过滤出纯水，最后经后置滤芯改善水质口感。因此，自吸泵和反渗透膜滤芯是净水器的核心部件。由于市政自来水水质TDS、硬度、PH值等波动范围大，供水水压也有一定的波动，因此净水器在使用时，净水效果和滤芯寿命受到了不可忽视的影响，尤其是当水压低、水温低时，净水效率极差，用户体验不佳。因此，净水器的自吸泵需要根据实际工况进行自适应控制。目前，净水器自吸泵通常由简单的逻辑判断进行提速和降速，未能实现智能自适应精准控制。而在现有的自适应控制系统领域中，也未有契合的自适应控制模型为净水器的智能控制提供解决方案。发明内容针对现有技术中的上述不足，本发明提供的一种净水器智能控制系统解决了现有净水器控制方案仅由简单的逻辑判断进行自吸泵的提速和降速，存在无法精准控制，净水效率不佳的问题。为了达到上述发明目的，本发明采用的技术方案为：一种净水器智能控制系统，设置于净水器内，通过自适应调节净水器的自吸泵，以控制净水过程，包括：目标运算单元和自适应控制单元；所述目标运算单元上运行有单层线性网络模型，用于根据净水过程传感信息，设置目标泵压；所述自适应控制单元上运行有主副双环路控制模型，其将转速误差反馈环路作为内层副环路，并将泵压误差反馈环路作为外层主环路，用于自适应调节自吸泵，以实现目标泵压。本发明的有益效果为：本发明可根据净水过程传感信息实时设置目标泵压，并通过具有副环路精细微调，主环路定性调控的主副双环路控制模型，根据净水器自吸泵的转速状态和泵压误差情况，自适应调节自吸泵，快速实现目标泵压，提高净水效率，延长反渗透膜滤芯寿命，并增强净水器的可靠性。进一步地，所述净水过程传感信息包括：通过浊度传感器测得的原水水质数据；通过温度传感器测得的自吸泵温度数据；通过第一压力变送器测得的原水水压数据。进一步地，所述单层线性网络模型的运算表达式为：，，其中，为目标泵压，/＞为净水过程传感信息列向量，/＞为原水水质数据，/＞为自吸泵温度数据，/＞为原水水压数据，/＞为单层线性网络参数列向量，/＞为转置变换。进一步地，所述单层线性网络参数列向量通过下式迭代训练得到：，，其中，为第/＞次迭代时的单层线性网络参数列向量，/＞为第/＞次迭代时的单层线性网络参数列向量，/＞为参与第/＞次迭代的过往净水过程传感信息列向量，/＞为第/＞次迭代时的代价矩阵，/＞为第/＞次迭代时的系数矩阵，/＞为迭代速率，/＞为第/＞次迭代时的差值。上述进一步方案的有益效果为：为了能够快速且准确地根据过往净水过程传感信息数据训练单层线性网络参数列向量，使得目标泵压的计算值与最佳泵压值的均方误差最小，基于数理统计原理，设置了代价矩阵以趋近单层线性网络模型输入数据在统计学上自相关矩阵的逆矩阵，先通过单层线性网络模型输入数据更新代价矩阵，并用代价矩阵更新单层线性网络参数列向量，相对于利用梯度下降思路建立的LMS最小均方算法，收敛速度更佳，准确度较高。进一步地，所述第次迭代时的差值的计算表达式为：，其中，为收集得到的与参与第/＞次迭代的过往净水过程传感信息列向量对应的最佳泵压值；所述单层线性网络参数列向量的初始表达式为：，其中，为未开始迭代时的单层线性网络参数列向量；所述代价矩阵的初始表达式为：，其中，为未开始迭代时的代价矩阵。上述进一步方案的有益效果为：由于代价矩阵是用于通过迭代训练，逼近单层线性网络模型输入数据自相关矩阵的逆矩阵，而自相关矩阵具有复共轭对称性，因此设置其初值为对角矩阵，便于迭代训练。进一步地，所述主副双环路控制模型的表达式包括：，，其中，为第/＞轮自适应调节时的泵压误差，/＞为第/＞轮自适应调节时的泵压误差，/＞为第/＞轮自适应调节时的泵压误差，/＞为外层主环路比例系数，/＞为外层主环路微分系数，/＞为外层主环路积分系数，/＞为第/＞轮自适应调节时的第一缓存数据，/＞为第/＞轮自适应调节输出的控制量，/＞为内层副环路比例系数，/＞为内层副环路微分系数，/＞为内层副环路积分系数，/＞为第/＞轮自适应调节时的转速误差，为第/＞轮自适应调节时的泵压误差转速误差，/＞为第/＞轮自适应调节时的转速误差。进一步地，所述第轮自适应调节时的泵压误差的计算表达式为：，其中，为第/＞轮自适应调节时通过第二压力变送器测得的反渗透膜滤芯水压数据。进一步地，所述第轮自适应调节时的转速误差的计算表达式为：，其中，为第/＞轮自适应调节时的第二缓存数据，/＞为第/＞轮自适应调节时通过转速传感器测得的自吸泵转速。上述进一步方案的有益效果为：主副双环路控制模型输出的控制量直接控制自吸泵的转速，进而控制自吸泵的泵压，即其推动净水器内的水而产生的反渗透膜滤芯水压，因此，以泵压误差的反馈调节作为外环，进行定性调控，并以转速误差的反馈调节作为内环，进行精细微调，实现适配于净水器的自适应精准调控。内环和外环的调控均同时使用了比例调节、积分调节和微分调节，可快速收敛到目标值，抑制抖动、自激和干扰，提高鲁棒性、稳定性和可靠性。进一步地，所述第轮自适应调节时的第二缓存数据的计算表达式为：，其中，为第/＞轮自适应调节时的第一缓存数据，/＞为第/＞轮自适应调节时的第二缓存数据，/＞为第/＞轮自适应调节时的第二缓存数据，/＞为泵压转速差分方程/＞阶第一系数，/＞为泵压转速差分方程/＞阶第二系数。上述进一步方案的有益效果为：设置了二阶差分方程，模拟二阶常系数线性微分方程，对自吸泵的双环路内外联系进行建模，以根据外环比例、积分和微分调节得到的第一缓存数据计算物理意义等价于自吸泵转速的第二缓存数据，使主副双环路控制模型更加契合自吸泵控制量、自吸泵转速和泵压三者的自然规律。附图说明图1为本发明实施例提供的一种净水器智能控制系统的结构图。具体实施方式下面对本发明的具体实施方式进行描述，以便于本技术领域的技术人员理解本发明，但应该清楚，本发明不限于具体实施方式的范围，对本技术领域的普通技术人员来讲，只要各种变化在所附的权利要求限定和确定的本发明的精神和范围内，这些变化是显而易见的，一切利用本发明构思的发明创造均在保护之列。如图1所示，在本发明的一个实施例中，一种净水器智能控制系统，设置于净水器内，通过自适应调节净水器的自吸泵，以控制净水过程，包括：目标运算单元和自适应控制单元；目标运算单元上运行有单层线性网络模型，用于根据净水过程传感信息，设置目标泵压；自适应控制单元上运行有主副双环路控制模型，其将转速误差反馈环路作为内层副环路，并将泵压误差反馈环路作为外层主环路，用于自适应调节自吸泵，以实现目标泵压。净水过程传感信息包括：通过TS300B型浊度传感器测得的原水水质数据；通过DS18B20型温度传感器测得的自吸泵温度数据；通过第一压力变送器测得的原水水压数据。单层线性网络模型的运算表达式为：，，其中，为目标泵压，/＞为净水过程传感信息列向量，/＞为原水水质数据，/＞为自吸泵温度数据，/＞为原水水压数据，/＞为单层线性网络参数列向量，/＞为转置变换。单层线性网络参数列向量通过下式迭代训练得到：，，其中，为第/＞次迭代时的单层线性网络参数列向量，/＞为第/＞次迭代时的单层线性网络参数列向量，/＞为参与第/＞次迭代的过往净水过程传感信息列向量，/＞为第/＞次迭代时的代价矩阵，/＞为第/＞次迭代时的系数矩阵，/＞为迭代速率，/＞为第/＞次迭代时的差值。为了能够快速且准确地根据过往净水过程传感信息数据训练单层线性网络参数列向量，使得目标泵压的计算值与最佳泵压值的均方误差最小，基于数理统计原理，设置了代价矩阵以趋近单层线性网络模型输入数据在统计学上自相关矩阵的逆矩阵，先通过单层线性网络模型输入数据更新代价矩阵，并用代价矩阵更新单层线性网络参数列向量，相对于利用梯度下降思路建立的LMS最小均方算法，收敛速度更佳，准确度较高。第次迭代时的差值的计算表达式为：，其中，为收集得到的与参与第/＞次迭代的过往净水过程传感信息列向量对应的最佳泵压值；单层线性网络参数列向量的初始表达式为：，其中，为未开始迭代时的单层线性网络参数列向量；代价矩阵的初始表达式为：，其中，为未开始迭代时的代价矩阵。由于代价矩阵是用于通过迭代训练，逼近单层线性网络模型输入数据自相关矩阵的逆矩阵，而自相关矩阵具有复共轭对称性，因此设置其初值为对角矩阵，便于迭代训练。主副双环路控制模型的表达式包括：，，其中，为第/＞轮自适应调节时的泵压误差，/＞为第/＞轮自适应调节时的泵压误差，/＞为第/＞轮自适应调节时的泵压误差，/＞为外层主环路比例系数，/＞为外层主环路微分系数，/＞为外层主环路积分系数，/＞为第/＞轮自适应调节时的第一缓存数据，/＞为第/＞轮自适应调节输出的控制量，/＞为内层副环路比例系数，/＞为内层副环路微分系数，/＞为内层副环路积分系数，/＞为第/＞轮自适应调节时的转速误差，为第/＞轮自适应调节时的泵压误差转速误差，/＞为第/＞轮自适应调节时的转速误差。第轮自适应调节时的泵压误差的计算表达式为：，其中，为第/＞轮自适应调节时通过第二压力变送器测得的反渗透膜滤芯水压数据。第轮自适应调节时的转速误差的计算表达式为：，其中，为第/＞轮自适应调节时的第二缓存数据，/＞为第/＞轮自适应调节时通过转速传感器测得的自吸泵转速。主副双环路控制模型输出的控制量直接控制自吸泵的转速，进而控制自吸泵的泵压，即其推动净水器内的水而产生的反渗透膜滤芯水压，因此，以泵压误差的反馈调节作为外环，进行定性调控，并以转速误差的反馈调节作为内环，进行精细微调，实现适配于净水器的自适应精准调控。内环和外环的调控均同时使用了比例调节、积分调节和微分调节，可快速收敛到目标值，抑制抖动、自激和干扰，提高鲁棒性、稳定性和可靠性。第轮自适应调节时的第二缓存数据的计算表达式为：，其中，为第/＞轮自适应调节时的第一缓存数据，/＞为第/＞轮自适应调节时的第二缓存数据，/＞为第/＞轮自适应调节时的第二缓存数据，/＞为泵压转速差分方程/＞阶第一系数，/＞为泵压转速差分方程/＞阶第二系数。该表达式设置了二阶差分方程，模拟二阶常系数线性微分方程，对自吸泵的双环路内外联系进行建模，以根据外环比例、积分和微分调节得到的第一缓存数据计算物理意义等价于自吸泵转速的第二缓存数据，使主副双环路控制模型更加契合自吸泵控制量、自吸泵转速和泵压三者的自然规律。综上，本发明可根据净水过程传感信息实时设置目标泵压，并通过具有副环路精细微调，主环路定性调控的主副双环路控制模型，根据净水器自吸泵的转速状态和泵压误差情况，自适应调节自吸泵，快速实现目标泵压，提高净水效率，延长反渗透膜滤芯寿命，并增强净水器的可靠性。本发明中应用了具体实施例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本发明的限制。本领域的普通技术人员将会意识到，这里所述的实施例是为了帮助读者理解本发明的原理，应被理解为本发明的保护范围并不局限于这样的特别陈述和实施例。本领域的普通技术人员可以根据本发明公开的这些技术启示做出各种不脱离本发明实质的其它各种具体变形和组合，这些变形和组合仍然在本发明的保护范围内。
