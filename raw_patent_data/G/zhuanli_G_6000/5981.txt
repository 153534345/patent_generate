标题title
构件特征数据提取方法、装置、电子设备及存储介质
摘要abst
本发明提供的一种构件特征数据提取方法、装置、电子设备及存储介质，涉及图像处理及识别领域。所述方法：首先，获取结构平面布置特征图；然后，对结构平面布置特征图进行预处理，得到预处理后的结构平面布置特征图；接着，将预处理后的结构平面布置特征图输入预先训练的构件识别模型，获得结构平面布置特征图中目标构件的构件识别信息，构件识别信息表征目标构件在结构平面布置特征图中的图形范围；最后，根据目标构件的构件识别信息，确定目标构件的构件特征数据，从而实现从模糊的栅格化的结构平面布置特征图中提取构件的特征数据。
权利要求书clms
1.一种构件特征数据提取方法，其特征在于，所述方法包括：获取结构平面布置特征图；对所述结构平面布置特征图进行预处理，得到预处理后的结构平面布置特征图；将预处理后的结构平面布置特征图输入预先训练的构件识别模型，获得所述结构平面布置特征图中目标构件的构件识别信息，所述构件识别信息表征所述目标构件在所述结构平面布置特征图中的图形范围；根据所述目标构件的构件识别信息，确定所述目标构件的构件特征数据。2.如权利要求1所述的方法，其特征在于，在所述获取结构平面布置特征图之前，所述方法还包括训练所述构件识别模型的步骤，其包括：获取预处理后的多张样本结构平面布置特征图；基于预先建立的构件映射表，对每张所述样本结构平面布置特征图进行掩膜标记；根据每张所述样本结构平面布置特征图的掩膜标记和预设结构语义关系，建立所述每张样本结构平面布置特征图的关系标签，得到训练数据集；利用增广处理后的所述训练数据集训练预先构建的构件识别模型，得到训练后的构件识别模型。3.如权利要求2所述的方法，其特征在于，每张所述样本结构平面布置特征图中均存在至少一个构件，所述构件为柱构件或梁构件，所述构件映射表包括残缺构件映射表；在所述基于预先建立的构件映射表，对每张所述样本结构平面布置特征图进行掩膜标记之前，所述方法还包括建立残缺构件映射表的步骤，其包括：根据每个所述构件的图形样式，从所有所述构件中确定出样本残缺柱构件、第一样本残缺梁构件和第二样本残缺梁构件，所述第一样本残缺梁构件与所述第二样本残缺梁构件的残缺区域不同；连接所述样本残缺柱构件的目标轮廓的外轮廓线的交点，得到所述样本残缺柱构件对应的构件提取框；根据所述第一样本残缺梁构件的未残缺区域的外轮廓线、所述第一样本残缺梁构件的梁中心线以及梁高线，得到所述第一样本残缺梁构件对应的构件提取框，其中，所述梁中线和所述梁高线是基于所述未残缺区域的外轮廓线得到的；对所述第二样本残缺梁构件的未残缺区域的外轮廓线进行镜像处理，得到所述第二样本残缺梁构件对应的构件提取框；基于所述样本残缺柱构件的图形样式和对应的构件提取框、所述第一样本残缺梁构件的图形样式和对应的构件提取框、以及所述第而样本残缺梁构件的图形样式和对应的构件提取框，生成所述构件映射表。4.如权利要求1所述的方法，其特征在于，所述目标构件包括柱构件，所述柱构件的构件识别信息包括多个像素点，所述柱构件的构件特征数据包括柱截面宽度、柱截面长度和柱混凝土强度；所述根据所述目标构件的构件识别信息，确定所述目标构件的构件特征数据的步骤包括：根据每个所述像素点的坐标，确定所述柱截面宽度和所述柱截面长度，所述像素点的坐标是基于所述结构平面布置特征图所处的坐标系得到的；获取所述多个像素点的平均灰度值，并根据所述平均灰度值，确定所述柱混凝土强度。5.如权利要求1所述的方法，其特征在于，所述目标构件还包括梁构件，所述梁构件的构件识别信息包括多个第一像素点和多个第二像素点，所述梁构件的构件特征数据包括梁长度、梁截面宽度、梁截面高度、梁混凝土强度和梁跨高比；所述根据目标构件的构件识别信息，确定目标构件的构件特征数据的步骤还包括：根据每个所述第二像素点的坐标，确定所述梁长度和所述梁截面宽度，所述第二像素点的坐标是基于所述结构平面布置特征图所处的坐标系得到的；根据每个所述第一像素点的坐标，确定所述梁截面高度，所述第一像素点的坐标是基于所述结构平面布置特征图所处的坐标系得到的；将所述梁长度与所述梁截面高度的比值作为所述梁跨高比；获取所述多个第一像素点和多个第二像素点的平均灰度值，并根据所述平均灰度值，确定所述梁混凝土强度。6.如权利要求1所述的方法，其特征在于，所述构件识别模型还输出所述结构平面布置特征图对应的结构语义图谱，所述方法还包括：基于所述目标构件的构件特征数据，将所述结构语义图谱转化为结构特征表达图谱；建立所述结构特征表达图谱对应的数据存储架构，以兼容预设工业基类标准。7.如权利要求6所述的方法，其特征在于，所述目标构件包括多个柱构件和多个梁构件，所述结构语义图谱包括多个节点，每个节点均对应一个所述柱构件或一个所述梁构件；所述基于所述目标构件的构件特征数据，将所述结构语义图谱转化为结构特征表达图谱的步骤包括：针对任意一个目标节点，若所述目标节点对应柱构件，则将所述目标节点对应的柱构件的构件特征数据存储至所述目标节点；若所述目标节点对应梁构件，则判断与所述目标节点存在结构语义关系的节点是否为一个；若是，则删除所述目标节点；若否，则将所述目标节点对应的梁构件的构件特征数据存储至所述目标节点；遍历每个所述节点，得到所述结构特征表达图谱。8.一种构件特征数据提取装置，其特征在于，所述装置包括：获取模块，用于获取结构平面布置特征图；处理模块，用于：对所述结构平面布置特征图进行预处理，得到预处理后的结构平面布置特征图；将预处理后的结构平面布置特征图输入预先训练的构件识别模型，获得所述结构平面布置特征图中目标构件的构件识别信息，所述构件识别信息表征所述目标构件在所述结构平面布置特征图中的图形范围；确定模块，用于根据所述目标构件的构件识别信息，确定所述目标构件的构件特征数据。9.一种电子设备，其特征在于，其包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现如权利要求1-7任一项所述的构件特征数据提取方法。10.一种计算机可读存储介质，其特征在于，其存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1-7任一项所述的构件特征数据提取方法。
说明书desc
技术领域本发明涉及图像处理及识别领域，具体而言，涉及一种构件特征数据提取方法、装置、电子设备及存储介质。背景技术在建筑结构设计中，通过人工智能技术可以提高设计师设计效率，例如，采用对抗生成技术，可以根据输入的建筑平面布置图，生成对应的呈现形式为栅格化的结构平面布置特征图。在实际工程中，设计师需从栅格化的图片中获得各构件的特征数据，而基于人工智能技术生成的栅格化的结构平面布置特征图，往往存在许多噪音，使得图片较为模糊。因此，如何从模糊的栅格化的结构平面布置特征图中提取构件的特征数据是目前需解决的技术问题。发明内容本发明提供了一种构件特征数据提取方法、装置、电子设备及存储介质，其能够从模糊的栅格化的结构平面布置特征图中提取构件的特征数据。本发明的技术方案可以这样实现：第一方面，本发明提供一种构件特征数据提取方法，所述方法包括：获取结构平面布置特征图；对所述结构平面布置特征图进行预处理，得到预处理后的结构平面布置特征图；将预处理后的结构平面布置特征图输入预先训练的构件识别模型，获得所述结构平面布置特征图中目标构件的构件识别信息，所述构件识别信息表征所述目标构件在所述结构平面布置特征图中的图形范围；根据所述目标构件的构件识别信息，确定所述目标构件的构件特征数据。可选地，在所述获取结构平面布置特征图之前，所述方法还包括训练所述构件识别模型的步骤，其包括：获取预处理后的多张样本结构平面布置特征图；基于预先建立的构件映射表，对每张所述样本结构平面布置特征图进行掩膜标记；根据每张所述样本结构平面布置特征图的掩膜标记和预设结构语义关系，建立每张所述样本结构平面布置特征图的关系标签，得到训练数据集；利用增广处理后的所述训练数据集训练预先构建的构件识别模型，得到训练后的构件识别模型。可选地，每张所述样本结构平面布置特征图中均存在至少一个构件，所述构件为柱构件或梁构件，所述构件映射表包括残缺构件映射表；在所述基于预先建立的构件映射表，对每张所述样本结构平面布置特征图进行掩膜标记之前，所述方法还包括建立残缺构件映射表的步骤，其包括：根据每个所述构件的图形样式，从所有所述构件中确定出样本残缺柱构件、第一样本残缺梁构件和第二样本残缺梁构件，所述第一样本残缺梁构件与所述第二样本残缺梁构件的残缺区域不同；连接所述样本残缺柱构件的目标轮廓的外轮廓线的交点，得到所述样本残缺柱构件对应的构件提取框；根据所述第一样本残缺梁构件的未残缺区域的外轮廓线、所述第一样本残缺梁构件的梁中心线以及梁高线，得到所述第一样本残缺梁构件对应的构件提取框，其中，所述梁中线和所述梁高线是基于所述未残缺区域的外轮廓线得到的；对所述第二样本残缺梁构件的未残缺区域的外轮廓线进行镜像处理，得到所述第二样本残缺梁构件对应的构件提取框；基于所述样本残缺柱构件的图形样式和对应的构件提取框、所述第一样本残缺梁构件的图形样式和对应的构件提取框、以及所述第而样本残缺梁构件的图形样式和对应的构件提取框，生成所述构件映射表。可选地，所述目标构件包括柱构件，所述柱构件的构件识别信息包括多个像素点，所述柱构件的构件特征数据包括柱截面宽度、柱截面长度和柱混凝土强度，所述根据所述目标构件的构件识别信息，确定所述目标构件的构件特征数据的步骤包括：根据每个所述像素点的坐标，确定所述柱截面宽度和所述柱截面长度，所述像素点的坐标是基于所述结构平面布置特征图所处的坐标系得到的；获取所述多个像素点的平均灰度值，并根据所述平均灰度值，确定所述柱混凝土强度。可选地，所述目标构件还包括梁构件，所述梁构件的构件识别信息包括多个第一像素点和多个第二像素点，所述梁构件的构件特征数据包括梁长度、梁截面宽度、梁截面高度、梁混凝土强度和梁跨高比，所述根据目标构件的构件识别信息，确定目标构件的构件特征数据的步骤还包括：根据每个所述第二像素点的坐标，确定所述梁长度和所述梁截面宽度，所述第二像素点的坐标是基于所述结构平面布置特征图所处的坐标系得到的；根据每个所述第一像素点的坐标，确定所述梁截面高度，所述第一像素点的坐标是基于所述结构平面布置特征图所处的坐标系得到的；将所述梁长度与所述梁截面高度的比值作为所述梁跨高比；获取所述多个第一像素点和多个第二像素点的平均灰度值，并根据所述平均灰度值，确定所述梁混凝土强度。可选地，所述构件识别模型还输出所述结构平面布置特征图对应的结构语义图谱，所述方法还包括：基于所述目标构件的构件特征数据，将所述结构语义图谱转化为结构特征表达图谱；建立所述结构特征表达图谱对应的数据存储架构，以兼容预设工业基类标准。可选地，所述目标构件包括多个柱构件和多个梁构件，所述结构语义图谱包括多个节点，每个节点均对应一个所述柱构件或一个所述梁构件，所述基于所述目标构件的构件特征数据，将所述结构语义图谱转化为结构特征表达图谱的步骤包括：针对任意一个目标节点，若所述目标节点对应柱构件，则将所述目标节点对应的柱构件的构件特征数据存储至所述目标节点；若所述目标节点对应梁构件，则判断与所述目标节点存在结构语义关系的节点是否为一个；若是，则删除所述目标节点；若否，则将所述目标节点对应的梁构件的构件特征数据存储至所述目标节点；遍历每个所述节点，得到所述结构特征表达图谱。第二方面，本发明提供一种构件特征数据提取装置，所述装置包括：获取模块，用于获取结构平面布置特征图；处理模块，用于：对所述结构平面布置特征图进行预处理，得到预处理后的结构平面布置特征图；将预处理后的结构平面布置特征图输入预先训练的构件识别模型，获得所述结构平面布置特征图中目标构件的构件识别信息，所述构件识别信息表征所述目标构件在所述结构平面布置特征图中的图形范围；确定模块，用于根据所述目标构件的构件识别信息，确定所述目标构件的构件特征数据。第三方面，本发明提供一种电子设备，其包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现如前述第一方面所述的构件特征数据提取方法。第四方面，本发明提供一种计算机可读存储介质，其存储有计算机程序，所述计算机程序被处理器执行时实现如前述第一方面所述的构件特征数据提取方法。相较于现有技术，本发明提供的一种构件特征数据提取方法、装置、电子设备及存储介质，首先，获取结构平面布置特征图；然后，对结构平面布置特征图进行预处理，得到预处理后的结构平面布置特征图；接着，将预处理后的结构平面布置特征图输入预先训练的构件识别模型，获得结构平面布置特征图中目标构件的构件识别信息，构件识别信息表征目标构件在结构平面布置特征图中的图形范围；最后，根据目标构件的构件识别信息，确定目标构件的构件特征数据。由于本发明通过对结构平面布置特征图进行预处理，再输入构件识别模型，得到表征目标构件在结构平面布置特征图中的图形范围的构件识别信息，在利用构件识别信息得到目标构件的构件特征数据，从而实现从模糊的栅格化的结构平面布置特征图中提取构件的特征数据。附图说明为了更清楚地说明本发明的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本发明提供的一种构件特征数据提取方法的流程示意图一；图2为本发明提供的一种预处理结构平面布置特征图的示例图；图3为本发明提供的一种构件图形样式的示例图一；图4为本发明提供的一种构件图形样式的示例图二；图5为本发明提供的一种构件提取框的示例图一；图6为本发明提供的一种构件提取框的示例图二；图7为本发明提供的一种构件提取框的示例图三；图8为本发明提供的一种结构语义关系的图谱表达形式的示例图一；图9为本发明提供的一种结构语义关系的图谱表达形式的示例图二；图10为本发明提供的一种结构语义关系的图谱表达形式的示例图三；图11为本发明提供的一种结构语义图谱的示例图；图12为本发明提供的一种构件特征数据提取方法的流程示意图二；图13为本发明提供的一种结构特征表达图谱的示例图；图14为本发明提供的一种数据存储架构的局部示意图；图15为本发明提供的一种构件特征数据提取装置的功能单元框图；图16为本发明提供的一种电子设备的结构示意框图。图标：100-构件特征数据提取装置；101-获取模块；102-处理模块；103-确定模块；104-训练模块；105-建立模块；106-转化模块；200-电子设备；210-存储器；220-处理器。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合本发明中的附图，对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。此外，若出现术语“第一”、“第二”等仅用于区分描述，而不能理解为指示或暗示相对重要性。需要说明的是，在不冲突的情况下，本发明的实施例中的特征可以相互结合。为了模糊的栅格化的结构平面布置特征图中提取构件的特征数据，本发明提供了一种构件特征数据提取方法，下面将进行详细介绍。请参照图1，该构件特征提取方法包括步骤S101～S104。S101，获取结构平面布置特征图。其中，结构平面布置特征图是采用人工智能技术，例如对抗生成技术，根据输入的建筑平面布置图生成的。如图2所示，结构平面布置特征图的呈现形式通常为删格化，由于噪音的存在，使得结构平面布置特征图较为模糊。S102，对结构平面布置特征图进行预处理，得到预处理后的结构平面布置特征图。其中，预处理包括去噪处理和图像增强处理。如图2所示，步骤S102的实现过程可以如下：首先，将5*5的卷积核与结构平面布置特征图进行卷积运算，以去除结构平面布置特征图中的噪点；然后，将对角线中心元素为5的拉普拉斯算子与去噪后的结构平面布置特征图进行卷积，以增强去噪后的结构平面布置特征图中的结构特征。接着，将3*3的卷积核与增强后的结构平面布置特征图进行卷积，以去除图像增强过程中新出现的噪点。S103，将预处理后的结构平面布置特征图输入预先训练的构件识别模型，获得结构平面布置特征图中目标构件的构件识别信息。其中，构件识别信息表征目标构件在结构平面布置特征图中的图形范围。作为一种可能的实现方式，在步骤S101之前，还包括“训练构件识别模型”的步骤，即步骤S105。可选地，步骤S105的实现过程可以如下：S105-1，获取预处理后的多张样本结构平面布置特征图。其中，预处理过程与步骤S102的实现过程相同，在此不再进行赘述。S105-2，基于预先建立的构件映射表，对每张样本结构平面布置特征图进行掩膜标记。其中，构件映射表是用于定义栅格化的结构平面布置特征图种不同构件的图形范围的，构件映射表中包含构件类别、构件图形样式、构件提取框、提取框类别以及提取框绘制规制等元素。构件映射表包括标准构件映射表和残缺构件映射表。可以理解地，标准构件映射表用于构件的图形样式完整，即构件未出现残缺的情况。本发明在执行步骤S105-2之前，需先执行步骤“建立标准构件映射表”和“建立残缺构件映射表”。如图3所示，未残缺的构件，无论是柱构件还是梁构件，其图形样式的外轮廓均是清晰的，可以直接按照构件的图形样式的外轮廓线绘制构件提取框。如下表所示，本发明提供的一种标准构件映射表中，柱构件对应的构件提取框的类别为column，梁构件对应的构件提取框有两个，分别是Beam和Beam_detail，Beam为包括整个梁构件图形样式的构件提取框，Beam_detail为只包裹梁构件图形样式两端的构件提取框。绘制规则R1为按照构件图形样式的外轮廓绘制。可以理解地，残缺构件映射表用于构件的图形样式不完整，即构件出现残缺的情况。如图4所示，残缺的柱构件，其图形样式的外轮廓是模糊的；残缺的梁构件，其图形样式的两端或中部较未残缺的梁构件均存在一定程度的缺失，且外轮廓模糊。也就是说，对于残缺的构件，是不可以直接按照构件的图形样式的外轮廓线绘制构件提取框。在本发明中，残缺构件映射表的构建过程可以如下：首先，根据每个构件的图形样式，从所有构件中确定出样本残缺柱构件、第一样本残缺梁构件和第二样本残缺梁构件。其中，第一样本残缺梁构件与第二样本残缺梁构件的残缺区域不同。可以理解地，样本残缺柱构件、第一样本残缺梁构件和第二样本残缺梁构件表征了三种残缺方式。如图5所示，样本残缺柱构件的图形样式的外轮廓模糊，第一样本残缺梁构件的图形样式的外轮廓模糊，且图形样式中部存在残缺，第二样本残缺梁构件的图形样式的一端的外轮廓相对清晰，而另一端的外轮廓不清晰。然后，分别确定样本残缺柱构件、第一样本残缺梁构件和第二样本残缺梁构件各自对应的构件提取框。针对样本残缺柱构件：连接样本残缺柱构件的目标轮廓的外轮廓线的交点，得到样本残缺柱构件对应的构件提取框。其中，目标轮廓是指柱构件的图形样式中颜色最深的轮廓。如图5所示，l1、l2、l3、l4为样本残缺柱构件的图形样式的颜色最深的轮廓的外轮廓线，A为l1与l3的交点，B为l1与l4的交点，C为l2与l3的交点、D为l2与l4的交点，连接点A、B、C、D，得到的线框ABCD为样本残缺柱构件的构件提取框。针对第一样本残缺梁构件：根据第一样本残缺梁构件的未残缺区域的外轮廓线、第一样本残缺梁构件的梁中心线以及梁高线，得到第一样本残缺梁构件对应的构件提取框。其中，梁中心线和梁高线是基于未残缺区域的外轮廓线得到的。如图6所示，第一样本梁构件的图形样式的两端为未残缺区域，沿着最外轮廓绘制，得到构件提取框的部分线段L1、L2、L3、L4、L5和L6。将线段L1与L2的中点连线作为第一样本梁构件的梁中心线l1。取第一样本梁构件的图形样式的中部的最外围生成两条轮廓线l2和l3，l2和l3均与梁中心线l1平行，l2与l3的间隔为H。沿垂直于l1的方向，过l1的中点绘制长度为H的梁高线l4。将l4的两个端点分别与L3、L4、L5、L6的端点连接，得到构件提取框的线段L7、L8、L9和L10。由线段L1～L10构成第一样本梁构件对应的构件提取框。针对第二样本残缺梁构件：对第二样本残缺梁构件的未残缺区域的外轮廓线进行镜像处理，得到第二样本残缺梁构件对应的构件提取框。如图7所示，第二样本残缺梁构件的图形样式的一半为未残缺区域，对于未残缺区域，沿着最外轮廓绘制，得到构件提取框的部分线段L1-L5。取L4、L5的端点连线得到梁高线l1，将L1-L5沿l1镜像对称得到构件提取框的线段L6-L10。由线段L1～L10构成第二样本梁构件对应的构件提取框。最后，基于样本残缺柱构件的图形样式和对应的构件提取框、第一样本残缺梁构件的图形样式和对应的构件提取框、以及第而样本残缺梁构件的图形样式和对应的构件提取框，生成构件映射表。如下表所示，本发明提供的一种残缺构件映射表中，柱构件对应的构件提取框的类别为column，绘制规制R2为连接的目标轮廓的外轮廓线的交点；梁构件对应的构件提取框有两个，类别均为是Beam，，即包裹整个梁构件图形样式的构件提取框，绘制规则R3为根据未残缺区域的外轮廓线、梁中心线以及梁高线绘制，绘制规则R4为对未残缺区域的外轮廓线进行镜像处理。在本发明中，依照上述标准构件映射表和残缺构件映射表，利用标注工具lableme对每张样本结构平面布置特征图中的柱构件和梁构件进行掩膜标记，即按照相应的绘制规则绘制出每个构件的构件提取框，并标注构件提取框的类别。S105-3，根据每张样本结构平面布置特征图的掩膜标记和预设结构语义关系，建立每张样本结构平面布置特征图的关系标签，得到训练数据集。其中，预设结构语义关系包括-{Link_to}-、-{Link_to}-和-{Equal_to}-。-{Link_to}-用于描述梁构件连接在两个柱构件之间，其图谱表达形式如图8所示。-{Link_to}-用于描述梁构件搭在另外两个梁构件上，其图谱表达形式如图9所示。-{Equal_to}-用于描述同一梁构件的两个构件提取框之间的语义关系，其图谱表达形式如图10所示。在本发明中，将每张样本结构平面布置特征图的掩膜标记导入关系标注工具A-Semi-automatic-Annotation-Software-for-Scene-Graph，依照预设结构语义关系，生成每张样本结构平面布置特征图的关系标签，得到训练数据集。如图11所示，样本结构平面布置特征图的关系标签可以为一结构语义图谱，结构语义图谱包括多个节点，每个节点对应一个柱构件或一个梁构件，节点与节点的连接关系表征构件之间的空间位置关系。S105-4，利用增广处理后的训练数据集训练预先构建的构件识别模型，得到训练后的构件识别模型。其中，增广处理包括旋转处理和镜像处理。构件识别模型可以是基于Scene GraphBenchmark识别算法、Scene Graph Benchmark识别算法或Mask R CNN算法构建的。示例性地，假设对由100张样本结构平面布置特征图得到的训练数据集进行旋转、镜像处理，将训练数据集中的数据增广至2400对后，再输入基于Scene Graph Benchmark识别算法构建的构件识别模型中进行训练，其中，迭代次数设置为20000，学习速率设置在第90000步至第120000步时衰减，每步训练数据量batch size设置为8，学习率设置为0.001。S104，根据目标构件的构件识别信息，确定目标构件的构件特征数据。在一种可能的实现方式中，目标构件包括柱构件。柱构件的构件识别信息包括多个像素点，柱构件的构件特征数据包括柱截面宽度、柱截面长度和柱混凝土强度。可以理解地，多个像素点是通过柱构件的构件提取框“Column”从结构平面布置特征图中框出的。此时，步骤S104的实现过程可以如下：S104-10，根据每个像素点的坐标，确定柱截面宽度和柱截面长度。其中，像素点的坐标是基于结构平面布置特征图所处的坐标系得到的。由于结构平面布置特征图为二维图像，因此其所处的坐标系也为二维坐标系，包括X轴和Y轴。可以理解地，每个像素点的坐标包括x坐标和y坐标。假设柱构件的宽边平行于Y轴，柱构件的长边平行于X轴，则每个像素点的坐标、柱截面宽度和柱截面长度满足下述公式：Ch＝α×-min)Cw＝α×-min)X＝{x1，x2，x3，......，xn}Y＝{y1，y2，y3，......，yn}公式中，Ch为柱截面宽度，Cw为柱截面长度，α是像素毫米转化系数，X为所有像素点的x坐标集合，Y为所有像素点的y坐标集合。S104-11，获取多个像素点的平均灰度值，并根据平均灰度值，确定柱混凝土强度。在本发明中，多个像素点的平均灰度值和柱混凝土强度满足下述公式：公式中，CC为柱混凝土强度，Cg为所有像素点的平均灰度值，为第i个像素点的R值，/＞为第i个像素点的G值，/＞为第i个像素点的B值。在另一种可能的实现方式中，目标构件还包括梁构件，梁构件的构件识别信息包括多个第一像素点和多个第二像素点，梁构件的构件特征数据包括梁长度、梁截面宽度、梁截面高度、梁混凝土强度和梁跨高比。其中，多个第一像素点是通过梁构件的构件提取框“Beam”从结构平面布置特征图中框出的，多个第二像素点是通过梁构件的构件提取框“Beam_detail”从结构平面布置特征图中框出的。此时，步骤S104的实现过程可以如下：S104-20，根据每个第二像素点的坐标，确定梁长度和梁截面宽度。其中，第二像素点的坐标是基于结构平面布置特征图所处的坐标系得到的。由于结构平面布置特征图为二维图像，因此其所处的坐标系也为二维坐标系，包括X轴和Y轴。可以理解地，每个第一像素点的坐标包括x坐标和y坐标，每个第二像素点的坐标包括x坐标和y坐标。在本发明中，每个第二像素点的坐标、梁长度和梁截面宽度满足下述公式：Bl＝α×max-min，max-min)Bw＝α×min-min，max-min)Xdetail＝{xdetail1，xdetail2，xdetail3，......，xdetailn}Ydetail＝{ydetail1，ydetail2，ydetail3，......，ydetailn}公式中，Bl为梁长，Bw为梁截面宽度，α是像素毫米转化系数，Xdetail为所有第二像素点的x坐标集合，Ydetail为所有第二像素点的y坐标集合。S104-21，根据每个第一像素点的坐标，确定梁截面高度。在本发明中，每个第一像素点的坐标和梁截面高度满足下述公式：Bh＝α×min-min，max-min)X＝{x1，x2，x3，......，xn}Y＝{y1，y2，y3，......，yn}公式中，Bh为梁截面高度，α是像素毫米转化系数，X为所有第一像素点的x坐标集合，Y为所有第一像素点的y坐标集合。S104-22，将梁长度与梁截面高度的比值作为梁跨高比。在本发明中，梁长度、梁截面高度以及梁跨高比满足下述公式：公式中，Bl为梁长，Bh为梁截面高度，BK为梁跨高比。S104-23，获取多个第一像素点和多个第二像素点的平均灰度值，并根据平均灰度值，确定梁混凝土强度。在本发明中，平均灰度值和梁混凝土强度满足下述公式：公式中，Bg为所有像素点的平均灰度值，为第i个像素点的R值，/＞为第i个像素点的G值，/＞为第i个像素点的B值。步骤S103中，构件识别模型还输出了结构平面布置特征图对应的结构语义图谱，由于在实际工程中，施工所用的矢量化平面图往往是基于结构特征表达图谱生成的。因此，请参照图12，该构件特征数据提取方法还包括步骤S106～S107。S106，基于目标构件的构件特征数据，将结构语义图谱转化为结构特征表达图谱。其中，目标构件包括多个柱构件和多个梁构件，结构语义图谱包括多个节点，每个节点均对应一个柱构件或一个梁构件。可选地，步骤S106的实现过程可以如下：S106-1，针对任意一个目标节点，若目标节点对应柱构件，则将目标节点对应的柱构件的构件特征数据存储至目标节点。如图11所示，结构语义图谱中每个“C”节点均对应一个提取框类别为“Column”的柱构件，对于每个“C”节点，均将该节点对应的柱构件的构件特征数据存储至该节点。S106-2，若目标节点对应梁构件，则判断与目标节点存在结构语义关系的节点是否为一个。如图11所示，结构语义图谱中每个“B”节点均对应一个提取框类别为“Beam”的梁构件，每个“B_d”节点均对应一个提取框类别为“Beam_detail”的梁构件。每个“B”节点均与一个“B_d”节点和至少一个“C”节点存在结构语义关系，而每个“B_d”节点均只与一个“B”节点存在结构语义关系。针对任意一个节点，若该节点对应梁构件、且与该节点存在结构语义关系的节点仅为一个，意味着该节点为“B_d”节点，则执行步骤S106-3；若该节点对应梁构件、且与该节点存在结构语义关系的节点为多个，意味着该节点为“B”节点，则执行步骤S106-4。S106-3，若是，则删除目标节点；S106-4，若否，则将目标节点对应的梁构件的构件特征数据存储至目标节点；遍历每个节点，得到结构特征表达图谱。示例性地，将如图11所示的结构语义图谱中的每个“B_d”节点均进行删除，将每个“C”节点对应柱构件的构件特征数据存储至该节点，将每个“B”节点对应梁构件的构件特征数据存储至该节点，得到如图13所示的结构特征表达图谱。S107，建立结构特征表达图谱对应的数据存储架构，以兼容预设工业基类标准。示例性地，图14展示了图13中结构特征表达图谱对应的数据存储架构的局部，该局部对应一个柱构件和与其连接的梁构件的构件特征数据的存储。为了执行上述方法实施例及各个可能的实施方式中的相应步骤，下面给出一种构件特征数据提取装置100的实现方式。请参照图15，该构件特征数据提取装置100包括获取模块101、处理模块102、确定模块103、训练模块104、建立模块105和转化模块106。获取模块101，用于获取结构平面布置特征图。处理模块102，用于对结构平面布置特征图进行预处理，得到预处理后的结构平面布置特征图；将预处理后的结构平面布置特征图输入预先训练的构件识别模型，获得结构平面布置特征图中目标构件的构件识别信息，构件识别信息表征目标构件在结构平面布置特征图中的图形范围。确定模块103，用于根据目标构件的构件识别信息，确定目标构件的构件特征数据。可选地，训练模块104用于获取预处理后的多张样本结构平面布置特征图；基于预先建立的构件映射表，对每张样本结构平面布置特征图进行掩膜标记；根据每张样本结构平面布置特征图的掩膜标记和预设结构语义关系，建立每张样本结构平面布置特征图的关系标签，得到训练数据集；利用增广处理后的训练数据集训练预先构建的构件识别模型，得到训练后的构件识别模型。可选地，每张样本结构平面布置特征图中均存在至少一个构件，构件为柱构件或梁构件，构件映射表包括残缺构件映射表，建立模块105用于根据每个构件的图形样式，从所有构件中确定出样本残缺柱构件、第一样本残缺梁构件和第二样本残缺梁构件，第一样本残缺梁构件与第二样本残缺梁构件的残缺区域不同；连接样本残缺柱构件的目标轮廓的外轮廓线的交点，得到样本残缺柱构件对应的构件提取框；根据第一样本残缺梁构件的未残缺区域的外轮廓线、第一样本残缺梁构件的梁中心线以及梁高线，得到第一样本残缺梁构件对应的构件提取框，其中，梁中线和梁高线是基于未残缺区域的外轮廓线得到的；对第二样本残缺梁构件的未残缺区域的外轮廓线进行镜像处理，得到第二样本残缺梁构件对应的构件提取框；基于样本残缺柱构件的图形样式和对应的构件提取框、第一样本残缺梁构件的图形样式和对应的构件提取框、以及第而样本残缺梁构件的图形样式和对应的构件提取框，生成构件映射表。可选地，目标构件包括柱构件，柱构件的构件识别信息包括多个像素点，柱构件的构件特征数据包括柱截面宽度、柱截面长度和柱混凝土强度，处理模块102具体用于根据每个像素点的坐标，确定柱截面宽度和柱截面长度，像素点的坐标是基于结构平面布置特征图所处的坐标系得到的；获取多个像素点的平均灰度值，并根据平均灰度值，确定柱混凝土强度。可选地，目标构件还包括梁构件，梁构件的构件识别信息包括多个第一像素点和多个第二像素点，梁构件的构件特征数据包括梁长度、梁截面宽度、梁截面高度、梁混凝土强度和梁跨高比，处理模块102还具体用于根据每个第二像素点的坐标，确定梁长度和梁截面宽度，第二像素点的坐标是基于结构平面布置特征图所处的坐标系得到的；根据每个第一像素点的坐标，确定梁截面高度，第一像素点的坐标是基于结构平面布置特征图所处的坐标系得到的；将梁长度与梁截面高度的比值作为梁跨高比；获取多个第一像素点和多个第二像素点的平均灰度值，并根据平均灰度值，确定梁混凝土强度。可选地，构件识别模型还输出结构平面布置特征图对应的结构语义图谱，转化模块106用于基于目标构件的构件特征数据，将结构语义图谱转化为结构特征表达图谱；建立结构特征表达图谱对应的数据存储架构，以兼容预设工业基类标准。可选地，目标构件包括多个柱构件和多个梁构件，结构语义图谱包括多个节点，每个节点均对应一个柱构件或一个梁构件，转化模块106具体用于针对任意一个目标节点，若目标节点对应柱构件，则将目标节点对应的柱构件的构件特征数据存储至目标节点；若目标节点对应梁构件，则判断与目标节点存在结构语义关系的节点是否为一个；若是，则删除目标节点；若否，则将目标节点对应的梁构件的构件特征数据存储至目标节点；遍历每个节点，得到结构特征表达图谱。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的构件特征数据提取装置100的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。进一步地，本发明还提供了一种电子设备200，请参照图16，电子设备200可以包括存储器210和处理器220。其中，处理器220可以是一个通用的中央处理器，微处理器，特定应用集成电路，或一个或多个用于控制上述方法实施例提供的构件特征数据提取方法的程序执行的集成电路。存储器210可以是ROM或可存储静态信息和指令的其它类型的静态存储设备，RAM或者可存储信息和指令的其它类型的动态存储设备，也可以是电可擦可编程只读存储器、只读光盘或其它光盘存储、光碟存储、磁盘存储介质或者其它磁存储设备、或者能够用于携带或存储具有指令或数据结构形式的期望的程序代码并能够由计算机存取的任何其它介质，但不限于此。存储器210可以是独立存在，通过通信总线与处理器220相连接。存储器210也可以和处理器220集成在一起。其中，存储器210用于存储执行本申请方案的机器可执行指令。处理器220用于执行存储器210中存储的机器可执行指令，以实现上述的方法实施例。本发明还提供一种包含计算机程序的计算机可读存储介质，计算机程序在被执行时可以用于执行上述的方法实施例提供的构件特征数据提取方法中的相关操作。综上，本发明提供的一种构件特征数据提取方法、装置、电子设备及存储介质，首先，获取结构平面布置特征图；然后，对结构平面布置特征图进行预处理，得到预处理后的结构平面布置特征图；接着，将预处理后的结构平面布置特征图输入预先训练的构件识别模型，获得结构平面布置特征图中目标构件的构件识别信息，构件识别信息表征目标构件在结构平面布置特征图中的图形范围；最后，根据目标构件的构件识别信息，确定目标构件的构件特征数据。由于本发明通过对结构平面布置特征图进行预处理，再输入构件识别模型，得到表征目标构件在结构平面布置特征图中的图形范围的构件识别信息，在利用构件识别信息得到目标构件的构件特征数据，从而实现从模糊的栅格化的结构平面布置特征图中提取构件的特征数据。以上，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
