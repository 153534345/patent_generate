标题title
基于信息物理系统的单交叉口信号配时方案滚动优化方法
摘要abst
本发明公开了一种基于信息物理系统的单交叉口信号配时方案滚动优化方法，该方法包括：确定交叉口CPS的结构与组成功能；设定交叉口CPS各个进口方向的控制范围；计算车辆CPS驶离交叉口的理想时刻；采集车辆CPS的实时状态信息；根据车辆CPS的实时状态信息以及下一个优化周期的通行相位绿灯起止时刻，判定车辆CPS在下一个优化周期的通行状态；计算交叉口CPS的单位时间车均预计延误；优化交叉口CPS的信号配时方案；根据当前运行时间判断是否继续进行滚动优化。本发明通过建立面向交叉口信号控制的CPS架构，设计交叉口CPS的结构与组成功能，计算交叉口CPS控制范围内所有车辆CPS的预计延误，实现了CPS在交叉口信号配时方案滚动优化中的应用。
权利要求书clms
1.基于信息物理系统的单交叉口信号配时方案滚动优化方法，其特征在于，包括下述步骤：确定交叉口CPS的结构与组成功能；设定交叉口CPS各个进口方向的控制范围；计算车辆CPS驶离交叉口的理想时刻；采集车辆CPS的实时状态信息；根据车辆CPS的实时状态信息以及下一个优化周期的通行相位绿灯起止时刻，判定车辆CPS在下一个优化周期的通行状态；根据车辆CPS在下一个优化周期的通行状态，计算交叉口CPS的单位时间车均预计延误；优化交叉口CPS的信号配时方案，包括信号灯CPS信号周期时长与车队CPS通行相位时间；根据当前运行时间判断是否继续进行滚动优化，若未达到设定的最大运行时间，则重新采集车辆CPS的实时状态信息，进行下一轮滚动优化；若达到设定的最大运行时间，则结束滚动优化。2.根据权利要求1所述的基于信息物理系统的单交叉口信号配时方案滚动优化方法，其特征在于，所述确定交叉口CPS的结构与组成功能，具体为：根据CPS的体系架构，将交叉口CPS分为单元级CPS、子系统级CPS和系统级CPS；所述单元级CPS包括车辆CPS、检测器CPS，用于将检测到的实时状态信息，包括基础状态信息和动态时变信息进行上传，并接收子系统级CPS的实时控制信息；所述子系统级CPS包括进口道CPS、车队CPS、信号灯CPS，用于采集与处理进口路段信息和信号配时参数，通过整合单元级CPS的实时状态信息，将进口路段信息实时上传至系统级CPS，并接收系统级CPS实时下发的信号配时参数，实现对单元级CPS运行状态的控制；所述系统级CPS即交叉口CPS，用于根据接收到的实时状态信息，计算交叉口的单位时间车均预计延误，并生成交叉口的信号配时方案，再将信号配时参数实时下发给子系统级CPS。3.根据权利要求1所述的基于信息物理系统的单交叉口信号配时方案滚动优化方法，其特征在于，所述设定交叉口CPS各个进口方向的控制范围，具体为：根据各个进口方向的路段长度与车辆CPS在最大信号周期内可通行的距离，计算交叉口CPS各个进口方向的控制范围，如下式：LCd＝min式中，LCd为交叉口进口方向d的控制边界到停车线的距离；Ld为交叉口进口方向d的路段长度；vDd为交叉口进口方向d的路段设计车速；Cmax为最大信号周期时长。4.根据权利要求1所述的基于信息物理系统的单交叉口信号配时方案滚动优化方法，其特征在于，所述计算车辆CPS驶离交叉口的理想时刻，计算方法具体为：当车辆CPS进入控制范围时，根据车辆CPS的进入时刻与路段正常行驶速度，计算车辆CPS驶离交叉口的理想时刻，如下式：/＞式中，TIk为车辆CPS k驶离交叉口的理想时刻；T0k为车辆CPS k进入控制范围的时刻；L0k为车辆CPS k进入控制范围时距离交叉口停车线的长度；vk为车辆CPS k的正常行驶速度。5.根据权利要求1所述的基于信息物理系统的单交叉口信号配时方案滚动优化方法，其特征在于，所述车辆CPS的实时状态信息，包括控制范围各个车辆CPS与交叉口停车线的距离、前方排队车辆CPS数、正常行驶速度以及所在车道饱和流量。6.根据权利要求1所述的基于信息物理系统的单交叉口信号配时方案滚动优化方法，其特征在于，所述根据车辆CPS的实时状态信息以及下一个优化周期的通行相位绿灯起止时刻，判定车辆CPS在下一个优化周期的通行状态，具体为：当车辆CPS k在第i个优化周期的通行相位绿灯时间能够清空前面的排队车辆CPS，且能够在第i个优化周期的通行相位绿灯结束前到达停车线，则车辆CPS k能够在第i个优化周期驶离交叉口，其通行状态变量取1；当车辆CPS k在第i个优化周期的通行相位绿灯时间不能清空前面的排队车辆CPS，或者不能在第i个优化周期的通行相位绿灯结束前到达停车线，则车辆CPS k不能在第i个优化周期驶离交叉口，其通行状态变量取0，如下式：式中，Sk为车辆CPS k在第i个优化周期的通行状态变量；NQVk为车辆CPS k在第i个优化周期开始时的前方排队车辆CPS数；qSk为车辆CPS k所在车道的饱和流量；tGVk为车辆CPS k在第i个优化周期的通行相位绿灯时间；T0为第i个优化周期开始时刻；Lk为车辆CPS k在第i个优化周期开始时距离交叉口停车线的长度；vk为车辆CPS k的正常行驶速度；TGVk为车辆CPS k在第i个优化周期的通行相位绿灯启亮时刻。7.根据权利要求1所述的基于信息物理系统单交叉口信号配时方案滚动优化方法，其特征在于，所述计算交叉口CPS的单位时间车均预计延误，具体步骤为：S601、根据车辆CPS通行状态计算预计延误，计算方法具体为：针对车辆CPS k的通行状态，根据车辆CPS k驶离交叉口的理想时刻，计算其在第i个优化周期结束时的预计延误，如下式：式中，tDVk为车辆CPS k在第i个优化周期结束时的预计延误；TGVk为车辆CPS k在第i个优化周期的通行相位绿灯启亮时刻；NQVk为车辆CPS k在第i个优化周期开始时的前方排队车辆CPS数；qSk为车辆CPS k所在车道的饱和流量；T0为第i个优化周期开始时刻；TIk为车辆CPS k驶离交叉口的理想时刻；Sk为车辆CPS k在第i个优化周期的通行状态变量；C为第i个优化周期的信号周期时长；S602、根据车辆CPS的预计延误，计算车队CPS的车均预计延误，计算方法具体为：同一进口相同流向的车辆CPS构成一个车队CPS，车队CPS的车均预计延误为所包含的车辆CPS预计延误的平均值，如下式：式中，tDFl为第i个优化周期车队CPS l的车均预计延误；NQFl为第i个优化周期车队CPS l的车辆CPS总数；SVl为车队CPS l包含的车辆CPS集合；S603、根据车队CPS的车均预计延误，计算交叉口CPS的单位时间车均预计延误，计算方法具体为：交叉口CPS包含多个车队CPS，交叉口CPS的单位时间车均预计延误为单位时间内所包含的车队CPS车均预计延误的加权平均值，如下式：式中，tDI为第i个优化周期交叉口CPS的单位时间车均预计延误；SF为第i个优化周期交叉口CPS包含的车队CPS集合。8.根据权利要求1所述的基于信息物理系统的单交叉口信号配时方案滚动优化方法，其特征在于，交叉口CPS在每一个信号相位结束时对下一个信号周期的交叉口信号配时方案进行实时滚动优化，所述优化交叉口CPS的信号配时方案，具体步骤为：S701、确定信号灯CPS信号周期时长优化范围，方法具体如下：交叉口CPS的各进口方向信号灯CPS的信号周期时长C相同，其值为第i个优化周期所包含的所有信号相位时间之和，如下式：式中，j为信号相位编号；m为信号相位总数；tPj为第i个优化周期信号相位j的时间；tGPj为第i个优化周期信号相位j的绿灯时间；tLPj为第i个优化周期信号相位j的损失时间；每个优化周期设置的信号周期时长C不小于最小信号周期时长Cmin，且不大于最大信号周期时长Cmax，如下式：Cmin≤C≤Cmax已执行的连续m个信号相位构成一个实际信号周期时长C*，即信号灯CPS的实际信号周期时长，第n个实际周期的信号周期时长C*等于从第n个到第n+m-1个已执行的信号相位时间之和，不小于最小信号周期时长Cmin，且不大于最大信号周期时长Cmax，如下式：式中，为第i个已执行的信号相位时间；S702、确定车队CPS通行相位时间，方法具体如下：第i个优化周期分配给车队CPS l的通行相位时间tFl大于等于其所需的最短通行时间，如下式：tFl＝tGFl+tLl＝λl·C+tLl≥tGminl式中，tGFl为第i个优化周期分配给车队CPS l的通行相位绿灯时间；tLl为第i个优化周期车队CPS l的通行相位损失时间；λl为第i个优化周期分配给车队CPS l的通行相位绿信比；tGminl为车队CPS l所需的最短通行时间；在一个优化周期内，同一个车队CPS中所有车辆CPS对应相同的通行相位绿灯时间，等于所在车队CPS的通行相位绿灯时间，如下式：在一个优化周期内，车队CPS获得的通行相位时间等于其获得通行权的信号相位时间之和，如下式：式中，SPl为车队CPS l获得通行权的信号相位集合；S703、确定交叉口CPS的优化目标，方法具体如下：在每次优化周期中以交叉口CPS的单位时间车均预计延误最小为目标，如下式：Z＝min)式中，Z为第i个优化周期的交叉口CPS优化目标。
说明书desc
技术领域本发明属于信息物理系统和交通信号控制的技术领域，具体涉及一种基于信息物理系统的单交叉口信号配时方案滚动优化方法。背景技术信号交叉口是城市路网的关键节点，对城市交通运行效率具有至关重要的影响。目前单交叉口信号控制方式主要包括定时控制、感应控制和智能控制，其中定时控制作为最基础的单交叉口信号控制方法，应用较为广泛，但其仅适用于流量变化较为规律的交叉口，无法应对流量变化频繁且不稳定的情形；感应控制则能够根据采集到的交通流量数据，对交叉口信号配时参数进行实时调整，但其主要关注于到达交叉口停车线附近的部分车辆，难以优化整个交叉口的通行效率；智能控制则可以面对流量变化复杂的交叉口，通过感知交叉口全域内的车辆运行信息，采取能够适应不同流量变化的智能优化方法，提升单交叉口信号配时优化方案的整体运行效果。现代城市交通系统是一个典型的信息物理系统，具有显著的工程复杂性和社会复杂性，呈现出动态性、开放性、交互性、自主性等特征。现有相关研究多关注于数据检测、路径决策、通信干扰等技术，如何将CPS理论框架和交通信号控制方法进行有机融合，通过对交通系统的信息域与物理域进行高度集成，利用实时感知信息建立一套具有自主调节与实时控制功能的交叉口信号控制系统，实现对交叉口信号配时方案的实时滚动优化，具有重要的研究价值与现实意义。发明内容本发明的主要目的在于针对现有单交叉口信号配时优化方法较少考虑各进口上游驶入车辆的不足，提供一种基于信息物理系统的单交叉口信号配时方案滚动优化方法，通过建立一种面向交叉口信号控制的信息物理系统架构，实时获取交叉口控制范围内的车辆运动状态信息，计算不同信号配时方案下所有车辆的通行状态及预计延误，以实现单交叉口信号配时方案的滚动优化。为了达到上述目的，本发明采用以下技术方案：本发明的一个方面，提供了一种基于信息物理系统的单交叉口信号配时方案滚动优化方法，包括下述步骤：确定交叉口CPS的结构与组成功能；设定交叉口CPS各个进口方向的控制范围；计算车辆CPS驶离交叉口的理想时刻；采集车辆CPS的实时状态信息；根据车辆CPS的实时状态信息以及下一个优化周期的通行相位绿灯起止时刻，判定车辆CPS在下一个优化周期的通行状态；根据车辆CPS在下一个优化周期的通行状态，计算交叉口CPS的单位时间车均预计延误；优化交叉口CPS的信号配时方案，包括信号灯CPS信号周期时长与车队CPS通行相位时间；根据当前运行时间判断是否继续进行滚动优化，若未达到设定的最大运行时间，则重新采集车辆CPS的实时状态信息，进行下一轮滚动优化；若达到设定的最大运行时间，则结束滚动优化。作为优选的技术方案，所述确定交叉口CPS的结构与组成功能，具体为：根据CPS的体系架构，将交叉口CPS分为单元级CPS、子系统级CPS和系统级CPS；所述单元级CPS包括车辆CPS、检测器CPS，用于将检测到的实时状态信息，包括基础状态信息和动态时变信息进行上传，并接收子系统级CPS的实时控制信息；所述子系统级CPS包括进口道CPS、车队CPS、信号灯CPS，用于采集与处理进口路段信息和信号配时参数，通过整合单元级CPS的实时状态信息，将进口路段信息实时上传至系统级CPS，并接收系统级CPS实时下发的信号配时参数，实现对单元级CPS运行状态的控制；所述系统级CPS即交叉口CPS，用于根据接收到的实时状态信息，计算交叉口的单位时间车均预计延误，并生成交叉口的信号配时方案，再将信号配时参数实时下发给子系统级CPS。作为优选的技术方案，所述设定交叉口CPS各个进口方向的控制范围，具体为：根据各个进口方向的路段长度与车辆CPS在最大信号周期内可通行的距离，计算交叉口CPS各个进口方向的控制范围，如下式：LCd＝min式中，LCd为交叉口进口方向d的控制边界到停车线的距离；Ld为交叉口进口方向d的路段长度；vDd为交叉口进口方向d的路段设计车速；Cmax为最大信号周期时长。作为优选的技术方案，所述计算车辆CPS驶离交叉口的理想时刻，计算方法具体为：当车辆CPS进入控制范围时，根据车辆CPS的进入时刻与路段正常行驶速度，计算车辆CPS驶离交叉口的理想时刻，如下式：式中，TIk为车辆CPS k驶离交叉口的理想时刻；T0k为车辆CPS k进入控制范围的时刻；L0k为车辆CPS k进入控制范围时距离交叉口停车线的长度；vk为车辆CPS k的正常行驶速度。作为优选的技术方案，所述车辆CPS的实时状态信息，包括控制范围各个车辆CPS与交叉口停车线的距离、前方排队车辆CPS数、正常行驶速度以及所在车道饱和流量。作为优选的技术方案，所述根据车辆CPS的实时状态信息以及下一个优化周期的通行相位绿灯起止时刻，判定车辆CPS在下一个优化周期的通行状态，具体为：当车辆CPS k在第i个优化周期的通行相位绿灯时间可以清空前面的排队车辆CPS，且能够在第i个优化周期的通行相位绿灯结束前到达停车线，则车辆CPS k能够在第i个优化周期驶离交叉口，其通行状态变量取1；当车辆CPS k在第i个优化周期的通行相位绿灯时间不能清空前面的排队车辆CPS，或者不能在第i个优化周期的通行相位绿灯结束前到达停车线，则车辆CPS k不能在第i个优化周期驶离交叉口，其通行状态变量取0，如下式：式中，Sk为车辆CPS k在第i个优化周期的通行状态变量；NQVk为车辆CPS k在第i个优化周期开始时的前方排队车辆CPS数；qSk为车辆CPS k所在车道的饱和流量；tGVk为车辆CPS k在第i个优化周期的通行相位绿灯时间；T0为第i个优化周期开始时刻；Lk为车辆CPS k在第i个优化周期开始时距离交叉口停车线的长度；vk为车辆CPS k的正常行驶速度；TGVk为车辆CPS k在第i个优化周期的通行相位绿灯启亮时刻。作为优选的技术方案，所述计算交叉口CPS的单位时间车均预计延误，具体步骤为：S601、根据车辆CPS通行状态计算预计延误，计算方法具体为：针对车辆CPS k的通行状态，根据车辆CPS k驶离交叉口的理想时刻，计算其在第i个优化周期结束时的预计延误，如下式：式中，tDVk为车辆CPS k在第i个优化周期结束时的预计延误；TGVk为车辆CPSk在第i个优化周期的通行相位绿灯启亮时刻；NQVk为车辆CPS k在第i个优化周期开始时的前方排队车辆CPS数；qSk为车辆CPS k所在车道的饱和流量；T0为第i个优化周期开始时刻；TIk为车辆CPS k驶离交叉口的理想时刻；Sk为车辆CPS k在第i个优化周期的通行状态变量；C为第i个优化周期的信号周期时长；S602、根据车辆CPS的预计延误，计算车队CPS的车均预计延误，计算方法具体为：同一进口相同流向的车辆CPS构成一个车队CPS，车队CPS的车均预计延误为所包含的车辆CPS预计延误的平均值，如下式：式中，tDFl为第i个优化周期车队CPS l的车均预计延误；NQFl为第i个优化周期车队CPS l的车辆CPS总数；SVl为车队CPS l包含的车辆CPS集合；S603、根据车队CPS的车均预计延误，计算交叉口CPS的单位时间车均预计延误，计算方法具体为：交叉口CPS包含多个车队CPS，交叉口CPS的单位时间车均预计延误为单位时间内所包含的车队CPS车均预计延误的加权平均值，如下式：/＞式中，tDI为第i个优化周期交叉口CPS的单位时间车均预计延误；SF为第i个优化周期交叉口CPS包含的车队CPS集合。作为优选的技术方案，交叉口CPS在每一个信号相位结束时对下一个信号周期的交叉口信号配时方案进行实时滚动优化，所述优化交叉口CPS的信号配时方案，具体步骤为：S701、确定信号灯CPS信号周期时长优化范围，方法具体如下：交叉口CPS的各进口方向信号灯CPS的信号周期时长C相同，其值为第i个优化周期所包含的所有信号相位时间之和，如下式：式中，j为信号相位编号；m为信号相位总数；tPj为第i个优化周期信号相位j的时间；tGPj为第i个优化周期信号相位j的绿灯时间；tLPj为第i个优化周期信号相位j的损失时间；每个优化周期设置的信号周期时长C不小于最小信号周期时长Cmin，且不大于最大信号周期时长Cmax，如下式：Cmin≤C≤Cmax已执行的连续m个信号相位构成一个实际信号周期时长C*，即信号灯CPS的实际信号周期时长，第n个实际周期的信号周期时长C*等于从第n个到第n+m-1个已执行的信号相位时间之和，不小于最小信号周期时长Cmin，且不大于最大信号周期时长Cmax，如下式：式中，为第i个已执行的信号相位时间；S702、确定车队CPS通行相位时间，方法具体如下：第i个优化周期分配给车队CPS l的通行相位时间tFl大于等于其所需的最短通行时间，如下式：tFl＝tGFl+tLl＝λl·C+tLl≥tGminl式中，tGFl为第i个优化周期分配给车队CPS l的通行相位绿灯时间；tLl为第i个优化周期车队CPS l的通行相位损失时间；λl为第i个优化周期分配给车队CPS l的通行相位绿信比；tGminl为车队CPS l所需的最短通行时间；在一个优化周期内，同一个车队CPS中所有车辆CPS对应相同的通行相位绿灯时间，等于所在车队CPS的通行相位绿灯时间，如下式：在一个优化周期内，车队CPS获得的通行相位时间等于其获得通行权的信号相位时间之和，如下式：式中，SPl为车队CPS l获得通行权的信号相位集合；S703、确定交叉口CPS的优化目标，方法具体如下：在每次优化周期中以交叉口CPS的单位时间车均预计延误最小为目标，如下式：Z＝min)式中，Z为第i个优化周期的交叉口CPS优化目标。本发明与现有技术相比，具有如下优点和有益效果：本发明建立了一种面向交叉口信号控制的信息物理系统架构，设计了交叉口CPS的结构与组成功能，利用信息物理系统的实时交互与反馈优化特点，实现了信息物理系统在交叉口信号配时方案优化中的应用。本发明提出了一种单交叉口信号配时方案滚动优化方法，能够在每一个信号相位结束时实现对下一个信号周期的滚动优化，可以提高单交叉口信号配时方案的优化效率，获得较为理想的实时控制效果。本发明既考虑了交叉口CPS控制范围内所有车辆CPS在下一个优化周期结束时的预计延误，能够保证优化方案的整体性，也考虑了交叉口CPS不同优化周期时长对车均预计延误的影响，能够保证优化方案的合理性。附图说明图1是本发明实施例基于信息物理系统的单交叉口信号配时方案滚动优化方法的流程图；图2是本发明实施例交叉口CPS的体系架构示意图；图3是本发明实施例优化周期与实际周期的信号周期时长关系示意图；图4是本发明实施例单元级车辆CPS的预计延误计算示意图；图5是本发明实施例交叉口CPS各个优化周期的车均预计延误趋势图；图6是本发明实施例各信号周期时长的实际车均延误对比图。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述。显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。实施例以某个十字信号交叉口作为实施例，已知各方向均为双向两车道，东、西、南、北四个进口道路段长度分别为870、820、960、880m，正常行驶速度为45km/h；交叉口各进口方向均采用单独放行相位，相位执行顺序为东进口、西进口、南进口、北进口，各信号相位的最小绿灯时间均设为10s，相位损失时间为5s，信号周期时长的优化范围为s。各进口方向的交通流量如表1所示，总的运行时间取为4000s，其中前400s各进口方向均以15s的相位绿灯时间进行预热控制，后3600s利用本发明方法进行信号配时方案优化。进口方向东进口西进口南进口北进口直行流量265316326259左转流量44323767右转流量11121714总流量320360380340表1.各进口方向的交通流量如图1所示，本实施例提供了一种基于信息物理系统的单交叉口信号配时方案滚动优化方法，包括以下步骤：步骤S1、确定交叉口信息物理系统的结构与组成功能。根据CPS的体系架构，构建实施例的交叉口CPS架构，如图2所示，将交叉口CPS自下而上分为单元级CPS、子系统级CPS和系统级CPS。单元级CPS包括车辆CPS、检测器CPS，主要负责将检测到的实时状态信息，包括基础状态信息和动态时变信息进行上传，并接收子系统级CPS的实时控制信息。子系统级CPS包括进口道CPS、车队CPS、信号灯CPS，主要负责采集与处理进口路段信息和信号配时参数，通过整合单元级CPS的实时状态信息，将进口路段信息实时上传至系统级CPS，并接收系统级CPS实时下发的信号配时参数，实现对单元级CPS运行状态的控制。系统级CPS即交叉口CPS，主要根据接收到的实时状态信息，计算交叉口的单位时间车均预计延误，并生成交叉口的信号配时方案，再将信号配时参数实时下发给子系统级CPS。步骤S2、设定交叉口CPS各个进口方向的控制范围。根据各个进口方向的路段长度与车辆CPS在最大信号周期内可通行的距离，计算交叉口CPS各个进口方向的控制范围，如下式所示。LCd＝min 式中，LCd为交叉口进口方向d的控制边界到停车线的距离；Ld为交叉口进口方向d的路段长度；vDd为交叉口进口方向d的路段设计车速；Cmax为最大信号周期时长。在此，计算得到东、西、南、北四个进口方向的控制范围分别为870、820、960、880m，即为各进口方向的路段长度。步骤S3、计算车辆CPS驶离交叉口的理想时刻。当车辆CPS进入控制范围时，根据车辆CPS的进入时刻与路段正常行驶速度，计算车辆CPS驶离交叉口的理想时刻，如下式所示。式中，TIk为车辆CPS k驶离交叉口的理想时刻；T0k为车辆CPS k进入控制范围的时刻；L0k为车辆CPS k进入控制范围时距离交叉口停车线的长度；vk为车辆CPS k的正常行驶速度。步骤S4、采集车辆CPS的实时状态信息，主要包括控制范围各个车辆CPS与交叉口停车线的距离、前方排队车辆CPS数、正常行驶速度以及所在车道饱和流量。当预热时间结束即第一个优化周期开始时，以东、西、南、北各个进口的最后一个车辆CPS为例，检测器CPS采集到其与交叉口停车线的距离分别为870、820、960、880m，前方排队车辆CPS数分别为13、13、13、8辆，正常行驶速度均为45km/h，其所在单车道饱和流量均为1800pcu/h。步骤S5、判定车辆CPS在下一个优化周期的通行状态。当前信号相位结束时，根据车辆CPS与交叉口停车线的距离、前方排队车辆CPS数、正常行驶速度、所在车道饱和流量以及下一个优化周期的通行相位绿灯起止时刻，计算车辆CPS在下一个优化周期的通行状态。当车辆CPS k在第i个优化周期的通行相位绿灯时间可以清空前面的排队车辆CPS，且能够在第i个优化周期的通行相位绿灯结束前到达停车线，则车辆CPS k可以在第i个优化周期驶离交叉口，其通行状态变量取1；当车辆CPS k在第i个优化周期的通行相位绿灯时间不能清空前面的排队车辆CPS，或者不能在第i个优化周期的通行相位绿灯结束前到达停车线，则车辆CPS k不能在第i个优化周期驶离交叉口，其通行状态变量取0。具体判断准则如下式所示。式中，Sk为车辆CPS k在第i个优化周期的通行状态变量；NQVk为车辆CPS k在第i个优化周期开始时的前方排队车辆CPS数；qSk为车辆CPS k所在车道的饱和流量；tGVk为车辆CPS k在第i个优化周期的通行相位绿灯时间；T0为第i个优化周期开始时刻；Lk为车辆CPS k在第i个优化周期开始时距离交叉口停车线的长度；TGVk为车辆CPS k在第i个优化周期的通行相位绿灯启亮时刻。根据以上判断准则，统计第一个优化周期各进口方向车辆CPS通行情况如下表2所示。进口方向东进口西进口南进口北进口可通行车辆CPS数89108不可通行车辆CPS数6541车辆CPS总数1414149表2.第一个优化周期各进口方向车辆CPS通行情况统计步骤S6、计算交叉口CPS的单位时间车均预计延误。S601、根据车辆CPS通行状态计算预计延误；针对车辆CPS k的通行状态，根据车辆CPS k驶离交叉口的理想时刻，计算其在第i个优化周期结束时的预计延误，如下式所示。以西进口车辆CPS k为例，分析其在各种通行状态下的预计延误计算过程如图4所示，其中子图a)为车辆CPS排队后驶离的情形；子图b)为车辆CPS未排队后驶离的情形；子图c)为车辆CPS排队未驶离的情形；子图d)为车辆CPS未排队未驶离的情形。式中，tDVk为车辆CPS k在第i个优化周期结束时的预计延误；C为第i个优化周期的信号周期时长。S602、根据车辆CPS的预计延误，计算车队CPS的车均预计延误；同一进口相同流向的车辆CPS构成一个车队CPS，车队CPS的车均预计延误为所包含的车辆CPS预计延误的平均值，如下式所示。式中，tDFl为第i个优化周期车队CPS l的车均预计延误；NQFl为第i个优化周期车队CPS l的车辆CPS总数；SVl为车队CPS l包含的车辆CPS集合。S603、根据车队CPS的车均预计延误，计算交叉口CPS的单位时间车均预计延误；交叉口CPS包含多个车队CPS，交叉口CPS的单位时间车均预计延误为单位时间内所包含的车队CPS车均预计延误的加权平均值，如下式所示。式中，tDI为第i个优化周期交叉口CPS的单位时间车均预计延误；SF为第i个优化周期交叉口CPS包含的车队CPS集合。步骤S7、优化交叉口CPS的信号配时方案。交叉口CPS在每一个信号相位结束时对下一个信号周期的交叉口信号配时方案进行实时滚动优化。S701、确定信号灯CPS信号周期时长优化范围；交叉口CPS的各进口方向信号灯CPS的信号周期时长C相同，其值为第i个优化周期所包含的所有信号相位时间之和，如下式所示。式中，j为信号相位编号；m为信号相位总数；tPj为第i个优化周期信号相位j的时间；tGPj为第i个优化周期信号相位j的绿灯时间；tLPj为第i个优化周期信号相位j的损失时间。过长或过短的信号周期时长都不利于对交叉口CPS进行优化控制，因此，每个优化周期设置的信号周期时长C应不小于最小信号周期时长Cmin，且不大于最大信号周期时长Cmax，如下式所示。Cmin≤C≤Cmax 如图3所示，已执行的连续m个信号相位将构成一个实际信号周期时长C*，即信号灯CPS的实际信号周期时长，第n个实际周期的信号周期时长C*等于从第n个到第n+m-1个已执行的信号相位时间之和，同样应不小于最小信号周期时长Cmin，且不大于最大信号周期时长Cmax，如下式所示。式中，为第i个已执行的信号相位时间。S702、确定车队CPS通行相位时间；为满足车流通行的基本需求，第i个优化周期分配给车队CPS l的通行相位时间tFl应大于等于其所需的最短通行时间，如下式所示。tFl＝tGFl+tLl＝λl·C+tLl≥tGminl 式中，tGFl为第i个优化周期分配给车队CPS l的通行相位绿灯时间；tLl为第i个优化周期车队CPS l的通行相位损失时间；λl为第i个优化周期分配给车队CPS l的通行相位绿信比；tGminl为车队CPS l所需的最短通行时间。在一个优化周期内，同一个车队CPS中所有车辆CPS对应相同的通行相位绿灯时间，等于所在车队CPS的通行相位绿灯时间，如下式所示。在一个优化周期内，车队CPS获得的通行相位时间等于其获得通行权的信号相位时间之和，如下式所示。式中，SPl为车队CPS l获得通行权的信号相位集合。S703、确定交叉口CPS的优化目标；为使交叉口CPS的总车均延误最小，在每次优化周期中以交叉口CPS的单位时间车均预计延误最小为目标，如下式所示。Z＝min) 式中，Z为第i个优化周期的交叉口CPS优化目标。例如，优化得到第1个优化周期的信号周期时长为84s，交叉口东、西、南、北各个进口方向的通行相位时间分别为19、21、23、21s，对应的交叉口CPS单位时间车均预计延误为0.24。S8、根据当前运行时间判断是否继续进行滚动优化，若未达到设定的最大运行时间则转到S4，进行下一轮滚动优化；若达到设定的最大运行时间则结束滚动优化。经过不断的滚动优化，本发明方法优化后的平均信号周期时长为82.4s，如图5所示，各个优化周期单位时间车均预计延误的平均值为0.22，整体单位时间车均预计延误在平均值附近波动，趋势较为稳定。为验证本发明方法优化方案的优越性与合理性，以70s、80s、90s、100s、110s、120s、130s、140s、150s、160s、170s和180s分别为信号周期时长进行定时信号配时方案对比。各定时信号配时方案根据流量比设定各个进口方向的绿信比，在相同运行时间下，计算各个方案的实际车均延误结果如图6所示。由图6可见，本发明方法优化方案实际车均延误为27.93s，优于其它所有定时信号配时方案，取得了较好的优化效果。应当理解，本申请的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件或固件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或他们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列，现场可编程门阵列等。上述实施例为本发明较佳的实施方式，但本发明的实施方式并不受上述实施例的限制，其他的任何未背离本发明的精神实质与原理下所作的改变、修饰、替代、组合、简化，均应为等效的置换方式，都包含在本发明的保护范围之内。
