标题title
一种超声波或电波实现任意移相值的移相方法及系统
摘要abst
本发明涉及信号处理技术领域，具体涉及一种超声波或电波实现任意移相值的移相系统及方法。本发明硬件易实现，所有芯片和器件可以一体化实现，尺寸小且稳定可靠；能对任意频率的模拟信号进行移相，带宽远超传统方法；移相由MCU控制，控制方便，能进行精细移相，弥补了传统方法中相位调节范围有限、调节过程复杂且精度不高的不足。
权利要求书clms
1.一种超声波或电波实现任意移相值的移相方法，其特征在于，包括以下步骤：步骤1，MCU芯片接收上位机传输的N个移相角度；步骤2，MCU芯片分别计算第i个移相角度的余弦值和正弦值，并将余弦值和正弦值在数字输出信号的范围内进行线性映射，将映射后的值输出至第i个数模转换器；其中，i＝1,2,…,N；步骤3，第i个数模转换器将余弦值和正弦值分别转换为I路模拟信号和Q路模拟信号，并输出至第i个正交调制器；步骤4，第i个正交调制器根据输入的I路模拟信号和Q路模拟信号对未移相超声波或电波信号进行正交调制，得到第i个已移相超声波或电波信号并输出。2.根据权利要求1所述的超声波或电波实现任意移相值的移相方法，其特征在于，进行线性映射，具体的，定义MCU芯片输出的数字信号最高位为符号位，其数字信号范围为；将余弦值或正弦值在内的值映射为-P+k，其中k∈；将余弦值或正弦值在内的值映射为0；将余弦值或正弦值在内的值映射为j，其中j∈。3.一种超声波或电波实现任意移相值的移相系统，其特征在于，包括MCU芯片、多个数模转换器和多个正交调制器，数模转换器与正交调制器的数量相同；MCU芯片用于接收上位机传输的移相角度，并分别计算该移相角度的余弦值和正弦值并输出；数模转换器包含数字信号输入端、I路模拟信号输出端和Q路模拟信号输出端；数模转换器用于将输入的数字信号转换为模拟信号并输出；正交调制器包含I路模拟信号输入端、Q路模拟信号输入端、未移相超声波或电波信号输入端和已移相超声波或电波信号输出端；正交调制器用于对未移相超声波或电波信号进行正交调制，得到移相后的超声波或电波信号并输出；MCU芯片分别与每个数模转换器的数字信号输入端连接；数模转换器的I路模拟信号输出端和Q路模拟信号输出端分别与正交调制器的I路模拟信号输入端、Q路模拟信号输入端连接；数模转换器与正交调制器一一对应连接。
说明书desc
技术领域本发明涉及信号处理技术领域，具体涉及一种超声波或电波实现任意移相值的移相方法及系统。背景技术在实际应用中，经常需要对超声波和电波进行移相，尤其在相控阵雷达和相控阵超声信号处理和控制中，信号的移相设备成为必不可少的部分，并决定了系统的性能。当前，普遍采用的移相方法有延迟线/仿真线和介质移相，还有其他一些数字方法，通过调节信号经过的路径长度或介质的参数实现频带信号的相位调节。但现有的移相方法只能实现窄带信号的移相，且只能实现有限范围内的相位调节，而且调节相位过程复杂。发明内容针对现有技术中存在的问题，本发明的目的在于提供一种超声波或电波实现任意移相值的移相方法及系统。为了达到上述目的，本发明采用以下技术方案予以实现。一种超声波或电波实现任意移相值的移相方法，包括以下步骤：步骤1，MCU芯片接收上位机传输的N个移相角度；步骤2，MCU芯片分别计算第i个移相角度的余弦值和正弦值，并将余弦值和正弦值在数字输出信号的范围内进行线性映射，将映射后的值输出至第i个数模转换器；其中，i＝1,2,…,N；步骤3，第i个数模转换器将余弦值和正弦值分别转换为I路模拟信号和Q路模拟信号，并输出至第i个正交调制器；步骤4，第i个正交调制器根据输入的I路模拟信号和Q路模拟信号对未移相超声波或电波信号进行正交调制，得到第i个已移相超声波或电波信号并输出。一种超声波或电波实现任意移相值的移相系统，包括MCU芯片、多个数模转换器和多个正交调制器，数模转换器与正交调制器的数量相同；MCU芯片用于接收上位机传输的移相角度，并分别计算该移相角度的余弦值和正弦值并输出；数模转换器包含数字信号输入端、I路模拟信号输出端和Q路模拟信号输出端；数模转换器用于将输入的数字信号转换为模拟信号并输出；正交调制器包含I路模拟信号输入端、Q路模拟信号输入端、未移相模拟信号输入端和已移相超声波或电波信号输出端；正交调制器用于对未移相超声波或电波信号进行正交调制，得到移相后的超声波或电波信号并输出；MCU芯片分别与每个数模转换器的数字信号输入端连接；数模转换器的I路模拟信号输出端和Q路模拟信号输出端分别与正交调制器的I路模拟信号输入端、Q路模拟信号输入端连接；数模转换器与正交调制器一一对应连接。与现有技术相比，本发明的有益效果为：本发明方法能对任意频率的超声波或电波信号进行移相，带宽远超传统方法；移相由MCU控制，控制方便，能进行精细移相，弥补了传统方法中相位调节范围有限、调节过程复杂且精度不高的不足。本发明系统硬件易实现，所有芯片和器件可以一体化实现，尺寸小且稳定可靠。附图说明下面结合附图和具体实施例对本发明做进一步详细说明。图1为本发明系统的整体框图。具体实施方式下面将结合实施例对本发明的实施方案进行详细描述，但是本领域的技术人员将会理解，下列实施例仅用于说明本发明，而不应视为限制本发明的范围。对信号进行移相时，上位机根据未移相信号及数模转换器的分辨力得到关于该未移相信号的多个移相角度。一种超声波或电波实现任意移相值的移相方法，包括以下步骤：步骤1，MCU芯片接收上位机传输的N个移相角度；步骤2，MCU芯片分别计算第i个移相角度Δθi的余弦值cos和正弦值sin，并将余弦值cos和正弦值sin在数字输出信号的范围内进行线性映射，将映射后的值输出至第i个数模转换器；其中，i＝1,2,…,N；具体的，进行线性映射时，定义MCU芯片输出的数字信号最高位为符号位，其数字信号范围为；将余弦值或正弦值在内的值映射为-P+k，其中k∈；将余弦值或正弦值在内的值映射为0；将余弦值或正弦值在内的值映射为j，其中j∈。例如，如果MCU芯片输出的数字信号为8位，最高位为正负号，其数字信号范围为。对余弦值或正弦值进行线性映射时，将映射为-127；将映射为-126；…；将映射为0；…；将映射为126；将映射为127。步骤3，第i个数模转换器将余弦值cos和正弦值sin分别转换为I路模拟信号和Q路模拟信号，并输出至第i个正交调制器；步骤4，第i个正交调制器根据输入的I路模拟信号和Q路模拟信号对未移相超声波或电波信号进行正交调制，得到第i个已移相超声波或电波信号并输出。未移相超声波或电波信号为f＝cos，I路模拟信号为I＝cos，Q路模拟信号为I＝sin，则第i个已移相超声波或电波信号为：s＝I*cos+Q*sin＝cos*cos+sin*sin＝cos显然，已移相超声波或电波信号的相位比未移相超声波或电波信号的相位减少了Δθi，即完成了对第i个移相角度Δθi的移相。参考图1，一种超声波或电波实现任意移相值的移相系统，用于实现上述的移相方法，包括MCU芯片、多个数模转换器和多个正交调制器，数模转换器与正交调制器的数量相同；MCU芯片用于接收上位机传输的移相角度，并分别计算该移相角度的余弦值和正弦值并输出；数模转换器包含数字信号输入端、I路模拟信号输出端和Q路模拟信号输出端；数模转换器用于将输入的数字信号转换为模拟信号并输出；正交调制器包含I路模拟信号输入端、Q路模拟信号输入端、未移相超声波或电波信号输入端和已移相超声波或电波信号输出端；正交调制器用于对未移相的模拟信号进行正交调制，得到移相后的模拟信号并输出；MCU芯片分别与每个数模转换器的数字信号输入端连接；数模转换器的I路模拟信号输出端和Q路模拟信号输出端分别与正交调制器的I路模拟信号输入端、Q路模拟信号输入端连接；数模转换器与正交调制器一一对应连接。本系统理论上可以实现任意精度的信号移相，实际的移相精度取决于MCU芯片的计算精度和数模转换器的分辨力。由于目前MCU芯片的计算精度已经很高，故移相精度实际取决于所采用的数模转换器的分辨力。当采用8位数模转换器时，可实现28x28个移相值。采用10位数模转换器时，可实现210x210个移相值。采用12位数模转换器时，可实现212x212个移相值。采用N位数模转换器时，可实现2Nx2N个移相值。MCU芯片采用STM32F103ZET6，数模转换器采用AD5764，正交调制器采用ADL5385或LTC5598。系统采用的所有芯片和器件可以一体化设计，尺寸小，且稳定可靠。虽然，本说明书中已经用一般性说明及具体实施方案对本发明作了详尽的描述，但在本发明基础上，可以对之作一些修改或改进，这对本领域技术人员而言是显而易见的。因此，在不偏离本发明精神的基础上所做的这些修改或改进，均属于本发明要求保护的范围。
