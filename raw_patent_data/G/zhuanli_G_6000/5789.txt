标题title
频率偏差的确定方法、实时时钟的补偿方法及其系统
摘要abst
本发明涉及芯片技术领域，公开了一种频率偏差的确定方法、实时时钟的补偿方法及其系统。所述确定方法包括：根据芯片的晶振的多个温度采样点、在所述多个温度采样点下的多个频率偏差以及目标插值阶数，确定预设插值的相应系数，其中，所述多个温度采样点的数目同所述目标插值阶数与所述预设插值相关联；根据所述芯片的晶振的实时温度以及所述多个温度采样点，确定所述预设插值的分项数据；以及根据所述预设插值的相应系数与分项数据，确定所述芯片的晶振随温度变化的频率偏差。本发明可根据芯片不同应用场景对实时时钟的精度要求，灵活的设置预设插值的阶数，极大的优化了计算，提升了计算的效率和速度，节省了芯片的功耗和面积。
权利要求书clms
1.一种频率偏差的确定方法，其特征在于，所述确定方法包括：根据芯片的晶振的多个温度采样点、在所述多个温度采样点下的多个频率偏差以及目标插值阶数，确定预设插值的相应系数，其中，所述多个温度采样点的数目同所述目标插值阶数与所述预设插值相关联；根据所述芯片的晶振的实时温度以及所述多个温度采样点，确定所述预设插值的分项数据；以及根据所述预设插值的相应系数与分项数据，确定所述芯片的晶振随温度变化的频率偏差。2.根据权利要求1所述的确定方法，其特征在于，在所述预设插值为牛顿插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数加1，相应地，所述确定预设插值的相应系数包括：根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定所述牛顿插值的各阶差商值；以及根据所述牛顿插值的各阶差商值，确定所述牛顿插值的相应系数。3.根据权利要求2所述的确定方法，其特征在于，所述确定所述预设插值的分项数据包括：根据芯片的实时温度t以及所述多个温度采样点T0、T1、……、Tn-1，确定所述牛顿插值的分项数据：，其中，n为所述目标插值阶数。4.根据权利要求2或3所述的确定方法，其特征在于，所述确定所述牛顿插值的各阶差商值包括：根据温度采样点T0相对应的频率偏差，确定所述牛顿插值的零阶差商值；根据所述多个温度采样点T0、T1、……、Tn以及与其相对应的频率偏差、/＞、……/＞，确定所述牛顿插值的一阶差商值；以及根据所述多个温度采样点T0、T1、……、Tn以及所述牛顿插值的i阶差商值，确定所述牛顿插值的i+1阶差商值，其中，1≤i≤n且i为整数，n为所述目标插值阶数。5.根据权利要求4所述的确定方法，其特征在于，根据温度采样点T0相对应的频率偏差，确定所述牛顿插值的零阶差商值：；根据所述多个温度采样点T0、T1、……、Tn以及与其相对应的频率偏差、/＞、……/＞，确定所述牛顿插值的一阶差商值：；根据所述多个温度采样点T0、T1、……、Tn以及所述牛顿插值的一阶差商值，确定所述牛顿插值的二阶差商值：；根据所述多个温度采样点T0、T1、……、Tn以及所述牛顿插值的二阶差商值，确定所述牛顿插值的三阶差商值：；根据温度采样点T0、Tn以及所述牛顿插值的n-1阶差商值，确定所述牛顿插值的n阶差商值：。6.根据权利要求5所述的确定方法，其特征在于，所述确定所述牛顿插值的相应系数包括：将确定为所述牛顿插值的相应系数，相应地，所述确定所述芯片的晶振随温度变化的频率偏差包括：根据所述牛顿插值的相应系数与分项数据/＞，确定所述芯片的晶振随温度变化的频率偏差：。7.根据权利要求1所述的确定方法，其特征在于，在所述预设插值为埃尔米特插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数减1的相减结果的1/2，相应地，所述确定预设插值的相应系数包括：根据多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定逼近函数以及所述逼近函数的导数；根据所述逼近函数，确定所述埃尔米特插值的相应第一系数；以及根据所述逼近函数的导数，确定所述埃尔米特插值的相应第二系数。8.根据权利要求7所述的确定方法，其特征在于，所述确定逼近函数包括：根据温度采样点、与所述温度采样点相对应的频率偏差/＞以及目标插值阶数2+1，确定所述逼近函数：，其中，；所述确定所述埃尔米特插值的相应第一系数包括：将确定为所述埃尔米特插值的相应第一系数；以及所述确定所述埃尔米特插值的相应第二系数包括：将确定为所述埃尔米特插值的相应第二系数。9.根据权利要求8所述的确定方法，其特征在于，所述确定所述预设插值的分项数据包括：根据芯片的实时温度t以及温度采样点，确定差值函数/＞以及所述差值函数的导数；根据所述温度采样点、所述差值函数/＞以及所述差值函数的导数/＞，确定所述埃尔米特插值的第一分项数据/＞；以及根据芯片的实时温度t、所述温度采样点以及所述差值函数/＞，确定所述埃尔米特插值的第二分项数据/＞。10.根据权利要求9所述的确定方法，其特征在于，所述确定所述芯片的晶振随温度变化的频率偏差包括：所述埃尔米特插值的相应第一系数、相应第二系数/＞、第一分项数据以及第二分项数据/＞，确定所述芯片的晶振随温度变化的频率偏差：。11.一种实时时钟的补偿方法，其特征在于，所述补偿方法包括：根据权利要求1-10中任一项所述的频率偏差的确定方法，确定芯片的晶振随温度变化的频率偏差；以及根据所述频率偏差对所述实时时钟进行补偿。12.一种频率偏差的确定系统，其特征在于，所述确定系统包括：系数确定装置，用于根据芯片的晶振的多个温度采样点、在所述多个温度采样点下的多个频率偏差以及目标插值阶数，确定预设插值的相应系数，其中，所述多个温度采样点的数目同所述目标插值阶数与所述预设插值相关联；分项确定装置，用于根据所述芯片的晶振的实时温度以及所述多个温度采样点，确定所述预设插值的分项数据；以及频偏确定装置，用于根据所述预设插值的相应系数与分项数据，确定所述芯片的晶振随温度变化的频率偏差。13.根据权利要求12所述的确定系统，其特征在于，在所述预设插值为牛顿插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数加1，相应地，所述系数确定装置包括：差商确定模块，用于根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定所述牛顿插值的各阶差商值；以及第一系数确定模块，用于根据所述牛顿插值的各阶差商值，确定所述牛顿插值的相应系数。14.根据权利要求12所述的确定系统，其特征在于，在所述预设插值为埃尔米特插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数减1的相减结果的1/2，相应地，所述系数确定装置包括：函数确定模块，用于根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定逼近函数以及所述逼近函数的导数；第二系数确定模块，用于根据所述逼近函数，确定所述埃尔米特插值的相应第一系数；以及第三系数确定模块，用于根据所述逼近函数的导数，确定所述埃尔米特插值的相应第二系数。15.一种实时时钟的补偿系统，其特征在于，所述补偿系统包括：根据权利要求12-14中任一项所述的频率偏差的确定系统，用于确定芯片的晶振随温度变化的频率偏差；以及补偿装置，用于根据所述频率偏差对所述实时时钟进行补偿。16.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，该计算机程序被处理器执行时实现权利要求1-10中任一项所述的频率偏差的确定方法和/或权利要求11所述的实时时钟的补偿方法。17.一种芯片，其特征在于，用于执行计算机程序，该计算机程序被所述芯片执行时实现权利要求1-10中任一项所述的频率偏差的确定方法和/或权利要求11所述的实时时钟的补偿方法。
说明书desc
技术领域本发明涉及芯片技术领域，具体地涉及一种频率偏差的确定方法、实时时钟的补偿方法及其系统。背景技术随着国民经济的发展以及数字信号处理和芯片设计制造技术的进步，带有实时时钟的主控芯片或电能计量芯片得到广泛应用。实时时钟，是主控芯片或高精度计量芯片的核心组成部件。实时时钟基本功能是向系统提供时、分、秒、日历等时间信息以及定时、报警等功能。在系统掉电以后由备用电池供电，实时时钟应能继续保持片内时钟的正常精确运行。要完成精确的计时功能，必须有一个稳定的时钟源，用于生成精确的实时计时单位“秒”脉冲。在具备RTC功能的芯片应用中，采用外接晶振和谐振电路产生时钟源或者采用有源晶振以及采用芯片内部集成晶振是几种普遍的方式。晶振无论是有源或者无源晶振，无论是外部晶振还是内部晶振都有随着温度的改变导致频率改变的特性，且频率改变具有很强的非线性特性。为了实现输出精确的秒脉冲功能需要设计相应有效的补偿方法对晶振输出频率进行精确补偿。实时时钟的补偿功能作为主控芯片或计量芯片的必备功能，研究高精度的实时时钟的补偿方法具有重大的实际意义。现有的技术方案中，实时时钟的补偿可以采用模拟补偿和数字补偿方式，其中模拟补偿由热敏电阻组成温度补偿网路和电压控制晶体振荡器组成，这种补偿网路需要大量的高精度热敏电阻，导致芯片面积大、功耗高，另外由于电阻工艺的非线性无法实现高精度的频率补偿。数字方式多采用查找表的方式，这种方式需要较大的存储器，增加了芯片面积，另外由于查找表的很难逼近晶体的温度频率特性，此种方法精度较低。目前现有的技术方案都不能有效补偿晶振随温度的变化而改变的频率的特性。发明内容本发明的目的是提供一种频率偏差的确定方法、实时时钟的补偿方法及其系统，其可根据芯片不同应用场景对实时时钟的精度要求，灵活的设置预设插值的阶数，极大的优化了计算，提升了计算的效率和速度，节省了芯片的功耗和面积。为了实现上述目的，本发明一方面提供一种频率偏差的确定方法，所述确定方法包括：根据芯片的晶振的多个温度采样点、在所述多个温度采样点下的多个频率偏差以及目标插值阶数，确定预设插值的相应系数，其中，所述多个温度采样点的数目同所述目标插值阶数与所述预设插值相关联；根据所述芯片的晶振的实时温度以及所述多个温度采样点，确定所述预设插值的分项数据；以及根据所述预设插值的相应系数与分项数据，确定所述芯片的晶振随温度变化的频率偏差。优选地，在所述预设插值为牛顿插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数加1，相应地，所述确定预设插值的相应系数包括：根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定所述牛顿插值的各阶差商值；以及根据所述牛顿插值的各阶差商值，确定所述牛顿插值的相应系数。优选地，所述确定所述预设插值的分项数据包括：根据芯片的实时温度t以及所述多个温度采样点T0、T1、……、Tn-1，确定所述牛顿插值的分项数据：，其中，n为所述目标插值阶数。优选地，所述确定所述牛顿插值的各阶差商值包括：根据温度采样点T0相对应的频率偏差，确定所述牛顿插值的零阶差商值；根据所述多个温度采样点T0、T1、……、Tn以及与其相对应的频率偏差/＞、/＞、……/＞，确定所述牛顿插值的一阶差商值；以及根据所述多个温度采样点T0、T1、……、Tn以及所述牛顿插值的i阶差商值，确定所述牛顿插值的i+1阶差商值，其中，1≤i≤n且i为整数，n为所述目标插值阶数。优选地，根据温度采样点T0相对应的频率偏差，确定所述牛顿插值的零阶差商值：；根据所述多个温度采样点T0、T1、……、Tn以及与其相对应的频率偏差、、……/＞，确定所述牛顿插值的一阶差商值：；根据所述多个温度采样点T0、T1、……、Tn以及所述牛顿插值的一阶差商值，确定所述牛顿插值的二阶差商值：；根据所述多个温度采样点T0、T1、……、Tn以及所述牛顿插值的二阶差商值，确定所述牛顿插值的三阶差商值：；根据温度采样点T0、Tn以及所述牛顿插值的n-1阶差商值，确定所述牛顿插值的n阶差商值：。优选地，所述确定所述牛顿插值的相应系数包括：将确定为所述牛顿插值的相应系数，相应地，所述确定所述芯片的晶振随温度变化的频率偏差包括：根据所述牛顿插值的相应系数/＞与分项数据/＞，确定所述芯片的晶振随温度变化的频率偏差：。优选地，在所述预设插值为埃尔米特插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数减1的相减结果的1/2，相应地，所述确定预设插值的相应系数包括：根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定逼近函数以及所述逼近函数的导数；根据所述逼近函数，确定所述埃尔米特插值的相应第一系数；以及根据所述逼近函数的导数，确定所述埃尔米特插值的相应第二系数。优选地，所述确定逼近函数包括：根据温度采样点、与所述温度采样点相对应的频率偏差/＞以及目标插值阶数2+1，确定所述逼近函数：，其中，；所述确定所述埃尔米特插值的相应第一系数包括：将/＞确定为所述埃尔米特插值的相应第一系数；以及所述确定所述埃尔米特插值的相应第二系数包括：将/＞确定为所述埃尔米特插值的相应第二系数。优选地，所述确定所述预设插值的分项数据包括：根据芯片的实时温度t以及温度采样点，确定差值函数/＞以及所述差值函数的导数；根据所述温度采样点、所述差值函数/＞以及所述差值函数的导数/＞，确定所述埃尔米特插值的第一分项数据/＞；以及根据芯片的实时温度t、所述温度采样点/＞以及所述差值函数/＞，确定所述埃尔米特插值的第二分项数据/＞。优选地，所述确定所述芯片的晶振随温度变化的频率偏差包括：所述埃尔米特插值的相应第一系数、相应第二系数/＞、第一分项数据/＞以及第二分项数据/＞，确定所述芯片的晶振随温度变化的频率偏差：。通过上述技术方案，本发明创造性地根据芯片的晶振的多个温度采样点、在所述多个温度采样点下的多个频率偏差以及目标插值阶数，确定预设插值的相应系数；然后，根据所述芯片的晶振的实时温度以及所述多个温度采样点，确定所述预设插值的分项数据；最后，根据所述预设插值的相应系数与分项数据，确定所述芯片的晶振随温度变化的频率偏差，由此，本发明可根据芯片不同应用场景对实时时钟的精度要求，灵活的设置预设插值的阶数，极大的优化了计算，提升了计算的效率和速度，节省了芯片的功耗和面积。本发明第二方面提供一种实时时钟的补偿方法，所述补偿方法包括：根据所述的频率偏差的确定方法，确定芯片的晶振随温度变化的频率偏差；以及根据所述频率偏差对所述实时时钟进行补偿。通过上述技术方案，本发明创造性地根据所述的频率偏差的确定方法，确定芯片的晶振随温度变化的频率偏差；然后，根据所述频率偏差对所述实时时钟进行补偿，由此，本发明可极大地弥补由于环境温度的变化导致的晶振频率的偏差值，提高了秒脉冲的输出精度，从而极大地提高了芯片实时时钟补偿的精度和准确度。本发明第三方面提供一种频率偏差的确定系统，所述确定系统包括：系数确定装置，用于根据多个温度采样点、在所述多个温度采样点下的多个频率偏差以及目标插值阶数，确定预设插值的相应系数，其中，所述多个温度采样点的数目同所述目标插值阶数与所述预设插值相关联；分项确定装置，用于根据芯片的实时温度以及所述多个温度采样点，确定所述预设插值的分项数据；以及频偏确定装置，用于根据所述预设插值的相应系数与分项数据，确定所述芯片的晶振随温度变化的频率偏差。优选地，在所述预设插值为牛顿插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数加1，相应地，所述系数确定装置包括：差商确定模块，用于根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定所述牛顿插值的各阶差商值；以及第一系数确定模块，用于根据所述牛顿插值的各阶差商值，确定所述牛顿插值的相应系数。优选地，在所述预设插值为埃尔米特插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数减1的相减结果的1/2，相应地，所述系数确定装置包括：函数确定模块，用于根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定逼近函数以及所述逼近函数的导数； 第二系数确定模块，用于根据所述逼近函数，确定所述埃尔米特插值的相应第一系数；以及第三系数确定模块，用于根据所述逼近函数的导数，确定所述埃尔米特插值的相应第二系数。有关本发明实施例提供的频率偏差的确定系统的具体细节及益处可参阅上述针对适用于频率偏差的确定方法的描述，于此不再赘述。本发明第四方面提供一种实时时钟的补偿系统，所述补偿系统包括：根据所述的频率偏差的确定系统，用于确定芯片的晶振随温度变化的频率偏差；以及补偿装置，用于根据所述频率偏差对所述实时时钟进行补偿。有关本发明实施例提供的实时时钟的补偿系统的具体细节及益处可参阅上述针对适用于实时时钟的补偿方法的描述，于此不再赘述。本发明第五方面提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，该计算机程序被处理器执行时实现所述的频率偏差的确定方法和/或所述的实时时钟的补偿方法。本发明第六方面提供一种芯片，用于执行计算机程序，该计算机程序被所述芯片执行时实现所述的频率偏差的确定方法和/或所述的实时时钟的补偿方法。本发明的其它特征和优点将在随后的具体实施方式部分予以详细说明。附图说明附图是用来提供对本发明实施例的进一步理解，并且构成说明书的一部分，与下面的具体实施方式一起用于解释本发明实施例，但并不构成对本发明实施例的限制。在附图中：图1是本发明一实施例提供的频率偏差的确定方法的流程图；图2是本发明一实施例提供的高精度实时时钟RTC补偿方法的流程图；以及图3是本发明一实施例提供的高精度实时时钟RTC补偿方法的流程图。具体实施方式以下结合附图对本发明的具体实施方式进行详细说明。应当理解的是，此处所描述的具体实施方式仅用于说明和解释本发明，并不用于限制本发明。图1是本发明一实施例提供的频率偏差的确定方法的流程图。如图1所示，所述确定方法可包括：步骤S101，根据芯片的晶振的多个温度采样点、在所述多个温度采样点下的多个频率偏差以及目标插值阶数，确定预设插值的相应系数，其中，所述多个温度采样点的数目同所述目标插值阶数与所述预设插值相关联；步骤S102，根据所述芯片的晶振的实时温度以及所述多个温度采样点，确定所述预设插值的分项数据；以及步骤S103，根据所述预设插值的相应系数与分项数据，确定所述芯片的晶振随温度变化的频率偏差。其中，所述预设插值可为牛顿插值、埃尔米特插值或者其他插值。在一实施例中，在所述预设插值为牛顿插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数加1。其中，所述多个温度采样点的覆盖范围占所述环境温度范围的预设比例，其中，所述预设比例大于预设阈值。具体地，根据芯片应用场景的精度要求确定牛顿插值的阶数。假定芯片的晶振的环境温度范围为-40℃～85℃，需要5阶牛顿插值就可以满足设计的精度要求。若目标插值阶数n为5，则所述多个温度采样点的数目为6。例如，按照温度逐渐升高顺序排列，所述多个温度采样点分别为T0、T1、T2、T3、T4、T5，其中T0-T5的覆盖范围占所述环境温度范围的80%。本实施例灵活地利用牛顿插值的特性，根据芯片不同应用场景对实时时钟的精度要求，灵活的设置牛顿插值的阶数，极大的优化了计算，提升了计算的效率和速度，节省了芯片的功耗和面积。其中，所述多个温度采样点的间隔可为固定的间隔或者不固定的间隔。具体地，所述确定预设插值的相应系数包括：根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定所述牛顿插值的各阶差商值；以及根据所述牛顿插值的各阶差商值，确定所述牛顿插值的相应系数。其中，芯片的晶振在所述多个温度采样点下的多个频率偏差可通过测量的方式获取，例如，可通过多次测量同一温度采样点的频率偏差，再通过求平均值的方式获取同一温度采样点的平均频率偏差。其中，所述确定所述牛顿插值的各阶差商值包括：根据温度采样点T0相对应的频率偏差，确定所述牛顿插值的零阶差商值；根据所述多个温度采样点T0、T1、……、Tn以及与其相对应的频率偏差/＞、/＞、……/＞，确定所述牛顿插值的一阶差商值；以及根据所述多个温度采样点T0、T1、……、Tn以及所述牛顿插值的i阶差商值，确定所述牛顿插值的i+1阶差商值，其中，1≤i≤n且i为整数，n为所述目标插值阶数。更为具体地，根据温度采样点T0相对应的频率偏差，确定所述牛顿插值的零阶差商值：/＞。根据所述多个温度采样点T0、T1、……、Tn以及与其相对应的频率偏差、、……/＞，确定所述牛顿插值的一阶差商值：。根据所述多个温度采样点T0、T1、……、Tn以及所述牛顿插值的一阶差商值，确定所述牛顿插值的二阶差商值：。根据所述多个温度采样点T0、T1、……、Tn以及所述牛顿插值的二阶差商值，确定所述牛顿插值的三阶差商值：。以此类推，可确定所述牛顿插值的四阶或更高阶差商值。根据温度采样点T0、Tn以及所述牛顿插值的n-1阶差商值，确定所述牛顿插值的n阶差商值：。当n=5时，所述牛顿插值的5阶差商值：。具体地，所述确定所述预设插值的分项数据包括：根据芯片的实时温度t以及所述多个温度采样点T0、T1、……、Tn-1，确定所述牛顿插值的分项数据：，其中，n为所述目标插值阶数。在具体示例中，可利用温度采样模数转换器来采集芯片所处环境的实时温度t。当n=5时，。具体地，所述确定所述牛顿插值的相应系数包括：将确定为所述牛顿插值的相应系数。相应地，所述确定所述芯片的晶振随温度变化的频率偏差包括：根据所述牛顿插值的相应系数与分项数据/＞，确定所述芯片的晶振随温度变化的频率偏差：。当n=5时，。在另一实施例中，在所述预设插值为埃尔米特插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数减1的相减结果的1/2。其中，所述多个温度采样点的覆盖范围占所述环境温度范围的预设比例，其中，所述预设比例大于预设阈值。具体地，根据芯片应用场景的精度要求确定埃尔米特插值的阶数。假定芯片的晶振的环境温度范围为-40℃～85℃，需要7阶埃尔米特插值就可以满足设计的精度要求。若目标插值阶数s=2+1为7，则所述多个温度采样点的数目为/2=3。例如，按照温度逐渐升高顺序排列，所述多个温度采样点分别为T0、T1、T2，其中T0-T3的覆盖范围占所述环境温度范围的80%。本实施例灵活地利用埃尔米特插值的特性，根据芯片不同应用场景对实时时钟的精度要求，灵活的设置埃尔米特插值的阶数，极大的优化了计算，提升了计算的效率和速度，节省了芯片的功耗和面积。其中，所述多个温度采样点的间隔可为固定的间隔或者不固定的间隔。具体地，所述确定预设插值的相应系数包括：根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定逼近函数以及所述逼近函数的导数；根据所述逼近函数，确定所述埃尔米特插值的相应第一系数；以及根据所述逼近函数的导数，确定所述埃尔米特插值的相应第二系数。其中，所述确定逼近函数包括：根据温度采样点、与所述温度采样点相对应的频率偏差/＞以及目标插值阶数s=2+1，确定所述逼近函数：，其中，。当s=2+1=7时，，。其中，所述确定所述埃尔米特插值的相应第一系数包括：将确定为所述埃尔米特插值的相应第一系数。其中，所述确定所述埃尔米特插值的相应第二系数包括：将确定为所述埃尔米特插值的相应第二系数。具体地，所述确定所述预设插值的分项数据包括：根据芯片的实时温度t以及温度采样点，确定差值函数/＞以及差值函数的导数，其中，/＞；根据所述温度采样点/＞、所述差值函数/＞以及所述差值函数的导数/＞，确定所述埃尔米特插值的第一分项数据/＞；以及根据芯片的实时温度t、所述温度采样点/＞以及所述差值函数/＞，确定所述埃尔米特插值的第二分项数据/＞。具体地，所述确定所述芯片的晶振随温度变化的频率偏差包括：所述埃尔米特插值的相应第一系数、相应第二系数/＞、第一分项数据/＞以及第二分项数据/＞，确定所述芯片的晶振随温度变化的频率偏差：。例如，当s=2+1=7时，，与牛顿插值相比，利用埃尔米特插值确定芯片的晶振随温度变化的频率偏差，可采用较少的温度采样点实现同阶插值结果，也就是说，利用埃尔米特插值确定芯片的晶振随温度变化的频率偏差的精确更高，可实现对实时时钟的更有效的补偿。综上所述，本发明创造性地根据芯片的晶振的多个温度采样点、在所述多个温度采样点下的多个频率偏差以及目标插值阶数，确定预设插值的相应系数；然后，根据所述芯片的晶振的实时温度以及所述多个温度采样点，确定所述预设插值的分项数据；最后，根据所述预设插值的相应系数与分项数据，确定所述芯片的晶振随温度变化的频率偏差，由此，本发明可根据芯片不同应用场景对实时时钟的精度要求，灵活的设置预设插值的阶数，极大的优化了计算，提升了计算的效率和速度，节省了芯片的功耗和面积。本发明一实施例提供一种实时时钟的补偿方法，所述补偿方法包括：根据所述的频率偏差的确定方法，确定芯片的晶振随温度变化的频率偏差；以及根据所述频率偏差对所述实时时钟进行补偿。具体地，在通过上文描述的频率偏差的确定方法确定晶振随温度变化的频率偏差之后，将晶振随温度变化的频率偏差确定频率误差，然后根据所述频率误差对实时时钟进行补偿，以输出精确的秒脉冲。本实施例可采用预设插值对实时时钟的偏差进行补偿，预设插值能极大的弥补由于环境温度的变化导致的晶振频率的偏差值，提高了秒脉冲的输出精度，从而极大的提高了芯片实时时钟补偿的精度和准确度。图2是本发明一实施例提供的芯片的高精度实时时钟RTC补偿方法，其包括以下步骤。步骤201，根据应用场景的精度要求设定牛顿插值阶数。步骤202，根据牛顿插值阶数确定多个温度点的数目，并测量所述多个温度点的晶振频率偏差值。步骤203，根据设定的牛顿插值阶数、温度点及相应的频率偏差值实时计算牛顿插值的相应系数。步骤204，利用温度采样ADC采集环境温度。步骤205，根据设定的牛顿插值阶数、温度点以及当前晶振的环境温度实时计算牛顿插值的分项数据。步骤206，合成牛顿插值多项式并实时计算随芯片温度改变的频率偏差。步骤207，根据频率偏差补偿晶振所产生的频率误差。步骤208，输出补偿后的精确的秒脉冲。图3是本发明一实施例提供的芯片的高精度实时时钟RTC补偿方法，其包括以下步骤。步骤301，根据应用场景的精度要求设定埃尔米特插值阶数。步骤302，根据埃尔米特插值阶数确定多个温度点的数目，并测量所述多个温度点的晶振频率偏差值。步骤303， 根据设定的埃尔米特插值阶数、温度点以及温度点对应的频率偏差计算频率偏差逼近函数。步骤304，对频率偏差逼近函数进行求导运算。步骤305，合成埃尔米特插值多项式并实时计算随芯片温度改变的频率偏差。埃尔米特插值多项式即为随芯片温度改变的频率偏差：。步骤306，根据频率偏差补偿晶振所产生的频率误差。步骤307，输出补偿后的精确的秒脉冲。在上述两个实施例中，首次提出利用牛顿/埃尔米特插值对芯片的实时时钟进行高精度的补偿。综上所述，本发明创造性地根据所述的频率偏差的确定方法，确定芯片的晶振随温度变化的频率偏差；然后，根据所述频率偏差对所述实时时钟进行补偿，由此，本发明可极大地弥补由于环境温度的变化导致的晶振频率的偏差值，提高了秒脉冲的输出精度，从而极大地提高了芯片实时时钟补偿的精度和准确度。本发明一实施例提供一种频率偏差的确定系统，所述确定系统包括：系数确定装置，用于根据芯片的晶振的多个温度采样点、在所述多个温度采样点下的多个频率偏差以及目标插值阶数，确定预设插值的相应系数，其中，所述多个温度采样点的数目同所述目标插值阶数与所述预设插值相关联；分项确定装置，用于根据所述芯片的晶振的实时温度以及所述多个温度采样点，确定所述预设插值的分项数据；以及频偏确定装置，用于根据所述预设插值的相应系数与分项数据，确定所述芯片的晶振随温度变化的频率偏差。优选地，在所述预设插值为牛顿插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数加1，相应地，所述系数确定装置包括：差商确定模块，用于根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定所述牛顿插值的各阶差商值；以及第一系数确定模块，用于根据所述牛顿插值的各阶差商值，确定所述牛顿插值的相应系数。优选地，在所述预设插值为埃尔米特插值的情况下，所述多个温度采样点的数目等于所述目标插值阶数减1的相减结果的1/2，相应地，所述系数确定装置包括：函数确定模块，用于根据所述多个温度采样点、所述多个频率偏差以及所述目标插值阶数，确定逼近函数以及所述逼近函数的导数； 第二系数确定模块，用于根据所述逼近函数，确定所述埃尔米特插值的相应第一系数；以及第三系数确定模块，用于根据所述逼近函数的导数，确定所述埃尔米特插值的相应第二系数。有关本发明实施例提供的频率偏差的确定系统的具体细节及益处可参阅上述针对适用于频率偏差的确定方法的描述，于此不再赘述。本发明一实施例提供一种实时时钟的补偿系统，所述补偿系统包括：根据所述的频率偏差的确定系统，用于确定芯片的晶振随温度变化的频率偏差；以及补偿装置，用于根据所述频率偏差对所述实时时钟进行补偿。有关本发明实施例提供的实时时钟的补偿系统的具体细节及益处可参阅上述针对适用于实时时钟的补偿方法的描述，于此不再赘述。本发明一实施例提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，该计算机程序被处理器执行时实现所述的频率偏差的确定方法和/或所述的实时时钟的补偿方法。本发明一实施例提供一种芯片，用于执行计算机程序，该计算机程序被所述芯片执行时实现所述的频率偏差的确定方法和/或所述的实时时钟的补偿方法。其中，所述芯片可为主控芯片或电能计量芯片。具体地，本实施例提供一种芯片，包括：处理器；用于存储所述处理器执行的计算机程序的存储器；所述处理器，用于从所述存储器中读取所述计算机程序，并执行所述计算机程序以实现所述的频率偏差的确定方法。以上结合附图详细描述了本发明的优选实施方式，但是，本发明并不限于上述实施方式中的具体细节，在本发明的技术构思范围内，可以对本发明的技术方案进行多种简单变型，这些简单变型均属于本发明的保护范围。另外需要说明的是，在上述具体实施方式中所描述的各个具体技术特征，在不矛盾的情况下，可以通过任何合适的方式进行组合，为了避免不必要的重复，本发明对各种可能的组合方式不再另行说明。本领域技术人员可以理解实现上述实施例方法中的全部或部分步骤是可以通过程序来指令相关的硬件来完成，该程序存储在一个存储介质中，包括若干指令用以使得单片机、芯片或处理器执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。此外，本发明的各种不同的实施方式之间也可以进行任意组合，只要其不违背本发明的思想，其同样应当视为本发明所公开的内容。
