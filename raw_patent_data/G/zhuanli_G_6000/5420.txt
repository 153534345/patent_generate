标题title
一种发动机尿素溶液浓度异常的报警方法及装置
摘要abst
本申请公开了一种发动机尿素溶液浓度异常的报警方法及装置，用以结合车辆的运行状态以及一段时间内的尿素溶液浓度值来确定是否进行报警，解决现有技术中存在的误报警问题。该方法包括：获取当前周期的尿素溶液浓度值以及当前周期结束时刻的车速；当车速大于零时，根据当前周期的尿素溶液浓度值与预设的报警限值的对比结果，确定是否进行报警；当车速等于零时，根据车速等于零之前是否处于报警状态以及对比结果，确定是否进行报警。
权利要求书clms
1.一种发动机尿素溶液浓度异常的报警方法，其特征在于，包括：获取当前周期的尿素溶液浓度值以及当前周期结束时刻的车速；当所述车速大于零时，根据所述当前周期的尿素溶液浓度值与预设的报警限值的对比结果，确定是否进行报警；当所述车速等于零时，根据所述车速等于零之前是否处于报警状态以及所述对比结果，确定是否进行报警。2.如权利要求1所述的方法，其特征在于，所述方法还包括：获取所述当前周期结束时刻的尿素溶液浓度值，确定所述当前周期结束时刻的尿素溶液浓度值小于所述报警限值。3.如权利要求1所述的方法，其特征在于，所述方法还包括：获取所述当前周期结束时刻的尿素溶液浓度值；若所述当前周期结束时刻的尿素溶液浓度值为设定数值，则根据所述对比结果确定是否进行报警；其中，所述设定数值用于指示尿素溶液浓度不可测。4.如权利要求1-3任一项所述的方法，其特征在于，根据所述当前周期的尿素溶液浓度值与预设的报警限值的对比结果，确定是否进行报警，具体包括：若所述当前周期的尿素溶液浓度值小于所述报警限值，则进行报警；若所述当前周期的尿素溶液浓度值大于或等于所述报警限值，则不进行报警。5.如权利要求1-3任一项所述的方法，其特征在于，根据所述车速等于零之前是否处于报警状态以及所述对比结果，确定是否进行报警，具体包括：若所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值小于所述报警限值，则进行报警；若所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值大于或者等于所述报警限值，则不进行报警；若所述车速等于零之前不处于报警状态，则不进行报警。6.如权利要求1-3任一项所述的方法，其特征在于，在获取当前周期的尿素溶液浓度值以及当前周期结束时刻的车速之前，所述方法还包括：确定发动机处于运行状态。7.一种发动机尿素溶液浓度异常的报警装置，其特征在于，包括：获取单元，用于获取当前周期的尿素溶液浓度值以及当前周期结束时刻的车速；处理单元，被配置为执行：当所述车速大于零时，根据所述当前周期的尿素溶液浓度值与预设的报警限值的对比结果，确定是否进行报警；当所述车速等于零时，根据所述车速等于零之前是否处于报警状态以及所述对比结果，确定是否进行报警。8.如权利要求7所述的装置，其特征在于，所述获取单元，还用于获取所述当前周期结束时刻的尿素溶液浓度值；所述处理单元，还用于确定所述当前周期结束时刻的尿素溶液浓度值小于所述报警限值。9.如权利要求7所述的装置，其特征在于，所述获取单元，还用于获取所述当前周期结束时刻的尿素溶液浓度值；所述处理单元，还用于在所述当前周期结束时刻的尿素溶液浓度值为设定数值时，根据所述对比结果确定是否进行报警；其中，所述设定数值用于指示尿素溶液浓度不可测。10.如权利要求7-9任一项所述的装置，其特征在于，所述处理单元，具体用于：在所述当前周期的尿素溶液浓度值小于所述报警限值时，进行报警；在所述当前周期的尿素溶液浓度值大于或等于所述报警限值时，不进行报警。11.如权利要求7-9任一项所述的装置，其特征在于，所述处理单元，具体用于：在所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值小于所述报警限值时，进行报警；在所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值大于或者等于所述报警限值时，不进行报警；在所述车速等于零之前不处于报警状态时，不进行报警。12.如权利要求7-9任一项所述的装置，其特征在于，所述处理单元，还用于：确定发动机处于运行状态。13.一种电子设备，其特征在于，所述电子设备包括处理器和存储器，所述存储器，用于存储计算机程序或指令；所述处理器，用于执行存储器中的计算机程序或指令，使得权利要求1-6任一项所述的方法被执行。14.一种计算机可读存储介质，其上存储有计算机程序指令，其特征在于，该计算机程序指令被处理器执行时实现权利要求1-6任一项所述方法的步骤。
说明书desc
技术领域本申请涉及发动机控制技术领域，尤其涉及一种发动机尿素溶液浓度异常的报警方法及装置。背景技术尿素箱中的尿素溶液是用于处理排放物中的氮氧化合物的，如果不使用尿素或者尿素溶液浓度不够，可能会导致排放不达标，引起氮氧传感器报警。所以，保证尿素箱中的尿素溶液的浓度达标是非常重要的。目前对于尿素溶液浓度的测量是采用超声波尿素品质传感器来检测尿素箱中的尿素溶液浓度，并结合预设的报警限值确定尿素溶液浓度是否达标，若不达标，则进行尿素溶液浓度异常报警。上述方法中，若传感器探头有气泡附着，或者尿素溶液中存在气泡，传感器测得的尿素溶液浓度会降低，可能会低于预设的报警限值，从而出现误报警的情况。另外，当气泡的数量比较多时，可能会导致传感器探测不到尿素溶液，可能会向发动机控制单元发送用于指示当前尿素溶液浓度无法探测的指示信息，ECU接收到该指示信息时，会采用一个标定值作为当前尿素溶液浓度值，而该标定值可能与当前实际的尿素溶液浓度值相差较大，从而导致测量误差大的问题。发明内容本申请示例性的实施方式中提供一种发动机尿素溶液浓度异常的报警方法及装置，用以结合车辆的运行状态以及一段时间内的尿素溶液浓度值来确定是否进行报警，解决现有技术中存在的误报警问题。第一方面，本申请实施例提供了一种发动机尿素溶液浓度异常的报警方法，包括：获取当前周期的尿素溶液浓度值以及当前周期结束时刻的车速；当所述车速大于零时，根据所述当前周期的尿素溶液浓度值与预设的报警限值的对比结果，确定是否进行报警；当所述车速等于零时，根据所述车速等于零之前是否处于报警状态以及所述对比结果，确定是否进行报警。基于上述方案，由于尿素溶液中产生气泡的因素有两个，一是车辆行驶过程中的晃动引起产生气泡，二是在停车时注入新的尿液溶液时引起气泡的产生。从上可以看出，本申请实施例提出的方案考虑到了该两种情况，针对车辆正常行驶，即车速大于零的情况，采用当前一段周期内的尿素溶液浓度值来判断是否进行报警，而不是采用超声波尿素品质传感器实时测量得到的值作为判断报警的依据。针对车辆停车，即车速等于零的情况，结合了停车之前是否报警以及一段周期内的浓度值来确定是否进行报警。以此解决了采用实时测量的浓度值导致误报警的问题，并且也解决了由于气泡过多导致某一时刻的尿素溶液浓度不可测的问题。在一些实施例中，所述方法还包括：获取所述当前周期结束时刻的尿素溶液浓度值，确定所述当前周期结束时刻的尿素溶液浓度值小于所述报警限值。在一些实施例中，所述方法还包括：获取所述当前周期结束时刻的尿素溶液浓度值；若所述当前周期结束时刻的尿素溶液浓度值为设定数值，则根据所述对比结果确定是否进行报警；其中，所述设定数值用于指示尿素溶液浓度不可测。在现有技术中，当超声波尿素品质传感器的探头被大量气泡附着时，可能会向ECU返回用于指示当前为非尿素环境的指示信息，ECU在接收到该指示信息时，会输出一个预先标定的数值，该数值可能会与当前实际的尿素溶液浓度值有偏差。若在此时进行环保部门的CDmin抽检试验，则会由于输出值与实际值不符导致抽检不合格。基于上述方案，ECU会采用当前一段时间内的尿素溶液浓度值作为输出值，减小了输出值与当前实际的尿素溶液浓度值的偏差，避免出现抽检不合格的问题。在一些实施例中，根据所述当前周期的尿素溶液浓度值与预设的报警限值的对比结果，确定是否进行报警，具体包括：若所述当前周期的尿素溶液浓度值小于所述报警限值，则进行报警；若所述当前周期的尿素溶液浓度值大于或等于所述报警限值，则不进行报警。在一些实施例中，根据所述车速等于零之前是否处于报警状态以及所述对比结果，确定是否进行报警，具体包括：若所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值小于所述报警限值，则进行报警；若所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值大于或者等于所述报警限值，则不进行报警；若所述车速等于零之前不处于报警状态，则不进行报警。在一些实施例中，在获取当前周期的尿素溶液浓度值以及当前周期结束时刻的车速之前，所述方法还包括：确定发动机处于运行状态。第二方面，本申请实施例提供了一种发动机尿素溶液浓度异常的报警装置，包括：获取单元，用于获取当前周期的尿素溶液浓度值以及当前周期结束时刻的车速；处理单元，被配置为执行：当所述车速大于零时，根据所述当前周期的尿素溶液浓度值与预设的报警限值的对比结果，确定是否进行报警；当所述车速等于零时，根据所述车速等于零之前是否处于报警状态以及所述对比结果，确定是否进行报警。在一些实施例中，所述获取单元，还用于获取所述当前周期结束时刻的尿素溶液浓度值；所述处理单元，还用于确定所述当前周期结束时刻的尿素溶液浓度值小于所述报警限值。在一些实施例中，所述获取单元，还用于获取所述当前周期结束时刻的尿素溶液浓度值；所述处理单元，还用于在所述当前周期结束时刻的尿素溶液浓度值为设定数值时，根据所述对比结果确定是否进行报警；其中，所述设定数值用于指示尿素溶液浓度不可测。在一些实施例中，所述处理单元，具体用于：在所述当前周期的尿素溶液浓度值小于所述报警限值时，进行报警；在所述当前周期的尿素溶液浓度值大于或等于所述报警限值时，不进行报警。在一些实施例中，所述处理单元，具体用于：在所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值小于所述报警限值时，进行报警；在所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值大于或者等于所述报警限值时，不进行报警；在所述车速等于零之前不处于报警状态时，不进行报警。在一些实施例中，所述处理单元，还用于：确定发动机处于运行状态。第三方面，本申请实施例提供了一种电子设备，所述电子设备包括控制器和存储器。存储器用于存储计算机执行指令，控制器执行存储器中的计算机执行指令以利用控制器中的硬件资源执行第一方面任一种可能实现的方法的操作步骤。第四方面，本申请提供一种计算机可读存储介质，计算机可读存储介质中存储有指令，当其在计算机上运行时，使得计算机执行上述各方面的方法。另外，第二方面至第四方面的有益效果可以参见如第一方面所述的有益效果，此处不再赘述。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例。图1为本申请实施例提供的一种发动机尿素溶液浓度异常的报警方法流程图；图2为本申请实施例提供的一种滑动窗口的示意图；图3为本申请实施例提供的一种判断车辆运行状态的方法流程图；图4为本申请实施例提供的车辆正常行驶状态下的一种发动机尿素溶液浓度异常的报警方法流程图；图5为本申请实施例提供的车辆正常行驶状态下的另一种发动机尿素溶液浓度异常的报警方法流程图；图6为本申请实施例提供的车辆未重新上电且未行驶状态下的一种发动机尿素溶液浓度异常的报警方法流程图；图7为本申请实施例提供的车辆重新上电且未行驶状态下的一种发动机尿素溶液浓度异常的报警方法流程图；图8为本申请实施例提供的车辆重新上电且未行驶状态下的另一种发动机尿素溶液浓度异常的报警方法流程图；图9为本申请实施例提供的一种发动机电子控制单元的结构示意图；图10为本申请实施例提供的一种发动机尿素溶液浓度异常的报警装置的结构示意图；图11为本申请实施例提供的一种电子设备的结构示意图。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请技术方案的一部分实施例，而不是全部的实施例。基于本申请文件中记载的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请技术方案保护的范围。本申请的说明书和权利要求书及上述附图中的术语“第一”和“第二”是用于区别不同对象，而非用于描述特定顺序。此外，术语“包括”以及它们任何变形，意图在于覆盖不排他的保护。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其它步骤或单元。本申请中的“多个”可以表示至少两个，例如可以是两个、三个或者更多个，本申请实施例不做限制。另外，本文中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中字符“/”，在不做特别说明的情况下，一般表示前后关联对象是一种“或”的关系。为了便于理解本申请实施例提出的尿素溶液浓度异常的报警方法，首先对本申请涉及的技术用语进行介绍：尿素溶液：是高纯尿素和纯水采用一定比例配制而成的溶液，用于对车辆排放物中的氮氧化合物进行处理，以降低环境污染。尿素箱：用于存储尿素溶液的罐体。超声波尿素品质传感器：包括声波发射器、声波接收器和反射声波的反射镜。实际应用中，声波发射器、声波接收器和反射镜浸没在尿素水溶液中，声波发射器发出的声波在尿素水溶液中传播至反射镜处，反射镜对声波进行反射，令返回的声波在尿素水溶液中反向传播后被声波接收器接收，由于声波在不同浓度的尿素水溶液中传播的速率不同，所以由此可以检测出尿素水溶液的浓度。滑动窗口算法：取设定窗口大小的数组进行数据计算。车辆行驶过程中的晃动和颠簸会引起尿素箱中的尿素溶液晃动产生气泡，或者在向尿素箱中添加尿素溶液时，也会由于尿素溶液的注入而产生气泡。当尿素溶液中存在气泡时，超声波尿素品质传感器测得的尿素溶液浓度值相比于真实值偏低，可能也会低于预设的报警限值，从而引起误报警的问题。相关技术中，为了解决这种误报警的问题，提出了在测得的尿素溶液浓度值不达标的情况下，先不进行报警，而是采用在此之前最后一次获得的达标的浓度值作为当前输出的尿素溶液浓度值。上述方案中，采用之前获取的达标的浓度值作为输出值，可能会导致该输出值与当前尿素溶液实际的浓度值存在偏差。尤其是在环保不问进行CDmin抽检时，可能会导致抽检不合格的问题。有鉴于此，本申请实施例提供了一种发动机尿素溶液浓度异常的报警方法及装置，结合了车辆行驶的状态以及当前时刻之前的一个周期内的尿素溶液浓度值，来确定是否进行报警。在解决了误报警的前提下，保证抽检合格。可选地，本申请提出的报警方案可以由发动机控制单元来执行。为了便于理解本申请提出的方案，参见图1，为本申请实施例提供的一种发动机尿素溶液浓度异常的报警方法流程图，具体包括：101，获取当前周期的尿素溶液浓度值以及当前周期结束时刻的车速。可选地，当前周期可以理解为处于当前时刻之前且包括当前时刻的时间周期。例如，当前时刻为10:00，那么当前周期可能为9:50-10:00，所述当前周期的结束时刻即为当前时刻，也就是10:00。可选地，在当前周期内，可以采集多个尿素溶液浓度值，例如可以每间隔设定周期采集一次尿素溶液浓度值。当前周期的尿素溶液浓度值可以为当前周期内采集的多个尿素溶液浓度值的平均值。或者，也可以将当前周期内采集的多个尿素值的平方和开根号得到值作为当前周期的尿素溶液浓度值。也就是说，当前周期的尿素溶液浓度是用于表征一个周期内的尿素溶液浓度情况的，本申请对于根据当前周期内采集的多个尿素溶液浓度值计算得到当前周期的尿素溶液浓度值的计算方法不作具体限定。102，当车速大于零时，根据当前周期的尿素溶液浓度值与预设的报警限值的对比结果，确定是否进行报警。可选地，在当前时刻的车速大于零时，可以对比当前周期的尿素溶液浓度值与预设的报警限值，若当前周期的尿素溶液浓度值大于或者等于报警限值，则不进行报警。若当前周期的尿素溶液浓度值小于报警限值，则进行报警。103，当车速等于零时，结合车速等于零之前是否处于报警状态以及对比结果，确定是否进行报警。其中，对比结果即为上述步骤102中介绍的，当前周期的尿素溶液浓度值与预设的报警限值的对比结果。可选地，在当前时刻的车速等于零时，若确定在车速等于零之前未处于报警状态，则可以不进行报警。若确定车速等于零之前处于报警状态，则可以采用上述步骤102中的判断逻辑确定是否继续保持报警状态。即，若当前周期的尿素溶液浓度值大于或者等于报警限值，则继续保持报警状态，若当前周期的尿素溶液浓度值小于报警限值，则可以不再进行报警，即报警复位。可选地，在确定车速等于零之后，还可以确定当前发动机的转速大于零，即车辆未下电，处于停车不停机的状态。基于上述方案，由于尿素溶液中产生气泡的因素有两个，一是车辆行驶过程中的晃动引起产生气泡，二是在停车时注入新的尿液溶液时引起气泡的产生。从上可以看出，本申请实施例提出的方案考虑到了该两种情况，针对车辆正常行驶，即车速大于零的情况，采用当前一段周期内的尿素溶液浓度值来判断是否进行报警，而不是采用超声波尿素品质传感器实时测量得到的值作为判断报警的依据。针对车辆停车，即车速等于零的情况，结合了停车之前是否报警以及一段周期内的浓度值来确定是否进行报警。以此解决了采用实时测量的浓度值导致误报警的问题，并且也解决了由于气泡过多导致某一时刻的尿素溶液浓度不可测的问题。在一些实施例中，在采用上述图1的逻辑进行判断是否进行报警之前，还可以首先获取当前周期的结束时刻的尿素浓度值，并确定当前周期的结束时刻的尿素浓度值小于报警限值。在一些实施例中，当前周期的尿素溶液浓度值可以仅用于确定是否进行报警，ECU的实际输出值还是采用当前周期结束时刻，超声波尿素品质传感器测得的尿素溶液浓度的实时值。以此可以保证输出的浓度值准确，避免了进行CDmin抽检时出现抽检不合格的问题。在一种可能的情况下，通过超声波尿素品质传感器采集到的当前周期结束时刻的尿素溶液浓度值为设定数值，该设定数值用于指示当前为非尿素溶液环境，尿素溶液浓度不可测。则可以根据当前周期的尿素溶液浓度值确定是否进行报警，并且在这种情况下，ECU可以将该当前周期的尿素溶液浓度值作为实际输出值。在现有技术中，当超声波尿素品质传感器的探头被大量气泡附着时，可能会向ECU返回用于指示当前为非尿素环境的指示信息，ECU在接收到该指示信息时，会输出一个预先标定的数值，该数值可能会与当前实际的尿素溶液浓度值有偏差。若在此时进行环保部门的CDmin抽检试验，则会由于输出值与实际值不符导致抽检不合格。基于上述方案，ECU会采用当前一段时间内的尿素溶液浓度值作为输出值，减小了输出值与当前实际的尿素溶液浓度值的偏差，避免出现抽检不合格的问题。作为一种可选的方式，本申请实施例提出了可以采用滑动窗口算法进行计算当前周期的尿素溶液浓度值。下面，结合具体的实施例介绍采用滑动窗口算法计算当前周期的尿素溶液浓度值的过程。可选地，滑动窗口可以分为大计算窗口和小窗口，大计算窗口可以包括多个小窗口。ECU可以采用预设的频率来采集尿素溶液浓度的平均值。小窗口可以计算在小窗口的时间范围内采集的设定数量个尿素溶液浓度值，例如可以计算设定数量个尿素溶液浓度值的平均值。若出现尿素溶液浓度不可测或者车辆下电的情况，导致小窗口的时间范围内采集的尿素溶液浓度值的数量没有达到设定数量，则可以不进行计算这些已经采集到的尿素溶液浓度值。大窗口可以计算其包括的多个小窗口分别得出的多个尿素溶液浓度值的平均值。若出现尿素溶液浓度不可测或者车辆下电的情况，导致大窗口中包括的小窗口的数量没有达到设定的数值，则大窗口可以计算当前已经获得的小窗口的尿素溶液浓度值的平均值。举例来说，若正常情况下，大窗口包括r个小窗口，则大窗口可以计算这r个小窗口分别得到的r个尿素溶液浓度值的平均值。若在一些情况下，大窗口包括u个小窗口，则大窗口可以计算这u个小窗口分别得到的u个尿素溶液浓度值的平均值。其中，小窗口的尿素溶液浓度值可以为小窗口时间范围内按照设定频率采集的多个尿素溶液浓度值的平均值。作为一种示例，可以参见图2，为本申请实施例提供的一种滑动窗口的示意图。参见图2，采用Xa来表示测得的尿素溶液浓度值，每个小窗口计算n个尿素溶液浓度值，每一个大窗口包括r个小窗口。在一些情况下，若超声波尿素品质传感器检测到当前的尿素溶液浓度不可测，会向ECU返回一些设定的无效数值。ECU在采用滑动窗口算法进行计算时，可以将无效数值过滤掉，并在接收到正常的测量值之后，继续滑动窗口。ECU可以将包括当前时刻的大窗口计算得到的尿素溶液浓度值作为当前周期的尿素溶液浓度值。在计算得到当前周期的尿素溶液浓度值之后，本申请实施例提出的发动机尿素溶液浓度异常的报警方法中，还提出了结合车辆的运行情况来判断是否进行报警。可选地，可以将车辆运行情况分为车辆运行和车辆停止两种情况。进一步地，还可以将车辆运行情况进行更加详细的分类，例如，可以分为：车辆正常行驶状态、车辆重新上电且未行驶状态以及车辆未重新上电且未行驶状态这三种状态。可选地，对于车辆运行状态还可以继续进行细分，本申请不再一一进行介绍，下面仅以车辆运行状态包括车辆正常行驶状态、车辆重新上电且未行驶状态以及车辆未重新上电且未行驶状态这三种车辆为例进行介绍。首先，对判断车辆运行状态的过程进行介绍，例如，可以参见图3，为本申请实施例提出的一种判断车辆运行状态的方法流程图，可选地，该判断车辆运行状态的方法可以由ECU来执行，方法流程具体包括：301，获取当前车速。302，判断车速是否大于零并持续第一设定时长。判断车速大于零的状态是否维持了第一设定时长，即在当前时刻之前的第一设定时长内，车速是否均大于零。若是，则继续步骤303。若否，则继续步骤304。303，确定车辆运行状态为正常行驶状态。304，判断第一时刻之后，当前时刻之前，车辆是否进行重新上电。其中，第一时刻为与当前时刻距离最近的获取到的车速大于零的时刻，可以理解为车辆停止之前的最后一刻。可选地，还可以判断第一时刻之后，当前时刻之前，是否存在发动机转速为零的情况。若是，则继续步骤305。若否，则继续步骤306。305，确定车辆运行状态为车辆重新上电且未行驶状态。306，判断车速等于零是否持续了第二设定时长。若是，则继续步骤307。若否，则返回步骤303。307，确定车辆运行状态为未重新上电且未行驶状态。以上，结合具体的实施例介绍了判断车辆运行状态的过程。下面继续介绍结合车辆运行状态和当前周期的尿素溶液浓度值确定是否进行报警。可选地，可以针对不同的车辆运行状态设置不同的报警机制。下面，结合具体场景进行介绍。场景一：车辆正常行驶状态。在一种可能的情况下，ECU在确定车辆正常行驶之后，可以进一步确定当前超声波尿素品质传感器测得的尿素溶液浓度值小于预设的报警限值，并将该测得的当前时刻的尿素溶液浓度值作为输出值。进一步地，ECU可以根据当前周期的尿素溶液浓度值与报警限值的对比结果确定是否进行报警。需要说明的是，当前时刻为当前周期的结束时刻。下面，结合具体实施例介绍场景一中，在当前时刻的尿素溶液浓度值小于预设的报警限值的情况下，尿素溶液浓度异常的报警方法。可选地，可以参见图4，为本申请实施例提供的一种在车辆正常行驶状态下的尿素溶液浓度异常的报警方法流程图，具体包括：401，确定当前时刻车辆运行状态为车辆正常行驶状态。具体的确定过程可以参见上述图3中的相关介绍，在此不再进行赘述。402，确定当前时刻测得的尿素溶液浓度值小于报警限值。可选地，ECU可以根据超声波尿素品质传感器测得的当前时刻的尿素溶液浓度值，确定其是否小于报警限值。403，在达到设定时长后，根据当前周期的尿素溶液浓度值和报警限值的对比结果，确定是否进行报警。其中，当前时刻为当前周期的结束时刻。具体地，ECU可以采确定当前时刻测得的尿素溶液浓度值小于报警限值之后达到设定时长时，根据对比结果确定是否进行报警。具体的根据对比结果确定是否进行报警过程可以参见图1中的步骤102，在此不再进行赘述。在另一些可能的情况下，由于尿素溶液中的气泡过多或者超声波尿素品质传感器的探头附着的气泡过多，导致超声波尿素品质传感器认为当前尿素溶液浓度不可测。在这种情况下，本申请提出了采用尿素溶液浓度不可测之前的一个周期内的尿素溶液浓度值作为输出值，并根据尿素溶液浓度不可测之前是否处于报警状态来判断是否进行报警。具体地，参见图5，为本申请实施例提出的场景一中，在尿素溶液浓度不可测的请情况下，尿素溶液浓度异常的报警方法流程图，具体包括：501，确定当前时刻车辆运行状态为车辆正常行驶状态。具体的确定过程可以参见上述图3中的相关介绍，在此不再进行赘述。502，确定当前尿素溶液浓度不可测。具体地，ECU可以根据超声波尿素品质传感器返回的无效数据确定当前尿素溶液浓度不可测。503，判断在尿素溶液浓度不可测之前，是否处于报警状态。可选地，可以判断超声波尿素品质传感器返回无效数据之前的时刻是否处于报警状态。若是，则继续步骤504。若否，则继续步骤505。504，根据当前周期的尿素溶液浓度值和报警限值的对比结果确定是否进行报警。可选地，可以参见上述图1中的步骤102的确定过程，在此不再进行赘述。505，继续保持不报警状态。场景二：车辆未重新上电且未行驶状态。在一些可能的情况下，ECU在确定车辆处于未重新上电且未行驶状态之后，可以进一步确定当前超声波尿素品质传感器测得的尿素溶液浓度值小于预设的报警限值，并将该测得的当前时刻的尿素溶液浓度值作为输出值。进一步地，ECU可以根据车辆处于未重新上电且未行驶的状态之前是否处于报警状态以及当前周期的尿素溶液浓度值和报警限制的对比结果，共同确定是否需要进行报警。具体地，可以参见图6，为本申请实施例提供的一种在车辆未重新上电且未行驶状态下，尿素溶液浓度异常的报警方法流程图，具体包括：601，确定当前时刻车辆运行状态为车辆未重新上电且未行驶状态。具体的确定过程可以参见上述图3中的相关介绍，在此不再进行赘述。602，确定当前时刻测得的尿素溶液浓度值小于报警限值。603，判断处于车辆未重新上电且未行驶状态之前是否为报警状态。若是，则继续步骤604。若否，继续步骤605。604，根据当前周期的尿素溶液浓度值和报警限值的对比结果，确定是否进行报警。具体地，在处于车辆未重新上电且未行驶状态之前为报警状态时，若当前周期的尿素溶液浓度值小于报警限值，则继续报警。直至当前周期的尿素溶液浓度值大于或者等于报警限值，则停止报警，即报警复位。605，继续保持不报警状态。具体地，可以保持不报警状态直至车速大于零，在车速大于零之后，则可以采用场景一中介绍的报警机制。在另外一些可能的情况下，在当前尿素溶液浓度不可测时，ECU会采用不可测之前的一个周期内的尿素溶液浓度值作为输出值，并根据尿素溶液浓度不可测之前是否处于报警状态来判断是否进行报警。具体的过程可以详见上述图5所示的流程图，在此不再进行赘述。场景三：车辆重新上电且未行驶状态。在一些实施例中，ECU在确定车辆处于重新上电且未行驶状态之后，可以进一步确定当前超声波尿素品质传感器测得的尿素溶液浓度值小于预设的报警限值，并将该测得的当前时刻的尿素溶液浓度值作为输出值。进一步地，ECU可以结合距离当前时刻最近的上一次车速大于零的时刻是否处于报警状态，以及当前周期的尿素溶液浓度值和报警限值的对比结果，共同确定当前时刻是否需要进行报警。具体地，可以参见图7，为本申请实施例提供的场景三下的一种尿素溶液浓度异常的报警方法流程图，具体包括：701，确定当前时刻车辆运行状态为车辆未重新上电且未行驶状态。具体的确定过程可以参见上述图3中的相关介绍，在此不再进行赘述。702，确定当前时刻测得的尿素溶液浓度值小于报警限值。703，判断上一次车速大于零的时刻是否处于报警状态。若是，则继续步骤704。若否，则继续步骤705。704，根据当前周期的尿素溶液浓度值和报警限值的对比结果，确定是否进行报警。具体地，在处于车辆未重新上电且未行驶状态之前为报警状态时，若当前周期的尿素溶液浓度值小于报警限值，则继续报警。直至当前周期的尿素溶液浓度值大于或者等于报警限值，则停止报警，即报警复位。705，继续保持不报警状态。具体地，可以保持不报警状态直至车速大于零，在车速大于零之后，则可以采用场景一中介绍的报警机制来判断是否进行报警。在另一些实施例中，在当前尿素溶液浓度不可测时，ECU会采用不可测之前的一个周期内的尿素溶液浓度值作为输出值，或者可以采用最近一次车速大于零时存储的一个周期内的尿素溶液浓度之作为输出值。可选地，在车辆停止之前，ECU可以将车辆下电时刻之前获取的一个周期内的尿素溶液浓度值进行存储。在车辆上电之后，ECU可以判断车辆上电之后，尿素溶液浓度不可测之前，有没有获取到溶液浓度测量值。若没有，则采用存储的车辆下电时刻之前获取的一个周期内的尿素溶液浓度值作为输出值。并结合上一次车速大于零时刻是否处于报警状态来确定当前时刻是否需要进行报警。若有，则将尿素溶液浓度不可测之前的一个周期内的尿素溶液浓度值作为输出值。并结合尿素溶液浓度不可测之前是否处于报警状态，以及当前周期的尿素溶液浓度值与报警限值的对比结果确定是否需要进行报警。具体地，参见图8，为本申请实施例提供的场景三下的另一种尿素溶液浓度异常的报警方法流程图，具体包括：801，确定当前时刻车辆运行状态为车辆未重新上电且未行驶状态。具体的确定过程可以参见上述图3中的相关介绍，在此不再进行赘述。802，确定当前尿素溶液浓度不可测。具体地，ECU可以根据超声波尿素品质传感器返回的无效数据确定当前尿素溶液浓度不可测。803，判断本次车辆上电之后，是否获取尿素溶液浓度值。若是，则继续步骤804。若否，则继续步骤806。804，判断尿素溶液浓度不可测之前，是否处于报警状态。若是，则继续步骤805。若否，则继续保持不报警状态。805，根据当前周期的尿素溶液浓度值确定是否进行报警。具体可参见上述图1的步骤102，在此不再进行赘述。806，判断上一次车速大于零时刻是否处于报警状态。若是，则返回步骤805。若否，则继续保持不报警状态。以上，结合了三个场景对不同车辆运行状态下的报警机制进行了介绍。在一些实施例中，还可以根据ECU执行上述不同的步骤，将ECU划分为多个功能模块。例如，可以参见图9，为本申请实施例提供的一种ECU的结构示意图，具体包括：数据采集模块，用于采集车速、尿素箱液位百分比以及尿素溶液浓度等。数据存储模块，可以用于将数据采集模块所采集的数据进行存储。还可以用于存储上述场景三中介绍的，在车辆下电之前的最后一个周期内的尿素溶液浓度值。数据计算模块，用于计算当前周期的尿素溶液浓度值，例如，可以采用上述实施例中介绍的滑动窗口算法进行计算当前周期的尿素溶液浓度值。车辆运行状态判断模块：可以用于根据车速以及车辆的上下电情况判断车辆的运行状态。例如，车辆运行状态判断模块可以用于执行上述图3中的各个步骤，在此不再进行重复。报警模块：可以用于确定尿素溶液浓度输出值，以及确定是否需要进行报警。具体地，报警模块可以采用上述各个实施例中介绍的逻辑来确定输出值，以及确定是否需要进行报警，在此不再进行重复。基于与上述方法的同一构思，参见图10，为本申请实施例提供的一种发动机尿素溶液浓度异常的报警装置1000。装置1000用于执行上述方法中的各个步骤，为了避免重复，此处不再进行赘述。装置1000包括：获取单元1001和处理单元1002。获取单元1001，用于获取当前周期的尿素溶液浓度值以及当前周期结束时刻的车速；处理单元1002，被配置为执行：当所述车速大于零时，根据所述当前周期的尿素溶液浓度值与预设的报警限值的对比结果，确定是否进行报警；当所述车速等于零时，根据所述车速等于零之前是否处于报警状态以及所述对比结果，确定是否进行报警。在一些实施例中，所述获取单元1001，还用于获取所述当前周期结束时刻的尿素溶液浓度值；所述处理单元1002，还用于确定所述当前周期结束时刻的尿素溶液浓度值小于所述报警限值。在一些实施例中，所述获取单元1001，还用于获取所述当前周期结束时刻的尿素溶液浓度值；所述处理单元1002，还用于在所述当前周期结束时刻的尿素溶液浓度值为设定数值时，根据所述对比结果确定是否进行报警；其中，所述设定数值用于指示尿素溶液浓度不可测。在一些实施例中，所述处理单元1002，具体用于：在所述当前周期的尿素溶液浓度值小于所述报警限值时，进行报警；在所述当前周期的尿素溶液浓度值大于或等于所述报警限值时，不进行报警。在一些实施例中，所述处理单元1002，具体用于：在所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值小于所述报警限值时，进行报警；在所述车速等于零之前处于报警状态且所述当前周期的尿素溶液浓度值大于或者等于所述报警限值时，不进行报警；在所述车速等于零之前不处于报警状态时，不进行报警。在一些实施例中，所述处理单元1002，还用于：确定发动机处于运行状态。图11示出了本申请实施例提供的电子设备1100结构示意图。本申请实施例中的电子设备1100还可以包括通信接口1103，该通信接口1103例如是网口，电子设备可以通过该通信接口1103传输数据。在本申请实施例中，存储器1102存储有可被至少一个控制器1101执行的指令，至少一个控制器1101通过执行存储器1102存储的指令，可以用于执行上述方法中的各个步骤，例如，控制器1101可以实现上述图10中的获取单元1001和处理单元1002的功能。其中，控制器1101是电子设备的控制中心，可以利用各种接口和线路连接整个电子设备的各个部分，通过运行或执行存储在存储器1102内的指令以及调用存储在存储器1102内的数据。可选的，控制器1101可包括一个或多个处理单元，控制器1101可集成应用控制器和调制解调控制器，其中，应用控制器主要处理操作系统和应用程序等，调制解调控制器主要处理无线通信。可以理解的是，上述调制解调控制器也可以不集成到控制器1101中。在一些实施例中，控制器1101和存储器1102可以在同一芯片上实现，在一些实施例中，它们也可以在独立的芯片上分别实现。控制器1101可以是通用控制器，例如中央控制器、数字信号控制器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件，可以实现或者执行本申请实施例中公开的各方法、步骤及逻辑框图。通用控制器可以是微控制器或者任何常规的控制器等。结合本申请实施例所公开的数据统计平台所执行的步骤可以直接由硬件控制器执行完成，或者用控制器中的硬件及软件模块组合执行完成。存储器1102作为一种非易失性计算机可读存储介质，可用于存储非易失性软件程序、非易失性计算机可执行程序以及模块。存储器1102可以包括至少一种类型的存储介质，例如可以包括闪存、硬盘、多媒体卡、卡型存储器、随机访问存储器、静态随机访问存储器、可编程只读存储器、只读存储器、带电可擦除可编程只读存储器、磁性存储器、磁盘、光盘等等。存储器1102是能够用于携带或存储具有指令或数据结构形式的期望的程序代码并能够由计算机存取的任何其他介质，但不限于此。本申请实施例中的存储器1102还可以是电路或者其它任意能够实现存储功能的装置，用于存储程序指令和/或数据。通过对控制器1101进行设计编程，例如，可以将前述实施例中介绍的神经网络模型的训练方法所对应的代码固化到芯片内，从而使芯片在运行时能够执行前述的神经网络模型训练方法的步骤，如何对控制器1101进行设计编程为本领域技术人员所公知的技术，这里不再赘述。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其它可编程数据处理设备的控制器以产生一个机器，使得通过计算机或其它可编程数据处理设备的控制器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其它可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其它可编程数据处理设备上，使得在计算机或其它可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其它可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。尽管已描述了本申请的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例做出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本申请范围的所有变更和修改。显然，本领域的技术人员可以对本申请进行各种改动和变型而不脱离本申请的精神和范围。这样，倘若本申请的这些修改和变型属于本申请权利要求及其等同技术的范围之内，则本申请也意图包含这些改动和变型在内。
