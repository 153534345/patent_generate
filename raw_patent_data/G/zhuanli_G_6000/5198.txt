标题title
基于图像频域分析的微生物污水池污水高效处理方法
摘要abst
本发明涉及污水处理领域，具体涉及基于图像频域分析的微生物污水池污水高效处理方法，包括：在微生物污水处理池中设置第一检测点和第二检测点，根据第一检测点和第二检测点的污水图像获得第一光照图和第二光照图；通过对第一光照图和第二光照图的频域分析，分别获得污水在微生物处理前后的水质变化图和杂质变化图，进而得污水处理特征，结合所有检测点的污水图像进而获得平均污水处理特征；统计不同时刻的平均污水处理特征获得污水处理有效性，根据污水处理有效性的大小控制污水处理过程。本发明通过水质变化图和杂质变化图准确完备的描述微生物对污水处理前后的水体的变化特征，进而获得准确的污水处理特征，保证了污水处理过程高效且节能。
权利要求书clms
1.基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，该方法包括以下步骤：在微生物污水处理池中设置预设数量的第一检测点和预设数量的第二检测点，对于任意一个第一、第二检测点对，根据第一检测点处采集到的第一污水图像、第二检测点处采集到的第二污水图像得到低频像素类别和高频像素类别，根据低频像素类别获得初始水质分布图和目标水质分布图，根据高频像素类别获得初始杂质分布图和目标杂质分布图；将初始水质分布图和目标水质分布图中的像素进行匹配，获取任意一对匹配成对的像素分别在第二污水图像的亮度图和第一污水图像的亮度图上的灰度值的第一差值，那么将所有匹配成对的像素的所述第一差值构成的图像称为水质变化图；根据初始杂质分布图和目标杂质分布图获得初始杂质密度图和目标杂质密度图，将初始杂质密度图和目标杂质密度图中的像素进行匹配，获取任意一对匹配成对的像素分别在第一污水图像的亮度图和第二污水图像的亮度图上的灰度值的第二差值，那么将所有匹配成对的像素的所述第二差值构成的图像称为杂质变化图；根据水质变化图与杂质变化图获得水质杂质权重分布图，然后以水质杂质权重分布图上每个像素的灰度值为权重对水质变化图和杂质变化图上的所有像素的灰度值进行加权求和获得的结果称为一个第一、第二检测点对污水处理特征，然后计算所有第一、第二检测点对的污水处理特征的均值，称为平均污水处理特征；根据预设时间内每个时刻的平均污水处理特征的计算污水处理的有效性；根据污水处理有效性的大小控制污水处理的鼓风速率以及更换微生物填充料。2.根据权利要求1所述的基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，所述的得到低频像素类别和高频像素类别的步骤包括：根据第一污水图像和第二污水图像分别获得第一光照图像和第二光照图像；分别第一光照图像和第二光照图像从空域变换到频域，分别获得第一频域图像和第二频域图像，获取第二频域图像上比第一频域图像上灰度值大的所有像素，获取所述所有像素与第一频域图像上中心点的像素的欧式距离，对获得的所有欧式距离进行K-Means聚类，获得两个类别，所述的两个类别中所有欧式距离的均值最大的类别中对应的像素集合称为高频像素类别，所述的两个类别中所有欧式距离的均值最小的类别中对应的像素集合称为低频像素类别。3.根据权利要求1所述的基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，所述的根据低频像素类别获得初始水质分布图和目标水质分布图，根据高频像素类别获得初始杂质分布图和目标杂质分布图的步骤包括：在第一频域图像和第二频域图像上，保持低频像素类别中所有像素的灰度值不变，低频像素类别之外的所有像素的灰度值设置为0，然后再将第一频域图像和第二频域图像从频域反变换到空域，分别获得初始水质分布图和目标水质分布图；在第一频域图像和第二频域图像上，保持高频像素类别中所有像素的灰度值不变，高频像素类别之外的所有像素的灰度值设置为0，然后将第一频域图像和第二频域图像从频域反变换到空域，分别获得初始杂质分布图和目标杂质分布图。4.根据权利要求1所述的基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，所述的根据水质变化图与杂质变化图获得水质杂质权重分布图的步骤包括：获取水质变化图与杂质变化图的做差，结果称为差值图，利用预设的映射曲线对差值图上的灰度值进行映射，获得的结果进行归一化处理后称为水质杂质权重分布图。5.根据权利要求1所述的基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，所述的污水处理的有效性的获取步骤包括：根据预设时间段内每个时刻的平均污水处理特征，拟合出平均污水处理特征与时间的线性模型，获取所述线性模型的斜率，所述斜率作为污水处理的有效性。6.根据权利要求3所述的基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，所述的初始杂质密度图和目标杂质密度图的获取步骤包括：对初始杂质分布图进行二值化处理，获得初始杂质密度二值图，以初始杂质密度二值图上任意一个像素为中心构建一个预设大小的窗口，计算初始杂质密度二值图上的在窗口内的连通域个数，称为任意一个像素的杂质分布密度，初始杂质密度二值图上所有像素的杂质分布密度构成的图像称为初始杂质密度图；同理根据目标杂质分布图获得目标杂质密度图。7.根据权利要求1所述的基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，所述将初始水质分布图和目标水质分布图中的像素进行匹配，需要使获得的所有匹配成对的像素之间的灰度值差异之和最小；所述将初始杂质密度图和目标杂质密度图中的像素进行匹配，也需要使获得的所有匹配成对的像素之间的灰度值差异之和最小。8.根据权利要求2所述的基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，所述的根据第一污水图像和第二污水图像分别获得第一光照图像和第二光照图像的步骤包括：获取第一污水图像上任意一个像素在所有通道上的灰度值，将所述的所有通道上的灰度值的熵的倒数作为任意一个像素的光照异常程度，所有像素的光照异常程度构成的图像称为第一光照图像；同理根据第二污水图像上所有像素的光照异常程度获得第二光照图像。9.根据权利要求1所述的基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，所述的第一检测点设置在没有微生物的污水处，每个第一检测点由光源和多光谱相机构成；所述的第二检测点设置在有微生物的污水处，每个第二检测点由光源和多光谱相机构成，所有第一检测点和第二检测点光源强度一样。
说明书desc
技术领域本发明涉及污水处理领域，具体涉及基于图像频域分析的微生物污水池污水高效处理方法。背景技术畜禽养殖产生的污水或者城市居民生活产生的污水中往往包含着大量的有机物和含氮磷等元素的无机物，一般使用微生物来处理污水；现有的利用微生物处理污水的方法和系统有很多，一般包括过滤、生化、沉淀等过程，过滤的目的是去除污水中的大颗粒杂质，生化过程的目的是在污水池中利用含有微生物的填充物对污水进行处理，使有机物分解，并实现脱氮除磷，沉淀过程的目的是将生化处理后的水体中的固体颗粒沉淀；其中生化过程需要对水体鼓风曝气，提高氧气含量，并且需要更换微生物填充物；在现有污水处理方法中由于鼓风曝气设备的运行速率或者填充物更换时机的控制不当，一方面浪费能源和材料，另一方面不能提高污水处理的效率。为了提高微生物处理污水的效率，需要有一种准确的污水处理过程检测和评估的方法，对鼓风曝气设备和填充物更换时机进行自动化控制。发明内容为了解决上述技术问题，本发明的目的在于提供基于图像频域分析的微生物污水池污水高效处理方法，所采用的技术方案具体如下：在微生物污水处理池中设置预设数量的第一检测点和预设数量的第二检测点，对于任意一个第一、第二检测点对，根据第一检测点处采集到的第一污水图像、第二检测点处采集到的第二污水图像得到低频像素类别和高频像素类别，根据低频像素类别获得初始水质分布图和目标水质分布图，根据高频像素类别获得初始杂质分布图和目标杂质分布图；将初始水质分布图和目标水质分布图中的像素进行匹配，获取任意一对匹配成对的像素分别在第二污水图像的亮度图和第一污水图像的亮度图上的灰度值的第一差值，那么将所有匹配成对的像素的所述第一差值构成的图像称为水质变化图；根据初始杂质分布图和目标杂质分布图获得初始杂质密度图和目标杂质密度图，将初始杂质密度图和目标杂质密度图中的像素进行匹配，获取任意一对匹配成对的像素分别在第一污水图像的亮度图和第二污水图像的亮度图上的灰度值的第二差值，那么将所有匹配成对的像素的所述第二差值构成的图像称为杂质变化图；根据水质变化图与杂质变化图获得水质杂质权重分布图，然后以水质杂质权重分布图上每个像素的灰度值为权重对水质变化图和杂质变化图上的所有像素的灰度值进行加权求和获得的结果称为一个第一、第二检测点对污水处理特征，然后计算所有第一、第二检测点对的污水处理特征的均值，称为平均污水处理特征；根据预设时间内每个时刻的平均污水处理特征的计算污水处理的有效性；根据污水处理有效性的大小控制污水处理的鼓风速率以及更换微生物填充料。进一步地，所述的得到低频像素类别和高频像素类别的步骤包括：根据第一污水图像和第二污水图像分别获得第一光照图像和第二光照图像；分别第一光照图像和第二光照图像从空域变换到频域，分别获得第一频域图像和第二频域图像，获取第二频域图像上比第一频域图像上灰度值大的所有像素，获取所述所有像素与第一频域图像上中心点的像素的欧式距离，对获得的所有欧式距离进行K-Means聚类，获得两个类别，所述的两个类别中所有欧式距离的均值最大的类别中对应的像素集合称为高频像素类别，所述的两个类别中所有欧式距离的均值最小的类别中对应的像素集合称为低频像素类别。进一步地，所述的根据低频像素类别获得初始水质分布图和目标水质分布图，根据高频像素类别获得初始杂质分布图和目标杂质分布图的步骤包括：在第一频域图像和第二频域图像上，保持低频像素类别中所有像素的灰度值不变，低频像素类别之外的所有像素的灰度值设置为0，然后再将第一频域图像和第二频域图像从频域反变换到空域，分别获得初始水质分布图和目标水质分布图；在第一频域图像和第二频域图像上，保持高频像素类别中所有像素的灰度值不变，高频像素类别之外的所有像素的灰度值设置为0，然后将第一频域图像和第二频域图像从频域反变换到空域，分别获得初始杂质分布图和目标杂质分布图。进一步地，所述的根据水质变化图与杂质变化图获得水质杂质权重分布图的步骤包括：获取水质变化图与杂质变化图的做差，结果称为差值图，利用预设的映射曲线对差值图上的灰度值进行映射，获得的结果进行归一化处理后称为水质杂质权重分布图。进一步地，所述的污水处理的有效性的获取步骤包括：根据预设时间段内每个时刻的平均污水处理特征，拟合出平均污水处理特征与时间的线性模型，获取所述线性模型的斜率，所述斜率作为污水处理的有效性。进一步地，所述的初始杂质密度图和目标杂质密度图的获取步骤包括：对初始杂质分布图进行二值化处理，获得初始杂质密度二值图，以初始杂质密度二值图上任意一个像素为中心构建一个预设大小的窗口，计算初始杂质密度二值图上的在窗口内的连通域个数，称为任意一个像素的杂质分布密度，初始杂质密度二值图上所有像素的杂质分布密度构成的图像称为初始杂质密度图；同理根据目标杂质分布图获得目标杂质密度图。进一步地，所述将初始水质分布图和目标水质分布图中的像素进行匹配，需要使获得的所有匹配成对的像素之间的灰度值差异之和最小；所述将初始杂质密度图和目标杂质密度图中的像素进行匹配，也需要使获得的所有匹配成对的像素之间的灰度值差异之和最小。进一步地，所述的根据第一污水图像和第二污水图像分别获得第一光照图像和第二光照图像的步骤包括：获取第一污水图像上任意一个像素在所有通道上的灰度值，将所述的所有通道上的灰度值的熵的倒数作为任意一个像素的光照异常程度，所有像素的光照异常程度构成的图像称为第一光照图像；同理根据第二污水图像上所有像素的光照异常程度获得第二光照图像。进一步地，所述的第一检测点设置在没有微生物的污水处，每个第一检测点由光源和多光谱相机构成；所述的第二检测点设置在有微生物的污水处，每个第二检测点由光源和多光谱相机构成，所有第一检测点和第二检测点光源强度一样。本发明具有如下有益效果：1.本发明通过计算不同时刻的微生物对污水的处理特征，获得污水处理的有效性，根据污水处理的有效性的大小来控制污水处理过程，使得污水处理即高效又节能。2.本发明通过多个检测点的图像进行频域分析，利用水质变化图和杂质变化图分别准确完备的描述了微生物对污水处理前后的水体的变化特征，进而综合所有检测点的水质变化图和杂质变化图获得准确的污水处理特征，保证了污水处理过程控制得当且合理。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的基于图像频域分析的微生物污水池污水高效处理方法的流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的基于图像频域分析的微生物污水池污水高效处理方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构、或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的基于图像频域分析的微生物污水池污水高效处理方法的具体方案。请参阅图1，其表示出了本发明的基于图像频域分析的微生物污水池污水高效处理方法，其特征在于，该方法包括以下步骤：步骤S001，在微生物污水池中设置污水检测点，并获取污水的光照图像。污水经过过滤后，在微生物污水处理池中进行生化处理，该污水池中一般通过填充含有微生物的填充物对污水进行处理，本发明需要获取污水在处理前后的污水变化特征；首先在污水池中隔离出一些区域，该区域中的污水尚未被微生物处理，然后在这个区域内设置一些检测点，本发明设计N个检测点，本发明中N=5，每个检测点出放置一个面光源，光源发出平行白光，迎着光源照射方向放置一个多光谱相机，相机视野正对光源，光源和相机都处于污水之中，并且都做防水处理，并且保证所有光源地光照强度相等，所有相机和光源地距离像素。另外在微生物处理后的污水区域中也设置N个检测点，本发明将污水尚未被微生物处理的区域中的检测点称为第一检测点，将污水被微生物处理的区域中的检测点称为第二检测点，即有N个第一检测点和N个第二检测点；假设同一时刻，第n个第一检测点处获得的图像为，表示的是污水被处理前的图像，第m个第二检测点出获得的图像为,表示的是污水被处理后的图像，本发明需要根据和获得污水处理前后的变化情况，由于本发明使用的是多光谱相机，因此这两张图像具有多个通道。考虑到污水中含有大量的有机物和大分子无机物以及微小固体颗粒，这些物质会吸收或散射光源发出的光，使得水体变得浑浊，不同物质对不同颜色的光吸收和散射不一样，导致相机采集的图像有色彩差异，而在澄清的水体中相机采集的图像是没有色彩差异的；基于此，本发明获取上每个像素在所有通道的灰度值，计算每个像素在所有通道上灰度值的熵，将作为每个像素的光照异常程度，该值越大说明大，说明H越小，说明每个像素在所有通道上灰度值越不一样，表示每个像素吸收或散射了一部光照；光照异常程度越小，则H越大，说明每个像素在所有通道上灰度值越一样，表示每个像素处没有吸收或散射了一部分光照，的目的是为了保证分布不为0。将上所有像素的光照异常程度构成一个单通道图像，称为第一光照图像；同理根据获得第二光照图像。需要说明的是，后续本发明并不关注和上每个像素灰度值的大小，而是只关注两者包含的频域信息。步骤S002、根据第一光照图像和第二光照图像获得水质变化图和杂质变化图。对于微生物处理之前的污水来说，微生物处理之后的有机物和大分子无机物会被分解，水质会变好一点，水体对光的吸收会少一点，但是微生物处理之后的污水中会出现较多的固体颗粒，这些固体颗粒阻挡光线进入相机；具体的对于和来说，相比于来说，中低频分量较多，因为水质变好，水体对光的吸收少一了点，透光性增强，导致低频信息更多；并且高频分量也会多一点，因为固体杂质变多了，高频信息也更多。基于此，本发明分布对和进行快速傅里叶变换，将这两个图像从空域变换到频域，分别获得第一频域图像和第二频域图像；根据傅里叶变换的原理可知：和上的像素对应的是频率，像素的灰度值表示的是包含对应频率的信号的含量，和上的像素越靠近中心则对应的频率越小，越远离中心则对应的频率越大。获取上比上灰度值大的所有像素集合S，并且获取或上图像中心点处的像素，计算S中某个像素与中心点像素的欧式距离，即S中每个像素对应一个所述的欧式距离；像素对应的欧式距离越大，说明该像素对应越高的频率，欧式距离越小，说明该像素对应越低的频率；对像素集合S中所有像素对应的欧式距离进行聚类，本发明利用K-Means算法将这些像素的欧式距离分为两类，获取每个类别中所有欧式距离的均值，获取所述均值最大的类别，这个类别中所有欧式距离对应的像素称为高频像素类别，获取所述均值最小的类别，这个类别中所有欧式距离对应的像素称为低频像素类别。由此可知，低频像素类别中所有像素处的水体的水质变好了，水体对光的吸收减少；而高频像素类别中所有像素处水体的杂质变多了，水中的污染物被处理成固体沉淀了出来。令上的并且在低频像素类别中的像素的灰度值保持不变，令上的在低频像素类别之外的像素的灰度值设置为0，然后利用反傅里叶变换算法将由频域变换到空域，获得的结果记为初始水质分布图；同理，令上的并且在低频像素类别中的像素的灰度值保持不变，令上的在低频像素类别之外的像素的灰度值设置为0，然后利用反傅里叶变换算法将由频域变换到空域，获得的结果记为目标水质分布图。中每个像素的灰度值表示污水处理前的水对光的吸收情况，简称为处理前水质特征，中每个像素的灰度值表示污水处理后的水对光的吸收情况，简称处理后为水质特征；那么与在相同像素上的灰度值的差值就能表示污水处理前后的水质变化情况，但是考虑到第n个第一检测点和第m个第二检测点的水体是不同的，即在某个像素位置的水质特征和在同一个像素位置的水质特征针对的不是同一种有机物或无机物，无法直接比较微生物处理前后的水质的变化情况，即计算与在相同像素上的灰度值的差异并无意义；本发明为了通过与计算水质的变化情况，进行如下处理：利用KM算法将和中的像素进行匹配，使得所有匹配成对的像素之间的灰度值差异最小，这个所述的最小值就是和所能达到的最小差异，即本发明不能根据和的差值来获得有效的水质变化情况，但是本发明是能够知道这种水质变化情况的最小值的，因此本发明就通过该最小值来表征水质的变化情况，但是考虑到和表示的是水体对光线的吸收情况，只能表示水体中水质的分布情况，两者的差值也不能构直接作为水体中水质变化的评估指标，而公知的是水体对光线的吸收时直观上的视觉特征是光线的亮度会变小，因此本发明根据图像的亮度图变化来表示和评估水质的变化，具体做法是：获取和的亮度图，所述的的亮度图上的每个像素的灰度值等于上每个像素在所有通道的最大值，的亮度图同理；然后对于上述获得的任意一对匹配的像素对，其中p是上的像素点，q是上的像素点，获取像素q在的亮度图上的灰度值与p在的亮度图上的灰度值的差值，记为第一差值，当该差值小于0时将该差值强制设置为0，因此上述任意一对匹配的像素对对应一个第一差值差值，也可以说一个像素q对应一个第一差值差值，那么根据所有匹配的像素对对应的所有第一差值差值，将所有q对应的第一差值差值构成一张单通道灰度图，称为水质变化图，用于描述污水经过微生物处理前后不同位置的水质变化情况，所述的水质变化情况不是真实的水质变化，而是指最小的水质变化情况。另一方面，令上的并且在高频像素类别中的像素的灰度值保持不变，令上的在高频像素类别之外的像素的灰度值设置为0，然后利用反傅里叶变换算法将由频域变换到空域，获得的结果记为初始杂质分布图；同理，令上的并且在高频像素类别中的像素的灰度值保持不变，令上的在高频像素类别之外的像素的灰度值设置为0，然后利用反傅里叶变换算法将由频域变换到空域，获得的结果记为目标杂质分布图。中每个像素的灰度值表示污水处理前的杂质对光的遮挡和散射情况，简称为处理前的杂质特征，中每个像素的灰度值表示污水处理后的杂质对光的遮挡和散射情况，简称为处理后的杂质特征；那么与在相同像素上的灰度值的差值就能表示污水处理前后的杂质变化情况，但是考虑第n个第一检测点和第m个第二检测点的水体是不同的，即在某个像素位置的杂质特征和在同一个像素位置的杂质特征针对的不是同一种有机物或无机物形成的杂质，无法直接比较微生物处理前后的杂质的变化情况，即计算与在相同像素上的灰度值的差异并无意义；本发明为了通过与计算水质的变化情况，进行如下处理：对初始杂质分布图进行二值化处理，获得初始杂质密度二值图，以初始杂质密度二值图上任意一个像素为中心构建一个21×21的窗口，计算初始杂质密度二值图上的在窗口内的连通域个数，即杂质颗粒的个数，称为任意一个像素的杂质分布密度，初始杂质分布图上所有像素的杂质分布密度构成的图像称为初始杂质密度图,用于表示每个位置周围杂质颗粒的密度；同理根据目标杂质分布图获得目标杂质密度图。利用KM算法将和中的像素进行匹配，使得所有匹配成对的像素之间的灰度值差异最小，这个所述的最小值就是和所能达到的最小差异，即本发明不能根据和的差值来获得有效的杂质变化情况，但是本发明是能够知道这种杂质变化情况的最小值的，因此本发明就通过该最小值来表征杂质的变化情况，但是考虑到和表示的是杂质对光线的遮挡或散射情况，只能表示水体中杂质的分布情况，两者的差值不能直接作为水体中杂质变化的评估指标，而公知的是杂质对光线遮挡或散射时直观上的视觉特征是光线的亮度会变小，因此本发明根据图像的亮度图变化来表示和评估杂质的变化，具体做法是：对于上述获得的任意一对匹配的像素对，其中p依然是上的像素点，q依然是上的像素点，获取像素p在的亮度图上的灰度值与q在的亮度图上的灰度值的差值，记为第二差值，当该差值小于0时将该差值强制设置为0，因此上述任意一对匹配的像素对对应一个第二差值，也可以说一个像素q对应一个第二差值，那么根据所有匹配的像素对对应的所有第二差值，将所有q对应的第二差值构成一张单通道灰度图，称为杂质变化图，用于描述污水经过微生物处理前后不同位置周围的杂质变化情况，所述的杂质变化情况不是真实的杂质变化，而是指最小的杂质变化情况。步骤S003、根据水质变化图和杂质变化图获得平均污水处理特征。对于水质变化图来说，该图上灰度值越大的像素或区域表示该像素或区域处的有机物或无机物被微生物分解，水透光性越好，水质变的越好；对于水质变化图来说，该图上灰度值越大的像素或区域表示该像素或区域处的有机物或无机物被微生物分解，出现了越多不可溶解的杂质颗粒，杂质对光的遮挡和散射作用越明显，水中的污染物去除的越多；因此总结来说或上的灰度值越大，说明污水处理越有成效；但是考虑到透光性变好的位置具有的杂质越少，杂质越多的位置透光性越低，也就是说灰度值大的像素，在上的灰度值应该小；灰度值小的像素，在上的灰度值应该大；但是由于污水环境复杂，对和进行分析计算的过程是会引入误差和噪声，导致灰度值大的像素在上的灰度值也大或者灰度值小的像素在上的灰度值也小的情况，对于这种情况会干扰本发明的计算，因此本发明需要排除这种情况，那么进行如下处理：对和分别进行归一化处理，然后计算这和之间的差值记为图像，上的灰度值是大于等于-1小于等于1的；对于上的任意一个像素，假设该像g在上的灰度值为x，那么对该像素的灰度值进行映射，其映射结果为，该映射方法具有如下特征：当上的灰度值x越接近于0，那么也越快速的趋近于0，如果上的灰度值x越接近于1或-1，那么越快速的趋近于1；另外需要将上的灰度值进行归一化处理，使得上所有灰度值之和为1对上的所有像素的灰度值都进行映射，映射结果依然记为图像，能够使得和上灰度值差异大的像素在的灰度值也大，在和上灰度值差异小的像素在的灰度值趋近于0。接着对上所有像素的灰度值归一化处理，令将称为第n个第一检测点和第m个第二采样点之间的污水处理特征，其中表示上任意像素g；表示上像素g处的灰度值，表示上像素g处的灰度值，表示这两个灰度值之和，该值越大说明水质或者是杂质在微生物处理前后变化的较多，说明污水处理效果越好；表示上像素g处的灰度值，该值越大说明与的差异越大，那么说明越大时越小，或者相反，那么此时越准确，因此越关注的大小；越小说明与的差异越小，那么说明越大时也越大，或者相反，那么此时越可能存在噪声干扰和引入不确定性，因此越不关注的大小。越大说明水质或者是杂质在微生物处理前后变化的较多，说明污水处理效果越好。但是为了进一步减少不确定性和误差干扰，本发明要结合所有第一检测点和第二检测点的污水处理特征，本发明令平均污水处理特征Q为所有第一检测点和所有第二采样点之间的污水处理特征的均值，即。步骤S004、根据平均污水处理特征获得污水的高效处理方法。综上所述，本发明根据所有检测点在同一时刻采集的图像获得了平均污水处理特征，那么在最近的T个时刻获取到平均污水处理特征随时间的变化序列，本发明以一分钟为一个时刻，T=10；根据最小二乘法拟合出平均污水处理特征与时间的线性模型，获取所述线性模型的斜率，所述斜率作为污水处理的有效性，污水处理的有效性越大，说明微生物污水池在T个时刻内对污水具有较高的处理能力，当污水处理的有效性小于等于0时，说明污水处理能力下降了，此时加大鼓风曝气设备的运行功率，如果在最近的T个时刻污水处理的有效性依然小于等于0，那么就更换微生物填充料；当污水处理的有效性大于0时，可以适当保持鼓风曝气设备的以较低功率运行，节约电力。本发明通过最近T个时刻的污水处理的有效性来控制污水处理过程，实现了污水处理的高效节能的目的。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。且上述对本说明书特定实施例进行了描述。其它实施例在所附权利要求书的范围内。在一些情况下，在权利要求书中记载的动作或步骤可以按照不同于实施例中的顺序来执行并且仍然可以实现期望的结果。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。
