标题title
星载SAR三维产品生成方法及装置
摘要abst
本发明提供一种星载SAR三维产品生成方法及装置，涉及合成孔径雷达信号处理技术领域。该方法基于公开的数字地表模型，将其进行坐标转化，利用HASM方程迭代进行高精度曲面建模，得到细网格下的高程信息，再结合后向投影算法直接得到三维产品。由此，将数字地表模型DSM与后向投影算法有机的结合，最大程度发挥了数字地表模型的应用价值，给原有的三维信息加上了辐射强度信息的这一重要信息。本发明可解决现有的三维成像方法操作复杂的技术问题，充分利用了公开的数字地表模型，直接从星载SAR回波数据得到带有辐射强度信息的三维产品，具有较强的应用价值。
权利要求书clms
1.一种星载SAR三维产品生成方法，其特征在于，包括以下步骤：S110，获取公开的数字地表模型数据，对所述数字地表模型数据进行坐标转换，形成场景坐标系下的高程网格数据；S120，使用预设的曲面函数，对所述高程网格数据进行模拟，通过求解HASM方程，得到高程模拟初始值；S130，将所述高程模拟初始值与测得的实际高程值作差，并进行线性插值，得到高程误差曲面，判断所述高程误差曲面中的每一个网格点的误差是否大于预设误差阈值，如果是，则保留该网格点，将所有保留的网格点形成高程加细点；S140，对所述高程加细点进行聚类，分成不同类型的细化区域，对每个类型的细化区域的高程进行迭代赋值；S150，在所述每个类型的细化区域中，再次求解所述HASM方程；S160，重复上述S120~S150，直至高程误差曲面中的所有网格点的误差小于预设误差阈值，得到曲面地形校正数据；S170，使用后向投影算法对星载SAR回波数据和所述曲面地形校正数据进行成像，生成星载SAR三维产品。2.根据权利要求1所述的星载SAR三维产品生成方法，其特征在于，所述实际高程值是由GPS测量得到的高程值。3.根据权利要求1所述的星载SAR三维产品生成方法，其特征在于，对所述数字地表模型数据进行坐标转换，具体包括：根据大地坐标系对应椭球第一偏心率和卯酉圈曲率半径，将所述数字地表模型数据从大地坐标系转化为场景坐标系，形成场景坐标系下的高程网格数据。4.根据权利要求3所述的星载SAR三维产品生成方法，其特征在于，所述场景坐标系下的高程网格数据根据以下公式计算得出：其中，e2表示大地坐标系对应的椭球第一偏心率；B、L、H分别表示大地坐标系下的某一参考点的经度、纬度和高度；n为该参考点的卯酉圈曲率半径；x、y、z分别表示该参考点在场景坐标系下的空间三维坐标。5.根据权利要求1所述的星载SAR三维产品生成方法，其特征在于，根据以下公式对每个类型的细化区域的高程进行迭代赋值：其中，hi0表示当前网格的迭代初始高程值；hi-1表示上一层网络的高程值。6.根据权利要求1所述的星载SAR三维产品生成方法，其特征在于，所述获取公开的数字地表模型数据之前，还包括：获取星载SAR回波数据，其中，所述星载SAR回波数据为二维图像数据。7.一种星载SAR三维产品生成装置，其特征在于，包括：高程数据获取模块，用于获取公开的数字地表模型数据，对所述数字地表模型数据进行坐标转换，形成场景坐标系下的高程网格数据；高程模拟模块，用于使用预设的曲面函数，对所述高程网格数据进行模拟，通过求解HASM方程，得到高程模拟初始值；高程加细模块，用于将所述高程模拟初始值与测得的实际高程值作差，并进行线性插值，得到高程误差曲面，判断所述高程误差曲面中的每一个网格点的误差是否大于预设误差阈值，如果是，则保留该网格点，将所有保留的网格点形成高程加细点；聚类模块，用于对所述高程加细点进行聚类，分成不同类型的细化区域，对每个类型的细化区域的高程进行迭代赋值；方程求解模块，用于在所述每个类型的细化区域中，再次求解所述HASM方程；曲面数据获得模块，用于重复上述高程模拟模块至方程求解模块步骤，直至高程误差曲面中的所有网格点的误差小于预设误差阈值，得到曲面地形校正数据；三维产品生成模块，用于使用后向投影算法对星载SAR回波数据和所述曲面地形校正数据进行成像，生成星载SAR三维产品。8.一种电子设备，其特征在于，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，其中，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器执行根据权利要求1~6中任一项所述的方法。9.一种计算机可读存储介质，其上存储有可执行指令，其特征在于，该指令被处理器执行时使处理器执行根据权利要求1~6中任一项所述的方法。
说明书desc
技术领域本发明涉及合成孔径雷达信号处理技术领域，尤其涉及一种星载SAR三维产品生成方法及装置。背景技术合成孔径雷达是一种高分辨率微波成像雷达，具有全天时、全天候的工作特点。传统二维图像存在叠掩、顶底倒置和阴影等问题，给SAR图像的判读解译带来一定的困难。SAR三维成像使成像结果具有第三维分辨率，从根本上解决了二维图像的缺陷。获取侦察目标三维信息可以增强对目标的评估能力，提高对非合作目标的认知程度，因此SAR三维成像成为当前国内外SAR领域的研究热点。目前的三维成像方法是通常需要先获得二维图像，再利用层析技术对其进行三维重建，这类方法对获取的二维图像的质量及硬件设备的要求较高，同时需要针对具体的场景进行语义建模等操作，具有一定的局限性。发明内容鉴于上述问题，本发明提供了一种星载SAR三维产品生成方法及装置，可以在公开的数字地表模型数据的基础上直接生成星载SAR三维产品。为达到上述目的，本发明的第一方面提供了一种星载SAR三维产品生成方法，包括：S110，获取公开的数字地表模型数据，对所述数字地表模型数据进行坐标转换，形成场景坐标系下的高程网格数据；S120，使用预设的曲面函数，对所述高程网格数据进行模拟，通过求解HASM方程，得到高程模拟初始值；S130，将所述高程模拟初始值与测得的实际高程值作差，并进行线性插值，得到高程误差曲面，判断所述高程误差曲面中的每一个网格点的误差是否大于预设误差阈值，如果是，则保留该网格点，将所有保留的网格点形成高程加细点；S140，对所述高程加细点进行聚类，分成不同类型的细化区域，对每个类型的细化区域的高程进行迭代赋值；S150，在所述每个类型的细化区域中，再次求解所述HASM方程；S160，重复上述S120~S150，直至高程误差曲面中的所有网格点的误差小于预设误差阈值，得到曲面地形校正数据；S170，使用后向投影算法对星载SAR回波数据和所述曲面地形校正数据进行成像，生成星载SAR三维产品。进一步地，所述实际高程值是由GPS测量得到的高程值。进一步地，所述对数字地表模型数据进行坐标转换，具体包括：根据大地坐标系对应椭球第一偏心率和卯酉圈曲率半径，将所述数字地表模型数据从大地坐标系转化为场景坐标系，形成场景坐标系下的高程网格数据。进一步地，所述场景坐标系下的高程网格数据根据以下公式计算得出：其中，e2表示大地坐标系对应的椭球第一偏心率；B、L、H分别表示大地坐标系下的某一参考点的经度、纬度和高度；n为该参考点的卯酉圈曲率半径；x、y、z分别表示该参考点在场景坐标系下的空间三维坐标。进一步地，根据以下公式对每个类型的细化区域的高程进行迭代赋值：其中，hi0表示当前网格的迭代初始高程值；hi-1表示上一层网络的高程值。进一步地，所述获取公开的数字地表模型数据之前，还包括：获取星载SAR回波数据，其中，所述星载SAR回波数据为二维图像数据。本发明的第二方面提供了一种星载SAR三维产品生成装置，包括：高程数据获取模块，用于获取公开的数字地表模型数据，对所述数字地表模型数据进行坐标转换，形成场景坐标系下的高程网格数据；高程模拟模块，用于使用预设的曲面函数，对所述高程网格数据进行模拟，通过求解HASM方程，得到高程模拟初始值；高程加细模块，用于将所述高程模拟初始值与测得的实际高程值作差，并进行线性插值，得到高程误差曲面，判断所述高程误差曲面中的每一个网格点的误差是否大于预设误差阈值，如果是，则保留该网格点，将所有保留的网格点形成高程加细点；聚类模块，用于对所述高程加细点进行聚类，分成不同类型的细化区域，对每个类型的细化区域的高程进行迭代赋值；方程求解模块，用于在所述每个类型的细化区域中，再次求解所述HASM方程；曲面数据获得模块，用于重复上述高程模拟模块至方程求解模块步骤，直至高程误差曲面中的所有网格点的误差小于预设误差阈值，得到曲面地形校正数据；三维产品生成模块，用于使用后向投影算法对星载SAR回波数据和所述曲面地形校正数据进行成像，生成星载SAR三维产品。本发明的第三方面提供了一种电子设备，包括：一个或多个处理器；存储器，用于存储一个或多个程序，其中，当所述一个或多个程序被所述一个或多个处理器执行时，使得一个或多个处理器执行上述星载SAR三维产品生成方法。本发明的第四方面还提供了一种计算机可读存储介质，其上存储有可执行指令，该指令被处理器执行时使处理器执行上述星载SAR三维产品生成方法。与现有技术相比，本发明提供的星载SAR三维产品生成方法及装置，至少具有以下有益效果：基于公开的数字地表模型，将其进行坐标转化，利用HASM方程迭代进行高精度曲面建模，得到细网格下的高程信息，再结合后向投影算法直接得到三维产品，从而在场景坐标系中直接得到三维产品；将数字地表模型DSM与后向投影算法有机的结合，最大程度发挥了数字地表模型的应用价值，给原有的三维信息加上了辐射强度信息的这一重要信息；将公开的数字地表模型DSM作为三维成像的先验信息，直接三维成像，打破了先二维图像再三维重建的常规成像过程，充分利用了公开的数字地表模型，直接从星载SAR回波数据得到带有辐射强度信息三维产品，具有较强的应用价值。附图说明通过以下参照附图对本发明实施例的描述，本发明的上述以及其他目的、特征和优点将更为清楚，在附图中：图1示意性示出了根据本发明实施例的星载SAR三维产品生成方法的流程图；图2示意性示出了根据本发明实施例的星载SAR三维产品生成装置的框图；图3示意性示出了根据本发明实施例的适于实现星载SAR三维产品生成方法的电子设备的方框图。具体实施方式为使本发明的目的、技术方案和优点更加清楚明白，以下结合具体实施例，并参照附图，对本发明进一步详细说明。显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在此使用的术语仅仅是为了描述具体实施例，而并非意在限制本发明。在此使用的术语“包括”、“包含”等表明了所述特征、步骤、操作和/或部件的存在，但是并不排除存在或添加一个或多个其他特征、步骤、操作或部件。在此使用的所有术语具有本领域技术人员通常所理解的含义，除非另外定义。应注意，这里使用的术语应解释为具有与本说明书的上下文相一致的含义，而不应以理想化或过于刻板的方式来解释。在使用类似于“A、B和C等中至少一个”这样的表述的情况下，一般来说应该按照本领域技术人员通常理解该表述的含义来予以解释。目前，已有较多公开的数字地表模型数据，但未得到很好的利用，尚未出现在已有的数字地表模型的基础上直接生成星载SAR三维产品的方法。并且，在基于星载SAR生成三维产品时，由于是在斜距面成像，不能直接引入DSM数据来进行成像。有鉴于此，本发明提供了一种星载SAR三维产品生成方法及装置，可以在公开的数字地表模型数据的基础上直接生成星载SAR三维产品。图1示意性示出了根据本发明实施例的星载SAR三维产品生成方法的流程图。如图1所示，根据该实施例的星载SAR三维产品生成方法，可以包括操作S110~操作S170。在操作S110，获取公开的数字地表模型数据，对数字地表模型数据进行坐标转换，形成场景坐标系下的高程网格数据。需要说明的是，本发明实施例中，获取公开的数字地表模型数据之前，还包括获取星载SAR回波数据，其中，该星载SAR回波数据为二维图像数据。公开的数字地表模型数据例如可以为tif格式文件。本发明实施例中，对数字地表模型数据进行坐标转换，具体包括：根据大地坐标系对应椭球第一偏心率和卯酉圈曲率半径，将数字地表模型数据从大地坐标系转化为场景坐标系，形成场景坐标系下的高程网格数据。具体来说，场景坐标系下的高程网格数据根据以下公式计算得出：其中，e2表示大地坐标系对应的椭球第一偏心率；B、L、H分别表示大地坐标系下的某一参考点的经度、纬度和高度；n为该参考点的卯酉圈曲率半径；x、y、z分别表示该参考点在场景坐标系下的空间三维坐标。在操作S120，使用预设的曲面函数，对高程网格数据进行模拟，通过求解HASM方程，得到高程模拟初始值。HASM方程是以微分几何为基础，根据曲面的决定因素在曲面方程的约束下进行建模，可以从理论上解决了长期以来困扰曲面建模的误差问题和多尺度问题。该预设的曲面函数例如可以为Z=M，本操作在获取的数字地表模型的较粗网格数据的基础上进行模拟，并解算HASM方程组，得到高程模拟初始值M0。在操作S130，将高程模拟初始值与测得的实际高程值作差，并进行线性插值，得到高程误差曲面，判断高程误差曲面中的每一个网格点的误差是否大于预设误差阈值，如果是，则保留该网格点，将所有保留的网格点形成高程加细点。本发明实施例中，实际高程值是由GPS测量得到的高程值。预设误差阈值可以根据实际需要进行设置或者调整，具体数值本发明不做限制。在操作S140，对高程加细点进行聚类，分成不同类型的细化区域，对每个类型的细化区域的高程进行迭代赋值。不同类型的细化区域例如可以表示为。接着，根据以下公式对每个类型的细化区域的高程进行迭代赋值：其中，hi0表示当前网格的迭代初始高程值；hi-1表示上一层网络的高程值。在操作S150，在每个类型的细化区域中，再次求解HASM方程。在操作S160，重复上述S120~S150，直至高程误差曲面中的所有网格点的误差小于预设误差阈值，得到曲面地形校正数据。由此得到的曲面地形校正数据，是可用于三维成像的高精度曲面地形数据。在操作S170，使用后向投影算法对星载SAR回波数据和曲面地形校正数据进行成像，生成星载SAR三维产品。通过本发明的实施例，基于公开的数字地表模型，将其进行坐标转化，利用HASM方程迭代进行高精度曲面建模，得到细网格下的高程信息，再结合后向投影算法直接得到三维产品。由此，将数字地表模型DSM与后向投影算法有机的结合，最大程度发挥了数字地表模型的应用价值，给原有的三维信息加上了辐射强度信息的这一重要信息。并且，本发明实施例将公开的数字地表模型DSM作为三维成像的先验信息，直接三维成像，打破了先二维图像再三维重建的常规成像过程，充分利用了公开的数字地表模型，直接从星载SAR回波数据得到带有辐射强度信息的三维产品，具有较强的应用价值。图2示意性示出了根据本发明实施例的星载SAR三维产品生成装置的框图。如图2所示，根据该实施例的星载SAR三维产品生成装置200包括高程数据获取模块210、高程模拟模块220、高程加细模块230、聚类模块240、方程求解模块250、曲面数据获得模块260和三维产品生成模块270。高程数据获取模块210，用于获取公开的数字地表模型数据，对数字地表模型数据进行坐标转换，形成场景坐标系下的高程网格数据。高程模拟模块220，用于使用预设的曲面函数，对高程网格数据进行模拟，通过求解HASM方程，得到高程模拟初始值。高程加细模块230，用于将高程模拟初始值与测得的实际高程值作差，并进行线性插值，得到高程误差曲面，判断高程误差曲面中的每一个网格点的误差是否大于预设误差阈值，如果是，则保留该网格点，将所有保留的网格点形成高程加细点。聚类模块240，用于对高程加细点进行聚类，分成不同类型的细化区域，对每个类型的细化区域的高程进行迭代赋值。方程求解模块250，用于在每个类型的细化区域中，再次求解HASM方程。曲面数据获得模块260，用于重复上述高程模拟模块220至方程求解模块250步骤，直至高程误差曲面中的所有网格点的误差小于预设误差阈值，得到曲面地形校正数据。三维产品生成模块270，用于使用后向投影算法对星载SAR回波数据和曲面地形校正数据进行成像，生成星载SAR三维产品。需要说明的是，装置部分的实施例方式与方法部分的实施例方式对应类似，并且所达到的技术效果也对应类似，具体细节请参照上述方法实施例方式部分，在此不再赘述。根据本发明的实施例，高程数据获取模块210、高程模拟模块220、高程加细模块230、聚类模块240、方程求解模块250、曲面数据获得模块260和三维产品生成模块270中的任意多个可以合并在一个模块中实现，或者其中的任意一个模块可以被拆分成多个模块。或者，这些模块中的一个或多个模块的至少部分功能可以与其他模块的至少部分功能相结合，并在一个模块中实现。根据本发明的实施例，高程数据获取模块210、高程模拟模块220、高程加细模块230、聚类模块240、方程求解模块250、曲面数据获得模块260和三维产品生成模块270中的至少一个可以至少被部分地实现为硬件电路，例如现场可编程门阵列、可编程逻辑阵列、片上系统、基板上的系统、封装上的系统、专用集成电路，或可以通过对电路进行集成或封装的任何其他的合理方式等硬件或固件来实现，或以软件、硬件以及固件三种实现方式中任意一种或以其中任意几种的适当组合来实现。或者，高程数据获取模块210、高程模拟模块220、高程加细模块230、聚类模块240、方程求解模块250、曲面数据获得模块260和三维产品生成模块270中的至少一个可以至少被部分地实现为计算机程序模块，当该计算机程序模块被运行时，可以执行相应的功能。图3示意性示出了根据本发明实施例的适于实现星载SAR三维产品生成方法的电子设备的方框图。如图3所示，根据本发明实施例的电子设备300包括处理器301，其可以根据存储在只读存储器302中的程序或者从存储部分308加载到随机访问存储器303中的程序而执行各种适当的动作和处理。处理器301例如可以包括通用微处理器、指令集处理器和/或相关芯片组和/或专用微处理器）等等。处理器301还可以包括用于缓存用途的板载存储器。处理器301可以包括用于执行根据本发明实施例的方法流程的不同动作的单一处理单元或者是多个处理单元。在RAM 303中，存储有电子设备300操作所需的各种程序和数据。处理器 301、ROM302以及RAM 303通过总线304彼此相连。处理器301通过执行ROM 302和/或RAM 303中的程序来执行根据本发明实施例的方法流程的各种操作。需要注意，所述程序也可以存储在除ROM 302和RAM 303以外的一个或多个存储器中。处理器301也可以通过执行存储在所述一个或多个存储器中的程序来执行根据本发明实施例的方法流程的各种操作。根据本发明的实施例，电子设备300还可以包括输入/输出接口305，输入/输出接口305也连接至总线304。电子设备300还可以包括连接至I/O接口305的以下部件中的一项或多项：包括键盘、鼠标等的输入部分306；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分307；包括硬盘等的存储部分308；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分309。通信部分309经由诸如因特网的网络执行通信处理。驱动器310也根据需要连接至I/O接口305。可拆卸介质311，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器310上，以便于从其上读出的计算机程序根据需要被安装入存储部分308。本发明还提供了一种计算机可读存储介质，该计算机可读存储介质可以是上述实施例中描述的设备/装置/系统中所包含的；也可以是单独存在，而未装配入该设备/装置/系统中。上述计算机可读存储介质承载有一个或者多个程序，当上述一个或者多个程序被执行时，实现根据本发明实施例的星载SAR三维产品生成方法。根据本发明的实施例，计算机可读存储介质可以是非易失性的计算机可读存储介质，例如可以包括但不限于：便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本发明中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。例如，根据本发明的实施例，计算机可读存储介质可以包括上文描述的ROM 302和/或RAM 303和/或ROM 302和RAM 303以外的一个或多个存储器。附图中示出了一些方框图和/或流程图。应理解，方框图和/或流程图中的一些方框或其组合可以由计算机程序指令来实现。这些计算机程序指令可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器，从而这些指令在由该处理器执行时可以创建用于实现这些方框图和/或流程图中所说明的功能/操作的装置。本发明的技术可以硬件和/或软件的形式来实现。另外，本发明的技术可以采取存储有指令的计算机可读存储介质上的计算机程序产品的形式，该计算机程序产品可供指令执行系统使用或者结合指令执行系统使用。以上所述的具体实施例，对本发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施例而已，并不用于限制本发明，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
