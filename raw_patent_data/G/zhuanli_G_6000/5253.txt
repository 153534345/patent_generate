标题title
燃气检测方法和设备
摘要abst
本申请提供一种燃气检测方法和设备。该方法包括：燃气表可以在每一周期的唤醒时段计量得到的燃气表的唤醒流量。燃气表可以根据该唤醒流量计算得到该周期的休眠时段的休眠流量。燃气表可以根据该周期的唤醒流量和休眠流量，确定周期的周期流量。燃气表可以累加在主电池断电时各个周期的周期流量，得到总流量。当总流量大于或等于流量阈值时，燃气表可以记录并发送报警信号。本申请的方法，提高燃气检测效果。
权利要求书clms
1.一种燃气检测方法，其特征在于，应用于主电池断电的燃气表，所述方法包括：根据每一周期的唤醒时段计量得到的所述燃气表的唤醒流量，确定每一所述周期的周期流量；累加各个所述周期的所述周期流量，得到总流量；当所述总流量大于或等于流量阈值时，记录并发送报警信号。2.根据权利要求1所述的方法，其特征在于，所述根据每一周期的唤醒时段计量得到的所述燃气表的唤醒流量，确定每一所述周期的周期流量，具体包括：计量得到每一所述周期的所述唤醒时段的唤醒流量；根据每一所述周期的所述唤醒时段的时长和所述唤醒流量的比值，确定每一所述周期的平均流量；根据每一所述周期的所述平均流量和每一所述周期的休眠时段的时长的乘积，确定每一所述周期的休眠流量；根据每一所述周期的所述唤醒流量和每一所述周期的所述休眠流量之和，确定每一所述周期的所述周期流量。3.根据权利要求2所述的方法，其特征在于，所述计量得到每一所述周期的所述唤醒时段的唤醒流量，具体包括：实时获取瞬时流量；当连续的大于或等于扰动阈值的所述瞬时流量的数量大于或等于预设数量时，将连续的大于或等于扰动阈值的所述瞬时流量累加到所述唤醒流量中；否则，当连续的大于或等于扰动阈值的所述瞬时流量的数量小于所述预设数量时，舍弃连续的大于或等于扰动阈值的所述瞬时流量。4.根据权利要求2所述的方法，其特征在于，所述方法，还包括：在一所述周期开始之前，在预设范围内随机得到第一随机数和第二随机数；根据所述第一随机数，确定所述周期的所述唤醒时段的时长；根据所述第二随机数，确定所述周期的所述休眠时段的时长。5.根据权利要求1-4中任一项所述的方法，其特征在于，所述方法，还包括：当存在多个连续的所述周期的所述周期流量大于0时，累加多个连续的所述周期的周期数，得到累加值；当所述累加值大于或等于次数阈值时，记录并发送报警信号。6.根据权利要求1-4中任一项所述的方法，其特征在于，所述方法，还包括：根据所述燃气表在所述主电池断电前，所述燃气表每天的使用记录，确定所述燃气表的使用次数，及每次的使用时长和使用流量；根据所述使用时长和所述周期的预设范围，确定所述燃气表的次数阈值；根据所述使用流量确定所述燃气表的流量阈值。7.一种燃气检测装置，其特征在于，应用于主电池断电的燃气表，所述装置，包括：计量模块，用于根据每一周期的唤醒时段计量得到的所述燃气表的唤醒流量，确定每一所述周期的周期流量；控制模块，用于累加各个所述周期的所述周期流量，得到总流量；当所述总流量大于或等于流量阈值时，记录并发送报警信号。8.一种燃气表，其特征在于，所述燃气表，包括：存储器，处理器，其中，所述存储器，用于存储所述处理器的可执行指令，其中，所述处理器，用于根据所述存储器存储的可执行指令，实现如权利要求1至6中任意一项所述的燃气检测方法。9.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机程序，所述计算机程序被处理器执行时用于实现如权利要求1至6任一项所述的燃气检测方法。10.一种计算机程序产品，其特征在于，所述计算机程序产品包括计算机程序，所述计算机程序被处理器执行时实现权利要求1至6任一项所述的燃气检测方法。
说明书desc
技术领域本申请涉及电子电气领域，尤其涉及一种燃气检测方法和设备。背景技术随着技术不断发展，燃气行业中计量方法也不断演变和革新。目前，常用的燃气表包括机械式燃气表和电子式燃气表两种。现有技术中，常用的电子式燃气表在计量中需要电源为其有效供电。一旦电子式燃气表的电源出现电池断开、电量不足等断电情况时，该电子式燃气表将会丧失计量能力。丧失计量能力的燃气表，将无法监控用户的燃气使用情况，存在燃气检测效果差的问题。发明内容本申请提供一种燃气检测方法和设备，用以解决燃气检测效果差的问题。第一方面，本申请提供一种燃气检测方法，应用于主电池断电的燃气表，包括：根据每一周期的唤醒时段计量得到的燃气表的唤醒流量，确定每一周期的周期流量；累加各个周期的周期流量，得到总流量；当总流量大于或等于流量阈值时，记录并发送报警信号。可选地，根据每一周期的唤醒时段计量得到的燃气表的唤醒流量，确定每一周期的周期流量，具体包括：计量得到每一周期的唤醒时段的唤醒流量；根据每一周期的唤醒时段的时长和唤醒流量的比值，确定每一周期的平均流量；根据每一周期的平均流量和每一周期的休眠时段的时长的乘积，确定每一周期的休眠流量；根据每一周期的唤醒流量和每一周期的休眠流量之和，确定每一周期的周期流量。可选地计量得到每一周期的唤醒时段的唤醒流量，具体包括：实时获取瞬时流量；当连续的大于或等于扰动阈值的瞬时流量的数量大于或等于预设数量时，将连续的大于或等于扰动阈值的瞬时流量累加到唤醒流量中；否则，当连续的大于或等于扰动阈值的瞬时流量的数量小于预设数量时，舍弃连续的大于或等于扰动阈值的瞬时流量。可选地，方法，还包括：在一周期开始之前，在预设范围内随机得到第一随机数和第二随机数；根据第一随机数，确定周期的唤醒时段的时长；根据第二随机数，确定周期的休眠时段的时长。可选地，方法，还包括：当存在多个连续的周期的周期流量大于0时，累加多个连续的周期的周期数，得到累加值；当累加值大于或等于次数阈值时，记录并发送报警信号。可选地，方法，还包括：根据燃气表在主电池断电前，燃气表每天的使用记录，确定燃气表的使用次数，及每次的使用时长和使用流量；根据使用时长和周期的预设范围，确定燃气表的次数阈值；根据使用流量确定燃气表的流量阈值。第二方面，本申请提供一种燃气检测装置，应用于主电池断电的燃气表，包括：计量模块，用于根据每一周期的唤醒时段计量得到的燃气表的唤醒流量，确定每一周期的周期流量；控制模块，用于累加各个周期的周期流量，得到总流量；当总流量大于或等于流量阈值时，记录并发送报警信号。可选地，计量模块，具体用于：计量得到每一周期的唤醒时段的唤醒流量；根据每一周期的唤醒时段的时长和唤醒流量的比值，确定每一周期的平均流量；根据每一周期的平均流量和每一周期的休眠时段的时长的乘积，确定每一周期的休眠流量；根据每一周期的唤醒流量和每一周期的休眠流量之和，确定每一周期的周期流量。可选地，计量模块，具体用于：实时获取瞬时流量；当连续的大于或等于扰动阈值的瞬时流量的数量大于或等于预设数量时，将连续的大于或等于扰动阈值的瞬时流量累加到唤醒流量中；否则，当连续的大于或等于扰动阈值的瞬时流量的数量小于预设数量时，舍弃连续的大于或等于扰动阈值的瞬时流量。可选地，计量模块，还用于：在一周期开始之前，在预设范围内随机得到第一随机数和第二随机数；根据第一随机数，确定周期的唤醒时段的时长；根据第二随机数，确定周期的休眠时段的时长。可选地，控制模块，还用于：当存在多个连续的周期的周期流量大于0时，累加多个连续的周期的周期数，得到累加值；当累加值大于或等于次数阈值时，记录并发送报警信号。可选地，控制模块，还用于：根据燃气表在主电池断电前，燃气表每天的使用记录，确定燃气表的使用次数，及每次的使用时长和使用流量；根据使用时长和周期的预设范围，确定燃气表的次数阈值；根据使用流量确定燃气表的流量阈值。第三方面，本申请提供一种燃气表，包括：存储器和处理器；存储器用于存储计算机程序；处理器用于根据存储器存储的计算机程序执行第一方面及第一方面任一种可能的设计中的燃气检测方法。第四方面，本申请提供一种计算机可读存储介质，计算机可读存储介质中存储有计算机程序，当燃气表的至少一个处理器执行该计算机程序时，燃气表执行第一方面及第一方面任一种可能的设计中的燃气检测方法。第五方面，本申请提供一种计算机程序产品，计算机程序产品包括计算机程序，当燃气表的至少一个处理器执行该计算机程序时，燃气表执行第一方面及第一方面任一种可能的设计中的燃气检测方法。本申请提供的燃气检测方法和设备，通过每一周期的唤醒时段计量得到的燃气表的唤醒流量；根据该唤醒流量计算得到该周期的休眠时段的休眠流量；根据该周期的唤醒流量和休眠流量，确定周期的周期流量；累加在主电池断电时各个周期的周期流量，得到总流量；当总流量大于或等于流量阈值时，燃气表可以记录并发送报警信号的手段，实现在主电池断电后仍可保证在其10年的正常寿命周期内，保持流量监测功能，提高燃气检测效果的效果。附图说明为了更清楚地说明本申请或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请一实施例提供的一种燃气表的应用的场景示意图；图2为本申请一实施例提供的一种燃气检测方法的流程图；图3为本申请一实施例提供的一种燃气检测方法的流程图；图4为本申请一实施例提供的一种燃气检测装置的结构示意图；图5为本申请一实施例提供的一种燃气表的硬件结构示意图。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合本申请中的附图，对本申请中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”、“第四”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换。例如，在不脱离本文范围的情况下，第一信息也可以被称为第二信息，类似地，第二信息也可以被称为第一信息。取决于语境，如在此所使用的词语“如果”可以被解释成为“在……时”或“当……时”或“响应于确定”。再者，如同在本文中所使用的，单数形式“一”、“一个”和“该”旨在也包括复数形式，除非上下文中有相反的指示。应当进一步理解，术语“包含”、“包括”表明存在的特征、步骤、操作、元件、组件、项目、种类、和/或组，但不排除一个或多个其他特征、步骤、操作、元件、组件、项目、种类、和/或组的存在、出现或添加。此处使用的术语“或”和“和/或”被解释为包括性的，或意味着任一个或任何组合。因此，“A、B或C”或者“A、B和/或C”意味着“以下任一个：A；B；C；A和B；A和C；B和C；A、B和C”。仅当元件、功能、步骤或操作的组合在某些方式下内在地互相排斥时，才会出现该定义的例外。随着技术不断发展，燃气行业中计量方法也不断演变和革新。目前，常用的燃气表包括机械式燃气表和电子式燃气表两种。不同于膜式燃气表等传统的机械式燃气表，超声波燃气表、热式燃气表等电子式燃气表由于采用电子计量方式，因此在计量过程中，必须保证有效供电。一旦电子式燃气表的电源出现电池断开、电量不足等断电情况时，该电子式燃气表将会丧失计量能力。因此，当前市场上主流的电子式燃气表一般会在断电时自动关闭内置阀，停止供气，并不再计量。或者，电子式燃气表还可以在掉点之后依靠内置备用电池维持一段时间的计量，直至用户更换新电池。采用备用电池供电的方案，虽然可以再继续使用一段时间，但是由于备用电池主要采用不可更换的小型锂电池，因此。容量较小，难以长期维持。通常，该备用电池仅能维持1年左右。可见，现有的两种方案，都会在电子式燃气表断电后丧失计量能力。上述两种方案的设置，主要考虑到用户不会在断电导致电子式燃气表关阀后长期不更换新的主电池。然而，在实际使用中，由于各种原因，用户在电子式燃气表因断电导致关阀后，长期不更换主电池的情况普遍存在。而燃气表的生命周期通常为十年。在这十年内，只要总的断电时间超过1年，该电子式燃气表就会出现主电池断电后无法计量的情况。此时，用户只需拔掉主电池，使该电子式燃气表的内置阀关闭，就可以继续使用燃气。并且，在该电子式燃气表的内置阀关闭后，用户使用时将不会有任何燃气使用记录和流程累积量的计量。该人为打开的方式破坏内置阀的方式是一种目前较为常见的燃气盗用方法。该燃气盗用情况的出现，将会给燃气公司造成巨大的经济损失。并且在该情况下，燃气的盗用将难以察觉和追溯。因此，如何实现在电子式燃气表丧失计量能力时，继续监控用户的燃气使用情况，成为亟待解决的问题。针对上述问题，本申请提出了一种应用于主电池断电状态下的电子式燃气检测方法。在下述描述中，由于不涉及机械式燃气表，因此将电子式燃气表使用燃气表代称。本申请的燃气表中包括小型备用电池。该小型备用电池为该燃气表的原有设计，不需要在实现本申请的技术方案过程中，额外增加成本。当燃气表的主电池断电后，该燃气表进入断电状态，并启用该备用电池。燃气表将在主电池断电期间，使用该备用电池实现流量的计量。并且，为了延长该备用电池的使用寿命，本申请通过给计量部分电路间歇供电的方式来减小功耗，达到仅用备电即可维持10年全生命周期内计量功能的效果。在该备用电池供电期间，燃气表可以以一个唤醒时段和一个休眠时段作为一个周期，实现一次间歇性供电。在唤醒时段，燃气表可以正常计量。在休眠时段，燃气表停止计量，并根据唤醒时段的计量结果估算流量值。本申请的燃气检测方法可以在燃气表的全生命周期内，循环上述周期，实现在主电池断电期间的流量计量。同时，本申请还可以根据计量结果，提供集检测、记录、报警等功能于一体的全方位的防盗气解决方案，有效遏制用户盗气行为，保障燃气公司的利益。由于在主电池断电后，燃气表的内置阀自动关闭。因此，在燃气表断电后的用气行为，均可视为非正常用气。燃气表可以根据整个断电期间的用气情况，通过防盗气检测算法，判断是否存在盗气行为，如存在则记录盗气事件，并发送报警信号。燃气表还可以将断电期间的用气情况记录和报警信号保存在外置非易失性存储芯片中。同时，燃气表还可以通过采用加密算法、电子封印、硬件加密芯片等方式，保证该记录数据不可篡改，不会丢失，从而提高数据安全性，起到证据保全的作用。燃气表还可以在主电池上电后，判断是否存在报警信号。当存在报警信号时，燃气表可以立即将该报警信号通过远程通信上报到系统。系统可以在收到报警信号后立即通知燃气公司运维人员上门检测。燃气表还可以具有本地通信接口。该本地通信接口用于支持通过维护设备读取断电期间的用气情况记录和报警信号的功能。运维人员在上门后通过维护设备读取断电期间的用气情况记录和报警信号，并结合现场痕迹检查，综合判断用户是否确实存在盗气行为。如确实存在，则运维人员可以在表内记录，以作为追缴费用的依据。下面以具体地实施例对本申请的技术方案进行详细说明。下面这几个具体的实施例可以相互结合，对于相同或相似的概念或过程可能在某些实施例不再赘述。图1示出了本申请一实施例提供的一种燃气表的应用的场景示意图。如图1所示，燃气表上可以设置有本地通信接口。燃气表可以通过该本地通信接口将信息上传到维护设备。该维护设备可以为维护人员带到现场的设备。当维护人员将该维护设备带到燃气表所在的现场后，维护人员可以使用通过预设连接方式连接该维护设备与该燃气表。该连接方式可以包括通过连接线实现物理连接，或者，通过蓝牙、红外、NFC等功能实现短距离无线通信。连接后的维护设备可以从该燃气表中读取信息。该维护设备可以通过移动网络将读取的信息上传到服务器。服务器可以对该燃气表中的信息进行分析和处理。例如，当该信息中包括报警信号时，该服务器可以向管理员发送异常提醒。又如，当该信息中包括主电池断电后的用气记录时，该服务器可以根据预设算法，判断该燃气表的用气情况是否正常。又如，当该信息中包括主电池断电前的用气记录时，该服务器还可以根据该用气记录，确定用户的使用习惯。该使用习惯中可以包括每天使用次数、每次使用时长、每次使用流量等信息。一种示例中，燃气表中可以设置有远程通信模块。该远程通信模块可以为4G通讯模块等无线网络模块。该远程通信可以在唤醒时段，将使用记录、报警信号等信息直接上传到服务器。一种示例中，燃气表中可以设置有外置非易失性存储芯片。该存储芯片用于存储该燃气表的使用记录和报警信号等信息。本申请中，以燃气表为执行主体，执行如下实施例的燃气检测方法。具体地，该执行主体可以为燃气表的硬件装置，或者为燃气表中实现下述实施例的软件应用，或者为安装有实现下述实施例的软件应用的计算机可读存储介质，或者为实现下述实施例的软件应用的代码。图2示出了本申请一实施例提供的一种燃气检测方法的流程图。在图1所示实施例的基础上，如图2所示，以燃气表为执行主体，本实施例的方法可以包括如下步骤：S101、根据每一周期的唤醒时段计量得到的燃气表的唤醒流量，确定每一周期的周期流量。本实施例中，在主电池断电期间，为了提高备用电池的使用寿命，燃气表可以通过设置计量周期的方式，降低功耗。其中，每一个周期可以包含一个唤醒时段和一个休眠时段。燃气表可以通过唤醒时段、休眠时段交替循环的方式，实现间歇性供电。该方式可以使燃气表可以在使用备用电池时，在维持计量功能的同时，保证燃气表在全生命周期内，不会出现供电不足导致的计量功能丧失的情况。当燃气表的主电池恢复供电后，燃气表可以结束间歇性供电，并开启正常计量功能。在每一个周期内，燃气表可以在唤醒时段内正常计量该燃气表的流量。燃气表可以将一个周期的唤醒时段的总流量记为唤醒流量。在一个周期的休眠时段，由于备用电池不向燃气表供电，因此，该燃气表将无法正常进行流量的计量。因此，燃气表可以根据计量得到的唤醒流量，估计计算休眠时段的休眠流量。燃气表可以根据该唤醒流量和该休眠流量，确定一个周期内的周期流量。一种示例中，为了避免被用户掌握唤醒和休眠的规律，进而出现只在休眠时段用气的情况，本步骤使用随机数设置每一个周期内唤醒时段的时长和休眠时段的时长。其具体步骤可以包括：步骤1、燃气表可以在一周期开始之前，在预设范围内生成两个随机数。该两个随机数可以分别记为第一随机数和第二随机数。例如，该预设范围可以为5至10，该第一随机数和第二随机数可以分别为6和8。步骤2、燃气表可以根据第一随机数，确定周期的唤醒时段的时长。燃气表可以根据第二随机数，确定周期的休眠时段的时长。例如，当该第一随机数为6时，该唤醒时段的时长可以为6分钟。当该第二随机数为8时，该休眠时段的时长可以为8分钟。即，该燃气表可以在正常计量6分钟后，休眠8分钟。当该燃气表休眠8分钟后，该燃气表将进入下一个周期的唤醒时段。一种示例中，该周期流量得到具体计算过程可包括如下步骤：步骤1、燃气表可以计量得到每一周期的唤醒时段的唤醒流量。在唤醒时段，燃气表的备用电池会为该燃气表正常供电，以使该燃气表可以正常工作。该正常工作的燃气表可以正常计量通过该燃气表的流量。燃气表可以累计该周期的唤醒时段内，通过该燃气表的总流量，并将该总流量记为该周期内的唤醒流量。由于主电池断电后，该燃气表内的内置阀自动关闭。因此，理论上再此期间的任何用气均可视为盗气行为。但是由于电子式表的高计量灵敏性，该燃气表的计量可能会受到管道内气流扰动影响。因此，为了提高计量准确性，燃气表需要在计量时增加滤波算法。该滤波算法的使用，可以在瞬时流量达到一定门限且持续一段时间后判断为用气，并进行计量，从而避免扰动的影响。该滤波算法的具体使用步骤可以为：步骤11、燃气表在该唤醒时段内实时获取瞬时流量。步骤12、当该瞬时流量大于或等于扰动阈值时，燃气表可以开始计数。该计数可以在瞬时流量小于扰动阈值时停止。步骤13、当该计数得到的计数值大于或等于预设数量时，燃气表可以将该多个连续的大于或等于扰动阈值的瞬时流量累加到唤醒流量中。否则，当该计数值小于预设数量时，燃气表可以直接舍弃该多个连续的大于或等于扰动阈值的瞬时流量。步骤14、燃气表可以循环上述步骤直至唤醒时段结束。步骤2、燃气表可以以唤醒周期内的单位时间用气量作为整个计量周期内的用气量平均值。因此，燃气表可以根据每一周期的唤醒时段的时长和唤醒流量的比值，确定每一周期的平均流量。步骤3、燃气表可以根据每一周期的平均流量和每一周期的休眠时段的时长的乘积，确定每一周期的休眠流量。步骤4、燃气表可以根据每一周期的唤醒流量和每一周期的休眠流量之和，确定每一周期的周期流量。S102、累加各个周期的周期流量，得到总流量。本实施例中，燃气表可以累加各个周期的周期流量。在本实施例的累加过程中，燃气表并不要求各个存在周期流量的周期连续。例如，在第一天该燃气表可以存在一个周期的周期流量大于0。在一个月后，该燃气表存在一个周期的周期流量大于0。该两个周期流量将被累加到总流量。即，在总流量在于或等于流量阈值之前，该燃气表将持续累加在主电池断电期间的周期流量。S103、当总流量大于或等于流量阈值时，记录并发送报警信号。本实施例中，燃气表可以先判断总流量是否大于或等于流量阈值。该流量阈值可以为预设的门限值。当该总流量大于或等于流量阈值时，燃气表可以确定用户存在盗气行为，燃气表可以记录该次事件，并发送报警信号。一种示例中，燃气表可以通过远程通信模块直接将用气记录和报警信号发送到服务器。该远程通信模块的使用，使燃气表具备了主动上报报警信息，使燃气公司的运维人员可以远程获取可疑情况，从而及时安排现场查验，降低被盗气的风险。另一种示例中，燃气表可以将该报警信号和用气记录存储在E2PROM、Flash等外置非易失性存储芯片中。当该燃气表中包括外置非易失性存储芯片时，燃气表可以将该用气记录和报警信号等数据加密后保存在该外置非易失性存储芯片的多个备份区，并添加电子封印。该外置非易失性存储芯片中的数据记录仅允许燃气表在主电池断电期间自动写入，禁止任何人为写入操作。并且，维护设备在从该外置非易失性存储芯片读取数据时，需解密并验证，确保数据不会丢失或被篡改。再一种示例中，燃气表还可以将该用气记录和报警信号等数据保存在具备数据加解密、签名验签、安全存储等功能的安全芯片。该安全芯片的安全等级更高，相对的成本也会比普通存储芯片高。燃气表可以通过使用该加密算法和电子封印，或者使用硬件加密芯片，实现确保燃气表在主电池断电时，用气记录和报警信号不丢失、不被篡改，为燃气公司进行盗气行为判定和断电期间用气情况追溯提供依据。目前，关于民用燃气表施加电子封印后计量数据合法性的相关强制性规程已经在制定中。在该规程的发布可以提高本申请中将该加电子封印后计量数据作为证据的有效性。本申请提供的燃气检测方法，燃气表可以在每一周期的唤醒时段计量得到的燃气表的唤醒流量。燃气表可以根据该唤醒流量计算得到该周期的休眠时段的休眠流量。燃气表可以根据该周期的唤醒流量和休眠流量，确定周期的周期流量。燃气表可以累加在主电池断电时各个周期的周期流量，得到总流量。当总流量大于或等于流量阈值时，燃气表可以记录并发送报警信号。本申请中，通过在每一周期内设置唤醒时段和休眠时段的方式，实现燃气表的间歇使用，从而减少燃气表的备用电池的消耗，使该燃气表在不需要增加大容量的备用电池，即可在主电池断电后仍可保证在其10年的正常寿命周期内，保持流量监测功能，提高燃气检测效果。图3示出了本申请一实施例提供的一种燃气检测方法的流程图。在图2所示实施例的基础上，如图3所示，燃气表还可以根据连续使用的周期数，判断是否需要报警，以燃气表为执行主体，本实施例的方法可以包括如下步骤：S201、根据每一周期的唤醒时段计量得到的燃气表的唤醒流量，确定每一周期的周期流量。其中，步骤S201与图2实施例中的步骤S101实现方式类似，本实施例此处不再赘述。S202、当存在多个连续的周期的周期流量大于0时，累加多个连续的周期的周期数，得到累加值。本实施例中，燃气表可以在获取一个周期的周期流量后，判断该周期的周期流量是否大于0。当该周期的周期流量大于0时，燃气表可以开始累加周期数并得到累加值。燃气表可以继续获取下一个周期的周期流量，并在周期流量大于0时继续累加周期数。该累加过程可以在燃气表获取到一个周期的周期流量等于0时结束。该累加值计算期间的多个周期为连续周期，且该累加值个连续周期的周期流量均大于0。S203、当累加值大于或等于次数阈值时，记录并发送报警信号。本实施例中，燃气表可以获取预设的次数阈值。当该累加值大于或等于该次数阈值时，说明该燃气表存在持续用气的情况。即，用户可能存在盗气行为。此时，燃气表可以生成报警信号并发送。否则，当该累加值小于该次数阈值时，说明该燃气表的持续用气情况并没有到达警戒值，尚且不需要发送报警信号。本申请提供的燃气检测方法，燃气表可以在每一周期的唤醒时段计量得到的燃气表的唤醒流量。燃气表可以根据该唤醒流量计算得到该周期的休眠时段的休眠流量。燃气表可以根据该周期的唤醒流量和休眠流量，确定周期的周期流量。当存在多个连续的周期的周期流量大于0时，燃气表可以累加多个连续的周期的周期数，得到累加值。当累加值大于或等于次数阈值时，燃气表可以记录并发送报警信号。本申请中，通过设置次数阈值，实现燃气表的使用预警，提高检测效果。在上述实施例的基础上，燃气表还可以获取服务器发送的次数阈值和流量阈值。该次数阈值和流量阈值可以与该用户的用户习惯关联，从而提高该次数阈值和流量阈值的使用效果。服务器可以通过获取历史用气情况构建用户画像，从而生成更加个性化的次数阈值和流量阈值。以服务器为执行主体，该次数阈值和流量阈值的具体计算过程可以包括如下步骤：S301、服务器可以从燃气表中获取燃气表在主电池断电前每天的使用记录。该使用记录可以由该燃气表周期性上传到服务器。例如，每天上传、一周上传等。或者，该使用记录还可以由燃气表实时上传到服务器。服务器可以根据该根据燃气表在主电池断电前每天的使用记录，确定该燃气表对应的用户的使用规律。该使用规律可以为该服务器结合大数据算法分析得到的用户画像。该使用规律可以包括每天的使用次数，及每次的使用时长和使用流量。S302、服务器可以根据使用时长和周期的预设范围，确定燃气表的次数阈值。服务器可以根据使用流量确定燃气表的流量阈值。该用户画像的使用，使服务器可以针对不同的用户生成不同的用户画像，并针对每个用户单独配置算法参数，计算得到不同的次数阈值和流量阈值，从而实现参数的个性化设置。该方法的实现可以提高次数阈值和流量阈值的有效性，从而提高盗气检测准确率，减少漏报和误报的可能性。图4示出了本申请一实施例提供的一种燃气检测装置的结构示意图，如图4所示，本实施例的燃气检测装置10用于实现上述任一方法实施例中对应于燃气表的操作，本实施例的燃气检测装置10包括：计量模块11，用于根据每一周期的唤醒时段计量得到的燃气表的唤醒流量，确定每一周期的周期流量。控制模块12，用于累加各个周期的周期流量，得到总流量。当总流量大于或等于流量阈值时，记录并发送报警信号。一种示例中，计量模块11，具体用于：计量得到每一周期的唤醒时段的唤醒流量。根据每一周期的唤醒时段的时长和唤醒流量的比值，确定每一周期的平均流量。根据每一周期的平均流量和每一周期的休眠时段的时长的乘积，确定每一周期的休眠流量。根据每一周期的唤醒流量和每一周期的休眠流量之和，确定每一周期的周期流量。一种示例中，计量模块11，具体用于：在每个周期内，将周期内大于或等于扰动阈值的瞬时流量进行累加获得周期的唤醒时段的唤醒流量。一种示例中，计量模块11，还用于：在一周期开始之前，在预设范围内随机得到第一随机数和第二随机数。根据第一随机数，确定周期的唤醒时段的时长。根据第二随机数，确定周期的休眠时段的时长。一种示例中，控制模块12，还用于：当存在多个连续的周期的周期流量大于0时，累加多个连续的周期的周期数，得到累加值。当累加值大于或等于次数阈值时，记录并发送报警信号。一种示例中，控制模块12，还用于：根据燃气表在主电池断电前，燃气表每天的使用记录，确定燃气表的使用次数，及每次的使用时长和使用流量。根据使用时长和周期的预设范围，确定燃气表的次数阈值。根据使用流量确定燃气表的流量阈值。本申请实施例提供的燃气检测装置10，可执行上述方法实施例，其具体实现原理和技术效果，可参见上述方法实施例，本实施例此处不再赘述。图5示出了本申请实施例提供的一种燃气表的硬件结构示意图。如图5所示，该燃气表20，用于实现上述任一方法实施例中对应于燃气表的操作，本实施例的燃气表20可以包括：存储器21，处理器22和通信接口24。存储器21，用于存储计算机程序。该存储器21可能包含高速随机存取存储器，也可能还包括非易失性存储，例如至少一个磁盘存储器，还可以为U盘、移动硬盘、只读存储器、磁盘或光盘等。处理器22，用于执行存储器存储的计算机程序，以实现上述实施例中的燃气检测方法。具体可以参见前述方法实施例中的相关描述。该处理器22可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合发明所公开的方法的步骤可以直接体现为硬件处理器执行完成，或者用处理器中的硬件及软件模块组合执行完成。可选地，存储器21既可以是独立的，也可以跟处理器22集成在一起。当存储器21是独立于处理器22之外的器件时，燃气表20还可以包括总线23。该总线23用于连接存储器21和处理器22。该总线23可以是工业标准体系结构总线、外部设备互连总线或扩展工业标准体系结构总线等。总线可以分为地址总线、数据总线、控制总线等。为便于表示，本申请附图中的总线并不限定仅有一根总线或一种类型的总线。通信接口24用于实现与管理后台之间的通信，以及报警信号的发送。本实施例提供的燃气表可用于执行上述的燃气检测方法，其实现方式和技术效果类似，本实施例此处不再赘述。本申请还提供一种计算机可读存储介质，计算机可读存储介质中存储有计算机程序，计算机程序被处理器执行时用于实现上述的各种实施方式提供的方法。其中，计算机可读存储介质可以是计算机存储介质，也可以是通信介质。通信介质包括便于从一个地方向另一个地方传送计算机程序的任何介质。计算机存储介质可以是通用或专用计算机能够存取的任何可用介质。例如，计算机可读存储介质耦合至处理器，从而使处理器能够从该计算机可读存储介质读取信息，且可向该计算机可读存储介质写入信息。当然，计算机可读存储介质也可以是处理器的组成部分。处理器和计算机可读存储介质可以位于专用集成电路中。另外，该ASIC可以位于用户设备中。当然，处理器和计算机可读存储介质也可以作为分立组件存在于通信设备中。具体地，该计算机可读存储介质可以是由任何类型的易失性或非易失性存储设备或者它们的组合实现，如静态随机存取存储器，电可擦除可编程只读存储器，可擦除可编程只读存储器，可编程只读存储器，只读存储器，磁存储器，快闪存储器，磁盘或光盘。存储介质可以是通用或专用计算机能够存取的任何可用介质。本申请还提供一种计算机程序产品，该计算机程序产品包括计算机程序，该计算机程序存储在计算机可读存储介质中。设备的至少一个处理器可以从计算机可读存储介质中读取该计算机程序，至少一个处理器执行该计算机程序使得设备实施上述的各种实施方式提供的方法。本申请实施例还提供一种芯片，该芯片包括存储器和处理器，存储器用于存储计算机程序，处理器用于从存储器中调用并运行计算机程序，使得安装有芯片的设备执行如上各种可能的实施方式中的方法。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅是示意性的，例如，模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个模块可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或模块的间接耦合或通信连接，可以是电性，机械或其它的形式。其中，各个模块可以是物理上分开的，例如安装于一个的设备的不同位置，或者安装于不同的设备上，或者分布到多个网络单元上，或者分布到多个处理器上。各个模块也可以是集成在一起的，例如，安装于同一个设备中，或者，集成在一套代码中。各个模块可以以硬件的形式存在，或者也可以以软件的形式存在，或者也可以采用软件加硬件的形式实现。本申请可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。当各个模块以软件功能模块的形式实现的集成的模块，可以存储在一个计算机可读取存储介质中。上述软件功能模块存储在一个存储介质中，包括若干指令用以使得一台计算机设备或处理器执行本申请各个实施例方法的部分步骤。应该理解的是，虽然上述实施例中的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，其可以以其他的顺序执行。而且，图中的至少一部分步骤可以包括多个子步骤或者多个阶段，这些子步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，其执行顺序也不必然是依次进行，而是可以与其他步骤或者其他步骤的子步骤或者阶段的至少一部分轮流或者交替地执行。最后应说明的是：以上各实施例仅用以说明本申请的技术方案，而非对其限制。尽管参照前述各实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换。而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围。
