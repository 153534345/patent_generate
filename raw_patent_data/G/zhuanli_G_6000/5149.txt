标题title
一种高精度低成本铁路三维数字沙盘制作应用
摘要abst
本发明公开了一种高精度低成本铁路三维数字沙盘制作应用，先根据CAD施工总图，获得地形数据；根据步骤1中获得的所有地形数据，生成三维地形A；在C3D中选择CAD施工总图将坐标系进行修改，同时在Raster Design中将卫图C与三维地形A进行比例缩放；创建既有线路B；将步骤2中生成的三维地形A和步骤4中生成的既有线路B通过C3D与AIW交换格式后导入到AIW中，对既有线路B的高程按实际数据进行调整；下载高精度卫图C，在AIW中将三维地形A、既有线路B、卫图C进行整合；利用REVIT创建铁路类模型D；沙盘整合，形成三维数字沙盘E；通过三维数字沙盘E进行进度展示；最后形成施工模拟动画F，实现基于实景地形的施工方案动画模拟。
权利要求书clms
1.一种高精度低成本铁路三维数字沙盘制作应用，其特征在于，包括以下步骤：步骤1，根据CAD施工总图，获得地形数据；步骤2，根据步骤1中获得的所有地形数据，生成三维地形A；步骤3，在C3D中选择CAD施工总图将坐标系进行修改，同时在Raster Design中将卫图C与三维地形A进行比例缩放；步骤4，创建既有线路B；步骤5，将步骤2中生成的三维地形A和步骤4中生成的既有线路B通过C3D与AIW交换格式后导入到AIW中，对既有线路B的高程按实际数据进行调整；步骤6，下载高精度卫图C，在AIW中将三维地形A、既有线路B、卫图C进行整合；步骤7，利用REVIT创建铁路类模型D；步骤8，沙盘整合，形成三维数字沙盘E；步骤9，通过三维数字沙盘E进行进度展示；步骤10，形成施工模拟动画F，将步骤9中配置好的静态沙盘E1导出为OBJ格式的文件传至3Dmax动画制作软件中，实现基于实景地形的施工方案动画模拟。2.根据权利要求1所述的一种高精度低成本铁路三维数字沙盘制作应用，其特征在于，步骤1中所述获得地形数据的方法为：在C3D中通过选择类似实例的方式获取所有等高线、高程点，将获取到的所有高程线、高程点粘贴至原坐标，使地形在原位置。3.根据权利要求1所述的一种高精度低成本铁路三维数字沙盘制作应用，其特征在于，步骤2中所述生成三维地形A的方法为：当仅等高线数据完整时，采用等高线图形的方式生成三维地形A，当仅高程点数据完整时，采用高程点图形的方式生成三维地形A，当等高线数据和高程点数据都不完整时，采用等高线数据和高程点数据结合的方式生成三维地形A，当等高线数据和高程点数据都完整时，采用等高线图形或高程点图形任意一种方式生成三维地形A。4.根据权利要求1所述的一种高精度低成本铁路三维数字沙盘制作应用，其特征在于，步骤4中所述创建既有线路B的方法为：对与工程相关的临近既有线路，在CAD施工总图中提取线性路径，通过粘贴到原坐标的方式，将线性路径的平面曲线复制到三维地形A中，使用此线性路径创建路线、纵断面，进而生成既有线路B。5.根据权利要求1所述的一种高精度低成本铁路三维数字沙盘制作应用，其特征在于，步骤7中所述铁路类模型D包括桥梁专业模型、隧道专业模型、路基专业模型、轨道专业模型、接触网专业模型、电力专业模型、信号专业模型和通信专业模型，利用REVIT对桥梁专业模型、隧道专业模型、路基专业模型、轨道专业模型、接触网专业模型、电力专业模型、信号专业模型和通信专业模型进行制作。6.根据权利要求1所述的一种高精度低成本铁路三维数字沙盘制作应用，其特征在于，步骤8中所述形成三维数字沙盘E的方法为：将步骤7中创建的铁路类模型D通过REVIT导出为NWC格式得到铁路类模型D1，再通过NAVISWORKS打开铁路类模型D1导出为FBX格式得到铁路类模型D2，然后在AIW中加载数据源铁路类模型D2，在AIW内置铁路隧道，隐藏外墙后对隧道开挖。7.根据权利要求1所述的一种高精度低成本铁路三维数字沙盘制作应用，其特征在于，步骤9中所述通过三维数字沙盘E进行进度展示的方法为：将生成的三维数字沙盘E通过配置新方案的方式形成静态沙盘E1和动态沙盘E2，静态沙盘E1为工程完工后的状态，动态沙盘E2为实际现场进度中工程实体的状态，随着实际现场进度中工程实体的状态更新，静态沙盘E1与动态沙盘E2为可切换展示方式。8.根据权利要求7所述的一种高精度低成本铁路三维数字沙盘制作应用，其特征在于，所述动态沙盘E2的更新方式为：根据实际现场进度中工程实体的状态，重复步骤8，在动态沙盘E2中通过刷新数据源铁路类模型D2完成动态沙盘E2的更新，使动态沙盘E2与实际现场进度保持一致。
说明书desc
技术领域本发明涉及三维数字沙盘技术领域，尤其涉及一种高精度低成本铁路三维数字沙盘制作应用。背景技术在目前施工项目中，很多工程项目在施工过程中进行方案汇报及工程概况展示时，由于平面图纸无法直观展示工程实体以及地形环境之间的空间关系，三维模型有效解决了工程构件平面转三维的问题，进而衍生出了三维沙盘的概念，通过三维的方式直观展示工程概况，目前三维沙盘存在较多的是通过3D打印制作的三维实体沙盘，也有部分单位利用投影技术制作的三维电子沙盘等；三维实体沙盘通过合成材料打印成三维模型，但只能打印为工程完工后的状态，即为一次性制作的竣工模型，制作成本相对较高，地形准确度低，模型精度不高，无法展示工程模型细节，工程构件的精细程度与实体沙盘的尺寸有关，且不便根据施工进度更新工程实体完成情况，为静态沙盘，三维电子沙盘，地形信息多为无人机倾斜摄影的方式获取，然后以全息投影方式展示时设备昂贵、制作成本高，技术复杂，并不适用于普通工程项目。发明内容本发明的目的是提供一种高精度低成本铁路三维数字沙盘制作应用，要解决上述背景技术中提到的问题。为实现上述目的，本发明采用如下技术方案：一种高精度低成本铁路三维数字沙盘制作应用，包括以下步骤：步骤1，根据CAD施工总图，获得地形数据；步骤2，根据步骤1中获得的所有地形数据，生成三维地形A；步骤3，在C3D中选择CAD施工总图将坐标系进行修改，同时在Raster Design中将卫图C与三维地形A进行比例缩放；步骤4，创建既有线路B；步骤5，将步骤2中生成的三维地形A和步骤4中生成的既有线路B通过C3D与AIW交换格式后导入到AIW中，对既有线路B的高程按实际数据进行调整；步骤6，下载高精度卫图C，在AIW中将三维地形A、既有线路B、卫图C进行整合；步骤7，利用REVIT创建铁路类模型D；步骤8，沙盘整合，形成三维数字沙盘E；步骤9，通过三维数字沙盘E进行进度展示；步骤10，形成施工模拟动画F，将步骤9中配置好的静态沙盘E1导出为OBJ格式的文件传至3Dmax动画制作软件中，实现基于实景地形的施工方案动画模拟。进一步的，步骤1中所述获得地形数据的方法为：在C3D中通过选择类似实例的方式获取所有等高线、高程点，将获取到的所有高程线、高程点粘贴至原坐标，使地形在原位置。更进一步的，步骤2中所述生成三维地形A的方法为：当仅等高线数据完整时，采用等高线图形的方式生成三维地形A，当仅高程点数据完整时，采用高程点图形的方式生成三维地形A，当等高线数据和高程点数据都不完整时，采用等高线数据和高程点数据结合的方式生成三维地形A，当等高线数据和高程点数据都完整时，采用等高线图形或高程点图形任意一种方式生成三维地形A。更进一步的，步骤4中所述创建既有线路B的方法为：对与工程相关的临近既有线路，在CAD施工总图中提取线性路径，通过粘贴到原坐标的方式，将线性路径的平面曲线复制到三维地形A中，使用此线性路径创建路线、纵断面，进而生成既有线路B。更进一步的，步骤7中所述铁路类模型D包括桥梁专业模型、隧道专业模型、路基专业模型、轨道专业模型、接触网专业模型、电力专业模型、信号专业模型和通信专业模型，利用REVIT对桥梁专业模型、隧道专业模型、路基专业模型、轨道专业模型、接触网专业模型、电力专业模型、信号专业模型和通信专业模型进行制作。更进一步的，步骤8中所述形成三维数字沙盘E的方法为：将步骤7中创建的铁路类模型D通过REVIT导出为NWC格式得到铁路类模型D1，再通过NAVISWORKS打开铁路类模型D1导出为FBX格式得到铁路类模型D2，然后在AIW中加载数据源铁路类模型D2，在AIW内置铁路隧道，隐藏外墙后对隧道开挖。更进一步的，步骤9中所述通过三维数字沙盘E进行进度展示的方法为：将生成的三维数字沙盘E通过配置新方案的方式形成静态沙盘E1和动态沙盘E2，静态沙盘E1为工程完工后的状态，动态沙盘E2为实际现场进度中工程实体的状态，静态沙盘E1与动态沙盘E2为可切换展示方式。更进一步的，所述动态沙盘E2的更新方式为：根据实际现场进度中工程实体的状态，重复步骤8，在动态沙盘E2中通过刷新数据源铁路类模型D2完成动态沙盘E2的更新，使动态沙盘E2与实际现场进度保持一致。与现有技术相比本发明具有以下特点和有益效果：本发明提出通过步骤1和步骤2中C3D提取带有高程位置信息的设计总图中的高程点、高程线的方式生成三维地形，并后续制作三维数字沙盘，制作成本低，高程信息准确,进而可完成基于实景地形的工程方案汇报、进度展示、工程构件细节展示，避免了现有技术电子沙盘的制作过程中，地形多采用卫图软件下载tif格式的高程信息或无人机倾斜摄影的方式，卫图方式在实践中存在精度低的情况，地形不准确，且无人机倾斜摄影后期模型处理难度大，模型体量大，整合系统加载负担大，成本高等问题；同时，基于三维数字沙盘导出可动画制作的FBX格式，进行施工方案模拟动画展示，可真实反应施工模拟时周边的环境信息，在工程项目中，代替传统平面图纸的汇报方式，展示交互性更好，尤其针对复杂线性工程，可直观展示各个线路间的空间位置关系，根据施工进度可以实时更新工程实体完成情况，已在新建某铁路项目建设中经实践应用，效果良好，给施工展示带来便捷性，简单易行，提高沟通效率，具有安全、适用等特点，有很好的推广和实用价值，广泛的推广应用后会产生良好的经济效益。附图说明图1为本发明整体流程示意图；图2为本发明步骤1界面示意图；图3为本发明步骤2界面示意图；图4为本发明步骤3界面示意图；图5为本发明步骤4界面示意图；图6为本发明步骤6界面示意图；图7为本发明步骤7界面示意图；图8为本发明步骤8界面示意图；图9为本发明步骤9界面示意图；图10为本发明步骤10界面示意图。具体实施方式为使本发明实现的技术手段、创新特征、达成目的与功效易于明白了解，下面对本发明进一步说明。在此记载的实施例为本发明的特定的具体实施方式，用于说明本发明的构思，均是解释性和示例性的，不应解释为对本发明实施方式及本发明范围的限制。除在此记载的实施例外，本领域技术人员还能够基于本申请权利要求书和说明书所公开的内容采用显而易见的其它技术方案，这些技术方案包括采用对在此记载的实施例的做出任何显而易见的替换和修改的技术方案。本发明公开了一种高精度低成本铁路三维数字沙盘制作应用，如图1所示，包括以下步骤：步骤1，如图2所示，获取地形数据，根据设计单位提供的CAD施工总图，在C3D中通过选择类似实例的方式获取所有等高线、高程点，为保证地形在原位置，需将获取到的所有高程线、高程点粘贴至原坐标。步骤2，如图3所示，生成三维地形A，在步骤1中已获得所有地形数据，利用等高线图形或高程点图形或等高线和高程点两者结合的方式生成三维地形A，具体采用何种方式生成三维地形A取决与地形数据的完整性，当等高线数据完整时，可仅采用等高线图形的方式生成三维地形A，同样地，当高程点数据完整时，可仅采用高程点图形的方式生成三维地形A，当等高线数据和高程点数据都不完整时，可采用等高线数据和高程点数据结合的方式生成三维地形A，当等高线数据和高程点数据都完整时，采用等高线图形或高程点图形任意一种方式生成三维地形A。步骤3，如图4所示，坐标系配置，考虑到整合系统AIW的坐标系与C3D的坐标系二者不一致的情况，AIW指InfraWorks 360，在C3D中选择CAD施工总图将坐标系进行修改，使整合系统AIW的坐标系与C3D的坐标系一致，从而避免整合系统AIW的坐标系与C3D的坐标系二者不一致，同时在Raster Design中将卫图C与三维地形A进行比例缩放。步骤4，如图5所示，创建既有线路B，对与工程相关的临近既有线路，在CAD施工总图中提取线性路径，通过粘贴到原坐标的方式，将线性路径的平面曲线复制到三维地形A中，使用此线性路径创建路线、纵断面，进而生成既有线路B。步骤5，将步骤2中生成的三维地形A和步骤4中生成的既有线路B通过C3D与AIW交换格式后导入到AIW中，对既有线路B的高程按实际数据进行调整。步骤6，如图6所示，卫图整合，在卫图工具中下载高精度卫图C，在AIW中，将三维地形A、既有线路B、卫图C进行整合，在步骤3中已对C3D的坐标系进行了一致性的修改以及卫图调整，下载的卫图C与三维地形A可以完美贴合。步骤7，如图7所示，利用REVIT创建铁路类模型D，铁路类模型D包括桥梁专业模型、隧道专业模型、路基专业模型、轨道专业模型、接触网专业模型、电力专业模型、信号专业模型、通信专业模型，利用REVIT对桥梁专业模型、隧道专业模型、路基专业模型、轨道专业模型、接触网专业模型、电力专业模型、信号专业模型、通信专业模型进行制作。步骤8，如图8所示，沙盘整合，由于在AIW中直接导入REVIT中的铁路类模型D需上传到云服务器，速度慢，所以将步骤7中创建的铁路类模型D通过REVIT导出为NWC格式得到铁路类模型D1，再通过NAVISWORKS打开铁路类模型D1导出为FBX格式得到铁路类模型D2，然后在AIW中加载数据源铁路类模型D2，从而形成三维数字沙盘E，避免在AIW中直接导入REVIT中的铁路类模型D需上传到云服务器导致的速度慢的问题，并且可以保持材质不丢失；通过在AIW内置铁路隧道，隐藏外墙后对隧道开挖，由于FBX格式的隧道专业模型载入AIW后，隧道专业模型的出入口无法对地形进行开挖，通过AIW内置铁路隧道，隐藏外墙后对隧道开挖，以保证外部导入的模型与三维地形A的贴合。步骤9，如图9所示，通过三维数字沙盘E进行进度展示，施工过程中，将生成的三维数字沙盘E通过配置新方案的方式形成静态沙盘E1和动态沙盘E2，静态沙盘E1为工程完工后的状态，动态沙盘E2为实际现场进度中工程实体的状态，随着实际现场进度中工程实体的状态更新，静态沙盘E1与动态沙盘E2为可切换展示方式，关闭编辑模式，通过鼠标左右键完成沙盘浏览展示；根据实际现场进度更新动态沙盘E2，重复步骤8，在动态沙盘E2中通过刷新数据源铁路类模型D2完成动态沙盘E2的更新，使动态沙盘E2与实际现场进度保持一致，实现根据施工进度可以实时更新工程实体完成情况。步骤10，如图10所示，形成施工模拟动画F，将步骤9中配置好的静态沙盘E1导出为OBJ格式的文件传至3Dmax动画制作软件中，完成基于实景地形的施工方案动画模拟,打破传统施工模拟动画中虚拟周边环境的形式，从而形成施工模拟动画F。本发明提出通过步骤1和步骤2中C3D提取带有高程位置信息的设计总图中的高程点、高程线的方式生成三维地形，并后续制作三维数字沙盘，制作成本低，高程信息准确,进而可完成基于实景地形的工程方案汇报、进度展示、工程构件细节展示，避免了现有技术电子沙盘的制作过程中，地形多采用卫图软件下载tif格式的高程信息或无人机倾斜摄影的方式，卫图方式在实践中存在精度低的情况，地形不准确，且无人机倾斜摄影后期模型处理难度大，模型体量大，整合系统加载负担大，成本高等问题；同时，基于三维数字沙盘导出可动画制作的FBX格式，进行施工方案模拟动画展示，可真实反应施工模拟时周边的环境信息，在工程项目中，代替传统平面图纸的汇报方式，展示交互性更好，尤其针对复杂线性工程，可直观展示各个线路间的空间位置关系，根据施工进度可以实时更新工程实体完成情况，已在新建某铁路项目建设中经实践应用，效果良好，给施工展示带来便捷性，简单易行，提高沟通效率。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
