标题title
机器人部署方法、装置、计算机设备及存储介质
摘要abst
本发明涉及机器人导航领域，公开了一种机器人部署方法、装置、计算机设备及存储介质，其方法包括：根据加载指令加载指定场景的地图数据并在预设界面生成与地图数据对应的初始地图；根据路径绘制指令在初始地图上生成拓扑路径；根据监测指令获取机器人的动态位置数据并在预设界面展示机器人的动态位置，动态位置数据包括动态位置及动态朝向；根据配置指令和动态位置数据在拓扑路径上配置场景元素，以得到导航数据地图。本发明可以提高机器人的部署效率。
权利要求书clms
1.一种机器人部署方法，其特征在于，包括：获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图；获取路径绘制指令，根据所述路径绘制指令在所述初始地图上生成拓扑路径；获取监测指令，根据所述监测指令获取机器人的动态位置数据并在所述预设界面展示所述动态位置数据；获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图。2.如权利要求1所述的机器人部署方法，其特征在于，所述获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图之后，还包括：获取检查指令，根据所述检查指令对所述场景元素和所述拓扑路径进行检查；若所述场景元素未通过检查，获取场景元素修正指令，根据所述场景元素修正指令对所述场景元素进行位置修改；若所述拓扑路径未通过检查，获取路径修正指令，根据所述路径修正指令对所述拓扑路径进行修正。3.如权利要求1所述的机器人部署方法，其特征在于，所述获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图之前，还包括：获取连接指令，根据所述连接指令与所述机器人建立连接。4.如权利要求1所述的机器人部署方法，其特征在于，所述获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图，包括：获取场景元素添加指令，根据所述场景元素添加指令在所述拓扑路径上添加场景元素；向所述机器人发送抵达元素采集点指令，以使所述机器人根据所述抵达元素采集点指令抵达所述场景元素的数据采集点。5.如权利要求4所述的机器人部署方法，其特征在于，所述向所述机器人发送抵达元素采集点指令，以使所述机器人根据所述抵达元素采集点指令抵达所述场景元素的数据采集点之后，还包括：获取所述机器人在所述数据采集点上采集的场景位置数据；所述动态位置数据包括所述场景位置数据。6.如权利要求1所述的机器人部署方法，其特征在于，所述获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图之后，还包括：获取地图发送指令，根据所述地图发送指令将所述导航数据地图发送给所述机器人。7.如权利要求1所述的机器人部署方法，其特征在于，还包括：获取管理指令，根据所述管理指令对所述机器人进行配置管理；所述配置管理包括巡航配置管理、调度配置管理、定位码配置管理或电话簿配置管理。8.一种机器人部署装置，其特征在于，包括：加载地图模块，用于获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图；路径绘制模块，用于获取路径绘制指令，根据所述路径绘制指令在所述初始地图上生成拓扑路径；监测模块，用于获取监测指令，根据所述监测指令获取机器人的动态位置数据并在所述预设界面展示所述动态位置数据；配置模块，用于获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图。9.一种计算机设备，包括存储器和处理器，所述存储器存储有可在所述处理器上运行的计算机可读指令，其特征在于，所述处理器执行所述计算机可读指令时可实现如权利要求1至7中任意一种所述的机器人部署方法。10.一个或多个存储有计算机可读指令的可读存储介质，所述计算机可读指令被一个或多个处理器执行时，使得所述一个或多个处理器执行如权利要求1至7中任意一种所述的机器人部署方法。
说明书desc
技术领域本发明涉及机器人导航领域，尤其涉及一种机器人部署方法、装置、计算机设备及存储介质。背景技术随着科技的进步，机器人逐渐普及。其中，对于具有配送功能的机器人，需要部署好相应的导航信息，如拓扑地图、调度地图、巡航地图等。现有技术中，导航信息一般在机器人的配置页面上进行部署。由于应用场景复杂多变，这种部署方式的准确性较差，需要工作人员反复调试方可完成部署，部署效率偏低。发明内容基于此，有必要针对上述技术问题，提供一种机器人部署方法、装置、计算机设备及存储介质，以提高机器人的部署效率。一种机器人部署方法，包括：获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图；获取路径绘制指令，根据所述路径绘制指令在所述初始地图上生成拓扑路径；获取监测指令，根据所述监测指令获取机器人的动态位置数据并在所述预设界面展示所述动态位置数据；获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图。一种机器人部署装置，包括：加载地图模块，用于获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图；路径绘制模块，用于获取路径绘制指令，根据所述路径绘制指令在所述初始地图上生成拓扑路径；监测模块，用于获取监测指令，根据所述监测指令获取机器人的动态位置数据并在所述预设界面展示所述动态位置数据；配置模块，用于获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图。一种计算机设备，包括存储器和处理器，所述存储器存储有可在所述处理器上运行的计算机可读指令，所述处理器执行所述计算机可读指令时实现上述机器人部署方法。一个或多个存储有计算机可读指令的可读存储介质，所述计算机可读指令被一个或多个处理器执行时，使得所述一个或多个处理器执行如上述机器人部署方法。上述机器人部署方法、装置、计算机设备及存储介质，通过在初始地图上配置拓扑路径和场景元素，大大提高导航数据地图的准确性，减少重复调试的次数，从而提高机器人的部署效率。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例的描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是本发明一实施例中机器人部署方法的一流程示意图；图2是本发明一实施例预设界面的示意图；图3是本发明一实施例的初始地图；图4是本发明一实施例在初始地图上设置拓扑路径的示意图；图5是本发明一实施例的与机器人连接的页面；图6是本发明一实施例中机器人部署装置的一结构示意图；图7是本发明一实施例中计算机设备的一示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。如图1所示，一种机器人部署方法，包括步骤S10-S40。S10、获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图。可理解地，预设界面可以是应用程序的页面，也可以是网络页面，在本实施例中预设界面就是指可以加载场景地图数据并使机器人安装部署过程可视化的软件界面。预设界面用于配置机器人的导航参数，完成机器人在指定场景的部署。指定场景包括但不限于餐厅、医院、酒店。如图2所示，图2为一示例的预设界面。预设界面设置有菜单栏、工具栏、元素列表和元素属性栏。地图数据可以是预先准备好的地图包，如应用场景的平面地图等。可以在预设界面加载指定场景的地图数据，生成初始地图。如图3所示，图3为一示例的初始地图。S20、获取路径绘制指令，根据所述路径绘制指令在所述初始地图上生成拓扑路径。可理解地，路径绘制指令可以是基于工作人员输入操作所生成的指令。预设界面上设置有路径编辑控件，工作人员可以激活路径编辑控件，然后在初始地图上完成拓扑路径的编辑操作。如图4所示，图4为一示例中在初始地图上设置拓扑路径的示意图。S30、获取监测指令，根据所述监测指令获取机器人的动态位置数据并在所述预设界面展示所述动态位置数据。可理解地，在预设界面上设置有监测按钮控件，点击该监测按钮控件，可以发出监测指令，实时从布置在指定场景的机器人获取动态位置数据。在此处，动态位置数据包括机器人的动态位置及动态朝向。可以在预设界面上显示机器人的动态位置。S40、获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图。可选的，配置指令可以是基于工作人员输入操作所生成的指令。工作人员可以在动态位置数据的参考下，在拓扑路径上配置场景元素。在此处，场景元素的配置包括但不限于添加、修改和删除。场景元素的修改可以涉及元素类型的修改，如将速度限制区改成豁免区。在执行多次编辑指令之后，可以获得导航数据地图。本实施例通过在初始地图上配置拓扑路径和场景元素，大大提高导航数据地图的准确性，减少重复调试的次数，从而提高机器人的部署效率。可选的，可选的，步骤S40之后，即所述获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图之后，还包括：S51、获取检查指令，根据所述检查指令检查对所述场景元素和所述拓扑路径进行检查；S52、若所述场景元素未通过检查，获取场景元素修正指令，根据所述场景元素修正指令对所述场景元素进行位置修改；S53、若所述拓扑路径未通过检查，获取路径修正指令，根据所述路径修正指令对所述拓扑路径进行修正。可理解地，在预设界面上设置有检查控件，点击检查控件可生成相应的检查指令。通过检查指令可以对场景元素和拓扑路径进行检查，以检查场景元素和拓扑路径是否存在错误。在此处，检查控件的功能与机器人的机型相关。不同类型的机器人，其检查功能也有差异。当检测到存在场景元素未通过检查，可以通过场景元素修正指令对场景元素进行位置修改。在此处，场景元素修正指令可以是工作人员输入的指令，也可以是自动调节程序产生的指令。当检测到存在拓扑路径未通过检查，可以通过拓扑路径修正指令对拓扑路径进行位置修改。在此处，拓扑路径修正指令可以是工作人员输入的指令，也可以是自动调节程序产生的指令。本实施例可以对导航数据地图进行纠错。可选的，步骤S10之前，即所述获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图之前，还包括：S11、获取连接指令，根据所述连接指令与所述机器人建立连接。在一个实施例中，在预设界面上设置有连接控件，点击连接控件可生成相应的连接指令。在一示例中，点击连接控件，即可弹出相应的连接窗口。在连接窗口输入机器人的IP地址，然后点击连接按钮，可以与机器人建立连接。如图5所示，图5为一示例中与机器人连接的页面。本实施例可以与机器人建立连接，便于从机器人接收数据。可选的，步骤S40，即所述获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图，包括：S401、获取场景元素添加指令，根据所述场景元素添加指令在所述拓扑路径上添加场景元素；S402、向所述机器人发送抵达元素采集点指令，以使所述机器人根据所述抵达元素采集点指令抵达所述场景元素的数据采集点。可理解地，场景元素添加指令和抵达元素采集点指令可以是基于工作人员输入操作所生成的指令。通过场景元素添加指令，可以在拓扑路径上添加场景元素。在一些示例中，场景元素可以划分为不同的类型，如：送餐类元素：餐桌点、出餐点、门迎点、路径、抵达点、洗碗点、停靠点、回收点、充电桩；清洁类元素：清洁区域、 充电桩；楼宇类元素：门禁点、电梯间、电梯等待点、电梯呼梯点、电梯排队点、闸机点；屏蔽类元素：虚拟墙、特殊区域、速度限制区、禁止绕行区、窄过道区、RGBD特殊区、电梯间区域、豁免区。需要注意的是，在此处，豁免区指的是在该区域内豁免某种监测功能，如豁免深度相机、豁免激光雷达或者全部豁免。每一场景元素可以设置有一个数据采集点。可以通过抵达元素采集点指令，可以使机器人抵达场景元素的数据采集点。机器人抵达到数据采集点之后，可以进行相应的位置数据采集。本实施例可以实现场景元素的添加以及控制机器人移动至场景元素的数据采集点。可选的，步骤S402之后，即所述向所述机器人发送抵达元素采集点指令，以使所述机器人根据所述抵达元素采集点指令抵达所述场景元素的数据采集点之后，还包括：S403、从所述机器人在所述数据采集点上采集的场景位置数据；所述动态位置数据包括所述场景位置数据。可理解地，在机器人抵达数据采集点之后，可以记录当前机器人的位姿数据，将该位姿数据与当前的场景元素关联，生成场景位置数据。在此处，场景位置数据属于机器人的动态位置数据的一种。通过本实施例提供的机器人部署方法，可以获得每一个场景元素的场景位置数据，场景位置数据可用于后续机器人导航时位置的比对，提高导航精度。可选的，步骤S40之后，即在实现所述获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图之后，所述处理器用于调用并执行所述计算机可读指令时还实现：S60、获取地图发送指令，根据所述地图发送指令将所述导航数据地图发送给所述机器人。可理解地，在预设界面上设置有“发送”按钮。点击“发送”按钮，可产生地图发送指令，可以通过该地图发送指令将导航数据地图发送给机器人。在一些示例中，可以指定发送的机器人对象。例如，地图数据由机器人A采集，然后发送给机器人B。本实施例可以实现导航数据地图的传送，提高机器人更新地图数据的便利性。可选的，所述处理器用于调用并执行所述计算机可读指令时还实现如下步骤：S71、获取管理指令，根据所述管理指令对所述机器人进行配置管理；所述配置管理包括巡航配置管理、调度配置管理、定位码配置管理或电话簿配置管理。在一些示例中，预设界面设置有巡航配置按钮，用于设置机器人的巡航规则，实现巡航配置管理。例如，巡航规则包括巡航时间和频次。预设界面设置有调度按钮，用于设置机器人的调度规则，实现调度配置管理。例如，调度规则包括去程不可达和回程不可达。预设界面设置有定位码管理按钮，用于查询或删除定位码，实现定位码配置管理。预设界面设置有电话簿管理按钮，用于配置电话簿的预留电话信息，实现电话簿配置管理。预设界面可以设置有ADB服务菜单。可以通过ADB服务菜单与机器人交互，实现如下功能：地图拉取、日志拉取、音乐推送、logo推送、apk安装、apk卸载等。本实施例中，通过一些功能配置管理，完善了机器人的功能部署。应理解，上述实施例中各步骤的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。在一实施例中，提供一种机器人部署装置，该机器人部署装置与上述实施例中机器人部署方法一一对应。如图6所示，该机器人部署装置包括加载地图模块10、路径绘制模块20、监测模块30和配置模块40。各功能模块详细说明如下：加载地图模块10，用于获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图；路径绘制模块20，用于获取路径绘制指令，根据所述路径绘制指令在所述初始地图上生成拓扑路径；监测模块30，用于获取监测指令，根据所述监测指令获取机器人的动态位置数据并在所述预设界面展示所述动态位置数据；配置模块40，用于获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图。可选的，机器人部署装置还包括：检查模块，用于获取检查指令，根据所述检查指令对所述场景元素和所述拓扑路径进行检查；元素修改模块，用于若所述场景元素未通过检查，获取场景元素修正指令，根据所述场景元素修正指令对所述场景元素进行位置修改；路径修改模块，用于若所述拓扑路径未通过检查，获取路径修正指令，根据所述路径修正指令对所述拓扑路径进行修正。可选的，机器人部署装置还包括：连接模块，用于获取连接指令，根据所述连接指令与所述机器人建立连接。可选的，配置模块40包括：元素添加单元，用于获取场景元素添加指令，根据所述场景元素添加指令在所述拓扑路径上添加场景元素；移动单元，用于向所述机器人发送抵达元素采集点指令，以使所述机器人根据所述抵达元素采集点指令抵达所述场景元素的数据采集点。可选的，配置模块40还包括：位置数据采集单元，用于获取所述机器人在所述数据采集点上采集的场景位置数据；所述动态位置数据包括所述场景位置数据。可选的，机器人部署装置还包括：地图发送模块，用于获取地图发送指令，根据所述地图发送指令将所述导航数据地图发送给所述机器人。可选的，配置模块40还包括：管理单元，用于获取管理指令，根据所述管理指令对所述机器人进行配置管理；所述配置管理包括巡航配置管理、调度配置管理、定位码配置管理或电话簿配置管理。关于机器人部署装置的具体限定可以参见上文中对于机器人部署方法的限定，在此不再赘述。应理解，上述实施例中各步骤的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。在一个实施例中，提供了一种计算机设备，该计算机设备可以是服务器、笔记本电脑、台式电脑以及其他可独立运行的终端设备等，其内部结构图可以如图7所示。该计算机设备包括通过系统总线连接的处理器、存储器、网络接口和数据库。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括可读存储介质、内存储器。该可读存储介质存储有操作系统、计算机可读指令和数据库。该内存储器为可读存储介质中的操作系统和计算机可读指令的运行提供环境。该计算机设备的数据库用于存储机器人部署方法所涉及的数据。该计算机设备的网络接口用于与外部的终端通过网络连接通信。该计算机可读指令被处理器执行时以实现一种机器人部署方法。本实施例所提供的可读存储介质包括非易失性可读存储介质和易失性可读存储介质。在一个实施例中，提供了一种计算机设备，包括存储器和处理器，所述存储器存储有可在处理器上运行的计算机可读指令，处理器执行计算机可读指令时实现以下步骤：获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图；获取路径绘制指令，根据所述路径绘制指令在所述初始地图上生成拓扑路径；获取监测指令，根据所述监测指令获取机器人的动态位置数据并在所述预设界面展示所述动态位置数据；获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图。在一个实施例中，提供了一个或多个存储有计算机可读指令的计算机可读存储介质，本实施例所提供的可读存储介质包括非易失性可读存储介质和易失性可读存储介质。可读存储介质上存储有计算机可读指令，计算机可读指令被一个或多个处理器执行时实现以下步骤：获取加载指令，根据所述加载指令加载指定场景的地图数据生成与所述地图数据对应的初始地图，并在预设界面显示所述初始地图；获取路径绘制指令，根据所述路径绘制指令在所述初始地图上生成拓扑路径；获取监测指令，根据所述监测指令获取机器人的动态位置数据并在所述预设界面展示所述动态位置数据；获取配置指令，根据所述配置指令和所述动态位置数据在所述拓扑路径上配置场景元素，以得到导航数据地图。在一个实施例中，还提供了一种机器人部署系统，所述系统包括机器人、上述计算机设备，机器人和计算机设备可通信连接，上述计算机设备可实现上述机器人部署方法的步骤，每个步骤的具体限定可以参见上文中对于机器人部署方法的限定，在此不再赘述。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机可读指令来指令相关的硬件来完成，所述的计算机可读指令可存储于一非易失性可读取存储介质或易失性可读存储介质中，该计算机可读指令在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路 DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将所述装置的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。以上所述实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围，均应包含在本发明的保护范围之内。
