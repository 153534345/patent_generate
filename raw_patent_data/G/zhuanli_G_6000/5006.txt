标题title
一种墙板膜具喷涂效果的智能检测方法
摘要abst
本发明涉及图像处理技术领域，具体涉及一种墙板膜具喷涂效果的智能检测方法。方法包括：对图像进行分割，得到各子区域；根据各子区域中各像素点对应的色调、饱和度和亮度，得到各目标子区域；根据各目标子区域中各像素点的邻域像素点，得到各目标子区域中各像素点的特征指标；对于任一目标子区域中的任一像素点，根据该像素点与其对应的各第一像素点之间的相似度，得到各目标子区域中该像素点对其对应的各第一像素点的吸引度；根据特征指标和吸引度，得到各目标子区域中各像素点对应的可能性指标；根据可能性指标，得到各初始聚类中心点；根据初始聚类中心点，得到喷涂后的墙板膜具的喷涂效果。本发明能够减少计算量。
权利要求书clms
1.一种墙板膜具喷涂效果的智能检测方法，其特征在于，该方法包括如下步骤：获取喷涂后的墙板膜具目标图像；对所述墙板膜具目标图像进行分割，得到墙板膜具目标图像对应的各子区域；根据各子区域中各像素点对应的色调、饱和度和亮度，得到各子区域对应的喷涂差异指数；根据所述喷涂差异指数，得到各目标子区域；根据各目标子区域中任意两个像素点对应的色调、饱和度、亮度以及坐标，得到各目标子区域中任意两个像素点之间的相似度；根据各目标子区域中各像素点的邻域像素点，得到各目标子区域中各像素点的特征指标；对于任一目标子区域中的任一像素点，根据该像素点与其对应的各第一像素点之间的相似度，得到各目标子区域中该像素点对其对应的各第一像素点的吸引度，所述第一像素点为该目标子区域中除该像素点之外的其他像素点；根据所述特征指标和吸引度，得到各目标子区域中各像素点对应的可能性指标；根据所述可能性指标，得到各初始聚类中心点；根据所述初始聚类中心点，得到各聚类簇；根据各聚类簇，得到喷涂后的墙板膜具的喷涂效果。2.如权利要求1所述的一种墙板膜具喷涂效果的智能检测方法，其特征在于，根据各子区域中各像素点对应的色调、饱和度和亮度，得到各子区域对应的喷涂差异指数，包括：计算得到各子区域中各像素对应的色调与对应子区域的色调均值之间的差值的平方，并记为各子区域中各像素对应的第一差异值；计算得到各子区域中各像素对应的饱和度与对应子区域的饱和度均值之间的差值的平方，并记为各子区域中各像素对应的第二差异值；计算得到各子区域中各像素对应的亮度与对应子区域的亮度均值之间的差值的平方，并记为各子区域中各像素对应的第三差异值；根据各子区域中各像素点对应的第一差异值、对应的第二差异值以及对应的第三差异值，得到各子区域对应的喷涂差异指数。3.如权利要求2所述的一种墙板膜具喷涂效果的智能检测方法，其特征在于，对于任一子区域，根据如下公式计算该子区域对应的喷涂差异指数：其中，为该子区域对应的喷涂差异指数，为该子区域中的像素点数量，为该子区域中的第i个像素点对应的归一化后的第一差异值，为该子区域中的第i个像素点对应的归一化后的第二差异值，为该子区域中的第i个像素点对应的归一化后的第三差异值。4.如权利要求1所述的一种墙板膜具喷涂效果的智能检测方法，其特征在于，根据所述喷涂差异指数，得到各目标子区域，包括：判断各子区域对应的喷涂差异指数是否大于预设第一阈值，若是，将对应子区域记为目标子区域。5.如权利要求1所述的一种墙板膜具喷涂效果的智能检测方法，其特征在于，对于任一目标子区域，根据如下公式计算该目标子区域中任意两个像素点之间的相似度：其中，为该目标子区域中的第a个像素点与第b个像素点之间的相似度，为该目标子区域中的第a个像素点对应的归一化后的色调，为该目标子区域中的第b个像素点对应的归一化后的色调，为该目标子区域中的第a个像素点对应的归一化后的饱和度，为该目标子区域中的第b个像素点对应的归一化后的饱和度，为该目标子区域中的第a个像素点对应的归一化后的亮度，为该目标子区域中的第b个像素点对应的归一化后的亮度，为该目标子区域中的第a个像素点对应的横坐标值，为该目标子区域中的第b个像素点对应的横坐标值，为该目标子区域中的第a个像素点对应的纵坐标值，为该目标子区域中的第b个像素点对应的纵坐标值。6.如权利要求1所述的一种墙板膜具喷涂效果的智能检测方法，其特征在于，根据各目标子区域中各像素点的邻域像素点，得到各目标子区域中各像素点的特征指标，包括：对于任一目标子区域中的任一像素点，计算该像素点与其对应的各邻域像素点之间的相似度的均值，并将其记为该像素点的特征指标。7.如权利要求1所述的一种墙板膜具喷涂效果的智能检测方法，其特征在于，对于任一目标子区域中的任一像素点，根据该像素点与其对应的各第一像素点之间的相似度，得到各目标子区域中该像素点对其对应的各第一像素点的吸引度，包括：将该像素点与其对应的各第一像素点之间的相似度中的最大值，记为该像素点对应的第一特征值；将该像素点与其对应的各第一像素点之间的相似度与该像素点对应的第一特征值的比值，记为该像素点对其对应的各第一像素点的吸引度。8.如权利要求1所述的一种墙板膜具喷涂效果的智能检测方法，其特征在于，根据所述特征指标和吸引度，得到各目标子区域中各像素点对应的可能性指标，包括：对于任一目标子区域中的任一像素点：将该像素点对其对应的各第一像素点的吸引度中的最大值，记为该像素点对应的第二特征值；根据如下公式得到该像素点对应的可能性指标：其中，为该像素点对应的可能性指标，为该像素点对应的特征指标，Q为该像素点对应的第一像素点的数量，为该像素点对应的第二特征值，为该像素点对其对应的第q个第一像素点的吸引度。9.如权利要求1所述的一种墙板膜具喷涂效果的智能检测方法，其特征在于，根据所述可能性指标，得到各初始聚类中心点，包括：基于所有目标子区域中的所有像素点，构建得到像素点集合；按照可能性指标从大到小的顺序对像素点集合中的各像素点进行排序，得到像素点序列；将像素点序列中前预设数量的像素点记为初始聚类中心点。10.如权利要求1所述的一种墙板膜具喷涂效果的智能检测方法，其特征在于，根据各聚类簇，得到喷涂后的墙板膜具的喷涂效果，包括：计算得到各聚类簇对应的归一化后的饱和度均值、归一化后的色调均值以及归一化后的亮度均值的和，并记为各聚类簇对应的第一判断指标；计算得到各聚类簇对应的饱和度方差、色调方差以及亮度方差的和，记为各聚类簇对应的第二判断指标；将像素点数量最多的聚类簇，记为正常聚类簇；将除正常聚类簇之外的其他聚类簇记为待判断聚类簇；对于任一待判断聚类簇：计算得到该待判断聚类簇对应的第一判断指标与正常聚类簇对应的第一判断指标之间的差值的绝对值，记为该待判断聚类簇对应的特征判断指标；将该待判断聚类簇对应的特征判断指标与该待判断聚类簇对应的第二判断指标的和，记为综合判断指标；判断归一化处理后的综合判断指标是否大于预设第二阈值，若是，则将其记为异常聚类簇；当各异常聚类簇对应的区域的面积的和与墙板膜具目标图像的面积的比值大于预设第三阈值时，则判定喷涂效果不合格。
说明书desc
技术领域本发明涉及图像处理技术领域，具体涉及一种墙板膜具喷涂效果的智能检测方法。背景技术膜具是工业产品生产用的工艺设备，主要适用于制造业和加工业，由于其工作效率高，使用方式简单明了，节省施工材料等诸多优点，得到了广泛的使用，并且通常情况下，墙板膜具在生产完成后需要根据生产需求或墙板的适应环境对墙板膜具进行表面的喷涂，喷涂材料包括但不限于喷漆、防腐材料、特氟龙等等，墙板膜具喷涂后不仅可以使得加工成型的墙板更加美观，更重要的是可以减少产品的报废率，即喷涂材料的使用也可以帮助墙板从膜具中更容易脱模，有助于产量的提高。但是当前对墙板膜具的喷涂是由自动喷涂机完成的，这种机器喷涂的方式虽然加快了喷涂速度，但是对于一些非平坦的墙板膜具材料进行喷涂时经常性的发生漏喷等错误现象，这些现象如果不加以识别检测进行进一步的处理，将会直接影响成型加工的每一块墙板的质量和美观性，因此对墙板膜具的喷涂效果进行检测至关重要。现有技术中实现墙板膜具喷涂效果的检测方法一般是利用传统的聚类算法对采集的图像进行分割，然后基于分割的结果来实现对墙板膜具喷涂效果的检测，但是传统的聚类算法在初始聚类中心点的处理上为随机选取，由于聚类结果对初始聚类中心点的依赖性比较高，随机选取的初始聚类中心点可能会使得在聚类过程中出现较多次的迭代，即很容易计算周期过长、计算量较大，因此在减少计算量的基础上保证对墙板膜具喷涂效果检测的精度是需要解决的问题。发明内容为了解决上述问题，本发明提供一种墙板膜具喷涂效果的智能检测方法，所采用的技术方案具体如下：本发明实施例提供了一种墙板膜具喷涂效果的智能检测方法包括以下步骤：获取喷涂后的墙板膜具目标图像；对所述墙板膜具目标图像进行分割，得到墙板膜具目标图像对应的各子区域；根据各子区域中各像素点对应的色调、饱和度和亮度，得到各子区域对应的喷涂差异指数；根据所述喷涂差异指数，得到各目标子区域；根据各目标子区域中任意两个像素点对应的色调、饱和度、亮度以及坐标，得到各目标子区域中任意两个像素点之间的相似度；根据各目标子区域中各像素点的邻域像素点，得到各目标子区域中各像素点的特征指标；对于任一目标子区域中的任一像素点，根据该像素点与其对应的各第一像素点之间的相似度，得到各目标子区域中该像素点对其对应的各第一像素点的吸引度，所述第一像素点为该目标子区域中除该像素点之外的其他像素点；根据所述特征指标和吸引度，得到各目标子区域中各像素点对应的可能性指标；根据所述可能性指标，得到各初始聚类中心点；根据所述初始聚类中心点，得到各聚类簇；根据各聚类簇，得到喷涂后的墙板膜具的喷涂效果。优选的，根据各子区域中各像素点对应的色调、饱和度和亮度，得到各子区域对应的喷涂差异指数，包括：计算得到各子区域中各像素对应的色调与对应子区域的色调均值之间的差值的平方，并记为各子区域中各像素对应的第一差异值；计算得到各子区域中各像素对应的饱和度与对应子区域的饱和度均值之间的差值的平方，并记为各子区域中各像素对应的第二差异值；计算得到各子区域中各像素对应的亮度与对应子区域的亮度均值之间的差值的平方，并记为各子区域中各像素对应的第三差异值；根据各子区域中各像素点对应的第一差异值、对应的第二差异值以及对应的第三差异值，得到各子区域对应的喷涂差异指数。优选的，对于任一子区域，根据如下公式计算该子区域对应的喷涂差异指数：其中，为该子区域对应的喷涂差异指数，为该子区域中的像素点数量，为该子区域中的第i个像素点对应的归一化后的第一差异值，为该子区域中的第i个像素点对应的归一化后的第二差异值，为该子区域中的第i个像素点对应的归一化后的第三差异值。优选的，根据所述喷涂差异指数，得到各目标子区域，包括：判断各子区域对应的喷涂差异指数是否大于预设第一阈值，若是，将对应子区域记为目标子区域。优选的，对于任一目标子区域，根据如下公式计算该目标子区域中任意两个像素点之间的相似度：其中，为该目标子区域中的第a个像素点与第b个像素点之间的相似度，为该目标子区域中的第a个像素点对应的归一化后的色调，为该目标子区域中的第b个像素点对应的归一化后的色调，为该目标子区域中的第a个像素点对应的归一化后的饱和度，为该目标子区域中的第b个像素点对应的归一化后的饱和度，为该目标子区域中的第a个像素点对应的归一化后的亮度，为该目标子区域中的第b个像素点对应的归一化后的亮度，为该目标子区域中的第a个像素点对应的横坐标值，为该目标子区域中的第b个像素点对应的横坐标值，为该目标子区域中的第a个像素点对应的纵坐标值，为该目标子区域中的第b个像素点对应的纵坐标值。优选的，根据各目标子区域中各像素点的邻域像素点，得到各目标子区域中各像素点的特征指标，包括：对于任一目标子区域中的任一像素点，计算该像素点与其对应的各邻域像素点之间的相似度的均值，并将其记为该像素点的特征指标。优选的，对于任一目标子区域中的任一像素点，根据该像素点与其对应的各第一像素点之间的相似度，得到各目标子区域中该像素点对其对应的各第一像素点的吸引度，包括：将该像素点与其对应的各第一像素点之间的相似度中的最大值，记为该像素点对应的第一特征值；将该像素点与其对应的各第一像素点之间的相似度与该像素点对应的第一特征值的比值，记为该像素点对其对应的各第一像素点的吸引度。优选的，根据所述特征指标和吸引度，得到各目标子区域中各像素点对应的可能性指标，包括：对于任一目标子区域中的任一像素点：将该像素点对其对应的各第一像素点的吸引度中的最大值，记为该像素点对应的第二特征值；根据如下公式得到该像素点对应的可能性指标：其中，为该像素点对应的可能性指标，为该像素点对应的特征指标，Q为该像素点对应的第一像素点的数量，为该像素点对应的第二特征值，为该像素点对其对应的第q个第一像素点的吸引度。优选的，根据所述可能性指标，得到各初始聚类中心点，包括：基于所有目标子区域中的所有像素点，构建得到像素点集合；按照可能性指标从大到小的顺序对像素点集合中的各像素点进行排序，得到像素点序列；将像素点序列中前预设数量的像素点记为初始聚类中心点。优选的，根据各聚类簇，得到喷涂后的墙板膜具的喷涂效果，包括：计算得到各聚类簇对应的归一化后的饱和度均值、归一化后的色调均值以及归一化后的亮度均值的和，并记为各聚类簇对应的第一判断指标；计算得到各聚类簇对应的饱和度方差、色调方差以及亮度方差的和，记为各聚类簇对应的第二判断指标；将像素点数量最多的聚类簇，记为正常聚类簇；将除正常聚类簇之外的其他聚类簇记为待判断聚类簇；对于任一待判断聚类簇：计算得到该待判断聚类簇对应的第一判断指标与正常聚类簇对应的第一判断指标之间的差值的绝对值，记为该待判断聚类簇对应的特征判断指标；将该待判断聚类簇对应的特征判断指标与该待判断聚类簇对应的第二判断指标的和，记为综合判断指标；判断归一化处理后的综合判断指标是否大于预设第二阈值，若是，则将其记为异常聚类簇；当各异常聚类簇对应的区域的面积的和与墙板膜具目标图像的面积的比值大于预设第三阈值时，则判定喷涂效果不合格。有益效果：本发明首先获取喷涂后的墙板膜具目标图像，然后对墙板膜具目标图像进行分割，得到墙板膜具目标图像对应的各子区域，并依据各子区域中各像素点对应的色调、饱和度和亮度对子区域进行筛选，得到目标子区域，后续将对目标子区域中像素点的特征进行分析，基于分析的结果得到初始聚类中心点。紧接着本发明基于目标子区域中任意两个像素点对应的色调、饱和度、亮度以及坐标，得到各目标子区域中任意两个像素点之间的相似度，并根据各目标子区域中各像素点的邻域像素点，得到各目标子区域中各像素点的特征指标，所述特征指标是后续得到可能性指标的依据；然后对于任一目标子区域中的任一像素点，根据该像素点与其对应的各第一像素点之间的相似度，得到各目标子区域中该像素点对其对应的各第一像素点的吸引度；紧接着根据所述特征指标和吸引度，得到各目标子区域中各像素点对应的可能性指标，所述可能性指标是后续得到初始聚类中心点的参考依据，即基于可能性指标得到的初始聚类中心点不仅能够减少后续进行聚类时的计算周期，而且还能使得聚类效果更好。最后根据所述初始聚类中心点，得到各聚类簇；并根据各聚类簇，得到喷涂后的墙板膜具的喷涂效果。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一种墙板膜具喷涂效果的智能检测方法的流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整的描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例，基于本发明实施例，本领域普通技术人员所获得的所有其它实施例，都属于本发明实施例保护的范围。除非另有定义，本文所使用的所有的技术和科学技术术语与属于本发明的技术人员通常理解的含义相同。本实施例提供了一种墙板膜具喷涂效果的智能检测方法，详细说明如下：如图1所示，该墙板膜具喷涂效果的智能检测方法，包括以下步骤：步骤S001，获取喷涂后的墙板膜具目标图像。当前对墙板膜具的喷涂是由自动喷涂机完成的，这种机器喷涂的方式在对一些非平坦的墙板膜具材料进行喷涂时经常性的发生漏喷等错误现象，这些现象如果不加以识别检测进行进一步的处理，将会直接影响成型加工的每一块墙板的质量和美观性；而现有技术中的墙板膜具喷涂效果的检测方法一般是利用传统的聚类算法对采集的图像进行分割，然后基于分割的结果来实现对墙板膜具喷涂效果的检测，但是传统的聚类算法在初始聚类中心点的处理上为随机选取，由于聚类结果对初始聚类中心点的依赖性比较高，随机选取的初始聚类中心点可能会使得在聚类过程中出现较多次的迭代，即很容易计算周期过长、计算量较大，因此本实施例的主要目的是对喷涂后的墙板膜具表面图像进行分析，选取初始聚类中心点，使得选取的初始聚类中心点能在减少计算量的基础上保证对墙板膜具喷涂效果检测的精度。本实施例利用工业CCD相机对自动喷涂机进行喷涂后的墙板膜具表面图像进行采集，采集的图像为RGB图像，进行图像采集时相机的参数和布置位置需要根据实际情况进行设置，并且采集的图像应当能完全覆盖墙板膜具的表面。但是在工业CCD相机采集图像的过程中，容易受到加工环境噪声的影响，降低图像质量，影响后续的分析，因此本实施例对采集到的墙板膜具表面图像进行去噪处理，本实施例利用双边滤波器对图像进行去噪处理，得到去噪后的墙板膜具表面图像，记为喷涂后的墙板膜具初始图像；并且双边滤波去噪为公知技术，具体过程在此不作详细赘述。由于本实施例后续将在既存在喷涂效果不好又存在喷涂正常的区域中进行初始聚类中心点的选取，这种选取初始聚类中心点的方式，可以保证选取的初始聚类中心点中既有喷涂效果良好的点，也有喷涂效果不好的点，相对于随机选取聚类的初始聚类中心点的方式能够减少计算的周期，而在对墙板膜具喷涂后，墙板膜具表面的颜色会被喷涂材料的颜色覆盖掉，喷涂效果差的表面区域和喷涂效果良好的区域之间将会存在一定的颜色差异，即当局部区域中全部为喷涂效果良好或者全部为喷涂效果不好时，此时的区域呈现颜色一致的特点，当局部区域中既存在喷涂效果良好又存在喷涂效果不好的区域时，此时的区域会呈现颜色不一致的特点，而对墙板膜具初始图像进行HSV颜色空间转换后可以分析颜色特征，因此本实施例将上述得到的墙板膜具初始图像转换到HSV颜色空间中，得到转换后的墙板膜具初始图像，记为墙板膜具目标图像，且墙板膜具目标图像上一个像素点对应三个参数，分别为色调、饱和度以及亮度。至此，得到了喷涂后的墙板膜具目标图像。步骤S002，对所述墙板膜具目标图像进行分割，得到墙板膜具目标图像对应的各子区域；根据各子区域中各像素点对应的色调、饱和度和亮度，得到各子区域对应的喷涂差异指数；根据所述喷涂差异指数，得到各目标子区域。本实施例是在存在喷涂效果不好的区域中进行初始聚类中心点的选取，以达到降低聚类时的迭代次数，即降低计算周期；因此接下来本实施例将对墙板膜具目标图像进行分析，得到存在喷涂效果不好的子区域；具体为：首先利用预设区域大小对墙板膜具目标图像进行均匀的区域划分，得到墙板膜具目标图像对应的各子区域；所述每个子区域的大小均与预设区域大小相等，且在具体应用中可以根据实际情况设置预设区域的大小；由于后续需要结合墙板膜具目标图像上各像素点对应的三个参数进行分析，因此本实施例需要对墙板膜具目标图像上各像素点对应的三个参数进行归一化，使得取值范围均为0到1，并计算得到各子区域归一化后的色调均值、饱和度均值和亮度均值；由于当局部区域中全部为喷涂效果良好或者全部为喷涂效果不好时，此时的区域呈现颜色一致的特点，当局部区域中既存在喷涂效果良好又存在喷涂效果不好的区域时，此时的区域会呈现颜色不一致的特点，因此利用各子区域中各像素点对应的色调、饱和度和亮度与对应子区域的色调均值、饱和度均值和亮度均值之间的差异来衡量子区域中的颜色是否一致。因此本实施例计算得到各子区域中各像素对应的色调与对应子区域的色调均值之间的差值的平方，并记为各子区域中各像素对应的第一差异值；计算得到各子区域中各像素对应的饱和度与对应子区域的饱和度均值之间的差值的平方，并记为各子区域中各像素对应的第二差异值；计算得到各子区域中各像素对应的亮度与对应子区域的亮度均值之间的差值的平方，并记为各子区域中各像素对应的第三差异值；所述差异值能反映颜色特征；因此根据各子区域中各像素点对应的第一差异值、对应的第二差异值以及对应的第三差异值，得到各子区域对应的喷涂差异指数；所述喷涂差异指数用来反映子区域对应的颜色特征；对于任一子区域，根据如下公式计算该子区域对应的喷涂差异指数：其中，为该子区域对应的喷涂差异指数，为该子区域中的像素点数量，为该子区域中的第i个像素点对应的归一化后的第一差异值，为该子区域中的第i个像素点对应的归一化后的第二差异值，为该子区域中的第i个像素点对应的归一化后的第三差异值。当子区域内的像素点全部为喷涂效果良好的像素点时，这种情况的子区域对应的喷涂差异指数的值较小，因为像素点之间的参数差异并不大；当子区域内像素点一部分是喷涂效果较差的像素点，一部分是喷涂效果良好的像素点时，这种情况的子区域对应的喷涂差异指数的值较大，因为像素点之间的参数差异较为明显；当子区域内的所有像素点都是喷涂效果较差的像素点时，这种情况的子区域对应的喷涂差异指数的值较小，因为像素点之间的参数差异并不大；因此越小，表明该子区域中的颜色越一致，即该子区域中越可能全部为喷涂效果良好或者全部为喷涂效果不好的像素点；越大，表明该子区域中的颜色越不一致，即该子区域中越可能存在喷涂效果良好又存在喷涂效果不好的像素点；并且为该子区域中的第i个像素点对应的归一化后的第一差异值、第二差异值和第三差异值的和，越小，则越小。由于本实施例是在既存在喷涂效果不好又存在喷涂正常的区域中进行聚类的初始聚类中心点的选取，而喷涂差异指数较大的子区域中既存在喷涂效果不好又存在喷涂正常的像素点，因此接下来本实施例基于喷涂差异指数对各子区域进行筛选；具体为：判断各子区域对应的喷涂差异指数是否大于预设第一阈值，若是，将对应子区域记为目标子区域；具体应用中可以根据实际情况设置预设第一阈值，本实施例将预设第一阈值设置为0.15。至此，得到了墙板膜具目标图像对应的各目标子区域。步骤S003，根据各目标子区域中任意两个像素点对应的色调、饱和度、亮度以及坐标，得到各目标子区域中任意两个像素点之间的相似度；根据各目标子区域中各像素点的邻域像素点，得到各目标子区域中各像素点的特征指标。接下来本实施例将对目标子区域进行分析，基于分析的结果得到目标子区域中每个像素点为初始聚类中心点的可能性，并且后续将基于目标子区域中每个像素点为初始聚类中心点的可能性大小确定初始聚类中心点，且选取的初始聚类中心点中既有喷涂正常的像素点也有喷涂不好的像素点；具体为：由于这些目标子区域在图像中的分布并不是固定的，这些区域可能出现在膜具表面上的任何位置，并且这些目标子区域内喷涂效果良好的像素点和喷涂效果差的像素点的分布同样具有随机性，因此本实施例需要分别对每个目标子区域中的像素点进行分析；首先本实施例根据各目标子区域中各像素点对应的色调、饱和度、亮度以及坐标，计算得到各目标子区域中任意两个像素点之间的相似度；所述相似度是后续得到各目标子区域中各像素点对应的可能性指标的依据；对于任一目标子区域，根据如下公式计算该目标子区域中任意两个像素点之间的相似度：其中，为该目标子区域中的第a个像素点与第b个像素点之间的相似度，为该目标子区域中的第a个像素点对应的归一化后的色调，为该目标子区域中的第b个像素点对应的归一化后的色调，为该目标子区域中的第a个像素点对应的归一化后的饱和度，为该目标子区域中的第b个像素点对应的归一化后的饱和度，为该目标子区域中的第a个像素点对应的归一化后的亮度，为该目标子区域中的第b个像素点对应的归一化后的亮度，为该目标子区域中的第a个像素点对应的横坐标值，为该目标子区域中的第b个像素点对应的横坐标值，为该目标子区域中的第a个像素点对应的纵坐标值，为该目标子区域中的第b个像素点对应的纵坐标值。越大，表明该目标子区域中的第a个像素点与第b个像素点之间越相似，即表明这两个像素点属于同一个类别的概率越大；并且当、、、以及越小时，则越大；所述、、、以及能表征该目标子区域中的第a个像素点与第b个像素点之间的色调差异、饱和度差异、亮度差异以及位置差异。由于任一像素点与对应的邻域像素点的相似度能够反映该像素点为初始聚类中心点的可能性大小，并且当该像素点与对应的邻域像素点的相似度较大时，表明该像素点为初始聚类中心点的可能性越大，反之越小；因此接下来本实施例根据各目标子区域中各像素点与其对应的邻域像素点之间的相似度，得到各目标子区域中各像素点的特征指标，所述邻域像素点是指各像素点的八邻域像素点；所述特征指标是后续计算像素点对应的可能性指标的依据；对于任一目标子区域中的任一像素点，根据如下公式计算该目标子区域中该像素点的特征指标：其中，为该目标子区域中的第c个像素点的特征指标，为该目标子区域中的第c个像素点的邻域像素点数量，本实施例中为8，为该目标子区域中的第c个像素点与其对应的第d个邻域像素点之间的相似度；越大，表明该像素点为初始聚类中心点的概率越大；越小，表明越大。步骤S004，对于任一目标子区域中的任一像素点，根据该像素点与其对应的各第一像素点之间的相似度，得到各目标子区域中该像素点对其对应的各第一像素点的吸引度，所述第一像素点为该目标子区域中除该像素点之外的其他像素点；根据所述特征指标和吸引度，得到各目标子区域中各像素点对应的可能性指标。由于k-means聚类算法是把相似的像素点聚集到一个簇中心附近，也就是说同类别中的每个像素点都有可能是某一簇的聚类中心点，如果对于一个类别中的某个像素点来说，当该像素点对同类别的其他的像素点的吸引程度越大时，表明该像素点为聚类中心点的可能性越大；因此接下来各目标子区域中各像素点对其他像素点的吸引度，具体为：对于任一目标子区域中的任一像素点：将该目标子区域中除该像素点之外的其他像素点记为该像素点对应的第一像素点，获取该像素点与其对应的各第一像素点之间的相似度中的最大值，并记为该像素点对应的第一特征值；根据该像素点与其对应的各第一像素点之间的相似度和该像素点对应的第一特征值，得到该像素点对其对应的各第一像素点的吸引度；所述该像素点对其对应的各第一像素点的吸引度可以反映该像素点为初始聚类中心点的可能性，且该像素点对其对应的各第一像素点的吸引度越大，表明该像素点为初始聚类中心点的可能性越大；根据如下公式计算该像素点对其对应的各第一像素点的吸引度：其中，为该像素点对其对应的第q个第一像素点的吸引度，为该像素点与其对应的第q个第一像素点之间的相似度，为该像素点对应的第一特征值；当该像素点与其对应的第q个第一像素点之间的相似度越大时，则对应的就越大，而为衡量该像素点对第q个第一像素点的吸引程度的参考值；的值小于或者等于，即是一个小于等于1的值；当越接近于1，说明与越接近，说明该像素点对第q个第一像素点的吸引程度越高，即第q个第一像素点选择该像素点作为聚类中心点的可能性就越高。由于在聚类结果中，像素点只有两个结果，一个是成为聚类中心点，另一个是作为某一类簇中的从属点，因此能够通过图像中的像素点支持某一点成为聚类中心点的程度高低，判断像素点成为聚类中心点的可能性大小；因此接下来本实施例依据该像素点的特征指标和该像素点对各第一像素点的吸引度，得到该像素点对应的可能性指标，具体为：获取该像素点对其对应的各第一像素点的吸引度中的最大值，记为该像素点对应的第二特征值；根据该像素点对各第一像素点的吸引度、该像素点对应的第二特征值以及该像素点的特征指标，得到该像素点对应的可能性指标；所述可能性指标为后续筛选得到初始聚类中心点的依据；根据如下公式得到该像素点对应的可能性指标：其中，为该像素点对应的可能性指标，为该像素点对应的特征指标，Q为该像素点对应的第一像素点的数量，为该像素点对应的第二特征值；越大，表明该像素点为初始聚类中心点的可能性越大；反映了第q个第一像素点对该像素点成为其所属类的聚类中心点的支持程度，即越大，说明第q个第一像素点越支持该像素点成为聚类中心点；越大，表明该像素点的邻域像素点越支持该像素点成为聚类中心点。至此，得到了各目标子区域中各像素点对应的可能性指标。步骤S005，根据所述可能性指标，得到各初始聚类中心点；根据所述初始聚类中心点，得到各聚类簇；根据各聚类簇，得到喷涂后的墙板膜具的喷涂效果。由于各目标子区域中各像素点对应的可能性指标越大，则对应像素点为初始聚类中心点的可能性越大；因此本实施例首先根据所有目标子区域中的所有像素点，构建得到像素点集合；按照可能性指标从大到小的顺序对像素点集合中的各像素点进行排序，得到像素点序列；将像素点序列中前预设数量的像素点记为初始聚类中心点；所述预设数量需要根据实际情况进行设置，本实施例设置预设数量为墙板膜具目标图像上像素点总数的1%；本实施例后续依据筛选得到的各初始聚类中心点进行聚类的效果较好，并且所得到的初始聚类中心点中既有喷涂正常的点，也有喷涂效果较差的点，因此本实施例能够减少后续聚类时的迭代次数，降低计算量。对于墙板膜具目标图像上的任一像素点：将墙板膜具目标图像上除该像素点之外的其他像素点记为特征点；计算该像素点与各特征点之间的相似度；所述相似度的计算方法与上述各目标子区域中任意两个像素点之间的相似度的计算方法相同，因此不再详细描述；将该像素点与各特征点之间的相似度与像素点与各特征点之间的相似度中的最大值的比值，记为该像素点与各特征点之间的第一目标指标；将该像素点与各特征点之间的相似度，记为该像素点与各特征点之间的第二目标指标；对于任一特征点；根据该像素点与该特征点之间的第一目标指标和第二目标指标，得到该像素点与该特征点之间的度量距离；所述度量距离为k-means聚类算法进行聚类的依据，并且当该像素点与该特征点之间的第一目标指标和第二目标指标越小时，表明该像素点与该特征点聚成一类的可能性越大；根据如下公式计算该像素点与该特征点之间的度量距离：其中，为该像素点与该特征点之间的度量距离，为该像素点与该特征点之间的第一目标指标，为该像素点与该特征点之间的第二目标指标；越小，表明像素点与该特征点越可能聚成一类；越大，则越小。因此通过上述过程可以得到墙板膜具目标图像上任意两个像素点之间的度量距离，然后基于k-means聚类算法对应的各初始聚类中心点和墙板膜具目标图像上任意两个像素点之间的度量距离对墙板膜具目标图像上的各像素点进行聚类，得到各聚类簇。紧接着对各聚类簇进行分析，得到喷涂后的墙板膜具的喷涂效果，具体为：通常情况下喷涂后的墙板膜具上喷涂效果不好的区域相对于喷涂正常的区域较小，即像素点数量最多的聚类簇为喷涂正常区域，因此接下来本实施例基于各聚类簇与喷涂正常对应的聚类簇之间的差异来衡量喷涂后的墙板膜具的喷涂效果，并且通常情况下正常聚类簇的方差值较小，异常聚类簇对应的参数均值与正常聚类簇对应的参数均值差异较大。因此接下来本实施例计算得到各聚类簇中的所有像素点的饱和度均值、色调均值以及亮度均值，分别记为各聚类簇对应的饱和度均值、色调均值以及亮度均值；将各聚类簇对应的归一化后的饱和度均值、归一化后的色调均值以及归一化后的亮度均值的和，记为各聚类簇对应的第一判断指标；计算得到各聚类簇中的所有像素点的饱和度方差、色调方差以及亮度方差，分别记为各聚类簇对应的饱和度方差、色调方差以及亮度方差；将各聚类簇对应的饱和度方差、色调方差以及亮度方差的和，记为各聚类簇对应的第二判断指标。获取像素点数量最多的聚类簇，并记为正常聚类簇；将除正常聚类簇之外的其他聚类簇记为待判断聚类簇；对于任一待判断聚类簇：计算得到该待判断聚类簇对应的第一判断指标与正常聚类簇对应的第一判断指标之间的差值的绝对值，记为该待判断聚类簇对应的特征判断指标；将该待判断聚类簇对应的特征判断指标与该待判断聚类簇对应的第二判断指标的和，记为综合判断指标；判断归一化处理后的综合判断指标是否大于预设第二阈值，若是，则表明该聚类簇对应的图像区域喷涂效果不好，并将其记为异常聚类簇。然后计算各异常聚类簇对应的区域的面积的和，当所述各异常聚类簇对应的区域的面积的和与墙板膜具目标图像的面积的比值大于预设第三阈值时，则判定喷涂效果不合格，即表明喷涂后的墙板膜具的喷涂效果较差，可能需要重新进行喷涂；并且当所述各异常聚类簇对应的区域的面积的和与墙板膜具目标图像的面积的比值越大，表明喷涂效果越差；具体应用中，可以根据实际情况设置预设第二阈值和预设第三阈值的值，本实施例设置预设第二阈值为0.4，预设第三阈值为0.3。本实施例首先获取喷涂后的墙板膜具目标图像，然后对墙板膜具目标图像进行分割，得到墙板膜具目标图像对应的各子区域，并依据各子区域中各像素点对应的色调、饱和度和亮度对子区域进行筛选，得到目标子区域，后续将对目标子区域中像素点的特征进行分析，基于分析的结果得到初始聚类中心点。因此紧接着基于目标子区域中任意两个像素点对应的色调、饱和度、亮度以及坐标，得到各目标子区域中任意两个像素点之间的相似度，并根据各目标子区域中各像素点的邻域像素点，得到各目标子区域中各像素点的特征指标，所述特征指标是后续得到可能性指标的依据；然后对于任一目标子区域中的任一像素点，根据该像素点与其对应的各第一像素点之间的相似度，得到各目标子区域中该像素点对其对应的各第一像素点的吸引度；紧接着根据所述特征指标和吸引度，得到各目标子区域中各像素点对应的可能性指标，所述可能性指标是后续得到初始聚类中心点的参考依据，即基于可能性指标得到的初始聚类中心点不仅能够减少后续进行聚类时的计算周期，而且还能使得聚类效果更好。最后根据所述初始聚类中心点，得到各聚类簇；并根据各聚类簇，得到喷涂后的墙板膜具的喷涂效果。以上所述实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围，均应包含在本申请的保护范围之内。
