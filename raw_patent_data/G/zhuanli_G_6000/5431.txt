标题title
一种车辆预警方法、装置、车辆及存储介质
摘要abst
本发明公开了一种车辆预警方法、装置、车辆及存储介质。该方法包括：获取车辆的尺寸信息和环境图像，并根据环境图像确定所述车辆通行的限制范围；将限制范围与车辆的尺寸信息进行比对，确定是否有障碍物妨碍车辆通行；当有障碍物妨碍车辆通行时，确定环境图像中障碍物的类型；根据环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。即，本发明实施例，通过限制范围来确定判定车辆行驶前方是否有障碍物，而环境图像用于确定限制范围，实现实时对前面行驶环境的检测，并根据不同障碍物对行驶车辆的破坏力的不同生成预警信息，提前预判危险使得用户及时进行驾驶操作，避免或者最大程度降低障碍物对车辆的破坏。
权利要求书clms
1.一种车辆预警方法，其特征在于，包括：获取车辆的尺寸信息和环境图像，并根据所述环境图像确定所述车辆通行的限制范围；将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行；当有障碍物妨碍所述车辆通行时，确定所述环境图像中障碍物的类型；根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。2.根据权利要求1所述的方法，其特征在于，获取车辆的环境图像，包括：确定所述车辆的当前行驶速度；根据所述当前行驶速度获取所述车辆的环境图像，其中，所述车辆的环境图像包括第一位置图像和第二位置图像。3.根据权利要求2所述的方法，其特征在于，根据所述当前行驶速度获取所述车辆的环境图像，包括：根据所述当前行驶速度确定获取所述车辆的环境图像的焦距范围；根据所述焦距范围获取第一距离对应的环境图像，得到所述第一位置图像，并根据所述焦距范围获取第二距离对应的环境图像，得到所述第二位置图像，所述第一距离小于第二距离。4.根据权利要求2所述的方法，其特征在于，根据所述环境图像确定所述车辆通行的限制范围，包括：确定获取所述第一位置图像和所述第二位置图像之间的实际位置距离，并确定所述第一位置图像中物体与所述第二位置图像中物体的比例；根据所述实际位置距离和所述比例确定所述环境图像中障碍物的限制范围。5.根据权利要求1所述的方法，其特征在于，将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行，包括：确定所述车辆的尺寸信息是否超出所述限制范围；当所述车辆的尺寸信息超出所述限制范围，则确定有障碍物妨碍所述车辆通行。6.根据权利要求1所述的方法，其特征在于，确定所述环境图像中障碍物的类型，包括：将所述环境图像输入障碍物识别模型，得到所述环境图像中障碍物信息；根据所述环境图像中障碍物信息确定所述环境图像中障碍物的类型。7.根据权利要求1所述的方法，其特征在于，根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶，包括：根据所述环境图像中障碍物的类型确定所述车辆的预警等级；根据所述车辆的预警等级生成预警信息，以使得用户根据所述预警信息避障驾驶。8.一种车辆预警装置，其特征在于，包括：信息获取模块，用于获取车辆的尺寸信息和环境图像，并根据所述环境图像确定所述车辆通行的限制范围；障碍确定模块，用于将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行；类型确定模块，用于当有障碍物妨碍所述车辆通行时，确定所述环境图像中障碍物的类型；预警驾驶模块，用于根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。9.一种车辆，其特征在于，所述车辆包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1至7中任一所述的车辆预警方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1至7中任一所述的车辆预警方法。
说明书desc
技术领域本发明实施例涉及计算机技术，尤其涉及一种车辆预警方法、装置、车辆及存储介质。背景技术随着物流业的快速发展和人们生活水平的提高，车辆的类型和数量越来越多，因为城市建设的加快对于不同区域的限高杆的高度也各有不同，由于限高杆和各种高处的障碍物导致车辆行驶过程中撞高事故的频发，比如：车辆撞到限高杆、隧道、涵洞、拱桥、树枝，均会造成车顶受损严重以及道路公共设施损坏，甚至造成人员伤亡。现有技术中，车辆高处障碍物的检测易受环境影响，无法实现精准地、全天候的检测，且一般无法识别拱桥、树枝等非限高标志，不能起到真正的检测预警功能，并且车载障碍物检测系统多不具有预警提示功能，无法及时对驾驶员进行提示，存在障碍物侵限车辆行驶隐患。发明内容本发明提供种车辆预警方法、装置、车辆及存储介质，以实现对车辆前面行驶环境的检测，并通过预警避免或者最大程度降低障碍物对车辆的破坏。第一方面，本发明实施例提供了一种车辆预警方法，该方法包括：获取车辆的尺寸信息和环境图像，并根据所述环境图像确定所述车辆通行的限制范围；将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行；当有障碍物妨碍所述车辆通行时，确定所述环境图像中障碍物的类型；根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。进一步的，获取车辆的环境图像，包括：确定所述车辆的当前行驶速度；根据所述当前行驶速度获取所述车辆的环境图像，其中，所述车辆的环境图像包括第一位置图像和第二位置图像。进一步的，根据所述当前行驶速度获取所述车辆的环境图像，包括：根据所述当前行驶速度确定获取所述车辆的环境图像的焦距范围；根据所述焦距范围获取第一距离对应的环境图像，得到所述第一位置图像，并根据所述焦距范围获取第二距离对应的环境图像，得到所述第二位置图像，所述第一距离小于第二距离。进一步的，根据所述环境图像确定所述车辆通行的限制范围，包括：确定获取所述第一位置图像和所述第二位置图像之间的实际位置距离，并确定所述第一位置图像中物体与所述第二位置图像中物体的比例；根据所述实际位置距离和所述比例确定所述环境图像中障碍物的限制范围。进一步的，将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行，包括：确定所述车辆的尺寸信息是否超出所述限制范围；当所述车辆的尺寸信息超出所述限制范围，则确定有障碍物妨碍所述车辆通行。进一步的，确定所述环境图像中障碍物的类型，包括：将所述环境图像输入障碍物识别模型，得到所述环境图像中障碍物信息；根据所述环境图像中障碍物信息确定所述环境图像中障碍物的类型。进一步的，根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶，包括：根据所述环境图像中障碍物的类型确定所述车辆的预警等级；根据所述车辆的预警等级生成预警信息，以使得用户根据所述预警信息避障驾驶。第二方面，本发明实施例还提供了一种车辆预警装置，该装置包括：信息获取模块，用于获取车辆的尺寸信息和环境图像，并根据所述环境图像确定所述车辆通行的限制范围；障碍确定模块，用于将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行；类型确定模块，用于当有障碍物妨碍所述车辆通行时，确定所述环境图像中障碍物的类型；预警驾驶模块，用于根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。第三方面，本发明实施例还提供了一种车辆，该车辆包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现所述的车辆预警方法。第四方面，本发明实施例还提供了一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现所述的车辆预警方法。本发明实施例中，通过获取车辆的尺寸信息和环境图像，并根据环境图像确定所述车辆通行的限制范围；将限制范围与车辆的尺寸信息进行比对，确定是否有障碍物妨碍车辆通行；当有障碍物妨碍车辆通行时，确定环境图像中障碍物的类型；根据环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。即，本发明实施例，通过限制范围来确定判定车辆行驶前方是否有障碍物，而环境图像用于确定限制范围，实现实时对前面行驶环境的检测，并根据不同障碍物对行驶车辆的破坏力的不同生成预警信息，达到提前预判危险使得用户及时进行驾驶操作，避免或者最大程度降低障碍物对车辆的破坏。附图说明图1是本发明实施例提供的车辆预警方法的一个流程示意图；图2是本发明实施例提供的车辆预警方法的另一流程示意图；图3是本发明实施例提供的车辆预警装置的一个结构示意图；图4是本发明实施例提供的车辆的一个结构示意图。具体实施方式下面结合附图和实施例对本发明作进一步的详细说明。可以理解的是，此处所描述的具体实施例仅仅用于解释本发明，而非对本发明的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与本发明相关的部分而非全部结构。图1为本发明实施例提供的车辆预警方法的一个流程示意图，该方法可以由本发明实施例提供的车辆预警装置来执行，该装置可采用软件和/或硬件的方式实现。在一个具体的实施例中，该装置可以集成在电子设备中，电子设备比如可以是服务器。以下实施例将以该装置集成在电子设备中为例进行说明，参考图1，该方法具体可以包括如下步骤：S110、获取车辆的尺寸信息和环境图像，并根据环境图像确定车辆通行的限制范围；示例地，获取车辆的尺寸信息方式可以是从车辆上设备缓存的车辆信息中获取的，也可以根据车辆外廓预先测量车辆外廓的尺寸得到的，还可以是根据车辆的型号从云端或者网络上查询获取的。车辆的尺寸信息可以是车辆的车高、车宽和车长的设计限制尺寸，另外还包括轴距和轮距。车辆的环境图像可以是来自图像采集设备，图像采集设备可以是摄像头、录像机等具有图像采集功能的设备，环境图像可以是根据车辆行驶的位置实时采集监控视频时，环境图像帧可以是监控视频中的最新帧，利用实时监控视频实时获取车辆的环境图像，并根据车辆的环境图像中拍摄的建筑和障碍物确定车辆通行的限制范围；车辆的环境图像可以是车辆行驶过程中拍摄到车辆所处环境的图像，可以是车辆行驶方向上未行驶位置的图像。车辆通行的限制范围可以是车辆行驶道路上可以通行最大物体的限制范围，限制范围可以是限制高度、限制宽度。具体实现中，预先从车辆上设备缓存的车辆信息中获取的车辆的尺寸信息，并将车辆的尺寸信息放在缓存设备中，当车辆在行驶过程中，实时采集车辆的环境图像。将车辆的环境图像输入限制范围模型中，以利用限制范围模型确定实时采集的车辆的环境图像对应的车辆通行的限制范围，限制范围模型的输出可以包括车辆的环境图像对应的车辆通行的限制范围及该车辆通行的限制范围的置信度。根据车辆的环境图像中多张图像的采集位置之间的实际距离和车辆的环境图像中多张图像中的同一物体比例计算出的车辆的环境图像对应的车辆通行的限制范围，以便于根据车辆通行的限制范围确定车辆通行的方向是否有障碍物妨碍车辆通行。S120、将限制范围与车辆的尺寸信息进行比对，确定是否有障碍物妨碍车辆通行；具体实现中，障碍物可以是车辆行驶过程中拍摄到的车辆的环境图像中的物体，车辆通过障碍所在位置时，可能阻碍车辆通行的物体，或者会对车辆的车体具有撞击性的损坏。将车辆通行的限制范围与车辆的尺寸信息进行比对，如果该车辆的尺寸信息超过限制范围，则确定有障碍物妨碍车辆通行，反之，如果该车辆的尺寸信息未超过限制范围，则确定没有障碍物妨碍车辆通行。S130、当有障碍物妨碍车辆通行时，确定环境图像中障碍物的类型；具体实现中，障碍物的类型可以是根据车辆的环境图像中物体的尖锐程度、物体大小，车辆与障碍物的重叠面积等，确定车辆行驶到障碍物位置发生碰撞对车辆受损的程度。可以根据实际需求和实验数据预先设置障碍物的类型，可以分为三类，可以是第一类型的障碍物、第二类型的障碍物和第三类型的障碍物。其中，第一类型的障碍物可以是轻微碰撞车辆外廓受损，但可以通过障碍物位置继续驾驶；第二类型的障碍物可以是中度碰撞车辆功能部件受损，但并不造成车辆内用户或乘客的损伤；第三类型的障碍物可以是重度碰撞车辆重要部件受损，会使得车辆内用户或乘客的损伤。将车辆通行的限制范围与车辆的尺寸信息进行比对，当车辆的尺寸信息超过限制范围，则确定有障碍物妨碍车辆通行，根据障碍物的类别或名称，比如：垂柳枝、粗树干、铁丝和电线，确定环境图像中障碍物的类型。S140、根据环境图像中障碍物的类型生成预警信息，以使得用户根据预警信息避障驾驶。具体实现中，预警信息可以是向报警设备发送报警通知，以通知报警设备进行报警提示，报警设备比如可以是扬声器、喇叭、显示屏等，报警提示的形式可以是语音、文字等，此处不做具体限定，可以是根据环境图像中障碍物的类型确定是小心通行，更换路线和避让通过，避让通过可以是前方是可以移动的障碍物，比如动物、车辆和行人。在障碍物当前所在位置无所通过，移动一段时间后，障碍物所在位置变换可通过。根据环境图像中障碍物的类型生成对应的预警信息，通过报警设备进行提示用户，以使得用户根据预警信息避障驾驶。另外，限制范围不仅能对限高标志对应的物体进行反应，还能对动态和非限高标志对应的物体进行预警，另外限制范围的设置并不仅仅是对高度的限制，还可以是宽度等其它的通行必要信息。本发明实施例中，通过获取车辆的尺寸信息和环境图像，并根据环境图像确定所述车辆通行的限制范围；将限制范围与车辆的尺寸信息进行比对，确定是否有障碍物妨碍车辆通行；当有障碍物妨碍车辆通行时，确定环境图像中障碍物的类型；根据环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。即，本发明实施例，通过限制范围来确定判定车辆行驶前方是否有障碍物，而环境图像用于确定限制范围，实现实时对前面行驶环境的检测，并根据不同障碍物对行驶车辆的破坏力的不同生成预警信息，达到提前预判危险使得用户及时进行驾驶操作，避免或者最大程度降低障碍物对车辆的破坏。下面进一步描述本发明实施例提供的车辆预警方法，如图2所示，该方法具体可以包括如下步骤：S210、获取车辆的尺寸信息和环境图像，并根据环境图像确定车辆通行的限制范围；进一步的，获取车辆的环境图像，包括：确定车辆的当前行驶速度；根据当前行驶速度获取车辆的环境图像，其中，车辆的环境图像包括第一位置图像和第二位置图像。具体实现中，车辆的当前行驶速度可以是车辆行驶过程中，在同以时刻获取的车辆的环境图像和车辆的当前行驶速度，因实时车辆的当前行驶速度。第一位置图像可以是车辆在行驶过程中，在道路上第一距离位置获取到的图像；第二位置图像可以是车辆在行驶过程中，在道路上第二距离位置获取到的图像。其中，第一位置图像和第二位置图像可以是采集设备在车辆处于同一行驶速度，不同道路位置上拍摄到的图像。通过车辆的仪表显示数字和发动机转速确定车辆的当前行驶速度，根据当前行驶速度确定拍摄车辆的环境图像的焦距范围。根据拍摄设备的焦距范围调节拍摄设备，利用调节后拍摄设备拍摄车辆的环境图像。进一步的，根据当前行驶速度获取车辆的环境图像，包括：根据当前行驶速度确定获取车辆的环境图像的焦距范围；根据焦距范围获取第一距离对应的环境图像，得到第一位置图像，并根据焦距范围获取第二距离对应的环境图像，得到第二位置图像，第一距离小于第二距离。示例地，焦距范围可以理解为清晰拍摄到车辆多少距离范围的物体图像数据，即拍摄设备调节的参数。第一距离可以是获取第一位置图像时，车辆所在道路上目标物体与车辆之间的位置，也可以是距离目标物体预设的固定距离。第二距离可以是获取第二位置图像时，车辆所在道路上目标与车辆之间的位置，也可以是距离目标物体预设的固定距离。具体实现中，根据实际需求会实验数据预设不同车速对应焦距范围，比如：设置最低速度阈值为30公里每小时，设置最高速度阈值为60公里每小时，当车辆的当前行驶速度低于最低速度阈值30公里每小时，则获取车辆周围50米范围内的数据；当车辆的当前行驶速度最高速度阈值60公里每小时，则获取车辆周五200米范围内的数据；当车辆的当前行驶速度在最低速度阈值30公里每小时与最高速度阈值60公里每小时之间，则获取车辆周围100米范围内的数据。根据当前行驶速度确定获取车辆的环境图像的焦距范围，获取不同距离位置的图像作为车辆的环境图像。进一步的，根据环境图像确定车辆通行的限制范围，包括：确定获取第一位置图像和第二位置图像之间的实际位置距离，并确定第一位置图像中物体与第二位置图像中物体的比例；根据实际位置距离和比例确定环境图像中障碍物的限制范围。示例地，获取第一位置图像和第二位置图像之间的实际位置距离可以是拍摄第一位置图像和拍摄第二位置图象在车辆行驶道路上的实际位置间距，比如：在第一位置图像的拍摄位置距离物体100米，第二位置图像的拍摄位置距离物体200米，则获取第一位置图像和第二位置图像之间的实际位置距离为二者的差值100米。第一位置图像中物体与第二图像中物体的比例可以是图像中同一物体在第一位置图像与第二位置图像中的大小比例。具体实现中，相同焦距范围对应的实物和图像中物体的缩放比例一定，确定第一位置图像与第二位置图像中物体大小比例和获取第一位置图像和第二位置图像之间的实际位置距离，便可以通过比例计算车辆的环境图像中障碍物实际大小尺寸。根据环境中障碍物实际大小尺寸，确定道路上无碰撞可通行车辆的限制范围。可以预先根据焦距范围对应的实物和图像中物体的缩放比例、图像中同一物体在第一位置图像与第二位置图像中的大小比例和实际位置距离预先建立映射关系，或者建立数据库，可以根据焦距范围对应的实物和图像中物体的缩放比例、图像中同一物体在第一位置图像与第二位置图像中的大小比例和实际位置距离在数据库匹配障碍物实际大小尺寸。S220、将限制范围与车辆的尺寸信息进行比对，确定是否有障碍物妨碍车辆通行；进一步的，将限制范围与车辆的尺寸信息进行比对，确定是否有障碍物妨碍车辆通行，包括：确定车辆的尺寸信息是否超出限制范围；当车辆的尺寸信息超出限制范围，则确定有障碍物妨碍车辆通行。示例地，可以是根据车辆的环境图像确定车辆通行的限制范围，通过车辆通行的限制范围确定车辆的尺寸信息是否有障碍物妨碍车辆通行。将车辆的尺寸信息和车辆通行的限制范围进行比较，确定车辆的尺寸信息是否超出限制范围，如果车辆的尺寸信息超过限制范围，则确定有障碍物妨碍车辆通行；如果车辆的尺寸信息未超过限制范围，则确定未障碍物妨碍车辆通行，车辆可安全通过障碍物所在位置。具体实现中，在车辆的尺寸信息超过车辆通行的限制范围，说明车辆的外廓大于车辆限制范围，车辆通行时会与障碍物产生碰撞或摩擦，造成车辆损坏，限制范围即障碍物所在位置无法触碰障碍物的范围。比如：一支粗树枝高5米，位于道路四分之一处，限制范围可以是5米以下或者不限高道路四分之三的位置。S230、当有障碍物妨碍车辆通行时，将环境图像输入障碍物识别模型，得到环境图像中障碍物信息；具体实现中，障碍物信息可以是障碍物特征信息，比如尖锐程度，体积大小，类别名称。当有障碍物妨碍通行时，可以将车辆的环境图像输入障碍物识别模型，障碍物识别模型输出可以是确定障碍物类别的概率，可以根据障碍物类别的概率，得到车辆的环境图像中物体的类别，障碍物类别可以是树枝、电线和铁丝，也可以是移动的车辆、人和动物。例如，可以比较障碍物所属类别的概率，确定最高概率的类别为障碍物的类别。该障碍物识别模型可以是深度神经网络模型，该障碍物识别模型可以预先训练得到。S240、根据环境图像中障碍物信息确定环境图像中障碍物的类型；具体实现中，根据环境图像中障碍物信息中障碍物特征从预先设置障碍物的类型确定环境图像中障碍物的类型，其其中，第一类型的障碍物可以是轻微碰撞车辆外廓受损，但可以通过障碍物位置继续驾驶；第二类型的障碍物可以是中度碰撞车辆功能部件受损，但并不造成车辆内用户或乘客的损伤；第三类型的障碍物可以是重度碰撞车辆重要部件受损，会使得车辆内用户或乘客的损伤。将车辆通行的限制范围与车辆的尺寸信息进行比对，当车辆的尺寸信息超过限制范围，则确定有障碍物妨碍车辆通行，根据障碍物的类别或名称，比如：垂柳枝、粗树干、铁丝和电线，确定环境图像中障碍物的类型。S250、根据环境图像中障碍物的类型生成预警信息，以使得用户根据预警信息避障驾驶。进一步的，根据环境图像中障碍物的类型生成预警信息，以使得用户根据预警信息避障驾驶，包括：根据环境图像中障碍物的类型确定车辆的预警等级；根据车辆的预警等级生成预警信息，以使得用户根据预警信息避障驾驶。具体实现中，预警等级可以是根据不同的障碍物的类型对应设置的不同的危险程度的等级，根据不同的预警等级选择不同驾驶行为和预警提示内容。利用不同驾驶行为和预警提示内容生成预警信息，通过车辆上安装的预警设备进行预警，以使得用户根据预警信息避障驾驶。本发明实施例中，通过获取车辆的尺寸信息和环境图像，并根据环境图像确定所述车辆通行的限制范围；将限制范围与车辆的尺寸信息进行比对，确定是否有障碍物妨碍车辆通行；当有障碍物妨碍车辆通行时，确定环境图像中障碍物的类型；根据环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。即，本发明实施例，通过限制范围来确定判定车辆行驶前方是否有障碍物，而环境图像用于确定限制范围，实现实时对前面行驶环境的检测，并根据不同障碍物对行驶车辆的破坏力的不同生成预警信息，达到提前预判危险使得用户及时进行驾驶操作，避免或者最大程度降低障碍物对车辆的破坏。图3是本发明实施例提供的车辆预警装置的结构示意图，如图3所示，该车辆预警装置包括：信息获取模块310，用于获取车辆的尺寸信息和环境图像，并根据所述环境图像确定所述车辆通行的限制范围；障碍确定模块320，用于将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行；类型确定模块330，用于当有障碍物妨碍所述车辆通行时，确定所述环境图像中障碍物的类型；预警驾驶模块340，用于根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。一实施例中，所述信息获取模块310获取车辆的环境图像，包括：确定所述车辆的当前行驶速度；根据所述当前行驶速度获取所述车辆的环境图像，其中，所述车辆的环境图像包括第一位置图像和第二位置图像。一实施例中，所述信息获取模块310根据所述当前行驶速度获取所述车辆的环境图像，包括：根据所述当前行驶速度确定获取所述车辆的环境图像的焦距范围；根据所述焦距范围获取第一距离对应的环境图像，得到所述第一位置图像，并根据所述焦距范围获取第二距离对应的环境图像，得到所述第二位置图像，所述第一距离小于第二距离。一实施例中，所述信息获取模块310根据所述环境图像确定所述车辆通行的限制范围，包括：确定获取所述第一位置图像和所述第二位置图像之间的实际位置距离，并确定所述第一位置图像中物体与所述第二位置图像中物体的比例；根据所述实际位置距离和所述比例确定所述环境图像中障碍物的限制范围。一实施例中，所述障碍确定模块320将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行，包括：确定所述车辆的尺寸信息是否超出所述限制范围；当所述车辆的尺寸信息超出所述限制范围，则确定有障碍物妨碍所述车辆通行。一实施例中，所述类型确定模块330确定所述环境图像中障碍物的类型，包括：将所述环境图像输入障碍物识别模型，得到所述环境图像中障碍物信息；根据所述环境图像中障碍物信息确定所述环境图像中障碍物的类型。一实施例中，所述预警驾驶模块340根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶，包括：根据所述环境图像中障碍物的类型确定所述车辆的预警等级；根据所述车辆的预警等级生成预警信息，以使得用户根据所述预警信息避障驾驶。本发明实施例中，通过获取车辆的尺寸信息和环境图像，并根据环境图像确定所述车辆通行的限制范围；将限制范围与车辆的尺寸信息进行比对，确定是否有障碍物妨碍车辆通行；当有障碍物妨碍车辆通行时，确定环境图像中障碍物的类型；根据环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。即，本发明实施例，通过限制范围来确定判定车辆行驶前方是否有障碍物，而环境图像用于确定限制范围，实现实时对前面行驶环境的检测，并根据不同障碍物对行驶车辆的破坏力的不同生成预警信息，达到提前预判危险使得用户及时进行驾驶操作，避免或者最大程度降低障碍物对车辆的破坏。图4为本发明实施例提供的一种车辆的结构示意图。图4示出了适于用来实现本发明实施方式的示例性车辆12的框图。图4显示的车辆12仅仅是一个示例，不应对本发明实施例的功能和使用范围带来任何限制。如图4所示，车辆12以通用计算设备的形式表现。车辆12的组件可以包括但不限于：一个或者多个处理器或者处理单元16，系统存储器28，连接不同系统组件的总线18。总线18表示几类总线结构中的一种或多种，包括存储器总线或者存储器控制器，外围总线，图形加速端口，处理器或者使用多种总线结构中的任意总线结构的局域总线。举例来说，这些体系结构包括但不限于工业标准体系结构总线，微通道体系结构总线，增强型ISA总线、视频电子标准协会局域总线以及外围组件互连总线。车辆12典型地包括多种计算机系统可读介质。这些介质可以是任何能够被车辆12访问的可用介质，包括易失性和非易失性介质，可移动的和不可移动的介质。系统存储器28可以包括易失性存储器形式的计算机系统可读介质，例如随机存取存储器30和/或高速缓存存储器32。车辆12可以进一步包括其它可移动/不可移动的、易失性/非易失性计算机系统存储介质。仅作为举例，存储系统34可以用于读写不可移动的、非易失性磁介质。尽管图4中未示出，可以提供用于对可移动非易失性磁盘读写的磁盘驱动器，以及对可移动非易失性光盘读写的光盘驱动器。在这些情况下，每个驱动器可以通过一个或者多个数据介质接口与总线18相连。存储器28可以包括至少一个程序产品，该程序产品具有一组程序模块，这些程序模块被配置以执行本发明各实施例的功能。具有一组程序模块42的程序/实用工具40，可以存储在例如存储器28中，这样的程序模块42包括但不限于操作系统、一个或者多个应用程序、其它程序模块以及程序数据，这些示例中的每一个或某种组合中可能包括网络环境的实现。程序模块42通常执行本发明所描述的实施例中的功能和/或方法。车辆12也可以与一个或多个外部设备14通信，还可与一个或者多个使得用户能与该车辆12交互的设备通信，和/或与使得该车辆12能与一个或多个其它计算设备进行通信的任何设备通信。这种通信可以通过输入/输出接口22进行。并且，车辆12还可以通过网络适配器20与一个或者多个网络，广域网和/或公共网络，例如因特网)通信。如图所示，网络适配器20通过总线18与车辆12的其它模块通信。应当明白，尽管图中未示出，可以结合车辆12使用其它硬件和/或软件模块，包括但不限于：微代码、设备驱动器、冗余处理单元、外部磁盘驱动阵列、RAID系统、磁带驱动器以及数据备份存储系统等。处理单元16通过运行存储在系统存储器28中的程序，从而执行各种功能应用以及数据处理，例如实现本发明实施例所提供的车辆预警方法，该方法包括：获取车辆的尺寸信息和环境图像，并根据所述环境图像确定所述车辆通行的限制范围；将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行；当有障碍物妨碍所述车辆通行时，确定所述环境图像中障碍物的类型；根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。本发明实施例还提供了一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现所述的车辆预警方法，该方法包括：获取车辆的尺寸信息和环境图像，并根据所述环境图像确定所述车辆通行的限制范围；将所述限制范围与所述车辆的尺寸信息进行比对，确定是否有障碍物妨碍所述车辆通行；当有障碍物妨碍所述车辆通行时，确定所述环境图像中障碍物的类型；根据所述环境图像中障碍物的类型生成预警信息，以使得用户根据所述预警信息避障驾驶。本发明实施例的计算机存储介质，可以采用一个或多个计算机可读的介质的任意组合。计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质。计算机可读存储介质例如可以是但不限于电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本文件中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。计算机可读的信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读的信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括但不限于无线、电线、光缆、RF等等，或者上述的任意合适的组合。可以以一种或多种程序设计语言或其组合来编写用于执行本发明操作的计算机程序代码，所述程序设计语言包括面向对象的程序设计语言—诸如Java、Smalltalk、C++，还包括常规的过程式程序设计语言诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络包括局域网或广域网连接到用户计算机，或者，可以连接到外部计算机。注意，上述仅为本发明的较佳实施例及所运用技术原理。本领域技术人员会理解，本发明不限于这里所述的特定实施例，对本领域技术人员来说能够进行各种明显的变化、重新调整和替代而不会脱离本发明的保护范围。因此，虽然通过以上实施例对本发明进行了较为详细的说明，但是本发明不仅仅限于以上实施例，在不脱离本发明构思的情况下，还可以包括更多其他等效实施例，而本发明的范围由所附的权利要求范围决定。
