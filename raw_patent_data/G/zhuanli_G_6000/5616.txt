标题title
聚焦曲线的拟合方法、拟合装置及测量系统
摘要abst
本公开描述了一种聚焦曲线的拟合方法、拟合装置及测量系统，拟合方法包括：获取测量信息，测量信息包括多个第一测量信息、第二测量信息、以及多个第三测量信息；在多个第一测量信息中获取多个第一目标测量信息，在多个第三测量信息中获取多个第三目标测量信息，响应于第一测量信息与第三测量信息呈对称状态而基于第一目标测量信息和第三目标测量信息拟合聚焦曲线；响应于第一测量信息与第三测量信息呈非对称状态而基于靠近第二测量信息的多个第一测量信息、第二测量信息、以及靠近第二测量信息的多个第三测量信息拟合聚焦曲线。根据本公开，能够提供一种提高对待测物的测量精度的拟合方法、拟合装置及测量系统。
权利要求书clms
1.一种聚焦曲线的拟合方法，是对基于待测物的反射光束获得的测量信息进行拟合的拟合方法，其特征在于，所述拟合方法包括：获取所述测量信息，所述测量信息包括与负离焦区域相匹配的多个第一测量信息、与对焦区域相匹配的第二测量信息、以及与正离焦区域相匹配的多个第三测量信息；在所述多个第一测量信息中获取多个第一目标测量信息，所述第一目标测量信息的二阶导数的绝对值不大于第一预设值，在所述多个第三测量信息中获取多个第三目标测量信息，所述第三目标测量信息的二阶导数的绝对值不大于所述第一预设值，响应于所述多个第一测量信息与所述多个第三测量信息相对于所述第二测量信息呈对称状态而基于所述多个第一目标测量信息和所述多个第三目标测量信息拟合聚焦曲线；响应于所述多个第一测量信息与所述多个第三测量信息相对于所述第二测量信息呈非对称状态而基于靠近所述第二测量信息的多个所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的多个所述第三测量信息拟合聚焦曲线。2.根据权利要求1所述的拟合方法，其特征在于，基于所述多个第一目标测量信息获得第一直线，基于所述多个第三目标测量信息获得第二直线，并且基于所述第一直线和所述第二直线拟合聚焦曲线。3.根据权利要求1所述的拟合方法，其特征在于，基于靠近所述第二测量信息的多个所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的多个所述第三测量信息拟合聚焦曲线。4.根据权利要求1所述的拟合方法，其特征在于，所述测量信息包括光栅尺的读数和与所述光栅尺的读数相匹配的光强信息。5.根据权利要求1所述的拟合方法，其特征在于，所述多个第一目标测量信息的最小值不小于第二预设值，所述多个第三目标测量信息的最小值不小于所述第二预设值，所述第二预设值与所述待测物、以及所述待测物的测量环境相关。6.根据权利要求1所述的拟合方法，其特征在于，基于靠近所述第二测量信息的第一预设数量的所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的所述第一预设数量的所述第三测量信息拟合聚焦曲线；或者基于靠近所述第二测量信息的第二预设数量的所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的所述第二预设数量的所述第三测量信息拟合聚焦曲线。7.根据权利要求5所述的拟合方法，其特征在于，还包括判断所述第二测量信息与第三预设值的比值，所述第三预设值与所述待测物、以及所述待测物的测量环境相关，若所述比值不大于第四预设值，则基于靠近所述第二测量信息的所述第一预设数量的所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的所述第一预设数量的所述第三测量信息拟合聚焦曲线；若所述比值大于所述第四预设值，则基于靠近所述第二测量信息的所述第二预设数量的所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的所述第二预设数量的所述第三测量信息拟合所述聚焦曲线，所述第一预设数量不大于所述第二预设数量。8.一种聚焦曲线的拟合装置，是对基于待测物的反射光束获得的测量信息进行拟合的拟合装置，其特征在于，所述拟合装置包括获取单元、筛选单元、判断单元、以及拟合单元，所述获取单元配置获取所述测量信息，所述测量信息包括与负离焦区域相匹配的多个第一测量信息、与对焦区域相匹配的第二测量信息、以及与正离焦区域相匹配的多个第三测量信息；所述筛选单元配置为在所述多个第一测量信息中获取多个第一目标测量信息，在所述多个第三测量信息中获取多个第三目标测量信息，其中，所述第一目标测量信息的二阶导数的绝对值和所述第三目标测量信息的二阶导数的绝对值不大于第一预设值；所述判断单元配置为判断所述多个第一测量信息与所述多个第三测量信息相对于所述第二测量信息是否呈对称状态；所述拟合单元配置为响应于所述多个第一测量信息与所述多个第三测量信息相对于所述第二测量信息呈对称状态而基于所述多个第一目标测量信息和所述多个第三目标测量信息拟合聚焦曲线，响应于所述第一测量信息与所述第三测量信息相对于所述第二测量信息呈非对称状态而基于靠近所述第二测量信息的多个所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的多个所述第三测量信息拟合聚焦曲线。9.一种测量系统，其特征在于，包括用于获得测量信息的测量装置、以及权利要求8所述的拟合装置，所述测量装置包括照明模块、扫描模块、驱动模块、以及成像模块，所述照明模块包括用于发射照明光束的光源，所述照明光束经由所述扫描模块达到待测物并形成反射光束；所述扫描模块包括沿照明光束的传播方向依次设置扫描单元和显微物镜；所述驱动模块配置为驱动所述显微物镜以预设步长在预设方向上移动以使所述待测物的待测像素点分别处于所述显微物镜的负离焦区域、对焦区域、以及正离焦区域；所述成像模块配置为基于所述显微物镜位于不同位置的反射光束以获得与所述待测像素点相匹配的包括所述正离焦区域、所述对焦区域、以及所述负离焦区域的多张图像。10.根据权利要求9所述的测量系统，其特征在于，还包括用于获取所述多张图像的测量信息的处理模块，所述成像模块与所述处理模块之间设置有滤波模块。
说明书desc
技术领域本公开涉及大体涉及智能制造装备产业，具体涉及一种聚焦曲线的拟合方法、拟合装置及测量系统。背景技术目前，光学显微技术广泛应用于科学技术研究、工业测量等各个领域，但是普通光学显微技术对具有一定厚度的物体很难实现三维形貌的重建。随着近年来显微技术的不断发展，共聚焦显微技术已成为光学显微领域重要技术之一，其具有高精度、高分辨率、非接触和独特的轴向层析扫描成像等功能特点，可实现待测物的三维形貌重建，在微纳检测、精密测量和生命科学研究等领域得到了广泛的应用。一般而言，共聚焦显微检测技术是基于光源、待测物和显微物镜三点彼此共轭的原理进行机械扫描以获得待测物的各个待测像素点的相对高度进而对待测物进行三维形貌重建。理想情况下，当待测像素点位于显微物镜的焦平面时，其反射的反射光束可以反应待测像素点的相对高度。然而，由于测量环境和待测物结构的限制，待测像素点位于显微物镜的焦平面时，背景噪声或待测物的其他测量面对待测像素点的反射光束具有一定的负面影响，从而导致获得的相对高度误差较大、待测物的三维形貌重建效果不佳。因此，需要一种能够降低对待测物进行测量时的测量误差的方案以提高待测物的三维形貌重建的精度。发明内容本公开是有鉴于上述现有技术的状况而提出的，其目的在于提供一种能够提高对待测物的测量精度的拟合方法、拟合装置及测量系统。本公开第一方面提供一种聚焦曲线的拟合方法，是对基于待测物的反射光束获得的测量信息进行拟合的拟合方法，所述拟合方法包括：获取所述测量信息，所述测量信息包括与负离焦区域相匹配的多个第一测量信息、与对焦区域相匹配的第二测量信息、以及与正离焦区域相匹配的多个第三测量信息；在所述多个第一测量信息中获取多个第一目标测量信息，所述第一目标测量信息的二阶导数的绝对值不大于第一预设值，在所述多个第三测量信息中获取多个第三目标测量信息，所述第三目标测量信息的二阶导数的绝对值不大于所述第一预设值，响应于所述多个第一测量信息与所述多个第三测量信息相对于所述第二测量信息呈对称状态而基于所述多个第一目标测量信息和所述多个第三目标测量信息拟合聚焦曲线；响应于所述多个第一测量信息与所述多个第三测量信息相对于所述第二测量信息呈非对称状态而基于靠近所述第二测量信息的多个所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的多个所述第三测量信息拟合聚焦曲线。根据本公开第一方面提供的拟合方法，通过判断测量信息是否具有对称性而采用不同的拟合方法获得聚焦曲线，对于具有对称性的测量信息，采用直线拟合的方式以拟合聚焦曲线；对于不具有对称性的测量信息，采用二次曲线拟合的方式拟合聚焦曲线。在这种情况下，根据测量结果的实际情况而采用适合的拟合方法获得的聚焦曲线能够具有更高的精度，并且，获得的聚焦曲线能够更准确地反映待测像素点的相对高度，由此，提高了对待测像素点测量时的测量精度，进一步地，能够提高对待测物的重建精度。另外，在本公开第一方面所涉及的拟合方法中，可选地，基于所述多个第一目标测量信息获得第一直线，基于所述多个第三目标测量信息获得第二直线，并且基于所述第一直线和所述第二直线拟合聚焦曲线。在这种情况下，通过获取多个第一目标测量信息和多个第二目标测量信息能够拟合两条具有交点的直线，由于多个第一目标测量信息和多个第二目标测量信息的测量误差较小，因此基于第一直线和第二直线拟合的聚焦曲线能够更加精确地反应待测像素点的相对高度。另外，在本公开第一方面所涉及的拟合方法中，可选地，基于靠近所述第二测量信息的多个所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的多个所述第三测量信息拟合聚焦曲线。在这种情况下，由于越靠近第二测量信息的第一测量信息和第三测量信息的对称性越好，并且，其受到待测物其他测量面的影响也较小，因此能够提高聚焦曲线的拟合精度。另外，在本公开第一方面所涉及的拟合方法中，可选地，所述测量信息包括光栅尺的读数和与所述光栅尺的读数相匹配的光强信息。由此，能够基于与光栅尺的读数相匹配的光强信息获得待测物的相对高度进而对待测物进行三维形貌重建。另外，在本公开第一方面所涉及的拟合方法中，可选地，所述多个第一目标测量信息的最小值不小于第二预设值，所述多个第三目标测量信息的最小值不小于所述第二预设值，所述第二预设值与所述待测物、以及所述待测物的测量环境相关。在这种情况下，能够滤除不大于背景噪声的测量信息以进一步地提高聚焦曲线的拟合精度。另外，在本公开第一方面所涉及的拟合方法中，可选地，基于靠近所述第二测量信息的第一预设数量的所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的所述第一预设数量的所述第三测量信息拟合聚焦曲线；或者基于靠近所述第二测量信息的第二预设数量的所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的所述第二预设数量的所述第三测量信息拟合聚焦曲线。在这种情况下，通过确定第一预设数量或第二预设数据的具体数值就能够拟合聚焦曲线。另外，在本公开第一方面所涉及的拟合方法中，可选地，还包括判断所述第二测量信息与第三预设值的比值，所述第三预设值与所述待测物、以及所述待测物的测量环境相关，若所述比值不大于第四预设值，则基于靠近所述第二测量信息的所述第一预设数量的所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的所述第一预设数量的所述第三测量信息拟合聚焦曲线；若所述比值大于所述第四预设值，则基于靠近所述第二测量信息的所述第二预设数量的所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的所述第二预设数量的所述第三测量信息拟合所述聚焦曲线，所述第一预设数量不大于所述第二预设数量。由此，能够降低用于拟合聚焦曲线中的测量信息出现误差较大或小于背景噪声的可能性，进一步地能够提高聚焦曲线的拟合精度。本公开第二方面提供一种聚焦曲线的拟合装置，是对基于待测物的反射光束获得的测量信息进行拟合的拟合装置，所述拟合装置包括获取单元、筛选单元、判断单元、以及拟合单元，所述获取单元配置获取所述测量信息，所述测量信息包括与负离焦区域相匹配的多个第一测量信息、与对焦区域相匹配的第二测量信息、以及与正离焦区域相匹配的多个第三测量信息；所述筛选单元配置为在所述多个第一测量信息中获取多个第一目标测量信息，在所述多个第三测量信息中获取多个第三目标测量信息，其中，所述第一目标测量信息的二阶导数的绝对值和所述第三目标测量信息的二阶导数的绝对值不大于第一预设值；所述判断单元配置为判断所述多个第一测量信息与所述多个第三测量信息相对于所述第二测量信息是否呈对称状态；所述拟合单元配置为响应于所述多个第一测量信息与所述多个第三测量信息相对于所述第二测量信息呈对称状态而基于所述多个第一目标测量信息和所述多个第三目标测量信息拟合聚焦曲线，响应于所述第一测量信息与所述第三测量信息相对于所述第二测量信息呈非对称状态而基于靠近所述第二测量信息的多个所述第一测量信息、所述第二测量信息、以及靠近所述第二测量信息的多个所述第三测量信息拟合聚焦曲线。在这种情况下，通过获取单元获取测量信息，接着判断单元判断测量信息是否具有对称性，拟合单元根据判断单元的判断结果对测量信息进行直线拟合或曲线拟合以获得聚焦曲线。本公开第三方面提供一种测量系统，包括用于获得测量信息的测量装置、以及本公开第二方面所述的拟合装置，所述测量装置包括照明模块、扫描模块、驱动模块、以及成像模块，所述照明模块包括用于发射照明光束的光源，所述照明光束经由所述扫描模块达到待测物并形成反射光束；所述扫描模块包括沿照明光束的传播方向依次设置的扫描单元和显微物镜；所述驱动模块配置为驱动所述显微物镜以预设步长在预设方向上移动以使所述待测物的待测像素点分别处于所述显微物镜的负离焦区域、对焦区域、以及正离焦区域；所述成像模块配置为基于所述显微物镜位于不同位置的反射光束以获得与所述待测像素点相匹配的包括所述正离焦区域、所述对焦区域、以及所述负离焦区域的多张图像。由此，能够获得测量信息。另外，在本公开第三方面所涉及的测量系统中，可选地，还包括用于获取所述多张图像的测量信息的处理模块，所述成像模块与所述处理模块之间设置有滤波模块。由此，能够提高目标信号的信噪比。根据本公开，能够提供一种提高对待测物的测量精度的拟合方法、拟合装置及测量系统。附图说明现在将仅通过参考附图的例子进一步详细地解释本公开。图1是示出了本公开所涉及的测量系统的应用场景示意图。图2是示出了本公开所涉及的测量系统的结构框图。图3是示出了本公开所涉及的测量装置的光路结构示意图。图4是示出了本公开所涉及的显微物镜的负离焦区域、对焦区域、以及正离焦区域的简化示意图。图5是示出了本公开所涉及的某种待测物的结构示意图。图6是示出了本公开所涉及的第一种实施例的待测像素点的光强-相对高度的示意图。图7是示出了本公开所涉及的第二种实施例的待测像素点的光强-相对高度的示意图。图8是示出了本公开所涉及的拟合方法的流程图。图9是示出了本公开所涉及的步骤S40的流程图。图10是示出了本公开所涉及测量信息呈对称状态时的聚焦曲线示意图。图11是示出了本公开所涉及测量信息呈非对称状态时的聚焦曲线示意图。图12是示出了本公开所涉及的拟合装置的结构框图。具体实施方式以下，参考附图，详细地说明本公开的优选实施方式。在下面的说明中，对于相同的部件赋予相同的符号，省略重复的说明。另外，附图只是示意性的图，部件相互之间的尺寸的比例或者部件的形状等可以与实际的不同。需要说明的是，本公开中的术语“包括”和“具有”以及它们的任何变形，例如所包括或所具有的一系列步骤或单元的过程、方法、装置、产品或设备不必限于清楚地列出的那些步骤或单元，而是可以包括或具有没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。本公开第一方面涉及一种聚焦曲线的拟合方法，其可以用于对待测物的测量信息进行处理以拟合出能够反映待测物的真实形貌的聚焦曲线，例如，对待测物的同一个像素点的测量信息进行拟合以获得能够反映该像素点的真实高度的聚焦曲线。通过本公开所涉及的聚焦曲线的拟合方法，能够提高测量待测物时的测量精度。本公开所涉及的聚焦曲线的拟合方法还可以称为例如聚焦曲线的评价算法、测量信息的处理方法等。图1是示出了本公开所涉及的测量系统1000的应用场景示意图。图2是示出了本公开所涉及的测量系统1000的结构框图。另外，本公开第二方面提供一种聚焦曲线的拟合装置100，拟合装置100可以用于实施本公开第一方面所涉及的拟合方法。另外，本公开第三方面提供一种测量系统1000，测量系统1000可以包括本公开第二方面所涉及的拟合装置100、以及用于获得测量信息的测量装置200。测量装置200可以将获得的测量信息传输至拟合装置100。由此，能够便于拟合装置100对测量信息进行处理以获得聚焦曲线。在本公开中，拟合方法可以是对基于待测物2000的反射光束L1′获得的测量信息进行拟合的拟合方法。在一些示例中，可以基于测量装置200对待测物2000进行测量以获得测量信息，接着测量装置200可以将测量信息传输至拟合装置100，拟合装置100可以对测量信息实施拟合方法以获得聚焦曲线。如上所述，测量信息可以是由测量装置200获得。在一些示例中，测量装置200可以是用于重建待测物2000的三维形貌的测量仪器，例如可以是共聚焦显微镜等仪器。在这种情况下，基于待测物2000的反射光束L1′能够获得反映待测物2000的相对高度的测量信息。在一些示例中，测量信息可以包括光栅尺的读数和与光栅尺的读数相匹配的光强信息。其中，光强信息可以指的是反射光束L1′的光强信息。由此，能够基于与光栅尺的读数相匹配的光强信息获得待测物2000的相对高度进而对待测物2000进行三维形貌重建。在一些示例中，综合多个维度的参数也可以进一步地提高测量待测物2000时的测量精度，进而提高对待测物2000的重建精度。在一些示例中，待测物2000可以称为样品。样品可以是半导体、3C电子玻璃屏、微纳材料、汽车零部件、或者MEMS器件等超精密的器件。在一些示例中，样品可以是应用于航空航天等领域的器件。在另一些示例中，样品可以是生物领域的组织或细胞切片。图3是示出了本公开所涉及的测量装置200的光路结构示意图。以下，详细说明如何获得测量信息。在一些示例中，测量装置200可以包括照明模块20、扫描模块21、驱动模块22、以及成像模块23。其中，照明模块20可以用于为光路系统提供照明光束L1，并且，照明光束L1可以经由扫描模块21到达待测物2000并形成反射光束L1′，扫描模块21可以用于实现对待测物2000的完整测量，驱动模块22可以用于驱动扫描模块21所包括的显微物镜211在预设方向移动，成像模块23可以用于接收经待测物2000反射的反射光束L1′。由此，能够基于接收到的反射光束L1′获得待测物2000的测量信息。在一些示例中，测量装置200还可以包括用于承载待测物2000的承载模块24。预设方向可以是垂直于承载模块24的方向，例如可以是图3所示的D1D2或D2D1的方向。在一些示例中，测量装置200还可以包括分光模块25。分光模块25可以用于调整光束的传播方向。具体而言，照明光束L1经照明模块20出射后到达分光模块25，照明光束L1可以透过分光模块25并经由扫描模块21照射到待测物2000，待测物2000将照明光束L1反射以形成反射光束L1′，反射光束L1′经由扫描模块21到达分光模块25，并被分光模块25反射至成像模块23，成像模块23接收反射光束L1′以获得待测物2000的测量信息。如图3所示，在一些示例中，照明模块20可以包括用于发射照明光束L1的光源201。在一些示例中，照明模块20可以包括第一偏振单元202、第一反射单元203。其中，第一偏振单元202可以让照明光束L1的偏振状态由自然光转为线偏振光。在一些示例中，第一偏振单元202可以设置于光源201与第一反射单元203之间。在这种情况下，经光源201发射的照明光束L1能够透过第一偏振单元202并到达第一反射单元203而被第一反射单元203反射至分光模块25，由此，能够减小光路结构的空间占比以提高光路结构的集成度。在一些示例中，照明模块20可以包括第一透镜单元204、以及第二透镜单元205。在一些示例中，第一透镜单元204可以配置为准直照明光束L1，第二透镜单元205可以配置为调节经准直后的照明光束L1以使光源201的像的位置位于显微物镜211的后焦面。在这种情况下，照明光束L1经过第一透镜单元204后能够变为平行光，并且光源201可以看作位于显微物镜211的入瞳，由此，照明光束L1能够均匀地照射到待测物2000表面。在一些示例中，照明光束L1经照明模块20出射后可以经由分光模块25到达扫描模块21。在一些示例中，扫描模块21可以包括扫描单元212和显微物镜211。扫描单元212和显微物镜211可以沿照明光束L1的传播方向依次设置。在这种情况下，照明光束L1可以透过扫描单元212并经由显微物镜211到达待测物2000。在一些示例中，照明模块20还可以包括套筒透镜213和第二偏振单元214。照明光束L1可以依次经由具有扫描单元212、套筒透镜213、第二偏振单元214、以及显微物镜211到达待测物2000并被待测物2000反射以形成反射光束L1′。换言之，扫描单元212、套筒透镜213、第二偏振单元214、以及显微物镜211可以沿着照明光束L1的传播方向依次设置。在一些示例中，扫描单元212可以是具有透光孔的转盘，例如可以是Nipkow转盘。由此，能够提高扫描效率。在一些示例中，转盘上可以布置有用于观察待测物2000的转盘透镜。在这种情况下，通过设置于转盘上的转盘透镜，能够快速地寻找到待测物2000和待测物2000的待测区域。在一些示例中，转盘可以是以如图3所示的方式倾斜设置的。在这种情况下，被转盘反射的光束的传播方向能够以远离成像模块23的方式传播，进而能够降低非目标光束进入成像模块23的可能性，由此，能够提高待测物2000的成像质量。在一些示例中，扫描单元212可以是基于振镜扫描、LCOS扫描的器件。在这种情况下，能够根据实际测量需求选用不同的扫描单元212以满足不同的测量需求。但本公开不限于此，扫描单元212可以是在共聚焦显微镜中任何能够实现横向扫描的器件。在一些示例中，第二偏振单元214可以是1/4波片。在这种情况下，照明光束L1和反射光束L1′先后通过1/4波片，能够使从扫描模块21出射的反射光束L1′相对照明光束L1的偏振方向旋转90°，从而使得经待测物2000反射的反射光束L1′经扫描模块21出射后能够进入成像模块23。在一些示例中，套筒透镜213可以配置为调节照明光束L1以使光源201的像的位置位于显微物镜211的入瞳，也即，显微物镜211的后焦面。在这种情况下，照明光束L1能够均匀地照射到待测物2000表面。在一些示例中，测量装置200可以是基于当待测物2000位于显微物镜211的焦平面时以获得待测物2000的相对高度。在一些示例中，显微物镜211可以是无限远显微物镜。在这种情况下，若待测物2000的待测像素点位于显微物镜211的焦平面，则待测像素点反射的反射光束L1′经显微物镜211出射后能够变为平行光。另外，套筒透镜213还可以配置为接收显微物镜211所出射的平行光并将平行光聚焦成像至扫描单元212。若想要调节待测物2000的待测像素点使其位于显微物镜211的焦平面，只需要调节显微物镜211在预设方向的位置进行即可，而显微物镜211的重量较轻，因此，能够更灵活地调整测量光路以使待测物2000的待测像素点位于显微物镜211的焦平面。以下，以扫描单元212为具有透光孔的转盘为例，对本公开详细说明。图4是示出了本公开所涉及的显微物镜211的负离焦区域、对焦区域、以及正离焦区域的简化示意图。图4中物镜5000可以相当于显微物镜211，小孔6000可以相当于转盘的透光孔。其中，S表示显微物镜211的焦平面，表示待测像素点位于显微物镜211的负离焦区域，表示待测像素点位于显微物镜211的对焦区域，表示待测像素点位于显微物镜211的正离焦区域。在本公开中，如图2所示，测量装置200还可以包括驱动模块22。驱动模块22可以包括用于驱动显微物镜211移动的第一驱动机构和用于驱动扫描单元212旋转的第二驱动机构。在这种情况下，通过第一驱动机构驱动显微物镜211移动能够使待测物2000的各个像素点分别位于显微物镜211的焦平面以获得各个待测像素点的相对高度，通过第二驱动机构驱动扫描单元212旋转使照明光束L1能够照射至待测物2000的各个待测像素点以实现对待测物2000的完整测量。在一些示例中，第一驱动机构可以配置为驱动显微物镜211以预设步长在预设方向移动。在这种情况下，测量装置200能够获得待测物2000的同一个像素点在显微物镜211处于不同的位置时反射的反射光束L1′。由此，能够获得同一个像素点在显微物镜211处于不同的位置时的测量信息。在一些示例中，显微物镜211可以是沿着D1D2的方向以预设步长逐步移动以实现对同一个待测像素点的扫描。在这个过程中，待测物2000的待测像素点可以分别位于显微物镜211的负离焦区域、对焦区域、以及正离焦区域。其中，如图4所示，待测像素点位于显微物镜211的负离焦区域指的是待测像素点位于显微物镜211的焦平面之下，待测像素点位于显微物镜211的对焦区域指的是待测像素点位于显微物镜211的焦平面，待测像素点位于显微物镜211的正离焦区域指的是待测像素点位于显微物镜211的焦平面之上。在这种情况下，能够获得同一个待测像素点分别位于显微物镜211的负离焦区域、对焦区域、以及正离焦区域时的反射光束L1′，进而能够基于不同区域的反射光束L1′获得不同的测量信息。在一些示例中，经扫描模块21出射的反射光束L1′可以到达分光模块25并被分光模块25反射至成像模块23。由此，成像模块23能够接收反射光束L1′并基于反射光束L1′获得包括测量信息的多张图像。其中，多张图像可以包括用于获得待测像素点的相对高度的测量信息。具体而言，在一些示例中，成像模块23可以配置为基于显微物镜211位于不同位置的反射光束L1′以获得与待测像素点相匹配的多张图像。多张图像可以包括待测像素点位于负离焦区域、对焦区域、以及正离焦区域的图像。在一些示例中，成像模块23可以包括传感单元231、设置于传感单元231与分光模块25之间的第三偏振单元232。反射光束L1′被分光模块25反射后可以经由第三偏振单元232到达传感单元231。在一些示例中，传感单元231可以是CCD、CMOS相机、或者光电倍增管。基于传感单元231可以获得多张图像。在一些示例中，第三偏振单元232可以是与第一偏振单元202的偏振方向不同的偏振片。优选地，第一偏振单元202的偏振方向可以与第三偏振单元232的偏振方向正交。在这种情况下，被扫描单元212反射的照明光束L1即使经由分光模块25被反射至成像模块23，其也不能透过第三偏振单元232进而到达传感单元231，换言之，第三偏振单元232的设置能够降低传感单元231接收到非待测物2000反射的反射光束L1′的可能性。在本公开中，由于穿过扫描模块21的照明光束L1和到达待测物2000并被待测物2000反射形成的反射光束L1′先后透过第二偏振单元214，因此，从扫描模块21出射的反射光束L1′的偏振方向可以旋转90°。在这种情况下，反射光束L1′能够透过第三偏振单元232并到达传感单元231，传感单元231能够接收到从待测物2000反射回来的反射光束L1′，由此，能够降低噪声对目标信号的干扰进而提高目标信号的信噪比，进而提高反射光束L1′到达传感单元231后的成像质量。在一些示例中，可以采用同步触发的方式进行“驱动-拍图”，也即，采用同步触发的方式控制显微物镜211的移动和传感单元231的拍图。在这种情况下，能够提升显微物镜211的扫描步长的均匀性，使测量信息具有采样均匀性的特性。在一些示例中，显微物镜211可以是按预定步长对待测物2000进行扫描。在另一些示例中，显微物镜211可以不按预定步长对待测物2000进行扫描。在一些示例中，传感单元231接收反射光束L1′的接收频率可以与显微物镜211的移动频率成整数倍关系。例如，传感单元231接收反射光束L1′的接收频率可以与显微物镜211的移动频率可以相同。在这种情况下，每当显微物镜211移动一次，都能够基于传感单元231获得一张图像，由此，能够获得与显微物镜211处于不同位置时相匹配的多张图像，并基于多张图像获得测量信息。如图3所示，在一些示例中，成像模块23还可以包括设置于传感单元231与第三偏振单元232之间的第三透镜单元233。在一些示例中，第三透镜单元233可以是中继镜头。第三透镜单元233可以用于将反射光束L1′汇聚于传感单元231。在一些示例中，测量系统1000还可以包括处理模块。成像模块23可以与处理模块信号连接以用于获得多张图像的测量信息。在一些示例中，成像模块23与处理模块之间可以设置有滤波模块。由此，能够提高目标信号的信噪比。图5是示出了本公开所涉及的某种待测物2000的结构示意图。图6是示出了本公开所涉及的第一种实施例的待测像素点的光强-相对高度的示意图。图7是示出了本公开所涉及的第二种实施例的待测像素点的光强-相对高度的示意图。如上所述，当待测像素点位于显微物镜211的焦平面时，可以获得能够反映待测像素点的相对高度的测量信息。然而，受到测量环境和待测物2000结构的限制，在实际测量中，基于单一的焦平面信息获得的待测像素点的相对高度具有较大的误差。本公开的拟合方法旨在提供一种能够尽可能地拟合出反映待测像素点的真实高度的聚焦曲线，并且，基于拟合后的聚焦曲线能够获得待测像素点的真实高度，由此，能够提高对待测物2000的测量精度。根据本公开的拟合方法，能够提高对待测物2000的测量精度进而提高对待测物2000的重建精度。以图5所示的待测物2000为例，待测物2000可以包括平面和斜面。需要注意的是，本公开中所指的平面和斜面可以是相对于承载平台而言，与承载平台平行的面可以称为平面，与承载平台具有大于零的夹角的面可以称为斜面。在一些示例中，当对位于平面P的待测像素点进行测量时，可以获得如图6所示的光强-相对高度示意图。其中，纵轴I可以表示反射光束L1′的光强，横轴Z可以表示待测像素点的相对高度。在一些示例中，纵轴I可以是由传感单元231获得，横轴Z可以是由光栅尺的读数获得。可以看出，对于位于平面上的待测像素点，其测量信息整体上可以呈现出负离焦区域的测量信息与正离焦区域的测量信息相对于对焦区域的测量信息呈对称的状态。对于理想情况，位于对焦区域的待测像素点的反射光束L1′的光强最大，并且，其对应的相对高度即为待测像素点的真实高度。然而在实际测量过程中，对于位于平面的待测像素点，当待测像素点越靠近显微物镜211的焦平面，其反射的反射光束L1′受到噪声的影响越大，从而导致对待测像素点的相对高度的测量也具有较大误差。在一些示例中，存在位于斜面Q的待测像素点，在对其进行测量的过程中，由于待测物2000形状的限制，其测量信息整体上还会呈现出负离焦区域的测量信息与正离焦区域的测量信息相对于对焦区域的测量信息呈非对称的状态。可以理解的是，并非所有位于斜面的待测像素点的测量信息都是呈非对称状态。图8是示出了本公开所涉及的拟合方法的流程图。在一些示例中，可以综合待测像素点整个扫描过程中的测量信息获得待测像素点的相对高度。由此，能够提高对待测像素点的测量精度。在一些示例中，可以基于位于正离焦区域的测量信息与位于负离焦区域的测量信息相对于对焦区域的测量信息是否呈对称的状态而对测量信息采用不同的拟合方法以获得聚焦曲线。在这种情况下，能够适配更多的待测像素点的测量需求以提高待测像素点的测量精度。如上所述，拟合方法是对基于待测物2000的反射光束L1′获得的测量信息进行拟合的拟合方法。如图8所示，在一些示例中，拟合方法可以包括获取测量信息、基于测量信息拟合聚焦曲线。在步骤S20中，测量信息可以是由测量装置200对待测物2000进行测量而获得。测量装置200可以将测量信息传输至拟合装置100以使拟合装置100实施拟合方法。在一些示例中，测量信息可以包括与负离焦区域相匹配的多个第一测量信息、与对焦区域相匹配的第二测量信息、以及与正离焦区域相匹配的多个第三测量信息。在这种情况下，基于多个第一测量信息、第二测量信息、以及多个第三测量信息能够获得能够准确反映待测像素点的相对高度的聚焦曲线，由此，能够提高对待测像素点的测量精度。在一些示例中，在对待测物2000进行测量时，可以通过驱动显微物镜211移动以使待测物2000的待测像素点分别处于显微物镜211的负离焦区域、对焦区域、以及正离焦区域，从而可以获得待测像素点位于显微物镜211的负离焦区域时的多个第一测量信息、位于显微物镜211的对焦区域时的至少一个第二测量信息、以及位于显微物镜211的正离焦区域时的多个第三测量信息。图9是示出了本公开所涉及的步骤S40的流程图。在步骤S40中，基于测量信息拟合聚焦曲线可以是基于与正离焦区域相匹配的多个第一测量信息、与对焦区域相匹配的第二测量信息、以及与负离焦区域相匹配的多个第三测量信息拟合聚焦曲线。具体而言，如图9所示，在一些示例中，基于测量信息拟合聚焦曲线可以包括判断测量信息是否呈对称状态、响应于测量信息呈对称状态而基于多个第一目标测量信息和多个第三目标测量信息拟合聚焦曲线、响应于测量信息呈非称状态而基于靠近第二测量信息的多个第一测量信息、第二测量信息、以及靠近第二测量信息的多个第三测量信息拟合聚焦曲线。如上所述，在步骤S42中可以判断测量信息是否呈对称状态。在一些示例中，测量信息是否呈对称状态可以指的是多个第一测量信息与多个第三测量信息相对于第二测量信息是否呈对称状态。换言之，即待测像素点位于负离焦区域时获得的测量信息和位于正离焦区域时获得的测量信息相对于对焦区域的测量信息是否呈对称状态。在一些示例中，呈对称状态可以指的是各个第一测量信息和与其相对的各个第三测量信息之间的差值不大于预设值。例如，如图6所示，第一测量信息A1与第三测量信息C1可以称为相对的一组数据、第一测量信息Aj与第三测量信息Cj可以称为相对的一组数据……。换言之，可以以第二测量信息B为起点，其左右顺序相同的第一测量信息和第三测量信息可以称为相对的一组数据。在一些示例中，若第一测量信息Aj与第三测量信息Cj之间的差值不大于预设值，则可以判断第一测量信息A1与第三测量信息C1相对于第二测量信息B呈对称状态。在一些示例中，预设值可以为0。在另一些示例中，根据实际测量需求，预设值可以为大于0的任意数值。在一些示例中，超过预设占比的多个第一测量信息和多个第三测量信息呈对称状态，即可判断测量信息呈对称状态。图10是示出了本公开所涉及测量信息呈对称状态时的聚焦曲线示意图。图11是示出了本公开所涉及测量信息呈非对称状态时的聚焦曲线示意图。在步骤S422中，可以响应于测量信息呈对称状态而基于多个第一目标测量信息和多个第三目标测量信息拟合聚焦曲线。换言之，若测量信息呈对称状态，则可以基于多个第一目标测量信息和多个第三目标测量信息拟合聚焦曲线。在一些示例中，若待测像素点的测量信息呈对称状态，可以参见图6，对于越靠近第二测量信息的第一测量信息和第三测量信息，其一阶导数越小，则进一步可以说明其抗噪能力越弱。反之，对于越远离第二测量信息的第一测量信息和第三测量信息，其一阶导数越大，则进一步可以说明其抗噪能力越强。因此，在拟合聚焦曲线时，可以舍弃抗噪能力较弱的测量信息拟合聚焦曲线以提高聚焦曲线的拟合精度。在一些示例中，在步骤S422中，还包括获得各个第一测量信息的二阶导数和各个第三测量信息的二阶导数。在一些示例中，可以根据上述二阶导数获得用于拟合聚焦曲线的测量信息。在一些示例中，可以基于各个测量信息的二阶导数衡量其抗噪能力。若测量信息的二阶导数大于第一预设值，则可以表示其抗噪能力较弱，若将二阶导数大于第一预设值的测量信息用于拟合聚焦曲线，则将降低聚焦曲线的拟合精度。在一些示例中，可以在多个第一测量信息中获取多个第一目标测量信息。多个第一目标测量信息中的各个第一目标测量信息的二阶导数的绝对值可以不大于第一预设值。换言之，可以获得各个第一测量信息的二阶导数，选取二阶导数的绝对值不大于第一预设值的多个第一测量信息作为多个第一目标测量信息。在一些示例中，可以在多个第三测量信息中获取多个第三目标测量信息。多个第三目标测量信息中的各个第三目标测量信息的二阶导数的绝对值可以不大于第一预设值。换言之，可以获得各个第三测量信息的二阶导数，选取二阶导数的绝对值不大于第一预设值的多个第三测量信息作为多个第三目标测量信息。在这种情况下，基于多个第一目标测量信息和多个第三目标信息拟合聚焦曲线能够提高聚焦曲线的拟合精度，进而提高待测像素点的测量精度。在一些示例中，第一预设值可以为0。在一些示例中，第一预设值可以根据测量需求为大于0的数值。例如，如图6所示，若存在第一测量信息Aj-An的各个第一测量信息的二阶导数的绝对值不大于第一预设值，且第一测量信息Aj对应的光强为I1，则可以舍弃光强大于I1的第一测量信息。第三测量信息亦如此。在一些示例中，多个第一目标信息中的最小值可以不小于第二预设值，多个第三目标信息中的最小值可以不小于第二预设值。在一些示例中，第二预设值可以是背景噪声。在这种情况下，能够滤除不大于背景噪声的测量信息以进一步地提高聚焦曲线的拟合精度。综上所述，在一些示例中，第一目标测量信息和第三目标测量信息可以是图6中不小于I2且不大于I1的测量信息，也即多个第一目标测量信息可以是Aj-An，多个第三目标测量信息可以是Cj-Cn。在一些示例中，第二预设值可以与待测物2000相关。例如可以与待测物2000的几何形状、材料等相关。在一些示例中，第二预设值可以与待测物2000的测量环境相关。在这种情况下，基于与待测物2000相关的第二预设值获取多个第一目标测量信息和多个第三目标测量信息能够更准确地拟合出能够反映待测物2000的相对高度的聚焦曲线，由此，能够提高对待测物2000的测量精度。在一些示例中，可以基于多个第一目标测量信息进行直线拟合并基于多个第二目标测量信息进行直线拟合以拟合聚焦曲线。参见图10，在一些示例中，可以基于多个第一目标测量信息获得第一直线L11，基于多个第三目标测量信息获得第二直线L12，并且基于第一直线L11和第二直线L12拟合聚焦曲线。在这种情况下，通过获取多个第一目标测量信息和多个第二目标测量信息能够拟合两条具有交点的直线，由于多个第一目标测量信息和多个第二目标测量信息的测量精度较高，因此基于第一直线L11和第二直线L12拟合的聚焦曲线能够更加精确地反应待测像素点的相对高度。在一些示例中，可以基于第一直线L11和第二直线L12的交点获得位于平面P的待测像素点的相对高度，由此，能够提高对待测像素点的测量精度。在一些示例中，可以采用最小二乘法、梯度下降法、高斯牛顿等直线拟合的方法拟合第一直线L11和第二直线L12。由此，能够提高拟合精度。在步骤S424中，可以响应于测量信息呈非称状态而基于靠近第二测量信息的多个第一测量信息、第二测量信息、以及靠近第二测量信息的多个第三测量信息拟合聚焦曲线。在一些示例中，若待测像素点的测量信息呈非对称状态，则可以基于靠近第二测量信息的多个第一测量信息和多个第三测量信息以拟合聚焦曲线。由此，能够提高聚焦曲线的拟合精度。在一些示例中，待测像素点的测量信息呈非对称状态的表现状态可以是负离焦区域的测量信息的上升速度较慢，正离焦区域的测量信息的下降速度较快；或者可以是图7中所示的负离焦区域的测量信息的上升速度较快，正离焦区域的测量信息的下降速度较慢。一般而言，出于待测物结构的限制，位于斜面的待测像素点相对于位于平面的待测像素点的反射率较低，因而，对于位于斜面且靠近平面的待测像素点而言，其在测量过程中会受到平面高反射率的影响，从而导致其测量信息整体上呈现出非对称的状态。由于越靠近焦平面时的反射光束越强，则靠近对焦区域的测量信息相较于远离对焦区域的测量信息而言，靠近对焦区域的测量信息受到平面高反射率的影响较小，因此，可以基于靠近对焦区域的测量信息拟合聚焦曲线。在一些示例中，对于越远离第二测量信息的第一测量信息或第三测量信息，其误差越大，因此，可以滤除误差较大的测量信息以拟合聚焦曲线。由此，能够提高聚焦曲线的拟合精度。在一些示例中，可以基于靠近第二测量信息的多个第一测量信息、第二测量信息、以及靠近第二测量信息的多个第三测量信息拟合聚焦曲线。在这种情况下，由于越靠近第二测量信息的第一测量信息和第三测量信息的对称性越好，并且，其受到待测物2000其他测量面的影响也较小，因此能够提高聚焦曲线的拟合精度。在一些示例中，可以基于靠近第二测量信息的第一预设数量的第一测量信息、第二测量信息、以及靠近第二测量信息的第一预设数量的第三测量信息拟合聚焦曲线；或者基于靠近第二测量信息的第二预设数量的第一测量信息、第二测量信息、以及靠近第二测量信息的第二预设数量的第三测量信息拟合聚焦曲线。在这种情况下，通过确定第一预设数量或第二预设数据的具体数值就能够拟合聚焦曲线。在一些示例中，第一预设数量可以不大于第二预设数量。在一些示例中，第一预设数量可以为3，也即，可以基于靠近第二测量信息的3个第一测量信息、第二测量信息、以及靠近第二测量信息3个第三测量信息拟合聚焦曲线。由此，基于7个测量信息即可拟合聚焦曲线。在一些示例中，第二预设数量可以为6个，也即，可以基于靠近第二测量信息的6个第一测量信息、第二测量信息、以及靠近第二测量信息的6个第三测量信息拟合聚焦曲线。例如，可以基于如图7所示的第一测量信息E1-E6、第二测量信息F、以及第三测量信息G1-G6拟合聚焦曲线。在一些示例中，拟合的聚焦曲线可以如图11中S0所示，并且，聚焦曲线S0的最高点所对应的高度可以是位于斜面Q的待测像素点的相对高度。由此，基于13个测量信息即可拟合聚焦曲线，并提高了对待测像素点的测量精度。在另一些示例中，也可以基于靠近第二测量信息的2个、4个、5个、7个、8个等第一测量信息和第三测量信息、以及第二测量信息拟合聚焦曲线。在一些示例中，还包括判断第二测量信息与第三预设值的比值。第三预设值与待测物2000、以及待测物2000的测量环境相关。由于第二测量信息可以粗略表示光强的最大值，第三预设值可以表示测量待测物2000时的背景噪声，则通过判断第二测量信息与第三预设值的比值可以确定适用于拟合聚焦曲线的第一预设数量或第二预设数量。在一些示例中，第三预设值可以与第一预设值相同。在一些示例中，用于拟合聚焦曲线的测量信息可以不小于背景噪声。在一些示例中，若比值不大于第四预设值，则可以基于靠近第二测量信息的第一预设数量的第一测量信息、第二测量信息、以及靠近第二测量信息的第一预设数量的第三测量信息拟合聚焦曲线；换言之，当测量信息的峰值相对于背景噪声较小时，可以以较少的测量信息以拟合聚焦曲线，例如，以图7所示的第一测量信息E1-E3、第二测量信息F、以及第三测量信息G1-G3拟合聚焦曲线。若比值大于第四预设值，则可以基于靠近第二测量信息的第二预设数量的第一测量信息、第二测量信息、以及靠近第二测量信息的第二预设数量的第三测量信息拟合聚焦曲线。换言之，当测量信息的峰值相对于背景噪声较大时，可以以较多的测量信息以拟合聚焦曲线，例如，以图7所示的第一测量信息E1-E6、第二测量信息F、以及第三测量信息G1-G6拟合聚焦曲线。由此，能够降低用于拟合聚焦曲线中的测量信息出现误差较大或小于背景噪声的可能性，进一步地能够提高聚焦曲线的拟合精度。可以理解的是，本公开并不限定于上述描述。倘若对于位于斜面的待测像素点的测量信息呈对称状态，则可以基于步骤S422拟合聚焦曲线；对于位于平面的待测像素点的测量信息呈非对称状态，则可以基于步骤S424拟合聚焦曲线。由此，能够根据实际测量情况选用更适宜的拟合方法对测量信息进行拟合以提高聚焦曲线的拟合精度。图12是示出了本公开所涉及的拟合装置100的结构框图。如上所述，本公开还提供了一种拟合装置100，拟合装置100用于实施上述的拟合方法。在一些示例中，拟合装置100可以是对基于待测物2000的反射光束L1′获得的测量信息进行拟合。在一些示例中，拟合装置100可以包括获取单元10、筛选单元11、判断单元12、以及拟合单元13。其中，获取单元10可以配置获取测量信息，测量信息可以包括与负离焦区域相匹配的多个第一测量信息、与对焦区域相匹配的第二测量信息、以及与正离焦区域相匹配的多个第三测量信息。在一些示例中，筛选单元11可以配置为在多个第一测量信息中获取多个第一目标测量信息，在多个第三测量信息中获取多个第三目标测量信息，其中，第一目标测量信息和第三目标测量信息的二阶导数的绝对值可以不大于第一预设值；判断单元12可以配置为判断多个第一测量信息与多个第三测量信息相对于第二测量信息是否呈对称状态；拟合单元13可以配置为响应于多个第一测量信息与多个第三测量信息相对于第二测量信息呈对称状态而基于多个第一目标测量信息和多个第三目标测量信息拟合聚焦曲线，响应于第一测量信息与第三测量信息相对于第二测量信息呈非对称状态而基于靠近第二测量信息的多个第一测量信息、第二测量信息、以及靠近第二测量信息的多个第三测量信息拟合聚焦曲线。在这种情况下，通过获取单元10获取测量信息，接着判断单元12判断测量信息是否具有对称性，拟合单元13根据判断单元12的判断结果对测量信息进行直线拟合或曲线拟合以获得聚焦曲线。关于拟合装置100的具体描述，可以参见本公开的测量系统1000和拟合方法的相关描述，在此不再赘述。根据本公开的拟合方法及拟合装置100，通过判断测量信息是否具有对称性而采用不同的拟合方法获得聚焦曲线，对于具有对称性的测量信息，采用直线拟合的方式以拟合聚焦曲线；对于不具有对称性的测量信息，采用二次曲线拟合的方式拟合聚焦曲线。在这种情况下，根据测量结果的实际情况而采用适合的拟合方法获得的聚焦曲线能够具有更高的精度，并且，获得的聚焦曲线能够更准确地反映待测像素点的相对高度，由此，提高了对待测像素点测量时的测量精度，进一步地，能够提高对待测物2000的重建精度。虽然以上结合附图和示例对本公开进行了具体说明，但是可以理解，上述说明不以任何形式限制本公开。本领域技术人员在不偏离本公开的实质精神和范围的情况下可以根据需要对本公开进行变形和变化，这些变形和变化均落入本公开的范围内。
