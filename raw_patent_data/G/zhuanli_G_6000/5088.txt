标题title
一种静电悬浮加速度计工作模式切换方法
摘要abst
本申请涉及悬浮仪器仪表技术领域，具体而言，涉及一种静电悬浮加速度计工作模式切换方法，包括：步骤1：对静电悬浮加速度计系统加电；步骤2：静电悬浮加速度计系统进入初始化状态，等待10s后，系统初始化完毕；步骤3：静电悬浮加速度计系统默认进入捕获模式，根据工作需求通过总线模式进行自动切换状态和手动干预状态的工作状态选择指令输入，以及进行捕获模式、大量程模式和小量程模式的工作模式选择指令输入。本申请解决了三种模式完全自动切换状态和手动干预状态不能兼容的问题，减少了自动切换状态下的继电器切换次数，延长了量程切换继电器使用寿命，增强了加速度计可靠性。
权利要求书clms
1.一种静电悬浮加速度计工作模式切换方法，其特征在于，工作状态包括自动切换状态和手动干预状态，工作模式包括捕获模式、大量程模式和小量程模式，具体切换方法包括：步骤1：对静电悬浮加速度计系统加电；步骤2：静电悬浮加速度计系统进入初始化状态，等待10s后，系统初始化完毕；步骤3：静电悬浮加速度计系统默认进入捕获模式，根据工作需求通过总线模式进行自动切换状态和手动干预状态的工作状态选择指令输入，以及进行捕获模式、大量程模式和小量程模式的工作模式选择指令输入。2.根据权利要求1所述的静电悬浮加速度计工作模式切换方法，其特征在于，在步骤3中，在自动切换状态下，包括上电初始化完成条件指令、大量程模式进入条件指令、捕获模式进入条件指令以及小量程模式进入条件指令。3.根据权利要求2所述的静电悬浮加速度计工作模式切换方法，其特征在于，在步骤3中，在手动干预状态下，包括小量程模式切换指令和大量程模式切换指令。4.根据权利要求3所述的静电悬浮加速度计工作模式切换方法，其特征在于，在步骤3中，静电悬浮加速度计系统进入捕获模式后，其中：如果在自动切换状态下，收到大量程模式切换指令，则工作状态由自动切换状态转换成手动干预状态；如果在自动切换状态下，收到小量程模式切换指令，则工作状态首先由自动切换状态转换成手动干预状态，然后判断当前处于何种工作模式，并进行工作模式的切换，工作模式切换完成后，最后将工作状态从手动干预状态恢复至自动切换状态。5.根据权利要求4所述的静电悬浮加速度计工作模式切换方法，其特征在于，在工作模式为捕获模式时，需要进行如下步骤设置：步骤1：更新捕获模式PID参数；步骤2：驱动增益状态设置为高电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。6.根据权利要求5所述的静电悬浮加速度计工作模式切换方法，其特征在于，在工作模式为大量程模式时，需要进行如下步骤设置：步骤1：更新大量程模式PID参数；步骤2：驱动增益状态设置为高电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。7.根据权利要求6所述的静电悬浮加速度计工作模式切换方法，其特征在于，在工作模式为小量程模式时，需要进行如下步骤设置：步骤1：更新小量程模式PID参数；步骤2：驱动增益状态设置为低电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。8.根据权利要求7所述的静电悬浮加速度计工作模式切换方法，其特征在于，捕获模式进入条件指令为，当前处于大量程模式或者小量程模式下，每个采集周期时间内判断，当有1个或者多个轴位移检测输出电压的绝对值大于模式切换阈值时，则进入捕获模式。9.根据权利要求8所述的静电悬浮加速度计工作模式切换方法，其特征在于，大量程模式进入条件指令为，在连续采集周期时间内，所有6个轴位移检测输出电压的绝对值均小于等于切换阈值时，则进入大量程模式；小量程模式进入条件指令为，在连续采集周期时间内，所有6个通道PID控制输出电压的绝对值均小于等于切换阈值，则进入小量程模式。10.根据权利要求10所述的静电悬浮加速度计工作模式切换方法，其特征在于，连续采集周期时间和切换阈值均可以通过指令进行设置并保存。
说明书desc
技术领域本申请涉及悬浮仪器仪表技术领域，具体而言，涉及一种静电悬浮加速度计工作模式切换方法。背景技术静电悬浮加速度计具有测量灵敏度高，量程小，测量频率低等特点，可以应用于大气阻力测量、太阳光压和地球红外辐射压力测量、微推力测量以及航天器重力环境监测等。为了适应多用途、宽范围、高精度测量，静电悬浮加速度计正常工作时设置了大量程和小量程模式，静电悬浮加速度计不同于其他加速度计系统，其内部含有一块悬浮的质量块，正常工作时需要将质量块捕获至中心位置处，才能正常敏感外界加速度变化，因此，除去正常工作时的大量程和小量程模式，还需要一个捕获模式。现有在轨的静电悬浮加速度计，工作模式自动切换功能比较单一，只能实现捕获模式切换大量程模式，或者捕获模式切换小量程模式。如果实现三种模式完全自动切换，那么就无法手动干预，失去了模式切换的灵活性，单机调试、测试、特殊实验需求时，频繁的自动切换会导致加速度输出数据无法满足使用要求，但是如果只能手动切换大量程模式或小量程模式，不仅浪费人力成本，还会导致工作模式切换不及时造成数据丢失的问题。因此，三种模式能自动切换并能实现手动干预和灵活设置阈值参数的需求变得非常必要。发明内容本申请提供了一种静电悬浮加速度计工作模式切换方法，解决了三种模式完全自动切换状态和手动干预状态不能兼容的问题，而且通过配置小量程切换阈值条件，还降低了自动切换状态下大量程切换小量程的频率，延长了量程切换继电器使用寿命。为了实现上述目的，本申请提供了一种静电悬浮加速度计工作模式切换方法，工作状态包括自动切换状态和手动干预状态，工作模式包括捕获模式、大量程模式和小量程模式，具体切换方法包括：步骤1：对静电悬浮加速度计系统加电；步骤2：静电悬浮加速度计系统进入初始化状态，等待10s后，系统初始化完毕；步骤3：静电悬浮加速度计系统默认进入捕获模式，根据工作需求通过总线模式进行自动切换状态和手动干预状态的工作状态选择指令输入，以及进行捕获模式、大量程模式和小量程模式的工作模式选择指令输入。进一步的，在步骤3中，在自动切换状态下，包括上电初始化完成条件指令、大量程模式进入条件指令、捕获模式进入条件指令以及小量程模式进入条件指令。进一步的，在步骤3中，在手动干预状态下，包括小量程模式切换指令和大量程模式切换指令。进一步的，在步骤3中，静电悬浮加速度计系统进入捕获模式后，其中：如果在自动切换状态下，收到大量程模式切换指令，则工作状态由自动切换状态转换成手动干预状态；如果在自动切换状态下，收到小量程模式切换指令，则工作状态首先由自动切换状态转换成手动干预状态，然后判断当前处于何种工作模式，并进行工作模式的切换，工作模式切换完成后，最后将工作状态从手动干预状态恢复至自动切换状态。进一步的，在工作模式为捕获模式时，需要进行如下步骤设置：步骤1：更新捕获模式PID参数；步骤2：驱动增益状态设置为高电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。进一步的，在工作模式为大量程模式时，需要进行如下步骤设置：步骤1：更新大量程模式PID参数；步骤2：驱动增益状态设置为高电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。进一步的，在工作模式为小量程模式时，需要进行如下步骤设置：步骤1：更新小量程模式PID参数；步骤2：驱动增益状态设置为低电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。进一步的，捕获模式进入条件指令为，当前处于大量程模式或者小量程模式下，每个采集周期时间内判断，当有1个或者多个轴位移检测输出电压的绝对值大于模式切换阈值时，则进入捕获模式。进一步的，大量程模式进入条件指令为，在连续采集周期时间内，所有6个轴位移检测输出电压的绝对值均小于等于切换阈值时，则进入大量程模式；小量程模式进入条件指令为，在连续采集周期时间内，所有6个通道PID控制输出电压的绝对值均小于等于切换阈值，则进入小量程模式。进一步的，连续采集周期时间和切换阈值均可以通过指令进行设置并保存。本发明提供的一种静电悬浮加速度计工作模式切换方法，具有以下有益效果：本申请可应用于空间微重力测量系统的静电悬浮加速度计装置，航天器在轨进行高精度准稳态加速度的长期测量时，可以无人值守，也可以临时手动干预，不仅解决了三种模式完全自动切换状态和手动干预状态不能兼容的问题，还通过配置小量程切换阈值条件，降低了自动切换状态下大量程切换小量程的频率，减少了自动切换状态下的继电器切换次数，延长了量程切换继电器使用寿命，增强了加速度计可靠性，同时也提供了一种灵活的参数配置能力。附图说明构成本申请的一部分的附图用来提供对本申请的进一步理解，使得本申请的其它特征、目的和优点变得更明显。本申请的示意性实施例附图及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1是根据本申请实施例提供的静电悬浮加速度计工作模式切换方法的流程示意图；图中：A0-上电初始化完成条件指令、A1-大量程模式进入条件指令、A2-捕获模式进入条件指令、A3-小量程模式进入条件指令、M1-小量程模式切换指令、M2-大量程模式切换指令。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分的实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本申请保护的范围。需要说明的是，本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本申请的实施例。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。在本申请中，术语“上”、“下”、“左”、“右”、“前”、“后”、“顶”、“底”、“内”、“外”、“中”、“竖直”、“水平”、“横向”、“纵向”等指示的方位或位置关系为基于附图所示的方位或位置关系。这些术语主要是为了更好地描述本申请及其实施例，并非用于限定所指示的装置、元件或组成部分必须具有特定方位，或以特定方位进行构造和操作。并且，上述部分术语除了可以用于表示方位或位置关系以外，还可能用于表示其他含义，例如术语“上”在某些情况下也可能用于表示某种依附关系或连接关系。对于本领域普通技术人员而言，可以根据具体情况理解这些术语在本申请中的具体含义。另外，术语“多个”的含义应为两个以及两个以上。需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。下面将参考附图并结合实施例来详细说明本申请。如图1所示，本申请提供了一种静电悬浮加速度计工作模式切换方法，工作状态包括自动切换状态和手动干预状态，工作模式包括捕获模式、大量程模式和小量程模式，具体切换方法包括：步骤1：对静电悬浮加速度计系统加电；步骤2：静电悬浮加速度计系统进入初始化状态，等待10s后，系统初始化完毕；步骤3：静电悬浮加速度计系统默认进入捕获模式，根据工作需求通过总线模式进行自动切换状态和手动干预状态的工作状态选择指令输入，以及进行捕获模式、大量程模式和小量程模式的工作模式选择指令输入。具体的，本申请实施例提供的静电悬浮加速度计工作模式切换方法主要应用在空间微重力测量系统的静电悬浮加速度计系统中，包括自动切换状态和手动干预状态两者工作状态的选择切换，以及在不同工作状态下，捕获模式、大量程模式和小量程模式三种工作模式的选择切换，在航天器在轨进行高精度准稳态加速度的长期测量过程中，根据实际情况，可以进行不同工作状态和不同工作模式的切换选择，即可以实现无人值守自动切换工作模式，也可以临时进行手动切换工作模式，降低了人力成本，满足了灵活使用的需求。进一步的，在步骤3中，在自动切换状态下，包括上电初始化完成条件指令、大量程模式进入条件指令、捕获模式进入条件指令以及小量程模式进入条件指令。进一步的，在步骤3中，在手动干预状态下，包括小量程模式切换指令和大量程模式切换指令。进一步的，在步骤3中，静电悬浮加速度计系统进入捕获模式后，其中：如果在自动切换状态下，收到大量程模式切换指令，则工作状态由自动切换状态转换成手动干预状态；如果在自动切换状态下，收到小量程模式切换指令，则工作状态首先由自动切换状态转换成手动干预状态，然后判断当前处于何种工作模式，并进行工作模式的切换，工作模式切换完成后，最后将工作状态从手动干预状态恢复至自动切换状态。进一步的，在工作模式为捕获模式时，需要进行如下步骤设置：步骤1：更新捕获模式PID参数；步骤2：驱动增益状态设置为高电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。进一步的，在工作模式为大量程模式时，需要进行如下步骤设置：步骤1：更新大量程模式PID参数；步骤2：驱动增益状态设置为高电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。进一步的，在工作模式为小量程模式时，需要进行如下步骤设置：步骤1：更新小量程模式PID参数；步骤2：驱动增益状态设置为低电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。进一步的，捕获模式进入条件指令为，当前处于大量程模式或者小量程模式下，每个采集周期时间内判断，当有1个或者多个轴位移检测输出电压的绝对值大于模式切换阈值时，则进入捕获模式。进一步的，大量程模式进入条件指令为，在连续采集周期时间内，所有6个轴位移检测输出电压的绝对值均小于等于切换阈值时，则进入大量程模式；小量程模式进入条件指令为，在连续采集周期时间内，所有6个通道PID控制输出电压的绝对值均小于等于切换阈值，则进入小量程模式。进一步的，连续采集周期时间和切换阈值均可以通过指令进行设置并保存。具体的，下面结合图1，对本申请实施例在静电悬浮加速度计系统工作中进行工作状态和工作模式切换的过程进行详细说明：当静电悬浮加速度计系统工作处于自动切换状态下时：捕获模式下，进入条件指令有：上电初始化完成条件，即完成上电初始化完成条件指令；当前处于大量程或小量程模式下，每个采集周期内判断，当有1个或多个轴位移检测输出电压的绝对值大于切换阈值VINCTL2，则可以进入捕获模式，即完成捕获模式进入条件指令。捕获模式下，退出条件指令有：在连续t1采集周期时间内，所有6个轴位移检测输出电压的绝对值均小于等于切换阈值VINCTL1，则退出捕获模式，进入大量程模式，即完成大量程模式进入条件指令。大量程模式下，退出条件指令有：每个采集周期内判断，当有1个或多个轴位移检测输出电压的绝对值大于阈值VINCTL2，则退出大量程模式，进入捕获模式，即完成捕获模式进入条件指令；在连续t3采集周期时间内，所有6个通道PID控制输出电压的绝对值均小于等于切换阈值VINCTL3，则退出大量程模式，进入小量程模式，即完成小量程模式进入条件指令。小量程模式下，退出条件指令有：当前处于小量程模式下，每个采集周期内判断，当有1个或多个轴位移检测输出电压的绝对值大于切换阈值VINCTL2，则退出小量程模式，进入捕获模式，即完成完成捕获模式进入条件指令。即静电悬浮加速度计系统工作处于自动切换状态下时，可以由捕获模式切换进入大量程模式，由大量程模式切换进入小量程模式，由小量程模式切换进入捕获模式。而当静电悬浮加速度计系统接收到总线模式的切换指令时，即小量程模式切换指令和大量程模式切换指令，工作状态会由自动切换状态转换为手动干预状态：若接收到大量程模式切换指令时：若当前模式为捕获模式，则在下一个周期无条件进入大量程模式；若当前模式为大量程模式，则停留在大量程模式；若当前模式为小量程模式，则在下一个周期无条件进入大量程模式；若接收到小量程模式切换指令时：若当前模式为捕获模式，则停留在捕获模式；若当前模式为大量程模式，则在下一个周期无条件进入小量程模式；若当前模式为小量程模式，则停留在小量程模式；工作模式切换完成后，恢复到自动切换状态，进行自动判读。捕获模式下，按如下步骤进行必要的任务设置：步骤1：更新捕获模式PID参数；步骤2：驱动增益状态设置为高电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。大量程模式下，按如下步骤进行必要的任务设置：步骤1：更新大量程模式PID参数；步骤2：驱动增益状态设置为高电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。小量程模式下，按如下步骤进行必要的任务设置：步骤1：更新小量程模式PID参数；步骤2：驱动增益状态设置为低电平；步骤3：根据模式进入条件指令判断是否需要进入下一个工作模式；步骤4：等待接受总线模式选择指令的输入。此外，在本申请实施例中，模式切换阈值和采集持续时间均可以通过指令设置并保存至总线模块的FLASH中。以上所述仅为本申请的优选实施例而已，并不用于限制本申请，对于本领域的技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
