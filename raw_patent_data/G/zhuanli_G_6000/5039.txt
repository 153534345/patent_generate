标题title
移动服务系统以及移动服务提供方法
摘要abst
本公开涉及移动服务系统以及移动服务提供方法。在利用车辆的移动服务中，抑制为了搭载用户而停车的车辆对周围的交通流造成的影响。移动服务系统具备表示车辆的运行模式的运行模式数据库。移动服务系统受理表示在预约时刻在乘车站点搭载用户的预约。移动服务系统根据表示用户的位置和移动速度的用户状况信息计算用户到达乘车站点的预测到达时刻。在预测到达时刻比预约时刻晚的情况下，移动服务系统执行根据运行模式数据库而调整搭载用户的指定车辆的运行模式的运行模式调整处理。执行运行模式调整处理，以使得乘车站点处的指定车辆的等待时间缩短。
权利要求书clms
1.一种移动服务系统，提供利用车辆的移动服务，其中，所述移动服务系统具备：一个或多个处理器；以及表示所述车辆的运行模式的运行模式数据库，所述一个或多个处理器执行：获取预约信息，该预约信息表示在预约时刻在第1乘车站点搭载所述移动服务的用户的预约；获取用户状况信息，该用户状况信息至少表示所述用户的位置和移动速度；根据所述用户状况信息计算所述用户到达所述第1乘车站点的第1预测到达时刻；在所述第1预测到达时刻比所述预约时刻晚的情况下，执行根据所述运行模式数据库而调整搭载所述用户的指定车辆的所述运行模式的运行模式调整处理，等待时间是从所述指定车辆到达搭载所述用户的目标乘车站点开始直到所述用户到达所述目标乘车站点为止的时间，所述一个或多个处理器执行所述运行模式调整处理，以使得与未执行所述运行模式调整处理的情况相比所述等待时间缩短。2.根据权利要求1所述的移动服务系统，其中，在所述运行模式调整处理中，所述一个或多个处理器判定是否能够以所述指定车辆在第1调整时刻到达所述第1乘车站点的方式调整所述指定车辆的所述运行模式，所述第1调整时刻是所述预约时刻与所述第1预测到达时刻之间的时刻，在能够以所述指定车辆在所述第1调整时刻到达所述第1乘车站点的方式调整所述指定车辆的所述运行模式的情况下，调整所述指定车辆的所述运行模式，以使得所述指定车辆在所述第1调整时刻到达所述第1乘车站点。3.根据权利要求2所述的移动服务系统，其中，从所述第1调整时刻到所述第1预测到达时刻为止的时间为阈值以下。4.根据权利要求2或3所述的移动服务系统，其中，在所述运行模式调整处理中，所述一个或多个处理器在无法以所述指定车辆在所述第1调整时刻到达所述第1乘车站点的方式调整所述指定车辆的所述运行模式的情况下，判定是否能够以所述指定车辆在所述第1预测到达时刻之后的第2调整时刻到达所述第1乘车站点的方式调整所述指定车辆的所述运行模式，在能够以所述指定车辆在所述第2调整时刻到达所述第1乘车站点的方式调整所述指定车辆的所述运行模式的情况下，向所述用户建议所述第2调整时刻的搭载。5.根据权利要求4所述的移动服务系统，其中，在所述用户认可所述第2调整时刻的所述搭载的情况下，所述一个或多个处理器调整所述指定车辆的所述运行模式，以使得所述指定车辆在所述第2调整时刻到达所述第1乘车站点。6.根据权利要求1所述的移动服务系统，其中，在所述运行模式调整处理中，所述一个或多个处理器根据所述用户状况信息，计算所述用户到达与所述第1乘车站点不同的第2乘车站点的第2预测到达时刻，判定是否能够以在所述第2预测到达时刻之前的第3调整时刻到达所述第2乘车站点的方式调整所述指定车辆的所述运行模式，在能够以所述指定车辆在所述第3调整时刻到达所述第2乘车站点的方式调整所述指定车辆的所述运行模式的情况下，向所述用户建议所述第2乘车站点处的搭载。7.根据权利要求6所述的移动服务系统，其中，从所述第3调整时刻到所述第2预测到达时刻为止的时间为阈值以下。8.根据权利要求6或7所述的移动服务系统，其中，从所述第3调整时刻到所述第2预测到达时刻为止的时间比保持所述目标乘车站点为所述第1乘车站点不变的情况下的所述等待时间短。9.根据权利要求6至8中任意一项所述的移动服务系统，其中，在所述用户认可了所述第2乘车站点处的所述搭载的情况下，所述一个或多个处理器将所述目标乘车站点变更为所述第2乘车站点，并且调整所述指定车辆的所述运行模式，以使得所述指定车辆在所述第3调整时刻到达所述第2乘车站点。10.根据权利要求1至9中任意一项所述的移动服务系统，其中，所述指定车辆是在预约的阶段分配给所述用户的第1车辆、或在所述运行模式调整处理中代替所述第1车辆而分配给所述用户的第2车辆。11.一种移动服务提供方法，提供利用车辆的移动服务，其中，所述移动服务提供方法包括：管理表示所述车辆的运行模式的运行模式数据库的处理；获取预约信息的处理，该预约信息表示在预约时刻在第1乘车站点搭载所述移动服务的用户的预约；获取用户状况信息的处理，该用户状况信息至少表示所述用户的位置和移动速度；根据所述用户状况信息计算所述用户到达所述第1乘车站点的第1预测到达时刻的处理；在所述第1预测到达时刻比所述预约时刻晚的情况下，根据所述运行模式数据库而调整搭载所述用户的指定车辆的所述运行模式的运行模式调整处理，等待时间是从所述指定车辆到达搭载所述用户的目标乘车站点直到所述用户到达所述目标乘车站点为止的时间，进行所述运行模式调整处理，以使得与未执行所述运行模式调整处理的情况相比缩短所述等待时间。
说明书desc
技术领域本公开涉及提供利用车辆的移动服务的技术。背景技术专利文献1公开有在汽车共享中使用的车辆预约系统。用户能够从便携信息终端访问预约中心，从而进行车辆的预约。在到了租借开始时刻前的预定时间时，便携信息终端向预约中心发送位置信息。预约中心根据从便携信息终端发送的位置信息，判断利用者能否在租借开始时刻之前到达租借场所。在判断为不能到达的情况下，预约中心向便携信息终端发送预约变更的建议。专利文献专利文献1：日本特开2011-258069号公报发明内容考虑利用车辆的移动服务。用户指定所希望的乘车站点和乘车时刻，进行移动服务的预约。分配给用户的车辆在预约时刻之前到达乘车站点，停车。在此，当用户在预约时刻迟到的情况下，车辆需要在乘车站点继续等待。长时间的停车会扰乱周围的交通流。在与汽车共享相关的专利文献1中，并未考虑车辆的等待时间以及对周围的交通流的影响。本公开的一个目的在于提供一种在利用车辆的移动服务中，能够抑制为了搭载用户而停车的车辆对周围的交通流造成的影响的技术。第1观点涉及提供利用车辆的移动服务的移动服务系统。移动服务系统具备：一个或多个处理器；以及表示车辆的运行模式的运行模式数据库。一个或多个处理器获取预约信息，该预约信息表示在预约时刻在第1乘车站点搭载移动服务的用户的预约。一个或多个处理器获取用户状况信息，该用户状况信息至少表示用户的位置和移动速度。一个或多个处理器根据用户状况信息计算用户到达第1乘车站点的第1预测到达时刻。在第1预测到达时刻比预约时刻晚的情况下，一个或多个处理器执行根据运行模式数据库而调整搭载用户的指定车辆的运行模式的运行模式调整处理。等待时间是从指定车辆到达搭载用户的目标乘车站点开始直到用户到达目标乘车站点为止的时间。一个或多个处理器执行运行模式调整处理，以使得与未执行运行模式调整处理的情况相比缩短等待时间。第2观点涉及提供利用车辆的移动服务的移动服务提供方法。移动服务提供方法包括：管理表示车辆的运行模式的运行模式数据库的处理；获取预约信息的处理，该预约信息表示在预约时刻在第1乘车站点搭载移动服务的用户的预约；获取用户状况信息的处理，该用户状况信息至少表示用户的位置和移动速度；根据用户状况信息计算用户到达第1乘车站点的第1预测到达时刻的处理；以及运行模式调整处理，在该运行模式调整处理中，在第1预测到达时刻比预约时刻晚的情况下，根据运行模式数据库而调整搭载用户的指定车辆的运行模式。等待时间是从指定车辆到达搭载用户的目标乘车站点开始直到用户到达目标乘车站点为止的时间。进行运行模式调整处理，以使得与未执行运行模式调整处理的情况相比缩短等待时间。根据本公开，根据用户状况信息计算用户到达第1乘车站点的第1预测到达时刻。在第1预测到达时刻比预约时刻晚的情况下，执行运行模式调整处理。运行模式调整处理被进行，以使得与未执行运行模式调整处理的情况相比缩短等待时间。因为等待时间缩短，所以抑制了搭载用户的指定车辆对周围的交通流造成的影响。附图说明图1是用于说明本公开的实施方式的移动服务系统的概要的示意图。图2是用于说明本公开的实施方式的运行模式调整处理的概要的示意图。图3是用于说明本公开的实施方式的运行模式调整处理的一例的示意图。图4是用于说明本公开的实施方式的运行模式调整处理的其他例子的示意图。图5是用于说明本公开的实施方式的运行模式调整处理的又一其他例子的示意图。图6是示出本公开的实施方式的车辆的结构例的框图。图7是示出本公开的实施方式的移动服务管理系统的结构例的框图。图8是示出本公开的实施方式的运行模式数据库的一例的示意图。图9是示出本公开的实施方式的预约受理处理的流程图。图10是示出与本公开的实施方式的运行模式调整处理相关的处理的流程图。图11是示出本公开的实施方式的运行模式调整处理的第1例的流程图。图12是示出本公开的实施方式的运行模式调整处理的第2例的流程图。图13是示出本公开的实施方式的运行模式调整处理的第3例的流程图。图14是示出本公开的实施方式的运行模式调整处理的第4例的流程图。图15是示出本公开的实施方式的运行模式调整处理的第5例的流程图。1：移动服务系统；5：用户终端；10：车辆；20：传感器群；30：通信装置；40：HMI；50：行驶装置；60：控制装置；70：驾驶环境信息；100：移动服务管理系统；110：信息处理装置；111：处理器；112：存储装置；120：通信装置；200：运行模式数据库；300：用户数据库；INF：服务信息；INS：运行模式指示；MAP：地图信息；OPE：运行状态信息；PB：乘车站点；RES：预约信息；REQ：预约请求。具体实施方式参照附图，说明本公开的实施方式。1.移动服务系统的概要图1是用于说明本实施方式的移动服务系统1的概要的示意图。移动服务系统1利用车辆10向用户提供移动服务。也能够将车辆10称作MaaS车辆。车辆10供用户乘坐而行驶。例如，车辆10是自主地行驶的自动驾驶车辆。作为其他例子，车辆10也可以是驾驶员驾驶的车辆。在一个服务区域中利用多个车辆10。移动服务的用户至少指定希望的乘车站点PB和乘车时刻。分配给用户的车辆10驶向乘车站点PB，在乘车站点PB搭载用户。然后，车辆10驶向用户希望的下车站点，在下车站点使用户下车。移动服务管理系统100管理这样的移动服务。移动服务管理系统100由一个以上的管理服务器构成。移动服务管理系统100也可以是分布式系统。移动服务的管理包括移动服务的预约的受理、车辆10的运行模式的生成以及管理、车辆10的运行状态的监视等。移动服务的管理也可以包括用户的管理、向用户的信息提供等。车辆10的“运行模式”包括搭载用户的乘车站点PB、到达乘车站点PB的目标到达时刻以及从乘车站点出发的目标出发时刻等。车辆10的运行模式也可以包括使用户下车的下车站点、到达下车站点的目标到达时刻等。进而，运行模式也可以包括车辆10的行驶路线。进而，运行模式也可以包括车辆10的运行模式。移动服务管理系统100具备表示各车辆10每一个的运行模式的“运行模式数据库200”。移动服务管理系统100管理该运行模式数据库200。另外，移动服务管理系统100能够与各车辆10通信。例如，移动服务管理系统100将“运行模式指示INS”发送到车辆10。运行模式指示INS包括车辆10的运行模式，指示车辆10按照该运行模式行驶。另一方面，车辆10向移动服务管理系统100发送表示自身的运行状态的运行状态信息OPE。运行状态信息OPE包括车辆10的当前位置、车速等。移动服务管理系统100能够基于运行状态信息OPE监视各车辆10的运行状态。进而，移动服务管理系统100能够与移动服务的用户所操作的用户终端5通信。作为用户终端5，例示智能手机、PC。移动服务管理系统100能够向用户终端5提供各种服务信息INF。以下，说明某用户X利用移动服务时的基本的流程。用户X操作用户终端5，指定希望的乘车站点PB和乘车时刻。用户X进而也可以指定希望的下车站点。用户终端5向移动服务管理系统100发送包括由用户X指定的信息的“预约请求REQ”。移动服务管理系统100从用户终端5受理预约请求REQ。响应预约请求REQ，移动服务管理系统100选择向用户X提供移动服务的车辆10。各车辆10的运行模式从上述的运行模式数据库200获得。移动服务管理系统100通过参照运行模式数据库200，选择能够满足在预约请求REQ中指定的用户X的希望的车辆10。在确定预约后，移动服务管理系统100获取表示所确定的预约的“预约信息RES”。为了方便，以下将由用户X预约的乘车站点PB称作“第1乘车站点PB1”。以下将由用户X预约的乘车时刻称作“预约时刻tx0”。以下将分配给用户X的车辆10亦即搭载用户X的车辆10称作“指定车辆10X”。预约信息RES表示诸如“指定车辆10X在预约时刻tx0在第1乘车站点PB1搭载用户X”的预约。移动服务管理系统100将包括预约信息RES的服务信息INF提供给用户终端5。另外，移动服务管理系统100生成或更新指定车辆10X的运行模式。例如，移动服务管理系统100生成或更新指定车辆10X的运行模式，以使得指定车辆10X在即将到预约时刻tx0的时候到达第1乘车站点PB1。而且，移动服务管理系统100通过将指定车辆10X的最新的运行模式反应到运行模式数据库200中，从而更新运行模式数据库200。进而，移动服务管理系统100与指定车辆10X通信，向指定车辆10X发送运行模式指示INS。运行模式指示INS包括指定车辆10X的运行模式，指示车辆10X按照该运行模式运行。指定车辆10X从移动服务管理系统100受理运行模式指示INS。然后，指定车辆10X按照运行模式指示INS所包含的运行模式运行。例如，在指定车辆10X为自动驾驶车辆的情况下，指定车辆10X进行自动驾驶控制，以使得按照运行模式运行。作为其他例子，在手动驾驶的情况下，指定车辆10X向驾驶员提示运行模式。驾驶员以按照运行模式运行的方式驾驶指定车辆10X。指定车辆10X向移动服务管理系统100发送运行状态信息OPE。移动服务管理系统100基于运行状态信息OPE监视指定车辆10X的运行状态。指定车辆10X按照运行模式驶向第1乘车站点PB1，在预约时刻tx0之前到达第1乘车站点PB1、停车。在第1乘车站点PB1，用户X乘坐指定车辆10X。之后，指定车辆10X按照运行模式驶向用户X希望下车站点。2.运行模式调整处理接下来，考虑用户X在预约时刻tx0迟到的情况，也就是用户X在预约时刻tx0未能出现在第1乘车站点PB1的情况。假设在针对用户X的迟到不采取任何措施的情况下，指定车辆10X需要在第1乘车站点PB1持续停车，等待用户X的到达。然而，长时间的停车将扰乱周围的交通流，并不优选。因此，根据本实施方式，在预测到用户X迟到的情况下，适当地进行指定车辆10X的运行模式的调整。以下将这样的处理称作“运行模式调整处理”。图2是用于说明本实施方式的运行模式调整处理的概要的示意图。用户终端5向移动服务管理系统100定期发送“用户状况信息STA”。用户状况信息STA至少示出用户X的位置和移动速度。例如，通过利用搭载于用户终端5的GPS功能而获取用户X的位置和移动速度。用户状况信息STA也可以包括直到第1乘车站点PB1为止的移动路线。用户状况信息STA也可以包括直到第1乘车站点PB1为止的移动方案。用户状况信息STA的发送至少进行到用户X到达第1乘车站点PB1为止。移动服务管理系统100从用户终端5定期地受理用户状况信息STA。而且，移动服务管理系统100基于用户状况信息STA预测用户X到达第1乘车站点PB1的时刻。以下，将预测为用户X到达第1乘车站点PB1的时刻称作“第1预测到达时刻tx1”。例如，移动服务管理系统100基于用户状况信息STA和地图信息MAP计算第1预测到达时刻tx1。在用户X利用公共交通工具移动的情况下，移动服务管理系统100也可以还参考公共交通工具的行驶调度以及行驶状况而计算第1预测到达时刻tx1。在第1预测到达时刻tx1晚于预约时刻tx0的情况下，移动服务管理系统100基于运行模式数据库200，执行用于调整指定车辆10X的运行模式的“运行模式调整处理”。典型地，调整指定车辆10X的运行模式包括变更指定车辆10X到达第1乘车站点PB1的目标到达时刻。例如，通过变更指定车辆10X的行驶路线以及运行模式中的至少一方，能够变更目标到达时刻。或者，通过变更分配给用户X的指定车辆10X，也能够变更目标到达时刻。调整指定车辆10X的运行模式也可以包括将搭载用户X的乘车站点PB，从最初的第1乘车站点PB1变更为其他的第2乘车站点PB2。分配给用户X的指定车辆10X只要保持预约时间点的状态即可，也可以不变更。“目标乘车站点PBt”是最终决定的乘车站点PB。目标乘车站点PBt是通过预约信息RES示出的最初的第1乘车站点PB1、或者作为运行模式调整处理的结果而指定的第2乘车站点PB2。“等待时间”是从指定车辆10X到达搭载用户X的目标乘车站点PBt开始直到用户X到达目标乘车站点PBt为止的时间。移动服务管理系统100执行运行模式调整处理，以使得与未执行运行模式调整处理的情况相比缩短等待时间。因为目标乘车站点PBt处的指定车辆10X的等待时间缩短，所以抑制了指定车辆10X对周围的交通流造成的影响。图3是用于说明运行模式调整处理的一例的示意图。时刻tv0是指定车辆10X到达第1乘车站点PB1的目标到达时刻，是调整运行模式之前的最初的目标到达时刻。目标到达时刻tv0设定在即将到预约时刻tx0的时刻。例如，目标到达时刻tv0被设定为从目标到达时刻tv0到预约时刻tx0的时间为阈值以下。第1预测到达时刻tx1是预测为用户X到达第1乘车站点PB1的时刻。在第1预测到达时刻tx1晚于预约时刻tx0的情况下，等待时间变长。因此，移动服务管理系统100进行运行模式调整处理以缩短等待时间。具体而言，“第1调整时刻tv1”是预约时刻tx0与第1预测到达时刻tx1之间的时刻。例如，从第1调整时刻tv1到第1预测到达时刻tx1的时间为阈值以下。移动服务管理系统100调整指定车辆10X的运行模式，以使得指定车辆10X在第1调整时刻tv1到达第1乘车站点PB1。作为其结果，等待时间变为从第1调整时刻tv1到第1预测到达时刻tx1为止的时间，与运行模式调整前的等待时间相比缩短了。图4是用于说明运行模式调整处理的其他例子的示意图。“第2调整时刻tv2”是第1预测到达时刻tx1之后的时刻。在用户X认可了第2调整时刻tv2的搭载的情况下，移动服务管理系统100调整指定车辆10X的运行模式，以使得指定车辆10X在第2调整时刻tv2到达第1乘车站点PB1。作为其结果，等待时间几乎为零，与运行模式调整前的等待时间相比也缩短了。用户X虽然需要稍稍等待，但即使这样也能够利用移动服务。图5是用于说明运行模式调整处理又一其他例子的示意图。在图5所示的例子中，搭载用户X的目标乘车站点PBt从最初的第1乘车站点PB1被变更为其他的第2乘车站点PB2。例如，在用户X利用电车移动、第1乘车站点PB1位于第1车站的车站前的情况下，第2乘车站点PB2是第1车站的跟前的第2车站的车站前。“第2预测到达时刻tx2”是预测为用户X到达第2乘车站点PB2的时刻。“第3调整时刻tv3”是比第2预测到达时刻tx2靠前的时刻。例如，从第3调整时刻tv3到第2预测到达时刻tx2为止的时间为阈值以下。第3调整时刻tv3被设定为至少从第3调整时刻tv3到第2预测到达时刻tx2为止的等待时间与目标乘车站点PBt保持第1乘车站点PB1不变的情况下的等待时间相比变短。在用户X认可了第2乘车站点PB2处的搭载的情况下，移动服务管理系统100将用于搭载用户X的目标乘车站点PBt变更为第2乘车站点PB2。进而，移动服务管理系统100调整指定车辆10X的运行模式，以使得指定车辆10X在第3调整时刻tv3到达第2乘车站点PB2。作为其结果，等待时间变为从第3调整时刻tv3到第2预测到达时刻tx2为止的时间，与运行模式调整前的等待时间相比缩短了。需要说明的是，在图3～图5的任意例子中，指定车辆10X既可以保持预约时间点的状态不变，也可以变更。也就是说，指定车辆10X既可以是在预约的阶段分配给用户X的第1车辆，也可以是在运行模式调整处理中替代第1车辆而分配给用户X的第2车辆。＜效果＞如以上说明的那样，根据本实施方式，基于用户状况信息STA计算用户X到达第1乘车站点PB1的第1预测到达时刻tx1。在第1预测到达时刻tx1晚于预约时刻tx0的情况下，执行运行模式调整处理。运行模式调整处理以与未执行运行模式调整处理的情况相比等待时间缩短的方式进行。因为等待时间缩短了，所以抑制了搭载用户X的指定车辆10X对周围的交通流造成的影响。这一点在交通量多并且没有土地富余的都市部特别优选。从用户X的观点来说，避免了只要多少迟到了就完全无法利用移动服务的事态。由于有了一定程度的通融，所以针对移动服务的满意度得以提高。从服务提供者的观点来说，抑制了服务机会的丧失。以下，更详细地说明本实施方式的车辆10以及移动服务管理系统100。3.车辆的结构例3-1.结构例图6是示出本实施方式的车辆10的结构例的框图。车辆10具备传感器群20、通信装置30、行驶装置50以及控制装置60。驾驶员驾驶的车辆10也可以具备HMI40。传感器群20包括用于检测车辆10的状态的车辆状态传感器。车辆状态传感器包括速度传感器、加速度传感器、偏航率传感器、舵角传感器等。另外，传感器群20包括用于检测车辆10的位置以及方位的位置传感器。作为位置传感器。例示GPS传感器。进而，传感器群20包括用于识别车辆10的周边的状况的识别传感器。作为识别传感器，例示摄像机、LIDAR、雷达等。通信装置30与车辆10的外部进行通信。例如，通信装置30与移动服务管理系统100进行通信。HMI40是用于向驾驶员提供信息并从驾驶员受理信息的接口。作为HMI40，例示显示器，触摸面板、头戴式显示器等。行驶装置50包括操舵装置、驱动装置以及制动装置。操舵装置用于使车轮转向。例如，操舵装置包括动力转向装置。驱动装置是用于产生驱动力动力源。作为驱动装置，例示发动机、电动机、轮毂电机等。制动装置使得产生制动力。控制装置60控制车辆10。控制装置60包括一个或多个处理器61和一个或多个存储装置62。处理器61执行各种处理。例如，处理器61包括CPU。存储装置62保存各种信息。作为存储装置62，例示易失性存储器、非易失性存储器、HDD、SSD等。处理器61通过执行作为计算机程序的控制程序，实现处理器61的各种处理。控制程序保存于存储装置62或者记录于计算机可读取的记录介质。控制装置60也可以包括一个或多个ECU。3-2.驾驶环境信息控制装置60使用传感器群20获取表示车辆10的驾驶环境的驾驶环境信息70。驾驶环境信息70包括车辆状态信息、车辆位置信息以及周边状况信息。车辆状态信息表示利用车辆状态传感器检测到的车辆状态。车辆位置信息表示利用位置传感器检测到的车辆10的位置以及方位。周边状况信息表示利用识别传感器得到的识别结果。例如，周边状况信息包括利用摄像机拍摄到的图像。周边状况信息也可以包括与车辆10的周边的物体相关的物体信息。作为车辆10的周边的物体，例示步行者、其他车辆、标识、白线、路侧构造物等。物体信息表示物体相对车辆10的相对位置以及相对速度。驾驶环境信息70保存于存储装置62。3-3.通信处理控制装置60经由通信装置30与移动服务管理系统100进行通信。例如，处理器61经由通信装置30将运行状态信息OPE发送到移动服务管理系统100。运行状态信息OPE表示车辆10的运行状态。运行状态信息OPE包含有上述的驾驶环境信息70的一部分。例如，运行状态信息OPE表示车辆10的当前位置。另外，运行状态信息OPE也可以表示车辆10的车速。进而，运行状态信息OPE也可以包括车辆10到达乘车站点PB的预测到达时刻。预测到达时刻例如基于当前位置、车速以及乘车站点PB的位置而计算。在计算预测到达时刻时，也可以考虑从交通信息中心提供的拥堵信息。另外，处理器61经由通信装置30从移动服务管理系统100接收运行模式指示INS。运行模式指示INS表示车辆10应当遵循的运行模式。3-4.信息提供处理控制装置60经由HMI40向驾驶员提供所需的信息。例如，处理器61向驾驶员提示由运行模式指示INS示出的运行模式。例如，处理器61将运行模式显示于显示器中。3-5.车辆行驶控制控制装置60执行用于控制车辆10的行驶的车辆行驶控制。车辆行驶控制包括操舵控制、加速控制以及减速控制。处理器61通过控制行驶装置50而执行车辆行驶控制。处理器61也可以进行自动驾驶控制。在这种情况下，处理器61执行车辆行驶控制，以使得车辆10按照由运行模式指示INS示出的运行模式自动地行驶。处理器61基于运行模式和上述的驾驶环境信息70生成车辆10的目标轨迹。目标轨迹包括目标位置以及目标速度。而且，处理器61执行车辆行驶控制，以使得车辆10追随目标轨迹。在手动驾驶的情况下，处理器61按照驾驶员实施的驾驶操作而进行车辆行驶控制。4.移动服务管理系统4-1.结构例图7是示出本实施方式的移动服务管理系统100的结构例的框图。移动服务管理系统100包括信息处理装置110、通信装置120、运行模式数据库200以及用户数据库300。信息处理装置110进行各种信息处理。信息处理装置110包括一个或多个处理器111和一个或多个存储装置112。处理器111执行各种处理。例如，处理器111包括CPU。存储装置112保存各种信息。作为存储装置112，例示易失性存储器、非易失性存储器、HDD、SSD等。处理器111通过执行作为计算机程序的移动服务管理程序，实现信息处理装置110的功能。移动服务管理程序保存于存储装置112。移动服务管理程序也可以记录于计算机可读的记录介质。移动服务管理程序也可以经由网络来提供。通信装置120进行与外部的通信。例如，通信装置120与车辆10进行通信。另外，通信装置120与用户终端5进行通信。运行模式数据库200示出在移动服务中利用的车辆10的各个运行模式。运行模式数据库200通过能够由信息处理装置110访问的存储装置实现。处理器111管理运行模式数据库200。图8是表示运行模式数据库200的一例的示意图。在图8所示的例子中，运行模式数据库200针对每个车辆10示出乘降站点、目标到达时刻、目标出发时刻、行驶路线、运行模式。运行模式包括目标车速等。用户数据库300示出与移动服务的各用户相关的用户信息。用户信息包括用户登记信息、用户终端5的终端信息、预约信息等。移动服务管理系统100例如通过管理服务器实现。也可以由多个管理服务器进行分布处理。4-2.预约受理处理图9是示出本实施方式的预约受理处理的流程图。在步骤S10中，处理器111经由通信装置120从用户终端5接收预约请求REQ。预约请求REQ至少包括由用户X指定的乘车站点PB以及乘车时刻。预约请求REQ也可以包括由用户X指定的下车站点。在步骤S20中，处理器111基于预约请求REQ搜索能够向用户X提供移动服务的车辆10。也就是说，处理器111搜索能够满足在预约请求REQ中示出的用户X的希望的车辆10。各车辆10的运行模式从运行模式数据库200获得。由此，处理器111通过参照运行模式数据库200，能够搜索能够满足用户X的希望的车辆10。处理器111也可以将尚未设定运行模式的新的车辆10分配给用户X。在能够安排能够满足用户X的希望的车辆10的情况下，处理进入步骤S30。除此以外的情况下，处理进入步骤S60。在步骤S30中，处理器111经由通信装置120与用户终端5进行通信，向用户终端5发送能够预约的移动服务的信息。用户终端5向用户X提示能够预约的移动服务的信息。用户X操作用户终端5，确定预约。在预约确定后，处理器111获取表示所确定的预约的预约信息RES。预约信息RES表示诸如“指定车辆10X在预约时刻tx0在第1乘车站点PB1搭载用户X”的预约。处理器111也可以经由通信装置120将预约信息RES发送到用户终端5。在步骤S40中，处理器111生成或更新指定车辆10X的运行模式。例如，处理器111生成或更新指定车辆10X的运行模式，以使得指定车辆10X在即将到预约时刻tx0时到达第1乘车站点PB1。而且，处理器111通过将指定车辆10X的最新的运行模式反映到运行模式数据库200中，更新运行模式数据库200。在步骤S50中，处理器111经由通信装置120将运行模式指示INS发送到指定车辆10。运行模式指示INS包括指定车辆10X的运行模式，指示指定车辆10X按照该运行模式运行。另一方面，在步骤S60中，处理器111经由通信装置120向用户终端5发送不可预约通知。用户X看到不可预约通知，能够重新研究乘车站点PB以及乘车时刻中的至少一方。4-3.运行模式调整处理在执行上述的预约受理处理并获取到预约信息RES之后，根据需要而执行运行模式调整处理。图10是示出与本公开的实施方式的运行模式调整处理相关的处理的流程图。图10所示的处理流程按照固定周期而重复执行。在步骤S100中，处理器111获取用户状况信息STA。用户状况信息STA至少示出用户X的位置和移动速度。例如，用户X的位置和移动速度通过利用搭载于用户终端5的GPS功能获取。处理器111能够经由通信装置120从用户终端5定期地接收用户状况信息STA。用户状况信息STA也可以包括直到第1乘车站点PB1为止的移动路线。用户状况信息STA也可以包括直到第1乘车站点PB1为止的移动方案。移动路线、移动方案例如由用户X输入。或者，处理器111也可以根据用户X的位置和移动速度推定移动路线、移动方案。在步骤S200中，处理器111基于用户状况信息STA计算用户X到达第1乘车站点PB1的第1预测到达时刻tx1。例如，处理器111基于用户状况信息STA和地图信息MAP计算第1预测到达时刻tx1。在用户X利用公共交通工具移动的情况下，处理器111也可以还参考公共交通工具的行驶调度以及行驶状况而计算第1预测到达时刻tx1。在步骤S300中，处理器111判定第1预测到达时刻tx1是否晚于在预约信息RES中示出的预约时刻tx0。在第1预测到达时刻tx1晚于预约时刻tx0的情况下，处理进入步骤S400。在除此以外的情况下，结束本次循环中的处理。在步骤S400中，处理器111调整搭载用户X的指定车辆10X的运行模式。各车辆10的运行模式从上述的运行模式数据库200获得。处理器111基于运行模式数据库200进行运行模式调整处理。特别是，处理器111执行运行模式调整处理，以使得与未执行运行模式调整处理的情况相比，目标乘车站点PBt处的指定车辆10X的等待时间缩短。以下说明运行模式调整处理的各种例子。4-3-1.第1例图11是示出运行模式调整处理的第1例的流程图。第1例对应于上述的图3以及图4示出的例子。在第1例中，处理器111将搭载用户X的目标乘车站点PBt维持为第1乘车站点PB1不变。在步骤S410中，处理器111判定能否以指定车辆10X在第1调整时刻tv1到达第1乘车站点PB1的方式调整指定车辆10X的运行模式。第1调整时刻tv1是预约时刻tx0与第1预测到达时刻tx1之间的时刻。例如，从第1调整时刻tv1到第1预测到达时刻tx1为止的时间为阈值以下。在指定车辆10X的之后的调度已经满了的情况下，有时也无法调整指定车辆10X的运行模式。未必需要将指定车辆10X维持在预约的阶段分配给用户X的车辆10不变。处理器111也可以将指定车辆10X变更为其他车辆10。也就是说，处理器111也可以为用户新分配第2车辆来代替第1车辆。在能够以指定车辆10X在第1调整时刻tv1到达第1乘车站点PB1的方式调整指定车辆10X的运行模式的情况下，处理进入步骤S415。在除此以外的情况下，处理进入步骤S420。在步骤S415中，处理器111调整指定车辆10X的运行模式，以使得指定车辆10X在第1调整时刻tv1到达第1乘车站点PB1。而且，处理器111通过将指定车辆10X的最新的运行模式反应到运行模式数据库200中，从而更新运行模式数据库200。进而，处理器111经由通信装置120向指定车辆10X发送最新的运行模式指示INS。另外，在步骤S415中，处理器111也可以经由通信装置120向用户终端5发送服务信息INF。此时的服务信息INF用于通知车辆到达时间的变更。例如，服务信息INF通知第1调整时刻tv1。在步骤S420中，处理器111判定能否以指定车辆10X在第2调整时刻tv2到达第1乘车站点PB1的方式调整指定车辆10X的运行模式。第2调整时刻tv2是第1预测到达时刻tx1之后的时刻。与上述的步骤S410的情况同样地，指定车辆10X既可以保持预约时间点的车辆不变，也可以变更。在能够以指定车辆10X在第2调整时刻tv2到达第1乘车站点PB1的方式调整指定车辆10X的运行模式的情况下，处理进入步骤S421。在除此以外的情况下，处理进入步骤S440。在步骤S421中，处理器111经由通信装置120向用户终端5发送服务信息INF。此时的服务信息INF用于向用户X建议在第2调整时刻tv2搭载。例如，服务信息INF包括诸如“如果等待两分钟就能够利用，如何？”的消息。用户终端5将从移动服务管理系统100受理的服务信息INF显示于显示器中。用户X操作用户终端5，认可或不认可建议。从用户终端5向移动服务管理系统100送出由用户X作出的应答。在用户X认可建议的情况下，处理进入步骤S425。另一方面，在用户X不认可建议的情况下，处理进入步骤S440。在步骤S425中，处理器111调整指定车辆10X的运行模式，以使得指定车辆10X在第2调整时刻tv2到达第1乘车站点PB1。而且，处理器111通过将指定车辆10X的最新的运行模式反映到运行模式数据库200中，从而更新运行模式数据库200。进而，处理器111经由通信装置120向指定车辆10X发送最新的运行模式指示INS。另外，在步骤S425中，处理器111也可以经由通信装置120向用户终端5发送服务信息INF。此时的服务信息INF用于通知车辆到达时间的变更。例如，服务信息INF通知第2调整时刻tv2。在步骤S440中，处理器111经由通信装置120向用户终端5发送服务信息INF。此时的服务信息INF用于通知用户X可能赶不上预约时刻tx0。进而，服务信息INF也可以建议其他的移动方案。4-3-2.第2例图12是示出运行模式调整处理的第2例的流程图。第2例对用于上述的图5示出的例子。在步骤S430中，处理器111基于用户状况信息STA和地图信息MAP提取不同于第1乘车站点PB1的第2乘车站点PB2。例如，在用户X利用电车移动、第1乘车站点PB1位于第1车站的车站前的情况下，第2乘车站点PB2为第1车站跟前的第2车站的车站前。另外，处理器111基于用户状况信息STA计算用户X到达第2乘车站点PB2的第2预测到达时刻tx2。第2预测到达时刻tx2的算出方法与第1预测到达时刻tx1的情况相同。进而，处理器111判定是否能够以指定车辆10X在第3调整时刻tv3到达第2乘车站点PB2的方式调整指定车辆10X的运行模式。第3调整时刻tv3是比第2预测到达时刻tx2靠前的时刻。例如，从第3调整时刻tv3到第2预测到达时刻tx2为止的时间为阈值以下。第3调整时刻tv3被设定为至少从第3调整时刻tv3到第2预测到达时刻tx2为止的等待时间比目标乘车站点PBt维持第1乘车站点PB1不变的情况下的等待时间短。需要说明的是，与上述的步骤S410的情况同样地，指定车辆10X既可以维持为预约时间点的车辆不变，也可以变更。在能够以指定车辆10X在第3调整时刻tv3到达第2乘车站点PB2的方式调整指定车辆10X的运行模式的情况下，处理进入步骤S431。在除此以外的情况下，处理进入步骤S440。在步骤S431中，处理器111经由通信装置120向用户终端5发送服务信息INF。此时的服务信息INF用于向用户X建议第2乘车站点PB2以及第3调整时刻tv3的搭载。用户终端5将从移动服务管理系统100受理到的服务信息INF显示于显示器中。用户X操作用户终端5，认可或不认可建议。从用户终端5向移动服务管理系统100送出由用户X作出的应答。在用户X认可建议的情况下，处理进入步骤S435。另一方面，在用户X不认可建议的情况下，处理进入步骤S440。在步骤S435中，处理器111将搭载用户X的目标乘车站点PBt变更为第2乘车站点PB2。另外，处理器111调整指定车辆10X的运行模式，以使得指定车辆10X在第3调整时刻tv3到达第2乘车站点PB2。而且，处理器111通过将指定车辆10X的最新的运行模式反映到运行模式数据库200中，从而更新运行模式数据库200。进而，处理器111经由通信装置120将最新的运行模式指示INS发送给指定车辆10X。另外，在步骤S435中，处理器111也可以经由通信装置120向用户终端5发送服务信息INF。此时的服务信息INF用于通知乘车站点的变更以及车辆到达时间。例如，服务信息INF通知第2乘车站点PB2以及第3调整时刻tv3。4-3-3.第3例图13是示出运行模式调整处理的第3例的流程图。第3例是上述的第1例和第2例的组合。步骤S410与第1例的情况相同。在步骤S410的判定结果为否定的情况下，处理进入步骤S430。步骤S430之后与第2例的情况相同。4-3-4.第4例图14是示出运行模式调整处理的第4例的流程图。第4例是上述的第1例和第2例的组合。步骤S410以及步骤S420与第1例的情况相同。在步骤S420的判定结果为否定的情况下，处理进入步骤S430。步骤S430之后与第2例的情况相同。4-3-5.第5例图15是示出运行模式调整处理的第5例的流程图。第5例是上述的第1例和第2例的组合。步骤S410～S422与第1例的情况相同。在步骤S422中，在用户X不认可建议的情况下，处理进入步骤S430。步骤S430之后与第2的例的情况相同。
