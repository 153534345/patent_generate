标题title
一种水电集控中心一体化平台系统的云部署方法
摘要abst
本发明提供了一种水电集控中心一体化平台系统的云部署方法，属于水电站自动化控制技术领域。该方法包括：构建各系统模块的虚拟机子模块；根据构建的虚拟机子模块，下发虚拟机，并配置虚拟化网络；根据水电站的信息，利用虚拟化网络对各系统模块进行配置，实现与各梯级水电站间的通讯；根据水电集控中心一体化平台融合需求，融合经配置后的系统模块；利用终端展示融合后的画面和各水电站的数据，完成云部署。本发明解决了现有技术中部署周期长的问题。
权利要求书clms
1.一种水电集控中心一体化平台系统的云部署方法，其特征在于，包括以下步骤：S1、构建各系统模块的虚拟机子模块；S2、根据构建的虚拟机子模块，下发虚拟机，并配置虚拟化网络；S3、根据水电站的信息，利用虚拟化网络对各系统模块进行配置，实现与各梯级水电站间的通讯；S4、根据水电集控中心一体化平台融合需求，融合经配置后的系统模块；S5、利用终端展示融合后的画面和各水电站的数据，完成云部署。2.根据权利要求1所述的水电集控中心一体化平台系统的云部署方法，其特征在于，所述步骤S1包括以下步骤：S101、接收终端发出的虚拟机申请请求指令；S102、根据请求指令计算各系统模块的剩余资源；S103、判断物理主机的剩余物理资源是否满足当前申请的虚拟机需求，若是，则进入步骤S104，否则，添加物理资源，并将添加的物理资源加入剩余的资源集合中，并进入步骤S104；S104、根据判断结果设定虚拟机部署策略，并根据部署策略构建虚拟机子模块。3.根据权利要求2所述的水电集控中心一体化平台系统的云部署方法，其特征在于，所述步骤S104包括以下步骤：S1041、将各请求指令进行粒子编码，并随机生成N个粒子作为初始种群；S1042、根据判断结果将全局最优解加入初始种群的归档集中；S1043、对种群进行变异操作，得到最优粒子；S1044、根据最优粒子，寻找全局最优解更新归档集；S1045、更新粒子群的速度和位置；S1046、根据更新结果，计算归档集中的粒子群的拥挤度，以控制归档集的大小；S1047、判断是否满足迭代条件，若是，则进入步骤S1048，否则，返回步骤S1041；S1048、输出归档集，形成虚拟机部署策略，并根据部署策略构建虚拟机子模块。4.根据权利要求3所述的水电集控中心一体化平台系统的云部署方法，其特征在于，所述更新粒子群的速度和位置表达式如下：Vk+1＝ωVk+c1+c2xk+1＝xk+vk其中，Vk+1和xk+1分别表示更新后的粒子速度和位置，Vk表示当前迭代V的速度分量，xk表示对应粒子X的相应位置上的位置分量，pbestk表示最优粒子的相应位置上的分量，gbestk表示归档集中随机粒子的分量，ω表示惯性因子，c1和c2均表示学习因子。5.根据权利要求3所述的水电集控中心一体化平台系统的云部署方法，其特征在于，所述拥挤度的表达式如下：其中，PCD表示归档集中的粒子，Pk+1和Pk-1分别表示Pk相邻两侧的粒子，m表示适应度函数总数，i表示适应度函数个数，和分别表示第i个适应度函数在粒子群中的最大值和最小值。6.根据权利要求1所述的水电集控中心一体化平台系统的云部署方法，其特征在于，所述步骤S2包括以下步骤：S201、根据构建的虚拟机子模块，下发一体化平台虚拟机和系统模块虚拟机；S202、分别记录一体化平台虚拟机和系统模块虚拟机的Mac地址；S203、基于记录的Mac地址，根据IP规划表、配置IP和路由至虚拟化网络；S204、将配置好的虚拟化网络与网络设备建立通讯连接，完成虚拟化网络的配置。7.根据权利要求1所述的水电集控中心一体化平台系统的云部署方法，其特征在于，所述步骤S3包括以下步骤：S301、分别获取水电站的信息以及各梯级水电站的信息；S302、根据水电站的信息以及各梯级水电站的信息，利用虚拟化网络配置各系统模块内的程序；S303、基于配置好程序的系统模块，建立水电集控中心一体化平台与各梯级水电站的通讯。
说明书desc
技术领域本发明属于水电站自动化控制技术领域，尤其涉及一种水电集控中心一体化平台系统的云部署方法。背景技术随着国内水电厂的建设和计算机技术的发展，同一流域水电站集中控制作为一种高效的统一管理方式，发展十分迅猛，水电站集控中心内设备的安全可靠运行具有十分重要的意义。针对水电站集控中心系统模块部署通常采用的方法是借助各系统模块厂家提供的硬件和独立的网络进行数据的收集和传输。这类部署方法主要有两大限制：一是每个系统模块厂家提供的硬件都多达一整面盘柜，在采购、施工和维护等方面成本较高，如果集控中心新增系统模块，整个部署周期会很长。二是每个模块为独立一套系统，运行人员监屏需要在不同系统里切换，并且需要其熟悉各系统模块的使用，这也增加了运行成本。目前已有一种水电站集控中心系统模块部署方法，是监控系统的软件平台融合其他系统模块，实现软件一体化平台建设。此方法虽然可让运行人员在同一系统内对各系统模块进行监控，但是有两方面主要缺点：一方面是仍然使用传统热设备，如果单台设备宕机后，恢复热备状态难度较大；一方面是每个系统模块厂家提供的硬件都多达一整面盘柜，在采购、施工和维护等方面成本较高，如果集控中心新增系统模块，整个部署周期会很长。发明内容针对现有技术中的上述不足，本发明提供的一种水电集控中心一体化平台系统的云部署方法，解决了现有技术中部署周期长的问题。为了达到以上目的，本发明采用的技术方案为：本方案提供一种水电集控中心一体化平台系统的云部署方法，包括以下步骤：S1、构建各系统模块的虚拟机子模块；S2、根据构建的虚拟机子模块，下发虚拟机，并配置虚拟化网络；S3、根据水电站的信息，利用虚拟化网络对各系统模块进行配置，实现与各梯级水电站间的通讯；S4、根据水电集控中心一体化平台融合需求，融合经配置后的系统模块；S5、利用终端展示融合后的画面和各水电站的数据，完成云部署。进一步地，所述步骤S1包括以下步骤：S101、接收终端发出的虚拟机申请请求指令；S102、根据请求指令计算各系统模块的剩余资源；S103、判断物理主机的剩余物理资源是否满足当前申请的虚拟机需求，若是，则进入步骤S104，否则，添加物理资源，并将添加的物理资源加入剩余的资源集合中，并进入步骤S104；S104、根据判断结果设定虚拟机部署策略，并根据部署策略构建虚拟机子模块。再进一步地，所述步骤S104包括以下步骤：S1041、将各请求指令进行粒子编码，并随机生成N个粒子作为初始种群；S1042、根据判断结果将全局最优解加入初始种群的归档集中；S1043、对种群进行变异操作，得到最优粒子；S1044、根据最优粒子，寻找全局最优解更新归档集；S1045、更新粒子群的速度和位置；S1046、根据更新结果，计算归档集中的粒子群的拥挤度，以控制归档集的大小；S1047、判断是否满足迭代条件，若是，则进入步骤S1048，否则，返回步骤S1041；S1048、输出归档集，形成虚拟机部署策略，并根据部署策略构建虚拟机子模块。再进一步地，所述更新粒子群的速度和位置表达式如下：Vk+1＝ωVk+c1+c2xk+1＝xk+vk其中，Vk+1和xk+1分别表示更新后的粒子速度和位置，Vk表示当前迭代V的速度分量，xk表示对应粒子X的相应位置上的位置分量，pbestk表示最优粒子的相应位置上的分量，gbestk表示归档集中随机粒子的分量，ω表示惯性因子，c1和c2均表示学习因子。再进一步地，所述拥挤度的表达式如下：其中，PCD表示归档集中的粒子，Pk+1和Pk-1分别表示Pk相邻两侧的粒子，m表示适应度函数总数，i表示适应度函数个数，Fimax和Fimin分别表示第i个适应度函数在粒子群中的最大值和最小值。再进一步地，所述步骤S2包括以下步骤：S201、根据构建的虚拟机子模块，下发一体化平台虚拟机和系统模块虚拟机；S202、分别记录一体化平台虚拟机和系统模块虚拟机的Mac地址；S203、基于记录的Mac地址，根据IP规划表、配置IP和路由至虚拟化网络；S204、将配置好的虚拟化网络与网络设备建立通讯连接，完成虚拟化网络的配置。再进一步地，所述步骤S3包括以下步骤：S301、分别获取水电站的信息以及各梯级水电站的信息；S302、根据水电站的信息以及各梯级水电站的信息，利用虚拟化网络配置各系统模块内的程序；S303、基于配置好程序的系统模块，建立水电集控中心一体化平台与各梯级水电站的通讯。本发明的有益效果：本发明对水电集控中心一体化平台进行云部署，首先构建利用粒子算法构建虚拟机模块，再基于该虚拟机子模块进行对各梯级水电站与水电站集控中心建立通信连接，同时，根据一体化平台SDK开发融合画面进行快速部署，解决了现有技术中部署周期长的问题。本发明利用粒子算法合理的进行虚拟机动态部署能增强系统的性能，提高资源利用率，提升容错性能还能节约能源。附图说明图1为本发明的方法流程图。图2为本实施例中水电集控中心一体化平台系统模块云部署的原理框图。具体实施方式下面对本发明的具体实施方式进行描述，以便于本技术领域的技术人员理解本发明，但应该清楚，本发明不限于具体实施方式的范围，对本技术领域的普通技术人员来讲，只要各种变化在所附的权利要求限定和确定的本发明的精神和范围内，这些变化是显而易见的，一切利用本发明构思的发明创造均在保护之列。实施例如图1所示，本发明提供了一种水电集控中心一体化平台系统的云部署方法，其实现方法如下：S1、构建各系统模块的虚拟机子模块，其实现方法如下：S101、接收终端发出的虚拟机申请请求指令；S102、根据请求指令计算各系统模块的剩余资源；S103、判断物理主机的剩余物理资源是否满足当前申请的虚拟机需求，若是，则进入步骤S104，否则，添加物理资源，并将添加的物理资源加入剩余的资源集合中，并进入步骤S104；S104、根据判断结果设定虚拟机部署策略，并根据部署策略构建虚拟机子模块，其实现方法如下：S1041、将各请求指令进行粒子编码，并随机生成N个粒子作为初始种群；S1042、根据判断结果将全局最优解加入初始种群的归档集中；S1043、对种群进行变异操作，得到最优粒子；S1044、根据最优粒子，寻找全局最优解更新归档集；S1045、更新粒子群的速度和位置；S1046、根据更新结果，计算归档集中的粒子群的拥挤度，以控制归档集的大小；S1047、判断是否满足迭代条件，若是，则进入步骤S1048，否则，返回步骤S1041；S1048、输出归档集，形成虚拟机部署策略，并根据部署策略构建虚拟机子模块。所述更新粒子群的速度和位置表达式如下：Vk+1＝ωVk+c1+c2xk+1＝xk+vk其中，Vk+1和xk+1分别表示更新后的粒子速度和位置，Vk表示当前迭代V的速度分量，xk表示对应粒子X的相应位置上的位置分量，pbestk表示最优粒子的相应位置上的分量，gbestk表示归档集中随机粒子的分量，ω表示惯性因子，c1和c2均表示学习因子；所述拥挤度的表达式如下：其中，PCD表示归档集中的粒子，Pk+1和Pk-1分别表示Pk相邻两侧的粒子，m表示适应度函数总数，i表示适应度函数个数，Fimax和Fimin分别表示第i个适应度函数在粒子群中的最大值和最小值。本实施例中，系统模块的虚拟机子模块的建立还包括：确定虚拟机模板硬件资源包括CPU核数、内存大小和系统盘大小等，以及确定虚拟机模板软件资源包括操作系统版本、划卷、数据库版本和常用软件等。S2、根据构建的虚拟机子模块，下发虚拟机，并配置虚拟化网络，其实现方法如下：S201、根据构建的虚拟机子模块，下发一体化平台虚拟机和系统模块虚拟机；S202、分别记录一体化平台虚拟机和系统模块虚拟机的Mac地址；S203、基于记录的Mac地址，根据IP规划表、配置IP和路由至虚拟化网络；S204、将配置好的虚拟化网络与网络设备建立通讯连接，完成虚拟化网络的配置。本实施例中，如图2所示，下发虚拟机，根据系统模块需要，在不同安全生产区下发指定数量的虚拟机，记录虚拟机Mac地址，便于操作系统的激活。配置虚拟化网络，根据集控中心IP规划表，配置IP、路由和云外相关安全设备，如隔离装置等。S3、根据水电站的信息，利用虚拟化网络对各系统模块进行配置，实现与各梯级水电站间的通讯，其实现方法如下：S301、分别获取水电站的信息以及各梯级水电站的信息；S302、根据水电站的信息以及各梯级水电站的信息，利用虚拟化网络配置各系统模块内的程序；S303、基于配置好程序的系统模块，建立水电集控中心一体化平台与各梯级水电站的通讯。本实施例中，如图2所示，根据实际情况调整系统模块配置完成融合，根据5座水电站的规约和点表等信息，对系统模块内的程序进行配置，完成各梯级水电站通讯测试。S4、根据水电集控中心一体化平台融合需求，融合经配置后的系统模块；S5、利用终端展示融合后的画面和各水电站的数据，完成云部署。本实施例中，根据实际情况调整系统模块配置完成融合，根据各梯级电站的数量、通讯规约和点表等信息，对系统模块内的程序进行配置，完成水电集控中心与各梯级电站的通讯测试，各系统模块根据一体化平台SDK进行软件开发，实现画面融合。如，30个监盘坐席上均有云终端，运行人员可以通过终端看到一体化平台融合系统模块后的画面。
