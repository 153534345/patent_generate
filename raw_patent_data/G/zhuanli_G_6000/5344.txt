标题title
轨迹匹配方法、装置、设备和介质
摘要abst
本发明实施例公开了一种轨迹匹配方法、装置、设备和介质，涉及目标跟踪技术领域。该方法包括：对第一跟踪设备采集的第一跟踪轨迹序列，与第二跟踪设备采集的第二跟踪轨迹序列进行采集时间对齐，得到至少两个跟踪轨迹点对；根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，其中所述点对偏差为跟踪轨迹点对中两跟踪轨迹点之间的偏差。本发明实施例提供了一种轨迹匹配方法、装置、设备和介质，提高了轨迹的匹配准确率。
权利要求书clms
1.一种轨迹匹配方法，其特征在于，包括：对第一跟踪设备采集的第一跟踪轨迹序列，与第二跟踪设备采集的第二跟踪轨迹序列进行采集时间对齐，得到至少两个跟踪轨迹点对；基于至少三个维度确定所述至少两个跟踪轨迹点对的点对偏差，其中所述至少三个维度包括：位置的横坐标、位置的纵坐标、横坐标的移动速度、纵坐标的移动速度、横坐标移动加速度、纵坐标移动加速度和雷达波反射横截面积中的至少三种；根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，其中所述点对偏差为跟踪轨迹点对中两跟踪轨迹点之间的偏差。2.根据权利要求1所述的方法，其特征在于，所述根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，包括：若所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比大于比例阈值，则确定所述跟踪轨迹点对的点对偏差的均值；若所述均值小于平均阈值，则确定所述跟踪轨迹点对的点对偏差的最大值；若所述最大值小于最大阈值，则确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列为同一跟踪目标的跟踪轨迹。3.根据权利要求1所述的方法，其特征在于，所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点的确定，包括：确定所述至少两个跟踪轨迹点对在至少两个维度中各维度的点对偏差；将各维度的点对偏差分别与各维度偏差阈值进行比较；若各维度的点对偏差均小于各维度偏差阈值，则确定该跟踪轨迹点对的点对偏差小于偏差阈值。4.根据权利要求1所述的方法，其特征在于，所述确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配之后，所述方法还包括：根据至少两跟踪轨迹组的匹配结果，确定位于不同跟踪轨迹组中的两跟踪轨迹序列之间的匹配关系，其中所述跟踪轨迹组包括所述第一跟踪轨迹序列与所述第二跟踪轨迹序列；根据位于不同跟踪轨迹组中的两跟踪轨迹序列之间的匹配关系估计跟踪目标的尺寸；基于跟踪目标的实际尺寸范围对估计的跟踪目标的尺寸进行验证；根据验证结果对位于不同跟踪轨迹组中的跟踪轨迹序列之间的匹配关系进行校正。5.一种轨迹匹配装置，其特征在于，包括：时间对齐模块，用于对第一跟踪设备采集的第一跟踪轨迹序列，与第二跟踪设备采集的第二跟踪轨迹序列进行采集时间对齐，得到至少两个跟踪轨迹点对；偏差确定模块，用于基于至少三个维度确定所述至少两个跟踪轨迹点对的点对偏差，其中所述至少三个维度包括：位置的横坐标、位置的纵坐标、横坐标的移动速度、纵坐标的移动速度、横坐标移动加速度、纵坐标移动加速度和雷达波反射横截面积中的至少三种；匹配模块，用于根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，其中所述点对偏差为跟踪轨迹点对中两跟踪轨迹点之间的偏差。6.根据权利要求5所述的装置，其特征在于，所述匹配模块，包括：占比匹配单元，用于若所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比大于比例阈值，则确定所述跟踪轨迹点对的点对偏差的均值；均值匹配单元，用于若所述均值小于平均阈值，则确定所述跟踪轨迹点对的点对偏差的最大值；最大值匹配单元，用于若所述最大值小于最大阈值，则确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列为同一跟踪目标的跟踪轨迹。7.根据权利要求5所述的装置，其特征在于，所述装置还包括：偏差确定模块，用于确定所述至少两个跟踪轨迹点对在至少两个维度中各维度的点对偏差；偏差比较模块，用于将各维度的点对偏差分别与各维度偏差阈值进行比较；比较结果确定模块，用于若各维度的点对偏差均小于各维度偏差阈值，则确定该跟踪轨迹点对的点对偏差小于偏差阈值。8.根据权利要求5所述的装置，其特征在于，所述装置还包括：匹配扩展模块，用于所述确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配之后，根据至少两跟踪轨迹组的匹配结果，确定位于不同跟踪轨迹组中的两跟踪轨迹序列之间的匹配关系，其中所述跟踪轨迹组包括所述第一跟踪轨迹序列与所述第二跟踪轨迹序列；尺寸估计模块，用于根据位于不同跟踪轨迹组中的两跟踪轨迹序列之间的匹配关系估计跟踪目标的尺寸；尺寸验证模块，用于基于跟踪目标的实际尺寸范围对估计的跟踪目标的尺寸进行验证；结果校正模块，用于根据验证结果对位于不同跟踪轨迹组中的跟踪轨迹序列之间的匹配关系进行校正。9.一种电子设备，其特征在于，所述电子设备包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1-4中任一所述的轨迹匹配方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1-4中任一所述的轨迹匹配方法。
说明书desc
本申请是申请号为201910402636.1专利申请的分案申请。技术领域本发明实施例涉及目标跟踪技术领域，尤其涉及一种轨迹匹配方法、装置、设备和介质。背景技术目标跟踪轨迹匹配关联算法是指通过一系列数学运算，找出两个或多个目标跟踪轨迹关联性的技术。当今自动驾驶技术快速发展，车辆上配置的环境感知传感器越来越多，单个目标会同时出现在多个传感器视线内，并各自独立建立跟踪，因此需要融合源于同一目标的多个跟踪，否则会影响到下游的决策规划。目前依据对历史信息的依赖，目标跟踪融合算法大致分为两类：只依据当前帧探测结果，对源于同一目标的多个跟踪进行融合，抗干扰性和准确率较差。依赖当前以及历史帧探测结果，对源于同一目标的多个跟踪结果进行融合，典型算法如轨迹匹配关联算法。由于考虑到了目标历史信息，所以可以得到更好的目标跟踪融合效果。但是常用的目标跟踪轨迹匹配关联算法，或抗噪声能力不够，或不能全面表征目标跟踪轨迹特性，从而导致匹配准确率不够高的问题。发明内容本发明实施例提供一种轨迹匹配方法、装置、设备和介质，以提高轨迹的匹配准确率。第一方面，本发明实施例提供了一种轨迹匹配方法，该方法包括：对第一跟踪设备采集的第一跟踪轨迹序列，与第二跟踪设备采集的第二跟踪轨迹序列进行采集时间对齐，得到至少两个跟踪轨迹点对；根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，其中所述点对偏差为跟踪轨迹点对中两跟踪轨迹点之间的偏差。第二方面，本发明实施例还提供了一种轨迹匹配装置，该装置包括：时间对齐模块，用于对第一跟踪设备采集的第一跟踪轨迹序列，与第二跟踪设备采集的第二跟踪轨迹序列进行采集时间对齐，得到至少两个跟踪轨迹点对；匹配模块，用于根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，其中所述点对偏差为跟踪轨迹点对中两跟踪轨迹点之间的偏差。第三方面，本发明实施例还提供了一种设备，所述设备包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如本发明实施例中任一所述的轨迹匹配方法。第四方面，本发明实施例还提供了一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现如本发明实施例中任一所述的轨迹匹配方法。本发明实施例通过根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，从而实现基于轨迹间的总体偏差和轨迹间最大差异性对轨迹进行匹配，而多个维度的匹配可以提高匹配准确率和抗干扰能力。附图说明图1为两跟踪轨迹序列的示意图；图2为本发明实施例一提供的一种轨迹匹配方法的流程图；图3是本发明实施例二提供的一种轨迹匹配方法的流程图；图4是本发明实施例三提供的一种轨迹匹配方法的流程图；图5是本发明实施例三提供的一种多轨迹匹配方法的流程图；图6是本发明实施例三提供的一种多维度点对偏差比较的示意图；图7是本发明实施例三提供的一种轨迹群组匹配的示意图；图8是本发明实施例四提供的一种轨迹匹配装置的结构示意图；图9为本发明实施例五提供的一种设备的结构示意图。具体实施方式下面结合附图和实施例对本发明作进一步的详细说明。可以理解的是，此处所描述的具体实施例仅仅用于解释本发明，而非对本发明的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与本发明相关的部分而非全部结构。跟踪轨迹匹配关联算法目前普遍采用如下三类算法：这类算法首先分别从待匹配的两个跟踪轨迹序列上各取一个时间对齐的点，组成跟踪轨迹点对；计算跟踪轨迹点对的点对距离；在所有符合要求的跟踪轨迹点对的点对距离中寻找最大点对距离值；该最大点对距离值表示了所述待匹配的两跟踪轨迹序列间的极端最大偏差情况，因此可以据此来表征轨迹间的匹配关联性。图1示出了两待匹配的跟踪轨迹。这类算法首先在待匹配的两个跟踪轨迹序列中计算点对距离相近的跟踪轨迹点对的数量，然后把距离相近的跟踪轨迹点对的数量除以跟踪轨迹点对的总数量，得到距离相近的跟踪轨迹点对的占比；最后以这个比例值来表征两个轨迹的匹配关联性。这类算法首先分别从待匹配的两个跟踪轨迹序列上各取一个时间对齐的点，组成跟踪轨迹点对；然后计算跟踪轨迹点对间的点对距离；最后把所有跟踪轨迹点对的点对距离汇总求平均，即得到待匹配的两个跟踪轨迹序列的平均点对距离，最后使用此平均距离表征该两个跟踪轨迹序列间的匹配关联性。发明人在实现本发明的过程中发现：上述三种方案从不同的视角来表征轨迹间的匹配关联性，所带来的问题和不足也有所不同：方案计算量小，能表征轨迹间差异性的瞬间极大值，但无法表征轨迹间匹配关联的总体情况，且易受噪声影响。方案计算了相近轨迹点对在总体轨迹点上的占比，具有一定的抗干扰能力，但没能进一步量化两个轨迹间的差异性，也没能表征轨迹间的历史最大差异性，而轨迹间历史最大差异性是自动驾驶系统目标跟踪轨迹融合的必定考察项。方案量化了轨迹间的平均差异，但对噪声敏感，也没能表征轨迹间的历史最大差异性。实施例一图2为本发明实施例一提供的一种轨迹匹配方法的流程图。本实施例可适用于对不同跟踪设备采集的跟踪轨迹进行匹配，以找出源于同一跟踪目标的多个跟踪轨迹的情况。典型地，本实施例可适用于对自动驾驶车辆上配置的不同环境感知传感器采集的周围车辆的跟踪轨迹进行匹配，以找出源于同一车辆的多个跟踪轨迹的情况。该方法可以由一种轨迹匹配装置来执行，该装置可以由软件和/或硬件的方式实现。参见图2，本实施例提供的地图匹配方法包括：S110、对第一跟踪设备采集的第一跟踪轨迹序列，与第二跟踪设备采集的第二跟踪轨迹序列进行采集时间对齐，得到至少两个跟踪轨迹点对。其中，第一跟踪设备和第二跟踪设备可以是任意可采集同一跟踪目标的跟踪轨迹点的设备。典型地，该设备可以是环境感知传感器，例如雷达传感器、超声波传感器或摄像机等。第一跟踪轨迹序列和第二跟踪轨迹序列均包括当前帧跟踪轨迹点和设定数量的历史帧跟踪轨迹点。当前帧跟踪轨迹点是当前时刻的跟踪轨迹点，历史帧跟踪轨迹点是历史时刻的跟踪轨迹点。第一跟踪轨迹序列和第二跟踪轨迹序列可以利用队列存储，队列是一种数据结构。第一跟踪轨迹序列的队列长度与第二跟踪轨迹序列的队列长度相同，具体队列长度可以根据实际需要设定。跟踪轨迹点对包括采集时间相同的第一跟踪轨迹序列中的一跟踪轨迹点和第二跟踪轨迹序列中的一跟踪轨迹点。为提高匹配的准确率，在进行采集时间对齐之前，还包括：对采集的当前帧跟踪轨迹点进行数据清洗，以过滤掉无效、奇异跟踪轨迹点；将经过清洗的当前帧跟踪轨迹点加入跟踪轨迹序列，并将跟踪轨迹序列中最早采集的跟踪轨迹点删除，从而实现对跟踪轨迹序列的更新。其中，上述跟踪轨迹序列可以是第一跟踪轨迹序列，也可以是第二跟踪轨迹序列。S120、根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配。其中所述点对偏差为跟踪轨迹点对中两跟踪轨迹点之间的偏差。所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比是：所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的数量与所述至少两个跟踪轨迹点的总数量的比值。偏差阈值是不同跟踪目标的跟踪轨迹点对中点对偏差的最小值。具体地，可以根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比和跟踪轨迹点对的点对偏差的均值，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配。可选地，可以根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比以及跟踪轨迹点对的点对偏差的最大值，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配。或者，可以根据跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配。典型地，所述根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，包括：若所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比大于比例阈值，则确定跟踪轨迹点对的点对偏差的均值；若所述均值小于平均阈值，则确定跟踪轨迹点对的点对偏差的最大值；若所述最大值小于最大阈值，则确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列为同一跟踪目标的跟踪轨迹。其中，比例阈值是不同跟踪目标的跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对占比的最大值。平均阈值是不同跟踪目标的跟踪轨迹点对的点对偏差均值的最小值。最大阈值是不同跟踪目标的跟踪轨迹点对的点对偏差最大值的最小值。若上述任一条件不满足，则确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列为不同跟踪目标的跟踪轨迹。本发明实施例的技术方案，通过根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，从而实现基于轨迹间的总体偏差和轨迹间最大差异性对轨迹进行匹配，而多个维度的匹配可以提高匹配准确率和抗干扰能力。为进一步提高轨迹匹配准确率，所述根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配之前，所述方法还包括：基于至少三个维度确定所述至少两个跟踪轨迹点对的点对偏差，其中所述至少三个维度包括：位置的横坐标、位置的纵坐标、横坐标的移动速度、纵坐标的移动速度、横坐标移动加速度、纵坐标移动加速度和雷达波反射横截面积中的至少三种。位置的横坐标和位置的纵坐标是指跟踪轨迹点位置坐标中的横坐标和纵坐标。纵坐标移动速度是指基于跟踪目标位置的纵坐标确定的移动速度横坐标移动速度是指基于跟踪目标位置的横坐标确定的移动速度。横坐标移动加速度是指基于跟踪目标位置的横坐标确定的跟踪目标移动的加速度。纵坐标移动加速度是指基于跟踪目标位置的纵坐标确定的跟踪目标移动的加速度。移动速度和移动加速度可以根据第一跟踪轨迹序列与第二跟踪轨迹序列确定中轨迹点的位置坐标和采集时间计算得到。雷达波反射横截面积反映了跟踪目标的横截面面积，具体可以通过对雷达传感器产生的点云数据识别得到。为节省数据计算量，所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点的确定，包括：确定所述至少两个跟踪轨迹点对在至少两个维度中各维度的点对偏差；将各维度的点对偏差分别与各维度偏差阈值进行比较；若各维度的点对偏差均小于各维度偏差阈值，则确定该跟踪轨迹点对的点对偏差小于偏差阈值。若任一维度的点对偏差大于等于对应的维度偏差阈值，则确定该跟踪轨迹点对的点对偏差大于等于偏差阈值。实施例二图3是本发明实施例二提供的一种轨迹匹配方法的流程图。本实施例是在上述实施例的基础上提出的一种可选方案。参见图3，本实施例提供的轨迹匹配方法包括：S210、对第一跟踪设备采集的第一跟踪轨迹序列，与第二跟踪设备采集的第二跟踪轨迹序列进行采集时间对齐，得到至少两个跟踪轨迹点对。S220、根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，其中所述点对偏差为跟踪轨迹点对中两跟踪轨迹点之间的偏差。S230、根据至少两跟踪轨迹组的匹配结果，确定位于不同跟踪轨迹组中的两跟踪轨迹序列之间的匹配关系，其中所述跟踪轨迹组包括所述第一跟踪轨迹序列与所述第二跟踪轨迹序列。S240、根据位于不同跟踪轨迹组中的两跟踪轨迹序列之间的匹配关系估计跟踪目标的尺寸。S250、基于跟踪目标的实际尺寸范围对估计的跟踪目标的尺寸进行验证。S260、根据验证结果对位于不同跟踪轨迹组中的跟踪轨迹序列之间的匹配关系进行校正。示例性地，若第一跟踪轨迹组包括所述第一跟踪轨迹序列与所述第二跟踪轨迹序列，且第一跟踪轨迹组的匹配关系为同一跟踪目标的轨迹，第二跟踪轨迹组包括所述第一跟踪轨迹序列和第三跟踪轨迹序列，且第二跟踪轨迹组的匹配关系为同一跟踪目标的轨迹，则根据第一跟踪轨迹组和第二跟踪轨迹组的匹配关系可以确定所述第二跟踪轨迹序列与第三跟踪轨迹序列为同一跟踪目标的轨迹。根据所述第一跟踪轨迹序列、所述第二跟踪轨迹序列和第三跟踪轨迹序列可以估计出跟踪目标的尺寸。利用跟踪目标的实际尺寸范围判断估计出的跟踪目标的尺寸是否符合实际。若符合，则确定所述第二跟踪轨迹序列与第三跟踪轨迹序列为同一跟踪目标的轨迹。若不符合，则确定所述第二跟踪轨迹序列与第三跟踪轨迹序列为不同跟踪目标的轨迹。本发明实施例的技术方案，通过根据位于不同跟踪轨迹组中的两跟踪轨迹序列之间的匹配关系确定轨迹跟踪目标的尺寸；基于跟踪目标的实际尺寸对估计的跟踪目标的尺寸进行验证；根据验证结果对位于不同跟踪轨迹组中的跟踪轨迹序列之间的匹配关系进行校正，可以实现不局限于两个轨迹间的匹配关联。实施例三图4是本发明实施例三提供的一种轨迹匹配方法的流程图。本实施例是在上述实施例的基础上，以应用场景为对自动驾驶车辆上的不同环境感知传感器采集的周围车辆的跟踪轨迹进行匹配的场景为例，提出的一种可选方案。参见图4，本实施例提供的轨迹匹配方法包括：对当前帧跟踪轨迹点进行数据清洗，以过滤掉无效、奇异跟踪点。将当前帧跟踪轨迹点加入跟踪轨迹序列，并将跟踪轨迹序列中最早采集的历史帧跟踪轨迹点删除，以更新跟踪轨迹序列。匹配关联经过更新的两跟踪轨迹序列，其中所述两跟踪轨迹序列由不同设备采集。依据跟踪轨迹序列间的匹配关联结果确定跟踪车辆的相关信息。其中相关信息包括车辆的尺寸和/或车辆的类型。具体地，参见图5，匹配关联经过更新的两跟踪轨迹序列包括：确定所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对。判断所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比是否大于比例阈值。若是，则按照如下公式确定跟踪轨迹点对的点对偏差的均值。其中，Δx为点对间位移的横坐标，Δy为点对间位移的纵坐标，Δvx为横坐标的速度差，Δvy为纵坐标的速度差，Δax为横坐标的加速度差，Δay为纵坐标的加速度差，Δres为点对间雷达波反射横截面积偏差。若否，则确定待匹配的两跟踪轨迹序列为不同跟踪目标的跟踪轨迹。因为如果两个跟踪轨迹序列是同一跟踪目标的跟踪轨迹，那么轨迹跟踪点对在每一维度的偏差都必然在限定预设范围内，倘若某一维度上因为超限偏差产生的异常点个数在总体中的占比超出了设定范围，即认定该两跟踪轨迹序列不能匹配。其中，基于至少三个维度确定所述至少两个跟踪轨迹点对的点对偏差，所述至少三个维度包括：位置的横坐标、位置的纵坐标、横坐标移动速度、纵坐标移动速度，横坐标移动加速度、纵坐标移动加速度和雷达波反射横截面积中的至少三种。而至少三个维度空间更能全面表征目标跟踪点的特性。然而，传统算法需要先遍历完跟踪点的所有维度的差异，再把每个维度的偏差汇总为一个总的统计偏差，最后再去判断总的统计偏差是否超过设定值。参见图6，而本实施例逐个维度比较跟踪轨迹点对中两个跟踪轨迹点之间的偏差。一旦有某一个维度的偏差导致的异常点个数在总体中的占比超出了设定范围，即认定该跟踪轨迹点对所属的两跟踪轨迹序列不能匹配在一起，因此无需继续比较剩余的维度，从而节省了数据计算量。图6中εx，εy，和为属于同一跟踪目标的两跟踪轨迹序列在各维度允许的最大偏移。εres为属于同一跟踪目标的两跟踪轨迹序列允许的最大雷达波反射横截面积偏差。跟踪轨迹点对总数量是两跟踪轨迹序列中的跟踪轨迹点对的总数量。thrx，thry，和thrres为属于同一跟踪目标的两跟踪轨迹序列对异常跟踪轨迹点对占比的容忍上限。判断所述均值是否小于平均阈值。若是，则按照如下公式确定跟踪轨迹点对的点对偏差的最大值。若否，确定待匹配的两跟踪轨迹序列为不同跟踪目标的跟踪轨迹。上述点对偏差的最大值给出一个精确的偏差值，以方便做进一步的量化分析。判断跟踪轨迹点对的点对偏差的最大值是否小于最大阈值；若是，则确定待匹配的两跟踪轨迹序列为同一跟踪目标的跟踪轨迹。若否，则确定待匹配的两跟踪轨迹序列为不同跟踪目标的跟踪轨迹。点对偏差的最大值的应用可以实现如下效果：跟踪轨迹点对的点对偏差的最大值是否小于最大阈值的判断，通过观察两个轨迹间偏差的历史极端恶化值来判断两个轨迹是否可以匹配，以实现区分两个同速而且位置很靠近的运动目标的效果。即便两个轨迹上的跟踪点对绝大多数都没有偏差超限，并且两个轨迹的总体统计偏差都在设定范围内，但只要两个轨迹在曾经的历史周期内发生过严重偏差超限的情况，就可以认定两个轨迹不能匹配，从而有效避免了误匹配的情况。与传统的轨迹匹配算法比较，本实施例的优势是：1、传统的轨迹匹配算法主要从两个基本的维度来计算跟踪轨迹点对的偏差情况，而本实施例将跟踪轨迹点对偏差考察的维度从2维扩展到了7维空间，7维空间更能全面表征目标跟踪点的特性，由此得到的轨迹匹配准确率远胜传统的两维空间。2、如上文提及的三类匹配方法。这三类方法在算法复杂度，计算量，极值考察，偏差超限的子序列在总体中的占比，偏差量化，抗干扰能力等各有侧重。但没有一种单一算法可以在上述所有关切项中同时胜出。所以本实施例把这三类算法整合使用，将跟踪轨迹点对依次经过这三类算法，只要在三步中的任何一步匹配判定失败，即认为两轨迹不关联，那么包含在此跟踪轨迹点对中的跟踪轨迹点不被认为源自同一运动目标。本实施例可在不过多增加运算量的前提下，显著提升轨迹匹配的准确率。最后，本实施例还强化了间接轨迹匹配的能力，以支持轨迹群组的关联匹配。如图7所示，倘若轨迹A与轨迹B匹配，同时轨迹B与轨迹C匹配，那么倾向认定轨迹A和轨迹C也匹配，即它们源于同一个运动目标，前提是轨迹A、轨迹B和轨迹C所在匹配群组的存在不应违背客观限制条件。比如，由轨迹A、轨迹B和轨迹C构成的轨迹匹配群组呈现的实际道路运动目标的长度和宽度都不应当超过国家允许上路的最大车辆尺寸，呈现的目标宽度不应当超过一个车道的宽度等。本发明实施例的技术方案，可以实现如下效果：本实施例整合了三类算法的优势，并规避了各自的局限性，既统计了偏差相近轨迹跟踪点对在总体中的比例，也量化了轨迹间的总体偏差，同时突显了轨迹间历史最大差异性。在没有过多增加算法复杂度的情况下，本实施例使得多轨迹匹配关联成功率更高，同时获得不错的抗干扰能力。本实施例因为在自动驾驶目标跟踪轨迹融合中扩大了点对偏差的计算维度，从传统的轨迹点二维表征扩大到轨迹点7维表征，每一维都参与点对偏差计算，使得轨迹关联匹配判定更加精准有效。本实施例不局限于两个轨迹间的匹配关联，还可以支持将大于等于2个轨迹间的关联匹配。需要说明的是，经过本实施例的技术教导，本领域技术人员有动机将上述实施例中描述的任一种实施方式进行方案的组合，以提高轨迹的匹配准确率。实施例四图8是本发明实施例四提供的一种轨迹匹配装置的结构示意图。参见图8，本实施例提供的轨迹匹配装置包括：时间对齐模块10和匹配模块20。其中，时间对齐模块10，用于对第一跟踪设备采集的第一跟踪轨迹序列，与第二跟踪设备采集的第二跟踪轨迹序列进行采集时间对齐，得到至少两个跟踪轨迹点对；匹配模块20，用于根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，其中所述点对偏差为跟踪轨迹点对中两跟踪轨迹点之间的偏差。本发明实施例通过根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配，从而实现基于轨迹间的总体偏差和轨迹间最大差异性对轨迹进行匹配，而多个维度的匹配可以提高匹配准确率和抗干扰能力。进一步地，所述匹配模块，包括：占比匹配单元、均值匹配单元和最大值匹配单元。其中，占比匹配单元，用于若所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比大于比例阈值，则确定跟踪轨迹点对的点对偏差的均值；均值匹配单元，用于若所述均值小于平均阈值，则确定跟踪轨迹点对的点对偏差的最大值；最大值匹配单元，用于若所述最大值小于最大阈值，则确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列为同一跟踪目标的跟踪轨迹。进一步地，所述装置还包括：偏差确定模块。其中，偏差确定模块，用于所述根据所述至少两个跟踪轨迹点对中点对偏差小于偏差阈值的跟踪轨迹点对的占比，跟踪轨迹点对的点对偏差的均值以及跟踪轨迹点对的点对偏差的最大值中的至少两种，确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配之前，基于至少三个维度确定所述至少两个跟踪轨迹点对的点对偏差，其中所述至少三个维度包括：位置的横坐标、位置的纵坐标、横坐标的移动速度、纵坐标的移动速度、横坐标移动加速度、纵坐标移动加速度和雷达波反射横截面积中的至少三种。进一步地，所述装置还包括：偏差确定模块、偏差比较模块和比较结果确定模块。其中，偏差确定模块，用于确定所述至少两个跟踪轨迹点对在至少两个维度中各维度的点对偏差；偏差比较模块，用于将各维度的点对偏差分别与各维度偏差阈值进行比较；比较结果确定模块，用于若各维度的点对偏差均小于各维度偏差阈值，则确定该跟踪轨迹点对的点对偏差小于偏差阈值。进一步地，所述装置还包括：匹配扩展模块、尺寸估计模块、尺寸验证模块和结果校正模块。其中，匹配扩展模块，用于所述确定所述第一跟踪轨迹序列与所述第二跟踪轨迹序列是否匹配之后，根据至少两跟踪轨迹组的匹配结果，确定位于不同跟踪轨迹组中的两跟踪轨迹序列之间的匹配关系，其中所述跟踪轨迹组包括所述第一跟踪轨迹序列与所述第二跟踪轨迹序列；尺寸估计模块，用于根据位于不同跟踪轨迹组中的两跟踪轨迹序列之间的匹配关系估计跟踪目标的尺寸；尺寸验证模块，用于基于跟踪目标的实际尺寸范围对估计的跟踪目标的尺寸进行验证；结果校正模块，用于根据验证结果对位于不同跟踪轨迹组中的跟踪轨迹序列之间的匹配关系进行校正。本发明实施例所提供的轨迹匹配装置可执行本发明任意实施例所提供的轨迹匹配方法，具备执行方法相应的功能模块和有益效果。实施例五图9为本发明实施例五提供的一种设备的结构示意图。图9示出了适于用来实现本发明实施方式的示例性设备12的框图。图9显示的设备12仅仅是一个示例，不应对本发明实施例的功能和使用范围带来任何限制。如图9所示，设备12以通用计算设备的形式表现。设备12的组件可以包括但不限于：一个或者多个处理器或者处理单元16，系统存储器28，连接不同系统组件的总线18。总线18表示几类总线结构中的一种或多种，包括存储器总线或者存储器控制器，外围总线，图形加速端口，处理器或者使用多种总线结构中的任意总线结构的局域总线。举例来说，这些体系结构包括但不限于工业标准体系结构总线，微通道体系结构总线，增强型ISA总线、视频电子标准协会局域总线以及外围组件互连总线。设备12典型地包括多种计算机系统可读介质。这些介质可以是任何能够被设备12访问的可用介质，包括易失性和非易失性介质，可移动的和不可移动的介质。系统存储器28可以包括易失性存储器形式的计算机系统可读介质，例如随机存取存储器30和/或高速缓存存储器32。设备12可以进一步包括其它可移动/不可移动的、易失性/非易失性计算机系统存储介质。仅作为举例，存储系统34可以用于读写不可移动的、非易失性磁介质。尽管图9中未示出，可以提供用于对可移动非易失性磁盘读写的磁盘驱动器，以及对可移动非易失性光盘读写的光盘驱动器。在这些情况下，每个驱动器可以通过一个或者多个数据介质接口与总线18相连。存储器28可以包括至少一个程序产品，该程序产品具有一组程序模块，这些程序模块被配置以执行本发明各实施例的功能。具有一组程序模块42的程序/实用工具40，可以存储在例如存储器28中，这样的程序模块42包括但不限于操作系统、一个或者多个应用程序、其它程序模块以及程序数据，这些示例中的每一个或某种组合中可能包括网络环境的实现。程序模块42通常执行本发明所描述的实施例中的功能和/或方法。设备12也可以与一个或多个外部设备14通信，还可与一个或者多个使得用户能与该设备12交互的设备通信，和/或与使得该设备12能与一个或多个其它计算设备进行通信的任何设备通信。这种通信可以通过输入/输出接口22进行。并且，设备12还可以通过网络适配器20与一个或者多个网络，广域网和/或公共网络，例如因特网)通信。如图所示，网络适配器20通过总线18与设备12的其它模块通信。应当明白，尽管图中未示出，可以结合设备12使用其它硬件和/或软件模块，包括但不限于：微代码、设备驱动器、冗余处理单元、外部磁盘驱动阵列、RAID系统、磁带驱动器以及数据备份存储系统等。处理单元16通过运行存储在系统存储器28中的程序，从而执行各种功能应用以及数据处理，例如实现本发明实施例所提供的轨迹匹配方法。实施例六本发明实施例六还提供了一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现如本发明实施例中任一所述的轨迹匹配方法。本发明实施例的计算机存储介质，可以采用一个或多个计算机可读的介质的任意组合。计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质。计算机可读存储介质例如可以是——但不限于——电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本文件中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。计算机可读的信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读的信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括——但不限于无线、电线、光缆、RF等等，或者上述的任意合适的组合。可以以一种或多种程序设计语言或其组合来编写用于执行本发明操作的计算机程序代码，所述程序设计语言包括面向对象的程序设计语言—诸如Java、Smalltalk、C++，还包括常规的过程式程序设计语言—诸如”C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络——包括局域网或广域网—连接到用户计算机，或者，可以连接到外部计算机。注意，上述仅为本发明的较佳实施例及所运用技术原理。本领域技术人员会理解，本发明不限于这里所述的特定实施例，对本领域技术人员来说能够进行各种明显的变化、重新调整和替代而不会脱离本发明的保护范围。因此，虽然通过以上实施例对本发明进行了较为详细的说明，但是本发明不仅仅限于以上实施例，在不脱离本发明构思的情况下，还可以包括更多其他等效实施例，而本发明的范围由所附的权利要求范围决定。
