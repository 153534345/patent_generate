标题title
根因定位方法以及系统
摘要abst
本说明书实施例提供根因定位方法以及系统，其中所述根因定位方法包括：获取在故障时间点虚拟机集群中虚拟机的流量变化信息；根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，并加载所述候选虚拟机关联所述故障时间点的历史数据；根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息；基于所述异常信息在所述候选虚拟机中确定目标虚拟机。
权利要求书clms
1.一种根因定位方法，包括：获取在故障时间点虚拟机集群中虚拟机的流量变化信息；根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，并加载所述候选虚拟机关联所述故障时间点的历史数据；根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息；基于所述异常信息在所述候选虚拟机中确定目标虚拟机。2.根据权利要求1所述的方法，所述获取在故障时间点虚拟机集群中虚拟机的流量变化信息，包括：确定共享资源维度对应的所述虚拟机集群，并读取所述虚拟机集群的共享资源流量信息；根据所述共享资源流量信息，计算所述虚拟机集群在至少一个设定时间点对应的集群流量变化值；根据所述集群流量变化值在所述至少一个设定时间点中确定所述故障时间点，并获取在所述故障时间点所述虚拟机集群中虚拟机的流量变化信息。3.根据权利要求2所述的方法，所述虚拟机集群中任意一个虚拟机的流量变化信息的确定，包括：根据所述故障时间点确定正常时间区间和异常时间区间；获取所述虚拟机对应所述正常时间区间的正常流量变化信息，以及对应所述异常时间区间的异常流量变化信息；根据所述正常流量变化信息和所述异常流量变化信息计算流量变化值，作为所述虚拟机对应的流量变化信息。4.根据权利要求3所述的方法，所述根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，包括：计算每个虚拟机对应的流量变化值和所述集群流量变化值的比值；根据计算结果对所述虚拟机集群中的虚拟机进行排序，获得虚拟机队列；在所述虚拟机队列中选择设定数量的虚拟机，作为所述候选虚拟机。5.根据权利要求3所述的方法，所述获取所述虚拟机对应所述正常时间区间的正常流量变化信息，以及对应所述异常时间区间的异常流量变化信息，包括：根据所述正常时间区间和所述异常时间区间创建信息读取请求，并将所述信息读取请求发送至所述虚拟机集群对应的日志服务器；接收所述日志服务器针对所述信息读取请求反馈的初始流量变化信息；在所述初始流量变化信息中确定所述正常流量变化信息和所述异常流量变化信息。6.根据权利要求1所述的方法，所述加载所述候选虚拟机关联所述故障时间点的历史数据，包括：根据所述故障时间点创建数据加载请求，并将所述数据加载请求发送至所述候选虚拟机对应的数据库；响应于所述数据加载请求启动至少两个线程，通过所述至少两个线程接收所述数据库针对所述数据加载请求反馈的历史正常数据和历史异常数据，作为所述历史数据。7.根据权利要求1所述的方法，所述根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息，包括：根据所述故障时间点对所述历史数据进行划分，获得历史正常数据和历史异常数据；在预设的根因定位维度中确定至少一个子根因定位维度，并根据所述历史正常数据和所述历史异常数据计算每个子根因定位维度的异常信息；相应的，所述基于所述异常信息在所述候选虚拟机中确定目标虚拟机，包括：对每个子根因定位维度的异常信息进行整合，根据整合结果在所述候选虚拟机中确定目标虚拟机。8.根据权利要求7所述的方法，在子根因定位维度为预测根因定位维度的情况下，所述预测根因定位维度的异常信息确定，包括：将所述历史正常数据输入至预训练的流量预测模型，获得流量期望信息，以及根据所述历史异常数据确定第一流量真实信息；计算所述流量期望信息与所述第一流量真实信息之间的偏差信息，作为所述候选虚拟机在预测根因定位维度的异常信息。9.根据权利要求7所述的方法，在子根因定位维度为比较根因定位维度的情况下，所述比较根因定位维度的异常信息确定，包括：根据所述历史正常数据生成异常条件，以及根据所述历史异常数据确定第二流量真实信息；根据所述异常条件对所述第二流量真实信息进行检测，根据检测结果确定所述候选虚拟机在比较根因定位维度的异常信息。10.根据权利要求7所述的方法，在子根因定位维度为相似根因定位维度的情况下，所述相似根因定位维度的异常信息确定，包括：获取所述虚拟机集群对应的第一资源变化曲线，以及根据所述历史正常数据和所述历史异常数据生成所述候选虚拟机对应的第二资源变化曲线；计算所述第一资源变化曲线和所述第二资源变化曲线之间的曲线相似度，作为所述候选虚拟机在相似根因定位维度的异常信息。11.根据权利要求7-10任一项所述的方法，所述对每个子根因定位维度的异常信息进行整合，根据整合结果在所述候选虚拟机中确定目标虚拟机，包括：根据每个子根因定位维度的异常信息，计算每个子根因定位维度对应的异常分值；对每个子根因定位维度对应的异常分值进行整合，根据整合结果在所述候选虚拟机中确定目标虚拟机。12.一种根因定位系统，包括：存储节点，用于获取在故障时间点虚拟机集群中虚拟机的流量变化信息；根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，并读取所述候选虚拟机关联所述故障时间点的历史数据，将所述历史数据发送至计算节点；所述计算节点，用于接收所述历史数据，根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息；基于所述异常信息在所述候选虚拟机中确定目标虚拟机。13.一种服务器，包括：存储器和处理器；所述存储器用于存储计算机可执行指令，所述处理器用于执行所述计算机可执行指令，该计算机可执行指令被处理器执行时实现权利要求1至11任意一项所述方法的步骤。14.一种计算机可读存储介质，其存储有计算机可执行指令，该计算机可执行指令被处理器执行时实现权利要求1至11任意一项所述方法的步骤。
说明书desc
技术领域本说明书实施例涉及数据分析技术领域，特别涉及根因定位方法以及系统。背景技术随着互联网技术的发展，目前大量的企业与个人用户选择将服务放在云网络中。随着云网络规模的不断扩大，云网络的运维与管理逐渐成为新的技术挑战。共享资源型的服务在云网络中普遍存在，例如用户购买的NAT服务、共享带宽、共享流量包、专线业务等。这种共享资源型的服务在给用户带来低成本和高效的管理服务的同时，也给网络运维带来新的挑战。当共享资源存在异常时，现有技术中，通过进行流量统计、数据聚合分析等方法虽然能够实现定位产生异常的虚拟机主机，但是其精准度较低，且部分场景下需要运维人员参与后才能够实现，很容易错过优选的排除故障时间，从而对共享资源产生影响。因此亟需一种有效的方案以解决上述问题。发明内容有鉴于此，本说明书实施例提供了一种根因定位方法。本说明书一个或者多个实施例同时涉及一种根因定位装置，一种根因定位系统，一种服务器，一种计算机可读存储介质以及一种计算机程序，以解决现有技术中存在的技术缺陷。根据本说明书实施例的第一方面，提供了一种根因定位方法，包括：获取在故障时间点虚拟机集群中虚拟机的流量变化信息；根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，并加载所述候选虚拟机关联所述故障时间点的历史数据；根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息；基于所述异常信息在所述候选虚拟机中确定目标虚拟机。根据本说明书实施例的第二方面，提供了一种根因定位装置，包括：获取信息模块，被配置为获取在故障时间点虚拟机集群中虚拟机的流量变化信息；加载数据模块，被配置为根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，并加载所述候选虚拟机关联所述故障时间点的历史数据；确定信息模块，被配置为根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息；确定虚拟机模块，被配置为基于所述异常信息在所述候选虚拟机中确定目标虚拟机。根据本说明书实施例的第三方面，提供了一种根因定位系统，包括：存储节点，用于获取在故障时间点虚拟机集群中虚拟机的流量变化信息；根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，并读取所述候选虚拟机关联所述故障时间点的历史数据，将所述历史数据发送至计算节点；所述计算节点，用于接收所述历史数据，根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息；基于所述异常信息在所述候选虚拟机中确定目标虚拟机。根据本说明书实施例的第四方面，提供了一种服务器，包括：存储器和处理器；所述存储器用于存储计算机可执行指令，所述处理器用于执行所述计算机可执行指令时实现任上述根因定位方法的步骤。根据本说明书实施例的第五方面，提供了一种计算机可读存储介质，其存储有计算机可执行指令，该指令被处理器执行时实现上述根因定位方法的步骤。根据本说明书实施例的第六方面，提供了一种计算机程序，其中，当所述计算机程序在计算机中执行时，令计算机执行上述根因定位方法的步骤。本说明书提供的根因定位方法，为了能够高效且精准的定位故障虚拟机，可以先获取在故障时间点虚拟机集群中虚拟机的流量变化信息，根据流量变化信息初步排除非故障的虚拟机，从而在虚拟机集群中选出候选虚拟机，而为了能够确保定位精度，可以加载候选虚拟机关联故障时间点的历史数据，从而可以降低逐一确定集群中每个虚拟机是否存在故障所消耗的计算资源；在加载到历史数据后，可以根据历史数据确定候选虚拟机在预设根因定位维度的异常信息，从而实现可以根据异常信息分析候选虚拟机是否存在故障，以根据异常信息可以在候选虚拟机中确定目标虚拟机，实现可以定位目标虚拟机的主机进行故障排除处理。在达到高效的同时可以做到高精准度，很大程度降低了运维人员排查消耗的时间，有效的提高了排查效率。附图说明图1是本说明书一个实施例提供的一种根因定位方法的示意图；图2是本说明书一个实施例提供的一种根因定位方法的流程图；图3是本说明书一个实施例提供的一种根因定位方法中流量变化信息确定的流程图；图4是本说明书一个实施例提供的一种根因定位方法的结构框图；图5是本说明书一个实施例提供的一种根因定位方法的处理过程流程图；图6是本说明书一个实施例提供的一种根因定位装置的结构示意图；图7是本说明书一个实施例提供的一种根因定位系统的结构示意图；图8是本说明书一个实施例提供的一种服务器的结构框图。具体实施方式在下面的描述中阐述了很多具体细节以便于充分理解本说明书。但是本说明书能够以很多不同于在此描述的其它方式来实施，本领域技术人员可以在不违背本说明书内涵的情况下做类似推广，因此本说明书不受下面公开的具体实施的限制。在本说明书一个或多个实施例中使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本说明书一个或多个实施例。在本说明书一个或多个实施例和所附权利要求书中所使用的单数形式的“一种”、“所述”和“该”也旨在包括多数形式，除非上下文清楚地表示其他含义。还应当理解，本说明书一个或多个实施例中使用的术语“和/或”是指并包含一个或多个相关联的列出项目的任何或所有可能组合。应当理解，尽管在本说明书一个或多个实施例中可能采用术语第一、第二等来描述各种信息，但这些信息不应限于这些术语。这些术语仅用来将同一类型的信息彼此区分开。例如，在不脱离本说明书一个或多个实施例范围的情况下，第一也可以被称为第二，类似地，第二也可以被称为第一。取决于语境，如在此所使用的词语“如果”可以被解释成为“在……时”或“当……时”或“响应于确定”。在本说明书中，提供了一种根因定位方法，本说明书同时涉及一种根因定位装置，一种根因定位系统，一种服务器，一种计算机可读存储介质以及一种计算机程序，在下面的实施例中逐一进行详细说明。实际应用中，在共享资源存在异常时，需要定位产生异常的虚拟机主机进行排障，现有技术大多数采用基于流量Top N的统计、基于Session数据的聚合分析、基于机器学习的分析方法、基于统计分析的聚合方法等。基于流量Top N的统计方法：是指在出口流量产生异常时，通过统计流量排名靠前的N个虚拟机来作为可能的异常根因。但是该方法仅适用于流量平稳，且异常类型属于明显的尖峰型异常的情况。而实际的网络流量时间序列往往具有较高的复杂性与不确定性，并且异常类型还包括陡降、高频抖动等其他类型，因此该方法适用范围有限。基于Session数据的聚合分析：网络流量出口NAT网关上有相比单一流量统计信息更加细粒度的会话统计信息，通过对每个虚拟机的流信息统计，可以更加精准的汇聚虚拟机的流量变化情况，进而分析出可能的异常根因虚拟机。然而，Session数据规模巨大，如果基于Session数据进行根因分析，相比于基于虚拟机的出口流量统计分析的方法，需要多花费更大的存储空间，且随着云网络规模的不断扩张，难以进行有效的扩展。其他方法虽然也都能够进行根因定位，但是无论是效率还是时效性都较低，因此亟需一种有效的方案以解决上述问题。参见图1所示的示意图，本说明书提供的根因定位方法，为了能够高效且精准的定位故障虚拟机，可以先获取在故障时间点虚拟机集群中虚拟机的流量变化信息，根据流量变化信息初步排除非故障的虚拟机，从而在虚拟机集群中选出候选虚拟机，而为了能够确保定位精度，可以加载候选虚拟机关联故障时间点的历史数据，从而可以降低逐一确定集群中每个虚拟机是否存在故障所消耗的计算资源；在加载到历史数据后，可以根据历史数据确定候选虚拟机在预设根因定位维度的异常信息，从而实现可以根据异常信息分析候选虚拟机是否存在故障，以根据异常信息可以在候选虚拟机中确定目标虚拟机，实现可以定位目标虚拟机的主机进行故障排除处理。在达到高效的同时可以做到高精准度，很大程度降低了运维人员排查消耗的时间，有效的提高了排查效率。图2示出了根据本说明书一个实施例提供的一种根因定位方法的流程图，具体包括以下步骤。步骤S202，获取在故障时间点虚拟机集群中虚拟机的流量变化信息。本实施例提供的根因定位方法应用于提供共享资源的服务端；该服务端提供的共享资源包括但不限于共享带宽、共享流量包、专线服务等；在共享资源出现异常时，也就无法为用户或者企业提供优质的服务，归根原因是提供共享资源的虚拟机主机出现故障，而服务端通常会存在大量的主机来支持虚拟机运行，用于提供充足的共享资源。在主机出现故障时，很难在较短的时间内精准定位故障主机，用于排除故障；因此很大程度会影响用户或者企业的业务服务。为解决上述问题，本实施例提供的根因定位方法可以快速且精准的定位目标虚拟机主机，从而辅助运维人员进行故障排除，降低故障带来的影响，提高用户或者企业的使用体验。具体的，故障时间点具体是指主机发生故障的时间点，在该时间点共享资源流量将发生波动。相应的，虚拟机集群具体是指服务端提供的全部虚拟机组成的集合，用于为用户或者企业提供共享资源。相应的，流量变化信息具体是指虚拟机集群中每个虚拟机在故障时间点前后的流量变化差值信息，用于初步判断虚拟机所属的主机是否为故障主机。也就是说，流量变化信息能够体现每个虚拟机在故障时间点前后的变化情况，可以初步反映出宿主机是否发生故障或异常。基于此，整个虚拟机集群的共享资源流量总和，以及每个虚拟机各自对应的共享资源流量都是随着时间变换而变化的，因此，假设虚拟机集群对应的共享资源流量时间序列为y，共享资源内虚拟机流量为x，则网关内全部的虚拟机流量集合X={ x1，x2…xn}，其中n为虚拟机的数量。而由于共享资源流量由所有虚拟机流量组成，因此可以得出y= x1+x2+…+xn。在此基础上，考虑到实际应用场景中，共享资源可能被大量虚拟机所共用。如果在故障发生时要对每个虚拟机的流量进行计算分析会耗费大量的资源，并且数据在网络中的传输也会耗费大量的时间，同时算法的运行时长会随着虚拟机的数量增长而线性增长，这对于故障定位非常不利，可能会错过最佳的排除故障时间。同时对于服务端来讲除特殊时间其任意时刻的共享资源流量变化都是稳定的，即使存在差异，该差异也是在可控范围内。当某一时刻的共享资源流量前后差异较大时，则可以初步判定存在故障发生，则此时即可触发根因定位方法，用于实现定位故障主机。即在某一时刻的y前后变化较大，超过设定阈值时，则可以初步确定存在故障主机，进行后续的根因定位处理即可。进一步的，考虑到故障时间点的确定将是根因定位的基础，如果故障时间点的定位不够准确，可能会造成大量的计算资源浪费，因此在进行故障时间点的确定时，可以通过读取虚拟机集群的共享资源流量信息进行计算，本实施例中，参见图3所示，具体实现方式如步骤S2022至步骤S2026。步骤S2022，确定共享资源维度对应的所述虚拟机集群，并读取所述虚拟机集群的共享资源流量信息。步骤S2024，根据所述共享资源流量信息，计算所述虚拟机集群在至少一个设定时间点对应的集群流量变化值。步骤S2026，根据所述集群流量变化值在所述至少一个设定时间点中确定所述故障时间点，并获取在所述故障时间点所述虚拟机集群中虚拟机的流量变化信息。具体的，共享资源维度具体是指对应不同共享资源的维度，在进行故障时间点确定时，可以先确定共享资源维度关联的虚拟机集群，之后通过读取集群的流量信息完成确定。相应的，共享资源流量信息具体是指虚拟机集群在设定时间区间内的共享资源流量信息，其为每个虚拟机在设定时间区间内的流量信息总和。比如共享资源为带宽资源，则共享资源流量信息即为带宽资源传输数据的流量总和。相应的，设定时间点具体是指检测是否存在故障主机的时间点，其可以是根据实际需求设置的绝对时间点，也可以相对时间点，本实施例在此不作任何限定。相应的，集群流量变化值具体是指每个设定时间点前后共享资源流量信息变化的差值。基于此，为了能够精准确定故障时间点，首先可以确定共享资源维度对应的虚拟机集群，之后读取虚拟机集群在预设时间区间内对应的共享资源流量信息，即为虚拟机集群中全部虚拟机的流量信息总和。其次，可以确定至少一个设定时间点，之后根据共享资源流量信息计算每个设定时间点对应的集群流量变化值，从而可以分析出每个设定时间点前后的流量变化差值。以此为基础可以选择差值较大的设定时间点，作为故障时间点，以用于后续可以获取每个虚拟机在故障时间点的流量变化信息，用于后续进行初步定为故障虚拟机。具体实施时，在根据共享资源流量信息计算每个设定时间点对应的集群流量变化值时，可以在共享资源流量信息中确定每个设定时间点前后的部分共享资源流量信息，之后将设定时间点前后的部分共享资源流量信息作差，即可得到每个设定时间点对应的集群流量变化值。此后将集群流量变化值与预设阈值进行比较；若大于等于阈值，即可认为设定时间点为故障时间点，若小于阈值，即可认为设定时间点为正常时间点。以此即可排查出主机发生故障的故障时间点。也就是说，虚拟机集群对应的共享资源发生异常时，其流量在故障时间点前后会有数量上的差别，即在计算每个设定时间点对应的集群流量变化值时，可以通过如下公式计算：其中，表示集群流量变化值，T表示设定时间点，L表示时间区间。表示设定时间点前后的共享资源流量信息。当计算出任意时间点对应的后，可以基于该值与阈值进行比较确定时间点是否存主机故障。本实施例以共享带宽资源为例对上述内容进行描述；确定共享带宽资源对应的虚拟机集群中包含n个虚拟机，分别为虚拟机1，虚拟机2…虚拟机n；首先获取虚拟机集群在T1-T2时间区间内的共享资源流量，之后根据公式结合共享资源流量计算t1时刻前后L时间区间内的流量差值为C1，t2时刻前后L时间区间内的流量差值为C2，t3时刻前后L时间区间内的流量差值为C3，此后将C1、C2和C3分别对应的绝对值与预设故障阈值C进行比较，确定C2绝对值大于C，则可以确定故障时间点为t2，后续通过统计t2时间点每个虚拟机的流量即可完成初步排查，以方便后续进行精准定位故障主机。综上，通过结合共享资源流量信息进行故障时间点的确定，可以保证故障时间点确定的精准度，从而支持后续在此基础上进行根因定位，有效的提高了根因定位精度，以避免对用户或者企业产生影响。更进一步的，在确定故障时间点后，考虑到虚拟机集群中包含的虚拟机数量较多，如果在全量虚拟机的基础上进行故障定位，将消耗大量的计算资源，因此为了能够降低计算资源的消耗，以及提高定位精度，可以先确定每个虚拟机的流量变化信息后再进行初步筛选，本实施例中，具体实现方式如下：根据所述故障时间点确定正常时间区间和异常时间区间；获取所述虚拟机对应所述正常时间区间的正常流量变化信息，以及对应所述异常时间区间的异常流量变化信息；根据所述正常流量变化信息和所述异常流量变化信息计算流量变化值，作为所述虚拟机对应的流量变化信息。具体的，正常时间区间具体是指故障时间点之前的设定长度时间区间，相应的，异常时间区间具体是指故障时间点之后的设定长度时间区间，且正常时间区间和异常时间区间长度相同；相应的，正常流量变化信息具体是指虚拟机对应正常时间区间的流量信息；相应的，异常流量变化信息具体是指虚拟机对应异常时间区间的流量信息。相应的，流量变化值具体是指正常流量变化信息和异常流量变化信息的差值。基于此，虚拟机集群中任意一个虚拟机的流量变化信息的确定：在确定故障时间点后，可以根据故障时间点确定时长相等的正常时间区间以及异常时间区间，此后可以获取虚拟机对应正常时间区间的正常流量变化信息，以及对应异常时间区间的异常流量变化信息，用于体现该虚拟机在故障时间点前后的流量情况。此后根据正常流量变化信息和异常流量变化信息计算流量变化值，即可确定虚拟机在故障时间点前后的流量变化值，以此作为虚拟机的流量变化信息即可。具体实施时，计算流量变化值时可以通过如下公式计算：表示流量变化值，T表示故障时间点，L表示时间区间。xi表示故障时间点前后的流量信息。综上，通过结合正常时间区间和异常时间区间进行流量变化值的计算，即可精准确定每个虚拟机在故障时间点前后的流量变化信息，用于后续可以初步判定虚拟机的宿主机是否存在故障，以达到降低排障对象数量的目的。此外，在获取虚拟机对应的正常流量变化信息和异常流量变化信息时，为了能够方便服务端进行资源管理，减轻服务端的计算压力，可以单独由日志服务器进行记录流量信息，在需要使用时读取信息并使用即可，本实施例中，具体实现方式如下：根据所述正常时间区间和所述异常时间区间创建信息读取请求，并将所述信息读取请求发送至所述虚拟机集群对应的日志服务器；接收所述日志服务器针对所述信息读取请求反馈的初始流量变化信息；在所述初始流量变化信息中确定所述正常流量变化信息和所述异常流量变化信息。具体的，信息读取请求具体是指读取虚拟机在正常时间区间和异常时间区间分别对应的流量变化信息的请求，该请求中记录有虚拟机标识，正常时间区间和异常时间区间信息；相应的，日志服务器具体是指记录虚拟机流量变化信息的服务器，单独用于维护流量日志的记录和管理。相应的，初始流量变化信息具体是指正常流量变化信息和异常流量变化信息的总和。基于此，在根据故障时间点确定正常时间区间和异常时间区间后，可以根据虚拟机的标识信息、正常时间区间和异常时间区间创建信息读取请求，并将信息读取请求发送至记录虚拟机集群流量日志的日志服务器，日志服务器当接收到信息读取请求后，通过解析即可得到相应的信息，此后按照信息即可从日志数据库中读取到初始流量变化信息，并将其反馈给服务端，服务端通过解析初始流量变化信息即可得到正常流量变化信息和异常流量变化信息，用于后续计算流量变化值即可。沿用上例，在确定t2时间点为故障时间点后，可以从日志服务里读取到n个虚拟机分别对应的虚拟机流量，该流量信息对应时间区间和，即故障时间点的前后L时间区间。在得到虚拟机流量后，可以根据上述公式结合虚拟机流量计算出n个虚拟机中每个虚拟机对应的流量变化值，此后即可根据流量变化值分析n个虚拟机中故障概率高的虚拟机，再进行根因定位处理。综上，通过结合日志服务器进行流量变化信息的确定，可以实现服务端维护信息更加单一，从而能够利用更多的计算资源进行根因定位处理，从而进一步提高了根因定位精准度和效率。步骤S204，根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，并加载所述候选虚拟机关联所述故障时间点的历史数据。具体的，在上述确定虚拟机集群中每个虚拟机对应的流量变化信息后，进一步的，考虑到流量变化信息能够体现出虚拟机在故障时间点前后的流量波动，因此可以反映虚拟机是否存在故障，则可以结合流量变化信息进行初步的筛选处理，从而实现在虚拟机集群中确定候选虚拟机，并通过加载候选虚拟在故障时间点的历史数据，可以进一步分析候选虚拟机是否为故障虚拟机。其中，候选虚拟机具体是指从虚拟机集群中筛选出的部分虚拟机，且该部分虚拟机主机存在一定故障可能，通过筛选出候选虚拟机可以减少虚拟机数量，从而提高后续更新一步定位故障虚拟机主机的效率。相应的，历史数据具体是指候选虚拟机在故障时间点对应的时间区间处理或传输的数据。例如，共享资源为带宽资源，则历史数据为候选虚拟机在故障时间点对应的时间区间传输的数据；共享资源为CPU资源，则历史数据为候选虚拟机在故障时间点对应的时间区间处理的数据。进一步的，在筛选出候选虚拟机时，为了能够结合流量变化信息准确的筛选出可能存在故障概率更高的虚拟机，可以通过计算占比的方式实现，本实施例中，具体实现方式如下：计算每个虚拟机对应的流量变化值和所述集群流量变化值的比值；根据计算结果对所述虚拟机集群中的虚拟机进行排序，获得虚拟机队列；在所述虚拟机队列中选择设定数量的虚拟机，作为所述候选虚拟机。具体的，计算比值能够体现虚拟机的流量变化值相对于集群流量变化值的占比，占比越高说明越可能是根因；相应的，虚拟机队列具体是指按照比值对虚拟机集群中的虚拟机进行排序后得到的队列，该排序方式可以是从高到低排序，也可以是从低到高排序；相应的，设定数量具体是指从队列中选择候选虚拟机的数量，可以根据实际需求设定，本实施例在此不作任何限定。基于此，在上述计算得到每个虚拟机对应的流量变化值，以及虚拟机集群对应的集群流量变化值后，可以计算每个虚拟机对应的流量变化值和集群流量变化值的比值；根据比值计算结果得到每个虚拟机对应的流量异常度，按照流量异常度对虚拟机从高到低进行排序后，可以按顺序选择设定数量的虚拟机作为候选虚拟机，以用于后续的二次定位处理。实际应用中，考虑到若大于0，那么 越大表示越有可能是根因。而成为根因的可能性也就越小，从而可以根据的大小可以确定虚拟机存在故障的概率。即进行候选虚拟机的确定。此外，考虑到基于计算比值排序选择的方式准确度较低，无法精准定位故障虚拟机，因此可以选择最大的K个虚拟机进入后续的处理。此外，还可以选择TOPK*C倍的虚拟机作为候选虚拟机，以满足后续处理需求。需要说明的是，筛选出候选虚拟机时，需要结合流量信息计算数值后完成，因此可以通过设定的SQL语句在存储流量信息的节点上运行完成，实现服务器可以直接获取节点反馈的结果，从而从虚拟机集群中确定候选虚拟机，实现在无需数据迁移的情况下完成计算处理操作。沿用上例，在确定n个虚拟机中每个虚拟机对应的流量变化值后，可以计算每个流量变化值与n个虚拟机流量变化值总和的比值，根据计算结果确定虚拟机1对应的比值为L1，虚拟机2对应的比值为L2…虚拟机n对应的比值为Ln，此后对L1~Ln按照从高到低的顺序进行排序，根据排序结果可以选择TOP K*C个虚拟机作为候选虚拟机，筛选出的虚拟机数量为m，以方便后续从m个虚拟机中定位故障虚拟机主机。综上，通过计算占比的方式筛选出候选虚拟机，可以实现后续进行数据获取和计算时，不会随着共享资源的虚拟机数量增长而增长，实现通过该方法可以扩展到虚拟机集群规模更大的场景，以具备较高的可扩展性。更进一步的，在确定候选虚拟机后，为了能够在候选虚拟机中精准定位故障虚拟机，用于确定故障主机，可以从数据维度进行分析，而虚拟机关联的数据通常都存在预设好的存储介质中，因此为了能够提高数据获取效率，加快根因定位效率和精度，可以采用多线程拷贝的方式实现，本实施例中，具体实现方式如下：根据所述故障时间点创建数据加载请求，并将所述数据加载请求发送至所述候选虚拟机对应的数据库；响应于所述数据加载请求启动至少两个线程，通过所述至少两个线程接收所述数据库针对所述数据加载请求反馈的历史正常数据和历史异常数据，作为所述历史数据。具体的，数据加载请求具体是指向存储数据的数据库，发送读取候选虚拟机关联故障时间点的请求。相应的，数据库具体是指用于存储虚拟机处理数据或者传输数据的数据库，相应的，历史正常数据具体是指故障时间点之前设定时间区间内候选虚拟机传输或者处理的数据；相应的，历史异常数据具体是指故障时间点之后设定时间区间内候选虚拟机传输或者处理的数据；历史正常数据和历史异常数据对应的设定时间区间长度相同。基于此，在上述确定候选虚拟机和故障时间点后，为了能够精准分析每个候选虚拟机是否关联故障主机，可以根据故障时间点创建数据加载请求，并将数据加载请求发送至候选虚拟机对应的数据库；此后可以响应于数据加载请求启动至少两个线程，通过至少两个线程接收数据库针对数据加载请求反馈的历史正常数据和历史异常数据，作为历史数据，以提高数据获取效率，实现在较短的时间内完成根因定位处理。实际应用中，在确定候选虚拟机后，需要将候选虚拟机关联故障时间点的历史数据拉取到本地，供后续进行分析；因此在拉取数据时，可以采用多线程、多批次的方式实现。也就是说，在历史数据获取阶段，可以同时启动多个线程持续拉取数据，从而提升网络吞吐量。每个线程每次网络I/O获取一批数据而不是一条数据，从而起到复用连接的作用，减少建立连接与断开连接的时间。步骤S206，根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息。具体的，在上述确定候选虚拟机和候选虚拟机关联故障时间点的历史数据后，进一步的，考虑到历史数据是候选虚拟机在故障时间点前后处理或传输的数据，因此可以根据历史数据在故障时间点前后的变化分析候选虚拟机在预设根因定位维度的异常信息，以根据异常信息筛选出目标虚拟机，完成对故障主机的定位。其中，预设根因定位维度具体是指从至少一个维度分析候选虚拟机异常波动情况的维度，相应的，异常信息具体是指体现候选虚拟机异常程度的信息，方便后续根据异常信息确定每个候选虚拟机的异常程度，从而可以选择异常程度最高的候选虚拟机作为目标虚拟机，其所属的主机即为故障主机。进一步的，在根据历史数据确定候选虚拟机对应的异常信息时，考虑到故障时间点之前的数据为正常数据，而故障时间点之后的数据为异常数据，因此可以基于该特性在每个子根因定位维度进行异常信息的确定，本实施例中，具体实现方式如下：根据所述故障时间点对所述历史数据进行划分，获得历史正常数据和历史异常数据；在预设的根因定位维度中确定至少一个子根因定位维度，并根据所述历史正常数据和所述历史异常数据计算每个子根因定位维度的异常信息；具体的，历史正常数据具体是指故障时间点之前虚拟机处理或传输的数据，历史异常数据具体是指故障时间点之后虚拟机处理或传输的数据。相应的，子根因定位维度具体是指预设的检测候选虚拟机异常程度的维度，该子根因定位维度包括但不限于预测根因定位维度、比较根因定位维度、相似根因定位维度；其中，预测根因定位维度具体是指通过预测异常时间区间的期望值与实际值对比的方式，确定候选虚拟机异常程度的维度；比较根因定位维度具体是指通过比较阈值的方式，确定候选虚拟机异常程度的维度；相似根因定位维度具体是指通过计算曲线相似程度的方式，确定候选虚拟机异常程度的维度；每个维度的异常程度信息即为异常信息。基于此，在获取到候选虚拟机对应故障时间点的历史数据后，可以根据故障时间点对历史数据进行划分，从而获得历史正常数据和历史异常数据；之后在预设的根因定位维度中确定至少一个子根因定位维度，并根据历史正常数据和历史异常数据计算每个子根因定位维度的异常信息；以用于后续可以结合每个维度的异常信息完成目标虚拟机的定位。综上，通过结合历史正常数据和历史异常数据进行每个子根因定位维度的异常信息确定，可以实现从多个维度体现候选虚拟机的异常程度，从而方便后续从候选虚拟机中精准确定目标虚拟机。更进一步的，在进行根因分析时，从至少一个子根因定位维度进行异常信息的确定，可以分为绝对偏差分析根因和相对偏差分析根因，实现从不同的角度确定候选虚拟机的异常程度，以满足后续筛选目标虚拟机的需求。其中，预测根因定位维度即为绝对偏差分析，比较根因定位维度和相似根因定位维度即为相对偏差分析。不同维度的异常信息的确定过程如下：在子根因定位维度为预测根因定位维度的情况下，所述预测根因定位维度的异常信息确定，包括：将所述历史正常数据输入至预训练的流量预测模型，获得流量期望信息，以及根据所述历史异常数据确定第一流量真实信息；计算所述流量期望信息与所述第一流量真实信息之间的偏差信息，作为所述候选虚拟机在预测根因定位维度的异常信息。具体的，流量预测模型具体是指能够对设定时间区间的预期流量进行预测的模型；相应的，流量预期信息具体是指候选虚拟机在设定时间区间预期处理的流量信息表征，该设定时间区间即为异常时间区间；相应的，第一流量真实信息具体是指候选虚拟机在异常时间区间真实处理数据时的流量信息表征。相应的，偏差信息具体是指真实信息与期望信息进行比较后得到的绝对偏差，偏差越大表示异常程度越大，反之偏差越小表示异常程度越小。基于此，在子根因定位维度为预测根因定位维度的情况下，每个候选虚拟机对应的异常信息的确定具体是指：首先将历史正常数据输入到预训练的流量预测模型，通过流量预测模型进行处理，可以得到异常时间区间对应的流量期望信息；同时还将根据历史异常数据确定异常时间区间对应的第一流量真实信息；之后通过计算二者的差值，即可得到候选虚拟机对应的绝对偏差，从而可以根据绝对偏差了解候选虚拟机的异常程度。沿用上例，在确定m个候选虚拟机后，可以根据候选虚拟机在时间区间内的历史正常数据，预测出时间区间对应的期望值。之后根据候选虚拟机在时间区间内的真实值与期望值作差，得到候选虚拟机的绝对偏差，用于表征候选虚拟机的异常程度。也就是说，可以通过使用移动平均方法，实现根据历史正常数据得到候选虚拟机在异常时间区间内的期望值，之后根据历史异常数据得到候选虚拟机在异常时间区间内的真实值，通过将期望值和真实值进行作差，可以得到预测偏差，即为绝对偏差di，为虚拟机xi的预测偏差，方便后续进行故障主机的确定。在子根因定位维度为比较根因定位维度的情况下，所述比较根因定位维度的异常信息确定，包括：根据所述历史正常数据生成异常条件，以及根据所述历史异常数据确定第二流量真实信息；根据所述异常条件对所述第二流量真实信息进行检测，根据检测结果确定所述候选虚拟机在比较根因定位维度的异常信息。具体的，异常条件具体是指分析候选虚拟机异常程度的阈值，相应的，第二流量真实信息具体是指候选虚拟机在异常时间区间真实处理数据时的流量信息表征。基于此，在子根因定位维度为比较根因定位维度的情况下，每个候选虚拟机对应的异常信息的确定具体是指：首先根据历史正常数据生成异常条件，同时根据历史异常数据确定第二流量真实信息；其次利用异常条件对第二流量真实信息检测，实现通过该条件分析候选虚拟机异常程度，从而得到候选虚拟机在比较根因定位维度的异常信息。沿用上例，在确定m个候选虚拟机后，可以根据候选虚拟机在时间区间内的历史正常数据进行拟合计算，根据拟合计算结果得到异常阈值，此后结合候选虚拟机在时间区间内的历史异常数据确定真实值，通过将真实值与异常阈值进行比较，可以确定候选虚拟机的异常信息。具体实施时，真实值与异常阈值的差值越大，异常程度也就越高。也就是说，在进行相对偏差分析时，可以引入异常幅度来衡量候选虚拟机在异常时间区间内与正常时间区间的异常程度，越大则更有可能是根因。基于此，通过极值理论可以根据历史正常数据得到一个异常阈值，通过将真实值与异常阈值进行对比，可以根据对比结果确定候选虚拟机在0-1之间的结果，记为ai，表示虚拟机xi的异常幅度。在子根因定位维度为相似根因定位维度的情况下，所述相似根因定位维度的异常信息确定，包括：获取所述虚拟机集群对应的第一资源变化曲线，以及根据所述历史正常数据和所述历史异常数据生成所述候选虚拟机对应的第二资源变化曲线；计算所述第一资源变化曲线和所述第二资源变化曲线之间的曲线相似度，作为所述候选虚拟机在相似根因定位维度的异常信息。具体的，第一资源变化曲线具体是指虚拟机集群的共享资源变化曲线。相应的，第二资源变化曲线具体是指候选虚拟机的资源变化曲线；相应的，曲线相似度具体是指共享资源变化曲线和资源变化曲线之间的相似度，相似度越高表示候选虚拟机的异常程度越高，反之相似度越低表示候选虚拟机的异常程度越低。基于此，在子根因定位维度为相似根因定位维度的情况下，每个候选虚拟机对应的异常信息的确定具体是指：可以先获取虚拟机集群对应的第一资源变化曲线，以及根据历史正常数据和历史异常数据生成候选虚拟机对应的第二资源变化曲线；此后通过计算第一资源变化曲线和第二资源变化曲线之间的曲线相似度，可以确定候选虚拟机的异常程度，并作为候选虚拟机在相似根因定位维度的异常信息即可。沿用上例，在确定m个候选虚拟机后，可以先确定n个候选虚拟机对应的共享资源曲线，之后根据候选虚拟机的历史异常数据和历史正常数据构建候选虚拟机对应的虚拟机曲线；此后通过计算每个候选虚拟机的虚拟机曲线与共享资源曲线之间的相似度，即可确定候选虚拟机的异常信息。也就是说，在进行相对偏差分析时，可以引入离散集合度量的方式实现异常信息的确定。即与虚拟机集群的共享资源曲线更相似的虚拟机曲线，其对应的虚拟机更容易成为根因。因此可以使用离散集合度量的集合相似度算法计算两个曲线的相似度，得到si表示曲线相似度，即表示虚拟机xi与共享资源曲线的形状相似度。综上，通过从不同的根因定位维度进行异常信息的确定，可以方便后续从多个维度出发进行汇总，从而精准定位故障主机，有效的提高了定位精度和效率。步骤S208，基于所述异常信息在所述候选虚拟机中确定目标虚拟机。具体的，在上述确定候选虚拟机对应的异常信息后，进一步的，可以进行异常信息比对的方式在候选虚拟机中确定目标虚拟机，而目标虚拟机所属的主机即为故障主机，此后将故障主机的设备标识发送给运维人员即可，实现精准且高效的定位故障主机，方便运维人员进行故障解除处理。进一步的，考虑到异常信息是对应每个子根因定位维度的，因此可以采用整合的方式完成定位，也就是说，可以对每个子根因定位维度的异常信息进行整合，根据整合结果在所述候选虚拟机中确定目标虚拟机。更进一步的，在整合多个子根因定位维度的异常信息时，考虑到每个维度的异常信息表征方式不同，因此可以将其转换为数值后进行计算，以根据计算结果筛选目标虚拟机，本实施例中，具体实现方式如下：根据每个子根因定位维度的异常信息，计算每个子根因定位维度对应的异常分值；对每个子根因定位维度对应的异常分值进行整合，根据整合结果在所述候选虚拟机中确定目标虚拟机。具体的，异常分值具体是指根据异常信息转换后得到的分值，用于表征候选虚拟机的异常程度；基于此，在得到候选虚拟机在每个子根因定位维度的异常信息后，可以根据每个子根因定位维度的异常信息，计算每个子根因定位维度对应的异常分值；此后将对每个子根因定位维度对应的异常分值进行整合，即可根据整合结果在候选虚拟机中确定目标虚拟机，以实现定位目标虚拟机所属的主机为故障主机。也就是说，在根据预测根因定位维度、比较根因定位维度、相似根因定位维度得到候选虚拟机在每个维度的异常信息后，可以通过如下计算出每个候选虚拟机对应的异常分值，之后按照从高到低的顺序进行排序，再选择H个候选虚拟机作为目标虚拟机即可，以根据目标虚拟机确定故障主机。其中，λ用于控制异常幅度和形状相似度所占的比重。沿用上例，在得到预测偏差、异常幅度和曲线相似度后，可以结合每个候选虚拟机的预测偏差、异常幅度和曲线相似度计算异常分值，之后按照异常分值进行排序，根据排序结果可以从m个候选虚拟机中选择o个虚拟机作为目标虚拟机，此后可以将o个虚拟机所属的主机作为故障主机，并将主机信息发送给运维人员，以方便运维人员进行检测和排障。参见图4所示，本说明书提供的根因定位方法，主要分为三个阶段，分别为曲线过滤，数据获取以及根因定位，在曲线过滤阶段，通过共享资源异常量计算确定曲线指标聚合以完成粗筛，且由存储节点完成；而在数据获取时，可以从存储节点通过多线程和多批次的方式将数据拉取到计算节点，此后计算节点可以通过计算绝对偏差和相对偏差，完成根因定位处理。其中，存储节点具体是指用于存储流量信息和数据的节点，计算节点具体是指进行故障排除的节点。本说明书提供的根因定位方法，为了能够高效且精准的定位故障虚拟机，可以先获取在故障时间点虚拟机集群中虚拟机的流量变化信息，根据流量变化信息初步排除非故障的虚拟机，从而在虚拟机集群中选出候选虚拟机，而为了能够确保定位精度，可以加载候选虚拟机关联故障时间点的历史数据，从而可以降低逐一确定集群中每个虚拟机是否存在故障所消耗的计算资源；在加载到历史数据后，可以根据历史数据确定候选虚拟机在预设根因定位维度的异常信息，从而实现可以根据异常信息分析候选虚拟机是否存在故障，以根据异常信息可以在候选虚拟机中确定目标虚拟机，实现可以定位目标虚拟机的主机进行故障排除处理。在达到高效的同时可以做到高精准度，很大程度降低了运维人员排查消耗的时间，有效的提高了排查效率。下述结合附图5，以本说明书提供的根因定位方法在共享流量资源场景中的应用为例，对所述根因定位方法进行进一步说明。其中，图5示出了本说明书一个实施例提供的一种根因定位方法的处理过程流程图，具体包括以下步骤。步骤S502，确定共享资源维度对应的虚拟机集群，并读取虚拟机集群的共享资源流量信息。步骤S504，根据共享资源流量信息，计算虚拟机集群在至少一个设定时间点对应的集群流量变化值。步骤S506，根据集群流量变化值在至少一个设定时间点中确定故障时间点，并获取在故障时间点虚拟机集群中虚拟机的流量变化信息。具体的，根据故障时间点确定正常时间区间和异常时间区间；获取虚拟机对应正常时间区间的正常流量变化信息，以及对应异常时间区间的异常流量变化信息；根据正常流量变化信息和异常流量变化信息计算流量变化值，作为虚拟机对应的流量变化信息。进一步的，根据正常时间区间和异常时间区间创建信息读取请求，并将信息读取请求发送至虚拟机集群对应的日志服务器；接收日志服务器针对信息读取请求反馈的初始流量变化信息；在初始流量变化信息中确定正常流量变化信息和异常流量变化信息。步骤S508，计算每个虚拟机对应的流量变化值和集群流量变化值的比值。步骤S510，根据计算结果对虚拟机集群中的虚拟机进行排序，获得虚拟机队列。步骤S512，在虚拟机队列中选择设定数量的虚拟机，作为候选虚拟机。步骤S514，根据故障时间点创建数据加载请求，并将数据加载请求发送至候选虚拟机对应的数据库。步骤S516，响应于数据加载请求启动至少两个线程，通过至少两个线程接收数据库针对数据加载请求反馈的历史正常数据和历史异常数据，作为历史数据。步骤S518，根据故障时间点对历史数据进行划分，获得历史正常数据和历史异常数据。步骤S520，在预设的根因定位维度中确定至少一个子根因定位维度，并根据历史正常数据和历史异常数据计算每个子根因定位维度的异常信息。具体的，在子根因定位维度为预测根因定位维度的情况下，预测根因定位维度的异常信息确定，包括：将历史正常数据输入至预训练的流量预测模型，获得流量期望信息，以及根据历史异常数据确定第一流量真实信息；计算流量期望信息与第一流量真实信息之间的偏差信息，作为候选虚拟机在预测根因定位维度的异常信息。在子根因定位维度为比较根因定位维度的情况下，比较根因定位维度的异常信息确定，包括：根据历史正常数据生成异常条件，以及根据历史异常数据确定第二流量真实信息；根据异常条件对第二流量真实信息进行检测，根据检测结果确定候选虚拟机在比较根因定位维度的异常信息。在子根因定位维度为相似根因定位维度的情况下，相似根因定位维度的异常信息确定，包括：获取虚拟机集群对应的第一资源变化曲线，以及根据历史正常数据和历史异常数据生成候选虚拟机对应的第二资源变化曲线；计算第一资源变化曲线和第二资源变化曲线之间的曲线相似度，作为候选虚拟机在相似根因定位维度的异常信息。步骤S522，根据每个子根因定位维度的异常信息，计算每个子根因定位维度对应的异常分值。步骤S524，对每个子根因定位维度对应的异常分值进行整合，根据整合结果在候选虚拟机中确定目标虚拟机。综上所述，为了能够高效且精准的定位故障虚拟机，可以先获取在故障时间点虚拟机集群中虚拟机的流量变化信息，根据流量变化信息初步排除非故障的虚拟机，从而在虚拟机集群中选出候选虚拟机，而为了能够确保定位精度，可以加载候选虚拟机关联故障时间点的历史数据，从而可以降低逐一确定集群中每个虚拟机是否存在故障所消耗的计算资源；在加载到历史数据后，可以根据历史数据确定候选虚拟机在预设根因定位维度的异常信息，从而实现可以根据异常信息分析候选虚拟机是否存在故障，以根据异常信息可以在候选虚拟机中确定目标虚拟机，实现可以定位目标虚拟机的主机进行故障排除处理。在达到高效的同时可以做到高精准度，很大程度降低了运维人员排查消耗的时间，有效的提高了排查效率。与上述方法实施例相对应，本说明书还提供了根因定位装置实施例，图6示出了本说明书一个实施例提供的一种根因定位装置的结构示意图。如图6所示，该装置包括：获取信息模块602，被配置为获取在故障时间点虚拟机集群中虚拟机的流量变化信息；加载数据模块604，被配置为根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，并加载所述候选虚拟机关联所述故障时间点的历史数据；确定信息模块606，被配置为根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息；确定虚拟机模块608，被配置为基于所述异常信息在所述候选虚拟机中确定目标虚拟机。一个可选的实施例中，所述获取信息模块602进一步被配置为：确定共享资源维度对应的所述虚拟机集群，并读取所述虚拟机集群的共享资源流量信息；根据所述共享资源流量信息，计算所述虚拟机集群在至少一个设定时间点对应的集群流量变化值；根据所述集群流量变化值在所述至少一个设定时间点中确定所述故障时间点，并获取在所述故障时间点所述虚拟机集群中虚拟机的流量变化信息。一个可选的实施例中，所述获取信息模块602进一步被配置为：根据所述故障时间点确定正常时间区间和异常时间区间；获取所述虚拟机对应所述正常时间区间的正常流量变化信息，以及对应所述异常时间区间的异常流量变化信息；根据所述正常流量变化信息和所述异常流量变化信息计算流量变化值，作为所述虚拟机对应的流量变化信息。一个可选的实施例中，所述加载数据模块604进一步被配置为：计算每个虚拟机对应的流量变化值和所述集群流量变化值的比值；根据计算结果对所述虚拟机集群中的虚拟机进行排序，获得虚拟机队列；在所述虚拟机队列中选择设定数量的虚拟机，作为所述候选虚拟机。一个可选的实施例中，所述获取信息模块602进一步被配置为：根据所述正常时间区间和所述异常时间区间创建信息读取请求，并将所述信息读取请求发送至所述虚拟机集群对应的日志服务器；接收所述日志服务器针对所述信息读取请求反馈的初始流量变化信息；在所述初始流量变化信息中确定所述正常流量变化信息和所述异常流量变化信息。一个可选的实施例中，所述加载数据模块604进一步被配置为：根据所述故障时间点创建数据加载请求，并将所述数据加载请求发送至所述候选虚拟机对应的数据库；响应于所述数据加载请求启动至少两个线程，通过所述至少两个线程接收所述数据库针对所述数据加载请求反馈的历史正常数据和历史异常数据，作为所述历史数据。一个可选的实施例中，所述确定信息模块606进一步被配置为：根据所述故障时间点对所述历史数据进行划分，获得历史正常数据和历史异常数据；在预设的根因定位维度中确定至少一个子根因定位维度，并根据所述历史正常数据和所述历史异常数据计算每个子根因定位维度的异常信息；相应的，所述确定虚拟机模块608进一步被配置为：对每个子根因定位维度的异常信息进行整合，根据整合结果在所述候选虚拟机中确定目标虚拟机。一个可选的实施例中，在子根因定位维度为预测根因定位维度的情况下，所述预测根因定位维度的异常信息确定，包括：将所述历史正常数据输入至预训练的流量预测模型，获得流量期望信息，以及根据所述历史异常数据确定第一流量真实信息；计算所述流量期望信息与所述第一流量真实信息之间的偏差信息，作为所述候选虚拟机在预测根因定位维度的异常信息。一个可选的实施例中，在子根因定位维度为比较根因定位维度的情况下，所述比较根因定位维度的异常信息确定，包括：根据所述历史正常数据生成异常条件，以及根据所述历史异常数据确定第二流量真实信息；根据所述异常条件对所述第二流量真实信息进行检测，根据检测结果确定所述候选虚拟机在比较根因定位维度的异常信息。一个可选的实施例中，在子根因定位维度为相似根因定位维度的情况下，所述相似根因定位维度的异常信息确定，包括：获取所述虚拟机集群对应的第一资源变化曲线，以及根据所述历史正常数据和所述历史异常数据生成所述候选虚拟机对应的第二资源变化曲线；计算所述第一资源变化曲线和所述第二资源变化曲线之间的曲线相似度，作为所述候选虚拟机在相似根因定位维度的异常信息。一个可选的实施例中，所述确定虚拟机模块608进一步被配置为：根据每个子根因定位维度的异常信息，计算每个子根因定位维度对应的异常分值；对每个子根因定位维度对应的异常分值进行整合，根据整合结果在所述候选虚拟机中确定目标虚拟机。本说明书提供的根因定位装置，为了能够高效且精准的定位故障虚拟机，可以先获取在故障时间点虚拟机集群中虚拟机的流量变化信息，根据流量变化信息初步排除非故障的虚拟机，从而在虚拟机集群中选出候选虚拟机，而为了能够确保定位精度，可以加载候选虚拟机关联故障时间点的历史数据，从而可以降低逐一确定集群中每个虚拟机是否存在故障所消耗的计算资源；在加载到历史数据后，可以根据历史数据确定候选虚拟机在预设根因定位维度的异常信息，从而实现可以根据异常信息分析候选虚拟机是否存在故障，以根据异常信息可以在候选虚拟机中确定目标虚拟机，实现可以定位目标虚拟机的主机进行故障排除处理。在达到高效的同时可以做到高精准度，很大程度降低了运维人员排查消耗的时间，有效的提高了排查效率。上述为本实施例的一种根因定位装置的示意性方案。需要说明的是，该根因定位装置的技术方案与上述的根因定位方法的技术方案属于同一构思，根因定位装置的技术方案未详细描述的细节内容，均可以参见上述根因定位方法的技术方案的描述。与上述方法实施例相对应，本说明书还提供了根因定位系统实施例，图7示出了本说明书一个实施例提供的一种根因定位系统的结构示意图。如图7所示，该根因定位系统700，包括存储节点710和计算节点720；存储节点710，用于获取在故障时间点虚拟机集群中虚拟机的流量变化信息；根据所述流量变化信息在所述虚拟机集群中筛选出候选虚拟机，并读取所述候选虚拟机关联所述故障时间点的历史数据，将所述历史数据发送至计算节点；所述计算节点720，用于接收所述历史数据，根据所述历史数据确定所述候选虚拟机在预设根因定位维度的异常信息；基于所述异常信息在所述候选虚拟机中确定目标虚拟机。上述为本实施例的一种根因定位系统的示意性方案。需要说明的是，该根因定位系统的技术方案与上述的根因定位方法的技术方案属于同一构思，根因定位系统的技术方案未详细描述的细节内容，均可以参见上述根因定位方法的技术方案的描述。图8示出了根据本说明书一个实施例提供的一种服务器800的结构框图。该服务器800的部件包括但不限于存储器810和处理器820。处理器820与存储器810通过总线830相连接，数据库850用于保存数据。服务器800还包括接入设备840，接入设备840使得服务器800能够经由一个或多个网络860通信。这些网络的示例包括公用交换电话网、局域网、广域网、个域网或诸如因特网的通信网络的组合。接入设备840可以包括有线或无线的任何类型的网络接口）中的一个或多个，诸如IEEE802.11无线局域网无线接口、全球微波互联接入接口、以太网接口、通用串行总线接口、蜂窝网络接口、蓝牙接口、近场通信接口，等等。在本申请的一个实施例中，服务器800的上述部件以及图8中未示出的其他部件也可以彼此相连接，例如通过总线。应当理解，图8所示的服务器结构框图仅仅是出于示例的目的，而不是对本申请范围的限制。本领域技术人员可以根据需要，增添或替换其他部件。服务器800可以是任何类型的静止或移动服务器，包括移动计算机或移动计算设备、移动电话、可佩戴的计算设备或其他类型的移动设备，或者诸如台式计算机或个人计算机的静止服务器。服务器800还可以是移动式或静止式的服务器。其中，处理器820用于执行如下计算机可执行指令，该计算机可执行指令被处理器执行时实现上述根因定位方法的步骤。上述为本实施例的一种服务器的示意性方案。需要说明的是，该服务器的技术方案与上述的根因定位方法的技术方案属于同一构思，服务器的技术方案未详细描述的细节内容，均可以参见上述根因定位方法的技术方案的描述。本说明书一实施例还提供一种计算机可读存储介质，其存储有计算机可执行指令，该计算机可执行指令被处理器执行时实现上述根因定位方法的步骤。上述为本实施例的一种计算机可读存储介质的示意性方案。需要说明的是，该存储介质的技术方案与上述的根因定位方法的技术方案属于同一构思，存储介质的技术方案未详细描述的细节内容，均可以参见上述根因定位方法的技术方案的描述。本说明书一实施例还提供一种计算机程序，其中，当所述计算机程序在计算机中执行时，令计算机执行上述根因定位方法的步骤。上述为本实施例的一种计算机程序的示意性方案。需要说明的是，该计算机程序的技术方案与上述的根因定位方法的技术方案属于同一构思，计算机程序的技术方案未详细描述的细节内容，均可以参见上述根因定位方法的技术方案的描述。上述对本说明书特定实施例进行了描述。其它实施例在所附权利要求书的范围内。在一些情况下，在权利要求书中记载的动作或步骤可以按照不同于实施例中的顺序来执行并且仍然可以实现期望的结果。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。所述计算机指令包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，所述计算机可读介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如在某些司法管辖区，根据立法和专利实践，计算机可读介质不包括电载波信号和电信信号。需要说明的是，对于前述的各方法实施例，为了简便描述，故将其都表述为一系列的动作组合，但是本领域技术人员应该知悉，本说明书实施例并不受所描述的动作顺序的限制，因为依据本说明书实施例，某些步骤可以采用其它顺序或者同时进行。其次，本领域技术人员也应该知悉，说明书中所描述的实施例均属于优选实施例，所涉及的动作和模块并不一定都是本说明书实施例所必须的。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其它实施例的相关描述。以上公开的本说明书优选实施例只是用于帮助阐述本说明书。可选实施例并没有详尽叙述所有的细节，也不限制该发明仅为所述的具体实施方式。显然，根据本说明书实施例的内容，可作很多的修改和变化。本说明书选取并具体描述这些实施例，是为了更好地解释本说明书实施例的原理和实际应用，从而使所属技术领域技术人员能很好地理解和利用本说明书。本说明书仅受权利要求书及其全部范围和等效物的限制。
