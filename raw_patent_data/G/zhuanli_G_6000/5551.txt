标题title
一种积雪环境下的红外场景数值计算方法
摘要abst
本发明公开了一种积雪环境下的红外场景数值计算方法，该方法包括以下步骤：计算雪花落地的速度矢量；基于雪花落地的速度矢量，计算场景中的积雪覆盖厚度；根据场景中的积雪覆盖厚度，计算场景红外辐射亮度；根据场景红外辐射亮度，生成红外仿真图像。本发明旨在通过光线追踪技术精确计算场景表面的积雪覆盖情况，从而够准确地计算出红外场景辐射特性。
权利要求书clms
1.一种积雪环境下的红外场景数值计算方法，其特征在于，包括以下步骤：步骤1：计算雪花落地的速度矢量；步骤2：基于雪花落地的速度矢量，计算场景中的积雪覆盖厚度；步骤3：根据场景中的积雪覆盖厚度，计算场景红外辐射亮度；步骤4：根据场景红外辐射亮度，生成红外仿真图像。2.根据权利要求1所述的方法，其特征在于，所述步骤1包括：步骤11：根据场景中风速的方向和大小，得到在场景坐标系下的风速矢量；步骤12：根据重力加速度、空气阻力系数，雪花的直径，雪花的质量、时间间隔，计算当前时刻雪花的落地时的速度矢量；步骤13：计算无风时当前时刻雪花落地的速度矢量，并结合步骤11中场景坐标系下的风速合成场景中雪花落地时的速度矢量。3.根据权利要求2所述的方法，其特征在于，所述步骤11包括：假设场景中风速的方向为、风速的大小为，通过以下公式，计算在场景坐标系下的风速矢量：其中，为在场景坐标系下的风速矢量，、、分别为x轴方向风速大小、y轴方向风速大小、z轴方向风速大小。4.根据权利要求3所述的方法，其特征在于，所述步骤12包括：假设重力加速度为、空气阻力系为数、雪花的直径为、雪花的质量为、时间间隔为，利用以下公式计算当前时刻雪花的落地时的速度矢量：其中，为时刻的雪的降落速度，为初始速度，是服从之间的均匀分布。5.根据权利要求4所述的方法，其特征在于，所述步骤13包括：通过以下公式，计算无风时当前时刻雪花落地的速度：其中，为无风时当前时刻雪花落地的速度；通过以下公式，得到场景中雪花落地时的速度矢量：其中，为场景中雪花落地时的速度矢量，将其单位化。6.根据权利要求5所述的方法，其特征在于，所述步骤2包括：步骤21：基于正二十面体，将正二十面体30条棱的每条棱三等分，取每条棱的三等分点截取角得到有60个顶点和32个面的截角二十面体；步骤22：将截角二十面体的体中心点分别与60个顶点和32个面中心相连，得到92个方向向量，将其单位化后存储在长度为92的向量数组；步骤23：将雪花落地的逆方向看作追踪射线的方向，利用光线追踪技术和数组设置阈值，计算场景中积雪因子函数；步骤24：根据平均降雪厚度，计算射线与场景中相交面的面单元的积雪厚度。7.根据权利要求6所述的方法，其特征在于，所述步骤23包括：记雪花落地时的速度方向的负向量与截角二十面体形成的92个方向向量中的第个向量的夹角的余弦值为，设雪花落地的速度方向所张成的立体角阈值为，则在此范围内即的方向向量个数为，则场景中积雪因子函数计算如下：其中，为雪花降落的面的单位法向量与场景坐标系轴所成夹角的余弦值，若，则。8.根据权利要求7所述的方法，其特征在于，所述步骤24包括：场景中平均积雪厚度由配置文件给定，射线与场景中相交面的面单元的积雪厚度。9.根据权利要求1所述的方法，其特征在于，所述步骤3包括：步骤31：根据面单元的积雪厚度，判断场景表面的材质红外属性；步骤32：根据普朗克公式计算场景表面的材质红外属性的红外辐射亮度。10.根据权利要求9所述的方法，其特征在于，所述步骤31包括：若面单元的积雪厚度，则认为无雪，场景表面的材质红外属性为单元原有的材质红外属性；若面单元的积雪厚度，则场景表面的材质红外属性为雪材质的红外属性。
说明书desc
技术领域本发明涉及红外场景仿真技术领域，特别是一种积雪环境下的红外场景数值计算方法。背景技术随着红外探测技术和红外成像制导武器广泛应用于信息化战场，现代战争越来越重视通过目标与背景的红外特征来进行探测、识别和攻击。为研究雪地的红外辐射特征，研究人员提出了几种计算积雪环境下红外辐射特性的方法，一种是将地面目标合成到雪地的红外图像中，但这只是简单的图像叠加；一种是基于雪地表面温度的计算模型，进而计算红外辐射。然而，这些方法存在两方面缺陷：1）不能统筹计算整个场景的红外辐射特性，导致失真；2）不能精确计算场景中的雪覆盖情况，导致红外辐射误差大。装甲兵工程学院机械工程系研究人员在其发表期刊论文“雪地表面的红外辐射计算及应用”一文中，提出了一种基于热平衡方程建立雪地表面的温度计算模型，并根据温度计算红外辐射亮度，进而进行红外图像仿真。该方法雪的温度计算相对精确，但是不能精确计算场景中雪的覆盖情况，从而导致计算的红外辐射误差较大。积雪环境下的红外场景数值计算方法通过环境参数计算出场景表面被雪覆盖的情况，选取不同的材质属性，进而计算得到积雪环境下场景的红外辐射亮度，生成红外仿真图像。积雪环境下的红外场景计算对红外目标特性模拟、红外伪装/隐身效果评价、红外目标识别等方面研究意义重大。为了精确计算积雪环境下场景的红外辐射特性，研究人员提出了雪地表面温度的计算模型，为红外场景仿真提供依据，然而这种方法有一定的局限性：无法准确考虑在风速、风向等因素影响下场景中不同部位的积雪覆盖情况，从而导致计算误差大，不符合对真实战场环境的描述。发明内容针对现有技术不能精确计算场景中的积雪覆盖情况，本发明提供一种积雪环境下的红外场景数值计算方法，通过光线追踪技术精确计算场景表面的积雪覆盖情况，从而准确地计算出红外场景辐射特性。本发明公开了一种积雪环境下的红外场景数值计算方法，包括以下步骤：步骤1：计算雪花落地的速度矢量；步骤2：基于雪花落地的速度矢量，计算场景中的积雪覆盖厚度；步骤3：根据场景中的积雪覆盖厚度，计算场景红外辐射亮度；步骤4：根据场景红外辐射亮度，生成红外仿真图像。进一步地，所述步骤1包括：步骤11：根据场景中风速的方向和大小，得到在场景坐标系下的风速矢量；步骤12：根据重力加速度、空气阻力系数，雪花的直径，雪花的质量、时间间隔，计算当前时刻雪花的落地时的速度矢量；步骤13：计算无风时当前时刻雪花落地的速度矢量，并结合步骤11中场景坐标系下的风速合成场景中雪花落地时的速度矢量。进一步地，所述步骤11包括：假设场景中风速的方向为、风速的大小为，通过以下公式，计算在场景坐标系下的风速矢量：其中，为在场景坐标系下的风速矢量，、、分别为x轴方向风速大小、y轴方向风速大小、z轴方向风速大小。进一步地，所述步骤12包括：假设重力加速度为、空气阻力系为数、雪花的直径为、雪花的质量为、时间间隔为，利用以下公式计算当前时刻雪花的落地时的速度矢量：其中，为时刻的雪的降落速度，为初始速度，是服从之间的均匀分布。进一步地，所述步骤13包括：通过以下公式，计算无风时当前时刻雪花落地的速度：其中，为无风时当前时刻雪花落地的速度；通过以下公式，得到场景中雪花落地时的速度矢量：其中，为场景中雪花落地时的速度矢量，将其单位化。进一步地，所述步骤2包括：步骤21：基于正二十面体，将正二十面体30条棱的每条棱三等分，取每条棱的三等分点截取角得到有60个顶点和32个面的截角二十面体；步骤22：将截角二十面体的体中心点分别与60个顶点和32个面中心相连，得到92个方向向量，将其单位化后存储在长度为92的向量数组；步骤23：将雪花落地的逆方向看作追踪射线的方向，利用光线追踪技术和数组设置阈值，计算场景中积雪因子函数；步骤24：根据平均降雪厚度，计算射线与场景中相交面的面单元的积雪厚度。进一步地，所述步骤23包括：记雪花落地时的速度方向的负向量与截角二十面体形成的92个方向向量中的第个向量的夹角的余弦值为，设雪花落地的速度方向所张成的立体角阈值为，则在此范围内即的方向向量个数为，则场景中积雪因子函数计算如下：其中，为雪花降落的面的单位法向量与场景坐标系轴所成夹角的余弦值，若，则。进一步地，所述步骤24包括：场景中平均积雪厚度由配置文件给定，射线与场景中相交面的面单元的积雪厚度。进一步地，所述步骤3包括：步骤31：根据面单元的积雪厚度，判断场景表面的材质红外属性；步骤32：根据普朗克公式计算场景表面的材质红外属性的红外辐射亮度。进一步地，所述步骤31包括：若面单元的积雪厚度，则认为无雪，场景表面的材质红外属性为单元原有的材质红外属性；若面单元的积雪厚度，则场景表面的材质红外属性为雪材质的红外属性。由于采用了上述技术方案，本发明具有如下的优点：本发明所构建的计算场景表面的积雪覆盖情况的方法包含计算雪花落地的方向，以截角二十面体的92个方向的球面法向构造积雪因子函数，利用光线追踪技术计算每个面元的积雪厚度，以此来获得更精确的红外场景积雪覆盖情况，再根据积雪覆盖性选取不同材质的红外材质属性计算像素的红外辐射值，按照像素的分辨率输出红外仿真图像，得到精确且高分辨率的积雪场景下的红外辐射仿真图像。本发明能够有效减小积雪覆盖情况引起的红外仿真误差，提高红外图像精度。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明实施例中记载的一些实施例，对于本领域普通技术人员来讲，还可以根据这些附图获得其他的附图。图1为本发明实施例的一种积雪环境下的红外场景数值计算方法的流程示意图。具体实施方式结合附图和实施例对本发明作进一步说明，显然，所描述的实施例仅是本发明实施例一部分实施例，而不是全部的实施例。本领域普通技术人员所获得的所有其他实施例，都应当属于本发明实施例保护的范围。参见图1，本发明提供了一种积雪环境下的红外场景数值计算方法的实施例，其包括以下步骤：S1：计算雪花落地的速度矢量；S2：基于雪花落地的速度矢量，计算场景中的积雪覆盖厚度；S3：根据场景中的积雪覆盖厚度，计算场景红外辐射亮度；S4：根据场景红外辐射亮度，生成红外仿真图像。本实施例中，S1包括：S11：根据场景中风速的方向和大小，得到在场景坐标系下的风速矢量；S12：根据重力加速度、空气阻力系数，雪花的直径，雪花的质量、时间间隔，计算当前时刻雪花的落地时的速度矢量；S13：计算无风时当前时刻雪花落地的速度矢量，并结合S11中场景坐标系下的风速合成场景中雪花落地时的速度矢量。本实施例中，S11包括：假设场景中风速的方向为、风速的大小为，通过以下公式，计算在场景坐标系下的风速矢量：其中，为在场景坐标系下的风速矢量，、、分别为x轴方向风速大小、y轴方向风速大小、z轴方向风速大小。本实施例中，S12包括：假设重力加速度为、空气阻力系为数、雪花的直径为、雪花的质量为、时间间隔为，利用以下公式计算当前时刻雪花的落地时的速度矢量：其中，为时刻的雪的降落速度，为初始速度，是服从之间的均匀分布。本实施例中，S13包括：通过以下公式，计算无风时当前时刻雪花落地的速度：其中，为无风时当前时刻雪花落地的速度；通过以下公式，得到场景中雪花落地时的速度矢量：其中，为场景中雪花落地时的速度矢量，将其单位化。本实施例中，S2包括：S21：基于正二十面体，将正二十面体30条棱的每条棱三等分，取每条棱的三等分点截取角得到有60个顶点和32个面的截角二十面体；S22：将截角二十面体的体中心点分别与60个顶点和32个面中心相连，得到92个方向向量，将其单位化后存储在长度为92的向量数组；S23：将雪花落地的逆方向看作追踪射线的方向，利用光线追踪技术和数组设置阈值，计算场景中积雪因子函数；S24：根据平均降雪厚度，计算射线与场景中相交面的面单元的积雪厚度。本实施例中，S23包括：记雪花落地时的速度方向的负向量与截角二十面体形成的92个方向向量中的第个向量的夹角的余弦值为，设雪花落地的速度方向所张成的立体角阈值为，则在此范围内即的方向向量个数为，则场景中积雪因子函数计算如下：其中，为雪花降落的面的单位法向量与场景坐标系轴所成夹角的余弦值，若，则。本实施例中，S24包括：场景中平均积雪厚度由配置文件给定，射线与场景中相交面的面单元的积雪厚度。本实施例中，S3包括：S31：根据面单元的积雪厚度，判断场景表面的材质红外属性；S32：根据普朗克公式计算场景表面的材质红外属性的红外辐射亮度。本实施例中，S31包括：若面单元的积雪厚度，则认为无雪，场景表面的材质红外属性为单元原有的材质红外属性；若面单元的积雪厚度，则场景表面的材质红外属性为雪材质的红外属性。本发明所构建的计算场景表面的积雪覆盖情况的方法包含计算雪花落地的方向，以截角二十面体的92个方向的球面法向构造积雪因子函数，利用光线追踪技术计算每个面元的积雪厚度，以此来获得更精确的红外场景积雪覆盖情况，再根据积雪覆盖性选取不同材质的红外材质属性计算像素的红外辐射值，按照像素的分辨率输出红外仿真图像，得到精确且高分辨率的积雪场景下的红外辐射仿真图像。实验结果表明，本发明能够有效减小积雪覆盖情况引起的红外仿真误差，提高红外图像精度。最后应当说明的是：以上实施例仅用以说明本发明的技术方案而非对其限制，尽管参照上述实施例对本发明进行了详细的说明，所属领域的普通技术人员应当理解：依然可以对本发明的具体实施方式进行修改或者等同替换，而未脱离本发明精神和范围的任何修改或者等同替换，其均应涵盖在本发明的权利要求保护范围之内。
