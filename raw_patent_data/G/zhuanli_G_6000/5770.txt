标题title
车辆里程单位确定方法、装置、设备及可读存储介质
摘要abst
本发明提供一种车辆里程单位确定方法、装置、设备及可读存储介质。该方法包括：当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程；读取车辆行驶记录仪在预设时长的起始时刻以及结束时刻记录的里程值；基于起始时刻以及结束时刻记录的里程值确定记录里程；基于理论里程和记录里程确定车辆里程单位。通过本发明，可准确确定车辆的里程单位。
权利要求书clms
1.一种车辆里程单位确定方法，其特征在于，所述车辆里程单位确定方法包括：当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程；读取车辆行驶记录仪在预设时长的起始时刻以及结束时刻记录的里程值；基于起始时刻以及结束时刻记录的里程值确定记录里程；基于理论里程和记录里程确定车辆里程单位。2.如权利要求1所述的车辆里程单位确定方法，其特征在于，所述确定车辆在预设时长的理论里程的步骤包括：计算车辆在预设时长的速度对时间积分，得到车辆在预设时长的理论里程。3.如权利要求2所述的车辆里程单位确定方法，其特征在于，车辆在预设时长的速度根据卫星导航系统确定。4.如权利要求1所述的车辆里程单位确定方法，其特征在于，所述基于起始时刻以及结束时刻记录的里程值确定记录里程的步骤包括：计算结束时刻记录的里程值减去起始时刻记录的里程值的差值，以所述差值作为记录里程。5.如权利要求1所述的车辆里程单位确定方法，其特征在于，所述基于理论里程和记录里程确定车辆里程单位的步骤包括：确定理论里程与记录里程的倍速关系；根据所述倍速关系，确定车辆里程单位。6.如权利要求5所述的车辆里程单位确定方法，其特征在于，所述根据所述倍速关系，确定车辆里程单位的步骤包括：若所述倍速关系为预设倍速关系，则确定车辆里程单位为英里；若所述倍速关系不为预设倍速关系，则确定车辆里程单位为公里。7.如权利要求1至6中任一项所述的车辆里程单位确定方法，其特征在于，所述车辆里程单位确定方法还包括：检测是否能读取到车辆里程单位；若不能读取到车辆里程单位，则执行所述当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程的步骤。8.一种车辆里程单位确定装置，其特征在于，所述车辆里程单位确定装置包括：第一确定模块，用于当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程；读取模块，用于读取车辆行驶记录仪在预设时长的起始时刻以及结束时刻记录的里程值；第二确定模块，用于基于起始时刻以及结束时刻记录的里程值确定记录里程；第三确定模块，用于基于理论里程和记录里程确定车辆里程单位。9.一种车辆里程单位确定设备，其特征在于，所述车辆里程单位确定设备包括处理器、存储器、以及存储在所述存储器上并可被所述处理器执行的车辆里程单位确定程序，其中所述车辆里程单位确定程序被所述处理器执行时，实现如权利要求1至7中任一项所述的车辆里程单位确定方法的步骤。10.一种可读存储介质，其特征在于，所述可读存储介质上存储有车辆里程单位确定程序，其中所述车辆里程单位确定程序被处理器执行时，实现如权利要求1至7中任一项所述的车辆里程单位确定方法的步骤。
说明书desc
技术领域本发明涉及车辆检测技术领域，尤其涉及一种车辆里程单位确定方法、装置、设备及可读存储介质。背景技术一些租售企业的商业模式是用户通过支付汽车价值的小部分首付后，按月支付租金。一般租赁的合约大概2年，要求每年行驶里程控制在10000-15000英里以内、如果超出该限制，则会收取里程超出费，通常以每英里为单位进行收费，租约期满后用户可以继续租车或者以汽车的剩余价值购买。通过GNSS计算里程受GNSS信号覆盖的影响，存在准确度不高的问题，所以租售企业需要使用OBD设备，从用户车辆直接获取行驶里程并上报平台进行计费。而不同车厂或不同国家生产的车辆，对于行驶里程单位存在不确定性，有些是英里有些是千米，且针对有些车型OBD不能获取到行驶里程单位，这就会导致OBD终端上报行驶里程存在不准确的问题，引起用户里程计费混乱或错误。发明内容本发明的主要目的在于提供一种车辆里程单位确定方法、装置、设备及可读存储介质，旨在解决现有技术中OBD设备不能获取车辆里程单位的技术问题。第一方面，本发明提供一种车辆里程单位确定方法，所述车辆里程单位确定方法包括：当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程；读取车辆行驶记录仪在预设时长的起始时刻以及结束时刻记录的里程值；基于起始时刻以及结束时刻记录的里程值确定记录里程；基于理论里程和记录里程确定车辆里程单位。可选的，所述确定车辆在预设时长的理论里程的步骤包括：计算车辆在预设时长的速度对时间积分，得到车辆在预设时长的理论里程。可选的，车辆在预设时长的速度根据卫星导航系统确定。可选的，所述基于起始时刻以及结束时刻记录的里程值确定记录里程的步骤包括：计算结束时刻记录的里程值减去起始时刻记录的里程值的差值，以所述差值作为记录里程。可选的，所述基于理论里程和记录里程确定车辆里程单位的步骤包括：确定理论里程与记录里程的倍速关系；根据所述倍速关系，确定车辆里程单位。可选的，所述根据所述倍速关系，确定车辆里程单位的步骤包括：若所述倍速关系为预设倍速关系，则确定车辆里程单位为英里；若所述倍速关系不为预设倍速关系，则确定车辆里程单位为公里。可选的，所述车辆里程单位确定方法还包括：检测是否能读取到车辆里程单位；若不能读取到车辆里程单位，则执行所述当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程的步骤。第二方面，本发明还提供一种车辆里程单位确定装置，所述车辆里程单位确定装置包括：第一确定模块，用于当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程；读取模块，用于读取车辆行驶记录仪在预设时长的起始时刻以及结束时刻记录的里程值；第二确定模块，用于基于起始时刻以及结束时刻记录的里程值确定记录里程；第三确定模块，用于基于理论里程和记录里程确定车辆里程单位。第三方面，本发明还提供一种车辆里程单位确定设备，所述车辆里程单位确定设备包括处理器、存储器、以及存储在所述存储器上并可被所述处理器执行的车辆里程单位确定程序，其中所述车辆里程单位确定程序被所述处理器执行时，实现如上所述的车辆里程单位确定方法的步骤。第四方面，本发明还提供一种可读存储介质，所述可读存储介质上存储有车辆里程单位确定程序，其中所述车辆里程单位确定程序被处理器执行时，实现如上所述的车辆里程单位确定方法的步骤。本发明中，当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程；读取车辆行驶记录仪在预设时长的起始时刻以及结束时刻记录的里程值；基于起始时刻以及结束时刻记录的里程值确定记录里程；基于理论里程和记录里程确定车辆里程单位。通过本发明，可准确确定车辆的里程单位。附图说明图1为本发明实施例方案中涉及的车辆里程单位确定设备的硬件结构示意图；图2为本发明车辆里程单位确定方法一实施例的流程示意图；图3为图2中步骤S40的细化流程示意图；图4为本发明车辆里程单位确定装置一实施例的功能模块示意图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。第一方面，本发明实施例提供一种车辆里程单位确定设备。参照图1，图1为本发明实施例方案中涉及的车辆里程单位确定设备的硬件结构示意图。本发明实施例中，车辆里程单位确定设备可以包括处理器1001，通信总线1002，用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信；用户接口1003可以包括显示屏、输入单元比如键盘；网络接口1004可选的可以包括标准的有线接口、无线接口；存储器1005可以是高速随机存取存储器，也可以是稳定的存储器，例如磁盘存储器，存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图1中示出的硬件结构并不构成对本发明的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。继续参照图1，图1中作为一种计算机存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及车辆里程单位确定程序。其中，处理器1001可以调用存储器1005中存储的车辆里程单位确定程序，并执行本发明实施例提供的车辆里程单位确定方法。第二方面，本发明实施例提供了一种车辆里程单位确定方法。一实施例中，参照图2，图2为本发明车辆里程单位确定方法一实施例的流程示意图。如图2所示，车辆里程单位确定方法包括：步骤S10，当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程；本实施例中，车辆上安装OBD设备后，以OBD设备作为本实施例的执行主体或是以与OBD设备建立了通信连接的处理设备作为执行主体。OBD是英文On-Board Diagnostics的缩写，中文翻译为“车载自动诊断系统”。可以通过该系统读取出车辆ECU中的相关信息，包括车速、里程、转速、剩余油量、进气量、车辆故障码等系列车辆参数，OBD设备即搭载有OBD的设备。在本实施例中，通过OBD设备对车辆的速度进行实时监控，若车辆速度大于预设速度且保持了预设时长，则进一步确定车辆在预设时长的理论里程。进一步地，一实施例中，确定车辆在预设时长的理论里程的步骤包括：计算车辆在预设时长的速度对时间积分，得到车辆在预设时长的理论里程。本实施例中，基于车辆在预设时长的速度以及预设时长的大小，即可计算车辆在预设时长的速度对时间积分，并以得到的值作为车辆在预设时长的理论里程。其中，车辆在预设时长的速度可通过多种方式确定，例如读取速度传感器的值或基于卫星导航系统确定等等。进一步地，一实施例中，车辆在预设时长的速度根据卫星导航系统确定。本实施例中，在OBD设备上集成GNSS定位模组、加速度传感器和陀螺仪以及通讯模组后，可将相关的车辆行驶速度、行驶里程、实时位置、驾驶员驾驶行为、车辆故障码等车辆的相关数据上报到平台管理。其中，根据卫星导航系统即可确定车辆在预设时长的速度。其中，卫星导航系统可以是GPS也可以是GNSS或是其他具有同样功能的系统，在此不作限制。步骤S20，读取车辆行驶记录仪在预设时长的起始时刻以及结束时刻记录的里程值；本实施例中，例如监测到车辆在T1～T2这段预设时长的速度大于预设速度，则读取车辆行驶记录仪在预设时长的起始时刻T1记录的里程值S1以及车辆行驶记录仪在预设时长的结束时刻T2记录的里程值S2。步骤S30，基于起始时刻以及结束时刻记录的里程值确定记录里程；本实施例中，根据上述S1和S2即可求得车辆在T1～T2这段预设时长行驶过的里程，记作记录里程。进一步地，一实施例中，步骤S30包括：计算结束时刻记录的里程值减去起始时刻记录的里程值的差值，以所述差值作为记录里程。本实施例中，以结束时刻记录的里程值减去起始时刻记录的里程值，得到的差值即可作为记录里程。步骤S40，基于理论里程和记录里程确定车辆里程单位。本实施例中，根据步骤S10确定的理论里程是以公里为单位的数值，将理论里程和记录里程进行比较，若理论里程和记录里程的差值很小，则说明记录里程的单位也是公里，即确定车辆里程单位为公里；否则可以确定理论里程和记录里程对应的单位不一样，从而确定车辆里程单位为非公里。在确定车辆里程单位后，可进一步在OBD设备中通过标志位对当前确定的车辆里程单位进行标记，并在OBD设备从车辆拔出后，删除该标志位，可以防止后续OBD设备插入其他车辆后引起的误判。进一步地，一实施例中，参照图3，图3为图2中步骤S40的细化流程示意图。如图3所示，步骤S40包括：步骤S401，确定理论里程与记录里程的倍速关系；本实施例中，确定理论里程与记录里程的倍速关系，可以是确定理论里程是记录里程的多少倍，即理论里程＝N*记录里程；当然还可以是确定记录里程是理论里程的多少倍，即记录里程＝N*理论里程。步骤S402，根据所述倍速关系，确定车辆里程单位。本实施例中，车辆的里程单位一般为公里或英里，而英里与公里的换算公式为：1英里＝1.609344公里基于此，结合倍速关系，即可确定车辆里程单位是公里还是英里。进一步地，一实施例中，步骤S402包括：若所述倍速关系为预设倍速关系，则确定车辆里程单位为英里；若所述倍速关系不为预设倍速关系，则确定车辆里程单位为公里。本实施例中，以倍速关系为理论里程＝N*记录里程，若N值在预设范围内，其中预设范围例如设置为1.59～1.61，则说明记录里程的单位为英里，则确定车辆里程单位为英里。需要说明的是，预设范围基于1.609344进行设置，例如以1.609344为中心值，上下加减0.5进行设置。此处仅为对预设范围的示意性说明，不构成对预设范围的限制。当然，倍速关系还可以是记录里程＝N*理论里程，若N值在预设范围内，则说明记录里程的单位为英里，则确定车辆里程单位为英里。需要说明的是，预设范围基于1/1.609344进行设置，例如以1/1.609344为中心值，上下加减预设值进行设置。此处仅为对预设范围的示意性说明，不构成对预设范围的限制。进一步地，一实施例中，车辆里程单位确定方法还包括：检测是否能读取到车辆里程单位；若不能读取到车辆里程单位，则执行步骤S10。本实施例中，首先检测OBD设备读取的数据中是否包含车辆里程单位，若不包含，则执行步骤S10，即执行步骤S10～步骤S40的流程，从而确定车辆里程单位。本实施例中，当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程；读取车辆行驶记录仪在预设时长的起始时刻以及结束时刻记录的里程值；基于起始时刻以及结束时刻记录的里程值确定记录里程；基于理论里程和记录里程确定车辆里程单位。通过本实施例，可准确确定车辆的里程单位。第三方面，本发明实施例还提供一种车辆里程单位确定装置。一实施例中，参照图4，图4为本发明车辆里程单位确定装置一实施例的功能模块示意图。如图4所示，车辆里程单位确定装置包括：第一确定模块10，用于当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程；读取模块20，用于读取车辆行驶记录仪在预设时长的起始时刻以及结束时刻记录的里程值；第二确定模块30，用于基于起始时刻以及结束时刻记录的里程值确定记录里程；第三确定模块40，用于基于理论里程和记录里程确定车辆里程单位。进一步地，一实施例中，第一确定模块10，用于：计算车辆在预设时长的速度对时间积分，得到车辆在预设时长的理论里程。进一步地，一实施例中，车辆在预设时长的速度根据卫星导航系统确定。进一步地，一实施例中，第二确定模块30，用于：计算结束时刻记录的里程值减去起始时刻记录的里程值的差值，以所述差值作为记录里程。进一步地，一实施例中，第三确定模块40，用于：确定理论里程与记录里程的倍速关系；根据所述倍速关系，确定车辆里程单位。进一步地，一实施例中，第三确定模块40，用于：若所述倍速关系为预设倍速关系，则确定车辆里程单位为英里；若所述倍速关系不为预设倍速关系，则确定车辆里程单位为公里。进一步地，一实施例中，车辆里程单位确定装置还包括执行模块，用于：检测是否能读取到车辆里程单位；若不能读取到车辆里程单位，则执行所述当车辆在预设时长的速度大于预设速度时，确定车辆在预设时长的理论里程的步骤。其中，上述车辆里程单位确定装置中各个模块的功能实现与上述车辆里程单位确定方法实施例中各步骤相对应，其功能和实现过程在此处不再一一赘述。第四方面，本发明实施例还提供一种可读存储介质。本发明可读存储介质上存储有车辆里程单位确定程序，其中所述车辆里程单位确定程序被处理器执行时，实现如上述的车辆里程单位确定方法的步骤。其中，车辆里程单位确定程序被执行时所实现的方法可参照本发明车辆里程单位确定方法的各个实施例，此处不再赘述。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在如上所述的一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
