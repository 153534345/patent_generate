标题title
NAND闪存实现多位数据卷积运算的方法
摘要abst
本发明提供了一种NAND闪存实现多位数据卷积运算的方法，包括将同一条字线连接的若干存储单元分为若干组存储单元，根据子权重数据与子特征数据的对应关系，将子权重数据写入若干组存储单元中，且一组存储单元仅存储一个权重数据，一组存储单元中的一个存储单元仅存储子权重数据的1位数据，通过若干字线向若干组存储单元施加目标电压，通过相对应的若干页缓存器感知存储块的电流，以得到若干子数据，对若干子数据进行数据处理，以得到卷积结果，采用通用的NAND闪存实现多位数据的神经网络运算。
权利要求书clms
1.一种NAND闪存实现多位数据卷积运算的方法，其特征在于，包括以下步骤：S0：提供NAND闪存，所述NAND闪存包括若干存储块和若干页缓存器，所述存储块包括若干突触串、若干位线和若干字线，所述突触串包括若干串联的存储单元，所述突触串与所述位线一一对应连接，所述字线连接所有所述突触串，所述页缓存器与所有所述存储块连接，且一条位线仅与一个所述页缓存器连接；S1：权重数据包括若干子权重数据，所述子权重数据均为m位数据，m为大于或等于2的整数，特征数据包括若干子特征数据，一个所述子权重数据对应至少一个子权重数据，所述子特征数据与所述存储块一一对应，将同一条字线连接的若干存储单元分为若干组存储单元，根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，且一组存储单元仅存储一个所述子权重数据，一组存储单元中的一个存储单元仅存储所述子权重数据的1位数据；S2：通过若干所述字线向若干组存储单元施加目标电压；S3：通过相对应的若干所述页缓存器感知所述存储块的电流，以得到若干子数据；S4：对若干所述子数据进行数据处理，以得到卷积结果。2.根据权利要求1所述的NAND闪存实现多位数据卷积运算的方法，其特征在于，所述根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，包括：按照所述子权重数据与所述子特征数据的对应关系，将与一个所述子特征数据对应的所有所述子权重数据写入与所述子特征数据对应的存储块的不同组存储单元中。3.根据权利要求2所述的NAND闪存实现多位数据卷积运算的方法，其特征在于，所述根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，还包括：将结果发生关联的若干子权重数据写入不同存储块共用若干位线的各组存储单元中，且若干子权重数据的相同位数据分别写入与同一位线连接的不同存储单元中。4.根据权利要求3所述的NAND闪存实现多位数据卷积运算的方法，其特征在于，所述卷积结果包括若干子卷积结果，所述对若干所述子数据进行数据处理，以得到卷积结果，包括：根据相关联的若干子数据以及相对应的若干所述子权重数据的位数得到子卷积结果。5.根据权利要求4所述的NAND闪存实现多位数据卷积运算的方法，其特征在于，所述根据相关联的若干子数据以及相对应的若干所述子权重数据的位数得到子卷积结果，包括：将相关联的若干所述子数据与相对应的位数参数相乘，以得到若干中间数据，所述位数参数为2n，n为所述子数据对应的所述子权重数据的位数；将若干所述中间数据相加，以得到子卷积结果。6.根据权利要求2所述的NAND闪存实现多位数据卷积运算的方法，其特征在于，所述目标电压包括若干子目标电压，所述子目标电压与所述子特征数据一一对应，所述通过若干所述字线向若干组存储单元施加目标电压，包括：向与所述子特征数据对应的存储块的所有所述存储单元施加与所述子特征数据对应的子目标电压，并通过所在字线保持。7.根据权利要求1所述的NAND闪存实现多位数据卷积运算的方法，其特征在于，还包括：将所述卷积结果作为新的特征数据，重复执行所述步骤S1至步骤S3，以实现下一层卷积运算。8.根据权利要求1所述的NAND闪存实现多位数据卷积运算的方法，其特征在于，所述通过相对应的若干所述页缓存器感知所述存储块的电流，以得到若干子数据，包括：将所述页缓存器的感知时间划分为N段；通过所述位线对所述页缓存器的预充电电压进行放电，直至所述页缓存器的预充电电压小于阈值电压，并记录此时为第M段；根据M和N得到子数据，M和N为大于0的自然数。9.根据权利要求1所述的NAND闪存实现多位数据卷积运算的方法，其特征在于，还包括目标电压校准步骤，所述目标电压校准步骤包括：将阈值电压写入所述NAND闪存的大小为Y×Z的存储单元矩阵中，Y表示一条位线连接的存储单元数量，Z表示存储块的数量；调整字线电压，使得Y个页缓存器测得的平均电流为X×Z，则字线电压为X，对应的特征数据为X；根据字线电压以及对应的特征数据，得到所述目标电压。
说明书desc
技术领域本发明涉及NAND闪存技术领域，尤其涉及一种NAND闪存实现多位数据卷积运算的方法。背景技术现有技术中神经网络运算基于NOR内存架构或者ReRAM/PCM内存架构，需要具有不同标准内存阵列的特定内存阵列结构，在进行多位数据的卷积运算是，需要大量外围电路支持神经网络运算，成本高，不适合大批量生产。因此，有必要提供一种新型的NAND闪存实现多位数据卷积运算的方法以解决现有技术中存在的上述问题。发明内容本发明的目的在于提供一种NAND闪存实现多位数据卷积运算的方法，采用通用的NAND闪存实现多位数据的神经网络运算。为实现上述目的，本发明的所述NAND闪存实现多位数据卷积运算的方法，包括以下步骤：S0：提供NAND闪存，所述NAND闪存包括若干存储块和若干页缓存器，所述存储块包括若干突触串、若干位线和若干字线，所述突触串包括若干串联的存储单元，所述突触串与所述位线一一对应连接，所述字线连接所有所述突触串，所述页缓存器与所有所述存储块连接，且一条位线仅与一个所述页缓存器连接；S1：权重数据包括若干子权重数据，所述子权重数据均为m位数据，m为大于或等于2的整数，特征数据包括若干子特征数据，一个所述子权重数据对应至少一个子权重数据，所述子特征数据与所述存储块一一对应，将同一条字线连接的若干存储单元分为若干组存储单元，根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，且一组存储单元仅存储一个所述子权重数据，一组存储单元中的一个存储单元仅存储所述子权重数据的1位数据；S2：通过若干所述字线向若干组存储单元施加目标电压；S3：通过相对应的若干所述页缓存器感知所述存储块的电流，以得到若干子数据；S4：对若干所述子数据进行数据处理，以得到卷积结果。所述NAND闪存实现多位数据卷积运算的方法的有益效果在于：将同一条字线连接的若干存储单元分为若干组存储单元，根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，且一组存储单元仅存储一个所述权重数据，一组存储单元中的一个存储单元仅存储所述子权重数据的1位数据，通过若干所述字线向若干组存储单元施加目标电压，通过相对应的若干所述页缓存器感知所述存储块的电流，以得到若干子数据，对若干所述子数据进行数据处理，以得到卷积结果，采用通用的NAND闪存实现多位数据的神经网络运算。可选地，所述根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，包括：按照所述子权重数据与所述子特征数据的对应关系，将与一个所述子特征数据对应的所有所述子权重数据写入与所述子特征数据对应的存储块的不同组存储单元中。可选地，所述根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，还包括：将结果发生关联的若干子权重数据写入不同存储块共用若干位线的各组存储单元中，且若干子权重数据的相同位数据分别写入与同一位线连接的不同存储单元中。可选地，所述卷积结果包括若干子卷积结果，所述对若干所述子数据进行数据处理，以得到卷积结果，包括：根据相关联的若干子数据以及相对应的若干所述子权重数据的位数得到子卷积结果。可选地，所述根据相关联的若干子数据以及相对应的若干所述子权重数据的位数得到子卷积结果，包括：将相关联的若干所述子数据与相对应的位数参数相乘，以得到若干中间数据，所述位数参数为2n，n为所述子数据对应的所述子权重数据的位数；将若干所述中间数据相加，以得到子卷积结果。可选地，所述目标电压包括若干子目标电压，所述子目标电压与所述子特征数据一一对应，所述通过若干所述字线向若干组存储单元施加目标电压，包括：向与所述子特征数据对应的存储块的所有所述存储单元施加与所述子特征数据对应的子目标电压，并通过所在字线保持。可选地，所述NAND闪存实现多位数据卷积运算的方法还包括：将所述卷积结果作为新的特征数据，重复执行所述步骤S1至步骤S3，以实现下一层卷积运算。可选地，所述通过相对应的若干所述页缓存器感知所述存储块的电流，以得到若干子数据，包括：将所述页缓存器的感知时间划分为N段；通过所述位线对所述页缓存器的预充电电压进行放电，直至所述页缓存器的预充电电压小于阈值电压，并记录此时为第M段；根据M和N得到子数据，M和N为大于0的自然数。可选地，所述NAND闪存实现多位数据卷积运算的方法还包括目标电压校准步骤，所述目标电压校准步骤包括：将阈值电压写入所述NAND闪存的大小为Y×Z的存储单元矩阵中，Y表示一条位线连接的存储单元数量，Z表示存储块的数量；调整字线电压，使得Y个页缓存器测得的平均电流为X×Z，则字线电压为X，对应的特征数据为X；根据字线电压以及对应的特征数据，得到所述目标电压。附图说明图1为本发明一些实施例中NAND闪存实现神经网络运算的控制方法的流程图；图2为本发明一些实施例中特征数据的模型示意图；图3为本发明一些实施例中权重数据的模型示意图；图4为本发明一些实施例中NAND闪存的结构示意图；图5为本发明一些实施例中页缓存器的电路示意图；图6为本发明一些实施例中图5所示页缓存器的时序示意图；图7为本发明另一些实施例中页缓存器的电路示意图；图8为本发明一些实施例中图7所示页缓存器的时序示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合本发明的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明的一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。除非另外定义，此处使用的技术术语或者科学术语应当为本发明所属领域内具有一般技能的人士所理解的通常意义。本文中使用的“包括”等类似的词语意指出现该词前面的元件或者物件涵盖出现在该词后面列举的元件或者物件及其等同，而不排除其他元件或者物件。针对现有技术存在的问题，本发明的实施例提供了一种NAND闪存实现多位数据卷积运算的方法。参照图1，所述NAND闪存实现多位数据卷积运算的方法包括以下步骤：S0：提供NAND闪存，所述NAND闪存包括若干存储块和若干页缓存器，所述存储块包括若干突触串、若干位线和若干字线，所述突触串包括若干串联的存储单元，所述突触串与所述位线一一对应连接，所述字线连接所有所述突触串，所述页缓存器与所有所述存储块连接，且一条位线仅与一个所述页缓存器连接；S1：权重数据包括若干子权重数据，所述子权重数据均为m位数据，m为大于或等于2的整数，特征数据包括若干子特征数据，一个所述子权重数据对应至少一个子权重数据，所述子特征数据与所述存储块一一对应，将同一条字线连接的若干存储单元分为若干组存储单元，根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，且一组存储单元仅存储一个所述子权重数据，一组存储单元中的一个存储单元仅存储所述子权重数据的1位数据；S2：通过若干所述字线向若干组存储单元施加目标电压；S3：通过相对应的若干所述页缓存器感知所述存储块的电流，以得到若干子数据；S4：对若干所述子数据进行数据处理，以得到卷积结果。一些实施例中，所述根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，包括：按照所述子权重数据与所述子特征数据的对应关系，将与一个所述子特征数据对应的所有所述子权重数据写入与所述子特征数据对应的存储块的不同组存储单元中。一些实施例中，所述根据所述子权重数据与所述子特征数据的对应关系，将所述子权重数据写入若干组存储单元中，还包括：将结果发生关联的若干子权重数据写入不同存储块共用若干位线的各组存储单元中，且若干子权重数据的相同位数据分别写入与同一位线连接的不同存储单元中。一些实施例中，所述卷积结果包括若干子卷积结果，所述对若干所述子数据进行数据处理，以得到卷积结果，包括：根据相关联的若干子数据以及相对应的若干所述子权重数据的位数得到子卷积结果。一些实施例中，所述根据相关联的若干子数据以及相对应的若干所述子权重数据的位数得到子卷积结果，包括：将相关联的若干所述子数据与相对应的位数参数相乘，以得到若干中间数据，所述位数参数为2n，n为所述子数据对应的所述子权重数据的位数；将若干所述中间数据相加，以得到子卷积结果。一些实施例中，所述目标电压包括若干子目标电压，所述子目标电压与所述子特征数据一一对应，所述通过若干所述字线向若干组存储单元施加目标电压，包括：向与所述子特征数据对应的存储块的所有所述存储单元施加与所述子特征数据对应的子目标电压，并通过所在字线保持。一些实施例中，所述NAND闪存实现多位数据卷积运算的方法还包括：将所述卷积结果作为新的特征数据，重复执行所述步骤S1至步骤S3，以实现下一层卷积运算。图2为本发明一些实施例中特征数据的模型示意图。图3为本发明一些实施例中权重数据的模型示意图。参照图2和图3，A1、A2、A3、至A23、A24、A25均为子特征数据，W1、W2、W3至W7、W8、W9均为子权重数据。参照图2和图3，当进行卷积运算时，包括9个卷积运算过程，分别为：A1×W1+A2×W2+A3×W3+A6×W4+A7×W5+A8×W6+A11×W7+A12×W8+A13×W9，得到第一个子卷积结果B1；A2×W1+A3×W2+A4×W3+A7×W4+A8×W5+A9×W6+A12×W7+A13×W8+A14×W9，得到第二个子卷积结果B2；A3+A4+A5+A8+A9+A10+A13+A14+A15，得到第三个子卷积结果B3；A6+A7+A8+A11+A12+A13+A16+A17+A18，得到第四个子卷积结果B4；A7+A8+A9+A12+A13+A14+A17+A18+A19，得到第五个子卷积结果B5；A8+A9+A10+A13+A14+A15+A18+A19+A20，得到第六个子卷积结果B6；A11+A12+A13+A16+A17+A18+A21+A22+A23，得到第七个子卷积结果B7；A12+A13+A14+A17+A18+A19+A22+A23+A24，得到第八个子卷积结果B8；A13+A14+A15+A18+A19+A20+A23+A24+A25，得到第九个子卷积结果B9。其中，子权重数据W1与子特征数据A1对应，子权重数据W1、子权重数据W2与子特征数据A2对应，子权重数据W1、子权重数据W2、子权重数据W3与子特征数据A3对应，子权重数据W2、子权重数据W3与子特征数据A4对应，子权重数据W3与子特征数据A5对应，子权重数据W1、子权重数据W4与子特征数据A6对应，子权重数据W1、子权重数据W2、子权重数据W4、子权重数据W5与子特征数据A7对应，子权重数据W1、子权重数据W2、子权重数据W3、子权重数据W4、子权重数据W5、子权重数据W6与子特征数据A8对应，子权重数据W2、子权重数据W3、子权重数据W5、子权重数据W6与子特征数据A6对应，子权重数据W3、子权重数据W6与子特征数据A10对应，子权重数据W1、子权重数据W4、子权重数据W7与子特征数据A11对应，子权重数据W1、子权重数据W2、子权重数据W4、子权重数据W5、子权重数据W8与子特征数据A12对应，子权重数据W1、子权重数据W2、子权重数据W3、子权重数据W4、子权重数据W5、子权重数据W6、子权重数据W7、子权重数据W8、子权重数据W9与子特征数据A13对应，子权重数据W2、子权重数据W3、子权重数据W5、子权重数据W6、子权重数据W8、子权重数据W9与子特征数据A14对应，子权重数据W3、子权重数据W6、子权重数据W9与子特征数据A15对应，子权重数据W4、子权重数据W7与子特征数据A16对应，子权重数据W4、子权重数据W5、子权重数据W7、子权重数据W8与子特征数据A17，子权重数据W4、子权重数据W5、子权重数据W6、子权重数据W7、子权重数据W8、子权重数据W9与子特征数据A18对应，子权重数据W5、子权重数据W6、子权重数据W8、子权重数据W9与子特征数据A19对应，子权重数据W6、子权重数据W9与子特征数据A20对应，子权重数据W7与子特征数据A21对应，子权重数据W7、子权重数据W8与子特征数据A22对应，子权重数据W7、子权重数据W8、子权重数据W9与子特征数据A23对应，子权重数据W8、子权重数据W9与子特征数据A24对应，子权重数据W9与子特征数据25对应。图4为本发明一些实施例中NAND闪存的结构示意图。参照图4，所述NAND闪存包括y个存储块和m+2个页缓存器，所述存储块均包括m+2个突触串、m+2条位线、三条字线、一条漏极侧选择栅极线、一条源极侧选择栅极线，所述突触串包括漏极侧选通管、源极侧选通管和三个存储单元，三个存储单元分别为第一存储单元、第二存储单元和第三存储单元，所述漏极侧选通管、所述第一存储单元、所述第二存储单元、所述第三存储单元、所述源极侧选通管依次串联，第一个突触串中漏极侧选通管与第一条位线BL0连接，第二个突触串中漏极侧选通管与第二条位线BL1连接，以此类推，第m+1个突触串中漏极侧选通管与第m+1条位线BLm连接，第m+2个突触串中漏极侧选通管与第m+2条位线BLm+1连接。参照图4，第一个存储块block1的第一条位线BL0、第二个存储块的第一条位线BL0至第y个存储块的第一条位线BL0均与第一个页缓存器连接，第一个存储块的第二条位线BL1、第二个存储块的第二条位线BL1至第y个存储块的第二条位线BL1均与第二个页缓存器连接，依次类推，第一个存储块的第m+1条位线BLm、第二个存储块的第m+1条位线BLm至第y个存储块的第m+1条位线BLm均与第m+1个页缓存器连接，第一个存储块的第m+2条位线BLm+1、第二个存储块的第m+2条位线BLm+1至第y个存储块blocky的第m+2条位线BLm+1均与第m+2个页缓存器连接。参照图3和图4，所述子权重数据W1、所述子权重数据W2、所述子权重数据W3、所述子权重数据W4、所述子权重数据W5、所述子权重数据W6、所述子权重数据W7、所述子权重数据W8、所述子权重数据W9均为8位的二进制数据，将子权重数据W1的第7位数据W1_7写入第一个存储块block1的第一个突触串的第二存储单元中，将子权重数据W1的第6位数据W1_6写入第一个存储块block1的第二个突触串的第二存储单元中，依次类推，将子权重数据W1的第0位数据W1_0写入第一个存储块block1的第八个突触串的第二存储单元中。其中，第一个存储块block1中的第一个突触串的第二存储单元、第二个突触串的第二存储单元至第八个突触串的第二个存储单元即为一组存储单元。参照图3和图4，将子权重数据W2的第7位数据W2_7写入第二个存储块的第一个突触串的第二存储单元中，将子权重数据W2的第6位数据W2_6写入第二个存储块的第二个突触串的第二存储单元中，依次类推，将子权重数据W2的第0位数据W2_0写入第二个存储块的第八个突触串的第二存储单元中；将子权重数据W1的第7位数据W1_7写入第二个存储块的第九个突触串的第二存储单元中，将子权重数据W1的第6位数据W1_6写入第二个存储块的第十个突触串的第二存储单元中，依次类推，将子权重数据W1的第0位数据W1_0写入第二个存储块的第十六个突触串的第二存储单元中。参照图3和图4，将子权重数据W3的第7位数据W3_7写入第三个存储块的第一个突触串的第二存储单元中，将子权重数据W3的第6位数据W3_6写入第三个存储块的第二个突触串的第二存储单元中，依次类推，将子权重数据W3的第0位数据W3_0写入第三个存储块的第八个突触串的第二存储单元中；将子权重数据W2的第7位数据W2_7写入第三个存储块的第九个突触串的第二存储单元中，将子权重数据W2的第6位数据W2_6写入第三个存储块的第十个突触串的第二存储单元中，依次类推，将子权重数据W2的第0位数据W2_0写入第三个存储块的第十六个突触串的第二存储单元中；将子权重数据W1的第7位数据W1_7写入第三个存储块的第十九突触串的第二存储单元中，将子权重数据W1的第6位数据W1_6写入第三个存储块的第二十突触串的第二存储单元中，依次类推，将子权重数据W1的第7位数据W1_7写入第三个存储块的第二十四突触串的第二存储单元中。参照图3和图4，将子权重数据W3的第7位数据W3_7写入第四个存储块的第九个突触串的第二存储单元中，将子权重数据W3的第6位数据W3_6写入第十个存储块的第三个突触串的第二存储单元中，依次类推，将子权重数据W3的第0位数据W3_0写入第四个存储块的第十六个突触串的第二存储单元中；将子权重数据W2的第7位数据W2_7写入第四个存储块的第十七个突触串的第二个存储单元中，将子权重数据W2的第6位数据W2_6写入第四个存储块的第十八个突触串的第二个存储单元中，依次类推，将子权重数据W2的第7位数据W2_7写入第四个存储块的第二十四个突触串的第二个存储单元中。参照图3和图4，将子权重数据W3的第7位数据W3_7写入第五个存储块的第十七个突触串的第二存储单元中，将子权重数据W3的第6位数据W3_6写入第五个存储块的第十八个突触串的第二存储单元中，依次类推，将子权重数据W3的第0位数据W3_7写入第五个存储块的第二十四个突触串的第二存储单元中。参照图3和图4，将子权重数据W4的第7位数据W4_7写入第六个存储块的第一个突触串的第二存储单元中，将子权重数据W4的第6位数据W4_6写入第六个存储块的第二个突触串的第二存储单元中，依次类推，将子权重数据W4的第0位数据W4_0写入第六个存储块的第八个突触串的第二存储单元中；将子权重数据W1的第7位数据W1_7写入第六个存储块的第二十五个突触串的第二存储单元中，将子权重数据W1的第6位数据W1_6写入第六个存储块的第二十六个突触串的第二存储单元中，依次类推，将子权重数据W1的第0位数据W1_0写入第六个存储块的第三十二个突触串的第二存储单元中。参照图3和图4，依次类推，将与特征数据A7、特征数据A8、特征数据A9、特征数据A10、特征数据A11、特征数据A12、特征数据A13、特征数据A14、特征数据A15、特征数据A16、特征数据A17、特征数据A18、特征数据A19、特征数据A20、特征数据A21、特征数据A22、特征数据A23、特征数据A24、特征数据A25相对应的子权重数据分别写入第七个存储块、第八个存储块、第九个存储块、第十个存储块、第十一个存储块、第十二个存储块、第十三个存储块、第十四个存储块、第十五个存储块、第十六个存储块、第十七个存储块、第十八个存储块、第十九个存储块、第二十个存储块、第二十一个存储块、第二十二个存储块、第二十三个存储块、第二十四个存储块、第二十五个存储块相对应的存储单元中。参照图3和图4，向第一个存储块的所有字线施加第一目标电压，向第二个存储块的所有字线施加第二目标电压，向第三个存储块的所有字线施加第三目标电压，向第四个存储块的所有字线施加第四目标电压，向第五个存储块的所有字线施加第五目标电压，向第六个存储块的所有字线施加第六目标电压，向第七个存储块的所有字线施加第七目标电压，向第八个存储块的所有字线施加第八目标电压，向第九个存储块的所有字线施加第九目标电压，向第十个存储块的所有字线施加第十目标电压，向第十一个存储块的所有字线施加第十一目标电压，向第十二个存储块的所有字线施加第十二目标电压，向第十三个存储块的所有字线施加第十三目标电压，向第十四个存储块的所有字线施加第十四目标电压，向第十五个存储块的所有字线施加第十五目标电压，向第十六个存储块的所有字线施加第十六目标电压，向第十七个存储块的所有字线施加第十七目标电压，向第十八个存储块的所有字线施加第十八目标电压，向第十九个存储块的所有字线施加第十九目标电压，向第二十个存储块的所有字线施加第二十目标电压，向第二十一个存储块的所有字线施加第二十一目标电压，向第二十二个存储块的所有字线施加第二十二目标电压，向第二十三个存储块的所有字线施加第二十三目标电压，向第二十四个存储块的所有字线施加第二十四目标电压，向第二十五个存储块的所有字线施加第二十五目标电压。其中，所述第一目标电压即子特征数据A1，所述第二目标电压即子特征数据A2，所述第三目标电压即子特征数据A3，所述第四目标电压即子特征数据A4，所述第五目标电压即子特征数据A5，所述第六目标电压即子特征数据A6，所述第七目标电压即子特征数据A7，所述第八目标电压即子特征数据A8，所述第九目标电压即子特征数据A9，所述第十目标电压即子特征数据A10，所述第十一目标电压即子特征数据A11，所述第十二目标电压即子特征数据A12，所述第十三目标电压即子特征数据A13，所述第十四目标电压即子特征数据A14，所述第十五目标电压即子特征数据A15，所述第十六目标电压即子特征数据A16，所述第十七目标电压即子特征数据A17，所述第十八目标电压即子特征数据A18，所述第十九目标电压即子特征数据A19，所述第二十目标电压即子特征数据A20，所述第二十一目标电压即子特征数据A21，所述第二十二目标电压即子特征数据A22，所述第二十三目标电压即子特征数据A23，所述第二十四目标电压即子特征数据A24，所述第二十五目标电压即子特征数据A25。参照图3，所述NAND闪存还包括数据选择器，所述数据选择器的输出端与所述存储块连接，所述数据选择器的第一输入端与漏极侧栅极选定驱动单元连接，所述数据选择器的第二输入端与字线驱动单元连接，所述数据选择器的第三输入端与源极侧栅极选定驱动单元连接，以向不同所述存储块的字线、漏极侧选择栅极线、源极侧选择栅极线传输信号。参照图2、图3和图4，所述页缓存器感知所述存储块的电流时，打开第一个存储块至第二十五个存储块中所有的漏极侧选通管，第一个页缓存器感知的电流对应子数据AW7=A1×W1_7+ A2×W2_7+ A3×W3_7+ A6×W4_7+ A7×W5_7+ A8×W6_7+ A11×W7_7+ A12×W8_7+ A13×W9_7；第二个页缓存器感知的电流对应子数据AW6= A1×W1_6+ A2×W2_6+ A3×W3_6+ A6×W4_6+ A7×W5_6+ A8×W6_6+ A11×W7_6+ A12×W8_6+ A13×W9_6；依次类推；第三个页缓存器感知的电流对应子数据AW5，第四个页缓存器感知的电流对应子数据AW4，第五个页缓存器感知的电流对应子数据AW3，第六个页缓存器感知的电流对应子数据AW2，第七个页缓存器感知的电流对应子数据AW1，第八个页缓存器感知的电流对应子数据AW0。则子卷积结果为AW7×27+ AW6×26+ AW5×26+ AW4×24+ AW3×23+ AW2×22+ AW1×21+ AW0×20。图5为本发明一些实施例中页缓存器的电路示意图。参照图5，所述页缓存器包括第一PMOS管MP0、第二PMOS管MP1、第一NMOS管MN0、第二NMOS管MN1、第三NMOS管MN2、第四NMOS管MN3、第五NMOS管MN4、电容C和缓存cache，所述第一PMOS管MP0的源极接电源电压vdd，所述第一PMOS管MP0P0的栅极接第一控制信号prech_all，所述第一PMOS管MP0的漏极与所述第二NMOS管MN1的漏极和所述第二PMOS管MP1的源极连接，所述第二NMOS管MN1的栅极接第二控制信号blclamp2，所述第二PMOS管MP1的栅极接第三控制信号blpre，所述第二NMOS管MN1的源极与所述第一NMOS管MN0的漏极和所述第三NMOS管MN2的源极连接，连接点为tdc，所述第一NMOS管MN0的栅极接第四控制信号blclamp，所述第一NMOS管MN0的源极接位线BL，所述第三NMOS管MN2的栅极接第五控制信号tciso，所述第二PMOS管MP1的漏极与所述第四NMOS管MN3的栅极、所述电容C的一端、所述第三NMOS管MN2的漏极连接，连接点为tc，所述电容C的另一端接地，所述第四NMOS管MN3的的源极接地，所述第四NMOS管MN3的漏极与所述第五NMOS管MN4的源极连接，所述第五NMOS管MN4的漏极D与缓存cache连接，所述第五NMOS管MN4的栅极接第六控制信号en。图6为本发明一些实施例中图5所示页缓存器的时序示意图。图6中，T1表示第一阶段，T2表示第二阶段，T3表示第三阶段，MN3 Vt代表所述第四NMOS管的阈值电压，pgmcell表示存储单元为编程状态，erasecell表示表示存储单元为擦除状态，vblclamp表示所述第四控制信号位于高电平时的电压，vblclamp2表示所述第二控制信号blclamp2位于高电平时的电压，vtciso表示所述第五控制信号位于高电平时的电压。图7为本发明另一些实施例中页缓存器的电路示意图。参照图7，所述页缓存器包括第一PMOS管MP0、第二PMOS管MP1、第三PMOS管MP2、第四PMOS管MP3、第一NMOS管MN0、第二NMOS管MN1、第三NMOS管MN2、电容C和缓存cache，所述第一PMOS管MP0的源极接电源电压vdd，所述第一PMOS管MP0P0的栅极接第一控制信号prech_all，所述第一PMOS管MP0的漏极与所述第二NMOS管MN1的漏极和所述第二PMOS管MP1的源极连接，所述第二NMOS管MN1的栅极接第二控制信号blclamp2，所述第二PMOS管MP1的栅极接第三控制信号blpre，所述第二NMOS管MN1的源极与所述第一NMOS管MN0的漏极和所述第三NMOS管MN2的源极连接，连接点为tdc，所述第一NMOS管MN0的栅极接第四控制信号blclamp，所述第一NMOS管MN0的源极接位线BL，所述第三NMOS管MN2的栅极接第五控制信号tciso，所述第二PMOS管MP1的漏极与所述第三PMOS管MP3的栅极、所述电容C的一端、所述第三NMOS管MN2的漏极连接，连接点为tc，所述电容C的另一端接地，所述第三PMOS管MP2的源极接电源电压vdd，所述第三PMOS管MP2的漏极与所述第四PMOS管MP3的源极连接，所述第四PMOS管MP3的漏极D与所述缓存cache连接，所述第四PMOS管MP3的栅极接第六控制信号enb。图8为本发明一些实施例中图7所示页缓存器的时序示意图。图8中，T1表示第一阶段，T2表示第二阶段，T3表示第三阶段，MP2 Vt代表所述第三PMOS管的阈值电压，pgmcell表示存储单元为编程状态，erasecell表示表示存储单元为擦除状态，vblclamp表示所述第四控制信号位于高电平时的电压，vblclamp2表示所述第二控制信号blclamp2位于高电平时的电压，vtciso表示所述第五控制信号位于高电平时的电压。一些实施例中，所述通过所述页缓存器感知所述存储块的电流，以得到卷积结果，包括：将所述页缓存器的感知时间划分为N段；通过所述位线对所述页缓存器的预充电电压进行放电，直至所述页缓存器的预充电电压小于阈值电压，并记录此时为第M段；根据M和N得到卷积结果，M和N为大于0的自然数。参照图5，所述连接点tc出处的电压即所述页缓存器的预充电电压，阈值电压即所述第四NMOS管的阈值电压。其中，第M段之前的各段代表为0，第M段及之后的各段代表1。一些具体实施例中，例如N为10，M为5，则子卷积结果为0000111111。一些实施例中，所述NAND闪存实现多位数据卷积运算的方法还包括目标电压校准步骤，所述目标电压校准步骤包括：将阈值电压写入所述NAND闪存的大小为Y×Z的存储单元矩阵中，Y表示一条位线连接的存储单元数量，Z表示存储块的数量；调整字线电压，使得Y个页缓存器测得的平均电流为X×Z，则字线电压为X，对应的特征数据为X；根据字线电压以及对应的特征数据，得到所述目标电压。虽然在上文中详细说明了本发明的实施方式，但是对于本领域的技术人员来说显而易见的是，能够对这些实施方式进行各种修改和变化。但是，应理解，这种修改和变化都属于权利要求书中所述的本发明的范围和精神之内。而且，在此说明的本发明可有其它的实施方式，并且可通过多种方式实施或实现。
