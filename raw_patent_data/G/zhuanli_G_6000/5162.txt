标题title
一种脉冲信号堆积识别方法
摘要abst
本发明公开了一种脉冲信号堆积识别方法，包括步骤：一、脉冲信号滤波成形并建立信号流水线；二、设置两个呈间隔排布的采样点；三、给定梯形滤波成形后脉冲信号无堆积的斜率变化规律并计算脉冲信号基线值和幅度值；四、脉冲信号堆积识别。本发明满足即时的对脉冲信号堆积识别判断的需求，该方法在脉冲信号经过滤波成形后的流水线上，不仅可以识别不同程度的堆积情况，即时的给出判断结果，还可以计算出脉冲信号的基线值和幅度值，计算性能更加优越。
权利要求书clms
1.一种脉冲信号堆积识别方法，其特征在于，该方法包括以下步骤：步骤一、脉冲信号滤波成形并建立信号流水线：对核脉冲信号进行梯形滤波成形并建立信号流水线；步骤二、设置两个呈间隔排布的采样点：设置两个间隔呈间隔排布的采样点a和采样点b，所述采样点a落后于采样点b，采样点a和采样点b之间的宽度小于梯形平顶的宽度；其中，采样点a比采样点b落后M个采样时刻，M为正整数；步骤三、给定梯形滤波成形后脉冲信号无堆积的斜率变化规律并计算脉冲信号基线值和幅度值：在脉冲信号未发生堆积时，采样点a和采样点b连成的直线斜率K值先上升，当K大于设置的第一斜率阈值时，判断梯形信号的上升沿到来，此时以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此确定脉冲信号的基线值，其中，N不大于M的正整数；K值再趋于零时，判断梯形信号平顶位置到来，以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此计算脉冲信号的峰值，利用峰值和基线值的差值作为脉冲信号的幅度值；K值再小于零时，判断梯形信号的下降沿到来；K值再趋于零时，判断梯形信号结束；步骤四、脉冲信号堆积识别：当采样点a和采样点b连成的直线斜率K值先上升，然后趋于零，再小于零，而后再大于零，此时，判定脉冲信号堆积，该脉冲信号堆积为脉冲信号第一堆积类型；当脉冲信号梯形成形后的脉冲时间间隔等于上升时间与平顶时间之和时，在K值第二次趋于零时，采样点a和采样点b的值均大于零，则判定脉冲信号堆积，该脉冲信号堆积为脉冲信号第二堆积类型；当脉冲信号梯形成形后的脉冲时间间隔小于上升时间与平顶时间之和，并大于上升时间时，根据K值变化识别不到平顶时，则判定脉冲信号堆积，该脉冲信号堆积为脉冲信号第三堆积类型；当脉冲信号梯形成形后的脉冲时间间隔等于上升时间时，若相邻两个脉冲信号幅度相等时，根据K值变化能够识别到平顶时，以采样点a此时开始计算平顶结束后的数据点，如果大于单个梯形脉冲信号的平顶时间，则判定脉冲信号堆积；当两个脉冲幅度不相等时，则识别不到平顶，直接判断脉冲信号堆积，该脉冲信号堆积为脉冲信号第四堆积类型；当脉冲信号梯形成形后的脉冲时间间隔小于上升时间，大于平顶时间时，当两个脉冲幅度不相等时，K值在上升沿和下降沿的变化将会出现波动，超出预置的第二斜率阈值，则判定脉冲信号堆积；当两个脉冲幅度相等时，根据K值变化可以识别出平顶，但是上升沿和下降沿将会出现波动，超过预置的第二斜率阈值，则判断脉冲信号堆积，该脉冲信号堆积为脉冲信号第五堆积类型；当脉冲信号梯形成形后的脉冲时间间隔小于等于平顶时间时，K值在上升沿和下降沿的变化将会出现波动，并且没有平顶时间，则判断脉冲信号堆积，该脉冲信号堆积为脉冲信号第六堆积类型。2.按照权利要求1所述的一种脉冲信号堆积识别方法，其特征在于：所述核脉冲信号为双指数脉冲信号。3.按照权利要求1所述的一种脉冲信号堆积识别方法，其特征在于：所述脉冲信号第一堆积类型为脉冲信号前沿堆积。4.按照权利要求1所述的一种脉冲信号堆积识别方法，其特征在于：所述第一斜率阈值小于梯形信号上升沿斜率，所述第二斜率阈值大于梯形信号上升沿斜率。
说明书desc
技术领域本发明属于脉冲信号堆积识别技术领域，具体涉及一种脉冲信号堆积识别方法。背景技术由于核辐射衰变的随机性，核脉冲信号会发生不同程度的堆积，有效的堆积识别，有利于提高获取能谱的分辨性能。目前，随着信号处理技术和计算机科学的进步，利用数字方式处理脉冲信号的优势得以体现，实时的信号采集和处理也成为未来发展的必然趋势。然而，针对于不同的堆积情况，需要不同的判断方法，在算法实现的过程中，降低了信号处理速度，增加信号处理过程中的死时间。因此需要一种即时的对脉冲信号的堆积情况进行判断的方法。发明内容本发明所要解决的技术问题在于针对上述现有技术中的不足，提供一种脉冲信号堆积识别方法，满足即时的对脉冲信号堆积识别判断的需求，该方法在脉冲信号经过滤波成形后的流水线上，不仅可以识别不同程度的堆积情况，即时的给出判断结果，还可以计算出脉冲信号的基线值和幅度值，计算性能更加优越，便于推广使用。为解决上述技术问题，本发明采用的技术方案是：一种脉冲信号堆积识别方法，其特征在于，该方法包括以下步骤：步骤一、脉冲信号滤波成形并建立信号流水线：对核脉冲信号进行梯形滤波成形并建立信号流水线；步骤二、设置两个呈间隔排布的采样点：设置两个间隔呈间隔排布的采样点a和采样点b，所述采样点a落后于采样点b，采样点a和采样点b之间的宽度小于梯形平顶的宽度；其中，采样点a比采样点b落后M个采样时刻，M为正整数；步骤三、给定梯形滤波成形后脉冲信号无堆积的斜率变化规律并计算脉冲信号基线值和幅度值：在脉冲信号未发生堆积时，采样点a和采样点b连成的直线斜率K值先上升，当K大于设置的第一斜率阈值时，判断梯形信号的上升沿到来，此时以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此确定脉冲信号的基线值，其中，N不大于M的正整数；K值再趋于零时，判断梯形信号平顶位置到来，以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此计算脉冲信号的峰值，利用峰值和基线值的差值作为脉冲信号的幅度值；K值再小于零时，判断梯形信号的下降沿到来；K值再趋于零时，判断梯形信号结束；步骤四、脉冲信号堆积识别：当采样点a和采样点b连成的直线斜率K值先上升，然后趋于零，再小于零，而后再大于零，此时，判定脉冲信号堆积，该脉冲信号堆积为脉冲信号第一堆积类型；当脉冲信号梯形成形后的脉冲时间间隔等于上升时间与平顶时间之和时，在K值第二次趋于零时，采样点a和采样点b的值均大于零，则判定脉冲信号堆积，该脉冲信号堆积为脉冲信号第二堆积类型；当脉冲信号梯形成形后的脉冲时间间隔小于上升时间与平顶时间之和，并大于上升时间时，根据K值变化识别不到平顶时，则判定脉冲信号堆积，该脉冲信号堆积为脉冲信号第三堆积类型；当脉冲信号梯形成形后的脉冲时间间隔等于上升时间时，若相邻两个脉冲信号幅度相等时，根据K值变化能够识别到平顶时，以采样点a此时开始计算平顶结束后的数据点，如果大于单个梯形脉冲信号的平顶时间，则判定脉冲信号堆积；当两个脉冲幅度不相等时，则识别不到平顶，直接判断脉冲信号堆积，该脉冲信号堆积为脉冲信号第四堆积类型；当脉冲信号梯形成形后的脉冲时间间隔小于上升时间，大于平顶时间时，当两个脉冲幅度不相等时，K值在上升沿和下降沿的变化将会出现波动，超出预置的第二斜率阈值，则判定脉冲信号堆积；当两个脉冲幅度相等时，根据K值变化可以识别出平顶，但是上升沿和下降沿将会出现波动，超过预置的第二斜率阈值，则判断脉冲信号堆积，该脉冲信号堆积为脉冲信号第五堆积类型；当脉冲信号梯形成形后的脉冲时间间隔小于等于平顶时间时，K值在上升沿和下降沿的变化将会出现波动，并且没有平顶时间，则判断脉冲信号堆积，该脉冲信号堆积为脉冲信号第六堆积类型。上述的一种脉冲信号堆积识别方法，其特征在于：所述核脉冲信号为双指数脉冲信号。上述的一种脉冲信号堆积识别方法，其特征在于：所述脉冲信号第一堆积类型为脉冲信号前沿堆积。上述的一种脉冲信号堆积识别方法，其特征在于：所述第一斜率阈值小于梯形信号上升沿斜率，所述第二斜率阈值大于梯形信号上升沿斜率。本发明与现有技术相比具有以下优点：1、本发明对双指数脉冲信号进行滤波成形，滤除高频噪声，消除双指数信号的长拖尾，便于推广使用。2、本发明设置两个呈间隔排布的采样点，即为采样点a和采样点b，采样点a落后于采样点b，采样点a和采样点b之间的宽度小于梯形平顶的宽度，检测两点连成的直线的斜率K变化，在堆积情况不同时，两点的斜率变化会相应的发生变化，作为判断脉冲信号堆积情况的依据，可靠稳定，使用效果好。3、本发明方法步骤简单，在脉冲信号未发生堆积时，采样点a和采样点b连成的直线斜率K值先上升，当K大于设置的第一斜率阈值时，判断梯形信号的上升沿到来，此时以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此确定脉冲信号的基线值，减少计算机的运算量，避免浪费资源，同时，计算结果可靠；K值再趋于零时，判断梯形信号平顶位置到来，以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此计算脉冲信号的峰值，利用峰值和基线值的差值作为脉冲信号的幅度值；计算性能优越，便于推广使用。综上所述，本发明满足即时的对脉冲信号堆积识别判断的需求，该方法在脉冲信号经过滤波成形后的流水线上，不仅可以识别不同程度的堆积情况，即时的给出判断结果，还可以计算出脉冲信号的基线值和幅度值，计算性能更加优越，便于推广使用。下面通过附图和实施例，对本发明的技术方案做进一步的详细描述。附图说明图1为本发明脉冲信号未发生堆积时的波形图。图2为本发明脉冲信号堆积为脉冲信号第一堆积类型的波形图。图3为本发明脉冲信号堆积为脉冲信号第二、三堆积类型的波形图。图4为本发明脉冲信号堆积为脉冲信号第四堆积类型的波形图。图5为本发明脉冲信号堆积为脉冲信号第五堆积类型的波形图。图6为本发明脉冲信号堆积为脉冲信号第六堆积类型的波形图。图7为本发明的方法流程框图。具体实施方式如图1至图7所示，本发明的一种脉冲信号堆积识别方法，包括以下步骤：步骤一、脉冲信号滤波成形并建立信号流水线：对核脉冲信号进行梯形滤波成形并建立信号流水线；步骤二、设置两个呈间隔排布的采样点：设置两个间隔呈间隔排布的采样点a和采样点b，所述采样点a落后于采样点b，采样点a和采样点b之间的宽度小于梯形平顶的宽度；其中，采样点a比采样点b落后M个采样时刻，M为正整数；步骤三、给定梯形滤波成形后脉冲信号无堆积的斜率变化规律并计算脉冲信号基线值和幅度值：在脉冲信号未发生堆积时，采样点a和采样点b连成的直线斜率K值先上升，当K大于设置的第一斜率阈值时，判断梯形信号的上升沿到来，此时以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此确定脉冲信号的基线值，其中，N不大于M的正整数；K值再趋于零时，判断梯形信号平顶位置到来，以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此计算脉冲信号的峰值，利用峰值和基线值的差值作为脉冲信号的幅度值；K值再小于零时，判断梯形信号的下降沿到来；K值再趋于零时，判断梯形信号结束；步骤四、脉冲信号堆积识别：当采样点a和采样点b连成的直线斜率K值先上升，然后趋于零，再小于零，而后再大于零，此时，判定脉冲信号堆积，该脉冲信号堆积为脉冲信号第一堆积类型；当脉冲信号梯形成形后的脉冲时间间隔等于上升时间与平顶时间之和时，在K值第二次趋于零时，采样点a和采样点b的值均大于零，则判定脉冲信号堆积，该脉冲信号堆积为脉冲信号第二堆积类型；当脉冲信号梯形成形后的脉冲时间间隔小于上升时间与平顶时间之和，并大于上升时间时，根据K值变化识别不到平顶时，则判定脉冲信号堆积，该脉冲信号堆积为脉冲信号第三堆积类型；当脉冲信号梯形成形后的脉冲时间间隔等于上升时间时，若相邻两个脉冲信号幅度相等时，根据K值变化能够识别到平顶时，以采样点a此时开始计算平顶结束后的数据点，如果大于单个梯形脉冲信号的平顶时间，则判定脉冲信号堆积；当两个脉冲幅度不相等时，则识别不到平顶，直接判断脉冲信号堆积，该脉冲信号堆积为脉冲信号第四堆积类型；当脉冲信号梯形成形后的脉冲时间间隔小于上升时间，大于平顶时间时，当两个脉冲幅度不相等时，K值在上升沿和下降沿的变化将会出现波动，超出预置的第二斜率阈值，则判定脉冲信号堆积；当两个脉冲幅度相等时，根据K值变化可以识别出平顶，但是上升沿和下降沿将会出现波动，超过预置的第二斜率阈值，则判断脉冲信号堆积，该脉冲信号堆积为脉冲信号第五堆积类型；当脉冲信号梯形成形后的脉冲时间间隔小于等于平顶时间时，K值在上升沿和下降沿的变化将会出现波动，并且没有平顶时间，则判断脉冲信号堆积，该脉冲信号堆积为脉冲信号第六堆积类型。需要说明的是，对双指数脉冲信号进行滤波成形，滤除高频噪声，消除双指数信号的长拖尾；设置两个呈间隔排布的采样点，即为采样点a和采样点b，采样点a落后于采样点b，采样点a和采样点b之间的宽度小于梯形平顶的宽度，检测两点连成的直线的斜率K变化，在堆积情况不同时，两点的斜率变化会相应的发生变化，作为判断脉冲信号堆积情况的依据，可靠稳定；在脉冲信号未发生堆积时，采样点a和采样点b连成的直线斜率K值先上升，当K大于设置的第一斜率阈值时，判断梯形信号的上升沿到来，此时以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此确定脉冲信号的基线值，减少计算机的运算量，避免浪费资源，同时，计算结果可靠；K值再趋于零时，判断梯形信号平顶位置到来，以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此计算脉冲信号的峰值，利用峰值和基线值的差值作为脉冲信号的幅度值；计算性能优越。本实施例中，所述核脉冲信号为双指数脉冲信号。本实施例中，所述脉冲信号第一堆积类型为脉冲信号前沿堆积。本实施例中，所述第一斜率阈值小于梯形信号上升沿斜率，所述第二斜率阈值大于梯形信号上升沿斜率。本发明使用时，由于脉冲信号经过了滤波成形处理，而且采样点a和采样点b间距足够宽，并小于梯形平顶，在脉冲信号到来之前，因此K值基本保持在0附近，如图1所示；随着时间的推移，采样点b先进入上升沿，采样点a和采样点b的斜率开始增加，在大于设置的第一斜率阈值时，以采样点a为准开始叠加，直到采样点a和采样点b连成的直线斜率与上升沿斜率接近时，取平均值确定脉冲信号的基线值；上升沿结束后，K值逐渐减小，进入梯形平顶时，以采样点a为准开始叠加，以采样点a此时的值开始叠加N个值，计算当前叠加值的平均值，以此计算脉冲信号的峰值，利用峰值和基线值的差值作为脉冲信号的幅度值；下降沿结束后，K值趋于零，并且，采样点a和采样点b的值均在0附近，则判断该脉冲信号结束；而当脉冲信号发生堆积时，则K值、平顶宽度、采样点a和采样点b的值表现为与之不同的形式：当脉冲信号发生前沿堆积时，K值第二次趋于0时，采样点a和采样点b的值均大于0，则判断发生堆积，如图2所示；当脉冲间隔小于上升时间与平顶时间之和，大于上升时间时，若第一个脉冲幅度小于第二个脉冲幅度时，K值在第一个梯形信号平顶结束时，将会大于0；若第一个脉冲幅度大于第二个脉冲幅度时，K值在第一个梯形型号平顶结束时，将会小于0；若第一个脉冲幅度等于第二个脉冲幅度时，K值在第一个梯形型号平顶结束时，将会等于0，此时平顶宽度为不发生堆积的平顶宽度的两倍；图3列出了第一个幅度小于第二个脉冲幅度时的情况；当脉冲间隔等于上升时间时，若两个脉冲幅度相等时，根据K值识别出平顶，基于采样点a计数，当获取的平顶宽度大于没有堆积情况下的平顶宽度时，则判断为堆积；若两个脉冲幅度不相同时，识别不到平顶，直接判断为堆积；图4列出了两个脉冲幅度相等时的情况；当脉冲间隔小于上升时间，且大于平顶宽度时，若两个脉冲幅度相等，根据K值的变化能够识别出平顶，但是在上升沿和下降沿中间的某一时间段内，K值将会发生很大的偏移；若两个脉冲幅度不相等，根据K值变化识别不出平顶，直接判断为发生了堆积；图5列出了两个脉冲幅度相等的情况；当脉冲间隔小于平顶宽度时，根据K值变化不能识别出平顶，直接判断为发生了堆积，如图6所示。以上所述，仅是本发明的较佳实施例，并非对本发明作任何限制，凡是根据本发明技术实质对以上实施例所作的任何简单修改、变更以及等效结构变化，均仍属于本发明技术方案的保护范围内。
