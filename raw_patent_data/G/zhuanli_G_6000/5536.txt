标题title
一种基于掘进载荷预测的TBM控制参数决策方法及装置
摘要abst
本发明公开了一种基于掘进载荷预测的TBM控制参数决策方法及装置。方法包括：获取当前全断面隧道钻掘机循环段中关于稳定段的控制参数设定值；获取当前时刻之前的一段设定时长的控制参数和其对应的响应参数历史数据；基于控制参数设定值、所述历史数据，根据预设的掘进载荷预测模型，获取所述控制参数设定值对应的响应参数预测值；同时，采集当前时刻的响应参数实际值；基于响应参数预测值与实际值，判断当前全断面隧道钻掘机是否达到稳定掘进阶段；若未达到稳定掘进阶段，则调整当前控制参数的设定值。本发明解决了当前TBM掘进过程中缺乏对围岩状态反馈的技术问题，通过精确预测TBM响应参数，辅助调整TBM掘进的控制参数。
权利要求书clms
1.一种基于掘进载荷预测的TBM控制参数决策方法，其特征在于，所述方法包括下述步骤：获取当前全断面隧道钻掘机循环段中关于稳定段的控制参数设定值；获取当前时刻之前的一段设定时长的控制参数和其对应的响应参数的历史数据；基于控制参数设定值、所述历史数据，根据预设的掘进载荷预测模型，获取所述控制参数设定值对应的响应参数预测值；同时，采集当前时刻的响应参数实际值；基于响应参数预测值与实际值，判断当前全断面隧道钻掘机是否达到稳定掘进阶段；若未达到稳定掘进阶段，则调整当前控制参数的设定值；其中，所述预设的掘进载荷预测模型是采用有监督机器学习方法训练出的用于预测响应参数的模型。2.根据权利要求1所述的方法，其特征在于，所述获取当前时刻之前的一段设定时长的控制参数和其对应的响应参数历史数据，包括对数据进行数据清洗；所述数据清洗包括对异常值进行处理、对空缺值进行处理、以及对持续时间较短的循环段数据进行删除；所述对异常值进行处理，若数据量为1，则用上下行数据均值替换；若数据量大于1，则进行行间删除；所述对空缺值进行处理，若数据量为1，则由上下行数据均值填充；若数据量大于1，则进行行间删除；所述持续时间较短的循环段数据为全断面隧道钻掘机循环段中上升段或稳定段的数据长度小于设定时长的数据。3.根据权利要求1所述的方法，其特征在于，所述控制参数包括刀盘转速、推进速度；所述响应参数包括刀盘扭矩、刀盘推力。4.根据权利要求1所述的方法，其特征在于，所述掘进载荷预测模型采用响应参数均值为标签进行训练学习。5.根据权利要求3所述的方法，其特征在于，所述掘进载荷预测模型的输入数据包括：扭矩切深指数均值、扭矩切深指数拟合值、扭矩切深指数拟合优度，现场切深指数均值、现场切深指数拟合值、现场切深指数拟合优度；其中：所述扭矩切深指数均值通过下式计算：式中：为上升段第i秒的刀盘扭矩值，为上升段第i秒的贯入度值，N1为上升段秒数，为上升段第i秒的推进速度，为上升段第i秒的刀盘转速；扭矩切深指数指标拟合值为上升段刀盘扭矩和贯入度拟合所得的斜率；扭矩切深指数拟合优度为上升段刀盘扭矩和贯入度的拟合优度；所述现场切深指数均值计算方法为：式中：为上升段第i秒的刀盘推力值；所述现场切深指数拟合值为上升段刀盘推力和贯入度拟合所得的斜率；所述现场切深指数拟合优度为上升段刀盘推力和贯入度的拟合优度。6.根据权利要求5所述的方法，其特征在于，所述控制参数和其对应的响应参数历史数据在输入预设的掘进载荷预测模型之前，还包括下述数据处理：删除全断面隧道钻掘机循环段中扭矩切深指数拟合优度或者现场切深指数拟合优度小于等于设定值的全断面隧道钻掘机循环段。7.根据权利要求1所述的方法，其特征在于，所述控制参数和响应参数通过传感器获取。8.根据权利要求1所述的方法，其特征在于，所述掘进载荷预测模型为BP神经网络模型或卷积神经网络模型。9.一种基于掘进载荷预测的TBM控制参数决策装置，包括传感器，其特征在于，所述装置还包括获取模块、预测模块；所述传感器，用于采集控制参数数据和其对应的响应参数数据；所述获取模块，被配置用于获取当前全断面隧道钻掘机循环段中关于稳定段的控制参数设定值，以及当前时刻之前的一段设定时长的控制参数和其对应的响应参数历史数据；所述预测模块，被配置为基于控制参数设定值、所述历史数据，根据预设的掘进载荷预测模型，获取所述控制参数设定值对应的响应参数预测值；基于响应参数预测值与实际值，判断当前全断面隧道钻掘机是否达到稳定掘进阶段；若未达到稳定掘进阶段，则调整当前设置的控制参数的设定值；其中，所述预设的掘进载荷预测模型是采用有监督机器学习方法训练出的用于预测响应参数的模型。10.根据权利要求9所述的装置，其特征在于：所述掘进载荷预测模型的输入数据是基于控制参数和响应参数计算得到的扭矩切深指数均值、扭矩切深指数拟合值、扭矩切深指数拟合优度，现场切深指数均值、现场切深指数拟合值、现场切深指数拟合优度，输出数据是响应参数均值；所述控制参数包括刀盘转速、推进速度，响应参数包括刀盘扭矩、刀盘推力；所述扭矩切深指数均值通过下式计算：式中：为上升段第i秒的刀盘扭矩值，为上升段第i秒的贯入度值，N1为上升段秒数，为上升段第i秒的推进速度，为上升段第i秒的刀盘转速；扭矩切深指数指标拟合值为上升段刀盘扭矩和贯入度拟合所得的斜率；扭矩切深指数拟合优度为上升段刀盘扭矩和贯入度的拟合优度；所述现场切深指数均值计算方法为：式中：为上升段第i秒的刀盘推力值；所述现场切深指数拟合值为上升段刀盘推力和贯入度拟合所得的斜率；所述现场切深指数拟合优度为上升段刀盘推力和贯入度的拟合优度。
说明书desc
技术领域本公开涉及数据预测方法，尤其涉及一种基于掘进载荷预测的TBM控制参数决策方法及装置。背景技术TBM已经成为长大隧道掘进的利器。一般广义认为一个完整的TBM循环段包括空推段、上升段、稳定段和下降段，其中和破岩密切相关的为上升段和稳定段。上升段破岩参数值迅速变化，是重要的围岩信息感知阶段；稳定段的破岩参数值达到稳定值后产生微小波动，所以上升段和稳定段有很强的相关性。但是在目前TBM掘进过程中，缺乏对围岩状态的反馈，基本依靠TBM操作手的操作经验，对于操作手驾驶疲劳、新手操作手不熟练或者围岩复杂等情况并没有更好的解决办法，所以亟需构建掘进载荷预测方法，从而对围岩信息进行感知，可以实现围岩性质的判别或者塌方预警等。发明内容针对上述现有技术，本发明所解决的技术问题是如何提供一种基于掘进载荷预测的TBM控制参数决策方法，从而使控制参数最优，达到TBM辅助围岩感知的作用。为了解决上述技术问题，本发明提出了一种基于掘进载荷预测的TBM控制参数决策方法，所述方法包括下述步骤：获取当前全断面隧道钻掘机循环段中关于稳定段的控制参数设定值；获取当前时刻之前的一段设定时长的控制参数和其对应的响应参数历史数据；基于控制参数设定值、所述历史数据，根据预设的掘进载荷预测模型，获取所述控制参数设定值对应的响应参数预测值；同时，采集当前时刻的响应参数实际值；基于响应参数预测值与实际值，判断当前全断面隧道钻掘机是否达到稳定掘进阶段；若未达到稳定掘进阶段，则调整当前控制参数的设定值；其中，所述预设的掘进载荷预测模型是采用有监督机器学习方法训练出的用于预测响应参数的模型。在上述技术方案中，响应参数即为掘进载荷，随着控制参数变化而变化。控制参数由操作人员设定而成，但是实际采集到控制参数数据与设定值差异微小，因此为方便获取和处理，控制参数和响应参数均可使用传感器采集。利用机器学习方法，通过模型训练学习获得控制参数设定值、控制参数和其对应的响应参数历史数据的内部时序关联关系，提高稳定掘进阶段的响应参数值的准确性，而基于响应参数预测值与响应参数实际值，判断当前TBM是否已经达到稳定掘进阶段，从而确定是否调整控制参数。通过精确预测TBM响应参数，辅助调整TBM掘进的控制参数，以缩短上升段消耗时间，尽快进入高效的稳定段破岩阶段，提高掘进效率，达到辅助TBM掘进的作用。解决了当前TBM掘进过程中由于缺乏对围岩状态的反馈，不能精确预测TBM响应参数的问题。在上述技术方案中，通过传感器获取当前时刻之前的一段设定时长的破岩控制参数和其对应的响应参数历史数据，包括对历史数据进行数据清洗，降低数据噪音，以使控制参数和其对应的响应参数数据的数据特征能够真实的反映控制时序变化，从而提高预测的准确性。所述数据清洗包括对异常值进行处理、对空缺值进行处理、以及对持续时间较短的循环段数据进行删除；所述对异常值进行处理，若数据量为1，则用上下行数据均值替换；若数据量大于1，则进行行间删除；所述对空缺值进行处理，若数据量为1，则由上下行数据均值填充；若数据量大于1，则进行行间删除；所述持续时间较短的循环段数据为全断面隧道钻掘机循环段中上升段或稳定段的数据长度小于设定时间的数据。在上述技术方案，本发明方法在一种实施方式中，针对传感器采集的上百种信号，从中选择关键的控制参数、随控制参数变化的响应参数，作为本发明方法应用的基础参数。控制参数包括刀盘转速、推进速度，响应参数包括刀盘推力、刀盘扭矩。由于在掘进过程中，如果TBM操作手改变刀盘转速n 和推进速度v ，则系统采集到的刀盘扭矩T 、刀盘推力F 也会随之改变，可将刀盘扭矩T 、刀盘推力F 可作为对围岩状态的反馈，也可进一步用于围岩性质的判别以及塔方预警等。因此，本发明通过进一步挖掘历史数据中这4类参数之间的内在关联以及时序关系，以获得用于反映掌子面前方围岩条件。作为上述技术方案的进一步改进，所述破岩控制参数数据在输入预设的掘进载荷预测模型之前，进一步计算得到：扭矩切深指数均值、扭矩切深指数拟合值、扭矩切深指数拟合优度，现场切深指数均值、现场切深指数拟合值、现场切深指数拟合优度，将进一步计算得到的数据作为模型的输入，可提高模型预测精度。其中：所述扭矩切深指数均值通过下式计算：式中： QUOTE 为上升段第i秒的刀盘扭矩值， QUOTE 为上升段第i秒的贯入度值，N1为上升段第i个数据数， QUOTE 为上升段第i秒的推进速度， QUOTE 为上升段第i秒的刀盘转速；扭矩切深指数指标拟合值为上升段刀盘扭矩和贯入度拟合所得的斜率；扭矩切深指数拟合优度为上升段刀盘扭矩和贯入度的拟合优度；所述现场切深指数均值计算方法为：式中： QUOTE 为上升段第i秒的刀盘推力值；所述现场切深指数拟合值为上升段刀盘推力和贯入度拟合所得的斜率；所述现场切深指数拟合优度为上升段刀盘推力和贯入度的拟合优度。在上述技术方案，本发明方法在一种实施方式中将扭矩切深指数拟合优度或者现场切深指数拟合优度小于等于设定值的全断面隧道钻掘机循环段删除，再将删除处理后的控制参数和响应参数历史数据输入预设的掘进载荷预测模型，以提高数据质量，从而提升模型的预测效果。在上述技术方案，本发明方法在一种实施方式中将稳定段刀盘转速、稳定段推进速度作为稳定段的控制参数设定值。在上述技术方案，所述掘进载荷预测模型可以为BP神经网络模型或卷积神经网络模型等。为了解决上述技术问题，本发明还提出了一种基于掘进载荷预测的TBM控制参数决策装置，包括传感器，获取模块、预测模块；所述传感器，用于采集控制参数数据和其对应的响应参数数据；所述获取模块，被配置用于获取当前全断面隧道钻掘机循环段中关于稳定段的控制参数设定值，以及当前时刻之前的一段设定时长的控制参数和其对应的响应参数历史数据；所述预测模块，被配置为基于控制参数设定值、控制参数和其对应的响应参数历史数据，根据预设的掘进载荷预测模型，获取所述控制参数设定值对应的响应参数预测值；基于响应参数预测值与实际值，判断当前全断面隧道钻掘机是否达到稳定掘进阶段；若未达到稳定掘进阶段，则调整当前设置的控制参数；其中，所述预设的掘进载荷预测模型是采用有监督机器学习方法训练出的用于预测响应参数的模型。在上述装置技术方案中，为了进一步提高模型的预测精度，先获取控制参数和响应参数之间的数据关系，即基于控制参数和响应参数计算得到的扭矩切深指数均值、扭矩切深指数拟合值、扭矩切深指数拟合优度，现场切深指数均值、现场切深指数拟合值、现场切深指数拟合优度，输出数据是响应参数均值，将这些数据作为所述掘进载荷预测模型的输入数据；所述控制参数包括刀盘转速、推进速度，响应参数包括刀盘扭矩、刀盘推力；所述扭矩切深指数均值通过下式计算：式中： QUOTE 为上升段第i秒的刀盘扭矩值， QUOTE 为上升段第i秒的贯入度值，N1为上升段秒数， QUOTE 为上升段第i秒的推进速度， QUOTE 为上升段第i秒的刀盘转速；扭矩切深指数指标拟合值为上升段刀盘扭矩和贯入度拟合所得的斜率；扭矩切深指数拟合优度为上升段刀盘扭矩和贯入度的拟合优度；所述现场切深指数均值计算方法为：式中： QUOTE 为上升段第i秒的刀盘推力值；所述现场切深指数拟合值为上升段刀盘推力和贯入度拟合所得的斜率；所述现场切深指数拟合优度为上升段刀盘推力和贯入度的拟合优度。附图说明此处所说明的附图用来提供对本发明的进一步理解，构成本申请的一部分，本发明的示意性实施例及其说明用于解释本发明，并不构成对本发明的不当限定。在附图中：图1、是本发明实施例中BP神经网络结构示意图；图2、是本发明实施例的一种数据清理流程示意图；图3、是本发明实施例中TPI拟合值、TPI拟合优度和FPI拟合值、FPI拟合优度的计算图解示意图；图4、是本发明实施例的一种模型特征输入输出示意图；图5、是本发明实施例中刀盘推力预测效果图；图6、是本发明实施例中刀盘扭矩预测效果图；图7、是根据本发明实施例的一种基于掘进载荷预测的TBM控制参数决策方法的流程示意图；图8、是根据本发明实施例的一种基于掘进载荷预测的TBM控制参数决策装置的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。涉及的缩写含义：TBM，全断面隧道钻掘机；TPI，扭矩切深指标；FPI，现场切深指标。在本发明实施方式中，一个完整的TBM循环段是指从刀盘启动开始，然后滚刀开始接触掌子面进行破岩，TBM推进距离达到油缸最大行程之后，掘进停止，开始收缩油缸准备进行下一个循环段的掘进。一个完整的循环段包括空推段、上升段、稳定段和下降段四个阶段。TBM循环段中空推段：刀盘启动开始旋转，刀盘转速、推进速度开始缓慢增加，刀盘向掌子面方向推进，此时扭矩需要克服刀盘内阻力、刀盘与洞壁的摩擦力以及刀盘旋转产生的角加速度并随之缓慢增大，刀盘推力需要克服护盾摩擦以及后配套系统拖动力也随之缓慢增大；刀盘转速趋于稳定，无需克服刀盘启动旋转产生的角加速度，所以在此阶段刀盘扭矩有略微下降的趋势；待刀盘转速稳定后，开始进入上升段。TBM循环段中上升段：岩机相互作用阶段，此时刀盘开始与掌子面接触，相较于空推段刀盘还需克服掌子面的阻力，刀盘推力、刀盘扭矩、推进速度、刀盘转速等急剧上升；这个阶段类似于一个大型岩石扭矩试验，基本可以反应地质条件及围岩性质，此阶段推进行程为100-200mm，持续时间在220s左右，之后进入稳定段。TBM循环段中稳定段：这个阶段TBM开始稳定掘进，各项指标开始趋于进入稳定状态，在某一数值周围波动，这个阶段如果没有围岩性质没有发生突变，则将稳定掘进至循环段结束；TBM循环段中下降段：循环掘进达到推进油缸行程，需停机换步，此阶段刀盘推力、刀盘扭矩、推进速度、刀盘转速等开始急剧下降直到为零，开始换步并进入下一个循环段的掘进。其中，TBM上升段的判别依据为：根据刀盘推力 QUOTE 及刀盘扭矩 QUOTE 大于摩擦阻力Ff及空转扭矩Tf阈值作为上升段起点的初步判别标准，如式所示：式中：Ff、Tf分别为摩擦阻力阈值和空转扭矩阈值，可以从TBM设备获得。稳定段特征判别依据为：在数据实时处理过程中，上升段的推进速度v设定值波动性较大，标准差 QUOTE 也很大；而在稳定段的推进速度v设定值波动性较低，所以标准差 QUOTE 基本保持稳定。推进速度v设定值为操作手调整参数，通过调整推进速度v设定值，能够实现对推进速度v的设定。统计循环段推进速度v设定值维持稳定过程的标准差范围，作为上升段进入稳定掘进过程的稳定段起点实时数据划分标准 QUOTE ，如式所示：其中：式中： QUOTE 为推进速度设定值， QUOTE 为推进速度设定值均值，N为样本数量。从上可以看出，某些参数具有阶段变化特征，这些阶段变化特征能够用于判断TBM所处的阶段。通过进一步分析每个阶段的参数，能够获知这些具有阶段变化特征的参数随着另一些参数发生变化，在本发明中，将具有阶段变化特征的参数叫做响应参数，其随着控制参数发生变化。在一种实施方式中，选择刀盘转速、推进速度为控制参数，选择刀盘扭矩、刀盘推力为响应参数。将响应参数、控制参数以及由控制参数计算获得的贯入度作为本发明的关键掘进参数，各参数含义见表1。表1本发明方法的思想为基于关键掘进参数预测响应参数的值，以期通过比较响应参数的预测值和实际值大小，判断TBM所处阶段或者是否达到稳定阶段。对于设定的控制参数，若响应参数的预测值和实际值大致相同，那么说明TBM已经达到了预期阶段。在下文中，以引松工程数据为例介绍如何实施本发明方法。吉林省中部城市引松供水工程总干线四标段TBM3总长度19771m，依托国家973项目支持以1 Hz频率存储包含桩号、刀盘扭矩、刀盘推力、刀盘转速、推进速度、贯入度等在内的199列历史数据，完备记录了近八百天不同工况的施工数据，至掘进结束已经形成了200多亿条的大数据，给机器学习带来了便利。选用BP神经网络模型作为掘进载荷预测模型。为了能够提高掘进载荷预测模型的预测精度，以及更好地反映历史数据的内在关联以及时序关系，将历史数据进一步计算获得8个输入指标，并将响应参数作为标签进行学习。8个输入指标是TPI均值，TPI拟合值，TPI拟合优度，FPI均值，FPI拟合值，FPI拟合优度，刀盘转速均值，推进速度均值；标签为刀盘扭矩均值，刀盘推力均值。在训练时，刀盘转速均值，推进速度均值为基于历史数据计算获得；在预测时，刀盘转速均值，推进速度均值为设定值。建立BP神经网络模型，如图1所示。该模型包括：1个输入层、1个隐藏层和1个输出层。输入层节点 QUOTE 数目8个，隐藏层节点数目17个，输出层节点数目2个。设置训练率为0.8，即，将获得的数据中的80％被用作训练数据，剩下的20％被用作测试数据。设置训练终止条件为迭代次数或者目标阈值来。当一个完整的训练集通过了神经网络一次并且返回了一次，这个过程称为一次迭代。在本实施例中，设置迭代次数2000。采用均方误差来评价目标输出与BP神经网络的实际输出之间的差异。为了将所述均方误差降低到目标阈值之下，可以利用梯度下降的方法，也就是让每个样本的权重都向其负梯度方向变化，也即求所述均方误差对于各神经元的权重的梯度。在本实施例中，所述目标阈值为5％。在其他实施例中，所述目标阈值为10％、9％、8％、7％、6％、、4％、3％、2％或1％。设置激活函数为：relu函数。初始化输入层到隐藏层的权重和偏置、隐藏层到输出层的权重和偏置为随机值。当以不同的网络参数训练BP神经网络模型使之收敛且均方误差小于所述目标阈值时，说明在此种参数下的BP神经网络模型是可信的。换句话说，训练后的BP神经网络模型的当前配置能够真实有效地反应输入对输出的影响。以此时的BP神经网络模型的配置为基础，求取此种网络的输出对输入的偏导值，即可获得输入对输出的影响的定量结论。数据划分后总计得到12884个循环段，删除上升段或者稳定段数据小于30s的循环段，将这样的循环段认为是不完整的循环掘进过程，30s的大小可调整。接着，对异常值和空缺值进行数据清洗处理，还剩余12501个循环段。其中，数据清理流程如图2所示。异常值处理是指对由推进油缸收缩导致的负值和传感器失灵导致的超高值，数据量为1则由上下行数据均值替换；数据量 QUOTE 1则进行行间删除。异常值包括负值和超高值。在一种实施方式中通过推进速度进行判断，当推进速度大于150 mm/min时，则认为该值为超高值。空缺值处理是指对由传感器失灵导致的采集失败的数据，数据量为1则由上下行数据均值填充；数据量 QUOTE 1则进行行间删除。在一种实施方式中，TBM设备的数据采集频率为1Hz，即1s采集一次数据。在一次采集的数据中，通过时间戳即可判断缺失数据的数据量。将循环段数据进行计算处理，得到用于训练BP神经网络模型的部分输入X1，X1=。TPI均值计算方法为： QUOTE  QUOTE 其中， QUOTE 为上升段第i秒的刀盘扭矩值， QUOTE 为上升段第i秒的贯入度值，N1为上升段第i个数据， QUOTE 为上升段第i秒的推进速度， QUOTE 为上升段第i秒的刀盘转速。TPI拟合值为上升段刀盘扭矩和贯入度拟合所得的斜率；TPI拟合优度为上升段刀盘扭矩和贯入度的拟合优度。FPI均值计算方法为： QUOTE 其中， QUOTE 为上升段第i秒的刀盘推力F值。FPI拟合值为上升段刀盘推力和贯入度拟合所得的斜率；FPI拟合优度为上升段刀盘推力和贯入度的拟合优度。在表2中示意了前30个循环段数据得到的前30个X1的输入值。表2将TPI拟合优度或者FPI拟合优度小于等于0.5的循环段删除。如图3所示，中刀盘扭矩的拟合优度 QUOTE 为0.5，因此需将该循环段删除。将循环段稳定段数据进行计算处理，得到用于训练BP神经网络模型的部分输入X2，X2=。在表3中示意了前30个循环段数据得到的前30个X2的输入值。表3计算BP神经网络模型的输出Y=，Y1为刀盘扭矩均值，Y2为刀盘推力均值，将Y作为训练标签。在表4中示意了前30个循环段数据对应的前30组。表4将X=作为BP神经网络模型的输入，将Y=作为其输入，如图4所示。将循环段的80%的数据用于训练，20%的数据用于测试，测试结果如图5-图6所示。从图5和图6可见，测试中BP神经网络模型预测效果良好，预测值与实际值相近，该预测值能够用于帮助TBM操作手判断当前全断面隧道钻掘机是否达到稳定掘进阶段，并根据判断结果决定是否进行控制参数调整，从而以达到TBM辅助驾驶的目的。上述为对BP神经网络模型进行训练过程。在训练过程中BP神经网络模型的输入为实时采集的数据。输出为记录的设定值或实时采集值，然后求均值。经过训练得到的BP神经网络模型，可作为预设的掘进载荷预测模型。在使用时，BP神经网络模型的输入为实时采集的数据，涉及稳定段的输入数据为设定值。采用下述步骤，如图7所示，获得预测的掘进载荷指标值：获取当前全断面隧道钻掘机循环段中关于稳定段的控制参数设定值；获取当前时刻之前的一段设定时长的控制参数和其对应的响应参数历史数据；基于控制参数设定值、所述历史数据，根据预设的掘进载荷预测模型，获取所述控制参数设定值对应的响应参数预测值；同时，采集当前时刻的响应参数实际值；基于响应参数预测值与实际值，判断当前全断面隧道钻掘机是否达到稳定掘进阶段；若未达到稳定掘进阶段，则调整当前控制参数的设定值。通过精确预测TBM响应参数，辅助调整TBM掘进的控制参数，以缩短上升段消耗时间，尽快进入高效的稳定段破岩阶段，达到辅助TBM掘进的作用。响应参数的预测结果还可以进一步用于围岩性质的判别、以及塌方预警等。BP神经网络模型可用其它机器模型代替，比如卷积神经网络模型。在上述方法中，刀盘扭矩、刀盘推力的预测值最大不超过TBM设备关于两者的额定值，当两者预测值和两者实测值误差均不超过10%且达到20s以上，即可认为当前循环段已经达到了稳定掘进阶段。在TBM操作过程中，若围岩变硬或者变破碎，扭矩推力一般是同向变化，即通常刀盘转速与刀盘扭矩呈正相关，推进速度与刀盘推力呈正相关。若预测值均大于实际值，则说明还没有达到稳定段，需要继续加大油门尽快达到稳定段。反之，则说明操作得太快，影响设备使用周期和刀具寿命。但也会存在着刀盘推力预测大于实测，而刀盘扭矩预测小于实测，或者刀盘推力预测小于实测，而刀盘扭矩预测大于实测的情况。对于前者，可能是单独的把刀盘转速旋钮调的太大导致扭矩实测太大，而推力实测比较小，这个时候也应该提醒司机放慢刀盘转速；对于后者，可能只是单独的把推进速度旋钮调的太大导致推力实测太大，而扭矩实测比较小，这个时候也应该提醒司机放慢推进速度；而破碎围岩中，刀盘推力和刀盘扭矩都不会很大。并且，稳定段开始的时间不确定，司机通过调整上升段的刀盘转速和推进速度的设定值来尽快达到稳定值，在这个过程中，司机凭经验操作，对于新手司机来说是个考验。因此，本发明方法的一种实施方式即是通过预测值帮助新手司机判断当前是否已经达到稳定段，辅助TBM掘进，减少设备损坏等。相应地，根据上述方法可实现为一种TBM控制参数决策装置，结构如图8所示，在该装置中，包括传感器，获取模块、预测模块。所述传感器，用于采集控制参数数据和其对应的响应参数数据。所述获取模块，被配置用于获取当前全断面隧道钻掘机循环段中关于稳定段的控制参数设定值，以及当前时刻之前的一段设定时长的控制参数和其对应的响应参数历史数据。所述预测模块，被配置为基于控制参数设定值、控制参数和其对应的响应参数历史数据，根据预设的掘进载荷预测模型，获取所述控制参数设定值对应的响应参数预测值。基于响应参数预测值与实际值，判断当前全断面隧道钻掘机是否达到稳定掘进阶段，若未达到稳定掘进阶段，则调整当前设置的控制参数。其中，所述掘进载荷预测模型是采用有监督机器学习方法训练出的用于预测掘进载荷的模型，其输入数据是基于控制参数和响应参数计算得到的扭矩切深指数均值、扭矩切深指数拟合值、扭矩切深指数拟合优度，现场切深指数均值、现场切深指数拟合值、现场切深指数拟合优度，输出数据是响应参数均值。控制参数包括刀盘转速、推进速度，响应参数包括刀盘扭矩、刀盘推力。输入数据的计算于上面方法技术方案中的输入数据的计算相同。该装置涉及的各单元可采用处理器、FPGA或其它专用硬件实现。综上，本发明可以是系统、方法和/或计算机程序产品。计算机程序产品可以包括计算机可读存储介质，其上载有用于使处理器实现本发明的各个方面的计算机可读程序指令。计算机可读存储介质可以是可以保持和存储由指令执行设备使用的指令的有形设备。计算机可读存储介质例如可以是但不限于电存储设备、磁存储设备、光存储设备、电磁存储设备、半导体存储设备或者上述的任意合适的组合。计算机可读存储介质的更具体的例子包括：便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、静态随机存取存储器、便携式压缩盘只读存储器、数字多功能盘、记忆棒、软盘、机械编码设备、例如其上存储有指令的打孔卡或凹槽内凸起结构、以及上述的任意合适的组合。这里所使用的计算机可读存储介质不被解释为瞬时信号本身，诸如无线电波或者其他自由传播的电磁波、通过波导或其他传输媒介传播的电磁波、或者通过电线传输的电信号。这里所描述的计算机可读程序指令可以从计算机可读存储介质下载到各个计算/处理设备，或者通过网络、例如因特网、局域网、广域网和/或无线网下载到外部计算机或外部存储设备。网络可以包括铜传输电缆、光纤传输、无线传输、路由器、防火墙、交换机、网关计算机和/或边缘服务器。每个计算/处理设备中的网络适配卡或者网络接口从网络接收计算机可读程序指令，并转发该计算机可读程序指令，以供存储在各个计算/处理设备中的计算机可读存储介质中。用于执行本发明操作的计算机程序指令可以是汇编指令、指令集架构指令、机器指令、机器相关指令、微代码、固件指令、状态设置数据、或者以一种或多种编程语言的任意组合编写的源代码或目标代码，所述编程语言包括面向对象的编程语言—诸如Smalltalk、C++、Python等，以及常规的过程式编程语言—诸如“C”语言或类似的编程语言。计算机可读程序指令可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络—包括局域网或广域网—连接到用户计算机，或者，可以连接到外部计算机。在一些实施例中，通过利用计算机可读程序指令的状态信息来个性化定制电子电路，例如可编程逻辑电路、现场可编程门阵列或可编程逻辑阵列，该电子电路可以执行计算机可读程序指令，从而实现本发明的各个方面。这里参照根据本发明实施例的方法、装置和计算机程序产品的流程图和/或框图描述了本发明的各个方面。应当理解，流程图和/或框图的每个方框以及流程图和/或框图中各方框的组合，都可以由计算机可读程序指令实现。这些计算机可读程序指令可以提供给通用计算机、专用计算机或其它可编程数据处理装置的处理器，从而生产出一种机器，使得这些指令在通过计算机或其它可编程数据处理装置的处理器执行时，产生了实现流程图和/或框图中的一个或多个方框中规定的功能/动作的装置。也可以把这些计算机可读程序指令存储在计算机可读存储介质中，这些指令使得计算机、可编程数据处理装置和/或其他设备以特定方式工作，从而，存储有指令的计算机可读介质则包括一个制造品，其包括实现流程图和/或框图中的一个或多个方框中规定的功能/动作的各个方面的指令。也可以把计算机可读程序指令加载到计算机、其它可编程数据处理装置、或其它设备上，使得在计算机、其它可编程数据处理装置或其它设备上执行一系列操作步骤，以产生计算机实现的过程，从而使得在计算机、其它可编程数据处理装置、或其它设备上执行的指令实现流程图和/或框图中的一个或多个方框中规定的功能/动作。附图中的流程图和框图显示了根据本发明实施例的方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或指令的一部分，所述模块、程序段或指令的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。对于本领域技术人员来说公知的是，通过硬件方式实现、通过软件方式实现以及通过软件和硬件结合的方式实现都是等价的。
