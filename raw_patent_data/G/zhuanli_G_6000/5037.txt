标题title
声呐时钟同步方法、装置、设备及存储介质
摘要abst
本申请提供了一种声呐时钟同步方法、装置、设备及存储介质，其中，该方法包括：基准声呐与待校准声呐之间进行两次信号交互，并得到同步信号和响应信号，根据同步信号和响应信号携带的时间信息确定频率补偿系数，并根据一次信号交互中同步信号和响应信号确定传播时延，并根据传播时延结合一次信号交互时响应信号携带的时间信息，确定绝对时间差，最后根据绝对时间差和频率补偿系数对待校准声呐进行时钟校正，最终使得基准声呐与待校准声呐时钟同步，避免声呐之间在时钟不同步状态下传回的数据建模精确度低的情况，提高了三维声呐成像的效率和准确率。
权利要求书clms
1.一种声呐时钟同步方法，其特征在于，应用于分布式声呐三维成像系统，所述分布式声呐三维成像系统包括多个声呐，所述方法包括：基准声呐与待校准声呐执行两次信号交互，每次信号交互过程包括：所述基准声呐向所述各待校准声呐发送同步信号，所述同步信号中携带所述同步信号的发送时间，所述待校准声呐接收所述同步信号，并向所述基准声呐发送响应信号，所述响应信号中携带所述响应信号的发送时间，其中，所述基准声呐为所述多个声呐中的任意一个声呐，所述待校准声呐为所述多个声呐中除所述基准声呐之外的声呐；所述待校准声呐根据两次信号交互时所述同步信号的发送时间和接收时间，以及所述响应信号的发送时间和接收时间，确定当前轮次的频率补偿系数；所述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延，并由所述基准声呐或所述待校准声呐根据所述传播时延和所述一次信号交互的响应信号的发送时间以及接收时间，确定当前轮次的所述基准声呐与所述待校准声呐的绝对时间差；所述待校准声呐根据至少一个轮次的频率补偿系数以及所述绝对时间差进行时钟校正，以使得校正后的所述待校准声呐的时钟与所述基准声呐的时钟同步。2.如权利要求1所述的方法，其特征在于，所述待校准声呐根据两次信号交互时所述同步信号的发送时间和接收时间，以及所述响应信号的发送时间和接收时间，确定频率补偿系数，包括：所述待校准声呐从两次信号交互时的同步信号中解析得到第一发送时间和第二发送时间，所述第一发送时间为第一次信号交互时的同步信号的发送时间，所述第二发送时间为第二次信号交互时的同步信号的发送时间；所述待校准声呐获取两次信号交互时的同步信号的第一接收时间和第二接收时间，所述第一接收时间为第一次信号交互时所述待校准声呐接收到同步信号的时间，所述第二接收时间为第二次信号交互时所述待校准声呐接收到同步信号的时间；所述待校准声呐根据所述第一发送时间和所述第二发送时间，确定所述基准声呐对应的时间差；所述待校准声呐根据所述第一接收时间和所述第二接收时间，确定所述待校准声呐对应的时间差；根据所述基准声呐对应的时间差与所述待校准声呐对应的时间差，确定所述频率补偿系数。3.如权利要求1所述的方法，其特征在于，所述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延，包括：所述基准声呐从一次信号交互中的响应信号解析得到第三接收时间；所述基准声呐获取同步信号在基准声呐时钟下的第三发送时间；所述基准声呐根据所述第三接收时间、第三发送时间以及所述同步信号在所述待校准声呐中的检测时延，确定传播时延，所述检测时延用于指示从发送所述同步信号到所述同步信号被接收以及解析完毕所需要的时长。4.如权利要求1所述的方法，其特征在于，所述根据所述传播时延和所述一次信号交互的响应信号的发送时间以及接收时间，确定所述基准声呐与所述待校准声呐的绝对时间差，包括：所述基准声呐从所述一次信号交互的响应信号中解析得到第四发送时间；所述基准声呐获取所述响应信号在所述基准声呐的时钟下的接收时间；所述基准声呐根据所述第四发送时间和所述传播时延，确定所述响应信号的在所述待校准声呐的时钟下的接收时间；所述基准声呐根据所述响应信号在所述基准声呐的时钟下的接收时间以及所述响应信号的在所述待校准声呐的时钟下的接收时间，确定所述基准声呐与所述待校准声呐的绝对时间差。5.如权利要求1所述的方法，其特征在于，向所述基准声呐发送响应信号之前，还包括：所述待校准声呐根据所述同步信号的接收时间和发送时间确定所述同步信号的检测时延；所述待校准声呐根据所述检测时延以及所述同步信号的发送时间，确定所述响应信号的发送时间;向所述基准声呐发送响应信号，包括：所述待校准声呐将所述响应信号的发送时间编码至所述响应信号中进行发送。6.如权利要求1所述的方法，其特征在于，所述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延之前，还包括：所述基准声呐根据所述频率补偿系数对所述基准声呐和所述待校准声呐进行初始频率校正，以使得所述基准声呐和所述待校准声呐的时钟频率相同。7.如权利要求1-6任一项所述的方法，其特征在于，所述待校准声呐根据至少一个轮次的频率补偿系数以及所述绝对时间差进行时钟校正，包括：所述待校准声呐根据各轮次的频率补偿系数，确定目标频率补偿系数；所述待校准声呐根据各轮次的绝对时间差，确定目标绝对时间差；所述待校准声呐根据所述目标绝对时间差，调整所述待校准声呐的目标时刻，以使得所述目标时刻与所述基准声呐中的所述目标时刻表征同一真实时刻；所述待校准声呐根据所述目标频率补偿系数，调整所述待校准声呐的时钟频率，以使得所述待校准声呐的时钟频率与所述基准声呐的时钟频率相同。8.一种声呐时钟同步装置，其特征在于，应用于分布式声呐三维成像系统，所述分布式声呐三维成像系统包括多个声呐，所述装置包括：信号交互模块，用于：基准声呐与待校准声呐执行两次信号交互，每次信号交互过程包括：所述基准声呐向所述各待校准声呐发送同步信号，所述同步信号中携带所述同步信号的发送时间，所述待校准声呐接收所述同步信号，并向所述基准声呐发送响应信号，所述响应信号中携带所述响应信号的发送时间，其中，所述基准声呐为所述多个声呐中的任意一个声呐，所述待校准声呐为所述多个声呐中除所述基准声呐之外的声呐；频率补偿系数确定模块，用于：所述待校准声呐根据两次信号交互时所述同步信号的发送时间和接收时间，以及所述响应信号的发送时间和接收时间，确定当前轮次的频率补偿系数；绝对时间差确定模块，用于：所述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延，并由所述基准声呐或所述待校准声呐根据所述传播时延和所述一次信号交互的响应信号的发送时间以及接收时间，确定当前轮次的所述基准声呐与所述待校准声呐的绝对时间差；校正模块，用于：所述待校准声呐根据至少一个轮次的频率补偿系数以及所述绝对时间差进行时钟校正，以使得校正后的所述待校准声呐的时钟与所述基准声呐的时钟同步。9.一种电子设备，其特征在于，包括：处理器、存储介质和总线，所述存储介质存储有所述处理器可执行的程序指令，当电子设备运行时，所述处理器与所述存储介质之间通过总线通信，所述处理器执行所述程序指令，以执行时执行如权利要求1至7任一所述的声呐时钟同步方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器运行时执行如权利要求1至7任一所述的声呐时钟同步方法的步骤。
说明书desc
技术领域本申请涉及声呐时钟同步技术领域，具体而言，涉及一种声呐时钟同步方法、装置、设备及存储介质。背景技术三维成像声呐利用二维声学传感器阵列采集声学信号的反射回波信息，且利用回波信号的时延信息可构建出水下的三维模型，可实现接近实时的三维成像效果，使人们能够对声纳数据进行更直观的解释和分析，提高水下探测的工作效率。三维成像声呐的系统中可能包括多个声呐，为了进行精确建模，一般需要根据多个声呐在物体的不同部位探测到的数据进行综合建模，但是由于声呐之间的时钟可能不同步，根据各时钟下的数据进行建模就存在精确度低的问题。因此，如何实现声呐之间的时钟同步成了亟待解决的问题。发明内容本申请的目的在于，针对上述现有技术中的不足，提供一种声呐时钟同步方法、装置、设备及存储介质，以解决现有技术中声呐时钟不同步造成的声呐成像结果不准确的问题。为实现上述目的，本申请采用的技术方案如下：第一方面，本申请提供了一种声呐时钟同步方法，应用于分布式声呐三维成像系统，所述分布式声呐三维成像系统包括多个声呐，所述方法包括：基准声呐与待校准声呐执行两次信号交互，每次信号交互过程包括：所述基准声呐向所述各待校准声呐发送同步信号，所述同步信号中携带所述同步信号的发送时间，所述待校准声呐接收所述同步信号，并向所述基准声呐发送响应信号，所述响应信号中携带所述响应信号的发送时间，其中，所述基准声呐为所述多个声呐中的任意一个声呐，所述待校准声呐为所述多个声呐中除所述基准声呐之外的声呐；所述待校准声呐根据两次信号交互时所述同步信号的发送时间和接收时间，以及所述响应信号的发送时间和接收时间，确定当前轮次的频率补偿系数；所述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延，并由所述基准声呐或所述待校准声呐根据所述传播时延和所述一次信号交互的响应信号的发送时间以及接收时间，确定当前轮次的所述基准声呐与所述待校准声呐的绝对时间差；所述待校准声呐根据至少一个轮次的频率补偿系数以及所述绝对时间差进行时钟校正，以使得校正后的所述待校准声呐的时钟与所述基准声呐的时钟同步。可选的，所述待校准声呐根据两次信号交互时所述同步信号的发送时间和接收时间，以及所述响应信号的发送时间和接收时间，确定频率补偿系数，包括：所述待校准声呐从两次信号交互时的同步信号中解析得到第一发送时间和第二发送时间，所述第一发送时间为第一次信号交互时的同步信号的发送时间，所述第二发送时间为第二次信号交互时的同步信号的发送时间；所述待校准声呐获取两次信号交互时的同步信号的第一接收时间和第二接收时间，所述第一接收时间为第一次信号交互时所述待校准声呐接收到同步信号的时间，所述第二接收时间为第二次信号交互时所述待校准声呐接收到同步信号的时间；所述待校准声呐根据所述第一发送时间和所述第二发送时间，确定所述基准声呐对应的时间差；所述待校准声呐根据所述第一接收时间和所述第二接收时间，确定所述待校准声呐对应的时间差；根据所述基准声呐对应的时间差与所述待校准声呐对应的时间差，确定所述频率补偿系数。可选的，所述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延，包括：所述基准声呐从一次信号交互中的响应信号解析得到第三接收时间；所述基准声呐获取同步信号在基准声呐时钟下的第三发送时间；所述基准声呐根据所述第三接收时间、第三发送时间以及所述同步信号在所述待校准声呐中的检测时延，确定传播时延，所述检测时延用于指示从发送所述同步信号到所述同步信号被接收以及解析完毕所需要的时长。可选的，所述根据所述传播时延和所述一次信号交互的响应信号的发送时间以及接收时间，确定所述基准声呐与所述待校准声呐的绝对时间差，包括：所述基准声呐从所述一次信号交互的响应信号中解析得到第四发送时间；所述基准声呐获取所述响应信号在所述基准声呐的时钟下的接收时间；所述基准声呐根据所述第四发送时间和所述传播时延，确定所述响应信号的在所述待校准声呐的时钟下的接收时间；所述基准声呐根据所述响应信号在所述基准声呐的时钟下的接收时间以及所述响应信号的在所述待校准声呐的时钟下的接收时间，确定所述基准声呐与所述待校准声呐的绝对时间差。可选的，向所述基准声呐发送响应信号之前，还包括：所述待校准声呐根据所述同步信号的接收时间和发送时间确定所述同步信号的检测时延；所述待校准声呐根据所述检测时延以及所述同步信号的发送时间，确定所述响应信号的发送时间。可选的，所述向所述基准声呐发送响应信号，包括：所述待校准声呐将所述响应信号的发送时间编码至所述响应信号中进行发送。可选的，所述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延之前，还包括：所述基准声呐根据所述频率补偿系数对所述基准声呐和所述待校准声呐进行初始频率校正，以使得所述基准声呐和所述待校准声呐的时钟频率相同。可选的，所述待校准声呐根据至少一个轮次的频率补偿系数以及所述绝对时间差进行时钟校正，包括：所述待校准声呐根据各轮次的频率补偿系数，确定目标频率补偿系数；所述待校准声呐根据各轮次的绝对时间差，确定目标绝对时间差；所述待校准声呐根据所述目标绝对时间差，调整所述待校准声呐的目标时刻，以使得所述目标时刻与所述基准声呐中的所述目标时刻表征同一真实时刻；所述待校准声呐根据所述目标频率补偿系数，调整所述待校准声呐的时钟频率，以使得所述待校准声呐的时钟频率与所述基准声呐的时钟频率相同。第二方面，本申请提供了一种声呐时钟同步装置，所述装置包括：信号交互模块，用于：基准声呐与待校准声呐执行两次信号交互，每次信号交互过程包括：所述基准声呐向所述各待校准声呐发送同步信号，所述同步信号中携带所述同步信号的发送时间，所述待校准声呐接收所述同步信号，并向所述基准声呐发送响应信号，所述响应信号中携带所述响应信号的发送时间，其中，所述基准声呐为所述多个声呐中的任意一个声呐，所述待校准声呐为所述多个声呐中除所述基准声呐之外的声呐；频率补偿系数确定模块，用于：所述待校准声呐根据两次信号交互时所述同步信号的发送时间和接收时间，以及所述响应信号的发送时间和接收时间，确定当前轮次的频率补偿系数；绝对时间差确定模块，用于：所述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延，并由所述基准声呐或所述待校准声呐根据所述传播时延和所述一次信号交互的响应信号的发送时间以及接收时间，确定当前轮次的所述基准声呐与所述待校准声呐的绝对时间差；校正模块，用于：所述待校准声呐根据至少一个轮次的频率补偿系数以及所述绝对时间差进行时钟校正，以使得校正后的所述待校准声呐的时钟与所述基准声呐的时钟同步。可选的，所述频率补偿系数确定模块，还用于：所述待校准声呐从两次信号交互时的同步信号中解析得到第一发送时间和第二发送时间，所述第一发送时间为第一次信号交互时的同步信号的发送时间，所述第二发送时间为第二次信号交互时的同步信号的发送时间；所述待校准声呐获取两次信号交互时的同步信号的第一接收时间和第二接收时间，所述第一接收时间为第一次信号交互时所述待校准声呐接收到同步信号的时间，所述第二接收时间为第二次信号交互时所述待校准声呐接收到同步信号的时间；所述待校准声呐根据所述第一发送时间和所述第二发送时间，确定所述基准声呐对应的时间差；所述待校准声呐根据所述第一接收时间和所述第二接收时间，确定所述待校准声呐对应的时间差；根据所述基准声呐对应的时间差与所述待校准声呐对应的时间差，确定所述频率补偿系数。可选的，所述绝对时间差确定模块，还用于：所述基准声呐从一次信号交互中的响应信号解析得到第三接收时间；所述基准声呐获取同步信号在基准声呐时钟下的第三发送时间；所述基准声呐根据所述第三接收时间、第三发送时间以及所述同步信号在所述待校准声呐中的检测时延，确定传播时延，所述检测时延用于指示从发送所述同步信号到所述同步信号被接收以及解析完毕所需要的时长。可选的，所述绝对时间差确定模块，还用于：所述基准声呐从所述一次信号交互的响应信号中解析得到第四发送时间；所述基准声呐获取所述响应信号在所述基准声呐的时钟下的接收时间；所述基准声呐根据所述第四发送时间和所述传播时延，确定所述响应信号的在所述待校准声呐的时钟下的接收时间；所述基准声呐根据所述响应信号在所述基准声呐的时钟下的接收时间以及所述响应信号的在所述待校准声呐的时钟下的接收时间，确定所述基准声呐与所述待校准声呐的绝对时间差。可选的，所述信号交互模块，还用于：所述待校准声呐根据所述同步信号的接收时间和发送时间确定所述同步信号的检测时延；所述待校准声呐根据所述检测时延以及所述同步信号的发送时间，确定所述响应信号的发送时间。可选的，所述信号交互模块，还用于：所述待校准声呐将所述响应信号的发送时间编码至所述响应信号中进行发送。可选的，所述校正模块，还用于：所述待校准声呐根据各轮次的频率补偿系数，确定目标频率补偿系数；所述待校准声呐根据各轮次的绝对时间差，确定目标绝对时间差；所述待校准声呐根据所述目标绝对时间差，调整所述待校准声呐的目标时刻，以使得所述目标时刻与所述基准声呐中的所述目标时刻表征同一真实时刻；所述待校准声呐根据所述目标频率补偿系数，调整所述待校准声呐的时钟频率，以使得所述待校准声呐的时钟频率与所述基准声呐的时钟频率相同。第三方面，本申请提供了一种电子设备，包括：处理器、存储介质和总线，所述存储介质存储有所述处理器可执行的机器可读指令，当电子设备运行时，所述处理器与所述存储介质之间通过总线通信，所述处理器执行所述机器可读指令，以执行如上述声呐时钟同步方法的步骤。第四方面，本申请提供了一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器运行时执行如上述声呐时钟同步方法的步骤。本申请的有益效果是：通过基准声呐与待校准声呐之间进行两次信号交互，并得到同步信号和响应信号，然后根据同步信号和响应信号携带的时间信息确定频率补偿系数，并根据依次信号交互中同步信号和响应信号确定传播时延，再根据传播时延结合一次信号交互时响应信号携带的时间信息，确定绝对时间差，最后根据绝对时间差和频率补偿系数对待校准声呐进行时钟校正，最终使得基准声呐与待校准声呐时钟同步，避免声呐之间在时钟不同步状态下传回的数据建模精确度低的情况，提高了三维声呐成像的效率和准确率。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1示出了本申请实施例提供的一种分布式声呐三维成像系统的应用场景图；图2示出了本申请实施例提供的一种声呐时钟同步方法的流程图；图3示出了本申请实施例提供的一种声呐信号交互的示意图；图4示出了本申请实施例提供的一种确定频率补偿系数方法的流程图；图5示出了本申请实施例提供的一种确定传播时延方法的流程图；图6示出了本申请实施例提供的一种确定绝对时间差方法的流程图；图7示出了本申请实施例提供的一种确定响应信号发送时间方法的流程图；图8示出了本申请实施例提供的一种时钟校正方法的流程图；图9示出了本申请实施例提供的一种声呐时钟同步装置的结构示意图；图10示出了本申请实施例提供的一种电子设备的结构示意图。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，应当理解，本申请中附图仅起到说明和描述的目的，并不用于限定本申请的保护范围。另外，应当理解，示意性的附图并未按实物比例绘制。本申请中使用的流程图示出了根据本申请的一些实施例实现的操作。 应该理解，流程图的操作可以不按顺序实现，没有逻辑的上下文关系的步骤可以反转顺序或者同时实施。 此外，本领域技术人员在本申请内容的指引下，可以向流程图添加一个或多个其他操作，也可以从流程图中移除一个或多个操作。另外，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本申请实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本申请的实施例的详细描述并非旨在限制要求保护的本申请的范围，而是仅仅表示本申请的选定实施例。基于本申请的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本申请保护的范围。需要说明的是，本申请实施例中将会用到术语“包括”，用于指出其后所声明的特征的存在，但并不排除增加其它的特征。目前的三维声呐成像技术中，为了获取到更全面的物体数据，一般的做法是采用多个声呐进行探测，从而得到多方位的数据，但是实际测量中，多个声呐之间的时钟可能不同步，因此可能存在多个声呐之间存在声干扰，无法获取到准确的数据，或是多个声呐的数据不同步，造成的建模不精确的问题。基于上述问题，本申请提出一种声呐时钟同步方法，该方法可以应用于图1所示的分布式声呐三维成像系统中，参照图1，分布式声呐三维成像系统包括多个声呐，各声呐发出探测信号，探测信号在探测到目标物体之后会发生反射返回到其发射声呐中，各发射声呐对返回的探测信号进行解析，可以将数据传回给电子设备，由电子设备根据各声呐的返回数据进行建模，完成被测物体的三维成像。接下来对上述声呐时钟同步方法进行具体说明，如图2所示，该方法包括：S201：基准声呐与待校准声呐执行两次信号交互，每次信号交互过程包括：基准声呐向各待校准声呐发送同步信号，同步信号中携带同步信号的发送时间，待校准声呐接收同步信号，并向基准声呐发送响应信号，响应信号中携带响应信号的发送时间，其中，基准声呐为多个声呐中的任意一个声呐，待校准声呐为多个声呐中除基准声呐之外的声呐。可选的，基准声呐可以是分布式声呐三维成像系统中的任意一个声呐，确定基准声呐后，可以将其他声呐都看作是待校准声呐，并根据基准声呐的时间校准其他的待校准声呐。可选的，基准声呐与待校准声呐执行两次信号交互的过程可以如图3所示，以一个基准声呐和一个待校准声呐为例，基准声呐首先发出第一次同步信号，同步信号中可以包括该信号在基准声呐的时钟下的发送时间，待校准声呐在接收到基准声呐发送的第一次同步信号后，向该基准声呐发送一个响应信号，响应信号中可以包括该信号在待校准声呐的时钟下的发送时间，基准声呐在接收到待校准声呐的第一次响应信号后，可以再向待校准声呐发送第二次同步声呐，待校准声呐针对接收到的第二次同步声呐向该基准声呐发送第二次响应信号，完成两次信号交互。S202：待校准声呐根据两次信号交互时同步信号的发送时间和接收时间，以及响应信号的发送时间和接收时间，确定当前轮次的频率补偿系数。可选的，频率补偿系数可以描述基准声呐和待校准声呐的时钟频率的关系，根据频率补偿系数可以将待校准声呐的时钟频率调整到与基准声呐相同，示例性的，当基准声呐和待校准声呐的时钟频率相同时，频率补偿系数可以是1，此时不需要进行频率补偿。可选的，同步信号的发送时间可以是同步信号在基准声呐时钟下的发送时间，同步信号的接收时间可以是同步信号在待校准声呐时钟下的接收时间。可选的，响应信号的发送时间可以是响应信号在待校准声呐时钟下的发送时间，响应信号的接收时间可以是响应信号在基准声呐时钟下的接收时间。S203：基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延，并由基准声呐或待校准声呐根据传播时延和一次信号交互的响应信号的发送时间以及接收时间，确定当前轮次的基准声呐与待校准声呐的绝对时间差。可选的，传播时延可以是信号从基准声呐到待校准声呐的传播时间。可选的，绝对时间差可以是以基准声呐A时刻的时间作为参考，与当前A时刻下待校准声呐的时刻之间相差的时间，当基准声呐与待校准声呐之间的时间同步时，绝对时间差应该为零。示例性的，以基准声呐的时间为基准，假设基准声呐当前的时刻为十点，与此同时，待校准声呐的当前时刻为十点十分，那么就可以确定基准声呐与待校准声呐的绝对时间差为十分钟。可选的，绝对时间差可以由基准声呐确定，或是由待校准声呐确定。值得注意的是，实际应用中基准声呐和待校准声呐的时间并不能如上述示例一样直接读取，因此需要通过信号交互时响应信号的发送时间、接收时间以及传播时延，确定当前轮次的基准声呐与待校准声呐的绝对时间差。可选的，基准声呐和待校准声呐也可以确定多个轮次的绝对时间差，提高绝对时间差计算的准确性。上述步骤S201-S203可以看作一个轮次,在每个轮次中,待校准声呐和基准声呐之间可以进行两次信号交互，同时,每个轮次中计算频率补偿系数以及绝对时间差。S204：待校准声呐根据至少一个轮次的频率补偿系数以及绝对时间差进行时钟校正，以使得校正后的待校准声呐的时钟与基准声呐的时钟同步。作为一种可能的实施方式，待校准声呐可以根据一个轮次的频率补偿系数以及绝对时间差进行时钟校正，以使得校正后的待校准声呐的时钟与基准声呐的时钟同步。在这种方式中,S201-S203执行一次,进而执行本步骤S204,从而完成时钟校正。作为另一种可能的实施方式，待校准声呐也可以根据多个轮次的频率补偿系数以及绝对时间差综合得到一个频率补偿系数和绝对时间差，并根据综合的频率补偿系数和绝对时间差进行时钟校正，以使得校正后的待校准声呐的时钟与基准声呐的时钟同步。在这种方式中,S201-S203执行多次,得到多个频率补偿系数和绝对时间差，进而执行一次本步骤S204,以利用得到的多个频率补偿系数和多对时间差完成时钟校正。待校准声呐的时钟与基准声呐的时钟同步，可以是待校准声呐与基准声呐的时钟频率相同，且特定时刻的时间也相同。在本申请实施例中，通过在分布式声纳系统中确定一个基准声呐，基准声呐与待校准声呐之间进行两次信号交互，并得到同步信号和响应信号，根据同步信号和响应信号携带的时间信息确定频率补偿系数，并根据依次信号交互中同步信号和响应信号确定传播时延，传播时延结合一次信号交互时响应信号携带的时间信息，确定绝对时间差，最后根据绝对时间差和频率补偿系数对待校准声呐进行时钟校正，最终使得分布式系统内的多个时钟同步，避免声呐之间在时钟不同步状态下传回的数据建模精确度低的情况，提高了三维声呐成像的效率。接下来对上述待校准声呐根据两次信号交互时同步信号的发送时间和接收时间，以及响应信号的发送时间和接收时间，确定频率补偿系数的步骤进行说明，如图4所示，上述S202步骤包括：S401：待校准声呐从两次信号交互时的同步信号中解析得到第一发送时间和第二发送时间，第一发送时间为第一次信号交互时的同步信号的发送时间，第二发送时间为第二次信号交互时的同步信号的发送时间。可选的，待校准声呐可以通过解析从基准声呐发送过来的两次同步信号，获取两次同步信号中携带的时间信息。值得注意的是，上述两次同步信号中携带的时间信息是在基准声呐的时钟下的时间信息。可选的，第一发送时间可以是基准声呐第一次发送的同步信号的发送时间，第二发送时间可以是基准声呐第二次发送的同步信号的发送时间。S402：待校准声呐获取两次信号交互时的同步信号的第一接收时间和第二接收时间，第一接收时间为第一次信号交互时待校准声呐接收到同步信号的时间，第二接收时间为第二次信号交互时待校准声呐接收到同步信号的时间。可选的，待校准声呐可以在接收到两次同步信号时，记录两个同步信号在待校准声呐的时钟下的接收时间。可选的，第一接收时间可以是待校准声呐第一次接收的同步信号的接收时间，第二接收时间可以是待校准声呐第二次接收的同步信号的接收时间。S403：待校准声呐根据第一发送时间和第二发送时间，确定基准声呐对应的时间差。可选的，待校准声呐可以根据第一发送时间和第二发送时间，确定在基准声呐的时钟下发送两次同步信号的时间差。S404：待校准声呐根据第一接收时间和第二接收时间，确定待校准声呐对应的时间差。可选的，待校准声呐可以根据第一接收时间和第二接收时间，确定在待校准声呐的时钟下接收两次同步信号的时间差。S405：根据基准声呐对应的时间差与待校准声呐对应的时间差，确定频率补偿系数。可选的，根据基准声呐时钟下的两次同步信号发送时间的时间差，以及待校准声呐时钟下两次同步信号接收时间的时间差，可以确定频率补偿系数。值得注意的是，在基准声呐和待校准声呐的时钟频率相同时，频率补偿系数的值可以看作1，此时由于两次同步信号在基准声呐和待校准声呐之间的传播时延相同，因此上述两次同步信号发送时间的时间差和接收时间的时间差应该是相同的。但是实际场景中，基准声呐和待校准声呐的时钟频率可能不同，例如待校准声呐的时钟频率大于基准声呐的时钟频率，可以理解，待校准声呐的时钟走得较快的情况下，两次同步信号接收时间差就可能大于同步信号发送时间的时间差，此时频率补偿系数的值可能小于1。示例性的，待校准声呐通过解析基准声呐发送的第一次同步信号和第二次同步信号，确定同步信号的发送时间分别为和，且两次同步信号在待校准声呐中的接收时间分别为和，那么频率补偿系数可以如下式所示：在本申请实施例中，待校准声呐通过解析两次同步信号的发送时间，结合两次同步信号的接收时间，得到两次同步信号在基准声呐时钟下的发送时间差，以及在待校准声呐时钟下的接收时间差，可以确定待校准声呐和基准声呐的频率补偿系数，从而首先确定待校准声呐和基准声呐的时钟频率是否同步。接下来对上述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延的步骤进行说明，如图5所示，上述步骤包括：S501：基准声呐从一次信号交互中的响应信号解析得到第三接收时间。可选的，基准声呐可以对一次信号交互中的响应信号进行解析，得到该响应信号在基准声呐的接收时间，作为第三接收时间。S502：基准声呐获取同步信号在基准声呐时钟下的第三发送时间。可选的，基准声呐发送同步信号时，可以记录发送该同步信号时基准声呐中的本地时间，作为同步信号的第三发送时间。S503：基准声呐根据第三接收时间、第三发送时间以及同步信号在待校准声呐中的检测时延，确定传播时延，检测时延用于指示从发送同步信号到同步信号被接收以及解析完毕所需要的时长。可选的，检测时延可以是从基准声呐发送同步信号到同步信号被待校准声呐接收以及解析完毕所需要的时长。可选的，基准声呐可以根据一次信号交互中响应信号的第三接收时间、同步信号的第三发送时间，首先得到一次信号交互所用的总时间，再根据同步信号在待校准声呐中的检测时延，结合该总时间得到信号在基准声呐与待校准声呐之间的传播时延。示例性的，假设第三接收时间为，第三发送时间为，检测时延为，那么信号在基准声呐与待校准声呐之间的传播时延可以由下式得到：接下来对上述根据传播时延和一次信号交互的响应信号的发送时间以及接收时间，确定基准声呐与待校准声呐的绝对时间差的步骤进行说明，如图6所示，上述S203步骤包括：S601：基准声呐从一次信号交互的响应信号中解析得到第四发送时间；可选的，基准声呐从待校准声呐发送的响应信号中可以解析得到待校准声呐时钟下该响应信号的发送时间。S602：基准声呐获取响应信号在基准声呐的时钟下的接收时间。可选的，基准声呐在接收到该响应信号时，可以记录在基准声呐时钟下接收该响应信号的时间。S603：基准声呐根据第四发送时间和传播时延，确定响应信号的在待校准声呐的时钟下的接收时间。可选的，基准声呐根据接收到的响应信号在待校准声呐中的发送时间和传播时延，可以确定在待校准声呐的时钟下，该响应信号被基准声呐接收的时间。示例性的，第四发送时间，即响应信号在待校准声呐时钟下的发送时间为，基准声呐与待校准声呐之间的传播时延为，则在待校准声呐的时钟下，该响应信号被基准声呐接收的时间可以为+。S604：基准声呐根据响应信号在基准声呐的时钟下的接收时间以及响应信号的在待校准声呐的时钟下的接收时间，确定基准声呐与待校准声呐的绝对时间差。可选的，基准声呐可以根据响应信号在基准声呐的时钟下的接收时间以及响应信号的在待校准声呐的时钟下的接收时间，确定基准声呐与待校准声呐的绝对时间差。示例性的，参照图3，以第一次响应信号的交互为例，待校准声呐发送第一次响应信号时，会在响应信号中添加发送时间，基准声呐在接收到第一次响应信号，通过解析可以得到发送时间，结合传播时延，可以计算得到该响应信号在待校准声呐的时钟下，被基准声呐接收的时间为+，同时基准声呐在接收到该响应信号时，也会记录一个基准声呐时钟下的接收时间，所以就可以得到绝对时间差。值得注意的是，上述绝对时间差是基准声呐计算得到的，在基准声呐确定绝对时间差后，可以将该绝对时间差传回给待校准声呐，由待校准声呐根据绝对时间差进行时间的校正。需要说明的是，在本申请中，绝对时间差可以根据任意一次信号交互计算得到，例如在另一种实施方式中，也可以根据第一次同步信号在待校准声呐下的接收时间、在基准声呐中的接收时间以及传播时延得到，此时，基准声呐可以将传播时延先返回给待校准声呐，由待校准声呐进行上述绝对时间差的计算，最后根据确定的绝对时间差进行时钟的校正。示例性的，待校准声呐确定绝对时间差的步骤可以是：基准声呐发送第一次同步信号时，会在同步信号中添加发送时间，待校准声呐在接收到第一次同步信号，通过解析可以得到发送时间，结合传播时延，可以计算得到该同步信号在基准声呐的时钟下，被待校准声呐接收的时间为+，同时待校准声呐在接收到该同步信号时，也会记录一个待校准声呐时钟下的接收时间，所以就可以得到绝对时间差。在本申请实施例中，通过一次信号交互中的响应信号的发送时间、接收时间和基准声呐与待校准声呐之间的传播时延，可以确定特定时刻下基准声呐与待校准声呐之间的绝对时间差，提高了时钟校正的准确性。以下是对向基准声呐发送响应信号之前的步骤说明，如图7所示，该步骤包括：S701：待校准声呐根据同步信号的接收时间和发送时间确定同步信号的检测时延。可选的，检测时延可以是信号从发送到被接收以及解析所需要的时间。S702：待校准声呐根据检测时延以及同步信号的发送时间，确定响应信号的发送时间。可选的，待校准声呐接收到同步信号后，根据检测时延和同步信号的发送时间，可以确定响应信号的发送时间。示例性的，待校准声呐接收到同步信号后，解析得到该信号的发送时间为，待校准声呐就可以根据该信号的发送时间以及检测时延，计算响应信号的发送时间，并将该发送时间编码至响应信号中。在本申请实施例中，待校准声呐根据检测时延以及同步信号的手法时间，可以确定响应信号的发送时间，并将该发送时间添加至响应信号中，使得交互过程中的信号都带有时间信息。上述向基准声呐发送响应信号的步骤还包括：待校准声呐将响应信号的发送时间编码至响应信号中进行发送。可选的，本申请实施例中的同步信号和响应信号中都可以带有时间信息，示例性的，时间信息可以是时间戳信息。可选的，同步信号和响应信号携带时间信息的具体方式例如可以是设计编码调制信号，将时间的编码信息调制于信号内，不同的码字对应不同的时间信息。示例性的，码字与时间对应的方式可以如下表所示：表码字时间对应表其中码字的设计可以是正交码，即不同的码字其内积等于零或不同的码字其内积低于特定值，示例性的，可用Gold码产生此码字。基于该码字的同步信号的一种实现方式如下式所示：其中为声呐的工作频率，为发送信号的第个采样时间点，为码字中的第个单元，为产生的信号。在本申请实施例中，通过将时间信息编码至信号中，可以使基准声呐和待校准声呐通过对信号进行解析得到信号的时间信息，提高了根据信号进行时钟同步的可靠度。接下来对上述基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延之前的步骤进行说明，该步骤包括：基准声呐根据频率补偿系数对基准声呐和待校准声呐进行初始频率校正，以使得基准声呐和待校准声呐的时钟频率相同。可选的，在每个轮次中确定传播时延之前，可以首先根据频率补偿系数对基准声呐和待校准声呐进行一次初始的频率校正，即在每个轮次内部进行一次频率校正，以保证基准声呐和待校准声呐中的时钟频率相同，这样在S503中的检测时延就可以在基准声呐和待校准声呐中表示相同的时长，提高后续确定绝对时间差的准确性。进而，在步骤S204中再基于各轮次的频率补偿系数再进行综合的频率校正，以进一步提升综合的校正结果。接下来对上述S204中待校准声呐根据至少一个轮次的频率补偿系数以及绝对时间差进行时钟校正的步骤进行说明，如图8所示，上述204步骤包括：S801：待校准声呐根据各轮次的频率补偿系数，确定目标频率补偿系数。可选的，待校准声呐可以计算多个轮次的频率补偿系数，并将各轮次的频率补偿系数的平均值确定为目标频率补偿系数。S802：待校准声呐根据各轮次的绝对时间差，确定目标绝对时间差。可选的，待校准声呐可以计算多个轮次的绝对时间差，并将各轮次的绝对时间差的平均数确定为目标绝对时间差。S803：待校准声呐根据目标绝对时间差，调整待校准声呐的目标时刻，以使得目标时刻与基准声呐中的目标时刻表征同一真实时刻。可选的，待校准声呐可以根据目标绝对时间差，调整待校准声呐的目标时刻。可选的，表征同一真实时刻可以是在特定时刻下基准声呐与待校准声呐的时刻相同。示例性的，假设目标绝对时间差为T，表示待校准声呐比基准声呐快十分钟，假设基准声呐中的目标时刻为十点，此时待校准声呐中的时间为十点十分，那么就可以将待校准声呐中的时间调整为十点，以保证基准声呐与待校准声呐中的目标时刻相同。S804：待校准声呐根据目标频率补偿系数，调整待校准声呐的时钟频率，以使得待校准声呐的时钟频率与基准声呐的时钟频率相同。可选的，待校准声呐可以根据目标补偿系数，对待校准声呐的时钟频率进行再次调整，使得待校准声呐的时钟频率与基准声呐的时钟频率相同。值得注意的是，本步骤中的频率调整与上述初始频率校正可以分别作为两次频率调整，初始频率调整的作用可以是保证基准声呐和待校准声呐的频率基本一致，本步骤中的频率补偿可以是对基准声呐和待校准声呐的频率进行二次校验和补偿。基于同一发明构思，本申请实施例中还提供了与声呐时钟同步方法对应的声呐时钟同步装置，由于本申请实施例中的装置解决问题的原理与本申请实施例上述声呐时钟同步方法相似，因此装置的实施可以参见方法的实施，重复之处不再赘述。参照图9所示，为本申请实施例提供的一种声呐时钟同步装置的示意图，所述装置包括：信号交互模块901、频率补偿系数确定模块902、绝对时间差确定模块903、校正模块904，其中：信号交互模块901，用于：基准声呐与待校准声呐执行两次信号交互，每次信号交互过程包括：基准声呐向各待校准声呐发送同步信号，同步信号中携带同步信号的发送时间，待校准声呐接收同步信号，并向基准声呐发送响应信号，响应信号中携带响应信号的发送时间，其中，基准声呐为多个声呐中的任意一个声呐，待校准声呐为多个声呐中除基准声呐之外的声呐；频率补偿系数确定模块902，用于：待校准声呐根据两次信号交互时同步信号的发送时间和接收时间，以及响应信号的发送时间和接收时间，确定当前轮次的频率补偿系数；绝对时间差确定模块903，用于：基准声呐根据两次信号交互中一次信号交互的同步信号和响应信号，确定传播时延，并由基准声呐或待校准声呐根据传播时延和一次信号交互的响应信号的发送时间以及接收时间，确定当前轮次的基准声呐与待校准声呐的绝对时间差；校正模块904，用于：待校准声呐根据至少一个轮次的频率补偿系数以及绝对时间差进行时钟校正，以使得校正后的待校准声呐的时钟与基准声呐的时钟同步。可选的，频率补偿系数确定模块902，还用于：待校准声呐从两次信号交互时的同步信号中解析得到第一发送时间和第二发送时间，第一发送时间为第一次信号交互时的同步信号的发送时间，第二发送时间为第二次信号交互时的同步信号的发送时间；待校准声呐获取两次信号交互时的同步信号的第一接收时间和第二接收时间，第一接收时间为第一次信号交互时待校准声呐接收到同步信号的时间，第二接收时间为第二次信号交互时待校准声呐接收到同步信号的时间；待校准声呐根据第一发送时间和第二发送时间，确定基准声呐对应的时间差；待校准声呐根据第一接收时间和第二接收时间，确定待校准声呐对应的时间差；根据基准声呐对应的时间差与待校准声呐对应的时间差，确定频率补偿系数。可选的，绝对时间差确定模块903，还用于：基准声呐从一次信号交互中的响应信号解析得到第三接收时间；基准声呐获取同步信号在基准声呐时钟下的第三发送时间；基准声呐根据第三接收时间、第三发送时间以及同步信号在待校准声呐中的检测时延，确定传播时延，检测时延用于指示从发送同步信号到同步信号被接收以及解析完毕所需要的时长。可选的，绝对时间差确定模块903，还用于：基准声呐从一次信号交互的响应信号中解析得到第四发送时间；基准声呐获取响应信号在基准声呐的时钟下的接收时间；基准声呐根据第四发送时间和传播时延，确定响应信号的在待校准声呐的时钟下的接收时间；基准声呐根据响应信号在基准声呐的时钟下的接收时间以及响应信号的在待校准声呐的时钟下的接收时间，确定基准声呐与待校准声呐的绝对时间差。可选的，信号交互模块901，还用于：待校准声呐根据同步信号的接收时间和发送时间确定同步信号的检测时延；待校准声呐根据检测时延以及同步信号的发送时间，确定响应信号的发送时间。可选的，信号交互模块901，还用于：待校准声呐将响应信号的发送时间编码至响应信号中进行发送。可选的，校正模块904，还用于：待校准声呐根据各轮次的频率补偿系数，确定目标频率补偿系数；待校准声呐根据各轮次的绝对时间差，确定目标绝对时间差；待校准声呐根据目标绝对时间差，调整待校准声呐的目标时刻，以使得目标时刻与基准声呐中的目标时刻表征同一真实时刻；待校准声呐根据目标频率补偿系数，调整待校准声呐的时钟频率，以使得待校准声呐的时钟频率与基准声呐的时钟频率相同。关于装置中的各模块的处理流程、以及各模块之间的交互流程的描述可以参照上述方法实施例中的相关说明，这里不再详述。本申请实施例通过在分布式声纳系统中确定一个基准声呐，基准声呐与待校准声呐之间进行两次信号交互，并得到交互过程中的同步信号和响应信号，根据同步信号和响应信号携带的时间信息确定频率补偿系数，并根据依次信号交互中同步信号和响应信号确定传播时延，传播时延结合一次信号交互时响应信号携带的时间信息，确定绝对时间差，最后根据绝对时间差和频率补偿系数对待校准声呐进行时钟校正，最终使得分布式系统内的多个时钟同步，避免声呐之间在时钟不同步状态下传回的数据建模精确度低的情况，提高了三维声呐成像的效率。本申请实施例还提供了一种电子设备，如图10所示，为本申请实施例提供的电子设备结构示意图，包括：处理器1001、存储器1002、和总线。所述存储器1002存储有所述处理器1001可执行的机器可读指令，当计算机设备运行时，所述处理器1001与所述存储器1002之间通过总线通信，所述机器可读指令被所述处理器1001执行时执行上述声呐时钟同步方法的处理。本申请实施例还提供了一种计算机可读存储介质，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器运行时执行上述声呐时钟同步方法的步骤。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统和装置的具体工作过程，可以参考方法实施例中的对应过程，本申请中不再赘述。在本申请所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，又例如，多个模块或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些通信接口，装置或模块的间接耦合或通信连接，可以是电性，机械或其它的形式。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。
