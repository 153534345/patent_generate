标题title
适用于大坡度地形数值分析结构化网格加密方法及装置
摘要abst
本发明公开了一种适用于大坡度地形数值分析结构化网格加密方法及装置，其中方法包括：将计算域划分为多个尺寸相等的第一矩形区块，第一矩形区块的边长为x；确定计算域中的加密区、过渡区和粗网格区；将属于加密区的第一矩形区块划分为多个尺寸相等的第二矩形区块，第二矩形区块的边长为y，其中，y＝x/n，n为大于1的正整数；将属于过渡区的第一矩形区块划分为多个不规则的多边形，其中，多边形中与加密区贴合的边的边长为y，远离加密区的边的边长为x；将属于粗网格区的第一矩形区块作为无需加密区域。其装置包括第一划分模块、确定模块、第二划分模块、第三划分模块、处理模块。该方法及装置可更精准地实现复杂流场的数值模拟，提升模型质量。
权利要求书clms
1.一种适用于大坡度地形数值分析结构化网格加密方法，其特征在于，包括：将计算域划分为多个尺寸相等的第一矩形区块，第一矩形区块的边长为x；确定计算域中的加密区、过渡区和粗网格区；将属于加密区的第一矩形区块划分为多个尺寸相等的第二矩形区块，第二矩形区块的边长为y，其中，y＝x/n，n为大于1的正整数；将属于过渡区的第一矩形区块划分为多个不规则的多边形，其中，多边形中与加密区贴合的边的边长为y，远离加密区的边的边长为x；将属于粗网格区的第一矩形区块作为无需加密区域。2.如权利要求1所述的方法，其特征在于，确定计算域中的所述加密区、所述过渡区和所述粗网格区，包括：获取计算域中每个第一矩形区块的坡度信息；将坡度信息与预设坡度值进行比较；当所述坡度信息大于所述预设坡度值时，确定对应的第一矩形区块属于所述加密区；将不属于所述加密区但与所述加密区相邻的第一矩形区块作为所述过渡区；将与所述加密区不相邻的第一矩形区块作为所述粗网格区。3.如权利要求1所述的方法，其特征在于，当所述加密区为矩形时，将属于所述过渡区的第一矩形区块划分为多个不规则的多边形，包括：将与所述加密区贴合的边三等分，确定两个边点；由所述两个边点，分别沿远离所述加密区的方向延伸至内点，所述边点与所述内点的距离为x/2；将所述两个内点分别与对应的第一矩形区块的角点相连，以将对应的第一矩形区块划分为多个四边形。4.如权利要求3所述的方法，其特征在于，当所述加密区为不规则形状时，将属于所述过渡区的第一矩形区块划分为多个不规则的多边形，包括：确定所述过渡区的第一矩形区块与所述加密区相邻的边的数量；当所述过渡区的第一矩形区块与所述加密区相邻的边的数量等于1时，采用如权利要求3的划分方法对所述过渡区的第一矩形区块进行划分。5.如权利要求4所述的方法，其特征在于，还包括：当所述过渡区的第一矩形区块与所述加密区相邻的边的数量大于1时，将与所述加密区贴合的两条边三等分，确定四个边点；由所述的四个边点，分别沿远离所述加密区的方向延伸，形成三个内点；将所述的三个内点分别与对应的第一矩形区块的三个角点相连，以将对应的第一矩形区块划分为多个多边形。6.一种适用于大坡度地形数值分析结构化网格加密装置，其特征在于，包括：第一划分模块，用于将计算域划分为多个尺寸相等的第一矩形区块，第一矩形区块的边长为x；确定模块，用于确定计算域中的加密区、过渡区和粗网格区；第二划分模块，用于将属于所述加密区的第一矩形区块划分为多个尺寸相等的第二矩形区块，第二矩形区块的边长为y，其中，y＝x/n，n为大于1的正整数；第三划分模块，用于将属于所述过渡区的第一矩形区块划分为多个不规则的多边形，其中，多边形中与所述加密区贴合的边的边长为y，远离所述加密区的边的边长为x；处理模块，用于将属于所述粗网格区的第一矩形区块作为无需加密区域。7.如权利要求6所述的装置，其特征在于，所述确定模块，用于：获取计算域中每个第一矩形区块的坡度信息；将坡度信息与预设坡度值进行比较；当所述坡度信息大于所述预设坡度值时，确定对应的第一矩形区块属于所述加密区；将不属于所述加密区但与所述加密区相邻的第一矩形区块作为所述过渡区；将与所述加密区不相邻的第一矩形区块作为所述粗网格区。8.如权利要求6所述的装置，其特征在于，当所述加密区为矩形时，所述第三划分模块，用于：将与所述加密区贴合的边三等分，确定两个边点；由所述的两个边点，分别沿远离所述加密区的方向延伸至内点，边点与内点的距离为x/2；将所述的两个内点分别与对应的第一矩形区块的角点相连，以将对应的第一矩形区块划分为多个四边形。9.如权利要求8所述的装置，其特征在于，当所述加密区为不规则形状时，所述第三划分模块，用于：确定所述过渡区的第一矩形区块与所述加密区相邻的边的数量；当所述过渡区的第一矩形区块与所述加密区相邻的边的数量等于1时，采用以下方法对所述过渡区的第一矩形区块进行划分：将与所述加密区贴合的边三等分，确定两个边点；由所述的两个边点，分别沿远离所述加密区的方向延伸至内点，边点与内点的距离为x/2；将所述的两个内点分别与对应的第一矩形区块的角点相连，以将对应的第一矩形区块划分为多个四边形。10.如权利要求9所述的装置，其特征在于，所述第三划分模块，还用于：当所述过渡区的第一矩形区块与所述加密区相邻的边的数量大于1时，将与所述加密区贴合的两条边三等分，确定四个边点；由所述的四个边点，分别沿远离所述加密区的方向延伸，形成三个内点；将所述的三个内点分别与对应的第一矩形区块的三个角点相连，以将对应的第一矩形区块划分为多个多边形。
说明书desc
技术领域本申请涉及计算流体力学领域，尤其涉及一种适用于大坡度地形数值分析结构化网格加密方法及装置。背景技术近年来，由于计算机技术的普及和应用，计算流体力学得到快速的发展，CFD是基于离散化的数值计算方法，对流体相对于不同固体边界的内外流场进行数值模拟，分析并预测流体流动、传质、化学反应等相关物理现象的学科，能够对复杂流场进行数值模拟，为模型数据提供有价值的数据，完成相关结构优化，节省了大量的时间和人力、物力。CFD计算的第一步是网格划分，即对空间上连续的计算域进行划分，把它划分成多个子区域，并确定每个子区域中的节点，在远离边界和流-固交界面时，流动比较缓慢，粗网格可以满足精度要求，可在流场的大部分区域应用。但由于工程中遇到的流动大多发生在复杂区域，如一些坡度变化较大的地面，特别是在空间和时间梯度较大，以及一些突角、边缘处，使用粗网格进行模拟则精度不准确，影响建模质量，故需要在这些区域进行网格加密。结构化网格是指网格区域内所有的内部点都具有相同的毗邻单元。结构化网格分为很多种，在网格生成技术中，最古老、最基本和概念上最简单的网格即直角坐标系的矩形网格。在结构化网格中，容易实现区域的边界拟合，适用于流体和表面应力集中等方面的计算，具有生成速度快、质量好，数据结构简单，与接近实际模型等优点。在现有研究中，对于复杂区域，基于结构化网格的加密技术研究较少，为了完善结构化网格生成技术，有必要提供一种适用于复杂地形的网格加密方法及装置。发明内容本申请的目的旨在至少在一定程度上解决上述的技术问题之一。为此，本申请的第一个目的在于提出一种适用于大坡度地形数值分析结构化网格加密方法，提升对复杂流场数值模拟的精度，精准地还原真实地形的细节，并提升计算效率。本申请的第二个目的在于提出一种适用于大坡度地形数值分析结构化网格加密装置，通过该装置更精准地实现对复杂流场的数值模拟。为了实现上述目的一，本申请的第一方面提出了一种适用于大坡度地形数值分析结构化网格加密方法，该方法包括：将计算域划分为多个尺寸相等的第一矩形区块，第一矩形区块的边长为x；确定计算域中的加密区、过渡区和粗网格区；将属于加密区的第一矩形区块划分为多个尺寸相等的第二矩形区块，第二矩形区块的边长为y，其中，y＝x/n，n为大于1的正整数；将属于过渡区的第一矩形区块划分为多个不规则的多边形，其中，多边形中与加密区贴合的边的边长为y，远离加密区的边的边长为x；将属于粗网格区的第一矩形区块作为无需加密区域。可选的，确定计算域中的加密区、过渡区和粗网格区，包括：获取计算域中每个第一矩形区块的坡度信息；将坡度信息与预设坡度值进行比较；当坡度信息大于预设坡度值时，确定对应的第一矩形区块属于加密区；将不属于加密区但与加密区相邻的第一矩形区块作为过渡区；将与加密区不相邻的第一矩形区块作为粗网格区。可选的，当加密区为矩形时，将属于过渡区的第一矩形区块划分为多个不规则的多边形，包括：将与加密区贴合的边三等分，确定两个边点；由两个边点，分别沿远离加密区的方向延伸至内点，边点与内点的距离为x/2；将两个内点分别与对应的第一矩形区块的角点相连，以将对应的第一矩形区块划分为多个四边形。可选的，当加密区为不规则形状时，将属于过渡区的第一矩形区块划分为多个不规则的多边形，包括：确定过渡区的第一矩形区块与加密区相邻的边的数量；当过渡区的第一矩形区块与加密区相邻的边的数量等于1时，采用加密区为矩形时对过渡区的第一矩形区块划分的方法进行划分。可选的，当加密区为不规则形状时，将属于过渡区的第一矩形区块划分为多个不规则的多边形的方法，还包括：当过渡区的第一矩形区块与加密区相邻的边的数量大于1时，将与加密区贴合的两条边三等分，确定四个边点；由四个边点，分别沿远离加密区的方向延伸，形成三个内点；将三个内点分别与对应的第一矩形区块的三个角点相连，以将对应的第一矩形区块划分为多个多边形。基于上述技术方案，适用于大坡度地形数值分析结构化网格加密方法至少具有如下有益效果：本发明提出的适用于大坡度地形数值分析结构化网格加密方法，通过在CFD数值模拟中进行结构化网格加密，显著提高计算域网格划分质量，有效提升数值模拟的精确度和计算效率，补齐复杂地形下结构化网格加密方法的短板，对CFD建模优化设计具有重要意义。为实现本申请的第二个目的，本申请的另一方面提出了一种适用于大坡度地形数值分析结构化网格加密装置，该装置包括：第一划分模块，用于将计算域划分为多个尺寸相等的第一矩形区块，第一矩形区块的边长为x；确定模块，用于确定计算域中的加密区、过渡区和粗网格区；第二划分模块，用于将属于加密区的第一矩形区块划分为多个尺寸相等的第二矩形区块，第二矩形区块的边长为y，其中，y＝x/n，n为大于1的正整数；第三划分模块，用于将属于过渡区的第一矩形区块划分为多个不规则的多边形，其中，多边形中与加密区贴合的边的边长为y，远离加密区的边的边长为x；处理模块，用于将属于粗网格区的第一矩形区块作为无需加密区域。可选的，确定模块，用于：获取计算域中每个第一矩形区块的坡度信息；将坡度信息与预设坡度值进行比较；当坡度信息大于预设坡度值时，确定对应的第一矩形区块属于加密区；将不属于加密区但与加密区相邻的第一矩形区块作为过渡区；将与加密区不相邻的第一矩形区块作为粗网格区。可选的，当加密区为矩形时，第三划分模块，用于：将与加密区贴合的边三等分，确定两个边点；由两个边点，分别沿远离加密区的方向延伸至内点，边点与内点的距离为x/2；将两个内点分别与对应的第一矩形区块的角点相连，以将对应的第一矩形区块划分为多个四边形。可选的，当加密区为不规则形状时，第三划分模块，用于：确定过渡区的第一矩形区块与加密区相邻的边的数量；当过渡区的第一矩形区块与加密区相邻的边的数量等于1时，采用以下方法对所述过渡区的第一矩形区块进行划分：将与所述加密区贴合的边三等分，确定两个边点；由所述的两个边点，分别沿远离所述加密区的方向延伸至内点，边点与内点的距离为x/2；将所述的两个内点分别与对应的第一矩形区块的角点相连，以将对应的第一矩形区块划分为多个四边形。可选的，第三划分模块，还用于：当过渡区的第一矩形区块与加密区相邻的边的数量大于1时，将与加密区贴合的两条边三等分，确定四个边点；由四个边点，分别沿远离加密区的方向延伸，形成三个内点；将三个内点分别与对应的第一矩形区块的三个角点相连，以将对应的第一矩形区块划分为多个多边形。基于上述技术方案，适用于大坡度地形数值分析结构化网格加密装置至少具有如下有益效果：本发明提出的适用于大坡度地形数值分析结构化网格加密装置，通过在CFD数值模拟中进行结构化网格加密，显著提高计算域网格划分质量，有效提升数值模拟的精确度和计算效率。附图说明图1是本申请一个实施例的适用于大坡度地形数值分析结构化网格加密装置方法的流程图；图2是本申请一个实施例的加密区为矩形时对过渡区第一矩形区块划分的效果示意图；图3是本申请另一个实施例的加密区为不规则形状时对过渡区第一矩形区块划分的效果示意图；图4是本申请一个实施例的适用于大坡度地形数值分析结构化网格加密装置的结构示意图。具体实施方式需要说明的是，在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。下面将参考附图并结合实施例来详细说明本发明。以下结合具体实施例对本发明作进一步详细描述，这些实施例不能理解为限制本发明所要求保护的范围。实施例：下面参考附图描述本申请实施例的基于地形坡度的网格加密方法和装置。图1是本申请的一个实施例的适用于大坡度地形数值分析结构化网格加密方法的流程图，如图所示，该方法包括以下步骤：S1，将计算域划分为多个尺寸相等的第一矩形区块。为了清楚、简洁地描述该方法，在本实施例中将第一矩形区块的边长用x表示。S2，确定计算域中的加密区1、过渡区2和粗网格区3。由于大坡度地区地形复杂，仅通过粗网格模拟得到的精度不准，模型质量较低，为此在本方法中把计算域分为加密区1、过渡区2和粗网格区3。具体的划分方法如下：首先，获取计算域中每个第一矩形区块的坡度信息。具体的，可通过获取计算域中每个第一矩形区块的地理参数信息得到坡度信息。其次，将坡度信息与预设坡度值进行比较。当坡度信息大于预设坡度值时，确定对应的第一矩形区块属于加密区1。原因在于此区域如果采用粗网格进行划分，那么其对应的物理量数据精度会比较低，因此需要对其进行加密，即将其确定为加密区，来提升数据的精确度。当坡度信息小于等于预设坡度值时，确定对应的第一矩形区块不属于加密区1，也就是说，该区域的物理量数据无需精细划分，即该区域无需加密。最后，依据上述坡度信息与预设坡度值的比较结果，将不属于加密区1但与加密区1相邻的第一矩形区块作为过渡区2，将与加密区1不相邻的第一矩形区块作为粗网格区3。S3，将属于加密区1的第一矩形区块划分为多个尺寸相等的第二矩形区块。在本实施例中将第二矩形区块的边长用y表示，其中，y＝x/n，n为大于1的正整数。如图2中n为2，将第一矩形区块的边长x三等分，第一矩形区块被划分为9个尺寸相等的第二矩形区块。S4，将属于过渡区2的第一矩形区块划分为多个不规则的多边形。在本申请的一个具体实施例中，如图2所示，当加密区1为矩形时，对过渡区2第一矩形区块的划分步骤为：首先，将与加密区1贴合的边三等分，确定两个边点。以图2为例，在该步骤中，将该边三等分的两个点A2、B2称为边点，通过三等分的方法，获得的四边形区域尺寸基本均衡，且保证了过渡区的精度。其次，由两个边点，分别沿远离加密区1的方向延伸至内点。具体的，在图2中，由边点A2、B2分别沿远离加密区1的方向延伸至内点M2、N2，边点到内点的距离为x/2，可理解为，由边点向上延伸至平行矩形边的二分之一处。最后，将两个内点分别与对应的第一矩形区块的角点相连，角点为第一矩形区块的顶点。在图2中，将两个内点M2、N2分别与对应的第一矩形区块的角点E2、G2相连，经连线后，对应的第一矩形区块被划分为3个梯形、1个矩形，其中，四边形中与加密区1贴合的边的边长为y，远离加密区1的边的边长为x。在本申请的另一个具体实施例中，如图3所示，当加密区1为不规则形状时，将属于过渡区2的第一矩形区块划分为多个不规则的多边形的方法如下：首先，确定过渡区2的第一矩形区块与加密区1相邻的边的数量。如图3中，过渡区2的第一矩形区块21与加密区1相邻的边的数量为1，过渡区2的另一个第一矩形区块22与加密区1相邻的边的数量为2。其次，当过渡区2的第一矩形区块与加密区1相邻的边的数量等于1时，采用加密区1为矩形时的划分方法对过渡区2的第一矩形区块进行划分。如图3所示，该图中加密区1为不规则形状，过渡区的一个第一矩形区块21与加密区1相邻的边的数量为1，采用加密区1为矩形时的划分方法，经划分后，对应的第一矩形区块被划分为被划分为3个梯形、1个矩形。此外，在图3中示出了本申请的另一个实施例，当加密区1为不规则形状时，将属于过渡区2的第一矩形区块划分为多个不规则的多边形的方法，还包括：首先，当过渡区2的第一矩形区块与加密区1相邻的边的数量大于1时，将与加密区1贴合的两条边分别三等分，同时在这两条边上确定四个边点。如图3所示，该图中加密区1为不规则形状，过渡区的另一个第一矩形区块22与加密区相邻的边的数量为2，将与加密区1贴合的两条边分别三等分，同时在这两条边上确定四个边点A3、B3、C3、D3。其次，由四个边点，分别沿远离加密区1的方向延伸，形成三个内点。如图3中，由已确定的四个边点A3、B3、C3、D3延伸的四条延伸线会形成四个交叉点M3、N3、P3、Q3、，将M3、N3、Q3这三个交叉点作为三个内点。最后，将三个内点分别与对应的第一矩形区块的三个角点相连，以将对应的第一矩形区块划分为多个多边形。如图3所示，将上个步骤中确定的三个内点M3、N3、Q3分别与对应的第一矩形区块的三个角点E3、F3、H3相连，经连线后，过渡区的另一个第一矩形区块22被划分为四个正方形、两个三角形、两个梯形。S5，将属于粗网格区3的第一矩形区块作为无需加密区域。从上述描述中，可以看出，本申请实施例的适用于大坡度地形数值分析结构化网格加密方法，通过在CFD数值模拟中进行结构化网格加密，使得过渡区的分块更合理，可显著提高计算域网格划分质量，有效提升数值模拟的精确度和计算效率，补齐复杂地形下结构化网格加密方法的短板，对CFD建模优化设计具有重要意义。为了实现上述实施例，本申请还提出了一种基于地形坡度的网格加密装置。图4是本申请一个实施例的适用于大坡度地形数值分析结构化网格加密装置的结构示意图。如图4所示，该装置包括第一划分模块41、确定模块42、第二划分模块43、第三划分模块44和处理模块45。其中，第一划分模块41，用于将计算域划分为多个尺寸相等的第一矩形区块，第一矩形区块的边长为x。确定模块42，用于确定计算域中的加密区1、过渡区2和粗网格区3。确定模块42具体用于，获取计算域中每个第一矩形区块的坡度信息。将坡度信息与预设坡度值进行比较。当坡度信息大于预设坡度值时，确定对应的第一矩形区块属于加密区1。将不属于加密区1但与加密区1相邻的第一矩形区块作为过渡区2。将与加密区1不相邻的第一矩形区块作为粗网格区3。第二划分模块43，用于将属于加密区1的第一矩形区块划分为多个尺寸相等的第二矩形区块，第二矩形区块的边长为y，其中，y＝x/n，n为大于1的正整数。第三划分模块44，用于将属于过渡区2的第一矩形区块划分为多个不规则的多边形，其中，多边形中与加密区1贴合的边的边长为y，远离加密区1的边的边长为x。当加密区1为矩形时，第三划分模块44用于：将与加密区1贴合的边三等分，确定两个边点。由两个边点，分别沿远离加密区1的方向延伸至内点，边点与内点的距离为x/2。将两个内点分别与对应的第一矩形区块的角点相连，以将对应的第一矩形区块划分为多个四边形。当加密区1为不规则形状时，第三划分模块44还用于：确定过渡区2的第一矩形区块与加密区1相邻的边的数量。当过渡区2的第一矩形区块与加密区1相邻的边的数量等于1时，采用加密区1为矩形时的划分方法对过渡区2的第一矩形区块进行划分，具体方法如下：将与加密区贴合的边三等分，确定两个边点。由两个边点，分别沿远离加密区的方向延伸至内点，边点与内点的距离为x/2。将两个内点分别与对应的第一矩形区块的角点相连，以将对应的第一矩形区块划分为多个四边形。第三划分模块44，还用于：当过渡区2的第一矩形区块与加密区1相邻的边的数量大于1时，将与加密区1贴合的两条边三等分，确定四个边点。由四个边点，分别沿远离加密区1的方向延伸，形成三个内点。将三个内点分别与对应的第一矩形区块的三个角点相连，以将对应的第一矩形区块划分为多个多边形。处理模块45，用于将属于粗网格区3的第一矩形区块作为无需加密区域。应当理解的是，适用于大坡度地形数值分析结构化网格加密装置与其对应的适用于大坡度地形数值分析结构化网格加密方法的实施例描述一致，故本实施例中不再赘述。总之，从以上的描述中，可以看出，本申请实施例的适用于大坡度地形数值分析结构化网格加密装置，通过在CFD数值模拟中进行结构化网格加密，使得过渡区的分块更合理，可显著提高计算域网格划分质量，有效提升数值模拟的精确度和计算效率。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、物品或者设备中还存在另外的相同要素。在流程图中表示或在此以其他方式描述的逻辑和/或步骤，例如，可以被认为是用于实现逻辑功能的可执行指令的定序列表，可以具体实现在任何计算机可读介质中，以供指令执行系统、装置或设备使用，或结合这些指令执行系统、装置或设备而使用。应当理解，本申请的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件或固件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或他们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列，现场可编程门阵列等。需要说明的是，在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本申请的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任一个或多个实施例或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本说明书中描述的不同实施例或示例以及不同实施例或示例的特征进行结合和组合。
