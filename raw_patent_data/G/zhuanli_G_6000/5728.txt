标题title
自动驾驶方法和装置
摘要abst
本申请涉及无人驾驶领域，尤其涉及一种自动驾驶方法和装置。一种自动驾驶方法，所述方法应用于车端，所述方法包括：通过车载传感器采集第一障碍物信息；根据所述第一障碍物信息，以及停车场的地图信息，确定在所述停车场内的第一行驶路线；接收停车场处理设备发送的第二障碍物信息，并根据所述第二障碍物信息确定所述第一行驶路线是否存在碰撞风险，所述第二障碍物信息为障碍物轨迹预测信息，由所述停车场处理设备调用场地激光雷达获得；若不存在碰撞风险，则基于所述第一行驶路线行驶。
权利要求书clms
1.一种自动驾驶方法，其特征在于，所述方法应用于车端，所述方法包括：通过车载传感器采集第一障碍物信息；根据所述第一障碍物信息，以及停车场的地图信息，确定在所述停车场内的第一行驶路线；接收停车场处理设备发送的第二障碍物信息，并根据所述第二障碍物信息确定所述第一行驶路线是否存在碰撞风险，所述第二障碍物信息为障碍物轨迹预测信息，由所述停车场处理设备调用场地激光雷达获得；若不存在碰撞风险，则基于所述第一行驶路线行驶。2.根据权利要求1所述的方法，其特征在于，所述通过车载传感器采集第一障碍物信息，包括：分别通过车载摄像头和车载激光雷达采集障碍物图像信息和障碍物点云信息；调用深度学习模型对所述障碍物图像信息进行识别处理得到第三障碍物信息，并对所述障碍物点云信息进行识别处理得到第四障碍物信息；将所述第三障碍物信息和所述第四障碍物信息融合为所述第一障碍物信息。3.根据权利要求1所述的方法，其特征在于，所述根据所述第二障碍物信息确定所述第一行驶路线是否有碰撞风险，包括：当存在碰撞风险时，根据所述第二障碍物信息，以及所述第一障碍物信息和所述地图信息，重新确定第二行驶路线。4.根据权利要求3所述的方法，其特征在于，所述重新确定第二行驶路线之后，所述方法还包括：接收停车场处理设备发送的第五障碍物信息，并根据所述第五障碍物信息确定所述第二行驶路线是否存在碰撞风险；当不存在碰撞风险时，基于所述第二行驶路线行驶；当存在碰撞风险时，根据所述第五障碍物信息，以及所述第一障碍物信息和地图信息，重新确定第三行驶路线。5.根据权利要求3所述的方法，其特征在于，所述方法还包括：当重新确定行驶路线的次数达到预设的第一阈值时，进行紧急刹车。6.一种自动驾驶方法，其特征在于，所述方法应用于停车场处理设备，所述方法包括：通过场地激光雷达获得第二障碍物信息，所述第二障碍物信息为障碍物轨迹预测信息；将所述第二障碍物信息发送至车端，所述第二障碍物信息用于所述车端确定第一行驶路线是否存在碰撞风险，其中，所述车端通过车载传感器采集的第一障碍物信息以及场地的地图信息确定所述第一行驶路线；当不存在碰撞风险时，所述车端基于所述第一行驶路线行驶。7.根据权利要求6所述的方法，其特征在于，所述通过场地激光雷达获得第二障碍物信息，包括：调用场地激光雷达采集停车场内障碍物的点云数据；将所述点云数据存储至存储器内；基于所述存储器中存储的第一时间内的若干帧点云数据，确定所述第二障碍物信息。8.根据权利要求7所述的方法，其特征在于，所述基于所述存储器中存储的第一时间内的若干帧点云数据，确定所述第二障碍物信息，包括：在所述场地激光雷达的覆盖范围内，确定出若干栅格；分别确定各栅格在每帧所述点云数据下所包括点云的数量；根据各栅格在每帧点云数据下所包括点云的数量，分别确定各栅格在每帧点云数据下的第一占据栅格概率；根据各栅格在每帧点云数据下的第一占据栅格概率确定各栅格第一占据栅格概率的变化趋势；根据各栅格第一占据栅格概率的变化趋势，确定各栅格在未来第二时间内的第二占据栅格概率；根据各所述栅格的第二占据栅格概率确定各所述栅格内的障碍物信息；根据各所述栅格的障碍物信息，确定所述第二障碍物信息。9.根据权利要求8所述的方法，其特征在于，所述根据各栅格在每帧点云数据下所包括点云的数量，分别确定各栅格在每帧点云数据下的第一占据栅格概率，包括：根据各所述栅格与所述场地激光雷达间的距离，分别确定各所述栅格的占据栅格概率算法；基于各所述栅格的所述占据栅格概率算法，通过各所述栅格内的点云数量确定各所述栅格在该帧点云数据下的第一占据栅格概率。10.根据权利要求8所述的方法，其特征在于，所述根据各所述栅格的第二占据栅格概率确定各所述栅格内的障碍物信息，包括：当任一所述栅格内的第二占据栅格概率达到预设的第二阈值时，确定所述栅格内存在障碍物。11.一种自动驾驶装置，其特征在于，所述装置部署于车端，包括：采集模块，通过车载传感器采集第一障碍物信息；第一确定模块，根据所述第一障碍物信息，以及停车场的地图信息，确定在所述停车场内的第一行驶路线；第二确定模块，接收停车场处理设备发送的第二障碍物信息，并根据所述第二障碍物信息确定所述第一行驶路线是否存在碰撞风险，所述第二障碍物信息为障碍物轨迹预测信息，由所述停车场处理设备调用场地激光雷达获得；行驶模块，若不存在碰撞风险，则基于所述第一行驶路线行驶。12.一种自动驾驶设备，其特征在于，包括：至少一个处理器；以及与所述处理器通信连接的至少一个存储器，其中：所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如权利要求1至5任一项所述的方法。13.一种自动驾驶装置，其特征在于，所述装置部署于停车场处理设备，包括：获取模块，通过场地激光雷达获得第二障碍物信息，所述第二障碍物信息为障碍物轨迹预测信息；发送模块，将所述第二障碍物信息发送至车端，所述第二障碍物信息用于所述车端确定第一行驶路线是否存在碰撞风险，其中，所述车端通过车载传感器采集的第一障碍物信息以及场地的地图信息确定所述第一行驶路线；当不存在碰撞风险时，所述车端基于所述第一行驶路线行驶。14.一种自动驾驶设备，其特征在于，包括：至少一个处理器；以及与所述处理器通信连接的至少一个存储器，其中：所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如权利要求6至10任一项所述的方法。15.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质包括存储的程序，其中，在所述程序运行时控制所述计算机可读存储介质所在设备执行权利要求1至5或权利要求6至10任一所述的方法。
说明书desc
技术领域本申请涉及无人驾驶领域，尤其涉及一种自动驾驶方法和装置。背景技术目前应用于场地内的自动驾驶方案，主要通过车载传感器对车辆周边环境信息进行感知，并通过预先完成训练的深度学习模型对采集到的环境信息进行感知，将其中的常见障碍物，如小型车辆、大型车辆、行人进行识别，以避免行驶过程中与其发生碰撞。在现有的障碍物感知方案中，依赖于车载传感器，只能对车辆前方一片区域进行识别，无法感知盲区的环境信息。同时，现有的障碍物感知方法中，无法对一些特殊障碍物做出有效识别，同样会造成车辆的碰撞风险。发明内容有鉴于此，本发明实施例提供了一种自动驾驶方法和装置，通过设置于停车场内的场地激光雷达采集停车场内的障碍物信息，并与车端对障碍物的感知结果相联动，互为补充，极大的提高了障碍物识别的准确性。第一方面，本发明实施例提供了一种自动驾驶方法，所述方法应用于车端，所述方法包括：通过车载传感器采集第一障碍物信息；根据所述第一障碍物信息，以及停车场的地图信息，确定在所述停车场内的第一行驶路线；接收停车场处理设备发送的第二障碍物信息，并根据所述第二障碍物信息确定所述第一行驶路线是否存在碰撞风险，所述第二障碍物信息为障碍物轨迹预测信息，由所述停车场处理设备调用场地激光雷达获得；若不存在碰撞风险，则基于所述第一行驶路线行驶。可选的，所述通过车载传感器采集第一障碍物信息，包括：分别通过车载摄像头和车载激光雷达采集障碍物图像信息和障碍物点云信息；调用深度学习模型对所述障碍物图像信息进行识别处理得到第三障碍物信息，并对所述障碍物点云信息进行识别处理得到第四障碍物信息；将所述第三障碍物信息和所述第四障碍物信息融合为所述第一障碍物信息。可选的，所述根据所述第二障碍物信息确定所述第一行驶路线是否有碰撞风险，包括：当存在碰撞风险时，根据所述第二障碍物信息，以及所述第一障碍物信息和所述地图信息，重新确定第二行驶路线。可选的，所述重新确定第二行驶路线之后，所述方法还包括：接收停车场处理设备发送的第五障碍物信息，并根据所述第五障碍物信息确定所述第二行驶路线是否存在碰撞风险；当不存在碰撞风险时，基于所述第二行驶路线行驶；当存在碰撞风险时，根据所述第五障碍物信息，以及所述第一障碍物信息和地图信息，重新确定第三行驶路线。可选的，所述方法还包括：当重新确定行驶路线的次数达到预设的第一阈值时，进行紧急刹车。第二方面，本发明实施例提供了一种自动驾驶方法，所述方法应用于停车场处理设备，所述方法包括：通过场地激光雷达获得第二障碍物信息，所述第二障碍物信息为障碍物轨迹预测信息；将所述第二障碍物信息发送至车端，所述第二障碍物信息用于所述车端确定第一行驶路线是否存在碰撞风险，其中，所述车端通过车载传感器采集的第一障碍物信息以及场地的地图信息确定所述第一行驶路线；当不存在碰撞风险时，所述车端基于所述第一行驶路线行驶。可选的，所述通过场地激光雷达获得第二障碍物信息，包括：调用场地激光雷达采集停车场内障碍物的点云数据；将所述点云数据存储至存储器内；基于所述存储器中存储的第一时间内的若干帧点云数据，确定所述第二障碍物信息。可选的，所述基于所述存储器中存储的第一时间内的若干帧点云数据，确定所述第二障碍物信息，包括：在所述场地激光雷达的覆盖范围内，确定出若干栅格；分别确定各栅格在每帧所述点云数据下所包括点云的数量；根据各栅格在每帧点云数据下所包括点云的数量，分别确定各栅格在每帧点云数据下的第一占据栅格概率；根据各栅格在每帧点云数据下的第一占据栅格概率确定各栅格第一占据栅格概率的变化趋势；根据各栅格第一占据栅格概率的变化趋势，确定各栅格在未来第二时间内的第二占据栅格概率；根据各所述栅格的第二占据栅格概率确定各所述栅格内的障碍物信息；根据各所述栅格的障碍物信息，确定所述第二障碍物信息。可选的，所述根据各栅格在每帧点云数据下所包括点云的数量，分别确定各栅格在每帧点云数据下的第一占据栅格概率，包括：根据各所述栅格与所述场地激光雷达间的距离，分别确定各所述栅格的占据栅格概率算法；基于各所述栅格的所述占据栅格概率算法，通过各所述栅格内的点云数量确定各所述栅格在该帧点云数据下的第一占据栅格概率。可选的，所述根据各所述栅格的第二占据栅格概率确定各所述栅格内的障碍物信息，包括：当任一所述栅格内的第二占据栅格概率达到预设的第二阈值时，确定所述栅格内存在障碍物。第三方面，本发明实施例提供了一种自动驾驶装置，所述装置部署于车端，包括：采集模块，通过车载传感器采集第一障碍物信息；第一确定模块，根据所述第一障碍物信息，以及停车场的地图信息，确定在所述停车场内的第一行驶路线；第二确定模块，接收停车场处理设备发送的第二障碍物信息，并根据所述第二障碍物信息确定所述第一行驶路线是否存在碰撞风险，所述第二障碍物信息为障碍物轨迹预测信息，由所述停车场处理设备调用场地激光雷达采集；行驶模块，若不存在碰撞风险，则基于所述第一行驶路线行驶。第四方面，本发明实施例提供了一种自动驾驶设备，包括：至少一个处理器；以及与所述处理器通信连接的至少一个存储器，其中：所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如第一方面任一项所述的方法。第五方面，本发明实施例提供了一种自动驾驶装置，所述装置部署于停车场处理设备，包括：获取模块，通过场地激光雷达获得第二障碍物信息，所述第二障碍物信息为障碍物轨迹预测信息；发送模块，将所述第二障碍物信息发送至车端，所述第二障碍物信息用于所述车端确定第一行驶路线是否存在碰撞风险，其中，所述车端通过车载传感器采集的第一障碍物信息以及场地的地图信息确定所述第一行驶路线；当不存在碰撞风险时，所述车端基于所述第一行驶路线行驶。第六方面，本发明实施例提供了一种自动驾驶设备，包括：至少一个处理器；以及与所述处理器通信连接的至少一个存储器，其中：所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如第二方面任一项所述的方法。第七方面，本发明实施例提供了一种计算机可读存储介质，所述计算机可读存储介质包括存储的程序，其中，在所述程序运行时控制所述计算机可读存储介质所在设备执行第一方面或第二方面任一所述的方法。本发明实施例通过利用场地激光雷达探测范围较大，且安装位置固定，不会因自身的摇摆、震动引发误识别的优势，获得停车场内的障碍物信息，保证了对障碍物识别的准确性。同时，利用停车场处理设备处理计算量较大的计算过程，减轻了对车端硬件算力的要求。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它的附图。图1为本发明实施例提供的一种自动驾驶系统的结构示意图；图2为本发明实施例提供的一种自动驾驶方法的流程图；图3为本发明实施例提供的一种第二障碍物信息获取方法的流程图；图4为本发明实施例提供的一种自动驾驶装置的结构示意图；图5为本发明实施例提供的另一种自动驾驶装置的结构示意图；图6为本发明实施例提供的一种电子设备的结构示意图。具体实施方式为了更好的理解本发明的技术方案，下面结合附图对本发明实施例进行详细描述。应当明确，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。目前应用于停车场内的自动驾驶方案，首先通过车载传感器对车端周边的环境信息进行采集，并通过预先完成训练的深度学习模型对采集到的环境信息进行识别、感知，以具体确定车端周边环境中的障碍物。再进一步根据障碍物所处的位置规划车端的行驶路线。具体的，车载传感器一般包括车载摄像头和车载激光雷达。车端通过搭载的车载摄像头采集周边的障碍物图像信息，并通过搭载的车载激光雷达采集周边的障碍物点云信息。完成周边环境信息的采集后，将采集到的环境信息输入深度学习模型进行识别。深度学习模型中具体包含图像识别模型和点云识别模型，可以分别对障碍物图像信息和障碍物点云信息进行识别处理。分别完成对图像信息和点云信息的识别后，车端将根据障碍物图像信息识别出的障碍物与根据障碍物点云信息识别出的障碍物进行融合，以具体确定出车端周边环境中所包含的障碍物信息。例如，可以通过障碍物图像信息和障碍物点云信息识别出车端周边的行人、车辆等，从而更新规划车端的行驶路线，避免与其发生碰撞。在现有的障碍物感知方案中，无论是对车载摄像头采集的障碍物图像信息进行识别，还是对车载激光雷达采集的障碍物点云信息进行识别，都依赖于深度学习模型的识别准确性。对于一些日常不常见，且不包含明显特征的障碍物，如奇装异服的行人、婴儿车或购物手推车等，深度学习模型的识别效率会有所下降，甚至无法做到有效识别，进而无法感知这些障碍物，对自动驾驶的安全性造成隐患。在一些实施例中，为解决上述问题，除了对车载激光雷达所采集的障碍物点云信息进行图像识别之外，还可以利用其进行占据栅格的识别，以判断周边是否存在障碍物。具体的，通过将车端周边环境划分为若干个栅格，根据车载激光雷达所采集的障碍物点云信息，确定每个栅格内所分布点云的数量，进而确定每个栅格的占据栅格概率，从而确定出哪些栅格内包含障碍物，即车端周边哪些位置中包含障碍物。这种方法无需对障碍物类型做出具体识别，只需要感知车端周边是否存在障碍物，并在路线规划时避开即可。但是，通过车载激光雷达即时采集的点云信息进行占据栅格的识别，仅能对障碍物进行静态识别，即仅可以识别车端周边是否存在障碍物，却无法对障碍物的下一步行动做出判断或预测。当障碍物与车端间距离过近时，车端很有可能来不及更新规划行驶路线，导致与障碍物发生碰撞。同时，车载传感器所采集到的环境信息，无论是通过车载摄像头所采集的障碍物图像信息，还是车载激光雷达所采集的障碍物点云信息，都会受到硬件条件的限制，仅能采集车端周边一片区域的环境信息，对于车端盲区的碰撞风险无法有效感知。图1所示为本发明实施例提供的一种自动驾驶系统。自动驾驶系统中包含车端110、场地激光雷达120和停车场处理设备130。场地激光雷达和停车场处理设备均部署于停车场内，且停车场处理设备与场地激光雷达和车端间均通信连接。车端110用于采集周边环境信息，根据从周边环境信息中识别出的第一障碍物信息规划其在停车场内的第一行驶路线，并在验证行驶路线不存在碰撞风险的情况下，基于第一行驶路线行驶。具体的，车端110内又具体包括车载传感器111、深度学习模型112、路径规划模块113和校验模块114。车载传感器111中包括车载摄像头和车载激光雷达，深度学习模型112包括图像识别模型和点云识别模型。车端通过车载摄像头和车载激光雷达采集周边环境的障碍物图像信息和障碍物点云信息，并分别利用深度学习模型中的图像识别模型和点云识别模型对其进行识别，将识别得到的第三障碍物信息和第四障碍物信息进行融合，得到车端周边环境中的第一障碍物信息。调用路径规划模块113，根据第一障碍物信息和停车场的地图信息规划车端在停车场内的第一行驶路线。并通过校验模块114对第一行驶路线进行验证，在确定第一行驶路线不会与第二障碍物信息中所指示的障碍物存在碰撞风险时，控制车端根据第一行驶路线行驶，否则需要重新规划第二行驶路线。场地激光雷达120用于对停车场进行探测，获取停车场内障碍物的点云数据，并将采集到的点云数据发送给停车场处理设备进行处理。停车场处理设备130用于存储场地激光雷达所采集的点云数据，并根据所存储的点云数据确定车端周边的第二障碍物信息。将第二障碍物信息发送给车端，供车端确定是否可以基于第一行驶路线进行行驶。具体的，停车场处理设备设置有存储器，用于存储在过去第一时间内的若干帧点云数据。停车场处理设备基于第一时间内的若干帧点云数据，推算出在未来的第二时间内，哪些地方会出现障碍物，即第二障碍物信息。将计算出的第二障碍物信息发送至车端的校验模块，供车端进行验证。结合图1所示的自动驾驶系统，本申请提供了一种自动驾驶方法，所述方法应用于如图1所示的车端110，如图2所示，该方法的具体步骤包括：S201，通过车载传感器采集第一障碍物信息。具体的，分别通过搭载的车载摄像头和车载激光雷达采集障碍物图像信息和障碍物点云信息。调用深度学习模型中的图像识别模型对障碍物图像信息进行识别，得到第三障碍物信息；并调用深度学习模型中的点云识别模型对障碍物点云信息进行识别，得到第四障碍物信息。其中，为防止单一传感器所采集的障碍物信息有所遗漏，将第三障碍物信息和第四障碍物信息融合为第一障碍物信息，并基于第一障碍物信息执行后续操作。例如，第三障碍物信息中包含的障碍物为行人，第四障碍物信息中包含的障碍物为自行车，则融合后的第一障碍物信息中同时包含行人和自行车。S202，根据第一障碍物信息，以及停车场的地图信息，确定在停车场内的第一行驶路线。具体的，将采集得到的第一障碍物信息和停车场的地图信息输入路径规划模块。路径规划模块可以通过停车场的地图信息确定停车场中的空余车位信息，并结合定位系统确定车端在停车场中所处的实时位置。路径规划模块确定出车端在停车场内的第一行驶路线，即车端从当前位置驶入空余车位，或其他指定位置的行驶路线。其中，第一行驶路线避开第一障碍物信息中所包含的全部障碍物。S203，接收停车场处理设备发送的第二障碍物信息，并根据第二障碍物信息确定第一行驶路线是否存在碰撞风险。具体的，车端接收停车场处理设备发送的第二障碍物信息，将第二障碍物信息和规划得到的第一行驶路线输入校验模块进行校验，以确定在第一行驶路线上是否还存在有车载传感器未检测到的障碍物所带来的碰撞隐患。其中，第二障碍物信息由停车场处理设备调用场地激光雷达获得，为障碍物在未来第二时间内的轨迹预测信息。S204，若不存在碰撞风险，则基于第一行驶路线行驶。具体的，若不存在碰撞风险，车端基于第一行驶路线行驶，驶入空闲车位或指定位置。若存在碰撞风险，则将第二障碍物信息输入路径规划模块，并由路径规划模块基于第二障碍物信息、第一障碍物信息和地图信息，重新规划第二行驶路线。确定第二行驶路线后，重新将第二行驶路线输入校验模块，并接收停车场处理设备发送的第五障碍物信息，并重新根据第五障碍物信息确定第二行驶路线是否存在碰撞风险。当存在碰撞风险时，根据第五障碍物信息，以及第一障碍物信息和地图信息，再次重新规划第三行驶路线。其中，每次重新确定出行驶路线后，都需要将行驶路线输入校验模块，根据停车场处理设备发送的障碍物信息进行验证，当验证失败时，即行驶路线存在碰撞风险时，再次重新规划行驶路线。但是，当重新确定行驶路线的次数达到预设的第一阈值时，则不再重新规划，而是进行紧急刹车。一般的，将第一阈值设置为三次，即当第四行驶路线未通过校验时，需要进行紧急刹车。发明实施例通过利用场地激光雷达探测范围较大，且安装位置固定，不会因自身的摇摆、震动引发误识别的优势，采集停车场内的障碍物信息，并与车端对障碍物的感知结果相联动，互为补充，极大的提高了障碍物识别的准确性。在S203中，接收停车场处理设备发送的第二障碍物信息，并根据第二障碍物信息确定第一行驶路线是否存在碰撞风险。其中，停车场处理设备通过调用场地激光雷达获得停车场内的第二障碍物信息，并将第二障碍物信息发送给车端。如图3所示，本发明实施例提供了一种第二障碍物信息获取方法，该方法应用于如图1所示的停车场处理设备120，该方法的具体步骤包括：301，调用场地激光雷达采集场地内障碍物的点云数据。具体的，停车场处理设备向停车场内部署的场地激光雷达发送控制指令，控制场地激光雷达对停车场内的障碍物进行探测，即采集停车场内障碍物的点云数据。场地激光雷达在采集障碍物点云数据的同时，需要将车端与障碍物的点云数据融合至同一坐标系下，以保证车端与障碍物间的相对位置关系不会发生偏差。302，将点云数据存储至存储器内。具体的，接收由场地激光雷达所采集并发送的点云数据，并将点云数据存储在存储器内。在一些实施例中，停车场处理设备的存储器为快闪存储器，可以多次执行点云数据的擦写。一般的，场地激光雷达所采集点云数据的刷新率为10Hz，快闪存储器内保存1s的点云数据，即会在存储器内保存10帧点云数据。303，基于存储器中存储的第一时间内的若干帧点云数据，确定第二障碍物信息。具体的，预先以激光雷达为中心，在其覆盖范围内，划分出若干栅格。并调用存储器内存储的点云数据，确定各栅格在每帧点云数据下的点云数量。例如，划分出栅格1、栅格2、栅格3，调用存储器内保存的10帧点云数据，分别确定各栅格在每帧点云数据下所包含点云的数量，第一帧点云数据，即1s前的点云数据，栅格1内包含20个点云，栅格2内包含10个点云，栅格3内包含0个点云；第二帧点云数据，即0.9s前的点云数据，栅格1内包含10个点云，栅格2内包含20个点云，栅格3内包含0个点云，以此类推，分别确定每个栅格在10帧点云数据下所包含的点云数量。其中，通常将栅格划分为10cm*10cm*10cm的立方体，即认定小于10cm的障碍物不会对车端造成碰撞风险。在确定各栅格在各帧点云数据下所包含的点云数量后，分别根据在每帧点云数据下的点云数量，确定第一占据栅格概率，并结合由其他帧点云数据确定出的第一占据栅格概率，确定出第一占据栅格概率的变化趋势。例如，栅格1在10帧点云数据下的点云数量分别为20、10、0、0、…、0，则可以确定出栅格1概率的变化趋势为0.2、0.1、0、0、…、0。其中，由于场端激光雷达所获取的点云数量与栅格和场端激光雷达间的间距相关，所以在确定第一占据栅格概率时，需要根据栅格与场地激光雷达间的距离，确定各栅格的占据栅格概率算法，并依据各不同栅格各自的占据栅格算法确定各栅格的占据栅格概率。一般的，栅格与场端激光雷达间的距离越近，所获取的激光点就越多。例如，栅格1距离场端激光雷达5m，包含点云数量为20，栅格2距离场端激光雷达10m，包含点云数量为10，分别确定栅格1和栅格2的占据栅格概率算法。根据栅格1的栅格概率算法确定栅格1的第一占据栅格概率为0.2，根据栅格2的栅格概率算法确定栅格2的第一占据栅格概率为0.2。基于各栅格在第一时间内，第一占据栅格概率的变化趋势，确定各栅格在未来第二时间内的第二占据栅格概率的变化趋势。例如，栅格1概率的变化趋势为0.2、0.1、0、0、…、0，则确定出栅格2概率的变化趋势为0、0…、0；栅格2概率的变化趋势为0.1、0.2、、…、0.5，则确定出栅格2概率的变化趋势为0.6、0.7、…、1。最后，根据各栅格的第二占据栅格概率确定出栅格内的障碍无信息。一般的，当栅格的第二占据栅格概率达到预设的第二阈值时确定栅格内存在障碍物。综合各栅格的障碍物信息，以确定第二障碍物信息。例如，栅格2在未来第二时间的第二占据栅格概率分别为0.6、0.7…、1，预设的第二阈值为0.7，则可以推断栅格2在未来0.2s及以后会被障碍物所占据。可选的，可以选择安全模式。在安全模式下，将第二阈值设为0，即只要栅格内存在点云，即确定该栅格中存在障碍物，从而可以最大程度避免车端与障碍物发生碰撞。本发明实施例基于栅格占据的概率算法，减少了场端对障碍物进行感知识别的时间，提高了障碍物识别的召回率，尤其适合在室外空旷停车场场景下使用，当车端速度较低，且障碍物运动速度也较低时，可以有足够的时间对障碍物的后续行动进行预测，极大的降低了车端的碰撞风险。同时，通过将计算量较大的计算过程放在停车场处理设备中执行，减轻了对车端硬件算力的要求。对应上述自动驾驶方法，本发明实施例还提供了一种自动驾驶装置，所述自动驾驶装置应用于车端。参见图4，为本发明实施例提供的一种自动驾驶装置的结构示意图。如图4所示，该装置可以包括：采集模块401、第一确定模块402、第二确定模块403和行驶模块404。采集模块401，通过车载传感器采集第一障碍物信息。第一确定模块402，根据所述第一障碍物信息，以及停车场的地图信息，确定在所述停车场内的第一行驶路线。第二确定模块403，接收停车场处理设备发送的第二障碍物信息，并根据所述第二障碍物信息确定所述第一行驶路线是否存在碰撞风险，所述第二障碍物信息为障碍物轨迹预测信息，由所述停车场处理设备调用场地激光雷达采集。行驶模块404，若不存在碰撞风险，则基于所述第一行驶路线行驶。图4所示实施例提供的自动驾驶装置可用于执行本说明书所示方法实施例的技术方案，其实现原理和技术效果可以进一步参考方法实施例中的相关描述。对应上述自动驾驶方法，本发明实施例还提供了另一种自动驾驶装置，所述自动驾驶装置应用于停车场处理器。参见图5，为本发明实施例提供的一种自动驾驶装置的结构示意图。如图4所示，该装置可以包括：获取模块501、和发送模块502。获取模块501，通过场地激光雷达获得第二障碍物信息，所述第二障碍物信息为障碍物轨迹预测信息；发送模块502，将所述第二障碍物信息发送至车端，所述第二障碍物信息用于所述车端确定第一行驶路线是否存在碰撞风险，其中，所述车端通过车载传感器采集的第一障碍物信息以及场地的地图信息确定所述第一行驶路线；当不存在碰撞风险时，所述车端基于所述第一行驶路线行驶。图5所示实施例提供的自动驾驶装置可用于执行本说明书所示方法实施例的技术方案，其实现原理和技术效果可以进一步参考方法实施例中的相关描述。图6为本说明书电子设备一个实施例的结构示意图。电子设备可以实现为本发明所提供的车端或停车场处理器。如图6所示，上述电子设备可以包括至少一个处理器；以及与上述处理单元通信连接的至少一个存储器，其中：存储器存储有可被处理单元执行的程序指令，上述处理器调用上述程序指令能够执行本实施例提供的自动驾驶方法。其中，上述电子设备可以为能够与用户进行智能对话的设备，本说明书实施例对上述电子设备的具体形式不作限定。可以理解的是，这里的电子设备即为方法实施例中提到的机器。图6示出了适于用来实现本说明书实施方式的示例性电子设备的框图。图6显示的电子设备仅仅是一个示例，不应对本说明书实施例的功能和使用范围带来任何限制。如图6所示，电子设备以通用计算设备的形式表现。电子设备的组件可以包括但不限于：一个或者多个处理器610、通信接口620、存储器630，连接不同系统组件的通信总线640。通信总线640表示几类总线结构中的一种或多种，包括存储器总线或者存储器控制器，外围总线，图形加速端口，处理器或者使用多种总线结构中的任意总线结构的局域总线。举例来说，这些体系结构包括但不限于工业标准体系结构总线，微通道体系结构总线，增强型ISA总线、视频电子标准协会局域总线以及外围组件互连总线。电子设备典型地包括多种计算机系统可读介质。这些介质可以是任何能够被电子设备访问的可用介质，包括易失性和非易失性介质，可移动的和不可移动的介质。存储器630可以包括易失性存储器形式的计算机系统可读介质，例如随机存取存储器和/或高速缓存存储器。电子设备可以进一步包括其它可移动/不可移动的、易失性/非易失性计算机系统存储介质。存储器630可以包括至少一个程序产品，该程序产品具有一组程序模块，这些程序模块被配置以执行本说明书各实施例的功能。具有一组程序模块的程序/实用工具，可以存储在存储器630中，这样的程序模块包括——但不限于——操作系统、一个或者多个应用程序、其它程序模块以及程序数据，这些示例中的每一个或某种组合中可能包括网络环境的实现。程序模块通常执行本说明书所描述的实施例中的功能和/或方法。处理器610通过运行存储在存储器630中的程序，从而执行各种功能应用以及数据处理，例如实现本说明书所示实施例提供的自动驾驶方法。本说明书实施例提供一种非暂态计算机可读存储介质，所述非暂态计算机可读存储介质存储计算机指令，所述计算机指令使所述计算机执行本说明书所示实施例提供的自动驾驶方法。上述非暂态计算机可读存储介质可以采用一个或多个计算机可读的介质的任意组合。计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质。计算机可读存储介质例如可以是——但不限于——电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器或闪存、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本文件中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。计算机可读的信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括——但不限于——电磁信号、光信号或上述的任意合适的组合。计算机可读的信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括——但不限于——无线、电线、光缆、RF等等，或者上述的任意合适的组合。可以以一种或多种程序设计语言或其组合来编写用于执行本说明书操作的计算机程序代码，所述程序设计语言包括面向对象的程序设计语言—诸如Java、Smalltalk、C++，还包括常规的过程式程序设计语言—诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络——包括局域网或广域网连接到用户计算机，或者，可以连接到外部计算机。上述对本说明书特定实施例进行了描述。其它实施例在所附权利要求书的范围内。在一些情况下，在权利要求书中记载的动作或步骤可以按照不同于实施例中的顺序来执行并且仍然可以实现期望的结果。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。在本说明书的描述中，“多个”的含义是至少两个，例如两个，三个等，除非另有明确具体的限定。流程图中或在此以其他方式描述的任何过程或方法描述可以被理解为，表示包括一个或更多个用于实现定制逻辑功能或过程的步骤的可执行指令的代码的模块、片段或部分，并且本说明书的优选实施方式的范围包括另外的实现，其中可以不按所示出或讨论的顺序，包括根据所涉及的功能按基本同时的方式或按相反的顺序，来执行功能，这应被本说明书的实施例所属技术领域的技术人员所理解。取决于语境，如在此所使用的词语“如果”可以被解释成为“在……时”或“当……时”或“响应于确定”或“响应于检测”。类似地，取决于语境，短语“如果确定”或“如果检测”可以被解释成为“当确定时”或“响应于确定”或“当检测时”或“响应于检测”。需要说明的是，本说明书实施例中所涉及的终端可以包括但不限于个人计算机、个人数字助理、无线手持设备、平板电脑、手机、MP3播放器、MP4播放器等。在本说明书所提供的实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。另外，在本说明书各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能单元的形式实现。上述以软件功能单元的形式实现的集成的单元，可以存储在一个计算机可读取存储介质中。上述软件功能单元存储在一个存储介质中，包括若干指令用以使得一台计算机装置或处理器执行本说明书各个实施例所述方法的部分步骤。以上所述仅为本说明书的较佳实施例而已，并不用以限制本说明书，凡在本说明书的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本说明书保护的范围之内。
