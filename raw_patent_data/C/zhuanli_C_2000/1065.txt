标题title
一种钛合金阳极氧化前处理方法
摘要abst
本发明涉及阳极氧化预处理技术领域，具体涉及一种钛合金阳极氧化前处理方法，该方法包括：采集钛合金高光谱数据；获取潜在核化区域，进而获取均值偏差系数；构建各潜在核化区域的核化非均匀分布评估矩阵；计算各潜在核化区域的核化矩阵区域显著偏差系数；根据核化矩阵区域显著偏差系数获取真实核化区域，根据核化矩阵区域显著偏差系数和高光谱数据的反射强度获取各真实核化区域的像元核化耦合干扰度；根据高光谱数据的反射强度和像元核化耦合干扰度获取核化像元校正系数；计算反射强度校正值；计算氧化酸洗去残留指数，判断钛合金酸洗情况。本发明旨在解决直接利用钛合金高光谱数据与标准高光谱数据匹配误差较大的问题。
权利要求书clms
1.一种钛合金阳极氧化前处理方法，其特征在于，该方法包括以下步骤：采集各采样时刻的钛合金高光谱数据；使用GRBS真彩合成算法和G-FRNet语义分割神经网络获取伪彩色图像中的潜在核化区域，根据高光谱数据中的反射强度获取各潜在核化区域中各像元之间的均值偏差系数；根据均值偏差系数和高光谱数据中的像元序列之间的距离获取各潜在核化区域的核化非均匀分布评估矩阵；根据核化非均匀分布评估矩阵和高光谱数据的反射强度获取各潜在核化区域的核化矩阵区域显著偏差系数；根据核化矩阵区域显著偏差系数获取真实核化区域，根据核化矩阵区域显著偏差系数和高光谱数据的反射强度获取各真实核化区域的像元核化耦合干扰度；根据高光谱数据的反射强度和像元核化耦合干扰度获取各真实核化区域中各像元中各波长的核化像元校正系数；根据核化像元校正系数和高光谱数据的反射强度获取各真实核化区域中各像元在各波长上的反射强度校正值；根据反射强度校正值获取各采样时刻的氧化酸洗去残留指数；根据氧化酸洗去残留指数判断钛合金酸洗情况。2.如权利要求1所述的一种钛合金阳极氧化前处理方法，其特征在于，所述使用GRBS真彩合成算法和G-FRNet语义分割神经网络获取伪彩色图像中的潜在核化区域，包括：将各采样时刻得到的钛合金高光谱数据作为GRBS真彩合成算法的输入，所述GRBS真彩合成算法的输出为采样时刻的钛合金高光谱数据的伪彩色图像；将得到的伪彩色图像作为G-FRNet语义分割神经网络的输入，获取伪彩色图像中的钛合金数据正常区域和潜在核化区域。3.如权利要求1所述的一种钛合金阳极氧化前处理方法，其特征在于，所述获取各潜在核化区域中各像元之间的均值偏差系数，包括：对于各潜在核化区域中的各像元，计算像元的像元序列与其他各像元的像元序列在各波长的反射强度的和值，计算潜在核化区域中所有像元的像元序列在各波长的反射强度的均值，计算数字2与所述均值的乘积，计算所述和值与所述乘积的差值绝对值，将潜在核化区域中所有所述差值绝对值的均值作为各潜在核化区域中各像元之间的均值偏差系数。4.如权利要求1所述的一种钛合金阳极氧化前处理方法，其特征在于，所述获取各潜在核化区域的核化非均匀分布评估矩阵，包括：对于各潜在核化区域，计算各像元的像元序列之间的DTW距离，计算各像元之间的欧式距离与预设分母调节因子的和值，计算所述DTW距离与第i个像元与第j个像元之间的均值偏差系数的乘积，将所述乘积与所述和值的比值作为核化非均匀分布评估矩阵中第i行第j列的元素。5.如权利要求1所述的一种钛合金阳极氧化前处理方法，其特征在于，所述获取各潜在核化区域的核化矩阵区域显著偏差系数，包括：在高光谱数据中以各潜在核化区域的中心像元为中心，获取以预设曼哈顿距离为半径围成的区域内所有潜在核化区域，作为各潜在核化区域的噪声评估区域集合；对于各潜在核化区域，计算潜在核化区域的核化非均匀分布评估矩阵的F范数作为第一范F数，计算潜在核化区域的噪声评估区域集合中其他各潜在核化区域的核化非均匀分布评估矩阵的F范数作为第二F范数，计算第一F范数与第二F范数的差值绝对值；计算潜在核化区域的所有像元的像元序列中，将所有同一位置的波长反射强度的均值作为均值像元序列的各位置的元素组成第一均值像元序列，对于潜在核化区域的噪声评估区域集合中其他各潜在核化区域中所有像元的像元序列，采用与潜在核化区域相同的方法获取第二均值像元序列，计算第一均值像元序列与第二均值像元序列之间的皮尔逊相关系数，计算所述皮尔逊相关系数与预设分母调节因子的和值，计算所述差值绝对值与所述和值的比值，将潜在核化区域中所有所述比值的和值作为各潜在核化区域的核化矩阵区域显著偏差系数。6.如权利要求2所述的一种钛合金阳极氧化前处理方法，其特征在于，所述获取真实核化区域，根据核化矩阵区域显著偏差系数和高光谱数据的反射强度获取各真实核化区域的像元核化耦合干扰度，包括：将各潜在核化区域的核化矩阵区域显著偏差系数作为大津阈值法的输入，所述大津阈值法的输出为噪声判定阈值；将核化矩阵区域显著偏差系数小于噪声判断阈值的潜在核化区域作为真实核化区域；对于各真实核化区域，将钛合金数据正常区域中的像元作为正常像元，将真实核化区域的边界像元外侧相邻的正常像元按照顺时针排序，组成真实核化区域的正常对比边界像元序列；对于各真实核化区域，计算真实核化区域的正常对比边界像元序列中所有像元在第个波长的反射强度的均值，计算真实核化区域中各像元的像元序列在第/＞个波长的反射强度与所述均值的差值绝对值，计算像元序列中所有所述差值绝对值的和值，计算真实核化区域中所有所述和值的均值与真实核化区域的核化矩阵区域显著偏差系数的乘积作为各真实核化区域的像元核化耦合干扰度。7.如权利要求6所述的一种钛合金阳极氧化前处理方法，其特征在于，所述获取各真实核化区域中各像元中各波长的核化像元校正系数，包括：对于各真实核化区域中的各像元，获取真实核化区域的正常对比边界像元序列中的像元组成的边界曲线，计算像元与边界曲线的最短的欧式距离，计算所述欧式距离与像元所在真实核化区域的像元核化耦合干扰度的乘积作为真实核化区域中各像元的核化像元校正系数。8.如权利要求1所述的一种钛合金阳极氧化前处理方法，其特征在于，所述获取各真实核化区域中各像元在各波长上的反射强度校正值，包括：对于各真实核化区域中的各像元，计算像元的核化像元校正系数与数字1的和值，计算以自然常数为底、以所述和值为真数的对数函数的计算结果，计算所述计算结果与数字1的和值作为第一和值；获取像元到其所在真实核化区域的正常对比边界像元序列中欧式距离最短的像元作为第一像元，计算像元在第个波长的反射强度、所述第一像元在第/＞个波长的反射强度和所述计算结果三者的和值作为第二和值，将所述第二和值与所述第一和值的比值作为各真实核化区域中各像元在第/＞个波长上的反射强度校正值。9.如权利要求1所述的一种钛合金阳极氧化前处理方法，其特征在于，所述获取各采样时刻的氧化酸洗去残留指数，包括：对于各采样时刻的钛合金高光谱数据，将各像元在各波长的反射强度校正值组成的序列作为校正像元序列，获取数据库中的酸洗彻底后钛合金真实像元序列，计算所有像元的校正像元序列与数据库中的酸洗彻底后钛合金真实像元向量之间的余弦相似度，将真实核化区域中所有的余弦相似度的均值作为各采样时刻的氧化酸洗去残留指数。10.如权利要求1所述的一种钛合金阳极氧化前处理方法，其特征在于，所述根据氧化酸洗去残留指数判断钛合金酸洗情况，包括：对于各采样时刻，当氧化酸洗去残留指数大于0.8时，表示氧化层已酸洗完毕，进行水洗后可进行阳极氧化；当氧化酸洗去残留指数小于等于0.8时，表示钛合金表面存在氧化层，继续酸洗。
说明书desc
技术领域本申请涉及阳极氧化预处理技术领域，具体涉及一种钛合金阳极氧化前处理方法。背景技术钛合金是一种由钛和其他金属元素合金化制成的材料，通常具有轻质、高强度和优异的耐高温特性，被广泛应用于航空航天、船舶、汽车、医疗器械、化工设备和体育用品等领域。钛合金阳极氧化是一种表面处理技术，在电极氧化环境下，将钛合金材料作为阳极，在电解液中通直流电流，使得钛合金表面形状一层致密的氧化膜，因此提高钛合金的耐腐蚀、耐磨损和抗疲劳特性。为了更好的对钛合金进行阳极氧化，确保钛合金表面的清洁度和完整度，需要对待阳极氧化的钛合金进行前处理，前处理基本包括清洗、机械抛光、酸洗和水洗等流程。由于钛合金在制造、加工和储运等过程中，可能会受到不同程度的接触污染和氧化的影响，存在油污氧化差异。但是在传统前处理的酸洗过程中，通过设定固定的反应时间和反应温度，可能导致钛合金正常区域酸洗过度使得钛合金材料浪费，在钛合金氧化区域导致酸洗不彻底，存在氧化层污染物残留。针对上述问题，本发明提出了一种钛合金阳极氧化前处理方法，旨在根据酸洗池中钛合金表面的油污氧化差异现象，实现对钛合金精细化酸洗，提高钛合金前处理的表面一致性和表面活性，便于后续的钛合金阳极氧化处理。发明内容为了解决上述技术问题，本发明提供一种钛合金阳极氧化前处理方法，以解决现有的问题。本发明的一种钛合金阳极氧化前处理方法采用如下技术方案：本发明一个实施例提供了一种钛合金阳极氧化前处理方法，该方法包括以下步骤：采集各采样时刻的钛合金高光谱数据；使用GRBS真彩合成算法和G-FRNet语义分割神经网络获取伪彩色图像中的潜在核化区域，根据高光谱数据中的反射强度获取各潜在核化区域中各像元之间的均值偏差系数；根据均值偏差系数和高光谱数据中的像元序列之间的距离获取各潜在核化区域的核化非均匀分布评估矩阵；根据核化非均匀分布评估矩阵和高光谱数据的反射强度获取各潜在核化区域的核化矩阵区域显著偏差系数；根据核化矩阵区域显著偏差系数获取真实核化区域，根据核化矩阵区域显著偏差系数和高光谱数据的反射强度获取各真实核化区域的像元核化耦合干扰度；根据高光谱数据的反射强度和像元核化耦合干扰度获取各真实核化区域中各像元中各波长的核化像元校正系数；根据核化像元校正系数和高光谱数据的反射强度获取各真实核化区域中各像元在各波长上的反射强度校正值；根据反射强度校正值获取各采样时刻的氧化酸洗去残留指数；根据氧化酸洗去残留指数判断钛合金酸洗情况。进一步，所述使用GRBS真彩合成算法和G-FRNet语义分割神经网络获取伪彩色图像中的潜在核化区域，包括：将各采样时刻得到的钛合金高光谱数据作为GRBS真彩合成算法的输入，所述GRBS真彩合成算法的输出为采样时刻的钛合金高光谱数据的伪彩色图像；将得到的伪彩色图像作为G-FRNet语义分割神经网络的输入，获取伪彩色图像中的钛合金数据正常区域和潜在核化区域。进一步，所述获取各潜在核化区域中各像元之间的均值偏差系数，包括：对于各潜在核化区域中的各像元，计算像元的像元序列与其他各像元的像元序列在各波长的反射强度的和值，计算潜在核化区域中所有像元的像元序列在各波长的反射强度的均值，计算数字2与所述均值的乘积，计算所述和值与所述乘积的差值绝对值，将潜在核化区域中所有所述差值绝对值的均值作为各潜在核化区域中各像元之间的均值偏差系数。进一步，所述获取各潜在核化区域的核化非均匀分布评估矩阵，包括：对于各潜在核化区域，计算各像元的像元序列之间的DTW距离，计算各像元之间的欧式距离与预设分母调节因子的和值，计算所述DTW距离与第i个像元与第j个像元之间的均值偏差系数的乘积，将所述乘积与所述和值的比值作为核化非均匀分布评估矩阵中第i行第j列的元素。进一步，所述获取各潜在核化区域的核化矩阵区域显著偏差系数，包括：在高光谱数据中以各潜在核化区域的中心像元为中心，获取以预设曼哈顿距离为半径围成的区域内所有潜在核化区域，作为各潜在核化区域的噪声评估区域集合；对于各潜在核化区域，计算潜在核化区域的核化非均匀分布评估矩阵的F范数作为第一F范数，计算潜在核化区域的噪声评估区域集合中其他各潜在核化区域的核化非均匀分布评估矩阵的F范数作为第二F范数，计算第一F范数与第二F范数的差值绝对值；计算潜在核化区域的所有像元的像元序列中，将所有同一位置的波长反射强度的均值作为均值像元序列的各位置的元素组成第一均值像元序列，对于潜在核化区域的噪声评估区域集合中其他各潜在核化区域中所有像元的像元序列，采用与潜在核化区域相同的方法获取第二均值像元序列，计算第一均值像元序列与第二均值像元序列之间的皮尔逊相关系数，计算所述皮尔逊相关系数与预设分母调节因子的和值，计算所述差值绝对值与所述和值的比值，将潜在核化区域中所有所述比值的和值作为各潜在核化区域的核化矩阵区域显著偏差系数。进一步，所述获取真实核化区域，根据核化矩阵区域显著偏差系数和高光谱数据的反射强度获取各真实核化区域的像元核化耦合干扰度，包括：将各潜在核化区域的核化矩阵区域显著偏差系数作为大津阈值法的输入，所述大津阈值法的输出为噪声判定阈值；将核化矩阵区域显著偏差系数小于噪声判断阈值的潜在核化区域作为真实核化区域；对于各真实核化区域，将钛合金数据正常区域中的像元作为正常像元，将真实核化区域的边界像元外侧相邻的正常像元按照顺时针排序，组成真实核化区域的正常对比边界像元序列；对于各真实核化区域，计算真实核化区域的正常对比边界像元序列中所有像元在第个波长的反射强度的均值，计算真实核化区域中各像元的像元序列在第/＞个波长的反射强度与所述均值的差值绝对值，计算像元序列中所有所述差值绝对值的和值，计算真实核化区域中所有所述和值的均值与真实核化区域的核化矩阵区域显著偏差系数的乘积作为各真实核化区域的像元核化耦合干扰度。进一步，所述获取各真实核化区域中各像元中各波长的核化像元校正系数，包括：对于各真实核化区域中的各像元，获取真实核化区域的正常对比边界像元序列中的像元组成的边界曲线，计算像元与边界曲线的最短的欧式距离，计算所述欧式距离与像元所在真实核化区域的像元核化耦合干扰度的乘积作为真实核化区域中各像元的核化像元校正系数。进一步，所述获取各真实核化区域中各像元在各波长上的反射强度校正值，包括：对于各真实核化区域中的各像元，计算像元的核化像元校正系数与数字1的和值，计算以自然常数为底、以所述和值为真数的对数函数的计算结果，计算所述计算结果与数字1的和值作为第一和值；获取像元到其所在真实核化区域的正常对比边界像元序列中欧式距离最短的像元作为第一像元，计算像元在第个波长的反射强度、所述第一像元在第/＞个波长的反射强度和所述计算结果三者的和值作为第二和值，将所述第二和值与所述第一和值的比值作为各真实核化区域中各像元在第/＞个波长上的反射强度校正值。进一步，所述获取各采样时刻的氧化酸洗去残留指数，包括：对于各采样时刻的钛合金高光谱数据，将各像元在各波长的反射强度校正值组成的序列作为校正像元序列，获取数据库中的酸洗彻底后钛合金真实像元序列，计算所有像元的校正像元序列与数据库中的酸洗彻底后钛合金真实像元向量之间的余弦相似度，将真实核化区域中所有的余弦相似度的均值作为各采样时刻的氧化酸洗去残留指数。进一步，所述根据氧化酸洗去残留指数判断钛合金酸洗情况，包括：对于各采样时刻，当氧化酸洗去残留指数大于0.8时，表示氧化层已酸洗完毕，进行水洗后可进行阳极氧化；当氧化酸洗去残留指数小于等于0.8时，表示钛合金表面存在氧化层，继续酸洗。本发明至少具有如下有益效果：本发明通过酸洗池高光谱数据进行分析，根据潜在核化区域的像元序列进行分析，得到核化非均匀分布评估矩阵和核化矩阵区域显著偏差系数，由此排除局部噪声区域对像元序列的干扰，针对真实核化区域通过构建像元核化耦合干扰度，再结合像元序列的位置信息实现对像元序列的自适应校正，最终通过与数据库中标准像元序列对比得到氧化酸洗去残留指数，由此实现对钛合金进行定向酸洗。解决了传统算法中直接利用钛合金高光谱数据与标准高光谱数据匹配误差较大的问题，针对钛合金核化区域实现自适应像元校正，提高像元序列的真实性。此外根据钛合金的氧化残留情况，对钛合金进行精细化酸洗，提高钛合金阳极氧化前处理的效果，为阳极氧化奠定良好基础。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明提供的一种钛合金阳极氧化前处理方法的流程图；图2为氧化酸洗去残留指数获取流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种钛合金阳极氧化前处理方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种钛合金阳极氧化前处理方法的具体方案。本发明一个实施例提供的一种钛合金阳极氧化前处理方法，具体的，提供了如下的一种钛合金阳极氧化前处理方法，请参阅图1，该方法包括以下步骤：步骤S001，通过高光谱分析仪，采集酸洗池中钛合金表面的高光谱数据。在钛合金阳极氧化时，为了提高氧化的效果，降低钛合金表面油污和氧化层的干扰，需要对钛合金进行前处理，具体处理流程如下：清洗：首先需要对钛合金进行清洗，去除钛合金表面的油脂、灰尘和其他杂质，在清洗时通常采用溶剂清洗、碱性清洗或超声波清洗等方式。酸洗：酸洗是为了去除钛合金表面的不均匀氧化物以及其他不纯物，在酸洗过程中通常采用浓酸进行，如浓硫酸和氢氟酸的混合酸溶液进行清洗，酸洗时需要在恰当的控制下进行，既要避免过度腐蚀损坏钛合金表面，又要防止酸洗不足导致氧化层残留。水洗：酸洗后需要对钛合金进行充分水洗，以去除残留的酸液，在多次水洗后确保表面没有酸性残留物，即可进入电解池中进行阳极氧化环节。由于钛合金表面的油污氧化差异会影响酸洗过程中的酸洗结果，由此需要实时获取酸洗池中钛合金的表面数据。本实施例采用在钛合金酸洗池正上方放置高光谱相机采集钛合金的高光谱数据，并且设置采样间隔为1s。将第k个采样时刻酸洗池中钛合金高光谱数据记作，具体为/＞，其中/＞表示钛合金高光谱数据的第/＞个像元序列，表示高光谱数据中像元总个数。针对单个像元序列/＞，其中/＞表示第i个像元序列在第/＞个波长的反射强度信息，L表示光谱分析仪中波长的数量。步骤S002，通过对钛合金高光谱数据进行区域划分得到潜在核化区域，对核化区域内像元序列分析得到核化非均匀分布评估矩阵，划分噪声评估区域，得到核化矩阵区域显著偏差系数，通过阈值筛选得到真实核化区域，根据真实核化区域内像元和正常对比边界像元序列中像元的差异得到像元核化耦合干扰度，再结合真实核化区域内像元的位置信息得到核化像元校正系数，实现对像元序列的校正，最终结合数据库标准像元得到氧化酸洗去残留指数。在酸洗的过程中，酸洗液与钛合金会发生化学反应，产生一定的气体，因此在钛合金表面会产生一些微小的核化点，当产生气体到达一定含量时，会变成气泡从钛合金表面脱离。而钛合金表面微小的核化点在光谱分析仪采集数据时产生干扰，导致信号的噪声增加、强度变化或波形扭曲等问题。如果直接使用采集得到的钛合金光谱数据直接与数据库钛合金光谱数据对比，可能会造成检测结果不准确，使得酸洗过度或酸洗不彻底，影响后续钛合金阳极氧化，因此需要降低在酸洗时钛合金表面核化点的干扰。由此为了获取钛合金表面核化区域的空间位置信息，本实施例将每个采样时刻得到的钛合金高光谱数据作为GRBS真彩合成算法的输入，算法输出该时刻钛合金高光谱数据对应的伪彩色图像。将得到的伪彩色图像作为G-FRNet语义分割神经网络的输入，对伪彩色图像进行二分类提取，算法输出为钛合金数据正常区域和潜在核化区域。其中GRBS真彩合成算法和G-FRNet语义分割神经网络为本领域公知技术，本实施例不再赘述。通常情况下，钛合金表面的核化点较为微小，但高光谱仪的空间分辨率较高，单个核化点对应多个像元序列，即在单个潜在核化区域表示单个疑似核化区域，其中包含多个像元序列，用表示在当前采样时刻钛合金高光谱数据中第m个潜在核化区域。由于真实核化区域较小，在高光谱数据中正常像元可能受到局部噪声的干扰，导致被误判为核化区域像元，因此需要对潜在核化区域的像元序列进行分析，排除局部噪声的干扰。由此结合单个潜在核化区域内像元序列和像元位置信息，得到核化非均匀分布评估矩阵D，矩阵中每个元素的核化非均匀分布评估系数如下：式中，表示当前采样时刻钛合金高光谱数据中第m个潜在核化区域构建核化非均匀分布评估矩阵/＞中第i行第j列的元素，/＞表示在钛合金高光谱数据中第m个潜在核化区域中第i个与第j个像元序列之间的均值偏差系数，/＞和/＞分别表示第m个潜在核化区域中第i个和第j个像元的像元序列，/＞表示计算两个序列的DTW距离，/＞表示计算第m个潜在核化区域中第i个和第j个像元序列的DTW距离，/＞表示第m个潜在核化区域中像元序列的个数，/＞表示由第m个潜在核化区域中第i个和第j个像元空间位置对应的欧式距离，/＞表示分母调节因子，本实施例中设置/＞，/＞表示单个像元序列中波长的总数量，/＞和/＞分别表示第m个潜在核化区域中第i个和第j个像元在第/＞个波长的反射强度，/＞表示在钛合金高光谱数据中第m个潜在核化区域内所有像元序列在第/＞个波长上反射强度均值。由此遍历第m个潜在核化区域内所有像素点得到该区域的核化非均匀分布评估矩阵，矩阵中元素值的大小表示像元的核化均匀程度。若第m个潜在核化区域表示真实核化区域，虽然受到微小核化气泡的干扰，像元序列会发生一定的波形失真，但是在该区域内部像元之间的波形失真差异较小，由此像元序列与均值像元序列的差异较小，即均值偏差系数/＞的值较小。同时两个像元序列之间的DTW距离较小，分母上的/＞表示距离权重，如果距离越远对两个像元序列的差异进行缩小，由此最终得到核化非均匀分布评估矩阵/＞内的元素值较小。相反，若m个潜在核化区域为局部噪声形成的干扰区域时，由于噪声作用的波段和像元都是随机的，因此该区域内两个像元序列之间的差异较大，最终使得核化非均匀分布评估矩阵/＞元素值较大。在酸洗池钛合金高光谱数据中，由于酸洗液与钛合金表面物质产生化学反应产生许多细小的核化区域，因此在高光谱潜在核化区域构成的集合中，大部分为真实的核化区域，局部噪声形成的干扰区域主体呈现随机零星分布。为了更好的排除局部噪声干扰区域的影响，在高光谱数据中以第m个潜在核化区域中心像元为中心，以预设曼哈顿距离为半径围成噪声评估区域，本实施例中预设曼哈顿半径的取值为200，将噪声评估区域内所有潜在核化区域作为第m个潜在核化区域的噪声评估区域集合，由此计算得到核化矩阵区域显著偏差系数：式中，表示在高光谱数据中第m个潜在核化区域的核化矩阵区域显著偏差系数，/＞表示在高光谱数据中第m个潜在核化区域中所确定噪声评估区域集合中潜在核化区域的个数，/＞和/＞分别表示在高光谱数据中第m个潜在核化区域的核化非均匀分布评估矩阵以及有第m个潜在核化区域所确定噪声评估区域集合中第j个潜在核化区域的核化非均匀分布评估矩阵，/＞表示计算矩阵的F范数，/＞和/＞分别表示第m个潜在核化区和噪声评估区域集合中第j个潜在核化区域内所有像元在对应波长反射强度均值构建的均值像元序列，/＞表示计算第m个和第j个潜在核化区域中均值像元序列的皮尔逊相关系数，/＞表示分母调节因子，本实施例中设置/＞。若第m个潜在核化区域为真实核化区域时，在噪声评估区域内该区域大部分潜在核化区域类似，因此两者之间核化非均匀分布评估矩阵内的元素值都较小，故的值较小。同时两者区域内均值像元序列较为相似，最终使得核化矩阵区域显著偏差系数/＞的值较小。相反，若第m个潜在核化区域为局部噪声的干扰区域，与噪声评估区域内大部分潜在核化区域之间的差异较大，由此最终得到/＞的值增大。至此，获取钛合金高光谱数据中每个潜在核化区域的核化矩阵区域显著偏差系数，将所有的核化矩阵区域显著偏差系数作为大津阈值法的输入，输出为噪声判定阈值/＞。将高光谱数据中核化矩阵区域显著偏差系数/＞的潜在核化区域标记为局部噪声干扰区域，对其内部像元序列采用小波阈值去噪算法进行降噪处理；将核化矩阵区域显著偏差系数/＞的潜在核化区域标记为真实核化区域，需要根据核化程度对像元序列进行进一步校正。其中大津阈值法和小波阈值去噪算法为公知技术，本实施例不再赘述。经过阈值筛选可以得到高光谱数据中真实核化区域，由于核化程度的大小决定了核化区域内像元受影响的程度，不同的核化程度内部像元序列波形的失真程度并不一致。为了衡量单个真实核化区域的核化程度，以高光谱数据中第m个真实核化区域为例，根据该区域边界像元外邻的正常像元，其中，正常像元为钛合金数据正常区域中的像元，按顺时针排序，得到正常对比边界像元序列/＞。由此结合正常边界像元序列和第m个真实核化区域的像元序列构建得到像元核化耦合干扰度：式中，表示在高光谱数据中第m个真实核化区域的像元核化耦合干扰度，/＞表示在高光谱数据中第m个潜在核化区域的核化矩阵区域显著偏差系数，/＞表示第m个真实核化区域中像元序列的个数，/＞表示单个像元序列中波长的总数量，/＞表示第m个真实核化区域中第i个像元序列在第/＞个波长的反射强度，/＞表示第m个真实核化区域所确定正常对比边界像元序列/＞中所有像元对应第/＞个波长的均值。由于正常对比边界像元序列中表示未受干扰的正常像元序列，若第m个真实核化区域内像元受核化气泡干扰较为严重时，区域内像元与边界像元之间的差距较大，使得的值较大。同时该区域内的受干扰较大像元之间可能存在细微的差异，即的值会适当增大，最终使得像元核化耦合干扰度/＞的值增大。相反若第m个真实核化区域内像元受核化气泡干扰较轻时，该区域内像元与边界正常像元之间的差异较小，并且内部像元之间干扰程度基本一致，最终使得/＞的值减小。由此结合对应区域内的像元核化耦合干扰度，得到该区域内的核化像元校正系数，最终实现对真实核化区域内像元的自适应校正。式中，表示在钛合金高光谱数据中第m个真实核化区域中第i个像元在第/＞个波长上的反射强度校正值，/＞表示第m个真实核化区域中第i个像元在第/＞个波长的反射强度，/＞表示第m个真实核化区域内第i个像元到正常对比边界像元序列/＞中所有像元欧式距离最短的对应像元在第/＞个波长的反射强度，/＞表示以e为底的对数，/＞表示第m个真实核化区域中第i个像元的核化像元校正系数，/＞表示在高光谱数据中第m个潜在核化区域的像元核化耦合干扰度，/＞表示第m个真实核化区域中第i个像元，/＞表示采用最小二乘法将正常对比边界像元序列/＞根据空间位置得到的边界曲线，/＞表示在第m个真实核化区域中第i个像元到边界曲线的最短欧式距离。像元核化耦合干扰度是衡量第m个真实核化区域内像元整体受干扰的程度，需要根据每个像元的位置信息对像元序列进行校正，当第i个像元距离边界像元越近时，在真实高光谱数据，该像元与第i个像元的相关性较高，因此其核化像元校正系数较小，即在对像元序列校正时更加倾向于边界像元的值。若第i个像元距离边界像元越远时，此时该像元与边界像元关联性较弱，得到核化像元校正系数的值较大，此时更加倾向相信像元自身的反射强度值。遍历当前采样时刻钛合金高光谱数据中所有真实核化区域内的像元，获取所有像元的反射强度校正值，实现对所有真实核化区域中的像元的像元序列进行校正，将校正后的像元序列作为校正像元序列，并将反射强度校正值组成的当前采样时刻的校正高光谱数据用表示，将获取数据库中酸洗彻底后钛合金真实像元向量用/＞表示，由此得到所有钛合金高光谱数据的氧化酸洗去残留指数：式中，表示第k个采样时刻钛合金高光谱数据的氧化酸洗去残留指数，/＞表示钛合金数据中像元序列的个数，/＞和/＞分别表示当前采样时刻校正后第i个像元向量和数据库中酸洗彻底后钛合金像元向量，/＞表示计算采样时刻校正后第i个像元向量和数据库中酸洗彻底后钛合金像元向量的余弦相似性。其中，氧化酸洗去残留指数获取流程图如图2所示。若当前采样时刻酸洗情况较好，已经去除钛合金表面氧化层，则校正后的像元向量与数据库酸洗像元向量较为相似，两者之间的余弦相似性较大，最终使得氧化酸洗去残留指数的值较大。相反，若酸洗效果不好时，存在较多的氧化物时，校正像元向量与数据库酸洗像元向量差异较大，/＞的值较小。步骤S003，根据氧化酸洗去残留指数，判断酸洗情况，并针对氧化残留区域进行定向酸洗。根据步骤S002得到氧化酸洗去残留指数，值越大表明对钛合金表面氧化层的去除效果越好。由此，当氧化酸洗去残留指数/＞表明第k个采样时刻氧化层已经酸洗完毕，进行水洗后即可进行阳极氧化；若氧化酸洗去残留指数/＞，表明当前采样时刻钛合金表面存在较多氧化层，需要继续进行定向酸洗。定向酸洗具体指根据每个像元向量与标准像元的余弦相似性，反映在当前采样时刻像元的氧化残留系数，由此结合像元的空间位置得到氧化残留矩阵，将其作为Sauvola二值化算法的输入，输出分割后的区域，将区域内所有像元余弦相似性均值最小的区域标记为氧化突显区域，将剩余标记为正常区域。通过酸性池内定向酸洗枪对氧化突显区域定向喷洒酸洗液，提高氧化突显区域酸洗液流速，加快该区域的酸洗速度，由此实现对钛合金表面精细化酸洗。其中Sauvola二值化算法为公知技术，本实施例不再赘述。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。且上述对本说明书特定实施例进行了描述。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同或相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。以上所述实施例仅用以说明本申请的技术方案，而非对其限制；对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围，均应包含在本申请的保护范围之内。
