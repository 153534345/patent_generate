标题title
一种综合能源系统优化调度方法及系统
摘要abst
本发明提供一种综合能源系统优化调度方法及系统，所述综合能源系统包括：风能、光能以及氢能，方法包括：根据历史数据分别获取预设时间段内电价、氢价、风电功率、光伏功率以及负荷的边缘分布函数，以对相关参数进行预测；基于预设时间段内单位用电消耗资源的动态变化调整负荷的预测值，得到基于电价进行需求响应后的负荷值，以减小负荷的峰谷差；获取系统运行消耗资源的第一目标函数和环境消耗资源的第二目标函数；将第一目标函数和第二目标函数加权求和得到总目标函数，之后对总目标函数求解，得到综合能源系统在预设时间段内的优化调度结果。本发明引入了需求响应策略，且考虑了电价和氢价的相关性，有效提高了系统的经济性。
权利要求书clms
1.一种综合能源系统优化调度方法，所述综合能源系统包括：风能、光能以及氢能，其特征在于，方法包括：根据历史数据分别获取预设时间段内单位用电消耗资源、单位氢能收获资源、风电功率、光伏功率以及负荷的边缘分布函数；基于所述边缘分布函数确定单位用电消耗资源和单位氢能收获资源的第一联合分布函数，以及风电功率、光伏功率和负荷的第二联合分布函数；之后基于第一联合分布函数和第二联合分布函数预测预设时间段内的单位用电消耗资源、单位氢能收获资源、风电功率最大值、光伏功率最大值以及负荷；所述用电指使用所述综合能源系统之外的电，所述氢能收获资源通过将氢能向外输送获取，所述负荷指用电量；基于预设时间段内所述单位用电消耗资源的动态变化调整所述负荷的预测值，得到基于单位用电消耗资源进行需求响应后的负荷值，以减小负荷的峰谷差；基于单位用电消耗资源、单位氢能收获资源、风电功率最大值和光伏功率最大值的预测值，以及基于单位用电消耗资源响应的负荷值获取系统运行消耗资源的第一目标函数和环境消耗资源的第二目标函数；所述第一目标函数包括：用电消耗资源、未使用风能和光能的惩罚消耗资源以及风能和光能转氢能收获的资源的负数，所述第二目标函数包括：用电造成的碳排放消耗资源；将所述第一目标函数和第二目标函数加权求和得到总目标函数，之后对总目标函数求解，得到综合能源系统在预设时间段内的优化调度结果。2.根据权利要求1所述的方法，其特征在于，所述预设时间段包括多个时段，所述基于单位用电消耗资源响应的负荷值，通过如下公式确定：其中，为第i个时段需求响应后的负荷，/＞为第i个时段需求响应前的负荷预测值，i=1,2,...,m，m为预设时间段的总时段数；/＞为第j时段需求响应前后的单位用电消耗资源增量，/＞；/＞为第j时段需求响应前的单位用电消耗资源；/＞为第j时段需求响应后的单位用电消耗资源，为预测得到的单位用电消耗资源；/＞为负荷和单位用电消耗资源的弹性矩阵；其中，；/＞为需求响应前后的负荷变化量；/＞；/＞为弹性系数，当/＞时为自弹性系数，当/＞时为交叉弹性系数。3.根据权利要求1所述的方法，其特征在于，采用非参数核密度估计法估计单位用电消耗资源、单位氢能收获资源、风电功率、光伏功率以及负荷的边缘分布函数；选用二维Frank-Copula函数生成单位用电消耗资源和单位氢能收获资源的第一联合分布函数；选用三维Frank-Copula函数生成风电功率、光伏功率和负荷三者的第二联合分布函数；上述生成联合分布函数过程中用到的Copula连接函数分别为：式中，、/＞分别为单位用电消耗资源和单位氢能收获资源的边缘分布函数；/＞为二维Frank-Copula函数的参数；式中，、/＞和/＞分别表示风电功率、光伏功率和负荷的边缘分布函数；/＞为三维Frank-Copula函数的参数；对第一联合分布函数和第二联合分布函数进行采样，并根据采样结果和两个联合分布函数反变换得到每个时段对应的单位用电消耗资源、单位氢能收获资源、风电功率最大值、光伏功率最大值以及负荷。4.根据权利要求1所述的方法，其特征在于，所述第一目标函数为：式中，为系统运行消耗资源；/＞为系统的用电消耗资源；/＞为系统未使用风能和光能的惩罚消耗资源；/＞为风能和光能转氢能收获的资源；式中，为/＞时段的单位用电消耗资源的预测值；/＞为/＞时段的负荷；式中，为单位未使用风能和光能惩罚消耗资源；/＞、/＞分别为/＞时段的弃风功率和弃光功率；所述弃风功率指的是未使用的风电功率，弃光功率指的是未使用的光伏功率；式中，为/＞时段的单位氢能收获资源；/＞为/＞时段向外输送的氢能。5.根据权利要求1所述的方法，其特征在于，所述第二目标函数为：式中，为环境消耗资源；/＞为系统的阶梯式碳排放消耗资源；/＞为碳排放的基础消耗资源；/＞为碳排放的区间划分长度；/＞为消耗资源的增长率；/＞为碳排放量。6.根据权利要求5所述的方法，其特征在于：所述碳排放量通过如下公式确定：式中，为系统实际产生的碳排放量；/＞为系统被分配的总碳排放量额；/＞为单位用电后系统产生的碳排放量；/＞为负荷；/＞为从系统外使用单位电量后系统获得的无偿碳排放量配额。7.根据权利要求1至6任一项所述的方法，其特征在于，所述总目标函数的约束条件包括：光伏和风电的出力约束、用电功率约束、蓄电池约束、氢储能约束以及功率平衡约束。8.根据权利要求7所述的方法，其特征在于，所述功率平衡约束为：式中，为负荷需求功率；/＞为光伏出力；/＞为风电出力；/＞为负荷；/＞、/＞分别为氢储能的充电功率和放电功率；/＞、/＞分别为蓄电池的充电功率和放电功率；光伏出力和风电出力的约束为：式中，、/＞分别为光伏功率最大值和风电功率最大值的预测值。9.一种综合能源系统优化调度系统，所述综合能源系统包括：风能、光能以及氢能，其特征在于，所述调度系统包括：指标预测模块，用于根据历史数据分别获取预设时间段内单位用电消耗资源、单位氢能收获资源、风电功率、光伏功率以及负荷的边缘分布函数；基于所述边缘分布函数确定单位用电消耗资源和单位氢能收获资源的第一联合分布函数，以及风电功率、光伏功率和负荷的第二联合分布函数；之后基于第一联合分布函数和第二联合分布函数预测预设时间段内的单位用电消耗资源、单位氢能收获资源、风电功率最大值、光伏功率最大值以及负荷；所述用电指使用所述综合能源系统之外的电，所述氢能收获资源通过将氢能向外输送获取，所述负荷指用电量；负荷调整模块，用于基于预设时间段内所述单位用电消耗资源的动态变化调整所述负荷的预测值，得到基于单位用电消耗资源进行需求响应后的负荷值，以减小负荷的峰谷差；目标函数确定模块，用于基于单位用电消耗资源、单位氢能收获资源、风电功率最大值和光伏功率最大值的预测值，以及基于单位用电消耗资源响应的负荷值获取系统运行消耗资源的第一目标函数和环境消耗资源的第二目标函数；所述第一目标函数包括：用电消耗资源、未使用风能和光能的惩罚消耗资源以及风能和光能转氢能收获的资源的负数，所述第二目标函数包括：用电造成的碳排放消耗资源；目标函数求解模块，用于将所述第一目标函数和第二目标函数加权求和得到总目标函数，之后对总目标函数求解，得到综合能源系统在预设时间段内的优化调度结果。10.一种电子设备，其特征在于，包括：至少一个存储器，用于存储程序；至少一个处理器，用于执行所述存储器存储的程序，当所述存储器存储的程序被执行时，所述处理器用于执行如权利要求1-8任一所述的方法。
说明书desc
技术领域本发明属于综合能源调度领域，更具体地，涉及一种综合能源系统优化调度方法及系统。背景技术随着“双碳”目标的提出，促进可再生能源在电力行业中的发展变为了长远的奋斗目标，能源低碳化转型成为了目前能源改革的必由之路。氢能作为一种能量密度高、环保性强的清洁能源，在能源去碳化进程中发挥着十分重要的作用。利用清洁能源制备氢可以进一步达到降低碳排放量的目的。风能、光能与氢能结合，构成电氢综合能源系统，是能源低碳化的典型应用场景。在综合能源系统中加入制氢-售氢环节，可以获得额外利润，提高系统经济性并促进制氢发展。由于可再生能源产出、负荷需求以及电价和氢价具有一定的波动性和随机性，在推进系统优化运行时也面临着运行风险。在现有的研究中，很少同时考虑风光负荷三者的相关性，即使考虑了，也没有考虑季节性差异，此外，目前关于电氢价格的研究大都集中在市场定价机制的研究，并没有考虑电价和氢价的相关性。发明内容针对现有技术的缺陷，本发明的目的在于提供一种综合能源系统优化调度方法及系统，旨在解决现有综合能源优化调度方法未考虑风光负荷相关性和电价氢价相关性，且未考虑季节性差异，调度过程也未综合考虑经济和环境两个因素，导致调度的经济性无法满足需求的问题。为实现上述目的，第一方面，本发明提供了一种综合能源系统优化调度方法，所述综合能源系统包括：风能、光能以及氢能，方法包括：根据历史数据分别获取预设时间段内单位用电消耗资源、单位氢能收获资源、风电功率、光伏功率以及负荷的边缘分布函数；基于所述边缘分布函数确定单位用电消耗资源和单位氢能收获资源的第一联合分布函数，以及风电功率、光伏功率和负荷的第二联合分布函数；之后基于第一联合分布函数和第二联合分布函数预测预设时间段内的单位用电消耗资源、单位氢能收获资源、风电功率最大值、光伏功率最大值以及负荷；所述用电指使用所述综合能源系统之外的电，所述氢能收获资源通过将氢能向外输送获取，所述负荷指用电量；基于预设时间段内所述单位用电消耗资源的动态变化调整所述负荷的预测值，得到基于单位用电消耗资源进行需求响应后的负荷值，以减小负荷的峰谷差；基于单位用电消耗资源、单位氢能收获资源、风电功率最大值和光伏功率最大值的预测值，以及基于单位用电消耗资源响应的负荷值获取系统运行消耗资源的第一目标函数和环境消耗资源的第二目标函数；所述第一目标函数包括：用电消耗资源、未使用风能和光能的惩罚消耗资源以及风能和光能转氢能收获的资源的负数，所述第二目标函数包括：用电造成的碳排放消耗资源；将所述第一目标函数和第二目标函数加权求和得到总目标函数，之后对总目标函数求解，得到综合能源系统在预设时间段内的优化调度结果。具体地，所述优化调度结果包括：每个时段的用电、蓄电池出力、氢储能出力、将氢能向外输送、光伏出力以及风电出力的情况。可以理解的是，所述预设时间段可以对一年的时间按照月份或者季度划分，比如一个预设时间段对应一个月份，或者对应一个季度。另外，也可以将调度计划相近的两个季度合并为一个季度，例如可以将春季和秋季合并为过渡季。本领域技术人员可以根据综合能源系统调度的实际情况对预设时间段进行划分，本发明对此不做任何限定。在一个示例中，本发明中预设时间段可以分别是过渡季、夏季和冬季。需要说明的是，本发明中提到的“消耗资源”指的是价格、成本、代价、售卖收益或者费用等等。具体地，单位用电消耗资源指的是从电网购电的电价，单位氢能收获资源指的是将氢能售卖出去的氢价，系统运行消耗资源指的是系统运行成本，环境消耗资源指的是环境成本。在一种可能的实现方式中，所述预设时间段包括多个时段，所述基于单位用电消耗资源响应的负荷值，通过如下公式确定：其中，为第i个时段需求响应后的负荷，/＞为第i个时段需求响应前的负荷预测值，i=1,2,...,m，m为预设时间段的总时段数；/＞为第j时段需求响应前后的单位用电消耗资源增量，/＞；/＞为第j时段需求响应前的单位用电消耗资源，此处指平时电价；/＞为第j时段需求响应后的单位用电消耗资源，此处指分时电价，为预测得到的单位用电消耗资源；/＞为负荷和单位用电消耗资源的弹性矩阵；其中，；/＞为需求响应前后的负荷变化量；/＞；/＞为弹性系数，当/＞时为自弹性系数，当/＞时为交叉弹性系数。在一种可能的实现方式中，采用非参数核密度估计法估计单位用电消耗资源、单位氢能收获资源、风电功率、光伏功率以及负荷的边缘分布函数；选用二维Frank-Copula函数生成单位用电消耗资源和单位氢能收获资源的第一联合分布函数；选用三维Frank-Copula函数生成风电功率、光伏功率和负荷三者的第二联合分布函数。上述生成联合分布函数过程中用到的Copula连接函数分别为：式中，、/＞分别为单位用电消耗资源和单位氢能收获资源的边缘分布函数；/＞为二维Frank-Copula函数的参数；式中，、/＞和/＞分别表示风电功率、光伏功率和负荷的边缘分布函数；/＞为三维Frank-Copula函数的参数；对第一联合分布函数和第二联合分布函数进行采样，并根据采样结果和两个联合分布函数反变换得到每个时段对应的单位用电消耗资源、单位氢能收获资源、风电功率最大值、光伏功率最大值以及负荷。在一种可能的实现方式中，所述第一目标函数为：式中，为系统运行消耗资源；/＞为系统的用电消耗资源；/＞为系统未使用风能和光能的惩罚消耗资源；/＞为风能和光能转氢能收获的资源。式中，为/＞时段的单位用电消耗资源的预测值；/＞为/＞时段的负荷；式中，为单位未使用风能和光能惩罚消耗资源；/＞、/＞分别为/＞时段的弃风功率和弃光功率；所述弃风功率指的是未使用的风电功率，弃光功率指的是未使用的光伏功率；式中，为/＞时段的单位氢能收获资源；/＞为/＞时段向外输送的氢能。在一种可能的实现方式中，所述第二目标函数为：式中，为环境消耗资源；/＞为系统的阶梯式碳排放消耗资源；/＞为碳排放的基础消耗资源；/＞为碳排放的区间划分长度；/＞为消耗资源的增长率；/＞为碳排放量。在一种可能的实现方式中：所述碳排放量通过如下公式确定：式中，为系统实际产生的碳排放量；/＞为系统被分配的总碳排放量额；/＞为单位用电后系统产生的碳排放量；/＞为从系统外使用单位电量后系统获得的无偿碳排放量配额。在一种可能的实现方式中，所述总目标函数的约束条件包括：光伏和风电的出力约束、用电功率约束、蓄电池约束、氢储能约束以及功率平衡约束。在一种可能的实现方式中，所述功率平衡约束为：式中，为负荷需求功率；/＞为光伏出力；/＞为风电出力；/＞为负荷；/＞、分别为氢储能的充电功率和放电功率；/＞、/＞分别为蓄电池的充电功率和放电功率；光伏出力和风电出力的约束为：式中，、/＞分别为光伏功率最大值和风电功率最大值的预测值。在一种可能的实现方式中，通过CPLEX求解器对总目标函数求解。第二方面，本发明提供了一种综合能源系统优化调度系统，所述综合能源系统包括：风能、光能以及氢能，所述调度系统包括：指标预测模块，用于根据历史数据分别获取预设时间段内单位用电消耗资源、单位氢能收获资源、风电功率、光伏功率以及负荷的边缘分布函数；基于所述边缘分布函数确定单位用电消耗资源和单位氢能收获资源的第一联合分布函数，以及风电功率、光伏功率和负荷的第二联合分布函数；之后基于第一联合分布函数和第二联合分布函数预测预设时间段内的单位用电消耗资源、单位氢能收获资源、风电功率最大值、光伏功率最大值以及负荷；所述用电指使用所述综合能源系统之外的电，所述氢能收获资源通过将氢能向外输送获取，所述负荷指用电量；负荷调整模块，用于基于预设时间段内所述单位用电消耗资源的动态变化调整所述负荷的预测值，得到基于单位用电消耗资源进行需求响应后的负荷值，以减小负荷的峰谷差；目标函数确定模块，用于基于单位用电消耗资源、单位氢能收获资源、风电功率最大值和光伏功率最大值的预测值，以及基于单位用电消耗资源响应的负荷值获取系统运行消耗资源的第一目标函数和环境消耗资源的第二目标函数；所述第一目标函数包括：用电消耗资源、未使用风能和光能的惩罚消耗资源以及风能和光能转氢能收获的资源的负数，所述第二目标函数包括：用电造成的碳排放消耗资源；目标函数求解模块，用于将所述第一目标函数和第二目标函数加权求和得到总目标函数，之后对总目标函数求解，得到综合能源系统在预设时间段内的优化调度结果。具体地，各个模块的具体步骤实现可参见前述第一方面面或第一方面的任一种可能的实现方式所描述的方法，在此不做赘述。第三方面，本发明提供一种电子设备，包括：至少一个存储器，用于存储程序；至少一个处理器，用于执行存储器存储的程序，当存储器存储的程序被执行时，处理器用于执行第一方面或第一方面的任一种可能的实现方式所描述的方法。第四方面，本发明提供一种计算机可读存储介质，计算机可读存储介质存储有计算机程序，当计算机程序在处理器上运行时，使得处理器执行第一方面或第一方面的任一种可能的实现方式所描述的方法。第五方面，本发明提供一种计算机程序产品，当计算机程序产品在处理器上运行时，使得处理器执行第一方面或第一方面的任一种可能的实现方式所描述的方法。总体而言，通过本发明所构思的以上技术方案与现有技术相比，具有以下有益效果：本发明提供一种综合能源系统优化调度方法及系统，按照时间段划分不同的场景，采用三维Frank-Copula函数建立了风电出力、光伏出力以及负荷的联合概率分布函数，同时考虑了源荷的不确定性与相关性，不仅对电网规划、运行控制有重要意义，而且有利于降低弃风率和弃光率，提高风电与光伏的消纳水平。本发明采用二维Frank-Copula函数建立了电价与氢价的联合概率分布函数，充分考虑了电价和氢价的不确定性和相关性，体现了现阶段电价和氢价的密切联系，对于加深电力市场和氢能市场的耦合具有重要意义。本发明提供一种综合能源系统优化调度方法及系统，基于电价进行需求响应调整负荷，减小负荷的峰谷差，能够降低系统运行成本；进一步地，本发明还同时考虑系统的运行成本与环境成本，构建了双目标优化调度模型，之后将双目标模型转化为单目标模型，对单目标模型进行求解，确定了系统各部分的优化运行策略，验证了所提模型的经济性和有效性。附图说明图1是本发明实施例提供的综合能源系统优化调度方法流程图；图2是本发明实施例提供的考虑电-氢价格相关性的综合能源系统优化调度方法流程示意图；图3是本发明实施例提供的过渡季典型日的风电出力示意图；图3是本发明实施例提供的夏季典型日的风电出力示意图；图3是本发明实施例提供的冬季典型日的风电出力示意图；图4是本发明实施例提供的过渡季典型日的光伏出力示意图；图4是本发明实施例提供的夏季典型日的光伏出力示意图；图4是本发明实施例提供的冬季典型日的光伏出力示意图；图5是本发明实施例提供的过渡季典型日的负荷示意图；图5是本发明实施例提供的夏季典型日的负荷示意图；图5是本发明实施例提供的冬季典型日的负荷示意图；图6是本发明实施例提供的过渡季电价和氢价示意图；图6是本发明实施例提供的过渡季电价和氢价示意图；图7是本发明实施例提供的夏季电价和氢价示意图；图7是本发明实施例提供的夏季电价和氢价示意图；图8是本发明实施例提供的冬季电价和氢价示意图；图8是本发明实施例提供的冬季电价和氢价示意图；图9是本发明实施例提供的过渡季下考虑用户侧需求响应前后的负荷曲线对比示意图；图9是本发明实施例提供的夏季下考虑用户侧需求响应前后的负荷曲线对比示意图；图9是本发明实施例提供的冬季下考虑用户侧需求响应前后的负荷曲线对比示意图；图10是本发明实施例提供的过渡季下考虑电氢价格相关性时系统的出力情况示意图；图10是本发明实施例提供的夏季下考虑电氢价格相关性时系统的出力情况示意图；图10是本发明实施例提供的冬季下考虑电氢价格相关性时系统的出力情况示意图；图11是本发明实施例提供的过渡季下考虑电氢价格相关性时系统的售氢情况示意图；图11是本发明实施例提供的夏季下考虑电氢价格相关性时系统的售氢情况示意图；图11是本发明实施例提供的冬季下考虑电氢价格相关性时系统的售氢情况示意图；图12是本发明实施例提供的综合能源系统的优化调度系统架构图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。图1是本发明实施例提供的综合能源系统优化调度方法流程图；如图1所示，包括以下步骤：S101，根据历史数据分别获取预设时间段内单位用电消耗资源、单位氢能收获资源、风电功率、光伏功率以及负荷的边缘分布函数；基于所述边缘分布函数确定单位用电消耗资源和单位氢能收获资源的第一联合分布函数，以及风电功率、光伏功率和负荷的第二联合分布函数；之后基于第一联合分布函数和第二联合分布函数预测预设时间段内的单位用电消耗资源、单位氢能收获资源、风电功率最大值、光伏功率最大值以及负荷；所述用电指使用所述综合能源系统之外的电，所述氢能收获资源通过将氢能向外输送获取，所述负荷指用电量；S102，基于预设时间段内所述单位用电消耗资源的动态变化调整所述负荷的预测值，得到基于单位用电消耗资源进行需求响应后的负荷值，以减小负荷的峰谷差；S103，基于单位用电消耗资源、单位氢能收获资源、风电功率最大值和光伏功率最大值的预测值，以及基于单位用电消耗资源响应的负荷值获取系统运行消耗资源的第一目标函数和环境消耗资源的第二目标函数；所述第一目标函数包括：用电消耗资源、未使用风能和光能的惩罚消耗资源以及风能和光能转氢能收获的资源的负数，所述第二目标函数包括：用电造成的碳排放消耗资源；S104，将所述第一目标函数和第二目标函数加权求和得到总目标函数，之后对总目标函数求解，得到综合能源系统在预设时间段内的优化调度结果。在一个具体的实施例中，本发明提供了一种考虑电-氢价格相关性的综合能源系统优化调度方法，如图2所示，具体包括以下步骤：步骤1：采用Copula函数来建模风力发电、光伏发电与负荷的相关性，电价与氢价的相关性，并生成每个季节的典型情景。步骤1.1：采用非参数核密度估计法估计电价、氢价、风电功率、光伏功率以及负荷的边际分布。核密度估计是一种非参数估计方法。假设从中抽取的独立同分布样本为，/＞为/＞所对应的密度函数，是未知函数，/＞，需计算点/＞处的概率密度函数估计值/＞，即为：式中，为样本数量；/＞为窗宽；/＞为核密度估计方法中采用的核函数。步骤1.2：选用二维Frank-Copula函数生成电价和氢价的联合分布函数，选用三维Frank-Copula函数生成风电功率、光伏功率和负荷三者的联合分布。Copula函数的表达式为：式中，为变量的个数；/＞为单个变量的边缘分布函数；/＞为Copula连接函数；/＞为/＞个变量的联合分布函数。当描述电价与氢价的相关性时，可表示为：式中，、/＞分别为电价和氢价的边缘分布函数；/＞为二维Frank-Copula函数的参数，采用极大似然法进行估计。当描述风电功率、光伏功率以及负荷三者间的相关性时，可表示为：式中，、/＞和/＞分别表示风电功率、光伏功率和负荷的边缘分布函数；/＞为三维Frank-Copula函数的参数，采用极大似然法进行估计。步骤1.3：对联合概率分布函数进行采样，并根据采样结果和联合概率分布函数反变换得到每个时段对应的电价、氢价、风电功率、光伏功率以及负荷场景数据。步骤2：引入用户侧的价格型需求响应，以季节性尖峰电价推进用户调整用电负荷。价格型需求响应包括如下内容：通常用电量电价弹性来量化用户的价格响应，电量电价弹性是指电价的相对变动所引起的电量的相对变动。电力用户在某一时段的用电量不仅与该时段的电价有关，还受其他时段电价的影响，分别用自弹性系数和交叉弹性系数来描述。式中，为需求响应前后的负荷变化量；/＞；/＞为第i个时段需求响应后的负荷，/＞为第i个时段需求响应前的负荷预测值；/＞为第j时段需求响应前后的电价增量，/＞；/＞为第j时段需求响应前的电价，此处指平时电价；/＞为第j时段需求响应后的电价，此处指分时电价，为预测得到的电价。可用电量电价弹性矩阵来描述用户多时段的价格响应：式中，为电价的增量，/＞；/＞为时段；/＞为电量电价弹性矩阵：式中，和/＞分别为自弹性系数和交叉弹性系数。步骤3：选取某地区一年的负荷、风力发电、光伏出力、电价以及氢价数据，利用非参数核密度估计法、Frank-Copula函数的场景生成方法以及场景缩减方法生成如图3-图9中的s1-s5共5个场景，最终得到对应的预测值。在步骤1中得到的过渡季、夏季、冬季三个季节典型日的风电出力分别如图3、图3、图3所示，光电出力分别如图4、图4、图4所示，负荷分别如图5、图5、图5所示，过渡季的电价和氢价数据，分别如图6、图6所示，夏季的电价和氢价数据，分别如图7、图7所示，冬季的电价和氢价数据，分别如图8、图8所示，在步骤2中利用步骤1中得到的电价以及负荷数据得到三个季节下各典型日考虑需求响应的负荷数据，分别如图9、图9、图9所示，将步骤1中得到的风光出力数据、电价和氢价数据以及步骤2中得到的考虑需求响应的负荷数据作为输入参数，建立同时考虑经济性与环保性的多目标优化调度模型。目标1为最小化系统的运行成本，系统的运行成本为弃风弃光的惩罚成本及系统购电成本与售氢收益的差值。目标2为最小化环境成本，环境成本是由于从电网购电而造成的二氧化碳排放。因为售卖氢气收益较高，减少系统运行成本有时需要通过从电网购电以使电解槽尽可能工作在较大功率，而这与低碳目标背道而驰，所以这是两个相互矛盾的优化目标。系统运行成本的计算如下式所示：式中，为系统运行成本；/＞为系统的购电成本；/＞为系统的弃风弃光惩罚成本；/＞为售氢收入。1）购电成本式中，为/＞时段的电价；/＞为/＞时段的购电量。2）弃风弃光惩罚成本式中，为单位弃风、弃光惩罚成本；/＞、/＞分别为/＞时段的弃风、弃光功率。3）售氢收入式中，为/＞时段的售氢价格；/＞为/＞时段氢气出售至氢市场用于其他产业的功率，即：将氢气向外输送的功率。环境成本的计算如下式所示：式中，为环境成本；/＞为系统的阶梯式碳交易成本；/＞为碳交易的基础价格；/＞为碳排放的区间划分长度；/＞为价格增长率；/＞为碳排放权交易额，具体计算式如下：式中，为系统实际产生的碳排放量；/＞为相关部门向系统分配的总碳排放量额；/＞为从电网购入单位电量后系统产生的碳排放量；/＞为从电网购入单位电量后系统获得的无偿碳排放量配额。其中，总体目标函数的约束条件包括氢储能系统相关约束、蓄电池储能相关约束、功率平衡约束以及光伏风机出力约束等。氢储能系统相关约束：式中，为/＞时段储氢罐储存的能量；/＞为/＞时段储氢罐储存的能量；为时间间隔；/＞、/＞分别为/＞时段氢储能的充电功率和放电功率，分别对应/＞时段电解水的功率和氢发电的功率；/＞、/＞分别为氢储能的充电和放电效率，本发明取80%，分别对应电解水和氢发电的效率；/＞、/＞分别为别为储氢罐的最小、最大容量；/＞、/＞分别为电解水装置和氢发电装置工作功率的最大值；/＞、/＞分别为储氢罐在/＞时段的充、放电状态，为二进制变量，/＞表示储氢罐在/＞时段处于充电状态，表示储氢罐在/＞时段处于放电状态；/＞、/＞分别表示储氢罐在初末时段的容量；/＞为输送功率的上限。蓄电池相关约束：式中，为/＞时刻蓄电池的荷电状态；/＞为/＞时刻蓄电池的荷电状态；/＞为蓄电池的自放电率，本发明可以取0.46%/天；/＞、/＞分别为蓄电池的充、放电功率；/＞、/＞分别为蓄电池的充电和放电效率，本发明取90%；/＞为蓄电池的额定容量；、/＞分别为蓄电池充放电功率的最大值；/＞、/＞分别为蓄电池在/＞时段的充放电状态，为二进制变量，/＞表示蓄电池在/＞时段处于充电状态，/＞表示蓄电池在/＞时段处于放电状态；/＞为蓄电池的最大充放电次数，因蓄电池寿命受季节影响，本发明在不同季节下设置的蓄电池的充放电次数不同，在过渡季时取12，夏季和冬季时取10。功率平衡约束：式中，为负荷需求功率；/＞为光伏发电功率；/＞为风力发电功率。光伏、风机出力约束：式中，、/＞分别为光伏和风力发电的最大功率。购电功率约束：式中，为购电功率的最大值。/＞步骤4：考虑决策者偏好，将多目标优化模型转化为单目标模型，并利用CPLEX求解器对模型进行求解。综合考虑系统运行成本和环境成本/＞，对其进行加权和求和处理后的目标函数为：式中，为权重系数，取值在0.1~0.9之间，本发明可以将r设置为0.7，本领域技术人员可以根据实际情况调整r的具体数值，本发明对此不做任何限定。为研究考虑电-氢价格相关性对综合能源系统优化调度的影响，设置如下2种情景：情景1：考虑电氢价格相关性；情景2：不考虑电氢价格相关性。考虑电氢价格相关性前后的运行结果如表1所示。从表1可以看出，当考虑电-氢价格相关性后，系统运行成本整体水平明显低于未考虑价格相关性时的成本，原因在于电氢价格相关性潜在映射了氢市场和电力市场的交互作用，购电成本中的电价波动与售氢收入有关的氢价波动具有一定程度的风险补偿，导致系统运行成本整体下降。因此，与未考虑价格相关性相比，计及价格相关性的系统运行成本更有竞争力。表1 情景1和情景2的结果比较表由于环境问题和能源需求的变化，不同季节的输入数据以及运行和调度间存在着差异，因此本发明分三个季节对综合能源系统展开调度研究，具体的调度结果如图10-图11所示。因为本发明设置的权重系数为0.7，系统运行成本在总目标中所占的比重较大，所以系统会以运行成本为主，尽可能多地制备销售氢气。由图10、图10、图10、图11、图11和图11可以看出，系统从电网购买了大量电力，其中一小部分用于在峰价时满足电力负荷，这是因为此时电价相较于氢价较高，购电售氢不经济，因此在电价高峰期与尖峰期并不会购买多余电力制氢；一小部分用于在电价较低时购电储存在蓄电池中，而在电价较高时放电以满足负荷需求，减少高价时段的购电量，提高了系统的经济性；其余大部分用于在谷价和平价时制氢售氢以获得更多的收益，此时电价低于氢价，购电售氢可以获得更大的利润，因此在这些时段会购买多余的电力用于制氢。但是需要注意的是，各个季节的能源价格、负荷需求、风光出力以及蓄电池的充放电次数不一样，因此，各个季节的购电周期、购电量与售氢量也不同。由图10-图11也可以看出，冬季的购电量与售氢量明显低于前两个季节，这是因为冬季的负荷需求较大，对应的电价也比其他两个季节高，而各个季节的氢价差别不大，因此在冬季只会在谷价时段购电售氢，这也导致冬季时系统的运行成本最低。综上，本发明在构建优化调度模型时引入了需求响应策略，且考虑了电价和氢价的相关性，有效提高了系统的经济性。图12是本发明实施例提供的综合能源系统优化调度系统架构图；如图12所示，包括：指标预测模块1210，用于根据历史数据分别获取预设时间段内单位用电消耗资源、单位氢能收获资源、风电功率、光伏功率以及负荷的边缘分布函数；基于所述边缘分布函数确定单位用电消耗资源和单位氢能收获资源的第一联合分布函数，以及风电功率、光伏功率和负荷的第二联合分布函数；之后基于第一联合分布函数和第二联合分布函数预测预设时间段内的单位用电消耗资源、单位氢能收获资源、风电功率最大值、光伏功率最大值以及负荷；所述用电指使用所述综合能源系统之外的电，所述氢能收获资源通过将氢能向外输送获取，所述负荷指用电量；负荷调整模块1220，用于基于预设时间段内所述单位用电消耗资源的动态变化调整所述负荷的预测值，得到基于单位用电消耗资源进行需求响应后的负荷值，以减小负荷的峰谷差；目标函数确定模块1230，用于基于单位用电消耗资源、单位氢能收获资源、风电功率最大值和光伏功率最大值的预测值，以及基于单位用电消耗资源响应的负荷值获取系统运行消耗资源的第一目标函数和环境消耗资源的第二目标函数；所述第一目标函数包括：用电消耗资源、未使用风能和光能的惩罚消耗资源以及风能和光能转氢能收获的资源的负数，所述第二目标函数包括：用电造成的碳排放消耗资源；目标函数求解模块1240，用于将所述第一目标函数和第二目标函数加权求和得到总目标函数，之后对总目标函数求解，得到综合能源系统在预设时间段内的优化调度结果。应当理解的是，上述系统用于执行上述实施例中的方法，系统中相应的程序模块，其实现原理和技术效果与上述方法中的描述类似，该系统的工作过程可参考上述方法中的对应过程，此处不再赘述。基于上述实施例中的方法，本发明实施例提供了一种电子设备。该设备可以包括：至少一个用于存储程序的存储器和至少一个用于执行存储器存储的程序的处理器。其中，当存储器存储的程序被执行时，处理器用于执行上述实施例中所描述的方法。基于上述实施例中的方法，本发明实施例提供了一种计算机可读存储介质，计算机可读存储介质存储有计算机程序，当计算机程序在处理器上运行时，使得处理器执行上述实施例中的方法。基于上述实施例中的方法，本发明实施例提供了一种计算机程序产品，当计算机程序产品在处理器上运行时，使得处理器执行上述实施例中的方法。可以理解的是，本发明实施例中的处理器可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、晶体管逻辑器件，硬件部件或者其任意组合。通用处理器可以是微处理器，也可以是任何常规的处理器。本发明实施例中的方法步骤可以通过硬件的方式来实现，也可以由处理器执行软件指令的方式来实现。软件指令可以由相应的软件模块组成，软件模块可以被存放于随机存取存储器、闪存、只读存储器、可编程只读存储器、可擦除可编程只读存储器、电可擦除可编程只读存储器、寄存器、硬盘、移动硬盘、CD-ROM或者本领域熟知的任何其它形式的存储介质中。一种示例性的存储介质耦合至处理器，从而使处理器能够从该存储介质读取信息，且可向该存储介质写入信息。当然，存储介质也可以是处理器的组成部分。处理器和存储介质可以位于ASIC中。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机程序指令时，全部或部分地产生按照本发明实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者通过所述计算机可读存储介质进行传输。所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线)或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质、光介质、或者半导体介质)等。可以理解的是，在本发明实施例中涉及的各种数字编号仅为描述方便进行的区分，并不用来限制本发明的实施例的范围。本领域的技术人员容易理解，以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
