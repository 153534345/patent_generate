标题title
一种基于无人机测绘的基桩测量系统及方法
摘要abst
本申请公开了一种基于无人机测绘的基桩测量系统及方法，其中系统包括：无人机、路径规划模块、拍摄模块、和中央处理模块；无人机用于搭载拍摄模块；路径规划模块用于为无人机规划飞行路线；拍摄模块搭载于无人机之上，并根据飞行路线进行基桩桩位的拍摄，得到桩位图；中央处理模块用于对拍摄到的桩位图进行测绘处理，完成对基桩桩位的测量。本申请通过无人机航拍解决了基桩完工后量测所有桩的桩径、桩位费时费力的问题。且通过cass软件可以在基桩工程验收时，避免传统方法中，只能通过肉眼观察桩位偏差，拉尺量桩径、桩距的情况。本申请可以利用在地基基础验槽工作中，能直接生成实际桩位图，可以更准确的得到基桩桩位信息。
权利要求书clms
1.一种基于无人机测绘的基桩测量系统，其特征在于，包括：无人机、路径规划模块、拍摄模块、和中央处理模块；所述无人机用于搭载所述拍摄模块；所述路径规划模块与所述无人机连接，用于为所述无人机规划飞行路线；所述拍摄模块搭载于所述无人机之上，并根据所述飞行路线进行基桩桩位的拍摄，得到桩位图；所述中央处理模块与所述拍摄模块连接，用于对拍摄到的所述桩位图进行测绘处理，完成对所述基桩桩位的测量。2.根据权利要求1所述的基于无人机测绘的基桩测量系统，其特征在于，所述路径规划模块包括：添加单元和评价单元；所述添加单元与所述评价单元连接，用于在Dijkstra算法的基础上添加启发式函数；所述评价单元用于评价当前节点到起始点的距离与所述启发式函数之间的大小关系，来进行所述路径规划。3.根据权利要求1所述的基于无人机测绘的基桩测量系统，其特征在于，所述拍摄模块包括：若干高清摄像机；所述高清摄像机用于拍摄所述基桩桩位，得到桩位图。4.根据权利要求1所述的基于无人机测绘的基桩测量系统，其特征在于，所述中央处理模块包括：预处理模块和测绘模块；所述预处理模块用于对所述桩位图进行预处理，得到处理后图片；所述测绘模块用于根据所述处理后图片，生成桩位模型图；所述测绘模块还用于根据所述桩位模型图识别出总桩数，并计算出各个基桩的桩径，桩位及桩位偏差。5.根据权利要求4所述的基于无人机测绘的基桩测量系统，其特征在于，所述预处理模块的工作流程包括：利用二维伽马函数对所述桩位图进行自适应校正，得到所述处理后图片。6.根据权利要求4所述的基于无人机测绘的基桩测量系统，其特征在于，所述测绘模块的工作流程包括：采用南方cass软件，根据所述处理后图片，生成桩位模型图，并根据所述桩位模型图识别出总桩数，并计算出各个基桩的桩径，桩位及桩位偏差。7.一种基于无人机测绘的基桩测量方法，其特征在于，步骤包括：为无人机规划飞行路线；根据所述飞行路线进行基桩桩位的拍摄，得到桩位图；对所述桩位图进行测绘处理，完成对所述基桩桩位的测量。8.根据权利要求7所述的基于无人机测绘的基桩测量方法，其特征在于，规划所述飞行路线的方法包括：在Dijkstra算法的基础上添加启发式函数；评价当前节点到起始点的距离与所述启发式函数之间的大小关系，来完成所述飞行路线的规划。
说明书desc
技术领域本申请涉及无人机测绘领域，具体涉及一种基于无人机测绘的基桩测量系统及方法。背景技术工程桩总数通常少到数十根多到数千根。在桩数太多的情况下，在基桩完工后量测所有桩的桩径、桩位费时费力。传统方法通常是在基桩工程验收时，通过肉眼观察桩位偏差，拉尺量桩径、桩距，准确度非常差。目前随着无人机航拍技术的兴起，对于一些较难处理的工程项目有了很大的帮助，但是无人机在飞行路径的规划上又是现如今众多待攻克的问题之一。发明内容本申请通过无人机搭载高清多镜头，通过航拍对基桩桩位进行正射影像或斜侧影像扫测，将航拍影像图利用南方cass软件生成桩位模型图并快速准确的识别出总桩数，计算出各个基桩的桩径，桩位及桩位偏差。为实现上述目的，本申请提供了一种基于无人机测绘的基桩测量系统，包括：无人机、路径规划模块、拍摄模块、和中央处理模块；所述无人机用于搭载所述拍摄模块；所述路径规划模块与所述无人机连接，用于为所述无人机规划飞行路线；所述拍摄模块搭载于所述无人机之上，并根据所述飞行路线进行基桩桩位的拍摄，得到桩位图；所述中央处理模块与所述拍摄模块连接，用于对拍摄到的所述桩位图进行测绘处理，完成对所述基桩桩位的测量。优选的，所述路径规划模块包括：添加单元和评价单元；所述添加单元与所述评价单元连接，用于在Dijkstra算法的基础上添加启发式函数；所述评价单元用于评价当前节点到起始点的距离与所述启发式函数之间的大小关系，来进行所述路径规划。优选的，所述拍摄模块包括：若干高清摄像机；所述高清摄像机用于拍摄所述基桩桩位，得到桩位图。优选的，所述中央处理模块包括：预处理模块和测绘模块；所述预处理模块用于对所述桩位图进行预处理，得到处理后图片；所述测绘模块用于根据所述处理后图片，生成桩位模型图；所述测绘模块还用于根据所述桩位模型图识别出总桩数，并计算出各个基桩的桩径，桩位及桩位偏差。优选的，所述预处理模块的工作流程包括：利用二维伽马函数对所述桩位图进行自适应校正，得到所述处理后图片。优选的，所述测绘模块的工作流程包括：采用南方cass软件，根据所述处理后图片，生成桩位模型图，并根据所述桩位模型图识别出总桩数，并计算出各个基桩的桩径，桩位及桩位偏差。本申请还提供了一种基于无人机测绘的基桩测量方法，步骤包括：为无人机规划飞行路线；根据所述飞行路线进行基桩桩位的拍摄，得到桩位图；对所述桩位图进行测绘处理，完成对所述基桩桩位的测量。优选的，规划所述飞行路线的方法包括：在Dijkstra算法的基础上添加启发式函数；评价当前节点到起始点的距离与所述启发式函数之间的大小关系，来完成所述飞行路线的规划。与现有技术相比，本申请的有益效果如下：本申请通过无人机航拍解决了基桩完工后量测所有桩的桩径、桩位费时费力的问题。且通过cass软件可以在基桩工程验收时，避免传统方法中，只能通过肉眼观察桩位偏差，拉尺量桩径、桩距的情况。本申请可以利用在地基基础验槽工作中，能直接生成实际桩位图，可以更准确的得到基桩桩位信息。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本申请系统结构示意图；图2为本申请方法流程示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。为使本申请的上述目的、特征和优点能够更加明显易懂，下面结合附图和具体实施方式对本申请作进一步详细的说明。实施例一如图1所示，为实施例的系统结构示意图，包括：无人机、路径规划模块、拍摄模块、和中央处理模块。其中，无人机用于搭载拍摄模块；路径规划模块与无人机连接，用于为无人机规划飞行路线；拍摄模块搭载于无人机之上，并根据飞行路线进行基桩桩位的拍摄，得到桩位图；中央处理模块与拍摄模块连接，用于对拍摄到的桩位图进行测绘处理，完成对基桩桩位的测量。而上路径规划模块包括：添加单元和评价单元；添加单元与评价单元连接，用于在Dijkstra算法的基础上添加启发式函数；评价单元用于评价当前节点到起始点的距离与启发式函数之间的大小关系，来进行路径规划。此外，上述拍摄模块包括：若干高清摄像机；高清摄像机用于拍摄基桩桩位，得到桩位图。最后，中央处理模块包括：预处理模块和测绘模块；其中，预处理模块用于对桩位图进行预处理，得到处理后图片；测绘模块用于根据处理后图片，生成桩位模型图；测绘模块还用于根据桩位模型图识别出总桩数，并计算出各个基桩的桩径，桩位及桩位偏差。本实施例中，预处理模块的工作流程包括：利用二维伽马函数对桩位图进行自适应校正，得到处理后图片。测绘模块的工作流程包括：采用南方cass软件，根据处理后图片，生成桩位模型图，并根据桩位模型图识别出总桩数，并计算出各个基桩的桩径，桩位及桩位偏差。实施例二下面将结合本实施例详细说明本申请系统部分如何解决实际生活中的技术问题。首先，在拍摄开始之前，要先利用路径规划模块为无人机制定飞行路线。在本实施例中，路径规划模块采用A-star算法来进行飞行路线的规划，具体方法包括：首先利用添加单元在Dijkstra算法的基础上添加了启发式函数，不仅考虑节点的实际消耗，也计算节点的估计代价消耗。之后由评价单元利用评价函数来指导节点的搜索与扩展，因此评价函数影响搜索空间的大小和算法的速度。A-star算法的代价函数定义为公式：f＝g+h 其中f表示从起始节点S到目标节点G总的代价消耗。g表示从起始节点S到当前节点n的实际消耗，h为当前节点n到目标节点G的估计代价消耗值。由式可知，A-star算法的评价函数f由代价函数g和启发函数h组成。其中，启发函数h主导了A-star算法的搜索性能。在不同的地图环境中，随着搜索深度即当前节点到起始点的距离depth与启发函数h之间的变化，启发函数的取值有如下情况：当depth小于等于h时，意味着目前位置离起始点近离目标点远，自适应增大权重，可减小搜索空间，加快搜索速度，提高目标点的方向性，在一定程度上减少遍历栅格数；当depth大于h时，不能一味增大加权系数ω，只向目标点方向搜索，会陷入局部最优，出现多曲折转弯的路线，所以ω取1，增大搜索空间，获得全局最优的路径。之后，搭载着拍摄模块的无人机沿规划好的飞行路线进行航拍。其中，拍摄模块可以选用激光雷达，也可以选用高清摄像机。在本实施例中，选用高清摄像机进行拍摄。拍摄模块在对基桩桩位进行拍摄后，将得到的桩位图传输至中央处理模块进行处理。中央处理模块在接受到桩位图后，首先利用预处理单元对桩位图进行预处理，得到处理后图像。本实施例中，预处理单元利用基于二维伽马函数的光照不均匀图像自适应校正算法对桩位图进行预处理。对于光照不均匀的桩位图，由于场景中的光照分量的分布不均匀，导致图像中光照强的区域中图像的亮度值足够或者过强，而光照弱的区域图像的亮度值不足。因此，首先采用多尺度高斯函数来提取出场景中的光照分量，函数表达式为：式中，G为光照分量，c为尺度因子，λ为归一化常数。x为输入图像像素的横坐标，y为输入图像像素纵坐标。利用高斯函数和原图像做卷积，即可得到光照分量的估计值，其结果如下：I＝FG式中，F为输入图像；I为估计出来的光照分量。而后，利用多尺度的高斯函数分别提取出场景的光照分量后进行加权，最后得到光照分量的估计值，其表达式为：式中，I为点处由多个不同尺度的高斯函数提取并加权后的光照分量值；ωi为第i个尺度高斯函数提取出的光照分量的加权系数；i＝1,2,…··，N为用到的尺度数，本实施例取N＝3，本实施例选用的尺度因子c的值分别为15，80和250；之后，利用3尺度高斯函数提取图像的光照分量。提取出光照分量后，根据光照分量的分布特性构造光照不均匀校正函数，对光照不均匀图像进行校正处理，降低光照过强区域的亮度值，提高光照过低区域的亮度值。利用图像的光照分量的分布特性自适应地调整二维伽马函数的参数，实现提高光照不均匀图像整体质量的目的。二维伽马函数表达式如下：式中，O为校正后输出图像的亮度值，γ为用于亮度增强的指数值；m为光照分量的亮度均值。在完成图像预处理后，将处理后图片传输至测绘模块进行最后的处理。本实施例中，测绘模块采用南方cass软件根据处理后图片生成桩位模型图，模型精度可以控制在1cm，上述软件可以快速准确的识别出总桩数，并计算出各个基桩的桩径，桩位及桩位偏差。实施例三如图2所示，为本实施例的方法流程示意图，步骤包括：为无人机规划飞行路线。本实施例采用A-star算法来进行飞行路线的规划，具体方法包括：首先在Dijkstra算法的基础上添加了启发式函数，不仅考虑节点的实际消耗，也计算节点的估计代价消耗。之后再利用评价函数来指导节点的搜索与扩展，因此评价函数影响搜索空间的大小和算法的速度。A-star算法的代价函数定义为公式：f＝g+h 其中f表示从起始节点S到目标节点G总的代价消耗。g表示从起始节点S到当前节点n的实际消耗，h为当前节点n到目标节点G的估计代价消耗值。由式可知，A-star算法的评价函数f由代价函数g和启发函数h组成。其中，启发函数h主导了A-star算法的搜索性能。在不同的地图环境中，随着搜索深度即当前节点到起始点的距离depth与启发函数h之间的变化，启发函数的取值有如下情况：当depth小于等于h时，意味着目前位置离起始点近离目标点远，自适应增大权重，可减小搜索空间，加快搜索速度，提高目标点的方向性，在一定程度上减少遍历栅格数；当depth大于h时，不能一味增大加权系数ω，只向目标点方向搜索，会陷入局部最优，出现多曲折转弯的路线，所以ω取1，增大搜索空间，获得全局最优的路径。之后根据飞行路线进行基桩桩位的拍摄，得到桩位图。本实施例中，利用搭载着拍摄装置的无人机沿规划好的飞行路线进行航拍。其中，拍摄装置可以选用激光雷达，也可以选用高清摄像机。在本实施例中，选用高清摄像机进行拍摄。在对基桩桩位完成拍摄后，将得到的桩位图进行处理。对桩位图进行测绘处理，完成对基桩桩位的测量。首先利用二维伽马函数的光照不均匀图像自适应校正算法对得到的桩位图进行预处理。对于光照不均匀的桩位图，由于场景中的光照分量的分布不均匀，导致图像中光照强的区域中图像的亮度值足够或者过强，而光照弱的区域图像的亮度值不足。因此，首先采用多尺度高斯函数来提取出场景中的光照分量，函数表达式为：式中，G为光照分量，c为尺度因子，λ为归一化常数。x为输入图像像素的横坐标，y为输入图像像素纵坐标。利用高斯函数和原图像做卷积，即可得到光照分量的估计值，其结果如下：I＝FG 式中，F为输入图像；I为估计出来的光照分量。而后，利用多尺度的高斯函数分别提取出场景的光照分量后进行加权，最后得到光照分量的估计值，其表达式为：式中，I为点处由多个不同尺度的高斯函数提取并加权后的光照分量值；ωi为第i个尺度高斯函数提取出的光照分量的加权系数；i＝1,2,………，N为用到的尺度数，本实施例取N＝3，本实施例选用的尺度因子c的值分别为15，80和250；之后，利用3尺度高斯函数提取图像的光照分量。提取出光照分量后，根据光照分量的分布特性构造光照不均匀校正函数，对光照不均匀图像进行校正处理，降低光照过强区域的亮度值，提高光照过低区域的亮度值。利用图像的光照分量的分布特性自适应地调整二维伽马函数的参数，实现提高光照不均匀图像整体质量的目的。二维伽马函数表达式如下：式中，O为校正后输出图像的亮度值，γ为用于亮度增强的指数值；m为光照分量的亮度均值。在完成图像预处理后，对处理后图片进行最后的处理。本实施例中，采用南方cass软件根据处理后图片生成桩位模型图，模型精度可以控制在1cm，上述软件可以快速准确的识别出总桩数，并计算出各个基桩的桩径，桩位及桩位偏差。以上所述的实施例仅是对本申请优选方式进行的描述，并非对本申请的范围进行限定，在不脱离本申请设计精神的前提下，本领域普通技术人员对本申请的技术方案做出的各种变形和改进，均应落入本申请权利要求书确定的保护范围内。
