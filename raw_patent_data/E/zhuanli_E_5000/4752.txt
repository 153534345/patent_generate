标题title
一种抽油机井的不停机间抽屏控控制方法及系统
摘要abst
本发明属于抽油机控制技术领域，提供了一种抽油机井的不停机间抽屏控控制方法及系统，其中，方法包括：设定电机的运行参数；采集抽油机的运行状态数据；确定抽油机的冲程转换点；根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态；系统包括：运行参数设定模块、运行状态数据采集模块、冲程转换点确定模块和电机运行状态控制模块。本发明的一种抽油机井的不停机间抽屏控控制方法及系统，提高抽油机的功效，使油井达到供排协调的最佳状态。
权利要求书clms
1.一种抽油机井的不停机间抽屏控控制方法，其特征在于，包括以下步骤：设定电机的运行参数；采集抽油机的运行状态数据；确定抽油机的冲程转换点；根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态。2.根据权利要求1所述的一种抽油机井的不停机间抽屏控控制方法，其特征在于，所述电机的运行参数包括单次正向时间、单次正向频率、单次反向时间、单次反向频率、连续转动频率、间歇转动频率、第一负载功率和第二负载功率；所述抽油机的运行状态数据包括运行实时负载功率和运行实时电流；所述抽油机的冲程转换点包括上冲程转换点和下冲程转换点；所述电机的运行状态包括连续运行模式、间歇运行模式和跟踪运行模式。3.根据权利要求2所述的一种抽油机井的不停机间抽屏控控制方法，其特征在于，所述根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态包括以下步骤：将实时负载功率分别与第一负载功率和第二负载功率对比；在实时负载功率大于等于第一负载功率的情况下，发送连续模式控制指令给变频器并通过变频器控制电机的运行状态；在实时负载功率小于等于第二负载功率的情况下，发送间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行；在实时负载功率小于第一负载功率且大于第二负载功率的情况下，发送跟踪模式控制指令发送给变频器并通过变频器控制电机以跟踪模式运行。4.根据权利要求3所述的一种抽油机井的不停机间抽屏控控制方法，其特征在于，所述在实时负载功率小于等于第二负载功率的情况下，发送间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行包括以下步骤：根据上冲程转换点和下冲程转换点确定抽油机的运行周期；以间歇转动频率运行N个周期，并持续采集N个周期内的运行实时电流；确定N个周期内的N个上冲程的最小电流点和N个下冲程的最小电流点；将N个下冲程的最小电流点中的最小值作为运行转换点；在确定运行转换点之后，正反向交替运行。5.根据权利要求3所述的一种抽油机井的不停机间抽屏控控制方法，其特征在于，所述在实时负载功率小于第一负载功率且大于第二负载功率的情况下，发送跟踪模式控制指令发送给变频器并通过变频器控制电机以跟踪模式运行包括以下步骤：确定实时负载功率的运行趋势；在实时负载功率处于下降趋势时，发送跟踪连续模式控制指令给变频器并通过变频器控制电机的运行状态；在实时负载功率处于上升趋势时，发送跟踪间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行。6.一种抽油机井的不停机间抽屏控控制系统，其特征在于，包括：运行参数设定模块，其用于设定电机的运行参数；运行状态数据采集模块，其用于采集抽油机的运行状态数据；冲程转换点确定模块，其用于确定抽油机的冲程转换点；电机运行状态控制模块，其用于根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态。7.根据权利要求6所述的一种抽油机井的不停机间抽屏控控制系统，其特征在于，所述电机的运行参数包括单次正向时间、单次正向频率、单次反向时间、单次反向频率、连续转动频率、间歇转动频率、第一负载功率和第二负载功率；所述抽油机的运行状态数据包括运行实时负载功率和运行实时电流；所述抽油机的冲程转换点包括上冲程转换点和下冲程转换点；所述电机的运行状态包括连续运行模式、间歇运行模式和跟踪运行模式。8.根据权利要求7所述的一种抽油机井的不停机间抽屏控控制系统，其特征在于，所述电机运行状态控制模块包括：对比模块，其用于将实时负载功率分别与第一负载功率和第二负载功率对比；连续模式控制模块，其用于在实时负载功率大于等于第一负载功率的情况下，发送连续模式控制指令给变频器并通过变频器控制电机的运行状态；间歇模式控制模块，其用于在实时负载功率小于等于第二负载功率的情况下，发送间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行；跟踪模式控制模块，其用于在实时负载功率小于第一负载功率且大于第二负载功率的情况下，发送跟踪模式控制指令发送给变频器并通过变频器控制电机以跟踪模式运行。9.根据权利要求8所述的一种抽油机井的不停机间抽屏控控制系统，其特征在于，所述间歇模式控制模块包括：运行周期确定模块，其用于根据上冲程转换点和下冲程转换点确定抽油机的运行周期；实时电流采集模块，其用于以间歇转动频率运行N个周期，并持续采集N个周期内的运行实时电流；最小电流点确定模块，其用于确定N个周期内的N个上冲程的最小电流点和N个下冲程的最小电流点；运行转换点确定模块，其用于将N个下冲程的最小电流点中的最小值作为运行转换点；交替运行控制模块，其用于在确定运行转换点之后，正反向交替运行。10.根据权利要求8所述的一种抽油机井的不停机间抽屏控控制系统，其特征在于，所述跟踪模式控制模块包括：运行趋势确定模块，其用于确定实时负载功率的运行趋势；跟踪连续控制模块，其用于在实时负载功率处于下降趋势时，发送跟踪连续模式控制指令给变频器并通过变频器控制电机的运行状态；跟踪间歇控制模块，其用于在实时负载功率处于上升趋势时，发送跟踪间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行。
说明书desc
技术领域本发明涉及抽油机控制技术领域，具体涉及一种抽油机井的不停机间抽屏控控制方法及系统。背景技术随着油田的深入开发，低产井所占比例逐年增加，而低产井的机采设备主要是抽油机，抽油机通常以长冲程低冲次连续运行方式或人工控制长周期间歇采油方式来提高运行效率。但是，采用连续运行方式后，普遍供液不足，即使采用最小参数运行仍然不能实现供排协调，平均系统效率较低；采用长周期间歇采油方式后，需要人工控制进行启停，增加了工人劳动强度、间抽制度无法精确执行，导致管理难度大、影响产量等问题。发明内容针对现有技术中的缺陷，本发明提供的一种抽油机井的不停机间抽屏控控制方法及系统，提高抽油机的功效，使油井达到供排协调的最佳状态。为了解决上述技术问题，本发明提出以下技术方案：一种抽油机井的不停机间抽屏控控制方法，包括以下步骤：设定电机的运行参数；采集抽油机的运行状态数据；确定抽油机的冲程转换点；根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态。进一步地，所述电机的运行参数包括单次正向时间、单次正向频率、单次反向时间、单次反向频率、连续转动频率、间歇转动频率、第一负载功率和第二负载功率；所述抽油机的运行状态数据包括运行实时负载功率和运行实时电流；所述抽油机的冲程转换点包括上冲程转换点和下冲程转换点；所述电机的运行状态包括连续运行模式、间歇运行模式和跟踪运行模式。进一步地，所述根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态包括以下步骤：将实时负载功率分别与第一负载功率和第二负载功率对比；在实时负载功率大于等于第一负载功率的情况下，发送连续模式控制指令给变频器并通过变频器控制电机的运行状态；在实时负载功率小于等于第二负载功率的情况下，发送间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行；在实时负载功率小于第一负载功率且大于第二负载功率的情况下，发送跟踪模式控制指令发送给变频器并通过变频器控制电机以跟踪模式运行。进一步地，所述在实时负载功率小于等于第二负载功率的情况下，发送间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行包括以下步骤：根据上冲程转换点和下冲程转换点确定抽油机的运行周期；以间歇转动频率运行N个周期，并持续采集N个周期内的运行实时电流；确定N个周期内的N个上冲程的最小电流点和N个下冲程的最小电流点；将N个下冲程的最小电流点中的最小值作为运行转换点；在确定运行转换点之后，正反向交替运行。进一步地，所述在实时负载功率小于第一负载功率且大于第二负载功率的情况下，发送跟踪模式控制指令发送给变频器并通过变频器控制电机以跟踪模式运行包括以下步骤：确定实时负载功率的运行趋势；在实时负载功率处于下降趋势时，发送跟踪连续模式控制指令给变频器并通过变频器控制电机的运行状态；在实时负载功率处于上升趋势时，发送跟踪间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行。本发明还提供一种抽油机井的不停机间抽屏控控制系统，包括：运行参数设定模块，其用于设定电机的运行参数；运行状态数据采集模块，其用于采集抽油机的运行状态数据；冲程转换点确定模块，其用于确定抽油机的冲程转换点；电机运行状态控制模块，其用于根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态。进一步地，所述电机的运行参数包括单次正向时间、单次正向频率、单次反向时间、单次反向频率、连续转动频率、间歇转动频率、第一负载功率和第二负载功率；所述抽油机的运行状态数据包括运行实时负载功率和运行实时电流；所述抽油机的冲程转换点包括上冲程转换点和下冲程转换点；所述电机的运行状态包括连续运行模式、间歇运行模式和跟踪运行模式。进一步地，所述电机运行状态控制模块包括：对比模块，其用于将实时负载功率分别与第一负载功率和第二负载功率对比；连续模式控制模块，其用于在实时负载功率大于等于第一负载功率的情况下，发送连续模式控制指令给变频器并通过变频器控制电机的运行状态；间歇模式控制模块，其用于在实时负载功率小于等于第二负载功率的情况下，发送间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行；跟踪模式控制模块，其用于在实时负载功率小于第一负载功率且大于第二负载功率的情况下，发送跟踪模式控制指令发送给变频器并通过变频器控制电机以跟踪模式运行。进一步地，所述间歇模式控制模块包括：运行周期确定模块，其用于根据上冲程转换点和下冲程转换点确定抽油机的运行周期；实时电流采集模块，其用于以间歇转动频率运行N个周期，并持续采集N个周期内的运行实时电流；最小电流点确定模块，其用于确定N个周期内的N个上冲程的最小电流点和N个下冲程的最小电流点；运行转换点确定模块，其用于将N个下冲程的最小电流点中的最小值作为运行转换点；交替运行控制模块，其用于在确定运行转换点之后，正反向交替运行。进一步地，所述跟踪模式控制模块包括：运行趋势确定模块，其用于确定实时负载功率的运行趋势；跟踪连续控制模块，其用于在实时负载功率处于下降趋势时，发送跟踪连续模式控制指令给变频器并通过变频器控制电机的运行状态；跟踪间歇控制模块，其用于在实时负载功率处于上升趋势时，发送跟踪间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行。由上述技术方案可知，本发明的有益效果：根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态，使抽油机不停机间抽运行，提高抽油机的功效，使油井达到供排协调的最佳状态。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍。在所有附图中，类似的元件或部分一般由类似的附图标记标识。附图中，各元件或部分并不一定按照实际的比例绘制。图1为本发明方法的流程图；图2为本发明抽油机运行过程中电流变化的示意图；图3为本发明系统的模块图。具体实施方式下面将结合附图对本发明技术方案的实施例进行详细的描述。以下实施例仅用于更加清楚地说明本发明的技术方案，因此只作为示例，而不能以此来限制本发明的保护范围。请参阅图1，本实施例提供的一种抽油机井的不停机间抽屏控控制方法，包括以下步骤。设定电机的运行参数，电机的运行参数包括单次正向时间、单次正向频率、单次反向时间、单次反向频率、连续转动频率、间歇转动频率、第一负载功率和第二负载功率。采集抽油机的运行状态数据，抽油机的运行状态数据包括运行实时负载功率和运行实时电流。确定抽油机的冲程转换点，抽油机的冲程转换点包括上冲程转换点和下冲程转换点。根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态，电机的运行状态包括连续运行模式、间歇运行模式和跟踪运行模式，根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态，使抽油机不停机间抽运行，提高抽油机的功效，使油井达到供排协调的最佳状态。在本实施例中，所述电机的运行参数包括单次正向时间、单次正向频率、单次反向时间、单次反向频率、连续转动频率、间歇转动频率、第一负载功率和第二负载功率；所述抽油机的运行状态数据包括运行实时负载功率和运行实时电流；所述抽油机的冲程转换点包括上冲程转换点和下冲程转换点；所述电机的运行状态包括连续运行模式、间歇运行模式和跟踪运行模式。在本实施例中，所述根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态包括以下步骤。将实时负载功率分别与第一负载功率和第二负载功率对比。在实时负载功率大于等于第一负载功率的情况下，发送连续模式控制指令给变频器并通过变频器控制电机的运行状态，在连续模式中，电机以连续转动频率持续运行。在实时负载功率小于等于第二负载功率的情况下，发送间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行，在间歇模式中，在确定运行转换点后，以单次正向频率运行单次正向时间后停止，然后，单次反向频率运行单次反向时间后停止，按照以上正反向交替运行方式往复运行，直到实时负载功率上升到第一负载功率时停止。在实时负载功率小于第一负载功率且大于第二负载功率的情况下，发送跟踪模式控制指令发送给变频器并通过变频器控制电机以跟踪模式运行，根据抽油机的实时负载功率控制电机在连续模式、间歇模式以及跟踪模式之间切换，实现抽油机不停机间抽运行。参阅图2所示，所述在实时负载功率小于等于第二负载功率的情况下，发送间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行包括以下步骤。根据上冲程转换点和下冲程转换点确定抽油机的运行周期，两个上冲程转换点或两个下冲程转换点之间的间隔为一个周期。以间歇转动频率运行N个周期，并持续采集N个周期内的运行实时电流，间歇转动频率为，2≤N≤4。确定N个周期内的N个上冲程的最小电流点和N个下冲程的最小电流点，一个周期内采集的运行实时电流存在两个波峰两个波谷，其中一个波谷为上冲程的最小电流点b，另一个波谷为下冲程的最小电流点a，当N＝2时，2个周期内存在两个上冲程的最小电流点b以及两个下冲程的最小电流点a。将N个下冲程的最小电流点中的最小值作为运行转换点。由于下冲程的最小电流点a小于上冲程的最小电流点b的电流值，因此，选取N个下冲程的最小电流点a中的最小值作为运行转换点。在确定运行转换点之后，正反向交替运行。在确定运行转换点之后的下一个周期内，运行实时电流达到运行转换点时，电机进行正反向交替运行；如果确定运行转换点之后的下一个周期内，运行实时电流未达到运行转换点，则在接下来的一个周期内选取与运行转换点的电流值在预定差值范围内的一个电流点作为电机状态切换点，电机进行正反向交替运行。电机处于正反向交替运行状态直到实时负载功率上升到第一负载功率时停止。这样设置既达到节能的目的，又能保证电机正反方向平稳正常运行。预定的差值范围可以通过触摸屏预先设定。在本实施例中，所述在实时负载功率小于第一负载功率且大于第二负载功率的情况下，发送跟踪模式控制指令发送给变频器并通过变频器控制电机以跟踪模式运行包括以下步骤。确定实时负载功率的运行趋势，实时负载功率的运行趋势包括从第一负载功率向第二负载功率变化的趋势，即下降趋势以及从第二负载功率向第一负载功率变化的趋势，即上升趋势。在实时负载功率处于下降趋势时，发送跟踪连续模式控制指令给变频器并通过变频器控制电机的运行状态。在实时负载功率处于上升趋势时，发送跟踪间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行。参阅图3所示，一种抽油机井的不停机间抽屏控控制系统，包括运行参数设定模块、运行状态数据采集模块、冲程转换点确定模块和电机运行状态控制模块。运行参数设定模块用于设定电机的运行参数，电机的运行参数包括单次正向时间、单次正向频率、单次反向时间、单次反向频率、连续转动频率、间歇转动频率、第一负载功率和第二负载功率。运行状态数据采集模块用于采集抽油机的运行状态数据，抽油机的运行状态数据包括运行实时负载功率和运行实时电流。冲程转换点确定模块用于确定抽油机的冲程转换点，抽油机的冲程转换点包括上冲程转换点和下冲程转换点。冲程转换点确定模块选用极限开关。电机运行状态控制模块用于根据抽油机的运行状态数据、冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机的运行状态，使抽油机不停机间抽运行，提高抽油机的功效，使油井达到供排协调的最佳状态。电机的运行状态包括连续运行模式、间歇运行模式和跟踪运行模式，控制指令包括连续模式指令、间歇模式指令和跟踪模式指令。在实际使用中，选用触摸屏对进行运行参数设定和电机运行状态控制，同时，触摸屏采用Linux操作系统，Linux操作系统是一个基于POSIX的多用户、多任务、支持多线程和多CPU的操作系统，支持32位和64位硬件，可以同时具有字符界面和图形界面，便于进行参数设定和运行状态监控。触摸屏通过Modbus485通讯电缆跟运行状态数据采集模块和变频器进行电连接，触摸屏的控制指令经过变频器内部CPU通过PWM控制方式调节IGBT的开关进行输出，控制电机的运行状态。触摸屏、变频器、极限开关以及运行状态数据采集模块的工作步骤如下：通过触摸屏的运行参数设定模块设定电机的运行参数；通过运行状态数据采集模块采集抽油机的运行状态数据发送给触摸屏的电机运行状态控制模块；通过冲程转换点确定模块确定抽油机的冲程转换点发送给变频器；通过触摸屏的电机运行状态控制模块根据抽油机的运行状态数据、变频器中的冲程转换点以及电机的运行参数发送控制指令给变频器并通过变频器控制电机处于不同的运行状态。在本实施例中，所述电机的运行参数包括单次正向时间、单次正向频率、单次反向时间、单次反向频率、连续转动频率、间歇转动频率、第一负载功率和第二负载功率；所述抽油机的运行状态数据包括运行实时负载功率和运行实时电流；所述抽油机的冲程转换点包括上冲程转换点和下冲程转换点；所述电机的运行状态包括连续运行模式、间歇运行模式和跟踪运行模式。在本实施例中，所述电机运行状态控制模块包括对比模块、连续模式控制模块、间歇模式控制模块和跟踪模式控制模块。对比模块用于将实时负载功率分别与第一负载功率和第二负载功率对比。连续模式控制模块用于在实时负载功率大于等于第一负载功率的情况下，发送连续模式控制指令给变频器并通过变频器控制电机的运行状态，在连续模式中，电机以连续转动频率持续运行。间歇模式控制模块用于在实时负载功率小于等于第二负载功率的情况下，发送间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行，在间歇模式中，在确定运行转换点后，以单次正向频率运行单次正向时间后停止，然后，单次反向频率运行单次反向时间后停止，按照以上正反向交替运行方式往复运行，直到实时负载功率上升到第一负载功率时停止。跟踪模式控制模块用于在实时负载功率小于第一负载功率且大于第二负载功率的情况下，发送跟踪模式控制指令发送给变频器并通过变频器控制电机以跟踪模式运行，根据抽油机的实时负载功率控制电机在连续模式、间歇模式以及跟踪模式之间切换，实现抽油机不停机间抽运行。在本实施例中，所述间歇模式控制模块包括运行周期确定模块、实时电流采集模块、最小电流点确定模块、运行转换点确定模块和交替运行控制模块。运行周期确定模块用于根据上冲程转换点和下冲程转换点确定抽油机的运行周期，两个上冲程转换点或两个下冲程转换点之间的间隔为一个周期。实时电流采集模块用于以间歇转动频率运行N个周期，并持续采集N个周期内的运行实时电流，间歇转动频率为，2≤N≤4。最小电流点确定模块用于确定N个周期内的N个上冲程的最小电流点和N个下冲程的最小电流点，一个周期内采集的运行实时电流存在两个波峰两个波谷，其中一个波谷为上冲程的最小电流点b，另一个波谷为下冲程的最小电流点a，当N＝2时，2个周期内存在两个上冲程的最小电流点b以及两个下冲程的最小电流点a。运行转换点确定模块用于将N个下冲程的最小电流点中的最小值作为运行转换点。由于下冲程的最小电流点a小于上冲程的最小电流点b的电流值，因此，选取N个下冲程的最小电流点a中的最小值作为运行转换点。交替运行控制模块用于在确定运行转换点之后，正反向交替运行。在确定运行转换点之后的下一个周期内，运行实时电流达到运行转换点时，电机进行正反向交替运行；如果确定运行转换点之后的下一个周期内，运行实时电流未达到运行转换点，则在接下来的一个周期内选取与运行转换点的电流值在预定差值范围内的一个电流点作为电机状态切换点，电机进行正反向交替运行。电机处于正反向交替运行状态直到实时负载功率上升到第一负载功率时停止。这样设置既达到节能的目的，又能保证电机正反方向平稳正常运行。预定的差值范围可以通过触摸屏预先设定。在本实施例中，所述跟踪模式控制模块包括运行趋势确定模块、跟踪连续控制模块和跟踪间歇控制模块。运行趋势确定模块用于确定实时负载功率的运行趋势，实时负载功率的运行趋势包括从第一负载功率向第二负载功率变化的趋势，即下降趋势以及从第二负载功率向第一负载功率变化的趋势，即上升趋势。跟踪连续控制模块用于在实时负载功率处于下降趋势时，发送跟踪连续模式控制指令给变频器并通过变频器控制电机的运行状态。跟踪间歇控制模块用于在实时负载功率处于上升趋势时，发送跟踪间歇模式控制指令发送给变频器并通过变频器控制电机以间歇模式运行。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围，其均应涵盖在本发明的权利要求和说明书的范围当中。
