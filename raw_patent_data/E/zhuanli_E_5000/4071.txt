标题title
一种防撞控制方法、装置、自动隔断门及可读存储介质
摘要abst
本发明实施例公开了一种防撞控制方法、装置、自动隔断门及可读存储介质，所述方法应用于自动隔断门，所述自动隔断门包括门扇、齿轮箱和电机，所述方法包括：获取所述齿轮箱的输出轴在当前时刻的转动角度；通过所述转动角度和所述当前时刻的前一个时刻对应的转动角度，计算所述输出轴的角度变化率；根据相邻两次所述角度变化率，计算所述门扇在当前时刻的移动速度；根据所述移动速度的不同状态，控制所述电机的运行状态。本发明实施例通过获取齿轮箱输出轴的实时角度变化率，计算门扇的移动速度，进而能够灵活地调整电机的状态，使得门扇之间能够保持安全距离，提高了安全性，降低了生产成本。
权利要求书clms
1.一种防撞控制方法，其特征在于，应用于自动隔断门，所述自动隔断门包括门扇、齿轮箱和电机，所述方法包括：获取所述齿轮箱的输出轴在当前时刻的转动角度；通过所述转动角度和所述当前时刻的前一个时刻对应的转动角度，计算所述输出轴的角度变化率；根据相邻两次所述角度变化率，计算所述门扇在当前时刻的移动速度；根据所述移动速度的不同状态，控制所述电机的运行状态。2.根据权利要求1所述的防撞控制方法，其特征在于，所述门扇包括第一门扇和第二门扇，所述移动速度的状态包括速度正常、速度突变和速度为零，所述根据所述移动速度的不同状态，控制所述电机的运行状态，包括：若所述第一门扇的移动速度的状态为速度突变，则获取第一门扇的第一位置；当所述第一门扇的移动速度的状态由所述速度突变转为速度正常时，获取所述第一门扇的第二位置；根据所述第一位置和所述第二位置，计算得到所述第一门扇的第一推动距离；根据第一、第二门扇的预设间距和所述第一推动距离，得到当前时刻所述第一门扇和所述第二门扇的实际间距；若所述实际间距小于安全距离阈值，则控制关闭所述电机。3.根据权利要求1所述的防撞控制方法，其特征在于，所述移动速度的状态包括速度正常、速度突增和速度为零，所述根据所述移动速度的不同状态，控制所述电机的运行状态，包括：若所述移动速度的状态为速度突增，控制关闭所述电机；当所述移动速度的状态由所述速度突增转为速度为零时，获取所述门扇的第二推动距离和推动时长；根据所述门扇的预设移动速度和所述推动时长，得到所述门扇的期望移动距离；根据所述期望移动距离、所述第二推动距离和所述预设移动速度，得到重启时长；等待所述重启时长，控制重新开启所述电机。4.根据权利要求3所述的防撞控制方法，其特征在于，所述当所述移动速度的状态由所述速度突增转为速度为零时，获取所述门扇的第二推动距离和推动时长，包括：获取所述移动速度的状态为所述速度突增时所述门扇的第三位置和第一时间；获取所述移动速度的状态变成速度为零时所述门扇的第四位置和第二时间；根据所述第三位置和所述第四位置，计算所述门扇的第二推动距离；根据所述第一时间和所述第二时间，计算所述门扇的推动时长。5.根据权利要求3所述的防撞控制方法，其特征在于，所述根据所述期望移动距离、所述第二推动距离和所述预设移动速度，得到重启时长，包括：根据所述期望移动距离和所述第二推动距离，计算所述门扇的异常移动距离；根据所述异常移动距离和所述预设移动速度，计算得到所述重启时长。6.根据权利要求1所述的防撞控制方法，其特征在于，所述方法还包括：当所述电机的运行状态设定为开启并正常启动时，判断所述门扇的移动速度是否为零；若是，则判定所述电机发生堵转，并控制关闭所述电机。7.一种防撞控制装置，其特征在于，应用于自动隔断门，所述自动隔断门包括门扇、齿轮箱和电机，所述装置包括：角度获取模块，用于获取所述齿轮箱的输出轴在当前时刻的转动角度；第一计算模块，用于通过所述转动角度和所述当前时刻的前一个时刻对应的转动角度，计算所述输出轴的角度变化率；第二计算模块，用于根据相邻两次所述角度变化率，计算所述门扇在当前时刻的移动速度；控制模块，用于根据所述移动速度的不同状态，控制所述电机的运行状态。8.一种自动隔断门，其特征在于，所述自动隔断门包括存储器以及处理器，所述存储器存储有计算机程序，所述计算机程序在所述处理器上运行时执行权利要求1至6中任一项所述的防撞控制方法。9.根据权利要求8所述的自动隔断门，其特征在于，所述自动隔断门还包括磁性编码器、霍尔传感器以及电机驱动电路；所述磁性编码器和所述霍尔传感器均连接所述处理器，所述处理器连接所述电机驱动电路；所述磁性编码器用于采集所述齿轮箱的输出轴的角度；所述霍尔传感器用于向所述处理器发送控制所述电机驱动电路的指令；所述电机驱动电路用于根据所述处理器的控制指令驱动所述电机。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器运行时，实现如权利要求1至6中任一项所述的防撞控制方法。
说明书desc
技术领域本发明涉及用于自动隔断门的控制领域，尤其涉及一种防撞控制方法、装置、自动隔断门及可读存储介质。背景技术自动隔断门是一种能够根据需求随时把大空间分割成小空间或把小空间连成大空间、具有类似墙体功能的活动隔离结构，能够起到一厅多能、一房多用的空间改造作用，并且自动隔断门一般用于酒店、大会堂和商场等，而自动隔断门在运行过程中，容易受到外界干预而使得门体发生碰撞，因此，自动隔断门对安全性的要求较高。现有技术中，通常利用通信总线读取每扇门体的位置，并将位置信息上报给主机，进而，主机通过下发指令控制电机加速或减速；或者通过在每扇门体两侧安装测距传感器，利用测距传感器得到的位置信息来不断调整电机转速，以使相邻两扇门之间能够保持安全距离。但是，使用通信控制的方式实时性不足，安全性低，测距传感器的安装成本高。因此，如何提高自动隔断门的安全性，降低生产成本成为了本领域亟待解决的技术问题。发明内容针对于现有技术存在的问题，本发明提供一种防撞控制方法、装置、自动隔断门及可读存储介质，以提高提高自动隔断门的安全性，降低生产成本。为了实现上述目的，本发明实施例采用的技术方案如下：第一方面，本发明实施例提供了一种防撞控制方法，应用于自动隔断门，所述自动隔断门包括门扇、齿轮箱和电机，所述方法包括：获取所述齿轮箱的输出轴在当前时刻的转动角度；通过所述转动角度和所述当前时刻的前一个时刻对应的转动角度，计算所述输出轴的角度变化率；根据相邻两次所述角度变化率，计算所述门扇在当前时刻的移动速度；根据所述移动速度的不同状态，控制所述电机的运行状态。在一种实施例中，所述门扇包括第一门扇和第二门扇，所述移动速度的状态包括速度正常，速度突变和速度为零，所述根据所述移动速度的不同状态，控制所述电机的运行状态，包括：若所述第一门扇的移动速度的状态为速度突变，则获取第一门扇的第一位置；当所述第一门扇的移动速度的状态由所述速度突变转为速度正常时，获取所述第一门扇的第二位置；根据所述第一位置和所述第二位置，计算得到所述第一门扇的第一推动距离；根据第一、第二门扇的预设间距和所述第一推动距离，得到当前时刻所述第一门扇和所述第二门扇的实际间距；若所述实际间距小于安全距离阈值，则控制关闭所述电机。在另一种实施例中，所述移动速度的状态包括速度正常，速度突增和速度为零，所述根据所述移动速度的不同状态，控制所述电机的运行状态，包括：若所述移动速度的状态为速度突增，控制关闭所述电机；当所述移动速度的状态由所述速度突增转为速度为零时，获取所述门扇的第二推动距离和推动时长；根据所述门扇的预设移动速度和所述推动时长，得到所述门扇的期望移动距离；根据所述期望移动距离、所述第二推动距离和所述预设移动速度，得到重启时长；等待所述重启时长，控制重新开启所述电机。在一种实施例中，所述当所述移动速度的状态由所述速度突增转为速度为零时，获取所述门扇的第二推动距离和推动时长，包括：获取所述移动速度的状态为所述速度突增时所述门扇的第三位置和第一时间；获取所述移动速度的状态变成速度为零时所述门扇的第四位置和第二时间；根据所述第三位置和所述第四位置，计算所述门扇的第二推动距离；根据所述第一时间和所述第二时间，计算所述门扇的推动时长。在一种实施例中，所述利用所述期望移动距离、所述第二推动距离和所述预设移动速度，得到重启时长，包括：根据所述期望移动距离和所述第二推动距离，计算所述门扇的异常移动距离；根据所述异常移动距离和所述预设移动速度，计算得到所述重启时长。在一种实施例中，所述方法还包括：当所述电机的运行状态设定为开启并正常启动时，判断所述门扇的移动速度是否为零；若是，则判定所述电机发生堵转，并控制关闭所述电机。第二方面，本发明实施例提供了一种防撞控制装置，应用于自动隔断门，所述自动隔断门包括门扇、齿轮箱和电机，所述装置包括：角度获取模块，用于获取所述齿轮箱的输出轴在当前时刻的转动角度；第一计算模块，用于通过所述转动角度和所述当前时刻的前一个时刻对应的转动角度，计算所述输出轴的角度变化率；第二计算模块，用于根据相邻两次所述角度变化率，计算所述门扇在当前时刻的移动速度；控制模块，用于根据所述移动速度的不同状态，控制所述电机的运行状态。第三方面，本发明实施例提供了一种自动隔断门，所述自动隔断门包括存储器以及处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序以使所述计算机设备执行所述的一种防撞控制方法。在一种实施例中，所述自动隔断门还包括磁性编码器、霍尔传感器以及电机驱动电路；所述磁性编码器和所述霍尔传感器均连接所述处理器，所述处理器连接所述电机驱动电路；所述磁性编码器用于采集所述齿轮箱输出轴的角度；所述霍尔传感器用于向所述处理器发送控制所述电机驱动电路的指令；所述电机驱动电路用于根据所述处理器的控制指令驱动所述电机。第四方面，本发明实施例还提供了一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器运行时执行所述的一种防撞控制方法。与现有技术相比，本发明实施例公开了一种防撞控制方法、装置、自动隔断门及可读存储介质，该方法包括获取齿轮箱输出轴在对应时刻的转动角度；通过相邻两个时刻的所述转动角度，计算所述输出轴在对应时刻的角度变化率；根据相邻两次所述角度变化率，计算所述门扇在对应时刻的移动速度；根据所述移动速度的不同状态，控制所述电机的运行状态。本发明实施例通过获取齿轮箱输出轴的实时角度变化率，计算门扇的移动速度，进而能够灵活地调整电机的状态，使得门扇之间能够保持安全距离，提高了安全性，降低了生产成本。附图说明为了更清楚地说明本发明的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对本发明保护范围的限定。在各个附图中，类似的构成部分采用类似的编号。图1示出了本发明实施例中一种防撞控制方法的流程示意图；图2示出了本发明实施例中一种控制电机运行状态的流程示意图；图3示出了本发明实施例中另一种控制电机运行状态的流程示意图；图4示出了本发明实施例中一种防撞控制装置的结构框图；图5示出了本发明实施例中一种自动隔断门的内部结构框图。具体实施方式下面将结合本发明实施例中附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。在下文中，可在本发明的各种实施例中使用的术语“包括”、“具有”及其同源词仅意在表示特定特征、数字、步骤、操作、元件、组件或前述项的组合，并且不应被理解为首先排除一个或更多个其它特征、数字、步骤、操作、元件、组件或前述项的组合的存在或增加一个或更多个特征、数字、步骤、操作、元件、组件或前述项的组合的可能性。此外，术语“第一”、“第二”、“第三”等仅用于区分描述，而不能理解为指示或暗示相对重要性。除非另有限定，否则在这里使用的所有术语具有与本发明的各种实施例所属领域普通技术人员通常理解的含义相同的含义。所述术语将被解释为具有与在相关技术领域中的语境含义相同的含义并且将不被解释为具有理想化的含义或过于正式的含义，除非在本发明的各种实施例中被清楚地限定。实施例1请参照图1，本发明实施例提供的一种防撞控制方法，应用于自动隔断门，所述自动隔断门包括门扇、齿轮箱和电机，所述方法包括：步骤S110：获取所述齿轮箱的输出轴在当前时刻的转动角度。需要理解的是，齿轮箱是一种用于机械传动的部件，所述齿轮箱通常通过转动输出轴，进而满足动力输出的需求。齿轮箱和自动隔断门的每个门扇都是刚性连接的，通过电机驱动齿轮箱，齿轮箱通过输出轴带动门扇在齿条上移动。具体地，齿轮箱输出轴在工作过程中，齿轮箱输出轴在每个时刻都有一个对应的角度，通过对应时刻的角度能够计算出所述齿轮箱输出轴在这段时间内的转动角度。示范性地，当前时刻为18:00:58.44，此时所述齿轮箱输出轴的角度为45°，20ms之前，当前时刻的前一个时刻变为18:00:58.24，此时所述齿轮箱输出轴对应的角度为15°，那么，将前后两次得到的角度进行作差运算，计算出所述齿轮箱输出轴在当前时刻18:00:58.44的转动角度为30°。具体的时刻根据实际情况进行记录，这里不做限定。可选的，每隔固定时间周期，获取齿轮箱的输出轴在对应时刻的转动角度，比如，时间周期可以是20ms，也可以是30ms，具体时间周期可以根据实际情况进行设置，这里不做限定。因此，通过获得齿轮箱输出轴对应时刻的转动角度，提高了后续门扇状态采集的实时性。步骤S120：通过所述转动角度和所述当前时刻的前一个时刻对应的转动角度，计算所述输出轴的角度变化率。具体地，将齿轮箱输出轴在相邻两个时刻的转动角度进行作差运算，得到所述齿轮箱输出轴在对应时刻的角度变化率。示范性地，当前时刻的前一个时刻为18:00:58.44，此时所述齿轮箱输出轴的转动角度为30°，经过20ms以后，当前时刻为18:00:59.04，此时所述齿轮箱输出轴对应的转动角度为45°，那么，将前后两次得到的转动角度进行作差运算，计算出所述齿轮箱输出轴在18:00:59.04这一当前时刻的角度变化率为15°。具体的时刻和转动角度根据实际情况进行记录，这里不做限定。通过齿轮箱输出轴的转动角度来计算对应的角度变化率，减少了其他元件的使用，减低了产品成本，并在一定程度上保证了角度变化率计算的准确性和实时性。步骤S130：根据相邻两次所述角度变化率，计算所述门扇在当前时刻的移动速度。可以理解的是，通过齿轮箱输出轴的角度变化率，能够得到所述齿轮箱输出轴的转动速度，所以，所述齿轮箱输出轴的转动速度和门扇本身的移动速度存在转换关系。示范性地，在门扇本身的移动速度为10cm/s时，所述齿轮箱输出轴200ms内的角度变化率是15°。具体的转换关系能够根据齿轮箱输出轴的实际大小而定，这里不做限定。具体地，通过齿轮箱输出轴的转动速度能够随时获取门扇本身的移动速度，提高了获取数据的及时性和有效性。步骤S140：根据所述移动速度的不同状态，控制所述电机的运行状态。需要理解的是，在没有外界干预的情况下，齿轮箱输出轴的转动速度相对稳定，从而使得门扇能够保持稳定的移动速度。示范性地，当门扇的移动速度异常时，控制所述电机停止运行，从而使得齿轮箱停止工作，进而门扇也会停止移动，以此避免了自动隔断门的门扇发生碰撞。因此，通过实时获取门扇的移动速度的状态，来控制电机的运行，极大程度上保证了门扇之间的安全。本发明实施例提供的一种防撞控制方法，包括获取所述齿轮箱的输出轴在当前时刻的转动角度；通过所述转动角度和所述当前时刻的前一个时刻对应的转动角度，计算所述输出轴的角度变化率；根据相邻两次所述角度变化率，计算所述门扇在当前时刻的移动速度；根据所述移动速度的不同状态，控制所述电机的运行状态。本发明实施例通过获取齿轮箱输出轴的实时角度变化率，计算门扇的移动速度，进而能够灵活地调整电机的状态，使得门扇之间能够保持安全距离，提高了安全性，降低了生产成本。请参照图2，图2为本发明实施例中控制电机运行状态的一种流程示意图。在该实施例中，所述门扇包括第一门扇和第二门扇，所述移动速度的状态包括速度正常、速度突变和速度为零，所述步骤S140包括：步骤S1411：若所述第一门扇的移动速度的状态为速度突变，则获取第一门扇的第一位置；步骤S1412：当所述第一门扇的移动速度的状态由所述速度突变转为速度正常时，获取所述第一门扇的第二位置；步骤S1413：利用所述第一位置和所述第二位置，计算得到所述第一门扇的第一推动距离；步骤S1414：根据第一、第二门扇的预设间距和所述第一推动距离，得到当前时刻所述第一门扇和所述第二门扇的实际间距；步骤S1415：若所述实际间距小于安全距离阈值，则控制关闭所述电机。可以理解的是，所述自动隔断门是由多个门扇组成，本实施例中的第一门扇和第二门扇可以是相邻的两个门扇，也可以是不相邻的两个门扇，两个门扇之间的关系决定了预设间距的大小。示范性地，若第一门扇和第二门扇是相邻的，那么，预设间距为两个门扇之间的间距，比如2m；若第一门扇和第二门扇之间隔了一个门扇，那么，预设间距为两个门扇之间的间距的两倍，则为4m。因此，具体的预设间距根据第一门扇和第二门扇的实际位置而定，这里不做限定。具体地，速度突变是指在外界干预的情况下，门扇的实际移动速度和理论移动速度的差值大于预设阈值，可以理解的是，速度突变又包括速度突增和速度突减，其中，速度突增的预设阈值可以设置为理论移动速度的两倍，速度突减的预设阈值可以设置为理论移动速度的一半，具体的预设阈值可以根据实际情况而定，这里不做限定。速度正常是指在误差范围内，门扇的实际移动速度和理论移动速度保持一致。速度为零是指门扇停止移动，即移动速度为零。可选的，门扇移动速度处于不同状态时，记录门扇相对于门轨的绝对位置，从而根据状态变化时所记录的位置计算门扇移动的距离。进一步地，第一位置是指速度突变时第一门扇相对于门轨的绝对位置；第二位置是指速度突变转为速度正常时第一门扇相对于门轨的绝对位置；第一推动距离是指由速度突增变成速度正常过程中第一门扇移动的距离。可选的，若所述实际间距小于安全距离阈值，则关闭电机，使得第一门扇和第二门扇均停止移动；若实际间距大于安全距离阈值，第一门扇和第二门扇均保持原有的移动速度进行移动。具体地，当速度突变为速度突增时，则所述第二门扇位于所述第一门扇的前方，也可以理解为，第二门扇先通过门轨的某一位置，第一门扇后通过该位置。因此，示范性地，第一门扇的第一位置为1m，第一门扇的第二位置为2.5m。而当速度突变为速度突减时，则所述第二门扇位于所述第一门扇的后方，也可以理解为，第一门扇先通过门轨的某一位置，第二门扇后通过该位置，比如，第一门扇的第一位置为2.5m，第一门扇的第二位置为1m。进而，第一推动距离为第二位置和第一位置的差值，则为1.5m。那么，当预设间距为2m，第一推动距离为1.5m的对应时刻下，第一门扇与第二门扇之间的实际间距等于0.5m，设置安全距离阈值为1m，那么，在实际间距小于安全距离阈值的情况下，则控制关闭电机，从而避免第一门扇与第二门扇发生碰撞，提高了安全性。请参照图3，图3为本发明实施例中控制电机运行状态的另一种流程示意图。在该实施例中，所述移动速度的状态包括速度正常、速度突变和速度为零，所述步骤S140包括：步骤S1421：若所述移动速度的状态为速度突增，控制关闭所述电机；步骤S1422：当所述移动速度的状态由所述速度突增转为速度为零时，获取所述门扇的第二推动距离和推动时长；步骤S1423：根据所述门扇的预设移动速度和所述推动时长，得到所述门扇的期望移动距离；步骤S1424：根据所述期望移动距离、所述第二推动距离和所述预设移动速度，得到重启时长；步骤S1425：等待所述重启时长，控制重新开启所述电机。需要理解的是，电机带动齿轮箱输出轴进行转动，进而带动自动隔断门的门扇进行移动，因此，当所述门扇的移动速度的状态为速度突增，则关闭所述电机，使得对应电机所控制的门扇不再移动。具体地，所述第二推动距离是指速度突增变为速度为零的过程中门扇移动的距离，所述推动时长速度突增变为速度为零的过程中门扇移动的时长。门扇的预设移动速度是指齿轮箱输出轴的转速相对稳定时门扇的实际移动速度。通过门扇的预设移动速度和所述推动时长，能够得到在推动时长内门扇本应该的移动的距离，即门扇的期望移动距离；所述重启时长是指所述门扇需要停止移动的时长，即当重启时间结束后，所述门扇才重新开始移动。比如，重启时长为50ms，那么50ms后门扇才能重新开始移动。具体的重启时长根据实际情况而定，这里不做限定。因此，通过将移动速度的状态为速度突增的门扇停止运行，其余门扇正常运行，等待重启时间过去后，处于停止状态的门扇重新开始移动，从而使得门扇能够通过停止移动的时间来抵消速度突增时所产生的推动距离，进而，使得门扇之间的间隔保持均匀，降低了自动隔断门中各个门扇碰撞的风险，提高了安全性。在一种实施例中，所述步骤S1422包括：获取所述移动速度的状态为所述速度突增时所述门扇的第三位置和第一时间；获取所述移动速度的状态变成速度为零时所述门扇的第四位置和第二时间；根据所述第三位置和所述第四位置，计算所述门扇的第二推动距离；根据所述第一时间和所述第二时间，计算所述门扇的推动时长。其中，第三位置和第一时间分别是指当所述移动速度的状态为所述速度突增，门扇相对于门轨的绝对位置和时间。第四位置和第二时间是指移动速度的状态由速度突增变成速度为零时，门扇相对于门轨的绝对位置和时间。示范性地，当移动速度的状态为所述速度突增，此时门扇的第三位置为5m，第一时间为18:00:33.44；移动速度的状态由速度突增变成速度为零，此时门扇的第四位置为8m，第一时间为18:00:34.14。进而，通过对所述第三位置和所述第四位置进行作差运算，得到第二推动距离为3m，推动时长为30ms。因此，通过记录移动速度的不同状态下门扇所处的位置和对应的时间，能够准确地计算出第二推动距离，为后续门扇的移动提供了数据支持。在一种实施例中，步骤S1424包括：根据所述期望移动距离和所述第二推动距离，计算所述门扇的异常移动距离；根据所述期望移动距离和所述第二推动距离，计算所述门扇的异常移动距离；根据所述异常移动距离和所述预设移动速度，计算得到所述重启时长。具体地，将期望移动距离和所述第二推动距离进行作差运算，得到所述门扇的异常移动距离。示范性地，期望移动距离为5m，第二推动距离为7m，那么异常移动距离则为第二推动距离减去期望移动距离，则为2m。进一步地，通过异常移动距离除以预设移动速度，得到所述重启时长。比如，异常移动距离为2m，预设移动速度为2m/ms，那么，重启时长为20ms。具体的期望移动距离和重启时间都可以根据实际情况获得，这里不做限定。利用所述期望移动距离、所述第二推动距离和所述预设移动速度，能够精确地计算出所述重启时间，进而通过重启时间控制门扇何时开始移动，从而使得所述门扇之间能够始终保持一定的间距，降低碰撞的风险。在一种实施例中，所述防撞控制方法还包括：当所述电机的运行状态设定为开启并正常启动时，判断所述门扇的移动速度是否为零；若是，则判定所述电机发生堵转，并控制关闭所述电机。具体地，当电机的运行状态为开启并正常启动时，进而带动对应的齿轮箱输出轴进行转动，使得门扇进行移动。因此，将电机的运行状态设定为开启并正常启动，根据所述门扇是否移动，若所述门扇的移动速度不为零，则说明电机带动齿轮箱输出轴在进行转动；若所述门扇的移动速度为零，则说明齿轮箱输出轴并没有发生转动，进而判定出电机堵住不转动，即发生堵转，因此，关闭电机，从而减少电机损耗，降低了损失。实施例2与上述方法实施例相对应，请参照图4，图4为本发明实施例提供的一种防撞控制装置的结构框图。该防撞控制装置100应用于自动隔断门，所述自动隔断门包括门扇、齿轮箱和电机，该防撞控制装置100包括：角度获取模块110，第一计算模块120，第二计算模块130和控制模块140。其中，角度获取模块110，用于获取所述齿轮箱的输出轴在当前时刻的转动角度。第一计算模块120，用于通过所述转动角度和所述当前时刻的前一个时刻对应的转动角度，计算所述输出轴的角度变化率；第二计算模块130，用于根据相邻两次所述角度变化率，计算所述门扇在当前时刻的移动速度；控制模块140，用于根据所述移动速度的不同状态，控制所述电机的运行状态。本申请实施例提供的防撞控制装置对应于上述实施例1中防撞控制方法的各个步骤，上述实施例1中的可选项同样适用于本实施例，故这里不再赘述。本发明实施例还提供了一种自动隔断门，所述自动隔断门包括存储器及处理器，所述存储器存储有计算机程序，所述计算机程序在所述处理器执行时，实现如上述实施例1所述的防撞控制方法。可选的，请参照图5，所述自动隔断门还包括磁性编码器10、霍尔传感器11以及电机驱动电路12等部件；所述磁性编码器10和所述霍尔传感器11均连接所述处理器，所述处理器连接所述电机驱动电路12；所述磁性编码器10用于反馈齿轮箱的输出轴的角度，并通过相邻两个时刻的所述角度，能够计算得出所述输出轴的转动角度；所述霍尔传感器11用于向所述处理器发送控制所述电机驱动电路12的指令；所述电机驱动电路12用于驱动所述电机。本发明实施例还提供了一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时，实现如上述实施例1所述的防撞控制方法。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，附图中的流程图和结构图显示了根据本发明的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，结构图和/或流程图中的每个方框、以及结构图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本发明各个实施例中的各功能模块或单元可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或更多个模块集成形成一个独立的部分。所述功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。
