标题title
一种平地机控制方法、装置及平地机
摘要abst
本申请公开了一种平地机控制方法、装置及平地机。平地机控制方法包括：确定所述平地机的当前行驶档位；确定所述平地机的当前转矩值与所述当前行驶档位对应的最大转矩值的对比结果；当所述对比结果满足预设控制条件时，提高所述铲刀的高度至预设高度值；其中，所述平地机根据预设路线在工作区域内自动移动以进行平整作业，所述预设控制条件表征所述预设路线中出现多余堆土。本申请提供的方案能够提高平地机完成平整作业的效率。
权利要求书clms
1.一种平地机控制方法，其特征在于，所述平地机控制方法包括：确定平地机的当前行驶档位；确定所述平地机的传动机构的当前转矩值与所述当前行驶档位对应的传动机构的最大转矩值的对比结果；以及当所述对比结果满足预设控制条件时，提高所述平地机的铲刀的高度。2.根据权利要求1所述的平地机控制方法，其特征在于，进一步包括：获取预设路线上所述平地机前方预设距离值内的堆土高度值；当所述堆土高度值达到预设的第一临界值且小于第二临界值时，控制所述平地机暂停移动；控制所述铲刀根据预设的角度值进行预设次数的摆动并在摆动后恢复原始位置；以及恢复所述平地机在所述预设路线上的移动。3.根据权利要求2所述的平地机控制方法，其特征在于，进一步包括：当所述堆土高度值达到预设的第二临界值时，提高所述铲刀的高度；其中，所述第二临界值大于所述第一临界值。4.根据权利要求1-3任一项所述的平地机控制方法，其特征在于，所述提高所述铲刀的高度的步骤之后进一步包括：记录当前所述平地机所在的提高铲刀高度的位置；根据预设的移出区域生成第一路线指引；根据所述第一路线指引，控制所述平地机移动并通过所述铲刀将多余堆土移至所述移出区域。5.根据权利要求4所述的平地机控制方法，其特征在于，进一步包括：当所述平地机移动并通过所述铲刀将所述多余堆土移至所述移出区域时，生成至所述平地机所在的提高铲刀高度的位置的第二路线指引；根据所述第二路线指引控制所述平地机向所述平地机所在的提高铲刀高度的位置移动；以及当所述平地机到达所述平地机所在的提高铲刀高度的位置时，下降所述铲刀的高度。6.根据权利要求4所述的平地机控制方法，其特征在于，所述根据所述第一路线指引，控制所述平地机移动并通过所述铲刀将所述多余堆土移至所述移出区域，包括：解除所述平地机的自动移动并改为手动控制模式；以及在所述平地机上显示所述第一路线指引，以使操作人员根据所述第一路线指引手动控制所述平地机移动并通过所述铲刀将所述多余堆土移至所述移出区域。7.根据权利要求1-3任一项所述的平地机控制方法，其特征在于，所述确定所述平地机的当前转矩值与所述当前行驶档位对应的最大转矩值的对比结果包括：确定所述最大转矩值与所述当前转矩值的差值；所述对比结果满足预设控制条件包括：所述最大转矩值与所述当前转矩值差值小于等于预设的转矩差值。8.根据权利要求2或3所述的平地机控制方法，其特征在于，所述获取预设路线上所述平地机前方预设距离值内的堆土高度值包括：通过至少两个摄像装置拍摄所述平地机前方预设距离值内的路况图像；所述至少两个摄像装置安装在所述平地机前端的不同位置；将所述两个摄像装置拍摄的所述路况图像进行处理，得到立体路况图像；以及根据所述立体图像确定所述堆土高度值。9.一种用于实现权利要求1-8中任一权利要求所述的平地机控制方法的平地机控制装置，其特征在于，包括：档位确定模块，用于确定所述平地机的当前行驶档位；对比模块，用于确定所述平地机的传动机构的当前转矩值与所述当前行驶档位对应的传动机构的最大转矩值的对比结果；以及控制模块，用于当所述对比结果满足预设控制条件时，提高所述铲刀的高度。10.一种平地机，其特征在于，包括平地机本体和权利要求9所述的平地机控制装置，所述平地机控制装置安装在所述平地机本体上。
说明书desc
技术领域本申请涉及工程机械技术领域，具体涉及一种平地机控制方法、装置及平地机。背景技术平地机是一款用于平整土地的常用机械设备，目前通过平地机进行土地平整作业时，通过预先设置的作业路线在工作区域内自动移动，通过移动带动平地机上的铲刀平整工作区域内的土地，实现自动平整作业。平地机的作业工况复杂，在有的时候，铲刀在土壤中遇到土堆可能会使负载产生突变，产生很大冲击，结果往往会导致发动机掉速，甚至熄火，影响作业效率。平地机制造商往往提高发动机功率的利用率，缓解负载突变带来的影响。但发动机功率是一定的，当负载较大时，上述方案是无法实施的。目前比较有效的办法是提升铲刀到合适的高度，减小负载。然而，目前在平地机的自动平整作业工程中，如果在作业路线上出现了障碍物，平地机的铲刀无法自动提前调整高度或者只有在铲刀遇到障碍物后才进行高度的调整，无法根据工况提前做出判断，可能会造成平地机阻力过大无法前进而导致原地打滑，而轮胎打滑或铲刀碰到障碍物对平地机本身会产生损伤，在造成设备损耗的同时影响平整作业的效率。发明内容为了解决或者改善上述技术问题中的至少一个技术问题，提出了本申请。本申请的实施例提供了一种平地机控制方法、装置及平地机，在平地机智能找平过程中，可预判设备前行受阻，即根据工况提前做出判断；在设备到达极限载荷前，控制铲刀提升一定高度，减少轮胎打滑或铲刀碰到障碍物等对平地机本身产生损伤，同时提高平地机平整作业的效率。根据本申请的一个方面，提供了一种平地机控制方法，包括：确定平地机的当前行驶档位；确定所述平地机的传动机构的当前转矩值与所述当前行驶档位对应的传动机构的最大转矩值的对比结果；以及当所述对比结果满足预设控制条件时，提高所述平地机的铲刀的高度。在一实施例中，平地机控制方法还包括：获取预设路线上所述平地机前方预设距离值内的堆土高度值；当所述堆土高度值达到预设的第一临界值且小于第二临界值时，控制所述平地机暂停移动；控制所述铲刀根据预设的角度值进行预设次数的摆动并在摆动后恢复原始位置；以及恢复所述平地机在所述预设路线上的移动。在一实施例中，平地机控制方法还包括：当所述堆土高度值达到预设的第二临界值时，提高所述铲刀的高度；其中，所述第二临界值大于所述第一临界值。在一实施例中，所述提高所述铲刀的高度的步骤之后还包括：记录当前所述平地机所在的提高铲刀高度的位置；根据预设的移出区域生成第一路线指引；根据所述第一路线指引，控制所述平地机移动并通过所述铲刀将所述多余堆土移至所述移出区域。在一实施例中，该方法还包括：当所述平地机移动并通过所述铲刀将所述多余堆土移至所述移出区域时，生成至所述平地机所在的提高铲刀高度的位置的第二路线指引；根据所述第二路线指引控制所述平地机向所述平地机所在的提高铲刀高度的位置移动；以及当所述平地机到达所述平地机所在的提高铲刀高度的位置时，下降所述铲刀的高度。在一实施例中，所述根据所述第一路线指引，控制所述平地机移动并通过所述铲刀将所述多余堆土移至所述移出区域，包括：解除所述平地机的自动移动并改为手动控制模式；以及在所述平地机上显示所述第一路线指引，以使操作人员根据所述第一路线指引手动控制所述平地机移动并通过所述铲刀将所述多余堆土移至所述移出区域。在一实施例中，所述确定所述平地机的当前转矩值与所述当前行驶档位对应的最大转矩值的对比结果包括：确定所述最大转矩值与所述当前转矩值的差值；所述对比结果满足预设控制条件包括：所述最大转矩值与所述当前转矩值差值小于等于预设的转矩差值。在一实施例中，所述获取预设路线上所述平地机前方预设距离值内的堆土高度值包括：通过至少两个摄像装置拍摄所述平地机前方预设距离值内的路况图像；所述至少两个摄像装置安装在所述平地机前端的不同位置；将所述两个摄像装置拍摄的所述路况图像进行处理，得到立体路况图像；以及根据所述立体图像确定所述堆土高度值。根据本申请的另一方面，提供了一种平地机控制装置，包括：档位确定模块，用于确定所述平地机的当前行驶档位；对比模块，用于确定所述平地机的传动机构的当前转矩值与所述当前行驶档位对应的传动机构的最大转矩值的对比结果；以及控制模块，用于当所述对比结果满足预设控制条件时，提高所述铲刀的高度。根据本申请的另一方面，提供了一种平地机，包括平地机本体和平地机控制装置，所述平地机控制装置安装在所述平地机本体上，用于执行上述任一所述的平地机控制方法。本申请提供的一种平地机控制方法、装置及平地机，通过平地机传动机构当前转矩值和最大转矩值的对比结果来确定平地机的移动是否受到阻碍。目前，平地机的平整作业时通过预先在工作区域内设置预设路线，使平地机根据预设路线自动在工作区域内完成平整工作。然而，若预设路线上出现了多余堆土，虽然平地机处于自动驾驶状态，但铲刀却无法预知到前方的堆土情况，只有当铲刀与堆土已经发生接触后，才能够感知到路面上有多余堆土，对铲刀的高度进行控制。或者，在平地机自动驾驶的过程中，操作人员仍然需要在驾驶室内观察路面的情况，并在发现前方路面有多余堆土时手动抬高铲刀的高度，这种方式非常依赖于操作人员的技术水平和经验，一旦出现分心或反应不及时等情况，也会出现多余堆土对平地机的正常工作产生影响的情况。在本发明实施例中，通过确定当前转矩值和最大转矩值的对比结果来预知预设路线中是否出现多余堆土，并提高铲刀的高度至预设高度值来减小多余堆土对平地机的阻力，提高平地机平整作业的效率。附图说明通过结合附图对本申请实施例进行更详细的描述，本申请的上述以及其他目的、特征和优势将变得更加明显。附图用来提供对本申请实施例的进一步理解，并且构成说明书的一部分，与本申请实施例一起用于解释本申请，并不构成对本申请的限制。在附图中，相同的参考标号通常代表相同部件或步骤。图1是本申请一示例性实施例提供的一种平地机控制方法的流程示意图。图2是本申请一示例性实施例提供的另一种平地机控制方法的流程示意图。图3是本申请另一示例性实施例提供的另一种平地机控制方法的流程示意图。图4是本申请一示例性实施例提供的另一种平地机控制方法的流程示意图。图5是本申请一示例性实施例提供的一种堆土清理方法的流程示意图。图6是本申请一示例性实施例提供的一种堆土高度值确定方法的流程示意图。图7是本申请一示例性实施例提供的一种平地机控制装置的结构示意图。图8是本申请一示例性实施例提供的一种平地机控制系统的结构示意图。图9是本申请一示例性实施例提供的另一种平地机控制方法的流程示意图。图10是本申请另一示例性实施例提供的另一种平地机控制方法的流程示意图。图11是本申请一示例性实施例提供的一种平地机的结构示意图。具体实施方式下面，将参考附图详细地描述根据本申请的示例实施例。显然，所描述的实施例仅仅是本申请的一部分实施例，而不是本申请的全部实施例，应理解，本申请不受这里描述的示例实施例的限制。如图1所示，本发明一实施例提供了一种平地机控制方法，该方法包括以下步骤：步骤110：确定平地机的当前行驶档位。具体地，在平地机的行驶过程中，需要保持档位和速度的匹配。当速度和档位对应时，平地机的运行处于最佳状态。如果速度与档位不相适应，出现高速低档，低速高档等现象，不仅会增加油耗，而且会给发动机和变速器带来损坏，对平地机造成不可逆的损害，所以平地机在行驶过程中必须保持档位和速度相匹配。由此，可以通过平地机的行驶速度来确定平地机的当前行驶档位。或者，可以通过在平地机加装档位检测模块来直接检测平地机变速箱的当前行驶档位。步骤120：确定平地机的传动机构的当前转矩值与当前行驶档位对应的传动机构的最大转矩值的对比结果。具体地，平地机的每个档位对应不同的行驶速度，在低档位转矩较大但平地机的行驶速度较慢，在高档位转矩较小但平地机的行驶速度较快。每个档位都有每个档位能承受的转矩的极限，即最大转矩值。平地机在某一档位行驶时，转矩越大说明平地机受到的阻力越大，即需要更大的转矩才能拉动平地机的移动。通过检测平地机的传动结构上的实时转矩值，可以获得平地机的当前转矩值，并确定当前转矩值与当前行驶档位的最大转矩值的对比结果，对比结果能够表示平地机当前移动时收到的阻力，即障碍物是否阻碍了平地机的正常移动。步骤130：当对比结果满足预设控制条件时，提高平地机的铲刀的高度。具体地，当对比结果满足预设控制条件时，说明预设路线中出现了多余堆土，这些多余的堆土会导致平地机无法正常前进，导致原地打滑，造成对平地机的损耗。此时，自动将平地机的铲刀抬高至预设高度值，减小铲刀的平面与堆土的接触面积，减小多余堆土对平地机的移动造成的阻力，使得平地机能够继续正常按照预设线路进行平整作业。目前，平地机的平整作业时通过预先在工作区域内设置预设路线，使平地机根据预设路线自动在工作区域内完成平整工作。然而，若预设路线上出现了多余堆土，虽然平地机处于自动驾驶状态，但铲刀却无法预知到前方的堆土情况，只有当铲刀与堆土已经发生接触后，才能够感知到路面上有多余堆土，对铲刀的高度进行控制。或者，在平地机自动驾驶的过程中，操作人员仍然需要在驾驶室内观察路面的情况，并在发现前方路面有多余堆土时手动抬高铲刀的高度，这种方式非常依赖于操作人员的技术水平和经验，一旦出现分心或反应不及时等情况，也会出现多余堆土对平地机的正常工作产生影响的情况。在本发明实施例中，通过确定当前转矩值和最大转矩值的对比结果来预知预设路线中是否出现多余堆土，并提高铲刀的高度至预设高度值来减小多余堆土对平地机的阻力。如图2所示，在本发明一实施例中，在步骤130后，该方法还可以包括：步骤210：记录当前平地机所在的提高铲刀高度的位置。步骤220：根据预设的移出区域生成第一路线指引；根据第一路线指引，控制平地机移动并通过铲刀将多余堆土移至移出区域。具体地，若多余堆土还存在于预设路线上，仍然会对平整工作造成影响。因此，在工作区域之外预先设置堆积多余堆土的移出区域，当控制平地机的铲刀提高到预设高度值之后，控制平地机根据第一路线指引移动，带动提升高度后的铲刀将多余堆土推出工作区域直至预设的移出区域，不仅能够保证多余的土料被推出工作区域，不影响正常的平整作业，将多余的土料推到固定的区域也能够方便工作人员进行集中处理。如图3所示，在本发明一实施例中，在步骤130后之后，该方法还可以包括以下步骤：步骤310：当平地机移动并通过铲刀将多余堆土移至移出区域时，生成至平地机所在的提高铲刀高度的位置的第二路线指引。步骤320：根据第二路线指引控制平地机向平地机所在的提高铲刀高度的位置移动。步骤330：当平地机到达平地机所在的提高铲刀高度的位置时，下降铲刀的高度。具体地，当平地机移动至移出区域时，说明平地机将多余的土料推到了移出区域。之后，平地机需要再次回到工作区域继续完成之前的平整作业。因此，生成从移出区域回到之前中断平整作业的暂停作业位置的第二路线指引。控制平地机根据第二路线指引向暂停作业位置移动。当平地机回到暂停作业位置时，继续根据预设的路线自动移动，以从之前中断的位置继续完成平整作业。需要说明的是，上述实施例中的第一路线指引和第二路线指引可以通过定位模块来实现。暂停作业位置的记录也可以通过定位模块在虚拟地图上的标记来进行记录。在本发明一实施例中，如图4所示，平地机控制方法还可以包括以下步骤：步骤410：获取预设路线上平地机前方预设距离值内的堆土高度值。具体地，除了通过当前转矩值和最大转矩值的对比结果来间接确定预设路线前方一定范围内是否存在多余堆土外，还可以直接获取预设路线上一定范围内的堆土高度值，识别铲刀接触面前方的堆土高度，从而确定前方一定范围内的堆土是否会对平地机的运行造成影响。步骤420：当堆土高度值达到预设的第一临界值且小于第二临界值时，控制平地机暂停移动。步骤430：控制铲刀根据预设的角度值进行预设次数的摆动并在摆动后恢复原始位置，恢复平地机在预设路线上的移动。具体地，若检测到堆土高度值大于第一临界值且小于第二临界值时，说明前方有一定程度的堆土，但堆土量不是非常多，无需耗费时间将堆土推到移出区域。此时，首先暂停平地机的移动，并控制铲刀在原地根据预设的角度值进行预设次数的摆动，通过摆动将堆土从预设路线中移开。具体地，由于平地机只是在原地通过铲刀的摆动来移开预设路线上的堆土，并没有前往工作区域外的移出区域，因此平地机的自动平整作业仅是处于暂停状态，而非中断状态。此时，回复平地机在预设路线上的移动即可使平地机继续完成平整作业。在本发明一实施例中，该方法还可以包括：当堆土高度值达到预设的第二临界值时，提高铲刀的高度；其中，第二临界值大于第一临界值。具体地，当堆土高度值达到第二临界值时，由于第二临界值大于第一临界值，说明前方的堆土的量已经达到了会对平地机的移动造成影响的程度。这些多余的堆土会导致平地机无法正常前进，导致原地打滑，造成对平地机的损耗。此时，自动将平地机的铲刀抬高至预设高度值，减小铲刀的平面与堆土的接触面积，减小多余堆土对平地机的移动造成的阻力。从而使得平地机能够继续正常按照预设线路进行平整作业。需要说明的是，上述实施例中，预设路线上平地机前方预设距离值内的堆土高度值的获取和当前转矩值和和最大转矩值的对比结果的确定是同时进行的。当对比结果满足预设控制条件时或者堆土高度值达到第二临界值时，都会触发控制铲刀的高度至预设高度值的操作，即，只要满足上述二者中的任意情况，都会执行提升铲刀高度的操作。图5提供了一种堆土清理方法的流程图，在本发明一实施例中，步骤220可以包括以下步骤：步骤221：解除平地机的自动移动并改为手动控制模式。步骤222：在平地机上显示第一路线指引，以使操作人员根据第一路线指引手动控制平地机移动并通过铲刀将多余堆土移至移出区域。具体地，当需要将多余堆土推至移出区域时，解除平地机的自动移动，改为由操作人员进行手动操作。可以通过在平地机的内置的显示屏上显示第一路线指引，来引导操作人员根据第一路线指引操作平地机移动至移出区域。此外，在将多余堆土推到移出区域之后，还可以在显示屏上显示第二路线指引，引导操作人员根据第二路线指引操作平地机回到暂停作业位置。当检测到平地机在暂停作业位置附近时，将平地机的手动控制模式切换回自动移动，重新恢复按照预设路线的平整作业。在本发明一实施例中，步骤120可以包括：确定当前转矩值与最大转矩值的差值。对比结果满足预设控制条件包括：最大转矩值与当前转矩值差值小于等于预设的转矩差值。具体地，如果当前转矩值已经达到的最大转矩值，那么说明铲刀已经由于解除了多余的堆土而导致平地机的前行阻力过大，使得扭矩升高。因此，为了在铲刀接触最大转矩值前提前抬高铲刀，需要设置一个转矩差值，当当前转矩值和最大转矩值的差值小于转矩差值时，说明铲刀即将与多余堆土发生接触，提前抬高铲刀的高度来减小多余的堆土对铲刀造成的阻力。图6提供了一种堆土高度值确定方法，在本发明一实施例中，步骤410可以包括以下步骤：步骤411：通过至少两个摄像装置拍摄平地机前方预设距离值内的路况图像；至少两个摄像装置安装在平地机前端的不同位置。具体地，对铲刀前方的障碍物高度的判断可以采用图像识别的方式，在平地机驾驶室前方的不同位置吊装多个摄像装置，搭建铲刀堆土高度的图像识别系统。步骤412：将至少两个摄像装置拍摄的路况图像进行处理，得到立体路况图像。步骤413：根据立体图像确定堆土高度值。具体地，由于每个摄像装置的位置都不同，拍摄角度也不同，因此，通过不同的摄像装置获取的路况图像进行处理，能够获得立体路况图像。每一个摄像装置负责一个角度的图像采集，将多个摄像装置采集到的图像通过算法进行拼接融合，结合立体图像的比例，即可确定立体图像中某些位置的高度值。通常来说，堆土的颜色会明显比环境颜色要深，因此，可以通过颜色来判断立体图像中的哪些部分属于堆土障碍物，并确定堆土障碍物的高度。综上，本发明各实施例提供的方案能够提供两种平地机控制方案，方案一为仅检测转矩值，并根据转矩值控制铲刀动作。方案一包括以下步骤：第1步：获取平地机当前行驶档位；第2步：获取当前行驶档位对应的传动结构极限转矩值Ti；第3步：获取转矩差值；第4步：获取传动结构的实时转矩Tn，和在目标地图上的实时位置信息，当实时转矩达到极限转矩减去转矩差值时，输出铲刀提升信号。第5步：在地图上标记第一次输出铲刀提升信号的位置定位X。第6步：铲刀提升油缸接收到铲刀提升信号，中止根据预设路线自动控制铲刀的姿态和升降，控制铲刀进行提升一个固定高度并保持3-5S，再落下；平地机继续往前行驶将多余堆土推至移出区域；若后续继续出现实时转矩达到极限转矩减去转矩差值的情况，在重复此步骤，直至多余土料被推到不影响施工的范围外。第7步：多余土料清理后，根据地图导航返回X点附近，若检测到平地机到第一次输出铲刀提升信号位置附近，则重新恢复按照目标地图进行铲刀自动控制。通过检测传动结构转矩值和障碍物高度这两个判定条件来控制铲刀动作，本发明提到的铲刀前方障碍物高度的判断，可采用图像识别的方式，识别铲刀接触面前方的堆土高度，当堆土高度达到预设高度时，控制铲刀摆动推开堆土。方案二包括以下步骤：第1步：通过在平地机驾驶室前方吊装摄像头的方式，搭建铲刀堆土高度的图像识别系统；第2步：获取当前行驶档位对应设置铲刀动作的堆土高度的第一临界值Hi1、第二临界值Hi2、传动结构极限转矩值Ti；第3步：获取铲刀堆土高度实际值Hn，获取传动结构的实时转矩Tn，和在目标地图上的实时位置信息；第4步：若图像识别系统检测到铲刀堆土高度实际值Hn大于铲刀动作的堆土高度的临界值第一临界值Hi1，则输出铲刀摆动信号来推开周围的多余堆土。控制铲刀原地摆动一定角度一定次数后，恢复中位，并继续根据预设路线进行平整作业；第5步：当实时转矩大于极限转矩减去转矩差值或者图像识别系统检测到铲刀堆土高度实际值Hn大于铲刀动作的堆土高度的第二临界值Hi2时，控制器输出铲刀提升信号，并中止根据目标地图自动控制铲刀的姿态和升降；第6步：标记第一次输出铲刀提升信号的位置定位X。第7步：铲刀提升油缸接收到铲刀提升信号，中止根据目标地图自动控制铲刀的姿态和升降，控制铲刀进行提升一个固定高度并保持3-5S，再落下；平地机继续往前行驶；若后续继续出现实时转矩达到极限转矩减去转矩固定值的情况，在重复此步骤，直至多余土料被推到不影响施工的范围外。第8步：多余土料清理后，返回X点附近，若检测到平地机到第一次输出铲刀提升信号位置附近，则重新恢复按照预设路线的平整作业。如图7所示，本发明一实施例提供了一种平地机控制装置，平地机控制装置安装在平地机上，包括：档位确定模块710，用于确定平地机的当前行驶档位。对比模块720，用于确定所述平地机的传动机构的当前转矩值与所述当前行驶档位对应的传动机构的最大转矩值的对比结果。控制模块730，用于当对比结果满足预设控制条件时，提高铲刀的高度。在本发明一实施例中，如图7所示，控制模块730在执行提高铲刀的高度至预设高度值之后，还用于执行：根据预设的移出区域生成第一路线指引；根据第一路线指引，控制平地机移动并通过铲刀将多余堆土移至移出区域；其中，移出区域在工作区域外。在本发明一实施例中，如图7所示，控制模块730，用于在提高铲刀的高度至预设高度值之后，记录当前平地机所在的暂停作业位置。控制模块730还用于执行：平地机移动至移出区域时，生成移出区域至暂停作业位置的第二路线指引；根据第二路线指引控制平地机向暂停作业位置移动；当平地机到达暂停作业位置时，恢复平地机根据预设路线的自动移动。在本发明一实施例中，如图7所示，控制模块730包括：获取单元731，用于获取预设路线上平地机前方预设距离值内的堆土高度值。停车单元732，用于当堆土高度值达到预设的第一临界值且小于第二临界值时，控制平地机暂停移动。摆动控制单元733，用于控制铲刀根据预设的角度值进行预设次数的摆动并在摆动后恢复原始位置。恢复单元734，用于恢复平地机在预设路线上的移动。在本发明一实施例中，如图7所示，控制模块730还用于执行：当堆土高度值达到预设的第二临界值时，提高铲刀的高度至预设高度值；其中，第二临界值大于第一临界值。在本发明一实施例中，如图7所示，控制模块730在执行根据第一路线指引，控制平地机移动并通过铲刀将多余堆土移至移出区域时，执行：解除平地机的自动移动并改为手动控制模式；以及在平地机上显示第一路线指引，以使操作人员根据第一路线指引手动控制平地机移动并通过铲刀将多余堆土移至移出区域。在本发明一实施例中，如图7所示，对比模块720用于执行：确定当前转矩值与最大转矩值的差值。对比结果满足预设控制条件包括：当前转矩值与最大转矩值的差值小于预设的转矩差值。在本发明一实施例中，如图7所示，获取单元731用于执行：通过至少两个摄像装置拍摄平地机前方预设距离值内的路况图像；至少两个摄像装置安装在平地机前端的不同位置；将两个摄像装置拍摄的路况图像进行处理，得到立体路况图像；根据立体图像确定堆土高度值。在本发明一实施例中，控制模块730用于执行：当所述堆土高度值达到预设的第二临界值时，提高所述铲刀的高度；其中，所述第二临界值大于所述第一临界值。如图8所示的一种平地机控制系统，在本发明一实施例中，平地机控制装置可以为平地机上的控制模块810，通过档位检测模块820、极限转矩选择模块830、传动结构转矩检测模块840和平地机位置检测模块850来完成控制逻辑的处理。通过智能找平模块860来实现自动平整作业。通过铲刀控制模块870来进行铲刀高度值的控制，通过位置标记模块880来进行平整作业中断位置的标记。结合上述实施例，在本发明一实施例中，如图9所示，提供了一种平地机控制方法，该方法包括以下步骤：步骤910：在平地机根据预设路线进行自动平整作业期间检测传动结构实时转矩。步骤920：获取当前档位对应的传动结构极限转矩。步骤930：当实时转矩达到极限转矩减去转矩固定值时，输出铲刀提升信号。此外，若实时转矩未达到极限转矩减去转矩固定值，则继续进行自动平整作业。步骤940：标记当前位置并使铲刀保持提升高度固定时间。步骤950：回到标记位置继续进行自动平整作业。结合上述实施例，在本发明一实施例中，如图10所示，提供了另一种平地机控制方法，该方法包括以下步骤：步骤1010：在平地机根据预设路线进行自动平整作业期间检测传动结构实时转矩，并同时检测平地机前方预设范围内的障碍物高度值。步骤1020：当障碍物高度值大于第一临界值时，控制铲刀摆动，摆动结束后继续进行自动平整作业。步骤1030：当实时转矩达到极限转矩减去转矩固定值或障碍物高度值大于第二临界值时，标记当前地点，提升铲刀并保持预设时间值后回落，将多余堆土推至工作区域外。步骤1040：当平地机回到标记地点时，继续进行自动平整作业。如图11所示，本发明一实施例提供了一种平地机，包括平地机本体1110和平地机控制装置1120，平地机控制装置1120安装在平地机本体1110上，用于上述实施例中任一所述的平地机控制方法。本发明各个实施例至少具有以下优点和进步：1、检测平地机在各档位，达到极限载荷是传动结构上的极限转矩值，作为控制器的输入，作为设备参数设置好，方便进行后续的计算。2、平地机智能找平施工过程中，系统检测到传动结构上的实时转矩值接近该档位对应的极限转矩值时，判定堆土过高，控制铲刀自动提升一定高度。3、自动记录铲刀第一次堆土过高导致铲刀自动提升的定位，并且在操作手将平地机开到定位点附近时自动恢复按照目标地图进行智能找平。以上结合具体实施例描述了本申请的基本原理，但是，需要指出的是，在本申请中提及的优点、优势、效果等仅是示例而非限制，不能认为这些优点、优势、效果等是本申请的各个实施例必须具备的。另外，上述公开的具体细节仅是为了示例的作用和便于理解的作用，而非限制，上述细节并不限制本申请为必须采用上述具体的细节来实现。本申请中涉及的器件、装置、设备、系统的方框图仅作为例示性的例子并且不意图要求或暗示必须按照方框图示出的方式进行连接、布置、配置。如本领域技术人员将认识到的，可以按任意方式连接、布置、配置这些器件、装置、设备、系统。诸如“包括”、“包含”、“具有”等等的词语是开放性词汇，指“包括但不限于”，且可与其互换使用。这里所使用的词汇“或”和“和”指词汇“和/或”，且可与其互换使用，除非上下文明确指示不是如此。这里所使用的词汇“诸如”指词组“诸如但不限于”，且可与其互换使用。还需要指出的是，在本申请的装置、设备和方法中，各部件或各步骤是可以分解和/或重新组合的。这些分解和/或重新组合应视为本申请的等效方案。提供所公开的方面的以上描述以使本领域的任何技术人员能够做出或者使用本申请。对这些方面的各种修改对于本领域技术人员而言是非常显而易见的，并且在此定义的一般原理可以应用于其他方面而不脱离本申请的范围。因此，本申请不意图被限制到在此示出的方面，而是按照与在此公开的原理和新颖的特征一致的最宽范围。为了例示和描述的目的已经给出了以上描述。此外，此描述不意图将本申请的实施例限制到在此公开的形式。尽管以上已经讨论了多个示例方面和实施例，但是本领域技术人员将认识到其某些变型、修改、改变、添加和子组合。
