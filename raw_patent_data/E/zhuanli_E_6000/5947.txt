标题title
一种基于机器学习的盾构掘进机姿态分项预测方法
摘要abst
本发明公开了一种基于机器学习的盾构掘进机姿态分项预测方法，涉及盾构掘进机姿态预测领域。该方法包括：获取姿态参数数据的趋势项和波动项与施工参数数据的趋势项和波动项；确定强相关参数，并确定强相关参数数据的趋势项和波动项；构建并训练第一长短时记忆网络模型和第二长短时记忆网络模型；对训练后的第一长短时记忆网络模型和第二长短时记忆网络模型进行超参数优化和第二轮训练，以获取盾构掘进机姿态分项预测结果。本发明考虑了盾构掘进机施工参数对盾构掘进机姿态的影响，并克服了盾构掘进机时序参数关联因素复杂的问题，进而能实现盾构掘进机姿态的准确预测。
权利要求书clms
1.一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于，包括以下步骤：S1、获取盾构掘进机的姿态参数数据和施工参数数据，并采用变分模态分解方法获取姿态参数数据的趋势项和波动项与施工参数数据的趋势项和波动项；S2、计算姿态参数数据的趋势项与施工参数数据的趋势项的去趋势相关性指数以确定强相关参数，并确定强相关参数数据的趋势项和波动项；S3、构建第一长短时记忆网络模型和第二长短时记忆网络模型，利用姿态参数数据的趋势项和强相关参数数据的趋势项训练第一长短时记忆网络模型，利用姿态参数数据的波动项和强相关参数数据的波动项训练第二长短时记忆网络模型；S4、对训练后的第一长短时记忆网络模型和第二长短时记忆网络模型进行超参数优化和第二轮训练，以获取最终的第一长短时记忆网络模型和第二长短时记忆网络模型，并利用最终的第一长短时记忆网络模型和第二长短时记忆网络模型获取盾构掘进机姿态分项预测结果。2.根据权利要求1所述的一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于，步骤S2包括以下分步骤：S21、分别计算姿态参数数据的趋势项和施工参数数据的趋势项的中心化累计信号；S22、采用最小二乘法分别确定姿态参数数据的趋势项和施工参数数据的趋势项的最小二乘直线拟合信号；S23、根据姿态参数数据的趋势项的中心化累计信号和最小二乘直线拟合信号确定姿态参数数据的趋势项的波动指数，并根据施工参数数据的趋势项的中心化累计信号和最小二乘直线拟合信号确定施工参数数据的趋势项的波动指数；S24、根据姿态参数数据的趋势项的中心化累计信号、最小二乘直线拟合信号、施工参数数据的趋势项的中心化累计信号和最小二乘直线拟合信号，计算交叉波动指数；S25、根据姿态参数数据的趋势项的波动指数、施工参数数据的趋势项的波动指数和交叉波动指数，计算姿态参数数据和施工参数数据的去趋势相关性指数；S26、根据姿态参数数据和施工参数数据的去趋势相关性指数，确定强相关参数，并确定强相关参数数据的趋势项和波动项。3.根据权利要求2所述的一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于，在分步骤S25中，计算姿态参数数据和施工参数数据的去趋势相关性指数，表示为：其中：为计算姿态参数数据和施工参数数据的去趋势相关性指数，/＞为姿态参数数据的趋势项的序号，/＞为施工参数数据的趋势项的序号，/＞为姿态参数数据的趋势项和施工参数数据的趋势项的交叉波动指数，/＞为姿态参数数据的趋势项的波动指数，/＞为施工参数数据的趋势项的波动指数。4.根据权利要求1所述的一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于，在步骤S3中，构建的第一长短时记忆网络模型和第二长短时记忆网络模型均包括输入层、长短时记忆网络块和输出层；输入层用于输入设定时间范围内姿态参数和强相关参数的归一化向量，并将设定时间范围内姿态参数和强相关参数的归一化向量传输至长短时记忆网络块；长短时记忆网络块用于接收设定时间范围内姿态参数和强相关参数的归一化向量，并根据设定时间范围内姿态参数和强相关参数的归一化向量计算下一时间范围内盾构掘进机姿态的一维特征向量，并将下一时间范围内盾构掘进机姿态的一维特征向量传输至输出层；输出层用于接收下一时间范围内盾构掘进机姿态的一维特征向量，计算下一时间范围内盾构掘进机姿态的一维特征向量内各个元素对盾构掘进机姿态分项预测结果的权重，并计算各个元素的加权和，将各个元素的加权和结果作为输出以获取盾构掘进机姿态分项预测结果。5.根据权利要求4所述的一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于， 长短时记忆网络块包括依次连接的长短时记忆网络层、正则化层和选择性抑制层；长短时记忆网络层包括多个长短时记忆网络单元。6.根据权利要求5所述的一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于，长短时记忆网络单元包括遗忘门子结构、输入门子结构和输出门子结构。7.根据权利要求6所述的一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于，遗忘门子结构的计算式表示为：其中：为第/＞个单元的遗忘门子结构的输出，/＞为激活函数，/＞为遗忘门子结构的可训练权重，/＞为两向量的拼接符号，/＞为第/＞个单元输出的历史参数，/＞为第/＞个单元的姿态参数和强相关参数的归一化向量，/＞为遗忘门子结构的可训练偏差。8.根据权利要求6所述的一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于，输入门子结构的计算式表示为：，其中：为第/＞个单元的输入门子结构的选择记忆参数，/＞为激活函数，/＞为选择记忆参数的可训练权重，/＞为两向量的拼接符号，/＞为第/＞个单元输出的历史参数，/＞为第/＞个单元的姿态参数和强相关参数的归一化向量，/＞为选择记忆参数的可训练偏差，/＞为第/＞个单元的输入门子结构的候选记忆参数，/＞为反正切函数，/＞为候选记忆参数的可训练权重，/＞为候选记忆参数的可训练偏差。9.根据权利要求6所述的一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于，输出门子机构的计算式表示为：其中：为第/＞个单元的输出门子机构的输出，/＞为激活函数，/＞为输出门子机构的可训练权重，/＞为两向量的拼接符号，/＞为第/＞个单元输出的历史参数，/＞为第/＞个单元的姿态参数和强相关参数的归一化向量，/＞为输出门子机构的可训练偏差。10.根据权利要求1所述的一种基于机器学习的盾构掘进机姿态分项预测方法，其特征在于，在步骤S4中，对训练后的第一长短时记忆网络模型和第二长短时记忆网络模型进行超参数优化包括以下步骤：A1、对训练后的模型的长短时记忆网络块数和长短时记忆网络单元数进行初始化；A2、利用设定时间范围内姿态参数和强相关参数的归一化向量，对初始化长短时记忆网络块数和长短时记忆网络单元数后的模型进行训练，并确定参数初始化后损失最小的模型；A3、对参数初始化后损失最小的模型进行参数变异，获取不同参数的模型，利用设定时间范围内姿态参数和强相关参数的归一化向量，对不同参数的模型进行训练，并确定参数变异后损失最小的模型。
说明书desc
技术领域本发明涉及盾构掘进机姿态预测领域，具体涉及一种基于机器学习的盾构掘进机姿态分项预测方法。背景技术盾构掘进机姿态是判断盾构掘进机施工安全的重要判断指标，盾构掘进机姿态包括盾头水平偏差、盾头垂直偏差、盾尾水平偏差、盾尾垂直偏差、俯仰角和滚动角。因此，盾构掘进机姿态预测具有重要的工程意义，可以提前预判盾构掘进机施工风险，为盾构姿态调整提供有价值的参考信息。尤其在上软下硬等地质条件复杂的盾构区间，盾构掘进机姿态预测对保证工程安全稳定具有重要作用。目前，现有盾构掘进机姿态预测方法多数是基于盾构掘进机姿态的长程自相关性，对盾构掘进机姿态进行预测，忽略了盾构掘进机施工参数对盾构掘进机姿态的影响，而盾构掘进机姿态与盾构掘进机施工参数密切相关，因此现有盾构掘进机姿态预测方法的精度和可解释性较低。而现有的基于机器学习的盾构掘进机预测方法，将复杂的盾构掘进机姿态变化过程不加任何预处理即进行预测，并且由于盾构掘进机时序参数一般为带噪声的非平稳序列，关联因素复杂，导致现有方法难以进行准确预测。发明内容针对现有技术中的上述不足，本发明提供了一种基于机器学习的盾构掘进机姿态分项预测方法，考虑了盾构掘进机施工参数对盾构掘进机姿态的影响，并克服了盾构掘进机时序参数关联因素复杂的问题，进而能实现盾构掘进机姿态的准确预测。为了达到上述发明目的，本发明采用的技术方案为：一种基于机器学习的盾构掘进机姿态分项预测方法，包括以下步骤：S1、获取盾构掘进机的姿态参数数据和施工参数数据，并采用变分模态分解方法获取姿态参数数据的趋势项和波动项与施工参数数据的趋势项和波动项；S2、计算姿态参数数据的趋势项与施工参数数据的趋势项的去趋势相关性指数以确定强相关参数，并确定强相关参数数据的趋势项和波动项；S3、构建第一长短时记忆网络模型和第二长短时记忆网络模型，利用姿态参数数据的趋势项和强相关参数数据的趋势项训练第一长短时记忆网络模型，利用姿态参数数据的波动项和强相关参数数据的波动项训练第二长短时记忆网络模型；S4、对训练后的第一长短时记忆网络模型和第二长短时记忆网络模型进行超参数优化和第二轮训练，以获取最终的第一长短时记忆网络模型和第二长短时记忆网络模型，并利用最终的第一长短时记忆网络模型和第二长短时记忆网络模型获取盾构掘进机姿态分项预测结果。进一步地，步骤S2包括以下分步骤：S21、分别计算姿态参数数据的趋势项和施工参数数据的趋势项的中心化累计信号；S22、采用最小二乘法分别确定姿态参数数据的趋势项和施工参数数据的趋势项的最小二乘直线拟合信号；S23、根据姿态参数数据的趋势项的中心化累计信号和最小二乘直线拟合信号确定姿态参数数据的趋势项的波动指数，并根据施工参数数据的趋势项的中心化累计信号和最小二乘直线拟合信号确定施工参数数据的趋势项的波动指数；S24、根据姿态参数数据的趋势项的中心化累计信号、最小二乘直线拟合信号、施工参数数据的趋势项的中心化累计信号和最小二乘直线拟合信号，计算交叉波动指数；S25、根据姿态参数数据的趋势项的波动指数、施工参数数据的趋势项的波动指数和交叉波动指数，计算姿态参数数据和施工参数数据的去趋势相关性指数；S26、根据姿态参数数据和施工参数数据的去趋势相关性指数，确定强相关参数，并确定强相关参数数据的趋势项和波动项。进一步地，在分步骤S25中，计算姿态参数数据和施工参数数据的去趋势相关性指数，表示为：其中：为计算姿态参数数据和施工参数数据的去趋势相关性指数，/＞为姿态参数数据的趋势项的序号，/＞为施工参数数据的趋势项的序号，/＞为姿态参数数据的趋势项和施工参数数据的趋势项的交叉波动指数，/＞为姿态参数数据的趋势项的波动指数，/＞为施工参数数据的趋势项的波动指数。进一步地，在步骤S3中，构建的第一长短时记忆网络模型和第二长短时记忆网络模型均包括输入层、长短时记忆网络块和输出层；输入层用于输入设定时间范围内姿态参数和强相关参数的归一化向量，并将设定时间范围内姿态参数和强相关参数的归一化向量传输至长短时记忆网络块；长短时记忆网络块用于接收设定时间范围内姿态参数和强相关参数的归一化向量，并根据设定时间范围内姿态参数和强相关参数的归一化向量计算下一时间范围内盾构掘进机姿态的一维特征向量，并将下一时间范围内盾构掘进机姿态的一维特征向量传输至输出层；输出层用于接收下一时间范围内盾构掘进机姿态的一维特征向量，计算下一时间范围内盾构掘进机姿态的一维特征向量内各个元素对盾构掘进机姿态分项预测结果的权重，并计算各个元素的加权和，将各个元素的加权和结果作为输出以获取盾构掘进机姿态分项预测结果。进一步地， 长短时记忆网络块包括依次连接的长短时记忆网络层、正则化层和选择性抑制层；长短时记忆网络层包括多个长短时记忆网络单元。进一步地，长短时记忆网络单元包括遗忘门子结构、输入门子结构和输出门子结构。进一步地，遗忘门子结构的计算式表示为：其中：为第/＞个单元的遗忘门子结构的输出，/＞为激活函数，/＞为遗忘门子结构的可训练权重，/＞为两向量的拼接符号，/＞为第/＞个单元输出的历史参数，/＞为第个单元的姿态参数和强相关参数的归一化向量，/＞为遗忘门子结构的可训练偏差。进一步地，输入门子结构的计算式表示为：，其中：为第/＞个单元的输入门子结构的选择记忆参数，/＞为激活函数，/＞为选择记忆参数的可训练权重，/＞为两向量的拼接符号，/＞为第/＞个单元输出的历史参数，为第/＞个单元的姿态参数和强相关参数的归一化向量，/＞为选择记忆参数的可训练偏差，/＞为第/＞个单元的输入门子结构的候选记忆参数，/＞为反正切函数，/＞为候选记忆参数的可训练权重，/＞为候选记忆参数的可训练偏差。进一步地，输出门子机构的计算式表示为：其中：为第/＞个单元的输出门子机构的输出，/＞为激活函数，/＞为输出门子机构的可训练权重，/＞为两向量的拼接符号，/＞为第/＞个单元输出的历史参数，/＞为第个单元的姿态参数和强相关参数的归一化向量，/＞为输出门子机构的可训练偏差。进一步地，在步骤S4中，对训练后的第一长短时记忆网络模型和第二长短时记忆网络模型进行超参数优化包括以下步骤：A1、对训练后的模型的长短时记忆网络块数和长短时记忆网络单元数进行初始化；A2、利用设定时间范围内姿态参数和强相关参数的归一化向量，对初始化长短时记忆网络块数和长短时记忆网络单元数后的模型进行训练，并确定参数初始化后损失最小的模型；A3、对参数初始化后损失最小的模型进行参数变异，获取不同参数的模型，利用设定时间范围内姿态参数和强相关参数的归一化向量，对不同参数的模型进行训练，并确定参数变异后损失最小的模型。本发明具有以下有益效果：本发明通过计算姿态参数数据的趋势项与施工参数数据的趋势项的去趋势相关性指数，筛选了强相关参数，缩小了机器学习数据的参数范围，有利于网络模型拟合的收敛，节约计算资源，提高预测精度；本发明通过变分模态分解方法对盾构时序参数降噪的同时，将盾构时序参数分解为趋势项和波动项，其中趋势项描述了参数变化趋势，波动项则对应参数的波动变化，将二者分项预测，有利于提高模型结果的可靠性和精度，并加速模型收敛，同时，趋势项和波动项的工程意义明确，具有较高的工程实际应用价值；本发明通过对长短时记忆网络模型超参数进行优化，使得长短时记忆网络模型可训练参数的规模与数据集规模、预测复杂程度相匹配，不仅提高了长短时记忆网络模型的预测精度，还节约了计算资源，缩减了长短时记忆网络模型的规模，有利于长短时记忆网络模型的应用和部署。附图说明图1为一种基于机器学习的盾构掘进机姿态分项预测方法流程示意图；图2为盾构掘进机姿态分项预测的初始化长短时记忆网络模型结构示意图。具体实施方式下面对本发明的具体实施方式进行描述，以便于本技术领域的技术人员理解本发明，但应该清楚，本发明不限于具体实施方式的范围，对本技术领域的普通技术人员来讲，只要各种变化在所附的权利要求限定和确定的本发明的精神和范围内，这些变化是显而易见的，一切利用本发明构思的发明创造均在保护之列。如图1所示，一种基于机器学习的盾构掘进机姿态分项预测方法，包括步骤S1-S4，具体如下：S1、获取盾构掘进机的姿态参数数据和施工参数数据，并采用变分模态分解方法获取姿态参数数据的趋势项和波动项与施工参数数据的趋势项和波动项。在本发明的一个可选实施例中，本发明获取盾构掘进机的姿态参数数据和施工参数数据，并采用变分模态分解方法获取姿态参数数据的趋势项和波动项与施工参数数据的趋势项和波动项。盾构掘进机的姿态参数数据包括俯仰角、滚动角、前向水平偏差、前向垂直偏差、后向水平偏差、前向垂直偏差。盾构掘进机的施工参数数据包括刀盘转速、推进压力、掘进速度、刀盘扭矩、环数、千斤顶推进压力、土仓压力、注浆压力、千斤顶推进位移和总推进力。具体地，本发明从盾构掘进机的工控机内采集盾构掘进机时序参数数据，以获取盾构掘进机的姿态参数数据和施工参数数据。本发明获取的盾构掘进机的姿态参数数据和施工参数数据为盾构掘进机的时序参数数据。盾构掘进机的时序参数数据是按时间顺序排列且以固定频率不间断采集并存储的盾构掘进机参数。具体地，本发明在一个连续掘进区间内，采用变分模态分解方法获取姿态参数数据的趋势项和波动项与施工参数数据的趋势项和波动项。连续掘进区间为某一时间范围内的盾构掘进机时序参数数据，且在该时间范围内，刀盘转速、推进压力、掘进速度和刀盘扭矩均不为0。本发明采用变分模态分解方法获取姿态参数数据的趋势项和波动项与施工参数数据的趋势项和波动项，包括步骤B1-B3，如下：B1、构建姿态参数数据和施工参数数据的约束变分模型，表示为：其中：为取以/＞和/＞为变量的最小值，/＞为姿态参数数据和施工参数数据的第/＞个分解模态函数，/＞也记为/＞，/＞为第/＞个分解模态函数/＞的中心频率，/＞为分解模态的序号，/＞为对时刻/＞求偏导，/＞为姿态参数数据和施工参数数据对应的时序数据的时刻，/＞为关于时刻/＞的克罗内克函数，/＞为圆周率，/＞为虚数单位，/＞为自然常数，/＞为谱范数的平方，/＞为姿态参数数据和施工参数数据。姿态参数数据和施工参数数据的分解模态函数，表示为：其中：为第/＞个分解模态的包络幅值，且/＞，/＞为第/＞个分解模态的瞬时相位，且/＞，/＞为/＞对/＞求导的结果。B2、根据盾姿态参数数据和施工参数数据的约束变分模型，利用二次惩罚项和拉格朗日乘子法，获取盾构掘进机时序参数数据的增广拉格朗日函数，表示为：其中：为以/＞、/＞和/＞为参数的增广拉格朗日函数，/＞为拉格朗日乘子，/＞也记为/＞，/＞为定义为符号，/＞为惩罚参数，/＞为求矩阵内积。B3、根据姿态参数数据和施工参数数据的增广拉格朗日函数，利用交替方向乘子法，获取姿态参数数据和施工参数数据的分解模态数据。本发明利用交替方向乘子法获取盾构掘进机时序参数数据的分解模态数据，即首先固定和/＞两个变量，仅更新/＞，求解表达式为：其中：为第/＞次迭代后的/＞，/＞为第/＞次迭代后的/＞，/＞为第/＞次迭代后的/＞。本发明利用帕塞瓦尔定理在频域内求解上述的求解表达式，可得：，其中：为/＞的傅里叶变换结果，/＞为求傅里叶变换，/＞为中心频率，此处为变量，/＞为/＞的傅里叶变换结果，/＞为/＞的傅里叶变换结果，/＞为累加求和时的分解模态函数序号，/＞为/＞的傅里叶变换结果，/＞为虚数单位，/＞即为/＞。然后更新，求解表达式为：其中：为第/＞次迭代后的/＞。最后更新，求解表达式为：其中：为第/＞次迭代后的/＞，/＞为噪声系数。更新终止条件为：满足精度要求，或达到最大更新次数，终止条件表达式为：或/＞其中：为精度条件值，/＞为最大更新次数。本发明利用上述过程对姿态参数数据和施工参数数据进行变分模态分解时，首先取，初始化/＞；然后不断地取/＞，以不断迭代更新/＞，达到更新终止条件后输出/＞。输出后，不断地取/＞，按上述过程迭代计算输出/＞，最终得到，即姿态参数数据和施工参数数据的分解模态集合，本发明将姿态参数数据和施工参数数据的分解模态集合中的第一项确定为姿态参数数据和施工参数数据的趋势项，其余项确定为姿态参数数据和施工参数数据的波动项。S2、计算姿态参数数据的趋势项与施工参数数据的趋势项的去趋势相关性指数以确定强相关参数，并确定强相关参数数据的趋势项和波动项。在本发明的一个可选实施例中，本发明计算姿态参数数据的趋势项与施工参数数据的趋势项的去趋势相关性指数以确定强相关参数，并确定强相关参数数据的趋势项和波动项。步骤S2包括以下分步骤：S21、分别计算姿态参数数据的趋势项和施工参数数据的趋势项的中心化累计信号。本发明计算数据的中心化累计信号，表示为：其中：为数据的中心化累计信号，/＞为时刻，/＞为姿态参数数据和施工参数数据对应的时序数据的时刻，/＞为第/＞时刻姿态参数数据的值，/＞为姿态参数数据的均值。S22、采用最小二乘法分别确定姿态参数数据的趋势项和施工参数数据的趋势项的最小二乘直线拟合信号。具体地，本发明设置信号窗口，并在信号窗口内对姿态参数数据的趋势项和施工参数数据的趋势项的中心化累计信号采用最小二乘法进行直线拟合，获取姿态参数数据的趋势项和施工参数数据的趋势项的最小二乘直线拟合信号。本发明设置信号窗口具体为：至少设置5个信号窗口长度形成等比数列的信号窗口。本发明设置不同窗口长度的信号窗口，并在不同窗口长度的信号窗口内对姿态参数数据的趋势项和施工参数数据的趋势项的中心化累计信号采用最小二乘法进行直线拟合，获取不同窗口长度的姿态参数数据的趋势项和施工参数数据的趋势项的最小二乘直线拟合信号。S23、根据姿态参数数据的趋势项的中心化累计信号和最小二乘直线拟合信号确定姿态参数数据的趋势项的波动指数，并根据施工参数数据的趋势项的中心化累计信号和最小二乘直线拟合信号确定施工参数数据的趋势项的波动指数。具体地，本发明根据两种数据的中心化累计信号和最小二乘直线拟合信号分别确定两种数据对应的均方根误差，表示为：其中：为第/＞个信号窗口内的数据的均方根误差，/＞为姿态参数数据和施工参数数据对应的时序数据的时刻，/＞为信号窗口长度为/＞的窗口序号，/＞为信号窗口长度，为数据的中心化累计信号，/＞为数据在第/＞个信号窗口内的最小二乘直线拟合信号。本发明根据数据的均方根误差，计算数据的波动函数，表示为：其中：为信号窗口长度为/＞的数据的波动函数，/＞为信号窗口长度为/＞的信号窗口总数。本发明改变窗口大小n，至少取5个形成等比数列的n，记为，/＞，用最小二乘法直线拟合/＞之间的关系，得到姿态参数数据的趋势项的波动指数/＞和施工参数数据的趋势项的波动指数/＞。S24、根据姿态参数数据的趋势项的中心化累计信号、最小二乘直线拟合信号、施工参数数据的趋势项的中心化累计信号和最小二乘直线拟合信号，计算交叉波动指数。具体地，本发明根据姿态参数数据的趋势项的累计信号和最小二乘直线拟合信号/＞，以及施工参数数据的趋势项累计信号/＞和最小二乘直线拟合信号/＞，计算姿态参数数据的趋势项和施工参数数据的趋势项的均方根误差，根据姿态参数数据的趋势项和施工参数数据的趋势项的均方根误差计算交叉波动函数。本发明计算姿态参数数据的趋势项和施工参数数据的趋势项的的均方根误差，表示为：其中：为第/＞个信号窗口内的姿态参数数据的趋势项和施工参数数据的趋势项的均方根误差，/＞为姿态参数数据的趋势项的序号，/＞为施工参数数据的趋势项的序号，/＞为姿态参数数据和施工参数数据对应的时序数据的时刻，/＞为信号窗口长度，/＞为第/＞个姿态参数数据趋势项的中心化累计信号，/＞为第/＞个姿态参数数据趋势项在第/＞个信号窗口内的最小二乘直线拟合信号，/＞为第/＞个施工参数数据趋势项的中心化累计信号，/＞为第/＞个施工参数数据趋势项在第/＞个信号窗口内的最小二乘直线拟合信号。本发明根据姿态参数数据的趋势项和施工参数数据的趋势项的均方根误差计算交叉波动函数，表示为：其中：为信号窗口长度为/＞的姿态参数数据的趋势项和施工参数数据的趋势项的交叉波动函数，/＞为姿态参数数据的趋势项的序号，/＞为施工参数数据的趋势项的序号，/＞为信号窗口长度，/＞为信号窗口长度为/＞的信号窗口总数，/＞为信号窗口长度为/＞的窗口序号。本发明改变窗口大小n，至少取5个形成等比数列的n，记为，/＞，用最小二乘法直线拟合/＞之间的关系，计算得到的交叉波动指数/＞。S25、根据姿态参数数据的趋势项的波动指数、施工参数数据的趋势项的波动指数和交叉波动指数，计算姿态参数数据和施工参数数据的去趋势相关性指数。本发明计算姿态参数数据和施工参数数据的去趋势相关性指数，表示为：其中：为计算姿态参数数据和施工参数数据的去趋势相关性指数，/＞为姿态参数数据的趋势项的序号，/＞为施工参数数据的趋势项的序号，/＞为姿态参数数据的趋势项和施工参数数据的趋势项的交叉波动指数，/＞为姿态参数数据的趋势项的波动指数，/＞为施工参数数据的趋势项的波动指数。S26、根据姿态参数数据和施工参数数据的去趋势相关性指数，确定强相关参数，并确定强相关参数数据的趋势项和波动项。具体地，本发明确定去趋势相关性指数阈值，并将大于或等于去趋势相关性指数阈值的去趋势相关性指数对应的施工参数确定为强相关参数。S3、构建第一长短时记忆网络模型和第二长短时记忆网络模型，利用姿态参数数据的趋势项和强相关参数数据的趋势项训练第一长短时记忆网络模型，利用姿态参数数据的波动项和强相关参数数据的波动项训练第二长短时记忆网络模型。在本发明的一个可选实施例中，本发明构建第一长短时记忆网络模型和第二长短时记忆网络模型，利用姿态参数数据的趋势项和强相关参数数据的趋势项训练第一长短时记忆网络模型，利用姿态参数数据的波动项和强相关参数数据的波动项训练第二长短时记忆网络模型。如图2所示，本发明构建的第一长短时记忆网络模型为图2中的趋势项预测网络，本发明构建的第二长短时记忆网络模型为图2中的波动项预测网络。本发明构建的第一长短时记忆网络模型和第二长短时记忆网络模型均包括输入层、长短时记忆网络块和输出层。具体地，本发明将第一长短时记忆网络模型和第二长短时记忆网络模型的长短时记忆网络块的块数设定为2。2个长短时记忆网络块分别为第一长短时记忆网络块和第二长短时记忆网络块。本发明将第一长短时记忆网络模型的第一长短时记忆网络块中长短时记忆网络单元设定为64个单元。本发明将第一长短时记忆网络模型的第二长短时记忆网络块中长短时记忆网络单元设定为32个单元。本发明将第二长短时记忆网络模型的第一长短时记忆网络块中长短时记忆网络单元设定为128个单元。本发明将第二长短时记忆网络模型的第二长短时记忆网络块中长短时记忆网络单元设定为64个单元。输入层用于输入设定时间范围内姿态参数和强相关参数的归一化向量，并将设定时间范围内姿态参数和强相关参数的归一化向量传输至长短时记忆网络块。长短时记忆网络块用于接收设定时间范围内姿态参数和强相关参数的归一化向量，并根据设定时间范围内姿态参数和强相关参数的归一化向量计算下一时间范围内盾构掘进机姿态的一维特征向量，并将下一时间范围内盾构掘进机姿态的一维特征向量传输至输出层。具体地，本发明对长短时记忆网络块内的权重数值进行更新，然后利用更新后的权重数值计算当前时间范围内姿态参数和强相关参数的归一化向量与下一时间范围内姿态参数的相关性，进而计算下一时间范围内盾构掘进机姿态的一维特征向量。长短时记忆网络块包括依次连接的长短时记忆网络层、正则化层和选择性抑制层；长短时记忆网络层包括多个长短时记忆网络单元。正则化层用于将上一层的输出向量正则化，选择性抑制层用于随机抑制上一层与下一层连接数。本发明中将选择性抑制层的抑制率设为0.2。长短时记忆网络单元包括遗忘门子结构、输入门子结构和输出门子结构。具体地。长短时记忆网络单元中第个单元输入为第/＞个单元输出的历史参数、记忆状态/＞以及第/＞个单元的设定时间范围内姿态参数和强相关参数的归一化向量/＞。长短时记忆网络单元中第/＞个单元的输出为历史参数/＞和记忆状态/＞。本发明计算记忆状态，表示为：其中：为第/＞个单元的记忆状态，/＞为第/＞个单元遗忘门子结构的输出，/＞为求矩阵的哈达玛积，/＞为第/＞个单元的记忆状态，/＞为第/＞个单元输入门子结构的选择记忆参数，/＞为第/＞个单元输入门子结构的候选记忆参数。本发明计算历史参数表示为：其中：为第/＞个单元的历史参数，/＞为第/＞个单元输出门子结构的输出，/＞为求矩阵的哈达玛积，/＞为反正切函数。本发明中第个单元根据输入的参数计算遗忘门子结构的输出/＞、输入门子结构的的选择记忆参数/＞和候选记忆参数/＞、输出门子结构的输出/＞。遗忘门子结构的计算式表示为：其中：为第/＞个单元的遗忘门子结构的输出，且/＞，/＞表示历史参数/＞被遗忘的程度，/＞表明历史参数/＞被完全保留，/＞表明历史状态/＞被完全遗忘，为激活函数，/＞为遗忘门子结构的可训练权重，/＞为两向量的拼接符号，/＞为第个单元输出的历史参数，/＞为第/＞个单元的姿态参数和强相关参数的归一化向量，/＞为遗忘门子结构的可训练偏差。输入门子结构的计算式表示为：，其中：为第/＞个单元的输入门子结构的选择记忆参数，且/＞，/＞表示候选记忆参数/＞被保留的程度，/＞表明候选记忆参数/＞被完全保留，/＞表明候选记忆参数/＞被完全遗忘，/＞为激活函数，/＞为选择记忆参数的可训练权重，/＞为两向量的拼接符号，/＞为第/＞个单元输出的历史参数，/＞为第/＞个单元的姿态参数和强相关参数的归一化向量，/＞为选择记忆参数的可训练偏差，/＞为第/＞个单元的输入门子结构的候选记忆参数，/＞为反正切函数，/＞为候选记忆参数的可训练权重，/＞为候选记忆参数的可训练偏差。输出门子机构的计算式表示为：其中：为第/＞个单元的输出门子机构的输出，用于将第/＞个单元的姿态参数和强相关参数的归一化向量与历史参数/＞融合，/＞为激活函数，/＞为输出门子机构的可训练权重，/＞为两向量的拼接符号，/＞为第/＞个单元输出的历史参数，/＞为第/＞个单元的姿态参数和强相关参数的归一化向量，/＞为输出门子机构的可训练偏差。输出层用于接收下一时间范围内盾构掘进机姿态的一维特征向量，计算下一时间范围内盾构掘进机姿态的一维特征向量内各个元素对盾构掘进机姿态分项预测结果的权重，并计算各个元素的加权和，将各个元素的加权和结果作为输出以获取盾构掘进机姿态分项预测结果。具体地，本发明对输出层内权重数值的更新，然后利用更新后的权重数值计算下一时间范围内盾构掘进机姿态的一维特征向量内各个元素对盾构掘进机姿态分项预测结果的权重，并计算各个元素的加权和，将各个元素的加权和结果作为输出以获取盾构掘进机姿态分项预测结果。S4、对训练后的第一长短时记忆网络模型和第二长短时记忆网络模型进行超参数优化和第二轮训练，以获取最终的第一长短时记忆网络模型和第二长短时记忆网络模型，并利用最终的第一长短时记忆网络模型和第二长短时记忆网络模型获取盾构掘进机姿态分项预测结果。在本发明的一个可选实施例中，本发明对训练后的第一长短时记忆网络模型和第二长短时记忆网络模型进行超参数优化和第二轮训练，以获取最终的第一长短时记忆网络模型和第二长短时记忆网络模型，并利用最终的第一长短时记忆网络模型和第二长短时记忆网络模型获取盾构掘进机姿态分项预测结果。本发明对训练后的第一长短时记忆网络模型和第二长短时记忆网络模型进行超参数优化包括以下步骤：A1、对训练后的模型的长短时记忆网络块数和长短时记忆网络单元数进行初始化。A2、利用设定时间范围内姿态参数和强相关参数的归一化向量，对初始化长短时记忆网络块数和长短时记忆网络单元数后的模型进行训练，并确定参数初始化后损失最小的模型。A3、对参数初始化后损失最小的模型进行参数变异，获取不同参数的模型，利用设定时间范围内姿态参数和强相关参数的归一化向量，对不同参数的模型进行训练，并确定参数变异后损失最小的模型。本发明对参数变异后损失最小的模型进行第二轮训练，训练至损失函数不在梯度下降为止，以获取最终的第一长短时记忆网络模型和第二长短时记忆网络模型，并利用最终的第一长短时记忆网络模型和第二长短时记忆网络模型获取盾构掘进机姿态分项预测结果。本发明是参照根据本发明实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。本发明中应用了具体实施例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本发明的限制。本领域的普通技术人员将会意识到，这里所述的实施例是为了帮助读者理解本发明的原理，应被理解为本发明的保护范围并不局限于这样的特别陈述和实施例。本领域的普通技术人员可以根据本发明公开的这些技术启示做出各种不脱离本发明实质的其它各种具体变形和组合，这些变形和组合仍然在本发明的保护范围内。
