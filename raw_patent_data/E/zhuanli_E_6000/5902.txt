标题title
页岩储层井工厂水平井压裂参数分层多级优化方法
摘要abst
本发明涉及一种页岩储层井工厂水平井压裂参数分层多级优化方法，包括以下步骤：获取构造、地质属性建模所需数据；通过补全修正的地震、测井解释成果；利用单井岩心及测井力学参数，耦合建立储层岩石力学物性场模型；利用数值模拟软件建立了井平台多井压裂模式下三维裂缝扩展模型；对参数运用敏感性分析方法进行主控因素分析；通过改进蒙特卡洛抽样方法扩大样本集；使用差分进化优化算法对代理模型使用优化算法。本发明提出多级优化方法将全区压裂优化问题分为子问题，内层优化结果带入外层优化为约束，建立页岩储层井工厂多元压裂施工参数的优化方法，为提升页岩储层水平井多井压裂作业效率提供一套科学经济有效的解决方案。
权利要求书clms
1.一种页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：包括以下步骤：步骤1：获取构造、地质属性建模所需数据；由于地震、露头数据有限，需要利用岩心测井数据建立测井解释模型获取地质模型和数值模拟数据，当数据量不足时，则通过机器学习方法进行储层参数预测补全缺失参数，采用克里金插值或者基于小样本学习的参数预测方法实现属性建模，并通过地质统计信息提高后期地质属性建模精度；步骤2：通过补全修正的地震、测井解释成果，基于得到渗透率、孔隙度、含油饱和度参数，以构建三维页岩储层地质构造模型；以地震蚂蚁体解释成果和成像测井为基础，结合现场岩心观察，通过层理面薄弱面及岩性变化界面为约束并采用离散裂缝网络DFN建模关键技术实现多尺度天然裂缝建模，并进行井点观测裂缝密度和属性参数的强化校正，建立研究区多尺度页岩储层离散天然裂缝模型；步骤3：利用单井岩心及测井力学参数，综合考虑天然裂缝对围岩杨氏模量、泊松比的弱化作用，耦合建立储层岩石力学物性场模型；利用已压裂投产井，建立油藏数值模拟模型，通过拟合生产数据，获取储层压力场模型；结合区域应力背景、岩石力学物性场及储层压力场，采用有限元方法模拟建立三维地应力场模型；步骤4：基于构建的页岩储层模型，利用数值模拟软件建立了井平台多井压裂模式下三维裂缝扩展模型，针对水平井压裂问题，常规顺序或者拉链式压裂则不易控制井间诱导应力场，因此采用顺序或者拉链式压裂；基于商业软件模拟顺序或者拉链式压裂的裂缝扩展过程，分析裂缝延伸规律的影响因素，得到不同参数组合与缝控储量的关系，为多井顺序或者拉链式压裂的优化设计提供指导；步骤5：对参数运用敏感性分析方法进行裂缝扩展主控因素分析，对高维度数据进行处理保留对结果影响显著的特征，减少相似特征，分析对象包含地质参数、裂缝参数、施工参数；最终得到影响水平井多井压裂的产量的核心因素，降低数据维度简化运算，实现提升数据处理速度降低成本的目的；步骤6：将影响改造效果的核心因素与数值模拟结果通过改进蒙特卡洛抽样方法扩大样本集，基于此样本集构建平台井网压裂代理模型，代理模型选择采用径向基函数建立；代理模型有利于在使用优化算法时不必调用数值模拟平台，简化计算量，优化搜索范围更大，得到更接近最优解的压裂施工方案；步骤7：使用差分进化优化算法对代理模型使用优化算法，以最大净现值为目标函数；水平井井网参数优化问题中，需要优化的变量较多，包括单井的裂缝参数和井网参数；采用分级优化方法，分内外层，先优化内层单井裂缝参数，再将内层结果作为约束带入外层优化井网参数。2.根据权利要求1所述的页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：利用机器学习方法基于岩心数据和现场数据建立页岩气测井解释模型，包括：地层压力、孔隙度、含油饱和度、渗透率；由于本问题数据的局限，小样本学习方法就可以利用有限的数据建立一个准确的模型，选择随机森林方法进行参数预测，随机森林算法具有抗过拟合、噪声容忍度高、调节参数少的优势。3.根据权利要求1所述的页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：对构建工区模型构建应当包括地质模型、三维裂缝模型、属性模型、岩石力学模型和地应力模型，其中在上述模型构建中，需要以波阻抗反演体拟合的趋势体来约束建立的地质模型，而岩石力学和地应力模型则应当以单井硬点解释的数据进行质量控制。4.根据权利要求1所述的页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：对于多井压裂问题，同步压裂方法作业周期长，施工成本高且井间窜流风险较大，因此选择采用顺序或者拉链式压裂，通过对两口井的压裂和射孔交替作业来缩短压裂施工周期，节约压裂成本，利用商业软件进行水平平台井顺序或者拉链式压裂裂缝扩展研究，通过实验室内高压物性资料、矿场测试资料和岩心驱替资料获取生产动态数据和流体数据，建模的过程需要完成包括精细地质模型的粗化、毛管压力数据的处理、相对渗透率曲线的处理、数值模型初始化和生产动态数据的处理，最终建立全区数值模拟模型，基于历史数据拟合调整模型参数。5.根据权利要求1所述的页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：地质参数包括：储层压力、渗透率、孔隙度、原油粘度、应力敏感系数；裂缝参数包括：裂缝条数、裂缝夹角、裂缝半长、裂缝间距；施工参数包括：井间距、排间距、压裂段数、支撑剂量。6.根据权利要求1所述的页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：对参数进行敏感性分析筛选对影响改造效果的核心因素，通过蒙特卡洛抽样方法采样构建平台井网压裂代理模型，代理模型选择采用径向基函数建立，构建代理模型的目的是简化计算。7.根据权利要求6所述的页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：需要采用改进蒙特卡洛抽样方法将收集的样本值空间进行扩充处理，实际改进蒙特卡洛抽样时，需要将交叉熵重要抽样法与分散抽样法相结合，构建近似函数，减少算法抽样次数和方差系数，提高最终改进蒙特卡洛抽样算法的计算效率。8.根据权利要求7所述的页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：构建压裂代理模型的方法主要有响应面、Kriging模型、径向基函数和支持向量机方法，而径向基函数具有各向同性、形式简单的优点，得到了广泛的应用，径向基函数是以径向函数为基函数通过线性叠加构造的模型，可表示为:，式中：n为样本点数目；为待测点x和第i个样本点/＞之间的欧式距离； /＞为样本点的权重系数；/＞为基函数，常用的基函数形式主要有多项式/＞、高斯/＞、薄样板条/＞和立方体/＞，其中，c为光滑参数，r为待测点x与任意样本点之间的欧式距离。9.根据权利要求1所述的页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：以最大净现值为目标函数对水平井井网压裂施工参数进行优化，设计针对水平井井网的分级优化方法，首先建立目标函数：，，，其中NPV表示单井净现值；b为折现率，%；t为油井生产年限；P0为原油价格，元/m3；Qoil为一年产油量，m3/年；f为压裂成本，元；Cop是一年的操作维护成本，元；Ctax是各类税的总和，元/m3。10.根据权利要求9所述的页岩储层井工厂水平井压裂参数分层多级优化方法，其特征是：分级优化方法是将一个复杂的工程系统设计问题分解为一个系统级优化和多个并行的子问题优化，在优化设计过程中，系统给各个子问题传递系统设计变量的期望值，各子问题在满足本学科约束条件的前提下，使子问题结果与系统级传递下来的设计变量期望值差距最小，并将各个子问题优化结果返回系统级，系统通过一致性约束对各子问题间设计变量的不一致进行协调，本文体中全区压裂参数组合为系统级问题，子问题为各个单井参数组合，采用差分进化算法优化子问题，以不压窜裂缝间不发干扰为约束，求得全区净现值最大的压裂参数组合。
说明书desc
技术领域本发明涉及油气田开发技术领域，特别涉及一种页岩储层井工厂水平井压裂参数分层多级优化方法。背景技术体积压裂是目前页岩储层等非常规油气资源开发的主要方式，而井工厂压裂模式。非常规油气资源采用水平井技术开发仍面临一个共性问题，即如何优化水平井的长度、人工裂缝的条数、裂缝间距、施工段长、段内簇数和每簇孔数等参数，以达到减缓产量递减、提高采收率的目的。通过主控因素分析的结果来看，压裂施工参数对压后产能也具有一定的影响。但是目前的压裂施工参数是否适合本研究区，部分参数有无进一步优化的空间需要进一步研究。根据一般现场的压裂施工参数较多，需要通过敏感性分析的结果，选取敏感的参数进行优化，来降低优化的计算代价。另外需要构建代理模型，即是一种高效的数学近似模型，由于它能够显著地提高计算效率，已经逐渐发展为一种新的计算方法，并且它在油藏数值模拟计算、优化设计和反分析等方面得到了广泛运用，并大大提高了油藏数值模拟问题的分析效率。现有常用的代理模型主要有：多项式响应面代理模型、径向基代理模型、Kriging 代理模型、人工神经网络代理模型、支持向量回归代理模型、移动最小二乘法代理模型等。现有的压裂参数来源多，而不同参数之间存在异常值缺失，同时较多的影响因素没有进行预处理也容易造成后续的模拟结果存在误差，为此需要通过抽样方法进行计算空间样本的扩充。目前蒙特卡洛方法是进行样本抽样处理的一种重要方法，但是存在抽样次数多及方差系数大的问题，因此造成后续的油藏数值模拟结果存在偏差，有必要采用改进蒙特卡洛模拟方法实现抽样效率的提升。页岩储层水平井网的多压裂参数优化设计问题变量类型复杂、变量维度高、变量之间互相联系、约束条件数量多、约束条件类型多等。尽管近年来智能优化算法解决了很多优化问题，但处理大规模优化问题时，仍可能会陷入局部最优，原因是随着决策变量的增加，优化算法的性能快速下降。因此需在现有水平井单井压裂参数优化设计方案基础上开展大量优化设计工作，有必要建立多级优化方法，将本问题分为内外层两个子问题，先优化内层单井裂缝参数，再将内层结果作为约束带入外层优化井网参数。针对每一个子问题选择智能算法优化。相较于单井优化和单因素优化结果，从整体角度优化全区工程参数的研究方案更合理有效。发明内容本发明的目的就是针对现有技术存在的上述缺陷，提供一种页岩储层井工厂水平井压裂参数分层多级优化方法，提出多级优化方法，将全区压裂优化问题分为子问题，内层优化结果带入外层优化为约束并在外层优化中考虑不发生井间干扰为约束，建立页岩储层井工厂多元压裂施工参数的优化方法，为提升页岩储层水平井多井压裂作业效率提供一套科学经济有效的解决方案。本发明提到的一种页岩储层井工厂水平井压裂参数分层多级优化方法，其技术方案是包括以下步骤：步骤1：获取构造、地质属性建模所需数据；由于地震、露头数据有限，需要利用岩心测井数据建立测井解释模型获取地质模型和数值模拟数据，当数据量不足时，则通过机器学习方法进行储层参数预测补全缺失参数，采用克里金插值或者基于小样本学习的参数预测方法实现属性建模，并通过地质统计信息提高后期地质属性建模精度；步骤2：通过补全修正的地震、测井解释成果，基于得到渗透率、孔隙度、含油饱和度参数，以构建三维页岩储层地质构造模型；以地震蚂蚁体解释成果和成像测井为基础，结合现场岩心观察，通过层理面薄弱面及岩性变化界面为约束并采用离散裂缝网络DFN建模关键技术实现多尺度天然裂缝建模，并进行井点观测裂缝密度和属性参数的强化校正，建立研究区多尺度页岩储层离散天然裂缝模型；步骤3：利用单井岩心及测井力学参数，综合考虑天然裂缝对围岩杨氏模量、泊松比的弱化作用，耦合建立储层岩石力学物性场模型；利用已压裂投产井，建立油藏数值模拟模型，通过拟合生产数据，获取储层压力场模型；结合区域应力背景、岩石力学物性场及储层压力场，采用有限元方法模拟建立三维地应力场模型；步骤4：基于构建的页岩储层模型，利用数值模拟软件建立了井平台多井压裂模式下三维裂缝扩展模型，针对水平井压裂问题，常规顺序或者拉链式压裂则不易控制井间诱导应力场，因此采用顺序或者拉链式压裂；基于商业软件模拟顺序或者拉链式压裂的裂缝扩展过程，分析裂缝延伸规律的影响因素，得到不同参数组合与缝控储量的关系，为多井顺序或者拉链式压裂的优化设计提供指导；步骤5：对参数运用敏感性分析方法进行裂缝扩展主控因素分析，对高维度数据进行处理保留对结果影响显著的特征，减少相似特征，分析对象包含地质参数、裂缝参数、施工参数；最终得到影响水平井多井压裂的产量的核心因素，降低数据维度简化运算，实现提升数据处理速度降低成本的目的；步骤6：将影响改造效果的核心因素与数值模拟结果通过改进蒙特卡洛抽样方法扩大样本集，基于此样本集构建平台井网压裂代理模型，代理模型选择采用径向基函数建立；代理模型有利于在使用优化算法时不必调用数值模拟平台，简化计算量，优化搜索范围更大，得到更接近最优解的压裂施工方案；步骤7：使用差分进化优化算法对代理模型使用优化算法，以最大净现值为目标函数；水平井井网参数优化问题中，需要优化的变量较多，包括单井的裂缝参数和井网参数；采用分级优化方法，分内外层，先优化内层单井裂缝参数，再将内层结果作为约束带入外层优化井网参数。优选的，利用机器学习方法基于岩心数据和现场数据建立页岩气测井解释模型，包括：地层压力、孔隙度、含油饱和度、渗透率；由于本问题数据的局限，小样本学习方法就可以利用有限的数据建立一个准确的模型，选择随机森林方法进行参数预测，随机森林算法具有抗过拟合、噪声容忍度高、调节参数少的优势。优选的，对构建工区模型构建应当包括地质模型、三维裂缝模型、属性模型、岩石力学模型和地应力模型，其中在上述模型构建中，需要以波阻抗反演体拟合的趋势体来约束建立的地质模型，而岩石力学和地应力模型则应当以单井硬点解释的数据进行质量控制。优选的，对于多井压裂问题，同步压裂方法作业周期长，施工成本高且井间窜流风险较大，因此选择采用顺序或者拉链式压裂，通过对两口井的压裂和射孔交替作业来缩短压裂施工周期，节约压裂成本，利用商业软件进行水平平台井顺序或者拉链式压裂裂缝扩展研究，通过实验室内高压物性资料、矿场测试资料和岩心驱替资料获取生产动态数据和流体数据，建模的过程需要完成包括精细地质模型的粗化、毛管压力数据的处理、相对渗透率曲线的处理、数值模型初始化和生产动态数据的处理，最终建立全区数值模拟模型，基于历史数据拟合调整模型参数。优选的，地质参数包括：储层压力、渗透率、孔隙度、原油粘度、应力敏感系数；裂缝参数包括：裂缝条数、裂缝夹角、裂缝半长、裂缝间距；施工参数包括：井间距、排间距、压裂段数、支撑剂量。优选的，对参数进行敏感性分析筛选对影响改造效果的核心因素，通过蒙特卡洛抽样方法采样构建平台井网压裂代理模型，代理模型选择采用径向基函数建立，构建代理模型的目的是简化计算。优选的，需要采用改进蒙特卡洛抽样方法将收集的样本值空间进行扩充处理，实际改进蒙特卡洛抽样时，需要将交叉熵重要抽样法与分散抽样法相结合，构建近似函数，减少算法抽样次数和方差系数，提高最终改进蒙特卡洛抽样算法的计算效率。优选的，构建压裂代理模型的方法主要有响应面、Kriging模型、径向基函数和支持向量机方法，而径向基函数具有各向同性、形式简单的优点，得到了广泛的应用，径向基函数是以径向函数为基函数通过线性叠加构造的模型，可表示为:，式中：n为样本点数目；为待测点x和第i个样本点/＞之间的欧式距离； /＞为样本点的权重系数；/＞为基函数，常用的基函数形式主要有多项式/＞、高斯/＞、薄样板条/＞和立方体/＞，其中，c为光滑参数，r为待测点x与任意样本点之间的欧式距离。优选的，以最大净现值为目标函数对水平井井网压裂施工参数进行优化，设计针对水平井井网的分级优化方法，首先建立目标函数：，，，其中NPV表示单井净现值；b为折现率，%；t为油井生产年限；P0为原油价格，元/m3；Qoil为一年产油量，m3/年；f为压裂成本，元；Cop是一年的操作维护成本，元；Ctax是各类税的总和，元/m3。优选的，分级优化方法是将一个复杂的工程系统设计问题分解为一个系统级优化和多个并行的子问题优化，在优化设计过程中，系统给各个子问题传递系统设计变量的期望值，各子问题在满足本学科约束条件的前提下，使子问题结果与系统级传递下来的设计变量期望值差距最小，并将各个子问题优化结果返回系统级，系统通过一致性约束对各子问题间设计变量的不一致进行协调，本文体中全区压裂参数组合为系统级问题，子问题为各个单井参数组合，采用差分进化算法优化子问题，以不压窜裂缝间不发干扰为约束，求得全区净现值最大的压裂参数组合。与现有技术相比，本发明的有益效果具体如下：一、本发明解决了建模数据不足的问题，基于岩心数据和现场数据利用随机森林方法建立页岩气测井解释模型，包括：地层压力、孔隙度、含油饱和度、渗透率等，小样本学习方法的引入就可以利用有限的标注数据建立一个准确的模型。二、本发明针对水平井多井优化问题采用顺序或者拉链式压裂方法，由于多井压裂过程中存在非对称裂缝扩展现象，井间应力干扰强烈，抑制了内部裂缝的横向扩展，相较于同步压裂方案，拉链压裂方案在提高裂缝复杂度、增加裂缝表面积方面具有更好的性能，有利于提高油气产量。三、本发明提出采用代理模型技术，采用径向基函数算法建立压裂代理模型，代理模型的作用是在表征参数与压裂改造效果的关系的同时达到简化计算的目的，以往的优化问题需要调用数值模拟平台，计算量大，迭代次数有限制。本发明使用改进蒙特卡洛抽样方法获取训练集参数，选择交叉熵重要抽样法与分散抽样法相结合的方式改进传统蒙特卡洛方法，可以减小方差，提升抽样运算效率，对代理模型进行优化。四、本发明为了高效地解决大规模优化问题，提出多级优化方法，大规模的优化问题被分解为两个子问题，决策变量被划分为两层，选择差分进化算法优化单井问题，作为内层结果，内部优化问题的结果是外部全区优化问题的约束条件，经过多次迭代外层优化算法，得到以不发生干扰为约束，整个区域 NPV最大为结果的最优压裂施工参数和井平台数量和位置。附图说明图1为本发明提供页岩储层井工厂体积压裂参数分层多级优化设计方法流程图；图2为平台井压裂分层多级优化方法流程图；图3为页岩储层平台研究井组压裂天然裂缝建模结果示意图；图4为页岩储层平台井工厂压裂双水平井井身结构示意图；图5为页岩储层平台井工厂压裂裂缝扩展改造体积结果图；图6为页岩储层平台井工厂压裂分层多级优化方法前后裂缝改造体积对比图。具体实施方式以下结合附图对本发明的优选实施例进行说明，应当理解，此处所描述的优选实施例仅用于说明和解释本发明，并不用于限定本发明。实施例1，本发明提到的一种页岩储层井工厂水平井压裂参数分层多级优化方法，包括以下步骤：步骤1：获取构造、地质属性建模所需数据；由于地震、露头数据有限，难以获取建模所需数据对整个研究区的平面分布和剖面分布进行解释，因此部分参数可以根据研究参数与测井参数之间的相关性获得，需要利用岩心测井数据建立测井解释模型获取地质模型和数值模拟数据，当数据量不足时，则通过机器学习方法进行储层参数预测补全缺失参数，采用克里金插值或者基于小样本学习的参数预测方法实现属性建模，并通过地质统计信息提高后期地质属性建模精度；步骤2：通过补全修正的地震、测井解释成果，基于得到渗透率、孔隙度、含油饱和度参数，基于三维地震解释结果建立断层骨架模型并确定各个断层的交切关系，得到合理的断层模型，在此基础上以地震解释层面为约束建立三维页岩储层地质构造模型；另外，结合天然裂缝描述的多源数据，通过地震蚂蚁体数据对断层和大尺度裂缝进行解释，基于测井数据、岩心裂缝识别结果对中小尺度裂缝进行解释，以地震蚂蚁体解释成果和成像测井为基础，结合现场岩心观察，通过层理面薄弱面及岩性变化界面为约束并采用离散裂缝网络DFN建模关键技术实现多尺度天然裂缝建模，以所建立的区域裂缝发育强度场为约束，并进行井点观测裂缝密度和属性参数的强化校正，建立研究区多尺度页岩储层离散天然裂缝模型；步骤3：利用单井岩心及测井力学参数，综合考虑天然裂缝对围岩杨氏模量、泊松比的弱化作用，耦合建立储层岩石力学物性场模型；利用已压裂投产井，建立油藏数值模拟模型，通过拟合生产数据，获取储层压力场模型；根据油藏地质特征，利用测井解释成果数据，结合三维地震反演数据体，建立岩性模型、储层物性孔渗饱模型以及油层模型等。基于水平井岩心数据和测井解释结果，利用岩石物理分析方法建立储层参数与地震弹性参数的定量关系，获得横波阻抗、纵波阻抗等弹性参数，再将地震弹性参数转换为页岩储层参数，最终采用序贯高斯模拟建立属性模型；结合区域应力背景、岩石力学物性场及储层压力场，基于包含层理缝和天然裂缝特征的页岩储层储层岩石力学模型，采用有限元方法模拟建立三维地应力场模型；步骤4：基于构建的页岩储层模型，利用数值模拟软件建立了井平台多井压裂模式下三维裂缝扩展模型，针对水平井压裂问题，常规顺序或者拉链式压裂则不易控制井间诱导应力场，因此采用顺序或者拉链式压裂；基于商业软件模拟顺序或者拉链式压裂的裂缝扩展过程，分析裂缝延伸规律的影响因素，得到不同参数组合与缝控储量的关系，为多井顺序或者拉链式压裂的优化设计提供指导；步骤5：对参数运用敏感性分析方法进行裂缝扩展主控因素分析，对高维度数据进行处理保留对结果影响显著的特征，减少相似特征，分析对象包含地质参数、裂缝参数、施工参数；最终得到影响水平井多井压裂的产量的核心因素，降低数据维度简化运算，由于页岩储层气具有显著的多尺度特征，裂缝扩展过程中受多因素影，筛选影响裂缝导流能力的主要参数，实现提升数据处理速度的目的，节省时间和成本，实现提升数据处理速度降低成本的目的；步骤6：将影响改造效果的核心因素与数值模拟结果通过改进蒙特卡洛抽样方法扩大样本集，基于此样本集构建平台井网压裂代理模型，代理模型选择采用径向基函数建立；代理模型有利于在使用优化算法时不必调用数值模拟平台，简化计算量，优化搜索范围更大，得到更接近最优解的压裂施工方案；步骤7：使用差分进化优化算法对代理模型使用优化算法，以最大净现值为目标函数；水平井井网参数优化问题中，需要优化的变量较多，包括单井的裂缝参数和井网参数；采用分级优化方法，分内外层，先优化内层单井裂缝参数，再将内层结果作为约束带入外层优化井网参数。利用机器学习方法基于岩心数据和现场数据建立页岩气测井解释模型，包括：地层压力、孔隙度、含油饱和度、渗透率；大多数机器学习预测方法需要在大量数据集上进行监督学习，但由于本问题数据的局限，小样本学习方法就可以利用有限的数据建立一个准确的模型，例如支持向量机、随机森林、卷积前馈神经网络；通过对比本问题选择随机森林方法进行参数预测，随机森林算法本质上是基于传统决策树理论提出的一种由一组决策树组合而成的算法，具有抗过拟合、噪声容忍度高、调节参数少的优势。随机森林算法通过构建决策树的集合实现对数据集的自主抽样。回归预测模型结果如下：，式子中：随机森林由一组决策树组合而成，随机向量/＞服从独立分布，X代表输入向量，即决策子树的数量。对构建工区模型构建应当包括地质模型、三维裂缝模型、属性模型、岩石力学模型和地应力模型，其中在上述模型构建中，需要以波阻抗反演体拟合的趋势体来约束建立的地质模型，而岩石力学和地应力模型则应当以单井硬点解释的数据进行质量控制。对于多井压裂问题，同步压裂方法作业周期长，施工成本高且井间窜流风险较大，因此选择采用顺序或者拉链式压裂，通过对两口井的压裂和射孔交替作业来缩短压裂施工周期，节约压裂成本。基于所建立的地质模型，裂缝模型，地应力模型。利用petrel商业软件进行水平平台井顺序或者拉链式压裂裂缝扩展研究，通过实验室内高压物性资料、矿场测试资料和岩心驱替资料获取生产动态数据和流体数据，建模的过程需要完成包括精细地质模型的粗化、毛管压力数据的处理、相对渗透率曲线的处理、数值模型初始化和生产动态数据的处理，最终建立全区数值模拟模型，基于历史数据拟合调整模型参数，然后进行全区的储量拟合和历史拟合，之后进行动态预测，利用油气藏的生产历史数据验证模型的准确性，并据此调整模型参数，使得调整后模型的数值模拟结果可以反映真实情况。地质参数包括：储层压力、渗透率、孔隙度、原油粘度、应力敏感系数；裂缝参数包括：裂缝条数、裂缝夹角、裂缝半长、裂缝间距；施工参数包括：井间距、排间距、压裂段数、支撑剂量。上述参数是影响水平井顺序或者拉链式压裂产能的主要影响因素，其中裂缝参数和施工参数是影响最大改造体积的主要参数。对参数进行敏感性分析筛选对影响改造效果的核心因素，通过蒙特卡洛抽样方法采样构建平台井网压裂代理模型，代理模型选择采用径向基函数建立，构建代理模型的目的是简化计算。需要采用改进蒙特卡洛抽样方法将收集的样本值空间进行扩充处理，实际改进蒙特卡洛抽样时，需要将交叉熵重要抽样法与分散抽样法相结合，构建近似函数，减少算法抽样次数和方差系数，提高最终改进蒙特卡洛抽样算法的计算效率。运用改进蒙特卡洛方法对上述的核心敏感因素的抽样处理。改进蒙特卡洛方法进行油藏数值模拟抽样过程中遵循以下步骤，输入影响最后压裂井产量的基础数据，通过抽样处理得到影响压裂井产量的随机数，进一步通过分散抽样法对井工厂压裂井产量进行是最后模拟，计算相关方差系数并进行精度判断，如抽样合理则输出相关结果，抽样精度不合理则重新选取中间参数值进行多次迭代。构建压裂代理模型的方法主要有响应面、Kriging模型、径向基函数和支持向量机方法，而径向基函数具有各向同性、形式简单的优点，得到了广泛的应用，径向基函数是以径向函数为基函数通过线性叠加构造的模型，可表示为:，式中：n为样本点数目；为待测点x和第i个样本点/＞之间的欧式距离； /＞为样本点的权重系数；/＞为基函数，常用的基函数形式主要有多项式/＞、高斯/＞、薄样板条/＞和立方体/＞，其中，c为光滑参数，r为待测点x与任意样本点之间的欧式距离。构建的水平井压裂代理模型包括单井和全区压裂模型，便于优化问题分级调用模型求解。首先通过构建单井模型，输入参数为待优化的压裂施工参数，输出参数为裂缝半长，裂缝导流能力等表征改造效果的参数，单排和全区模型可以由单井模型得到，将影响改造效果的核心因素与数值模拟结果通过蒙特卡洛抽样方法扩大样本集，基于样本集构利用径向基函数构建平台水平井网压裂代理模型，并将代理模型结果与数值模拟结果拟合，利用抽样方法不断补充训练集优化代理模型直到拟合精度达到0.8以上，认为该代理模型结果可以表征数值模拟结果。以最大净现值为目标函数对水平井井网压裂施工参数进行优化，设计针对水平井井网的分级优化方法，首先建立目标函数：，，，其中NPV表示单井净现值；b为折现率，%；t为油井生产年限；P0为原油价格，元/m3；Qoil为一年产油量，m3/年；f为压裂成本，元；Cop是一年的操作维护成本，元；Ctax是各类税的总和，元/m3。根据单井净现值函数可以得到全区净现值函数，以全区净现值最大为目标函数进行分级优化，由于本问题变量类型复杂、变量维度高、变量之间互相联系、约束条件数量多、约束条件类型多等，智能优化算法处理大规模优化问题时，容易会陷入局部最优。分级优化方法是将一个复杂的工程系统设计问题分解为一个系统级优化和多个并行的子问题优化，在优化设计过程中，系统给各个子问题传递系统设计变量的期望值，各子问题在满足本学科约束条件的前提下，使子问题结果与系统级传递下来的设计变量期望值差距最小，并将各个子问题优化结果返回系统级，系统通过一致性约束对各子问题间设计变量的不一致进行协调，本文体中全区压裂参数组合为系统级问题，子问题为各个单井参数组合，采用差分进化算法优化子问题，以不压窜裂缝间不发干扰为约束，求得全区净现值最大的压裂参数组合。子问题的优化选择智能优化算法，例如遗传算法、粒子群算法、差分进化算法等。差分进化算法使用实数编码、基于差分的简单变异操作和“一对一”的竞争生存策略，相比于遗传算法降低了进化计算操作的复杂性。差分进化算法主要包括种群初始化、变异、交叉和选择四部分。种群初始化，其中：i种群中的个体序号；j个体属性序号；Np种群规模；D个体维度；第j个变量的上界；/＞第j个变量的下界。变异变异是通过原来的个体生成新个体的操作，新的变异向量由下式产生：，其中：r1,r2,r3是随机个体序号；F是变异算子；G是进化代数。交叉交叉是将变异个体和当前个体按一定规则生成新个体的操作，主要是为了增加干扰参数向量的多样性，其操作过程如下：，其中：rand是之间随机数发生器的第j个估计值；rnbr是一个随机选择的序列；CR是交叉算子，取值为之间的实数。选择选择就是对交叉操作产生的新个体进行筛选，通过的个体会进入下一代。将最优化函数的值称为适应值，通过新个体和当前个体的适应值进行比较，挑选较小适应值的个体方式来筛选，这样不断迭代就能保证个体的适应值逐步减小。本发明需要首先建立地质信息和测井信息约束的储层物性和力学参数评价模型得到建模所需相关参数，并补全修正确实的参数，进一步构建地应力模型，并结合具体的现场施工参数开展水平井多井顺序或者拉链式压裂和产量数值模拟，同时结合现场数据对模型进行历史拟合和修正，确定参数的边界界限；进一步通过敏感性分析方法进行核心裂缝主控因素识别，并且采用改进蒙特卡洛抽样方法构建井工厂水平井产量代理模型，将模拟初始化的影响压裂改造效果的核心主控参数作为输入参数带入代理模型，以最大净现值为目标函数，以回归边界界限为约束，运用差分进化算法进行模型参数分层多级优化。在进行优化时，将全区压裂优化问题分为子问题，内层优化结果带入外层优化为约束并在外层优化中考虑不发生井间干扰为约束，建立页岩储层井工厂多元压裂施工参数的优化方法，为提升页岩储层水平井多井压裂作业效率提供一套科学经济有效的解决方案。以上所述，仅是本发明的部分较佳实施例，任何熟悉本领域的技术人员均可能利用上述阐述的技术方案加以修改或将其修改为等同的技术方案。因此，依据本发明的技术方案所进行的相应简单修改或等同变换，尽属于本发明要求保护的范围。
