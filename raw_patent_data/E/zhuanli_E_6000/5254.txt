标题title
基于物联网搬运器的控制系统及方法
摘要abst
本发明公开了一种基于物联网搬运器的控制系统，其特征在于，该系统包括：上位机调度服务器单元，上位机调度服务器单元与设备内部局域网及外部互联网建立通信连接，搬运器中央处理单元包括PLC主机、RS485通讯模块、CANopen通讯模块、数字量IO模块,用于接收上位机指令，控制搬运器上的执行机构，并收集传感器状态信息，执行机构单元包括行走控制模块及抱夹控制模块，行走控制模块用于负责搬运器的纵向移动，抱夹控制模块用于负责在运送车辆的过程中抬起或放下车辆，反馈单元包括位置检测模块及检测传感器模块，位置检测模块通过检测传感器模块检测搬运器的实际位置、检测抱夹位置、检测有无车辆以及自检防撞击，电源系统包括电池、充电执行机构和充电桩。
权利要求书clms
1.一种基于物联网搬运器的控制系统，其特征在于，该系统包括：上位机调度服务器单元，所述上位机调度服务器单元与设备内部局域网及外部互联网建立通信连接，外部互联网通过手机APP端共享数据，并接收来自互联网的指令，设备内部局域网根据实际情况分配这些任务给搬运器以及立体车库内的设备；搬运器中央处理单元，所述搬运器中央处理单元包括PLC主机、RS485通讯模块、CANopen通讯模块、数字量IO模块,用于接收上位机指令，控制搬运器上的执行机构，并收集传感器状态信息；执行机构单元，所述执行机构单元包括行走控制模块及抱夹控制模块，所述行走控制模块用于负责搬运器的纵向移动，从而实现从升降机到跑车、从跑车到车位以及反向的车辆运送，所述抱夹控制模块用于负责在运送车辆的过程中抬起或放下车辆；反馈单元，所述反馈单元包括位置检测模块及检测传感器模块，所述位置检测模块通过所述检测传感器模块检测搬运器的实际位置、检测抱夹位置、检测有无车辆以及自检防撞击；电源系统，所述电源系统包括电池、充电执行机构和充电桩，所述电池用于负责整个搬运器的电源供给，所述充电执行机构及所述充电桩用于接收所述搬运器中央处理单元发出的充电指令。2.根据权利要求1所述的基于物联网搬运器的控制系统，其特征在于，所述上位机调度服务器单元与所述搬运器中央处理单元通过Profinet通讯协议交换数据，并通过无线物联网设备建立通信连接。3.根据权利要求1所述的基于物联网搬运器的控制系统，其特征在于，所述搬运器中央处理单元通过无线物联网设备与所述上位机调度服务器单元建立Profinet通信连接，所述搬运器中央处理单元通过CANopen通讯模块与所述执行机构单元通信连接，用于控制所述行走控制模块及所述抱夹控制模块，所述数字量IO模块用于负责收集搬运器的数字传感器的状态信息，判断各模块的执行情况，所述搬运器中央处理单元通过RS485通讯模块上的RFID芯片复核搬运器的位置，判断所述电池的状态。4.根据权利要求1所述的基于物联网搬运器的控制系统，其特征在于，所述行走控制模块包括伺服驱动器、伺服电机、伺服反馈系统，所述PLC主机通过所述CANopen通讯模块向所述行走控制模块发送速度、方向、开始运行信号。5.根据权利要求1所述的基于物联网搬运器的控制方法，其特征在于，所述抱夹控制模块包括各自的伺服驱动器、伺服电机、伺服反馈系统，所述PLC主机通过所述CANopen通讯模块向所述抱夹控制模块发送速度、方向、开始运行信号。6.根据权利要求1所述的基于物联网搬运器的控制方法，其特征在于，所述位置检测模块包括光电传感器及RFID芯片，用于控制搬运器的相对位置运行，并检测搬运器的绝对位置。7.根据权利要求1所述的基于物联网搬运器的控制方法，其特征在于，所述电池用于整个搬运器的电源供给，所述上位机调度服务器单元发送充电指令给所述充电桩，搬运器运行至所述充电桩位置后开启充电状态，所述充电桩开始给所述电池充电。8.一种基于物联网搬运器的控制方法，其特征在于，该方法包括以下步骤：S1：用户通过手机APP端进行存车、取车的预约操作；S2：用户到达车库后，在操作面板上扫描二维码，预约用户开门取车，非预约用户等待车库运行完成后取车；S3：上位机调度服务器单元根据用户的预约信息，到达车库后的存取信息调配资源、分配任务；S4：搬运器接收到上位机调度服务器单元指令后进行车辆的存取，并实时反馈运行状态和任务执行情况，若接收到换层指令，则进行换层动作，换层完成后更改自身编号；S5：搬运器实时反馈自身状态给上位机调度服务器单元，根据获取的状态判断搬运器的空闲情况，并根据当前任务情况发送下一个动作指令；S6：上述S4和S5往复执行，直至完成；S7：任务完成后搬运器进入等待状态，等待上位机调度服务器单元的下一条指令；S8：上位机调度服务器单元通过手机APP端提示取车用户将车辆取走，或提示存车用户车辆已经存入车库；S9：整个控制系统开始执行下一任务或进入等待状态。
说明书desc
技术领域本发明涉及立体车库停车技术领域，具体来说，涉及一种基于物联网搬运器的控制系统及方法。背景技术目前，现有技术车辆搬运器包括梳齿式搬运器、载车板式搬运器、抱夹式搬运器，其中，梳齿式搬运器运用梳齿错位交叉动作，将车辆从一个固定梳齿平台转运至另一个固定梳齿平台，为实现这些功能，梳齿搬运器配有行走系统、对中系统、升降系统及传感器检测系统等，但由于控制精度要求较高，动作复杂，其对控制系统要求也比较高，需要较大的人力、物力来实现，载车板式搬运器一般采用摩擦轮、链条挂钩或履带的型式来实现存取车辆，控制精度、动作要求较梳齿搬运器相对简单，但是由于其每次搬运车辆都要处理空的载车板，导致存取效率低下，抱夹式搬运器通过直接抱夹系统夹持汽车轮胎，使汽车抬起，从而达到搬运汽车的功能，其动作相对简单，体积相对其他搬运器较小。现有搬运器的共同缺点可归纳为以下几项：1)现有的搬运器只能运行到搬运台车的左右相邻位置，实现穿越车位的技术难度较大，无法更合理的利用空间。2)现有的搬运器电源和控制信号都来自于搬运台车，从而造成搬运台车和搬运器无法分离，搬运器无法独立工作，无法实现换层使用。3)现有搬运器和搬运台车的连接线采用电缆卷筒或拖链方式连接，前者成本较高，而后者可靠性太差。4)现有搬运器一般和搬运台车共用一个控制器，控制指令及信号判断过度依赖于搬运台车，无自主判断能力，有安全风险。发明内容针对相关技术中的上述技术问题，本发明提出一种基于物联网搬运器的控制系统及方法，能够解决搬运器控制复杂，无法实现换层、无法穿越车位的技术缺陷，同时解决了某台搬运器损坏后无法及时存取当前楼层车辆及车库空间利用率低的问题。为实现上述技术目的，本发明的技术方案是这样实现的：一种基于物联网搬运器的控制系统，该系统包括：上位机调度服务器单元，所述上位机调度服务器单元与设备内部局域网及外部互联网建立通信连接，外部互联网通过手机APP端共享数据，并接收来自互联网的指令，设备内部局域网根据实际情况分配这些任务给搬运器以及立体车库内的设备；搬运器中央处理单元，所述搬运器中央处理单元包括PLC主机、RS485通讯模块、CANopen通讯模块、数字量IO模块,用于接收上位机指令，控制搬运器上的执行机构，并收集传感器状态信息；执行机构单元，所述执行机构单元包括行走控制模块及抱夹控制模块，所述行走控制模块用于负责搬运器的纵向移动，从而实现从升降机到跑车、从跑车到车位以及反向的车辆运送，所述抱夹控制模块用于负责在运送车辆的过程中抬起或放下车辆；反馈单元，所述反馈单元包括位置检测模块及检测传感器模块，所述位置检测模块通过所述检测传感器模块检测搬运器的实际位置、检测抱夹位置、检测有无车辆以及自检防撞击功能；电源系统，所述电源系统包括电池、充电执行机构和充电桩，所述电池用于负责整个搬运器的电源供给，所述充电执行机构及所述充电桩用于接收所述搬运器中央处理单元发出的充电指令。进一步地，所述上位机调度服务器单元与所述搬运器中央处理单元通过Profinet通讯协议交换数据，并通过无线物联网设备建立通信连接。进一步地，所述搬运器中央处理单元通过无线物联网设备与所述上位机调度服务器单元建立Profinet通信连接，所述搬运器中央处理单元通过CANopen通讯模块与所述执行机构单元通信连接，用于控制所述行走控制模块及所述抱夹控制模块，所述数字量IO模块用于负责收集搬运器的数字传感器的状态信息，判断各模块的执行情况，所述搬运器中央处理单元通过RS485通讯模块上的RFID芯片复核搬运器的位置，判断所述电池的状态。进一步地，所述行走控制模块包括伺服驱动器、伺服电机、伺服反馈系统，所述PLC主机通过所述CANopen通讯模块向所述行走控制模块发送速度、方向、开始运行信号。进一步地，所述抱夹控制模块包括各自的伺服驱动器、伺服电机、伺服反馈系统，所述PLC主机通过所述CANopen通讯模块向所述抱夹控制模块发送速度、方向、开始运行信号。进一步地，所述位置检测模块包括光电传感器及RFID芯片，用于控制搬运器的相对位置运行，并检测搬运器的绝对位置。进一步地，所述电池用于整个搬运器的电源供给，所述上位机调度服务器单元发送充电指令给所述充电桩，搬运器运行至所述充电桩位置后开启充电状态，所述充电桩开始给所述电池充电。根据本发明的另一方面，提供了基于物联网搬运器的控制方法，该方法包括以下步骤：S1：用户通过手机APP端进行存车、取车的预约操作；S2：用户到达车库后，在操作面板上扫描二维码，预约用户开门取车，非预约用户等待车库运行完成后取车；S3：上位机调度服务器单元根据用户的预约信息，到达车库后的存取信息调配资源、分配任务；S4：搬运器接收到上位机调度服务器单元指令后进行车辆的存取，并实时反馈运行状态和任务执行情况，若接收到换层指令，则进行换层动作，换层完成后更改自身编号；S5：搬运器实时反馈自身状态给上位机调度服务器单元，根据获取的状态判断搬运器的空闲情况，并根据当前任务情况发送下一个动作指令；S6：上述S4和S5往复执行，直至完成；S7：任务完成后搬运器进入等待状态，等待上位机调度服务器单元的下一条指令；S8：上位机调度服务器单元通过手机APP端提示取车用户将车辆取走，或提示存车用户车辆已经存入车库；S9：整个控制系统开始执行下一任务或进入等待状态。本发明的有益效果：鉴于上述现有技术存在的不足，本申请充分发挥抱夹搬运器的优势，结合物联网功能，进行车辆预约、穿越车位搬运车辆，且可以实现多排穿越，更加合理的利用了空间，还具备自动充电功能，性能更可靠，减少了现有技术中搬运器连接搬运台车而产生的故障隐患，以及具备自主判断故障的能力，避免因通讯故障而产生的安全隐患，提高了安全性,另一方面，本设计采用RFID芯片复核搬运器的绝对位置，解决了在传统搬运器上存在的因数据错误而导致无法定位的问题，本设计搬运器设计了自主更改编号功能，使每个搬运器都能够在不同的层应用，或多个搬运器在同一层应用，从而避免一个搬运器损坏导致整层车辆无法取出的情况。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是根据本发明实施例所述的基于物联网搬运器的控制系统的构成框图；图2是根据本发明实施例所述的基于物联网搬运器的控制方法的流程框图；具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员所获得的所有其他实施例，都属于本发明保护的范围。如图1-2所示，根据本发明实施例所述的基于物联网搬运器的控制系统，其特征在于，该系统包括上位机调度服务器单元、搬运器中央处理单元、执行机构单元、反馈单元、电源系统；上位机调度服务器单元，所述上位机调度服务器单元与设备内部局域网及外部互联网建立通信连接，外部互联网通过手机APP端的微信公众号、微信小程序共享数据，并接收来自互联网的指令，设备内部局域网根据实际情况分配这些任务给搬运器以及立体车库内的设备，所述上位机调度服务器单元与所述搬运器中央处理单元通过Profinet通讯协议交换数据，并通过无线物联网设备建立通信连接；搬运器中央处理单元，所述搬运器中央处理单元包括PLC主机、RS485通讯模块、CANopen通讯模块、数字量IO模块,用于接收上位机指令，控制搬运器上的执行机构，并收集传感器状态信息，所述搬运器中央处理单元通过无线物联网设备与所述上位机调度服务器单元建立Profinet通信连接，所述搬运器中央处理单元通过CANopen通讯模块与所述执行机构单元通信连接，用于控制所述行走控制模块及所述抱夹控制模块，所述数字量IO模块用于负责收集搬运器的数字传感器的状态信息，判断各模块的执行情况，所述搬运器中央处理单元通过RS485通讯模块上的RFID芯片复核搬运器的位置，判断所述电池的状态；执行机构单元，所述执行机构单元包括行走控制模块及抱夹控制模块，所述行走控制模块用于负责搬运器的纵向移动，从而实现从升降机到跑车、从跑车到车位以及反向的车辆运送，所述抱夹控制模块用于负责在运送车辆的过程中抬起或放下车辆，其中：所述行走控制模块包括伺服驱动器、伺服电机、伺服反馈系统，所述PLC主机通过所述CANopen通讯模块向所述行走控制模块发送速度、方向、开始运行信号，所述伺服驱动器驱动所述伺服电机启动运行，直至到达目标位置，所述PLC主机停止发送信号给所述伺服驱动器，运行完成；所述抱夹控制模块包括各自的伺服驱动器、伺服电机、伺服反馈系统，所述PLC主机通过所述CANopen通讯模块向所述抱夹控制模块发送速度、方向、开始运行信号，所述伺服驱动器驱动所述伺服电机启动运行，直至到达目标位置，所述PLC主机停止发送信号给所述伺服驱动器，运行完成；反馈单元，所述反馈单元包括位置检测模块及检测传感器模块，所述位置检测模块通过所述检测传感器模块检测搬运器的实际位置、检测抱夹位置、检测有无车辆以及自检防撞击功能，其中，所述位置检测模块包括光电传感器及RFID芯片，用于控制搬运器的相对位置运行，并检测搬运器的绝对位置，其中，在每个车位上都安装有一张编号唯一的ID卡，搬运器运行到位后读取该卡编号，获取绝对位置，检测抱夹运行位置的传感器，采用屏蔽型接近开关，通过超声波传感器用于检测搬运器上的车辆情况、车位上的车辆情况，采用气囊传感器为搬运器的防撞击传感器。电源系统，所述电源系统包括电池、充电执行机构和充电桩，所述电源通过RS485通讯模块与所述搬运器中央处理单元通信连接，所述电池用于整个搬运器的电源供给，所述电池的电量实时反馈给所述搬运器中央处理单元，所述搬运器中央处理单元通过网络反馈给所述上位机调度服务器单元，当电池的电量小于设定阈值时，所述上位机调度服务器单元发送充电指令给所述充电桩，搬运器运行至所述充电桩位置后开启充电状态，所述充电桩开始给所述电池充电。根据本发明的另一方面，提供了基于物联网搬运器的控制方法，该方法包括以下步骤：步骤一，用户通过手机APP端进行存车、取车的预约操作，进一步包括：用户通过手机APP端的微信公众号、微信小程序进行存车、取车的预约，查询车库的状态，查询取车进度，用户预约后，用户信息及车辆信息通过互联网传输至上位机调度服务器单元，上位机调度服务器单元开始调配资源，提前预留车位或取出车辆，其步骤具体用于车辆预约、查询，能够节约时间及资源；步骤二，用户到达车库后，在操作面板上扫描二维码，预约用户开门取车，非预约用户等待车库运行完成后取车；步骤三，上位机调度服务器单元根据用户的预约信息，到达车库后的存取信息调配资源、分配任务，上位机调度服务器单元根据车库的资源利用情况，分配任务给搬运器和其他设备，上位机调度服务器单元负责搬运器的动作指令发送；步骤四，搬运器接收到上位机调度服务器单元指令后进行车辆的存取，并实时反馈运行状态和任务执行情况，指令包括充电指令、存取车指令、换层指令，搬运器接收到充电指令后，搬运器需要运行到充电桩位置，更改为充电状态，充电执行机构动作，充电支路导通，等待充电机充电，搬运器接收到存取指令后，搬运器首先判断自身状态、目标车位的状态，无误后开始运行，到达目标位置后抬起或放下车辆，若接收到换层指令，搬运器需运行到升降机内，升降机到位后搬运器移出并更改自身编号，等待存取指令；步骤五，搬运器实时反馈自身状态给上位机调度服务器单元，根据获取的状态判断搬运器的空闲情况，并根据当前任务情况发送下一个动作指令；步骤六，上述S4和S5往复执行，直至完成，每个任务包括多动作指令才能完成，所以搬运器不断重复的执行各种指令；步骤七，任务完成后搬运器进入等待状态，等待上位机调度服务器单元的下一条指令；步骤八，上位机调度服务器单元通过手机APP端提示取车用户将车辆取走，或提示存车用户车辆已经存入车库；步骤九，整个控制系统开始执行下一任务或进入等待状态。为了方便理解本发明的上述技术方案，以下通过具体使用方式上对本发明的上述技术方案进行详细说明。在具体使用时，根据本发明所述的基于物联网搬运器的控制系统及方法，首先，用户通过手机APP端进行存车、取车的预约操作，进一步包括：用户通过手机APP端的微信公众号、微信小程序进行存车、取车的预约，查询车库的状态，查询取车进度，用户预约后，用户信息及车辆信息通过互联网传输至上位机调度服务器单元，上位机调度服务器单元开始调配资源，提前预留车位或取出车辆，其步骤具体用于车辆预约、查询，能够节约时间及资源，用户到达车库后，在操作面板上扫描二维码，预约用户开门取车，非预约用户等待车库运行完成后取车，然后，上位机调度服务器单元根据用户的预约信息，到达车库后的存取信息调配资源、分配任务，上位机调度服务器单元根据车库的资源利用情况，分配任务给搬运器和其他设备，上位机调度服务器单元负责搬运器的动作指令发送，搬运器接收到上位机调度服务器单元指令后进行车辆的存取，并实时反馈运行状态和任务执行情况，指令包括充电指令、存取车指令、换层指令，搬运器接收到充电指令后，搬运器需要运行到充电桩位置，更改为充电状态，充电执行机构动作，充电支路导通，等待充电机充电，搬运器接收到存取指令后，搬运器首先判断自身状态、目标车位的状态，无误后开始运行，到达目标位置后抬起或放下车辆，若接收到换层指令，搬运器需运行到升降机内，升降机到位后搬运器移出并更改自身编号，等待存取指令，搬运器实时反馈自身状态给上位机调度服务器单元，根据获取的状态判断搬运器的空闲情况，并根据当前任务情况发送下一个动作指令，其次，上述搬运器内容往复执行，直至完成，每个任务包括多动作指令才能完成，所以搬运器不断重复的执行各种指令最后任务完成后搬运器进入等待状态，等待上位机调度服务器单元的下一条指令，上位机调度服务器单元通过手机APP端提示取车用户将车辆取走，或提示存车用户车辆已经存入车库，整个控制系统开始执行下一任务或进入等待状态。综上所述，借助于本发明的上述技术方案，通过搬运器结合物联网功能，进行车辆预约、穿越车位搬运车辆，且可以实现多排穿越，更加合理的利用了空间，还具备自动充电功能，性能更可靠，减少了现有技术中搬运器连接搬运台车而产生的故障隐患，以及具备自主判断故障的能力，避免因通讯故障而产生的安全隐患，提高了安全性。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
