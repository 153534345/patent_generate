标题title
一种基于智能手机的路面平整度测量方法
摘要abst
本发明公开一种基于智能手机的路面平整度测量方法。包括如下步骤：步骤：采集运动过程中的加速度数据；步骤：对步骤获得的加速度数据进行处理；步骤：构建基于模糊理论的隶属度函数模型；步骤：通过道路测试采集不同速度下的平整度数据，计算每中速度数据的μ，对现行的模型进行修正，得到最终的预测模型。隶属度函数基于模糊聚类原理与加速度数据特征分析得到的该组数据特征值进行分类，采用检测路段加速度数据和该路段平整度状况评价结果“优良中次差“直接对应的方法，解决了加速度数据检测点和原始道路检测点平整度指数难以对应的问题，一定程度上提升了预测模型精度。
权利要求书clms
1.一种基于智能手机的路面平整度测量方法，其特征在于，包括如下步骤：步骤：采集运动过程中的加速度数据；步骤：对步骤获得的加速度数据进行处理；步骤：构建基于模糊理论的隶属度函数模型，隶属度函数模型如下：式中：μ是期望值，当样本含量n足够大时，用样本均数代替μ，x是加速度，A是隶属度；步骤：通过道路测试采集不同速度下的平整度数据，计算每中速度数据的μ，对现行的模型进行修正，得到最终的预测模型。2.根据权利要求1所述的方法，其特征在于，所述步骤“采集运动过程中的加速度数据”具体为：智能手机传感器信号采集模块用来采集手机运动过程中各类传感器产生的数据；在手机中编入数据读取程序，记录下车辆运动行为的加速度数据，之后发送到后台进行分析；当手机向后台发送数据时，使用Get方式接收手机发送的三个参数，即加速度X，Y，Z三个轴上的加速度值，调用写文件程序，将数据写入文件并保存、显示。3.根据权利要求2所述的方法，其特征在于，所述步骤具体包括如下步骤：步骤：对三轴加速度数据敏感性分析，筛选对平整度敏感的数据变量；步骤：采用最小二乘法消除趋势项；步骤：去除离散异常点；步骤：过滤非离散异常点；步骤：数据补偿。4.根据权利要求3所述的方法，其特征在于，所述步骤具体为：以X轴方向加速度数据、Y轴方向加速度数据、Z轴方向加速度数据为比较数列，以国际平整度指数IRI为参考数列，按灰色关联度理论的计算过程对各因素对于IRI的关联度进行计算，计算得出，三轴加速度数据对国际平整度指数IRI的影响从大到小依次为Z轴＞Y轴＞X轴。5.根据权利要求4所述的方法，其特征在于，所述步骤具体为：数据采样的频率为100HZ，采样的时间间隔为0.01s，令Δt＝0.01，将加速度信号的采样数据设为{xk}，假设一个多项式的函数，如式所示，然后再求得该函数的各待定系数aj，从而保证函数值与采样数据xk的误差的平方和最小，即当平方和最小时，E取极小值，条件为然后，可以由式得出m+1元的线性方程组通过对方程组的求解，可以分别计算出m+1个线性方程的待定系数aj；当m＝0时，求解偏导方程得出，由该式可得，m＝0时的趋势项是加速度采样数据的算数平均值，所以，数据趋势项的消除公式如式所示，当m＝1时，趋势项为线性的，有求解方程组得出式，数据趋势项的消除公式为m≥2时为曲线趋势项；在智能手机客户端采集时，加速度数据偏离时间基线的趋势项总体上显示为线性的，取m＝1来实现加速度数据多项式趋势项的消除；以Z轴方向加速度数据为输入数据，利用式～式对三轴加速度数据和平整度数据进行去趋势项处理。6.根据权利要求5所述的方法，其特征在于，步骤“去除离散异常点”具体为：利用中值滤波法对加速度数据进行去离散异常点处理。7.根据权利要求6所述的方法，其特征在于，步骤“过滤非离散异常点”具体为：采用离散小波变换来对加速度数据进行降噪，包括如下步骤根据选取的小波基函数，对智能手机采集到的加速度数据做离散小波变换，从而得出信号在处理之后的低频小波系数和高频小波系数；根据选取的软阈值函数，只对高频小波系数进行阈值化处理，对低频小波系数不做处理；对阈值处理以后的小波系数做离散小波逆变换，从而实现对加速度数据的信号重构。8.根据权利要求7所述的方法，其特征在于，所述步骤“数据补偿”具体为：采用最大似然估计法对加速度数据进行补偿。9.根据权利要求8所述的方法，其特征在于，步骤具体包括如下步骤：分别在40km/h、60km/h以及80km/h速度下对路面加速度进行采集，得到不同速度下的隶属度函数模型；车速40km/h修整后的隶属度函数模型为：车速60km/h修整后的隶属度函数模型为：车速80km/h修整后的隶属度函数模型为：不同车速及平整度等级下的μ值统计表如下：
说明书desc
技术领域本发明属于路面平整度检测领域，具体涉及一种基于智能手机的路面平整度测量方法。背景技术目前，道路状况的获取方法是日常巡检与定期检测相结合，这种方法需要消耗大量的人力物力，而且并不能保证道路状况获取的时效性。近些年，道路行业数字化建设需要越来越迫切，随之而来的是数字化测量手段得到越来越广泛的发展。对于车辆驾乘者而言，智能手机中的三轴加速度传感器、陀螺仪、重力传感器等设备可以有效反映乘驾者或车辆在驾驶过程中的运动状态。手机的便携性特征决定了其与车辆运动状态的协调一致性，也为其记录车辆运动状态提供了前提条件。因此，数量庞大的车辆驾乘者，通过随身携带的智能手机，可以作为获取道路状况大数据的重要“工具”。现有技术中，也有采用手机等移动终端采集数据，从而得到平整度的方法，例如专利文献CN2019103698997公开了一种基于智能手机测试路面平整度的方法，改方法利用BP神经网络方法建立不同检测速度情况下加速度数值与IRI的回归预测模型，并根据不同适用情况对模型进行优化。但是上述专利采用BP神经网络和支持向量机方法，这两种方法将采集到的加速度数据和平整度指数对应，为数与数之间一一对应的方法。实际道路检测的平整度指数和桩号对应，实际采集到的加速度数据很难定位到桩号，之前专利中采用时空坐标转换方法解决加速度数据与平整度指数的对应关系，但是处理后的数据还是难保证对应关系的准确性，因此点对点的处理方式也很难保证数据处理结果的可靠性，两种方法体现出一定的预测精度，但是在很多点存在较大误差，预测结果跳跃性很大。发明内容本发明的目的在于提供一种基于智能手机的路面平整度测量方法。实现本发明目的的技术解决方案为：一种基于智能手机的路面平整度测量方法，包括如下步骤：步骤：采集运动过程中的加速度数据；步骤：对步骤获得的加速度数据进行处理；步骤：构建基于模糊理论的隶属度函数模型，隶属度函数模型如下：式中：μ是期望值，当样本含量n足够大时，用样本均数代替μ，x是加速度，A是隶属度；步骤：通过道路测试采集不同速度下的平整度数据，计算每中速度数据的μ，对现行的模型进行修正，得到最终的预测模型。进一步的，所述步骤“采集运动过程中的加速度数据”具体为：智能手机传感器信号采集模块用来采集手机运动过程中各类传感器产生的数据；在手机中编入数据读取程序，记录下车辆运动行为的加速度数据，之后发送到后台进行分析；当手机向后台发送数据时，使用Get方式接收手机发送的三个参数，即加速度X，Y，Z三个轴上的加速度值，调用写文件程序，将数据写入文件并保存、显示。进一步的，所述步骤具体包括如下步骤：步骤：对三轴加速度数据敏感性分析，筛选对平整度敏感的数据变量；步骤：采用最小二乘法消除趋势项；步骤：去除离散异常点；步骤：过滤非离散异常点；步骤：数据补偿。进一步的，所述步骤具体为：以X轴方向加速度数据、Y轴方向加速度数据、Z轴方向加速度数据为比较数列，以国际平整度指数IRI为参考数列，按灰色关联度理论的计算过程对各因素对于IRI的关联度进行计算，计算得出，三轴加速度数据对国际平整度指数IRI的影响从大到小依次为Z轴＞Y轴＞X轴。进一步的，所述步骤具体为：数据采样的频率为100HZ，采样的时间间隔为0.01s，令Δt＝0.01，将加速度信号的采样数据设为{xk}，假设一个多项式的函数，如式所示，然后再求得该函数的各待定系数aj，从而保证函数值与采样数据xk的误差的平方和最小，即当平方和最小时，E取极小值，条件为然后，可以由式得出m+1元的线性方程组通过对方程组的求解，可以分别计算出m+1个线性方程的待定系数aj；当m＝0时，求解偏导方程得出，由该式可得，m＝0时的趋势项是加速度采样数据的算数平均值，所以，数据趋势项的消除公式如式所示，当m＝1时，趋势项为线性的，有求解方程组得出式，数据趋势项的消除公式为m≥2时为曲线趋势项；在智能手机客户端采集时，加速度数据偏离时间基线的趋势项总体上显示为线性的，取m＝1来实现加速度数据多项式趋势项的消除；以Z轴方向加速度数据为输入数据，利用式～式对三轴加速度数据和平整度数据进行去趋势项处理。进一步的，步骤“去除离散异常点”具体为：利用中值滤波法对加速度数据进行去离散异常点处理。进一步的，步骤“过滤非离散异常点”具体为：采用离散小波变换来对加速度数据进行降噪，包括如下步骤根据选取的小波基函数，对智能手机采集到的加速度数据做离散小波变换，从而得出信号在处理之后的低频小波系数和高频小波系数；根据选取的软阈值函数，只对高频小波系数进行阈值化处理，对低频小波系数不做处理；对阈值处理以后的小波系数做离散小波逆变换，从而实现对加速度数据的信号重构。进一步的，所述步骤“数据补偿”具体为：采用最大似然估计法对加速度数据进行补偿。进一步的，步骤具体包括如下步骤：分别在40km/h、60km/h以及80km/h速度下对路面加速度进行采集，得到不同速度下的隶属度函数模型；车速40km/h修整后的隶属度函数模型为：车速60km/h修整后的隶属度函数模型为：车速80km/h修整后的隶属度函数模型为：不同车速及平整度等级下的μ值统计表如下：本发明与现有技术相比，其显著优点在于：目前利用智能手机采集的加速度数据没有明确的界限，相应检测点加速度数据和平整度指数难以对应，增大了数据处理误差。隶属度函数基于模糊聚类原理与加速度数据特征分析得到的该组数据特征值进行分类，采用检测路段加速度数据和该路段平整度状况评价结果“优良中次差“直接对应的方法，解决了加速度数据检测点和原始道路检测点平整度指数难以对应的问题，一定程度上提升了预测模型精度。附图说明图1为本发明的三轴加速度灰色关联度计算结果图。图2为本发明的加速度去趋势项结果示意图；其中图为趋势项消除前，图为趋势项消除后。图3为本发明的离散异常点去除结果示意图。图4为本发明的加速度数值数据补偿结果示意图；其中图为缺失数据，图为补偿数据。图5为车速40km/h修整后的隶属度函数模型。图6为车速60km/h修整后的隶属度函数模型。图7为车速80km/h修整后的隶属度函数模型。具体实施方式下面结合附图对本发明作进一步详细描述。一种基于智能手机的路面平整度测量方法，包括如下步骤：步骤加速度数据采集智能手机传感器信号采集模块用来采集手机运动的过程中各类传感器产生的数据。在手机中编入数据读取程序，记录下车辆运动行为的加速度数据，之后发送到后台进行分析。当手机向后台发送数据时，使用Get方式接收手机发送的三个参数，即加速度X，Y，Z三个轴上的加速度值，调用写文件程序，将数据写入文件并保存、显示。步骤加速度数据处理步骤三轴加速度数据敏感性分析在路面加速度数据测试过程中，同时采集X、Y、Z三个方向加速度数据，若将三组数据同时作为模型输入对平整度进行评价，模型变量过多，很难保证评价模型的计算精度和计算速度。因此，在平整度评价模型建立之前，对三轴加速度数据敏感性分析，筛选对平整度敏感的数据变量，可以提高模型运算效率和模型稳定性。以X轴方向加速度数据、Y轴方向加速度数据、Z轴方向加速度数据为比较数列，以国际平整度指数IRI为参考数列，按灰色关联度理论的计算过程对各因素对于IRI的关联度进行计算，计算结果如图1所示。由图1灰色关联度计算结果可以看出，三轴加速度数据对国际平整度指数IRI的影响从大到小依次为Z轴＞Y轴＞X轴。步骤最小二乘法去趋势项在智能手机采集加速度数据时，由于手机三轴加速度传感器频率范围外的低频性能不稳定，并且温度等周围环境条件会随着时间变化，这往往使得加速度信号偏离基线、产生零点漂移，而且偏离基线的程度也存在时变性。数据随着时间的变化而偏移基线的过程称作数据的趋势项。趋势项的存在对信号采集精度的影响很大，采用最小二乘法消除。因为数据采样的频率为100HZ,采样的时间间隔为0.01s，令Δt＝0.01，将加速度信号的采样数据设为{xk}，假设一个多项式的函数，如式所示，然后再求得该函数的各待定系数aj，从而保证函数值与采样数据xk的误差的平方和最小，即当平方和最小时，E取极小值，条件为然后，可以由式得出m+1元的线性方程组通过对方程组的求解，可以分别计算出m+1个线性方程的待定系数aj。当m＝0时，求解偏导方程得出，由该式可得，m＝0时的趋势项是加速度采样数据的算数平均值。所以，数据趋势项的消除公式如式所示，当m＝1时，趋势项为线性的，有求解方程组得出式，数据趋势项的消除公式为m≥2时为曲线趋势项。在实际加速度信号数据处理中，通常取m＝1～3来对采样数据进行多项式趋势项消除的处理。因为在智能手机客户端采集时，加速度数据偏离时间基线的趋势项总体上显示为线性的，所以本文取m＝1来实现加速度数据多项式趋势项的消除。以Z轴方向加速度数据为输入数据，利用式～式对三轴加速度数据和平整度数据进行去趋势项处理，处理结果如图2所示，由图2可以看出经过去趋势项处理后的加速度数据不再偏离基线，而是围绕着时间轴产生正负值的上下浮动，有效消除了数据零点漂移的状况。同时，去除了由于手机传感器低频性能不稳定、温度变化引起的偏离基线程度的时变性。步骤离散异常点去除利用中值滤波法对三轴加速度数据进行处理，该方法能够识别和剔除检测数据中的离群点，可对检测数据中的奇异点进行过渡平均，去除或削弱异常点的奇异性，进而建立异常点与其他检测数据的数学关系，可以实现检测数据的格式标准化，解决检测数据的不一致性，为后文平整度评价奠定基础。图3与图2去趋势项后的数据进行对比，可以看出中值滤波是能较好控制异常点的基于排序统计的非线性处置方式。步骤非离散异常点过滤通过中值滤波处理，可以得到更加真实的车辆行驶加速度数据，但是去除的只是明显的分散的数据点，仍然存在异常数据和离群点，这些点混杂在正常数据中。因此，利用小波变换对检测数据进行滤波处理，滤除加速度信号中的隐含噪声，例如由于路面行驶的车辆振动引起的共振。采用离散小波变换来对加速度数据进行降噪，噪声和真实信号在经过小波变换之后所呈现的特性是不一样的。真实信号的能量相对集中，经过小波变换之后，得到的小波系数往往偏大；而噪声的能量则相对要分散很多，在经过小波变换之后，得到的小波系数往往偏小。选取的小波基函数和阈值函数，对变换后得到的小波系数进行阈值化处理，从而实现加速度数据降噪的效果。在降噪处理中，选择Daubechies小波函数。Daubechies小波函数没有固定的时域表达式，通常用小波函数Ψ和尺度函数来表示。一般将该小波系简写成dbN小波，dbN小波的正交性较好，其小波函数的消失矩阶数是N。dbN小波的特点是消失矩增大以后光滑性会变好，但是却会使得加速度数据降噪的计算量增加很多；选取软阈值函数，经过软阈值函数的作用，小波系数在小波域中平滑很多。小波阈值降噪的过程分为3步：①根据选取的小波基函数，对智能手机采集到的加速度数据做离散小波变换，从而得出信号在处理之后的低频小波系数和高频小波系数；②根据选取的软阈值函数，只对高频小波系数进行阈值化处理，对低频小波系数不做处理；③对阈值处理以后的小波系数做离散小波逆变换，从而实现对加速度数据的信号重构。步骤数据补偿由于手机数据采集软件数据传输网络的多变性，最终收集到的数据很可能发生一定程度的缺失。数据如果不完整，会影响到数据分析算法的执行，甚至会导致数据分析算法产生完全错误的结果。并且部分数据分析算法对于不完整的数据无法执行。最大似然法是统计学中通过样本估计未知参数的常用方法。最大似然的原理和思想是，在目前得到的观测结果的前提下，尽可能地让参数估计的值可以使模型出现样本中观测值的几率更大。根据总体分布是离散分布还是连续分布，可以将最大似然法分为两种情况来讨论。当X是离散型随机变量的时候，X的概率分布函数可以表示为：P{x＝x}＝P那么样本X1，X2，Λ，Xn的概率分布函数就表示为：当θ1，θ2，Λ，θk已知的时候，此式表示X1，X2，Λ，Xn出现x1，x2，Λ，xn观测值的概率。当x1，x2，Λ，xn为固定值的时候，它便是θ1，θ2，Λ，θk的函数，也就是似然函数，记为L。因此离散型随机变量的似然函数可表示为：此似然函数便是样本X1，X2，Λ，Xn出现样本值x1，x2，Λ，xn的概率。得到样本值后，似然函数应取得最大值。当似然函数取得最大值时，θ的取值作为它的估计值。通过求解似然方程组，得出参数的估计值。某些情况下，方程组不止存在一个解，需要在极值中判断哪一个是最值。加速度数据总体分布为离散分布，因此，利用最大似然法中的离散分布计算参数估计值。最大似然法利用概率分布的原理，以原始数据为样本利用参数估计值的大小选取补偿数据，能够保证补充的数据在样本数据分布范围内，具有一定的科学性。根据智能手机采集加速度数据应用要求，结合加速度数据随机性的特点，随机选取数据样本模型，采用最大似然估计法对加速度数据进行补偿，结果如图4。步骤基于模糊理论的隶属度函数模型构建分测试不同平整度条件下的加速度数据，针对不同道路，对测得的加速度数据进行聚类分析，找到该路段平整度条件下对应的异常加速度值，以该值为期望值μ对加速度数据进行正态分布曲线拟合，最终确定正态分布函数。本研究选取平整度等级为优中差的道路进行测试。正态分布中当μ、σ未知且样本含量n足够大时，可用样本均数X1和标准差S分别代替μ和σ。指定函数：基于加速度数据大样本量的特性，取均数代替μ。在三轴加速度数据中，由于X轴和Y轴加速度数据对IRI的敏感性较低，因此本研究取Z轴加速度数据作为模型输入。为了区分不同测试速度对加速度数值的影响，分别在40km/h、60km/h以及80km/h速度下对路面加速度进行采集。本研究中通过道路测试采集平整度数据，计算每组数据的μ，对现行的模型不断的进行修正，得到最终的预测模型。车速40km/h修整后的隶属度函数模型如图5所示，车速60km/h修整后的隶属度函数模型如图6所示，车速80km/h修整后的隶属度函数模型如图7所示。不同车速及平整度等级下的μ值统计表可以看出平整度等级越低μ值越大，即加速度值分布在较大区域所占比重增加。由于实际道路条件测量，μ值不为0，但其接近于0，符合预测的基本规律。在模型建立的基础上对模型验证，实际平整度等级分为优、良、中、次、差五个等级，但是本课题中取优、中、差三个等级进行测试，因此将等级良并入中，等级次并如差。取若干条道路采集加速度数据，分析加速度数据，得到μ值，根据已建立的预测模型预测测试道路等级，判断与实际结果是否吻合。验证过程中选取20条等级不同的道路进行验证，验证结果正确率为85％。结果表明模型预测精度较高，能够较准确的反映加速度数值与平整度的关系。
