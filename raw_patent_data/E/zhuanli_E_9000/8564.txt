标题title
一种矿井水害淹没分析和实时动态逃生路线优化方法
摘要abst
本申请涉及导航技术领域，特别涉及一种矿井水害淹没分析和实时动态逃生路线优化方法，该方法包括：根据突水类型，确定所述矿井水害的突水量；根据矿井中巷道的坡度、巷道类型、局部障碍物和风速风向，确定巷道当量长度；根据所述矿井水害的突水量，确定矿井中当前时间段内各巷道的水位高度；根据所述矿井中当前时间段内各巷道的水位高度以及所述巷道当量长度，更新当前时间段内各巷道的通行时间；以当前时间段内各巷道的所述通行时间作为权重，基于迪杰斯特拉算法，确定当前时间段内矿井水害的最佳逃生路线，从而能够实时规划最优逃生路线，使得井下人员能够以最快的速度逃生到安全地点。
权利要求书clms
1.一种矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，包括：根据突水类型，确定矿井水害的突水量；根据矿井中巷道的坡度、巷道类型、局部障碍物和风速风向，确定巷道当量长度；根据所述矿井水害的突水量，确定矿井中当前时间段内各巷道的水位高度；根据所述矿井中当前时间段内各巷道的水位高度以及所述巷道当量长度，更新当前时间段内各巷道的通行时间；以当前时间段内各巷道的通行时间作为权重，基于迪杰斯特拉算法，确定当前时间段内矿井水害的最佳逃生路线。2.根据权利要求1所述的矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，所述根据矿井中巷道的坡度、巷道类型、局部障碍物和风速风向，确定巷道当量长度，具体为：按照公式：确定所述巷道当量长度；式中，lij表示从巷道的第i节点到第j节点的巷道当量长度；表示从巷道的第i节点到第j节点的第k个巷道影响因素的取值，其中，所述巷道影响因素包括巷道的坡度、巷道类型、局部障碍物和风速风向，n表示所述巷道影响因素的个数；Wij表示从巷道的第i节点到第j节点的实际长度。3.根据权利要求1所述的矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，所述根据所述矿井水害的突水量，确定矿井中当前时间段内各巷道的水位高度，具体为：根据矿井水害的突水点位置，构建淹没路径树；根据所述矿井水害的突水量，基于所述淹没路径树，确定矿井中当前时间段内各巷道的水位高度。4.根据权利要求3所述的矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，根据矿井水害的突水点位置，构建淹没路径树，具体为：根据所述矿井水害的突水量，计算水流流出的距离；将所述矿井水害的突水点位置所在的巷道作为所述淹没路径树的根节点；遍历与第一巷道连接的多个第二巷道；其中，所述第一巷道为所述淹没路径树的任一节点；若所述第二巷道已存在父节点，根据所述第二巷道的父节点信息更新所述淹没路径树；否则，基于所述第一巷道的类型更新所述淹没路径树；以所述第二巷道为新的第一巷道，重新执行遍历与第一巷道连接的多个第二巷道及其之后的步骤，直到超出所述水流流出的距离，以完成所述淹没路径树的构建。5.根据权利要求4所述的矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，所述根据所述第二巷道的父节点信息更新所述淹没路径树，具体为：若所述第二巷道的父节点巷道的路径入水高度小于所述第一巷道的路径入水高度，将所述第二巷道作为所述第一巷道的子节点加入所述淹没路径树。6.根据权利要求4所述的矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，所述基于所述第一巷道的类型更新所述淹没路径树，具体为：若所述第一巷道的类型为上行巷道，判断所述第一巷道的路径入水高度是否小于所述第一巷道的路径沿途凸点高度，若是，递归遍历与所述第一巷道的两个端点中高度较小的一端相连的第三巷道，并更新所遍历的所有巷道的路径信息和父节点信息。7.根据权利要求6所述的矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，所述根据所述矿井水害的突水量，基于所述淹没路径树，确定矿井中当前时间段内各巷道的水位高度，具体为：基于所述淹没路径树，确定所有巷道的最小入水高度；以所述所有巷道的最小入水高度为初始淹没水位，按照预设的水位步长，计算各水位步长对应的各巷道的水位高度和淹没总水量；响应于所述淹没总水量与所述矿井水害的突水量的差值小于预设的水量阈值，以当前水位步长对应的各巷道的水位高度作为矿井中当前时间段内各巷道的水位高度。8.根据权利要求1所述的矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，根据所述矿井中当前时间段内各巷道的水位高度以及所述巷道当量长度，更新当前时间段内各巷道的通行时间，具体为：根据所述矿井中当前时间段内各巷道的水位高度，基于预设的阻滞型水中逃生速度曲线模型，确定当前时间段内各巷道的平均逃生速度；根据所述当前时间段内各巷道的平均逃生速度与所述巷道当量长度，更新当前时间段内各巷道的通行时间。9.根据权利要求8所述的矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，所述阻滞型水中逃生速度曲线模型为：式中，V2为所述当前时间段内各巷道的平均逃生速度，h表示所述矿井中当前时间段内各巷道的水位高度，V0表示预设的初始逃生速度，r0表示预设的初始体力衰减率，h*表示预设的人体身高的0.9倍，δ表示当前时间段内各巷道的平均逃生速度的误差量，λ表示当前时间段内各巷道的平均逃生速度的误差调整因子。10.根据权利要求1所述的矿井水害淹没分析和实时动态逃生路线优化方法，其特征在于，所述方法还包括：对矿井水害进行动态模拟，以对实时动态逃生路线进行可视化。
说明书desc
技术领域本申请涉及导航技术领域，特别涉及一种矿井水害淹没分析和实时动态逃生路线优化方法。背景技术矿井水害对矿井的安全生产有着巨大威胁，不仅易使井下设备毁坏阻碍矿山正常生产，甚至淹井直接造成矿区报废，而且对工作人员生命安全造成极大威胁。矿井突水具有水量大、水势猛以及突发性等特点，因此，一旦发生矿井突水，需要矿井作业人员需要以最快的速度，在灾害初期撤离到安全区域，以减少作业人员的伤亡。为了使矿井作业人员能够以最快速度撤离，需要为矿井作业人员提供逃生的路线。相关技术中，通过突水点及其相关信息获取，基于巷道静态参数计算逃生路径，但是，由于发生突水时井下环境特殊，巷道错综复杂，各个突水时间淹没情况不同等各方面影响因素，基于巷道静态参数规划的逃生路径无法动态反映出不同突水时间段巷道内的最佳通行状况，实用性不强。另一些相关技术中，通过在巷道不同位置布置物联通网设备以获取不同突水时间段的水位，在此基础上确定不同突水时间段的逃生路径。然而，在矿井突水过程中，巷道内恶劣的环境常常导致物联通网设备无法正常获取数据，进而导致无法根据各个突水时间淹没情况动态、实时地确定最佳逃生路线。因此，需要提供一种针对上述现有技术不足的改进技术方案。发明内容本申请的目的在于提供一种矿井水害淹没分析和实时动态逃生路线优化方法，以解决或缓解上述现有技术中存在的问题。为了实现上述目的，本申请提供如下技术方案：本申请提供了一种矿井水害淹没分析和实时动态逃生路线优化方法，包括：根据突水类型，确定所述矿井水害的突水量；根据矿井中巷道的坡度、巷道类型、局部障碍物和风速风向，确定巷道当量长度；根据所述矿井水害的突水量，确定矿井中当前时间段内各巷道的水位高度；根据所述矿井中当前时间段内各巷道的水位高度以及所述巷道当量长度，更新当前时间段内各巷道的通行时间；以当前时间段内各巷道的所述通行时间作为权重，基于迪杰斯特拉算法，确定当前时间段内矿井水害的最佳逃生路线。优选地，所述根据矿井中巷道的坡度、巷道类型、局部障碍物和风速风向，确定巷道当量长度，具体为：按照公式：确定所述巷道当量长度；式中，lij表示从巷道的第i节点到第j节点的巷道当量长度；表示从巷道的第i节点到第j节点的第k个巷道影响因素的取值，其中，所述巷道影响因素包括巷道的坡度、巷道类型、局部障碍物和风速风向，n表示所述巷道影响因素的个数；Wij表示从巷道的第i节点到第j节点的实际长度。优选地，所述根据所述矿井水害的突水量，确定矿井中当前时间段内各巷道的水位高度，具体为：根据矿井水害的突水点位置，构建淹没路径树；根据所述矿井水害的突水量，基于所述淹没路径树，确定矿井中当前时间段内各巷道的水位高度。优选地，根据所述矿井水害的突水点位置，构建淹没路径树，具体为：根据所述矿井水害的突水量，计算水流流出的距离；将所述矿井水害的突水点位置所在的巷道作为所述淹没路径树的根节点；遍历与第一巷道连接的多个第二巷道；其中，所述第一巷道为所述淹没路径树的任一节点；若所述第二巷道已存在父节点，根据所述第二巷道的父节点信息更新所述淹没路径树；否则，基于所述第一巷道的类型更新所述淹没路径树；以所述第二巷道为新的第一巷道，重新执行遍历与第一巷道连接的多个第二巷道及其之后的步骤，直到超出所述水流流出的距离，以完成所述淹没路径树的构建。优选地，所述根据所述第二巷道的父节点信息更新所述淹没路径树，具体为：若所述第二巷道的父节点巷道的路径入水高度小于所述第一巷道的路径入水高度，将所述第二巷道作为所述第一巷道的子节点加入所述淹没路径树。优选地，所述基于所述第一巷道的类型更新所述淹没路径树，具体为：若所述第一巷道的类型为上行巷道，判断所述第一巷道的路径入水高度是否小于所述第一巷道的路径沿途凸点高度，若是，递归遍历与所述第一巷道的两个端点中高度较小的一端相连的第三巷道，并更新所遍历的所有巷道的路径信息和父节点信息。优选地，所述根据所述矿井水害的突水量，基于所述淹没路径树，确定矿井中当前时间段内各巷道的水位高度，具体为：基于所述淹没路径树，确定所有巷道的最小入水高度；以所述最小入水高度为初始淹没水位，按照预设的水位步长，计算各水位步长对应的各巷道的水位高度和淹没总水量；响应于所述淹没总水量与所述矿井水害的突水量的差值小于预设的水量阈值，以当前水位步长对应的各巷道的水位高度作为矿井中当前时间段内各巷道的水位高度。优选地，根据所述矿井中当前时间段内各巷道的水位高度以及所述巷道当量长度，更新当前时间段内各巷道的通行时间，具体为：根据所述矿井中当前时间段内各巷道的水位高度，基于预设的阻滞型水中逃生速度曲线模型，确定当前时间段内各巷道的平均逃生速度；根据所述平均逃生速度与所述巷道当量长度，更新当前时间段内各巷道的通行时间。优选地，所述阻滞型水中逃生速度曲线模型为：式中，V2为所述当前时间段内各巷道的平均逃生速度，h表示所述矿井中当前时间段内各巷道的水位高度，V0表示预设的初始逃生速度，r0表示预设的初始体力衰减率，h*表示预设的人体身高的0.9倍，δ表示当前时间段内各巷道的平均逃生速度的误差量，λ表示当前时间段内各巷道的平均逃生速度的误差调整因子。优选地，所述方法还包括：对矿井水害进行动态模拟，以对实时动态逃生路线进行可视化。有益效果：本申请中，通过根据突水类型确定矿井水害的突水量，并根据矿井中巷道的坡度、巷道类型、局部障碍物和风速风向，确定巷道当量长度；然后根据突水量，确定矿井中当前时间段内各巷道的水位高度；并根据水位高度以及巷道当量长度，更新当前时间段内各巷道的通行时间；最后以当前时间段内各巷道的通行时间作为权重，基于迪杰斯特拉算法，确定当前时间段内矿井水害的最佳逃生路线。如此，根据矿井水害过程中实时的水位高度和巷道当量长度，更新当前时间段内各巷道的通行时间，并以该通行时间为权重确定最佳逃生路径，从而能够根据各个突水时刻各巷道的淹没情况动态、实时地确定最佳逃生路线，使矿井作业人员能够以最快速度及时撤离，减少了矿井水害造成的人员伤亡。附图说明构成本申请的一部分的说明书附图用来提供对本申请的进一步理解，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。其中：图1为根据本申请的一些实施例提供的矿井水害淹没分析和实时动态逃生路线优化方法的流程示意图；图2为根据本申请的一些实施例提供的矿井水害淹没分析和实时动态逃生路线优化方法的逻辑示意图。具体实施方式下面将参考附图并结合实施例来详细说明本申请。各个示例通过本申请的解释的方式提供而非限制本申请。实际上，本领域的技术人员将清楚，在不脱离本申请的范围或精神的情况下，可在本申请中进行修改和变型。例如，示为或描述为一个实施例的一部分的特征可用于另一个实施例，以产生又一个实施例。因此，所期望的是，本申请包含归入所附权利要求及其等同物的范围内的此类修改和变型。在以下描述中，所涉及的术语“第一/第二/第三”仅仅是区别类似的对象，不代表对对象的特定排序，可以理解地，“第一/第二/第三”在允许的情况下可以互换特定的顺序或先后次序，以使这里描述的本申请实施例能够以除了在这里图示或描述的以外的顺序实施。除另有定义，本文所使用的所有的技术和科学术语与属于本公开的技术领域的技术人员通常理解的含义相同。本文中所使用的术语只是为了描述本公开实施例的目的，不是旨在限制本公开。由于井下巷道环境错综复杂，在发生矿井水害时，各个方面的影响因素导致不同突水时间段内各巷道的淹没情况不同，各巷道的淹没情况不同导致巷道的环境发生改变，在避灾过程中，环境的改变导致常规的避灾路径规划方法所设计原有避灾路径不能正常通行，或者不再是最优路线的情况。如背景技术所述，井下情况复杂，当发生矿井水灾时，对井下具体情况很难实时掌握，也就无法获取水灾发生时各个时间点矿井下的水流情况，如何实时获取水灾发生时各个时间点巷道内的水流情况，并根据所述水流情况快速确定逃生路径，是本领域面临的难点之一。为此，本申请提供一种矿井水害淹没分析和实时动态逃生路线优化方法，该方法在矿井发生水害时，通过对矿井水害淹没进行分析，并对井下巷道内的水流情况进行模拟，使指挥人员能够直观看到各个时间段内矿井水害的水流变化，并以模拟得到的水流情况作为参数动态设计逃生路径，以解决目前由于井下各因素导致的不明井下情况且因不同时刻的突水状况不同而无法实时规划最优逃生路线，作业人员无法以最快的速度，最优的方案逃生到安全地点的问题。本申请实施例提供一种矿井水害淹没分析和实时动态逃生路线优化方法，图1为根据本申请的一些实施例提供的矿井水害淹没分析和实时动态逃生路线优化方法的流程示意图，如图1、图2所示，该方法包括：步骤S101、根据突水类型，确定矿井水害的突水量。本申请实施例中，突水类型指的是造成矿井水害的不同情形，包括顶板水突水、底板水突水、老空水突水。需要说明的是，突水类型不同，矿井水害的突水量也不同，进而导致各个水害时间段的巷道淹没状态也不同。实际应用中，可以预先根据先验知识获取各个突水类型的突水量经验值，然后根据实际要模拟的突水类型，以该突水类型对应的突水量经验值作为矿井水害的突水量。步骤S102、根据矿井中巷道的坡度、巷道类型、局部障碍物、局部风速和局部风向，确定巷道当量长度。本申请实施例中，巷道当量长度用于表征矿井人员逃生过程中逃生路径的长度，也就是矿井人员所走的路程。根据矿井中巷道的坡度、巷道类型、局部障碍物、局部风速和局部风向，确定巷道当量长度，充分考虑了上述矿井中巷道的坡度、巷道类型、局部障碍物、局部风速和局部风向等因素对矿井人员在该巷道行进速度的影响，消除了巷道之间差异导致的计算误差。在一些实施中，根据矿井中巷道的坡度、巷道类型、局部障碍物和风速风向，确定巷道当量长度，具体为：按照公式：确定巷道当量长度；式中，lij表示从巷道第i节点到第j节点的巷道当量长度；表示从巷道第i节点到第j节点的第k个巷道影响因素的取值，其中，巷道影响因素包括巷道的坡度、巷道类型、局部障碍物和风速风向，n表示巷道影响因素的个数；Wij表示从巷道第i节点到第j节点的实际长度。步骤S103、根据突水量，确定矿井中当前时间段内各巷道的水位高度。应当理解，对于特定的巷道，其截面面积以及其与其他巷道的连通信息是固定不变的，那么，根据突水量、巷道的长度以及巷道的宽度，即可计算出水害发生后水位在该巷道的上涨速度。其中，水位上涨速度的计算公式如下：式中，v表示水位上涨速度，Q表示突水量，l表示巷道长度，d表示巷道宽度。然后，基于水害发生的时间与当前时间段内之间的差值，计算当前时间段内各巷道的水位高度。可以理解，水害发生后，随着时间不同，巷道的水位高度也不同，导致逃生路线也会实时发生变化。考虑到巷道之间的连通信息对水害发生时巷道内水流分布的影响，在一些实施例中，根据矿井水害的突水量，确定矿井中当前时间段内各巷道的水位高度，具体为：根据矿井水害的突水点位置，构建淹没路径树；根据矿井水害的突水量，基于淹没路径树，确定矿井中当前时间段内各巷道的水位高度。本申请实施中，淹没路径树通过矿井水害淹没分析算法构建，该算法用于计算在当前突水量的情况下水流到达各巷道的先后顺序，以生成以巷道为节点的淹没路径树，然后基于淹没路径树所记录的水流到达各巷道的先后顺序，确定矿井中当前时间段内各巷道的水位高度。其中，淹没路径树的构建步骤具体为：根据矿井水害的突水量，计算水流流出的距离；将矿井水害的突水点位置所在的巷道作为淹没路径树的根节点；遍历与第一巷道连接的多个第二巷道；其中，第一巷道为淹没路径树的任一节点；若第二巷道已存在父节点，根据第二巷道的父节点信息更新淹没路径树；否则，基于第一巷道的类型更新淹没路径树；以第二巷道为新的第一巷道，重新执行遍历与第一巷道连接的多个第二巷道及其之后的步骤，直到超出水流流出的距离，以完成淹没路径树的构建。本申请实施例中，水流流出的距离表示当前突水量情况下水流所能达到的最远距离，用于限制矿井水害淹没分析算法的搜索范围，也就说是，对于水流流出的距离之外的巷道，在构建淹没路径树时将不会加入淹没路径树成为其节点。实际应用中，水流流出的距离可以根据矿井水害的突水量确定，也可以通过矿井水害的突水量、水流流速和时间计算得到。本申请实施例中，在构建淹没路径树之前，还包括：建立巷道的空间拓扑关系，并将该空间拓扑关系存储在PostgreSQL中。其中，巷道的空间拓扑关系用于描述巷道的端点之间及弧段之间的连接关系。本申请实施例中，将矿井水害的突水点位置所在的巷道作为淹没路径树的根节点。其中，矿井水害的突水点位置用坐标来表示，该坐标可以通过巷道的矢量地图获取，也可以通过测量装置测量得到。其中，x，y分别为突水点的横坐标和纵坐标。在构建淹没路径树时，首先根据突水点坐标以及巷道的空间拓扑关系，利用PostgreSQL提供的空间查询功能，查询距离突水点最近的巷道，找到起点巷道，作为淹没路径树的根节点。当淹没路径树至少存在根节点之后，即可通过从遍历与第一巷道连接的多个第二巷道开始构建淹没路径树。其中，第一巷道为淹没路径树的任一节点。遍历开始时，淹没路径树只有根节点，则第一巷道为根节点巷道。利用PostgreSQL提供的空间查询功能，根据巷道的空间拓扑关系确定与第一巷道相连的多个第二巷道。遍历每一个第二巷道，确定其在淹没路径树中是否已存在父节点，若是，说明该第二巷道已加入淹没路径树，即该第二巷道为重复巷道，此时，根据第二巷道的父节点信息更新淹没路径树。可以理解，淹没路径树中，从根节点巷道到每一中间节点/叶子节点巷道所经过的节点序列称为该中间节点/叶子节点巷道的入水路径。重复巷道是由于巷道中可能存在相连的闭合路段，导致一次遍历得到某些巷道的淹没路径并不是它们真正的入水路径，因此，需要对重复巷道进行特别处理，也即，当第二巷道为重复巷道时，需要根据第二巷道的父节点信息更新淹没路径树。在一些实施例中，当第二巷道为重复巷道时，根据第二巷道的父节点信息更新淹没路径树，具体为：若第二巷道的父节点巷道的路径入水高度小于第一巷道的路径入水高度，将第二巷道作为第一巷道的子节点加入淹没路径树。需要说明的是，巷道在地图上用线对象表示，每一条巷道为由两个端点确定的一条弧段。本申请实施例中，为了便于说明，定义巷道两个端点中高度较高的一端为入水点，入水点的高度简称入水高度；高度较低的一端为出水点，出水点的高度简称出水高度。如前所述，从根节点巷道到每一中间节点/叶子节点巷道所经过的节点序列称为中间节点/叶子节点巷道的入水路径，那么，巷道的路径入水高度为该巷道的父节点巷道的入水高度。应当理解，当巷道突水时，水在相连的巷道中从高处向低处流动，在一定时间后达到平衡状态。假设巷道A与巷道B相连，若水从巷道A流入巷道B，那么，它们连接处的端点既是巷道A的出水点，也是巷道B的入水点。本申请实施例中，当第二巷道的父节点巷道的路径入水高度小于第一巷道的路径入水高度时，说明第二巷道在当前淹没路径树中的入水路径不是第二巷道的真正入水路径，也即，当巷道突水，水并不会从第二巷道的父节点注入第二巷道，此时，需要改变第二巷道在淹没路径树中的位置，即将第二巷道作为第一巷道的子节点加入到淹没路径树中，使第一巷道成为第二巷道新的父节点。在第一巷道成为第二巷道新的父节点后，应同时更新第二巷道的入水路径和父节点信息，使其父节点指向第一巷道。若第二巷道的父节点巷道的路径入水高度大于等于第一巷道的路径入水高度，则无需改变第二巷道在淹没路径树中的位置。若第二巷道在淹没路径树中并不存在父节点，说明第二巷道未加入淹没路径树，此时，需要基于第一巷道的类型更新淹没路径树。具体实施时，基于第一巷道的类型更新淹没路径树具体为：若第一巷道的类型为上行巷道，判断第一巷道的路径入水高度是否小于第一巷道的路径沿途凸点高度，若是，递归遍历与第一巷道的两个端点中高度较小的一端相连的第三巷道，并更新所遍历的所有巷道的路径信息和父节点信息。需要说明的是，巷道的类型包括上行巷道和下行巷道。其中，当巷道的入水高度大于巷道的出水高度，则该巷道为下行巷道，反之，当巷道的入水高度小于巷道的出水高度，则该巷道为上行巷道。本申请实施例中，当第一巷道的类型为上行巷道时，也就是第一巷道的入水高度小于第一巷道的出水高度时，判断第一巷道的路径入水高度是否小于第一巷道的路径沿途凸点高度，若是，递归遍历与第一巷道的两个端点中高度较小的一端相连的第三巷道，并更新所遍历的所有巷道的路径信息和父节点信息。为了便于理解，对凸点高度进行解释说明如下：凸点高度指的是上行巷道的出水高度，巷道突水过程中，当淹没水位未达到凸点高度时，水将在与该第一巷道出水点一端相连的所有巷道内流动填充，直到淹没水位达到凸点高度。此时，需要进行反向查询，即递归遍历与第一巷道出水点相连的第三巷道，将第三巷道加入淹没路径树，并更新所遍历的所有第三巷道的路径信息和父节点信息。当淹没水位达到凸点高度时，水流会从上行巷道的凸点处流出，开始淹没与该上行巷道出水点一端相连的巷道，直到达到水位平衡。若第一巷道的类型为上行巷道且第一巷道的路径入水高度大于第一巷道的路径沿途凸点高度，转到遍历与第一巷道连接的多个第二巷道的步骤。本申请实施例中，当第一巷道的类型为下行巷道时，也就是第一巷道的入水高度大于第一巷道的出水高度时，利用PostgreSQL提供的空间查询功能，根据巷道的空间拓扑关系确定与第一巷道出水点相连的第四巷道，将第四巷道作为第一巷道的子节点加入淹没路径树，并更新入水路径和当前水流距离。在更新淹没路径树之后，以第二巷道为新的第一巷道，查询与新的第一巷道相连的第二巷道，并重新执行遍历与第一巷道连接的多个第二巷道及其之后的步骤，直到超出水流流出的距离，从而完成淹没路径树的构建。在完成淹没路径树的构建之后，可以基于淹没路径树进行矿井水害淹没分析，矿井水害淹没分析指的是在巷道突水时，根据矿井水害的突水量，基于淹没路径树，确定矿井中当前时间段内各巷道的水位高度。根据矿井水害的突水量，基于淹没路径树，确定矿井中当前时间段内各巷道的水位高度具体包括如下步骤：基于淹没路径树，确定所有巷道的最小入水高度；以最小入水高度为初始淹没水位，按照预设的水位步长，计算各水位步长对应的各巷道的水位高度和淹没总水量；响应于总水量与矿井水害的突水量的差值小于预设的水量阈值，以当前水位步长对应的各巷道的水位高度作为矿井中当前时间段内各巷道的水位高度。为了得到当前时间段内各巷道的水位高度，首先需要确定初始淹没水位。本申请实施例中，通过遍历整个淹没路径树，确定所有巷道中最小入水高度h0，作为初始淹没水位，然后，以最小入水高度所在的巷道为淹没起点，利用PostgreSQL提供的空间查询功能，查询与该最小入水高度所在的巷道相连巷道的出水高度；随后，按照预设的水位步长，逐个水位步长模拟巷道的淹没情况，并根据巷道的淹没情况计算各水位步长对应的各巷道的水位高度和淹没总水量S。其中，各巷道的总水量S为各巷道水量之和，计算公式如下：式中，S表示各巷道的总水量，N表示巷道数，li表示第i个巷道的实际长度，hi表示第i个巷道的水位高度。最后，将模拟得到的总水量与矿井水害的突水量进行比对，若总水量与矿井水害的突水量的差值小于预设的水量阈值，说明在误差范围内，则结束运算返回分析结果；否则，按照预设的误差比例调整水位高度，即以当前水位高度加上或减去误差比例的步长值，并按照调整后的水位高度继续模拟巷道的淹没情况，直到总水量与矿井水害的突水量的差值小于预设的水量阈值。其中，用于调整水位高度的误差比例可以通过计算总水量与矿井水害的突水量差值的绝对值与突水量的比例得到。分析结果至少包括：被淹没的巷道、各巷道被淹没的水位高度、总水量。本申请实施例中，以当前水位步长对应的各巷道的水位高度作为矿井中当前时间段内各巷道的水位高度。通过矿井水害分析算法实时更新当前时间段内各巷道的水位高度，不仅能够动态模拟出巷道突水后各时刻水位上涨的过程，而且为后续动态计算逃生路线提供了基础。步骤S104、根据矿井中当前时间段内各巷道的水位高度以及巷道当量长度，更新当前时间段内各巷道的通行时间。可以理解，巷道突水后，当水位不断上涨，巷道内的环境也随之改变，使得原设计的逃生路线可能无法通行，或者不再是最佳逃生路线。本申请实施例中，通过根据矿井中当前时间段内各巷道的水位高度以及巷道当量长度，更新当前时间段内各巷道的通行时间，使得在确定最佳逃生路线时能够充分考虑各个突水时刻各巷道的淹没情况，动态地确定撤离路线，减少矿井水害造成的人员伤亡。实际应用中，根据矿井中当前时间段内各巷道的水位高度以及巷道当量长度，更新当前时间段内各巷道的通行时间，具体为：根据矿井中当前时间段内各巷道的水位高度，基于预设的阻滞型水中逃生速度曲线模型，确定当前时间段内各巷道的平均逃生速度；根据平均逃生速度与巷道当量长度，更新当前时间段内各巷道的通行时间。考虑到矿井中当前时间段内各巷道的水位高度导致巷道内环境发生变化，为了动态描述各巷道不同时间段内的通行时间，本申请实施例中，基于预设的阻滞型水中逃生速度曲线模型，确定当前时间段内各巷道的平均逃生速度，以此作为确定最佳逃生路线的时间当量长度。其中，阻滞型水中逃生速度曲线模型为：式中，V2为当前时间段内各巷道的平均逃生速度，h表示矿井中当前时间段内各巷道的水位高度，V0表示预设的初始逃生速度，r0表示预设的初始体力衰减率，h*表示预设的人体身高的0.9倍，δ表示当前时间段内各巷道的平均逃生速度的误差量，λ表示当前时间段内各巷道的平均逃生速度的误差调整因子。本申请实施例中，为了在发生水害时能以最快速度撤离，最佳逃生路线定义为从井下人员所在位置到逃生出口用时最短的路线，为了查找用时最短的路线，需要根据平均逃生速度与巷道当量长度，更新当前时间段内各巷道的通行时间。其中，按照公式：计算当前时间段内各巷道的通行时间。式中，V2为当前时间段内各巷道的平均逃生速度，lij表示从巷道第i节点到第j节点的巷道当量长度，aij为各巷道的安全系数。步骤S105、以当前时间段内各巷道的通行时间作为权重，基于迪杰斯特拉算法，确定当前时间段内矿井水害的最佳逃生路线。应当理解，在确定当前时间段内矿井水害的最佳逃生路线之前，需要进行相应的数据准备工作，具体步骤如下：步骤501、制作巷道的节点-距离网图。包括：1）获取巷道平面图和三维模型；2）对巷道平面图中的巷道对象进行概化，以构建巷道网络图；3）基于巷道网络图，获取各巷道的起点、终点以及各节点间的实际距离，得到巷道的节点-距离网图。步骤502、在巷道的节点-距离网图的属性数据中记录各巷道当前时间段内的通行速度、各巷道的安全系数aij。其中，各巷道的当量长度的计算参见公式。其中，各巷道的安全系数aij通过对每条巷道可通行安全性进行评估得到，评估参数包括：巷道水位高度、巷道障碍物分布情况、巷道坡度。巷道水位高度越高，逃生速度越慢，安全系数越小；巷道障碍物越多，当量长度越长，安全系数越低；坡度，风速越大，巷道当量长度越长，安全系数越低。步骤503、基于巷道的节点-距离网图构建巷道拓扑关系，详细如下：在巷道的节点-距离网图基础上，清除节点和弧段标志，为每条巷道的起点与终点设置唯一的拓扑索引。步骤504、为巷道对应的弧段附加权重值。本申请实施例中，巷道的权重值为该巷道的通行时间，其计算方法参见公式。对于无法通行的巷道，将其权重值设置为-1，以在选择最佳逃生路线时绕开该巷道。在完成上述数据准备工作之后，本申请实施例中，以当前时间段内各巷道的通行时间作为权重，基于迪杰斯特拉算法，确定当前时间段内矿井水害的最佳逃生路线，具体包括：步骤511、为了保证迪杰斯特拉算法执行正确，在确定当前时间段内矿井水害的最佳逃生路线之前，先对巷道拓扑关系进行初始化，还原巷道的权重值。并根据矿井水害淹没分析算法的分析结果，将被淹没的巷道权重值设置为-1，以限制通行。步骤512、确定井下人员所在位置和逃生出口位置，以井下人员所在位置为路径分析起点、逃生出口位置为路径分析终点，找到起点和终点分别对应的巷道所在弧段，简称起点弧段、终点弧段，并基于迪杰斯特拉算法，对起点弧段的两个端点、终点弧段的两个端点共四组连接方向分别进行最短路径分析，得到起点到终点的最佳逃生路径，即当前时间段内矿井水害的最佳逃生路线。步骤513、输出当前时间段内矿井水害的最佳逃生路线，即输出矿井水害的最佳逃生路线所经巷道弧段集合，并在地图上绘制出该最佳逃生路线。其中，最佳逃生路线所经巷道弧段集合中记录有弧段的ID序列，根据该弧段的ID序列，通过弧段查询，可获得最佳逃生路线的弧段轨迹，该弧段轨迹表示从起点到终点的路线走向。其中，在进行最短路径分析时，包括如下步骤：步骤521、进行最短路径分析：分别从起点弧段的两个端点、终点弧段的两个端点开始查询与之相连的所有扩展弧段以延伸路径，在路径延伸的过程中根据矿井水害淹没分析算法的分析结果绕开淹没区域，也就是说，若待延伸的路径被标记为淹没巷道，则在该方向不作延伸。从所有扩展弧段中获得巷道权重值最小的弧段，以该巷道权重值最小的弧段的两个端点中未被访问的端点作为路径到达的当前节点，并从该当前节点处继续进行弧段扩展。扩展的过程中，同样根据矿井水害淹没分析算法的分析结果绕开淹没区域和已经走过的弧段，若该该当前节点连接的弧段已经有其他路径通过，则此方向不将延伸，否则，将弧段加入至扩展弧段集合。由于弧段只能被首次访问的路径通过，因而给弧段增加累计权重属性，用于记录当前路径所经弧段的累加权重值。步骤522、获取最佳逃生路线对应的弧段集合：循环执行步骤521，每循环一次，更新巷道淹没情况，将被完全淹没的巷道权重值设为-1，循环至路径到达终止点，算法停止。在获取全部的四条可能的通行路径后，找到其中时间当量最小的一条通行路径。将其与起点终点所在弧段相连接，即为起点到终点的最佳逃生路径。在一些实施例中，该方法还包括：对矿井水害进行动态模拟，以对实时动态逃生路线进行可视化。本申请实施中，针对不同的突水类型，采用的动态模拟方法不同，比如，底板水、采空区动态模拟对加载的巷道三维模型和地质层三维可视化模型中显示底板水、采空区的位置，给予模拟参数，可进行动态显示。又比如，当突水类型为由巷道操作不规范导致断层底板水时，通过基于LSTM神经网络和数值模拟煤矿底板突水运动状态和突水预警。再比如，当突水类型为老空水时，对于由探放水不规范导致的老空水，基于水体空间位置、积水量和水压，实现水灾过程模拟。具体地，根据老空水水害的形成要素，建立老空水突水力学模型，并通过计算机计算老空水不同水头高度、突水口不同截面积、突水通道不同阻力下出口流量随时间的变化，以模拟矿井中各巷道的突水情况，通过加载老空水体空间位置、积水量和水压等数据，对老空水害过程进行模拟和预测。本申请实施例中，通过对矿井水害进行动态模拟，使得灾害指挥人员能够直观的了解井下情况，解决了发生矿井水灾时，井下情况复杂，很难了解水灾发生时的具体水流情况，难以直观的了解井下情况的问题。同时，通过对矿井水害进行动态模拟，在规划逃生路线时，使灾害指挥人员能够根据实际情况，实时地确定最佳路线。综上所述，本申请中，通过根据突水类型确定矿井水害的突水量，并根据矿井中巷道的坡度、巷道类型、局部障碍物和风速风向，确定巷道当量长度；然后根据突水量，确定矿井中当前时间段内各巷道的水位高度；并根据水位高度以及巷道当量长度，更新当前时间段内各巷道的通行时间；最后以当前时间段内各巷道的通行时间作为权重，基于迪杰斯特拉算法，确定当前时间段内矿井水害的最佳逃生路线。如此，根据矿井水害过程中实时的水位高度和巷道当量长度，更新当前时间段内各巷道的通行时间，并以该通行时间为权重确定最佳逃生路径，从而能够根据各个突水时刻各巷道的淹没情况动态、实时地确定最佳逃生路线，使矿井作业人员能够以最快速度及时撤离，减少了矿井水害造成的人员伤亡。以上所述仅为本申请的优选实施例，并不用于限制本申请，对于本领域的技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
