标题title
一种激光精准测距的闸门故障排查方法
摘要abst
本发明通过提供一种激光精准测距的闸门故障排查方法，计时器对激光发射装置和激光接收装置进行时间校准，并通过二次调制的方法进行解调，在保证相位不变的情况下实现对光信号的放大，并通过多角度融合法测量闸门启闭距离，替代目前普遍采用的单一相位法测距方案，实现了确保相位法激光测距的精准性，同时具备高测频特性和高精度特性，提高了故障排查的准确率。
权利要求书clms
1.一种激光精准测距的闸门故障排查方法，其特征在于，所述方法基于以下设备：闸门设备和云计算中心；所述闸门设备包括闸门启闭机、闸板和激光测距传感器；所述闸门启闭机用于控制闸门升降；所述激光测距传感器包括激光发射装置、激光接收装置、计时器和信号传输装置，所述激光测距传感器安装在所述闸门启闭机底部；所述激光发射装置用于向所述闸板上的测量点发射激光束；所述激光接收装置接收所述闸板反射回来的激光束，对接收到的光信号通过二次调制的方法进行解调，产生差频信号，转换为相应的检测信号，将检测信号发送给所述信号传输装置；所述计时器对所述激光发射装置和所述激光接收装置进行时间校准，并发送激光测距开始时间给所述激光发射装置和所述激光接收装置；所述信号传输装置用于所述激光测距传感器与所述闸门启闭机和所述云计算中心之间的信息传输，所述信号传输装置接收所述云计算中心的闸板启闭指令传输给所述计时器和所述闸门启闭机，并将检测信号传输给所述云计算中心；所述云计算中心包括增频测相单元、距离测量单元、数据处理单元、智能融合单元、故障排查单元和报警单元；所述距离测量单元根据调制光的波长计算实时的距离信息，并将距离信息发送给所述数据处理单元和所述智能融合单元；所述智能融合单元对剩余的距离信息进行智能融合，将融合后的实时测距信息发送给所述故障排查单元；所述故障排查单元根据闸门启闭过程中距离信息的实时变动情况判断闸门启闭是否发生故障，并确定故障类型；所述方法包括以下步骤：S1.激光测距传感器通过相位法对闸板启闭距离进行激光测距，得到闸门启闭实时测量距离；S2.通过多角度融合法测量闸门启闭距离，得到智能融合后的闸门启闭距离信息，根据闸门启闭距离信息对闸门故障进行排查；激光测距传感器的激光发射装置向闸板不同测量点同时发送激光束，激光接收装置接收各个测量点反射的激光束，由不同测量点得到激光测距传感器至闸板的垂直距离信息H；智能融合单元对剩余的距离信息进行智能融合，融合公式为：其中，为融合后的闸门启闭测量距离，Nε为各测量点垂直距离之差小于阈值ε的测量点数量，N为所有测量点的数量，i∈，L为与激光测距传感器103垂直的测量点的测距，即初始测量点，为符合测量点垂直距离之差小于阈值ε的测量点集合，Hi为第i个测量点的垂直距离，ωi为第i个测量点垂直距离的权重，测量点垂直距离的权重取决于各测量点的垂直距离与初始测量点垂直距离的差值。2.如权利要求1所述的一种激光精准测距的闸门故障排查方法，其特征在于，所述步骤S1具体包括：所述计时器在向所述激光发射装置和所述激光接收装置发送闸板启闭指令前，需要先向所述激光发射装置和所述激光接收装置发送心跳包维持连接，所述激光发射装置和所述激光接收装置接收到心跳包后，返回一个包含时间戳的响应，所述计时器根据响应中的时间戳对自身时间进行校准，以保证所述激光发射装置、所述激光接收装置与所述计时器的时间一致性。3.如权利要求1所述的一种激光精准测距的闸门故障排查方法，其特征在于，所述步骤S2具体包括：所述距离测量单元根据调制光的波长计算出距离信息L'后，再根据角度信息得到不同测量点距离信息对应的闸门启闭测量距离H。4.如权利要求1所述的一种激光精准测距的闸门故障排查方法，其特征在于，所述步骤S2具体包括：对于闸门启闭故障有以下两种情况：根据实际情况确定闸门启闭过程的能源动力，若闸门启闭为电动升降装置，则需要确定电源问题，若电流、电压稳定，则电动升降装置故障，否则报警单元发出过流或电压不稳警示；若闸门启闭为液压升降装置，则需要确定液压缸的压力，若液压升降装置处于正常压力范围内，则电动升降装置故障，否则报警单元发出液压异常警示；在闸门启闭过程中设立多个目标位置，若所述闸板在规定时间内均未到达目标位置，则所述报警单元发出所述闸板异常警示；自上而下设立目标位置A，所述闸板在下降过程中，在规定时间内未到达位置A，或在规定时间内超过位置A的距离大于预设的阈值范围，则所述闸板可能发生倾斜或卡住，需要进一步确定故障原因。
说明书desc
本发明为“基于相位法激光测距的闸门故障排查装置”，申请号为“2022100290954”的发明专利的分案申请。技术领域本发明涉及闸门故障检测领域，尤其涉及基于相位法激光测距的闸门故障排查装置。背景技术科学管理水资源越来越显示出其重要性和必要性，要做到水资源的优化调度，最终必须通过控制闸门来实现。大部分河道闸门在使用较长时间后，存在闸门放下后，闸门的底部未能与地面接触，导致闸门并不能有效的将河道关闭，可能导致闸门损坏，因此需要及时排查闸门故障。我国专利申请号：CN202110780495，公开日：2021.10.22，公开了一种基于激光测距的可调光交通技术监控成像补光装置，其特征在于，包括主逻辑处理单元、照度检测单元、监控信号输入单元、激光测距单元、车型判断逻辑单元、LED驱动单元及网络通讯单元；本发明的有益效果是：通过激光测距单元和车型判断逻辑单元快速计算并识别车型，补光装置根据车型自动调整补光参数，在提高补光装置的光利用率降低光污染的前提下，同时满足了监控设备的抓拍效果。但本申请发明人在实现本申请实施例中发明技术方案的过程中，发现上述技术至少存在如下技术问题：传统的基于相位法的激光测距技术由于测距值周期不确定性，需用多个不同相位做测量和对比，使得计算复杂度增加，产生了测量频率和精度不可兼得的矛盾，而在闸门启闭过程中由于水位、水流等因素的影响，冗余因素影响大，使得计算精度不高。发明内容本申请实施例通过提供基于相位法激光测距的闸门故障排查装置，解决了现有技术中基于相位法的激光测距技术由于测距值周期不确定性，需用多个不同相位做测量和对比，使得计算复杂度增加，产生了测量频率和精度不可兼得的矛盾，而在闸门启闭过程中由于水位、水流等因素的影响，冗余因素影响大，使得计算精度不高。实现了确保相位法激光测距的精准性，同时具备高测频特性和高精度特性，提高了故障排查的准确率。本发明的技术方案如下：基于相位法激光测距的闸门故障排查装置，包括以下部分：闸门设备和云计算中心；所述闸门设备包括闸门启闭机、闸板和激光测距传感器；所述激光测距传感器包括激光发射装置、激光接收装置、计时器和信号传输装置，所述计时器对所述激光发射装置和所述激光接收装置进行时间校准，并发送激光测距开始时间给所述激光发射装置和所述激光接收装置；所述云计算中心包括增频测相单元、距离测量单元、数据处理单元、智能融合单元、故障排查单元和报警单元；所述距离测量单元根据调制光的波长计算实时的距离信息，并将距离信息发送给所述数据处理单元和所述智能融合单元；所述智能融合单元对剩余的距离信息进行智能融合，将融合后的实时测距信息发送给所述故障排查单元；所述故障排查单元根据闸门启闭过程中距离信息的实时变动情况判断闸门启闭是否发生故障，并确定故障类型。一种激光精准测距的闸门故障排查方法，包括以下步骤：S1.激光测距传感器通过相位法对闸板启闭距离进行激光测距，得到闸门启闭实时测量距离；S2.通过多角度融合法测量闸门启闭距离，得到智能融合后的闸门启闭距离信息，根据闸门启闭距离信息对闸门故障进行排查。优选的，所述步骤S1具体包括：所述计时器在向所述激光发射装置和所述激光接收装置发送闸板启闭指令前，需要先向所述激光发射装置和所述激光接收装置发送心跳包维持连接，所述激光发射装置和所述激光接收装置接收到心跳包后，返回一个包含时间戳的响应，所述计时器根据响应中的时间戳对自身时间进行校准，以保证所述激光发射装置、所述激光接收装置与所述计时器的时间一致性。优选的，所述步骤S2具体包括：所述距离测量单元根据调制光的波长计算出距离信息L'后，再根据角度信息得到不同测量点距离信息对应的闸门启闭测量距离H。优选的，所述步骤S2具体包括：由不同测量点得到所述激光测距传感器至所述闸板的垂直距离信息H，所述数据处理单元对距离信息进行预处理，删除各距离信息中的孤点；所述智能融合单元对剩余的距离信息进行智能融合。优选的，所述步骤S2具体包括：对于闸门启闭故障有以下几种情况：根据实际情况确定闸门启闭过程的能源动力，若闸门启闭为电动升降装置，则需要确定电源问题，若电流、电压稳定，则电动升降装置故障，否则报警单元发出过流或电压不稳警示；若闸门启闭为液压升降装置，则需要确定液压缸的压力，若液压升降装置处于正常压力范围内，则电动升降装置故障，否则报警单元发出液压异常警示；在闸门启闭过程中设立多个目标位置，若所述闸板在规定时间内均未到达目标位置，则所述报警单元发出所述闸板异常警示；自上而下设立目标位置A，所述闸板在下降过程中，在规定时间内未到达位置A，或在规定时间内超过位置A的距离大于预设的阈值范围，则所述闸板可能发生倾斜或卡住，需要进一步确定故障原因。本发明的有益效果是：1、计时器对激光发射装置和激光接收装置进行时间校准，并通过二次调制的方法进行解调，在保证相位不变的情况下实现对光信号的放大，增大了信噪比，保证了相位法激光测距的精准性。2、通过多角度融合法测量闸门启闭距离，替代目前普遍采用的单一相位法测距方案，解决了测量频率和精度不可兼得的矛盾，使智能融合算法同时具备高测频特性和高精度特性，基于高精度距离信息进行闸门启闭故障排查，提高了故障排查的准确率。3、本申请的技术方案能够有效解决传统的基于相位法的激光测距技术由于测距值周期不确定性，需用多个不同相位做测量和对比，使得计算复杂度增加，产生了测量频率和精度不可兼得的矛盾，而在闸门启闭过程中由于水位、水流等因素的影响，冗余因素影响大，使得计算精度不高。并且，上述系统或方法经过了一系列的效果调研，通过验证，最终能够确保相位法激光测距的精准性，同时具备高测频特性和高精度特性，提高了故障排查的准确率。附图说明图1为本申请所述的基于相位法激光测距的闸门故障排查装置结构图；图2为本申请所述的激光精准测距的闸门故障排查方法流程图；图3为本申请所述的闸门设备示意图。具体实施方式本申请实施例通过提供基于相位法激光测距的闸门故障排查装置，解决了现有技术中基于相位法的激光测距技术由于测距值周期不确定性，需用多个不同相位做测量和对比，使得计算复杂度增加，产生了测量频率和精度不可兼得的矛盾，而在闸门启闭过程中由于水位、水流等因素的影响，冗余因素影响大，使得计算精度不高。本申请实施例中的技术方案为解决上述问题，总体思路如下：计时器对激光发射装置和激光接收装置进行时间校准，并通过二次调制的方法进行解调，在保证相位不变的情况下实现对光信号的放大，增大了信噪比，保证了相位法激光测距的精准性；通过多角度融合法测量闸门启闭距离，替代目前普遍采用的单一相位法测距方案，解决了测量频率和精度不可兼得的矛盾，使智能融合算法同时具备高测频特性和高精度特性，基于高精度距离信息进行闸门启闭故障排查，提高了故障排查的准确率。为了更好的理解上述技术方案，下面将结合说明书附图以及具体的实施方式对上述技术方案进行详细的说明。参照附图1，本申请所述的基于相位法激光测距的闸门故障排查装置包括以下部分：闸门设备10和云计算中心20；所述闸门设备10包括闸门启闭机101、闸板102和激光测距传感器103，如图3所示。所述闸门启闭机101用于控制闸门升降；所述激光测距传感器103包括激光发射装置1031、激光接收装置1032、计时器1033和信号传输装置1034，激光测距传感器103安装在闸门启闭机101底部，支持多种输出方式，运用可见安全红激光，毫米级精度，对于室外环境的适应性较强。所述激光发射装置1031用于向闸板102上的测量点发射激光束；所述激光接收装置1032接收闸板102反射回来的激光束，对接收到的光信号通过二次调制的方法进行解调，产生差频信号，转换为相应的检测信号，将检测信号发送给信号传输装置1034；所述计时器1033对激光发射装置1031和激光接收装置1032进行时间校准，并发送激光测距开始时间给激光发射装置1031和激光接收装置1032；所述信号传输装置1034用于激光测距传感器103与闸门启闭机101和云计算中心20之间的信息传输，信号传输装置1034接收云计算中心20的闸板启闭指令传输给计时器1033和闸门启闭机101，并将检测信号传输给云计算中心20；所述云计算中心20包括增频测相单元201、距离测量单元202、数据处理单元203、智能融合单元204、故障排查单元205和报警单元206。所述增频测相单元201用于计算调制光往返测相一次所产生的相位延迟，并发送给距离测量单元202；所述距离测量单元202根据调制光的波长计算实时的距离信息，并将距离信息发送给数据处理单元203和智能融合单元204；所述数据处理单元203对距离信息进行预处理，删除各距离信息中的孤点，将剩余的距离信息发送给智能融合单元204；所述智能融合单元204对剩余的距离信息进行智能融合，将融合后的实时测距信息发送给故障排查单元205；所述故障排查单元205根据闸门启闭过程中距离信息的实时变动情况判断闸门启闭是否发生故障，并确定故障类型；所述报警单元206用于发出闸门故障警示。所述闸门设备10内的闸门启闭机101、闸板102和激光测距传感器103之间采用有线或无线的传输方式，闸门设备10与云计算中心20之间采用无线的传输方式，云计算中心20的增频测相单元201、距离测量单元202、数据处理单元203、智能融合单元204、故障排查单元205和报警单元206之间采用数据传输的方式。参照附图2，本申请所述激光精准测距的闸门故障排查方法包括以下步骤：S1.激光测距传感器通过相位法对闸板启闭距离进行激光测距，得到闸门启闭实时测量距离；激光测距传感器103通过相位法对闸板102启闭距离进行激光测距，用户通过云计算中心20向信号传输装置1034发送闸板启闭指令，指令包括：闸板升、闸板降、闸板停。所述信号传输装置1034将闸板启闭指令发送给闸门启闭机101和计时器1033，所述闸门启闭机101用于控制闸板升、降、停，所述计时器1033对激光发射装置1031和激光接收装置1032进行时间校准，并发送激光测距开始时间给激光发射装置1031和激光接收装置1032。计时器1033在向激光发射装置1031和激光接收装置1032发送闸板启闭指令前，需要先向激光发射装置1031和激光接收装置1032发送心跳包维持连接，激光发射装置1031和激光接收装置1032接收到心跳包后，返回一个包含时间戳的响应，计时器1033根据响应中的时间戳对自身时间进行校准，以保证激光发射装置1031、激光接收装置1032与计时器1033的时间一致性。然后，计时器1033分别向激光发射装置1031和激光接收装置1032发送激光启动时间指令，激光发射装置1031和激光接收装置1032进入工作模式。激光发射装置1031根据接收到的激光启动时间指令向闸板102发射激光束，用无线电波段的频率对激光束进行幅度调制，激光接收装置1032接收闸板102反射回来的激光束，所述激光接收装置1032对接收到的光信号通过二次调制的方法进行解调，产生差频信号，然后转换为检测信号发送给信号传输装置1034，所述信号传输装置1034将检测信号传输给云计算中心20的增频测相单元201。所述增频测相单元201计算出调制光往返测相一次所产生的相位延迟，然后由距离测量单元202根据调制光的波长计算出实时的距离信息。则激光测距传感器103到闸板102的实时距离，即闸门启闭实时测量距离可表示为：其中，L为测量距离，c为光在空气中传播的速度，T为调制信号的周期时间，为发射与接收激光波形的相位差。值得注意的是，在实际的单一频率测量中，需要根据最大测程选择调制频率，因为当系统测相分辨率一定时，调制频率与测距精度成反比。而且由于传统的相位激光测距法存在2π周期的不确定性，传统解决方法所采用的多频率测距使得计算复杂度增大，测量速度减小，远不能满足闸门启闭对激光雷达的频率要求，因此本发明采用多角度融合法。所述步骤S1的有益效果为：计时器对激光发射装置和激光接收装置进行时间校准，并通过二次调制的方法进行解调，在保证相位不变的情况下实现对光信号的放大，增大了信噪比，保证了相位法激光测距的精准性。S2.通过多角度融合法测量闸门启闭距离，得到智能融合后的闸门启闭距离信息，根据闸门启闭距离信息对闸门故障进行排查。激光测距传感器103的激光发射装置1031向闸板102不同测量点同时发送激光束，激光接收装置1032接收各个测量点反射的激光束，激光测距传感器103将激光发射装置1031不同激光束的发射角度和接收到的反射信号发送给云计算中心20。增频测相单元201计算出调制光往返测相一次所产生的相位延迟，距离测量单元202根据调制光的波长计算出距离信息L'后，再根据角度信息得到不同测量点距离信息对应的闸门启闭测量距离H：H＝L×cosθ其中，θ为各激光束的发射角度。由不同测量点得到激光测距传感器103至闸板102的垂直距离信息H，数据处理单元203对距离信息进行预处理，删除各距离信息中的孤点。智能融合单元204对剩余的距离信息进行智能融合，融合公式为：其中，为融合后的闸门启闭测量距离，Nε为各测量点垂直距离之差小于阈值ε的测量点数量，N为所有测量点的数量，i∈，L为与激光测距传感器103垂直的测量点的测距，即初始测量点，为符合测量点垂直距离之差小于阈值ε的测量点集合，Hi为第i个测量点的垂直距离，ωi为第i个测量点垂直距离的权重，测量点垂直距离的权重取决于各测量点的垂直距离与初始测量点垂直距离的差值。故障排查单元205实时接收闸门启闭过程中的测距信息，并根据闸门启闭过程中距离信息的实时变动情况判断闸门启闭是否发生故障，并确定故障类型。具体排查方法如下：闸门在运行过程中时，闸板102的运动范围应处于预设的上限和下限之间，且闸板102应在规定的时间内到达指定位置，若闸板102未完成上述情况，则闸门启闭发生故障。对于闸门启闭故障有以下几种情况：根据实际情况确定闸门启闭过程的能源动力，若闸门启闭为电动升降装置，则需要确定电源问题，若电流、电压稳定，则电动升降装置故障，否则报警单元206发出过流或电压不稳警示；若闸门启闭为液压升降装置，则需要确定液压缸的压力，若液压升降装置处于正常压力范围内，则电动升降装置故障，否则报警单元206发出液压异常警示；在闸门启闭过程中设立多个目标位置，若闸板102在规定时间内均未到达目标位置，则报警单元206发出闸板102异常警示。作为一个具体实施例，自上而下设立目标位置A，闸板102在下降过程中，在规定时间内未到达位置A，或在规定时间内超过位置A的距离大于预设的阈值范围，则闸板102可能发生倾斜或卡住，需要进一步确定故障原因。用户根据报警单元206的警示信息确定故障类型，从而及时对闸门故障采取相应的对策。所述步骤S2的有益效果为：通过多角度融合法测量闸门启闭距离，替代目前普遍采用的单一相位法测距方案，解决了测量频率和精度不可兼得的矛盾，使智能融合算法同时具备高测频特性和高精度特性，基于高精度距离信息进行闸门启闭故障排查，提高了故障排查的准确率。综上所述，便完成了本申请所述的基于相位法激光测距的闸门故障排查装置。上述本申请实施例中的技术方案，至少具有如下的技术效果或优点：1、计时器对激光发射装置和激光接收装置进行时间校准，并通过二次调制的方法进行解调，在保证相位不变的情况下实现对光信号的放大，增大了信噪比，保证了相位法激光测距的精准性；2、通过多角度融合法测量闸门启闭距离，替代目前普遍采用的单一相位法测距方案，解决了测量频率和精度不可兼得的矛盾，使智能融合算法同时具备高测频特性和高精度特性，基于高精度距离信息进行闸门启闭故障排查，提高了故障排查的准确率。效果调研：本申请的技术方案能够有效解决传统的基于相位法的激光测距技术由于测距值周期不确定性，需用多个不同相位做测量和对比，使得计算复杂度增加，产生了测量频率和精度不可兼得的矛盾，而在闸门启闭过程中由于水位、水流等因素的影响，冗余因素影响大，使得计算精度不高。并且，上述系统或方法经过了一系列的效果调研，通过验证，最终能够确保相位法激光测距的精准性，同时具备高测频特性和高精度特性，提高了故障排查的准确率。本发明是参照根据本发明实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。尽管已描述了本发明的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例作出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本发明范围的所有变更和修改。显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。
