标题title
一种油井电参示功图生成方法及控制系统
摘要abst
本发明公开一种油井电参示功图生成方法，包括步骤：S1、采集若干井油井光杆载荷和变频器输出电流同步实时数据；S2、推导出油井光杆载荷曲线一一对应相应的电流曲线；S3、根据采集的实际载荷数据和电流数据，和拆除载荷传感器之后周期内采集的电流数据，计算出载荷的数组；S4、通过位置开关来检测抽油杆的上死点位置，确定冲程转换点，以它作为一个标准，算出抽油机一个周期悬点位移行动轨迹，计算两次位置开关感应的时间差，在一个时间差内采集的数据数量；得到位移数据的数组；S5、通过载荷数据的数组和位移数据的数组，绘制出电参示功图曲线。本发明通过对油井电参信号的实时处理分析，得到该油井电参示功图。
权利要求书clms
1.一种油井电参示功图生成方法，其特征在于，包括步骤：S1、采集若干井油井光杆载荷和变频器输出电流同步实时数据；S2、推导出油井光杆载荷曲线一一对应相应的电流曲线；S3、根据采集的实际载荷数据和电流数据，和拆除载荷传感器之后周期内采集的电流数据，计算出载荷的数组；S4、通过位置开关来检测抽油杆的上死点位置，确定冲程转换点，以它作为一个标准，算出抽油机一个周期悬点位移行动轨迹，计算两次位置开关感应的时间差，在一个时间差内采集的数据数量；得到位移数据的数组；S5、通过载荷数据的数组和位移数据的数组，绘制出电参示功图曲线。2.根据权利要求1所述的一种油井电参示功图生成方法，其特征在于，油井的井况不同情况下悬点载荷的推导包括：油井的井况恒定情况下：电机以固定频率运转，加载荷传感器，采集一个冲程每个对应点的电流和载荷并保存下来，之后拆除载荷传感器，通过采集每个冲程各对应点的电流推导对应载荷；油井的井况变化情况下：当运行一段时间井况发生较大变化，通过采集冲程内每个对应点的电流，对比跟原始保存数据的变化，出现较大变化时，说明井况与过去产生异变，同样推导对应的载荷，并与实际载荷进行对比和修正，找出变化后的推导载荷与实际载荷的关系；不同油井的井况情况下：当积累到一定的数据样本之后，根据大数据算法，将不同类型的电流曲线，映射到对应的载荷曲线，即使是不同的油井，电流曲线也能推导出载荷曲线变化趋势。3.根据权利要求2所述的一种油井电参示功图生成方法，其特征在于，实际载荷数据、电流数据和拆除载荷传感器之后周期内采集的电流数据计算步骤包括：S101、同时将采集的实际载荷数据和电流数据保存成数组ZH和DL；S102、当拆除载荷传感器之后，将周期内采集的电流保存为数组D，在井况和周期恒定情况下，设计算载荷为Z，则DL1→ZH1D1→Z1S103、根据该映射关系，DL、ZH和D三组数，计算出对应点载荷Z，记录为载荷数据组Z。4.根据权利要求3所述的一种油井电参示功图生成方法，其特征在于，步骤S4中悬点位移数据的数组具体计算公式为：两次位置开关感应的时间差t，单位为秒，计为冲程周期，在一个冲程内采集的数据数量为n，那么n＝10*t，即每秒采集10个点；将一个周期内的时间点数据t1,t2,t3……tn，转换为位移数据W1,W2,W3……Wn，转换公式为W＝t*m*2/n；即获得位移数组W，又得到一个周期的位移数据。5.一种油井电参示功图生成控制系统，其特征在于，包括触摸屏、PLC控制器、变频器和位置开关，所述变频器用于提供给PLC电流信号；所述PLC控制器用于对来自变频器的电流信号进行分析、实施算法的控制；所述触摸屏用于对PLC控制器进行参数设定、状态监视以及运行控制的操作；所述位置开关用于检测抽油杆上死点位置，确定冲程转换点。
说明书desc
技术领域本发明属于领域，具体来说，涉及一种油井电参示功图生成方法及控制系统。背景技术目前，油井工况诊断基本是从示功图的基本定义来入手的，利用示功图，能够直接反映出光杆的最大、最小负荷和冲程损失，根据对示功图的分析，可以掌握泵的工作状态，判断砂、蜡、气等对抽油泵的影响、判断泵漏失、油管漏失、抽油杆断脱等井下故障，是判断油井工作是否正常的“晴雨表”。现有技术中，通过测油井光杆载荷与位移的数据，从而进行示功图的分析与绘制，该方法需派遣操作工人到现场测试示功图，采集周期长，工人劳动强度大，工作效率低，数据的实时性得不到保证，无法实时调节运行参数。发明内容针对现有油井电参示功图生成需要派遣操作工人到现场测试示功图，导致工作效率低，数据的实时性得不到保证，无法实时调节运行参数的问题，本发明提供了一种油井电参示功图生成方法及控制系统。为实现上述技术目的，本发明采用的技术方案如下：一种油井电参示功图生成方法，包括步骤：S1、采集若干井油井光杆载荷和变频器输出电流同步实时数据；S2、推导出油井光杆载荷曲线一一对应相应的电流曲线；S3、根据采集的实际载荷数据和电流数据，和拆除载荷传感器之后周期内采集的电流数据，计算出载荷的数组；S4、通过位置开关来检测抽油杆的上死点位置，确定冲程转换点，以它作为一个标准，算出抽油机一个周期悬点位移行动轨迹，计算两次位置开关感应的时间差，在一个时间差内采集的数据数量；得到位移数据的数组；S5、通过载荷数据的数组和位移数据的数组，绘制出电参示功图曲线。进一步地，油井的井况不同情况下悬点载荷的推导包括：油井的井况恒定情况下：电机以固定频率运转，加载荷传感器，采集一个冲程每个对应点的电流和载荷并保存下来，之后拆除载荷传感器，通过采集每个冲程各对应点的电流推导对应载荷；油井的井况变化情况下：当运行一段时间井况发生较大变化，通过采集冲程内每个对应点的电流，对比跟原始保存数据的变化，出现较大变化时，说明井况与过去产生异变，同样推导对应的载荷，并与实际载荷进行对比和修正，找出变化后的推导载荷与实际载荷的关系；不同油井的井况情况下：当积累到一定的数据样本之后，根据大数据算法，将不同类型的电流曲线，映射到对应的载荷曲线，即使是不同的油井，电流曲线也能推导出载荷曲线变化趋势。进一步地，实际载荷数据、电流数据和拆除载荷传感器之后周期内采集的电流数据计算步骤包括：S101、同时将采集的实际载荷数据和电流数据保存成数组ZH和DL；S102、当拆除载荷传感器之后，将周期内采集的电流保存为数组D，在井况和周期恒定情况下，设计算载荷为Z，则DL1→ZH1D1→Z1S103、根据该映射关系，DL、ZH和D三组数，计算出对应点载荷Z，记录为载荷数据组Z。进一步地，步骤S4中悬点位移数据的数组具体计算公式为：两次位置开关感应的时间差t，单位为秒，计为冲程周期，在一个冲程内采集的数据数量为n，那么n＝10*t，即每秒采集10个点；将一个周期内的时间点数据t1,t2,t3……tn，转换为位移数据W1,W2,W3……Wn，转换公式为W＝t*m*2/n；即获得位移数组W，又得到一个周期的位移数据。一种油井电参示功图生成控制系统，包括触摸屏、PLC控制器、变频器和位置开关，所述变频器用于提供给PLC电流信号；所述PLC控制器用于对来自变频器的电流信号进行分析、实施算法的控制；所述触摸屏用于对PLC控制器进行参数设定、状态监视以及运行控制的操作；所述位置开关用于检测抽油杆上死点位置，确定冲程转换点。本发明的使用原理在于，根据实时采集的电流数据，算出悬点载荷的变化规律，再根据位置开关检测的抽油杆上死点位置，算出悬点位移行动轨迹，生成电参示功图，通过分析电参示功图曲线，完成油井指导生产。本发明相比现有技术，具有如下有益效果：通过对油井电参信号的实时处理分析，得到该油井电参示功图，进而通过对电参示功图的分析，监测油井工况，作出准确诊断，对故障进行及时的预测和处理，降低了劳动强度，提高了工作效率，从而为油井实现实时工况诊断、油井自动调参提供可靠的依据。附图说明图1为本发明一种油井电参示功图生成方法的流程图；图2为本发明电流数据计算步骤的流程图；图3为本发明一种油井电参示功图生成控制系统的结构框图。图中标记说明：10-触摸屏，20-PLC控制器，30-变频器，40-位置开关。具体实施方式为了便于本领域技术人员的理解，下面结合实施例与附图对本发明作进一步的说明，实施方式提及的内容并非对本发明的限定。如图1所示，一种油井电参示功图生成方法，包括步骤：S1、采集若干井油井光杆载荷和变频器30输出电流同步实时数据；S2、推导出油井光杆载荷曲线一一对应相应的电流曲线；S3、根据采集的实际载荷数据和电流数据，和拆除载荷传感器之后周期内采集的电流数据，计算出载荷的数组；S4、通过位置开关40来检测抽油杆的上死点位置，确定冲程转换点，以它作为一个标准，算出抽油机一个周期悬点位移行动轨迹，计算两次位置开关40感应的时间差，在一个时间差内采集的数据数量；得到位移数据的数组；S5、通过载荷数据的数组和位移数据的数组，绘制出电参示功图曲线。油井的井况不同情况下悬点载荷的推导包括：油井的井况恒定情况下：电机以固定频率运转，加载荷传感器，采集一个冲程每个对应点的电流和载荷并保存下来，之后拆除载荷传感器，通过采集每个冲程各对应点的电流推导对应载荷。油井的井况变化情况下：当运行一段时间井况发生较大变化，通过采集冲程内每个对应点的电流，对比跟原始保存数据的变化，出现较大变化时，说明井况与过去产生异变，同样推导对应的载荷，并与实际载荷进行对比和修正，找出变化后的推导载荷与实际载荷的关系。不同油井的井况情况下：当积累到一定的数据样本之后，根据大数据算法，将不同类型的电流曲线，映射到对应的载荷曲线，即使是不同的油井，电流曲线也能推导出载荷曲线变化趋势。如图2所示，实际载荷数据、电流数据和拆除载荷传感器之后周期内采集的电流数据计算步骤包括：S101、同时将采集的实际载荷数据和电流数据保存成数组ZH和DL；S102、当拆除载荷传感器之后，将周期内采集的电流保存为数组D，在井况和周期恒定情况下，设计算载荷为Z，则DL1→ZH1D1→Z1S103、根据该映射关系，DL、ZH和D三组数，计算出对应点载荷Z，记录为载荷数据组Z。步骤S4中悬点位移数据的数组具体计算公式为：两次位置开关40感应的时间差t，单位为秒，计为冲程周期，在一个冲程内采集的数据数量为n，那么n＝10*t，即每秒采集10个点；将一个周期内的时间点数据t1,t2,t3……tn，转换为位移数据W1,W2,W3……Wn，转换公式为W＝t*m*2/n。设冲程长度为m，则W1＝t1*m*2/nW2＝t2*m*2/n...Wn＝tn*m*2/n即获得位移数组W，又得到一个周期的位移数据。如图3所示，一种油井电参示功图生成控制系统，包括触摸屏10、PLC控制器20、变频器30和位置开关40，所述变频器30用于提供给PLC电流信号；所述PLC控制器20用于对来自变频器30的电流信号进行分析，实施算法的控制；所述触摸屏10用于对PLC控制器20进行参数设定、状态监视以及运行控制的操作；所述位置开关40用于检测抽油杆上死点位置，确定冲程转换点。本发明的使用原理在于，根据实时采集的电流数据，算出悬点载荷的变化规律，再根据位置开关40检测的抽油杆上死点位置，算出悬点位移行动轨迹，生成电参示功图，通过分析电参示功图曲线，完成油井指导生产。通过对油井电参信号的实时处理分析，得到该油井电参示功图，进而通过对电参示功图的分析，监测油井工况，作出准确诊断，对故障进行及时的预测和处理，降低了劳动强度，提高了工作效率，从而为油井实现实时工况诊断、油井自动调参提供可靠的依据。以上对本申请提供的一种油井电参示功图生成方法及控制系统进行了详细介绍。具体实施例的说明只是用于帮助理解本申请的方法及其核心思想。应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以对本申请进行若干改进和修饰，这些改进和修饰也落入本申请权利要求的保护范围内。
