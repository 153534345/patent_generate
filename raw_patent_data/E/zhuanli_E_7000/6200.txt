标题title
一种电动垂直帘的智能控制系统及控制方法
摘要abst
本发明涉及一种电动垂直帘的智能控制系统及控制方法，属于电动窗帘控制技术领域，包括传动组件、电流监测模块、角度校准模块和故障报警模块；电流监测模块和角度校准模块均与传动组件连接，电流监测模块和故障报警模块均与角度校准模块连接；传动组件将电机端的转动次数转换为挂置件的转动次数；角度校准模块通过控制电机转动获取挂置件齿轮转数与电机转数之间的对应关系；电流监测模块用于获取电机的实时电流值；故障报警模块用于判定控制系统的运行状态并生成控制指令。本发明通过角度与转数匹配获得窗帘夹片调整角度所需要的电机转数，控制电机的转数获得角度余量避免了窗帘夹片之间相互挤压，保护了传动组件，提升了控制系统的稳定性。
权利要求书clms
1.一种电动垂直帘的智能控制方法，其特征在于：包括以下步骤：S1、角度与转数匹配：通过角度校准模块获取当前传动组件中电机的转数与窗帘夹片转动角度的对应关系，根据对应关系计算期望角度所需的电机转数，同时设置电机转数余量；S2、获取电机电流阈值：通过电流监测模块获取角度校准后电机的稳态电流值，将当前电流值作为电机的第一基准值；S3、预设电流浮动阈值：根据第一基准值、故障电流值和能耗电流值设置电机的电流浮动阈值；S4、监测电流实时值：通过电流监测模块获取电机的实时电流值，当实时电流值处于电流浮动阈值时，继续执行电流值监测；当实时电流值超出电流浮动阈值时，重新进行角度与转数匹配，并获取电机电流阈值作为第二基准值，以此类推；通过第二基准值、故障电流值和能耗电流值重新设置电机的电流浮动阈值，应用最新的电流浮动阈值继续执行电流实时值的监测；S5、故障监测处理：通过故障报警模块将实时电流值与故障电流值做对比，当电流监测模块反馈的实时电流值超过故障电流值，控制电机反向转动预设数量，再根据实时电流值做出判定：若实时电流值大于等于故障电流值，则进行故障报警提示；若实时电流值小于故障电流值，则再次切换电机的转向继续执行用户的调整指令。2.根据权利要求1所述的一种电动垂直帘的智能控制方法，其特征在于：所述步骤S1中，电机转数余量通过传动组件的转换对应到窗帘夹片的角度余量。3.根据权利要求1所述的一种电动垂直帘的智能控制方法，其特征在于：所述步骤S2中，第一基准值是指在角度校准后的电机在当前运行环境下运行正常状态时的电流值。4.根据权利要求1所述的一种电动垂直帘的智能控制方法，其特征在于：所述步骤S3中，能耗电流值是依据电机的实际工作负载、环境条件、使用寿命和节能指标设定的用于电机能耗控制的电流值。5.一种电动垂直帘的智能控制系统，应用于如权利要求1-4任一项所述的电动垂直帘的智能控制方法，其特征在于：包括传动组件、电流监测模块、角度校准模块和故障报警模块；所述电流监测模块和角度校准模块均与传动组件连接，所述电流监测模块和故障报警模块均与角度校准模块连接；所述传动组件，包括电机、减速机构和传动机构，用于将电机端的转动次数转换为挂置件的转动次数；所述角度校准模块，用于通过控制电机转动获取挂置件齿轮转数与电机转数之间的对应关系；所述电流监测模块，用于获取电机的实时电流值；所述故障报警模块，用于通过切换电机的转动方向判定控制系统的运行状态并生成控制指令。6.根据权利要求5所述的一种电动垂直帘的智能控制系统，其特征在于：所述角度校准模块获取挂置件齿轮转数与电机转数之间的对应关系具体包括以下步骤：记录一次完整的窗帘夹片从开帘状态到关帘状态的过程中电机的转数，通过比例计算获取窗帘夹片调整一定角度时所需要的电机转数；其中，开帘状态到关帘状态的判定通过电流监测模块反馈的电流变化得出，同时窗帘夹片开帘状态和关帘状态均设置有限位组件。7.根据权利要求5所述的一种电动垂直帘的智能控制系统，其特征在于：所述故障报警模块生成控制指令包括：当电流监测模块反馈的实时电流值超过故障电流值时，控制电机反向转动预设数量，再根据反馈的实时电流值做出判定：若实时电流值大于等于故障电流值，则进行故障报警提示；若实时电流值小于故障电流值，则再次切换电机的转向继续执行用户的调整指令。8.根据权利要求7所述的一种电动垂直帘的智能控制系统，其特征在于：所述故障电流值是根据当前的传动组件和窗帘组件测试出正常运行状态下最大负载时电机的电流值。
说明书desc
技术领域本发明属于电动窗帘控制技术领域，具体涉及一种电动垂直帘的智能控制系统及控制方法。背景技术电动垂直帘可以自动收拢或展开窗帘布，而且可通过调整窗帘布的帘叶角度来调整遮光效果。目前，电动垂直帘通过窗帘夹片夹取窗帘中不透光的部分，通过控制夹片移动实现开帘和闭帘，或通过转动夹片控制调光效果，如梦幻帘，通过左窗帘和右窗帘的相对移动实现开帘和闭帘，但是为了保证在闭帘状态下的美观性和挡光性，需要尽量消除左窗帘和右窗帘之间的缝隙，故与第一左挂置件连接的第一窗帘夹片与第一右挂置件连接第二窗帘夹片一般的间距会很小，但是在调光时，由于窗帘夹片具有一定的宽度，在转动至一定角度时，第一窗帘夹片与第二窗帘夹片会接触并挤压，导致调光过程中会出现噪声，而且挤压容易使夹片发生变形，以及影响与夹片相连接的传动结构，导致窗帘导轨的使用寿命降低。如公告号为CN115067730B的专利公开了一种电动窗帘智能调节方法及电动窗帘导轨，在调光的过程中，通过使位置靠近的第一左挂置件和第一右挂置件相对移动来增加第一左挂置件和第一右挂置件之间的距离，以避免第一窗帘夹片和第二窗帘夹片不会发生相互挤压的情况发生，上述方式虽然在一定程度上避免了相互挤压的情况，但是在实际应用的过程中由于先进行移动再调节角度，造成了能耗的增加，同时在实际场景中，间距预设不合理同样会造成传动装置的损坏。发明内容为解决现有技术中存在的上述问题，本发明提供了一种电动垂直帘的智能控制系统及控制方法，通过角度与转数匹配获得窗帘夹片调整角度所需要的电机转数，控制电机的转数获得角度余量避免了窗帘夹片之间相互挤压，保护了传动组件，提升了控制系统的稳定性。本发明的目的可以通过以下技术方案实现：本发明提供了一种电动垂直帘的智能控制方法，包括以下步骤：S1、角度与转数匹配：通过角度校准模块获取当前传动组件中电机的转数与窗帘夹片转动角度的对应关系，根据对应关系计算期望角度所需的电机转数，同时设置电机转数余量；S2、获取电机电流阈值：通过电流监测模块获取角度校准后电机的稳态电流值，将当前电流值作为电机的第一基准值；S3、预设电流浮动阈值：根据第一基准值、故障电流值和能耗电流值设置电机的电流浮动阈值；S4、监测电流实时值：通过电流监测模块获取电机的实时电流值，当实时电流值处于电流浮动阈值时，继续执行电流值监测；当实时电流值超出电流浮动阈值时，重新进行角度与转数匹配，并获取电机电流阈值作为第二基准值，以此类推；通过第二基准值、故障电流值和能耗电流值重新设置电机的电流浮动阈值，应用最新的电流浮动阈值继续执行电流实时值的监测；S5、故障监测处理：通过故障报警模块将实时电流值与故障电流值做对比，当电流监测模块反馈的实时电流值超过故障电流值，控制电机反向转动预设数量，再根据实时电流值做出判定：若实时电流值大于等于故障电流值，则进行故障报警提示；若实时电流值小于故障电流值，则再次切换电机的转向继续执行用户的调整指令。进一步地，所述步骤S1中，电机转数余量通过传动组件的转换对应到窗帘夹片的角度余量。进一步地，所述步骤S2中，第一基准值是指在角度校准后的电机在当前运行环境下运行正常状态时的电流值。进一步地，所述步骤S3中，能耗电流值是依据电机的实际工作负载、环境条件、使用寿命和节能指标设定的用于电机能耗控制的电流值。本发明还提供了一种电动垂直帘的智能控制系统，应用于上述的电动垂直帘的智能控制方法，包括传动组件、电流监测模块、角度校准模块和故障报警模块；所述电流监测模块和角度校准模块均与传动组件连接，所述电流监测模块和故障报警模块均与角度校准模块连接；所述传动组件，包括电机、减速机构和传动机构，用于将电机端的转动次数转换为挂置件的转动次数；所述角度校准模块，用于通过控制电机转动获取挂置件齿轮转数与电机转数之间的对应关系；所述电流监测模块，用于获取电机的实时电流值；所述故障报警模块，用于通过切换电机的转动方向判定控制系统的运行状态并生成控制指令。作为本发明的一种优选技术方案，所述角度校准模块获取挂置件齿轮转数与电机转数之间的对应关系具体包括以下步骤：记录一次完整的窗帘夹片从开帘状态到关帘状态的过程中电机的转数，通过比例计算获取窗帘夹片调整一定角度时所需要的电机转数；其中，开帘状态到关帘状态的判定通过电流监测模块反馈的电流变化得出，同时窗帘夹片开帘状态和关帘状态均设置有限位组件。作为本发明的一种优选技术方案，所述故障报警模块生成控制指令包括：当电流监测模块反馈的实时电流值超过故障电流值时，控制电机反向转动预设数量，再根据反馈的实时电流值做出判定：若实时电流值大于等于故障电流值，则进行故障报警提示；若实时电流值小于故障电流值，则再次切换电机的转向继续执行用户的调整指令。作为本发明的一种优选技术方案，所述故障电流值是根据当前的传动组件和窗帘组件测试出正常运行状态下最大负载时电机的电流值。本发明的有益效果为：本发明通过角度与转数匹配获得窗帘夹片调整角度所需要的电机转数，在获得开关帘的控制命令时，电机只需要转动设定的转数即可停止，因此通过设置角度余量，避免了窗帘夹片之间相互挤压，同时也解决了噪声问题；在运行过程中还通过监测电流的实时值触发角度与转数的重新匹配动作，保证了传动机构调整窗帘夹片角度的准确性和实用性以及电机的能耗控制，同时基于实时电流值进行故障处理，提高了控制系统的稳定性。附图说明为了便于本领域技术人员理解，下面结合附图对本发明作进一步的说明。图1为本发明电动垂直帘智能控制系统的结构示意图。具体实施方式为更进一步阐述本发明为实现预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明的具体实施方式、结构、特征及其功效，详细说明如下。请参阅图1，本发明提供了一种电动垂直帘的智能控制系统，包括传动组件、电流监测模块、角度校准模块和故障报警模块；所述电流监测模块和角度校准模块均与传动组件连接，所述电流监测模块和故障报警模块均与角度校准模块连接。所述传动组件，包括电机、减速机构和传动机构，用于将电机端的转动次数转换为挂置件的转动次数。可理解的是，传动组件通过减速机构和传动机构的减速传动将电机端的转动次数转换为挂置件的转动次数，如电机转动1000转，带动挂置件齿轮转动10转，最终带动窗帘夹片完成一次转动，即带动窗帘完成一次转动。所述角度校准模块，用于通过控制电机转动获取挂置件齿轮转数与电机转数之间的对应关系，也即电机转数与窗帘夹片转动角度的对应关系。可理解的是，电机转数与窗帘夹片转动角度的对应关系是通过记录一次完整的窗帘夹片从开帘状态到关帘状态的过程中电机的转数，从而经过比例计算获取窗帘夹片调整一定角度时所需要的电机转数，在记录的过程中，完整的开帘状态到关帘状态的过程通过电流监测模块反馈的电流变化来判定的，其中窗帘夹片开帘状态和关帘状态均设置有限位组件。所述电流监测模块，用于获取电机的实时电流值。可理解的是，实际应用中，首先通过角度校准模块获取窗帘夹片转动一定角度所需的电机匹配转数，再根据控制指令电机只转动调整角度所需的次数，为避免窗帘夹片的相互挤压问题以及带来的噪声问题，电机实际转动的次数小于匹配转数，窗帘夹片实际的转动角度小于控制指令的调整角度，即预留一定的角度余量，而电机在达到转动次数后自动停止，通过以上方式避免了因卡死等故障导致电机持续不停地转动，同时避免了窗帘夹片的相互挤压，保护了传动组件。所述故障报警模块，用于通过切换电机的转动方向判定控制系统的运行状态并生成控制指令。需说明的是，传动组件在执行用户的调整指令过程中，当电流监测模块反馈的实时电流值超过故障电流值时，控制电机反向转动预设数量，再根据反馈的实时电流值做出判定：若实时电流值大于等于故障电流值，则进行故障报警提示；若实时电流值小于故障电流值，则再次切换电机的转向继续执行用户的调整指令。需说明的是，故障电流值是指根据当前的传动组件和窗帘组件测试出正常运行状态下最大负载时电机的电流值。本发明还提供了一种电动垂直帘的智能控制方法，包括以下步骤：S1、角度与转数匹配：通过角度校准模块获取当前传动组件中电机的转数与窗帘夹片转动角度的对应关系，根据对应关系计算期望角度所需的电机转数，同时设置电机转数余量；可理解的是，通过设置电机转数余量，也就相应的出现了窗帘夹片角度调整的角度余量，避免了窗帘夹片之间的碰撞。S2、获取电机电流阈值：通过电流监测模块获取角度校准后电机的稳态电流值，将当前电流值作为电机的第一基准值；可理解的是，在角度校准后的电机稳态电流值即为电机在当前运行环境下运行正常状态时的电流值。S3、预设电流浮动阈值：根据当前的传动组件和窗帘组件测试出正常运行状态下最大负载时电机的电流值，将测试出的电流值作为电机的故障电流值；依据第一基准值、故障电流值和能耗电流值设置电机的电流浮动阈值；可理解的是，窗帘组件是指窗帘夹片和窗帘等，能耗电流值是为电机能耗控制而设置的电流值，通过综合考虑电机的实际工作负载、环境条件、使用寿命以及节能指标设定，因此该电流值并不会影响到电机的正常运行和所需的输出功率，只是将其作为控制命令生成的条件值；电流浮动阈值是预设的一个电流值范围，在设置电流浮动阈值时将第一基准值、故障电流值和能耗电流值均作为参考值，保证了电流检测模块在监测到实时电流值时能生成准确的控制策略。需说明的是，预设的电流浮动阈值是作为控制系统在传动组件运行正常状态下对电机能耗变化的监控，随着电动垂直帘的运行，传动组件和窗帘组件等的老化、磨损以及其他影响，电机在完成同样角度的作业时，电机的能耗会相应的增大，同时电机的转数也会相应增加，但是在未进行角度校准动作时，电机的转动次数是固定的，因此需要再次进行角度与转数匹配。S4、监测电流实时值：通过电流监测模块获取电机的实时电流值，当实时电流值处于电流浮动阈值时，继续执行电流值监测；当实时电流值超出电流浮动阈值时，重新进行角度与转数匹配，并获取电机电流阈值作为第二基准值，以此类推；通过第二基准值、故障电流值和能耗电流值重新设置电机的电流浮动阈值，应用最新的电流浮动阈值继续执行电流实时值的监测。可理解的是，再次进行角度与转数匹配是为了保证角度调整执行结果的准确性，避免在长期的运行过程中由于传动组件磨损、老化而引起所需电机转数变化导致的调整后角度不足的问题。S5、故障监测处理：通过故障报警模块将实时电流值与故障电流值做对比，当电流监测模块反馈的实时电流值超过故障电流值，控制电机反向转动预设数量，再根据实时电流值做出判定：若实时电流值大于等于故障电流值，则进行故障报警提示；若实时电流值小于故障电流值，则再次切换电机的转向继续执行用户的调整指令。本发明通过角度与转数匹配获得窗帘夹片调整角度所需要的电机转数，在获得开关帘的控制命令时，电机只需要转动设定的转数即可停止，因此通过设置角度余量，避免了窗帘夹片之间相互挤压，同时也解决了噪声问题；在运行过程中还通过监测电流的实时值触发角度与转数的重新匹配动作，保证了传动机构调整窗帘夹片角度的准确性和实用性以及电机的能耗控制，同时基于实时电流值进行故障处理，提高了控制系统的稳定性。以上所述，仅是本发明的较佳实施例而已，并非对本发明作任何形式上的限制，虽然本发明已以较佳实施例揭示如上，然而并非用以限定本发明，任何本领域技术人员，在不脱离本发明技术方案范围内，当可利用上述揭示的技术内容做出些许更动或修饰为等同变化的等效实施例，但凡是未脱离本发明技术方案内容，依据本发明的技术实质对以上实施例所作的任何简介修改、等同变化与修饰，均仍属于本发明技术方案的范围内。
