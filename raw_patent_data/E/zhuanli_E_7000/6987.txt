标题title
一种射孔测量的方法、装置、设备和可读存储介质
摘要abst
本申请提供一种射孔测量的方法、装置、设备和可读存储介质，该方法包括，通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像；通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像；对管柱表面图像上的目标检测点进行测量。通过该方法可以达到提高井下摄像机测量射孔的准确性的效果。
权利要求书clms
1.一种射孔测量的方法，其特征在于，包括：通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像；通过所述相机成像模型和预设的套柱模型对所述二维管柱图像进行图像处理，得到所述井下三维管柱图像的管柱表面图像；对所述管柱表面图像上的目标检测点进行测量。2.根据权利要求1所述的方法，其特征在于，所述通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像，包括：通过所述相机成像模型将所述井下三维管柱图像上的空间三维点集映射成平面中的二维点集，得到所述二维管柱图像，其中，所述通过所述相机成像模型将所述井下三维管柱图像上的空间三维点集映射成平面中的二维点集是通过如下公式得到的：I＝a*f,C)；r＝af；xi＝rcosθ+n/2；yi＝rsinθ+m/2；其中，I表示所述二维管柱图像上的点，xi表示二维管柱图像上点的x轴坐标，yi表示二维管柱图像上点的y轴坐标，a表示相机参数，f表示相机模型函数，f/f表示相机成像模型函数，T表示所述井下三维管柱图像上的点，x表示所述井下三维管柱图像上点的x轴坐标，y表示所述井下三维管柱图像上点的y轴坐标，z表示所述井下三维管柱图像上点的z轴坐标，C为一个常数，d表示相机位置到所述井下三维管柱图像上点的距离，xc表示所述相机位置的x轴坐标，yc表示所述相机位置的y轴坐标，zc表示所述相机位置的z轴坐标，α表示相机和所述井下三维管柱图像上点的俯仰角，r表示所述二维管柱图像的半径，R表示所述井下三维管柱图像的半径，θ表示分辨率，xo表示井下三维管柱图像中心的x轴坐标，n表示所述二维管柱图像的宽度，m表示所述二维管柱图像的长度。3.根据权利要求1或2所述的方法，其特征在于，所述通过所述相机成像模型和预设的套柱模型对所述二维管柱图像进行图像处理，得到所述井下三维管柱图像的管柱表面图像，包括：通过所述套柱模型对所述二维管柱图像进行模型匹配，得到接箍图像，其中，所述接箍图像表示所述二维管柱图像对应的规则图像；通过所述相机成像模型对所述接箍图像进行图像处理，得到所述管柱表面图像。4.根据权利要求3所述的方法，其特征在于，所述通过所述相机成像模型对所述接箍图像进行图像处理，是通过如下公式得到的：r＝af；x1＝rcosθ+xo；y2＝rsinθ+yo；Im2＝Im1；其中，α表示相机和所述井下三维管柱图像上点的俯仰角，a表示相机参数，R表示所述井下三维管柱图像的半径，r表示所述二维管柱图像的半径，d0表示相机位置到所述井下三维管柱图像上点的距离，θ表示分辨率，Im1表示所述二维管柱图像上的点，x1表示所述二维管柱图像上点的x轴坐标，y1表示所述二维管柱图像上点的y轴坐标，Im2表示所述管柱表面图像上的点，x2表示所述管柱表面图像上点的x轴坐标，y2表示所述管柱表面图像上点的y轴坐标，n表示所述二维管柱图像的宽度，n2表示所述管住表面图像竖向像素数，f表示相机模型函数，xo表示井下三维管柱图像中心的x轴坐标，yo表示井下三维管柱图像中心的y轴坐标。5.根据权利要求3所述的方法，其特征在于，所述通过所述套柱模型对所述二维管柱图像进行模型匹配，得到接箍图像，包括：通过所述套柱模型调整预设的接箍图像的半径和中心坐标，直到所述接箍图像的半径和中心坐标与所述二维管柱图像重合为止，得到所述接箍图像。6.根据权利要求1或2所述的方法，其特征在于，在所述通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理之前，所述方法还包括：获取所述超广角相机拍摄的标准三维管柱图像集合，其中，所述标准三维管柱图像集合包括多个三维管柱图像和所述多个三维管柱图像对应的多个标准二维管柱图像；通过所述标准三维管柱图像集合对基础映射模型进行训练，得到所述相机成像模型。7.根据权利要求6所述的方法，其特征在于，所述通过所述标准三维管柱图像集合对基础映射模型进行训练，包括：将所述标准三维管柱图像集合中的所述多个三维管柱图像输入所述基础映射模型，得到多个二维图像；调整模型的参数，直到所述多个二维图像分别与所述多个标准二维管柱图像重合为止。8.根据权利要求1或2所述的方法，其特征在于，所述对所述管柱表面图像上的目标检测点进行测量，包括：对所述管柱表面图像上的目标检测点的参数进行测量，其中，所述参数包括：长轴长度参数、短轴长度参数、平均孔径参数、周长参数、面积参数和圆度参数中的至少一个。9.一种射孔测量的装置，其特征在于，包括：映射模块，用于通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像；处理模块，用于通过所述相机成像模型和预设的套柱模型对所述二维管柱图像进行图像处理，得到所述井下三维管柱图像的管柱表面图像；测量模块，用于对所述管柱表面图像上的目标检测点进行测量。10.一种电子设备，其特征在于，包括：存储器和处理器，所述存储器存储有计算机可读取指令，当所述计算机可读取指令由所述处理器执行时，运行如权利要求1-8中任一项所述方法中的步骤。11.一种计算机可读存储介质，其特征在于，包括：计算机程序，当所述计算机程序在计算机上运行时，使得所述计算机执行如权利要求1-8中任一项所述的方法。
说明书desc
技术领域本申请涉及射孔测量的领域，具体而言，涉及一种射孔测量的方法、装置、设备和可读存储介质。背景技术目前，基于井下阵列侧视摄像机检测射孔冲蚀的技术还不够完善，对于一些石油和天然气等矿物质只能通过简单的算法完成检测，或者通过相机拍摄图像后人工进行图像处理和最终的目标检测。上述检测过程中，由于技术的不完善，安全不能得到保证，并且对于一些物质的检测结果也不准确。因此，如何提高井下摄像机测量射孔的准确性，是一个需要解决的技术问题。发明内容本申请实施例的目的在于提供一种射孔测量的方法，通过本申请的实施例的技术方案可以达到提高井下摄像机测量射孔的准确性的效果。第一方面，本申请实施例提供了一种射孔测量的方法，包括，通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像；通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像；对管柱表面图像上的目标检测点进行测量。本申请在上述实施例中，通过相机成像模型和套柱模型可以使三维的管柱图像转换成二维的管柱表面图像，可以直接对转换得到的二维图像检测间接的实现对三维管柱表面进行检测，其应用上可以达到提高井下摄像机测量射孔的准确性的效果。在一些实施例中，通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像，包括：通过相机成像模型将井下三维管柱图像上的空间三维点集映射成平面中的二维点集，得到二维管柱图像，其中，通过相机成像模型将井下三维管柱图像上的空间三维点集映射成平面中的二维点集是通过如下公式得到的：I＝a*f,C)；r＝af；xi＝rcosθ+n/2；yi＝rsinθ+m/2；其中，I表示二维管柱图像上的点，xi表示二维管柱图像上点的x轴坐标，yi表示二维管柱图像上点的y轴坐标，a表示相机参数，f表示相机模型函数，f/f表示相机成像模型函数，T表示井下三维管柱图像上的点，x表示井下三维管柱图像上点的x轴坐标，y表示井下三维管柱图像上点的y轴坐标，z表示井下三维管柱图像上点的z轴坐标，C为一个常数，d表示相机位置到井下三维管柱图像上点的距离，xc表示相机位置的x轴坐标，yc表示相机位置的y轴坐标，zc表示相机位置的z轴坐标，α表示相机和井下三维管柱图像上点的俯仰角，r表示二维管柱图像的半径，R表示井下三维管柱图像的半径，θ表示分辨率，xo表示井下三维管柱图像中心的x轴坐标，n表示二维管柱图像的宽度，m表示二维管柱图像的长度。本申请在上述实施例中，通过上述算法进行映射得到的二维管柱图像可以准确的进行图像的转换。在一些实施例中，通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像，包括：通过套柱模型对二维管柱图像进行模型匹配，得到接箍图像，其中，接箍图像表示二维管柱图像对应的规则图像；通过相机成像模型对接箍图像进行图像处理，得到管柱表面图像。本申请在上述实施例中，通过匹配接箍图像，可以将二维管柱图像转换成规则的二维图像，进而将二维图像转换成管柱表面图像时的结果更加准确。在一些实施例中，通过相机成像模型对接箍图像进行图像处理，是通过如下公式得到的：r＝af；x1＝rcosθ+xo；y2＝rsinθ+yo；Im2＝Im1；其中，α表示相机和井下三维管柱图像上点的俯仰角，a表示相机参数，R表示井下三维管柱图像的半径，r表示二维管柱图像的半径，d0表示相机位置到井下三维管柱图像上点的距离，θ表示分辨率，Im1表示二维管柱图像上的点，x1表示二维管柱图像上点的x轴坐标，y1表示二维管柱图像上点的y轴坐标，Im2表示管柱表面图像上的点，x2表示管柱表面图像上点的x轴坐标，y2表示管柱表面图像上点的y轴坐标，n表示二维管柱图像的宽度，n2表示所述管住表面图像竖向像素数，f表示相机模型函数，xo表示井下三维管柱图像中心的x轴坐标，yo表示井下三维管柱图像中心的y轴坐标。本申请在上述实施例中，通过上述算法可以将二维管柱图像准确的转换成管柱表面图像。在一些实施例中，通过套柱模型对二维管柱图像进行模型匹配，得到接箍图像，包括：通过套柱模型调整预设的接箍图像的半径和中心坐标，直到接箍图像的半径和中心坐标与二维管柱图像重合为止，得到接箍图像。本申请在上述实施例中，可以通过对预设的接箍图像进行半径和中心坐标的调整，调整到和二维管柱图像重合为止，进而得到更准确的接箍图像，能够更好的还原二维管柱图像对应的标准二维接箍图像。在一些实施例中，在通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理之前，还包括：获取超广角相机拍摄的标准三维管柱图像集合，其中，标准三维管柱图像集合包括多个三维管柱图像和多个三维管柱图像对应的多个标准二维管柱图像；通过标准三维管柱图像集合对基础映射模型进行训练，得到相机成像模型。本申请在上述实施例中，通过标准三维管柱图像集合对基础映射模型进行训练得到的相机成像模型可以准确的将三维管柱图像转换为二维的管柱表面图像。在一些实施例中，通过标准三维管柱图像集合对基础映射模型进行训练，包括：将标准三维管柱图像集合中的多个三维管柱图像输入基础映射模型，得到多个二维图像；调整模型的参数，直到多个二维图像分别与多个标准二维管柱图像重合为止。本申请在上述实施例中，通过调整模型的参数可以使模型更精准，得到的二维管柱表面图像也会更准确，最终进行射孔测量得到的结果也会更加准确。在一些实施例中，对管柱表面图像上的目标检测点进行测量，包括：对管柱表面图像上的目标检测点的参数进行测量，其中，参数包括：长轴长度参数、短轴长度参数、平均孔径参数、周长参数、面积参数和圆度参数中的至少一个。本申请在上述实施例中，通过上述检测方法可以直接的对圆柱表面上的目标物的多个参数进行准确的测量。第二方面，本申请实施例提供了一种射孔测量的装置，包括：映射模块，用于通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像；处理模块，用于通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像；测量模块，用于对管柱表面图像上的目标检测点进行测量。可选的，映射模块具体用于：通过相机成像模型将井下三维管柱图像上的空间三维点集映射成平面中的二维点集，得到二维管柱图像，其中，通过相机成像模型将井下三维管柱图像上的空间三维点集映射成平面中的二维点集是通过如下公式得到的：I＝a*f,C)；/＞r＝af；xi＝rcosθ+n/2；yi＝rsinθ+m/2；其中，I表示二维管柱图像上的点，xi表示二维管柱图像上点的x轴坐标，yi表示二维管柱图像上点的y轴坐标，a表示相机参数，f表示相机模型函数，f/f表示相机成像模型函数，T表示井下三维管柱图像上的点，x表示井下三维管柱图像上点的x轴坐标，y表示井下三维管柱图像上点的y轴坐标，z表示井下三维管柱图像上点的z轴坐标，C为一个常数，d表示相机位置到井下三维管柱图像上点的距离，xc表示相机位置的x轴坐标，yc表示相机位置的y轴坐标，zc表示相机位置的z轴坐标，α表示相机和井下三维管柱图像上点的俯仰角，r表示二维管柱图像的半径，R表示井下三维管柱图像的半径，θ表示分辨率，xo表示井下三维管柱图像中心的x轴坐标，n表示二维管柱图像的宽度，m表示二维管柱图像的长度。可选的，处理模块具体用于：通过套柱模型对二维管柱图像进行模型匹配，得到接箍图像，其中，接箍图像表示二维管柱图像对应的规则图像；通过相机成像模型对接箍图像进行图像处理，得到管柱表面图像。可选的，所述处理模块通过相机成像模型对接箍图像进行图像处理，是通过如下公式得到的：r＝af；x1＝rcosθ+xo；y2＝rsinθ+yo；Im2＝Im1；其中，α表示相机和井下三维管柱图像上点的俯仰角，a表示相机参数，R表示井下三维管柱图像的半径，r表示二维管柱图像的半径，d0表示相机位置到井下三维管柱图像上点的距离，θ表示分辨率，Im1表示二维管柱图像上的点，x1表示二维管柱图像上点的x轴坐标，y1表示二维管柱图像上点的y轴坐标，Im2表示管柱表面图像上的点，x2表示管柱表面图像上点的x轴坐标，y2表示管柱表面图像上点的y轴坐标，n表示二维管柱图像的宽度，n2表示所述管住表面图像竖向像素数，f表示相机模型函数，xo表示井下三维管柱图像中心的x轴坐标，yo表示井下三维管柱图像中心的y轴坐标。可选的，处理模块具体用于：通过套柱模型调整预设的接箍图像的半径和中心坐标，直到接箍图像的半径和中心坐标与二维管柱图像重合为止，得到接箍图像。可选的，所述装置还包括：训练模块，用于所述映射模块在通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理之前，获取超广角相机拍摄的标准三维管柱图像集合，其中，标准三维管柱图像集合包括多个三维管柱图像和多个三维管柱图像对应的多个标准二维管柱图像；通过标准三维管柱图像集合对基础映射模型进行训练，得到相机成像模型。可选的，训练模块具体用于：将标准三维管柱图像集合中的多个三维管柱图像输入基础映射模型，得到多个二维图像；调整模型的参数，直到多个二维图像分别与多个标准二维管柱图像重合为止。可选的，测量模块具体用于：对管柱表面图像上的目标检测点的参数进行测量，其中，参数包括：长轴长度参数、短轴长度参数、平均孔径参数、周长参数、面积参数和圆度参数中的至少一个。第三方面，本申请实施例提供一种电子设备，包括处理器以及存储器，所述存储器存储有计算机可读取指令，当所述计算机可读取指令由所述处理器执行时，运行如上述第一方面提供的所述方法中的步骤。第四方面，本申请实施例提供一种可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时运行如上述第一方面提供的所述方法中的步骤。本申请的其他特征和优点将在随后的说明书阐述，并且，部分地从说明书中变得显而易见，或者通过实施本申请实施例了解。本申请的目的和其他优点可通过在所写的说明书、权利要求书、以及附图中所特别指出的结构来实现和获得。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对本申请实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本申请实施例提供的一种射孔测量的方法的流程图；图2为本申请实施例提供的一种三维管柱图像和二维管柱图像示意图；图3为本申请实施例提供的一种模型匹配接箍图像的示意图；图4为本申请实施例提供的一种管柱表面图像的示意图；图5为本申请实施例提供的一种射孔参数测量的示意图；图6为本申请实施例提供的一种射孔测量的装置的示意框图；图7为本申请实施例提供的一种射孔测量的装置的结构示意图。具体实施方式下面将结合本申请实施例中附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。通常在此处附图中描述和显示出的本申请实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本申请的实施例的详细描述并非旨在限制要求保护的本申请的范围，而是仅仅表示本申请的选定实施例。基于本申请的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本申请保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。同时，在本申请的描述中，术语“第一”、“第二”等仅用于区分描述，而不能理解为指示或暗示相对重要性。本申请应用于射孔测量的场景，具体场景为通过井下前视超广角摄像机拍摄井下的三维图像，通过三维图像的转换得到井下内壁的二维图像，进而可以直接进行二维图像的射孔测量。例如，应用于页岩油气井射孔检测和压裂评价。但是目前，基于井下阵列侧视摄像机检测射孔冲蚀的技术还不够完善，对于一些石油和天然气等矿物质只能通过简单的算法完成检测，或者通过相机拍摄图像后人工进行图像处理和最终的目标检测。上述检测过程中，由于技术的不完善，安全不能得到保证，并且对于一些物质的检测结果也不准确。为此本申请通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像；通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像；对管柱表面图像上的目标检测点进行测量。通过相机成像模型和套柱模型可以使三维的管柱图像转换成二维的管柱表面图像，可以直接对转换得到的二维图像检测间接的实现对三维管柱表面进行检测，其应用上可以达到提高井下摄像机测量射孔的准确性的效果。本申请实施例中，执行主体可以为射孔测量系统中的射孔测量设备，实际应用中，射孔测量设备可以为超广角摄像机终端设备和服务器等电子设备，在此不做限制。下面结合图1对本申请实施例的射孔测量的方法进行详细描述。请参看图1，图1为本申请实施例提供的一种射孔测量的方法的流程图，如图1所示的射孔测量的方法包括：步骤110：通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像。其中，本申请中相机成像模型可以与超广角相机结合为一体共同实现井下射孔的测量，相机成像模型可以直接将超广角相机拍摄的井下三维管柱图像转换成井下内壁的二维图像，二维图像为内壁平铺图。二维管柱图像可以理解为三维管柱图像的一个俯视图，通过映射可以直接得到一个二维管柱图像。在本申请的一些实施例中，在通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理之前，图1所示的方法还包括：获取超广角相机拍摄的标准三维管柱图像集合，其中，标准三维管柱图像集合包括多个三维管柱图像和多个三维管柱图像对应的多个标准二维管柱图像；通过标准三维管柱图像集合对基础映射模型进行训练，得到相机成像模型。本申请在上述过程中，通过标准三维管柱图像集合对基础映射模型进行训练得到的相机成像模型可以准确的将三维管柱图像转换为二维的管柱表面图像。其中，标准三维管柱图像集合中包括多个三维管柱图像，三维管柱图像可以是各种矿物质井的管柱图。标准二维管柱图可以是通过调整三维管柱图像映射得到的二维管柱图得到的。在本申请的一些实施例中，通过标准三维管柱图像集合对基础映射模型进行训练，包括：将标准三维管柱图像集合中的多个三维管柱图像输入基础映射模型，得到多个二维图像；调整模型的参数，直到多个二维图像分别与多个标准二维管柱图像重合为止。本申请在上述过程中，通过调整模型的参数可以使模型更精准，得到的二维管柱表面图像也会更准确，最终进行射孔测量得到的结果也会更加准确。其中，模型的参数可以包括相机的参数。调整参数后，当多个二维图像分别与多个标准二维管柱图像重合表明相机成像模型为标准模型，输入三维管柱图像时可以准确的输出标准的二维管柱图像。在本申请的一些实施例中，通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像，包括：通过相机成像模型将井下三维管柱图像上的空间三维点集映射成平面中的二维点集，得到二维管柱图像，其中，通过相机成像模型将井下三维管柱图像上的空间三维点集映射成平面中的二维点集是通过如下公式得到的：I＝a*f,C)；r＝af；xi＝rcosθ+n/2；yi＝rsinθ+m/2；其中，I表示二维管柱图像上的点，xi表示二维管柱图像上点的x轴坐标，yi表示二维管柱图像上点的y轴坐标，a表示相机参数，f表示相机模型函数，f/f表示相机成像模型函数，T表示井下三维管柱图像上的点，x表示井下三维管柱图像上点的x轴坐标，y表示井下三维管柱图像上点的y轴坐标，z表示井下三维管柱图像上点的z轴坐标，C为一个常数，d表示相机位置到井下三维管柱图像上点的距离，xc表示相机位置的x轴坐标，yc表示相机位置的y轴坐标，zc表示相机位置的z轴坐标，α表示相机和井下三维管柱图像上点的俯仰角，r表示二维管柱图像的半径，R表示井下三维管柱图像的半径，θ表示分辨率，xo表示井下三维管柱图像中心的x轴坐标，n表示二维管柱图像的宽度，m表示二维管柱图像的长度。本申请在上述过程中，通过上述算法进行映射得到的二维管柱图像可以准确的进行图像的转换。请参看图2，图2为本申请提供的一种三维管柱图像和二维管柱图像示意图。其中，二维管柱图像是通过上述算法将三维管柱图像进行图像转换之后得到的。此外，在通过上述算法进行图像转换之前，还需要通过确定三维管柱图像上的一些空间点集，其中，三维管柱图像上的一些空间点集可以通过如下公式得到：其中，x表示三维管柱图像上的一些空间点的x轴坐标，y表示三维管柱图像上的一些空间点的y轴坐标，z表示三维管柱图像上的一些空间点的z轴坐标，R表示三维管柱图像的半径，xo表示三维管柱图像中心的x轴坐标，yo表示三维管柱图像中心的y轴坐标，zo表示三维管柱图像中心的z轴坐标，θ表示三维管柱图像中心和三维管柱图像上的一些空间点相对于平面的角度。步骤120：通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像。其中，套柱模型用于为二维管柱图像匹配标准的二维管柱图像，因为二维管柱图像在实际应用时可能不是规则的井下图像，需要匹配对应的标准二维管柱图像，管柱表面图像可以是三维管柱图像的内壁的平铺图。在本申请的一些实施例中，通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像，包括：通过套柱模型对二维管柱图像进行模型匹配，得到接箍图像，其中，接箍图像表示二维管柱图像对应的规则图像；通过相机成像模型对接箍图像进行图像处理，得到管柱表面图像。本申请在上述过程中，通过匹配接箍图像，可以将二维管柱图像转换成规则的二维图像，进而将二维图像转换成管柱表面图像时的结果更加准确。其中，接箍图像可以是一些三维管柱图像对应网状的二维管柱图像，该网状的二维管柱图像为标准的圆柱图像对应的二维图像。具体的，请参看图3，图3为本申请提供的一种模型匹配接箍图像的示意图，图中内侧中白点为二维管柱图像的中心，网状圆柱图像为匹配得到的接箍图像，可以看出网状圆柱图像与三维管柱图像内侧表面相吻合。具体的，请参看图4，图4为本申请提供的一种管柱表面图像的示意图，图4中图像可以理解为三维管柱的表面图，例如，可以是井下拍摄的圆柱图对应的内壁平铺图。在本申请的一些实施例中，通过相机成像模型对接箍图像进行图像处理，是通过如下公式得到的：r＝af；x1＝rcosθ+xo；y2＝rsinθ+yo；Im2＝Im1；其中，α表示相机和井下三维管柱图像上点的俯仰角，a表示相机参数，R表示井下三维管柱图像的半径，r表示二维管柱图像的半径，d0表示相机位置到井下三维管柱图像上点的距离，θ表示分辨率，Im1表示二维管柱图像上的点，x1表示二维管柱图像上点的x轴坐标，y1表示二维管柱图像上点的y轴坐标，Im2表示管柱表面图像上的点，x2表示管柱表面图像上点的x轴坐标，y2表示管柱表面图像上点的y轴坐标，n表示二维管柱图像的宽度，n2表示所述管住表面图像竖向像素数，f表示相机模型函数，xo表示井下三维管柱图像中心的x轴坐标，yo表示井下三维管柱图像中心的y轴坐标。本申请在上述过程中，通过上述算法可以将二维管柱图像准确的转换成管柱表面图像。在本申请的一些实施例中，通过套柱模型对二维管柱图像进行模型匹配，得到接箍图像，包括：通过套柱模型调整预设的接箍图像的半径和中心坐标，直到接箍图像的半径和中心坐标与二维管柱图像重合为止，得到接箍图像。本申请在上述过程中，可以通过对预设的接箍图像进行半径和中心坐标的调整，调整到和二维管柱图像重合为止，进而得到更准确的接箍图像，能够更好的还原二维管柱图像对应的标准二维接箍图像。其中，接箍图像可以是提前存储于图库中的，其中还包括多个不同规格的接箍图像，使用时直接匹配对应规格的接箍图像即可，也可以是通过上述发方法调整接箍图像的半径和中心坐标，直到接箍图像的半径和中心坐标与二维管柱图像重合为止，也可以得到标准的接箍图像。步骤130：对管柱表面图像上的目标检测点进行测量。在本申请的一些实施例中，对管柱表面图像上的目标检测点进行测量，包括：对管柱表面图像上的目标检测点的参数进行测量，其中，参数包括：长轴长度参数、短轴长度参数、平均孔径参数、周长参数、面积参数和圆度参数中的至少一个。本申请在上述过程中，通过上述检测方法可以直接的对圆柱表面上的目标物的多个参数进行准确的测量。其中，检测点可以是井下探测中一些矿物质的检测，可以是一些射孔检测。具体的，请参看图5，图5为本申请提供的一种射孔参数测量的示意图，如图所示的参数包括：长轴长度参数、短轴长度参数、平均孔径参数、周长参数、面积参数和圆度参数。例如：长轴长度：19.6mm、短轴长度：11.4mm、平均孔径：15.1mm、周长：51.6mm、面积：180.2mm2和圆度：0.85。在上述图1所示的过程中，本申请通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像；通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像；对管柱表面图像上的目标检测点进行测量。通过相机成像模型和套柱模型可以使三维的管柱图像转换成二维的管柱表面图像，可以直接对转换得到的二维图像检测间接的实现对三维管柱表面进行检测，其应用上可以达到提高井下摄像机测量射孔的准确性的效果。前文通过图1描述了射孔测量的方法，下面结合图6-图7描述射孔测量的装置。请参照图6，为本申请实施例中提供的一种射孔测量的装置600的示意框图，该装置600可以是电子设备上的模块、程序段或代码。该装置600与上述图1方法实施例对应，能够执行图1方法实施例涉及的各个步骤，该装置600具体的功能可以参见下文中的描述，为避免重复，此处适当省略详细描述。可选的，所述装置600包括：映射模块610，用于通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像；处理模块620，用于通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像；测量模块630，用于对管柱表面图像上的目标检测点进行测量。可选的，映射模块具体用于：通过相机成像模型将井下三维管柱图像上的空间三维点集映射成平面中的二维点集，得到二维管柱图像，其中，通过相机成像模型将井下三维管柱图像上的空间三维点集映射成平面中的二维点集是通过如下公式得到的：I＝a*f,C)；r＝af；xi＝rcosθ+n/2；yi＝rsinθ+m/2；其中，I表示二维管柱图像上的点，xi表示二维管柱图像上点的x轴坐标，yi表示二维管柱图像上点的y轴坐标，a表示相机参数，f表示相机模型函数，f/f表示相机成像模型函数，T表示井下三维管柱图像上的点，x表示井下三维管柱图像上点的x轴坐标，y表示井下三维管柱图像上点的y轴坐标，z表示井下三维管柱图像上点的z轴坐标，C为一个常数，d表示相机位置到井下三维管柱图像上点的距离，xc表示相机位置的x轴坐标，yc表示相机位置的y轴坐标，zc表示相机位置的z轴坐标，α表示相机和井下三维管柱图像上点的俯仰角，r表示二维管柱图像的半径，R表示井下三维管柱图像的半径，θ表示分辨率，xo表示井下三维管柱图像中心的x轴坐标，n表示二维管柱图像的宽度，m表示二维管柱图像的长度。可选的，处理模块具体用于：通过套柱模型对二维管柱图像进行模型匹配，得到接箍图像，其中，接箍图像表示二维管柱图像对应的规则图像；通过相机成像模型对接箍图像进行图像处理，得到管柱表面图像。可选的，所述处理模块通过相机成像模型对接箍图像进行图像处理，是通过如下公式得到的：r＝af；x1＝rcosθ+xo；y2＝rsinθ+yo；Im2＝Im1；其中，α表示相机和井下三维管柱图像上点的俯仰角，a表示相机参数，R表示井下三维管柱图像的半径，r表示二维管柱图像的半径，d0表示相机位置到井下三维管柱图像上点的距离，θ表示分辨率，Im1表示二维管柱图像上的点，x1表示二维管柱图像上点的x轴坐标，y1表示二维管柱图像上点的y轴坐标，Im2表示管柱表面图像上的点，x2表示管柱表面图像上点的x轴坐标，y2表示管柱表面图像上点的y轴坐标，n表示二维管柱图像的宽度，n2表示所述管住表面图像竖向像素数，f表示相机模型函数，xo表示井下三维管柱图像中心的x轴坐标，yo表示井下三维管柱图像中心的y轴坐标。可选的，处理模块具体用于：通过套柱模型调整预设的接箍图像的半径和中心坐标，直到接箍图像的半径和中心坐标与二维管柱图像重合为止，得到接箍图像。可选的，所述装置还包括：训练模块，用于所述映射模块在通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理之前，获取超广角相机拍摄的标准三维管柱图像集合，其中，标准三维管柱图像集合包括多个三维管柱图像和多个三维管柱图像对应的多个标准二维管柱图像；通过标准三维管柱图像集合对基础映射模型进行训练，得到相机成像模型。可选的，训练模块具体用于：将标准三维管柱图像集合中的多个三维管柱图像输入基础映射模型，得到多个二维图像；调整模型的参数，直到多个二维图像分别与多个标准二维管柱图像重合为止。可选的，测量模块具体用于：对管柱表面图像上的目标检测点的参数进行测量，其中，参数包括：长轴长度参数、短轴长度参数、平均孔径参数、周长参数、面积参数和圆度参数中的至少一个。请参照图7为本申请实施例中提供的一种射孔测量的装置的结构示意框图，该装置可以包括存储器710和处理器720。可选的，该装置还可以包括：通信接口730和通信总线740。该装置与上述图1方法实施例对应，能够执行图1方法实施例涉及的各个步骤，该装置具体的功能可以参见下文中的描述。具体的，存储器710，用于存储计算机可读指令。处理器720，用于处理存储器存储的可读指令，能够执行图1方法中的各个步骤。通信接口730，用于与其他节点设备进行信令或数据的通信。例如：用于与服务器或者终端的通信，或者与其它设备节点进行通信，本申请实施例并不限于此。通信总线740，用于实现上述组件直接的连接通信。其中，本申请实施例中设备的通信接口730用于与其他节点设备进行信令或数据的通信。存储器710可以是高速RAM存储器，也可以是非不稳定的存储器，例如至少一个磁盘存储器。存储器710可选的还可以是至少一个位于远离前述处理器的存储装置。存储器710中存储有计算机可读取指令，当所述计算机可读取指令由所述处理器720执行时，电子设备执行上述图1所示方法过程。处理器720可以用于装置600上，并且用于执行本申请中的功能。示例性地，上述的处理器720可以是通用处理器、数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件，本申请实施例并不局限于此。本申请实施例还提供一种可读存储介质，所述计算机程序被处理器执行时，执行如图1所示方法实施例中电子设备所执行的方法过程。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的装置的具体工作过程，可以参考前述方法中的对应过程，在此不再过多赘述。综上所述，本申请实施例提供一种射孔测量的方法、装置、电子设备和可读存储介质，该方法包括，通过预设的相机成像模型对超广角相机拍摄的井下三维管柱图像进行映射处理，得到二维管柱图像；通过相机成像模型和预设的套柱模型对二维管柱图像进行图像处理，得到井下三维管柱图像的管柱表面图像；对管柱表面图像上的目标检测点进行测量。通过该方法可以达到提高井下摄像机测量射孔的准确性的效果。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，附图中的流程图和框图显示了根据本申请的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本申请各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。所述功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述仅为本申请的实施例而已，并不用于限制本申请的保护范围，对于本领域的技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。以上所述，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应所述以权利要求的保护范围为准。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。
