标题title
一种采煤机截割滚筒的高度路径规划方法
摘要abst
本发明涉及数据处理技术领域，具体涉及一种采煤机截割滚筒的高度路径规划方法。首先通过煤层边界数据中各个数据点位置处的角度差异特征获得各个数据点的截割贴合难度系数，进而根据截割贴合难度系数和数据点位置构建截割特征向量，根据截割特征向量进行聚类获得不同的煤层平坦程度的边界区间。根据各边界区间内不同划分结果下轨迹点的数量、轨迹点与数据点的截割贴合难度系数的差异建立关于每个划分结果下的目标函数，通过优化算法对目标函数求解获得最优划分结果和对应的最优轨迹点。根据最优轨迹点进行截割滚筒的高度路径规划，提高采煤效率和原煤质量。
权利要求书clms
1.一种采煤机截割滚筒的高度路径规划方法，其特征在于，该方法包括以下步骤：获取煤层的边界数据，根据所述边界数据中的每个数据点位置处的角度变化特征获得每个数据点的截割贴合难度系数；根据所述边界数据中所有数据点的位置和对应数据点的截割贴合难度系数进行聚类，获得煤层的不同边界区间；根据所有边界区间内不同划分结果下轨迹点的数量、所述轨迹点与边界区间内数据点的截割贴合难度系数的差异，建立关于每个划分结果下的目标函数；根据所述目标函数获得最优划分结果及对应的最优轨迹点；根据所述最优轨迹点的位置对采煤机截割滚筒进行高度路径规划。2.根据权利要求1所述的一种采煤机截割滚筒的高度路径规划方法，其特征在于，所述角度变化特征的获取步骤包括：获得目标数据点对应的每个相邻数据点与目标数据点的相对角度，以所述相邻数据点之间所述相对角度的角度差异作为角度变化特征。3.根据权利要求2所述的一种采煤机截割滚筒的高度路径规划方法，其特征在于，所述相对角度的获取步骤包括：以所述目标数据点的位置作为原点建立二维直角坐标系，根据所述目标数据点和所述目标数据点的所述相邻数据点的位置坐标相连构建线段，作为第一线段；根据第一线段与所述二维直角坐标系的横轴正半轴的夹角，获得所述目标数据点的所述相对角度；当所述相邻数据点在所述目标数据点的下方时，所述相对角度为负数。4.根据权利要求3所述的一种采煤机截割滚筒的高度路径规划方法，其特征在于，所述截割贴合难度系数的获取步骤包括：当所述角度差异大于时，计算/＞与所述角度差异的差值，作为第二差值；当所述角度差异小于等于/＞时，将所述角度差异直接作为第二差值；将第二差值进行负相关映射，获得所述截割贴合难度系数。5.根据权利要求1所述的一种采煤机截割滚筒的高度路径规划方法，其特征在于，所述目标函数的获取步骤包括：将每个边界区间内等间距划分，等间距划分位置为轨迹点位置，计算所述划分结果下每个轨迹点的截割贴合难度系数；计算所述边界区间的轨迹点的截割贴合难度系数平均值，作为第一平均值；计算所述边界区间的数据点的截割贴合难度系数平均值，作为第二平均值；计算第一平均值与第二平均值的差值绝对值并进行正相关映射，作为第三差值；计算所述边界区间的预设超参数与所述划分结果下轨迹点数量的乘积，作为第一乘积；计算所有边界区间的第一乘积与第三差值乘积的累加值，获得所述目标函数。6.根据权利要求1所述的一种采煤机截割滚筒的高度路径规划方法，其特征在于，所述最优轨迹点的获取步骤包括：通过遗传算法对所述目标函数求解，当所述目标函数的结果最小时，计算得到的各个边界区间的最优轨迹点数量，以所述最优轨迹点数量对应的划分结果作为最优划分结果，根据所述最优划分结果获得最优轨迹点。7.根据权利要求1所述的一种采煤机截割滚筒的高度路径规划方法，其特征在于，所述边界区间的获取步骤包括：将所述边界数据中所有数据点的位置坐标和对应数据点的截割贴合难度系数构建成三维的截割特征向量，将所有截割特征向量通过DBSCAN聚类算法进行聚类，获得煤层不同的边界区间。8.根据权利要求1所述的一种采煤机截割滚筒的高度路径规划方法，其特征在于，所述高度路径规划的具体步骤包括：根据所有边界区间的最优轨迹点位置，通过三次样条插值算法获得采煤机的截割滚筒的高度路径规划。
说明书desc
技术领域本发明涉及数据处理技术领域，具体涉及一种采煤机截割滚筒的高度路径规划方法。背景技术在煤炭开采过程中，采煤机的功能是在综采工作面进行采煤、落煤、装煤，由采煤机上的截割滚筒进行煤炭截割，然后煤炭掉落到刮板输送机进行传输，从而完成煤炭的开采。采煤机截割滚筒高度自动调整的关键技术是记忆截割技术，通过记忆截割技术能够使采煤机的截割滚筒自适应贴合煤层边界进行割煤操作。利用记忆截割技术确定采煤机截割滚筒高度路径时，需要预先探测煤层边界，以使得在实际割煤过程中，根据煤层变化情况，进行截割滚筒的高度调整。而通过记忆截割技术进行截割滚筒路径规划的过程中，路径规划的所有轨迹点都是等间隔划分，如果所有轨迹点之间的间隔过长，则会导致在非平坦区域的煤层处，采煤机截割滚筒对煤层的贴合能力下降，部分煤矿无法得到有效截割、影响效率，或截割到非煤层部分，造成采煤机磨损以及影响煤矿质量；如果所有轨迹点之间的间隔过短，则会导致在平坦区域也具有过多的轨迹控制点，若轨迹控制点差异不大时，不仅增加截割滚筒的控制调节次数与控制难度，同时容易造成采煤机截割系统的不稳定。发明内容为了解决上述采煤路径规划中轨迹点数量影响采煤机采煤过程中的生产效率和生产质量的技术问题，本发明的目的在于提供一种采煤机截割滚筒的高度路径规划方法，所采用的技术方案具体如下：获取煤层的边界数据，根据所述边界数据中的每个数据点位置处的角度变化特征获得每个数据点的截割贴合难度系数；根据所述边界数据中所有数据点的位置和对应数据点的截割贴合难度系数进行聚类，获得煤层的不同边界区间；根据所有边界区间内不同划分结果下轨迹点的数量、所述轨迹点与边界区间内数据点的截割贴合难度系数的差异，建立关于每个划分结果下的目标函数；根据所述目标函数获得最优划分结果及对应的最优轨迹点；根据所述最优轨迹点的位置对采煤机截割滚筒进行高度路径规划。进一步地，所述角度变化特征的获取步骤包括：获得目标数据点对应的每个相邻数据点与目标数据点的相对角度，以所述相邻数据点之间所述相对角度的角度差异作为角度变化特征。进一步地，所述相对角度的获取步骤包括：以所述目标数据点的位置作为原点建立二维直角坐标系，根据所述目标数据点和所述目标数据点的所述相邻数据点的位置坐标相连构建线段，作为第一线段；根据第一线段与所述二维直角坐标系的横轴正半轴的夹角，获得所述目标数据点的所述相对角度；当所述相邻数据点在所述目标数据点的下方时，所述相对角度为负数。进一步地，所述截割贴合难度系数的获取步骤包括：当所述角度差异大于时，计算与所述角度差异的差值，作为第二差值；当所述角度差异小于等于时，将所述角度差异直接作为第二差值；将第二差值进行负相关映射，获得所述截割贴合难度系数。进一步地，所述目标函数的获取步骤包括：将每个边界区间内等间距划分，等间距划分位置为轨迹点位置，计算所述划分结果下每个轨迹点的截割贴合难度系数；计算所述边界区间的轨迹点的截割贴合难度系数平均值，作为第一平均值；计算所述边界区间的数据点的截割贴合难度系数平均值，作为第二平均值；计算第一平均值与第二平均值的差值绝对值并进行正相关映射，作为第三差值；计算所述边界区间的预设超参数与所述划分结果下轨迹点数量的乘积，作为第一乘积；计算所有边界区间的第一乘积与第三差值乘积的累加值，获得所述目标函数。进一步地，所述最优轨迹点的获取步骤包括：通过遗传算法对所述目标函数求解，当所述目标函数的结果最小时，计算得到的各个边界区间的最优轨迹点数量，以所述最优轨迹点数量对应的划分结果作为最优划分结果，根据所述最优划分结果获得最优轨迹点。进一步地，所述边界区间的获取步骤包括：将所述边界数据中所有数据点的位置坐标和对应数据点的截割贴合难度系数构建成三维的截割特征向量，将所有截割特征向量通过DBSCAN聚类算法进行聚类，获得煤层不同的边界区间。进一步地，所述高度路径规划的具体步骤包括：根据所有边界区间的最优轨迹点位置，通过三次样条插值算法获得采煤机的截割滚筒的高度路径规划。本发明具有如下有益效果：在本发明实施例中，所获得的截割贴合难度系数能够表征煤层的边界中不同位置处的煤层平坦程度和截割滚筒的割煤难易程度，基于截割贴合难度系数进行聚类分析，获得煤层不同的边界区间，划分边界区间能够使截割滚筒在不同煤层边界有着不同的调节频率、提高采煤效率。为了能够使得截割滚筒在各个边界区间内的调节次数最少且更贴合煤层边界，故根据所有边界区间内不同划分结果下轨迹点的数量、轨迹点与边界区间内数据点的截割贴合难度系数的差异，建立关于每个划分结果下的目标函数，通过目标函数获得最优划分结果和最优轨迹点。根据最优轨迹点的位置对采煤机进行路径规划，能够使截割滚筒在煤层平坦的边界区间调节次数满足控制需求，降低控制难度；且在煤层不平坦区间能够贴合煤层边界，最终通过最优轨迹点规划截割滚筒的高度路径能够提高采煤效率和原煤质量。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种采煤机截割滚筒的高度路径规划方法流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种采煤机截割滚筒的高度路径规划方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种采煤机截割滚筒的高度路径规划方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种采煤机截割滚筒的高度路径规划方法流程图，该方法包括以下步骤：步骤S1，获取煤层的边界数据，根据边界数据中的每个数据点位置处的角度变化特征获得每个数据点的截割贴合难度系数。在本发明实施例中，实施场景为大型采煤机对煤矿截割过程中的截割滚筒高度的路径规划。采煤机截割滚筒高度的自动调整是实现自动采煤的一个关键技术，进行采煤机截割滚筒高度调整的目标是在综采工作面尽可能多地截割煤炭，提高开采效率及原煤质量，同时尽量避免岩石夹矸等损伤截割滚筒。因此，为了能够使截割滚筒的路径规划更贴合煤层边界，首先需要获取煤层的边界数据：在本发明实施例中，通过探地雷达和钻探井，获取煤矿井地质勘探数据，将勘探数据导入到煤矿建模软件，完成煤矿地质模型建模；通过三维模型中获得煤层顶板的高度数据，将煤层顶板的高度数据作为对应的单次采煤截割滚筒高度路径中煤层的边界数据，煤层的边界数据即为不同位置的煤层顶板的最低高度数据。在现有方法中，获得煤层边界数据后通过等间隔划分路径规划的轨迹点，因等间隔的轨迹点会使截割滚筒在煤层平坦区域和煤层不平坦区域的控制调节频率相同，导致在煤层平坦区域截割滚筒调节次数过多影响采煤效率以及影响采煤机工作寿命；在煤层不平坦区域截割滚筒调节次数过少影响原煤质量以及可能出现岩石损伤截割滚筒。故为了提高开采效率以及原煤质量，需要对割煤的路径规划进行改进，截割滚筒能够在不同状态的煤层区域进行不同频率的控制调节。因此，首先需要分析不同煤层位置处的平坦情况，通过煤层的平坦情况分析截割滚筒的调节难度。边界数据是由多个等间隔的数据点组成，数据点之间的角度能够反映对应位置处的煤层平坦程度，煤层的平坦程度与截割滚筒的截割难易程度有关。故根据边界数据中的每个数据点位置处的角度变化特征获得每个数据点的截割贴合难度系数。优选地，其中的角度变化特征为：获得目标数据点对应的每个相邻数据点与目标数据点的相对角度，以相邻数据点之间相对角度的角度差异作为角度变化特征。需要说明的是，除边界数据的起始数据点和末端数据点外，其他数据点均对应两个相邻数据点，对于起始数据点和末端数据点不分析其位置下的角度变化特征。对于相对角度的获取，具体包括：以目标数据点的位置作为原点建立二维直角坐标系，根据目标数据点和目标数据点的相邻数据点的位置坐标相连构建线段，作为第一线段；根据第一线段与二维直角坐标系的横轴正半轴的夹角，获得目标数据点的相对角度；当相邻数据点在目标数据点的下方时，相对角度为负数。因目标数据点的前一相邻数据点的位置在目标数据点的左边，所以其第一线段与二维直角坐标系横轴正半轴的夹角大于九十度且小于等于一百八十度。因此当目标数据点与其前一相邻数据点之间的相对角度越小，则意味着目标数据点处的煤层边界突变越严重，越不平坦；当目标数据点与其前一相邻数据点之间的相对角度越接近平角，则意味着目标数据点的煤层边界越平坦。因目标数据点的下一相邻数据点的位置在目标数据点的右边，所以其第一线段与二维直角坐标系横轴正半轴的夹角大于等于零度且小于九十度。因此当目标数据点与其下一相邻数据点之间的相对角度越接近直角，则意味着目标数据点处的煤层边界突变越严重，越不平坦；当目标数据点与其下一相邻数据点之间的相对角度越小，则意味着目标数据点的煤层边界越平坦。获得相对角度之后，为了计算目标数据点与相邻数据点之间的边界的截割贴合难度系数，则需要根据目标数据点的相对角度的差异分析计算角度变化特征，具体步骤为：计算目标数据点的下一相邻数据点的相对角度值与目标数据点的前一相邻数据点的相对角度值的差值绝对值，获得目标数据点的角度变化特征。进一步地，根据角度变化特征获得截割贴合难度系数，具体包括：当角度差异大于时，计算与角度差异的差值，作为第二差值；当角度差异小于等于时，将角度差异直接作为第二差值；将第二差值进行负相关映射，获得截割贴合难度系数。截割贴合难度系数的计算公式包括：式中，表示第个目标数据点的截割贴合难度系数，表示第个目标数据点与其下一相邻数据点的相对角度值，表示第个目标数据点与其前一相邻数据点的相对角度值，表示角度差异。表示以自然常数为底的指数函数，和表示对第二差值进行负相关映射，同时能避免为零。由于数据点之间的位置关系，故在相对角度计算过程中存在正负值，所以角度差异的范围在零度到二百七十度之间。当角度差异值小于等于一百八十度时，角度差异值越小，则意味着两个相邻数据点与目标数据点之间的夹角越小，则意味着此处煤层边界突变越严重、越不平坦，截割滚筒的截割难度越大，故此处的截割贴合难度系数值越大；当角度差异值越接近一百八十度时，意味着则意味着两个相邻数据点与目标数据点之间的夹角越接近平角，此时煤层边界越平坦，截割滚筒的截割难度越小，故此处的截割贴合难度系数值越小。当角度差异值大于一百八十度时，此时目标数据点的两个相邻数据点分别在数据点的上下两边，当角度差异值越接近一百八十度时，则意味着两个相邻数据点与目标数据点之间的夹角越接近平角；当角度差异值越接近二百七十度时，目标数据点处的煤层边界突变越严重，越不平坦，故利用二百七十度与角度差异值的差值作为第二差值计算截割贴合难度系数，当角度差异值越接近二百七十度时，其截割贴合难度系数越大。至此，通过煤层边界数据，基于各个数据点与相邻数据点之间的角度变化特征获得了每个数据点的截割贴合难度系数。为了能够优化截割滚筒的控制调节的路径轨迹，需要根据各数据点的截割贴合难度系数进行分析。步骤S2，根据边界数据中所有数据点的位置和对应数据点的截割贴合难度系数进行聚类，获得煤层的不同边界区间；根据所有边界区间内不同划分结果下轨迹点的数量、轨迹点与边界区间内数据点的截割贴合难度系数的差异，建立关于每个划分结果下的目标函数；根据目标函数获得最优划分结果及对应的最优轨迹点。为了能够提高采煤机的采煤效率以及原煤质量，需要截割滚筒在不同状态的煤层边界下有着不同的调节频率，在煤层边界平坦区域尽量少的调节，而在煤层边界不平坦区域增加调节次数。所以需要根据边界数据中所有数据点的位置和对应数据点的截割贴合难度系数进行聚类，获得煤层的不同边界区间，具体包括：将边界数据中所有数据点位置的横纵坐标和对应数据点的截割贴合难度系数构建成三维的截割特征向量，将所有截割特征向量通过DBSCAN密度聚类算法进行聚类，获得煤层不同的边界区间。通过聚类，将坐标位置连续且截割贴合难度系数相似的聚为一类。在本发明实施例中，DBSCAN聚类算法中的邻域半径设置为3，邻域最小样本数量设置为5，需要说明的是，DBSCAN聚类算法属于公开技术，具体聚类步骤不再赘述，实施者可根据实施场景自行设定算法中的参数。聚类完成后，每个类别中的数据点的位置连续，且截割贴合难度系数相似，故每个类别对应一段边界状态相似的边界区间。获得边界区间后，为了使截割滚筒在不同的边界区间有着不同的调节频率，以达到更好的采煤效率和原煤质量，则需要计算每个边界区间的最优轨迹点。根据所有边界区间内不同划分结果下轨迹点的数量、轨迹点与边界区间内数据点的截割贴合难度系数的差异，建立关于每个划分结果下的目标函数；根据目标函数获得最优划分结果及对应的最优轨迹点，具体包括：将每个边界区间内等间距划分，等间距划分位置为轨迹点位置，计算对应划分结果下每个轨迹点的截割贴合难度系数；计算边界区间的轨迹点的截割贴合难度系数平均值，作为第一平均值；计算边界区间的数据点的截割贴合难度系数平均值，作为第二平均值；计算第一平均值与第二平均值的差值绝对值并进行正相关映射，作为第三差值；计算边界区间的预设超参数与划分结果下轨迹点数量的乘积，作为第一乘积；计算所有边界区间的第一乘积与第三差值乘积的累加值，获得目标函数。目标函数的计算公式为：式中，为目标函数的结果，表示边界区间的数量，表示不同的边界区间，表示预设超参数，表示第个边界区间的轨迹点个数，表示以自然常数为底的指数函数，表示第个边界区间的数据点的截割贴合难度系数平均值，表示第个边界区间的轨迹点的截割贴合难度系数平均值。为第三差值，为第一乘积。在本发明实施例中，预设超参数为1，实施者可根据实施场景自行设定。对于目标函数的建立，因为需要确定各个边界区间内的轨迹点划分结果，各边界区间内的数据点截割贴合难度系数较为相似，所以在各个边界区间内的轨迹点划分采用等间隔划分的方法。当的值越小，意味着在第个边界区间的轨迹点数量越少，截割滚筒的路径规划越简单，截割滚筒的调节次数越少，控制难度越低。若轨迹点数量过少，也可能会导致煤层截割贴合的不合适，可能出现煤矿采集不充分或采集到岩石影响质量，因此在不同的边界区间内，轨迹点的数量也需要结合对应边界区间内的截割贴合难度系数进行分析。表示第个边界区间的数据点的截割贴合难度系数平均值，当值越大，则表示第个边界区间的煤层边界越不平坦。表示在某种划分结果下第个边界区间各个轨迹点的截割贴合难度系数平均值，轨迹点的截割贴合难度系数的计算方法和数据点的截割贴合难度系数的获取方法相同，当越大，意味在此划分结果的轨迹点数量下，与煤层边界的平均截割贴合难度系数越大。故表示在某种划分结果下，轨迹点的截割贴合难度系数平均值是否与煤层边界的截割贴合难度系数接近，当值越小，意味着所得轨迹点在用于路径规划时，其规划的轨迹能够与煤层边界贴合效果较好。其中与是乘积的关系，是因为当满足趋于零时，的值更小，当所有类别的都趋于零时，也趋于零，但会使的作用失效，进而通过对进行正相关映射，防止为零的情况。在本发明实施例中，通过遗传算法对目标函数求解，使得在轨迹点数量较小的同时保证截割的贴合程度，当值最小时，输出各个边界区间的最优轨迹点数量及最优轨迹点位置。需要说明的是，在目标函数求解的过程中，应使得任一类别的对应轨迹点数量大于等于一，且各个轨迹点对应的截割贴合难度系数应该小于对应采煤机型号的截割滚筒角度调节范围所得到的截割贴合难度系数，同时轨迹点间隔不应超过对应煤层的预设最大轨迹点间隔，避免轨迹点数量过少的情况。实施者可根据实施场景自行设定目标函数和预设的参数，其中遗传算法属于公开技术，具体计算步骤不再赘述，实施者可根据实施场景使用其他目标函数求解方法。至此，通过建立目标函数通过优化算法对不同边界区间的轨迹点数量进行求解，获得了边界区间内的最优轨迹点的位置，由于不同边界区间的截割贴合难度系数差异较大，为了使路径规划更贴合煤层，将相邻边界区间的交接点同样设置为最优轨迹点用以路径规划。步骤S3，根据最优轨迹点的位置对采煤机截割滚筒进行高度路径规划。获得煤层的边界中所有最优轨迹点的位置后，可以利用最优轨迹点的位置对截割滚筒的高度路径进行规划，在本发明实施例中，通过三次样条插值算法，根据所有最优轨迹点形成路径轨迹，需要说明的是，三次样条插值算法属于公开技术，具体步骤不再赘述。将得到的路径轨迹输入采煤机控制系统中，在单次采煤过程中，截割滚筒按照路径规划进行割煤，提高采煤效率以及原煤质量。综上所述，本发明实施例提供了一种采煤机截割滚筒的高度路径规划方法，首先通过煤层边界数据中各个数据点位置处的角度差异特征获得各个数据点的截割贴合难度系数，进而根据截割贴合难度系数和数据点位置构建截割特征向量，根据截割特征向量进行聚类获得不同煤层平坦程度的边界区间。根据各边界区间内不同划分结果下轨迹点的数量、轨迹点与数据点的截割贴合难度系数的差异建立关于每个划分结果下的目标函数，通过优化算法对目标函数求解获得最优划分结果和对应的最优轨迹点。根据最优轨迹点进行路径规划，提高采煤效率和原煤质量。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。
