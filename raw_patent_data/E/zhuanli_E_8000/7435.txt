标题title
挖掘机智能辅助施工基准修正方法、系统及挖掘机
摘要abst
本发明涉及挖掘机，为解决现有挖掘机智能辅助施工系统在挖掘机移动后需要重新设定施工基准的问题，本发明构造一种挖掘机智能辅助施工基准设定方法、系统及挖掘机，修正方法步骤如下：挖掘机更换作业地点移动前后均将挖掘机铲斗放置于地面上同一固定参考物顶部触碰固定参考物并检测挖掘机的姿态参数，依据检测到的姿态参数分别计算挖掘机移动前后铲斗上触碰部件与挖掘机上参考点在竖直方向上的距离，依据移动前后的距离修正挖掘机移动之前的施工基准值得到挖掘机移动之后的施工基准值。本发明挖掘机使用挖掘机智能辅助施工基准修正系统，依照修正方法修正施工基准值，从而无需在挖掘机移动后重新设定施工基准。
权利要求书clms
1.一种挖掘机智能辅助施工基准修正方法，其特征在于步骤如下：挖掘机更换作业地点移动前后均将挖掘机铲斗放置于地面上同一固定参考物顶部触碰固定参考物并检测挖掘机的姿态参数，依据检测到的姿态参数分别计算挖掘机移动前后铲斗上触碰部件与挖掘机上参考点在竖直方向上的移动前距离Y1和移动后距离Y2；依据移动前距离Y1和移动后距离Y2修正挖掘机移动之前的施工基准值Yo得到挖掘机移动之后的施工基准值Yn，其中Yn＝Yo+Y2-Y1。2.根据权利要求1所述的挖掘机智能辅助施工基准修正方法，其特征在于所述挖掘机上参考点为挖掘机回转平台的回转中心轴线与履带着地面的交点。3.根据权利要求1或2所述的挖掘机智能辅助施工基准修正方法，其特征在于挖掘机移动前后检测的姿态参数包括铲斗与斗杆之间的铲斗角度、斗杆与动臂之间的斗杆角度、动臂与回转平台之间的动臂角度、回转平台与行走架之间的回转角度、行走架相对水平面的整机倾角。4.根据权利要求3所述的挖掘机智能辅助施工基准修正方法，其特征在于所述挖掘机铲斗触碰固定参考物的触碰部件是位于铲斗斗口处的斗齿或刀板。5.根据权利要求4所述的挖掘机智能辅助施工基准修正方法，其特征在于铲斗触碰固定参考物时通过图像识别单元识别触碰部件触碰接触点所在位置，依据移动前后检测到的姿态参数分别计算触碰部件中心点与挖掘机上参考点在竖直方向上的移动前中心距离y1和移动后中心距离y2，依据移动前后检测的回转角度和整机倾角分别计算移动前后触碰部件与水平地面的移动前夹角θ1和移动后夹角θ2，依据移动前夹角θ1和移动后夹角θ2分别计算移动前后触碰点与触碰部件中点在竖直方向上的移动前高度差h1和移动后高度差h2，依据移动前中心距离y1和移动后中心距离y2、移动前高度差h1和移动后高度差h2分别计算移动前距离Y1和移动后距离Y2，其中Y1＝y1-h1，Y2＝y2-h2。6.一种挖掘机智能辅助施工基准修正系统，其特征在于包括：操纵装置，用于操控挖掘机移动和铲斗触碰固定参照物；检测装置，用于挖掘机移动前后铲斗触碰同一固定参照物顶部时两次检测挖掘机姿态参数；修正指令输入装置，用于发送运行施工基准修正程序和获取挖掘机姿态参数的操作指令；控制器，用于运行施工基准修正程序，依据获取的姿态参数计算铲斗触碰部件与固定参考物顶部触碰时铲斗触碰部件与挖掘机上参考点在竖直方向上的移动前距离Y1和移动后距离Y2并依据计算结果修正挖掘机移动之前的施工基准值Yo得到挖掘机移动之后的施工基准值Yn，其中Yn＝Yo+Y2-Y1。7.根据权利要求1所述的挖掘机智能辅助施工基准修正系统，其特征在于修正系统还包括图像识别单元，用于获取挖掘机移动前后铲斗上触碰部件触碰固定参考物时的触碰图像并识别触碰点在触碰部件上位置；控制器依据移动前后检测的姿态参数和触碰点在触碰部件上的位置分别计算挖掘机移动前后触碰点与触碰部件中点在竖直方向上的移动前高度差h1和移动后高度差h2、触碰部件中心点与挖掘机上参考点在竖直方向上的移动前中心距离y1和移动后中心距离y2，依据移动前中心距离y1和移动后中心距离y2、移动前高度差h1和移动后高度差h2分别计算移动前距离Y1和移动后距离Y2，其中Y1＝y1-h1，Y2＝y2-h2。8.根据权利要求1所述的挖掘机智能辅助施工基准修正系统，其特征在于所述检测装置包括铲斗角度传感器、斗杆角度传感器、动臂角度传感器、回转角度传感器、整机倾角传感器。9.根据权利要求1所述的挖掘机智能辅助施工基准修正系统，其特征在于修正系统还包括与控制器连接的显示装置，所述显示装置配置为显示施工基准修正操作指导模拟图例和控制器的计算结果。10.一种挖掘机，其特征在于具有权利要求6-9中任一项所述的挖掘机智能辅助施工基准修正系统。
说明书desc
技术领域本发明涉及一种挖掘机，更具体地说，涉及一种挖掘机智能辅助施工基准设定方法、系统及挖掘机。背景技术挖掘机在进行一些作业时可以借助智能辅助施工系统以减轻操作劳动强度，提高作业精度。作业面是以地面作为参考，智能辅助施工系统是以挖掘机整机坐标系为参考，因此借助智能辅助施工系统需要设定施工基准，以建立作业面与整机坐标系之间的位置关系。在挖掘机上的整机坐标系中，通常是以回转中心轴线为Y轴，Y轴与履带着地面的交点为坐标原点O，以动臂、斗杆和铲斗的中位面在履带着地面上的投影为X轴。施工基准是作业面上具有高度含义的点，例如在进行平地作业时，施工基准是平地之后地面的高度，在修坡时施工基准为坡顶高度或坡底高度，挖沟时施工基准为沟底的高度。设定基准是测量计算施工基准与挖掘机上某点的高度差，通常是施工基准与整机坐标系中坐标原点之间的高度差。挖掘机在一个作业点完成作业后需要移动至下一作业点继续作业，由于地形地貌的差异，挖掘机移动至新的作业地点位置时，其姿态以及挖掘机的位置高度也随之发生变化，因此挖掘机在移动至新的作业地点时需要重新设定施工基准。由于移动到新的施工作业地点，挖掘机在其可触及范围内没有可用的准确参考点，重新设定施工基准可能存在不方便，甚至重新设定的施工基准与原施工基准存在较大误差。发明内容本发明要解决的技术问题是现有挖掘机智能辅助施工系统在挖掘机移动后需要重新设定施工基准的问题，而提供一种挖掘机智能辅助施工基准设定方法、系统及挖掘机，在挖掘机移动时方便地获取与移动前施工基准相对准确的施工基准。本发明为实现其目的的技术方案是这样的：构造一种挖掘机智能辅助施工基准修正方法，其特征在于步骤如下：挖掘机更换作业地点移动前后均将挖掘机铲斗放置于地面上同一固定参考物顶部触碰固定参考物并检测挖掘机的姿态参数，依据检测到的姿态参数分别计算挖掘机移动前后铲斗上触碰部件与挖掘机上参考点在竖直方向上的移动前距离Y1和移动后距离Y2；依据移动前距离Y1和移动后距离Y2修正挖掘机移动之前的施工基准值Yo得到挖掘机移动之后的施工基准值Yn，其中Yn＝Yo+Y2-Y1。在本发明中，挖掘机在作业过程中移动时，利用固定参考物计算挖掘机移动前后的高度差，并利用该高度差修正施工基准值，从而避免挖掘机移动后重新设定施工基准。本发明挖掘机智能辅助施工基准修正方法中，所述挖掘机上参考点为挖掘机回转平台的回转中心轴线与履带着地面的交点。本发明挖掘机智能辅助施工基准修正方法中，挖掘机移动前后检测的姿态参数包括铲斗与斗杆之间的铲斗角度、斗杆与动臂之间的斗杆角度、动臂与回转平台之间的动臂角度、回转平台与行走架之间的回转角度、行走架相对水平面的整机倾角。本发明挖掘机智能辅助施工基准修正方法中，所述挖掘机铲斗触碰固定参考物的触碰部件是位于铲斗斗口处的斗齿或刀板。本发明挖掘机智能辅助施工基准修正方法中，铲斗触碰固定参考物时通过图像识别单元识别触碰部件触碰接触点所在位置，依据移动前后检测到的姿态参数分别计算触碰部件中心点与挖掘机上参考点在竖直方向上的移动前中心距离y1和移动后中心距离y2，依据移动前后检测的回转角度和整机倾角分别计算移动前后触碰部件与水平地面的移动前夹角θ1和移动后夹角θ2，依据移动前夹角θ1和移动后夹角θ2分别计算移动前后触碰点与触碰部件中点在竖直方向上的移动前高度差h1和移动后高度差h2，依据移动前中心距离y1和移动后中心距离y2、移动前高度差h1和移动后高度差h2分别计算移动前距离Y1和移动后距离Y2，其中Y1＝y1-h1，Y2＝y2-h2。本发明为实现其目的的技术方案是这样的：构造一种挖掘机智能辅助施工基准修正系统，其特征在于包括：操纵装置，用于操控挖掘机移动和铲斗触碰固定参照物；检测装置，用于挖掘机移动前后铲斗触碰同一固定参照物顶部时两次检测挖掘机姿态参数；修正指令输入装置，用于发送运行施工基准修正程序和获取挖掘机姿态参数的操作指令；控制器，用于运行施工基准修正程序，依据获取的姿态参数计算铲斗触碰部件与固定参考物顶部触碰时铲斗触碰部件与挖掘机上参考点在竖直方向上的移动前距离Y1和移动后距离Y2并依据计算结果修正挖掘机移动之前的施工基准值Yo得到挖掘机移动之后的施工基准值Yn，其中Yn＝Yo+Y2-Y1。本发明挖掘机智能辅助施工基准修正系统中，修正系统还包括图像识别单元，用于获取挖掘机移动前后铲斗上触碰部件触碰固定参考物时的触碰图像并识别触碰点在触碰部件上位置；控制器依据移动前后检测的姿态参数和触碰点在触碰部件上的位置分别计算挖掘机移动前后触碰点与触碰部件中点在竖直方向上的移动前高度差h1和移动后高度差h2、触碰部件中心点与挖掘机上参考点在竖直方向上的移动前中心距离y1和移动后中心距离y2，依据移动前中心距离y1和移动后中心距离y2、移动前高度差h1和移动后高度差h2分别计算移动前距离Y1和移动后距离Y2，其中Y1＝y1-h1，Y2＝y2-h2。本发明挖掘机智能辅助施工基准修正系统中，所述检测装置包括铲斗角度传感器、斗杆角度传感器、动臂角度传感器、回转角度传感器、整机倾角传感器。本发明挖掘机智能辅助施工基准修正系统中，修正系统还包括与控制器连接的显示装置，所述显示装置配置为显示施工基准修正操作指导模拟图例和控制器的计算结果。本发明为实现其目的的技术方案是这样的：构造一种挖掘机，其特征在于具有前述的挖掘机智能辅助施工基准修正系统。本发明与现有技术相比，本发明挖掘机在使用智能辅助施工进行作业过程中需要移动时，使用挖掘机智能辅助施工基准修正系统，依照修正方法修正施工基准值，从而无需在挖掘机移动后重新设定施工基准。附图说明图1是本发明挖掘机的结构示意图。图2是本发明挖掘机智能辅助施工基准修正系统的结构框图。图3是本发明挖掘机智能辅助施工基准修正方法流程图。图4是本发明铲斗与固定参照物触碰点位置高度修正示意图。图5是本发明挖掘机智能辅助施工施工作业示意图。图中零部件名称及序号：下部车身1、回转平台2、动臂3、斗杆4、铲斗5、动臂油缸6、斗杆油缸7、铲斗油缸8、整机倾角传感器9、回转角度传感器10、动臂角度传感器11、斗杆角度传感器12、铲斗角度传感器13、控制器14、操纵装置15、修正指令输入装置16、图像识别单元17、显示装置18、触碰部件中心点19、触碰点20、水平面21。具体实施方式下面结合附图说明具体实施方案。如图1所示，本发明挖掘机包括包括上部车身和下部车身1，下部车身包括行走架和履带行走装置，上部车身包括回转安装于行走架上的回转平台2、动臂3后端与回转平台2铰接、斗杆4上端与动臂3前端铰接、铲斗5铰接于斗杆4下端。回转平台2由回转马达驱动，动臂3与回转平台2之间设置动臂油缸6，斗杆4与动臂3之间设置斗杆油缸7，铲斗5与斗杆4之间设置铲斗油缸8。挖掘机智能辅助施工系统基于其整机坐标系，整机坐标系是以回转平台2的回转轴心线为Y轴，以Y轴与履带着地面的交点为坐标原点O，以动臂、斗杆、铲斗的中位面在履带着地面上的投影为X轴，如图1所示。如图2所示，本发明挖掘机智能辅助施工基准修正系统包括操纵装置15、检测装置和控制器14、修正指令输入装置16、显示装置18。操纵装置15用于操控挖掘机移动和铲斗触碰固定参照物。操作人员通过操控操纵装置操控挖掘机，实现回转平台的回转动作、履带行走装置的行走动作、动臂升降动作、斗杆打开和回收动作、铲斗打开和回收动作。在作业过程中因需要移动挖掘机而修正施工基准时，操作人员可操控操纵装置操控挖掘机实现挖掘机移动和铲斗触碰固定参照物。检测装置与控制器14连接，用于挖掘机移动前后铲斗触碰同一固定参照物顶部时两次检测挖掘机姿态参数；检测装置包括铲斗角度传感器13、斗杆角度传感器12、动臂角度传感器11、回转角度传感器10、整机倾角传感器9，分别检测铲斗与斗杆之间的夹角、斗杆与动臂之间的夹角、动臂与回转平台之间的夹角、回转平台相对下部车身的转动角度、下部车身相对水平地面的夹角。控制器14依据检测装置的检测结果进行几何计算，在挖掘机移动之前的施工基准值的基础上依据计算结果对施工基准进行修正，得到新的施工基准值并进行存储，以便挖掘机在移动后的作业地点使用智能辅助施工系统进行作业时依据修正后的施工基准值进行控制。修正指令输入装置15用于向控制器发送施工基准修正控制指令，例如在挖掘机移动而需要修正施工基准时向控制器14发送施工基准修正启动指令，控制器14运行施工基准控制程序，进入施工基准修正进程；在铲斗放置于固定参照物顶部时，通过修正指令输入装置向控制器发送姿态参数检测指令，以获取挖掘机的姿态参数。修正指令输入装置可以是设置在操作手柄上的按钮或人机交互界面上的显示装置。显示装置18与控制器14连接，显示施工基准修正过程中的操作指导模拟图例和控制器的计算结果。显示装置可作为人机交互界面，通过设置相关按钮，使其充当修正指令输入装置。挖掘机智能辅助施工基准修正方法如下：如图5所示，挖掘机在一作业位置作业完毕后，需要移动至下一作业地点时，通过修正指令输入装置向控制器发送施工基准修正启动指令，控制器运行施工基准控制程序，进入施工基准修正进程，依次进行步骤S1至S3。如图3所示，在步骤S1中，操作人员通过操控操纵装置操控挖掘机，使挖掘机的铲斗在挖掘机的作业范围内触碰一固定参照物顶部，通过修正指令输入装置向控制器发送姿态参数检测指令，控制器通过检测装置获取挖掘机此时的姿态参数。姿态参数包括铲斗与斗杆之间的铲斗角度、斗杆与动臂之间的斗杆角度、动臂与回转平台之间的动臂角度、回转平台与行走架之间的回转角度、行走架相对水平面的整机倾角。固定参照物是位于挖掘机周围的物体，例如岩石，该固定参照物在挖掘机移动前后都能被挖掘机的铲斗触碰到。挖掘机铲斗触碰固定参考物的触碰部件是位于铲斗斗口处的斗齿。在铲斗的刀板上通常安装有多个斗齿，多个斗齿视为一整体。若铲斗的刀板上没有安装斗齿，铲斗上触碰固定参照物的触碰部件为铲斗上的刀板。触碰部件的中心点位于铲斗的中位面上，即触碰部件的中心点位于中间斗齿的齿尖处或者刀板的中心位置处。控制器依据挖掘机移动前检测到的姿态参数，计算铲斗触碰点与挖掘机上参考点之间在竖直方向上的距离。挖掘机上参考点通常选择为整机坐标系的坐标原点。控制器依据铲斗角度、斗杆角度、动臂角度以及挖掘机设计几何尺寸参数，在整机坐标系内通过几何位置关系计算出触碰部件中心点在整机坐标系中的Y坐标。控制器依据回转角度、整机倾角和触碰部件中心点在整机坐标系中的Y坐标，计算得到触碰部件中心点至水平面的距离。整机倾角是相对水平面的倾角，整机坐标系的坐标原点位于水平面上，因此触碰部件中心点至水平面的距离也即是触碰部件中心点与整机坐标系坐标原点在竖直方向上的移动前中心距离y1。在铲斗触碰固定参照物通常是用触碰部件的中心点触碰固定参照物，计算所得到的移动前中心距离y1也即是铲斗触碰部件与挖掘机上参考点在竖直方向上的移动前距离Y1。但铲斗触碰固定参照物时触碰点偏离于触碰部件的中心，与触碰部件中心之间具有一定的距离，若此时履带的着地面与水平面之间具有一定的倾斜角度且由于回转平台回转一定的角度使得整机坐标系的坐标平面不与水平面垂直，此时将触碰部件中心点与整机坐标系坐标原点在竖直方向上的距离作为触碰点与整机坐标系坐标原点在竖直方向上的距离存在一定误差。消除该误差的方法如下：在挖掘机智能辅助施工基准修正系统中增加图像识别单元，图像识别单元通过摄像头获取触碰部件与固定参考物触碰接触时的图像，并识别出触碰部件与固定参考物的触碰点在触碰部件上的位置，即得出触碰点与触碰部件中心点之间的直线距离。触碰点与触碰部件中心点之间的连线与整机坐标系的XOY坐标平面垂直，也即与三维坐标系的Z轴平行。三维坐标系是在整机坐标系的坐标原点增加Z轴形成。Z轴位于履带着地面内，因此依据挖掘机的回转角和整机倾角，可以计算出触碰点与触碰部件中心点之间的连线与水平地面之间的移动前夹角θ1，从而计算出触碰点与触碰部件中心点之间在竖直方向上的移动前高度差h1。挖掘机移动前，铲斗通过某个斗齿的齿尖触碰固定参照物顶部，触碰固定参照物的斗齿齿尖与触碰部件中心点之间的距离为W1，如图4所示。触碰点20与触碰部件中心点19之间的连线与水平地面之间的移动前夹角θ1，触碰点20与触碰部件中心点19在竖直方向上的移动前高度差h1，h1＝W1sinθ1利用移动前中心距离y1和移动前高度差h1计算铲斗触碰部件触碰点20与挖掘机上参考点在竖直方向上的移动前距离Y1：Y1＝y1+h1。步骤S2，在检测挖掘机移动前铲斗触碰固定参照物时的姿态参数后，通过操纵装置操控挖掘机由A作业地点移动至B作业地点。挖掘机位于B作业地点，其铲斗能够触碰到在A作业地点触碰的固定参照物。在B作业地点，操控挖掘机使铲斗触碰固定参照物顶部，通过修正指令输入装置向控制器发送姿态参数检测指令。控制器通过检测装置获取挖掘机此时的姿态参数并利用姿态参数计算得到挖掘机移动后触碰部件与挖掘机上参考点在竖直方向上的移动后距离Y2，移动后距离Y2计算过程与移动前距离Y1的计算过程相同。在使用触碰部件中心点触碰固定参照物时，直接计算触碰部件中心点与整机坐标系坐标原点的移动后中心距离y2作为移动后距离Y2。若不是触碰部件中心点触碰固定参照物时，则识别触碰点位置，计算出触碰点与触碰部件中心点之间的连线与水平地面之间的移动后夹角θ2，计算触碰点与触碰部件中心点在竖直方向上的移动后高度差h2，h2＝W2sinθ2，W2是B作业点铲斗触碰固定参照物时触碰点与触碰部件中心点之间的直线距离。利用移动后中心距离y2和移动后高度差h2计算铲斗触碰部件触碰点与挖掘机上参考点在竖直方向上的移动前距离Y2：Y2＝y2+h2。步骤S3，控制器利用移动前距离Y1和移动后距离Y2修正挖掘机移动之前的施工基准值Yo得到挖掘机移动之后的施工基准值Yn，其中Yn＝Yo+Y2-Y1。挖掘机移动之前的施工基准值Yo存储在控制器中，在计算得到挖掘机移动之后的施工基准值Yn之后，使用新施工基准值Yn替换原施工基准值Yo存储在控制器中。挖掘机在B作业点利用挖掘机智能辅助施工系统进行平地、修坡或挖沟等作业时使用修正后的施工基准值Yn对挖掘机进行控制。设定施工基准往往需要对作业面进行标高测绘，选定标高基准点，将铲斗放置于标高基准点上再通过检测挖掘机姿态参数计算获得与该时刻挖掘机所处位置对应的施工基准值。在本发明中，挖掘机移动之前的施工基准值Yo是上一次移动挖掘机后修正所得到的施工基准值，因此作业过程中实施本发明挖掘机智能辅助施工基准修正方法，仅需在作业最开始时设定施工基准。本发明中，挖掘机由A作业点移动至B作业点，利用同一个固定参照物计算挖掘机移动前后挖掘机上参考点与固定参考物顶部在竖直方向上的距离，在原施工基准值的基础上，利用移动前距离Y1和移动后距离Y2计算确定新的施工基准值,从而避免因机器移动后重新设定施工基准。本发明仅是对之前的施工基准进行计算修正，避免了为重新设定施工基准所进行的标高与测绘工序，可减少作业工作量，提高作业效率。
