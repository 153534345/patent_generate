标题title
铁路隧道锚杆精细化模型的建立方法
摘要abst
本发明公开了一种铁路隧道锚杆精细化模型的建立方法，包括根据现行锚杆的技术规范将铁路隧道锚杆进行分类；根据各个类别锚杆的组件的几何特征对各个类别锚杆进行精细化建模；基于铁路隧道锚杆支护设计通图，根据隧道所在线路的空间线数据和隧道衬砌断面类型确定隧道采用的锚杆类型，并实现铁路隧锚杆沿空间线的参数化分布建模。本发明实现了单个锚杆模型的参数化建立，模型精度高；利用参数化建立锚杆模型的方式节省了模型导入需要的时间，结合开放式图形引擎的特性减少了渲染的资源和时间；同时本发明方法能够辅助计算各类型锚杆需要的工程量，实现对单根锚杆的定位，适用于设计工作和施工作业，而且精度较高、可靠性较好且方便快捷。
权利要求书clms
1.一种铁路隧道锚杆精细化模型的建立方法，其特征在于包括如下步骤：S1. 根据现行锚杆的技术规范，将铁路隧道锚杆进行分类；S2. 根据各个类别锚杆的组件的几何特征，对各个类别锚杆进行精细化建模；具体为将各类别锚杆划分为若干个基本构件，并针对每个基本构件，采用开放式图形引擎进行参数化建模和组装，从而实现对各个类别锚杆的精细化建模S3. 基于铁路隧道锚杆支护设计通图，根据隧道所在线路的空间线数据和隧道衬砌断面类型，确定隧道采用的锚杆类型，并实现铁路隧锚杆沿空间线的参数化分布建模。2.根据权利要求1所述的铁路隧道锚杆精细化模型的建立方法，其特征在于所述的步骤S1，具体为将铁路隧道锚杆分为普通中空注浆锚杆、组合中空注浆锚杆、涨壳式应力中空注浆锚杆、套管式预应力中空注浆锚杆和分段式预应力中空注浆锚杆。3.根据权利要求2所述的铁路隧道锚杆精细化模型的建立方法，其特征在于对五种锚杆，采用如下步骤分别进行建模：对五中锚杆，均以锚杆杆体中轴线为y轴，垫板底面所在面为x平面，两者的交点O作为原点，建立锚杆参考坐标系，规定向右、向上方向为正；对普通中空注浆锚杆，采用如下步骤进行精细化建模：将普通中空注浆锚杆划分为8种基本构件：中空注浆锚杆杆体，堵头，螺母，垫板，止浆塞，锚头；以锚杆杆体的长度 l1，锚杆杆体直径 d1，锚杆端部伸出长度l0，螺纹高度d2，螺距h，垫板边长d3，垫板厚度h2为参数，绘制普通中空注浆锚杆的精细化模型；对组合中空注浆锚杆，采用如下步骤进行精细化建模：将组合中空注浆锚杆划分为10种基本构件：中空注浆锚杆杆体，一号排气管，堵头，螺母，垫板，止浆塞，连接套，钢筋，二号排气管，锚头；以锚杆端部伸出长度l0，锚杆杆体的长度 l1，钢筋长度l2，一号排气管长度l3，连接套长度l4，锚杆杆体的直径 d1，螺纹高度d2，垫板边长d3，螺距h，垫板厚度h2为参数，绘制组合中空注浆锚杆的精细化模型；对涨壳式应力中空注浆锚杆，采用如下步骤进行精细化建模：将涨壳式预应力中空锚杆划分为6种基本构件：涨壳锚固头，中空杆体，注浆排气管，垫板，垫圈，螺母；以锚杆端部伸出长度l0，锚杆杆体的长度 l1，涨壳锚固头长度l2，涨壳夹片长度l3，锚杆杆体直径 d1，螺纹高度d2，垫板边长d3，螺距h，垫板厚度h2为参数，绘制涨壳式预应力中空锚杆的精细化模型；对套管式预应力中空注浆锚杆，采用如下步骤进行精细化建模：将套管式预应力中空锚杆划分为9种基本构件：注浆端头，对中器，中空杆体，端头扣件，自由段套管，注浆排气管，垫板，垫圈，螺母；以锚杆端部伸出长度l0，中空杆体的长度l1，套筒长度l2，注浆排气管长度l3，连接套长度l4，注浆孔长度l5，端头长度l6，中空杆体的直径 d1，螺纹高度d2，垫板边长d3，注浆孔高度d4，螺距h，垫板厚度h2为参数，绘制套管式预应力中空锚杆的精细化模型；对分段式预应力中空注浆锚杆，采用如下步骤进行精细化建模：将分段式预应力中空注浆锚杆划分为8种基本构件：实心杆体，阻浆器，连接套，中空杆体，注浆排气管，垫板，垫圈和螺母；以锚杆端部伸出长度l0，中空杆体的长度l1，实心杆体长度l2，注浆排气管长度l3，连接套长度l4，阻浆器长度l5，阻浆器定位l6，中空杆体的直径d1，螺纹高度d2，垫板边长d3，阻浆器直径d4，螺距h1，垫板厚度h2为参数，绘制分段式预应力中空锚杆的精细化模型。4.根据权利要求3所述的铁路隧道锚杆精细化模型的建立方法，其特征在于所述的步骤S3，具体包括如下步骤：A. 根据线路参数，生成空间线模型，并获取任意里程对应的空间点三维坐标和切向量；B. 根据隧道断面变化点和隧道地质条件变化分界点对隧道进行分段，确定每一段隧道所对应的围岩级别以及断面轮廓的各项设计参数；C. 根据隧道锚杆支护设计通图中各项参数之间的关系，参数化生成隧道截面锚杆分布标准模型，并设定隧道截面锚杆分布标准模型的参数；D. 根据隧道分段所在空间线及纵向上锚杆的布置方式，生成最终的隧道锚杆空间分布模型。5.根据权利要求4所述的铁路隧道锚杆精细化模型的建立方法，其特征在于所述的步骤C，具体包括如下步骤：根据锚杆在隧道断面的分布位置，将锚杆分为拱部锚杆、墙部锚杆和仰拱部锚杆三类；根据隧道分段的围岩级别确定锚杆的布置方案：Ⅲ级围岩以下采用局部布置锚杆方案，Ⅲ级围岩采用拱部布置锚杆方案，Ⅳ级围岩及以上采用拱部+墙部布置锚杆方案；软弱围岩采用拱部+墙部+仰拱部布置锚杆方案；以隧道中线为y轴，内轨顶面为x轴，两者的交点O作为原点，过交点O且与y轴和x轴垂直的方向为z轴，建立隧道参数坐标系，且规定向右、向上、向屏幕外的方向为正方向；隧道为轴对称，隧道中线为对称轴，隧道断面轮廓左右两侧完全对称；定义隧道锚杆分布标准模型的可变参数：单截面锚杆的数量num；锚杆环向间距c1；初期支护的厚度t1；拱部初期支护内侧圆弧半径R1；拱部圆心O1到原点O的高度hO1；拱部锚杆分布弧度；直边墙高度h3；直边墙顶部至原点水平距离s1；直边墙顶部至原点垂直距离h4；曲边墙初期支护内侧圆弧半径R2；曲边墙圆心O2坐标；曲边墙锚杆分布弧度；仰拱缓冲区初期支护内侧圆弧半径R3；仰拱缓冲区圆心O3坐标；仰拱缓冲区锚杆分布弧度；仰拱初期支护内侧圆弧半径R4；仰拱部圆心O4到原点的高度hO4；定义隧道锚杆分布标准模型计算过程的中间参数：拱部环向锚杆间弧度；曲墙部环向锚杆间弧度；仰拱缓冲部环向锚杆间弧度；仰拱部环向锚杆间弧度；弧度累加变量；高度累加变量h；计算拱部锚杆的分布规律：令；从拱部顶部位置开始，逆时针绕着拱部圆心O1每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；计算直边墙部锚杆的分布规律：令h=0；从直边墙顶部位置开始，沿着y轴负方向每隔c1放置一根锚杆，然后num增加1，h的值增加c1，直至h的值不超过h3；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；t1为初期支护的厚度；计算曲边墙部锚杆的分布规律：令；从曲边墙左侧顶部开始位置，逆时针绕着曲边墙圆心O2每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；xO2为曲墙部圆心O2的水平坐标；yO2为曲墙部圆心O2的垂直坐标；计算仰拱缓冲部锚杆的分布规律：令；从曲边墙左侧顶部开始位置，逆时针绕着仰拱缓冲区圆心O3每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；xO3为仰拱缓冲区圆心O3的水平坐标；yO3为仰拱缓冲区圆心O3的垂直坐标；计算仰拱部锚杆的分布规律：令；从曲边墙左侧顶部开始位置，逆时针绕着仰拱部圆心O4每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标。6.根据权利要求5所述的铁路隧道锚杆精细化模型的建立方法，其特征在于所述的步骤D，具体包括如下步骤：定义空间线上某一里程n对应的空间点坐标为，切向量坐标为；锚杆纵向间距为C2；每延米锚杆数量为nump；隧道锚杆在纵向上的布置方式分为矩型布置方式和梅花型布置方式；对于矩形布置方式，在沿空间线的方向上每隔C2布置一圈相同的截面锚杆分布标准模型，其中截面模型的原点坐标设置为，并将断面模型绕y轴旋转，绕x轴旋转；对于梅花型布置方式，在沿空间线的方向上每隔C2布置截面锚杆分布标准模型，其中对于从空间线起点开始的第偶数个截面模型，将拱部锚杆分布的初始值改为；将直边墙部锚杆的初始值改为；将曲边墙部锚杆分布的初始值改为；将仰拱缓冲部锚杆分布的初始值改为；将仰拱部锚杆分布的初始值改为；并将截面模型的原点坐标设置为，并将断面模型绕y轴旋转，绕x轴旋转；计算每延米锚杆数量nump 为。
说明书desc
技术领域本发明属于土木工程领域，具体涉及一种铁路隧道锚杆精细化模型的建立方法。背景技术随着经济技术的发展和人们生活水平的提高，土木工程项目的建设也越来越多。隧道建设是土木工程建设领域的不可避免的建设项目。隧道建设过程中，隧道的支护是一项极其重要的工程项目。锚杆能克服围岩体抗拉强度低的缺点，有利于维持岩层的稳定性，在隧道建设中起到重要的支护作用。根据围岩类型和支护需求的差异性，不同隧道中的锚杆类型往往不一样。而随着信息时代的到来，计算机数字技术也已经开始大范围应用于隧道建设领域。现阶段，在隧道模型的建模过程中，锚杆往往被简化为圆柱体模型，或者是杆体、垫板和螺母等构件模型的简单叠加，模型精度低，没有表现出不同锚杆类型之间的差异；这使得隧道模型的精度较低。而且，现阶段的锚杆模型更多地只是为了形象化地展示，没有沿隧道空间线计算对应的分布规律，而且不能用于指导施工和建设。发明内容本发明的目的在于提供一种精度较高、可靠性较好且方便快捷的铁路隧道锚杆精细化模型的建立方法。本发明提供的这种铁路隧道锚杆精细化模型的建立方法，包括如下步骤：S1. 根据现行锚杆的技术规范，将铁路隧道锚杆进行分类；S2. 根据各个类别锚杆的组件的几何特征，对各个类别锚杆进行精细化建模；S3. 基于铁路隧道锚杆支护设计通图，根据隧道所在线路的空间线数据和隧道衬砌断面类型，确定隧道采用的锚杆类型，并实现铁路隧锚杆沿空间线的参数化分布建模。所述的步骤S1，具体为基于《TBT3209-2008中空锚杆技术条件》和《TBT3356-2014预应力中空锚杆》铁路规范，将铁路隧道锚杆分为普通中空注浆锚杆、组合中空注浆锚杆、涨壳式应力中空注浆锚杆、套管式预应力中空注浆锚杆和分段式预应力中空注浆锚杆。所述的步骤S2，具体为将各类别锚杆划分为若干个基本构件，并针对每个基本构件，采用开放式图形引擎进行参数化建模和组装，从而实现对各个类别锚杆的精细化建模。对五种锚杆，均以锚杆杆体中轴线为y轴，垫板底面所在面为x平面，两者的交点O作为原点，建立锚杆参考坐标系，规定向右、向上方向为正；对普通中空注浆锚杆，采用如下步骤进行精细化建模：将普通中空注浆锚杆划分为8种基本构件：中空注浆锚杆杆体，堵头，螺母，垫板，止浆塞，锚头；以锚杆杆体的长度 l1，锚杆杆体直径 d1，锚杆端部伸出长度l0，螺纹高度d2，螺距h，垫板边长d3，垫板厚度h2为参数，绘制普通中空注浆锚杆的精细化模型；对组合中空注浆锚杆，采用如下步骤进行精细化建模：将组合中空注浆锚杆划分为10种基本构件：中空注浆锚杆杆体，一号排气管，堵头，螺母，垫板，止浆塞，连接套，钢筋，二号排气管，锚头；以锚杆端部伸出长度l0，锚杆杆体的长度 l1，钢筋长度l2，一号排气管长度l3，连接套长度l4，锚杆杆体的直径 d1，螺纹高度d2，垫板边长d3，螺距h，垫板厚度h2为参数，绘制组合中空注浆锚杆的精细化模型；对涨壳式应力中空注浆锚杆，采用如下步骤进行精细化建模：将涨壳式预应力中空锚杆划分为6种基本构件：涨壳锚固头，中空杆体，注浆排气管，垫板，垫圈，螺母；以锚杆端部伸出长度l0，锚杆杆体的长度 l1，涨壳锚固头长度l2，涨壳夹片长度l3，锚杆杆体直径 d1，螺纹高度d2，垫板边长d3，螺距h，垫板厚度h2为参数，绘制涨壳式预应力中空锚杆的精细化模型；对套管式预应力中空注浆锚杆，采用如下步骤进行精细化建模：将套管式预应力中空锚杆划分为9种基本构件：注浆端头，对中器，中空杆体，端头扣件，自由段套管，注浆排气管，垫板，垫圈，螺母；以锚杆端部伸出长度l0，中空杆体的长度l1，套筒长度l2，注浆排气管长度l3，连接套长度l4，注浆孔长度l5，端头长度l6，中空杆体的直径 d1，螺纹高度d2，垫板边长d3，注浆孔高度d4，螺距h，垫板厚度h2为参数，绘制套管式预应力中空锚杆的精细化模型；对分段式预应力中空注浆锚杆，采用如下步骤进行精细化建模：将分段式预应力中空注浆锚杆划分为8种基本构件：实心杆体，阻浆器，连接套，中空杆体，注浆排气管，垫板，垫圈和螺母；以锚杆端部伸出长度l0，中空杆体的长度l1，实心杆体长度l2，注浆排气管长度l3，连接套长度l4，阻浆器长度l5，阻浆器定位l6，中空杆体的直径d1，螺纹高度d2，垫板边长d3，阻浆器直径d4，螺距h1，垫板厚度h2为参数，绘制分段式预应力中空锚杆的精细化模型。所述的步骤S3，具体包括如下步骤：A. 根据线路参数，生成空间线模型，并获取任意里程对应的空间点三维坐标和切向量；B. 根据隧道断面变化点和隧道地质条件变化分界点对隧道进行分段，确定每一段隧道所对应的围岩级别以及断面轮廓的各项设计参数；C. 根据隧道锚杆支护设计通图中各项参数之间的关系，参数化生成隧道截面锚杆分布标准模型，并设定隧道截面锚杆分布标准模型的参数；D. 根据隧道分段所在空间线及纵向上锚杆的布置方式，生成最终的隧道锚杆空间分布模型。所述的步骤C，具体包括如下步骤：根据锚杆在隧道断面的分布位置，将锚杆分为拱部锚杆、墙部锚杆和仰拱部锚杆三类；根据隧道分段的围岩级别确定锚杆的布置方案：Ⅲ级围岩以下采用局部布置锚杆方案，Ⅲ级围岩采用拱部布置锚杆方案，Ⅳ级围岩及以上采用拱部+墙部布置锚杆方案；软弱围岩采用拱部+墙部+仰拱部布置锚杆方案；以隧道中线为y轴，内轨顶面为x轴，两者的交点O作为原点，过交点O且与y轴和x轴垂直的方向为z轴，建立隧道参数坐标系，且规定向右、向上、向屏幕外的方向为正方向；隧道为轴对称，隧道中线为对称轴，隧道断面轮廓左右两侧完全对称；定义隧道锚杆分布标准模型的可变参数：单截面锚杆的数量num；锚杆环向间距c1；初期支护的厚度t1；拱部初期支护内侧圆弧半径R1；拱部圆心O1到原点O的高度hO1；拱部锚杆分布弧度；直边墙高度h3；直边墙顶部至原点水平距离s1；直边墙顶部至原点垂直距离h4；曲边墙初期支护内侧圆弧半径R2；曲边墙圆心O2坐标；曲边墙锚杆分布弧度；仰拱缓冲区初期支护内侧圆弧半径R3；仰拱缓冲区圆心O3坐标；仰拱缓冲区锚杆分布弧度；仰拱初期支护内侧圆弧半径R4；仰拱部圆心O4到原点的高度hO4；定义隧道锚杆分布标准模型计算过程的中间参数：拱部环向锚杆间弧度；曲墙部环向锚杆间弧度；仰拱缓冲部环向锚杆间弧度；仰拱部环向锚杆间弧度；弧度累加变量；高度累加变量h；计算拱部锚杆的分布规律：令；从拱部顶部位置开始，逆时针绕着拱部圆心O1每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；计算直边墙部锚杆的分布规律：令h=0；从直边墙顶部位置开始，沿着y轴负方向每隔c1放置一根锚杆，然后num增加1，h的值增加c1，直至h的值不超过h3；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；t1为初期支护的厚度；计算曲边墙部锚杆的分布规律：令；从曲边墙左侧顶部开始位置，逆时针绕着曲边墙圆心O2每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；xO2为曲墙部圆心O2的水平坐标；yO2为曲墙部圆心O2的垂直坐标；计算仰拱缓冲部锚杆的分布规律：令；从曲边墙左侧顶部开始位置，逆时针绕着仰拱缓冲区圆心O3每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；xO3为仰拱缓冲区圆心O3的水平坐标；yO3为仰拱缓冲区圆心O3的垂直坐标；计算仰拱部锚杆的分布规律：令；从曲边墙左侧顶部开始位置，逆时针绕着仰拱部圆心O4每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标。所述的步骤D，具体包括如下步骤：定义空间线上某一里程n对应的空间点坐标为，切向量坐标为；锚杆纵向间距为C2；每延米锚杆数量为nump；隧道锚杆在纵向上的布置方式分为矩型布置方式和梅花型布置方式；对于矩形布置方式，在沿空间线的方向上每隔C2布置一圈相同的截面锚杆分布标准模型，其中截面模型的原点坐标设置为，并将断面模型绕y轴旋转，绕x轴旋转；对于梅花型布置方式，在沿空间线的方向上每隔C2布置截面锚杆分布标准模型，其中对于从空间线起点开始的第偶数个截面模型，将拱部锚杆分布的初始值改为；将直边墙部锚杆的初始值改为；将曲边墙部锚杆分布的初始值改为；将仰拱缓冲部锚杆分布的初始值改为；将仰拱部锚杆分布的初始值改为；并将截面模型的原点坐标设置为，并将断面模型绕y轴旋转，绕x轴旋转；计算每延米锚杆数量nump 为。本发明提供的这种铁路隧道锚杆精细化模型的建立方法，通过总结锚杆设计图纸中各组件的结构特性以及相互之间的几何特征约束，实现单个锚杆模型的参数化建立，模型精度高；利用参数化建立锚杆模型的方式，节省了模型导入需要的时间，而且结合开放式图形引擎的特性，减少了渲染需要的资源和时间，有效能够提高模型的渲染效率及流畅度；同时本发明方法能够根据空间线分布、隧道长度、环向间距、纵向间距、布置规则等参数直接，辅助计算得到各类型锚杆需要的工程量，并且能够实现对单根锚杆进行精准定位，有利于配合设计工作和施工作业的开展；而且本发明方法的精度较高、可靠性较好且方便快捷。附图说明图1为本发明方法的方法流程示意图。图2为本发明方法的五种注浆锚杆的结构示意图；其中图2为普通中空注浆锚杆的结构示意图；图2为组合中空注浆锚杆的结构示意图；图2为涨壳式应力中空注浆锚杆的结构示意图；图2为套管式预应力中空注浆锚杆的结构示意图；图2为分段式预应力中空注浆锚杆的结构示意图。图3为本发明方法的五种注浆锚杆的标准模型示意图；其中，其中图3为普通中空注浆锚杆的杆标准模型示意图；图3为组合中空注浆锚杆的杆标准模型示意图；图3为涨壳式应力中空注浆锚杆的杆标准模型示意图；图3为套管式预应力中空注浆锚杆的杆标准模型示意图；图3为分段式预应力中空注浆锚杆的杆标准模型示意图。图4为本发明方法的直边墙隧道截面锚杆布置标准模型的示意图。图5为本发明方法的曲边墙隧道截面锚杆布置标准模型的示意图。具体实施方式如图1所示为本发明方法的方法流程示意图：本发明提供的这种铁路隧道锚杆精细化模型的建立方法，包括如下步骤：S1. 根据现行锚杆的技术规范，将铁路隧道锚杆进行分类；具体为基于《TBT3209-2008中空锚杆技术条件》和《TBT3356-2014预应力中空锚杆》铁路规范，将铁路隧道锚杆分为普通中空注浆锚杆、组合中空注浆锚杆、涨壳式应力中空注浆锚杆、套管式预应力中空注浆锚杆和分段式预应力中空注浆锚杆；S2. 根据各个类别锚杆的组件的几何特征，对各个类别锚杆进行精细化建模；具体为将各类别锚杆划分为若干个基本构件，并针对每个基本构件，采用开放式图形引擎进行参数化建模和组装，从而实现对各个类别锚杆的精细化建模；以锚杆杆体中轴线为y轴，垫板底面所在面为x平面，两者的交点O作为原点，建立锚杆参考坐标系，规定向右、向上方向为正；具体实施时，普通中空注浆锚杆，采用如下步骤进行精细化建模所示，建模结果如图3所示）：以锚杆杆体中轴线为y轴，垫板底面所在面为x平面，两者的交点O作为原点，建立锚杆参考坐标系，规定向右、向上方向为正；将普通中空注浆锚杆划分为8种基本构件：中空注浆锚杆杆体，堵头，螺母，垫板，止浆塞，锚头；以锚杆杆体的长度 l1，锚杆杆体直径 d1，锚杆端部伸出长度l0，螺纹高度d2，螺距h，垫板边长d3，垫板厚度h2为参数，绘制普通中空注浆锚杆的精细化模型；绘制普通中空注浆锚杆杆体：中空注浆锚杆杆体包括两部分，一部分建模成长度为l1，直径为d1-2d2的圆柱体，体心坐标设置为；另一部分建模成螺纹体，螺纹体上某一点的x坐标为，其中的取值范围是，的取值范围是，h为螺距；y坐标为；z坐标为；螺纹体起点位置坐标设置为；绘制普通中空注浆锚杆堵头：堵头建模成上底直径为，下底直径为，高度为15的圆台体，体心坐标设置于；绘制普通中空注浆锚杆螺母：螺母建模成内嵌圆柱空心的正六棱柱，内圆柱的直径为，正六棱柱的底边边长为，高度为20，体心坐标设置为；绘制普通中空注浆锚杆垫板：垫板包括两部分，一部分建模成长和宽均为d3，高度为h2的长方体，体心坐标设置于；另一部分建模成上底直径为 d1，下底直径为3.5d1，高度为h2+4的圆台体，体心坐标设置于；绘制普通中空注浆锚杆止浆塞：止浆塞包括两部分，一部分建模成长度为30，直径为1.3d1的圆柱体，体心坐标设置于；另一部分建模成上底直径为1.3d1，下底直径为d1，高度为16的圆台体，体心坐标设置于；绘制普通中空注浆锚杆锚头：锚头包括三部分，第一部分建模成直径为d1+6，高度为28的圆柱体，体心坐标设置于；第二部分建模成直径为1.7d1，高度为2的圆柱体，体心坐标设置于；第三部分建模成上底直径为d1+6，下底直径为，高度为6的圆台体，体心坐标设置于；组合中空注浆锚杆所示，建模结果如图3所示），采用如下步骤进行精细化建模：以锚杆杆体中轴线为y轴，垫板底面所在面为x平面，两者的交点O作为原点，建立锚杆参考坐标系，规定向右、向上方向为正；将组合中空注浆锚杆划分为10种基本构件：中空注浆锚杆杆体，一号排气管，堵头，螺母，垫板，止浆塞，连接套，钢筋，二号排气管，锚头；以锚杆端部伸出长度l0，锚杆杆体的长度 l1，钢筋长度l2，一号排气管长度l3，连接套长度l4，锚杆杆体的直径 d1，螺纹高度d2，垫板边长d3，螺距h，垫板厚度h2为参数，绘制组合中空注浆锚杆的精细化模型；绘制组合中空注浆锚杆杆体：组合中空注浆锚杆杆体包括两部分，一部分建模成长度为l1，直径为d1-2d2的圆柱体，体心坐标设置为；另一部分建模成螺纹体，螺纹体上某一点的x坐标为，其中的取值范围是，的取值范围是，h为螺距；y坐标为；z坐标为；螺纹体起点位置坐标设置为；绘制组合中空注浆锚杆一号排气管：组合中空注浆锚杆一号排气管建模成长度为l3，直径为的圆柱体，体心坐标设置为；绘制组合中空注浆锚杆堵头：堵头建模成上底直径为，下底直径为，高度为15的圆台体，体心坐标设置于；绘制组合中空注浆锚杆螺母：组合中空注浆锚杆螺母建模成内嵌圆柱空心的正六棱柱，内圆柱的直径为，正六棱柱的底边边长为，高度为20，体心坐标设置为；绘制组合中空注浆锚杆垫板：组合中空注浆锚杆垫板包括两部分，一部分建模成长和宽均为d3，高度为h2的长方体，体心坐标设置于；另一部分建模成上底直径为 d1，下底直径为3.5d1，高度为h2+4的圆台体，体心坐标设置为；绘制组合中空注浆锚杆止浆塞：组合中空注浆锚杆止浆塞包括两部分，一部分建模成长度为30，直径为1.3d1的圆柱体，体心坐标设置于；另一部分建模成上底直径为1.3d1，下底直径为d1，高度为16的圆台体，体心坐标设置于；绘制组合中空注浆锚杆连接套：组合中空注浆锚杆连接套建模成长度为l4，直径为d1+6的圆柱体，体心坐标设置为；绘制组合中空注浆锚杆钢筋：组合中空注浆锚杆钢筋建模成长度为l2，直径为d1-2d2-10的圆柱体，体心坐标设置为；绘制组合中空注浆锚杆二号排气管：组合中空注浆锚杆二号排气管包括两部分，一部分建模成长度为，直径为的圆柱体，体心坐标设置于；另一部分建模成长度为，直径为的圆柱体，体心坐标设置于；绘制组合中空注浆锚杆锚头：组合中空注浆锚头包括三部分，第一部分建模成直径为d1+6，高度为28的圆柱体，体心坐标设置于；第二部分建模成直径为1.7d1，高度为2的圆柱体，体心坐标设置于；第三部分建模成上底直径为d1+6，下底直径为，高度为6的圆台体，体心坐标设置于；涨壳式应力中空注浆锚杆所示，建模结果如图3所示），采用如下步骤进行精细化建模：以锚杆杆体中轴线为y轴，垫板底面所在面为x平面，两者的交点O作为原点，建立锚杆参考坐标系，规定向右、向上方向为正；将涨壳式预应力中空锚杆划分为6种基本构件：涨壳锚固头，中空杆体，注浆排气管，垫板，垫圈，螺母；以锚杆端部伸出长度l0，锚杆杆体的长度 l1，涨壳锚固头长度l2，涨壳夹片长度l3，锚杆杆体直径 d1，螺纹高度d2，垫板边长d3，螺距h，垫板厚度h2为参数，绘制涨壳式预应力中空锚杆的精细化模型；绘制涨壳锚固头：涨壳锚固头包括两部分，一部分为涨壳内楔，涨壳内楔可以建模成异性体+圆柱体；异性体建模成位于xz平面的特殊二维形状沿y轴拉伸，特殊二维形状顶点为，，和，其中1、2、3、4点之间采用半径为的圆弧连接，其余点之间采用直线连接，沿y轴拉伸l2，其顶点坐标设置为，圆柱体可以建模成长度为28，直径为d1+6，其体心坐标设置为；另一部分为涨壳夹片，可以利用循环建模成俩个关于y轴对称的异性锯齿体，其正面锯齿高为5mm，锯齿间距为5mm，背面为直线+曲线，段为直线，段为二次曲线，锯齿宽度为，其顶点坐标为；绘制涨壳式中空杆体：涨壳式中空杆体包括两部分，一部分可以建模成长度为l1，直径为d1-2d2的圆柱体，体心坐标设置为；另一部分可以建模成螺纹体，螺纹体上某一点的x坐标为，其中的取值范围是，的取值范围是，h为螺距；y坐标为；z坐标为；螺纹体起点位置坐标设置为；绘制涨壳式注浆排气管：涨壳式注浆排气管包括两部分，一部分直线段可以建模成长度为100，直径为的圆柱体，体心坐标设置为；另一部分斜线段可以建模成长度为，直径为的圆柱体，与y轴之间的角度为,体心坐标设置为；绘制涨壳式垫板：涨壳式垫板包括两部分，一部分可以建模成长和宽均为d3，高度为h2的长方体，体心坐标设置于；另一部分可以建模成上底直径为 d1，下底直径为3.5d1，高度为h2+4的圆台体，体心坐标设置于；绘制涨壳式垫圈：涨壳式垫圈可以建模成长度为14，直径为d1+7的圆柱体，体心坐标设置于；绘制涨壳式螺母：螺母可以建模成内嵌圆柱空心的正六棱柱，内圆柱的直径为，正六棱柱的底边边长为，高度为20，底面坐标设置为；套管式预应力中空注浆锚杆所示，建模结果如图3所示），采用如下步骤进行精细化建模：以锚杆杆体中轴线为y轴，垫板底面所在面为x平面，两者的交点O作为原点，建立锚杆参考坐标系，规定向右、向上方向为正；将套管式预应力中空锚杆划分为9种基本构件：注浆端头，对中器，中空杆体，端头扣件，自由段套管，注浆排气管，垫板，垫圈，螺母；以锚杆端部伸出长度l0，中空杆体的长度 l1，套筒长度l2，注浆排气管长度l3，连接套长度l4，注浆孔长度l5，端头长度l6，中空杆体的直径 d1，螺纹高度d2，垫板边长d3，注浆孔高度d4，螺距h，垫板厚度h2为参数，绘制套管式预应力中空锚杆的精细化模型；绘制套管式注浆端头：套管式注浆端头分为侧向注浆孔和端头两部分，侧向注浆孔为长度l5，高度d4的基本T性体，沿端头四周均匀分布，其x坐标为，其中的取值分别为，的取值范围是，间距默认为6，z坐标为，y坐标为，顶点坐标设置为；端头包括两部分，一部分可以建模成长度为l6，直径为d1-2d2的圆柱体，体心坐标设置为，另一部分可以建模成长度为20，直径为d1-2d2的圆锥体，体心坐标设置为；绘制套管式对中器：套管式对中器可以建模成长度为22，直径为的圆柱体，三个套管式对中器体心坐标分别设置为，，；绘制套管式中空杆体：套管式中空杆体包括两部分，一部分可以建模成长度为l1，直径为d1-2d2的圆柱体，体心坐标设置为；另一部分可以建模成螺纹体，螺纹体上某一点的x坐标为，其中的取值范围是，的取值范围是，h为螺距；y坐标为；z坐标为；螺纹体起点位置坐标设置为；绘制套管式端头扣件：套管式端头扣件可以建模成长度为44，直径为的圆柱体，两个套管式端头扣件体心坐标分别设置为和；绘制套管式自由段套管：套管式自由段套管可以建模成长度为l2，直径为的圆柱体，体心坐标设置为；绘制套管式注浆排气管：套管式注浆排气管包括两部分，一部分直线段可以建模成长度为100，直径为的圆柱体，体心坐标设置为；另一部分斜线段可以建模成长度为，直径为的圆柱体，与y轴之间的角度为,体心坐标设置为；绘制套管式垫板：套管式垫板包括两部分，一部分可以建模成长和宽均为d3，高度为h2的长方体，体心坐标设置于；另一部分可以建模成上底直径为 d1，下底直径为3.5d1，高度为h2+4的圆台体，体心坐标设置于；绘制套管式垫圈：套管式垫圈可以建模成长度为14，直径为d1+7的圆柱体，体心坐标设置于；绘制套管式螺母：套管式螺母可以建模成内嵌圆柱空心的正六棱柱，内圆柱的直径为，正六棱柱的底边边长为，高度为20，底面坐标设置为；分段式预应力中空注浆锚杆所示，建模结果如图3所示），采用如下步骤进行精细化建模：将分段式预应力中空注浆锚杆划分为8种基本构件：实心杆体，阻浆器，连接套，中空杆体，注浆排气管，垫板，垫圈和螺母；以锚杆端部伸出长度l0，中空杆体的长度l1，实心杆体长度l2，注浆排气管长度l3，连接套长度l4，阻浆器长度l5，阻浆器定位l6，中空杆体的直径d1，螺纹高度d2，垫板边长d3，阻浆器直径d4，螺距h1，垫板厚度h2为参数，绘制分段式预应力中空锚杆的精细化模型；绘制分段式实心杆体：实心杆体包括两部分，第一部分建模成长度为l2-20，直径为d1-2d2-10的圆柱体，体心坐标设置为；第二部分建模成长度为20，直径为d1-2d2-10的圆锥体，体心坐标设置为；绘制分段式阻浆器：阻浆器建模成异性体+规则体；计算第一中间参数m为，第二中间参数q为；异性体建模为中心对称的四部分，采用顶点、、、、、建立1/4异性体，厚度设置为2，顶点坐标设置为；规则体包括两部分：第一部分建模成长度为6，直径为d1-2d2+6的圆柱体，体心坐标设置为；第二部分建模成长度为36，直径为d1-2d2+3的圆锥体，体心坐标设置为；绘制分段式连接套：连接套建模成长度为l4，直径为的圆柱体，体心坐标设置为；绘制分段式中空杆体：中空杆体包括两部分，第一部分建模成长度为l1，直径为d1-2d2的圆柱体，体心坐标设置为；第二部分建模成螺纹体，螺纹体上某一点的x坐标为，其中的取值范围是，的取值范围是；螺纹体上某一点的y坐标为；螺纹体上某一点的z坐标为；螺纹体起点位置坐标设置为；绘制分段式注浆排气管：注浆排气管包括两部分，第一部分直线段建模成长度为100，直径为d1-2d2-16的圆柱体，体心坐标设置为；第二部分斜线段建模成长度为，直径为d1-2d2-16的圆柱体，与y轴之间的角度为,体心坐标设置为；绘制分段式垫板：垫板包括两部分，第一部分建模成长和宽均为d3，高度为h2的长方体，体心坐标设置于；第二部分建模成上底直径为d1，下底直径为3.5 d1，高度为h2+4的圆台体，体心坐标设置于；绘制分段式垫圈：垫圈建模成长度为14，直径为d1+7的圆柱体，体心坐标设置于；绘制分段式螺母：螺母建模成内嵌圆柱空心的正六棱柱，内圆柱的直径为，正六棱柱的底边边长为，高度为20，底面坐标设置为；S3. 基于铁路隧道锚杆支护设计通图，根据隧道所在线路的空间线数据和隧道衬砌断面类型，确定隧道采用的锚杆类型，并实现铁路隧锚杆沿空间线的参数化分布建模；具体包括如下步骤：A. 根据线路参数，生成空间线模型，并获取任意里程对应的空间点三维坐标和切向量；B. 根据隧道断面变化点和隧道地质条件变化分界点对隧道进行分段，确定每一段隧道所对应的围岩级别以及断面轮廓的各项设计参数；C. 根据隧道锚杆支护设计通图中各项参数之间的关系，参数化生成隧道截面锚杆分布标准模型，并设定隧道截面锚杆分布标准模型的参数；具体包括如下步骤：根据锚杆在隧道断面的分布位置，将锚杆分为拱部锚杆、墙部锚杆和仰拱部锚杆三类；根据隧道分段的围岩级别确定锚杆的布置方案：Ⅲ级围岩以下采用局部布置锚杆方案，Ⅲ级围岩采用拱部布置锚杆方案，Ⅳ级围岩及以上采用拱部+墙部布置锚杆方案；软弱围岩采用拱部+墙部+仰拱部布置锚杆方案；以隧道中线为y轴，内轨顶面为x轴，两者的交点O作为原点，过交点O且与y轴和x轴垂直的方向为z轴，建立隧道参数坐标系，且规定向右、向上、向屏幕外的方向为正方向；隧道为轴对称，隧道中线为对称轴，隧道断面轮廓左右两侧完全对称；定义隧道锚杆分布标准模型的可变参数：单截面锚杆的数量num；锚杆环向间距c1；初期支护的厚度t1；拱部初期支护内侧圆弧半径R1；拱部圆心O1到原点O的高度hO1；拱部锚杆分布弧度；直边墙高度h3；直边墙顶部至原点水平距离s1；直边墙顶部至原点垂直距离h4；曲边墙初期支护内侧圆弧半径R2；曲边墙圆心O2坐标；曲边墙锚杆分布弧度；仰拱缓冲区初期支护内侧圆弧半径R3；仰拱缓冲区圆心O3坐标；仰拱缓冲区锚杆分布弧度；仰拱初期支护内侧圆弧半径R4；仰拱部圆心O4到原点的高度hO4；定义隧道锚杆分布标准模型计算过程的中间参数：拱部环向锚杆间弧度；曲墙部环向锚杆间弧度；仰拱缓冲部环向锚杆间弧度；仰拱部环向锚杆间弧度；弧度累加变量；高度累加变量h；计算拱部锚杆的分布规律：令；从拱部顶部位置开始，逆时针绕着拱部圆心O1每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；计算直边墙部锚杆的分布规律：令h=0；从直边墙顶部位置开始，沿着y轴负方向每隔c1放置一根锚杆，然后num增加1，h的值增加c1，直至h的值不超过h3；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；t1为初期支护的厚度；计算曲边墙部锚杆的分布规律：令；从曲边墙左侧顶部开始位置，逆时针绕着曲边墙圆心O2每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；xO2为曲墙部圆心O2的水平坐标；yO2为曲墙部圆心O2的垂直坐标；计算仰拱缓冲部锚杆的分布规律：令；从曲边墙左侧顶部开始位置，逆时针绕着仰拱缓冲区圆心O3每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；xO3为仰拱缓冲区圆心O3的水平坐标；yO3为仰拱缓冲区圆心O3的垂直坐标；计算仰拱部锚杆的分布规律：令；从曲边墙左侧顶部开始位置，逆时针绕着仰拱部圆心O4每隔弧度放置一根锚杆，然后num增加1，的值增加，直至的值不超过；计算任意锚杆在xy平面的分布位置，其中水平坐标，纵坐标；D. 根据隧道分段所在空间线及纵向上锚杆的布置方式，生成最终的隧道锚杆空间分布模型；具体包括如下步骤：定义空间线上某一里程n对应的空间点坐标为，切向量坐标为；锚杆纵向间距为C2；每延米锚杆数量为nump；隧道锚杆在纵向上的布置方式分为矩型布置方式和梅花型布置方式；对于矩形布置方式，在沿空间线的方向上每隔C2布置一圈相同的截面锚杆分布标准模型，其中截面模型的原点坐标设置为，并将断面模型绕y轴旋转，绕x轴旋转；对于梅花型布置方式，在沿空间线的方向上每隔C2布置截面锚杆分布标准模型，其中对于从空间线起点开始的第偶数个截面模型，将拱部锚杆分布的初始值改为；将直边墙部锚杆的初始值改为；将曲边墙部锚杆分布的初始值改为；将仰拱缓冲部锚杆分布的初始值改为；将仰拱部锚杆分布的初始值改为；并将截面模型的原点坐标设置为，并将断面模型绕y轴旋转，绕x轴旋转；计算每延米锚杆数量nump 为。最终，本发明建立的直边墙隧道截面锚杆布置标准模型的示意图如图4所示；曲边墙隧道截面锚杆布置标准模型的示意图如图5所示。本发明方法通过开放式图形引擎进行了模型实现，分别建立了普通中空注浆锚杆）、组合中空注浆锚杆）、涨壳式应力中空注浆锚杆）、套管式预应力中空注浆锚杆）和分段式预应力中空注浆锚杆模型），并根据铁路隧道锚杆支护设计通图实现了铁路隧锚杆沿空间线的参数化分布建模，包括直墙式隧道截面锚杆布置模型，曲墙式隧道截面锚杆布置模型。本发明方法与传统的建模方法相比，克服了模型精度、模型可动性和模型轻量化难以兼顾的难点，通过对锚杆的实际装配结构进行分析，对锚杆的各个结构进行分类和细化并总结出其中的空间位置关系，提取出实际生活中可以进行变化的参数，并将其融入各个结构的位置定义中，进而实现了锚杆模型的精细化和参数化建模。从参数化灵活程度来讲，本发明方法中的五种不同的锚杆模型的可变参数数量在6~13个，几乎完全覆盖了实际施工中锚杆的可变需求，相较于现有技术仅能调整锚杆长度和直径的两个可变参数，其可变参数数量提高了3~6倍。从模型精细化程度来讲，传统的隧道模型中锚杆模型通常仅为杆体、垫板和螺母的简单叠加，构件数量在1~4个，本发明方法中的构建数量在6~10个，模型精细化程度提高了约2倍。从模型轻量化程度来讲，基于例如3Ds Max专业的3D建模软件技术实现的锚杆模型精细，模型面顶点数据多，模型数据量大，适用于单个锚杆模型的展示，但无法适用于同时出现大量的锚杆模型的BIM工程场景；本发明方法通过圆柱体等基础几何体的应用，以及通过数学方法生成的螺纹、分段式阻浆器等细节，使锚杆模型在足够精细的基础上最大化减少了模型面的顶点数量，实现了模型的轻量化，满足了同时出现大量的锚杆模型的BIM工程场景的需求。综上所述，本发明方法使得锚杆模型兼顾了模型的精度、可动性和轻量化，对于隧道BIM技术的发展具有一定的实用价值。
