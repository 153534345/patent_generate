标题title
一种基于云端高频井口压力生产数据分析方法
摘要abst
本发明涉及油藏工程技术领域，具体涉及一种基于云端高频井口压力生产数据分析方法，通过在井口位置进行高频压力数据采集，对采集的高频压力数据进行边缘计算，得到滤波后的数据，并将滤波后的数据发送至云端，云端接收滤波后的数据，计算并获得井筒的压力分布，最终得到井底压力，根据井底压力，进行生产数据分析，反演储量、渗透率、表皮及地层压力。监测过程通过在井口进行数据采集即可，无需在井下进行测试，测试条件要求简单，测试风险小，并且能够根据井口压力反演得到生产数据。
权利要求书clms
1.一种基于云端高频井口压力生产数据分析方法，其特征在于，包括：在井口位置进行高频压力数据采集；对采集的高频压力数据进行边缘计算，得到滤波后的数据，并将滤波后的数据发送至云端；云端接收滤波后的数据，计算并获得井筒的压力分布，最终得到井底压力；根据井底压力，进行生产数据分析，反演储量、渗透率、表皮及地层压力。2.根据权利要求1所述的一种基于云端高频井口压力生产数据分析方法，其特征在于，所述在井口位置进行高频压力数据采集包括：在井口四通阀上安装高频压力计，高频压力计与管道中的油或水直接接触；安装电池保持压力计的供电；信号电缆线连接压力计、数采设备及电脑，完成设备的安装；给系统供电，打开电脑，运行采集软件，调试测量油水管道中的压力，通过信号电缆线及数采设备将压力采集到电脑。3.根据权利要求2所述的一种基于云端高频井口压力生产数据分析方法，其特征在于，所述高频压力数据采集包括在井口压力测试前保持高频压力采集系统的正常采集，采样时以毫秒级高频测量管道中的压力，由输出线、采集卡将数据直传电脑，完成数据采集；采用HTF-5数据格式存储。4.根据权利要求1所述的一种基于云端高频井口压力生产数据分析方法，其特征在于，所述对采集的高频压力数据进行边缘计算，得到滤波后的数据，并将滤波后的数据发送至云端包括：采用对1分钟内6000个采样压力数据进行积分后再取平均，抽稀为1分钟一个采样点，保证采样数据精度同时减少云端数据传输数据量，具体算法为：1分钟内平均压力：采集的高频压力数据按100HZ采样，1分钟内压力平均值由下式给出：；式中：ti为以分钟为单位的时间值；p实际采样100HZ下τ时刻的采样压力数据，τ以100HZ采样频率下的采样时间；1分钟内递推平均滤波：把连续取N个采样值看成一个队列，其中N=6000，采用先进先出原则，每次采样到一个新数据放入队尾，并扔掉原来队首的一个数据；把队列中的N个数据按公式取其平均值，获得新的滤波结果，即滤波后的数据。5.根据权利要求1所述的一种基于云端高频井口压力生产数据分析方法，其特征在于，所述将滤波后的数据发送至云端包括：压力信号由本地服务器采集后，通过数据分发至不同的系统，包括：本地数据分析系统，负责本地数据的存储和实时数据分析；云服务系统，通过建立TCP长状态连接，将数据以http报文形式发送至云服务器，存储数据库。6.根据权利要求1所述的一种基于云端高频井口压力生产数据分析方法，其特征在于，所述计算并获得井筒的压力分布，最终得到井底压力包括：垂直井筒管流满足的方程：根据能量守恒原理，微小管段两截面间的能量平衡关系式，用微分式表达： ；式中采用国际单位制：p为压力，单位为Pa；ρ为流体密度，kg/m3；l、Z分别表示两截面之间水平长度、垂向高差，单位为m；u为流体速度，单位为m/s；g为重力加速度，单位为m/s2；d为管径，单位为m；f为摩阻系数，无因次；w为外界对流体作功，单位为J/kg；以压头表示的垂直管流能量守恒方程为：；摩阻系数的计算：；式中：f为摩阻系数，无因次；ε为油管粗糙度，单位为m；为流体雷诺数，无因次；ρ为流体密度，单位为kg/m3；μ为流体粘度，单位为Pa.s；井筒压力微分方程求解：根据方程，采用四阶龙格-库塔法进行求解，假设井口位置是零，地层中部深度为L，首先，将区间分为n份，这样Z离散化为Zk，对应P离散化为Pk，这里：；四阶龙格库塔法公式如下：；式中：；由于井口压力已知，也就是Z=0时，P0是已知的，方程和方程相结合，通过不断迭代，获得这个井筒的压力分布，最终得到井底压力。7.根据权利要求1所述的一种基于云端高频井口压力生产数据分析方法，其特征在于，所述根据井底压力，进行生产数据分析包括：根据井底压力，定义满足生产数据分析的新变量、拟合图版及分析方法：生产数据变量定义：物质平衡时间：；归一化产量：；归一化产量积分：；归一化产量积分导数：；式中：q为油井日产量，单位为m3/D；为油井井底流压，单位为MPa；Pi为原始地层压力，单位为MPa；τ为积分变量，时间单位；生产数据分析图版：无量纲归一规化产量表达式：；式中：为Laplace变换公式；；；；；；为无量纲边界半径，无因次；为无量纲压力，无因次；为无量纲时间，无因次；为无量纲物质平衡时间，无因次；μ为流体粘度，单位为mpa.s；B为油的体积系数，无因次；k为地层渗透率，单位为μm2；h为有效地层厚度，单位为m；φ地层孔隙度，无因次；Ct为综合压系数，单位为1/MPa；为圆形地层圆半径，单位为m；s是Laplace变换的变量，无因次；σ是Laplace反演时的积分路径实部，无因次；i是复数中的虚数符号；无量纲归一规化产量积分表达式为：；无量纲归一规化产量积分导数为：；无量纲归一规化产量图版：方程、方程及方程用于计算生产数据分析所需的图版，图版也以双对数形式体现。8.根据权利要求7所述的一种基于云端高频井口压力生产数据分析方法，其特征在于，反演储量、渗透率、表皮及地层压力包括：对实测的压力及流量数据进行整理，如果压力与流量不同步，就以井底压力时间为依据，对流量数据进行插值，使得压力与流量保持数据个数一致，并求出压力差；按公式计算物质平衡时间；公式计算归一化产量；公式计算归一化产量积分；公式计算归一化产量积分导数；将归一化产量积分I、归一化产量积分导数及物质平衡时间ta取对数，并按与图版坐标相同的尺寸绘制成双对数一化产量积分及归一化产量积分导数组合图；将实测的一化产量积分及归一化产量积分导数双对数曲线放在生产数据分析图版上，并移动实测曲线，找出一条与实测曲线相吻合的典型曲线，得到CDe2s值；在实测曲线上取任一点M，记下该点归一化产量积分IM和时间值tM，同时也查出该点在图版上的无量纲归一化产量积分M和无量纲时间值M；由记下的IM、tM、M、M，得到生产数据分析的时间和归一化产量积分拟合值TM和QM；；/＞；由归一化产量积分拟合值QM计算kh/μ和k：；；；；由时间拟合值TM计算C和CD：；；由CDe2s及CD计算S：；由计算地质储量G：；上述方程及公式中的符号物理含义及量纲与公式相同。9.根据权利要求2所述的一种基于云端高频井口压力生产数据分析方法，其特征在于，所述高频压力计耐压140MPa及耐酸20%；压力量程：0~120MPa；压力分辨率：0.1‰MPa；供电部分为24VDC，输出0~10VDC，连接部分为M18×1.5锥面密封，电器连接部分为防水航插式连接；信号电缆线为PVC聚氟乙烯屏蔽电缆，防水航插式，含BNC数采转接线端子，4个电缆转接头；所述数据采集采用HC7804A数据采集器及笔记本电脑，采样频率设置为100HZ。10.根据权利要求1所述的一种基于云端高频井口压力生产数据分析方法，其特征在于，所述云端接收滤波后的数据包括：云端数据接收采用TCP长状态连接，并且采用进行滤波抽稀采样新间隔为1分钟。
说明书desc
技术领域本发明涉及油藏工程技术领域，尤其涉及一种基于云端高频井口压力生产数据分析方法。背景技术油气井生产数据分析是处理和解释油气井日常动态数据响应，从而获取油气藏或油气井参数的过程，通过分析压力及产量数据的变化趋势，达到反演地下参数及了解地层动态的目的。油气田勘探与开发中需要确定地质储量，同时渗透率、表皮及地层平均圧力也是井网部署、配产方案、生产制度优化及改造措施等必须要基本参数。由于油气藏深埋地下数千米，只能在地面或井筒才能进行测量，地层中的参数只能通过反演方法间接得到。油水井生产方式类型较多，如自喷生产、注水-注气-注CO2-注蒸汽生产、抽油机生产，现有生产数据分析方法中，流量递减分析都是假设井底流压恒定不变，而基于物质平衡时间及归一化压力的双对数分析和Blasingame分析方法井底压力及流量都是随时间变化的。随着致密油气及非常规页岩油气的开发，几乎不存在井底压力不变这类理想情况。井底压力的获得需要将压力计下入井筒，最好是下到油水产层中部。受井筒测量空间、环境及流动通道等限制，压力计投放也有多种方式，如通过偏心环空投放，通过下测试管柱、钻杆及油管投放等。在油管生产井从偏心环空采用电缆投放压力计测量成本最低，而通过测试管柱进行压力测量费用较高。无论哪种测试都是采用井底电池供电，压力数据采用存储式压力计，这样的测试有几个弊端，不能长期监测：由于采用井下电池，测量时间受电池供电时间限制；无法在井底长期监测：由于电池供电时间有限，只能采用电缆通过地面供电实现长期井底压力监测，但油井在生产期间不断有流体采出，井口流体也要输入地面输油管道，加之地层中流体可能含有腐蚀性物质以及结蜡等一系列问题，一般不可能长期采用电缆供电用于井底压力测量；井下压力计因造价高：由于井筒条件十分复杂，井底温度高压力也高，同时井底的流体种类不同井也不相同，有的存在腐蚀性流体，井底压力计中各部件需要特别防护，尤其是芯片需要长时间耐高温；井下测试面临多种风险：实际试井压力测试时可能面临各种事故，如压力计被卡、掉井底，尤其是深层气井还面临气体泄漏危害人身安全等。由此可见，现有技术至少存在以下问题：在井下测试的方式，测试环境差，无法长时间监测，同时监测成本和测试风险高。发明内容有鉴于此，本发明的目的在于提出一种基于云端高频井口压力生产数据分析方法，以解决在井下测试的方式，测试环境差，无法长时间监测，同时监测成本和测试风险高的问题。基于上述目的，本发明提供了一种基于云端高频井口压力生产数据分析方法，包括：在井口位置进行高频压力数据采集；对采集的高频压力数据进行边缘计算，得到滤波后的数据，并将滤波后的数据发送至云端；云端接收滤波后的数据，计算并获得井筒的压力分布，最终得到井底压力；根据井底压力，进行生产数据分析，反演储量、渗透率、表皮及地层压力。可选的，所述在井口位置进行高频压力数据采集包括：在井口四通阀上安装高频压力计，高频压力计与管道中的油或水直接接触；安装电池保持压力计的供电；信号电缆线连接压力计、数采设备及电脑，完成设备的安装；给系统供电，打开电脑，运行采集软件，调试测量油水管道中的压力，通过信号电缆线及数采设备将压力采集到电脑。可选的，所述高频压力数据采集包括在井口压力测试前保持高频压力采集系统的正常采集，采样时以毫秒级高频测量管道中的压力，由输出线、采集卡将数据直传电脑，完成数据采集；采用HTF-5数据格式存储。可选的，所述对采集的高频压力数据进行边缘计算，得到滤波后的数据，并将滤波后的数据发送至云端包括：采用对1分钟内6000个采样压力数据进行积分后再取平均，抽稀为1分钟一个采样点，保证采样数据精度同时减少云端数据传输数据量，具体算法为：1分钟内平均压力：采集的高频压力数据按100HZ采样，1分钟内压力平均值由下式给出：；式中：ti为以分钟为单位的时间值；p实际采样100HZ下τ时刻的采样压力数据，τ以100HZ采样频率下的采样时间；1分钟内递推平均滤波：把连续取N个采样值看成一个队列，其中N=6000，采用先进先出原则，每次采样到一个新数据放入队尾，并扔掉原来队首的一个数据；把队列中的N个数据按公式取其平均值，获得新的滤波结果，即滤波后的数据。可选的，所述将滤波后的数据发送至云端包括：压力信号由本地服务器采集后，通过数据分发至不同的系统，包括：本地数据分析系统，负责本地数据的存储和实时数据分析；云服务系统，通过建立TCP长状态连接，将数据以http报文形式发送至云服务器，存储数据库。可选的，所述计算并获得井筒的压力分布，最终得到井底压力包括：垂直井筒管流满足的方程：根据能量守恒原理，微小管段两截面间的能量平衡关系式，用微分式表达： ；式中采用国际单位制：p为压力，单位为Pa；ρ为流体密度，kg/m3；l、Z分别表示两截面之间水平长度、垂向高差，单位为m；u为流体速度，单位为m/s；g为重力加速度，单位为m/s2；d为管径，单位为m；f为摩阻系数，无因次；w为外界对流体作功，单位为J/kg；以压头表示的垂直管流能量守恒方程为：；摩阻系数的计算：；式中：f为摩阻系数，无因次；ε为油管粗糙度，单位为m；为流体雷诺数，无因次；ρ为流体密度，单位为kg/m3；μ为流体粘度，单位为Pa.s；井筒压力微分方程求解：根据方程，采用四阶龙格-库塔法进行求解，假设井口位置是零，地层中部深度为L，首先，将区间分为n份，这样Z离散化为Zk，对应P离散化为Pk，这里：；四阶龙格库塔法公式如下：；式中：；由于井口压力已知，也就是Z=0时，P0是已知的，方程和方程相结合，通过不断迭代，获得这个井筒的压力分布，最终得到井底压力。可选的，所述根据井底压力，进行生产数据分析包括：根据井底压力，定义满足生产数据分析的新变量、拟合图版及分析方法：生产数据变量定义：物质平衡时间：；归一化产量：；归一化产量积分：；归一化产量积分导数：；式中：q为油井日产量，单位为m3/D；为油井井底流压，单位为MPa；Pi为原始地层压力，单位为MPa；τ为积分变量，时间单位；生产数据分析图版：无量纲归一规化产量表达式：；式中：为Laplace变换公式；；；；；；为无量纲边界半径，无因次；为无量纲压力，无因次；为无量纲时间，无因次；为无量纲物质平衡时间，无因次；μ为流体粘度，单位为mpa.s；B为油的体积系数，无因次；k为地层渗透率，单位为μm2；h为有效地层厚度，单位为m；φ地层孔隙度，无因次；Ct为综合压系数，单位为1/MPa；为圆形地层圆半径，单位为m；s是Laplace变换的变量，无因次；σ是Laplace反演时的积分路径实部，无因次；i是复数中的虚数符号；无量纲归一规化产量积分表达式为：；无量纲归一规化产量积分导数为：；无量纲归一规化产量图版：方程、方程及方程用于计算生产数据分析所需的图版，图版也以双对数形式体现。可选的，反演储量、渗透率、表皮及地层压力包括：对实测的压力及流量数据进行整理，如果压力与流量不同步，就以井底压力时间为依据，对流量数据进行插值，使得压力与流量保持数据个数一致，并求出压力差；按公式计算物质平衡时间；公式计算归一化产量；公式计算归一化产量积分；公式计算归一化产量积分导数；将归一化产量积分I、归一化产量积分导数及物质平衡时间ta取对数，并按与图版坐标相同的尺寸绘制成双对数一化产量积分及归一化产量积分导数组合图；将实测的一化产量积分及归一化产量积分导数双对数曲线放在生产数据分析图版上，并移动实测曲线，找出一条与实测曲线相吻合的典型曲线，得到CDe2s值；在实测曲线上取任一点M，记下该点归一化产量积分IM和时间值tM，同时也查出该点在图版上的无量纲归一化产量积分M和无量纲时间值M；由记下的IM、tM、M、M，得到生产数据分析的时间和归一化产量积分拟合值TM和QM；；/＞；由归一化产量积分拟合值QM计算kh/μ和k：；；；；由时间拟合值TM计算C和CD：；；由CDe2s及CD计算S：；由计算地质储量G：；上述方程及公式中的符号物理含义及量纲与公式相同。可选的，所述高频压力计耐压140MPa及耐酸20%；压力量程：0 ~ 120 MPa；压力分辨率：0.1‰MPa；供电部分为24VDC，输出0~10VDC，连接部分为M18×1.5锥面密封，电器连接部分为防水航插式连接；信号电缆线为PVC聚氟乙烯屏蔽电缆，防水航插式，含BNC数采转接线端子，4个电缆转接头；所述数据采集采用HC7804A数据采集器及笔记本电脑，采样频率设置为100HZ。可选的，所述云端接收滤波后的数据包括：云端数据接收采用TCP长状态连接，并且采用进行滤波抽稀采样新间隔为1分钟。本发明的有益效果：本发明提供一种基于云端高频井口压力生产数据分析方法，通过在井口位置进行高频压力数据采集，对采集的高频压力数据进行边缘计算，得到滤波后的数据，并将滤波后的数据发送至云端，云端接收滤波后的数据，计算并获得井筒的压力分布，最终得到井底压力，根据井底压力，进行生产数据分析，反演储量、渗透率、表皮及地层压力。监测过程通过在井口进行数据采集即可，无需在井下进行测试，测试条件要求简单，测试风险小，并且能够根据井口压力反演得到生产数据。附图说明为了更清楚地说明本发明或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例一种基于云端高频井口压力生产数据分析方法的流程示意图。图2为本发明实施例一种基于云端高频井口压力生产数据分析方法的单相管流Moody图；图3为本发明实施例一种基于云端高频井口压力生产数据分析方法的CDe2s=100时双对数归一化流量及导数典型曲线；图4为本发明实例1井采集的井口压力及流量；图5为本发明实例1井的井口压力及折算后的井底压力曲线；图6为本发明实例1实例井1的归一化流量及导数双对数拟合图；图7为本发明实例井1的压力历史拟合图；图8为本发明实例井1的流量及累积量历史拟合图。具体实施方式为使本发明的目的、技术方案和优点更加清楚明白，以下结合具体实施例，对本发明进一步详细说明。需要说明的是，除非另外定义，本发明使用的技术术语或者科学术语应当为本发明所属领域内具有一般技能的人士所理解的通常意义。本发明中使用的“第一”、“第二”以及类似的词语并不表示任何顺序、数量或者重要性，而只是用来区分不同的组成部分。“包括”或者“包含”等类似的词语意指出现该词前面的元件或者物件涵盖出现在该词后面列举的元件或者物件及其等同，而不排除其他元件或者物件。“连接”或者“相连”等类似的词语并非限定于物理的或者机械的连接，而是可以包括电性的连接，不管是直接的还是间接的。“上”、“下”、“左”、“右”等仅用于表示相对位置关系，当被描述对象的绝对位置改变后，则该相对位置关系也可能相应地改变。如图所示，本发明具体实施例提供一种基于云端高频井口压力生产数据分析方法，包括：步骤101，在井口位置进行高频压力数据采集；步骤102，对采集的高频压力数据进行边缘计算，得到滤波后的数据，并将滤波后的数据发送至云端；步骤103，云端接收滤波后的数据，计算并获得井筒的压力分布，最终得到井底压力；步骤104，根据井底压力，进行生产数据分析，反演储量、渗透率、表皮及地层压力。在一些可选的具体实施例中，所述在井口位置进行高频压力数据采集包括：在井口四通阀上安装高频压力计，高频压力计与管道中的油或水直接接触；安装电池保持压力计的供电；信号电缆线连接压力计、数采设备及电脑，完成设备的安装。给系统供电，打开电脑，运行采集软件，调试测量油水管道中的压力，通过信号电缆线及数采设备将压力采集到电脑，保证压力计采集、传输及电脑采集软件正常运行。所述高频压力计耐压140MPa及耐酸20%；压力量程：0 ~ 120 MPa；压力分辨率：0.1‰MPa；供电部分为24VDC，输出0~10VDC，连接部分为M18×1.5锥面密封，电器连接部分为防水航插式连接；信号电缆线为PVC聚氟乙烯屏蔽电缆，防水航插式，含BNC数采转接线端子，4个电缆转接头；所述数据采集采用HC7804A数据采集器及笔记本电脑，采样频率设置为100HZ。在一些可选的具体实施例中，所述高频压力数据采集包括在井口压力测试前保持高频压力采集系统的正常采集，采样时以毫秒级高频测量管道中的压力，由输出线、采集卡将数据直传电脑，完成数据采集；高频压力采集的数据量大，为方便数据调用及共享采用HTF-5数据格式存储。在一些可选的具体实施例中，所述对采集的高频压力数据进行边缘计算，得到滤波后的数据，并将滤波后的数据发送至云端包括：采用对1分钟内6000个采样压力数据进行积分后再取平均，抽稀为1分钟一个采样点，保证采样数据精度同时减少云端数据传输数据量，具体算法为：数据采集滤波方法较多，如限幅滤波法、中位值滤波法、算术平均滤波法、递推平均滤波法及一阶滞后滤波法等，考虑到压力变化来源于渗流，渗流方程本身是扩散方程，压力变化是一个频率趋于零的信号，这里选择递推平均滤波法，包括：1分钟内平均压力：采集的高频压力数据按100HZ采样，1分钟内压力平均值由下式给出：；式中：ti为以分钟为单位的时间值；p实际采样100HZ下τ时刻的采样压力数据，τ以100HZ采样频率下的采样时间；1分钟内递推平均滤波：把连续取N个采样值看成一个队列，其中N=6000，采用先进先出原则，每次采样到一个新数据放入队尾，并扔掉原来队首的一个数据；把队列中的N个数据按公式取其平均值，获得新的滤波结果，即滤波后的数据。在油气生产期间可能存在噪音，同时流体产量等会产生波动，实测的井口压力波动数据需要消除噪音后使用，通过递推平均滤波能够保证采集数据精度的同时减少云端数据传输数据量。在一些可选的具体实施例中，所述将滤波后的数据发送至云端包括：压力信号由本地服务器采集后，通过数据分发至不同的系统，包括：本地数据分析系统，负责本地数据的存储和实时数据分析；云服务系统，通过建立TCP长状态连接，将数据以http报文形式发送至云服务器，存储数据库。长状态连接的好处：建立一条持久化的连接，不需要每次都建立连接，再中断，减轻了服务器端的负载，减少开销的那部分时间，使http请求和响应都能更快的结束。在一些可选的具体实施例中，所述云端接收滤波后的数据包括：云端数据接收采用TCP长状态连接，并且采用进行滤波抽稀采样新间隔为1分钟。由于高频压力计数据采集期间，服务器负载较大，尤其是多路采集的时候，因此采用此种方式，不仅能保证实时可视化及试井分析的需要，也减少部分服务器开销。在一些可选的具体实施例中，所述计算并获得井筒的压力分布，最终得到井底压力包括：垂直井筒管流满足的方程：垂直井筒中假定流体为稳定流动，即在所讨论的管段内，任何断面上流体的一切参数不随时间变化，流入与流出质量守恒，功、热交换也是一定值。根据能量守恒原理，写出微小管段两截面间的能量平衡关系式，通常用微分式表达出来： 。式中采用国际单位制：p为压力，单位为Pa；ρ为流体密度，kg/m3；l、Z分别表示两截面之间水平长度、垂向高差，单位为m；u为流体速度，单位为m/s；g为重力加速度，单位为m/s2；d为管径，单位为m；f为摩阻系数，无因次；w为外界对流体作功，单位为J/kg。对于垂直管流不存在水平段，这样l、Z相同，垂直管流也不存在外界对流体做功，这样以压头表示的垂直管流能量守恒方程可以表示为：。摩阻系数的计算：管道沿程摩阻系数是1932年Nikuradse用人工粗糙管开展水力学流动阻力实验时提出的，Nikuradse试验用的管道叫人工粗糙管。在圆形管道的内壁，人为地粘贴上经过筛选、粒径已知的等径砂粒，砂粒直径就当做管道的绝对粗糙度ε。用不同直径的砂粒粘贴同一直径d的管道，组成一组相对粗糙度ε/d系列的人工粗糙管。1944年，Moody基于上述思路，在前人研究的基础上，进行了大量试验研究，成功地绘出工业管道的关系图，即著名的Moody图，如图2所示。为便于计算这里采用1976年Jain依据Moody图提出的计算公式：。式中：f为摩阻系数，无因次；ε为油管粗糙度，单位为m；为流体雷诺数，无因次；ρ为流体密度，单位为kg/m3；μ为流体粘度，单位为Pa.s；井筒压力微分方程求解：根据方程，采用四阶龙格-库塔法进行求解，假设井口位置是零，地层中部深度为L，首先，将区间分为n份，这样Z离散化为Zk，对应P离散化为Pk，这里：。四阶龙格库塔法公式如下：。式中：；由于井口压力已知，也就是Z=0时，P0是已知的，方程和方程相结合，通过不断迭代，获得这个井筒的压力分布，最终得到井底压力。在一些可选的具体实施例中，所述根据井底压力，定义满足生产数据分析的新变量、拟合图版及分析方法，包括：生产数据变量定义：生产数据分析时井底压力及流量都是随时间在变化，不能像试井分析一样直接采用时间和压力作为变量进行分析解释，为此，定义以下变量：物质平衡时间：。归一化产量：。归一化产量积分：。归一化产量积分导数：。式中：q为油井日产量，单位为m3/D；为油井井底流压，单位为MPa；Pi为原始地层压力，单位为MPa；τ为积分变量，时间单位；生产数据分析图版：生产数据分析图版是一个涉及变流量、变压力的组合参数组成曲线簇，可以通过建立渗流方程，并对相关参数无量纲化，再对无量纲方程进行求解，最后获得生产数据分析所需的图版，图版的计算公式如下：无量纲归一规化产量表达式：。式中：为Laplace变换公式；；；/＞；；；为无量纲边界半径，无因次；为无量纲压力，无因次；为无量纲时间，无因次；为无量纲物质平衡时间，无因次；μ为流体粘度，单位为mpa.s；B为油的体积系数，无因次；k为地层渗透率，单位为μm2；h为有效地层厚度，单位为m；φ地层孔隙度，无因次；Ct为综合压系数，单位为1/MPa；为圆形地层圆半径，单位为m；s是Laplace变换的变量，无因次；σ是Laplace反演时的积分路径实部，无因次；i是复数中的虚数符号；无量纲归一规化产量积分表达式为：。无量纲归一规化产量积分导数为：。无量纲归一规化产量图版：方程、方程及方程用于计算生产数据分析所需的图版，图版也以双对数形式体现，如图4所示。所述进行生产数据分析，反演储量、渗透率、表皮及地层压力包括：对实测的压力及流量数据进行整理，如果压力与流量不同步，就以井底压力时间为依据，对流量数据进行插值，使得压力与流量保持数据个数一致，并求出压力差按公式计算物质平衡时间；公式计算归一化产量；公式计算归一化产量积分；公式计算归一化产量积分导数。将归一化产量积分I、归一化产量积分导数及物质平衡时间ta取对数，并按与图版坐标相同的尺寸绘制成双对数一化产量积分及归一化产量积分导数组合图；/＞将实测的一化产量积分及归一化产量积分导数双对数曲线放在生产数据分析图版上，并移动实测曲线，找出一条与实测曲线相吻合的典型曲线，得到CDe2s值；在实测曲线上取任一点M，记下该点归一化产量积分IM和时间值tM，同时也查出该点在图版上的无量纲归一化产量积分M和无量纲时间值M；由记下的IM、tM、M、M，得到生产数据分析的时间和归一化产量积分拟合值TM和QM；；/＞。由归一化产量积分拟合值QM计算kh/μ和k：。。。。由时间拟合值TM计算C和CD：。。由CDe2s及CD计算S：。由计算地质储量G：。上述方程及公式中的符号物理含义及量纲与公式相同。以下以具体实施场景为例，对本发明的具体实施方式进行说明。实施例1:本例是一口垂直井，井段2192.00-2197.00m，岩性为灰色荧光砂砾岩，干照:3%，淡黄色，中发光，系列对比：10级，乳黄色；井段2220.00-2232.00m，岩性为灰色荧光砂砾岩，干照:1%，淡黄色，中发光，系列对比：8级，乳白色。气测录井：2192.00-2197.00m，气测全烃0.4753%↑44.2847%，出至nC5，气测解释为油层；孔隙度：9.70%，含油饱和度44.64%，测井解释结果油层。2021年7月14日10:00进行射孔作业，射开层段2193.00-2196.00、2222.00-2227.00，共8m。步骤1：2021年7月8日在井口安装高频压力监测设备，7月8日16:00进行现场数据采集及云端数据传输与接收，进行一周时间测试调整，数据采集、处理及云端传输运行正常。步骤2：2021年7月14日射孔后进入试采期，采用逐步放大油嘴的方式进行采油，至8月16日结束本次测试。由于现场采集、边缘计算及云端传输自动执行，只能在分析中心接收数据，图4给出了该井例的井口压力及流量随时间变化的曲线。步骤3：井口井底压力折算：本井是采油井，流体密度ρ=803.6；流体粘度；体积系数B=1.1；油管直径d=0.114；取油藏中部深度L=2195。由公式、公式可以将井口压力折算到油藏中部深度处的压力，图5给出了实例1井井口压力及折算后的井底压力曲线。步骤4：垂直井生产数据分析：采用步骤3中的参数，同时补充有效地层厚度h=8；地层孔隙度φ=0.097；油井半径rw=0.1；综合压缩系数Ct=9.63×10-4。利用井底压力、地面流量数据，计算物质平衡时间、归一化流量及其积分和导数。图6给出了实例井1的双对数归一化流量及导数拟合图，可以看出实例井1的归一化流量及导数与理论计算的归一化流量及导数拟合效果都很好。图7是由拟合获得的地层参数计算的压力历史数据与实测的压力历史数据拟合图，曲线拟合效果很好。图8是流量及累积量历史拟合图，曲线拟合效果是较好，说明选择的模型合适，反演得到的结果也可靠。由图6双对数归一化流量及导数曲线拟合得到时间拟合值，由归一化产量积分拟合值/＞，曲线参数/＞，/＞。将地层、井筒及流体物性相关参数代入公式-得到：由归一化产量积分拟合值QM可计算kh/μ和k：。。。。由时间拟合值TM计算C和CD：。。由CDe2s及CD计算S：。/＞由计算地质储量G：/＞。本发明的工作原理：本发明通过高频压力计在井口采样生产期间的压力及温度数据，由边缘计算实现1秒内采样数据加权平均滤波和对压力数据的温度补偿，并将处理后的高精度压力数据发送至云端，同时也发送现场计量的流量数据；通过云端应用服务接收压力数据与流量，调取该井地质、钻井、录井及测井等数据，选择合适的井口到井底压力计算方法，同时将流量成物质平衡时间，井底压力与流量等处理成归一化压力并求导，采用垂直井生产数据拟合技术，获得地层渗透率、储量及地层压力等油气田勘探开发的重要参数。该发明不仅能避免井底压力测量风险，也更科学地获得适用于生产数据分析的流量与压力数据，从而获得更为准确的地层参数。所属领域的普通技术人员应当理解：以上任何实施例的讨论仅为示例性的，并非旨在暗示本发明的范围被限于这些例子；在本发明的思路下，以上实施例或者不同实施例中的技术特征之间也可以进行组合，步骤可以以任意顺序实现，并存在如上所述的本发明的不同方面的许多其它变化，为了简明它们没有在细节中提供。本发明旨在涵盖落入所附权利要求的宽泛范围之内的所有这样的替换、修改和变型。因此，凡在本发明的精神和原则之内，所做的任何省略、修改、等同替换、改进等，均应包含在本发明的保护范围之内。
