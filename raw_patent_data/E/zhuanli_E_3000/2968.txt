标题title
一种用于智能锁的状态检测方法
摘要abst
本发明提供一种用于智能锁的状态检测方法，包括以下流程，S1：利用前后球手把手运动检测、中心转轴旋转检测、可控锁定解锁结构及算法处理器对信号处理进行智能锁状态检测；S2：利用传感器检测球手旋转或者把手推拉动作，将传感器信号传给算法处理器，并将把手的判断作为状态判断基础；S3：利用旋转检测机械传感器对中心转轴进行两个检测项的检测，包括中心轴旋转检测，检测旋转中/未旋转状态以及旋转到位提示，检测旋转到位/旋转未到位状态；S4：利用可控锁定解锁结构中控制电机正反转联动机械压片实现锁定解锁结构的离合，实际应用中，本申请运用多种机械和电子传感器配合算法，感知智能锁门内门外把手和锁舌部分的运动状态和解锁上锁状态。
权利要求书clms
1.一种用于智能锁的状态检测方法，其特征在于：包括以下流程，S1：利用前后球手把手运动检测、中心转轴旋转检测、可控锁定解锁结构及算法处理器对信号的处理进行智能锁状态检测；S2：利用传感器检测球手旋转或者把手推拉动作，将传感器信号传给算法处理器，并将把手的判断作为状态判断的基础；S3：利用旋转检测机械传感器对中心转轴进行两个检测项的检测，包括中心轴旋转检测，检测旋转中/未旋转状态以及旋转到位提示，检测旋转到位/旋转未到位状态；S4：利用可控锁定解锁结构中控制电机正反转联动机械压片实现锁定解锁结构的离合，从而达到解锁和锁定的目的；电机控制由处理器控制，在控制电机正反转时间的同时，检测电机到位堵转电流，通过正反转开始时间与到位堵转时间的差值计算电机的旋转时间，进而通过旋转转速计算离合销的到位情况；S5：根据步骤S2至步骤S4中的检测，利用算法处理器根据检测项目和对应状态计算出智能锁的状态，并将状态数据存储和记录，供移动终端APP或联网系统查询处理。2.如权利要求1所述的一种用于智能锁的状态检测方法，其特征在于：所述前后球手把手分别布置电子的运动传感器；球手把手运动检测是检测人体动作的主要检测项，检测项包括前把手运动以及后把手运动，检测状态包括前把手运动、前把静止、后把手运动以及后把手静止。3.如权利要求1所述的一种用于智能锁的状态检测方法，其特征在于：所述中心转轴中设置有旋转检测机械传感器；中心轴旋转检测和中心轴旋转到位检测是检测钥匙开锁和电机开锁的主要检测项，是判断钥匙开锁行为和电机开锁行为的主要指标，旋转到位检测是为锁定解锁结构的提供辅助判断的检测指标。4.如权利要求1所述的一种用于智能锁的状态检测方法，其特征在于：所述步骤S4中；锁定解锁结构通过到位情况计算可以得出：上锁中、已上锁、上锁异常、解锁中、已解锁、解锁异常六种检测状态；六种状态的感知解锁和未解锁状态，也向算法处理上报异常，同时上报运动中的状态，这样为动态感知提供了丰富的状态类型，便于处理复杂的智能锁状态。其中的已解锁状态不能单独作为门锁已解锁的判断，需要与中心轴旋转到位检测互相印证才能判断已解锁。5.如权利要求1至4中任意一项权利要求所述的一种用于智能锁的状态检测方法，其特征在于：所述步骤S5中的智能锁状态包括门外把手开门、门内把手开门、门外钥匙开门、APP解锁门外开门、APP解锁门内开门、解锁异常开门失败以及上锁异常关门失败。6.如权利要求1所述的一种用于智能锁的状态检测方法，其特征在于：所述步骤S1中的可控锁定解锁结构包括转动轴以及与所述转动轴活动连接的转轴底板；所述转轴底板中开设有旋转通孔，所述转动轴的一端端头部位贯穿插入所述旋转通孔中，还包括翻转压板、用于驱动所述翻转压板轴向转动的驱动电机以及用于对所述转动轴与所述转轴底板的同步转动进行解锁锁定的离合销；所述翻转压板一端与所述驱动电机的输出轴相互匹配对接，在所述驱动电机的驱动下转动一定角度；所述翻转压板的另一端与所述离合销相互匹配对接，使得所述离合销移动一定的距离；所述转轴底板上设置有用于贯穿所述离合销的限位柱，在所述转动轴的所述端头部位开设有与所述离合销的端头部位相互匹配，实现解锁锁定的锁定孔；所述离合销的一端通过所述限位柱的限位后伸入所述旋转通孔中，与所述锁定孔相互匹配对接。7.如权利要求1或6所述的一种用于智能锁的状态检测方法，其特征在于：所述步骤S1中的前后球手把手运动检测结构包括转轴以及与所述转轴转动式活动连接的转轴底板，在所述转轴底板上固定设置有用于进行转动感测的转动检测模块；所述转动检测模块朝向所述转轴一侧设置有可被外力压下偏移的拨动杆；所述转轴一端伸入所述转轴底板部位，且所述转轴在与所述转轴底板的连接部位外周设置有一凹型缺口；所述拨动杆处于所述凹型缺口中间部位。
说明书desc
本发明涉及智能锁状态检测技术领域，尤其涉及一种判断准确，误判率低的用于智能锁的状态检测方法。智能锁是人们日常生活中较为常用的电子产品，现有的智能锁旋钮结构一般并不带机械定位，旋钮旋转在所有角度力度相同，旋钮可以停在任意角度，由于一般锁联动的锁舌和锁体需要在严格的水平和垂直位置才能正确解锁和上锁，如果由于旋钮旋转偏差超过一定角度，会导致锁体半开或者半关，无法正常解锁等等，旋钮的力度完全受锁体力度影响，旋转没有段落感，容易造成误操作。在现有的智能锁行业主要的关注还是如何通过机械和电子手段实现上锁和解锁，从而实现智能锁的核心功能，将主要的产品设计集中在外观和机械强度上面，对于状态判断和状态感知投入比较少，绝大部分产品只显示已上锁/已解锁状态，只是通过操作行为判断已上锁/已解锁状态，并没有通过综合传感器等行为判断，判断不准确，判断项目少，误判率比较高。为克服现有技术所存在的问题，本发明提供一种判断准确，误判率低的用于智能锁的状态检测方法。本发明解决技术问题的方案是：提供一种用于智能锁的状态检测方法，包括以下流程，S1：利用前后球手把手运动检测、中心转轴旋转检测、可控锁定解锁结构及算法处理器对信号的处理进行智能锁状态检测；S2：利用传感器检测球手旋转或者把手推拉动作，将传感器信号传给算法处理器，并将把手的判断作为状态判断的基础；S3：利用旋转检测机械传感器对中心转轴进行两个检测项的检测，包括中心轴旋转检测，检测旋转中/未旋转状态以及旋转到位提示，检测旋转到位/旋转未到位状态；S4：利用可控锁定解锁结构中控制电机正反转联动机械压片实现锁定解锁结构的离合，从而达到解锁和锁定的目的；电机控制由处理器控制，在控制电机正反转时间的同时，检测电机到位堵转电流，通过正反转开始时间与到位堵转时间的差值计算电机的旋转时间，进而通过旋转转速计算离合销的到位情况；S5：根据步骤S2至步骤S4中的检测，利用算法处理器根据检测项目和对应状态计算出智能锁的状态，并将状态数据存储和记录，供移动终端APP或联网系统查询处理。优选地，所述前后球手把手分别布置电子的运动传感器；球手把手运动检测是检测人体动作的主要检测项，检测项包括前把手运动以及后把手运动，检测状态包括前把手运动、前把静止、后把手运动以及后把手静止。优选地，所述中心转轴中设置有旋转检测机械传感器；中心轴旋转检测和中心轴旋转到位检测是检测钥匙开锁和电机开锁的主要检测项，是判断钥匙开锁行为和电机开锁行为的主要指标，旋转到位检测是为锁定解锁结构的提供辅助判断的检测指标。优选地，所述步骤S4中；锁定解锁结构通过到位情况计算可以得出：上锁中、已上锁、上锁异常、解锁中、已解锁、解锁异常六种检测状态；六种状态的感知解锁和未解锁状态，也向算法处理上报异常，同时上报运动中的状态，这样为动态感知提供了丰富的状态类型，便于处理复杂的智能锁状态。其中的已解锁状态不能单独作为门锁已解锁的判断，需要与中心轴旋转到位检测互相印证才能判断已解锁。优选地，所述步骤S5中的智能锁状态包括门外把手开门、门内把手开门、门外钥匙开门、APP解锁门外开门、APP解锁门内开门、解锁异常开门失败以及上锁异常关门失败。优选地，所述步骤S1中的可控锁定解锁结构包括转动轴以及与所述转动轴活动连接的转轴底板；所述转轴底板中开设有旋转通孔，所述转动轴的一端端头部位贯穿插入所述旋转通孔中，还包括翻转压板、用于驱动所述翻转压板轴向转动的驱动电机以及用于对所述转动轴与所述转轴底板的同步转动进行解锁锁定的离合销；所述翻转压板一端与所述驱动电机的输出轴相互匹配对接，在所述驱动电机的驱动下转动一定角度；所述翻转压板的另一端与所述离合销相互匹配对接，使得所述离合销移动一定的距离；所述转轴底板上设置有用于贯穿所述离合销的限位柱，在所述转动轴的所述端头部位开设有与所述离合销的端头部位相互匹配，实现解锁锁定的锁定孔；所述离合销的一端通过所述限位柱的限位后伸入所述旋转通孔中，与所述锁定孔相互匹配对接。优选地，所述步骤S1中的前后球手把手运动检测结构包括转轴以及与所述转轴转动式活动连接的转轴底板，在所述转轴底板上固定设置有用于进行转动感测的转动检测模块；所述转动检测模块朝向所述转轴一侧设置有可被外力压下偏移的拨动杆；所述转轴一端伸入所述转轴底板部位，且所述转轴在与所述转轴底板的连接部位外周设置有一凹型缺口；所述拨动杆处于所述凹型缺口中间部位。本申请的有益效果如下：与现有技术相比，本发明一种用于智能锁的状态检测方法通过采用以下流程S1：利用前后球手把手运动检测、中心转轴旋转检测、可控锁定解锁结构及算法处理器对信号的处理进行智能锁状态检测，S2：利用传感器检测球手旋转或者把手推拉动作，将传感器信号传给算法处理器，并将把手的判断作为状态判断的基础，S3：利用旋转检测机械传感器对中心转轴进行两个检测项的检测，包括中心轴旋转检测，检测旋转中/未旋转状态以及旋转到位提示，检测旋转到位/旋转未到位状态，S4：利用可控锁定解锁结构中控制电机正反转联动机械压片实现锁定解锁结构的离合，从而达到解锁和锁定的目的；电机控制由处理器控制，在控制电机正反转时间的同时，检测电机到位堵转电流，通过正反转开始时间与到位堵转时间的差值计算电机的旋转时间，进而通过旋转转速计算离合销的到位情况，S5：根据步骤S2至步骤S4中的检测，利用算法处理器根据检测项目和对应状态计算出智能锁的状态，并将状态数据存储和记录，供移动终端APP或联网系统查询处理，实际应用中，本申请运用多种机械和电子传感器配合算法，感知智能锁门内门外把手和锁舌部分的运动状态和解锁上锁状态。图1是本发明一种用于智能锁的状态检测方法的流程示意图。为使本发明的目的，技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用于解释本发明，并不用于限定此发明。请参阅图1，本发明一种用于智能锁的状态检测方法1包括以下流程，S1：利用前后球手把手运动检测、中心转轴旋转检测、可控锁定解锁结构及算法处理器对信号的处理进行智能锁状态检测；S2：利用传感器检测球手旋转或者把手推拉动作，将传感器信号传给算法处理器，并将把手的判断作为状态判断的基础；S3：利用旋转检测机械传感器对中心转轴进行两个检测项的检测，包括中心轴旋转检测，检测旋转中/未旋转状态以及旋转到位提示，检测旋转到位/旋转未到位状态；S4：利用可控锁定解锁结构中控制电机正反转联动机械压片实现锁定解锁结构的离合，从而达到解锁和锁定的目的；电机控制由处理器控制，在控制电机正反转时间的同时，检测电机到位堵转电流，通过正反转开始时间与到位堵转时间的差值计算电机的旋转时间，进而通过旋转转速计算离合销的到位情况；S5：根据步骤S2至步骤S4中的检测，利用算法处理器根据检测项目和对应状态计算出智能锁的状态，并将状态数据存储和记录，供移动终端APP或联网系统查询处理。本申请通过采用以下流程S1：利用前后球手把手运动检测、中心转轴旋转检测、可控锁定解锁结构及算法处理器对信号的处理进行智能锁状态检测，S2：利用传感器检测球手旋转或者把手推拉动作，将传感器信号传给算法处理器，并将把手的判断作为状态判断的基础，S3：利用旋转检测机械传感器对中心转轴进行两个检测项的检测，包括中心轴旋转检测，检测旋转中/未旋转状态以及旋转到位提示，检测旋转到位/旋转未到位状态，S4：利用可控锁定解锁结构中控制电机正反转联动机械压片实现锁定解锁结构的离合，从而达到解锁和锁定的目的；电机控制由处理器控制，在控制电机正反转时间的同时，检测电机到位堵转电流，通过正反转开始时间与到位堵转时间的差值计算电机的旋转时间，进而通过旋转转速计算离合销的到位情况，S5：根据步骤S2至步骤S4中的检测，利用算法处理器根据检测项目和对应状态计算出智能锁的状态，并将状态数据存储和记录，供移动终端APP或联网系统查询处理，实际应用中，本申请运用多种机械和电子传感器配合算法，感知智能锁门内门外把手和锁舌部分的运动状态和解锁上锁状态。在一些其他实施例中，所述前后球手把手分别布置电子的运动传感器；球手把手运动检测是检测人体动作的主要检测项，检测项包括前把手运动以及后把手运动，检测状态包括前把手运动、前把静止、后把手运动以及后把手静止；所述中心转轴中设置有旋转检测机械传感器；中心轴旋转检测和中心轴旋转到位检测是检测钥匙开锁和电机开锁的主要检测项，是判断钥匙开锁行为和电机开锁行为的主要指标，旋转到位检测是为锁定解锁结构的提供辅助判断的检测指标；所述步骤S4中；锁定解锁结构通过到位情况计算可以得出：上锁中、已上锁、上锁异常、解锁中、已解锁、解锁异常六种检测状态；六种状态的感知解锁和未解锁状态，也向算法处理上报异常，同时上报运动中的状态，这样为动态感知提供了丰富的状态类型，便于处理复杂的智能锁状态。其中的已解锁状态不能单独作为门锁已解锁的判断，需要与中心轴旋转到位检测互相印证才能判断已解锁；所述步骤S5中的智能锁状态包括门外把手开门、门内把手开门、门外钥匙开门、APP解锁门外开门、APP解锁门内开门、解锁异常开门失败以及上锁异常关门失败。在一些其他实施例中，所述步骤S1中的可控锁定解锁结构包括转动轴以及与所述转动轴活动连接的转轴底板；所述转轴底板中开设有旋转通孔，所述转动轴的一端端头部位贯穿插入所述旋转通孔中，还包括翻转压板、用于驱动所述翻转压板轴向转动的驱动电机以及用于对所述转动轴与所述转轴底板的同步转动进行解锁锁定的离合销；所述翻转压板一端与所述驱动电机的输出轴相互匹配对接，在所述驱动电机的驱动下转动一定角度；所述翻转压板的另一端与所述离合销相互匹配对接，使得所述离合销移动一定的距离；所述转轴底板上设置有用于贯穿所述离合销的限位柱，在所述转动轴的所述端头部位开设有与所述离合销的端头部位相互匹配，实现解锁锁定的锁定孔；所述离合销的一端通过所述限位柱的限位后伸入所述旋转通孔中，与所述锁定孔相互匹配对接；所述步骤S1中的前后球手把手运动检测结构包括转轴以及与所述转轴转动式活动连接的转轴底板，在所述转轴底板上固定设置有用于进行转动感测的转动检测模块；所述转动检测模块朝向所述转轴一侧设置有可被外力压下偏移的拨动杆；所述转轴一端伸入所述转轴底板部位，且所述转轴在与所述转轴底板的连接部位外周设置有一凹型缺口；所述拨动杆处于所述凹型缺口中间部位。本申请的有益效果如下：本发明主要分为三个部分构成：前后球手把手运动检测和中心转轴旋转检测，可控锁定解锁结构，算法处理。这三个部分的结合形成了一种完整的智能锁状态检测方法。具体如下：1、前后球手把手运动检测和中心转轴旋转检测：设计在智能锁的前后球手/前后把手分别布置电子的运动传感器，传感器检测球手旋转或者把手推拉动作，将传感器信号传给算法处理器，将把手的判断作为状态判断的基础。球手/把手运动检测是检测人体动作的主要检测项，检测项为前把手运动/后把手运动，检测状态为前把手运动，前把静止，后把手运动，后把手静止，这些状态是判断人为球手/把手开门的主要指标。设置在中心转轴的是旋转检测机械传感器，传感器提供两个检测项，一个是中心轴旋转检测，检测状态为旋转中/未旋转。另一个检测项是旋转到位提示，检测状态为旋转到位/旋转未到位。中心轴旋转检测和中心轴旋转到位检测是检测钥匙开锁和电机开锁的主要检测项，是判断钥匙开锁行为和电机开锁行为的主要指标，旋转到位检测是为锁定解锁结构的提供辅助判断的检测指标。2、可控锁定解锁结构：设置了一套以单机运动加机械结构的可控锁定解锁结构，这个结构通过控制电机正反转联动机械压片实现锁定解锁结构的离合，从而达到解锁和锁定的目的。电机控制由处理器控制，在控制正反转时间的同时，检测电机到位堵转电流，通过正反转开始时间与到位堵转时间的差值计算电机的旋转时间，通过旋转转速计算离合销的到位情况。锁定解锁结构通过到位情况计算可以得出上锁中，已上锁，上锁异常，解锁中，已解锁，解锁异常六种检测状态，六种状态不但感知解锁和未解锁状态，也向算法处理上报异常，同时上报运动中的状态，这样为动态感知提供了丰富的状态类型，便于处理复杂的智能锁状态。其中的已解锁状态不能单独作为门锁已解锁的判断，需要与中心轴旋转到位检测互相印证才能判断已解锁。算法处理：根据1、2的电子传感器和结构传感器设置，一共有5种状态检测项，对应14种检测状态，所有的检测状态都由算法处理器直接获得或者计算得出，算法处理根据检测项目和对应状态，计算出智能锁的状态，将这种状态存储并记录，供APP或者联网系统查询处理。其对应的智能锁状态有：门外把手开门，门内把手开门，门外钥匙开门，APP解锁门外开门，APP解锁门内开门，解锁异常开门失败，上锁异常关门失败等多种智能锁状态，如配合更多的软件状态项目，可以更精准的状态判断，如APP解锁超时为开门自动上锁。本发明关键点是根据智能锁的工作原理和结构，设置了包含电子和机械的多种传感器，搭配独创的把手转动检测装置和锁定解锁结构，将5种转态检测项和14种检测状态汇集到算法处理器，经过算法处理器加工生成需要的状态检测结果。与现有技术相比，本发明一种用于智能锁的状态检测方法1通过采用以下流程S1：利用前后球手把手运动检测、中心转轴旋转检测、可控锁定解锁结构及算法处理器对信号的处理进行智能锁状态检测，S2：利用传感器检测球手旋转或者把手推拉动作，将传感器信号传给算法处理器，并将把手的判断作为状态判断的基础，S3：利用旋转检测机械传感器对中心转轴进行两个检测项的检测，包括中心轴旋转检测，检测旋转中/未旋转状态以及旋转到位提示，检测旋转到位/旋转未到位状态，S4：利用可控锁定解锁结构中控制电机正反转联动机械压片实现锁定解锁结构的离合，从而达到解锁和锁定的目的；电机控制由处理器控制，在控制电机正反转时间的同时，检测电机到位堵转电流，通过正反转开始时间与到位堵转时间的差值计算电机的旋转时间，进而通过旋转转速计算离合销的到位情况，S5：根据步骤S2至步骤S4中的检测，利用算法处理器根据检测项目和对应状态计算出智能锁的状态，并将状态数据存储和记录，供移动终端APP或联网系统查询处理，实际应用中，本申请运用多种机械和电子传感器配合算法，感知智能锁门内门外把手和锁舌部分的运动状态和解锁上锁状态。使智能家居产品更智能更准确的判断产品状态甚至故障是行业内一直的追求，具体到智能锁的细分产品品类，此发明大大的增加了智能锁状态的丰富程度，用户不单单可以控制智能锁产品,还可以通过各种方式获得其他用户甚至未知用户对于锁的操作导致的状态变化，对于其他类型的智能产品状态变化的感知用户并没有很强的需求，只能算是提供一个辅助判断，但是智能锁产品本身作为一个安防用品，对于权限管理和安全控制非常严格，任何未经授权的尝试解锁被记录和管控都可能消灭犯罪行为，提高产品体验，同时一些状态警告或者故障状态的提醒也可以提升安全性，提示用户及时处理问题，避免更大的风险或者问题产生。以上所述的本发明实施方式，并不构成对本发明保护范围的限定。任何在本发明的精神和原则之内所作的修改、等同替换和改进等，均应包含在本发明的权利要求保护范围之内。
