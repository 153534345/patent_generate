标题title
基于电成像的地层背景图像计算方法及装置
摘要abst
本发明公开了一种基于电成像的地层背景图像计算方法及装置，方法包括：对电成像测井数据生成的电导率图像数据进行填充，得到全井壁电导率图像；基于全井壁电导率图像生成膨胀标记图像，利用预设结构元对膨胀标记图像进行测地膨胀处理，生成的图像与全井壁电导率图像的交集图像更新为膨胀标记图像，重复测地膨胀处理直至得到的膨胀标记图像达到稳定状态，将稳定状态的膨胀标记图像生成基质过渡图像；基于基质过渡图像生成腐蚀标记图像，利用预设结构元对腐蚀标记图像进行测地腐蚀处理，生成的图像与基质过渡图像的并集图像更新为腐蚀标记图像，重复测地腐蚀处理直至得到的腐蚀标记图像达到稳定状态，将稳定状态的腐蚀标记图像生成地层背景图像。
权利要求书clms
1.一种基于电成像的地层背景图像计算方法，其特征在于，方法包括：将电成像测井数据与常规测井数据进行匹配校正，得到匹配校正后的电成像测井数据，并根据所述匹配校正后的电成像测井数据生成电成像测井原始图像；根据所述电成像测井原始图像进行浅侧向标定生成电导率图像数据；对所述电导率图像数据进行填充，生成全井壁电导率图像；基于所述全井壁电导率图像生成膨胀标记图像，并利用预设结构元对所述膨胀标记图像进行测地膨胀处理，根据测地膨胀处理后的图像与所述全井壁电导率图像的交集图像更新膨胀标记图像，重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态，根据膨胀稳定状态的所述膨胀标记图像生成基质过渡图像；基于所述基质过渡图像生成腐蚀标记图像，并利用预设结构元对所述腐蚀标记图像进行测地腐蚀处理，根据测地腐蚀处理后的图像与所述基质过渡图像的并集图像更新腐蚀标记图像，重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态，根据腐蚀稳定状态的所述腐蚀标记图像生成地层背景图像。2.根据权利要求1所述的方法，其特征在于，所述将电成像测井数据与常规测井数据进行匹配校正，得到匹配校正后的电成像测井数据，并根据所述匹配校正后的电成像测井数据生成电成像测井原始图像进一步包括：根据电成像测井数据的自然伽马曲线和常规测井数据的自然伽马曲线对所述电成像测井数据进行匹配校正，得到匹配校正后的电成像测井数据；对所述匹配校正后的电成像测井数据进行预处理，生成电成像测井原始图像；所述预处理包括加速度校正、基于图像的速度校正、坏电扣剔除修复、图像均衡化、极板级联与方位化。3.根据权利要求1所述的方法，其中，所述根据所述电成像测井原始图像进行浅侧向标定生成电导率图像数据进一步包括：根据常规测量浅侧向电阻率曲线，以及所述电成像测井原始图像的极板数据组平均值曲线，利用线性回归算法使用分段线性拟合刻度电成像测井原始图像，生成电导率图像数据。4.根据权利要求1所述的方法，其特征在于，所述对所述电导率图像数据进行填充，生成全井壁电导率图像进一步包括：利用多点地质统计算法，按照预设大小的移动窗口对所述电导率图像数据进行浏览，将基于所述电导率图像数据得到的多个模式存储至模式集合；利用过滤器对所述模式集合进行分类，确定所述电导率图像对应的数据事件模式，并对所述电导率图像的空白条带进行填充，生成全井壁电导率图像。5.根据权利要求1所述的方法，其特征在于，所述基于所述全井壁电导率图像生成膨胀标记图像，并利用预设结构元对所述膨胀标记图像进行测地膨胀处理，根据测地膨胀处理后的图像与所述全井壁电导率图像的交集图像更新膨胀标记图像，重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态，根据膨胀稳定状态的所述膨胀标记图像生成基质过渡图像进一步包括：对所述全井壁电导率图像进行图像腐蚀处理，得到膨胀标记图像；其中，所述膨胀标记图像的电导率值小于所述全井壁电导率图像的电导率值；利用预设结构元对所述膨胀标记图像进行测地膨胀处理，并将测地膨胀处理后的图像与所述全井壁电导率图像进行比较，取两图像中各对应点位的最小值生成新的膨胀标记图像，对新的膨胀标记图像重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态；所述膨胀稳定状态包括新的膨胀标记图像与更新前的膨胀标记图像相同；根据膨胀稳定状态的膨胀标记图像，去除所述全井壁电导率图像中电导各向异性，生成基质过渡图像。6.根据权利要求1所述的方法，其特征在于，所述基于所述基质过渡图像生成腐蚀标记图像，并利用预设结构元对所述腐蚀标记图像进行测地腐蚀处理，根据测地腐蚀处理后的图像与所述基质过渡图像的并集图像更新腐蚀标记图像，重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态，根据腐蚀稳定状态的所述腐蚀标记图像生成地层背景图像进一步包括：对所述基质过渡图像进行图像膨胀处理，得到腐蚀标记图像；其中，所述腐蚀标记图像的电导率值大于所述基质过渡图像的电导率值；利用预设结构元对所述腐蚀标记图像进行测地腐蚀处理，并将测地腐蚀处理后的图像与所述基质过渡图像进行比较，取两图像中各对应点位的最大值生成新的腐蚀标记图像，对新的腐蚀标记图像重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态；所述腐蚀稳定状态包括新的腐蚀标记图像与更新前的腐蚀标记图像相同；根据腐蚀稳定状态的腐蚀标记图像，去除所述基质过渡图像中电阻各向异性，生成地层背景图像。7.根据权利要求1-6中任一项所述的方法，其特征在于，所述方法还包括：根据所述地层背景图像，统计得到每个深度点的平均电导值、电阻值及每个深度点地层背景图像的最大值和最小值，并生成基质图像属性曲线。8.一种基于电成像的地层背景图像计算装置，其特征在于，装置包括：测井图像模块，适于将电成像测井数据与常规测井数据进行匹配校正，得到匹配校正后的电成像测井数据，并根据所述匹配校正后的电成像测井数据生成电成像测井原始图像；电导率图像模块，适于根据所述电成像测井原始图像进行浅侧向标定生成电导率图像数据；全井壁电导率图像模块，适于对所述电导率图像数据进行填充，生成全井壁电导率图像；膨胀重建模块，适于基于所述全井壁电导率图像生成膨胀标记图像，并利用预设结构元对所述膨胀标记图像进行测地膨胀处理，根据测地膨胀处理后的图像与所述全井壁电导率图像的交集图像更新膨胀标记图像，重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态，根据膨胀稳定状态的所述膨胀标记图像生成基质过渡图像；腐蚀重建模块，适于基于所述基质过渡图像生成腐蚀标记图像，并利用预设结构元对所述腐蚀标记图像进行测地腐蚀处理，根据测地腐蚀处理后的图像与所述基质过渡图像的并集图像更新腐蚀标记图像，重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态，根据腐蚀稳定状态的所述腐蚀标记图像生成地层背景图像。9.一种计算设备，其特征在于，包括：处理器、存储器、通信接口和通信总线，所述处理器、所述存储器和所述通信接口通过所述通信总线完成相互间的通信；所述存储器用于存放至少一可执行指令，所述可执行指令使所述处理器执行如权利要求1-7中任一项所述的基于电成像的地层背景图像计算方法对应的操作。10.一种计算机存储介质，其特征在于，所述存储介质中存储有至少一可执行指令，所述可执行指令使处理器执行如权利要求1-7中任一项所述的基于电成像的地层背景图像计算方法对应的操作。
说明书desc
技术领域本发明实施例涉及电成像测井领域，具体涉及一种基于电成像的地层背景图像计算方法及装置。背景技术基于电成像测井技术可以测得裸眼井井壁地层的电导率图像，直观显示出井壁地层特征。电成像图像通常是地层背景图像与后期发育的地质特征图像的叠加。地层背景图像通常反映了地层的岩性与构造规律，地层后期发育的特征图像通常包括裂缝、孔洞、断层、结核、不整合等。对于火成岩、碳酸盐岩、变质岩等非均质地层，容易发育不规则裂缝与孔洞特征，这些缝洞特征往往相互连接交叉，没有固定的规律特征。对于碎屑岩地层，井壁通常存在砾岩、粗砂岩、结核、层理等特征。在电成像图像上，井壁的各种地质特征往往叠加在一起，形成多种特征混合交叉图像。近年来，电成像测井的图像处理技术领域出现了如图像增强、地层特征识别评价等技术，用于提升图像质量与识别评价地层特征。但这些处理还是主要从电成像图像中识别缝洞与层理特征，进行缝洞定量评价、沉积构造分析、沉积微相识别等研究，对地层的孔隙大小及连通性进行评价等。而基于原始的电成像图像对地层背景规律进行分析研究时，往往受到裂缝、孔洞特征的干扰，因此，需要一种可以基于电成像图像去除图像上的缝洞等井壁特征，得到地层背景图像的方法，方便更加清晰准确地对地层的地质背景进行分析研究。发明内容鉴于上述问题，提出了本发明实施例以便提供一种克服上述问题或者至少部分地解决上述问题的基于电成像的地层背景图像计算方法及装置。根据本发明实施例的一个方面，提供了一种基于电成像的地层背景图像计算方法，方法包括：将电成像测井数据与常规测井数据进行匹配校正，得到匹配校正后的电成像测井数据，并根据匹配校正后的电成像测井数据生成电成像测井原始图像；根据电成像测井原始图像进行浅侧向标定生成电导率图像数据；对电导率图像数据进行填充，生成全井壁电导率图像；基于全井壁电导率图像生成膨胀标记图像，并利用预设结构元对膨胀标记图像进行测地膨胀处理，根据测地膨胀处理后的图像与全井壁电导率图像的交集图像更新膨胀标记图像，重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态，根据膨胀稳定状态的膨胀标记图像生成基质过渡图像；基于基质过渡图像生成腐蚀标记图像，并利用预设结构元对腐蚀标记图像进行测地腐蚀处理，根据测地腐蚀处理后的图像与基质过渡图像的并集图像更新腐蚀标记图像，重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态，根据腐蚀稳定状态的腐蚀标记图像生成地层背景图像。根据本发明实施例的另一方面，提供了一种基于电成像的地层背景图像计算装置，其包括：测井图像模块，适于将电成像测井数据与常规测井数据进行匹配校正，得到匹配校正后的电成像测井数据，并根据匹配校正后的电成像测井数据生成电成像测井原始图像；电导率图像模块，适于根据电成像测井原始图像进行浅侧向标定生成电导率图像数据；全井壁电导率图像模块，适于对电导率图像数据进行填充，生成全井壁电导率图像；膨胀重建模块，适于基于全井壁电导率图像生成膨胀标记图像，并利用预设结构元对膨胀标记图像进行测地膨胀处理，根据测地膨胀处理后的图像与全井壁电导率图像的交集图像更新膨胀标记图像，重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态，根据膨胀稳定状态的膨胀标记图像生成基质过渡图像；腐蚀重建模块，适于基于基质过渡图像生成腐蚀标记图像，并利用预设结构元对腐蚀标记图像进行测地腐蚀处理，根据测地腐蚀处理后的图像与基质过渡图像的并集图像更新腐蚀标记图像，重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态，根据腐蚀稳定状态的腐蚀标记图像生成地层背景图像。根据本发明实施例的又一方面，提供了一种计算设备，包括：处理器、存储器、通信接口和通信总线，所述处理器、所述存储器和所述通信接口通过所述通信总线完成相互间的通信；所述存储器用于存放至少一可执行指令，所述可执行指令使所述处理器执行上述基于电成像的地层背景图像计算方法对应的操作。根据本发明实施例的再一方面，提供了一种计算机存储介质，所述存储介质中存储有至少一可执行指令，所述可执行指令使处理器执行如上述基于电成像的地层背景图像计算方法对应的操作。根据本发明实施例的提供的基于电成像的地层背景图像计算方法及装置，根据电成像测井数据生成电成像测井原始图像，再对电成像测井原始图像进行浅侧向标定生成电导率图像数据，通过对电导率图像数据进行填充，生成全井壁电导率图像。在全井壁电导率图像的基础上，进行膨胀形态学的重建，基于全井壁电导率图像生成膨胀标记图像，并利用预设结构元对膨胀标记图像进行测地膨胀处理，根据测地膨胀处理后的图像与全井壁电导率图像的交集图像更新膨胀标记图像，重复测地膨胀处理直至得到的膨胀标记图像达到膨胀稳定状态，根据膨胀稳定状态的膨胀标记图像生成基质过渡图像，再基于基质过渡图像生成腐蚀标记图像，进行腐蚀形态学的重建，利用预设结构元对腐蚀标记图像进行测地腐蚀处理，根据测地腐蚀处理后的图像与基质过渡图像的并集图像更新腐蚀标记图像，重复测地腐蚀处理直至得到的腐蚀标记图像达到腐蚀稳定状态，根据腐蚀稳定状态的腐蚀标记图像生成地层背景图像，从而将电成像测井数据生成的电成像测井原始图像中的缝洞等井壁特征去除，得到地层背景图像，可以更加清晰准确地对地层的地质背景进行分析研究，也可以在此基础上可以对地层的地质规律进行分析研究。上述说明仅是本发明实施例技术方案的概述，为了能够更清楚了解本发明实施例的技术手段，而可依照说明书的内容予以实施，并且为了让本发明实施例的上述和其它目的、特征和优点能够更明显易懂，以下特举本发明实施例的具体实施方式。附图说明通过阅读下文优选实施方式的详细描述，各种其他的优点和益处对于本领域普通技术人员将变得清楚明了。附图仅用于示出优选实施方式的目的，而并不认为是对本发明实施例的限制。而且在整个附图中，用相同的参考符号表示相同的部件。在附图中：图1示出了根据本发明一个实施例的基于电成像的地层背景图像计算方法的流程图；图2示出了预设结构元示意图；图3示出了测地膨胀处理过程示意图；图4示出了测地腐蚀处理过程示意图；图5示出了井段成像测井图像的地层背景图像计算结果图；图6示出了根据本发明一个实施例的基于电成像的地层背景图像计算装置的结构示意图；图7示出了根据本发明一个实施例的一种计算设备的结构示意图。具体实施方式下面将参照附图更详细地描述本发明的示例性实施例。虽然附图中显示了本发明的示例性实施例，然而应当理解，可以以各种形式实现本发明而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更透彻地理解本发明，并且能够将本发明的范围完整的传达给本领域的技术人员。图1示出了根据本发明一个实施例的基于电成像的地层背景图像计算方法的流程图，如图1所示，该方法包括如下步骤：步骤S101，将电成像测井数据与常规测井数据进行匹配校正，得到匹配校正后的电成像测井数据，并根据匹配校正后的电成像测井数据生成电成像测井原始图像。本实施例利用电成像测井仪器可以获取得到电成像测井数据，基于电成像测井数据，最终生成的地层背景图像，可用于如碎屑岩、碳酸盐岩等环境下高分辨率地层对比，还可用于如孔隙类型分类及定量计算的数据输入，同时基于地层背景图像还可以生成基质图像各属性曲线，如电阻率曲线，比常规测量浅侧向电阻率曲线具有更高的分辨率，更能反映地层特征，可用于层序分析等。具体的，根据电成像测井数据的自然伽马曲线和常规测井数据的自然伽马曲线可以对电成像测井数据进行深度匹配校正，得到匹配校正后的电成像测井数据。对匹配校正后的电成像测井数据可以进行预处理，预处理包括如加速度校正、基于图像的速度校正、坏电扣剔除修复、图像均衡化、极板级联与方位化等，基于预处理后的电成像测井数据生成电成像测井原始图像。步骤S102，根据电成像测井原始图像进行浅侧向标定生成电导率图像数据。对于电成像测井原始图像，根据其包含的电成像测井数据中的如电阻率数据等，通过对电阻率数据进行处理，可以得到电导率图像数据。如根据常规测量浅侧向电阻率曲线，以及电成像测井原始图像的极板数据组平均值曲线，利用线性回归算法使用分段线性拟合刻度电成像测井原始图像，标定生成电导率图像数据。步骤S103，对电导率图像数据进行填充，生成全井壁电导率图像。电导率图像数据反映了井周地层的电导率，对电导率图像数据可以利用多点地质统计算法，按照预设大小的移动窗口对电导率图像数据进行浏览，将基于电导率图像数据得到的多个模式存储至模式集合中。利用过滤器对模式集合进行分类，如利用过滤器将模式集合中包含的电导率图像数据的各个模式进行分类，此处，过滤器采用一个各像素位置均带有分值的数据模板。将电导率图像作为训练图像，将过滤器置于训练图像上时，获得数据模板区域内的过滤器分值，该分值可以视为数据模板区域训练图像的过滤器得分之和。过滤器将训练图像中的各个模式转换成过滤器的分值。在模拟填充过程中，利用过滤器获得待模拟区域内对应的数据事件的过滤器分值，查找确定训练图像中与该数据事件的过滤器分值最相近的模式，作为数据事件模式，将数据事件模式中的各分值“粘贴”至待模拟区域内，从而实现对图像空白条带进行填充，生成全井壁电导率图像。步骤S104，基于全井壁电导率图像生成膨胀标记图像，并利用预设结构元对膨胀标记图像进行测地膨胀处理，根据测地膨胀处理后的图像与全井壁电导率图像的交集图像更新膨胀标记图像，重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态，根据膨胀稳定状态的膨胀标记图像生成基质过渡图像。在得到全井壁电导率图像后，对全井壁电导率图像进行图像腐蚀处理，得到膨胀标记图像。其中，图像腐蚀处理即将图像的边缘加以腐蚀，得到的膨胀标记图像的电导率值小于全井壁电导率图像的电导率值。预设结构元用于定义连通性，预设结构元采用一个形状和大小已知的像素点集以及一个原点。预设结构元采用如类似于空间滤波时的卷积核，当进行形态学处理时，需要遍历图像中的每一个像素，当结构元素的原点与给定的像素对齐时，它与图像相交部分定义了一组进行形态学运算的像素。结构元素可以采用任何形状，采用如简单形状，如方形、圆形、菱形等，其中，预设结构元的原点位于中心位，以3*3阵列的预设结构元为例，预设结构元如图2所示，位于中心位的为预设结构元原点。具体的，预设结构元以B表示，全井壁电导率图像以G表示，膨胀标记图像以F表示，如图3所示，利用预设结构元B对膨胀标记图像F进行测地膨胀处理，测地膨胀处理时的大小可以根据实施情况设置，如大小为1。测地膨胀处理采用膨胀算子⊕，⊕实现对数据集中的每个元素在自定义的结构元素内寻求最大值来替代中心元素的值。将测地膨胀处理后的图像与全井壁电导率图像G进行比较，取两图像中各对应点位的最小值生成新的膨胀标记图像。以1次测地膨胀处理为例，参考如下公式：=∩G其中，代表1次测地膨胀处理，即生成的新的膨胀标记图像。以n次测地膨胀处理为例，可以参考如下公式：=/＞/＞其中，第n次测地膨胀处理即对第n-1次测地膨胀处理生成的膨胀标记图像，再进行1次测地膨胀处理。=F，即第0次，也就是未进行测地膨胀处理时，起始的膨胀标记图像就是F。对新的膨胀标记图像重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态。膨胀稳定状态包括新的膨胀标记图像与更新前的膨胀标记图像相同。当测地膨胀处理执行K次后，达到膨胀稳定状态。即=/＞。计算根据测地膨胀处理后的图像与全井壁电导率图像的交集图像使用交集算子∩进行每一次迭代执行，交集算子∩保证了每一次测地膨胀得到的结果图像仍然小于等于全井壁电导率图像G。根据膨胀稳定状态的膨胀标记图像，去除全井壁电导率图像中电导各向异性，生成基质过渡图像。步骤S105，基于基质过渡图像生成腐蚀标记图像，并利用预设结构元对腐蚀标记图像进行测地腐蚀处理，根据测地腐蚀处理后的图像与基质过渡图像的并集图像更新腐蚀标记图像，重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态，根据腐蚀稳定状态的腐蚀标记图像生成地层背景图像。在得到基质过渡图像后，对基质过渡图像进行图像膨胀处理，得到腐蚀标记图像。图像膨胀处理是将图像扩大，取决于结构元素大小内容以及逻辑运算性质，通过图像膨胀处理可以填补目标区域中的空洞、消除包含在目标区域中的小颗粒噪声等。图像膨胀处理得到的腐蚀标记图像的电导率值大于基质过渡图像的电导率值。利用如图2所示的预设结构元，对腐蚀标记图像进行测地腐蚀处理。测地腐蚀处理如图4所示，预设结构元以B表示，基质过渡图像以G表示，腐蚀标记图像以F表示。利用预设结构元B对腐蚀标记图像F进行测地腐蚀处理。测地腐蚀处理时的大小可以根据实施情况设置，如大小为1。测地腐蚀处理采用腐蚀算子Θ，Θ实现对数据集中的每个元素在自定义的结构元素内寻求最小值来替代中心元素的值。将测地腐蚀处理后的图像与基质过渡图像G进行比较，取两图像中各对应点位的最大值生成新的腐蚀标记图像。以1次测地腐蚀处理为例，参考如下公式：= ∪G其中，代表1次测地腐蚀处理，即生成的新的腐蚀标记图像。以n次测地腐蚀处理为例，可以参考如下公式：=/＞/＞其中，第n次测地腐蚀处理即对第n-1次测地腐蚀处理生成的腐蚀标记图像，再进行1次测地腐蚀处理。=F，即第0次，也就是未进行测地腐蚀处理时，起始的腐蚀标记图像就是F。对新的腐蚀标记图像重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态。腐蚀稳定状态包括新的腐蚀标记图像与更新前的腐蚀标记图像相同。当测地腐蚀处理执行K次后，达到腐蚀稳定状态。即=/＞。计算根据测地腐蚀处理后的图像与基质过渡图像的并集图像使用并集算子∪进行每一次迭代执行，并集算子∪保证每一次测地腐蚀处理得到的结果图像仍然大于等于基质过渡图像G。根据腐蚀稳定状态的腐蚀标记图像，去除基质过渡图像中电阻各向异性，生成地层背景图像。进一步，本实施例还可以包括如下步骤：步骤S106，根据地层背景图像，统计得到每个深度点的平均电导值、电阻值及每个深度点地层背景图像的最大值和最小值，并生成基质图像属性曲线。在得到地层背景图像后，根据地层背景图像，可以统计每个深度点的平均电导值、电阻值及每个深度点基质图像的最大值、最小值，生成如图5所示的基质图像属性曲线。如图5所示，其中，第1道为深度道，比例尺采用1:10，深度包括6947、6948、6949；第2道为浅侧向标定电导率图像；第3道为全井壁复原电导率图像；第4道为地层背景图像；第5道为基质图像属性曲线；第6道为地层背景图像计算的常规测量浅侧向电阻率与基质电阻率的曲线。从图5中可以看出，生成的地层背景图像剔除了原电导率图像的高导、高阻各向异性，只留下基体，能够很好的反映地层层序特征，同时，基于地层背景图像生成的基质电导率、电阻率曲线相较于常规浅侧向电阻率曲线具有更高分辨率，更能反映地层特征。根据本发明实施例提供的基于电成像的地层背景图像计算方法，根据电成像测井数据生成电成像测井原始图像，再对电成像测井原始图像进行浅侧向标定生成电导率图像数据，通过对电导率图像数据进行填充，生成全井壁电导率图像。在全井壁电导率图像的基础上，进行膨胀形态学的重建，基于全井壁电导率图像生成膨胀标记图像，并利用预设结构元对膨胀标记图像进行测地膨胀处理，根据测地膨胀处理后的图像与全井壁电导率图像的交集图像更新膨胀标记图像，重复测地膨胀处理直至得到的膨胀标记图像达到膨胀稳定状态，根据膨胀稳定状态的膨胀标记图像生成基质过渡图像，再基于基质过渡图像生成腐蚀标记图像，进行腐蚀形态学的重建，利用预设结构元对腐蚀标记图像进行测地腐蚀处理，根据测地腐蚀处理后的图像与基质过渡图像的并集图像更新腐蚀标记图像，重复测地腐蚀处理直至得到的腐蚀标记图像达到腐蚀稳定状态，根据腐蚀稳定状态的腐蚀标记图像生成地层背景图像，从而将电成像测井数据生成的电成像测井原始图像中的缝洞等井壁特征去除，得到地层背景图像，可以更加清晰准确地对地层的地质背景进行分析研究，也可以在此基础上可以对地层的地质规律进行分析研究。图6示出了本发明实施例提供的基于电成像的地层背景图像计算装置的结构示意图。如图6所示，该装置包括：测井图像模块610，适于将电成像测井数据与常规测井数据进行匹配校正，得到匹配校正后的电成像测井数据，并根据匹配校正后的电成像测井数据生成电成像测井原始图像；电导率图像模块620，适于根据电成像测井原始图像进行浅侧向标定生成电导率图像数据；全井壁电导率图像模块630，适于对电导率图像数据进行填充，生成全井壁电导率图像；膨胀重建模块640，适于基于全井壁电导率图像生成膨胀标记图像，并利用预设结构元对膨胀标记图像进行测地膨胀处理，根据测地膨胀处理后的图像与全井壁电导率图像的交集图像更新膨胀标记图像，重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态，根据膨胀稳定状态的膨胀标记图像生成基质过渡图像；腐蚀重建模块650，适于基于基质过渡图像生成腐蚀标记图像，并利用预设结构元对腐蚀标记图像进行测地腐蚀处理，根据测地腐蚀处理后的图像与基质过渡图像的并集图像更新腐蚀标记图像，重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态，根据腐蚀稳定状态的腐蚀标记图像生成地层背景图像。可选地，测井图像模块610进一步适于：根据电成像测井数据的自然伽马曲线和常规测井数据的自然伽马曲线对电成像测井数据进行匹配校正，得到匹配校正后的电成像测井数据；对匹配校正后的电成像测井数据进行预处理，生成电成像测井原始图像；预处理包括加速度校正、基于图像的速度校正、坏电扣剔除修复、图像均衡化、极板级联与方位化。可选地，电导率图像模块620进一步适于：根据常规测量浅侧向电阻率曲线，以及电成像测井原始图像的极板数据组平均值曲线，利用线性回归算法使用分段线性拟合刻度电成像测井原始图像，生成电导率图像数据。可选地，全井壁电导率图像模块630进一步适于：利用多点地质统计算法，按照预设大小的移动窗口对电导率图像数据进行浏览，将基于电导率图像数据得到的多个模式存储至模式集合；利用过滤器对模式集合进行分类，确定电导率图像对应的数据事件模式，并对电导率图像的空白条带进行填充，生成全井壁电导率图像。可选地，膨胀重建模块640进一步适于：对全井壁电导率图像进行图像腐蚀处理，得到膨胀标记图像；其中，膨胀标记图像的电导率值小于全井壁电导率图像的电导率值；利用预设结构元对膨胀标记图像进行测地膨胀处理，并将测地膨胀处理后的图像与全井壁电导率图像进行比较，取两图像中各对应点位的最小值生成新的膨胀标记图像，对新的膨胀标记图像重复测地膨胀处理，直至得到的膨胀标记图像达到膨胀稳定状态；膨胀稳定状态包括新的膨胀标记图像与更新前的膨胀标记图像相同；根据膨胀稳定状态的膨胀标记图像，去除全井壁电导率图像中电导各向异性，生成基质过渡图像。可选地，腐蚀重建模块650进一步适于：对基质过渡图像进行图像膨胀处理，得到腐蚀标记图像；其中，腐蚀标记图像的电导率值大于基质过渡图像的电导率值；利用预设结构元对腐蚀标记图像进行测地腐蚀处理，并将测地腐蚀处理后的图像与基质过渡图像进行比较，取两图像中各对应点位的最大值生成新的腐蚀标记图像，对新的腐蚀标记图像重复测地腐蚀处理，直至得到的腐蚀标记图像达到腐蚀稳定状态；腐蚀稳定状态包括新的腐蚀标记图像与更新前的腐蚀标记图像相同；根据腐蚀稳定状态的腐蚀标记图像，去除基质过渡图像中电阻各向异性，生成地层背景图像。可选地，装置还包括：统计模块660，适于根据地层背景图像，统计得到每个深度点的平均电导值、电阻值及每个深度点地层背景图像的最大值和最小值，并生成基质图像属性曲线。以上各模块的描述参照方法实施例中对应的描述，在此不再赘述。本发明实施例还提供了一种非易失性计算机存储介质，计算机存储介质存储有至少一可执行指令，可执行指令可执行上述任意方法实施例中的基于电成像的地层背景图像计算方法。图7示出了根据本发明实施例的一种计算设备的结构示意图，本发明实施例的具体实施例并不对计算设备的具体实现做限定。如图7所示，该计算设备可以包括：处理器702、通信接口704、存储器706、以及通信总线708。其特征在于：处理器702、通信接口704、以及存储器706通过通信总线708完成相互间的通信。通信接口704，用于与其它设备比如客户端或其它服务器等的网元通信。处理器702，用于执行程序710，具体可以执行上述基于电成像的地层背景图像计算方法实施例中的相关步骤。具体地，程序710可以包括程序代码，该程序代码包括计算机操作指令。处理器702可能是中央处理器CPU，或者是特定集成电路ASIC，或者是被配置成实施本发明实施例的一个或多个集成电路。计算设备包括的一个或多个处理器，可以是同一类型的处理器，如一个或多个CPU；也可以是不同类型的处理器，如一个或多个CPU以及一个或多个ASIC。存储器706，用于存放程序710。存储器706可能包含高速RAM存储器，也可能还包括非易失性存储器，例如至少一个磁盘存储器。程序710具体可以用于使得处理器702执行上述任意方法实施例中的基于电成像的地层背景图像计算方法。程序710中各步骤的具体实现可以参见上述基于电成像的地层背景图像计算实施例中的相应步骤和单元中对应的描述，在此不赘述。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的设备和模块的具体工作过程，可以参考前述方法实施例中的对应过程描述，在此不再赘述。在此提供的算法或显示不与任何特定计算机、虚拟系统或者其它设备固有相关。各种通用系统也可以与基于在此的示教一起使用。根据上面的描述，构造这类系统所要求的结构是显而易见的。此外，本发明实施例也不针对任何特定编程语言。应当明白，可以利用各种编程语言实现在此描述的本发明实施例的内容，并且上面对特定语言所做的描述是为了披露本发明实施例的较佳实施方式。在此处所提供的说明书中，说明了大量具体细节。然而，能够理解，本发明的实施例可以在没有这些具体细节的情况下实践。在一些实例中，并未详细示出公知的方法、结构和技术，以便不模糊对本说明书的理解。类似地，应当理解，为了精简本发明实施例并帮助理解各个发明方面中的一个或多个，在上面对本发明的示例性实施例的描述中，本发明实施例的各个特征有时被一起分组到单个实施例、图、或者对其的描述中。然而，并不应将该公开的方法解释成反映如下意图：即所要求保护的本发明实施例要求比在每个权利要求中所明确记载的特征更多的特征。更确切地说，如下面的权利要求书所反映的那样，发明方面在于少于前面公开的单个实施例的所有特征。因此，遵循具体实施方式的权利要求书由此明确地并入该具体实施方式，其特征在于每个权利要求本身都作为本发明的单独实施例。本领域那些技术人员可以理解，可以对实施例中的设备中的模块进行自适应性地改变并且把它们设置在与该实施例不同的一个或多个设备中。可以把实施例中的模块或单元或组件组合成一个模块或单元或组件，以及此外可以把它们分成多个子模块或子单元或子组件。除了这样的特征和/或过程或者单元中的至少一些是相互排斥之外，可以采用任何组合对本说明书中公开的所有特征以及如此公开的任何方法或者设备的所有过程或单元进行组合。除非另外明确陈述，本说明书中公开的每个特征可以由提供相同、等同或相似目的的替代特征来代替。此外，本领域的技术人员能够理解，尽管在此的一些实施例包括其它实施例中所包括的某些特征而不是其它特征，但是不同实施例的特征的组合意味着处于本发明的范围之内并且形成不同的实施例。例如，在下面的权利要求书中，所要求保护的实施例的任意之一都可以以任意的组合方式来使用。本发明的各个部件实施例可以以硬件实现，或者以在一个或者多个处理器上运行的软件模块实现，或者以它们的组合实现。本领域的技术人员应当理解，可以在实践中使用微处理器或者数字信号处理器来实现根据本发明实施例的一些或者全部部件的一些或者全部功能。本发明实施例还可以实现为用于执行这里所描述的方法的一部分或者全部的设备或者系统程序。这样的实现本发明实施例的程序可以存储在计算机可读介质上，或者可以具有一个或者多个信号的形式。这样的信号可以从因特网网站上下载得到，或者在载体信号上提供，或者以任何其他形式提供。应该注意的是上述实施例对本发明实施例进行说明而不是对本发明进行限制，并且本领域技术人员在不脱离所附权利要求的范围的情况下可设计出替换实施例。在权利要求中，不应将位于括号之间的任何参考符号构造成对权利要求的限制。单词“包含”不排除存在未列在权利要求中的元件或步骤。位于元件之前的单词“一”或“一个”不排除存在多个这样的元件。本发明实施例可以借助于包括有若干不同元件的硬件以及借助于适当编程的计算机来实现。在列举了若干系统的单元权利要求中，这些系统中的若干个可以是通过同一个硬件项来具体体现。单词第一、第二、以及第三等的使用不表示任何顺序。可将这些单词解释为名称。上述实施例中的步骤，除有特殊说明外，不应理解为对执行顺序的限定。
