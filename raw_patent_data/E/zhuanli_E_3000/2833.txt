标题title
一种电动装载机电机多模式控制装置及控制方法
摘要abst
本发明公开了一种电动装载机电机多模式控制装置及控制方法，该装置包括：电机控制器、液压电机、定量泵、优先阀、多路阀、转向器、转向油缸、执行机构、先导阀、工作模式选择阀、传感器组件；通过电机控制器分别与多种传感器电联实时接收多种传感器反馈数据，并根据多种传感器反馈数据选择生成按需供给或调整输出效率的控制指令；电机控制器还与液压电机电联将按需供给或调整输出效率的控制指令选择发送至液压电机，液压电机根据控制指令实时调整输出转速；控制指令的选择根据先导阀手柄当前所在的工作区进行确定；本发明的装置及控制方法能够控制液压电机按需供给或调整输出效率的方式输出相应转速，为不同工作模式切换合适的节能方法。
权利要求书clms
1.一种电动装载机电机多模式控制装置，其特征在于，包括：电机控制器、液压电机、定量泵、优先阀、多路阀、转向器、转向油缸、执行机构、先导阀、工作模式选择阀、传感器组件；其中，所述传感器组件由多种传感器组成，所述电机控制器分别与多种传感器电联，用于实时接收多种传感器反馈数据，并根据多种传感器反馈数据选择生成按需供给或调整输出效率的控制指令；所述电机控制器还与液压电机电联，用于将按需供给或调整输出效率的控制指令选择发送至液压电机，并根据选择的控制指令实时调整液压电机输出转速；所述工作模式选择阀用于检测执行机构当前负载压力；所述液压电机与定量泵传动连接，用于向定量泵提供动力带动定量泵调节液压油流量；所述定量泵的出油口分别与优先阀的进油口、多路阀的进油口连接；所述优先阀的出油口与转向器的进油口连接；所述转向器的出油口与转向油缸的进油口连接；所述先导阀的工作口与所述多路阀的控制口连接，用于通过先导阀向多路阀输出先导压力，进而控制多路阀的开启与关闭；所述多路阀的出油口与执行机构的油缸进油腔连接，用于将液压动力转化为机械动能。2.根据权利要求1所述的一种电动装载机电机多模式控制装置，其特征在于，所述传感器组件包括：第一压力传感器、第二压力传感器、第三压力传感器、第四压力传感器、角度传感器；其中，所述第一压力传感器设置在先导阀的进口，用于向电机控制器实时反馈先导压力信号；所述第二压力传感器设置在执行机构油缸的进油腔，用于向工作模式选择阀实时反馈执行机构压力信号；所述第三压力传感器设置在转向器的压力油口，用于向电机控制器实时反馈转向器压力信号；所述第四压力传感器设置在工作模式选择阀处，用于根据检测执行机构负载压力信号生成工作模式判断信号，向电机控制器实时反馈执行机构当前工作模式信号；所述角度传感器集成在先导阀手柄处，用于向电机控制器实时反馈先导阀手柄角度信号。3.根据权利要求1所述的一种电动装载机电机多模式控制装置，其特征在于，所述执行机构为动臂、翻斗、夹钳装置、装载机快换装置、侧卸装置、除雪装置、推煤铲、抓草机具、起吊装置中任一种。4.一种电动装载机电机多模式控制方法，其特征在于，包括：采集先导压力信号、转向器压力信号、执行机构压力信号、工作模式信号、手柄角度信号；根据工作模式信号确定工作模式，根据先导压力信号控制多路阀的开启与关闭，根据手柄角度信号判断出先导阀手柄的工作区，根据执行机构压力信号判断执行油缸压力，根据转向器压力信号判断转向油缸压力；其中，根据先导阀手柄当前所在的工作区，选择确定按需供给或调整输出效率的液压电机效率控制方式；基于执行油缸压力、转向油缸压力、确定的工作模式、选择的液压电机效率控制方式确定液压电机转速。5.根据权利要求4所述的一种电动装载机电机多模式控制方法，其特征在于，所述先导阀手柄的工作区分别包括：第一工作区、第二工作区、第三工作区；所述第一工作区为阀控区，在阀控区内，先导阀通过先导压力控制多路阀的开启与关闭，电机控制器控制液压电机以怠速工作，调速至怠速所对应的电机转速；所述第二工作区为泵控区，在泵控区内，多路阀为全开状态，通过预设的角度-转速曲线，控制液压电机调速至角度-转速曲线所对应的液压电机转速；所述第三工作区为高效工作区，在高效工作区内，计算当前液压电机转矩，电机控制器并以当前液压电机的转矩，控制液压电机根据电机效率MAP图输出效率上限值调速至所对应的转速；其中，液压电机的转速影响执行机构输出机械动能的速度。6.根据权利要求5所述的一种电动装载机电机多模式控制方法，其特征在于，通过预设的角度-转速曲线，控制液压电机调速至角度-转速曲线所对应的液压电机转速的方法为：在电机控制器中预设不同工作模式下的角度-转速曲线的映射关系；根据工作模式信号，判断出当前工作模式；在判断出的工作模式下，选择对应的角度-转速曲线映射关系；根据对应的角度-转速曲线映射关系确定液压电机转速的目标值；根据液压电机转速的目标值控制液压电机调速至角度-转速曲线所对应的液压电机转速；其中，角度-转速曲线的映射关系基于泵控区按需供给的原则进行预设。7.根据权利要求6所述的一种电动装载机电机多模式控制方法，其特征在于，不同工作模式包括：重载模式和轻载模式。8.根据权利要求6所述的一种电动装载机电机多模式控制方法，其特征在于，还包括根据第二压力传感器实时反馈的执行机构压力信号，获得液压电机扭矩，并根据液压电机的外特性获得液压电机扭矩下对应的电机转速上限值。9.计算机可读存储介质，其上存储有计算机程序，其特征是，该程序被处理器执行时实现权利要求4～8任一项所述控制方法的步骤。
说明书desc
技术领域本发明属于装载机液压系统技术领域，具体为一种电动装载机电机多模式控制装置及控制方法。背景技术燃油轮式装载机液压泵的转速主要由驾驶员根据整车运动与工作装置运动的速度需求，通过油门踏板控制发动机转速来控制泵的转速，工作装置不工作时，中位卸荷，造成能量损失；定量液压系统的装载机工作装置的运动速度除了与发动机转速有关还与多路阀的开口大小有关，多路阀开口的大小由先导压力决定；在装载机的工作过程中多路阀并不是完全开启状态，导致产生节流损失，导致能量损失大，燃油经济性不好；其次，电动装载机由于行走系统与液压系统独立驱动，其液压泵的转速由液压电机单独控制；目前市场上现有装置及现有技术文献，电动装载机液压电机的控制方式主要是通过先导压力控制电机转速，此种控制方法的弊端是如果装载机在工作过程中先导压力没有达到最大值，那么电机转速会在一个中间转速值，此时多路阀也处于半开的状态，因此会有一部分油液通过多路阀旁路直接回到油箱而没有做功，产生的较大的能量损失。此类控制是可以通过流量的按需供给和功率限制等方法达到节能的效果，但是效果有限。发明内容发明目的：为了克服现有技术中的不足，本发明提供一种电动装载机电机多模式控制装置及控制方法，通过本发明的装置及控制方法电机控制器接收多种传感器反馈数据并根据多种传感器反馈数据生成控制指令，控制液压电机按需供给或调整输出效率的方式输出相应转速，进而达到不同工作模式下适用的节能效果。技术方案：第一方面本发明提供一种电动装载机电机多模式控制装置，包括：电机控制器、液压电机、定量泵、优先阀、多路阀、转向器、转向油缸、执行机构、先导阀、工作模式选择阀、传感器组件；其中，所述传感器组件由多种传感器组成，所述电机控制器分别与多种传感器电联，用于实时接收多种传感器反馈数据，并根据多种传感器反馈数据选择生成按需供给或调整输出效率的控制指令；所述电机控制器还与液压电机电联，用于将按需供给或调整输出效率的控制指令选择发送至液压电机，并根据选择的控制指令实时调整液压电机输出转速；所述工作模式选择阀安装在整机上，用于检测执行机构当前负载压力；所述液压电机与定量泵传动连接，用于向定量泵提供动力带动定量泵调节液压油流量；所述定量泵的出油口分别与优先阀的进油口、多路阀的进油口连接；所述优先阀的出油口与转向器的进油口连接；所述转向器的出油口与转向油缸的进油口连接；所述先导阀的工作口与所述多路阀的控制口连接，用于通过先导阀向多路阀输出先导压力，进而控制多路阀的开启与关闭；所述多路阀的出油口与执行机构的油缸进油腔连接，用于将液压动力转化为机械动能。在进一步的实施例中，所述传感器组件包括：第一压力传感器、第二压力传感器、第三压力传感器、第四压力传感器、角度传感器；其中，所述第一压力传感器设置在先导阀的进口，用于向电机控制器实时反馈先导压力信号；所述第二压力传感器设置在执行机构油缸的进油腔，用于向工作模式选择阀实时反馈执行机构压力信号；所述第三压力传感器设置在转向器的压力油口，用于向电机控制器实时反馈转向器压力信号；所述第四压力传感器设置在工作模式选择阀处，用于根据检测负载压力信号生成工作模式判断信号，向电机控制器实时反馈执行机构当前工作模式信号；所述角度传感器集成在先导阀手柄处，用于向电机控制器实时反馈先导阀手柄角度信号。在进一步的实施例中，所述执行机构为动臂、翻斗、夹钳装置、装载机快换装置、侧卸装置、除雪装置、推煤铲、抓草机具、起吊装置中任一种。第二方面本发明提供一种电动装载机电机多模式控制方法，包括：采集先导压力信号、转向器压力信号、执行机构压力信号、工作模式信号、手柄角度信号；根据工作模式信号确定工作模式，根据先导压力信号控制多路阀的开启与关闭，根据手柄角度信号判断出先导阀手柄的工作区，根据执行机构压力信号判断执行油缸压力，根据转向器压力信号判断转向油缸压力；其中，根据先导阀手柄当前所在的工作区，选择确定按需供给或调整输出效率的液压电机效率控制方式；基于执行油缸压力、转向油缸压力、确定的工作模式、选择的液压电机效率控制方式确定液压电机转速。在进一步的实施例中，所述先导阀手柄的工作区分别包括：第一工作区、第二工作区、第三工作区；所述第一工作区为阀控区，在阀控区内，先导阀通过先导压力控制多路阀的开启与关闭，电机控制器控制液压电机以怠速工作，调速至怠速所对应的电机转速；所述第二工作区为泵控区，在泵控区内，多路阀为全开状态，通过预设的角度-转速曲线，控制液压电机调速至角度-转速曲线所对应的液压电机转速；所述第三工作区为高效工作区，在高效工作区内，计算当前液压电机转矩，电机控制器并以当前液压电机的转矩，控制液压电机根据电机效率MAP图输出效率上限值调速至所对应的转速；其中，液压电机的转速影响执行机构输出机械动能的速度。在进一步的实施例中，通过预设的角度-转速曲线，控制液压电机调速至角度-转速曲线所对应的液压电机转速的方法为：在电机控制器中预设不同工作模式下的角度-转速曲线的映射关系；根据工作模式信号，判断出当前工作模式；在判断出的工作模式下，选择对应的角度-转速曲线映射关系；根据对应的角度-转速曲线映射关系确定液压电机转速的目标值；根据液压电机转速的目标值控制液压电机调速至角度-转速曲线所对应的液压电机转速；其中，角度-转速曲线的映射关系基于泵控区按需供给的原则进行预设。在进一步的实施例中，不同工作模式包括：重载模式和轻载模式。在进一步的实施例中，还包括根据第二压力传感器实时反馈的执行机构压力信号，获得液压电机扭矩，并根据液压电机的外特性获得液压电机扭矩下对应的电机转速上限值。第三方面本发明提供计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现上述控制方法的步骤。有益效果：本发明与现有技术相比具有以下优点：本发明在工作过程中，将先导阀的手柄角度分为三个工作区，第一个工作区为阀控区，通过先导压力控制多路阀的开启与关闭，并且此时电机以怠速工作；先导压力为先导阀的最大压力，可以实现工作装置的微动性的控制；第二个工作区为泵控区，通过先导阀的手柄角度控制电机转速来控制工作装置的速度大小，此时多路阀为全开状态，没有节流损失，减少了工作过程中的功率损耗；第三个角度工作区为高效工作区，此时液压电机通过当前电机的转矩，通过查表电机效率MAP图输出效率最高的转速；减小了电机自身的功率损耗；其次，在泵控区下提前预设不同工作状态下的角度—转速曲线，做到液压系统流量的按需输出。附图说明图1为本发明实施例的液压系统原理及控制的示意框图；图2为本发明实施例的先导阀的手柄角度与先导压力和电机转速的示意图；图3为本发明实施例的先导阀的手柄角度分区控制流程图。附图标记：第一压力传感器P1、第二压力传感器P2、第三压力传感器P3、第四压力传感器P4、角度传感器θ。具体实施方式为了更充分理解本发明的技术内容，下面结合具体实施例对本发明的技术方案进一步介绍和说明，但不局限于此。实施例1：结合图进一步说明本实施例中的一种电动装载机电机多模式控制装置，包括：电机控制器、液压电机、定量泵、优先阀、多路阀、转向器、转向油缸、执行机构、先导阀、工作模式选择阀、传感器组件；其中，传感器组件由多种传感器组成，所述电机控制器分别与多种传感器电联，用于实时接收多种传感器反馈数据，并根据多种传感器反馈数据选择生成按需供给或调整输出效率的控制指令；电机控制器还与液压电机电联，用于将按需供给或调整输出效率的控制指令选择发送至液压电机，并根据选择的控制指令实时调整液压电机输出转速；工作模式选择阀安装在整机上，用于检测执行机构当前负载压力；液压电机与定量泵传动连接，用于向定量泵提供动力带动定量泵调节液压油流量；定量泵的出油口分别与优先阀的进油口、多路阀的进油口连接；优先阀的出油口与转向器的进油口连接；转向器的出油口与转向油缸的进油口连接；先导阀的工作口与多路阀的控制口连接，用于通过先导阀向多路阀输出先导压力，进而控制多路阀的开启与关闭；多路阀的出油口与执行机构的油缸进油腔连接，用于将液压动力转化为机械动能。本实施例中传感器组件包括：第一压力传感器P1、第二压力传感器P2、第三压力传感器P3、第四压力传感器P4、角度传感器θ；可选的，第一压力传感器P1设置在先导阀的进口，用于向电机控制器实时反馈先导压力信号；第二压力传感器P2设置在执行机构油缸的进油腔，用于向工作模式选择阀实时反馈执行机构压力信号；本实施例中通过工作模式选择阀来判断整机处于重载模式或者轻载模式；具体规定负载小于额定载重量G的75％是为轻载模式，负载大于等于额定载重量G的75％时为重载模式，判断公式为：式中，G为设计额定载荷、P2为执行机构进油腔的压力，A为执行机构进油腔的面积；并将工作模式选择阀的工作模式数据通过第四压力传感器P4传递给电机控制器；第三压力传感器P3设置在转向器的压力油口，用于向电机控制器实时反馈转向器压力信号；本实施例中在转向时，电机控制器根据第三压力传感器P3传递的转向压力信号，并根据转向油缸、转向圈数等，确定电机的预设转速，保证转向流量。所述第四压力传感器P4设置在工作模式选择阀处，用于根据检测负载压力信号生成工作模式判断信号，向电机控制器实时反馈执行机构当前工作模式信号；角度传感器θ集成在先导阀手柄处，用于向电机控制器实时反馈先导阀手柄角度信号。可选的，执行机构为动臂、翻斗、夹钳装置、装载机快换装置、侧卸装置、除雪装置、推煤铲、抓草机具、起吊装置中任一种。实施例2：结合图2和图3进一步说明本实施例中的一种电动装载机电机多模式控制方法，具体为：采集先导压力信号、转向器压力信号、执行机构压力信号、工作模式信号、手柄角度信号；根据工作模式信号确定工作模式，根据先导压力信号控制多路阀的开启与关闭，根据手柄角度信号判断出先导阀手柄的工作区，根据执行机构压力信号判断执行油缸压力，根据转向器压力信号判断转向油缸压力；其中，根据先导阀手柄当前所在的工作区，选择确定按需供给或调整输出效率的液压电机效率控制方式；基于执行油缸压力、转向油缸压力、确定的工作模式、选择的液压电机效率控制方式确定液压电机转速。本实施例中先导阀手柄的工作区分别包括：第一工作区、第二工作区、第三工作区；第一工作区为阀控区，在阀控区内，先导阀通过先导压力控制多路阀的开启与关闭，电机控制器控制电机以怠速工作，调速至怠速所对应的电机转速；可以实现工作装置的微动性的控制；第二工作区为泵控区，在泵控区内，多路阀为全开状态，通过预设的角度-转速曲线，控制液压电机调速至角度-转速曲线所对应的液压电机转速；多路阀旁路节流损失完全消除，减少了工作过程中的功率损耗；第三工作区为高效工作区，在高效工作区内，计算当前液压电机转矩，电机控制器并以当前液压电机的转矩，控制液压电机根据电机效率MAP图输出效率上限值调速至所对应的转速；多路阀全开，多路阀旁路节流损失完全消除，减少了工作过程中的功率损耗，同时使电机在一定范围内按最高输出效率转速，减小了电机自身的功率损耗。进一步的，液压电机的转速影响执行机构输出机械动能的速度快慢；在本实施例中，如图3所示先导阀的手柄角度范围为，对应的先导压力为，此时液压电机转速始终以怠速N0输出；先导压力P为先导阀的最大压力，可以实现工作装置的微动性的控制；在第二工作区内：先导阀的手柄角度范围为，根据预设的角度-转速曲线，对应液压电机转速]，此时先导阀持续输出先导压力P，多路阀全开；在第三工作区内：先导阀的手柄角度范围为，电机转速N是以查数表电机的效率MAP图的方式，以当前转矩下的最高效率转速输出，并对转速做出限制N≤Ni，此时先导阀还是持续输出先导压力P，多路阀全开；P为先导阀输出的最高压力，即为将多路阀完全打开时的压力。通过预设的角度-转速曲线，控制液压电机调速至角度-转速曲线所对应的液压电机转速的方法为：在电机控制器中预设不同工作模式下的角度-转速曲线的映射关系；其中，在本实施例中，根据第四压力传感器P4传递的工作模式阀的信号，电机控制器在重载模式按照预设的角度-转速曲线1输出相应的转速，电机控制器在轻载模式按照预设的角度-转速曲线2输出相应的转速；根据对应的角度-转速曲线映射关系确定液压电机转速的目标值；根据液压电机转速的目标值控制液压电机调速至角度-转速曲线所对应的液压电机转速；其中，角度-转速曲线的映射关系基于泵控区按需供给的原则进行预设。进一步的，不同工作模式包括：重载模式和轻载模式；控制方法还包括根据第二压力传感器实时反馈的执行机构压力信号，获得液压电机扭矩，并根据液压电机的外特性获得液压电机扭矩下对应的电机转速上限值；在本实施例中，任一工作模式下，任一工作状态下，电机的最大转速由第二压力传感器P2的信号来确定；根据第二压力传感器P2的压力信号，得到电机扭矩，然后根据电机的外特性可知在此电机扭矩下对应的电机最大转速，记为Ni。实施例3：本实施例进一步说明一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现下述控制方法的步骤：采集先导压力信号、转向器压力信号、执行机构压力信号、工作模式信号、手柄角度信号；根据工作模式信号确定工作模式，根据先导压力信号控制多路阀的开启与关闭，根据手柄角度信号判断出先导阀手柄的工作区，根据执行机构压力信号判断执行油缸压力，根据转向器压力信号判断转向油缸压力；其中，根据先导阀手柄当前所在的工作区，选择确定按需供给或调整输出效率的液压电机效率控制方式；基于执行油缸压力、转向油缸压力、确定的工作模式、选择的液压电机效率控制方式确定液压电机转速。综上所述，本发明在工作过程中，将先导阀的手柄角度分为三个工作区，第一个工作区为阀控区，通过先导压力控制多路阀的开启与关闭，并且此时电机以怠速工作；先导压力为先导阀的最大压力，可以实现工作装置的微动性的控制；第二个工作区为泵控区，通过先导阀的手柄角度控制电机转速来控制工作装置的速度大小，此时多路阀为全开状态，没有节流损失，减少了工作过程中的功率损耗；第三个角度工作区为高效工作区，此时液压电机通过当前电机的转矩，通过查表电机效率MAP图输出效率最高的转速；减小了电机自身的功率损耗；其次，在泵控区下提前预设不同工作状态下的角度—转速曲线，做到液压系统流量的按需输出。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。以上所述仅是本发明的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明技术原理的前提下，还可以做出若干改进和变形，这些改进和变形也应视为本发明的保护范围。
