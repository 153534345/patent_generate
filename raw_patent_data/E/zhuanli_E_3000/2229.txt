标题title
液压支架工作状态的评价方法
摘要abst
本发明涉及一种液压支架工作状态的评价方法，属于煤矿智能化技术领域。包括：获取液压支架顶板上的压力、倾角和位移初始数据；对压力、倾角和位移初始数据进行滤波，得到压力、倾角和位移样本数据；采用预先训练好的BP神经网络对压力、倾角和位移样本数据进行一级融合，得到一级融合后的压力样本数据、倾角样本数据和位移样本数据；根据一级融合后的压力、倾角、位移样本数据和预设的模糊综合评价模型确定液压支架的工作状态综合得分；根据液压支架的工作状态综合得分评价液压支架的工作状态。本发明整个评价过程不依赖于人工，不仅降低了人工成本，提高了评价效率，能够实时进行工作状态的评价，而且评价结果不带主观性，更加准确。
权利要求书clms
1.一种液压支架工作状态的评价方法，其特征在于，包括：S1，获取液压支架顶板上的压力传感器、倾角传感器和位移传感器采集的数据，得到压力初始数据、倾角初始数据和位移初始数据；S2，对压力初始数据、倾角初始数据和位移初始数据进行滤波，得到压力样本数据、倾角样本数据和位移样本数据；S3，采用预先训练好的BP神经网络对压力样本数据、倾角样本数据和位移样本数据进行一级融合，得到一级融合后的压力样本数据、一级融合后的倾角样本数据和一级融合后的位移样本数据；S4，根据一级融合后的压力样本数据、一级融合后的倾角样本数据、一级融合后的位移样本数据和预设的包括两层模糊评价模型的模糊综合评价模型确定液压支架的工作状态综合得分；S5，根据液压支架的工作状态综合得分评价液压支架的工作状态。2.根据权利要求1所述的液压支架工作状态的评价方法，其特征在于，所述S2在对压力初始数据、倾角初始数据和位移初始数据进行滤波时，通过如下公式来实现：；公式中，Xn-1、Xn和Xn+1分别为压力初始数据、倾角初始数据或位移初始数据中连续采集的三个数据，为异常数据Xn的新值，α由Xn-1和Xn+1确定的直线斜率Kn-1,n+1和Xn-1的斜率Kn-1来确定。3.根据权利要求1或2所述的液压支架工作状态的评价方法，其特征在于，所述S3在采用预先训练好的BP神经网络对压力样本数据、倾角样本数据和位移样本数据进行一级融合，得到一级融合后的压力样本数据、一级融合后的倾角样本数据和一级融合后的位移样本数据时，包括：S31，按照液压支架的排列顺序将压力样本数据、倾角样本数据和位移样本数据分为五组；S32，将每组压力样本数据、每组倾角样本数据和每组位移样本数据分别输入预先训练好的BP神经网络进行一级融合，得到每组压力样本数据、每组倾角样本数据和每组位移样本数据分别对应的压力数据、倾角数据和位移数据，作为一级融合后的压力样本数据、一级融合后的倾角样本数据和一级融合后的位移样本数据。4.根据权利要求1或2所述的液压支架工作状态的评价方法，其特征在于，所述S4在根据一级融合后的压力样本数据、一级融合后的倾角样本数据、一级融合后的位移样本数据和预设的包括两层模糊评价模型的模糊综合评价模型确定液压支架的工作状态综合得分时，包括：S41，建立综合评价的对象因素集：所述模糊综合评价模型中的第一层模糊评价模型按照液压支架的排列顺序将液压支架分为五组，且第一层模糊评价模型的对象因素集表示为U={u1，u2，u3，u4，u5}；第二层模糊评价模型为每一组液压支架的评价因素，表示为{压力，倾角，位移}；S42，建立综合评价的评价集：所述评价集为液压支架的各种工作状态所组成的集合，且评价集V={极优，良好，一般，预警，危险}；S43，确定各个因素的权重，包括：确定第二层模糊评价模型中各元素的权重，并根据第二层模糊评价模型中各元素的权重确定第一层模糊评价模型中各元素的权重；S44，通过预设隶属度函数确定第二层模糊评价模型的模糊关系矩阵，并根据第二层模糊评价模型的模糊关系矩阵确定第一层模糊评价模型的模糊关系矩阵；S45，根据第一层模糊评价模型中各元素的权重和第一层模糊评价模型的模糊关系矩阵确定模糊综合评价矢量，并根据模糊综合评价矢量和评价集对应的评价得分确定液压支架的工作状态综合得分。5.根据权利要求4所述的液压支架工作状态的评价方法，其特征在于，所述S43在确定第二层模糊评价模型中各元素的权重时，包括：S431，选取数据：确定第二层评价模型中的{压力，倾角，位移}为3个指标，确定第一层评价模型的对象因素集U={u1，u2，u3，u4，u5}为5个样本，令样本i=1，2，3，4，5；j =1，2，3，Xij为第i个样本的第j个指标的样本数据；S432，通过如下公式进行数据的标准化处理：；公式中，Min表示每组样本数据中的最小值，Max表示每组样本数据中的最大值；S433，通过如下公式计算第i个样本占第j个指标的比重Pij：；公式中，n为样本个数；S434，通过如下公式计算第j个指标的熵值Ej：；S435，通过如下公式计算第j个指标的差异系数dj：；S436，通过如下公式计算第二层模糊评价模型中每个指标的权重wj：；S437，根据第二层模糊评价模型中每个指标的权重wj确定第二层模糊评价模型中各元素的权重A2={ A21，A22，A23，A24，A25}，A21={w211，w212，w213}，A22={w221，w222，w223}，A23={w231，w232，w233}，A24={w241，w242，w243}，A25={w251，w252，w253}；其中，w211，w212，w213分别表示第一组液压支架中各元素的压力、倾角和位移的权重，以此类推。6.根据权利要求5所述的液压支架工作状态的评价方法，其特征在于，所述S43在根据第二层模糊评价模型中各元素的权重确定第一层模糊评价模型中各元素的权重时，包括：S438，通过如下公式计算每组液压支架的综合得分Zi：；S439，通过如下公式确定第一层模糊评价模型中各元素的权重：；公式中，为液压支架的综合得分的平均值，Yn为第一层模糊评价模型中各元素的权重A1={a11，a12，a13，a14，a15}，a11、a12、a13、a14、a15为对应的五组液压支架的权重。7.根据权利要求6所述的液压支架工作状态的评价方法，其特征在于，所述S44在通过预设隶属度函数确定第二层模糊评价模型的模糊关系矩阵，并根据第二层模糊评价模型的模糊关系矩阵确定第一层模糊评价模型的模糊关系矩阵时，包括：S441，通过如下预设隶属度函数来确定评价矩阵，评价矩阵用来表示评价集中评价等级与评价对象因素的之间的函数关系：；公式中，y表示任一评价等级的概率，x为一级融合后的压力样本数据、一级融合后的倾角样本数据或一级融合后的位移样本数据，b表示一级融合后的压力样本数据、一级融合后的倾角样本数据或一级融合后的位移样本数据对应的评价集V的标准值，σ表示一级融合后的压力样本数据、一级融合后的倾角样本数据或一级融合后的位移样本数据对应的评价集的标准差；S442，将液压支架的历史压力样本数据、历史倾角样本数据和历史位移样本数据经过BP网络融合后得到的一级融合后的历史压力样本数据、一级融合后的历史倾角样本数据和一级融合后的历史位移样本数据设为x，将x带入预设隶属度函数划分得到第一组液压支架的压力数据、倾角数据、位移数据对应任一标准的标准值分别为第一组液压支架的压力标准值B11 ={b111，b112，b113，b114，b115}，第一组液压支架的倾角标准值B12 ={b121，b122，b123，b124，b125}，第一组液压支架的位移标准值B13={b131，b132，b133，b134，b135}；同理，可得其它四组液压支架的压力标准值、倾角标准值和位移标准值；S443，将各组液压支架的压力标准值、倾角标准值和位移标准值进行归一化处理为R11={R111，R112，R113，R114，R115}，R12={R121，R122，R123，R124，R125}，R13={R131，R132，R133，R134，R135}，R14={R151，R142，R143，R144，R145}，R15={R151，R152，R153，R154，R155}；S444，根据归一化处理结果确定第二层模糊评价模型的模糊关系矩阵分别为R1{R11，R12，R13}，R2{R21，R22，R23}，R3{R31，R32，R33}，R4{R41，R42，R43}，R5{R51，R52，R53}；S445，根据B1=A21⊗R1、B2=A22⊗R2、B3=A23⊗R3、B4=A24⊗R4和B5=A25⊗R5将对象因素集U上的模糊向量变为评价集V上的模糊向量B1、B2、B3、B4和B5，得到第一层模糊评价模型的模糊关系矩阵R={B1，B2，B3，B4，B5}；其中，⊗为加权平均型模糊算子。8.根据权利要求7所述的液压支架工作状态的评价方法，其特征在于，所述S45在根据第一层模糊评价模型中各元素的权重和第一层模糊评价模型的模糊关系矩阵确定模糊综合评价矢量，并根据模糊综合评价矢量和评价集对应的评价得分确定液压支架的工作状态综合得分时，包括：S451，根据第一层评价模型中各元素的权重A1和第一层模糊评价模型的模糊关系矩阵R利用加权平均型模糊算子计算模糊综合评价矢量D={d1，d2，d3，d4，d5}；S452，确定评价集V对应的评价得分为S={100，80，60，40，20}，根据糊综合评价矢量D和评价集V对应的评价得分S计算液压支架的工作状态综合得分M=100d1+80d2+60d3+40d4+20d5。
说明书desc
技术领域本发明涉及煤矿智能化技术领域，尤其涉及一种液压支架工作状态的评价方法。背景技术随着科技的发展，煤矿智能化程度日益增高，综采工作面包含了液压支架、采煤机、刮板机等装备。液压支架作为重要的组成部分，保护着工作者的安全，保证了生产的顺利进行。因此，对其进行安全性评估和检测，以确定液压支架的工作状态有着极其重要的意义。传统在进行液压支架的工作状态评价时，多需要人工结合一种或多种传感器采集的数据进行主观评价，这种评价方式不仅人力成本比较高，效率低，而且评价结果主观性比较强，不准确。发明内容为解决上述技术问题，本发明提供一种液压支架工作状态的评价方法。本发明的技术方案如下：一种液压支架工作状态的评价方法，其包括：S1，获取液压支架顶板上的压力传感器、倾角传感器和位移传感器采集的数据，得到压力初始数据、倾角初始数据和位移初始数据；S2，对压力初始数据、倾角初始数据和位移初始数据进行滤波，得到压力样本数据、倾角样本数据和位移样本数据；S3，采用预先训练好的BP神经网络对压力样本数据、倾角样本数据和位移样本数据进行一级融合，得到一级融合后的压力样本数据、一级融合后的倾角样本数据和一级融合后的位移样本数据；S4，根据一级融合后的压力样本数据、一级融合后的倾角样本数据、一级融合后的位移样本数据和预设的包括两层模糊评价模型的模糊综合评价模型确定液压支架的工作状态综合得分；S5，根据液压支架的工作状态综合得分评价液压支架的工作状态。可选地，所述S2在对压力初始数据、倾角初始数据和位移初始数据进行滤波时，通过如下公式来实现：；公式中，Xn-1、Xn和Xn+1分别为压力初始数据、倾角初始数据或位移初始数据中连续采集的三个数据，为异常数据Xn的新值，α由Xn-1和Xn+1确定的直线斜率Kn-1,n+1和Xn-1的斜率Kn-1来确定。可选地，所述S3在采用预先训练好的BP神经网络对压力样本数据、倾角样本数据和位移样本数据进行一级融合，得到一级融合后的压力样本数据、一级融合后的倾角样本数据和一级融合后的位移样本数据时，包括：S31，按照液压支架的排列顺序将压力样本数据、倾角样本数据和位移样本数据分为五组；S32，将每组压力样本数据、每组倾角样本数据和每组位移样本数据分别输入预先训练好的BP神经网络进行一级融合，得到每组压力样本数据、每组倾角样本数据和每组位移样本数据分别对应的压力数据、倾角数据和位移数据，作为一级融合后的压力样本数据、一级融合后的倾角样本数据和一级融合后的位移样本数据。可选地，所述S4在根据一级融合后的压力样本数据、一级融合后的倾角样本数据、一级融合后的位移样本数据和预设的包括两层模糊评价模型的模糊综合评价模型确定液压支架的工作状态综合得分时，包括：S41，建立综合评价的对象因素集：所述模糊综合评价模型中的第一层模糊评价模型按照液压支架的排列顺序将液压支架分为五组，且第一层模糊评价模型的对象因素集表示为U={u1，u2，u3，u4，u5}；第二层模糊评价模型为每一组液压支架的评价因素，表示为{压力，倾角，位移}；S42，建立综合评价的评价集：所述评价集为液压支架的各种工作状态所组成的集合，且评价集V={极优，良好，一般，预警，危险}；S43，确定各个因素的权重，包括：确定第二层模糊评价模型中各元素的权重，并根据第二层模糊评价模型中各元素的权重确定第一层模糊评价模型中各元素的权重；S44，通过预设隶属度函数确定第二层模糊评价模型的模糊关系矩阵，并根据第二层模糊评价模型的模糊关系矩阵确定第一层模糊评价模型的模糊关系矩阵；S45，根据第一层模糊评价模型中各元素的权重和第一层模糊评价模型的模糊关系矩阵确定模糊综合评价矢量，并根据模糊综合评价矢量和评价集对应的评价得分确定液压支架的工作状态综合得分。可选地，所述S43在确定第二层模糊评价模型中各元素的权重时，包括：S431，选取数据：确定第二层评价模型中的{压力，倾角，位移}为3个指标，确定第一层评价模型的对象因素集U={u1，u2，u3，u4，u5}为5个样本，令样本i=1，2，3，4，5；j =1，2，3，Xij为第i个样本的第j个指标的样本数据；S432，通过如下公式进行数据的标准化处理：；公式中，Min表示每组样本数据中的最小值，Max表示每组样本数据中的最大值；S433，通过如下公式计算第i个样本占第j个指标的比重Pij：；公式中，n为样本个数；S434，通过如下公式计算第j个指标的熵值Ej：；S435，通过如下公式计算第j个指标的差异系数dj：；S436，通过如下公式计算第二层模糊评价模型中每个指标的权重wj：；/＞S437，根据第二层模糊评价模型中每个指标的权重wj确定第二层模糊评价模型中各元素的权重A2={ A21，A22，A23，A24，A25}，A21={w211，w212，w213}，A22={w221，w222，w223}，A23={w231，w232，w233}，A24={w241，w242，w243}，A25={w251，w252，w253}；其中，w211，w212，w213分别表示第一组液压支架中各元素的压力、倾角和位移的权重，以此类推。可选地，所述S43在根据第二层模糊评价模型中各元素的权重确定第一层模糊评价模型中各元素的权重时，包括：S438，通过如下公式计算每组液压支架的综合得分Zi：；S439，通过如下公式确定第一层模糊评价模型中各元素的权重：；公式中，为液压支架的综合得分的平均值，Yn为第一层模糊评价模型中各元素的权重A1={a11，a12，a13，a14，a15}，a11、a12、a13、a14、a15为对应的五组液压支架的权重。可选地，所述S44在通过预设隶属度函数确定第二层模糊评价模型的模糊关系矩阵，并根据第二层模糊评价模型的模糊关系矩阵确定第一层模糊评价模型的模糊关系矩阵时，包括：S441，通过如下预设隶属度函数来确定评价矩阵，评价矩阵用来表示评价集中评价等级与评价对象因素的之间的函数关系：；公式中，y表示任一评价等级的概率，x为一级融合后的压力样本数据、一级融合后的倾角样本数据或一级融合后的位移样本数据，b表示一级融合后的压力样本数据、一级融合后的倾角样本数据或一级融合后的位移样本数据对应的评价集V的标准值，σ表示一级融合后的压力样本数据、一级融合后的倾角样本数据或一级融合后的位移样本数据对应的评价集的标准差；S442，将液压支架的历史压力样本数据、历史倾角样本数据和历史位移样本数据经过BP网络融合后得到的一级融合后的历史压力样本数据、一级融合后的历史倾角样本数据和一级融合后的历史位移样本数据设为x，将x带入预设隶属度函数划分得到第一组液压支架的压力数据、倾角数据、位移数据对应任一标准的标准值分别为第一组液压支架的压力标准值B11 ={b111，b112，b113，b114，b115}，第一组液压支架的倾角标准值B12 ={b121，b122，b123，b124，b125}，第一组液压支架的位移标准值B13={b131，b132，b133，b134，b135}；同理，可得其它四组液压支架的压力标准值、倾角标准值和位移标准值；S443，将各组液压支架的压力标准值、倾角标准值和位移标准值进行归一化处理为R11={R111，R112，R113，R114，R115}，R12={R121，R122，R123，R124，R125}，R13={R131，R132，R133，R134，R135}，R14={R151，R142，R143，R144，R145}，R15={R151，R152，R153，R154，R155}；S444，根据归一化处理结果确定第二层模糊评价模型的模糊关系矩阵分别为R1{R11，R12，R13}，R2{R21，R22，R23}，R3{R31，R32，R33}，R4{R41，R42，R43}，R5{R51，R52，R53}；S445，根据B1=A21⊗R1、B2=A22⊗R2、B3=A23⊗R3、B4=A24⊗R4和B5=A25⊗R5将对象因素集U上的模糊向量变为评价集V上的模糊向量B1、B2、B3、B4和B5，得到第一层模糊评价模型的模糊关系矩阵R={B1，B2，B3，B4，B5}；其中，⊗为加权平均型模糊算子。可选地，所述S45在根据第一层模糊评价模型中各元素的权重和第一层模糊评价模型的模糊关系矩阵确定模糊综合评价矢量，并根据模糊综合评价矢量和评价集对应的评价得分确定液压支架的工作状态综合得分时，包括：S451，根据第一层评价模型中各元素的权重A1和第一层模糊评价模型的模糊关系矩阵R利用加权平均型模糊算子计算模糊综合评价矢量D={d1，d2，d3，d4，d5}；S452，确定评价集V对应的评价得分为S={100，80，60，40，20}，根据糊综合评价矢量D和评价集V对应的评价得分S计算液压支架的工作状态综合得分M=100d1+80d2+60d3+40d4+20d5。上述所有可选地技术方案均可任意组合，本发明不对一一组合后的结构进行详细说明。借由上述方案，本发明的有益效果如下：通过对多种传感器采集的初始数据进行滤波，并基于预先训练好的BP神经网络和包括两层模糊评价模型的模糊综合评价模型确定液压支架的工作状态综合得分，使得整个评价过程不依赖于人工，不仅降低了人工成本，提高了评价效率，能够实时进行工作状态的评价，而且评价结果不带主观性，更加准确。上述说明仅是本发明技术方案的概述，为了能够更清楚了解本发明的技术手段，并可依照说明书的内容予以实施，以下以本发明的较佳实施例并配合附图详细说明如后。附图说明图1是本发明实施例提供的液压支架工作状态的评价方法的流程图。具体实施方式下面结合附图和实施例，对本发明的具体实施方式作进一步详细描述。以下实施例用于说明本发明，但不用来限制本发明的范围。本发明实施例提供的液压支架工作状态的评价方法可以通过计算机等具有计算能力的计算设备来完成，如图1所示，液压支架工作状态的评价方法包括如下步骤S1至S5。S1，获取液压支架顶板上的压力传感器、倾角传感器和位移传感器采集的数据，得到压力初始数据、倾角初始数据和位移初始数据。具体地，压力传感器、倾角传感器和位移传感器采集的初始数据通过电液控制器和采煤机控制器等以CAN总线的形式传到PLC，再通过以太网传到IOServer，再通过MQTT传到计算设备的InfluxDB。S2，对压力初始数据、倾角初始数据和位移初始数据进行滤波，得到压力样本数据、倾角样本数据和位移样本数据。由于井下环境复杂，多源传感器采集的初始数据存在噪音大、数据缺失等缺点，因此，本发明实施例提供了一种新型数据预处理滤波算法，可有效解决此类问题。具体地，所述S2在对压力初始数据、倾角初始数据和位移初始数据进行滤波时，通过如下公式来实现：；公式中，Xn-1、Xn和Xn+1分别为压力初始数据、倾角初始数据或位移初始数据中连续采集的三个数据，为异常数据Xn的新值，α由Xn-1和Xn+1确定的直线斜率Kn-1,n+1和Xn-1的斜率Kn-1来确定。本发明实施例中，当初始数据出现比前后的初始数据高很多或者低很多，又或者缺失的异常数据的时候，将异常数据减去前后初始数据后除以2得到异常数据的基本线性差值，然后在异常数据的基础上减去差值的α倍，可将异常数据替换成处理后的平滑数据。其中，α由前后初始数据确定的直线斜率Kn-1,n+1加上前一个初始数据的斜率Kn-1后除以2得到的大概斜率，再比上Kn-1得到一个接近于1的α值，此种方法确定出来的ɑ会根据异常数据的前后初始数据所呈现的凹凸非线性来改变α值，α系数的值会在1前后变化。S3，采用预先训练好的BP神经网络对压力样本数据、倾角样本数据和位移样本数据进行一级融合，得到一级融合后的压力样本数据、一级融合后的倾角样本数据和一级融合后的位移样本数据。可选地，所述S3在采用预先训练好的BP神经网络对压力样本数据、倾角样本数据和位移样本数据进行一级融合，得到一级融合后的压力样本数据、一级融合后的倾角样本数据和一级融合后的位移样本数据时，包括：S31，按照液压支架的排列顺序将压力样本数据、倾角样本数据和位移样本数据分为五组。通过分组，可以保证多源数据融合更具有准确性和说服力，并且能够减少融合工作量。S32，将每组压力样本数据、每组倾角样本数据和每组位移样本数据分别输入预先训练好的BP神经网络进行一级融合，得到每组压力样本数据、每组倾角样本数据和每组位移样本数据分别对应的压力数据、倾角数据和位移数据，作为一级融合后的压力样本数据、一级融合后的倾角样本数据和一级融合后的位移样本数据。本发明中的BP神经网络分为输入层、隐含层、输出层，通过前向和反向传播使得误差不断更替达到期望的输出。BP神经网络的输出层做一层输出，对每组液压支架的压力样本数据作为BP神经网络的输入进行数据级的融合输出得到每组液压支架的一个压力数据。同理，可得一个倾角数据、一个温度数据。另外，由于液压支架顶板的压力数据和倾角数据是长时间保持不变的，因此，针对压力样本数据和倾角样本数据每隔6个小时融合一次得到一级融合后的压力样本数据和一级融合后的倾角样本数据，而位移数据由于易变化，故1个小时融合一次得到一级融合后的位移样本数据。S4，根据一级融合后的压力样本数据、一级融合后的倾角样本数据、一级融合后的位移样本数据和预设的包括两层模糊评价模型的模糊综合评价模型确定液压支架的工作状态综合得分。可选地，所述S4在根据一级融合后的压力样本数据、一级融合后的倾角样本数据、一级融合后的位移样本数据和预设的包括两层模糊评价模型的模糊综合评价模型确定液压支架的工作状态综合得分时，包括：S41，建立综合评价的对象因素集：所述模糊综合评价模型中的第一层模糊评价模型按照液压支架的排列顺序将液压支架分为五组，且第一层模糊评价模型的对象因素集表示为U={u1，u2，u3，u4，u5}；第二层模糊评价模型为每一组液压支架的评价因素，表示为{压力，倾角，位移}。S42，建立综合评价的评价集：所述评价集为液压支架的各种工作状态所组成的集合，且评价集V={极优，良好，一般，预警，危险}。S43，确定各个因素的权重，包括：确定第二层模糊评价模型中各元素的权重，并根据第二层模糊评价模型中各元素的权重确定第一层模糊评价模型中各元素的权重。具体地，所述S43在确定第二层模糊评价模型中各元素的权重时，包括：S431，选取数据：确定第二层评价模型中的{压力，倾角，位移}为3个指标，确定第一层评价模型的对象因素集U={u1，u2，u3，u4，u5}为5个样本，令样本i=1，2，3，4，5；j =1，2，3，Xij为第i个样本的第j个指标的样本数据；S432，通过如下公式进行数据的标准化处理：；公式中，Min表示每组样本数据中的最小值，Max表示每组样本数据中的最大值；S433，通过如下公式计算第i个样本占第j个指标的比重Pij：；公式中，n为样本个数；S434，通过如下公式计算第j个指标的熵值Ej：；S435，通过如下公式计算第j个指标的差异系数dj：；S436，通过如下公式计算第二层模糊评价模型中每个指标的权重wj：；S437，根据第二层模糊评价模型中每个指标的权重wj确定第二层模糊评价模型中各元素的权重A2={ A21，A22，A23，A24，A25}，A21={w211，w212，w213}，A22={w221，w222，w223}，A23={w231，w232，w233}，A24={w241，w242，w243}，A25={w251，w252，w253}；其中，w211，w212，w213分别表示第一组液压支架中各元素的压力、倾角和位移的权重，以此类推。进一步地，在传统模糊评价中，第一层模糊评价模型中各个因素的重要程度几乎接近一样，即各元素的权重基本相同，但在真正评分过程中，存在低评分的样本可能会占有更大权重，所以本发明实施例在确定第一层模糊评价模型中各元素的权重时，采用改进的权重分配规则，对各元素进行重新赋权。具体在对第一层模糊评价模型中的各元素进行重新赋权时，包括：S438，通过如下公式计算每组液压支架的综合得分Zi：；S439，通过如下公式确定第一层模糊评价模型中各元素的权重：；公式中，为液压支架的综合得分的平均值，Yn为第一层模糊评价模型中各元素的权重A1={a11，a12，a13，a14，a15}，a11、a12、a13、a14、a15为对应的五组液压支架的权重。也就是说，本发明实施例在对第一层模糊评价模型中的各元素进行重新赋权时，将综合得分高于综合得分的平均值的指标权重赋予0，综合得分低于综合得分的平均值的指标重新赋权，使综合得分低的样本占有更大权重。S44，通过预设隶属度函数确定第二层模糊评价模型的模糊关系矩阵，并根据第二层模糊评价模型的模糊关系矩阵确定第一层模糊评价模型的模糊关系矩阵。在上述内容的基础上，所述S44在通过预设隶属度函数确定第二层模糊评价模型的模糊关系矩阵，并根据第二层模糊评价模型的模糊关系矩阵确定第一层模糊评价模型的模糊关系矩阵时，包括：S441，通过如下预设隶属度函数来确定评价矩阵，评价矩阵用来表示评价集中评价等级与评价对象因素的之间的函数关系：；公式中，y表示任一评价等级的概率，x为一级融合后的压力样本数据、一级融合后的倾角样本数据或一级融合后的位移样本数据，b表示一级融合后的压力样本数据、一级融合后的倾角样本数据或一级融合后的位移样本数据对应的评价集V的标准值，σ表示一级融合后的压力样本数据、一级融合后的倾角样本数据或一级融合后的位移样本数据对应的评价集的标准差。S442，将液压支架的历史压力样本数据、历史倾角样本数据和历史位移样本数据经过BP网络融合后得到的一级融合后的历史压力样本数据、一级融合后的历史倾角样本数据和一级融合后的历史位移样本数据设为x，将x带入预设隶属度函数划分得到第一组液压支架的压力数据、倾角数据、位移数据对应任一标准的标准值分别为第一组液压支架的压力标准值B11 ={b111，b112，b113，b114，b115}，第一组液压支架的倾角标准值B12 ={b121，b122，b123，b124，b125}，第一组液压支架的位移标准值B13={b131，b132，b133，b134，b135}；同理，可得其它四组液压支架的压力标准值、倾角标准值和位移标准值。S443，将各组液压支架的压力标准值、倾角标准值和位移标准值进行归一化处理为R11={R111，R112，R113，R114，R115}，R12={R121，R122，R123，R124，R125}，R13={R131，R132，R133，R134，R135}，R14={R151，R142，R143，R144，R145}，R15={R151，R152，R153，R154，R155}。S444，根据归一化处理结果确定第二层模糊评价模型的模糊关系矩阵分别为R1{R11，R12，R13}，R2{R21，R22，R23}，R3{R31，R32，R33}，R4{R41，R42，R43}，R5{R51，R52，R53}。S445，根据B1=A21⊗R1、B2=A22⊗R2、B3=A23⊗R3、B4=A24⊗R4和B5=A25⊗R5将对象因素集U上的模糊向量变为评价集V上的模糊向量B1、B2、B3、B4和B5，得到第一层模糊评价模型的模糊关系矩阵R={B1，B2，B3，B4，B5}；其中，⊗为加权平均型模糊算子。S45，根据第一层模糊评价模型中各元素的权重和第一层模糊评价模型的模糊关系矩阵确定模糊综合评价矢量，并根据模糊综合评价矢量和评价集对应的评价得分确定液压支架的工作状态综合得分。具体地，所述S45在根据第一层模糊评价模型中各元素的权重和第一层模糊评价模型的模糊关系矩阵确定模糊综合评价矢量，并根据模糊综合评价矢量和评价集对应的评价得分确定液压支架的工作状态综合得分时，包括：S451，根据第一层评价模型中各元素的权重A1和第一层模糊评价模型的模糊关系矩阵R利用加权平均型模糊算子计算模糊综合评价矢量D={d1，d2，d3，d4，d5}。S452，确定评价集V对应的评价得分为S={100，80，60，40，20}，根据糊综合评价矢量D和评价集V对应的评价得分S计算液压支架的工作状态综合得分M=100d1+80d2+60d3+40d4+20d5。S5，根据液压支架的工作状态综合得分评价液压支架的工作状态。例如，如果液压支架的工作状态综合得分为85，则评价液压支架的工作状态为极优；如果液压支架的工作状态综合得分为45，则评价液压支架的工作状态为一般。综上，本发明实施例提供的方法具有如下特点：1、针对数据源存在噪音大、异常数据和数据缺失等问题，提供了一种新型的滤波处理算法，可有效解决上述问题，保障了样本数据的完整性、准确性和真实性。2、采用分层融合的方式，先通过BP神经网络进行一级融合，有效解决了数据体量大的问题；再通过包括两层模糊评价模型的模糊综合评价模型进行二级融合，可以更好的做到对初始数据的精确融合，使得输出数据更具有说服力。另外，二级融合时在传统的权重分配基础上，对于综合得分高于平均值的样本采取赋0的操作，其余低于综合得分平均值的样本重新计算权重，将决定最终综合得分的低评分样本赋予更大权重，使得确定的工作状态综合得分更多地考虑了低评分样本对综合得分的影响，使得确定的工作状态更加准确。以上所述仅是本发明的优选实施方式，并不用于限制本发明，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明技术原理的前提下，还可以做出若干改进和变型，这些改进和变型也应视为本发明的保护范围。
