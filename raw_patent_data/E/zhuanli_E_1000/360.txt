标题title
一种基于多传感器的数据处理方法
摘要abst
本发明涉及石油开采领域，尤其涉及一种基于多传感器的数据处理方法，将井下传感器进行分类，同一类传感器连接同一个数据采集终端，数据采集终端实时接收各传感器的采集信号后进行加工，并把加工后的数据传输至数据处理终端，数据处理终端对数据进行处理并实时监视数据接收情况，对于受到干扰未实时接收或者异常的数据，数据处理终端及时进行补充，保证数据的实时性和准确性。
权利要求书clms
1.一种基于多传感器的数据处理方法，其特征在于，包括以下步骤：步骤1，在施工前，将井下传感器按照安装位置、物理特性进行分类，把安装位置距离近并且物理特性相近的传感器划分为同一类，同一类传感器连接同一个数据采集终端；创建传感器信息表T和数据监视表D，表T用于记录传感器的信息，表T中的每一行数据表示一台传感器的信息，具体信息包含：传感器标识，所属数据采集终端，数据长度，最小精度值，其中，传感器标识是传感器的唯一标识，不同的传感器标识表示不同的传感器，在表T中用10进制数表示，并且不小于128；所属数据采集终端是指接收所述传感器的测量信号的数据采集终端的标识，所述标识是数据采集终端的唯一标识，在表T中用10进制表示；数据长度是指所述传感器的测量值转换为比特位格式的长度；最小精度值表示所述传感器测量信号的最小精度，在表T中用浮点数表示；表D用于实时监视数据处理终端接收传感器测量值的情况，表D中的每一行数据表示一台传感器所采集数据的情况，具体内容包含：传感器标识、已接收数据的计数器，其中计数器是指传感器所采集信号的序号，初始值为1，自传感器上电开始，传感器每次接收一次信号，计数器的值加一，计数器的最大值为256，如果计数器的值大于256，则重新赋值为1，表D中记录了每一台传感器已接收数据的所有计数器，不包含异常数据或遗漏数据所对应的计数器在内；步骤2，数据采集终端实时接收各传感器输出的信号，并对信号进行解析，生成总长度为17+M个比特位的数据格式，其中，M值表示信号测量值转换为比特位的长度，M值由所采集信号确定；第1个至第8个比特位表示传感器标识；第9个至第16个比特位表示计数器；第17个比特位为符号位，表示测量值的符号，0表示正数，1表示负数；第18个至第17+M个比特位表示传感器采集信号的测量值；数据采集终端对解析后的数据进行保存，对于每个传感器，在数据采集终端中最多保存256条数据，当达到存储容量上限时，最新解析的数据覆盖计数器相同的数据；步骤3，数据采集终端实时接收多个传感器的测量信号，并且对信号进行解析，然后对解析后的所有传感器数据进行拼接组装，组装为如下形式：信号1数据、...、信号n数据、校验位，其中，校验位用于验证数据处理终端接收的数据是否正确，占用1个比特位表示；数据采集终端把组装后的数据以K赫兹的频率通过通道1传输至数据处理终端，其中K赫兹是指1秒内发送数据K次，K值是信号1、信号2、...、信号n中的最大采集频率值；数据采集终端发送数据时，把尚未更新采集数据的信号所对应的位置赋值为0；步骤4，每一个数据采集终端通过通道1把数据传输至数据处理终端，数据处理终端接收所有数据采集终端发送的数据，然后对数据进行解析，计算步骤如下：1、数据处理终端接收一组数据后，根据校验方法检测数据处理终端接收的数据是否正常，如果数据不正常，则停止计算；如果数据正常，则进入下一步计算；2、解析传感器标识，将第1至第8个比特位转换为10进制数据，获得传感器标识，并且与表T进行匹配，获得传感器对应的数据长度和最小精度，分别记为m和f；3、解析计数器，将第9至第16个比特位转换为10进制数据，计算出计数器值，记为d1，根据已解析的传感器标识，在表D中查找对应传感器已接收数据中的最大计数器值，记为p，然后进行求模运算，即：令q=，q为p/256的计算结果的整数部分，则实际计数器值d2=d1+256×q，然后在表D中增加对应传感器的计数器值d2；4、解析测量值，将第18至第17+m个比特位转换为10进制数据d，则测量值v=d×f；如果第17个比特位为1，则v=-1×d×f；把测量值v实时传输至监控系统；5、参照步骤4所述方法2、3、4，从第18+m个比特位开始，继续解析计算，如果第18+m个比特位为0，则按照顺序依次查找，从不为0的比特位开始继续计算；步骤5，数据处理终端实时监视数据接收情况，计算步骤如下：1、在每一次表D更新后，遍历表D中的每一行，判断是否有未正常接收的数据，计算方法如下：遍历表D中的每一行，首先根据传感器标识，判断所述传感器对应的通道2和通道3是否均在空闲状态，如果在占用状态，则停止计算；如果均在空闲状态，则继续计算，查找所述传感器已接收数据中最大的计数器值，记为d3，然后在所述传感器对应的行中，筛选出在0至d3的整数区间范围内并且未在表D中保存的所有整数集合，记为E，其中集合E中的每一个元素均为正整数；2、数据处理终端对集合E中的所有元素进行转换，生成8×个比特位的数据格式，其中n表示集合E中的元素个数，第1个至第8个比特位为传感器标识，后面每8个比特位表示集合E中所对应的一个元素；3、数据处理终端通过通道2把转换后的数据格式发送至传感器所对应的数据采集终端，数据采集终端对接收到的数据进行解析，并根据解析得到的传感器标识和计数器，在数据采集终端储存的数据中查找所对应的保存数据，所述保存数据为比特位格式，然后对所有符合条件的保存数据进行分块拼接组装，每一块拼接组装为如下形式：计数器1对应数据、...、计数器2对应数据、校验位，数据采集终端按照分块把组装后的数据依次通过通道3传输至数据处理终端，其中对符合条件的保存数据进行分块的计算方法如下：假设符合条件的保存数据的数量为N1，数据采集终端通过通道3传输保存数据的数量最大为N2，则分块传输的次数为N3=+1，为N1/N2计算结果的整数部分；4、数据处理终端通过通道3接收数据采集终端发送的数据，参考步骤4所述方法进行处理。2.根据权利要求1所述的一种基于多传感器的数据处理方法，其特征在于，所述数据采集终端用于实时接收各个传感器的测量信号，并对各类测量信号进行加工，然后利用传输通道传输至数据处理终端；所述数据处理终端主要用于接收多个数据采集终端的数据，以及监测数据是否有遗漏，并将数据传输到监控系统，监控系统用于数据的实时展示和分析；所述传输通道主要用于数据处理终端与数据采集终端之间的数据传输，数据处理终端与所有的数据采集终端通过传输通道进行数据传输，并且数据处理终端与每一个数据采集终分别建立三个通信通道，所述通道1用于数据采集终端发送实时采集数据至数据处理终端，所述通道2用于数据处理终端向数据采集终端发送补发数据请求，所述通道3用于数据采集终端补发数据至数据处理终端。3.根据权利要求1所述的一种基于多传感器的数据处理方法，其特征在于，所述物理特性包括传感器采集信号的频率、采集信号的类型和信号输出方式。4.根据权利要求1所述的一种基于多传感器的数据处理方法，其特征在于，所述通道2和通道3的状态包含空闲状态和占用状态，数据处理终端通过通道2发送数据到通过通道3接收到数据的时间范围内，通道2和通道3的状态均为占用状态，数据处理终端通过通道3接收到数据后，通道2和通道3的状态更改为空闲状态。
说明书desc
技术领域本发明属于石油开采领域，具体涉及一种基于多传感器的数据处理方法。背景技术钻井技术是油田开发中至关重要的环节，通过钻井技术，可以实现对地下油气资源的勘探、开发和生产，在钻井过程中，需要使用各种传感器来监测各种参数，传感器可以实时采集钻井过程中的关键参数，如钻头转速、钻压、钻进速度，以及井壁地质结构等参数，传感器将数据传输到井上监控系统，操作人员利用传感器数据来监测钻井的状态和变化，可以优化生产策略，提高生产效率。由于钻井过程中环境复杂，井下的传感器可能会受到振动、温湿度等因素以及电磁干扰、多径传播等环境因素的干扰，引起传感器数据在传输过程出现中断或者数据异常等问题，导致操作人员不能及时了解钻井工作状态，具有很大的安全隐患。发明内容针对上述问题，本发明提出了一种基于多传感器的数据处理方法，该方法将井下传感器进行分类，同一类传感器连接同一个数据采集终端，数据采集终端实时接收各传感器的测量信号，然后进行加工，并把加工后的数据传输至数据处理终端，数据处理终端对数据进行处理并实时监视数据接收情况，对于受到干扰未实时接收或者异常的数据，数据处理终端及时进行补充，保证数据的实时性和准确性。为了实现上述目的，本发明的原理如下：如图1所示，在井下增加了多个数据采集终端，数据采集终端对传感器测量的信号进行解析、加工、储存，在井上增加数据处理终端，每一个数据采集终端与数据处理终端之间分别建立三个通道，不仅能够保证数据在传输过程中相互不受干扰，而且能够实时、高效地完成数据传输，数据处理终端在实时接收井下数据时，能够实时监视数据接收情况，及时补充受到干扰而未接收的数据。数据采集终端用于实时接收各个传感器的测量信号，并对各类测量信号进行加工，然后利用传输通道传输至数据处理终端；数据处理终端主要用于接收多个数据采集终端的数据，以及监测数据是否有遗漏，并将数据传输到监控系统，监控系统用于数据的实时展示和分析；传输通道主要用于数据处理终端与数据采集终端之间的数据传输，数据处理终端与所有的数据采集终端通过传输通道进行数据传输，并且数据处理终端与每一个数据采集终分别建立三个通信通道，通道1用于数据采集终端发送实时采集数据至数据处理终端，通道2用于数据处理终端向数据采集终端发送补发数据请求，通道3用于数据采集终端补发数据至数据处理终端。本发明的技术方案具体如下：一种基于多传感器的数据处理方法，具体包括以下步骤：步骤1，在施工前，将井下传感器按照安装位置、物理特性进行分类，把安装位置距离近并且物理特性相近的传感器划分为同一类，同一类传感器连接同一个数据采集终端；创建传感器信息表T和数据监视表D，表T用于记录传感器的信息，表T中的每一行数据表示一台传感器的信息，具体信息包含：传感器标识，所属数据采集终端，数据长度，最小精度值，其中，传感器标识是传感器的唯一标识，不同的传感器标识表示不同的传感器，在表T中用10进制数表示，并且不小于128；所属数据采集终端是指接收所述传感器的测量信号的数据采集终端的标识，所述标识是数据采集终端的唯一标识，在表T中用10进制表示；数据长度是指所述传感器的测量值转换为比特位格式的长度；最小精度值表示所述传感器测量信号的最小精度，在表T中用浮点数表示。表D用于实时监视数据处理终端接收传感器测量值的情况，表D中的每一行数据表示一台传感器所采集数据的情况，具体内容包含：传感器标识、已接收数据的计数器，其中计数器是指传感器所采集信号的序号，初始值为1，自传感器上电开始，传感器每次接收一次信号，计数器的值加一，计数器的最大值为256，如果计数器的值大于256，则重新赋值为1，表D中记录了每一台传感器已接收数据的所有计数器，不包含异常数据或遗漏数据所对应的计数器在内；步骤2，数据采集终端实时接收各传感器输出的信号，并对信号进行解析，生成总长度为个比特位的数据格式，其中，M值表示信号测量值转换为比特位的长度，M值由所采集信号确定；第1个至第8个比特位表示传感器标识；第9个至第16个比特位表示计数器；第17个比特位为符号位，表示测量值的符号，0表示正数，1表示负数；第18个至第个比特位表示传感器采集信号的测量值。数据采集终端对解析后的数据进行保存，对于每个传感器，在数据采集终端中最多保存256条数据，当达到存储容量上限时，最新解析的数据覆盖计数器相同的数据；步骤3，数据采集终端实时接收多个传感器的测量信号，并且对信号进行解析，然后对解析后的所有传感器数据进行拼接组装，组装为如下形式：信号1数据、...、信号n数据、校验位，其中，校验位用于验证数据处理终端接收的数据是否正确，占用1个比特位表示。数据采集终端把组装后的数据以K赫兹的频率通过通道1传输至数据处理终端，其中K赫兹是指1秒内发送数据K次，K值是信号1、信号2、...、信号n中的最大采集频率值；数据采集终端发送数据时，把尚未更新采集数据的信号所对应的位置赋值为0；步骤4，每一个数据采集终端通过通道1把数据传输至数据处理终端，数据处理终端接收所有数据采集终端发送的数据，然后对数据进行解析，计算方法如下：数据处理终端接收一组数据后，根据校验方法检测数据处理终端接收的数据是否正常，如果数据不正常，则停止计算；如果数据正常，则进入下一步计算；解析传感器标识，将第1至第8个比特位转换为10进制数据，获得传感器标识，并且与表T进行匹配，获得传感器对应的数据长度和最小精度，分别记为m和f；解析计数器，将第9至第16个比特位转换为10进制数据，计算出计数器值，记为d1，根据已解析的传感器标识，在表D中查找对应传感器已接收数据中的最大计数器值，记为p，然后进行求模运算，即：令q=，q为p/256的计算结果的整数部分，则实际计数器值d2=d1+256×q，然后在表D中增加对应传感器的计数器值d2；解析测量值，将第18至第个比特位转换为10进制数据d，则测量值v=d×f；如果第17个比特位为1，则v=-1×d×f；把测量值v实时传输至监控系统；参照步骤4所述方法，从第个比特位开始，继续解析计算，如果第个比特位为0，则按照顺序依次查找，从不为0的比特位开始继续计算；步骤5，数据处理终端实时监视数据接收情况，对于未实时接收的数据，进行如下处理：在每一次表D更新后，遍历表D中的每一行，判断是否有未正常接收的数据，计算方法如下：遍历表D中的每一行，首先根据传感器标识，判断所述传感器对应的通道2和通道3是否均在空闲状态，如果在占用状态，则停止计算；如果均在空闲状态，则继续计算，查找所述传感器已接收数据中最大的计数器值，记为d3，然后在所述传感器对应的行中，筛选出在区间范围内并且未在表D中保存的所有整数集合，记为E=，其中，集合E中的每一个元素均为正整数；数据处理终端对集合E中的所有元素进行转换，生成8×个比特位的数据格式，其中n表示集合E中的元素个数，第1个至第8个比特位为传感器标识，后面每8个比特位表示集合E中所对应的一个元素；数据处理终端通过通道2把转换后的数据格式发送至传感器所对应的数据采集终端，数据采集终端对接收到的数据进行解析，并根据解析得到的传感器标识和计数器，在数据采集终端储存的数据中查找所对应的保存数据，所述保存数据为比特位格式，然后对所有符合条件的保存数据进行分块拼接组装，每一块拼接组装为如下形式：计数器1对应数据、...、计数器2对应数据、校验位，数据采集终端按照分块把组装后的数据依次通过通道3传输至数据处理终端，其中对符合条件的保存数据进行分块的计算方法如下：假设符合条件的保存数据的数量为N1，数据采集终端通过通道3传输保存数据的数量最大为N2，其中N2为预设值，则分块传输的次数为N3=+1，为N1/N2计算结果的整数部分；数据处理终端通过通道3接收数据采集终端发送的数据，参考步骤4所述方法进行处理。优选的，所述物理特性包括传感器采集信号的频率、采集信号的类型和信号输出方式。优选的，所述校验方法包括奇校验和偶校验。预选的，所述通道2和通道3的状态包含空闲状态和占用状态，数据处理终端通过通道2发送数据到通过通道3接收到数据的时间范围内，通道2和通道3的状态均为占用状态，数据处理终端通过通道3接收到数据后，通道2和通道3的状态更改为空闲状态。相比于现有技术，本发明的有益效果在于：本发明解决了在钻井过程中井下传感器由于受到振动、温湿度或者电磁干扰、多径传播等因素的影响，引起传感器数据出现中断或者异常，而导致工作人员不能及时了解钻井状态的问题，本发明提出的方法通过实时监视数据接收情况，及时对异常数据或遗漏数据进行处理，保证了数据的实时性和准确性。附图说明图1为一种基于多传感器的数据处理方法原理图；图2为一种基于多传感器的数据处理方法流程图。具体实施方式为使本发明的所述目的、特征和优点能够更加明显易懂，下面结合具体实施方式对本发明作进一步详细说明。在下面的描述中阐述了很多具体细节以便于充分理解本发明，但是，本发明还可以采用其他不同于在此描述的其他方式来实施，因此，本发明的保护范围并不受下面公开的具体实施例的限制。本发明提供了一种基于多传感器的数据处理方法，在井下增加多个数据采集终端，在井上增加数据处理终端，每一个数据采集终端与数据处理终端之间分别建立三个传输通道。数据采集终端用于实时接收各个传感器的测量信号，并对各类测量信号进行加工，然后利用传输通道传输至数据处理终端；数据处理终端主要用于接收多个数据采集终端的数据，以及监测数据是否有遗漏，并将数据传输到监控系统，监控系统用于数据的实时展示和分析；传输通道主要用于数据处理终端与数据采集终端之间的数据传输，数据处理终端与所有的数据采集终端通过传输通道进行数据传输，并且数据处理终端与每一个数据采集终分别建立三个传输通道，通道1用于数据采集终端发送实时采集数据至数据处理终端，通道2用于数据处理终端向数据采集终端发送补发数据请求，通道3用于数据采集终端补发数据至数据处理终端。如图2所示，具体包括以下步骤：步骤1，在施工前，将井下传感器按照安装位置、物理特性进行分类，把安装位置距离近并且物理特性相近的传感器划分为同一类，同一类传感器连接同一个数据采集终端；创建传感器信息表T和数据监视表D，表T用于记录传感器的信息，表T中的每一行数据表示一台传感器的信息，具体信息包含：传感器标识，所属数据采集终端，数据长度，最小精度值，其中，传感器标识是传感器的唯一标识，不同的传感器标识表示不同的传感器，在表T中用10进制数表示，并且不小于128；所属数据采集终端是指接收所述传感器的测量信号的数据采集终端的标识，所述标识是数据采集终端的唯一标识，在表T中用10进制表示；数据长度是指所述传感器的测量值转换为比特位格式的长度；最小精度值表示所述传感器测量信号的最小精度，在表T中用浮点数表示。表D用于实时监视数据处理终端接收传感器的测量值的情况，表D中的每一行数据表示一台传感器所采集数据的情况，具体包含：传感器标识、已接收数据的计数器，其中计数器是指传感器所采集信号的序号，初始值为1，自传感器上电开始，传感器每次接收一次信号，计数器的值加一，计数器的最大值为256，如果计数器的值大于256，则重新赋值为1，表D中记录了每一台传感器已接收数据的所有计数器，不包含异常数据或遗漏数据所对应的计数器在内。以传感器A和传感器B为例，传感器A和传感器B分别用于测量钻井过程中的钻压参数和钻速参数，传感器A和传感器B连接同一个数据采集终端C，传感器A在表T中的记录信息是：传感器标识为十进制数据198，所属采集终端为十进制数据5，数据长度为12个比特位，最小精度值为0.25 kN；传感器B在表T中的记录信息是：传感器标识为十进制数据199，所属采集终端为十进制数据5，数据长度为11个比特位，最小精度值为1 r/min;步骤2，数据采集终端实时接收各传感器输出的信号，并对信号进行解析，生成总长度为个比特位的数据格式，其中，M值表示信号测量值转换为比特位的长度，M值由所采集信号确定；第1个至第8个比特位表示传感器标识；第9个至第16个比特位表示计数器；第17个比特位为符号位，表示测量值的符号，0表示正数，1表示负数；第18个至第个比特位表示传感器采集信号的测量值。数据采集终端对解析后的数据进行保存，对于每个传感器，在数据采集终端中最多保存256条数据，当达到存储容量上限时，最新解析的数据覆盖计数器相同的数据。传感器A测量的钻压值为30 kN，传感器B测量的钻速为60 r/min，数据采集终端C解析传感器A的信号，生成长度为29个比特位的数据格式为11000110100101100000001111000，第1个至第8个比特位11000110表示传感器A标识；第9个至第16个比特位10010110表示计数器；第17个比特位0为符号位；第18个至第29个比特位000001111000表示传感器A采集信号的测量值。数据采集终端C解析传感器B的信号，生成长度为28个比特位的数据格式为1100011111100110000000111100，第1个至第8个比特位11000111表示传感器B标识；第9个至第16个比特位11100110表示计数器；第17个比特位0为符号位；第18个至第28个比特位00000111100表示传感器B采集信号的测量值。步骤3，数据采集终端实时接收多个传感器的测量信号，并且对信号进行解析，然后对解析后的所有传感器数据进行拼接组装，组装为如下形式：信号1数据、...、信号n数据、校验位，其中，校验位用于验证数据处理终端接收的数据是否正确，占用1个比特位表示。数据采集终端把组装后的数据以K赫兹的频率通过通道1传输至数据处理终端，其中K赫兹是指1秒内发送数据K次，K值是信号1、信号2、...、信号n中的最大采集频率值；数据采集终端发送数据时，把尚未更新采集数据的信号所对应的位置赋值为0。数据采集终端C对传感器A和传感器B的数据进行拼接组装为如下形式：1100011010010110000000111100011000111111001100000001111001，其中第1个至第29个比特位表示传感器A采集的第150个信号，测量钻压值为30，第30个至第57个比特位表示传感器B采集的第230个信号，测量钻速值为60，最后一个比特位1表示校验位，以奇校验为例，为保证数据序列中1的个数为奇数，校验位设置为1。步骤4，每一个数据采集终端通过通道1把数据传输至数据处理终端，数据处理终端接收所有数据采集终端发送的数据，然后对数据进行解析，计算方法如下：数据处理终端接收一组数据后，根据校验方法检测数据处理终端接收的数据是否正常，如果数据不正常，则停止计算；如果数据正常，则进入下一步计算；解析传感器标识，将第1至第8个比特位转换为10进制数据，获得传感器标识，并且与表T进行匹配，获得传感器对应的数据长度和最小精度，分别记为m和f；解析计数器，将第9至第16个比特位转换为10进制数据，计算出计数器值，记为d1，根据已解析的传感器标识，在表D中查找对应传感器已接收数据中的最大计数器值，记为p，然后进行求模运算，即：令q=，q为p/256的计算结果的整数部分，则实际计数器值d2=d1+256×q，然后在表D中增加对应传感器的计数器值d2；解析测量值，将第18至第个比特位转换为10进制数据d，则测量值v=d×f；如果第17个比特位为1，则v=-1×d×f；把测量值v实时传输至监控系统；参照步骤4所述方法，从第个比特位开始，继续解析计算，如果第个比特位为0，则按照顺序依次查找，从不为0的比特位开始继续计算。数据处理终端接收数据采集终端C发送的数据为1100011010010110000000111100011000111111001100000001111001，采用奇校验法对数据进行校验，序列中1的个数为奇数，所以传输过程正常；数据处理终端对接收到的数据进行解析，第1至第8个比特位11000110转换为10进制数据为198，根据传感器标识198在表T中找到对应的数据长度12和最小精度0.25，在表D中查找传感器A已接收数据中的最大计数器值，假设为147；代表计数器的第9至第16个比特位10010110转换为10进制数据为150，进行求模运算：=0，实际计数器值为150+256×0=150，则在表D中增加传感器A的最新计数器值150；代表测量值的第18至第29个比特位000001111000转换为10进制数据120，则传感器A的测量值为120×0.25=30；参照所述方法，从第30个比特位开始解析传感器B的数据。步骤5，数据处理终端实时监视数据接收情况，对于未实时接收的数据，进行如下处理：在每一次表D更新后，遍历表D中的每一行，判断是否有未正常接收的数据，计算方法如下：遍历表D中的每一行，首先根据传感器标识，判断所述传感器对应的通道2和通道3是否均在空闲状态，如果在占用状态，则停止计算；如果均在空闲状态，则继续计算，查找所述传感器已接收数据中最大的计数器值，记为d3，然后在所述传感器对应的行中，筛选出在区间范围内并且未在表D中保存的所有整数集合，记为E=，其中，集合E中的每一个元素均为正整数；数据处理终端对集合E中的所有元素进行转换，生成8×个比特位的数据格式，其中n表示集合E中的元素个数，第1个至第8个比特位为传感器标识，后面每8个比特位表示集合E中所对应的一个元素；数据处理终端通过通道2把转换后的数据格式发送至传感器所对应的数据采集终端，数据采集终端对接收到的数据进行解析，并根据解析得到的传感器标识和计数器，在数据采集终端储存的数据中查找所对应的保存数据，所述保存数据为比特位格式，然后对所有符合条件的保存数据进行分块拼接组装，每一块拼接组装为如下形式：计数器1对应数据、...、计数器2对应数据、校验位，数据采集终端按照分块把组装后的数据依次通过通道3传输至数据处理终端，其中对符合条件的保存数据进行分块的计算方法如下：假设符合条件的保存数据的数量为N1，数据采集终端通过通道3传输保存数据的数量最大为N2，则分块传输的次数为N3=+1，为N1/N2计算结果的整数部分；数据处理终端通过通道3接收数据采集终端发送的数据，参考步骤4所述方法进行处理。数据处理终端接收数据采集终端C发送的数据，经过解析，在表D中增加传感器A的最新计数器值150，数据处理终端遍历表D中的每一行，以传感器A为例，查询到与传感器A相连接的数据采集终端C，判断数据采集终端C与数据处理终端对应的通道2和通道3是否均在空闲状态，如果均在空闲状态，从表D中查找传感器A已接收数据中的最大的计数器值150，然后在表D中筛选出在区间范围内，但未在表D中保存的传感器A数据的计数器的集合，假设为所述集合为，即传感器A采集的第148个和第149个信号未被数据处理终端正常接收；数据处理终端对所述集合转换为110001101001010010010101比特位格式，其中第1个至第8个比特位11000110为传感器A的标识，第9个至第16个比特位10010100转换为十进制数据为148，第17个至第24个比特位10010101转换为十进制数据为149；数据处理终端通过通道2把数据110001101001010010010101发送至数据采集终端C，数据采集终端C对接收到的数据进行处理，把需要重新发送的数据通过通道3发送至数据处理终端。本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处。综上，本说明书内容不应理解为对本发明的限制。
