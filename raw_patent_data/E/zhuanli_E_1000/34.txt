标题title
一种基于数据分析的钻井参数调节方法
摘要abst
本发明公开了一种基于数据分析的钻井参数调节方法，属于钻井参数调节技术领域，本发明中先根据土质硬度、土质黏性和钻井深度，计算出钻井目标前进速度，根据钻井目标前进速度与钻井实时前进速度的速度差距，建立钻井控制模型，并对钻井控制模型进行训练，使得钻井控制模型具备满足时间要求的系数，将训练完成的钻井控制模型对泵压、钻压和水眼进行调节，补偿该部分速度差距。
权利要求书clms
1.一种基于数据分析的钻井参数调节方法，其特征在于，包括以下步骤：S1、根据土质硬度、土质黏性和钻井深度，建立目标速度预测模型，确定钻井目标前进速度；S2、根据钻头的速度，计算钻井实时前进速度；S3、根据钻井实时前进速度与钻井目标前进速度的速度差距，建立钻井控制模型；S4、根据速度调节时间，对钻井控制模型进行训练，得到训练完成的钻井控制模型；S5、采用训练完成的钻井控制模型对泵压、钻压和水眼进行调节。2.根据权利要求1所述的基于数据分析的钻井参数调节方法，其特征在于，所述S1中目标速度预测模型为：，其中，VO为钻井目标前进速度，x1为土质硬度，x2为土质黏性，x3为钻井深度，w1为土质硬度x1的权重，w2为土质黏性x2的权重，w3为钻井深度x3的权重，σ为sigmoid函数。3.根据权利要求1所述的基于数据分析的钻井参数调节方法，其特征在于，所述S2中计算钻井实时前进速度的公式为：，其中，Vt为钻井实时前进速度，VZ为钻头的速度，E为钻柱的回压，e为误差比例系数。4.根据权利要求1所述的基于数据分析的钻井参数调节方法，其特征在于，所述S3中钻井控制模型包括：速度分配单元、泵压调节单元、钻压调节单元和水眼调节单元；所述速度分配单元用于对速度差距进行分配，得到第一速度调节量、第二速度调节量和第三速度调节量；所述泵压调节单元用于根据第一速度调节量，对泵压进行调节；所述钻压调节单元用于根据第二速度调节量，对钻压进行调节；所述水眼调节单元用于根据第三速度调节量，对水眼进行调节。5.根据权利要求4所述的基于数据分析的钻井参数调节方法，其特征在于，所述第一速度调节量为V1=αVd，第二速度调节量为V2=βVd，第三速度调节量为V3=γVd，V1为第一速度调节量，V2为第二速度调节量，V3为第三速度调节量，α为第一速度比例系数，β为第二速度比例系数，γ为第三速度比例系数，Vd为速度差距，α+β+γ=1。6.根据权利要求5所述的基于数据分析的钻井参数调节方法，其特征在于，所述泵压调节单元的表达式为：，其中，Pb,t为第t时刻的泵压，Pb,t-1为第t-1时刻的泵压，cb为泵压调节系数，Pb,max为最大泵压，Pb,min为最小泵压，tanh为双曲正切激活函数，V1为第一速度调节量；所述钻压调节单元的表达式为：，其中，Pz,t为第t时刻的钻压，Pz,t-1为第t-1时刻的钻压，cz为钻压调节系数，Pz,max为最大钻压，Pz,min为最小钻压，V2为第二速度调节量；所述水眼调节单元的表达式为：，其中，Ps,t为第t时刻的水眼压力，Ps,t-1为第t-1时刻的水眼压力，cs为水眼调节系数，Ps,max为最大水眼压力，Ps,min为最小水眼压力，V3为第三速度调节量。7.根据权利要求6所述的基于数据分析的钻井参数调节方法，其特征在于，所述S4包括以下分步骤：S41、对系数序列{α, β, γ, cb, cz, cs}中每个元素分配初始值；S42、统计采用当前钻井控制模型将钻井的前进速度从当前钻井实时前进速度调整到钻井目标前进速度的时间，得到速度调节时间；S43、判断速度调节时间是否低于时间阈值，若是，则钻井控制模型训练完成，若否，则跳转至步骤S44；S44、根据速度调节时间，对系数序列进行交叉和变异处理，并跳转至步骤S42。8.根据权利要求7所述的基于数据分析的钻井参数调节方法，其特征在于，所述S44中交叉的概率公式为：，其中，g为当前交叉的概率，gmax为最大交叉概率，gmin为最小交叉概率，arctan为反正切函数，T为速度调节时间，To为时间阈值。9.根据权利要求7所述的基于数据分析的钻井参数调节方法，其特征在于，所述S44中变异的概率公式为：，其中，b为当前变异的概率，bmax为最大变异概率，bmin为最小变异概率，arctan为反正切函数，T为速度调节时间，To为时间阈值。
说明书desc
技术领域本发明涉及钻井参数调节技术领域，具体涉及一种基于数据分析的钻井参数调节方法。背景技术在钻井仪器的钻井过程中，钻井前进速度并非直接控制，而是通过调整其他参数来影响钻井前进速度，与钻井前进速度有关的重要参数包括：泵压、钻压和水眼，实时调节泵压、钻压和水眼，可以使得钻井前进速度更快。现有技术中在对钻井仪器的进行速度调节时，仅对钻头的钻具进行控制，控制钻头的钻具，可以提高钻井的前进速度，但是单一控制钻头的钻具，无法使得钻井的前进速度达到钻井目标前进速度。发明内容针对现有技术中的上述不足，本发明提供的一种基于数据分析的钻井参数调节方法解决了现有技术中仅对钻头的钻具进行控制，实现钻井的前进速度的调节，存在无法使得钻井的前进速度达到钻井目标前进速度的问题。为了达到上述发明目的，本发明采用的技术方案为：一种基于数据分析的钻井参数调节方法，包括以下步骤：S1、根据土质硬度、土质黏性和钻井深度，建立目标速度预测模型，确定钻井目标前进速度；S2、根据钻头的速度，计算钻井实时前进速度；S3、根据钻井实时前进速度与钻井目标前进速度的速度差距，建立钻井控制模型；S4、根据速度调节时间，对钻井控制模型进行训练，得到训练完成的钻井控制模型；S5、采用训练完成的钻井控制模型对泵压、钻压和水眼进行调节。本发明的有益效果为：本发明中先根据土质硬度、土质黏性和钻井深度，计算出钻井目标前进速度，根据钻井目标前进速度与钻井实时前进速度的速度差距，建立钻井控制模型，并对钻井控制模型进行训练，使得钻井控制模型具备满足时间要求的系数，将训练完成的钻井控制模型对泵压、钻压和水眼进行调节，补偿该部分速度差距。本发明中方法是在对钻头的速度调节达到目标钻头速度后，再调节钻头的速度，无法使得钻井前进速度增加或者增加很缓慢的情况下，使用本发明方法，进一步地增大钻井前进速度。本发明解决了现有技术中仅对钻头的钻具进行控制，实现钻井的前进速度的调节，存在无法使得钻井的前进速度达到钻井目标前进速度的问题。进一步地，所述S1中目标速度预测模型为：，其中，VO为钻井目标前进速度，x1为土质硬度，x2为土质黏性，x3为钻井深度，w1为土质硬度x1的权重，w2为土质黏性x2的权重，w3为钻井深度x3的权重，σ为sigmoid函数。上述进一步地方案的有益效果为：本发明中考虑土质硬度、土质黏性和钻井深度，从而估算出钻井目标前进速度。进一步地，所述S2中计算钻井实时前进速度的公式为：，其中，Vt为钻井实时前进速度，VZ为钻头的速度，E为钻柱的回压，e为误差比例系数。进一步地，所述S3中钻井控制模型包括：速度分配单元、泵压调节单元、钻压调节单元和水眼调节单元；所述速度分配单元用于对速度差距进行分配，得到第一速度调节量、第二速度调节量和第三速度调节量；所述泵压调节单元用于根据第一速度调节量，对泵压进行调节；所述钻压调节单元用于根据第二速度调节量，对钻压进行调节；所述水眼调节单元用于根据第三速度调节量，对水眼进行调节。进一步地，所述第一速度调节量为V1=αVd，第二速度调节量为V2=βVd，第三速度调节量为V3=γVd，V1为第一速度调节量，V2为第二速度调节量，V3为第三速度调节量，α为第一速度比例系数，β为第二速度比例系数，γ为第三速度比例系数，Vd为速度差距，α+β+γ=1。上述进一步地方案的有益效果为：本发明中速度分配单元用于对速度差距进行分配，对泵压调节单元、钻压调节单元和水眼调节单元分配不同的速度调节量，从而使得泵压调节、钻压调节和水眼调节相配合，补偿速度差距。进一步地，所述泵压调节单元的表达式为：，其中，Pb,t为第t时刻的泵压，Pb,t-1为第t-1时刻的泵压，cb为泵压调节系数，Pb,max为最大泵压，Pb,min为最小泵压，tanh为双曲正切激活函数，V1为第一速度调节量；所述钻压调节单元的表达式为：，其中，Pz,t为第t时刻的钻压，Pz,t-1为第t-1时刻的钻压，cz为钻压调节系数，Pz,max为最大钻压，Pz,min为最小钻压，V2为第二速度调节量；所述水眼调节单元的表达式为：，其中，Ps,t为第t时刻的水眼压力，Ps,t-1为第t-1时刻的水眼压力，cs为水眼调节系数，Ps,max为最大水眼压力，Ps,min为最小水眼压力，V3为第三速度调节量。上述进一步地方案的有益效果为：本发明中根据各自分配的速度调节量，按比例进行泵压、钻压和水眼压力调节，实现根据不同大小的速度调节量，自适应控制压力大小，再设置三种调节系数cb、cz、cs，灵活调节压力。进一步地，所述S4包括以下分步骤：S41、对系数序列{α, β, γ, cb, cz, cs}中每个元素分配初始值；S42、统计采用当前钻井控制模型将钻井的前进速度从当前钻井实时前进速度调整到钻井目标前进速度的时间，得到速度调节时间；S43、判断速度调节时间是否低于时间阈值，若是，则钻井控制模型训练完成，若否，则跳转至步骤S44；S44、根据速度调节时间，对系数序列进行交叉和变异处理，并跳转至步骤S42。上述进一步地方案的有益效果为：本发明中钻井控制模型在进行钻井的前进速度调节时，其调节时间需要低于时间阈值，从而保障该钻井控制模型能够快速调节，整体系统上是稳定的，因此，采用GA遗传算法中的交叉和变异对系数序列中元素进行更新，不断寻找满足时间要求的系数。进一步地，所述S44中交叉的概率公式为：，其中，g为当前交叉的概率，gmax为最大交叉概率，gmin为最小交叉概率，arctan为反正切函数，T为速度调节时间，To为时间阈值。进一步地，所述S44中变异的概率公式为：，其中，b为当前变异的概率，bmax为最大变异概率，bmin为最小变异概率，arctan为反正切函数，T为速度调节时间，To为时间阈值。上述进一步地方案的有益效果为：本发明中交叉的概率和变异的概率根据速度调节时间与时间阈值差值的大小进行变化，在差距越大时，交叉的概率和变异的概率越大，从而系数序列中元素变化越大，加快找到合适系数的进程。附图说明图1为一种基于数据分析的钻井参数调节方法的流程图。具体实施方式下面对本发明的具体实施方式进行描述，以便于本技术领域的技术人员理解本发明，但应该清楚，本发明不限于具体实施方式的范围，对本技术领域的普通技术人员来讲，只要各种变化在所附的权利要求限定和确定的本发明的精神和范围内，这些变化是显而易见的，一切利用本发明构思的发明创造均在保护之列。如图1所示，一种基于数据分析的钻井参数调节方法，包括以下步骤：S1、根据土质硬度、土质黏性和钻井深度，建立目标速度预测模型，确定钻井目标前进速度；S2、根据钻头的速度，计算钻井实时前进速度；S3、根据钻井实时前进速度与钻井目标前进速度的速度差距，建立钻井控制模型；S4、根据速度调节时间，对钻井控制模型进行训练，得到训练完成的钻井控制模型；S5、采用训练完成的钻井控制模型对泵压、钻压和水眼进行调节。本发明的方法是在对钻头的速度调节达到目标钻头速度后，再调节钻头的速度，无法使得钻井前进速度增加或者增加很缓慢的情况下，使用本发明方法，进一步地增大钻井前进速度，即本发明的方法适用于先对钻头进行速度调节后，在钻头速度达到一定程度时。在本实施例中，步骤S1~S4为钻井控制模型的构建过程，S5为钻井控制模型的运用过程。所述S1中目标速度预测模型为：，其中，VO为钻井目标前进速度，x1为土质硬度，x2为土质黏性，x3为钻井深度，w1为土质硬度x1的权重，w2为土质黏性x2的权重，w3为钻井深度x3的权重，σ为sigmoid函数。本发明中考虑土质硬度、土质黏性和钻井深度，从而估算出钻井目标前进速度。本发明中权重w1、w2和w3可采用梯度下降法训练得到。所述S2中计算钻井实时前进速度的公式为：，其中，Vt为钻井实时前进速度，VZ为钻头的速度，E为钻柱的回压，e为误差比例系数。所述S3中钻井控制模型包括：速度分配单元、泵压调节单元、钻压调节单元和水眼调节单元；所述速度分配单元用于对速度差距进行分配，得到第一速度调节量、第二速度调节量和第三速度调节量；所述泵压调节单元用于根据第一速度调节量，对泵压进行调节；所述钻压调节单元用于根据第二速度调节量，对钻压进行调节；所述水眼调节单元用于根据第三速度调节量，对水眼进行调节。在本发明中速度差距为钻井目标前进速度与钻井实时前进速度之差。所述第一速度调节量为V1=αVd，第二速度调节量为V2=βVd，第三速度调节量为V3=γVd，V1为第一速度调节量，V2为第二速度调节量，V3为第三速度调节量，α为第一速度比例系数，β为第二速度比例系数，γ为第三速度比例系数，Vd为速度差距，α+β+γ=1。本发明中速度分配单元用于对速度差距进行分配，对泵压调节单元、钻压调节单元和水眼调节单元分配不同的速度调节量，从而使得泵压调节、钻压调节和水眼调节相配合，补偿速度差距。所述泵压调节单元的表达式为：，其中，Pb,t为第t时刻的泵压，Pb,t-1为第t-1时刻的泵压，cb为泵压调节系数，Pb,max为最大泵压，Pb,min为最小泵压，tanh为双曲正切激活函数，V1为第一速度调节量；所述钻压调节单元的表达式为：，其中，Pz,t为第t时刻的钻压，Pz,t-1为第t-1时刻的钻压，cz为钻压调节系数，Pz,max为最大钻压，Pz,min为最小钻压，V2为第二速度调节量；所述水眼调节单元的表达式为：，其中，Ps,t为第t时刻的水眼压力，Ps,t-1为第t-1时刻的水眼压力，cs为水眼调节系数，Ps,max为最大水眼压力，Ps,min为最小水眼压力，V3为第三速度调节量。本发明中根据各自分配的速度调节量，按比例进行泵压、钻压和水眼压力调节，实现根据不同大小的速度调节量，自适应控制压力大小，再设置三种调节系数cb、cz、cs，灵活调节压力。所述S4包括以下分步骤：S41、对系数序列{α, β, γ, cb, cz, cs}中每个元素分配初始值；S42、统计采用当前钻井控制模型将钻井的前进速度从当前钻井实时前进速度调整到钻井目标前进速度的时间，得到速度调节时间；S43、判断速度调节时间是否低于时间阈值，若是，则钻井控制模型训练完成，若否，则跳转至步骤S44；S44、根据速度调节时间，对系数序列进行交叉和变异处理，并跳转至步骤S42。本发明中钻井控制模型在进行钻井的前进速度调节时，其调节时间需要低于时间阈值，从而保障该钻井控制模型能够快速调节，整体系统上是稳定的，因此，采用GA遗传算法中的交叉和变异对系数序列中元素进行更新，不断寻找满足时间要求的系数。所述S44中交叉的概率公式为：，其中，g为当前交叉的概率，gmax为最大交叉概率，gmin为最小交叉概率，arctan为反正切函数，T为速度调节时间，To为时间阈值。所述S44中变异的概率公式为：，其中，b为当前变异的概率，bmax为最大变异概率，bmin为最小变异概率，arctan为反正切函数，T为速度调节时间，To为时间阈值。本发明中交叉的概率和变异的概率根据速度调节时间与时间阈值差值的大小进行变化，在差距越大时，交叉的概率和变异的概率越大，从而系数序列中元素变化越大，加快找到合适系数的进程。本发明中先根据土质硬度、土质黏性和钻井深度，计算出钻井目标前进速度，根据钻井目标前进速度与钻井实时前进速度的速度差距，建立钻井控制模型，并对钻井控制模型进行训练，使得钻井控制模型具备满足时间要求的系数，将训练完成的钻井控制模型对泵压、钻压和水眼进行调节，补偿该部分速度差距。以上仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
