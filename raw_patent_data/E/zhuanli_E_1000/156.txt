标题title
水库的泄水控制方法、设备及介质
摘要abst
本申请公开了一种水库的泄水控制方法、设备及介质。水库的泄水控制方法包括：获取目标水库的预测入库流量；确定预测入库流量对应的目标下泄量；获取目标水库的下泄量转换模型，下泄量转换模型中包括未修正下泄量与修正后下泄量之间的关联关系；将目标下泄量作为一个未修正下泄量，利用下泄量转换模型，确定目标下泄量对应的修正后下泄量；输出目标下泄量对应的修正后下泄量，以对目标水库进行泄水控制处理。本申请实施例通过确定预测入库流量对应的目标下泄量，再利用下泄量转换模型，将目标下泄量转换为修正后下泄量，实现了对目标下泄量的直接修正，从而增大对于下泄量误差的纠正幅度，提高对于下泄量误差的纠正效果。
权利要求书clms
1.一种水库的泄水控制方法，其特征在于，所述水库的泄水控制方法包括：获取目标水库的预测入库流量；确定所述预测入库流量对应的目标下泄量；获取所述目标水库的下泄量转换模型，所述下泄量转换模型中包括未修正下泄量与修正后下泄量之间的关联关系；将所述目标下泄量作为一个未修正下泄量，利用所述下泄量转换模型，确定所述目标下泄量对应的修正后下泄量；输出所述目标下泄量对应的修正后下泄量，以对所述目标水库进行泄水控制处理；其中，所述下泄量转换模型为贝叶斯联合概率模型，所述关联关系为以未修正下泄量为条件时修正后下泄量的条件概率分布，所述将所述目标下泄量作为一个未修正下泄量，利用所述下泄量转换模型，确定所述目标下泄量对应的修正后下泄量，包括：将所述目标下泄量作为一个未修正下泄量，输入至所述下泄量转换模型，从而基于以所述目标下泄量为条件时修正后下泄量的条件概率分布，确定所述目标下泄量对应的修正后下泄量；接收所述下泄量转换模型输出的所述目标下泄量对应的修正后下泄量。2.如权利要求1所述的水库的泄水控制方法，其特征在于，所述获取目标水库的预测入库流量之前，还包括：获取所述目标水库的第一入库流量序列，所述第一入库流量序列中包括按照时间先后排序的多个预设理想入库流量；基于所述第一入库流量序列，确定所述目标水库的第二入库流量序列，所述第二入库流量序列中包括按照时间先后排序且与所述预设理想入库流量对应的预设预测入库流量；确定所述第二入库流量序列对应的未修正下泄量序列；确定所述第一入库流量序列对应的修正后下泄量序列；基于所述未修正下泄量序列、所述修正后下泄量序列，生成所述下泄量转换模型。3.如权利要求1所述的水库的泄水控制方法，其特征在于，所述基于所述未修正下泄量序列、所述修正后下泄量序列，生成所述下泄量转换模型，包括：在所述未修正下泄量序列中，确定出第一子序列和第二子序列；在所述修正后下泄量序列中，确定出所述第一子序列对应的第三子序列，以及确定出所述第二子序列对应的第四子序列；采用所述第一子序列、所述第三子序列进行模型训练，以及采用所述第二子序列、所述第四子序列进行模型验证，得到所述下泄量转换模型。4.如权利要求3所述的水库的泄水控制方法，其特征在于，所述采用所述第二子序列、所述第四子序列进行模型验证，包括：利用训练完毕的模型，确定所述第二子序列对应的第五子序列；确定所述第五子序列与所述第四子序列之间的均方根误差以及连续排名概率得分；基于所述均方根误差、所述连续排名概率得分，确定训练完毕的模型是否合格，其中，在训练完毕的模型合格时，将训练完毕的模型作为所述下泄量转换模型。5.如权利要求2所述的水库的泄水控制方法，其特征在于，所述基于所述第一入库流量序列，确定所述目标水库的第二入库流量序列，包括：获取预设的随机误差序列，所述随机误差序列中包括按照时间先后排序的多个预设随机误差，且在所述随机误差序列中，前第一数量的多个所述预设随机误差的方差，大于前第二数量的多个所述预设随机误差的方差，所述第一数量大于所述第二数量；基于所述随机误差序列，对所述第一入库流量序列进行误差叠加处理，得到所述第二入库流量序列。6.如权利要求1所述的水库的泄水控制方法，其特征在于，所述确定所述预测入库流量对应的目标下泄量，包括：获取所述目标水库的下游湖泊生态系统的预设需水量；获取所述下游湖泊生态系统的缺水系数函数，所述缺水系数函数中包括所述下游湖泊生态系统的缺水量与所述预设需水量的比值，所述缺水量基于所述预设需水量与所述目标下泄量的差值确定；基于所述缺水系数函数，确定小于所述预测入库流量的所述目标下泄量。7.如权利要求6所述的水库的泄水控制方法，其特征在于，所述基于所述缺水系数函数、所述预测入库流量，确定所述目标下泄量，包括：获取所述下游湖泊生态系统的用水量效益函数，所述用水量效益函数中包括随所述目标下泄量的增大而先增大后减小的用水量效益值；基于所述用水量效益函数、所述缺水系数函数，确定小于所述预测入库流量的所述目标下泄量。8.一种计算机设备，其特征在于，所述计算机设备包括：一个或多个处理器；存储器；以及一个或多个应用程序，其中所述一个或多个应用程序被存储于所述存储器中，并配置为由所述处理器执行以实现权利要求1至7中任一项所述的水库的泄水控制方法中的步骤。9.一种计算机可读存储介质，其特征在于，其上存储有计算机程序，所述计算机程序被处理器进行加载，以执行权利要求1至7中任一项所述的水库的泄水控制方法中的步骤。
说明书desc
技术领域本申请涉及水库泄水技术领域，具体涉及一种水库的泄水控制方法、设备及介质。背景技术为了提高水库生态调度性能，更好地保护下游湖泊生态系统，往往需要按照“最优”的下泄量控制水库进行泄水，因此需要减少计算“最优”下泄量时的数据误差。由于“最优”下泄量是基于水库的预测入库流量计算得到的，因此一般是通过减少预测入库流量的预测误差，来减少计算“最优”下泄量时的数据误差。然而，这种方式对于下泄量误差的纠正幅度通常较小，纠正效果较差。发明内容本申请实施例提供一种水库的泄水控制方法、设备及介质，旨在增大对于下泄量误差的纠正幅度，以使修正后下泄量更加接近“最优”下泄量。一方面，本申请提供一种水库的泄水控制方法，所述水库的泄水控制方法包括：获取目标水库的预测入库流量；确定所述预测入库流量对应的目标下泄量；获取所述目标水库的下泄量转换模型，所述下泄量转换模型中包括未修正下泄量与修正后下泄量之间的关联关系；将所述目标下泄量作为一个未修正下泄量，利用所述下泄量转换模型，确定所述目标下泄量对应的修正后下泄量；输出所述目标下泄量对应的修正后下泄量，以对所述目标水库进行泄水控制处理。在一些实施例中，所述下泄量转换模型为贝叶斯联合概率模型，所述关联关系为以未修正下泄量为条件时修正后下泄量的条件概率分布，所述将所述目标下泄量作为一个未修正下泄量，利用所述下泄量转换模型，确定所述目标下泄量对应的修正后下泄量，包括：将所述目标下泄量作为一个未修正下泄量，输入至所述下泄量转换模型，从而基于以所述目标下泄量为条件时修正后下泄量的条件概率分布，确定所述目标下泄量对应的修正后下泄量；接收所述下泄量转换模型输出的所述目标下泄量对应的修正后下泄量。在一些实施例中，所述获取目标水库的预测入库流量之前，还包括：获取所述目标水库的第一入库流量序列，所述第一入库流量序列中包括按照时间先后排序的多个预设理想入库流量；基于所述第一入库流量序列，确定所述目标水库的第二入库流量序列，所述第二入库流量序列中包括按照时间先后排序且与所述预设理想入库流量对应的预设预测入库流量；确定所述第二入库流量序列对应的未修正下泄量序列；确定所述第一入库流量序列对应的修正后下泄量序列；基于所述未修正下泄量序列、所述修正后下泄量序列，生成所述下泄量转换模型。在一些实施例中，所述基于所述未修正下泄量序列、所述修正后下泄量序列，生成所述下泄量转换模型，包括：在所述未修正下泄量序列中，确定出第一子序列和第二子序列；在所述修正后下泄量序列中，确定出所述第一子序列对应的第三子序列，以及确定出所述第二子序列对应的第四子序列；采用所述第一子序列、所述第三子序列进行模型训练，以及采用所述第二子序列、所述第四子序列进行模型验证，得到所述下泄量转换模型。在一些实施例中，所述采用所述第二子序列、所述第四子序列进行模型验证，包括：利用训练完毕的模型，确定所述第二子序列对应的第五子序列；确定所述第五子序列与所述第四子序列之间的均方根误差以及连续排名概率得分；基于所述均方根误差、所述连续排名概率得分，确定训练完毕的模型是否合格，其中，在训练完毕的模型合格时，将训练完毕的模型作为所述下泄量转换模型。在一些实施例中，所述基于所述第一入库流量序列，确定所述目标水库的第二入库流量序列，包括：获取预设的随机误差序列，所述随机误差序列中包括按照时间先后排序的多个预设随机误差，且在所述随机误差序列中，前第一数量的多个所述预设随机误差的方差，大于前第二数量的多个所述预设随机误差的方差，所述第一数量大于所述第二数量；基于所述随机误差序列，对所述第一入库流量序列进行误差叠加处理，得到所述第二入库流量序列。在一些实施例中，所述确定所述预测入库流量对应的目标下泄量，包括：获取所述目标水库的下游湖泊生态系统的预设需水量；获取所述下游湖泊生态系统的缺水系数函数，所述缺水系数函数中包括所述下游湖泊生态系统的缺水量与所述预设需水量的比值，所述缺水量基于所述预设需水量与所述目标下泄量的差值确定；基于所述缺水系数函数，确定小于所述预测入库流量的所述目标下泄量。在一些实施例中，所述基于所述缺水系数函数、所述预测入库流量，确定所述目标下泄量，包括：获取所述下游湖泊生态系统的用水量效益函数，所述用水量效益函数中包括随所述目标下泄量的增大而先增大后减小的用水量效益值；基于所述用水量效益函数、所述缺水系数函数，确定小于所述预测入库流量的所述目标下泄量。另一方面，本申请实施例提供一种水库的泄水控制装置，包括：第一获取模块，用于获取目标水库的预测入库流量；第一确定模块，用于确定所述预测入库流量对应的目标下泄量；第二获取模块，用于获取所述目标水库的下泄量转换模型，所述下泄量转换模型中包括未修正下泄量与修正后下泄量之间的关联关系；数据转换模块，用于将所述目标下泄量作为一个未修正下泄量，利用所述下泄量转换模型，确定所述目标下泄量对应的修正后下泄量；数据输出模块，用于输出所述目标下泄量对应的修正后下泄量，以对所述目标水库进行泄水控制处理。另一方面，本申请还提供一种计算机设备，所述计算机设备包括：一个或多个处理器；存储器；以及一个或多个应用程序，其中所述一个或多个应用程序被存储于所述存储器中，并配置为由所述处理器执行以实现任一项所述的水库的泄水控制方法中的步骤。另一方面，本申请还提供一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器进行加载，以执行任一项所述的水库的泄水控制方法中的步骤。本申请实施例了提供一种水库的泄水控制方法、设备及介质。水库的泄水控制方法包括：获取目标水库的预测入库流量；确定预测入库流量对应的目标下泄量；获取目标水库的下泄量转换模型，下泄量转换模型中包括未修正下泄量与修正后下泄量之间的关联关系；将目标下泄量作为一个未修正下泄量，利用下泄量转换模型，确定目标下泄量对应的修正后下泄量；输出目标下泄量对应的修正后下泄量，以对目标水库进行泄水控制处理。本申请实施例通过确定预测入库流量对应的目标下泄量，再利用下泄量转换模型，将目标下泄量转换为修正后下泄量，实现了对目标下泄量的直接修正，从而增大对于下泄量误差的纠正幅度，提高对于下泄量误差的纠正效果。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请实施例中提供的水库的泄水控制方法的一个实施例流程示意图；图2是本申请实施例中提供的水库的泄水控制方法的另一个实施例流程示意图；图3是本申请实施例中提供的水库的泄水控制方法的再一个实施例流程示意图；图4是本申请实施例中的下游湖泊生态系统的用水量效益函数的一个实施例示意图；图5是本申请实施例中参数Cv不同取值时的数值试验计算出的Δvar的一个实施例箱形图；图6是本申请实施例中参数ρflow不同取值时的数值试验计算出的Δvar的一个实施例箱形图；图7是本申请实施例中参数μ不同取值时的数值试验计算出的Δvar的一个实施例箱形图；图8是本申请实施例中参数σ不同取值时的数值试验计算出的Δvar的一个实施例箱形图；图9是本申请实施例中参数u不同取值时的数值试验计算出的Δvar的一个实施例箱形图；图10是本申请实施例中参数Cv不同取值时的均方根误差的一个实施例示意图；图11是本申请实施例中参数Cv不同取值时的连续排名概率得分的一个实施例示意图；图12是本申请实施例中提供的水库的泄水控制装置的一个实施例结构示意图；图13是本申请实施例中提供的计算机设备的一个实施例终端结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述。在本申请的描述中，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个所述特征。在本申请的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。在本申请中，“一些实施例中”一词用来表示“用作例子、例证或说明”。本申请中被描述为“一些实施例中”的任何实施例不一定被解释为比其它实施例更优选或更具优势。需要说明的是，本申请实施例系统由于是在计算机设备中执行，各计算机设备的处理对象均以数据或信息的形式存在，例如时间，实质为时间信息，可以理解的是，后续实施例中若提及尺寸、数量、位置等，均为对应的数据存在，以便计算机设备进行处理，具体此处不作赘述。相关技术中，不确定性对水库生态调度性能有着显著影响，尤其是实时水库调度。实时水库调度的入库流量信息主要来自实时的水文预报。水文预报得到的入库流量的预测结果经常是不准确的。入库流量固有的不确定性，是影响入库流量准确性和水库生态调度性能的重要因素。在水库生态调度中，入库流量决定了水库生态调度方案，水库下泄量大小及下泄时间也是由入库流量决定的。如果入库流量具有不确定性，相应地，水库的下泄量也必然具有不确定性。因此，目前一般是通过降低入库流量的预测误差来减少这种不确定性。但是，预测到的入库流量具有不可避免的不确定性，会导致“最优”下泄量不是最优的，进而导致水库下泄也具有不确定性。基于此，本申请实施例提供一种水库的泄水控制方法、设备及介质，以下分别进行详细说明。参照图1，在一实施例中，水库的泄水控制方法包括：101、获取目标水库的预测入库流量。在本实施例中，目标水库为需要找到“最优”下泄量的水库。目标水库具体可以是供水型水库，以向下游湖泊生态系统供水，当然，目标水库也可以是发电为主的水库。预测入库流量指目标水库在未来时刻的入库流量的预测值，该预测入库流量可从水文预报信息中获取，水文预报信息可通过目标水库所在区域的径流预报得到。在另一些实施例中，该预测入库流量也可基于当前和/或历史的实际入库流量，通过预测算法计算得到。预测算法例如可以是ARIMA等基于时间序列的算法，也可以是确定性径流预报的模拟算法，在此不做限定。102、确定预测入库流量对应的目标下泄量。在本实施例中，预测入库流量对应的目标下泄量是指：基于目标水库的水库生态调度模型，根据预测入库流量确定出的“最优”下泄量。水库生态调度模型的目标在于，计算出的“最优”下泄量可保证目标水库的下游湖泊生态系统的健康、下泄量带来的效益等。目标水库的水库生态调度模型可以是目前的任一水库生态调度模型，在此不做限定。103、获取目标水库的下泄量转换模型，下泄量转换模型中包括未修正下泄量与修正后下泄量之间的关联关系。在本实施例中，下泄量转换模型用于修正下泄量中的误差，并将未修正下泄量转换为修正后下泄量。下泄量转换模型可以是贝叶斯联合概率模型，也可以是二项分布模型等概率分布模型，又或者是神经网络模型等。可以理解的是，下泄量转换模型定量了下泄量的不确定性，也即下泄量中的误差。104、将目标下泄量作为一个未修正下泄量，利用下泄量转换模型，确定目标下泄量对应的修正后下泄量。在本实施例中，将目标下泄量作为一个未修正下泄量，并将该未修正下泄量输入至下泄量转换模型，下泄量转换模型即可基于输入的未修正下泄量，定量下泄量的不确定性，并输出目标下泄量对应的修正后下泄量。在一些实施例中，以下泄量转换模型为贝叶斯联合概率模型为例，关联关系可以是以未修正下泄量为条件时修正后下泄量的条件概率分布。此时，将目标下泄量作为一个未修正下泄量，利用下泄量转换模型，确定目标下泄量对应的修正后下泄量，可以包括：将目标下泄量作为一个未修正下泄量，输入至下泄量转换模型，从而基于以目标下泄量为条件时修正后下泄量的条件概率分布，确定目标下泄量对应的修正后下泄量；接收下泄量转换模型输出的目标下泄量对应的修正后下泄量。105、输出目标下泄量对应的修正后下泄量，以对目标水库进行泄水控制处理。在本实施例中，目标下泄量对应的修正后下泄量的输出方式可以是：向用户终端显示该修正后下泄量，以使用户基于该修正后下泄量对目标水库进行泄水控制处理。目标下泄量对应的修正后下泄量的输出方式也可以是：直接发送包括该修正后下泄量的泄水控制指令，从而触发对目标水库的泄水控制处理。本实施例公开的技术方案中，通过确定预测入库流量对应的目标下泄量，再利用下泄量转换模型，将目标下泄量转换为修正后下泄量，实现了对目标下泄量的直接修正，从而增大对于下泄量误差的纠正幅度，提高对于下泄量误差的纠正效果。在另一实施例中，如图2所示，对下泄量转换模型的生成过程进行描述。具体地，在图1所示实施例的基础上，步骤101之前，还包括：201、获取目标水库的第一入库流量序列，第一入库流量序列中包括按照时间先后排序的多个预设理想入库流量。在本实施例中，第一入库流量序列为预设理想入库流量的序列。预设理想入库流量是指目标水库的准确的入库流量，该预设理想入库流量中不包含入库流量预测时产生的预测误差。多个预设理想入库流量按照时间先后排序，具体是指入库流量的径流进入目标水库的时间先后顺序。在一些实施例中，预设理想入库流量可按照水文学分析方法中的预设入库流量规则随机生成，预设入库流量规则例如Thomas-Fiering模型。在Thomas-Fiering模型中，预设理想入库流量的公式如下：其中，It+1是t时刻生成的预设理想入库流量，μ是预设理想入库流量的均值，ρflow是第一入库流量序列的相关系数，Cv是预设的变异系数，δ是标准正态随机数，其均值为0，方差为1。预设理想入库流量的取值设置为不小于0。从上式可以看出，预设理想入库流量由μ、ρflow、Cv这三个参数决定。202、基于第一入库流量序列，确定目标水库的第二入库流量序列，第二入库流量序列中包括按照时间先后排序且与预设理想入库流量对应的预设预测入库流量。在本实施例中，第二入库流量序列为预设预测入库流量的序列。预设预测入库流量是对于相应预设理想入库流量的预测值，该预设预测入库流量中包含入库流量预测时产生的预测误差。由于预设理想入库流量中不包含入库流量预测时产生的预测误差，因此在确定第二入库流量序列时，需要在第一入库流量序列的基础上，加上相应的预测误差，从而得到第二入库流量序列。在一些实施例中，基于第一入库流量序列，确定目标水库的第二入库流量序列，可以包括：获取预设的随机误差序列，随机误差序列中包括按照时间先后排序的多个预设随机误差；基于随机误差序列，对第一入库流量序列进行误差叠加处理，得到第二入库流量序列，例如将第一入库流量序列中排名第一的预设理想入库流量，加上随机误差序列中排名第一的预设随机误差，即可得到第二入库流量序列中排名第一的预设预测入库流量，将第一入库流量序列中排名第二的预设理想入库流量，加上随机误差序列中排名第二的预设随机误差，即可得到第二入库流量序列中排名第二的预设预测入库流量，可以看出，第一入库流量序列中的预设理想入库流量、随机误差序列中的预设随机误差、第二入库流量序列中的预设预测入库流量的位置是一一对应的。在一些实施例中，在随机误差序列中，前第一数量的多个预设随机误差的方差，大于前第二数量的多个预设随机误差的方差，第一数量大于第二数量，也即在随机误差序列中，按照时间先后排序的多个预设随机误差整体呈逐渐增大的趋势，这是因为在按照时间先后排序的多个预设预测入库流量中，排序越靠后的预设预测入库流量的时间点距离当前时间点越远，其预测误差往往越大，因此通过将按照时间先后排序的多个预设随机误差，设置为整体呈逐渐增大的趋势，可以更加准确的模拟出预测误差的这种特点，使得确定出的第二入库流量序列更加准确。例如随机误差序列中按照时间先后排序的多个预设随机误差ΔIt服从高斯分布，且方差随预测步长线性增加：ΔIt~Nζ2t=min其中，ut和ζ2t分别是前t时刻预设随机误差的均值和方差，ζ2t表征了预设随机误差的不确定性水平。ζ2t以σ2的速率，随着时间t的增加而增加，且不超过第一入库流量序列中预设理想入库流量的方差μ2Cv2，这说明预设随机误差是异方差的。可以看出，预设预测入库流量由u、σ这两个参数决定。203、确定第二入库流量序列对应的未修正下泄量序列。在本实施例中，未修正下泄量序列中包括按照时间先后排序且与预设预测入库流量对应的未修正下泄量。在确定第二入库流量序列对应的未修正下泄量序列时，具体是按照步骤102中确定预测入库流量对应的目标下泄量的方式，来确定预设预测入库流量对应的未修正下泄量。在得到各预设预测入库流量对应的未修正下泄量后，即可得到第二入库流量序列对应的未修正下泄量序列。204、确定第一入库流量序列对应的修正后下泄量序列。在本实施例中，修正后下泄量序列中包括按照时间先后排序且与预设理想入库流量对应的修正后下泄量。在确定第一入库流量序列对应的修正后下泄量序列时，具体是按照步骤102中确定预测入库流量对应的目标下泄量的方式，来确定预设理想入库流量对应的修正后下泄量。在得到各预设理想入库流量对应的修正后下泄量后，即可得到第一入库流量序列对应的修正后下泄量序列。205、基于未修正下泄量序列、修正后下泄量序列，生成下泄量转换模型。在本实施例中，基于未修正下泄量序列、修正后下泄量序列，来确定未修正下泄量与修正后下泄量之间的关联关系，即可得到下泄量转换模型。以下泄量转换模型为贝叶斯联合概率模型为例，基于未修正下泄量序列、修正后下泄量序列，来确定未修正下泄量与修正后下泄量之间的关联关系，即是利用贝叶斯推断，确定以未修正下泄量为条件时修正后下泄量的条件概率分布。在一些实施例中，在基于未修正下泄量序列、修正后下泄量序列，生成下泄量转换模型的步骤中，是以一部分序列数据作为模型的训练数据，另一部分序列数据作为模型的验证数据。具体地，基于未修正下泄量序列、修正后下泄量序列，生成下泄量转换模型，可以包括：在未修正下泄量序列中，确定出第一子序列和第二子序列，第一子序列和第二子序列一般为未修正下泄量序列中的不同序列部分；在修正后下泄量序列中，确定出第一子序列对应的第三子序列，以及确定出第二子序列对应的第四子序列，其中，第三子序列在修正后下泄量序列中的位置与第一子序列在未修正下泄量序列中的位置相同，第四子序列在修正后下泄量序列中的位置与第二子序列在未修正下泄量序列中的位置相同；采用第一子序列、第三子序列进行模型训练，以及采用第二子序列、第四子序列进行模型验证，得到下泄量转换模型。在一些实施例中，以下泄量转换模型为贝叶斯联合概率模型为例，未修正下泄量与修正后下泄量之间的关联关系可采用转换后的二元正态联合分布公式来表示。具体地，采用第一子序列、第三子序列进行模型训练，可以包括：采用对数正弦变换，将第一子序列中的未修正下泄量转化成/＞，以及将第三子序列中的修正后下泄量R转化成G，其中，G的对数正弦公式示例如下：其中，j和k为贝叶斯最大后验方法中用于估计转换的参数值；转换后的二元正态联合分布公式，用来表征转换后的和R之间的关系，示例如下：和/＞分别是其均值和方差，并设置参数/＞。基于数据序列D，D={z，t=1,2,...,n}，利用贝叶斯推断，估计参数θ的不确定性，以获得参数θ的后验分布：p∝ pp其中，p是参数θ的后验分布，函数p是参数θ的先验分布，p是参数θ的似然函数。使用马尔科夫链蒙特卡罗方法中的Gibbs采样方法进行参数不确定性分析，迭代次数设置为5000，马尔科夫链的长度设置为25000，从而完成模型训练。相应地，在将目标下泄量作为一个未修正下泄量，输入至下泄量转换模型，从而基于以目标下泄量为条件时修正后下泄量的条件概率分布，确定目标下泄量对应的修正后下泄量的步骤中，下泄量转换模型也会先将输入的目标下泄量进行对数正弦变换。经过对数正弦变换后，目标下泄量对应的修正后下泄量G在目标下泄量条件下的均值和方差可以写作：G的随机采样可以由条件分布Gn~N,var)推导得到。最后，通过对数正弦的逆转换，即可得到目标下泄量对应的修正后下泄量G。在一些实施例中，采用第二子序列、第四子序列进行模型验证，可以包括：利用训练完毕的模型，确定第二子序列对应的第五子序列，例如将第二子序列中的未修正下泄量输入至训练完毕的模型中，训练完毕的模型输出的修正后下泄量即为第五子序列中的修正后下泄量，第五子序列中包括按照时间先后排序的多个修正后下泄量；以第四子序列为第五子序列的期望结果，确定第五子序列与第四子序列之间的均方根误差以及连续排名概率得分；基于均方根误差、连续排名概率得分，确定训练完毕的模型是否合格，例如在均方根误差小于第一预设阈值，且连续排名概率得分小于第二预设阈值时，判定第五子序列与其期望结果较为接近，因此可判定训练完毕的模型合格。在训练完毕的模型合格时，即可将训练完毕的模型作为下泄量转换模型。此外，采用第二子序列、第四子序列进行模型验证时的验证方式具体可以是留一法交叉验证。其中，均方根误差评估了修正后下泄量和修正后下泄量的期望结果之间的样本标准偏差，说明了样本的离散程度，并通过整体平均值来计算。以图10为例，示出了不同Cv下的上述均方根误差结果，图10中的圆圈代表未修正下泄量的均方根误差，加号“+”代表修正后下泄量的均方根误差的平均结果。可以看出，修正后下泄量的均方根误差的平均结果始终小于未修正下泄量的均方根误差。在不同μ、ρflow、u、σ下的上述均方根误差结果与Cv类似，在此不做赘述。因此可以确定：经过下泄量转换模型的处理，可以有效地降低均方根误差，将误差控制在一个很低的水平，从而减小下泄量的不确定性。而连续排名概率得分从整体上综合评估了样本的精度和可靠性，用于评估连续变量的概率预测，指示预测概率分布与修正后下泄量之间的距离。以图11为例，示出了不同Cv下的上述连续排名概率得分结果，图11中的圆圈代表未修正下泄量的连续排名概率得分，加号“+”代表修正后下泄量的连续排名概率得分的平均结果。可以看出，修正后下泄量的连续排名概率得分的平均结果始终小于未修正下泄量的连续排名概率得分。在不同μ、ρflow、u、σ下的上述连续排名概率得分结果与Cv类似，在此不做赘述。因此可以确定：经过下泄量转换模型的处理，可以有效地降低连续排名概率得分，从而减小下泄量的不确定性。需要说明的是，未修正下泄量是个确定值，而经过下泄量转换模型计算得到的修正后下泄量包含了一系列的采样值，这些采样的可能性在数值上代表着不确定性。均方根误差仅基于修正后下泄量的采样均值得到的，然而连续排名概率得分充分考虑了修正后下泄量采样值的分布和变化，因此，综合均方根误差和连续排名概率得分，可以更好地进行模型验证。在本实施例公开的技术方案中，通过确定未修正下泄量序列以及修正后下泄量序列，基于未修正下泄量序列、修正后下泄量序列，生成下泄量转换模型，即可定量下泄量的不确定性，以便于对下泄量中的误差进行纠正。在再一实施例中，如图3所示，在图1至图2任一实施例所示的基础上，步骤102包括：301、获取目标水库的下游湖泊生态系统的预设需水量。在本实施例中，下游湖泊生态系统的预设需水量是指下游湖泊生态系统的需要用水量。该预设需水量可基于实际需求预先设定。302、获取下游湖泊生态系统的缺水系数函数，缺水系数函数中包括下游湖泊生态系统的缺水量与预设需水量的比值，缺水量基于预设需水量与目标下泄量的差值确定。在本实施例中，下游湖泊生态系统的缺水系数函数的函数值，表征下游湖泊生态系统的缺水程度。而为了保证下游湖泊生态系统的用水需求，需要最小化缺水系数函数的函数值，也即：其中，SI为缺水系数函数的函数值，H为预见期，预见期小于目标水库的调度期N，TSt为t时刻下游湖泊生态系统的缺水量，TSt=max，TDt为t时刻下游湖泊生态系统的预设需水量，rt为t时刻目标水库的目标下泄量，St-1为t-1时刻目标水库的蓄水量，qt为t时刻目标水库的预测入库流量，Smin为目标水库的预设最小蓄水量，Smax为目标水库的预设最大蓄水量，rmax为目标水库的预设最大下泄量，S0为目标水库在调度期的初始蓄水量，初始蓄水量一般设置为目标水库的调节库容S的一半。303、基于缺水系数函数，确定小于预测入库流量的目标下泄量。在本实施例中，在保证下游湖泊生态系统的用水需求，以及保证目标水库的蓄水量的前提下，基于缺水系数函数，即可确定出小于预测入库流量的目标下泄量。可以看出，目标水库的水库生态调度模型中包括该缺水系数函数。在一些实施例中，在确定目标下泄量，还可考虑下游湖泊生态系统的用水的效益值。具体地，基于缺水系数函数，确定小于预测入库流量的目标下泄量，可以包括：获取下游湖泊生态系统的用水量效益函数，用水量效益函数中包括随目标下泄量的增大而先增大后减小的用水量效益值；基于用水量效益函数、缺水系数函数，确定小于预测入库流量的目标下泄量，也即在保证下游湖泊生态系统的用水需求，以及保证目标水库的蓄水量的前提下，还可进一步考虑最大化用水量效益函数的函数值，从而在对目标水库进行泄水控制时，兼顾下游湖泊生态系统的用水需求以及用水效益。可以看出，目标水库的水库生态调度模型中包括缺水系数函数和用水量效益函数。当然，目标水库的水库生态调度模型中还可包括其他维度的函数，从而综合考虑目标水库的下泄量控制对更多维度的影响因素。以目标水库为供水型水库为例，下游湖泊生态系统的用水量效益函数可表示为ft，用水量效益函数的函数值仅取决于目标水库的下泄量，因此需要最大化用水量效益函数的函数值：其中，Rt为t时刻目标水库的“最优”下泄量，It为t时刻目标水库的理想入库流量，l是库容损失率，通常被忽略不计，rmin为目标水库的预设最小下泄量，SH为目标水库在预见期的末库容，ST为目标水库在调度期的末库容。在实际的水库下泄控制中，Rt和It的获取难度较大，因此通常采用t时刻目标水库的目标下泄量替换Rt，以及采用t时刻目标水库的预测入库流量/＞替换It。经数据分析，用水量效益函数往往是凸性的，也即用水量效益值随目标下泄量的增大而先增大后减小，例如图4中所示。ft例如可以是ft= Rt)。在本实施例公开的技术方案中，获取目标水库的下游湖泊生态系统的预设需水量，获取下游湖泊生态系统的缺水系数函数，基于缺水系数函数，确定小于预测入库流量的目标下泄量，从而保证下游湖泊生态系统的用水需求。此外，需要说明的是，对于目标水库的水库生态调度模型，在确定出目标水库的预测入库流量的序列后，就可以确定相应的目标下泄量的序列。但是，在现实情况中，目标水库的预测入库流量主要通过实时的水文预报获得，因此预测入库流量中总是包含不确定性：=It+ΔIt其中，是t时刻的预测入库流量，It是t时刻的理想入库流量，ΔIt是t时刻的预测误差，表示预测入库流量时的不确定性。因此，预测入库流量时的不确定性可表示为：ΔIt=-It相应地，下泄量的不确定性可表示为：ΔRt=-Rt其中，ΔRt为t时刻的下泄量误差，为t时刻的目标下泄量，Rt为t时刻的“最优”下泄量。Δvar=var-varΔvar是ΔRt和ΔIt两者方差值之差，表示不确定性水平从预测入库流量至目标下泄量的改变程度。假设目标水库在调度期的初始库容和末库容是相同的，而为了保证初始库容和末库容相等，在调度期内，预测入库流量和目标下泄量的积累误差也需相等：此时，ΔRt和ΔIt两者的方差值有且只有三种情况：var＞var，var=var，var＜var。实际上，总是能得到var＞var，也即不确定性水平从预测入库流量至目标下泄量会增大，这一结论可以通过下述的示例来证实。在示例中，设计了5种数值试验，5种数值试验分别考虑了五个参数：μ、ρflow、Cv、u、σ，对Δvar的影响。具体地，利用单一变量法，将这五个参数随机生成。表1总结了5种数值试验的参数组合值。这五个参数值的范围，涵盖了参数取值可能存在的所有情况，每个试验进行200次数值模拟。表1示例如下：5种数值试验计算出的Δvar分别如图5至图9中所示。从图5至图9可以看出，Δvar值在不同参数组合下基本上大于0，即ΔRt的方差值总是大于ΔIt的方差值。这个结果表明，经水库生态调度模型的水库生态调度后，流量的不确定性会增大。因此，在进行水库的下泄控制时，直接对目标下泄量进行误差纠正，纠正效果优于对预测入库流量进行误差纠正，也即直接对目标下泄量进行误差纠正可以更好地减小不确定性。为了更好实施本申请实施例中水库的泄水控制方法，在水库的泄水控制方法的基础之上，本申请实施例中还提供一种水库的泄水控制装置，如图12所示，水库的泄水控制装置1200包括第一获取模块1201、第一确定模块1202、第二获取模块1203、数据转换模块1204以及数据输出模块1205，具体如下：第一获取模块1201，用于获取目标水库的预测入库流量；第一确定模块1202，用于确定预测入库流量对应的目标下泄量；第二获取模块1203，用于获取目标水库的下泄量转换模型，下泄量转换模型中包括未修正下泄量与修正后下泄量之间的关联关系；数据转换模块1204，用于将目标下泄量作为一个未修正下泄量，利用下泄量转换模型，确定目标下泄量对应的修正后下泄量；数据输出模块1205，用于输出目标下泄量对应的修正后下泄量，以对目标水库进行泄水控制处理。本申请实施例还提供一种计算机设备，其集成了本申请实施例所提供的任一种水库的泄水控制装置。如图13所示，其示出了本申请实施例所涉及的计算机设备的结构示意图，具体来讲：该计算机设备可以包括一个或者一个以上处理核心的处理器1301、一个或一个以上计算机可读存储介质的存储器1302、电源1303和输入单元1304等部件。本领域技术人员可以理解，图13中示出的计算机设备结构并不以构建对计算机设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。其中：处理器1301是该计算机设备的控制中心，利用各种接口和线路连接整个计算机设备的各个部分，通过运行或执行存储在存储器1302内的软件程序和/或模块，以及调用存储在存储器1302内的数据，执行计算机设备的各种功能和处理数据，从而对计算机设备进行整体监控。可选地，处理器1301可包括一个或多个处理核心；优选的，处理器1301可集成应用处理器和调制解调处理器，其中，应用处理器主要处理操作系统、用户界面和应用程序等，调制解调处理器主要处理无线通信。可以理解的是，上述调制解调处理器也可以不集成到处理器1301中。存储器1302可用于存储软件程序以及模块，处理器1301通过运行存储在存储器1302的软件程序以及模块，从而执行各种功能应用以及数据处理。存储器1302可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序等；存储数据区可存储根据计算机设备的使用所创建的数据等。此外，存储器1302可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他易失性固态存储器件。相应地，存储器1302还可以包括存储器控制器，以提供处理器1301对存储器1302的访问。计算机设备还包括给各个部件供电的电源1303，优选的，电源1303可以通过电源管理系统与处理器1301逻辑相连，从而通过电源管理系统实现管理充电、放电、以及功耗管理等功能。电源1303还可以包括一个或一个以上的直流或交流电源、再充电系统、电源故障检测电路、电源转换器或者逆变器、电源状态指示器等任意组件。该计算机设备还可包括输入单元1304，该输入单元1304可用于接收输入的数字或字符信息，以及产生与用户设置以及功能控制有关的键盘、鼠标、操作杆、光学或者轨迹球信号输入。尽管未示出，计算机设备还可以包括显示单元等，在此不再赘述。具体在本实施例中，计算机设备中的处理器1301会按照如下的指令，将一个或一个以上的应用程序的进程对应的可执行文件加载到存储器1302中，并由处理器1301来运行存储在存储器1302中的应用程序，从而实现各种功能，如下：获取目标水库的预测入库流量；确定预测入库流量对应的目标下泄量；获取目标水库的下泄量转换模型，下泄量转换模型中包括未修正下泄量与修正后下泄量之间的关联关系；将目标下泄量作为一个未修正下泄量，利用下泄量转换模型，确定目标下泄量对应的修正后下泄量；输出目标下泄量对应的修正后下泄量，以对目标水库进行泄水控制处理。本领域普通技术人员可以理解，上述实施例的各种方法中的全部或部分步骤可以通过指令来完成，或通过指令控制相关的硬件来完成，该指令可以存储于一计算机可读存储介质中，并由处理器进行加载和执行。为此，本申请实施例提供一种计算机可读存储介质，该存储介质可以包括：只读存储器、随机存取记忆体、磁盘或光盘等。其上存储有计算机程序，所述计算机程序被处理器进行加载，以执行本申请实施例所提供的任一种水库的泄水控制方法中的步骤。例如，所述计算机程序被处理器进行加载可以执行如下步骤：获取目标水库的预测入库流量；确定预测入库流量对应的目标下泄量；获取目标水库的下泄量转换模型，下泄量转换模型中包括未修正下泄量与修正后下泄量之间的关联关系；将目标下泄量作为一个未修正下泄量，利用下泄量转换模型，确定目标下泄量对应的修正后下泄量；输出目标下泄量对应的修正后下泄量，以对目标水库进行泄水控制处理。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见上文针对其他实施例的详细描述，此处不再赘述。以上各个操作的具体实施可参见前面的实施例，在此不再赘述。以上对本申请实施例所提供的一种水库的泄水控制方法、设备及介质进行了详细介绍，本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请的方法及其核心思想；同时，对于本领域的技术人员，依据本申请的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本申请的限制。
