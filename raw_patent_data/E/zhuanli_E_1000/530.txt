标题title
油井地层电导率信息的获取方法
摘要abst
本发明提供了一种地层电导率信息的获取方法，包括：S1、对金属套管内轴向的不同测点电磁场进行测量，得到个测点的轴向实测电场；计算接地导线源在所有离散圆环中心处激发的轴向初始电场；S2、建立离散圆环内轴向电场之间相互关系→形成第二类弗雷德方程组→得到个离散圆环内轴向电场；S3、得到套管内个测点轴向预测电场；S4、建立数据拟合项，结合光滑约束项建立反演目标函数；S5、计算数据拟合误差并进行判断：若数据拟合误差小于设定阈值，则输出层状模型电导率数据作为油井地层电导率信息，结束本次的油井地层电导率信息的获取；若数据拟合误差大于设定阈值则对电导率值进行更新，再基于更新后的电导率值返回S2。
权利要求书clms
1.一种油井地层电导率信息的获取方法，其特征在于，包括以下步骤：步骤一、基于布设于地表的接地导线源以及置于金属套管内的电磁传感器，对金属套管内轴向的不同测点电磁场进行测量，得到个测点的轴向实测电场/＞；设定油井地层为层水平均匀层状模型并给出各水平均匀地层的顶部厚度与深度以及将每层水平均匀层状模型赋予电导率/＞，将金属套管剖分为/＞个离散圆环，将接地导线源离散设置为/＞个电偶极子源，使用解析法计算接地导线源在所有离散圆环中心处激发的轴向初始电场/＞；其中：取大于等于1的自然数；/＞取大于等于1的自然数；/＞取大于等于1的自然数，且每个离散圆环均不跨越相邻两个地层；/＞取大于等于1的自然数；步骤二、基于离散圆环中心处激发的轴向初始电场建立离散圆环内轴向电场之间相互关系；基于离散圆环内轴向电场之间相互关系形成第二类弗雷德方程组；基于第二类弗雷德方程组求解方程组得到个离散圆环内轴向电场/＞；步骤三、基于个离散圆环内轴向电场/＞插值得到套管内/＞个测点轴向预测电场；步骤四、基于个测点的轴向实测电场/＞和套管内/＞个测点轴向预测电场/＞建立数据拟合项，结合光滑约束项建立反演目标函数/＞；步骤五、基于个测点的轴向实测电场/＞和套管内/＞个测点轴向预测电场/＞计算数据拟合误差/＞，并对数据拟合误差/＞进行判断：若数据拟合误差小于设定阈值，则输出层状模型电导率数据作为油井地层电导率信息，结束本次的油井地层电导率信息的获取；若数据拟合误差/＞大于设定阈值则进入步骤六；步骤六、逐一改变每层水平均匀层状模型赋予电导率，计算并存贮因每层水平均匀层状模型赋予电导率/＞改变而导致各测点轴向预测电场产生扰动的扰动值，形成测点轴向预测电场对每层水平均匀层状模型赋予电导率/＞的灵敏度矩阵；步骤七、对反演目标函数使用泰勒级数展开，忽略2次以上高次项，使用灵敏度矩阵分别表达反演目标函数/＞的梯度矩阵/＞以及反演目标函数/＞的海森矩阵/＞；步骤八、基于反演目标函数的海森矩阵/＞和反演目标函数/＞的梯度矩阵/＞，得到层状模型电导率更新量/＞，从而将步骤一中每层水平均匀层状模型赋予电导率/＞进行更新，得到更新后的电导率/＞；步骤九、基于更新后的电导率返回步骤二。2.根据权利要求1所述的油井地层电导率信息的获取方法，其特征在于，得到个测点的轴向实测电场/＞的具体过程如下：在地表布设接地导线源并通以固定频率电流，将电磁传感器置于金属套管内，并沿金属套管的延伸方向进行移动同时对金属套管内轴向的不同测点电磁场进行测量，得到个测点的轴向实测电场/＞。3.根据权利要求1所述的油井地层电导率信息的获取方法，其特征在于，所述步骤二中建立离散圆环内轴向电场之间相互关系的具体过程如下：忽略离散圆环内径向电场；对离散圆环中心处激发的轴向初始电场使用格林函数建立离散圆环内轴向电场之间相互关系。4.根据权利要求1所述的油井地层电导率信息的获取方法，其特征在于，所述步骤二中第二类弗雷德方程组的表达式如下：；其中，为/＞数组，代表/＞个离散圆环的轴向电场；/＞为/＞数组，代表/＞个离散圆环的轴向初始电场；/＞为/＞数组，代表各离散圆环与其所在地层电导率差异；为/＞矩阵，代表/＞个离散圆环轴向电场之间的相互作用。5.根据权利要求4所述的油井地层电导率信息的获取方法，其特征在于，所述步骤二中所述的矩阵各元素具体为：，，；当不同单元之间相互作用时：当/＞；当同一单元内部作用时，对单元进行二次剖分，得到：当/＞；其中，为离散圆环的内半径，/＞为离散圆环的外半径，/＞为作用的离散圆环的编号，为被作用的离散圆环的编号，/＞为/＞号离散圆环中心的纵坐标，/＞为/＞号离散圆环中心的纵坐标，/＞为/＞号离散圆环所在地层的电导率，/＞为积分变量，/＞为单位虚数，/＞为发射电流频率，/＞为真空磁导率，/＞为离散圆环的长度，/＞为一阶贝塞尔函数，/＞为波数。6.根据权利要求1所述的油井地层电导率信息的获取方法，其特征在于，所述步骤三中的由离散圆环轴向电场插值得到所有测点预测电场的表达式如下：；其中，为/＞个套管内测点的轴向预测电场；/＞为/＞矩，其由三次样条插值函数决定。7.根据权利要求1所述的油井地层电导率信息的获取方法，其特征在于，所述步骤四中反演目标函数的表达式如下：；其中，为/＞矩阵，代表/＞个套管内测点轴向实测电场；/＞为正则化参数，用于平衡数据拟合项/＞与模型光滑项/＞；/＞是/＞阶的差分矩阵；为/＞阶矩阵，代表/＞个地层电导率参数。8.根据权利要求1所述的油井地层电导率信息的获取方法，其特征在于，所述步骤五中的数据拟合误差的表达式如下：。9.根据权利要求1所述的油井地层电导率信息的获取方法，其特征在于，所述步骤七中的反演目标函数的海森矩阵/＞的表达式为：；所述梯度矩阵的表达式为：；其中，为灵敏度矩阵的转秩。
说明书desc
技术领域本发明涉及电磁法油气勘探技术领域，尤其涉及一种油井地层电导率信息的获取方法。背景技术测井技术是一种地球物理手段，通过使用各种传感器记录数据，获取石油、煤及金属矿体开采过程中井下岩层的物理参数，从而服务与石油与矿产开采。传统的电磁法测井将发射源与传感器全部置于金属套管内，电磁信号受到油气开采井金属套管严重屏蔽，如何从微弱电磁信号数据获取地层电导率信息一直是油气测井工程难题。研究发现，有限元等理论计算方法可以获取金属套管对电磁测井数据的影响，从而去除套管对电磁场测井干扰，但计算效率低下无法满足快速获取油井地层电导率信息的需求。地表接地长导线源具有大功率、信号衰减慢的特点，能够有效加强井内电磁传感器信号强度；同时，油井地层结构相对简单，基于层状模型对油井地层结构进行近似，使用矩量法计算层状模型背景下套管内电磁测井信号具有高效性。利用地表接地导线源信号强、油井地层结构简单、矩量法高效的特点，提出一种获取油井地层电导率信息的套管内电磁测井方法及其数据解释方法以解决现有开发油气井电磁测井信号屏蔽与数据解释困难。发明内容本发明目的在于提供一种获取油井地层电导率信息的套管内电磁测井方法及其数据解释方法，旨在解决现有油田电磁测井装置信号微弱及数据解释困难的问题。本发明提供了一种油井地层电导率信息的获取方法，包括以下步骤：步骤一、基于布设于地表的接地导线源以及置于金属套管内的电磁传感器，对金属套管内的不同测点的轴向电磁场进行测量，得到个测点的轴向实测电场/＞；设定油井地层为层水平均匀层状模型并给出各水平均匀地层的顶部厚度与深度以及将每层水平均匀层状模型赋予电导率/＞，将金属套管剖分为/＞个离散圆环，将接地导线源离散设置为/＞个电偶极子源，使用解析法计算接地导线源在所有离散圆环中心处激发的轴向初始电场/＞；其中：取大于等于1的自然数；/＞取大于等于1的自然数；/＞取大于等于1的自然数，且每个离散圆环均不跨越相邻两个地层；/＞取大于等于1的自然数；步骤二、基于离散圆环中心处激发的轴向初始电场建立离散圆环内轴向电场之间相互关系；基于离散圆环内轴向电场之间相互关系形成第二类弗雷德方程组；基于第二类弗雷德方程组求解方程组得到个离散圆环内轴向电场/＞；步骤三、基于个离散圆环内轴向电场/＞插值得到套管内/＞个测点轴向预测电场/＞；步骤四、基于个测点的轴向实测电场/＞和套管内/＞个测点轴向预测电场建立数据拟合项，结合光滑约束项建立反演目标函数/＞；步骤五、基于个测点的轴向实测电场/＞和套管内/＞个测点轴向预测电场计算数据拟合误差/＞，并对数据拟合误差/＞进行判断：若数据拟合误差小于设定阈值，则输出层状模型电导率数据作为油井地层电导率信息，结束本次的油井地层电导率信息的获取；若数据拟合误差/＞大于设定阈值则进入步骤六；步骤六、逐一改变每层水平均匀层状模型赋予电导率，计算并存贮因每层水平均匀层状模型赋予电导率/＞改变而导致各测点轴向预测电场产生扰动的扰动值，形成测点轴向预测电场对每层水平均匀层状模型赋予电导率/＞的灵敏度矩阵；步骤七、对反演目标函数使用泰勒级数展开，忽略2次以上高次项，使用灵敏度矩阵分别表达反演目标函数/＞的梯度矩阵/＞以及反演目标函数/＞的海森矩阵/＞；步骤八、基于反演目标函数的海森矩阵/＞和反演目标函数/＞的梯度矩阵/＞，得到层状模型电导率更新量/＞，从而将步骤一中每层水平均匀层状模型赋予电导率/＞进行更新，得到更新后的电导率/＞；步骤九、基于更新后的电导率返回步骤二。可选的，得到个测点的中心轴向实测电场/＞的具体过程如下：在地表布设接地导线源并通以固定频率电流，将电磁传感器置于金属套管内，并沿金属套管的延伸方向进行移动同时对金属套管内不同测点的轴向电磁场进行测量，得到个测点的中心轴向实测电场/＞。可选的，所述步骤二中建立离散圆环内轴向电场之间相互关系的具体过程如下：忽略离散圆环的中心点径向电场；对离散圆环中心处激发的轴向初始电场使用格林函数建立离散圆环内轴向电场之间相互关系。可选的，所述步骤二中第二类弗雷德方程组的表达式如下：；其中，为/＞数组，代表/＞个离散圆环的轴向电场；/＞为/＞数组，代表个离散圆环的轴向初始电场；/＞为/＞数组，代表各离散圆环与其所在地层电导率差异；/＞为/＞矩阵，代表/＞个离散圆环轴向电场之间的相互作用。可选的，所述步骤二中所述的矩阵各元素具体为：，，；当不同单元之间相互作用时：当 /＞；当同一单元内部作用时，对单元进行二次剖分，得到：当/＞；其中，为离散圆环的内半径，/＞为离散圆环的外半径，/＞为作用的离散圆环的编号，/＞为被作用的离散圆环的编号，/＞为/＞号离散圆环中心的纵坐标，/＞为/＞号离散圆环中心的纵坐标，/＞为/＞号离散圆环所在地层的电导率，/＞为积分变量，/＞为单位虚数，为发射电流频率，/＞为真空磁导率，/＞为离散圆环的长度，/＞为一阶贝塞尔函数，/＞为波数。可选的，所述步骤三中的由离散圆环电场插值得到所有测点预测电场的表达式如下：；其中，为/＞个套管内测点轴向预测电场；/＞为/＞矩，其由三次样条插值函数决定。可选的，所述步骤四中反演目标函数的表达式如下：；其中，为/＞矩阵，代表/＞个套管内测点轴向实测电场；/＞为正则化参数，用于平衡数据拟合项/＞与模型光滑项/＞；/＞是/＞阶的差分矩阵；/＞为/＞阶矩阵，代表/＞个地层电导率参数。可选的，所述步骤五中的数据拟合误差的表达式如下：。可选的，所述步骤七中的反演目标函数的海森矩阵/＞的表达式为：；所述梯度矩阵的表达式为：；其中，为灵敏度矩阵的转秩。与现有技术相比，本发明具有以下有益效果：本发明提出的技术方案能在油井金属套管内开展电磁法测井工作，所提装置能够从金属套管内测量反映地层电导率信息的电磁场信号，所采用矩量法对层状模型下套管内轴向电磁场进行快速数值模拟，所使用反演手段能够从所测量测井电磁场信号中获取地层电导率信息。除了上面所描述的目的、特征和优点之外，本发明还有其它的目的、特征和优点。下面将参照图，对本发明作进一步详细的说明。附图说明构成本申请的一部分的附图用来提供对本发明的进一步理解，本发明的示意性实施例及其说明用于解释本发明，并不构成对本发明的不当限定。在附图中：图1是本发明实施例中一种油井地层电导率信息的获取方法的整体流程示意图；图2是本发明实施例中测井装置形式示意图；图2是本发明实施例中测井装置理论模型离散示意图；图3是本发明实施例中单个离散圆环几何参数示意图；图4是本发明实施例中基于三次样条插值获取的第一种层状模型下套管内轴向预测电场的曲线；图4是本发明实施例中基于三次样条插值获取的第二种层状模型下套管内轴向预测电场的曲线；图5是本发明实施例中反演过程迭代次数与数据拟合差曲线图；图6是本发明实施例中理论油井地层模型与反演解释结果对比图。具体实施方式以下是本发明的具体实施例并结合附图，对本发明的技术方案作进一步的描述，但本发明并不限于这些实施例。除非另有定义，本文所使用的所有的技术和科学术语与本发明的技术领域技术人员通常理解的含义相同。本文中在本发明说明书中所使用的术语只是为了描述具体的实施例的目的，不是旨在于限制本发明。本实施例：本实施案例中首先对油井测井装置形式进行描述，其中发射源位于地表，电磁传感器位于金属套管内部；使用接地导线源在油井地层内产生激发电流，将电磁传感器沿油气开发井移动，从而实现对套管内电磁场进行测量；将油井地层近似为水平均匀层状模型，在给定各地层厚度后对每个地层给定初始电导率；将层状介质中套管剖分为离散圆环，使用解析计算层状模型背景下，接地导线在套管内形成的初始电流，使用矩量法实现套管内电场正演；以套管内实测电场为数据拟合目标，基于套管内电场正演计算各地层电导率对套管内电场的灵敏函数，使用线性化反演理论，迭代更改层状模型电导率信息，最终获取油井各地层电导率。具体的，本发明所提供的一种油井地层电导率信息的获取方法，具体是指一种加强油井的电磁测井信号的装置形式与快速数据解释方法；参见图1所示，包括以下步骤：步骤一、参见图2所示，在地表布设接地导线源并通以固定频率电流，将电磁传感器置于金属套管内，并沿金属套管的高度方向进行移动同时对金属套管内轴向的不同测点电磁场进行测量，得到个测点的轴向实测电场/＞；参见图2所示，设定油井地层为层水平均匀层状模型并给出各水平均匀地层的顶部厚度与深度以及将每层水平均匀层状模型赋予电导率值/＞；将金属套管剖分为/＞个离散圆环；将接地导线源离散设置为/＞个电偶极子源，使用解析法计算接地导线源在所有离散圆环中心处激发的轴向初始电场；；其中，为/＞数组，代表地表发射源在/＞个离散圆环的轴向初始电场；/＞为矩阵，代表地表发射导线所离散的4个电偶极子各段偶极矩大小，/＞为/＞的格林函数矩阵，代表发射源离散得到的4个单位电偶极子源在/＞个离散圆环产生的轴向初始电场。步骤二、参见图3所示，忽略离散圆环内径向电场，认为圆环内轴向电场处处相等，对离散圆环中心处激发的轴向初始电场使用格林函数建立离散圆环内轴向电场之间相互关系，使用矩量法形成第二类弗雷德方程组，使用直接解法求解方程组得到离散圆环内轴向电场；进一步地，所述第二类弗雷德方程组的表达式如下：；其中，为/＞数组，代表/＞个离散圆环的轴向初始电场；/＞为/＞数组，代表各离散圆环与其所在地层电导率差异；/＞为/＞矩阵，代表/＞个离散圆环轴向电场之间的相互作用。进一步地，矩阵各元素具体为：，，；当不同单元之间相互作用时：当/＞；进一步地，当同一单元内部作用时，对单元进行二次剖分，得到：当/＞；其中，为离散圆环的内半径，/＞为离散圆环的外半径，/＞为作用的离散圆环的编号，/＞为被作用的离散圆环的编号，/＞为/＞号离散圆环中心的纵坐标，/＞为/＞号离散圆环中心的纵坐标，/＞为/＞号离散圆环所在地层的电导率，/＞为积分变量，/＞为单位虚数，为发射电流频率，/＞为真空磁导率，/＞为离散圆环的长度，/＞为一阶贝塞尔函数，/＞为波数。步骤三、使用三次样条函数将步骤二中所获取的个离散圆环内轴向电场插值得到套管内/＞个测点轴向预测电场展示了基于三次样条插值获取的不同电导率层状模型下套管内轴向预测电场的曲线）；进一步地，由离散圆环电场插值得到所有测点预测电场的表达式如下：；其中，为/＞个套管内测点轴向预测电场；/＞为/＞矩，其由三次样条插值函数决定。步骤四、基于个测点的轴向实测电场/＞和套管内/＞个测点的轴向预测电场/＞建立数据拟合项，结合光滑约束项建立反演目标函数/＞：；其中，为/＞矩阵，代表/＞个套管内测点轴向实测电场；/＞为正则化参数，用于平衡数据拟合项/＞与模型光滑项/＞；/＞是/＞阶的差分矩阵；/＞为/＞阶矩阵，代表/＞个地层电导率参数；其中，为避免使用格林函数对同一圆环内部作用带来的奇异积分项，选择将圆环进一步剖分为二等份。步骤五、基于个测点的中心轴向实测电场/＞和套管内/＞个测点轴向预测电场/＞计算数据拟合误差/＞：；并对数据拟合误差进行判断：若数据拟合误差/＞小于设定阈值，则输出层状模型电导率数据作为油井地层电导率信息，结束本次的油井地层电导率信息的获取；若数据拟合误差/＞大于设定阈值则进入步骤六。步骤六、逐一改变每层水平均匀层状模型赋予电导率值，计算并存贮因每层水平均匀层状模型赋予电导率值/＞改变而导致各测点轴向预测电场产生扰动的扰动值，形成测点轴向预测电场对每层水平均匀层状模型赋予电导率值/＞的灵敏度矩阵/＞；进一步地，灵敏度矩阵的主要形式为：。其中：为1至/＞之间的测点编号所示），/＞为1至/＞之间的地层编号所示）。步骤七、对反演目标函数使用泰勒级数展开，忽略2次以上高次项，使用灵敏度矩阵分别表达反演目标函数/＞的梯度矩阵/＞和反演目标函数/＞的海森矩阵/＞；具体的，反演目标函数的海森矩阵/＞的表达式为：；其中，为灵敏度矩阵的转秩。反演目标函数的梯度矩阵/＞表达式为：。步骤八、使用反演目标函数的海森矩阵除以反演目标函数的梯度矩阵，得到层状模型电导率更新量：；从而将步骤一中每层水平均匀层状模型赋予电导率值进行更新，得到更新后的电导率值/＞：。具体的，参见图5展示了模型更迭过程中不同电导率层状模型所预测测点轴向电场数据与实际观测轴向电场数据的拟合差变化曲线。步骤九、基于更新后的电导率值返回步骤二。具体地，参见图6展示了最终反演获取的地层电导率结果与实际地层模型电导率对比。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
