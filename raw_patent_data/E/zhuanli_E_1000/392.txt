标题title
井下旋转井壁取心控制方法及系统
摘要abst
本发明公开了一种井下旋转井壁取心控制方法及系统，涉及探井技术领域，方法包括：获取针对于各个岩层特性的地层的实验取心数据和实井取心数据；实验取心数据包括实验取心运行参数和实验取心评价指标，实井取心数据包括实井取心运行参数和实井取心评价指标；对各个岩层特性的地层的实验取心数据和实井取心数据进行分析，确定各个岩层特性对应的预设取心操作参数；获取与待取心地层的岩层特性相匹配的预设取心操作参数；将预设取心操作参数与采集到的取心运行参数进行比对，根据比对结果生成取心操作指令；将取心操作指令下发给相应的执行机构进行执行。通过上述方式，能够实现取心作业的自动化控制，并且，能够提高取心仪对不同地层的适应能力。
权利要求书clms
1.一种井下旋转井壁取心控制方法，其特征在于，所述方法包括：获取针对于各个岩层特性的地层的实验取心数据以及实井取心数据；其中，所述实验取心数据包括实验取心运行参数以及实验取心评价指标，所述实井取心数据包括实井取心运行参数以及实井取心评价指标；对所述各个岩层特性的地层的实验取心数据以及实井取心数据进行分析，确定各个岩层特性对应的预设取心操作参数；获取与待取心地层的岩层特性相匹配的预设取心操作参数；将所述预设取心操作参数与采集到的取心运行参数进行比对，根据比对结果生成取心操作指令；将所述取心操作指令下发给相应的执行机构进行执行。2.根据权利要求1所述的井下旋转井壁取心控制方法，其特征在于，所述获取与待取心地层的岩层特性相匹配的预设取心操作参数进一步包括：接收地面系统下发的与待取心地层的岩层特性相匹配的预设取心操作参数；其中，所述地面系统在数据库中查询与待取心地层的岩层特性相匹配的预设取心操作参数。3.根据权利要求1所述的井下旋转井壁取心控制方法，其特征在于，所述将所述预设取心操作参数与采集到的取心运行参数进行比对，根据比对结果生成取心操作指令进一步包括：判断采集到的取心运行参数是否满足预设异常条件；其中，所述预设异常条件根据所述预设取心操作参数而设定；在所述取心运行参数满足所述预设异常条件的情况下，生成与所述预设异常条件相对应的取心操作指令。4.根据权利要求3所述的井下旋转井壁取心控制方法，其特征在于，所述在所述取心运行参数满足所述预设异常条件的情况下，生成与所述预设异常条件相对应的取心操作指令进一步包括：在所述取心运行参数满足钻进慢异常条件的情况下，生成慢速钻进指令以及钻进压力调速指令；在所述取心运行参数满足钻进遇阻遇卡异常条件的情况下，生成钻停指令以及排岩屑指令；在所述取心运行参数满足钻头卡死异常条件的情况下，生成钻退指令或者钻退指令和高速钻进指令。5.根据权利要求2所述的井下旋转井壁取心控制方法，其特征在于，所述将所述预设取心操作参数与采集到的取心运行参数进行比对之后，所述方法进一步包括：若比对结果表示取心作业发生异常情况，向所述地面系统发送预警信号，以使所述地面系统展示所述异常情况对应的预警图标。6.根据权利要求1-5中任一项所述的井下旋转井壁取心控制方法，其特征在于，所述方法进一步包括：实时检测井下仪器的平衡活塞位移；若根据所述平衡活塞位移确定发生漏油故障，向地面系统发送漏油故障信号以及油位异常参数，以供地面系统根据所述漏油故障信号展示相应的预警图标以及展示所述油位异常参数。7.根据权利要求6所述的井下旋转井壁取心控制方法，其特征在于，所述向地面系统发送漏油故障信号以及油位异常参数之后，所述方法进一步包括：生成关闭指令发送至电源控制器以关闭系统电源。8.根据权利要求1-5中任一项所述的井下旋转井壁取心控制方法，其特征在于，所述预设取心操作参数包括：预设钻进位移变化量、预设钻进压力值、第一预设取心动力电机转速值、第二预设取心动力电机转速值、预设取心动力电机电流值以及预设电流变化量；所述取心运行参数包括：单位时间内的钻进位移变化量、钻进压力值、取心动力电机转速值以及取心动力电机电流值。9.一种井下旋转井壁取心控制系统，其特征在于，所述系统用于实现如权利要求1-8中任一项所述的井下旋转井壁取心控制方法。
说明书desc
技术领域本发明涉及探井技术领域，具体涉及一种井下旋转井壁取心控制方法及系统。背景技术根据钻井地质设计要求，采用取心仪在井下获取圆柱形岩心的钻进过程，称为钻井取心。取心是提供地层剖面原始标本第一性资料的唯一途径，是储层评价中具有决定意义的手段，在油气勘探开发中具有不可取代的地位和作用。一般探井都要进行取心，大多数情况是在预期油气层井段钻井取心。但是，现有技术需要操作人员根据实际情况手动下发各种操作指令，缺乏一种自动取心控制方式。发明内容鉴于上述问题，提出了本发明以便提供一种克服上述问题或者至少部分地解决上述问题的井下旋转井壁取心控制方法及系统。根据本发明的一个方面，提供了一种井下旋转井壁取心控制方法，包括：获取针对于各个岩层特性的地层的实验取心数据以及实井取心数据；其中，实验取心数据包括实验取心运行参数以及实验取心评价指标，实井取心数据包括实井取心运行参数以及实井取心评价指标；对各个岩层特性的地层的实验取心数据以及实井取心数据进行分析，确定各个岩层特性对应的预设取心操作参数；获取与待取心地层的岩层特性相匹配的预设取心操作参数；将预设取心操作参数与采集到的取心运行参数进行比对，根据比对结果生成取心操作指令；将取心操作指令下发给相应的执行机构进行执行。可选地，获取与待取心地层的岩层特性相匹配的预设取心操作参数进一步包括：接收地面系统下发的与待取心地层的岩层特性相匹配的预设取心操作参数；其中，地面系统在数据库中查询与待取心地层的岩层特性相匹配的预设取心操作参数。可选地，将预设取心操作参数与采集到的取心运行参数进行比对，根据比对结果生成取心操作指令进一步包括：判断采集到的取心运行参数是否满足预设异常条件；其中，预设异常条件根据预设取心操作参数而设定；在取心运行参数满足预设异常条件的情况下，生成与预设异常条件相对应的取心操作指令。可选地，在取心运行参数满足预设异常条件的情况下，生成与预设异常条件相对应的取心操作指令进一步包括：在取心运行参数满足钻进慢异常条件的情况下，生成慢速钻进指令以及钻进压力调速指令；在取心运行参数满足钻进遇阻遇卡异常条件的情况下，生成钻停指令以及排岩屑指令；在取心运行参数满足钻头卡死异常条件的情况下，生成钻退指令或者钻退指令和高速钻进指令。可选地，将预设取心操作参数与采集到的取心运行参数进行比对之后，方法进一步包括：若比对结果表示取心作业发生异常情况，向地面系统发送预警信号，以使地面系统展示异常情况对应的预警图标。可选地，方法进一步包括：实时检测井下仪器的平衡活塞位移；若根据平衡活塞位移确定发生漏油故障，向地面系统发送漏油故障信号以及油位异常参数，以供地面系统根据漏油故障信号展示相应的预警图标以及展示油位异常参数。可选地，向地面系统发送漏油故障信号以及油位异常参数之后，方法进一步包括：生成关闭指令发送至电源控制器以关闭系统电源。可选地，预设取心操作参数包括：预设钻进位移变化量、预设钻进压力值、第一预设取心动力电机转速值、第二预设取心动力电机转速值、预设取心动力电机电流值以及预设电流变化量；取心运行参数包括：单位时间内的钻进位移变化量、钻进压力值、取心动力电机转速值以及取心动力电机电流值。根据本发明的另一方面，提供了一种井下旋转井壁取心控制系统，该系统用于实现上述井下旋转井壁取心控制方法。根据本发明实施例提供的井下旋转井壁取心控制方法及系统，获取针对于各个岩层特性的地层的实验取心数据以及实井取心数据；其中，实验取心数据包括实验取心运行参数以及实验取心评价指标，实井取心数据包括实井取心运行参数以及实井取心评价指标；对各个岩层特性的地层的实验取心数据以及实井取心数据进行分析，确定各个岩层特性对应的预设取心操作参数；获取与待取心地层的岩层特性相匹配的预设取心操作参数；将预设取心操作参数与采集到的取心运行参数进行比对，根据比对结果生成取心操作指令；将取心操作指令下发给相应的执行机构进行执行。通过上述方式，预先设定针对于不同岩层特性的取心操作参数，进行取心作业时，获取待取心地层相应的预设取心操作参数，通过比对预设取心操作参数和各机构的实际运行参数，自动生成取心操作指令，执行该取心操作指令以自动调整相应机构的运行状态，能够实现取心作业的自动化控制，并且，能够提高取心仪对不同地层的适应能力。上述说明仅是本申请技术方案的概述，为了能够更清楚了解本申请的技术手段，而可依照说明书的内容予以实施，并且为了让本申请的上述和其它目的、特征和优点能够更明显易懂，以下特举本申请的具体实施方式。附图说明通过阅读下文优选实施方式的详细描述，各种其他的优点和益处对于本领域普通技术人员将变得清楚明了。附图仅用于示出优选实施方式的目的，而并不认为是对本发明的限制。而且在整个附图中，用相同的参考符号表示相同的部件。在附图中：图1示出了本发明实施例提供的井下旋转井壁取心控制方法的流程图；图2示出了本发明另一实施例提供的井下旋转井壁取心控制方法的流程图；图3示出了本发明另一实施例提供的地面系统的结构示意图；图4示出了本发明另一实施例提供的液压动力控制系统的结构示意图；图5示出了本发明另一实施例提供的取心动力控制系统的结构示意图。具体实施方式下面将参照附图更详细地描述本申请的示例性实施例。虽然附图中显示了本申请的示例性实施例，然而应当理解，可以以各种形式实现本申请而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更透彻地理解本申请，并且能够将本申请的范围完整的传达给本领域的技术人员。首先，对本申请一个或多个实施例涉及的名词术语进行解释。井下旋转井壁取心控制系统：简称为取心仪，是在电缆测井过程中使用特殊的取心工具把地下岩石成块地取到地面上来的工具，其利用自身携带的取心钻头从井壁上旋转切取一段岩心，并将岩心放至储存机构中。取心仪主要由地面系统和井下仪器两部分组成。图1示出了本发明实施例提供的井下旋转井壁取心控制方法的流程图，如图1所示，该方法包括如下步骤：步骤S110，获取与待取心地层的岩层特性相匹配的预设取心操作参数。其中，预设取心操作参数包括钻头信息、针对于各机构设定的在取心过程中的参数等等。预先针对于各个不同岩层特性，设定有相应的取心操作参数，用于指导和优化实际的取心作业。进行取心作业时，首先确定待取心地层的岩层特性，再获取与该岩层特性相匹配的预设取心操作参数，以便根据预设取心操作参数自动控制取心作业。步骤S120，将预设取心操作参数与采集到的取心运行参数进行比对，根据比对结果生成取心操作指令。其中，取心运行参数是指取心仪的各机构在取心过程中的实际运行参数。在取心作业过程中，采集各机构的实际运行参数，将实际采集到的取心运行参数与预设取心操作参数进行比对，根据比较结果确定调整目标，进一步生成相应的取心操作指令。例如，通过比较确定钻进速度较慢，则可以生成用于调节钻进慢速的操作指令，或者，通过比较确定钻进出现遇卡异常，则生成用于解决遇卡异常的操作指令。步骤S130，将取心操作指令下发给相应的执行机构进行执行。将自动生成的取心操作指令下发给相应的执行机构，执行机构对取心操作指令进行响应，使得取心作业的进行情况符合预期，从而实现取心作业的自动化控制。在步骤S110之前，本实施例方法还包括生成各个岩层特性对应的预设取心操作参数的处理，具体步骤为：获取针对于各个岩层特性的地层的实验取心数据以及实井取心数据；其中，实验取心数据包括实验取心运行参数以及实验取心评价指标，实井取心数据包括实井取心运行参数以及实井取心评价指标；对各个岩层特性的地层的实验取心数据以及实井取心数据进行分析，确定各个岩层特性对应的预设取心操作参数。在实验室针对多种岩石样品采用不同的钻头以及不同的取心操作参数，进行模拟取心，记录取心过程中各机构的取心运行参数以及用于评估取心效果的指标，以形成实验取心数据。例如，针对于泥岩、砂岩、砾岩、花岗岩和疏松岩等常规地层岩石样品，开发出三种以上的钻头，分别采用不同钻压和钻头旋转速度进行模拟取心，通过纪录钻压、钻头旋转速度和取心时长等信息形成实验取心数据，并存储到实验取心数据库中。实井取心数据是根据实际取心作业中所记录的取心运行参数以及用于评估取心效果的指标形成的，存储在实井取心数据库中。实井取心数据库存储有实井取心作业过程中所收集到的井下环境信息、地层信息、仪器参数、样品信息等等。其中，井下环境信息包括井斜井温、泥浆比重、泥浆粘度等等；地层信息包括取心深度、地层岩性、裂缝孔洞、声波时差等等；仪器参数包括电机电流、钻头转速、钻进压力等；样品信息包括取心时间、岩心长度、胶结指数等。相应地，通过对大量的数据进行分析，比较各种取心运行参数下的取心效果，将取心效果最优时对应的取心运行参数确定为预设取心操作参数，将其与相应的岩层特性进行相关联存储。则在步骤S110中，获取预先存储的、与待取心地层的岩层特性相匹配的预设取心操作参数。根据本实施例的井下旋转井壁取心控制方法，获取针对于各个岩层特性的地层的实验取心数据以及实井取心数据；其中，实验取心数据包括实验取心运行参数以及实验取心评价指标，实井取心数据包括实井取心运行参数以及实井取心评价指标；对各个岩层特性的地层的实验取心数据以及实井取心数据进行分析，确定各个岩层特性对应的预设取心操作参数；获取与待取心地层的岩层特性相匹配的预设取心操作参数；将预设取心操作参数与采集到的取心运行参数进行比对，根据比对结果生成取心操作指令；将取心操作指令下发给相应的执行机构进行执行。通过上述方式，预先设定针对于不同岩层特性的取心操作参数，进行取心作业时，获取待取心地层相应的预设取心操作参数，通过比对预设取心操作参数和各机构的实际运行参数，自动生成取心操作指令，执行该取心操作指令以自动调整相应机构的运行状态，能够实现取心作业的自动化控制，并且，能够提高取心仪对不同地层的适应能力。图2示出了本发明另一实施例提供的井下旋转井壁取心控制方法的流程图，本实施例方法具体应用于井下旋转井壁取心控制系统的井下仪器中的井下主控板中，如图2所示，该方法包括以下步骤：步骤S210，接收地面系统下发的与待取心地层的岩层特性相匹配的预设取心操作参数。其中，地面系统在数据库中查询与待取心地层的岩层特性相匹配的预设取心操作参数。井下旋转井壁取心控制系统包括地面系统和井下仪器两大部分。地面系统将获取到的预设取心操作参数下发至井下仪器，井下仪器根据接收到的预设取心操作参数自动控制取心作业。其中，预设取心操作参数是预先形成并与岩层特性相关联存储在数据库中的，具体形成方式可参见前述实施例中的描述，在此不进行赘述。地面系统在数据库中进行查询，确定与待取心地层的岩层特性相近或者相同的目标岩层特性，将与目标岩层特性相关联的预设取心操作参数，确定为与待取心地层的岩层特性相匹配的预设取心操作参数。步骤S220，判断采集到的取心运行参数是否满足预设异常条件，在取心运行参数满足预设异常条件的情况下，生成与预设异常条件相对应的取心操作指令。预设取心操作参数包括：预设钻进位移变化量、预设钻进压力值、第一预设取心动力电机转速值、第二预设取心动力电机转速值、预设取心动力电机电流值以及预设电流变化量；取心运行参数包括：单位时间内的钻进位移变化量、钻进压力值、取心动力电机转速值以及取心动力电机电流值。其中，预设取心操作参数中还可以包含钻头信息，用于指导现场工程师选择合适的钻头。其中，预设异常条件根据预设取心操作参数而设定，预设异常条件包括：钻进慢异常条件、钻进遇阻遇卡异常条件以及钻头卡死异常条件。基于上述实验取心数据和实井取心数据，通过对取心过程中的异常情况以及相关运行参数进行分析研究，确定取心运行参数在何种情况下说明取心作业出现异常，从而得到各个预设异常条件。与预设异常条件相对应的取心操作指令是指用于解决异常问题的指令。需要说明的是，钻进动作和旋转取心动作通过不同的动力控制系统来控制，钻进动力控制系统包括钻进动力电机、钻进动力泵等等，取心动力控制系统包括：取心动力电机、取心动力泵、取心液压马达等等，取心动力电机带动取心动力泵，驱使取心液压马达旋转，带动取心钻头旋转，从而钻取地层岩心。其中，钻进动力泵和取心动力泵都可以是液压动力泵。在取心过程中，判断采集到的取心运行参数是否满足预设异常条件，即判断取心作业是否出现异常；若满足预设异常条件，则判定取心作业出现异常；若不满足预设异常条件，则判定取心作业正常。具体地，若单位时间内的钻进位移变化量大于或等于预设钻进位移变化量，取心动力电机电流值小于或等于预设取心动力电机电流值，以及，取心动力电机转速值达到第一预设取心动力电机转速值，则表明取心过程正常，无需对各机构的运行参数进行调整。在取心运行参数满足钻进慢异常条件的情况下，生成慢速钻进指令以及钻进压力调速指令。其中，钻进压力是指钻进动力泵输出端油液的压力，通过调整钻进压力能够控制钻头前进的速度。钻进慢异常条件具体为：单位时间内的钻进位移变化量小于或等于预设钻进位移变化量、取心动力电机电流值小于或等于预设取心动力电机电流值以及钻进压力值小于或等于预设钻进压力值，当取心运行参数满足上述条件时，则判定满足钻进慢异常条件，钻进出现慢速异常。为了解决该异常情况，生成相应的取心操作指令以使钻进恢复到正常状态，相应的正常状态的判定条件具体为：单位时间内的钻进位移变化量大于或等于预设钻进位移变化量、取心动力电机电流值小于或等于预设取心动力电机电流值。恢复到正常状态之后，下发操作指令以继续取心。其中，慢速钻进指令用于通过调整动力泵工作状态以减小钻进动力泵产生的液压动力。具体地，在有多个动力泵的取心仪中，具有如下三种动力泵工作状态：其他动力泵往钻进动力泵注油状态、钻进动力泵独立状态以及钻进动力泵向其他动力泵注油状态。例如，在初始状态为其他动力泵往钻进动力泵注油状态的情况下，慢速钻进指令可以是用于将动力泵工作状态调整为钻进动力泵独立状态的指令，在初始状态为钻进动力泵独立状态的情况下，慢速钻进指令可以是用于将动力泵工作状态调整为钻进动力泵向其他动力泵注油状态的指令。在出现钻进慢异常的情况下，更改为慢速模式，避免钻头被破坏。钻进压力调速指令用于调整钻进动力泵连接的钻压调速电磁阀组，以将钻进压力调整到需要的档位。例如，钻压调速电磁阀组对应如下几个档位的钻进压力：低压=200Psi，中低压=400Psi，中高压一=600Psi，中高压二=800Psi，高压一=1000Psi，高压二=1200Psi。其中，钻进压力调速指令可以是默认的，用于调整到默认钻进压力档位，也可以是根据地面系统下发的选择指令而生成的，地面系统响应于用户执行的钻进压力调速操作生成选择指令。在取心运行参数满足钻进遇阻遇卡异常条件的情况下，生成钻停指令以及排岩屑指令，其中，钻停指令用于停止钻头的钻进，排岩屑指令用于强制钻头排岩屑以减小钻头负载，可以是提高钻头旋转速度的指令。也即，当钻进过程中出现遇阻遇卡异常时，则停止钻进，同时提高钻头旋转速度以排出岩屑。钻进遇阻遇卡异常条件具体为：单位时间内的钻进位移变化量小于或等于预设钻进位移变化量，取心动力电机转速值未达到第一预设取心动力电机转速值，取心动力电机的电流变化量大于或等于预设电流变化量。其中，取心动力电机的电流变化量等于本次检测到的取心动力电机电流值减去上一次检测到的取心动力电机电流值，预设电流变化量可以是钻进动力电机的电流变化量，其计算方式与取心动力电机的电流变化量的计算方式类似，在此不进行赘述。如果满足钻进遇阻遇卡异常条件，则确定发生钻进遇阻遇卡异常，通过下发钻停指令以及排岩屑指令以恢复正常。当钻头恢复正常后，再次下发钻进指令，以便恢复取心作业，相应的正常状态的判定条件具体为：取心动力电机转速值达到第一预设取心动力电机转速值、取心动力电机的电流变化量小于钻进动力电机的电流变化量。在取心运行参数满足钻头卡死异常条件的情况下，生成钻退指令或者钻退指令和高速钻进指令。其中，钻退指令用于使钻头后退，高速钻进指令与上述慢速钻进指令都是用于更改动力泵工作状态，与慢速钻进指令相反，高速钻进指令用于通过改变动力泵工作状态以提高钻进动力泵产生的液压动力。具体地，在初始状态为钻进动力泵独立状态的情况下，高速钻进指令可以是用于将动力泵工作状态调整为其他动力泵往钻进动力泵注油状态的指令，在初始状态为钻进动力泵向其他动力泵注油状态的情况下，高速钻进指令可以是用于将动力泵工作状态调整为钻进动力泵独立状态的指令。进一步地，还可以生成排岩屑指令以减少钻头负载。钻头卡死异常条件具体为：取心动力电机电流值达到预设取心动力电机电流值、取心动力电机转速值不超过第二预设取心动力电机转速值。如果满足钻头卡死异常条件，确定出现钻头卡死异常，生成钻退指令或者钻退指令以及高速钻进指令，进一步还可以生成排岩屑指令，以解决该异常情况。当钻头恢复正常之后，再次下发钻进指令和慢速钻进指令，以便恢复取心作业，相应的正常状态的判定条件具体为：取心动力电机转速值达到第一预设取心动力电机转速值、取心动力电机的电流变化量小于钻进动力电机的电流变化量。在一种可选的实施方式中，若预设取心操作参数和取心运行参数的比对结果，表示取心作业发生异常情况，也即取心运行参数满足预设异常条件，则向地面系统发送预警信号，以使地面系统展示异常情况对应的预警图标，不同异常情况对应的预警图标不一样，从而能够准确提示取心异常情况。步骤S230，将取心操作指令下发给相应的执行机构进行执行。将自动生成的取心操作指令下发给相应的执行机构，执行机构对取心操作指令进行响应，使得取心作业的进行情况符合预期，从而实现取心作业的自动化控制。在一种可选的实施方式中，方法进一步包括：实时检测井下仪器的平衡活塞位移；若根据平衡活塞位移确定发生漏油故障，向地面系统发送漏油故障信号以及油位异常参数，以供地面系统根据漏油故障信号展示相应的预警图标以及展示油位异常参数，以及，生成关闭指令发送至电源控制器以关闭系统电源。井下仪器在井下进行取心作业时，井下仪器的内部压力大于地层压力，当液压马达或者液压软管有损伤时，液压油会泄漏，当泄漏至地层压力大于井下仪器的内部压力时，泥浆就会进入井下仪器内部，致使井下仪器出现故障。具体地，发生漏油故障的判定条件为：平衡活塞位移小于预设活塞位移、平衡活塞位移变化量大于或等于预设活塞位移变化量，平衡活塞位移变化量的计算方式为：上一次检测的平衡活塞位移减去当前检测的平衡活塞位移。如果判定出现漏油故障，则需要关闭电源以停止取心作业，同时，在地面系统的液晶显示屏上显示油位异常参数以及漏油故障的预警图标，以提示现场操作人员进行紧急检查和干预。在进行钻进之前，需要打开推靠臂以使井下仪器紧贴在井壁上，在一种可选的实施方式中，方法进一步包括：在打开推靠臂的过程中，实时监测推靠位移值和推靠压力值，当推靠位移值达到井径值并且推靠压力值达到预设压力值时，确认开推靠结束，即推靠臂打开完成。推靠压力是指推靠臂液压缸的压力，推靠臂电磁阀组控制液流推动推靠臂液压缸以带动推靠臂。在开推靠结束之后，给取心动力电机供电，取心动力电机带动取心动力泵，驱使取心液压马达旋转，从而带动取心钻头旋转，完成钻进取心动作。钻井取心的自动控制方式如上所述，在此不进行赘述。当钻进到一定位置时会进行折心，折心之后进行退钻，退钻到原始状态时进行推心，此过程也可以通过自动控制的方式完成。在一种可选的实施方式中，方法进一步包括：在取心过程中，根据钻进位移值判断是否满足折心条件，若是，则生成折心指令下发给相应的执行机构以执行折心动作；进一步地，根据钻进位移值判断是否满足折完条件，若是，则下发退钻指令给执行机构以执行退钻动作，以使钻头位置液压缸带动钻头恢复到原始状态。例如，当钻进位移值等于468时，判定满足折心条件；当钻进位移值等于482时，判定满足折完条件；当钻进位移值等于12时，判定钻头恢复到原始状态。在钻头恢复到原始状态之后，需要将钻取的岩心推入到储心筒中，并且计算岩心长度，同样也可以自动控制的方式完成。在一种可选的实施方式中，方法进一步包括：井下主控板下发推心指令，推心电磁阀组控制液流推动推心液压缸带动推心杆伸出，岩心进入储心筒时，岩心触发岩心开关，可使岩心计数增加，并产生一个方波信号，通过记录方波信号上升沿和下降沿时刻对应的推心位移值，计算出岩心长度，计算方式为：L=S推心1-S推心2，其中，S推心1为接触岩心开关时的推心位移值，S推心2为通过岩心开关时的推心位移值。之后，当推心位移值达到第一预设推心位移值且推心压力值达到预设推心压力值时，确定推心杆伸出过程结束，下发收回推心杆指令，其中，推心压力是指连接推心电磁阀组的动力泵输出端的压力；当推心位移值达到第二预设推心位移值并且推心压力值为零时，确定推心过程结束。当岩心计数增加时，判断收获岩心；当岩心计数不增加时，再次重复钻进过程，直到收获岩心。在推心工作完成之后，插入隔片，隔片的作用是区分以及隔开不同深度层位的岩心。在一种可选的实施方式中，方法进一步包括：井下主控板下发插入隔片指令，隔片电磁阀组控制液流推动隔片机构将隔片打出，实时监测隔片压力值，当隔片压力值等于第一预设隔片压力值时，确认插入隔片成功，其中，隔片压力是指连接隔片电磁阀组的动力泵输出端的压力。井下主控板下发收回隔片摆臂指令，当隔片压力值等于第二预设隔片压力值时，隔片摆臂收回，确认隔片插入过程结束。插入隔片结束之后，井下主控板下发收回推靠臂指令，以使推靠臂电磁阀组控制液流推动推靠臂液压缸，带动推靠臂收回。在收回推靠臂的过程中，实时监测推靠位移值和推靠压力值，当推靠位移值为预设推靠位移值并且推靠压力值为零时，确认完成收回推靠臂动作，至此，整个取心作业流程结束。综上所述，根据本实施例的井下旋转井壁取心控制方法，针对于不同岩层特性，形成一套钻头选择、仪器参数设置等取心优化方案进行自动取心，自动判定是否出现异常以及自动生成用于解决异常的操作指令，能够实现取心作业的自动控制；根据地层特性，取心仪可自动匹配关键取心参数，自动调节钻头的旋转速度、钻进压力等等，提高取心仪对不同地层的适应能力，有效提高取心仪的取心收获率、取心效率及岩心质量，实现一键取心的功能。本发明另一实施例提供了一种井下旋转井壁取心控制系统，该系统具体用于实现上述实施例的井下旋转井壁取心控制方法。井下旋转井壁取心控制系统主要由地面系统和井下仪器两部分组成，具体在井下仪器的井下主控板中实现上述实施例的井下旋转井壁取心控制方法，井下主控板设置于控制采集短节中。其中，地面系统主要包括上位机控制软件、地面控制机箱、液压动力电机电源、取心动力电机电源。井下仪器主要包括马笼头、张力短节、控制采集短节、机械液压节。机械液压节由液压动力控制系统和取心动力控制系统组成。控制采集短节是井下仪器的控制核心，与地面系统通过频移键控通信方式、半双工模式进行通信，接收并解调地面系统下发的指令，并上传井下仪器的参数信息和工作状态。控制采集短节具体包括井下电源部分、通信板、井下主控板、伽马板、压力位移采集、电磁阀控制板、液压动力电机控制驱动部分和取心动力电机控制驱动部分。通过控制采集短节对取心仪的工作状态、运行参数等信息进行采集，并通过对电磁阀的有序控制，使取心仪可以完成推靠臂伸出和收回动作、推心杆伸出和收回动作、隔片臂打出和摆回动作、高低速切换动作、钻头位置动作、钻压选择和蓄能器蓄能等动作，形成闭环控制，从而实现自动取心。图3示出了本发明另一实施例提供的地面系统的结构示意图，地面系统主要由上位机控制软件、地面控制机箱和2台直流电源组成。上位机控制软件的主要功能是对取心过程进行仪器控制和数据监测，主要任务包括井下作业时的深度校对，具体通过井下仪器反馈的温度、压力、缆头电压、电流、电机转速、位移值和仪器张力等信息完成深度校对。地面控制机箱由主控通讯电路板301、调压器302、变压器303、电源滤波板304和开关电源305等组成，发电机306提供380V交流电源，通过分线板307分别产生220V和380V的交流电压，为整个系统供电，包括地面系统所需要的各路弱电电源、井下仪器313所需要的430V交流电源、液压动力电机电源308和取心动力电机电源309所需要的直流电源。主控通讯电路板301主要负责通信调制及解调，与上位机控制软件310通过网线建立通信，电源滤波板304主要是对交流电源进行滤波，调压器302和变压器303主要将滤波后的交流电压由220V升至430V，通过电缆滑环311和测井电缆312为井下仪器313提供电源。开关电源305主要提供±12V和+5V的直流电压，为主控通讯电路板301供电。液压动力电机电源308将发电机306的220V交流电转换为0～600 V的直流电，取心动力电机电源309将发电机306的380V交流电转换为0～1000V的直流电，通过电缆滑环311和测井电缆312，分别为井下仪器313的液压动力电机和取心动力电机提供工作所需要的直流电。液晶屏314用于显示，急停开关315用于控制对系统的供电。图4示出了本发明另一实施例提供的液压动力控制系统的结构示意图，图5示出了本发明另一实施例提供的取心动力控制系统的结构示意图。其中，井下旋转井壁取心控制系统的机械液压节，包括液压动力控制系统40和取心动力控制系统50。液压动力控制系统40包括两个直流无刷电机，由液压动力电机401控制第一液压动力泵402和第二液压动力泵403。液压动力控制系统40主要由液压动力电机、液压动力泵、蓄能器，功能模块的电磁阀组和功能模块的液压缸组成，用于根据电磁阀的通断为执行机构提供液压动能。第一液压动力泵402的输出端连接推靠臂电磁阀组404和反推靠臂电磁阀组406，推靠臂电磁阀组404与推靠臂液压缸405连接，反推靠臂电磁阀组406与反推靠臂液压缸407连接。推靠臂电磁阀组404控制液流推动推靠臂液压缸405以带动推靠臂，推靠臂活塞带一个位移传感器，可以测量推靠臂开启的大小。推靠压力计408测量推靠臂液压缸405的压力，第一压力计409测量第一液压动力泵402的压力。第二液压动力泵403的输出端所连接的机构包括：隔片压力计410和隔片电磁阀组411、推心压力计413和推心电磁阀组414、钻进压力计416和钻头位置电磁阀组417。隔片电磁阀组411与隔片液压缸412连接。推心电磁阀组414与推心液压缸415连接，以带动推心杆移动，推心活塞带一个位移传感器，测量推心活塞的行进位移值，进而确定推心位移。钻头位置电磁阀组417和钻头位置液压缸418连接，钻头位置活塞带一个位移传感器，测量钻头位置活塞的行进位移值，进而确定钻进位移。快慢调速电磁阀组419分别连接第一液压动力泵402和第二液压动力泵403的输出端，用于将两个液压系统设置为三种状态：独立状态、第一液压动力泵402往第二液压动力泵403注油状态和第二液压动力泵403往第一液压动力泵402注油状态。具体通过井下主控板下发的慢速钻进指令和高速钻进指令进行设置，也即，慢速钻进指令以及高速钻进指令用于调节快慢调速电磁阀组419。本实施例中，第二液压动力泵403连接三个电磁阀组，第二液压动力泵403通过三个输出口泵油到三个不同的管路中。基于此，钻进动力泵也就是第二液压动力泵403，钻进压力是指第二液压动力泵403上连接钻头位置电磁阀组417的输出端处的油液压力，其他动力泵也就是第一液压动力泵402。相应地，隔片压力是指第二液压动力泵403上连接隔片电磁阀组411的输出端处的油液压力，推心压力是指第二液压动力泵403上连接推心电磁阀组414的输出端的油液压力。钻压调速电磁阀组420配合溢流阀，连接在第二液压动力泵403的输出端。通过开启不同的电磁阀配合溢流阀，来调节第二液压动力泵403的输出端压力。不同电磁阀对应不同的钻压档位。上述方法实施例所述的钻进压力调速指令用于调节钻压调速电磁阀组420。蓄能器电磁阀422接通到第二液压动力泵403的输出端，蓄能器421与蓄能器电磁阀422连接，常态下第二液压动力泵403输出的液压油压缩弹簧以存储能量，当需要蓄能器421释放能量时，开启蓄能器电磁阀422，使能量释放到第二液压动力泵403的油路上。其作用是，当所有动力源丧失后，可以依靠蓄能器421的能力将所有仪器动作恢复到初始状态，保证了仪器在井下的安全性。第二压力计423用于测量蓄能器421的压力。如图5所示，取心动力控制系统50包括取心动力电机501、取心液压泵502、取心液压压力计503、取心液压马达504以及钻头机构505，取心动力电机501带动取心液压泵502，驱使取心液压马达504旋转，带动钻头机构505旋转，从而钻取地层岩心，取心液压压力计503用于测量取心液压泵502的压力。上述实施例所述的钻停指令可以是取心动力电机的断电指令，钻退指令是用于使钻头向钻进方向的相反方向行进的指令，排岩屑指令可以是调节取心动力泵的输出端压力的指令。本发明另一实施例提供了自动取心的完整流程，该完整流程具体包括如下步骤：步骤S1：给地面控制机箱加电；步骤S2：给控制采集短节加电；步骤S3：判断是否建立通讯；若已建立通讯，执行步骤S4；步骤S4：给液压动力电机加电，液压动力电机电源给液压动力电机提供260 VDC左右的直流电，井下主控板将下发液压动力电机启动指令和转速参数，使转速达到2000 r/min，启动液压动力电机并带动取心液压泵产生3000Psi的液压动力；步骤S5：井下主控板下发开推靠指令，以打开推靠臂；步骤S6：推靠臂打开完成之后，给取心动力电机加电，取心动力电机电源给取心动力电机供电，井下主控板将下发取心动力电机启动指令和取心电机转速参数，使得取心动力电机的转速达到2800rpm；取心动力电机正常工作后，井下主控板自动下发快慢钻进指令、钻压调速指令、钻进指令，钻头位置电磁阀组控制液流推动钻头位置液压缸活塞带动钻头、旋转板、固定板和位于钻头两侧的菱形滑块，与钻头导向板相互配合，使金刚石空心钻头垂直钻入地层；步骤S7：钻头钻进，实时调节钻压以及取心动力电机的转速；步骤S8：进入折心位置后，取心动力电机停止工作，进行折心；步骤S9：折心完成之后退钻；步骤S10：退钻到原始状态后控制推心杆伸出；步骤S11：推心杆收回；步骤S12：判断是否还需钻取岩心；若是，执行步骤S13；若否，执行步骤S14。步骤S13：对取心动力电机加电，跳转至步骤S6，以再次进行取心作业；步骤S14：插入隔片，隔片臂复位；推靠臂收回，取心作业结束；其中，由地面系统中的上位机软件将取心关键参数下发给井下主控板，井下主控板收到该取心关键参数之后，开始自动取心作业。在给地面控制机箱和直流电源供电之前，首先设置安全工作的最大电流，设置交流电安全工作的电流最大值为2A，设置井下仪器的液压动力电机安全工作的电流最大值为2A，取心动力电机安全工作的电流最大值为8A，设置完毕后，给地面控制机箱和直流电源供电。地面控制机箱为控制采集短节提供430VAC交流电，地面系统与控制采集短节建立通信后，控制采集短节会上传采集到的各种参数、信息和数据，包括：张力、交流电缆头电压、伽马计数值、收获的岩心数量、岩心长度、取心液压泵压力、第一液压动力泵压力、第二液压动力泵压力、推靠压力、隔片压力、推心压力、钻进压力、液压动力电机电压、液压动力电机电流、液压动力电机转速、取心动力电机电压、取心动力电机电流、取心动力电机转速、控制采集温度、液压动力电机驱动温度、取心动力电机驱动温度、液压动力电机温度、取心动力电机温度、推靠位移、推心位移、钻进位移、平衡活塞位移和各个电磁阀状态等。在此提供的算法或显示不与任何特定计算机、虚拟系统或者其它设备固有相关。各种通用系统也可以与基于在此的示教一起使用。根据上面的描述，构造这类系统所要求的结构是显而易见的。此外，本申请实施例也不针对任何特定编程语言。应当明白，可以利用各种编程语言实现在此描述的本申请的内容，并且上面对特定语言所做的描述是为了披露本申请的最佳实施方式。在此处所提供的说明书中，说明了大量具体细节。然而，能够理解，本申请的实施例可以在没有这些具体细节的情况下实践。在一些实例中，并未详细示出公知的方法、结构和技术，以便不模糊对本说明书的理解。类似地，应当理解，为了精简本申请并帮助理解各个发明方面中的一个或多个，在上面对本申请的示例性实施例的描述中，本申请实施例的各个特征有时被一起分组到单个实施例、图、或者对其的描述中。然而，并不应将该公开的方法解释成反映如下意图：即所要求保护的本申请要求比在每个权利要求中所明确记载的特征更多的特征。更确切地说，如权利要求书所反映的那样，发明方面在于少于前面公开的单个实施例的所有特征。因此，遵循具体实施方式的权利要求书由此明确地并入该具体实施方式，其中每个权利要求本身都作为本申请的单独实施例。本领域那些技术人员可以理解，可以对实施例中的设备中的模块进行自适应性地改变并且把它们设置在与该实施例不同的一个或多个设备中。可以把实施例中的模块或单元或组件组合成一个模块或单元或组件，以及此外可以把它们分成多个子模块或子单元或子组件。除了这样的特征和/或过程或者单元中的至少一些是相互排斥之外，可以采用任何组合对本说明书中公开的所有特征以及如此公开的任何方法或者设备的所有过程或单元进行组合。除非另外明确陈述，本说明书中公开的每个特征可以由提供相同、等同或相似目的的替代特征来代替。此外，本领域的技术人员能够理解，尽管在此的一些实施例包括其它实施例中所包括的某些特征而不是其它特征，但是不同实施例的特征的组合意味着处于本申请的范围之内并且形成不同的实施例。例如，在权利要求书中，所要求保护的实施例的任意之一都可以以任意的组合方式来使用。本申请的各个部件实施例可以以硬件实现，或者以在一个或者多个处理器上运行的软件模块实现，或者以它们的组合实现。本领域的技术人员应当理解，可以在实践中使用微处理器或者数字信号处理器来实现根据本申请实施例的一些或者全部部件的一些或者全部功能。本申请还可以实现为用于执行这里所描述的方法的一部分或者全部的设备或者装置程序。这样的实现本申请的程序可以存储在计算机可读介质上，或者可以具有一个或者多个信号的形式。这样的信号可以从因特网网站上下载得到，或者在载体信号上提供，或者以任何其他形式提供。应该注意的是上述实施例对本申请进行说明而不是对本申请进行限制，并且本领域技术人员在不脱离所附权利要求的范围的情况下可设计出替换实施例。在权利要求中，不应将位于括号之间的任何参考符号构造成对权利要求的限制。单词“包含”不排除存在未列在权利要求中的元件或步骤。位于元件之前的单词“一”或“一个”不排除存在多个这样的元件。本申请可以借助于包括有若干不同元件的硬件以及借助于适当编程的计算机来实现。在列举了若干装置的单元权利要求中，这些装置中的若干个可以是通过同一个硬件项来具体体现。单词第一、第二、以及第三等的使用不表示任何顺序。可将这些单词解释为名称。上述实施例中的步骤，除有特殊说明外，不应理解为对执行顺序的限定。
