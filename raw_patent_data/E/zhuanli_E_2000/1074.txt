标题title
检测铁路道岔的方法、装置、及电子设备、存储介质
摘要abst
本申请实施例涉及铁路养护工程机械技术领域，提供一种检测铁路道岔的方法、装置、及电子设备、存储介质，该方法包括：获取直股区域图像和曲股区域图像；根据识别可见障碍物的障碍物识别模型，确定直股区域图像和曲股区域图像中每个第一可见障碍物；根据识别禁止下镐标记的禁止下镐标记识别模型，确定每个第一禁止下镐标记；根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域。本申请的方法能够获取铁路道岔直股区域和曲股区域的完整图像，并根据完整图像使用识别模型更准确获得捣固需要绕开的障碍物的位置和尺寸，进而自动确定铁路道岔能够进行捣固的区域。
权利要求书clms
1.一种检测铁路道岔的方法，其特征在于，包括：获取直股区域图像和曲股区域图像；根据用于识别可见障碍物的障碍物识别模型，确定所述直股区域图像和所述曲股区域图像中每个第一可见障碍物；根据用于识别禁止下镐标记的禁止下镐标记识别模型，确定所述直股区域图像和所述曲股区域图像中每个第一禁止下镐标记；所述禁止下镐标记用于表示所述禁止下镐标记处有被掩盖的不可见障碍物；根据所有所述第一可见障碍物和所有所述第一禁止下镐标记确定所述直股区域图像和所述曲股区域图像中的第一捣固区域；所述第一捣固区域是指所述直股区域图像和所述曲股区域图像中不包含所有所述第一可见障碍物和所有所述不可见障碍物的区域。2.根据权利要求1所述检测铁路道岔的方法，其特征在于，所述根据所有所述第一可见障碍物和所有所述第一禁止下镐标记确定所述直股区域图像和所述曲股区域图像中的第一捣固区域之后，还包括：根据用于识别复杂区域的复杂区域识别模型，确定所述第一捣固区域中每个所述复杂区域；所述复杂区域是指疑似含有所述第一可见障碍物的区域；将所有所述复杂区域确定为人工操作区域，并将所述第一捣固区域中所有所述复杂区域之外的区域确定为自动第一捣固区域。3.根据权利要求1所述检测铁路道岔的方法，其特征在于，所述获取直股区域图像和曲股区域图像之前，还包括：利用第一图像采集设备或第二图像采集设备获取正线区域图像；若识别所述正线区域图像中包含道岔，则确定所述道岔的开叉方向；根据所述开叉方向调节所述第一图像采集设备的拍摄位置和所述第二图像采集设备的拍摄位置；所述获取道岔区的直股区域图像和曲股区域图像，包括：利用拍摄位置经过调节的所述第一图像采集设备和拍摄位置经过调节的所述第二图像采集设备获取所述直股区域图像和所述曲股区域图像。4.根据权利要求3所述检测铁路道岔的方法，其特征在于，所述利用第一图像采集设备或第二图像采集设备获取正线区域图像之后，还包括：若识别所述正线区域图像中不包含道岔，则根据所述障碍物识别模型，确定所述正线区域图像中每个第二可见障碍物；根据所述禁止下镐标记识别模型，确定所述正线区域图像中每个第二禁止下镐标记；所述第二禁止下镐标记用于表示所述第二禁止下镐标记处有被掩盖的不可见障碍物；根据所有所述第二可见障碍物和所有所述第二禁止下镐标记确定所述正线区域图像中的第二捣固区域。5.根据权利要求1所述检测铁路道岔的方法，其特征在于，所述根据所有所述第一可见障碍物和所有所述第一禁止下镐标记确定所述直股区域图像和所述曲股区域图像中的第一捣固区域之前，还包括：获取每个鱼尾板的鱼尾板位置；所述根据所有所述第一可见障碍物和所有所述第一禁止下镐标记确定所述直股区域图像和所述曲股区域图像中的第一捣固区域，包括：根据所有所述第一可见障碍物、所有所述第一禁止下镐标记确定第一捣固区域和所有所述鱼尾板的鱼尾板位置，确定所述曲股区域图像中的对应使用起道钩的起道钩捣固区域和对应使用起道轮的起道轮捣固区域。6.根据权利要求5所述检测铁路道岔的方法，其特征在于，所述获取每个鱼尾板的鱼尾板位置，包括：利用至少一个激光传感器获取所有位于正线铁轨的所有所述鱼尾板的位置；根据道岔铁轨上的鱼尾板标记获取所有位于所述道岔铁轨的所有所述鱼尾板的位置。7.根据权利要求1所述检测铁路道岔的方法，其特征在于，所述第一可见障碍物分为可移动障碍物和不可移动障碍物，所述根据用于识别可见障碍物的障碍物识别模型，确定所述直股区域图像和所述曲股区域图像中每个第一可见障碍物，包括：根据用于识别可移动障碍物的可移动障碍物识别模型，识别所述直股区域图像和所述曲股区域图像中的每个所述可移动障碍物；根据用于识别可移动障碍物的不可移动障碍物识别模型，识别所述直股区域图像和所述曲股区域图像中的每个所述不可移动障碍物；所述根据所有所述第一可见障碍物和所有所述第一禁止下镐标记确定所述直股区域图像和所述曲股区域图像中的第一捣固区域之后，包括：将所述第一捣固区域的处理方式确定为直接捣固；将所有所述所述可移动障碍物的区域的处理方式确定为移除障碍物后捣固。8.一种检测铁路道岔的装置，其特征在于，包括：获取模块，用于获取直股区域图像和曲股区域图像；第一确定模块，用于根据用于识别可见障碍物的障碍物识别模型，确定所述直股区域图像和所述曲股区域图像中每个第一可见障碍物；第二确定模块，用于根据用于识别禁止下镐标记的禁止下镐标记识别模型，确定所述直股区域图像和所述曲股区域图像中每个第一禁止下镐标记；所述第一禁止下镐标记用于表示所述第一禁止下镐标记处有被掩盖的不可见障碍物；第三确定模块，用于根据所有所述第一可见障碍物和所有所述第一禁止下镐标记确定所述直股区域图像和所述曲股区域图像中的第一捣固区域；所述第一捣固区域是指所述曲股区域图像中不包含所有所述第一可见障碍物和所有所述不可见障碍物的区域。9.一种电子设备，其特征在于，包括：存储器；处理器；以及计算机程序；其中，所述计算机程序存储在所述存储器中，并被配置为由所述处理器执行以实现如权利要求1-7任一项所述的方法。10.一种计算机可读存储介质，其特征在于，其上存储有计算机程序；所述计算机程序被处理器执行以实现如权利要求1-7任一项所述的方法。
说明书desc
技术领域本申请涉及铁路养护工程机械技术领域，特别涉及一种检测铁路道岔的方法、装置、及电子设备、存储介质。背景技术捣固车是大型养路机械的一种，适用于铁路线路的新线施工、既有线大中修清筛作业后和运营线路维修作业，对轨道进行自动抄平、起拨道、道碴捣固作业，提高道床石碴的密实度，增加轨道的稳定性，消除轨道的方向偏差，左、右水平偏差和前、后高低偏差，使轨道线路达到线路设计标准和线路维修规则的要求，保证列车的安全运行。利用捣固车对铁路线路进行捣固，需要根据铁路线路的实际情况对铁路的状况进行判断，防止捣固损坏铁路线路上的相关设施。目前捣固车在道岔区的作业过程主要依靠人工操作，一号位操作手通过人眼观察避开线路固有设施确定下镐位置，双脚控制车辆走停以及捣固装置的下降，要求操作人员熟悉机器操作具有丰富的作业经验，同时需要长时间保持注意力集中，劳动强度较大。铁路道岔部位有更多的设施，进行判断难度更高。另一方面通过人眼观察存在视角差、车上车下人员沟通困难、操作控制各个装置依次移动需要反复调整，作业效率低等问题。如何能够自动对铁路道岔的相关设施的位置进行检测，以使捣固车进行捣固时不破坏这些设施是本领域亟待解决的技术问题之一。发明内容为了解决上述技术缺陷之一，本申请实施例中提供了一种检测铁路道岔的方法、装置、及电子设备、存储介质。本申请实施例的第一个方面，提供了一种检测铁路道岔的方法，包括：获取直股区域图像和曲股区域图像；根据用于识别可见障碍物的障碍物识别模型，确定直股区域图像和曲股区域图像中每个第一可见障碍物；根据用于识别禁止下镐标记的禁止下镐标记识别模型，确定直股区域图像和曲股区域图像中每个第一禁止下镐标记；禁止下镐标记用于表示禁止下镐标记处有被掩盖的不可见障碍物；根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域；第一捣固区域是指直股区域图像和曲股区域图像中不包含所有第一可见障碍物和所有不可见障碍物的区域。本申请实施例的第二个方面，提供了一种检测铁路道岔的装置，包括：获取模块，用于获取直股区域图像和曲股区域图像；第一确定模块，用于根据用于识别可见障碍物的障碍物识别模型，确定直股区域图像和曲股区域图像中每个第一可见障碍物；第二确定模块，用于根据用于识别禁止下镐标记的禁止下镐标记识别模型，确定直股区域图像和曲股区域图像中每个第一禁止下镐标记；禁止下镐标记用于表示禁止下镐标记处有被掩盖的不可见障碍物；第三确定模块，用于根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域；第一捣固区域是指曲股区域图像中不包含所有第一可见障碍物和所有不可见障碍物的区域。本申请实施例的第三个方面，提供了一种电子设备，包括：存储器；处理器；以及计算机程序；其中，计算机程序存储在存储器中，并被配置为由处理器执行以实现如上述任一项的方法。本申请实施例的第四个方面，提供了一种计算机可读存储介质，其上存储有计算机程序；计算机程序被处理器执行以实现如上述任一项的方法。采用本申请实施例中提供的方法能够获取铁路道岔直股区域和曲股区域的完整图像，并根据完整图像使用识别模型更准确地获得捣固需要绕开的障碍物的位置和尺寸，进而自动确定铁路道岔能够进行捣固的区域。解决了自动对铁路道岔的相关设施的位置进行检测的技术问题。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1为本申请实施例提供的一种检测铁路道岔的方法流程图；图2为本申请实施例的两个图像采集设备调节拍摄位置的原理示意图；图3为本申请实施例的两个图像采集设备拍摄铁路道岔的拍摄范围示意图；图4为本申请实施例的点激光传感器和激光发射器测量鱼尾板位置的原理示意图；图5为本申请实施例提供的一种检测铁路道岔的装置原理框图；图6本申请一个实施例提供的计算机设备结构示意图。具体实施方式为了使本申请实施例中的技术方案及优点更加清楚明白，以下结合附图对本申请的示例性实施例进行进一步详细的说明，显然，所描述的实施例仅是本申请的一部分实施例，而不是所有实施例的穷举。需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。在实现本申请的过程中，发明人发现，铁路岔道区域的状况较为复杂，铁轨分岔为两支：直股和曲股。其中，直股与铁路开叉前的正线方向相同。捣固需要进行检测的区域更大。捣固需要避开的相关设施更多更密集，一些设施是明面上肉眼可见的，另一部分则掩埋在下面，为了防止被破坏，进行了人工标记。现有技术中，对铁路岔道区域进行捣固，需要采用人工进行判断，耗时耗力。本申请实施例的应用场景为应用于捣固车上的检测设备的控制装置。检测设备可以包括两个图像采集设备。控制装置可以是台式计算机、平板电脑、笔记本电脑、终端机等具有存储和计算能力的设备。针对上述问题，如图1所示，本申请实施例中提供了一种检测铁路道岔的方法，包括步骤101-步骤104：步骤101，获取直股区域图像和曲股区域图像。铁路道岔分为直股和曲股。直股区域图像可以是以铁道道岔中的直股居中的图像，曲股区域图像可以是以铁道线路的曲股居中的图像，两者可能有一部分图像对应相同区域。道岔可以是向左开叉或者向右开叉。如图2所示，拍摄直股区域图像的图像采集设备和拍摄曲股区域图像的图像采集设备可以位于捣固车的司机室的前端上方的支架末端，垂直拍摄铁路线路。两个图像采集设备可根据控制命令进行移动，用于拍摄曲股区域图像的图像采集设备可向车体外侧滑动，必要时可通过旋转一定角度使图像采集设备伸出车体外侧一定距离，保证两个图像采集设备组合后视野范围覆盖道岔区最大作业范围，同时在图像采集设备上安装旋转机构，使相机与车体保持固定角度，保证成像视角不变，两个图像采集设备可以根据道岔的状况，调整对应拍摄的区域。例如，道岔为向左开叉，则靠左侧的图像采集设备可以调整到车体左侧边缘并旋转固定角度，用于拍摄曲股；右侧的图像采集设备调整位置到司机室上的中部，用于拍摄直股区域图像。若道岔为向右开叉，则靠右侧的图像采集设备可以调整到车体右侧边缘并旋转固定角度，用于拍摄曲股区域图像，左侧的图像采集设备调整位置到司机室上的中部，用于拍摄直股区域图像。如图3所示，两个图像采集设备的拍摄区域覆盖铁轨的直股和铁轨的曲股周围需要判断是否进行捣固的区域。作为一种实施例，获取直股区域图像和曲股区域图像之前，还包括以下步骤：利用第一图像采集设备或第二图像采集设备获取正线区域图像；若识别正线区域图像中包含道岔，则确定道岔的开叉方向；根据开叉方向调节第一图像采集设备的拍摄位置和第二图像采集设备的拍摄位置；获取道岔区的直股区域图像和曲股区域图像，包括：利用拍摄位置经过调节的第一图像采集设备和拍摄位置经过调节的第二图像采集设备获取直股区域图像和曲股区域图像。实际应用中，道岔只是铁道线路的一部分，捣固车在正线上行进并捣固。可以控制两个图像采集设备中的一个固定在捣固车的中部采集铁轨正线的图像。当捣固车行进到铁路道岔时，可以通过人工标注的样本训练得到的识别模型，识别道岔，并识别道岔的开叉方向。进而调整两个图像采集设备的位置和角度。当一个图像采集装置发现道岔时，两个图像采集设备的位置除了自动调节，也可以提示操作者进行人工调节。本申请实施例能够根据铁路道岔的状况调节拍摄道岔区域的图像采集设备的位置和拍摄角度，因而能够更准确地获取铁路道岔附近的图像，进而能够更准确地对铁路道岔周围的障碍物进行检测，以更准确地确定需要捣固的区域。步骤102，根据用于识别可见障碍物的障碍物识别模型，确定直股区域图像和曲股区域图像中每个第一可见障碍物；第一可见障碍物可以为钢轨、轨枕、转辙器、轨距拉杆、轨尖、辙叉、护轨、电容枕、线路电气设备等。第一可见障碍物可以在拍摄的直股区域图像和曲股区域图像中被识别。用于识别可见障碍物的障碍物识别模型，可以基于图像处理中的语义分割算法搭建，并通过人工标注的图像样本进行训练得到。识别得到第一可见障碍物的相关信息，包括位置和尺寸等。用于在确定捣固区域时，去掉这些有障碍物的区域。步骤103，根据用于识别禁止下镐标记的禁止下镐标记识别模型，确定直股区域图像和曲股区域图像中每个第一禁止下镐标记；禁止下镐标记用于表示禁止下镐标记处有被掩盖的不可见障碍物；在实际线路上存在电缆等设备被石砟覆盖无法采集到图像的情况，于是在施工作业前指派操作手提前在线路上做特定标记，再由图像采集设备获取标记信息从而识别出该类特殊部件的位置。识别禁止第一禁止下镐标记可以使用经过人工标注禁止下镐标记的样本训练得到的识别模型。步骤104，根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域；第一捣固区域是指直股区域图像和曲股区域图像中不包含所有第一可见障碍物和所有不可见障碍物的区域。从直股区域图像和曲股区域图像中去除禁止下镐的区域以及可见障碍物的区域即可得到安全下镐的区域。具体地捣固区域由图像中的像素所满足的方程来界定。以便后续计算机控制捣固工具进行捣固时判断直股区域图像和曲股区域图像中每个像素点是否位于捣固区域内。另外，控制装置可以根据捣固区域在直股区域图像和曲股区域图像中的位置和大小，根据图像像素点坐标与捣固工具的施工参数之间的转换关系，调整捣固工具的捣固位置，进而只对第一捣固区域内进行捣固。采用本申请实施例中提供的方法能够获取铁路道岔直股区域和曲股区域的完整图像，并根据完整图像使用识别模型更准确地获得捣固需要绕开的障碍物的位置和尺寸，进而自动确定铁路道岔能够进行捣固的区域。作为一种实施例，利用第一图像采集设备或第二图像采集设备获取正线区域图像之后，还包括以下步骤：若识别正线区域图像中不包含道岔，则根据障碍物识别模型，确定正线区域图像中每个第二可见障碍物；根据禁止下镐标记识别模型，确定正线区域图像中每个第二禁止下镐标记；第二禁止下镐标记用于表示第二禁止下镐标记处有被掩盖的不可见障碍物；根据所有第二可见障碍物和所有第二禁止下镐标记确定正线区域图像中的第二捣固区域。当捣固车对正线区域进行捣固时，同样可以利用上文中的识别可见障碍物的障碍物识别模型识别正线区域图像中的可见障碍物，和正线区域中的禁止下镐标记，确定正线区域图像中用于捣固的区域。本申请实施例能够识别铁路正线中的禁止下镐标记和障碍物，因而能够更准确地确定铁路正线中适合捣固的区域。作为一种实施例，根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域之后，还包括以下步骤：根据用于识别复杂区域的复杂区域识别模型，确定第一捣固区域中每个复杂区域；复杂区域是指疑似含有可见障碍物的区域；将所有复杂区域确定为人工操作区域，并将第一捣固区域中所有复杂区域之外的区域确定为自动第一捣固区域。实际应用中，捣固区域中还可能包含一些难以分辨是否包括障碍物的区域。例如，一个障碍物大部分被石砟掩盖，露出部分过小，导致障碍物识别模型无法识别出该障碍物。是否对这些复杂区域进行捣固，可以借助人工进行判断。本申请实施例可以利用经过样本训练的针对复杂区域的复杂区域识别模型，识别第一捣固区域中是否包含复杂区域。捣固车进行捣固时，若捣固工具的捣固位置为复杂区域时，可以跳出自动捣固模式，提示人工进行判断和操作。本申请实施例能够识别难以判断是否包括障碍物的区域，提示人工进行判断，因而能够更准确地进行捣固，防止损坏铁路设施。作为一种实施例，根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域之前，还包括以下步骤：获取每个鱼尾板的鱼尾板位置；根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域，包括以下步骤：根据所有第一可见障碍物、所有第一禁止下镐标记确定第一捣固区域和所有鱼尾板的鱼尾板位置，确定曲股区域图像中的对应使用起道钩的起道钩捣固区域和对应使用起道轮的起道轮捣固区域。对鱼尾板所在区域进行捣固需要使用起道钩，其余位置均使用起道轮。因此需要确定鱼尾板所在的位置。而由于鱼尾板位于轨腰位置，因而图像采集设备垂直向下拍摄时被轨头遮挡，无法成像，对鱼尾板进行定位可以采用图4中的鱼尾板信息采集模块。检测鱼尾板位置的检测设备包含安装于钢轨41外侧的鱼尾板上的若干点激光传感器42，单根钢轨鱼尾板检测至少包含两个点激光传感器42，以及，安装于捣固车辆下部支架44末端的激光发射器43，激光发射器43安装于车底由支架伸出下降到轨头以下，由钢轨外侧垂直射向轨腰，能够向点激光传感器发射激光，点激光传感器42接收到激光后，能够通过无线通讯方式将收到激光信号发送给控制装置。控制装置能够根据激光发射器所在的位置和收到激光信号的时间，确定鱼尾板所在的位置。由于对鱼尾板附近进行捣固使用的捣固工具较为特殊为起道钩，而其余区域进行捣固采用的捣固工具为起道轮。因而确定鱼尾板的位置，并根据鱼尾板的位置确定使用起道钩作为捣固工具的位置，以及使用起道轮作为捣固工具的位置，能够方便捣固车根据捣固的位置确定使用的捣固工具。作为一种实施例，获取每个鱼尾板的鱼尾板位置，包括以下步骤：利用至少一个激光传感器获取所有位于正线铁轨的所有鱼尾板的位置；根据道岔铁轨上的鱼尾板标记获取所有位于道岔铁轨的所有鱼尾板的位置。道岔区轨道结构复杂，车辆底部有安装激光发射器的支架伸出可能会与铁路轨道发生碰撞，所以通常用于在开岔侧的检测鱼尾板位置的装置需收回，无法工作。因此采用标识的方式，在作业前由指定操作手提前在轨道上标记鱼尾板位置。本申请实施例能够通过识别铁轨上的标记识别鱼尾板的位置，在道岔区轨道结构复杂，不适合使用激光器确定鱼尾板位置时，能够更灵活地识别鱼尾板的位置。作为一种实施例，可见障碍物分为可移动障碍物和不可移动障碍物，根据用于识别可见障碍物的障碍物识别模型，确定直股区域图像和曲股区域图像中每个第一可见障碍物，包括以下步骤：根据用于识别可移动障碍物的可移动障碍物识别模型，识别直股区域图像和曲股区域图像中的每个可移动障碍物；根据用于识别可移动障碍物的不可移动障碍物识别模型，识别直股区域图像和曲股区域图像中的每个不可移动障碍物；根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域之后，包括以下步骤：将第一捣固区域的处理方式确定为直接捣固；将所有可移动障碍物的区域的处理方式确定为移除障碍物后捣固。铁轨附近除了不可移动的障碍物之外，还可能包括异物。异物所在的位置可以进行捣固，是第一捣固区域的一部分。但处理方式与不包含异物的区域不同，需要先移除异物，然后再进行捣固。不可移动障碍物所在区域不可进行捣固。可移动障碍物和不可移动障碍物可以采用经过样本训练的识别模型进行识别。本申请实施例能够识别道岔附近的异物，确定需要移除异物的区域，以使捣固车能够使用更合理的处理方式进行捣固。作为一种实施例，根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域之后，还包括以下步骤：根据第一捣固区域形成直股区域图像和曲股区域图像的第一捣固区域示意图。为了方便人工操作，可以将捣固区域的轮廓可视化显示在拍摄的图像上。可以采用不同的颜色显示采用不同捣固装置的区域，以及采用不同处理方式的区域。上文所述的“禁止下镐标记识别模型”、“复杂区域识别模型”、“可移动障碍物识别模型”、“不可移动障碍物识别模型”可以为利用人工智能技术，通过训练样本图片进行训练得到的。上述识别模型为不同的模型。可采用不同的训练数据，不同的基础架构。上述识别模型中的每种识别模型可以按照以下步骤获得：获取基础图像数据并进行样本预处理，得到训练样本数据集基础图像数据为包含识别模型针对的识别对象的图像。例如，用于训练“禁止下镐标记识别模型”的基础图像数据中，包含禁止下镐标记。基础图像数据中可能除了包含识别对象之外，还包含大量其他信息，例如，禁止下镐标记在基础图像数据占据面积与整个基础图像数据相比，比例较小，包含大量无效信息。为了降低无效训练的计算量，可以对基础图像数据进行裁剪，缩小用于训练的图像的面积，得到训练样本数据集。搭建未经训练的识别模型架构识别模型架构为识别模型的基本数学模型结构，可利用训练样本数据集对识别模型架构进行训练，以对数学模型结构中的参数进行调整，得到最终的识别模型。本申请中每种识别模型架构可以相同，也可用户根据识别模型的类型和经验设置成不同形式。以“禁止下镐标记识别模型”为例，“禁止下镐标记识别模型”的识别模型架构可以包括特征提取层。利用训练样本数据集对未经训练的识别模型架构进行训练，获得经过训练的识别模型。如上文所述，一种识别模块的训练样本数据集中包含该识别模块针对的识别对象，分别将该识别模块的训练样本数据集中的每个图像输入识别模型架构，得到识别结果。然后根据识别结果，对识别模型架构中的参数进行调节，得到训练后的识别模型。本步骤可以进行多次训练，以连续的两次训练为例，训练2可以利用训练1得到的识别模型1，即将训练2的用于训练的图像输入模型1，得到识别结果，根据识别结果对模型1的参数进行调节得到识别模型2。为了实现上述定位方法，本申请的一个实施例中提供一种检测铁路道岔的装置，图5示出了检测铁路道岔的装置 500 的示意性架构图，包括；第一获取模块510、第一确定模块、第二确定模块和第三确定模块，其中：该第一获取模块510，用于获取直股区域图像和曲股区域图像；该第一确定模块520，用于根据用于识别可见障碍物的障碍物识别模型，确定直股区域图像和曲股区域图像中每个第一可见障碍物；该第二确定模块530，用于根据用于识别禁止下镐标记的禁止下镐标记识别模型，确定直股区域图像和曲股区域图像中每个第一禁止下镐标记；禁止下镐标记用于表示禁止下镐标记处有被掩盖的不可见障碍物；该第三确定模块540，用于根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域；第一捣固区域是指曲股区域图像中不包含所有第一可见障碍物和所有不可见障碍物的区域。作为一种实施例，该装置 500还包括第四确定模块和第五确定模块：该第四确定模块，用于根据用于识别复杂区域的复杂区域识别模型，确定第一捣固区域中每个复杂区域；复杂区域是指疑似含有第一可见障碍物的区域；该第五确定模块，用于将所有复杂区域确定为人工操作区域，并将第一捣固区域中所有复杂区域之外的区域确定为自动第一捣固区域。作为一种实施例，该装置 500还包括第二获取模块、第六确定模块和调节模块：该第二获取模块，用于利用第一图像采集设备或第二图像采集设备获取正线区域图像；该第六确定模块，用于若识别正线区域图像中包含道岔，则确定道岔的开叉方向；该调节模块，用于根据开叉方向调节第一图像采集设备的拍摄位置和第二图像采集设备的拍摄位置；该第一获取模块510包括第一获取子模块：该第一获取子模块，用于利用拍摄位置经过调节的第一图像采集设备和拍摄位置经过调节的第二图像采集设备获取直股区域图像和曲股区域图像。作为一种实施例，该装置 500还包括第七确定模块、第八确定模块和第九确定模块：该第七确定模块，用于若识别正线区域图像中不包含道岔，则根据障碍物识别模型，确定正线区域图像中每个第二可见障碍物；该第八确定模块，用于根据禁止下镐标记识别模型，确定正线区域图像中每个第二禁止下镐标记；第二禁止下镐标记用于表示第二禁止下镐标记处有被掩盖的不可见障碍物；该第九确定模块，用于根据所有第二可见障碍物和所有第二禁止下镐标记确定正线区域图像中的第二捣固区域。作为一种实施例，该装置 500还包括第三获取模块、第十确定模块和第十一确定模块：该第三获取模块，用于获取每个鱼尾板的鱼尾板位置；该第十确定模块，用于根据所有第一可见障碍物和所有第一禁止下镐标记确定直股区域图像和曲股区域图像中的第一捣固区域，包括：该第十一确定模块，用于根据所有第一可见障碍物、所有第一禁止下镐标记确定第一捣固区域和所有鱼尾板的鱼尾板位置，确定曲股区域图像中的对应使用起道钩的起道钩捣固区域和对应使用起道轮的起道轮捣固区域。作为一种实施例，该第三获取模块包括第二获取子模块和第三获取子模块：该第二获取子模块，用于利用至少一个激光传感器获取所有位于正线铁轨的所有鱼尾板的位置；该第三获取子模块，用于根据道岔铁轨上的鱼尾板标记获取所有位于道岔铁轨的所有鱼尾板的位置。作为一种实施例，第一可见障碍物分为可移动障碍物和不可移动障碍物，根据用于识别可见障碍物的障碍物识别模型，该第一确定模块520包括第一识别子模块和第二识别子模块：该第一识别子模块，用于根据用于识别可移动障碍物的可移动障碍物识别模型，识别直股区域图像和曲股区域图像中的每个可移动障碍物；该第二识别子模块，用于根据用于识别可移动障碍物的不可移动障碍物识别模型，识别直股区域图像和曲股区域图像中的每个不可移动障碍物；该装置 500还包括第十二确定模块和第十三确定模块：该第十二确定模块，用于将第一捣固区域的处理方式确定为直接捣固；该第十三确定模块，用于将所有可移动障碍物的区域的处理方式确定为移除障碍物后捣固。在一个实施例中，提供了一种计算机设备，该计算机设备的内部结构图可以如图6所示。该计算机设备包括通过系统总线连接的处理器、存储器、网络接口和数据库。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统、计算机程序和数据库。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的数据库用于存储数据。该计算机设备的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时以实现如上的一种检测铁路道岔方法。包括：包括存储器和处理器，存储器存储有计算机程序，处理器执行计算机程序时实现如上检测铁路道岔中的任一步骤。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请实施例中的方案可以采用各种计算机语言实现，例如，C语言、VHDL语言、Verilog语言、面向对象的程序设计语言Java和直译式脚本语言JavaScript等。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。在本申请的描述中，需要理解的是，术语“中心”、“纵向”、“横向”、“长度”、“宽度”、“厚度”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本申请和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本申请的限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本申请的描述中，“多个”的含义是至少两个，例如两个，三个等，除非另有明确具体的限定。在本申请中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”、“固定”等术语应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或成一体；可以是机械连接，也可以是电连接或可以互相通讯；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通或两个元件的相互作用关系。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本申请中的具体含义。尽管已描述了本申请的优选实施例，但本领域内的技术人员一旦得知了基本创造性概念，则可对这些实施例作出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本申请范围的所有变更和修改。显然，本领域的技术人员可以对本申请进行各种改动和变型而不脱离本申请的精神和范围。这样，倘若本申请的这些修改和变型属于本申请权利要求及其等同技术的范围之内，则本申请也意图包含这些改动和变型在内。
