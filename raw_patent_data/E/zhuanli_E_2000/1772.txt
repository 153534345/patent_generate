标题title
储层压裂改造区和未改造区参数反演方法、系统及设备
摘要abst
本发明公开一种储层压裂改造区和未改造区参数反演方法、系统及设备，涉及油气藏开发领域。本发明方法首先获取反演井压裂液注入、停泵闷井及反排阶段动态数据；根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定；根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。本发明方法实现了同时反演压裂改造区和未改造区的多个参数，并且不需进行额外的实验测试，经济成本低且准确性高。
权利要求书clms
1.一种储层压裂改造区和未改造区参数反演方法，其特征在于，包括：获取反演井压裂液注入、停泵闷井及反排阶段动态数据；所述压裂液注入阶段动态数据包括压裂液注入过程中井口压力和压裂液注入流量；所述停泵闷井阶段动态数据包括停泵闷井阶段的井口压力数据；所述反排阶段动态数据包括反排阶段井口的日产液量；根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定；根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。2.根据权利要求1所述的储层压裂改造区和未改造区参数反演方法，其特征在于，所述获取反演井压裂液注入、停泵闷井及反排阶段动态数据，具体包括：记录反演井压裂液注入过程中的井口压力和压裂液注入流量数据作为压裂液注入阶段动态数据；待压裂液注入施工完成后，关闭井口，并连续记录井口压力数据作为停泵闷井阶段动态数据，直至3天内井口压力变化量的绝对值小于0.01MPa；根据实际压裂液总注入量确定油嘴尺寸，并将油嘴安装于井口；打开井口阀门，连续记录井口的日产液量作为反排阶段动态数据，当井口压力降至0MPa后停止记录。3.根据权利要求2所述的储层压裂改造区和未改造区参数反演方法，其特征在于，所述根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定，具体包括：根据反演井在压裂层位中的井位与其相邻井在压裂层位中的井位确定反演井的模拟区域；对所述模拟区域进行网格划分，建立反演井数值模拟网格模型；在所述反演井数值模拟网格模型上设定模拟注入井和模拟生产井；根据所述压裂液注入、停泵闷井及反排阶段动态数据设定所述模拟注入井和模拟生产井参数；将所述反演井数值模拟网格模型划分为压裂改造区和未改造区。4.根据权利要求3所述的储层压裂改造区和未改造区参数反演方法，其特征在于，所述根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数，具体包括：若储层原始条件下为饱和水状态，根据所述反演井数值模拟网格模型，采用油气藏数值模拟器进行数值模拟，模拟结束后，输出不同时间点模拟生产井的模拟井底压力数据；根据所述停泵闷井阶段动态数据和所述模拟井底压力数据计算模拟井底压力与实际井底压力的误差E；以E最小化为目标函数，采用优化算法对压裂改造区和未改造区参数进行优化，确定优化后的压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率和压缩系数。5.根据权利要求3所述的储层压裂改造区和未改造区参数反演方法，其特征在于，所述根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数，具体包括：若储层原始条件下含可动油相或可动气相，根据所述反演井数值模拟网格模型，采用油气藏数值模拟器进行数值模拟，模拟结束后，输出不同时间点模拟生产井的模拟井底压力数据；根据所述停泵闷井阶段动态数据和所述模拟井底压力数据计算模拟井底压力与实际井底压力的误差E；以E最小化为目标函数，采用优化算法对压裂改造区和未改造区参数进行优化，确定优化后的压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。6.一种储层压裂改造区和未改造区参数反演系统，其特征在于，包括：动态数据获取模块，用于获取反演井压裂液注入、停泵闷井及反排阶段动态数据；所述压裂液注入阶段动态数据包括压裂液注入过程中井口压力和压裂液注入流量；所述停泵闷井阶段动态数据包括停泵闷井阶段的井口压力数据；所述反排阶段动态数据包括反排阶段井口的日产液量；网格模型建立模块，用于根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定；优化参数确定模块，用于根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。7.一种电子设备，包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至5中任一项所述的储层压裂改造区和未改造区参数反演方法。8.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被执行时实现如权利要求1至5中任一项所述的储层压裂改造区和未改造区参数反演方法。
说明书desc
技术领域本发明涉及油气藏开发技术领域，特别是涉及一种储层压裂改造区和未改造区参数反演方法、系统及设备。背景技术水力压裂技术是实现低渗透和致密油气藏高效开发的重要手段，准确描述水力压裂后形成的压裂改造区和储层原始渗流参数是评价压裂效果及后续产量准确预测的重要前提。目前已有的压裂改造区参数确定方法主要包括微地震监测法、压裂扩展模拟法及基于压力动态数据反演方法三大类。其中，微地震监测法耗时费力且成本较高，现场实际开发过程中通常仅对某些典型井进行微地震监测，考虑经济成本难以实现每口压裂井均进行微地震监测；此外，微地震监测方法仅能确定改造区的空间分布特征，但难以给出改造区内渗透率或导流能力等其他参数。压裂扩展模拟方法的可靠性受数学模型、储层实际应力分布和大小等因素影响显著，同时，若储层物性非均质性较强或存在复杂的天然裂缝时，模拟结果通常与实际存在较大偏差。基于压力动态数据反演方法将压裂缝假设为单条主裂缝，建立基于压裂后关井过程中的压力的反演方法，反演得到裂缝的缝长和导流能力等参数，该方法基于单条主裂缝假设，但实际储层压裂后可形成复杂的压裂缝网，而非简单的双翼垂直缝，针对此类储层，已有的数值反演方法反演结果可靠性较低。此外，以上所有方法均只能确定压裂改造区参数，而无法给出储层未改造区域的渗流参数。发明内容针对上述背景技术中提出的问题，本发明提供一种储层压裂改造区和未改造区参数反演方法、系统及设备，能够实现经济、准确地确定压裂改造区和未改造区参数。为实现上述目的，本发明提供了如下方案：一方面，本发明提供一种储层压裂改造区和未改造区参数反演方法，包括：获取反演井压裂液注入、停泵闷井及反排阶段动态数据；所述压裂液注入阶段动态数据包括压裂液注入过程中井口压力和压裂液注入流量；所述停泵闷井阶段动态数据包括停泵闷井阶段的井口压力数据；所述反排阶段动态数据包括反排阶段井口的日产液量；根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定；根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。可选地，所述获取反演井压裂液注入、停泵闷井及反排阶段动态数据，具体包括：记录反演井压裂液注入过程中的井口压力和压裂液注入流量数据作为压裂液注入阶段动态数据；待压裂液注入施工完成后，关闭井口，并连续记录井口压力数据作为停泵闷井阶段动态数据，直至3天内井口压力变化量的绝对值小于0.01MPa；根据实际压裂液总注入量确定油嘴尺寸，并将油嘴安装于井口；打开井口阀门，连续记录井口的日产液量作为反排阶段动态数据，当井口压力降至0MPa后停止记录。可选地，所述根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定，具体包括：根据反演井在压裂层位中的井位与其相邻井在压裂层位中的井位确定反演井的模拟区域；对所述模拟区域进行网格划分，建立反演井数值模拟网格模型；在所述反演井数值模拟网格模型上设定模拟注入井和模拟生产井；根据所述压裂液注入、停泵闷井及反排阶段动态数据设定所述模拟注入井和模拟生产井参数；将所述反演井数值模拟网格模型划分为压裂改造区和未改造区。可选地，所述根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数，具体包括：若储层原始条件下为饱和水状态，根据所述反演井数值模拟网格模型，采用油气藏数值模拟器进行数值模拟，模拟结束后，输出不同时间点模拟生产井的模拟井底压力数据；根据所述停泵闷井阶段动态数据和所述模拟井底压力数据计算模拟井底压力与实际井底压力的误差E；以E最小化为目标函数，采用优化算法对压裂改造区和未改造区参数进行优化，确定优化后的压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率和压缩系数。可选地，所述根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数，具体包括：若储层原始条件下含可动油相或可动气相，根据所述反演井数值模拟网格模型，采用油气藏数值模拟器进行数值模拟，模拟结束后，输出不同时间点模拟生产井的模拟井底压力数据；根据所述停泵闷井阶段动态数据和所述模拟井底压力数据计算模拟井底压力与实际井底压力的误差E；以E最小化为目标函数，采用优化算法对压裂改造区和未改造区参数进行优化，确定优化后的压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。另一方面，本发明提供一种储层压裂改造区和未改造区参数反演系统，包括：动态数据获取模块，用于获取反演井压裂液注入、停泵闷井及反排阶段动态数据；所述压裂液注入阶段动态数据包括压裂液注入过程中井口压力和压裂液注入流量；所述停泵闷井阶段动态数据包括停泵闷井阶段的井口压力数据；所述反排阶段动态数据包括反排阶段井口的日产液量；网格模型建立模块，用于根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定；优化参数确定模块，用于根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。另一方面，本发明还提供一种电子设备，包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现所述的储层压裂改造区和未改造区参数反演方法。另一方面，本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，所述计算机程序被执行时实现所述的储层压裂改造区和未改造区参数反演方法。根据本发明提供的具体实施例，本发明公开了以下技术效果：本发明所提供的储层压裂改造区和未改造区参数反演方法、系统及设备，所述方法首先获取反演井压裂液注入、停泵闷井及反排阶段动态数据；根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定；根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。本发明方法实现了同时反演压裂改造区和未改造区的多个参数，反演方法不需进行额外的实验测试，经济成本低且准确性高。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明所提供的一种储层压裂改造区和未改造区参数反演方法的流程图；图2为获取的反演井压裂液注入、停泵闷井及反排阶段动态数据示意图；图3为反演井模拟区域确定方法示意图；图4为反演井数值模拟网格模型压裂改造区形态示意图；图5为相对渗透率曲线示意图；图6为本发明实施例反演井所在区域的井位部署示意图；图7为本发明实施例反演井数值模拟网格模型第一示意图；图8为本发明实施例压差E的变化趋势示意图；图9为本发明实施例反演井数值模拟网格模型第二示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明的目的是提供一种储层压裂改造区和未改造区参数反演方法、系统及设备，以能够实现经济、准确地确定压裂改造区和未改造区参数。为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图和具体实施方式对本发明作进一步详细的说明。图1为本发明所提供的一种储层压裂改造区和未改造区参数反演方法的流程图，参见图1，一种储层压裂改造区和未改造区参数反演方法，包括：步骤1：获取反演井压裂液注入、停泵闷井及反排阶段动态数据。本发明所述反演井是指油气藏现场实际开发过程中完钻后压裂的、需要反演其压裂改造区和未改造区参数的油气井，包括直井、定向井等。参见图2，所述步骤1具体包括：步骤1.1：记录反演井压裂液注入过程中的井口压力和压裂液注入流量数据作为压裂液注入阶段动态数据；步骤1.2：待压裂液注入施工完成后，关闭井口，并连续记录一定时间内井口压力数据作为停泵闷井阶段动态数据，直至3天内井口压力变化量的绝对值小于0.01MPa；步骤1.3：根据实际压裂液总注入量确定油嘴尺寸，并将油嘴安装于井口；具体的，压裂液总注入量＜1000m3、1000~3000m3和＞3000m3时，对应的油嘴尺寸分别为2mm、4mm和6mm；步骤1.4：打开井口阀门，连续记录一定时间内井口的日产液量作为反排阶段动态数据，当井口压力降至0MPa后停止记录；具体地，对于天然气储层，连续记录一定时间内井口产出的水量并计算日产水量；对于含油储层，连续记录一定时间内井口产出的水量和油量并及计算日产水量和日产油量。步骤2：根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定。所述步骤2具体包括：步骤2.1：根据反演井在压裂层位中的井位与其相邻井在压裂层位中的井位确定反演井的模拟区域；具体参见图3，绘制反演井点与各邻井井点的垂直平分线，取各条垂直平分线所构成的多边形为反演井的模拟区域。步骤2.2：对所述模拟区域进行网格划分，建立反演井数值模拟网格模型；然后根据反演井的测井解释报告确定该反演井的压裂层位的埋深、有效厚度、孔隙度、饱和度数值，将上述参数数值作为反演井数值模拟网格模型的埋深、有效厚度、孔隙度、饱和度的取值；并根据实测的储层流体PVT数据和相对渗透率数值，设定网格模型中流体的属性参数和相对渗透率。步骤2.3：在所述反演井数值模拟网格模型上设定模拟注入井和模拟生产井；具体地，在网格模型上设定两口模拟井，其中模拟注入井为模拟注入井，注入流体为水；模拟生产井的井位与步骤2.1中确定的反演井位置相同，作为模拟生产井；根据完井报告确定反演井在压裂层位的实际井筒直径值，并将该数值设定为模拟注入井的井筒直径；模拟生产井的井位、井筒直径与模拟注入井相同。步骤2.4：根据所述压裂液注入、停泵闷井及反排阶段动态数据设定所述模拟注入井和模拟生产井参数；具体地，在压裂液注入阶段，设定模拟生产井为关井状态，设定模拟注入井的控制方式为定流量注入，将步骤1.1中获取的不同注入时间的压裂液注入流量数值作为模拟注入井的流量控制条件；在停泵闷井阶段，设定模拟注入井和模拟生产井均为关井状态；在反排阶段，设定模拟注入井为关井状态，模拟生产井为定产水量控制模式，每个时间点的产水量与步骤1.4中监测到的日产水量相同。步骤2.5：将所述反演井数值模拟网格模型划分为压裂改造区和未改造区。具体参见图4，将网格模型划分为压裂改造区和原始未改造区两个区域，其中，压裂改造区域设定为矩形，该矩形的中心与网格模型中模拟生产井所处位置重叠，矩形的长为nx×Dx、宽为ny×Dy，其中nx、ny为非零正整数，Dx、Dy分为网格模型在x和y方向上单个网格的平均宽度，初始设置时取nx=ny=3；记压裂改造区的渗透率、压缩系数分别为Kf和Cf，记原始未改造区的渗透率和压缩系数分别为Ki和Ci；记压裂改造区和原始未改造区的储层平均渗透率分别为kf和ki；初始设置时取kf=ki，Cf=Ci=0.01MPa-1。步骤3：根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数。步骤3开展历史拟合，以确定压裂改造区和未改造区渗流参数。参数确定分为两种情况：情况一，储层原始条件下为饱和水状态，此种情况下则需反演的压裂改造区参数包括压裂改造区的尺寸、渗透率Kf和压缩系数Cf，未改造区参数包括未改造区的渗透率Ki和压缩系数Ci；情况二，储层原始条件下含可动油相或可动气相，此种情况下需反演的压裂改造区参数仍包括压裂改造区的尺寸、渗透率Kf和压缩系数Cf，但未改造区参数需包括未改造区的渗透率Ki、压缩系数Ci以及相渗曲线。下面对两种情况下开展数值模拟的方法进行详细介绍。情况一，所述步骤3具体包括：步骤3.1.1：若储层原始条件下为饱和水状态，根据所述反演井数值模拟网格模型，采用油气藏数值模拟器进行数值模拟，模拟结束后，输出不同时间点模拟生产井的模拟井底压力数据；步骤3.1.2：根据步骤1.2中监测到的停泵闷井阶段动态数据和步骤3.1.1模拟得到的模拟井底压力数据计算模拟井底压力与实际井底压力的误差E： 式中，Pw_sim,i和P'w_sim,i分别为自闷井开始第i个时间点的模拟井底压力值和模拟井底压力导数值；Pw_obs,i和P'w_obs,i分别为自闷井开始第i个时间点实际记录的井口压力值和井口压力导数值；Pw_avg和P'w_avg分别为自闷井开始实际记录的井口压力平均值和井口压力导数平均值；H为压裂层位的垂深，ρ为压裂液密度，g为重力加速度；N为自闷井开始记录的数据点数量。步骤3.1.3：以E最小化为目标函数，采用优化算法对压裂改造区和未改造区参数进行优化，确定优化后的压裂改造区和未改造区参数。具体地，以nx、ny、Kf、Cf、Ki、Ci为优化变量，以E最小化为目标函数，采用优化算法对优化变量取值进行调整，每调整一次数值，则重复步骤3.1.1，直至误差E小于0.05，记E小于0.05时对应的优化变量取值为nx_f、ny_f、Kf_f、Cf_f、Ki_f、Ci_f，记为本发明要确定的压裂改造区参数和未改造区参数。根据nx_f、ny_f可以计算改造区体积为nx_f×ny_f×Dx×Dy。情况二，所述步骤3具体包括：步骤3.2.1：若储层原始条件下含可动油相或可动气相，根据所述反演井数值模拟网格模型，采用油气藏数值模拟器进行数值模拟，模拟结束后，输出不同时间点模拟生产井的模拟井底压力数据；步骤3.2.2：根据步骤1.2中监测到的停泵闷井阶段动态数据和步骤3.2.1模拟得到的模拟井底压力数据，采用公式计算模拟井底压力与实际井底压力的误差E；步骤3.2.3：以E最小化为目标函数，采用优化算法对压裂改造区和未改造区参数进行优化，确定优化后的压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。具体地，以nx、ny、Kf、Cf、Ki、Ci、Swc、Snwr、Krw0、Krnw0、η、λ为优化变量，以E最小化为目标函数，采用优化算法对网格模型中涉及到的优化变量取值进行调整，根据式和计算相对渗透率： 式中，Sw、Swc、Snwr分别为含水饱和度、束缚水饱和度、残余油饱和度；Krw0、Krnw0分别为水相最大相对渗透率、油相最大相对渗透率；Krw和Krnw分别是水相相对渗透率和油相相对渗透率；η、λ、Krw0、Krnw0都是影响Krw和Krnw的系数。换言之，给定η、λ、Krw0、Krnw0，就可以根据上述公式和计算Krw和Krnw的值。每调整一次数值，则重复步骤3.2.1，直至误差E小于0.05，记E小于0.05时对应的优化变量取值为nx_f、ny_f、Kf_f、Cf_f、Ki_f、Ci_f、Swc_f、Snwr_f、Krw0_f、Krnw0_f、η_f、λ_f；将nx_f、ny_f记为压裂改造区的尺寸，可以根据nx_f、ny_f计算改造区体积为nx_f×ny_f×Dx×Dy；将Kf_f和Cf_f记为改造区渗透率和压缩系数；将Ki_f和Ci_f记为未改造区的渗透率和压缩系数；根据Swc_f、Snwr_f、Krw0_f、Krnw0_f、η_f、λ_f和式、计算得到相对渗透率曲线，如图5所示。在工程实际中，进行例如页岩油、致密油、页岩气、煤层气、致密砂岩气等低渗透油气藏开发时，基本都需要进行水力压裂改造才能形成经济产能。本发明确定的储层压裂改造区和未改造区参数是预测储层压裂后产量动态的关键参数，要实现压裂后产量精确预测，必须尽可能准确地确定上述参数的取值。已有的压裂改造区参数确定方法无法实现两个区域的同时反演，且已有方法反演的参数有限；而本发明方法基于压裂停泵后压力监测动态数据和压裂液反排数据实现了同时反演压裂改造区和未改造区的多个参数，并且该反演方法不需进行额外的实验测试，经济成本低，且具有准确性高的特点，因此具有广泛的应用前景。下面提供本发明一种储层压裂改造区和未改造区参数反演方法的一个具体实施例，包括：S1：获取反演井压裂液注入、停泵闷井及反排阶段动态数据。S1.1：记录反演井压裂液注入过程中的井口压力和压裂液注入流量数据作为压裂液注入阶段动态数据，如表1所示。表1 压裂液注入阶段动态数据时间/分钟井口压力/MPa压裂液注入流量/0.34.91.40.78.51.51.312.21.92.017.35.13.019.25.24.423.37.15.023.97.27.028.77.310.030.68.213.134.98.115.033.88.220.034.88.125.028.98.130.025.88.035.023.68.040.022.28.145.022.08.150.023.38.255.022.78.260.023.68.165.022.78.270.024.38.275.023.58.1S1.2：待压裂液注入施工完成后，关闭井口，并连续记录34天内井口压力数据作为停泵闷井阶段动态数据，如表2所示。表2 停泵闷井阶段动态数据时间/分钟压力/MPa时间/分钟压力/MPa时间/分钟压力/MPa021.8111498.13215255.821417.5912218.06229655.743116.2012938.00244055.685914.9713657.95258455.616914.6014537.90272855.5511413.4217187.79287255.4914112.9025147.58301655.4321311.8728057.51316055.3828511.1442457.26330455.3235710.5756857.06344855.2742910.1171256.88359255.225019.7385656.72373655.175739.41100056.58388055.136459.14114456.46402455.087178.91128856.35416855.047898.72143256.24431254.998618.56157656.15445654.959338.42172056.06460054.9110058.31186455.97474454.8710778.21200855.89S1.3：经计算实际压裂液总注入量＜1000m3，因此确定油嘴尺寸为2mm；S1.4：打开井口阀门，连续记录34天内井口的日产液量作为反排阶段动态数据，如表3所示。由于本发明实施例针对天然气储层，因此连续记录的是井口产出的水量并计算日产水量。表3 反排阶段动态数据时间/天压力/MPa日产水量/时间/天压力/MPa日产水量/14.600.7181.728.224.284.1191.578.134.097.92201.418.343.9311.9211.268.553.7615.4221.108.263.6016.9230.948.173.4416.1240.797.283.2815.4250.637.293.1214.2260.476.4102.9612.2270.316.2112.8110.5280.156.1122.659.4290.005.2132.509.1300.004.1142.348.2310.003.2152.198.3320.002.1162.038.8330.001.2171.889.1340.000S2：根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定。S2.1：根据反演井在压裂层位中的井位与其相邻井在压裂层位中的井位确定反演井的模拟区域；参见图6，由于本实施例中反演井井网相对较规则，因此取该反演井与周围井连线中点作为该反演井的模拟区域。S2.2：对所述模拟区域进行网格划分，建立反演井数值模拟网格模型，模型x和y方向的网格数分别为31，每个网格在x和y方向上宽度均为10m；然后根据反演井的测井解释报告确定该反演井的压裂层位的埋深为650米、有效厚度为5.5米、饱和度数值为100%、温度为30℃，粘度1.0cp，如表4所示。本实施例中的压裂液为清水压裂液，清水无需提供PVT和相对渗透率曲线，只有涉及到油气的时候才需要提供PVT和相对渗透率，但由于一般的模拟器均要求输入相对渗透率，因此本实施例中输入的相对渗透率数据如下表5所示。表4 反演井数值模拟网格模型参数压裂层埋深650有效厚度5.5含水饱和度100地层温度30粘度1.0表5 相对渗透率数值含水饱和度水相相渗非水相相渗0.7010.750.072650.7350430.80.1638180.5099720.850.3034190.2920230.90.4786320.1481480.950.6780630.0484330.9750.7820510.011385110S2.3：在所述反演井数值模拟网格模型上设定两口模拟井，其中模拟注入井注入流体为水，模拟生产井的井位与反演井位置相同；根据完井报告确定反演井在压裂层位的实际井筒直径值为0.1m，因此设定模拟注入井的井筒直径为0.1m，如图7所示；模拟生产井的井位、井筒直径与模拟注入井相同。S2.4：在压裂液注入阶段，设定模拟生产井为关井状态，设定模拟注入井的控制方式为定流量注入，将表1中获取的不同注入时间的压裂液注入流量数值作为模拟注入井的流量控制条件；在停泵闷井阶段，设定模拟注入井和模拟生产井均为关井状态；在反排阶段，设定模拟注入井为关井状态，模拟生产井为定产水量控制模式，每个时间点的产水量与表3中监测到的日产水量相同。S2.5：将所述反演井数值模拟网格模型划分为压裂改造区和未改造区两个区域，其中，矩形压裂改造区域的长为nx×Dx、宽为ny×Dy，本实施例初始设置nx=ny=3，设置Dx=Dy=10m；压裂改造区的渗透率、压缩系数分别为Kf和Cf，原始未改造区的渗透率和压缩系数分别为Ki和Ci；压裂改造区和原始未改造区的储层平均渗透率分别为kf和ki；初始设置kf=ki，Cf=Ci=0.01MPa-1，Kf=20mD，Ki=0.1mD。S3：根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数。本实施例为情况一，储层原始条件下为饱和水状态，此种情况下需反演的压裂改造区参数包括压裂改造区的尺寸、渗透率Kf和压缩系数Cf，未改造区参数包括未改造区的渗透率Ki和压缩系数Ci。S3.1：根据所述反演井数值模拟网格模型，采用油气藏数值模拟器进行数值模拟，模拟结束后，输出不同时间点模拟生产井的模拟井底压力数据；如表6所示。表6 不同时间点模拟生产井的模拟井底压力数据时间/天压力/Mpa时间/天压力/Mpa时间/天压力/Mpa0.1518.901911.55547.560.217.872011.49557.420.2517.142111.43567.280.316.572211.38577.140.3516.112311.32587.000.415.732411.27596.860.4515.412511.22606.710.515.142611.17616.570.5514.912711.13626.520.614.722811.08636.470.6514.562911.04646.440.714.423010.99656.400.7514.313110.95666.370.814.213210.91676.350.8514.133310.87686.320.914.063410.50696.300.9514.013510.32706.28113.953610.17716.27213.513710.01726.25313.27389.86736.24413.06399.71746.23512.88409.56756.21612.72419.41766.20712.58429.26776.19812.46439.12786.19912.35448.97796.181012.24458.83806.171112.15468.69816.161212.06478.54826.161311.97488.40836.151411.89498.26846.151511.82508.12856.141611.74517.98866.141711.68527.84876.131811.61537.70S3.2：根据表2中监测到的停泵闷井阶段动态数据和表6模拟得到的模拟井底压力数据计算模拟井底压力与实际井底压力的误差E=0.19。S3.3：以E最小化为目标函数，采用优化算法对压裂改造区和未改造区参数进行优化，确定优化后的压裂改造区和未改造区参数。本实施例以nx、ny、Kf、Cf、Ki、Ci为优化变量，以E最小化为目标函数，采用贝叶斯网格自适应搜索算法对优化变量取值进行调整，每调整一次则重复S3.1.1，调整过程中计算的压差E的变化趋势如图8所示，反演井数值模拟网格模型的变化如图9所示，最终E的最小值为0.112，对应的nx_f、ny_f、Kf_f、Cf_f、Ki_f、Ci_f分别为7、24、0.32mD、36.4mD、3.2×10-5MPa-1、7.14×10-5MPa-1，根据nx_f、ny_f计算出改造区面积为7×24×10×10=16800m2。基于本发明提供的方法，本发明还提供一种储层压裂改造区和未改造区参数反演系统，包括：动态数据获取模块，用于获取反演井压裂液注入、停泵闷井及反排阶段动态数据；所述压裂液注入阶段动态数据包括压裂液注入过程中井口压力和压裂液注入流量；所述停泵闷井阶段动态数据包括停泵闷井阶段的井口压力数据；所述反排阶段动态数据包括反排阶段井口的日产液量；网格模型建立模块，用于根据所述压裂液注入、停泵闷井及反排阶段动态数据建立反演井数值模拟网格模型并进行参数设定；优化参数确定模块，用于根据所述反演井数值模拟网格模型进行数值模拟，确定压裂改造区和未改造区参数；所述压裂改造区参数包括压裂改造区的尺寸、渗透率和压缩系数；所述未改造区参数包括未改造区的渗透率、压缩系数和相渗曲线。进一步地，本发明还提供一种电子设备，该电子设备可以包括：处理器、通信接口、存储器和通信总线。其中，处理器、通信接口、存储器通过通信总线完成相互间的通信。处理器可以调用存储器中的计算机程序，以执行所述的储层压裂改造区和未改造区参数反演方法。此外，上述的存储器中的计算机程序通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。进一步地，本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，所述计算机程序被执行时可以实现所述的储层压裂改造区和未改造区参数反演方法。针对现有压裂改造区参数确定方法或经济成本高、或准确性较差的问题，本发明方法能够实现经济、准确地同时确定压裂改造区和未改造区参数，为预测储层压裂后产量动态提供准确地数据支持。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的系统而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处。综上所述，本说明书内容不应理解为对本发明的限制。
