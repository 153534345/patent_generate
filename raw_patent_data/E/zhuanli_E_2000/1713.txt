标题title
一种基于多窗口锚点的测井曲线标准化方法及装置
摘要abst
本发明公开一种基于多窗口锚点的测井曲线标准化方法及装置，对于传统曲线标准化方法，本发明使用的基于多窗口锚点的测井曲线标准化方法能够提供一套适用于多趟测井曲线进行自动深度匹配的流程该流程主要包括测井数据导入、曲线预处理、初始偏移处理、测井曲线属性提取、精细化偏移处理、生成深度偏移图表、应用至多个集合，最后对测井数据进行地层分析及储层油气评估。测井曲线标准化即消除测井数据采集过程时产生的系统误差，通过曲线标准化校正，使各井目的层对应的测井曲线数据具有相同均值或相似频率分布，为后续油藏评价和储层地质研究中必要的基础性工作。
权利要求书clms
1.一种基于多窗口锚点的测井曲线标准化方法，其特征在于，包括如下步骤：101、导入测井数据，所述测井数据包括第一趟测井数据中的一条测井曲线以及第二趟测井数据中的一条测井曲线，两条测井曲线为同类型测井曲线；102、对所导入的两条测井曲线进行曲线预处理，以使得两条测井曲线采样率一致，得到预处理后的两条测井曲线；103、对预处理后的两条测井曲线进行初始偏移处理；104、对初始偏移后的两条测井曲线进行属性提取，选取第一趟测井数据中的一条测井曲线作为参考曲线，第二趟测井数据中的一条同类型测井曲线作为目标曲线，通过对比参考曲线和目标曲线识别出一个或多个曲线属性，得到两条测井曲线的锚点对；105、在得到两条测井曲线的锚点对的情况下，选择执行参考曲线或目标曲线的锚点所对应的深度偏移，产生最终锚点对，生成一个深度偏移图表；106、将所生成的深度偏移图表应用在第二趟测井数据中的其他曲线，实现第二趟趟测井数据的全部测井曲线标准化作业。2.如权利要求1所述的基于多窗口锚点的测井曲线标准化方法，其特征在于，还包括如下步骤：107、在全部测井曲线标准化后，进行数据分析及储层油气评估。3.如权利要求1所述的基于多窗口锚点的测井曲线标准化方法，其特征在于，在步骤102中，所述曲线预处理包括：1）数据重采样，将数据的采样率改变成设定间隔；2）压制两趟数据的干扰部分。4.如权利要求1所述的基于多窗口锚点的测井曲线标准化方法，其特征在于，在步骤104中，所述属性提取采用的是法，假设第一趟测井数据中的那一条测井曲线为/＞，第二趟测井数据中的那一条测井曲线为/＞，/＞计算公式为：/＞式中：/＞是深度，/＞是/＞的平均，/＞是/＞的平均，/＞是关于/＞的函数，/＞是关于/＞的函数；在参考曲线上沿着方向滑动窗口，提取一系列的/＞样本，得到对应的/＞数据，形成一系列的锚点对。5.如权利要求3所述的基于多窗口锚点的测井曲线标准化方法，其特征在于，在步骤103中，所述对预处理后的曲线进行初始偏移处理，包括执行：1）计算分别属于第一趟和第二趟测井数据的两条测井曲线的相关系数，然后执行固定值的初始偏移处理；2）对两条测井曲线进行平滑处理。6.如权利要求1所述的基于多窗口锚点的测井曲线标准化方法，其特征在于，所述步骤104还包括：利用不同大小的窗口来寻找合适的锚点对，得到最优解；如果任意选择窗口下锚点对都不能匹配，则认为是无效的锚点对。7.一种基于多窗口锚点的测井曲线标准化装置，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至6任一所述方法的步骤。8.一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至6任一所述方法的步骤。
说明书desc
技术领域本发明涉及石油及天然气勘探开发技术领域，具体涉及一种基于多窗口锚点的测井曲线标准化方法及装置。背景技术在石油和天然气勘探领域，测井被广泛应用在油气勘探、开发、完井阶段。测井解释在地层评价和储层流体性质判别方面起到了很重要的作用。测井曲线的标准化是指对同一口井的多趟测井数据的深度进行匹配，为提供完整的解释结论提供保证，同样可以确保后续射孔、井壁取芯、地层测试的精确作业。测井曲线的标准化通常选用自然伽马曲线进行深度匹配，同一个集合的其他曲线根据自然伽马的校正量进行深度偏移。目前常用的深度匹配方法有两个。一是基于互相关和方差的算法，该算法不能提供精确的深度匹配，而且需要额外的人工辅助调整，所以无法满足数据自动处理的要求。二是基于机器学习的深度匹配，机器学习可以弥补人工辅助的缺点，机器学习的训练集合包含大量油田数据，为了得到完美模型，需要对网格模型不停更新，同时需要人工对不满足要求的匹配点进行调整，更新数据库。该方法的缺点是前期高度依赖自我更新和人机交互，并且需要大量训练数据提供支持。因此目前仍需要基于自动处理的算法对多趟测井曲线进行曲线深度匹配。发明内容本发明的目的在于克服上述现有技术的不足，提供一种基于多窗口锚点的测井曲线标准化方法及装置。为实现上述目的，本发明的技术方案是：第一方面，本发明提供一种基于多窗口锚点的测井曲线标准化方法，包括如下步骤：101、导入测井数据，所述测井数据包括第一趟测井数据中的一测井曲线以及第二趟测井数据中的一测井曲线，两条测井曲线为同类型测井曲线；102、对所导入的两条测井曲线进行曲线预处理，以使得两条测井曲线采样率一致，得到预处理后的两条测井曲线；103、对预处理后的两条测井曲线进行初始偏移处理；104、对初始偏移后的两条测井曲线进行属性提取，选取第一趟测井数据中的一条测井曲线作为参考曲线，第二趟测井数据中的一条同类型测井曲线作为目标曲线，通过对比参考曲线和目标曲线识别出一个或多个曲线属性，得到两条测井曲线的锚点对；105、在得到两条测井曲线的锚点对的情况下，选择执行参考曲线或目标曲线的锚点所对应的深度偏移，产生最终锚点对，生成一个深度偏移图表；106、将所生成的深度偏移图表应用在第二趟测井数据中的其他曲线，实现第二趟趟测井数据的全部测井曲线标准化作业。进一步地，所述的基于多窗口锚点的测井曲线标准化方法还包括如下步骤：107、在全部测井曲线标准化后，进行数据分析及储层油气评估。进一步地，在步骤102中，所述曲线预处理包括：1）数据重采样，将数据的采样率改变成设定间隔；2）压制两趟数据的干扰部分。进一步地，在步骤104中，所述属性提取采用的是法，假设第一趟测井数据中的那一条测井曲线为/＞，第二趟测井数据中的那一条测井曲线为/＞，/＞计算公式为：/＞式中：/＞是深度，/＞是/＞的平均，/＞是/＞的平均，/＞是关于/＞的函数，/＞是关于/＞的函数；在参考曲线上沿着方向滑动窗口，提取一系列的/＞样本，得到对应的/＞数据，形成一系列的锚点对。进一步地，在步骤103中，所述对预处理后的曲线进行初始偏移处理，包括执行：1）计算分别属于第一趟和第二趟测井数据的两条测井曲线的相关系数，然后执行固定值的初始偏移处理；2）对两条测井曲线进行平滑处理。进一步地，所述步骤104还包括：利用不同大小的窗口来寻找合适的锚点对，得到最优解；如果任意选择窗口下锚点对都不能匹配，则认为是无效的锚点对。第二方面，本发明提供一种基于多窗口锚点的测井曲线标准化装置，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上任一所述方法的步骤。第三方面，本发明提供一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现如上任一所述方法的步骤。本发明与现有技术相比，其有益效果在于：对于传统曲线标准化方法，本发明使用的基于多窗口锚点的测井曲线标准化方法能够提供一套适用于多趟测井曲线进行自动曲线标准化的流程，该流程主要包括测井数据导入、曲线预处理、初始偏移处理、测井曲线属性提取、精细化偏移处理、生成深度偏移图表、应用至多个集合，最后对测井数据进行地层分析及储层油气评估。测井曲线标准化即消除测井数据采集过程时产生的系统误差，通过曲线标准化校正，使各井目的层对应的测井曲线数据具有相同均值或相似频率分布，为后续油藏评价和储层地质研究中必要的基础性工作。附图说明图1为本发明实施例1提供的基于多窗口锚点的测井曲线标准化方法的流程图；图2为本发明实施例1提供的步骤104属性提取的示意图；图3为本发明实例1进行曲线标准化前后对比示意图；图4为本发明实施例2提供的基于多窗口锚点的测井曲线标准化装置的组成示意图。具体实施方式下面结合附图和实施例对本发明的技术方案做进一步的说明。实施例1：本实施例提供了一种基于多窗口锚点的测井曲线标准化方法，可以利用第一趟测井数据中的一测井曲线对第二趟测井数据中的相同测量项目进行曲线标准化。通过计算两条测井曲线之间相关系数的偏移距离作为第二测井曲线的恒定偏移量，最终实现深度的自动匹配。该过程还可以执行测井曲线的多特征拾取，通过特征值分析，进而得到具体的深度偏移图表，将深度偏移图表应用到第二趟曲线上，可以对曲线进行拉伸或者压缩。应用深度偏移图表之后，本次测量中的所有曲线都会进行同样的深度偏移，并应用到整个数据集合。最终，标准化的测井曲线可以进行地层对比、沉积演化、断层分析等，另外还可以在工程上进行应用，比如确定射孔深度、取芯层位、地层测试层位。具体地，该基于多窗口锚点的测井曲线标准化方法主要包括如下步骤：101、导入测井数据所导入的测井数据包括一测井曲线以及第二趟测井数据中的一测井曲线以及深度坐标系，两条测井曲线为同类型测井曲线；选择两趟数据的自然伽马曲线进行导入，其他类型的曲线也能作为参考曲线导入，例如声波时差、体积密度、补偿中子等。102、曲线预处理曲线预处理目的是让两趟数据采样率一致，并且去除异常值。对所导入的两条测井曲线进行预处理，包括：1）数据重采样，将数据的采样率改变成设定间隔，例如1英尺或者2英尺；2）压制两趟数据的干扰部分，例如在自然伽马曲线上的异常值，异常值可以置零或用常数项代替。103、初始偏移处理对预处理后的两条曲线进行初始偏移处理：包括执行1）两条曲线之间的常规预处理，即计算分别属于第一趟和第二趟测井数据中的2条测井曲线的相关系数，然后执行固定值的初始偏移处理，相关系数可以选择某段曲线进行，最大偏移量可以作为固定值进行偏移处理。2)测井曲线平滑处理。通过此步骤，能够粗糙同步两条测井曲线。104、属性提取对初始偏移后的两条测井曲线进行属性提取，选取第一趟测井曲线作为参考曲线201，第二趟测井曲线作为目标曲线202，通过对比参考曲线和目标曲线识别出一个或多个曲线属性，以得到两条测井曲线的锚点对；如此，此步骤通过对比参考曲线和目标曲线识别出一个或多个曲线特殊属性，例如极值、拐点。这些属性能够被定义为目标曲线202的锚点，属性识别应用的是法。在给定曲线上定义多个属性，例如图2中参考曲线201的锚点301、302、303以及另外的属性锚点304、305，通过基于/＞的最优化方法找到对应参考曲线上的对应点，形成锚点对。假设第一趟曲线为/＞，第二趟曲线为/＞，/＞计算公式为：/＞式中：是深度，/＞是/＞的平均，/＞是/＞的平均，/＞是关于/＞的函数，/＞是关于的函数。在参考曲线201上沿着方向滑动窗口，提取一系列的/＞样本，得到对应的数据。例如图2中参考曲线201上的锚点301、302、303对应的锚点目标是401、402、403，锚点304、305对应的锚点是404、405，形成一系列的锚点对。为了避免错误匹配，使用多刻度的方法，利用不同大小的窗口来寻找合适的锚点对，得到最优解，窗口的数量可以定义为2个、3个任意多个。如果任意选择窗口下锚点对都不能匹配，则认为是无效的锚点对。通过采用多种不同的窗口尺寸，可以获得曲线201上对应于曲线202上的锚点的多个最优位置。如果多个窗口尺寸下的曲线201位置一样，那么这个深度下的锚点对将被指定和保存。105、精细化偏移精细化偏移可以在一个或多个锚点定义的情况下，自主选择执行曲线201或者曲线202的锚点深度下的偏移，针对畸形曲线，精细化偏移可以执行多次，例如第一次精细化偏移被执行后，执行结果再执行第二次精细化偏移，第二次重点关注的是第一次精细化偏移时的无效锚点。这样的操作可以提高曲线匹配度，通过两次精细化偏移可以产生最终锚点对，会生成一个深度偏移图表106。生成的深度偏移图表106可以用来改变或者移动与曲线201对应的曲线202的锚点深度。当将深度偏移图表应用到第二趟曲线202上的时候，可以对曲线进行拉伸或者压缩。106、应用深度偏移图表将所生成的深度偏移图表应用在第二趟测量中的其他曲线，实现第二趟测井数据中的全部曲线的标准化工作；107、数据分析及储层油气评估在曲线标准化后，对数据进行数据分析及储层油气评估，标准化的测井曲线可以进行地层对比、沉积演化、断层分析等，另外还可以在工程上进行应用，比如确定射孔深度、取芯层位、地层测试层位。测井曲线标准化即消除测井数据采集过程时产生的系统误差，通过曲线标准化校正，使各井目的层对应的测井曲线数据具有相同均值或相似频率分布，为后续油藏评价和储层地质研究中必要的基础性工作。如图3所述，结果表明，标准化后其曲线合格率上升30%以上,提高了测井解释精度和准确性,准确的提取出测井曲线中的各种有用地质信息，曲线合格率得到了显著提升，对油田老井区测井曲线标准化有一定的参考价值。实施例2：参阅图4所述，本实施例提供的基于多窗口锚点的测井曲线标准化装置包括处理器41、存储器42以及存储在该存储器42中并可在所述处理器41上运行的计算机程序43，例如基于多窗口锚点的测井曲线标准化程序。该处理器41执行所述计算机程序43时实现上述实施例1步骤，例如图1所述的步骤。示例性的，所述计算机程序43可以被分割成一个或多个模块/单元，所述一个或者多个模块/单元被存储在所述存储器42中，并由所述处理器41执行，以完成本发明。所述一个或多个模块/单元可以是能够完成特定功能的一系列计算机程序指令段，该指令段用于描述所述计算机程序43在所述基于多窗口锚点的测井曲线标准化装置中的执行过程。所述基于多窗口锚点的测井曲线标准化装置可以是桌上型计算机、笔记本、掌上电脑及云端服务器等计算设备。所述基于多窗口锚点的测井曲线标准化装置可包括，但不仅限于，处理器41、存储器42。本领域技术人员可以理解，图4仅仅是基于多窗口锚点的测井曲线标准化装置的示例，并不构成基于多窗口锚点的测井曲线标准化装置的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如所述基于多窗口锚点的测井曲线标准化装置还可以包括输入输出设备、网络接入设备、总线等。所称处理器41可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路 、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。所述存储器42可以是所述基于多窗口锚点的测井曲线标准化装置的内部存储元，例如基于多窗口锚点的测井曲线标准化装置的硬盘或内存。所述存储器42也可以是所述基于多窗口锚点的测井曲线标准化装置的外部存储设备，例如所述基于多窗口锚点的测井曲线标准化装置上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，所述存储器42还可以既包括所述基于多窗口锚点的测井曲线标准化装置的内部存储单元也包括外部存储设备。所述存储器42用于存储所述计算机程序以及所述基于多窗口锚点的测井曲线标准化装置所需的其他程序和数据。所述存储器42还可以用于暂时地存储已经输出或者将要输出的数据。实施例3：本实施例提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现实施例1所述方法的步骤。所述计算机可读介质可以是任何可以包含、存储、通信、传播或传输程序以供指令执行系统、装置或设备或结合这些指令执行系统、装置或设备而使用的装置。计算机可读介质的更具体的示例包括以下：具有一个或多个布线的电连接部，便携式计算机盘盒，随机存取存储器，只读存储器，可擦除可编辑只读存储器，光纤装置，以及便携式光盘只读存储器。另外，计算机可读介质甚至可以是可在其上打印所述程序的纸或其他合适的介质，例如通过对纸或其他介质进行光学扫描，接着进行编辑、解译或必要时以其他合适方式进行处理再以电子方式获得所述程序，然后将其存储在计算机存储器中。上述实施例只是为了说明本发明的技术构思及特点，其目的是在于让本领域内的普通技术人员能够了解本发明的内容并据以实施，并不能以此限制本发明的保护范围。凡是根据本发明内容的实质所做出的等效的变化或修饰，都应涵盖在本发明的保护范围内。
