标题title
一种采煤机工作状态识别方法
摘要abst
本申请公开了一种采煤机工作状态识别方法，涉及煤炭开采技术领域，一定程度上能够提高识别采煤机的工作状态的效率。所述采煤机工作状态识别方法包括采集预设周期内液压支架编号的时序数据，对获取的时序数据进行欠采样获得预处理数据；基于采集预设周期内的液压支架编号的时序数据，获取第一区间和第二区间，所述第一区间被配置为识别高位三角煤采集区域，所述第二区间被配置为识别低位三角煤采集区域；建立滑动窗口，通过滑动窗口对预处理数据内的每个数据点进行识别获得关键点，基于第一区间和第二区间对每个关键点进行分类判断，计算并输出截割刀架数、误工时间及检修时间。
权利要求书clms
1.一种采煤机工作状态识别方法，其特征在于，所述方法包括：采集预设周期内液压支架编号的时序数据，对获取的时序数据进行欠采样获得预处理数据；基于采集预设周期内的液压支架编号的时序数据，获取第一区间和第二区间，所述第一区间被配置为识别高位三角煤采集区域，所述第二区间被配置为识别低位三角煤采集区域；建立滑动窗口，通过滑动窗口对预处理数据内的每个数据点进行识别获得关键点，基于第一区间和第二区间对每个关键点进行分类判断，计算并输出截割刀架数、误工时间及检修时间。2.根据权利要求1所述的一种采煤机工作状态识别方法，其特征在于，所述对获取的时序数据进行欠采样获得预处理数据，包括：添加第一间隔，将获得的液压支架编号的时序数据划分为多个预处理区域，在每个预处理区域中获取一个数据点，将多个获取的数据点按时间顺序排列得到预处理数据；其中，每个所述预处理区域的宽度为第一间隔对应的长度。3.根据权利要求1所述的一种采煤机工作状态识别方法，其特征在于，所述获取第一区间和第二区间，包括：获取三角煤采集的液压支架编号的起始位置和末尾位置；对获得预设周期内的液压支架编号的时序数据进行概率密度估计；输出概率最大的三角煤采集对应的液压支架编号数据区间；识别获取第一区间和第二区间；其中，所述第一区间为靠近起始位置的液压支架编号数据所在区间，所述第二区间为靠近末尾位置的液压支架编号数据所在区间。4.根据权利要求1所述的一种采煤机工作状态识别方法，其特征在于，所述建立滑动窗口，包括：添加第二间隔，建立滑动窗口，所述滑动窗口的宽度为两倍第二间隔对应的长度；其中，所述滑动窗口包括相邻设置的第一区域和第二区域，所述第一区域和第二区域的宽度均为第二间隔对应的长度。5.根据权利要求4所述的一种采煤机工作状态识别方法，其特征在于，所述通过滑动窗口对预处理数据进行识别获得关键点包括：通过滑动窗口按时间顺序依次识别预处理数据中的每个数据点；获取每个数据点的第一区域、第二区域内相邻数据点形成的连线的斜率并判断当前数据点是否为关键点；若当前数据点是关键点，读取并存储该数据点对应的液压支架编号的时序数据；若当前数据点不是关键点，按时间顺序识别下一个数据点；其中，所述关键点为对应的第一区域内数据点形成的连线为一条线段，且第二区域的数据点形成的连线也为一条线段。6.根据权利要求5所述的一种采煤机工作状态识别方法，其特征在于，所述通过滑动窗口按时间顺序依次识别预处理数据中的每个数据点，包括：若当前数据点的第一区域或第二区域的包含的数据点的长度小于第二间隔时，读取第一区域或第二区域所包含的最多数据点对当前数据点进行识别。7.根据权利要求6所述的一种采煤机工作状态识别方法，其特征在于，所述基于第一区间和第二区间对每个关键点进行分类判断包括：基于第一区间遍历所有关键点，并将位于第一区间内的关键点识别为高位三角煤的起终点；基于第二区间遍历所有关键点，并将位于第二区间内的关键点识别为低位三角煤的起终点；统计所有高位三角煤的起终点和低位三角煤的起终点之间的关键点的数量，输出为截割刀架数。8.根据权利要求7所述的一种采煤机工作状态识别方法，其特征在于，所述基于第一区间和第二区间对每个关键点进行分类判断还包括：在当前关键点的第一区域内相邻数据点的连线的斜率为正或负且第二区域内相邻数据点的连线的斜率为0时，寻找下一个第一区域内相邻数据点的连线的斜率为0且第二区域内相邻数据点的连线的斜率为正或负的关键点；获取两个关键点的间隔时间并进行误工时间或检修时间判断。9.根据权利要求8所述的一种采煤机工作状态识别方法，其特征在于，所述获取两个关键点的间隔时间并进行误工时间或检修时间判断包括：在两个关键点的间隔时间小于第一阈值时，忽略对应时间段；在两个关键点的间隔时间大于或等于第一阈值时，对应时间段识别为误工时间段；在两个关键点的间隔时间大于第二阈值时，对应时间段识别为检修时间段。10.根据权利要求9所述的一种采煤机工作状态识别方法，其特征在于，所述计算并输出截割刀架数、误工时间及检修时间还包括：获取预设周期内所有检修时间段后，依次对相邻的两段检修时间段进行判定；在相邻两个检修时间段的首尾时长小于第三阈值时，合并两个检修时间段为一个检修时间段，并修改对应的检修时长；否则，判定下一个相邻的两个检修时间段。
说明书desc
技术领域本申请涉及煤炭开采技术领域，尤其涉及一种采煤机工作状态识别方法。背景技术综采工作面是煤矿井下装备综合机械化设备的回采工作面，是煤矿生产的最前沿和最复杂的工作环节。一个标准的综采工作面一般由200～300台设备构成，核心设备有采煤机、刮板输送机、液压支架、转载机、破碎机和带式输送机等。采煤机的工作状态分类通常包括以下几种：破煤，误工，检修，通过对采煤机的工作状态进行识别，能够帮助企业分析采煤进度，从而提高采煤效率。相关技术中公开的识别采煤机的工作状态的方法为人工对采煤机在矿下工作时记录的液压支架的位置数据进行分析识别，再基于结果获得采煤机的工作状态。由于采煤机在运行过程中会生成较多记录数据，工人通过分析记录数据从而对采煤机的工作状态进行分析识别，在此过程中存在识别采煤机工作状态的效率低的缺陷。发明内容本申请实施例通过提供一种采煤机工作状态识别方法，一定程度上能够提高识别采煤机的工作状态的效率。本申请实施例提供了一种采煤机工作状态识别方法，所述方法包括：采集预设周期内液压支架编号的时序数据，对获取的时序数据进行欠采样获得预处理数据；基于采集预设周期内的液压支架编号的时序数据，获取第一区间和第二区间，所述第一区间被配置为识别高位三角煤采集区域，所述第二区间被配置为识别低位三角煤采集区域；建立滑动窗口，通过滑动窗口对预处理数据内的每个数据点进行识别获得关键点，基于第一区间和第二区间对每个关键点进行分类判断，计算并输出截割刀架数、误工时间及检修时间。在一些实施例中，所述对获取的时序数据进行欠采样获得预处理数据，包括：添加第一间隔，将获得的液压支架编号的时序数据划分为多个预处理区域，在每个预处理区域中获取一个数据点，将多个获取的数据点按时间顺序排列得到预处理数据；其中，每个所述预处理区域的宽度为第一间隔对应的长度。在一些实施例中，所述获取第一区间和第二区间，包括：获取三角煤采集的液压支架编号的起始位置和末尾位置；对获得预设周期内的液压支架编号的时序数据进行概率密度估计；输出概率最大的三角煤采集对应的液压支架编号数据区间；识别获取第一区间和第二区间；其中，所述第一区间为靠近起始位置的液压支架编号数据所在区间，所述第二区间为靠近末尾位置的液压支架编号数据所在区间。在一些实施例中，所述建立滑动窗口，包括：添加第二间隔，建立滑动窗口，所述滑动窗口的宽度为两倍第二间隔对应的长度；其中，所述滑动窗口包括相邻设置的第一区域和第二区域，所述第一区域和第二区域的宽度均为第二间隔对应的长度。在一些实施例中，所述通过滑动窗口对预处理数据进行识别获得关键点包括：通过滑动窗口按时间顺序依次识别预处理数据中的每个数据点；获取每个数据点的第一区域、第二区域内相邻数据点形成的连线的斜率并判断当前数据点是否为关键点；若当前数据点是关键点，读取并存储该数据点对应的液压支架编号的时序数据；若当前数据点不是关键点，按时间顺序识别下一个数据点；其中，所述关键点为对应的第一区域内数据点形成的连线为一条线段，且第二区域的数据点形成的连线也为一条线段。在一些实施例中，所述通过滑动窗口按时间顺序依次识别预处理数据中的每个数据点，包括：若当前数据点的第一区域或第二区域的包含的数据点的长度小于第二间隔时，读取第一区域或第二区域所包含的最多数据点对当前数据点进行识别。在一些实施例中，所述基于第一区间和第二区间对每个关键点进行分类判断包括：基于第一区间遍历所有关键点，并将位于第一区间内的关键点识别为高位三角煤的起终点；基于第二区间遍历所有关键点，并将位于第二区间内的关键点识别为低位三角煤的起终点；统计所有高位三角煤的起终点和低位三角煤的起终点之间的关键点的数量，输出为截割刀架数。在一些实施例中，所述基于第一区间和第二区间对每个关键点进行分类判断还包括：在当前关键点的第一区域内相邻数据点的连线的斜率为正或负且第二区域内相邻数据点的连线的斜率为0时，寻找下一个第一区域内相邻数据点的连线的斜率为0且第二区域内相邻数据点的连线的斜率为正或负的关键点；获取两个关键点的间隔时间并进行误工时间或检修时间判断。在一些实施例中，所述获取两个关键点的间隔时间并进行误工时间或检修时间判断包括：在两个关键点的间隔时间小于第一阈值时，忽略对应时间段；在两个关键点的间隔时间大于或等于第一阈值时，对应时间段识别为误工时间段；在两个关键点的间隔时间大于第二阈值时，对应时间段识别为检修时间段。在一些实施例中，所述计算并输出截割刀架数、误工时间及检修时间还包括：获取预设周期内所有检修时间段后，依次对相邻的两段检修时间段进行判定；在相邻两个检修时间段的首尾时长小于第三阈值时，合并两个检修时间段为一个检修时间段，并修改对应的检修时长；否则，判定下一个相邻的两个检修时间段。本申请实施例中提供的一个或多个技术方案，至少具有如下技术效果或优点：本申请实施例通过采用对获取的预设周期内的液压支架编号的时序数据进行欠采样，降低样本内数据占用的容量；之后根据滑动窗口对欠采样之后的预处理数据进行进一步筛选，并获取其中的关键点，能够进一步减小样本数据占用的容量，从而提高对采煤机工作状态的识别效率，方便在较高的准确度下对采煤机的工作状态进行识别；同时，基于获取得到的采煤机的液压支架编号的时序数据获取得到第一区间和第二区间，从而实现对采煤机工作中的截割刀架数进行计算，减少通过人工计算截割刀架数的效率低的缺陷。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对本申请实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例提供的采煤机工作状态识别方法的流程图；图2为本申请实施例提供的采煤机工作状态识别方法的结构示意图；图3为本申请实施例提供的采煤机工作状态识别方法的数据点识别为关键点的示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请的一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。在本申请实施例的描述中，需要说明的是，术语“中心”、“上”、“下”、“左”、“右”、“竖直”、“水平”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本申请实施例和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本申请的限制。术语“第一”、“第二”、“第三”仅用于描述目的，而不能理解为指示或暗示相对重要性。此外，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本申请实施例中的具体含义。参照图1和图2，图1为本申请实施例提供的采煤机工作状态识别方法的流程图；图2为本申请实施例提供的采煤机工作状态识别方法的结构示意图。在一些实施例中，本申请提供一种采煤机工作状态识别方法，其包括步骤110、步骤120和步骤130。步骤110，采集预设周期内液压支架编号的时序数据，对获取的时序数据进行欠采样获得预处理数据。步骤120，基于采集预设周期内的液压支架编号的时序数据，获取第一区间和第二区间，所述第一区间被配置为识别高位三角煤采集区域，所述第二区间被配置为识别低位三角煤采集区域；步骤130，建立滑动窗口，通过滑动窗口对预处理数据内的每个数据点进行识别获得关键点，基于第一区间和第二区间对每个关键点进行分类判断，计算并输出截割刀架数、误工时间及检修时间。由于液压支架编号的时序数据通过安装的传感器以数秒为间隔记录得到的，数据量较大，通过欠采样的方式对液压支架编号的时序数据进行抽样，利用了液压支架编号的时序数据是连续变化的特点，从而获得占用容量较小的预处理数据，之后通过滑动窗口依次对预处理数据内的数据点进行识别，能够提高获取采煤机的工作状态的效率。通过采用对获取的预设周期内的液压支架编号的时序数据进行欠采样，降低样本内数据占用的容量；之后根据滑动窗口对欠采样之后的预处理数据进行进一步筛选，并获取其中的关键点，能够进一步减小样本数据占用的容量，从而提高对采煤机工作状态的识别效率，方便在较高的准确度下对采煤机的工作状态进行识别；同时，基于获取得到的采煤机的液压支架编号的时序数据获取得到第一区间和第二区间，从而实现对采煤机工作中的截割刀架数进行计算，减少通过人工计算截割刀架数的效率低的缺陷。在一些实施例中，本申请提供的方法在对获取的时序数据进行欠采样获得预处理数据时，包括：添加第一间隔，将获得的液压支架编号的时序数据划分为多个预处理区域，在每个预处理区域中获取一个数据点，数据点为每个预处理区域中的最大值，将多个获取的数据点按时间顺序排列得到预处理数据；其中，每个预处理区域的宽度为第一间隔对应的长度。通过添加第一间隔，从而能够将预处理数据的容量降低至采集获取的时序数据除以第一间隔的容量，能够极大的减少后续对样本进行识别判断的工作量，从而可实现极大的提高识别采煤机工作状态的效率的目的。在一些实施例中，本申请提供的采煤机工作状态的识别方法在获取第一区间和第二区间时，包括：获取三角煤采集的液压支架编号的起始位置和末尾位置；对获得预设周期内的液压支架编号的时序数据进行概率密度估计；输出概率最大的三角煤采集对应的液压支架编号数据区间；识别获取第一区间和第二区间；其中，第一区间为靠近起始位置的液压支架编号数据所在区间，第二区间为靠近末尾位置的液压支架编号数据所在区间。基于采集获取的采煤机的液压支架的时序数据，从而获取得到液压支架在采集三角煤时的极限临界值，之后基于概率分布的方式获取得到第一区间和第二区间，能够实现减少第一区间和第二区间在计算过程中产生误差的概率，可实现提高识别采煤机工作状态的可靠性。在一些实施例中，本申请提供的采煤机工作状态识别方法在建立滑动窗口包括：添加第二间隔，建立滑动窗口，所述滑动窗口的宽度为两倍第二间隔对应的长度；滑动窗口包括相邻设置的第一区域和第二区域，第一区域和第二区域的宽度均为第二间隔对应的长度，第二间隔的长度大于第一间隔的长度。对于每个预处理数据的数据点，第一区域和第二区域中均包含有多个相邻的数据点，通过第一区域和第二区域中的多个相邻的数据点对当前数据点进行判断，一定程度上能够减少数据点为异常值时导致整体分析过程出现误差的概率，能够极大的提高对采煤机工作状态进行识别的可靠性。参照图3，图3为本申请实施例提供的采煤机工作状态识别方法的数据点识别为关键点的示意图。在一些实施例中，本申请提供的方法在进行通过滑动窗口对预处理数据进行识别获得关键点包括：通过滑动窗口按时间顺序依次识别预处理数据中的每个数据点；获取每个数据点的第一区域、第二区域内相邻数据点形成的连线的斜率并判断当前数据点是否为关键点；若当前数据点是关键点，读取并存储该数据点对应的液压支架编号的时序数据；若当前数据点不是关键点，按时间顺序识别下一个数据点；关键点对应的第一区域相邻数据点形成的连线为一条线段，且第二区域内的相邻数据点形成的连线也为一条线段。在当前数据点对应的第一区域内的连线为一条线段，且第二区域内的连线也为一条线段时，既能够排除当前数据点为异常点的概率，从而实现减少在数据分析过程中由于数据记录异常导致精度降低的概率。在一些实施例中，通过滑动窗口按时间顺序依次识别预处理数据中的每个数据点包括：若当前数据点的第一区域或第二区域的包含的数据点的长度小于第二间隔时，读取第一区域或第二区域所包含的最多数据点对当前数据点进行识别。在一些实施例中，本申请提供的方法在执行基于第一区间和第二区间对每个关键点进行分类判断包括：基于第一区间遍历所有关键点，并将位于第一区间内的关键点识别为高位三角煤的起终点；基于第二区间遍历所有关键点，并将位于第二区间内的关键点识别为低位三角煤的起终点；统计所有高位三角煤的起终点和低位三角煤的起终点之间的关键点的数量，输出为截割刀架数。统计整个时序数据对应截割刀架数，对于第一个关键点前和最后一个关键点后的数据进行合并，若合并后液压支架编号总数大于该液压支架类型的编号总数的k%，k为可根据实际采煤机工作状态调整的超参数，k的值一般大于90，则输出的截割刀架数加一；否则输出的截割刀架数为计算获得的截割刀架数，并输出每一刀对应的时间。在一些实施例中，本申请提供的方法在执行基于第一区间和第二区间对每个关键点进行分类判断还包括：在当前关键点的第一区域内相邻数据点的连线的斜率为正或负且第二区域内相邻数据点的连线的斜率为0时，寻找下一个第一区域内相邻数据点的连线的斜率为0且第二区域内相邻数据点的连线的斜率为正或负的关键点；获取两个关键点的间隔时间并进行误工时间或检修时间判断。通过将关键点的第一区域或者第二区域的连线的斜率为0时，即表明采煤机为停工状态，通过对停工状态的采煤机的时间进行判断，从而获取得到误工时间以及检修时间。在一些实施例中，本申请提供的方法在获取两个关键点的间隔时间并进行误工时间或检修时间判断包括：在两个关键点的间隔时间小于第一阈值时，忽略对应时间段；在两个关键点的间隔时间大于或等于第一阈值时，对应时间段识别为误工时间段；在两个关键点的间隔时间大于第二阈值时，对应时间识别为检修时间段。第一阈值为根据实际采煤机工作状态设置的预设值，第一阈值远远小于第二阈值，而第二阈值应设置为小于经验检修时长的25%，且第二阈值也为根据实际采煤机工作状态设置的可调整的超参数。通过删除小于第一阈值对应的时间段，从而减少后期统计整体误工时间的数据量，提高统计整体误工时间的效率；通过将大于第二阈值的时间段识别为检修时间段，从而提高获取整体检修时间的效率。在一些实施例中，本申请提供的方法在计算并输出截割刀架数、误工时间及检修时间还包括：获取预设周期内所有检修时间段后，依次对相邻的两段检修时间段进行判定；在相邻两个检修时间段的首尾时长小于第三阈值时，合并两个检修时间段为一个检修时间段，并修改对应的检修时长；否则，判定下一个相邻的两个检修时间段。为了方便进一步对检修时间段进行识别，通过第三阈值对相邻的两段检修时间段进行判断，既能够更加与实际工作情况相贴合，也能够减少数据量较大导致后续计算受影响的概率，提高获取采煤机工作状态的精准度。本申请实施例通过采用对获取的预设周期内的液压支架编号的时序数据进行欠采样，降低样本内数据占用的容量；之后根据滑动窗口对欠采样之后的预处理数据进行进一步筛选，并获取其中的关键点，能够进一步减小样本数据占用的容量，从而提高对采煤机工作状态的识别效率，方便在较高的准确度下对采煤机的工作状态进行识别；同时，基于获取得到的采煤机的液压支架编号的时序数据获取得到第一区间和第二区间，从而实现对采煤机工作中的截割刀架数进行计算，减少通过人工计算截割刀架数的效率低的缺陷。本说明书中的各个实施方式采用递进的方式描述，各个实施方式之间相同或相似的部分互相参见即可，每个实施方式重点说明的都是与其他实施方式的不同之处。以上实施例仅用以说明本申请的技术方案，而非对本申请限制；尽管参照前述实施例对本申请进行了详细的说明，本领域普通技术人员应当理解：其依然可以对前述实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请技术方案的范围。
