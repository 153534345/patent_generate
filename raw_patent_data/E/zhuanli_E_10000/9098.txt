标题title
用于挖掘机的控制方法、控制器、装置及挖掘机
摘要abst
本申请涉及工程机械领域，具体地，涉及一种用于挖掘机的控制方法、控制器、装置及挖掘机。方法包括：获取挖掘机的工作参数，工作参数包括铲刀的抬起角度、工作装置的工作姿态、行走机构的当前位置、铲斗所在位置的压力值；在根据工作参数确定挖掘机符合自动上车状态的情况下，控制每个工作设备分别执行与上车操作对应的动作，以使挖掘机完成自动上车操作；在根据工作参数确定挖掘机符合自动下车状态的情况下，控制控制每个工作设备分别执行与下车操作对应的动作，以使挖掘机完成自动下车操作。通过上述技术方案，控制器通过多种数据采集方式，完成挖掘机自动上下拖车的过程。降低了操作人员的作业难度，保证了挖掘机的安全。
权利要求书clms
1.一种用于挖掘机的控制方法，其特征在于，所述挖掘机包括工作设备，所述工作设备包括铲刀、铲斗、工作装置和行走机构，其中，所述工作装置包括动臂和斗杆，所述控制方法包括：获取所述挖掘机的工作参数，所述工作参数包括铲刀的抬起角度、所述工作装置的工作姿态、所述行走机构的当前位置、所述铲斗所在位置的支撑压力；在根据所述工作参数确定所述挖掘机符合自动上车状态的情况下，控制每个工作设备分别执行与上车操作对应的动作，以使所述挖掘机完成自动上车操作；在根据所述工作参数确定所述挖掘机符合自动下车状态的情况下，控制控制每个工作设备分别执行与下车操作对应的动作，以使所述挖掘机完成自动下车操作。2.根据权利要求1所述的用于挖掘机的控制方法，其特征在于，所述控制方法还包括：获取拖车的高度与所述挖掘机的预设爬坡角度范围；在所述拖车的高度处于所述预设爬坡角度范围对应的预设高度范围内的情况下，获取所述工作参数。3.根据权利要求2所述的用于挖掘机的控制方法，其特征在于，所述在根据所述工作参数确定所述挖掘机符合自动上车状态的情况下，控制每个工作设备分别执行与上车操作对应的动作，以使所述挖掘机完成自动上车操作包括：在根据所述工作参数确定所述挖掘机符合自动上车状态的情况下，控制所述工作装置执行下放动作，以使所述铲斗放置在所述拖车上；获取所述铲斗的第一压力值；在确定所述第一压力值大于拖车临界压力值的情况下，控制所述工作装置执行下放动作以使所述铲斗支撑在所述拖车上，使得所述挖掘机靠近所述拖车端的履带抬起至预设高度；分别控制所述行走机构与所述工作装置执行与所述自动上车状态对应的第一动作；获取所述铲斗的第二压力值；在确定所述第二压力值大于地面临界压力值的情况下，分别控制所述行走机构与所述工作装置执行与所述自动上车状态对应的第二动作。4.根据权利要求3所述的用于挖掘机的控制方法，其特征在于，所述分别控制所述行走机构与所述工作装置执行与所述自动上车状态对应的第一动作包括：控制所述行走机构运行，以使所述挖掘机移动至所述挖掘机履带的第一端与所述拖车的平板相接触的位置；控制所述工作装置执行上升动作，以将所述工作装置调整至初始姿态；控制所述挖掘机的车身旋转预设旋转角度，并控制所述行走机构运行，以使所述挖掘机朝所述拖车的平板移动，直至所述挖掘机的履带处于所述平板内的长度达到所述履带长度的预设比例；控制所述工作装置执行下放动作，以将所述工作装置调整至第一预设姿态。5.根据权利要求3所述的用于挖掘机的控制方法，其特征在于，所述在确定所述第二压力值大于地面临界压力值的情况下，分别控制所述行走机构与所述工作装置执行与所述自动上车状态对应的第二动作包括：控制所述工作装置执行下放动作以使所述铲斗支撑在地面上，使得所述履带与所述拖车的平板平行；控制所述行走机构运行，以使所述挖掘机朝所述拖车的平板内端移动，直到所述履带的第二端移动至与所述拖车的平板最外端相接触的位置；控制所述工作装置执行上升动作，以将所述工作装置调整至初始姿态；控制所述行走机构运行，以使所述挖掘机继续朝所述拖车的平板内端移动，直到所述挖掘机移动至所述平板的预设停止位置；控制所述工作装置执行下放动作，以将所述工作装置调整至第二预设姿态。6.根据权利要求5所述的用于挖掘机的控制方法，其特征在于，所述控制方法还包括：在所述控制所述工作装置执行下放动作，以将所述工作装置调整至第二预设姿态之后，控制所述挖掘机的铲刀执行下放动作，以使所述铲刀放置在所述平板上。7.根据权利要求2所述的用于挖掘机的控制方法，其特征在于，所述在根据所述工作参数确定所述挖掘机符合自动上车状态的情况下包括：获取所述铲刀的抬起角度；在确定所述抬起角度大于或等于预设角度的情况下，获取所述工作装置的装置参数；在所述装置参数所对应的姿态是初始姿态的情况下，获取所述挖掘机的实时位置；在确定所述挖掘机移动至第一预设位置的情况下，确定所述挖掘机符合所述自动上车状态。8.根据权利要求7所述的用于挖掘机的控制方法，其特征在于，所述控制方法还包括：在确定所述铲刀抬起角度小于所述预设角度的情况下，控制所述铲刀抬起所述预设角度；在所述装置参数所对应的姿态不是所述初始姿态的情况下，调整所述工作装置，以使所述装置参数所对应的姿态是所述初始姿态；在确定所述挖掘机未移动至所述第一预设位置的情况下，控制所述挖掘机的行走机构运行，以使所述挖掘机移动至所述第一预设位置。9.根据权利要求1所述的用于挖掘机的控制方法，其特征在于，所述在根据所述工作参数确定所述挖掘机符合自动下车状态的情况下，控制控制每个工作设备分别执行与下车操作对应的动作，以使所述挖掘机完成自动下车操作包括：在根据所述工作参数确定所述挖掘机符合自动下车状态的情况下，获取拖车的高度与所述挖掘机的爬坡角度范围；在确定所述拖车的高度处于所述爬坡角度范围对应的高度范围内的情况下，控制所述工作装置执行下放动作，以使所述铲斗放置在地面上；获取所述铲斗的第二压力值；在确定所述第二压力值大于地面临界压力值的情况下，控制所述工作装置执行下放动作以使所述铲斗支撑在所述地面上，以将所述工作装置调整至第三预设姿态；分别控制所述行走机构与控制所述工作装置执行与所述自动下车状态对应的第三动作；获取所述铲斗的第一压力值；在确定所述第一压力值大于拖车临界压力值的情况下，分别控制所述行走机构与所述工作装置执行与所述自动下车状态对应的第四动作。10.根据权利要求9所述的用于挖掘机的控制方法，其特征在于，所述分别控制所述行走机构与控制所述工作装置执行与所述自动下车状态对应的第三动作包括：控制所述工作装置执行收臂动作，并控制所述行走机构运行，以使所述挖掘机移动至所述挖掘机履带的第二端与所述地面相接触的位置；控制所述工作装置执行上升动作，以将所述工作装置调整至第一预设姿态；控制所述挖掘机的车身旋转预设旋转角度，并控制所述工作装置再次执行上升动作，以将所述工作装置调整至初始姿态；控制所述工作装置执行下放动作，以将所述工作装置调整至第四预设姿态。11.根据权利要求9所述的用于挖掘机的控制方法，其特征在于，所述在确定所述第一压力值大于拖车临界压力值的情况下，分别控制所述行走机构与所述工作装置执行与所述自动下车状态对应的第四动作包括：控制所述工作装置支撑在所述拖车上执行伸臂动作，并控制所述行走机构运行，以使所述挖掘机移动至第一预设位置；控制所述工作装置执行上升动作，以使履带下放直至全部履带与所述地面接触；控制所述挖掘机的车身旋转预设旋转角度，并控制所述工作装置执行上升动作，以将所述工作装置调整至初始姿态。12.根据权利要求9所述的用于挖掘机的控制方法，其特征在于，所述控制方法还包括：在确定所述拖车的高度处于所述爬坡角度范围对应的高度范围外的情况下，进行报警提示；控制所述工作装置执行上升动作，以将所述工作装置调整至初始姿态；控制所述行走机构运行，以使所述挖掘机移动至第二预设位置；控制所述挖掘机的铲刀执行下放动作，以使所述铲刀放置在平板上。13.根据权利要求9所述的用于挖掘机的控制方法，其特征在于，在根据所述工作参数确定所述挖掘机符合自动下车状态的情况下包括：获取所述挖掘机的铲刀抬起角度；在确定所述铲刀抬起角度大于或等于预设角度的情况下，获取所述挖掘机实时位置；在确定所述挖掘机移动至第三预设位置的情况下，获取所述工作装置的装置参数；在所述装置参数对应的姿态是第二预设姿态的情况下，确定所述挖掘机符合所述自动下车状态。14.根据权利要求13所述的用于挖掘机的控制方法，其特征在于，所述控制方法还包括：在所述铲刀抬起角度小于所述预设角度的情况下，控制所述铲刀抬起所述预设角度；在所述挖掘机未移动至所述第三预设位置的情况下，控制所述挖掘机的行走机构运行，以使所述挖掘机移动至所述第三预设位置；在所述装置参数对应的姿态不是所述第二预设姿态的情况下，调整所述工作装置，以使所述装置参数对应的姿态是所述第二预设姿态。15.根据权利要求3或9中任意一项所述的用于挖掘机的控制方法，其特征在于，所述控制方法还包括：在确定所述第一压力值小于或等于所述拖车临界压力值的情况下，增加所述挖掘机的油缸输出压力，以使所述第一压力值大于所述拖车临界压力值；和/或在确定所述第二压力值小于或等于所述地面临界压力值的情况下，增加所述挖掘机的油缸输出压力，以使所述第二压力值大于所述地面临界压力。16.根据权利要求2或9中任意一项所述的用于挖掘机的控制方法，其特征在于，所述控制方法还包括：获取所述挖掘机的爬坡角度，通过公式确定与所述爬坡角度对应的高度：H＝2/3×L×sin 公式其中，H为与爬坡角度对应的高度，L为所述挖掘机的履带中心距，α为所述挖掘机的爬坡角度。17.根据权利要求16所述的用于挖掘机的控制方法，其特征在于，所述控制方法还包括：在确定所述拖车的高度未处于所述爬坡角度范围对应的高度范围内的情况下，进行报警提示。18.一种控制器，其特征在于，被配置成执行根据权利要求1至17中任意一项所述的用于挖掘机的控制方法。19.一种用于挖掘机的控制装置，其特征在于，包括如权利要求18所述的控制器。20.一种挖掘机，其特征在于，包括：铲刀，被配置为固定所述挖掘机；行走机构，包括履带，所述行走机构被配置为移动所述挖掘机；工作装置，被配置为连接所述铲斗与所述挖掘机的车身；其中，所述工作装置包括：铲斗，被配置为支撑所述挖掘机；动臂，被配置为调节斗杆位置；斗杆，被配置为调节所述铲斗位置，以及根据权利要求19所述的用于挖掘机的控制装置。21.根据权利要求20所述的挖掘机，其特征在于，还包括：图像采集装置，被配置为采集所述挖掘机的所处位置以及拖车的高度；导航装置，被配置为确定所述挖掘机的实时位置；倾角传感器，被配置为采集所述铲刀抬起角度；距离传感器，被配置为采集所述履带的抬起高度；压力传感器，被配置为采集所述铲斗压力。
说明书desc
技术领域本申请涉及工程机械领域，具体地，涉及一种用于挖掘机的控制方法、控制器、装置及挖掘机。背景技术挖掘机属于一种非道路机械，与传统车辆相比，其重量较大其行走速度较慢，需要通过平板拖车来拉载运送。但由于拖车的托板距离地面有一定的高度，致使挖掘机上下拖车时操作十分复杂，对驾驶员的驾驶技术有较高的要求。这不仅会增加挖掘机驾驶员的操作难度，也会增加挖掘机作业准备时间，降低挖掘机作业效率。另外，挖掘机上下拖车的过程受驾驶员主观意识的影响，会因视线盲区或者潮湿工况而导致挖掘机着力不稳，从一定高度坠落，出现安全问题。发明内容本申请的目的是克服现有技术中存在的驾驶员操作难度高且安全性低的问题，提供了一种用于挖掘机的控制方法、控制器、装置及挖掘机。为了实现上述目的，本发明提供一种用于挖掘机的控制方法，挖掘机包括工作设备，工作设备包括铲刀、铲斗、工作装置和行走机构，其中，工作装置包括动臂和斗杆，控制方法包括：获取挖掘机的工作参数，工作参数包括铲刀的抬起角度、工作装置的工作姿态、行走机构的当前位置、铲斗所在位置的压力值；在根据工作参数确定挖掘机符合自动上车状态的情况下，控制每个工作设备分别执行与上车操作对应的动作，以使挖掘机完成自动上车操作；在根据工作参数确定挖掘机符合自动下车状态的情况下，控制控制每个工作设备分别执行与下车操作对应的动作，以使挖掘机完成自动下车操作。在本申请实施例中，控制方法还包括：获取拖车的高度与挖掘机的预设爬坡角度范围；在拖车的高度处于预设爬坡角度范围对应的预设高度范围内的情况下，获取工作参数。在本申请实施例中，在根据工作参数确定挖掘机符合自动上车状态的情况下，控制每个工作设备分别执行与上车操作对应的动作，以使挖掘机完成自动上车操作包括：在根据工作参数确定挖掘机符合自动上车状态的情况下，控制工作装置执行下放动作，以使铲斗放置在拖车上；获取铲斗的第一压力值；在确定第一压力值大于拖车临界压力值的情况下，控制工作装置执行下放动作以使铲斗支撑在拖车上，使得挖掘机靠近拖车端的履带抬起至预设高度；分别控制行走机构与工作装置执行与自动上车状态对应的第一动作；获取铲斗的第二压力值；在确定第二压力值大于地面临界压力值的情况下，分别控制行走机构与工作装置执行与自动上车状态对应的第二动作。在本申请实施例中，分别控制行走机构与工作装置执行与自动上车状态对应的第一动作包括：控制行走机构运行，以使挖掘机移动至挖掘机履带的第一端与拖车的平板相接触的位置；控制工作装置执行上升动作，以将工作装置调整至初始姿态；控制挖掘机的车身旋转预设旋转角度，并控制行走机构运行，以使挖掘机朝拖车的平板移动，直至挖掘机的履带处于平板内的长度达到履带长度的预设比例；控制工作装置执行下放动作，以将工作装置调整至第一预设姿态。在本申请实施例中，在确定第二压力值大于地面临界压力值的情况下，分别控制行走机构与工作装置执行与自动上车状态对应的第二动作包括：控制工作装置执行下放动作以使铲斗支撑在地面上，使得履带与拖车的平板平行；控制行走机构运行，以使挖掘机朝拖车的平板内端移动，直到履带的第二端移动至与拖车的平板最外端相接触的位置；控制工作装置执行上升动作，以将工作装置调整至初始姿态；控制行走机构运行，以使挖掘机继续朝拖车的平板内端移动，直到挖掘机移动至平板的预设停止位置；控制工作装置执行下放动作，以将工作装置调整至第二预设姿态。在本申请实施例中，在控制工作装置执行下放动作，以将工作装置调整至第二预设姿态之后，控制挖掘机的铲刀执行下放动作，以使铲刀放置在平板上。在本申请实施例中，在根据工作参数确定挖掘机符合自动上车状态的情况下包括：获取铲刀的抬起角度；在确定抬起角度大于或等于预设角度的情况下，获取工作装置的装置参数；在装置参数所对应的姿态是初始姿态的情况下，获取挖掘机的实时位置；在确定挖掘机移动至第一预设位置的情况下，确定挖掘机符合自动上车状态。在本申请实施例中，在确定铲刀抬起角度小于预设角度的情况下，控制铲刀抬起预设角度；在装置参数所对应的姿态不是初始姿态的情况下，调整工作装置，以使装置参数所对应的姿态是初始姿态；在确定挖掘机未移动至第一预设位置的情况下，控制挖掘机的行走机构运行，以使挖掘机移动至第一预设位置。在本申请实施例中，在根据工作参数确定挖掘机符合自动下车状态的情况下，控制控制每个工作设备分别执行与下车操作对应的动作，以使挖掘机完成自动下车操作包括：在根据工作参数确定挖掘机符合自动下车状态的情况下，获取拖车的高度与挖掘机的爬坡角度范围；在确定拖车的高度处于爬坡角度范围对应的高度范围内的情况下，控制工作装置执行下放动作，以使铲斗放置在地面上；获取铲斗的第二压力值；在确定第二压力值大于地面临界压力值的情况下，控制工作装置执行下放动作以使铲斗支撑在地面上，以将工作装置调整至第三预设姿态；分别控制行走机构与控制工作装置执行与自动下车状态对应的第三动作；获取铲斗的第一压力值；在确定第一压力值大于拖车临界压力值的情况下，分别控制行走机构与工作装置执行与自动下车状态对应的第四动作。在本申请实施例中，分别控制行走机构与控制工作装置执行与自动下车状态对应的第三动作包括：控制工作装置执行收臂动作，并控制行走机构运行，以使挖掘机移动至挖掘机履带的第二端与地面相接触的位置；控制工作装置执行上升动作，以将工作装置调整至第一预设姿态；控制挖掘机的车身旋转预设旋转角度，并控制工作装置再次执行上升动作，以将工作装置调整至初始姿态；控制工作装置执行下放动作，以将工作装置调整至第四预设姿态。在本申请实施例中，在确定第一压力值大于拖车临界压力值的情况下，分别控制行走机构与工作装置执行与自动下车状态对应的第四动作包括：控制工作装置支撑在拖车上执行伸臂动作，并控制行走机构运行，以使挖掘机移动至第一预设位置；控制工作装置执行上升动作，以使履带下放直至全部履带与地面接触；控制挖掘机的车身旋转预设旋转角度，并控制工作装置执行上升动作，以将工作装置调整至初始姿态。在本申请实施例中，在确定拖车的高度处于爬坡角度范围对应的高度范围外的情况下，进行报警提示；控制工作装置执行上升动作，以将工作装置调整至初始姿态；控制行走机构运行，以使挖掘机移动至第二预设位置；控制挖掘机的铲刀执行下放动作，以使铲刀放置在平板上。在本申请实施例中，根据工作参数确定挖掘机符合自动下车状态的情况下包括：获取挖掘机的铲刀抬起角度；在确定铲刀抬起角度大于或等于预设角度的情况下，获取挖掘机实时位置；在确定挖掘机移动至第三预设位置的情况下，获取工作装置的装置参数；在装置参数对应的姿态是第二预设姿态的情况下，确定挖掘机符合自动下车状态。在本申请实施例中，在铲刀抬起角度小于预设角度的情况下，控制铲刀抬起预设角度；在挖掘机未移动至第三预设位置的情况下，控制挖掘机的行走机构运行，以使挖掘机移动至第三预设位置；在装置参数对应的姿态不是第二预设姿态的情况下，调整工作装置，以使装置参数对应的姿态是第二预设姿态。在本申请实施例中，在确定第一压力值小于或等于拖车临界压力值的情况下，增加挖掘机的油缸输出压力，以使第一压力值大于拖车临界压力值；和/或在确定第二压力值小于或等于地面临界压力值的情况下，增加挖掘机的油缸输出压力，以使第二压力值大于地面临界压力。在本申请实施例中，获取挖掘机的爬坡角度，通过公式确定与爬坡角度对应的高度：H＝2/3×L×sin公式其中，H为与爬坡角度对应的高度，L为挖掘机的履带中心距，α为挖掘机的爬坡角度。在本申请实施例中，在确定拖车的高度未处于爬坡角度范围对应的高度范围内的情况下，进行报警提示。本申请第二方面提供了一种控制器，被配置成执行上述任意实施例中的用于挖掘机的控制方法。本申请第三方面提供了一种用于挖掘机的控制装置，包括上述的控制器。本申请第四方面提供了挖掘机，包括：铲刀，被配置为固定挖掘机；行走机构，包括履带，行走机构被配置为移动挖掘机；工作装置，被配置为连接铲斗与挖掘机的车身；其中，工作装置包括：铲斗，被配置为支撑挖掘机；动臂，被配置为调节斗杆位置；斗杆，被配置为调节铲斗位置，以及上述的用于挖掘机的控制装置。在本申请实施例中，挖掘机还包括：图像采集装置，被配置为采集挖掘机的所处位置以及拖车的高度；导航装置，被配置为确定挖掘机的实时位置；倾角传感器，被配置为采集铲刀抬起角度；距离传感器，被配置为采集履带的抬起高度；压力传感器，被配置为采集铲斗压力。上述技术方案，控制器通过多种数据采集方式，采集挖掘机的工作参数，根据采集的工作参数，通过控制系统对挖掘机进行控制，使得挖掘机达到预设位置并将挖掘机调整为预设姿态。控制系统通过对挖掘机的移动位置以及工作姿态的调整，完成挖掘机自动上下拖车的过程。降低了操作人员的作业难度，保证了挖掘机的安全，降低了挖掘机被损坏的风险。本发明的其它特征和优点将在随后的具体实施方式部分予以详细说明。附图说明附图是用来提供对本发明的进一步理解，并且构成说明书的一部分，与下面的具体实施方式一起用于解释本发明，但并不构成对本发明的限制。在附图中：图1示意性示出了挖掘机的工作装置处于初始姿态时的结构示意图；图2示意性示出了根据本申请实施例的用于挖掘机的控制方法的流程示意图；图3示意性示出了挖掘机处于第一预设位置时的示意图；图4示意性示出了根据本申请实施例的用于挖掘机的控制方法的流程示意图；图5示意性示出了挖掘机处于上车状态时履带抬起时的结构示意图；图6示意性示出了挖掘机的工作装置处于第一预设姿态时的结构示意图；图7示意性示出了挖掘机的工作装置处于第二预设姿态时的结构示意图；图8示意性示出了根据本申请一实施例的挖掘机自动上车的流程示意图；图9示意性示出了挖掘机处于第三预设位置时的示意图；图10示意性示出了根据本申请实施例的用于挖掘机的控制方法的流程示意图；图11示意性示出了挖掘机处于第二预设位置时的示意图；图12示意性示出了挖掘机的工作装置处于第三预设姿态时的结构示意图；图13示意性示出了挖掘机的工作装置处于第四预设姿态时的结构示意图；图14示意性示出了根据本申请一实施例的挖掘机自动下车的流程示意图；图15示意性示出了根据本申请实施例的计算机设备的内部结构图。附图标记说明10、挖掘机；1、铲斗；2、斗杆；3、动臂；4、拖车；5、地面；6、履带；7、车身。具体实施方式以下结合附图对本申请的具体实施方式进行详细说明。应当理解的是，此处所描述的具体实施方式仅用于说明和解释本申请，并不用于限制本申请。需要说明，若本申请实施例中有涉及方向性指示，则该方向性指示仅用于解释在某一特定姿态下各部件之间的相对位置关系、运动情况等，如果该特定姿态发生改变时，则该方向性指示也相应地随之改变。另外，若本申请实施例中有涉及“第一”、“第二”等的描述，则该“第一”、“第二”等的描述仅用于描述目的，而不能理解为指示或暗示其相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。另外，各个实施例之间的技术方案可以相互结合，但是必须是以本领域普通技术人员能够实现为基础，当技术方案的结合出现相互矛盾或无法实现时应当认为这种技术方案的结合不存在，也不在本申请要求的保护范围之内。如图1所示，挖掘机10包括：铲刀，被配置为固定挖掘机10；行走机构，包括履带6，行走机构被配置为移动挖掘机10履带6；工作装置，被配置为连接铲斗1与挖掘机10的车身7；其中，工作装置包括：铲斗1，被配置为支撑挖掘机10；动臂3，被配置为将车身7与斗杆2相连接，用于调整斗杆2的位置；斗杆2，被配置为将动臂3与铲斗1相连接，用于调整铲斗1的位置。如图2所示，示意性示出了根据本申请实施例的用于挖掘机10的控制方法的流程示意图。如图2所示，在本申请一实施例中，提供了用于挖掘机10的控制方法，包括以下步骤：步骤201，获取挖掘机10的工作参数，工作参数包括铲刀的抬起角度、工作装置的工作姿态、行走机构的当前位置、铲斗1所在位置的支撑压力；步骤202，在根据工作参数确定挖掘机10符合自动上车状态的情况下，控制每个工作设备分别执行与上车操作对应的动作，以使挖掘机10完成自动上车操作；步骤203，在根据工作参数确定挖掘机10符合自动下车状态的情况下，控制每个工作设备分别执行与下车操作对应的动作，以使挖掘机10完成自动下车操作。控制器可以获取挖掘机10的工作参数，挖掘机10的工作参数可以包括挖掘机10铲刀的抬起角度，挖掘机10工作装置的工作姿态，挖掘机10行走机构的当前位置也就是挖掘机10的当前位置，以及挖掘机10铲斗1所在位置的支撑压力。其中，挖掘机10铲斗1所在位置的支撑压力指挖掘机10铲斗1支撑在地面5或拖车4上时的压力。控制器在获得挖掘机10的工作参数后，可以根据获得的工作参数判断挖掘机10当前的状态，其中，此状态包括自动上车状态和自动下车状态。自动上车状态指挖掘机10通过控制器控制自动从地面5上车到拖车4上，自动下车状态指挖掘机10通过控制器控制自动从拖车4上下车到地面5上。控制器通过获取的工作参数确定挖掘机10符合自动上车状态的情况下，控制器可以控制挖掘机10的每个工作设备分别执行与挖掘机10自动上拖车4操作对应的动作，以使得挖掘机10可以完成自动上拖车4操作。当控制器根据获取的工作参数确定挖掘机10符合自动下车状态的情况下，控制器可以控制挖掘机10的每个工作设备分别执行与挖掘机10自动下拖车4操作对应的动作，以使得挖掘机10可以完成自动下拖车4操作。在一个实施例中，获取拖车4的高度与挖掘机10的预设爬坡角度范围；在拖车4的高度处于预设爬坡角度范围对应的预设高度范围内的情况下，获取工作参数。在一个实施例中，获取挖掘机10的爬坡角度范围，可以通过公式确定与爬坡角度对应的高度：H＝2/3×L×sin公式其中，H为与爬坡角度对应的高度，L为挖掘机10的履带6中心距，α为挖掘机10的爬坡角度。在一个实施例中，在确定拖车4的高度未处于爬坡角度范围对应的高度范围内的情况下，进行报警提示。控制器可以获取待拉载挖掘机10的拖车4的高度与挖掘机10的预设爬坡角度范围。控制器可以根据挖掘机10的预设爬坡角度范围通过公式H＝2/3×L×sin确定与预设爬坡角度范围对应的预设高度范围，其中，α为挖掘机10的爬坡角度，L为挖掘机10的履带6中心距，H为与爬坡角度对应的高度。例如，假设挖掘机10的爬坡角度范围为0-αm，则对应的高度范围为H-H。控制器根据挖掘机10的预设爬坡角度范围确定了与挖掘机10预设爬坡角度范围对应的预设高度范围后，可以将获取的拖车4的高度与预设高度范围进行对比，在确定拖车4的高度处于挖掘机10预设爬坡角度范围对应的预设高度范围内的情况下，控制器可以获取挖掘机10的工作参数，从而对挖掘机10的状态进行判断，而当拖车4的高度不处于挖掘机10预设爬坡角度对应的预设高度范围内时，控制器可以进行报警提示，例如，进行拖车4过高的报警提示。在一个实施例中，在根据工作参数确定挖掘机10符合自动上车状态的情况下包括：获取铲刀的抬起角度；在确定抬起角度大于或等于预设角度的情况下，获取工作装置的装置参数；在装置参数所对应的姿态是初始姿态的情况下，获取挖掘机10的实时位置；在确定挖掘机10移动至第一预设位置的情况下，确定挖掘机10符合自动上车状态。控制器可以获取挖掘机10的工作参数，并根据挖掘机10的工作参数判断挖掘机10符合自动上车的状态还是自动下车的状态。控制器可以获取挖掘机10铲刀的抬起角度，控制可以设置预设角度为10°，在确定铲刀的抬起角度大于或等于预设角度的情况下，控制器可以获取挖掘机10工作装置的装置参数，通过工作装置的装置参数确定工作装置所处的姿态。如图1所示，图1中示出了挖掘机的工作装置处于初始姿态时的状态。具体地，挖掘机10工作装置中动臂3上升，使得的斗杆2收缩，使得铲斗1保持向上折叠状态。在控制器确定工作装置的装置参数对应的姿态是如图1所示的初始姿态的情况下，控制器获取挖掘机10的实时位置，在确定挖掘机10移动至地面5上的第一预设位置的情况下，控制器可以将第一预设位置设置为拖车4位置延长线上地面5的位置，如图3所示。控制器通过获取挖掘机10的实时位置，确定挖掘机10移动至第一预设位置的情况下，控制器可以确定挖掘机10符合自动上车状态。在一个实施例中，在确定铲刀抬起角度小于预设角度的情况下，控制铲刀抬起预设角度；在装置参数所对应的姿态不是初始姿态的情况下，调整工作装置，以使装置参数所对应的姿态是初始姿态；在确定挖掘机10未移动至第一预设位置的情况下，控制挖掘机10的行走机构运行，以使挖掘机10移动至第一预设位置。在控制器获取到挖掘机10的工作参数后，确定挖掘机10的铲刀抬起角度，在确定铲刀抬起角度小于控制器设置的预设角度的情况下，控制器可以控制铲刀抬起预设角度，从而可以保证铲刀的抬起角度大于或等于控制器设置的预设角度。在控制器获取工作装置的装置参数后，确定装置参数对应的姿态不是如图1所示的初始姿态的情况下，控制器可以调整工作装置，以使挖掘机10的工作装置的装置参数所对应的姿态是如图1所示的初始姿态。当控制器获取挖掘机10的实时位置，根据挖掘机10的实时位置确定挖掘机10未移动至如图3所示的第一预设位置的情况下，控制器可以控制挖掘机10的行走机构运行，以使挖掘机10移动至第一预设位置。在一个实施例中，如图4所示，示意性示出了根据本申请实施例的用于挖掘机的控制方法的流程示意图。在根据工作参数确定挖掘机10符合自动上车状态的情况下，控制每个工作设备分别执行与上车操作对应的动作，以使挖掘机10完成自动上车操作，包括以下步骤：步骤401，在根据工作参数确定挖掘机10符合自动上车状态的情况下，控制工作装置执行下放动作，以使铲斗1放置在拖车4上。步骤402，获取铲斗1的第一压力值。步骤403，在确定第一压力值大于拖车临界压力值的情况下，控制工作装置执行下放动作以使铲斗1支撑在拖车4上，使得挖掘机10靠近拖车4端的履带6抬起至预设高度。控制器通过获取挖掘机10的工作参数，确定挖掘机10符合自动上车的情况下，控制器可以控制挖掘机10的工作装置执行下放动作，其中，挖掘机10的工作装置可以包括挖掘机10的动臂3与斗杆2，并且与挖掘机10的铲斗1相连接。使得挖掘机10的铲斗1放置在拖车4上，从而可以控制铲斗1对挖掘机10进行支撑。拖车临界压力值是为了保证铲斗1在拖车4上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。控制器可以获取铲斗1支撑在拖车4上时铲斗1的第一压力值，在确定铲斗1的第一压力值大于拖车临界压力值的情况下，控制器可以控制工作装置执行下放动作，使得与斗杆2相连接的铲斗1支撑在拖车4上，控制器通过下放工作装置控制动臂3下落，伸出斗杆2，并向前反转铲斗1以使得工作装置的铲斗1支撑拖车4，使得挖掘机10靠近拖车4端的履带6抬起至预设高度。如图5所示，挖掘机10的铲斗1支撑在拖车4的平板上，使得挖掘机10靠近拖车4那一端的履带6抬起。步骤404，分别控制行走机构与工作装置执行与自动上车状态对应的第一动作。控制器通过控制工作装置使得挖掘机10靠近拖车4端的履带6抬起至预设高度后，控制器可以分别控制挖掘机10的行走机构与挖掘机10的工作装置执行与自动上车状态对应的第一动作。在一个实施例中，分别控制行走机构与工作装置执行与自动上车状态对应的第一动作包括：控制行走机构运行，以使挖掘机10移动至挖掘机10履带6的第一端与拖车4的平板相接触的位置；控制工作装置执行上升动作，以将工作装置调整至初始姿态；控制挖掘机10的车身7旋转预设旋转角度，并控制行走机构运行，以使挖掘机10朝拖车4的平板移动，直至挖掘机10的履带6处于平板内的长度达到履带6长度的预设比例；控制工作装置执行下放动作，以将工作装置调整至第一预设姿态。控制器通过控制工作装置将挖掘机10靠近拖车4端的履带6抬起至预设高度后，控制器可以控制挖掘机10的行走机构运行，使挖掘机10移动至挖掘机10履带6的第一端与拖车4的平板相接触的位置，其中，履带6的第一端指的就是挖掘机10履带6靠近拖车4端的一端。在挖掘机10履带6的第一端与拖车4平板相接触后，控制器可以控制工作装置执行上升动作，使挖掘机10的工作装置调整至初始姿态。挖掘机10的工作装置的初始姿态如图1所示，挖掘机10的斗杆2收回，使得铲斗1保持向上折叠状态。在确定挖掘机10的工作状态处于初始姿态的情况下，控制器控制挖掘机10的车身7旋转预设旋转角度，控制器可以将预设旋转角度设置为180°。控制器使得挖掘机10的车身7旋转预设旋转角度后，控制行走机构运行，使得挖掘机10朝拖车4的平板移动，也就是说，控制挖掘机10往拖车4上移动。直到挖掘机10的履带6处于拖车4平板内的长度达到了履带6长度的预设比例。例如，假设控制器将预设比例设置为2/5，也就是说控制器控制挖掘机10向拖车4移动，直到挖掘机10的履带6的2/5都上到了拖车4上。此时，控制器可以控制工作装置执行下放动作，以将工作装置调整至第一预设姿态。第一预设姿态如图6所示，即工作装置中动臂3以及斗杆2下放，使得铲斗1放置在地面5上，以对挖掘机10进行支撑。步骤405，获取铲斗1的第二压力值。步骤406，在确定第二压力值大于地面临界压力值的情况下，分别控制行走机构与工作装置执行与自动上车状态对应的第二动作。控制器通过控制工作装置，使得工作装置处于第一预设姿态，也就是通过下放工作装置，使得挖掘机10的铲斗1放置在地面5上，从而可以控制铲斗1对挖掘机10进行支撑。地面临界压力值是为了保证铲斗1在地面5上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。控制器可以获取铲斗1支撑在地面5上时铲斗1的第二压力值，在确定铲斗1的第二压力值大于地面临界压力值的情况下，控制器可以分别控制挖掘机10的行走机构与挖掘机10的工作装置执行与自动上车状态对应的第二动作。在一个实施例中，在确定第二压力值大于地面临界压力值的情况下，分别控制行走机构与工作装置执行与自动上车状态对应的第二动作包括：控制工作装置执行下放动作以使铲斗1支撑在地面5上，使得履带6与拖车4的平板平行；控制行走机构运行，以使挖掘机10朝拖车4的平板内端移动，直到履带6的第二端移动至与拖车4的平板最外端相接触的位置；控制工作装置执行上升动作，以将工作装置调整至初始姿态；控制行走机构运行，以使挖掘机10继续朝拖车4的平板内端移动，直到挖掘机10移动至平板的预设停止位置；控制工作装置执行下放动作，以将工作装置调整至第二预设姿态。控制器在确定铲斗1的第二压力值大于地面临界压力值的情况下，控制器可以控制工作装置执行下放动作，使得与斗杆2相连接的铲斗1支撑在地面5上，控制器通过下放工作装置控制铲斗1支撑地面5，使得挖掘机10的履带6与拖车4的平板平行。在挖掘机10的履带6与拖车4的平板平行后，控制挖掘机10的行走机构运行，使得挖掘机10朝拖车4的平板内端移动，直到挖掘机10履带6的第二段移动至与拖车4的平板最外端相接触的位置。也就是说，通过控制行走机构运行，挖掘机10履带6的第二端刚好接触到平板的最外端，即使得挖掘机10整个履带6刚好完全上到拖车4上。在挖掘机10移动到履带6的第二端与拖车4的平板最外端相接触的位置后，控制器可以控制工作装置执行上升动作，以将挖掘机10的工作装置调整至如图1所示的初始姿态。图1所示的挖掘机10的工作装置的初始姿态只针对挖掘机10的工作装置，即挖掘机10的动臂3、斗杆2以及铲斗1的姿态，不限定工作装置处于挖掘机10的具体某一侧。挖掘机10的工作状态处于初始姿态后，控制器控制挖掘机10的行走机构运行，以使挖掘机10继续朝拖车4的平板内端移动，直到挖掘机10移动至平板的预设停止位置。预设停止位置可以根据拖车4拉载挖掘机10的位置进行设置。在挖掘机10移动至拖车4平板的预设停止位置后，控制器可以控制工作装置执行下放动作，使挖掘机10的工作装置调整至第二预设姿态。第二预设姿态如图7所示，控制器控制工作装置中的铲斗1进行下放，使得铲斗1放置在拖车4的平板上。在一个实施例中，在控制工作装置执行下放动作，以将工作装置调整至第二预设姿态之后，控制挖掘机10的铲刀执行下放动作，以使铲刀放置在平板上。在控制器通过控制工作装置执行下放动作，使得工作装置调整至如图7所示的第二预设姿态后，控制挖掘机10的铲刀执行下放动作，以使铲刀放置在拖车4的平板上，用来对挖掘机10进行固定。在一个实施例中，如图8所示，示意性示出了根据本申请一实施例的挖掘机自动上车的流程示意图。如图8所示，在本申请一实施例中，提供了挖掘机10自动上车的方法，包括以下步骤：步骤801，判断自动上拖车4系统是否打开，若是，执行步骤802；若否，执行步骤832。步骤802，获取拖车4的平板高度H，以及挖掘机10能够上下拖车4的最大高度Hw。步骤803，判断H是否小于Hw，若否，执行步骤804；若是，执行步骤805。步骤804，仪表盘提示平板高度过高。控制器可以判断自动上拖车4系统是否打开，也就是此时挖掘机10是否需要执行自动上拖车4操作，在确定自动上拖车4系统打开的情况下，控制器可以获取拖车4的平板高度H，以及挖掘机10能够上下拖车4的最大高度Hw。挖掘机10能够上下拖车4的最大高度取决于挖掘机10的最大爬坡角度αm，通常为35°，若爬坡角度超过αm，则挖掘机10无法满足上拖车4的过程。而所测挖掘机10上下拖车4高度H＝2/3·L·sin，其中α为挖掘机10的爬坡角度，其数值可以通过公式α＝arcsin计算，L为履带6中心距。当α＝αm时，挖掘机10最大上下拖车4高度Hw＝H＝2/3·L·sin。在确定拖车4的平板高度H大于或等于挖掘机10能够上下拖车4的最大高度Hw时，控制器可以控制仪表盘提示拖车4的平板高度过高，并再次执行步骤801，直至操作人员关闭上拖车4系统或者更换拖车4，以使拖车4的高度H小于挖掘机10能够上下拖车4的最大高度Hw。步骤805，获取铲刀抬起角度。步骤806，判断铲刀是否抬起预设角度，若否，执行步骤807；若是，执行步骤808；步骤807，铲刀上抬预设角度。步骤808，获取工作装置的工作姿态。步骤809，判断工作装置是否处于初始姿态，若否，执行步骤810；若是，执行步骤811。步骤810，调整工作装置。步骤811，获取挖掘机10行走机构实时位置。步骤812，判断行走机构是否处于第一预设位置，若否，执行步骤813；若是，执行步骤814。步骤813，调整行走机构。在控制器确定拖车4的高度H小于挖掘机10能够上下拖车4的最大高度Hw时，获取铲刀的抬起角度，并判断铲刀是否抬起预设角度，控制器可以将预设角度设置为10°。若是铲刀没有抬起预设角度，控制器可以控制铲刀上抬预设角度，从而确保不会因为铲刀未离开地面5而影响挖掘机10上拖车4的动作，上抬预设角度后，控制器可以再次执行步骤805，对铲刀抬起角度进行确定。若是控制器确定铲刀已经抬起预设角度，控制器可以通过倾角传感器获取工作装置的工作姿态，并判断挖掘机10的工作装置是否处于初始姿态，其中，挖掘机10的工作装置的初始姿态如图1所示，挖掘机10的斗杆2收回，使得铲斗1保持向上折叠状态。若是控制器确定工作装置未处于初始姿态，则控制器可以调整工作装置，直至工作装置处于如图1所示的初始姿态。若是控制器确定工作装置处于初始姿态，控制器可以获取挖掘机10行走机构的实时位置，并判断行走机构是否处于第一预设位置，控制器可以将第一预设位置设置为拖车4位置延长线上地面5的位置，如图3所示。若是控制器确定行走机构未处于如图3所示的第一预设位置，则控制器可以调整行走机构，直至行走机构处于第一预设位置。步骤814，工作装置下放，以使铲斗1放置在拖车4上并获取铲斗1处的第一压力值。步骤815，判断第一压力值是否大于拖车临界压力值，若否，执行步骤816，若是，执行步骤817。步骤816，增加油缸输出压力。步骤817，工作装置下放直至挖掘机10履带6的第一端抬起高度为h。在控制器确定行走机构处于如图3所示的第一预设位置后，控制器可以控制工作装置下放，以使挖掘机10的铲斗1放置在拖车4上，并通过压力传感器获得铲斗1出的第一压力值。拖车临界压力值是为了保证铲斗1在拖车4上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。控制器可以获取铲斗1支撑在拖车4上时铲斗1的第一压力值，并判断第一压力值是否大于拖车临界压力值。若是第一压力值小于或等于拖车临界压力值，则控制器增加油缸输出压力直到铲斗1的第一压力值大于拖车临界压力值。若是第一压力值大于拖车临界压力值，控制工作装置下放使得挖掘机10履带6的第一端抬起，直至通过举例传感器所测得挖掘机10履带6的第一端抬起高度为h，其中，履带6的第一端指的就是挖掘机10履带6靠近拖车4端的一端。步骤818，行走机构移动至履带6的第一端与平板相接触的位置。步骤819，调整工作装置至初始姿态。步骤820，控制车身7向后旋转180°并行走至2/5的履带6上到拖车4。步骤821，下放工作装置至第一预设姿态。控制器通过控制工作装置将挖掘机10履带6的第一端抬起高度达到h后，控制器可以控制挖掘机10的行走机构运行，使挖掘机10移动至挖掘机10履带6的第一端与拖车4的平板相接触的位置，其中，履带6的第一端指的就是挖掘机10履带6靠近拖车4端的一端。在挖掘机10履带6的第一端与拖车4平板相接触后，控制器可以控制工作装置执行上升动作，使挖掘机10的工作装置调整至如图1所示的初始姿态。将工作装置调整至初始姿态后，控制器可以控制挖掘机10的车身7旋转180°，并控制行走机构运行，使得挖掘机10朝拖车4的平板移动，直到挖掘机10的履带6处于拖车4平板内的长度达到了履带6长度的2/5。控制器可以控制工作装置执行下放动作，以将工作装置调整至第一预设姿态。第一预设姿态如图6所示，工作装置中的铲斗1下放，使得铲斗1放置在地面5上，以对挖掘机10进行支撑。步骤822，获取铲斗1处的第二压力值。步骤823，判断第二压力值是否大于地面临界压力值，若否，执行步骤824；若是，执行步骤825。步骤824，增加油缸输出压力。地面临界压力值是为了保证铲斗1在地面5上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。控制器可以获取铲斗1支撑在地面5上时铲斗1的第二压力值，并判断铲斗1出的第二压力值是否大于地面临界压力值。若是铲斗1的第二压力值小于或等于地面临界压力值，控制器可以控制增加油缸输出压力，直至铲斗1的第二压力值大于地面临界压力值。步骤825，下放动臂3微推斗杆2至履带6与平板平行。步骤826，移动行走机构至履带6的第二端靠近平板后端。步骤827，调整工作装置至初始姿态。步骤828，移动行走机构至第二预设位置。步骤829，调整工作装置至第二预设姿态。步骤830，下放铲刀。步骤831，仪表盘显示挖掘机10已完成上拖车4动作。步骤832，结束。若是铲斗1出的第二压力值大于地面临界压力值，控制器可以控制工作装置执行下放动作，以使挖掘机10下放动臂3微伸斗杆2，使得与斗杆2相连接的铲斗1支撑在地面5上，控制器通过下放工作装置控制铲斗1支撑地面5，使得挖掘机10的履带6与拖车4的平板平行。在挖掘机10的履带6与拖车4的平板平行后，控制挖掘机10的行走机构运行，使得挖掘机10朝拖车4的平板内端移动，直到挖掘机10履带6的第二段移动至靠近拖车4的平板的后端，也就是平板的最外端，其中挖掘机10履带6的第二端与上述挖掘机10履带6的第一端对应。在挖掘机10的行走机构移动到履带6的第二端靠近拖车4的平板后端后，控制器可以控制工作装置执行上升动作，以将挖掘机10的工作装置调整至如图1所示的初始姿态。挖掘机10的工作状态处于初始姿态后，控制器控制挖掘机10的行走机构运行，以使挖掘机10移动至第二预设位置。其中，第二预设位置可以如图11所示，处于拖车4的内端，为挖掘机10被拖车4拉载时在拖车4上的停放位置。控制器可以控制工作装置执行下放动作，使挖掘机10的工作装置调整至第二预设姿态。第二预设姿态如图7所示，控制器控制工作装置下放，是的铲斗1放置在拖车4的平板上。在控制器通过控制工作装置执行下放动作，将工作装置调整至如图7所示的第二预设姿态后，控制挖掘机10的铲刀执行下放动作，以使铲刀放置在拖车4的平板上，用来对挖掘机10进行固定。并通过仪表盘显示仪表盘显示挖掘机10已完成上拖车4动作，并结束挖掘机10自动上拖车4操作。其中，上述实施例中涉及的预设位置对行走机构有着较高要求，除了挖掘机10的实时位置在位于预设位置的居中处外，挖掘机10的履带6必须与预设位置外侧预设线框平行且两侧等距。在一个实施例中，在根据工作参数确定挖掘机10符合自动下车状态的情况下包括：获取挖掘机10的铲刀抬起角度；在确定铲刀抬起角度大于或等于预设角度的情况下，获取挖掘机10实时位置；在确定挖掘机10移动至第三预设位置的情况下，获取工作装置的装置参数；在装置参数对应的姿态是第二预设姿态的情况下，确定挖掘机10符合自动下车状态。控制器可以获取挖掘机10的工作参数，并根据挖掘机10的工作参数判断挖掘机10符合自动上车的状态还是自动下车的状态。控制器可以获取挖掘机10铲刀的抬起角度，控制可以设置预设角度为10°，在确定铲刀的抬起角度大于或等于预设角度的情况下，控制器可以获取挖掘机10的实时位置，根据获取的挖掘机10的实时位置确定挖掘机10移动至第三预设位置的情况下，控制器可以将第三预设位置设置为靠近拖车4的平板外端的位置。如图9所示。控制器通过获取挖掘机10的实时位置，确定挖掘机10移动至第三预设位置的情况下，控制器可以获取挖掘机10工作装置的装置参数，通过工作装置的装置参数确定工作装置所处的姿态，在控制器确定工作装置的装置参数对应的姿态是如图7所示的第二预设姿态的情况下，即工作装置下放，使得铲斗1放置在拖车4的平板上。通过获取工作装置的装置参数确定工作装置处于第二预设姿态的情况下，控制器可以确定挖掘机10符合自动下车状态。在一个实施例中，在铲刀抬起角度小于预设角度的情况下，控制铲刀抬起预设角度；在挖掘机10未移动至第三预设位置的情况下，控制挖掘机10的行走机构运行，以使挖掘机10移动至第三预设位置；在装置参数对应的姿态不是第二预设姿态的情况下，调整工作装置，以使装置参数对应的姿态是第二预设姿态。在控制器获取到挖掘机10的工作参数后，确定挖掘机10的铲刀抬起角度，在确定铲刀抬起角度小于控制器设置的预设角度的情况下，控制器可以控制铲刀抬起预设角度，从而可以保证铲刀的抬起角度大于或等于控制器设置的预设角度。当控制器获取挖掘机10的实时位置，根据挖掘机10的实时位置确定挖掘机10未移动至如图9所示的第三预设位置的情况下，控制器可以控制挖掘机10的行走机构运行，以使挖掘机10移动至第三预设位置。在控制器获取工作装置的装置参数后，确定装置参数对应的姿态不是如图7所示的第二预设姿态的情况下，控制器可以调整工作装置，以使挖掘机10的工作装置的装置参数所对应的姿态是如图7所示的第二预设姿态。在一个实施例中，如图10所示，示意性示出了根据本申请实施例的用于挖掘机的控制方法的流程示意图。在根据工作参数确定挖掘机10符合自动下车状态的情况下，控制每个工作设备分别执行与上车操作对应的动作，以使挖掘机10完成自动下车操作，包括以下步骤：步骤1001，在根据工作参数确定挖掘机10符合自动下车状态的情况下，获取拖车4的高度与挖掘机10的爬坡角度范围。步骤1002，在确定拖车4的高度处于爬坡角度范围对应的高度范围内的情况下，控制工作装置执行下放动作，以使铲斗1放置在地面5上。控制器通过获取挖掘机10的工作参数，确定挖掘机10符合自动下车的情况下，控制器可以获取待拉载挖掘机10的拖车4的高度与挖掘机10的预设爬坡角度范围。控制器可以根据挖掘机10的预设爬坡角度范围通过公式H＝2/3×L×sin确定与预设爬坡角度范围对应的预设高度范围，其中，α为挖掘机10的爬坡角度，L为挖掘机10的履带6中心距，H为与爬坡角度对应的高度。例如，假设挖掘机10的爬坡角度范围为0-αm，则对应的高度范围为H-H。控制器根据挖掘机10的预设爬坡角度范围确定了与挖掘机10预设爬坡角度范围对应的预设高度范围后，可以将获取的拖车4的高度与预设高度范围进行对比，在确定拖车4的高度处于挖掘机10预设爬坡角度范围对应的预设高度范围内的情况下，控制器可以控制挖掘机10的工作装置执行下放动作，使得铲斗1可以放置在地面5上。在一个实施例中，在确定拖车4的高度处于爬坡角度范围对应的高度范围外的情况下，进行报警提示；控制工作装置执行上升动作，以将工作装置调整至初始姿态；控制行走机构运行，以使挖掘机10移动至第二预设位置；控制挖掘机10的铲刀执行下放动作，以使铲刀放置在平板上。当控制器获得拖车4的高度以及挖掘机10的爬坡角度范围后，可以根据挖掘机10的爬坡角度范围确定对应的高度范围，当控制器确定拖车4的高度处于挖掘机10爬坡角度范围对应的高度范围外的情况下，控制器可以进行报警提示。并控制工作装置执行上升动作，以将工作装置调整至如图1所示的初始姿态，并控制挖掘机10的行走机构运行，以使挖掘机10移动至第二预设位置，其中，第二预设位置可以如图11所示，处于拖车4的内端，为挖掘机10被拖车4拉载时在拖车4上的停放位置。也就是说，在控制器确定拖车4的高度与挖掘机10爬坡角度范围对应的高度不符合时，控制挖掘机10回到拖车4原来停放挖掘机10的位置。并控制挖掘机10的铲刀下放，使得铲刀放置在拖车4的平板上，以固定挖掘机10。步骤1003，获取铲斗1的第二压力值。步骤1004，在确定第二压力值大于地面临界压力值的情况下，控制工作装置执行下放动作以使铲斗1支撑在地面5上，以将工作装置调整至第三预设姿态。地面临界压力值是为了保证铲斗1在地面5上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。控制器通过控制工作装置执行下放动作，使得铲斗1放置在地面5上后，可以获取铲斗1支撑在地面5上时铲斗1的第二压力值。在确定铲斗1的第二压力值大于地面临界压力值的情况下，控制器可以控制工作装置执行下放动作，使得与斗杆2相连接的铲斗1支撑在地面5上，使得挖掘机10的工作装置调整成第三预设姿态。第三预设姿态如图12所示，挖掘机10的车身7位于拖车4的平板上，挖掘机10上与工作装置的斗杆2相连接的铲斗1放置在地面5上，用以支撑挖掘机10。步骤1005，分别控制行走机构与控制工作装置执行与自动下车状态对应的第三动作；控制器通过控制工作装置使得挖掘机10的工作装置调整至如图12所示的第三预设姿态后，控制器可以分别控制挖掘机10的行走机构与挖掘机10的工作装置执行与自动下车状态对应的第三动作。在一个实施例中，控制工作装置执行收臂动作，并控制行走机构运行，以使挖掘机10移动至挖掘机10履带6的第二端与地面5相接触的位置；控制工作装置执行上升动作，以将工作装置调整至第一预设姿态；控制挖掘机10的车身7旋转预设旋转角度，并控制工作装置再次执行上升动作，以将工作装置调整至初始姿态；控制工作装置执行下放动作，以将工作装置调整至第四预设姿态。控制器将工作装置调整至第三预设姿态后，可以在确定铲斗1的第二压力值大于地面临界压力值的情况下，控制工作装置执行收臂动作，收斗杆2并控制挖掘机10的行走机构运行，以使挖掘机10移动至挖掘机10履带6的第二端与地面5相接触的位置，也就是说，将挖掘机10从拖车4往地面5移动至挖掘机10的履带6的一端与地面5相接触。在挖掘机10的履带6的一端与地面5相接触后，控制器可以控制工作装置执行上升动作，从而将工作装置调整至如图6所示的第一预设姿态。控制器在将工作装置调整至如图6所示的第一预设姿态后，可以控制挖掘机10的车身7旋转预设旋转角度，控制器可以将预设旋转角度设置为180°，并控制工作装置再次执行上升动作，将工作装置调整为如图1所示的初始姿态。挖掘机10的工作装置回到初始姿态后控制器可以控制工作装置下放，将挖掘机10的工作装置调整至第四预设姿态。第四预设姿态如图13所示，工作装置下放将与斗杆2相连接的铲斗1放置在拖车4的平板上。步骤1006，获取铲斗1的第一压力值；步骤1007，在确定第一压力值大于拖车临界压力值的情况下，分别控制行走机构与工作装置执行与自动下车状态对应的第四动作。控制器将工作装置调整至如图13所示的第四预设姿态后，与斗杆2相连接的铲斗1放置在拖车4的平板上，从而可以控制铲斗1对挖掘机10进行支撑。拖车临界压力值是为了保证铲斗1在拖车4上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。控制器可以获取铲斗1支撑在拖车4上时铲斗1的第一压力值，在确定铲斗1的第一压力值大于拖车临界压力值的情况下，控制器可以控制挖掘机10的行走机构与工作装置执行与自动下车状态对应的第四动作。在一个实施例中，在确定第一压力值大于拖车临界压力值的情况下，分别控制行走机构与工作装置执行与自动下车状态对应的第四动作包括：控制工作装置支撑在拖车4上执行伸臂动作，并控制行走机构运行，以使挖掘机10移动至第一预设位置；控制工作装置执行上升动作，以使履带6下放直至全部履带6与地面5接触；控制挖掘机10的车身7旋转预设旋转角度，并控制工作装置执行上升动作，以将工作装置调整至初始姿态。控制器在确定铲斗1的第一压力值大于拖车临界压力值的情况下，此时工作装置处于如图13所示的第四预设姿态，控制器可以控制工作装置支撑在拖车4上执行伸臂动作，并控制行走机构运行，使得挖掘机10移动至如图3所示的第一预设位置。也就是说，控制器控制工作装置执行下放动作使得与斗杆2相连接的铲斗1放置在拖车4的平板上对挖掘机10进行支撑。通过伸臂动作，使得挖掘机10利用铲斗1支撑拖车4，同时通过行走机构运行使得挖掘机10离开拖车4移动至第一预设位置。在将挖掘机10移动至第一预设位置后，控制器可以控制工作装置执行上升动作以使挖掘机10的履带6下放，直至挖掘机10的全部履带6与地面5接触，也就是挖掘机10整体落在地面5上。在确定挖掘机10完全着地后，控制器可以控制挖掘机10的车身7旋转预设旋转角度，控制器可以将预设旋转角度设置为180°。并控制工作装置执行上升动作，以将工作装置调整至如图1所示的初始姿态。以使挖掘机10完成自动下车操作。在一个实施例中，在确定第一压力值小于或等于拖车临界压力值的情况下，增加挖掘机10的油缸输出压力，以使第一压力值大于拖车临界压力值；和/或在确定第二压力值小于或等于地面临界压力值的情况下，增加挖掘机10的油缸输出压力，以使第二压力值大于地面临界压力。拖车临界压力值是为了保证铲斗1在拖车4上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。当控制器判断铲斗1处的第一压力值小于或等于拖车临界压力值的情况下，为了避免铲斗1发生滑动造成危险，控制器可以控制挖掘机10的油缸输出压力，以使得挖掘机10铲斗1处的第一压力值大于拖车临界压力值。地面临界压力值是为了保证铲斗1在地面5上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。当控制器判断铲斗1处的第二压力值小于或等于地面临界压力值的情况下，为了避免铲斗1发生滑动造成危险，控制器可以控制挖掘机10的油缸输出压力，以使得挖掘机10铲斗1处的第二压力值大于地面临界压力值。在一个实施例中，如图14所示，示意性示出了根据本申请一实施例的挖掘机10自动下车的流程示意图。如图14所示，在本申请一实施例中，提供了挖掘机10自动下车的方法，包括以下步骤：步骤1401，判断自动下拖车4系统是否打开，若是，执行步骤1402；若否，执行步骤1431。步骤1402，获取铲刀抬起角度。步骤1403，判断铲刀是否抬起预设角度；若否，执行步骤1404；若是，执行步骤1405。步骤1404，铲刀上抬预设角度。步骤1405，获取挖掘机10行走机构实时位置。步骤1406，判断行走机构是否处于第三预设位置，若否，执行步骤1407；若是，执行步骤1408。步骤1407，调整行走机构。步骤1408，获取工作装置的工作姿态。步骤1409，判断工作装置是否处于第二预设姿态，若否，执行步骤1410；若是，执行步骤1411。步骤1410，调整工作装置。控制器可以判断自动下拖车4系统是否打开，也就是此时挖掘机10是否需要执行自动下拖车4操作，在确定自动下拖车4系统打开的情况下，获取铲刀的抬起角度，并判断铲刀是否抬起预设角度，控制器可以将预设角度设置为10°。若是铲刀没有抬起预设角度，控制器可以控制铲刀上抬预设角度，从而确保不会因为铲刀未离开拖车4的平板而影响挖掘机10移动，上抬预设角度后，控制器可以再次执行步骤1402，对铲刀抬起角度进行确定。若是控制器确定铲刀已经抬起预设角度，控制器可以通过北斗导航系统获取挖掘机10行走机构的实时位置，并判断行走机构是否处于第三预设位置，控制器可以将第三预设位置设置为靠近拖车4的平板外端的位置，如图9所示。若是控制器确定行走机构未处于如图9所示的第三预设位置，则控制器可以调整行走机构，直至行走机构处于第三预设位置。若是控制器确定行走机构处于如图9所示的第三预设位置，控制器可以通过倾角传感器获取工作装置的工作姿态，并判断挖掘机10的工作装置是否处于第二预设姿态，其中，挖掘机10的工作装置的第二姿态如图7所示，即工作装置下放，使得铲斗1放置在拖车4的平板上。若是控制器确定工作装置未处于第二姿态，则控制器可以调整工作装置，直至工作装置处于如图7所示的第二预设姿态。步骤1411，获取拖车4的平板高度H，以及挖掘机10能够上下拖车4的最大高度Hw。步骤1412，判断H是否小于Hw，若否，执行步骤1413；若是，执行步骤1418。步骤1413，仪表盘提示平板高度过高。步骤1414，工作装置调整至初始姿态。步骤1415，行走机构移动至第二预设位置。步骤1416，下放铲刀。步骤1417，自动下拖车4按钮关闭。若是控制器确定挖掘机10的工作装置处于第二预设姿态的情况下，控制器可以获取拖车4的平板高度H，以及挖掘机10能够上下拖车4的最大高度Hw。挖掘机10能够上下拖车4的最大高度取决于挖掘机10的最大爬坡角度αm，通常为35°，若爬坡角度超过αm，则挖掘机10无法满足上拖车4的过程。而所测挖掘机10上下拖车4高度H＝2/3·L·sin，其中α为挖掘机10的爬坡角度，其数值可以通过公式α＝arcsin计算，L为履带6中心距。当α＝αm时，挖掘机10最大上下拖车4高度Hw＝H＝2/3·L·sin。在确定拖车4的平板高度H大于或等于挖掘机10能够上下拖车4的最大高度Hw时，控制器可以控制仪表盘提示拖车4的平板高度过高，并控制工作装置执行上升动作，以将工作装置调整至如图1所示的初始姿态，并控制挖掘机10的行走机构运行，以使挖掘机10移动至第二预设位置，其中，第二预设位置可以如图11所示，处于拖车4的内端，为挖掘机10被拖车4拉载时在拖车4上的停放位置。并控制挖掘机10的铲刀下放，使得铲刀放置在拖车4的平板上，以固定挖掘机10。控制器可以关闭自动下拖车4按钮，结束自动下拖车4操作。步骤1418，调整工作装置至第三预设姿态，并获取铲斗1处的第二压力值。步骤1419，判断第二压力值是否大于地面临界压力值，若否，执行步骤1420；若是，执行步骤1421。步骤1420，增加油缸输出压力。步骤1421，收斗杆2并行走至履带6的4/5离开平板。步骤1422，调整工作装置至第一预设姿态。步骤1423，控制车身7向后旋转180°且调整工作装置至初始姿态。步骤1424，调整工作装置至第四预设姿态。步骤1425，获取铲斗1处的第一压力值。步骤1426，判断第一压力值是否大于拖车临界压力值，若否，执行步骤1427；若是，执行步骤1428。步骤1427，增加油缸输出压力。当控制器确定拖车4高度H小于挖掘机10能够上下拖车4的最大高度Hw时，控制器可以控制工作装置执行下放动作，使得挖掘机10的工作装置调整成第三预设姿态。第三预设姿态如图12所示，与工作装置的斗杆2相连接的铲斗1放置在地面5上，用以支撑挖掘机10。并获取铲斗1支撑在地面5上时铲斗1的第二压力值。地面临界压力值是为了保证铲斗1在地面5上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。控制器可以判断铲斗1处的第二压力值是否大于地面临界压力值，若是第二压力值小于或等于地面临界压力值，则控制器可以增加油缸输出压力直到铲斗1的第二压力值大于地面临界压力值。若是第二压力值大于地面临界压力值，控制器可以控制工作装置执行收臂动作，收斗杆2并控制挖掘机10的行走机构运行以使挖掘机10移动至挖掘机10履带6的4/5离开拖车4的平板，此时挖掘机10履带6的第二端与地面5相接触。控制器可以控制工作装置执行上升动作，从而将工作装置调整至如图6所示的第一预设姿态。控制器在将工作装置调整至如图6所示的第一预设姿态后，可以控制挖掘机10的车身7向后旋转180°，并控制工作装置再次执行上升动作，以将工作装置调整为如图1所示的初始姿态。挖掘机10的工作装置回到初始姿态后控制器可以控制工作装置下放，将挖掘机10的工作装置调整至第四预设姿态。第四预设姿态如图13所示，工作装置下放将与斗杆2相连接的铲斗1放置在拖车4的平板上。控制器将工作装置调整至如图13所示的第四预设姿态后，与斗杆2相连接的铲斗1被放置在拖车4的平板上，从而可以控制铲斗1对挖掘机10进行支撑。控制器可以获取铲斗1出的第一压力值，拖车临界压力值是为了保证铲斗1在拖车4上对挖掘机10进行支撑的过程中，铲斗1处不发生滑动所需的压力值。控制器可以判断第一压力值是否大于拖车临界压力值，在第一压力值小于或等于拖车临界压力值的情况下，控制器可以增加油缸输出压力直到铲斗1的第一压力值大于拖车临界压力值。步骤1428，伸斗杆2并行走至第一预设位置。步骤1429，抬起动臂3微收斗杆2至履带6完全着地。步骤1430，将车身7旋转180°并调整工作装置至初始姿态。步骤1431，结束。当铲斗1出的第一压力值大于拖车临界压力值时，控制器可以控制工作装置支撑在拖车4上执行伸斗杆2动作，并控制行走机构运行，使得挖掘机10移动至如图3所示的第一预设位置。在将挖掘机10移动至第一预设位置后，控制器可以控制工作装置执行上升动作抬起动臂3微收斗杆2，以使挖掘机10的履带6下放，直至挖掘机10的全部履带6与地面5接触，也就是挖掘机10整体落在地面5上。并控制车身7旋转180°，控制工作装置执行上升动作，以将工作装置调整至如图1所示的初始姿态，以使挖掘机10完成自动下车操作。并结束挖掘机10自动下拖车4操作。在一个实施例中，提供了一种控制器，被配置成执行上述实施例中任意一项的挖掘机10的控制方法。通过上述实施例，控制器通过多种数据采集方式，通过控制系统是挖掘机达到预设位置并将挖掘机调整为预设姿态，完成挖掘机自动上下拖车的过程。降低了操作人员的作业难度，保证了挖掘机的安全，降低了挖掘机被损坏的风险。在上述实施例中，控制器通过多种数据采集方式，通过控制系统是挖掘机10达到预设位置并将挖掘机10调整为预设姿态，完成挖掘机10自动上下拖车4的过程。与人为操作相比，挖掘机10自动上下拖车4过程准确平稳，避免驾驶员因主观因素影响而导致的安全问题，保障驾驶员与挖掘机10的安全。通过检测铲斗1与地面5或拖车4之间的压力，保证挖掘机10在自动上下车过程中不因为工作装置打滑而导致挖掘机10损坏。在一个实施例中，提供了一种用于挖掘机10的控制装置，包括上述的控制器。在一个实施例中，提供了一种挖掘机10，包括：铲刀，被配置为固定挖掘机10；行走机构，包括履带6，行走机构被配置为移动挖掘机10；工作装置，被配置为连接铲斗1与挖掘机10的车身7；其中，工作装置包括：铲斗1，被配置为支撑挖掘机10；动臂3，被配置为调节斗杆2位置；斗杆2，被配置为调节铲斗1位置，以及，上述的用于挖掘机10的控制装置。在一个实施例中，挖掘机10还包括：图像采集装置，被配置为采集挖掘机10的所处位置以及拖车4的高度；导航装置，被配置为确定挖掘机10的实时位置；倾角传感器，被配置为采集铲刀抬起角度；距离传感器，被配置为采集履带6的抬起高度；压力传感器，被配置为采集铲斗1压力。控制器中包含内核，由内核去存储器中调取相应的程序单元。内核可以设置一个或以上，通过调整内核参数来实现用于挖掘机10的控制方法。本申请实施例提供了一种处理器，处理器用于运行程序，其中，程序运行时执行上述用于挖掘机10的控制方法。在一个实施例中，提供了一种计算机设备，该计算机设备可以是服务器，其内部结构图可以如图15所示。该计算机设备包括通过系统总线连接的处理器A01、网络接口A02、存储器和数据库。其中，该计算机设备的处理器A01用于提供计算和控制能力。该计算机设备的存储器包括内存储器A03和非易失性存储介质A04。该非易失性存储介质A04存储有操作系统B01、计算机程序B02和数据库。该内存储器A03为非易失性存储介质A04中的操作系统B01和计算机程序B02的运行提供环境。该计算机设备的数据库用于存储工程机械的参数数据。该计算机设备的网络接口A02用于与外部的终端通过网络连接通信。该计算机程序B02被处理器A01执行时以实现一种用于挖掘机10的控制方法。本领域技术人员可以理解，图15中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。在一个典型的配置中，计算设备包括一个或多个处理器、输入/输出接口、网络接口和内存。存储器可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存。存储器是计算机可读介质的示例。计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体，如调制的数据信号和载波。还需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、商品或者设备中还存在另外的相同要素。以上仅为本申请的实施例而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
