标题title
一种电磁感应测井的共模抑制方法
摘要abst
本发明提供一种电磁感应测井的共模抑制方法，属于电磁感应测井技术领域。利用共模信号的相位与幅值不随线圈接入方式变化，以及在线圈反接后，差模信号的相位会反向但幅度不变的特性，计算得到准确的地层信号。本发明即使在共模干扰信号幅度大于地层信号的情况下，也能有效地去除共模干扰的影响。
权利要求书clms
1.一种电磁感应测井的共模抑制方法，通过测量装置进行测量，所述测量装置包括接收线圈、开关模块、差分放大器、信号采集模块和处理器模块，所述差分放大器与所述开关模块的输出端连接，差分放大器对开关模块输出的差分信号进行放大，然后输出至信号采集模块中进行采集，所述处理器模块连接所述信号采集模块，对信号采集模块输出的数据进行相敏检波处理，所述处理器模块控制所述开关模块切换至接收线圈正接模式或接收线圈反接模式，其特征在于，包括以下步骤：在所述开关模块切换至接收线圈正接模式时，接收线圈将实时接收到的地层信号以及来自线圈的共模干扰信号共同输出至信号采集模块，所述处理器模块对从所述信号采集模块输出的数据进行相敏检波处理，得到正向测量值；在所述开关模块切换至接收线圈反接模式时，所述接收线圈将实时接收到的地层信号以及来自线圈的共模干扰信号共同输出至信号采集模块，所述处理器模块对来自信号采集模块的数据进行相敏检波处理，得到反向测量值；所述处理器模块根据正向测量值和反向测量值计算得出地层信号和共模信号，所述地层信号即为差模信号。2.根据权利要求1所述的电磁感应测井的共模抑制方法，其特征在于，所述处理器模块根据正向测量值和反向测量值计算得出地层信号和共模信号的过程为：所述正向测量值记为，为其实部，为其虚部；所述反向测量值记为 ，为其实部，为其虚部；根据差模信号和共模信号的相位与幅值与接收线圈接入方式变化的特性，得到正向测量值和反向测量值的关系表达式：其中，为共模信号，根据以上关系表达式计算得出：。3.根据权利要求2所述的电磁感应测井的共模抑制方法，其特征在于，所述地层信号的计算过程还包括：根据得到的正向测量值和反向测量值的关系表达式求出共模信号之后，根据正向测量值与共模信号计算出地层信号即差模信号：=。4.根据权利要求2所述的电磁感应测井的共模抑制方法，其特征在于，所述地层信号的计算过程还包括：根据得到的正向测量值和反向测量值的关系表达式求出共模信号之后，根据反向测量值与共模信号计算出地层信号即差模信号：=。
说明书desc
技术领域本发明属于地层勘测领域，特别是电磁感应测井技术中的共模抑制方法。背景技术在油田测井领域中，电磁感应测井仪通过发射线圈在地层介质中激励起足够强的电磁场，通过测量接收线圈的信号的相位和幅度来获取地层的参数，比如电阻率和介电常数。然而，在实际测量过程中，测井仪的发射线圈和接收线圈距离较远，信号经过地层衰减后，仪器通过接收线圈和采集电路测得的信号可能很微弱，其中还会夹杂一些干扰在里面，且主要为共模干扰。这种共模干扰可以是发射线圈与接收线圈之间因为寄生电容而引起的容性耦合，也可能是仪器内部发射电路与接收电路之间的传导干扰。当共模干扰信号较大时，势必会加大接收系统对信号接收的处理难度，此时通过提高放大倍数来提高信号幅值的方法已经失去作用，因为噪声及干扰信号也会被同时放大，引起测量结果波动过大，导致不能准确地测量地层参数。为了抑制感应测井仪的共模干扰，传统的方法主要有两种：如专利申请号为“US10416337B2”的美国专利，其提供一种是改进线圈的结构，比如增加中心抽头，并将抽头接地，利用抽头两端的对称性和差分放大器的共模抑制特性可以部分降低共模干扰，可实际上，带中心抽头的差分线圈并不能做到绝对的对称，往往导致线圈上的残留共模信号仍然比较大。另外，差分放大器仅在1KHz以下的低频段才表现出较高的共模抑制比，频率越高共模抑制比越差。在感应测井经常使用的高频段，包括仪表放大器在内的所有差分放大器都不能有效的抑制共模信号。所以，在共模信号比较强的时候，此方法的效果很不理想，相当一部分的共模信号未能被抑制掉。又如专利申请号为“4536714” 、“US4808929”和 “US6586939B1”的美国专利，其提供的方法均提到了用金属结构把线圈屏蔽起来，此方法能显著降低线圈上的共模信号的强度。但是，由于不能做到彻底的密封，再加上电磁信号的趋肤效应的影响，仍然不能将共模信号消除，尤其是对于频率比较低的信号，比如100KHz以下的频率。两种传统的共模抑制方法，要么会改变线圈原有的结构，要么会影响线圈原有的安装方式，还容易受温度和振动的影响，在多次经历井下的高温环境后，容易发生老化。而为了消除老化带来的影响，需要定期对仪器做校正。总之，传统共模抑制方法的缺点有：1.不能彻底抑制共模信号的干扰；2.存在可靠性不高的问题；3.使仪器生产的难度变高，生产和维护的经济成本增加。为了克服上述缺陷以及提高仪器的测量精度以及稳定性，就必须加强对干扰信号的抑制，通过合理的方法最大程度地滤除共模干扰，从而提取到真实有效的地层信号。发明内容本发明针对现有技术的应用过程中，电磁感应测井仪的发射线圈和接收线圈之间的距离较远，信号经过地层衰减后达到接收线圈的信号很微弱，同时，接收到的信号中还混有幅度较强的共模干扰信号，使得接收系统对地层信号的处理难度加大，导致测量结果不准确且波动过大的问题，提供了一种电磁感应测井的共模抑制方法。鉴于以上技术问题，本发明实施例提供一种电磁感应测井的共模抑制方法，通过测量装置进行测量，所述测量装置包括接收线圈、开关模块、差分放大器、信号采集模块和处理器模块，所述差分放大器与所述开关模块的输出端连接，差分放大器对开关模块输出的差分信号进行放大，然后输出至信号采集模块中进行采集，所述处理器模块连接所述信号采集模块，对信号采集模块输出的数据进行相敏检波处理，所述处理器模块控制所述开关模块切换至接收线圈正接模式或接收线圈反接模式，包括以下步骤：在所述开关模块切换至接收线圈正接模式时，接收线圈将实时接收到的地层信号以及来自线圈的共模干扰信号共同输出至信号采集模块，所述处理器模块对从所述信号采集模块输出的数据进行相敏检波处理并得到正向测量值；所述地层信号由所述发射线圈中的电流激发，是接收线圈中的有用信号；所述共模信号是来自装置本身的无用信号；在所述开关模块切换至接收线圈反接模式时，所述接收线圈将实时接收到的所述地层信号以及来自线圈的共模干扰信号共同输出至所述信号采集模块，所述处理器模块对从所述信号采集模块输出的数据进行相敏检波处理并得到反向测量值；所述处理器模块根正向测量值和反向测量值计算得出地层信号以及共模信号。本发明的抗共模干扰的井下电磁感应测量测量方法，在测量过程中，通过开关模块对接收通道侧的接收线圈的接入方式进行切换，再通过处理器模块对测量数据进行合理的换算，利用共模信号的相位与幅值不随线圈接入方式变化，以及在线圈反接后，差模信号的幅度不变但相位反向的特性，在测量结果中将共模信号减去，即可完成对共模干扰的抑制或消除，得到差模信号，即为准确的地层信号。本发明在共模信号幅度大于地层信号，即在发射信号经过地层衰减后，接收线圈所感应到的地层信号小于共模信号的情况下，依然能有效地去除共模信号的影响。本发明的测量方法适用于所有的使用线圈作为传感器的电磁感应类测井仪器，包括电缆测井和随钻测井,在井下测量地层信号时抑制或者消除以共模形式存在的干扰信号。附图说明图1是本发明一实施例提供的测量方法的流程图；图2是本发明一实施例提供的抗共模干扰的井下电磁感应测量装置的电路结构框图；图3是本发明的开关模块切换至接收线圈正接模式的结构图；图4是本发明的开关模块切换至接收线圈反接模式的结构图；说明书附图标记如下：1-第一触点，2-第二触点，3-第三触点，4-第四触点，A-第一端，B-第二端，10-接收线圈，20-开关模块，30-差分放大器，40-信号采集模块，50-处理器模块。具体实施方式为了使本发明所解决的技术问题、技术方案及有益效果更加清楚明白，以下结合附图及实施例，对本发明作详细的说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。实施例一如图2所示，本发明的电磁感应测井的共模抑制方法通过测量装置进行测量，所述测量装置包括接收线圈10、开关模块20、差分放大器30、信号采集模块40和处理器模块50，所述差分放大器30与所述开关模块20的输出端连接，差分放大器30对开关模块20输出的差分信号进行放大，然后输出至信号采集模块40中进行采集,所述处理器模块50连接所述信号采集模块40，对信号采集模块40输出的数据进行相敏检波处理，所述差分放大器30具备差分输入能力以及共模抑制能力。如图3-4所示，所述开关模块20包括第一动端K1、第二动端K2、均连接所述接收线圈10的第一端A的第一触点1和第四触点4、均连接所述接收线圈10上第二端B的第二触点2和第三触点3；所述第一动端K1可与所述第一触点1或第二触点2中的其中一个连通；所述第二动端K2可与所述第三3触点或第四触点4中的其中一个连通；在所述处理器模块50控制所述第一动端K1与第一触点1接触且所述第二动端K2与所述第三3触点接触时，所述开关模块20切换至接收线圈正接模式；在所述处理器模块50控制所述第一动端K1与第二触点2接触且所述第二动端K2与所述第四触点4接触时，所述开关模块切20换至接收线圈反接模式。至于开关模块20的具体实现方式，可以是电磁式的机械开关，也可以是基于半导体技术的模拟开关，还可以是基于微电子机械技术的开关器件。实施例二如图1所示，本发明提供了一种电磁感应测井的共模抑制方法，通过上述测量装置进行测量时，包括以下步骤：A1、在所述开关模块20切换至接收线圈正接模式时，接收线圈10将实时接收到的地层信号S以及来自线圈的共模干扰信号共同输出至信号采集模块40，所述处理器模块50对从所述信号采集模块40输出的数据进行相敏检波处理，得到正向测量值S1，记为，为其实部，为其虚部；A2、在所述开关模块20切换至接收线圈反接模式时，所述接收线圈10将实时接收到的所述地层信号S以及来自线圈的共模干扰信号共同输出至所述信号采集模块40，所述处理器模块50对来自所述信号采集模块40的数据进行相敏检波处理，得到反向测量值S2，记为 ，为其实部，为其虚部；A3、所述处理器模块50根据正向测量值和反向测量值计算得出地层信号S和共模信号，所述差模信号Sd即为地层信号S；计算过程为：当接收线圈10改变切换模式时，差模信号Sd的相位会反向但幅度不变，共模信号的相位与幅值与不随之变化，根据这个特性，得到正向测量值和反向测量值的关系表达式：根据以上关系表达式计算得出：差模信号共模信号进而得到差模信号的计算公式为：；进而得到共模信号的计算公式为：。实施例三所述地层信号S的计算过程还可以是：根据得到的正向测量值和反向测量值的关系表达式求出共模信号之后，其中，；再根据正向测量值与共模信号计算出地层信号S即差模信号，其求导公式为：=。实施例四所述地层信号S的计算过程还可以是：根据得到的正向测量值和反向测量值的关系表达式求出共模信号之后，其中，；再根据反向测量值与共模信号计算出地层信号S即差模信号，其求导公式为：=。
