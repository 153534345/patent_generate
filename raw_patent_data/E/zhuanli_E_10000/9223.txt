标题title
缝内暂堵转向压裂模拟方法及设备
摘要abst
本申请提供一种缝内暂堵转向压裂模拟方法及设备。该方法包括：基于离散元方法构建离散裂缝模型；基于弱耦合方法联立流体流动方程和岩体变形方程，对流体流动方程进行离散和迭代处理后得到缝内流体压力，并将缝内流体压力输入至岩体变形方程，得到裂缝宽度；基于裂缝宽度获取虚拟弹簧受到的应力，根据虚拟弹簧受到的应力和虚拟弹簧的最大应力，判断虚拟弹簧是否断裂，若是，裂缝扩展；基于裂缝扩展得到流体的优势扩展路径，在优势扩展路径上设置暂堵单元，实现缝内暂堵转向压裂的模拟。本申请能够定量化研究不同储层参数、天然裂缝分布及力学参数、暂堵参数等对裂缝扩展行为的影响，为缝内暂堵转向压裂模拟与设计优化提供依据。
权利要求书clms
1.一种缝内暂堵转向压裂模拟方法，其特征在于，包括：基于离散元方法构建离散裂缝模型，其中，所述离散裂缝模型包括多个模拟离散岩石基质的块体单元以及用于模拟暂堵剂的暂堵单元，所述块体单元之间通过虚拟弹簧连接，所述暂堵单元与块体单元间隙配合连接；基于弱耦合方法联立流体流动方程和岩体变形方程，对所述流体流动方程进行离散和迭代处理后得到缝内流体压力，并将所述缝内流体压力输入至所述岩体变形方程，得到裂缝宽度；基于所述裂缝宽度获取所述虚拟弹簧受到的应力，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，若是，裂缝扩展；基于裂缝扩展得到流体的优势扩展路径，在优势扩展路径上设置暂堵单元，实现缝内暂堵转向压裂的模拟。2.根据权利要求1所述的方法，其特征在于，基于不可压缩流体的平行板间流动方程构建所述流体流动方程：式中，w为随时间动态变化的裂缝宽度，p为随时间动态变化的缝内流体压力，q为注液速率，μ为流体粘度，ql为流体滤失速度。3.根据权利要求1所述的方法，其特征在于，基于线弹性动态平衡方程构建所述岩体变形方程：σij，j+bi-ρui，tt-αui，t＝0，式中，σij，j为柯西应力张量的导数，bi为单位体积的力，ρ为岩石密度，ui，t为裂开位移u在时间t内的速度，ui，tt为裂开位移u在时间t内的加速度，α为阻尼系数。4.根据权利要求3所述的方法，其特征在于，将所述缝内流体压力输入至所述岩体变形方程，得到裂缝宽度，包括：基于缝内流体压力求解柯西应力张量的导数σij，j，所述缝内流体压力在块体单元面上施加的接触力满足如下关系：p＝σijnj，式中，σij为柯西应力张量，nj为块体单元面上外法线的方向余弦；将所述柯西应力张量的导数σij，j输入至所述岩体变形方程后，得到裂开位移u；将所述裂开位移u等效为裂缝宽度。5.根据权利要求1所述的方法，其特征在于，虚拟弹簧受到应力包括切向应力Fs和法向应力Fn，基于所述裂缝宽度获取所述虚拟弹簧的应力，包括：式中，ks和kn分别为虚拟弹簧的切向刚度和法向刚度，us和un分别为块体单元在裂缝时的切向位移和法向位移，上标n表示时间步；所述虚拟弹簧的最大应力包括最大法向应力和最大切向应力式中，A为接触面积，T0为抗拉强度，S0为基质剪切强度，为内摩擦角。6.根据权利要求5所述的方法，其特征在于，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，包括：当且时，所述虚拟弹簧不发生断裂，无裂缝扩展，此时应力公式为：式中，kn和ks分别为法向和切向弹簧刚度，Δun和Δus分别为相邻节点之间法向和切向相对位移，上标n表示时间步；当时，所述虚拟弹簧发生拉伸断裂，块体单元相互分离，此时应力公式为：当时，所述虚拟弹簧发生剪切断裂，块体单元相互滑移，此时应力公式为：式中，为弹簧断裂后的残余剪切阻力。7.根据权利要求1所述的方法，其特征在于，所述在优势扩展路径上设置暂堵单元的方法为：基于暂堵降低缝内流体流动能力的原理，用降低系数αp表征暂堵对裂缝渗透率的影响，则暂堵单元的渗透率为：kPE＝αpk，式中，αp为降低系数，k为基质块体渗透率。8.根据权利要求7所述的方法，其特征在于，所述离散裂缝模型还包括用于模拟块体单元之间流体流动的节理单元，根据平行板模型，在块体单元发生破坏前，初始节理单元与块体单元具有相等的渗透率，则初始节理单元缝宽可由基质块体单元的渗透率等效得到：9.根据权利要求8所述的方法，其特征在于，构建避免两个块体单元重合的最小缝宽为残余裂缝宽度wres，公式：式中，w0为初始节理单元缝宽，Fn0为w0/2时的法向应力。10.一种缝内暂堵转向压裂设备，其特征在于，包括：处理器，以及与所述处理器通信连接的存储器；所述存储器存储计算机执行指令；所述处理器执行所述存储器存储的计算机执行指令，以实现如权利要求1至9中任一项所述的方法。
说明书desc
技术领域本申请涉及水力压裂裂缝技术，尤其涉及一种缝内暂堵转向压裂模拟方法及设备。背景技术水平井分段多簇压裂技术能够创造复杂的水力裂缝网络，增加储层泄油能力，被广泛地应用于致密油气藏储层开发。但由于水力裂缝的不均匀分布，裂缝网络通常不能形成足够的覆盖面积和复杂性。近年来，能够促进多裂缝均匀起裂扩展的暂堵转向压裂技术得到了广泛的关注和大规模的应用。其原理是在压裂液中加入暂堵剂封堵射孔孔眼或者封堵裂缝优势生长通道，迫使流体分流，进而使更多的射孔孔眼起裂或者裂缝偏转。在天然裂缝型储层中，暂堵压裂技术可以克服天然裂缝中的高闭合应力，促进多分支裂缝产生，增加缝网的复杂程度。现有技术已经开发出多种数值模拟方法来研究非常规油气藏中水力压裂裂缝扩展行为，但并未考虑到复杂的暂堵压裂过程中，暂堵后裂缝如何偏转等转向问题。发明内容本申请提供一种缝内暂堵转向压裂模拟方法及设备，用以解决复杂的暂堵压裂过程中，暂堵后裂缝如何偏转等转向问题。第一方面，本申请提供一种缝内暂堵转向压裂模拟方法，包括：基于离散元方法构建离散裂缝模型，其中，所述离散裂缝模型包括多个模拟离散岩石基质的块体单元，所述块体单元之间通过虚拟弹簧连接；基于弱耦合方法联立流体流动方程和岩体变形方程，对所述流体流动方程进行离散和迭代处理后得到缝内流体压力，并将所述缝内流体压力输入至所述岩体变形方程，得到裂缝宽度；基于所述裂缝宽度获取所述虚拟弹簧受到的应力，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，若是，裂缝扩展；基于裂缝扩展得到流体的优势扩展路径，在优势扩展路径上设置暂堵单元，实现缝内暂堵转向压裂的模拟。在一种可能的设计中，基于不可压缩流体的平行板间流动方程构建所述流体流动方程：式中，w为随时间动态变化的裂缝宽度，p为随时间动态变化的缝内流体压力，q为注液速率，μ为流体粘度，ql为流体滤失速度。在一种可能的设计中，基于线弹性动态平衡方程构建所述岩体变形方程：σij，j+bi-ρui，tt-αui，t＝0，式中，σij，j为柯西应力张量的导数，bi为单位体积的力，ρ为岩石密度，ui，t为裂开位移u在时间t内的速度，ui，tt为裂开位移u在时间t内的加速度，α为阻尼系数。在一种可能的设计中，将所述缝内流体压力输入至所述岩体变形方程，得到裂缝宽度，包括：基于缝内流体压力求解柯西应力张量的导数σij，j，所述缝内流体压力在块体单元面上施加的接触力满足如下关系：p＝σijnj，式中，σij为柯西应力张量，nj为块体单元面上外法线的方向余弦；将所述柯西应力张量的导数σij，j输入至所述岩体变形方程后，得到裂开位移u；将所述裂开位移u等效为裂缝宽度。在一种可能的设计中，虚拟弹簧受到应力包括切向应力Fs和法向应力Fn，基于所述裂缝宽度获取所述虚拟弹簧的应力，包括：式中，ks和kn分别为虚拟弹簧的切向刚度和法向刚度，us和un分别为块体单元在裂缝时的切向位移和法向位移，上标n表示时间步。在一种可能的设计中，所述虚拟弹簧的最大应力包括最大法向应力和最大切向应力式中，A为接触面积，T0为抗拉强度，S0为基质剪切强度，为内摩擦角。在一种可能的设计中，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，包括：当且时，所述虚拟弹簧不发生断裂，无裂缝扩展，此时应力公式为：式中，kn和ks分别为法向和切向弹簧刚度，Δus和Δus分别为相邻节点之间法向和切向相对位移，上标n表示时间步；当时，所述虚拟弹簧发生拉伸断裂，块体单元相互分离，此时应力公式为：当时，所述虚拟弹簧发生剪切断裂，块体单元相互滑移，此时应力公式为：式中，为弹簧断裂后的残余剪切阻力。在一种可能的设计中，所述在优势扩展路径上设置暂堵单元的方法为：基于暂堵降低缝内流体流动能力的原理，用降低系数αp表征暂堵对裂缝渗透率的影响，则暂堵单元的渗透率为：kPE＝αpk，式中，αp为降低系数，k为基质块体渗透率。在一种可能的设计中，所述离散裂缝模型还包括用于模拟块体单元之间流体流动的节理单元，根据平行板模型，在块体单元发生破坏前，初始节理单元与块体单元具有相等的渗透率，则初始节理单元缝宽可由基质块体单元的渗透率等效得到：在一种可能的设计中，构建避免两个块体单元重合的最小缝宽为残余裂缝宽度wres，公式：式中，w0为初始节理单元缝宽，Fn0为w0/2时的法向应力。基于暂堵降低缝内流体流动能力的原理对裂缝渗透率的影响第二方面，本申请提供一种缝内暂堵转向压裂设备，包括：处理器，以及与所述处理器通信连接的存储器；所述存储器存储计算机执行指令；所述处理器执行所述存储器存储的计算机执行指令，以实现一种缝内暂堵转向压裂模拟方法。本申请提供的缝内暂堵转向压裂模拟方法、设备及存储介质，通过基于离散元方法构建离散裂缝模型，其中，所述离散裂缝模型包括多个模拟离散岩石基质的块体单元，所述块体单元之间通过虚拟弹簧连接；基于弱耦合方法联立流体流动方程和岩体变形方程，对所述流体流动方程进行离散和迭代处理后得到缝内流体压力，并将所述缝内流体压力输入至所述岩体变形方程，得到裂缝宽度；基于所述裂缝宽度获取所述虚拟弹簧受到的应力，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，若是，裂缝扩展。本申请构建的离散裂缝模型以及对应的流体流动方程和岩体变形方程，能够有效解析缝内流体压力以及岩体的裂缝宽度，实现暂堵压裂过程中复杂裂缝扩展转向行为的数学模拟效果。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本申请的实施例，并与说明书一起用于解释本申请的原理。图1为本申请缝内暂堵转向压裂模拟方法流程图；图2为本申请构建的离散裂缝模型示意图；图3为本申请离散裂缝模型中虚拟弹簧受力分析示意图；图4为本申请具体实施例中多裂缝扩展形态示意图；其中，图4a为常规压裂水力裂缝形态，图4b-d分别为暂堵转向压裂第1、2和3次封堵后的水力裂缝形态；图5为本申请具体实施例中注入压力曲线示意图；图6为本申请缝内暂堵转向压裂设备结构示意图。通过上述附图，已示出本申请明确的实施例，后文中将有更详细的描述。这些附图和文字描述并不是为了通过任何方式限制本申请构思的范围，而是通过参考特定实施例为本领域技术人员说明本申请的概念。具体实施方式这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本申请相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本申请的一些方面相一致的装置和方法的例子。首先对本申请所涉及的名词进行解释：离散元方法：是指一种颗粒离散体物料分析方法，用来解决不连续介质问题的数值模拟方法，通过把节理岩体视为由离散的岩块和岩块间的节理面所组成，允许岩块平移、转动和变形，而节理面可被压缩、分离或滑动；预设模拟软件：是指一种建模工具，依据地应力分布、基质的岩石力学参数、天然裂缝分布与力学性质参数、泵注参数、暂堵位置和次数等对地下储层裂缝进行三维立体建模，本申请中预设模拟软件包含缝内暂堵转向压裂模拟方法对应的公式，通过模拟得到施工压力曲线和多裂缝扩展形态图；Galerkin有限元方法：是指一种数值分析方法，采用微分方程对应的弱形式，其原理为通过选取有限多项式函数，将它们叠加，再要求结果在求解域内及边界上的加权积分满足原方程，便可以得到一组易于求解的线性代数方程，且自然边界条件能够自动满足；Picard迭代方法：是指常微分方程解的一种主要近似计算方法。本申请在模拟缝内暂堵转向压裂过程的转向时，最重要的步骤就是判断裂缝是否扩展，而裂缝扩展又是流体和岩体两方面相互作用的结果，这就需要分别构建模拟流体和岩体的运动方程，通过联立流体流动方程和岩体变形方程后，只需要获取注液速率、流体粘度、流体滤失速度、单位体积的力、岩石密度、阻尼系数等数据后，就能带入方程中联立求解得到裂缝宽度，然后基于裂缝宽度判断虚拟弹簧是否断裂，进而根据虚拟弹簧的断裂情况模拟出裂缝转向分布情况。本申请提供的方法，旨在解决现有技术的如上技术问题。下面以具体地实施例对本申请的技术方案以及本申请的技术方案如何解决上述技术问题进行详细说明。下面这几个具体的实施例可以相互结合，对于相同或相似的概念或过程可能在某些实施例中不再赘述。下面将结合附图，对本申请的实施例进行描述。图1为本申请缝内暂堵转向压裂模拟方法流程图。如图1所示，所述方法包括以下几个步骤：S101、基于离散元方法构建离散裂缝模型。图2为本申请构建的离散裂缝模型示意图。如图2所示，模型包括多个模拟离散岩石基质的块体单元1、模拟块体单元之间流体流动的节理单元2、模拟岩石裂隙的水力裂隙单元3以及模拟暂堵段的暂堵单元4，块体单元为三棱柱体结构，块体单元之间通过虚拟弹簧5连接，当虚拟弹簧5断裂时，块体单元1之间发生分离或滑动错位，从而产生裂缝，注入的流体会优先从裂缝处穿过，对于裂缝较多的块体单元1之间，流体会根据裂缝宽度形成流体的优势扩展路径，通过在流体的优势扩展路径上人为设置暂堵单元4后，影响缝内流体压力，使得流体避开优势扩展路径后重新选择流动路径，从而增加裂缝网络复杂度。S102、基于弱耦合方法联立流体流动方程和岩体变形方程，对所述流体流动方程进行离散和迭代处理后得到缝内流体压力，并将所述缝内流体压力输入至所述岩体变形方程，得到裂缝宽度。优选的，利用不可压缩流体的平行板间流动方程来构建流体流动方程，其中，不可压缩流体的流体粘度、注液速率和流体滤失速度为可测量的物理参数，利用上述物理参数就能建立裂缝宽度与缝内流体压力相关联的流体流动方程。由于上述裂缝宽度与缝内流体压力方程是基于位置函数与时间的动态物理量，因此，通过离散和迭代可得到某一流体粘度、注液速率和流体滤失速度条件下对应的缝内流体压力。优选的，将得到的缝内流体压力转换为块体单元1面上受到的接触力，该接触力即为岩体变形方程中的主要作用力，通过线弹性动态平衡方程构建岩体变形方程，在接触力已知的情况下，通过获取块体单元1单位体积的力、岩石密度以及阻尼系数等物理参数后，就能建立块体单元1之间裂开位移随时间变化的动态物理量，当时间确定后，就得到其对应的裂开位移，而块体单元1之间的裂开位移又可等效为裂缝宽度，从而得到判断虚拟弹簧5状态的关键物理量。S103、基于所述裂缝宽度获取所述虚拟弹簧受到的应力，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，若是，裂缝扩展。根据图2离散裂缝模型中虚拟弹簧5受力分析示意图，将虚拟弹簧5受到的应力分力为沿块体单元1法向的应力和沿块体单元1切向的应力，将裂缝宽度同样分解为法向位移和切向位移，因此，基于弹簧受力基本公式，只需获取常数弹簧刚度和自变量裂缝宽度，就能得到因变量虚拟弹簧5受到的应力。虚拟弹簧5在法向方向上的最大应力与块体单元1的接触面积和抗拉强度有关，而在切向方向上的最大应力与块体单元1的接触面积、基质剪切强度以及内摩擦角有关，当相邻两块体单元1位置固定后，其对应的虚拟弹簧5所能承受的最大应力也是固定的。图3为本申请离散裂缝模型中虚拟弹簧受力分析示意图。根据图3离散裂缝模型中虚拟弹簧5受力分析示意图可知：当虚拟弹簧5受到的法向应力小于最大法向应力，且切向应力小于最大切向应力时，虚拟弹簧5不发生断裂，此时不产生新的裂缝，切向和法向应力均不发生变化；当法向应力大于最大法向应力时，块体单元1相互分离，此时虚拟弹簧5发生拉伸断裂，两块体单元1断裂后互不受力；当切向应力大于最大切向应力时，块体单元1之间相互滑动，此时虚拟弹簧5发生剪切断裂，由于两块体之间还有接触，因此相互之间仍存在应力，其法向应力不变，切向应力变为残余剪切阻力。S104、基于裂缝扩展得到流体的优势扩展路径，在优势扩展路径上设置暂堵单元，实现缝内暂堵转向压裂的模拟。裂缝扩展后，流体会流入所有裂缝扩展位置处，并且根据缝宽大小，将缝宽较大的裂缝进行串联形成流体的优势扩展路径，流体在优势扩展路径上受到的岩体压力最小，会优先在优势扩展路径上流动，从而降低流体对岩体的冲击压力，导致岩体裂缝不再增加，此时，将暂堵单元设置到优势扩展路径上后，由于暂堵单元处的渗透率大幅降低，使得流体发生转向压裂，重新根据上述步骤的公式计算裂缝是否扩展，从而模拟出岩体缝内暂堵后压裂转向过程，为后续如何增大裂缝复杂度提供设计优化依据。本实施例通过基于离散元方法构建离散裂缝模型；基于弱耦合方法联立流体流动方程和岩体变形方程，对所述流体流动方程进行离散和迭代处理后得到缝内流体压力，并将所述缝内流体压力输入至所述岩体变形方程，得到裂缝宽度；基于所述裂缝宽度获取所述虚拟弹簧受到的应力，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，若是，裂缝扩展的方法，实现缝内暂堵后复杂转向的数学模拟效果。由于虚拟弹簧5的状态变化导致应力公式的变化，进而导致流体朝向不同裂隙运动，从而用数学方法实现了暂堵压裂过程中复杂裂缝扩展行为的模拟，该方法能够定量化研究不同储层参数、天然裂缝分布及力学参数、暂堵参数等对裂缝扩展行为的影响，并可根据裂缝网络复杂程度和覆盖面积进行压裂施工参数优选，方法的理论可靠，泛用性强，弥补了现有技术的不足，可为缝内暂堵转向压裂模拟提供强有力的依据。下面采用一种可能的实施例进行进一步陈述，用来说明如何实现一种缝内暂堵转向压裂的方法。一种缝内暂堵转向压裂模拟方法，包括：首先，构建离散裂缝模型，其中，所述离散裂缝模型包括多个模拟离散岩石基质的块体单元，所述块体单元之间通过虚拟弹簧连接；然后，构建流体流动方程和岩体变形方程，对所述流体流动方程进行离散和迭代处理后得到缝内流体压力，并将所述缝内流体压力输入至所述岩体变形方程，得到裂缝宽度；最后，基于所述裂缝宽度获取所述虚拟弹簧受到的应力，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，若是，裂缝扩展。在一种可能的设计中，基于离散裂缝模型分别构建流体流动方程和岩体变形方程，然后联立求解裂缝宽度。具体步骤如下：S201、基于不可压缩流体的平行板间流动方程构建所述流体流动方程：式中，w为随时间动态变化的裂缝宽度，m；p为随时间动态变化的缝内流体压力，Pa；q为注液速率，m3/s；μ为流体粘度，Pa·s；ql为流体滤失速度，m/s。将注液速率q、流体粘度μ以及流体滤失速度ql带入后，通过Galerkin有限元方法离散流体流动方程，然后采用Picard迭代方法求解缝内流体压力p。当迭代方法求解不满足收敛性时，采用加速算法求解：pm+1＝pm+βpm+1，wm+1＝wm+βwm+1，式中，下标m表示迭代步，β取值0～0.5。S202、基于线弹性动态平衡方程构建所述岩体变形方程：σij，j+bi-ρui，tt-αui，t＝0，式中，σij，j为柯西应力张量的导数，N/m3；bi为单位体积的力，N/m3；ρ为岩石密度，kg/m3；ui，t为裂开位移u在时间t内的速度，m/s；ui，tt为裂开位移u在时间t内的加速度，m/s2；α为阻尼系数，/m3。由于缝内流体压力在块体单元面上施加的接触力满足如下关系：p＝σijnj，式中，σij为柯西应力张量，Pa；nj为块体单元面上外法线的方向余弦；S203、联立流体流动方程和岩体变形方程，得到裂开位移即为裂缝宽度：将得到的缝内流体压力带入，即可求解柯西应力张量的导数σij，j，然后将柯西应力张量的导数σij，j输入至所述岩体变形方程后，得到裂开位移u；由于块体单元之间的裂开位移与裂缝宽度存在对应关系，因此，可将所述裂开位移u等效为裂缝宽度。在一种可能的设计中，为了避免两个块体单元重合，构建最小缝宽为残余裂缝宽度wres，公式：式中，w0为初始节理单元缝宽，m；Fn0为w0/2时的法向应力，Pa；根据平行板模型，在块体单元发生破坏前，初始节理单元与块体单元具有相等的渗透率，则初始节理单元缝宽可由基质块体单元的渗透率等效得到：式中，k为基质块体渗透率；在初始节理单元缝宽确定后，其对应的Fn0就可以得到，从而确定了残余裂缝宽度wres的数值。渗透率表示流体通过孔隙的能力。暂堵后流体很难经过暂堵单元了，因此可以把暂堵单元的渗透率降为很低，从而实现暂堵的模拟。其暂堵后的缝宽满足初始节理单元缝宽公式：基于暂堵降低缝内流体流动能力的原理，用降低系数αp表征暂堵对裂缝渗透率的影响，带入则可求得初始节理单元缝宽，其中，暂堵单元的渗透率为：kPE＝αpk，式中，αp为降低系数。然后，根据获取的裂开位移得到虚拟弹簧的应力。其中，虚拟弹簧受到应力包括切向应力Fs和法向应力Fn，基于所述裂缝宽度获取所述虚拟弹簧的应力，包括：式中，ks和kn分别为虚拟弹簧的切向刚度和法向刚度，N/m；us和us分别为块体单元在裂缝时的切向位移和法向位移，m；上标n表示时间步。其中，所述虚拟弹簧的最大应力包括最大法向应力和最大切向应力式中，A为接触面积，m3；T0为抗拉强度，Pa；S0为基质剪切强度，Pa；为内摩擦角，°。在一种可能的设计中，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，包括：当且时，虚拟弹簧不发生断裂，无裂缝扩展，此时应力公式为：式中，kn和ks分别为法向和切向弹簧刚度，N/m；Δun和Δus分别为相邻节点之间法向和切向相对位移，m；上标n表示时间步；当时，虚拟弹簧发生拉伸断裂，块体单元相互分离，此时应力公式为：当时，虚拟弹簧发生剪切断裂，块体单元相互滑移，此时应力公式为：式中，为弹簧断裂后的残余剪切阻力，N。在预设模拟软件中输入演示算例的模型基本参数，如下表1所示：表1.演示算例模型参数图4为基于上述演示算例得到的天然裂缝型储层中水力裂缝扩展形态示意图。如图4a所示，在未暂堵时，水力裂缝直接穿过天然裂缝，形成的裂缝形态较为简单，缝网的覆盖面积较低。这是因为水平应力差较大，常规压裂难以开启天然裂缝形成复杂缝网。故需要对裂缝潜在的优势扩展路径实施封堵，以提高缝网复杂性。如图4b-d所示，在优选出封堵位置和次数后开展封堵措施，随即裂缝发生多次偏转，多条天然裂缝被打开，最终在储层改造的目标区域内形成了一个较为复杂的缝网。图5为注入压力曲线示意图，由图可知，缝内堵后注入压力明显上升，当注入压力达到一定值时即可开启天然裂缝，增加缝网的复杂性。在本实施例中，说明合理的缝内暂堵转向压裂优化设计能够促进水力裂缝扩展，提高缝网的复杂程度和覆盖面积，改善压后效果。本实施例通过具体构建离散裂缝模型、流体流动方程和岩体变形方程，对流体流动方程进行离散和迭代处理后得到缝内流体压力，并将缝内流体压力输入至所述岩体变形方程，得到裂缝宽度；基于所述裂缝宽度获取所述虚拟弹簧受到的应力，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂的方法，完成缝内流体暂堵转向压裂的数学模型，方便后续通过该数学模型对暂堵位置及暂堵数量进行优化设计，为井下实际开采场景提供技术支持。图6为本申请缝内暂堵转向压裂设备结构示意图。如图6所示，本实施例提供了一种缝内暂堵转向压裂设备，包括存储器602和处理器601，存储器602用于存储程序，存储器602可通过总线603与处理器601连接。存储器602可以是非易失存储器，例如硬盘驱动器和闪存，存储器602中存储有软件程序和设备驱动程序。软件程序能够执行本发明实施例提供的上述方法的各种功能；设备驱动程序可以是网络和接口驱动程序。处理器601用于执行软件程序，该软件程序被执行时，能够实现本发明实施例缝内暂堵转向压裂的方法：具体地，基于不可压缩流体的平行板间流动方程构建所述流体流动方程：式中，w为随时间动态变化的裂缝宽度，p为随时间动态变化的缝内流体压力，q为注液速率，μ为流体粘度，ql为流体滤失速度。具体地，基于线弹性动态平衡方程构建所述岩体变形方程：σij，j+bi-ρui，tt-αui，t＝0，式中，σij，j为柯西应力张量的导数，ni为单位体积的力，ρ为岩石密度，ui，t为裂开位移u在时间t内的速度，ui，tt为裂开位移u在时间t内的加速度，α为阻尼系数。具体地，将所述缝内流体压力输入至所述岩体变形方程，得到裂缝宽度，包括：基于缝内流体压力求解柯西应力张量的导数σij，j，所述缝内流体压力在块体单元面上施加的接触力满足如下关系：p＝σijnj，式中，σij为柯西应力张量，nj为块体单元面上外法线的方向余弦；将所述柯西应力张量的导数σij，j输入至所述岩体变形方程后，得到裂开位移u；将所述裂开位移u等效为裂缝宽度。具体地，虚拟弹簧受到应力包括切向应力Fs和法向应力Fn，基于所述裂缝宽度获取所述虚拟弹簧的应力，包括：式中，ks和kn分别为虚拟弹簧的切向刚度和法向刚度，us和un分别为块体单元在裂缝时的切向位移和法向位移，上标n表示时间步。具体地，所述虚拟弹簧的最大应力包括最大法向应力和最大切向应力式中，A为接触面积，T0为抗拉强度，S0为基质剪切强度，为内摩擦角。具体地，根据所述虚拟弹簧受到的应力和所述虚拟弹簧的最大应力，判断所述虚拟弹簧是否断裂，包括：当且时，所述虚拟弹簧不发生断裂，无裂缝扩展，此时应力公式为：式中，kn和ks分别为法向和切向弹簧刚度，Δun和Δus分别为相邻节点之间法向和切向相对位移，上标n表示时间步；当时，所述虚拟弹簧发生拉伸断裂，块体单元相互分离，此时应力公式为：当时，所述虚拟弹簧发生剪切断裂，块体单元相互滑移，此时应力公式为：式中，为弹簧断裂后的残余剪切阻力。具体地，基于暂堵降低缝内流体流动能力的原理，用降低系数αp表征暂堵对裂缝渗透率的影响，则暂堵单元的渗透率为：kPE＝αpk，式中，αp为降低系数。具体地，所述离散裂缝模型还包括用于模拟块体单元之间流体流动的节理单元，构建避免两个块体单元重合的最小缝宽为残余裂缝宽度wres，公式：式中，w0为初始节理单元缝宽，Fn0为w0/2时的法向应力；根据平行板模型，在块体单元发生破坏前，初始节理单元与块体单元具有相等的渗透率，则初始节理单元缝宽可由基质块体单元的渗透率等效得到：式中，k为基质块体渗透率。本实施例提供的缝内暂堵转向压裂设备，可用于执行上述缝内暂堵转向压裂模拟方法，其实现原理和技术效果类似，本实施例此处不再赘述。本发明实施例还提供了一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，计算机程序被处理器执行时实现本发明实施例一提供的方法。本实施例提供的计算机可读存储介质，可用于执行上述缝内暂堵转向压裂模拟方法，其实现原理和技术效果类似，本实施例此处不再赘述。专业人员应该还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。结合本文中所公开的实施例描述的方法或算法的步骤可以用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。本领域技术人员在考虑说明书及实践这里公开的发明后，将容易想到本申请的其它实施方案。本申请旨在涵盖本申请的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本申请的一般性原理并包括本申请未公开的本技术领域中的公知常识或惯用技术手段。说明书和实施例仅被视为示例性的，本申请的真正范围和精神由下面的权利要求书指出。应当理解的是，本申请并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。本申请的范围仅由所附的权利要求书来限制。
