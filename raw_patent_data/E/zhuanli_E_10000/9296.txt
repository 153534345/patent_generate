标题title
一种基于核学习的煤层气智能排采方法及系统
摘要abst
本发明公开了一种基于核学习的煤层气智能排采方法及系统，基于核学习的方法实现煤层气的智能排采，包括以下步骤：将液面位置、产气量、排水量、井口套压、井底流压和电机转速作为学习样本；构建、更新核学习模型，得到学习样本参数之间的关系；根据样本参数之间的关系，计算预设电机转速，通过启动电机使其转速达到预设转速值，进而调整排水量、井口套压和井底流压使液面位置达到目标值，以保证产气量的稳定。
权利要求书clms
1.一种基于核学习的煤层气智能排采方法，基于核学习的方法实现煤层气的智能排采，其特征在于，包括以下步骤：将液面位置、产气量、排水量、井口套压、井底流压和电机转速作为学习样本；构建、更新核学习模型，得到学习样本参数之间的关系；根据样本参数之间的关系，计算预设电机转速，通过启动电机使其转速达到预设转速值，进而调整排水量、井口套压和井底流压使液面位置达到目标值，以保证产气量的稳定。2.如权利要求1中所述的基于核学习的煤层气智能排采方法，其特征在于：所述的步骤其中学习样本为现场采集到的历史数据，其中对液面位置、产气量、排水量，井口套压，井底流压的数据采用中值滤波进行去野值处理。3.如权利要求2中所述的基于核学习的煤层气智能排采方法，其特征在于：对步骤现场采集到的历史数据经过野值处理后，进行数据长度选取，数据长度选取原则为：其中，表示数据点的个数，表示阈值，为核学习方法的目标函数。4.如权利要求1中所述的基于核学习的煤层气智能排采方法，其特征在于：所述的步骤构建学习模型方法如下：设核学习的训练样本记为，其中，表示样本的个数，表示变量值，表示液面位置、表示产气量、表示产水量、表示井口套压、表示井底流压，表示矩阵的转置，为电机转速，则学习样本参数之间的关系为：其中，exp表示指数函数，acos表示反余弦函数，表示尺度因子，其中为核学习方法的目标函数，为待学习的权，表示样本的个数，为待学习的液面位置、产气量、排水量，井口套压，井底流压对应的权值；具体学习过程如下式： 其中表示输出的标签，，表示正则化因子，表示下一时刻的权值。5.如权利要求1中所述的基于核学习的煤层气智能排采方法，其特征在于：所述的步骤更新学习模型方法如下：，并将前一时刻的权值，对应的液面位置、产气量、排水量，井口套压，井底流压数值代入下式，得到：其中表示下一时刻的权值，其中表示前一时刻，表示前时刻，表示使其等号后的式子达到最小值。6.如权利要求1中所述的基于核学习的煤层气智能排采方法，其特征在于：所述的步骤得到学习样本参数之间的关系，计算方式如下：将根据公式得到的，结合现场采集到的历史数据更新训练样本。7.如权利要求1中所述的基于核学习的煤层气智能排采方法，其特征在于：所述的步骤根据样本参数之间的关系，计算预设电机转速方法如下：将步骤得到的、结合现场采集到的历史数据更新得到的代入公式，得到电机预设转速，更新后得到下一时刻的电机预设转速计算公式：式中表示模型更新后得到下一时刻的电机预设转速，通过电机的转速变换进而保持液面的位置处在合理的位置，进而保证产气量的稳定，表示样本的个数，表示矩阵的转置，表示变量值。8.一种基于核学习的煤层气智能排采系统，包括采集器、控制器和执行器，所述的采集器至少包括压力计、套压计、气体流量计和液体流量计，其特征在于：控制器包括通讯模块、嵌入式系统；执行器为变频器用于控制电机转速；采集器、控制器执行器依次相连，其中采集器通过控制器内的通讯模块与嵌入式系统实现数据传递，同时执行器也通过通讯模块与嵌入式系统实现数据交互；所述的嵌入式系统通过核学习方法将采集器内的压力计、套压计、气体流量计和液体流量计获取得到的液面位置、产气量、排水量、井口套压、井底流压和变频器获取得到的电机转速作为学习样本，通过构建、更新核学习模型，得到学习样本参数之间的关系，并根据样本参数之间的关系，计算预设电机转速，通过启动电机使其转速达到预设转速值，进而调整排水量、井口套压和井底流压使液面位置达到目标值，以保证产气量的稳定。9.如权利要求7所述的基于核学习的煤层气智能排采系统，其特征在于：所述的嵌入式系统进一步执行权利要求2-6所述的方法。
说明书desc
技术领域本发明涉及煤层气智能开采技术领域，具体涉及一种基于核学习的煤层气的智能排采方法。背景技术煤层气广泛意义上是指吸附于煤层及其周围岩层中的天然气。煤层气作为国家战略资源，潜力巨大。但由于我国煤层气地质赋存条件复杂，因此需要依据我国煤层气赋存的地质条件建立相应的理论体系和排采工艺。我国煤层气勘探开发经历了 20 多年的探索和发展，已初步建成沁水盆地和鄂尔多斯盆地东缘两大产业发展基地，初步形成了勘探、开发、集输、利用一体化的生产格局。由于开发的目的煤层埋藏较浅，常规的工艺虽然可以满足煤层气的排采需求，但是移植过来的常规油气设备也存在“大材小用”或者适应性差的问题，而且各排采设备的系统效率往往持续在一个较低的状态，对于地面和井下的各设备的参数选用及优化都不尽合理，这样不仅增加了设备能量损耗，而且也提高了煤层气开采的成本。因此，在研究煤层气排采机理的基础上，对煤层气各排采工艺的适应性进行分析，设计出合理的优化方法，提高排采设备的系统效率，实现煤层气低耗、高效开采是十分必要的。目前，我国煤层气勘探试验规模以及其排采的技术存在以下问题：针对排水采气作业中，由于煤层气开发排采现场工艺存在设备不配套、参数不合理、功效低、气井工作制度与产能不匹配等问题，影响了煤层气的经济开发与利用的技术问题。现有技术通过建立有杆泵、螺杆泵和射流泵三种排采工艺的系统效率分析模型，提出了一种结合yaahp软件的模糊层次综合评价方法对排采工艺进行选择。另外，现有技术还提出了井下气水分离、回注系统工艺，实现降低污水处理费用同时提高气井产量。此外，现有技术还提出了通过智能人工举升配套工艺，为组合开采提供相应的支持。从排采模型的角度出发，现有技术还提出了针对煤层气的排采模型进行了分析，研究了排采动态参数之间的关系，提出了相应的控制方法和自动排采流程。针对煤层气排采现场分散、实时通信和生产数据采集困难等问题，现有技术提出了用无线传感网技术实现对现场数据采集、数据传输、实时监测监控、指令下达、指令执行等管理工作的系统设计，在设计后台管理系统时引用冗余技术和概率统计理论算法，提高系统可靠性。现有技术从硬件技术上提出了一种以控制的井底流压为核心基于PLC的煤层气排采控制系统，该套系统自动调节性能良好。发明内容针对我国煤层气井稳产的排采需求，如何降低甚至去除人工参与，是当前煤层气智能开采技术的发展趋势。本发明提出一种基于核学习的煤层气智能排采方法，主要目的是实现煤层气的智能排采，降低人为控制和参与以及人为的经验和判断对排采过程的干扰，并能降低人工成本，同时提高排采的自动化能力，及时更新参数，以达到自动调节平衡保持稳定液压位置和稳定的产气量。为了实现上述技术任务，本发明采用如下技术方案予以实现：一种基于核学习的煤层气智能排采方法，基于核学习的方法实现煤层气的智能排采，其特征在于，包括以下步骤：将液面位置、产气量、排水量、井口套压、井底流压和电机转速作为学习样本；构建、更新核学习模型，得到学习样本参数之间的关系；根据样本参数之间的关系，计算预设电机转速，通过启动电机使其转速达到预设转速值，进而调整排水量、井口套压和井底流压使液面位置达到目标值，以保证产气量的稳定。步骤其中学习样本为现场采集到的历史数据，其中对液面位置、产气量、排水量，井口套压，井底流压的数据采用中值滤波进行去野值处理。对步骤现场采集到的历史数据经过野值处理后，进行数据长度选取，数据长度选取原则为：其中，表示数据点的个数，表示阈值，为核学习方法的目标函数。所述的步骤构建学习模型方法如下：设核学习的训练样本记为，其中，表示样本的个数，表示变量值，表示液面位置、表示产气量、表示产水量、表示井口套压、表示井底流压，表示矩阵的转置，为电机转速，则学习样本参数之间的关系为：其中，exp表示指数函数，acos表示反余弦函数，表示尺度因子，其中为核学习方法的目标函数，为待学习的权，表示样本的个数，为待学习的液面位置、产气量、排水量，井口套压，井底流压对应的权值；具体学习过程如下式：其中表示输出的标签，，表示正则化因子，表示下一时刻的权值。进一步地，所述的步骤更新学习模型方法如下：，并将前一时刻的权值，对应的液面位置、产气量、排水量，井口套压，井底流压数值代入下式，得到：其中表示下一时刻的权值，其中表示前一时刻，表示前时刻，表示使其等号后的式子达到最小值。进一步地，所述的步骤得到学习样本参数之间的关系，计算方式如下：将根据公式得到的，结合现场采集到的历史数据更新训练样本。步骤根据样本参数之间的关系，计算预设电机转速方法如下：将步骤得到的、结合现场采集到的历史数据更新得到的代入公式，得到电机预设转速，更新后得到下一时刻的电机预设转速计算公式：式中表示模型更新后得到下一时刻的电机预设转速，通过电机的转速变换进而保持液面的位置处在合理的位置，进而保证产气量的稳定，表示样本的个数，表示矩阵的转置，表示变量值。本发明还公开了一种基于核学习的煤层气智能排采系统，包括采集器、控制器和执行器，所述的采集器至少包括压力计、套压计、气体流量计和液体流量计，其特征在于：控制器包括通讯模块、嵌入式系统；执行器为变频器用于控制电机转速；采集器、控制器执行器依次相连，其中采集器通过控制器内的通讯模块与嵌入式系统实现数据传递，同时执行器也通过通讯模块与嵌入式系统实现数据交互；所述的嵌入式系统通过核学习方法将采集器内的压力计、套压计、气体流量计和液体流量计获取得到的液面位置、产气量、排水量、井口套压、井底流压和变频器获取得到的电机转速作为学习样本，通过构建、更新核学习模型，得到学习样本参数之间的关系，并根据样本参数之间的关系，计算预设电机转速，通过启动电机使其转速达到预设转速值，进而调整排水量、井口套压和井底流压使液面位置达到目标值，以保证产气量的稳定。通过电机调整井底流压和井口套压，保持液面位置在合理的位置，进而保证产气量的稳定，循环往复，边学习边控制电机的转速。本发明能实现煤层气的智能排采，提高自动化处理，降低人为因素干扰和人工监测成本，应用核学习的方法，学习液面位置，井底流压，套管流压、产气量、产水量和电机转速之间的关系，提高时效性，通过智能调节电机速度调整井底流压等，保持液面位置在合理的范围内保持稳定，进而保证产气量的稳定。附图说明图1a为煤层气排采系统结构图，图1b煤层气排采系统示意图。图1b中各数据标号分别表示：1.气体流量计、2.液体流量计、3.套压计、4.压力计、5.变频器、6.控制器。图2煤气层智能排采中和学习方法的流程图；包括样本的采集，样本的预处理，学习模型的建立，权值的更新，输出控制下一时刻的电机转速用于调节稳定液压的位置。图3为采用本发明的方法实际生产过程中监测参数压力、冲次和产气量之间的关系图。具体实施方式煤层气开发主要经历钻井、压裂和排采三个重要环节，其中排采是煤层气开发的终端环节，科学合理的排采能够确保煤层气井安全、稳定地生产。煤层气作为一种吸附气体，只有在煤储层的压力下降到其临界解析压力以下，煤层气才能开始从煤孔隙表面解吸出来，所以在煤层气排采阶段通常通过排水以达到降低煤储层压力的目的。在该环节需要合理地控制排水降压的速率，如果降压速率太慢，会拉长产气前的时间，阻碍煤层气井的正常生产，如果速率太快，会产生大量煤粉，堵塞气体的渗流通道，从而导致煤层发生脆性破坏。当前，煤层气井的产量主要取决于煤层气井的钻进位置，排采的目的主要集中于依靠人工经验使得煤层气井稳定产气，避免造成煤层破坏，因此如何高效、可靠的学习人工经验对于实现煤层气智能化排采具有重要的工程意义。参见图3，本发明的一种基于核学习的煤层气智能排采方法，基于核学习的方法实现煤层气的智能排采，其特征在于，包括以下步骤：将液面位置、产气量、排水量、井口套压、井底流压和电机转速作为学习样本；构建、更新核学习模型，得到学习样本参数之间的关系；根据样本参数之间的关系，计算预设电机转速，通过启动电机使其转速达到预设转速值，进而调整排水量、井口套压和井底流压使液面位置达到目标值，以保证产气量的稳定。步骤其中学习样本为现场采集到的历史数据，其中对液面位置、产气量、排水量，井口套压，井底流压的数据采用中值滤波进行去野值处理，避免采集到的异常的野值数据对样本的影响。与此同时，由于各参数的统计分布均随时间变化，表现出较强的非平稳特性，这就决定了初始学习阶段的样本数不能太多，否则会影响预测精度，产生过拟合，因此，选取参数数据中的某一个时间段的数据作为、样本对步骤现场采集到的历史数据经过野值处理后，进行数据长度选取，数据长度选取原则为：其中，表示数据点的个数，表示阈值，为核学习方法的目标函数。本发明的基于核学习的煤层气智能排采方法，所述的步骤构建学习模型方法如下：设核学习的训练样本记为，其中，表示样本的个数，表示变量值，表示液面位置、表示产气量、表示产水量、表示井口套压、表示井底流压，表示矩阵的转置，为电机转速，则学习样本参数之间的关系为：其中，exp表示指数函数，acos表示反余弦函数，表示尺度因子，其中为核学习方法的目标函数，为待学习的权，表示样本的个数，为待学习的液面位置、产气量、排水量，井口套压，井底流压对应的权值；具体学习过程如下式：其中表示输出的标签，，表示正则化因子，表示下一时刻的权值。步骤更新学习模型方法：，并将前一时刻的权值，对应的排采模型，即液面位置、产气量、排水量，井口套压，井底流压数值代入下式，得到：其中表示下一时刻的权值，其中表示前一时刻，表示前时刻，表示使其等号后的式子达到最小值。步骤得到学习样本参数之间的关系，计算方式如下：将根据公式得到的，结合现场采集到的历史数据更新即模型更新。根据步骤根据样本参数之间的关系，计算预设电机转速方法如下：将步骤得到的、结合现场采集到的历史数据更新得到的代入公式，得到电机预设转速，更新后得到下一时刻的电机预设转速计算公式：式中表示模型更新后得到下一时刻的电机预设转速，通过电机的转速变换进而保持液面的位置处在合理的位置，进而保证产气量的稳定，表示样本的个数，表示矩阵的转置，表示变量值。参见图1a、图1b，本发明还公开了一种基于核学习的煤层气智能排采系统，包括采集器、控制器和执行器，所述的采集器至少包括压力计4、套压计3、气体流量计1和液体流量计2，控制器6包括通讯模块、嵌入式系统；执行器为变频器5用于控制电机转速；采集器、控制器执行器依次相连，其中采集器通过控制器内的通讯模块与嵌入式系统实现数据传递，同时执行器也通过通讯模块与嵌入式系统实现数据交互；所述的嵌入式系统通过核学习方法将采集器内的压力计、套压计、气体流量计和液体流量计获取得到的液面位置、产气量、排水量、井口套压、井底流压和变频器获取得到的电机转速作为学习样本，通过构建、更新核学习模型，得到学习样本参数之间的关系，并根据样本参数之间的关系，计算预设电机转速，通过启动电机使其转速达到预设转速值，进而调整排水量、井口套压和井底流压使液面位置达到目标值，以保证产气量的稳定。本发明的基于核学习的煤层气智能排采系统，所述的嵌入式系统进一步执行本发明的基于核学习的煤层气智能排采方法。参见图3，为采用本发明的方法，应用在实际生产过程中，实时监测得到的压力、冲次和产气量之间的关系图。首先学习人为干预煤层气稳定排采过程中液面位置、产气量、产水量，井口套压，井底流压参数，然后经过数据处理后，通过核学习建立排采模型，并更新模型一段时间后，实现智能化无人排采控制，从图3中的压力计曲线平缓下降过程可以看出本发明提供的核学习方法能够有效可靠的替代人工经验，达到稳定产气目的。没有出现压力计曲线出现突变以及不正常变化等情况，影响产气量和破坏煤层结构的现象发生。
