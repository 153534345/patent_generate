标题title
一种建筑工程质量管理系统
摘要abst
本发明涉及图像处理技术领域，具体涉及一种建筑工程质量管理系统，该系统将涉密资料图像在图像分解单元进行图像分解得到四叉树图像；基于四叉树图像在分层加密单元中对涉密资料图像进行分层压缩存储；在图像解密单元中获取每一层的密钥，利用密钥解码得到对应质量的涉密资料图像。对分解的涉密资料图像进行分层压缩存储，实现对涉密资料图像的压缩存储，基于分割准则获取不同层的密钥，利用密钥进行分层解压，实现对不同级别的工作人员展示不同质量的涉密资料图像，增强了保密效果，同时能够避免被暴力破解。
权利要求书clms
1.一种建筑工程质量管理系统，其特征在于，该系统包括：图像分解单元，用于将涉密资料图像分割为多个相等设定尺寸的目标图像，以所述目标图像为四叉树的根节点，根据分割准则从根节点进行图像分割得到多个子图像，由不同节点对应尺寸的所述子图像构成四叉树图像；所述分割准则为当所述子图像中最大灰度值与最小灰度值之间的灰度差值大于灰度差值阈值，且所述子图像对应的灰度值方差大于灰度值方差阈值时，对所述子图像进行图像分割得到下一节点的所述子图像；分层加密单元，用于根据所述四叉树图像的K个节点将所述目标图像分为K-1层，K为大于0的整数；分别计算每层中每个所述子图像的灰度值均值，利用上层中被分割的所述子图像的灰度值均值减去相邻下层中对应分割得到的所述子图像的灰度值均值，得到所述下层中每个所述子图像的灰度值差值，将所述灰度值差值构成所述下层的层信息序列；利用改进的DACs编码对每层的所述层信息序列进行编码，得到对应层的编码表，将所述编码表按照行顺序展开成一个一维数组；基于所述四叉树图像中的分割结果，对每层的所述子图像添加验证位，得到每层的验证位序列，其中，令满足所述分割准则的所述子图像的验证位为1，不满足所述分割准则的所述子图像的验证位为0；对每层的所述一维数组和所述验证位序列进行分层压缩存储；图像解密单元，用于根据每层的所述验证位序列得到对应相邻两层的所述层信息序列之间的密钥，利用所述密钥解码得到对应质量的所述涉密资料图像。2.如权利要求1所述的一种建筑工程质量管理系统，其特征在于，所述分层加密单元中第1层的所述层信息序列为所述每个子图像的灰度值均值所构成的。3.如权利要求1所述的一种建筑工程质量管理系统，其特征在于，所述分层加密单元中利用改进的DACs编码对每层的所述层信息序列进行编码，得到对应层的编码表的方法，包括：获取当前层的所述层信息序列中每个元素的二进制数，根据每个元素的正负特性，在对应二进制数的最右边添加一个符号位，得到每个元素的二进制编码，其中，正数的符号位为0，负数的符号位为1；基于每个元素的所述二进制编码，利用DACs编码进行编码得到当前层的编码表；当编码表中最后一行对应的标识位都为0时，对该行进行省略，得到当前层的目标编码表。4.如权利要求1所述的一种建筑工程质量管理系统，其特征在于，所述图像解密单元中根据每层的所述验证位序列得到对应相邻两层的所述层信息序列之间的密钥的方法，包括：将当前层之前的所有层的所述验证位序列按层顺序排列，得到一个数据序列；基于设定的安全密钥，通过Logistic 混沌映射模型得到与所述数据序列等长的混沌序列；将所述混沌序列作为变步长约瑟夫遍历的步长序列，对所述数据序列利用变步长约瑟夫遍历进行置乱，得到置乱数据序列；通过AES对所述置乱数据序列进行加密得到当前层的密钥。5.如权利要求4所述的一种建筑工程质量管理系统，其特征在于，所述图像解密单元中利用所述密钥解码得到对应质量的所述涉密资料图像的方法，包括：根据所述密钥解密得到对应的所述数据序列，由所述数据序列得到对应的所述验证位序列，根据所述验证位序列得到解密后的所述层信息序列；利用所述层信息序列中的每个元素得到对应所述子图像的灰度值均值，将所述灰度值均值对相对应所述子图像中每个像素点的原始灰度值进行替换， 得到对应质量的所述涉密资料图像。
说明书desc
技术领域本发明涉及图像处理技术领域，具体涉及一种建筑工程质量管理系统。背景技术在建筑工程质量管理系统中，涉及到对涉密图像资料的管理工作，对于这部分图像资料的管理，在保密的同时也要能够满足工作人员的实时查阅，而且出于对涉密图像资料保密的目的，需要对不同级别的工作人员开放不同的权限，其中对于权限较低的工作人员，在他们查阅图像资料时，只显示对应质量低的图像资料，其中，质量是指图像的清晰程度。这就要求在建筑工程质量管理系统中，对于涉密图像资料能够分层加密压缩存储，满足不同级别的工作人员对图像资料的实时查阅，同时通过向不同级别的工作人员展示不同质量的图像资料，实现不同级别的保密。发明内容为了解决上述技术问题，本发明的目的在于提供一种建筑工程质量管理系统，所采用的技术方案具体如下：图像分解单元，用于将涉密资料图像分割为多个相等设定尺寸的目标图像，以所述目标图像为四叉树的根节点，根据分割准则从根节点进行图像分割得到多个子图像，由不同节点对应尺寸的所述子图像构成四叉树图像；所述分割准则为当所述子图像中最大灰度值与最小灰度值之间的灰度差值大于灰度差值阈值，且所述子图像对应的灰度值方差大于灰度值方差阈值时，对所述子图像进行图像分割得到下一节点的所述子图像；分层加密单元，用于根据所述四叉树图像的K个节点将所述目标图像分为K-1层，K为大于0的整数；分别计算每层中每个所述子图像的灰度值均值，利用上层中被分割的所述子图像的灰度值均值减去相邻下层中对应分割得到的所述子图像的灰度值均值，得到所述下层中每个所述子图像的灰度值差值，将所述灰度值差值构成所述下层的层信息序列；利用改进的DACs编码对每层的所述层信息序列进行编码，得到对应层的编码表，将所述编码表按照行顺序展开成一个一维数组；基于所述四叉树图像中的分割结果，对每层的所述子图像添加验证位，得到每层的验证位序列，其中，令满足所述分割准则的所述子图像的验证位为1，不满足所述分割准则的所述子图像的验证位为0；对每层的所述一维数组和所述验证位序列进行分层压缩存储；图像解密单元，用于根据每层的所述验证位序列得到对应相邻两层的所述层信息序列之间的密钥，利用所述密钥解码得到对应质量的所述涉密资料图像。进一步地，所述分层加密单元中第1层的所述层信息序列为所述每个子图像的灰度值均值所构成的。进一步地，所述分层加密单元中利用改进的DACs编码对每层的所述层信息序列进行编码，得到对应层的编码表的方法，包括：获取当前层的所述层信息序列中每个元素的二进制数，根据每个元素的正负特性，在对应二进制数的最右边添加一个符号位，得到每个元素的二进制编码，其中，正数的符号位为0，负数的符号位为1；基于每个元素的所述二进制编码，利用DACs编码进行编码得到当前层的编码表；当编码表中最后一行对应的标识位都为0时，对该行进行省略，得到当前层的目标编码表。进一步地，所述图像解密单元中根据每层的所述验证位序列得到对应相邻两层的所述层信息序列之间的密钥的方法，包括：将当前层之前的所有层的所述验证位序列按层顺序排列，得到一个数据序列；基于设定的安全密钥，通过Logistic 混沌映射模型得到与所述数据序列等长的混沌序列；将所述混沌序列作为变步长约瑟夫遍历的步长序列，对所述数据序列利用变步长约瑟夫遍历进行置乱，得到置乱数据序列；通过AES对所述置乱数据序列进行加密得到当前层的密钥。进一步地，所述图像解密单元中利用所述密钥解码得到对应质量的所述涉密资料图像的方法，包括：根据所述密钥解密得到对应的所述数据序列，由所述数据序列得到对应的所述验证位序列，根据所述验证位序列得到解密后的所述层信息序列；利用所述层信息序列中的每个元素得到对应所述子图像的灰度值均值，将所述灰度值均值对相对应所述子图像中每个像素点的原始灰度值进行替换， 得到对应质量的所述涉密资料图像。本发明实施例至少具有如下有益效果：基于分割准则对涉密资料图像进行分解，利用改进DACs编码对分解的涉密资料图像进行分层压缩存储，能够实现对涉密资料图像的压缩存储，且基于分割准则设置验证位序列，以根据验证位序列获取不同层的密钥，利用密钥进行分层解压，实现对不同级别的工作人员展示不同质量的涉密资料图像，增强了保密效果，同时能够避免被暴力破解。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例提供的一种建筑工程质量管理系统的结构框图；图2为本发明实施例所提供的一种四叉树图像的示意图；图3为本发明实施例所提供的一种层信息序列的编码表示意图；图4为本发明实施例所提供的一种层信息序列的编码表进行压缩后的目标编码表示意图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种建筑工程质量管理系统，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构、或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种建筑工程质量管理系统的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种建筑工程质量管理系统的结构框图，该系统包括：图像分解单元10，用于将涉密资料图像分割为多个相等设定尺寸的目标图像，以所述目标图像为四叉树的根节点，根据分割准则从根节点进行图像分割得到多个子图像，由不同节点对应尺寸的子图像构成四叉树图像；所述分割准则为当子图像中最大灰度值与最小灰度值之间的灰度差值大于灰度差值阈值，且子图像对应的灰度值方差大于灰度值方差阈值时，对子图像进行图像分割得到下一节点的子图像。具体的，判断尺寸为的涉密资料图像是否满足，若满足，则直接对涉密资料图像进行分割，否则，在涉密资料图像的四周填充灰度值为255的像素点，将涉密资料图像填充为尺寸为的图像，其中为向上取整，然后将填充后的涉密资料图像分割成设定尺寸的目标图像。优选的，本发明实施例中设定尺寸为。基于分割准则分别对目标图像进行多次图像分割，得到多个不同尺寸的子图像，将子图像按照分割顺序利用四叉树表示，四叉树的每个节点的子图像是不同尺寸的图像，也即是一个节点对应一个尺寸的子图像，参照附图2，四叉树的根节点为目标图像、第1节点为目标图像的第一次分割结果、第2节点为基于第1节点的分割结果进行的第2次的分割结果、…、第N节点为基于第N-1节点的分割结果进行的第N次的分割结果。其中，分割准则为当子图像中最大灰度值与最小灰度值之间的灰度差值小于或等于灰度差值阈值，且子图像对应的灰度值方差大于或等于灰度值方差阈值时，对子图像进行图像分割得到下一节点的子图像。作为一个示例，将目标图像第一次分割为4个等尺寸的子图像，然后分别计算每个子图像中的最大灰度值和最小灰度值之间的灰度值差值，以及子图像的灰度值方差，当灰度值差值大于灰度值差值阈值3、且灰度值方差大于灰度值方差阈值1时，则对应子图像需要被图像分割，否则，子图像不进行图像分割，进而根据当前节点中被分割的子图像得到下一节点中的子图像，直到子图像的尺寸为。分层加密单元20，用于根据四叉树图像的K个节点将目标图像分为K-1层，K为大于0的整数；分别计算每层中每个子图像的灰度值均值，利用上层中被分割的子图像的灰度值均值减去相邻下层中对应分割得到的子图像的灰度值均值，得到下层中每个子图像的灰度值差值，将灰度值差值构成下层的层信息序列；利用改进的DACs编码对每层的层信息序列进行编码，得到对应层的编码表，将编码表按照行顺序展开成一个一维数组；基于四叉树图像中的分割结果，对每层的子图像添加验证位，得到每层的验证位序列，其中，令满足分割准则的子图像的验证位为1，不满足分割准则的子图像的验证位为赋值0；对每层的一维数组和验证位序列进行分层压缩存储。具体的，出于对涉密资料图像保密的目的，需要对不同级别的工作人员开放不同的权限，能够使不同级别的工作人员查阅的涉密资料图像的质量不同，因此，基于四叉树图像对涉密资料图像进行分层压缩存储，且四叉树图像中每层对应的图像质量都不相同，也即是图像清晰度不同，则分层压缩存储的具体过程为：以四叉树图像中根节点的一个目标图像为例，由于目标图像的尺寸为，所以从根节点往下能够分支为8个节点，则四叉树图像中总共9个节点，且第个节点对应子图像的尺寸为。根据9个节点结构的四叉树图像将目标图像分为8层，从四叉树图像的第1节点到第8节点对应第1层到第8层。分别计算第1层的4个子图像的灰度值均值，记为，则第1层的层信息序列为；分别计算第2层中每个子图像的灰度值均值，记为，其中，表示第2层中的子图像是由第1层中第1个子图像分解得到的四个子图像中的第2个子图像的灰度值均值；如果第1层的第个子图像被继续分解为4个子图像的话，则计算第1层的第个子图像分解得到的四个子图像的灰度值均值，则第2层的层信息序列为，同理，分别获得第3层至第8层的层信息序列。四叉树分解得到的子图像中的像素点具有高同质性，适合于进行无损信息隐藏，则对每个层的层信息序列按照改进的DACs编码方式进行编码，其具体编码过程为：a.以第1层的层信息序列为例，假设第1层的层信息序列为，由于层信息序列中的每个元素可能为负数，因此在获取每个元素的二进制数之后，根据每个元素的正负性，在二进制数的最右边添加一个符号位，且1代表负数、0代表正数，例如46，其二进制数表示为101110，由于46是正数，其符号位为0，则二进制编码为1011100。b. 设置DACs编码中每个比特块的编码长度为，其中,，即将层信息序列中的每个元素编码成大小为的比特块，每个比特块记为，也即是层信息序列中第个元素对应的第个比特块为，则层信息序列中每个元素的可表示为：46-、25-、108-、198-；每个比特块的最高位都是一个标识位，标识这一比特块是否是元素的最后一个比特块，令这个标识位为，剩下的个比特为，则比特块。c. 参照附图3和附图4，附图3为层信息序列中每个元素进行DACs编码后的编码表，附图4为对层信息序列的编码表进行压缩后的目标编码表，其中，为第1个比特块、为第2个比特块、为第3个比特块、为比特、为标识位。考虑到本发明实施例是基于图像进行压缩存储，而图像中像素点的灰度值范围为，其二进制编码长度不超过9位，因此比特块的数量，故第三个比特块的标识位一定为0，则可以省略层信息序列中所有元素的第三个比特块的标识位，以达到对编码表压缩的目的，进而得到第1层对应的目标编码表。d.利用步骤a-c的步骤对四叉树的每一层都获取一个目标编码表，且将每一个目标编码表按照行顺序展开成一维数组表示，例如附图4对应的目标编码表对应的一维数组为1000100010011110111100110011011001011110。e.对于涉密资料图像能够分层加密压缩存储，本发明实施例利用后一层的层信息对前一层的层信息进行补充，通过多层的层信心叠加获得更加清楚的涉密资料图像，因此想要将层信息进行叠加，需要准确知道后一层中的子图像是前一层中的哪个子图像分解得到的，故对每一层增加一个验证位序列，如果验证位是1，代表对应子图像满足分割准则，被继续分解为4个子图像如果验证位是0，代表对应子图像不满足分割准则，保持不变，例如第一层中第一个、第三个和第四个子图像可以进行图像分割，则对应的验证位序列为，进而基于四叉树图像中每一层的分割结果，得到每一层的验证位序列。f.根据步骤a-e能够得到四叉树图像中每层的一个一维数组和一个验证位序列，进而对每层的一维数组和验证位序列进行分层压缩存储。图像解密单元30，用于根据每层的验证位序列得到对应相邻两层的层信息序列之间的密钥，利用密钥解码得到对应质量的涉密资料图像。具体的，每一层的验证位序列是连接两层的层信息序列的重要依据，只有获得两层之间的验证位序列，才能将解码的两层的层信息序列叠加获得准确的图像，因此，本发明实施例根据验证位序列获得每一层的密钥，以第层的密钥为例，其具体步骤为：将前层的验证位序列按层顺序排列，构成一个数据序列。Logistic 映射是一种典型的混沌映射，模型为，当系数时，系统进入混沌状态，就会产生之间的混沌序列。根据发送端和接收端约定的安全密钥，将Logistic 混沌映射模型迭代次，去掉前项，将每一个数进行乘以并进行四舍五入取整，获得一组长度为的混沌序列，其中为数据序列的长度。将混沌序列作为变步长约瑟夫遍历的步长序列，对数据序列利用变步长约瑟夫遍历进行置乱。变步长约瑟夫遍历的具体步骤为：将数据序列中的个数据围成一圈，将数据序列中的第个数据提取出来放在第一个，将剩余的个数据围成一圈，将第个数据提取出来放在第二个，依次类推，直至最后剩下一个，将其放在最后一个，获得一个置乱数据序列。通过AES对置乱数据序列加密获得第层的密钥。需要说明的是，本发明实施例中涉密资料图像的尺寸、图像的像素点的分布都影响了数据序列的长度，由于数据序列具有相应的随机性，使得最终生成的密钥也具有随机性，能够避免被暴力破解。进一步地，根据建筑工程的具体情况给不同级别的工作人员分配不同级别的密钥，工作人员查阅图像资料时，需要先验证使用的密钥，工作人员使用的密钥需要与对应的密钥进行对比，确定工作人员所对应的级别，获得该级别对应的置乱数据序列，根据与发送端约定的安全密钥，通过Logistic 混沌映射模型和变步长约瑟夫遍历的逆运算，获得原始数据序列，进而获得对应的验证位序列，根据获取的验证位序列得到解密后的层信息序列，将解密后的层信息序列进行叠加，得到对应质量的涉密资料图像。其中，对应质量的涉密资料图像的获取方法为：由于层信息序列是由每个子图像的灰度值均值构成，所以当得到解密后的层信息序列后，利用层信息序列中的每个元素得到对应子图像的灰度值均值，利用灰度值均值对相对应子图像中每个像素点的原始灰度值进行替换，进而达到图像模糊的作用，得到对应质量的涉密资料图像。需要说明的是，由于第1层的层信息序列为灰度值均值，后面每层的层信息序列为灰度值差值，且对解密后的层信息序列进行叠加是按照层顺序进行叠加的，也即是都是从第1层的层信息序列开始的，因此基于第1层的灰度值均值能够得到后面每层的灰度值均值。综上所述，本发明实施例提供了一种建筑工程质量管理系统，该系统将涉密资料图像在图像分解单元进行图像分解得到四叉树图像；基于四叉树图像在分层加密单元中对涉密资料图像进行分层压缩存储；在图像解密单元中获取每一层的密钥，利用密钥解码得到对应质量的涉密资料图像。对分解的涉密资料图像进行分层压缩存储，实现对涉密资料图像的压缩存储，基于分割准则获取不同层的密钥，利用密钥进行分层解压，实现对不同级别的工作人员展示不同质量的涉密资料图像，增强了保密效果，同时能够避免被暴力破解。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。且上述对本说明书特定实施例进行了描述。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
