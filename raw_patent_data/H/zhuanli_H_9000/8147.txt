标题title
一种推进变频器的滑模控制方法及系统
摘要abst
本发明提供一种推进变频器的滑模控制方法及系统，涉及船舶变频器控制技术领域，包括：根据预设的变速指数趋近律构造滑模转速控制器，随后通过滑模转速控制器控制推进变频器加速至指定转速，变速指数趋近律为其中，为变速指数趋近律,s为滑模面函数，k&gt;0，ε&gt;0，α为常数；以推进变频器的角速度和负载转矩为观测对象，以负载转矩的观测值为输出，构造负载转矩观测器，随后通过负载转矩观测器观测负载转矩得到负载转矩观测值；滑模转速控制器根据负载转矩观测值控制推进变频器调整指定转速。有益效果是设计趋近律构造滑模转速控制器和负载转矩观测器控制推进变频器的转速平稳迅速恢复到指定转速，明显减少抖振现象。
权利要求书clms
1.一种推进变频器的滑模控制方法，其特征在于，包括：步骤S1，根据预设的变速指数趋近律构造滑模转速控制器，随后通过所述滑模转速控制器控制推进变频器加速至指定转速；所述变速指数趋近律为其中，为所述变速指数趋近律,s为滑模面函数，k＞0，ε＞0，α为常数；步骤S2，以所述推进变频器的角速度和负载转矩为观测对象，以负载转矩的观测值为输出，构造负载转矩观测器，随后通过所述负载转矩观测器观测所述负载转矩得到负载转矩观测值；步骤S3，所述滑模转速控制器根据所述负载转矩观测值控制所述推进变频器调整所述指定转速。2.根据权利要求1所述的滑模控制方法，其特征在于，所述步骤S1中的所述滑模转速控制器为其中,J,Pn,ψf,k,ε,β,q,α,p,lg为常数,为所述滑模转速控制器的输出电流，/＞为角速度参考值，/＞为/＞的一阶导数，/＞为/＞的二阶导数，ωm为所述角速度,s为滑模面函数。3.根据权利要求1所述的滑模控制方法，其特征在于，所述步骤S1中的所述滑模转速控制器的构造过程包括：步骤A1，选取滑模面函数为其中，e为状态误差；α﹥0、β﹥0、a/b﹥1，p、q为正奇数，且满足2﹥p/q﹥1；步骤A2，根据所述滑模面函数和所述变速指数趋近律,设计所述滑模转速控制器。4.根据权利要求1所述的滑模控制方法，其特征在于，所述步骤S2中的所述负载转矩观测器的构造过程包括：步骤B1，将所述负载转矩作为扩展状态变量，结合所述推进变频器的电磁转矩方程式和变频器运动方程，构造扩展状态方程步骤B2，以所述角速度和所述负载转矩为观测对象，以所述负载转矩的观测值为输出，根据所述扩展状态方程构造所述滑模负载转矩观测器。5.根据权利要求4所述的滑模控制方法，其特征在于，所述构造扩展状态方程为：其中，TL为所述负载转矩，ω为所述角速度，iq为所述滑模转速控制器的输出电流，B，J，Pn，ψf为常数。6.根据权利要求1所述的滑模控制方法，其特征在于，所述步骤S2中的所述滑模负载转矩观测器为：其中，TL为所述负载转矩，ω为所述角速度，为所述负载转矩观测值，/＞为所述角速度的观测值，B，J，Pn，ψf，k1，k2为常数，s为滑模面函数。7.一种推进变频器的滑模控制系统，其特征在于，应用于所述权利要求1-6中任意一项所述的滑模控制方法，包括：转速控制器构造模块，用于根据预设的变速指数趋近律构造滑模转速控制器，随后通过所述滑模转速控制器控制推进变频器加速至指定转速；所述变速指数趋近律为其中，为所述变速指数趋近律,s为滑模面函数，k＞0，ε＞0，α为常数；负载转矩观测模块，连接所述转速控制器构造模块，用于以所述推进变频器的角速度和负载转矩为观测对象，以负载转矩的观测值为输出，构造负载转矩观测器，随后通过所述负载转矩观测器观测所述负载转矩得到负载转矩观测值；转速调整模块，连接所述负载转矩观测模块，用于所述滑模转速控制器根据所述负载转矩观测值控制所述推进变频器调整所述指定转速。8.根据权利要求7所述的滑模控制系统，其特征在于，所述转速控制器构造模块中的所述滑模转速控制器为其中,J,Pn,ψf,k,ε,β,q,α,p,lg为常数,为所述滑模转速控制器的输出电流，/＞为角速度参考值，/＞为/＞的一阶导数，/＞为/＞的二阶导数，ωm为所述角速度,s为滑模面函数。9.根据权利要求7所述的滑模控制系统，其特征在于，所述负载转矩观测模块中的所述负载转矩观测器的构造过程包括：扩展状态方程构造单元，用于将所述负载转矩作为扩展状态变量，结合所述推进变频器的电磁转矩方程式和变频器运动方程，构造扩展状态方程；负载转矩观测器构造单元，连接所述扩展状态方程构造单元，用于以所述角速度和所述负载转矩为观测对象，以所述负载转矩的观测值为输出，根据所述推展状态方程构造所述滑模负载转矩观测器。10.根据权利要求7所述的滑模控制系统，其特征在于，所述负载转矩观测模块中构造的所述滑模负载转矩观测器为：其中，TL为所述负载转矩，ω为所述角速度，为所述负载转矩观测值，/＞为所述角速度的观测值，B，J，Pn，/＞k1，k2为常数，s为滑模面函数。/＞
说明书desc
技术领域本发明涉及船舶变频器控制技术领域，尤其涉及一种推进变频器的滑模控制方法及系统。背景技术船舶通常采用柴油机作为原动机直接带动螺旋桨的推进方式，虽然柴油机的控制精度偏低、响应时间较慢、推进效率较低，但其作为船舶的主推进器时，可以基本满足船舶航行工况下的推进需求。随着上个世纪电力电子技术、半导体技术、变频器的交流调速技术和各种微机系统的快速发展，交流推进电机作为船舶推进器，已经从最初的设想变为现实，船舶电力推进技术得到了飞速发展。电力推进技术主要有反应速度快、调速性能优、推进噪声小、推进效率高、消耗功率少、对环境污染更小等多种优点。然而作为主推进器采用电力推进方式时，相比于柴油机带动螺旋桨推进，上述的优势并不明显。伴随着更为复杂的海洋环境和深海远海作业任务，推进变频器的推进性能还需要进一步增强，因此对推进变频器的控制方式进行研究，一方面使推进变频器能够更快的响应频繁变化的转速输入，另一方面在风、浪、流等外界干扰力下，使船舶纵荡、横荡及螺旋桨出水、入水时对预定转速的影响更小。从而使得推进变频器定转速推进和变转速跟踪能力更强，抗海洋环境干扰能力更高。现有的推进变频器在启动时和负载发生变化时抖动较大，且不能平稳快速的恢复。发明内容针对现有技术中存在的问题，本发明提供一种推进变频器的滑模控制方法，包括：步骤S1，根据预设的变速指数趋近律构造滑模转速控制器，随后通过所述滑模转速控制器控制推进变频器加速至指定转速；所述变速指数趋近律为其中，为所述变速指数趋近律,s为滑模面函数，k＞0，ε＞0，α为常数；步骤S2，以所述推进变频器的角速度和负载转矩为观测对象，以负载转矩的观测值为输出，构造负载转矩观测器，随后通过所述负载转矩观测器观测所述负载转矩得到负载转矩观测值；步骤S3，所述滑模转速控制器根据所述负载转矩观测值控制所述推进变频器调整所述指定转速。优选的，所述步骤S1中的所述滑模转速控制器为其中,J,Pn,ψf,k,ε,β,q,α,p,lg为常数,为所述滑模转速控制器的输出电流，/＞为角速度参考值，/＞为/＞的一阶导数，/＞为/＞的二阶导数，ωm为所述角速度,s为滑模面函数。优选的，所述步骤S1中的所述滑模转速控制器的构造过程包括：步骤A1，选取滑模面函数为其中，e为状态误差；α﹥0、β﹥0、a/b﹥1，p、q为正奇数，且满足2﹥p/q﹥1；步骤A2，根据所述滑模面函数和所述变速指数趋近律,设计所述滑模转速控制器。优选的，所述步骤S2中的所述负载转矩观测器的构造过程包括：步骤B1，将所述负载转矩作为扩展状态变量，结合所述推进变频器的电磁转矩方程式和变频器运动方程，构造扩展状态方程步骤B2，以所述角速度和所述负载转矩为观测对象，以所述负载转矩的观测值为输出，根据所述扩展状态方程构造所述滑模负载转矩观测器。优选的，所述构造扩展状态方程为：其中，TL为所述负载转矩，ω为所述角速度，iq为所述滑模转速控制器的输出电流，B，J，Pn，ψf为常数；优选的，所述步骤S2中的所述滑模负载转矩观测器为：其中，TL为所述负载转矩，ω为所述角速度，为所述负载转矩观测值，/＞为所述角速度的观测值，B，J，Pn，ψf，k1，k2为常数，s为滑模面函数。本发明还提供一种推进变频器的滑模控制系统，应用于上述的滑模控制方法，包括：转速控制器构造模块，用于根据预设的变速指数趋近律构造滑模转速控制器，随后通过所述滑模转速控制器控制推进变频器加速至指定转速；所述变速指数趋近律为其中，为所述变速指数趋近律,s为滑模面函数，k＞0，ε＞0，α为常数；负载转矩观测模块，连接所述转速控制器构造模块，用于以所述推进变频器的角速度和负载转矩为观测对象，以负载转矩的观测值为输出，构造负载转矩观测器，随后通过所述负载转矩观测器观测所述负载转矩得到负载转矩观测值；转速调整模块，连接所述负载转矩观测模块，用于所述滑模转速控制器根据所述负载转矩观测值控制所述推进变频器调整所述指定转速。优选的，所述转速控制器构造模块中的所述滑模转速控制器为其中,J,Pn,ψf,k,ε,β,q,α,p,lg为常数,为所述滑模转速控制器的输出电流，/＞为角速度参考值，/＞为/＞的一阶导数，/＞为/＞的二阶导数，ωm为所述角速度,s为滑模面函数。优选的，所述负载转矩观测模块中的所述负载转矩观测器的构造过程包括：扩展状态方程构造单元，用于将所述负载转矩作为扩展状态变量，结合所述推进变频器的电磁转矩方程式和变频器运动方程，构造扩展状态方程；负载转矩观测器构造单元，连接所述扩展状态方程构造单元，用于以所述角速度和所述负载转矩为观测对象，以所述负载转矩的观测值为输出，根据所述推展状态方程构造所述滑模负载转矩观测器。优选的，所述负载转矩观测模块中构造的所述滑模负载转矩观测器为：其中，TL为所述负载转矩，ω为所述角速度，为所述负载转矩观测值，/＞为所述角速度的观测值，B，J，Pn，ψf，k1，k2为常数，s为滑模面函数。上述技术方案具有如下优点或有益效果：根据设计的可以根据状态变量自适应调整实现指数趋近律和变幂次指数趋近律效果的变速指数趋近律构造滑模转速控制器，且设计负载转矩观测器实时观测推进变频器的负载转矩并反馈给滑模转速控制器，推进变频器在启动时和负载发生变化时，滑模转速控制器控制推进变频器的转速平稳且迅速恢复到指定转速，明显减少抖动现象。附图说明图1为本发明的较佳的实施例中，一种推进变频器的滑模控制方法的流程示意图；图2为本发明的较佳的实施例中，本发明的变速指数趋近律与传统等速趋近律的仿真比较图；图3为本发明的较佳的实施例中，步骤S1中滑模转速控制器的构造过程的流程示意图；图4为本发明的较佳的实施例中，步骤S2中的负载转矩观测器的构造过程的流程示意图；图5为本发明的较佳的实施例中，采用本发明的滑模控制方法的船舶的矢量控制图；图6-7为本发明的较佳的实施例中，滑模转速控制器和负载转矩观测器的仿真图；图8为本发明的较佳的实施例中，一种推进变频器的滑模控制系统的结构示意图。具体实施方式下面结合附图和具体实施例对本发明进行详细说明。本发明并不限定于该实施方式，只要符合本发明的主旨，则其他实施方式也可以属于本发明的范畴。本发明的较佳的实施例中，基于现有技术中存在的上述问题，现提供一种推进变频器的滑模控制方法，如图1所示，包括：步骤S1，根据预设的变速指数趋近律构造滑模转速控制器，随后通过滑模转速控制器控制推进变频器加速至指定转速；变速指数趋近律为其中，为变速指数趋近律,s为滑模面函数，k＞0，ε＞0，α为常数；步骤S2，以推进变频器的角速度和负载转矩为观测对象，以负载转矩的观测值为输出，构造负载转矩观测器，随后通过负载转矩观测器观测负载转矩得到负载转矩观测值；步骤S3，滑模转速控制器根据负载转矩观测值控制推进变频器调整指定转速。具体的，本实施例中，采用本发明的滑模控制方法控制船舶的推进变频器，首先预先设计变速指数趋近律，通过引入滑模面函数,可以使船舶根据自身状态距离平衡点的远近调整趋近速度。当|s|渐趋向于∞时,将逐渐趋向于1,sgn|s|等于1，1-tanh|s|趋向于0，此时/＞项将逐渐趋向于ε,从而保留了指数趋近律/＞k,ε＞0的快速收敛的优良特性。相反,当|s|渐趋向于0时,项将逐渐趋向于0,sgn|s|等于1，1-tanh|s|趋向于1，此时/＞项逐渐趋向于0,从而保留了变幂次指数趋近律随着k|s|α项不断减小，最终稳定，船舶的抖振现象得到抑制，解决了传统指数趋近律的自身缺点，并且也可以消除采用等速趋近律ε＞0的抖振影响。因此,本发明的变速指数趋近律能够根据船舶的状态自适应调整参数,从而获得较好的控制效果。以下式所示的新能源船二阶非线性系统为例，对本发明的变速指数趋近律进行分析研究设计转速控制器为为了分析本发明的变速指数趋近律的优越性,x1，x2为系统的状态变量，选取系统的初始状态为x＝T。控制的参数设置为p＝9,q＝7,β＝10,ε＝10,k＝3,α＝0.5。将本发明的变速指数趋近律与传统的指数趋近律进行仿真比较,仿真结果如图2所示。从图2的仿真结果可知，无论是趋近速度还是抑制抖振效果，本发明的变速指数趋近律均优于传统指数趋近律，因此本发明的变速指数趋近律相对于传统指数趋近律而言，抖振抑制效果较好，并减小了趋近滑模平面所需时间，提高了趋近速度。本发明的较佳的实施例中，步骤S1中的滑模转速控制器为其中,J,Pn,ψf,k,ε,β,q,α,p,lg为常数,为滑模转速控制器的输出电流，/＞为角速度参考值，/＞为/＞的一阶导数，/＞为/＞的二阶导数，ωm为角速度,s为滑模面函数。本发明的较佳的实施例中，如图3所示，步骤S1中的滑模转速控制器的构造过程包括：步骤A1，选取滑模面函数为其中，e为状态误差；α﹥0、β﹥0、a/b﹥1，p、q为正奇数，且满足2﹥p/q﹥1；步骤A2，根据滑模面函数和变速指数趋近律,设计滑模转速控制器。具体的，本实施例中，在传统的船舶控制系统中的滑模控制采用的是线性滑模，系统的状态误差渐近收敛。而终端滑模则采用的是非线性滑模，是在滑模面中加入非线性项，从而提高了系统的收敛性能，使系统状态快速收敛到给定值。所以，终端滑模具有响应速度快，稳态精度高等优点，适合应用在高精度控制场合。但是在滑模控制律设计中，常常忽略因系统参数不准确或变动而引起解耦不彻底和负载大干扰等非确定性扰动的影响，使得系统的鲁棒性相对不高，稳态精度相对偏低。通过对终端滑模的特性分析，研究一种非奇异快速终端滑模，该滑模避免终端滑模的奇异现象，又提高收敛速度。在速度控制器的设计中考虑负载扰动的影响，以此进一步增强系统的鲁棒性，提高系统的稳态精度。为了使终端滑模更快速的响应速度和避免出现奇异现象，现选取的非奇异快速终端滑模面：其中，e为系统状态误差；α﹥0、β﹥0、a/b﹥1，p、q为正奇数，且满足2﹥p/q﹥1；使式中S＝0，可得系统状态误差变化率：式中，如不考虑指数，则系统误差变化率由线性项和非线性项/＞决定。当系统状态变量离平衡点较远时，即误差较大时，误差收敛速度由式中的非线性项起主要作用，收敛速度接近幂次变化；当系统状态接近平衡点，即误差较小时，误差收敛速度由式中的线性项起主要作用，收敛速度接近线性变化，此时变成非奇异终端滑模。与奇异终端滑模相比，收敛速度更快。而且由于2﹥p/q﹥1，故避免了在控制律上出现的奇异现象。船舶控制系统采用矢量控制，在采用id＝0的矢量控制中，转速控制器的输入是速度误差，用于跟踪角速度参考值，并要求对负载变化具有较强的抗干扰性；转速控制器输出量为Q轴电流参考值/＞。现假定角速度参考值/＞是一个时变的量，且足够光滑，处处都有二阶导数，变频器的角速度为ωm，则速度误差e为根据式得到速度误差变化率为随后对时间求一阶导数得在采用id＝0的矢量控制方式时，机械运动方程可表示为为增强系统的抗干扰能力，这里需要考虑负载转矩的影响，则将负载转矩TL看做一个时变可导的干扰量，式对时间求一阶导数得/＞将式代入式得式对时间求导得将式代入式得为了保证，现结合本发明设计的变速指数趋近律得到滑模转速控制器为最终将式对时间求积分获得得到滑模转速控制器的输出参考电流iq*，推进变频器根据输出参考电流iq*的大小调整指定转速。上述式子中,J,Pn,ψf,k,ε,β,q,α,p,lg为常数,为滑模转速控制器的输出电流，为角速度参考值，/＞为/＞的一阶导数，/＞为/＞的二阶导数，ωm为角速度,s为滑模面函数。采用Lyapunov函数进行稳定性验证，首先选取Lyapunov函数对V求导得将式、式代入得由于p、q为正奇数，β为大于零的正数，故当时，有/＞又因为ε＞0，故上式可变为因此，上式满足Lyapunov稳定性定理，说明系统稳定。本发明的较佳实施例中，所述步骤S2中的所述负载转矩观测器的构造过程包括：步骤B1，将所述负载转矩作为扩展状态变量，结合所述推进变频器的电磁转矩方程式和变频器运动方程，构造扩展状态方程步骤B2，以所述角速度和所述负载转矩为观测对象，以所述负载转矩的观测值为输出，根据所述扩展状态方程构造所述滑模负载转矩观测器。本发明的较佳实施例中，所述构造扩展状态方程为：其中，TL为所述负载转矩，ω为所述角速度，iq为所述滑模转速控制器的输出电流，B，J，Pn，ψf为常数；本发明的较佳实施例中，所述构造扩展状态方程为：其中，TL为所述负载转矩，ω为所述角速度，为所述负载转矩观测值，/＞为所述角速度的观测值，B，J，Pn，ψf，k1，k2为常数，s为滑模面函数。具体的，本实施例中，iq的给定值中包含了负载转矩TL，而负载转矩TL的变化会引起变频器的角速度的波动，滑模转速控制器不连续项的最小幅值将随着负载转矩的变化范围而增加，从而增大滑模转速控制器的抖振现象。为了减小负载转矩对船舶的矢量控制系统的影响，设计滑模负载转矩观测器对负载转矩TL进行实时观测，并将负载转矩观测值反馈到滑模转速控制器。减小滑模转速控制器不连续项的最小幅值，从而抑制了滑模抖振现象。滑模负载转矩观测器的具体设计如下：图5为采用本发明的推进变频器的滑模控制方法的船舶的矢量控制图，在船舶的矢量控制系统中id＝0,将负载转矩TL作为扩展状态变量，结合推进变频器的电磁转矩方程式和变频器运动方程，可构造如下的扩展状态方程：在式的基础上，以推进变频器的角速度ω和负载转矩TL为观测对象，以负载转矩TL的观测值为输出，构造滑模负载转矩观测器为通过观测变频器的角速度ω和负载转矩TL得到角速度观测值和负载转矩观测值/＞，将负载转矩观测值/＞反馈给滑模转速控制器。其中，为角速度观测值，ω为角速度，/＞为负载转矩观测值，s为滑模面函数，B，J，Pn，ψf为常数。定义角速度的观测误差为以及负载转矩的观测误差为结合式和式，可得滑模负载转矩观测器的误差动态方程为对负载转矩观测器的稳定性进行分析，首先取Lyapunov函数对V求导得函数V是正定的，根据Lyapunov稳定性理论，只要其导数负定就能保证系统渐近稳定，即V＜0。结合式和式可得：其中,B＞0、J＞0,根据-可得滑模增益的取值范围为当负载转矩观测器进入稳态时，推进变频器的角速度的观测误差为此时负载转矩观测器的误差动态方程可化简为:/＞根据稳定性理论可知，式稳定的条件是由于k1＜0、J＞0，选择合适的参数k1、k2就能保证/＞使推进变频器的角速度和负载转矩观测误差趋近于零，从而能使船舶的矢量控制系统稳定。如图7、图8为仿真结果，从图中可以看出当推进变频器转速从零速上升到参考转速1500r/min时，采用本发明所提供的滑模控制方法能够实现无超调控制，并且在负载突加和突减时，推进变频器也快速恢复到给定参考转速值。另外，负载转矩观测器得到的负载转矩观测值能够快速跟踪负载转矩实际值。因此，本发明的控制方法提高了系统的动态性能和调速性能，具有较好的控制品质。本发明还提供一种推进变频器的滑模控制系统，应用于上述的滑模控制方法，如图8所示，包括：转速控制器构造模块1，用于根据预设的变速指数趋近律构造滑模转速控制器，随后通过滑模转速控制器控制推进变频器加速至指定转速；变速指数趋近律为其中，为变速指数趋近律,s为滑模面函数，k＞0，ε＞0，α为常数；负载转矩观测模块2，连接转速控制器构造模块1，用于以推进变频器的角速度和负载转矩为观测对象，以负载转矩的观测值为输出，构造负载转矩观测器，随后通过负载转矩观测器观测负载转矩得到负载转矩观测值；转速调整模块3，连接负载转矩观测模块2，用于滑模转速控制器根据负载转矩观测值控制推进变频器调整指定转速。本发明的较佳的实施例中，转速控制器构造模块1中的滑模转速控制器为其中,J,Pn,ψf,k,ε,β,q,α,p,lg为常数,为滑模转速控制器的输出电流，/＞为角速度参考值，/＞为/＞的一阶导数，/＞为/＞的二阶导数，ωm为角速度,s为滑模面函数。本发明的较佳的实施例中，如图8所示，负载转矩观测模块2中的负载转矩观测器的构造过程包括：扩展状态方程构造单元21，用于将负载转矩作为扩展状态变量，结合推进变频器的电磁转矩方程式和变频器运动方程，构造扩展状态方程；负载转矩观测器构造单元22，连接扩展状态方程构造单元21，用于以角速度和负载转矩为观测对象，以负载转矩的观测值为输出，根据推展状态方程构造滑模负载转矩观测器。本发明的较佳的实施例中，所述负载转矩观测模块中构造的所述负载转矩观测器为：其中,为角速度观测值，ω为所述角速度，/＞为所述负载转矩观测值，s为滑模面函数，B，J，Pn，ψf为常数。以上仅为本发明较佳的实施例，并非因此限制本发明的实施方式及保护范围，对于本领域技术人员而言，应当能够意识到凡运用本说明书及图示内容所作出的等同替换和显而易见的变化所得到的方案，均应当包含在本发明的保护范围内。
