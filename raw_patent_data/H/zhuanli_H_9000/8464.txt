标题title
数据处理方法、装置、电子设备和计算机程序产品
摘要abst
本公开实施例公开了一种数据处理方法、装置、电子设备和计算机程序产品，其中，方法包括：获取第一数量的第一向量和公钥信息，公钥信息包括第二数量组的公钥多项式系数，第二数量基于第一向量的元素数量确定，每组公钥多项式系数用于确定一个公钥多项式；基于第一编码规则，将第一数量的第一向量编码为第三数量个第一多项式，第三数量与第一向量的元素数量相同；基于各第一多项式和公钥信息，确定第一数量的第一向量的密文信息，密文信息包括第二数量组的密文多项式系数；将密文信息发送给第二电子设备，以使第二电子设备基于密文信息及第二向量，确定各第一向量分别与第二向量的内积。有效提高数据处理效率。
权利要求书clms
1.一种数据处理方法，其特征在于，所述方法应用于第一电子设备，所述方法包括：获取第一数量的第一向量和公钥信息，所述公钥信息包括第二数量组的公钥多项式系数，所述第二数量基于所述第一向量的元素数量确定，每组公钥多项式系数用于确定一个公钥多项式；基于第一编码规则，将所述第一数量的所述第一向量编码为第三数量个第一多项式，所述第三数量与所述第一向量的元素数量相同；基于各所述第一多项式和所述公钥信息，确定所述第一数量的所述第一向量的密文信息，所述密文信息包括所述第二数量组的密文多项式系数；将所述密文信息发送给第二电子设备，以使所述第二电子设备基于所述密文信息及第二向量，确定各所述第一向量分别与所述第二向量的内积。2.根据权利要求1所述的方法，其特征在于，所述基于第一编码规则，将所述第一数量的所述第一向量编码为第三数量个第一多项式，包括：将所述第一数量的所述第一向量中同一位置的元素作为一个第一多项式的系数，获得第三数量组第一多项式系数；基于第三数量组所述第一多项式系数，确定第三数量个所述第一多项式。3.根据权利要求1所述的方法，其特征在于，所述基于各所述第一多项式和所述公钥信息，确定所述第一数量的所述第一向量的密文信息，包括：基于预生成的第二多项式系数、第三多项式系数、所述公钥信息及第一映射规则，确定第一密文多项式系数；基于所述第二多项式系数、预生成的第三数量组的第四多项式系数、各所述第一多项式、所述公钥信息及第二映射规则，确定各所述第一多项式分别对应的第二密文多项式系数；将所述第一密文多项式系数和各所述第二密文多项式系数，作为所述密文信息。4.根据权利要求1所述的方法，其特征在于，获取公钥信息，包括：接收第三电子设备发送的所述公钥信息。5.一种数据处理方法，其特征在于，所述方法应用于第二电子设备，所述方法包括：接收第一电子设备发送的第一数量的第一向量的密文信息，所述密文信息包括第二数量组的密文多项式系数，所述第二数量基于所述第一向量的元素数量确定；获取第二向量；基于预先获得的私钥信息、所述第二向量及第三映射规则，确定解密密钥信息，所述私钥信息包括第三数量组私钥多项式系数，所述第三数量为所述第二向量的元素数量；基于所述解密密钥信息、所述密文信息及第四映射规则，确定各所述第一向量分别与所述第二向量的内积。6.根据权利要求5所述的方法，其特征在于，所述基于所述解密密钥信息、所述密文信息及第四映射规则，确定各所述第一向量分别与所述第二向量的内积，包括：基于所述解密密钥信息、所述密文信息及第四映射规则，确定第五多项式；从所述第五多项式提取预设项的系数；基于所述预设项的系数，确定各所述第一向量分别与所述第二向量的内积。7.一种数据处理装置，其特征在于，所述装置应用于第一电子设备，所述装置包括：第一获取模块，用于获取第一数量的第一向量和公钥信息，所述公钥信息包括第二数量组的公钥多项式系数，所述第二数量基于所述第一向量的元素数量确定，每组公钥多项式系数用于确定一个公钥多项式；第一编码模块，基于第一编码规则，将所述第一数量的所述第一向量编码为第三数量个第一多项式，所述第三数量与所述第一向量的元素数量相同；第一处理模块，用于基于各所述第一多项式和所述公钥信息，确定所述第一数量的所述第一向量的密文信息，所述密文信息包括所述第二数量组的密文多项式系数；发送模块，用于将所述密文信息发送给第二电子设备，以使所述第二电子设备基于所述密文信息及第二向量，确定各所述第一向量分别与所述第二向量的内积。8.一种数据处理装置，其特征在于，所述装置应用于第二电子设备，所述装置包括：接收模块，用于接收第一电子设备发送的第一数量的第一向量的密文信息，所述密文信息包括第二数量组的密文多项式系数，所述第二数量基于所述第一向量的元素数量确定；第二获取模块，用于获取第二向量；第二处理模块，用于基于预先获得的私钥信息、所述第二向量及第三映射规则，确定解密密钥信息，所述私钥信息包括第三数量组私钥多项式系数，所述第三数量为所述第二向量的元素数量；第三处理模块，用于基于所述解密密钥信息、所述密文信息及第四映射规则，确定各所述第一向量分别与所述第二向量的内积。9.一种电子设备，其特征在于，包括：存储器，用于存储计算机程序产品；处理器，用于执行所述存储器中存储的计算机程序产品，且所述计算机程序产品被执行时，实现上述权利要求1-6任一所述的方法。10.一种计算机程序产品，包括计算机程序指令，其特征在于，该计算机程序指令被处理器执行时实现上述权利要求1-6任一所述的方法。
说明书desc
技术领域本公开涉及数据安全技术，尤其是一种数据处理方法、装置、电子设备和计算机程序产品。背景技术随着数据安全技术的发展，内积函数加密被提出并逐渐应用于各领域，IPFE是一种用于内积计算的数据安全算法，包括初始设置阶段、加密阶段、解密密钥生成阶段和解密阶段，其中，Setup阶段主要是生成私钥和公钥，Encrypt阶段主要是利用mpk对明文u进行加密获得u的密文cu，KeyGeneation阶段主要是利用msk和明文y生成与y相关的解密密钥，Decrypt阶段主要是利用解密密钥对密文cu进行解密，得到u与y的内积＜u,y＞，但是现有的IPFE，计算两个向量的内积，数据处理效率较低。发明内容本公开实施例提供一种数据处理方法、装置、电子设备和计算机程序产品，以实现多个向量内积的确定，提高数据处理效率。本公开实施例的一个方面，提供一种数据处理方法，所述方法应用于第一电子设备，所述方法包括：获取第一数量的第一向量和公钥信息，所述公钥信息包括第二数量组的公钥多项式系数，所述第二数量基于所述第一向量的元素数量确定，每组公钥多项式系数用于确定一个公钥多项式；基于第一编码规则，将所述第一数量的所述第一向量编码为第三数量个第一多项式，所述第三数量与所述第一向量的元素数量相同；基于各所述第一多项式和所述公钥信息，确定所述第一数量的所述第一向量的密文信息，所述密文信息包括所述第二数量组的密文多项式系数；将所述密文信息发送给第二电子设备，以使所述第二电子设备基于所述密文信息及第二向量，确定各所述第一向量分别与所述第二向量的内积。在本公开一实施方式中，所述基于第一编码规则，将所述第一数量的所述第一向量编码为第三数量个第一多项式，包括：将所述第一数量的所述第一向量中同一位置的元素作为一个第一多项式的系数，获得第三数量组第一多项式系数；基于第三数量组所述第一多项式系数，确定第三数量个所述第一多项式。在本公开一实施方式中，所述基于各所述第一多项式和所述公钥信息，确定所述第一数量的所述第一向量的密文信息，包括：基于预生成的第二多项式系数、第三多项式系数、所述公钥信息及第一映射规则，确定第一密文多项式系数；基于所述第二多项式系数、预生成的第三数量组的第四多项式系数、各所述第一多项式、所述公钥信息及第二映射规则，确定各所述第一多项式分别对应的第二密文多项式系数；将所述第一密文多项式系数和各所述第二密文多项式系数，作为所述密文信息。在本公开一实施方式中，获取公钥信息，包括：接收第三电子设备发送的所述公钥信息。本公开实施例的另一个方面，提供一种数据处理方法，所述方法应用于第二电子设备，所述方法包括：接收第一电子设备发送的第一数量的第一向量的密文信息，所述密文信息包括第二数量组的密文多项式系数，所述第二数量基于所述第一向量的元素数量确定；获取第二向量；基于预先获得的私钥信息、所述第二向量及第三映射规则，确定解密密钥信息，所述私钥信息包括第三数量组私钥多项式系数，所述第三数量为所述第二向量的元素数量；基于所述解密密钥信息、所述密文信息及第四映射规则，确定各所述第一向量分别与所述第二向量的内积。在本公开一实施方式中，所述基于所述解密密钥信息、所述密文信息及第四映射规则，确定各所述第一向量分别与所述第二向量的内积，包括：基于所述解密密钥信息、所述密文信息及第四映射规则，确定第五多项式；从所述第五多项式提取预设项的系数；基于所述预设项的系数，确定各所述第一向量分别与所述第二向量的内积。本公开实施例的再一个方面，提供一种数据处理装置，所述装置应用于第一电子设备，所述装置包括：第一获取模块，用于获取第一数量的第一向量和公钥信息，所述公钥信息包括第二数量组的公钥多项式系数，所述第二数量基于所述第一向量的元素数量确定，每组公钥多项式系数用于确定一个公钥多项式；第一编码模块，基于第一编码规则，将所述第一数量的所述第一向量编码为第三数量个第一多项式，所述第三数量与所述第一向量的元素数量相同；第一处理模块，用于基于各所述第一多项式和所述公钥信息，确定所述第一数量的所述第一向量的密文信息，所述密文信息包括所述第二数量组的密文多项式系数；发送模块，用于将所述密文信息发送给第二电子设备，以使所述第二电子设备基于所述密文信息及第二向量，确定各所述第一向量分别与所述第二向量的内积。在本公开一实施方式中，所述第一编码模块具体用于：将所述第一数量的所述第一向量中同一位置的元素作为一个第一多项式的系数，获得第三数量组第一多项式系数；基于第三数量组所述第一多项式系数，确定第三数量个所述第一多项式。在本公开一实施方式中，所述第一处理模块具体用于：基于预生成的第二多项式系数、第三多项式系数、所述公钥信息及第一映射规则，确定第一密文多项式系数；基于所述第二多项式系数、预生成的第三数量组的第四多项式系数、各所述第一多项式、所述公钥信息及第二映射规则，确定各所述第一多项式分别对应的第二密文多项式系数；将所述第一密文多项式系数和各所述第二密文多项式系数，作为所述密文信息。在本公开一实施方式中，所述第一获取模块具体用于：接收第三电子设备发送的所述公钥信息。本公开实施例的又一个方面，提供一种数据处理装置，所述装置应用于第二电子设备，所述装置包括：接收模块，用于接收第一电子设备发送的第一数量的第一向量的密文信息，所述密文信息包括第二数量组的密文多项式系数，所述第二数量基于所述第一向量的元素数量确定；第二获取模块，用于获取第二向量；第二处理模块，用于基于预先获得的私钥信息、所述第二向量及第三映射规则，确定解密密钥信息，所述私钥信息包括第三数量组私钥多项式系数，所述第三数量为所述第二向量的元素数量；第三处理模块，用于基于所述解密密钥信息、所述密文信息及第四映射规则，确定各所述第一向量分别与所述第二向量的内积。在本公开一实施方式中，所述第三处理模块具体用于：基于所述解密密钥信息、所述密文信息及第四映射规则，确定第五多项式；从所述第五多项式提取预设项的系数；基于所述预设项的系数，确定各所述第一向量分别与所述第二向量的内积。根据本公开实施例的再一方面，提供一种电子设备，所述电子设备包括：存储器，用于存储计算机程序产品；处理器，用于执行所述存储器中存储的计算机程序产品，且所述计算机程序产品被执行时，实现本公开上述任一实施例所述的方法。根据本公开实施例的又一方面，提供一种计算机程序产品，包括计算机程序指令，其特征在于，该计算机程序指令被处理器执行时实现本公开上述任一实施例所述的方法。本公开提供的数据处理方法、装置、电子设备和计算机程序产品，通过将待确定内积的多个第一向量编码为多个多项式，可以基于预先获得的公钥信息对多个第一向量进行加密，获得多个第一向量的密文信息，相应的，解密的时候，基于预先获得的私钥信息和第二向量确定解密密钥信息，进而基于解密密钥信息对密文信息进行解密，获得各第一向量分别与第二向量的内积，相对于相关技术中的IPFE算法，本公开在相同的计算资源情况下可以实现多个第一向量分别与第二向量的内积，有效提高数据处理效率。下面通过附图和实施例，对本公开的技术方案做进一步的详细描述。附图说明构成说明书的一部分的附图描述了本公开的实施例，并且连同描述一起用于解释本公开的原理。参照附图，根据下面的详细描述，可以更加清楚地理解本公开，其中：图1是本公开提供的数据处理方法的一个示例性的应用场景；图2是本公开一个示例性实施例提供的数据处理方法的流程示意图；图3是本公开另一个示例性实施例提供的数据处理方法的流程示意图；图4是本公开再一个示例性实施例提供的数据处理方法的流程示意图；图5是本公开一示例性实施例提供的步骤304的流程示意图；图6是本公开一示例性实施例提供的数据处理装置的结构示意图；图7是本公开另一示例性实施例提供的数据处理装置的结构示意图；图8是本公开电子设备一个应用实施例的结构示意图。具体实施方式现在将参照附图来详细描述本公开的各种示例性实施例。应注意到：除非另外具体说明，否则在这些实施例中阐述的部件和步骤的相对布置、数字表达式和数值不限制本公开的范围。本领域技术人员可以理解，本公开实施例中的“第一”、“第二”等术语仅用于区别不同步骤、设备或模块等，既不代表任何特定技术含义，也不表示它们之间的必然逻辑顺序。还应理解，在本公开实施例中，“多个”可以指两个或两个以上，“至少一个”可以指一个、两个或两个以上。还应理解，对于本公开实施例中提及的任一部件、数据或结构，在没有明确限定或者在前后文给出相反启示的情况下，一般可以理解为一个或多个。另外，本公开中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本公开中字符“/”，一般表示前后关联对象是一种“或”的关系。还应理解，本公开对各个实施例的描述着重强调各个实施例之间的不同之处，其相同或相似之处可以相互参考，为了简洁，不再一一赘述。同时，应当明白，为了便于描述，附图中所示出的各个部分的尺寸并不是按照实际的比例关系绘制的。以下对至少一个示例性实施例的描述实际上仅仅是说明性的，决不作为对本公开及其应用或使用的任何限制。对于相关领域普通技术人员已知的技术、方法和设备可能不作详细讨论，但在适当情况下，所述技术、方法和设备应当被视为说明书的一部分。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步讨论。本公开实施例可以应用于终端设备、计算机系统、服务器等电子设备，其可与众多其它通用或专用计算系统环境或配置一起操作。适于与终端设备、计算机系统、服务器等电子设备一起使用的众所周知的终端设备、计算系统、环境和/或配置的例子包括但不限于：个人计算机系统、服务器计算机系统、瘦客户机、厚客户机、手持或膝上设备、基于微处理器的系统、机顶盒、可编程消费电子产品、网络个人电脑、小型计算机系统、大型计算机系统和包括上述任何系统的分布式云计算技术环境，等等。终端设备、计算机系统、服务器等电子设备可以在由计算机系统执行的计算机系统可执行指令的一般语境下描述。通常，程序模块可以包括例程、程序、目标程序、组件、逻辑、数据结构等等，它们执行特定的任务或者实现特定的抽象数据类型。计算机系统/服务器可以在分布式云计算环境中实施，分布式云计算环境中，任务是由通过通信网络链接的远程处理设备执行的。在分布式云计算环境中，程序模块可以位于包括存储设备的本地或远程计算系统存储介质上。本公开概述在实现本公开的过程中，发明人发现，随着数据安全技术的发展，内积函数加密被提出并逐渐应用于各领域，IPFE是一种用于内积计算的数据安全算法，包括初始设置阶段、加密阶段、解密密钥生成阶段和解密阶段，其中，Setup阶段主要是生成私钥和公钥，Encrypt阶段主要是利用mpk对明文u进行加密获得u的密文cu，KeyGeneation阶段主要是利用msk和明文y生成与y相关的解密密钥，Decrypt阶段主要是利用解密密钥对密文cu进行解密，得到u与y的内积＜u,y＞，但是现有的IPFE，计算两个向量的内积，数据处理效率较低。示例性概述图1是本公开提供的数据处理方法的一个示例性的应用场景。在数据共享场景，第一用户通过其第一电子设备将数据作为第一向量进行加密，将加密后的密文信息保存在本地或上传至云端或提供给服务提供商，服务提供商只获取第一用户的数据的密文信息，基于密文信息进行数据计算，而不会获得第一用户的明文数据，从而可以在保护用户数据安全性的基础上实现数据的共享。利用本公开的数据处理方法，第一用户可以基于其第一电子设备，将多个数据分别作为第一向量，获得第一数量的第一向量，基于第一编码规则将第一数量的第一向量编码为第三数量个第一多项式，基于各第一多项式和预先获得的公钥信息，确定第一数量的第一向量的密文信息，将密文信息发送给第二电子设备，第二电子设备可以基于密文信息及第二向量生成解密密钥信息，用于对密文信息进行解密，确定各第一向量分别与第二向量的内积，将内积用于第二用户需要的用途，比如对于某产品商，可以基于第一用户的产品搜索历史数据中多条搜索产品的密文信息，与自己的各种产品信息的内积，确定用户搜索产品与产品商的产品的匹配度，从而可以确定用户的产品需求，进而对用户进行相关产品的推荐。本公开的方法还可以用于其他各种可能的场景，具体可以根据实际需求设置。本公开实施例提供的数据处理方法，可以同时实现多个第一向量与第二向量的内积的确定，有效提升数据处理效率。相对于相关技术的IPFE，实现了资源消耗基本不变的情况下，实现多个第一向量与第二向量的内积的确定。解决了IPFE每次确定一个第一向量与第二向量内积，处理效率较低等问题。其中，第一用户加密用的公钥信息及第二用户使用的私钥信息可以是可靠的第三方生成并发送给第一用户和第二用户的。其中，第三电子设备可以为第二用户选择的权威可信的第三方的电子设备，用于预先生成第一电子设备需要的公钥信息和第二电子设备需要的私钥信息。优选地，第三电子设备可以为部署了可信执行环境的电子设备。需要说明的是，本公开所涉及的各多项式均为关于同一变量符号的多项式，比如变量符号为x，任一多项式均可表示为Bi表示xi-1项的系数，N表示多项式总项数。在数据存储及传输时多项式可以以系数向量方式表示，在用于多项式计算时，可以将系数向量编码为多项式进行计算。本公开的数据处理方法不限于应用于上述的数据共享场景，还可以应用于任意需要确定两向量内积的场景中，比如任意采用最近邻搜索算法或类似算法的场景、数据查询搜索场景，等等，具体可以根据实际需求设置，本公开不作限定。本公开方案可以用于隐私计算应用场景，隐私计算是指在保护数据本身不对外泄露的前提下实现数据分析计算的技术集合，达到对数据“可用、不可见”的目的；在充分保护数据和隐私安全的前提下，实现数据价值的转化和释放。示例性方法图2是本公开一个示例性实施例提供的数据处理方法的流程示意图。该方法包括以下步骤：步骤201，获取第一数量的第一向量和公钥信息，公钥信息包括第二数量组的公钥多项式系数，第二数量基于第一向量的元素数量确定，每组公钥多项式系数用于确定一个公钥多项式。在一个可选实施例中，第一向量为包括一定数量个元素的向量，第二数量基于第一向量的元素数量确定，比如第二数量为l+1，第一数量可以根据实际需求设置。每组公钥多项式系数包括的系数数量可以根据实际需求设置。在一个可选示例中，公钥信息可以从可信的第三方的第三电子设备获取，也可以是从第二电子设备获取，具体可以根据实际需求设置。示例性的，第一数量表示为n，第一向量的元素数量表示为l，第j个第一向量表示为l为正整数，j＝1,…,n。公钥信息包括l+1组公钥多项式系数，对应l+1个公钥多项式，表示为mpk＝＝，其中，a和pki均为公钥多项式，a可以基于随机均匀取样确定，pki＝asi+ei，si和ei均为基于高斯分布生成的多项式。步骤202，基于第一编码规则，将第一数量的第一向量编码为第三数量个第一多项式，第三数量与第一向量的元素数量相同。在一个可选示例中，第一编码规则可以根据实际需求设置。比如第i个多项式表示为在一个可选实施例中，公钥信息的获取流程与各第一向量的获取及编码流程不分先后顺序。比如可以是先获取公钥信息，再获取第一数量的第一向量及将第一数量的第一向量编码为第三数量个第一多项式，还可以是先获取第一数量的第一向量并将第一数量的第一向量编码为第三数量个第一多项式，再获取公钥信息，也可以获取公钥信息和获取第一数量的第一向量同时进行，具体可以根据实际需求设置。步骤203，基于各第一多项式和公钥信息，确定第一数量的第一向量的密文信息，密文信息包括第二数量组的密文多项式系数。在一个可选示例中，可以基于预设的映射规则，将第一多项式和公钥信息映射为密文信息，具体可以根据实际需求设置。映射规则可以根据实际需求设置。示例性的，获得的密文信息对应的第二数量个密文多项式可以表示为cu＝＝，其中，ct0和cti均为密文多项式，密文信息共对应l+1个密文多项式。步骤204，将密文信息发送给第二电子设备，以使第二电子设备基于密文信息及第二向量，确定各第一向量分别与第二向量的内积。在一个可选示例中，第二电子设备可以为需要确定第一向量与第二向量内积的第二用户的电子设备，第二电子设备可以为终端设备、单个服务器设备、云服务器、服务器集群，等等，具体不作限定。第一电子设备可以是将密文信息直接通过网络发送给第二电子设备，也可以是经过中间设备间接发送给第二电子设备，具体可以根据实际需求设置。比如第一电子设备可以将密文信息发送给第三用户的第三电子设备，当第二用户需要的时候，由第三电子设备发送给第二电子设备。第二电子设备获得第一数量的第一向量的密文信息后，基于预先获得的私钥信息和第二向量确定解密密钥信息，进而基于解密密钥信息、密文信息，确定各第一向量分别与第二向量的内积，第二电子设备侧的具体操作原理参见后续第二电子设备侧的方法实施例，在此不再赘述。本公开实施例提供的数据处理方法，通过将待确定内积的多个第一向量编码为多个多项式，可以基于预先获得的公钥信息对多个第一向量进行加密，获得多个第一向量的密文信息，相应的，解密的时候，基于预先获得的私钥信息和第二向量确定解密密钥信息，进而基于解密密钥信息对密文信息进行解密，获得各第一向量分别与第二向量的内积，相对于相关技术中的IPFE算法，本公开在相同的计算资源情况下可以实现多个第一向量分别与第二向量的内积，有效提高数据处理效率。图3是本公开另一个示例性实施例提供的数据处理方法的流程示意图。在一个可选示例中，步骤202的基于第一编码规则，将第一数量的第一向量编码为第三数量个第一多项式，包括：步骤2021，将第一数量的第一向量中同一位置的元素作为一个第一多项式的系数，获得第三数量组第一多项式系数。示例性的，第j个第一向量表示为同一位置是指第一向量的元素中相同的i标号对应的元素，比如为第一数量的第一向量中同一位置的元素，作为一组第一多项式系数。步骤2022，基于第三数量组第一多项式系数，确定第三数量个第一多项式。其中，每组第一多项式系数用于确定一个第一多项式，第三数量为l，可以确定出l组第一多项式系数，对应l个第一多项式，第i个第一多项式表示为mi＝本实施例通过将第一数量的第一向量编码为第三数量个第一多项式，从而可以对第一数量个第一向量进行加密获得密文信息，便于第二用户同时解密获得第一数量的第一向量分别与第二向量的内积，提高数据处理效率。在一个可选实施例中，步骤203的基于各第一多项式和公钥信息，确定第一数量的第一向量的密文信息，包括：步骤2031，基于预生成的第二多项式系数、第三多项式系数、公钥信息及第一映射规则，确定第一密文多项式系数。在一个可选示例中，第二多项式系数和第三多项式系数可以根据实际需求设置，比如第二多项式系数和第三多项式系数可以分别基于高斯分布生成。第一映射规则可以根据实际需求设置。第二多项式系数用于确定第二多项式，第三多项式系数用于确定第三多项式。在一个可选示例中，第二多项式表示为r、第三多项式表示为f0，第一密文多项式系数对应的第一密文多项式ct0可以通过第一映射规则ct0＝ar+f0获得，基于ct0确定出第一密文多项式系数，a是公钥信息中包括的一组公钥多项式系数确定的公钥多项式，参见前述内容。步骤2032，基于第二多项式系数、预生成的第三数量组的第四多项式系数、各第一多项式、公钥信息及第二映射规则，确定各第一多项式分别对应的第二密文多项式系数。其中，第三数量组的第四多项式系数可以根据实际需求采用任意可实施的方式生成，比如基于高斯分布生成第三数量组的第四多项式系数。第二映射规则可以根据实际需求设置。在一个可选示例中，第三数量组的第四多项式系数对应的第三数量个第四多项式表示为fi，第i个第一多项式mi对应的第二密文多项式系数所确定的第二密文多项式cti可以基于第二映射规则确定，进而可以基于第二密文多项式cti确定第二密文多项式系数。其中，q和K分别为预设值，可以根据实际需求设置，表示向下取整，pki＝asi+ei，si和ei均为基于高斯分布生成的多项式。步骤2033，将第一密文多项式系数和各第二密文多项式系数，作为密文信息。本实施例通过设置相应的第一映射规则和第二映射规则，实现了对第一数量的第一向量编码获得的第三数量个第一多项式进行加密，获得密文信息，使得后续解密可以同时获得第一数量的第一向量分别与第二向量的内积，提高数据处理效率。在一个可选实施例中，步骤201的获取公钥信息，包括：步骤2011，接收第三电子设备发送的公钥信息。在一个可选示例中，第三电子设备可以是权威可信的第三方的电子设备，用于公钥信息和私钥信息的生成，并将公钥信息发送给第一用户的第一电子设备，将私钥信息发送给第二用户的第二电子设备。在一个可选示例中，公钥信息可以基于预设规则确定，比如基于随机均匀取样确定第一公钥多项式a，基于pki＝asi+ei确定各第二公钥多项式pki，进而基于第一公钥多项式a的第一公钥多项式系数和各第二公钥多项式pki分别对应的第二公钥多项式系数确定公钥信息。在一个可选示例中，第三电子设备还可以生成对应的私钥信息，用于第二电子设备生成解密密钥信息。本实施例通过可信的第三电子设备生成公钥信息和私钥信息，可以保证私钥信息的安全信息。在一个可选示例中，本公开的方法还可以包括：将第一数量的第一向量的密文信息发送到第三电子设备进行存储，其他用户可以访问第三电子设备查询第一用户的密文信息，并利用本公开的第二电子设备侧方法确定出各第一向量与第二向量的内积，从而可以通过第三电子设备将密文信息共享给其他用户，实现第一用户的数据安全共享。具体来说，第一用户可以将其多个数据分别作为第一向量，利用本公开的方法进行处理获得各第一向量的密文信息存储到第三电子设备，第二用户可以从第三电子设备查询相关的密文信息，用于确定各第一向量和第二向量的内积，一方面第一用户可以将本地存储空间无法承受的数据存储到第三电子设备，降低本地数据存储压力，另一方面还可以通过第三电子设备实现数据的安全共享。比如用户在终端的应用程序的历史行为数据可以形成多个第一向量，进行加密后上传到云端服务器，应用程序的拥有方可以访问云端服务器，获取第一用户的历史行为数据的密文信息，通过解密结果分析第一用户的行为偏好，实现用户数据的可用不可见。具体场景可以根据实际需求设置。在实际应用中，步骤2011与步骤2021可以不分先后顺序。在一个可选实施例中，步骤202的获取第一数量的第一向量，包括：步骤2012，从第一电子设备获取第一数量的第一向量。其中，第一向量可以是第一用户待加密的数据向量，可以是实时上传到第一电子设备的，也可以是预先存储在第一电子设备的，具体不作限定。图4是本公开再一个示例性实施例提供的数据处理方法的流程示意图。本公开的方法可以用于第二电子设备，比如第二用户的终端设备、服务器，等等，具体不作限定。该方法包括以下步骤：步骤301，接收第一电子设备发送的第一数量的第一向量的密文信息，密文信息包括第二数量组的密文多项式系数，第二数量基于第一向量的元素数量确定。其中，第一电子设备为执行前述实施例方法的电子设备。密文信息参见前述实施例，在此不再赘述。步骤302，获取第二向量。示例性的，第二向量表示为y＝，第二向量的维度与第一向量相同，均为l。步骤303，基于预先获得的私钥信息、第二向量及第三映射规则，确定解密密钥信息，私钥信息包括第三数量组私钥多项式系数，第三数量为第二向量的元素数量。在一个可选示例中，私钥信息可以是从第三电子设备获得。第三数量组私钥多项式系数用于确定第三数量个私钥多项式。第三映射规则可以根据实际需求设置。解密密钥信息可以包括解密密钥多项式系数，可以用于确定解密密钥多项式。示例性的，私钥信息对应的第三数量个私钥多项式表示为{si|i∈}，其中，l表示第二向量的元素数量，si是基于高斯分布生成的多项式。解密密钥多项式可以表示为基于sky可以确定解密密钥多项式系数，作为解密密钥信息。步骤304，基于解密密钥信息、密文信息及第四映射规则，确定各第一向量分别与第二向量的内积。其中，第四映射规则可以根据实际需求设置。在一个可选示例中，第四映射规则可以表示为其中，各部分的表示参见前述内容。将pki＝asi+ei、ct0＝ar+f0和代入d得到其中属于扰动项，比较小，得到根据可得展开后的第j项的结果恰为基于此，可从第j项提取出第j个第一向量u与第二向量y的内积＜u，y＞。本公开通过第四映射规则，确定出各第一向量与第二向量的内积，实现了同时确定出多个第一向量分别与第二向量的内积，相对于相关技术的IPFE的解密过程，可以在同等资源消耗的情况下，有效提高数据处理效率。图5是本公开一示例性实施例提供的步骤304的流程示意图。在一个可选实施例中，步骤304的基于解密密钥信息、密文信息及第四映射规则，确定各第一向量分别与第二向量的内积，包括：步骤3041，基于解密密钥信息、密文信息及第四映射规则，确定第五多项式。在一个可选示例中，参见前述内容，第四映射规则表示为获得多项式d，基于将去除扰动项后的多项式作为第五多项式，去除扰动项的方式可以根据实际需求设置。最终得到的第五多项式为对应的多项式。步骤3042，从第五多项式提取预设项的系数。具体的，从第五多项式提取出第1项至第n项的系数。步骤3043，基于预设项的系数，确定各第一向量分别与第二向量的内积。其中，第j项的系数即为第j个第一向量u与第二向量y的内积＜u，y＞。本公开根据第五多项式与各内积的关系，实现了同时确定出第一数量的第一向量分别与第二向量的内积。本公开的数据处理方法，可以在保持性能和资源消耗变化不大的情况下，实现了对n个向量u的批量内积确定，在有大量向量u的情况下，能够直接将数据处理性能提升n倍，大大提升处理效率。本公开实施例提供的任一种数据处理方法可以由任意适当的具有数据处理能力的设备执行，包括但不限于：终端设备和服务器等。或者，本公开实施例提供的任一种数据处理方法可以由处理器执行，如处理器通过调用存储器存储的相应指令来执行本公开实施例提及的任一种数据处理方法。下文不再赘述。示例性装置图6是本公开一示例性实施例提供的数据处理装置的结构示意图。该实施例的装置可设置在第一电子设备，用于实现本公开相应的方法实施例，如图6所示的装置包括：第一获取模块501、第一编码模块502、第一处理模块503和发送模块504。第一获取模块501，用于获取第一数量的第一向量和公钥信息，公钥信息包括第二数量组的公钥多项式系数，第二数量基于第一向量的元素数量确定，每组公钥多项式系数用于确定一个公钥多项式。第一编码模块502，基于第一编码规则，将第一数量的第一向量编码为第三数量个第一多项式，第三数量与第一向量的元素数量相同。第一处理模块503，用于基于各第一多项式和公钥信息，确定第一数量的第一向量的密文信息，密文信息包括第二数量组的密文多项式系数。发送模块504，用于将密文信息发送给第二电子设备，以使第二电子设备基于密文信息及第二向量，确定各第一向量分别与第二向量的内积。在一个可选实施例中，第一编码模块502具体用于：将第一数量的第一向量中同一位置的元素作为一个第一多项式的系数，获得第三数量组第一多项式系数；基于第三数量组第一多项式系数，确定第三数量个第一多项式。在一个可选实施例中，第一处理模块503具体用于：基于预生成的第二多项式系数、第三多项式系数、公钥信息及第一映射规则，确定第一密文多项式系数；基于第二多项式系数、预生成的第三数量组的第四多项式系数、各第一多项式、公钥信息及第二映射规则，确定各第一多项式分别对应的第二密文多项式系数；将第一密文多项式系数和各第二密文多项式系数，作为密文信息。在一个可选实施例中，第一获取模块501具体用于：接收第三电子设备发送的公钥信息。图7是本公开另一示例性实施例提供的数据处理装置的结构示意图。该实施例的装置可设置在第二电子设备，用于实现本公开相应的方法实施例，如图7所示的装置包括：接收模块601、第二获取模块602、第二处理模块603和第三处理模块604。接收模块601，用于接收第一电子设备发送的第一数量的第一向量的密文信息，密文信息包括第二数量组的密文多项式系数，第二数量基于第一向量的元素数量确定。第二获取模块602，用于获取第二向量。第二处理模块603，用于基于预先获得的私钥信息、第二向量及第三映射规则，确定解密密钥信息，私钥信息包括第三数量组私钥多项式系数，第三数量为第二向量的元素数量。第三处理模块604，用于基于解密密钥信息、密文信息及第四映射规则，确定各第一向量分别与第二向量的内积。在一个可选实施例中，第三处理模块604具体用于：基于解密密钥信息、密文信息及第四映射规则，确定第五多项式；从第五多项式提取预设项的系数；基于预设项的系数，确定各第一向量分别与第二向量的内积。另外，本公开实施例还提供了一种电子设备，包括：存储器，用于存储计算机程序；处理器，用于执行所述存储器中存储的计算机程序，且所述计算机程序被执行时，实现本公开上述任一实施例所述的数据处理方法。图8为本公开电子设备一个应用实施例的结构示意图。如图8所示，电子设备包括一个或多个处理器和存储器。处理器可以是中央处理单元或者具有数据处理能力和/或指令执行能力的其他形式的处理单元，并且可以控制电子设备中的其他组件以执行期望的功能。存储器可以存储一个或多个计算机程序产品，所述存储器可以包括各种形式的计算机可读存储介质，例如易失性存储器和/或非易失性存储器。所述易失性存储器例如可以包括随机存取存储器和/或高速缓冲存储器等。所述非易失性存储器例如可以包括只读存储器、硬盘、闪存等。在所述计算机可读存储介质上可以存储一个或多个计算机程序产品，处理器可以运行所述计算机程序产品，以实现上文所述的本公开的各个实施例的方法以及/或者其他期望的功能。在一个示例中，电子设备还可以包括：输入装置和输出装置，这些组件通过总线系统和/或其他形式的连接机构互连。此外，该输入装置还可以包括例如键盘、鼠标等等。该输出装置可以向外部输出各种信息，包括确定出的距离信息、方向信息等。该输出设备可以包括例如显示器、扬声器、打印机、以及通信网络及其所连接的远程输出设备等等。当然，为了简化，图8中仅示出了该电子设备中与本公开有关的组件中的一些，省略了诸如总线、输入/输出接口等等的组件。除此之外，根据具体应用情况，电子设备还可以包括任何其他适当的组件。除了上述方法和设备以外，本公开的实施例还可以是计算机程序产品，其包括计算机程序指令，所述计算机程序指令在被处理器运行时使得所述处理器执行本说明书上述部分中描述的根据本公开各种实施例的方法中的步骤。所述计算机程序产品可以以一种或多种程序设计语言的任意组合来编写用于执行本公开实施例操作的程序代码，所述程序设计语言包括面向对象的程序设计语言，诸如Java、C++等，还包括常规的过程式程序设计语言，诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算设备上执行、部分地在用户设备上执行、作为一个独立的软件包执行、部分在用户计算设备上部分在远程计算设备上执行、或者完全在远程计算设备或服务器上执行。此外，本公开的实施例还可以是计算机可读存储介质，其上存储有计算机程序指令，所述计算机程序指令在被处理器运行时使得所述处理器执行本说明书上述部分中描述的根据本公开各种实施例的方法中的步骤。所述计算机可读存储介质可以采用一个或多个可读介质的任意组合。可读介质可以是可读信号介质或者可读存储介质。可读存储介质例如可以包括但不限于电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。本领域普通技术人员可以理解：实现上述方法实施例的全部或部分步骤可以通过程序指令相关的硬件来完成，前述的程序可以存储于一计算机可读取存储介质中，该程序在执行时，执行包括上述方法实施例的步骤；而前述的存储介质包括：ROM、RAM、磁碟或者光盘等各种可以存储程序代码的介质。以上结合具体实施例描述了本公开的基本原理，但是，需要指出的是，在本公开中提及的优点、优势、效果等仅是示例而非限制，不能认为这些优点、优势、效果等是本公开的各个实施例必须具备的。另外，上述公开的具体细节仅是为了示例的作用和便于理解的作用，而非限制，上述细节并不限制本公开为必须采用上述具体的细节来实现。本说明书中各个实施例均采用递进的方式描述，每个实施例重点说明的都是与其它实施例的不同之处，各个实施例之间相同或相似的部分相互参见即可。对于系统实施例而言，由于其与方法实施例基本对应，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。本公开中涉及的器件、装置、设备、系统的方框图仅作为例示性的例子并且不意图要求或暗示必须按照方框图示出的方式进行连接、布置、配置。如本领域技术人员将认识到的，可以按任意方式连接、布置、配置这些器件、装置、设备、系统。诸如“包括”、“包含”、“具有”等等的词语是开放性词汇，指“包括但不限于”，且可与其互换使用。这里所使用的词汇“或”和“和”指词汇“和/或”，且可与其互换使用，除非上下文明确指示不是如此。这里所使用的词汇“诸如”指词组“诸如但不限于”，且可与其互换使用。可能以许多方式来实现本公开的方法和装置。例如，可通过软件、硬件、固件或者软件、硬件、固件的任何组合来实现本公开的方法和装置。用于所述方法的步骤的上述顺序仅是为了进行说明，本公开的方法的步骤不限于以上具体描述的顺序，除非以其它方式特别说明。此外，在一些实施例中，还可将本公开实施为记录在记录介质中的程序，这些程序包括用于实现根据本公开的方法的机器可读指令。因而，本公开还覆盖存储用于执行根据本公开的方法的程序的记录介质。还需要指出的是，在本公开的装置、设备和方法中，各部件或各步骤是可以分解和/或重新组合的。这些分解和/或重新组合应视为本公开的等效方案。提供所公开的方面的以上描述以使本领域的任何技术人员能够做出或者使用本公开。对这些方面的各种修改对于本领域技术人员而言是非常显而易见的，并且在此定义的一般原理可以应用于其他方面而不脱离本公开的范围。因此，本公开不意图被限制到在此示出的方面，而是按照与在此公开的原理和新颖的特征一致的最宽范围。为了例示和描述的目的已经给出了以上描述。此外，此描述不意图将本公开的实施例限制到在此公开的形式。尽管以上已经讨论了多个示例方面和实施例，但是本领域技术人员将认识到其某些变型、修改、改变、添加和子组合。
