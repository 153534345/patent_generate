标题title
IEC 61850站控层网络通讯服务仿真的服务端和仿真方法
摘要abst
本发明提供了IEC 61850站控层网络通讯服务仿真的服务端和仿真方法，加载并解析仿真测试配置脚本获得全站智能电子设备仿真通讯服务所需的智能电子设备模型数据以及仿真测试行为参数；根据智能电子设备模型数据创建仿真信号内存实时数据库；配置网络通信环境；基于所有智能电子设备批量创建全站智能电子设备通信服务仿真对象；针对各仿真对象，基于网络通信环境、智能电子设备模型数据以及配置仿真测试行为参数，执行以进程的方式批量创建的IEC61850通信仿真任务。本发明通过对全站SCD模型配置信息进行剪裁，能够节省大量系统资源；可用于变电站全站内大数量级的智能电子设备IEC61850并发通信仿真行为。
权利要求书clms
1.IEC 61850站控层网络通讯服务仿真的服务端，其特征在于，包括：信息获取模块，用于加载并解析仿真测试配置脚本，获得全站智能电子设备仿真通讯服务所需的智能电子设备模型数据以及仿真测试行为参数；仿真信号内存实时数据库，用于管理智能电子设备仿真实时数据；网络通信模块，用于站控层进行网络通信；仿真对象创建模块，用于基于所有智能电子设备批量创建全站智能电子设备通信服务仿真对象；仿真任务执行模块，用于针对仿真对象创建模块创建的各仿真对象，基于网络通信模块、信息获取模块获取的智能电子设备模型数据以及配置仿真测试行为参数，制定并执行以进程的方式批量创建的IEC61850通信服务端仿真任务。2.根据权利要求1所述的IEC 61850站控层网络通讯服务仿真的服务端，其特征在于，所述服务端还包括仿真测试配置脚本生成模块，所述仿真测试配置脚本生成模块，用于获取全站SCD模型配置信息，并对全站SCD模型配置信息进行剪裁并针对变电站站控层选定通信服务的仿真行为生成仿真测试配置脚本。3.根据权利要求2所述的IEC 61850站控层网络通讯服务仿真的服务端，其特征在于，所述仿真测试配置脚本生成模块获取全站SCD模型配置信息，并对全站SCD模型配置信息进行剪裁获取用于仿真测试的配置信息，并针对变电站站控层选定通信服务的仿真行为生成仿真测试配置脚本，包括：获取全站所有智能电子设备名称，以及用于站控层网络通信的IP地址和子网掩码配置信息；获取智能电子设备的所有逻辑设备名称；获取报告控制块配置信息，基于报告控制块所引用的数据集中具有特定功能约束的单个数据属性的对象所属的公共数据类；遍历所有数据集的配置信息，记录数据集内各数据对象的功能约束FC的数据属性集合或具有特定功能约束的单个数据属性在数据集内的索引、数据引用路径、相对应的数据对象的描述、数据对象所属的公共数据类以及对应数据模板中数据属性的基本数据类型信息；根据数据集内各数据对象所属的公共数据类，判断是遥信、遥测或是遥控数据对象，查找具备控制功能的数据对象的实例化配置，根据控制模的配置值，判断控制对象的控制模式，依据数据对象所属的公共数据类判断该控制对象的控制属性为遥控、遥调或是遥设，并记录下控制对象状态值对应的仿真信号对象；基于功能约束及特定关键字，检索数据集成员数据对象，获取用于上送保护装置故障录波信息，记录下用来发送故障录波事件的数据对象，用于仿真触发故障录波事件；基于数据集及数据集成员数据对象的功能约束信息，获取保护定值和装置设备参数信息，记录下仿真对象的定值条目；同时通过读取保护逻辑设备下的定值控制块的最大允许数目numOfSGs配置，能够获取仿真对象应支持的定值区个数。4.根据权利要求1所述的IEC 61850站控层网络通讯服务仿真的服务端，其特征在于，所述仿真测试行为参数，包括仿真信号自动状态序列参数、雪崩测试测试，其中仿真信号自动状态序列参数包括仿真信号值变化上下限、仿真信号值间隔时间、以及仿真信号值变化触发次数，雪崩测试包括雪崩信号类型、雪崩信号值变化上下限、雪崩信号值变化间隔时间、雪崩持续时间。5.根据权利要求1所述的IEC 61850站控层网络通讯服务仿真的服务端，其特征在于，所述服务端还包括仿真操作人机界面，所述仿真操作人机界面用于选择遥信信号并设置遥信信号的状态值或品质，产生遥信值或品质变化事件；所述仿真操作人机界面还用于选择遥测信号并设置遥测信号的遥测值或品质，产生遥测值变化或品质变化事件；所述仿真任务执行模块，用于选择遥信信号以及设置遥信信号的状态值或品质，产生遥信值或品质变化事件，通过报告服务将遥信值或品质变化事件发送给监控系统IEC61850客户端，IEC61850客户端收到遥信值变化事件，核对遥信状态值或品质是否与仿真的一致；或者选择遥测信号以及设置遥测信号的遥测值或品质，产生遥测值变化或品质变化事件，通过报告服务将遥测值或品质变化事件发送给IEC61850客户端，IEC61850客户端收到遥测值变化事件，核对变化遥测状态值或品质是否与仿真的一致。6.根据权利要求1所述的IEC 61850站控层网络通讯服务仿真的服务端，其特征在于，所述服务端接收IEC61850客户端利用遥控请求报文发送的遥控操作命令，响应遥控请求报文，完成被控制对象对应的遥信变位响应，将遥信变化事件发送给IEC61850客户端；所述服务端还用于接收IEC61850客户端发送的遥调命令，所述仿真任务执行模块完成被控制对象的遥调值变化，将其状态值变化事件发送给IEC61850客户端；所述仿真任务执行模块，还用于根据测试策略，向IEC61850客户端发送否定响应以及附加原因码，提示操作终止，最终完成控制操作过程的闭环。7.根据权利要求1所述的IEC 61850站控层网络通讯服务仿真的服务端，其特征在于，所述服务端还包括仿真操作人机界面，所述仿真操作人机界面用于选择仿真的智能电子设备通信服务仿真对象,所述仿真任务执行模块模拟，用于生成录波并产生以及故障序号的录波事件，上送给IEC61850客户端;所述仿真任务执行模块模拟，还用于根据仿真的智能电子设备通信服务仿真对象的名字，故障序号以及录波事件的时标，按照预定的格式组成录波文件名，复制生成录波文件，以供IEC61850客户端通过文件服务进行召唤，以及IEC61850客户端确认是否收到录波完成事件及录波文件召唤是否成功。8.根据权利要求1所述的IEC 61850站控层网络通讯服务仿真的服务端，其特征在于，所述仿真任务执行模块，还用于根据IEC61850客户端传输的智能电子设备的定值对智能电子设备的定值进行读写操作及定值区切换操作；以及进行与IEC61850客户端的网络通信性能测试、与IEC61850客户端的网络通信稳定性测试，以及MMS替代协议性能对照测试。9.IEC 61850站控层网络通讯服务仿真方法，其特征在于，包括：加载并解析仿真测试配置脚本，获得全站智能电子设备仿真通讯服务所需的智能电子设备模型数据以及仿真测试行为参数；根据智能电子设备模型数据创建仿真信号内存实时数据库；配置网络通信环境，所述网络通信模块，用于站控层进行网络通信；基于所有智能电子设备批量创建全站智能电子设备通信服务仿真对象；针对各仿真对象，基于网络通信环境、智能电子设备模型数据以及仿真测试行为参数，制定并执行以进程的方式批量创建的IEC61850通信仿真任务；利用仿真信号内存实时数据库管理智能电子设备仿真实时数据。10.根据权利要求9所述的IEC 61850站控层网络通讯服务仿真方法，其特征在于， 所述方法还包括获取全站SCD模型配置信息，并对全站SCD模型配置信息进行剪裁获取用于仿真测试的配置信息，并针对变电站站控层选定通信服务的仿真行为生成仿真测试配置脚本，其中所述用于仿真测试的配置信息包括：获取全站所有智能电子设备名称，以及用于站控层网络通信的IP地址和子网掩码配置；获取智能电子设备的所有逻辑设备名称；获取报告控制块配置信息，基于报告控制块所引用的数据集中具有特定功能约束的单个数据属性的对象所属的公共数据类；从数据集中获取遥信及遥测数据集配置的数据条目，记录下每条数据条目中具有相同功能约束FC的数据属性集合或具有特定功能约束的单个数据属性在数据集内的索引、数据引用路径、相对应的数据对象的描述、数据对象所属的公共数据类以及对应数据模板中数据属性的基本数据类型信息；根据遥信类数据集内数据条目数据对象所属的公共数据类，查找具备控制功能的数据对象的实例化配置，根据控制模的配置值，判断控制对象的控制模式，依据数据对象所属的公共数据类判断该控制对象的控制属性为遥控、遥调或是遥测，并记录下控制对象状态值对应的仿真信号对象；检索用于上送保护装置故障录波信息的数据集，记录下用来发送录波完成以及故障序号的数据对象，用于仿真触发录波事件；检索保护定值数据集和设备参数数据集，记录下仿真对象的定值条目；同时通过读取保护逻辑设备PROT下的定值控制块的最大允许数目numOfSGs配置，能够获取仿真对象应支持的定值区个数。
说明书desc
技术领域本发明属于变电站自动化系统的应用领域，涉及基于IEC 61850标准针对智能变电站全站智能电子设备站控层网络通信服务的仿真方法，具体涉及IEC 61850站控层网络通讯服务仿真的服务端和仿真方法。背景技术IEC 61850是电力系统自动化领域唯一的全球通用标准，在智能变电站工程中广泛应用。IEC61850标准通过抽象通讯服务接口，定义了通讯服务的服务原语、交互流程与参数，并且通过特殊通信服务映射，将ACSI服务映射到不同的通信协议，实现具体的通信功能。目前国内外检测机构和电力二次设备制造厂家开发了IEC61850服务端仿真调试软件，往往针对单一的智能电子设备的通信服务进行仿真，主要用来验证IEC 61850的ACSI服务的一致性。对于厂站级的系统集成调试及通信性能测试，往往需要对全站上百个、甚至几百个智能电子设备构成的站控层通信网络通信服务进行系统仿真，同时批量仿真运行部署在间隔层的全站智能电子设备的通信服务端，从而模拟智能电子设备的四遥通信服务以及一些例如“雪崩”的海量变化数据通信场景。要实现这些功能，对仿真系统的厂站级数量的数据处理能力和速度都要求极高：一方面，对仿真系统的CPU、内存等资源要求高；另一方面，基于仿真系统CPU、内存等资源瓶颈限制，面对厂站级超级数量的仿真信号，需要对系统仿真信号进行轻量化设计，重构IEC61850通信服务，实时、统一管理所有智能电子设备的仿真信号数据源。目前对基于IEC 61850标准的智能电子设备服务器进行仿真，一般是通过解析智能电子设备信息模型，建立与模型匹配的内存数据库，然后启动IEC61850服务端通讯服务，提取各类用于仿真的模型信息，产生虚拟信号库，进而开展基于MMS协议的各类通信仿真操作。目前针对单一IED设备仿真的技术路线，往往通过从变电站全站模型配置文件中导出单一智能电子设备的模型文件，通过解析CID文件来创建完整的动态模型数据库，再从模型数据库中提取通信服务所需要的模型数据信息，进行通信服务仿真。如果仿真变电站内所有智能电子设备的通信服务，需要解析全站模型配置SCD文件，加载数百个设备模型配置信息。如果基于完整的模型来创建仿真数据库，则需要消耗大量系统资源，对于运行仿真系统的硬件环境提出了较高的要求，在单机上实现存在较大困难。发明内容本发明的目的提供一种基于IEC 61850的变电站全站智能电子设备的站控层通讯服务仿真方法，通过解析全站SCD模型文件并对配置信息进行剪裁，根据剪裁后的配置信息建立IED模型数据，能够节省大量系统资源。为实现上述技术目的，别发明采用以下技术方案。一方面，本发明提供IEC 61850站控层网络通讯服务仿真的服务端，包括：信息获取模块，用于加载并解析仿真测试配置脚本，获得全站智能电子设备仿真通讯服务所需的智能电子设备模型数据以及仿真测试行为参数；仿真信号内存实时数据库，用于管理智能电子设备仿真实时数据；网络通信模块，用于站控层进行网络通信；仿真对象创建模块，用于基于所有智能电子设备批量创建全站智能电子设备通信服务仿真对象；仿真任务执行模块，用于针对仿真对象创建模块创建的各仿真对象，基于网络通信模块、信息获取模块获取的智能电子设备模型数据以及配置仿真测试行为参数，制定并执行以进程的方式批量创建的IEC61850通信服务端仿真任务。进一步地，所述服务端还包括仿真测试配置脚本生成模块，所述仿真测试配置脚本生成模块，用于获取全站SCD模型配置信息，并对全站SCD模型配置信息进行剪裁并针对变电站站控层选定通信服务的仿真行为生成仿真测试配置脚本。再进一步地，所述仿真测试配置脚本生成模块获取全站SCD模型配置信息，并对全站SCD模型配置信息进行剪裁获取用于仿真测试的配置信息，并针对变电站站控层选定通信服务的仿真行为生成仿真测试配置脚本，包括：获取全站所有智能电子设备名称，以及用于站控层网络通信的IP地址和子网掩码配置信息；获取智能电子设备的所有逻辑设备名称；获取报告控制块配置信息，基于报告控制块所引用的数据集中具有特定功能约束的单个数据属性的对象所属的公共数据类；遍历所有数据集的配置信息，记录数据集内各数据对象的功能约束FC的数据属性集合或具有特定功能约束的单个数据属性在数据集内的索引、数据引用路径、相对应的数据对象的描述、数据对象所属的公共数据类以及对应数据模板中数据属性的基本数据类型信息；根据数据集内各数据对象所属的公共数据类，判断是遥信、遥测或是遥控数据对象，查找具备控制功能的数据对象的实例化配置，根据控制模的配置值，判断控制对象的控制模式，依据数据对象所属的公共数据类判断该控制对象的控制属性为遥控、遥调或是遥设，并记录下控制对象状态值对应的仿真信号对象；基于功能约束及特定关键字，检索数据集成员数据对象，获取用于上送保护装置故障录波信息，记录下用来发送故障录波事件的数据对象，用于仿真触发故障录波事件；基于数据集及数据集成员数据对象的功能约束信息，获取保护定值和装置设备参数信息，记录下仿真对象的定值条目；同时通过读取保护逻辑设备下的定值控制块的最大允许数目numOfSGs配置，能够获取仿真对象应支持的定值区个数。4.根据权利要求1所述的IEC 61850站控层网络通讯服务仿真的服务端，其特征在于，所述仿真测试行为参数，包括仿真信号自动状态序列参数、雪崩测试测试，其中仿真信号自动状态序列参数包括仿真信号值变化上下限、仿真信号值间隔时间、以及仿真信号值变化触发次数，雪崩测试包括雪崩信号类型、雪崩信号值变化上下限、雪崩信号值变化间隔时间、雪崩持续时间。进一步地，所述服务端还包括仿真操作人机界面，所述仿真操作人机界面用于选择遥信信号并设置遥信信号的状态值或品质，产生遥信值或品质变化事件；所述仿真操作人机界面还用于选择遥测信号并设置遥测信号的遥测值或品质，产生遥测值变化或品质变化事件；所述仿真任务执行模块，用于选择遥信信号以及设置遥信信号的状态值或品质，产生遥信值或品质变化事件，通过报告服务将遥信值或品质变化事件发送给监控系统IEC61850客户端，IEC61850客户端收到遥信值变化事件，核对遥信状态值或品质是否与仿真的一致；或者选择遥测信号以及设置遥测信号的遥测值或品质，产生遥测值变化或品质变化事件，通过报告服务将遥测值或品质变化事件发送给IEC61850客户端，IEC61850客户端收到遥测值变化事件，核对变化遥测状态值或品质是否与仿真的一致。进一步地，所述服务端接收IEC61850客户端利用遥控请求报文发送的遥控操作命令，响应遥控请求报文，完成被控制对象对应的遥信变位响应，将遥信变化事件发送给IEC61850客户端；所述服务端还用于接收IEC61850客户端发送的遥调命令，所述仿真任务执行模块完成被控制对象的遥调值变化，将其状态值变化事件发送给IEC61850客户端；所述仿真任务执行模块，还用于根据测试策略，向IEC61850客户端发送否定响应以及附加原因码，提示操作终止，最终完成控制操作过程的闭环。进一步地，所述服务端还包括仿真操作人机界面，所述仿真操作人机界面用于选择仿真的智能电子设备通信服务仿真对象,所述仿真任务执行模块模拟，用于生成录波并产生以及故障序号的录波事件，上送给IEC61850客户端;所述仿真任务执行模块模拟，还用于根据仿真的智能电子设备通信服务仿真对象的名字，故障序号以及录波事件的时标，按照预定的格式组成录波文件名，复制生成录波文件，以供IEC61850客户端通过文件服务进行召唤，以及IEC61850客户端确认是否收到录波完成事件及录波文件召唤是否成功。进一步地，所述仿真任务执行模块，还用于根据IEC61850客户端传输的智能电子设备的定值对智能电子设备的定值进行读写操作及定值区切换操作；以及进行与IEC61850客户端的网络通信性能测试、与IEC61850客户端的网络通信稳定性测试，以及MMS替代协议性能对照测试。第二方面，本发明提供了IEC 61850站控层网络通讯服务仿真方法，包括：加载并解析仿真测试配置脚本，获得全站智能电子设备仿真通讯服务所需的智能电子设备模型数据以及仿真测试行为参数；根据智能电子设备模型数据创建仿真信号内存实时数据库；配置网络通信环境，所述网络通信模块，用于站控层进行网络通信；基于所有智能电子设备批量创建全站智能电子设备通信服务仿真对象；针对各仿真对象，基于网络通信环境、智能电子设备模型数据以及仿真测试行为参数，制定并执行以进程的方式批量创建的IEC61850通信仿真任务；利用仿真信号内存实时数据库管理智能电子设备仿真实时数据。进一步地，所述方法还包括获取全站SCD模型配置信息，并对全站SCD模型配置信息进行剪裁获取用于仿真测试的配置信息，并针对变电站站控层选定通信服务的仿真行为生成仿真测试配置脚本，其中所述用于仿真测试的配置信息包括：获取全站所有智能电子设备名称，以及用于站控层网络通信的IP地址和子网掩码配置；获取智能电子设备的所有逻辑设备名称；获取报告控制块配置信息，基于报告控制块所引用的数据集中具有特定功能约束的单个数据属性的对象所属的公共数据类；从数据集中获取遥信及遥测数据集配置的数据条目，记录下每条数据条目中具有相同功能约束FC的数据属性集合或具有特定功能约束的单个数据属性在数据集内的索引、数据引用路径、相对应的数据对象的描述、数据对象所属的公共数据类以及对应数据模板中数据属性的基本数据类型信息；根据遥信类数据集内数据条目数据对象所属的公共数据类，查找具备控制功能的数据对象的实例化配置，根据控制模的配置值，判断控制对象的控制模式，依据数据对象所属的公共数据类判断该控制对象的控制属性为遥控、遥调或是遥测，并记录下控制对象状态值对应的仿真信号对象；检索用于上送保护装置故障录波信息的数据集，记录下用来发送录波完成以及故障序号的数据对象，用于仿真触发录波事件；检索保护定值数据集和设备参数数据集，记录下仿真对象的定值条目；同时通过读取保护逻辑设备PROT下的定值控制块的最大允许数目numOfSGs配置，能够获取仿真对象应支持的定值区个数。本发明所取得的有益技术效果：本发明的仿真方法对全站SCD模型配置信息进行剪裁获得全站智能电子设备仿真通讯服务所需的智能电子设备模型数据以及配置仿真测试行为参数，能够节省大量系统资源；可用于变电站全站内大数量级的智能电子设备IEC61850并发通信仿真行为，通过批量并行仿真智能电子设备，可替代物理设备，快速仿真构建厂站级的站控层网络通信环境，对复杂网络环境下的系统级集成调试和验证提供支撑，一方面给工程调试中的通信对点调试，如遥信调试、遥测调试、遥控调试带来便利，显著提高了信号对点调试的工作效率；另外一方面，系统支持仿真信号自动状态序列和雪崩测试功能，为变电站自动化系统的雪崩性能测试及稳定性测试提供了一种有效手段。此外，本发明基于SCD模型文件中IED对象，以进程方式创建IED通信服务端仿真任务，即以IED为对象创建多个通信服务任务，这些任务以进程方式存在，彼此独立无耦合。附图说明图1为具体实施例中全站智能电子设备仿真系统架构图；图2为具体实施例中从SCD模型配置生成仿真测试配置脚本的原理图；图3为具体实施例IED仿真原理示意图。具体实施方式以下结合说明书附图和具体实施例对本发明做进一步说明。实施例1：IEC 61850站控层网络通讯服务仿真方法，包括：步骤一：加载并解析仿真测试配置脚本，获得全站智能电子设备仿真通讯服务所需的智能电子设备模型数据以及仿真测试行为参数。本实施例中，预先采用如下方法生成仿真测试配置脚本，包括：解析全站SCD模型配置文件，针对变电站自动化系统站控层网络通信服务，对全站SCD模型配置信息进行剪裁，提取智能电子设备仿真通讯服务所需的配置信息即IED仿真任务创建通信服务涉及的IED模型数据信息，配置仿真测试行为参数；所述仿真测试行为参数用于通信仿真行为控制，如自动状态序列的值变化上下限、间隔时间，雪崩信号的间隔时间、持续时间、信号类型等。为方便快速加载模型配置信息，本实施例中根据提取的配置信息和仿真测试行为参数生成通信服务的仿真测试配置脚本。步骤二：基于仿真测试配置脚本中智能电子设备通信参数，配置全站网络通信环境；基于所有智能电子设备批量创建全站智能电子设备通信服务仿真对象；基于仿真测试配置脚本中的四遥数据信息以及仿真测试行为参数，创建轻量级的仿真信号内存实时数据库；所述仿真信号内存实时数据库用于仿真信号实时数据的管理，对外提供信号实时数据的读写访问接口。仿真信号内存实时数据库中的仿真信号对象是基于IED模型数据信息创建的，如定值控制块、控制对象、数据集等。步骤三：针对各仿真对象，基于网络通信环境、智能电子设备模型数据以及配置仿真测试行为参数，制定并执行以进程的方式批量创建的IEC61850通信仿真任务。如图2所示，步骤一的具体方法如下：1）解析全站SCD模型文件，获取全站所有智能电子设备名称以及用于站控层网络通信的IP地址和子网掩码配置；2）从全站SCD模型文件中获取智能电子设备的所有逻辑设备名称，用于仿真服务端响应IEC61850客户端GetServerDirectory服务读取逻辑设备名称；3）从全站SCD模型文件中获取报告控制块配置信息，根据报告控制块名称以及本报告控制块所引用的数据集名称，确认用于遥信或遥测功能的数据集；4）从数据集中获取遥信及遥测数据集配置的数据条目，记录下每条数据条目FCD或FCDA在数据集内的索引、数据引用路径、相对应的数据对象的描述、数据对象所属的公共数据类以及对应数据模板中数据属性的基本数据类型等信息；5）根据遥信类数据集内数据条目的CDC，查找具备控制功能的DO的实例化配置，根据控制模式的配置值，判断该数据对象是否为遥控以及遥调对象，并记录下控制对象对应的状态遥信对象。6）检索用于上送保护装置故障录波信息的数据集，记录下用来发送录波完成以及故障序号的数据对象，用于仿真触发录波事件。7）检索保护定值数据集和设备参数数据集，记录下仿真对象的定值条目；同时通过读取保护逻辑设备PROT下的定值控制块SGCB的numOfSGs配置，可获取仿真对象应支持的定值区个数。8）配置仿真测试行为参数，包括选择触发的信号，设置信号变化时间间隔、触发次数等等，最终生成仿真测试配置脚本。由通信仿真任务解析仿真测试配置脚本，实现对全站IED站控层网络通讯行为的仿真，配合变电站自动化监控系统，开展自动化系统的通信对点测试，信号雪崩测试，以及系统稳定性测试。步骤二方法包括：1）创建仿真系统的人机界面操作主进程，加载仿真测试配置脚本，以IED为对象创建仿真对象的遥信、遥测、遥控与遥调等各类数据操作与显示界面；以IED为对象创建共享内存，用于人机操作主任务与IEC61850通信仿真任务的仿真数据与信息交互。所述人机界面操作主进程负责模型文件的加载和解析，创建仿真信号实时数据库，并以IED为对象创建各类仿真信号视图及仿真操作；该主进程还负责各通信服务子进程的创建和管理，及仿真操作和实时数据库管理等。2）基于IED仿真对象加载测试脚本，也就是从脚本文件中获取各自的仿真数据信息及仿真行为参数，创建仿真信号内存实时数据库，并批量创建IEC61850通信仿真任务，实现IEC61850通信服务并发运行。3）根据脚本中的网络协议配置，完成基于MMS或CMS协议的通讯服务端的主套接字初始化，用来响应监控系统IEC61850客户端的通信连接请求，建立通信连接。步骤三中，启动智能电子设备IEC61850仿真任务，实现全站智能遥信、遥测、遥控、遥调等功能测试、监控系统信号雪崩性能测试及稳定性测试，其方法包括：仿真过程一，遥信对点功能调试：在仿真系统人机操作界面设置仿真数据对象的状态值，产生遥信的变化事件，由IEC61850通信服务子任务将遥信变化事件发送给监控系统IEC61850客户端，在监控系统核对遥信记录是否与仿真对象的描述一致。仿真过程二，遥测对点功能调试：调试方法同遥信功能类似，在仿真服务端遥测数据集界面设置仿真数据对象的遥测值或品质，产生变化遥测，然后通过IEC61850通信子任务上送，并在监控系统界面观察确认。仿真过程三，遥控功能调试：在监控系统选择遥控对象发送遥控操作命令，仿真服务端完成被控制对象对应的遥信变位响应，将遥信变化事件上送给客户端；或者根据测试配置脚本的策略，向客户端发送否定响应以及附加原因码，提示操作终止，最终完成控制操作过程的闭环。仿真过程四，遥调功能调试：在监控系统选择遥调对象发送遥调命令，仿真服务端完成被控制对象的遥调值变化，将变化事件上送给客户端；或者根据测试配置脚本的策略，向客户端发送否定响应以及附加原因码，提示操作终止，最终完成控制操作过程的闭环。仿真过程五，故障录波功能调试：在仿真系统人机操作界面，选择仿真IED，产生录波信息的仿真对象，模拟生成录波完成以及故障序号的录波事件，上送给客户端。同时根据仿真IED的名字，故障序号以及录波事件的时标，按照预定的格式组成录波文件名，复制生成录波文件，以供IEC61850客户端通过文件服务进行召唤，并在监控系统确认是否收到录波完成事件及录波文件召唤是否成功。仿真过程六，定值功能测试：在监控系统定值操作界面通过IEC61850定值服务召唤并修改仿真IED的定值。仿真过程七，监控系统通信性能测试：基于脚本配置中雪崩测试行为参数如信号触发时间间隔、持续时间等，模拟全站智能电子设备雪崩信号，测试监控系统网络通信处理能力，期间观察监控系统运行是否正常、与智能电子设备通信连接是否正常、信号是否丢失及CPU和内存资源消耗负荷情况等。仿真过程八，监控系统通信稳定性测试：基于脚本配置中稳定性测试行为参数，模拟全站智能电子设备实际运行状态。智能电子设备IEC61850通信服务子进程实时记录运行中通信的异常信息，如断开连接、重新连接等，通过这些诊断信息可以实时监测和分析监控系统通信运行状态。仿真过程九，启动变电站监控系统等IEC61850客户端，与全站智能电子设备仿真对象建立基于MMS协议或者CMS协议的通信连接，进行变电站自动化系统“四遥”等功能的集成调试、站控层系统网络通信性能及稳定性测试等各项操作。MMS替代协议性能对照测试：基于仿真操作界面，切换选择不同的通信协议，启动通信服务进程，分别与监控系统进行通信仿真，抓取网络报文进行对照分析。可选地还能进行编解码效能、报文传输实时性比对等。IEC61850目前已广泛应用于国内的变电站自动化系统中，目前采用变电站站控层通信协议替代MMS协议实现IEC 61850的站控层ACSI服务映射，需要对比论证采用CMS协议替代MMS协议技术方案的适用性以及优越性，验证自动化系统集成配置的一致性，并测试替代MMS协议之后站控层网络通信性能以及稳定性。目前，面向厂站级的系统集成调试和通信性能测试，同时支持CMS协议以及MMS协议的IEC 61850站控层通讯服务端仿真，还缺乏有效的手段。本发明的仿真方法同时支持MMS以及变电站站控层国产化CMS通信协议，可以用来对比验证MMS替代方案的适用性以及优越性，对于推进国产化变电站自动化系统核心网络协议栈技术的自主可控有着积极与重要的意义。本发明提供的整个仿真方法是用于仿真IEC61850通信服务，实现的是通信服务的服务端的功能，IEC61850客户端只是通信服务的客户端可以调试工具也可以监控SCADA机系统，作为专利描述IEC61850客户端不是重点。本仿真对象主要用于监控系统IEC61850通信服务的通信服务能力的测试。监控系统通过解析SCD文件获取全站的智能电子设备的模型信息，这里主要包括遥信、遥测、遥控、定值等。SCD文件是全站智能电子设备模型信息CID模型文件的集合，做为IED通信服务仿真用到的是CID模型文件，这里不用CID模型文件，直接从SCD模型文件中提取该IED的模型信息。客户端基于通信服务与服务端进行通信获取数据，其中遥信或遥测数据通过报告服务，定值通过定值服务，故障录波波形文件通过文件服务等。数据流向即IEC61850通信服务解决的问题，无需特别说明。基于同一发明构思，与以上实施例提供的IEC 61850站控层网络通讯服务仿真方法相对应的，本发明具体实施例还提供了IEC 61850站控层网络通讯服务仿真的服务端，包括：信息获取模块，用于加载并解析仿真测试配置脚本，获得全站智能电子设备仿真通讯服务所需的智能电子设备模型数据以及仿真测试行为参数；仿真信号内存实时数据库，用于管理智能电子设备仿真实时数据；网络通信模块，用于站控层进行网络通信；仿真对象创建模块，用于基于所有智能电子设备批量创建全站智能电子设备通信服务仿真对象；仿真任务执行模块，用于针对仿真对象创建模块创建的各仿真对象，基于网络通信模块、信息获取模块获取的智能电子设备模型数据以及配置仿真测试行为参数，制定并执行以进程的方式批量创建的IEC61850通信服务端仿真任务。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统，装置/模块的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。以上结合附图对本发明的实施例进行了描述，但是本发明并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本发明的启示下，在不脱离本发明宗旨和权利要求所保护的范围情况下，还可做出很多形式，这些均属于本发明的保护之内。以上结合附图对本发明的实施例进行了描述，但是本发明并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本发明的启示下，在不脱离本发明宗旨和权利要求所保护的范围情况下，还可做出很多形式，这些均属于本发明的保护之内。
