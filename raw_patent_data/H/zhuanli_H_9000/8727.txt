标题title
一种基于MEC协作的车联网资源分配方法
摘要abst
本发明设计了一种基于MEC协作的车联网资源分配方法，其方法包括以下步骤：首先构建了基于MEC协作的车联网模型，包括多个基站、多个MEC服务器、多个车辆用户和多个有线链路与无线链路。基于该系统模型，以最小化所有车辆用户总时延为目标函数，同时保证车辆用户与边缘节点的匹配关系以及边缘节点的用户服务数量上限，规划资源分配优化问题。针对规划的优化问题，提出一种基于拉格朗日对偶方法的资源分配方法。该资源分配方法不仅可以有效的计算车辆用户与边缘节点的匹配关系，还有计算简单的特点。本发明可针对MEC协作的车联网系统，有效的降低系统总时延。
权利要求书clms
1.一种基于MEC协作的车联网资源分配方法，在以下系统中运行计算业务，该系统包括多个边缘节点和多个车辆用户，其中边缘节点包括MEC服务器和基站；车辆用户和边缘节点的集合分别表示为Φ＝{1,...,I},Ψ＝{1,...,J}，I和J分别为车辆用户和边缘节点的总数量，车辆用户通过无线信道将任务信息卸载到边缘节点，通过无线信道与车辆用户直接通信的边缘节点被称为主节点，变量xij∈{0,1}表示车辆用户与主节点的匹配关系；主节点接收到任务信息后，将任务分为两部分，一边通过MEC服务器计算其子任务，一边将剩余的任务通过有线链路传输至另一边缘节点，这种通过有线链路与主节点相连，接收剩余任务并协助主节点完成计算任务的边缘节点称为次节点；变量αij∈表示主节点承担的子任务在总任务中的比例；变量yij∈{0,1}表示车辆用户与次节点的匹配关系，变量βij∈表示次节点承担的子任务在总任务中的比例，αij+βij＝1；次节点在完全接收对应子任务后再通过MEC服务器开始计算，设计算结果数据量极小，因此忽略计算结果发送至车辆用户的时间；主、次节点均完成子任务后，视为总任务完成；每个车辆用户只能选择一个主节点、一个次节点，因此针对以上MEC协作系统模型，规划优化问题，并且根据拉格朗日对偶方法对优化问题进行求解，该方法具体步骤如下：1)问题规划计算产生的时延车辆用户i在主节点、次节点处的计算时间分别为：其中，si表示第i个车辆用户完成任务所需要的CPU周期数，cj表示每个车辆用户在第j个边缘节点处分得的计算能力，C表示每个边缘节点的总计算能力，设每个MEC服务器都有一个多核处理器并允许其同时处理多个用户的子任务，为了公平起见，边缘节点的计算能力在每个时隙内被所有用户平分，每个MEC服务器能服务的用户数量上限为Sj，卸载产生的时延车辆用户和主节点之间的上行链路的数据传输速率表示为：其中，W表示带宽，θij表示第i个车辆用户与第j个边缘节点之间上行链路的信干噪比，车辆用户将总任务卸载至主节点的卸载时间表达式为：车辆用户的子任务从主节点卸载至次节点的时间表达式为：其中，R表示有线链路的数据传输速率；车辆用户卸载总时延表达式为：时延分析主节点所用的时间包括两部分，一部分为车辆用户将总任务通过无线信道卸载至主节点的传输时间，一部分为主节点完成子任务的计算时间，主节点完成子任务所需要的时间为：次节点所用的时间包括三部分，一部分为车辆用户将总任务通过无线信道卸载至主节点的传输时间，一部分为子任务从主节点卸载至次节点的传输时间，一部分为次节点完成子任务的计算时间，故次节点完成车辆用户的子任务所需要的时间为：由于主节点和次节点的子任务相互独立，因此总时间应为所有任务均完成所用的时间，车辆用户所有任务完成所需的总时间为：其中，max表示取二者中的最大值；优化问题表述以最小化总时延为目标函数，同时以节点选择变量和任务比例变量的要求为约束，规划出如下优化问题C4:0≤αij,βij≤1,i∈Φ,j∈ΨC5:xij∈{0,1},i∈Φ,j∈ΨC6:yij∈{0,1},i∈Φ,j∈Ψ其中，s.t.表示约束符号，C1、C2、C3、C4、C5、C6、C7和C8表示约束式符号。约束C1表示单个车辆用户子任务之和为1；约束C2、C3分别表示每个车辆用户只能有一个主节点和一个次节点；约束C4给出了任务比例变量的取值范围；约束C5、C6给出了节点选择变量的取值范围；约束C7、C8分别表示主、次节点的用户服务数量上限；2)优化问题求解任务比例变量求解由于主节点和次节点分别承担一部分任务，且二者子任务相互独立，因此总时延等于二者中用时更长的节点的时延，考虑到即对于单个用户而言，其总任务一定，α和β中，一个比例系数的减少将导致另一个比例系数的增加，在单个用户总任务不变的情况下，当主节点与次节点同时完成任务时，总时延最短，故可以得到如下表达式：联立等式得到子任务比例系数的最优解表达式如下：节点选择变量求解由于第i个车辆用户的总时延可以表示为：所有用户的总时延可以表示为：此时，优化问题可以表示为：C5:xij∈{0,1},i∈Φ,j∈ΨC6:yij∈{0,1},i∈Φ,j∈Ψ该问题为整数规划问题，难以直接求解，将xij、yij的取值范围松弛为，同时引入辅助变量Q＝{Q1,...,QJ}、P＝{P1,...,PJ}，定义并将下列式子添加到约束条件中：其中，Qj表示边缘节点j作为主节点服务的车辆用户的数量，Pj表示边缘节点j作为次节点服务的车辆用户的数量；新的优化问题可以表示为：C5:xij∈{0,1},i∈Φ,j∈ΨC6:yij∈{0,1},i∈Φ,j∈Ψ用拉格朗日对偶方法求解，设λ＝{λ1,λ2,...,λJ}和μ＝{μ1,μ2,...,μJ}为相关限制条件的拉格朗日因子，该最优化问题的拉格朗日函数表达式为：其中L表示拉格朗日函数，表示第t次迭代时，对应变量的值，这里Qj、Pj表示t-1次迭代时边缘节点j作为主节点、次节点服务的车辆用户数量；原问题的对偶问题表达式为：其中，为求解对偶函数最优解，可以将其按照用户分为I个子问题，对于每个子问题，对目标函数求一阶导数，可得：此时Tij,1和Tij,2为自变量为Qj、Pj的函数，具体计算时应代入Qj、Pj在第t-1次迭代时的结果；在节点选择变量的限制条件C2,C3,C6,C7下，已知每个用户只能选择一个主节点和一个次节点，显然，最优的节点选择变量和应采用“赢者通吃”策略，第i个车辆用户的最优节点选择策略如下：为求得最优拉格朗日因子λ*、μ*及最优辅助变量Q*、P*，可以采用迭代的方法，具体步骤如下：变量初始化：迭代次数t＝0，拉格朗日因子初始值λ、μ以及辅助变量初始值Q、P为非负实数并设置目标精度；用λ、μ表示t时刻的拉格朗日因子，Q、P表示t时刻的辅助变量，代入前面推导的公式，求解最优节点选择变量根据如下公式迭代更新λ、μ、Q、P；其中，s为步长，符号+＝max{0,z}；若λ、μ满足预设精度要求，则λ*＝λ、μ*＝μ、Q*＝Q、P*＝P并退出迭代，若不满足，则迭代次数t＝t+1,跳转至步骤2)，继续迭代，直到满足预先设定的求解精度。
说明书desc
技术领域本发明涉及车联网中任务卸载和资源优化领域，具体涉及一种基于MEC协作的车联网资源分配方法。背景技术近年来，汽车行业发展迅猛，智能化、网联化已成为汽车行业未来发展的重要趋势。不仅车辆的数量显著增加，车辆的性能也逐渐被优化变得更加智能。汽车制造商为汽车配备了各种先进的技术，以满足互联互通和提高交通安全的需求。这些技术一方面使得车辆与其它车辆和与基础设施之间的通信和信息交换成为可能，有助于构建安全、协作和智能的交通系统；另一方面又会产生大量数据，同时对计算、通信、内容的需求大幅增加。由此车联网将面临在资源限制、高时延要求和拓扑变化下处理大量数据的挑战。通过将车联网中车辆用户的计算密集型任务迁移到部署在网络边缘的边缘节点，移动边缘计算已经成为了一种显著提高移动应用程序性能的技术。移动边缘计算将远端云服务器的计算和存储的能力移动到更靠近设备的网络边缘，可以实现在本地部署一些合适的服务，满足车联网所需要的高带宽和低时延的环境，即通过无线接入网提供云计算能力和环境后，将原本在云计算上进行计算和存储的任务能够直接被转移到更靠近用户的边缘端，这样一些需要低时延的车辆终端的服务能够部署在边缘端，来满足智能交通计算要求。然而，当前的MEC系统中还存在一些问题，比如车辆用户分布不均匀可能会导致部分MEC服务器计算任务过多而其他MEC服务器任务较少。在这种情况下，部分用户的时延过高，导致总时延过高。专利号为CN113992677、发明人为张先超等、发明名称为“一种延迟与能耗联合优化的MEC计算卸载方法”中提出了一种MEC计算卸载方法。该方法以延迟、能耗为约束，构建计算卸载成本评价模型，为确定卸载目标，设计服务器选择算子，优先选择满足任务响应延迟的服务器执行卸载计算。但是该方法在车辆用户分布不均匀时可能会造成卸载时间过长，不能最小化系统总时延。因此现有的方法仅适用于车辆分布较为均匀的情况，对于分布不均导致的额外卸载时延不能有效减少。发明内容为克服现有技术中的不足，本发明提出了一种基于MEC协作的车联网资源分配方法，以解决在车辆用户分布不均匀时总时延过高的问题。本发明采用的技术方案如下：一种基于MEC协作的车联网资源分配方法，在以下系统中运行计算业务，该系统包括多个边缘节点和多个车辆用户，其中边缘节点包括MEC服务器和基站；车辆用户和边缘节点的集合分别表示为Φ＝{1,...,I},Ψ＝{1,...,J}，I和J分别为车辆用户和边缘节点的总数量，车辆用户通过无线信道将任务信息卸载到边缘节点，通过无线信道与车辆用户直接通信的边缘节点被称为主节点，变量xij∈{0,1}表示车辆用户与主节点的匹配关系；主节点接收到任务信息后，将任务分为两部分，一边通过MEC服务器计算其子任务，一边将剩余的任务通过有线链路传输至另一边缘节点，这种通过有线链路与主节点相连，接收剩余任务并协助主节点完成计算任务的边缘节点称为次节点；变量αij∈表示主节点承担的子任务在总任务中的比例；变量yij∈{0,1}表示车辆用户与次节点的匹配关系，变量βij∈表示次节点承担的子任务在总任务中的比例，αij+βij＝1；次节点在完全接收对应子任务后再通过MEC服务器开始计算，设计算结果数据量极小，因此忽略计算结果发送至车辆用户的时间；主、次节点均完成子任务后，视为总任务完成；每个车辆用户只能选择一个主节点、一个次节点，因此针对以上MEC协作系统模型，规划优化问题，并且根据拉格朗日对偶方法对优化问题进行求解，该方法具体步骤如下：1)问题规划计算产生的时延车辆用户i在主节点、次节点处的计算时间分别为：其中，si表示第i个车辆用户完成任务所需要的CPU周期数，cj表示每个车辆用户在第j个边缘节点处分得的计算能力，C表示每个边缘节点的总计算能力，设每个MEC服务器都有一个多核处理器并允许其同时处理多个用户的子任务，为了公平起见，边缘节点的计算能力在每个时隙内被所有用户平分，每个MEC服务器能服务的用户数量上限为Sj，卸载产生的时延车辆用户和主节点之间的上行链路的数据传输速率表示为：其中，W表示带宽，θij表示第i个车辆用户与第j个边缘节点之间上行链路的信干噪比，车辆用户将总任务卸载至主节点的卸载时间表达式为：车辆用户的子任务从主节点卸载至次节点的时间表达式为：其中，R表示有线链路的数据传输速率；车辆用户卸载总时延表达式为：时延分析主节点所用的时间包括两部分，一部分为车辆用户将总任务通过无线信道卸载至主节点的传输时间，一部分为主节点完成子任务的计算时间，主节点完成子任务所需要的时间为：次节点所用的时间包括三部分，一部分为车辆用户将总任务通过无线信道卸载至主节点的传输时间，一部分为子任务从主节点卸载至次节点的传输时间，一部分为次节点完成子任务的计算时间，故次节点完成车辆用户的子任务所需要的时间为：由于主节点和次节点的子任务相互独立，因此总时间应为所有任务均完成所用的时间，车辆用户所有任务完成所需的总时间为：其中，max表示取二者中的最大值；优化问题表述以最小化总时延为目标函数，同时以节点选择变量和任务比例变量的要求为约束，规划出如下优化问题C4:0≤αij,βij≤1,i∈Φ,j∈ΨC5:xij∈{0,1},i∈Φ,j∈ΨC6:yij∈{0,1},i∈Φ,j∈Ψ其中，s.t.表示约束符号，C1、C2、C3、C4、C5、C6、C7和C8表示约束式符号。约束C1表示单个车辆用户子任务之和为1；约束C2、C3分别表示每个车辆用户只能有一个主节点和一个次节点；约束C4给出了任务比例变量的取值范围；约束C5、C6给出了节点选择变量的取值范围；约束C7、C8分别表示主、次节点的用户服务数量上限；2)优化问题求解任务比例变量求解由于主节点和次节点分别承担一部分任务，且二者子任务相互独立，因此总时延等于二者中用时更长的节点的时延，考虑到即对于单个用户而言，其总任务一定，α和β中，一个比例系数的减少将导致另一个比例系数的增加，在单个用户总任务不变的情况下，当主节点与次节点同时完成任务时，总时延最短，故可以得到如下表达式：联立等式得到子任务比例系数的最优解表达式如下：节点选择变量求解由于第i个车辆用户的总时延可以表示为：所有用户的总时延可以表示为：此时，优化问题可以表示为：C5:xij∈{0,1},i∈Φ,j∈ΨC6:yij∈{0,1},i∈Φ,j∈Ψ该问题为整数规划问题，难以直接求解，将xij、yij的取值范围松弛为，同时引入辅助变量Q＝{Q1,...,QJ}、P＝{P1,...,PJ}，定义并将下列式子添加到约束条件中：其中，Qj表示边缘节点j作为主节点服务的车辆用户的数量，Pj表示边缘节点j作为次节点服务的车辆用户的数量；新的优化问题可以表示为：C5:xij∈{0,1},i∈Φ,j∈ΨC6:yij∈{0,1},i∈Φ,j∈Ψ用拉格朗日对偶方法求解，设λ＝{λ1,λ2,...,λJ}和μ＝{μ1,μ2,...,μJ}为相关限制条件的拉格朗日因子，该最优化问题的拉格朗日函数表达式为：其中L表示拉格朗日函数，表示第t次迭代时，对应变量的值，这里Qj、Pj表示t-1次迭代时边缘节点j作为主节点、次节点服务的车辆用户数量；原问题的对偶问题表达式为：其中，为求解对偶函数最优解，可以将其按照用户分为I个子问题，对于每个子问题，对目标函数求一阶导数，可得：此时Tij,1和Tij,2为自变量为Qj、Pj的函数，具体计算时应代入Qj、Pj在第t-1次迭代时的结果；在节点选择变量的限制条件C2,C3,C6,C7下，已知每个用户只能选择一个主节点和一个次节点，显然，最优的节点选择变量和应采用“赢者通吃”策略，第i个车辆用户的最优节点选择策略如下：为求得最优拉格朗日因子λ*、μ*及最优辅助变量Q*、P*，可以采用迭代的方法，具体步骤如下：变量初始化：迭代次数t＝0，拉格朗日因子初始值λ、μ以及辅助变量初始值Q、P为非负实数并设置目标精度；用λ、μ表示t时刻的拉格朗日因子，Q、P表示t时刻的辅助变量，代入前面推导的公式，求解最优节点选择变量根据如下公式迭代更新λ、μ、Q、P；其中，s为步长，符号+＝max{0,z}；若λ、μ满足预设精度要求，则λ*＝λ、μ*＝μ、Q*＝Q、P*＝P并退出迭代，若不满足，则迭代次数t＝t+1,跳转至步骤2)，继续迭代，直到满足预先设定的求解精度。本发明方法的显著优点在于充分考虑了MEC协作以及拉格朗日方法对于车联网资源分配问题的优化性能。通过MEC协作的方式，将边缘节点的计算资源充分利用。在满足车辆用户与边缘节点匹配关系限制条件的情况下，实现了所有用户总时延的最小化，等价于减少了车辆用户的平均时延。附图说明图1为本发明系统结构方框示意图。具体实施方式下面结合附图和实施例对本发明作进一步说明，但不限于此。实施例:一种基于MEC协作的车联网资源分配方法，在以下系统中运行计算业务，如图1所示,该系统包括多个边缘节点和多个车辆用户，其中边缘节点包括MEC服务器和基站；车辆用户和边缘节点的集合分别表示为Φ＝{1,...,I},Ψ＝{1,...,J}，I和J分别为车辆用户和边缘节点的总数量，车辆用户通过无线信道将任务信息卸载到边缘节点，通过无线信道与车辆用户直接通信的边缘节点被称为主节点，变量xij∈{0,1}表示车辆用户与主节点的匹配关系；主节点接收到任务信息后，将任务分为两部分，一边通过MEC服务器计算其子任务，一边将剩余的任务通过有线链路传输至另一边缘节点，这种通过有线链路与主节点相连，接收剩余任务并协助主节点完成计算任务的边缘节点称为次节点；变量αij∈表示主节点承担的子任务在总任务中的比例；变量yij∈{0,1}表示车辆用户与次节点的匹配关系，变量βij∈表示次节点承担的子任务在总任务中的比例，αij+βij＝1；次节点在完全接收对应子任务后再通过MEC服务器开始计算，设计算结果数据量极小，因此忽略计算结果发送至车辆用户的时间；主、次节点均完成子任务后，视为总任务完成；每个车辆用户只能选择一个主节点、一个次节点，因此针对以上MEC协作系统模型，规划优化问题，并且根据拉格朗日对偶方法对优化问题进行求解，该方法具体步骤如下：1)问题规划计算产生的时延车辆用户i在主节点、次节点处的计算时间分别为：其中，si表示第i个车辆用户完成任务所需要的CPU周期数，cj表示每个车辆用户在第j个边缘节点处分得的计算能力，C表示每个边缘节点的总计算能力，设每个MEC服务器都有一个多核处理器并允许其同时处理多个用户的子任务，为了公平起见，边缘节点的计算能力在每个时隙内被所有用户平分，每个MEC服务器能服务的用户数量上限为Sj，卸载产生的时延车辆用户和主节点之间的上行链路的数据传输速率表示为：其中，W表示带宽，θij表示第i个车辆用户与第j个边缘节点之间上行链路的信干噪比，车辆用户将总任务卸载至主节点的卸载时间表达式为：车辆用户的子任务从主节点卸载至次节点的时间表达式为：其中，R表示有线链路的数据传输速率；车辆用户卸载总时延表达式为：时延分析主节点所用的时间包括两部分，一部分为车辆用户将总任务通过无线信道卸载至主节点的传输时间，一部分为主节点完成子任务的计算时间，主节点完成子任务所需要的时间为：次节点所用的时间包括三部分，一部分为车辆用户将总任务通过无线信道卸载至主节点的传输时间，一部分为子任务从主节点卸载至次节点的传输时间，一部分为次节点完成子任务的计算时间，故次节点完成车辆用户的子任务所需要的时间为：由于主节点和次节点的子任务相互独立，因此总时间应为所有任务均完成所用的时间，车辆用户所有任务完成所需的总时间为：其中，max表示取二者中的最大值；优化问题表述以最小化总时延为目标函数，同时以节点选择变量和任务比例变量的要求为约束，规划出如下优化问题C4:0≤αij,βij≤1,i∈Φ,j∈ΨC5:xij∈{0,1},i∈Φ,j∈ΨC6:yij∈{0,1},i∈Φ,j∈Ψ其中，s.t.表示约束符号，C1、C2、C3、C4、C5、C6、C7和C8表示约束式符号。约束C1表示单个车辆用户子任务之和为1；约束C2、C3分别表示每个车辆用户只能有一个主节点和一个次节点；约束C4给出了任务比例变量的取值范围；约束C5、C6给出了节点选择变量的取值范围；约束C7、C8分别表示主、次节点的用户服务数量上限；2)优化问题求解任务比例变量求解由于主节点和次节点分别承担一部分任务，且二者子任务相互独立，因此总时延等于二者中用时更长的节点的时延，考虑到即对于单个用户而言，其总任务一定，α和β中，一个比例系数的减少将导致另一个比例系数的增加，在单个用户总任务不变的情况下，当主节点与次节点同时完成任务时，总时延最短，故可以得到如下表达式：联立等式得到子任务比例系数的最优解表达式如下：节点选择变量求解由于第i个车辆用户的总时延可以表示为：所有用户的总时延可以表示为：此时，优化问题可以表示为：C5:xij∈{0,1},i∈Φ,j∈ΨC6:yij∈{0,1},i∈Φ,j∈Ψ该问题为整数规划问题，难以直接求解，将xij、yij的取值范围松弛为，同时引入辅助变量Q＝{Q1,...,QJ}、P＝{P1,...,PJ}，定义并将下列式子添加到约束条件中：其中，Qj表示边缘节点j作为主节点服务的车辆用户的数量，Pj表示边缘节点j作为次节点服务的车辆用户的数量；新的优化问题可以表示为：C5:xij∈{0,1},i∈Φ,j∈ΨC6:yij∈{0,1},i∈Φ,j∈Ψ用拉格朗日对偶方法求解，设λ＝{λ1,λ2,...,λJ}和μ＝{μ1,μ2,...,μJ}为相关限制条件的拉格朗日因子，该最优化问题的拉格朗日函数表达式为：其中L表示拉格朗日函数，表示第t次迭代时，对应变量的值，这里Qj、Pj表示t-1次迭代时边缘节点j作为主节点、次节点服务的车辆用户数量；原问题的对偶问题表达式为：其中，为求解对偶函数最优解，可以将其按照用户分为I个子问题，对于每个子问题，对目标函数求一阶导数，可得：此时Tij,1和Tij,2为自变量为Qj、Pj的函数，具体计算时应代入Qj、Pj在第t-1次迭代时的结果；在节点选择变量的限制条件C2,C3,C6,C7下，已知每个用户只能选择一个主节点和一个次节点，显然，最优的节点选择变量和应采用“赢者通吃”策略，第i个车辆用户的最优节点选择策略如下：为求得最优拉格朗日因子λ*、μ*及最优辅助变量Q*、P*，可以采用迭代的方法，具体步骤如下：变量初始化：迭代次数t＝0，拉格朗日因子初始值λ、μ以及辅助变量初始值Q、P为非负实数并设置目标精度；用λ、μ表示t时刻的拉格朗日因子，Q、P表示t时刻的辅助变量，代入前面推导的公式，求解最优节点选择变量根据如下公式迭代更新λ、μ、Q、P；其中，s为步长，符号+＝max{0,z}；若λ、μ满足预设精度要求，则λ*＝λ、μ*＝μ、Q*＝Q、P*＝P并退出迭代，若不满足，则迭代次数t＝t+1,跳转至步骤2)，继续迭代，直到满足预先设定的求解精度。
