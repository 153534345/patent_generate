标题title
一种确定定时提前量的方法及设备
摘要abst
本发明实施例涉及一种确定定时提前量的方法及设备，用以解决目前还没有一种应用于NTN系统的随机接入过程中定时提前量建立的问题。本发明实施例所述的方法包括：接收并获取配置消息中的相关参数，所述相关参数包括小区公共时延信息；根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。针对NTN系统存在的小区公共时延信息，确定上行发送定时位置，提前发送物理层随机接入信道随机接入前导码PRACH Preamble，解决了应用于NTN系统的随机接入过程中定时提前量建立的问题，并保证了随机接入过程之后的数据传输过程中的定时提前量的计算准确度。
权利要求书clms
1.一种终端确定定时提前量的方法，其特征在于，该方法包括：接收并获取配置消息中的相关参数，所述相关参数包括小区公共时延信息；确定终端的相对传输时延；根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；根据所述相对传输时延和所述小区级定时提前量，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。2.根据权利要求1所述的方法，其特征在于，所述参考终端包括：距离卫星最近位置的地面参考终端或者距离卫星设定高度的非地面参考终端。3.根据权利要求2所述的方法，其特征在于，所述参考终端包括：距离地面最高的非地面参考终端。4.根据权利要求1所述的方法，其特征在于，所述预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差对应的相对传输时延，包括：根据全球导航卫星系统GNSS信号，确定所述终端的定位信息，通过星历获得卫星的运行参数信息；根据所述定位信息和所述卫星的运行参数信息，预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差；确定所述预估的传播距离差对应的相对传输时延。5.根据权利要求1所述的方法，其特征在于，所述根据所述相对传输时延和所述小区级定时提前量确定上行发送定时位置相对于配置消息接收位置的上行定时提前量，包括：将两倍的相对传输时延与小区级定时提前量求和，得到上行定时提前量。6.根据权利要求1所述的方法，其特征在于，还包括：终端接收随机接入响应RAR消息，并获取所述RAR消息中的上行定时提前调整量；根据所述上行定时提前调整量，调整上行发送定时位置相对于配置消息接收位置的上行定时提前量。7.根据权利要求6所述的方法，其特征在于，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。8.根据权利要求1～7任一所述的方法，其特征在于，还包括：通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新。9.根据权利要求8所述的方法，其特征在于，所述通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新，包括：通过周期性或非周期性测量下行波束参考信号BRS导频，确定卫星移动速度和终端移动速度；根据所述卫星移动速度、所述终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长；根据所述调整步长对上行定时提前量进行更新。10.根据权利要求9所述的方法，其特征在于，所述根据所述卫星移动速度、所述终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长，包括：根据卫星的工作频段，确定接收的配置消息中循环前缀CP的长度；确定卫星速度和终端速度的求和值所在的速度范围所对应的调整系数；根据所述确定的CP的长度与所述调整系数，确定上行定时提前量的调整步长。11.根据权利要求9所述的方法，其特征在于，按照如下公式根据所述调整步长对上行定时提前量进行更新：NTA,new＝NTA,old+×2+Ndelta-TA,UE，其中，TA为RAR消息中的上行定时提前调整量，Ndelta-TA,UE为所述调整步长。12.根据权利要求10所述的方法，其特征在于，按照如下公式根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长：Ndelta-TA,UE＝1/M*NCP，其中，1/M为调整系数，M为大于或等于1的正整数，NCP为所述确定的CP的长度。13.一种网络侧设备确定定时提前量的方法，其特征在于，该方法包括：确定小区公共时延信息；向终端发送携带相关参数的配置消息，所述相关参数包括所述小区公共时延信息；以指示所述终端通过如下方式根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量：预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差对应的相对传输时延；根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；根据所述相对传输时延和所述小区级定时提前量确定上行定时提前量。14.根据权利要求13所述的方法，其特征在于，还包括：检测到终端发送的物理层随机接入信道随机接入前导码PRACH Preamble后，确定上行定时提前调整量，并通过随机接入响应RAR消息将所述上行定时提前调整量发送给所述终端。15.根据权利要求14所述的方法，其特征在于，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。16.根据权利要求14所述的方法，其特征在于，所述确定上行定时提前调整量，包括：根据检测到终端发送的PRACH Preamble的检测位置以及小区公共时延信息，选择终端对应的时间同步时隙数；根据选择的终端对应的时间同步时隙数，确定上行定时提前调整量。17.一种确定定时提前量的终端，其特征在于，该终端包括：处理器和存储器，其中，处理器，用于读取存储器中的程序并执行下列过程：接收并获取配置消息中的相关参数，所述相关参数包括小区公共时延信息；预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差对应的相对传输时延；根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；根据所述相对传输时延和所述小区级定时提前量，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。18.根据权利要求17所述的终端，其特征在于，所述参考终端包括：距离卫星最近位置的地面参考终端或者距离卫星设定高度的非地面参考终端。19.根据权利要求18所述的终端，其特征在于，所述参考终端包括：距离地面最高的非地面参考终端。20.根据权利要求17所述的终端，其特征在于，所述处理器具体用于：根据全球导航卫星系统GNSS信号，确定所述终端的定位信息，通过星历获得卫星的运行参数信息；根据所述定位信息和所述卫星的运行参数信息，预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差；确定所述预估的传播距离差对应的相对传输时延。21.根据权利要求17所述的终端，其特征在于，所述处理器具体用于：将两倍的相对传输时延与小区级定时提前量求和，得到上行定时提前量。22.根据权利要求17所述的终端，其特征在于，所述处理器具体还用于：终端接收RAR消息，并获取所述RAR消息中的上行定时提前调整量；根据所述上行定时提前调整量，调整上行发送定时位置相对于配置消息接收位置的上行定时提前量。23.根据权利要求22所述的终端，其特征在于，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。24.根据权利要求17～23任一所述的终端，其特征在于，所述处理器具体还用于：通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新。25.根据权利要求24所述的终端，其特征在于，所述处理器具体用于：通过周期性或非周期性测量下行波束参考信号BRS导频，确定卫星移动速度和终端移动速度；根据所述卫星移动速度、所述终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长；根据所述调整步长对上行定时提前量进行更新。26.根据权利要求25所述的终端，其特征在于，所述处理器具体用于：根据卫星的工作频段，确定接收的配置消息中循环前缀CP的长度；确定卫星速度和终端速度的求和值所在的速度范围所对应的调整系数；根据所述确定的CP的长度与所述调整系数，确定上行定时提前量的调整步长。27.根据权利要求25所述的终端，其特征在于，所述处理器具体用于按照如下公式根据所述调整步长对上行定时提前量进行更新：NTA,new＝NTA,old+×2+Ndelta-TA,UE，其中，TA为RAR消息中的上行定时提前调整量，Ndelta-TA,UE为所述调整步长。28.根据权利要求26所述的终端，其特征在于，所述处理器具体用于按照如下公式根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长：Ndelta-TA,UE＝1/M*NCP，其中，1/M为调整系数，M为大于或等于1的正整数，NCP为所述确定的CP的长度。29.一种确定定时提前量的网络侧设备，其特征在于，该网络侧设备包括：处理器和存储器，其中，处理器，用于读取存储器中的程序并执行下列过程：确定小区公共时延信息；向终端发送携带相关参数的配置消息，所述相关参数包括小区公共时延信息；以指示所述终端通过如下方式根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量：预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差对应的相对传输时延；根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；根据所述相对传输时延和所述小区级定时提前量确定上行定时提前量。30.根据权利要求29所述的网络侧设备，其特征在于，所述处理器具体还用于：检测到终端发送的物理层随机接入信道随机接入前导码PRACH Preamble后，确定上行定时提前调整量，并通过RAR消息将所述上行定时提前调整量发送给所述终端。31.根据权利要求30所述的网络侧设备，其特征在于，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。32.根据权利要求30所述的网络侧设备，其特征在于，所述处理器具体用于：根据检测到终端发送的PRACH Preamble的检测位置以及小区公共时延信息，选择终端对应的时间同步时隙数；根据选择的终端对应的时间同步时隙数，确定上行定时提前调整量。33.一种计算机存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1～12任一所述方法的步骤或如权利要求13～16任一所述方法的步骤。
说明书desc
本申请是分案申请，原申请的申请号是201910185664.2，原申请日是2019年03月12日，原申请的名称是“一种确定定时提前量的方法及设备”，原申请的全部内容通过引用结合在本申请中。本申请要求在2019年2月14日提交中国专利局、申请号为201910115060.0、申请名称为“一种确定定时提前量的方法及设备”的中国专利申请的优先权，其全部内容通过引用结合在本申请中。技术领域本发明涉及非地面网络NTN技术领域，特别涉及一种确定定时提前量的方法及设备。背景技术非地面网络NTN包括卫星通信系统，具有远大于常规蜂窝通信系统的小区半径，引入了超大的传播时延，针对卫星通信系统覆盖一个小区的特定下行波束，存在两种类型的随机接入同步时延，如下所示：一种是公共传输时延，如图1所示，终端1接收卫星3全球定位系统GPS信号并进行准确定位，根据卫星的星在同一个波束中，距离卫星3最近位置的终端1之间的最小链路时延T1与馈电链路时延T2的两倍时间，即公共传输时延为2，所述馈电链路时延T2为卫星3与信关站2之间的馈电链路时延；另一种是相对传输时延，如图2所示，在同一个波束中，终端的用户链路传播路径与距离卫星1最近位置的最小链路时延路径的传播距离差d3对应的时延T3为相对传输时延。在新空口NR系统中，针对所有物理层随机接入信道随机接入前导码PRACH Preamble，以当前下行定时位置为参考定时位置，上行发送定时位置时无定时提前量，公式如下所示：其中，NTA＝0，即定时提前量为零，是终端发送PRACH Preamble的上行子帧开始的定时参考位置，是终端PRACH Preamble开始发送的时刻，n是子帧号，NTA offset为在时分双工TDD双工方式下，基站从接收信号转换为发送信号的时间间隔，对于频时分双工FDD系统，NTA offset＝0。现有技术中的NTA＝0，在进行定时提前量的建立过程中，并没有考虑上行发送定时位置的定时提前量，由于上述NTN系统中存在的两种传输时延，如果利用现有技术中的上述公式确定上行PRACH Preamble的开始发送时刻，导致确定的上行PRACH Preamble的开始发送时刻滞后，不能应用于NTN系统，综上，目前还没有适合NTN系统的定时提前量的建立机制和维护机制。发明内容本发明提供一种确定定时提前量的方法及设备，用以解决现有技术中还没有一种定时提前量的建立机制能够满足卫星通信NTN系统随机接入过程的问题。第一方面，本发明实施例提供的一种终端确定定时提前量的方法，该方法包括：接收并获取配置消息中的相关参数，所述相关参数包括小区公共时延信息；根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量，包括：预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差对应的相对传输时延；根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；根据所述相对传输时延和小区级定时提前量确定上行定时提前量。作为一种可选的实施方式，所述参考终端包括：距离卫星最近位置的地面参考终端或者距离卫星设定高度的非地面参考终端。作为一种可选的实施方式，所述参考终端包括距离地面最高的非地面参考终端。作为一种可选的实施方式，所述预估相对传输时延，包括：根据全球导航卫星系统GNSS信号，确定所述终端的定位信息，通过星历获得卫星的运行参数信息；根据所述定位信息和卫星的运行参数信息，预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差；确定所述预估的传播距离差对应的相对传输时延。作为一种可选的实施方式，根据所述相对传输时延和小区级定时提前量确定上行定时提前量，包括：将两倍的相对传输时延与小区级定时提前量求和，得到上行定时提前量。作为一种可选的实施方式，还包括：终端接收RAR消息，并获取所述RAR消息中的上行定时提前调整量；根据所述上行定时提前调整量，调整上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，还包括：通过周期性或非周期性测量下行波束参考信号导频，对上行定时提前量进行更新。作为一种可选的实施方式，通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新，包括：通过周期性或非周期性测量下行波束参考信号BRS导频，确定卫星移动速度和终端移动速度；根据所述卫星移动速度、终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长；根据所述调整步长对上行定时提前量进行更新。作为一种可选的实施方式，根据所述卫星移动速度、终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长，包括：根据卫星的工作频段，确定接收的配置消息中循环前缀CP的长度；确定卫星速度和终端速度的求和值所在的速度范围所对应的调整系数；根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长。作为一种可选的实施方式，按照如下公式根据所述调整步长对上行定时提前量进行更新：NTA,new＝NTA,old+×2+Ndelta-TA,UE；其中，TA为RAR消息中的上行定时提前调整量，Ndelta-TA,UE为所述调整步长。作为一种可选的实施方式，照如下公式根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长：Ndelta-TA,UE＝1/M*NCP；其中，1/M为调整系数，M为大于或等于1的正整数，NCP为所述确定的CP的长度。第二方面，本发明实施例提供的一种网络侧设备确定定时提前量的方法，该方法包括：确定小区公共时延信息；向终端发送携带相关参数的配置消息，所述相关参数包括小区公共时延信息。作为一种可选的实施方式，还包括：检测到终端发送的物理层随机接入信道随机接入前导码PRACH Preamble后，确定上行定时提前调整量并通过RAR消息发送给所述终端。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，确定上行定时提前调整量，包括：根据检测到终端发送的PRACH Preamble的检测位置以及小区公共时延信息，选择终端对应的时间同步时隙数；根据选择的终端对应的时间同步时隙数，确定上行定时提前调整量。第三方面，本发明实施例提供的一种确定定时提前量的终端，该终端包括：处理器和存储器。其中，处理器，用于读取存储器中的程序并执行下列过程：接收并获取配置消息中的相关参数，所述相关参数包括小区公共时延信息；根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，所述处理器具体用于：预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差对应的相对传输时延；根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；根据所述相对传输时延和小区级定时提前量确定上行定时提前量。作为一种可选的实施方式，所述参考终端包括：距离卫星最近位置的地面参考终端或者距离卫星设定高度的非地面参考终端。作为一种可选的实施方式，所述参考终端包括距离地面最高的非地面参考终端。作为一种可选的实施方式，所述处理器具体用于：根据全球导航卫星系统GNSS信号，确定所述终端的定位信息，通过星历获得卫星的运行参数信息；根据所述定位信息和卫星的运行参数信息，预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差；确定所述预估的传播距离差对应的相对传输时延。作为一种可选的实施方式，所述处理器具体用于：将两倍的相对传输时延与小区级定时提前量求和，得到上行定时提前量。作为一种可选的实施方式，所述处理器具体还用于：终端接收RAR消息，并获取所述RAR消息中的上行定时提前调整量；根据所述上行定时提前调整量，调整上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，所述处理器具体还用于：通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新。作为一种可选的实施方式，所述处理器具体用于：通过周期性或非周期性测量下行波束参考信号BRS导频，确定卫星移动速度和终端移动速度；根据所述卫星移动速度、终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长；根据所述调整步长对上行定时提前量进行更新。作为一种可选的实施方式，所述处理器具体用于：根据卫星的工作频段，确定接收的配置消息中循环前缀CP的长度；确定卫星速度和终端速度的求和值所在的速度范围所对应的调整系数；根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长。作为一种可选的实施方式，所述处理器具体用于按照如下公式根据所述调整步长对上行定时提前量进行更新：NTA,new＝NTA,old+×2+Ndelta-TA,UE；其中，TA为RAR消息中的上行定时提前调整量，Ndelta-TA,UE为所述调整步长。作为一种可选的实施方式，所述处理器具体用于按照如下公式根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长：Ndelta-TA,UE＝1/M*NCP；其中，1/M为调整系数，M为大于或等于1的正整数，NCP为所述确定的CP的长度。第四方面，本发明实施例提供的一种确定定时提前量的网络侧设备，该网络侧设备包括：处理器和存储器。其中，处理器，用于读取存储器中的程序并执行下列过程：确定小区公共时延信息；向终端发送携带相关参数的配置消息，所述相关参数包括小区公共时延信息。作为一种可选的实施方式，所述处理器具体用于：检测到终端发送的物理层随机接入信道随机接入前导码PRACH Preamble后，确定上行定时提前调整量并通过RAR消息发送给所述终端。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，所述处理器具体用于：根据检测到终端发送的PRACH Preamble的检测位置以及小区公共时延信息，选择终端对应的时间同步时隙数；根据选择的终端对应的时间同步时隙数，确定上行定时提前调整量。第五方面，本发明实施例提供的一种计算机存储介质，其上存储有计算机程序，该程序被处理器执行时实现上述第一方面任一的方案。第六方面，本发明实施例提供的一种计算机存储介质，其上存储有计算机程序，该程序被处理器执行时实现上述第二方面任一的方案。本发明实施例提出了一种确定定时提前调整量的方法及设备，主要针对NTN系统随机接入过程中的定时提前调整量的建立机制，在随机接入过程中，终端根据接收的配置消息中的小区公共时延信息，确定上行发送PRACH Preamble的定时位置，根据小区公共时延信息确定的上述公式中定时提前量NTA的值，从而确定应用于NTN系统随机接入过程中上行发送PRACH Preamble的开始发送时刻。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简要介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域的普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种NTN系统公共传输时延示意图；图2为本发明实施例提供的一种NTN系统相对传输时延示意图；图3为本发明实施例提供的NR系统的上下行帧定时关系示意图；图4为本发明实施例提供的NTN系统随机接入过程示意图；图5为本发明实施例提供的一种确定定时提前量的系统示意图；图6为本发明实施例提供的一种定时提前量的建立过程示意图；图7为本发明实施例提供的另一种定时提前量的建立过程示意图；图8为本发明实施例提供的一种定时提前量的参考终端位置示意图；图9本发明实施例提供的最后一种定时提前量的建立过程示意图；图10为本发明实施例提供的第一种确定定时提前量的终端示意图；图11为本发明实施例提供的第一种确定定时提前量的网络侧设备示意图；图12为本发明实施例提供的第二种确定定时提前量的终端模块图；图13为本发明实施例提供的第二种确定定时提前量的网络侧设备模块图；图14为本发明实施例提供的一种终端确定定时提前量的方法流程图；图15为本发明实施例提供的网络侧设备确定定时提前量的方法流程图。具体实施方式以下，对本发明实施例中的部分用语进行解释说明，以便于本领域技术人员理解。本发明实施例中术语“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。本发明实施例中，终端，是一种具有无线通信功能的设备，可以部署在陆地上，包括室内或室外、手持或车载；也可以部署在水面上；还可以部署在空中。所述终端可以是手机、平板电脑、带无线收发功能的电脑、虚拟现实终端、增强现实终端、工业控制中的无线终端、无人驾驶中的无线终端、远程医疗中的无线终端、智能电网中的无线终端、运输安全中的无线终端、智慧城市中的无线终端、智慧家庭中的无线终端等；还可以是各种形式的UE，移动台，终端设备。网络侧设备可以是信关站，是一种为终端提供无线通信功能的设备，包括但不限于：基站、5G中的gNB、无线网络控制器、节点B、基站控制器、基站收发台、家庭基站、基带单元、传输点、发射点、移动交换中心等。本申请中的信关站还可以是未来可能出现的其他通信系统中为终端提供无线通信功能的设备。为了使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明作进一步地详细描述，显然，所描述的实施例仅仅是本发明一部份实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。NR的定时提前调整量的建立机制，即确定用户UE侧PRACH序列的发送定时位置，NR物理层协议TS38.211给出了上下行帧定时的关系和UE侧PRACH的上行发送定时，协议36.213给出了UE侧物理下行共享信道PUSCH、物理上行控制信道PUCCH和信道探测参考信号SRS的上行发送定时。下面给出本发明实施例中使用的参数的基本概念：1)Tc和Ts：参数Tc是NR协议中的基本单位；定义为Tc＝1/Hz，Δfmax＝480×103Hz，Nf＝4096，κ＝Ts/Tc＝64，Δfref＝15×103，Nf,ref＝2048。2)上行定时点：上行发送信号的时间点。3)下行定时点：假设当前子帧为下行子帧时，其在帧结构中的标准位置。4)上行定时提前调整量，表示了以当前的上行发送时刻为参考点，UE需要进行上行定时调整的改变量。在随机接入响应中，该命令字包含11比特；在完成随机接入之后，该命令字包含6比特；调整步长为16Tc的倍数。5)NTA：UE侧本地维护的定时提前量，表示了上行发送信号定时相对于下行定时的差值。NTA＞0表示上行发送信号定时提前，NTA＜0表示上行发送信号上行延迟传输。6)NTA offset：用于在TDD双工方式下，给基站提供从接收转换为发送的时间间隔，对于FR 1,FDD频段，NR和LTE共存的场景下，NTA offset＝0。7)UE侧发送PRACH的上行子帧开始的定时参考位置，n是子帧号。8)UE侧PRACH前导码开始发送时刻。NR系统的上下行帧定时的关系，如图3所示，UE侧的上行无线帧发送时刻比该UE的下行无线帧开始时刻提前×Ts。对于NR系统的所有前导码格式，PRACH的发送约定为NTA＝0，即表示与当前下行定时无参考，上行发送定时无定时提前量。公式表示如下：如图4所示，本发明实施例提出的一种确定定时提前调整量的方法及设备，主要针对NTN系统随机接入过程中的定时提前调整量的建立机制，对本发明实施例应用的NTN系统随机接入过程进行说明：1)终端根据接收的信关站发送的配置消息，获取配置消息中的相关参数，确定上行发送定时提前量，在PRACH信道发送Preamble码；2)信关站根据检测到终端发送的PRACH Preamble的检测位置以及小区公共时延信息，选择终端对应的时间同步时隙数；根据选择的终端对应的时间同步时隙数，确定上行定时提前调整量，并根据上行定时提前调整量发送随机接入响应RAR；3)终端接收RAR消息，并根据所述RAR消息中的上行定时提前调整量,对上行定时提前量进行调整；4)根据接收到的消息3，进行终端竞争解决并发送消息4。在随机接入过程中，终端根据接收的配置消息中的小区公共时延信息，确定上行发送PRACH Preamble的定时位置，根据小区公共时延信息确定的上述公式中定时提前量NTA的值，从而确定应用于NTN系统随机接入过程中上行发送PRACH Preamble的开始发送时刻。本申请实施例提出的在NTN系统随机接入过程中定时提前调整量的建立机制，主要是通过用户侧终端实现的，在进行随机接入过程中，终端能够调整上行发送时刻，区别与现有NR系统的定时提前调整量的建立，新空口NR系统随机接入过程中，直接采用下行接收定时位置作为上行发送定时位置，而本发明实施例中，应用于NTN系统，根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量，从而根据上行定时提前量确定上行发送定时位置。终端在进行随机接入过程之前，根据接收到的配置消息中的小区公共时延信息，确定上行发送定时位置，以调整上行发送时刻，相当于将PRACH Preamble序列提前或者延迟发送，而提前或者延迟发送的时刻即确定的上行发送定时位置，所述上行发送定时位置是根据小区公共时延信息确定的，建立了一种应用于NTN系统确定定时提前量的机制，保证了NTN系统的同步建立过程的可靠性和后续数据传输的定时准确度。如图5所示，本发明实施例进行确定定时提前量的系统包括：终端500，用于接收并获取配置消息中的相关参数，所述相关参数包括小区公共时延信息；根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。网络侧设备501，用于确定小区公共时延信息；向终端发送携带相关参数的配置消息，所述相关参数包括小区公共时延信息。上述系统中的终端和网络侧设备的之间进行随机接入过程中，定时提前量的建立过程如下：在进行随机接入过程之前，网络侧设备确定小区公共时延信息后，通过系统信息块SIB1消息向终端发送携带相关参数的配置消息；所述相关参数包括小区公共时延信息、同步信号块SSB索引的集合、PRACH时频资源、PRACH Preamble格式、PRACH Preamble序列集合的参数。其中，本发明实施例中的小区公共时延信息，是针对NTN系统覆盖一个小区的特定下行波束区域时，会存在的随机接入同步时延，所述小区公共时延信息是网络侧设备根据系统广播消息获得的终端所在波束区域的公共传输时延。其中，所述终端可以位于地面，也可以位于高空中。确定所述小区公共时延信息的方法如下：网络侧设备根据卫星的星在同一个波束中，距离卫星最近地理位置的终端与卫星通信产生的最小链路时延T1，及卫星至网络侧设备之间产生的馈电链路时延T2，得到广播小区公共时延，所述广播小区公共时延为2。所述最小链路时延T1对应图1中的用户链路T1，馈电链路时延T2对应图1中的馈电链路T2。图1中网络侧设备为信关站，但图1中的网络侧设备只是一个具体的实施例，本发明实施例中的网络侧设备包括信关站、基站但不限于信关站、基站。终端接收并获取配置消息中的小区公共时延信息，根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。终端通过SIB1接收网络侧设备发送的配置消息，获取的配置消息中的相关参数包括：小区公共时延信息、SSB索引的集合、PRACH时频资源、PRACH Preamble格式、PRACHPreamble序列集合的参数。本发明实施例基于NTN系统覆盖一个小区的特定下行波束区域时，存在两种类型的随机接入同步时延，确定上行发送定时位置。其中，一种类型的随机接入同步时延是公共传输时延，终端通过接收所述小区公共时延信息，确定NTN系统覆盖一个小区的特定下行波束区域时，存在的公共传输时延，如图1所示，公共传输时延为；另一种类型的随机接入同步时延是相对传输时延，终端的用户链路传播路径与同一覆盖小区内的距离卫星预设地理位置的参考终端的最小链路时延路径的传播距离差对应的相对传输时延，其中，当所述参考终端为距离卫星最近位置的地面参考终端时，所述传播距离差对应图2中的d3，当所述参考终端为距离卫星设定高度的非地面参考终端时，所述传播距离差对应图8中的d3。根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量的方法如下：1)预估终端的用户链路传播路径与距离卫星预设位置的参考终端的最小链路时延路径的传播距离差对应的相对传输时延；具体的，所述预估的终端包括地面终端或者非地面终端，所述参考终端包括：距离卫星最近位置的地面参考终端或者距离卫星设定高度的非地面参考终端，其中，所述参考终端包括距离地面最高的非地面参考终端，例如可以是距离地面30000km的参考终端。确定所述相对传输时延以距离卫星预设位置的终端上行发送位置为参考位置，所述参考位置为距离卫星最近位置的地面参考终端上行发送位置时，得到的相对传输时延如图2中的d3，所述参考位置为距离地面最高的非地面参考终端上行发送位置时，得到的相对传输时延如图8中的d3。2)根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；3)根据所述相对传输时延和小区级定时提前量确定上行定时提前量。具体的，终端根据以下两部分信息，确定上行发送定时位置：一部分是，终端接收的网络侧设备发送的相关参数中的小区公共时延信息；另一部分是，终端根据自身的定位信息以及卫星的运行参数，预估的相对传输时延，所述终端为地面上的终端，或者非地面如高空中的终端。因此，终端根据所述小区公共时延信息以及所述相对传输时延，确定上行发送定时位置相对于配置消息接收位置的定时提前量。根据上述终端所在的位置以及参考终端所在的位置，预估的相对传输时延分为以下四种情况：1)参考终端位于地面且终端位于地面，即参考终端位于距离卫星最近位置的地面，预估的相对传输时延大于零；2)参考终端位于地面且终端位于高空中，即参考终端位于距离卫星最近位置的地面，预估的相对传输时延小于零；3)参考终端位于距离地面最高位置且终端位于地面，预估的相对传输时延大于零；4)参考终端位于距离地面最高位置且终端位于高空中时，预估的相对传输时延大于零。鉴于本发明实施例根据NTN系统中存在的公共传输时延和相对传输时延，对终端上行发送的定时位置进行调整，因此，相对于采用NR系统定时提前量的建立机制，保证了NTN系统在随机接入过程的同步建立过程中的可靠性和后续数据传输的定时准确度。一方面，终端根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的定时提前量；另一方面，终端根据自身定位信息，预估出用户链路传播路径与距离卫星最近位置的最小链路时延路径的传播距离差对应的相对传输时延。终端根据所述相对传输时延和小区级定时提前量确定定时提前量。具体的，根据以下方式确定定时提前量：1)预估终端的用户链路传播路径与距离卫星最近位置的最小链路时延路径的传播距离差对应的相对传输时延；本发明实施例中，终端根据全球导航卫星系统GNSS信号，确定所述终端的定位信息，通过星历获得卫星的运行参数信息；根据所述定位信息和卫星的运行参数信息，预估终端的用户链路传播路径与距离卫星最近位置的最小链路时延路径的传播距离差；确定所述预估的传播距离差对应的相对传输时延。2)根据小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量Toffset，公式如下：Toffset＝2-floor/TSF)×TSF；其中，2表示小区公共时延信息，TSF表示时隙的时间长度，floor表示向下取整操作，Toffset的基本单位为Ts；Ts＝1/，Δfref＝15×103Hz，Nf,ref＝2048。3)根据所述相对传输时延和小区级定时提前量确定定时提前量。具体的，将两倍的相对传输时延与小区级定时提前量求和，得到定时提前量，公式如下所示：NTA＝2T3+Toffset；其中，NTA为定时提前量，T3为相对传输时延。下面，对小区公共时延2、相对传输时延T3和小区级定时提前量Toffset的具体作用进行说明。首先给出NTN系统终端和网络侧设备的定时提前量建立的基本原则：终端的下行以接收到的下行索引，包括帧、子帧和时隙的索引，作为当前的子帧索引index；终端在随机接入过程中初次获得上行信号帧同步时，通过补充相对传输时延后，与小区的公共时延一致，即以小区距离卫星最短公共距离上行发送定时位置为基准，小区内所有终端到达网络侧设备时间以小区公共距离为基准，此时，一个小区内的所有终端的上行子帧索引保持一致。如图6所示，本实施例中基于NTN系统包括：信关站BS，终端UE1，参考终端UE2，其中参考终端UE2位于地面，是小区中与信关站BS距离最短的终端，以参考终端UE2上行发送定时位置为基准，UE1位于地面，为小区中的任意一个UE。UE和BS侧的时序关系如下：1)信关站在TA时刻发送下行同步信道/信号，将配置消息中的相关参数发送给终端；具体地，该下行同步信道/信号可以是SIB1消息。2)小区中距离BS最近的参考终端UE2在TB时刻接收到所述配置消息，＝；即参考终端UE2相对于信关站发送的TA时刻延时了T1+T2，其中T1为距离卫星最近位置的最小链路时延，T2为馈电链路时延。3)终端UE1在TC时刻接收到所述配置消息，＝+T3。根据上述公式可知，＝+T3，即终端UE1相对于信关站发送的TA时刻延时了T1+T2+T3。4)终端UE1在TD时刻发送PRACH Preamble，相对于TC时刻的时间提前量为NTA，NTA计算公式如下：NTA＝2T3+Toffset，其中，大于零，即NTA＞0。上述TD相对于TC时刻的时延如下：＝-NTA＝-，表示终端UE1发送PRACH Preamble的时刻相对于TC时刻是定时提前发送。5)信关站BS在TE时刻检测到PRACH Preamble，TE时刻相对于TD时刻的传播时延为＝+T3，TE时刻相对于TA时刻的传播时延为＝2-Toffset。其中，Toffset是小区级定时提前量，且Toffset＞0，具体计算方式如前所述，这里不再重述。当基站检测到终端发送的PRACH Preamble序列之后，向所述终端发送随机接入响应RAR消息。同时，网络侧设备的下行子帧和上行子帧维持相同的子帧索引值index；网络侧设备的参考上行子帧索引和实际接收到的上行子帧索引存在一个公共偏移量BTA，如上述公式所示的BTA＝2-Toffset。另外，如图7所示，当上述NTN系统中，与信关站BS距离最短的参考终端UE2位于地面，且以参考终端UE2上行发送定时位置为基准，终端UE3是位于高空中任一个UE时，UE和BS侧的时序关系如下：1)信关站在TA时刻发送下行同步信道/信号，将配置消息中的相关参数发送给终端；2)小区中距离BS最近的参考终端UE2在TB时刻接收到所述配置消息，＝；3)终端UE3在TC时刻接收到所述配置消息，TC时刻相对于TB时刻的时延为：＝T3。其中，由于终端UE3位于高空中，UE3到达卫星的距离小于UE2到达卫星的距离，因此，T3＜0。根据上述公式可得：＝+T3。4)终端UE3在TD时刻发送PRACH Preamble，相对于TC时刻的时间提前量为NTA，NTA计算公式如下：NTA＝2T3+Toffset，其中，小于零，即NTA＜0。上述TD相对于TC时刻的时延如下：＝-NTA＝-，表示终端UE3发送PRACH Preamble的时刻相对于TC时刻是定时延迟发送。5)信关站BS在TE时刻检测到PRACH Preamble，TE时刻相对于TD时刻的传播时延为TE-TD＝+T3，TE时刻相对于TA时刻的传播时延为＝2-Toffset。如图8所示，位于空中一定高度的参考终端UE0作为上行发送定时位置的基准时刻，所有终端包括地面终端及非地面终端，上行发送起始时刻的参考基准为终端UE0的上行发送定时位置，此时，所有终端的上行子帧索引能够保持一致。如图9所示，上述NTN系统中，与信关站BS距离最短的参考终端UE0位于空中，高度为30000km，且以参考终端UE0上行发送定时位置为基准，UE1是位于高空或者地面中的任一个UE时，UE和BS侧的时序关系如下：1)信关站在TA时刻发送下行同步信道/信号，将配置消息中的相关参数发送给终端；2)参考终端UE0在TB时刻接收到所述配置消息，＝；3)终端UE1在TC时刻接收到所述配置消息，＝+T3。根据上述公式可知，＝+T3，即终端UE1相对于信关站发送的TA时刻延时了T1+T2+T3。4)终端UE1在TD时刻发送PRACH Preamble，相对于TC时刻的时间提前量为NTA，NTA计算公式如下：NTA＝2T3+Toffset，其中，大于零，即NTA＞0。上述TD相对于TC时刻的时延如下：＝-NTA＝-，表示终端UE1发送PRACH Preamble的时刻相对于TC时刻是定时提前发送。5)信关站BS在TE时刻检测到PRACH Preamble，TE时刻相对于TD时刻的传播时延为＝+T3，TE时刻相对于TA时刻的传播时延为＝2-Toffset。网络侧设备检测到终端发送的物理层随机接入信道随机接入前导码PRACHPreamble后，确定上行定时提前调整量并通过RAR消息发送给所述终端。具体的，网络侧设备确定上行定时提前调整量的方法如下：根据检测到终端发送的PRACH Preamble的检测位置以及小区公共时延信息，选择终端对应的时间同步时隙数；根据选择的终端对应的时间同步时隙数，确定上行定时提前调整量TA。所述上行定时提前调整量占用16比特的指令，即TA可取0,1,2……，65535。一方面，终端接收RAR消息，并获取所述RAR消息中的上行定时提前调整量；根据所述上行定时提前调整量，调整上行发送定时位置相对于配置消息接收位置的上行定时提前量。终端根据上行定时提前调整量获得上行同步，并根据上行定时提前调整量按如下公式，对上行发送定时位置进行调整。具体的，考虑PUSCH的SCS＝120KHz，上行定时提前调整量将使用16bit指令，NTA＝TA×2Ts，其中，上行定时提前调整量TA可取0,1,2……，65535。Ts＝1/，Δfref＝15×103Hz，Nf,ref＝2048。NTA最大调整值为4.267ms，Ts＝1/30.72e6s。另一方面，终端对上行定时提前量进行更新，更新的机制可为以下两种：一种是，终端通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新；另一种是，终端根据接收的RAR消息中携带的上行定时提前调整量，对上行定时提前量进行更新。上述两种更新的机制可以交替使用，也可以单独使用。现有NR系统中对上行定时提前量进行更新的方式如下：首先，对上行定时提前量进行更新过程中使用的参数NTA,old和NTA,new进行定义。NTA,old：当UE没有收到新的上行定时提前调整量TA时，当前的NTA值；NTA,new：当UE收到新的上行定时提前调整量TA，并且根据TA对当前的NTA进行更新后的值。UE接收到随机接入响应之后，从中解析出上行定时提前调整量TA，计算上行定时提前量NTA，通过NTA值调整上行发送定时，并保留NTA，作为后续上行同步过程中进行调整的初始值。其中，NTA的计算公式为NTA＝TA×16，颗粒度为16Ts，上行定时同步命令字TA为12比特，取值TA＝0,1,2,...,4095。12比特的上行定时同步命令字TA能够支持的最大小区半径是320km，满足了3GPP在TR38.913中提出了需要支持150km～300km的小区半径的设计需求。在UE完成随机接入过程后，信关站将定期地发送上行定时同步命令字TA给UE。当UE接收到TA之后，UE将NTA,old的值更新为NTA,new，然后利用NTA,new调整UE的上行发送定时。NTA,old的更新公式为：NTA,new＝NTA,old+×16；其中，TA表示了当前使用的定时提前量NTA,old与新的定时提前量NTA,new的调整量，TA包含6比特，取值范围是TA＝0,1,2,...,63。当TA＞31时，NTA,new＞NTA,old，表示在当前定时的基础上发送信号定时提前；当TA＜31时，NTA,new＜NTA,old，表示在当前定时的基础上发送信号定时延迟；当TA＝31时，NTA,new＝NTA,old，表示在当前定时的基础上发送信号定时保持不变。但本发明实施例中，基于NTN系统，由于在距离地表1175公里的轨道高度，卫星每秒移动速度约为8km/s，考虑到卫星与终端通信最长距离约为3090km，卫星到网络侧设备如信关站的最远距离为3531km，考虑到终端到信关站最大时延为22ms，因此由于卫星移动带来的路径长度变化约为300-400米，对应路径时延约为1.32us，超过子载波120kHz的PRACHPreamble序列中循环前缀CP长度0.59us，因此在传输过程中，终端需要经常性地测量下行BRS导频，通过测量了解移动带来的传输路径的变化，提前进行预补偿发送提前量，减少由于移动性能带来的同步精度不准的性能损失。相对于通过增加CP长度的方法，本发明实施例提出的根据接收的上行定时提前调整量，对上行定时提前量进行更新的方法，具有更高的资源利用率。具体的，终端通过周期性或非周期性测量下行波束参考信号BRS导频，确定卫星移动速度和终端移动速度；根据所述卫星移动速度、终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长；根据所述调整步长对上行定时提前量进行更新。上述根据所述卫星移动速度、终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长，包括：根据卫星的工作频段，确定接收的配置消息中循环前缀CP的长度；确定卫星速度和终端速度的求和值所在的速度范围所对应的调整系数；根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长。按照如下公式根据所述调整步长对上行定时提前量进行更新：NTA,new＝NTA,old+×2+Ndelta-TA,UE；其中，TA为RAR消息中的上行定时提前调整量，Ndelta-TA,UE为所述调整步长。当PUSCH SCS＝120KHz时，上行定时提前调整量TA包含11bit。TA包含11比特，取值范围是TA＝0,1,2,...,2047。当TA＞1024时，NTA,new＞NTA,old，表示在当前定时的基础上发送信号定时提前；当TA＜1024时，NTA,new＜NTA,old，表示在当前定时的基础上发送信号定时延迟；当TA＝1024时，NTA,new＝NTA,old，表示在当前定时的基础上发送信号定时保持不变。上述Ndelta-TA,UE表示终端自动调整上行定时提前量的调整步长，按照如下公式根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长：Ndelta-TA,UE＝1/M*NCP；其中，1/M为调整系数，M为大于或等于1的正整数，NCP为所述确定的CP的长度。具体的，可以将卫星速度和终端速度的加和分为高中低三个等级，分别对应于不同的M值，如表1所示。表1卫星速度和UE速度的加和M高1中2低3综上所述，通过本发明实施例的上述方法，完成了随机接入系统中的终端和网络侧设备的之间定时提前调整量的建立。终端的下行以接收到的下行帧索引、子帧索引和时隙索引，作为当前的子帧索引index；终端在随机接入过程中初次获得上行信号帧同步时，通过补充相对传输时延后，与小区的公共时延一致，即以小区距离卫星最短公共距离上行发送定时位置为基准，小区内所有终端到达网络侧设备时间以小区公共距离为基准。本发明实施例提供的方法，能够保证一个卫星波束覆盖小区内的所有终端的上行子帧索引保持一致。如图10所示，本申请实施例第一种确定定时提前量的终端包括：处理器1000、存储器1001和收发机1002。处理器1000负责管理总线架构和通常的处理，存储器1001可以存储处理器1000在执行操作时所使用的数据。收发机1002用于在处理器1000的控制下接收和发送数据。总线架构可以包括任意数量的互联的总线和桥，具体由处理器1000代表的一个或多个处理器和存储器1001代表的存储器的各种电路链接在一起。总线架构还可以将诸如外围设备、稳压器和功率管理电路等之类的各种其他电路链接在一起，这些都是本领域所公知的，因此，本文不再对其进行进一步描述。总线接口提供接口。处理器1000负责管理总线架构和通常的处理，存储器1001可以存储处理器1000在执行操作时所使用的数据。本发明实施例揭示的流程，可以应用于处理器1000中，或者由处理器1000实现。在实现过程中，信号处理流程的各步骤可以通过处理器1000中的硬件的集成逻辑电路或者软件形式的指令完成。处理器1000可以是通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件，可以实现或者执行本发明实施例中的公开的各方法、步骤及逻辑框图。通用处理器可以是微处理器或者任何常规的处理器等。结合本发明实施例所公开的方法的步骤可以直接体现为硬件处理器执行完成，或者用处理器中的硬件及软件模块组合执行完成。软件模块可以位于随机存储器，闪存、只读存储器，可编程只读存储器或者电可擦写可编程存储器、寄存器等本领域成熟的存储介质中。该存储介质位于存储器1001，处理器1000读取存储器1001中的信息，结合其硬件完成信号处理流程的步骤。其中，处理器1000，用于读取存储器1001中的程序并执行下列过程：接收并获取配置消息中的相关参数，所述相关参数包括小区公共时延信息；根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，所述处理器具体用于：预估终端的用户链路传播路径与距离卫星最近位置的最小链路时延路径的传播距离差对应的相对传输时延；根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；根据所述相对传输时延和小区级定时提前量确定上行定时提前量。作为一种可选的实施方式，所述处理器具体用于：根据全球导航卫星系统GNSS信号，确定所述终端的定位信息，通过星历获得卫星的运行参数信息；根据所述定位信息和卫星的运行参数信息，预估终端的用户链路传播路径与距离卫星最近位置的最小链路时延路径的传播距离差；确定所述预估的传播距离差对应的相对传输时延。作为一种可选的实施方式，所述处理器具体用于：将两倍的相对传输时延与小区级定时提前量求和，得到上行定时提前量。作为一种可选的实施方式，所述处理器具体还用于：终端接收RAR消息，并获取所述RAR消息中的上行定时提前调整量；根据所述上行定时提前调整量，调整上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，所述处理器具体还用于：通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新。作为一种可选的实施方式，所述处理器具体用于：通过周期性或非周期性测量下行波束参考信号BRS导频，确定卫星移动速度和终端移动速度；根据所述卫星移动速度、终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长；根据所述调整步长对上行定时提前量进行更新。作为一种可选的实施方式，所述处理器具体用于：根据卫星的工作频段，确定接收的配置消息中循环前缀CP的长度；确定卫星速度和终端速度的求和值所在的速度范围所对应的调整系数；根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长。作为一种可选的实施方式，所述处理器具体用于按照如下公式根据所述调整步长对上行定时提前量进行更新：NTA,new＝NTA,old+×2+Ndelta-TA,UE；其中，TA为RAR消息中的上行定时提前调整量，Ndelta-TA,UE为所述调整步长。作为一种可选的实施方式，所述处理器具体用于按照如下公式根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长：Ndelta-TA,UE＝1/M*NCP；其中，1/M为调整系数，M为大于或等于1的正整数，NCP为所述确定的CP的长度。如图11所示，本申请实施例第一种确定定时提前量的网络侧设备包括：处理器1100、存储器1101和收发机1102。处理器1100负责管理总线架构和通常的处理，存储器1101可以存储处理器1100在执行操作时所使用的数据。收发机1102用于在处理器1100的控制下接收和发送数据。总线架构可以包括任意数量的互联的总线和桥，具体由处理器1100代表的一个或多个处理器和存储器1101代表的存储器的各种电路链接在一起。总线架构还可以将诸如外围设备、稳压器和功率管理电路等之类的各种其他电路链接在一起，这些都是本领域所公知的，因此，本文不再对其进行进一步描述。总线接口提供接口。处理器1100负责管理总线架构和通常的处理，存储器1101可以存储处理器1100在执行操作时所使用的数据。本发明实施例揭示的流程，可以应用于处理器1100中，或者由处理器1100实现。在实现过程中，信号处理流程的各步骤可以通过处理器1100中的硬件的集成逻辑电路或者软件形式的指令完成。处理器1100可以是通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件，可以实现或者执行本发明实施例中的公开的各方法、步骤及逻辑框图。通用处理器可以是微处理器或者任何常规的处理器等。结合本发明实施例所公开的方法的步骤可以直接体现为硬件处理器执行完成，或者用处理器中的硬件及软件模块组合执行完成。软件模块可以位于随机存储器，闪存、只读存储器，可编程只读存储器或者电可擦写可编程存储器、寄存器等本领域成熟的存储介质中。该存储介质位于存储器1101，处理器1100读取存储器1101中的信息，结合其硬件完成信号处理流程的步骤。其中，处理器1100，用于读取存储器1101中的程序并执行下列过程：确定小区公共时延信息；向终端发送携带相关参数的配置消息，所述相关参数包括小区公共时延信息。作为一种可选的实施方式，所述处理器具体用于：检测到终端发送的物理层随机接入信道随机接入前导码PRACH Preamble后，确定上行定时提前调整量并通过RAR消息发送给所述终端。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，所述处理器具体用于：根据检测到终端发送的PRACH Preamble的检测位置以及小区公共时延信息，选择终端对应的时间同步时隙数；根据选择的终端对应的时间同步时隙数，确定上行定时提前调整量。如图12所示，本申请实施例第二种确定定时提前量的终端包括：接收模块1200、确定模块1201。接收模块1200，用于接收并获取配置消息中的相关参数，所述相关参数包括小区公共时延信息；确定模块1201，用于根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，所述确定模块1201具体用于：预估终端的用户链路传播路径与距离卫星最近位置的最小链路时延路径的传播距离差对应的相对传输时延；根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；根据所述相对传输时延和小区级定时提前量确定上行定时提前量。作为一种可选的实施方式，所述确定模块1201具体用于：根据全球导航卫星系统GNSS信号，确定所述终端的定位信息，通过星历获得卫星的运行参数信息；根据所述定位信息和卫星的运行参数信息，预估终端的用户链路传播路径与距离卫星最近位置的最小链路时延路径的传播距离差；确定所述预估的传播距离差对应的相对传输时延。作为一种可选的实施方式，所述确定模块1201具体用于：将两倍的相对传输时延与小区级定时提前量求和，得到上行定时提前量。作为一种可选的实施方式，所述终端还包括接收模块1200，具体用于：终端接收RAR消息，并获取所述RAR消息中的上行定时提前调整量；根据所述上行定时提前调整量，调整上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，所述终端还包括更新模块1202，用于：通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新。作为一种可选的实施方式，所述更新模块1202具体用于：通过周期性或非周期性测量下行波束参考信号BRS导频，确定卫星移动速度和终端移动速度；根据所述卫星移动速度、终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长；根据所述调整步长对上行定时提前量进行更新。作为一种可选的实施方式，所述更新模块1202具体用于：根据卫星的工作频段，确定接收的配置消息中循环前缀CP的长度；确定卫星速度和终端速度的求和值所在的速度范围所对应的调整系数；根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长。作为一种可选的实施方式，所述更新模块1202具体用于：按照如下公式根据所述调整步长对上行定时提前量进行更新：NTA,new＝NTA,old+×2+Ndelta-TA,UE；其中，TA为RAR消息中的上行定时提前调整量，Ndelta-TA,UE为所述调整步长。作为一种可选的实施方式，所述更新模块具体用于：按照如下公式根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长：Ndelta-TA,UE＝1/M*NCP；其中，1/M为调整系数，M为大于或等于1的正整数，NCP为所述确定的CP的长度。如图13所示，本申请实施例第二种确定定时提前量的网络侧设备包括确定模块1301、发送模块1302，其中：确定模块1301，用于确定小区公共时延信息；发送模块1302，用于向终端发送携带相关参数的配置消息，所述相关参数包括小区公共时延信息。作为一种可选的实施方式，所述网络侧设备还包括发送模块，用于：检测到终端发送的物理层随机接入信道随机接入前导码PRACH Preamble后，确定上行定时提前调整量并通过RAR消息发送给所述终端。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，所述发送模块具体用于：根据检测到终端发送的PRACH Preamble的检测位置以及小区公共时延信息，选择终端对应的时间同步时隙数；根据选择的终端对应的时间同步时隙数，确定上行定时提前调整量。本发明实施例提供一种可读存储介质，该可读存储介质为非易失性存储介质，所述可读存储介质为非易失性可读存储介质，包括程序代码，当所述程序代码在计算设备上运行时，所述程序代码用于使所述计算设备执行上述网络侧设备确定定时提前量的动作。本发明实施例提供一种可读存储介质，该可读存储介质为非易失性存储介质，所述可读存储介质为非易失性可读存储介质，包括程序代码，当所述程序代码在计算设备上运行时，所述程序代码用于使所述计算设备执行上述终端确定定时提前量的动作。本发明实施例提供一种包含指令的计算机程序产品，当其在计算机上运行时，使所述计算设备执行上述终端确定定时提前量的动作。本发明实施例提供一种包含指令的计算机程序产品，当其在计算机上运行时，使所述计算设备执行上述网络侧设备确定定时提前量动作。基于同一发明构思，本发明实施例中还提供了一种终端确定定时提前量的方法，由于该方法对应的终端是本发明实施例中的终端，并且该方法解决问题的原理与该设备相似，因此该方法的实施可以参见系统的实施，重复之处不再赘述。如图14所示，本申请实施例一种终端确定定时提前量的方法包括：步骤1400：接收并获取配置消息中的相关参数，所述相关参数包括小区公共时延信息；步骤1401：根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，根据所述小区公共时延信息，确定上行发送定时位置相对于配置消息接收位置的上行定时提前量，包括：预估终端的用户链路传播路径与距离卫星最近位置的最小链路时延路径的传播距离差对应的相对传输时延；根据所述小区公共时延信息，确定广播小区公共时延与整数倍时隙之间偏差的小区级定时提前量；根据所述相对传输时延和小区级定时提前量确定上行定时提前量。作为一种可选的实施方式，所述预估相对传输时延，包括：根据全球导航卫星系统GNSS信号，确定所述终端的定位信息，通过星历获得卫星的运行参数信息；根据所述定位信息和卫星的运行参数信息，预估终端的用户链路传播路径与距离卫星最近位置的最小链路时延路径的传播距离差；确定所述预估的传播距离差对应的相对传输时延。作为一种可选的实施方式，根据所述相对传输时延和小区级定时提前量确定上行定时提前量，包括：将两倍的相对传输时延与小区级定时提前量求和，得到上行定时提前量。作为一种可选的实施方式，还包括：终端接收RAR消息，并获取所述RAR消息中的上行定时提前调整量；根据所述上行定时提前调整量，调整上行发送定时位置相对于配置消息接收位置的上行定时提前量。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，还包括：通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新。作为一种可选的实施方式，通过周期性或非周期性测量下行波束参考信号BRS导频，对上行定时提前量进行更新，包括：通过周期性或非周期性测量下行波束参考信号BRS导频，确定卫星移动速度和终端移动速度；根据所述卫星移动速度、终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长；根据所述调整步长对上行定时提前量进行更新。作为一种可选的实施方式，根据所述卫星移动速度、终端移动速度及卫星的工作频段，确定上行定时提前量的调整步长，包括：根据卫星的工作频段，确定接收的配置消息中循环前缀CP的长度；确定卫星速度和终端速度的求和值所在的速度范围所对应的调整系数；根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长。作为一种可选的实施方式，按照如下公式根据所述调整步长对上行定时提前量进行更新：NTA,new＝NTA,old+×2+Ndelta-TA,UE；其中，TA为RAR消息中的上行定时提前调整量，Ndelta-TA,UE为所述调整步长。作为一种可选的实施方式，按照如下公式根据所述确定的CP的长度与调整系数，确定上行定时提前量的调整步长：Ndelta-TA,UE＝1/M*NCP；其中，1/M为调整系数，M为大于或等于1的正整数，NCP为所述确定的CP的长度。基于同一发明构思，本发明实施例中还提供了一种网络侧设备确定定时提前量的方法，由于该方法对应的网络侧设备是本发明实施例中的网络侧设备，并且该方法解决问题的原理与该设备相似，因此该方法的实施可以参见系统的实施，重复之处不再赘述。如图15所示，本申请实施例一种网络侧设备确定定时提前量的方法包括：步骤1500：确定小区公共时延信息；步骤1501：向终端发送携带相关参数的配置消息，所述相关参数包括小区公共时延信息。作为一种可选的实施方式，还包括：检测到终端发送的物理层随机接入信道随机接入前导码PRACH Preamble后，确定上行定时提前调整量并通过RAR消息发送给所述终端。作为一种可选的实施方式，在物理下行共享信道PUSCH的子载波间隔SCS为120KHz的情况下，所述上行定时提前调整量占用16比特的指令。作为一种可选的实施方式，确定上行定时提前调整量，包括：根据检测到终端发送的PRACH Preamble的检测位置以及小区公共时延信息，选择终端对应的时间同步时隙数；根据选择的终端对应的时间同步时隙数，确定上行定时提前调整量。以上参照示出根据本申请实施例的方法、装置和/或计算机程序产品的框图和/或流程图描述本申请。应理解，可以通过计算机程序指令来实现框图和/或流程图示图的一个块以及框图和/或流程图示图的块的组合。可以将这些计算机程序指令提供给通用计算机、专用计算机的处理器和/或其它可编程数据处理装置，以产生机器，使得经由计算机处理器和/或其它可编程数据处理装置执行的指令创建用于实现框图和/或流程图块中所指定的功能/动作的方法。相应地，还可以用硬件和/或软件来实施本申请。更进一步地，本申请可以采取计算机可使用或计算机可读存储介质上的计算机程序产品的形式，其具有在介质中实现的计算机可使用或计算机可读程序代码，以由指令执行系统来使用或结合指令执行系统而使用。在本申请上下文中，计算机可使用或计算机可读介质可以是任意介质，其可以包含、存储、通信、传输、或传送程序，以由指令执行系统、装置或设备使用，或结合指令执行系统、装置或设备使用。显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。
