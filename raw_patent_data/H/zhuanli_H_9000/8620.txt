标题title
一种IO请求处理方法、装置、设备及可读存储介质
摘要abst
本申请涉及存储技术领域，并公开了一种IO请求处理方法、装置、设备及可读存储介质，该方法包括：共享网卡接收服务器发送的IO请求；其中，共享网卡与存储系统中的若干个存储控制器相连接；解析IO请求，得到IO信息；在映射表中，查找与IO信息对应的目标存储控制器；将IO请求发送给目标存储控制器。在本申请中，通过共享网卡来对IO请求进行解析，从而进行路由确定，可避免存储控制器之间IO转发操作，可省去存储控制器的部分工作，能够加速IO请求的响应，可以降低系统整体时延。
权利要求书clms
1.一种IO请求处理方法，其特征在于，包括：共享网卡接收服务器发送的IO请求；其中，所述共享网卡与存储系统中的若干个存储控制器相连接；解析所述IO请求，得到IO信息；在映射表中，查找与所述IO信息对应的目标存储控制器；将所述IO请求发送给所述目标存储控制器。2.根据权利要求1所述的IO请求处理方法，其特征在于，建立所述映射表，包括：获取所述存储系统的配置信息；获取所述若干个存储控制器的IO负载信息和可用资源信息；利用所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息，建立所述映射表。3.根据权利要求2所述的IO请求处理方法，其特征在于，获取所述存储系统的配置信息，包括：与所述存储系统的配置控制器通信，获取所述配置信息。4.根据权利要求3所述的IO请求处理方法，其特征在于，与所述存储系统的配置控制器通信，获取所述配置信息，包括：与所述配置控制器通信，获取存储配置信息和网络配置信息；将所述存储配置信息和所述网络配置信息确定为所述配置信息。5.根据权利要求2所述的IO请求处理方法，其特征在于，获取所述若干个存储控制器的负载信息，包括：从所述若干个存储控制器中的日志模块中，获取所述IO负载信息。6.根据权利要求5所述的IO请求处理方法，其特征在于，从所述若干个存储控制器中的日志模块中，获取所述IO负载信息，包括：从所述日志模块中，获取控制器总带宽、各个IO端口的带宽、控制器总IOPS、各个端口IOPS、控制器总时延和各个端口时延；将所述控制器总带宽、所述各个IO端口的带宽、所述控制器总IOPS、所述各个端口IOPS、所述控制器总时延和所述各个端口时延确定为所述IO负载信息。7.根据权利要求2所述的IO请求处理方法，其特征在于，获取所述若干个存储控制器的可用资源信息，包括：查询所述若干个存储控制器的计算资源信息、内存资源信息和网络资源信息；将所述计算资源信息、所述内存资源信息和所述网络资源信息确定为所述可用资源信息。8.根据权利要求7所述的IO请求处理方法，其特征在于，查询所述若干个存储控制器的计算资源信息，包括：查询所述若干个存储控制器的CPU使用率；将所述CPU使用率确定为所述计算资源信息。9.根据权利要求7所述的IO请求处理方法，其特征在于，查询所述若干个存储控制器的内存资源信息，包括：获取所述若干个存储控制器的物理内存总量、已使用物理内存数量、空闲物理内存数量、缓冲内存数量；将所述物理内存总量、所述已使用物理内存数量、所述空闲物理内存数量、所述缓冲内存数量确定为所述内存资源信息。10.根据权利要求7所述的IO请求处理方法，其特征在于，查询所述若干个存储控制器的网络资源信息，包括：获取所述存储控制器的网卡带宽、连接模式、速率、连接状态、网口数、网口收发包统计和CRC错误；将所述网卡带宽、所述连接模式、所述速率、所述连接状态、所述网口数、所述网口收发包统计和所述CRC错误确定为所述网络资源信息。11.根据权利要求2所述的IO请求处理方法，其特征在于，利用所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息，建立所述映射表，包括：从所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息查找出映射因素；利用所述映射因素构建映射二维矩阵，得到IO与存储控制器的对应关系；基于所述对应关系，建立所述映射表。12.根据权利要求11所述的IO请求处理方法，其特征在于，所述从所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息查找出映射因素，包括：从所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息中，查找出读写类型、IO块大小、访问地址、卷类型、RAID类型及所述各个存储控制器的CPU状态信息、内存状态信息和网络带宽状态信息；将所述读写类型、所述IO块大小、所述访问地址、所述卷类型、所述RAID类型及所述各个存储控制器的CPU状态信息、所述内存状态信息和所述网络带宽状态信息确定为所述映射因素。13.根据权利要求11所述的IO请求处理方法，其特征在于，所述在映射表中，查找与所述IO信息对应的目标存储控制器，包括：在所述映射表中，查找与所述IO信息对应的存储控制器；若与所述IO信息对应的存储控制器的数量大于1，则通过比对，将与所述IO信息对应的存储控制器中负载更小或可用资源更多的存储控制器确定为所述目标存储控制器。14.根据权利要求2所述的IO请求处理方法，其特征在于，还包括：定期获取所述IO负载信息和所述可用资源信息；利用当前获取的所述IO负载信息和所述可用资源信息对所述映射表进行更新。15.根据权利要求1至14任一项所述的IO请求处理方法，其特征在于，解析所述IO请求，得到IO信息，包括：通过硬件卸载，对所述IO请求进行解析，得到所述IO信息。16.根据权利要求15所述的IO请求处理方法，其特征在于，所述通过硬件卸载，对所述IO请求进行解析，得到所述IO信息，包括：卸载IO的网络和存储协议处理，完成TCP/IP协议、iSCSI协议的硬件卸载；在完成硬件卸载后，对所述IO请求进行解析，得到所述IO信息。17.根据权利要求16所述的IO请求处理方法，其特征在于，所述对所述IO请求进行解析，得到所述IO信息，包括：对所述IO请求进行解析，得到接口信息、存储协议指令、数据访问地址和读写操作；将所述接口信息、存储协议指令、数据访问地址和读写操作确定为所述IO信息。18.一种IO请求处理装置，其特征在于，应用于共享网卡，包括：请求接收模块，用于接收服务器发送的IO请求；其中，所述共享网卡与存储系统中的若干个存储控制器相连接；请求解析模块，用于解析所述IO请求，得到IO信息；IO路由模块，用于在映射表中，查找与所述IO信息对应的目标存储控制器；请求转发模块，用于将所述IO请求发送给所述目标存储控制器。19.一种电子设备，其特征在于，包括：存储器，用于存储计算机程序；处理器，用于执行所述计算机程序时实现如权利要求1至17任一项所述IO请求处理方法的步骤。20.一种可读存储介质，其特征在于，所述可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1至17任一项所述IO请求处理方法的步骤。
说明书desc
技术领域本申请涉及存储技术领域，特别是涉及一种IO请求处理方法、装置、设备及可读存储介质。背景技术集中式存储使用两控或四控紧耦合架构，两个、四个或更多的存储控制器存放在一个机框内部，存储控制器之间存在大量的数据通信、同步操作，同一个机框内存储控制器对外提供更高的作业吞吐量、更低的系统响应时间和故障响应时间。其中，更高的作业吞吐量可以通过使用高速的CPU、增加硬件或软件并发等方法来实现，更低的系统响应时间通过使用更低时延的网络和存储介质等方式实现，故障响应时间以往都是在软件故障逻辑上进行优化来实现降低响应时间。但是，基于传统网卡的多存储控制器架构中，每个存储控制器都独占网卡。服务器IO通过网络连接到某个存储控制器的网卡，并由该存储控制器处理。多个控制器组成了集群，第一个控制器接收请求，但实际请求的数据在第二个控制器对应的存储介质中，因而在存储控制器中会存在多个存储控制器之间的IO转发。由于IO不均衡存在大量的多个控制器之间IO转发操作，影响系统整体时延。综上所述，如何有效地解决IO请求的快速响应等问题，是目前本领域技术人员急需解决的技术问题。发明内容本申请的目的是提供一种IO请求处理方法、装置、设备及可读存储介质，通过共享网卡来对IO请求进行路由确认，可以避免多个存储控制器间的IO转发操作，可以降低系统整体时延。为解决上述技术问题，本申请提供如下技术方案：一种IO请求处理方法，包括：共享网卡接收服务器发送的IO请求；其中，所述共享网卡与存储系统中的若干个存储控制器相连接；解析所述IO请求，得到IO信息；在映射表中，查找与所述IO信息对应的目标存储控制器；将所述IO请求发送给所述目标存储控制器。可选地，建立所述映射表，包括：获取所述存储系统的配置信息；获取所述若干个存储控制器的IO负载信息和可用资源信息；利用所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息，建立所述映射表。可选地，获取所述存储系统的配置信息，包括：与所述存储系统的配置控制器通信，获取所述配置信息。可选地，与所述存储系统的配置控制器通信，获取所述配置信息，包括：与所述配置控制器通信，获取存储配置信息和网络配置信息；将所述存储配置信息和所述网络配置信息确定为所述配置信息。可选地，获取所述若干个存储控制器的负载信息，包括：从所述若干个存储控制器中的日志模块中，获取所述IO负载信息。可选地，从所述若干个存储控制器中的日志模块中，获取所述IO负载信息，包括：从所述日志模块中，获取控制器总带宽、各个IO端口的带宽、控制器总IOPS、各个端口IOPS、控制器总时延和各个端口时延；将所述控制器总带宽、所述各个IO端口的带宽、所述控制器总IOPS、所述各个端口IOPS、所述控制器总时延和所述各个端口时延确定为所述IO负载信息。可选地，获取所述若干个存储控制器的可用资源信息，包括：查询所述若干个存储控制器的计算资源信息、内存资源信息和网络资源信息；将所述计算资源信息、所述内存资源信息和所述网络资源信息确定为所述可用资源信息。可选地，查询所述若干个存储控制器的计算资源信息，包括：查询所述若干个存储控制器的CPU使用率；将所述CPU使用率确定为所述计算资源信息。可选地，查询所述若干个存储控制器的内存资源信息，包括：获取所述若干个存储控制器的物理内存总量、已使用物理内存数量、空闲物理内存数量、缓冲内存数量；将所述物理内存总量、所述已使用物理内存数量、所述空闲物理内存数量、所述缓冲内存数量确定为所述内存资源信息。可选地，查询所述若干个存储控制器的网络资源信息，包括：获取所述存储控制器的网卡带宽、连接模式、速率、连接状态、网口数、网口收发包统计和CRC错误；将所述网卡带宽、所述连接模式、所述速率、所述连接状态、所述网口数、所述网口收发包统计和所述CRC错误确定为所述网络资源信息。可选地，利用所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息，建立所述映射表，包括：从所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息查找出映射因素；利用所述映射因素构建映射二维矩阵，得到IO与存储控制器的对应关系；基于所述对应关系，建立所述映射表。可选地，所述从所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息查找出映射因素，包括：从所述配置信息、所述IO负载信息、所述可用资源信息和所述IO信息中，查找出读写类型、IO块大小、访问地址、卷类型、RAID类型及所述各个存储控制器的CPU状态信息、内存状态信息和网络带宽状态信息；将所述读写类型、所述IO块大小、所述访问地址、所述卷类型、所述RAID类型及所述各个存储控制器的CPU状态信息、所述内存状态信息和所述网络带宽状态信息确定为所述映射因素。可选地，所述在映射表中，查找与所述IO信息对应的目标存储控制器，包括：在所述映射表中，查找与所述IO信息对应的存储控制器；若与所述IO信息对应的存储控制器的数量大于1，则通过比对，将与所述IO信息对应的存储控制器中负载更小或可用资源更多的存储控制器确定为所述目标存储控制器。可选地，还包括：定期获取所述IO负载信息和所述可用资源信息；利用当前获取的所述IO负载信息和所述可用资源信息对所述映射表进行更新。可选地，解析所述IO请求，得到IO信息，包括：通过硬件卸载，对所述IO请求进行解析，得到所述IO信息。可选地，所述通过硬件卸载，对所述IO请求进行解析，得到所述IO信息，包括：卸载IO的网络和存储协议处理，完成TCP/IP协议、iSCSI协议的硬件卸载；在完成硬件卸载后，对所述IO请求进行解析，得到所述IO信息。可选地，所述对所述IO请求进行解析，得到所述IO信息，包括：对所述IO请求进行解析，得到接口信息、存储协议指令、数据访问地址和读写操作；将所述接口信息、存储协议指令、数据访问地址和读写操作确定为所述IO信息。一种IO请求处理装置，应用于共享网卡，包括：请求接收模块，用于接收服务器发送的IO请求；其中，所述共享网卡与存储系统中的若干个存储控制器相连接；请求解析模块，用于解析所述IO请求，得到IO信息；IO路由模块，用于在映射表中，查找与所述IO信息对应的目标存储控制器；请求转发模块，用于将所述IO请求发送给所述目标存储控制器。一种电子设备，包括：存储器，用于存储计算机程序；处理器，用于执行所述计算机程序时实现上述IO请求处理方法的步骤。一种可读存储介质，所述可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现上述IO请求处理方法的步骤。应用本申请实施例所提供的方法，共享网卡接收服务器发送的IO请求；其中，共享网卡与存储系统中的若干个存储控制器相连接；解析IO请求，得到IO信息；在映射表中，查找与IO信息对应的目标存储控制器；将IO请求发送给目标存储控制器。本申请与现有技术相比，具有如下技术效果：在本申请中，共享网卡与存储系统中的若干个存储控制器相连接，当共享网卡接收到服务器发送的IO请求之后，对该IO请求进行解析，从而获得IO信息。然后，在映射表中，查找出与该IO信息对应的目标存储控制器，再将IO请求发送给目标存储控制器。也就是说，通过共享网卡来对IO请求进行解析，从而进行路由确定，可避免存储控制器之间IO转发操作，可省去存储控制器的部分工作，能够加速IO请求的响应，可以降低系统整体时延。相应地，本申请实施例还提供了与上述IO请求处理方法相对应的IO请求处理装置、设备和可读存储介质，具有上述技术效果，在此不再赘述。附图说明为了更清楚地说明本申请实施例或相关技术中的技术方案，下面将对实施例或相关技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例中一种IO请求处理方法的实施流程图；图2为本申请中一种基于共享网卡的多存储控制器硬件架构示意图；图3为本申请实施例中一种IO请求处理装置的结构示意图；图4为本申请实施例中一种电子设备的结构示意图；图5为本申请实施例中一种电子设备的具体结构示意图。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面结合附图和具体实施方式对本申请作进一步的详细说明。显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。为便于理解本申请实施例所提供的IO请求处理方法，下面对相关技术进行解释说明：随着资源共享、池化和虚拟化概念的兴起，多个芯片公司提出了Multi-host技术，至少有三种技术实现方式：PCIe Fabric方式、网络控制器转换方式和网卡芯片内部互连方式。其中，第一种方式PCIe Fabric方式依赖PCIe交换芯片，使用其Fabric模式，通过交换芯片的FW实现复杂的PCIe拓扑，从而实现Multi-host，对于可靠性要求高的应用，可以通过多个PCIe交换芯片互连，形成更加复杂和可靠的网络；第二种方式通过网络控制器将PCIe与网络转换实现，由于网络本身就是一个Multi-host架构，因此在芯片内部通过集成多个网络控制器，对外提供的PCIe转换为内部的网络连接，可以将其看成1个大的网络交换机；第三种是网卡芯片内部互连实现，通过芯片内部将PCIe接口分成多个独立的PCIe接口，每个接口都可以单独连接一个host CPU，不存在性能降级。本申请所提供的IO请求处理方法即针对芯片内互连方式的多存储控制器共享网卡，提出了一种IO调度技术，应用在以数据为中心的新型存储架构中，采用软硬件协同设计在存储设备内部实现多存储节点对用户的访问，提升了存储系统的性能和可靠性。具体的，请参考图1，图1为本申请实施例中一种IO请求处理方法的流程图，该方法可应用于如图2所示的共享网卡中，该方法包括以下步骤：S101、接收服务器发送的IO请求。其中，共享网卡与存储系统中的若干个存储控制器相连接。即，该共享网卡被这若干个存储控制器所共享。在本申请实施例中，至少存在2个存储控制器使用共享网卡提供的网络服务。即至少有2个存储控制器共享同一个网卡。对于该共享网卡如何为两个存储控制器通过服务，则可具体参照上文描述的网卡芯片内部互连实现多主机技术的具体实现方式，在此不再一一赘述。共享网卡与服务器具备通信连接，并可接收服务器发送的IO请求。该IO请求可以为对存储系统中的任意存储控制器所管理控制的存储介质进行读/写等操作的请求。S102、解析IO请求，得到IO信息。需要注意的是，在常规处理模型中，对IO请求进行解析，获取其IO信息由存储控制器来实施。而在本申请实施例中，在接收到IO请求之后，共享网卡首先对IO请求进行解析，从而获得IO信息。也就是说，在本申请中，共享网卡承担了存储控制器的CPU处理的绝大部分任务，从而减轻存储控制器CPU的负荷，进一步提高存储控制器对IO请求的响应速度，能够有效降低IO请求的时延。其中，IO信息可具体包括但不限于接口信息、存储协议指令、数据访问地址和读写操作等信息中的至少一种或多种。在本申请中的一种具体实施方式中，解析IO请求，得到IO信息，包括：通过硬件卸载，对IO请求进行解析，得到IO信息。其中，硬件卸载，即指将原本在内核网络协议栈中进行的IP分片、TCP分段、重组、checksum校验等操作，转移到共享网卡硬件中进行，可使得CPU的发包路径更短，消耗更低，提高处理性能。也就是说，共享网卡基于硬件卸载，可以实现对IO请求进行解析，从而得到IO信息。在本申请中的一种可选实施方式中，通过硬件卸载，对IO请求进行解析，得到IO信息，包括：步骤一、卸载IO的网络和存储协议处理，完成TCP/IP协议、iSCSI协议的硬件卸载；步骤二、在完成硬件卸载后，对IO请求进行解析，得到IO信息。为便于描述，下面将上述两个步骤结合起来进行说明。即可以通过硬件协商，在共享网卡上实现TCP/IP协议、iSCSI协议，从而可对IO请求进行基于TCP/IP协议、iSCSI协议的解析操作，得到IO信息。其中，上述步骤二对IO请求进行解析，得到IO信息，可具体包括：步骤1、对IO请求进行解析，得到接口信息、存储协议指令、数据访问地址和读写操作；步骤2、将接口信息、存储协议指令、数据访问地址和读写操作确定为IO信息。也就是说，在本申请中，通过卸载IO的网络和存储协议处理，可以完成TCP/IP协议、iSCSI协议的硬件卸载；具体来说，即可将包括TCP协议在内的四层处理请求从存储控制器CPU处理器转移到共享网卡上，相当于共享网卡承担了CPU处理TCP数据的绝大部分任务，减轻了CPU的负荷。通过协议卸载获得的IO信息，IO信息可包括接口信息如SCSI，存储协议指令如NVMe指令，数据访问地址和读写操作等。S103、在映射表中，查找与IO信息对应的目标存储控制器。其中，映射表中存储有IO信息与存储控制器的映射关系。该映射表可以预先进行创建，也可以在处理IO请求过程中，对IO信息与存储控制器的映射关系进行确认后创建出的。通过查找映射表，即可找出与IO信息对应的目标存储控制器。也就是说，基于映射表，可以找出能够处理该IO请求的目标存储控制器，或可以找出能够更好、更快处理该IO请求的目标存储控制器。在本申请中的一种可选实施方式中，建立映射表，包括：步骤一、获取存储系统的配置信息；步骤二、获取若干个存储控制器的IO负载信息和可用资源信息；步骤三、利用配置信息、IO负载信息、可用资源信息和IO信息，建立映射表。为便于描述，下面将上述三个步骤结合起来进行说明。在本申请中，该共享网卡，可为存储系统中的多个存储控制器提供网络服务。为了有效区分IO请求的路由，需要获知存储系统的配置信息。为了实现各个存储控制器的负载均衡，还需获取到存储系统中各个存储控制器的IO负载信息和可用资源信息，从而基于配置信息、IO负载信息、可用资源信息和IO信息，建立映射表。也就是说，该映射表中的映射关系不仅仅依据配置来进行创建，还需要参考各个存储控制器的负载情况和可用资源信息，从而在基于映射表进行IO路由确定时，可实现准确，且兼顾负载均衡处理的效果。在本申请中的一种具体实施方式中，获取存储系统的配置信息，包括：与存储系统的配置控制器通信，获取配置信息。具体的，与存储系统的配置控制器通信，获取配置信息，包括：步骤1、与配置控制器通信，获取存储配置信息和网络配置信息；步骤2、将存储配置信息和网络配置信息确定为配置信息。即，在本申请实施例中，在共享网卡中可设置一个配置管理模块，该配置管理模块，可以与存储系统的配置控制器通信，获取存储配置信息，包括：逻辑卷的大小、位置、压缩属性、加密属性等。具体的，在存储系统的初始化阶段，该阶段还没有为用户提供存储服务，管理员根据业务需求对存储系统进行硬件、软件配置。此时，管理员会根据业务需求，规划存储的可用性，配置信息包括：单站点/多站点配置、盘控耦合架构/盘控分类架构、仲裁盘配置；规划存储的网络配置，包括：物理连接的选择、iSER、RoCE等）、前端接口分组配置信息等）、端口虚拟化配置、集群分组配置、后端存储分组配置、存储池配置。在本申请中的一种可选实施方式中，获取若干个存储控制器的负载信息，包括：从若干个存储控制器中的日志模块中，获取IO负载信息。具体的，从若干个存储控制器中的日志模块中，获取IO负载信息，包括：步骤1、从日志模块中，获取控制器总带宽、各个IO端口的带宽、控制器总IOPS、各个端口IOPS、控制器总时延和各个端口时延；步骤2、将控制器总带宽、各个IO端口的带宽、控制器总IOPS、各个端口IOPS、控制器总时延和各个端口时延确定为IO负载信息。在本申请中，可在共享网卡中设置一个状态信息管理模块，从而基于该状态信息管理模块获取到存储控制器的负载情况和可用资源的情况。存储控制器在运行时，共享网卡中的状态信息管理模块，周期性查询各个存储控制器的当前负载、可用资源信息。查询当前负载是指智能网卡通过与各个控制器的日志模块获取IO负载信息，包括控制器总带宽、各个IO端口的带宽、控制器总IOPS、各个端口IOPS、控制器总时延、各个端口时延。在本申请中的一种可选实施方式中，获取若干个存储控制器的可用资源信息，包括：步骤1、查询若干个存储控制器的计算资源信息、内存资源信息和网络资源信息；步骤2、将计算资源信息、内存资源信息和网络资源信息确定为可用资源信息。为便于说明，下面将上述两个步骤结合起来进行说明。其中，查询若干个存储控制器的计算资源信息，包括：步骤①、查询若干个存储控制器的CPU使用率；步骤②、将CPU使用率确定为计算资源信息。其中，查询若干个存储控制器的内存资源信息，包括：步骤①、获取若干个存储控制器的物理内存总量、已使用物理内存数量、空闲物理内存数量、缓冲内存数量；步骤②、将物理内存总量、已使用物理内存数量、空闲物理内存数量、缓冲内存数量确定为内存资源信息。其中，查询若干个存储控制器的网络资源信息，包括：步骤①、获取存储控制器的网卡带宽、连接模式、速率、连接状态、网口数、网口收发包统计和CRC错误；步骤②、将网卡带宽、连接模式、速率、连接状态、网口数、网口收发包统计和CRC错误确定为网络资源信息。也就是说，当查询计算资源时，即获取存储控制器的CPU使用率，即包括但不限于：用户模式占用的CPU百分比、系统模式占用的CPU百分比、空闲CPU占用的CPU百分比、等待输入/输出的进程占用的CPU百分比、硬中断请求服务占用的CPU百分比、软中断请求服务占用的CPU百分比。当查询内存资源时，获取存储控制器的内存状态信息，即包括但不限于：物理内存的总量、已经使用的物理内存数量、空闲的物理内存数量、作为缓冲的内存数量。当查询网络资源时，获取存储控制器的网卡状态信息，即包括但不限于：网卡带宽、连接模式、速率、连接状态、网口数、网口收发包统计、CRC错误。在本申请中的一种具体实施方式中，利用配置信息、IO负载信息、可用资源信息和IO信息，建立映射表，包括：步骤1、从配置信息、IO负载信息、可用资源信息和IO信息查找出映射因素；步骤2、利用映射因素构建映射二维矩阵，得到IO与存储控制器的对应关系；步骤3、基于对应关系，建立映射表。其中，从配置信息、IO负载信息、可用资源信息和IO信息查找出映射因素，包括：步骤①、从配置信息、IO负载信息、可用资源信息和IO信息中，查找出读写类型、IO块大小、访问地址、卷类型、RAID类型及各个存储控制器的CPU状态信息、内存状态信息和网络带宽状态信息；步骤②、将读写类型、IO块大小、访问地址、卷类型、RAID类型及各个存储控制器的CPU状态信息、内存状态信息和网络带宽状态信息确定为映射因素。建立映射表，即构成了IO与存储控制器的映射关系；映射关系包括如下因素：读写类型、IO块大小、访问地址、卷类型、RAID类型、控制器x CPU状态信息、控制器x内存状态信息、控制器x网络带宽状态信息。其中，x指代不同的控制器，如当x为1时，即对应控制器1的相关信息，如控制器1CPU状态信息；如当x为2时，即对应控制器2的相关信息，如控制器2CPU状态信息。将上述信息构建映射二维矩阵构成IO与存储控制器的对应关系。如此，在IO请求到来时，根据IO的上述特征，可查询最佳匹配的目标控制器。S104、将IO请求发送给目标存储控制器。明确了目标控制器之后，即可确定IO请求的转发路由，即将IO请求从目标控制器对应的路由发出即可。具体的，即将IO请求通过与目标存储控制器相连接的接口进行发送。应用本申请实施例所提供的方法，共享网卡接收服务器发送的IO请求；其中，共享网卡与存储系统中的若干个存储控制器相连接；解析IO请求，得到IO信息；在映射表中，查找与IO信息对应的目标存储控制器；将IO请求发送给目标存储控制器。在本申请中，共享网卡与存储系统中的若干个存储控制器相连接，当共享网卡接收到服务器发送的IO请求之后，对该IO请求进行解析，从而获得IO信息。然后，在映射表中，查找出与该IO信息对应的目标存储控制器，再将IO请求发送给目标存储控制器。也就是说，通过共享网卡来对IO请求进行解析，从而进行路由确定，可避免存储控制器之间IO转发操作，可省去存储控制器的部分工作，能够加速IO请求的响应，可以降低系统整体时延。需要说明的是，基于上述实施例，本申请实施例还提供了相应的改进方案。在优选/改进实施例中涉及与上述实施例中相同步骤或相应步骤之间可相互参考，相应的有益效果也可相互参照，在本文的优选/改进实施例中不再一一赘述。在本申请中的一种具体实施方式中，在映射表中，查找与IO信息对应的目标存储控制器，包括：步骤一、在映射表中，查找与IO信息对应的存储控制器；步骤二、若与IO信息对应的存储控制器的数量大于1，则通过比对，将与IO信息对应的存储控制器中负载更小或可用资源更多的存储控制器确定为目标存储控制器。也就是说，当IO信息对应多个存储控制器时，即多个存储控制器均可对IO请求进行处理，此时可基于存储控制器的负载和可用资源，找出一个与该IO信息匹配且负载更小或可用资源更多的存储控制器确定为目标存储控制器。如此，便可使得IO请求尽可能的分配给负载更小或可用资源更多的存储控制器进行处理，从而实现负载均衡，且能够提高处理效率。在本申请中的一种具体实施方式中，考虑到存储控制器的IO负载情况和可用资源会随着时间或需求的变化而变化，因而在本申请中还可对映射表进行更新。具体的实现过程，包括：步骤一、定期获取IO负载信息和可用资源信息；步骤二、利用当前获取的IO负载信息和可用资源信息对映射表进行更新。为便于描述，下面将上述两个步骤结合起来进行说明。可根据实际业务需求，可设置时间周期，来定期获取IO负载信息和可用资源信息，然后再利用当前获取的IO负载信息和可用资源信息对映射表进行更新。如此，便可基于更新后的映射表来确定IO请求的理由，从而使得各个存储控制器的负载更加均衡，使得整体系统的响应速度更快。相应于上面的方法实施例，本申请实施例还提供了一种IO请求处理装置，下文描述的IO请求处理装置与上文描述的IO请求处理方法可相互对应参照。参见图3所示，应用于共享网卡，该装置包括以下模块：请求接收模块101，用于接收服务器发送的IO请求；其中，共享网卡与存储系统中的若干个存储控制器相连接；请求解析模块102，用于解析IO请求，得到IO信息；IO路由模块103，用于在映射表中，查找与IO信息对应的目标存储控制器；请求转发模块104，用于将IO请求发送给目标存储控制器。应用本申请实施例所提供的装置，共享网卡接收服务器发送的IO请求；其中，共享网卡与存储系统中的若干个存储控制器相连接；解析IO请求，得到IO信息；在映射表中，查找与IO信息对应的目标存储控制器；将IO请求发送给目标存储控制器。在本申请中，共享网卡与存储系统中的若干个存储控制器相连接，当共享网卡接收到服务器发送的IO请求之后，对该IO请求进行解析，从而获得IO信息。然后，在映射表中，查找出与该IO信息对应的目标存储控制器，再将IO请求发送给目标存储控制器。也就是说，通过共享网卡来对IO请求进行解析，从而进行路由确定，可避免存储控制器之间IO转发操作，可省去存储控制器的部分工作，能够加速IO请求的响应，可以降低系统整体时延。在本申请的一种具体实施方式中，还包括：配置管理模块，具体用于获取存储系统的配置信息；状态信息管理模块，具体用于获取若干个存储控制器的IO负载信息和可用资源信息；映射表建立模块，用于利用配置信息、IO负载信息、可用资源信息和IO信息，建立映射表。在本申请的一种具体实施方式中，配置管理模块，用于与存储系统的配置控制器通信，获取配置信息。在本申请的一种具体实施方式中，配置管理模块，具体用于与配置控制器通信，获取存储配置信息和网络配置信息；将存储配置信息和网络配置信息确定为配置信息。在本申请的一种具体实施方式中，状态信息管理模块，具体用于从若干个存储控制器中的日志模块中，获取IO负载信息。在本申请的一种具体实施方式中，状态信息管理模块，具体用于从日志模块中，获取控制器总带宽、各个IO端口的带宽、控制器总IOPS、各个端口IOPS、控制器总时延和各个端口时延；将控制器总带宽、各个IO端口的带宽、控制器总IOPS、各个端口IOPS、控制器总时延和各个端口时延确定为IO负载信息。在本申请的一种具体实施方式中，状态信息管理模块，具体用于查询若干个存储控制器的计算资源信息、内存资源信息和网络资源信息；将计算资源信息、内存资源信息和网络资源信息确定为可用资源信息。在本申请的一种具体实施方式中，状态信息管理模块，具体用于查询若干个存储控制器的CPU使用率；将CPU使用率确定为计算资源信息。在本申请的一种具体实施方式中，状态信息管理模块，具体用于获取若干个存储控制器的物理内存总量、已使用物理内存数量、空闲物理内存数量、缓冲内存数量；将物理内存总量、已使用物理内存数量、空闲物理内存数量、缓冲内存数量确定为内存资源信息。在本申请的一种具体实施方式中，状态信息管理模块，具体用于获取存储控制器的网卡带宽、连接模式、速率、连接状态、网口数、网口收发包统计和CRC错误；将网卡带宽、连接模式、速率、连接状态、网口数、网口收发包统计和CRC错误确定为网络资源信息。在本申请的一种具体实施方式中，映射表建立模块，具体用于从配置信息、IO负载信息、可用资源信息和IO信息查找出映射因素；利用映射因素构建映射二维矩阵，得到IO与存储控制器的对应关系；基于对应关系，建立映射表。在本申请的一种具体实施方式中，映射表建立模块，用于从配置信息、IO负载信息、可用资源信息和IO信息中，查找出读写类型、IO块大小、访问地址、卷类型、RAID类型及各个存储控制器的CPU状态信息、内存状态信息和网络带宽状态信息；将读写类型、IO块大小、访问地址、卷类型、RAID类型及各个存储控制器的CPU状态信息、内存状态信息和网络带宽状态信息确定为映射因素。在本申请的一种具体实施方式中，映射表建立模块，用于在映射表中，查找与IO信息对应的存储控制器；若与IO信息对应的存储控制器的数量大于1，则通过比对，将与IO信息对应的存储控制器中负载更小或可用资源更多的存储控制器确定为目标存储控制器。在本申请的一种具体实施方式中，映射表建立模块，还用于：定期获取IO负载信息和可用资源信息；利用当前获取的IO负载信息和可用资源信息对映射表进行更新。在本申请的一种具体实施方式中，请求解析模块102，具体用于通过硬件卸载，对IO请求进行解析，得到IO信息。在本申请的一种具体实施方式中，请求解析模块102，具体用于卸载IO的网络和存储协议处理，完成TCP/IP协议、iSCSI协议的硬件卸载；在完成硬件卸载后，对IO请求进行解析，得到IO信息。在本申请的一种具体实施方式中，请求解析模块102，具体用于对IO请求进行解析，得到接口信息、存储协议指令、数据访问地址和读写操作；将接口信息、存储协议指令、数据访问地址和读写操作确定为IO信息。相应于上面的方法实施例，本申请实施例还提供了一种电子设备，下文描述的一种电子设备与上文描述的一种IO请求处理方法可相互对应参照。参见图4所示，该电子设备包括：存储器332，用于存储计算机程序；处理器322，用于执行计算机程序时实现上述方法实施例的IO请求处理方法的步骤。具体的，请参考图5，图5为本实施例提供的一种电子设备的具体结构示意图，该电子设备可因配置或性能不同而产生比较大的差异，可以包括一个或一个以上处理器322和存储器332，存储器332存储有一个或一个以上的计算机程序342或数据344。其中，存储器332可以是短暂存储或持久存储。存储在存储器332的程序可以包括一个或一个以上模块，每个模块可以包括对数据处理设备中的一系列指令操作。更进一步地，处理器322可以设置为与存储器332通信，在电子设备301上执行存储器332中的一系列指令操作。电子设备301还可以包括一个或一个以上电源326，一个或一个以上有线或无线网络接口350，一个或一个以上输入输出接口358，和/或，一个或一个以上操作系统341。上文所描述的IO请求处理方法中的步骤可以由电子设备的结构实现。也就是说，在本申请中，在该电子设备中实施IO请求处理方法，具有如下技术效果：共享网卡与存储系统中的若干个存储控制器相连接，当共享网卡接收到服务器发送的IO请求之后，对该IO请求进行解析，从而获得IO信息。然后，在映射表中，查找出与该IO信息对应的目标存储控制器，再将IO请求发送给目标存储控制器。也就是说，通过共享网卡来对IO请求进行解析，从而进行路由确定，可避免存储控制器之间IO转发操作，可省去存储控制器的部分工作，能够加速IO请求的响应，可以降低系统整体时延。相应于上面的方法实施例，本申请实施例还提供了一种可读存储介质，下文描述的一种可读存储介质与上文描述的一种IO请求处理方法可相互对应参照。一种可读存储介质，可读存储介质上存储有计算机程序，计算机程序被处理器执行时实现上述方法实施例的IO请求处理方法的步骤。该可读存储介质具体可以为U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可存储程序代码的可读存储介质。也就是说，在本申请中，在该可读存储介质中存储的计算机程序被执行时，具有如下技术效果：共享网卡与存储系统中的若干个存储控制器相连接，当共享网卡接收到服务器发送的IO请求之后，对该IO请求进行解析，从而获得IO信息。然后，在映射表中，查找出与该IO信息对应的目标存储控制器，再将IO请求发送给目标存储控制器。也就是说，通过共享网卡来对IO请求进行解析，从而进行路由确定，可避免存储控制器之间IO转发操作，可省去存储控制器的部分工作，能够加速IO请求的响应，可以降低系统整体时延。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其它实施例的不同之处，各个实施例之间相同或相似部分互相参见即可。对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。本领域技术人员还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件的方式来执行，取决于技术方案的特定应用和设计约束条件。本领域技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应该认为超出本申请的范围。结合本文中所公开的实施例描述的方法或算法的步骤可以直接用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。最后，还需要说明的是，在本文中，诸如第一和第二等之类的关系属于仅仅用来将一个实体或者操作与另一个实体或者操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语包括、包含或者其他任何变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请的方法及其核心思想；同时，对于本领域的一般技术人员，依据本申请的思想，在具体实施方式及应用范围上均会有改变之处，综上，本说明书内容不应理解为对本申请的限制。
