标题title
一种天地融合网络下基于大小时间尺度的流量感知法
摘要abst
本发明公开了一种天地融合网络下基于大小时间尺度的流量感知法，本发明针对天地融合的网络环境提出的天地融合架构能感知收集区域内网络资源节点和进行流量信息处理，能适应天地融合网络的特点在大时间尺度下对区域内流量进行预测，可以判断区域内的资源能否满足预测流量所对应的资源需求。通过在小时间尺度上对延迟敏感型的跨节点流量转移能够降低小时间尺度上的流量突发性造成的资源节点过载情况，以及对延迟容忍型的流量进行队列缓存及流量转移能够提高对空闲节点的资源利用率。
权利要求书clms
1.一种天地融合网络下基于大小时间尺度的流量感知法，其特征在于，包括以下步骤：S1，对天地融合网络进行建模，得到卫星地面节点资源池；S2，对区域内流量到来进行预测；S3，根据预测结果判断大时间尺度内卫星地面资源是否满足区域内流量的资源需求；S4，确定进行小时间尺度流量转移的前置条件参数；S5，根据流量大小、类型及资源状态进行流量转移；S6，根据流量转移后的结果进行节点的流量均衡以及资源状态评估。2.根据权利要求1所述的一种天地融合网络下基于大小时间尺度的流量感知法，其特征在于，S1的具体方法如下：将卫星和地面节点进行虚拟化，屏蔽卫星节点的动态性，在时间片内看成地理区域内由一组不变的虚拟卫星节点和地面节点覆盖，从而得到的卫星和地面节点资源池。3.根据权利要求1所述的一种天地融合网络下基于大小时间尺度的流量感知法，其特征在于，S2中，对区域内流量到来进行预测的具体方法如下：根据区域内卫星地面流量历史数据及流量具有周期性来进行大时间尺度下的预测，根据状态集以及历史流量数据得到频数转移矩阵，根据频数转移矩阵得到状态转移矩阵，进而建立马尔可夫转移链，通过分析状态转移来预测下一时刻的流量。4.根据权利要求1所述的一种天地融合网络下基于大小时间尺度的流量感知法，其特征在于，S3中，根据预测结果判断大时间尺度内卫星地面资源是否满足区域内流量的资源需求的方法如下：Along＝{Clong，Slong，Tlong}其中，Along为大时间尺度下流量H′对应的资源需求，需要满足：其中，为大时间尺度内的总资源量，为已使用的资源量。5.根据权利要求1所述的一种天地融合网络下基于大小时间尺度的流量感知法，其特征在于，S4中，小时间尺度流量转移的前置条件参数如下：N0＝βN其中，N0为收容节点可接受流量转移的节点，N为区域内总节点数，β为用来调整收容节点的个数。6.根据权利要求1所述的一种天地融合网络下基于大小时间尺度的流量感知法，其特征在于，S5中，进行流量转移包括延迟敏感型DS和延迟容忍型DT；在流量相同的情况下，节点首先满足延迟敏感型DS的资源需求，剩余的资源随着延迟敏感型DS的动态资源需求而变化，延迟容忍型DT的资源需求通过剩余资源的来动态供给。7.根据权利要求6所述的一种天地融合网络下基于大小时间尺度的流量感知法，其特征在于，延迟敏感型DS的流量转移是根据阈值Ti来确定，阈值Ti由节点的资源量确定：Ti＝γ·RESt，其中，Fi为小时间尺度下节点i的当前流量，RESt为地面节点资源池；流量超过阈值就会进行流量转移，转移的流量为Fij，j∈N0为收容节点，转移后节点j的流量为：其中，ni＝N-No，Fj为收容节点原有的流量；对于延迟容忍型DT与当前节点的资源量及延迟敏感型DS有关，不同种类的延迟容忍型DT有着不同的资源量需求记为表示时隙t时节点i对种类为k的延迟容忍型DT分配的资源，未完成的延迟容忍型DT换存在队列Q中，由于延迟容忍型DT也有时延要求，应控制队列的长度：其中，si为节点i的处理速度0≤si≤1，为处理时隙t时队列中的已有流量，为时隙t时到来的种类为k的延迟容忍型DT流量大小；当节点的平均处理速度小于平均流量到达速率，进行流量转移，转移后节点j的流量为：其中，转移的流量为为具有接受流量转移能力的节点。8.根据权利要求6所述的一种天地融合网络下基于大小时间尺度的流量感知法，其特征在于，通过对延迟敏感型DS的流量转移和延迟容忍型DT的队列缓存及流量转移，达到减少区域内节点的流量过载数量，提高空闲节点的资源利用，降低区域内节点的过载比率，有如下公式：其中，Rover为区域内节点过载比率，Nover为过载的节点个数；对于延迟容忍型DT要保证队列的稳定性有如下公式：Qi≤QT其中，QT为队列长度的阈值，与节点处理速度和流量到达速度共同决定DT是否进行跨节点的流量转移。
说明书desc
技术领域本发明属于天地融合信息网络领域，具体涉及一种天地融合网络下基于大小时间尺度的流量感知法。背景技术近年来，作为融合了卫星和地面通信系统的一种新兴网络架构，天地融合网络得到了学术界和工业界的广泛关注，天地融合网络关系到国家经济和国家安全发展战略，是国家竞争实力和生存能力的重要组成部分。归功于其覆盖范围广、吞吐量高、鲁棒性强等优点，天地融合网络可应用于地球观测与测绘、智能交通系统、军事任务、国土安全、灾难营救等多个实际领域。具有高吞吐量的卫星能够面向全球提供无缝无线接入服务，密集部署的地面网络基础设施支持高速的数据访问。天基与地基网络的融合能够为未来6G无线通信系统带来不可估量的益处，提供更多的应用和服务。对于天地融合网络，由于其自身的异构性、自组织和动态性等特点，融合网络在为各种服务和应用带来显著效益的同时，也面临着路由选择、资源分配、功率控制、端到端服务质量需求等诸多挑战。天基与地基网络的融合会带来业务种类和数量的增加，而以往的流量感知都是在大时间尺度上进行的，比如几十分钟，在大时间尺度下对区域内的网络流量进行预测感知，通过预测结果来进行资源的调度满足流量所对应的资源需求，然而这种流量预测感知仅解决了大时间尺度的流量变化，不能应对天地融合网络中大量业务场景下小时间尺度的细粒度流量变化，比如秒或者几百毫秒，小时间尺度下的流量具有突发性，会导致区域内部分节点出现过载情况，从而影响整个区域内的服务质量。目前对天地融合网络流量感知的研究基本都是大时间尺度下的进行的，很少考虑小时间尺度下的流量变化，以往的流量预测算法也只针对单一网络，要么是卫星网络，要么是地面网络，对于天地融合网络的流量预测研究较少。一般的流量预测有两类，分别是线性和非线性，其中线性的需要人工凭经验设置参数来拟合数据，应用范围小，实际的网络流量具有非线性、周期性、突发性、自似性等特点，因此非线性流量预测的应用范围大，然而因为传统的流量预测是在单一网络中进行的，没有联合考虑天基网络和地基网络的特点，所以不适合在天地融合网络中进行流量预测。传统的流量感知处理只是针对大时间尺度的情况，很少考虑到小时间尺度的流量变化，而且一般很难对这种流量变化进行预测，因此对于小时间尺度下的流量变化经常会被忽视，而这种流量的突发变化会在不同的时间导致节点不同的结果，流量突变处于峰值时会过载造成拥塞进而导致节点产生较大的服务延迟，降低了节点的服务质量，或者流量突变处于谷底时会导致节点空闲造成节点资源的浪费。因此如何解决小时间尺度下流量突发变化对于区域内节点流量均衡以及资源合理利用十分重要。发明内容本发明的目的在于克服上述不足，提供一种天地融合网络下基于大小时间尺度的流量感知法，针对天地融合网络多维资源，资源动态性，小时间尺度流量突发性的特点，提出了大时间尺度下的基于马尔可夫的流量预测方法，考虑了天基节点和地基节点的特征，在大时间尺度下对区域内的流量进行预测，来判断区域内的资源能否满足流量需求，然后在小的时间尺度下根据流量的突发性及考虑流量的特征对延迟敏感型进行流量转移，对延迟容忍型放入队列缓存及流量转移。为了达到上述目的，本发明包括以下步骤：S1，对天地融合网络进行建模，得到卫星地面节点资源池；S2，对区域内流量到来进行预测；S3，根据预测结果判断大时间尺度内卫星地面资源是否满足区域内流量的资源需求；S4，确定进行小时间尺度流量转移的前置条件参数；S5，根据流量大小、类型及资源状态进行流量转移；S6，根据流量转移后的结果进行节点的流量均衡以及资源状态评估。S1的具体方法如下：将卫星和地面节点进行虚拟化，屏蔽卫星节点的动态性，在时间片内看成地理区域内由一组不变的虚拟卫星节点和地面节点覆盖，从而得到的卫星和地面节点资源池。S2中，对区域内流量到来进行预测的具体方法如下：根据区域内卫星地面流量历史数据及流量具有周期性来进行大时间尺度下的预测，根据状态集以及历史流量数据得到频数转移矩阵，根据频数转移矩阵得到状态转移矩阵，进而建立马尔可夫转移链，通过分析状态转移来预测下一时刻的流量。S3中，根据预测结果判断大时间尺度内卫星地面资源是否满足区域内流量的资源需求的方法如下：Along＝Clong,Slong,Tlong}其中，Along为大时间尺度下流量H′对应的资源需求，需要满足：其中，为大时间尺度内的总资源量，为已使用的资源量。S4中，小时间尺度流量转移的前置条件参数如下：N0＝βN其中，N0为收容节点可接受流量转移的节点，N为区域内总节点数，β为用来调整收容节点的个数。S5中，进行流量转移包括延迟敏感型DS和延迟容忍型DT；在流量相同的情况下，节点首先满足延迟敏感型DS的资源需求，剩余的资源随着延迟敏感型DS的动态资源需求而变化，延迟容忍型DT的资源需求通过剩余资源的来动态供给。延迟敏感型DS的流量转移是根据阈值Ti来确定，阈值Ti由节点的资源量确定：Ti＝γ·RESt，其中，Fi为小时间尺度下节点i的当前流量，RESt为地面节点资源池；流量超过阈值就会进行流量转移，转移的流量为Fij,j∈N0为收容节点，转移后节点j的流量为：其中，ni＝N-No,Fj为收容节点原有的流量；对于延迟容忍型DT与当前节点的资源量及延迟敏感型DS有关，不同种类的延迟容忍型DT有着不同的资源量需求记为表示时隙t时节点i对种类为k的延迟容忍型DT分配的资源，未完成的延迟容忍型DT换存在队列Q中，由于延迟容忍型DT也有时延要求，应控制队列的长度：其中，si为节点i的处理速度0≤si≤1，为处理时隙t时队列中的已有流量，为时隙t时到来的种类为k的延迟容忍型DT流量大小；当节点的平均处理速度小于平均流量到达速率，进行流量转移，转移后节点j的流量为：其中，转移的流量为i,j∈N为具有接受流量转移能力的节点。通过对延迟敏感型DS的流量转移和延迟容忍型DT的队列缓存及流量转移，达到减少区域内节点的流量过载数量，提高空闲节点的资源利用，降低区域内节点的过载比率，有如下公式：其中，Rover为区域内节点过载比率，Nover为过载的节点个数；对于延迟容忍型DT要保证队列的稳定性有如下公式：Qi≤QT其中，QT为队列长度的阈值，与节点处理速度和流量到达速度共同决定DT是否进行跨节点的流量转移。与现有技术相比，本发明针对天地融合的网络环境提出的天地融合架构能感知收集区域内网络资源节点和进行流量信息处理，能适应天地融合网络的特点在大时间尺度下对区域内流量进行预测，可以判断区域内的资源能否满足预测流量所对应的资源需求。通过在小时间尺度上对延迟敏感型的跨节点流量转移能够降低小时间尺度上的流量突发性造成的资源节点过载情况，以及对延迟容忍型的流量进行队列缓存及流量转移能够提高对空闲节点的资源利用率。附图说明图1为本发明的网络架构图；图2为本发明中大时间尺度下区域内的流量预测流程图；图3为本发明中小时间尺度流量转移流程图；图4为本发明中流量转移的削峰填谷示意图；图5为本发明中流量转移前后的节点过载比率和资源利用率图；具体实施方式下面结合附图对本发明做进一步说明。本发明的基于SDN的天地融合网络架构参见图1，在此架构中的流量处理模块进行大时间尺度的流量预测，流量预测的流程见图2，小时间尺度的跨节点流量转移流量见图3，最后得到流量转移后区域内节点的流量均衡状态，流量转移的削峰填谷见图4。本发明具体包括以下步骤：步骤1，构建天地一体化架构，并得到虚拟化的多维资源池，构建的天地融合网络架构有控制层、流量处理层、资源层，如图1所示，其中：控制层主要基于SDN的控制器来获取网络的信息以及控制和管理网络，流量处理层主要负责大时间尺度的流量预测和小时间尺度的流量转移，资源层是将天基和地基节点进行虚拟化，抽象出多维资源，屏蔽卫星节点的动态性，得到卫星地面节点资源池，在时间片内可看成地理区域由一组不变的虚拟卫星节点和地面节点覆盖，得到的卫星和地面节点资源池RESt＝{Ct,St,Tt},0＜t≤Th，其中Ct为计算资源，St为存储资源，Tt为传输资源，资源具有存活时间，0＜t≤Th表示节点在地理区域内。步骤2，预测下一时刻的流量，针对天地融合网络中的流量具有周期性的特点，对区域内流量到来进行预测，根据区域内卫星地面流量历史数据以及流量具有周期性的特点来进行大时间尺度下的预测如图2所示，历史流量数据为H，划分相应的状态集S＝{1,2...s}，根据状态集以及历史流量数据得到频数转移矩阵fij，然后得到状态转移矩阵P＝pij，pij＝P{xs+1＝j|xs＝i}表示时刻s处于状态i的条件下经过1步处于j的概率，其中pij≥0，∑j∈spij＝1，进而建立马尔可夫转移链{xn,n＝1,2,...k}，通过分析状态转移来预测下一时刻的流量H′，若则认为预测结果可信，否则使用历史数据平均值步骤3，根据预测结果确定是否满足资源需求，判断大时间尺度内卫星地面资源是否满足区域内流量的资源需求，根据流量预测结果来确定已有的资源量是否满足流量对应的资源需求，有：Along＝{Clong,Slong,Tlong}其中，Along为大时间尺度下流量H′对应的资源需求，需要满足其中，为大时间尺度内的总资源量，为已使用的资源量。步骤4，确定进行小时间尺度流量转移的前置条件参数，考虑到小时间尺度下的流量转移的复杂度，需要设置部分节点具有接受流量转移的能力，参数N0＝βN，其中N0为收容节点可接受流量转移的节点，N为区域内总节点数，参数β用来调整收容节点的个数，对于延迟容忍型流量因为该类型能容忍一定程度的延迟故选择临近空闲节点作为收容节点；步骤5，流量转移实施，根据流量大小、类型及资源状态进行流量转移，如图3所示，小时间尺度的跨节点流量转移考虑两种不同场景：延迟敏感型DS和延迟容忍型DT，在流量相同的情况下，较小的服务延迟会导致较大的资源需求，所以节点应当保证一个较低水平的过载水平，故首先满足延迟敏感型DS的资源需求，剩余的资源随着延迟敏感型DS的动态资源需求而变化，延迟容忍型DT的资源需求通过剩余资源的来动态供给。对延迟敏感型DS的流量转移是根据一定的阈值Ti来确定，Ti由节点的资源量确定有Ti＝γ·RESt，其中，Fi为小时间尺度下节点i的当前流量，流量超过阈值就会进行流量转移，转移的流量为Fij,j∈N0为收容节点，转移后节点j的流量为其中，ni＝N-No,Fj为收容节点原有的流量；对于延迟容忍型DT与当前节点的资源量及延迟敏感型DS有关，不同种类的延迟容忍型DT有着不同的资源量需求记为表示时隙t时节点i对种类为k的延迟容忍型DT分配的资源，未完成的延迟容忍型DT可以换存在队列Q中，由于延迟容忍型DT也有一定的时延要求，应控制队列的长度：其中，si为节点i的处理速度0≤si≤1，为处理时隙t时队列中的已有流量,为时隙t时到来的种类为k的延迟容忍型DT流量大小,当节点的平均处理速度小于平均流量到达速率，会导致队列过长不稳定从而满足不了时延要求，就进行流量转移，转移后节点j的流量为：其中，转移的流量为i,j∈N为具有接受流量转移能力的节点。步骤6，评价流量转移后的效果，根据流量转移后的结果进行节点的流量均衡以及资源状态评估，通过对延迟敏感型DS的流量转移和延迟容忍型DT的队列缓存及流量转移，可以达到减少区域内节点的流量过载数量，提高空闲节点的资源利用，降低区域内节点的过载比率，有如下公式：subjecttoN≤ni＜N，i,j＝1,…,N；其中，Rover为区域内节点过载比率，Nover为过载的节点个数，对于延迟容忍DT要保证队列的稳定性有如下公式Qi≤QT，i,j＝1,…,N；其中，QT为队列长度的阈值，与节点处理速度和流量到达速度共同决定延迟容忍DT是否进行跨节点的流量转移。图5描述了流量转移前后的节点过载比率和资源利用率图，可以看出，在流量没有转移前节点的过载比率较高资源利用率也很低，经过流量转移节点过载比率大幅度下降到8.4％，进而资源利用率提升到了92.1％，说明本发明能够有效地降低小时间尺度上的流量突发性造成的资源节点过载情况，同时也提高了资源利用率。
