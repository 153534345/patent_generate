标题title
针对车辆电池单体不一致性的检测方法、设备和介质
摘要abst
本发明涉及测量电变量技术领域，公开了一种针对车辆电池单体不一致性的检测方法、设备和介质，该方法通过获取待检测车辆对应的当前电池数据，判断该当前电池数据是否对应充电工况，若对应充电工况，则通过第一预警模型，在当前电池数据中截取目标分析数据，进而根据各单体之间的当前电压压差均值，判断是否存在电池单体不一致的情况，若对应放电工况，则通过第二预警模型，在当前电池数据中截取目标分析数据，进而根据各电池单体在相邻时间点之间的当前电压差分，判断是否存在电池单体不一致的情况，以实现了充电工况和放电工况下的分别检测，提高了检测准确性，并且，截取部分数据进行后续检测，减少了检测中的计算量，提高了检测效率。
权利要求书clms
1.一种针对车辆电池单体不一致性的检测方法，其特征在于，包括：获取待检测车辆对应的当前电池数据，其中，所述当前电池数据包括充放电状态、各单体电压、电池电流以及电池荷电状态；若基于所述充放电状态确定所述当前电池数据对应充电工况，则通过充电工况对应的第一预警模型，基于所述当前电池数据中各时间点的电池荷电状态，在所述当前电池数据中截取目标分析数据，根据所述目标分析数据对应的各单体之间的当前电压压差均值，判断所述待检测车辆是否存在电池单体不一致的情况；若基于所述充放电状态确定所述当前电池数据对应放电工况，则通过放电工况对应的第二预警模型，基于所述当前电池数据中各时间点的电池电流以及电池荷电状态，在所述当前电池数据中截取目标分析数据，根据所述目标分析数据对应的各电池单体在相邻时间点之间的当前电压差分，判断所述待检测车辆是否存在电池单体不一致的情况。2.根据权利要求1所述的方法，其特征在于，所述基于所述当前电池数据中各时间点的电池荷电状态，在所述当前电池数据中截取目标分析数据，包括：获取预设电量分析第一范围；基于所述预设电量分析第一范围，在所述当前电池数据中选取电池荷电状态位于所述预设电量分析第一范围内的各时间点；根据选取的各时间点的各单体电压构建目标分析数据。3.根据权利要求1所述的方法，其特征在于，所述基于所述当前电池数据中各时间点的电池电流以及电池荷电状态，在所述当前电池数据中截取目标分析数据，包括：获取预设电量分析第二范围以及预设电流分析范围；基于所述预设电量分析第二范围以及所述预设电流分析范围，在所述当前电池数据中选取电池荷电状态位于所述预设电量分析第二范围内、且电池电流位于所述预设电流分析范围内的各时间点；根据选取的各时间点的各单体电压构建目标分析数据。4.根据权利要求2所述的方法，其特征在于，所述根据所述目标分析数据对应的各单体之间的当前电压压差均值，判断所述待检测车辆是否存在电池单体不一致的情况，包括：针对所述目标分析数据中的每一个时间点，基于时间点的各单体电压确定所述时间点下的各单体之间的最大电压压差；根据各所述时间点下的最大电压压差，确定所述目标分析数据对应的当前电压压差均值；判断所述当前电压压差均值是否大于第一预设阈值，若是，则确定所述待检测车辆在当前单充电工况下存在电池单体不一致的情况，并生成第一预警信号发送至所述待检测车辆对应的关联终端。5.根据权利要求4所述的方法，其特征在于，所述根据所述目标分析数据对应的各单体之间的当前电压压差均值，判断所述待检测车辆是否存在电池单体不一致的情况，还包括：基于距离当前时刻最近的预设次数个历史充电工况的历史电池数据，确定各历史充电工况的历史电压压差均值；根据各所述历史充电工况的历史电压压差均值、各所述历史充电工况距离首次充电工况的时间、当前单充电工况的当前电压压差均值，以及所述当前单充电工况距离所述首次充电工况的时间，构建压差均值变化曲线，并确定所述压差均值变化曲线对应的曲线第一斜率；若所述曲线第一斜率大于第二预设阈值，且，各所述历史电压压差均值以及当前电压压差均值中的最大值与最小值之间的差值大于第三预设阈值，则确定所述待检测车辆在多充电工况下存在电池单体不一致的情况，并生成第二预警信号发送至所述待检测车辆对应的关联终端。6.根据权利要求3所述的方法，其特征在于，所述根据所述目标分析数据对应的各电池单体在相邻时间点之间的当前电压差分，判断所述待检测车辆是否存在电池单体不一致的情况，包括：针对每一个电池单体，根据所述目标分析数据中的所述电池单体对应的各时间点的单体电压，确定所述电池单体在相邻时间点之间的当前电压差分，根据各所述当前电压差分确定所述电池单体的当前电压离散系数；根据各所述电池单体的当前电压离散系数，确定当前离散系数最大值以及当前离散系数最大差异值；若所述当前离散系数最大值大于第四预设阈值，且所述当前离散系数最大差异值大于第五预设阈值，则确定所述待检测车辆在当前单放电工况下存在电池单体不一致的情况，并生成第一预警信号发送至所述待检测车辆对应的关联终端。7.根据权利要求6所述的方法，其特征在于，所述根据所述目标分析数据对应的各电池单体在相邻时间点之间的当前电压差分，判断所述待检测车辆是否存在电池单体不一致的情况，还包括：基于距离当前时刻最近的预设次数个历史放电工况的历史电池数据，确定各历史放电工况的历史离散系数最大值和历史离散系数最大差异值；根据各所述历史放电工况的历史离散系数最大差异值、各所述历史放电工况距离首次放电工况的时间、当前单放电工况的当前离散系数最大差异值，以及所述当前单放电工况距离所述首次放电工况的时间，构建离散系数差异值变化曲线，并确定所述离散系数差异值变化曲线对应的曲线第二斜率；若所述曲线第二斜率大于第六预设阈值，且，各所述历史离散系数最大值以及所述当前离散系数最大值中的最大值大于第七预设阈值，则确定所述待检测车辆在多放电工况下存在电池单体不一致的情况，并生成第二预警信号发送至所述待检测车辆对应的关联终端。8.根据权利要求6所述的方法，其特征在于，所述根据各所述当前电压差分确定所述电池单体的当前电压离散系数，包括：根据各所述当前电压差分确定电压差分平均值；基于各所述当前电压差分以及所述电压差分平均值，确定电压差分标准差；根据所述电压差分平均值以及所述电压差分标准差，确定所述电池单体的当前电压离散系数。9.一种电子设备，其特征在于，所述电子设备包括：处理器和存储器；所述处理器通过调用所述存储器存储的程序或指令，用于执行如权利要求1至8任一项所述的针对车辆电池单体不一致性的检测方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储程序或指令，所述程序或指令使计算机执行如权利要求1至8任一项所述的针对车辆电池单体不一致性的检测方法的步骤。
说明书desc
技术领域本发明涉及测量电变量技术领域，尤其涉及一种针对车辆电池单体不一致性的检测方法、设备和介质。背景技术新能源汽车的安全始终是交通安全关注的重点，也是众多整车企业车辆研发的首要之责。新能源汽车自发热失控正是车辆安全的最关键的部分之一，其中，电池单体不一致是导致车辆发生热失控的主要原因。然而，目前的针对电池单体不一致性的识别算法存在精确度低、以及计算量大的问题。有鉴于此，特提出本发明。发明内容为了解决上述技术问题，本发明提供了一种针对车辆电池单体不一致性的检测方法、设备和介质，以实现电池单体不一致性的检测，解决现有技术中检测的准确度低和计算量大的问题。本发明实施例提供了一种针对车辆电池单体不一致性的检测方法，该方法包括：获取待检测车辆对应的当前电池数据，其中，所述当前电池数据包括充放电状态、各单体电压、电池电流以及电池荷电状态；若基于所述充放电状态确定所述当前电池数据对应充电工况，则通过充电工况对应的第一预警模型，基于所述当前电池数据中各时间点的电池荷电状态，在所述当前电池数据中截取目标分析数据，根据所述目标分析数据对应的各单体之间的当前电压压差均值，判断所述待检测车辆是否存在电池单体不一致的情况；若基于所述充放电状态确定所述当前电池数据对应放电工况，则通过放电工况对应的第二预警模型，基于所述当前电池数据中各时间点的电池电流以及电池荷电状态，在所述当前电池数据中截取目标分析数据，根据所述目标分析数据对应的各电池单体在相邻时间点之间的当前电压差分，判断所述待检测车辆是否存在电池单体不一致的情况。本发明实施例提供了一种电子设备，所述电子设备包括：处理器和存储器；所述处理器通过调用所述存储器存储的程序或指令，用于执行任一实施例所述的针对车辆电池单体不一致性的检测方法的步骤。本发明实施例提供了一种计算机可读存储介质，所述计算机可读存储介质存储程序或指令，所述程序或指令使计算机执行任一实施例所述的针对车辆电池单体不一致性的检测方法的步骤。本发明实施例具有以下技术效果：获取待检测车辆对应的当前电池数据，根据当前电池数据中的充放电状态判断该当前电池数据是否对应充电工况，若是，则通过充电工况对应的第一预警模型，根据当前电池数据中各时间点的电池荷电状态，在当前电池数据中截取目标分析数据，进而根据目标分析数据对应的各单体之间的当前电压压差均值，判断是否存在电池单体不一致的情况，若否，则通过放电工况对应的第二预警模型，根据当前电池数据中各时间点的电池电流以及电池荷电状态，在当前电池数据中截取目标分析数据，进而根据目标分析数据对应的各电池单体在相邻时间点之间的当前电压差分，判断是否存在电池单体不一致的情况，以区分充电工况和放电工况，并针对不同工况分别提出不同的预警模型，实现了充电工况和放电工况下的分别检测，提高了电池不一致性预警的检测准确性，解决了现有技术中检测的准确度低的问题，并且，在充电和放电工况下，从当前电池数据中截取部分数据作为目标分析数据进行后续检测，减少了检测所需数据量，进而减少了检测过程中的计算量，提高了检测效率，解决了现有技术中检测计算量大的问题。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的一种针对车辆电池单体不一致性的检测方法的流程图；图2是本发明实施例提供的一种电子设备的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将对本发明的技术方案进行清楚、完整的描述。显然，所描述的实施例仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动的前提下所得到的所有其它实施例，都属于本发明所保护的范围。本发明实施例提供的针对车辆电池单体不一致性的检测方法，主要适用于平台、服务器或云端根据接收到的某一新能源汽车的当前电池数据，判断该车辆是否存在电池单体不一致的情况，进而对电池单体不一致的情况进行及时预警。本发明实施例提供的针对车辆电池单体不一致性的检测方法可以由集成在车端、服务器、云端设备或平台设备中的电子设备执行。图1是本发明实施例提供的一种针对车辆电池单体不一致性的检测方法的流程图。参见图1，该针对车辆电池单体不一致性的检测方法具体包括：S110、获取待检测车辆对应的当前电池数据，其中，当前电池数据包括充放电状态、各单体电压、电池电流以及电池荷电状态。其中，待检测车辆可以是当前待识别是否存在电池单体不一致情况的车辆。具体的，平台可以实时接收各个待检测车辆通过T-BOX发送的当前电池数据。具体的，当前电池数据可以包括充放电状态、各单体电压、电池电流以及电池荷电状态。其中，充放电状态可以具体为充电状态或放电状态，表示待检测车辆中的电池的状态；单体电压可以是待检测车辆中动力电池的各电池单体对应的实际电压；电池电流可以是待检测车辆中动力电池的实际电流；电池荷电状态可以是待检测车辆中动力电池的实际剩余电量。当然，除了充放电状态、各单体电压、电池电流以及电池荷电状态之外，当前电池数据还可以包括实时车速、定位信息等数据。S120、若基于充放电状态确定当前电池数据对应充电工况，则通过充电工况对应的第一预警模型，基于当前电池数据中各时间点的电池荷电状态，在当前电池数据中截取目标分析数据，根据目标分析数据对应的各单体之间的当前电压压差均值，判断待检测车辆是否存在电池单体不一致的情况。具体的，可以根据当前电池数据中的充放电状态，判断待检测车辆的当前电池数据对应的是充电工况或放电工况。如，若充放电状态为充电状态，则当前电池数据对应的是充电工况，若充放电状态为放电状态，则当前电池数据对应的是放电工况。如果当前电池数据对应充电工况，则可以将当前电池数据作为当前充电工况对应的数据，进一步的，可以通过第一预警模型判断待检测车辆是否存在电池单体不一致的情况。其中，第一预警模型可以用于根据充电工况下的当前电池数据识别是否存在电池单体不一致的情况。在本发明实施例中，第一预警模型可以先从当前电池数据中选取部分数据作为目标分析数据，以通过目标分析数据判断是否存在电池单体不一致的情况。例如，随机从当前电池数据中选取预设数量个时间点的数据作为目标分析数据。在一种具体的实施方式中，基于所述当前电池数据中各时间点的电池荷电状态，在所述当前电池数据中截取目标分析数据，包括：获取预设电量分析第一范围；基于预设电量分析第一范围，在当前电池数据中选取电池荷电状态位于预设电量分析第一范围内的各时间点；根据选取的各时间点的各单体电压构建目标分析数据。其中，预设电量分析第一范围包括荷电状态上限以及荷电状态下限。示例性的，预设电量分析第一范围可以是SOC在90~100范围内。需要说明的是，选取SOC在90~100作为预设电量分析第一范围的目的在于：由于在充电工况下，电池SOC在90~100范围内时电池更容易出现故障，进而电池单体不一致性体现更加明显，因此，选取该范围内的数据进行不一致性分析，可以在保证分析准确性的同时，极大地提高了分析效率。具体的，可以筛选出电池荷电状态位于预设电量分析第一范围内的各时间点，进而根据筛选后的各时间点的各单体电压构建目标分析数据。通过上述实施方式，可以在当前电池数据中选取位于预设电量分析第一范围内的各时间点，以便于后续根据该部分时间点的各单体电压检测电池单体不一致性，在保证分析准确性的同时，极大地提高了分析效率。进一步的，第一预警模型可以根据目标分析数据中各时间点的各单体电压，确定各单体之间的当前电压压差均值。例如，确定出每一个时间点下单体之间的最大电压压差，进而将所有时间点的最大电压压差的均值作为当前电压压差均值。进一步的，可以通过当前电压压差均值检测电池单体不一致性。在一种具体的实施方式中，根据目标分析数据对应的各单体之间的当前电压压差均值，判断待检测车辆是否存在电池单体不一致的情况，包括：针对目标分析数据中的每一个时间点，基于时间点的各单体电压确定时间点下的各单体之间的最大电压压差；根据各时间点下的最大电压压差，确定目标分析数据对应的当前电压压差均值；判断当前电压压差均值是否大于第一预设阈值，若是，则确定待检测车辆在当前单充电工况下存在电池单体不一致的情况，并生成第一预警信号发送至待检测车辆对应的关联终端。示例性的，第一预警模型可以通过如下公式得到各时间点下的最大电压压差：；式中，为时间点下的最大单体电压，/＞为时间点下的最小单体电压，为该时间点下的最大电压压差。在得到每一个时间点下的最大电压压差后，进一步的，计算所有时间点下的当前电压压差均值：；式中，为所有时间点下的当前电压压差均值，p表示当前时间点，，/＞表示目标分析数据中的时间点的数量。进一步的，第一预警模型可以判断当前电压压差均值是否大于第一预设阈值，其中，第一预设阈值为预先设置的用于判断单充电工况电池不一致性的临界值，如，60mV。如果当前电压压差均值大于第一预设阈值，则表示在当前充电工况下，各电池单体之间的电压差值较大，待检测车辆存在电池不一致性的情况。进一步的，平台可以生成第一预警信号发送至待检测车辆对应的关联终端，以提醒驾驶员及时远离车辆，或及时更换车辆电池。其中，关联终端可以是待检测车辆的车控屏，也可以是与待检测车辆关联的用户终端，如用户的手机、智能手表等。第一预警信号可以是文字、语音，或文字与语音结合的形式，对此不进行限定。通过上述实施方式，可以根据实时获取到的当前电池数据，实现对当前的单充电工况下的电池单体不一致性检测，保证了检测精度。在本发明实施例中，为了进一步保证电池单体不一致性检测的准确度，避免单充电工况下由于信号干扰等原因导致数据异常，使得误检测出电池单体不一致性的情况，还可以基于实时获取到的当前电池数据，实现连续多充电工况下的电池单体不一致性检测。可选的，根据目标分析数据对应的各单体之间的当前电压压差均值，判断待检测车辆是否存在电池单体不一致的情况，还包括：基于距离当前时刻最近的预设次数个历史充电工况的历史电池数据，确定各历史充电工况的历史电压压差均值；根据各历史充电工况的历史电压压差均值、各历史充电工况距离首次充电工况的时间、当前单充电工况的当前电压压差均值，以及当前单充电工况距离首次充电工况的时间，构建压差均值变化曲线，并确定压差均值变化曲线对应的曲线第一斜率；若曲线第一斜率大于第二预设阈值，且，各历史电压压差均值以及当前电压压差均值中的最大值与最小值之间的差值大于第三预设阈值，则确定待检测车辆在多充电工况下存在电池单体不一致的情况，并生成第二预警信号发送至待检测车辆对应的关联终端。具体的，第一预警模型可以根据当前时刻，获取该待检测车辆距离当前时刻最近的预设次数个历史充电工况的历史电池数据。其中，各历史充电工况可以是单充电工况。例如，获取距离当前时刻最近的N1个历史充电工况的历史电池数据。进一步的，针对每一个历史充电工况，根据该历史充电工况的历史电池数据，确定该历史充电工况的历史电压压差均值。其中，历史电压压差均值的确定方式可参考当前电压压差均值的确定方式。进一步的，第一预警模型可以以各历史充电工况的历史电压压差均值、当前单充电工况的当前电压压差均值为纵坐标，以各历史充电工况距离首次充电工况的时间、当前单充电工况距离首次充电工况的时间为横坐标，绘制各个点，进而根据绘制的点进行一次线性拟合，得到压差均值变化曲线。其中，压差均值变化曲线的横轴表示距离首次充电工况的时间，纵轴表示电压压差均值，压差均值变化曲线可以反映出在连续多充电工况下电压压差均值的变化。示例性的，历史充电工况或当前单充电工况距离首次充电工况的时间可以是：，其中，/＞为第j个充电工况的起始时间，/＞为首个充电工况的起始时间，/＞为第j个充电工况的起始时间距离首个充电工况的时间。其中，需要说明的是，首个充电工况可以是平台获取到的待检测车辆的第一个单充电工况。进一步的，第一预警模型可以确定压差均值变化曲线对应的曲线第一斜率，其中，曲线第一斜率可以反映在连续多充电工况下电压压差均值的变化率。如果曲线第一斜率大于第二预设阈值，并且，所有历史电压压差均值以及当前电压压差均值中的最大的电压压差均值和最小的电压压差均值之间的差值大于第三预设阈值，则第一预警模型可以确定待检测车辆在多充电工况下存在电池单体不一致的情况，此时，平台可以生成第二预警信号发送至待检测车辆对应的关联终端。其中，第二预设阈值可以是预先设置的用于检测连续多充电工况下电池单体不一致的压差均值变化率的临界值，如，0.05。第三预设阈值可以是预先设置的用于检测连续多充电工况下电池单体不一致的压差均值的差距临界值，如，40mV。通过上述实施方式，实现了连续多充电工况下的电池单体不一致性检测，进一步保证了电池单体不一致性检测的准确度，避免单充电工况下由于信号干扰等原因导致数据异常，使得误检测出电池单体不一致性的情况或漏检出电池单体不一致性的情况，同时，基于多次连续的充电工况的变化趋势，可以更早发现车辆的潜在危害，保证车辆安全。S130、若基于充放电状态确定当前电池数据对应放电工况，则通过放电工况对应的第二预警模型，基于当前电池数据中各时间点的电池电流以及电池荷电状态，在当前电池数据中截取目标分析数据，根据目标分析数据对应的各电池单体在相邻时间点之间的当前电压差分，判断待检测车辆是否存在电池单体不一致的情况。具体的，如果当前电池数据对应放电工况，则可以将当前电池数据作为当前放电工况对应的数据。进一步的，可以通过第二预警模型判断待检测车辆是否存在电池单体不一致的情况。其中，第二预警模型可以用于根据放电工况下的当前电池数据识别是否存在电池单体不一致的情况。在本发明实施例中，第二预警模型可以先从当前电池数据中选取部分数据作为目标分析数据，以通过目标分析数据判断是否存在电池单体不一致的情况。例如，随机从当前电池数据中选取预设数量个时间点的数据作为目标分析数据。在一种具体的实施方式中，基于当前电池数据中各时间点的电池电流以及电池荷电状态，在当前电池数据中截取目标分析数据，包括：获取预设电量分析第二范围以及预设电流分析范围；基于预设电量分析第二范围以及预设电流分析范围，在当前电池数据中选取电池荷电状态位于预设电量分析第二范围内、且电池电流位于预设电流分析范围内的各时间点；根据选取的各时间点的各单体电压构建目标分析数据。其中，预设电量分析第二范围可以包括荷电状态上限以及荷电状态下限。示例性的，预设电量分析第二范围可以是SOC在0~10范围内。预设电流分析范围可以包括电池电流上限和电池电流下限。示例性的，预设电流分析范围可以是电池电流在0~5范围内。需要说明的是，选取SOC在0~10作为预设电量分析第二范围、选取电池电流在0~5作为预设电流分析范围的目的在于：由于在放电工况下，在小电流、低SOC的时间范围内的数据中，电池单体的不一致性体现更加明显，因此，选取该范围内的数据进行不一致性分析，可以在保证分析准确性的同时，极大地提高了分析效率。具体的，可以筛选出电池荷电状态位于预设电量分析第二范围内、且电池电流位于预设电流分析范围内的各时间点，进而根据筛选后的各时间点的各单体电压构建目标分析数据。通过上述实施方式，可以在当前电池数据中选取位于预设电量分析第二范围以及预设电流分析范围内的各时间点，以便于后续根据该部分时间点的各单体电压检测电池单体不一致性，在保证分析准确性的同时，极大地提高了分析效率。进一步的，第二预警模型可以根据目标分析数据中各时间点的各单体电压，确定每一个电池单体在相邻时间点之间的当前电压差分。进一步的，可以通过各当前电压差分检测电池单体不一致性。示例性的：；式中，表示第q个电池单体在时间点l和时间点l+1之间的当前电压差分，，Q为待检测车辆的电池单体的总数量，/＞为第q个电池单体在时间点l+1的单体电压，/＞为第q个电池单体在时间点l的单体电压。在一种具体的实施方式中，根据目标分析数据对应的各电池单体在相邻时间点之间的当前电压差分，判断待检测车辆是否存在电池单体不一致的情况，包括：针对每一个电池单体，根据目标分析数据中的所述电池单体对应的各时间点的单体电压，确定所述电池单体在相邻时间点之间的当前电压差分，根据各当前电压差分确定电池单体的当前电压离散系数；根据各电池单体的当前电压离散系数，确定当前离散系数最大值以及当前离散系数最大差异值；若当前离散系数最大值大于第四预设阈值，且当前离散系数最大差异值大于第五预设阈值，则确定待检测车辆在当前单放电工况下存在电池单体不一致的情况，并生成第一预警信号发送至待检测车辆对应的关联终端。具体的，对于每一个电池单体，第二预警模型可以根据该电池单体的所有当前电压差分计算出该电池单体的当前电压离散系数。其中，当前电压离散系数可以描述电池单体在当前放电工况下的单体电压波动程度。可选的，根据各当前电压差分确定电池单体的当前电压离散系数，包括：根据各当前电压差分确定电压差分平均值；基于各当前电压差分以及电压差分平均值，确定电压差分标准差；根据电压差分平均值以及电压差分标准差，确定电池单体的当前电压离散系数。具体的，对于一个电池单体，可以根据该电池单体的所有当前电压差分，计算出平均值，即电压差分平均值。如：；式中，为第q个电池单体的电压差分平均值，n表示目标分析中时间点的数量。进一步的，根据该电池单体的所有当前电压差分以及电压差分平均值，计算出该电池单体的电压差分标准差。如：；式中，为第q个电池单体的电压差分标准差。进一步的，第二预警模型可以根据该电池单体的电压差分平均值以及电压差分标准差，确定该电池单体的当前电压离散系数。如：；式中，为第q个电池单体的当前电压离散系数。在上述实施方式中，通过对每一个电池单体的所有当前电压差分，计算电压差分平均值，进而根据电压差分平均值以及所有当前电压差分，计算电压差分标准差，通过电压差分平均值以及电压差分标准差，确定电池单体的当前电压离散系数，实现了对电池单体在当前放电工况下的波动程度的准确描述，进而便于根据当前电压离散系数检测电池单体不一致性，保证了检测准确性。在得到所有电池单体的当前电压离散系数后，第二预警模型可以将最大的当前电压离散系数作为当前离散系数最大值，并将最大与最小的当前电压离散系数之间的差值作为当前离散系数最大差异值。进一步的，第二预警模型可以判断当前离散系数最大值是否与第四预设阈值，以及当前离散系数最大差异值是否大于第五预设阈值，若均满足，则表明存在波动程度较大的电池单体，且各电池单体之间的波动程度的区别也较大，可以确定待检测车辆在当前单放电工况下存在电池单体不一致的情况，进而平台可以向关联终端发送第一预警信号。其中，第四预设阈值可以是预先设置的用于检测单放电工况电池单体不一致性的离散系数临界值，如，0.1，第五预设阈值可以是预先设置的用于检测单放电工况电池单体不一致性的差值临界值，如，0.1。通过上述实施方式，可以根据实时获取到的当前电池数据，实现对当前的单放电工况下的电池单体不一致性检测，保证了检测精度。在本发明实施例中，为了进一步保证电池单体不一致性检测的准确度，避免单放电工况下由于信号干扰等原因导致数据异常，使得误检测出电池单体不一致性的情况，还可以基于实时获取到的当前电池数据，实现连续多放电工况下的电池单体不一致性检测。可选的，根据目标分析数据对应的各电池单体在相邻时间点之间的当前电压差分，判断待检测车辆是否存在电池单体不一致的情况，还包括：基于距离当前时刻最近的预设次数个历史放电工况的历史电池数据，确定各历史放电工况的历史离散系数最大值和历史离散系数最大差异值；根据各历史放电工况的历史离散系数最大差异值、各历史放电工况距离首次放电工况的时间、当前单放电工况的当前离散系数最大差异值，以及当前单放电工况距离首次放电工况的时间，构建离散系数差异值变化曲线，并确定离散系数差异值变化曲线对应的曲线第二斜率；若曲线第二斜率大于第六预设阈值，且，各历史离散系数最大值以及当前离散系数最大值中的最大值大于第七预设阈值，则确定待检测车辆在多放电工况下存在电池单体不一致的情况，并生成第二预警信号发送至待检测车辆对应的关联终端。具体的，第二预警模型可以根据当前时刻，获取该待检测车辆距离当前时刻最近的预设次数个历史放电工况的历史电池数据。其中，各历史放电工况可以是单放电工况。例如，获取距离当前时刻最近的N2个历史放电工况的历史电池数据。进一步的，针对每一个历史放电工况，第二预警模型可以根据该历史放电工况的历史电池数据，确定该历史放电工况的历史离散系数最大值和历史离散系数最大差异值。其中，历史离散系数最大值和历史离散系数最大差异值的确定方式可参考当前离散系数最大值、当前离散系数最大差异值的确定方式。进一步的，第二预警模型可以以各历史放电工况的历史离散系数最大差异值、当前单放电工况的当前离散系数最大差异值为纵坐标，以各历史放电工况距离首次放电工况的时间、当前单放电工况距离首次放电工况的时间为横坐标，绘制各个点，进而根据绘制的点进行一次线性拟合，得到离散系数差异值变化曲线。其中，离散系数差异值变化曲线的横轴表示距离首次放电工况的时间，纵轴表示离散系数最大差异值，离散系数差异值变化曲线可以反映出在连续多放电工况下单体间波动程度差距的变化。进一步的，第二预警模型可以确定离散系数差异值变化曲线对应的曲线第二斜率，其中，曲线第二斜率可以反映在连续多放电工况下单体间波动程度差距的变化率。如果曲线第二斜率大于第六预设阈值，并且，所有历史离散系数最大值与当前离散系数最大值中的最大值大于第七预设阈值，则第二预警模型可以确定待检测车辆在多放电工况下存在电池单体不一致的情况，此时，平台可以生成第二预警信号发送至待检测车辆对应的关联终端。其中，第六预设阈值可以是预先设置的用于检测连续多放电工况下电池单体不一致的离散系数差异的临界值，如，0.001。第七预设阈值可以是预先设置的用于检测连续多放电工况下电池单体不一致的离散系数最大值的临界值，如，0.05。通过上述实施方式，实现了连续多放电工况下的电池单体不一致性检测，进一步保证了电池单体不一致性检测的准确度，避免单放电工况下由于信号干扰等原因导致数据异常，使得误检测出电池单体不一致性的情况或漏检出电池单体不一致性的情况，同时，基于多次连续的放电工况的变化趋势，可以更早发现车辆的潜在危害，保证车辆安全。需要说明的是，在本发明实施例中，不对上述S120与S130的执行顺序进行限定。此外，在本发明实施例中，在从当前电池数据中提取目标分析数据之前，还可以对当前电池数据进行数据清洗。如，将不在预设电压范围内的时间点的数据剔除，或者，将不在预设SOC范围内的时间点的数据剔除。通过该方式，可以将受车辆硬件设备资源影响导致的异常数据剔除，提高了电池单体不一致性的检测精度。并且，在从当前电池数据中提取目标分析数据的过程中，还可以结合车速范围等，选取目标分析数据。本发明实施例提供的方法，对平台获取到的当前电池数据进行划分，结合充电工况与放电工况特点，提出不同工况下分别采用不同的预警模型。与传统检测方法采用统一预测方法的方式相比，传统检测方法使用统一模型及参数，处理充放电两种工况的采集数据易造成模型计算结果的误差，造成误报。而本发明实施例提供的方法，针对两类工况提出不同的电池不一致预警模型，充电工况下，车辆状态较为稳定，通过最高电压与最低电压之间差值及其进一步计算量识别；放电工况下，车辆状态波动性更剧烈，通过单体电压随时间波动的差异值及其衍生计算值识别，可以解决传统方法存在的问题。并且，考虑到充放电状态下电池数据的波动情况，截取部分数据进行不一致性分析，减少了预警模型的计算量。与传统检测方法针对不同工况内全部数据进行模型分析相比，传统方法计算量过大，本发明实施例提供的方法可以降低计算量，提高检测效率。除了单次的充放电工况的检测之外，还实现了两种工况下多次工况变量趋势变化的检测策略。单工况检测常常因数据偶发性造成误报，还可能因数据超过阈值造成预警不及时。多次工况下的检测可以避免了数据异常导致的预警误报，同时基于多次工况的变量变化趋势可以更早发现车辆的潜在危害，并解决传统方法中基于单次充放电结果达到阈值进行预警造成预警不及时的问题。本发明实施例提供的针对车辆电池单体不一致性的检测方法，可以由在新能源车辆上搭载的硬件设备执行，该硬件设备作为独立的预警装置保障驾驶员安全，也可以由安全预警云平台执行，云平台分析后将结果反馈至车端或用户终端。本发明具有以下技术效果：获取待检测车辆对应的当前电池数据，根据当前电池数据中的充放电状态判断该当前电池数据是否对应充电工况，若是，则通过充电工况对应的第一预警模型，根据当前电池数据中各时间点的电池荷电状态，在当前电池数据中截取目标分析数据，进而根据目标分析数据对应的各单体之间的当前电压压差均值，判断是否存在电池单体不一致的情况，若否，则通过放电工况对应的第二预警模型，根据当前电池数据中各时间点的电池电流以及电池荷电状态，在当前电池数据中截取目标分析数据，进而根据目标分析数据对应的各电池单体在相邻时间点之间的当前电压差分，判断是否存在电池单体不一致的情况，以区分充电工况和放电工况，并针对不同工况分别提出不同的预警模型，实现了充电工况和放电工况下的分别检测，提高了电池不一致性预警的检测准确性，解决了现有技术中检测的准确度低的问题，并且，在充电和放电工况下，从当前电池数据中截取部分数据作为目标分析数据进行后续检测，减少了检测所需数据量，进而减少了检测过程中的计算量，提高了检测效率，解决了现有技术中检测计算量大的问题。图2是本发明实施例提供的一种电子设备的结构示意图。如图2所示，电子设备400包括一个或多个处理器401和存储器402。处理器401可以是中央处理单元或者具有数据处理能力和/或指令执行能力的其他形式的处理单元，并且可以控制电子设备400中的其他组件以执行期望的功能。存储器402可以包括一个或多个计算机程序产品，所述计算机程序产品可以包括各种形式的计算机可读存储介质，例如易失性存储器和/或非易失性存储器。所述易失性存储器例如可以包括随机存取存储器和/或高速缓冲存储器等。所述非易失性存储器例如可以包括只读存储器、硬盘、闪存等。在所述计算机可读存储介质上可以存储一个或多个计算机程序指令，处理器401可以运行所述程序指令，以实现上文所说明的本发明任意实施例的针对车辆电池单体不一致性的检测方法以及/或者其他期望的功能。在所述计算机可读存储介质中还可以存储诸如初始外参、阈值等各种内容。在一个示例中，电子设备400还可以包括：输入装置403和输出装置404，这些组件通过总线系统和/或其他形式的连接机构互连。该输入装置403可以包括例如键盘、鼠标等等。该输出装置404可以向外部输出各种信息，包括预警提示信息、制动力度等。该输出装置404可以包括例如显示器、扬声器、打印机、以及通信网络及其所连接的远程输出设备等等。当然，为了简化，图2中仅示出了该电子设备400中与本发明有关的组件中的一些，省略了诸如总线、输入/输出接口等等的组件。除此之外，根据具体应用情况，电子设备400还可以包括任何其他适当的组件。除了上述方法和设备以外，本发明的实施例还可以是计算机程序产品，其包括计算机程序指令，所述计算机程序指令在被处理器运行时使得所述处理器执行本发明任意实施例所提供的针对车辆电池单体不一致性的检测方法的步骤。所述计算机程序产品可以以一种或多种程序设计语言的任意组合来编写用于执行本发明实施例操作的程序代码，所述程序设计语言包括面向对象的程序设计语言，诸如Java、C++等，还包括常规的过程式程序设计语言，诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算设备上执行、部分地在用户设备上执行、作为一个独立的软件包执行、部分在用户计算设备上部分在远程计算设备上执行、或者完全在远程计算设备或服务器上执行。此外，本发明的实施例还可以是计算机可读存储介质，其上存储有计算机程序指令，所述计算机程序指令在被处理器运行时使得所述处理器执行本发明任意实施例所提供的针对车辆电池单体不一致性的检测方法的步骤。所述计算机可读存储介质可以采用一个或多个可读介质的任意组合。可读介质可以是可读信号介质或者可读存储介质。可读存储介质例如可以包括但不限于电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。需要说明的是，本发明所用术语仅为了描述特定实施例，而非限制本申请范围。如本发明说明书中所示，除非上下文明确提示例外情形，“一”、“一个”、“一种”和/或“该”等词并非特指单数，也可包括复数。术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法或者设备中还存在另外的相同要素。还需说明的是，术语“中心”、“上”、“下”、“左”、“右”、“竖直”、“水平”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。除非另有明确的规定和限定，术语“安装”、“相连”、“连接”等应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案。
