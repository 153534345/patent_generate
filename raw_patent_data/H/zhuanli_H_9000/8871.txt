标题title
一种流量可视化方法、装置、设备及存储介质
摘要abst
本申请公开了一种流量可视化方法、装置、设备及存储介质，涉及网络可视化技术领域，解决了获取的流量不完整以及无法对流量进行复杂的策略判断的问题，包括：利用预设程序对接收到的流量进行解析，以得到解析后信息；基于所述解析后信息查找过滤规则，以得到目标过滤规则；根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。本申请通过解析后信息查找过滤规则，然后利用查找到的过滤规则在数据中心服务器中对流量进行过滤处理，节省了网络带宽，提高了处理效率以及安全性。
权利要求书clms
1.一种流量可视化方法，其特征在于，应用于数据中心服务器，包括：利用预设程序对接收到的流量进行解析，以得到解析后信息；基于所述解析后信息查找过滤规则，以得到目标过滤规则；根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。2.根据权利要求1所述的流量可视化方法，其特征在于，所述利用预设程序对接收到的流量进行解析之前，还包括：获取在基于汇聚分流加速卡生成的配置页面上配置的汇聚分流规则；其中，所述汇聚分流加速卡为安装在所述数据中心服务器上的加速卡；利用所述汇聚分流规则从全部流量中确定所述接收到的流量。3.根据权利要求2所述的流量可视化方法，其特征在于，所述利用预设程序对接收到的流量进行解析之前，还包括：按照预设采集速率采集所述数据中心服务器内部的所述全部流量。4.根据权利要求1所述的流量可视化方法，其特征在于，所述基于所述解析后信息查找过滤规则，以得到目标过滤规则，包括：利用所述解析后信息与所述过滤规则中的信息进行匹配，将匹配成功的所述过滤规则确定为所述目标过滤规则；相应的，所述根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量，包括：根据所述目标过滤规则对所述流量进行多元组过滤操作，以得到过滤后流量。5.根据权利要求1所述的流量可视化方法，其特征在于，所述根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量之后，还包括：对所述过滤后流量进行流管理，以得到对应的流量管理信息。6.根据权利要求5所述的流量可视化方法，其特征在于，所述从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理，包括：从所述流量管理信息中确定待传输流量，对所述待传输流量进行包编辑，以得到编辑后流量；将已设置隧道头的所述编辑后流量通过预设接口传输至汇聚分流设备或深度数据包监测设备进行流量可视化处理。7.根据权利要求1至6任一项所述的流量可视化方法，其特征在于，所述利用预设程序对接收到的流量进行解析，包括：利用预设程序对未加密和/或未分片的所述接收到的流量进行解析，以得到未加密的所述解析后信息和/或未分片的所述解析后信息；相应的，所述基于所述解析后信息查找过滤规则，以得到目标过滤规则，包括：基于未加密的所述解析后信息和/或未分片的所述解析后信息查找过滤规则，以得到对应的目标过滤规则。8.一种流量可视化装置，其特征在于，应用于数据中心服务器，包括：流量解析模块，用于利用预设程序对接收到的流量进行解析，以得到解析后信息；规则查找模块，用于基于所述解析后信息查找过滤规则，以得到目标过滤规则；过滤模块，用于根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；流量可视化模块，用于从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。9.一种电子设备，其特征在于，包括：存储器，用于保存计算机程序；处理器，用于执行所述计算机程序，以实现如权利要求1至7任一项所述的流量可视化方法的步骤。10.一种计算机可读存储介质，其特征在于，用于存储计算机程序；其中，所述计算机程序被处理器执行时实现如权利要求1至7任一项所述的流量可视化方法。
说明书desc
技术领域本发明涉及网络可视化技术领域，特别涉及一种流量可视化方法、装置、设备及存储介质。背景技术在虚拟化网络环境中，用户的业务系统被部署在虚拟机上，为了保障这些系统的安全以及符合相关的安全合规性，仍然需要像在传统物理网络环境中一样对这些虚拟机进行网络安全监控。但是传统的硬件物理安全产品无法准确捕获所需要监控的业务虚拟机的网络流量。虚拟导流技术是一种通过特殊的流量分析虚拟机捕获同一台物理机中其他业务虚拟机流量，并将其导出给带外的硬件安全设备的虚拟化环境中的镜像流量捕获的解决方案。流量分析虚拟机通过镜像连接在同一台虚拟交换机上的业务虚拟机的流量，捕获到所需要监控的网络流量，并根据预先设置物理安全设备的目的地址，将其所捕获的网络流量直接转发到安全设备上，导流用的流量分析虚拟机通常只能无条件的或者基于简单IP规则进行过滤需要导出给物理安全设备的流量，因为流量分析虚拟机并不具备全局的拓扑视野，也不能进行复杂的判断，会消耗过多的物理硬件资源，影响其他业务虚拟机的正常工作。在云计算和虚拟化环境中旁路监控业务虚拟机间的流量的方案目前主要有两种主要的技术路线：第一种方案是像传统网络环境一样，直接在物理交换机上配置镜像端口抓包，然后上送网络可视化中间层的汇聚分流设备进行流量过滤分析。这个方案存在的问题在于虚拟化环境中业务虚拟机没有固定的物理拓扑，因此通过物理口镜像捕获到的网络流量是混杂了多个不同安全域的网络流量，但是有可能每个安全域的流量都不完整，会影响旁路安全检测的性能。第二种方案是通过在每台物理服务器上部署流量分析虚拟机进行流量捕获，再导流到目的汇聚分流设备进行汇聚分流。这种方案存在的问题是每台物理机上部署的流量分析虚拟机无法实时感知整个物理拓扑的变化情况，受性能所限也无法对所捕获数据包的转发进行复杂的策略判断，如进行按协议过滤按、按安全域边界策略过滤等。另外流量分析虚拟机抓包导流的方案还存在有流量重复的问题，包括一种情况是两台部署在不同物理主机上的流量分析虚拟机都会抓到各自所在物理机上的业务虚拟机通信的同一个数据包，而无法准确判断其是否重复；另一种情况是流量分析虚拟机需要同时向如入侵检测系统、网络审计系统和应用性能监控系统等旁路安全设备导出其所捕获的流量时，若在流量分析虚拟机内将数据包复制多份后分别转发出去，会造成对其所在的物理主机的计算和网络资源极大的占用，从而严重影响与其共享资源的业务虚拟机的正常工作。另外对于加密流量的采集和分析，需要将对应的server的密钥传送到报文解密的汇聚分流设备上进行解密，需要额外的密钥传送过程，需要将加密报文的密钥通过网络传给中间层的汇聚分流设备进行解密后进行流量分析，通过网络进行密钥传送本身存在安全隐患，而且对于大流量的情况下这种分析效率很低；对于分片报文的分析和过滤，需要将流量在中间的汇聚分流设备上进行分片重组后进行分析过滤，增加了分片重组的性能消耗。因此如何在云环境下进行高效的汇聚分流分析，特别是数据中心网络带宽极速增加的情况下，如何对加密报文，分片报文进行汇聚分流，是一个亟待解决的重要问题。发明内容有鉴于此，本发明的目的在于提供一种流量可视化方法、装置、设备和存储介质，能够节省网络带宽，提高处理效率以及安全性。其具体方案如下：第一方面，本申请公开了一种流量可视化方法，应用于数据中心服务器，包括：利用预设程序对接收到的流量进行解析，以得到解析后信息；基于所述解析后信息查找过滤规则，以得到目标过滤规则；根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。可选的，所述利用预设程序对接收到的流量进行解析之前，还包括：获取在基于汇聚分流加速卡生成的配置页面上配置的汇聚分流规则；其中，所述汇聚分流加速卡为安装在所述数据中心服务器上的加速卡；利用所述汇聚分流规则从全部流量中确定所述接收到的流量。可选的，所述利用预设程序对接收到的流量进行解析之前，还包括：按照预设采集速率采集所述数据中心服务器内部的所述全部流量。可选的，所述基于所述解析后信息查找过滤规则，以得到目标过滤规则，包括：利用所述解析后信息与所述过滤规则中的信息进行匹配，将匹配成功的所述过滤规则确定为所述目标过滤规则；相应的，所述根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量，包括：根据所述目标过滤规则对所述流量进行多元组过滤操作，以得到过滤后流量。可选的，所述根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量之后，还包括：对所述过滤后流量进行流管理，以得到对应的流量管理信息。可选的，所述从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理，包括：从所述流量管理信息中确定待传输流量，对所述待传输流量进行包编辑，以得到编辑后流量；将已设置隧道头的所述编辑后流量通过预设接口传输至汇聚分流设备或深度数据包监测设备进行流量可视化处理。可选的，所述利用预设程序对接收到的流量进行解析，包括：利用预设程序对未加密和/或未分片的所述接收到的流量进行解析，以得到未加密的所述解析后信息和/或未分片的所述解析后信息；相应的，所述基于所述解析后信息查找过滤规则，以得到目标过滤规则，包括：基于未加密的所述解析后信息和/或未分片的所述解析后信息查找过滤规则，以得到对应的目标过滤规则。第二方面，本申请公开了一种流量可视化装置，应用于数据中心服务器，包括：流量解析模块，用于利用预设程序对接收到的流量进行解析，以得到解析后信息；规则查找模块，用于基于所述解析后信息查找过滤规则，以得到目标过滤规则；过滤模块，用于根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；流量可视化模块，用于从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。第三方面，本申请公开了一种电子设备，包括：存储器，用于保存计算机程序；处理器，用于执行所述计算机程序，以实现如前述公开的流量可视化方法的步骤。第四方面，本申请公开了一种计算机可读存储介质，用于存储计算机程序；其中，所述计算机程序被处理器执行时实现如前述公开的流量可视化方法。可见，本申请提供了一种流量可视化方法，包括：利用预设程序对接收到的流量进行解析，以得到解析后信息；基于所述解析后信息查找过滤规则，以得到目标过滤规则；根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。由此可见，本申请通过解析接收到的流量得到的解析后信息确定对应的过滤规则，根据不同的流量信息在数据中心服务器中选择不同的规则进行过滤操作，得到对应的待传输流量，节省了网络带宽，提高了处理效率以及安全性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本申请公开的一种流量可视化方法流程图；图2为本申请公开的一种在物理交换机上配置镜像端口抓包示意图；图3为本申请公开的一种创建流量分析虚拟机进行流量捕获示意图；图4为本申请公开的一种基于DPU/SmartNIC形态的汇聚分流加速卡示意图；图5为本申请公开的一种汇聚分流加速卡流量过滤分析流程图；图6为本申请公开的一种具体的流量可视化方法流程图；图7为本申请公开的一种基于DUP形态的汇聚分流加速卡架构示意图；图8为本申请提供的流量可视化装置结构示意图；图9为本申请提供的一种电子设备结构图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。目前，在云计算和虚拟化环境中旁路监控业务虚拟机间的流量的方案目前主要的技术路线存在以下问题：虚拟化环境中业务虚拟机没有固定的物理拓扑，因此通过物理口镜像捕获到的网络流量是混杂了多个不同安全域的网络流量，有可能每个安全域的流量都不完整，会影响旁路安全检测的性能；每台物理机上部署的流量分析虚拟机无法实时感知整个物理拓扑的变化情况，受性能所限也无法对所捕获数据包的转发进行复杂的策略判断，无法准确判断其是否重复；流量分析虚拟机会造成对其所在的物理主机的计算和网络资源极大的占用，从而严重影响与其共享资源的业务虚拟机的正常工作；加密流量的采集和分析，需要额外的密钥传送过程，通过网络进行密钥传送本身存在安全隐患且分析效率很低；分片报文的分析和过滤增加了分片重组的性能消耗。为此，本申请提供了一种流量可视化方法，能够节省网络带宽，提高处理效率以及安全性。本发明实施例公开了一种流量可视化方法，参见图1所示，应用于数据中心服务器，该方法包括：步骤S11：利用预设程序对接收到的流量进行解析，以得到解析后信息。本实施例中，利用预设程序对接收到的流量进行解析，以得到解析后信息。具体的，接收到流量之后，流量会经过硬件中的parser模块进行解析操作，得到解析后信息，例如IP地址、MAC地址等信息。可以理解的是，现有技术中一种具体的方案如下：像传统网络环境一样，直接在物理交换机上配置镜像端口抓包，然后上送网络可视化中间层的汇聚分流设备进行流量过滤分析，例如图2所示。此方案存在以下不足：虚拟化环境中业务虚拟机没有固定的物理拓扑，因此通过物理口镜像捕获到的网络流量是混杂了多个不同虚拟局域网的网络流量，但是可能每个虚拟局域网的流量都不完整，影响了流量分析的准确性；服务器内部虚机间的流量不经过物理交换机，因此对于服务器内部的流量无法监控和分析。现有技术中另一种具体的方案如下：在hypervisor上运行agent代理，同时启动专用的流量分析虚拟机，Agent接收控制节点的指令，完成网络配置，将流量导入流量分析虚拟机完成流量采集，然后通过网络将采集的数据中心内部的数据流量传到网络可视化中间层的汇聚分流设备上进行分析处理，例如图3所示。此方案存在以下不足：每台物理机上部署的流量分析虚拟机无法实时感知整个物理拓扑的变化情况，受性能所限无法对所捕获数据包的转发进行复杂的策略判断，例如进行按协议过滤按、按虚拟局域网边界策略过滤等；流量分析虚拟机抓包导流的方案还存在有流量重复的问题，例如两台部署在不同物理主机上的安全虚拟机都会抓到各自所在物理机上的业务虚拟机通信的同一个数据包而无法准确判断其是否重复；流量分析虚拟机需要同时向例如入侵检测系统、网络审计系统和应用性能监控系统等旁路安全设备导出其所捕获的流量时，若在安全虚拟机内将数据包复制多份后分别转发出去，会造成对其所在的物理主机的计算和网络资源极大的占用，从而严重影响与其共享资源的业务虚拟机的正常工作；对于加密流量的采集和分析，需要将对应的server的密钥传送到报文解密的汇聚分流设备上进行解密，需要额外的密钥传送过程；对于分片报文的分析和过滤，需要将流量在中间的汇聚分流设备上进行分片重组后进行分析过滤，增加了分片重组的性能消耗。可以理解的是，本方案使用一种基于DPU/SmartNIC形态的汇聚分流加速卡，如图4所示，在数据中心服务器中进行流量过滤和处理，支持高速采集服务器内部的流量。在现有技术中，汇聚分流加速卡直接插在数据分流设备上，无法获取完整的流量，本方案将汇聚分流加速卡插在数据中心服务器上，从而获得更加完整的流量。需要指出的是，一个数据中心服务器上可以插有多个汇聚分流加速卡。利用预设程序对未加密和/或未分片的所述接收到的流量进行解析，以得到未加密的所述解析后信息和/或未分片的所述解析后信息；相应的，基于未加密的所述解析后信息和/或未分片的所述解析后信息查找过滤规则，以得到对应的目标过滤规则。可以理解的是，对加密报文，在加密之前做处理，替代传统通过网络分发密钥给汇聚分流设备/TLS)的方案；将汇聚分流设备部分功能移到数据采集测进行，有效节省汇聚分流网络带宽；对于切片报文，可以在报文切片前进行流量过滤。步骤S12：基于所述解析后信息查找过滤规则，以得到目标过滤规则。本实施例中，当获取到所述解析后信息之后，基于所述解析后信息查找过滤规则，以得到目标过滤规则。可以理解的是，利用所述解析后信息与所述过滤规则中的信息进行匹配，将匹配成功的所述过滤规则确定为所述目标过滤规则。不同的解析后信息对应不同的过滤规则，通过所述解析后信息可以直接匹配到对应的过滤规则，这样一来就可以实现对流量进行复杂的策略判断操作，例如按照协议过滤或按照安全域边界策略过滤等过滤规则。步骤S13：根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量。本实施例中，得到目标过滤规则之后，根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量。可以理解的是，如图5所示，利用得到的目标过滤规则对所述流量进行对应的多元组过滤操作，以得到过滤后流量。需要指出的是，图中的多元组过滤操作为必要的过滤操作，而在多元组过滤操作执行完毕后，根据实际情况选择是否进行内容过滤操作，如不需要内容过滤则直接进入下一步骤。步骤S14：从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。本实施例中，过滤完成得到过滤后流量之后，从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。可以理解的是，后端设备可以是汇聚分流设备或后端DPI分析设备。可见，本申请提供了一种流量可视化方法，包括：利用预设程序对接收到的流量进行解析，以得到解析后信息；基于所述解析后信息查找过滤规则，以得到目标过滤规则；根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。由此可见，本申请通过解析接收到的流量得到的解析后信息确定对应的过滤规则，根据不同的流量信息在数据中心服务器中选择不同的规则进行过滤操作，得到对应的待传输流量，节省了网络带宽，提高了处理效率以及安全性。参见图6所示，本发明实施例公开了一种流量可视化方法，相对于上一实施例，本实施例对技术方案作了进一步的说明和优化。步骤S21：获取在基于汇聚分流加速卡生成的配置页面上配置的汇聚分流规则。本实施例中，获取在基于汇聚分流加速卡生成的配置页面上配置的汇聚分流规则。可以理解的是，在汇聚分流加速卡生成的规则配置页面上配置汇聚分流规则，规则配置页面上可以有多个汇聚分流规则，根据实际情况配置对应的汇聚分流规则并存储，以便在数据中心服务器启动之后可以直接获取预先配置好的汇聚分流规则。需要指出的是，所述汇聚分流加速卡为安装在所述数据中心服务器上的加速卡。步骤S22：按照预设采集速率采集所述数据中心服务器内部的所述全部流量。本实施例中，按照预设采集速率采集所述数据中心服务器内部的所述全部流量。可以理解的是，本方案使用一种基于DPU/SmartNIC形态的汇聚分流加速卡，可以高速采集服务器内部的流量，节省了监控网络带宽。步骤S23：利用所述汇聚分流规则从全部流量中确定所述接收到的流量。本实施例中，获取在基于汇聚分流加速卡生成的配置页面上配置的汇聚分流规则之后，利用所述汇聚分流规则从全部流量中确定所述接收到的流量。可以理解的是，如图7所示，流量从HOST Interface侧的VM经过PCIE通道进入FPGA/PacketProcessingDataplane，在FPGA中利用所述汇聚分流规则从全部流量中确定所述接收到的流量。需要指出的是，还可以使用ASIC或SOC加速器的方案进行硬件匹配加速，不限于FPGA方案。步骤S24：利用预设程序对接收到的流量进行解析，以得到解析后信息。步骤S25：基于所述解析后信息查找过滤规则，以得到目标过滤规则。步骤S26：根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量。本实施例中，根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量，并在得到所述过滤后流量之后，根据所述目标过滤规则对所述过滤后流量进行流管理，以得到对应的流量管理信息。步骤S27：从所述流量管理信息中确定待传输流量，对所述待传输流量进行包编辑，以得到编辑后流量。本实施例中，得到对应的流量管理信息之后，从所述流量管理信息中确定待传输流量，对所述待传输流量进行包编辑，以得到编辑后流量。可以理解的是，对所述待传输流量进行包编辑，例如密码信息隐藏等。具体的，在进行过滤规则的匹配之后，当匹配到对应的目标过滤规则后进行相应包编辑，然后经TapPort口上送到上层的汇聚分流设备或者后端DPI分析设备进行流量可视化后端处理。可以理解的是，TapPort口为指出不进的口，Ethernet Port为可进可出的口。步骤S28：将已设置隧道头的所述编辑后流量通过预设接口传输至汇聚分流设备或深度数据包监测设备进行流量可视化处理。本实施例中，对所述待传输流量进行包编辑之后，将已设置隧道头的所述编辑后流量通过预设接口传输至汇聚分流设备或深度数据包监测设备进行流量可视化处理。可以理解的是，为在包编辑之后得到的编辑后流量增加隧道头，以便通过所述隧道头提高通过预设接口传输至汇聚分流设备或深度数据包监测设备的过程中流量的安全性。在数据中心服务器中进行流量过滤和处理，高速采集服务器内部的流量，节省了监控网络带宽；在加密报文加密之前做处理，替代传统通过网络分发密钥给汇聚分流设备的方案，避免密钥的网络传输过程，提升加密报文的数据安全性和加密报文可视化的效率；将汇聚分流设备的汇聚分流功能移到数据采集测进行，有效节省汇聚分流网络带宽；在切片报文报文切片前进行流量过滤，避免在汇聚分流设备侧进行分片报文重组，从而提升网络可视化的报文处理能力。关于上述步骤S24、S25的具体内容可以参考前述实施例中公开的相应内容，在此不再进行赘述。可见，本申请实施例通过获取在基于汇聚分流加速卡生成的配置页面上配置的汇聚分流规则；按照预设采集速率采集所述数据中心服务器内部的所述全部流量；利用所述汇聚分流规则从全部流量中确定所述接收到的流量；利用预设程序对接收到的流量进行解析，以得到解析后信息；基于所述解析后信息查找过滤规则，以得到目标过滤规则；根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；从所述流量管理信息中确定待传输流量，对所述待传输流量进行包编辑，以得到编辑后流量；将已设置隧道头的所述编辑后流量通过预设接口传输至汇聚分流设备或深度数据包监测设备进行流量可视化处理，节省了网络带宽，提高了处理效率以及安全性。参见图8所示，本申请实施例还相应公开了一种流量可视化装置，应用于数据中心服务器，包括：流量解析模块11，用于利用预设程序对接收到的流量进行解析，以得到解析后信息；规则查找模块12，用于基于所述解析后信息查找过滤规则，以得到目标过滤规则；过滤模块13，用于根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；流量可视化模块14，用于从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。可见，本申请包括：利用预设程序对接收到的流量进行解析，以得到解析后信息；基于所述解析后信息查找过滤规则，以得到目标过滤规则；根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；从所述过滤后流量中确定待传输流量，并将所述待传输流量传输至后端设备进行流量可视化处理。由此可见，本申请通过解析接收到的流量得到的解析后信息确定对应的过滤规则，根据不同的流量信息在数据中心服务器中选择不同的规则进行过滤操作，得到对应的待传输流量，节省了网络带宽，提高了处理效率以及安全性。在一些具体实施例中，所述流量解析模块11，具体包括：规则获取单元，用于获取在基于汇聚分流加速卡生成的配置页面上配置的汇聚分流规则；其中，所述汇聚分流加速卡为安装在所述数据中心服务器上的加速卡；流量确定单元，用于利用所述汇聚分流规则从全部流量中确定所述接收到的流量；流量采集单元，用于按照预设采集速率采集所述数据中心服务器内部的所述全部流量；第一流量解析单元，用于利用预设程序对接收到的流量进行解析，以得到解析后信息；第二流量解析单元，用于利用预设程序对未加密和/或未分片的所述接收到的流量进行解析，以得到未加密的所述解析后信息和/或未分片的所述解析后信息。在一些具体实施例中，所述规则查找模块12，具体包括：信息匹配单元，用于利用所述解析后信息与所述过滤规则中的信息进行匹配；规则确定单元，用于将匹配成功的所述过滤规则确定为所述目标过滤规则；多元组过滤单元，用于根据所述目标过滤规则对所述流量进行多元组过滤操作，以得到过滤后流量。在一些具体实施例中，所述过滤模块13，具体包括：过滤单元，用于根据所述目标过滤规则对所述流量进行对应的过滤操作，以得到过滤后流量；流量管理单元，用于对所述过滤后流量进行流管理，以得到对应的流量管理信息。在一些具体实施例中，所述流量可视化模块14，具体包括：待传输流量确定单元，用于从所述流量管理信息中确定待传输流量；包编辑单元，用于对所述待传输流量进行包编辑，以得到编辑后流量；流量传输单元，用于将已设置隧道头的所述编辑后流量通过预设接口传输至汇聚分流设备或深度数据包监测设备进行流量可视化处理。进一步的，本申请实施例还提供了一种电子设备。图9是根据一示例性实施例示出的电子设备20结构图，图中的内容不能认为是对本申请的使用范围的任何限制。图9为本申请实施例提供的一种电子设备20的结构示意图。该电子设备20，具体可以包括：至少一个处理器21、至少一个存储器22、电源23、通信接口24、输入输出接口25和通信总线26。其中，所述存储器22用于存储计算机程序，所述计算机程序由所述处理器21加载并执行，以实现前述任一实施例公开的流量可视化方法中的相关步骤。另外，本实施例中的电子设备20具体可以为电子计算机。本实施例中，电源23用于为电子设备20上的各硬件设备提供工作电压；通信接口24能够为电子设备20创建与外界设备之间的数据传输通道，其所遵循的通信协议是能够适用于本申请技术方案的任意通信协议，在此不对其进行具体限定；输入输出接口25，用于获取外界输入数据或向外界输出数据，其具体的接口类型可以根据具体应用需要进行选取，在此不进行具体限定。另外，存储器22作为资源存储的载体，可以是只读存储器、随机存储器、磁盘或者光盘等，其上所存储的资源可以包括操作系统221、计算机程序222等，存储方式可以是短暂存储或者永久存储。其中，操作系统221用于管理与控制电子设备20上的各硬件设备以及计算机程序222，其可以是Windows Server、Netware、Unix、Linux等。计算机程序222除了包括能够用于完成前述任一实施例公开的由电子设备20执行的流量可视化方法的计算机程序之外，还可以进一步包括能够用于完成其他特定工作的计算机程序。进一步的，本申请实施例还公开了一种存储介质，所述存储介质中存储有计算机程序，所述计算机程序被处理器加载并执行时，实现前述任一实施例公开的流量可视化方法步骤。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其它实施例的不同之处，各个实施例之间相同或相似部分互相参见即可。对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。最后，还需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。以上对本发明所提供的一种流量可视化方法、装置、设备及存储介质进行了详细介绍，本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本发明的限制。
