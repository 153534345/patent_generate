标题title
连续时间流水线模数转换器及其数字重建滤波器
摘要abst
本发明公开了一种连续时间流水线模数转换器及其数字重建滤波器，数字重建滤波器包括第一、第二有限脉冲响应滤波器，其输出值分别通过第一、第二传递函数获得，并能生成连续时间流水线模数转换器的输出值。第二有限脉冲响应滤波器对应的第二输入值根据模拟滤波器的输出值确定；第一、第二传递函数根据用于拟合模拟滤波器的一个无限脉冲响应滤波器的传递函数确定。本发明对连续时间流水线模数转换器中的模拟滤波器进行拟合的同时，既能降低有限脉冲响应滤波器阶数以减小功耗，又避免采用一个无限脉冲响应滤波器导致的系统环路稳定性差的弊端，凸显了连续时间流水线模数转换器的结构优势，具有行业推广意义。
权利要求书clms
1.一种数字重建滤波器，其特征在于，应用于连续时间流水线模数转换器；所述数字重建滤波器包括第一有限脉冲响应滤波器和第二有限脉冲响应滤波器；所述第一有限脉冲响应滤波器输出的第一输出值根据所述第一有限脉冲响应滤波器对应的第一传递函数和第一输入值获得；所述第二有限脉冲响应滤波器输出的第二输出值根据所述第二有限脉冲响应滤波器对应的第二传递函数和第二输入值获得；所述第一输出值和所述第二输出值用于生成所述连续时间流水线模数转换器的输出值；其中，所述第二输入值根据所述连续时间流水线模数转换器的模拟滤波器的输出值确定；所述第一传递函数和所述第二传递函数根据用于拟合所述模拟滤波器的一个无限脉冲响应滤波器对应的第三传递函数确定。2.如权利要求1所述的数字重建滤波器，其特征在于，所述第一传递函数用于表征所述模拟滤波器的增益特性。3.如权利要求2所述的数字重建滤波器，其特征在于，所述第一有限脉冲响应滤波器和所述第二有限脉冲响应滤波器所在的支路之间存在延时差；所述第一传递函数还用于表征所述模拟滤波器的时间延迟特性。4.如权利要求3所述的数字重建滤波器，其特征在于，所述第二有限脉冲响应滤波器用于通过所述第二传递函数拟合所述模拟滤波器除增益特性和时间延迟特性之外的低通滤波特性。5.如权利要求1-4中任一项所述的数字重建滤波器，其特征在于，所述第一传递函数根据所述第三传递函数分子确定，所述第二传递函数根据所述第三传递函数分母确定。6.如权利要求3所述的数字重建滤波器，其特征在于，所述第一传递函数和所述第二传递函数的阶数同所述第一有限脉冲响应滤波器与所述第二有限脉冲响应滤波器所在支路之间的延时差呈正相关。7.如权利要求5所述的数字重建滤波器，其特征在于，所述第二有限脉冲响应滤波器位于所述模拟滤波器的输出端。8.如权利要求7所述的数字重建滤波器，其特征在于，所述模拟滤波器为一阶模拟滤波器。9.如权利要求8所述的数字重建滤波器，其特征在于，所述模拟滤波器对应的传递函数为，其中R为所述模拟滤波器对应的电阻参数；C为所述模拟滤波器对应的电容参数；所述模拟滤波器对应的增益值为4；所述第一传递函数为P=4；所述第二传递函数为Q=3.079-2.079z-1；其中所述第一传递函数和所述第二传递函数为频域函数。10.一种连续时间流水线模数转换器，其特征在于，包括模拟滤波器和权利要求1~9中任一项所述的数字重建滤波器。
说明书desc
技术领域本发明涉及模数转换器技术领域，尤其涉及一种连续时间流水线模数转换器及其数字重建滤波器。背景技术连续时间流水线模数转换器作为一种新型的数模混合结构，将模拟电路的设计难度转移到了数字电路上，从而突破使用采保电路的模数转换器在精度和速度上的瓶颈。然而由于工艺生产、工作电压、温度等因素的影响，连续时间流水线模数转换器子级之间的模拟滤波器会偏离原本的设计，因此通常采用自适应数字重建滤波器来跟踪模拟滤波器的偏差，包括增益、低通特性和延迟；因此自适应数字重建滤波器作为连续时间流水线模数转换器中的关键电路模块，其能否准确地自适应校准对整个数模混合系统的系统性能有重要影响。目前，自适应数字重建滤波器主要通过有限脉冲响应滤波器结构实现，可以避免使用无限脉冲响应滤波器结构存在的不稳定问题。通常通过注入伪随机信号，基于最小均方算法或者相关累加算法进行前台模式或者后台模式的自适应迭代。由于模拟滤波器具有放大和低通滤波功能，现有技术采用单个有限脉冲响应滤波器结构的自适应数字重建滤波器阶数通常较高，故而在高速高精度应用中，实现高阶的数字重建滤波器付出的面积和功耗代价很大；迭代过程中，加法器和乘法器单元数量也随滤波器阶数而增多，增加数字电路的开销，从而削弱了连续时间流水线模数转换器架构的优越性。发明内容本发明要解决的技术问题是为了克服现有技术中连续时间流水线模数转换器因采用单个有限脉冲响应滤波器导致面积、功耗和算力开销较大的缺陷，提供一种连续时间流水线模数转换器及其数字重建滤波器。本发明是通过下述技术方案来解决上述技术问题：本发明提供了一种数字重建滤波器，应用于连续时间流水线模数转换器；所述数字重建滤波器包括第一有限脉冲响应滤波器和第二有限脉冲响应滤波器；所述第一有限脉冲响应滤波器输出的第一输出值根据所述第一有限脉冲响应滤波器对应的第一传递函数和第一输入值获得；所述第二有限脉冲响应滤波器输出的第二输出值根据所述第二有限脉冲响应滤波器对应的第二传递函数和第二输入值获得；所述第一输出值和所述第二输出值用于生成所述连续时间流水线模数转换器的输出值；其中，所述第二输入值根据所述连续时间流水线模数转换器的模拟滤波器的输出值确定；所述第一传递函数和所述第二传递函数根据用于拟合所述模拟滤波器的一个无限脉冲响应滤波器对应的第三传递函数确定。较佳地，所述第一传递函数用于表征所述模拟滤波器的增益特性。较佳地，所述第一有限脉冲响应滤波器和所述第二有限脉冲响应滤波器所在的支路之间存在延时差；所述第一传递函数还用于表征所述模拟滤波器的时间延迟特性。较佳地，所述第二有限脉冲响应滤波器用于通过所述第二传递函数拟合所述模拟滤波器除增益特性和时间延迟特性之外的低通滤波特性。较佳地，所述第一传递函数根据所述第三传递函数分子确定，所述第二传递函数根据所述第三传递函数分母确定。较佳地，所述第一传递函数和所述第二传递函数的阶数同所述第一有限脉冲响应滤波器与所述第二有限脉冲响应滤波器所在支路之间的延时差呈正相关。较佳地，所述第二有限脉冲响应滤波器位于所述模拟滤波器的输出端。较佳地，所述模拟滤波器为一阶模拟滤波器。较佳地，所述模拟滤波器的传递函数为，其中R为所述模拟滤波器对应的电阻参数；C为所述模拟滤波器对应的电容参数；所述模拟滤波器对应的增益值为4；所述第一传递函数为P=4；所述第二传递函数为Q=3.079-2.079z-1；其中所述第一传递函数和所述第二传递函数为频域函数。本发明还提供了一种连续时间流水线模数转换器，包括模拟滤波器和上述的数字重建滤波器。本发明的积极进步效果在于：本发明的连续时间流水线模数转换器及其数字重建滤波器通过使用两个有限脉冲响应滤波器起到一个无限脉冲响应滤波器的作用，保证对连续时间流水线模数转换器中的一阶模拟滤波器进行拟合的同时，既能够降低有限脉冲响应滤波器阶数，减小面积和功耗，又避免了若采用一个无限脉冲响应滤波器会导致系统环路稳定性差的弊端，从而凸显了连续时间流水线模数转换器的结构优势，具有行业推广意义。附图说明图1为一种现有的数字重建滤波器的局部结构示意图。图2为连续时间流水线模数转换器输出值的逻辑运算示意图。图3为连续时间流水线模数转换器输出值的逻辑换算示意图。图4为连续时间流水线模数转换器输出值的逻辑换算结果示意图。图5为本发明实施例1中的数字重建滤波器的局部结构示意图。具体实施方式下面通过实施例的方式进一步说明本发明，但并不因此将本发明限制在所述的实施例范围之中。实施例1本实施例提供了一种数字重建滤波器，应用于连续时间流水线模数转换器；数字重建滤波器包括第一有限脉冲响应滤波器和第二有限脉冲响应滤波器；第一有限脉冲响应滤波器输出的第一输出值根据第一有限脉冲响应滤波器对应的第一传递函数和第一输入值获得；第二有限脉冲响应滤波器输出的第二输出值根据第二有限脉冲响应滤波器对应的第二传递函数和第二输入值获得；第一输出值和第二输出值用于生成连续时间流水线模数转换器的输出值；其中，第二输入值根据连续时间流水线模数转换器的模拟滤波器的输出值确定；第一传递函数和第二传递函数根据用于拟合模拟滤波器的一个无限脉冲响应滤波器对应的第三传递函数确定。其中，传递函数即线性定常系统在零初始条件下，输出量的拉氏变换式与输入量的拉氏变换式之比。为了克服高阶FIR滤波器面积占用和功耗很大及IIR滤波器本身不稳定的问题，本发明通过在连续时间流水线模数转换器的数字重建滤波器中以两个较低阶数的FIR滤波器替代一个IIR滤波器或是一个较高阶数的FIR滤波器。具体地，记为图1所示的连续时间流水线模数转换器中，对于模拟滤波器传递函数F的近似函数，图1中D2即模拟滤波器的输出值，D1经处理后的输出值D3经通过LMS算法实现系数的自适应。如图2所示，通常数字重建滤波器是将输出值和输出值组合在一起来生成连续时间流水线模数转换器的输出值即，而本实施例中，数字重建滤波器通过第一有限脉冲响应滤波器和第二有限脉冲响应滤波器来实现一个无限脉冲响应滤波器，两个有限脉冲响应滤波器分别对一个无限脉冲响应滤波器对应的第三传递函数中的分子和分母进行表示。原理在于，当对于第三传递函数分别求解分子分母的系数值，记为，则可进一步计算得到作为最终输出，其换算和结果如图3及图4所示。参见图5示出的数字重建滤波器输出值的局部结构，由于采用和代替了图1中的；其中和分别是具有较低阶数的第一有限脉冲响应滤波器对应的第一传递函数和第二有限脉冲响应滤波器对应的第二有限脉冲响应滤波器，从而经过第二有限脉冲响应滤波器对模拟滤波器的输出值D2进一步处理后输出D4，以及经过处理D1后输出D3，得到最终输出值D=D3+D4=。这样不仅可以节省功耗和面积消耗，而且也避免了IIR滤波器存在的环路不稳定的问题。作为较佳的实施方式，第一传递函数根据无限脉冲响应滤波器对应的第三传递函数的分子确定，第二传递函数根据第三传递函数的分母确定。可选地，第一传递函数用于表征模拟滤波器的增益特性。当第一有限脉冲响应滤波器和第二有限脉冲响应滤波器所在的支路之间存在延时差；第一传递函数还用于表征模拟滤波器的时间延迟特性。第二有限脉冲响应滤波器用于通过第二传递函数拟合模拟滤波器除增益特性和时间延迟特性之外的低通滤波特性。可选地，第一传递函数和第二传递函数的阶数同第一有限脉冲响应滤波器与第二有限脉冲响应滤波器所在支路之间的延时差呈正相关。可选地，无限脉冲响应滤波器对应的第三传递函数根据模拟滤波器对应的传递函数，由脉冲响应不变法进行信号处理获得。较佳地，模拟滤波器为一阶模拟滤波器，第二有限脉冲响应滤波器位于模拟滤波器的输出端，本领域技术人员可以理解，模拟滤波器的输出端设置模数转换器，第二有限脉冲响应滤波器与模数转换器的输出端电连接。具体地，基于无限脉冲响应滤波器的第三传递函数的特点确定第一传递函数和第二传递函数。首先确定第三传递函数的分子系数，即第一传递函数。对进行变换，使得只是一个增益值，并且匹配模拟滤波器的增益特性。当改变位于所在支路的位置或支路中D型触发器个数发生改变，即支路延时特性发生变化时，需要对延时特性进行拟合。可以使得原增益值与若干个延时单元相乘，即适当提高的阶数进行延时匹配，这样的某一抽头是增益值，其他近似为0。对完成系数收敛后，自适应数字滤波器迭代算法对滤波器进行局部收敛。在一具体应用实例中，模拟滤波器传递函数为：，本领域技术人员可知，H为频域分析中以虚指数exp为基本信号的s频函数。优选地，以设置其中R为，C为为例进行说明。理论上，经过脉冲响应不变法的映射处理，获得函数H对应的z域函数，为频域分析中的z频函数：；在信号通路原的设置位置设计一个一阶有限脉冲响应滤波器FIR1对模拟滤波器的增益进行拟合，在本实例中，其增益值设为级间增益值4。在模拟滤波器所在的支路设计另一个两阶有限脉冲响应滤波器FIR2对模拟滤波器低通特性进行拟合。当传输函数增益为4时，变为：；需要指出的是，上述H及H均为频域函数。此外，在这种结构中，当P及Q所在支路采样位置不同时，需要进行延时补偿。例如，当FIR2所在的支路比FIR1所在支路少了的延时，则需要通过实现延时的补偿，类似的补偿以此类推。当系统前后时钟速率一致，则经过LMS算法，FIR2收敛出的系数值分别为，与理论推导一致。连续时间流水线模数转换器信号量化噪声失真比是83.8dB，也符合理论推导。说明在系统前后速率一致时，上述使用两个低阶有限脉冲响应滤波器替代一个无限脉冲响应滤波器或一个高阶有限脉冲响应滤波器对连续时间流水线模数转换器中的一阶模拟滤波器进行拟合的方案可行。本实施例的数字重建滤波器通过使用两个有限脉冲响应滤波器起到一个无限脉冲响应滤波器的作用，保证对连续时间流水线模数转换器中的一阶模拟滤波器进行拟合的同时，既能够降低有限脉冲响应滤波器阶数，减小面积和功耗，又避免了若采用一个无限脉冲响应滤波器会导致系统环路稳定性差的弊端，从而凸显了连续时间流水线模数转换器的结构优势，具有行业推广意义。实施例2本实施例具体提供了一种连续时间流水线模数转换器，包括模拟滤波器和实施例1中的数字重建滤波器。基于数字重建滤波器中两个低阶有限脉冲响应滤波器的设置，可以使本实施例的连续时间流水线模数转换器相应的局部实现一个无限脉冲响应滤波器的作用，保证对连续时间流水线模数转换器中的一阶模拟滤波器进行拟合的同时，既能够降低有限脉冲响应滤波器阶数，减小面积和功耗，又避免了若采用一个无限脉冲响应滤波器会导致系统环路稳定性差的弊端，从而凸显了连续时间流水线模数转换器的结构优势，具有行业推广意义。虽然以上描述了本发明的具体实施方式，但是本领域的技术人员应当理解，这仅是举例说明，本发明的保护范围是由所附权利要求书限定的。本领域的技术人员在不背离本发明的原理和实质的前提下，可以对这些实施方式做出多种变更或修改，但这些变更和修改均落入本发明的保护范围。
