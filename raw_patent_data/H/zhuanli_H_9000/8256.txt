标题title
分布式数据库分片加密、解密方法、装置、设备及介质
摘要abst
本申请公开了一种分布式数据库分片加密、解密方法、装置、设备及介质，涉及FPGA应用领域，包括：第一队列管理模块，用于当调取数据加密传输进程时读取第一队列描述符；队列描述符包括第一数据存储地址、数据分片方式、数据加密算法及公钥；第一数据缓存模块，用于基于第一数据存储地址获取待传输数据；数据分片模块，用于基于数据分片方式进行数据切分得到若干组待传输数据；数据加密模块，用于根据数据加密算法及公钥进行数据加密得到若干组加密数据；数据发送模块，用于执行相应的数据封装操作，并将封装后加密数据分别发送至相应接收节点数据库。本申请通过FPGA对分布式数据库的数据进行加密与传输，提高了数据库的整体性能。
权利要求书clms
1.一种分布式数据库分片加密装置，其特征在于，所述装置为基于CPU与FPGA异构的装置，应用于与发送节点对应的第一分片加密板卡上的FPGA，包括：第一队列管理模块，用于当自身节点数据库的CPU调取数据加密传输进程时，读取所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的第一队列描述符；所述队列描述符包括相应的第一数据存储地址、数据分片方式、数据加密算法以及公钥；第一数据缓存模块，用于基于所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中查找并获取所述待传输数据；数据分片模块，用于基于所述第一队列描述符中的所述数据分片方式对所述待传输数据进行切分，以得到若干组的所述待传输数据；数据加密模块，用于根据所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，得到若干组加密数据；数据发送模块，用于对接收到的所述若干组加密数据进行封装，并通过网口将封装后加密数据分别发送至相应的接收节点的数据库，以完成所述数据加密传输进程。2.根据权利要求1所述的分布式数据库分片加密装置，其特征在于，还包括：第一FPGA配置单元，用于当所述第一分片加密板卡上电后，通过预设FPGA开发平台将预设比特流文件烧录至FPGA，以便在所述CPU调取所述数据加密传输进程后，配置后的所述FPGA完成所述数据加密传输进程；或，第二FPGA配置单元，用于当所述第一分片加密板卡上电后，通过外部的Flsah存储所述预设比特流文件。3.根据权利要求1所述的分布式数据库分片加密装置，其特征在于，所述第一队列管理模块，包括：第一队列描述符获取单元，用于通过自身的PCIE模块从所述自身节点数据库中读取与所述数据加密传输进程对应的待传输数据的第一队列描述符。4.根据权利要求1所述的分布式数据库分片加密装置，其特征在于，还包括：第一进程结束单元，用于在数据发送成功后，向所述自身节点数据库的CPU返回相应的传输完成信号，以便所述自身节点数据库的CPU接收所述传输完成信号后结束所述数据加密传输进程。5.根据权利要求1至4任一项所述的分布式数据库分片加密装置，其特征在于，所述数据发送模块，包括：校验和插入单元，用于在完成数据封装后，将基于预设公式计算得到的校验和插入所述封装后加密数据，以便基于插入所述校验和的所述封装后加密数据进行数据发送操作。6.一种分布式数据库分片解密装置，其特征在于，所述装置为基于CPU与FPGA异构的装置，应用于与接收节点对应的第二分片加密板卡上的FPGA，包括：第二队列管理模块，用于当自身节点数据库的CPU调取数据解密存储进程时，读取所述自身节点数据库中与所述数据解密存储进程对应的封装后加密数据的第二队列描述符；所述队列描述符包括相应的第二数据存储地址、数据分片方式、数据解密算法以及与自身节点对应的私钥；数据接收模块，用于对通过网口接收到的由发送节点发送的所述封装后加密数据进行解封装操作，以得到解封后数据；数据解密模块，用于基于所述数据解密算法以及所述私钥对所述解封后数据进行数据解密，以得到相应的解密后数据；第二数据缓存模块，用于基于所述第二队列描述符中的所述第二数据存储地址将所述解密后数据存储至所述自身节点数据库中，以完成所述数据解密存储进程。7.根据权利要求6所述的分布式数据库分片解密装置，其特征在于，所述数据接收模块，包括：数据校验模块，用于将对所述封装后加密数据进行解封装操作后得到的解封后数据，进行相应的校验操作以及检验操作。8.一种分布式数据库分片加密方法，其特征在于，所述方法为基于CPU与FPGA异构的方法，应用于与发送节点对应的第一分片加密板卡上的FPGA，包括：当自身节点数据库的CPU调取数据加密传输进程时，读取所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的第一队列描述符；所述队列描述符包括相应的第一数据存储地址、数据分片方式、数据加密算法以及公钥；基于所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中查找并获取所述待传输数据；基于所述第一队列描述符中的所述数据分片方式对所述待传输数据进行切分，以得到若干组的所述待传输数据；根据所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，得到若干组加密数据；对接收到的所述若干组加密数据进行封装，并通过网口将封装后加密数据分别发送至相应的接收节点的数据库，以完成所述数据加密传输进程。9.一种分布式数据库分片解密方法，其特征在于，所述方法为基于CPU与FPGA异构的方法，应用于与接收节点对应的第二分片加密板卡上的FPGA，包括：当自身节点数据库的CPU调取数据解密存储进程时，读取所述自身节点数据库中与所述数据解密存储进程对应的封装后加密数据的第二队列描述符；所述队列描述符包括相应的第二数据存储地址、数据分片方式、数据解密算法以及与自身节点对应的私钥；对通过网口接收到的由发送节点发送的所述封装后加密数据进行解封装操作，以得到解封后数据；基于所述数据解密算法以及所述私钥对所述解封后数据进行数据解密，以得到相应的解密后数据；基于所述第二队列描述符中的所述第二数据存储地址将所述解密后数据存储至所述自身节点数据库中，以完成所述数据解密存储进程。10.一种电子设备，其特征在于，包括：存储器，用于保存计算机程序；处理器，用于执行所述计算机程序以实现如权利要求8或9所述的方法。11.一种计算机可读存储介质，其特征在于，用于保存计算机程序，所述计算机程序被处理器执行时实现如权利要求8或9所述的方法。
说明书desc
技术领域本发明涉及FPGA应用领域，特别涉及一种分布式数据库分片加密、解密方法、装置、设备及介质。背景技术当前，分布式数据库为了实现分布式数据管理，将数据在多个数据中心的多台服务器节点上进行数据分布，并在事务处理过程中，频繁的在各节点之间进行数据的异地调度。在此过程中，来自本机或网络上的人为攻击，即黑客攻击是数据安全的重要隐患，针对此类隐患，通常在数据传输时对数据进行加密。但是，数据加密需要占用系统的CPU资源和内存资源，造成CPU和内存资源占用过重，与数据库核心进程进行资源竞争，严重拉低数据库的整体性能表现。发明内容有鉴于此，本发明的目的在于提供分布式数据库分片加密、解密方法、装置、设备及介质，能够有效减少CPU和内存资源的占用，提高数据库的整体性能。其具体方案如下：第一方面，本申请提供了一种分布式数据库分片加密装置，所述装置为基于CPU与FPGA异构的装置，应用于与发送节点对应的第一分片加密板卡上的FPGA，包括：第一队列管理模块，用于当自身节点数据库的CPU调取数据加密传输进程时，读取所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的第一队列描述符；所述队列描述符包括相应的第一数据存储地址、数据分片方式、数据加密算法以及公钥；第一数据缓存模块，用于基于所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中查找并获取所述待传输数据；数据分片模块，用于基于所述第一队列描述符中的所述数据分片方式对所述待传输数据进行切分，以得到若干组的所述待传输数据；数据加密模块，用于根据所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，得到若干组加密数据；数据发送模块，用于对接收到的所述若干组加密数据进行封装，并通过网口将封装后加密数据分别发送至相应的接收节点的数据库，以完成所述数据加密传输进程。可选的，所述分布式数据库分片加密装置，还包括：第一FPGA配置单元，用于当所述第一分片加密板卡上电后，通过预设FPGA开发平台将预设比特流文件烧录至FPGA，以便在所述CPU调取所述数据加密传输进程后，配置后的所述FPGA完成所述数据加密传输进程；或，第二FPGA配置单元，用于当所述第一分片加密板卡上电后，通过外部的Flsah存储所述预设比特流文件。可选的，所述第一队列管理模块，包括：第一队列描述符获取单元，用于通过自身的PCIE模块从所述自身节点数据库中读取与所述数据加密传输进程对应的待传输数据的第一队列描述符。可选的，所述的分布式数据库分片加密装置，还包括：第一进程结束单元，用于在数据发送成功后，向所述自身节点数据库的CPU返回相应的传输完成信号，以便所述自身节点数据库的CPU接收所述传输完成信号后结束所述数据加密传输进程。可选的，所述数据发送模块，包括：校验和插入单元，用于在完成数据封装后，将基于预设公式计算得到的校验和插入所述封装后加密数据，以便基于插入所述校验和的所述封装后加密数据进行数据发送操作。第二方面，本申请提供了一种分布式数据库分片解密装置，所述装置为基于CPU与FPGA异构的装置，应用于与接收节点对应的第二分片加密板卡上的FPGA，包括：第二队列管理模块，用于当自身节点数据库的CPU调取数据解密存储进程时，读取所述自身节点数据库中与所述数据解密存储进程对应的封装后加密数据的第二队列描述符；所述队列描述符包括相应的第二数据存储地址、数据分片方式、数据解密算法以及与自身节点对应的私钥；数据接收模块，用于对通过网口接收到的由发送节点发送的所述封装后加密数据进行解封装操作，以得到解封后数据；数据解密模块，用于基于所述数据解密算法以及所述私钥对所述解封后数据进行数据解密，以得到相应的解密后数据；第二数据缓存模块，用于基于所述第二队列描述符中的所述第二数据存储地址将所述解密后数据存储至所述自身节点数据库中，以完成所述数据解密存储进程。可选的，所述数据接收模块，包括：数据校验模块，用于将对所述封装后加密数据进行解封装操作后得到的解封后数据，进行相应的校验操作以及检验操作。第三方面，本申请提供了一种分布式数据库分片加密方法，所述方法为基于CPU与FPGA异构的方法，应用于与发送节点对应的第一分片加密板卡上的FPGA，包括：当自身节点数据库的CPU调取数据加密传输进程时，读取所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的第一队列描述符；所述队列描述符包括相应的第一数据存储地址、数据分片方式、数据加密算法以及公钥；基于所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中查找并获取所述待传输数据；基于所述第一队列描述符中的所述数据分片方式对所述待传输数据进行切分，以得到若干组的所述待传输数据；根据所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，得到若干组加密数据；对接收到的所述若干组加密数据进行封装，并通过网口将封装后加密数据分别发送至相应的接收节点的数据库，以完成所述数据加密传输进程。第四方面，本申请提供了一种分布式数据库分片解密方法，所述方法为基于CPU与FPGA异构的方法，应用于与接收节点对应的第二分片加密板卡上的FPGA，包括：当自身节点数据库的CPU调取数据解密存储进程时，读取所述自身节点数据库中与所述数据解密存储进程对应的封装后加密数据的第二队列描述符；所述队列描述符包括相应的第二数据存储地址、数据分片方式、数据解密算法以及与自身节点对应的私钥；对通过网口接收到的由发送节点发送的所述封装后加密数据进行解封装操作，以得到解封后数据；基于所述数据解密算法以及所述私钥对所述解封后数据进行数据解密，以得到相应的解密后数据；基于所述第二队列描述符中的所述第二数据存储地址将所述解密后数据存储至所述自身节点数据库中，以完成所述数据解密存储进程。第五方面，本申请提供了一种电子设备，包括：存储器，用于保存计算机程序；处理器，用于执行所述计算机程序，以实现前述的方法的步骤。第六方面，本申请提供了一种计算机可读存储介质，用于保存计算机程序，所述计算机程序被处理器执行时实现前述的方法的步骤。可见，本申请中，第一队列管理模块，用于当自身节点数据库的CPU调取数据加密传输进程时，读取所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的第一队列描述符；所述队列描述符包括相应的第一数据存储地址、数据分片方式、数据加密算法以及公钥；第一数据缓存模块，用于基于所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中查找并获取所述待传输数据；数据分片模块，用于基于所述第一队列描述符中的所述数据分片方式对所述待传输数据进行切分，以得到若干组的所述待传输数据；数据加密模块，用于根据所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，得到若干组加密数据；数据发送模块，用于对接收到的所述若干组加密数据进行封装，并通过网口将封装后加密数据分别发送至相应的接收节点的数据库，以完成所述数据加密传输进程。本申请通过采用CPU+FPGA异构模式，在自身节点数据库的CPU调取数据加密传输进程时，使用FPGA对分布式数据库的数据进行分片、加密与传输，减少了CPU和内存资源的占用，提高了数据库的整体性能。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本申请提供的一种分布式数据库分片加密装置结构示意图；图2为本申请提供的一种FPGA模块结构框图；图3为本申请提供的一种异构的分布式数据库分片加密方法以及分片加密传输板卡结构示意图；图4为本申请提供的一种基于CPU与FPGA异构的分布式数据库分片解密装置结构示意图；图5为本申请提供的一种基于CPU与FPGA异构的分布式数据库分片加密方法流程图；图6为本申请提供的一种基于CPU与FPGA异构的分布式数据库分片解密方法流程图；图7为本申请提供的一种电子设备结构图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。当前，分布式数据库在事务处理过程中，频繁的在各节点之间进行数据的异地调度。在此过程中，来自本机或网络上的人为攻击，即黑客攻击是数据安全的重要隐患，针对此类隐患，通常在数据传输时对数据进行加密。但是，数据加密需要占用系统的CPU资源和内存资源，造成CPU和内存资源占用过重，与数据库核心进程进行资源竞争，严重拉低数据库的整体性能表现。为此，本申请提供了一种分布式数据库分片加密、解密方案，能够有效减少CPU和内存资源的占用，提高数据库的整体性能。参见图1所示，本发明实施例公开了一种分布式数据库分片加密装置，所述方法为基于CPU与FPGA异构的方法，应用于与发送节点对应的第一分片加密板卡上的FPGA，包括：第一队列管理模块11，用于当自身节点数据库的CPU调取数据加密传输进程时，读取所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的第一队列描述符；所述队列描述符包括相应的第一数据存储地址、数据分片方式、数据加密算法以及公钥。本实施例中，在自身节点数据库的CPU调取数据加密传输进程之前，需先完成FPGA配置操作。在一些具体实施例中，所述第一队列管理模块可以包括第一FPGA配置单元，用于当所述第一分片加密板卡上电后，基于预设FPGA开发平台将预设比特流文件烧录至FPGA，以便在所述CPU调取所述数据加密传输进程后，配置后的所述FPGA完成所述数据加密传输进程。在一些具体实施例中，所述第一队列管理模块可以包括第二FPGA配置单元，用于当所述第一分片加密板卡上电后，通过外部的Flsah存储所述预设比特流文件。其中，Flash为一种交互式动画设计工具。具体的，可以通过将所述第一分片加密板卡连接至相应的PCIE插槽中以令所述第一分片加密板卡上电。并且，在完成所述FPGA配置操作后，便可以开始等待所述CPU调用相应的数据加密传输进程。进一步需要理解的是，结合图2所示，在一些具体实施例中，所述第一队列管理模块，也即图2中的队列管理模块，可以包括第一队列描述符获取单元，所述第一队列描述符获取单元具体用于通过自身的PCIE模块从所述自身节点数据库中读取与所述数据加密传输进程对应的待传输数据的第一队列描述符。其中，所述第一队列描述符为所述CPU在调取所述数据加密传输进程时生成的队列描述符，所述CPU生成所述第一队列描述符后将其存储至所述自身节点数据库中。可以理解的是，所述第一数据存储地址为所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的存储地址。所述数据加密算法与所述数据分片方式可以预先由用户进行配置，所述数据加密算法包括但不限于RSA算法、Diffie-Hellman算法、El Gamal算法。其中，所述RSA算法为一种由Ron Rivest、Adi Shamir、Leonard Adleman提出的非对称加密算法，所述Diffie-Hellman算法为一种由Whitfield Diffie与MartinHellman提出的密钥交换协议，第一数据缓存模块12，用于基于所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中查找并获取所述待传输数据。本实施例中，在获取与所述数据加密传输进程对应的所述第一队列描述符后，需要利用所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中确定与所述数据加密传输进程对应的所述待传输数据，以便后续基于所述待传输数据进行相应的数据分片操作。其中，所述待传输数据是未加密的数据。数据分片模块13，用于基于所述第一队列描述符中的所述数据分片方式对所述待传输数据进行切分，以得到若干组的所述待传输数据。可以理解的是，本实施例中，由于当前可能存在多个作为接收节点的数据库节点，因此在获取所述待传输数据之后，需要基于所述第一队列描述符中的所述数据分片方式进行数据切分，将所述待传输数据分割为多组数据，得到若干组的所述待传输数据。其中，每组所述待传输数据均有与之相对应的接收节点。数据加密模块14，用于根据所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，得到若干组加密数据。可以理解的是，本实施例中，由于所述待传输数据是未加密的数据，故在传输数据之前，还需对切分后得到的若干组的所述待传输数据进行数据加密。具体的，需要基于所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，以得到若干组加密数据。数据发送模块15，用于对接收到的所述若干组加密数据进行封装，并通过网口将封装后加密数据分别发送至相应的接收节点的数据库，以完成所述数据加密传输进程。具体的，本实施例中，在接收到所述数据加密模块发送的若干组加密数据后，将所述若干组加密数据封装为满足预设网络协议要求的结构，例如ATM帧、数据包。然后通过所述第一分片加密板卡上的网口将封装后加密数据分别发送至相应的接收节点的数据库。参见图3所示，具体是通过网络将所述封装后加密数据发送至其他数据库节点的分片加密板卡。所述分片加密板卡包含FPGA、存储设备、输入输出接口、外围电子设备以及PCB板。其中，所述FPGA主要实现两部分的功能。具体的在作为发送节点的数据库节点上进行数据的分片加密传输。以及，在作为接收节点的数据库节点上进行数据的解密存储。此外，所述存储设备包括但不限于Flash、DDR4，所述Flash用于存储FPGA的逻辑程序来实现FPGA的上电固化，所述DDR4用于存储数据。所述输入输出接口包括但不限于网口、PCIE接口、JTAG接口，所述网口负责分布式数据库节点间密文数据的传输，所述PCIE接口负责FPGA与数据库的高速通信，所述JTAG接口负责FPGA逻辑程序的烧录与调试。所述外围电子器件包括但不限于电源芯片、时钟芯片、必要的电阻电容。所述PCB板负责为所述FPGA、所述存储设备、所述输入输出接口以及所述外围电子器件提供载体。需要理解的是，在一些具体实施例中，所述数据发送模块包括校验和插入单元，用于在完成数据封装后，将基于预设公式计算得到的校验和插入所述封装后加密数据，以便基于插入所述校验和的所述封装后加密数据进行数据发送操作。因此可知，最终发送的数据是先后完成数据封装以及校验和插入的加密数据。进一步的，所述分布式数据库分片加密装置还包括第一进程结束单元，用于在数据发送成功后，向所述自身节点数据库的CPU返回相应的传输完成信号，以便所述自身节点数据库的CPU接收所述传输完成信号后结束所述数据加密传输进程。这样一来，通过将所述FPGA作为所述CPU的协处理器，并基于所述FPGA实现数据库节点数据的切片、加密与传输，以此实现分布式数据库的数据加密存储与细粒度共享，有效减少了CPU和内存资源的占用，并且由于FPGA的高并行性和流行性处理模式提高了数据传输效率，进而提高了数据库的整体性能。由此可见，本申请实施例中，第一队列管理模块，用于当自身节点数据库的CPU调取数据加密传输进程时，读取所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的第一队列描述符；所述队列描述符包括相应的第一数据存储地址、数据分片方式、数据加密算法以及公钥；第一数据缓存模块，用于基于所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中查找并获取所述待传输数据；数据分片模块，用于基于所述第一队列描述符中的所述数据分片方式对所述待传输数据进行切分，以得到若干组的所述待传输数据；数据加密模块，用于根据所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，得到若干组加密数据；数据发送模块，用于对接收到的所述若干组加密数据进行封装，并通过网口将封装后加密数据分别发送至相应的接收节点的数据库，以完成所述数据加密传输进程。本申请通过采用CPU+FPGA异构模式，在自身节点数据库的CPU调取数据加密传输进程时，使用FPGA对分布式数据库的数据进行分片、加密与传输，减少了CPU和内存资源的占用，并进而提高了数据库的整体性能。参见图4所示，本发明实施例公开了一种分布式数据库分片解密装置，所述装置为基于CPU与FPGA异构的装置，应用于与接收节点对应的第二分片加密板卡上的FPGA，包括：第二队列管理模块21，用于当自身节点数据库的CPU调取数据解密存储进程时，读取所述自身节点数据库中与所述数据解密存储进程对应的封装后加密数据的第二队列描述符；所述队列描述符包括相应的第二数据存储地址、数据分片方式、数据解密算法以及与自身节点对应的私钥。需要理解的是，本实施例中，所述第二队列描述符为自身节点数据库的CPU在调取数据解密存储进程时由CPU所生成的队列描述符。其中，所述第二数据存储地址为对封装后加密数据进行解封装操作以及数据解密操作后得到的数据进行存储的地址。所述数据解密算法为与所述封装后加密数据对应的数据加密算法所对应的解密算法。数据接收模块22，用于对通过网口接收到的由发送节点发送的所述封装后加密数据进行解封装操作，以得到解封后数据。具体的，本实施例中，在一些具体实施例中，所述数据接收模块包括数据校验模块，具体用于将对所述封装后加密数据进行解封装操作后得到的解封后数据，进行相应的校验操作以及检验操作。结合图2所示，所述数据接收模块接收通过网络传输的封装后加密数据，对所述封装后加密数据进行一系列数据操作后将得到的所述解封后数据发送至数据解密模块。数据解密模块23，用于基于所述数据解密算法以及所述私钥对所述解封后数据进行数据解密，以得到相应的解密后数据。第二数据缓存模块24，用于基于所述第二队列描述符中的所述第二数据存储地址将所述解密后数据存储至所述自身节点数据库中，以完成所述数据解密存储进程。可以理解的是，本实施例中，在基于所述第二数据存储地址将所述解密后数据存储至所述自身节点数据库后，可以向所述自身节点数据库的CPU返回相应的存储完成信号，以便所述自身节点数据库的CPU接收所述存储完成信号后结束所述数据解密存储进程。这样一来，通过将所述FPGA作为所述CPU的协处理器，并基于所述FPGA实现数据库节点数据的解密与存储，以此实现分布式数据库的数据解密存储与细粒度共享，减少了CPU和内存资源的占用，并提高了数据库的整体性能。其中，关于上述数据解密模块23的具体过程可以参考前述实施例公开的相应内容，在此不再进行赘述。由此可见，本申请实施例中，第二队列管理模块，用于当自身节点数据库的CPU调取数据解密存储进程时，读取所述自身节点数据库中与所述数据解密存储进程对应的封装后加密数据的第二队列描述符；所述队列描述符包括相应的第二数据存储地址、数据分片方式、数据解密算法以及与自身节点对应的私钥；数据接收模块，用于对通过网口接收到的由发送节点发送的所述封装后加密数据进行解封装操作，以得到解封后数据；数据解密模块，用于基于所述数据解密算法以及所述私钥对所述解封后数据进行数据解密，以得到相应的解密后数据；第二数据缓存模块，用于基于所述第二队列描述符中的所述第二数据存储地址将所述解密后数据存储至所述自身节点数据库中，以完成所述数据解密存储进程。本申请通过采用CPU+FPGA异构模式，在自身节点数据库的CPU调取数据解密存储进程时，使用FPGA对接收到的封装后解密数据进行解封装、解密与存储，减少了CPU和内存资源的占用，并进而提高了数据库的整体性能。参见图5所示，本发明实施例公开了一种分布式数据库分片加密方法，所述方法为基于CPU与FPGA异构的方法，应用于与发送节点对应的第一分片加密板卡上的FPGA，包括：步骤S11、当自身节点数据库的CPU调取数据加密传输进程时，读取所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的第一队列描述符；所述队列描述符包括相应的第一数据存储地址、数据分片方式、数据加密算法以及公钥。步骤S12、基于所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中查找并获取所述待传输数据。步骤S13、基于所述第一队列描述符中的所述数据分片方式对所述待传输数据进行切分，以得到若干组的所述待传输数据。步骤S14、根据所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，得到若干组加密数据。步骤S15、对接收到的所述若干组加密数据进行封装，并通过网口将封装后加密数据分别发送至相应的接收节点的数据库，以完成所述数据加密传输进程。其中，关于上述步骤S11至步骤S15的具体过程可以参考前述实施例公开的相应内容，在此不再进行赘述。由此可见，本申请实施例中，第一队列管理模块，用于当自身节点数据库的CPU调取数据加密传输进程时，读取所述自身节点数据库中与所述数据加密传输进程对应的待传输数据的第一队列描述符；所述队列描述符包括相应的第一数据存储地址、数据分片方式、数据加密算法以及公钥；第一数据缓存模块，用于基于所述第一队列描述符中的所述第一数据存储地址从所述自身节点数据库中查找并获取所述待传输数据；数据分片模块，用于基于所述第一队列描述符中的所述数据分片方式对所述待传输数据进行切分，以得到若干组的所述待传输数据；数据加密模块，用于根据所述第一队列描述符中的所述数据加密算法以及所述公钥对若干组的所述待传输数据进行加密，得到若干组加密数据；数据发送模块，用于对接收到的所述若干组加密数据进行封装，并通过网口将封装后加密数据分别发送至相应的接收节点的数据库，以完成所述数据加密传输进程。本申请通过采用CPU+FPGA异构模式，在自身节点数据库的CPU调取数据加密传输进程时，使用FPGA对分布式数据库的数据进行分片、加密与传输，减少了CPU和内存资源的占用，并进而提高了数据库的整体性能。参见图6所示，本发明实施例公开了一种分布式数据库分片解密方法，所述方法为基于CPU与FPGA异构的方法，应用于与接收节点对应的第二分片加密板卡上的FPGA，包括：步骤S21、当自身节点数据库的CPU调取数据解密存储进程时，读取所述自身节点数据库中与所述数据解密存储进程对应的封装后加密数据的第二队列描述符；所述队列描述符包括相应的第二数据存储地址、数据分片方式、数据解密算法以及与自身节点对应的私钥。步骤S22、对通过网口接收到的由发送节点发送的所述封装后加密数据进行解封装操作，以得到解封后数据。步骤S23、基于所述数据解密算法以及所述私钥对所述解封后数据进行数据解密，以得到相应的解密后数据。步骤S24、基于所述第二队列描述符中的所述第二数据存储地址将所述解密后数据存储至所述自身节点数据库中，以完成所述数据解密存储进程。其中，关于上述步骤S21至步骤S24的具体过程可以参考前述实施例公开的相应内容，在此不再进行赘述。由此可见，本申请实施例中，第二队列管理模块，用于当自身节点数据库的CPU调取数据解密存储进程时，读取所述自身节点数据库中与所述数据解密存储进程对应的封装后加密数据的第二队列描述符；所述队列描述符包括相应的第二数据存储地址、数据分片方式、数据解密算法以及与自身节点对应的私钥；数据接收模块，用于对通过网口接收到的由发送节点发送的所述封装后加密数据进行解封装操作，以得到解封后数据；数据解密模块，用于基于所述数据解密算法以及所述私钥对所述解封后数据进行数据解密，以得到相应的解密后数据；第二数据缓存模块，用于基于所述第二队列描述符中的所述第二数据存储地址将所述解密后数据存储至所述自身节点数据库中，以完成所述数据解密存储进程。本申请通过采用CPU+FPGA异构模式，在自身节点数据库的CPU调取数据解密存储进程时，使用FPGA对接收到的封装后解密数据进行解封装、解密与存储，减少了CPU和内存资源的占用，并进而提高了数据库的整体性能。进一步的，本申请实施例还公开了一种电子设备，图7是根据一示例性实施例示出的电子设备30结构图，图中的内容不能认为是对本申请的使用范围的任何限制。图7为本申请实施例提供的一种电子设备30的结构示意图。该电子设备 20，具体可以包括：至少一个处理器31、至少一个存储器32、电源33、通信接口34、输入输出接口35和通信总线36。其中，所述存储器32用于存储计算机程序，所述计算机程序由所述处理器31加载并执行，以实现前述任一实施例公开的方法中的相关步骤。另外，本实施例中的电子设备30具体可以为电子计算机。本实施例中，电源33用于为电子设备30上的各硬件设备提供工作电压；通信接口34能够为电子设备30创建与外界设备之间的数据传输通道，其所遵 循的通信协议是能够适用于本申请技术方案的任意通信协议，在此不对其进 行具体限定；输入输出接口35，用于获取外界输入数据或向外界输出数据，其具体的接口类型可以根据具体应用需要进行选取，在此不进行具体限定。另外，存储器32作为资源存储的载体，可以是只读存储器、随机存储器、 磁盘或者光盘等，其上所存储的资源可以包括操作系统321、计算机程序322 等，存储方式可以是短暂存储或者永久存储。其中，操作系统321用于管理与控制电子设备30上的各硬件设备以及计算 机程序322，其可以是Windows Server、Netware、Unix、Linux等。计算机程序322除了包括能够用于完成前述任一实施例公开的由电子设备30执行的方法的计算机程序之外，还可以进一步包括能够用于完成其他特定工作的计算机程序。进一步的，本申请还公开了一种计算机可读存储介质，用于存储计算机程序；其中，所述计算机程序被处理器执行时实现前述公开的方法。关于该方法的具体步骤可以参考前述实施例中公开的相应内容，在此不再进行赘述。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其它实施例的不同之处，各个实施例之间相同或相似部分互相参见即可。对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。专业人员还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本申请的范围。结合本文中所公开的实施例描述的方法或算法的步骤可以直接用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。最后，还需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。以上对本申请所提供的技术方案进行了详细介绍，本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请的方法及其核心思想；同时，对于本领域的一般技术人员，依据本申请的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本申请的限制。
