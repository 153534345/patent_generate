标题title
一种系统运维方法、装置及设备
摘要abst
本发明公开了一种系统运维方法、装置及设备，包括：根据系统检测需求预设检测脚本，所述检测脚本包括检测模块规则和检测条件；根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息；其中，所述运行模块包括系统日志、系统环境和系统设备；根据所述各个运行模块的检测信息生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案。通过按照一定顺序对运行模块进行检测，提高了脚本运行效率；此外，根据各个运行模块的检测信息可生成系统的检测报告，用于匹配系统维护方案，便于用户或运维人员统筹广播系统的故障信息和系统维护方案。降低了广播系统运维的人力成本。
权利要求书clms
1.一种系统运维检测方法，其特征在于，包括：根据系统检测需求预设检测脚本，所述检测脚本包括检测模块规则和检测条件；根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息；其中，所述运行模块包括系统日志、系统环境和系统设备；根据所述各个运行模块的检测信息生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案。2.如权利要求1所述的系统运维检测方法，其特征在于，所述根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息，具体为：预设若干检测模块，并根据所述检测模块规则调用各个检测模块；其中，所述检测模块包括日志检测模块、环境检测模块和设备检测模块；通过所述日志检测模块检测所述系统日志获取日志检测信息；通过所述环境检测模块检测所述系统环境获取环境检测信息；通过所述设备检测模块检测所述系统设备获取设备检测信息。3.如权利要求2所述的系统运维检测方法，其特征在于，所述通过所述日志检测模块检测所述系统日志，具体为：根据所述日志检测模块检测系统日志的核心页面、核心信息和核心任务信息；获取第一检测结果，并根据第一预警阈值和所述日志检测结果生成日志预警信息；其中，所述第一检测结果包括核心信息的操作记录和核心任务信息的执行记录；根据预设格式输出日志检测信息，所述日志检测信息包括所述第一检测结果和日志预警信息。4.如权利要求2所述的系统运维检测方法，其特征在于，所述通过所述环境检测模块检测所述系统环境，具体为：根据所述环境检测模块检测系统的环境脚本配置信息，所述环境脚本配置信息包括CPU,内存,磁盘,网络负载和检测频率；获取第二检测结果，并根据第二预警阈值和所述第二检测结果生成环境预警信息，所述第二检测结果包括CPU占用率、内存占用率、磁盘占用率和网络负载检测值和检测频率值；根据预设格式输出环境检测信息，所述环境检测信息包括所述第二检测结果和环境预警信息。5.如权利要求2所述的系统运维检测方法，其特征在于，所述通过所述设备检测模块检测所述系统设备，具体为：根据所述设备检测模块检测系统的设备运行信息，所述设备运行信息包括设备网络、网络延迟、丢包率、电压信息、过载信息和IP信息；获取第三检测结果，并根据第三预警阈值和所述第三检测结果生成设备预警信息；根据预设格式输出设备检测信息，所述设备检测信息包括所述第三检测结果和设备预警信息。6.如权利要求1所述的系统运维检测方法，其特征在于，在所述根据所述检测报告中的预警信息匹配系统维护方案之前，还包括：根据历史运维信息建立运维方案库，所述运维方案库包括各个检测项对应的维修方案。7.如权利要求6所述的系统运维检测方法，其特征在于，所述根据所述各个运行模块的检测记过生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案，具体为：获取各个运行模块的检测信息根据预设格式生成系统的检测报告，所述检测报告包括各个模块的检测结果和预警信息；根据所述预警信息获取所有预警项，并在所述运维方案库中匹配各个预警项的维修方案，生成系统维护方案。8.一种系统运维检测装置，其特征在于，包括：预处理模块、检测模块、方案生成模块；所述预处理模块，用于根据系统检测需求预设检测脚本，所述检测脚本包括检测模块规则和检测条件；所述检测模块，用于根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息；其中，所述运行模块包括系统日志、系统环境和系统设备；所述方案生成模块，用于根据所述各个运行模块的检测信息生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案。9.一种计算机设备，其特征在于，包括：处理器、通信接口和存储器，所述处理器、所述通信接口和所述存储器相互连接，其中，所述存储器存储有可执行程序代码，所述处理器用于调用所述可执行程序代码，执行如权利要求1至7中任一项所述的系统运维检测方法。10.一种计算机可读存储介质，其上存储有计算机指令，所述计算机指令被处理器执行时实现如权利要求1至7中任一项所述的系统运维检测方法。
说明书desc
技术领域本发明涉及广播系统领域，尤其涉及一种系统运维方法、装置及设备。背景技术广播体系是个网络系统，存在网络安全问题；同时又是一个业务系统，存在运维管理问题。目前的广播系统运维管理工作,主要是依靠人力配合工具做运维，以检测设备电压,芯片故障,网络故障,操作系统故障。现有的广播系统运维方案，由运维数据采集前端和业务运维管理平台组成。依靠人力配合，没有系统的管理和检测方案，难以统筹广播系统中硬件、软件以及运行环境之间的运维关系，使得运维成本高、效率低，且无法将系统问题可视化。发明内容本发明提供了一种系统运维方法、装置及设备，以解决现有广播系统中运维方案难以统筹广播系统中硬件、软件以及运行环境之间的运维关系，运维成本高、效率低的技术问题。为了解决上述技术问题，本发明实施例提供了一种广播系统运维方法，包括：根据系统检测需求预设检测脚本，所述检测脚本包括检测模块规则和检测条件；根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息；其中，所述运行模块包括系统日志、系统环境和系统设备；根据所述各个运行模块的检测信息生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案。本发明通过根据检测需求预设检测脚本，实时调整广播系统中的检测规则和检测项，便于用户或运维人员检测重点项，从而提高检测效率；同时通过检测脚本的检测模块规则，将各个检测项进行分类到各个运行模块中，并按照一定顺序对所述运行模块进行检测，提高了脚本运行效率；此外，根据各个运行模块的检测信息可生成系统的检测报告，用于匹配系统维护方案，便于用户或运维人员统筹广播系统的故障信息和系统维护方案。降低了广播系统运维的人力成本。进一步地，所述根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息，具体为：预设若干检测模块，并根据所述检测模块规则调用各个检测模块；其中，所述检测模块包括日志检测模块、环境检测模块和设备检测模块；通过所述日志检测模块检测所述系统日志获取日志检测信息；通过所述环境检测模块检测所述系统环境获取环境检测信息；通过所述设备检测模块检测所述系统设备获取设备检测信息。本发明通过各个检测模块分别对运行模块中的各个项进行检测，提高了脚本运行效率和检测效率，同时便于统筹广播系统中故障信息。进一步地，所述通过所述日志检测模块检测所述系统日志，具体为：根据所述日志检测模块检测系统日志的核心页面、核心信息和核心任务信息；获取第一检测结果，并根据第一预警阈值和所述日志检测结果生成日志预警信息；其中，所述第一检测结果包括核心信息的操作记录和核心任务信息的执行记录；根据预设格式输出日志检测信息，所述日志检测信息包括所述第一检测结果和日志预警信息。本发明通过日志检测模块检测系统日志中的核心信息和执行操作记录，排查系统各项操作的正确性，及时排查系统操作的出现的故障。同时，对于出现故障的问题项，及时进行预警，减少系统运行风险。进一步地，所述通过所述环境检测模块检测所述系统环境，具体为：根据所述环境检测模块检测系统的环境脚本配置信息，所述环境脚本配置信息包括CPU,内存,磁盘,网络负载和检测频率；获取第二检测结果，并根据第二预警阈值和所述第二检测结果生成环境预警信息，所述第二检测结果包括CPU占用率、内存占用率、磁盘占用率和网络负载检测值和检测频率值；根据预设格式输出环境检测信息，所述环境检测信息包括所述第二检测结果和环境预警信息。本发明通过环境监测模块检测系统环境信息，避免由于环境信息超出预设值使得系统运行的异常，对于超出预警阈值的检测项进行提前预警，减少系统运行的风险，提高运维效率。进一步地，所述通过所述设备检测模块检测所述系统设备，具体为：根据所述设备检测模块检测系统的设备运行信息，所述设备运行信息包括设备网络、网络延迟、丢包率、电压信息、过载信息和I P信息；获取第三检测结果，并根据第三预警阈值和所述第三检测结果生成设备预警信息；根据预设格式输出设备检测信息，所述设备检测信息包括所述第三检测结果和设备预警信息。本发明通过设备检测模块，检测设备的运行信息，及时发现设备的运行异常问题，同时根据预警阈值对问题项进行预警，便于运维人员或用户及时对故障项进行维护。进一步地，在所述根据所述检测报告中的预警信息匹配系统维护方案之前，还包括：根据历史运维信息建立运维方案库，所述运维方案库包括各个检测项对应的维修方案。本发明通过预设的运维方案库，便于检测的各个故障项可快速在运维方案库中匹配维修方案，以供运维人员和用户进行统筹运维信息。进一步地，所述根据所述各个运行模块的检测记过生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案，具体为：获取各个运行模块的检测信息根据预设格式生成系统的检测报告，所述检测报告包括各个模块的检测结果和预警信息；根据所述预警信息获取所有预警项，并在所述运维方案库中匹配各个预警项的维修方案，生成系统维护方案。本发明通过将检测报告以检测报表输出，给运维人员作为运维的参考,便于运维人员能快速分析定位问题,减少人力,时间成本。第二方面，本发明实施例提供了一种系统运维检测装置，包括：预处理模块、检测模块、方案生成模块；所述预处理模块，用于根据系统检测需求预设检测脚本，所述检测脚本包括检测模块规则和检测条件；所述检测模块，用于根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息；其中，所述运行模块包括系统日志、系统环境和系统设备；所述方案生成模块，用于根据所述各个运行模块的检测信息生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案。第三方面，本发明实施的一种计算机设备，包括：处理器、通信接口和存储器，所述处理器、所述通信接口和所述存储器相互连接，其中，所述存储器存储有可执行程序代码，所述处理器用于调用所述可执行程序代码，执行所述的系统运维检测方法。第四方面，本发明实施例提供了一种计算机可读存储介质，其上存储有计算机指令，所述计算机指令被处理器执行时实现所述的系统运维检测方法。附图说明图1为本发明实施例提供的系统运维检测方法地一种流程示意图；图2为本发明实施例提供的系统运维检测装置的一种结构示意图；图3为本发明实施例提供的系统运维检测方法的另一种流程示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例一请参照图1，图1为本发明实施例提供的系统运维检测方法地一种流程示意图，包括步骤101至步骤103，具体如下：步骤101：根据系统检测需求预设检测脚本，所述检测脚本包括检测模块规则和检测条件；在本实施例中，通过可定制地检测脚本，对各个功能模块和运行模块进行检测，极大地降低了运维人员的工作量。在本实施例中，所述检测脚本为JSON格式的文本；所述检测脚本中包括检测模块名称、检测模块规则和检测条件，所述检测条件包括报警阈值。在本实施例中，一个检测脚本对应一个运行模块的检测规则，通过各个检测脚本中的检测规则对所述运行模块进行检测。步骤102：根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息；其中，所述运行模块包括系统日志、系统环境和系统设备；在本实施例中，所述根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息，具体为：预设若干检测模块，并根据所述检测模块规则调用各个检测模块；其中，所述检测模块包括日志检测模块、环境检测模块和设备检测模块；通过所述日志检测模块检测所述系统日志获取日志检测信息；通过所述环境检测模块检测所述系统环境获取环境检测信息；通过所述设备检测模块检测所述系统设备获取设备检测信息。在本实施例中，将系统中的各个检测项进行分类，形成多个检测模块，通过进程通信,统一由智能运维引擎主程序根据预先设定的检测脚本进行检测分析,并输出结果报表。在本实施例中，通过各个检测模块分别对运行模块中的各个项进行检测，提高了脚本运行效率和检测效率，同时便于统筹广播系统中故障信息。在本实施例中，所述通过所述日志检测模块检测所述系统日志，具体为：根据所述日志检测模块检测系统日志的核心页面、核心信息和核心任务信息；获取第一检测结果，并根据第一预警阈值和所述日志检测结果生成日志预警信息；其中，所述第一检测结果包括核心信息的操作记录和核心任务信息的执行记录；根据预设格式输出日志检测信息，所述日志检测信息包括所述第一检测结果和日志预警信息。在本实施例中，根据日志检测模块所对应的日志检测脚本进行日志核心页面的检测、核心信息的检测以及核心执行记录的保护；日志检测模块的第一检测结果以JSON格式输出，第一检测结果中包含核心信息的增删改查记录,核心任务信息的执行记录。此外，若所述第一检测结果中的各个检测项符合检测脚本的检测条件中预设的报警项,则报警，并输出所述第一检测结果和报警信息。在本实施例中，通过日志检测模块检测系统日志中的核心信息和执行操作记录，排查系统各项操作的正确性，及时排查系统操作的出现的故障。同时，对于出现故障的问题项，及时进行预警，减少系统运行风险。在本实施例中，所述通过所述环境检测模块检测所述系统环境，具体为：根据所述环境检测模块检测系统的环境脚本配置信息，所述环境脚本配置信息包括CPU,内存,磁盘,网络负载和检测频率；获取第二检测结果，并根据第二预警阈值和所述第二检测结果生成环境预警信息，所述第二检测结果包括CPU占用率、内存占用率、磁盘占用率和网络负载检测值和检测频率值；根据预设格式输出环境检测信息，所述环境检测信息包括所述第二检测结果和环境预警信息。在本实施例中，所述环境检测模块,根据环境脚本设置个各个检测项进行检测，所述检测项包括CPU、内存、磁盘、网络负载、检测频率、预警值；并以JSON格式输出各个检测项的检测结果,生成第二检测结果,所述第二检测结果检包括系统当前各个检测项的检测值,如果超过预警值,则标记异常生成预警信息；例如当前有进程CPU占用率超过60％,则报警。在本实施例中，通过环境监测模块检测系统环境信息，避免由于环境信息超出预设值使得系统运行的异常，对于超出预警阈值的检测项进行提前预警，减少系统运行的风险，提高运维效率。在本实施例中，所述通过所述设备检测模块检测所述系统设备，具体为：根据所述设备检测模块检测系统的设备运行信息，所述设备运行信息包括设备网络、网络延迟、丢包率、电压信息、过载信息和I P信息；获取第三检测结果，并根据第三预警阈值和所述第三检测结果生成设备预警信息；根据预设格式输出设备检测信息，所述设备检测信息包括所述第三检测结果和设备预警信息。在本实施例中，所述设备检测模块根据检测脚本中设置的各个检测项和配置情况检测设备运行情况。作为本发明实施例的一种具体举例，所述设备检测模块对应的检测脚本的代码具体为：/＞其中，具体包括离线检测、电源检测、AC/DC检测、I P地址环境检测、设备核心芯片检测、网络质量检测、网络演示预警、网络丢包预警。在本实施例中，所述检测项包括电源、网络质量和核心芯片模组，并以JSON格式生成第三检测结果，所述第三检测结果中包括设备网络是否通畅、当前的网络延迟、丢包率、是否通电、电压值、是否过载、I P是否冲突等；例如当电压值超出预设值，发生电压过载时，则预警；若网络丢包率大于10％时，则预警。在本实施例中，通过设备检测模块，检测设备的运行信息，及时发现设备的运行异常问题，同时根据预警阈值对问题项进行预警，便于运维人员或用户及时对故障项进行维护。步骤103：根据所述各个运行模块的检测信息生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案。在本实施例中，在所述根据所述检测报告中的预警信息匹配系统维护方案之前，还包括：根据历史运维信息建立运维方案库，所述运维方案库包括各个检测项对应的维修方案。在本实施例中，通过获取历史运维信息，整理各个检测项对应的维修方案，形成运维方案库。通过预设的运维方案库，便于检测的各个故障项可快速在运维方案库中匹配维修方案，以供运维人员和用户进行统筹运维信息。在本实施例中，所述根据所述各个运行模块的检测记过生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案，具体为：获取各个运行模块的检测信息根据预设格式生成系统的检测报告，所述检测报告包括各个模块的检测结果和预警信息；根据所述预警信息获取所有预警项，并在所述运维方案库中匹配各个预警项的维修方案，生成系统维护方案。在本实施例中，对各个运行模块进行检测后，系统自动将各个运行模块的检测结果进行整理，生成图文报表；同时，系统根据检测结果中的报警信息在运维方案库中匹配各个报警项对应的维护方案，并生成系统运维方案，以便运维人员参考。在本实施例中，通过将检测报告以检测报表输出，给运维人员作为运维的参考,便于运维人员能快速分析定位问题,减少人力,时间成本。在本实施例中，通过根据检测需求预设检测脚本，实时调整广播系统中的检测规则和检测项，便于用户或运维人员检测重点项，从而提高检测效率；同时通过检测脚本的检测模块规则，将各个检测项进行分类到各个运行模块中，并按照一定顺序对所述运行模块进行检测，提高了脚本运行效率；此外，根据各个运行模块的检测信息可生成系统的检测报告，用于匹配系统维护方案，便于用户或运维人员统筹广播系统的故障信息和系统维护方案。降低了广播系统运维的人力成本。请参照图2，图2为本发明实施例提供的系统运维检测装置的一种结构示意图，包括预处理模块201、检测模块202、方案生成模块203，具体如下：所述预处理模块201，用于根据系统检测需求预设检测脚本，所述检测脚本包括检测模块规则和检测条件；所述检测模块202，用于根据所述检测模块规则检测系统的各个运行模块，获取各个运行模块的检测信息；其中，所述运行模块包括系统日志、系统环境和系统设备；所述方案生成模块203，用于根据所述各个运行模块的检测信息生成系统模块的检测报告，并根据所述检测报告中的预警信息匹配系统维护方案。本发明实施例还提供了一种计算机设备，包括：处理器、通信接口和存储器，所述处理器、所述通信接口和所述存储器相互连接，其中，所述存储器存储有可执行程序代码，所述处理器用于调用所述可执行程序代码，执行所述的系统运维检测方法。本发明实施例还提供了一种计算机可读存储介质，其上存储有计算机指令，所述计算机指令被处理器执行时实现所述的系统运维检测方法。实施例二请参照图3，图3为本发明实施例提供的系统运维检测方法的另一种流程示意图。在本实施例中，通过系统运维检测引擎对系统日志、系统环境和系统设备进行检测，其中所述系统运维检测引擎包括服务器系统检测模块,系统操作日志检测模块,系统存储检测模块,设备异常检测模块等多个检测模块。在本实施例中，通过进程通信,统一由智能运维引擎主程序根据预先设定的检测脚本进行检测分析,检测并输出结果报表。在本实施例中，通过脚本规则定义,通过JSON,XML,EXCEL,DB等多种格式提供检测模块的功能选项,预警值的配置，使得所述检测脚本适配多种检测环境。同时，通过智能运维引擎实时检测系统运行服务,当系统故障与检测脚本规则匹配时,就通过邮件,系统预警等方式通知联系人,提前预警,减少系统运行风险。并且，通过输出检测报表给客户作为运维参考,能快速分析定位问题,减少人力,时间成本。以上所述的具体实施例，对本发明的目的、技术方案和有益效果进行了进一步的详细说明，应当理解，以上所述仅为本发明的具体实施例而已，并不用于限定本发明的保护范围。特别指出，对于本领域技术人员来说，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
