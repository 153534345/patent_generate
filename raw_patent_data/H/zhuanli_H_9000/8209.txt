标题title
基于总线的服务调用方法、装置、电子设备和存储介质
摘要abst
本公开提供了一种基于总线的服务调用方法、装置、电子设备和存储介质，涉及人工智能技术领域，尤其涉及云计算、人工智能基础设施技术。具体实现方案为：响应于接收到针对总线上的第一连接器的连接器调用请求，在第一连接器对接的至少一个适配器中，确定出第一适配器；其中，总线上部署有与至少一个标准化服务分别对应的至少一个连接器；通过第一连接器向第一适配器发送服务调用请求；其中，第一适配器部署于第一服务供给平台中，服务调用请求用于通过第一适配器调用第一服务供给平台的平台服务，第一适配器用于实现平台服务与第一连接器所对应的第一标准化服务之间的转换。本公开可以为服务需求侧完成多资源的接入，提升资源利用率。
权利要求书clms
1.一种基于总线的服务调用方法，包括：响应于接收到针对总线上的第一连接器的连接器调用请求，在所述第一连接器对接的至少一个适配器中，确定出第一适配器；其中，所述总线上部署有与至少一个标准化服务分别对应的至少一个连接器；通过所述第一连接器向所述第一适配器发送服务调用请求；其中，所述第一适配器部署于第一服务供给平台中，所述服务调用请求用于通过所述第一适配器调用所述第一服务供给平台的平台服务，所述第一适配器用于实现所述平台服务与所述第一连接器所对应的第一标准化服务之间的转换。2.根据权利要求1所述的方法，其中，所述在所述第一连接器对接的至少一个适配器中，确定第一适配器，包括：在所述连接器调用请求包含适配器指示信息的情况下，根据所述适配器指示信息，在所述第一连接器对接的至少一个适配器中，确定所述第一适配器。3.根据权利要求1或2所述的方法，其中，所述在所述第一连接器对接的至少一个适配器中，确定第一适配器，包括：在所述连接器调用请求不包含适配器指示信息的情况下，根据预先配置的负载分发策略，在所述第一连接器对接的至少一个适配器中，确定所述第一适配器。4.根据权利要求1或2所述的方法，还包括：将所述连接器调用请求所对应的日志信息存储于预设数据库中；其中，所述日志信息包括所述第一适配器的相关信息。5.根据权利要求1或2所述的方法，还包括：基于接入所述总线的至少一个服务供给平台中各平台的平台类型以及服务类型，确定至少一个标准化服务；基于所述至少一个标准化服务，配置所述至少一个连接器。6.根据权利要求5所述的方法，还包括：向所述各平台提供所述至少一个连接器中各连接器的发布信息；其中，所述发布信息用于指示所述各平台配置与所述各连接器对接的适配器。7.根据权利要求6所述的方法，还包括：周期性地在预设数据库中读取所述各连接器的元数据信息；根据所述元数据信息确定所述各连接器的状态；根据所述各连接器的状态更新所述各连接器的发布信息。8.根据权利要求1或2所述的方法，还包括：响应于接收到针对总线上的第一调度器的调度器调用请求，基于所述第一调度器执行第一调度流；其中，所述第一调度流是基于至少一个标准化服务进行编排得到的；在所述第一调度流包含与第二标准化服务对应的执行节点的情况下，通过所述第一调度器向所述第二标准化服务所对应的第二连接器发送连接器调用请求。9.根据权利要求8所述的方法，其中，所述在所述第一调度流包含与第二标准化服务对应的执行节点的情况下，通过所述第一调度器向所述第二标准化服务所对应的第二连接器发送连接器调用请求，包括：在所述第一调度流包含与第二标准化服务对应的执行节点的情况下，通过所述第一调度器中的平台选择器，在至少一个用于实现所述第二标准化服务的服务供给平台中，确定出第二服务供给平台；通过所述第一调度器中的执行器，向所述第二连接器发送连接器调用请求，所述连接器调用请求中包含适配器指示信息，所述适配器指示信息用于指示所述第二连接器调用所述第二服务供给平台所对应的第二适配器。10.根据权利要求9所述的方法，还包括：将所述调度器调用请求所对应的日志信息存储于预设数据库中；其中，所述日志信息包括所述第二连接器以及所述第二适配器的相关信息。11.一种基于总线的服务调用方法，包括：响应于通过第一适配器接收到来自总线的服务调用请求，调用平台服务；其中，所述总线上部署有与至少一个标准化服务分别对应的至少一个连接器，所述第一适配器与所述总线上的第一连接器对接；所述服务调用请求是在所述总线接收到针对所述第一连接器的连接器调用请求时发送的；通过所述第一适配器实现所述平台服务与所述第一连接器所对应的第一标准化服务之间的转换。12.根据权利要求11所述的方法，还包括：获取所述总线上的所述第一连接器的发布信息；基于所述发布信息，配置所述第一适配器。13.一种基于总线的服务调用装置，包括：适配模块，用于响应于接收到针对总线上的第一连接器的连接器调用请求，在所述第一连接器对接的至少一个适配器中，确定出第一适配器；其中，所述总线上部署有与至少一个标准化服务分别对应的至少一个连接器；第一调用模块，用于通过所述第一连接器向所述第一适配器发送服务调用请求；其中，所述第一适配器部署于第一服务供给平台中，所述服务调用请求用于通过所述第一适配器调用所述第一服务供给平台的平台服务，所述第一适配器用于实现所述平台服务与所述第一连接器所对应的第一标准化服务之间的转换。14.根据权利要求13所述的装置，其中，所述适配模块用于：在所述连接器调用请求包含适配器指示信息的情况下，根据所述适配器指示信息，在所述第一连接器对接的至少一个适配器中，确定所述第一适配器。15.根据权利要求13或14所述的装置，其中，所述适配模块用于：在所述连接器调用请求不包含适配器指示信息的情况下，根据预先配置的负载分发策略，在所述第一连接器对接的至少一个适配器中，确定所述第一适配器。16.根据权利要求13或14所述的装置，还包括：第一日志模块，用于将所述连接器调用请求所对应的日志信息存储于预设数据库中；其中，所述日志信息包括所述第一适配器的相关信息。17.根据权利要求13或14所述的装置，还包括：服务确定模块，用于基于接入所述总线的至少一个服务供给平台中各平台的平台类型以及服务类型，确定至少一个标准化服务；连接器配置模块，用于基于所述至少一个标准化服务，配置所述至少一个连接器。18.根据权利要求17所述的装置，还包括：发布模块，用于向所述各平台提供所述至少一个连接器中各连接器的发布信息；其中，所述发布信息用于指示所述各平台配置与所述各连接器对接的适配器。19.根据权利要求18所述的装置，还包括：读取模块，用于周期性地在预设数据库中读取所述各连接器的元数据信息；状态确定模块，用于根据所述元数据信息确定所述各连接器的状态；状态更新模块，用于根据所述各连接器的状态更新所述各连接器的发布信息。20.根据权利要求13或14所述的装置，还包括：调度模块，用于响应于接收到针对总线上的第一调度器的调度器调用请求，基于所述第一调度器执行第一调度流；其中，所述第一调度流是基于至少一个标准化服务进行编排得到的；第二调用模块，用于在所述第一调度流包含与第二标准化服务对应的执行节点的情况下，通过所述第一调度器向所述第二标准化服务所对应的第二连接器发送连接器调用请求。21.根据权利要求20所述的装置，其中，所述第二调用模块包括：平台选择单元，用于在所述第一调度流包含与第二标准化服务对应的执行节点的情况下，通过所述第一调度器中的平台选择器，在至少一个用于实现所述第二标准化服务的服务供给平台中，确定出第二服务供给平台；连接器调用单元，用于通过所述第一调度器中的执行器，向所述第二连接器发送连接器调用请求，所述连接器调用请求中包含适配器指示信息，所述适配器指示信息用于指示所述第二连接器调用所述第二服务供给平台所对应的第二适配器。22.根据权利要求21所述的装置，还包括：第二日志模块，用于将所述调度器调用请求所对应的日志信息存储于预设数据库中；其中，所述日志信息包括所述第二连接器以及所述第二适配器的相关信息。23.一种基于总线的服务调用装置，包括：第三调用模块，用于响应于通过第一适配器接收到来自总线的服务调用请求，调用平台服务；其中，所述总线上部署有与至少一个标准化服务分别对应的至少一个连接器，所述第一适配器与所述总线上的第一连接器对接；所述服务调用请求是在所述总线接收到针对所述第一连接器的连接器调用请求时发送的；服务转换模块，用于通过所述第一适配器实现所述平台服务与所述第一连接器所对应的第一标准化服务之间的转换。24.根据权利要求23所述的装置，还包括：获取模块，用于获取所述总线上的所述第一连接器的发布信息；适配器配置模块，用于基于所述发布信息，配置所述第一适配器。25.一种电子设备，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-12中任一项所述的方法。26.一种存储有计算机指令的非瞬时计算机可读存储介质，其中，所述计算机指令用于使计算机执行根据权利要求1-12中任一项所述的方法。27.一种计算机程序产品，包括计算机程序，所述计算机程序在被处理器执行时实现根据权利要求1-12中任一项所述的方法。
说明书desc
技术领域本公开涉及人工智能技术领域，尤其涉及云计算、人工智能基础设施技术。背景技术智慧城市的建设是一个复杂巨系统工程。新技术日新月异层出不穷，互联网、物联网、5G等技术为智慧城市构建了新的市场环境、感知数据、时空数据、智能算法以及异构算力，形成新的生产要素。目前，智慧城市的建设主要由供给侧主导，从生产要素能力支撑的角度围绕生产要素本身进行建设。发明内容本公开提供了一种基于总线的服务调用方法、装置、电子设备和存储介质。根据本公开的一方面，提供了一种基于总线的服务调用方法，包括：响应于接收到针对总线上的第一连接器的连接器调用请求，在第一连接器对接的至少一个适配器中，确定出第一适配器；其中，总线上部署有与至少一个标准化服务分别对应的至少一个连接器；通过第一连接器向第一适配器发送服务调用请求；其中，第一适配器部署于第一服务供给平台中，服务调用请求用于通过第一适配器调用第一服务供给平台的平台服务，第一适配器用于实现平台服务与第一连接器所对应的第一标准化服务之间的转换。根据本公开的另一方面，提供了一种基于总线的服务调用方法，包括：响应于通过第一适配器接收到来自总线的服务调用请求，调用平台服务；其中，总线上部署有与至少一个标准化服务分别对应的至少一个连接器，第一适配器与总线上的第一连接器对接；服务调用请求是在总线接收到针对第一连接器的连接器调用请求时发送的；通过第一适配器实现平台服务与第一连接器所对应的第一标准化服务之间的转换。根据本公开的另一方面，提供了一种基于总线的服务调用装置，包括：适配模块，用于响应于接收到针对总线上的第一连接器的连接器调用请求，在第一连接器对接的至少一个适配器中，确定出第一适配器；其中，总线上部署有与至少一个标准化服务分别对应的至少一个连接器；第一调用模块，用于通过第一连接器向第一适配器发送服务调用请求；其中，第一适配器部署于第一服务供给平台中，服务调用请求用于通过第一适配器调用第一服务供给平台的平台服务，第一适配器用于实现平台服务与第一连接器所对应的第一标准化服务之间的转换。根据本公开的另一方面，提供了一种基于总线的服务调用装置，包括：第三调用模块，用于响应于通过第一适配器接收到来自总线的服务调用请求，调用平台服务；其中，总线上部署有与至少一个标准化服务分别对应的至少一个连接器，第一适配器与总线上的第一连接器对接；服务调用请求是在总线接收到针对第一连接器的连接器调用请求时发送的；服务转换模块，用于通过第一适配器实现平台服务与第一连接器所对应的第一标准化服务之间的转换。根据本公开的另一方面，提供了一种电子设备，包括：至少一个处理器；以及与该至少一个处理器通信连接的存储器；其中，该存储器存储有可被该至少一个处理器执行的指令，该指令被该至少一个处理器执行，以使该至少一个处理器能够执行本公开实施例中任一的方法。根据本公开的另一方面，提供了一种存储有计算机指令的非瞬时计算机可读存储介质，其中，该计算机指令用于使该计算机执行根据本公开实施例中任一的方法。根据本公开的另一方面，提供了一种计算机程序产品，包括计算机程序，该计算机程序在被处理器执行时实现根据本公开实施例中任一的方法。本公开实施例的技术方案，在总线上配置与至少一个标准化服务分别对应的至少一个连接器，且连接器对接至少一个适配器，适配器部署于服务供给平台中，以通过向适配器发送服务调用请求，实现通过适配器调用服务供给平台的平台服务，通过适配器完成平台服务和标准化服务之间的转换。基于此，总线能够在供给侧跨平台分布式资源以及服务需求侧之间搭建桥梁，为服务需求侧完成多资源的接入，提升资源利用率。且将各供给平台的服务适配过程部署于供给平台中，使组织轻量化，能够提升智能化服务的响应效率。应当理解，本部分所描述的内容并非旨在标识本公开的实施例的关键或重要特征，也不用于限制本公开的范围。本公开的其它特征将通过以下的说明书而变得容易理解。附图说明附图用于更好地理解本方案，不构成对本公开的限定。其中：图1是本公开一实施例提供的基于总线的服务调用方法的流程示意图；图2是本公开实施例基于总线的服务调用方法的一个示例性的应用场景的示意图；图3是本公开实施例基于总线的服务调用方法的一个应用示例的示意图；图4是一应用示例中的连接器的相关组件的示意图；图5是本公开实施例的一个应用示例中调度器的示意图；图6是根据本公开实施例基于总线的服务调用方法的另一应用示例的示意图；图7是本公开另一实施例提供的基于总线的服务调用方法的流程示意图；图8是本公开实施例基于总线的服务调用方法的另一应用示例的示意图；图9是本公开一实施例提供的基于总线的服务调用装置的示意性框图；图10是本公开另一实施例提供的基于总线的服务调用装置的示意性框图；图11是本公开另一实施例提供的基于总线的服务调用装置的示意性框图；图12是本公开另一实施例提供的基于总线的服务调用装置的示意性框图；图13是用来实现本公开实施例的基于总线的服务调用方法的电子设备的框图。具体实施方式以下结合附图对本公开的示范性实施例做出说明，其中包括本公开实施例的各种细节以助于理解，应当将它们认为仅仅是示范性的。因此，本领域普通技术人员应当认识到，可以对这里描述的实施例做出各种改变和修改，而不会背离本公开的范围。同样，为了清楚和简明，以下的描述中省略了对公知功能和结构的描述。本文中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。本文中术语“至少一种”表示多种中的任意一种或多种中的至少两种的任意组合，例如，包括A、B、C中的至少一种，可以表示包括从A、B和C构成的集合中选择的任意一个或多个元素。本文中术语“第一”、“第二”表示指代多个类似的技术用语并对其进行区分，并不是限定顺序的意思，或者限定只有两个的意思，例如，第一特征和第二特征，是指代有两类/两个特征，第一特征可以为一个或多个，第二特征也可以为一个或多个。另外，为了更好的说明本公开，在下文的具体实施方式中给出了众多的具体细节。本领域技术人员应当理解，没有某些具体细节，本公开同样可以实施。在一些实例中，对于本领域技术人员熟知的方法、手段、元件和电路未作详细描述，以便于凸显本公开的主旨。图1示出了本公开一实施例提供的基于总线的服务调用方法的流程示意图。其中，总线可以指用于提供不同平台统一适配与对接的服务模块，该总线也可以称为智慧总线。在一些示例中，总线可以为智慧城市场景应用提供融合支撑的全资源协同开发与运行环境。示例性地，该总线可以集成在终端、服务器、服务器集群或其他处理设备中。在本公开实施例中，在总线上部署有与至少一个标准化服务分别对应的至少一个连接器。该至少一个连接器中的每个连接器可与至少一个适配器对接，该适配器配置于服务供给平台中，用于实现服务供给平台的平台服务与标准化服务之间的转换。如图1所示，该方法可以包括：步骤S110、响应于接收到针对总线上的第一连接器的连接器调用请求，在第一连接器对接的至少一个适配器中，确定出第一适配器；步骤S120、通过第一连接器向第一适配器发送服务调用请求；其中，第一适配器部署于第一服务供给平台中，服务调用请求用于通过第一适配器调用第一服务供给平台的平台服务，第一适配器用于实现平台服务与第一连接器所对应的第一标准化服务之间的转换。本公开实施例中，服务供给平台可以指用于提供与智能算法相关的服务的平台。例如，服务供给平台可以包括算法平台、算力平台、数据平台等。可选地，总线可以抽象各个服务供给平台的服务标准定义，形成至少一个标准化服务，从而形成至少一个连接器；其中，各个服务供给平台包括算法、算力、数据、视频、时空、地图、区块链、IOT等平台。示例性地，连接器可以包括总线上用于接入各服务供给平台的标准化服务接口。可选地，一个连接器可以包括多个API，用于调用服务供给平台实现多种操作。例如，算力平台工作负载连接器，可用于实现负载创建、查询、更新、删除、实例查询、负载算力监控查询等连接器动作。在上述步骤S110中，连接器调用请求可以是服务需求平台向总线上的第一连接器发送的。可选地，该服务需求平台可以是应用平台、算法平台、数据平台等。例如，该服务需求平台为电子地图服务器、搜索引擎服务器等应用平台，向总线上的第一连接器发送连接器调用请求，以获取相关的数据服务。又例如，该服务需求平台为算法平台，向总线上的第一连接器发送连接器调用请求，以获取相关的算力服务。实际应用中，总线维护各连接器，各服务供给平台可以参照总线上预先设置的各类连接器，通过总线服务注册器完成作为下级平台的服务接入，并配置与连接器对接的适配器，以通过适配器完成平台服务与标准化服务之间的服务能力转换。可选地，该服务能力转换包括参数映射、合并、融合等。例如，适配器用于将连接器上标准化服务接口下发的服务调用请求，转换为符合服务供给平台的接口定义的个性化服务调用请求；以及用于将服务供给平台输出的符合平台接口定义的返回结果，转换为用于发送至连接器上的标准化服务接口的返回结果。示例性地，一个连接器可以对接一个或多个适配器。其中，各适配器可以部署于不同的服务供给平台中，以实现多平台针对同一标准化服务的接入。可选地，在上述方法步骤中，第一连接器可以是总线上部署的任一个连接器，相应地，第一适配器可以是与第一连接器对接的任一适配器。实际应用中，总线可以对上层业务提供连接器以及连接器对应的标准化服务的相关声明，以使上层业务能够根据实际服务需求调用对应的连接器。根据上述方法步骤，在接收到对任一连接器的连接器调用请求时，可以从该连接器对接的多个适配器中确定出一个适配器，然后通过该适配器调用平台服务，同时基于该适配器完成平台服务和标准化服务之间的转换。可以看到，在上述实施例提供的方法中，总线能够在供给侧跨平台分布式资源以及服务需求侧之间搭建桥梁，为服务需求侧完成多资源的接入，提升资源利用率。且将各供给平台的服务适配过程部署于供给平台中，使组织轻量化，能够提升智能化服务的响应效率。图2是本公开实施例基于总线的服务调用方法的一个示例性的应用场景的示意图。如图2所示，总线200设置于各平台之间。算力仓210为最底层的服务供给平台。总线可以在数据仓220、算法仓230、应用仓240等向总线发起针对算力服务的连接器调用请求时，向算力仓210发送服务调用请求，以使算力仓210基于对应的适配器提供算力服务。可选地，如图2所示，数据仓220也可以作为用于提供数据服务的服务供给平台，以供算法仓230或应用仓240进行逻辑调用。算法仓230也可以作为用于提供算法服务的服务供给平台，以供应用仓240进行逻辑调用。上述逻辑调用可以通过智慧总线200实现。具体地，如图2所示，各平台中集成了融合工作台SDK，该融合工作台SDK包含与智慧总线相关的程序模块，用于完成适配器配置、服务调用、服务能力转换等处理过程。智慧总线200可以采用类Mongo架构与各平台进行信息传输，以驱动各平台基于融合工作台SDK执行相关服务。可选地，在服务过程中，若平台之间需要交互数据量较大的信息，智慧总线200还可以指示平台在执行相关服务的过程中通过类Hadoop架构实现平台之间的信息传输。在该应用示例中，还可以配置融合工作台，用于实现智慧总线200的管控，例如基于融合工作台实现智慧总线200的开发、联调和测试。在一示例性的实施方式中，在第一连接器对接的至少一个适配器中，确定第一适配器，可以包括：在连接器调用请求包含适配器指示信息的情况下，根据适配器指示信息，在第一连接器对接的至少一个适配器中，确定第一适配器。示例性地，总线可以向上层提供相关服务的声明，以使服务需求平台可以查询连接器和对应的适配器，在发起连接器调用请求中，可以携带适配器指示信息，用于指示期望调用的适配器。采用本实施方式，各服务需求平台可以指定适配器，从而进一步地从服务需求侧角度出发，提供适配性高的服务，有利于围绕业务需求，高效汇聚并复用跨组织、跨层级的各类数字化要素，从而有利于实现智慧城市建设。在一示例性的实施方式中，在第一连接器对接的至少一个适配器中，确定第一适配器，可以包括：在连接器调用请求不包含适配器指示信息的情况下，根据预先配置的负载分发策略，在第一连接器对接的至少一个适配器中，确定第一适配器。示例性地，负载分发策略可以包括轮询、权重、随机和指定亲和等一种或多种策略。采用本实施方式，在服务需求平台未指定适配器的情况下，可以基于负载分发策略自动确定第一适配器。如此，可以实现负载均衡，有利于提高服务响应效率。在一示例性的实施方式中，基于总线的服务调用方法还可以包括：将连接器调用请求所对应的日志信息存储于预设数据库中；其中，日志信息包括第一适配器的相关信息。采用本实施方式，可以将每次服务调用过程中所使用的适配器的相关信息进行存储，从而可查询已调用过的适配器信息，提升总线的可维护性。且在后续服务调用过程中可以读取已调用过的适配器信息，从而更好地实现负载均衡。在一示例性的实施方式中，还提供连接器的配置方式。示例性地，基于总线的服务调用方法还可以包括：基于接入总线的至少一个服务供给平台中各平台的平台类型以及服务类型，确定至少一个标准化服务；基于至少一个标准化服务，配置至少一个连接器。示例性地，平台类型可以包括算法、算力、应用、数据等体现平台业务内聚性高的信息。服务类型可以包括各平台类型下的具体服务的类型，例如算力平台下的负载相关服务、实例相关服务、监控相关服务等；算法平台下的任务算法相关服务、任务计划相关服务、算法数据库相关服务等；数据平台下的视频流相关服务、结构化文件相关服务等。通过汇总接入的各平台类型和各服务类型，可以抽象出彼此区别的至少一个标准化服务，从而为各标准化服务配置对应的连接器。根据本实施方式，可以提升标准化服务的覆盖面，有利于为服务需求侧提供更为全面的资源，从而有利于实现智慧城市建设。在一示例性的实施方式中，基于总线的服务调用方法还可以包括：向各平台提供至少一个连接器中各连接器的发布信息；其中，发布信息用于指示各平台配置与各连接器对接的适配器。示例性地，各连接器的发布信息可以包括连接器对应的标准化服务的声明信息。如此，各平台可根据该声明信息设计标准化服务与平台服务之间的转换方式，从而配置适配器。可选地，各连接器的发布信息还可以包括连接器的元数据信息、连接器对接的适配器以及适配器所属的平台信息等一种或多种信息，以便于服务需求侧理解各连接器对应的标准化服务以及对各适配器进行比较。采用本实施方式，可以使服务供给平台完成适配器的准确配置，从而准确完成多资源的接入，提升资源利用率。同时有利于服务需求侧根据实际需求查询、调用相关连接器，提升服务调用效率和成功率。在一示例性的实施方式中，基于总线的服务调用方法还可以包括：周期性地在预设数据库中读取各连接器的元数据信息；根据元数据信息确定各连接器的状态；根据各连接器的状态更新各连接器的发布信息。采用本实施方式，总线会定时拉取各连接器的元数据信息，从而能够敏感地感知到总线下级多平台或多应用的接口状态，及时更新发布信息，从而使服务需求也能够及时感知相关信息，提升服务调用效率和成功率。为了便于理解上述各实施方式，图3示出了本公开实施例基于总线的服务调用方法的一个应用示例的示意图。如图3所示，该方法包括在总线运营侧实现的以下步骤：S301、创建平台类型。具体地，可以根据接入的对应新类型的平台创建平台类型。S302、配置平台类型。S303、创建服务类型。具体地，可以根据平台类型进行服务类型的创建。S304、配置服务类型。具体地，可以根据创建的服务类型进行标准化服务的划分。S305、创建连接器。具体地，为各标准化服务创建对应的连接器。S306、编辑连接器入参。S307、编辑连接器出参。S308、发布连接器。该方法还包括在服务供给侧实现的以下步骤：S309、新建适配器。具体地，根据连接器的发布信息新建与连接器对应的适配器。S310、判断单多API。具体地，判断连接器涉及一个还是多个API。S311、在判断结果为单API的情况下，新建单API。S312、在判断结果为多API的情况下，新建多API。S313、配置适配器API属性。S314、配置适配器API映射。具体地，根据连接器涉及的API以及服务供给平台的API，配置适配器的API映射。服务供给平台在完成上述配置后，将配置相关信息返回连接器市场，以在连接器的发布信息中增加适配器相关信息。该方法还包括在服务需求侧实现的以下步骤：S315、查询连接器。具体地，根据服务需求查询对应的连接器。S316、判断连接器状态。具体地，根据连接器状态确认是否调用。S317、选择连接器。S318、确定是否指定适配器。S319、判断适配器状态。具体地，根据适配器状态确认是否调用。S320、使用连接器。具体地，可以指定适配器或总线使用负载策略确定适配器。图4示出了在一应用示例中的连接器的相关组件的示意图。如图4所示，相关组件包括元数据管理组件401、认证鉴权组件402、连接器转发组件403、负载均衡组件404、参数映射组件405、日志管理组件406以及定时拉取组件。其中，元数据管理组件401用以实现连接器和适配器的配置管理，并将连接器的元数据信息写入预设数据库，图4中以MySql数据库为例。认证鉴权组件402用于在接收到连接器调用请求时，提供统一的认证功能，以对服务需求平台进行认证鉴权。连接器转发组件403用于将连接器的请求转发给适配器。连接器转发组件403需要调用负载均衡组件404，以使负载均衡组件404通过负载策略选择出期望的适配器，并返回该适配器的相关信息。之后，连接器转发组件403根据适配器的相关信息将连接器的请求转发给适配器。参数映射组件405用于将适配器入参、出参配置转成期望结果。日志管理组件406用于记录调用日志并写入预设数据库。例如，记录每次连接器调用的适配器信息。定时拉取组件407用于定时拉取连接器的元数据信息，以及时感知连接器的状态。可选地，在本公开的一些实施例中，基于总线的服务调用方法还提供基于调度流的服务调用。示例性地，该方法还可以包括：响应于接收到针对总线上的第一调度器的调度器调用请求，基于第一调度器执行第一调度流，其中，第一调度流是基于至少一个标准化服务进行编排得到的；在第一调度流包含与第二标准化服务对应的执行节点的情况下，通过第一调度器向第二标准化服务所对应的第二连接器发送连接器调用请求。示例性地，在本公开实施例中，调度流可以是由多个连接器或者说多个标准化服务编排出来的业务流，可以作为调度流服务向外提供服务。调度器是用于实现调度流服务的连接，即调度器用于实现不同服务的跨平台服务连接，可包含一个或多个调度流的实现程序。也就是说，总线提供调度流，用于定义将多连接器按照业务意图串联组合的跨平台服务。在上述方法中，第一调度器用于执行第一调度流，在执行到第一调度流中的与第二标准化服务对应的执行节点时，向该第二标准化服务对应的第二连接器发送连接器调用请求。如此，在接收到对第二连接器的连接器调用请求时，在第二连接器对接的至少一个适配器中，确定出第二适配器，从而通过调用第二适配器完成该执行节点。依次类推，对于第一调度流中的各执行节点均实现类似流程，从而可以完成调度流服务。根据上述方法，总线可采用调度流服务的形式向外提供服务，即不仅能够提供单一服务的跨平台服务资源提供，还可以提供多种服务的全模态资源提供。基于此，可简化服务需求侧的调用方式，有利于服务需求侧获得高效的服务体验。在一示例性的实施方式中，在第一调度流包含与第二标准化服务对应的执行节点的情况下，通过第一调度器向第二标准化服务所对应的第二连接器发送连接器调用请求，包括：在第一调度流包含与第二标准化服务对应的执行节点的情况下，通过第一调度器中的平台选择器，在至少一个用于实现第二标准化服务的服务供给平台中，确定出第二服务供给平台；通过第一调度器中的执行器，向第二连接器发送连接器调用请求，连接器调用请求中包含适配器指示信息，适配器指示信息用于指示第二连接器调用第二服务供给平台所对应的第二适配器。本实施方式中，第一调度器包括平台选择器，可以由第一调度器确定用于执行本次调度流中的第二标准化服务的第二适配器，然后在连接器调用请求中携带该适配器指示信息。如此，第二连接器在接收到该连接器调用请求时，可以根据适配器指示信息确定对应的第二适配器。图5示出了本公开实施例的一个应用示例中调度器的示意图。如图5所示，调度器中包括多个组件，例如调度器实例化组件501、平台选择器502、执行器503、结果封装组件504等。调度器可以提供镜像上传、镜像状态查询、工作负载创建、工作负载删除等调度器服务接口。调度器实例化组件501用于将根据调度器服务接口上的调度器调用请求，对标准化的调度流进行实例化。平台选择器502用于选择执行节点的服务供给平台，例如可选择指定平台、全部平台或最优平台等。执行器503用于向连接器发送连接器调用请求，连接器例如是镜像验证连接器、镜像拉取连接器、镜像状态连接器、工作负载连接器等。结果封装组件504用于将连接器返回的结果向上封装，得到返回服务接口的处理结果。采用本实施方式，可以根据调度流的需求统一确定用于实现服务的适配器，从而有利于保证整个调度流的准确执行，提升服务效率以及准确率。在一示例性实施方式中，基于总线的服务调用方法还可以包括：将调度器调用请求所对应的日志信息存储于预设数据库中；其中，日志信息包括第二连接器以及第二适配器的相关信息。采用本实施方式，可以将每次调度流调用过程中所使用的连接器和适配器的相关信息进行存储，从而可查询已调用过的信息，提升总线的可维护性。且在后续服务调用过程中可以读取已调用过的适配器信息，从而更好地实现负载均衡。图6示出了根据本公开实施例基于总线的服务调用方法的另一应用示例的示意图。如图6所示，该方法包括在总线运营侧实现的以下步骤：S601、创建调度器。S602、配置调度器。S603、生成调度器清单。该方法还包括在服务需求侧实现的以下步骤：S604、查询调度器。S605、判断调度器状态。具体地，根据调度器状态确认是否进行调用。S606、使用调度器。具体地，向总线发起调度器调用请求。该方法还包括在总线运营侧实现的以下步骤：S607、查询调度器执行记录。S608、判断是否大于预设天数，例如180天。S609、在未大于预设天数的情况下，确认数据库保留有期望的执行记录，查看调度器执行记录。与上述在总线侧实现的方法相对应地，本公开实施例还提供一种由服务供给平台实现的方法。图7示出了本公开另一实施例提供的基于总线的服务调用方法。如图7所示，该方法包括：S710、响应于通过第一适配器接收到来自总线的服务调用请求，调用平台服务；其中，总线上部署有与至少一个标准化服务分别对应的至少一个连接器，第一适配器与总线上的第一连接器对接；服务调用请求是在总线接收到针对第一连接器的连接器调用请求时发送的；S720、通过第一适配器实现平台服务与第一连接器所对应的第一标准化服务之间的转换。可选地，该方法还可以包括：获取总线上的第一连接器的发布信息；基于发布信息，配置第一适配器。上述方法中的各步骤的实现过程以及技术细节，可以参考前述实施实施方式及应用示例中的对应描述，即该实施例的方法可以与前述实施方式以及应用示例进行结合，在此不一一进行赘述。根据上述实施例，总线能够在供给侧跨平台分布式资源以及服务需求侧之间搭建桥梁，为服务需求侧完成多资源的接入，提升资源利用率。且将各供给平台的服务适配过程部署于供给平台中，使组织轻量化，能够提升智能化服务的响应效率。下面提供另一个在具体业务场景中的应用示例，以便更清楚地理解本公开实施例的方法。图8示出了本公开实施例基于总线的服务调用方法的另一应用示例的示意图。如图8所示，平台群中的多个平台可接入城市智慧总线，其中A部门提供推送工单消息服务，B集团提供视频数据流服务，C公司提供事故检测算法服务，D机构提供GPU算力服务，E中心提供NPU算力服务，F院所提供工单分类识别服务。城市智慧总线基于各服务配置对应的连接器，例如针对检测算法对GPU算力的需求，配置检测算法-GPU连接器；针对检测算法对视频数据流的需求，配置实时视频流订阅器。实际应用中，智能化服务可用于实现跨模态自动侦测城市道路网格事件问题，并智能派发案件。具体地，在发现事故车辆的情况下，调用检测算法-GPU连接器，申请D机构的GPU算力资源完成算法服务的部署。通过实时视频流订阅器为C公司的事故检测算法从B集团中获取所需的视频流。根据本公开实施例，本公开还提供一种基于总线的服务调用装置。图9示出了本公开一实施例提供的基于总线的服务调用装置的示意性框图。如图9所示，该装置包括：适配模块910，用于响应于接收到针对总线上的第一连接器的连接器调用请求，在第一连接器对接的至少一个适配器中，确定出第一适配器；其中，总线上部署有与至少一个标准化服务分别对应的至少一个连接器；第一调用模块920，用于通过第一连接器向第一适配器发送服务调用请求；其中，第一适配器部署于第一服务供给平台中，服务调用请求用于通过第一适配器调用第一服务供给平台的平台服务，第一适配器用于实现平台服务与第一连接器所对应的第一标准化服务之间的转换。可选地，适配模块910用于：在连接器调用请求包含适配器指示信息的情况下，根据适配器指示信息，在第一连接器对接的至少一个适配器中，确定第一适配器。可选地，适配模块910用于：在连接器调用请求不包含适配器指示信息的情况下，根据预先配置的负载分发策略，在第一连接器对接的至少一个适配器中，确定第一适配器。可选地，图10示出了本公开另一实施例提供的基于总线的服务调用装置的示意性框图。如图10所示，该装置还可以包括：第一日志模块1010，用于将连接器调用请求所对应的日志信息存储于预设数据库中；其中，日志信息包括第一适配器的相关信息。可选地，如图10所示，该装置还可以包括：服务确定模块1020，用于基于接入总线的至少一个服务供给平台中各平台的平台类型以及服务类型，确定至少一个标准化服务；连接器配置模块1030，用于基于至少一个标准化服务，配置至少一个连接器。可选地，如图10所示，该装置还可以包括：发布模块1040，用于向各平台提供至少一个连接器中各连接器的发布信息；其中，发布信息用于指示各平台配置与各连接器对接的适配器。可选地，如图10所示，该装置还可以包括：读取模块1050，用于周期性地在预设数据库中读取各连接器的元数据信息；状态确定模块1060，用于根据元数据信息确定各连接器的状态；状态更新模块1070，用于根据各连接器的状态更新各连接器的发布信息。可选地，如图10所示，该装置还可以包括：调度模块1080，用于响应于接收到针对总线上的第一调度器的调度器调用请求，基于第一调度器执行第一调度流；其中，第一调度流是基于至少一个标准化服务进行编排得到的；第二调用模块1090，用于在第一调度流包含与第二标准化服务对应的执行节点的情况下，通过第一调度器向第二标准化服务所对应的第二连接器发送连接器调用请求。可选地，如图10所示，第二调用模块1090包括：平台选择单元1091，用于在第一调度流包含与第二标准化服务对应的执行节点的情况下，通过第一调度器中的平台选择器，在至少一个用于实现第二标准化服务的服务供给平台中，确定出第二服务供给平台；连接器调用单元1092，用于通过第一调度器中的执行器，向第二连接器发送连接器调用请求，连接器调用请求中包含适配器指示信息，适配器指示信息用于指示第二连接器调用第二服务供给平台所对应的第二适配器。可选地，如图10所示，该装置还可以包括：第二日志模块1000，用于将调度器调用请求所对应的日志信息存储于预设数据库中；其中，日志信息包括第二连接器以及第二适配器的相关信息。根据本公开实施例，本公开还提供一种基于总线的服务调用装置。图11示出了本公开一实施例提供的基于总线的服务调用装置的示意性框图。如图11所示，该装置包括：第三调用模块1110，用于响应于通过第一适配器接收到来自总线的服务调用请求，调用平台服务；其中，总线上部署有与至少一个标准化服务分别对应的至少一个连接器，第一适配器与总线上的第一连接器对接；服务调用请求是在总线接收到针对第一连接器的连接器调用请求时发送的；服务转换模块1120，用于通过第一适配器实现平台服务与第一连接器所对应的第一标准化服务之间的转换。可选地，图12示出了本公开另一实施例提供的基于总线的服务调用装置的示意性框图。如图12所示，该装置还可以包括：获取模块1210，用于获取总线上的第一连接器的发布信息；适配器配置模块1220，用于基于发布信息，配置第一适配器。本公开实施例的装置的各模块、子模块的具体功能和示例的描述，可以参见上述方法实施例中对应步骤的相关描述，在此不再赘述。本公开的技术方案中，所涉及的用户个人信息的获取，存储和应用等，均符合相关法律法规的规定，且不违背公序良俗。根据本公开的实施例，本公开还提供了一种电子设备、一种可读存储介质和一种计算机程序产品。图13示出了可以用来实施本公开的实施例的示例电子设备1300的示意性框图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字助理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本公开的实现。如图13所示，设备1300包括计算单元1301，其可以根据存储在只读存储器1302中的计算机程序或者从存储单元1308加载到随机访问存储器1303中的计算机程序，来执行各种适当的动作和处理。在RAM 1303中，还可存储设备1300操作所需的各种程序和数据。计算单元1301、ROM 1302以及RAM 1303通过总线1304彼此相连。输入/输出接口1305也连接至总线1304。设备1300中的多个部件连接至I/O接口1305，包括：输入单元1306，例如键盘、鼠标等；输出单元1307，例如各种类型的显示器、扬声器等；存储单元1308，例如磁盘、光盘等；以及通信单元1309，例如网卡、调制解调器、无线通信收发机等。通信单元1309允许设备1300通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。计算单元1301可以是各种具有处理和计算能力的通用和/或专用处理组件。计算单元1301的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的计算单元、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。计算单元1301执行上文所描述的各个方法和处理，例如基于总线的服务调用方法。例如，在一些实施例中，基于总线的服务调用方法可被实现为计算机软件程序，其被有形地包含于机器可读介质，例如存储单元1308。在一些实施例中，计算机程序的部分或者全部可以经由ROM 1302和/或通信单元1309而被载入和/或安装到设备1300上。当计算机程序加载到RAM 1303并由计算单元1301执行时，可以执行上文描述的基于总线的服务调用方法的一个或多个步骤。备选地，在其他实施例中，计算单元1301可以通过其他任何适当的方式而被配置为执行基于总线的服务调用方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、现场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本公开的方法的程序代码可以采用一个或多个编程语言的任何组合来编写。这些程序代码可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器或控制器，使得程序代码当由处理器或控制器执行时使流程图和/或框图中所规定的功能/操作被实施。程序代码可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本公开的上下文中，机器可读介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的程序。机器可读介质可以是机器可读信号介质或机器可读储存介质。机器可读介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在计算机上实施此处描述的系统和技术，该计算机具有：用于向用户显示信息的显示装置或者LCD监视器）；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给计算机。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网和互联网。计算机系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，也可以为分布式系统的服务器，或者是结合了区块链的服务器。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本公开中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本公开公开的技术方案所期望的结果，本文在此不进行限制。上述具体实施方式，并不构成对本公开保护范围的限制。本领域技术人员应该明白的是，根据设计要求和其他因素，可以进行各种修改、组合、子组合和替代。任何在本公开的原则之内所作的修改、等同替换和改进等，均应包含在本公开保护范围之内。
