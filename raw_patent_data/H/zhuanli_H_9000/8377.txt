标题title
基于带宽服务器的非周期任务调度方法、装置及介质
摘要abst
本发明实施例公开了一种基于带宽服务器的非周期任务调度方法、装置及介质，该方法可以包括：根据单处理器系统中非周期任务的系统状态信息，采用硬常带宽服务器反馈控制算法，构建系统状态动态方程；根据控制器的控制输入、系统状态的实际值、预测值以及残差函数，将所述系统状态动态方程中的未知参数利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；使用均方根误差和判定系数对所述未知参数的辨识结果进行评估，以获得非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数；利用所述最佳匹配函数，根据非周期任务的利用率动态调节服务器带宽，以获得最小化的非周期任务的平均响应延迟。
权利要求书clms
1.一种基于带宽服务器的非周期任务调度方法，其特征在于，所述方法包括：根据单处理器系统中非周期任务运行过程的系统状态信息，采用硬常带宽服务器反馈控制算法，构建系统状态动态方程；其中，所述系统状态动态方程包括非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差倍数关系的未知参数；根据控制器的控制输入、系统状态的实际值、预测值以及残差函数，将所述系统状态动态方程中的未知参数利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；使用均方根误差和判定系数对所述未知参数的辨识结果进行评估，以获得非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数；利用所述非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数，根据非周期任务的利用率动态调节服务器带宽，以获得最小化的非周期任务的平均响应延迟。2.根据权利要求1所述的方法，其特征在于，所述根据单处理器系统中非周期任务运行过程的系统状态信息，采用硬常带宽服务器反馈控制算法，构建系统状态动态方程；其中，所述系统状态动态方程包括非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差倍数关系的未知参数，包括：根据非周期任务作业的响应延迟与作业执行时间的关系式，分析服务器带宽与非周期任务平均响应延迟的关系，以获得状态反馈控制器的控制输入；利用所述控制输入并选取在一个采样间隔内的非周期任务的系统状态信息，构建系统状态动态方程。3.根据权利要求1所述的方法，其特征在于，所述根据控制器的控制输入、系统状态的实际值、预测值以及残差函数，将所述系统状态动态方程中的未知参数利用最小二乘法进行辨识，以获得所述未知参数的辨识结果，包括：根据控制器的控制输入、系统状态预测值、实际值以及残差函数，利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；根据所述未知参数的辨识结果和期望闭环极点，使用系统闭环特征多项式进行求解，以获得反馈控制器系数。4.根据权利要求1所述的方法，其特征在于，所述使用均方根误差和判定系数对所述未知参数的辨识结果进行评估，以获得非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数，包括：使用系统状态的实际值和预测值，计算均方根误差，以判断测量的精密度；使用系统状态的回归平方和与总离差平方和计算判定系数，以判断对所述未知参数辨识的拟合优度；根据所述计算获得的均方根误差和判定系数，判断所述系统动态方程的未知参数辨识结果的最优值。5.一种基于带宽服务器的非周期任务调度装置，其特征在于，所述装置包括：构建部分、辨识部分、评估部分、调节部分；其中，所述构建部分，经配置为根据单处理器系统中非周期任务运行过程的系统状态信息，采用硬常带宽服务器反馈控制算法，构建系统状态动态方程；其中，所述系统状态动态方程包括非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差倍数关系的未知参数；所述辨识部分，经配置为根据控制器的控制输入、系统状态的实际值、预测值以及残差函数，将所述系统状态动态方程中的未知参数利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；所述评估部分，经配置为使用均方根误差和判定系数对所述未知参数的辨识结果进行评估，以获得非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数；所述调节部分，经配置为利用所述非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数，根据非周期任务的利用率动态调节服务器带宽，以获得最小化的非周期任务的平均响应延迟。6.根据权利要求5所述的装置，其特征在于，所述构建部分，经配置为：根据非周期任务作业的响应延迟与作业执行时间的关系式，分析服务器带宽与非周期任务平均响应延迟的关系，以获得状态反馈控制器的控制输入；利用所述控制输入并选取在一个采样间隔内的非周期任务的系统状态信息，构建系统状态动态方程。7.根据权利要求5所述的装置，其特征在于，所述辨识部分，经配置为：根据控制器的控制输入、系统状态预测值、实际值以及残差函数，利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；根据所述未知参数的辨识结果和期望闭环极点，使用系统闭环特征多项式进行求解，以获得反馈控制器系数。8.根据权利要求5所述的装置，其特征在于，所述评估部分，经配置为：使用系统状态的实际值和预测值，计算均方根误差，以判断测量的精密度；使用系统状态的回归平方和与总离差平方和计算判定系数，以判断对所述未知参数辨识的拟合优度；根据所述计算获得的均方根误差和判定系数，判断所述系统动态方程的未知参数辨识结果的最优值。9.一种计算设备，其特征在于，所述计算设备包括：通信接口，处理器，存储器；各个组件通过总线系统耦合在一起；其中，所述通信接口，用于在与其他外部网元之间进行收发信息过程中，信号的接收和发送；所述存储器，用于存储能够在所述处理器上运行的计算机程序；所述处理器，用于在运行所述计算机程序时，执行权利要求1至4任一项所述基于带宽服务器的非周期任务调度方法的步骤。10.一种计算机存储介质，其特征在于，所述计算机存储介质存储有基于带宽服务器的非周期任务调度的程序，所述基于带宽服务器的非周期任务调度的程序被至少一个处理器执行时实现权利要求1至4任一项所述基于带宽服务器的非周期任务调度方法的步骤。
说明书desc
技术领域本发明实施例涉及星务系统非周期任务调度领域，尤其涉及一种基于带宽服务器的非周期任务调度方法、装置及介质。背景技术当外部事件发生时，星务系统为响应产生的工作负荷，使用非周期任务进行捕获。每个非周期作业的执行时间与释放间隔变化很大，直接调度可能会使系统中实时任务错失截止期。为此，在不牺牲周期性实时任务性能的基础上，同时优化非周期作业的系统响应时间，需要进一步考虑调度策略。发明内容有鉴于此，本发明实施例期望提供一种基于带宽服务器的非周期任务调度方法、装置及介质，能够保证较低周期任务错失率的同时，降低非周期任务的平均响应延迟。本发明实施例的技术方案是这样实现的：第一方面，本发明实施例提供一种基于带宽服务器的非周期任务调度方法，包括：根据单处理器系统中非周期任务运行过程的系统状态信息，采用硬常带宽服务器反馈控制算法，构建系统状态动态方程；其中，所述系统状态动态方程包括非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差倍数关系的未知参数；根据控制器的控制输入、系统状态的实际值、预测值以及残差函数，将所述系统状态动态方程中的未知参数利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；使用均方根误差和判定系数对所述未知参数的辨识结果进行评估，以获得非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数；利用所述非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数，根据非周期任务的利用率动态调节服务器带宽，以获得最小化的非周期任务的平均响应延迟。第二方面，本发明实施例提供一种基于带宽服务器的非周期任务调度装置，所述装置包括：构建部分、辨识部分、评估部分、调节部分；其中，所述构建部分，经配置为根据单处理器系统中非周期任务运行过程的系统状态信息，采用硬常带宽服务器反馈控制算法，构建系统状态动态方程；其中，所述系统状态动态方程包括非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差倍数关系的未知参数；所述辨识部分，经配置为根据控制器的控制输入、系统状态的实际值、预测值以及残差函数，将所述系统状态动态方程中的未知参数利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；所述评估部分，经配置为使用均方根误差和判定系数对所述未知参数的辨识结果进行评估，以获得非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数；所述调节部分，经配置为利用所述非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数，根据非周期任务的利用率动态调节服务器带宽，以获得最小化的非周期任务的平均响应延迟。第三方面，本发明实施例提供了一种计算设备，所述计算设备包括：通信接口，存储器和处理器；各个组件通过总线系统耦合在一起；其中，所述通信接口，用于在与其他外部网元之间进行收发信息过程中，信号的接收和发送；所述存储器，用于存储能够在所述处理器上运行的计算机程序；所述处理器，用于在运行所述计算机程序时，执行第一方面所述基于带宽服务器的非周期任务调度方法的步骤。第四方面，本发明实施例提供一种计算机存储介质，所述计算机存储介质存储有基于带宽服务器的非周期任务调度的程序，所述基于带宽服务器的非周期任务调度的程序被至少一个处理器执行时实现第一方面所述基于带宽服务器的非周期任务调度方法的步骤。本发明实施例提供了一种基于带宽服务器的非周期任务调度方法、装置及介质，基于给定调度器模型，针对非周期任务调度，在原有调度算法最早时限优先基础上，提出一种基于硬常带宽服务器反馈控制算法的调度方法，建立单处理器系统过载情况下的动态状态空间方程，通过反馈控制策略调整服务器带宽参数并利用最小二乘法进行参数辨识。该算法在系统负载动态变化的情况下，能够保证周期任务实时性的同时，降低非周期任务的响应延迟。附图说明图1为本发明实施例提供的一种基于带宽服务器的非周期任务调度方法流程图；图2为本发明实施例提供的单处理器有多个非周期任务的带宽管理示意图；图3为本发明实施例提供的单处理器仅有一个非周期任务并且释放间隔服从正态分布的10组数据的RMSE与R2结果图；图4为本发明实施例提供的释放间隔服从正态分布的最优拟合结果以及某个状态实际值与预测值的对比图；图5为本发明实施例提供的单处理器仅有一个非周期任务并且释放间隔服从指数分布的10组数据的RMSE与R2结果图；图6为本发明实施例提供的释放间隔服从指数分布的最优拟合结果以及某个状态实际值与预测值的对比图；图7为本发明实施例提供的单处理器有多个非周期任务情况下不同调度策略的处理器与任务利用率对比图；图8为本发明实施例提供的单处理器有多个非周期任务情况下不同调度策略下周期任务错失率对比图；图9为本发明实施例提供的不同调度策略下的非周期任务平均响应延迟对比图；图10为本发明实施例提供的不同调度策略下作业吞吐量对比图；图11为本发明实施例提供的一种基于带宽服务器的非周期任务调度装置示意图；图12为本发明实施例提供的一种计算设备的硬件结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述。当外部事件发生时，星务系统为响应产生的工作负荷，使用非周期任务进行捕获。由于每个非周期作业的执行时间与释放间隔变化很大，直接调度可能会使系统中实时任务错失截止期。为此，需要针对存在混合任务，即系统中同时存在周期任务和非周期任务的系统，考虑任务的调度问题。基于上述内容的阐述，本发明实施例期望提出一种基于带宽服务器的非周期任务调度方法。参见图1所示，该方法可以包括：S101：根据单处理器系统中非周期任务运行过程的系统状态信息，采用硬常带宽服务器反馈控制算法，构建系统状态动态方程；其中，所述系统状态动态方程包括非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差倍数关系的未知参数；S102：根据控制器的控制输入、系统状态的实际值、预测值以及残差函数，将所述系统状态动态方程中的未知参数利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；S103：使用均方根误差和判定系数对所述未知参数的辨识结果进行评估，以获得非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数；S104：利用所述非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数，根据非周期任务的利用率动态调节服务器带宽，以获得最小化的非周期任务的平均响应延迟。需要说明的是，所述周期任务为作业的释放间隔固定，则称该任务为周期任务；非周期任务为作业的释放时间不固定且具有最小间隔，且作业具有弱定时约束或无定时约束，则称该任务是非周期任务；所述任务利用率为任务执行时间占总处理器时间的比率；所述残差函数为系统状态的实际值与预测值之差的函数关系。根据上述技术方案的描述，本发明实施例基于给定调度器模型，针对非周期任务调度，在原有调度算法最早时限优先基础上，提出一种基于硬常带宽服务器反馈控制算法的调度方法，建立单处理器系统过载情况下的动态状态空间方程，通过反馈控制策略调整服务器带宽参数并利用最小二乘法进行参数辨识。该算法在系统负载动态变化的情况下，能够保证周期任务实时性的同时，降低非周期任务的响应延迟。需要说明的是，所述EDF算法即为一种固定作业优先级调度算法，根据任务绝对截止期分配作业优先级：绝对截止期越早，优先级越高。对于图1所示的技术方案，在一些可能的实现方式中，所述根据单处理器系统中非周期任务运行过程的系统状态信息，采用硬常带宽服务器反馈控制算法，构建系统状态动态方程；其中，所述系统状态动态方程包括非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差倍数关系的未知参数，包括：根据非周期任务作业的响应延迟与作业执行时间的关系式，分析服务器带宽与非周期任务平均响应延迟的关系，以获得状态反馈控制器的控制输入；利用所述控制输入并选取在一个采样间隔内的非周期任务的系统状态信息，构建系统状态动态方程。对于上述实现方式，在一些示例中，所述根据非周期任务作业的响应延迟与作业执行时间的关系式，分析服务器带宽与非周期任务平均响应延迟的关系，以获得状态反馈控制器的控制输入，具体来说，由于硬常带宽服务器算法在调度负载动态变化的非周期任务时，会产生较大的响应延迟。而非周期任务响应延迟的产生是由于H-CBS算法的服务器带宽不能匹配非周期任务利用率所致。因此，需要对非周期任务的平均响应延迟与非周期任务利用率以及服务器带宽设定最佳匹配函数关系，以获得最小化的平均响应延迟。假定非周期作业的平均释放间隔等于服务器周期，考虑隐含截止期的情况，得到非周期任务作业的响应延迟δ与作业J的执行时间的关系式：其中，c表示作业执行时间，d表示作业的绝对截止期，QS表示服务器最大预算，TS表示服务器周期。从上述公式可知，当服务器最大预算大于等于作业执行时间时，响应延迟为0。因此通过调节服务器最大带宽可以降低非周期任务的平均响应延迟。在固定服务器周期TS的条件下，使用服务器带宽的变化量ΔUS＝ΔQS/TS作为状态反馈控制器的控制输入：u＝ΔUS系统在运行过程中，服务器带宽应满足如下约束：其中，为人为设置的最小服务器带宽，/＞为采样间隔内周期实时任务的平均利用率。当处理器中存在多个非周期任务时，针对服务器带宽的调节，本发明实施例提出一种服务器带宽压缩方法，该方法基于剩余处理器利用率按比例分配，压缩控制器的控制输入，以保证带宽调节的效果。其工作原理为：每个非周期任务的H-CBS都需要建立状态反馈控制器调节服务器带宽。多个独立控制器的控制输入的总和可能会导致非周期任务的服务器总带宽超过系统带宽上限使服务器带宽的动态调节效果下降或起反效果。因此，需要对经过反馈控制调节的所有服务器带宽进行合理压缩，以保证对非周期任务服务器带宽调节的有效性。参见图2，其示出了单处理器有多个非周期任务的带宽管理示意图，在所有控制器产生控制输入后，从原本直接作用到服务器，改为由带宽管理器对服务器带宽进行集中管理后，再统一向各服务器分配新的带宽。带宽管理器首先计算所有控制器的控制输入总和与处理器总剩余利用率然后通过判断/＞与UR的大小对带宽进行调整：/＞按比例压缩控制输入/＞并计算新的服务器带宽/＞计算新的服务器带宽USi＝USi+ui。其中，USi为调节前的服务器带宽，为采样间隔内周期实时任务的平均利用率。若任意服务器带宽，则令/＞。服务器带宽压缩算法的伪代码如下所示：对于上述实现方式，在一些示例中，所述利用所述控制输入并选取在一个采样间隔内的非周期任务的系统状态信息，构建系统状态动态方程，具体来说，对于计算系统状态信息可以是选取的在一个采样间隔内的状态量，例如非周期任务作业的实际执行时间与任务执行次数、非周期作业的释放时间与完成时间。当非周期任务利用率大于服务器带宽时，即单处理器负载过载时，系统可以描述为线性定常系统，则状态空间表达式为：y＝Cx因为非周期任务平均响应延迟的变化与/＞相关，假设/＞则系数矩阵可表示为：/＞为实现闭环极点的任意配置，选择下列状态反馈控制规律：则系统状态动态方程为：其中，x1和x2表示系统状态量，K表示非周期任务平均响应延迟的变化与非周期任务平均利用率和H-CBS带宽US之差/＞的倍数关系，即/＞K1和K2是闭环极点配置与状态反馈控制规律使用的参数，即反馈控制器系数。系统闭环特征多项式为：f＝det＝λ2+λ+1-K2+KK1需要说明的是，上述其中，N表示非周期任务τ的执行次数，Ji表示非周期任务τ的作业，/＞表示非周期任务作业完成时间，d表示非周期任务作业的绝对截止期，i＝1，…，N；表示非周期任务平均利用率/＞与H-CBS带宽US之差；其中，表示τ的平均释放间隔，/＞表示非周期任务作业实际执行时间，N表示非周期任务τ的执行次数；对于图1所示的技术方案，在一些可能的实现方式中，所述根据控制器的控制输入、系统状态的实际值、预测值以及残差函数，将所述系统状态动态方程中的未知参数利用最小二乘法进行辨识，以获得所述未知参数的辨识结果，包括：根据控制器的控制输入、系统状态预测值、实际值以及残差函数，利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；根据所述未知参数的辨识结果和期望闭环极点，使用系统闭环特征多项式进行求解，以获得反馈控制器系数。具体来说，对于上述系统状态动态方程中的未知参数K，使用最小二乘法进行辨识。在控制输入u＝0的条件下，状态x1的表达式为：x1＝x1+Kx2假设状态x1的预测值满足如下表达式：则状态x1的残差定义为：利用最小二乘法可得到a与b的值：其中，需要说明的是，所述最小二乘法又称最小平方法，是一种数学优化技术。它通过最小化误差的平方和寻找数据的最佳函数匹配。利用最小二乘法可以简便地求得未知的数据，并使得这些求得的数据与实际数据之间误差的平方和为最小，并且最小二乘法还可用于曲线拟合，其他一些优化问题也可通过最小化能量或最大化熵用最小二乘法来表达。所谓“二乘”就是平方的意思。对于图1所示的技术方案，在一些可能的实现方式中，所述使用均方根误差和判定系数对所述未知参数的辨识结果进行评估，以获得非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数，包括：使用系统状态的实际值和预测值，计算均方根误差，以判断测量的精密度；使用系统状态的回归平方和与总离差平方和计算判定系数，以判断对所述未知参数辨识的拟合优度；根据所述计算获得的均方根误差和判定系数，判断所述系统动态方程的未知参数辨识结果的最优值。具体来说，使用均方根误差与判定系数R2对参数辨识结果进行评估。其中，均方根误差RMSE反映了测量的精密度，其定义为：判定系数R2越接近1，模型的拟合优度越高。通常，R2＞0.8被认为是可接受的拟合，记var为参数x的方差，则其定义为：根据均方根误差和判定系数的计算结果，判断所述未知参数辨识结果的最优值，得到非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数。需要说明的是，所述均方根差RMSE也称为方均根偏移，是一种常用的测量数值之间差异的量度，RMSE是预测值与实际值的误差平方根的均值；所述判定系数也叫可决系数或决定系数，是指在线性回归中，回归平方和与总离差平方和之比值，其数值等于相关系数的平方，即R2，它是对估计的回归方程拟合优度的度量，该统计量越接近于1，模型的拟合优度越高；所述拟合优度是指回归直线对观测值的拟合程度。对于图1所示的技术方案，在一些可能的实现方式中，所述利用所述非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数，根据非周期任务的利用率动态调节服务器带宽，以获得最小化的非周期任务的平均响应延迟。具体来说，按照最佳匹配函数，根据非周期任务的利用率负载动态变化，依据前述按比例压缩服务器带宽的方法，实时动态调节服务器的带宽，以保证对非周期任务服务器带宽的有效性，以便于匹配非周期任务利用率，从而获得最小化的非周期任务平均响应延迟。基于上述技术方案、实现方式以及示例的阐述，为了验证基于硬常带宽服务器反馈控制H-CBS-FC算法的效果和优越性，基于仿真实验针对以下两种情况分别进行对比，得出分析结论，所述两种情况分别为单处理器中有一个非周期任务和单处理器中有多个非周期任务，具体为：1、单处理器上一组相互独立的任务集TG＝{τ1,τ2}。其中，τ1为周期任务，执行时间c1＝2ms，周期p1＝5ms，相对截止期等于周期，任务利用率UP＝0.4；τ2为非周期任务，系统正常运行情况下，执行时间服从正态分布c2N，相对截止期等于释放间隔；H-CBS初始最大预算QS0＝5ms，初始周期TS0＝15ms，服务器最小带宽周期任务与H-CBS带宽的总和为：UP+US0＝0.733＜1。任务集的超周期为H＝15ms，系统采样间隔取超周期的整数倍，即TSW＝60ms。假设τ2在系统运行过程中执行时间发生动态变化，c2满足：假设τ2的释放间隔分别服从以下两种概率分布情况：释放间隔服从正态分布P2N，最小释放间隔为0.5倍的平均释放间隔，即7.5ms；释放间隔服从指数分布P2E，最小释放间隔为0.5倍的平均释放间隔，即7.5ms。2、单处理器上一组相互独立的任务集TG＝{τ1,τ2,τ3,τ4,τ5,τ6}。其中，{τ1,τ2,τ3}为周期任务，{τ4,τ5,τ6}为非周期任务，系统正常运行情况下，任务与服务器参数如表1-1所示，周期任务的相对截止期等于周期，非周期任务的相对截止期等于释放间隔，服务器最小带宽。周期任务与H-CBS带宽总和为：UP+US0＝0.8＜1。任务集的超周期为H＝60ms，考虑到一个超周期内每个任务均可以执行1次以上，因此系统的采样间隔可以取任务集的超周期，即TSW＝60ms。τ5在系统运行过程中执行时间的变化与上述τ2的执行时间变化相同。非周期任务的释放间隔分别服从正态分布与指数分布情况，最小释放间隔均为0.5倍的平均释放间隔。表1-1任务参数与服务器参数仿真结论：1、系统参数辨识根据情况1中的系统参数，假设从τ2的第二个作业J2,2开始，τ2的执行时间发生阶跃变化，考虑在最坏情况下，系统过载，则J2,2的执行时间c2服从N，总过载时间设为1000ms，系统运行与过载时间相同。针对τ2的释放间隔服从正态分布与指数分布的情况，分别统计10组运行结果。参见图3与图5分别为释放间隔为正态分布与指数分布的10组数据的均方根误差与判定系数。可以看到，判定系数均大于0.8，因此，选取均方根误差最小的一组作为系统辨识的最终结果。如图4所示，在τ2的释放间隔服从正态分布的情况下，RMSE＝4.573，R2＝0.999，a＝0.987，b＝84.369；如图6所示，在τ2的释放间隔服从指数分布的情况下，RMSE＝11.592，R2＝0.996，a＝1.010，b＝42.590。2、算法验证为了验证算法的优越性，通过比较在单处理器仅有一个非周期任务和单处理器有多个非周期任务两种情况实验条件下，针对无H-CBS下的EDF调度、基于H-CBS的EDF调度、基于H-CBS反馈控制的EDF调度三种不同调度策略对系统处理器利用率、周期任务错失率、非周期任务平均响应延迟以及作业吞吐量的影响分别进行验证，本发明实施例仅示出单处理器有多个非周期任务情况下的对比结果，单处理器仅有一个非周期任务情况下对比结果与其基本类似，单处理器有多个非周期任务情况下具体对比结果如下：处理器与任务利用率参见图7，其示出了不同调度策略下的处理器与任务利用率对比图，使用无H-CBS的EDF算法进行调度时，处理器利用率会随着负载的变化而同步变化；使用基于H-CBS的EDF算法进行调度时，处理器利用率基本保持恒定；使用基于H-CBS-FC的EDF算法进行调度时，处理器利用率先随着负载的增加而增加，当负载降低后会持续一段较高的利用率后再下降。周期任务错失率参见图8所示，其示出了不同调度策略下周期任务错失率对比图。使用无H-CBS的EDF算法进行调度具有最高的错失率，最大值分别为0.565与0.680；使用基于H-CBS的EDF算法进行调度几乎没有周期任务错失；使用基于H-CBS-FC的EDF算法进行调度则具有较低的周期任务错失率，最大值分别为0.078与0.042。非周期任务平均响应延迟参见图9，其示出了不同调度策略下非周期任务平均响应延迟对比图。使用无H-CBS的EDF算法进行调度时，三个非周期任务具有相似的响应延迟，最大值分别为2311ms、2236ms、2232ms与1308ms、1311ms、1308ms；使用基于H-CBS的EDF算法进行调度时，释放间隔服从正态分布时，任务τ5的平均响应延迟随着负载的增加迅速上升，任务τ4与τ6的平均响应延迟随着时间逐渐缓慢上升。释放间隔服从指数分布时，任务τ5的平均响应延迟随着负载的增加先上升后逐渐下降，最大值为10780ms，任务τ4与τ6的平均响应延迟则在较低水平波动；使用基于H-CBS-FC的EDF算法进行调度时，由于存在带宽压缩，当系统负载增加时，所有非周期任务的服务器带宽可能会重新分配，导致除任务τ5外，任务τ4与τ6的平均响应延迟也随着系统负载的增加而上升，最大值分别为5167ms、7295ms、2796ms与4551ms、3194ms、724ms，但随着负载的降低，三个非周期任务的平均响应延迟都逐渐下降到0。作业吞吐量参见图10，其示出了不同调度策略下作业吞吐量对比图。三种调度策略的作业吞吐量相近，当负载增加时，作业吞吐量逐渐下降；当负载降低时，使用无H-CBS的EDF算法与基于H-CBS-FC的EDF算法进行调度时，吞吐量会先增加后下降，并最终保持稳定，后者吞吐量波动幅度小于前者。因此，针对处理器中存在多个非周期任务的情况，基于H-CBS-FC的EDF调度策略可以在保证周期任务错失率较低与作业吞吐量的同时，降低所有非周期任务的响应延迟。基于前述技术方案相同的发明构思，参见图11，其示出了一种基于带宽服务器的非周期任务调度装置1100，所述装置1100包括：构建部分1101、辨识部分1102、评估部分1103、调节部分1104；其中，所述构建部分1101，经配置为根据单处理器系统中非周期任务运行过程的系统状态信息，采用硬常带宽服务器反馈控制算法，构建系统状态动态方程；其中，所述系统状态动态方程包括非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差倍数关系的未知参数；所述辨识部分1102，经配置为根据控制器的控制输入、系统状态的实际值、预测值以及残差函数，将所述系统状态动态方程中的未知参数利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；所述评估部分1103，经配置为使用均方根误差和判定系数对所述未知参数的辨识结果进行评估，以获得非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数；所述调节部分1104，经配置为利用所述非周期任务的平均响应延迟与非周期任务利用率和服务器带宽之差的最佳匹配函数，根据非周期任务的利用率动态调节服务器带宽，以获得最小化的非周期任务的平均响应延迟。在一些示例中，所述构建部分1101，经配置为：根据非周期任务作业的响应延迟与作业执行时间的关系式，分析服务器带宽与非周期任务平均响应延迟的关系，以获得状态反馈控制器的控制输入；利用所述控制输入并选取在一个采样间隔内的非周期任务的系统状态信息，构建系统状态动态方程。在一些示例中，所述辨识部分1102，经配置为：根据控制器的控制输入、系统状态预测值、实际值以及残差函数，利用最小二乘法进行辨识，以获得所述未知参数的辨识结果；根据所述未知参数的辨识结果和期望闭环极点，使用系统闭环特征多项式进行求解，以获得反馈控制器系数。在一些示例中，所述评估部分1103，经配置为：使用系统状态的实际值和预测值，计算均方根误差，以判断测量的精密度；使用系统状态的回归平方和与总离差平方和计算判定系数，以判断对所述未知参数辨识的拟合优度；根据所述计算获得的均方根误差和判定系数，判断所述系统动态方程的未知参数辨识结果的最优值。可以理解地，在本实施例中，“部分”可以是部分电路、部分处理器、部分程序或软件等等，当然也可以是单元，还可以是模块也可以是非模块化的。另外，在本实施例中的各组成部分可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能模块的形式实现。所述集成的单元如果以软件功能模块的形式实现并非作为独立的产品进行销售或使用时，可以存储在一个计算机可读取存储介质中，基于这样的理解，本实施例的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备或processor执行本实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。因此，本实施例提供了一种计算机存储介质，所述计算机存储介质存储有基于带宽服务器的非周期任务调度的程序，所述基于带宽服务器的非周期任务调度的程序被至少一个处理器执行时实现上述技术方案中所述基于带宽服务器的非周期任务调度方法的步骤。根据上述一种基于带宽服务器的非周期任务调度装置1100以及计算机存储介质，参见图12，其示出了本发明实施例提供的一种能够实施上述基于带宽服务器的非周期任务调度装置1100的计算设备1200的具体硬件结构，该计算设备1200可以为无线装置、移动或蜂窝电话、个人数字助理、视频游戏控制台、膝上型计算机、桌上型计算机、电视机顶盒、平板计算装置、电子书阅读器、固定或移动媒体播放器等。计算设备1200包括：通信接口1201，存储器1202和处理器1203；各个组件通过总线系统1204耦合在一起。可理解，总线系统1204用于实现这些组件之间的连接通信。总线系统1204除包括数据总线之外，还包括电源总线、控制总线和状态信号总线。但是为了清楚说明起见，在图12中将各种总线都标为总线系统1204。其中，所述通信接口1201，用于在与其他外部网元之间进行收发信息过程中，信号的接收和发送；所述存储器1202，用于存储能够在所述处理器1203上运行的计算机程序；所述处理器1203，用于在运行所述计算机程序时，执行前述技术方案中所述基于带宽服务器的非周期任务调度方法的步骤。可以理解，本发明实施例中的存储器1202可以是易失性存储器或非易失性存储器，或可包括易失性和非易失性存储器两者。其中，非易失性存储器可以是只读存储器、可编程只读存储器、可擦除可编程只读存储器、电可擦除可编程只读存储器或闪存。易失性存储器可以是随机存取存储器，其用作外部高速缓存。通过示例性但不是限制性说明，许多形式的RAM可用，例如静态随机存取存储器、动态随机存取存储器、同步动态随机存取存储器、双倍数据速率同步动态随机存取存储器、增强型同步动态随机存取存储器、同步连接动态随机存取存储器和直接内存总线随机存取存储器。本文描述的系统和方法的存储器1202旨在包括但不限于这些和任意其它适合类型的存储器。而处理器1203可能是一种集成电路芯片，具有信号的处理能力。在实现过程中，上述方法的各步骤可以通过处理器1203中的硬件的集成逻辑电路或者软件形式的指令完成。上述的处理器1203可以是通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。可以实现或者执行本发明实施例中的公开的各方法、步骤及逻辑框图。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合本发明实施例所公开的方法的步骤可以直接体现为硬件译码处理器执行完成，或者用译码处理器中的硬件及软件模块组合执行完成。软件模块可以位于随机存储器，闪存、只读存储器，可编程只读存储器或者电可擦写可编程存储器、寄存器等本领域成熟的存储介质中。该存储介质位于存储器1202，处理器1203读取存储器1202中的信息，结合其硬件完成上述方法的步骤。可以理解的是，本文描述的这些实施例可以用硬件、软件、固件、中间件、微码或其组合来实现。对于硬件实现，处理单元可以实现在一个或多个专用集成电路、数字信号处理器、数字信号处理设备、可编程逻辑设备、现场可编程门阵列、通用处理器、控制器、微控制器、微处理器、用于执行本申请所述功能的其它电子单元或其组合中。对于软件实现，可通过执行本文所述功能的模块来实现本文所述的技术。软件代码可存储在存储器中并通过处理器执行。存储器可以在处理器中或在处理器外部实现。可以理解地，上述基于带宽服务器的非周期任务调度装置1100以及计算设备1200的示例性技术方案，与前述一种基于带宽服务器的非周期任务调度方法的技术方案属于同一构思，因此，上述对于基于带宽服务器的非周期任务调度装置1100以及计算设备1200的技术方案未详细描述的细节内容，均可以参见前述一种基于带宽服务器的非周期任务调度方法的技术方案的描述。本发明实施例对此不做赘述。需要说明的是：本发明实施例所记载的技术方案之间，在不冲突的情况下，可以任意组合。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
