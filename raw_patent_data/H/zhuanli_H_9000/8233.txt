标题title
一种基于DNS解析的跨链事务模版管理系统
摘要abst
本发明属于区块链领域，涉及数据分析技术，用于解决现有的跨链事务模版管理系统无法满足所有不同业务的跨链需求的问题，具体是一种基于DNS解析的跨链事务模版管理系统，包括事务管理平台，所述事务管理平台通信连接有业务管理模块、应用管理模块、中继管理模块、优化分析模块以及存储模块；所述业务管理模块用于创建事务模版并将事务模版发送至存储模块中进行存储，所述应用管理模块用于发送事务调用请求，事务调用请求的发送模式包括单链发送模式与事务发送模式；本发明通过中继管理模块可以对中继器的域名解析状态进行监控分析，提高域名解析效率的同时降低中继服务器的负载，从而保证中继服务器的域名解析任务可以有序进行。
权利要求书clms
1.一种基于DNS解析的跨链事务模版管理系统，其特征在于，包括事务管理平台，所述事务管理平台通信连接有业务管理模块、应用管理模块、中继管理模块、优化分析模块以及存储模块；所述业务管理模块用于创建事务模版并将事务模版发送至存储模块中进行存储，事务模版包括任务i，i=1，2，…，n，任务i的创建过程包括：联盟链以链名、通道、合约、方法的形式生成任务；公链以合约地址、方法的形式生成任务；所述应用管理模块用于发送事务调用请求，事务调用请求的发送模式包括单链发送模式与事务发送模式，单链发送模式用于向中继器发送单个链的请求调用；事务发送模式用于通过事务ID及参数向事务模版发送事务调用请求；所述中继管理模块用于对中继器的域名解析状态进行监控分析；所述优化分析模块用于对中继服务器进行负载优化分析。2.根据权利要求1所述的一种基于DNS解析的跨链事务模版管理系统，其特征在于，中继管理模块对中继器的域名解析状态进行监控分析的具体过程包括：中继器的域名解析方式包括递归解析方式与迭代解析方式，优先采用递归解析方式进行域名解析；在进行递归解析方式进行域名解析的同时，对中继服务器的负载进行监控：获取中继服务器的CPU占用率并标记为ZY，获取中继服务器的备份数据内存值并标记为BN，通过对ZY与BN进行数值计算得到负载系数FZ；通过存储模块获取到负载阈值FZmax，将负载系数FZ与负载阈值FZmax进行比较并通过比较结果对中继服务器的负载状态是否满足要求进行判定。3.根据权利要求2所述的一种基于DNS解析的跨链事务模版管理系统，其特征在于，若负载系数FZ小于负载阈值FZmax，则判定中继服务器的负载状态满足要求，继续采用递归解析方式进行域名解析；若负载系数FZ大于等于负载阈值FZmax，则判定中继服务器的负载状态不满足要求，采用迭代解析方式进行域名解析。4.根据权利要求3所述的一种基于DNS解析的跨链事务模版管理系统，其特征在于，采用递归解析方式进行域名解析的具体过程包括：递归一个域名服务器请求下一个服务器，直至获取到匹配的地址；采用迭代解析方式进行域名解析的具体过程包括：每次请求一个服务器，当本地域名服务器不能获得查询答案时，就返回下一个域名服务器的名字给客户端。5.根据权利要求4所述的一种基于DNS解析的跨链事务模版管理系统，其特征在于，优化分析模块对中继服务器进行负载优化分析的具体过程包括：获取中继服务器处理的L1次域名解析任务并将其解析过程标记为处理过程，将处理过程中没有采用迭代解析方式进行域名解析的域名解析任务标记为标准任务，将标准任务的数量标记为BZ，将处理过程中采用了递归解析方式与迭代解析方式进行域名解析的域名解析任务标记为双模任务，获取双模任务中采用递归解析方式进行域名解析的时长并标记为递归时长，将所有双模任务的递归时长进行求和取平均值得到递归系数DG，通过对BZ与DG进行数值计算得到中继服务器的负优系数FY；通过存储模块获取到负优阈值FYmin，将中继服务器的负优系数FY与负优阈值FYmin进行比较并通过比较结果对中继服务器是否需要进行负载优化进行判定。6.根据权利要求5所述的一种基于DNS解析的跨链事务模版管理系统，其特征在于，将中继服务器的负优系数FY与负优阈值FYmin进行比较的具体过程包括：若负优系数FY小于负优阈值FYmin，则判定中继服务器需要进行负载优化，优化分析模块向事务管理平台发送负载优化信号，事务管理平台接收到负载优化信号后将负载优化信号发送至管理人员的手机终端；若负载系数FY大于等于负载阈值FYmin，则判定中继服务器不需要进行负载优化，对中继服务器进行负载平衡检测。7.根据权利要求6所述的一种基于DNS解析的跨链事务模版管理系统，其特征在于，对中继服务器进行负载平衡检测的具体过程包括：将所有标准任务的任务处理时长标记为标准值，将所有标准值建立标准集合，将所有双模任务中的递归时长建立递归集合，对递归集合进行方差计算得到递归值，通过存储模块获取到标准阈值与递归阈值，将标准值、递归值分别与标准阈值、递归阈值进行比较：若标准值小于标准阈值且递归值小于递归阈值，则判定中继服务器的负载平衡满足要求，优化分析模块向事务管理平台发送负载平衡信号，事务管理平台接收到负载平衡信号后将负载平衡信号发送至管理人员的手机终端；否则，判定中继服务器的负载平衡不满足要求，优化分析模块向事务管理平台发送平衡处理信号，事务管理平台接收到平衡处理信号后将平衡处理信号发送至管理人员的手机终端。8.根据权利要求1-7任一项所述的一种基于DNS解析的跨链事务模版管理系统，其特征在于，该基于DNS解析的跨链事务模版管理系统的工作方法，包括以下步骤：步骤一：通过业务管理模块创建事务模版并将事务模版发送至存储模块中进行存储；通过应用管理模块采用单链发送模式或事务发送模式进行事务调用请求发送；步骤二：通过中继管理模块对中继器的域名解析状态进行监控分析，优先采用递归解析方式进行域名解析，在进行递归解析方式进行域名解析的同时，对中继服务器的负载进行监控并得到负载系数，通过负载系数的数值大小对域名解析方式进行切换控制；步骤三：通过优化分析模块对中继服务器进行负载优化分析，获取中继服务器处理的L1次域名解析任务并将其解析过程标记为处理过程，计算处理过程的负优系数，通过负优系数的数值大小对中继服务器是否需要进行负载优化进行判定；步骤四：在中继服务器不需要进行负载优化时对中继服务器进行负载平衡检测，并在中继服务器的负载平衡不满足要求时通过事务管理平台向管理人员的手机终端发送平衡处理信号。
说明书desc
技术领域本发明属于区块链领域，涉及数据分析技术，具体是一种基于DNS解析的跨链事务模版管理系统。背景技术在市场力量为主的建设模式下，不管是公链还是联盟链，单独为政类似于局域网，难以大范围统一使用，规模影响力有限，而跨链互联的区块链类似于广域网，实现力服务范围的延展；当中心化应用程序与多条不同服务类型的区块链集成，就需要区块链跨链中继系统保证不同链之间数据互通和信息可信共享，打通数据孤岛。当跨链业务需求增多，业务事务复杂提高的背景下，已有的跨链系统无法满足所有不同业务的跨链需求，需要为不同业务开发特定插件，增加技术门槛与开发难度。针对上述技术问题，本申请提出一种解决方案。发明内容本发明的目的在于提供一种基于DNS解析的跨链事务模版管理系统，用于解决现有的跨链事务模版管理系统无法满足所有不同业务的跨链需求的问题；本发明需要解决的技术问题为：如何提供一种可以满足所有不同业务的跨链需求的跨链事务模版管理系统。本发明的目的可以通过以下技术方案实现：一种基于DNS解析的跨链事务模版管理系统，包括事务管理平台，所述事务管理平台通信连接有业务管理模块、应用管理模块、中继管理模块、优化分析模块以及存储模块；所述业务管理模块用于创建事务模版并将事务模版发送至存储模块中进行存储，事务模版包括任务i，i=1，2，…，n，任务i的创建过程包括：联盟链以链名、通道、合约、方法的形式生成任务；公链以合约地址、方法的形式生成任务；所述应用管理模块用于发送事务调用请求，事务调用请求的发送模式包括单链发送模式与事务发送模式，单链发送模式用于向中继器发送单个链的请求调用；事务发送模式用于通过事务ID及参数向事务模版发送事务调用请求；所述中继管理模块用于对中继器的域名解析状态进行监控分析；所述优化分析模块用于对中继服务器进行负载优化分析。作为本发明的一种优选实施方式，中继管理模块对中继器的域名解析状态进行监控分析的具体过程包括：中继器的域名解析方式包括递归解析方式与迭代解析方式，优先采用递归解析方式进行域名解析；在进行递归解析方式进行域名解析的同时，对中继服务器的负载进行监控：获取中继服务器的CPU占用率并标记为ZY，获取中继服务器的备份数据内存值并标记为BN，通过对ZY与BN进行数值计算得到负载系数FZ；通过存储模块获取到负载阈值FZmax，将负载系数FZ与负载阈值FZmax进行比较并通过比较结果对中继服务器的负载状态是否满足要求进行判定。作为本发明的一种优选实施方式，若负载系数FZ小于负载阈值FZmax，则判定中继服务器的负载状态满足要求，继续采用递归解析方式进行域名解析；若负载系数FZ大于等于负载阈值FZmax，则判定中继服务器的负载状态不满足要求，采用迭代解析方式进行域名解析。作为本发明的一种优选实施方式，采用递归解析方式进行域名解析的具体过程包括：递归一个域名服务器请求下一个服务器，直至获取到匹配的地址；采用迭代解析方式进行域名解析的具体过程包括：每次请求一个服务器，当本地域名服务器不能获得查询答案时，就返回下一个域名服务器的名字给客户端。作为本发明的一种优选实施方式，优化分析模块对中继服务器进行负载优化分析的具体过程包括：获取中继服务器处理的L1次域名解析任务并将其解析过程标记为处理过程，将处理过程中没有采用迭代解析方式进行域名解析的域名解析任务标记为标准任务，将标准任务的数量标记为BZ，将处理过程中采用了递归解析方式与迭代解析方式进行域名解析的域名解析任务标记为双模任务，获取双模任务中采用递归解析方式进行域名解析的时长并标记为递归时长，将所有双模任务的递归时长进行求和取平均值得到递归系数DG，通过对BZ与DG进行数值计算得到中继服务器的负优系数FY；通过存储模块获取到负优阈值FYmin，将中继服务器的负优系数FY与负优阈值FYmin进行比较并通过比较结果对中继服务器是否需要进行负载优化进行判定。作为本发明的一种优选实施方式，将中继服务器的负优系数FY与负优阈值FYmin进行比较的具体过程包括：若负优系数FY小于负优阈值FYmin，则判定中继服务器需要进行负载优化，优化分析模块向事务管理平台发送负载优化信号，事务管理平台接收到负载优化信号后将负载优化信号发送至管理人员的手机终端；若负载系数FY大于等于负载阈值FYmin，则判定中继服务器不需要进行负载优化，对中继服务器进行负载平衡检测。作为本发明的一种优选实施方式，对中继服务器进行负载平衡检测的具体过程包括：将所有标准任务的任务处理时长标记为标准值，将所有标准值建立标准集合，将所有双模任务中的递归时长建立递归集合，对递归集合进行方差计算得到递归值，通过存储模块获取到标准阈值与递归阈值，将标准值、递归值分别与标准阈值、递归阈值进行比较：若标准值小于标准阈值且递归值小于递归阈值，则判定中继服务器的负载平衡满足要求，优化分析模块向事务管理平台发送负载平衡信号，事务管理平台接收到负载平衡信号后将负载平衡信号发送至管理人员的手机终端；否则，判定中继服务器的负载平衡不满足要求，优化分析模块向事务管理平台发送平衡处理信号，事务管理平台接收到平衡处理信号后将平衡处理信号发送至管理人员的手机终端。作为本发明的一种优选实施方式，该基于DNS解析的跨链事务模版管理系统的工作方法，包括以下步骤：步骤一：通过业务管理模块创建事务模版并将事务模版发送至存储模块中进行存储；通过应用管理模块采用单链发送模式或事务发送模式进行事务调用请求发送；步骤二：通过中继管理模块对中继器的域名解析状态进行监控分析，优先采用递归解析方式进行域名解析，在进行递归解析方式进行域名解析的同时，对中继服务器的负载进行监控并得到负载系数，通过负载系数的数值大小对域名解析方式进行切换控制；步骤三：通过优化分析模块对中继服务器进行负载优化分析，获取中继服务器处理的L1次域名解析任务并将其解析过程标记为处理过程，计算处理过程的负优系数，通过负优系数的数值大小对中继服务器是否需要进行负载优化进行判定；步骤四：在中继服务器不需要进行负载优化时对中继服务器进行负载平衡检测，并在中继服务器的负载平衡不满足要求时通过事务管理平台向管理人员的手机终端发送平衡处理信号。本发明具备下述有益效果：1、通过在传统跨链的基础上增加可视化跨链事务模版管理模块，采用类似于传统互联网的路由和DNS基础设施架构，用于多链间无缝网络通信，提供类似DNS的解析功能；如：链名.通道.合约.方法、链名.合约地址.方法，解析到指定的验证器，实现通用跨链中继系统；2、通过中继管理模块可以对中继器的域名解析状态进行监控分析，通过递归解析方式于迭代解析方式交互处理的方式，提高域名解析效率的同时降低中继服务器的负载，从而保证中继服务器的域名解析任务可以有序进行；3、通过优化分析模块可以对中继服务器的历史处理任务进行数据分析，通过对处理过程中的标准任务占比以及递归时长进行综合计算得到负优系数，从而通过负优系数对中继服务器的负载优化必要性进行反馈，同时结合标准值与递归值对负载平衡状态进行反馈，为后续的任务请求管理提供数据支撑。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例一的系统框图；图2为本发明实施例二的方法流程图。具体实施方式下面将结合实施例对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。实施例一如图1所示，一种基于DNS解析的跨链事务模版管理系统，包括事务管理平台，事务管理平台通信连接有业务管理模块、应用管理模块、中继管理模块、优化分析模块以及存储模块。业务管理模块用于创建事务模版并将事务模版发送至存储模块中进行存储，事务模版包括任务i，i=1，2，…，n，任务i的创建过程包括：联盟链以链名、通道、合约、方法的形式生成任务；公链以合约地址、方法的形式生成任务。应用管理模块用于发送事务调用请求，事务调用请求的发送模式包括单链发送模式与事务发送模式，单链发送模式用于向中继器发送单个链的请求调用；事务发送模式用于通过事务ID及参数向事务模版发送事务调用请求；在传统跨链的基础上增加可视化跨链事务模版管理模块，采用类似于传统互联网的路由和DNS基础设施架构，用于多链间无缝网络通信，提供类似DNS的解析功能；如：链名.通道.合约.方法、链名.合约地址.方法，解析到指定的验证器，实现通用跨链中继系统。中继管理模块用于对中继器的域名解析状态进行监控分析：中继器的域名解析方式包括递归解析方式与迭代解析方式，优先采用递归解析方式进行域名解析：递归一个域名服务器请求下一个服务器，直至获取到匹配的地址；在进行递归解析方式进行域名解析的同时，对中继服务器的负载进行监控：获取中继服务器的CPU占用率并标记为ZY，获取中继服务器的备份数据内存值并标记为BN，通过公式FZ=α1*ZY+α2*BN得到负载系数FZ，负载系数是一个反映中继服务器负载状态的数值，负载系数的数值越大，则表示中继服务器的负载状态越差；其中α1与α2均为比例系数，且α1＞α2＞1；通过存储模块获取到负载阈值FZmax，将负载系数FZ与负载阈值FZmax进行比较：若负载系数FZ小于负载阈值FZmax，则判定中继服务器的负载状态满足要求，继续采用递归解析方式进行域名解析；若负载系数FZ大于等于负载阈值FZmax，则判定中继服务器的负载状态不满足要求，采用迭代解析方式进行域名解析；采用迭代解析方式进行域名解析的具体过程包括：每次请求一个服务器，当本地域名服务器不能获得查询答案时，就返回下一个域名服务器的名字给客户端；对中继器的域名解析状态进行监控分析，通过递归解析方式于迭代解析方式交互处理的方式，提高域名解析效率的同时降低中继服务器的负载，从而保证中继服务器的域名解析任务可以有序进行。优化分析模块用于对中继服务器进行负载优化分析：获取中继服务器处理的L1次域名解析任务并将其解析过程标记为处理过程，L1为数值常量，L1的数值由管理人员自行设置；将处理过程中没有采用迭代解析方式进行域名解析的域名解析任务标记为标准任务，将标准任务的数量标记为BZ，将处理过程中采用了递归解析方式与迭代解析方式进行域名解析的域名解析任务标记为双模任务，获取双模任务中采用递归解析方式进行域名解析的时长并标记为递归时长，将所有双模任务的递归时长进行求和取平均值得到递归系数DG，通过公式FY=β1*BZ+β2*DG得到中继服务器的负优系数FY，负优系数是一个反映中继服务器需要进行负载优化的必要性的数值，负优系数的数值越大，则表示中继服务器进行负载优化的必要性越高；其中β1与β2均为比例系数，且β1＞β2＞1；通过存储模块获取到负优阈值FYmin，将中继服务器的负优系数FY与负优阈值FYmin进行比较：若负优系数FY小于负优阈值FYmin，则判定中继服务器需要进行负载优化，优化分析模块向事务管理平台发送负载优化信号，事务管理平台接收到负载优化信号后将负载优化信号发送至管理人员的手机终端；若负载系数FY大于等于负载阈值FYmin，则判定中继服务器不需要进行负载优化，对中继服务器进行负载平衡检测：将所有标准任务的任务处理时长标记为标准值，将所有标准值建立标准集合，将所有双模任务中的递归时长建立递归集合，对递归集合进行方差计算得到递归值，通过存储模块获取到标准阈值与递归阈值，将标准值、递归值分别与标准阈值、递归阈值进行比较：若标准值小于标准阈值且递归值小于递归阈值，则判定中继服务器的负载平衡满足要求，优化分析模块向事务管理平台发送负载平衡信号，事务管理平台接收到负载平衡信号后将负载平衡信号发送至管理人员的手机终端；否则，判定中继服务器的负载平衡不满足要求，优化分析模块向事务管理平台发送平衡处理信号，事务管理平台接收到平衡处理信号后将平衡处理信号发送至管理人员的手机终端；对中继服务器的历史处理任务进行数据分析，通过对处理过程中的标准任务占比以及递归时长进行综合计算得到负优系数，从而通过负优系数对中继服务器的负载优化必要性进行反馈，同时结合标准值与递归值对负载平衡状态进行反馈，为后续的任务请求管理提供数据支撑。实施例二如图2所示，一种基于DNS解析的跨链事务模版管理方法，包括以下步骤：步骤一：通过业务管理模块创建事务模版并将事务模版发送至存储模块中进行存储；通过应用管理模块采用单链发送模式或事务发送模式进行事务调用请求发送，采用类似于传统互联网的路由和DNS基础设施架构，用于多链间无缝网络通信，提供类似DNS的解析功能；步骤二：通过中继管理模块对中继器的域名解析状态进行监控分析，优先采用递归解析方式进行域名解析，在进行递归解析方式进行域名解析的同时，对中继服务器的负载进行监控并得到负载系数，通过负载系数的数值大小对域名解析方式进行切换控制，提高域名解析效率的同时降低中继服务器的负载，保证中继服务器的域名解析任务可以有序进行；步骤三：通过优化分析模块对中继服务器进行负载优化分析，获取中继服务器处理的L1次域名解析任务并将其解析过程标记为处理过程，计算处理过程的负优系数，通过负优系数的数值大小对中继服务器是否需要进行负载优化进行判定，通过负优系数对中继服务器的负载优化必要性进行反馈；步骤四：在中继服务器不需要进行负载优化时对中继服务器进行负载平衡检测，并在中继服务器的负载平衡不满足要求时通过事务管理平台向管理人员的手机终端发送平衡处理信号。一种基于DNS解析的跨链事务模版管理系统，工作时，通过业务管理模块创建事务模版并将事务模版发送至存储模块中进行存储；通过应用管理模块采用单链发送模式或事务发送模式进行事务调用请求发送，采用类似于传统互联网的路由和DNS基础设施架构，用于多链间无缝网络通信，提供类似DNS的解析功能；通过中继管理模块对中继器的域名解析状态进行监控分析，优先采用递归解析方式进行域名解析，在进行递归解析方式进行域名解析的同时，对中继服务器的负载进行监控并得到负载系数，通过负载系数的数值大小对域名解析方式进行切换控制，提高域名解析效率的同时降低中继服务器的负载，保证中继服务器的域名解析任务可以有序进行；通过优化分析模块对中继服务器进行负载优化分析，获取中继服务器处理的L1次域名解析任务并将其解析过程标记为处理过程，计算处理过程的负优系数，通过负优系数的数值大小对中继服务器是否需要进行负载优化进行判定，通过负优系数对中继服务器的负载优化必要性进行反馈；在中继服务器不需要进行负载优化时对中继服务器进行负载平衡检测，并在中继服务器的负载平衡不满足要求时通过事务管理平台向管理人员的手机终端发送平衡处理信号。以上内容仅仅是对本发明结构所作的举例和说明，所属本技术领域的技术人员对所描述的具体实施例做各种各样的修改或补充或采用类似的方式替代，只要不偏离发明的结构或者超越本权利要求书所定义的范围，均应属于本发明的保护范围。上述公式均是采集大量数据进行软件模拟得出且选取与真实值接近的一个公式，公式中的系数是由本领域技术人员根据实际情况进行设置；如：公式FZ=α1*ZY+α2*BN；由本领域技术人员采集多组样本数据并对每一组样本数据设定对应的负载系数；将设定的负载系数和采集的样本数据代入公式，任意两个公式构成二元一次方程组，将计算得到的系数进行筛选并取均值，得到α1以及α2的取值分别为3.48和2.15；系数的大小是为了将各个参数进行量化得到的一个具体的数值，便于后续比较，关于系数的大小，取决于样本数据的多少及本领域技术人员对每一组样本数据初步设定对应的负载系数；只要不影响参数与量化后数值的比例关系即可，如负载系数与CPU占用率的数值成正比。在本说明书的描述中，参考术语“一个实施例”、“示例”、“具体示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。以上公开的本发明优选实施例只是用于帮助阐述本发明。优选实施例并没有详尽叙述所有的细节，也不限制该发明仅为的具体实施方式。显然，根据本说明书的内容，可作很多的修改和变化。本说明书选取并具体描述这些实施例，是为了更好地解释本发明的原理和实际应用，从而使所属技术领域技术人员能很好地理解和利用本发明。本发明仅受权利要求书及其全部范围和等效物的限制。
