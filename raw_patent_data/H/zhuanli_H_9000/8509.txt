标题title
一种电池包紧急加热方法、装置及系统
摘要abst
本发明涉及电动汽车电池设计领域，尤其涉及对电动汽车用的动力电池包的紧急加热方法、装置及系统。这种电池包紧急加热方法包括：接收唤醒信号，所述唤醒信号由车载充电机发送；响应于所述唤醒信号，闭合第一继电器、第二继电器及第三继电器，所述车载充电机与所述第一继电器、所述第二继电器、所述第三继电器及电池加热器相连，对所述电池包进行预充电；断开第三继电器，所述电池加热器对所述电池包进行加热。通过上述方法，在加热的同时不会对电池进行充电从而损坏电池包，起到保护电池包的作用并实现动力电池包在低温环境下的快速加热功能。
权利要求书clms
1.一种电池包紧急加热方法，其特征在于，包括：接收唤醒信号，所述唤醒信号由车载充电机发送；响应于所述唤醒信号，闭合第一继电器、第二继电器及第三继电器，所述车载充电机与所述第一继电器、所述第二继电器、所述第三继电器及电池加热器相连，对所述电池包进行预充电；断开第三继电器，所述电池加热器对所述电池包进行加热。2.根据权利要求1所述的一种电池包紧急加热方法，其特征在于，包括：所述第一继电器为慢充继电器，所述第二继电器为预充继电器，所述第三继电器为主负继电器，所述慢充继电器、所述预充继电器及所述主负继电器设置在所述电池包内，所述电池包还包括第四继电器，所述第四继电器为主正继电器，所述主正继电器在对所述电池包进行预充电及对所述电池包进行加热的过程中处于断开状态。3.根据权利要求2所述的一种电池包紧急加热方法，其特征在于，所述对所述电池包进行加热还包括：当所述电池包温度及环境温度小于第一阈值，且当所述电池包的荷电状态小于第二阈值时，允许所述电池加热器对所述电池包进行加热。4.根据权利要求2所述的一种电池包紧急加热方法，其特征在于，所述对所述电池包进行预充电还包括：设置所述电池包的端电压与所述车载充电机的充电电压的差值为第三阈值，并设置所述车载充电机的充电电流为额定电流。5.根据权利要求2所述的一种电池包紧急加热方法，其特征在于，还包括：在对所述电池包进行加热后，若所述电池包温度不变或在设定时间内没有到达目标温度时，或所述电池包的端电压与所述车载充电机的充电电压的差值小于第三阈值时，或所述电池包的采样电流小于第四阈值，则断开所述慢充继电器，使所述电池加热器对所述电池包停止加热。6.根据权利要求2所述的一种电池包紧急加热方法，其特征在于，所述响应于所述唤醒信号还包括：发送加热请求信号给整车控制器，所述整车控制器设置加热请求标志位，若所述加热请求标志位为1，则闭合所述慢充继电器、所述预充继电器及所述主负继电器，对所述电池包进行预充电后，断开所述主正继电器，并对所述电池包进行加热。7.根据权利要求2所述的一种电池包紧急加热方法，其特征在于，所述对所述电池包进行加热之后还包括：检测所述电池包温度，当所述电池包温度大于第五阈值时，断开所述慢充继电器和所述预充继电器，停止对所述电池包进行加热。8.根据权利要求7所述的一种电池包紧急加热方法，其特征在于，所述停止对所述电池包进行加热之后还包括：依次闭合慢充继电器、主负继电器和预充继电器，对所述电池包进行预充电，在对所述电池包进行预充电后，闭合主正继电器并断开预充继电器，对所述电池包进行充电。9.一种电池包紧急加热装置，其特征在于，包括：唤醒信号接收模块，用于接收唤醒信号，所述唤醒信号由车载充电机发送；预充电模块，所述预充电模块响应于所述唤醒信号，闭合第一继电器、第二继电器及第三继电器，所述车载充电机与所述第一继电器、所述第二继电器、所述第三继电器及电池加热器相连，对所述电池包进行预充电；电池包加热模块，所述电池包加热模块用于断开第三继电器，所述电池加热器对所述电池包进行加热。10.一种电池包紧急加热系统，其特征在于，包括：电池包、电池加热器及车载充电机；所述电池包包括动力电池系统、慢充继电器、预充继电器、主正继电器及主负继电器；所述动力电池系统使用如权利要求1-8任一项所述的方法，控制所述车载充电机及所述电池加热器给所述电池包加热。
说明书desc
技术领域本发明涉及电动汽车电池设计领域，尤其涉及对电动汽车用的动力电池包的紧急加热方法、装置及系统。背景技术电动汽车用的电池包在低温的环境下，会出现不能启动的情况，因此需要给电池包进行加热，当电池包温度到达工作温度后，才能正常工作。现有技术一般是使用电池加热器对电池包进行加热，但是目前市场上主流的电池加热器由于控制精度低，没有办法完全控制加热电流的大小，容易使加热电流超过控制的误差范围，如果不对电池加热器的工作状态进行有效控制，电池加热器在低温环境下工作就很有可能使动力电池包在加热过程中，有多余的电流给电池包充电或者放电，然而在低温环境下，动力电池包的充放电能力都很弱，电池包长期这样工作会极大的损坏动力电池包，导致电池包低温负极析锂或者导致电池低温过防，从而导致动力电池包不可逆转的损坏。发明内容鉴于现有技术中问题，本发明设计的动力电池包低温紧急加热方法能有效避免上述问题，在紧急加热状态下，动力电池系统在进入紧急加热状态后，会控制断开电池系统的主正继电器，仅仅闭合主负继电器，这样可以避免动力电池在紧急加热过程中被充电或者被动放电。在动力电池的温度达到适合充电的温度，则退出紧急加热流程，进入充电模式。一方面，本发明提供一种电池包紧急加热方法，包括：接收唤醒信号，所述唤醒信号由车载充电机发送；响应于所述唤醒信号，闭合第一继电器、第二继电器及第三继电器，所述车载充电机与所述第一继电器、所述第二继电器、所述第三继电器及电池加热器相连，对所述电池包进行预充电；断开第三继电器，所述电池加热器对所述电池包进行加热。优选地，所述第一继电器为慢充继电器，所述第二继电器为预充继电器，所述第三继电器为主负继电器，所述慢充继电器、所述预充继电器及所述主负继电器设置在所述电池包内，所述电池包还包括第四继电器，所述第四继电器为主正继电器，所述主正继电器在对所述电池包进行预充电及对所述电池包进行加热的过程中处于断开状态。具体地，所述对所述电池包进行加热还包括：当所述电池包温度及环境温度小于第一阈值，且当所述电池包的荷电状态小于第二阈值时，允许所述电池加热器对所述电池包进行加热。具体地，所述对所述电池包进行预充电还包括：设置所述电池包的端电压与所述车载充电机的充电电压的差值为第三阈值，并设置所述车载充电机的充电电流为额定电流。具体地，还包括：在对所述电池包进行加热后，若所述电池包温度不变或在设定时间内没有到达目标温度时，或所述电池包的端电压与所述车载充电机的充电电压的差值小于第三阈值时，或所述电池包的采样电流小于第四阈值，则断开所述慢充继电器，使所述电池加热器对所述电池包停止加热。具体地，所述响应于所述唤醒信号还包括：发送加热请求信号给整车控制器，所述整车控制器设置加热请求标志位，若所述加热请求标志位为1，则闭合所述慢充继电器、所述预充继电器及所述主负继电器，对所述电池包进行预充电后，断开所述主正继电器，并对所述电池包进行加热。具体地，所述对所述电池包进行加热之后还包括：检测所述电池包温度，当所述电池包温度大于第五阈值时，断开所述慢充继电器和所述预充继电器，停止对所述电池包进行加热。具体地，所述停止对所述电池包进行加热之后还包括：依次闭合慢充继电器、主负继电器和预充继电器，对所述电池包进行预充电，在对所述电池包进行预充电后，闭合主正继电器并断开预充继电器，对所述电池包进行充电。一方面，本发明还提供一种电池包紧急加热装置，包括：唤醒信号接收模块，用于接收唤醒信号，所述唤醒信号由车载充电机发送；预充电模块，所述预充电模块响应于所述唤醒信号，闭合第一继电器、第二继电器及第三继电器，所述车载充电机与所述第一继电器、所述第二继电器、所述第三继电器及电池加热器相连，对所述电池包进行预充电；电池包加热模块，所述电池包加热模块用于断开第三继电器，所述电池加热器对所述电池包进行加热。一方面，本发明还提供一种电池包紧急加热系统，包括：电池包、电池加热器及车载充电机；所述电池包包括动力电池系统、慢充继电器、预充继电器、主正继电器及主负继电器；所述动力电池系统使用如上述的方法，控制所述车载充电机及所述电池加热器给所述电池包加热。通过上述对电池包的紧急加热方法，可以在电池包电池电量和温度极低的状况下，使用外部充电电源作为电池加热器的加热电源，同时并不会对电池进行充电从而损坏电池包，起到保护电池包的作用并实现动力电池包在低温环境下的快速加热功能。附图说明图1为电池包紧急加热方法流程图；图2为电池包紧急加热系统框图；图3为电池包紧急加热方法整体流程图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”“第四”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。应当理解，在本发明的各种实施例中，各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。应当理解，在本发明中，“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。应当理解，在本发明中，“多个”是指两个或两个以上。“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。“包含A、B和C”、“包含A、B、C”是指A、B、C三者都包含，“包含A、B或C”是指包含A、B、C三者之一，“包含A、B和/或C”是指包含A、B、C三者中任1个或任2个或3个。应当理解，在本发明中，“与A对应的B”、“与A相对应的B”、“A与B相对应”或者“B与A相对应”，表示B与A相关联，根据A可以确定B。根据A确定B并不意味着仅仅根据A确定B，还可以根据A和/或其他信息确定B。A与B的匹配，是A与B的相似度大于或等于预设的阈值。取决于语境，如在此所使用的“若”可以被解释成为“在……时”或“当……时”或“响应于确定”或“响应于检测”。下面以具体地实施例对本发明的技术方案进行详细说明。下面这几个具体的实施例可以相互结合，对于相同或相似的概念或过程可能在某些实施例不再赘述。实施例一本实施例一提供一种电池包紧急加热方法，包括：接收唤醒信号，唤醒信号由车载充电机发送；响应于唤醒信号，闭合第一继电器、第二继电器及第三继电器，车载充电机与第一继电器、第二继电器、第三继电器及电池加热器相连，对电池包进行预充电；断开第三继电器，电池加热器对电池包进行加热。需要说明的是，上面的电池包紧急加热方法，是以动力电池系统为主体进行描述，在需要启动紧急加热流程时，车载充电机发送唤醒信号唤醒动力电池系统，动力电池系统根据接收到的唤醒信号，执行预充电流程，动力电池系统控制闭合第一继电器、第二继电器及第三继电器，这里的第一继电器为慢充继电器，第二继电器为预充继电器，第三继电器为主负继电器。如图2所示，车载充电机的正极通过慢充继电器及预充继电器连接到电极控制器/DC-DC的正极和电池加热器的正极，车载充电机的负极分别连接主负继电器、电极控制器/DC-DC及电池加热器的负极，形成充电回路进行电池包的预充电。在完成预充电过程后，就进行电池紧急加热流程，主负继电器断开，车载充电机、电池加热器、慢充继电器及预充继电器就构成电池包外部的高压工作回路，图2中的虚线箭头部分示出高压工作回路的走向，此时由车载充电机提供充电电源给电池加热器作为加热电源，电池加热器给电池包加热。另外，车载充电机回路和电池加热器回路都设计有保险，动力电池系统还可以通过控制及时断开车载充电机回路的慢充继电器，从而达到保护电池的目的，因此设计的紧急加热方案具有很高的安全性。具体地，第一继电器为慢充继电器，第二继电器为预充继电器，第三继电器为主负继电器，慢充继电器、预充继电器及主负继电器设置在电池包内，电池包还包括第四继电器，第四继电器为主正继电器，主正继电器在对电池包进行预充电及对电池包进行加热的过程中处于断开状态。需要说明的是，在电池包进行预充电及紧急加热的过程中，主正继电器一直处于断开状态，在完成预充电过程后，电池进入紧急加热流程，主负继电器也断开，车载充电机、电池加热器、慢充继电器及预充继电器就构成电池包外部的高压工作回路，此时由车载充电机提供充电电源给电池加热器作为加热电源，电池加热器给电池包加热。由于车载充电机的充电电压设置比动力电池的端电压低，而且主负继电器和主正继电器此时都处于断开状态，因此紧急加热过程，动力电池只会被加热，不会充电。这是因为考虑到温度极低的情况下，动力电池允许充电功率很低甚至不允许充电，因此优先考虑动力电池加热。通过上述对电池包的紧急加热方法，可以在电池包电池电量和温度极低的状况下，使用外部充电电源作为电池加热器的加热电源，同时并不会对电池进行充电从而损坏电池包，起到保护电池包的作用并实现动力电池包在低温环境下的快速加热功能。具体地，对电池包进行加热还包括：当电池包温度及环境温度小于第一阈值，且当电池包的荷电状态小于第二阈值时，允许电池加热器对电池包进行加热。需要说明的是，判断是否对电池包进行紧急加热，需要满足一定的条件，才对电池包进行紧急加热流程，动力电池系统会实时发送电池包温度、环境温度和电池包的荷电状态到CAN总线回路，电池包温度和环境温度由电池包的温度传感器获取。优选情况下，设定第一阈值为-20℃，设定第二阈值为3%，因此，在电池包温度＜-20℃，环境温度＜-20℃，电池包的荷电状态＜3%时，才对电池包进行紧急加热流程。具体地，对电池包进行预充电还包括：设置电池包的端电压与车载充电机的充电电压的差值为第三阈值，并设置车载充电机的充电电流为额定电流。需要说明的是，在上述已经说明完成预充电过程后，就进行电池紧急加热流程，主负继电器断开，车载充电机、电池加热器、慢充继电器及预充继电器就构成电池包外部的高压工作回路，此时由车载充电机提供充电电源给电池加热器作为加热电源，电池加热器给电池包加热。此时需要设置车载充电机的充电电压比动力电池的端电压低，而且主负继电器和主正继电器都处于断开状态，当进行紧急加热过程中，动力电池才只会被加热，不会充电。因此设置车载充电机的充电电压比动力电池的端电压低的方式是，需要设置电池包的端电压与车载充电机的充电电压的差值为第三阈值，并且需要设置车载充电机的充电电流为额定电流时，就可以实现电池包在进行紧急加热过程中，只会被加热而不会被充电，优选情况下，第三阈值设置为1.5V，额定电流为电路承受的最大电流值，这样，在电池包的端电压与车载充电机的充电电压的差值为1.5V，并且需要车载充电机的充电电流为最大电流时，就可以实现电池包在进行紧急加热过程中，只会被加热而不会被充电。具体地，还包括：在对电池包进行加热后，若电池包温度不变或在设定时间内没有到达目标温度时，或电池包的端电压与车载充电机的充电电压的差值小于第三阈值时，或电池包的采样电流小于第四阈值，则断开慢充继电器，使电池加热器对电池包停止加热。需要说明的是，在紧急加热过程中，动力电池系统为了保护电池，需要在一些情况下对电池包停止加热，而停止加热的方式是动力电池系统通过断开慢充继电器实现的，当动力电池系统检测到出现以下三种情况时，需要断开慢充继电器，对电池包停止加热，以保护电池包：1、当动力电池系统等待的时间超过30s，电池包的温度没有提升或者没有在设定的时间内达到目标的温度值时；2、当电池包的端电压与车载充电机的充电电压的差值小于1.5V即第三阈值，并且持续时间超过10s时；3、电池包内部设置有电流传感器，该电流传感器与主负继电器相连，当动力电池系统通过电池包内部的电流传感器检测到电池包的采样电流小于10A即第四阈值，并且持续时间超过10s时。当出现以上三种情况，动力电池系统主动切断慢充继电器，退出紧急加热流程。具体地，响应于唤醒信号还包括：发送加热请求信号给整车控制器，整车控制器设置加热请求标志位，若加热请求标志位为1，则闭合慢充继电器、预充继电器及主负继电器，对电池包进行预充电后，断开主正继电器，并对电池包进行加热。需要说明的是，动力电池系统接收唤醒信号后，会判断动力电池是否需要进入紧急加热流程，动力电池系统会把加热请求信号发送给整车控制器确认，当整车控制器接收到加热请求信号后，会把动力电池系统的加热请求标志位设置为1，代表此时进入紧急加热流程。由于整车控制器对整车的安全负责，因此需要整车控制器进行紧急加热流程的确认。具体地，对电池包进行加热之后还包括：检测电池包温度，当电池包温度大于第五阈值时，断开慢充继电器和预充继电器，停止对电池包进行加热。需要说明的是，当紧急加热流程已经对电池包的加热达到一定的温度，使电池包可以正常工作时，就可以停止对电池包进行加热，执行下电流程。优选地会设置第五阈值为-5℃，当电池包的温度传感器检测到电池包温度上升到-5℃后，动力电池系统就可以断开慢充继电器和预充继电器，退出紧急加热流程，执行下电流程。具体地，停止对电池包进行加热之后还包括：依次闭合慢充继电器、主负继电器和预充继电器，对电池包进行预充电，在对电池包进行预充电后，闭合主正继电器并断开预充继电器，对电池包进行充电。需要说明的是，在停止对电池包进行加热，并执行下电流程之后，转入对电池包进行充电流程，此时动力电池系统需要依次闭合慢充继电器、主负继电器和预充继电器，对电池包进行预充电，在对电池包进行预充电后，闭合主正继电器并断开预充继电器，对电池包进行正式充电。在判断紧急加热的过程中，如果发现了有前面所述的故障或者其他异常错误，都需要终止紧急加热过程，进入下点流程。而在检测到没有加热故障后，启动紧急加热，断开电池主正继电器，由车载充电机负责提供能源给电池加热器，给电池包加热，同时DC-DC工作的能量也来自于车载充电机。由于整个紧急加热过程电池的主正继电器都是断开的，因此动力电池既不能充电也不能放电，避免了动力电池过充和过放的风险。动力电池的最低温度＞-5℃后，即可退出紧急加热流程。图3是对电池紧急加热从判断是否需要对电池包进行紧急加热、异常情况的处理以及后续如何从紧急加热状态切换到正常充电状态的整体流程图，以下对该流程图进行说明。S1中，先对紧急加热请求标志位置0，对车载充电机的电压请求为最大允许充电电压，对车载充电机的电流请求为电池包的最大电流后。进入S2判断电池最低温度是否小于-20℃，若是则执行S3，若否返回S1。S3判断电池荷电状态是否小于3%，若是，则执行S4，若否返回S1。S4动力电池系统对加热请求标志位设置为1后执行S5。S5中判断整车控制器对动力电池系统加热请求是否置位为1，若是，则执行S6，若否返回S1。S6中把车载充电机电压设置为车载充电机电压=电池端电压-1.5V，请求车载充电机电流为最大值，闭合慢充继电器、主负继电器和预充继电器。S7中判断电池电压减去车载充电机电压是否小于等于1.5V，或判断动力电池系统采样电流是否小于10A且持续时间超过10S，或判断动力电池系统等待时间是否小于等于30S，若是，则执行S10，若否，执行S8。在S8中，判断是否需要退出到正常充电状态，若是则结束流程，若否则执行S9断开继电器，执行下电操作。在S10中，判断整车控制器是否请求继续加热或动力电池系统是否故障需要停止充电，若是，则执行S11。S11中，判断主正继电器外侧电压是否小于200V且持续时间大于10S，若是则执行S12，若否则执行S8。S12中，电池动力系统的主正继电器和主负继电器处于断开状态。S13中，判断电池包端电压是否小于等于车载充电机电压+20V，或U1-U2大于10V，且持续时间超过10s，若是，则执行S14，若否则执行S8。S14中，请求车载充电机充电电压=当前电池包电压-1.5 V，请求车载充电机电流为5A，等待充电机稳定时间1S，执行S15。S15中，请求断开主正继电器并执行S16。S16中，判断电池最低温度是否大于-5℃，若是则执行S17，若否则执行S21退出紧急加热流程。S17中，判断电池电压是否小于等于车载充电机电压加20V，U1-U2是否大于10V且持续时间超过10S，若是，则执行S18，闭合预充继电器和主负继电器后，执行S19。S19中，判断电池电压与车载充电机电压是否小于等于15V，动力电池系统的采样电流是否小于10A且持续时间10S，等待时间小于等于30S，若是，则执行S20闭合主正继电器，开始充电流程，若否则执行S9断开继电器并下电。S21中，退出紧急加热流程并结束。通过上述对电池包的紧急加热方法，可以在电池包电池电量和温度极低的状况下，使用外部充电电源作为电池加热器的加热电源，同时并不会对电池进行充电从而损坏电池包，起到保护电池包的作用并实现动力电池包在低温环境下的快速加热功能。实施例二本实施例二提供一种电池包紧急加热装置，包括：唤醒信号接收模块，用于接收唤醒信号，唤醒信号由车载充电机发送；预充电模块，预充电模块响应于唤醒信号，闭合第一继电器、第二继电器及第三继电器，车载充电机与第一继电器、第二继电器、第三继电器及电池加热器相连，对电池包进行预充电；电池包加热模块，电池包加热模块用于断开第三继电器，电池加热器对电池包进行加热。需要说明的是，在需要启动紧急加热流程时，车载充电机发送唤醒信号唤醒动力电池系统，动力电池系统根据接收到的唤醒信号，执行预充电流程，动力电池系统控制闭合第一继电器、第二继电器及第三继电器，这里的第一继电器为慢充继电器，第二继电器为预充继电器，第三继电器为主负继电器。如图2所示，车载充电机的正极通过慢充继电器及预充继电器连接到电极控制器/DC-DC的正极和电池加热器的正极，车载充电机的负极分别连接主负继电器、电极控制器/DC-DC及电池加热器的负极，形成充电回路进行电池包的预充电。在完成预充电过程后，就进行电池紧急加热流程，主负继电器断开，车载充电机、电池加热器、慢充继电器及预充继电器就构成电池包外部的高压工作回路，图2中的虚线箭头部分示出高压工作回路的走向，此时由车载充电机提供充电电源给电池加热器作为加热电源，电池加热器给电池包加热。另外，车载充电机回路和电池加热器回路都设计有保险，动力电池系统还可以通过控制及时断开车载充电机回路的慢充继电器，从而达到保护电池的目的，因此设计的紧急加热方案具有很高的安全性。具体地，第一继电器为慢充继电器，第二继电器为预充继电器，第三继电器为主负继电器，慢充继电器、预充继电器及主负继电器设置在电池包内，电池包还包括第四继电器，第四继电器为主正继电器，主正继电器在对电池包进行预充电及对电池包进行加热的过程中处于断开状态。需要说明的是，在电池包进行预充电及紧急加热的过程中，主正继电器一直处于断开状态，在完成预充电过程后，电池进入紧急加热流程，主负继电器也断开，车载充电机、电池加热器、慢充继电器及预充继电器就构成电池包外部的高压工作回路，此时由车载充电机提供充电电源给电池加热器作为加热电源，电池加热器给电池包加热。由于车载充电机的充电电压设置比动力电池的端电压低，而且主负继电器和主正继电器此时都处于断开状态，因此紧急加热过程，动力电池只会被加热，不会充电。这是因为考虑到温度极低的情况下，动力电池允许充电功率很低甚至不允许充电，因此优先考虑动力电池加热。通过上述对电池包的紧急加热方法，可以在电池包电池电量和温度极低的状况下，使用外部充电电源作为电池加热器的加热电源，同时并不会对电池进行充电从而损坏电池包，起到保护电池包的作用并实现动力电池包在低温环境下的快速加热功能。具体地，对电池包进行加热还包括：当电池包温度及环境温度小于第一阈值，且当电池包的荷电状态小于第二阈值时，允许电池加热器对电池包进行加热。需要说明的是，判断是否对电池包进行紧急加热，需要满足一定的条件，才对电池包进行紧急加热流程，动力电池系统会实时发送电池包温度、环境温度和电池包的荷电状态到CAN总线回路，电池包温度和环境温度由电池包的温度传感器获取。优选情况下，设定第一阈值为-20℃，设定第二阈值为3%，因此，在电池包温度＜-20℃，环境温度＜-20℃，电池包的荷电状态＜3%时，才对电池包进行紧急加热流程。具体地，对电池包进行预充电还包括：设置电池包的端电压与车载充电机的充电电压的差值为第三阈值，并设置车载充电机的充电电流为额定电流。需要说明的是，在上述已经说明完成预充电过程后，就进行电池紧急加热流程，主负继电器断开，车载充电机、电池加热器、慢充继电器及预充继电器就构成电池包外部的高压工作回路，此时由车载充电机提供充电电源给电池加热器作为加热电源，电池加热器给电池包加热。此时需要设置车载充电机的充电电压比动力电池的端电压低，而且主负继电器和主正继电器都处于断开状态，当进行紧急加热过程中，动力电池才只会被加热，不会充电。因此设置车载充电机的充电电压比动力电池的端电压低的方式是，需要设置电池包的端电压与车载充电机的充电电压的差值为第三阈值，并且需要设置车载充电机的充电电流为额定电流时，就可以实现电池包在进行紧急加热过程中，只会被加热而不会被充电，优选情况下，第三阈值设置为1.5V，额定电流为电路承受的最大电流值，这样，在电池包的端电压与车载充电机的充电电压的差值为1.5V，并且需要车载充电机的充电电流为最大电流时，就可以实现电池包在进行紧急加热过程中，只会被加热而不会被充电。具体地，还包括：在对电池包进行加热后，若电池包温度不变或在设定时间内没有到达目标温度时，或电池包的端电压与车载充电机的充电电压的差值小于第三阈值时，或电池包的采样电流小于第四阈值，则断开慢充继电器，使电池加热器对电池包停止加热。需要说明的是，在紧急加热过程中，动力电池系统为了保护电池，需要在一些情况下对电池包停止加热，而停止加热的方式是动力电池系统通过断开慢充继电器实现的，当动力电池系统检测到出现以下三种情况时，需要断开慢充继电器，对电池包停止加热，以保护电池包：1、当动力电池系统等待的时间超过30s，电池包的温度没有提升或者没有在设定的时间内达到目标的温度值时；2、当电池包的端电压与车载充电机的充电电压的差值小于1.5V即第三阈值，并且持续时间超过10s时；3、电池包内部设置有电流传感器，该电流传感器与主负继电器相连，当动力电池系统通过电池包内部的电流传感器检测到电池包的采样电流小于10A即第四阈值，并且持续时间超过10s时。当出现以上三种情况，动力电池系统主动切断慢充继电器，退出紧急加热流程。具体地，响应于唤醒信号还包括：发送加热请求信号给整车控制器，整车控制器设置加热请求标志位，若加热请求标志位为1，则闭合慢充继电器、预充继电器及主负继电器，对电池包进行预充电后，断开主正继电器，并对电池包进行加热。需要说明的是，动力电池系统接收唤醒信号后，会判断动力电池是否需要进入紧急加热流程，动力电池系统会把加热请求信号发送给整车控制器确认，当整车控制器接收到加热请求信号后，会把动力电池系统的加热请求标志位设置为1，代表此时进入紧急加热流程。由于整车控制器对整车的安全负责，因此需要整车控制器进行紧急加热流程的确认。具体地，对电池包进行加热之后还包括：检测电池包温度，当电池包温度大于第五阈值时，断开慢充继电器和预充继电器，停止对电池包进行加热。需要说明的是，当紧急加热流程已经对电池包的加热达到一定的温度，使电池包可以正常工作时，就可以停止对电池包进行加热，执行下电流程。优选地会设置第五阈值为-5℃，当电池包的温度传感器检测到电池包温度上升到-5℃后，动力电池系统就可以断开慢充继电器和预充继电器，退出紧急加热流程，执行下电流程。具体地，停止对电池包进行加热之后还包括：依次闭合慢充继电器、主负继电器和预充继电器，对电池包进行预充电，在对电池包进行预充电后，闭合主正继电器并断开预充继电器，对电池包进行充电。需要说明的是，在停止对电池包进行加热，并执行下电流程之后，转入对电池包进行充电流程，此时动力电池系统需要依次闭合慢充继电器、主负继电器和预充继电器，对电池包进行预充电，在对电池包进行预充电后，闭合主正继电器并断开预充继电器，对电池包进行正式充电。在判断紧急加热的过程中，如果发现了有前面所述的故障或者其他异常错误，都需要终止紧急加热过程，进入下点流程。而在检测到没有加热故障后，启动紧急加热，断开电池主正继电器，由车载充电机负责提供能源给电池加热器，给电池包加热，同时DC-DC工作的能量也来自于车载充电机。由于整个紧急加热过程电池的主正继电器都是断开的，因此动力电池既不能充电也不能放电，避免了动力电池过充和过放的风险。动力电池的最低温度＞-5℃后，即可退出紧急加热流程。通过上述对电池包的紧急加热方法，可以在电池包电池电量和温度极低的状况下，使用外部充电电源作为电池加热器的加热电源，同时并不会对电池进行充电从而损坏电池包，起到保护电池包的作用并实现动力电池包在低温环境下的快速加热功能。实施例三如图3所示，本实施例提供一种电池包紧急加热系统，包括：电池包、电池加热器及车载充电机；电池包包括动力电池系统、慢充继电器、预充继电器、主正继电器及主负继电器；动力电池系统使用实施例一的方法，控制车载充电机及电池加热器给电池包加热，在此不作累述。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围。
