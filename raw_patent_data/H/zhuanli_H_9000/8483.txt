标题title
模糊机会约束下的虚拟电厂优化调度方法
摘要abst
本发明公开了模糊机会约束下的虚拟电厂优化调度方法，通过建立虚拟电厂电源侧模型、虚拟电厂负荷侧模型，并利用场景生成与抽样方式处理不确定性，将单一场景下的概率函数优化问题转换为多场景下的确定性优化问题，并采用大M法处理模糊机会约束以得到确定性约束，最终建立虚拟电厂优化调度模型并求解，更能代表实际情况，具有较高的准确性、可靠性和有效性，得到的最优调度策略更具科学性、合理性。
权利要求书clms
1.模糊机会约束下的虚拟电厂优化调度方法，其特征在于，包括以下步骤：S1：根据电源侧的发电与储能的能量转换特征，建立相应的虚拟电厂电源侧模型；S2：根据负荷侧的运行特征及响应调节能力，建立虚拟电厂负荷侧模型；S3：根据不同场景的不确定性，通过场景生成与抽样方式，根据每个不确定参数的平均值和分布式机组的运行参数，确定每个场景的起点和终点，得到每个场景的发电出力情况；S4：构建虚拟电厂模糊机会约束，采用大M法处理模糊机会约束，通过引入置信度表征可被接纳的场景，将模糊机会约束转换为多场景优化调度中可被接受的确定性约束；S5：根据确定性约束、虚拟电厂电源侧模型和虚拟电厂负荷侧模型建立虚拟电厂优化调度模型，并求解该虚拟电厂优化调度模型，得到最优调度策略。2.根据权利要求1所述的模糊机会约束下的虚拟电厂优化调度方法，其特征在于，所述S1中，根据电源侧的发电与储能的能量转换特征，建立相应的虚拟电厂电源侧模型，包括：根据综合能源系统中电源侧的常规出力设备的能量转换特征建立各自的出力模型，其中出力模型包括光伏机组出力模型、风电机组出力模型、储能设备出力模型、热电联产机组出力模型、燃气锅炉设备出力模型。3.根据权利要求2所述的模糊机会约束下的虚拟电厂优化调度方法，其特征在于，所述光伏机组出力模型的建立步骤，包括：对于光伏机组，时间t场景s下的太阳能电池温度计算为：，公式中：为t时刻的环境温度；/＞为时间t场景s下的太阳辐射强度；/＞为太阳能电池板的额定工作温度；时间t场景s下的太阳能电池板工作电流计算为：，公式中：为太阳能电池板短路电流；/＞为电流温度系数；时间t场景s下的太阳能电池板工作电压计算为：，公式中： 为太阳能电池板开路电压；/＞为电压温度系数；光伏机组的输出功率表示为：，公式中：为光照强度/＞下光伏机组的出力；/＞为最大功率点电压；为最大功率点电流；/＞为太阳能电池板个数。4.根据权利要求2所述的模糊机会约束下的虚拟电厂优化调度方法，其特征在于，所述风电机组出力模型的建立步骤，包括：风电机组出力受到地理环境、气象条件、切入风速以及机组自身特性影响，时间t场景s下的风电机组出力计算为：；式中：表示为风速 /＞下的风电机组发电出力； /＞为风电机组的数量；为风电机组的额定功率； /＞为时间t场景s下的风速；/＞， /＞，/＞ 分别为切入风速、额定风速和切出风速。5.根据权利要求1所述的模糊机会约束下的虚拟电厂优化调度方法，其特征在于，所述S2中，虚拟电厂负荷侧模型，包括：空调负荷最大响应充电功率模型、空调负荷最大响应放电功率模型和柔性热负荷模型。6.根据权利要求1所述的模糊机会约束下的虚拟电厂优化调度方法，其特征在于，所述S3中，根据不同场景的不确定性，通过场景生成与抽样方式，根据每个不确定参数的平均值和分布式机组的运行参数，确定每个场景的起点和终点，得到每个场景的发电出力情况，包括：利用Weibull分布函数构建风速的概率密度函数，利用Beta分布函数构建太阳辐射强度的概率密度函数；通过场景生成与抽样方式，根据每个不确定参数的平均值和分布式机组的运行参数，确定每个场景的起点和终点，得到每个场景的风电机组与光伏机组发电出力情况，其中每个场景的发生概率表示为：；式中：x为涉及的多种不确定参数，包括风速、光照强度、市场价格以及负荷需求；，/＞ 和/＞分别是不确定参数x的起点、终点和场景发生概率；/＞为每个时间段x的概率密度函数；为了精确建模，定义为不确定参数的区间，其中每个区间包含不确定参数 每个场景的范围，则组合场景集CS表示为：；；/＞式中： 表示场景数；计算每小时每个不确定参数的数量，时间t场景s下的不确定参数数量计算为：；式中：，/＞和/＞分别是x的平均值曲线以及最大/小平均值；/＞为场景s中x的间隔长度；通过上述步骤将单一场景下的概率函数优化问题转换为多场景下的确定性优化问题。7.根据权利要求1所述的模糊机会约束下的虚拟电厂优化调度方法，其特征在于，所述S4，构建虚拟电厂模糊机会约束，采用大M法处理模糊机会约束，通过引入置信度表征可被接纳的场景，将模糊机会约束转换为多场景优化调度中可被接受的确定性约束，包括：对于风力发电、光伏发电的消纳，受到当前负荷水平与线路拥挤程度的制约，该约束要求在所有场景下的风电场和光伏发电站出力不高于其装机容量，风力发电与光伏发电的消纳约束如下：；；其中， 表示场景s中t时刻下机组p的实际风力消纳量，/＞表示场景s中t时刻下机组p的实际光伏消纳量，/＞表示为风速/＞下的风电机组发电出力， /＞为光照强度/＞下光伏机组的出力；在全部场景 中，存在部分极端场景，使得约束无法被满足，引入模糊机会约束，在极端场景中能以一定概率舍弃约束，机会约束要求其中的两条约束以 的置信概率同时满足运行要求保证在全场景情况中优化问题可解，风力发电与光伏发电消纳的模糊机会约束为：；式中，表示出力概率分布函数，/＞表示机会约束风险水平，/＞ 即为置信度；通过大M法将模糊机会约束转换为确定性约束，如下所示：；；；/＞式中，表示采样场景的集合，/＞为场景数量， /＞和 /＞均为常数， /＞为表征是否考虑场景s的二进制变量，当机会约束中至少有一条约束无法满足要求时，/＞取值为1以忽略该场景；其余情况 取值为0。8.根据权利要求1所述的模糊机会约束下的虚拟电厂优化调度方法，其特征在于，所述S5中，根据确定性约束、虚拟电厂电源侧模型和虚拟电厂负荷侧模型建立虚拟电厂优化调度模型，包括：以虚拟电厂运行成本最低为目标，目标函数为：；式中，为天然气热值-成本系数， /＞为热电联产机组输出电功率， /＞为燃气锅炉输入热功率， /＞为热电联产机组发电效率， /＞为燃气锅炉发热效率；F表示虚拟电厂总运行成本；s表示单一场景；S表示全体场景集合；t表示单一调度时段；T表示调度时段内总时段数；考虑电功率与热功率的平衡约束：；；式中，为电负荷需求，/＞为热负荷需求；/＞为t时刻下光伏机组的光伏消纳量； /＞为t时刻下风电机组的风电消纳量； /＞为t时刻下热电联产机组的发电功率；为t时刻下全体充放电资源的放电功率； /＞为t时刻下全体充放电资源的充电功率；为t时刻下热电联产机组的发热功率； /＞为t时刻下燃气锅炉机组的发热功率。9.一种电子设备，其特征在于，包括存储器和处理器，所述存储器中存储有计算机程序，所述处理器调用所述存储器中的计算机程序时实现如权利要求1至8中任意一项所述的模糊机会约束下的虚拟电厂优化调度方法的步骤。10.一种存储介质，其特征在于，所述存储介质中存储有计算机可执行指令，所述计算机可执行指令被处理器加载并执行时，实现如权利要求1至8中任意一项所述的模糊机会约束下的虚拟电厂优化调度方法的步骤。
说明书desc
技术领域本发明涉及调度数据处理领域，特别涉及模糊机会约束下的虚拟电厂优化调度方法。背景技术虚拟电厂指由能量管理系统和其所控制的小型和微型分布式能源资源组成的一类集成性电厂，其包含的分布式能源可以是分布式发电机组、分布式储能设备，也可以是分布在众多需求侧用户中的需求响应资源。虚拟电厂通过先进的信息通讯技术可实现分布式电源、储能系统、可控负荷、电动汽车等多资源的聚合和优化，在提高系统运营商和其他市场参与者经济性的同时提升综合能源系统的可靠性。但现有的研究大多针对于虚拟电厂模型构建，未考虑分布式电源出力以及用户的用能行为的高度不确定性，忽略这些不确定性将影响虚拟电厂调度的有效性。另外，即使考虑了概率约束条件，但概率约束条件本身难以用于优化调度问题中，因此目前尚未有成熟的方案。因此，研究考虑源荷与用户意愿不确定性下的虚拟电厂最优调度策略对于提升系统经济性与可靠性具有重要意义。发明内容针对现有技术在判断过程中忽略不确定性因素或对于不确定性因素的处理方式不合理，导致最终结果有效性较差的问题，本发明提供了模糊机会约束下的虚拟电厂优化调度方法，利用场景生成与抽样方式处理不确定性，将单一场景下的概率函数优化问题转换为多场景下的确定性优化问题，并采用大M法处理模糊机会约束以得到确定性约束，最终建立虚拟电厂优化调度模型并求解，更能代表实际情况，具有较高的准确性、可靠性和有效性。以下是本发明的技术方案。模糊机会约束下的虚拟电厂优化调度方法，包括以下步骤：S1：根据电源侧的发电与储能的能量转换特征，建立相应的虚拟电厂电源侧模型；S2：根据负荷侧的运行特征及响应调节能力，建立虚拟电厂负荷侧模型；S3：根据不同场景的不确定性，通过场景生成与抽样方式，根据每个不确定参数的平均值和分布式机组的运行参数，确定每个场景的起点和终点，得到每个场景的发电出力情况；S4：构建虚拟电厂模糊机会约束，采用大M法处理模糊机会约束，通过引入置信度表征可被接纳的场景，将模糊机会约束转换为多场景优化调度中可被接受的确定性约束；S5：根据确定性约束、虚拟电厂电源侧模型和虚拟电厂负荷侧模型建立虚拟电厂优化调度模型，并求解该虚拟电厂优化调度模型，得到最优调度策略。本发明考虑了发电与储能的能量转换特征、负荷侧的运行特征及响应调节能力来建立对应的模型，通过场景生成与抽样方式将单一场景下的概率函数优化问题转换为多场景下的确定性优化问题，能够较好地处理不确定性因素，使得最终得到的虚拟电厂优化调度模型在求解后具有更为准确的结果。作为优选，所述S1中，根据电源侧的发电与储能的能量转换特征，建立相应的虚拟电厂电源侧模型，包括：根据综合能源系统中电源侧的常规出力设备的能量转换特征建立各自的出力模型，其中出力模型包括光伏机组出力模型、风电机组出力模型、储能设备出力模型、热电联产机组出力模型、燃气锅炉设备出力模型。作为优选，所述光伏机组出力模型的建立步骤，包括：对于光伏机组，时间 场景 下的太阳能电池温度计算为：；公式中： 为t时刻的环境温度； /＞为时间t场景s下的太阳辐射强度； 为太阳能电池板的额定工作温度；时间t场景s下的太阳能电池板工作电流计算为：；公式中：为太阳能电池板短路电流； /＞为电流温度系数；时间t场景s下的太阳能电池板工作电压计算为：；公式中： 为太阳能电池板开路电压； /＞为电压温度系数；光伏机组的输出功率表示为：；公式中： 为光照强度 /＞下光伏机组的出力； /＞为最大功率点电压；/＞为最大功率点电流；/＞为太阳能电池板个数。作为优选，所述风电机组出力模型的建立步骤，包括：风电机组出力受到地理环境、气象条件、切入风速以及机组自身特性影响，时间t场景s下的风电机组出力计算为：；式中：表示为风速/＞下的风电机组发电出力； /＞为风电机组的数量； /＞为风电机组的额定功率； /＞为时间t场景s下的风速；/＞，/＞， /＞分别为切入风速、额定风速和切出风速。作为优选，虚拟电厂负荷侧模型，包括：空调负荷最大响应充电功率模型、空调负荷最大响应放电功率模型和柔性热负荷模型。作为优选，所述S3中，根据不同场景的不确定性，通过场景生成与抽样方式，根据每个不确定参数的平均值和分布式机组的运行参数，确定每个场景的起点和终点，得到每个场景的发电出力情况，包括：利用Weibull分布函数构建风速的概率密度函数，利用Beta分布函数构建太阳辐射强度的概率密度函数；通过场景生成与抽样方式，根据每个不确定参数的平均值和分布式机组的运行参数，确定每个场景的起点和终点，得到每个场景的风电机组与光伏机组发电出力情况，其中每个场景的发生概率表示为：；式中：x为涉及的多种不确定参数，包括风速、光照强度、市场价格以及负荷需求；和 /＞分别是不确定参数x的起点、终点和场景发生概率； /＞为每个时间段x的概率密度函数；为了精确建模，定义为不确定参数的区间，其中每个区间包含不确定参数x每个场景的范围，则组合场景集CS表示为：；；式中： 表示场景数；计算每小时每个不确定参数的数量，时间 场景 下的不确定参数数量计算为：；式中：，/＞和/＞分别是x的平均值曲线以及最大/小平均值；/＞为场景s中x的间隔长度；通过上述步骤将单一场景下的概率函数优化问题转换为多场景下的确定性优化问题。作为优选，所述S4，构建虚拟电厂模糊机会约束，采用大M法处理模糊机会约束，通过引入置信度表征可被接纳的场景，将模糊机会约束转换为多场景优化调度中可被接受的确定性约束，包括：对于风力发电、光伏发电的消纳，受到当前负荷水平与线路拥挤程度的制约，该约束要求在所有场景下的风电场和光伏发电站出力不高于其装机容量，风力发电与光伏发电的消纳约束如下：；；其中， 表示场景s中t时刻下机组p的实际风力消纳量， /＞表示场景s中t时刻下机组p的实际光伏消纳量，/＞表示为风速 /＞下的风电机组发电出力，为光照强度 /＞下光伏机组的出力；在全部场景s中，存在部分极端场景，使得约束无法被满足，引入模糊机会约束，在极端场景中能以一定概率舍弃约束，机会约束要求其中的两条约束以 的置信概率同时满足运行要求保证在全场景情况中优化问题可解，风力发电与光伏发电消纳的模糊机会约束为：；式中， 表示出力概率分布函数，/＞表示机会约束风险水平， /＞即为置信度；通过大M法将模糊机会约束转换为确定性约束，如下所示：；/＞；；式中，表示采样场景的集合， /＞为场景数量， /＞和 /＞均为常数， /＞为表征是否考虑场景s的二进制变量，当机会约束中至少有一条约束无法满足要求时， /＞取值为1以忽略该场景；其余情况/＞取值为0。作为优选，所述S5中，根据确定性约束、虚拟电厂电源侧模型和虚拟电厂负荷侧模型建立虚拟电厂优化调度模型，包括：以虚拟电厂运行成本最低为目标，目标函数为：；式中， 为天然气热值-成本系数， /＞为热电联产机组输出电功率， /＞为燃气锅炉输入热功率， /＞为热电联产机组发电效率， /＞为燃气锅炉发热效率；F表示虚拟电厂总运行成本；s表示单一场景；S表示全体场景集合；t表示单一调度时段；T表示调度时段内总时段数；考虑电功率与热功率的平衡约束：；；式中，为电负荷需求， /＞为热负荷需求； /＞为t时刻下光伏机组的光伏消纳量； /＞为t时刻下风电机组的风电消纳量； /＞为t时刻下热电联产机组的发电功率； /＞为t时刻下全体充放电资源的放电功率；/＞为t时刻下全体充放电资源的充电功率； /＞为t时刻下热电联产机组的发热功率；/＞为t时刻下燃气锅炉机组的发热功率。一种电子设备，包括存储器和处理器，所述存储器中存储有计算机程序，所述处理器调用所述存储器中的计算机程序时实现上述的模糊机会约束下的虚拟电厂优化调度方法的步骤。一种存储介质，所述存储介质中存储有计算机可执行指令，所述计算机可执行指令被处理器加载并执行时，实现上述的模糊机会约束下的虚拟电厂优化调度方法的步骤。本发明的实质性效果包括：充分考虑了风力发电、光伏发电、热电联产机组、燃气锅炉以及电储能等综合能源系统典型设备，并建立相关的模型，描述不同设备能量转换过程。考虑多场景下的风力发电、光伏发电情况，通过计算每个不确定参数历史数据的平均值和标准偏差值建立其概率模型，抽样后得到多场景下的风力与光伏出力情况，构建虚拟电厂模糊机会约束。之后，结合上述建立的模糊机会约束与概率模型，确定场景数后，通过引入置信度表征可被接受的场景，采用大M法处理模糊机会约束，将模型转换为确定性模型。最后，结合处理得到的多个确定性模型与包含源荷约束的虚拟电厂模型，得到考虑源荷与用户意愿不确定性的虚拟电厂优化调度模型，求解该模型，最终得到的最优调度策略更具合理性、科学性。附图说明图1是本发明实施例的流程图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合实施例，对本技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应当理解，在本发明的各种实施例中，各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。应当理解，在本发明中，“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。应当理解，在本发明中，“多个”是指两个或两个以上。“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。“包含A、B和C”、“包含A、B、C”是指A、B、C三者都包含，“包含A、B或C”是指包含A、B、C三者之一，“包含A、B和/或C”是指包含A、B、C三者中任1个或任2个或3个。下面以具体的实施例对本发明的技术方案进行详细说明。实施例可以相互结合，对于相同或相似的概念或过程可能在某些实施例不再赘述。实施例模糊机会约束下的虚拟电厂优化调度方法，如图1所示，包括以下步骤：S1：根据电源侧的发电与储能的能量转换特征，建立相应的虚拟电厂电源侧模型。包括：根据综合能源系统中电源侧的常规出力设备的能量转换特征建立各自的出力模型，其中出力模型包括光伏机组出力模型、风电机组出力模型、储能设备出力模型、热电联产机组出力模型、燃气锅炉设备出力模型。其中，光伏机组出力模型的建立步骤，包括：对于光伏机组，时间t场景s下的太阳能电池温度计算为：；公式中： 为 /＞时刻的环境温度； /＞为时间/＞场景/＞下的太阳辐射强度；为太阳能电池板的额定工作温度；时间 场景 /＞下的太阳能电池板工作电流计算为：；公式中：为太阳能电池板短路电流；/＞ 为电流温度系数；时间场景/＞下的太阳能电池板工作电压计算为：；公式中： 为太阳能电池板开路电压； /＞为电压温度系数；光伏机组的输出功率表示为：；公式中： 为光照强度 /＞下光伏机组的出力； /＞为最大功率点电压； /＞为最大功率点电流；/＞为太阳能电池板个数。其中，风电机组出力模型的建立步骤，包括：风电机组出力受到地理环境、气象条件、切入风速以及机组自身特性影响，时间t场景s下的风电机组出力计算为：；式中：表示为风速 /＞下的风电机组发电出力； /＞为风电机组的数量；/＞为风电机组的额定功率；/＞为时间/＞场景/＞下的风速； /＞，/＞ ，/＞分别为切入风速、额定风速和切出风速。其中，储能设备出力模型的建立步骤，包括：；公式中：为时间/＞储能设备的荷电状态；/＞为t-1时刻储能设备的荷电状态； /＞为储能设备的充电功率； /＞为储能设备的放电功率；/＞，/＞分别为充电与放电效率；其中，初始和最终荷电状态为：；；上式中： 为储能设备的初始荷电状态； /＞为储能设备的初始能量水平；/＞为储能设备的最终荷电状态； /＞为储能设备的最终能量水平；储能设备的充电和放电不能同时发生，即：；上式中： 为0-1变量，表示充电状态，/＞为“0”表示储能设备非充电状态，为“1”表示储能设备充电状态； /＞为0-1变量，表示放电状态， /＞为“0”表示储能设备非放电状态，为“1”表示储能设备放电状态。其中，热电联产机组出力模型的建立步骤，包括：；；其中：和/＞分别是CHP的发电效率和供热效率；/＞表示在/＞时刻热电联产机组CHP的发电功率；/＞表示在/＞时刻热电联产机组CHP的发热功率；/＞表示在/＞时刻热电联产机组CHP的消耗天然气功率；其中，燃气锅炉设备出力模型的建立步骤，包括：燃气锅炉可将气能转化为热能，本发明构建的燃气锅炉设备出力模型表达如下：；公式中： 为燃气锅炉的供热效率；/＞表示在/＞时刻热气锅炉GB的消耗天然气功率；/＞表示在/＞时刻燃气锅炉GB的发热功率。S2：根据负荷侧的运行特征及响应调节能力，建立虚拟电厂负荷侧模型。其中虚拟电厂负荷侧模型，包括：空调负荷最大响应充电功率模型、空调负荷最大响应放电功率模型和柔性热负荷模型。使用空调制冷以达到理想环境温度时，人体对预想的理想环境温度有一定的接受范围，即允许环境温度在理想环境温度的一定范围内波动，人体温度舒适度的范围可以由同一环境中大多数人冷热感觉的预测平均投票数指标来确定：；公式中： 、 /＞分别为人体舒适度对温度接受范围的下限和上限； /＞为同一环境中大多数人冷热感觉的预测平均投票数指标。空调负荷聚合商和智慧小区等服务商响应调度指令，对空调负荷进行增加或削减。以供冷期为例，假设短时间内空调与建筑的热量保持平衡，当室外温度恒定时，空调消耗的电功率为：；公式中： 为室外温度； /＞为室内设定温度； /＞为空调能效比系数； /＞为空调–建筑系统等效热阻。调控时段内空调负荷最大响应充电量可以由空调在调控时段内的额定功率工作时间、不工作时间、维持人体对温度接受范围极限值的工作时间和维持人体舒适温度的工作时间这4个时段内的耗电量表示，调控时段内空调负荷最大响应充电功率可由耗电量表示：；；；；公式中： 为空调负荷最大响应充电功率； /＞为空调额定功率； /＞为空调维持人体可接受最冷室内温度的功率； /＞为空调维持人体最舒适温度的功率； /＞为调控时段；/＞为空调以额定功率运行的时间；/＞为空调维持人体可接受最冷室内温度的工作时间；/＞为空调-建筑系统的等效热阻；/＞为空调-建筑系统的等效热容；/＞为人体最舒适温度；/＞为室外温度；/＞为空调负荷效率；/＞为空调负荷最大响应功率；/＞为人体舒适度对温度接受范围的下限；/＞为空调停止运行时间。在一定假设条件下，调控时段内空调负荷最大响应放电量也可以由空调在调控时段内的额定功率工作时间、不工作时间、维持人体对温度接受范围极限值的工作时间和维持人体舒适温度的工作时间这4个时段内的耗电量表示：；；；；公式中：为空调负荷最大响应放电功率；/＞为空调维持人体最舒适温度的功率；/＞为空调维持人体可接受最热室内温度的功率；/＞为空调停止运行的时间；/＞为空调维持人体可接受最热室内温度的工作时间；/＞为空调以额定功率工作的时间； /＞为调控时段；/＞为空调-建筑系统的等效热阻； /＞为空调-建筑系统的等效热容； /＞为人体最舒适温度；/＞为室外温度；/＞为空调负荷效率；/＞为空调负荷最大响应功率；/＞为人体舒适度对温度接受范围的上限。则空调负荷在供冷期各调控时段的最大响应放电功率和最大响应充电功率可表示为：；公式中：为可响应的空调台数； /＞为空调负荷响应功率；/＞为在/＞时刻单个空调负荷可响应的最小充电功率；/＞为在/＞时刻单个空调负荷可响应的最大放电功率。在供暖期利用供热管道进行供暖时，由于人们对温度感知具有模糊性，可以将室温控制在人体可接受的温度范围内进行供暖，在保持室温在一定范围内的条件下达到柔性供热的效果。柔性热负荷的模型可以表示为：；公式中： 为供热功率； /＞为供热面积； /＞为单位供热面积的热容，取； /＞为建筑物内外温差散热系数，取/＞，/＞为/＞时刻的室内温度；/＞为/＞时刻的室内温度；/＞表示在/＞时刻室外温度。在日内调度阶段，每个时段系统对下一时段的热负荷大小可以实现较为精确的预测，可以在获得精确的热负荷大小后调整柔性供冷区域的下一个调控时段的柔性供冷功率，从而获得下一时段的柔性冷负荷响应充热量或响应放热量。柔性热负荷的响应充热功率或放热功率表现为供热功率高于或低于实际需求供热功率；；公式中：表示柔性热负荷的响应功率； /＞为柔性热负荷原需求值；为实际柔性热负荷供热功率。S3：根据不同场景的不确定性，通过场景生成与抽样方式，根据每个不确定参数的平均值和分布式机组的运行参数，确定每个场景的起点和终点，得到每个场景的发电出力情况，包括：利用Weibull分布函数构建风速的概率密度函数，利用Beta分布函数构建太阳辐射强度的概率密度函数；由于不确定参数具有无限的不可数范围，本实施例将每个不确定参数的定义空间划分为具有特定权重的可数有限场景，从而生成每个不确定参数的概率密度场景列表。本实施例分别选择Weibull分布和Beta分布来计算风速和太阳辐射的概率密度函数。风速的Weibull分布函数表示为：；其中：；；式中： 为特征参数；/＞为规模参数。Weibull风速分布与Beta太阳辐射分布为典型的概率约束条件，难以用于优化调度问题中，因此可通过场景生成与抽样方式，根据每个不确定参数的平均值和分布式机组的运行参数，确定每个场景的起点和终点，得到每个场景的风力与光伏机组发电出力情况，将单一场景下的概率函数优化问题转换为多场景下的确定性优化问题。每个场景的发生概率可表示为：；式中： 为涉及的多种不确定参数，包括风速、光照强度、市场价格以及负荷需求；/＞，/＞ 和 /＞分别是不确定参数/＞的起点、终点和场景发生概率； /＞为每个时间段/＞的概率密度函数；/＞为了精确建模，定义为不确定参数的区间，其中每个区间包含不确定参数/＞每个场景的范围，则组合场景集CS表示为：；；式中： 表示场景数；计算每小时每个不确定参数的数量，时间场景/＞下的不确定参数数量计算为：；式中：，/＞和/＞分别是/＞的平均值曲线以及最大/小平均值；为场景/＞中/＞的间隔长度；通过上述步骤将单一场景下的概率函数优化问题转换为多场景下的确定性优化问题。S4：构建虚拟电厂模糊机会约束，采用大M法处理模糊机会约束，通过引入置信度表征可被接纳的场景，将模糊机会约束转换为多场景优化调度中可被接受的确定性约束，包括：对于风力发电、光伏发电的消纳，受到当前负荷水平与线路拥挤程度的制约，该约束要求在所有场景下的风电场和光伏发电站出力不高于其装机容量，风力发电与光伏发电的消纳约束如下：；；其中，表示场景/＞中/＞时刻下机组/＞的实际风力消纳量，/＞表示场景/＞中时刻下机组/＞的实际光伏消纳量，/＞表示为风速/＞下的风电机组发电出力，为光照强度/＞下光伏机组的出力；在全部场景中，存在部分极端场景，使得约束无法被满足，引入模糊机会约束，在极端场景中能以一定概率舍弃约束，机会约束要求其中的两条约束以/＞的置信概率同时满足运行要求保证在全场景情况中优化问题可解，风力发电与光伏发电消纳的模糊机会约束为：/＞；式中，表示出力概率分布函数，/＞表示机会约束风险水平，/＞即为置信度；通过大M法将模糊机会约束转换为确定性约束，如下所示：；；；式中，表示采样场景的集合，/＞为场景数量，/＞和/＞均为常数，/＞为表征是否考虑场景/＞的二进制变量，当机会约束中至少有一条约束无法满足要求时，/＞取值为1以忽略该场景；其余情况/＞取值为0。通过采用大M法将模糊机会约束转换为确定性约束，考虑了部分风电与光伏发电出力的极端场景，将存在的部分极端场景以的机会约束风险水平舍弃，剩余的场景以/＞的置信度保留，构建了全场景下的确定性约束。S5：根据确定性约束、虚拟电厂电源侧模型和虚拟电厂负荷侧模型建立虚拟电厂优化调度模型，并求解该虚拟电厂优化调度模型，得到最优调度策略，包括：以虚拟电厂运行成本最低为目标，目标函数为：；式中，为天然气热值-成本系数，/＞为热电联产机组输出电功率，/＞为燃气锅炉输入热功率，/＞为热电联产机组发电效率，/＞为燃气锅炉发热效率；/＞表示虚拟电厂总运行成本；/＞表示单一场景；/＞表示全体场景集合；/＞表示单一调度时段；/＞表示调度时段内总时段数；考虑电功率与热功率的平衡约束：；；式中，为电负荷需求，/＞为热负荷需求；/＞为/＞时刻下光伏机组的光伏消纳量；/＞为/＞时刻下风电机组的风电消纳量；/＞为/＞时刻下热电联产机组的发电功率；/＞为/＞时刻下全体充放电资源的放电功率；/＞为/＞时刻下全体充放电资源的充电功率；/＞为/＞时刻下热电联产机组的发热功率；/＞为/＞时刻下燃气锅炉机组的发热功率。其中，本实施例采用商业求解器求解该虚拟电厂优化调度模型，得到最优调度策略。本实施例还包括一种电子设备，包括存储器和处理器，所述存储器中存储有计算机程序，所述处理器调用所述存储器中的计算机程序时实现上述的模糊机会约束下的虚拟电厂优化调度方法的步骤。本实施例还包括一种存储介质，所述存储介质中存储有计算机可执行指令，所述计算机可执行指令被处理器加载并执行时，实现上述的模糊机会约束下的虚拟电厂优化调度方法的步骤。本实施例在电热综合能源系统背景下，考虑虚拟电厂，能够显著提高系统中灵活资源的利用率，将多种电源侧的分布式资源与负荷侧的需求响应资源整合起来，为常规电热综合能源系统提供更大的可调度资源，减少常规电热综合能源系统中供能机组的运行成本。本实施例同时考虑源荷与用户的用能行为不确定性对综合能源调度带来的影响，通过对风力发电、光伏发电的不确定特点进行建模，对用户的用能意愿以及用能特点进行建模，然后采用模糊机会约束方法将不确定的优化问题转换为确定性优化问题，最终以虚拟电厂预期收益为目标进行优化。综上所述，本实施例考虑了发电与储能的能量转换特征、负荷侧的运行特征及响应调节能力来建立对应的模型，通过场景生成与抽样方式将单一场景下的概率函数优化问题转换为多场景下的确定性优化问题，能够较好地处理不确定性因素，使得最终得到的虚拟电厂优化调度模型在求解后具有更为准确的结果。通过以上实施方式的描述，所属领域的技术人员可以了解到，为描述的方便和简洁，仅以上述各功能模块的划分进行举例说明，实际应用中可以根据需要而将上述功能分配由不同的功能模块完成，即将具体装置的内部结构划分成不同的功能模块，以完成以上描述的全部或者部分功能。在本申请所提供的实施例中，应该理解到，所揭露的结构和方法，可以通过其它的方式实现。例如，以上所描述的关于结构的实施例仅仅是示意性的，例如，模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个结构，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，结构或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是一个物理单元或多个物理单元，即可以位于一个地方，或者也可以分布到多个不同地方。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个可读取存储介质中。基于这样的理解，本申请实施例的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该软件产品存储在一个存储介质中，包括若干指令用以使得一个设备或处理器执行本申请各个实施例方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上内容，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以权利要求的保护范围为准。
