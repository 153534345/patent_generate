标题title
一种提升射频功率检波器检波范围和精度的装置和方法
摘要abst
本发明公开了一种提升射频功率检波器检波范围和精度的装置和方法，包括耦合器、开关放大衰减组、射频放大器、射频功率检波器以及数字处理器；耦合器、开关放大衰减组、射频放大器、射频功率检波器以及数字处理器依次串行连接；开关放大衰减组包括至少一条放大通路和至少一条衰减通路；在放大通路和衰减通路的输入和输出端均连接有开关；本发明通过开关放大衰减组和数字处理器的设置，自动调整检测点到射频功率检波器之间链路的准确增益或插损，使进入到射频功率检波器的信号功率在射频功率检波器高精度检测范围内，有效地提高了射频功率检波器的检波范围和精度。
权利要求书clms
1.一种提升射频功率检波器检波范围和精度的装置，其特征在于：包括耦合器、开关放大衰减组、射频放大器、射频功率检波器以及数字处理器；所述耦合器、开关放大衰减组、射频放大器、射频功率检波器以及数字处理器依次串行连接;所述开关放大衰减组包括至少一条放大通路和至少一条衰减通路；在所述放大通路和衰减通路的输入和输出端均连接有开关。2.根据权利要求1所述的一种提升射频功率检波器检波范围和精度的装置，其特征在于：所述放大通路包括至少一个放大器；所述衰减通路包括至少一个衰减器。3.根据权利要求1所述的一种提升射频功率检波器检波范围和精度的装置，其特征在于： 所述开关放大衰减组还包括一条直通路。4.根据权利要求2所述的一种提升射频功率检波器检波范围和精度的装置，其特征在于： 所述放大通路设置有两条，所述衰减通路设置有两条；其中，第一放大通路包括一个放大器，第二放大通路包括两个串联的放大器；第一衰减通路包括一个衰减器，第二衰减通路包括两个串联的衰减器。5.根据权利要求4所述的一种提升射频功率检波器检波范围和精度的装置，其特征在于：所述开关采用射频6选1开关；两条所述衰减通路、两条所述放大通路以及一条所述直通路一一对应连接射频6选1开关两侧的五个接线端，剩余的一个接线端接地设置。6.根据权利要求1所述的一种提升射频功率检波器检波范围和精度的装置，其特征在于：所述数字处理器中预设有所述射频功率检波器适用的电压范围阈值。7.一种提升射频功率检波器检波范围和精度的方法，其特征在于：通过使用权利要求1至权利要求6任一项所述的装置对射频进行检测，其中，射频检波步骤包括：步骤1、射频功率检波器对放大后的射频信号进行幅度调制，将射频信号转化为电压信号输出给数字处理器进行读取，数字处理器通过射频功率检波器的输出电压反推算出射频功率值；步骤2、若数字处理器读出射频功率检波器的输出电压值没在预设的电压范围阈值内，则切换所述开关放大衰减组的通路，调整增益大小，直到数字处理器读出的电压在预设的电压范围阈值之内。8.根据权利要求7所述的一种提升射频功率检波器检波范围和精度的方法，其特征在于：所述步骤2的具体子步骤包括：步骤2.1、使用数字处理器读取射频功率检波器的输出电压；步骤2.2、如果数字处理器读出的电压值没在预设的电压范围阈值之内，则切换开关放大衰减组的放大通路或衰减通路；步骤2.3、数字处理器重新读取，直到数字处理器读出的电压值在预设的电压范围阈值内；步骤2.4、根据该电压值和此时开关放大衰减组通路的增益，数字处理器计算并输出准确的射频信号实际功率值。9.根据权利要求8所述的一种提升射频功率检波器检波范围和精度的方法，其特征在于：所述步骤2.4中数字处理器计算射频信号实际功率值所使用的计算公式为：S= dBm-dB；其中，S为射频输入信号的实际功率值，dBm为数字处理器计算出的射频功率值，dB为射频输入信号到射频功率检波器之间链路的增益。10.根据权利要求9所述的一种提升射频功率检波器检波范围和精度的方法，其特征在于：所述射频输入信号到射频功率检波器之间链路的增益，是通过数字处理器检测当前开关放大衰减组所切换到的链路增益数据得到的，具体检测步骤为：数字处理器读取当前开关放大衰减组中开关所在的档位；数字处理器根据当前开关所在的档位查询对应链路的增益数值；将查询到的增益数值作为射频输入信号到射频功率检波器之间链路的增益参数，并进行输出。
说明书desc
技术领域本发明涉及通讯技术领域，具体涉及一种提升射频功率检波器检波范围和精度的装置和方法。背景技术射频功率检波器能够将已调制的高频振荡中恢复出原来的调制信号，就是将幅度调制波中的边带信号不失真地从载波频率附近搬移到零频率附近，检测射频信号的频率大小； 现有的射频功率检波器往往只在一定的输入功率范围内才有较高的精度，对此范围之外的过大的或者过小的信号检波精度较差；当输入信号功率过大或者过小时，射频功率检波器并不能准确的检测出信号的功率，有较大的误差，无法满足实际使用过程中对精度的要求，因此，我们研制出了一种提升射频功率检波器检波范围和精度的装置和方法。发明内容本发明的目的在于克服现有技术的不足，提供一种提升射频功率检波器检波范围和精度的装置和方法，拟解决当输入信号功率过大或者过小时，射频功率检波器并不能准确的检测出信号的功率，有较大的误差，实际使用过程中无法满足高精度检测需求的问题。本发明的目的是通过以下技术方案来实现的： 一种提升射频功率检波器检波范围和精度的装置，其特征在于：包括耦合器、开关放大衰减组、射频放大器、射频功率检波器以及数字处理器；耦合器、开关放大衰减组、射频放大器、射频功率检波器以及数字处理器依次串行连接；所述开关放大衰减组包括至少一条放大通路和至少一条衰减通路；在所述放大通路和衰减通路的输入和输出端均连接有开关。本发明所提出的上述方案，通过开关放大衰减组和数字处理器的设置，自动调整检测点到射频功率检波器之间链路的准确增益或插损，使进入到射频功率检波器的信号功率在射频功率检波器高精度检测范围内，有效地提高了射频功率检波器的检波范围和精度，解决了当输入信号功率过大或者过小时，射频功率检波器并不能准确的检测出信号的功率，有较大的误差，实际使用过程中无法满足高精度检测需求的问题。优选的，所述放大通路包括至少一个放大器；所述衰减通路包括至少一个衰减器。优选的，所述开关放大衰减组还包括一条直通路。优选的，所述放大通路设置有两条，所述衰减通路设置有两条；其中，第一放大通路包括一个放大器，第二放大通路包括两个串联的放大器；第一衰减通路包括一个衰减器，第二衰减通路包括两个串联的衰减器。优选的，所述开关采用射频6选1开关；两条所述衰减通路、两条所述放大通路以及一条所述直通路一一对应连接射频6选1开关两侧的五个接线端，剩余的一个接线端接地设置。优选的，所述数字处理器中预设有所述射频功率检波器适用的电压范围阈值。优选的，通过上述任一项所述的装置对射频进行检测，其中，射频检波步骤包括：步骤1、射频功率检波器对放大后的射频信号进行幅度调制，将射频信号转化为电压信号输出给数字处理器进行读取，数字处理器通过检波器的输出电压反推算出射频功率值；步骤2、若数字处理器读出射频功率检波器的输出电压值没在预设的电压范围阈值内，则切换所述开关放大衰减组的通路，调整增益大小，直到数字处理器读出的电压在预设的电压范围阈值之内。优选的，所述步骤2的具体子步骤包括：步骤2.1、使用数字处理器读取射频功率检波器的输出电压；步骤2.2、如果数字处理器读出的电压值没在预设的电压范围阈值之内，则切换开关放大衰减组的放大通路或衰减通路；步骤2.3、数字处理器重新读取，直到数字处理器读出的电压值在预设的电压范围阈值内；步骤2.4、根据该电压值和此时开关放大衰减组通路的增益，数字处理器计算并输出准确的射频信号实际功率值。优选的，所述步骤2.4中数字处理器计算射频信号实际功率值所使用的计算公式为：S= dBm-dB；其中，S为射频输入信号的实际功率值，dBm为数字处理器计算出的射频功率值，dB为射频输入信号到射频功率检波器之间链路的增益。优选的，所述射频输入信号到射频功率检波器之间链路的增益，是通过数字处理器检测当前开关放大衰减组所切换到的链路增益数据得到的，具体检测步骤为：数字处理器读取当前开关放大衰减组中开关所在的档位；数字处理器根据当前开关所在的档位查询对应链路的增益数值；将查询到的增益数值作为射频输入信号到射频功率检波器之间链路的增益参数，并进行输出。本发明的有益效果是： 通过本发明所提供的技术方案，可以使用开关放大衰减组和数字处理器自动调整射频输入信号到射频功率检波器之间链路的增益大小，使射频功率检波器检测的输入信号在其高精度检测范围之间，以达到提升射频功率检波器检波范围和精度的目的。附图说明图1为一种提升射频功率检波器检波范围和精度的装置的原理示意图；图2为ADL5513款射频功率检波器输入电压与误差关系图；图3为数字处理器的处理流程图；图4为信号功率大小为-40dBm～-20dBm时，射频功率检波器的信号流向示意图；图5为信号功率大小为-60dBm～-40dBm时，射频功率检波器的信号流向示意图；图6为信号功率大小为-80dBm～-60dBm时，射频功率检波器的信号流向示意图；图7为信号功率大小为-20dBm～0dBm时，射频功率检波器的信号流向示意图；图8为信号功率大小为0dBm～20dBm时，射频功率检波器的信号流向示意图。具体实施方式下面结合附图进一步详细描述本发明的技术方案，但本发明的保护范围不局限于以下所述。为了使本发明的目的，技术方案及优点更加清楚明白，结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明，即所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明的是，术语“第一”和“第二”等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”，“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程，方法，物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程，方法，物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程，方法，物品或者设备中还存在另外的相同要素。如图1所示，本申请提出一种提升射频功率检波器检波范围和精度的装置，通过本装置可以将输入功率在-40dBm到-20dBm之间的射频功率检波器的检波范围扩大到-80dBm～20dBm的动态范围，同时功率检测误差≤±0.25dB。所述的装置包括依次串行连接的耦合器、开关放大衰减组、射频放大器、射频功率检波器以及数字处理器；耦合器接收射频输入信号；开关放大衰减组调整射频输入信号到射频功率检波器之间的链路的增益大小，得到在射频功率检波器高精度检测范围内的信号功率；射频放大器调整整体链路的增益大小，并补偿耦合器的损耗；射频功率检波器对放大后的射频信号进行幅度调制，将射频信号转化为电压信号输出给数字处理器进行读取，数字处理器通过检波器的输出电压反推算出射频功率值，并检测射频输入信号到射频功率检波器之间的链路的增益参数。作为本实施例中的一种可能的实施方式，所述开关放大衰减组包括两条放大通路、两条衰减通路和一条直通路；所述直通路、放大通路以及衰减通路的输入端和输出端均连接有与各线路相对应的开关。其中，第一放大通路包括一个放大器，第二放大通路包括两个串联的放大器；第一衰减通路包括一个衰减器，第二衰减通路包括两个串联的衰减器。开关采用射频6选1开关，两条所述衰减通路、两条所述放大通路以及一条所述直通路一一对应连接射频6选1开关两侧的五个接线端，剩余的一个接线端接地设置。数字处理器中预设有射频功率检波器适用的电压范围阈值。本申请还提出一种提升射频功率检波器检波范围和精度的方法，所述方法基于前述检测装置对射频进行检测；其中，所述射频检波步骤包括：步骤1、射频功率检波器对放大后的射频信号进行幅度调制，将射频信号转化为电压信号输出给数字处理器进行读取，数字处理器通过检波器的输出电压反推算出射频功率值；步骤2、若数字处理器读出射频功率检波器的输出电压值没在预设的电压范围阈值内，则切换所述开关放大衰减组的通路，调整增益大小，直到数字处理器读出的电压在预设的电压范围阈值之内。步骤2的具体子步骤包括：步骤2.1、使用数字处理器读取射频功率检波器的输出电压；步骤2.2、如果数字处理器读出的电压值没在预设的电压范围阈值之内，则切换开关放大衰减组的放大通路或衰减通路；步骤2.3、数字处理器重新读取，直到数字处理器读出的电压值在预设的电压范围阈值内；步骤2.4、根据该电压值和此时开关放大衰减组通路的增益，数字处理器计算并输出准确的射频信号实际功率值。所述步骤2.4中数字处理器计算射频信号实际功率值所使用的计算公式为：S=dBm-dB；其中，S为射频输入信号的实际功率值，dBm为数字处理器计算出的射频功率值，dB为射频输入信号到射频功率检波器之间链路的增益。所述射频输入信号到射频功率检波器之间链路的增益，是通过数字处理器检测当前开关放大衰减组所切换到的链路增益数据得到的，具体检测步骤为：数字处理器读取当前开关放大衰减组中开关所在的档位；数字处理器根据当前开关所在的档位查询对应链路的增益数值；将查询到的增益数值作为射频输入信号到射频功率检波器之间链路的增益参数，并进行输出。在现有技术下，以使用ADL5513这款对数射频功率检波器检测频率为100MHz的射频信号为例，耦合器选择在100MHz处耦合度为18dB的耦合器，放大器选择在100MHz处增益为20dB，输出1dB压缩点≥20dBm的放大器，开关选用射频6选1开关，数字处理器选用数字处理器芯片；射频功率检波器的输出电压与误差的如图2所示：当输入功率在-40dBm到-20dBm之间时，ADL5513的检测误差非常小，误差≤±0.25dB，我们认为当输入进ADL5513的射频信号的功率在-40dBm到-20dBm之间时，检出的功率值是准确的。现有的射频功率检波器在使用过程中，其检测范围不能满足日常使用需求，因此，对现有射频功率检波器进行了改进，增加了开关放大衰减组，提供了基于所改进装置的射频检波步骤：数字处理器读取当前开关放大衰减组中开关所在的档位；数字处理器根据当前开关所在的档位查询对应链路的增益数值；将查询到的增益数值作为射频输入信号到射频功率检波器之间链路的增益参数，并进行输出。如图3所示，为本申请中数字处理器的处理流程图，以ADL5513这款对数射频功率检波器为例，当输入信号功率在-40dBm～-20dBm时，输出的电压范围在+1.0V～+1.4V，当输入信号功率在-40dBm～-20dBm的范围之外时，输出的电压范围也在+1.0V～+1.4V的范围之外，我们认为当数字处理器检测到的电压在+1.0V～+1.4V的范围之外时，开关放大衰减组的信号通路没有切换正确；基于此，进行了如下具体步骤：数字处理器检测射频功率检波器输出的电压，如果检测到的电压小于+1.0V，数字处理器切换开关放大衰减组到第一放大通路，第一放大通路包括一个放大器；数字处理器再次检测射频功率检波器输出的电压，如果检测到的电压仍小于+1.0V，数字处理器继续切换开关放大衰减组到第二放大通路，第二放大通路包括两个放大器；同样的，数字处理器检测到射频功率检波器输出电压值大于+1.4V时，数字处理器切换开关放大衰减组到第一衰减通路，第一衰减通路包括一个衰减器；数字处理器再次检测射频功率检波器输出的电压，如果检测到的电压仍大于+1.4V，数字处理器切换开关放大衰减组到第二衰减通路，第二衰减通路包括两个衰减器；重复此操作，数字处理器检测到的输出电压值若仍不符合+1.0V～+1.4V的范围之内，依次切换到具有更多放大器的放大通路或具有更多衰减器的衰减通路。以下结合实施例对本发明的特征和性能作进一步的详细描述：如图4所示，信号功率大小为-40dBm～-20dBm时，开关放大衰减组切换到直通通路，此时各级输出功率如表1所示：表 1：信号功率大小为-40dBm～-20dBm时链路组成及各级输出功率由表1所示，此时进入到射频功率检波器的信号功率为-40dBm～-20dBm，链路整体增益为0dB,此时的实际功率值=射频功率检波器检测到的功率值+0dBm。如图5所示，信号功率大小为-60dBm～-40dBm时，开关放大衰减组切换到第一放大通路，此时各级输出功率如表2所示：表 2 ：信号功率大小为-60dBm～-40dBm时链路组成及各级输出功率由表2所示，此时进入到射频功率检波器的信号功率为-40dBm～-20dBm，链路整体增益为20dB,此时的实际功率值=射频功率检波器检测到的功率值-20dBm。如图6所示，信号功率大小为-80dBm～-60dBm时，开关放大衰减组切换到第二放大通路，此时各级输出功率如表3所示：表 3：信号功率大小为-80dBm～-60dBm时链路组成及各级输出功率/＞由表3所示，此时进入到射频功率检波器的信号功率为-40dBm～-20dBm，链路整体增益为40dB,此时的实际功率值=射频功率检波器检测到的功率值-40dBm。如图7所示，信号功率大小为-20dBm～0dBm时，开关放大衰减组切换到第一衰减通路，此时各级输出功率如表4所示：表 4：信号功率大小为-20dBm～0dBm时链路组成及各级输出功率由表4所示，此时进入到射频功率检波器的信号功率为-40dBm～-20dBm，链路整体增益为-20dB，此时的实际功率值=射频功率检波器检测到的功率值+20dBm。如图8所示，信号功率大小为0dBm～20dBm时，开关放大衰减组切换到第二衰减通路，此时各级输出功率如表5所示：表 5：信号功率大小为0dBm～20dBm时链路组成及各级输出功率由表5所示，此时进入到射频功检波器的信号功率为-40dBm～-20dBm，链路整体增益为-40dB，此时的实际功率值=射频功率检波器检测到的功率值+40dBm。通过以上的仿真和分析，该方法在使用的射频功率检波器ADL5513的基础上，可以实现-80dBm～20dBm的动态范围，功率检测误差≤±0.25dB。本实施例仅作为解释说明，并不对具体所述功率参数作固定取值，根据此原理可知，对于任意一款射频功率检波器，假设当输入功率在P1dBm～P2dBm之间时，这款射频功率检波器有极高的检测精度；可使用该方法自动调整检测点到射频功率检波器之间的开关放大衰减组，使在P1dBm～P2dBm之外的信号自动变到P1dBm～P2dBm之间，再通过计算得到实际的检测值，以实现提升射频功率检波器的检波范围和精度的目的。以上所述仅是本发明的优选实施方式，应当理解本发明并非局限于本文所披露的形式，不应看作是对其他实施例的排除，而可用于各种其他组合、修改和环境，并能够在本文所述构想范围内，通过上述教导或相关领域的技术或知识进行改动。而本领域人员所进行的改动和变化不脱离本发明的精神和范围，则都应在本发明所附权利要求的保护范围内。
