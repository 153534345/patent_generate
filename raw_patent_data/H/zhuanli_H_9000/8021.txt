标题title
一种电力需量控制方法及装置、电子设备、存储介质
摘要abst
本申请提供了一种电力需量控制方法及装置、电子设备、存储介质，所述方法包括：确定当前时刻的当前最大需量限值；若当前时刻处于当前需量周期的切换时间点前，则计算下一时刻的用户侧负荷预测值；对比下一时刻的用户侧负荷预测值是否大于当前最大需量限值；若大于，则将当前最大需量限值减去下一时刻的用户侧负荷预测值的差值确定为下一时刻的目标功率；在当前时刻处于切换时间点后时，计算当前需量周期中至当前时刻的当前平均功率；对比当前平均功率是否大于当前最大需量限值；若大于，则将当前最大需量限值减去当前平均功率的差值与当前需量周期的当前控制次数的乘积确定为下一时刻的目标功率；基于下一时刻的目标功率对储能系统进行控制。
权利要求书clms
1.一种电力需量控制方法，其特征在于，包括：确定当前时刻的当前最大需量限值；若所述当前时刻处于当前需量周期的切换时间点前，则计算所述下一时刻的用户侧负荷预测值；对比所述下一时刻的用户侧负荷预测值是否大于当前最大需量限值；若对比出所述下一时刻的用户侧负荷预测值大于所述当前最大需量限值，则将所述当前最大需量限值减去所述下一时刻的用户侧负荷预测值的差值确定为所述下一时刻的目标功率；在所述当前时刻处于所述当前需量周期的切换时间点后时，计算所述当前需量周期的起始时刻至所述当前时刻的平均功率，得到当前平均功率；对比所述当前平均功率是否大于所述当前最大需量限值；若对比出所述当前平均功率大于所述当前最大需量限值，则将所述当前最大需量限值减去所述当前平均功率的差值与所述当前需量周期的当前控制次数的乘积确定为所述下一时刻的目标功率；基于所述下一时刻的目标功率对所述储能系统进行控制。2.根据权利要求1所述的方法，其特征在于，所述确定当前时刻的当前最大需量限值，包括：获取当月起始时刻至所述当前时刻的当月实际最大需量以及预先设定的当月最大需量设定值；将所述当月实际最大需量与所述当月最大需量设定值中的较大值，乘以需量控制系数，得到所述当前时刻的当前最大需量限值。3.根据权利要求1所述的方法，其特征在于，所述计算所述下一时刻的用户侧负荷预测值，包括：利用自回归移动平均模型计算所述下一时刻的瞬时功率预测值；计算所述下一时刻的瞬时功率预测值与所述当前时刻前的指定时间范围内的各个时刻的瞬时功率预测值的平均值，得到所述下一时刻的用户侧负荷预测值。4.根据权利要求1所述的方法，其特征在于，所述基于所述下一时刻的目标功率对所述储能系统进行控制，包括：若所述储能系统当前处于充电状态，则按照所述下一时刻的目标功率降低所述储能系统的充电功率；若所述储能系统当前处于静置状态或放电状态，则按照所述下一时刻的目标功率对所述储能系统进行放电。5.根据权利要求1所述的方法，其特征在于，还包括：若对比出所述下一时刻的用户侧负荷预测值不大于所述当前最大需量限值，或对比出所述当前平均功率不大于所述当前最大需量限值，则检测所述储能系统的当前状态；若所述储能系统当前处于充电状态，则在满足目标约束条件下，增大所述储能系统的充电深度；其中，所述目标约束条件为在所述当前需量周期的切换时间点前，关口表需量不高于所述当前最大需量限值，在所述当前需量周期的切换时间点后，关口表的平均功率不高于所述当前最大需量限值；若所述储能系统当前处于静置状态，则以满足所述目标预设条件的充电深度为所述储能系统进行充电；若所述储能系统当前处于放电状态，则在满足所述目标预设条件下，对所述储能系统执行任意一个目标操作；其中，所述目标操作包括降低放电深度、改为静置状态或改为充电状态。6.一种电力需量控制装置，其特征在于，包括：限值确定单元，用于确定当前时刻的当前最大需量限值；预测单元，用于在所述当前时刻处于当前需量周期的切换时间点前时，计算所述下一时刻的用户侧负荷预测值；第一对比单元，用于对比所述下一时刻的用户侧负荷预测值是否大于当前最大需量限值；第一功率确定单元，用于在对比出所述下一时刻的用户侧负荷预测值大于所述当前最大需量限值时，将所述当前最大需量限值减去所述下一时刻的用户侧负荷预测值的差值确定为所述下一时刻的目标功率；功率计算单元，用于在所述当前时刻处于所述当前需量周期的切换时间点后时，计算所述当前需量周期的起始时刻至所述当前时刻的平均功率，得到当前平均功率；第二对比单元，用于对比所述当前平均功率是否大于所述当前最大需量限值；第二功率确定单元，用于在对比出所述当前平均功率大于所述当前最大需量限值时，将所述当前最大需量限值减去所述当前平均功率的差值与所述当前需量周期的当前控制次数的乘积确定为所述下一时刻的目标功率；控制单元，用于基于所述下一时刻的目标功率对所述储能系统进行控制。7.根据权利要求6所述的装置，其特征在于，所述限值确定单元，包括：需量数据获取单元，用于获取当月起始时刻至所述当前时刻的当月实际最大需量以及预先设定的当月最大需量设定值；限制计算单元，用于将所述当月实际最大需量与所述当月最大需量设定值中的较大值，乘以需量控制系数，得到所述当前时刻的当前最大需量限值。8.根据权利要求6所述的装置，其特征在于，所述预测单元，包括：第一计算单元，用于利用自回归移动平均模型计算所述下一时刻的瞬时功率预测值；第二计算单元，用于计算所述下一时刻的瞬时功率预测值与所述当前时刻前的指定时间范围内的各个时刻的瞬时功率预测值的平均值，得到所述下一时刻的用户侧负荷预测值。9.一种电子设备，其特征在于，包括：存储器和处理器；其中，所述存储器用于存储程序；所述处理器用于执行所述程序，所述程序被执行时，具体用于实现如权利要求1至5任意一项所述的电力需量控制方法。10.一种计算机存储介质，其特征在于，用于存储计算机程序，所述计算机程序被执行时，用于实现如权利要求1至5任意一项所述的电力需量控制方法。
说明书desc
技术领域本申请涉及电力指标控制技术领域，特别涉及一种电力需量控制方法及装置、电子设备、存储介质。背景技术在两部制电价模式下，用电费用由电度电费以及基本电费两个部分组成。而基本电费可以按照当月最大需量进行计算，因此为了能降低费用，需要对最大需量进行有效的控制。当前对于最大需量的控制主要采用两者方式，一种是通过实时需量进行控制，即计算前面一段时间的平均功率，然后基于该平均功率对后面一段时间的需量进行控制。另一种方式则是通过预测某一个时刻的瞬间需量预测时来进行控制。但是采用第一种方式，容易出现需量超限，而在需量超限后，再去控制也已失效。而对于通过预测值进行控制的方法，其对预测算法的要求比较高，所以一直进行预测，难免会出现预测误差较大的情况，因此也会导致控制识别的可能。因此可见现有的控制方法无法有效保证控制的准确性。发明内容基于上述现有技术的不足，本申请提供了一种电力需量控制方法及装置、电子设备、存储介质，以解决现有技术无法有效保证控制的准确性的问题。为了实现上述目的，本申请提供了以下技术方案：本申请第一方面提供了一种电力需量控制方法，包括：确定当前时刻的当前最大需量限值；若所述当前时刻处于当前需量周期的切换时间点前，则计算所述下一时刻的用户侧负荷预测值；对比所述下一时刻的用户侧负荷预测值是否大于当前最大需量限值；若对比出所述下一时刻的用户侧负荷预测值大于所述当前最大需量限值，则将所述当前最大需量限值减去所述下一时刻的用户侧负荷预测值的差值确定为所述下一时刻的目标功率；在所述当前时刻处于所述当前需量周期的切换时间点后时，计算所述当前需量周期的起始时刻至所述当前时刻的平均功率，得到当前平均功率；对比所述当前平均功率是否大于所述当前最大需量限值；若对比出所述当前平均功率大于所述当前最大需量限值，则将所述当前最大需量限值减去所述当前平均功率的差值与所述当前需量周期的当前控制次数的乘积确定为所述下一时刻的目标功率；基于所述下一时刻的目标功率对所述储能系统进行控制。可选地，在上述的电力需量控制方法中，所述确定当前时刻的当前最大需量限值，包括：获取当月起始时刻至所述当前时刻的当月实际最大需量以及预先设定的当月最大需量设定值；将所述当月实际最大需量与所述当月最大需量设定值中的较大值，乘以需量控制系数，得到所述当前时刻的当前最大需量限值。可选地，在上述的电力需量控制方法中，所述计算所述下一时刻的用户侧负荷预测值，包括：利用自回归移动平均模型计算所述下一时刻的瞬时功率预测值；计算所述下一时刻的瞬时功率预测值与所述当前时刻前的指定时间范围内的各个时刻的瞬时功率预测值的平均值，得到所述下一时刻的用户侧负荷预测值。可选地，在上述的电力需量控制方法中，所述基于所述下一时刻的目标功率对所述储能系统进行控制，包括：若所述储能系统当前处于充电状态，则按照所述下一时刻的目标功率降低所述储能系统的充电功率；若所述储能系统当前处于静置状态或放电状态，则按照所述下一时刻的目标功率对所述储能系统进行放电。可选地，在上述的电力需量控制方法中，还包括：若对比出所述下一时刻的用户侧负荷预测值不大于所述当前最大需量限值，或对比出所述当前平均功率不大于所述当前最大需量限值，则检测所述储能系统的当前状态；若所述储能系统当前处于充电状态，则在满足目标约束条件下，增大所述储能系统的充电深度；其中，所述目标约束条件为在所述当前需量周期的切换时间点前，关口表需量不高于所述当前最大需量限值，在所述当前需量周期的切换时间点后，关口表的平均功率不高于所述当前最大需量限值；若所述储能系统当前处于静置状态，则以满足所述目标预设条件的充电深度为所述储能系统进行充电；若所述储能系统当前处于放电状态，则在满足所述目标预设条件下，对所述储能系统执行任意一个目标操作；其中，所述目标操作包括降低放电深度、改为静置状态或改为充电状态。本申请第二方面提供了一种电力需量控制装置，包括：限值确定单元，用于确定当前时刻的当前最大需量限值；预测单元，用于在所述当前时刻处于当前需量周期的切换时间点前时，计算所述下一时刻的用户侧负荷预测值；第一对比单元，用于对比所述下一时刻的用户侧负荷预测值是否大于当前最大需量限值；第一功率确定单元，用于在对比出所述下一时刻的用户侧负荷预测值大于所述当前最大需量限值时，将所述当前最大需量限值减去所述下一时刻的用户侧负荷预测值的差值确定为所述下一时刻的目标功率；功率计算单元，用于在所述当前时刻处于所述当前需量周期的切换时间点后时，计算所述当前需量周期的起始时刻至所述当前时刻的平均功率，得到当前平均功率；第二对比单元，用于对比所述当前平均功率是否大于所述当前最大需量限值；第二功率确定单元，用于在对比出所述当前平均功率大于所述当前最大需量限值时，将所述当前最大需量限值减去所述当前平均功率的差值与所述当前需量周期的当前控制次数的乘积确定为所述下一时刻的目标功率；控制单元，用于基于所述下一时刻的目标功率对所述储能系统进行控制。可选地，在上述的电力需量控制装置中，所述限值确定单元，包括：需量数据获取单元，用于获取当月起始时刻至所述当前时刻的当月实际最大需量以及预先设定的当月最大需量设定值；限制计算单元，用于将所述当月实际最大需量与所述当月最大需量设定值中的较大值，乘以需量控制系数，得到所述当前时刻的当前最大需量限值。可选地，在上述的电力需量控制装置中，所述预测单元，包括：第一计算单元，用于利用自回归移动平均模型计算所述下一时刻的瞬时功率预测值；第二计算单元，用于计算所述下一时刻的瞬时功率预测值与所述当前时刻前的指定时间范围内的各个时刻的瞬时功率预测值的平均值，得到所述下一时刻的用户侧负荷预测值。可选地，在上述的电力需量控制装置中，所述控制单元，包括：第一控制子单元，用于若所述储能系统当前处于充电状态，则按照所述下一时刻的目标功率降低所述储能系统的充电功率；第二控制子单元，用于若所述储能系统当前处于静置状态或放电状态，则按照所述下一时刻的目标功率对所述储能系统进行放电。可选地，在上述的电力需量控制装置中，还包括：检测单元，用于若对比出所述下一时刻的用户侧负荷预测值不大于所述当前最大需量限值，或对比出所述当前平均功率不大于所述当前最大需量限值时，检测所述储能系统的当前状态；提升单元，用于在检测出所述储能系统当前处于充电状态时，则在满足目标约束条件下，增大所述储能系统的充电深度；其中，所述目标约束条件为在所述当前需量周期的切换时间点前，关口表需量不高于所述当前最大需量限值，在所述当前需量周期的切换时间点后，关口表的平均功率不高于所述当前最大需量限值；充电单元，用于在检测出所述储能系统当前处于静置状态时，则以满足所述目标预设条件的充电深度为所述储能系统进行充电；更改单元，用于在检测出所述储能系统当前处于放电状态，则在满足所述目标预设条件下，对所述储能系统执行任意一个目标操作；其中，所述目标操作包括降低放电深度、改为静置状态或改为充电状态。本申请第三方面提供了一种电子设备，包括：存储器和处理器；其中，所述存储器用于存储程序；所述处理器用于执行所述程序，所述程序被执行时，具体用于实现如上述任意一项所述的电力需量控制方法。本申请第四方面提供了一种计算机存储介质，用于存储计算机程序，所述计算机程序被执行时，用于实现如上述任意一项所述的电力需量控制方法。本申请提供了一种电力需量控制方法，确定当前时刻的当前最大需量限值。然后，在当前时刻处于当前需量周期的切换时间点前，则计算下一时刻的用户侧负荷预测值，并对比下一时刻的用户侧负荷预测值是否大于当前最大需量限值。若对比出下一时刻的用户侧负荷预测值大于当前最大需量限值，则将当前最大需量限值减去下一时刻的用户侧负荷预测值的差值确定为下一时刻的目标功率。在当前时刻处于当前需量周期的切换时间点后时，计算当前需量周期的起始时刻至当前时刻的平均功率，得到当前平均功率，并对比当前平均功率是否大于当前最大需量限值。若对比出当前平均功率大于当前最大需量限值，则将当前最大需量限值减去当前平均功率的差值与当前需量周期的当前控制次数的乘积确定为下一时刻的目标功率。最后基于下一时刻的目标功率对储能系统进行控制。从而通过切换时间点，将一个控制周期划分为两个阶段，第一阶段基于预测值进行控制，第二个节点则基于平均功率进行控制，从而避免一直基于预测值进行控制，且在平均功率计算精确度满足要求时，基于平均功率进行控制，进而有效保证的控制的准确性。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本申请实施例提供的一种电力需量控制方法的流程图；图2为本申请实施例提供的一种确定当前时刻的当前最大需量限值的方法的流程图；图3为本申请实施例提供的一种计算下一时刻的用户侧负荷预测值的方法的流程图；图4为本申请实施例提供的一种电力需量控制装置的架构示意图；图5为本申请实施例提供的一种电子设备的架构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。在本申请中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。本申请实施例提供了一种电力需量控制方法，如图1所示，包括以下步骤：S101、确定当前时刻的当前最大需量限值。需要说明的是，对于配电系统的电力需量的控制主要是控制配电系统的功率不大于最大需量限值。而在本申请中，最大需量限值是并不是固定不变的，所以需要在每次进行控制时，先确定当前时刻的当前最大需量限值，以基于该当前最大需量限值确定出下一时刻的控制量。其中，当前时刻的当前最大需量限值，也可以基于采集到的相关数据确定。而为了实现本申请实施例提供的方法，可以实时采集关口表、用户总负荷表、储能电表以及储能PCS系统的实时数据，以便于后续计算相关的数据。可选地，在本申请实施例中，步骤S101的一种具体实施方式，如图2所示，包括：S201、获取当月起始时刻至当前时刻的当月实际最大需量以及预先设定的当月最大需量设定值。其中，当月实际最大需量指的是从当月起始时刻至当前时刻，所记录的实际需量中出现的最大实际需量。S202、将当月实际最大需量与当月最大需量设定值中的较大值，乘以需量控制系数，得到当前时刻的当前最大需量限值。为了能保证需求，所以选取出当月实际最大需量与当月最大需量设定值中的较大值，然后再将其选取出的值乘以需量控制系数，表面最大需量限值过大，也能使其可以满足控制要求。S102、判断当前时刻是否处于当前需量周期的切换时间点前。需要说明的是，对于关口表需量的计量是按照周期进行的，所以在本申请实施例中，对于配电系统的需量的控制也是按照周期进行的。即当前需量周期与关口表需量的计量周期相一致。通常，关口表序列的计量周期为15分钟。并且，在本申请实施例中，对于一个需量周期分为两个阶段进行控制，第一个阶段基于用户侧负荷预测值进行控制，而第二阶段则基于平均功率进行控制。而第一阶段和第二节点则需要通过设定的切换时间点进行划分。因此在本申请实施例中，需要确定当前时刻是处于当前需量周期的切换时间点前，还是在当前需量周期的切换时间点后，以采用不同的方式进行控制。所以若判断出当前时刻处于当前需量周期的切换时间点前，则执行步骤S103。若判断出当前时刻不处于当前需量周期的切换时间点前，当前时刻不处于当前需量周期的切换时间点后，即则执行步骤S106。步骤S102仅是其中一种可选的方式，也可以是判断当前时刻是否处于当前需量周期的切换时间点后。而对于切换时间点，可以将其划分为第一阶段，也可以划分为第二阶段。可选地，为了保证控制的准确性，所以切换时间点的设定可以基于平均功率计算的准确性确定，即当某一时间点所计算平均功率的准确性可以满足要求时，可以将该时间点设定为切换时间点。而平均功率的不同计算方法，原理以及所采用的计算数据不同，所以准确性与时间的关系也不同，因此在设定切换时间点时，还需要考虑所采用的平均功率的计算方法。S103、计算下一时刻的用户侧负荷预测值。其中，用户侧负荷预测值为一个平均功率预测值，而不是瞬时功率预测值。具体可以基于历史数据进行预测。可选地，在本申请另一实施例中，步骤S103的一种具体实施方式，如图3所示，包括：S301、利用自回归移动平均模型计算下一时刻的瞬时功率预测值。其中，自回归移动平均模型可以定义如下：其中，P为t时刻的瞬时功率预测值；p为自回归阶数；γi为自相关系数；q为移动平均阶数；θ为误差权重系数；ε表示误差；μ为常数项；ξ为白噪声。S302、计算下一时刻的瞬时功率预测值与当前时刻前的指定时间范围内的各个时刻的瞬时功率预测值的平均值，得到下一时刻的用户侧负荷预测值。具体的，通过步骤S301计算得到下一时刻的瞬时预测值后，再通过计算平均的方式，计算得到一个平均功率，从而可以更好的反映出下一时刻的需量。可选地，可以至少将当前时刻前48小时的负荷数据作为历史数据训练模型，并对下一时刻的功率进行预测，即指定时间范围可以为48小时，以能保证预测的准确性。S104、对比下一时刻的用户侧负荷预测值是否大于当前最大需量限值。其中，若对比出下一时刻的用户侧负荷预测值大于当前最大需量限值，则说明需要对需量进行调整，所以此时执行步骤S105。可选地，若对比出下一时刻的用户侧负荷预测值不大于当前最大需量限值，则可以直接将下一时刻的目标功率设置为零，即相当于不用对需量进行调整。S105、将当前最大需量限值减去下一时刻的用户侧负荷预测值的差值确定为下一时刻的目标功率。由于下一时刻的用户侧负荷预测值大于当前最大需量限值，所以最少需量调整的功率，即为当前最大需量限值减去下一时刻的用户侧负荷预测值的差值，所以将当前最大需量限值减去下一时刻的用户侧负荷预测值的差值确定为下一时刻的目标功率。而两者的差值为负数，而负数表示的即为降低功率。S106、计算当前需量周期的起始时刻至当前时刻的平均功率，得到当前平均功率。由于当前时刻已经处于第二控制阶段，所以需要基于平均功率计算，因此将会计算当前需量周期的起始时刻至当前时刻的平均功率。可选地，对于当前平均功率的计算方法，可以采用电量差法或平均功率功率法进行计算。其中，电量差值法即为计算当前时刻的关口表的正向有功电能与起始时刻的正向有功电能的差值，得到起始时刻至当前时刻所消耗的电能，然后将该差值除以起始时刻至当前时刻的总时间，得到当前平均功率。可选地，由于一个需量周期通常为15分钟，所以起始时刻至当前时刻的总时间不会大于15分钟，因此若是希望当前平均功率，用一小时内的平均功率表示，则可以进一步再乘以60，从将一分钟内的功率，转为为一小时内的功率。平均功率法则是计算当前需量周期内从起始时刻至当前时刻的各个时刻的实时功率的均值。S107、对比当前时刻的关口表的平均功率是否大于当前最大需量限值。其中，若对比出当前时刻的关口表的平均功率大于当前最大需量限值，则执行步骤S108。可选地，若对比出当前时刻的关口表的平均功率不大于当前最大需量限值，则说明可以不需要进行调整，所以此时可以直接将下一时刻的目标功率设置为零。S108、将当前最大需量限值减去当前平均功率的差值与当前需量周期的当前控制次数的乘积确定为下一时刻的目标功率。需要说明的是，在本申请实施例中，各项数据的计算是按照一定粒度进行计算。例如，可以按照每分钟一次的粒度进行计算。所以对于需量的间隔是按照一个时间间隔进行计算。因此当前需量周期的当前控制次数，指的是从当前需量周期的其实时刻至当前时刻所执行的控制的次数，即执行本申请实施例提供的控制方法的次数。由于计算的是采用的是平均功率进行控制，而平均功率可能会存在误差的累计，因此再计算当前最大需量限值减去当前时刻的关口表的平均功率的差值后，还需要进一步乘以当前需量周期的当前控制次数，再将最终得到的乘积作为下一时刻的目标功率。S109、基于下一时刻的目标功率对储能系统进行控制。具体的，可以直接按照下一时刻的目标功率降低储能系统的功率，当然，下一时刻的目标功率仅是最少需要调整的功率，也可以进一步进行降低，只有保证储能系统的功率不高于需量限值即可。可选地，在本申请另一实施例中，步骤S108的一种具体实施方式，包括：若储能系统当前处于充电状态，则按照下一时刻的目标功率降低储能系统的充电功率。若储能系统当前处于静置状态或放电状态，则按照下一时刻的目标功率对储能系统进行放电。具体的，若是当前处于静置状态，则需要考试对储能系统进行放电，若是本身就除以放电状态，则具体为加大放电深度。具体的，由于第一阶段和第二阶段是基于不同的数据进行控制的，所以在第一阶段过程中，在降低储能系统的充电功率时，降低的最小幅度以改变储能系统功率后，关口表需量不高于当前最大需量限值为约束。在对储能系统间放电时，则放电的最小幅度以改变储能系统功率后，关口表需量不高于当前最大需量限值为约束，以及在加大放电深度时，放电的最小深度以改变储能系统功率后，关口表需量不高于当前最大需量限值为约束。在第二阶段过程中，在降低储能系统的充电功率时，降低的最小幅度以改变储能系统功率后，关口表需量周期平均功率不高于当前最大需量限值为约束。在对储能系统间放电时，则放电的最小幅度以改变储能系统功率后，关口表需量周期平均功率不高于当前最大需量限值为约束，以及在加大放电深度时，放电的最小深度以改变储能系统功率后，关口表需量周期平均功率不高于当前最大需量限值为约束。可选地，在本申请另一实施例中，还可以进一步包括：若对比出下一时刻的用户侧负荷预测值不大于当前最大需量限值，或对比出当前平均功率大于当前最大需量限值，则检测储能系统的当前状态。若储能系统当前处于充电状态，则在满足目标约束条件下，增大储能系统的充电深度。其中，目标约束条件为在当前需量周期的切换时间点前，关口表需量不高于当前最大需量限值，在当前需量周期的切换时间点后，关口表的平均功率不高于当前最大需量限值；若储能系统当前处于静置状态，则以满足目标预设条件的充电深度为储能系统进行充电。若储能系统当前处于放电状态，则在满足目标预设条件下，对储能系统执行任意一个目标操作。其中，目标操作包括降低放电深度、改为静置状态或改为充电状态。在本申请实施例中，在第一阶段对比出下一时刻的用户侧负荷预测值不大于当前最大需量限值，或对比出当前平均功率不大于当前最大需量限值，允许在满足目标预设条件下，适当的调整储能系统的功率。当然也可以需要进行调整。具体的，在第一阶段中，在储能系统处于充电状态时，允许适当加大充电深度，在储能系统处于静置状态时，允许储能系统改为充电状态，并且充电的最大深度均以改变储能系统功率后，关口表需量不高于当前最大需量限值为约束。若储能系统处于放电状态，则允许储能系统降低放电深度，或改为静置状态，又或者改为充电状态，而储能系统降低放电深度、改为静置状态或改为充电状态的功率限值，以改变储能系统功率后，关口表需量不高于当前最大需量限值为约束。在第二阶段中，则相应的，在储能系统处于充电状态时，允许适当加大充电深度，在储能系统处于静置状态时，允许储能系统改为充电状态，并且充电的最大深度均以改变储能系统功率后，关口表需量周期平均功率不高于当前最大需量限值为约束。若储能系统处于放电状态，则允许储能系统降低放电深度，或改为静置状态，又或者改为充电状态，而储能系统降低放电深度、改为静置状态或改为充电状态的功率限值，以改变储能系统功率后，关口表需量周期平均功率不高于当前最大需量限值为约束。可选地，为了保持储能系统在执行需量控制时有足够的电量，所以需要在关口表需量未超限，或用户侧负荷需量未超限时，选择适宜的时间进行充电。一般地，如果储能系统应用于削峰填谷场景，可以在谷段或平段进行充电。如果谷段或平段未充足需量控制所需要的电量，还也可以在尖段或峰段充电，以保证需量控制所需量的电量。如果应用于单纯需量控制场景，则可以选择在谷段、平段、峰段、尖段任意关口表需量未超限或用户侧负荷需量未超限时进行充电，以保证需量控制所需要的电量。本申请实施例提供了一种电力需量控制方法，确定当前时刻的当前最大需量限值。然后，在当前时刻处于当前需量周期的切换时间点前，则计算下一时刻的用户侧负荷预测值，并对比下一时刻的用户侧负荷预测值是否大于当前最大需量限值。若对比出下一时刻的用户侧负荷预测值大于当前最大需量限值，则将当前最大需量限值减去下一时刻的用户侧负荷预测值的差值确定为下一时刻的目标功率。在当前时刻处于当前需量周期的切换时间点后时，计算当前需量周期的起始时刻至当前时刻的平均功率，得到当前平均功率，并对比当前平均功率是否大于当前最大需量限值。若对比出当前平均功率大于当前最大需量限值，则将当前最大需量限值减去当前时刻的关口表的平均功率的差值与当前需量周期的当前控制次数的乘积确定为下一时刻的目标功率。最后基于下一时刻的目标功率对储能系统进行控制。从而通过切换时间点，将一个控制周期划分为两个阶段，第一阶段基于预测值进行控制，第二个节点则基于平均功率进行控制，从而避免一直基于预测值键控制，且在平均功率计算精确度满足要求时，基于平均功率进行控制，进而有效保证的控制的准确性。本申请另一实施例提供了一种电力需量控制装置，如图4所示，包括以下单元：限值确定单元401，用于确定当前时刻的当前最大需量限值。预测单元402，用于在当前时刻处于当前需量周期的切换时间点前时，计算下一时刻的用户侧负荷预测值。第一对比单元403，用于对比下一时刻的用户侧负荷预测值是否大于当前最大需量限值。第一功率确定单元404，用于在对比出下一时刻的用户侧负荷预测值大于当前最大需量限值时，将当前最大需量限值减去下一时刻的用户侧负荷预测值的差值确定为下一时刻的目标功率。功率计算单元405，用于在当前时刻处于当前需量周期的切换时间点后时，计算当前需量周期的起始时刻至当前时刻的平均功率，得到当前平均功率。第二对比单元406，用于对比当前平均功率是否大于当前最大需量限值。第二功率确定单元407，用于在对比出当前平均功率大于当前最大需量限值时，将当前最大需量限值减去当前平均功率的差值与当前需量周期的当前控制次数的乘积确定为下一时刻的目标功率。控制单元408，用于基于下一时刻的目标功率对储能系统进行控制。可选地，在本申请另一实施例提供的电力需量控制装置中，限值确定单元，包括：需量数据获取单元，用于获取当月起始时刻至当前时刻的当月实际最大需量以及预先设定的当月最大需量设定值。限制计算单元，用于将当月实际最大需量与当月最大需量设定值中的较大值，乘以需量控制系数，得到当前时刻的当前最大需量限值。可选地，在本申请另一实施例提供的电力需量控制装置中，预测单元，包括：第一计算单元，用于利用自回归移动平均模型计算下一时刻的瞬时功率预测值。第二计算单元，用于计算下一时刻的瞬时功率预测值与当前时刻前的指定时间范围内的各个时刻的瞬时功率预测值的平均值，得到下一时刻的用户侧负荷预测值。可选地，在本申请另一实施例提供的电力需量控制装置中，控制单元，包括：第一控制子单元，用于若储能系统当前处于充电状态，则按照下一时刻的目标功率降低储能系统的充电功率。第二控制子单元，用于若储能系统当前处于静置状态或放电状态，则按照下一时刻的目标功率对储能系统进行放电。可选地，在本申请另一实施例提供的电力需量控制装置中，还包括：检测单元，用于若对比出下一时刻的用户侧负荷预测值不大于当前最大需量限值，或对比出当前平均功率不大于当前最大需量限值时，检测储能系统的当前状态。提升单元，用于在检测出储能系统当前处于充电状态时，则在满足目标约束条件下，增大储能系统的充电深度。其中，目标约束条件为在当前需量周期的切换时间点前，关口表需量不高于当前最大需量限值，在当前需量周期的切换时间点后，关口表的平均功率不高于当前最大需量限值。充电单元，用于在检测出储能系统当前处于静置状态时，则以满足目标预设条件的充电深度为储能系统进行充电。更改单元，用于在检测出储能系统当前处于放电状态，则在满足目标预设条件下，对储能系统执行任意一个目标操作。其中，目标操作包括降低放电深度、改为静置状态或改为充电状态。需要说明的是，本申请上述实施例提供的各个单元的具体工作过程，可相应地参考上述方法实施例提供的各个相应步骤的具体实施过程，此处不再赘述。本申请另一实施例提供了一种电子设备，如图5所示，包括：存储器501和处理器502。其中，存储器501用于存储程序。处理器502用于执行存储器501存储的程序，该程序被执行时，具体用于实现如上述任意一个实施例提供的电力需量控制方法。本申请另一实施例提供了一种计算机存储介质，用于存储计算机程序，该计算机程序被执行时，用于实现如上述任意一个实施例提供的电力需量控制方法。计算机存储介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体，如调制的数据信号和载波。专业人员还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本申请的范围。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本申请。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本申请的精神或范围的情况下，在其它实施例中实现。因此，本申请将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
