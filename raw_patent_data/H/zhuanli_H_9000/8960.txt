标题title
一种移动服务用户轨迹预测方法及系统
摘要abst
本发明提出了一种移动服务用户轨迹预测方法及系统，属于计算机信息通信和服务计算技术领域，所解决技术问题是：如何预测时间和空间上的移动用户需求，方案包括：针对获取的当前移动用户活动轨迹数据进行处理，得到编号序列；将编号序列分别进行位置编码和特征嵌入，分别得到特征嵌入后的编号序列以及位置编码后的编号序列；将特征嵌入和位置编码后的编号序列相加得到序列位置信息特征；将特征嵌入后的编号序列分别输入到卷积神经网络和长短期记忆神经网络得到序列局部特征和时间依赖关系特征；基于序列位置信息特征、序列局部特征和时间依赖关系特征输出当前移动用户的区域预测结果。移动服务平台上的用户需求能够在时间和空间上被及时地预测。
权利要求书clms
1.一种移动服务用户轨迹预测方法，其特征是，包括：针对获取的当前移动用户活动轨迹数据进行处理，得到编号序列；将编号序列分别进行位置编码和特征嵌入，分别得到特征嵌入后的编号序列以及位置编码后的编号序列；将特征嵌入和位置编码后的编号序列相加得到序列位置信息特征；将特征嵌入后的编号序列分别输入到卷积神经网络和长短期记忆神经网络得到序列局部特征和时间依赖关系特征；将序列位置信息特征、序列局部特征和时间依赖关系特征输入到连接层进行特征合并后，输入到转换器中，得到含有预测信息的信息块，再经过全连接层处理后，输出当前移动用户的区域预测结果。2.如权利要求1所述的一种移动服务用户轨迹预测方法，其特征是，所述当前移动用户活动轨迹数据来自于待研究区域内移动服务平台中用户的签到数据，具体包括：一系列截止到当前时刻属于每个用户的连续的包含访问地点和时间的信息点。3.如权利要求1所述的一种移动服务用户轨迹预测方法，其特征是，针对获取的当前移动用户活动轨迹数据进行处理，具体包括：将当前移动用户活动轨迹数据转换为区域编号序列，与空白信息块组成编号序列。4.如权利要求3所述的一种移动服务用户轨迹预测方法，其特征是，所述区域编号序列中的编号由所有用户活动轨迹数据中的经纬度聚类得到的，聚类可将待研究区域分成不重叠的多个区域，并为每个区域赋予唯一编号，该区域编号序列包括：一系列截止到当前时刻属于每个用户的连续的区域编号。5.如权利要求1所述的一种移动服务用户轨迹预测方法，其特征是，所述位置编码为对编号序列进行处理，将每个编号嵌入到多维向量中，使得输出包含编号序列的位置信息。6.如权利要求1所述的一种移动服务用户轨迹预测方法，其特征是，所述转换器中包含N个编码器，每个编码器包含多头注意力机制和前馈神经网络，利用多头注意力机制提取出多种特征中的有效预测信息。7.一种移动服务用户轨迹预测系统，其特征是，包括：编号序列获取模块，被配置为：针对获取的当前移动用户活动轨迹数据进行处理，得到编号序列；序列位置信息特征获取模块，被配置为：将编号序列分别进行位置编码和特征嵌入，分别得到特征嵌入后的编号序列以及位置编码后的编号序列；将特征嵌入和位置编码后的编号序列相加得到序列位置信息特征；序列局部特征和时间依赖关系特征获取模块，被配置为：将特征嵌入后的编号序列分别输入到卷积神经网络和长短期记忆神经网络得到序列局部特征和时间依赖关系特征；区域预测模块，被配置为：将序列位置信息特征、序列局部特征和时间依赖关系特征输入到连接层进行特征合并后，输入到转换器中，得到含有预测信息的信息块，再经过全连接层处理后，输出当前移动用户的区域预测结果。8.如权利要求7所述的一种移动服务用户轨迹预测系统，其特征是，所述编号序列获取模块中的所述当前移动用户活动轨迹数据来自于待研究区域内移动服务平台中用户的签到数据，具体包括：一系列截止到当前时刻属于每个用户的连续的包含访问地点和时间的信息点。9.如权利要求7所述的一种移动服务用户轨迹预测系统，其特征是，所述编号序列获取模块针对获取的当前移动用户活动轨迹数据进行处理，具体包括：将当前移动用户活动轨迹数据转换为区域编号序列，与空白信息块组成编号序列。10.如权利要求7所述的一种移动服务用户轨迹预测系统，其特征是，所述序列位置信息特征获取模块中所述位置编码为对编号序列进行处理，将每个编号嵌入到多维向量中，使得输出包含编号序列的位置信息。
说明书desc
技术领域本发明属于计算机信息通信和服务计算技术领域，尤其涉及一种移动服务用户轨迹预测方法及系统。背景技术本部分的陈述仅仅是提供了与本发明相关的背景技术信息，不必然构成在先技术。近年来，随着移动通信网络的快速发展，移动用户数量爆炸式增长。终端用户通过接入移动通信网络，可以享受移动服务平台提供的个性化服务。如购物饮食推荐、路线导航等移动服务实例应用在人们的生活中，极大地提高了人们的生活质量。移动设备的快速发展与普及为移动服务平台提供了硬件条件，移动设备可以及时地收集平台所需要的数据，并能将数据传送到云服务器中，使得服务的实现变得更加容易。例如，智能手机上嵌入的传感器允许公众通过一个简单的移动应用程序报告时间、地点等信息。移动服务的成功依赖于用户数据，即移动服务平台通过收集和分析终端用户生活中产生的数据，如时间、地点、环境等信息，捕获用户的需求，并及时根据需求向用户提供个性化服务。如果移动服务平台无法提供服务，需求得不到及时的满足，用户将会体验到相对较差的服务质量，从而影响平台的运营。移动服务平台如何高效地捕获用户需求并向其提供个性化服务是其面临的主要挑战和反复出现的问题。然而，用户需求在时间和空间上通常是不可预测的、不对称的，而且全天都处在不断地变化之中。如何在间和空间上预测移动用户需求，成为本领域一个急需解决的问题。发明内容为克服上述现有技术的不足，本发明提供了一种移动服务用户轨迹预测方法，本发明可有效解决现有技术中存在的时间和空间上的移动用户需求预测问题，使得移动服务平台上的用户需求能够在时间和空间上被及时地预测，从而保障移动服务平台能够提前更好地为用户提供个性化服务。为实现上述目的，本发明的一个或多个实施例提供了如下技术方案：第一方面，公开了一种移动服务用户轨迹预测方法，包括：针对获取的当前移动用户活动轨迹数据进行处理，得到编号序列；将编号序列分别进行位置编码和特征嵌入，分别得到特征嵌入后的编号序列以及位置编码后的编号序列；将特征嵌入和位置编码后的编号序列相加得到序列位置信息特征；将特征嵌入后的编号序列分别输入到卷积神经网络和长短期记忆神经网络得到序列局部特征和时间依赖关系特征；将序列位置信息特征、序列局部特征和时间依赖关系特征输入到连接层进行特征合并后，输入到转换器中，得到含有预测信息的信息块，再经过全连接层处理后，输出当前移动用户的区域预测结果。作为进一步的技术方案，所述当前移动用户活动轨迹数据来自于待研究区域内移动服务平台中用户的签到数据，具体包括：一系列截止到当前时刻属于每个用户的连续的包含访问地点和时间的信息点。作为进一步的技术方案，针对获取的当前移动用户活动轨迹数据进行处理，具体包括：将当前移动用户活动轨迹数据转换为区域编号序列，与空白信息块组成编号序列。作为进一步的技术方案，所述区域编号序列中的编号由所有用户活动轨迹数据中的经纬度聚类得到的，聚类可将待研究区域分成不重叠的多个区域，并为每个区域赋予唯一编号，该区域编号序列包括：一系列截止到当前时刻属于每个用户的连续的区域编号。作为进一步的技术方案，所述位置编码为对编号序列进行处理，将每个编号嵌入到多维向量中，使得输出包含编号序列的位置信息。作为进一步的技术方案，所述转换器中包含N个编码器，每个编码器包含多头注意力机制和前馈神经网络，利用多头注意力机制提取出多种特征中的有效预测信息。第二方面，公开了一种移动服务用户轨迹预测系统，包括：编号序列获取模块，被配置为：针对获取的当前移动用户活动轨迹数据进行处理，得到编号序列；序列位置信息特征获取模块，被配置为：将编号序列分别进行位置编码和特征嵌入，分别得到特征嵌入后的编号序列以及位置编码后的编号序列；将特征嵌入和位置编码后的编号序列相加得到序列位置信息特征；序列局部特征和时间依赖关系特征获取模块，被配置为：将特征嵌入后的编号序列分别输入到卷积神经网络和长短期记忆神经网络得到序列局部特征和时间依赖关系特征；区域预测模块，被配置为：将序列位置信息特征、序列局部特征和时间依赖关系特征输入到连接层进行特征合并后，输入到转换器中，得到含有预测信息的信息块，再经过全连接层处理后，输出当前移动用户的区域预测结果。作为进一步的技术方案，所述编号序列获取模块中的所述当前移动用户活动轨迹数据来自于待研究区域内移动服务平台中用户的签到数据，具体包括：一系列截止到当前时刻属于每个用户的连续的包含访问地点和时间的信息点。作为进一步的技术方案，所述编号序列获取模块针对获取的当前移动用户活动轨迹数据进行处理，具体包括：将当前移动用户活动轨迹数据转换为区域编号序列，与空白信息块组成编号序列。作为进一步的技术方案，所述区域编号序列中的编号由所有用户活动轨迹数据中的经纬度聚类得到的，聚类可将待研究区域分成不重叠的多个区域，并为每个区域赋予唯一编号，该区域编号序列包括：一系列截止到当前时刻属于每个用户的连续的区域编号。作为进一步的技术方案，所述序列位置信息特征获取模块中所述位置编码为对编号序列进行处理，将每个编号嵌入到多维向量中，使得输出包含编号序列的位置信息。作为进一步的技术方案，所述转换器中包含N个编码器，每个编码器包含多头注意力机制和前馈神经网络，利用多头注意力机制提取出多种特征中的有效预测信息。以上一个或多个技术方案存在以下有益效果：本发明通过把移动服务平台上用户的活动轨迹数据进行特征提取，能够有效提取出活动轨迹序列数据中的局部特征信息和时间关系信息；转换器中注意力机制的使用能有效提取出多种特征中的有效预测信息；位置编码使得转换器具备识别位置信息的能力。通过上述技术方案可有效解决现有技术中存在的时间和空间上的移动用户需求预测问题，使得移动服务平台上的用户需求能够在时间和空间上被及时地预测，从而保障移动服务平台能够提前更好地为用户提供个性化服务。本发明附加方面的优点将在下面的描述中部分给出，部分将从下面的描述中变得明显，或通过本发明的实践了解到。附图说明构成本发明的一部分的说明书附图用来提供对本发明的进一步理解，本发明的示意性实施例及其说明用于解释本发明，并不构成对本发明的不当限定。图1为本发明实施例方法流程图。具体实施方式应该指出，以下详细说明都是示例性的，旨在对本发明提供进一步的说明。除非另有指明，本文使用的所有技术和科学术语具有与本发明所属技术领域的普通技术人员通常理解的相同含义。需要注意的是，这里所使用的术语仅是为了描述具体实施方式，而非意图限制根据本发明的示例性实施方式。在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。实施例一参见附图1所示，本实施例公开了一种移动服务用户轨迹预测方法，包括：S101：获取当前移动服务平台上的用户活动轨迹数据，并将其转换为区域编号序列，与空白信息块组成编号序列；S102：将编号序列进行特征嵌入，得到特征嵌入后的编号序列；S103：将特征嵌入和位置编码后的编号序列相加得到序列位置信息特征，与此同时，将特征嵌入后的编号序列分别输入到卷积神经网络和长短期记忆神经网络得到序列局部特征和时间依赖关系特征；S104：将序列位置信息特征、序列局部特征和时间依赖关系特征输入到连接层进行特征合并后，输入到转换器中，得到含有预测信息的信息块，经过全连接层处理后，输出当前移动用户的区域预测结果，即用户接下来可能出现在哪个区域。本实施例子的上述技术方案能够根据用户的时间t之前的区域轨迹序列来预测该用户在时间t+1的想要访问的区域。上述步骤S101：获取当前移动用户活动轨迹数据，并将其转换为区域编号序列，与空白信息块组成编号序列；其中，当前移动用户活动轨迹数据来自于待研究区域内移动服务平台中用户的签到数据，具体包括：一系列截止到当前时刻属于每个用户的连续的包含访问地点和时间的信息点，表示如下：Info={info1，info2，info3，...，infoT}Info是属于用户p的一系列信息点，infoi是在时刻i的信息点；infoi =，每个信息点infoi中包括相对应的时间、位置。其中，区域编号序列中的编号由所有用户活动轨迹数据中的经纬度聚类而得到的，聚类可将待研究区域分成不重叠的多个小区域，并为每个小区域赋予唯一编号，该区域编号序列包括：一系列截止到当前时刻属于每个用户的连续的区域编号，表示如下：ID={ id1，id2，id3，...，idT}ID是属于用户p的一系列区域编号，idi是在时刻i的区域编号；其中，空白信息块与区域编号序列的形式相同，不同的是空白信息块的内容由固定数量的相同数字组成，表示其该信息块不包含信息。空白信息块与区域编号序列组成编号序列，为下一步处理做准备。如图1所示，信息块-＞信息块，空白信息块在经过神经网络训练后会得到有预测信息的信息块。通过上述方式把神经网络提取的预测信息转移到空白信息块中，使得信息块具有预测信息。上述信息块是一个可以承载预测信息的容器。上述步骤S102：将编号序列分别进行位置编码和特征嵌入，得到特征嵌入后的编号序列；其中，特征嵌入指的是将编号序列输入到一个嵌入层，目的是为了在隐空间中表示编号序列特征。嵌入层是一种利用潜在因子空间表示序列的方法，并且允许使用密集向量来表示序列中的单个编号，其中向量是编号在连续向量空间中的投影。关于嵌入层的实现，可以用深度学习框架中的相关API对编号序列进行嵌入并且提取其中隐含的特征，特征嵌入后可得到矩阵，l为编号序列的长度，d为密集向量的维度，该矩阵为特征嵌入后的编号序列， ie代表编号序列特征嵌入的含义。上述步骤S103：将特征嵌入和位置编码后的编号序列相加得到序列位置信息特征，与此同时，将特征嵌入后的编号序列分别输入到卷积神经网络和长短期记忆神经网络得到序列局部特征和时间依赖关系特征；具体包括：并列的三个支路：第一支路、第二支路和第三支路。其中，第一支路，将特征嵌入和位置编码后的编号序列相加得到序列位置信息特征；其中，位置编码对编号序列进行处理，将每个编号嵌入到多维向量中，使得输出包含编号序列的位置信息，有助于编码器中注意力机制对编号位置的区分。位置编码过程如下：pos∈{1,2,3,⋯,l}是编号序列的位置，i∈{1,2,3,⋯,d}表示d维向量中的第i维度，位置编码后可得到矩阵，pe代表编号序列位置编码的含义。其中，序列位置信息特征可用矩阵表示，l1=l，计算过程如下：F1=Fie+Fpe。其中，第二支路，将特征嵌入后的编号序列输入到卷积神经网络得到序列局部特征；其中，卷积神经网络的内部结构包含多个串行的卷积块，每个卷积块内依次是卷积层、RELU、池化层。内部结构与通用的卷积神经网络结构并无太大差别，不同的是具体的参数设置，该参数根据涉及的任务和数据确定。其中，序列局部特征可用矩阵表示，l2由卷积神经网络的结构和输出决定。其中，第三支路，将特征嵌入后的编号序列输入到长短期记忆神经网络得到时间依赖关系特征；其中，长短期记忆神经网络的内部结构与通用的长短期记忆神经网络结构并无太大差别，不同的是具体的参数设置，该参数根据涉及的任务和数据确定。其中，时间依赖关系特征可用矩阵表示，l3由长短期记忆神经网络的结构和输出决定。上述步骤S104：将序列位置信息特征、序列局部特征和时间依赖关系特征输入到连接层进行特征合并后，输入到转换器中，得到含有预测信息的信息块，经过全连接层处理后，输出当前移动用户的区域预测结果；其中，特征合并后的特征可用矩阵表示。其中，转换器中包含N编码器，每个编码器包含多头注意力机制和前馈神经网络。编码器的内部结构与通用的编码器结构并无太大差别，不同的是具体的参数设置，该参数和N根据涉及的任务和数据确定。其中，含有预测信息的信息块可用矩阵表示。其中，损失函数为交叉熵函数Cross Entropy Function，该损失函数辅助神经网络的训练。神经网络的训练时间由该神经网络在数据验证集上的训练效果决定，原则上，损失函数越小，训练效果越好；在神经网络训练时，要根据数据情况适当设定周期epoch数和批数。本实施例子中在神经网络训练过程中使用了损失函数，使得神经网络的训练更加可控；多种特征的合并充分利用了转换器的优势。本实施例子通过把移动服务平台中的用户活动轨迹数据进行特征提取，能够有效提取出活动轨迹序列数据中的局部特征信息和时间关系信息；转换器中注意力机制的使用能有效提取出多种特征中的有效预测信息；位置编码使得转换器具备识别位置信息的能力；在神经网络训练过程中使用了损失函数，使得神经网络的训练更加可控；多种特征的合并充分利用了转换器的优势。实施例二本实施例的目的是提供一种移动服务用户轨迹预测系统，包括：编号序列获取模块，被配置为：针对获取的当前移动用户活动轨迹数据进行处理，得到编号序列；序列位置信息特征获取模块，被配置为：将编号序列分别进行位置编码和特征嵌入，分别得到特征嵌入后的编号序列以及位置编码后的编号序列；将特征嵌入和位置编码后的编号序列相加得到序列位置信息特征；序列局部特征和时间依赖关系特征获取模块，被配置为：将特征嵌入后的编号序列分别输入到卷积神经网络和长短期记忆神经网络得到序列局部特征和时间依赖关系特征；区域预测模块，被配置为：将序列位置信息特征、序列局部特征和时间依赖关系特征输入到连接层进行特征合并后，输入到转换器中，得到含有预测信息的信息块，再经过全连接层处理后，输出当前移动用户的区域预测结果。上述编号序列获取模块中的所述当前移动用户活动轨迹数据来自于待研究区域内移动服务平台中用户的签到数据，具体包括：一系列截止到当前时刻属于每个用户的连续的包含访问地点和时间的信息点。上述编号序列获取模块针对获取的当前移动用户活动轨迹数据进行处理，具体包括：将当前移动用户活动轨迹数据转换为区域编号序列，与空白信息块组成编号序列。上述区域编号序列中的编号由所有用户活动轨迹数据中的经纬度聚类得到的，聚类可将待研究区域分成不重叠的多个区域，并为每个区域赋予唯一编号，该区域编号序列包括：一系列截止到当前时刻属于每个用户的连续的区域编号。上述序列位置信息特征获取模块中所述位置编码为对编号序列进行处理，将每个编号嵌入到多维向量中，使得输出包含编号序列的位置信息。上述转换器中包含N个编码器，每个编码器包含多头注意力机制和前馈神经网络，利用多头注意力机制提取出多种特征中的有效预测信息。本领域技术人员应该明白，上述本发明的各模块或各步骤可以用通用的计算机装置来实现，可选地，它们可以用计算装置可执行的程序代码来实现，从而，可以将它们存储在存储装置中由计算装置来执行，或者将它们分别制作成各个集成电路模块，或者将它们中的多个模块或步骤制作成单个集成电路模块来实现。本发明不限制于任何特定的硬件和软件的结合。上述虽然结合附图对本发明的具体实施方式进行了描述，但并非对本发明保护范围的限制，所属领域技术人员应该明白，在本发明的技术方案的基础上，本领域技术人员不需要付出创造性劳动即可做出的各种修改或变形仍在本发明的保护范围以内。
