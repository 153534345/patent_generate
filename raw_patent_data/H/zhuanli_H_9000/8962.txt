标题title
宽带属性的检测方法、装置、设备及存储介质
摘要abst
本申请公开了一种宽带属性的检测方法、装置、设备及存储介质，通过对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息，从而无需加装硬件，只需要在用户终端安装应用程序集合实现数据采集；再对所述第一宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息，以及根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息，从而保证宽带属性信息的有效性；最后对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果，以提高检测结果的准确性以及自动化程度。
权利要求书clms
1.一种宽带属性的检测方法，其特征在于，包括：对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息；对所述第一宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息；根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息；对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果。2.如权利要求1所述的检测方法，其特征在于，所述网络数据包包括跟踪路由数据、所述用户终端所在位置信息以及网络服务提供商信息，所述对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息，包括：对所述跟踪路由数据、所述用户终端所在位置信息以及网络服务提供商信息进行数据解析，得到所述第一宽带属性信息。3.如权利要求1所述的检测方法，其特征在于，所述对所述第一宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息，包括：对所述第一宽带属性信息进行字段完整性验证，以确定所述第一宽带属性信息是否符合字段完整性要求；若所述第一宽带属性信息符合字段完整性要求，则去除所述第一宽带属性信息中的相同值数据，得到第二宽带属性信息。4.如权利要求1所述的检测方法，其特征在于，所述根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息，包括：根据所述第二宽带属性信息，获取所述目标实际属性信息；将所述第二宽带属性信息与所述实际属性信息进行对比；若所述第二宽带属性信息不存在违规IP地址，则根据所述目标实际属性信息，补全所述第二宽带属性信息中的缺失属性，得到所述第三宽带属性信息。5.如权利要求4所述的检测方法，其特征在于，所述根据所述第二宽带属性信息，获取所述目标实际属性信息，包括：根据所述第二宽带属性信息，确定所述用户终端的IP地址所在的位置信息；对所述位置信息对应的实际IP地址进行验证，以获得所述目标实际属性信息。6.如权利要求1所述的检测方法，其特征在于，所述对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果，包括：对所述第三宽带属性信息中的报装运营商与实际运营商进行对比；若所述报装运营商与所述实际运营商一致，则确定所述属性检测结果为属性合规。7.一种宽带属性的检测装置，其特征在于，包括：提取模块，用于对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息；验证模块，用于对所述宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息；修正模块，用于根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息；检测模块，用于对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果。8.如权利要求7所述的检测装置，其特征在于，所述修正模块，包括：获取单元，用于根据所述第二宽带属性信息，获取所述目标实际属性信息；对比单元，用于将所述第二宽带属性信息与所述实际属性信息进行对比；补全单元，用于若所述第二宽带属性信息不存在违规IP地址，则根据所述目标实际属性信息，补全所述第二宽带属性信息中的缺失属性，得到所述第三宽带属性信息。9.一种计算机设备，其特征在于，包括处理器和存储器，所述存储器用于存储计算机程序，所述计算机程序被所述处理器执行时实现如权利要求1至6任一项所述的宽带属性的检测方法。10.一种计算机可读存储介质，其特征在于，其存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1至6任一项所述的宽带属性的检测方法。
说明书desc
技术领域本申请涉及通信技术领域，尤其涉及一种宽带属性的检测方法、装置、设备及存储介质。背景技术传统的宽带属性检测方式为人工标记方式，用户通过运营商的后台管理系统，手动在文本框中输入宽带的属性项目。但是人工标记的属性项目仅仅是针对速率与带宽，而缺少对详细属性信息的主动检测与校验。虽然可以人工增加属性项目，但依然离不开人工的数据录入。可见，当前宽带属性检测方式存在自动化程度低的问题。发明内容本申请提供了一种宽带属性的检测方法、装置、设备及存储介质，以解决宽带属性检测方式自动化程度低的技术问题。为了解决上述技术问题，第一方面，本申请提供了一种宽带属性的检测方法，包括：对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息；对所述第一宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息；根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息；对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果。本申请通过对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息，从而无需加装硬件，只需要在用户终端安装应用程序即可实现数据采集，并且能够增加属性项目；再对所述第一宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息，以及根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息，从而保证宽带属性信息的有效性；最后对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果，以提高检测结果的准确性以及自动化程度。作为优选，所述网络数据包包括跟踪路由数据、所述用户终端所在位置信息以及网络服务提供商信息，所述对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息，包括：对所述跟踪路由数据、所述用户终端所在位置信息以及网络服务提供商信息进行数据解析，得到所述第一宽带属性信息。作为优选，所述对所述第一宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息，包括：对所述第一宽带属性信息进行字段完整性验证，以确定所述第一宽带属性信息是否符合字段完整性要求；若所述第一宽带属性信息符合字段完整性要求，则去除所述第一宽带属性信息中的相同值数据，得到第二宽带属性信息。作为优选，所述根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息，包括：根据所述第二宽带属性信息，获取所述目标实际属性信息；将所述第二宽带属性信息与所述实际属性信息进行对比；若所述第二宽带属性信息不存在违规IP地址，则根据所述目标实际属性信息，补全所述第二宽带属性信息中的缺失属性，得到所述第三宽带属性信息。作为优选，所述根据所述第二宽带属性信息，获取所述目标实际属性信息，包括：根据所述第二宽带属性信息，确定所述用户终端的IP地址所在的位置信息；对所述位置信息对应的实际IP地址进行验证，以获得所述目标实际属性信息。作为优选，所述对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果，包括：对所述第三宽带属性信息中的报装运营商与实际运营商进行对比；若所述报装运营商与所述实际运营商一致，则确定所述属性检测结果为属性合规。第二方面，本申请提供一种宽带属性的检测装置，包括：提取模块，用于对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息；验证模块，用于对所述宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息；修正模块，用于根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息；检测模块，用于对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果。作为优选，所述修正模块，包括：获取单元，用于根据所述第二宽带属性信息，获取所述目标实际属性信息；对比单元，用于将所述第二宽带属性信息与所述实际属性信息进行对比；补全单元，用于若所述第二宽带属性信息不存在违规IP地址，则根据所述目标实际属性信息，补全所述第二宽带属性信息中的缺失属性，得到所述第三宽带属性信息。第三方面，本申请提供一种计算机设备，包括处理器和存储器，所述存储器用于存储计算机程序，所述计算机程序被所述处理器执行时实现如第一方面所述的宽带属性的检测方法。第四方面，本申请提供一种计算机可读存储介质，其存储有计算机程序，所述计算机程序被处理器执行时实现如第一方面所述的宽带属性的检测方法。需要说明的是，上述第二方面至第四方面的有益效果请参见上述第一方面的相关描述，在此不再赘述。附图说明图1为本申请实施例示出的宽带属性的检测方法的流程示意图；图2为本申请实施例示出的宽带属性的检测装置的结构示意图；图3为本申请实施例示出的计算机设备的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。如相关技术记载，人工标记的属性项目仅仅是针对速率与带宽，而缺少对详细属性信息的主动检测与校验。虽然可以人工增加属性项目，但依然离不开人工的数据录入。可见，当前宽带属性检测方式存在自动化程度低的问题。为此，本申请实施例提供一种宽带属性的检测方法，通过对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息，从而无需加装硬件，只需要在用户终端安装应用程序即可实现数据采集，并且能够增加属性项目；再对所述第一宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息，以及根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息，从而保证宽带属性信息的有效性；最后对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果，以提高检测结果的准确性以及自动化程度。请参照图1，图1为本申请实施例提供的一种宽带属性的检测方法的流程示意图。本申请实施例的宽带属性的检测方法可应用于计算机设备，该计算机设备搭载有云平台，该计算机设备包括但不限于笔记本电脑、平板电脑、桌上型计算机和物理服务器等设备。如图1所示，本实施例的宽带属性的检测方法包括步骤S101至步骤S104，详述如下：步骤S101，对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息。步骤S102，对所述第一宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息。步骤S103，根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息。步骤S104，对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果。在本实施例中，宽带链路包括用户终端、云平台和目标接收端。宽带属性信息包括但不限于报装地区、报装运营商、出口公网IP地址、出口公网TCP端口、TCP请求数据包内容、tracert路由完整信息和报装人信息等。可选地，先对终端发送的数据包进行属性提取，然后对提取的宽带属性进行有效性验证，去除重复数据和冗余数据，之后通过数据包的提取数据与实际数据进行对比判断是否存在违规IP，最后将比对的最终属性进行合规性判断，判断该宽带是否存在违规接入。示例性地，通过终端主动请求云平台，将数据包发送到云平台后，云平台将数据包进行数据解析，获取原始网络信息，含ip地址。其中，该终端包括windows系统运行终端以及安卓系统运行终端，该终端经过用户的同意，会定期的发送tracert数据内容，以及所在的省份、城市、以及所知的ISP等信息，将该信息发送到目标接收接口。终端还支持自动检测新版本与配置文件，配置文件约定了默认的省份清单、城市清单以及ISP清单，以及定义远端服务器的网络地址。当其中一个网络地址不通时，会自动枚举下一个网络地址，直到提交成功为止。终端支持数据包伪装，通过随机的接口方法绕过恶意网关的拦截，模拟正常的上网行为提交数据。终端支持在线更新版本与在线更新配置文件。安卓终端还支持通过GPS定位自动获取测试地址。目标接收端运行在互联网服务器中，面向全网提供服务，仅用于接收终端的数据，并通过反向代理的形式，将数据转发到目标接收端所在局域网的内网主机中，内网主机部署一套接口，用于将终端的数据存放在该主机中的数据库中。通过这种形式，终端与核心机房不直接存在物理或逻辑网络的关键，最大程度的保护核心机房免受互联网的恶意攻击。需要说明的是，本申请通过部署在终端的探针程序发送宽带数据后上传至云平台进行宽带属性获取与检测，提高了宽带属性自动化程度，提高了宽带属性检测准确率。此外，本申请还具备以下有益效果：1.可以无须加装硬件，只需要在安装终端即可实现数据收集；2.可以有效的避开代理服务器、内网等限制，安全的获取公网属性；3.可以使云平台通过主被动双重执行的方式，实现内外网逻辑隔离，数据安全有保证。在一实施例中，在图1所示实施例的基础上，所述网络数据包包括跟踪路由数据、所述用户终端所在位置信息以及网络服务提供商信息，所述步骤S101，包括：对所述跟踪路由数据、所述用户终端所在位置信息以及网络服务提供商信息进行数据解析，得到所述第一宽带属性信息。在本实施例中，将探针程序部署在宽带用户的电脑终端，用户运行探针程序即可完成属性的提取并且上报。具体地，云平台在接收了终端的主动请求后，接收终端发送的数据包；其中，终端发送数据包时支持数据包伪装，通过随机的接口方法绕过恶意网关的拦截，模拟正常的上网行为提交数据；云平台获取原始网络信息，以及定期的发送tracert数据内容，以及所在的省份、城市、以及所知的ISP等信息，以得到宽带属性。在一实施例中，在图1所示实施例的基础上，所述步骤S102，包括：对所述第一宽带属性信息进行字段完整性验证，以确定所述第一宽带属性信息是否符合字段完整性要求；若所述第一宽带属性信息符合字段完整性要求，则去除所述第一宽带属性信息中的相同值数据，得到第二宽带属性信息。在本实施例中，对提取的宽带属性进行有效性验证，去除重复数据和冗余数据。可选地，云平台的远程代理主机每隔1分钟将目标接收端的数据同步到安全的本地机房中的数据源数据库，并更改目标接收端数据的状态，避免重复同步。远程代理主机和目标接收端属于单向通信，只允许远程代理主机访问目标接收端中的数据，不允许目标接收端访问远程代理主机，以保护核心机房免受互联网的攻击。在一实施例中，在图1所示实施例的基础上，所述步骤S103，包括：根据所述第二宽带属性信息，获取所述目标实际属性信息；将所述第二宽带属性信息与所述实际属性信息进行对比；若所述第二宽带属性信息不存在违规IP地址，则根据所述目标实际属性信息，补全所述第二宽带属性信息中的缺失属性，得到所述第三宽带属性信息。可选地，所述根据所述第二宽带属性信息，获取所述目标实际属性信息，包括：根据所述第二宽带属性信息，确定所述用户终端的IP地址所在的位置信息；对所述位置信息对应的实际IP地址进行验证，以获得所述目标实际属性信息。在本实施例中，将宽带属性与云平台的数据接口进行比对，智能补全缺失属性。通过将数据源数据库中的数据进行综合处理后，转存到数据结果数据库。综合处理的方式主要是根据业务场景，提取帐号，提取tracert数据内容，判断实际IP所属的ISP，省份、城市以及IP的类型、客户名等信息。首先会提取基本信息，基本信息包括终端省份、城市、ISP、MAC地址、测试地址、测试帐号、测试终端ID，实际IP，实际端口号。接着根据实际IP地址，依次通过集团接口、省公司接口、第三方接口进行IP实际省份，实际城市，实际ISP的验证，取得实际的数据。通过两者数据的对比，判断是否存在违规IP。然后系统会提取tracert数据的内容，格式化字符串，提取除了内网之外的首个公网IP，判断IP所在的省份、城市、运营商。同时对历史数据进行状态的变更，保持数据的唯一性。在一实施例中，在图1所示实施例的基础上，所述步骤S104，包括：对所述第三宽带属性信息中的报装运营商与实际运营商进行对比；若所述报装运营商与所述实际运营商一致，则确定所述属性检测结果为属性合规。在本实施例中，将比对的最终属性进行合规性判断，判断该宽带是否存在违规接入。系统会根据tracert数据包的内容，结合AI智能引擎以及大数据，判断是否存在违规接入的同时，进一步判断是否存在使用代理、多级代理的情况。可选地，宽带的报装运营商和实际的运营商一致则算合规。比如一些城中村，报装的时候是中国移动，但实际这个宽带属于中国电信，则属于不合规。为了执行上述方法实施例对应的宽带属性的检测方法，以实现相应的功能和技术效果。参见图2，图2示出了本申请实施例提供的一种宽带属性的检测装置的结构框图。为了便于说明，仅示出了与本实施例相关的部分，本申请实施例提供的宽带属性的检测装置，包括：提取模块201，用于对用户终端通过宽带链路发送的网络数据包进行属性提取，得到第一宽带属性信息；验证模块202，用于对所述宽带属性信息进行有效性验证，并去除无效数据，得到第二宽带属性信息；修正模块203，用于根据目标实际属性信息，对所述第二宽带属性信息进行修正，得到第三宽带属性信息；检测模块204，用于对所述第三宽带属性信息进行合规性检测，得到所述宽带链路的属性检测结果。作为优选，所述网络数据包包括跟踪路由数据、所述用户终端所在位置信息以及网络服务提供商信息，所述提取模块201，包括：解析单元，用于对所述跟踪路由数据、所述用户终端所在位置信息以及网络服务提供商信息进行数据解析，得到所述第一宽带属性信息。作为优选，所述验证模块202，包括：验证单元，用于对所述第一宽带属性信息进行字段完整性验证，以确定所述第一宽带属性信息是否符合字段完整性要求；去除单元，用于若所述第一宽带属性信息符合字段完整性要求，则去除所述第一宽带属性信息中的相同值数据，得到第二宽带属性信息。作为优选，所述修正模块203，包括：获取单元，用于根据所述第二宽带属性信息，获取所述目标实际属性信息；对比单元，用于将所述第二宽带属性信息与所述实际属性信息进行对比；补全单元，用于若所述第二宽带属性信息不存在违规IP地址，则根据所述目标实际属性信息，补全所述第二宽带属性信息中的缺失属性，得到所述第三宽带属性信息。作为优选，所述获取单元，包括：确定子单元，用于根据所述第二宽带属性信息，确定所述用户终端的IP地址所在的位置信息；验证子单元，用于对所述位置信息对应的实际IP地址进行验证，以获得所述目标实际属性信息。作为优选，所述检测模块204，包括：第二对比单元，用于对所述第三宽带属性信息中的报装运营商与实际运营商进行对比；确定单元，用于若所述报装运营商与所述实际运营商一致，则确定所述属性检测结果为属性合规。上述的宽带属性的检测装置可实施上述方法实施例的宽带属性的检测方法。上述方法实施例中的可选项也适用于本实施例，这里不再详述。本申请实施例的其余内容可参照上述方法实施例的内容，在本实施例中，不再进行赘述。图3为本申请一实施例提供的计算机设备的结构示意图。如图3所示，该实施例的计算机设备3包括：至少一个处理器30处理器、存储器31以及存储在所述存储器31中并可在所述至少一个处理器30上运行的计算机程序32，所述处理器30执行所述计算机程序32时实现上述任意方法实施例中的步骤。所述计算机设备3可以是智能手机、平板电脑、桌上型计算机和云端服务器等计算设备。该计算机设备可包括但不仅限于处理器30、存储器31。本领域技术人员可以理解，图3仅仅是计算机设备3的举例，并不构成对计算机设备3的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如还可以包括输入输出设备、网络接入设备等。所称处理器30可以是中央处理单元，该处理器30还可以是其他通用处理器、数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。所述存储器31在一些实施例中可以是所述计算机设备3的内部存储单元，例如计算机设备3的硬盘或内存。所述存储器31在另一些实施例中也可以是所述计算机设备3的外部存储设备，例如所述计算机设备3上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，所述存储器31还可以既包括所述计算机设备3的内部存储单元也包括外部存储设备。所述存储器31用于存储操作系统、应用程序、引导装载程序、数据以及其他程序等，例如所述计算机程序的程序代码等。所述存储器31还可以用于暂时地存储已经输出或者将要输出的数据。另外，本申请实施例还提供一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现上述任意方法实施例中的步骤。本申请实施例提供了一种计算机程序产品，当计算机程序产品在计算机设备上运行时，使得计算机设备执行时实现上述各个方法实施例中的步骤。在本申请所提供的几个实施例中，可以理解的是，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意的是，在有些作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。所述功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述的具体实施例，对本申请的目的、技术方案和有益效果进行了进一步的详细说明，应当理解，以上所述仅为本申请的具体实施例而已，并不用于限定本申请的保护范围。特别指出，对于本领域技术人员来说，凡在本申请的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
