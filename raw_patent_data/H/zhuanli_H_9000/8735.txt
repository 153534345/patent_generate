标题title
变焦跟踪曲线的校准方法、装置、电子装置和存储介质
摘要abst
本申请涉及一种变焦跟踪曲线的校准方法、系统、电子装置和存储介质，该方法包括：利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应第一曲线的函数集合，函数集合包括多段线性函数；确定每段线性函数的端点为曲线校准点，控制待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，获取待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置；根据待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定第二曲线，将第二曲线作为待校准镜头的变焦跟踪曲线。通过本申请，解决了相关技术中变焦镜头不匹配变焦跟踪曲线所导致的视频模糊的问题，实现了提高变焦镜头的图像质量的技术效果。
权利要求书clms
1.一种变焦跟踪曲线的校准方法，其特征在于，所述方法包括：利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应所述第一曲线的函数集合，其中，所述函数集合包括多段线性函数；确定每段线性函数的端点为曲线校准点，分别控制所述待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取所述待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置；根据所述待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定与所述待校准镜头对应的第二曲线，并将所述第二曲线作为所述待校准镜头的变焦跟踪曲线。2.根据权利要求1所述的变焦跟踪曲线的校准方法，其特征在于，所述方法还包括：根据预设规则从所述函数集合中选择多个端点作为畸变校准点；分别控制所述待校准镜头在每个畸变校准点所对应的变焦位置下进行对焦操作，并获取所述待校准镜头在每个畸变校准点所对应的变焦位置下的实际对焦位置；根据在所述第一曲线中与每个畸变校准点对应的变焦位置和理论对焦位置，建立相邻的两个畸变校准点之间的第一线性函数；根据与每个畸变校准点对应的变焦位置和实际对焦位置，建立相邻的两个畸变校准点之间的第二线性函数；确定所述第一线性函数的第一斜率，以及与所述第一线性函数对应的第二线性函数的第二斜率；根据所述第二斜率与所述第一斜率之间的比值，分别对所述函数集合中的每段线性函数进行校准。3.根据权利要求2所述的变焦跟踪曲线的校准方法，其特征在于，根据所述第二斜率与所述第一斜率之间的比值，分别对所述函数集合中的每段线性函数进行校准包括：将所述函数集合中对应所述第一斜率和所述第二斜率的相邻的两个畸变校准点之间的每段线性函数的斜率均乘以所述比值，得到所述函数集合中的每段线性函数所对应的校准斜率；根据每段线性函数所对应的校准斜率，以及与每个畸变校准点对应的变焦位置和实际对焦位置，得到与所述待校准镜头对应的校准函数集合，并将所述校准函数集合组成的第三曲线作为所述待校准镜头的变焦跟踪曲线。4.根据权利要求2所述的变焦跟踪曲线的校准方法，其特征在于，根据预设规则从所述函数集合中选择多个端点作为畸变校准点包括：从所述函数集合的多个端点中选择起始点、终点、波峰点、向上斜率达到预设阈值的端点以及向下斜率达到预设阈值的端点作为畸变校准点。5.根据权利要求1所述的变焦跟踪曲线的校准方法，其特征在于，利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应所述第一曲线的函数集合包括：利用最小二乘法对所述第一曲线中的第一坐标点和第二坐标点进行线性回归计算，得到对应所述第一坐标点和所述第二坐标点的线性函数；将所述线性函数与所述第一曲线进行比较，确定所述线性函数中的每个坐标点所对应误差是否均处于预设的误差区间内；在所述线性函数中每个所述坐标点所对应的误差均处于所述误差区间内时，确定所述第二坐标点的下一个坐标点为终点，并利用最小二乘法重新建立线性函数，以及确定重新建立后的线性函数中每个所述坐标点所对应的误差是否均落入预设的误差区间内；在重新建立后的线性函数中至少一个所述坐标点所对应的误差未处于所述误差区间时，将重新建立前的线性函数加入所述函数集合，并将重新建立前的线性函数的终点作为下一段线性函数的起始点，并利用最小二乘法建立下一段线性函数，直至所述第一曲线中的所有坐标点被所述函数集合覆盖。6.根据权利要求5所述的变焦跟踪曲线的校准方法，其特征在于，将所述线性函数与所述第一曲线进行比较，确定所述线性函数中的每个坐标点所对应误差是否均处于预设的误差区间内包括：将所述线性函数中的坐标点所对应的函数值，与所述坐标点在所述第一曲线上所对应的理论对焦位置进行比较，确定所述函数值与所述理论对焦位置之间的误差是否均处于所述误差区间内。7.根据权利要求1所述的变焦跟踪曲线的校准方法，其特征在于，将所述第二曲线作为所述待校准镜头的变焦跟踪曲线包括：确定采用所述第二曲线作为变焦跟踪曲线的待校准镜头在与所述待校准镜头生产批次相同的所有镜头中的数量占比是否达到预设比值；在所述数量占比达到所述预设比值时，确定与所述待校准镜头生产批次相同的每个镜头均采用所述第二曲线作为变焦跟踪曲线。8.一种变焦跟踪曲线的校准装置，其特征在于，所述装置包括：拟合模块，用于利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应所述第一曲线的函数集合，其中，所述函数集合包括多段线性函数；测试模块，用于确定每段线性函数的端点为曲线校准点，分别控制所述待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取所述待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置；校准模块，用于根据所述待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定与所述待校准镜头对应的第二曲线，并将所述第二曲线作为所述待校准镜头的变焦跟踪曲线。9.一种电子装置，包括存储器和处理器，其特征在于，所述存储器中存储有计算机程序，所述处理器被设置为运行所述计算机程序以执行权利要求1至7中任一项所述的变焦跟踪曲线的校准方法。10.一种存储介质，其特征在于，所述存储介质中存储有计算机程序，其中，所述计算机程序被处理器执行时实现权利要求1至7中任一项所述的变焦跟踪曲线的校准方法。
说明书desc
技术领域本申请涉及视频监控技术领域，特别是涉及一种变焦跟踪曲线的校准方法、系统、电子装置和存储介质。背景技术现有的视频监控设备往往设置有变焦镜头，变焦镜头的变焦位置与对焦位置之间有一一对应的关系。在进行变焦操作时，变焦镜头的焦距会发生变化，变焦镜头最终的对焦面将不会在图像传感器上，为了保证对焦面始终与图像传感器共面，必须控制对焦电机根据变焦跟踪曲线进行实时移动。变焦跟踪曲线就是在一定的物距下，根据变焦电机的位置关系与对焦电机的位置关系之间的对应关系获得的的曲线，在不同物距下的景物具有不同的变焦跟踪曲线。由于变焦镜头生产工艺水平的限制，不能准确地保证厂家所提供的原始变焦跟踪曲线完全适用于其所生产的变焦镜头。变焦镜头的个体差异会造成变焦跟踪曲线不匹配的问题。进一步地，视频监控设备在设置变焦镜头时，由于变焦镜头与视频监控设备的后焦距存在误差，也容易造成在实际视频监控应用过程中，变焦跟踪曲线不匹配的问题，使得视频监控获得的视频数据模糊。目前针对相关技术中变焦镜头不匹配变焦跟踪曲线所导致的视频模糊的问题，尚未提出有效的解决方案。发明内容本申请实施例提供了一种变焦跟踪曲线的校准方法、系统、电子装置和存储介质，以至少解决相关技术中变焦镜头不匹配变焦跟踪曲线所导致的视频模糊的问题。第一方面，本申请实施例提供了一种变焦跟踪曲线的校准方法，所述方法包括：利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应所述第一曲线的函数集合，其中，所述函数集合包括多段线性函数；确定每段线性函数的端点为曲线校准点，分别控制所述待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取所述待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置；根据所述待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定与所述待校准镜头对应的第二曲线，并将所述第二曲线作为所述待校准镜头的变焦跟踪曲线。在其中一些实施例中，所述方法还包括：根据预设规则从所述函数集合中选择多个端点作为畸变校准点；分别控制所述待校准镜头在每个畸变校准点所对应的变焦位置下进行对焦操作，并获取所述待校准镜头在每个畸变校准点所对应的变焦位置下的实际对焦位置；根据在所述第一曲线中与每个畸变校准点对应的变焦位置和理论对焦位置，建立相邻的两个畸变校准点之间的第一线性函数；根据与每个畸变校准点对应的变焦位置和实际对焦位置，建立相邻的两个畸变校准点之间的第二线性函数；确定所述第一线性函数的第一斜率，以及与所述第一线性函数对应的第二线性函数的第二斜率；根据所述第二斜率与所述第一斜率之间的比值，分别对所述函数集合中的每段线性函数进行校准。在其中一些实施例中，根据所述第二斜率与所述第一斜率之间的比值，分别对所述函数集合中的每段线性函数进行校准包括：将所述函数集合中对应所述第一斜率和所述第二斜率的相邻的两个畸变校准点之间的每段线性函数的斜率均乘以所述比值，得到所述函数集合中的每段线性函数所对应的校准斜率；根据每段线性函数所对应的校准斜率，以及与每个畸变校准点对应的变焦位置和实际对焦位置，得到与所述待校准镜头对应的校准函数集合，并将所述校准函数集合组成的第三曲线作为所述待校准镜头的变焦跟踪曲线。在其中一些实施例中，根据预设规则从所述函数集合中选择多个端点作为畸变校准点包括：从所述函数集合的多个端点中选择起始点、终点、波峰点、向上斜率达到预设阈值的端点以及向下斜率达到预设阈值的端点作为畸变校准点。在其中一些实施例中，利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应所述第一曲线的函数集合包括：利用最小二乘法对所述第一曲线中的第一坐标点和第二坐标点进行线性回归计算，得到对应所述第一坐标点和所述第二坐标点的线性函数；将所述线性函数与所述第一曲线进行比较，确定所述线性函数中的每个坐标点所对应误差是否均处于预设的误差区间内；在所述线性函数中每个所述坐标点所对应的误差均处于所述误差区间内时，确定所述第二坐标点的下一个坐标点为终点，并利用最小二乘法重新建立线性函数，以及确定重新建立后的线性函数中每个所述坐标点所对应的误差是否均落入预设的误差区间内；在重新建立后的线性函数中至少一个所述坐标点所对应的误差未处于所述误差区间时，将重新建立前的线性函数加入所述函数集合，并将重新建立前的线性函数的终点作为下一段线性函数的起始点，并利用最小二乘法建立下一段线性函数，直至所述第一曲线中的所有坐标点被所述函数集合覆盖。在其中一些实施例中，将所述线性函数与所述第一曲线进行比较，确定所述线性函数中的每个坐标点所对应误差是否均处于预设的误差区间内包括：将所述线性函数中的坐标点所对应的函数值，与所述坐标点在所述第一曲线上所对应的理论对焦位置进行比较，确定所述函数值与所述理论对焦位置之间的误差是否均处于所述误差区间内。在其中一些实施例中，将所述第二曲线作为所述待校准镜头的变焦跟踪曲线包括：确定采用所述第二曲线作为变焦跟踪曲线的待校准镜头在与所述待校准镜头生产批次相同的所有镜头中的数量占比是否达到预设比值；在所述数量占比达到所述预设比值时，确定与所述待校准镜头生产批次相同的每个镜头均采用所述第二曲线作为变焦跟踪曲线。第二方面，本申请实施例还提供了一种变焦跟踪曲线的校准装置，所述装置包括：拟合模块，用于利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应所述第一曲线的函数集合，其中，所述函数集合包括多段线性函数；测试模块，用于确定每段线性函数的端点为曲线校准点，分别控制所述待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取所述待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置；校准模块，用于根据所述待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定与所述待校准镜头对应的第二曲线，并将所述第二曲线作为所述待校准镜头的变焦跟踪曲线。第三方面，本申请实施例还提供了一种电子装置，包括存储器和处理器，所述存储器中存储有计算机程序，所述处理器被设置为运行所述计算机程序以执行如上述第一方面所述的变焦跟踪曲线的校准方法。第四方面，本申请实施例还提供了一种存储介质，所述存储介质中存储有计算机程序，其中，所述计算机程序被处理器执行时实现如上述第一方面所述的变焦跟踪曲线的校准方法。相比于相关技术，本申请实施例提供的变焦跟踪曲线的校准方法、系统、电子装置和存储介质，利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应第一曲线的函数集合，其中，函数集合包括多段线性函数；确定每段线性函数的端点为曲线校准点，分别控制待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置；根据待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定与待校准镜头对应的第二曲线，并将第二曲线作为待校准镜头的变焦跟踪曲线，解决了相关技术中变焦镜头不匹配变焦跟踪曲线所导致的视频模糊的问题，实现了提高变焦镜头的图像质量的技术效果。本申请的一个或多个实施例的细节在以下附图和描述中提出，以使本申请的其他特征、目的和优点更加简明易懂。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1是根据本申请实施例的变焦跟踪曲线的校准方法的流程图；图2是根据本申请实施例的第一曲线和第二曲线示意图；图3是根据本申请实施例的对第一曲线进行线性拟合的流程图；图4是根据本申请实施例的变焦跟踪曲线的校准装置的结构框图；图5是根据本申请实施例的电子装置的结构示意图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行描述和说明。应当理解，此处所描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。基于本申请提供的实施例，本领域普通技术人员在没有作出创造性劳动的前提下所获得的所有其他实施例，都属于本申请保护的范围。此外，还可以理解的是，虽然这种开发过程中所作出的努力可能是复杂并且冗长的，然而对于与本申请公开的内容相关的本领域的普通技术人员而言，在本申请揭露的技术内容的基础上进行的一些设计，制造或者生产等变更只是常规的技术手段，不应当理解为本申请公开的内容不充分。在本申请中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域普通技术人员显式地和隐式地理解的是，本申请所描述的实施例在不冲突的情况下，可以与其它实施例相结合。除非另作定义，本申请所涉及的技术术语或者科学术语应当为本申请所属技术领域内具有一般技能的人士所理解的通常意义。本申请所涉及的“一”、“一个”、“一种”、“该”等类似词语并不表示数量限制，可表示单数或复数。本申请所涉及的术语“包括”、“包含”、“具有”以及它们任何变形，意图在于覆盖不排他的包含；例如包含了一系列步骤或模块的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可以还包括没有列出的步骤或单元，或可以还包括对于这些过程、方法、产品或设备固有的其它步骤或单元。本申请所涉及的“连接”、“相连”、“耦接”等类似的词语并非限定于物理的或者机械的连接，而是可以包括电气的连接，不管是直接的还是间接的。本申请所涉及的“多个”是指大于或者等于两个。“和/或”描述关联对象的关联关系，表示可以存在三种关系，例如，“A和/或B”可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。本申请所涉及的术语“第一”、“第二”、“第三”等仅仅是区别类似的对象，不代表针对对象的特定排序。本实施例提供了一种变焦跟踪曲线的校准方法，图1是根据本申请实施例的变焦跟踪曲线的校准方法的流程图，如图1所示，该方法包括：步骤S101，利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应第一曲线的函数集合，其中，函数集合包括多段线性函数。在本实施例中，待校准镜头可以适用于安防监控领域的变焦镜头，或者适用于视频会议领域的变焦镜头，第一曲线为预设的与待校准镜头匹配的理论变焦跟踪曲线，即镜头的生产厂商提供的图像清晰时镜头的变焦位置与对焦位置之间的对应关系。在上述实施例中，第一曲线的函数集合可以表示为：其中，mn是每段线性函数的梯度，cn是每段线性函数的截距，N1、N2、…、Nn-1、Nn为线性函数的端点。步骤S102，确定每段线性函数的端点为曲线校准点，分别控制待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置。在本实施例中，若对待校准镜头的所有变焦位置分别进行对焦操作，会话费较多时间，降低生产效率。通过对第一曲线进行线性拟合，得到对应第一曲线的包括多段线性函数的函数集合，并以每段线性函数的端点作为曲线校准点，分别控制待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，所获取的实际对焦位置结合了待校准镜头的自身特性，校准后的变焦镜头在对焦过程中保证图像相对清晰，同时提高变焦镜头的生产效率。步骤S103，根据待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定与待校准镜头对应的第二曲线，并将第二曲线作为待校准镜头的变焦跟踪曲线。在本实施例中，可以根据待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，将校准后的实际对焦位置相连，组合成符合待校准镜头自身特性的实际变焦跟踪曲线，并存储该第二曲线，作为在安装或者使用过程中变焦镜头自动对焦所依据的变焦跟踪曲线，依据该变焦跟踪曲线进行自动聚焦，有利于提高变焦镜头的对焦速度和对焦准确性。通过上述步骤S101至步骤S103，利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应第一曲线的函数集合，其中，函数集合包括多段线性函数；确定每段线性函数的端点为曲线校准点，分别控制待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置；根据待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定与待校准镜头对应的第二曲线，并将第二曲线作为待校准镜头的变焦跟踪曲线。该第二曲线符合变焦镜头的自身特性，依据该第二曲线进行对焦操作有利于提高镜头的对焦速度和对焦准确性，进而提高变焦镜头拍摄图像的质量，还提高了变焦镜头的生产效率。通过本申请，解决了相关技术中变焦镜头不匹配变焦跟踪曲线所导致的视频模糊的问题，实现了提高变焦镜头的图像质量的技术效果。在其中一些实施例中，该方法还实施如下步骤：步骤1，根据预设规则从函数集合中选择多个端点作为畸变校准点。步骤2，分别控制待校准镜头在每个畸变校准点所对应的变焦位置下进行对焦操作，并获取待校准镜头在每个畸变校准点所对应的变焦位置下的实际对焦位置。步骤3，根据在第一曲线中与每个畸变校准点对应的变焦位置和理论对焦位置，建立相邻的两个畸变校准点之间的第一线性函数。步骤4，根据与每个畸变校准点对应的变焦位置和实际对焦位置，建立相邻的两个畸变校准点之间的第二线性函数。步骤5，确定第一线性函数的第一斜率，以及与第一线性函数对应的第二线性函数的第二斜率。步骤6，根据第二斜率与第一斜率之间的比值，分别对函数集合中的每段线性函数进行校准。在本实施例中，可以根据第一曲线和第二曲线确定实际变焦跟踪曲线和理论变焦跟踪曲线之间误差较大的端点作为畸变校准点，例如，在其中一些实施例中，可以从第一曲线所对应的函数集合的多个端点中选择起始点、终点、波峰点、向上斜率达到预设阈值的端点以及向下斜率达到预设阈值的端点作为畸变校准点，该预设阈值可以为45度，也可以按照用户需要选择其他阈值、或按照其他规则选取畸变校准点。图2是根据本申请实施例的第一曲线和第二曲线示意图，如图2所示，由X1’、…、X12’组成的曲线为第二曲线，由X1、…、X12组成的曲线为第一曲线，且选取X1、X5、X7、X9、X12作为畸变校准点。在上述实施例中，在待校准镜头需要二次校准或者与待校准镜头同型号的变焦镜头需要进行校准时，可以控制镜头在每个畸变校准点所对应的变焦位置下进行对焦操作，并获取镜头在每个畸变校准点所对应的变焦位置下的实际对焦位置，并根据在第一曲线中与每个畸变校准点对应的变焦位置和理论对焦位置，建立相邻的两个畸变校准点之间的第一线性函数，以及根据与每个畸变校准点对应的变焦位置和实际对焦位置，建立相邻的两个畸变校准点之间的第二线性函数。例如，以X1和X5作为相邻的两个畸变校准点，根据X1和X5建立第一线性函数Y1＝M1x+C1，再获取镜头在X1和X5两个畸变校准点所对应的变焦位置下的实际对焦位置，得到X1”和X5”两个坐标点，根据X1”和X5”建立第二线性函数Y2＝M2x+C2。在本实施例中，可以根据第二斜率M2与第一斜率M1之间的比值K＝M2/M1，分别对函数集合中的每段线性函数进行校准。在本实施例中，根据第二斜率M2与第一斜率M1之间的比值K＝M2/M1，分别对函数集合中的每段线性函数进行校准包括如下步骤：步骤1，将函数集合中对应第一斜率和第二斜率的相邻的两个畸变校准点之间的每段线性函数的斜率均乘以比值，得到函数集合中的每段线性函数所对应的校准斜率。步骤2，根据每段线性函数所对应的校准斜率，以及与每个畸变校准点对应的变焦位置和实际对焦位置，得到与待校准镜头对应的校准函数集合，并将校准函数集合组成的第三曲线作为待校准镜头的变焦跟踪曲线。如图2所示，在本实施例中，以第一曲线为例，X1和X5两个畸变校准点之间还存在X2、X3和X4，即X1和X5之间还存在四段线性函数，分别为：其中，Nn为在Xn该畸变校准点下的变焦位置，在获取得到第二斜率M2与第一斜率M1之间的比值K＝M2/M1之后，可以将m1、m2、m3和m4均乘以K，得到每段线性函数所对应的校准斜率Km1、Km2、Km3和Km4。然后根据每段线性函数所对应的校准斜率Km1、Km2、Km3和Km4，以及畸变校准点X1”和X5”对应的变焦位置和实际对焦位置，进行计算，即可得到X1和X5之间的四段校准函数，分别校准完所有相邻畸变校准点之间的线性函数之后，即可得到与待校准镜头对应的校准函数集合，并将校准函数集合组成的第三曲线作为待校准镜头的变焦跟踪曲线。在上述实施例中，通过预设规则获取理论变焦跟踪曲线和实际变焦跟踪曲线之间畸变较大的畸变校准点，在后续变焦镜头需要进行畸变校准或者与该变焦镜头同型号的变焦镜头需要进行快速校准时，只需要测试变焦镜头在畸变校准点下的实际对焦位置，并利用测试得到的变焦镜头在畸变校准点下的实际对焦位置，计算第二线性函数与第一线性函数之间的斜率比值，根据该斜率比值即可拟合得到实际的符合该变焦镜头自身特性的实际变焦跟踪曲线的函数集合，有效地提高了变焦跟踪曲线校准的速度和准确度，进而提高了变焦变焦镜头拍摄图像的质量。在其中一些实施例中，利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应第一曲线的函数集合通过如下步骤实现：步骤1，利用最小二乘法对第一曲线中的第一坐标点和第二坐标点进行线性回归计算，得到对应第一坐标点和第二坐标点的线性函数。步骤2，将线性函数与第一曲线进行比较，确定线性函数中的每个坐标点所对应误差是否均处于预设的误差区间内。步骤3，在线性函数中每个坐标点所对应的误差均处于误差区间内时，确定第二坐标点的下一个坐标点为终点，并利用最小二乘法重新建立线性函数，以及确定重新建立后的线性函数中每个坐标点所对应的误差是否均落入预设的误差区间内。步骤4，在重新建立后的线性函数中至少一个坐标点所对应的误差未处于误差区间时，将重新建立前的线性函数加入函数集合，并将重新建立前的线性函数的终点作为下一段线性函数的起始点，并利用最小二乘法建立下一段线性函数，直至第一曲线中的所有坐标点被函数集合覆盖。在本实施例中，将线性函数与第一曲线进行比较，确定线性函数中的每个坐标点所对应误差是否均处于预设的误差区间内包括：将线性函数中的坐标点所对应的函数值，与坐标点在第一曲线上所对应的理论对焦位置进行比较，确定函数值与理论对焦位置之间的误差是否均处于误差区间内。图3是根据本申请实施例的对第一曲线进行线性拟合的流程图，如图3所示，在本实施例中，对第一曲线进行线性拟合通过如下步骤实现：步骤301，获取第一曲线。步骤302，从第一曲线的第一坐标点开始，依次增加一个坐标点，加入线性回归计算数据集。步骤303，判断每个坐标点的线性值与理论值的误差是否均在预设的误差区间内，是则进入步骤S302，否则进入步骤304。步骤304，将该数据集中最后一个坐标点剥离，并依据剥离坐标点后的数据集建立线性函数，将该线性函数加入函数集合，且该线性函数的终点坐标作为下一轮线性回归计算数据集的起点坐标。步骤305，判断第一曲线的所有坐标点是否均被函数集合覆盖，是则结束线性拟合过程，否则进入步骤S302。在上述实施例中，最小二乘法公式表示为：表1表1为线性回归计算数据集的一个示例，该数据集中包括四个坐标点，利用最小二乘法对该数据集进行线性回归计算，计算得到m＝1.5307，c＝-0.23，则该线性回归计算数据集计算得到的线性函数为：y＝1.5307x-0.23，依据该线性函数可以计算得到每个坐标点的线性值y1＝1.5307*2-0.23＝2.83，y2＝1.5307*6-0.23＝8.9542，y3＝1.5307*9-0.23＝13.5463，y4＝1.5307*13-0.23＝19.6691。通过比较每个坐标点的线性值2.83、8.9542、13.5463、19.6691与理论值4、8、12、21之间的误差是否在预设的误差区间内，决定是否结束该段线性函数的计算。例如，当每个坐标点的线性值与理论值之间的误差均在预设的误差区间内时，则取后一个坐标点加入该线性回归计算数据集，重新依据最小二乘法进行线性回归计算，得到新的线性函数，并重新判断新的线性函数中每个坐标点的线性值与理论值之间的误差是否在预设的误差区间内，若在新的线性函数中至少坐标点的线性值与理论值之间的误差不在预设的误差区间内时，则确定旧线性函数即y＝1.5307x-0.23为误差较小的线性函数，将该线性函数加入函数集合，并以该线性函数的终点坐标作为下一轮线性回归计算数据集的起点坐标。依次类推，直至计算到第一曲线的最后一个坐标点，对第一曲线进行多次线性拟合，进而得到第一曲线的函数集合表达式。在上述实施例中，适用于视频会议领域的变焦镜头具有视角大、畸变小等特点，此类变焦镜头的变焦跟踪曲线的线性度较好，为了更好地还原该变焦镜头的理论变焦跟踪曲线，设置的误差区间越小，则变焦镜头的理论焦距与实际焦距越接近，故针对视频会议的变焦镜头的误差区间可以设置为“≤1”，最大程度还原理论变焦跟踪曲线并不会对图像造成任何影响。在其他实施例中，该误差区间还可以根据具体的变焦镜头的自身特性进行其他设置，满足各类场景下的需要。在其中一些实施例中，将第二曲线作为待校准镜头的变焦跟踪曲线通过如下步骤实现：步骤1，确定采用第二曲线作为变焦跟踪曲线的待校准镜头在与待校准镜头生产批次相同的所有镜头中的数量占比是否达到预设比值。步骤2，在数量占比达到预设比值时，确定与待校准镜头生产批次相同的每个镜头均采用第二曲线作为变焦跟踪曲线。在本实施例中，该预设比值可以设置为50％，即确定采用第二曲线作为变焦跟踪曲线的待校准镜头在与待校准镜头生产批次相同的所有镜头中的数量占比达到50％时，确定与待校准镜头生产批次相同的每个镜头均采用第二曲线作为变焦跟踪曲线，提高同一生产批次的变焦镜头的生产效率和变焦跟踪曲线的校准效率。本实施例提供了一种变焦跟踪曲线的校准装置，图4是根据本申请实施例的变焦跟踪曲线的校准装置的结构框图，如图4所示，该装置包括：拟合模块41，用于利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应第一曲线的函数集合，其中，函数集合包括多段线性函数；测试模块42，用于确定每段线性函数的端点为曲线校准点，分别控制待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置；校准模块43，用于根据待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定与待校准镜头对应的第二曲线，并将第二曲线作为待校准镜头的变焦跟踪曲线。在其中一些实施例中，该装置还包括快速校准模块，用于根据预设规则从函数集合中选择多个端点作为畸变校准点；分别控制待校准镜头在每个畸变校准点所对应的变焦位置下进行对焦操作，并获取待校准镜头在每个畸变校准点所对应的变焦位置下的实际对焦位置；根据在第一曲线中与每个畸变校准点对应的变焦位置和理论对焦位置，建立相邻的两个畸变校准点之间的第一线性函数；根据与每个畸变校准点对应的变焦位置和实际对焦位置，建立相邻的两个畸变校准点之间的第二线性函数；确定第一线性函数的第一斜率，以及与第一线性函数对应的第二线性函数的第二斜率；根据第二斜率与第一斜率之间的比值，分别对函数集合中的每段线性函数进行校准。在其中一些实施例中，快速校准模块还被配置为用于将函数集合中对应第一斜率和第二斜率的相邻的两个畸变校准点之间的每段线性函数的斜率均乘以比值，得到函数集合中的每段线性函数所对应的校准斜率；根据每段线性函数所对应的校准斜率，以及与每个畸变校准点对应的变焦位置和实际对焦位置，得到与待校准镜头对应的校准函数集合，并将校准函数集合组成的第三曲线作为待校准镜头的变焦跟踪曲线。在其中一些实施例中，快速校准模块还被配置为用于从函数集合的多个端点中选择起始点、终点、波峰点、向上斜率达到预设阈值的端点以及向下斜率达到预设阈值的端点作为畸变校准点。在其中一些实施例中，拟合模块41还被配置为用于利用最小二乘法对第一曲线中的第一坐标点和第二坐标点进行线性回归计算，得到对应第一坐标点和第二坐标点的线性函数；将线性函数与第一曲线进行比较，确定线性函数中的每个坐标点所对应误差是否均处于预设的误差区间内；在线性函数中每个坐标点所对应的误差均处于误差区间内时，确定第二坐标点的下一个坐标点为终点，并利用最小二乘法重新建立线性函数，以及确定重新建立后的线性函数中每个坐标点所对应的误差是否均落入预设的误差区间内；在重新建立后的线性函数中至少一个坐标点所对应的误差未处于误差区间时，将重新建立前的线性函数加入函数集合，并将重新建立前的线性函数的终点作为下一段线性函数的起始点，并利用最小二乘法建立下一段线性函数，直至第一曲线中的所有坐标点被函数集合覆盖。在其中一些实施例中，拟合模块41还被配置为用于将线性函数中的坐标点所对应的函数值，与坐标点在第一曲线上所对应的理论对焦位置进行比较，确定函数值与理论对焦位置之间的误差是否均处于误差区间内。在其中一些实施例中，校准模块43还被配置为用于确定采用第二曲线作为变焦跟踪曲线的待校准镜头在与待校准镜头生产批次相同的所有镜头中的数量占比是否达到预设比值；在数量占比达到预设比值时，确定与待校准镜头生产批次相同的每个镜头均采用第二曲线作为变焦跟踪曲线。需要说明的是，本实施例中的具体示例可以参考上述实施例及可选实施方式中所描述的示例，本实施例在此不再赘述。本实施例还提供了一种电子装置，图5是根据本申请实施例的电子装置的硬件结构示意图，如图5所示，该电子装置包括存储器504和处理器502，该存储器504中存储有计算机程序，该处理器502被设置为运行计算机程序以执行上述任一项方法实施例中的步骤。具体地，上述处理器502可以包括中央处理器，或者特定集成电路，或者可以被配置成实施本申请实施例的一个或多个集成电路。其中，存储器504可以包括用于数据或指令的大容量存储器。举例来说而非限制，存储器504可包括硬盘驱动器、软盘驱动器、固态驱动器、闪存、光盘、磁光盘、磁带或通用串行总线驱动器或者两个或更多个以上这些的组合。在合适的情况下，存储器504可包括可移除或不可移除的介质。在合适的情况下，存储器504可在变焦跟踪曲线的校准装置的内部或外部。在特定实施例中，存储器504是非易失性存储器。在特定实施例中，存储器504包括只读存储器和随机存取存储器。在合适的情况下，该ROM可以是掩模编程的ROM、可编程ROM、可擦除PROM、电可擦除PROM、电可改写ROM或闪存或者两个或更多个以上这些的组合。在合适的情况下，该RAM可以是静态随机存取存储器或动态随机存取存储器，其中，DRAM可以是快速页模式动态随机存取存储器、扩展数据输出动态随机存取存储器、同步动态随机存取内存等。存储器504可以用来存储或者缓存需要处理和/或通信使用的各种数据文件，以及处理器502所执行的可能的计算机程序指令。处理器502通过读取并执行存储器504中存储的计算机程序指令，以实现上述实施例中的任意一种变焦跟踪曲线的校准方法。可选地，上述电子装置还可以包括传输设备506以及输入输出设备508，其中，该传输设备506和上述处理器502连接，该输入输出设备508和上述处理器502连接。可选地，在本实施例中，上述处理器502可以被设置为通过计算机程序执行以下步骤：S1，利用最小二乘法对预设的与待校准镜头匹配的第一曲线进行线性拟合，得到对应第一曲线的函数集合，其中，函数集合包括多段线性函数。S2，确定每段线性函数的端点为曲线校准点，分别控制待校准镜头在每个曲线校准点所对应的变焦位置下进行对焦操作，并获取待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置。S3，根据待校准镜头在每个曲线校准点所对应的变焦位置下的实际对焦位置，确定与待校准镜头对应的第二曲线，并将第二曲线作为待校准镜头的变焦跟踪曲线。需要说明的是，本实施例中的具体示例可以参考上述实施例及可选实施方式中所描述的示例，本实施例在此不再赘述。另外，结合上述实施例中的变焦跟踪曲线的校准方法，本申请实施例可提供一种存储介质来实现。该存储介质上存储有计算机程序；该计算机程序被处理器执行时实现上述实施例中的任意一种变焦跟踪曲线的校准方法。本领域的技术人员应该明白，以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本申请范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请的保护范围应以所附权利要求为准。
