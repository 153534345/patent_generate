标题title
双向非隔离DCDC拓扑控制电路及相关装置
摘要abst
本申请实施例提供了一种双向非隔离DCDC拓扑控制电路及相关装置，所述双向非隔离DCDC拓扑控制电路包括双向非隔离DCDC拓扑电路，其中，双向非隔离DCDC拓扑电路包括输入电压、第一开关管、第二开关管、第三开关管、第四开关管、第一输入电容、第二输入电容、第一输出电容、第二输出电容、第一储能电感、第二储能电感以及输出电压。该拓扑电路相较于目前实际应用中的非隔离DCDC电源拓扑而言，即能够同时实现升压和降压的操作，也能够保证各开关器件的电压应力均衡，并且通过将输入和输出由电容中点连接的设计，有效解决的多模块并联环流的问题。
权利要求书clms
1.一种双向非隔离DCDC拓扑控制电路，其特征在于，所述双向非隔离DCDC拓扑控制电路包括双向非隔离DCDC拓扑电路，其中，所述双向非隔离DCDC拓扑电路包括：输入电压、第一开关管、第二开关管、第三开关管、第四开关管、第一输入电容、第二输入电容、第一输出电容、第二输出电容、第一储能电感、第二储能电感以及输出电压；所述输入电压的正极分别与所述第一输入电容的第一接口和所述第一开关管的第三接口连接；所述第一输入电容的第二接口与所述第二输入电容的第五接口连接；所述第二输入电容的第六接口分别与所述输入电压的负极和所述第二开关管的第七接口连接；所述第二开关管的第八接口分别与所述第二储能电感的第九接口和所述第四开关管的第十九接口连接；所述第二储能电感的第十接口与所述第一储能电感的第十一接口连接；所述第一储能电感的第十二接口分别与所述第一开关管的第四接口和所述第三开关管的第十三接口连接；所述第三开关管的第十四接口分别与所述第一输出电容的第十五接口和所述输出电压的负极连接；所述第一输出电容的第十六接口与所述第二输出电容的第十七接口连接；所述第二输出电容的第十八接口分别与所述第四开关管的第二十接口和所述输出电压的负极连接；将所述第一输入电容的所述第二接口、所述第二输入电容的所述第五接口分别与所述第一输出电容的所述第十六接口、所述第二输出电容的所述第十七接口连接，并与所述第一储能电感的所述第十一接口和所述第二储能电感的所述第十接口连接以形成结点O。2.根据权利要求1所述的电路，其特征在于，所述双向非隔离DCDC拓扑控制电路还包括驱动控制模块；所述驱动控制模块与所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管耦合连接，所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管的导通或者关断。3.根据权利要求2所述的电路，其特征在于，所述驱动控制模块的控制模式包括交错发波控制模式，所述驱动开关管信号包括第一驱动开关管信号和第二驱动开关管信号，在所述交错发波控制模式下，所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管的导通或者关断，包括：所述驱动控制模块用于发送所述第一驱动开关管信号以控制所述第一开关管和所述第三开关管的导通或者关断；以及，所述驱动控制模块用于发送所述第二驱动开关管信号以控制所述第二开关管和所述第四开关管的导通或者关断。4.根据权利要求2所述的电路，其特征在于，所述驱动控制模块的控制模式包括同步发波控制模式，在所述同步发波控制模式下，所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管的导通或者关断，包括：所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管和所述第二开关管同步导通或关断，以及控制所述第三开关管和所述第四开关管同步导通或关断。5.根据权利要求1所述的电路，其特征在于，所述双向非隔离DCDC拓扑控制电路还包括输入电压采样模块、输出电压采样模块，输出电流采样模块、输出电压均压补偿模块、调制发生器模组、环路补偿计算模组；其中，所述输入电压采样模块与所述第一输入电容和所述第二输入电容并联耦合，所述输出电压采样模块与所述第一输出电容和所述第二输出电容并联耦合，所述输入电压采样模块与所述调制发生器模组连接，所述输出电压采样模块分别与所述环路补偿计算模组和所述输出电压均压补偿模块连接，所述输出电流采样模块与所述输出电压串联耦合，所述输出电流采样模块与所述环路补偿计算模组连接，所述调制发生器模组分别与所述输出电压均压补偿模块、所述环路补偿计算模组以及所述第一开关管、第二开关管、第三开关管、第四开关管连接；所述输入电压采样模块用于采样所述第一输入电容的第一输入电容电压和所述第二输入电容的第二输入电容电压，以及根据所述第一输入电容电压和所述第二输入电容电压确定输入总电压；所述输入电压采样模块用于采样所述第一输出电容的第一输出电容电压和所述第二输出电容的第二输出电容电压，以及根据所述第一输出电容电压和所述第二输出电容电压确定输出总电压和输出电压差值；所述输出电流采样模块用于采样所述输出电压对应的输出总电流；所述输出电压均压补偿模块用于根据所述输出电压采样模块确定的所述输出电压差值；以及，将所述输出电压差值和预存的输出电压均压补偿系数相乘得到均压补偿结果；所述环路补偿计算模组用于根据所述输出电压采样模块确定的所述输出总电压和所述输出电流采样模块采样的所述输出总电流得到环路输出结果；所述调制发生器模组用于根据所述环路补偿计算模组确定的所述环路输出结果、所述输出电压均压补偿模块确定的所述均压补偿结果、所述输入电压采样模块确定的所述输入总电压和所述输出电压采样模块确定的所述输出总电压确定出每个开关管对应的发波占空比，所述每个开关管对应的发波占空比包括所述第一开关管对应的第一发波占空比、所述第二开关管对应的第二发波占空比、所述第三开关管对应的第三发波占空比和所述第四开关管对应的第四发波占空比；以及，根据所述第一发波占空比、所述第二发波占空比、所述第三发波占空比和所述第四发波占空比向所述每个开关管发送驱动管信号以控制对应的开关管的导通或者关断。6.根据权利要求5所述的电路，其特征在于，所述环路补偿计算模组包括电压环环路输出结果计算模块、电流环环路输出结果计算模块和最小值确定模块，所述电压环环路输出结果计算模块包括电压采样计算补偿器和输出电压环环路补偿器，所述电流环环路输出结果计算模块包括电流采样计算补偿器和输出电流环环路补偿器；以及，所述最小值确定模块分别与所述电压环环路输出结果计算模块和所述电流环环路输出结果计算模块连接；所述电压环环路输出结果计算模块用于通过所述电压采样计算补偿器根据所述输出总电压和预存的输出电压给定值计算补偿得到电压误差值；以及，通过所述输出电压环环路补偿器根据所述电压误差值得到电压环输出结果；所述电流环环路输出结果计算模块用于通过所述电流采样计算补偿器根据所述输出总电流和预存的输出电流给定值计算补偿得到电流误差值；以及，通过所述输出电流环环路补偿器根据所述电流误差值得到电流环输出结果；所述最小值确定模块用于确定所述电压环输出结果和所述电流环输出结果中数值最小的输出结果，将所述数值最小的输出结果作为所述环路输出结果，其中，所述数值最小的输出结果为所述电压环输出结果或所述电流环输出结果。7.根据权利要求5所述的电路，其特征在于，所述调制发生器模组包括第一调制发生器、第二调制发生器、第三调制发生器、第四调制发生器和发波占空比计算模块；其中，所述发波占空比计算模块分别与所述第一调制发生器、所述第二调制发生器、所述第三调制发生器和所述第四调制发生器连接，所述第一调制发生器与所述第一开关管连接，所述第二调制发生器与所述第二开关管连接，所述第三调制发生器与所述第三开关管连接，所述第四调制发生器与所述第四开关管连接；所述发波占空比计算模块用于将所述均压补偿结果和所述环路输出结果相减得到所述第一发波占空比；以及，将所述均压补偿结果和所述环路输出结果相加得到所述第二发波占空比；以及，将所述第一发波占空比和所述输入总电压与所述输出总电压的比值相乘得到所述第三发波占空比；以及，将所述第三发波占空比和所述输入总电压与所述输出总电压的比值相乘得到所述第四发波占空比；所述第一调制发生器用于根据所述第一发波占空比向所述第一开关管发送驱动管信号；所述第二调制发生器用于根据所述第二发波占空比向所述第二开关管发送驱动管信号；所述第三调制发生器用于根据所述第三发波占空比向所述第三开关管发送驱动管信号；所述第四调制发生器用于根据所述第四发波占空比向所述第四开关管发送驱动管信号。8.根据权利要求1所述的电路，其特征在于，当所述输入电压的两端电压大于所述输出电压的两端电压时，所述电路为降压电路；当所述输入电压的两端电压小于所述输出电压的两端电压时，所述电路为升压电路。9.根据权利要求1-8任一项所述的电路，其特征在于，所述输入电压的极性与所述输出电压的极性相反。10.一种电子设备，其特征在于，所述电子设备包括如权利要求1-9任一项所述的双向非隔离DCDC拓扑控制电路。
说明书desc
技术领域本申请属于新能源产业的用于直流和直流之间转换的技术领域，具体涉及一种双向非隔离DCDC拓扑控制电路及相关装置。背景技术目前，随着新能源行业和新型电池的大力发展，电力能源转换的形式从传统的单向流动逐渐变成双向流动，从而推动新型电力能源的应用场景越来越丰富。双向非隔离DCDC电源对比与双向隔离DCDC电源，其转化效率更高，设计成本更低。然而众多的非隔离DCDC电源拓扑中，都存在着以下一个或者多个问题：1、输入电压和输出电压的升降压方向固定；2、输入端正负极和输出端正负极之间存在直通线，从而导致该拓扑在多模块并联时存在不可抑制的环流；3、单个器件电压应力较高，不适合做输入输出高电压设计。发明内容本申请提出了一种双向非隔离DCDC拓扑控制电路及相关装置，以期提高此类双向非隔离直流转直流拓扑电路在电压升降操作的全面性和在电路设计上的灵活性。第一方面，本申请实施方式提供了一种双向非隔离DCDC拓扑控制电路，所述双向非隔离DCDC拓扑控制电路包括双向非隔离DCDC拓扑电路，其中，所述双向非隔离DCDC拓扑电路包括：输入电压、第一开关管、第二开关管、第三开关管、第四开关管、第一输入电容、第二输入电容、第一输出电容、第二输出电容、第一储能电感、第二储能电感以及输出电压；所述输入电压的正极分别与所述第一输入电容的第一接口和所述第一开关管的第三接口连接；所述第一输入电容的第二接口与所述第二输入电容的第五接口连接；所述第二输入电容的第六接口分别与所述输入电压的负极和所述第二开关管的第七接口连接；所述第二开关管的第八接口分别与所述第二储能电感的第九接口和所述第四开关管的第十九接口连接；所述第二储能电感的第十接口与所述第一储能电感的第十一接口连接；所述第一储能电感的第十二接口分别与所述第一开关管的第四接口和所述第三开关管的第十三接口连接；所述第三开关管的第十四接口分别与所述第一输出电容的第十五接口和所述输出电压的负极连接；所述第一输出电容的第十六接口与所述第二输出电容的第十七接口连接；所述第二输出电容的第十八接口分别与所述第四开关管的第二十接口和所述输出电压的负极连接；将所述第一输入电容的所述第二接口、所述第二输入电容的所述第五接口分别与所述第一输出电容的所述第十六接口、所述第二输出电容的所述第十七接口连接，并与所述第一储能电感的所述第十一接口和所述第二储能电感的所述第十接口连接以形成结点O。在一个可能的示例中，所述双向非隔离DCDC拓扑控制电路还包括驱动控制模块；所述驱动控制模块与所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管耦合连接，所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管的导通或者关断。在一个可能的示例中，所述驱动控制模块的控制模式包括交错发波控制模式，所述驱动开关管信号包括第一驱动开关管信号和第二驱动开关管信号，在所述交错发波控制模式下，所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管的导通或者关断，包括：所述驱动控制模块用于发送所述第一驱动开关管信号以控制所述第一开关管和所述第三开关管的导通或者关断；以及，所述驱动控制模块用于发送所述第二驱动开关管信号以控制所述第二开关管和所述第四开关管的导通或者关断。在一个可能的示例中，所述驱动控制模块的控制模式包括同步发波控制模式，在所述同步发波控制模式下，所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管的导通或者关断，包括：所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管和所述第二开关管同步导通或关断，以及控制所述第三开关管和所述第四开关管同步导通或关断。在一个可能的示例中，所述双向非隔离DCDC拓扑控制电路还包括输入电压采样模块、输出电压采样模块，输出电流采样模块、输出电压均压补偿模块、调制发生器模组、环路补偿计算模组；其中，所述输入电压采样模块与所述第一输入电容和所述第二输入电容并联耦合，所述输出电压采样模块与所述第一输出电容和所述第二输出电容并联耦合，所述输入电压采样模块与所述调制发生器模组连接，所述输出电压采样模块分别与所述环路补偿计算模组和所述输出电压均压补偿模块连接，所述输出电流采样模块与所述输出电压串联耦合，所述输出电流采样模块与所述环路补偿计算模组连接，所述调制发生器模组分别与所述输出电压均压补偿模块、所述环路补偿计算模组以及所述第一开关管、第二开关管、第三开关管、第四开关管连接；所述输入电压采样模块用于采样所述第一输入电容的第一输入电容电压和所述第二输入电容的第二输入电容电压，以及根据所述第一输入电容电压和所述第二输入电容电压确定输入总电压；所述输入电压采样模块用于采样所述第一输出电容的第一输出电容电压和所述第二输出电容的第二输出电容电压，以及根据所述第一输出电容电压和所述第二输出电容电压确定输出总电压和输出电压差值；所述输出电流采样模块用于采样所述输出电压对应的输出总电流；所述输出电压均压补偿模块用于根据所述输出电压采样模块确定的所述输出电压差值；以及，将所述输出电压差值和预存的输出电压均压补偿系数相乘得到均压补偿结果；所述环路补偿计算模组用于根据所述输出电压采样模块确定的所述输出总电压和所述输出电流采样模块采样的所述输出总电流得到环路输出结果；所述调制发生器模组用于根据所述环路补偿计算模组确定的所述环路输出结果、所述输出电压均压补偿模块确定的所述均压补偿结果、所述输入电压采样模块确定的所述输入总电压和所述输出电压采样模块确定的所述输出总电压确定出每个开关管对应的发波占空比，所述每个开关管对应的发波占空比包括所述第一开关管对应的第一发波占空比、所述第二开关管对应的第二发波占空比、所述第三开关管对应的第三发波占空比和所述第四开关管对应的第四发波占空比；以及，根据所述第一发波占空比、所述第二发波占空比、所述第三发波占空比和所述第四发波占空比向所述每个开关管发送驱动管信号以控制对应的开关管的导通或者关断。在一个可能的示例中，所述环路补偿计算模组包括电压环环路输出结果计算模块、电流环环路输出结果计算模块和最小值确定模块，所述电压环环路输出结果计算模块包括电压采样计算补偿器和输出电压环环路补偿器，所述电流环环路输出结果计算模块包括电流采样计算补偿器和输出电流环环路补偿器；以及，所述最小值确定模块分别与所述电压环环路输出结果计算模块和所述电流环环路输出结果计算模块连接；所述电压环环路输出结果计算模块用于通过所述电压采样计算补偿器根据所述输出总电压和预存的输出电压给定值计算补偿得到电压误差值；以及，通过所述输出电压环环路补偿器根据所述电压误差值得到电压环输出结果；所述电流环环路输出结果计算模块用于通过所述电流采样计算补偿器根据所述输出总电流和预存的输出电流给定值计算补偿得到电流误差值；以及，通过所述输出电流环环路补偿器根据所述电流误差值得到电流环输出结果；所述最小值确定模块用于确定所述电压环输出结果和所述电流环输出结果中数值最小的输出结果，将所述数值最小的输出结果作为所述环路输出结果，其中，所述数值最小的输出结果为所述电压环输出结果或所述电流环输出结果。在一个可能的示例中，所述调制发生器模组包括第一调制发生器、第二调制发生器、第三调制发生器、第四调制发生器和发波占空比计算模块；其中，所述发波占空比计算模块分别与所述第一调制发生器、所述第二调制发生器、所述第三调制发生器和所述第四调制发生器连接，所述第一调制发生器与所述第一开关管连接，所述第二调制发生器与所述第二开关管连接，所述第三调制发生器与所述第三开关管连接，所述第四调制发生器与所述第四开关管连接；所述发波占空比计算模块用于将所述均压补偿结果和所述环路输出结果相减得到所述第一发波占空比；以及，将所述均压补偿结果和所述环路输出结果相加得到所述第二发波占空比；以及，将所述第一发波占空比和所述输入总电压与所述输出总电压的比值相乘得到所述第三发波占空比；以及，将所述第三发波占空比和所述输入总电压与所述输出总电压的比值相乘得到所述第四发波占空比；所述第一调制发生器用于根据所述第一发波占空比向所述第一开关管发送驱动管信号；所述第二调制发生器用于根据所述第二发波占空比向所述第二开关管发送驱动管信号；所述第三调制发生器用于根据所述第三发波占空比向所述第三开关管发送驱动管信号；所述第四调制发生器用于根据所述第四发波占空比向所述第四开关管发送驱动管信号。在一个可能的示例中，当所述输入电压的两端电压大于所述输出电压的两端电压时，所述电路为降压电路；当所述输入电压的两端电压小于所述输出电压的两端电压时，所述电路为升压电路。在一个可能的示例中，所述输入电压的极性与所述输出电压的极性相反。第二方面，本申请实施方式提供了一种电子设备，包括如第一方面所述的双向非隔离DCDC拓扑控制电路。可以看出，本申请实施方式提供的双向非隔离DCDC拓扑控制电路可以同时避免目前的非隔离直流转直流拓扑电路所存在的诸多问题，即能够实现同时升压和降压，也能够保证各开关器件的电压应力均衡，并且通过将输入和输出由电容中点连接的设计，有效解决的多模块并联环流的问题。且，在本申请实施方式提供的双向非隔离DCDC拓扑电路的基础上，可以通过环路闭环控制设计来实现对输出电压和输出电流的稳定控制，进而实现输出半母线的均压设计功能。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1a是本申请实施例提供的一种双向Buck/Boost电路的结构示意图；图1b是本申请实施例提供的一种双向Buck-Boost电路的结构示意图；图1c是本申请实施例提供的一种双向三电平Buck/Boost电路的结构示意图；图1d是本申请实施例提供的一种双向H桥的Buck-Boost电路的结构示意图；图2是本申请实施例提供的一种双向非隔离DCDC拓扑电路的结构示意图；图3是本申请实施例提供的一种双向非隔离DCDC拓扑交错发波控制时序图；图4是本申请实施例提供的一种双向非隔离DCDC拓扑同步发波控制时序图；图5是本申请实施例提供的一种单电感变形拓扑电路的结构示意图；图6是本申请实施例提供的一种双向非隔离DCDC拓扑环路控制模型的示意图；图7是本申请实施例提供的另一种双向非隔离DCDC拓扑环路控制模型的示意图；图8是本申请实施例提供的一种双向非隔离DCDC拓扑多路交错并联的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别不同对象，而不是用于描述特定顺序。此外，术语“包括”和“具有”以及它们任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其他步骤或单元。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。本申请实施例中的“和/或”，描述关联对象的关联关系，表示可以存在三种关系。例如，A和/或B，可以表示如下三种情况：单独存在A；同时存在A和B；单独存在B。其中，A、B可以是单数或者复数。本申请实施例中，符号“/”可以表示前后关联对象是一种“或”的关系。另外，符号“/”也可以表示除号，即执行除法运算。例如，A/B，可以表示A除以B。本申请实施例中的“至少一项”或其类似表达，是指这些项中的任意组合，包括单项或复数项的任意组合，是指一个或多个，多个指的是两个或两个以上。例如，a、b或c中的至少一项，可以表示如下七种情况：a，b，c，a和b，a和c，b和c，a、b和c。其中，a、b、c中的每一个可以是元素，也可以是包含一个或多个元素的集合。本申请实施例中的“等于”可以与大于连用，适用于大于时所采用的技术方案，也可以与小于连用，适用于与小于时所采用的技术方案。当等于与大于连用时，不与小于连用；当等于与小于连用时，不与大于连用。为了更好地理解本申请实施例的方案，下面先对本申请实施例可能涉及的终端设备、相关概念和背景进行介绍。本申请实施例所涉及到的终端设备可以包括各种具有无线通信功能的手持设备、车载设备、可穿戴设备、计算设备或连接到无线调制解调器的其他处理设备，以及各种形式的用户设备，移动台，终端设备等等。为方便描述，上面提到的设备统称为终端设备。目前，随着新能源行业和新型电池的大力发展，电力能源转换的形式从传统的单向流动逐渐变成双向流动，从而推动新型电力能源的应用场景越来越丰富。双向非隔离DCDC电源对比与双向隔离DCDC电源，其转化效率更高，设计成本更低。然而众多的非隔离DCDC电源拓扑中，都存在以下一个或多个问题：1、输入电压和输出电压的升降压方向固定，即要么只能工作在升压，或者要么只能工作在降压。2、输入正负和输出正负之间存在一根直通线，从而导致该拓扑在多模块并联系统中存在不可抑制的环流。3、单个器件电压应力较高，不适合输入输出高电压设计。目前，在实际的电路应用中存在有多种非隔离DCDC电源拓扑电路，例如，请参阅图1a，所述图1a是本申请实施例提供的一种双向Buck/Boost电路的结构示意图，所述Buck是指电路类型为降压式，所述Boost是指电路类型为升压式，如图1a所示，该拓扑电路是在常规的Buck电路的基础上，将二极管替换成了可控开关MOS管Q1和Q2，其中MOS是MOSFET的简称，金属-氧化物半导体场效应晶体管，简称金氧半场效晶体管。其中，图1a中的Vi为输入电压，Vo为输出电压，Vi和Vo的正负极方向相同，C1和C2均为电容，L1为电感。该双向非隔离拓扑结构简单，但这种拓扑结构的弊端就是其实现升降压的方向固定，即Vi降压到Vo，或者Vo升压到Vi，同时由于Vi和Vo负端直接连通，从而导致该拓扑结构在多模块并联系统中存在不可抑制的环流。为了解决升降压方向固定的问题，目前还有一种常用的双向Buck-Boost电路，请参阅图1b，所述图1b是本申请实施例提供的一种双向Buck-Boost电路的结构示意图，该电路通过将常规的Buck-Boost电路中的二极管替换成了可控开关MOS管，即图1b中的Q1和Q2，来使其演变成为能够实现能量双向流动的双向Buck-Boost电路。其中，图1b中的C1为输入电容，C2为输出电容，L1为电感，且Vi为输入电压、Vo为输出电压，Vi和Vo的正负极方向相反。图1b中的电路相较于图1a中的电路解决了升降压方向固定的问题，能同时实现升降压。但与图1a中的电路相同的是，由于Vi负端和Vo正端直接连通，从而导致该拓扑在多模块并联系统中存在不可抑制的环流，并且开关MOS管应力较大，限制了输入和输出的高压设计。为了解决拓扑电路中器件的电压应力过大的问题，目前还有一种常用的双向三电平Buck/Boost电路，请参阅图1c，所述图1c是本申请实施例提供的一种双向三电平Buck/Boost电路的结构示意图，其中，Vi为输入电压，Vo为输出电压，Vi和Vo的正负极方向相同，C1、C2、C3均为电容，L1、L2为电感，且该拓扑电路中包括四个开关MOS管，即图1c中的Q1、Q2、Q3以及Q4。该电路通过将常规的三电平Buck/Boost电路将二极管换成可控开关MOS管后，演变成实现能力双向流动的双向三电平Buck/Boost电路，该拓扑器件应力为Vi的半母线应力，便于器件选型。但是与图1a所示的电路一样，该拓扑只能实现Vi降压到Vo，或者Vo升压到Vi。基于图1c的电路，目前还有一种常用的双向H桥Buck-Boost电路，请参阅图1d，图1d是本申请实施例提供的一种双向H桥的Buck-Boost电路的结构示意图。其中，如图1d所示，Vi为输入电压，Vo为输出电压，Vi和Vo的正负极方向相同，C1、C2为电容，L1为电感，且该拓扑电路中包括四个开关MOS管，即图1c中的Q1、Q2、Q3以及Q4。该拓扑电路中开关器件Q1和Q2的电压应力为Vi，开关器件为Q3和Q4的器件应力为Vo，便于器件选型，并且该拓扑能同时实现升降压。但是各开关电压应力不均衡，并且由于Vi负端和Vo负端直连，从而导致该拓扑在多模块并联系统中存在不可抑制的环流。为解决上述所提到的目前的电路实际应用中常用的多种非隔离DCDC拓扑电路所存在的问题，本申请实施例提供的一种双向非隔离DCDC拓扑控制电路，该拓扑控制电路包括双向非隔离DCDC拓扑电路，该拓扑电路能够实现同时避免上述出现的电路问题，即能够同时实现升压和降压，也能保证电路中的各开关器件的电压应力均衡，且由于电路中设计有输入和输出通过电容中点连接，从而避免了在多模块并联时出现环流的问题。且通过配套设计有适用于该拓扑电路的控制方法，来通过移相发波可以实现多路交错并联大幅降低输入输出电流纹波，以及进行同步发波控制来实现对输出电压和输出电流的稳定控制，同时实现输出半母线电压的均压设计功能。下面将结合本申请实施例提供的双向非隔离DCDC拓扑控制电路的相关附图，对本发明实施例中的技术方案进行清楚、完整地描述。请参见图2，图2是本申请实施例提供的一种双向非隔离DCDC拓扑电路的结构示意图，双向非隔离DCDC拓扑电路为所述双向非隔离DCDC拓扑控制电路所包括的拓扑电路，其中，如图2所示，所述双向非隔离DCDC拓扑电路包括：输入电压、第一开关管、第二开关管、第三开关管、第四开关管、第一输入电容、第二输入电容、第一输出电容、第二输出电容、第一储能电感、第二储能电感以及输出电压；所述输入电压的正极分别与所述第一输入电容的第一接口和所述第一开关管的第三接口连接；所述第一输入电容的第二接口与所述第二输入电容的第五接口连接；所述第二输入电容的第六接口分别与所述输入电压的负极和所述第二开关管的第七接口连接；所述第二开关管的第八接口分别与所述第二储能电感的第九接口和所述第四开关管的第十九接口连接；所述第二储能电感的第十接口与所述第一储能电感的第十一接口连接；所述第一储能电感的第十二接口分别与所述第一开关管的第四接口和所述第三开关管的第十三接口连接；所述第三开关管的第十四接口分别与所述第一输出电容的第十五接口和所述输出电压的负极连接；所述第一输出电容的第十六接口与所述第二输出电容的第十七接口连接；所述第二输出电容的第十八接口分别与所述第四开关管的第二十接口和所述输出电压的负极连接；将所述第一输入电容的所述第二接口、所述第二输入电容的所述第五接口分别与所述第一输出电容的所述第十六接口、所述第二输出电容的所述第十七接口连接，并与所述第一储能电感的所述第十一接口和所述第二储能电感的所述第十接口连接以形成结点O。其中，需要特别注意的是，图2中存在有大量数字，为了方便理解和描述电路结构中各器件之间的连接关系，图2中的每个数字均用来指示本申请实施例提供的双向非隔离DCDC拓扑电路的连接关系描述中的对应的接口，例如图2中的数字1对应的是第一输入电容的第一接口，图2中的数字2对应的是第一输入电容的第二接口等等，图2中的二十个数字对应着双向非隔离DCDC拓扑电路中的二十个接口。其中，首先要介绍DC/DC，即直流变直流的含义，此类电路按照电压等级变换关系分为了升压电源和降压电源两类，按输入输出关系分为了隔离电源和非隔离电源两类。本申请所提供的电路为非隔离电源DCDC，所谓非隔离电源是指在输入端和负载端之间没有通过变压器进行电气隔离，而是直接连接，输入端和负载端共地。其优点在于成本低、简单、指标高。其中，第一开关管、第二开关管、第三开关管和第四开关管均为开关MOS管，开关MOS管在电路中一般用作电子开关。第一储能电感和第二储能电感属于一种储能元件，是以磁场的方式储能，其储存的电能与自身的电感和流过它本身的电流的平方成正比。电感储能的过程就是电流从零至稳态最大值的过程，且电感具有的一个特点就是通过电感的电流不能够突变，因此，通过导通或者断开电路中的开关管，使得电感中没有电流流过时，电感将会利用其储存的电感产生出反向电动势以维持通过的电流不变，从而在新构成的回路中为负载供电并对输出电容充电以维持输出电压不变。在实际情况中，主要还是输出电容为负载持续供电。并且，通过电感的工作原理可见，输出电压实际上是在给定值上下波动的。其中，MOS管可以被制造成增强型或者耗尽型，以及P沟道或者N沟道共四种类型。而在实际应用中只有增强型的N沟道MOS管和增强型的P沟道MOS管，两者区别在于驱动上，P沟道的源极接输入，漏极导通输出，而N沟道则相反。比较常用的MOS管为N沟道MOS管，原因在于导通电阻更小，且容易制造。导通电阻更小，会使开关管在导通后再导通电阻上消耗的能量更小，即导通损耗更少。且，需要注意的是N沟道MOS管的特性在于MOS管的驱动电压Vgs大于一定的值时，MOS管就会导通。本申请实施例中均以NMOS为主来介绍本申请所提供的电路以及方案。在一个可能的示例中，所述双向非隔离DCDC拓扑控制电路还包括驱动控制模块；所述驱动控制模块与所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管耦合连接，所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管的导通或者关断。其中，驱动控制模块可以设计为包含四个驱动电路，这四个驱动电路分别用于驱动第一开关管、第二开关管、第三开关管和第四开关管，每个驱动电路都连接有其中一个开关管，每个驱动电路连接的开关管互不相同。关于驱动电路的设计可以是常用的驱动电路，例如电源IC直接驱动、推挽驱动、加速关断驱动、隔离驱动等，此处不作限定。其中，驱动控制模块是通过规律的向每个开关管发送驱动管信号，来控制开关管的导通或者关断，从而控制电路中电流的走向，进而完成升压或者降压操作。当驱动管信号发送至开关管时，开关MOS管的栅极处的电压升高至驱动信号电压，此时栅极相对于源极的电压大于开关管导通所需电压值），即可实现开关管的导通。而当驱动管信号所对应的输出电压小于阈值电压时，开关管则会关断。可见，通过在双向非隔离DCDC拓扑控制电路中设置驱动控制模块以实现对DCDC拓扑电路中的四个开关管进行导通或者关断的控制，通过对开关管的控制从而控制电路中电流的走向，保证了该拓扑电路能够实现升压或者降压的操作。在一个可能的示例中，所述驱动控制模块的控制模式包括交错发波控制模式，所述驱动开关管信号包括第一驱动开关管信号和第二驱动开关管信号，在所述交错发波控制模式下，所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管的导通或者关断，包括：所述驱动控制模块用于发送所述第一驱动开关管信号以控制所述第一开关管和所述第三开关管的导通或者关断；以及，所述驱动控制模块用于发送所述第二驱动开关管信号以控制所述第二开关管和所述第四开关管的导通或者关断。其中，请参阅图3，图3是本申请实施例提供的一种双向非隔离DCDC拓扑交错发波控制时序图。如图3所示，Vgs为开关管对应的驱动电平，Q1、Q2、Q3、Q4分别用于指示对应的第一开关管、第二开关管、第三开关管和第四开关管，VAo为电感L1两端电平，VoB为电感L2两端的电平，IL1为电感L1的电流波形，IL2为电感L2的电流波形。驱动控制模块对于主功率开关管Q1/Q2、Q3/Q4均采用交错控制来控制四个开关管的导通或者关断。当某一开关管对应的Vgs的值大于阈值时，开关管则导通。图3所示的周期仅为实际应用中的一种情况，其目的就在于通过实现向Q1/Q2、Q3/Q4交错发送驱动管信号，从而使得在同一时刻中，叠加在两个电感上的电压VAB存在三种电平/2、Vi、Vo；分别叠加在L1和L2两端电压为Vi/2和-Vo/2，使得两个电感上的电流纹波也基本相同，并且由于电感上电流IL1和IL2波形相互交错，输入总电流和输出总电流上的纹波大幅减小。其中，如图3所示，当Q1、Q4导通时，电路中的输入端的电流走向是从输入电压的正极流向C1、C2以向输入电容供电，以及从输入电压的正极流向Q1，再流向L1以使得电感电流增加；之后，第一输入电容的电流和L1的电流流向第二输入电容以流回输入电压负极。因此，此时在Q1导通时，L1两端电压VAo一直保持在Vi/2。而电路中输出端的电流走向是由第二储能电感、第一输出电容和第二输出电容输出电流经过第四开关管流向输出电压正极，再从输出电压负极流回输出电容和储能电感，由于第二储能电感同样是在输出电压负载供电，因此可以看到第二储能电感的电感电流在Q4导通的时候是逐渐减小的。当Q1、Q2导通时，就变成了输入电压流出电流，该电流会流向输入电容以为其充电，以及流向L1、L2为其功能，因此，可以看到在Q1导通时，IL1是逐渐上升的，在Q2导通时，IL2也同样是逐渐上升的，VoB也变成了Vi/2。当Q1关断，Q3导通时，L1就开始为输出电压的负载供电，因此VAo就变成了Vo/2，IL1也在逐渐减小。其中，交错发波控制模式具体可以通过控制驱动控制模块发送第一驱动开关管信号和第二驱动开关管信号的时序先后来实现。需要说明的是，Q1/Q2与Q2/Q4的导通时间长短与Vi和Vo的数值比值有关，因根据具体情况具体实现不同的控制。可见，驱动控制模块通过采用交错控制的方法，使得电路中输入总电流和输出总电流的纹波大幅减小，从而大幅降低了输入电压和输出电压的纹波，从而了也大幅降低输入电压和输出电压的纹波，从而提高了使用该拓扑电路中电源的效率、电路器件的安全性，减少了谐波的产生。在一个可能的示例中，所述驱动控制模块的控制模式包括同步发波控制模式，在所述同步发波控制模式下，所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管、所述第二开关管、所述第三开关管以及所述第四开关管的导通或者关断，包括：所述驱动控制模块用于发送驱动开关管信号以控制所述第一开关管和所述第二开关管同步导通或关断，以及控制所述第三开关管和所述第四开关管同步导通或关断。其中，如图4所示，图4是本申请实施例提供的一种双向非隔离DCDC拓扑同步发波控制时序图。如图4所示，Vgs为开关管对应的驱动电平，Q1、Q2、Q3、Q4分别用于指示对应的第一开关管、第二开关管、第三开关管和第四开关管，VAo为电感L1两端电平，VoB为电感L2两端的电平，IL1为电感L1的电流波形，IL2为电感L2的电流波形。可以看出，驱动控制模块发送给Q1和Q2的驱动管信号，以及发送给Q3和Q4的驱动管信号的是同步的，即Q1和Q2同步导通或者关断，以及Q3和Q4同步导通或者关断。通过此种控制模式，叠加在电感L1、L2两端电压VAB为输入电压Vi和输出电压-Vo，单独叠加在电感L1、L2上的电压为Vi/2和-Vo/2，两个电感L1和L2的电流波形完全同步，并且可以实现两路均流功能。其中，该双向非隔离DCDC拓扑电路的电流走向是根据拓扑电路中的四个开关管的导通或者关断改变的。以驱动控制模块的同步发波控制模式为例，当第一开关管和第二开关管导通、第三开关管和第四开关管关断时，电路中电流的走向如下：电流从输入电压的正极流向第一输入电容的第一接口和第一开关管的第三接口；流向第一输入电容的第一接口给第一输入电容充电之后，从第一输入电容的第二接口流向输入电容的第五接口给第二输入电容充电，之后再从第二输入电容的第六接口流回输入电压的负极；以及，输入电压以及输入电容流向第一开关管的电流从第一开关管的第四接口流出以流向第一储能电感和第二储能电感为其供电，由于储能电感的电流不能够突变，因此，电感电流逐渐上升；之后，电流会从第二储能电感的第九接口通过第二开关管流回输入电压的负极。而与此同时，电路右边的第一输入电容和第二输入电容为输出电压供电，以维持两端的电压。而在当第一开关管和第二开关管关断、第三开关管和第四开关管导通时，电路左侧，即输入端，依旧是由输入电压为第一输入电容和第二输入电容供电；而电路右侧，即输出端，由于电感的电路不能突变，电感通过第四开关管给第二输出电容、第一输出电容以及输出电压的负载供电。待电路系统稳定工作后，电感伏秒守恒。在第一开关管和第二开关管导通时，电感电压之和等于输入端总电压；在第三开关管和第四开关管导通时，电感电压之和等于输出端总电压；四个开关管的电压应力也是均衡的。并且，由于该拓扑电路的输入端和输出端不是输入端和输出端的正负极直接使用直通线相连的方式连接，而是由第一输入电容和第二输出电容的连接点与第三输出电容和第四输出电容的连接点进行连接，因此，就不会使在拓扑电路在进行多模块并联时出现不可抑制环流。可见，驱动控制模块通过采用同步发波控制模式，可以使得拓扑电路中的两个储能电感的电流波形完全同步，以此可以实现两路均流的功能，提高了电路中每个器件电流应力的均匀分配，有利于器件选型，以及提高了电路中器件的热应力的均匀分配。在一个可能的示例中，在所述驱动控制模块的同步发波控制模式下，通过将所述双向非隔离DCDC拓扑电路的第一储能电感L1和第二储能电感L2集合成储能电感L1，并将图2中的结点O取消与输入和输出母线的中点连接，即可得到单电感双向非隔离拓扑电路。其中，请参阅图5，图5是本申请实施例提供的一种单电感变形拓扑电路的结构示意图。如图5所示，通过将图2所示的拓扑电路中的两个储能电感结合为一个电感，并取消电感所在导线与输入输出母线中点的连接，该单电感变形拓扑只能够采用同步发波控制。可见，通过电路设计上的变形，可以使得拓扑电路在保留有解决现有双向非隔离DCDC拓扑电路所存在的问题的同时，实现对多开关管器件的简单控制，提高拓扑电路的可靠性，便于制造和集成。在一个可能的示例中，所述双向非隔离DCDC拓扑控制电路还包括输入电压采样模块、输出电压采样模块，输出电流采样模块、输出电压均压补偿模块、调制发生器模组、环路补偿计算模组；其中，所述输入电压采样模块与所述第一输入电容和所述第二输入电容并联耦合，所述输出电压采样模块与所述第一输出电容和所述第二输出电容并联耦合，所述输入电压采样模块与所述调制发生器模组连接，所述输出电压采样模块分别与所述环路补偿计算模组和所述输出电压均压补偿模块连接，所述输出电流采样模块与所述输出电压串联耦合，所述输出电流采样模块与所述环路补偿计算模组连接，所述调制发生器模组分别与所述输出电压均压补偿模块、所述环路补偿计算模组以及所述第一开关管、第二开关管、第三开关管、第四开关管连接；所述输入电压采样模块用于采样所述第一输入电容的第一输入电容电压和所述第二输入电容的第二输入电容电压，以及根据所述第一输入电容电压和所述第二输入电容电压确定输入总电压；所述输入电压采样模块用于采样所述第一输出电容的第一输出电容电压和所述第二输出电容的第二输出电容电压，以及根据所述第一输出电容电压和所述第二输出电容电压确定输出总电压和输出电压差值；所述输出电流采样模块用于采样所述输出电压对应的输出总电流；所述输出电压均压补偿模块用于根据所述输出电压采样模块确定的所述输出电压差值；以及，将所述输出电压差值和预存的输出电压均压补偿系数相乘得到均压补偿结果；所述环路补偿计算模组用于根据所述输出电压采样模块确定的所述输出总电压和所述输出电流采样模块采样的所述输出总电流得到环路输出结果；所述调制发生器模组用于根据所述环路补偿计算模组确定的所述环路输出结果、所述输出电压均压补偿模块确定的所述均压补偿结果、所述输入电压采样模块确定的所述输入总电压和所述输出电压采样模块确定的所述输出总电压确定出每个开关管对应的发波占空比；以及，根据所述第一发波占空比、所述第二发波占空比、所述第三发波占空比和所述第四发波占空比向所述每个开关管发送驱动管信号以控制对应的开关管的导通或者关断。其中，所述每个开关管对应的发波占空比包括所述第一开关管对应的第一发波占空比、所述第二开关管对应的第二发波占空比、所述第三开关管对应的第三发波占空比和所述第四开关管对应的第四发波占空比。其中，请参阅图6，图6是本申请实施例提供的一种双向非隔离DCDC拓扑环路控制模型。如图6所示，该实施例针对的是双向非隔离DCDC拓扑电路在正向传能的同步发波控制实现下的情形。其中，图6中的Vi为输入电压、Vo为输出电压、C1为第一输入电容、C2为第二输入电容、C3为第一输出电容、C4为第二输出电容、L1为第一储能电感、L2为第二储能电感，Q1、Q2、Q3、Q4则分别对应着第一开关管、第二开关管、第三开关管以及第四开关管。可以看到，通过将输入电压采样模块并联在C1和C2上以采样第一输入电容C1的电压Vc1和第二输入电容C2的电压Vc2，以及将输出电压采样模块并联在C3和C4上以采样第一输出电容C3的电压Vc3和第二输出电容C4的电压Vc4，以及将输出电流采样模块串联在输出电压Vo的电路上来采样输出总电流Io。其中，如图6所示，下面来介绍正向传能的同步发波控制实现的具体步骤：步骤1：输入电压采样模块先采集Vc1和Vc2的电压值，再通过Vc1+Vc2=Vi即可计算出输入电压的电压值Vi，再将Vi发送给调制发生器模组。同样的，输出电压采样模块在采集了Vc3和Vc4后，通过Vc3+Vc4=Vo即可计算出输出电压的电压值Vo，以及计算出ΔV，ΔV为Vc3和Vc4的电压差值，用于平衡输出两路半母线电压，其中，ΔV发送给输出电压均压补偿模块，Vo发送给环路补偿计算模组。步骤2：输出电压均压补偿模块根据ΔV和预设的调节系数Ki得到电压平衡调节量Kb，即均压补偿结果；以及，环路补偿计算模组根据Vo和Io计算出环路输出结果。步骤3：调制发生器模组根据均压补偿结果、环路输出结果、Vo以及Vi得到每个开关管对应的发波占空比，并根据发波占空比向每个开关管发送驱动管信号，即调整每个开关管对应的驱动管信号的驱动波形，从而改变电压。占空比越高，输出平均电压越高。只要脉冲频率足够高，控制占空比就可以输出幅值在0与最大值之间的任何电压波形，从而实现双向非隔离拓扑的正向闭环控制发波。可见，通过本示例所述的拓扑电路闭环控制结果，即能够实现对输出电压和输出电流的稳定控制，同时通过采样输出电解电容半母线电压值来得到电压平衡调节量，进而得到每个开关管的发波占空比，从而实现了对输出半母线电压的均压设计功能。在一个可能的示例中，所述环路补偿计算模组包括电压环环路输出结果计算模块、电流环环路输出结果计算模块和最小值确定模块，所述电压环环路输出结果计算模块包括电压采样计算补偿器和输出电压环环路补偿器，所述电流环环路输出结果计算模块包括电流采样计算补偿器和输出电流环环路补偿器；以及，所述最小值确定模块分别与所述电压环环路输出结果计算模块和所述电流环环路输出结果计算模块连接；所述电压环环路输出结果计算模块用于通过所述电压采样计算补偿器根据所述输出总电压和预存的输出电压给定值计算补偿得到电压误差值；以及，通过所述输出电压环环路补偿器根据所述电压误差值得到电压环输出结果；所述电流环环路输出结果计算模块用于通过所述电流采样计算补偿器根据所述输出总电流和预存的输出电流给定值计算补偿得到电流误差值；以及，通过所述输出电流环环路补偿器根据所述电流误差值得到电流环输出结果；所述最小值确定模块用于确定所述电压环输出结果和所述电流环输出结果中数值最小的输出结果，将所述数值最小的输出结果作为所述环路输出结果，其中，所述数值最小的输出结果为所述电压环输出结果或所述电流环输出结果。其中，请参阅图7，图7是本申请实施例提供的另一种双向非隔离DCDC拓扑环路控制模型的示意图。如图7所示，图7是将图6所示的拓扑环路控制模型的模块中的具体器件展示出来的示意图。其中，输入电压采样模块包括输入采样分压电阻R5、R6、R7、R8和加法电路，其中分压电阻R5和R6用于采样第一输入电容对应的输入半母线电压Vc1，分压电阻R7和R8用于采样第二输入电容对应的输入半母线电压Vc1，再通过加法电路得到输入总电压Vi。其中，输出电压采样模块包括输出采样分压电阻R1、R2、R3、R4和加减法电路，分压电阻R3和R4用于采样第一输出电容对应的输出半母线电压Vc3，R1和R2用于采样第二输出电容对应的输出半母线电压Vc4，再通过加减法电路计算得到输出总电压Vo和输出电压差值ΔV。其中，输出电流采样模块包括输出电流采样电阻R9，串联在输出电压上以得到输出总电流Io。其中，所述环路补偿计算模组包括电压环环路输出结果计算模块、电流环环路输出结果计算模块和最小值确定模块MIN，所述电压环环路输出结果计算模块包括电压采样计算补偿器Vcomp和输出电压环环路补偿器VPi，所述电流环环路输出结果计算模块包括电流采样计算补偿器Icomp和输出电流环环路补偿器IPi；以及，所述最小值确定模块分别与所述电压环环路输出结果计算模块和所述电流环环路输出结果计算模块连接；其中，输出电流环环路补偿器和输出电压环环路补偿器可以是PI补偿器，P为比例环节，I为积分环节。其中，图 7中Verr为输出电压采样值Vo与输出电压给定值Vref计算补偿后得到的误差值；Ierr为输出电流采样Io与输出电流给定值Iref计算补偿后的误差值。输出电压环环路补偿器VPi根据电压误差值Verr再得到电压环输出结果VPiout，输出电流环环路补偿器IPi根据电流误差值Ierr再得到电流环输出结果IPiout。最后通过最小值确定模块确定电压环输出结果VPiout和电流环输出结果IPiout中数值最小的输出结果作为环路输出结果。其中，最小值确定模块用于确定电压环输出结果和电流环输出结果中数值最小的输出结果，将数值最小的输出结果作为环路输出结果，其过程包括如下几种数值比较情况：一是，电压环输出结果的数值大于电流环输出结果的数值时，确定电流环输出结果的数值为环路输出结果；二是，电压环输出结果的数值小于电流环输出结果的数值时，确定电压环输出结果的数值为环路输出结果；三是，电压环输出结果的数值等于电流环输出结果的数值时，确定电压环输出结果或者电流环输出结果的数值为环路输出结果。可见，通过本示例所提供的拓扑环路控制模型中环路补偿计算模组的具体模块和模块的功能可以实现通过电压环环路输出结果计算模式和电流环环路输出结果计算模块可以计算出输出电压和输出电流的误差值，进而计算出适用于电压环路和电流环路的输出结果，进而获得最后的环路输出结果，便于后续计算出每个开关管的发波占空比，从而来调节每个开关管的驱动波形，实现了输出半母线电压的均压设计功能，提高了电路控制的效率和稳定性。在一个可能的示例中，所述调制发生器模组包括第一调制发生器、第二调制发生器、第三调制发生器、第四调制发生器和发波占空比计算模块；其中，所述发波占空比计算模块分别与所述第一调制发生器、所述第二调制发生器、所述第三调制发生器和所述第四调制发生器连接，所述第一调制发生器与所述第一开关管连接，所述第二调制发生器与所述第二开关管连接，所述第三调制发生器与所述第三开关管连接，所述第四调制发生器与所述第四开关管连接；所述发波占空比计算模块用于将所述均压补偿结果和所述环路输出结果相减得到所述第一发波占空比；以及，将所述均压补偿结果和所述环路输出结果相加得到所述第二发波占空比；以及，将所述第一发波占空比和所述输入总电压与所述输出总电压的比值相乘得到所述第三发波占空比；以及，将所述第三发波占空比和所述输入总电压与所述输出总电压的比值相乘得到所述第四发波占空比；所述第一调制发生器用于根据所述第一发波占空比向所述第一开关管发送驱动管信号；所述第二调制发生器用于根据所述第二发波占空比向所述第二开关管发送驱动管信号；所述第三调制发生器用于根据所述第三发波占空比向所述第三开关管发送驱动管信号；所述第四调制发生器用于根据所述第四发波占空比向所述第四开关管发送驱动管信号。其中，同样请参阅图7，图7是本申请实施例提供的另一种双向非隔离DCDC拓扑环路控制模型的示意图。调制发生器模组中的四个调制发生器可以是图中的PWM发生器，与第一开关管Q1相连的PWM发生器为第一调制发生器，与第二开关管Q2相连的PWM发生器为第二调制发生器，与第三开关管Q3相连的PWM发生器为第三调制发生器，与第四开关管Q4相连的PWM发生器为第四调制发生器。在上述实施例介绍的环路补偿计算模组和输出电压均压补偿模块计算得到均压补偿结果KB和环路输出结果Piout之后，调制发生器模组会通过将Kb与Piout相减得到Q1的发波占空比Q1Piout，以及Kb与Piout相加得到Q2的发波占空比Q2Piout。以及，由于Q3和Q4在该拓扑电路为正向传能时作为同步整流的续流开关管，所以Q3/Q4的驱动发波占空比与Q1/Q2占空比存在以下关系：，/＞进而得到：，/＞因此，再通过获取输入总电压Vi和输出总电压Vo，即可进一步的得到Q2和Q4对应的发波占空比。以此得到每个开关管所对应的占空比，即Q1Piout、Q2Piout、Q3Piout、Q4Piout。最后，在通过将每个开关管对应的发波占空比发送给对应的PWM发生器，PWM发生器则会根据发波占空比来调整发送驱动管信号的驱动波形使得开关管的导通和关断满足对应发波占空比，即开关管的导通时间占一个信号周期的时间的占空比为对应的发波占空比，以此来实现双向非隔离拓扑的正向闭环控制发波。并且，需要注意的是，由于该拓扑正向和反向结构完全对称，所以在实现反向传能时，同样可以通过图7的闭环控制结构实现。可见，通过拓扑电路在正向传能时，每个开关管的功能不同，来得到发波占空比之间的关系。基于控制模型中每个模块所获得或者计算出的数据来得到每个开关管的发波占空比，并以此得到适配开关管的新的驱动波形，从而实现了双向非隔离拓扑的正向闭环控制发波，以及实现输出半母线电压的均压设计功能，提高了拓扑电路的稳定性和进行闭环控制发波的效率。在一个可能的示例中，当所述输入电压的两端电压大于所述输出电压的两端电压时，所述电路为降压电路；当所述输入电压的两端电压小于所述输出电压的两端电压时，所述电路为升压电路。可见，基于本申请实施例所提供的双向非隔离DCDC拓扑电路的电路结构，可以实现能力双向流动，其电路特征为能够同时实现升压和降压，并保证拓扑电路中各开关器件的电压应力均衡，提高了电路的全面性和稳定性。在一个可能的示例中，所述输入电压的极性与所述输出电压的极性相反。其中，与常规的BUCK-BOOST电路相同的是，本申请实施例提供的拓扑电路的输入电压的极性与输出电压的极性相反。其中，在本申请实施例所提供的双向非隔离DCDC拓扑电路的基础上，想要实现更大转换功率时，可以通过多路交错并联的方式进一步增大拓扑电路的转换功率，请参阅图8，图8是本申请实施例提供的一种双向非隔离DCDC拓扑多路交错并联的结构示意图，如图8所示，通过将图2所示的拓扑电路中的母线中点作为电路设计的公共点，分别在电路上面两路交错并联控制，以及在电路下面两路同样通过交错并联控制，以此形成四路交错并联控制设计。再结合上移相相位角的合理设计，实现有效地降低输入电压纹波和输出电压纹波。其中，上面两路交错并联控制具体可以是并联上图8中的开关MOS管Q5和开关MOS管Q7，下面两路交错并联控制具体可以是并联上图8中的开关MOS管Q6和开关MOS管Q8，之后，在Q5和Q7的连接点A1与Q6和Q8的连接点B1的导线上串联上第三储能电感L3和第四储能电感L4。需要注意的是，第三储能电感L3和第四储能电感L4之间的导线与第一储能电感L1和第二储能电感L2之间的导线同样与四个电容所连接的导线所交汇以形成新的结点。其中，还是基于图8所示的DCDC拓扑多路交错并联电路，以单开关发波周期为180°相位为例，n路交错相位设计可以直接用180°/n得到各路的相位角。多路交错并联后既能减小输入和输出半母线电流纹波，大幅提高电解电容寿命，同时也能大幅降低输出电压和输入电压纹波，显著提高该拓扑的性能指标。可以看出，在本申请实施例所提供的双向非隔离DCDC拓扑控制电路中包括了双向非隔离DCDC拓扑电路，驱动控制模块的两种发波控制，以及双向非隔离DCDC的闭环控制模型。其中，本申请提供的双向非隔离DCDC拓扑控制电路中的双向非隔离DCDC拓扑电路，能够实现宽输入和宽输出电压范围设计的升压和降压功能；可以保证各开关器件的电压应力均衡，并且通过输入和输出通过电容中点连接，消除输入输出的电平不确定的问题。并且，通过驱动控制模块也能实现同步发波控制模式和交错发波控制模式多种工作模式，通过移相发波可以实现多路交错并联大幅降低输入输出电流纹波；在多模块输入输出并联时，由于多模块的输入和输出只连接正负点，中点不形成连接通路，可以抑制多模块并联环流。以及，基于双向非隔离DCDC的闭环控制模型，可以通过将输出两路半母线电压差值加入到闭环控制，实现输出电解电容的均压可控，提高了拓扑电路的全面性和稳定性，同时解决了目前实际电路应用中的双向非隔离DCDC拓扑电路所存在的多种问题。与上述实施例一致地，本申请实施例还提供一种电子设备，该电子设备包括如上述任一实施例所述的双向非隔离DCDC拓扑控制电路，其内容和效果可参见上述实施例的解释说明，本申请实施例对此不再赘述。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其他实施例的相关描述。在本申请所提供的几个实施例中，应该理解到，所揭露的双向非隔离DCDC拓扑控制电路，可通过其它的方式实现。例如，以上所描述的双向非隔离DCDC拓扑控制电路实施例仅仅是示意性的，例如上述电路中的元器件也可以采用其他相同功能的元器件。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，电路或元器件的间接耦合或通信连接，可以是电性或其它的形式。另外，在本申请各个实施例中的各电路可以集成在一个电路板中，也可以是各个电路单独物存在，也可以两个或两个以上电路集成在一个电路板中。以上对本申请实施例进行了详细介绍，本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请及其核心思想；同时，对于本领域的一般技术人员，依据本申请的思想，在具体实施方式及应用范围上均会有改变之处，综上上述，本说明书内容不应理解为对本申请的限制。
