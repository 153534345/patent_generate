标题title
基于SOC自适应分阶的动力锂电池两步充电方法
摘要abst
本发明公开了基于SOC自适应分阶的动力锂电池两步充电方法，包括：建立动力锂电池等效电路模型，通过实验确定动力锂电池等效电路模型中内阻随SOC变化的拟合曲线，对拟合的内阻‑SOC曲线以1％SOC的步长进行采样，利用Canopy算法对采样点预聚类，确定内阻‑SOC曲线划分的阶数，采用二分K‑means算法对获得内阻‑SOC曲线精确的自适应划分，根据充电电流和内阻对应关系，采用优化后非支配排序的哈里斯鹰优化算法NSHHO求解最优的充电电流组合，根据最优的充电电流组合构建充电策略优化模型，利用充电策略优化模型对充电时间和充电损耗进行优化。该方法较恒流恒压策略和均分多阶恒流充电策略的充电欧姆损失减少有效，温升表现上较小。
权利要求书clms
1.基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，包括：建立动力锂电池等效电路模型；通过实验确定动力锂电池等效电路模型中内阻随SOC变化的拟合曲线；对内阻随SOC变化的拟合曲线以0.01SOC的步长进行采样；利用Canopy算法对采样点预聚类，确定内阻随SOC变化拟合曲线的划分的阶数；采用二分K-means算法，获得内阻随SOC变化拟合曲线的自适应划分；根据充电电流和内阻对应关系，采用非支配排序的哈里斯鹰优化算法NSHHO求解最优的充电电流组合，其中，在非支配排序的哈里斯鹰优化算法NSHHO的种群初始化阶段及探索阶段，利用Logistics混沌初始化算子在种群初始化阶段生成初始种群，利用自适应t分布突变算子在探索阶段进行全局搜索；根据最优的充电电流组合构建充电策略优化模型；利用充电策略优化模型对充电时间和充电损耗进行优化。2.如权利要求1所述的基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，所述动力锂电池等效电路模型，采用：二阶Thevenin模型。3.如权利要求1所述的基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，所述动力锂电池等效电路模型中内阻，计算公式如下：Rint＝R0+R1+R2其中，R0，R1，R2分别表示欧姆内阻和极化内阻R1，极化内阻R2、通过离线多倍率HPPC测试实现。4.如权利要求1所述的基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，所述电池SOC基于安时积分法表示，计算公式如下：其中，SOC电池电荷状态的初始电量值，I为充放电电流，Q为电池实际可用容量，t为时间变量。5.如权利要求1所述的基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，所述进行采样时每个采样间隔的内阻数值等于该区间左端采样点对应的内阻值。6.如权利要求1所述的基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，所述利用Canopy算法对采样点预聚类，包括：将采样点点集作为一个大的Canopy，两个阈值设定为T1＝T2＝D，其中D为采样点点集内任意两点间的平均距离，得到预聚类的聚类簇，并确定聚类个数。7.如权利要求6所述的基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，所述二分K-means算法，包括：在迭代过程中，算法分别对前一代聚类得到的簇依次进行划分，并计算划分后得到的各簇内样本点与聚类中心的离差平方和SSE：其中，Ci为第i个簇，ci和xi，j分别为第i个簇的聚类中心和数据点，j为第i个簇内数据点的索引，Mi为第i个簇内数据点的个数；划分子簇和未划分簇的平方和误差之和构成最优划分簇及对应划分点选择的代价函数fc；代价函数最小值所对应的划分方法即为该次迭代内二分的最优解，其结果将作为下次迭代的输入量，代价函数表达式包括：fc＝SSEsplit+SSEnonsplit式中，SSEsplit和SSEnonsplit分别为划分子簇和未划分子簇对应的平方和误差。8.如权利要求1所述的基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，所述采用Logistics混沌初始化算子在种群初始化阶段生成初始种群，包括：将Logistics映射生成的伪随机序列映射到变量空间，从而形成初始种群X0，其中，X0＝LB+Z·其中，LB为变量搜索空间下限，UB为变量搜索空间上限，Z为第1次迭代时Logistics映射的函数值，Z属于0至1之间。9.如权利要求1所述的基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，所述自适应t分布突变算子，计算公式如下：X′＝X+η·t·X其中，t是以迭代次数为自由度的t分布，随着算法迭代次数的增加，t分布自由度逐渐增加，实现了t分布由柯西分布向高斯分布的自适应变化，当迭代次数较小时，t分布变异近似柯西分布变异，从而扩大哈里斯鹰的搜索范围，当迭代次数较大时，t分布变异近似高斯分布变异，帮助哈里斯鹰摆脱局部最优值，以寻找更优的解。10.如权利要求1所述的基于SOC自适应分阶的动力锂电池两步充电方法，其特征在于，还包括：变异自适应控制参数η用于控制突变幅度以避免过大突变幅值带来的结果发散，其计算公式。其中，k为当前迭代次数，Max_iter为总迭代次数。
说明书desc
技术领域本发明涉及电池技术领域，更具体的涉及基于SOC自适应分阶的动力锂电池两步充电方法。背景技术作为研究热点，锂电池充电策略获得了针对不同优化方向的大量研究。在众多方法中，恒流-恒压策略由于其简单易行的特点受到了最为广泛的使用。然而，由于恒流阶段电流保持恒定，充电电流无法针对电池特性变化做出相应的调整，因而该方法无法在快速充电过程中有效地控制充电损耗。多阶恒流充电策略作为CC-CV策略的改进方法，主动考虑了电池充电过程中的特性变化，有效减小了充电时间和充电损耗。基于不同的切换条件，多阶恒流充电策略的形式主要分为了基于电压的多阶恒流充电策略和基于荷电状态的多阶恒流充电策略。VMCC以预设电压为切换条件，在电池以恒流充电达到阈值电压后，会利用更低的电流进行恒流充电，并重复该过程至充电结束。现有研究的预设电压包括了充电截止电压和多阶电压，主要针对CC-CV策略中的恒压阶段进行优化。然而，由于以内阻为代表的电池特性在充电过程中随电池SOC变化，VMCC策略难以通过电压准确控制电池充电的SOC范围，因而其关于电池内阻特性的自适应能力较差。相比之下，以SOC作为切换条件的SMCC策略针对电池内阻特性变化具有更好的适应性，在充电控制的灵活性和简便性以及电流调节范围方面均具有较大的优势。基于SMCC策略的充电优化方案的求解和评估主要包含了两个过程，即充电过程的分阶和优化电流的求解。对于后者，国内外学者进行了大量的研究并提供了不同的方案。基于代数和几何计算的直接计算方法从数学基础的角度分析了求解优化电流的理论可行性。然而，当充电阶数大于3阶时，由于电流变量及变量间耦合关系的增加，该方法在求解各阶优化电流时面临极大的复杂性和计算量，在实际运用中有较大的局限性。为优化求解过程，降低计算复杂性，基于迭代更新方式的各类随机优化方法被引入，如进化算法、遗传算法、粒子群算法等。这些算法对于不同阶数、不同目标的充电电流优化问题均有较好的适应性，能够通过迭代计算得到相对最优的结果。但这类算法本质是通过穷举变量的方式寻找最优解，因而需要大量的迭代计算来实现变量空间的搜索覆盖，在计算效率和全局搜索能力方面需要做进一步改进。此外，为提升充电电流最优解的搜索效率，Vo等人利用田口法通过正交阵列设计充电电流方案，基于少量实验即可找到最优充电方案。Chen等人基于动态规划方法将具体优化问题转换为多阶段决策问题，简化了充电电流优化问题的复杂性，实现了以充电损失为目标的50阶电流优化求解。对于分阶优化问题，现有研究却鲜有涉及。现有充电过程的分阶方法普遍采用了基于给定阶数的均分策略，并利用各阶对应SOC范围内的平均内阻作为各阶的等效内阻。该方法对内阻关于SOC的变化和分布特点的描述可以通过提升阶数以实现精度的提升，但这种提升受限于整除因素往往无法实现阶数的连续变化，同时阶数的提升不能确保以更大的计算量作为代价收获更优的准确性，因而在使用中具有一定的局限性。在阶数的确定和选择方面，现有研究大多采用重复实验或者经验方法。Jiang等人采用重复实验的方法确定电流阶数，但该方法工作量大且易受实验过程中潜在的误差影响。一些研究则基于经验确定阶数，并未交代具体的理论依据。少有文献对于阶数的优化确定进行尝试。Ahn等人引入关于充电损失和计算时间代价函数，通过寻找代价函数最小值对应的阶数来确定充电过程的分割方法，但该方法需要预先对不同阶数下的充电损失和计算时间进行实验，因而无法规避重复实验带来的工作量。Lei等人基于路径规划思想，在由SOC、电池内阻和充电电流倍率构成的三维空间内搜索优化充电电流对应最短路径，实现了充电过程的自适应分阶。但该方法需要将各阶SOC范围与充电电流同时作为优化问题的决策变量，增加了变量的维度和搜索空间范围，在计算量上有明显的提升，不利于全局最优解的搜索。同时，该方法的阶数需要预先给定，因而无法实现阶数的自适应确定。发明内容本发明实施例提供基于SOC自适应分阶的动力锂电池两步充电方法，包括：建立动力锂电池等效电路模型；通过实验确定动力锂电池等效电路模型中内阻随SOC变化的拟合曲线；对拟合的阻随SOC变化的拟合曲线以1％SOC的步长进行采样；利用Canopy算法对采样点预聚类，确定阻随SOC变化拟合曲线的划分的阶数；采用二分K-means算法对获得阻随SOC变化拟合曲线的精确的自适应划分；根据充电电流和内阻对应关系，采用优化后非支配排序的哈里斯鹰优化算法NSHHO求解最优的充电电流组合，其中，优化非支配排序的哈里斯鹰优化算法NSHHO，在种群初始化及探索阶段，采用Logistics混沌初始化算子在种群初始化阶段生成成初始种群，采用自适应t分布突变算子在探索阶段进行全局搜索；根据最优的充电电流组合构建充电策略优化模型；利用充电策略优化模型对充电时间和充电损耗进行优化。近一步，建立动力锂电池等效电路模型，包括：二阶Thevenin模型。近一步，动力锂电池等效电路模型中内阻，计算公式包括：Rint＝R0+R1+R2其中，R0，R1，R2分别表示欧姆内阻和极化内阻R1，极化内阻R2、通过离线多倍率HPPC测试实现。近一步，电池SOC基于安时积分法表示，计算公式包括：其中，SOC电池电荷状态的初始电量值，I为充放电电流，Q为电池实际可用容量，t为时间变量。近一步，进行采样时每个采样间隔的内阻数值等于该区间左端采样点对应的内阻值。近一步，利用Canopy算法对采样点预聚类，包括：将采样点点集作为一个大的Canopy，两个阈值设定为T1＝T2＝D，其中D为采样点点集内任意两点间的平均距离，得到预聚类的聚类簇，并确定聚类个数。近一步，二分K-means算法，包括：在迭代过程中，算法分别对前一代聚类得到的簇依次进行划分，并计算划分后得到的各簇内样本点与聚类中心的离差平方和SSE：其中，Ci为第i个簇，ci和xi,j分别为第i个簇的聚类中心和数据点，j为第i个簇内数据点的索引，Mi为第i个簇内数据点的个数；划分子簇和未划分簇的平方和误差之和构成最优划分簇及对应划分点选择的代价函数fc；代价函数最小值所对应的划分方法即为该次迭代内二分的最优解，其结果将作为下次迭代的输入量，代价函数表达式包括：fc＝SSEsplit+SSEnonsplit式中，SSEsplit和SSEnonsplit分别为划分子簇和未划分子簇对应的平方和误差。近一步，采用Logistics混沌初始化算子在种群初始化阶段生成成初始种群，包括：将Logistics映射生成的伪随机序列映射到变量空间，从而形成初始种群X0，其中，XO＝LB+Z·其中，LB为变量搜索空间下限，UB为变量搜索空间上限，Z为第l次迭代时Logistics映射的函数值，Z∈。近一步，自适应t分布突变算子，计算公式包括：X′＝X+η·t·X其中，t是以迭代次数为自由度的t分布，随着算法迭代次数的增加，t分布自由度逐渐增加，实现了t分布由柯西分布向高斯分布的自适应变化，当迭代次数较小时，t分布变异近似柯西分布变异，从而扩大哈里斯鹰的搜索范围，当迭代次数较大时，t分布变异近似高斯分布变异，帮助哈里斯鹰摆脱局部最优值，以寻找更优的解。近一步，还包括：变异自适应控制参数η用于控制突变幅度以避免过大突变幅值带来的结果发散，其计算公式。其中，k为当前迭代次数，Max_iter为总迭代次数。本发明实施例提供基于SOC自适应分阶的动力锂电池两步充电方法，与现有技术相比，其有益效果如下：1、本发明采用两步优化充电策略，减小了充电欧姆损失，较CC-CV策略和均分多阶恒流充电策略最大分别减少了1.29％和0.36％。优化多阶恒流充电能够有效控制温升，较均分多阶恒流充电策略最大减少了0.82℃。此外，还提高了电池充电控制的灵活性。2、采用了Canopy+二分K-means的聚类算法，实现了充电过程的自适应划分和阶数的自适应确定。自适应划分过程不受阶数的整除限制，具有较好的灵活性和实用性。优化分阶策略对应等效内阻较同阶均分策略对应等效内阻在离差平方和上降低了52.6％，提高了电池内阻特性的自适应能力。3、针对哈里斯鹰优化模型在解决实际问题中易陷入局部最优的问题进行了改进，并利用非支配排序的哈里斯鹰优化算法实现对优化充电电流的求解，使结果更加客观，更具代表性。附图说明图1为本发明实施例提供的基于SOC自适应分阶的动力锂电池两步充电方法流程图；图2为本发明实施例提供的基于SOC自适应分阶的动力锂电池两步充电方法二阶Thevenin等效电路模型；图3为本发明实施例提供的基于SOC自适应分阶的动力锂电池两步充电方法的OCV-SOC曲线；图4为本发明实施例提供的基于SOC自适应分阶的动力锂电池两步充电方法的HPPC测试工况；图5为本发明实施例提供的基于SOC自适应分阶的动力锂电池两步充电方法的欧姆内阻及极化内阻辨识结果；图6为本发明实施例提供的基于SOC自适应分阶的动力锂电池两步充电方法的内阻拟合结果；图7为本发明实施例提供的基于SOC自适应分阶的动力锂电池两步充电方法的SMCC策略示意图；图8为本发明实施例提供的基于SOC自适应分阶的动力锂电池两步充电方法的非支配排序流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。参见图1～8，本发明实施例提供基于SOC自适应分阶的动力锂电池两步充电方法，该方法包括：1.建立电池等效电路模型及参数确定1.1电池模型考虑电池充电过程中的极化作用，本发明选取二阶Thevenin模型作为电池等效模型，以实现模型精度和计算复杂度的平衡。如图2所示为二阶Thevenin模型，该模型包含电池开路电压UoCv，欧姆内阻R0，以及两个阻容环节。阻容环节分别由极化内阻R1，R2与极化电容C1，C2组成，用以描述电池充放电过程中不同时间尺度的浓差极化和电化学极化过程。电池端电压UL及极化电压Up12，Up2基于该模型可用式分别进行表示。UL＝UOCV+Up1+Up2+IR0 电池SOC基于安时积分法表示其中，I为充放电电流，Q为电池实际可用容量，t为时间变量。1.2模型参数确定电池等效电路模型中的参数与SOC的对应关系通过实验获得，包括了电池容量测试、电压特性测试和混合脉冲功率特性测试测试。实验使用Panasonic NCR-18650B电池，其参数如表1所示。表1电池主要参数电池最大可用容量Q基于容量特性实验获得，该过程将满电状态的电池以0.3C恒流放电至截止电压，并重复实验三次，当结果误差小于2％时，取三次结果平均值作为电池实际可用容量。实际容量测试测得结果为3.10Ah。电压特性测试用于确定OCV与SOC的对应关系。电池以恒流充电或放电至预设SOC值时，将被静置5h，待电压稳定后进行读数。实验分别对电池充电过程和放电过程的OCV进行了测试，最终的电池OCV表示为：其中，Uchg为充电过程的开路电压；Udis为放电过程的开路电压。OCV关于SOC的变化特征经线性插值拟合后如图3所示。模型参数辨识基于离线多倍率HPPC测试实现。脉冲测试循环间隔为10％SOC，并在SOC＝5％处添加一个循环脉冲，以更好地描述电池参数在低SOC阶段的变化特征。以SOC＝50％的工况电流为例，如图4，该测试单个循环脉冲包含两组不同倍率的充放电脉冲和一个补充充电脉冲，其中放电脉冲与充电脉冲电流倍率比为1：0.75；第一组放电脉冲与补充充电脉冲电流倍率比为1：0.25。当恒流放电到达预设SOC时，电池需静置2h，以达到平衡状态。单个脉冲工况电流对应的电池电压响应包含了瞬时电压压降ΔU和极化电压Up两部分。由于电容两端电压不能发生突变，其中的瞬时电压压降主要由欧姆内阻引起，故欧姆内阻R0可以通过式获得。两个阻容环节的电压之和对应电池极化电压，并随时间缓慢变化，其实质是一个零输入响应环节，故可以利用式对该过程的电压响应曲线进行拟合，从而寻找对应参数值。如图5所示为欧姆内阻R0和极化内阻R1，R2的参数辨识结果。欧姆内阻和极化内阻随SOC及电流倍率变化均有相同的趋势。内阻随SOC变化呈现两端高，中间低的“U”型，而内阻在不同电流倍率下的差异则随SOC的增加不断减小，当SOC＞20％内阻受电流倍率的影响几乎可以忽略不计。为简化分析，各SOC对应内阻值选取不同电流倍率下的均值。在稳态下，电池内阻值Rint可以认为是欧姆内阻与极化内阻之和，即式。电池内阻值拟合结果如图6所示。Rint＝R0+R1+R2 2.基于自适应SOC分阶的两步充电优化策略2.1改进的SMCC方法SMCC是以SOC为分阶参数将一定SOC范围内的恒流充电过程划分为多阶恒流充电过程。以传统CC-CV充电策略的恒流充电阶段为例，如图7，各阶电流与内阻构成反比关系，在不牺牲充电时间的条件下可以实现充电损耗的有效减少。由于电池欧姆损耗为电池充电损耗的主要因素，且欧姆损耗与电池充电过程中的温升和老化衰退均密切相关，故本发明的充电损耗定义为各阶欧姆损耗的和，如式所示。其中，Eloss为电池的充电损耗，N为充电总阶数；i为各阶的序号；Ii，Ri，ti分别为各阶充电电流、内阻和充电时间。为了更充分地考虑电池内阻在不同SOC阶段表现出不同的变化特点，改进的SMCC策略所实现的SOC分阶对应各阶范围并不相等，为方便描述，引入系数λ，如式所示。其中，SOCmax为充电上限SOC；SOCmin为下限SOC；SOCi为各阶之间的切换点SOC。故电池各阶充电时间和充电总时间可以表述为：式中，Q为电池的实际可用容量，ttotal为总充电时间根据上述定义及推导，为了使各阶电流与内阻构成反比关系以减小充电损耗，各阶电流需要满足如下关系：2.2充电策略优化模型改进的充电策略旨在优化电池充电过程在充电时间和充电损耗两个方面的表现。不同于通过权值连接将多目标优化问题转化为单目标优化模型的方法，本发明以各阶充电电流为决策变量，直接采用多目标优化模型，以避免人为主观因素对不同优化目标偏重的影响。电池充电多目标优化模型的优化目标函数如下所示：模型约束条件包含充电策略约束条件和电池特性约束条件。其中，于改进的SMCC，如式所示。为保证电池在充电过程中的安全因素，同时避免不适用充电策略约束条件基于实际的过长的充电时间，电池特性约束条件设置为其中，SOCmax取值基于电池最大可接受充电电流测试对应上限SOC结果。2.3基于自适应SOC分阶的两步充电优化策略改进的SMCC引入了自适应系数λ用于考虑内阻关于SOC的变化特点。但是，由于系数的个数与充电过程的阶数一一对应，针对各阶电流的多目标优化问题的决策变量数目将因此增加一倍，导致原有多目标优化问题的计算复杂度增加。为降低多目标优化问题的计算量，不增加其决策变量的个数，本发明提出一种基于自适应SOC分阶的两步充电优化策略。基于自适应SOC分阶的两步充电策略由SOC分阶优化和分阶电流优化求解两步组成，其具体流程如图1所示。3对于充电工况求解的优化策略3.1基于聚类算法的SOC分阶优化基于聚类方法的SOC分阶优化策略同时考虑电池充电过程中SOC和内阻的变化和分布特点。首先，对拟合的内阻-SOC曲线以1％SOC的步长进行采样，定义每个采样间隔的内阻数值等于该区间左端采样点对应的内阻值。之后，以SOC和内阻为特征，将所有采样点构成一个二维平面点集，并对所有样本点做归一化处理。最后，利用两点间的欧式距离将具有相似内阻数值并在SOC数值上保持连续的样本点聚类，以实现充电过程SOC的自适应划分和划分阶数的优化确定，并选取聚类中心对应内阻值作为该分阶的特征内阻值。由于传统K-means聚类效果对初始聚类中心和个数的给定敏感，针对初始化盲目性的问题，本发明中聚类算法采用了Canopy+二分K-means的算法。其中，Canopy算法用于采样点的预聚类，以实现聚类个数的确定；二分K-means则基于Canopy确定的聚类个数做具体的聚类操作。Canopy算法的主要参数包括了两个距离阈值T1和T2。对于本发明的预聚类问题，由于只需要确定聚类簇数，完整的采样点点集可以被视为一个大的Canopy，因而两个阈值设定可以相等，即有T1＝T2＝D，其中D为采样点点集内任意两点间的平均距离。二分K-means算法作为改进的K-means算法，针对传统K-means存在的局部最优问题通过对数据做迭代二分进行了改善。在迭代过程中，算法分别对前一代聚类得到的簇依次进行尝试划分，并计算划分后得到的各簇内样本点与聚类中心的离差平方和：其中，Ci为第i个簇，ci和xi,j分别为第i个簇的聚类中心和数据点，j为第i个簇内数据点的索引，Mi为第i个簇内数据点的个数。划分子簇和未划分簇的平方和误差之和构成最优划分簇及对应划分点选择的代价函数fc。代价函数最小值所对应的划分方法即为该次迭代内二分的最优解，其结果将作为下次迭代的输入量。基于上述原理，二分K-means算法可以有效地减小陷入局部最优的可能性。fc＝SSEsplit+SSEnonsplit 式中，SSEsplit和SSEnonsplit分别为划分子簇和未划分子簇对应的平方和误差。3.2分阶电流优化求解基于第一步的分阶优化结果，第二步优化的主要问题在于寻找满足目标函数要求的最优解或解集，即多目标优化的求解问题。为了更好地获得满足目标要求的充电电流组合，本发明使用NSHHO算法求解最优前沿，并针对问题应用的需要对算法的全局寻优和局部寻优能力做出优化改进。NSHHO是基于哈里斯鹰优化模型的多目标优化算法，通过结合精英策略和非支配排序机制，在增加哈里斯鹰种群多样性的同时，有效改善了开发和探索两个阶段能力的平衡，进一步优化寻优结果。哈里斯鹰优化模型分为探索和开发两个阶段，通过对位置变量的更新，实现对哈里斯鹰寻找靠近猎物和执行不同捕食策略行为的描述。模型同时考虑了猎物面对捕猎时的逃跑行为对哈里斯鹰捕食行为的影响，引入猎物逃跑能量E。逃跑能量随迭代次数的增加呈现总体下降趋势。基本HHO模型的逃跑能量公式如式其中，k为当前迭代次数；Max_iter为总迭代次数；E0为猎物的初始逃跑能量。在进一步研究过程中，研究学者发现随机收缩指数函数的数学模型对模拟猎物能量的变化具有更好的效果，故逃跑能量E可改进为其中，ω为衰减系数。NSHHO的非支配排序过程如图8所示，该过程通过计算个体适应度和拥挤度距离筛选较优个体，并利用精英策略保留了NSHHO第k次迭代过程中父代Pk和子代Qk的最优解个体。根据精英策略，种群的父代Pk和子代Qk首先合并形成新的子代Rk，之后利用子代适应度值进行非支配排序，利用拥挤度距离筛除重复个体，保证种群内的个体多样性。最后基于非支配排序结果F，选取满足种群大小数量的个体构成新一代种群Pk+1。针对实际约束类问题，HHO优化模型容易陷入局部最优。为改善NSHHO的全局寻优能力，本发明分别对NSHHO算法种群初始化及探索阶段进行了改进优化。Logistics混沌初始化原始NSHHO初始种群基于随机初始化易造成哈里斯鹰初始位置分布不均匀，不利于算法做进一步的搜索优化。作为常见的混沌映射，Logistics映射生成的混沌序列具有伪随机性，使个体保持了较好的独立性，在搜索空间内的分布上更加均匀。为使初始位置具有较好的多样性，降低算法陷入可能的局部最优的概率，本发明利用Logistics混沌映射生成初代种群，如式Zl+1＝Zl×μ其中，μ∈为Logistics参数，Zl为第l次迭代时Logistics映射的函数值，Zl∈。利用式将Logistics映射生成的伪随机序列映射到变量空间，从而形成初始种群X0。X0＝LB+Z· 其中，LB为变量搜索空间下限，UB为变量搜索空间上限。自适应t分布变异原始HHO模型的搜索阶段策略相对简单，易造成全局搜索不充分，陷入局部最优的问题。本发明引入自适应t分布变异种群中的部分个体，增加哈里斯鹰种群多样性。X′＝x+η·t·X其中，t是以迭代次数为自由度的t分布。随着算法迭代次数的增加，t分布自由度逐渐增加，实现了t分布由柯西分布向高斯分布的自适应变化。当迭代次数较小时，t分布变异近似柯西分布变异，从而扩大哈里斯鹰的搜索范围；当迭代次数较大时，t分布变异近似高斯分布变异，帮助哈里斯鹰摆脱局部最优值，以寻找更优的解。η为变异自适应控制参数，用于控制突变幅度以避免过大突变幅值带来的结果发散，如式所示。该两步优化充电策略有以下优点：优化多阶恒流充电策略在减小充电欧姆损失方面具有优势，较CC-CV策略和均分多阶恒流充电策略最大分别减少了1.29％和0.36％。优化多阶恒流充电能够有效控制温升，较均分多阶恒流充电策略最大减少了0.82℃。在不增加其决策变量个数的情况下，降低了原有多目标优化问题的计算复杂度。以各阶充电电流为决策变量，直接采用多目标优化模型，避免了人为主观因素对不同优化目标偏重的影响，使结果更加客观，更具代表性。提高了电池充电控制的灵活性，并且可以通过电压来达到准确控制电池充电的SOC范围的效果，提高了电池内阻特性的自适应能力。优化算法有以下优点：采用了Canopy+二分K-means的聚类算法，实现了充电过程的自适应划分和阶数的自适应确定,提高了电池内阻的自适应能力，克服了传统K-means聚类效果对初始聚类中心和个数的给定敏感的问题。并且自适应划分过程不受阶数的整除限制，具有较好的灵活性和实用性。优化分阶策略对应等效内阻较同阶均分策略对应等效内阻在离差平方和上降低了52.6％。通过聚类算法分类时，同时考虑电池充电过程中SOC和内阻的变化和分布特点，保证了数据的连续性，并且使数据的表征更加全面准确。NSHHO是基于哈里斯鹰优化模型的多目标优化算法，通过结合精英策略和非支配排序机制，在增加哈里斯鹰种群多样性的同时，保持了之前种群的寻优结果，并在此基础上进一步寻优，有效改善了开发和探索两个阶段能力的平衡，使结果得到了较哈里斯鹰优化模型的进一步的优化。以上公开的仅为本发明的几个具体实施例，本领域的技术人员可以对本发明实施例进行各种改动和变型而不脱离本发明的精神和范围，但是，本发明实施例并非局限于此，任何本领域的技术人员能思之的变化都应落入本发明的保护范围内。
