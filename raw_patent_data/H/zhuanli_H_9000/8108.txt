标题title
基于隐私计算的电力交易方法和系统、用电端和发电端
摘要abst
本发明公开了一种基于隐私计算的电力交易方法和系统、用电端和发电端，涉及计算机技术领域。该方法包括：根据当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；接收电力交易平台解密得到的第二共识因子，计算在当次迭代中当前用电方从当前发电方获取的电量；如果当前用电方在当次迭代中满足第一停止条件，确定各个用电方和各个发电方是否在同一迭代轮次满足第二停止条件，如果满足，则得到目标用电量，否则，向当前发电方发送第二共识因子的密文、当前用电方从当前发电方获取电量的密文和当前用电方的收敛标识。该实施方式能够保护节点的隐私。
权利要求书clms
1.一种基于隐私计算的电力交易方法，其特征在于，包括：接收当前发电方发送的前一次迭代得到的当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输电量的密文和所述当前发电方的收敛标识；其中，所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文由同态加密得到；根据所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；将所述当前发电方与当前用电方的第二共识因子的密文发送给电力交易平台，以使所述电力交易平台对所述当前发电方与当前用电方的第二共识因子的密文进行解密；接收所述电力交易平台解密得到的所述当前发电方与当前用电方的第二共识因子；根据所述当前发电方与当前用电方的第二共识因子，计算在当次迭代中当前用电方从当前发电方获取的电量；确定所述当前用电方在当次迭代中是否满足第一停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第二停止条件，如果满足，则确定所述当前用电方从当前发电方获取的电量为目标用电量，如果所述当前用电方在当次迭代中不满足第一停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第二停止条件，则使用所述电力交易平台提供的公钥，对所述当前用电方从当前发电方获取的电量进行同态加密，向所述当前发电方发送所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取的电量的密文和所述当前用电方的收敛标识。2.如权利要求1所述的方法，其特征在于，根据所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文，包括：基于公式1计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；公式1包括：其中，用于表征第k+1次迭代的当前发电方与当前用电方的第二共识因子的密文，用于表征第k次迭代的当前发电方与当前用电方的第二共识因子，用于表征第k次迭代的当前发电方与当前用电方的第一共识因子的密文，用于表征第k次迭代的当前用电方从当前发电方获取的电量，用于表征第k次迭代的当前发电方向当前用电方传输的电量的密文，和为前一次迭代中控制迭代步长的参数。3.如权利要求1所述的方法，其特征在于，根据所述当前发电方与当前用电方的第二共识因子，计算在当次迭代中当前用电方从当前发电方获取的电量，包括：根据公式2，计算在当次迭代中所述当前用电方的约束因子的上限；公式2包括：根据公式3，计算在当次迭代中所述当前用电方的约束因子的下限；公式3包括：根据公式4-6，计算在当次迭代中当前用电方从当前发电方获取的电量；公式4包括：公式5包括：公式6包括：其中，用于表征在第k+1次迭代中所述当前用电方的约束因子的上限，用于表征在第k次迭代中所述当前用电方的约束因子的上限，、为第k次迭代中控制迭代步长的参数，用于表征所述当前用电方的用电量，用于表征所述当前用电方的用电量上限；用于表征在第k+1次迭代中所述当前用电方的约束因子的下限，用于表征在第k次迭代中所述当前用电方的约束因子的下限，用于表征所述当前用电方的用电量下限，用于表征第k+1次迭代的当前发电方与当前用电方的第二共识因子，、用于表征所述当前用电方的电力成本函数的参数，用于表征所述当前用电方从所述当前发电方获取的电量，用于表征所述当前用电方从发电方l获取的电量，用于表征除n之外的发电方的集合，、为迭代过程的中间变量，用于表征第k+1次迭代的当前用电方从当前发电方获取的电量，用于表征第k次迭代的当前用电方从当前发电方获取的电量，用于表征在第k次迭代中当前用电方的用电量。4.如权利要求3所述的方法，其特征在于，所述第一停止条件包括：其中，、和为三种收敛阈值。5.如权利要求1所述的方法，其特征在于，进一步包括：接收所述当前发电方发送的其前一次迭代的迭代过程零知识证明；根据所述当前发电方发送的其前一次迭代的迭代过程零知识证明，验证所述当前发电方的前一次迭代过程是否正确，如果正确，执行所述根据所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；当所述当前用电方在当次迭代中不满足第一停止条件，或，各个用电方和各个发电方未在同一迭代轮次满足第二停止条件时，生成所述当前用电方的当次迭代的迭代过程零知识证明，向所述当前发电方发送所述当前用电方的当次迭代的迭代过程零知识证明。6.如权利要求1所述的方法，其特征在于，进一步包括：接收所述当前发电方发送的其优化结果零知识证明；根据所述当前发电方发送的其优化结果零知识证明，验证所述当前发电方向所述当前用电方传输的目标发电量是否正确，将验证结果通知其他发电方和其他用电方；当各个用电方和各个发电方在同一迭代轮次满足第二停止条件时，生成所述当前用电方的优化结果零知识证明，向所述当前发电方发送所述当前用电方的优化结果零知识证明。7.一种基于隐私计算的电力交易方法，其特征在于，包括：接收当前用电方发送的前一次迭代得到的当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文和所述当前用电方的收敛标识；其中，所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文由同态加密得到；根据所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文；将所述当前发电方与当前用电方的第一共识因子的密文发送给电力交易平台，以使所述电力交易平台对所述当前发电方与当前用电方的第一共识因子的密文进行解密；接收所述电力交易平台解密得到的所述当前发电方与当前用电方的第一共识因子；根据所述当前发电方与当前用电方的第一共识因子，计算在当次迭代中当前发电方向当前用电方传输的电量；确定所述当前发电方在当次迭代中是否满足第三停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第四停止条件，如果满足，则确定所述当前发电方向当前发电方传输的电量为目标发电量，如果所述当前发电方在当次迭代中不满足第三停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第四停止条件，则使用所述电力交易平台提供的公钥，对所述当前发电方向当前用电方传输的电量进行同态加密，向所述当前用电方发送所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文和所述当前发电方的收敛标识。8.如权利要求7所述的方法，其特征在于，根据所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文，包括：基于公式7计算档次迭代的当前发电方与当前用电方的第一共识因子的密文；公式7包括：其中，用于表征第k+1次迭代的当前发电方与当前用电方的第一共识因子的密文，用于表征第k次迭代的当前发电方与当前用电方的第一共识因子，用于表征第k次迭代的当前发电方与当前用电方的第二共识因子的密文，用于表征第k次迭代的当前发电方向当前用电方传输的电量，用于表征第k次迭代的当前用电方向从前发电方获取的电量的密文，和为前一次迭代中控制迭代步长的参数。9.如权利要求7所述的方法，其特征在于，根据所述当前发电方与当前用电方的第一共识因子，计算在当次迭代中当前发电方向当前用电方传输的电量，包括：根据公式8，计算在档次迭代中所述当前发电方的约束因子的上限；公式8包括：根据公式9，计算在当次迭代中所述当前发电方的约束因子的下限；公式9包括：根据公式10-12，计算在当次迭代中当前发电方向当前发电方传输的电量；公式10包括：公式11包括：公式12包括：其中，用于表征在第k+1次迭代中所述当前发电方的约束因子的上限，用于表征在第k次迭代中所述当前发电方的约束因子的上限，、为第k次迭代中控制迭代步长的参数，用于表征所述当前发电方的发电量，用于表征所述当前发电方的发电量上限；用于表征在第k+1次迭代中所述当前发电方的约束因子的下限，用于表征在第k次迭代中所述当前发电方的约束因子的下限，用于表征所述当前发电方的用电量下限，用于表征第k+1次迭代的当前发电方与当前用电方的第一共识因子，、用于表征所述当前发电方的电力成本函数的参数，用于表征所述当前发电方向所述当前用电方传输的电量，用于表征所述当前发电方m向用电方q获取的电量，用于表征除m之外的用电方的集合，、为迭代过程的中间变量，用于表征第k+1次迭代的当前发电方向当前用电方传输的电量，用于表征第k次迭代的当前发电方向当前用电方传输的电量，用于表征在第k次迭代中当前发电方的发电量。10.如权利要求9所述的方法，其特征在于，所述第三停止条件包括：其中，、和为三种收敛阈值。11.如权利要求7所述的方法，其特征在于，进一步包括：接收所述当前用电方发送的其前一次迭代的迭代过程零知识证明；根据所述当前用电方发送的其前一次迭代的迭代过程零知识证明，验证所述当前用电方的前一次迭代过程是否正确，如果正确，执行所述根据所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文；当所述当前发电方在当次迭代中不满足第一停止条件，或，各个用电方和各个发电方未在同一迭代轮次满足第二停止条件时，生成所述当前发电方的当次迭代的迭代过程零知识证明，向所述当前用电方发送所述当前发电方的当次迭代的迭代过程零知识证明。12.如权利要求7所述的方法，其特征在于，进一步包括：接收所述当前用电方发送的其优化结果零知识证明；根据所述当前用电方发送的其优化结果零知识证明，验证所述当前用电方从所述当前发电方获取的目标发电量是否正确，将验证结果通知其他发电方和其他用电方；当各个用电方和各个发电方在同一迭代轮次满足第二停止条件时，生成所述当前发电方的优化结果零知识证明，向所述当前用电方发送所述当前发电方的优化结果零知识证明。13.一种基于隐私计算的电力交易方法，其特征在于，包括：接收当前发电方发送的当前发电方与当前用电方的第一共识因子的密文；基于同态加密，解密所述当前发电方与当前用电方的第一共识因子的密文；向所述当前发电方发送解密得到的所述当前发电方与当前用电方的第一共识因子；接收当前用电方发送的当前发电方与当前用电方的第二共识因子的密文；基于同态加密，解密所述当前发电方与当前用电方的第二共识因子的密文；向所述当前用电方发送解密得到的所述当前发电方与当前用电方的第二共识因子。14.一种用电端，其特征在于，包括：接收模块，配置为接收当前发电方发送的前一次迭代得到的当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输电量的密文和所述当前发电方的收敛标识；其中，所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文由同态加密得到；计算模块，配置为根据所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；将所述当前发电方与当前用电方的第二共识因子的密文发送给电力交易平台，以使所述电力交易平台对所述当前发电方与当前用电方的第二共识因子的密文进行解密；接收所述电力交易平台解密得到的所述当前发电方与当前用电方的第二共识因子；根据所述当前发电方与当前用电方的第二共识因子，计算在当次迭代中当前用电方从当前发电方获取的电量；确定模块，配置为确定所述当前用电方在当次迭代中是否满足第一停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第二停止条件，如果满足，则确定所述当前用电方从当前发电方获取的电量为目标用电量，如果所述当前用电方在当次迭代中不满足第一停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第二停止条件，则使用所述电力交易平台提供的公钥，对所述当前用电方从当前发电方获取的电量进行同态加密，向所述当前发电方发送所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取的电量的密文和所述当前用电方的收敛标识。15.一种发电端，其特征在于，包括：接收模块，配置为接收当前用电方发送的前一次迭代得到的当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文和所述当前用电方的收敛标识；其中，所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文由同态加密得到；计算模块，配置为根据所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文；将所述当前发电方与当前用电方的第一共识因子的密文发送给电力交易平台，以使所述电力交易平台对所述当前发电方与当前用电方的第一共识因子的密文进行解密；接收所述电力交易平台解密得到的所述当前发电方与当前用电方的第一共识因子；根据所述当前发电方与当前用电方的第一共识因子，计算在当次迭代中当前发电方向当前用电方传输的电量；确定模块，配置为确定所述当前发电方在当次迭代中是否满足第三停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第四停止条件，如果满足，则确定所述当前发电方向当前发电方传输的电量为目标发电量，如果所述当前发电方在当次迭代中不满足第三停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第四停止条件，则使用所述电力交易平台提供的公钥，对所述当前发电方向当前用电方传输的电量进行同态加密，向所述当前用电方发送所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文和所述当前发电方的收敛标识。16.一种电力交易平台，其特征在于，包括：接收模块，配置为接收当前发电方发送的当前发电方与当前用电方的第一共识因子的密文；接收当前用电方发送的当前发电方与当前用电方的第二共识因子的密文；解密模块，配置为基于同态加密，解密所述当前发电方与当前用电方的第一共识因子的密文；基于同态加密，解密所述当前发电方与当前用电方的第二共识因子的密文；发送模块，配置为向所述当前发电方发送解密得到的所述当前发电方与当前用电方的第一共识因子；向所述当前用电方发送解密得到的所述当前发电方与当前用电方的第二共识因子。17.一种基于隐私计算的电力交易系统，其特征在于，包括：权利要求14所述的用电端、权利要求15所述的发电端、权利要求16所述的电力交易平台。18.一种电子设备，其特征在于，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1-13中任一所述的方法。19.一种计算机可读介质，其上存储有计算机程序，其特征在于，所述程序被处理器执行时实现如权利要求1-13中任一所述的方法。
说明书desc
技术领域本发明涉及计算机技术领域，尤其涉及一种基于隐私计算的电力交易方法和系统、用电端和发电端。背景技术分布式电力系统中存在众多节点，电力交易方案一般通过有约束条件的全局优化算法确定。即在保证满足约束条件的情况下，找到令全局成本最低的最优解，使得电力系统产生的成本最低。现有的电力系统一般采用如图1所示的中心化计算架构进行优化计算，计算所需的数据集中到一个中心化计算节点，由中心化计算节点统一计算出最优解，并将最优解反馈给电力系统中的节点A、B、C、D和E。但是，其他节点的数据被公开给中心化计算节点，无法保护节点的隐私，数据安全性较低。发明内容有鉴于此，本发明实施例提供一种基于隐私计算的电力交易方法和系统、用电端和发电端，能够保护节点的隐私，提高数据安全性。第一方面，本发明实施例提供了一种基于隐私计算的电力交易方法，包括：接收当前发电方发送的前一次迭代得到的当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输电量的密文和所述当前发电方的收敛标识；其中，所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文由同态加密得到；根据所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；将所述当前发电方与当前用电方的第二共识因子的密文发送给电力交易平台，以使所述电力交易平台对所述当前发电方与当前用电方的第二共识因子的密文进行解密；接收所述电力交易平台解密得到的所述当前发电方与当前用电方的第二共识因子；根据所述当前发电方与当前用电方的第二共识因子，计算在当次迭代中当前用电方从当前发电方获取的电量；确定所述当前用电方在当次迭代中是否满足第一停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第二停止条件，如果满足，则确定所述当前用电方从当前发电方获取的电量为目标用电量，如果所述当前用电方在当次迭代中不满足第一停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第二停止条件，则使用所述电力交易平台提供的公钥，对所述当前用电方从当前发电方获取的电量进行同态加密，向所述当前发电方发送所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取的电量的密文和所述当前用电方的收敛标识。第二方面，本发明实施例提供了一种基于隐私计算的电力交易方法，包括：接收当前用电方发送的前一次迭代得到的当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文和所述当前用电方的收敛标识；其中，所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文由同态加密得到；根据所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文；将所述当前发电方与当前用电方的第一共识因子的密文发送给电力交易平台，以使所述电力交易平台对所述当前发电方与当前用电方的第一共识因子的密文进行解密；接收所述电力交易平台解密得到的所述当前发电方与当前用电方的第一共识因子；根据所述当前发电方与当前用电方的第一共识因子，计算在当次迭代中当前发电方向当前用电方传输的电量；确定所述当前发电方在当次迭代中是否满足第三停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第四停止条件，如果满足，则确定所述当前发电方向当前发电方传输的电量为目标发电量，如果所述当前发电方在当次迭代中不满足第三停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第四停止条件，则使用所述电力交易平台提供的公钥，对所述当前发电方向当前用电方传输的电量进行同态加密，向所述当前用电方发送所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文和所述当前发电方的收敛标识。第三方面，本发明实施例提供了一种基于隐私计算的电力交易方法，包括：接收当前发电方发送的当前发电方与当前用电方的第一共识因子的密文；基于同态加密，解密所述当前发电方与当前用电方的第一共识因子的密文；向所述当前发电方发送解密得到的所述当前发电方与当前用电方的第一共识因子；接收当前用电方发送的当前发电方与当前用电方的第二共识因子的密文；基于同态加密，解密所述当前发电方与当前用电方的第二共识因子的密文；向所述当前用电方发送解密得到的所述当前发电方与当前用电方的第二共识因子。第四方面，本发明实施例提供了一种用电端，包括：接收模块，配置为接收当前发电方发送的前一次迭代得到的当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输电量的密文和所述当前发电方的收敛标识；其中，所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文由同态加密得到；计算模块，配置为根据所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；将所述当前发电方与当前用电方的第二共识因子的密文发送给电力交易平台，以使所述电力交易平台对所述当前发电方与当前用电方的第二共识因子的密文进行解密；接收所述电力交易平台解密得到的所述当前发电方与当前用电方的第二共识因子；根据所述当前发电方与当前用电方的第二共识因子，计算在当次迭代中当前用电方从当前发电方获取的电量；确定模块，配置为确定所述当前用电方在当次迭代中是否满足第一停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第二停止条件，如果满足，则确定所述当前用电方从当前发电方获取的电量为目标用电量，如果所述当前用电方在当次迭代中不满足第一停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第二停止条件，则使用所述电力交易平台提供的公钥，对所述当前用电方从当前发电方获取的电量进行同态加密，向所述当前发电方发送所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取的电量的密文和所述当前用电方的收敛标识。第五方面，本发明实施例提供了一种发电端，包括：接收模块，配置为接收当前用电方发送的前一次迭代得到的当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文和所述当前用电方的收敛标识；其中，所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文由同态加密得到；计算模块，配置为根据所述当前发电方与当前用电方的第二共识因子的密文、所述当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文；将所述当前发电方与当前用电方的第一共识因子的密文发送给电力交易平台，以使所述电力交易平台对所述当前发电方与当前用电方的第一共识因子的密文进行解密；接收所述电力交易平台解密得到的所述当前发电方与当前用电方的第一共识因子；根据所述当前发电方与当前用电方的第一共识因子，计算在当次迭代中当前发电方向当前用电方传输的电量；确定模块，配置为确定所述当前发电方在当次迭代中是否满足第三停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第四停止条件，如果满足，则确定所述当前发电方向当前发电方传输的电量为目标发电量，如果所述当前发电方在当次迭代中不满足第三停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第四停止条件，则使用所述电力交易平台提供的公钥，对所述当前发电方向当前用电方传输的电量进行同态加密，向所述当前用电方发送所述当前发电方与当前用电方的第一共识因子的密文、所述当前发电方向当前用电方传输的电量的密文和所述当前发电方的收敛标识。第六方面，本发明实施例提供了一种电力交易平台，包括：接收模块，配置为接收当前发电方发送的当前发电方与当前用电方的第一共识因子的密文；接收当前用电方发送的当前发电方与当前用电方的第二共识因子的密文；解密模块，配置为基于同态加密，解密所述当前发电方与当前用电方的第一共识因子的密文；基于同态加密，解密所述当前发电方与当前用电方的第二共识因子的密文；发送模块，配置为向所述当前发电方发送解密得到的所述当前发电方与当前用电方的第一共识因子；向所述当前用电方发送解密得到的所述当前发电方与当前用电方的第二共识因子。第七方面，本发明实施例提供了一种基于隐私计算的电力交易系统，包括：上述实施例所述的用电端、发电端和电力交易平台。第八方面，本发明实施例提供了一种电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如上述任一实施例所述的方法。第九方面，本发明实施例提供了一种计算机可读介质，其上存储有计算机程序，所述程序被处理器执行时实现如上述任一实施例所述的方法。上述发明中的一个实施例具有如下优点或有益效果：采用去中心化计算架构，将优化计算分解到多个节点中执行，节点只知道自身的特征数据，节点之间并不知晓对方的计算参数，并且通过同态加密算法来隐藏节点间同步时交换的信息，能够保护节点的隐私，提高数据的安全性。考虑到迭代计算各个步骤均以密文形式执行时性能较差，本发明实施例通过电力交易平台对迭代计算过程产生的中间结果进行解密，使用明文执行后续步骤，能够提高计算效率。上述的非惯用的可选方式所具有的进一步效果将在下文中结合具体实施方式加以说明。附图说明附图用于更好地理解本发明，不构成对本发明的不当限定。其中：图1是本发明的一个实施例提供的一种中心化计算架构的示意图；图2是本发明的一个实施例提供的一种应用于用电端的基于隐私计算的电力交易方法的流程图；图3是本发明的一个实施例提供的一种基于隐私计算的电力交易系统的示意图；图4是本发明的一个实施例提供的一种应用于发电端的基于隐私计算的电力交易方法的流程图；图5是本发明的一个实施例提供的一种应用于电力交易平台的基于隐私计算的电力交易方法的流程图；图6是本发明的一个实施例提供的一种用电端的示意图；图7是本发明的一个实施例提供的一种发电端的示意图；图8是本发明的一个实施例提供的一种电力交易平台的示意图；图9是适于用来实现本发明实施例的终端设备或服务器的计算机系统的结构示意图。具体实施方式以下结合附图对本发明的示范性实施例做出说明，其中包括本发明实施例的各种细节以助于理解，应当将它们认为仅仅是示范性的。因此，本领域普通技术人员应当认识到，可以对这里描述的实施例做出各种改变和修改，而不会背离本发明的范围和精神。同样，为了清楚和简明，以下的描述中省略了对公知功能和结构的描述。在分布式电力系统中，单个节点的成本通常由成本函数计算得到。其中一种成本函数如下：其中，用于表征发电方的发电量或用电方的用电量，、为成本函数的参数，由节点的发电或用电性质决定，如发电或用电产生的碳排放、对环境的污染程度等。确定电力交易方案，即计算电力系统总成本最低时，各个节点的发电量或用电量。同时，这个最优解需要满足特定的约束条件，如，约束条件1为，约束条件1表征优化得到的目标发电量在发电量上下限范围内、优化得到的目标用电量在用电量上下限范围内；约束条件2为：发电方m向用电方n传输的电量等于用电方n从发电方m获取的电量。现有方法一般通过中心化方式确定目标用电量和目标发电量，但是，该方法无法保护节点的隐私，并且，容易导致数据泄露。鉴于此，如图2所示，本发明实施例提供了一种基于隐私计算的电力交易方法，包括：步骤201：接收当前发电方发送的前一次迭代得到的当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输电量的密文和当前发电方的收敛标识。其中，当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文由同态加密得到。该方法应用于用电端，用电端供用电方使用，考虑到发电方存在多个，本发明实施例以当前发电方为例进行说明。第一共识因子是当前发电方在迭代过程中产生的中间结果，第二共识因子是当前用电方在迭代过程中产生的中间结果，对于不同的优化算法，其产生的第一共识因子和第二共识因子可能存在差别。前一次迭代得到的当前发电方的收敛标识，用于表征当前发电方的前一次迭代结果是否收敛。参考图3所示的系统，本发明实施例采用的是一种去中心化计算架构。步骤202：根据当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文。步骤203：将当前发电方与当前用电方的第二共识因子的密文发送给电力交易平台，以使电力交易平台对当前发电方与当前用电方的第二共识因子的密文进行解密。电力交易平台中保存私钥，各个节点使用对应的公钥进行同态加密，电力交易平台使用私钥对密文进行解密。节点包括发电方和用电方。步骤204：接收电力交易平台解密得到的当前发电方与当前用电方的第二共识因子。后续计算步骤将使用第二共识因子的明文执行。步骤205：根据当前发电方与当前用电方的第二共识因子，计算在当次迭代中当前用电方从当前发电方获取的电量。步骤206：确定当前用电方在当次迭代中是否满足第一停止条件，如果是，执行步骤207，否则，执行步骤209。第一停止条件可以根据实际业务需求进行调整，例如，第一停止条件为迭代轮次达到设定的次数阈值，或，在当次迭代中当前用电方从当前发电方获取的电量大于设定的电量阈值等。第二停止条件与第一停止条件类似，第二停止条件可以为各个用电方和各个发电方的迭代轮次均达到设定的次数阈值，或各个用电方的用电量和各个发电方的发电量在同一迭代轮次达到设定的电量阈值。步骤207：根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第二停止条件，如果满足，执行步骤208，否则，执行步骤209。步骤208：确定当前用电方从当前发电方获取的电量为目标用电量。步骤209：使用电力交易平台提供的公钥，对当前用电方从当前发电方获取的电量进行同态加密，向当前发电方发送当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取的电量的密文和当前用电方的收敛标识。本发明实施例采用去中心化计算架构，将优化计算分解到多个节点中执行，节点只知道自身的特征数据，节点之间并不知晓对方的计算参数，并且通过同态加密算法来隐藏节点间同步时交换的信息，能够保护节点的隐私，提高数据的安全性。考虑到迭代计算各个步骤均以密文形式执行时性能较差，本发明实施例通过电力交易平台对迭代计算过程产生的中间结果进行解密，使用明文执行后续步骤，能够提高计算效率。为了描述方便，下述实施例仅以RCI算法为例，对优化过程进行详细描述。本发明实施例同样适用于拉格朗日松弛等包含约束条件的优化算法。在本发明的一个实施例中，根据当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文，包括：基于公式1计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；公式1包括：其中，用于表征第k+1次迭代的当前发电方与当前用电方的第二共识因子的密文，用于表征第k次迭代的当前发电方与当前用电方的第二共识因子，用于表征第k次迭代的当前发电方与当前用电方的第一共识因子的密文，用于表征第k次迭代的当前用电方从当前发电方获取的电量，用于表征第k次迭代的当前发电方向当前用电方传输的电量的密文，和为前一次迭代中控制迭代步长的参数。本发明实施例采用同态加密得到第二共识因子的密文，以提高数据的隐私性和安全性。在本发明的一个实施例中，根据当前发电方与当前用电方的第二共识因子，计算在当次迭代中当前用电方从当前发电方获取的电量，包括：根据公式2，计算在当次迭代中当前用电方的约束因子的上限；公式2包括：根据公式3，计算在当次迭代中当前用电方的约束因子的下限；公式3包括：根据公式4-6，计算在当次迭代中当前用电方从当前发电方获取的电量；公式4包括：公式5包括：公式6包括：其中，用于表征在第k+1次迭代中当前用电方的约束因子的上限，用于表征在第k次迭代中当前用电方的约束因子的上限，、为第k次迭代中控制迭代步长的参数，用于表征当前用电方的用电量，用于表征当前用电方的用电量上限；用于表征在第k+1次迭代中当前用电方的约束因子的下限，用于表征在第k次迭代中当前用电方的约束因子的下限，用于表征当前用电方的用电量下限，用于表征第k+1次迭代的当前发电方与当前用电方的第二共识因子，、用于表征当前用电方的电力成本函数的参数，用于表征当前用电方从当前发电方获取的电量，用于表征当前用电方从发电方l获取的电量，用于表征除n之外的发电方的集合，、为迭代过程的中间变量，用于表征第k+1次迭代的当前用电方从当前发电方获取的电量，用于表征第k次迭代的当前用电方从当前发电方获取的电量，用于表征在第k次迭代中当前用电方的用电量。在本发明的一个实施例中，第一停止条件包括：其中，、和为三种收敛阈值，可以根据业务需求设定。由于节点无法判断其他节点共享的密文是不是通过正确的迭代过程计算得到，防止迭代过程被篡改，在本发明的一个实施例中，该方法还包括：接收当前发电方发送的其前一次迭代的迭代过程零知识证明；根据当前发电方发送的其前一次迭代的迭代过程零知识证明，验证当前发电方的前一次迭代过程是否正确，如果正确，执行根据当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；当当前用电方在当次迭代中不满足第一停止条件，或，各个用电方和各个发电方未在同一迭代轮次满足第二停止条件时，生成当前用电方的当次迭代的迭代过程零知识证明，向当前发电方发送当前用电方的当次迭代的迭代过程零知识证明。本发明实施例通过迭代过程零知识证明，对迭代过程的真实性进行验证，确保优化过程的正确性。每个节点可以在每一轮迭代后，生成一个相应的迭代过程零知识证明，以确保其他节点传来的数据是正确的。当前用电方的当次迭代的迭代过程零知识证明的电路中包括如下一项或两项约束：使用了当前发电方发送的前一次迭代得到的当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输电量的密文和当前发电方的收敛标识执行当前用电方的当次迭代；当前用电方的当次迭代按照优化算法的执行步骤进行。迭代过程零知识证明的电路中的约束并不局限于上述提到的几项，还可以根据实际业务需求确定。其中，公开变量可以包括：当前发电方发送的前一次迭代得到的当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输电量的密文和当前发电方的收敛标识中任意一项或多项，以及档次迭代得到的当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取的电量的密文和当前用电方的收敛标识中任意一项或多项。私有变量可以包括：、、、、和中任意一项或多项，私有变量还可以为迭代过程中涉及的其他中间变量。在本发明的一个实施例中，该方法还包括：接收当前发电方发送的其优化结果零知识证明；根据当前发电方发送的其优化结果零知识证明，验证当前发电方向当前用电方传输的目标发电量是否正确，将验证结果通知其他发电方和其他用电方；当各个用电方和各个发电方在同一迭代轮次满足第二停止条件时，生成当前用电方的优化结果零知识证明，向当前发电方发送当前用电方的优化结果零知识证明。本发明实施例通过优化结果零知识证明，对优化结果的真实性进行验证，确保优化结果的正确性。用电方可以将验证结果发送给电力系统中的其他节点，以提高电力系统的数据安全性。当前用电方的优化结果零知识证明的电路中包括如下一项或两项约束：，即用电量在上下限范围内。当前用电方从当前发电方获取的电量等于当前发电方向当前用电方传输的电量。优化结果零知识证明的电路中的约束并不局限于上述提到的几项，还可以根据实际业务需求确定。其中，公开变量可以包括：发电方向用电方传输的电量、用电方从发电方获取的电量。私有变量可以包括：、中任意一项或多项。如图4所示，本发明实施例提供了一种基于隐私计算的电力交易方法，包括：步骤401：接收当前用电方发送的前一次迭代得到的当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取电量的密文和当前用电方的收敛标识。其中，当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取电量的密文由同态加密得到。该方法应用于发电端，发电端供发电方使用，考虑到用电方存在多个，本发明实施例以当前用电方为例进行说明。前一次迭代得到的当前用电方的收敛标识，用于表征当前发电方的前一次迭代结果是否收敛。本发明实施例采用如图3所示的去中心化计算架构。步骤402：根据当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文。步骤403：将当前发电方与当前用电方的第一共识因子的密文发送给电力交易平台，以使电力交易平台对当前发电方与当前用电方的第一共识因子的密文进行解密。步骤404：接收电力交易平台解密得到的当前发电方与当前用电方的第一共识因子。后续计算步骤将使用第一共识因子的明文执行。步骤405：根据当前发电方与当前用电方的第一共识因子，计算在当次迭代中当前发电方向当前用电方传输的电量。步骤406：确定当前发电方在当次迭代中是否满足第三停止条件，如果是，执行步骤407，否则，执行步骤409。第三停止条件可以根据实际业务需求进行调整，例如，第三停止条件为迭代轮次达到设定的次数阈值，或，在当次迭代中当前发电方向当前发电方获取的电量大于设定的电量阈值等。第四停止条件与第三停止条件类似，第四停止条件可以为各个用电方和各个发电方的迭代轮次均达到设定的次数阈值，或各个用电方的用电量和各个发电方的发电量在同一迭代轮次达到设定的电量阈值。步骤407：根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第四停止条件，如果满足，执行步骤408，否则，执行步骤409。步骤408：确定当前发电方向当前发电方传输的电量为目标发电量。步骤409：使用电力交易平台提供的公钥，对当前发电方向当前用电方传输的电量进行同态加密，向当前用电方发送当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文和当前发电方的收敛标识。本发明实施例能够保护节点的隐私，提高数据安全性。仍以RCI算法为例，对发电方侧的优化过程进行说明。在本发明的一个实施例中，根据当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文，包括：基于公式7计算档次迭代的当前发电方与当前用电方的第一共识因子的密文；公式7包括：其中，用于表征第k+1次迭代的当前发电方与当前用电方的第一共识因子的密文，用于表征第k次迭代的当前发电方与当前用电方的第一共识因子，用于表征第k次迭代的当前发电方与当前用电方的第二共识因子的密文，用于表征第k次迭代的当前发电方向当前用电方传输的电量，用于表征第k次迭代的当前用电方向从前发电方获取的电量的密文，和为前一次迭代中控制迭代步长的参数。本发明实施例采用同态加密得到第一共识因子的密文，以提高数据的隐私性和安全性。在本发明的一个实施例中，根据当前发电方与当前用电方的第一共识因子，计算在当次迭代中当前发电方向当前用电方传输的电量，包括：根据公式8，计算在档次迭代中当前发电方的约束因子的上限；公式8包括：根据公式9，计算在当次迭代中当前发电方的约束因子的下限；公式9包括：根据公式10-12，计算在当次迭代中当前发电方向当前发电方传输的电量；公式10包括：公式11包括：公式12包括：其中，用于表征在第k+1次迭代中当前发电方的约束因子的上限，用于表征在第k次迭代中当前发电方的约束因子的上限，、为第k次迭代中控制迭代步长的参数，用于表征当前发电方的发电量，用于表征当前发电方的发电量上限；用于表征在第k+1次迭代中当前发电方的约束因子的下限，用于表征在第k次迭代中当前发电方的约束因子的下限，用于表征当前发电方的用电量下限，用于表征第k+1次迭代的当前发电方与当前用电方的第一共识因子，、用于表征当前发电方的电力成本函数的参数，用于表征当前发电方向当前用电方传输的电量，用于表征当前发电方m向用电方q获取的电量，用于表征除m之外的用电方的集合，、为迭代过程的中间变量，用于表征第k+1次迭代的当前发电方向当前用电方传输的电量，用于表征第k次迭代的当前发电方向当前用电方传输的电量，用于表征在第k次迭代中当前发电方的发电量。在本发明的一个实施例中，第三停止条件包括：其中，、和为三种收敛阈值，可以根据业务需求设定。由于节点无法判断其他节点共享的密文是不是通过正确的迭代过程计算得到，防止迭代过程被篡改，在本发明的一个实施例中，该方法还包括：接收当前用电方发送的其前一次迭代的迭代过程零知识证明；根据当前用电方发送的其前一次迭代的迭代过程零知识证明，验证当前用电方的前一次迭代过程是否正确，如果正确，执行根据当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文；当当前发电方在当次迭代中不满足第一停止条件，或，各个用电方和各个发电方未在同一迭代轮次满足第二停止条件时，生成当前发电方的当次迭代的迭代过程零知识证明，向当前用电方发送当前发电方的当次迭代的迭代过程零知识证明。本发明实施例通过迭代过程零知识证明，对迭代过程的真实性进行验证，确保优化过程的正确性。每个节点可以在每一轮迭代后，生成一个相应的迭代过程零知识证明，以确保其他节点传来的数据是正确的。当前发电方的当次迭代的迭代过程零知识证明的电路中包括如下一项或两项约束：使用了当前用电方发送的前一次迭代得到的当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前用电方获取电量的密文和当前用电方的收敛标识执行当前发电方的当次迭代；当前发电方的当次迭代按照优化算法的执行步骤进行。迭代过程零知识证明的电路中的约束并不局限于上述提到的几项，还可以根据实际业务需求确定。其中，公开变量可以包括：当前用电方发送的前一次迭代得到的当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前用电方获取电量的密文和当前用电方的收敛标识中任意一项或多项，以及当次迭代得到的当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前发电方传输的电量的密文和当前发电方的收敛标识中任意一项或多项。私有变量可以包括：、、、、和中任意一项或多项，私有变量还可以为迭代过程中涉及的其他中间变量。在本发明的一个实施例中，该方法还包括：接收当前用电方发送的其优化结果零知识证明；根据当前用电方发送的其优化结果零知识证明，验证当前用电方从当前发电方获取的目标发电量是否正确，将验证结果通知其他发电方和其他用电方；当各个用电方和各个发电方在同一迭代轮次满足第二停止条件时，生成当前发电方的优化结果零知识证明，向当前用电方发送当前发电方的优化结果零知识证明。本发明实施例通过优化结果零知识证明，对优化结果的真实性进行验证，确保优化结果的正确性。发电方可以将验证结果发送给电力系统中的其他节点，以提高电力系统的数据安全性。当前发电方的优化结果零知识证明的电路中包括如下一项或两项约束：，即发电量在上下限范围内。当前用电方从当前发电方获取的电量等于当前发电方向当前用电方传输的电量。优化结果零知识证明的电路中的约束并不局限于上述提到的几项，还可以根据实际业务需求确定。其中，公开变量可以包括：发电方向用电方传输的电量、用电方从发电方获取的电量。私有变量可以包括：、中任意一项或多项。如图5所示，本发明实施例提供了一种基于隐私计算的电力交易方法，包括：步骤501：接收当前发电方发送的当前发电方与当前用电方的第一共识因子的密文。步骤502：基于同态加密，解密当前发电方与当前用电方的第一共识因子的密文。步骤503：向当前发电方发送解密得到的当前发电方与当前用电方的第一共识因子。步骤504：接收当前用电方发送的当前发电方与当前用电方的第二共识因子的密文。步骤505：基于同态加密，解密当前发电方与当前用电方的第二共识因子的密文。步骤506：向当前用电方发送解密得到的当前发电方与当前用电方的第二共识因子。该方法应用于电力交易平台，电力交易平台能够保存同态加密所使用的私钥，并将公钥提供给电力系统中各个发电方和用电方，以使各个节点基于公钥进行同态加密，能够保护节点隐私安全，并且提高迭代效率。如图6所示，本发明实施例提供了一种用电端，包括：接收模块601，配置为接收当前发电方发送的前一次迭代得到的当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输电量的密文和当前发电方的收敛标识；其中，当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文由同态加密得到；计算模块602，配置为根据当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；将当前发电方与当前用电方的第二共识因子的密文发送给电力交易平台，以使电力交易平台对当前发电方与当前用电方的第二共识因子的密文进行解密；接收电力交易平台解密得到的当前发电方与当前用电方的第二共识因子；根据当前发电方与当前用电方的第二共识因子，计算在当次迭代中当前用电方从当前发电方获取的电量；确定模块603，配置为确定当前用电方在当次迭代中是否满足第一停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第二停止条件，如果满足，则确定当前用电方从当前发电方获取的电量为目标用电量，如果当前用电方在当次迭代中不满足第一停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第二停止条件，则使用电力交易平台提供的公钥，对当前用电方从当前发电方获取的电量进行同态加密，向当前发电方发送当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取的电量的密文和当前用电方的收敛标识。在本发明的一个实施例中，计算模块602，配置为基于公式1计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；公式1包括：其中，用于表征第k+1次迭代的当前发电方与当前用电方的第二共识因子的密文，用于表征第k次迭代的当前发电方与当前用电方的第二共识因子，用于表征第k次迭代的当前发电方与当前用电方的第一共识因子的密文，用于表征第k次迭代的当前用电方从当前发电方获取的电量，用于表征第k次迭代的当前发电方向当前用电方传输的电量的密文，和为前一次迭代中控制迭代步长的参数。在本发明的一个实施例中，计算模块602，配置为根据公式2，计算在当次迭代中当前用电方的约束因子的上限；公式2包括：根据公式3，计算在当次迭代中当前用电方的约束因子的下限；公式3包括：根据公式4-6，计算在当次迭代中当前用电方从当前发电方获取的电量；公式4包括：公式5包括：公式6包括：其中，用于表征在第k+1次迭代中当前用电方的约束因子的上限，用于表征在第k次迭代中当前用电方的约束因子的上限，、为第k次迭代中控制迭代步长的参数，用于表征当前用电方的用电量，用于表征当前用电方的用电量上限；用于表征在第k+1次迭代中当前用电方的约束因子的下限，用于表征在第k次迭代中当前用电方的约束因子的下限，用于表征当前用电方的用电量下限，用于表征第k+1次迭代的当前发电方与当前用电方的第二共识因子，、用于表征当前用电方的电力成本函数的参数，用于表征当前用电方从当前发电方获取的电量，用于表征当前用电方从发电方l获取的电量，用于表征除n之外的发电方的集合，、为迭代过程的中间变量，用于表征第k+1次迭代的当前用电方从当前发电方获取的电量，用于表征第k次迭代的当前用电方从当前发电方获取的电量，用于表征在第k次迭代中当前用电方的用电量。在本发明的一个实施例中，第一停止条件包括：其中，、和为三种收敛阈值。在本发明的一个实施例中，确定模块603，配置为接收当前发电方发送的其前一次迭代的迭代过程零知识证明；根据当前发电方发送的其前一次迭代的迭代过程零知识证明，验证当前发电方的前一次迭代过程是否正确，如果正确，执行根据当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文，计算当次迭代的当前发电方与当前用电方的第二共识因子的密文；当当前用电方在当次迭代中不满足第一停止条件，或，各个用电方和各个发电方未在同一迭代轮次满足第二停止条件时，生成当前用电方的当次迭代的迭代过程零知识证明，向当前发电方发送当前用电方的当次迭代的迭代过程零知识证明。在本发明的一个实施例中，确定模块603，配置为接收当前发电方发送的其优化结果零知识证明；根据当前发电方发送的其优化结果零知识证明，验证当前发电方向当前用电方传输的目标发电量是否正确，将验证结果通知其他发电方和其他用电方；当各个用电方和各个发电方在同一迭代轮次满足第二停止条件时，生成当前用电方的优化结果零知识证明，向当前发电方发送当前用电方的优化结果零知识证明。如图7所示，本发明实施例提供了一种发电端，包括：接收模块701，配置为接收当前用电方发送的前一次迭代得到的当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取电量的密文和当前用电方的收敛标识；其中，当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取电量的密文由同态加密得到；计算模块702，配置为根据当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文；将当前发电方与当前用电方的第一共识因子的密文发送给电力交易平台，以使电力交易平台对当前发电方与当前用电方的第一共识因子的密文进行解密；接收电力交易平台解密得到的当前发电方与当前用电方的第一共识因子；根据当前发电方与当前用电方的第一共识因子，计算在当次迭代中当前发电方向当前用电方传输的电量；确定模块703，配置为确定当前发电方在当次迭代中是否满足第三停止条件，如果是，根据各个发电方的收敛标识和各个用电方的收敛标识，确定各个用电方和各个发电方是否在同一迭代轮次满足第四停止条件，如果满足，则确定当前发电方向当前发电方传输的电量为目标发电量，如果当前发电方在当次迭代中不满足第三停止条件，或各个用电方和各个发电方未在同一迭代轮次满足第四停止条件，则使用电力交易平台提供的公钥，对当前发电方向当前用电方传输的电量进行同态加密，向当前用电方发送当前发电方与当前用电方的第一共识因子的密文、当前发电方向当前用电方传输的电量的密文和当前发电方的收敛标识。在本发明的一个实施例中，计算模块702，配置为基于公式7计算档次迭代的当前发电方与当前用电方的第一共识因子的密文；公式7包括：其中，用于表征第k+1次迭代的当前发电方与当前用电方的第一共识因子的密文，用于表征第k次迭代的当前发电方与当前用电方的第一共识因子，用于表征第k次迭代的当前发电方与当前用电方的第二共识因子的密文，用于表征第k次迭代的当前发电方向当前用电方传输的电量，用于表征第k次迭代的当前用电方向从前发电方获取的电量的密文，和为前一次迭代中控制迭代步长的参数。在本发明的一个实施例中，计算模块702，配置为根据公式8，计算在档次迭代中当前发电方的约束因子的上限；公式8包括：根据公式9，计算在当次迭代中当前发电方的约束因子的下限；公式9包括：根据公式10-12，计算在当次迭代中当前发电方向当前发电方传输的电量；公式10包括：公式11包括：公式12包括：其中，用于表征在第k+1次迭代中当前发电方的约束因子的上限，用于表征在第k次迭代中当前发电方的约束因子的上限，、为第k次迭代中控制迭代步长的参数，用于表征当前发电方的发电量，用于表征当前发电方的发电量上限；用于表征在第k+1次迭代中当前发电方的约束因子的下限，用于表征在第k次迭代中当前发电方的约束因子的下限，用于表征当前发电方的用电量下限，用于表征第k+1次迭代的当前发电方与当前用电方的第一共识因子，、用于表征当前发电方的电力成本函数的参数，用于表征当前发电方向当前用电方传输的电量，用于表征当前发电方m向用电方q获取的电量，用于表征除m之外的用电方的集合，、为迭代过程的中间变量，用于表征第k+1次迭代的当前发电方向当前用电方传输的电量，用于表征第k次迭代的当前发电方向当前用电方传输的电量，用于表征在第k次迭代中当前发电方的发电量。在本发明的一个实施例中，第三停止条件包括：其中，、和为三种收敛阈值。在本发明的一个实施例中，确定模块703，配置为接收当前用电方发送的其前一次迭代的迭代过程零知识证明；根据当前用电方发送的其前一次迭代的迭代过程零知识证明，验证当前用电方的前一次迭代过程是否正确，如果正确，执行根据当前发电方与当前用电方的第二共识因子的密文、当前用电方从当前发电方获取电量的密文，计算当次迭代的当前发电方与当前用电方的第一共识因子的密文；当当前发电方在当次迭代中不满足第一停止条件，或，各个用电方和各个发电方未在同一迭代轮次满足第二停止条件时，生成当前发电方的当次迭代的迭代过程零知识证明，向当前用电方发送当前发电方的当次迭代的迭代过程零知识证明。在本发明的一个实施例中，确定模块703，配置为接收当前用电方发送的其优化结果零知识证明；根据当前用电方发送的其优化结果零知识证明，验证当前用电方从当前发电方获取的目标发电量是否正确，将验证结果通知其他发电方和其他用电方；当各个用电方和各个发电方在同一迭代轮次满足第二停止条件时，生成当前发电方的优化结果零知识证明，向当前用电方发送当前发电方的优化结果零知识证明。如图8所示，本发明实施例提供了一种电力交易平台，包括：接收模块801，配置为接收当前发电方发送的当前发电方与当前用电方的第一共识因子的密文；接收当前用电方发送的当前发电方与当前用电方的第二共识因子的密文；解密模块802，配置为基于同态加密，解密当前发电方与当前用电方的第一共识因子的密文；基于同态加密，解密当前发电方与当前用电方的第二共识因子的密文；发送模块803，配置为向当前发电方发送解密得到的当前发电方与当前用电方的第一共识因子；向当前用电方发送解密得到的当前发电方与当前用电方的第二共识因子。如图3所示，本发明实施例提供了一种基于隐私计算的电力交易系统，包括：上述任一实施例的用电端301、上述任一实施例的发电端302、上述任一实施例的电力交易平台303。电力交易系统中包括多个用电端和多个发电端，图3仅展示一个用电端和一个发电端。本发明实施例提供了一种电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当一个或多个程序被一个或多个处理器执行，使得一个或多个处理器实现如上述任一实施例的方法。本发明实施例提供了一种计算机可读介质，其上存储有计算机程序，程序被处理器执行时实现如上述任一实施例的方法。下面参考图9，其示出了适于用来实现本发明实施例的终端设备的计算机系统900的结构示意图。图9示出的终端设备仅仅是一个示例，不应对本发明实施例的功能和使用范围带来任何限制。如图9所示，计算机系统900包括中央处理单元901，其可以根据存储在只读存储器902中的程序或者从存储部分908加载到随机访问存储器903中的程序而执行各种适当的动作和处理。在RAM 903中，还存储有系统900操作所需的各种程序和数据。CPU901、ROM 902以及RAM 903通过总线904彼此相连。输入/输出接口905也连接至总线904。以下部件连接至I/O接口905：包括键盘、鼠标等的输入部分906；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分907；包括硬盘等的存储部分908；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分909。通信部分909经由诸如因特网的网络执行通信处理。驱动器910也根据需要连接至I/O接口905。可拆卸介质911，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器910上，以便于从其上读出的计算机程序根据需要被安装入存储部分908。特别地，根据本发明公开的实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本发明公开的实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信部分909从网络上被下载和安装，和/或从可拆卸介质911被安装。在该计算机程序被中央处理单元901执行时，执行本发明的系统中限定的上述功能。需要说明的是，本发明所示的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是——但不限于——电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本发明中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。而在本发明中，计算机可读的信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读的信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括但不限于：无线、电线、光缆、RF等等，或者上述的任意合适的组合。附图中的流程图和框图，图示了按照本发明各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，上述模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图或流程图中的每个方框、以及框图或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本发明实施例中所涉及到的模块可以通过软件的方式实现，也可以通过硬件的方式来实现。所描述的模块也可以设置在处理器中，例如，可以描述为：一种处理器包括发送模块、获取模块、确定模块和第一处理模块。其中，这些模块的名称在某种情况下并不构成对该模块本身的限定，例如，发送模块还可以被描述为“向所连接的服务端发送图片获取请求的模块”。上述具体实施方式，并不构成对本发明保护范围的限制。本领域技术人员应该明白的是，取决于设计要求和其他因素，可以发生各种各样的修改、组合、子组合和替代。任何在本发明的精神和原则之内所作的修改、等同替换和改进等，均应包含在本发明保护范围之内。
