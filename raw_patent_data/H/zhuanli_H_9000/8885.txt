标题title
一种基于车用同步整流的最小导通时间产生电路
摘要abst
本发明属于电子技术领域，具体涉及一种基于车用同步整流的最小导通时间产生电路。本发明通过输入数字信号连接到计数器开始计数，通过比较器判断频率是否低于或高于临界值，如果低于临界值或高于临界值，该电路会被关断；若判断出频率在临界值之内，将通过D触发器将跟踪的相电压频率进行输出。本发明的有益效果为，电路结构简单，相比于其他的传统频率解析方法，本方案具有简单、高效、可移植、实时解析等优点。
权利要求书clms
1.一种基于车用同步整流的最小导通时间产生电路，其特征在于，包括第一占空比下降模块、第二占空比下降模块、第一延迟模块、第二延迟模块、第三延迟模块、第一反相器、第二反相器、第三反相器、第四反相器、第五反相器、第一D触发器、第二D触发器、第三D触发器、第四D触发器、第五D触发器、第一计数器、第二计数器、第一与门、第二与门、第三与门、第四与门、第一或门、第二或门、第一比较器、第二比较器、第三比较器和乘法器；其中，第一占空比下降模块的输入端接输入信号，其输出端分别接第一延迟模块的输入端和第一D触发器的时钟信号端；第一延迟模块的输出端分别接第一反相器的输入端和第一计数器的数据输入端，第一反相器的输出端接第一计数器的使能信号端；第一计数器的输出端分别接第一D触发器的D输入端和第一比较器的同相输入端；第一D触发器的Q输出端接第二比较器的同相输入端和第三比较器的同相输入端，第二比较器的反相输入端接第一常数，第三比较器的反相输入端接第二常数，第二比较器的输出端接第一与门的一个输入端，第一与门的另一个输入端接第三比较器的输出端；第二反相器的输入端接输入信号，其输出端接第二占空比下降模块的输入端，第二占空比下降模块的输出端接第二D触发器的时钟信号端；第二D触发器的D输入端接高电平，其R输入端接第一比较器的输出端，第二D触发器的Q非输出端接第二与门的一个输入端，第二与门的另一个输入端接第一与门的输出端；第一比较器的反相输入端接第三常数；第三D触发器的时钟信号端接输入信号，其D输入端接高电平，其Q输出端分别通过第二延迟模块和第三反相器后接第一或门的一个输入端，第一或门的另一个输入端接第四D触发器的Q输出端；第四D触发器的D输入端接高电平，其时钟信号端接第二与门的输出端；乘法器的第一输入端接第一D触发器的Q输出端，乘法器的第二输入端接第四常数，乘法器的使能端接第二与门的输出端，乘法器的输出端接第四比较器的同相输入端，第四比较器的反相输入端接第五常数，其输出端分别接第四反相器的输入端和第二计数器的使能端；第四反相器的输出端接第二计数器的数据输入端，第二计数器的输出端接第五比较器的反相输入端，第五比较器的同相输入端接乘法器的输出端，第五比较器的输出端接第二或门的一个输入端，第二或门的另一个输入端接第三与门的输出端，第二或门的输出端接第五D触发器的R输入端；第三与门的一个输入端接第五反相器的输出端，第三与门的另一个输入端接第三延迟模块的输出端；第五反相器的输入端接第二与门的输出端；第五D触发器的时钟信号端接输入信号，其D输入端接高电平，其Q输出端接第一D触发器的R输入端、第三延迟模块的输入端和第四与门的一个输入端，第四与门的另一个输入端接第一或门的输出端，第四与门的输出端为最小导通时间产生电路的输出端。
说明书desc
技术领域本发明属于电子技术领域，具体涉及一种基于车用同步整流的最小导通时间产生电路。背景技术同步整流普遍用于开关拓扑中，类如BUCK变换器、半桥变换器和AC/DC变换器等。而其中信号采样作为同步整流中的关键一环，在车用同步整流中尤为重要。其中对于基于漏 源电压采样的同步整流控制技术，其重点是在恰当时间产生适合的栅极驱动信号，已 使开关管进入进入并保持在MOSFET沟道承载电流的状态。目前，稳定检测VDS的方法众多， 但是局限于MOSFET封装和杂散电容或是受di/dt强烈影响导致控制稳定性难以实现。此外， 对车用同步整流而言，产生合适栅极驱动信号的关键是通过驱动电路为开关管提供恒定的最 小导通时间，但是相电压频率跟随转速而改变，因此通过恒定MOT 来关断MOSFET是不适用的，又因为转速和相电压频率具有严格的比例关系，相电压频率成 为汽车同步整流控制中的关键参数。发明内容针对上述问题，本发明提出了一种基于车用同步整流的最小导通时间产生电路，通过解 析转速获得相电压频率。车用同步整流的最小导通时间产生电路的难点在于实时解析得到转 速信息，进而得到相电压频率以便于产生最小的导通时间，并且要保证一定的精度的同时不 能附加额外电路求。本发明采用的技术方案是：一种基于车用同步整流的最小导通时间产生电路，包括第一占空比下降模块、第二占空 比下降模块、第一延迟模块、第二延迟模块、第三延迟模块、第一反相器、第二反相器、第 三反相器、第四反相器、第五反相器、第一D触发器、第二D触发器、第三D触发器、第四D触发器、第五D触发器、第一计数器、第二计数器、第一与门、第二与门、第三与门、 第四与门、第一或门、第二或门、第一比较器、第二比较器、第三比较器和乘法器；其中， 第一占空比下降模块的输入端接输入信号，其输出端分别接第一延迟模块的输入端和第一D 触发器的时钟信号端；第一延迟模块的输出端分别接第一反相器的输入端和第一计数器的数据输入端，第一反相器的输出端接第一计数器的使能信号端；第一计数器的输出端分别接第 一D触发器的D输入端和第一比较器的同相输入端；第一D触发器的Q输出端接第二比较器的同相输入端和第三比较器的同相输入端，第二比较器的反相输入端接第一常数，第三比 较器的反相输入端接第二常数，第二比较器的输出端接第一与门的一个输入端，第一与门的 另一个输入端接第三比较器的输出端；第二反相器的输入端接输入信号，其输出端接第二占 空比下降模块的输入端，第二占空比下降模块的输出端接第二D触发器的时钟信号端；第二 D触发器的D输入端接高电平，其R输入端接第一比较器的输出端，第二D触发器的Q非 输出端接第二与门的一个输入端，第二与门的另一个输入端接第一与门的输出端；第一比较 器的反相输入端接第三常数；第三D触发器的时钟信号端接输入信号，其D输入端接高电平， 其Q输出端分别通过第二延迟模块和第三反相器后接第一或门的一个输入端，第一或门的另 一个输入端接第四D触发器的Q输出端；第四D触发器的D输入端接高电平，其时钟信号 端接第二与门的输出端；乘法器的第一输入端接第一D触发器的Q输出端，乘法器的第二输 入端接第四常数，乘法器的使能端接第二与门的输出端，乘法器的输出端接第四比较器的同 相输入端，第四比较器的反相输入端接第五常数，其输出端分别接第四反相器的输入端和第 二计数器的使能端；第四反相器的输出端接第二计数器的数据输入端，第二计数器的输出端 接第五比较器的反相输入端，第五比较器的同相输入端接乘法器的输出端，第五比较器的输 出端接第二或门的一个输入端，第二或门的另一个输入端接第三与门的输出端，第二或门的 输出端接第五D触发器的R输入端；第三与门的一个输入端接第五反相器的输出端，第三与 门的另一个输入端接第三延迟模块的输出端；第五反相器的输入端接第二与门的输出端；第 五D触发器的时钟信号端接输入信号，其D输入端接高电平，其Q输出端接第一D触发器 的R输入端、第三延迟模块的输入端和第四与门的一个输入端，第四与门的另一个输入端接 第一或门的输出端，第四与门的输出端为最小导通时间产生电路的输出端。本发明的有益效果为，电路结构简单，相比于其他的传统频率解析方法，本方案具有简 单、高效、可移植、实时解析等优点。附图说明图1为本发明的结构示意图；图2为本发明的具体电路示意图。具体实施方式下面结合附图和仿真示例证明本发明的实用性和有效性；如图1所示，为本发明的结构示意图，通过输入数字信号连接到计数器开始计数，通过 比较器判断频率是否低于或高于临界值，如果低于临界值或高于临界值，该电路会被关断； 若判断出频率在临界值之内，将通过D触发器将跟踪的相电压频率进行输出。如图2所示为本发明涉及的电路，以下用FA代替。FA总体输 入端口连接输入的数字信号Q1。然后一方面Q1通过占空比降低模块 后经过同向缓冲器Delay1、反相器I1连接到计数器Counter1；另一方面通过反相器后经过占 空比降低模块作为D触发器D2的Clk信号。计数器Counter1的输出连接到D触发器D1， 触发器D1的输出与第一常数通过比较器Comp2进行比较、与第二常数通过比较器Comp3 进行比较。比较的结果通过与门AND1进行输出，AND1结果输出作为周期T和与门AND2 的输入信号之一。D2的输出信号也作为与门AND2的输入信号之一，AND2的输出结果一方 面作为乘法器Multiplier的使能信号EN，另一方面作为触发器D4的Clk信号，此外AND2的输出结果也通过一个反相器作为与门AND3的输入信号。触发器D5的输出通过同向缓冲器Delay3后作为与门AND3的输入，AND3的输出作为或门OR2的输入信号之一。乘法器Multiplier的输出一方面作为比较器Comp4的输入，另一方面作为比较器Comp5的输入，Comp5的输出作为OR2的输入，最后OR2的输出作为触发器D5的复位信号，输入信号Q1 也作为D5的Clk信号。此外，触发器D3的输出通过同向缓冲器Delay2之后通过反相器I3， 然后作为或门OR1的输入，最后或门OR1的输出和D5的输出共同作为与门AND4的输入， 触发器D5的输出和或门OR1的输出作为与门AND4的输入，经过逻辑运算后输出FA模块 的FAOUT。FA模块的输入信号Q1，其输入信号Q1的两个上升沿之间的时间间隔为上一个周期的 MOSFET的漏源电压大于开启电压的导通时间，当检测到Q1的上升沿时，占空比降低模块输出一个持续时间较短的高电平脉冲。该脉冲经过反相器I1的翻转，高电平将几乎占据整个 周期。计数器Counter1则用于记录Q1的周期，并且Ts等同于计数器Counter1的位宽与时钟周期的乘积。当Ts超过计算值时，计数器Counter1复位为零并开始进入下一计数周 期。采用比较器Comp1和D触发器D2来记录Counter1计数溢出的状态，此时表明相电压频率f超出允许范围。第三常数设置对应相电压频率。 当计数器Counter1的输出为N时，Ts≈2.5×Nμs。由于计数器精度有限和电路延迟，该Ts 小于实际周期值，但二者之间的误差可以忽略不计。比较器Comp2和Comp3、与门AND1 和AND2构成一个滤波器，当相电压频率f低于或高于所规定的临界值时，该滤波器将禁用FA。第一常数设置220，第二常数设置为6680，第四常数等于 安全导通时间和实时相电压周期之间的比值。经过乘法器Multiplier，通过比较器Comp4、计数器Counter2、比较器Comp5和或门OR2，最终可得到FA模块的输出FAout，FAout即 为包含了所需满足要求的数字信号。D触发器D3、延时模块Delay2、反相器I3、或门OR1 构成时序逻辑用于初始化电路输出。根据电路的仿真结果图，证明了FA的输出和栅极控制信号的上升沿大致同步，达到产 生随转速改变的安全导通时间的功能。
