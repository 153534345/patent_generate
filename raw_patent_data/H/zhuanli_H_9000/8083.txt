标题title
供电电路、供电方法、音频功率放大器和集成电路
摘要abst
本发明公开了一种供电电路、供电方法、音频功率放大器和集成电路。一种应用于音频功率放大器的供电电路可包括：检测子电路，用于检测输入到所述音频功率放大器的音频信号的电压，所述音频信号的电压对应于所述音频功率放大器的输出功率；控制子电路，用于根据所述音频信号在预定时段内的电压范围确定目标参考电压范围，所述目标参考电压范围选自多个预定的参考电压范围，并且所述音频信号在所述预定时段内的电压范围被包含在所述目标参考电压范围内；以及供电子电路，用于基于所述目标参考电压范围，产生与所述音频功率放大器的输出功率相匹配的供电电压，以为所述音频功率放大器供电。
权利要求书clms
一种用于音频功率放大器的供电电路，包括：检测子电路，用于检测输入到所述音频功率放大器的音频信号的电压，所述音频信号的电压对应于所述音频功率放大器的输出功率；控制子电路，用于根据所述音频信号在预定时段内的电压范围确定目标参考电压范围，所述目标参考电压范围选自多个预定的参考电压范围，并且所述音频信号在所述预定时段内的电压范围被包含在所述目标参考电压范围内；以及供电子电路，用于基于所述目标参考电压范围，产生与所述音频功率放大器的输出功率相匹配的供电电压，以为所述音频功率放大器供电。根据权利要求1所述的供电电路，其中，所述多个预定的参考电压范围包括第一参考电压范围和第二参考电压范围，所述第一参考电压范围的下限值大于所述第二参考电压范围的下限值，所述第一参考电压范围的上限值小于所述第二参考电压范围的上限值。根据权利要求1所述的供电电路，其中，所述控制子电路包括：第一比较电路，用于从所述多个预定的参考电压范围中选择一个参考电压范围与所述检测子电路检测到的所述音频信号的电压相比较；计数电路，用于在所述第一比较电路确定所述音频信号的电压超出所述第一比较电路选择的参考电压范围时，进行计数，其中，所述计数电路的计数值被反馈给所述第一比较电路，所述第一比较电路基于所述计数电路的计数值选择下一个预定的参考电压范围，直到所述音频信号的电压落在所述第一比较电路选择的参考电压范围内。根据权利要求3所述的供电电路，其中，所述第一比较电路包括：第一数据选择器，用于选择并输出所述多个预定的参考电压范围之一的上限值；第一比较器，其正相输入端接收所述检测子电路检测到的所述音频信号的 电压，负相输入端接收所述第一数据选择器的输出；第二数据选择器，用于选择并输出所述多个预定的参考电压范围之一的下限值；以及第二比较器，其正相输入端接收所述第二数据选择器的输出，负相输入端接收所述检测子电路检测到的所述音频信号的电压。根据权利要求4所述的供电电路，其中，所述计数电路包括：第一逻辑或电路，用于对所述第一比较器的输出和所述第二比较器的输出执行逻辑或操作；以及计数器，用于对所述第一逻辑或电路的输出信号进行计数，其中，所述计数器的计数值被反馈给所述第一数据选择器和所述第二数据选择器，所述第一数据选择器和所述第二数据选择器基于所述计数值从所述多个预定的参考电压范围中选择一个对应的参考电压范围。根据权利要求3所述的供电电路，其中，所述控制子电路还包括：第二比较电路，用于将所述检测子电路检测到的所述音频信号的电压与一对照电压相比较；边沿检测电路，用于通过检测所述第二比较电路的输出来确定所述音频信号与所述对照电压相交的时刻，从而确定所述预定时段；以及触发电路，用于在所述边沿检测电路确定所述音频信号与所述对照电压相交，并且所述计数电路的当前计数值与所述触发电路储存的计数值不同时，用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值，所述触发电路输出的计数值指示所述目标参考电压范围。根据权利要求6所述的供电电路，其中，所述对照电压是所述音频信号的共模电压。根据权利要求6所述的供电电路，其中，所述边沿检测电路通过检测所述第二比较电路的输出信号的上升沿和/或下降沿来确定所述音频信号上穿和/或下穿经过所述对照电压的时刻。根据权利要求6所述的供电电路，其中，所述边沿检测电路在确定所述 音频信号与所述对照电压相交时，还向所述计数电路输出复位信号以复位所述计数电路的计数值。根据权利要求6所述的供电电路，其中，所述控制子电路还包括：第三比较电路，用于将所述计数电路的当前计数值与所述触发电路储存的计数值相比较，以确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围增大还是减小，其中，当所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围增大，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。根据权利要求10所述的供电电路，其中，所述控制子电路还包括：延时电路，用于在所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小时，开始计时预定时长，其中，当经过所述预定时长后所述第三比较电路仍确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。根据权利要求1所述的供电电路，其中，所述供电子电路根据从所述控制子电路接收到的指示所述目标参考电压范围的信号调整所述供电子电路中的反馈电阻器的电阻值，以产生与所述音频功率放大器的输出功率相匹配的电压。根据权利要求1所述的供电电路，其中，所述供电子电路根据从所述控制子电路接收到的指示所述目标参考电压范围的信号选择所述供电子电路中使用的参考电压，以产生与所述音频功率放大器的输出功率相匹配的电压。一种向音频功率放大器供电的方法，包括：检测输入到所述音频功率放大器的音频信号的电压，所述音频信号的电压对应于所述音频功率放大器的输出功率；根据所述音频信号在预定时段内的电压范围确定目标参考电压范围，所述目标参考电压范围选自多个预定的参考电压范围，并且所述音频信号在所述预定时段内的电压范围被包含在所述目标参考电压范围内；以及基于所述目标参考电压范围，产生与所述音频功率放大器的输出功率相匹配的供电电压，以为所述音频功率放大器供电。根据权利要求14所述的方法，其中，确定目标参考电压范围包括：由第一比较电路从所述多个预定的参考电压范围中选择一个参考电压范围与所述音频信号的电压相比较；以及由计数电路在所述音频信号的电压超出所选择的参考电压范围时，进行计数，其中，所述第一比较电路基于所述计数电路的计数值选择下一个预定的参考电压范围，直到所述音频信号的电压落在所选择的参考电压范围内。根据权利要求15所述的方法，其中，确定目标参考电压范围还包括：由第二比较电路将所述音频信号的电压与一对照电压相比较；由边沿检测电路通过检测所述第二比较电路的输出来确定所述音频信号与所述对照电压相交的时刻，从而确定所述预定时段；以及由触发电路在所述边沿检测电路确定所述音频信号与所述对照电压相交，并且所述计数电路的当前计数值与所述触发电路储存的计数值不同时，用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值，所述触发电路输出的计数值指示所述目标参考电压范围。根据权利要求16所述的方法，还包括：当所述边沿检测电路确定所述音频信号与所述对照电压相交时，向所述计数电路提供复位信号以复位所述计数电路的计数值。根据权利要求16所述的方法，其中，确定目标参考电压范围还包括：由第三比较电路将所述计数电路的当前计数值与所述触发电路储存的计数值相比较，以确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围增大还是减小；以及当所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围增大，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，由所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。根据权利要求18所述的方法，其中，确定目标参考电压范围还包括：在所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小时，由延时电路开始计时预定时长；以及当经过所述预定时长后所述第三比较电路仍确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，由所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。根据权利要求14所述的方法，其中，产生与所述音频功率放大器的输出功率相匹配的供电电压包括：根据所述目标参考电压范围调整供电子电路中使用的反馈电阻器的电阻值或者选择所述供电子电路中使用的参考电压，以产生与所述音频功率放大器的输出功率相匹配的电压。一种音频功率放大器，包括：音频功率放大电路；以及权利要求1至13中的任一项所述的供电电路，所述供电电路用于为所述音频功率放大电路供电。一种集成电路，包括权利要求21所述的音频功率放大器。一种电子设备，包括：权利要求21所述的音频功率放大器，其接收音频信号并且对所述音频信号进行功率放大；以及扬声器，用于播放所述音频信号。
说明书desc
技术领域本发明涉及功率放大器技术领域，尤其涉及一种供电电路、方法、音频功率放大器和集成电路。背景技术音频功率放大器在应用过程中，其输出功率会受到自身的供电电源输出电压的限制，一般会以升压型直流转直流电路或电荷泵电路作为音频功率放大器的供电电路。供电电路可以通过将音频功率放大器的供电电压升高，以达到提高音频功率放大器输出信号幅度，从而提高输出功率的目的。然而，相关技术中，音频功率放大器的供电电路尚需优化。发明内容为解决相关技术问题，本发明实施例提供一种供电电路、供电方法、音频功率放大器和集成电路。根据一实施例，提供一种用于音频功率放大器的供电电路，包括：检测子电路，用于检测输入到所述音频功率放大器的音频信号的电压，所述音频信号的电压对应于所述音频功率放大器的输出功率；控制子电路，用于根据所述音频信号在预定时段内的电压范围确定目标参考电压范围，所述目标参考电压范围选自多个预定的参考电压范围，并且所述音频信号在所述预定时段内的电压范围被包含在所述目标参考电压范围内；以及供电子电路，用于基于所述目标参考电压范围，产生与所述音频功率放大器的输出功率相匹配的供电电压，以为所述音频功率放大器供电。在一些实施例中，所述多个预定的参考电压范围包括第一参考电压范围和 第二参考电压范围，所述第一参考电压范围的下限值大于所述第二参考电压范围的下限值，所述第一参考电压范围的上限值小于所述第二参考电压范围的上限值。在一些实施例中，所述控制子电路包括：第一比较电路，用于从所述多个预定的参考电压范围中选择一个参考电压范围与所述检测子电路检测到的所述音频信号的电压相比较；计数电路，用于在所述第一比较电路确定所述音频信号的电压超出所述第一比较电路选择的参考电压范围时，进行计数。所述计数电路的计数值被反馈给所述第一比较电路，所述第一比较电路基于所述计数电路的计数值选择下一个预定的参考电压范围，直到所述音频信号的电压落在所述第一比较电路选择的参考电压范围内。在一些实施例中，所述第一比较电路包括：第一数据选择器，用于选择并输出所述多个预定的参考电压范围之一的上限值；第一比较器，其正相输入端接收所述检测子电路检测到的所述音频信号的电压，负相输入端接收所述第一数据选择器的输出；第二数据选择器，用于选择并输出所述多个预定的参考电压范围之一的下限值；以及第二比较器，其正相输入端接收所述第二数据选择器的输出，负相输入端接收所述检测子电路检测到的所述音频信号的电压。在一些实施例中，所述计数电路包括：第一逻辑或电路，用于对所述第一比较器的输出和所述第二比较器的输出执行逻辑或操作；以及计数器，用于对所述第一逻辑或电路的输出信号进行计数。所述计数器的计数值被反馈给所述第一数据选择器和所述第二数据选择器，所述第一数据选择器和所述第二数据选择器基于所述计数值从所述多个预定的参考电压范围中选择一个对应的参考电压范围。在一些实施例中，所述控制子电路还包括：第二比较电路，用于将所述检测子电路检测到的所述音频信号的电压与一对照电压相比较；边沿检测电路，用于通过检测所述第二比较电路的输出来确定所述音频信号与所述对照电压相交的时刻，从而确定所述预定时段；以及触发电路，用于在所述边沿检测电路确定所述音频信号与所述对照电压相交，并且所述计数电路的当前计数值与所 述触发电路储存的计数值不同时，用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值，所述触发电路输出的计数值指示所述目标参考电压范围。在一些实施例中，所述对照电压是所述音频信号的共模电压。在一些实施例中，所述边沿检测电路通过检测所述第二比较电路的输出信号的上升沿和/或下降沿来确定所述音频信号上穿和/或下穿经过所述对照电压的时刻。在一些实施例中，所述边沿检测电路在确定所述音频信号与所述对照电压相交时，还向所述计数电路输出复位信号以复位所述计数电路的计数值。在一些实施例中，所述控制子电路还包括：第三比较电路，用于将所述计数电路的当前计数值与所述触发电路储存的计数值相比较，以确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围增大还是减小。当所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围增大，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。在一些实施例中，所述控制子电路还包括：延时电路，用于在所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小时，开始计时预定时长。当经过所述预定时长后所述第三比较电路仍确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。在一些实施例中，所述供电子电路根据从所述控制子电路接收到的指示所述目标参考电压范围的信号调整所述供电子电路中的反馈电阻器的电阻值，以 产生与所述音频功率放大器的输出功率相匹配的电压。在一些实施例中，所述供电子电路根据从所述控制子电路接收到的指示所述目标参考电压范围的信号选择所述供电子电路中使用的参考电压，以产生与所述音频功率放大器的输出功率相匹配的电压。根据另一实施例，提供一种向音频功率放大器供电的方法，包括：检测输入到所述音频功率放大器的音频信号的电压，所述音频信号的电压对应于所述音频功率放大器的输出功率；根据所述音频信号在预定时段内的电压范围确定目标参考电压范围，所述目标参考电压范围选自多个预定的参考电压范围，并且所述音频信号在所述预定时段内的电压范围被包含在所述目标参考电压范围内；以及基于所述目标参考电压范围，产生与所述音频功率放大器的输出功率相匹配的供电电压，以为所述音频功率放大器供电。在一些实施例中，确定目标参考电压范围包括：由第一比较电路从所述多个预定的参考电压范围中选择一个参考电压范围与所述音频信号的电压相比较；以及由计数电路在所述音频信号的电压超出所选择的参考电压范围时，进行计数。所述第一比较电路基于所述计数电路的计数值选择下一个预定的参考电压范围，直到所述音频信号的电压落在所选择的参考电压范围内。在一些实施例中，确定目标参考电压范围还包括：由第二比较电路将所述音频信号的电压与一对照电压相比较；由边沿检测电路通过检测所述第二比较电路的输出来确定所述音频信号与所述对照电压相交的时刻，从而确定所述预定时段；以及由触发电路在所述边沿检测电路确定所述音频信号与所述对照电压相交，并且所述计数电路的当前计数值与所述触发电路储存的计数值不同时，用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值，所述触发电路输出的计数值指示所述目标参考电压范围。在一些实施例中，所述方法还包括：当所述边沿检测电路确定所述音频信号与所述对照电压相交时，向所述计数电路提供复位信号以复位所述计数电路的计数值。在一些实施例中，确定目标参考电压范围还包括：由第三比较电路将所述 计数电路的当前计数值与所述触发电路储存的计数值相比较，以确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围增大还是减小；以及当所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围增大，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，由所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。在一些实施例中，确定目标参考电压范围还包括：在所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小时，由延时电路开始计时预定时长；以及当经过所述预定时长后所述第三比较电路仍确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，由所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。在一些实施例中，产生与所述音频功率放大器的输出功率相匹配的供电电压包括：根据所述目标参考电压范围调整供电子电路中使用的反馈电阻器的电阻值或者选择所述供电子电路中使用的参考电压，以产生与所述音频功率放大器的输出功率相匹配的电压。根据另一实施例，提供一种音频功率放大器，包括：音频功率放大电路；以及用于为所述音频功率放大电路供电的上述供电电路。根据另一实施例，提供一种集成电路，其包括上述音频功率放大器。根据另一实施例，提供一种电子设备，包括：上述音频功率放大器，其接收音频信号并且对所述音频信号进行功率放大；以及扬声器，用于播放所述音频信号。在本发明的实施例中，供电电路检测音频功率放大器的输出功率大小，并产生与所述音频功率放大器的输出功率大小匹配的供电电压，实现了供电电路 的输出电压自适应调节，如此，在需要减小所述音频功率放大器的输出功率的场景下，所述供电电路能够减小输出的供电电压，致使在所述供电电路中的功率管和所述音频功率放大器中的功率管上流过的电流减小，进而减小了对所述供电电路中的功率管和所述音频功率放大器中的功率管造成的导通损耗，提高供电电路的供电效率，并提高音频功率放大器的工作效率。附图说明图1为根据本发明一实施例的供电电路的结构框图；图2为根据本发明一实施例的音频功率放大器的电路图；图3为根据本发明一实施例的控制子电路的框图；图4为根据本发明一实施例的边沿检测电路输出脉冲信号的时机的示意图；图5为根据本发明另一实施例的控制子电路的框图；图6为根据本发明一实施例的控制子电路的电路图；图7为根据本发明一实施例的供电子电路的电路图；图8为根据本发明一实施例的供电子电路中的反馈电阻调节部件的电路图；图9为根据本发明一实施例的供电子电路的参考电压调节部件的电路图；图10为根据本发明一实施例的供电子电路的输出电压随着音频功率放大器的输出电压变化的示意图；图11为根据本发明一实施例的音频功率放大器的框图；图12为根据本发明一实施例的为音频功率放大器供电的方法的流程图。具体实施方式以下结合附图及实施例对本发明的技术方案作进一步详细的阐述。相关技术中，音频功率放大器的供电电路的输出电压通常是恒定的电压，为了使得音频功率放大器的输出功率满足一些应用场景的需求，供电电路的输出电压通常为一个较大的电压。然而，对于一些需要音频功率放大器输出较小功率的应用场景，供电电路仍以较大的电压为音频功率放大器供 电，会使得在供电电路中的功率管上流过的电流较大，造成功率管上的导通损耗较大；另外，音频功率放大器的输出功率较小，而为音频功率放大器供电的供电电压较大，会使得音频功率放大器的驱动损耗较大，进而使得音频功率放大器的工作效率降低。基于此，在本发明的各种实施例中，供电电路检测音频功率放大器的输出功率大小，并产生与所述音频功率放大器的输出功率大小匹配的供电电压，实现了供电电路的输出电压自适应，如此，在需要减小所述音频功率放大器的输出功率的场景下，所述供电电路能够减小输出的供电电压，致使在所述供电电路中的功率管和所述音频功率放大器中的功率管上流过的电流减小，进而减小了对所述供电电路中的功率管和所述音频功率放大器中的功率管造成的导通损耗，提高供电电路的供电效率，并提高音频功率放大器的工作效率。本发明实施例提供了一种供电电路，应用于音频功率放大器1，如图1所示，供电电路10包括：检测子电路11、控制子电路12和供电子电路13。检测子电路11用于检测输入到音频功率放大器1的音频信号的电压，下文称为第一电压，基于所述第一电压可以确定音频功率放大器1的输出功率大小。控制子电路12用于根据在预定时段内所述音频信号的电压的范围确定目标参考电压范围，所述目标参考电压范围选自多个预定的参考电压范围并且包含在所述预定时段内所述音频信号的电压范围。供电子电路13用于基于所述目标参考电压范围，产生与音频功率放大器1的输出功率相匹配的供电电压，以为音频功率放大器1供电。这里，供电子电路13产生与音频功率放大器1的输出功率相匹配的供电电压是指：音频功率放大器1的输出功率小时，供电子电路13产生的电压小；音频功率放大器1的输出功率大时，供电子电路13产生的电压大；即供电子电路13产生的电压随着音频功率放大器1的输出功率提高而提高，并随着音频功率放大器1的输出功率降低而降低；如此，实现了供电电路10的输出电压自适应调节，能够提高供电电路10的供电效率，并提高音频功率放大器1的工作效率。在一些实施例中，音频功率放大器1可以是数字音频功率放大器，也可以是模拟音频功率放大器。供电子电路13可以是升压型DC-DC电路或Charge-Pump电路。在一些实施例中，可以以适当的方式检测输入到音频功率放大器1的音频信号的第一电压。图2示出了音频功率放大器1为包括D类音频功率放大电路20的D类音频功率放大器的实施例，其中供电电路10为D类音频功率放大电路20供电。由于D类音频功率放大器1为双端输入和双端输出的结构，为了检测所述第一电压，需要将输入音频功率放大器1的双路电压信号转换为单路电压信号；因此，如图2所示，检测子电路11可以包括运算放大器OPAMP3和多个电阻器RS1、RS2。对于图2所示的音频功率放大器1，电压从输入到输出的增益可以通过以下公式计算：其中，AClass_D表示音频功率放大器1从输入电压到输出电压的增益，Rfb、Rin、R1、R4、R5和R6表示所述音频功率放大器包含的两路通道中每路通道上的电阻。对于图2所示的检测子电路11，电压从输入到输出的增益可以通过以下公式计算：其中，Asig表示检测子电路11从输入电压到输出电压的增益，Rfb表示音频功率放大器1包含的两路通道中每路通道的输入缓冲区的电阻，RS1和RS2表示检测子电路11包含的两路输入通道中每路输入通道上的电阻。图2所示的音频功率放大器1的输出电压与图2所示的检测子电路11的输出电压的关系可以通过以下公式表示：其中，Vo_Class_D表示音频功率放大器1的输出电压，Vsig表示检测子电路11 的输出电压。这里，V sig即检测子电路11检测得到的第一电压。利用功率等于电压的平方除以电阻的原理以及公式，可以得到以下公式：其中，Po_Class_D表示音频功率放大器1的输出功率，Po_sig表示检测子电路11的输出功率。利用公式和公式可以得到以下公式：可见，检测得到第一电压Vsig后，能够基于公式确定音频功率放大器1的输出功率Po_Class_D，即可以通过检测第一电压来检测音频功率放大器1的输出功率大小。在一实施例中，如图3所示，控制子电路12可以包括第一比较电路31和计数电路32。第一比较电路31可以从多个预定的参考电压范围中选择一个参考电压范围与检测子电路11检测到的音频信号的第一电压相比较。计数电路32可以在第一比较电路31确定音频信号的第一电压超出第一比较电路31选择的参考电压范围时，进行计数。计数电路32的计数值可以被反馈给第一比较电路31，第一比较电路31可以基于计数电路32的计数值选择下一个预定的参考电压范围，直到音频信号的第一电压落在第一比较电路31选择的参考电压范围内。在图3所示的实施例中，控制子电路12还可以包括第二比较电路34、边沿检测电路35和触发电路33。第二比较电路34可以将检测子电路11检测到的音频信号的第一电压与一对照电压例如所述音频信号的共模电压Vcm进行比较。边沿检测电路35可以通过检测第二比较电路34的输出来确定所述音频信号与所述对照电压相交，即所述音频信号的第一电压等于所述对照电压的时刻，从而确定所述预定时段。触发电路33在边沿检测电路35确定所述音频信号与所述对照电压相交，并且计数电路32的当前计数值与触发电路33中存储的计 数值不同时，用计数电路32的当前计数值更新触发电路33中存储的计数值，并且输出所述计数值。触发电路33输出的计数值指示控制子电路12确定的目标参考电压范围。这里，检测子电路11检测得到音频信号的第一电压后，向控制子电路12输出第一电压；控制子电路12通过确定预设的X个参考电压范围中，与预定时段内第一电压的范围对应的一个目标参考电压范围，所述目标参考电压范围由一目标编码表示，实现对输入音频功率放大器1的音频信号的电压范围进行时域分段编码，即对预定时段内第一信号的电压幅度的范围进行编码；不同的编码对应于第一信号的电压幅度的不同范围，进而对应于音频功率放大器1的不同输出功率范围，即实现了对音频功率放大器1的输出功率的不同范围进行编码；如此，能够将第一信号的电压幅度由模拟量转换为数字量，进而通过所述数字量将第一信号的电压幅度与音频功率放大器1的输出功率进行关联，从而实现供电电路10的输出电压自适应调整。在一些实施例中，如图6所示，第一比较电路31可以包含多个数据选择器，并可以通过对数据选择器进行配置来实现在第一比较电路31中预先设置X个参考电压范围，并且所述X个参考电压范围中的每个参考电压范围对应于一编码。具体地，第一比较电路31可以包括第一数据选择器MUX1和第二数据选择器MUX2，第一数据选择器MUX1和第二数据选择器MUX2均为X路数据选择器，X的取值可以为4、6、8、16等。第一数据选择器MUX1用于输出X个参考电压范围之一的上限电压，第二数据选择器MUX2用于输出X个参考电压范围之一的下限电压，X个参考电压范围中每个参考电压范围对应的编码可以由该参考电压范围的上限电压和下限电压对应的通道表示。在一实施例中，控制子电路12可以为数字电路，参考电压范围的编码可以为二进制编码，编码的位数等于log2X。示例性地，当X的取值为8时，编码为3位二进制编码，第一数据选择器MUX1的第0-7路通道分别对应于参考电压Vref1H-Vref8H，并且Vref1H＜Vref2H＜Vref3H＜Vref4H＜Vref5H＜Vref6H＜Vref7H＜Vref8H。 第二数据选择器MUX2的第0-7路通道分别对应于参考电压Vref1L-Vref8L，并且Vref1L＞Vref2L＞Vref3L＞Vref4L＞Vref5L＞Vref6L＞Vref7L＞Vref8L。所述X个参考电压范围分别可以表示为Vref1、Vref2、Vref3、Vref4、Vref5、Vref6、Vref7和Vref8，并且Vref8包含Vref7，Vref7包含Vref6，Vref6包含Vref5，Vref5包含Vref4，Vref4包含Vref3，Vref3包含Vref2，Vref2包含Vref1。参考电压范围Vref1对应编码000，参考电压范围Vref2对应编码001，参考电压范围Vref8对应编码111。第一比较电路31还可以包括多个比较器，例如图6所示的第一比较器COMP1和第二比较器COMP2，第一比较器COMP1将第一电压Vsig与预定参考电压范围的上限电压进行比较，第二比较器COMP2将第一电压Vsig与预定参考电压范围的下限电压进行比较。例如，第一比较器COMP1的正相输入端可接收第一电压Vsig，反相输入端可接收第一数据选择器MUX1输出的预定参考电压范围的上限电压。如果第一电压Vsig大于第一数据选择器MUX1当前选择的预定参考电压范围的上限电压，则第一比较器COMP1输出高电平；如果第一电压Vsig小于第一数据选择器MUX1当前选择的预定参考电压范围的上限电压，则第一比较器COMP1输出低电平。第二比较器COMP2的正相输入端可接收第二数据选择器MUX2输出的预定参考电压范围的下限电压，反相输入端可接收第一电压Vsig。如果第二数据选择器MUX2当前选择的预定参考电压范围的下限电压大于第一电压Vsig，则第二比较器COMP2输出高电平；如果第二数据选择器MUX2当前选择的预定参考电压范围的下限电压小于第一电压Vsig，则第二比较器COMP2输出低电平。为了描述方便，高电平可以表示数据“1”，低电平可以表示数据“0”。计数电路32可以包括第一逻辑或器件OR1和计数器CT1。计数器CT1可以是二进制计数器，其比特数可以等于表示第一比较电路31中预 定义的参考电压范围的编码的比特数。例如当第一比较电路31中预定义了X＝8个参考电压范围时，计数器CT1可以为log 2X＝3比特计数器，X个参考电压范围中每个参考电压范围与计数器CT1的编码的对应关系可以为：Vref1对应编码000、Vref2对应编码001、Vref3对应编码010、Vref4对应编码011、Vref5对应编码100、Vref6对应编码101、Vref7对应编码110、以及Vref8对应编码111。第一逻辑或器件OR1可以对第一比较器COMP1的输出和第二比较器COMP2的输出执行逻辑或操作。也就是说，当第一电压Vsig大于第一数据选择器MUX1选择的上限电压或小于第二数据选择器MUX2选择的下限电压时，第一逻辑或器件OR1输出高电平；当第一电压Vsig落入第一数据选择器MUX1选择的上限电压和第二数据选择器MUX2选择的下限电压定义的电压范围内时，第一逻辑或器件OR1输出低电平。计数器CT1在第一电压Vsig超出第一数据选择器MUX1和第二数据选择器MUX2选择的电压范围内时进行计数，产生3比特计数器编码Q＜2:0＞。计数器编码Q＜2:0＞被反馈给第一比较电路31，第一数据选择器MUX1和第二数据选择器MUX2基于计数器编码Q＜2:0＞选择对应的参考电压范围，直到第一电压Vsig落在第一数据选择器MUX1和第二数据选择器MUX2选择的参考电压范围内时，第一比较器COMP1和第二比较器COMP2都输出低电平，计数器CT1的计数值不再发生变化。初始时，计数器CT1的计数编码可以为000，第一数据选择器MUX1和第二数据选择器MUX2选择与编码000对应的最小参考电压范围Vref1。当预定时段到期时，计数器CT1可以被复位到初始编码000。提供给音频功率放大器1的音频信号即所述第一信号通常为正弦交流电压信号，边沿检测电路35实质上用于对所述第一信号进行边沿检测。具体地，第二比较电路34可包括第三比较器COMP3，其对第一电压Vsig和对照电压例如第一信号的共模电压Vcm进行比较，下文中共模电压Vcm也可以被称为第二电压。在所述第一电压大于所述第二电压的情况下，第二比较电路34可以向边 沿检测电路35输出高电平信号，在所述第二电压小于所述第二电压的情况下，第二比较电路34可以向边沿检测电路35输出低电平信号，示例性地，所述高电平信号可以是电源信号VDD，所述低电平信号可以是地信号GND；边沿检测电路35在检测到第二比较电路34输出的信号由低电平信号变为高电平信号产生上升沿，和/或由高电平信号变为低电平信号产生下降沿的情况下，可以确定检测到所述第一信号的“边沿”，即检测到了所述第一电压等于所述第二电压的情况，并向触发电路33输出脉冲信号，以触发所述触发电路33产生目标编码。可以理解，边沿检测电路35可以在检测到上升沿或下降沿时产生脉冲信号，也就是在与第一信号的一个周期相等的预定时段过去时产生脉冲信号；也可以在检测到上升沿和下降沿时都产生脉冲信号，也就是在与第一信号的半个周期相等的预定时段过去时产生脉冲信号。所述脉冲信号可以被提供给触发电路33以使其输出目标编码，并且也可以作为复位信号RST被提供给计数电路32，以使得计数电路32的计数值复位到000。触发电路33可以包括触发器，例如D触发器DFF；触发器DFF具备记忆功能，即触发电路33可以存储上一次确定的目标编码BST＜2:0＞。触发电路33可以在计数电路32的当前计数值Q＜2:0＞与触发电路33存储的目标编码BST＜2:0＞不同，并且边沿检测电路35确定第一电压Vsig与对照电压Vcm相交时，用计数电路32的当前计数值Q＜2:0＞更新触发电路33中存储的目标编码BST＜2:0＞，并且输出更新后的目标编码BST＜2:0＞。可以理解，如果计数电路32的当前计数值Q＜2:0＞与触发电路33中存储的目标编码BST＜2:0＞相同，则触发电路33不需要更新目标编码BST＜2:0＞。控制子电路12可以向供电子电路13输出目标编码BST＜2:0＞，供电子电路13可以根据目标编码BST＜2:0＞向音频功率放大电路20提供对应的电压，其将在下面进一步详细描述。虽然图6示出了用于实现第一比较电路31、计数电路32、触发电路33、第二比较电路34和边沿检测电路35的具体电子元件和电路，但是应理解，也可以用其他电子元件和电路来实现这些部件，以实现上面描述的功能。在一些应用场景中，第一信号的电压幅度不规律地变化，可能存在第一信号的电压幅度在前半个周期较小，在后半个周期突然变大的情况。如果因为第一信号的电压幅度在前半个周期较小，供电子电路13响应于控制子电路12提供的目标编码而提供较低的供电电压给音频功率放大电路20，那么当在后半个周期第一信号的电压幅度突然变大时，供电子电路13提供的供电电压并不能满足音频功率放大电路20的输出功率的需要，因此可能会产生杂音。为了避免该问题，在一些实施例中，控制子电路12还可以包括用于延长确定目标编码的时间的延时电路。如图5所示，控制子电路12还可以包括第三比较电路51和延时电路52。第三比较电路51用于将计数电路32的当前计数值Q＜2:0＞与触发电路33中存储的目标编码BST＜2:0＞进行比较，从而确定计数电路32的当前计数值Q＜2:0＞对应的参考电压范围相对于触发电路33中存储的目标编码BST＜2:0＞对应的目标参考电压范围是增大还是减小。如果当前计数值Q＜2:0＞对应的参考电压范围相对于目标编码BST＜2:0＞对应的目标参考电压范围增大，则当边沿检测电路35确定第一电压Vsig与对照电压Vcm相交时，触发电路33可以用当前计数值Q＜2:0＞更新存储在其中的目标编码BST＜2:0＞，并输出更新后的目标编码。如果当前计数值Q＜2:0＞对应的参考电压范围相对于目标编码BST＜2:0＞对应的目标参考电压范围减小，则延时电路52开始计时预设时长。当所述预设时长过去之后，如果边沿检测电路35确定第一电压Vsig与对照电压Vcm相交时当前计数值Q＜2:0＞对应的参考电压范围仍然小于目标编码BST＜2:0＞对应的目标参考电压范围，则触发电路33可以用当前计数值Q＜2:0＞更新存储在其中的目标编码BST＜2:0＞，并输出更新后的目标编码。这里，所述预设时长可以根据需求预先设置，比如250毫秒。所述预设时长可以设置为大于所述第一信号的半个、一个或更多周期对应的时长。参照图6，第三比较电路51可以包括数字比较器Dig COMP，其对计数电路32的当前计数值Q＜2:0＞和触发电路33中存储的目标编码BST＜2:0＞进行比较。数字比较器Dig COMP的输出和边沿检测电路35的输出可以提供给第一逻辑和电路AND1。当边沿检测电路35检测到第一信号的边沿，并且数字比较器Dig COMP确定计数电路32的当前计数值Q＜2:0＞大于触发电路33中存储的目标编码BST＜2:0＞时，第一逻辑和电路AND1输出高电平或者脉冲信号，以使触发电路33用当前计数值Q＜2:0＞更新存储在其中的目标编码BST＜2:0＞，并输出更新后的目标编码。数字比较器Dig COMP的输出还经反相器Inv1提供给延时电路52，延时电路52的输出和边沿检测电路35的输出被提供给第二逻辑和电路AND2。当计数电路32的当前计数值Q＜2:0＞小于触发电路33中存储的目标编码BST＜2:0＞时，数字比较器Dig COMP输出低电平信号，其经反相器Inv1反相成高电平信号后被提供给延时电路52，延时电路52响应于该高电平信号开始计时预定时长。当所述预设时长过去之后当前计数值Q＜2:0＞仍然小于目标编码BST＜2:0＞，并且边沿检测电路35确定第一电压Vsig与对照电压Vcm相交时，第二逻辑和电路AND2输出高电平信号，使触发电路33用当前计数值Q＜2:0＞更新存储在其中的目标编码BST＜2:0＞并且输出更新后的目标编码。第一逻辑和电路AND1和第二逻辑和电路AND2的输出可以被提供给第二逻辑或电路OR2，第二逻辑或电路OR2的输出被提供给触发电路33。如前所述，当边沿检测电路35检测到第一信号的边沿，并且数字比较器Dig COMP确定计数电路32的当前计数值Q＜2:0＞大于触发电路33中存储的目标编码BST＜2:0＞时，第一逻辑和电路AND1输出高电平或者脉冲信号；当边沿检测电路35检测到第一信号的边沿，并且在延时电路52延迟预定时长之后数字比较器Dig COMP仍然确定计数电路32的当前计数值Q＜2:0＞小于触发电路33中存储的目标编码BST＜2:0＞时，第二逻辑和电路AND2输出高电平或者脉冲信号。当第一逻辑和电路AND1和第二逻辑和电路AND2中的任意一个输出高电平或者脉冲信号时，第二逻辑或电路OR2输出高电平或脉冲信号以指示触发电路33用当前计数值Q＜2:0＞更新存储在其中的目标编码BST＜2:0＞并且输出更新后的目标编码。下面简要概述图6所示的控制子电路12的操作过程。检测子电路11检测到的第一电压Vsig输入给控制子电路12后，第一数据选择器MUX 1根据计数 器CT1输出的计数值Q＜2:0＞选择对应的参考电压范围的上限电压VrefH，并输出到第一比较器COMP1；第一比较器COMP1将第一电压V sig与所选择的参考电压范围的上限电压VrefH进行比较，在Vsig大于VrefH时输出高电平信号，在Vsig小于VrefH时输出低电平信号；同时，第二数据选择器MUX2根据计数器CT1输出的计数值Q＜2:0＞选择对应的参考电压范围的下限电压VrefL，并输出到第二比较器COMP2；第二比较器COMP2将第一电压Vsig与所选择的参考电压范围的下限电压VrefL进行比较，在Vsig小于VrefL时输出高电平信号，在Vsig大于VrefL时输出低电平信号。第一比较器COMP1和第二比较器COMP2输出的两个电平信号输入至第一逻辑或电路OR1，其在输入的两个电平信号中的任一个电平信号为高电平信号时，输出高电平信号，此时，第一电压Vsig大于当前目标参考电压的VrefH或Vsig小于当前目标参考电压的VrefL，即第一电压Vsig在第一和第二数据选择器MUX1和MUX2根据计数器CT1输出的计数值Q＜2:0＞选择的参考电压范围之外；第一逻辑或电路OR1在输入的两个电平信号均为低电平信号时，输出低电平信号，此时，第一电压Vsig小于当前选择的参考电压范围的上限电压VrefH且大于当前选择的参考电压范围的下限电压VrefL，即第一电压Vsig落入第一和第二数据选择器MUX1和MUX2根据计数器CT1输出的计数值Q＜2:0＞选择的参考电压范围内。计数器CT1对第一逻辑或电路OR1输出的高电平信号进行计数，计数值Q＜2:0＞按照“000→001→010→011→100→101→110→111”的顺序变化。不同的计数值Q＜2:0＞对应不同的参考电压范围：Q＜2:0＞为000对应Vref1，Q＜2:0＞为001对应Vref2，Q＜2:0＞为010对应Vref3，Q＜2:0＞为011对应Vref4，Q＜2:0＞为100对应Vref5，Q＜2:0＞为101对应Vref6，Q＜2:0＞为110对应Vref7，Q＜2:0＞为111对应Vref8；因此，随着计数值Q＜2:0＞的变化，第一和第二数据选择器MUX1和MUX2选择的参考电压范围按照“Vref1→Vref2→Vref3→Vref4→Vref5→Vref6→Vref7→Vref8”的顺 序变化。在一些示例中，所述第一信号可能并非如图4所示的规则的正弦波信号，例如所述第一信号的电压幅度可能在前半周期较小，并在后半周期突然变大，因此在前半周期和后半周期中计数值Q＜2:0＞的变化顺序以及第一和第二数据选择器MUX1和MUX2选择的参考电压范围的变化顺序也不同。示例性地，所述第一信号在前半周期电压幅度的峰值为VH，在后半周期电压幅度的峰值为VL，即第一电压Vsig在当前周期的最大值为VH，Vsig在当前周期的最小值为VL，并假设VH小于Vref3H大于Vref2H，VL小于Vref5L大于Vref6L，此时，在所述第一信号的前半周期，在Vsig逐渐增大至VH的过程中，Q＜2:0＞按照“000→001→010”的顺序变化，随着Q＜2:0＞的变化，第一和第二数据选择器MUX1和MUX2选择的参考电压范围按照“Vref1→Vref2→Vref3”的顺序变化；在所述第一信号的后半周期，在Vsig逐渐减小至VL的过程中，Q＜2:0＞按照“000→001→010→011→100→101”的顺序变化，随着Q＜2:0＞的变化，第一和第二数据选择器MUX1和MUX2选择的参考电压范围按照“Vref1→Vref2→Vref3→Vref4→Vref5→Vref6”的顺序变化。第三比较器COMP3将检测子电路11检测得到的第一电压Vsig与对照电压例如音频信号的共模电压Vcm进行比较以确定第一信号经过共模电压Vcm的时机。Vsig小于Vcm时，第三比较器COMP3输出低电平信号，Vsig大于Vcm时，第三比较器COMP3输出高电平信号。边沿检测电路35在检测到第三比较器COMP3的输出信号由低电平信号变为高电平信号，和/或由高电平信号变为低电平信号时，确定第一信号上穿或下穿经过共模电压Vcm，并向计数器CT1输出复位脉冲信号以将计数值Q＜2:0＞复位为初始值000。这样，第一信号每次经过共模电压Vcm时，计数值Q＜2:0＞被复位为初始值000，其对应的参考电压范围为Vref1，在第一电压Vsig落在参考电压范围Vref1之外的情况下，计数器CT1的计数值Q＜2:0＞由000增大到001，第一和第二数据选择器MUX1和MUX2根据计数值Q＜2:0＞选择的参考电压范围变为Vref2。重复该过程，直到第一电压Vsig落在第一和第二数据选择器MUX1和MUX2选择的参考电压范围内，或者计数器CT1达到最大计数值。数字比较器Dig COMP将计数器CT1的当前计数值Q＜2:0＞与触发电路33中储存的目标编码BST＜2:0＞进行比较，当Q＜2:0＞大于BST＜2:0＞时，Dig COMP输出高电平信号，当Q＜2:0＞小于BST＜2:0＞时，Dig COMP输出低电平信号。在Q＜2:0＞大于BST＜2:0＞且所述第一信号经过共模电压Vcm时，第二逻辑或器件OR2向触发器DFF输出高电平信号或脉冲信号，触发器DFF响应于第二逻辑或器件OR2输出的高电平或脉冲信号用计数器CT1的当前计数值Q＜2:0＞更新触发器DFF中存储的目标编码BST＜2:0＞，并且输出更新后的目标编码BST＜2:0＞以控制供电子电路13提供相应的供电电压。当Q＜2:0＞小于BST＜2:0＞时，数字比较器Dig COMP输出低电平信号经反相器Inv1变成高电平信号后被提供给延时电路52，延时电路52响应于该高电平信号开始计时预定时长。在计时期满且数字比较器Dig COMP仍输出低电平信号的情况下，当边沿检测电路35确定第一电压Vsig穿过共模电压Vcm时，第二逻辑和电路AND2输出高电平信号，使第二逻辑或电路OR2输出高电平信号，触发器DFF响应于该高电平信号用计数器CT1的当前计数值Q＜2:0＞更新触发器DFF中存储的目标编码BST＜2:0＞，并且输出更新后的目标编码BST＜2:0＞以控制供电子电路13提供相应的供电电压。这样，延时电路52能够避免第一信号的电压幅度在前半个周期较小，在后半个周期突然变大，供电子电路13根据前半个周期中第一信号的电压幅度提供的供电电压不足以满足后半个周期中第一信号的电压幅度增大时音频功率放大电路20的输出功率的问题。示例性地，基于图6所对应的实施例，假设Vcm等于40V，Q＜2:0＞000对应Vref1，Q＜2:0＞001对应Vref2，Q＜2:0＞010对应Vref3，Q＜2:0＞011对应Vref4，Q＜2:0＞100对应Vref5，Q＜2:0＞101对应Vref6，Q＜2:0＞110对应Vref7，Q＜2:0＞111对应Vref8；并假设所述第一信号在第一周期的 前半周期电压幅度的峰值为48V，在后半周期电压幅度的峰值为26V，即Vsig在第一周期的最大值为48V，最小值为26V，同时，假设触发器DFF在上一周期保存的BST＜2:0＞为001，Vsig在第一周期的初始值为40V；那么，对于所述第一信号的第一周期，在Vsig由40V逐渐增大的过程中，Q＜2:0＞为初始值000，MUX1和MUX2确定的目标参考电压为Vref1，在Vsig小于45V且Vsig大于40V的情况下，MUX1和MUX2均输出低电平信号，OR1也输出低电平信号，无法触发计数器CT的计数值加1，即Q＜2:0＞仍为000，此时Vsig大于Vcm，COMP3一直输出高电平信号，边沿检测电路35未检测到信号边沿，因此BST＜2:0＞保持为001；在Vsig增大至45V以上的情况下，MUX1输出高电平信号，MUX2输出低电平信号，OR1的输出信号由低电平信号变为高电平信号，产生上升沿，触发计数器CT1的计数值Q＜2:0＞加1，由000变为001，MUX1和MUX2选择的参考电压范围由Vref1变为Vref2，此时Vsig大于Vcm，COMP3一直输出高电平信号，边沿检测电路35仍未检测到第一信号的信号边沿，因此BST＜2:0＞仍保持为001；在Vsig增大至峰值48V后开始减小并减小至40V的过程中，MUX1和MUX2均输出低电平信号，OR1也输出低电平信号，计数器CT1不进行计数，即计数值Q＜2:0＞仍为001，MUX1和MUX2选择的参考电压范围也一直为Vref2，直至Vsig减小至40V时，边沿检测电路35检测到第一信号的边沿并且输出脉冲信号，计数器CT1响应于边沿检测电路35输出的脉冲信号将计数值Q＜2:0＞由001复位为初始值000。在Q＜2:0＞复位为初始值之前，触发电路33将计数值Q＜2:0＞001与其存储的目标编码BST＜2:0＞001相比，由于二者相同，因此触发电路33不更新目标编码BST＜2:0＞，BST＜2:0＞仍为001。可见，在第一周期的前半周期，在Vsig由40V逐渐增大至电压幅度峰值48V后又下降至40V的过程中，Q＜2:0＞按照“000→001→000”的顺序变化，随着Q＜2:0＞的变化，MUX1和MUX2选择的参考电压范围按照“Vref1→Vref2→Vref1”的顺序变化，而BST＜2:0＞保持不变，一直为001。在第一周期的后半周期，与上述流程相似，在Vsig由40V逐渐减小至最小值26V后又增大至40V的过程中，Q＜2:0＞按照“000→001→010 →000”的顺序变化，随着Q＜2:0＞的变化，MUX1和MUX2选择的参考电压范围按照“Vref1→Vref2→Vref3→Vref1”的顺序变化。在Vsig增大至40V时，边沿检测电路35检测到第一信号的边沿并且输出脉冲信号，此时Q＜2:0＞为010，大于触发电路33中存储的BST＜2:0＞001，数字比较器Dig COMP也输出高电平信号，致使AND1输出高电平信号，进而OR2输出高电平信号。触发器DFF响应于该高电平信号用计数器CT1的计数值Q＜2:0＞010更新其存储的目标编码BST＜2:0＞，并且输出更新后的目标编码BST＜2:0＞010。示例性地，供电子电路13可以是升压型DC-DC电路，如图7所示。升压型DC-DC电路的原理是已知的，这里不再详细描述。供电子电路13中的负反馈控制环路会将误差放大器EA的一个输入电压Vfb嵌位到等于其另一个输入电压Vref，其中Vref是供电子电路13的参考电压，Vfb是供电子电路13的反馈电压。基于这个原理可以得到以下公式：其中，VO表示供电子电路13的输出电压，Rfb1和Rfb2表示供电子电路13的反馈电阻。可见，供电子电路13能够通过调整自身的反馈电阻Rfb1和Rfb2或自身使用的参考电压Vref来调整输出电压VO。因此，在一些实施例中，可以通过调节供电子电路13的反馈电阻或参考电压来产生与音频功率放大器1的输出功率匹配的供电电压。在一实施例中，可以利用控制子电路12输出的目标编码来控制多个开关，以接入或断开多个电阻器，使得供电子电路13的反馈电阻比例发生改变，从而供电子电路13产生与音频功率放大器1的输出功率大小匹配的供电电压。示例性地，如图8所示，供电子电路13包括反馈电阻器Rt3、Rt2和Rt1，每个反馈电阻器Rt3、Rt2和Rt1具有并联的开关，通过BST＜2:0＞来控制这些开关可以接入或短路这些反馈电阻器，从而调整供电子电路13的反馈电阻比例。例如，在BST＜2:0＞为010的情况下，Rt3和Rt1被接入，Rt2短路，此时供电子电路13的反馈电阻比例可以通过以下公式进行计算：基于公式，此时供电子电路13的输出电压可以通过以下公式进行计算：在一些实施例中，可以使用控制子电路12输出的目标编码来控制供电子电路13使用的参考电压Vref以调节供电子电路13产生的供电电压。例如，如图9所示，供电子电路13包括第三数据选择器MUX3，其选择性输出X个输入信号中的一个作为供电子电路13中使用的参考电压Vref，其中log2X是目标编码BST＜2:0＞的比特数。例如，当log2X＝3时，第三数据选择器MUX3具有8个输入信号Vref1至Vref8。根据目标编码BST＜2:0＞的值，第三数据选择器MUX3可以选择性输出8个输入信号Vref1至Vref8中的一个作为Vref，从而供电子电路13可以产生相应的供电电压，其可以通过公式进行计算。图10示出了供电子电路13的输出电压VO可以随着音频功率放大器1的输出电压VO_PowerAmplifier而变化的示例。基于上述供电电路，本发明实施例还提供了一种音频功率放大器，如图11所示，所述音频功率放大器包括音频功率放大电路1101和供电电路1102；其中，所述供电电路1102为上述任一供电电路实施例所述的供电电路；所述供电电路1102通过为所述音频功率放大电路1101供电来为所述音频功率放大器供电；所述音频功率放大电路1101为数字音频功率放大电路或模拟音频功率放大电路。基于上述供电电路，本发明实施例还提供了一种集成电路，包括图11所示的音频功率放大器。基于上述供电电路，本发明实施例还提供了一种电子设备，包括扬声器和图11所示的音频功率放大器。所述音频功率放大器在对音频信号进行功率放大后，将所述音频信号提供给所述扬声器。基于上述供电电路，本发明实施例还提供了一种供电方法，应用于音频功率放大器，如图12所示，所述方法包括以下步骤：步骤1201：检测提供给音频功率放大器的音频信号的第一电压来确定所述音频功率放大器的输出功率；步骤1202：根据所述音频信号在预定时段内的电压范围确定目标参考电压范围，所述目标参考电压范围选自多个预定的参考电压范围，并且所述音频信号在所述预定时段内的电压范围被包含在所述目标参考电压范围内；步骤1203：基于所述目标参考电压范围，产生与所述音频功率放大器的输出功率相匹配的供电电压，以为所述音频功率放大器供电。在一些实施例中，确定目标参考电压范围包括：由第一比较电路从所述多个预定的参考电压范围中选择一个参考电压范围与所述音频信号的电压相比较；以及由计数电路在所述音频信号的电压超出所选择的参考电压范围时，进行计数。其中，所述第一比较电路基于所述计数电路的计数值选择下一个预定的参考电压范围，直到所述音频信号的电压落在所选择的参考电压范围内。在一些实施例中，确定目标参考电压范围还包括：由第二比较电路将所述音频信号的电压与一对照电压相比较；由边沿检测电路通过检测所述第二比较电路的输出来确定所述音频信号与所述对照电压相交的时刻，从而确定所述预定时段；以及由触发电路在所述边沿检测电路确定所述音频信号与所述对照电压相交，并且所述计数电路的当前计数值与所述触发电路储存的计数值不同时，用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值，所述触发电路输出的计数值指示所述目标参考电压范围。在一些实施例中，所述方法还包括：当所述边沿检测电路确定所述音频信号与所述对照电压相交时，向所述计数电路提供复位信号以复位所述计数电路的计数值。在一些实施例中，确定目标参考电压范围还包括：由第三比较电路将所述计数电路的当前计数值与所述触发电路储存的计数值相比较，以确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围增大还是减小；以及当所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对 应的参考电压范围增大，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，由所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。在一些实施例中，确定目标参考电压范围还包括：在所述第三比较电路确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小时，由延时电路开始计时预定时长；以及当经过所述预定时长后所述第三比较电路仍确定与所述计数电路的当前计数值对应的参考电压范围相对于与所述触发电路储存的计数值对应的参考电压范围减小，并且所述边沿检测电路确定所述音频信号与所述对照电压相交时，由所述触发电路用所述计数电路的当前计数值更新所述触发电路储存的计数值，并且输出所述计数值。在一些实施例中，产生与所述音频功率放大器的输出功率相匹配的供电电压包括：根据所述目标参考电压范围调整供电子电路中使用的反馈电阻器的电阻值或者选择所述供电子电路中使用的参考电压，以产生与所述音频功率放大器的输出功率相匹配的电压。以上结合具体实施例描述了本申请的基本原理，但是，需要指出的是，在本申请中提及的优点、优势、效果等仅是示例而非限制，不能认为这些优点、优势、效果等是本申请的各个实施例必须具备的。另外，上述公开的具体细节仅是为了示例的作用和便于理解的作用，而非限制，上述细节并不限制本申请为必须采用上述具体的细节来实现。而是，本领域技术人员在本申请的教导下，容易想到许多形式和细节上的变化，这些变化都应落入本申请的权利要求所限定的范围内。本申请中涉及的器件、装置、设备、系统的方框图仅作为例示性的例子并且不意图要求或暗示必须按照方框图示出的方式进行连接、布置、配置。如本领域技术人员将认识到的，可以按任意方式连接、布置、配置这些器件、装置、设备、系统。诸如“包括”、“包含”、“具有”等等的词语是开放性词汇，指“包括但不限于”，且可与其互换使用。这里所使用的词汇“或”和“和”指词汇“和 /或”，且可与其互换使用，除非上下文明确指示不是如此。这里所使用的词汇“诸如”指词组“诸如但不限于”，且可与其互换使用。还需要指出的是，在本申请的装置、设备和方法中，各部件或各步骤是可以分解和/或重新组合的。这些分解和/或重新组合应视为本申请的等效方案。提供所公开的方面的以上描述以使本领域的任何技术人员能够做出或者使用本申请。对这些方面的各种修改对于本领域技术人员而言是非常显而易见的，并且在此定义的一般原理可以应用于其他方面而不脱离本申请的范围。因此，本申请不意图被限制到在此示出的方面，而是按照与在此公开的原理和新颖的特征一致的最宽范围。为了例示和描述的目的已经给出了以上描述。此外，此描述不意图将本申请的实施例限制到在此公开的形式。尽管以上已经讨论了多个示例方面和实施例，但是本领域技术人员将认识到其某些变型、修改、改变、添加和子组合。
