标题title
OSNR测量方法、装置、设备及可读存储介质
摘要abst
本发明提供一种OSNR测量方法、装置、设备及可读存储介质。该方法包括：根据接收信号以及对应的发送信号计算误差向量；根据发送信号以及误差向量计算信噪比；将误差向量以及信噪比输入训练完成的预测模型，得到预测模型输出的OSNR测量值。通过本发明，基于已有的相干检测系统和算法获得数据，能较准确估测在不同传输距离下的OSNR，同时减少了机器学习模型和计算开销。
权利要求书clms
1.一种OSNR测量方法，其特征在于，所述OSNR测量方法包括：根据接收信号以及对应的发送信号计算误差向量；根据发送信号以及误差向量计算信噪比；将误差向量以及信噪比输入训练完成的预测模型，得到预测模型输出的OSNR测量值。2.如权利要求1所述的OSNR测量方法，其特征在于，所述接收信号为经过相干接收以及线性均衡和补偿之后的双偏振复域信号。3.如权利要求2所述的OSNR测量方法，其特征在于，所述根据接收信号以及对应的发送信号计算误差向量的步骤包括：将发送信号Ix,Iy,Qx,Qy与接收信号相减，得到误差向量nIx,nIy,nQx,nQy，其中：4.如权利要求3所述的OSNR测量方法，其特征在于，所述根据发送信号以及误差向量计算信噪比的步骤包括：将发送信号以及误差向量输入信噪比计算公式，得到信噪比，信噪比计算公式为：其中，SNR为信噪比。5.如权利要求1所述的OSNR测量方法，其特征在于，在所述根据接收信号以及对应的发送信号计算误差向量的步骤之前，还包括：通过多组训练数据对预设模型进行训练，其中，每组训练数据由实际接收信号、实际发送信号及对应的实际OSNR组成，得到训练完成的预测模型。6.一种OSNR测量装置，其特征在于，所述OSNR测量装置包括：第一计算模块，用于根据接收信号以及对应的发送信号计算误差向量；第二计算模块，用于根据发送信号以及误差向量计算信噪比；测量模块，用于将误差向量以及信噪比输入训练完成的预测模型，得到预测模型输出的OSNR测量值。7.如权利要求6所述的OSNR测量装置，其特征在于，所述接收信号为经过相干接收以及线性均衡和补偿之后的双偏振复域信号。8.如权利要求7所述的OSNR测量装置，其特征在于，第一计算模块，用于：将发送信号Ix,Iy,Qx,Qy与接收信号相减，得到误差向量nIx,nIy,nQx,nQy，其中：9.一种OSNR测量设备，其特征在于，所述OSNR测量设备包括处理器、存储器、以及存储在所述存储器上并可被所述处理器执行的OSNR测量程序，其中所述OSNR测量程序被所述处理器执行时，实现如权利要求1至5中任一项所述的OSNR测量方法的步骤。10.一种可读存储介质，其特征在于，所述可读存储介质上存储有OSNR测量程序，其中所述OSNR测量程序被处理器执行时，实现如权利要求1至5中任一项所述的OSNR测量方法的步骤。
说明书desc
技术领域本发明涉及光通信技术领域，尤其涉及一种OSNR测量方法、装置、设备及可读存储介质。背景技术新一代高速光纤通信系统基于相干技术和高阶调制等大量新技术，通过采用新型光电器件和提高谱效率极大的提高了系统容量和速率，但同时也降低了系统裕度，对系统的可靠性和稳定性提出了更高要求。为保证光纤通信系统可靠稳定的运行，提出了光性能监测的概念，将光纤信道中的光波长、光功率、色度色散、偏振模色散、光信噪比以及非线性损伤等系统指标都纳入监测，保障光通信系统的管理和运维需要。OSNR是光通信系统中重要的光性能参数。根据国际电信联盟标准，OSNR被定义为：光有效带宽为0.1nm内光信号功率和噪声功率的比值。理想情况下OSNR与BERSNRQEVM等指标可以互相推算，同时OSNR又能综合反应了光信号受到的复杂影响，因此是一个很好的观测和评价指标，在光网络配置、优化以及预警等方面也有重要作用。传统的WDM系统使用线性插值的带外监测方法检测OSNR，该方法使用一台光谱仪，利用传统WDM信道中固定波道外的噪底信息来估计带内的噪声水平，从而实现OSNR的监测。但随着现代可重构网络中光分插复用器的广泛部署和以Nyquist-WDM为代表的超级信道技术的应用，带外噪声将不能准确衡量带内噪声，传统基于线性插值的OSNR监测产品失效，快速有效的带内OSNR监测成为未来的重要需求，而且需要替代昂贵的光谱仪以降低成本提高集成度。在高速相干光通信系统的接收端，高速相干接收机能接收全光域的信息，使得根据接收数据带内监测接收端OSNR成为可能。已有的根据接收数据估算OSNR的方法包括：基于髙阶统计矩方法、基于导频方法、数据自相关性方法等，但这些方法需对数据进行大量统计和相关性计算，依赖的输入参数多，计算量大，部分方法依赖于特别设计的导频会挤占传输带宽。发明内容本发明的主要目的在于提供一种OSNR测量方法、装置、设备及可读存储介质，旨在解决现有技术中估算OSNR的方法，依赖的输入参数多、计算量大，甚至会挤占传输带宽的技术问题。第一方面，本发明提供一种OSNR测量方法，所述OSNR测量方法包括：根据接收信号以及对应的发送信号计算误差向量；根据发送信号以及误差向量计算信噪比；将误差向量以及信噪比输入训练完成的预测模型，得到预测模型输出的OSNR测量值。可选的，所述接收信号为经过相干接收以及线性均衡和补偿之后的双偏振复域信号。可选的，所述根据接收信号以及对应的发送信号计算误差向量的步骤包括：将发送信号Ix，Iy，Qx，Qy与接收信号相减，得到误差向量nIx，nIy，nQx，nQy，其中：可选的，所述根据发送信号以及误差向量计算信噪比的步骤包括：将发送信号以及误差向量输入信噪比计算公式，得到信噪比，信噪比计算公式为：其中，SNR为信噪比。可选的，在所述根据接收信号以及对应的发送信号计算误差向量的步骤之前，还包括：通过多组训练数据对预设模型进行训练，其中，每组训练数据由实际接收信号、实际发送信号及对应的实际OSNR组成，得到训练完成的预测模型。第二方面，本发明还提供一种OSNR测量装置，所述OSNR测量装置包括：第一计算模块，用于根据接收信号以及对应的发送信号计算误差向量；第二计算模块，用于根据发送信号以及误差向量计算信噪比；测量模块，用于将误差向量以及信噪比输入训练完成的预测模型，得到预测模型输出的OSNR测量值。可选的，所述接收信号为经过相干接收以及线性均衡和补偿之后的双偏振复域信号。可选的，第一计算模块，用于：将发送信号Ix，Iy，Qx，Qy与接收信号相减，得到误差向量nIx，nIy，nQx，nQy，其中：第三方面，本发明还提供一种OSNR测量设备，所述OSNR测量设备包括处理器、存储器、以及存储在所述存储器上并可被所述处理器执行的OSNR测量程序，其中所述OSNR测量程序被所述处理器执行时，实现如上所述的OSNR测量方法的步骤。第四方面，本发明还提供一种可读存储介质，所述可读存储介质上存储有OSNR测量程序，其中所述OSNR测量程序被处理器执行时，实现如上所述的OSNR测量方法的步骤。本发明中，根据接收信号以及对应的发送信号计算误差向量；根据发送信号以及误差向量计算信噪比；将误差向量以及信噪比输入训练完成的预测模型，得到预测模型输出的OSNR测量值。通过本发明，基于已有的相干检测系统和算法获得数据，能较准确估测在不同传输距离下的OSNR，同时减少了机器学习模型和计算开销。附图说明图1为本发明实施例方案中涉及的OSNR测量设备的硬件结构示意图；图2为本发明OSNR测量方法一实施例的流程示意图；图3为本发明OSNR测量方法一实施例中计算误差向量的示意图；图4为本发明OSNR测量方法一实施例中输出OSNR的示意图；图5为本发明OSNR测量装置一实施例的功能模块示意图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。第一方面，本发明实施例提供一种OSNR测量设备。参照图1，图1为本发明实施例方案中涉及的OSNR测量设备的硬件结构示意图。本发明实施例中，OSNR测量设备可以包括处理器1001，通信总线1002，用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信；用户接口1003可以包括显示屏、输入单元比如键盘；网络接口1004可选的可以包括标准的有线接口、无线接口；存储器1005可以是高速随机存取存储器，也可以是稳定的存储器，例如磁盘存储器，存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图1中示出的硬件结构并不构成对本发明的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。继续参照图1，图1中作为一种计算机存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及OSNR测量程序。其中，处理器1001可以调用存储器1005中存储的OSNR测量程序，并执行本发明实施例提供的OSNR测量方法。第二方面，本发明实施例提供了一种OSNR测量方法。参照图2，图2为本发明OSNR测量方法一实施例的流程示意图。如图2所示，OSNR测量方法包括：步骤S10，根据接收信号以及对应的发送信号计算误差向量；本实施例中，误差向量如图3所示，参照图3，图3为本发明OSNR测量方法一实施例中计算误差向量的示意图。如图3所示，发送信号为sk，接收信号为rk，误差向量为nk，三者之间的关系满足nk＝sk-rk，定义矢量相关函数：RΔ＝E，其中，Δk代表第k个信号的误差矢量，m为符号间隔，E表示求期望值。实验证明RΔ相关值最大，而且RΔ随系统光路输入光功率增大而减小，表明系统中非线性噪声随链路光功率增强，由于ASE噪声中混入了非线性噪声，依据公式OSNR＝Psig/PASE估测OSNR会比实际值偏小。由此可见误差向量与非线性噪声有关系，并最终影响到估算的OSNR。进一步地，一实施例中，所述接收信号为经过相干接收以及线性均衡和补偿之后的双偏振复域信号。本实施例中，接收信号指的是相干光通信系统接收端中，经过相干接收及后续各种线性均衡和补偿之后的双偏振复域信号，也即符号判决之前信号。进一步地，一实施例中，步骤S10包括：将发送信号Ix，Iy，Qx，Qy与接收信号相减，得到误差向量nIx，nIy，nQx，nQy，其中：本实施例中，对于相干光传输系统，接收端需要接收x、y两个偏振方向上的复域信号，即信号Ix、Iy、Qx以及Qy四个分量。基于此，将发送信号表示为Ix，Iy，Qx，Qy，将接收信号表示为然后，将发送信号Ix，Iy，Qx，Qy与接收信号相减，得到误差向量nIx，nIy，nQx，nQy，其中：步骤S20，根据发送信号以及误差向量计算信噪比；本实施例中，将发送信号以及上述计算得到的误差向量代入预设公式，计算得到信噪比。进一步地，一实施例中，步骤S20包括：将发送信号以及误差向量输入信噪比计算公式，得到信噪比，信噪比计算公式为：其中，SNR为信噪比。步骤S30，将误差向量以及信噪比输入训练完成的预测模型，得到预测模型输出的OSNR测量值。本实施例中，将误差向量以及信噪比输入训练完成的预测模型，即可得到预测模型输出的OSNR测量值。参照图4，图4为本发明OSNR测量方法一实施例中输出OSNR的示意图。如图4所示，将发送信号Ix，Iy，Qx，Qy与接收信号相减，得到误差向量nIx，nIy，nQx，nQy，然后将误差向量nIx，nIy，nQx，nQy与发送信号Ix，Iy，Qx，Qy输入SNR计算单元，SNR计算单元将计算得到的SNR输入LSTM模型，同时将误差向量nIx，nIy，nQx，nQy也输入LSTM模型，LSTM模型根据误差向量以及信噪比得到OSNR并输出。其中，LSTM模型的输入为误差向量以及信噪比，输出为OSNR。LSTM模型为回归模型，使用之前通过实测的训练数据进行训练，直至模型预测的OSNR能较接近实测OSNR时认为模型训练完成。进一步地，一实施例中，在步骤S10之前，还包括：通过多组训练数据对预设模型进行训练，其中，每组训练数据由实际接收信号、实际发送信号及对应的实际OSNR组成，得到训练完成的预测模型。本实施例中，预设模型以LSTM模型为例，基于与步骤S10相同的方式，根据实际接收信号以及实际发送信号计算误差向量，然后基于与步骤S20相同的方式根据实际发送信号以及误差向量计算信噪比，再将误差向量以及信噪比输入LSTM模型，得到预测OSNR，根据实际OSNR与预测OSNR计算损失，并基于损失调整LSTM模型的参数，以此类推，对LSTM模型进行迭代训练，直至达到停止条件，以最终得到的LSTM模型作为训练完成的预测模型。需要说明的是，预设模型还可以是其他结构的神经网络模型，在此不对预设模型进行限制。本实施例中，根据接收信号以及对应的发送信号计算误差向量；根据发送信号以及误差向量计算信噪比；将误差向量以及信噪比输入训练完成的预测模型，得到预测模型输出的OSNR测量值。通过本实施例，基于已有的相干检测系统和算法获得数据，能较准确估测在不同传输距离下的OSNR，同时减少了机器学习模型和计算开销。第三方面，本发明实施例还提供一种OSNR测量装置。一实施例中，参照图5，图5为本发明OSNR测量装置一实施例的功能模块示意图。如图5所示，OSNR测量装置包括：第一计算模块10，用于根据接收信号以及对应的发送信号计算误差向量；第二计算模块20，用于根据发送信号以及误差向量计算信噪比；测量模块30，用于将误差向量以及信噪比输入训练完成的预测模型，得到预测模型输出的OSNR测量值。进一步地，一实施例中，所述接收信号为经过相干接收以及线性均衡和补偿之后的双偏振复域信号。进一步地，一实施例中，第一计算模块10，用于：将发送信号Ix，Iy，Qx，Qy与接收信号相减，得到误差向量nIx，nIy，nQx，nQy，其中：进一步地，一实施例中，第二计算模块20，用于：将发送信号以及误差向量输入信噪比计算公式，得到信噪比，信噪比计算公式为：其中，SNR为信噪比。进一步地，一实施例中，OSNR测量装置还包括训练模块，用于：通过多组训练数据对预设模型进行训练，其中，每组训练数据由实际接收信号、实际发送信号及对应的实际OSNR组成，得到训练完成的预测模型。其中，上述OSNR测量装置中各个模块的功能实现与上述OSNR测量方法实施例中各步骤相对应，其功能和实现过程在此处不再一一赘述。第四方面，本发明实施例还提供一种可读存储介质。本发明可读存储介质上存储有OSNR测量程序，其中所述OSNR测量程序被处理器执行时，实现如上述的OSNR测量方法的步骤。其中，OSNR测量程序被执行时所实现的方法可参照本发明OSNR测量方法的各个实施例，此处不再赘述。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在如上所述的一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
