标题title
一种基于QUIC的数据传输控制方法、系统和设备
摘要abst
本发明公开了一种基于QUIC的数据传输控制方法、系统和设备，属于通信技术领域，包括：S1、QUIC代理服务器根据无线接入点反馈的无线链路状态信息，采用预构建好的最佳ACK发送频率获取模型，得到无线接入点反馈的无线链路状态信息所对应的最佳ACK发送频率；S2、QUIC代理服务器将最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将ACK_FREQUENCY帧发送至终端设备；S3、终端设备接收到ACK_FREQUENCY帧后，按照ACK_FREQUENCY帧指定的规则将ACK帧发送给内容服务器；S4、内容服务器接收到ACK帧后，启用QUIC连接中的Pacing功能发送业务数据给终端设备；本发明可以根据无线链路状态信息自适应地选择最优的ACK发送频率，在保证吞吐量的前提下，大大降低了通信开销。
权利要求书clms
1.一种基于QUIC的数据传输控制方法，其特征在于，包括以下步骤：S1、当终端设备与内容服务器建立QUIC连接传输业务数据时，QUIC代理服务器根据无线接入点反馈的无线链路状态信息，采用预构建好的最佳ACK发送频率获取模型，得到所述无线接入点反馈的无线链路状态信息所对应的最佳ACK发送频率；所述ACK发送频率为终端设备连续发送两个ACK的间隔中累计接收的ACK诱发包的数量的倒数；S2、QUIC代理服务器将所述最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将所述ACK_FREQUENCY帧发送至终端设备；S3、终端设备接收到所述ACK_FREQUENCY帧后，按照所述ACK_FREQUENCY帧指定的规则将ACK帧发送给内容服务器；S4、内容服务器接收到所述ACK帧后，启用QUIC连接中的Pacing功能发送业务数据给终端设备；其中，所述最佳ACK发送频率获取模型为强化学习模型，用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系。2.根据权利要求1所述的基于QUIC的数据传输控制方法，其特征在于，所述无线链路状态信息包括：带宽、时延、丢包率、在途字节数、拥塞窗口大小、重传数据包数量和抖动中的一个或多个。3.根据权利要求1所述的基于QUIC的数据传输控制方法，其特征在于，所述最佳ACK发送频率获取模型的构建方法，包括：S01、获取T个连续时刻的无线链路状态信息所构成的状态集合S及其对应的动作集合A和奖励集合R；其中，S＝{s0,s1,…,st,…,sT-1}，A＝{a0,a1,...,at,…,aT-1}，R＝{r0,r1,...,rt,…,rT-1}；0≤t≤T-1；st为第t个时刻的无线链路状态信息；第t个时刻的动作元素at为第t个时刻所作出的ACK发送频率的选择动作；第t个时刻的奖励rt为第t个时刻所作出动作at后所获得的奖励；构建T-1个四元组{st,at,rt,st+1}，0≤t≤T-2，并存放在经验池E中，设置经验池的容量为M且T-2＜M；S02、初始化Q网络的参数ω；初始化动作空间A；初始化目标Q网络的参数为ω；其中，目标Q网络的结构与Q网络的结构完全相同；S03、初始化起始的无线链路状态信息s，初始化动作步数n＝0；S04、在无线链路状态信息s下选择动作a并执行，观测无线链路状态，得到奖励r和新的无线链路状态信息s′；S05、判断经验池E已存入的四元组个数是否小于M，若是，则直接转至S07；否则，删除经验池E中离当前时刻最远的g个四元组后，转至步骤S07；其中，g为G个时刻的无线链路状态信息s的方差；S07、将四元组{s,a,r,s′}按时间顺序存入经验池E；S08、从经验池E中随机选取任一四元组以为时间差分误差来训练Q网络，采用公式对Q网络参数ω进行更新；其中，λ为输入折扣率；α为学习率；S09、令s＝s'，n＝n+1；S010、判断n是否大于或等于参数更新的间隔D，若是，则转至步骤S011；否则，重复步骤S04-S09进行训练；S011、利用Q网络的参数ω对目标Q网络的参数进行更新，即S012、任取无线链路状态信息s以及对应的动作a，判断Q是否收敛，若是，则操作结束，所得的Q网络即为上述最佳ACK发送频率获取模型；否则，重复步骤S03-S011进行迭代。4.根据权利要求3所述的基于QUIC的数据传输控制方法，其特征在于，基于迭代完成后的所述Q网络，选择使得所述无线接入点反馈的无线链路状态信息所对应的Q值最大的动作下的ACK发送频率，作为所述无线接入点反馈的无线链路状态信息所对应的最佳ACK发送频率。5.根据权利要求3所述的基于QUIC的数据传输控制方法，其特征在于，奖励值基于QUIC传输的有效吞吐量、QoE或QoS确定；当奖励值基于QUIC传输的有效吞吐量确定时，所述奖励r为：其中，goodputc为当前时刻QUIC传输的有效吞吐量，goodputl为上一时刻QUIC传输的有效吞吐量；当奖励值基于QUIC传输的QoE确定时，所述奖励r为：其中，lc为当前时刻的失真率；buc为当前时刻的缓冲时延；mc为当前时刻的卡顿次数；gc为当前时刻的码率波动次数；hc为当前时刻的码率；W1，W2，W3，W4和W5分别为失真率、缓冲时延、卡顿次数、码率波动次数和码率的权重，且W1+W2+W3+W4+W5＝1；当奖励值基于QUIC传输的QoS确定时，所述奖励r为：其中，bwc为当前时刻的链路带宽；dc为当前时刻的时延；drc为当前时刻的丢包率；jc为当前时刻的抖动；W1，W2，W3和W4分别为链路带宽、时延、丢包率和抖动的权重，且W1+W2+W3+W4＝1。6.根据权利要求3所述的基于QUIC的数据传输控制方法，其特征在于，st＝{bwt,dt,drt,jt}；其中，bwt为第t个时刻的链路带宽；dt为第t个时刻的时延；drt为第t个时刻的丢包率；jt为第t个时刻的抖动。7.根据权利要求1-6任意一项所述的基于QUIC的数据传输控制方法，其特征在于，所述ACK_FREQUENCY帧包括4个控制位，分别是ACK诱发包阈值、最大ACK延迟、忽略拥塞信号布尔值和忽略顺序布尔值；所述ACK诱发包阈值设置为所述最佳ACK发送频率的倒数。8.根据权利要求7所述的基于QUIC的数据传输控制方法，其特征在于，所述步骤S3包括：S31、当忽略拥塞信号布尔值为假、且忽略顺序布尔值为真时，判断接收到的数据包的类型是否为带拥塞信号的数据包，若是，则立即发送ACK，否则转至S32；当忽略顺序布尔值为假、且忽略拥塞信号布尔值为真时，判断接收到的数据包的类型是否为乱序的数据包，若是，则立即发送ACK，否则，转至S32；当忽略拥塞信号布尔值为假、且忽略顺序布尔值为假时，判断接收到的数据包的类型是否为乱序的数据包或带拥塞信号的数据包，若是，则立即发送ACK，否则转至S32；当忽略拥塞信号布尔值为真、且忽略顺序布尔值为真时，则直接转至S32；S32、若ACK延迟在最大ACK延迟之内，则终端设备按照ACK诱发包阈值指定的ACK发送频率发送ACK；否则，终端设备立即发送ACK。9.一种基于QUIC的数据传输控制系统，其特征在于，包括：无线接入模块、终端设备、QUIC代理服务器和内容服务器；所述无线接入模块用于将所述终端设备接入有线网络，并为所述QUIC代理服务器提供无线链路状态信息；所述QUIC代理服务器用于根据无线接入点反馈的无线链路状态信息，采用预构建好的最佳ACK发送频率获取模型，得到所述无线接入点反馈的无线链路状态信息所对应的最佳ACK发送频率；并将所述最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将所述ACK_FREQUENCY帧发送至终端设备；所述ACK发送频率为所述终端设备连续发送两个ACK的间隔中累计接收的ACK诱发包的数量的倒数；所述终端设备用于接收所述ACK_FREQUENCY帧，并按照所述ACK_FREQUENCY帧指定的规则将ACK帧发送给所述内容服务器；所述内容服务器用于接收所述ACK帧，并启用QUIC连接中的Pacing功能发送业务数据给所述终端设备；其中，所述最佳ACK发送频率获取模型为强化学习模型，用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系。10.一种QUIC代理服务器，其特征在于，包括AI计算模块和QUIC连接代理模块；所述AI计算模块用于构建最佳ACK发送频率获取模型；所述最佳ACK发送频率获取模型为强化学习模型，用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系；所述QUIC连接代理模块用于将无线接入点反馈的无线链路状态信息传递给所述AI计算模块，从所述AI计算模块获取最佳ACK发送频率，并将所述最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将所述ACK_FREQUENCY帧发送至终端设备；其中，所述ACK发送频率为终端设备连续发送两个ACK的间隔中累计接收的ACK诱发包的数量的倒数。
说明书desc
技术领域本发明属于通信技术领域，更具体地，涉及一种基于QUIC的数据传输控制方法、系统和设备。背景技术Google在用户数据报协议基础上，提出了快速UDP互联网连接技术。其关键在于“快速”，与当前追求高速率的无线通信网络相适应。QUIC为提供可靠传输流，也引入了TCP的确认应答机制。由于QUIC传输底层封装为UDP数据包格式并且发送、接收和处理UDP数据可能是CPU密集型的，当QUIC连接中ACK发送频率过高时，使得CPU开销过高，降低了能量受限终端设备的使用时长。另外，对于严重不对称的链路或上下行存在争用的无线链路场景，如长期演进技术、卫星链路和Wi-Fi等，当反向带宽由ACK填充时，数据方向上的连接吞吐量受到限制。当遍历这些链接时，降低ACK的发送频率可以使连接吞吐量进一步扩展。针对ACK发送频率的优化，存在如下挑战：接收方需要对收到的数据包发送ACK，但可以延迟发送这些确认。确认延迟会影响数据发送方的连接吞吐量、丢失检测和拥塞控制器性能，以及数据发送方和数据接收方的CPU利用率。发送方向接收方发送ACK_FREQUENCY帧存在固有的权衡。现有技术中，通用的QUIC连接中采用默认1:2的固定ACK发送频率，即接收端接收2个ACK诱发包，发送1个ACK。在具有严重不对称的链路中，也有研究者将ACK发送频率设置为1:10，以提高链路利用率，降低传输成本。但固定的较低的ACK发送频率无法适应QUIC拥塞控制的慢启动过程。于是研究者提出了分阶段设置ACK发送频率的策略，在数据传输的前100个数据包设置ACK发送频率为1:2，以保证拥塞控制的慢启动阶段正常运行，在慢启动之后设置ACK比率为1:10。但1:10的ACK发送频率并不能适用于所有网络，因此仍需要进一步设计新的数据传输控制方式，根据无线链路状态信息自适应地选择ACK发送频率，降低通信开销，提高QUIC连接的性能。发明内容针对现有技术的以上缺陷或改进需求，本发明提供一种基于QUIC的数据传输控制方法、系统和设备，其目的在于解决QUIC连接可靠数据传输中确认帧ACK发送频率过高而导致的通信开销过高的问题。为实现上述目的，第一方面，本发明提供了一种基于QUIC的数据传输控制方法，包括以下步骤：S1、当终端设备与内容服务器建立QUIC连接传输业务数据时，QUIC代理服务器根据无线接入点反馈的无线链路状态信息，采用预构建好的最佳ACK发送频率获取模型，得到无线接入点反馈的无线链路状态信息所对应的最佳ACK发送频率；上述ACK发送频率为终端设备连续发送两个ACK的间隔中累计接收的ACK诱发包的数量的倒数；S2、QUIC代理服务器将最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将ACK_FREQUENCY帧发送至终端设备；S3、终端设备接收到ACK_FREQUENCY帧后，按照ACK_FREQUENCY帧指定的规则将ACK帧发送给内容服务器；S4、内容服务器接收到ACK帧后，启用QUIC连接中的Pacing功能发送业务数据给终端设备；其中，最佳ACK发送频率获取模型为强化学习模型，用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系。进一步优选地，无线链路状态信息包括：带宽、时延、丢包率、在途字节数、拥塞窗口大小、重传数据包数量和抖动中的一个或多个。进一步优选地，最佳ACK发送频率获取模型的构建方法，包括：S01、获取T个连续时刻的无线链路状态信息所构成的状态集合S及其对应的动作集合A和奖励集合R；其中，S＝{s0，s1，...，st，...，sT-1}，A＝{a0，a1，...，at，...，aT-1}，R＝{r0，r1，...，rt，...，rT-1}；0≤t≤T-1；st为第t个时刻的无线链路状态信息；第t个时刻的动作元素at为第t个时刻所作出的ACK发送频率的选择动作；第t个时刻的奖励rt为第t个时刻所作出动作at后所获得的奖励；构建T-1个四元组{st，at，rt，st+1}，0≤t≤T-2，并存放在经验池E中，设置经验池的容量为M且T-2＜M；S02、初始化Q网络的参数ω；初始化动作空间A；初始化目标Q网络的参数为ω；其中，目标Q网络的结构与Q网络的结构完全相同；S03、初始化起始的无线链路状态信息s，初始化动作步数n＝0；S04、在无线链路状态信息s下选择动作a并执行，观测无线链路状态，得到奖励r和新的无线链路状态信息s′；S05、判断经验池E已存入的四元组个数是否小于M，若是，则直接转至S07；否则，删除经验池E中离当前时刻最远的g个四元组后，转至步骤S07；其中，g为G个时刻的无线链路状态信息s的方差；S07、将四元组{s，a，r，s′}按时间顺序存入经验池E；S08、从经验池E中随机选取任一四元组以为时间差分误差来训练Q网络，采用公式对Q网络参数ω进行更新；其中，λ为输入折扣率；α为学习率；S09、令s＝s′，n＝n+1；S010、判断n是否大于或等于参数更新的间隔D，若是，则转至S011；否则，重复步骤S04-S09进行训练；S011、利用Q网络的参数ω对目标Q网络的参数进行更新，即S012、任取无线链路状态信息s以及对应的动作a，判断Q是否收敛，若是，则操作结束，所得的Q网络即为上述最佳ACK发送频率获取模型；否则，重复步骤S03-S011进行迭代。进一步优选地，基于迭代完成后的Q网络，选择使得无线接入点反馈的无线链路状态信息所对应的Q值最大的动作下的ACK发送频率，作为无线接入点反馈的无线链路状态信息所对应的最佳ACK发送频率。进一步优选地，上述奖励值r基于QUIC传输的有效吞吐量、QoE或QoS确定；当奖励值r基于QUIC传输的有效吞吐量确定时，上述奖励值r为：其中，goodputc为当前时刻QUIC传输的有效吞吐量，goodputl为上一时刻QUIC传输的有效吞吐量；当奖励值r基于QUIC传输的QoE确定时，上述奖励值r为：其中，lc为当前时刻的失真率；buc为当前时刻的缓冲时延；mc为当前时刻的卡顿次数；gc为当前时刻的码率波动次数；hc为当前时刻的码率；W1，W2，W3，W4和W5分别为失真率、缓冲时延、卡顿次数、码率波动次数和码率的权重，且W1+W2+W3+W4+W5＝1；当奖励值r基于QUIC传输的QoS确定时，上述奖励值r为：其中，bwc为当前时刻的链路带宽；dc为当前时刻的时延；drc为当前时刻的丢包率；jc为当前时刻的抖动；W1，W2，W3和W4分别为链路带宽、时延、丢包率和抖动的权重，且W1+W2+W3+W4＝1。进一步优选地，st＝{bwt，dt，drt，jt}；其中，bwt为第t个时刻的链路带宽；dt为第t个时刻的时延；drt为第t个时刻的丢包率；jt为第t个时刻的抖动。进一步优选地，上述ACK_FREQUENCY帧包括4个控制位，分别是ACK诱发包阈值、最大ACK延迟、忽略拥塞信号布尔值和忽略顺序布尔值；ACK诱发包阈值设置为最佳ACK发送频率的倒数。进一步优选地，步骤S3包括：S31、当忽略拥塞信号布尔值为假、且忽略顺序布尔值为真时，判断接收到的数据包的类型是否为带拥塞信号的数据包，若是，则立即发送ACK，否则转至S32；当忽略顺序布尔值为假、且忽略拥塞信号布尔值为真时，判断接收到的数据包的类型是否为乱序的数据包，若是，则立即发送ACK，否则，转至S32；当忽略拥塞信号布尔值为假、且忽略顺序布尔值为假时，判断接收到的数据包的类型是否为乱序的数据包或带拥塞信号的数据包，若是，则立即发送ACK，否则转至S32；当忽略拥塞信号布尔值为真、且忽略顺序布尔值为真时，则直接转至S32；S32、若ACK延迟在最大ACK延迟之内，则终端设备按照ACK诱发包阈值指定的ACK发送频率发送ACK；否则，终端设备立即发送ACK。第二方面，本发明提供了一种基于QUIC的数据传输控制系统，包括：无线接入模块、终端设备、QUIC代理服务器和内容服务器；无线接入模块用于将终端设备接入有线网络，并为QUIC代理服务器提供无线链路状态信息；QUIC代理服务器用于根据无线接入点反馈的无线链路状态信息，采用预构建好的最佳ACK发送频率获取模型，得到无线接入点反馈的无线链路状态信息所对应的最佳ACK发送频率；并将最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将ACK_FREQUENCY帧发送至终端设备；上述ACK发送频率为终端设备连续发送两个ACK的间隔中累计接收的ACK诱发包的数量的倒数；终端设备用于接收ACK_FREQUENCY帧，并按照ACK_FREQUENCY帧指定的规则将ACK帧发送给内容服务器；内容服务器用于接收ACK帧，并启用QUIC连接中的Pacing功能发送业务数据给终端设备；其中，最佳ACK发送频率获取模型为强化学习模型，用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系。第三方面，本发明提供了一种QUIC代理服务器，包括AI计算模块和QUIC连接代理模块；AI计算模块用于构建最佳ACK发送频率获取模型；最佳ACK发送频率获取模型为强化学习模型，用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系；QUIC连接代理模块用于将无线接入点反馈的无线链路状态信息传递给AI计算模块，从AI计算模块获取最佳ACK发送频率，并将最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将ACK_FREQUENCY帧发送至终端设备；其中，上述ACK发送频率为终端设备连续发送两个ACK的间隔中累计接收的ACK诱发包的数量的倒数。总体而言，通过本发明所构思的以上技术方案，能够取得以下有益效果：1、本发明提供了一种基于QUIC的数据传输控制方法，在终端设备与内容服务器之间引入QUIC代理服务器，QUIC代理服务器基于强化学习算法预先学习无线链路状态信息与最佳ACK发送频率之间的隐含关系，得到最佳ACK发送频率获取模型；并采用最佳ACK发送频率获取模型，获取当前无线链路状态信息所对应的最佳ACK发送频率；相比于QUIC传输中默认固定ACK频率的处理方式，可以根据无线链路状态信息自适应地选择最优的ACK发送频率，在保证吞吐量的前提下，大大降低了通信开销。2、本发明所提供的基于QUIC的数据传输控制方法，ACK的发送与端到端通信可靠性密切相关，再结合无线链路信道变化快的特性，需要考虑经验池的有效性，于是在模型训练中加入了对模型训练的经验池动态维护的模块，增强模型训练的自适应性，进而获得无线链路状态与最佳ACK发送频率之间更加准确的隐含关系。3、本发明所提供的基于QUIC的数据传输控制方法中，最佳ACK发送频率获取模型能够自适应感知链路状态，调整ACK发送频率。在链路状态良好时，降低ACK的发送频率，从而减少了无线链路资源的占用，节省的无线链路资源用于发送业务数据，进一步提升吞吐量。同时，更少的ACK发送，也降低了终端设备处理ACK帧的计算开销。在链路状态较差时，合理控制ACK的发送频率，控制业务数据的发送速率，减少链路拥塞，保证了弱网环境下的通信性能。4、本发明所提供的基于QUIC的数据传输控制方法，在内容服务器接收到ACK帧后，启用了QUIC连接中的Pacing功能，可使服务器端发送数据时主动增加业务数据发送的时间间隔，防止因业务数据流量的突发而导致链路拥塞。5、本发明所提供的基于QUIC的数据传输控制方法，在终端设备中按ACK_FREQUENCY帧指定的规则发送ACK帧，不仅考虑最优的ACK帧发送频率，还考虑了最大ACK延迟、忽略拥塞信号布尔值以及忽略顺序布尔值等其它控制位。使得ACK帧的发送符合现有QUIC传输控制协议标准，具有更好的互操作性。附图说明图1为本发明实施例1提供的基于QUIC的数据传输控制方法流程图；图2为本发明实施例1提供的基于QUIC的数据传输控制方法的应用场景示意图；图3为本发明实施例1提供的AI辅助的QUIC传输控制方法处理过程示意图；图4为本发明实施例1提供的最佳ACK发送频率获取模型的学习训练流程图；图5为本发明实施例1提供的ACK_FREQUENCY帧的结构图；图6为本发明实施例1提供的QUIC传输中ACK频率调整前后对比示意图；图7为本发明实施例2提供的AI计算模块的结构示意图；图8为本发明实施例2提供的QUIC连接代理模块的结构示意图；图9为本发明实施例3提供的基于QUIC的数据传输控制系统的结构示意图；图10为本发明实施例3提供的QUIC协议实体运行模块的结构示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。此外，下面所描述的本发明各个实施方式中所涉及到的技术特征只要彼此之间未构成冲突就可以相互组合。实施例1、一种基于QUIC的数据传输控制方法，如图1所示，包括以下步骤：S1、当终端设备与内容服务器建立QUIC连接传输业务数据时，QUIC代理服务器根据无线接入点反馈的无线链路状态信息，采用预构建好的最佳ACK发送频率获取模型，得到无线接入点反馈的无线链路状态信息所对应的最佳ACK发送频率；上述ACK发送频率为终端设备连续发送两个ACK的间隔中累计接收的ACK诱发包的数量的倒数；最佳ACK发送频率包括使终端设备获得最大有效吞吐量或使得其它指标最优的ACK发送频率。具体地，最佳ACK发送频率获取模型为强化学习模型，用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系。如图2所示为本实施例的应用场景，终端设备从无线接入点接入网络，经过QUIC代理服务器，与内容服务器建立QUIC连接并从服务器中获取业务数据。其中，QUIC代理服务器包括AI计算模块和QUIC连接代理模块，QUIC连接代理模块为AI计算模块转发无线接入点提供的无线链路状态信息，包括但不限于链路带宽、时延、丢包率、在途字节数、拥塞窗口大小、重传数据包数量、抖动等一个或多个反应链路通信状态的信息。AI计算模块根据无线链路状态信息，利用AI算法学习训练无线链路状态信息与最佳ACK发送频率之间的隐含关系，得到最佳ACK发送频率获取模型；并将最佳ACK发送频率获取模型下发给QUIC连接代理模块。其中，AI算法包括强化学习、深度强化学习以及其它强化学习变体，可感知无线链路状态信息变化，根据有效吞吐量或其它优化目标作为奖励值，做出ACK发送频率选择的动作。如图3所示为AI辅助的QUIC传输控制方法处理过程。首先最佳ACK发送频率获取模型获取无线链路状态信息，本实施例中的无线链路状态信息包括链路带宽bw、时延d、丢包率dr和抖动j，记t时刻的无线链路状态信息st＝{bwt，dt，drt，jt}，选取T个连续时刻的无线链路状态信息构成状态集合S＝{s0，s1，...，st，...，sT-1}，0≤t≤T-1；另外，记t时刻的ACK发送频率作为动作元素at以及t时刻获得的奖励元素rt，其中与状态集合S对应时刻的动作元素构成动作集合A＝{a0，a1，...，at，...，aT-1}，与状态集合S对应时刻的奖励元素构成奖励集合R＝{r0，r1，...，rt，...，rT-1}；利用以上信息构建T-1个四元组{st，at，rt，st+1}，0≤t≤T-2，并存放在经验池E中，设置其容量为M且T-2＜M。如表1所示为本实施例中深度强化学习中的Q网络输出计算结果表；表1a0a1a2a3S02341S13458S22734S33125如表1所示，在不同的无线链路状态s下，Q网络输出了选取不同的ACK发送频率动作a，对应的不同的Q值。再下一时刻选取动作时，需要将所处的无线链路状态s作为Q网络的输入，计算出与无线链路状态s对应的不同ACK发送频率动作a的Q值，选择Q值最高的ACK发送频率作为动作。进一步地，奖励值r基于QUIC传输的有效吞吐量、QoE或QoS确定；当以最大化有效吞吐量作为奖励值时，由此建立奖励值函数如下：其中，goodputc为当前时刻QUIC传输的有效吞吐量，goodputl为上一时刻QUIC传输的有效吞吐量。所述奖励值函数在有效吞吐量增加时奖励为正值，在有效吞吐量降低时奖励为负值，即为惩罚。当以最大化体验质量QoE作为奖励值时，由此建立奖励值函数如下：其中，lc为当前时刻的失真率；buc为当前时刻的缓冲时延；mc为当前时刻的卡顿次数；gc为当前时刻的码率波动次数；hc为当前时刻的码率；W1，W2，W3，W4和W5分别为失真率、缓冲时延、卡顿次数、码率波动次数和码率的权重且W1+W2+W3+W4+W5＝1，此处，分别取0.2，0.2，0.3，0.2，0.1。当以最大化服务质量QoS作为奖励值时，由此建立奖励值函数如下：其中，bwc为当前时刻的链路带宽；dc为当前时刻的时延；drc为当前时刻的丢包率；jc为当前时刻的抖动；W1，W2，W3和W4分别为链路带宽、时延、丢包率和抖动的权重且W1+W2+W3+W4＝1，此处，分别取0.2，0.2，0.4，0.2。如图4所示为本实施例中最佳ACK发送频率获取模型的学习训练流程图。具体包括如下步骤：A01、初始化折扣率λ＝0.9，贪心策略概率ε＝0.1，学习率α＝0.001，累计状态时刻数G＝300和参数更新的间隔D＝3000；A02、获取T个连续时刻的无线链路状态信息所构成的状态集合S及其对应的动作集合A和奖励集合R；其中，S＝{s0，s1，...，st，...，sT-1}，A＝{a0，a1，...，at，...，aT-1}，R＝{r0，r1，...，rt，...，rT-1}；0≤t≤T-1；st为第t个时刻的无线链路状态信息；第t个时刻的动作元素at为第t个时刻所作出的ACK发送频率的选择动作；第t个时刻的奖励rt为第t个时刻所作出动作at后所获得的奖励；利用以上信息构建T-1个四元组{st，at，rt，st+1}，0≤t≤T-2，并存放在经验池E中，设置其容量为M且T-2＜M；A03、随机初始化Q网络的参数ω；初始化动作空间A；随机初始化目标Q网络的参数其中，目标Q网络的结构与Q网络的结构完全相同；A04、初始化起始的无线链路状态信息s和动作步数n＝0；A05、在状态s，选择动作a；本实施例基于ε-greedy策略选择动作a；A06、执行动作a，观测无线链路环境状态，获得奖励r和新的状态s′；A07、判断经验池E已存入四元组个数是否小于M，若是，则直接执行A08；若否，则删除经验池E中离当前时刻最远的g个四元组，其中，g为G个时刻状态s的方差；本发明基于状态空间s方差大小，对经验池中的数据进行调整，当方差较大时，丢弃更多以前的数据，使模型能够学习到更接近当前时刻的动作特性。A08、将四元组{s，a，r，s′}按时间顺序存入经验池E；A09、随机从经验池E中选取以为时间差分误差来训练Q网络，按照下式对Q网络参数ω进行更新：A10、令s＝s′，n＝n+1；A11、判断n≥D，若否，则重复步骤A05-A10进行训练；若是，则执行S12；A12、利用Q网络的参数ω；对目标Q网络的参数进行更新，即A13、任取状态s以及对应的动作a，利用Q网络计算，判断Q是否收敛，若否，则重复步骤A04-A12进行迭代；若是，则输出Q，该Q网络即为上述最佳ACK发送频率获取模型。QUIC代理服务器根据当前无线链路状态信息即所处的无线链路状态s，利用所得最佳ACK发送频率获取模型，将所处的无线链路状态s作为Q网络的输入，计算出与无线链路状态s对应的不同ACK发送频率动作a的Q值，选择Q值最高的ACK发送频率作为最优的ACK发送频率。S2、QUIC代理服务器将最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将ACK_FREQUENCY帧发送至终端设备；在获得最佳ACK发送频率的同时获取QUIC数据包并解析，进而将最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位中。如图5所示为本实施例中ACK_FREQUENCY帧的结构图；具体地，上述ACK_FREQUENCY帧包括4个控制位，分别是ACK诱发包阈值、最大ACK延迟、忽略拥塞信号布尔值和忽略顺序布尔值；上述ACK_FREQUENCY帧的对应字节位为ACK诱发包阈值，即将ACK诱发包阈值设置为最佳ACK发送频率的倒数。S3、终端设备接收到ACK_FREQUENCY帧后，按照ACK_FREQUENCY帧指定的规则将ACK帧发送给内容服务器；具体地，按照ACK_FREQUENCY帧指定的规则将ACK帧发送给内容服务器的方法包括：S31、当忽略拥塞信号布尔值为假、且忽略顺序布尔值为真时，判断接收到的数据包的类型是否为带拥塞信号的数据包，若是，则立即发送ACK，否则转至S32；当忽略顺序布尔值为假、且忽略拥塞信号布尔值为真时，判断接收到的数据包的类型是否为乱序的数据包，若是，则立即发送ACK，否则，转至S32；当忽略拥塞信号布尔值为假、且忽略顺序布尔值为假时，判断接收到的数据包的类型是否为乱序的数据包或带拥塞信号的数据包，若是，则立即发送ACK，否则转至S32；当忽略拥塞信号布尔值为真、且忽略顺序布尔值为真时，则直接转至S32；S32、若ACK延迟在最大ACK延迟之内，则终端设备按照ACK诱发包阈值指定的ACK发送频率发送ACK；否则，终端设备立即发送ACK。如图6所示为本实施例QUIC传输中ACK频率调整前后对比示意图，当ACK频率由1:2降低为1:10时，ACK发送数量减少到了原来的1/5，可有效减少无线链路资源的占用同时减少CPU的处理开销。S4、内容服务器接收到ACK帧后，启用QUIC连接中的Pacing功能发送业务数据给终端设备。具体地，内容服务器接收到ACK帧后，为避免ACK所引发的数据量突发，启用QUIC连接中的Pacing功能。启动Pacing功能后可使内容服务器发送数据时主动增加业务数据发送的时间间隔，防止因业务数据流量的突发而导致链路拥塞。实施例2、一种QUIC代理服务器，包括AI计算模块和QUIC连接代理模块；AI计算模块用于构建最佳ACK发送频率获取模型；最佳ACK发送频率获取模型为强化学习模型，用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系；QUIC连接代理模块用于将无线接入点反馈的无线链路状态信息传递给AI计算模块，从AI计算模块获取最佳ACK发送频率，并将最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将ACK_FREQUENCY帧发送至终端设备；其中，上述ACK发送频率为终端设备连续发送两个ACK的间隔中累计接收的ACK诱发包的数量的倒数。在一种可选实施方式下，如图7所示，上述AI计算模块包括第一处理器模块、第一处存储器模块和第一通信模块。具体地，第一处理器模块例如可以包括至强可扩展处理器、图形处理器以及张量处理单元等等。第一处理器模块用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系，可以是用于执行参考图3和图4描述的方法流程的不同操作的单个或多个处理程序；第一存储模块，例如可以是能够存储并可读写的任意介质。第一存储模块的具体示例包括但不限于机械硬盘、固态硬盘等具有存储功能的设备模块。第一存储模块可以包括计算机程序和数据/模型。其中，计算机程序可以包括可执行的AI算法代码，所述计算机程序在第一处理器模块执行时，可实现实施例1所描述的方法流程中的部分单元或全部单元以及其任何变体。所述计算机程序的AI算法代码可提供一种或多种选择，例如可以包括强化学习算法代码、深度强化学习算法代码、……。应当注意，AI算法的划分方式和个数并不是固定的，本领域技术人员可以根据实际情况使用合适的AI算法以及其组合。数据/模型中用于存储无线链路状态信息以及训练完成的AI模型，用于提供给QUIC连接代理模块。第一通信模块，例如可以是能够完成双向数据传输的任意电子模块。例如可以包括有线通信模块，如网络适配器；无线通信模块，如蜂窝和Wi-Fi模块等。用于与QUIC连接代理模块传输数据。在一种可选实施方式下，如图8所示，QUIC连接代理模块包括第二通信模块、第二处理器模块和第二处存储器模块。具体地，第二通信模块，例如可以是能够完成双向数据传输的任意电子模块。例如可以包括有线通信模块，如网络适配器；无线通信模块，如蜂窝和Wi-Fi模块等。用于与AI计算模块、无线接入模块以及内容服务器传输数据。第二处理器模块，例如可以包括通用处理器、指令集处理器等等。第二处理器模块可执行实施例1中描述的与QUIC连接代理相关的执行操作，此处不再赘述。第二存储模块，例如可以是能够存储并可读写的任意介质。第二存储模块的具体示例包括但不限于机械硬盘、固态硬盘等具有存储功能的设备模块。第二存储模块用于存储实施例1中所述最佳ACK发送频率获取模型以及处理ACK_FREQUENCY帧的计算程序。实施例3、一种基于QUIC的数据传输控制系统，如图9所示，包括：无线接入模块、终端设备、QUIC代理服务器和内容服务器；无线接入模块用于将终端设备接入有线网络，并为QUIC代理服务器提供无线链路状态信息；QUIC代理服务器用于根据无线接入点反馈的无线链路状态信息，采用预构建好的最佳ACK发送频率获取模型，得到无线接入点反馈的无线链路状态信息所对应的最佳ACK发送频率；并将最佳ACK发送频率的倒数写入QUIC的ACK_FREQUENCY帧的对应字节位后，将ACK_FREQUENCY帧发送至终端设备；上述ACK发送频率为终端设备连续发送两个ACK的间隔中累计接收的ACK诱发包的数量的倒数；QUIC代理服务器可以为实施例2所提供的QUIC代理服务器；终端设备用于接收ACK_FREQUENCY帧，并按照ACK_FREQUENCY帧指定的规则将ACK帧发送给内容服务器；内容服务器用于接收ACK帧，并启用QUIC连接中的Pacing功能发送业务数据给终端设备；其中，最佳ACK发送频率获取模型为强化学习模型，用于学习无线链路状态信息与最佳ACK发送频率之间的隐含关系。相关技术方案同实施例1和实施例2，这里不做赘述。需要说明的是，在一种可选实施方式下，终端设备和内容服务器中均包含QUIC协议实体运行模块；具体地，如图10所示，QUIC协议实体运行模块包括中央处理器、主存储器、辅助存储器以及输入输出模块。QUIC协议实体运行设备执行实施例1中描述的与终端设备和内容服务器相关的执行操作，此处不再赘述。具体地，中央处理器，例如可以包括通用处理器、指令集处理器等等。中央处理器可执行实施例1中描述的与终端设备和内容服务器相关的执行操作，如QUIC数据包的解析与封包，ACK帧以及ACK_FREQUENCY帧的接收处理与发送等；主存储器用于存储系统程序，包括QUIC协议实体；辅助存储器用于存储应用程序与业务数据；输入输出模块，例如可以包括用于与无线接入点通信的天线模块或与有线设备通信的网络适配器模块等，能够完成两个设备之间的双向数据传输。本领域的技术人员容易理解，以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
