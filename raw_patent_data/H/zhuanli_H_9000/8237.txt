标题title
逆变器数字闭环调制方法
摘要abst
逆变器数字闭环调制方法，本发明属于直流与交流之间转换的电源控制领域。解决了传统的对桥式逆变器调制方法为开环调制，使桥式逆变器在存在死区时其输出波形失真严重，且需额外增加传感器来对施加在桥式逆变器的开关管上的信号进行死区补偿，导致系统体积增加，同时还无法补偿开关暂态的问题。本发明方法通过数字闭环调制器在控制量、以及当计数结果等于控制量下触发生成初始PWM信号，并将初始PWM信号插入死区，生成带死区的PWM信号，从而通过驱动器对桥式逆变器相应桥臂上的开关管进行闭环控制。本发明方法可消除死区及开关暂态影响。本发明主要应用在电源控制领域。
权利要求书clms
1.逆变器数字闭环调制方法，其特征在于，该方法包括如下步骤：S1、通过逆变器桥臂波形采集模块采集桥式逆变器任意一桥臂输出的电压波形，并对接收的电压波形转换为数字信号送至数字闭环调制器；同时，控制模块用于根据桥式逆变器交流侧输出的电压信号生成基于前沿调制、后沿调制或双沿调制方式下的控制量，并将控制量送至数字闭环调制器；S2、数字闭环调制器对接收到的数字信号的电平进行计数，当计数结果等于控制模块生成的控制量时，采用前沿调制、后沿调制或双沿调制的方式触发生成初始PWM信号后，使初始PWM信号经过死区，生成带死区的PWM信号；其中，当采用后沿调制时，对数字信号的高电平进行计数；当采用前沿调制时，对数字信号的低电平进行计数；当采用双沿调制时，对数字信号的高电平和低电平分时段计数；S3、利用带死区的PWM信号通过驱动器对桥式逆变器相应桥臂上的开关管进行闭环控制。2.根据权利要求1所述的逆变器数字闭环调制方法，其特征在于，当采用后沿调制时，数字闭环调制器接收的控制量为NDref；其中，N为采样时钟与开关时钟的频率比，Dref为预设参考量，Dref取值范围为0至1。3.根据权利要求2所述的逆变器数字闭环调制方法，其特征在于，数字闭环调制器包括1号计数器、1号比较器、1号RS触发器、1号死区发生器和1号二输入与门；1号二输入与门的一个正向输入端用于接收采样时钟，其另一个正向输入端用于接收数字信号；1号二输入与门的输出端与1号计数器的计数端连接，1号计数器的输出端与1号比较器的同相输入端连接；1号比较器的反相输入端用于接收控制量，1号比较器的输出端与1号RS触发器的复位端R连接，1号RS触发器的置位端S用于接收开关时钟，1号RS触发器的输出端Q与1号死区发生器的数据信号输入端连接；1号RS触发器的反向输出端与1号计数器的复位端R连接；1号死区发生器的数据信号输入端接收1号RS触发器的输出端Q输出的初始PWM信号；1号死区发生器的输出端输出带死区的PWM信号。4.根据权利要求1所述的逆变器数字闭环调制方法，其特征在于，当采用前沿调制时，数字闭环调制器接收的控制量为N ；其中，N为采样时钟与开关时钟的频率比，Dref为预设参考量，Dref取值范围为0至1。5.根据权利要求4所述的逆变器数字闭环调制方法，其特征在于，数字闭环调制器包括2号计数器、2号比较器、2号RS触发器、2号死区发生器和2号二输入与门；2号二输入与门的正向输入端用于接收采样时钟，其反向输入端用于接收数字信号；2号二输入与门的输出端与2号计数器的计数端连接，2号计数器的输出端与2号比较器的同相输入端连接；2号比较器的反相输入端用于接收控制量，2号比较器的输出端与2号RS触发器的置位端S连接，2号RS触发器的复位端R用于接收开关时钟，2号RS触发器的反向输出端与2号死区发生器的数据信号输入端连接；2号RS触发器的输出端Q与2号计数器的复位端R连接；2号死区发生器的数据信号输入端接收2号RS触发器的反向输出端输出的初始PWM信号；/＞2号死区发生器的输出端输出带死区的PWM信号。6.根据权利要求1所述的逆变器数字闭环调制方法，其特征在于，当采用双沿调制时，数字闭环调制器接收的控制量由第一指令和第二指令构成，且第一指令的取值为0.5N，第二指令的取值为0.5NDref；其中，N为采样时钟与开关时钟的频率比，Dref为预设参考量，Dref取值范围为0至1。7.根据权利要求6所述的逆变器数字闭环调制方法，其特征在于，数字闭环调制器包括两个3号计数器、两个3号比较器、两个3号RS触发器、一个3号死区发生器、两个3号二输入与门、两个三输入与门、一个非门和一个或门；一个三输入与门的第一正向输入端与一个3号RS触发器的复位端R、非门的输入端和一个3号二输入与门的一个正向输入端同时连接后，接收开关时钟；一个三输入与门的反向输入端与另一个三输入与门的第一正向输入端连接后，接收数字信号；一个三输入与门的第二正向输入端与另一个三输入与门的第二正向输入端连接后，接收采样时钟；一个三输入与门的输出端与一个3号计数器的计数端连接，一个3号计数器的输出端与一个3号比较器的同相输入端连接，一个3号比较器的输出端与一个3号RS触发器的置位端S连接；一个3号RS触发器的输出端Q与一个3号二输入与门的另一个正向输入端连接；一个3号二输入与门的输出端与或门的一个输入端连接；另一个三输入与门的第三正向输入端与非门的输出端、另一个3号RS触发器的置位端S和另一个3号二输入与门的一个正向输入端同时连接；另一个三输入与门的输出端与另一个3号计数器的计数端连接，另一个3号计数器的输出端与另一个3号比较器的同相输入端连接，另一个3号比较器的输出端与另一个3号RS触发器的复位端连接；另一个3号RS触发器的输出端Q与另一个3号二输入与门的另一个正向输入端连接；另一个3号二输入与门的输出端与或门的另一个输入端连接；或门的输出端与一个3号计数器的复位端R、另一个3号计数器的反向复位端R和3号死区发生器的数据输入端同时连接；3号死区发生器的数据输入端接收或门输出的初始PWM信号；3号死区发生器的输出端输出带死区的PWM信号；一个3号比较器的反相输入端，用于接收控制量中的第一指令；另一个3号比较器的反相输入端，用于接收控制量中的第二指令。8.根据权利要求1所述的逆变器数字闭环调制方法，其特征在于，逆变器桥臂波形采集模块包括电阻R1至R4以及4号比较器；电阻R2的一端与桥式逆变器直流侧电源Vdc的正极性端连接，电阻R2的另一端与电阻R1的一端和4号比较器的反向输入端同时连接；电阻R4的一端与桥式逆变器的桥臂结点Vs连接，电阻R4的另一端与电阻R3的一端和4号比较器的同向输入端同时连接；电阻R1的另一端与电阻R3的另一端同时接桥式逆变器直流侧电源Vdc的电源地端；桥式逆变器的桥臂结点Vs与桥式逆变器直流侧电源Vdc的电源地端之间形成的电压波形，作为桥式逆变器桥臂输出的电压波形；4号比较器的输出端作为逆变器桥臂波形采集模块输出端输出的数字信号。9.根据权利要求8所述的逆变器数字闭环调制方法，其特征在于，所述R4=R2-R1，R3=2R1。10.根据权利要求3所述的逆变器数字闭环调制方法，其特征在于，1号死区发生器包括M位移位寄存器和4号二输入与门；M位移位寄存器的数据输入端和4号二输入与门的一个输入端连接后，接收初始PWM信号；M位移位寄存器的时钟信号端用于接收采样时钟，M位移位寄存器的输出端与4号二输入与门的另一个输入端连接；其中，M为采样时钟与死区时间的乘积；4号二输入与门的输出端用于输出带死区的PWM信号。
说明书desc
技术领域本发明属于直流与交流之间转换的电源控制领域，具体涉及一种消除死区及开关暂态影响的逆变器数字闭环调制方法。背景技术随着能源危机的存在，新能源变换器的相关技术在能源系统中的地位越发重要。而逆变器作为光伏及储能系统中重要的一环，其输出波形质量对整个光储充系统至关重要。对于逆变器中最广泛应用的桥式逆变器结构来说，为了防止桥式逆变器同一桥臂的上下两个开关管出现直通现象，进而导致输入短路，通常会在驱动开关管的信号上增加死区时间。但死区时间的加入不仅会在输出端引入额外的谐波成分，也会引起逆变器系统建模上的误差，进而影响整个闭环控制系统。传统的对桥式逆变器调制方法一般为控制信号与三角波比较来生成驱动开关管的PWM信号，且传统的调制方法为开环调制，具有输出波形失真严重的缺陷，该种调制方法生成的PWM信号不具备对桥式逆变器上驱动开关管死区补偿的功能，需要额外进行死区补偿。通常的死区时间补偿方法需要采集电流等额外信息，然后根据电流方向来增加额外的补偿脉冲或补偿量，无疑增加了系统结构和体积，且也无法补偿由开关管结电容导致的开关暂态。因此，如何能够无需额外传感器的情况下同时补偿死区时间及开关暂态且易于集成，是亟待解决的问题。发明内容本发明目的是为了解决传统的对桥式逆变器调制方法为开环调制，使桥式逆变器在存在死区时其输出波形失真严重，且需额外增加传感器来对施加在桥式逆变器的开关管上的信号进行死区补偿，导致系统体积增加，同时还无法补偿开关暂态的问题。本发明提供了逆变器数字闭环调制方法。本发明通过数字闭环调制器在控制量、以及触发条件下触发生成初始PWM信号，并将初始PWM信号插入死区，生成带死区的PWM信号，从而对桥式逆变器相应桥臂上的开关管进行闭环控制。具体的，触发生成初始PWM信号可通过不同的调制方式实现，而在不同的调制方式下所对应需要的控制量的取值不同，进一步在控制量的取值不同的条件下，所对应的数字闭环调制器的内部结构不同。本发明具体方案如下：逆变器数字闭环调制方法，该方法包括如下步骤：S1、通过逆变器桥臂波形采集模块采集桥式逆变器任意一桥臂输出的电压波形，并对接收的电压波形转换为数字信号送至数字闭环调制器；同时，控制模块用于根据桥式逆变器交流侧输出的电压信号生成基于前沿调制、后沿调制或双沿调制方式下的控制量，并将控制量送至数字闭环调制器；S2、数字闭环调制器对接收到的数字信号的电平进行计数，当计数结果等于控制模块生成的控制量时，采用前沿调制、后沿调制或双沿调制的方式触发生成初始PWM信号后，使初始PWM信号经过死区，生成带死区的PWM信号；其中，当采用后沿调制时，对数字信号的高电平进行计数；当采用前沿调制时，对数字信号的低电平进行计数；当采用双沿调制时，对数字信号的高电平和低电平分时段计数；S3、利用带死区的PWM信号通过驱动器对桥式逆变器相应桥臂上的开关管进行闭环控制。优选的是，当采用后沿调制时，数字闭环调制器接收的控制量为NDref；其中，N为采样时钟与开关时钟的频率比，Dref为预设参考量，Dref取值范围为0至1；此时，数字闭环调制器包括1号计数器、1号比较器、1号RS触发器、1号死区发生器和1号二输入与门；1号二输入与门的一个正向输入端用于接收采样时钟，其另一个正向输入端用于接收数字信号；1号二输入与门的输出端与1号计数器的计数端连接，1号计数器的输出端与1号比较器的同相输入端连接；1号比较器的反相输入端用于接收控制量，1号比较器的输出端与1号RS触发器的复位端R连接，1号RS触发器的置位端S用于接收开关时钟，1号RS触发器的输出端Q与1号死区发生器的数据信号输入端连接；1号RS触发器的反向输出端与1号计数器的复位端连接；1号死区发生器的数据信号输入端接收1号RS触发器的输出端Q输出的初始PWM信号；1号死区发生器的输出端输出带死区的PWM信号。优选的是，当采用前沿调制时，数字闭环调制器接收的控制量为N ；其中，N为采样时钟与开关时钟的频率比，Dref为预设参考量，Dref取值范围为0至1；此时，数字闭环调制器包括2号计数器、2号比较器、2号RS触发器、2号死区发生器和2号二输入与门；2号二输入与门的正向输入端用于接收采样时钟，其反向输入端用于接收数字信号；2号二输入与门的输出端与2号计数器的计数端连接，2号计数器的输出端与2号比较器的同相输入端连接；2号比较器的反相输入端用于接收控制量，2号比较器的输出端与2号RS触发器的置位端S连接，2号RS触发器的复位端R用于接收开关时钟，2号RS触发器的反向输出端与2号死区发生器的数据信号输入端连接；2号RS触发器的输出端Q与2号计数器的复位端R连接；2号死区发生器的数据信号输入端接收2号RS触发器的反向输出端输出的初始PWM信号；2号死区发生器的输出端输出带死区的PWM信号。优选的是，当采用双沿调制时，数字闭环调制器接收的控制量由第一指令和第二指令构成，且第一指令的取值为0.5N，第二指令的取值为0.5NDref；其中，N为采样时钟与开关时钟的频率比，Dref为预设参考量，Dref取值范围为0至1；此时，数字闭环调制器包括两个3号计数器、两个3号比较器、两个3号RS触发器、一个3号死区发生器、两个3号二输入与门、两个三输入与门、一个非门和一个或门；一个三输入与门的第一正向输入端与一个3号RS触发器的复位端R、非门的输入端和一个3号二输入与门的一个正向输入端同时连接后，接收开关时钟；一个三输入与门的反向输入端与另一个三输入与门的第一正向输入端连接后，接收数字信号；一个三输入与门的第二正向输入端与另一个三输入与门的第二正向输入端连接后，接收采样时钟；一个三输入与门的输出端与一个3号计数器的计数端连接，一个3号计数器的输出端与一个3号比较器的同相输入端连接，一个3号比较器的输出端与一个3号RS触发器的置位端S连接；一个3号RS触发器的输出端Q与一个3号二输入与门的另一个正向输入端连接；一个3号二输入与门的输出端与或门的一个输入端连接；另一个三输入与门的第三正向输入端与非门的输出端、另一个3号RS触发器的置位端S另一个3号二输入与门的一个正向输入端同时连接；另一个三输入与门的输出端与另一个3号计数器的计数端连接，另一个3号计数器的输出端与另一个3号比较器的同相输入端连接，另一个3号比较器的输出端与另一个3号RS触发器的复位端R连接；另一个3号RS触发器的输出端Q与另一个3号二输入与门的另一个正向输入端连接；另一个3号二输入与门的输出端与或门的另一个输入端连接；或门的输出端与一个3号计数器的复位端R、另一个3号计数器的反向复位端R和3号死区发生器的数据输入端同时连接；3号死区发生器的数据输入端接收或门输出的初始PWM信号；3号死区发生器的输出端输出带死区的PWM信号；一个3号比较器的反相输入端，用于接收控制量中的第一指令；另一个3号比较器的反相输入端，用于接收控制量中的第二指令。优选的是，逆变器桥臂波形采集模块包括电阻R1至R4以及4号比较器；电阻R2的一端与桥式逆变器直流侧电源Vdc的正极性端连接，电阻R2的另一端与电阻R1的一端和4号比较器的反向输入端同时连接；电阻R4的一端与桥式逆变器的桥臂结点Vs连接，电阻R4的另一端与电阻R3的一端和4号比较器的同向输入端同时连接；电阻R1的另一端与电阻R3的另一端同时接桥式逆变器直流侧电源Vdc的电源地端；桥式逆变器的桥臂结点Vs与桥式逆变器直流侧电源Vdc的电源地端之间形成的电压波形，作为桥式逆变器桥臂输出的电压波形；4号比较器的输出端作为逆变器桥臂波形采集模块输出端输出的数字信号。优选的是，所述R4=R2-R1，R3=2R1。优选的是，1号死区发生器、2号死区发生器和3号死区发生器的内部结构均相同，其均包括M位移位寄存器和4号二输入与门；M位移位寄存器的数据输入端和4号二输入与门的一个输入端连接后，接收初始PWM信号；M位移位寄存器的时钟信号端用于接收采样时钟，M位移位寄存器的输出端与4号二输入与门的另一个输入端连接；其中，M为采样时钟与死区时间的乘积；4号二输入与门的输出端用于输出带死区的PWM信号。本发明带来的有益效果：1、本发明提供数字闭环调制器具有3种结构，3种结构应用时均是通过当计数器的计数值等于控制量时翻转输出，确保逆变桥臂输出波形的平均值能够跟踪预设参考量与桥式逆变器直流侧电源电压的乘积，从而生成带死区的PWM信号对桥式逆变器开关管驱动波形死区补偿，并且消除死区及开关管开关暂态的影响。2、本发明所提出的数字闭环调制方法无需额外的电流传感器，使得系统体积小、结构简单，并且数字闭环调制器可以很容易的被集成在可编程逻辑控制器或包含可编程逻辑单元的微处理器中，更进一步减小了系统的体积。3、本发明数字闭环调制器可以很容易的被集成在可编程逻辑控制器或包含可编程逻辑单元的微处理器中，具有成本低、易于集成和拓展死区补偿的效果，且无需控制算法介入，具备良好的灵活性和可集成性。4、本发明可对施加在桥式逆变器上的PWM信号进行闭环控制，使得桥式逆变器交流侧输出电压波形能够更好的跟踪控制量，获得更好的输出波形质量、波形失真率低、更精确的系统模型、更高的直流电压利用率。附图说明图1是本发明所述逆变器数字闭环调制方法的原理框图；图2为当采用后沿调制时，数字闭环调制器与逆变器桥臂波形采集模块间的连接关系图；图3为当采用前沿调制时，数字闭环调制器与逆变器桥臂波形采集模块间的连接关系图；图4为当采用双沿调制时，数字闭环调制器与逆变器桥臂波形采集模块间的连接关系图；图5为1号死区发生器、2号死区发生器或3号死区发生器的内部结构示意图；图6为单桥臂的桥式逆变器的结构简图；图7为增加数字隔离器后的逆变器数字闭环调制的原理框图；图8为采用传统PWM调制时的桥式逆变器交流侧输出的电压波形图；其中，v0为桥式逆变器交流侧输出的电压；图9为采用本发明的逆变器数字闭环调制方法后的桥式逆变器输出交流侧输出的电压波形图；其中，v0为桥式逆变器交流侧输出的电压；图10为采用传统PWM调制时，控制量与桥式逆变器的桥臂输出波形计数值的波形图；其中，t为时间，阴影部分表示桥臂输出的电压波形的计数值，粗实线表示控制量；图11为采用本发明所述的逆变器数字闭环调制方法时，控制量与桥式逆变器的桥臂输出波形计数值的波形图；其中，t为时间，阴影部分表示桥臂输出的电压波形的计数值，粗实线表示控制量。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明的是，在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。本发明基于同一套发明构思实现，具体为：控制模块用于根据桥式逆变器交流侧输出的电压信号生成控制量，同时，逆变器桥臂波形采集模块采集桥式逆变器任意一桥臂输出的电压波形，并将采集到的包含桥臂输出电压波形信息的数字信号送至数字闭环调制器，数字闭环调制器对接收到的数字信号的相应状态的电平进行计数，当计数结果等于控制模块生成的控制量时，触发生成初始PWM信号，并将初始PWM信号插入死区，生成带死区的PWM信号，从而对桥式逆变器相应桥臂上的开关管进行闭环控制。具体应用时，触发生成初始PWM信号可通过不同的调制方式实现，而在不同的调制方式下所对应需要的控制量的取值不同，进一步在控制量的取值不同的条件下，所对应的数字闭环调制器的内部结构不同；总体构思均为在控制量、以及触发条件下生成初始PWM信号，具体实现方式参见以下3个实施例。实施例1：参见图1和图2说明本实施例1，本实施例1所述的逆变器数字闭环调制方法，该方法包括如下步骤：S1、通过逆变器桥臂波形采集模块1采集桥式逆变器5任意一桥臂输出的电压波形，并对接收的电压波形转换为数字信号送至数字闭环调制器3；同时，控制模块2用于根据桥式逆变器5交流侧输出的电压信号生成基于后沿调制方式下的控制量，并将控制量送至数字闭环调制器3；S2、数字闭环调制器3对接收到的数字信号的高电平进行计数，当计数结果等于控制模块2生成的控制量时，采用后沿调制的方式触发生成初始PWM信号后，使初始PWM信号经过死区，生成带死区的PWM信号；S3、利用带死区的PWM信号通过驱动器4对桥式逆变器5相应桥臂上的开关管进行闭环控制。具体应用时，桥式逆变器5可为单桥臂桥式逆变器或多桥臂桥式逆变器，其中，单桥臂桥式逆变器，具体参见图6；当桥式逆变器5为多桥臂桥式逆变器，多个单桥臂并联连接，且每个单桥臂上包括两个开关管。控制模块2生成的控制量采用现有技术实现。当采用后沿调制时，数字闭环调制器3接收的控制量为NDref；其中，N为采样时钟与开关时钟的频率比，Dref为预设参考量，Dref取值范围为0至1。此时，数字闭环调制器3的第一种具体结构，参见图2；图2中，数字闭环调制器3包括1号计数器3-11、1号比较器3-12、1号RS触发器3-13、1号死区发生器3-14和1号二输入与门3-15；1号二输入与门3-15的一个正向输入端用于接收采样时钟，其另一个正向输入端用于接收数字信号；1号二输入与门3-15的输出端与1号计数器3-11的计数端连接，1号计数器3-11的输出端与1号比较器3-12的同相输入端连接；1号比较器3-12的反相输入端用于接收控制量，1号比较器3-12的输出端与1号RS触发器3-13的复位端R连接，1号RS触发器3-13的置位端S用于接收开关时钟，1号RS触发器3-13的输出端Q与1号死区发生器3-14的数据信号输入端连接；1号RS触发器3-13的反向输出端与1号计数器3-11的复位端R连接；1号死区发生器3-14的数据信号输入端接收1号RS触发器3-13的输出端Q输出的初始PWM信号；1号死区发生器3-14的输出端输出带死区的PWM信号。本实施例在具体应用时，后沿调制方式为：在开关周期的起始处令桥臂输出高电平，也即数字信号输出的电平为高电平，并通过1号计数器3-11对高电平进行计数，当计数结果与控制模块2输出的控制量相等时，触发生成了初始PWM信号，从而令桥臂输出变为低电平，也即数字信号输出的电平为低电平，具体为：当1号计数器3-11的计数结果等于控制量时，1号比较器3-12的输出端变为高电平，进而使得1号RS触发器3-13的输出端Q输出变为低电平，从而使1号计数器3-11的复位端R置为1，这样就触发生成了初始PWM信号。图2中，数字信号与采样时钟经过1号二输入与门3-15后，送入1号计数器3-11计数，在每个采样时钟的上升沿，若数字信号为高电平，则1号计数器3-11的计数值增加1，当1号计数器3-11的计数结果等于控制模块2生成的控制量时，1号比较器3-12输出高电平送给1号RS触发器3-13的复位端R，1号RS触发器3-13的复位端R接收到高电平，在高电平的上升沿处使1号RS触发器3-13的输出端Q的输出变为低电平，此时，复位1号计数器3-11的计数结果。开关时钟接在了1号RS触发器3-13的置位端S，在每个开关周期开始时，即开关时钟的上升沿处，1号RS触发器3-13的输出端Q的输出变为高电平。1号RS触发器3-13的输出端Q的输出经过1号死区发生器3-14后送到驱动器4驱动桥式逆变器5桥臂的开关管。以后沿调制为例，说明控制量的取值由来的过程为：逆变器桥臂波形采集模块1采集桥式逆变器5任意一桥臂输出的电压波形后转换为数字信号Vd，该数字信号Vd中包含桥式逆变器5的桥臂输出的电压波形信息，而根据冲量等效定理，桥臂输出电压波形Vs在开关周期Ts内的平均值等于预设参考量Dref与桥式逆变器5直流侧输入电源Vdc的乘积，即，进而理想情况下的预设参考量Dref可以表达为/＞，根据黎曼和与积分之间的关系，则积分可以表示为无数窄矩形面积的和，即/＞，因此理想情况下的预设参考量Dref可以表示为：公式1；根据这一原理，若利用数字时钟对采样到的数字信号Vd进行计数，计数值即为，选取N为采样时钟的频率与开关时钟的频率之比，则当计数结果/＞等于生成的控制量NDref时关断开关管，即可保证/＞，根据公式1也就可以令实际采样到的桥臂输出电压波形的平均值等于预设参考量Dref与输入电压Vdc的乘积，这也就消除了死区时间的影响。实施例2：参见图1和图3说明本实施例2，本实施例2所述的逆变器数字闭环调制方法，该方法包括如下步骤：S1、通过逆变器桥臂波形采集模块1采集桥式逆变器5任意一桥臂输出的电压波形，并对接收的电压波形转换为数字信号送至数字闭环调制器3；同时，控制模块2用于根据桥式逆变器5交流侧输出的电压信号生成基于前沿调制方式下的控制量，并将控制量送至数字闭环调制器3；S2、数字闭环调制器3对接收到的数字信号的低电平进行计数，当计数结果等于控制模块2生成的控制量时，采用前沿调制的方式触发生成初始PWM信号后，使初始PWM信号经过死区，生成带死区的PWM信号；S3、利用带死区的PWM信号通过驱动器4对桥式逆变器5相应桥臂上的开关管进行闭环控制。当采用前沿调制时，数字闭环调制器3接收的控制量为N ；其中，N为采样时钟与开关时钟的频率比，Dref为预设参考量，Dref取值范围为0至1。此时，数字闭环调制器3的具体结构，参见图3；图3中，数字闭环调制器3包括2号计数器3-21、2号比较器3-22、2号RS触发器3-23、2号死区发生器3-24和2号二输入与门3-25；2号二输入与门3-25的正向输入端用于接收采样时钟，其反向输入端用于接收数字信号；2号二输入与门3-25的输出端与2号计数器3-21的计数端连接，2号计数器3-21的输出端与2号比较器3-22的同相输入端连接；2号比较器3-22的反相输入端用于接收控制量，2号比较器3-22的输出端与2号RS触发器3-23的置位端S连接，2号RS触发器3-23的复位端R用于接收开关时钟，2号RS触发器3-23的反向输出端与2号死区发生器3-24的数据信号输入端连接；2号RS触发器3-23的输出端Q与2号计数器3-21的复位端R连接；2号死区发生器3-24的数据信号输入端接收2号RS触发器3-23的反向输出端输出的初始PWM信号；2号死区发生器3-24的输出端输出带死区的PWM信号。本实施例2中，与图2的后沿调制方式不同，图3的前沿调制方式在开关周期的起始处令桥臂输出低电平，也即数字信号输出的电平为低电平，并通过2号计数器3-21对低电平进行计数，当计数结果与控制量相等时，触发生成了初始PWM信号，从而令桥臂输出变为高电平，也即数字信号输出的电平为高电平。图3中，数字信号与采样时钟经过2号二输入与门3-25连接到2号计数器3-21的计数端，此时，2号二输入与门3-25的反向输入端对数字信号的当前电平取反向，也即：桥臂电压波形信息的逻辑取反向；图3中，数字信号与采样时钟经过2号二输入与门3-25后，送入2号计数器3-21计数，在每个采样时钟的上升沿，若逆变桥臂波形信息为低电平，也即数字信号输出的电平为低电平，则2号计数器3-21的计数值增加1，当2号计数器3-21的计数结果等于数字闭环调制器3所接收的控制量时，2号比较器3-22输出高电平送给2号RS触发器3-23的置位端S，2号RS触发器3-23的置位端S接收到高电平，在高电平的上升沿处使2号RS触发器3-23的输出端Q的输出电平变为高电平，此时，复位2号计数器3-21的计数值。开关时钟接在了2号RS触发器3-23的复位端R，在每个开关周期开始时，即开关时钟的上升沿处，2号RS触发器3-23的输出端Q的输出变为低电平。2号RS触发器3-23的反向输出端的输出经过2号死区发生器3-24后送到驱动器4驱动桥式逆变器5桥臂的开关管。实施例3：参见图1和图4说明本实施例3，本实施例3所述的逆变器数字闭环调制方法，该方法包括如下步骤：S1、通过逆变器桥臂波形采集模块1采集桥式逆变器5任意一桥臂输出的电压波形，并对接收的电压波形转换为数字信号送至数字闭环调制器3；同时，控制模块2用于根据桥式逆变器5交流侧输出的电压信号生成基于双沿调制方式下的控制量，并将控制量送至数字闭环调制器3；S2、数字闭环调制器3对接收到的数字信号的高电平或低电平进行计数，当计数结果等于控制模块2生成的控制量时，采用双沿调制的方式触发生成初始PWM信号后，使初始PWM信号经过死区，生成带死区的PWM信号；S3、利用带死区的PWM信号通过驱动器4对桥式逆变器5相应桥臂上的开关管进行闭环控制。当采用双沿调制时，数字闭环调制器3接收的控制量由第一指令和第二指令构成，且第一指令的取值为0.5N，第二指令的取值为0.5NDref ；其中，N为采样时钟与开关时钟的频率比，Dref为预设参考量，Dref取值范围为0至1。此时，数字闭环调制器3的具体结构，参见图4。图4中，数字闭环调制器3包括两个3号计数器3-31、两个3号比较器3-32、两个3号RS触发器3-33、一个3号死区发生器3-34、两个3号二输入与门3-35、两个三输入与门3-36、一个非门3-37和一个或门3-38；一个三输入与门3-36的第一正向输入端与一个3号RS触发器3-33的复位端R、非门3-37的输入端和一个3号二输入与门3-35的一个正向输入端同时连接后，接收开关时钟；一个三输入与门3-36的反向输入端与另一个三输入与门3-36的第一正向输入端连接后，接收数字信号；一个三输入与门3-36的第二正向输入端与另一个三输入与门3-36的第二正向输入端连接后，接收采样时钟；一个三输入与门3-36的输出端与一个3号计数器3-31的计数端连接，一个3号计数器3-31的输出端与一个3号比较器3-32的同相输入端连接，一个3号比较器3-32的输出端与一个3号RS触发器3-33的置位端S连接；一个3号RS触发器3-33的输出端Q与一个3号二输入与门3-35的另一个正向输入端连接；一个3号二输入与门3-35的输出端与或门3-38的一个输入端连接；另一个三输入与门3-36的第三正向输入端与非门3-37的输出端、另一个3号RS触发器3-33的置位端S和另一个3号二输入与门3-35的一个正向输入端同时连接；另一个三输入与门3-36的输出端与另一个3号计数器3-31的计数端连接，另一个3号计数器3-31的输出端与另一个3号比较器3-32的同相输入端连接，另一个3号比较器3-32的输出端与另一个3号RS触发器3-33的复位端R连接；另一个3号RS触发器3-33的输出端Q与另一个3号二输入与门3-35的另一个正向输入端连接；另一个3号二输入与门3-35的输出端与或门3-38的另一个输入端连接；或门3-38的输出端与一个3号计数器3-31的复位端R、另一个3号计数器3-31的反向复位端R和3号死区发生器3-34的数据输入端同时连接；3号死区发生器3-34的数据输入端接收或门3-38输出的初始PWM信号；3号死区发生器3-34的输出端输出带死区的PWM信号；一个3号比较器3-32的反相输入端，用于接收控制量中的第一指令；另一个3号比较器3-32的反相输入端，用于接收控制量中的第二指令。参见图4，本实施例3中，包含有桥臂输出电压波形信息的数字信号连接到两个部分，分别是一个三输入与门3-36和另一个三输入与门3-36。一个三输入与门3-36的第一正向输入端、反向输入端和第二正向输入端分别用于接收开关时钟、数字信号及采样时钟，其中，一个三输入与门3-36的反向输入端接收到数字信号后，对数字信号的当前电平取反向，也即：桥臂输出电压波形信息的逻辑取反向。本实施例在具体应用时，双沿调制方式为：在开关周期的起始处令桥臂输出低电平，也即数字信号输出的电平为低电平，并通过一个3号计数器3-31对低电平进行计数，当计数结果与控制模块2输出的第一指令相等时，令桥臂输出变为高电平，也即数字信号输出的电平为高电平。然后在开关周期一半处，通过另一个3号计数器3-31对高电平进行计数，当计数结果与控制模块2输出的第二指令相等时，令桥臂输出变为低电平，也即数字信号输出的电平为低电平，这样就触发生成了初始PWM信号。具体为：当一个3号计数器3-31的计数结果等于第一指令时，一个3号比较器3-32的输出高电平，进而使得一个3号RS触发器3-33的输出变为高电平，从而使一个3号计数器3-31的复位端R置为1。当另一个3号计数器3-31的计数结果等于第二指令时，另一个3号比较器3-32的输出变为高电平，进而使得另一个3号RS触发器3-33的输出端输出变为低电平，从而使另一个3号计数器3-31的反向复位端R置为1。这样就触发生成了初始PWM信号。图4中，在开关时钟的上升沿即开关周期的起始处，一个3号RS触发器3-33的复位端R被置为高电平，从而使得一个3号RS触发器3-33的输出端Q输出低电平，此时，一个3号计数器3-31开始在每个采样时钟对低电平计数，当一个3号计数器3-31的计数值达到第一指令时，一个3号比较器3-32输出高电平，一个3号RS触发器3-33的置位端S接收到高电平后使一个3号RS触发器3-33的输出端Q输出高电平，一个3号RS触发器3-33的输出端Q与开关时钟分别连接到一个3号二输入与门3-35的两个正向输入端，这使得一个3号RS触发器3-33的输出只在开关时钟的高电平时间内有效。同样的，开关时钟经过非门3-37生成开关时钟的反向逻辑，另一个三输入与门3-36的第一至第三正向输入端分别用于接收数字信号、采样时钟和开关时钟的反向逻辑。开关时钟经过非门3-37连接到另一个3号RS触发器3-33的置位端S，这使得在开关时钟的下升沿即开关周期的一半处，另一个3号RS触发器3-33的置位端S被置为高电平，从而使得另一个3号RS触发器3-33的输出端Q输出高电平，此时另一个3号计数器3-31开始在每个采样时钟对高电平计数，当另一个3号计数器3-31的计数结果达到第二指令时，另一个3号比较器3-32输出高电平，另一个3号RS触发器3-33的复位端R接收到高电平后使另一个3号RS触发器3-33的输出端Q输出低电平，另一个3号RS触发器3-33的输出端Q与开关时钟的反向信号连接到另一个3号二输入与门3-35的两个正向输入端，这使得另一个3号RS触发器3-33的输出只在开关时钟的低电平时间内有效。一个3号二输入与门3-35和另一个3号二输入与门3-35的输出连接到或门3-38的两个输入，一个3号计数器3-31的复位端用于直接接收或门3-38输出的信号，另一个3号计数器3-31的反向复位端用于对所接收的或门3-38输出的信号取反，当或门3-38输出高电平的上升沿时，令一个3号计数器3-31复位，或门3-38输出低电平的下降沿时，令另一个3号计数器3-31复位。或门3-38的输出经过3号死区发生器3-34生成带死区的PWM信号。以上3个实施例中，参见图2至图4，逆变器桥臂波形采集模块1包括电阻R1至R4以及4号比较器；电阻R2的一端与桥式逆变器5直流侧电源Vdc的正极性端连接，电阻R2的另一端与电阻R1的一端和4号比较器的反向输入端同时连接；电阻R4的一端与桥式逆变器5的桥臂结点Vs连接，电阻R4的另一端与电阻R3的一端和4号比较器的同向输入端同时连接；电阻R1的另一端与电阻R3的另一端同时接桥式逆变器5直流侧电源Vdc的电源地端；桥式逆变器5的桥臂结点Vs与桥式逆变器5直流侧电源Vdc的电源地端之间形成的电压波形，作为桥式逆变器5桥臂输出的电压波形；4号比较器的输出端作为逆变器桥臂波形采集模块1输出端输出的数字信号。更进一步的，所述R4=R2-R1，R3=2R1。图2至图4中，量化与采样环节使用逆变器桥臂波形采集模块1实现，逆变器桥臂波形采集模块1中通过两个电阻网络即：电阻R2和电阻R1构成一组网络，而电阻R3和电阻R4构成另一组网络采集桥式逆变器5的桥臂结点Vs与桥式逆变器5直流侧电源Vdc电源地之间形成的电压波形，将采样到的电压波形经过4号比较器后生成被计数的数字信号。其中，两个电阻网络中的电阻阻值间的关系R4=R2-R1，R3=2R1；保证了4号比较器的输出在桥式逆变器5桥臂输出的电压波的电压值在达到直流侧电源Vdc一半的时刻翻转，这保证了桥臂输出电压波形的采样与计数误差最小。以上3个实施例中，1号死区发生器3-14、2号死区发生器3-24和3号死区发生器3-34的内部结构均相同，其均包括M位移位寄存器和4号二输入与门；具体参见图5；M位移位寄存器的数据输入端和4号二输入与门的一个输入端连接后，接收初始PWM信号；M位移位寄存器的时钟信号端用于接收采样时钟，M位移位寄存器的输出端与4号二输入与门的另一个输入端连接；其中，M为采样时钟与死区时间的乘积；4号二输入与门的输出端用于输出带死区的PWM信号。具体应用时，死区时间的生成可以通过集成在数字闭环调制器3内部的数字电路实现，如图5所示的，图5中的初始PWM信号输入至M位移位寄存器，采样时钟为M位移位寄存器的时钟信号，在每个采样时钟的上升沿，M位移位寄存器将初始PWM信号，在内部寄存并移位一次，M位移位寄存器的输出和初始PWM信号连接到与4号二输入与门的输入端，经过逻辑与的运算后，4号二输入与门的输出即为带死区的PWM信号，即补偿过的PWM。以上3个实施例中，具体应用时，根据实际需要，当需满足隔离需求时，可在步骤S1和步骤S3中各引入数字隔离器6，参见图7，具体的：在步骤S1中引入一个数字隔离器6后，该数字隔离器6用于对逆变桥臂波形采集模块1输出的数字信号进行隔离后，作为数字闭环调制器3的输入；在步骤S3中引入另一个数字隔离器6后，该数字隔离器6用于对步骤S2中生成的带死区的PWM信号进行数字隔离后，对驱动器4进行驱动。本发明所述的数字闭环调制器3可以很容易的被集成在可编程逻辑控制器或包含可编程逻辑单元的微处理器中，无需软件进行计算，也无需额外的电压或电流传感器。与传统生成PWM信号的方式不同，本发明所提的逆变器数字闭环调制方法生成PWM信号的方式为：令计数结果等于控制量从而生成PWM信号。验证试验：在同一试验条件下，通过图8至图11来验证本发明所述的逆变器数字闭环调制方法的技术效果，具体为：图8为采用传统PWM调制时的桥式逆变器交流侧输出的电压波形，该输出电压波形频率为1kHz，对应的总谐波失真THD为4.8%，输出电压有效值为114.6V。图9是采用本发明的逆变器数字闭环调制方法后的桥式逆变器输出交流侧输出的电压波形，该输出电压波形频率为1kHz，对应的总谐波失真THD为1.9%，输出电压有效值为129.2V。综上，对比图8和图9中桥式逆变器输出交流侧输出的电压波形所对应的总谐波失真THD和电压有效值，结果表明，采用本发明的数字闭环调制方法后，可以大大降低由死区时间及开关暂态所引起的谐波失真，显著提高了输出波形质量，同时提高了输出电压的幅值。图10为采用传统PWM调制时，在当前控制量下桥式逆变器的桥臂输出的电压波形，从图10中可以看出当采用传统PWM调制时，桥臂输出的电压波形的计数值偏离控制量，使得输出波形存在失真。图11为采用本发明所述的逆变器数字闭环调制方法时，在当前控制量下桥式逆变器的桥臂输出的电压波形，从图11中，可以看出当采用本发明方法时，桥臂输出的电压波形的计数值完全跟踪控制量，消除了死区时间的影响。虽然在本文中参照了特定的实施方式来描述本发明，但是应该理解的是，这些实施例仅仅是本发明的原理和应用的示例。因此应该理解的是，可以对示例性的实施例进行许多修改，并且可以设计出其他的布置，只要不偏离所附权利要求所限定的本发明的精神和范围。应该理解的是，可以通过不同于原始权利要求所描述的方式来结合不同的从属权利要求和本文中所述的特征。还可以理解的是，结合单独实施例所描述的特征可以使用在其他所述实施例中。
