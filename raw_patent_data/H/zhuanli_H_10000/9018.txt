标题title
通信控制方法、通信系统、电子设备和可读存储介质
摘要abst
本发明提供一种通信控制方法、通信系统、电子设备和可读存储介质。通信控制方法，应用于通信系统，所述通信系统包括通信网关和终端设备，每一所述终端设备与至少一个通信网关通信连接，所述方法包括以下步骤：所述通信网关向所述终端设备发送时间同步信息；所述终端设备根据所述时间同步信息进行时间同步并确定与所述终端设备对应的唤醒时间片；所述终端设备在所述唤醒时间片唤醒以监听所述通信网关发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。在本发明实施例，能够减少终端设备的待机时间，能够减低终端设备的功耗，提高对于终端设备的管理效果。
权利要求书clms
1.一种通信控制方法，其特征在于，应用于通信系统，所述通信系统包括通信网关和终端设备，每一所述终端设备与至少一个通信网关通信连接，所述方法包括以下步骤：所述通信网关向所述终端设备发送时间同步信息；所述终端设备根据所述时间同步信息进行时间同步并确定与所述终端设备对应的唤醒时间片；所述终端设备在所述唤醒时间片唤醒以监听所述通信网关发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。2.根据权利要求1所述的方法，其中，所述通信系统还包括服务器，所述服务器与所述通信网关通信连接；所述通信网关向所述终端设备发送时间同步信息之前，所述方法还包括：所述通信网关向所述服务器发送与所述通信网关通信连接的终端设备的设备信息；所述服务器向各所述通信网关发送全局终端信息，其中，所述全局终端信息是所述服务器统计所述设备信息生成的。3.根据权利要求2所述的方法，其特征在于，所述全局终端信息还包括对于所述终端设备进行分组的分组信息，位于不同分组的终端设备对应的唤醒时间片不同，位于同一分组的终端设备对应同一唤醒时间片。4.根据权利要求3所述的方法，其特征在于，每一终端设备包括唯一对应的终端编号，所述终端设备所在的分组是根据所述终端编号确定的。5.根据权利要求3所述的方法，其中，所述终端设备在所述唤醒时间片唤醒以监听所述通信网关发送的通信数据，包括：所述通信网关中的第一通信网关在第一时间片向第一终端设备发送第一通信数据，其中，所述第一通信数据是针对与所述第一通信网关对应的至少一个终端设备中的第一终端设备的，所述第一时间片为所述第一终端设备对应的唤醒时间片；第一分组中的各所述终端设备在所述第一时间片唤醒，其中，所述第一分组为所述第一终端设备所在的分组，所述第一终端设备根据所述第一通信数据携带的识别信息接收所述第一通信数据，所述第一分组中除所述第一终端设备之外的终端设备根据所述第一通信数据携带的识别信息进入休眠状态。6.根据权利要求2至5中任一项所述的方法，其特征在于，所述全局终端信息包括所述终端设备的注册状态；所述方法还包括：所述通信网关向所述终端设备发送注册控制指令；所述终端设备根据接收到的所述注册控制指令返回应答指令；所述通信网关根据所述应答指令更新的所述终端设备的注册状态并发送至所述服务器；所述服务器向各所述通信网关同步各所述终端设备的注册状态。7.根据权利要求2至5中任一项所述的方法，其中，所述方法还包括：第二通信网关将与第二终端设备对应的第二通信数据按照所述第二终端设备所在的分组保存至相应的发送序列，其中，所述第二通信网关为与所述第二终端设备对应的通信网关；在所述第二终端设备对应的第二时间片，判定所述第二通信数据中尚未传输的数据量是否小于预设数据量阈值；若尚未传输的数据量小于预设数据量阈值，则将所述发送序列中位于所述第二通信数据下一序列的第三通信数据对应的第三时间片是否为所述第二时间片的下一时间；若所述第三时间片为所述第二时间片的下一时间片，则在所述第二时间片之后的连续多个时间片向所述第二终端设备发送尚未传输的所述第二通信数据，其中，在所述连续多个时间片，所述第三终端设备处于唤醒状态以预下载所述第三通信数据；在所述第二通信数据发送完成的情况下，将已经预下载的所述第三通信数据恢复至所述发送序列。8.一种通信控制方法，其特征在于，应用于通信系统中的通信网关，所述通信系统包括通信网关和终端设备，每一所述终端设备与至少一个通信网关通信连接，所述方法包括以下步骤：向所述终端设备发送时间同步信息，以供所述终端设备根据所述时间同步信息进行时间同步并确定唤醒时间片；在所述终端设备对应的唤醒时间片向所述终端设备发送通信数据。9.一种通信控制方法，其特征在于，应用于通信系统中的终端设备，所述通信系统包括通信网关和终端设备，每一所述终端设备与至少一个通信网关通信连接，所述方法包括以下步骤：接收所述通信网关发送的时间同步信息；根据所述时间同步信息进行时间同步并确定对应的唤醒时间片；所述唤醒时间片唤醒以监听所述通信网关发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。10.一种通信系统，其特征在于，包括通信网关和终端设备，每一所述终端设备与至少一个通信网关通信连接，所述方法包括以下步骤：所述通信网关配置为：向所述终端设备发送时间同步信息；所述终端设备配置为：根据所述时间同步信息进行时间同步并确定与所述终端设备对应的唤醒时间片；在所述唤醒时间片唤醒以监听所述通信网关发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。11.一种电子设备，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的程序；其特征在于，所述处理器，用于读取存储器中的程序实现如权利要求1至9中任一项所述的通信控制方法中的步骤。12.一种可读存储介质，用于存储程序，其特征在于，所述程序被处理器执行时实现如权利要求1至9中任一项所述的通信控制方法中的步骤。
说明书desc
技术领域本发明实施例涉及通信技术领域，尤其涉及一种通信控制方法、通信系统、电子设备和可读存储介质。背景技术在当前WACS中，对WTE的功耗有严格要求，因此WTE一般采用睡眠-正常的工作模式，这种工作模式使WG与WTE之间必须采用异步通信。异步通信是指通信中两个字符之间的时间间隔不固定的通信模式，这导致对于通信系统中终端设备的管理和通信效果较差。发明内容本发明实施例提供一种通信控制方法、装置、电子设备和可读存储介质，以解决对于终端设备的管理和通信效果较差的问题。为解决上述问题，本发明是这样实现的：第一方面，本发明实施例提供了一种通信控制方法，应用于通信系统，所述通信系统包括通信网关和终端设备，每一所述终端设备与至少一个通信网关通信连接，所述方法包括以下步骤：所述通信网关向所述终端设备发送时间同步信息；所述终端设备根据所述时间同步信息进行时间同步并确定与所述终端设备对应的唤醒时间片；所述终端设备在所述唤醒时间片唤醒以监听所述通信网关发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。在一些实施例中，所述通信系统还包括服务器，所述服务器与所述通信网关通信连接；所述通信网关向所述终端设备发送时间同步信息之前，所述方法还包括：所述通信网关向所述服务器发送与所述通信网关通信连接的终端设备的设备信息；所述服务器向各所述通信网关发送全局终端信息，其中，所述全局终端信息是所述服务器统计所述设备信息生成的。在一些实施例中，所述全局终端信息还包括对于所述终端设备进行分组的分组信息，位于不同分组的终端设备对应的唤醒时间片不同，位于同一分组的终端设备对应同一唤醒时间片。在一些实施例中，每一终端设备包括唯一对应的终端编号，所述终端设备所在的分组是根据所述终端编号确定的。在一些实施例中，所述终端设备在所述唤醒时间片唤醒以监听所述通信网关发送的通信数据，包括：所述通信网关中的第一通信网关在第一时间片向第一终端设备发送第一通信数据，其中，所述第一通信数据是针对与所述第一通信网关对应的至少一个终端设备中的第一终端设备的，所述第一时间片为所述第一终端设备对应的唤醒时间片；第一分组中的各所述终端设备在所述第一时间片唤醒，其中，所述第一分组为所述第一终端设备所在的分组，所述第一终端设备根据所述第一通信数据携带的识别信息接收所述第一通信数据，所述第一分组中除所述第一终端设备之外的终端设备根据所述第一通信数据携带的识别信息进入休眠状态。在一些实施例中，所述全局终端信息包括所述终端设备的注册状态；所述方法还包括：所述通信网关向所述终端设备发送注册控制指令；所述终端设备根据接收到的所述注册控制指令返回应答指令；所述通信网关根据所述应答指令更新的所述终端设备的注册状态并发送至所述服务器；所述服务器向各所述通信网关同步各所述终端设备的注册状态。在一些实施例中，所述方法还包括：第二通信网关将与第二终端设备对应的第二通信数据按照所述第二终端设备所在的分组保存至相应的发送序列，其中，所述第二通信网关为与所述第二终端设备对应的通信网关；在所述第二终端设备对应的第二时间片，判定所述第二通信数据中尚未传输的数据量是否小于预设数据量阈值；若尚未传输的数据量小于预设数据量阈值，则将所述发送序列中位于所述第二通信数据下一序列的第三通信数据对应的第三时间片是否为所述第二时间片的下一时间；若所述第三时间片为所述第二时间片的下一时间片，则在所述第二时间片之后的连续多个时间片向所述第二终端设备发送尚未传输的所述第二通信数据，其中，在所述连续多个时间片，所述第三终端设备处于唤醒状态以预下载所述第三通信数据；在所述第二通信数据发送完成的情况下，将已经预下载的所述第三通信数据恢复至所述发送序列。第二方面，本发明实施例还提供一种通信控制方法，应用于通信系统中的通信网关，所述通信系统包括通信网关和终端设备，每一所述终端设备与至少一个通信网关通信连接，所述方法包括以下步骤：向所述终端设备发送时间同步信息，以供所述终端设备根据所述时间同步信息进行时间同步并确定唤醒时间片；在所述终端设备对应的唤醒时间片向所述终端设备发送通信数据。第三方面，本发明实施例还提供一种通信控制方法，应用于通信系统中的终端设备，所述通信系统包括通信网关和终端设备，每一所述终端设备与至少一个通信网关通信连接，所述方法包括以下步骤：接收所述通信网关发送的时间同步信息；根据所述时间同步信息进行时间同步并确定对应的唤醒时间片；所述唤醒时间片唤醒以监听所述通信网关发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。第四方面，本发明实施例还提供一种通信系统，包括通信网关和终端设备，每一所述终端设备与至少一个通信网关通信连接，所述方法包括以下步骤：所述通信网关配置为：向所述终端设备发送时间同步信息；所述终端设备配置为：根据所述时间同步信息进行时间同步并确定与所述终端设备对应的唤醒时间片；在所述唤醒时间片唤醒以监听所述通信网关发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。第五方面，本发明实施例还提供一种电子设备，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的程序；所述处理器，用于读取存储器中的程序实现如前述任一项所述方法中的步骤。第六方面，本发明实施例还提供一种可读存储介质，用于存储程序，所述程序被处理器执行时实现如前述任一项所述方法中的步骤。在本发明实施例，通过确定终端设备的唤醒时间片，并控制终端设备在唤醒时间片唤醒以监听所述通信网关发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态，与现有技术相比，不需和现有技术一样控制终端设备增加额外的唤醒时间，能够减少终端设备的待机时间，能够减低终端设备的功耗，提高对于终端设备的管理效果。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例中通信控制方法的应用场景示意图；图2是本发明实施例提供的通信控制方法的流程示意图；图3是本发明实施例提供的通信控制方法的一控制时序示意图；图4是本发明实施例提供的通信控制方法的又一控制时序示意图图5是本发明实施例提供的通信控制方法的又一流程示意图；图6是本发明实施提供的电子设备的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明实施例中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。此外，本申请中使用“和/或”表示所连接对象的至少其中之一，例如A和/或B和/或C，表示包含单独A，单独B，单独C，以及A和B都存在， B和C都存在，A和C都存在，以及A、B和C都存在的7种情况。本发明实施例提供了一种通信控制方法。该通信控制方法应用于通信系统，如图1所示，在一个实施例中，通信系统包括服务器101、通信网关102和终端设备103，服务器101 与一个或多个WG102通信连接，每一WTE103与至少一个WG102通信连接，也就是说，每一WTE103可以同时与一个或多个WG102通信连接。服务器101 与WG102之间可以选择有线通信或无线通信方式，而WG102和WTE103之间通常采用无线通信方式。本实施例的技术方案可以应用于异步通信系统，即WG和WTE之间可以采用异步通信连接，示例性的，商超、库房中的货架管理技术中，可以采用标签或价签作为重点设备，与设置在场地中的WG通信连接，以实现对于货物或商品的管理。下面对本实施例中的通信控制方法做进一步说明。本实施例中，需要统计WTE的信息，以便于服务器对WTE进行管理，统计WTE的信息的步骤具体包括：S1：所述WG向所述服务器发送与所述WG通信连接的WTE的设备信息。本实施例中，WTE在WG覆盖的通信范围之内时，可以自动或由工作人员手动操作建立与WG的通信连接。示例性的，WG可以发送广播信号，WTE可以在监听到广播信号时，建立与WG的通信连接，又如，WTE和WG上均设置有配对按键，当同时按下 WTE和WG上的配对按键时，两者建立通信连接。显然，WTE和WG建立通信连接的步骤并不局限于此。WTE在和WG建立通信连接之后，WG将与自身建立通信连接的WTE 的设备信息发送至服务器。需要理解的是，每一WTE可以同时与多个WG建立通信连接，而每一 WG也可以同时连接多个WTE。因此，每一WTE可能被多次统计，为了提高对于WTE统计的准确性，可以为每一WTE提供唯一的设备编号，设备信息中可以携带相应的设备ID，该设备ID作为每一WTE的唯一身份标识，也可以作为管理WTE的管理编号或WTE向WG注册的注册码等。S2：所述服务器向各所述WG发送全局终端信息。其中，所述全局终端信息是所述服务器统计所述设备信息生成的。服务器在获得了各WG发送的设备信息之后，统计全部的设备信息，生成包括全部WTE的设备信息的全局终端信息，然后将所生成的全局终端信息下发至WG，以通过WG对全局终端信息进行管理。需要理解的是，上述步骤是可选的，实施时，还可以通过其他方式统计 WTE的信息，示例性的，可以根据选用的WTE的信息建立WTE的列表，然后将该列表导入服务器和WG，或者将该列表导入服务器，然后通过服务器下发至WG。实施时，可以根据需要选择统计WTE信息的方式，此处不做进一步限定。需要理解的是，WTE的数量可能很多，以应用于库房中为例，货品标签的数量能为数万甚至更多，在一些实施例中，为了提高对于WTE的管理效率，对WTE进行分组管理。在一个实施例中，可以按照设备ID进行管理，具体的，设备ID均为数字、字母等字符，也可以为数字和字母等字符的组合。本实施例中根据设备ID最后两位的数字对设备进行分组，例如，将所有设备ID尾号为01的WTE作为一个分组，将所有设备ID尾号为43的WTE作为一个分组。在一个实施例中，全局终端信息还包括对于WTE进行分组的分组信息，位于不同分组的WTE对应的唤醒时间片不同，位于同一分组的WTE对应同一唤醒时间片。为了进一步提高对于WTE的管理效率，设备ID采用16进制，这样，能够进一步提高分组数量，提高分组管理效果，示例性的，设备ID最后两位取值范围是0x00～0xfe，最后两位相同所有WTE为同一分组。在一些实施例中，如图2所示，统计WTE的信息之后，该方法还包括：S3：所述WG向所述WTE发送时间同步信息。WG在获取了全局终端信息之后，在特定的通信通道上发送时间同步信息，该时间同步信息用于实现WTE、WG和服务器之间的时间同步控制。在一个示例性的实施例中，每一帧时间同步信息的帧结构及其数据字节 长度可以如表1所示。表1：时间同步信息格式本实施例汇总，起始字符和结束字符均是固定的，用于表示每一帧时间同步信息的开始和结束，通讯协议版本字段是根据所选用通讯协议确定，也是预先约定好的。帧类型用于表示该帧时间同步信息，具体可以包括“点对点”类型或“广播”类型。源地址是发送设备的ID，具体为WG的ID。目的地址是接收设备的ID，如果是广播帧信息，那么没有固定的目的地，可以设置为默认的地址，例如可以设置为0xffffffff，所有的WTE均会接收该广播帧信息，如果是点对点帧信息，则是唯一的接收设备的ID。命令字可以包括“控制”、“发送数据”、“请求”、“确认”、“否认”等，这些命令根据需要由WG或者WTE装填到命令字段。应用数据长度根据具体应用确定。校验和为校验信息。上述WG发送的“时间同步帧”的帧类型是“广播”，命令字是“控制”，具体应用是时间同步。需要理解的是，上述时间同步信息的帧结构仅做示例性说明，其结构并不局限于此，实施时，可以根据需要做出调整或修改。本实施例中，时间同步信息可以连续发送一定时长，示例性的，本实施例中根据16进制的设备ID的后两位将设备分为256组，每一组对应的时间片的长度为10ms，则可以连续发送2*256*10ms，即共计5120毫秒，这里， 2指的是重复发送两遍，以确保信息发送成功。在另外一些实施例中，还可以预留一些WTE，示例性的，时间同步信息连续发送2*255*10ms，本实施例中，将WTE分为256组之后，预留一组WTE 作为备用，而仅向其中255组发送数据。在另外一些实施例中，时间同步信息连续发送2*257*10ms，本实施例中，预留了10ms的时间片，也就是存在一个备用的时间片，该时间片也作为备用，后续可以根据需要调整发送数据。显然，上述时间片的长度、重复发送的遍数等均可以做出调整，此处不做进一步限定。S4：所述WTE根据所述时间同步信息进行时间同步并确定与所述WTE 对应的唤醒时间片。WTE中内置了相应的分组规则，WTE可以根据自身的设备ID确认自身所在的分组，在接收到时间同步信息后，根据该时间同步信息对时间进行同步，实现WTE本地时间的校准，与WG和服务器中的时间实现同步。需要理解的是，每一WTE可能与多个WG通信连接，也就是说，可能接收到多个WG发送的时间同步信息，此时，可以选择信号最强的WG作为同步对象，也可以选择负载相对较低的WG作为时间同步对象，例如，限定每一WG能够连接N个WTE，N为正整数，则每一WTE可以按照信号强度由强到弱依次确定各WG连接的WTE的数量，如果一个WG已连接的WTE的数量大于或等于N，则与另外的WG进行通信，直到检测到一个WG已连接的WTE的数量小于N，则与该WG进行时间同步。进一步的，各WTE按照自身所在的分组，能够确定本WTE所在的分组对应的唤醒时间片。S5：所述WTE在所述唤醒时间片唤醒以监听所述WG发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。本实施中，WTE以组为单位与WG进行通信，如图3所示，本实施例中，以两个分组WTE Group1和WTE Group2做示例性说明。当时间来到WTE Group1对应的唤醒时间片时，WTE Group2以及其他的 WTE分组均处于深度的休眠状态，以降低能耗。当时间来到WTE Group1对应的唤醒时间片时，WTE Group1中的各WTE 唤醒，然后监听来自WG的数据。WG在时间来到WTE Group1对应的唤醒时间片后，经过短暂的延迟等待 WTEGroup1中的各WTE唤醒，然后根据需要向WTE Group1中的部分或全部WTE发送数据，这一时间段，WTE Group1中的各WTE保持数据监听状态。接下来，WG进入监听状态，WTE Group1中的各WTE根据监听到的通信数据确定是否需要自身做出响应，如果需要作出响应，则向WG回复数据或执行相应的操作，此时，处于监听状态的WG能够监听WTE Group1中的各WTE回复的数据，如果不需要WTE Group1中某一WTE做出响应，则该 WTE进入深度休眠状态。接下来，时间来到WTE Group2对应的唤醒时间片时，WTE Group1以及其他的WTE分组均处于深度的休眠状态，以降低能耗。WG在时间来到WTE Group2对应的唤醒时间片后，经过短暂的延迟等待 WTEGroup2中的各WTE唤醒，然后根据需要向WTE Group2中的部分或全部WTE发送数据，这一时间段，WTE Group2中的各WTE保持数据监听状态。接下来，WG进入监听状态，WTE Group2中的各WTE根据监听到的通信数据确定是否需要自身做出响应，如果需要作出响应，则向WG回复数据或执行相应的操作，此时，处于监听状态的WG能够监听WTE Group2中的各WTE回复的数据，如果不需要WTE Group2中某一WTE做出响应，则该 WTE进入深度休眠状态，依次类推。需要理解的是，实施时，可能需要向全部WTE发送通信数据，也可能仅向特定的部分WTE发送通信数据。在一个实施例中，当仅需要向部分WTE 发送数据时，该步骤S5包括：所述WG中的第一WG在第一时间片向第一WTE发送第一通信数据，其中，所述第一通信数据是针对与所述第一WG对应的至少一个WTE中的第一 WTE的，所述第一时间片为所述第一WTE对应的唤醒时间片；第一分组中的各所述WTE在所述第一时间片唤醒，其中，所述第一分组为所述第一WTE所在的分组，所述第一WTE根据所述第一通信数据携带的识别信息接收所述第一通信数据，所述第一分组中除所述第一WTE之外的 WTE根据所述第一通信数据携带的识别信息进入休眠状态。本实施例中，针对WTE中的第一WTE发送第一通信数据。请同时参阅图3和图4，以WTE为第五组中的3号WTE 和4号WTE做示例性说明，本实施例中，需要向 WTE#5-3发送第一通信数据，即第一WTE为WTE#5-3。当时间来到WTE Group5所属的唤醒时间片时，WTE Group5中的所有 WTE从深度休眠中唤醒并开始监听数据，WG在一定延迟后，发送第一通信数据。本实施例中WG向WTE#5-3发送的第一数据，帧类型是“点对点”，目的地址是WTE#5-3的ID，命令是“发送数据”。当WTEGroup5中的其他 WTE在接收过程中发现“目的地址”的值与自己的ID不匹配时，不需要再接收后续的数据，示例性的，WTE#5-4不再接收后续的数据，直接进入深度休眠模式，以节省功耗。如图4所示，需要注意的是，如果时间进入其他唤醒时间片，则WTE#5-3 可以进入休眠状态，也可以根据需要或设定继续保存监听和数据传输。上述过程中，第六组中的各WTE，例如WTE Group6中的2号WTE保存休眠状态。当时间来到WTE Group6对应的唤醒时间片时，WTE Group6中的各WTE，例如WTE#6-2，唤醒以监听数据。在一些实施例中，所述全局终端信息包括所述WTE的注册状态；所述方法还包括：所述WG向所述WTE发送注册控制指令；所述WTE根据接收到的所述注册控制指令返回应答指令；所述WG根据所述应答指令更新的所述WTE的注册状态并发送至所述服务器；所述服务器向各所述WG同步各所述WTE的注册状态。在一个示例性的实施例中，在上述S5步骤中，对WTE进行“点名”操作，以完成WTE的注册。具体的，服务器下发至WG的全局终端信息包括各WTE的注册状态，本实施例中建立了一个包括全部WTE的“待注册WTE列表”以统计各WTE的注册状态，WG根据“待注册WTE列表”发送“点名”命令，被点名的WTE 收到命令后发送应答数据，WG收到后将该WTE标记为已注册，然后更新保存在自身的“待注册WTE列表”中WTE的注册状态，具体可以是标记WTE 的状态为已注册，也可以是将该WTE从“待注册WTE列表”中移除。WG同时将更新后的注册状态发送至服务器，服务器将该注册状态同步至其他WG。这样，服务器和WG中能够同步全部WTE的注册状态。实施时，可以重复执行上述步骤S5或重复执行上述步骤S3至S5，直至全部WTE完成注册，也可以重复执行上述步骤S5或重复执行上述步骤S3至 S5，如果某一WTE始终无法注册成功，则发出提示信息。在一些实施例中，所述方法还包括：第二WG将与第二WTE对应的第二通信数据按照所述第二WTE所在的分组保存至相应的发送序列，其中，所述第二WG为与所述第二WTE对应的 WG；在所述第二WTE对应的第二时间片，判定所述第二通信数据中尚未传输的数据量是否小于预设数据量阈值；若尚未传输的数据量小于预设数据量阈值，则将所述发送序列中位于所述第二通信数据下一序列的第三通信数据对应的第三时间片是否为所述第二时间片的下一时间；若所述第三时间片为所述第二时间片的下一时间片，则所述第二WG在所述第二时间片之后的连续多个时间片向所述第二WTE发送尚未传输的所述第二通信数据，其中，在所述连续多个时间片，所述第三终端设备处于唤醒状态以预下载所述第三通信数据；在所述第二通信数据发送完成的情况下，将已经预下载的所述第三通信数据恢复至所述发送序列。如图5所示，本实施例中，当需要向多个WTE下发通信数据时，服务器先将需要下发的通信数据发送至WTE对应的WG，各WG将下发至自身的通信数据保存到时间序列中。示例性的，第二WTE和第三WTE均与第二WG通信连接，且与该第二 WG相对应，则服务器将需要向第二WTE下发的第二通信数据和需要向第三 WTE下发的第三通信数据下发至第二WG，第二WG将第二通信数据和第三通信数据保存在发送序列中。需要理解的是，如果第二WTE和第三WTE位于同一WTE分组，则依次进行第二通信数据和第三通信数据的发送。当第二WTE和第三WTE位于不同WTE分组时，确定发送序列中需要发送的数据。本实施例中，在每一第二时间片发送一帧第二通信数据，具体的，如果第二WG正在执行发送第二通信数据的任务，则继续发送该发送第二通信数据的下一帧数据，如果不存在正在执行的发送任务，则发送第二通信数据中的第一帧数据。在发送一帧第二通信数据后，等待第二WTE接收第二通信数据进行校验，并返回应答信息。根据应答信息，第二WG确定第二通信数据尚未传输的数据量是否小于预设数据量阈值，示例性的，在一个实施例中，当第二通信数据尚未传输的数据为三帧或三帧以下时，认为第二通信数据尚未传输的数据量小于预设数据量阈值，显然，该预设数据量阈值可以根据需要设定为不同的数值。在进入下一个时间片前，第二WG会判断发送队列中的待发送数据是否属于将要唤醒的WTE，也就是说，判定需要向第三WTE发送的第三通信数据是否是即将唤醒的WTE，换句话说，也就是判定第三WTE对应的第三时间片是否是第二时间片的下一个时间片。如果不是，则继续参照上述过程进行第二通信数据剩余数据的传输。如果是，那么进入第三时间片后，第三WTE唤醒，第二WG会暂停当前第二通信数据的发送，第二WG发送第一帧数据给第三WTE，以控制第三 WTE处于预发送状态，使得第三WTE在接下来的几个时间片保持唤醒，不进入休眠状态。示例性的，本实施例中，可以将第三通信数据置为预发送状态。具体的，如果第三WTE对应的第三时间片是第二时间片的下一个时间片，可以检测是否存在预发送标志，如果不是预发送状态，则添加预发送标志以将其标记为预发送状态。第三WTE收到第二WG发送的第一帧数据后，会进行校验、回复应答并保持五个时间片的数据接收状态，第二WTE。在这个时间片内的，第三WG继续刚刚中断了的发送任务，继续向第二 WTE发送剩余的第二通信数据。当第二通信数据的最后一帧发送完成时，将标记为预发送状态的第三WTE对应的第三通信数据恢复至发送序列，具体的，可以解除其到预发送状态，以继续发送第三通信数据。需要注意的是，上述连续多个时间片的具体数量是根据上述预设数据量阈值确定的，具体的，其中三个时间片用于传输剩余的第二通信数据，一个时间片用于控制第三通信数据处于预发送状态，至少一个时间片用于恢复第三通信数据的发送状态，也就是说，保持的时间片数量为第二通信数据的剩余数据量对应的时间片与任务恢复、任务暂停所需时间片之和，这里，任务恢复所需时间片可以是一个时间片，任务暂停所需时间片可以是一个时间片，也可以根据需要设置为其他数量。以预设数据量阈值为四做示例性说明，则第二通信数据剩余三帧数据时，下一时间片对应第三WTE所在的WTE组的第三时间片，则在进入第三时间片时，第二WG中断第二通信数据的剩余三帧数据的发送，并向第三WTE发送唤醒信号，控制第三WTE保持唤醒状态，此时，第二WTE也保持唤醒状态。在接下来的三个时间片，第二WG继续刚才暂停的任务，向第二WTE发送剩余的三帧数据。第三WTE在这三个时间片保持唤醒状态。在下一个时间片，第二通信数据的数据传输任务已经完成，第二WTE进入休眠状态。第二WG将第三通信数据恢复至发送序列并开始第三通信数据的发送，第三WTE保持唤醒状态至第三通信数据传输完成。在一些实施例中，考虑到可能存在外在因素干扰通信质量，如果某个WTE 在上述联系多个时间片内收到的数据校验错误或者未收到数据，则进入深度睡眠，然后在自己所属的唤醒时间片唤醒，准备接收后续的数据。相对于相关技术中，需要等待下一唤醒循环才能够开始第三通信数据的传输，本实施例的技术方案能够在第二WTE对应的第二通信数据下载结束阶段控制即将执行下载的第三WTE对应的第三通信数据进行预下载操作，能够提高数据传输速度。本发明实施例还提供一种通信控制方法，应用于通信系统中的WG，所述通信系统包括WG和WTE，每一所述WTE与至少一个WG通信连接，所述方法包括以下步骤：向所述WTE发送时间同步信息，以供所述WTE根据所述时间同步信息进行时间同步并确定唤醒时间片；在所述WTE对应的唤醒时间片向所述WTE发送通信数据。本发明实施例还提供一种通信控制方法，应用于通信系统中的WTE，所述通信系统包括WG和WTE，每一所述WTE与至少一个WG通信连接，所述方法包括以下步骤：接收所述WG发送的时间同步信息；根据所述时间同步信息进行时间同步并确定对应的唤醒时间片；所述唤醒时间片唤醒以监听所述WG发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。本实施例的通信控制方法可以参考上述应用于通信系统的通信控制方法中WG和WTE执行的步骤，此处不再赘述。本发明实施例还提供一种通信系统，包括WG和WTE，每一所述WTE 与至少一个WG通信连接，所述方法包括以下步骤：所述WG配置为：向所述WTE发送时间同步信息；所述WTE配置为：根据所述时间同步信息进行时间同步并确定与所述WTE对应的唤醒时间片；在所述唤醒时间片唤醒以监听所述WG发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态。该通信系统配置为执行上述应用于通信系统的通信控制方法，此处不再赘述。本发明实施例还提供了一种WG和一种WTE，分别配置为执行本发明实施例中的通信控制方法，此处不再赘述。本发明实施例还提供一种电子设备，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的程序；所述处理器，用于读取存储器中的程序实现如前述任一项所述方法中的步骤。本发明实施例还提供一种可读存储介质，用于存储程序，所述程序被处理器执行时实现如前述任一项所述方法中的步骤。在本发明实施例，通过确定WTE的唤醒时间片，并控制WTE在唤醒时间片唤醒以监听所述WG发送的通信数据，在所述唤醒时间片之外的时间片进入休眠状态，与现有技术相比，不需和现有技术一样控制WTE增加额外的唤醒时间，能够减少WTE的待机时间，能够减低WTE的功耗，提高对于WTE 的管理效果。本发明实施例还提供一种电子设备。请参见图6，电子设备可以包括处理器601、存储器602及存储在存储器602上并可在处理器601上运行的程序6021。在电子设备为上述服务器、WG或WTE，程序6021被处理器601执行时可实现图上述方法实施例中的任意步骤及达到相同的有益效果，此处不再赘述。本领域普通技术人员可以理解实现上述实施例方法的全部或者部分步骤是可以通过程序指令相关的硬件来完成，所述的程序可以存储于一可读取介质中。本发明实施例还提供一种可读存储介质，所述可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时可实现上述方法实施例中的任意步骤，且能达到相同的技术效果，为避免重复，这里不再赘述。所述的存储介质，如只读存储器、随机存取存储器、磁碟或者光盘等。需要说明的是，应理解以上各个模块的划分仅仅是一种逻辑功能的划分，实际实现时可以全部或部分集成到一个物理实体上，也可以物理上分开。且这些模块可以全部以软件通过处理元件调用的形式实现；也可以全部以硬件的形式实现；还可以部分模块通过处理元件调用软件的形式实现，部分模块通过硬件的形式实现。例如，确定模块可以为单独设立的处理元件，也可以集成在上述装置的某一个芯片中实现，此外，也可以以程序代码的形式存储于上述装置的存储器中，由上述装置的某一个处理元件调用并执行以上确定模块的功能。其它模块的实现与之类似。此外这些模块全部或部分可以集成在一起，也可以独立实现。这里所述的处理元件可以是一种集成电路，具有信号的处理能力。在实现过程中，上述方法的各步骤或以上各个模块可以通过处理器元件中的硬件的集成逻辑电路或者软件形式的指令完成。例如，各个模块、单元、子单元或子模块可以是被配置成实施以上方法的一个或多个集成电路，例如：一个或多个特定集成电路，或，一个或多个微处理器，或，一个或者多个现场可编程门阵列等。再如，当以上某个模块通过处理元件调度程序代码的形式实现时，该处理元件可以是通用处理器，例如中央处理器 或其它可以调用程序代码的处理器。再如，这些模块可以集成在一起，以片上系统的形式实现。以上所述是本发明实施例的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明所述原理的前提下，还可以作出若干改进和润饰，这些改进和润饰也应视为本发明的保护范围。
