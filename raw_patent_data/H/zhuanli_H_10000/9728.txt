标题title
一种输电线路监拍设备的控制方法及设备
摘要abst
本申请提供了一种输电线路监拍设备的控制方法及设备，该方法通过监拍设备基于来自终端设备的图像采集指令，确定输电线路监拍设备的摄像头状态是否为预设状态。其中，预设状态为监拍设备的焦距电机及焦点电机分别处于相应的初始位置。初始位置与监拍设备的型号相关。焦距电机用于调整监拍设备的焦距，焦点电机用于调整监拍设备的焦点。在确定输电线路监拍设备的摄像头状态为预设状态的情况下，基于预设调焦算法，确定焦点电机的调焦位置。通过监拍设备的驱动单元，控制焦点电机运行至调焦位置。基于调焦位置，确定相应的物距跟随曲线。其中，物距跟随曲线表示焦距电机与焦点电机的位置关系。通过物距跟随曲线，执行下一次监拍设备的镜头调焦。
权利要求书clms
1.一种输电线路监拍设备的控制方法，其特征在于，所述方法包括：监拍设备基于来自终端设备的图像采集指令，确定所述输电线路监拍设备的摄像头状态是否为预设状态；其中，所述预设状态为监拍设备的焦距电机及焦点电机分别处于相应的初始位置；所述初始位置与所述监拍设备的型号相关；所述焦距电机用于调整所述监拍设备的焦距，所述焦点电机用于调整所述监拍设备的焦点；若是，基于预设调焦算法，确定所述焦点电机的调焦位置；通过所述监拍设备的驱动单元，控制所述焦点电机运行至所述调焦位置；基于所述调焦位置，确定相应的物距跟随曲线；其中，所述物距跟随曲线表示所述焦距电机与所述焦点电机的位置关系；通过所述物距跟随曲线，执行下一次所述监拍设备的镜头调焦。2.根据权利要求1所述方法，其特征在于，监拍设备基于来自终端设备的图像采集指令，确定所述输电线路监拍设备的摄像头状态是否为预设状态之前，所述方法还包括：根据所述图像采集指令，获取所述监拍设备的嵌入式多媒体控制器eMMC中的镜头配置数据；其中，所述镜头配置数据至少包括：物距跟随曲线簇、摄像头状态；将所述镜头配置数据存储至所述监拍设备的随机存取存储器RAM，并生成设备启动指令，以通过所述设备启动指令，控制所述监拍设备运行。3.根据权利要求1所述方法，其特征在于，所述方法还包括：在所述监拍设备的摄像头状态不在预设状态的情况下，确定所述监拍设备是否满足校准状态；其中，所述校准状态为所述监拍设备满足使用时间大于预设值；在所述监拍设备满足所述校准状态的情况下，确定所述监拍设备的前一时段的摄像头状态；基于所述前一时段的摄像头状态以及所述预设调焦算法，确定所述焦点电机的调焦位置。4.根据权利要求3所述方法，其特征在于，基于所述前一时段的摄像头状态以及所述预设调焦算法，确定所述焦点电机的调焦位置，具体包括：确定所述前一时段的摄像头状态中的所述焦距电机的所处位置；将所述前一时段的焦距电机所处位置与预设的第一位置区间进行匹配，得到第一匹配结果；其中，所述第一位置区间基于所述监拍设备的广角镜头相应的位置及所述监拍设备的长焦镜头相应的位置得到；确定所述前一时段的摄像头状态中的所述焦点电机的所处位置；将所述前一时段的焦点电机的所处位置与预设的第二位置区间进行匹配，得到第二匹配结果；其中，所述第二位置区间基于所述监拍设备的物距跟随曲线簇中曲线的最大值与曲线的最小值得到；所述物距跟随曲线簇至少包括：无穷远物距跟随曲线、预设距离物距跟随曲线；在所述第一匹配结果及所述第二匹配结果满足预设规则的情况下，基于所述前一时段的焦距电机的所处位置、所述前一时段的焦点电机的所处位置以及所述预设调焦算法，确定所述焦点电机的调焦位置。5.根据权利要求3所述方法，其特征在于，基于所述前一时段的摄像头状态以及所述预设调焦算法，确定所述焦点电机的调焦位置，具体包括：确定所述前一时段相应的所述监拍设备的关闭时间；计算当前时间与所述关闭时间的差值是否大于预设阈值；在所述当前时间与所述关闭时间的差值大于所述预设阈值的情况下，确定所述监拍设备的摄像头状态不满足所述校准状态。6.根据权利要求5所述方法，其特征在于，所述方法还包括：在所述监拍设备的所述摄像头状态不满足所述校准状态的情况下，根据所述焦距电机及所述焦点电机的当前位置，生成电机复位指令；将所述电机复位指令发送至驱动单元，以使所述驱动单元产生符合预定要求的脉冲信号，所述脉冲信号用于驱动所述焦距电机及所述焦点电机分别移动至相应的所述初始位置；其中，所述符合预定要求为驱动所述焦距电机及所述焦点电机从当前位置移动至所述初始位置。7.根据权利要求1所述方法，其特征在于，基于预设调焦算法，确定所述焦点电机的调焦位置，具体包括：基于所述预设调焦算法，确定所述焦点电机的待定调焦位置；通过所述监拍设备的图像检测分析单元，确定所述监拍设备在所述待定调焦位置，采集的图像水平高频分量以及图像垂直高频分量；根据所述图像水平高频分量以及所述图像垂直高频分量，计算图像的清晰度值，以基于所述清晰度值，确定所述焦点电机的所述调焦位置。8.根据权利要求7所述方法，其特征在于，基于预设调焦算法，确定所述焦点电机的调焦位置，具体包括：在所述焦点电机的位置移动的情况下，通过预设清晰度函数，确定所述位置移动过程中，所述焦点电机的各所处位置相应的清晰度值；所述预设清晰度函数至少包括以下一项或多项：能量梯度函数EOG、罗伯茨Roberts函数、拉普拉斯Laplace函数；以所述焦点电机的位置移动的一端为起始位置，根据预设间隔，确定所述焦点电机的各所述预设间隔的端点位置的所述清晰度值，分别为第一清晰度、第二清晰度，以及确定所述焦点电机所述预设间隔的中间位置的所述清晰度值，为第三清晰度；根据所述第一清晰度、所述第二清晰度以及所述第三清晰度，计算所述第一清晰度至所述第二清晰度相应的第一变化率，以及所述第一清晰度至所述第三清晰度相应的第二变化率；根据所述第一变化率、所述第二变化率及预设三角函数公式，确定第三变化率；基于所述第一变化率、所述第二变化率、所述第三变化率并通过爬山法，确定各所述预设间隔的所述端点位置及所述预设间隔的所述中间位置满足的预设关系；其中，所述预设关系用于表征所述焦点电机的所述预设间隔的所述中间位置与所述调焦位置的接近程度；根据所述预设间隔相应的所述第一清晰度与第二清晰度满足的预设关系，更新所述预设间隔的间距，并根据更新后的所述预设间隔，确定相邻的所述所处位置的各所述清晰度值，直至各所述预设间隔的所述端点位置及所述预设间隔的所述中间位置满足的预设关系为，所述第二清晰度大于所述第一清晰度，且所述第一清晰度与所述第二清晰度的平均值不小于所述第三清晰度，且所述第一变化率小于第一预定值，且所述第二变化率大于第二预定值。9.一种输电线路监拍设备的控制设备，其特征在于，所述设备包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够：监拍设备基于来自终端设备的图像采集指令，确定所述输电线路监拍设备的摄像头状态是否为预设状态；其中，所述预设状态为监拍设备的焦距电机及焦点电机分别处于相应的初始位置；所述初始位置与所述监拍设备的型号相关；所述焦距电机用于调整所述监拍设备的焦距，所述焦点电机用于调整所述监拍设备的焦点；若是，基于预设调焦算法，确定所述焦点电机的调焦位置；通过所述监拍设备的驱动单元，控制所述焦点电机运行至所述调焦位置；基于所述调焦位置，确定相应的物距跟随曲线；其中，所述物距跟随曲线表示所述焦距电机与所述焦点电机的位置关系；通过所述物距跟随曲线，执行下一次所述监拍设备的镜头调焦。10.根据权利要求9所述设备，其特征在于，所述至少一个处理器还能够：根据所述图像采集指令，获取所述监拍设备的嵌入式多媒体控制器eMMC中的镜头配置数据；其中，所述镜头配置数据至少包括：物距跟随曲线簇、摄像头状态；将所述镜头配置数据存储至所述监拍设备的随机存取存储器RAM，并生成设备启动指令，以通过所述设备启动指令，控制所述监拍设备运行。
说明书desc
技术领域本申请涉及图像处理技术领域，尤其涉及一种输电线路监拍设备的控制方法及设备。背景技术智能监拍设备可以采集输电线路周围的环境图像，是目前输电线路防外破的主要手段。伴随着智能化水平的提高，市场对输电线路通道、塔体本体及周围环境的远距离小目标能更清晰的监测需求愈加强烈。目前的安防类监控产品，自身不具有3G/4G/5G网络数据传输的功能，大多采用网口或外加3G/4G/5G模块的方式，实现安防类监控产品的网络数据传输。这种方式带来了设备维护不便、增加设备硬件成本的问题。此外，当前的监控产品所处监控环境复杂，在变焦监控过程中，需要不断地进行远近变焦切换，画面时刻保持清晰难以得到有效保障。发明内容为解决上述技术问题，本申请实施例提供了一种输电线路监拍设备的控制方法及设备。一方面，本申请提供了一种输电线路监拍设备的控制方法，该方法包括：监拍设备基于来自终端设备的图像采集指令，确定输电线路监拍设备的摄像头状态是否为预设状态。其中，预设状态为监拍设备的焦距电机及焦点电机分别处于相应的初始位置。初始位置与监拍设备的型号相关。焦距电机用于调整监拍设备的焦距，焦点电机用于调整监拍设备的焦点。在确定输电线路监拍设备的摄像头状态为预设状态的情况下，基于预设调焦算法，确定焦点电机的调焦位置。通过监拍设备的驱动单元，控制焦点电机运行至调焦位置。基于调焦位置，确定相应的物距跟随曲线。其中，物距跟随曲线表示焦距电机与焦点电机的位置关系。通过物距跟随曲线，执行下一次监拍设备的镜头调焦。在本申请的一种实现方式中，根据图像采集指令，获取监拍设备的嵌入式多媒体控制器eMMC中的镜头配置数据。其中，镜头配置数据至少包括：物距跟随曲线簇、摄像头状态。将镜头配置数据存储至监拍设备的随机存取存储器RAM，并生成设备启动指令，以通过设备启动指令，控制监拍设备运行。在本申请的一种实现方式中，在监拍设备的摄像头状态不在预设状态的情况下，确定监拍设备是否满足校准状态。其中，校准状态为监拍设备满足使用时间大于预设值。在监拍设备满足校准状态的情况下，确定监拍设备的前一时段的摄像头状态。基于前一时段的摄像头状态以及预设调焦算法，确定焦点电机的调焦位置。在本申请的一种实现方式中，确定前一时段的摄像头状态中的焦距电机的所处位置。将前一时段的焦距电机所处位置与预设的第一位置区间进行匹配，得到第一匹配结果。其中，第一位置区间基于监拍设备的广角镜头相应的位置及监拍设备的长焦镜头相应的位置得到。确定前一时段的摄像头状态中的焦点电机的所处位置。将前一时段的焦点电机的所处位置与预设的第二位置区间进行匹配，得到第二匹配结果。其中，第二位置区间基于监拍设备的物距跟随曲线簇中曲线的最大值与曲线的最小值得到。物距跟随曲线簇至少包括：无穷远物距跟随曲线、预设距离物距跟随曲线。在第一匹配结果及第二匹配结果满足预设规则的情况下，基于前一时段的焦距电机的所处位置、前一时段的焦点电机的所处位置以及预设调焦算法，确定焦点电机的调焦位置。在本申请的一种实现方式中，确定前一时段相应的监拍设备的关闭时间。计算当前时间与关闭时间的差值是否大于预设阈值。在当前时间与关闭时间的差值大于预设阈值的情况下，确定监拍设备的摄像头状态不满足校准状态。在本申请的一种实现方式中，在监拍设备的摄像头状态不满足校准状态的情况下，根据焦距电机及焦点电机的当前位置，生成电机复位指令。将电机复位指令发送至驱动单元，以使驱动单元产生符合预定要求的脉冲信号，脉冲信号用于驱动焦距电机及焦点电机分别移动至相应的初始位置。其中，符合预定要求为驱动焦距电机及焦点电机从当前位置移动至初始位置。在本申请的一种实现方式中，基于预设调焦算法，确定焦点电机的待定调焦位置。通过监拍设备的图像检测分析单元，确定监拍设备在待定调焦位置，采集的图像水平高频分量以及图像垂直高频分量。根据图像水平高频分量以及图像垂直高频分量，计算图像的清晰度值，以基于清晰度值，确定焦点电机的调焦位置。在本申请的一种实现方式中，在焦点电机的位置移动的情况下，通过预设清晰度函数，确定位置移动过程中，焦点电机的各所处位置相应的清晰度值。预设清晰度函数至少包括以下一项或多项：能量梯度函数EOG、罗伯茨Roberts函数、拉普拉斯Laplace函数。以焦点电机的位置移动的一端为起始位置，根据预设间隔，确定焦点电机的各预设间隔的端点位置的清晰度值，分别为第一清晰度、第二清晰度，以及确定焦点电机预设间隔的中间位置的清晰度值，为第三清晰度。根据第一清晰度、第二清晰度以及第三清晰度，计算第一清晰度至第二清晰度相应的第一变化率，以及第一清晰度至第三清晰度相应的第二变化率。根据第一变化率、第二变化率及预设三角函数公式，确定第三变化率。基于第一变化率、第二变化率、第三变化率并通过爬山法，确定各预设间隔的端点位置及预设间隔的中间位置满足的预设关系。其中，预设关系用于表征焦点电机的预设间隔的中间位置与调焦位置的接近程度。根据预设间隔相应的第一清晰度与第二清晰度满足的预设关系，更新预设间隔的间距，并根据更新后的预设间隔，确定相邻的所处位置的各清晰度值，直至各预设间隔的端点位置及预设间隔的中间位置满足的预设关系为，第二清晰度大于第一清晰度，且第一清晰度与第二清晰度的平均值不小于第三清晰度，且第一变化率小于第一预定值，且第二变化率大于第二预定值。另一方面，本申请实施例还提供了一种输电线路监拍设备的控制设备，该设备包括：至少一个处理器；以及，与至少一个处理器通信连接的存储器。其中，存储器存储有可被至少一个处理器执行的指令，指令被至少一个处理器执行，以使至少一个处理器能够：监拍设备基于来自终端设备的图像采集指令，确定输电线路监拍设备的摄像头状态是否为预设状态。其中，预设状态为监拍设备的焦距电机及焦点电机分别处于相应的初始位置。初始位置与监拍设备的型号相关。焦距电机用于调整监拍设备的焦距，焦点电机用于调整监拍设备的焦点。在确定输电线路监拍设备的摄像头状态为预设状态的情况下，基于预设调焦算法，确定焦点电机的调焦位置。通过监拍设备的驱动单元，控制焦点电机运行至调焦位置。基于调焦位置，确定相应的物距跟随曲线。其中，物距跟随曲线表示焦距电机与焦点电机的位置关系。通过物距跟随曲线，执行下一次监拍设备的镜头调焦。在本申请的一种实现方式中，至少一个处理器还能够：根据图像采集指令，获取监拍设备的嵌入式多媒体控制器eMMC中的镜头配置数据。其中，镜头配置数据至少包括：物距跟随曲线簇、摄像头状态。将镜头配置数据存储至监拍设备的随机存取存储器RAM，并生成设备启动指令，以通过设备启动指令，控制监拍设备运行。通过上述方案，监拍设备可以在监控变焦过程中，保证画面的时刻清晰，保障画面质量，从而保障监拍设备使用者对监拍设备的使用体验。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1为本申请实施例中一种输电线路监拍设备的控制方法中的一种示意图；图2为本申请实施例中一种输电线路监拍设备的控制方法的一种流程示意图；图3为本申请实施例中一种输电线路监拍设备的控制方法中的另一种示意图；图4为本申请实施例中一种输电线路监拍设备的控制方法中的另一种流程示意图；图5为本申请实施例中一种输电线路监拍设备的控制设备的结构示意图。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合本申请具体实施例及相应的附图对本申请技术方案进行清楚、完整地描述。显然，所描述的实施例仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请实施例提供了一种输电线路监拍设备的控制方法及设备，用来保证监控过程变焦时，画面的实时清晰，保障画面质量，以及减少当前安防类监控产品的设备硬件成本。以下结合附图，详细说明本申请的各个实施例。在本申请实施例中，监拍设备100的结构示意图，如图1所示，包括主控器模块110，驱动模块120，图像采集及电动变焦镜头模块130，存储器模块140，其中，主控器模块110分别与驱动模块120、图像采集及电动变焦镜头模块130、存储器模块140电连接，驱动模块120与图像采集及电动变焦镜头模块130电连接。主控器模块110中，包括变倍聚焦控制单元111，用于控制监拍设备100的焦点电机跟随焦距电机运动，变倍聚焦过程中，保持监拍设备100采集的画面全程清晰。主控器模块110还包括图像检测分析单元112，用于利用高频分量法分析图像特征，提取图像的水平高频分量和垂直高频分量，并计算图像清晰度值。驱动模块120包括驱动电路121，电机驱动单元122，用于根据变倍聚焦控制单元111的电机类型、运动方向和步数，按照指定的励磁方式并转化为对应的脉冲信号驱动输出，并保证无丢步问题。图像采集及电动变焦镜头模块130包括CMOS图像传感器单元131、焦距电机单元132、焦点电机单元133，CMOS图像传感器单元用于采集图像；焦距电机单元132主要控制焦距摄像头镜片组在广角镜头位置及长焦镜头位置之间运动；焦点电机单元133用于控制监拍设备的焦点镜片组在物距跟随曲线簇中曲线的最大值对应位置及最小值对应位置间运动，其中，物距跟随曲线簇的图像如图3所示。存储器模块140包括嵌入式多媒体控制器141、只读存储器142，eMMC141存储主控器模块110执行的程序和指令，ROM主要存储系统镜像、镜头及其他配置文件。此外，本申请实施例所提供的主控器模块110采用手机芯片。由于IPC网络摄像机产品属于安防监控类产品，该类产品大都采用常供电且以太网的方式传输数据，对设备的运行功耗相对不太敏感，在变焦技术上大都采用光学变焦技术。为了降低功耗，本申请利用手机芯片低功耗性质，以及手机芯片集成有网络模块，替代网络摄像机的现有主控器，可以实现监拍设备低功耗且具有网络数据传输功能的需求。本申请实施例提供了一种输电线路监拍设备的控制方法，如图2所示，该方法可以包括步骤S201-S205：S201，监拍设备基于来自终端设备的图像采集指令，确定输电线路监拍设备的摄像头状态是否为预设状态。其中，预设状态为监拍设备的焦距电机及焦点电机分别处于相应的初始位置。初始位置与监拍设备的型号相关。焦距电机用于调整监拍设备的焦距，焦点电机用于调整监拍设备的焦点。终端设备可以是用户手机、笔记本电脑、平板电脑等设备，本申请对此不作具体限定。监拍设备可以通过主控器模块的无线网络，接收终端设备发送的图像采集指令，监拍设备可以设置于输电线路的杆塔，负责对输电线路的隐患进行拍摄。监拍设备可以在接收到图像采集指令以后，确定监拍设备的摄像头的焦距电机及焦点电机是否分别处于初始位置，该初始位置为在监拍设备出厂时设定的位置，可以通过监拍设备的型号得到该初始位置。此外，监拍设备在基于终端设备的图像采集指令，确定输电线路监拍设备的摄像头状态是否为复位状态之前，还包括：监拍设备根据图像采集指令，获取监拍设备的嵌入式多媒体控制器eMMC中的镜头配置数据。其中，镜头配置数据至少包括：物距跟随曲线簇、摄像头状态。物距跟随曲线簇如图3所示，横坐标为焦距电机的物距，纵坐标为焦点电机的物距。3m表示3米距离物距跟随曲线，INF表示无穷远物距跟随曲线。摄像头状态包含焦距电机、焦点电机，分别所处位置。监拍设备将镜头配置数据存储至监拍设备的随机存取存储器RAM，并生成设备启动指令，以通过设备启动指令，控制监拍设备运行。S202，监拍设备在确定输电线路监拍设备的摄像头状态为预设状态的情况下，基于预设调焦算法，确定焦点电机的调焦位置。在本申请实施例中，监拍设备基于预设调焦算法，确定焦点电机的调焦位置，具体包括：首先，监拍设备基于预设调焦算法，确定焦点电机的待定调焦位置。预设调焦算法为自适应变步长爬坡搜索算法，得到焦点电机的移动方向以及移动步长，进而得到若干待定调角位置。然后，服务器通过监拍设备的图像检测分析单元，确定监拍设备在待定调焦位置，采集的图像水平高频分量以及图像垂直高频分量。最后，服务器根据图像水平高频分量以及图像垂直高频分量，计算图像的清晰度值，以基于清晰度值，确定焦点电机的调焦位置。上述预设调焦算法，得到焦点电机的调焦位置的具体算法如下：首先，监拍设备在焦点电机的位置移动的情况下，通过预设清晰度函数，确定位置移动过程中，焦点电机的各所处位置相应的清晰度值。预设清晰度函数至少包括以下一项或多项：能量梯度函数EOG、罗伯茨Roberts函数、拉普拉斯Laplace函数。各所处位置为监拍设备的焦点电机从初始位置，不断移动过程中，焦点电机经过的各位置。监拍设备根据上述任意一种预设清晰度函数，计算各所处位置的清晰度值。其次，监拍设备以焦点电机的位置移动的一端为起始位置，根据预设间隔，确定焦点电机的各预设间隔的端点位置的清晰度值，分别为第一清晰度、第二清晰度，以及确定焦点电机预设间隔的中间位置的清晰度值，为第三清晰度。监拍设备可以在焦点电机从初始位置移动的过程中，记录焦点电机的所经过的所处位置，并将所经过的所处位置按照由近到远的方式进行排序，从排序后的所处位置中，将一端作为起始位置。监拍设备可以根据自适应变步长爬坡搜索算法得到预设间隔，该预设间隔用于划分各所处位置的清晰度值生成的清晰度值曲线。再次，监拍设备根据第一清晰度、第二清晰度以及第三清晰度，计算第一清晰度至第二清晰度相应的第一变化率，以及第一清晰度至第三清晰度相应的第二变化率。在本申请实施例中，第一清晰度可以用Qn1表示，第二清晰度用Qn2表示，第三清晰度用Qn3表示，其中，n表示第n个预设间隔的。第一变化率的公式如下：其中，L1为第一变化率，x1为预设间隔的长度。第二变化率的公式如下：其中，L2为第二变化率，x1/2为预设间隔的长度的一半。接着，监拍设备根据第一变化率、第二变化率及预设三角函数公式，确定第三变化率。第三变化率的公式如下：其中，L3为第三变化率。然后，监拍设备基于第一变化率、第二变化率、第三变化率并通过爬山法，确定各预设间隔的端点位置及预设间隔的中间位置满足的预设关系。在本申请实施例中，通过爬山法得到的端点位置及中间位置所满足的预设关系，包括以下关系式：第一关系：Qn2＞Qn1；第二关系：第三关系：L3＜0.15；第四关系：L1＜0.15；第五关系：L2＜0.15；第六关系：L2＞11.5；第七关系：L3＞0.15；第八关系：L1＞0.15；第九关系：0.15＜L2＜11.5；第十关系：其中，预设关系用于表征焦点电机的预设间隔的中间位置与调焦位置的接近程度。最后，监拍设备根据预设间隔相应的第一清晰度与第二清晰度满足的预设关系，更新预设间隔的间距，并根据更新后的预设间隔，确定相邻的所处位置的各清晰度值，直至各预设间隔的端点位置及预设间隔的中间位置满足的预设关系为，第二清晰度大于第一清晰度，且第一清晰度与第二清晰度的平均值不小于第三清晰度，且第一变化率小于第一预定值，且第二变化率大于第二预定值。在本申请实施例中，当同时满足第一关系、第二关系、第四关系以及第六关系时，将满足关系的预设间隔的中间位置作为调焦位置。在本申请的另一个实施例中，监拍设备在开启时，摄像头状态可能不在预设状态，监拍设备可以执行以下方法：首先，监拍设备在监拍设备的摄像头状态不在预设状态的情况下，确定监拍设备是否满足校准状态。其中，校准状态为监拍设备满足使用时间大于预设值。在本申请实施例中，若监拍设备的使用时间大于预设值，即可确定该监拍设备满足校准状态，例如监拍设备从出厂至当前时间，使用时间为2小时，预设值为1小时，那么监拍设备满足校准状态。校准状态还可以存储在ROM的镜头配置数据中，例如镜头配置数据的一个配置文件内容：满足校准状态，或不满足校准状态。然后，监拍设备在监拍设备满足校准状态的情况下，确定监拍设备的前一时段的摄像头状态。在本申请实施例中，前一时段为监拍设备上一次运行的时段，前一时段的摄像头状态为上一次运行时，摄像头中焦距电机及焦点电机所处的位置。最后，监拍设备基于前一时段的摄像头状态以及预设调焦算法，确定焦点电机的调焦位置。在本申请实施例中，监拍设备的摄像头状态不是预设状态时，可以只调整焦点电机的位置，对焦距电机的位置不进行调整，即不对监拍设备的摄像头进行变倍率。在本申请实施例中，监拍设备基于前一时段的摄像头状态以及预设调焦算法，确定焦点电机的调焦位置，具体包括：首先，监拍设备确定前一时段的摄像头状态中的焦距电机的所处位置。然后，监拍设备将前一时段的焦距电机所处位置与预设的第一位置区间进行匹配，得到第一匹配结果。其中，第一位置区间基于监拍设备的广角镜头相应的位置及监拍设备的长焦镜头相应的位置得到。如图3所示，广角镜头相应位置WIDE，以及长焦镜头相应位置为TELE，第一位置区间可以是，其中第一余量阈值为焦距镜头的误差，可以通过厂家的出厂数据得到。再接着，监拍设备确定前一时段的摄像头状态中的焦点电机的所处位置。然后，监拍设备将前一时段的焦点电机的所处位置与预设的第二位置区间进行匹配，得到第二匹配结果。其中，第二位置区间基于监拍设备的物距跟随曲线簇中曲线的最大值与曲线的最小值得到。物距跟随曲线簇至少包括：无穷远物距跟随曲线、预设距离物距跟随曲线。如图3所示，第二位置区间为，第二余量阈值为焦点镜头的误差，可以通过厂家的出厂数据得到。其中，最小值位于INF的物距跟随曲线，最大值位于3m的物距跟随曲线。最后，监拍设备在第一匹配结果及第二匹配结果满足预设规则的情况下，基于前一时段的焦距电机的所处位置、前一时段的焦点电机的所处位置以及预设调焦算法，确定焦点电机的调焦位置。在本申请实施例中，第一匹配结果与第二匹配结果同时为匹配的情况下，可以基于前一时段的焦距电机的所处位置、前一时段的焦点电机的所处位置以及预设调焦算法，确定焦点电机的调焦位置。通过上述方案，可以根据前一次的镜头位置进行调焦操作，减少了进行移动电机至初始位置的步骤，加快了监拍设备的调焦时间，保证实时采集外界图像，提高了用户对监拍设备的使用体验。在本申请的另一个实施例中，若监拍设备长时间未开启时，依照前一时段的镜头状态进行调焦，可能采集的图像不清晰。因此，本申请提供了以下实施例。监拍设备基于前一时段的摄像头状态以及预设调焦算法，确定焦点电机的调焦位置，具体包括：首先，监拍设备确定前一时段相应的监拍设备的关闭时间。其次，监拍设备计算当前时间与关闭时间的差值是否大于预设阈值。接着，监拍设备在当前时间与关闭时间的差值大于预设阈值的情况下，确定监拍设备的摄像头状态不满足校准状态。然后，在监拍设备的摄像头状态不满足校准状态的情况下，根据焦距电机及焦点电机的当前位置，生成电机复位指令。最后，将电机复位指令发送至驱动单元，以使驱动单元产生符合预定要求的脉冲信号，脉冲信号用于驱动焦距电机及焦点电机分别移动至相应的初始位置。其中，符合预定要求为驱动焦距电机及焦点电机从当前位置移动至初始位置。S203，监拍设备通过监拍设备的驱动单元，控制焦点电机运行至调焦位置。S204，监拍设备基于调焦位置，确定相应的物距跟随曲线。其中，物距跟随曲线表示焦距电机与焦点电机的位置关系。其中，物距跟随曲线如图3所示。监拍设备可以根据焦点电机的调焦位置，以及当前焦距电机的位置，从物距跟随曲线中，确定调焦位置及焦距电机的位置对应的曲线，或位置坐标最接近的曲线，并确定该曲线为物距跟随曲线。S205，监拍设备通过物距跟随曲线，执行下一次监拍设备的镜头调焦。在本申请实施例中，监拍设备可以将确定的物距跟随曲线存储在eMMC中，在下一次监拍设备进行镜头调焦是，获取eMMC中的物距跟随曲线至RAM，并通过RAM使用物距跟随曲线，对焦距电机及焦点电机的位置进行移动。移动时按照物距跟随曲线随对应的位置进行移动，如物距跟随曲线上有坐标、、，焦距电机与焦点电机的位置坐标，在物距跟随曲线对应坐标上移动，移动轨迹可以经过、、。在本申请实施例中，图4为输电线路监拍设备的控制方法的流程示意图，如图4所示，具体包括以下步骤：S401，监拍设备收到图像采集指令；S402，监拍设备加载物距跟随曲线簇和摄像头状态；S403，监拍设备开启摄像头，并确定摄像头状态；S404，监拍设备摄像头是否满足校准状态；S405，监拍设备前一时段的摄像头状态是否存在；S406，监拍设备第一匹配结果及第二匹配结果满足预设规则；S407，监拍设备将焦距电机及焦点电机移动至初始位置；S408，监拍设备确定焦点电机的调焦位置；S409，监拍设备是否接收到设备关闭指令；S4010，监拍设备是否收到设备变焦指令；S4011，监拍设备根据物距跟随曲线，执行变倍镜头调焦；S4012，监拍设备更新摄像头状态信息，并保存至eMMC。通过上述方案，可以实现低功耗、画质无损的监拍设备变焦，，使得输电线路上远距离小目标的隐患无处遁形，及时掌握输电线路的运行状态，提升线路巡检与检修的安全运行效率。并且，本申请提供的方案中，手机芯片集成有3G/4G/5G模块，无需现有摄像头添加3G/4G/5G模块，减少了设备硬件成本。上述方案可以保证在监控过程变焦时，画面的实时清晰，保障画面质量，提高了用户对监拍设备的使用体验。图5为本申请实施例提供的一种输电线路监拍设备的控制设备，该设备包括：至少一个处理器；以及，与至少一个处理器通信连接的存储器。其中，存储器存储有可被至少一个处理器执行的指令，指令被至少一个处理器执行，以使至少一个处理器能够：监拍设备基于来自终端设备的图像采集指令，确定输电线路监拍设备的摄像头状态是否为预设状态。其中，预设状态为监拍设备的焦距电机及焦点电机分别处于相应的初始位置。初始位置与监拍设备的型号相关。焦距电机用于调整监拍设备的焦距，焦点电机用于调整监拍设备的焦点。在确定输电线路监拍设备的摄像头状态为预设状态的情况下，基于预设调焦算法，确定焦点电机的调焦位置。通过监拍设备的驱动单元，控制焦点电机运行至调焦位置。基于调焦位置，确定相应的物距跟随曲线。其中，物距跟随曲线表示焦距电机与焦点电机的位置关系。通过物距跟随曲线，执行下一次监拍设备的镜头调焦。在本申请实施例中，至少一个处理器还能够：根据图像采集指令，获取监拍设备的嵌入式多媒体控制器eMMC中的镜头配置数据。其中，镜头配置数据至少包括：物距跟随曲线簇、摄像头状态。将镜头配置数据存储至监拍设备的随机存取存储器RAM，并生成设备启动指令，以通过设备启动指令，控制监拍设备运行。本申请中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于设备实施例而言，由于其基本相似于方法实施例，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。本申请实施例提供的设备与方法是一一对应的，因此，设备也具有与其对应的方法类似的有益技术效果，由于上面已经对方法的有益技术效果进行了详细说明，因此，这里不再赘述设备的有益技术效果。还需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、商品或者设备中还存在另外的相同要素。以上所述仅为本申请的实施例而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
