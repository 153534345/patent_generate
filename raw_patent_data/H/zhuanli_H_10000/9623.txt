标题title
终端的控制方法、装置、存储介质及电子设备
摘要abst
本申请公开了一种终端的控制方法、装置、存储介质及电子设备，属于通信技术领域。应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号，所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号，所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。协处理器接收来自应用处理器的第一电平信号，响应于所述第一电平信号关闭接近传感器的光发射器，向所述应用处理器发送第二电平信号。故本申请中处理器通过中断方式来切换显示屏和光发射器，减少相关技术中不同处理器底层之间的交互造成的延迟过大的问题，减少终端切换的延迟，增加续航时间。
权利要求书clms
1.一种终端的控制方法，其特征在于，所述方法包括：应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号；其中，所述第一电平信号用于指示所述协处理器关闭接近传感器的光发射器，以及向所述应用处理器发送第二电平信号；所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号；所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。2.根据权利要求1所述的控制方法，其特征在于，还包括：在所述显示屏需要由亮屏状态切换为熄屏状态时，控制所述显示屏在预设时长后切换为熄屏状态；通过所述第一GPIO向协处理器发送第三电平信号；其中，所述第三电平信号用于指示所述协处理器在所述预设时长之后打开所述光发射器，以及将向所述应用处理器发送第四电平信号；通过所述第二GPIO接收来自所述协处理器的第四电平信号。3.根据权利要求1所述的控制方法，其特征在于，所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态，包括：接收中断恢复指令；响应于所述中断恢复指令读取堆栈中保存的运行状态数据；基于所述运行状态数据将所述显示屏对应的寄存器进行数值恢复后，将所述显示屏切换为亮屏状态。4.根据权利要求2所述的控制方法，其特征在于，所述控制所述显示屏在预设时长后切换为熄屏状态，包括：接收中断请求信号；响应于所述中断请求信号将所述显示屏的运行状态数据压入堆栈保存；控制所述显示屏在预设时长后切换为熄屏状态。5.根据权利要求2所述的控制方法，其特征在于，所述第一电平信号为高电平，所述第二电平信号为低电平，所述第三电平信号为低电平，所述第四电平信号为高电平。6.一种终端的控制方法，其特征在于，所述方法包括：协处理器接收来自应用处理器的第一电平信号；响应于所述第一电平信号关闭接近传感器的光发射器；向所述应用处理器发送第二电平信号；其中，所述第二电平信号用于指示所述应用处理器控制显示屏由熄屏状态切换为亮屏状态。7.根据权利要求6所述的控制方法，其特征在于，还包括：协处理器接收来自应用处理器的第三电平信号；响应于所述第三电平信号打开所述接近传感器的光发射器；向所述应用处理器发送第四电平信号；其中，所述第四电平信号用于指示所述应用处理器控制显示屏由亮屏状态切换为熄屏状态。8.一种终端的控制装置，其特征在于，包括：发送模块，用于应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号；其中，所述第一电平信号用于指示所述协处理器关闭接近传感器的光发射器，以及向所述应用处理器发送第二电平信号；接收模块，用于所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号；切换模块，用于所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。9.一种终端的控制装置，其特征在于，所述方法包括：接收模块，用于协处理器接收来自应用处理器的第一电平信号；响应模块，用于响应于所述第一电平信号关闭接近传感器的光发射器；发送模块，用于向所述应用处理器发送第二电平信号；其中，所述第二电平信号用于指示所述应用处理器控制显示屏由熄屏状态切换为亮屏状态。10.一种计算机存储介质，其特征在于，所述计算机存储介质存储有多条指令，所述指令适于由处理器加载并执行如权利要求1～7任意一项的方法步骤。11.一种电子设备，其特征在于，包括：存储器和处理器；其中，所述存储器存储有计算机程序，所述计算机程序适用于由所述处理器加载并执行如权利要求1～7任意一项的方法步骤。
说明书desc
技术领域本发明涉及通信技术领域，具体涉及一种终端的控制方法、装置、存储介质及电子设备。背景技术目前，随着科技的快速发展，带有显示屏的终端得到广泛应用，带有显示屏的终端在使用时，可以通过显示屏来对终端进行操作及控制。为防止由于与带有显示屏的终端过近而对显示屏造成的误操作以及节省终端功耗，当显示屏靠近物体时终端会关闭显示屏，远离物体时会点亮显示屏。现有技术一般是使用自带光发射器的传感器来检测距离，由于传感器与显示屏分别由不同处理器控制，不同处理器之间通信会导致延迟的问题，如果显示屏与光发射器同时点亮甚至会导致烧毁显示屏。因此如何减少显示屏与传感器的光发射器之间切换的延迟是目前亟待解决的问题。发明内容本申请实施例提供了一种终端的控制方法、装置、存储介质及电子设备，可控制显示屏与传感器的光发射器之间工作状态，减少切换延迟时间。所述技术方案如下：第一方面，本申请实施例提供了一种终端的控制方法，包括：应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号；其中，所述第一电平信号用于指示所述协处理器关闭接近传感器的光发射器，以及向所述应用处理器发送第二电平信号；所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号；所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。第二方面，本申请实施例提供了一种终端的控制的另一方法，包括：协处理器接收来自应用处理器的第一电平信号；响应于所述第一电平信号关闭接近传感器的光发射器；向所述应用处理器发送第二电平信号；其中，所述第二电平信号用于指示所述应用处理器控制显示屏由熄屏状态切换为亮屏状态。第三方面，本申请实施例提供了一种终端的控制装置，所述装置包括：发送模块，用于应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号；其中，所述第一电平信号用于指示所述协处理器关闭接近传感器的光发射器，以及向所述应用处理器发送第二电平信号；接收模块，用于所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号；切换模块，用于所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。第四方面，本申请实施例提供了一种终端的控制的另一装置，所述装置包括：接收模块，用于协处理器接收来自应用处理器的第一电平信号；响应模块，用于响应于所述第一电平信号关闭接近传感器的光发射器；发送模块，用于向所述应用处理器发送第二电平信号；其中，所述第二电平信号用于指示所述应用处理器控制显示屏由熄屏状态切换为亮屏状态。第五方面，本申请实施例提供了一种计算机存储介质，所述计算机存储介质存储有多条指令，所述指令适于由处理器加载并执行上述的方法步骤。第六方面，本申请实施例提供了一种电子设备，包括：存储器和处理器；其中，所述存储器存储有计算机程序，所述计算机程序适用于由所述处理器加载并执行上述的方法步骤。本申请一些实施例提供的技术方案带来的有益效果至少包括：上述终端的控制方法、装置、存储介质及电子设备工作时，应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号；其中，所述第一电平信号用于指示所述协处理器关闭接近传感器的光发射器，以及向所述应用处理器发送第二电平信号；所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号；所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。协处理器接收来自应用处理器的第一电平信号；响应于所述第一电平信号关闭接近传感器的光发射器；向所述应用处理器发送第二电平信号；其中，所述第二电平信号用于指示所述应用处理器控制显示屏由熄屏状态切换为亮屏状态。处理器通过中断方式来切换显示屏和光发射器，减少相关技术中不同处理器底层之间的交互造成的延迟过大的问题，减少终端切换的延迟，增加续航时间。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1a是本申请实施例提供的一种终端的控制方法的原理示意图；图1b是本申请实施例提供的一种终端的控制方法的交互示意图；图1c是本申请实施例提供的一种终端的控制方法的第一流程示意图；图2是本申请实施例提供的一种终端的控制方法的第二流程示意图；图3是本申请实施例提供的一种终端的控制方法的第三流程示意图；图4是本申请实施例提供的一种终端的控制方法的第四流程示意图；图5是本申请实施例提供的一种终端的控制装置的结构示意图；图6是本申请实施例提供的一种终端的控制装置的另一结构示意图；图7是本申请实施例提供的一种电子设备的结构示意图。具体实施方式为了使本申请的目的、技术方案和优点更加清楚，下面将结合附图对本申请实施例方式作进一步地详细描述。下面的描述设计附图时，除非另有表示，不同附图中的相同数字表示相同的或相似的要素。以下示例性实施例中描述的实施方式并不代表与本申请相一致的所有实施方式。相反，它们仅是如所附权利要求书中所详述的、本申请的一些方面相一致的装置和方法的例子。在本申请的描述中，需要理解的是，术语“第一”、“第二”等仅用于描述目的，而不能理解为指示或暗示相对重要性。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本申请中的具体含义。“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。为了解决上述提到的由于传感器与显示屏分别由不同处理器控制，不同处理器之间通信会导致延迟的问题，如果显示屏与光发射器同时点亮甚至会导致烧毁显示屏，特提出了一种终端的控制方法，本申请实施例方法可依赖于计算机程序实现，可运行于基于冯诺依曼体系且安装有摄像头或可旋转摄像头的计算机系统上。该计算机系统可以是智能手机、笔记本电脑、平板电按等显示屏为可触控的计算机设备。在下述方法实施例中，为了便于说明，仅以各步骤的执行主体为终端设备进行介绍说明。下面将结合附图1～4，对本申请实施例提供的终端的控制方法进行详细介绍。请参见图1a，为本申请实施例提供的一种终端的控制方法的原理示意图。应用处理器是指在低功耗中央处理器的基础上扩展音视频功能和专用接口的超大规模集成电路，先进的数字信号处理器为协处理器，显示屏由APPS控制，接近传感器的光发射器由ADSP控制，APPS将显示屏工作状态通过第一通用引脚以电平信号形式发送到ADSP，ADSP将接近传感器的光发射器工作状态通过第二GPIO以电平信号形式发送到APPS。请参见图1b，为本申请实施例提供的一种终端的控制方法的交互示意图。应用处理器与协处理器之间通过GPIO进行交互，控制过程显示屏和接近传感器的光发射器之间的切换。请参见图1c，为本申请实施例提供的一种终端的控制方法的第一流程示意图。所述方法可以包括以下步骤：S101、应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号。一般的，处理器是解释计算机指令以及处理计算机软件中的数据的最终执行单元，终端设备中可设置多个处理器，例如：主要控制的应用处理器和辅助控制的协处理器。显示屏是指终端设备的输入/输出设备，是一种将一定的电子文件通过特定的传输设备显示到屏幕上再反射到人眼的显示工具，本申请实施例中特指可以取代机械式按钮的，通过屏幕上的触觉反馈系统进行控制的触摸显示屏，例如：红外线式显示屏、电阻式显示屏和电容式显示屏等。熄屏状态和亮屏状态是指显示屏的两种工作状态，显示屏一直在两种工作状态之间进行切换。GPIO是指用来连接不同外部设备或者电路的通用引脚，处理器可以通过GPIO发送信号对硬件进行控制。协处理器是指用来配合辅助应用处理器工作的处理器，例如：控制终端运算的应用处理器和控制传输信息的协处理器。第一电平信号是当显示屏切换到点亮状态后，应用处理器会发送一个高电平信号到第一GPIO，使第一GPIO电平信号变为高电平。S102、所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号。一般的，应用处理器通过读取第二GPIO对应的寄存器来确定GPIO上电平信号，所述电平信号是由协处理器发送的低电平信号写入相关寄存器中控制GPIO上电平变化。S103、所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。一般的，应用处理器接收由协处理器发送的所述第二低电平信号，判断是否满足预设的中断方式条件，例如：上升沿、下降沿、双边沿、高电平触发和低电平触发。若满足，应用处理器执行恢复中断程序，点亮显示屏。由上述内容可知，应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号。所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号。所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。应用处理器通过中断方式来控制显示屏工作状态，减少相关技术中不同处理器底层之间的交互造成的延迟过大的问题，减少终端切换的延迟，增加续航时间。请参见图2，为本申请实施例提供了一种终端的控制方法的第二流程示意图。所述方法可以包括以下步骤：S201、协处理器接收来自应用处理器的第一电平信号。一般的，协处理器通过读取第二GPIO相关寄存器来确定GPIO为高电平，该高电平是由应用处理器发送的，并写入到第二GPIO相关寄存器中来指示第二GPIO电平变化。S202、响应于所述第一电平信号关闭接近传感器的光发射器。一般的，协处理器接收到第一低电平信号后，若判断满足预设的中断方式条件，协处理器执行相关配置关闭接近传感器的光发射器。S203、向所述应用处理器发送第二电平信号。一般的，协处理器通过写入第二低电平信号到第二GPIO相关寄存器上来改变GPIO上电平，应用处理器可以通过读取第二GPIO相关寄存器来接收来自协处理器的第二低电平信号。由上述内容可知，协处理器接收来自应用处理器的第一电平信号，响应于所述第一电平信号关闭接近传感器的光发射器，向所述应用处理器发送第二电平信号。协处理器通过中断方式来控制光发射器工作状态，减少相关技术中不同处理器底层之间的交互造成的延迟过大的问题，减少终端切换的延迟，增加续航时间。请参见图3，为本申请实施例提供了一种终端的控制方法的第三流程示意图。所述方法可以包括以下步骤：S301、通过第一GPIO通用引脚向协处理器发送第一电平信号。一般的，应用处理器通过第一GPIO向协处理器发送第一高电平信号，首先设置GPIO为输入状态，发送第一高电平信号写入到第一GPIO相关的寄存器中，控制第一GPIO由低电平变为高电平，协处理器通过读取与第一GPIO相关的寄存器，接收第一高电平信号。S302、接收来自所述协处理器的所述第二电平信号。一般的，协处理器指示接近传感器关闭后，通过第二GPIO发送第二低电平信号给应用处理器，应用处理器通过第二GPIO接收第二低电平信号。S303、接收中断恢复指令。一般的，中断恢复指令将设备由中断状态切换为恢复状态的指令，例如：应用处理器接收到中断恢复指令显示屏由熄屏状态切换为点亮状态。应用处理器接收通过第二GPIO发送第二低电平信号，判断第二GPIO电平变化是否满足预设中断方式，例如：应用处理器检测到第二GPIO由高电平变为低电平，满足应用处理器预设的下降沿触发中断方式，发送中断指令控制显示屏熄屏中断。S304、响应于所述中断恢复指令读取堆栈中保存的运行状态数据。一般的，中断是指计算机运行过程中，出现某些意外情况需主机干预时，机器能自动停止正在运行的程序并转入处理新情况的程序，处理完毕后又返回原被暂停的程序继续运行。应用处理器在进行中断时，自动取得中断服务子程序的入口地址，执行中断服务子程序，读取保存在堆栈中的数据，例如：代码段寄存器、指令指针寄存器和指令指针寄存器等中数据。S305、基于所述运行状态数据将所述显示屏对应的寄存器进行数值恢复后，将所述显示屏切换为亮屏状态。一般的，应用处理器读取到运行状态数据后，写入到显示屏对应寄存器中，基于这些数据执行点亮显示屏程序，将显示屏切换为亮屏状态。S306、接收中断请求信号。一般的，中断请求信号是应用处理器判断中断方式是否满足预设条件，若满足，应用处理器发送中断请求信号到显示屏，指示显示屏进行中断，例如：中断方式为GPIO下降沿中断，确定满足中断条件，应用处理器发送中断请求信号。当某一中断源需要处理器为其进行中断服务时，就输出中断请求信号，使中断控制系统的中断请求触发器置位，向应用处理器请求中断。本申请实施例中终端是通过位移传感器来控制将显示屏从点亮状态切换为熄屏状态的，例如：当用户拿出手机靠近耳朵是，位移传感器检测到手机位移形式满足预设的位移条件，协处理器发送电平信号到GPIO，应用处理器检测到GPIO电平变化为下降沿中断触发，应用处理器发送中断请求信号。S307、响应于所述中断请求信号将所述显示屏的运行状态数据压入堆栈保存。一般的，应用处理器接收到中断请求信号后，将第二GPIO相关寄存器中的当前运行状态数据压入到堆栈中，以便中断处理完毕后能返回被中断的原程序进行执行，即中断恢复。S308、通过第一GPIO通用引脚向协处理器发送第三电平信号。一般的，显示屏从亮屏状态切换到熄屏状态后，还需等待一定预设时间，因为显示屏熄屏点亮也要消耗一定时间，例如：显示屏熄屏时间为10毫秒，显示屏点亮时间为8毫秒，协处理器不能立刻打开接近传感器的光发射器。之后应用处理器通过第一GPIO向协处理器发送第三低电平信号。S309、通过第二GPIO接收来自所述协处理器的第四电平信号。一般的，协处理器接收到第三低电平信号后，会打开接近传感器的光发射器，通过第二GPIO向应用处理器发送第四高电平信号。由上述内容可知，通过第一GPIO通用引脚向协处理器发送第一电平信号，接收来自所述协处理器的所述第二电平信号，接收中断恢复指令，响应于所述中断恢复指令读取堆栈中保存的运行状态数据，基于所述运行状态数据将所述显示屏对应的寄存器进行数值恢复后，将所述显示屏切换为亮屏状态，接收中断请求信号，响应于所述中断请求信号将所述显示屏的运行状态数据压入堆栈保存，通过第一GPIO通用引脚向协处理器发送第三电平信号，通过第二GPIO接收来自所述协处理器的第四电平信号。应用处理器通过中断方式来控制显示屏工作状态，减少相关技术中不同处理器底层之间的交互造成的延迟过大的问题，减少终端切换的延迟，增加续航时间。请参见图4，为本申请实施例提供了一种终端的控制方法的第四流程示意图。所述方法可以包括以下步骤：S401、协处理器接收来自应用处理器的第一电平信号。一般的，协处理器通过读取第一GPIO相关寄存器来确定，由应用处理器写入第一GPIO相关寄存器中的第一高电平信号。S402、响应于所述第一电平信号关闭接近传感器的光发射器。一般的，接近传感器是指测量物体间距离的检测装置，一般带有光发射器，通过光学原理来确定距离，例如：红外激光发射器和紫外线光发射器等。协处理器检测第一GPIO电平变化，例如：检测到电平变化为下降沿中断触发，确定满足预设中断触发条件，接收中断指令请求信号，响应于所述中断请求信号将所述接近传感器的光发射器的运行状态数据压入堆栈保存，关闭接近传感器的光发射器。S403、向所述应用处理器发送第二电平信号。一般的，协处理器关闭接近传感器的光发射器后，会发送第二低电平信号给应用处理器，应用处理器根据第二低电平信号来确定显示屏工作状态。S404、协处理器接收来自应用处理器的第三电平信号。一般的，协处理器通过读取第一GPIO相关寄存器来确定第三低电平信号，其中，第三低电平信号由应用处理器写入第一GPIO相关寄存器中来改变的。S405、响应于所述第三电平信号打开所述接近传感器的光发射器。一般的，协处理器检测第一GPIO电平变化，例如：检测到变化方式为上升沿中断触发，确定不满足预设中断触发条件，接收中断恢复指令，响应于所述中断恢复指令读取堆栈保存的所述接近传感器的光发射器的运行状态数据，等待显示屏完全熄屏时长后，打开接近传感器的光发射器。S406、向所述应用处理器发送第四电平信号。一般的，协处理器打开接近传感器的光发射器后，会发送第四高电平信号到应用处理器，应用处理器可以根据该电平信号来确定显示屏工作状态。由上述内容可知，协处理器接收来自应用处理器的第一电平信号，响应于所述第一电平信号关闭接近传感器的光发射器，向所述应用处理器发送第二电平信号，协处理器接收来自应用处理器的第三电平信号，响应于所述第三电平信号打开所述接近传感器的光发射器，向所述应用处理器发送第四电平信号。协处理器通过中断方式来控制光发射器工作状态，减少相关技术中不同处理器底层之间的交互造成的延迟过大的问题，减少终端切换的延迟，增加续航时间。下述为本申请装置实施例，可以用于执行本申请方法实施例。对于本申请装置实施例中未披露的细节，请参照本申请方法实施例。请参见图5，其示出了本申请一个示例性实施例提供的终端的控制装置的结构示意图，以下简称控制装置5。控制装置5可以通过软件、硬件或者两者的结合实现成为终端的全部或一部分。包括：发送模块501，用于应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号；其中，所述第一电平信号用于指示所述协处理器关闭接近传感器的光发射器，以及向所述应用处理器发送第二电平信号；接收模块502，用于所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号；切换模块503，用于所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。可选地，所述切换模块503，还包括：处理单元，用于在所述显示屏需要由亮屏状态切换为熄屏状态时，控制所述显示屏在预设时长后切换为熄屏状态；通过所述第一GPIO向协处理器发送第三电平信号；其中，所述第三电平信号用于指示所述协处理器在所述预设时长之后打开所述光发射器，以及将向所述应用处理器发送第四电平信号；通过所述第二GPIO接收来自所述协处理器的第四电平信号。读取单元，用于接收中断恢复指令；响应于所述中断恢复指令读取堆栈中保存的运行状态数据；基于所述运行状态数据将所述显示屏对应的寄存器进行数值恢复后，将所述显示屏切换为亮屏状态。写入单元，用于接收中断请求信号；响应于所述中断请求信号将所述显示屏的运行状态数据压入堆栈保存；控制所述显示屏在预设时长后切换为熄屏状态。本申请实施例和图1c或图3的方法实施例基于同一构思，其带来的技术效果也相同，具体过程可参照图1c或图3的方法实施例的描述，此处不再赘述。所述装置5可以为实现相关功能的现场可编程门阵列，专用集成芯片，系统芯片，中央处理器，网络处理器，数字信号处理电路，微控制器，还可以采用可编程控制器或其他集成芯片。本申请实施例的方案在执行时，应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号。所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号。所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。应用处理器通过中断方式来控制显示屏工作状态，减少相关技术中不同处理器底层之间的交互造成的延迟过大的问题，减少终端切换的延迟，增加续航时间。请参见图6，其示出了本申请一个示例性实施例提供的终端的控制装置的另一结构示意图，以下简称控制装置6。控制装置6可以通过软件、硬件或者两者的结合实现成为终端的全部或一部分。包括：接收模块601，用于协处理器接收来自应用处理器的第一电平信号；响应模块602，用于响应于所述第一电平信号关闭接近传感器的光发射器；发送模块603，用于向所述应用处理器发送第二电平信号；其中，所述第二电平信号用于指示所述应用处理器控制显示屏由熄屏状态切换为亮屏状态。可选地，所述响应模块602，还包括：处理单元，用于协处理器接收来自应用处理器的第三电平信号；响应于所述第三电平信号打开所述接近传感器的光发射器；向所述应用处理器发送第四电平信号；其中，所述第四电平信号用于指示所述应用处理器控制显示屏由亮屏状态切换为熄屏状态。本申请实施例和图2或图4的方法实施例基于同一构思，其带来的技术效果也相同，具体过程可参照图2或图4的方法实施例的描述，此处不再赘述。所述装置6可以为实现相关功能的现场可编程门阵列，专用集成芯片，系统芯片，中央处理器，网络处理器，数字信号处理电路，微控制器，还可以采用可编程控制器或其他集成芯片。本申请实施例的方案在执行时，协处理器接收来自应用处理器的第一电平信号，响应于所述第一电平信号关闭接近传感器的光发射器，向所述应用处理器发送第二电平信号。协处理器通过中断方式来控制光发射器工作状态，减少相关技术中不同处理器底层之间的交互造成的延迟过大的问题，减少终端切换的延迟，增加续航时间。本申请实施例还提供了一种计算机存储介质，所述计算机存储介质可以存储有多条指令，所述指令适于由处理器加载并执行如上述的方法步骤，具体执行过程可以参见图1c至图4所示实施例的具体说明，在此不进行赘述。本申请还提供了一种计算机程序产品，该计算机程序产品存储有至少一条指令，所述至少一条指令由所述处理器加载并执行以实现如上各个实施例所述的模板的控制方法。请参见图7，为本申请实施例提供了一种电子设备的结构示意图。如图7所示，所述电子设备7可以包括：至少一个处理器701，至少一个网络接口704，用户接口703，存储器705，至少一个通信总线702。其中，通信总线702用于实现这些组件之间的连接通信。其中，用户接口703可以包括显示屏、摄像头，可选用户接口703还可以包括标准的有线接口、无线接口。其中，网络接口704可选的可以包括标准的有线接口、无线接口。其中，处理器701可以包括一个或者多个处理核心。处理器701利用各种借口和线路连接整个终端700内的各个部分，通过运行或执行存储在存储器705内的指令、程序、代码集或指令集，以及调用存储在存储器705内的数据，执行终端700的各种功能和处理数据。可选的，处理器701可以采用数字信号处理、现场可编程门阵列、可编程逻辑阵列中的至少一种硬件形式来实现。处理器701可集成中央处理器、图像处理器和调制解调器等中的一种或几种的组合。其中，CPU主要处理操作系统、用户界面和应用程序等；GPU用于负责显示屏所需要显示的内容的渲染和绘制；调制解调器用于处理无线通信。可以理解的是，上述调制解调器也可以不集成到处理器701中，单独通过一块芯片进行实现。其中，存储器705可以包括随机存储器，也可以包括只读存储器。可选的，该存储器705包括非瞬时性计算机可读介质。存储器705可用于存储指令、程序、代码、代码集或指令集。存储器705可包括存储程序区和存储数据区，其中，存储程序区可存储用于实现操作系统的指令、用于至少一个功能的指令、用于实现上述各个方法实施例的指令等；存储数据区可存储上面各个方法实施例中涉及到的数据等。存储器705可选的还可以是至少一个位于远离前述处理器701的存储装置。如图7所示，作为一种计算机存储介质的存储器705中可以包括操作系统、网络通信模块、用户接口模块以及终端的控制应用程序。在图7所示的电子设备700中，用户接口703主要用于为用户提供输入的接口，获取用户输入的数据；而处理器701可以用于调用存储器705中存储的终端的控制应用程序，并具体执行以下操作：应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号；其中，所述第一电平信号用于指示所述协处理器关闭接近传感器的光发射器，以及向所述应用处理器发送第二电平信号；所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号；所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。本应用程序还可执行以下操作：协处理器接收来自应用处理器的第一电平信号；响应于所述第一电平信号关闭接近传感器的光发射器；向所述应用处理器发送第二电平信号；其中，所述第二电平信号用于指示所述应用处理器控制显示屏由熄屏状态切换为亮屏状态。在一个实施例中，处理器501执行所述方法，还包括：在所述显示屏需要由亮屏状态切换为熄屏状态时，控制所述显示屏在预设时长后切换为熄屏状态；通过所述第一GPIO向协处理器发送第三电平信号；其中，所述第三电平信号用于指示所述协处理器在所述预设时长之后打开所述光发射器，以及将向所述应用处理器发送第四电平信号；通过所述第二GPIO接收来自所述协处理器的第四电平信号。在一个实施例中，处理器501执行所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态，包括：接收中断恢复指令；响应于所述中断恢复指令读取堆栈中保存的运行状态数据；基于所述运行状态数据将所述显示屏对应的寄存器进行数值恢复后，将所述显示屏切换为亮屏状态。在一个实施例中，处理器501执行所述控制所述显示屏在预设时长后切换为熄屏状态，包括：接收中断请求信号；响应于所述中断请求信号将所述显示屏的运行状态数据压入堆栈保存；控制所述显示屏在预设时长后切换为熄屏状态。在一个实施例中，处理器501执行所述方法，还包括：协处理器接收来自应用处理器的第三电平信号；响应于所述第三电平信号打开所述接近传感器的光发射器；向所述应用处理器发送第四电平信号；其中，所述第四电平信号用于指示所述应用处理器控制显示屏由亮屏状态切换为熄屏状态。本申请实施例的技术构思和图1c至图4的技术构思相同，具体过程可参照图1c至图4的方法实施例，此处不再赘述。在本申请实施例中，应用处理器在显示屏需要由熄屏状态切换为亮屏状态时，通过第一GPIO通用引脚向协处理器发送第一电平信号；其中，所述第一电平信号用于指示所述协处理器关闭接近传感器的光发射器，以及向所述应用处理器发送第二电平信号；所述应用处理器通过第二GPIO接收来自所述协处理器的所述第二电平信号；所述应用处理器响应于所述第二电平信号将所述显示屏切换为亮屏状态。协处理器接收来自应用处理器的第一电平信号；响应于所述第一电平信号关闭接近传感器的光发射器；向所述应用处理器发送第二电平信号；其中，所述第二电平信号用于指示所述应用处理器控制显示屏由熄屏状态切换为亮屏状态。处理器通过中断方式来切换显示屏和光发射器，减少相关技术中不同处理器底层之间的交互造成的延迟过大的问题，减少终端切换的延迟，增加续航时间。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，所述的存储介质可为磁碟、光盘、只读存储记忆体或随机存储记忆体等。以上所揭露的仅为本申请较佳实施例而已，当然不能以此来限定本申请之权利范围，因此依本申请权利要求所作的等同变化，仍属本申请所涵盖的范围。
