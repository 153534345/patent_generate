标题title
视频数据处理方法、装置、电子设备和存储介质
摘要abst
本公开提供了一种视频数据处理方法及装置，该方法包括：从终端设备中获取视频流数据；基于预设加密方法，计算得到视频流数据的摘要信息；采用终端设备中配置的公钥对终端设备的标识信息和视频流的摘要信息进行非对称加密，得到校验信息；基于视频流数据和校验信息，组合得到视频流报文；以及将视频流报文传输至后台服务器。此外，本公开还提供了一种视频数据处理方法及装置、一种电子设备和一种可读存储介质。
权利要求书clms
1.一种视频数据处理方法，包括：从终端设备中获取视频流数据；基于预设加密方法，计算得到所述视频流数据的摘要信息；采用所述终端设备中配置的公钥对所述终端设备的标识信息和所述视频流的摘要信息进行非对称加密，得到校验信息；基于所述视频流数据和所述校验信息，组合得到视频流报文；以及将所述视频流报文传输至后台服务器。2.根据权利要求1所述的方法，其中，所述基于所述视频流数据和所述校验信息，组合得到视频流报文，包括：基于预设协议，生成初始报文，其中，所述初始报文包括报文头和标准数据包；配置所述初始报文的报文头，得到所述报文头的扩展数据域；以及将所述校验信息存储到所述扩展数据域中，并将所述视频流数据填充至所述标准数据包中，得到所述视频流报文。3.根据权利要求2所述的方法，其中，所述预设协议包括RTP/RTCP协议；其中，所述配置所述初始报文的报文头，得到所述报文头的扩展数据域，包括：将所述初始报文的报文头中的扩展位置位，以生成所述扩展数据域。4.根据权利要求2所述的方法，其中，所述将所述视频流数据填充至所述标准数据包中，包括：采用预设压缩方法，对所述视频流数据进行压缩；以及将压缩后的视频流数据填充至所述标准数据包中。5.一种视频数据处理方法，包括：解析由终端设备发送的目标视频流报文，得到目标视频流数据和目标校验信息；调用预设私钥对所述目标校验信息进行解密，得到目标标识信息和目标摘要信息；基于所述目标标识信息和所述目标摘要信息对所述目标视频流数据进行验证，得到验证结果；以及在所述验证结果表示所述目标视频流数据通过验证的情况下，将所述目标视频流数据存储至存储模块中。6.根据权利要求5所述的方法，其中，所述解析接收到的目标视频流报文，得到目标视频流数据和目标校验信息，包括：从所述目标视频流报文的报文头的扩展数据域中解析得到所述目标校验信息；以及从所述目标视频流报文的标准数据包中解析得到所述目标视频流数据。7.根据权利要求6所述的方法，其中，所述从所述目标视频流报文的标准数据包中解析得到所述目标视频流数据，包括：采用预设解压方法，对从所述目标视频流报文的标准数据包中解析得到的数据进解压，得到所述目标视频流数据。8.根据权利要求5所述的方法，其中，所述基于所述目标标识信息和所述目标摘要信息对所述目标视频流数据进行验证，得到验证结果，包括：基于预设加密方法，计算得到所述目标视频流数据的当前摘要信息；将所述目标摘要信息与所述当前摘要信息进行匹配，得到第一匹配结果；在所述第一匹配结果表示所述目标摘要信息与所述当前摘要信息一致的情况下，将所述目标标识信息与所述后台服务器中配置的设备列表中包含的标识信息进行匹配，得到第二匹配结果；在所述第二匹配结果表示所述目标标识信息包含在所述设备列表中的情况下，得到表示所述目标视频流数据通过验证的所述验证结果；以及在所述第二匹配结果表示所述目标标识信息未包含在所述设备列表中的情况下，得到表示所述目标视频流数据未通过验证的所述验证结果。9.根据权利要求8所述的方法，还包括：在所述第一匹配结果表示所述目标摘要信息与所述当前摘要信息不一致的情况下，得到表示所述目标视频流数据未通过验证的所述验证结果。10.根据权利要求5～9中任一项所述的方法，还包括：在所述验证结果表示所述目标视频流数据未通过验证的情况下，将所述目标视频流数据删除。11.一种视频数据处理装置，包括：第一处理模块，用于从终端设备中获取视频流数据；第一加密模块，用于基于预设加密方法，计算得到所述视频流数据的摘要信息；第二加密模块，用于采用所述终端设备中配置的公钥对所述终端设备的标识信息和所述视频流的摘要信息进行非对称加密，得到校验信息；第二处理模块，用于基于所述视频流数据和所述校验信息，组合得到视频流报文；以及发送模块，用于将所述视频流报文传输至后台服务器。12.一种视频数据处理装置，包括：解析模块，用于解析由终端设备发送的目标视频流报文，得到目标视频流数据和目标校验信息；解密模块，用于调用预设私钥对所述目标校验信息进行解密，得到目标标识信息和目标摘要信息；验证模块，用于基于所述目标标识信息和所述目标摘要信息对所述目标视频流数据进行验证，得到验证结果；以及存储模块，用于在所述验证结果表示所述目标视频流数据通过验证的情况下，将所述目标视频流数据存储至存储模块中。13.一种电子设备，包括：一个或多个处理器；存储器，用于存储一个或多个指令，其中，当所述一个或多个指令被所述一个或多个处理器执行时，使得所述一个或多个处理器实现权利要求1至10中任一项所述的方法。14.一种计算机可读存储介质，其上存储有可执行指令，所述可执行指令被处理器执行时使处理器实现权利要求1至10中任一项所述的方法。15.一种计算机程序产品，所述计算机程序产品包括计算机可执行指令，所述计算机可执行指令在被执行时用于实现权利要求1至10中任一项所述的方法。
说明书desc
技术领域本公开涉及加密技术领域和金融安防领域，更具体地，涉及一种视频数据处理方法、一种视频数据处理装置、一种电子设备、一种可读存储介质和一种计算机程序产品。背景技术随着视频监控在金融安防领域中逐步普及，海量的视频摄像头通过网络接入到视频监控管理系统，随之而来产生了数以PB计的视频资料。目前网络视频监控技术关注的重点在于系统功能的实现，主要包括视频图像的采集、存储和如何实现网络传输。而视频图像的安全性则由于技术限制和准备不足成为行业产品厂商的短板甚至是盲区，造成了目前的视频监控系统自身安全保障的缺失。在实现本公开构思的过程中，发明人发现相关技术中至少存在如下问题：相关技术中采取的加密方案无法准确识别视频图像是否在视频传输过程中被篡改，难以满足视频数据加密的需求。发明内容有鉴于此，本公开提供了一种视频数据处理方法、一种视频数据处理装置、一种电子设备、一种可读存储介质和一种计算机程序产品。本公开的一个方面提供了一种视频数据处理方法，包括：从终端设备中获取视频流数据；基于预设加密方法，计算得到上述视频流数据的摘要信息；采用上述终端设备中配置的公钥对上述终端设备的标识信息和上述视频流的摘要信息进行非对称加密，得到校验信息；基于上述视频流数据和上述校验信息，组合得到视频流报文；以及将上述视频流报文传输至后台服务器。根据本公开的实施例，上述基于上述视频流数据和上述校验信息，组合得到视频流报文，包括：基于预设协议，生成初始报文，其中，上述初始报文包括报文头和标准数据包；配置上述初始报文的报文头，得到上述报文头的扩展数据域；以及将上述校验信息存储到上述扩展数据域中，并将上述视频流数据填充至上述标准数据包中，得到上述视频流报文。根据本公开的实施例，上述预设协议包括RTP/RTCP协议；其中，上述配置上述初始报文的报文头，得到上述报文头的扩展数据域，包括：将上述初始报文的报文头中的扩展位置位，以生成上述扩展数据域。根据本公开的实施例，上述将上述视频流数据填充至上述标准数据包中，包括：采用预设压缩方法，对上述视频流数据进行压缩；以及将压缩后的视频流数据填充至上述标准数据包中。本公开的另一个方面提供了一种视频数据处理方法，包括：解析由终端设备发送的目标视频流报文，得到目标视频流数据和目标校验信息；调用预设私钥对上述目标校验信息进行解密，得到目标标识信息和目标摘要信息；基于上述目标标识信息和上述目标摘要信息对上述目标视频流数据进行验证，得到验证结果；以及在上述验证结果表示上述目标视频流数据通过验证的情况下，将上述目标视频流数据存储至存储模块中。根据本公开的实施例，上述解析接收到的目标视频流报文，得到目标视频流数据和目标校验信息，包括：从上述目标视频流报文的报文头的扩展数据域中解析得到上述目标校验信息；以及从上述目标视频流报文的标准数据包中解析得到上述目标视频流数据。根据本公开的实施例，上述从上述目标视频流报文的标准数据包中解析得到上述目标视频流数据，包括：采用预设解压方法，对从上述目标视频流报文的标准数据包中解析得到的数据进解压，得到上述目标视频流数据。根据本公开的实施例，上述基于上述目标标识信息和上述目标摘要信息对上述目标视频流数据进行验证，得到验证结果，包括：基于预设加密方法，计算得到上述目标视频流数据的当前摘要信息；将上述目标摘要信息与上述当前摘要信息进行匹配，得到第一匹配结果；在上述第一匹配结果表示上述目标摘要信息与上述当前摘要信息一致的情况下，将上述目标标识信息与上述后台服务器中配置的设备列表中包含的标识信息进行匹配，得到第二匹配结果；在上述第二匹配结果表示上述目标标识信息包含在上述设备列表中的情况下，得到表示上述目标视频流数据通过验证的上述验证结果；以及在上述第二匹配结果表示上述目标标识信息未包含在上述设备列表中的情况下，得到表示上述目标视频流数据未通过验证的上述验证结果。根据本公开的实施例，上述方法还包括：在上述第一匹配结果表示上述目标摘要信息与上述当前摘要信息不一致的情况下，得到表示上述目标视频流数据未通过验证的上述验证结果。根据本公开的实施例，上述方法还包括：在上述验证结果表示上述目标视频流数据未通过验证的情况下，将上述目标视频流数据删除。本公开的另一个方面提供了一种视频数据处理装置，包括：第一处理模块，用于从终端设备中获取视频流数据；第一加密模块，用于基于预设加密方法，计算得到上述视频流数据的摘要信息；第二加密模块，用于采用上述终端设备中配置的公钥对上述终端设备的标识信息和上述视频流的摘要信息进行非对称加密，得到校验信息；第二处理模块，用于基于上述视频流数据和上述校验信息，组合得到视频流报文；以及发送模块，用于将上述视频流报文传输至后台服务器。本公开的另一个方面提供了一种视频数据处理装置，包括：解析模块，用于解析由终端设备发送的目标视频流报文，得到目标视频流数据和目标校验信息；解密模块，用于调用预设私钥对上述目标校验信息进行解密，得到目标标识信息和目标摘要信息；验证模块，用于基于上述目标标识信息和上述目标摘要信息对上述目标视频流数据进行验证，得到验证结果；以及存储模块，用于在上述验证结果表示上述目标视频流数据通过验证的情况下，将上述目标视频流数据存储至存储模块中。本公开的另一方面提供了一种电子设备，包括：一个或多个处理器；存储器，用于存储一个或多个指令，其中，当所述一个或多个指令被所述一个或多个处理器执行时，使得所述一个或多个处理器实现如上所述的方法。本公开的另一方面提供了一种计算机可读存储介质，存储有计算机可执行指令，所述指令在被执行时用于实现如上所述的方法。本公开的另一方面提供了一种计算机程序产品，所述计算机程序产品包括计算机可执行指令，所述指令在被执行时用于实现如上所述的方法。根据本公开的实施例，对于终端设备中的视频流数据，可以结合该终端设备的标识信息，对视频流数据进行两次加密，以得到检验信息，之后，可以基于视频流传输协议，将检验信息和视频流数据组合到视频流报文中，以实现视频流数据的加密传输。通过上述技术手段，至少部分地克服了相关技术中采取的加密方案无法准确识别视频数据是否在视频传输过程中被篡改，难以满足视频数据加密的需求的技术问题，从而有效保障了视频数据的有效性和安全性。附图说明通过以下参照附图对本公开实施例的描述，本公开的上述以及其他目的、特征和优点将更为清楚，在附图中：图1示意性示出了根据本公开实施例的可以应用视频数据处理方法的示例性系统架构。图2示意性示出了根据本公开实施例的视频数据加密传输方法的流程图。图3示意性示出了根据本公开实施例的视频流报文组装方法的流程图。图4示意性示出了根据本公开实施例的视频数据解密存储方法的流程图。图5示意性示出了根据本公开实施例的目标视频流数据验证方法的示意图。图6示意性示出了根据本公开的实施例的视频数据加密传输装置的框图。图7示意性示出了根据本公开实施例的视频数据解密存储装置的框图。图8示意性示出了根据本公开实施例的适于实现视频数据处理方法的电子设备的框图。具体实施方式以下，将参照附图来描述本公开的实施例。但是应该理解，这些描述只是示例性的，而并非要限制本公开的范围。在下面的详细描述中，为便于解释，阐述了许多具体的细节以提供对本公开实施例的全面理解。然而，明显地，一个或多个实施例在没有这些具体细节的情况下也可以被实施。此外，在以下说明中，省略了对公知结构和技术的描述，以避免不必要地混淆本公开的概念。在此使用的术语仅仅是为了描述具体实施例，而并非意在限制本公开。在此使用的术语“包括”、“包含”等表明了所述特征、步骤、操作和/或部件的存在，但是并不排除存在或添加一个或多个其他特征、步骤、操作或部件。在此使用的所有术语具有本领域技术人员通常所理解的含义，除非另外定义。应注意，这里使用的术语应解释为具有与本说明书的上下文相一致的含义，而不应以理想化或过于刻板的方式来解释。在使用类似于“A、B和C等中至少一个”这样的表述的情况下，一般来说应该按照本领域技术人员通常理解该表述的含义来予以解释。在使用类似于“A、B或C等中至少一个”这样的表述的情况下，一般来说应该按照本领域技术人员通常理解该表述的含义来予以解释。在相关技术中，主要采取的加密方案是采取对设备进行加密认证，只有经过认证的设备传输的视频流才能正常的进行播放。由于视频流需要通过网络链路进行传输，相关技术中的加密方案无法避免视频流在传输过程中被篡改的问题。随着SVAC标准的推广，结构化信息与视频流相结合成为视频数据传输的优先选项。有鉴于此，本公开的实施例通过对视频流数据的原始报文进行改造，修改扩展位信息，在扩展报文头中经过加密的公钥信息，完成对视频流报文信息的加密，在传输到后台之后，经过解密模块，通过私钥进行解密，之后再进行播放或存储，从而从根本上解决视频流数据的加密需求，提升视频加密的安全性和有效性，节省人力、时间成本。具体地，本公开的实施例提供了一种视频数据处理方法、一种视频数据处理装置、一种电子设备、一种可读存储介质和一种计算机程序产品。该方法包括视频数据加密传输方法和视频数据解密存储方法，其中，视频数据加密传输过程包括：从终端设备中获取视频流数据；基于预设加密方法，计算得到视频流数据的摘要信息；采用终端设备中配置的公钥对终端设备的标识信息和视频流的摘要信息进行非对称加密，得到校验信息；基于视频流数据和校验信息，组合得到视频流报文；以及将视频流报文传输至后台服务器。视频数据解密存储过程包括：解析由终端设备发送的目标视频流报文，得到目标视频流数据和目标校验信息；调用预设私钥对目标校验信息进行解密，得到目标标识信息和目标摘要信息；基于目标标识信息和目标摘要信息对目标视频流数据进行验证，得到验证结果；以及在验证结果表示目标视频流数据通过验证的情况下，将目标视频流数据存储至存储模块中。在本公开的技术方案中，所涉及的用户个人信息的获取，存储和应用等，均符合相关法律法规的规定，采取了必要保密措施，且不违背公序良俗。在本公开的技术方案中，在获取或采集用户个人信息之前，均获取了用户的授权或同意。图1示意性示出了根据本公开实施例的可以应用视频数据处理方法的示例性系统架构。需要注意的是，图1所示仅为可以应用本公开实施例的系统架构的示例，以帮助本领域技术人员理解本公开的技术内容，但并不意味着本公开实施例不可以用于其他设备、系统、环境或场景。如图1所示，根据该实施例的系统架构100可以包括终端设备101、102、103，网络104和服务器105。终端设备101、102、103可以是任意类型的安防摄像设备；或者，也可以是具有摄像功能的各种电子设备，包括但不限于闸机、手机等；再或者，还可以是任意具有存储功能的电子设备，包括但不限于平板电脑、台式计算机等。网络104用以在终端设备101、102、103和服务器105之间提供通信链路的介质。网络104可以包括各种连接类型，例如有线和/或无线通信链路等等。服务器105可以是提供各种服务的服务器，例如，用以接收来自终端设备的视频数据的后台服务器；或者，对来自终端设备的视频数据进行加密处理的位于设备端的服务器；再或者，对接收到的加密视频数据进行解密并发送至后台服务器的位于服务端的服务器。终端设备101、102、103可以在法律许可的各种应用场景中采集视频数据，或者，存储来自外部存储介质的视频数据，该视频数据可以通过网络104发送至服务器105，由服务器105对这些视频数据进行使用或存储。需要说明的是，本公开实施例所提供的视频数据处理方法一般可以由服务器105执行。相应地，本公开实施例所提供的视频数据处理装置一般可以设置于服务器105中。本公开实施例所提供的视频数据处理方法也可以由不同于服务器105且能够与终端设备101、102、103和/或服务器105通信的服务器或服务器集群执行。相应地，本公开实施例所提供的视频数据处理装置也可以设置于不同于服务器105且能够与终端设备101、102、103和/或服务器105通信的服务器或服务器集群中。或者，本公开实施例所提供的视频数据处理方法也可以由终端设备101、102、或103执行，或者也可以由不同于终端设备101、102、或103的其他终端设备执行。相应地，本公开实施例所提供的视频数据处理装置也可以设置于终端设备101、102、或103中，或设置于不同于终端设备101、102、或103的其他终端设备中。例如，视频流数据可以原本存储于终端设备101、102、或103中的任意一个中，然后，终端设备101可以在本地执行本公开实施例所提供的视频数据处理方法；或者，终端设备101可以将视频信号发送到其他终端设备、服务器、或服务器集群，并由接收该待处理图像的其他终端设备、服务器、或服务器集群来执行本公开实施例所提供的视频数据处理方法。应该理解，图1中的终端设备、网络和服务器的数目仅仅是示意性的。根据实现需要，可以具有任意数目的终端设备、网络和服务器。图2示意性示出了根据本公开实施例的视频数据加密传输方法的流程图。如图2所示，该方法包括操作S201～S205。需要说明的是，本公开实施例中的流程图所示的操作除非明确说明不同操作之间存在执行的先后顺序，或者不同操作在技术实现上存在执行的先后顺序，否则，多个操作之间的执行顺序可以不分先后，多个操作也可以同时执行。在操作S201，从终端设备中获取视频流数据。在操作S202，基于预设加密方法，计算得到视频流数据的摘要信息。在操作S203，采用终端设备中配置的公钥对终端设备的标识信息和视频流的摘要信息进行非对称加密，得到校验信息。在操作S204，基于视频流数据和校验信息，组合得到视频流报文。在操作S205，将视频流报文传输至后台服务器。根据本公开的实施例，终端设备可以是独立的安防摄像设备，也可以是具有摄像装置的安防电子设备，还可以是具有存储器的各类电子设备。根据本公开的实施例，视频流数据可以是由终端设备直接采集得到的，也可以是通过外部存储介质，如USB、移动硬盘等传输到终端设备中的，在此不作限定。根据本公开的实施例，通过终端设备中的摄像设备直接采集的可以是模拟信号形式的视频信号，可以通过模数转换的方式将该视频信号转化为能够进行信息化处理的视频流数据。模数转换可以采用ADC硬件产品来完成，也可以使用相关模数转换算法来实现，在此不作限定。根据本公开的实施例，对于通过外部存储介质传输的视频流数据，还可以对该视频流数据进行安全性检验，以确保该视频流数据的可靠性。根据本公开的实施例，预设加密方法可以是任意类型的哈希算法，例如MD5、SHA256等。该预设加密方法可以将任意长度的视频流数据运算为一串固定长度的编码，即该视频流数据的摘要信息。根据本公开的实施例，由于哈希算法不可逆和唯一对应的特性，后台服务器可以基于该摘要信息对接收到的视频流数据进行验证，以避免原始视频流数据在传输过程中被篡改。根据本公开的实施例，公钥可以与终端设备唯一对应。公钥信息可以是在终端设备出厂前，便烧制在该终端设备的主板中；也可以是在该终端设备使用前，由后台服务器录入主板中，在此不作限定。根据本公开的实施例，终端设备的标识信息可以是该终端设备的唯一标识码。根据本公开的实施例，与终端设备中配置的公钥对应的私钥可以配置在后台服务器中，后台服务器在接收到视频流报文后，可以提取相应的私钥对校验信息进行解密。根据本公开的实施例，对于终端设备中的视频流数据，可以结合该终端设备的标识信息，对视频流数据进行两次加密，以得到检验信息，之后，可以基于视频流传输协议，将检验信息和视频流数据组合到视频流报文中，以实现视频流数据的加密传输。通过上述技术手段，至少部分地克服了相关技术中采取的加密方案无法准确识别视频数据是否在视频传输过程中被篡改，难以满足视频数据加密的需求的技术问题，从而有效保障了视频数据的有效性和安全性。下面参考图3，结合具体实施例对图2所示的方法做进一步说明。图3示意性示出了根据本公开实施例的视频流报文组装方法的流程图。如图3所示，该方法包括操作S301～S303。在操作S301，基于预设协议，生成初始报文。在操作S302，配置初始报文的报文头，得到报文头的扩展数据域。在操作S303，将校验信息存储到扩展数据域中，并将视频流数据填充至标准数据包中，得到视频流报文。根据本公开的实施例，预设协议可以是RTP/RTCP协议、RTSP协议、HTTP协议等，在此不作限制。以下以RTP/RTCP协议为例进行说明。根据本公开的实施例，基于RTP/RTCP协议生成的初始RTP/RTCP报文可以包括RTP报文头和标准数据包。其中，RTP报文头中可以包括以下内容：版本号：2比特，用来标志使用的RTP版本。填充位：1比特，如果该位置位，则该RTP包的尾部就包含附加的填充字节。扩展位：1比特，如果该位置位的话，RTP固定头部后面就跟有一个扩展头部。CSRC计数器：4比特，含有固定头部后面跟着的CSRC的数目。标记位：1比特，该位的解释由配置文档来承担。载荷类型：7比特，标识了RTP载荷的类型。序列号：16比特，每发送一个RTP数据包，序列号增加1；接收端可以据此检测丢包和重建包序列。时间戳：2比特，记录了该包中数据的第一个字节的采样时刻；在一次会话开始时，时间戳初始化成一个初始值；即使在没有信号发送时，时间戳的数值也会随时间而不断地增加；时钟频率依赖于负载数据格式，并在描述文件中进行描述。同步源标识符：32比特，同步源就是指RTP包流的来源。在同一个RTP会话中不能有两个相同的SSRC值。该标识符是随机选取的RFC1889推荐了MD5随机算法。贡献源列表：0～15项，每项32比特，用来标志对一个RTP混合器产生的新包有贡献的所有RTP包的源。由混合器将这些有贡献的SSRC标识符插入表中。SSRC标识符都被列出来，以便接收端能正确指出交谈双方的身份。根据本公开的实施例，可以将初始RTP/RTCP报文的RTP报文头中的扩展位置位，即将扩展位置1，以生成该RTP报文头的扩展数据域。根据本公开的实施例，该扩展数据域可以位于RTP报文头的贡献源列表之后。该扩展数据域可以记录经过非对称加密后的终端设备的唯一标识码、当前的时间戳、视频流数据的校验信息等。在一些实施例中，将视频流数据填充至标准数据包之前，还可以采用预设压缩方法对视频流数据进行压缩，并将压缩后的视频流数据填充至标准数据包中。根据本公开的实施例，预设压缩方法可以是任意图像编码和压缩方法，包括但不限于MPEG-2、MPEG-4、H.264、SVAC、AVS等。根据本公开的实施例，通过对视频流数据进行数据压缩，可以在保证视频质量的前提下，节省视频流数据在传输过程中的带宽需求。图4示意性示出了根据本公开实施例的视频数据解密存储方法的流程图。如图4所示，该方法包括操作S401～S404。在操作S401，解析由终端设备发送的目标视频流报文，得到目标视频流数据和目标校验信息。在操作S402，调用预设私钥对目标校验信息进行解密，得到目标标识信息和目标摘要信息。在操作S403，基于目标标识信息和目标摘要信息对目标视频流数据进行验证，得到验证结果。在操作S404，在验证结果表示目标视频流数据通过验证的情况下，将目标视频流数据存储至存储模块中。根据本公开的实施例，视频流报文可以是基于TCP/IP协议、通过物理链路层从终端设备发送到后台服务器的。根据本公开的实施例，根据目标视频流报文的传输路径确定生成该视频流数据的目标终端设备。预设私钥可以是与该目标终端设备中持有的公钥对应的私钥。根据本公开的实施例，对目标视频流数据进行验证可以包括对目标视频流数据的完整性和有效性的验证和对产生或存储该目标视频流数据的终端设备的合法性的验证。根据本公开的实施例，通过将接受到的视频流数据进行解密和验证，可以仅将通过验证的视频流数据入库存储，对于未通过验证的视频流数据可以直接删除，可以有效保证视频流数据在传输过程中的安全性、真实性以及完整性。下面参考图5，结合具体实施例对图4所示的方法做进一步说明。根据本公开的实施例，可以从目标视频流报文的报文头的扩展数据域中解析得到目标校验信息，从目标视频流报文的标准数据包中解析得到目标视频流数据。在一些实施例中，目标视频流报文的标准数据包中包含的数据可以是已压缩的视频流数据，因此可以使用预设解压方法对该已压缩的视频流数据进行解压，以得到目标视频流数据。其中，预设解压方法可以是与发送该目标视频流报文的终端设备所采用的压缩方法对应的解压方法。图5示意性示出了根据本公开实施例的目标视频流数据验证方法的示意图。如图5所示，该方法包括操作S501～S507。在操作S501，基于预设加密方法，计算得到目标视频流数据的当前摘要信息。在操作S502，将目标摘要信息与当前摘要信息进行匹配。在操作S503，判断目标摘要信息是否与当前摘要信息一致。在确定目标摘要信息与当前摘要信息一致的情况下，执行操作S504；在确定目标摘要信息与当前摘要信息不一致的情况下，执行操作S507。在操作S504，将目标标识信息与后台服务器中配置的设备列表中包含的标识信息进行匹配。在操作S505，判断目标标识信息是否包含在设备列表中。在确定目标标识信息包含在设备列表中的情况下，执行操作S506；在确定目标标识信息未包含在设备列表中的情况下，执行操作S507。在操作S506，得到表示目标视频流数据通过验证的验证结果。在操作S507，得到表示目标视频流数据未通过验证的验证结果。根据本公开的实施例，预设加密方法可以是哈希算法，包括但不限于MD5、SHA256等。根据本公开的实施例，预设加密方法可以是与发送目标视频流报文的目标终端设备所使用的加密方法相同的加密方法，也可以是预先约定的加密方法。根据本公开的实施例，可以将目标摘要信息和当前摘要信息的每一位均进行匹配，在其中任意一位字符不同的情况下，可以认为目标摘要信息与当前摘要信息不一致。根据本公开的实施例，后台服务器的设备列表中可以记录有所有已注册的终端设备的唯一标识码。在目标标识信息未包含在设备列表中的情况下，可以认为该发送该目标视频流数据的终端设备是未注册或不合法的。根据本公开的实施例，在验证结果表示目标视频流数据未通过验证的情况下，可以将目标视频流数据删除，以避免其对已入库视频流数据造成污染，影响这些视频流数据的可信度。图6示意性示出了根据本公开的实施例的视频数据加密传输装置的框图。如图6所示，视频数据加密传输装置600包括第一处理模块610、第一加密模块620、第二加密模块630、第二处理模块640和发送模块650。第一处理模块610，用于从终端设备中获取视频流数据。第一加密模块620，用于基于预设加密方法，计算得到视频流数据的摘要信息。第二加密模块630，用于采用终端设备中配置的公钥对终端设备的标识信息和视频流的摘要信息进行非对称加密，得到校验信息。第二处理模块640，用于基于视频流数据和校验信息，组合得到视频流报文。发送模块650，用于将视频流报文传输至后台服务器。根据本公开的实施例，对于终端设备中的视频流数据，可以结合该终端设备的标识信息，对视频流数据进行两次加密，以得到检验信息，之后，可以基于视频流传输协议，将检验信息和视频流数据组合到视频流报文中，以实现视频流数据的加密传输。通过上述技术手段，至少部分地克服了相关技术中采取的加密方案无法准确识别视频数据是否在视频传输过程中被篡改，难以满足视频数据加密的需求的技术问题，从而有效保障了视频数据的有效性和安全性。根据本公开的实施例，第二处理模块640包括第一处理单元、第二处理单元和第三处理单元。第一处理单元，用于基于预设协议，生成初始报文，其中，初始报文包括报文头和标准数据包。第二处理单元，用于配置初始报文的报文头，得到报文头的扩展数据域。第三处理单元，用于将校验信息存储到扩展数据域中，并将视频流数据填充至标准数据包中，得到视频流报文。根据本公开的实施例，预设协议包括RTP/RTCP协议。根据本公开的实施例，第二处理单元包括第一处理子单元。第一处理子单元，用于将初始报文的报文头中的扩展位置位，以生成扩展数据域。根据本公开的实施例，第三处理单元包括第二处理子单元和第三处理子单元。第二处理子单元，用于采用预设压缩方法，对视频流数据进行压缩。第三处理子单元，用于将压缩后的视频流数据填充至标准数据包中。图7示意性示出了根据本公开实施例的视频数据解密存储装置的框图。如图7所示，视频数据解密存储装置700包括解析模块710、解密模块720、验证模块730和存储模块740。解析模块710，用于解析由终端设备发送的目标视频流报文，得到目标视频流数据和目标校验信息。解密模块720，用于调用预设私钥对目标校验信息进行解密，得到目标标识信息和目标摘要信息。验证模块730，用于基于目标标识信息和目标摘要信息对目标视频流数据进行验证，得到验证结果。存储模块740，用于在验证结果表示目标视频流数据通过验证的情况下，将目标视频流数据存储至存储模块中。根据本公开的实施例，通过将接受到的视频流数据进行解密和验证，可以仅将通过验证的视频流数据入库存储，对于未通过验证的视频流数据可以直接删除，可以有效保证视频流数据在传输过程中的安全性、真实性以及完整性。根据本公开的实施例，解析模块710包括第一解析单元和第二解析单元。第一解析单元，用于从目标视频流报文的报文头的扩展数据域中解析得到目标校验信息。第二解析单元，用于从目标视频流报文的标准数据包中解析得到目标视频流数据。根据本公开的实施例，第二解析单元包括第一解析子单元。第一解析子单元，用于采用预设解压方法，对从目标视频流报文的标准数据包中解析得到的数据进解压，得到目标视频流数据。根据本公开的实施例，验证模块730包括第一验证单元、第二验证单元、第三验证单元、第四验证单元和第五验证单元。第一验证单元，用于基于预设加密方法，计算得到目标视频流数据的当前摘要信息。第二验证单元，用于将目标摘要信息与当前摘要信息进行匹配，得到第一匹配结果。第三验证单元，用于在第一匹配结果表示目标摘要信息与当前摘要信息一致的情况下，将目标标识信息与后台服务器中配置的设备列表中包含的标识信息进行匹配，得到第二匹配结果。第四验证单元，用于在第二匹配结果表示目标标识信息包含在设备列表中的情况下，得到表示目标视频流数据通过验证的验证结果。第五验证单元，用于在第二匹配结果表示目标标识信息未包含在设备列表中的情况下，得到表示目标视频流数据未通过验证的验证结果。根据本公开的实施例，验证模块730还包括第六验证单元。第六验证单元，用于在第一匹配结果表示目标摘要信息与当前摘要信息不一致的情况下，得到表示目标视频流数据未通过验证的验证结果。根据本公开的实施例，视频数据解密存储装置700还包括第三处理模块。第三处理模块，用于在验证结果表示目标视频流数据未通过验证的情况下，将目标视频流数据删除。根据本公开的实施例的模块、子模块、单元、子单元中的任意多个、或其中任意多个的至少部分功能可以在一个模块中实现。根据本公开实施例的模块、子模块、单元、子单元中的任意一个或多个可以被拆分成多个模块来实现。根据本公开实施例的模块、子模块、单元、子单元中的任意一个或多个可以至少被部分地实现为硬件电路，例如现场可编程门阵列、可编程逻辑阵列、片上系统、基板上的系统、封装上的系统、专用集成电路，或可以通过对电路进行集成或封装的任何其他的合理方式的硬件或固件来实现，或以软件、硬件以及固件三种实现方式中任意一种或以其中任意几种的适当组合来实现。或者，根据本公开实施例的模块、子模块、单元、子单元中的一个或多个可以至少被部分地实现为计算机程序模块，当该计算机程序模块被运行时，可以执行相应的功能。例如，第一处理模块610、第一加密模块620、第二加密模块630、第二处理模块640、发送模块650、解析模块710、解密模块720、验证模块730和存储模块740中的任意多个可以合并在一个模块/单元/子单元中实现，或者其中的任意一个模块/单元/子单元可以被拆分成多个模块/单元/子单元。或者，这些模块/单元/子单元中的一个或多个模块/单元/子单元的至少部分功能可以与其他模块/单元/子单元的至少部分功能相结合，并在一个模块/单元/子单元中实现。根据本公开的实施例，第一处理模块610、第一加密模块620、第二加密模块630、第二处理模块640、发送模块650、解析模块710、解密模块720、验证模块730和存储模块740中的至少一个可以至少被部分地实现为硬件电路，例如现场可编程门阵列、可编程逻辑阵列、片上系统、基板上的系统、封装上的系统、专用集成电路，或可以通过对电路进行集成或封装的任何其他的合理方式等硬件或固件来实现，或以软件、硬件以及固件三种实现方式中任意一种或以其中任意几种的适当组合来实现。或者，第一处理模块610、第一加密模块620、第二加密模块630、第二处理模块640、发送模块650、解析模块710、解密模块720、验证模块730和存储模块740中的至少一个可以至少被部分地实现为计算机程序模块，当该计算机程序模块被运行时，可以执行相应的功能。需要说明的是，本公开的实施例中视频数据加密传输装置部分与本公开的实施例中视频数据加密传输方法部分是相对应的，本公开的实施例中视频数据解密存储装置部分与本公开的实施例中视频数据解密存储方法部分是相对应的。视频数据加密传输装置部分的描述具体参考视频数据加密传输方法部分，视频数据解密存储装置部分的描述具体参考视频数据解密存储方法部分，在此不再赘述。图8示意性示出了根据本公开实施例的适于实现视频数据处理方法的电子设备的框图。图8示出的电子设备仅仅是一个示例，不应对本公开实施例的功能和使用范围带来任何限制。如图8所示，根据本公开实施例的计算机电子设备800包括处理器801，其可以根据存储在只读存储器802中的程序或者从存储部分808加载到随机访问存储器803中的程序而执行各种适当的动作和处理。处理器801例如可以包括通用微处理器、指令集处理器和/或相关芯片组和/或专用微处理器)，等等。处理器801还可以包括用于缓存用途的板载存储器。处理器801可以包括用于执行根据本公开实施例的方法流程的不同动作的单一处理单元或者是多个处理单元。在RAM 803中，存储有电子设备800操作所需的各种程序和数据。处理器801、ROM802以及RAM 803通过总线804彼此相连。处理器801通过执行ROM 802和/或RAM 803中的程序来执行根据本公开实施例的方法流程的各种操作。需要注意，所述程序也可以存储在除ROM802和RAM 803以外的一个或多个存储器中。处理器801也可以通过执行存储在所述一个或多个存储器中的程序来执行根据本公开实施例的方法流程的各种操作。根据本公开的实施例，电子设备800还可以包括输入/输出接口805，输入/输出接口805也连接至总线804。电子设备800还可以包括连接至I/O接口805的以下部件中的一项或多项：包括键盘、鼠标等的输入部分806；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分807；包括硬盘等的存储部分808；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分809。通信部分809经由诸如因特网的网络执行通信处理。驱动器810也根据需要连接至I/O接口805。可拆卸介质811，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器810上，以便于从其上读出的计算机程序根据需要被安装入存储部分808。根据本公开的实施例，根据本公开实施例的方法流程可以被实现为计算机软件程序。例如，本公开的实施例包括一种计算机程序产品，其包括承载在计算机可读存储介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信部分809从网络上被下载和安装，和/或从可拆卸介质811被安装。在该计算机程序被处理器801执行时，执行本公开实施例的系统中限定的上述功能。根据本公开的实施例，上文描述的系统、设备、装置、模块、单元等可以通过计算机程序模块来实现。本公开还提供了一种计算机可读存储介质，该计算机可读存储介质可以是上述实施例中描述的设备/装置/系统中所包含的；也可以是单独存在，而未装配入该设备/装置/系统中。上述计算机可读存储介质承载有一个或者多个程序，当上述一个或者多个程序被执行时，实现根据本公开实施例的方法。根据本公开的实施例，计算机可读存储介质可以是非易失性的计算机可读存储介质。例如可以包括但不限于：便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本公开中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。例如，根据本公开的实施例，计算机可读存储介质可以包括上文描述的ROM 802和/或RAM 803和/或ROM 802和RAM 803以外的一个或多个存储器。本公开的实施例还包括一种计算机程序产品，其包括计算机程序，该计算机程序包含用于执行本公开实施例所提供的方法的程序代码，当计算机程序产品在电子设备上运行时，该程序代码用于使电子设备实现本公开实施例所提供的视频数据处理方法。在该计算机程序被处理器801执行时，执行本公开实施例的系统/装置中限定的上述功能。根据本公开的实施例，上文描述的系统、装置、模块、单元等可以通过计算机程序模块来实现。在一种实施例中，该计算机程序可以依托于光存储器件、磁存储器件等有形存储介质。在另一种实施例中，该计算机程序也可以在网络介质上以信号的形式进行传输、分发，并通过通信部分809被下载和安装，和/或从可拆卸介质811被安装。该计算机程序包含的程序代码可以用任何适当的网络介质传输，包括但不限于：无线、有线等等，或者上述的任意合适的组合。根据本公开的实施例，可以以一种或多种程序设计语言的任意组合来编写用于执行本公开实施例提供的计算机程序的程序代码，具体地，可以利用高级过程和/或面向对象的编程语言、和/或汇编/机器语言来实施这些计算程序。程序设计语言包括但不限于诸如Java，C++，python，“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算设备上执行、部分地在用户设备上执行、部分在远程计算设备上执行、或者完全在远程计算设备或服务器上执行。在涉及远程计算设备的情形中，远程计算设备可以通过任意种类的网络，包括局域网或广域网，连接到用户计算设备，或者，可以连接到外部计算设备。附图中的流程图和框图，图示了按照本公开各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，上述模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图或流程图中的每个方框、以及框图或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。本领域技术人员可以理解，本公开的各个实施例和/或权利要求中记载的特征可以进行多种组合和/或结合，即使这样的组合或结合没有明确记载于本公开中。特别地，在不脱离本公开精神和教导的情况下，本公开的各个实施例和/或权利要求中记载的特征可以进行多种组合和/或结合。所有这些组合和/或结合均落入本公开的范围。以上对本公开的实施例进行了描述。但是，这些实施例仅仅是为了说明的目的，而并非为了限制本公开的范围。尽管在以上分别描述了各实施例，但是这并不意味着各个实施例中的措施不能有利地结合使用。本公开的范围由所附权利要求及其等同物限定。不脱离本公开的范围，本领域技术人员可以做出多种替代和修改，这些替代和修改都应落在本公开的范围之内。
