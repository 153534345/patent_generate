标题title
边缘计算与V2V融合网络下的计算资源共享平台和方法
摘要abst
本发明公开了一种移动边缘计算与V2V融合网络下的计算资源共享平台和方法，平台包括：包括：边缘层和设备层，边缘层与设备层通过无线数据链路连接。边缘层包括：本地基站LBS、边缘服务器，LBS接收CRR与CRP的车辆信息并提供网络协助来触发智能合约的执行，边缘服务器来处理LBS所覆盖的车辆的数据记录；设备层包括：计算资源请求者CRR和计算资源提供者CRP，CRR向LBS发送资源请求信息，有空闲资源的CRP向LBS发送车辆信息，最终按智能合约进行交易，CRP为CRR提供计算资源，CRR向CRP支付费用。本发明的优点是：1)保证资源共享的安全性，提高了汽车的计算资源利用率。2)能节省智能车辆完成计算任务的能耗。3)在更短时间内得到最优策略，降低算法运行的时间成本。
权利要求书clms
1.一种边缘计算与V2V融合网络中的计算资源共享平台，其特征在于，包括：边缘层和设备层，边缘层与设备层通过无线数据链路连接；边缘层包括：本地基站LBS、边缘服务器，每个LBS都有一个所属的边缘服务器，其中LBS接收CRR与CRP的车辆信息并提供网络协助来触发智能合约的执行，边缘服务器来处理LBS所覆盖的车辆的数据记录；设备层包括：计算资源请求者CRR和计算资源提供者CRP，CRR向LBS发送资源请求信息，有空闲资源的CRP向LBS发送车辆信息，最终按智能合约进行交易，CRP为CRR提供计算资源，CRR向CRP支付费用。2.一种边缘计算与V2V融合网络下的计算资源共享方法，其特征在于：该方法是在权利要求1所述的计算资源共享平台的基础上完成的，包括以下步骤：S1：系统初始化：所有在平台上参与交易和卸载的汽车用户CRR与CRP需要在可信的本地基站LBS注册身份，成为具有身份标识的合法实体加入区块链系统；S2：触发资源交易与卸载的智能合约：收到CRR与CRP的车辆信息后，自动触发智能合约，执行资源交易算法与节能计算卸载算法得到资源交易与计算卸载的联合最优策略；S3：使用资源币支付：根据从资源交易的智能合约中得出的资源价格，CRR使用私钥解锁Unspent Transaction Output，CRP通过私钥解锁相应的UTXO；资源币从CRR的钱包地址转移到CRP；S4：验证和广播交易记录：CRR完成资源交易与卸载后，获取资源交易记录，然后将这些带有签名的完整事务加密后广播到平台上的所有用户；S5：执行共识过程：由供应分最高的汽车用户构建一个由所有交易组成的新块，包括资源交易记录和请求者的资源提供量；新块被广播给其他用户，接受新块的用户根据哈希值和数字签名来验证新块的合法性和正确性；同时，每个用户还需要验证构建块的是否具有最高的资源提供总量并将验证结果发送给其他用户；如果所有验证都正确，新数据块将根据时间戳放入区块链。3.根据权利要求2所述的一种边缘计算与V2V融合网络下的计算资源共享方法，其特征在于：所述资源交易算法包括：设计了N位CRP和一位CRR的计算资源交易模型；CRR的效用函数如下：其中dmax表示完成计算任务需要的计算资源量，aj是从资源提供者CRPj处购买的资源量；表示CRR的购买意愿，dmin为最少需要购买的资源量，zj表示距离因子，pj表示资源价格；为了最大化CRR的效用，将资源分配问题设置为P1:P1:Max UbC1:0≤aj≤Rj,j∈N将CRPj的效用函数设置如下：其中，Rj是CRPj的空闲资源量，是CRP能给出的最高定价，n1和n2是成本因子；为了最大化CRP的效用，将资源定价问题设置为P2:P2:Max Us其中，C1，C2，C3和C4为约束条件；资源交易算法具体流程如下：输入：dmax，dmin，n1，n2，z＝{z1,...,zj,...,zN}，N，输出：最优的资源分配策略a和定价策略p1:初始化：aj＝dmax/N，i＝12:CRPj根据aj解决P2，得到CRP的最新资源定价策略pnew和效用集合3：迭代：4：i＝i+15：根据pnew解决P1获得新的资源分配策略anew和CRR的效用6：根据anew解决P2获得新的资源定价策略pnew和CRP的效用集合7：如果且则停止迭代，否则继续迭代8：返回anew和pnew接下来，本发明将得到的资源分配策略a＝{a1,...,aj,...,aN}带入计算卸载过程，本地计算的能耗为：其中，fl表示CRR的CPU频率，κ是与芯片架构相关的系数；同理，CRP的计算能耗表示为：其中，fj表示CRRj的CPU频率；本发明利用卸载功率与计算速率之间的关系，推断出卸载功率因此卸载过程消耗的总能耗为：其中tj表示卸载到CRPj的时间，λj是给CRPj带宽分配所占总带宽比例的倒数，B表示总带宽，h是信道增益，σ为复杂高斯白噪声的方差，cj是计算复杂度；将能耗最小化问题表示为：P3:Min E＝Ereq+Epro+EoffC5:0＜fl≤flmaxC6:tloc≤TC8:λj≥1C9:tj≥0其中flmax表示CRR的最大CPU频率，tloc和T表示本地计算消耗的时间和CRR能接受的最大延迟；λ＝{λ1,...,λj,...,λN}是带宽分配策略，t＝{t1,...,tj,...,tN}是时间分配策略；C5-C11为约束条件；通过推断，得到使Ereq最小的最优本地计算频率为：求解λ和t时，首先得到最小化Eoff+Epro问题的拉格朗日函数：其中μj和γ是拉格朗日乘子；接下来利用KKT条件推断出最优的时间分配策略为：令本发明推断出λj的最大值为：同时用γ表示λj得到：其中W表示朗博函数，是WeW＝x的解。4.根据权利要求3所述的一种边缘计算与V2V融合网络下的计算资源共享方法，其特征在于：所述节能计算卸载算法如下：输入：a，B，n，T，f＝{f1,...,fj,...,fN}输出：最优卸载时间分配t，最优卸载带宽分配λ1：初始化：2：由式子得到3：当sumh＞1且suml＜1时，迭代：4：γm＝1/25：根据等式更新λ6：7：如果sumλ＜1则：8：γh＝γm9：sumh＝sumλ10：如果sumλ＞1则：11：γl＝γm12：suml＝sumλ13：返回t，λ。
说明书desc
技术领域本发明涉及计算资源共享技术领域，特别涉及一种移动边缘计算与V2V融合网络下的计算资源共享平台和方法。背景技术移动边缘计算把服务器部署在网络边缘，它不仅可以为移动设备提供计算或存储资源，也可以克服云计算带来的高延迟。已成为具有超高实时性要求的车联网环境中不可获取的技术，结合点对点通信技术，构建V2V与MEC融合的车车联网架构。在车到车的MEC网络中，智能汽车甚至可以卸载自身的计算任务到附近的智能车上进行计算，车辆间的计算资源共享缓解了由于计算资源不足产生的路况分析、导航等高实时性且计算密集型应用正常运行的压力。然而，资源共享过程存在一些问题，一方面在完全无中心的点对点环境下难以实施公平、安全的激励策略，鼓励更多汽车用户参与资源共享。另一方面，由于车辆的能源有限，在将计算任务卸载到其他智能车辆时和执行计算任务时要保障双方能量消耗的最小化。此外，单个车辆的计算资源通常不足以为多个车辆提供计算服务。目前已有的一些边缘计算资源共享研究没有综合考虑以上提出问题。区块链是一个开放的分布式分类账，以可验证和分布式的方式有效地记录买卖双方之间的交易。通常采用在区块链中进行资源交易的方式在MEC中激励用户参与资源共享，以达到公平，安全，满足用户效益的目的。Fernando等人建立了一个由区块链支持的运营商辅助数据卸载平台，为卖家实施评级系统，进行可靠的支付交易。Li等人建立了基于区块链的资源拍卖市场，并且提出一种迭代双边拍卖方案，以促使物联网设备与边缘服务器双方以真实价格提交投标，保证总体效益。Liu等人利用区块链技术提出了一个安全，去中心化的车联网数据交易系统，他们设计了借贷机制来支持数据交易。首先它们只关注通过资源交易使设备用户获得利益，而未关注资源卸载和计算过程的中的能耗问题，这会导致卸载和计算过程消耗过多的能量。其次，它们未考虑到资源提供方设备的资源有限，无法为多个设备提供资源的情况。近年来，节能问题得到广泛关注，许多工作研究了如何最小化MEC中卸载与计算产生的能耗。Hassija等人提出了基于区块链的点对点网络的博弈模型，通过找到最优的卸载时间与卸载成本策略，使移动设备节能地完成计算任务。Sheng等人研究了静态场景下的多用户部分计算卸载问题，提出了一种动态匹配算法来最小化终端能耗。Chen等人在中研究了具有混合能量收集的D2D的资源分配策略，采用量子表现粒子群优化得到最大化能量效率。Lin等人考虑多输入多输出系统，为了最大程度地减少总体用户的能耗，同时满足延迟限制，提出一种基于新的连续凸逼近的迭代算法，可以收敛到原始非凸问题的局部最优解。这些工作仅研究了资源共享过程中的卸载节能问题，而忽略了资源共享的前提是移动设备愿意提供计算服务，未考虑到如何激励用户参与资源共享中。参考文献N.Abbas,Y.Zhang,A.Taherkordi,and T.Skeie,“Mobile edge computing:Asurvey,”IEEE Internet of Things Journal,vol.5,pp.450–465,Feb 2018；M.H.u.Rehman,K.Salah,E.Damiani and D.Svetinovic:Trust inBlockchain Cryptocurrency Ecosystem.IEEE Transactions on Engine eringManagement,2020:1196-1212；P.Fernando,L.Gunawardhana,W.Rajapakshe,M.Dananjaya,T.Gamage andM.Liyanage,"Blockchain-Based Wi-Fi Offloading Platform for 5G,"2020 IEEEInternational Conference on Communications Workshops,2020,pp.1-6,doi:10.1109/ICCWorkshops49005.2020.9145369；Z.Li,Z.Yang and S.Xie,"Computing Resource Trading for Edge-Cloud-Assisted Internet of Things,"in IEEE Transactions on Industrial Informatics,vol.15,no.6,pp.3661-3669,June 2019,doi:10.1109/TII.2019.2897364；K.Liu,W.Chen,Z.Zheng,Z.Li and W.Liang,"A Novel Debt-CreditMechanism for Blockchain-Based Data-Trading in Internet of Vehicles,"in IEEEInternet of Things Journal,vol.6,no.5,pp.9098-9111,Oct.2019,doi:10.1109/JIOT.2019.2927682；V.Hassija,V.Saxena,and V.Chamola,"A mobile data offloadingframework based on a combination of blockchain and virtual voting,"SoftwarePractice and Experience,2020；M.Sheng,Y.Wang,X.Wang and J.Li,"Energy-Efficient Multiuser PartialComputation Offloading With Collaboration of Terminals,Radio Access Network,and Edge Server,"in IEEE Transactions on Communications,vol.68,no.3,pp.1524-1537,March 2020,doi:10.1109/TCOMM.2019.2959338；J.Chen,Y.Zhao,Z.Xu and H.Zheng,"Resource Allocation Strategy forD2D-Assisted Edge Computing System With Hybrid Energy Harvesting,"in IEEEAccess,vol.8,pp.192643-192658,2020,doi:10.1109/ACCESS.2020.3032033；Lin Y D,Lai Y C,Huang J X,et al.Three-Tier Capacity and TrafficAllocation for Core,Edges,and Devices for Mobile Edge Computing.IEEETransactions on Network and Service Management,2018,15:923-933；Li,H.,Pei,L.,Liao,D.et al.BDDT:use blockchain to facilitate IoTdata transactions.Cluster Comput 24,459–473；R.M.Corless,G.H.Gonnet,D.E.G.Hare,D.J.Jeffrey,and D.E.Knuth,"Onthe Lambert W function,"Adv.Comput.Math.,vol.5,no.1,pp.329–359,Dec.1996；Y.Wang,M.Sheng,X.Wang,L.Wang,and J.Li,"Mobile-edgecomputing:Partial computation offloading using dynamic voltage scaling,"IEEETrans.Commun.,vol.64,no.10,pp.4268–4282,Aug.2016；C.You,K.Huang,H.Chae and B.Kim,"Energy-Efficient ResourceAllocation for Mobile-Edge Computation Offloading,"in IEEE Transactions onWireless Communications,vol.16,no.3,pp.1397-1411,March 2017,doi:10.1109/TWC.2016.2633522；N.T.Ti and L.B.Le,"Computation offloading leveraging computingresources from edge cloud and mobile peers,"2017 IEEE InternationalConference on Communications,2017,pp.1-6,doi:10.1109/ICC.2017.7997138；C.You,K.Huang,and H.Chae,"Energy efficient mobile cloud computingpowered by wireless energy transfer,"IEEE J.Select.Areas Commun.,vol.34,no.5,pp.1757–1771,May 2016。缩略语和关键术语定义移动边缘计算：MEC；车对车：V2V；本地基站：LBS；计算资源请求者：CRR；计算资源提供者：CRP。发明内容本发明针对现有技术的缺陷，提供了一种边缘计算与V2V融合网络中的计算资源共享平台和方法。为了实现以上发明目的，本发明采取的技术方案如下：一种边缘计算与V2V融合网络中的计算资源共享平台，包括：边缘层和设备层，边缘层与设备层通过无线数据链路连接。边缘层包括：本地基站LBS、边缘服务器，每个LBS都有一个所属的边缘服务器，其中LBS接收CRR与CRP的车辆信息并提供网络协助来触发智能合约的执行，边缘服务器来处理LBS所覆盖的车辆的数据记录；设备层包括：计算资源请求者CRR和计算资源提供者CRP，CRR向LBS发送资源请求信息，有空闲资源的CRP向LBS发送车辆信息，最终按智能合约进行交易，CRP为CRR提供计算资源，CRR向CRP支付费用。本发明提出的一种边缘计算与V2V融合网络下的计算资源共享平台和方法，包括以下步骤：S1：系统初始化：所有在平台上参与交易和卸载的汽车用户CRR与CRP需要在可信的本地基站LBS注册身份，成为具有身份标识的合法实体加入区块链系统。S2：触发资源交易与卸载的智能合约：收到CRR与CRP的车辆信息后，自动触发智能合约，执行资源交易算法与节能计算卸载算法得到资源交易与计算卸载的联合最优策略。S3：使用资源币支付：根据从资源交易的智能合约中得出的资源价格，CRR使用私钥解锁Unspent Transaction Output，CRP通过私钥解锁相应的UTXO。资源币从CRR的钱包地址转移到CRP。S4：验证和广播交易记录：CRR完成资源交易与卸载后，获取资源交易记录，然后将这些带有签名的完整事务加密后广播到平台上的所有用户。S5：执行共识过程：由供应分最高的汽车用户构建一个由所有交易组成的新块，包括资源交易记录和请求者的资源提供量。新块被广播给其他用户，接受新块的用户根据哈希值和数字签名来验证新块的合法性和正确性。同时，每个用户还需要验证构建块的是否具有最高的资源提供总量并将验证结果发送给其他用户。如果所有验证都正确，新数据块将根据时间戳放入区块链。进一步地，所述资源交易算法包括：设计了N位CRP和一位CRR的计算资源交易模型。CRR的效用函数如下：其中dmax表示完成计算任务需要的计算资源量，aj是从资源提供者CRPj处购买的资源量。表示CRR的购买意愿，dmin为最少需要购买的资源量，zj表示距离因子，pj表示资源价格。为了最大化CRR的效用，将资源分配问题设置为P1:P1:Max Ub C1:0≤aj≤Rj,j∈N将CRPj的效用函数设置如下：其中，Rj是CRPj的空闲资源量，是CRP能给出的最高定价，n1和n2是成本因子。为了最大化CRP的效用，将资源定价问题设置为P2:P2:Max Us 其中，C1，C2，C3和C4为约束条件。资源交易算法具体流程如下：输入：dmax，dmin，n1，n2，z＝{z1,...,zj,...,zN}，N，输出：最优的资源分配策略a和定价策略p1:初始化：aj＝dmax/N，i＝12:CRPj根据aj解决P2，得到CRP的最新资源定价策略pnew和效用集合3：迭代：4：i＝i+15：根据pnew解决P1获得新的资源分配策略anew和CRR的效用6：根据anew解决P2获得新的资源定价策略pnew和CRP的效用集合7：如果且则停止迭代，否则继续迭代8：返回anew和pnew接下来，本发明将得到的资源分配策略a＝{a1,...,aj,...,aN}带入计算卸载过程，本地计算的能耗为：其中，fl表示CRR的CPU频率，k是与芯片架构相关的系数。同理，CRP的计算能耗表示为：其中，fj表示CRRj的CPU频率。本发明利用卸载功率与计算速率之间的关系，推断出卸载功率因此卸载过程消耗的总能耗为：其中tj表示卸载到CRPj的时间，λj是给CRPj带宽分配所占总带宽比例的倒数，B表示总带宽，h是信道增益，σ为复杂高斯白噪声的方差，cj是计算复杂度。将能耗最小化问题表示为：P3:Min E＝Ereq+Epro+Eoff C5:0＜fl≤flmaxC6:tloc≤TC8:λj≥1C9:tj≥0其中flmax表示CRR的最大CPU频率，tloc和T表示本地计算消耗的时间和CRR能接受的最大延迟。λ＝{λ1,...,λj,...,λN}是带宽分配策略，t＝{t1,...,tj,...,tN}是时间分配策略。C5-C11为约束条件。通过推断，得到使Ereq最小的最优本地计算频率为：求解λ和t时，首先得到最小化Eoff+Epro问题的拉格朗日函数：其中μj和γ是拉格朗日乘子。接下来利用KKT条件推断出最优的时间分配策略为：令本发明推断出λj的最大值为：同时用γ表示λj得到：其中W表示朗博函数，是WeW＝x的解。进一步地，所述节能计算卸载算法如下：输入：a，B，n，T，f＝{f1,...,fj,...,fN}输出：最优卸载时间分配t，最优卸载带宽分配λ1：初始化：2：由式子得到3：当sumh＞1且suml＜1时，迭代：4：γm＝1/25：根据等式更新λ6：7：如果sumλ＜1则：8：γh＝γm9：sumh＝sumλ10：如果sumλ＞1则：11：γl＝γm12：suml＝sumλ13：返回t，λ。与现有技术相比，本发明的优点在于：1)在区块链上的交易过程能够保证资源共享的安全性，有效激励用户参与资源共享，既满足用户对智能汽车的体验感，又提高了汽车的计算资源利用率。2)应用本发明得出的节能卸载策略能节省供求双方智能车辆完成计算任务的能耗，延长汽车使用时间的同时，进一步激励用户参与共享。3)应用本发明能在更短时间内得到最优策略，降低算法运行的时间成本。附图说明图1是本发明实施例的场景示意图；图2是本发明实施例的计算资源共享方法流程图；图3是本实施例提供的资源交易策略与效用的仿真示意图；图4是本实施例提供的计算卸载策略与能耗的仿真示意图；图5是本实施例提供的计算卸载优化算法的性能示意图；图6是本实施例提供的联合优化策略与效用的仿真示意图；图7是本实施例提供的联合优化策略与能耗的仿真示意图。具体实施方式为使本发明的目的、技术方案及优点更加清楚明白，以下根据附图并列举实施例，对本发明做进一步详细说明。本发明在资源交易阶段使用Stackelberg博弈，在计算卸载阶段用到KKT条件解凸优化问题。并通过在配备3.4GHz I7英特尔处理器和20GB内存的联想电脑上用python进行仿真实现，用到了scipy优化包里的凸优化算法。如图1所示，本发明应用在基于MEC的车联网场景，场景中包括：边缘层和设备层，边缘层与设备层通过无线数据链路连接。边缘层包括：本地基站LBS、边缘服务器，每个LBS都有一个所属的边缘服务器，其中LBS接收智能车辆CRR与CRP的信息并提供网络协助来触发智能合约的执行，边缘服务器来处理LBS所覆盖车辆的数据记录；设备层包括：计算资源紧缺的智能车CRR和计算资源空闲的智能车CRP，CRR向LBS发送资源请求信息，CRP向LBS发送车辆信息，最终按智能合约进行交易，CRP为CRR提供计算资源，CRR向CRP支付费用。本实施例中的计算资源共享方法流程如图2所示，具体包括以下步骤：S1、系统初始化：所有在平台上参与交易和卸载的汽车用户CRR和CRP需要在可信的本地基站LBS注册身份，成为具有身份标识的合法实体加入区块链系统。S2、触发资源交易与卸载的智能合约：收到CRR与CRP的车辆信息后，自动触发智能合约，执行资源交易算法与节能计算卸载算法得到资源交易与计算卸载的联合最优策略。S3、使用资源币支付：根据从资源交易的智能合约中得出的资源价格，资源请求者使用私钥解锁Unspent Transaction Output，资源提供者通过私钥解锁相应的UTXO。资源币从资源请求者的钱包地址转移到资源提供者。S4、验证和广播交易记录：资源请求者完成资源交易与卸载后，获取资源交易记录，然后将这些带有签名的完整事务加密后广播到平台上的所有用户。S5、执行共识过程：由供应分最高的汽车用户构建一个由所有交易组成的新块，包括资源交易记录和请求者的资源提供量。新的块被广播给其他用户，接受新块的用户根据哈希值和数字签名来验证新块的合法性和正确性。同时，每个用户还需要验证构建块的是否具有最高的资源提供总量并将验证结果发送给其他用户。如果所有验证都正确，新数据块将根据时间戳放入区块链。在所诉步骤S2中，建模计算资源交易与节能卸载模型；在实施例中，由N位CRP为1位CRR提供计算资源的交易模型如下：CRR的效用函数为：其中dmax表示完成计算任务需要的计算资源量，aj是从资源提供者CRPj处购买的资源量。表示CRR的购买意愿，dmin为最少需要购买的资源量，zj表示距离因子，pj表示资源价格。为了最大化CRR的效用，本实施例的资源分配问题表示为P1:P1:Max Ub C1:0≤aj≤Rj,j∈N参考文献的工作，本实施例中CRPj的效用函数设置为：其中，Rj是CRPj的空闲资源量，是CRP能给出的最高定价，n1和n2是成本因子。为了最大化CRP的效用，本实施例将资源定价问题设置为P2:P2:Max Us 其中，C1，C2，C3和C4为约束条件。本实施例将CRR与CRP之间的资源分配与定价建立为Stackelberg博弈，第一轮CRR作为领导者首先提出资源分配策略，CRP作为追随者根据CRR公布的资源分配策略设置最优的资源定价使自身利益最大即解决P2。新一轮中，CRR根据CRP公布的定价策略调整资源分配策略来获得最大利益即解决P1。为了得到同时满足CRR与CRP的资源交易策略，本实施例将利用如下算法：算法1：基于博弈论的资源交易算法输入：dmax，dmin，n1，n2，z＝{z1,...,zj,...,zN}，N，输出：最优的资源分配策略a和定价策略p1:初始化：aj＝dmax/N，2:CRPj根据aj解决P2，得到CRP的最新资源定价策略pnew和效用集合3：迭代：4：i＝i+15：根据pnew解决P1获得新的资源分配策略αnew和CRR的效用6：根据anew解决P2获得新的资源定价策略pnew和CRP的效用集合7：如果且则停止迭代，否则继续迭代8：返回anew和pnew在实施例中，节能计算卸载模型如下：本实施例将得到的资源分配策略a＝{a1,...,aj,...,aN}带入计算卸载过程，本地计算的能耗为：其中，fl表示CRR的CPU频率，κ是与芯片架构相关的系数。同理，CRP的计算能耗可以表示为：其中，fj表示CRRj的CPU频率。利用卸载功率与计算速率之间的关系，可推断出卸载功率因此卸载过程消耗的总能耗为：其中tj表示卸载到CRPj的时间，λj是给CRPj带宽分配所占总带宽比例的倒数，B表示总带宽，h是信道增益，σ为复杂高斯白噪声的方差，cj是计算复杂度。于是本实施例将能耗最小化问题表示为：P3:Min E＝Ereq+Epro+Eoff C5:0＜fl≤flmaxC6:tloc≤TC8:λj≥1C9:tj≥0其中flmax表示CRR的最大CPU频率，tloc和T表示本地计算消耗的时间和CRR能接受的最大延迟。λ＝{λ1,...,λj,...,λN}是带宽分配策略，t＝{t1,...,tj,...,tN}是时间分配策略。C5-C11为约束条件。通过推断，本实施例得到使Ereq最小的最优本地计算频率为：求解λ和t时，首先得到最小化Eoff+Epro问题的拉格朗日函数：其中μj和γ是拉格朗日乘子。接下来利用KKT条件推断出最优的时间分配策略为：令本发明推断出λj的最大值为：同时本实施例用γ表示λj得到：其中W表示朗博函数，是WeW＝x的解。为了求得最优的带宽分配策略，设计了如下算法：算法2：节能卸载机制输入：a，B，n，T，f＝{f1,...,fj,...,fN}输出：最优卸载时间分配t，最优卸载带宽分配λ1：初始化：2：由式子得到3：当sumh＞1且suml＜1时，迭代：4：γm＝1/25：根据等式更新λ6：7：如果sumλ＜1则：8：γh＝γm9：sumh＝sumλ10：如果sumλ＞1则：11：γl＝γm12：suml＝sumλ13：返回t，λ最后，本实施例参考文献,中的参数设置，创建仿真数据集。并分别针对资源交易策略，计算卸载策略，联合策略的效果进行仿真实验。资源交易策略效果如图3所示，其中p＝Optimal p与PTS是本实施例经过算法1得到的资源定价策略与资源分配策略，与固定资源定价与固定资源交易总量策略相比，本实施例的交易策略能兼顾了CRR与CRP的效用，能使所有用户都得到较高的效用。计算卸载策略效果如图4所示，其中，COS是通过算法2得出的计算卸载策略，与随机的计算频率，随机分配卸载时间和卸载带宽相比，本实施例得出的策略是最节能的。算法性能如图5所示，与传统的优化算法相比，本实施例的复杂度由O下降到O，提高了算法效率。联合策略的效果如图6、7所示，其中，OCS是得到的联合资源交易与计算卸载的策略，RAS是随机资源分配策略，ERAS是只考虑节能计算卸载不考虑用户效用的策略，ROS是只考虑资源效用不考虑节能计算卸载的策略。实验结果证明，本实施例得到的OCS是唯一既能满足智能车辆用户效用又能实现节能计算卸载的策略，可以有效激励用户参与到资源共享中。本领域的普通技术人员将会意识到，这里所述的实施例是为了帮助读者理解本发明的实施方法，应被理解为本发明的保护范围并不局限于这样的特别陈述和实施例。本领域的普通技术人员可以根据本发明公开的这些技术启示做出各种不脱离本发明实质的其它各种具体变形和组合，这些变形和组合仍然在本发明的保护范围内。
