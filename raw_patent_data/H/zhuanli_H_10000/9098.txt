标题title
接口测试方法、系统、电子设备及可读存储介质
摘要abst
本发明涉及接口测试技术领域，公开了一种接口测试方法、系统、电子设备及可读存储介质，该方法通过网关服务若确定接收到的原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收登录服务反馈的当前登录态，根据当前登录态和原始访问请求访问待测接口，避免在访问接口前对每个访问请求进行设置以获取登录态，进而提高了接口测试的测试效率。
权利要求书clms
1.一种接口测试方法，其特征在于，包括：网关服务接收待测接口对应的原始访问请求，确定所述原始访问请求中是否包含登录令牌；若所述原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收所述登录服务反馈的当前登录态；将所述当前登录态和所述原始访问请求作为第一访问请求访问所述待测接口。2.根据权利要求1所述的方法，其特征在于，若所述原始访问请求中不包含登录令牌，所述方法还包括：向登录服务发送登录态获取请求之前，确定所述缓存服务中是否保存有缓存登录态；若所述缓存服务中未保存有缓存登录态，则向登录服务发送登录态获取请求；在接收所述登录服务反馈的当前登录态之后，将所述当前登录态作为缓存登录态，将所述缓存登录态保存在缓存服务中；对所述缓存登录态设置缓存时间段；在所述缓存时间段之后，从所述缓存服务中删除所述缓存登录态。3.根据权利要求2所述的方法，其特征在于，所述方法还包括以下至少一种：若所述原始访问请求中包含登录令牌，则将所述原始访问请求作为第二访问请求访问所述待测接口；若所述缓存服务中保存有缓存登录态，则将所述缓存登录态和所述原始访问请求作为第三访问请求访问所述待测接口。4.根据权利要求3所述的方法，其特征在于，所述方法还包括：将所述第一访问请求、所述第二访问请求和所述第三访问请求确定为待访问请求，确定当前时刻所述待访问请求对应的访问请求总量；若所述访问请求总量大于预设访问阈值，则按照优先级规则利用所述待访问请求访问所述待测接口，其中，所述优先级规则包括所述第二访问请求的优先级大于所述第一访问请求的优先级，所述第一访问请求的优先级大于所述第三访问请求的优先级。5.根据权利要求3所述的方法，其特征在于，访问所述待测接口之后，所述方法还包括：预先设置指定接收端，或，预先获取所述原始访问请求对应的请求发送端；接收所述待测接口反馈的响应信息，将所述响应信息发送至所述请求发送端或所述指定接收端；所述请求发送端或所述指定接收端根据接收到的响应信息生成所述待测接口对应的测试报告。6.根据权利要求1至5任一项所述的方法，其特征在于，所述网关服务确定接收到的原始访问请求中是否包含登录令牌之前，所述方法还包括：所述网关服务获取测试启用信息，根据测试启用信息确定所述网关服务是否开启测试功能；若所述网关服务开启测试功能，则确定接收到的原始访问请求中是否包含登录令牌。7.根据权利要求1至5任一项所述的方法，其特征在于，所述网关服务确定接收到的原始访问请求中是否包含登录令牌之前，所述方法还包括：所述网关服务解析所述原始访问请求，得到所述请求发送端对应的发送方标识以及所述待测接口对应的接口标识；根据所述发送方标识确定所述请求发送端对应的客户端等级，并根据所述接口标识确定所述待测接口对应的接口等级；根据所述客户端等级确定所述网关服务是否开启测试功能；若所述网关服务不开启测试功能，则所述网关服务生成第一反馈信息，将所述第一反馈信息发送至所述请求发送端，其中，所述第一反馈信息用于表征所述请求发送端不具有所述网关服务对应的测试权限；若所述网关服务开启测试功能，则比较所述客户端等级和所述接口等级，根据比较结果确定所述请求发送端是否具有所述待测接口的访问权限；若所述请求发送端不具有所述待测接口的访问权限，则所述网关服务生成第二反馈信息，将所述第二反馈信息发送至所述请求发送端，其中，所述第二反馈信息用于表征所述请求发送端不具有所述待测接口对应的访问权限；若所述请求发送端具有所述待测接口的访问权限，则确定接收到的原始访问请求中是否包含登录令牌。8.一种接口测试系统，其特征在于，包括：接收模块，用于网关服务接收待测接口对应的原始访问请求，确定所述原始访问请求中是否包含登录令牌；获取模块，用于若所述原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收所述登录服务反馈的当前登录态；访问模块，用于将所述当前登录态和所述原始访问请求作为第一访问请求访问所述待测接口。9.一种电子设备，其特征在于，包括：处理器及存储器；所述存储器用于存储计算机程序，所述处理器用于执行所述存储器存储的计算机程序，以使所述电子设备执行如权利要求8任一项所述的方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于：所述计算机程序被处理器执行时实现如权利要求8任一项所述的方法。
说明书desc
技术领域本发明涉及接口测试技术领域，尤其涉及一种接口测试方法、系统、电子设备及可读存储介质。背景技术目前，由于大部份系统都会对对外接口进行登录态登录，使得在对外接口进行自动化测试中，通过接口侧访问系统进行测试时需要在请求方式里携带登录令牌，否则导致访问接口失败，例如，访问接口http://xx.xx.xx/getlist？name＝ADD，该接口只能是在已登陆状态才能访问，直接访问就会提示"未登陆"。因此，有部分自动化测试在通过访问请求访问待测试的接口前，需要先调用登录服务获取最新登录态信息，再携带登录态信息的访问请求访问接口，以避免访问接口失败，这样，需要测试接口前对每个访问请求进行配置，增加了测试的人力成本和时间成本，进而导致测试效率较低。发明内容为了对披露的实施例的一些方面有基本的理解，下面给出了简单的概括。所述概括不是泛泛评述，也不是要确定关键/重要组成元素或描绘这些实施例的保护范围，而是作为后面的详细说明的序言。鉴于以上所述现有技术的缺点，本发明公开了一种接口测试方法、系统、电子设备及可读存储介质，避免在访问接口前对每个访问请求进行设置以获取登录态，进而提高了接口测试的测试效率。本发明公开了一种接口测试方法，包括：网关服务接收待测接口对应的原始访问请求，确定所述原始访问请求中是否包含登录令牌；若所述原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收所述登录服务反馈的当前登录态；将所述当前登录态和所述原始访问请求作为第一访问请求访问所述待测接口。可选地，若所述原始访问请求中不包含登录令牌，所述方法还包括：向登录服务发送登录态获取请求之前，确定所述缓存服务中是否保存有缓存登录态；若所述缓存服务中未保存有缓存登录态，则向登录服务发送登录态获取请求；在接收所述登录服务反馈的当前登录态之后，将所述当前登录态作为缓存登录态，将所述缓存登录态保存在缓存服务中；对所述缓存登录态设置缓存时间段；在所述缓存时间段之后，从所述缓存服务中删除所述缓存登录态。可选地，所述方法还包括以下至少一种：若所述原始访问请求中包含登录令牌，则将所述原始访问请求作为第二访问请求访问所述待测接口；若所述缓存服务中保存有缓存登录态，则将所述缓存登录态和所述原始访问请求作为第三访问请求访问所述待测接口。可选地，其特征在于，所述方法还包括：将所述第一访问请求、所述第二访问请求和所述第三访问请求确定为待访问请求，确定当前时刻所述待访问请求对应的访问请求总量；若所述访问请求总量大于预设访问阈值，则按照优先级规则利用所述待访问请求访问所述待测接口，其中，所述优先级规则包括所述第二访问请求的优先级大于所述第一访问请求的优先级，所述第一访问请求的优先级大于所述第三访问请求的优先级。可选地，访问所述待测接口之后，所述方法还包括：预先设置指定接收端，或，预先获取所述原始访问请求对应的请求发送端；接收所述待测接口反馈的响应信息，将所述响应信息发送至所述请求发送端或所述指定接收端；所述请求发送端或所述指定接收端根据接收到的响应信息生成所述待测接口对应的测试报告。可选地，所述网关服务确定接收到的原始访问请求中是否包含登录令牌之前，所述方法还包括：所述网关服务获取测试启用信息，根据测试启用信息确定所述网关服务是否开启测试功能；若所述网关服务开启测试功能，则确定接收到的原始访问请求中是否包含登录令牌。可选地，所述网关服务确定接收到的原始访问请求中是否包含登录令牌之前，所述方法还包括：所述网关服务解析所述原始访问请求，得到所述请求发送端对应的发送方标识以及所述待测接口对应的接口标识；根据所述发送方标识确定所述请求发送端对应的客户端等级，并根据所述接口标识确定所述待测接口对应的接口等级；根据所述客户端等级确定所述网关服务是否开启测试功能；若所述网关服务不开启测试功能，则所述网关服务生成第一反馈信息，将所述第一反馈信息发送至所述请求发送端，其中，所述第一反馈信息用于表征所述请求发送端不具有所述网关服务对应的测试权限；若所述网关服务开启测试功能，则比较所述客户端等级和所述接口等级，根据比较结果确定所述请求发送端是否具有所述待测接口的访问权限；若所述请求发送端不具有所述待测接口的访问权限，则所述网关服务生成第二反馈信息，将所述第二反馈信息发送至所述请求发送端，其中，所述第二反馈信息用于表征所述请求发送端不具有所述待测接口对应的访问权限；若所述请求发送端具有所述待测接口的访问权限，则确定接收到的原始访问请求中是否包含登录令牌。本发明公开了一种接口测试系统，包括：接收模块，用于网关服务接收待测接口对应的原始访问请求，确定所述原始访问请求中是否包含登录令牌；获取模块，用于若所述原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收所述登录服务反馈的当前登录态；访问模块，用于将所述当前登录态和所述原始访问请求作为第一访问请求访问所述待测接口。本发明公开了一种电子设备，包括：处理器及存储器；所述存储器用于存储计算机程序，所述处理器用于执行所述存储器存储的计算机程序，以使所述电子设备执行上述的方法。本发明公开了一种计算机可读存储介质，其上存储有计算机程序：所述计算机程序被处理器执行时实现上述的方法。本发明的有益效果：通过网关服务若确定接收到的原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收登录服务反馈的当前登录态，根据当前登录态和原始访问请求访问待测接口。这样，避免在访问接口前对每个访问请求进行设置以获取登录态，进而提高了接口测试的测试效率。附图说明图1是本发明实施例中一个接口测试方法的流程示意图；图2是本发明实施例中另一个接口测试方法的流程示意图；图3-a是本发明实施例中一个接口访问方法的流程示意图；图3-b是本发明实施例中另一个接口访问方法的流程示意图；图3-c是本发明实施例中另一个接口测试方法的流程示意图；图3-d是本发明实施例中另一个接口测试方法的流程示意图；图4是本发明实施例中一个接口测试系统的结构示意图；图5是本发明实施例中一个电子设备的结构示意图。具体实施方式以下通过特定的具体实例说明本发明的实施方式，本领域技术人员可由本说明书所揭露的内容轻易地了解本发明的其他优点与功效。本发明还可以通过另外不同的具体实施方式加以实施或应用，本说明书中的各项细节也可以基于不同观点与应用，在没有背离本发明的精神下进行各种修饰或改变。需说明的是，在不冲突的情况下，以下实施例及实施例中的子样本可以相互组合。需要说明的是，以下实施例中所提供的图示仅以示意方式说明本发明的基本构想，遂图式中仅显示与本发明中有关的组件而非按照实际实施时的组件数目、形状及尺寸绘制，其实际实施时各组件的型态、数量及比例可为一种随意的改变，且其组件布局型态也可能更为复杂。在下文描述中，探讨了大量细节，以提供对本发明实施例的更透彻的解释，然而，对本领域技术人员来说，可以在没有这些具体细节的情况下实施本发明的实施例是显而易见的，在其他实施例中，以方框图的形式而不是以细节的形式来示出公知的结构和设备，以避免使本发明的实施例难以理解。本公开实施例的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本公开实施例的实施例。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含。除非另有说明，术语“多个”表示两个或两个以上。本公开实施例中，字符“/”表示前后对象是一种“或”的关系。例如，A/B表示：A或B。术语“和/或”是一种描述对象的关联关系，表示可以存在三种关系。例如，A和/或B，表示：A或B，或，A和B这三种关系。结合图1所示，本公开实施例提供了一种接口测试方法，包括：步骤S101，网关服务接收待测接口对应的原始访问请求，确定原始访问请求中是否包含登录令牌；步骤S102，若原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收登录服务反馈的当前登录态；步骤S103，将当前登录态和原始访问请求作为第一访问请求访问待测接口。采用本公开实施例提供的接口测试方法，通过网关服务若确定接收到的原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收登录服务反馈的当前登录态，根据当前登录态和原始访问请求访问待测接口。这样，避免在访问接口前对每个访问请求进行设置以获取登录态，进而提高了接口测试的测试效率。同时，在每次接收到访问请求时获取当前登录态，相较于将登录态写在请求方式里，避免了登录态信息过期导致无法访问接口的情况。可选地，请求发送端包括一个或多个，请求发送端分别用于获取待测接口对应的原始访问请求，并将获取到的原始访问请求发送至网关服务。可选地，若原始访问请求中不包含登录令牌，该方法还包括：向登录服务发送登录态获取请求之前，确定缓存服务中是否保存有缓存登录态；若缓存服务中未保存有缓存登录态，则向登录服务发送登录态获取请求；在接收登录服务反馈的当前登录态之后，将当前登录态作为缓存登录态，将缓存登录态保存在缓存服务中；对缓存登录态设置缓存时间段；在缓存时间段之后，从缓存服务中删除缓存登录态。这样，将从登录服务中获取到的当前登录态进行缓存，避免每次网关服务收到访问请求都会去请求登陆服务，便于下一次测试重复使用当前登录态，提高了获取登录态的速度，进而提高了测试效率；同时，对缓存登录态设置自动过期的机制，保证了登录态信息的时效性，避免测试中出现登录态信息过期导致的接口访问失败，提高了测试的鲁棒性。在一些实施例中，缓存服务包括Redis。可选地，该方法还包括以下至少一种：若原始访问请求中包含登录令牌，则将原始访问请求作为第二访问请求访问待测接口；若缓存服务中保存有缓存登录态，则将缓存登录态和原始访问请求作为第三访问请求访问待测接口。可选地，该方法还包括：将第一访问请求、第二访问请求和第三访问请求确定为待访问请求，确定当前时刻待访问请求对应的访问请求总量；若访问请求总量大于预设访问阈值，则按照优先级规则利用待访问请求访问待测接口，其中，优先级规则包括第二访问请求的优先级大于第一访问请求的优先级，第一访问请求的优先级大于第三访问请求的优先级。可选地，当前时刻为任一中时间点，例如当前秒、当前分钟、当前小时等。这样，不仅通过预设访问阈值对接口访问进行限流，进而避免了访问拥堵，而且，由于第二访问请求不需要获取登录态，根据优先级依次通过待访问请求访问接口，提高访问效率。可选地，访问待测接口之后，该方法还包括：预先设置指定接收端，或，预先获取原始访问请求对应的请求发送端；接收待测接口反馈的响应信息，将响应信息发送至请求发送端或指定接收端；请求发送端或指定接收端根据接收到的响应信息生成待测接口对应的测试报告。这样，接收到待测接口反馈的响应信息，将响应信息发送回请求发送端，同时将响应信息发送至预设的指定接收端，进而触发请求发送端和指定接收端生成接口测试对应的测试报告，实现对待测接口的接口测试。可选地，访问待测接口包括通过第一访问请求访问待测接口、通过第二访问请求访问待测接口和通过第三访问请求访问待测接口中的一种或多种。可选地，网关服务确定接收到的原始访问请求中是否包含登录令牌之前，该方法还包括：网关服务获取测试启用信息，根据测试启用信息确定网关服务是否开启测试功能；若网关服务开启测试功能，则确定接收到的原始访问请求中是否包含登录令牌。这样，在网关服务中设置测试启用信息作为测试功能开关，当网关服务启用测试功能会获取登录态，避免出现登录态为未登录也能访问接口及其相关模块，提高了测试安全性和可信度。在一些实施例中，网关服务需内置一开关，初始状态是禁用状态，当开关是启用状态，才会触发上述方法，避免生产环境已启用该功能，进而出现未登陆也能访问接口出现的安全问题。可选地，网关服务确定接收到的原始访问请求中是否包含登录令牌之前，该方法还包括：网关服务解析原始访问请求，得到请求发送端对应的发送方标识以及待测接口对应的接口标识；根据发送方标识确定请求发送端对应的客户端等级，并根据接口标识确定待测接口对应的接口等级；根据客户端等级确定网关服务是否开启测试功能；若网关服务不开启测试功能，则网关服务生成第一反馈信息，将第一反馈信息发送至请求发送端，其中，第一反馈信息用于表征请求发送端不具有网关服务对应的测试权限；若网关服务开启测试功能，则比较客户端等级和接口等级，根据比较结果确定请求发送端是否具有待测接口的访问权限；若请求发送端不具有待测接口的访问权限，则网关服务生成第二反馈信息，将第二反馈信息发送至请求发送端，其中，第二反馈信息用于表征请求发送端不具有待测接口对应的访问权限；若请求发送端具有待测接口的访问权限，则确定接收到的原始访问请求中是否包含登录令牌。这样，通过客户端等级作为网关服务的内置开关，当开关是启用状态，才会触发上述方法，避免生产环境已启用该功能，进而出现未登陆也能访问接口出现的安全问题；同时，根据接口等级和客户端等级确定访问失败的原因，进而通过第一反馈信息和第二反馈信息反馈给请求发送端，不需要进行接口访问，提高了测试效率，并便于用户确认失败原因。结合图2所示，本公开实施例提供了一种接口测试方法，包括：步骤S201，请求发送端获取待测接口对应的原始访问请求，将原始访问请求发送至网关服务；步骤S202，网关服务确定接收到的原始访问请求中是否包含登录令牌，若否，跳转步骤S203，若是，跳转步骤S208；步骤S203，网关服务确定缓存服务中是否保存有缓存登录态，若否，跳转步骤S204，若是，跳转步骤S207；步骤S204，网关服务向登录服务发送登录态获取请求，接收登录服务反馈的当前登录态；步骤S205，将接收到的当前登录态确定为缓存登录态，在缓存服务中缓存登录态；步骤S206，根据当前登录态和原始访问请求访问待测接口，跳转步骤S209；步骤S207，根据缓存登录态和原始访问请求访问待测接口，跳转步骤S209；步骤S208，根据原始访问请求访问待测接口，跳转步骤S209；步骤S209，接收待测接口反馈的响应信息，步骤S210，将响应信息发送至原始访问请求对应的请求发送端。采用本公开实施例提供的接口测试方法，通过网关服务若确定接收到的原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收登录服务反馈的当前登录态，根据当前登录态和原始访问请求访问待测接口。这样，避免在访问接口前对每个访问请求进行设置以获取登录态，进而提高了接口测试的测试效率。同时，在每次接收到访问请求时获取当前登录态，相较于将登录态写在请求方式里，避免了登录态信息过期导致无法访问接口的情况。在一些实施例中，因各系统服务统一对外都会有一个网关服务，网关服务的作用都是用于接收访问的接口然后在将各访问的接口转发至各业务方的微服务中，可以在该网关服务中增加一逻辑，各实际的业务方接口的功能都会以当前处在登陆态进行相关逻辑处理，该逻辑如下，接口自动化程序访问待测接口，由于任何接口访问均经过网关服务，接口自动化程序将访问请求发送至网关服务；网关服务内置测试开关，若内置开关为开启，网关服务判断当前访问请求是否带有登陆态；若带有登录态，通过带有的登录态访问目标的接口服务；若未带有登陆态，网关服务会去请求缓存服务，获取登陆态；若缓存服务无登陆态信息，网关服务会去调登陆服务接口，获取当前最新登陆态信息后，将获取到的登陆态信息合并到被测接口，去访问对应的目标接口服务；若缓存服务已保存有登陆态信息，则从缓存服务获取到登陆态信息后，将获取到的登陆态信息合并到被测接口，去访问对应的目标接口服务。结合图3-a所示，请求发送端发起接口测试，将待测接口对应的接口访问请求发送至后端服务；后端服务中的网关服务将接口访问请求发送给发送待测接口对应的接口服务；若接口访问请求的登录令牌正在登录，接口服务允许访问；若接口访问请求的登录令牌未登录或不存在登录令牌，则接口服务不允许访问。结合图3-b所示，为了避免待测接口对应的接口访问请求不存在登录令牌的情况，请求发送端先从登录服务中获取登录态信息，将带有登录态信息的接口访问请求发送至网关服务，进而访问待测接口对应的接口服务。结合图3-c所示，本公开实施例提供了一种接口测试方法，包括：步骤S301，请求发送端获取待测接口对应的原始访问请求；步骤S302，请求发送端发送原始访问请求至网关服务；步骤S303，若原始访问请求不包括登录令牌且缓存服务中未保存有缓存登录态，网关服务生成登录态获取请求；步骤S304，网关服务发送登录态获取请求至登录服务；步骤S305，登录服务发送当前登录态至网关服务；步骤S306，网关服务将接收到的当前登录态确定为缓存登录态，在缓存服务中缓存登录态；步骤S307，网关服务根据原始访问请求和当前登录态生成待发送访问请求；步骤S308，网关服务发送待发送访问请求至待测接口对应的接口服务；步骤S309，接口服务发送待发送访问请求对应的响应信息至网关服务；步骤S310，网关服务发送响应信息至请求发送端。结合图3-d所示，本公开实施例提供了一种接口测试方法，包括：步骤S311，请求发送端获取待测接口对应的原始访问请求；步骤S312，请求发送端发送原始访问请求至网关服务；步骤S313，若原始访问请求不包括登录令牌且缓存服务中保存有缓存登录态，网关服务从缓存服务中获取缓存登录态；步骤S314，网关服务根据原始访问请求和缓存登录态生成待发送访问请求；步骤S315，网关服务发送待发送访问请求至待测接口对应的接口服务；步骤S316，接口服务发送待发送访问请求对应的响应信息至网关服务；步骤S317，网关服务发送响应信息至请求发送端。采用本公开实施例提供的接口测试方法，通过网关服务若确定接收到的原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收登录服务反馈的当前登录态，根据当前登录态和原始访问请求访问待测接口，具有以下优点：第一、避免在访问接口前对每个访问请求进行设置以获取登录态，进而提高了接口测试的测试效率。同时，在每次接收到访问请求时获取当前登录态，相较于将登录态写在请求方式里，避免了登录态信息过期导致无法访问接口的情况；第二、将从登录服务中获取到的当前登录态进行缓存，避免每次网关服务收到访问请求都会去请求登陆服务，便于下一次测试重复使用当前登录态，提高了获取登录态的速度，进而提高了测试效率；同时，对缓存登录态设置自动过期的机制，保证了登录态信息的时效性，避免测试中出现登录态信息过期导致的接口访问失败，提高了测试的鲁棒性；第三、不仅通过预设访问阈值对接口访问进行限流，进而避免了访问拥堵，而且，由于第二访问请求不需要获取登录态，根据优先级依次通过待访问请求访问接口，提高访问效率；第四、接收到待测接口反馈的响应信息，将响应信息发送回请求发送端，同时将响应信息发送至预设的指定接收端，进而触发请求发送端和指定接收端生成接口测试对应的测试报告，实现对待测接口的接口测试；第五、在网关服务中设置测试启用信息作为测试功能开关，当网关服务启用测试功能会获取登录态，避免出现登录态为未登录也能访问接口及其相关模块，提高了测试安全性和可信度；第六、通过客户端等级作为网关服务的内置开关，当开关是启用状态，才会触发上述方法，避免生产环境已启用该功能，进而出现未登陆也能访问接口出现的安全问题；同时，根据接口等级和客户端等级确定访问失败的原因，进而通过第一反馈信息和第二反馈信息反馈给请求发送端，不需要进行接口访问，提高了测试效率，并便于用户确认失败原因。结合图4所示，本公开实施例提供了一种接口测试系统，包括接收模块401、获取模块402和访问模块403。其中，接收模块401用于网关服务接收待测接口对应的原始访问请求，确定所述原始访问请求中是否包含登录令牌；获取模块402用于若所述原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收所述登录服务反馈的当前登录态；访问模块403用于将所述当前登录态和所述原始访问请求作为第一访问请求访问所述待测接口。采用本公开实施例提供的接口测试系统，通过网关服务若确定接收到的原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收登录服务反馈的当前登录态，根据当前登录态和原始访问请求访问待测接口。这样，避免在访问接口前对每个访问请求进行设置以获取登录态，进而提高了接口测试的测试效率。同时，在每次接收到访问请求时获取当前登录态，相较于将登录态写在请求方式里，避免了登录态信息过期导致无法访问接口的情况。结合图5所示，本公开实施例提供了一种电子设备，包括：处理器500及存储器501；存储器用于存储计算机程序，处理器用于执行存储器存储的计算机程序，以使终端执行本实施例中任一项方法。可选地，该电子设备还可以包括通信接口502和总线503。其中，处理器500、通信接口502、存储器501可以通过总线503完成相互间的通信。通信接口502可以用于信息传输。处理器500可以调用存储器501中的逻辑指令，以执行上述实施例中的方法。此外，上述的存储器501中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。存储器501作为一种计算机可读存储介质，可用于存储软件程序、计算机可执行程序，如本公开实施例中的方法对应的程序指令/模块。处理器500通过运行存储在存储器501中的程序指令/模块，从而执行功能应用以及数据处理，即实现上述实施例中的方法。存储器501可包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序；存储数据区可存储根据终端设备的使用所创建的数据等。此外，存储器501可以包括高速随机存取存储器，还可以包括非说易失性存储器。采用本公开实施例提供的电子设备，通过网关服务若确定接收到的原始访问请求中不包含登录令牌，则向登录服务发送登录态获取请求，接收登录服务反馈的当前登录态，根据当前登录态和原始访问请求访问待测接口。这样，避免在访问接口前对每个访问请求进行设置以获取登录态，进而提高了接口测试的测试效率。同时，在每次接收到访问请求时获取当前登录态，相较于将登录态写在请求方式里，避免了登录态信息过期导致无法访问接口的情况。本公开实施例还提供了一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现本实施例中的任一项方法。本公开实施例中的计算机可读存储介质，本领域普通技术人员可以理解：实现上述各方法实施例的全部或部分步骤可以通过计算机程序相关的硬件来完成。前述的计算机程序可以存储于一计算机可读存储介质中。该程序在执行时，执行包括上述各方法实施例的步骤；而前述的存储介质包括：ROM、RAM、磁碟或者光盘等各种可以存储程序代码的介质。本实施例公开的电子设备，包括处理器、存储器、收发器和通信接口，存储器和通信接口与处理器和收发器连接并完成相互间的通信，存储器用于存储计算机程序，通信接口用于进行通信，处理器和收发器用于运行计算机程序，使电子设备执行如上方法的各个步骤。在本实施例中，存储器可能包含随机存取存储器，也可能还包括非易失性存储器，例如至少一个磁盘存储器。上述的处理器可以是通用处理器，包括中央处理器、图形处理器，网络处理器等；还可以是数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。以上描述和附图充分地示出了本公开的实施例，以使本领域的技术人员能够实践它们。其他实施例可以包括结构的、逻辑的、电气的、过程的以及其他的改变。实施例仅代表可能的变化。除非明确要求，否则单独的部件和功能是可选的，并且操作的顺序可以变化。一些实施例的部分和子样本可以被包括在或替换其他实施例的部分和子样本。而且，本申请中使用的用词仅用于描述实施例并且不用于限制权利要求。如在实施例以及权利要求的描述中使用的，除非上下文清楚地表明，否则单数形式的“一个”、“一个”和“所述”旨在同样包括复数形式。类似地，如在本申请中所使用的术语“和/或”是指包含一个或一个以上相关联的列出的任何以及所有可能的组合。另外，当用于本申请中时，术语“包括”及其变型“包括”和/或包括等指陈述的子样本、整体、步骤、操作、元素，和/或组件的存在，但不排除一个或一个以上其它子样本、整体、步骤、操作、元素、组件和/或这些的分组的存在或添加。在没有更多限制的情况下，由语句“包括一个…”限定的要素，并不排除在包括所述要素的过程、方法或者设备中还存在另外的相同要素。本文中，每个实施例重点说明的可以是与其他实施例的不同之处，各个实施例之间相同相似部分可以互相参见。对于实施例公开的方法、产品等而言，如果其与实施例公开的方法部分相对应，那么相关之处可以参见方法部分的描述。本领域技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，可以取决于技术方案的特定应用和设计约束条件。所述技术人员可以对每个特定的应用来使用不同方法以实现所描述的功能，但是这种实现不应认为超出本公开实施例的范围。所述技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统、装置和单元的具体工作过程，可以当前前述方法实施例中的对应过程，在此不再赘述。本文所披露的实施例中，所揭露的方法、产品，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，可以仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些子样本可以忽略，或不执行。另外，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例。另外，在本公开实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。附图中的流程图和框图显示了根据本公开实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这可以依所涉及的功能而定。在附图中的流程图和框图所对应的描述中，不同的方框所对应的操作或步骤也可以以不同于描述中所披露的顺序发生，有时不同的操作或步骤之间不存在特定的顺序。例如，两个连续的操作或步骤实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这可以依所涉及的功能而定。框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。
