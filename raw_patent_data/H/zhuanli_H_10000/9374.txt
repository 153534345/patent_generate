标题title
一种半免授权场景下的动态功率分配和能级选择方法
摘要abst
本发明公开了一种半免授权场景下的动态功率分配和能级选择方法,分为两大部分：第一部分主要是基于授权用户通过最优化算法得到每个子信道分配到的功率和每个子信道选择的最大能级数，并将相关参数传给基站，基站再将相关参数发送到广播信道；第二部分主要是免授权用户通过广播信道的相关参数，随机选择一个子信道的一个可接入能级进行接入，并计算出自己的发射功率。每个子信道各个能级用户通过功率域非正交多址方式进行数据传输。为了实现目标，本发明实现第一部分内容，第二部分的性能也是取决于第一部分的结果。本发明在保证基于授权用户得到一个较高的数据速率的同时，大大提高免授权用户的接入成功率。
权利要求书clms
1.一种半免授权场景下的动态功率分配和能级选择方法，其特征在于，包括以下步骤：步骤1、建立一个单基站的微小区，所述微小区内均匀分布着N个基于授权的用户和M个免授权用户；设置授权的用户的数量大于免授权用户数量；对于授权的用户，基站给每个授权的用户分配相等带宽的频率资源，且每个授权的用户的频率资源被划分为K个带宽相等的子信道；每个授权的用户都有一个相等的最大功率限制PGB，max，用于给K个子信道分配功率；步骤2、每个授权的用户先固定最大能级数，令每个子信道都选择相等的最大能级数，并平均分配功率，然后通过最优化算法得到每个子信道分配到的功率和每个子信道选择的最大能级数；步骤3、进行能级选择：步骤3.1、单独对每个子信道的结果按照数据速率大小进行排序，选择使得数据速率最大的一组功率和最大能级数的结果；步骤3.2、每个授权的用户对其K个子信道所选出来的结果的功率求和，若总功率超过了最大功率限制PGB，max，则采用梯度下降法选择次最优结果；步骤3.3、每个子信道都拥有自己的最大能级数、功率、授权的用户所占用能级以及可接入能级，将这些参数传给基站并由基站通过广播信道广播出去；步骤4、按照分布式分层非正交多址方案，其能级划分是将一个小区划分为一个个相等面积的圆环区域，当一个能级有多个用户选择接入，则碰撞发生；当一个用户选择的能级没有其他用户选择，且小编号能级没发生碰撞，则该用户被视为成功接入，该用户传输的信息在基站被成功解码；步骤5、所有免授权用户完成接入后，将所有免授权用户的信息视为干扰，可以计算出每个授权的用户在每个子信道上的实际数据速率；计算成功接入的用户占总用户的比例，即为接入成功率。2.根据权利要求1所述的半免授权场景下的动态功率分配和能级选择方法，其特征在于，所述步骤2具体包括以下步骤：步骤2.1、根据初始功率、最大能级数、到基站的距离以及每个子信道的信道状况，确定该授权的用户在其K个子信道上所占用的能级编号；步骤2.2、设置授权的用户处于非正交多址方案中的第一解码位，只有比授权的用户所占用能级的编号大的能级才能用于免授权用户的接入；步骤2.3、设置所有比授权的用户所占用能级的编号大的能级全部接入一个免授权用户，即成功满载情况，然后采用注水法进行功率分配；功率分配后会得到新的各个子信道的功率和所占用能级，然后再进行注水法，迭代指定次数后，授权的用户会收敛到一个稳定值或者两个结果；步骤2.4、若授权的用户收敛到一个稳定值，稳定值为最终结果；若授权的用户得到两个结果，则选取数据速率更大的结果为最终结果；步骤2.5、改变固定的最大能级数，再进行上述功率分配操作，直到所有可选最大能级数都得到了相应的结果。3.根据权利要求2所述的半免授权场景下的动态功率分配和能级选择方法，其特征在于，步骤3中梯度下降法具体包括以下步骤：对比每个子信道次优于当前结果的结果对合数据速率的衰减，选择衰减最小的一个子信道的次优解代替该子信道的当前结果，然后再检查最大功率限制；直至最终选择的结果满足最大功率限制。4.根据权利要求3所述的半免授权场景下的动态功率分配和能级选择方法，其特征在于，所述步骤4中分布式分层非正交多址方案具体包括以下步骤：步骤3.1、每个子信道都将小区根据面积按半径划分了一个个区域，每一个能级代表一个接入机会，则所有接入机会用一个以半径为自变量的分布函数表示其分布情况；步骤3.2、免授权用户会根据这个分布函数计算出的概率选择一个半径，再从它选择的这个半径上的可接入能级中等概率随机选择一个能级进行接入；步骤3.3、根据所选能级以及该能级所在子信道的相关参数计算出自己的发射功率。5.根据权利要求4所述的半免授权场景下的动态功率分配和能级选择方法，其特征在于，所述步骤4中在基站端通过串行干扰消除来分别对每个用户的信息进行解码；所述串行干扰消除按照接收功率大小依次解码，将当前解码信号之外的信号均视为干扰，每解码一个信号就将其从接受信号中减掉，再解码下一个信号，直到全部解码完成。
说明书desc
技术领域本发明属于通信技术领域，尤其涉及一种半免授权场景下的动态功率分配和能级选择方法。背景技术大规模机器类通信不仅是第五代移动通信的三大场景之一，同时也是物联网的关键技术之一，其主要是针对用户数量庞大的巨连接场景。在用户数量巨大的场景下，用户与基站进行连接时的信息交互的开销也会非常大。为解决这个问题，免授权传输策略得到了人们的关注。但是免授权策略又存在碰撞这一严重短板。之后就出现了将GF 策略与非正交多址相结合的方案，利用NOMA的特性成功缓解了高碰撞问题。而将基于授权 用户和GF用户同时考虑的半免授权方案又很好地满足了实际情况和第六代移动通信中同时考虑mMTC和URLLC的问题。SGF方案结合NOMA可以让GB用户和GF 用户共用时频资源，以节省资源，同时还具有高传输速率和低碰撞的特性。现有的SGF-NOMA方案大多只考虑了两个功率级的NOMA框架，这对于大规模连接是不足够的。发明内容本发明目的在于提供一种半免授权场景下的动态功率分配和能级选择方法,以解决用户与基站进行连接时的信息交互的开销会非常大和免授权策略存在碰撞这一严重短板的技术问题，同时在保证GB MTCDs的QoS的前提下，尽可能提升GF MTCDs的成功接入概率，支持更多的GF MTCDs。为解决上述技术问题，本发明的具体技术方案如下：一种半免授权场景下的动态功率分配和能级选择方法，包括以下步骤：步骤1、建立一个单基站的微小区，所述微小区内均匀分布着N个基于授权的用户和M个免授权用户；设置授权的用户的数量大于免授权用户数量；对于授权的用户，基站给每个授权的用户分配相等带宽的频率资源，且每个授权的用户的频率资源被划分为K个带宽相等的子信道；每个授权的用户都有一个相等的最大功率限制PGB，max，用于给K个子信道分配功率；步骤2、每个授权的用户先固定最大能级数，令每个子信道都选择相等的最大能级数，并平均分配功率，然后通过最优化算法得到每个子信道分配到的功率和每个子信道选择的最大能级数，具体包括以下步骤：步骤2.1、根据初始功率、最大能级数、到基站的距离以及每个子信道的信道状况，确定该授权的用户在其K个子信道上所占用的能级编号；步骤2.2、设置授权的用户处于非正交多址方案中的第一解码位，只有比授权的用户所占用能级的编号大的能级才能用于免授权用户的接入；步骤2.3、设置所有比授权的用户所占用能级的编号大的能级全部接入一个免授权用户，即成功满载情况，然后采用注水法进行功率分配；功率分配后会得到新的各个子信道的功率和所占用能级，然后再进行注水法，迭代指定次数后，授权的用户会收敛到一个稳定值或者两个结果；步骤2.4、若授权的用户收敛到一个稳定值，稳定值为最终结果；若授权的用户得到两个结果，则选取数据速率更大的结果为最终结果；步骤2.5、改变固定的最大能级数，再进行上述功率分配操作，直到所有可选最大能级数都得到了相应的结果；步骤3、进行能级选择部分：步骤3.1、单独对每个子信道的结果按照数据速率大小进行排序，选择使得数据速率最大的一组功率和最大能级数的结果；步骤3.2、每个授权的用户对其K个子信道所选出来的结果的功率求和，若总功率超过了最大功率限制PGB，max，则采用梯度下降法选择次最优结果；步骤3.3、每个子信道都拥有自己的最大能级数、功率、授权的用户所占用能级以及可接入能级，将这些参数传给基站并由基站通过广播信道广播出去；步骤4、按照分布式分层非正交多址方案，其能级划分是将一个小区划分为一个个相等面积的圆环区域，当一个能级有多个用户选择接入，则碰撞发生；当一个用户选择的能级没有其他用户选择，且小编号能级没发生碰撞，则该用户被视为成功接入，该用户传输的信息在基站被成功解码；步骤5、所有免授权用户完成接入后，将所有免授权用户的信息视为干扰，可以计算出每个授权的用户在每个子信道上的实际数据速率；计算成功接入的用户占总用户的比例，即为接入成功率。进一步的，步骤3中梯度下降法具体包括以下步骤：对比每个子信道次优于当前结果的结果对合数据速率的衰减，选择衰减最小的一个子信道的次优解代替该子信道的当前结果，然后再检查最大功率限制；直至最终选择的结果满足最大功率限制。进一步的，所述步骤4中分布式分层非正交多址方案具体包括以下步骤：步骤4.1、每个子信道都将小区根据面积按半径划分了一个个区域，每一个能级代表一个接入机会，则所有接入机会用一个以半径为自变量的分布函数表示其分布情况；步骤4.2、免授权用户会根据这个分布函数计算出的概率选择一个半径，再从它选择的这个半径上的可接入能级中等概率随机选择一个能级进行接入；步骤4.3、根据所选能级以及该能级所在子信道的相关参数计算出自己的发射功率。进一步的，所述步骤4中在基站端通过串行干扰消除来分别对每个用户的信息进行解码；所述串行干扰消除按照接收功率大小依次解码，将当前解码信号之外的信号均视为干扰，每解码一个信号就将其从接受信号中减掉，再解码下一个信号，直到全部解码完成。本发明的一种半免授权场景下的动态功率分配和能级选择方法具有以下优点：1、本发明所提出的方案通过将GB MTCDs放在NOMA传输的第一位，来保证GB MTCDs的QoS，同时通过多子信道动态分布式分层NOMA减少GF MTCDs 的碰撞，从而可以获得更高的传输速率；2、本发明所提出的方案通过多子信道动态分布式分层NOMA可以提供更多的接入机会以减少GF MTCDs的碰撞，从而可以获得更高的接入成功率；附图说明图1为本发明的方法所针对的小区的示意图；图2为实施例中，观察改变用户数量对接入成功率的影响，并与现有方案进行对比；图3为实施例中，观察本发明分析的三种β情形下的接入成功率的比较；图4为实施例中，观察本发明分析的三种β情形下的平均数据速率的比较。具体实施方式为了更好地了解本发明的目的、结构及功能，下面结合附图，对本发明一种半免授权场景下的动态功率分配和能级选择方法做进一步详细的描述。如图1所示，本发明考虑的模型是一个单基站的圆形微小区，单基站位于圆心位置，区域内均匀分布着N个基于授权的用户和Mtotal个免授权用户。并设每个时隙内活跃的 GF MTCD个数为M个，即GF MTCD的活跃概率为βactive＝M/Mtotal。同时假设 GF MTCD的数量远大于GB MTCD的数量。对于GB MTCDs，基站给每个GB MTCD 分配相等带宽的频率资源，且每个GB MTCD的频率资源被划分为K个带宽相等的子信道。每个GB MTCD都有一个相等的最大功率限制PGB，max，用于给K 个子信道分配功率。每个子信道的各能级用户的信息传输按照非正交多址 策略传输，即分配不同功率，然后将需要传输的信息求和一起发送，在基站端通过串行干扰消除来分别对每个用户的信息进行解码。所谓 SIC，即按照接收功率大小依次解码，将当前解码信号之外的信号均视为干扰，每解码一个信号就将其从接受信号中减掉，再解码下一个信号，直到全部解码完成。本发明提出了一种半免授权场景下的动态功率分配和能级选择方法，由于半免授权的场景既包含基于授权的用户和免授权的用户，本发明着力于在保证基于授权用户的数据速率的前提下，尽可能的提高免授权用户的接入成功率。为实现上述目的，本发明提出了如下最优化问题其中，PGB，nk表示第n个GB MTCD在其第k个子信道上分配的功率，Lnk表示第n个GBMTC的第k个子信道上的能级数，β是取值范围为的权衡系数，RGB为GB MTCDs的总数据速率，Lavailable为可接入能级总数，RGB，max表示RGB，n的最大值总和,Lmax为总能级数。为实现上述目的，本发明采用的技术方案特点是在分布式免授权非正交多址的基础上考虑了同一小区内的基于授权的用户且保证基于授权用户的 NOMA优先级，使基站同时服务两种用户，并且采用的分布NOMA模型的每个子信道的能级选择是独立进行的。每个GB MTCD先固定最大能级数，令每个子信道都选择相等的最大能级数，并平均分配功率。根据初始功率、最大能级数、到基站的距离以及每个子信道的信道状况，可以确定该GB MTCD在其K个子信道上所占用的能级编号。为了保证GB MTCD的服务质量，该发明令 GB MTCD一定处于NOMA中的第一解码位，所以只有比GB MTCD所占用能级的编号大的能级才能用于GF MTCD的接入。在确定了GB MTCD在其K个子信道上所占用的能级及其余可接入能级后，假定所有可接入能级全部接入一个GF MTCD，即成功满载情况，然后采用注水法进行功率分配。功率分配后会得到新的各个子信道的功率和所占用能级，然后再进行注水法，迭代指定次数后，某些GB MTCDs会收敛到一个稳定值，有些则会在两个结果中摇摆。对于摇摆的情况，选取数据速率更大的结果为最终结果过。之后改变固定的最大能级数，再进行上述功率分配操作，直到所有可选最大能级数都得到了相应的结果。完成功率分配后，接着进行能级选择部分。单独对每个子信道的结果按照数据速率大小进行排序，选择使得数据速率最大的一组功率和最大能级数的结果。每个GB MTCD对其K个子信道所选出来的结果的功率求和，若总功率超过了最大功率限制PGB，max，则采用梯度下降法选择次最优结果。该梯度下降法的原理为：对比每个子信道次优于当前结果的结果对合数据速率的衰减，选择衰减最小的一个子信道的次优解代替该子信道的当前结果，然后再检查最大功率限制。循环梯度下降法直至最终选择的结果满足最大功率限制。完成上述步骤后，每个子信道都会拥有自己的最大能级数、功率、GB MTCD 所占用能级以及可接入能级。将这些参数传给基站并由基站通过广播信道广播出去。按照分布式分层NOMA的原理，其能级划分是将一个小区划分为一个个相等面积的圆环区域。该发明中，则相当于每个子信道都将小区根据面积按半径划分了一个个区域，每一个能级代表一个接入机会，则所有接入机会就可以用一个以半径为自变量的分布函数表示其分布情况。GF MTCD会根据这个分布函数计算出的概率选择一个半径，再从它选择的这个半径上的可接入能级中等概率随机选择一个能级进行接入。最后根据所选能级以及该能级所在子信道的相关参数计算出自己的发射功率。根据NOMA原理，当一个能级有多个用户选择接入，则碰撞发生；当一个用户选择的能级没有其他用户选择，且小编号能级没发生碰撞，则该用户被视为成功接入，该用户传输的信息就能在基站被成功解码。所有GF MTCDs完成接入后，将所有GF MTCDs的信息视为干扰，可以计算出每个GBMTCD在每个子信道上的实际数据速率，再将该GB MTCD的所有子信道速率求和即为该GBMTCD的数据速率；计算成功接入的用户占总用户的比例，即为接入成功率。下面结合实施例对本发明作进一步说明。实施例1200 GB MTCDs和800 GF MTCDs、400 GB MTCDs和600GF MTCDs、400 GB MTCDs和1000 GF MTCDs三种情况的接入成功率在各种可选最大能级数下的对比以及与传统分布式免授权NOMA方案的对比。表1实施例1参数表参数符号参数描述参数值PGB，max每个GB MTCD的最大功率限制40dBK每个GB MTCD占用的子信道数目5Γ目标信干噪比6dBD小区半径1mσ2噪声功率0dBα路径衰落系数2it迭代次数10 表1给出了实施例1的仿真参数设置以及各参数的描述。该实施例主要是与传统方案进行对比，所以参数设置都是按照传统方案仿真来设置的，所以噪声功率σ2取的是归一化值0dB，所以功率限制也是经过归一化后的值。仿真时只考虑路径衰落而不考虑小尺度衰落。同时，设定可选最大能级数的范围，即图2的横坐标为集合L＝{2，3，...，8}。用Lnk表示第n个GB MTCD的第k个子信道的最大能级数，则Lnk满足Lnk∈L。这时，可得第n个GB MTCD的第k个子信道的能级划分为其中，l表示第l层能级。则根据式，基站端的第n个GB MTCD的第k 个子信道的满载接收信干噪比可得为其中dGB，n为第n个GB MTCD到基站的距离，lnk表示第n个GB MTCD在其第k个子信道上占用的能级的编号。该编号通过该GB MTCD在该子信道上到基站的接收功率与该子信道的划分的能级vl，nk相比较，找到该功率位于哪两个能级之间，则两个能级中低于该功率的能级编号即为该编号。根据式，可求得第n个GB MTCD在第k个子信道上满载时的信息速率为将式对k求和就可以得到系统的第n个GB MTCD的总数据速率。通过式，对每个GB MTCD的K个子信道进行功率分配，并迭代it次，得到使得每个GB MTCD的数据速率最大的一组PGB，max、Lnk、lnk。完成对GB MTCDs的功率分配和能级选择优化问题的求解，就可以根据结果得到可接入能级数为同时，能级划分是根据面积划分的，即每个能级的区域面积相等。因此，可接入能级的分布是一个与距离相关的函数，此处的距离指用户到基站的距离，也等于半径。可接入能级的分布的概率分布函数可得为其中自变量x表示半径，表示向上取整的运算。GF MTCDs根据p选择一个半径，即可接入能级越多的区域，GF MTCDs就有越高的概率选择。GF MTCDs在其选择的半径上，可以得知该半径上的可接入能级有哪些，并从中等概率随机选择一个能级进行接入。当所有GF MTCDs都完成接入后，成功接入的用户数目占总用户数目的比率即为接入成功概率。一个GF MTCD成功接入的条件为：该用户所接入的能级只有它一个用户选择接入；该用户接入的能级所在的子信道中，低于该能级编号的能级上接入的用户不超过1 个。图2给出了该情形下本发明提出的方案的仿真结果。仿真中的参数设置表1已给出。图2的结果表明，本发明提出的方案的三种不同用户数量的情况下的接入成功率均比经典的分布式分层免授权非正交多址方案要好。同时，本发明提出的方案的三种不同用户数量的情况下的接入成功率在可选最大能级数不超过4时均呈上升趋势；当可选最大能级数大于4时，均趋于稳定或小幅度波动，说明可选最大能级数对接入成功率的影响不大。这是因为本发明的目标是在保证数据速率的前提下，尽可能提高接入成功率，而最大能级数过大会导致干扰增多，进而导致数据速率下降过多，所以本发明只允许一定程度上的牺牲数据速率换取接入成功率，即一般不会选择超过4的最大能级数。而GB MTCD的数量是直接影响可接入能级数量，所以GB MTCD的数量对接入成功率有直接且明显的影响，GB MTCD数量越大，接入成功率就越大。经典的分布式分层免授权非正交多址方案的曲线表明其接入成功率与最大能级数有直接关系，所以只有在最大能级数较高的情况下，经典方案才能获得更好的接入成功率性能。实施例2三种不同的β值的情形的对比表2表2给出了实施例2的仿真参数设置以及各参数的描述。设定可选最大能级数的范围，即图3的横坐标为集合L＝{2，3，...，8}。用Lnk表示第n个 GB MTCD的第k个子信道的最大能级数，则Lnk满足Lnk∈L。其中噪声功率由下式给出式给出的噪声功率单位为dBm。在本实施例中，既考虑路径衰落，又考虑小尺度衰落，所以本实施例中的第n个GB MTCD的第k个子信道的能级划分为根据式，可得基站端的第n个GB MTCD的第k个子信道的满载接收信干噪比为其中hGB，nk表示第n个GB MTCD在第k个子信道上的瑞利衰落系数，|| 表示取幅值的计算。根据式，可得第n个GB MTCD在第k个子信道上满载时的信息速率为本实施例2中的可接入能级数的公式和式相同，便不再给出。且GF MTCD的接入过程和相关公式也和实施例1相同，也不再给出。本发明的主要目的为在保证GB MTCD的数据速率的前提下，尽可能提高 GF MTCD的接入成功率。基于这个目的，本发明提出了如下优化问题其中β是加权系数，用于权衡数据速率和可接入能级数量。针对本发明的目标，β取值满足0＜β＜＜1，同时本实施例还会比较两种极端情况，即β＝0和β＝1。RGB，max和Lmax分别表示RGB，n的最大值总和和能级总数，用于归一化两个不同的指标统一量纲。式中第一个约束条件为最大功率约束，第二个约束条件为功率非负约束，第三和第四个条件表示Lnk∈L。β＝0和β＝1两种情形都会将式化为非常简单的功率分配问题。但是针对本发明的0＜β＜＜1情形，式过于复杂，难以求解，所以本发明将式进行简化拆解后给出了求解方案，即前述的具体实施方法，先进行 GB MTCD在各种最大能级数下的功率分配，再从结果中进行最优能级选择，最后进行GF MTCD的接入。图3和图4给出了针对三种不同β取值情形的接入成功率和平均数据速率的对比仿真结果，仿真参数设置由表2给出。图3的仿真结果表明，β＝1的情形能获得的接入成功率最高，β＝0能获得的接入成功率最低，本发明的方案做到了两种极端情形的权衡。图4的仿真结果表明，β＝0能获得的平均数据速率最高，β＝1能获得的平均数据速率最低，本发明的方案做到了两种极端方案的权衡。可以理解，本发明是通过一些实施例进行描述的，本领域技术人员知悉的，在不脱离本发明的精神和范围的情况下，可以对这些特征和实施例进行各种改变或等效替换。另外，在本发明的教导下，可以对这些特征和实施例进行修改以适应具体的情况及材料而不会脱离本发明的精神和范围。因此，本发明不受此处所公开的具体实施例的限制，所有落入本申请的权利要求范围内的实施例都属于本发明所保护的范围内。
