标题title
光通信装置、光通信系统及方法
摘要abst
一种光通信装置、光通信系统及方法。所述光通信装置包括：随机数生成器、第一密钥管理器、第一加解密器、驱动器和发射器。所述随机数生成器被配置为基于时间频率生成随机数。所述第一密钥管理器被配置为基于所述随机数生成第一密钥，存储并管理所述第一密钥、以及从外部获取的第二密钥。所述第一加解密器被配置为根据所述第二密钥对所述第一密钥进行加密，获得第一加密密钥；以及，被配置为根据所述第一密钥对初始通信数据进行加密，获得第一加密数据。所述驱动器被配置为获取所述第一加密数据，将所述第一加密数据编码为可见光发光指令。所述发射器被配置为接收所述可见光发光指令，根据所述可见光发光指令出射第一可见光。
权利要求书clms
一种光通信装置，包括：随机数生成器，被配置为基于时间频率生成随机数；第一密钥管理器，被配置为基于所述随机数生成第一密钥，存储并管理所述第一密钥、以及获取的第二密钥；第一加解密器，与所述第一密钥管理器连接，被配置为根据所述第二密钥对所述第一密钥进行加密，获得第一加密密钥；以及，被配置为根据所述第一密钥对初始通信数据进行加密，获得第一加密数据；驱动器，与所述第一加解密器连接，被配置为获取所述第一加密数据，将所述第一加密数据编码为可见光发光指令；发射器，与所述驱动器连接，被配置为接收所述可见光发光指令，根据所述可见光发光指令出射第一可见光。根据权利要求1所述的光通信装置，其中，所述随机数生成器包括：脉冲生成子电路、锁频环回路和随机数生成子电路；所述脉冲生成子电路被配置为生成多个脉冲，所述脉冲的频率随环境参数的变化而变化；所述锁频环回路包括鉴频鉴相子电路和反馈子电路；其中，所述鉴频鉴相子电路被配置为根据输入信号和反馈信号的相位关系生成相位关系指示信号和频率关系指示信号，所述相位关系指示信号指示所述输入信号的相位是否超前于所述反馈信号的相位，所述频率关系指示信号指示所述输入信号与所述反馈信号的频率大小关系；所述反馈子电路被配置为根据所述频率关系指示信号和所述脉冲的频率生成所述反馈信号；所述随机数生成子电路被配置为根据所述相位关系指示信号生成所述随机数。根据权利要求2所述的光通信装置，其中，所述反馈子电路包括：控制器，被配置为根据所述频率关系指示信号生成频率控制字；数字控制振荡器，被配置为根据所述频率控制字和所述脉冲的频率生成中间信号，所述中间信号的频率为其中，K为所述脉冲生成子电路生成的所述脉冲的个数，f为所述脉冲的频率，F为所述频率控制字；第一分频器，被配置为对所述中间信号进行分频，生成所述反馈信号。根据权利要求2或3所述的光通信装置，其中，所述随机数生成器还包括配置为传输所述输入信号的输入装置；所述输入装置包括晶振、微机电系统或振荡器。根据权利要求1～4任一项所述的光通信装置，其中，所述第一密钥管理器包括：第一密钥生成器，被配置为获取所述随机数，生成所述第一密钥；第一存储器，被配置为存储并管理所述第一密钥、所述第二密钥。一种光通信装置，包括：第二密钥管理器，被配置为存储并管理第三密钥、以及从外部获取的第四密钥；可见光接收器，被配置为接收第二可见光，并将所述第二可见光解码为第二加密数据；第二加解密器，与所述第二密钥管理器、所述可见光接收器连接；所述第二加解密器被配置为：根据所述第三密钥解密所述第四密钥，获得第五密钥，并根据所述第五密钥解密所述第二加密数据，获得初始通信数据。根据权利要求6所述的光通信装置，其中，所述第二密钥管理器包括：第三密钥生成器，被配置为生成所述第三密钥；第二存储器，被配置为存储并管理所述第三密钥、所述第四密钥；其中，所述第三密钥为非对称密钥和对称密钥两者之一；在所述第三密钥为非对称密钥的情况下，所述第三密钥包括第一公钥和第一私钥，所述第一公钥和所述第一私钥配对使用；其中，所述第四密钥为采用所述第一公钥对所述第五密钥进行加密后获得的密钥；所述第二加密数据为采用所述第五密钥对所述初始通信数据进行加密后获得的数据；所述第二加解密器被配置为根据所述第一私钥解密所述第四密钥；在所述第三密钥为对称密钥的情况下，所述第四密钥为采用所述第三密钥对所述第五密钥进行加密后获得的密钥；所述第二加密数据为采用所述第五密钥对所述初始通信数据进行加密后获得的数据。根据权利要求6或7所述的光通信装置，其中，所述可见光接收器包括光电传感器或图像传感器。一种光通信系统，包括：光信号发射器和光信号接收器；所述光信号发射器包括：如权利要求1～5任一项所述的光通信装置；所述光信号接收器包括：如权利要求6～8任一项所述的光通信装置；其中，所述光信号发射器中的所述第一密钥与所述光信号接收器中的所述第五密钥为同一密钥；所述光信号发射器中的所述第一加密密钥和所述光信号接收器中的所述第四密钥为同一密钥；所述光信号发射器中的所述第二密钥为所述光信号接收器中所述第三密钥的第一公钥和所述第三密钥二者之一。根据权利要求9所述的光通信系统，其特征在于，所述光信号接收器还包括：如权利要求1～5任一所述的光通信装置；和/或，所述光信号发射器还包括：如权利要求6～8任一所述的光通信装置。一种光通信方法，应用于如权利要求9所述的光通信系统；所述光通信方法，包括：所述第二密钥管理器存储并管理第三密钥；所述第一密钥管理器获取并存储所述第三密钥或所述第三密钥中的第一公钥，将其作为第二密钥管理；所述随机数生成器基于时间频率生成随机数；所述第一密钥管理器获取所述随机数，根据所述随机数生成第一密钥；所述第一密钥管理器存储并管理所述第一密钥；所述第一加解密器根据所述第二密钥对所述第一密钥进行加密，获得第一加密密 钥；所述第二密钥管理器存储所述第一加密密钥，并将其作为第四密钥管理；第二加解密器根据所述第三密钥或所述第三密钥中的第一私钥解密所述第四密钥，获得所述第一密钥；所述第二密钥管理器存储所述第一密钥，并将其作为所述第五密钥管理；所述第一加解密器根据所述第一密钥对初始通信数据进行加密，获得加密数据；驱动器接收所述加密数据，将所述加密数据编码为可见光发光指令；发射器接收所述可见光发光指令，根据所述可见光发光指令出射可见光；所述可见光接收器接收所述可见光，并将所述可见光解码为所述加密数据；所述第二加解密器根据所述第五密钥解密所述加密数据，获得所述初始通信数据。根据权利要求11所述的光通信方法，其中，所述随机数生成器基于时间频率生成随机数，包括：脉冲生成子电路生成多个脉冲，所述脉冲的频率随环境参数的变化而变化；鉴频鉴相子电路根据输入信号和反馈信号的相位关系生成相位关系指示信号和频率关系指示信号，所述相位关系指示信号指示所述输入信号的相位是否超前于所述反馈信号的相位，所述频率关系指示信号指示所述输入信号与所述反馈信号的频率大小关系；所述反馈信号由反馈子电路根据所述频率关系指示信号和所述脉冲的频率而生成；随机数生成子电路根据所述相位关系指示信号生成随机数。根据权利要求12所述的光通信方法，其中，所述反馈信号根据以下步骤生成：控制器根据所述频率关系指示信号生成频率控制字；数字控制振荡器根据所述频率控制字和所述脉冲的频率生成中间信号，所述中间信号的频率为其中，K为所述脉冲生成子电路生成的所述脉冲的个数，f为所述脉冲的频率，F为所述频率控制字；第一分频器对所述中间信号进行分频，生成所述反馈信号。根据权利要求11～13所述的光通信方法，其中，所述第一加密密钥、所述第三密钥或所述第三密钥中的第一公钥的传输采用如下任一种通信协议：WIFI、Mesh、Bluetooth、ZigBee、Z-Wave、NFC或UWB。根据权利要求11～14所述的光通信方法，其中，所述可见光发光指令包括亮度指令、灰阶指令、频率指令、色彩指令或发光面积指令中的至少一种。一种非瞬态计算机可读存储介质，其中，所述计算机可读存储介质存储有计算机程序指令，所述计算机程序指令在光通信系统中运行时，使得所述光通信系统执行如权利要求11～15任一项所述的光通信方法中的一个或多个步骤。
说明书desc
技术领域本公开涉及通信技术领域，尤其涉及一种光通信装置、光通信系统及方法。背景技术随着物联网的快速发展，数据安全问题逐渐走入人们的视野。由于数据与用户的个人隐私息息相关。因此，更好的保护数据，例如对数据进行加密传输，能够有效防止通信窃密，给用户带来安心的用户体验。发明内容一方面，提供第一种光通信装置。所述光通信装置包括：随机数生成器、第一密钥管理器、第一加解密器、驱动器和发射器。所述随机数生成器被配置为基于时间频率生成随机数。所述第一密钥管理器被配置为基于所述随机数生成第一密钥，存储并管理所述第一密钥、以及获取的第二密钥。所述第一加解密器与所述第一密钥管理器连接，被配置为根据所述第二密钥对所述第一密钥进行加密，获得第一加密密钥；以及，被配置为根据所述第一密钥对初始通信数据进行加密，获得第一加密数据。所述驱动器与所述第一加解密器连接，被配置为获取所述第一加密数据，将所述第一加密数据编码为可见光发光指令。所述发射器与所述驱动器连接，被配置为接收所述可见光发光指令，根据所述可见光发光指令出射第一可见光。在一些实施例中，所述随机数生成器包括：脉冲生成子电路、锁频环回路和随机数生成子电路。所述脉冲生成子电路被配置为生成多个脉冲，所述脉冲的频率随环境参数的变化而变化。所述锁频环回路包括鉴频鉴相子电路和反馈子电路。所述鉴频鉴相子电路被配置为根据输入信号和反馈信号的相位关系生成相位关系指示信号和频率关系指示信号。所述相位关系指示信号指示所述输入信号的相位是否超前于所述反馈信号的相位。所述频率关系指示信号指示所述输入信号与所述反馈信号的频率大小关系。所述反馈子电路被配置为根据所述频率关系指示信号和所述脉冲的频率生成所述反馈信号。所述随机数生成子电路被配置为根据所述相位关系指示信号生成所述随机数。在一些实施例中，所述反馈子电路包括：控制器、数字控制振荡器和第一分频器。所述控制器被配置为根据所述频率关系指示信号生成频率控制字。所述数字控制振荡器被配置为根据所述频率控制字和所述脉冲的频率生成中间信号。所述中间信号的频率为其中，K为所述脉冲生成子电路生成的所述脉冲的个数，f为所述脉冲的频率，F为所述频率控制字。所述第一分频器被配置为对所述中间信号进行分频，生成所述反馈信号。在一些实施例中，所述随机数生成器还包括配置为传输所述输入信号的输入装置。所述输入装置包括晶振、微机电系统或振荡器。在一些实施例中，所述第一密钥管理器包括：第一密钥生成器和第一存储器。所述第一密钥生成器被配置为获取所述随机数，生成所述第一密钥。所述第一存储器被配置为存储并管理所述第一密钥、所述第二密钥。另一方面，提供第二种光通信装置。所述光通信装置包括：第二密钥管理器、可见光接收器和第二加解密器。所述第二密钥管理器被配置为存储并管理第三密钥、以及从外部获取的第四密钥。所述可见光接收器被配置为接收第二可见光，并将所述第二可见光解码为第二加密数据。所述第二加解密器与所述第二密钥管理器、所述可见光接收器连接。所述第二加解密器被配置为：根据所述第三密钥解密所述第四密钥，获得第五密钥，并根据所述第五密钥解密所述第二加密数据，获得初始通信数据。在一些实施例中，所述第二密钥管理器包括：第三密钥生成器和第二存储器。所述第三密钥生成器被配置为生成所述第三密钥。所述第二存储器被配置为存储并管理所述第三密钥、所述第四密钥。在一些示例中，所述第三密钥为非对称密钥。所述第三密钥包括第一公钥和第一私钥，所述第一公钥和所述第一私钥配对使用。所述第四密钥为采用所述第一公钥对所述第五密钥进行加密后获得的密钥。所述第二加密数据为采用所述第五密钥对所述初始通信数据进行加密后获得的数据。所述第二加解密器被配置为根据所述第一私钥解密所述第四密钥。在另一些示例中，所述第三密钥为对称密钥。所述第四密钥为采用所述第三密钥对所述第五密钥进行加密后获得的密钥。所述第二加密数据为采用所述第五密钥对所述初始通信数据进行加密后获得的数据。在一些实施例中，所述可见光接收器包括光电传感器或图像传感器。又一方面，提供了一种光通信系统。所述光通信系统包括：光信号发射器和光信号接收器。所述光信号发射器包括：如上所述的第一种光通信装置。所述光信号接收器包括：如上所述的第二种光通信装置。所述光信号发射器中的所述第一密钥与所述光信号接收器中的所述第五密钥为同一密钥。所述光信号发射器中的所述第一加密密钥和所述光信号接收器中的所述第四密钥为同一密钥。所述光信号发射器中的所述第二密钥为所述光信号接收器中所述第三密钥的第一公钥和所述第三密钥两者之一。在一些实施例中，所述光信号接收器还包括：如上所述的第二种光通信装置；和/或，所述光信号发射器还包括：如上所述的第一种光通信装置。又一方面，提供了一种光通信方法，应用于如上所述的光通信系统。所述光通信方法，包括：第二密钥管理器存储并管理第三密钥。第一密钥管理器获取并存储所述第三密钥或所述第三密钥中的第一公钥，并将其作为第二密钥管理。随机数生成器基于时间频率生成随机数。所述第一密钥管理器获取所述随机数，根据所述随机数生成第一密钥。所述第一密钥管理器存储并管理所述第一密钥。第一加解密器根据所述第二密钥对所述第一密钥进行加密，获得第一加密密钥。所述第二密钥管理器存储所述第一加密密钥，并将其作为第四密钥管理。第二加 解密器根据所述第三密钥或所述第三密钥中的第一私钥解密所述第四密钥，获得所述第一密钥。所述第二密钥管理器存储所述第一密钥，并将其作为所述第五密钥管理。所述第一加解密器根据所述第一密钥对初始通信数据进行加密，获得加密数据。驱动器接收所述加密数据，将所述加密数据编码为可见光发光指令。发射器接收所述可见光发光指令，根据所述可见光发光指令出射可见光。可见光接收器接收所述可见光，并将所述可见光解码为所述加密数据。所述第二加解密器根据所述第五密钥解密所述加密数据，获得所述初始通信数据。在一些实施例中，所述随机数生成器基于时间频率生成随机数，包括：脉冲生成子电路生成多个脉冲，所述脉冲的频率随环境参数的变化而变化。鉴频鉴相子电路根据输入信号和反馈信号的相位关系生成相位关系指示信号和频率关系指示信号。所述相位关系指示信号指示所述输入信号的相位是否超前于所述反馈信号的相位。所述频率关系指示信号指示所述输入信号与所述反馈信号的频率大小关系。所述反馈信号由反馈子电路根据所述频率关系指示信号和所述脉冲的频率而生成。随机数生成子电路根据所述相位关系指示信号生成随机数。在一些实施例中，所述反馈信号根据以下步骤生成：控制器根据所述频率关系指示信号生成频率控制字。数字控制振荡器根据所述频率控制字和所述脉冲的频率生成中间信号，所述中间信号的频率为其中，K为所述脉冲生成子电路生成的所述脉冲的个数，f为所述脉冲的频率，F为所述频率控制字。第一分频器对所述中间信号进行分频，生成所述反馈信号。在一些实施例中，所述第一加密密钥、所述第三密钥或所述第三密钥中的第一公钥的传输采用如下任一种通信协议：WIFI、Mesh、Bluetooth、ZigBee、Z-Wave、NFC或UWB。在一些实施例中，所述可见光发光指令包括亮度指令、灰阶指令、频率指令、色彩指令或发光面积指令中的至少一种。又一方面，提供了一种非瞬态计算机可读存储介质。所述计算机可读存储介质存储有计算机程序指令，所述计算机程序指令在光通信系统中运行时，使得所述光通信系统执行如上任一实施例所述的光通信方法中的一个或多个步骤。又一方面，提供一种计算机程序。当所述计算机程序在光通信系统中运行时，所述计算机程序使光通信系统中执行如上述任一实施例所述的光通信方法中的一个或多个步骤。附图说明为了更清楚地说明本公开一些实施例中的技术方案，下面将对一些实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本公开的一些实施例，对于本领域普通技术人员来讲，还可以根据这些附图获得其他的附图。图1为根据本公开一些实施例中的一种光通信装置的结构示意图；图2为根据本公开一些实施例中的另一种光通信装置的结构示意图；图3为根据本公开一些实施例中的又一种光通信装置的结构示意图；图4为根据本公开一些实施例中的一种随机数生成器的结构示意图；图5为根据本公开一些实施例中的一种脉冲生成子电路的结构示意图；图6为根据本公开一些实施例中的一种鉴频鉴相子电路的结构示意图；图7为输入图6所示的鉴频鉴相子电路中的输入信号和反馈信号的波形示意图；图8为根据本公开一些实施例中的一种数字控制振荡器的结构示意图；图9为根据本公开一些实施例中的一种基于时间平均频率生成中间信号的原理示意图；图10为根据本公开一些实施例中的一种发射器的结构示意图；图11为根据本公开一些实施例中的又一种光通信装置的结构示意图；图12为根据本公开一些实施例中的又一种光通信装置的结构示意图；图13为根据本公开一些实施例中的又一种光通信装置的结构示意图；图14为根据本公开一些实施例中的一种光通信系统的结构示意图；图15为根据本公开一些实施例中的另一种光通信系统的结构示意图；图16为根据本公开一些实施例中的一种光通信方法的数据传输路径图；图17为根据本公开一些实施例中的一种光通信原理的层级示意图；图18为根据本公开一些实施例中的又一种光通信系统的结构示意图。具体实施方式下面将结合本公开一些实施例中的附图，对本公开一些实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本公开一部分实施例，而不是全部的实施例。基于本公开中的一些实施例，本领域普通技术人员所能获得的所有其他实施例，都属于本公开保护的范围。除非上下文另有要求，否则，在整个说明书和权利要求书中，术语“包括”及其其他形式例如第三人称单数形式“包括”和现在分词形式“包括”被解释为开放、包含的意思，即为“包含，但不限于”。在说明书的描述中，术语“一个实施例”、“一些实施例”、“示例性实施例”、“示例”、“特定示例”或“一些示例”等旨在表明与该实施例或示例相关的特定特征、结构、材料或特性包括在本公开的至少一个实施例或示例中。上述术语的示意性表示不一定是指同一实施例或示例。此外，所述的特定特征、结构、材料或特点可以以任何适当方式包括在任何一个或多个实施例或示例中。以下，术语“第一”、“第二”等序数仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”等的特征可以明示或者隐含地包括一个或者更多个该特征。在本公开实施例的描述中，除非另有说明，“多个”的含义是两个或两个以上。在描述一些实施例时，可能使用了“耦接”和“连接”及其衍伸的表达。例如，描述一些实施例时可能使用了术语“连接”以表明两个或两个以上部件彼此间有直接物理接触或电接触。又如，描述一些实施例时可能使用了术语“耦接”以表明两个或 两个以上部件有直接物理接触或电接触。然而，术语“耦接”或“通信耦合”也可能指两个或两个以上部件彼此间并无直接接触，但仍彼此协作或相互作用。这里所公开的实施例并不必然限制于本文内容。“A、B和C中的至少一个”与“A、B或C中的至少一个”具有相同含义，均包括以下A、B和C的组合：仅A，仅B，仅C，A和B的组合，A和C的组合，B和C的组合，及A、B和C的组合。“A和/或B”，包括以下三种组合：仅A，仅B，及A和B的组合。如本文中所使用，根据上下文，术语“如果”任选地被解释为意思是“当……时”或“在……时”或“响应于确定”或“响应于检测到”。类似地，根据上下文，短语“如果确定……”或“如果检测到”任选地被解释为是指“在确定……时”或“响应于确定……”或“在检测到时”或“响应于检测到”。本文中“适用于”或“被配置为”的使用意味着开放和包容性的语言，其不排除适用于或被配置为执行额外任务或步骤的设备。另外，“基于”的使用意味着开放和包容性，因为“基于”一个或多个所述条件或值的过程、步骤、计算或其他动作在实践中可以基于额外条件或超出所述的值。随着物联网的快速发展，保护网络传输数据的安全变得非常重要。本公开一些实施例提供了一种光通信系统。如图14所示，该光通信系统1000包括光信号发射器100和光信号接收器200。光信号发射器100能够将待传输的初始通信数据进行加密，并以可见光的方式传播。光信号接收器200能够接收可见光，并将可见光解码、解密为初始通信数据。该光通信系统1000可以将其通信范围控制在可见光的传播途径内，形成稳固的加密数据传输系统。上述光信号发射器100和光信号接收器200均可被视为是光通信装置，二者具有不同的结构和功能。以下针对用作光信号发射器100的第一种光通信装置，以及用作光信号接收器200的第二种光通信装置，分别进行详细的示例说明。可以理解的是，为了方便描述，在以下一些实施例中，第一种光通信装置直接用光信号发射器100指代，第二种光通信装置直接用光信号接收器200指代。另外，第一种光通信装置和第二种光通信装置中对应具备相同功能和/或结构的组成元件，在其名称前增加了对应序数予以区分，并非代表其结构或功能不同，具体可以结合实际应用理解。在一些实施例中，请参阅图1，光信号发射器100包括：第一随机数生成器11、第一密钥管理器12、第一加解密器13、第一驱动器14和第一发射器15。第一随机数生成器11被配置为基于时间频率生成随机数。第一密钥管理器12被配置为基于所述随机数生成第一密钥，存储并管理第一密钥、以及获取的第二密钥。第一加解密器13与第一密钥管理器12连接，被配置为根据第二密钥对第一密钥进行加密，获得第一加密密钥；以及，被配置为根据第一密钥对初始通信数据进行加密，获得第一加密数据。考虑到加密的关键在于密钥的不可预测性和高度复杂性。可选的，第一随机数生成器11采用一种能够将热噪声转化为0/1数字比特流的芯片。环境中的热噪声是一种 标准的高斯分布，具有良好的随机性。在芯片中设置两个具有热噪声的频率源，可以利用二者热噪声之间的时间频率关系，提升环境中热噪声的随机性，以使得第一随机数生成器11输出的数字比特流具有更高的不可预测性，确保生成具有更好随机性的随机数。第一密钥管理器12能够存储并管理光信号发射器100所需的各种类型的密钥，例如包括其内部基于随机数生成的第一密钥，从外部获取的第二密钥，或预存储在其内部的第二密钥等。示例的，第一密钥管理器12包括第一存储器121和第一密钥生成器122。第一密钥生成器122被配置为获取上述随机数，生成第一密钥。第一存储器121被配置为存储并管理第一密钥和第二密钥。此处，第一密钥为对随机数进行位数截取或运算处理后获得密钥。当然，第一密钥也可以由所述随机数直接构成。本公开实施例对此不作限定。在一些示例中，请参阅图2，第一密钥生成器122为对称密钥生成器1221，其生成的第一密钥为对称密钥。对称密钥也称专用密钥，即发送和接收数据的双方必须使用相同的密钥，才能对明文进行加密和解密。第一密钥采用对称密钥，便于利用第一密钥对初始通信数据进行加密，并确保光信号接收器200能够利用该第一密钥进行解密。在此基础上，利用第二密钥加密第一密钥，可以确保对初始通信数据进行加密的第一密钥，也能够以加密的形式传输至光信号接收器200。此处，第一密钥管理器12中存储的第二密钥从外部获取，其可以为光信号接收器200传输的对称密钥或非对称密钥中的公钥。非对称密钥包括公开密钥和私有密钥。公钥与私钥配对使用。如果使用公钥对数据进行加密，那么使用对应的私钥才能解密。如果使用私钥对数据进行加密，那么使用对应的公钥才能解密。数据的加密和解密分别使用两个不同的密钥。可选的，请继续参阅图2，第一密钥管理器12还包括非对称密钥生成器123，被配置为生成非对称密钥。第一存储器121还被配置为存储并管理非对称密钥。在光信号发射器100的第一密钥管理器12中设置非对称密钥生成器123，能够方便光信号发射器100与光信号接收器200、外部通信设备之间进行采用了其他加密方式的通信。在一些示例中，第一加解密器13为加密芯片。第一加解密器13能够接收应用请求，从第一密钥管理器12中调用密钥，进行加密或解密运算。上述第一驱动器14与第一加解密器13连接，被配置为获取第一加密数据，将第一加密数据编码为可见光发光指令。第一发射器15与第一驱动器14连接，被配置为接收可见光发光指令，根据可见光发光指令出射第一可见光。在第一加解密器13根据第二密钥对第一密钥进行加密并获得第一加密密钥之后，该第一加密密钥能被传输至光信号接收器200，以便后续解密使用。在第一加解密器13根据第一密钥对初始通信数据进行加密并获得第一加密数据之后，第一驱动器14能够将第一加密数据编码为可见光发光指令，驱动第一发射器15根据可见光发光指令出射第一可见光。第一发射器15包括能够出射可见光的发光器件，例如发光二极管或有机电致发光二极管等。示例的，如图10所示，第一发射器15为OLED显示屏。相应的，第一驱动器14为显示驱动芯片或电路主板等。第一驱动器14能够集成在OLED显示屏中，并与OLED显示屏内的各OLED相连。相应的，上述可见光发光指令包括亮度指令、灰阶指令、频率指令、色彩指令或发光面积指令中的至少一种。本公开实施例中，第一加解密器13在接收到应用请求后，可以从第一密钥管理器11中调用第一密钥和第二密钥。然后，第一加解密器13能够利用第二密钥对第一密钥进行加密，以将第一加密密钥通过可移动存储设备或网络传输的方式传输至光信号接收器200。并且，第一加解密器13能够利用第一密钥对初始通信数据进行加密，使得初始通信数据得以伪装为第一加密数据。第一驱动器14接收第一加密数据后，可以将第一加密数据编码为可见光发光指令。第一发射器15根据可见光发光指令出射第一可见光，能够将需要通信的数据转换为对应的可见光，即实现数据形式的转换，从而完成一定方向的光通信，实现数据转移。由此，本公开实施例中，第一加密密钥和第一加密数据分别采用不同密钥进行加密，并采用不同的传输方式输出，可以实现数据的多重加密保障，有效提高数据在其整个传输过程中的保密可靠性，从而保障数据的通信安全。需要补充的是，在如图1和图2所示的光信号发射器100中，光信号发射器100还包括第一应用处理器16。第一应用处理器16与应用接口连接，可以接收应用请求、以及与外部通信设备之间进行信息交互。此处，应用接口包括硬件接口，例如USB接口；和/或，应用接口包括软件接口，例如操作系统中的用户界面。第一应用处理器16还与第一加解密器13连接，能够与第一加解密器13实现双向的信息交互。在另一些实施例中，如图3所述，光信号发射器100还包括第一可见光接收器17。第一可见光接收器17与第一加解密器13相连，能够在接收并解码可见光后，利用第一加解密器13解密数据再输出。如此，该光信号发射器100能够具备发射光信号和接收光信号的两种功能。上述一些实施例中，第一随机数生成器11的结构，可以根据实际需求选择设置。示例的，请参阅图4，第一随机数生成器11包括：脉冲生成子电路111、锁频环回路112和随机数生成子电路115。脉冲生成子电路111被配置为生成多个脉冲，各脉冲的频率能够随环境参数的变化而变化。例如，脉冲生成子电路111为振荡器，其振荡频率随环境参数的变化而发生漂移。锁频环回路112为时间平均频率锁频环回路，被配置为将输入信号的频率和反馈信号的频率锁定。锁频环回路112包括鉴频鉴相子电路113和反馈子电路114。鉴频鉴相子电路112被配置为根据输入信号Fi和反馈信号Fb的相位关系生成相位关系指示信号和频率关系指示信号。所述相位关系指示信号指示输入信号Fi的相位是否超前于反馈信号Fb的相位。所述频率关系指示信号指示输入信号Fi与反馈信号Fb的频率大小关系。随机数生成子电路115被配置为根据所述相位关系指示信号生成随机数。上述输入信号Fi为一具有热噪声的频率源发出的信号。在一些示例中，第一随机 数生成器11还包括配置为传输所述输入信号的输入装置116。输入装置116包括晶振、微机电系统或振荡器)。上述反馈信号Fb为反馈子电路114根据所述频率关系指示信号和所述脉冲的频率生成的信号。示例的，请继续参阅图4，反馈子电路114包括：控制器1141、数字控制振荡器1142和第一分频器1143。控制器1141被配置为根据前述的频率关系指示信号生成频率控制字。例如，控制器1141从存储设备中读取初始的频率控制字F。当频率关系指示信号指示输入信号Fi的频率fi大于反馈信号Fb的频率fb时，控制器1141将当前的频率控制字减小1。当频率关系指示信号指示输入信号Fi的频率fi小于反馈信号Fb的频率fb时，控制器1141将当前的频率控制字增大1。数字控制振荡器1142被配置为根据前述的频率控制字以及脉冲的频率生成中间信号。此处，中间信号的频率为其中，K为脉冲生成子电路111生成的脉冲的个数，f为所述脉冲的频率，F为所述频率控制字。第一分频器1143被配置为对所述中间信号进行分频，生成反馈信号。本公开实施例中，传输至锁频环回路112的输入信号Fi很容易在热噪声的干扰下发生抖动。同时，脉冲生成子电路111生成的脉冲的频率也会随环境参数的变化发生漂移。但无论输入信号Fi如何抖动、脉冲的频率如何漂移，反馈子电路114均会根据输入信号Fi与反馈信号Fb二者频率的大小关系，使得反馈信号Fb的频率与输入信号Fi的频率fi一致或趋于一致。由于输入信号Fi的抖动以及脉冲的频率漂移，会导致鉴频鉴相子电路113接收到的输入信号Fi和反馈信号Fb的相位具有很高的不确定性，因此根据相位关系生成的相位关系指示信号便会具有很高的不确定性。这样能够提高根据该相位关系指示信号生成的随机数的随机性，从而生成真随机数。在一些示例中，脉冲生成子电路111包括环路振荡器，例如，基于交叉级联的与非门的振荡器。图5示例性地给出了一种环路振荡器的电路结构。如图5所示，环路振荡器包括交叉级联的8级与非门单元，每一级包括一对与非门。该环路振荡器能够生成多个相位均匀间隔脉冲，其具有极大的不稳定性。并且，该环路振荡器振荡的初始条件随机，其振荡频率对环境非常敏感。当环境中的温度发生轻微变化时，该环路振荡器的振荡频率便会发生漂移。在一些示例中，鉴频鉴相子电路113采用鉴频鉴相器。图6示例性地给出了一种鉴频鉴相器的电路结构。如图6所示，鉴频鉴相子电路113包括：第一输入端、第二输入端、第一输出端out1、第二输出端out2、第三输出端out3、第四输出端out4、第二分频器011、寄存器012、第一逻辑单元013和第二逻辑单元014。第一输入端被配置为接收频率为fi的输入信号Fi。第二输入端被配置为接收频率为fb的反馈信号Fb。第二分频器011被配置为对输入信号Fi进行 分频。例如，第二分频器011采用二分频分频器。寄存器012被配置为获取第二分频器011的输出信号在反馈信号Fb的多个边沿处的多个信号值。例如，获取第二分频器011在反馈信号Fb的相邻两个上升沿以及该两个上升沿之间的下降沿处的信号值。可选的，寄存器012包括：第一D触发器0121、第二D触发器0122、第三D触发器0123和第四D触发器0124。第一D触发器0121的输入端和第三D触发器0123的输入端均与第二分频器011的输出端相连。第二D触发器0122的输入端与第一D触发器0121的输出端相连。第四D触发器0124的输入端与第三D触发器0123的输出端相连。第一D触发器0121的时钟端、第二D触发器0122的时钟端和第四D触发器0124的时钟端均与第二输入端相连，第三D触发器0123的时钟端通过第一非门015与第二输入端相连。第一逻辑单元013连接第一输出端out1和第二输出端out2，第一逻辑单元013被配置为对寄存器012输出的多个信号值进行逻辑运算。在输入信号Fi的相位超前于反馈信号Fb的相位的情况下，第一逻辑单元013向第一输出端out1输出第一数字信号、向第二输出端out2输出第二数字信号。在输入信号Fi的相位落后于反馈信号Fb的相位的情况下，第一逻辑单元013向第二输出端out2输出第一数字信号、向第一输出端out1输出第二数字信号。相位关系指示信号由第一输出端out1的输出信号和第二输出端out2的输出信号按照第一逻辑规则处理后得到。例如，第一逻辑规则为：当第一输出端out1输出第一数字信号、第二输出端out2输出第二数字信号时，将相位关系指示信号设置为第一数字信号；当第一输出端out1输出第二数字信号、第二输出端out2输出第一数字信号时，将相位关系指示信号设置为第二数字信号。也即，相位关系指示信号为第一数字信号时，指示输入信号的相位超前于反馈信号的相位。相位关系指示信号为第二数字信号时，指示输入信号的相位落后于反馈信号的相位。示例的，第一数字信号的值为1，第二数字信号的值为0。当第一输出端out1的输出信号的值为1、第二输出端out2的输出信号的值为0时，相位关系指示信号的值为1。当第一输出端out1的输出信号的值为0、第二输出端out2的输出信号的值为1时，相位关系指示信号的值为0。当第一输出端out1的输出信号和第二输出端out2的输出信号的值均为1或均为0时，将其丢弃。因此，相位关系指示信号的值为1时，指示输入信号的相位超前于反馈信号的相位；相位关系指示信号的值为0时，指示输入信号的相位落后于反馈信号的相位。第二逻辑单元014连接第三输出端out3和第四输出端out4。第二逻辑单元014被配置为对第一输出端out1和第二输出端out2的输出信号进行逻辑运算。在输入信号Fi的频率大于反馈信号Fb的频率的情况下，第二逻辑单元014向第三输出端out3输出第一数字信号、向第四输出端out4输出第二数字信号。在输入信号Fi的频率fi小于反馈信号Fb的频率fb的情况下，第二逻辑单元014向第三输出端out3输出第二数字信号、向第四输出端out4输出第一数字信号。频率关系指示信号由第三输出端out3的输出信号和第四输出端out4的输出信号按照第二逻辑规则处理后得到。例如，第二逻辑规则为：当第三输出端out3输出第一数字信号、第四输出端out4 输出第二数字信号时，将频率关系指示信号设置为第一数字信号；当第三输出端out3输出第二数字信号、第四输出端out4输出第一数字信号时，将频率指示信号设置为第二数字信号。也即，频率关系指示信号为第一数字信号时，指示输入信号的频率大于反馈信号的频率；频率关系指示信号为第二数字信号时，指示输入信号的频率小于反馈信号的频率。示例的，第一数字信号的值为1、第二数字信号的值为0。当第三输出端out3的输出信号的值为1、第四输出端out4的输出信号的值为0时，频率关系指示信号的值为1。当第三输出端out3的输出信号的值为0、第四输出端out4的输出信号的值为1时，频率关系指示信号的值为0。当第三输出端out3的输出信号和第四输出端out4的输出信号的值均为0或均为1时，将其丢弃。因此，频率关系指示信号的值为1时，指示输入信号Fi的频率fi大于反馈信号Fb的频率fb；频率关系指示信号的值为0时，指示输入信号Fi的频率fi小于反馈信号Fb的频率fb。在一些示例中，请继续参阅图6，第一逻辑单元013包括：第一异或门0131和第二异或门0132。第一异或门0131的一个输入端与第二D触发器0122的输出端相连，另一个输入端与第四D触发器0124的输出端相连。第二异或门0132的一个输入端与第一D触发器0121的输出端相连，另一个输入端与第四D触发器0124的输出端相连。第一异或门0131的输出端与第一输出端out1相连。第二异或门0132的输出端与第二输出端out2相连。第二逻辑单元014包括：第二非门0141、第三非门0142、第一与门0143和第二与门0144。第一与门0143的一个输入端与第一输出端out1相连，另一个输入端和第二输出端out2相连。第二与门0144的一个输入端通过第二非门0141与第一输出端out1相连，另一个输入端通过第三非门0142与第二输出端out2相连。图7为上述一些实施例中输入鉴频鉴相子电路113的输入信号Fi和反馈信号Fb的波形示意图。如图7所示，实线A表示理想的输入信号Fi的波形，实线B表示理想的反馈信号Fb的波形。输入信号Fi和反馈信号Fb均会因各自的热噪声发生抖动。虚线表示输入信号Fi或反馈信号Fb的理想波形在受热噪声干扰时其脉冲边沿的边界，该脉冲边沿在虚线范围内任意位置出现的几率相同。鉴频鉴相子电路113在确定输入信号Fi和反馈信号Fb的相位关系时，将出现多种随机结果。例如，有可能会出现输入信号Fi的相位超前于反馈信号Fb的相位的情况，也有可能出现输入信号Fi的相位落后于反馈信号Fb的相位的情况，还有可能会出现输入信号Fi和反馈信号Fb相位一致的情况。在如图6所示的鉴频鉴相子电路113中，反馈信号Fb作为第一D触发器0121至第四D触发器0124的时钟信号。输入信号Fi作为第一D触发器0121和第三D触发器0123的输入信号。当各D触发器的输入信号和时钟信号的相位极其接近时，该D触发器处于亚稳态的状态，存在随机输出0或1的可能。从而可以增加鉴频鉴相子电路113生成的相位关系指示信号的不确定性，进而提高根据相位关系指示信号所生成的随机数的随机度。在一些示例中，反馈子电路114中的数字控制振荡器1142采用基于时间平均频率直接周期合成电路架构 的时间平均频率直接周期合成器。图8示例性的给出了一种时间平均频率直接周期合成器的电路结构图。如图8所示，时间平均频率直接周期合成器包括第一输入子电路、第二输入子电路003以及输出子电路004。第一输入子电路包括第一逻辑控制子电路001和第二逻辑控制子电路002。第一逻辑控制子电路001包括第一加法器0011、第一寄存器0012和第二寄存器0013。第二逻辑控制子电路002包括第二加法器0021、第三寄存器0022和第四寄存器0023。第二输入子电路003包括第一K→1多路复用器0031、第二K→1多路复用器0032和2→1多路复用器0033。第一K→1多路复用器0031和第二K→1多路复用器0032均包括多个输入端、控制输入端和输出端。第一K→1多路复用器0031和第二K→1多路复用器0032的多个输入端分别被配置为接收脉冲生成子电路111输出的K个相位均匀间隔的脉冲。2→1多路复用器0033包括控制输入端、输出端、用于接收第一K→1多路复用器0031的输出信号的第一输入端和用于接收第二K→1多路复用器0032的输出信号的第二输入端。此处，K个相位均匀间隔的脉冲中的任意两个相邻的脉冲之间的时间跨度可以为基准时间单位Δ。请继续参阅图8，输出子电路004包括触发电路。触发电路用于生成脉冲串。触发电路包括D触发器0041、第一反相器0042和第二反相器0043。D触发器0041包括数据输入端、用于接收来自2→1多路复用器3233的输出端的输出信号的时钟输入端和用于输出第一时钟信号CLK1的输出端。第一反相器0042包括用于接收第一时钟信号CLK1的输入端、和用于输出信号到D触发器0041的数据输入端的输出端。第二反相器0043包括用于接收第一时钟信号CLK1的输入端、和用于输出第二时钟信号CLK2的输出端。第一时钟信号CLK1被输出至2→1多路复用器0033的控制输入端，第一反相器0042的输出端连接到D触发器0041的数据输入端。在一些示例中，第一加法器0011可以将频率控制字F和第一寄存器0012存储的最高有效位相加，然后在第二时钟信号CLK2的上升沿时将相加结果保存到第一寄存器0012中。或者，第一加法器0011可以将频率控制字F和第一寄存器0012存储的所有信息相加，然后在第二时钟信号CLK2的上升沿时将相加结果保存到第一寄存器0012中。在下一个第二时钟信号CLK2的上升沿时，第一寄存器0012存储的最高有效位将被存储到第二寄存器0013中，并作为第一K→1多路复用器0031的选择信号，用于从K个脉冲中选择一个脉冲作为第一K→1多路复用器3231的输出信号。第二加法器0021可以将频率控制字F/2和第一寄存器0012存储的最高有效位相加，然后在第二时钟信号CLK2的上升沿时将相加结果保存到第三寄存器0022中。在下一个第一时钟信号CLK1的上升沿时，第三寄存器0022存储的信息将被存储到第四寄存器0023中，并作为第二K→1多路复用器0032的选择信号，用于从K个脉冲中选择一个脉冲作为第二K→1多路复用器0032的输出信号。2→1多路复用器0033可以在第一时钟信号CLK1的上升沿时，选择来自第一K→1多路复用器0031的输出信号和来自第二K→1多路复用器0032的输出信号中的 一个作为2→1多路复用器0033的输出信号，以作为D触发器0041的输入时钟信号。D触发器0041的输出端和第二反相器0043的输出端之一可以作为时间平均频率直接周期合成器的输出端。第二寄存器0013输出的选择信号可以用于选择时间平均频率直接周期合成器生成的合成时钟信号的下降沿。第四寄存器0023输出的选择信号可以用于选择时间平均频率直接周期合成器生成的合成时钟信号的上升沿。第一寄存器0012反馈到第一加法器0011的信号可以用于控制时间平均频率直接周期合成器生成的合成时钟信号的周期切换。时间平均频率直接周期合成器基于时间平均频率来生成中间信号。图9示出了一些实施例中一种基于时间平均频率生成中间信号的原理。结合图8和图9，时间平均频率直接周期合成器可以输出两种具有不同周期的信号，该两种周期分别为第一周期TA和第二周期TB。如图9所示，对于基准时间单位Δ和频率控制字F＝I+r，第一周期TA和第二周期TB可以分别通过以下公式和公式表示。其中，I为频率控制字F的整数部分，r为频率控制字F的小数部分，TA＝I·Δ TB＝·Δ利用第一周期TA和第二周期TB，通过交错的方式可以生成包括两种不同周期的时钟信号。所生成的时钟信号的平均周期为TTAF，平均频率fTAF如下述公式所示。其中，f为脉冲的频率，K为脉冲生成子电路111生成的脉冲的个数。时间平均频率直接周期合成器能够改变频率控制字F，其所生成的时钟信号的频率fTAF即可在两个周期后完成频率切换。时间平均频率直接周期合成器基于TAF的工作模式，使得输出信号的频率在两个频率之间变化，因此，其中间信号的相位是变化的，这种相位的变化能够使得鉴频鉴相子电路113输出信号的随机性提高，从而进一步提高随机数的随机度。在一些示例中，第一分频器1143采用分频系数N设置为较小值的分频器，例如N＝1，可以将脉冲生成子电路111的噪声全部传输至鉴频鉴相子电路113。在另一些示例中，第一分频器1143采用抖动电路，被配置为根据控制参数调节其分频系数，从而可以增加鉴频鉴相子电路113输出信号的随机性。例如，控制参数由参数生成电路生成，该参数生成电路可以与随机数生成子电路115为同一电路，以将随机数生成子电路115生成的随机数的值作为控制参数。例如，随机数生成子电路115输出0时，第一分频器1143的分频系数被调节为2；随机数生成子电路115输出1时，第一分频器1143的分频系数被调节为1。又例如，随机数生成子电路115连续输出0、0时，第一分频器1143的分频系数被调节为2；随机数生成子电路115连续输出0、1时，第一分频器1143的分频系数被调节为1；随机数生成子电路115连续输出1、0时，第一分频器1143的分频系数被调节为3。当然，参数生成电路也可以为随机数生成子电路115之外的电路。在上述一些实施例中，相位关系指示信号为数字信号，随机数为多个相位关系指示信号的值组合得到的二进制数。需要说明的是，本公开实施例中，某一信号为0是指该信号的值为0，某一信号为1是指该信号的值为1。例如，相位关系指示信号的值为0或1；当相位关系指示信号的值为0时，指示输入信号的相位落后于反馈信号的相位，当相位关系指示信号的值为1时，指示输入信号的相位超前于反馈信号的相位。例如，在预定时长内，鉴频鉴相子电路113进行了m次相位对比，生成m个相位关系指示信号，m个相位关系指示信号的值分别为0、1、1、0、0、1、1、1、1、0，则m个相位关系指示信号的值组成的数字信号序列构成随机数，即，0110011110。需要理解的是，m＝10仅为示例性说明，在实际应用中，m可以取更大的值，从而产生更多位数的随机数，例如，64位、128位、256位等，从而提高随机数生成子电路115生成的随机数的复杂度。在本公开实施例中，随机数生成器11的各部分均为数字电路，具有低功耗、低成本的特点，有利于集成在各种芯片中。并且，随机数生成器11生成的随机数的随机度较高，能够在通信过程中提供更高的安全性和可靠性。在一些实施例中，请参阅图11，光信号接收器200包括：第二密钥管理器22、可见光接收器27和第二加解密器23。第二密钥管理器22能够存储并管理光信号接收器200所需的各种类型的密钥，例如包括其内部生成的第三密钥，从外部获取的第四密钥等。可见光接收器27被配置为接收第二可见光，并将第二可见光解码为第二加密数据。例如，可见光接收器27为光电传感器、图像传感器、或包含有光电传感器或图像传感器的电子设备。可见光接收器27能够将其接收的可见光解码为数据，并输出。第二加解密器23与第二密钥管理器22、可见光接收器27连接。第二加解密器23被配置为：根据第三密钥解密第四密钥，获得第五密钥，并根据第五密钥解密第二加密数据，获得初始通信数据。示例的，如图11所示，第二密钥管理器22包括第二存储器221和第三密钥生成器222。第三密钥生成器222被配置为生成第三密钥。第二存储器221被配置为存储并管理第三密钥、第四密钥。在一些示例中，请参阅图12，第三密钥为非对称密钥，第三密钥生成器222为非对称密钥生成器2221。第三密钥包括第一公钥和第一私钥，第一公钥和第一私钥配对使用。第四密钥为采用第一公钥对第五密钥进行加密后获得的密钥。第二加密数据为采用第五密钥对初始通信数据进行加密后获得的数据。第二加解密器被配置为根据第一私钥解密第四密钥。在此基础上，可选的，第二密钥管理器22还包括对称密钥生成器223，配置为生成对称密钥。在另一些示例中，第三密钥为对称密钥，第三密钥生成器222为对称密钥生成器。第四密钥为采用第三密钥对第五密钥进行加密后获得的密钥。第二加密数据为采用第五密钥对初始通信数据进行加密后获得的数据。在此基础上，可选的，第二密钥管理器22还包括非对称密钥生成器，配置为生成 非对称密钥。在光信号接收器200的第二密钥管理器22中设置对称密钥生成器和非对称密钥生成器，能够方便光信号接收器200与光信号发射器100、外部通信设备之间进行采用了多种不同加密方式的通信。在一些示例中，第二加解密器23为加密芯片。第二加解密器23能够接收可见光接收器27传输的解码后的数据或接收应用请求，从第二密钥管理器22中调用密钥，进行加密或解密运算。需要补充的是，在如图11和图12所示的光信号接收器200中，光信号接收器200还包括第二应用处理器26。第二应用处理器26与应用接口连接，可以接收应用请求、以及与外部通信设备之间进行信息交互。此处，应用接口包括硬件接口，例如USB接口；和/或，应用接口包括软件接口，例如操作系统中的用户界面。第二应用处理器26还与第二加解密器23连接，能够与第二加解密器23实现双向的信息交互。在另一些实施例中，请参阅图13，光信号接收器200还包括第二随机数生成器21、第二驱动器24和第二发射器25。第二随机数生成器21与第二密钥管理器22中的对称密钥生成器223连接。这样第二密钥管理器22中的对称密钥可以基于第二随机数生成器21生成的随机数生成。第二随机数生成器21可以采用与第一随机数生成器11相同的结构，以确保其生成的随机数具有极高的不确定性，从而确保对称密钥具有较高的随机性。第二驱动器24与第二发射器25、第二加解密器23连接。第二驱动器24可以将第二加解密器23传输的加密数据编码为可见光发光指令，从而驱动第二发射器25根据所述可见光发光指令出射可见光。第二驱动器24可以采用与第一驱动器14相同的结构。第二发射器25可以采用与第一发射器15相同的结构。这样本公开实施例中的光信号接收器200能够具备发射光信号和接收光信号的两种功能。需要说明的是，上述一些实施例中所涉及的应用处理器可以是中央处理器，还可以是其他通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。其中，通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。上述一些实施例中所涉及的存储器可以是只读存储器或可存储静态信息和指令的其他类型的静态存储设备，随机存取存储器或者可存储信息和指令的其他类型的动态存储设备，也可以是电可擦可编程只读存储器、只读光盘或其他光盘存储、光碟存储、磁盘存储介质或者其他磁存储设备、或者能够用于携带或存储具有指令或数据结构形式的期望的程序代码并能够由计算机存取的任何其他介质，但不限于此。上述一些实施例中所涉及的位于同一个光通信装置内的各器件可以集成在一个处理器中，也可以是各个器件单独物理存在，也可以两个或两个以上器件集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件的形式实现。请参阅图15，在一些实施例提供的光通信系统1000中，光信号发射器100和光信号接收器200相对设置，光信号接收器200的光信号采集区可以覆盖光信号发射器100的发光区。光信号发射器100发射的第一可见光与光信号接收器200接收的第二可见光为同一可见光。光信号发射器100与光信号接收器200为近场通信。在本实施例中，光信号发射器100中的第一密钥与光信号接收器200中的第五密钥为同一密钥。光信号发射器100中的第一加密密钥和光信号接收器200中的第四密钥为同一密钥。在光信号接收器200中的第三密钥为非对称密钥的情况下，光信号发射器100中的第二密钥和光信号接收器200中第三密钥的第一公钥为同一密钥。在光信号接收器200中的第三密钥为对称密钥的情况下，光信号发射器100中的第二密钥和光信号接收器200中的第三密钥为同一密钥。第三密钥可以通过可移动存储设备拷贝至光信号发射器100中。在使用如图15所示的光通信系统1000执行光通信方法时，其光通信方法包括S100～S800。S100，第二密钥管理器22存储并管理第三密钥。第三密钥为对称密钥或非对称密钥均可。第三密钥或其中的第一公钥，可以通过可移动存储设备、无线网络或有线网络等方式传输至光信号发射器100中。此处，第二密钥管理器22中的第三密钥可以根据应用请求自主生成。S200，第一密钥管理器12获取并存储第三密钥或第三密钥中的第一公钥，将其作为第二密钥进行管理。可选的，第三密钥或第三密钥中的第一公钥传输至光信号发射器100中的第一应用处理器16，通过第一应用处理器16存入第一密钥管理器12的第一存储器121中。或者，第三密钥或第三密钥中的第一公钥直接存入第一密钥管理器12的第一存储器121中。S300，光信号发射器100中的随机数生成器11基于时间频率生成随机数。第一密钥管理器12获取所述随机数，并根据所述随机数生成第一密钥。第一密钥管理器12存储并管理第一密钥。S400，第一加解密器13根据第二密钥对第一密钥进行加密，获得第一加密密钥。在向光信号发射器100输入应用请求后，第一加解密器13能够根据该应用请求从第一密钥管理器12中调用第一密钥和第二密钥，以进行加密运算。此处，第一加密密钥可以通过可移动存储设备、无线网络或有线网络等方式传输至光信号接收器200中。S500，第二密钥管理器22存储第一加密密钥，并将其作为第四密钥进行管理。可选的，第一加密密钥传输至光信号接收器200中的第二应用处理器26，通过第二应用处理器26存入第二密钥管理器22的第二存储器221中。或者，第一加密密钥直接存入第二密钥管理器22的第二存储器221中。S600，第二加解密器23根据第三密钥或第三密钥中的第一私钥解密第四密钥，获得第一密钥。第二密钥管理器22存储第一密钥，并将其作为第五密钥进行管理。第二加解密器23能够从第二存储器221中调用第四密钥和第三密钥，以利用第三 密钥或第三密钥中的第一私钥解密第四密钥，从而获得第一密钥。S700，第一加解密器13根据第一密钥对初始通信数据进行加密，获得加密数据。驱动器14接收所述加密数据，将所述加密数据编码为可见光发光指令。发射器15接收所述可见光发光指令，根据所述可见光发光指令出射可见光。在光信号接收器200存储第一密钥之后，光信号发射器100将待传输的初始通信数据加密并编码为可见光发光指令，可以根据该可见光发光指令出射可见光，从而完成光信号发射器100的光信号发射功能。此处，可见光发光指令包括亮度指令、灰阶指令、频率指令、色彩指令或发光面积指令等至少一种指令，且每种指令中不同的控制信号用于表征不同的数据。例如，可见光发光指令为灰阶指令；这样通过不同的灰阶指令来控制灰阶变化，可以对应实现不同数据的传输。例如，可见光发光指令为频率指令；这样通过不同的频率指令来控制发光器件的发光频率变化，可以对应实现不同数据的传输。第一加解密器13根据第一密钥对初始通信数据进行加密，可以采用高级加密标准、数据加密算法、三重数据加密算法)或安全哈希算法中的至少一种算法进行；但并不仅限于此。S800，可见光接收器27接收所述可见光，并将所述可见光解码为所述加密数据。第二加解密器23根据第五密钥解密所述加密数据，获得初始通信数据。光信号接收器200在接收光信号发射器100发射的可见光之后，能够利用第一密钥解密加密数据，从而获得初始通信数据。至此，光通信系统1000对数据的加密传输完成。为了更清楚的说明上述光通信方法中初始通信数据以及第一密钥的传输路径，以下以第二密钥为第三密钥中的第一公钥为例进行示意。该方法中，初始通信数据及第一密钥在光信号发射器100和光信号接收器200之间的传输路径如图16所示。第一密钥在通过第一公钥加密后，通过无线传输的方式传输至光信号接收器200中；然后利用第一私钥解密，获得第一密钥。初始通信数据在利用第一密钥加密之后，可以以可见光的形式加密传输至光信号接收器200中；然后利用第一密钥解密，获得初始通信数据。上述光通信方法中的部分步骤在其执行时所处的网络层级如图17所示。随机数的生成在物理层进行，第一密钥以及初始通信数据的加密在应用层进行。加密后的初始通信数据以可见光的形式在物理层进行传输。可见光的接收在物理层进行，可见光的解码和解密在应用层进行。本公开实施例中，第一加密密钥和第一加密数据分别采用不同的密钥进行加密，且二者分别采用不同的传输方式进行传输，可以实现数据在物理层以及应用层的多重加密保障，从而有效提高了数据在其整个传输过程中的保密可靠性，能够提升数据的通信安全。另外，第一密钥通过前述的随机数生成器生成，具有低成本、低功耗、高可靠和难破解等的优势，能够进一步保障数据的通信安全。上述一些实施例中，第一加密密钥、第三密钥或第三密钥中的第一公钥的传输可 以采用如下任一种通信协议：WIFI、Mesh、Bluetooth、ZigBee、Z-Wave、NFC或UWB；但并不仅限于此。在一些实施例中，随机数生成器11的结构如图4所示。S300中随机数生成器11基于时间频率生成随机数，包括S310～S330。S310，脉冲生成子电路111生成多个脉冲，各脉冲的频率随环境参数的变化而变化。S320，鉴频鉴相子电路113根据输入信号和反馈信号的相位关系生成相位关系指示信号和频率关系指示信号。所述相位关系指示信号指示所述输入信号的相位是否超前于所述反馈信号的相位。所述频率关系指示信号指示所述输入信号与所述反馈信号的频率大小关系。所述反馈信号由反馈子电路114根据所述频率关系指示信号和所述脉冲的频率而生成。例如，相位关系指示信号由图6中鉴频鉴相子电路113的第一输出端out1的输出信号和第二输出端out2的输出信号按照第一逻辑规则处理后得到。第一输出端out1的输出信号、第二输出端out2的输出信号、相位关系指示信号均为数字信号。例如，第一数字信号的值为1，第二数字信号的值为0，第一规则为：当第一输出端out1的输出信号的值为1、第二输出端out2的输出信号的值为0时，相位关系指示信号的值为1；当第一输出端out1的输出信号的值为0、第二输出端out2的输出信号的值为1时，相位关系指示信号的值为0；当第一输出端out1的输出信号的值和第二输出端out2的输出信号的值均为1或均为0时，将其丢弃。相位关系指示信号的值为1时，指示输入信号的相位超前于反馈信号的相位；相位关系指示信号的值为0时，指示输入信号的相位落后于反馈信号的相位。上述鉴频鉴相子电路113输出的0/1比特流无周期性、无特征数据块存在，并且在一段时间内，其输出的0和1的概率分别接近于50％，具有较好的随机性。在一些示例中，反馈信号的生成方法包括S321～S323。S321，控制器1141根据前述频率关系指示信号生成频率控制字。例如，在S321之前，先获取初始的频率控制字。当频率关系指示信号指示输入信号的频率fi大于反馈信号的频率fb时，控制器1141将当前的频率控制字减小1；当频率关系指示信号指示输入信号Fi的频率小于反馈信号Fb的频率时，控制器1141将当前的频率控制字增大1。S322，数字控制振荡器1142根据频率控制字和脉冲的频率生成中间信号。此处，中间信号的频率为其中，K为脉冲生成子电路111生成的脉冲的个数，f为脉冲的频率，F为频率控制字。S323，第一分频器1143对中间信号进行分频，生成反馈信号。示例的，第一分频器1143对中间信号进行分频的分频系数为1。示例的，S323包括：根据控制参数调节分频系数，利用调节后的分频系数对中间信号进行分频。S330，随机数生成子电路115根据相位关系指示信号生成随机数。在一些示例中，相位关系指示信号为数字信号，随机数为基于多个相位关系指示信号组合形成的数字信号序列。例如，相位关系指示信号的值为0或1。相位关系指示信号的值为0时，指示输入信号的相位落后于反馈信号的相位。相位关系指示信号为1时，指示输入信号的相位超前于反馈信号的相位。例如，在预定时长内，鉴频鉴相子电路113进行了m次相位对比，生成m个相位关系指示信号，m个相位关系指示信号的值分别为0、1、1、0、0、1、1、1、1、0，则m个相位关系指示信号组成的数字信号序列构成随机数，即0110011110。需要理解的是，m＝10仅为示例性说明，在实际应用中，m可以取更大的值，从而产生更多位数的随机数种子，例如，64位、128位、256位等，从而能够提高随机数生成子电路115的随机度。在另一些实施例中，如图18所示，光信号发射器100和光信号接收器200分别具有光信号发射和光信号接收两种功能。光信号发射器100中光信号发射功能的实现，以及光信号接收器200的光信号接收功能的实现，可参见上述一些实施例中的相关记载，此处不再详述。此外，光信号发射器100还可以作为第一目标通信装置300的光信号接收器使用，其光信号接收功能与前述光信号接收器200中的光信号接收功能相同，其功能实现可参见前述一些实施例中的相关记载进行。此处，光信号发射器100中用于解密第一目标通信装置300传输数据的密钥，与第一目标通信装置300中用于加密传输数据的密钥匹配设置。第一目标通信装置300的结构可以与一些实施例中光信号发射器100的结构相同。光信号接收器200还可以作为第二目标通信装置400的光信号发射器使用，其光信号发射功能与前述光信号发射器100中的光信号发射功能相同，其功能实现可参见前述一些实施例中的相关记载进行。此处，光信号接收器200中用于加密传输数据的密钥，与第二目标通信装置400中用于解密光信号接收器200所传输数据的密钥匹配设置。第二目标通信装置400的结构可以与一些实施例中光信号接收器200的结构相同。本公开实施例中，光通信系统1000能够实现多个光通信装置之间的加密通信，其具有较高的使用可靠性，利于保障数据的通信安全。为了更清楚的说明上述光通信方法中初始通信数据的加密传输过程，以下以第一加解密器13采用乘法运算对初始通信数据加密为例进行示意。请参阅图15和图16，在第一加解密器13根据第一密钥对初始通信数据进行加密的过程中，其加密运算的实现可以有多种算法。示例的，初始通信数据中的数据长度为64位。第一密钥采用对称密钥k，其长度也为64位。第一加解密器13根据第一密钥对初始通信数据的加密过程，通过以下公式表示。y＝x×k其中，x是初始通信数据，k是第一密钥，y是加密后的第一加密数据。例如，x＝50，k＝321561，则y＝50×321561＝16078050。由于第一密钥k是基于随机数生成器11生成的随机数生成的，因此第一密钥k具有极高的不确定性。如此，在将第一加密数据发射出去后，即使该第一加密数据在不安 全的传输通道中传输也不担心被窃取。因为在没有获知第一密钥k的情况下，窃取方无法破解出初始通信数据是多少。当然，第一加解密器13也可以根据第一密钥k，采用更为复杂的算法对初始通信数据进行加密。驱动器14在接收第一加密数据y之后，可以将第一加密数据y编码为可见光发光指令。例如图10所示，发射器15为显示屏，显示屏包括呈阵列状分布的多个像素151。驱动器14编码获得的可见光发光指令例如为像素灰阶、或发光频率等。在一些示例中，可见光发光指令为像素灰阶指令。例如，先将第一加密数据y准换为二进制数111101010100100100101010，其位长为24位。基于数据长度为64位，那么第一加密数据y对应的二进制数可以表示为：40位的0+如上的24位数。基于显示屏的灰阶通常有256个等级，设置每一等级的灰阶表征的数据长度为8位，那么上述第一加密数据y的64位数需要分成8次进行传输。因此，从低位开始，可以将第一加密数据y转换为8个灰阶指令，分别为L42、L73、L245、L0、L0、L0、L0、L0。从而通过灰阶指令实现电信号与光信号之间的转换。显示屏在接收到驱动器14传输的可见光发光指令后，可以根据可见光发光指令出射可见光，实现光通信。由于可见光的亮度容易随其传播距离的增大而衰减，且其衰减较快，因此采用可见光进行数据传输能够有效保障数据的安全通信，其适用于近场通信。光信号接收器200中的可见光接收器27与显示屏正对，能够准确采集可见光并对可见光进行解码，获得第一加密数据y。可见光接收器27接收到可见光的灰阶分别为L42、L73、L245、L0、L0、L0、L0、L0，将其解码后可以获得第一加密数据y为111101010100100100101010。第二加解密器23从第二密钥管理器33中调用已存储的第一密钥k，可以利用第一密钥k进行逆运算，其通过以下公式表示。x＝y×k-1 经计算后获得的初始通信数据x为50。通过以上各步骤的实施，可以安全获取初始通信数据x。上述一些实施例中的光通信系统及方法，可以应用于日常的多项通信场景中。示例的，在显示多项商品的可购物界面，每项商品的付款信息可以通过第一加密数据以可见光的形式发射出来。由于用于表征第一加密数据的可见光的信息为灰阶、频率等，其存在并不会影响用户对商品显示图片的观看。在用户使用具有可见光接收功能的电子设备直接拍摄想要购买的商品的显示图片时，该电子设备可以直接解码出隐含信息，即该商品的付款信息，从而直接付款或跳转至其付款界面以完成付款操作。如此能够省略用户对可购物界面的进一步操作，例如点击商品图片进入付款信息显示界面，有效简化了用户的购买流程，也能够保证加密数据的安全通信。示例的，在用户的显示界面，将水印或其他能够用于版权保护的链接通过第一加密数据以可见光的形式发射出来。由于用于表征第一加密数据的可见光的信息为灰阶、 频率等，其存在并不会影响显示界面的原始显示。这样在其他人使用具有可见光接收功能的电子设备拍摄上述显示界面时，第一加密数据可以被解码并解密在电子设备所获取的图像信息中，使得前述水印或其他能够用于版权保护的链接能够在电子设备输出的图片中显现。从而对用户显示界面的显示信息予以保护。本公开的一些实施例提供了一种计算机可读存储介质，该计算机可读存储介质中存储有计算机程序指令。所述计算机可读存储介质存储有计算机程序指令，所述计算机程序指令在光通信系统中运行时，使得所述光通信系统执行如上任一实施例所述的光通信方法中的一个或多个步骤。示例性的，上述计算机可读存储介质可以包括，但不限于：磁存储器件，光盘、DVD等)，智能卡和闪存器件等)。本公开描述的各种计算机可读存储介质可代表用于存储信息的一个或多个设备和/或其它机器可读存储介质。术语“机器可读存储介质”可包括但不限于，无线信道和能够存储、包含和/或承载指令和/或数据的各种其它介质。本公开的一些实施例还提供了一种计算机程序。当所述计算机程序在光通信系统中运行时，所述计算机程序使光通信系统中执行如上任一实施例所述的光通信方法中的一个或多个步骤。上述计算机可读存储介质及计算机程序的有益效果和上述一些实施例所述的光通信方法的有益效果相同，此处不再赘述。在上述实施方式的描述中，具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。以上所述，仅为本公开的具体实施方式，但本公开的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本公开揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本公开的保护范围之内。因此，本公开的保护范围应以所述权利要求的保护范围为准。
