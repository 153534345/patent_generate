标题title
投影梯形校正方法、装置及投影系统
摘要abst
本申请公开了一种投影梯形校正方法、装置及投影系统。其中，投影系统至少包括：投影光机和用于调整投影光机的投射方向的旋转机构。该方法包括：获取投影光机的投影信息；获取投影光机的姿态信息；依据投影信息和姿态信息确定将投影光机的投射方向调整至正对投影面时，旋转机构需要旋转的第一角度信息，其中，投影面为投影画面所在的平面；依据第一角度信息控制旋转机构进行旋转。本申请解决了相关技术中对投影画面进行校正时存在画质损失及灰边效果的技术问题。
权利要求书clms
1.一种投影梯形校正方法，其特征在于，所述方法应用于投影系统，所述投影系统至少包括：投影光机和用于调整所述投影光机的投射方向的旋转机构，所述方法包括：获取所述投影光机的投影信息；获取所述投影光机的姿态信息；依据所述投影信息和所述姿态信息确定将所述投影光机的投射方向调整至正对投影面时，所述旋转机构需要旋转的第一角度信息，其中，所述投影面为投影画面所在的平面；依据所述第一角度信息控制所述旋转机构进行旋转。2.根据权利要求1所述的方法，其特征在于，获取所述投影光机的投影信息，包括：通过图像采集模块获取所述投影光机的投影信息，其中，所述图像采集模块包括以下至少之一：摄像头模组，深度信息测量模组；所述投影信息包括以下至少之一：投影画面信息，特征图信息，所述投影面的深度信息。3.根据权利要求2所述的方法，其特征在于，获取所述投影光机的姿态信息，包括：通过姿态传感器获取所述投影光机的姿态信息，所述姿态信息至少包括所述投影光机的姿态角度信息。4.根据权利要求3所述的方法，其特征在于，依据所述投影信息和所述姿态信息确定将所述投影光机的投射方向调整至正对投影面时，所述旋转机构需要旋转的第一角度信息，包括：依据所述投影信息确定所述投影面的三维点云信息及画面坐标信息；依据所述三维点云信息及画面坐标信息进行平面拟合，得到所述投影面的平面方程及所述平面方程的法向量；依据所述平面方程及所述法向量确定水平旋转角度，所述水平旋转角度为将所述投影光机的投射方向调整至正对所述投影面时，所述旋转机构在水平方向上旋转的角度；依据所述平面方程及所述法向量确定垂直俯仰角度，或依据所述姿态角度信息确定所述垂直俯仰角度，所述垂直俯仰角度为将所述投影光机的投射方向调整至正对所述投影面时，所述旋转机构在垂直方向上旋转的角度；依据所述姿态角度信息确定所述投影光机的倾斜角度，所述倾斜角度为将所述投影光机调整至平行于水平面时，所述旋转机构旋转的角度；将所述水平旋转角度、所述垂直俯仰角度以及所述倾斜角度作为所述第一角度信息。5.根据权利要求1所述的方法，其特征在于，所述旋转机构是由电机驱动旋转的，依据所述第一角度信息控制所述旋转机构进行旋转，包括：确定所述电机的转动步数与所述旋转机构的旋转角度之间的第一对应关系；依据所述第一对应关系及所述第一角度信息确定所述电机需要转动的方向以及在对应方向上的转动步数；依据所述转动的方向和转动步数控制所述电机驱动所述旋转机构进行旋转。6.根据权利要求1所述的方法，其特征在于，所述投影光机支持光学移轴功能，在依据所述第一角度信息控制所述旋转机构进行旋转之后，所述方法还包括：依据所述第一角度信息，确定将所述投影光机的投影画面调整至目标投影区域时需要进行光学移轴的偏移量，并依据所述偏移量对所述投影光机进行光学移轴，其中，所述偏移量包括水平方向上的水平偏移量和垂直方向上的垂直偏移量。7.根据权利要求1所述的方法，其特征在于，所述投影光机具有数字校正功能，在依据所述第一角度信息控制所述旋转机构进行旋转之后，所述方法还包括：接收目标对象的校正指令，依据所述校正指令对投影画面进行校正，其中，所述校正指令用于指示通过所述数字校正功能对所述投影画面再次进行校正。8.一种投影梯形校正装置，其特征在于，包括：第一获取模块，用于获取投影光机的投影信息；第二获取模块，用于获取所述投影光机的姿态信息；第一确定模块，用于依据所述投影信息和所述姿态信息确定将所述投影光机的投射方向调整至正对投影面时，旋转机构需要旋转的第一角度信息，其中，所述投影面为投影画面所在的平面；旋转模块，用于依据所述第一角度信息控制所述旋转机构进行旋转。9.一种投影系统，其特征在于，包括：投影光机，用于将投影画面投射至目标投影区域；图像采集模块，用于获取所述投影光机的投影信息；姿态信息采集模块，用于获取所述投影光机的姿态信息，所述姿态信息至少包括所述投影光机的姿态角度信息；计算处理模块，用于依据所述投影信息和所述姿态信息确定将所述投影光机的投射方向调整至正对所述投影面时，旋转模块需要旋转的第一角度信息；旋转模块，用于依据所述第一角度信息将所述投影光机的投射方向调整至正对所述投影面。10.一种非易失性存储介质，其特征在于，所述非易失性存储介质包括存储的程序，其中，在所述程序运行时控制所述非易失性存储介质所在设备执行权利要求1至8中任意一项所述的投影梯形校正方法。
说明书desc
技术领域本申请涉及投影技术领域，具体而言，涉及一种投影梯形校正方法、装置及投影系统。背景技术在日常使用中，投影光机投射的图像应尽可能正对投影屏幕或投影墙面，保证画面没有垂直或水平方向的夹角，这样才能保证投影效果。但是，在实际使用中，往往有很多场景很难做到光机投射画面正对投影面，例如吊装或卧室使用的场景中，基本上投影投射方向与投影面都会有垂直方向或者水平方向的夹角。这种情况下，投射出的画面会呈现出非矩形的梯形状态，如果需要将梯形的画面调成标准的矩形，需要使用到投影的梯形校正功能。在相关技术中，投影的梯形校正通常有手动和自动两种方式，手动即用户调出调校设置菜单，通过手动控制投影画面几个顶点的位置，来调整画面形状；自动方式即通过图像采集模块采集到投影面信息，通过对投影位置的自动补偿来自动将画面校正成矩形。然而无论是手动还是自动，其都是采用数字调校的方式来调节图像，即通过软件算法改变投影出的画面像素位置，这种方式存在两个弊端：1)调节后的画面分辨率和画质会由于缩放而损失；2)调节后，正常显示内容会变小，但光机内部结构由于无法做到完全遮光，所以用户能看到正常画面内容四周有明显的灰边，画面调的越小，灰边越大。针对上述的问题，目前尚未提出有效的解决方案。发明内容本申请实施例提供了一种投影梯形校正方法、装置及投影系统，以至少解决相关技术中对投影画面进行校正时存在画质损失及灰边效果的技术问题。根据本申请实施例的一个方面，提供了一种投影梯形校正方法，所述方法应用于投影系统，所述投影系统至少包括：投影光机和用于调整所述投影光机的投射方向的旋转机构，所述方法包括：获取所述投影光机的投影信息；获取所述投影光机的姿态信息；依据所述投影信息和所述姿态信息确定将所述投影光机的投射方向调整至正对投影面时，所述旋转机构需要旋转的第一角度信息，其中，所述投影面为投影画面所在的平面；依据所述第一角度信息控制所述旋转机构进行旋转。可选地，通过图像采集模块获取所述投影光机的投影信息，其中，所述图像采集模块包括以下至少之一：摄像头模组，深度信息测量模组；所述投影信息包括以下至少之一：投影画面信息，特征图信息，所述投影面的深度信息。可选地，通过姿态传感器获取所述投影光机的姿态信息，所述姿态信息至少包括所述投影光机的姿态角度信息。可选地，依据所述投影信息确定所述投影面的三维点云信息及画面坐标信息；依据所述三维点云信息及画面坐标信息进行平面拟合，得到所述投影面的平面方程及所述平面方程的法向量；依据所述平面方程及所述法向量确定水平旋转角度，所述水平旋转角度为将所述投影光机的投射方向调整至正对所述投影面时，所述旋转机构在水平方向上旋转的角度；依据所述平面方程及所述法向量确定垂直俯仰角度，或依据所述姿态角度信息确定所述垂直俯仰角度，所述垂直俯仰角度为将所述投影光机的投射方向调整至正对所述投影面时，所述旋转机构在垂直方向上旋转的角度；依据所述姿态角度信息确定所述投影光机的倾斜角度，所述倾斜角度为将所述投影光机调整至平行于水平面时，所述旋转机构旋转的角度；将所述水平旋转角度、所述垂直俯仰角度以及所述倾斜角度作为所述第一角度信息。可选地，所述旋转机构是由电机驱动旋转的，确定所述电机的转动步数与所述旋转机构的旋转角度之间的第一对应关系；依据所述第一对应关系及所述第一角度信息确定所述电机需要转动的方向以及在对应方向上的转动步数；依据所述转动的方向和转动步数控制所述电机驱动所述旋转机构进行旋转。可选地，所述投影光机支持光学移轴功能，依据所述第一角度信息，确定将所述投影光机的投影画面调整至目标投影区域时需要进行光学移轴的偏移量，并依据所述偏移量对所述投影光机进行光学移轴，其中，所述偏移量包括水平方向上的水平偏移量和垂直方向上的垂直偏移量。可选地，所述投影光机具有数字校正功能，在依据所述第一角度信息控制所述旋转机构进行旋转之后，接收目标对象的校正指令，依据所述校正指令对投影画面进行校正，其中，所述校正指令用于指示通过所述数字校正功能对所述投影画面再次进行校正。根据本申请实施例的另一方面，还提供了一种投影梯形校正装置，包括：第一获取模块，用于获取投影光机的投影信息；第二获取模块，用于获取所述投影光机的姿态信息；第一确定模块，用于依据所述投影信息和所述姿态信息确定将所述投影光机的投射方向调整至正对投影面时，旋转机构需要旋转的第一角度信息，其中，所述投影面为投影画面所在的平面；旋转模块，用于依据所述第一角度信息控制所述旋转机构进行旋转。根据本申请实施例的另一方面，还提供了一种投影系统，包括：投影光机，用于将投影画面投射至目标投影区域；图像采集模块，用于获取所述投影光机的投影信息；姿态信息采集模块，用于获取所述投影光机的姿态信息，所述姿态信息至少包括所述投影光机的姿态角度信息；计算处理模块，用于依据所述投影信息和所述姿态信息确定将所述投影光机的投射方向调整至正对所述投影面时，旋转模块需要旋转的第一角度信息；旋转模块，用于依据所述第一角度信息将所述投影光机的投射方向调整至正对所述投影面。根据本申请实施例的另一方面，还提供了一种非易失性存储介质，所述非易失性存储介质包括存储的程序，其中，在所述程序运行时控制所述非易失性存储介质所在设备执行上述的投影梯形校正方法。在本申请实施例中，通过获取投影光机的投影信息及姿态信息，确定对旋转机构进行旋转时的第一角度信息，并依据第一角度信息对旋转机构进行旋转，从而将投影光机的投射方向调整至正对投影面，将原本出现梯形畸变的投影画面校正为矩形，由于本申请实施例中是通过调整投影光机的投射方向来校正投影画面，不涉及到对投影画面进行缩放，因此能够有效解决相关技术中对投影画面进行校正时存在画质损失及灰边效果技术问题。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1a是根据相关技术的一种投影梯形校正造成画面损失的示意图；图1b是根据相关技术的一种投影梯形校正产生灰边的示意图；图2是根据本申请实施例的一种投影系统的结构示意图；图3是根据本申请实施例的一种投影梯形校正方法的流程示意图；图4a是根据本申请实施例的一种投影光机水平旋转投影的示意图；图4b是根据本申请实施例的一种投影光机垂直旋转投影的示意图；图4c是根据本申请实施例的一种投影光机倾斜投影的示意图；图5a是根据本申请实施例的一种投影光机光学水平移轴的示意图；图5b是根据本申请实施例的一种投影光机光学垂直移轴的示意图；图6是根据本申请实施例的一种投影光机旋转角度与画面偏移关系的示意图；图7是根据本申请实施例的一种投影校正过程的流程示意图；图8是根据本申请实施例的一种投影梯形校正装置的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分的实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本申请保护的范围。需要说明的是，本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本申请的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及它们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。实施例1相关技术中，在对投影画面进行梯形校正时，一般通过手动控制投影画面几个顶点的位置来调整画面形状，或是以图像采集模块采集投影画面信息，通过对投影位置的自动补偿来将投影画面校正成矩形，这些方式都是采用数字调校的方式来调节图像，即通过软件算法改变投影出的画面像素位置，其有两个弊端：1)调节后的画面分辨率和画质会由于缩放而损失，以图1a为例，其中，11为标准投影画面，其横向像素为1920；12为出现梯形畸变时的投影画面，通过对底边缩放进行校正；13为校正过后得到的矩形画面，其横向像素小于1920，即造成了画质损失；2)调节后，正常显示内容会变小，但由于光机内部结构无法做到完全遮光，所以投影画面四周存在明显的灰边，如图1b所示，其中，14为校正之前的梯形投影画面，16为校正之后的矩形投影画面，15为产生的灰边，可以看出，当校正后的画面越小，产生的灰边越大。为解决上述问题，本申请实施例提供了一种投影系统，该投影系统至少包括：投影光机和用于调整投影光机的投射方向的旋转机构，以实现对投影画面的光学无损自动梯形校正，从而优化投影数字梯形校正下的画质损失及灰边问题。图2是根据本申请实施例的一种可选的投影系统的结构示意图，如图2所示，该系包括以下模块：投影光机20，用于将投影画面投射至目标投影区域，可选地，投影光机可以支持光学移轴功能，通过光学移轴功能可以对投影画面进行水平方向及垂直方向上的位移，以实现对投影画面的位置调整。图像采集模块22，用于获取投影光机的投影信息，可选地，图像采集模块包括摄像头模组或其他深度信息测量模组，例如tof模组等。姿态信息采集模块24，用于获取投影光机的姿态信息，该姿态信息至少包括所述投影光机的姿态角度信息；可选地，姿态信息采集模块包括陀螺仪或G-Sensor等IMU传感器等。计算处理模块26，包括MCU/CPU/GPU等具备计算处理能力的单元，用于依据投影信息和姿态信息确定将投影光机的投射方向调整至正对投影面时，旋转模块需要旋转的第一角度信息；旋转模块28，与投影光机20相连，用于依据第一角度信息将投影光机的投射方向调整至正对投影面；通常为机械旋转模块，包括具备上下左右及倾斜六向调节能力的机械结构以及驱动电机模块，可以通过程序控制电机驱动旋转模块带动投影光机进行六向机械转动。在上述运行环境下，本申请实施例提供了一种投影梯形校正方法，需要说明的是，在附图的流程图示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤。图3是根据本申请实施例的一种投影梯形校正方法的流程示意图，如图3所示，该方法包括如下步骤：步骤S302，获取投影光机的投影信息。在本申请一些可选的实施例中，通过图像采集模块获取投影光机的投影信息，其中，图像采集模块包括以下至少之一：摄像头模组，深度信息测量模组；投影信息包括以下至少之一：投影画面信息，特征图信息，投影面的深度信息。具体地，可以先将投影画面大致投射在目标投影区域中，此时投影光机投射出原始投影画面，或者投射出图像传感器需要识别的特定图像信息，此时，如果投影光机的投射方向并非正对投影面，投射画面可能为带畸变的梯形。然后，使用RGB摄像头模组或是具有深度信息采集能力的模组，例如tof相机模组、多点tof模组或双目相机或结构光模组等，采集所投射的画面信息或特征图信息或投影面深度信息等用于三维重建或计算投影姿态角度的投影信息。步骤S304，获取投影光机的姿态信息。在本申请一些可选的实施例中，可以通过姿态传感器，例如陀螺仪或其他重力传感器，获取投影光机的姿态信息，该姿态信息至少包括所述投影光机的姿态角度信息，例如，当投影光机放置于倾斜的桌面上时，通过姿态传感器可以获取投影光机的姿态角度，包括其在垂直方向上的俯仰角度及倾斜角度。步骤S306，依据投影信息和姿态信息确定将投影光机的投射方向调整至正对投影面时，旋转机构需要旋转的第一角度信息，其中，投影面为投影画面所在的平面。在本申请一些可选的实施例中，首先依据投影信息确定投影面的三维点云信息及画面坐标信息，该画面坐标信息可以是投影画面四个顶点的空间坐标；然后，依据三维点云信息及画面坐标信息进行平面拟合，得到投影面的平面方程；再依据平面方程及姿态信息确定第一角度信息，第一角度信息包括水平旋转角度、垂直俯仰角度以及倾斜角度，具体过程如下：1)确定投影面的平面方程Fn，并计算投影面的法向量n；2)依据平面方程Fn及法向量n，确定投影光机的水平旋转角度Ang_H，水平旋转角度Ang_H为将投影光机的投射方向调整至正对投影面时，旋转机构在水平方向上旋转的角度，其示意图如图4a所示，其中，41表示投影光机，42表示投影面，43为投影光机在投影面上的梯形投影画面，44为将投影光机在水平方向上旋转角度Ang_H后得到的正投矩形投影画面；3)依据平面方程Fn及法向量n，确定投影光机的垂直俯仰角度Ang_V，垂直俯仰角度Ang_V为将投影光机的投射方向调整至正对投影面时，旋转机构在垂直方向上旋转的角度，其示意图如图4b所示，其中，41表示投影光机，42表示投影面，45为投影光机在投影面上的梯形投影画面，46为将投影光机在垂直方向上旋转角度Ang_V后得到的正投矩形投影画面；可选地，也可以依据获取的投影光机姿态角度信息确定垂直俯仰角度Ang_V；4)依据姿态角度信息确定投影光机的倾斜角度Ang_Z，倾斜角度Ang_Z为将投影光机调整至平行于水平面时，旋转机构所旋转的角度，其示意图如图4c所示，其中，41表示投影光机，42表示投影面，47为投影光机在投影面上的倾斜投影画面，48为将投影光机旋转角度Ang_Z使其平行于水平面后得到的正投矩形投影画面。步骤S308，依据第一角度信息控制旋转机构进行旋转。在确定了第一角度信息之后，可以依据第一角度信息对旋转机构进行旋转。通常，旋转机构是由电机驱动旋转的，该电机可以是直流电机，也可以是步进电机。在本申请一些可选的实施例中，可以先确定电机的转动步数与旋转机构的旋转角度之间的第一对应关系；然后依据第一对应关系及第一角度信息确定电机需要转动的方向以及在对应方向上的转动步数；再依据转动的方向和转动步数控制电机驱动旋转机构进行旋转。具体地，电机的转动步数与旋转机构的旋转角度之间的第一对应关系需要提前采集数据建立，一种可选的实施方案如下：假设电机在水平方向的转动步数Hx与旋转机构在水平方向的实际旋转角度Hy之间的关系为线性，则有Hy＝a*Hx+b，其中，a和b是采集实际的电机与旋转机构转动效果计算得到的；当然，实际的旋转角度与转动步数的关系也可能是非线性关系，此时，可以通过预先采集测定的数据集来拟合Hy＝f。同理，也可以采集数据拟合电机在垂直方向的转动步数Vx与旋转机构在垂直方向的实际旋转角度Vy之间的关系为Vy＝c*Vx+d或Vy＝f；拟合电机在倾斜方向的转动步数Zx与旋转机构在倾斜方向的实际旋转角度Zy之间的关系为Zy＝e*Zx+f或Zy＝f。在依据第一角度信息对旋转机构进行旋转时，可以通过上述确定的第一对应关系，计算出旋转机构分别在水平、垂直、倾斜方向上旋转角度Ang_H、Ang_V、Ang_Z时，电机在水平、垂直、倾斜方向上的转动步数，并由程序控制电机驱动旋转机构进行旋转，旋转机构带动投影光机旋转使投影光机的投射方向正对投影面。需要说明的是，通过上述过程使投影光机的投射方向正对投影面后，可以将投影画面调整为矩形，但此时的投影画面偏离了原先的目标投影区域，可能无法满足用户的需求，因此，在本申请一些可选的实施例中，可以选用支持光学移轴功能的投影光机，在依据第一角度信息控制旋转机构进行旋转之后进行光学移轴。光学移轴与相机移轴的原理类似，只要将光机内部镜头进行较小的位移，即可使投射出的光学画面在形状几乎不变的情况下进行较大幅度的位移，这种镜头光学系统位移带来的投射画面的位移变化，远比直接将投影光机位移相同尺寸带来的投射画面位移变化要大的多。通常，投影光机的光学移轴包括水平移轴和垂直移轴，图5a为光学水平移轴的示意图，其中，51表示投影光机，52表示投影面，53为投影光机在投影面上的原始投影画面，54为投影光机水平移轴后在投影面上的投影画面，其通过光机移轴系统实现了投影画面在水平方向上的大幅位移；图5b为光学垂直移轴的示意图，其中，51表示投影光机，52表示投影面，53为投影光机在投影面上的原始投影画面，55为投影光机垂直移轴后在投影面上的投影画面，其通过光机移轴系统实现了投影画面在垂直方向上的大幅位移。光学移轴系统通过复杂的光学镜片组的精密移动，可以做到在投影光机位置不动的情况下，来实现光学成像画面的物理位移，从而对画质和亮度没有影响，可以说是一种无损的画面处理技术。在本申请一些可选的实施例中，可以依据第一角度信息，确定将投影光机的投影画面调整至目标投影区域时需要进行光学移轴的偏移量，并依据偏移量对投影光机进行光学移轴，其中，偏移量包括水平方向上的水平偏移量和垂直方向上的垂直偏移量。具体地，可以先确定投影光机的旋转角度与光学移轴的偏移量之间的第二对应关系；依据第二对应关系及第一角度信息，确定将投影光机的投影画面调整至目标投影区域时，进行光学移轴的偏移量，可以依据第二对应关系及水平旋转角度确定水平偏移量；依据第二对应关系及垂直俯仰角度确定垂直偏移量。如图6所示，其中，61表示投影光机，62表示投影面，63为投影光机在投影面的目标投影区域内的梯形投影画面，64为经旋转机构调整后投影光机在投影面上的正投矩形投影画面，二者之间的距离L即为水平移轴最终的画面偏移量，由于投影光机水平旋转的角度Ang_H以及水平移轴最终的画面偏移量L具有类似于直角三角形的关系，所以水平移轴最终的画面偏移量L与旋转角度Ang_H是成正比的线性关系，在此基础上，可以建立一个Ang_H与光机水平移轴电机偏移量Len_H之间的数据表，此数据表可以通过采集不同角度得到的相应光学移轴电机偏移步数得到，即Len_H＝a*Ang_H+b，其中a和b需要结合投影光机的设计与实际光学移轴电机运动效果计算拟合得出；可选地，考虑到电机运动区间内可能光学移轴的实际图像偏移量可能会存在误差而并非绝对线性，可以采集足够多的数据通过实际的非线性关系来拟合，即Len_H＝f。同理，也可以得出光机垂直移轴电机偏移量Len_V与投影光机垂直旋转的角度Ang_V之间的对应关系：Len_V＝c*Ang_V+d或Len_V＝f。最后，依据水平偏移量Len_H对投影光机进行光学水平移轴；依据垂直偏移量Len_H对投影光机进行光学垂直移轴，从而调整投影画面的位置，使其投射于目标投影区域。通常，投影光机具有数字校正功能，其通过软件算法改变投影出的画面像素位置，具有手动和自动两种方式，手动即用户调出调校设置菜单，通过手动控制投影画面几个顶点的位置，来调整画面形状；自动方式即通过图像采集模块采集到投影面信息，通过对投影位置的自动补偿来自动将画面校正成矩形。在本申请一些可选的实施例中，在依据第一角度信息控制旋转机构进行旋转之后，可以接收目标对象的校正指令，依据校正指令对投影画面进行校正，其中，校正指令用于指示通过数字校正功能对投影画面再次进行校正。可以理解地，投影光机既可以依据上述的投影校正方法对投影画面进行校正，也可以通过数字校正功能对投影画面进行校正。例如，当旋转机构出现故障无法实现对投影画面的自动校正时，或是用户对校正后的投影画面仍不满意时，可以通过接受用户的指令，依据用户指令以数字校正功能对投影画面再次进行校正。在本申请一种可选的实施例中，对投影画面进行校正的完整流程如图7所示：1)通过图像采集模块采集投影画面/投影面深度信息；2)依据采集到的图像或深度信息，计算投影面三维点云信息及画面坐标信息；3)依据三维点云信息及画面坐标信息进行平面拟合，获得投影面的平面方程；4)依据平面方程计算投影光机的水平旋转角度Ang_H；5)依据平面方程或IMU姿态传感器确定投影光机的垂直俯仰角度Ang_V；6)依据IMU姿态传感器确定投影光机的倾斜角度Ang_Z；7)依据电机的转动步数与旋转角度间的第一对应关系，以及上述确定的Ang_H、Ang_V、Ang_Z，确定电机需要转动的方向及转动步数；8)依据确定的转动方向及转动步数控制电机驱动旋转机构进行旋转；9)完成对投影画面的物理校正，最终在投影区域内的投影画面为矩形，且无画质损失和数字校正造成的灰边。在本申请实施例中，通过获取投影光机的投影信息及姿态信息，确定对旋转机构进行旋转时的第一角度信息，并依据第一角度信息对旋转机构进行旋转，从而将投影光机的投射方向调整至正对投影面，将原本出现梯形畸变的投影画面校正为矩形；还可以依据第一角度信息计算光学移轴的偏移量并对投影光机进行光学移轴，从而将投影画面投射至目标投影区域。由于本申请实施例中是通过调整投影光机的投射方向来校正投影画面，不涉及到对投影画面进行缩放，因此能够有效解决相关技术中对投影画面进行校正时存在画质损失及灰边效果技术问题。实施例2根据本申请实施例，还提供了一种用于实现上述投影梯形校正方法的投影梯形校正装置，如图8所示，该装置包括第一获取模块80，第二获取模块82，第一确定模块84和旋转模块86，其中：第一获取模块80，用于获取投影光机的投影信息。在本申请一些可选的实施例中，可以通过图像采集模块获取投影光机的投影信息，其中，图像采集模块包括以下至少之一：摄像头模组，深度信息测量模组；投影信息包括以下至少之一：投影画面信息，特征图信息，投影面的深度信息。第二获取模块82，用于获取投影光机的姿态信息。在本申请一些可选的实施例中，可以通过姿态传感器，例如陀螺仪或其他重力传感器，获取投影光机的姿态信息，该姿态信息至少包括投影光机与水平面之间的倾斜角度。第一确定模块84，用于依据投影信息和姿态信息确定将投影光机的投射方向调整至正对投影面时，旋转机构需要旋转的第一角度信息，其中，投影面为投影画面所在的平面。在本申请一些可选的实施例中，依据获取的投影画面信息或投影面深度信息等投影信息来确定投影面的三维点云信息及画面坐标信息；依据得到的三维点云信息及画面坐标信息进行平面拟合，得到投影面的平面方程；依据平面方程确定将投影光机的投射方向调整至正对投影面时，旋转机构在水平方向上的水平旋转角度；依据平面方程或投影光机姿态信息确定将投影光机的投射方向调整至正对投影面时，旋转机构在垂直方向上的垂直俯仰角度；依据姿态信息确定投影光机的倾斜角度；将水平旋转角度、垂直俯仰角度以及倾斜角度作为第一角度信息。旋转模块86，用于依据第一角度信息控制旋转机构进行旋转。在本申请一些可选的实施例中，由于旋转机构是由电机驱动旋转的，可以先确定电机的转动步数与旋转机构的旋转角度之间的第一对应关系；然后依据第一对应关系及第一角度信息确定电机需要转动的方向以及在对应方向上的转动步数；再依据转动的方向和转动步数控制电机驱动旋转机构进行旋转。需要说明的是，本申请实施例中的投影梯形校正装置中的各模块与实施例1中的投影梯形校正方法实施步骤一一对应，由于实施例1中已经进行了详尽的描述，本实施例中部分未体现的细节可以参考实施例1，在此不再过多赘述。实施例3根据本申请实施例，还提供了一种非易失性存储介质，该非易失性存储介质包括存储的程序，其中，在程序运行时控制非易失性存储介质所在设备执行上述的投影梯形校正方法。可选地，在程序运行时控制非易失性存储介质所在设备执行实现以下步骤：获取投影光机的投影信息；获取投影光机的姿态信息；依据投影信息和姿态信息确定将投影光机的投射方向调整至正对投影面时，旋转机构需要旋转的第一角度信息，其中，投影面为投影画面所在的平面；依据第一角度信息控制旋转机构进行旋转。上述本申请实施例序号仅仅为了描述，不代表实施例的优劣。在本申请的上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其他实施例的相关描述。在本申请所提供的几个实施例中，应该理解到，所揭露的技术内容，可通过其它的方式实现。其中，以上所描述的装置实施例仅仅是示意性的，例如单元的划分，可以为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，单元或模块的间接耦合或通信连接，可以是电性或其它的形式。作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例方法的全部或部分步骤。而前述的存储介质包括：U盘、只读存储器、随机存取存储器、移动硬盘、磁碟或者光盘等各种可以存储程序代码的介质。以上仅是本申请的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本申请的保护范围。
