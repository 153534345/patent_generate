标题title
一种支持发布/订阅的OPC UA多服务器聚合方法和系统
摘要abst
本发明属于工业通信技术领域，涉及一种支持发布/订阅的OPC UA多服务器聚合方法和系统。所述方法通过设计对底层OPC UA服务器的发现机制，实现OPC UA聚合服务器对底层OPC UA服务器的自动发现；设计映射规则，完成底层OPC UA服务器信息模型到OPC UA聚合服务器信息模型的自动映射；设计聚合算法，将客户端/服务器通信模式和发布/订阅通信模式共存的工业数据流进行自动聚合，实现工业网络数据的集中管控。本发明有效解决了目前工业现场所产生的高实时性、周期性、非周期性等混合数据流集成困难、缺乏集中管控的问题。
权利要求书clms
1.一种支持发布/订阅的OPC UA多服务器聚合方法，其特征在于，所述方法包括以下步骤：S1：底层OPC UA服务器向OPC UA聚合服务器中的设备自动发现模块进行登记并注册；S2：已登记注册的OPC UA服务器通过发布/订阅通信机制或客户端/服务器通信机制，将数据流传输到OPC UA聚合服务器；S3：OPC UA聚合服务器根据映射规则，将已登记注册的OPC UA服务器信息模型映射到OPC UA聚合服务器信息模型之中；S4：OPC UA聚合服务器根据聚合算法，将映射后的多个OPC UA服务器进行聚合。2.根据权利要求1所述的一种支持发布/订阅的OPC UA多服务器聚合方法，其特征在于，在所述底层OPC UA服务器向OPC UA聚合服务器中的设备自动发现模块进行登记并注册之前还包括OPC UA服务器连接工业设备，并获取所述工业设备的实时数据，建立出相应工业网络的底层OPC UA服务器信息模型，将所述实时数据存放在底层OPC UA服务器信息模型中，并通过函数调用实时更新所述底层OPC UA服务器信息模型。3.根据权利要求1所述的一种支持发布/订阅的OPC UA多服务器聚合方法，其特征在于，所述底层OPC UA服务器向OPC UA聚合服务器中的设备自动发现模块进行登记并注册包括所述OPC UA聚合服务器中的设备自动发现模块创建出OPC UA发现服务器，并对所述OPCUA发现服务器进行初始化配置；配置完成后使所述OPC UA发现服务器具有多播发现功能；判断是否有新的OPC UA服务器向所述OPC UA发现服务器进行主动注册，若没有新的OPC UA服务器主动注册，则等待注册，若有新的OPC UA服务器进行主动注册，则提取新的OPC UA服务器的URL信息，该新的OPC UA服务器调用函数向OPC UA发现服务器注册；注册完成后，在OPC UA聚合服务器中的设备自动发现模块中创建OPC UA发现客户端并调用函数查看已经登记的OPC UA服务器；登记完成后，关闭并删除OPC UA发现客户端，等待一段时间后关闭并删除OPC UA发现服务器。4.根据权利要求1所述的一种支持发布/订阅的OPC UA多服务器聚合方法，其特征在于，所述步骤S3中的映射规则包括OPC UA聚合服务器与已登记注册的OPC UA服务器建立连接，并提供地址空间初始化所需要的节点类型以及对象节点之间的引用关系；OPC UA聚合服务器在其地址空间中为每一个节点建立唯一标识；将具有相同属性的类型节点进行统一表示；将OPC UA聚合服务器信息模型扩展为多个OPC UA服务器信息模型对象的集合，对所有底层OPC UA服务器对象引用相同的对象类型并实例化。5.根据权利要求1所述的一种支持发布/订阅的OPC UA多服务器聚合方法，其特征在于，所述步骤S4中的聚合算法包括每个被聚合的底层OPC UA服务器的命名空间都按照“％A％B:NamespaceURI”的格式进行重新命名，保留被聚合的节点底层OPC UA服务器的节点ID，若节点ID重复，则将％B根据OPC UA聚合服务器的命名空间表分配；聚合完成后，OPC UA聚合服务器的地址空间中类型节点只需要创建一次，当非分层引用不涉及类型定义时，在OPC UA聚合服务器中重新创建一个节点，该节点具有与OPC UA服务器上的节点相同的NodeClass、节点ID和属性；OPC UA聚合服务器将已经收集到的客户端/服务器通信机制下或/和发布/订阅通信机制下的数据，采用数据先进先出和数据最大生存时间的结合算法对所述数据进行缓存，并在映射后的OPC UA服务器对象的变量中设置数据生存标志位；其中“％A”表示聚合顺序，“％B”表示该命名空间在其原始命名空间表中的索引；namespaceURI表示属性设置或返回属性的命名空间URI。6.一种支持发布/订阅的OPC UA多服务器聚合系统，其特征在于，所述系统包括OPC UA服务器、OPC UA客户端、映射配置管理中间件和OPC UA聚合服务器；所述OPC UA服务器负责连接工业现场的设备、机器、传感器，并建立相应工业网络的底层OPC UA服务器信息模型；所述OPC UA客户端以客户端/服务器通信机制访问底层OPC UA服务器，获取OPC UA地址信息列表并汇集相应的OPC UA设备数据；所述映射配置管理中间件以发布/订阅通信机制访问OPC UA服务器中OPC UA的TSN流信息；所述OPC UA聚合服务器将映射后的多个OPC UA服务器进行聚合，将底层OPC UA服务器接收的工业设备数据进行集中管控并向上为OPC UA客户端提供信息转发。7.根据权利要求6所述的一种支持发布/订阅的OPC UA多服务器聚合系统，其特征在于，所述OPC UA聚合服务器包括设备自动发现模块、通信接口模块、管理配置模块和聚合数据模块；所述设备自动发现模块负责登记底层OPC UA服务器的注册信息；所述通信接口模块负责对上与上层的OPC UA客户端建立连接，对下与底层OPC UA服务器建立连接；所述管理配置模块负责传输与管理来自底层OPC UA服务器的数据，以及完成底层OPC UA服务器地址空间中的节点数据映射与数据聚合；所述聚合数据模块负责收集映射后的OPC UA数据流并进行数据缓存。8.根据权利要求7所述的一种支持发布/订阅的OPC UA多服务器聚合系统，其特征在于，所述设备自动发现模块还包括OPC UA发现服务器和OPC UA发现客户端，所述OPC UA发现服务器负责管理登记服务器的注册表，该表记录所有已登记的底层OPC UA服务器信息，所述OPC UA发现客户端负责查询OPC UA发现服务器中目标OPC UA服务器是否存在，如果存在则将目标OPC UA服务器进行聚合。
说明书desc
技术领域本发明属于工业通信技术领域，涉及一种支持发布/订阅的OPC UA多服务器聚合方法和系统。背景技术随着自动化和信息技术的高速发展，工业自动化控制系统对于数据通信的实时性和互操作性需求日益增长。由于不同设备厂商均按照自己的标准接口开发相关应用程序，导致接口标准不统一，因此造成系统有很多局限性。开放平台通信统一架构作为一种独立于供应商、开放的、标准的技术，为硬件与软件之间存在的异构问题及用户与数据之间存在的信息孤岛问题提供了一个良好的解决方案。OPC UA技术在如今的工控网络现场应用中逐渐向现场设备层延伸，由于用于底层的现场设备服务器的数量较多，如果不能适当地进行聚合，则与上层的客户端建立连接通信时，连接的复杂性就比较高。而且底层工业设备与上层管理系统的通信频率一般比较高，如果采用单客户端和单服务器的形式，会造成通信效率的降低和开销的增大。对于OPC UA服务器/客户端模式，访问数据集要求OPC UA客户端完全了解OPC UA数据模型，访问OPC UA服务器的一组服务，可能需要在客户端和服务器之间交换大量的消息，导致数据传输实时性不高。为满足实时性的要求，基于OPC UA的时间敏感网络发布/订阅机制出现，在保留实时通信特性的同时将OPC UA用于现场级通讯控制，以一种解耦系统实现点对多点的传输。对于现有的基于C/S模式的工业现场，OPC UA以统一的描述满足在不同的工业通信子系统之间实现数据建模和信息交换，而对于既有C/S模式又有Pub/Sub模式的工业现场，特别是基于OPC UA和TSN高实时性、高可靠性的工业现场，存在周期性、非周期性、高时延、低时延等多种类型的数据，其集中管控就很困难，因此亟需一种支持发布/订阅的OPCUA多服务器聚合方法及系统来解决C/S通信模式和TSN网络下Pub/Sub通信模式共存工业现场下多种混合数据的集中管控困难问题。发明内容有鉴于此，本发明的目的在于提供一种支持发布/订阅的OPC UA多服务器聚合方法及系统，实现了工业现场底层服务器混合数据流汇集，多协议数据映射以及OPC UA服务器聚合，同时为了提高数据传输效率聚合方法做了优化。为达到上述目的，本发明提供如下技术方案：在本发明的第一方面，本发明提供了一种支持发布/订阅的OPC UA多服务器聚合方法，该方法包括以下步骤：S1：底层OPC UA服务器向OPC UA聚合服务器中的设备自动发现模块进行登记并注册；S2：已登记注册的OPC UA服务器通过发布/订阅通信机制或客户端/服务器通信机制，将数据流传输到OPC UA聚合服务器；S3：OPC UA聚合服务器根据映射规则，将已登记注册的OPC UA服务器信息模型映射到OPC UA聚合服务器信息模型之中；S4：OPC UA聚合服务器根据聚合算法，将映射后的多个OPC UA服务器进行聚合。在本发明的第二方面，本发明还提供了一种支持发布/订阅的OPC UA多服务器聚合系统，所述系统包括OPC UA服务器、OPC UA客户端、映射配置管理中间件和OPC UA聚合服务器；所述OPC UA服务器负责连接工业现场的设备、机器、传感器，并建立相应工业网络的底层OPC UA服务器信息模型；所述OPC UA客户端以客户端/服务器通信机制访问底层OPCUA服务器，获取OPC UA地址信息列表并汇集相应的OPC UA设备数据；所述映射配置管理中间件以发布/订阅通信机制访问OPC UA服务器中OPC UA的TSN流信息；所述OPC UA聚合服务器将映射后的多个OPC UA服务器进行聚合，将底层OPC UA服务器接收的工业设备数据进行集中管控并向上为OPC UA客户端提供信息转发。本发明的有益效果：本发明为大规模工业自动化生产系统提供了一种支持OPC UA发布/订阅机制的多源网络OPC UA服务器数据互联互通、高实时性、安全可靠的数据交互方案。即利用OPC UA聚合服务器实现多源网络OPC UA服务器聚合，并在TSN网络的工业系统中实现OPC UA发布/订阅信息模型与OPC UA聚合服务器信息模型的自动映射，为OPC UA的发布/订阅通信提高了实时能力，在一定程度上解决了OPC UA服务器信息模型在映射过程中数据冗杂、信息模型混乱的问题，同时也有效解决C/S通信模式和TSN网络下Pub/Sub通信模式共存工业现场下多种混合数据的集中管控困难问题。附图说明图1是本发明实施例中的一种支持发布/订阅的OPC UA多服务器聚合系统结构图；图2是本发明实施例中的一种支持发布/订阅的OPC UA多服务器聚合方法流程图；图3是本发明优选实施例的一种支持发布/订阅的OPC UA多服务器聚合方法流程图；图4是本发明实施例中OPC UA服务器的发现流程图；图5是本发明实施例中所述OPC UA聚合服务器的运行流程图；图6是本发明实施例中映射示例图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。图1为本发明实施例中的一种支持发布/订阅的OPC UA多服务器聚合系统结构图。如图1所示，所述系统包括OPC UA服务器、OPC UA客户端、映射配置管理中间件和OPC UA聚合服务器；所述OPC UA服务器负责连接底层工业现场的设备、机器、传感器，并建立相应工业网络的OPC UA信息模型；所述OPC UA客户端以客户端/服务器通信机制访问所述OPC UA服务器获取OPC UA地址信息列表并汇集相应的OPC UA设备数据；所述映射配置管理中间件以发布/订阅通信机制访问OPC UA服务器相应OPC UA设备数据和TSN流信息，并实现OPC UA发布/订阅通信模型与TSN流的映射；所述OPC UA聚合服务器将映射后的多个OPC UA服务器进行聚合，并能将底层的工业设备所传输的数据进行集中管控并向上为OPC UA客户端提供信息无缝转发。在本发明中，所述系统中OPC UA服务器负责连接工业现场的设备、机器、传感器并建立相应工业网络的底层OPC UA信息模型，在TSN网络当中，OPC UA服务器以Talker和Listener命名，这里的Talker和Listener是指的在服务器通信过程中作为发送方和作为接收方的对象属性。所述用户终端站#A和用户终端站#B作为构成支持OPC UA发布/订阅机制的多服务器聚合系统的一部分，本发明实施例中的用户终端站可以有多个，图中只是为了区分发送和接受数据流的方向。每个用户终端站包含多个OPC UA服务器，每个用户作为发送方或者接收方，且对应一个OPC UA服务器。用户终端站#A作为数据发送方终端站，将发送方OPC UA服务器中数据通过协议器发出，流经TSN交换机，用户终端站#B中协调器负责接收发送方OPC UA服务器中的数据，然后再下发到用户终端站#B的OPC UA服务器。所述OPC UA聚合服务器由设备自动发现模块、通信接口模块、管理配置模块、聚合数据模块组成。所述设备自动发现模块负责登记底层OPC UA服务器的注册信息；所述通信接口模块负责对上与上层的OPC UA客户端建立连接，对下与底层OPC UA服务器建立连接；所述管理配置模块负责传输与管理来自底层OPC UA服务器的数据，以及完成底层OPC UA服务器地址空间中的节点数据映射与数据聚合；所述聚合数据模块负责收集映射后的OPC UA数据信息并进行数据缓存。图2是本发明实施例中一种支持发布/订阅的OPC UA多服务器聚合方法具体流程图，如图2所示，所述方法包括：S1：底层OPC UA服务器向OPC UA聚合服务器中的设备自动发现模块进行登记并注册；在本发明实施例中，底层的OPC UA服务器首先需要向OPC UA聚合服务器中的设备自动发现模块进行登记注册，使得该OPC UA聚合服务器具有该OPC UA服务器的信息。具体的，所述OPC UA聚合服务器中的设备自动发现模块创建出OPC UA发现服务器，并对所述OPC UA发现服务器进行初始化配置；配置完成后使所述OPC UA发现服务器具有多播发现功能；判断是否有新的OPC UA服务器向所述OPC UA发现服务器进行主动注册，若没有新的OPC UA服务器主动注册，则等待注册，若有新的OPC UA服务器进行主动注册，则提取新的OPC UA服务器的URL信息，该新的OPC UA服务器调用函数向OPC UA发现服务器注册；注册完成后，在OPC UA聚合服务器中的设备自动发现模块中创建OPC UA发现客户端并调用函数查看已经登记的OPC UA服务器；登记完成后，关闭并删除OPC UA发现客户端，等待一段时间后关闭并删除OPC UA发现服务器。S2：已登记注册的OPC UA服务器通过发布/订阅通信机制或客户端/服务器通信机制，将数据流传输到OPC UA聚合服务器；在本发明实施例中，已登记注册的OPC UA服务器OPC需要通过发布/订阅通信机制或客户端/服务器通信机制与OPC UA聚合服务器进行数据通信；用户终端站中的OPC UA服务器获取TSN网络现场设备数据，并构建TSN网络的OPC UA信息模型和通信模型；用户终端站中的OPC UA服务器以发布者/订阅着模式向映射配置管理中间件发送将要被聚合的基于OPC UA的TSN流信息，所述TSN流信息包括TSN网络配置所需要的配置信息以及该网络下的实时工业现场数据信息，映射配置管理中间进一步把收集到的基于OPC UA的TSN流信息发送给OPC UA聚合服务器。S3：OPC UA聚合服务器根据映射规则，将已登记注册的OPC UA服务器信息模型映射到OPC UA聚合服务器信息模型之中；在本发明实施例中，OPC UA聚合服务器与已登记注册的OPC UA服务器建立连接，并为OPC UA聚合服务器地址空间初始化映射后需要的节点类型以及对象节点之间的引用关系；OPC UA聚合服务器在其地址空间中为每一个节点建立唯一标识；将具有相同属性的类型节点进行统一表示；将OPC UA聚合服务器信息模型扩展为多个OPC UA信息模型对象的集合，对所有底层OPC UA服务器对象引用相同的对象类型并实例化。该映射规则在一定程度上解决了底层OPC UA服务器映射信息模型到OPC UA聚合服务器信息模型的复杂度，同时也有效解决了OPC UA服务器信息模型在映射过程中数据冗杂、信息模型混乱的问题，统一了底层OPC UA信息模型的表示，提高了数据的可观性。S4：OPC UA聚合服务器根据聚合算法，将映射后的多个OPC UA服务器进行聚合。在本发明实施例中，OPC UA聚合服务器收集到客户端/服务器通信机制下或/和发布/订阅通信机制下的数据后，采用数据先进先出和数据最大生存时间的结合算法对所述数据进行缓存，并在映射后的OPC UA服务器对象的变量中设置数据生存标志位；每个被聚合的底层OPC UA服务器的命名空间都按照“％A％B:NamespaceURI”的格式进行重新命名，保留被聚合的节点底层OPC UA服务器的节点ID，若节点ID重复，则将命名空间索引根据OPCUA聚合服务器的命名空间表分配；类型节点只需要创建一次，当非分层引用不涉及类型定义时，在OPC UA聚合服务器中重新创建一个节点，该节点具有与OPC UA服务器上的节点相同的NodeClass、节点ID和属性；其中“％A”表示聚合顺序，“％B”表示该命名空间在其原始命名空间表中的索引；namespaceURI表示属性设置或返回属性的命名空间URI，命名空间表中存放由OPC UA聚合服务器所创建的顺序值命名空间索引。该聚合方式在一定程度上解决工业控制子系统与OPC UA聚合服务器频繁通信和工业控制子系统设备连接数量大所造成通信效率低的问题，为OPC UA的发布/订阅通信提高了实时能力，解决C/S通信模式和TSN网络下Pub/Sub通信模式共存工业现场下多种混合数据集中管控困难问题。图3是本发明优选实施例中一种支持发布/订阅的OPC UA多服务器聚合方法具体流程图，如图3所示，所述方法包括：101、工业设备的OPC UA服务器连接并获取实时的设备的数据，并建立相应工业网络的OPC UA信息模型；工业现场设备中的OPC UA服务器，首先连接并获取所处工业网络的实时的设备的数据，并建立基于该工业网络下的OPC UA信息模型，并将实时的设备的数据存放在信息模型当中。信息建模通过预定义的XML文件来导入，通过函数调用实时更新信息模型的写入值，从而实现数据与信息模型的动态绑定。102、OPC UA服务器主动向OPC UA发现服务器注册，OPC UA发现服务器注册表记录所有已登记的Server信息；图4是本发明实施例中OPC UA服务器发现流程图，如图4所示，该过程主要包括OPCUA服务器发现服务器的创建、新的OPC UA服务器主动注册、OPC UA发现客户端的创建、OPCUA发现客户端的遍历。在该运行过程中，首先需要创建OPC UA发现服务器，并对OPC UA发现服务器进行初始化配置；配置完成后使OPC UA发现服务器具有多播发现功能；然后判断是否有新的服务器向发现服务器主动注册，若没有新的服务器主动注册，则等待注册，若有新的服务器主动注册，则提取新的OPC UA服务器的URL信息，新的OPC UA服务器调用findServersOnNetwork函数向OPC UA发现服务器注册自己；在注册完成，创建OPC UA发现客户端并调用findServersOnNetwork函数查看已经登记的OPC UA服务器；登记完成后，关闭并删除OPC UA发现客户端，随后关闭并删除OPC UA发现服务器。103、OPC UA聚合服务器主动获取以客户端/服务器通信机制和发布/订阅通信机制下已登记的OPC UA服务器地址空间节点的数据；图5是本发明实施例中所述OPC UA聚合服务器的运行流程图，如图5所示，其运行过程首先要创建OPC UA聚合服务器并初始化服务器地址空间，为其地址空间添加需要的类型节点与引用关系；然后启动OPC UA服务器并且利用多线程机制初始化多个OPC UA客户端；判断signal函数是否接收到停止信号，若未接收到停止信号，则调用回调函数去获取OPC UA服务器的URL信息，并利用初始化的OPC UA客户端根据URL信息与OPC UA服务器连接，随后读取OPC UA服务器相关设备数据信息，OPC UA客户端将设备数据信息写入到OPCUA聚合服务器，根据OPC UA聚合服务器映射规则和相应的聚合算法完成数据映射，继续判断是否接收到停止信号；若接收到停止信号，则立即释放OPC UA聚合服务器地址空间并关闭OPC UA聚合服务器。104、通过OPC UA聚合服务器映射规则和相应的聚合算法将不同通信机制下OPCUA服务器地址空间中的节点数据映射到统一的地址空间中；图6是本发明实施例中映射示例图，如图6所示，OPC UA聚合服务器由自动发现模块、通信接口模块、管理配置模块、聚合数据模块等多部分组成。设备自动发现模块内含OPCUA发现服务器和OPC UA发现客户端，所述的OPC UA发现服务器负责记录所有已登记的Server信息的注册表，所述的OPC UA发现客户端负责查询OPC UA发现服务器中目标OPC UA服务器是否存在，如果存在则将目标OPC UA服务器聚合；OPC UA聚合服务器通信接口模块负责对上与上层的OPC UA客户端建立连接，可以由多个OPC UA客户端连接一个OPC UA聚合服务器，对下与底层的OPC UA服务器建立连接；管理配置模块负责传输与管理来自底层OPCUA服务器的数据，在收集来自OPC UA客户端和映射配置管理中间件的OPC UA数据后首先要根据定义映射规则完成设备OPC UA服务器地址空间中的节点数据映射，然后根据聚合算法设备OPC UA服务器地址空间和数据聚合，再将聚合后的数据传输到聚合数据模块；聚合数据模块负责收集映射后的OPC UA数据信息并进行数据缓存。OPC UA聚合服务器映射规则包括以下部分：OPC UA聚合服务器与底层OPC UA服务器建立连接，并为OPC UA聚合服务器地址空间初始化映射后需要的节点类型以及对象节点之间的引用关系；OPC UA聚合服务器创建并初始化与底层OPC UA服务器数量一致的OPC UA客户端，所述每个OPC UA客户端根据URL连接底层OPC UA服务器，并获取对应的底层OPC UA服务器数据，将收集到的所有数据流映射到OPC UA聚合服务器地址空间之中；底层OPC UA服务器负责创建该网络下的OPC UA节点信息模型，节点相关的映射信息以及配置由OPC UA聚合服务器管理配置模块来完成；不同底层OPC UA服务器包含语义相同和标识相同的节点，在将节点映射后，OPCUA聚合服务器在地址空间中为每一个节点建立唯一标识；不同底层OPC UA服务器的节点的信息模型所定义和使用到相同引用类型、对象类型、数据类型，在映射后具有相同属性的类型将以统一的类型来表示；聚合后的OPC UA信息模型扩展为多个OPC UA信息模型对象的集合，所有底层OPCUA服务器对象引用相同的对象类型并实例化。OPC UA聚合服务器该地址空间复制所有底层OPC UA服务器的地址空间，完成不同底层OPC UA服务器中具有相同NodeId标识符和属性的所有节点和引用的映射，并且维护原始底层OPC UA服务器信息模型节点与节点之间的分层和非分层关系，为向上层客户端提供一个结构完整的地址空间。聚合算法包括以下部分：在所述方法中，OPC UA聚合服务器收集到客户端/服务器通信机制下和发布/订阅通信机制下的数据，由聚合数据模块进行数据缓存，采用数据先进先出和数据最大生存时间的结合算法，并在底层OPC UA服务器对象的变量中设置数据生存标志位；其中，数据先进先出：最先进入缓存的数据最先舍弃该数据；数据最大生存时间：设计节点数据在缓存区的最大生存时间，若超过这个时间节点数据未更新，则判断底层OPC UA服务器断开，舍弃该数据。每个被聚合的底层OPC UA服务器的命名空间都按照“％A％B:NamespaceURI”的格式进行重新命名，其中“％A”表示聚合顺序，“％B”表示该命名空间在其原始命名空间表中的索引；尽可能保留被聚合的节点底层OPC UA服务器的NodeId，如果NodeId重复则命名空间索引根据聚合服务器的命名空间表分配；类型节点只需要创建一次，当非分层引用不涉及类型定义时，在聚合服务器中重新创建一个节点，该节点具有与OPC UA服务器上的节点相同的NodeClass、NodeId和属性。105、建立工业系统控制子系统和基于TSN的工业系统控制子系统的混合动态数据信息模型，并向上为OPC UA客户端通信连接、数据交互请求。在本实施例中，通过建立以客户端/服务器通信机制为核心的工业控制子系统，以及建立以订阅/发布通信机制为核心的支持TSN的工业系统控制子系统，将两种控制子系统共同形成混合动态信息模型，能够充分发挥两种通信机制的优势，从而让OPC UA服务器数据实现互联互通、高实时性、安全可靠的数据交互。可以理解的是，本发明的一种支持发布/订阅的OPC UA多服务器聚合方法以及一种支持发布/订阅的OPC UA多服务器聚合属于本发明的同一构思，所以两者的特征可以相互引用，本发明就不再一一赘述。在本发明的描述中，需要理解的是，术语“同轴”、“底部”、“一端”、“顶部”、“中部”、“另一端”、“上”、“一侧”、“顶部”、“内”、“外”、“前部”、“中央”、“两端”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。在本发明中，除非另有明确的规定和限定，术语“安装”、“设置”、“连接”、“固定”、“旋转”等术语应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或成一体；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通或两个元件的相互作用关系，除非另有明确的限定，对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。尽管已经示出和描述了本发明的实施例，对于本领域的普通技术人员而言，可以理解在不脱离本发明的原理和精神的情况下可以对这些实施例进行多种变化、修改、替换和变型，本发明的范围由所附权利要求及其等同物限定。
