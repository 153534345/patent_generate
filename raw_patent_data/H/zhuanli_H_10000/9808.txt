标题title
一种基于量子保密通信的网络架构及并行密钥读取方法
摘要abst
本发明公开了一种基于量子保密通信的网络架构及并行密钥读取方法，该方法在单个节点KM中，对后续待读取的密钥索引提前进行分组，然后将分组信息分别提交给线程池的每个线程，宏观上进行并行处理，将获得不同组的密钥信息缓冲起来；利用KMS，将中继路由表信息分别下发到各个中间节点，在各中间节点KM中实现并行进行密钥读取的操作。以上两点均是并行密钥读取的方法，该方法提高了量子保密通信网络中密钥中继的效率。
权利要求书clms
1.一种基于量子保密通信的网络架构，其特征在于：包括发送端ALICE，接收端Bob，密钥管理服务器KMS和多个中继节点KM，多个中继节点KM分别与KMS通过经典网络连接，所述KMS用于为中继节点KM下发密钥的生成指令和路由拓扑信息；所述发送端ALICE用于产生量子密钥，并将产生的量子密钥依次通过各个中继节点KM进行中继，最后由接收端Bob接收；所述各个KM之间通过经典网络进行密钥的传输，实现该中继节点的密钥转发；所述KMS用于将中继路由表信息分别下发到各个中间节点KM，在各中间节点KM中实现并行进行密钥读取的操作；所述中继节点KM包括主控模块、密钥存储模块、线程池、密钥缓冲列队和解析处理模块，所述密钥存储模块、线程池、密钥缓冲列队和解析处理模块分别与主控模块连接；所述中继节点KM接收发送端ALIC产生的量子密钥信息后，在所述密钥存储模块存储并通过所述主控模块中进行判断，对于大于第二阈值thre2的信息按照密钥存储时的索引号进行分组；分组后的信息提交给线程池，所述线程池的多个线程并行的进行密钥读取操作，对线程池的多个线程返回的密钥结果由解析处理模块进行解析处理，处理后的结果按照索引号进行排序并根据排序结果依次放入缓冲队列中进行缓存。2.如权利要求1所述的一种基于量子保密通信的网络架构，其特征在于，所述第二阈值thre2的取值范围是：1M Byte＜thre2＜5M Byte。3.一种基于量子保密通信网络并行密钥读取的方法，其特征在于，该方法应用了在如权利要求1所述的网络架构中，该方法步骤如下：首先在KM内进行对密钥信息进行并行处理，步骤如下：步骤S1-1：主控模块读取密钥管理中当前密钥缓冲队列的密钥值，当前的缓冲队列是从数据库读取到的内存中未使用部分的密钥信息K；步骤S1-2：KM判断当前缓冲密钥值是否小于第一阈值，所述第一阈值表示缓冲队列的最大值，第一阈值通过配置文件或者客户端软件进行修改设置；步骤S1-3：如果不小于第一阈值thre1，休眠片刻时间T1，然后再跳转到步骤3；步骤S1-4：如果小于第一阈值thre1，则获取KM获取本地存储模块内存储的密钥量K1；步骤S1-5：KM根据步骤4获取的密钥量K1来判断存储的密钥量是否大于第二阈值，所述第二阈值表示一次并行读取的密钥量，通过配置文件或者客户端软件进行修改设置；步骤S1-6：如果不大于第二阈值thre2，休眠片刻时间T2，然后再跳转到步骤4；步骤S1-7：如果大于第二阈值thre2，则对待读取的密钥量K1进行分组，按照密钥存储时的索引号进行分组，每十个索引号作为一组，共分为十组；步骤S1-8：依次将分组信息提交给线程池的多个线程；步骤S1-9：线程池的多个线程并行的进行密钥读取操作；步骤S1-10：对线程池的多个线程返回的密钥结果由解析处理模块进行解析处理的得到密钥结果K2；步骤S1-11：根据待读取密钥量的索引号对读取的密钥结果K2进行排序，按照存储模块存储时的索引号进行排序；步骤S1-12：根据排序结果依次放入缓冲队列；步骤S1-13：检查KM是否出现异常或者系统是否需要退出；步骤S1-14：如果是，该方法处理流程结束；步骤S1-15：如果否，再跳转到步骤1，重新开始执行。4.如权利要求2所述的一种基于量子保密通信网络并行密钥读取的方法，其特征在于，所述第一阈值thre1的取值范围是100K Byte＜thre1＜1M Byte。5.如权利要求2所述的一种基于量子保密通信网络并行密钥读取的方法，其特征在于，所述第二阈值thre2的取值范围是1M Byte＜thre2＜5M Byte。6.如权利要求2所述的一种基于量子保密通信网络并行密钥读取的方法，其特征在于，所述时间T1取值范围均为：1＜T1＜5。7.如权利要求2所述的一种基于量子保密通信网络并行密钥读取的方法，其特征在于，所述时间T2取值范围均为：1＜T2＜5。8.如权利要求2所述的一种基于量子保密通信网络并行密钥读取的方法，其特征在于，在KMS的集中控制下，多个节点内KM进行并行密钥读取的方法如下：步骤A：Alice向KMS发送指令信息，所述指令信息包括密钥传输始发点和目的地；步骤B：KMS接收到信息后，计算路由信息并生成路由表；步骤C：KMS并行下发密钥读取命令到所有需要经过的中继节点KM；步骤D：每个中继节点KM接收到KMS下发的指令后，按照步骤S1-1到S1-15的操作方式进行多个中继节点KM内部并行的密钥读取；步骤E：中继节点KM在密钥中继过程中，直接通过各节点的缓冲队列获取密钥；步骤F：通过KMS的集中控制下，密钥中继经过的中继节点KM进行并行密钥读取。
说明书desc
技术领域本发明涉及量子保密通信与量子网络领域，具体涉及一种基于量子保密通信的网络架构及并行密钥读取方法。背景技术量子通信是利用量子叠加态和纠缠效应进行信息传递的新型通信方式，它是近二十年发展起来的新型交叉学科，属于量子论和信息论相结合的新的研究领域。由于我国政府的高度重视，近几年量子通信这门学科已逐步从理论走向实现，并向工程化方向发展。由于它利用了物理的特性，理论上能够达到传输数据的绝对安全，受到了人们的高度关注。量子保密通信网络主要由QKD终端设备、密钥管理终端设备和密钥管理服务器组成，用于密钥生成及分发。由于受信道部署成本及量子通信距离的限制，无法实现基于网络内的任意节点间量子信道的搭建，为了能够实现任意节点都能实现密钥的传输共享，主要采用密钥中继的方式来实现密钥分发。它主要的原理就是利用相邻节点间共享QKD生成的对称量子密钥，利用这些对称量子密钥对需要中继的密钥进行加密解密操作，进而实现了中继密钥在多个中继节点之间的逐个传输，最终到达目的终端用户，同时也满足了任意距离的节点间通信。密钥中继方式最早是由BBN的Elliott提出，其基本思想是利用相邻节点间共享的量子密钥，对中继密钥进行加解密，实现中继密钥在一个或多个中继节点之间的加密中转，最终到达目的用户。在进行密钥中继过程中，经过的每个节点都需要进行密钥读取的操作，如何密钥读取的不合理，就会影响密钥中继的效率，因此针对密钥中继过程中这一频繁的密钥读取的操作而带来的时间消耗，提出了一种基于量子保密通信网络架构中并行的密钥读取的方法。基于量子保密通信网络架构，密钥读取的操作主要出现在密钥中继的过程。密钥中继传输时，中继密钥每到达一个节点KM都需要执行密钥读取的操作，很显然这一操作是一个完全串行的过程，极度的浪费时间，降低密钥中继的效率。在单个节点KM中，每次根据中继密钥的需要读取对应的密钥量，如果持续执行密钥中继的话，KM会频繁切换CPU资源来执行数据库操作，严重影响了各节点中KM的性能。因此有待对现有技术进行进一步地改进，以提高密钥中继的效果和改善KM的性能。发明内容为了解决上述技术问题，提出了一种量子中继效率高，成本低的量子保密通信网络中继节点密钥存储方法。为实现上述目的，本发明采取的技术方案如下：一种基于量子保密通信的网络架构，包括发送端ALICE，接收端Bob，密钥管理服务器KMS和多个中继节点KM，多个中继节点KM分别与KMS通过经典网络连接，所述KMS用于为中继节点KM下发密钥的生成指令和路由拓扑信息；所述发送端ALICE用于产生量子密钥，并将产生的量子密钥依次通过各个中继节点KM进行中继，最后由接收端Bob接收；所述各个KM之间通过经典网络进行密钥的传输，实现该中继节点的密钥转发；所述KMS用于将中继路由表信息分别下发到各个中间节点KM，在各中间节点KM中实现并行进行密钥读取的操作；所述中继节点KM包括主控模块、密钥存储模块、线程池、密钥缓冲列队和解析处理模块，所述密钥存储模块、线程池、密钥缓冲列队和解析处理模块分别与主控模块连接；所述中继节点KM接收发送端ALIC产生的量子密钥信息后，在所述密钥存储模块存储并通过所述主控模块中进行判断，对于大于第二阈值thre2的信息按照密钥存储时的索引号进行分组；分组后的信息提交给线程池，所述线程池的多个线程并行的进行密钥读取操作，对线程池的多个线程返回的密钥结果由解析处理模块进行解析处理，处理后的结果按照索引号进行排序并根据排序结果依次放入缓冲队列中进行缓存。优选地，所述第二阈值thre2的取值范围是：1M Byte＜thre2＜5M Byte。一种基于量子保密通信网络并行密钥读取的方法，该方法应用了上述所述的网络架构中，该方法步骤如下：首先在KM内进行对密钥信息进行并行处理，步骤如下：步骤S1-1：主控模块读取密钥管理中当前密钥缓冲队列的密钥值，当前的缓冲队列是从数据库读取到的内存中未使用部分的密钥信息K；步骤S1-2：KM判断当前缓冲密钥值是否小于第一阈值，所述第一阈值表示缓冲队列的最大值，第一阈值通过配置文件或者客户端软件进行修改设置；步骤S1-3：如果不小于第一阈值thre1，休眠片刻时间T1，然后再跳转到步骤3；步骤S1-4：如果小于第一阈值thre1，则获取KM获取本地存储模块内存储的密钥量K1；步骤S1-5：KM根据步骤4获取的密钥量K1来判断存储的密钥量是否大于第二阈值，所述第二阈值表示一次并行读取的密钥量，通过配置文件或者客户端软件进行修改设置；步骤S1-6：如果不大于第二阈值thre2，休眠片刻时间T2，然后再跳转到步骤4；步骤S1-7：如果大于第二阈值thre2，则对待读取的密钥量K1进行分组，按照密钥存储时的索引号进行分组，每十个索引号作为一组，共分为十组；步骤S1-8：依次将分组信息提交给线程池的多个线程；步骤S1-9：线程池的多个线程并行的进行密钥读取操作；步骤S1-10：对线程池的多个线程返回的密钥结果由解析处理模块进行解析处理的得到密钥结果K2；步骤S1-11：根据待读取密钥量的索引号对读取的密钥结果K2进行排序，按照存储模块存储时的索引号进行排序；步骤S1-12：根据排序结果依次放入缓冲队列；步骤S1-13：检查KM是否出现异常或者系统是否需要退出；步骤S1-14：如果是，该方法处理流程结束；步骤S1-15：如果否，再跳转到步骤1，重新开始执行。优选地，所述第一阈值thre1的取值范围是100K Byte＜thre1＜1M Byte。优选地，所述第二阈值thre2的取值范围是1M Byte＜thre2＜5M Byte。优选地，所述时间T1取值范围均为：1＜T1＜5。优选地，所述时间T2取值范围均为：1＜T2＜5。优选地，在KMS的集中控制下，多个节点内KM进行并行密钥读取的方法如下：步骤A：Alice向KMS发送指令信息，所述指令信息包括密钥传输始发点和目的地；步骤B：KMS接收到信息后，计算路由信息并生成路由表；步骤C：KMS并行下发密钥读取命令到所有需要经过的中继节点KM；步骤D：每个中继节点KM接收到KMS下发的指令后，按照步骤S1-1到S1-15的操作方式进行多个中继节点KM内部并行的密钥读取；步骤E：中继节点KM在密钥中继过程中，直接通过各节点的缓冲队列获取密钥；步骤F：通过KMS的集中控制下，密钥中继经过的中继节点KM进行并行密钥读取。本发明有益的技术效果：本发明在单个中继节点KM中，对后续待读取的密钥索引提前进行分组，然后将分组信息分别提交给线程池的每个线程，宏观上进行并行处理，将获得不同组的密钥信息缓冲起来；利用KMS，将中继路由表信息分别下发到各个中间节点，在各中间节点KM中实现并行进行密钥读取的操作。以上两点均是并行密钥读取的方法，大大提高了量子保密通信网络中密钥中继的效率。附图说明图1为本发明量子保密通信网络架构图；图2为本发明一种基于量子保密通信的网络架构及并行密钥读取方法步骤流程图；图3为本发明中多个节点内KM进行并行密钥读取的方法步骤流程图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合实施例对本发明进行进一步详细说明，但本发明要求保护的范围并不局限于下述具体实施例。如图1所示，一种基于量子保密通信的网络架构，包括发送端ALICE，接收端Bob，密钥管理服务器KMS和多个中继节点KM，多个中继节点KM分别与KMS通过经典网络连接；所述KMS用于为中继节点KM下发密钥的生成指令和路由拓扑信息；所述发送端ALICE用于产生量子密钥，并将产生的量子密钥依次通过各个中继节点KM进行中继，最后由接收端Bob接收；所述各个KM之间通过经典网络进行密钥的加密传输，实现该中继节点的密钥转发；所述KMS用于将中继路由表信息分别下发到各个中间节点KM，在各中间节点KM中实现并行进行密钥读取的操作；所述中继节点KM包括主控模块、密钥存储模块、线程池、密钥缓冲列队和解析处理模块，所述密钥存储模块、线程池、密钥缓冲列队和解析处理模块分别与主控模块连接；所述中继节点KM接收发送端ALICE产生的量子密钥信息后，在所述密钥存储模块存储并通过所述主控模块中进行判断，对于大于第二阈值thre2的信息按照密钥存储时的索引号进行分组，这里的索引号是密钥存储模块中预先存储的；分组后的信息提交给线程池，所述线程池的多个线程并行的进行密钥读取操作，对线程池的多个线程返回的密钥结果由解析处理模块进行解析处理，处理后的结果按照索引号进行排序并根据排序结果依次放入缓冲队列中进行缓存。如图2-3所示，一种基于量子保密通信的网络架构及并行密钥读取方法，该方法应用了在上述网络架构中，该方法步骤如下：首先在KM内对密钥信息进行并行处理，步骤如下：步骤S1-1：主控模块读取密钥管理中当前密钥缓冲队列的密钥值，当前的缓冲队列是从数据库读取到的内存中未使用部分的密钥信息K；步骤S1-2：KM判断当前缓冲密钥值是否小于第一阈值thre1，所述第一阈值thre1表示缓冲队列的最大值，thre1通过配置文件或者客户端软件进行修改设置；步骤S1-3：如果不小于thre1，休眠片刻时间T1，待缓冲队列的密钥经过密钥中继等操作使用一些后，然后再跳转到步骤S1-1；步骤S1-4：如果小于thre1，则KM获取本地存储模块内存储的密钥量K1；步骤S1-5：KM根据步骤S1-4获取的密钥量K1来判断存储的密钥量是否大于第二阈值thre2，所述thre2表示一次并行读取的密钥量，通过配置文件或者客户端软件进行修改设置；步骤S1-6：如果不大于thre2，休眠片刻时间T2，然后再跳转到步骤4；步骤S1-7：如果大于thre2，则对待读取的密钥量K1进行分组，按照密钥存储时的索引号进行分组，每十个索引号作为一组，共分为十组；步骤S1-8：依次将分组信息提交给线程池的多个线程；步骤S1-9：线程池的多个线程并行的进行密钥读取操作，多个线程对应不同的分组进行并行读取；步骤S1-10：对线程池的多个线程返回的密钥结果解析由键值对映射方式得到密钥结果K2，其中解析是通由键值对映射方式得到密钥结果。步骤S1-11：根据待读取密钥量的索引号对读取的密钥结果K2进行排序，按照存储模块存储时的索引号进行排序；步骤S1-12：根据排序结果依次放入缓冲队列，这里缓冲操作的目的是将磁盘数据读取到内存中，提高密钥加解密速度；步骤S1-13：检查KM是否出现异常或者系统是否需要退出；步骤S1-14：如果是，该方法处理流程结束；步骤S1-15：如果否，再跳转到步骤1，重新开始执行。在KMS的集中控制下，多个节点内KM进行并行密钥读取的方法如下：步骤A：Alice向KMS发送指令信息，所述指令信息包括密钥传输始发点和目的地；步骤B：KMS接收到信息后，计算路由信息并生成路由表；步骤C：KMS并行下发密钥读取命令到所有需要经过的中继节点KM；步骤D：每个中继节点KM接收到KMS下发的指令后，按照步骤S1-1到S1-15的操作方式进行多个中继节点KM内部并行的密钥读取；步骤E：中继节点KM在密钥中继过程中，直接通过各节点KM的缓冲队列获取密钥，进行密钥的异或操作；步骤F：通过KMS的集中控制下，密钥中继经过的中继节点KM进行并行密钥读取。本发明有益的技术效果：在单个节点KM中，首先对待读取的密钥按照索引号提前进行分组；然后将分组信息分别提交给线程池的多个线程进行密钥读取，最后将读取的密钥进行缓存处理；利用KMS，在密钥中继过程中，首先由KMS生成路由表，然后将路由表信息下发到各个中继节点，最后实现各个中继节点并行的进行密钥读取。以上两点均是并行密钥读取的方法，该方法提高了量子保密通信网络中密钥中继的效率。根据上述说明书的揭示和教导，本发明所属领域的技术人员还可以对上述实施方式进行变更和修改。因此，本发明并不局限于上面揭示和描述的具体实施方式，对发明的一些修改和变更也应当落入本发明的权利要求的保护范围内。此外，尽管本说明书中使用了一些特定的术语，但这些术语只是为了方便说明，并不对发明构成任何限制。
