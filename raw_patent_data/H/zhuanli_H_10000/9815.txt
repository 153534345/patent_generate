标题title
图像白平衡方法、电子设备及计算机可读存储介质
摘要abst
本申请公开了图像白平衡方法、电子设备及计算机可读存储介质，所述图像白平衡方法包括：依据混合色温场景对应的白平衡灰区，对拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到低色温校正图像和高色温校正图像；将低色温校正图像和高色温校正图像转换至LAB颜色空间，得到低色温的第一转换图像和高色温的第二转换图像；依据预设权重平滑映射函数，对第一转换图像或者第二转换图像的像素值进行平滑映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系；依据融合权重矩阵，将第一转换图像和第二转换图像加权融合为目标白平衡图像。本申请解决了现有技术中混合色温场景下图像白平衡效果差的技术问题。
权利要求书clms
1.一种图像白平衡方法，其特征在于，所述图像白平衡方法包括：获取混合色温场景下的拍摄图像；依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像；将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像；依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系；依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。2.如权利要求1所述图像白平衡方法，其特征在于，所述依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵的步骤包括：提取所述第一转换图像的B通道图像，得到第一取参图像；依据所述预设权重平滑映射函数，将所述第一取参图像对应的像素值矩阵映射为所述融合权重矩阵。3.如权利要求1所述图像白平衡方法，其特征在于，所述依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像的步骤包括：提取所述第二转换图像的B通道图像，获得第二取参图像；依据所述预设权重平滑映射函数，将所述第二取参图像对应的像素矩阵转换为蓝色保持权重矩阵，所述蓝色保持权重矩阵用于保持所述目标白平衡图像中蓝色系的真实性；基于所述融合权重矩阵和所述蓝色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。4.如权利要求3所述图像白平衡方法，其特征在于，所述基于所述融合权重矩阵和所述蓝色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像的步骤包括：将所述高色温校正图像转换至HSV颜色空间，得到第三转换图像；提取所述第三转换图像的饱和度通道图像，依据所述预设权重平滑映射函数，将所述饱和度通道图像对应的像素矩阵映射为饱和度系数矩阵，所述饱和度系数矩阵用于保持所述目标白平衡图像中蓝色系的颜色饱和度；依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。5.如权利要求4所述图像白平衡方法，其特征在于，所述依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像的步骤包括：提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；依据所述第一取参图像的像素值大小分布以及所述第三取参图像的像素值大小分布，在所述第一取参图像中选取皮肤区域对应的各皮肤区域像素值；依据所述预设权重平滑映射函数和各所述皮肤区域像素值，构建皮肤颜色保持权重矩阵，所述皮肤颜色保持权重矩阵用于保证所述目标白平衡图像中的皮肤颜色正常成像；依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵以及所述皮肤颜色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。6.如权利要求5所述图像白平衡方法，其特征在于，所述依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵以及所述皮肤颜色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像的步骤包括：依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；将所述待修正像素点对应的像素值映射为颜色修正系数；依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵、所述皮肤颜色保持权重矩阵以及所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。7.如权利要求4所述图像白平衡方法，其特征在于，所述依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像的步骤包括：提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；将所述待修正像素点对应的像素值映射为颜色修正系数；依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；依据所述融合权重矩阵、所述蓝色保持权重矩阵、所述饱和度系数矩阵和所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。8.如权利要求1所述图像白平衡方法，其特征在于，所述依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像的步骤包括：提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；依据所述第一取参图像的像素值大小分布以及所述第三取参图像的像素值大小分布，在所述第一取参图像中选取皮肤区域对应的各皮肤区域像素值；依据所述预设权重平滑映射函数和各所述皮肤区域像素值，构建皮肤颜色保持权重矩阵，所述皮肤颜色保持权重矩阵用于保证所述目标白平衡图像中的皮肤颜色正常成像；依据所述融合权重矩阵和所述皮肤颜色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。9.如权利要求8所述图像白平衡方法，其特征在于，所述依据所述融合权重矩阵和所述皮肤颜色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像的步骤包括：依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；将所述待修正像素点对应的像素值映射为颜色修正系数；依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；依据所述融合权重矩阵、所述皮肤颜色保持权重矩阵和所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。10.如权利要求1所述图像白平衡方法，其特征在于，所述依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像的步骤包括：提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；将所述待修正像素点对应的像素值映射为颜色修正系数；依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；依据所述融合权重矩阵和所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。11.如权利要求1所述图像白平衡方法，其特征在于，所述依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像的步骤包括：获取所述拍摄图像中高色温图像区域的第一区域颜色以及所述拍摄图像中低色温图像区域的第二区域颜色；依据所述第一区域颜色，在所述白平衡灰区中确定所述高色温图像区域对应的第一色温范围；依据所述第二区域颜色，在所述白平衡灰区中确定所述低色温图像区域对应的第二色温范围；依据所第一色温范围确定的第一白平衡增益，对所述拍摄图像进行高色温白平衡校正，得到所述高色温校正图像；依据所第二色温范围确定的白平衡增益，对所述拍摄图像进行低色温白平衡校正，得到所述低色温校正图像。12.一种电子设备，其特征在于，所述电子设备包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1至11中任一项所述的图像白平衡方法的步骤。13.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有实现图像白平衡方法的程序，所述实现图像白平衡方法的程序被处理器执行以实现如权利要求1至11中任一项所述图像白平衡方法的步骤。
说明书desc
技术领域本申请涉及图像处理技术领域，尤其涉及一种图像白平衡方法、电子设备及计算机可读存储介质。背景技术随着图像处理技术的不断发展，图像处理技术的应用也越来越广泛，目前，对于单色温场景下的颜色渲染问题，例如，在高色温时，图像将会被渲染为偏蓝色，在低色温时，图像会被渲染为偏黄色，可通过白平衡校正将图像还原为原先的实景颜色，但是在混合色温场景中，图像中既有高色温图像区域，也有低色温图像区域，例如，对于夜晚行驶车辆图像，车灯区域通常为高色温图像区域，颜色偏蓝，车身以及路面区域通常为低色温图像区域，颜色偏黄，此时，若直接依据高色温确定的白平衡增益对图像进行白平衡校正，将会导致图像偏黄，若直接依据低色温确定的白平衡增益对图像进行白平衡校正，将会导致图像偏蓝，使得白平衡的效果较差。发明内容本申请的主要目的在于提供一种图像白平衡方法、电子设备及计算机可读存储介质，旨在解决现有技术中混合色温场景下图像白平衡效果差的技术问题。为实现上述目的，本申请提供一种图像白平衡方法，所述图像白平衡方法包括：获取混合色温场景下的拍摄图像；依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像；将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像；依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系；依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。本申请还提供一种图像白平衡装置，所述图像白平衡装置应用于图像白平衡设备，所述图像白平衡装置包括：获取模块，用于获取混合色温场景下的拍摄图像；白平衡校正模块，用于依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像；颜色空间转换模块，用于将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像；权重映射模块，用于依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系；图像加权融合模块，用于依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。本申请还提供一种电子设备，所述电子设备为实体设备，所述电子设备包括：存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的所述图像白平衡方法的程序，所述图像白平衡方法的程序被处理器执行时可实现如上述的图像白平衡方法的步骤。本申请还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有实现图像白平衡方法的程序，所述图像白平衡方法的程序被处理器执行时实现如上述的图像白平衡方法的步骤。本申请还提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现如上述的图像白平衡方法的步骤。本申请提供了一种图像白平衡方法、电子设备及计算机可读存储介质，首先获取混合色温场景下的拍摄图像，依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像，此时，高色温校正图像偏蓝，而低色温图像偏黄，进而将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像，进而依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系，依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像，使得偏蓝的第一转换图像和偏黄的第二转换图像之间发生颜色中和，可消除拍摄图像中高色温图像区域的偏蓝现象以及低色温图像区域的偏黄现象，得到还原实景颜色的目标白平衡图像，提升了混合色温场景下图像白平衡校正的效果，且由于用于进行加权融合的融合权重矩阵由所述第一转换图像或者所述第二转换图像的像素值经预设权重平滑映射函数映射得到，使得第一转换图像和所述第二转换图像之间的色温边界可平滑过渡，能克服不同色温图像融合时的色温边界过渡不自然的问题，进一步提高了混合色温场景下图像白平衡校正的效果，所以，解决了混合色温场景下图像白平衡效果差的问题。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本申请的实施例，并与说明书一起用于解释本申请的原理。为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，对于本领域普通技术人员而言，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本申请图像白平衡方法第一实施例的流程示意图；图2为本申请图像白平衡方法中为R＝0.6，a＝0.5，b＝15，g＝15～50时，所述预设权重平滑映射函数形状示意图；图3为本申请实施例中图像白平衡方法涉及的硬件运行环境的设备结构示意图。本申请目的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式为使本发明的上述目的、特征和优点能够更加明显易懂，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述。显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动的前提下所获得的所有其它实施例，均属于本发明保护的范围。实施例一在图像拍摄时，光源通常会对图像拍摄的效果产生较大的影响，在色温较高的光源下拍摄的图像，通常颜色偏蓝，在色温较低的光源下拍摄的图像，通常颜色偏黄，所以在得到拍摄图像之后，需要对拍摄图像进行白平衡校正，以将拍摄图像的颜色还原为实景颜色。而在混合色温场景中，图像中通常同时存在高色温图像区域以及低色温图像区域，若直接依据高色温确定的白平衡增益进行白平衡校正，将会导致拍摄图像的低色温图像区域偏黄，若直接依据低色温确定的白平衡增益进行白平衡校正，将会导致拍摄图像的高色温图像区域偏黄，所以，白平衡校正的效果较差。本申请实施例提供一种图像白平衡方法，在本申请图像白平衡方法的第一实施例中，参照图1，所述图像白平衡方法包括：步骤S10，获取混合色温场景下的拍摄图像；步骤S20，依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像；步骤S30，将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像；步骤S40，依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系；步骤S50，依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。本申请实施例在获取混合色温场景下的拍摄图像之后，首先依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到依据低色温确定白平衡增益校正的低色温校正图像和依据高色温确定的白平衡增益校正的高色温校正图像；将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像，依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系，使得融合权重矩阵中的权重值与图像的像素值一一对应，而非预设一个固定的权重值，实现了依据需要进行融合的图像的像素值的分布，为需要融合的图像动态适配相匹配的融合权重矩阵的目的，所以依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，使得所述第一转换图像和所述第二转换图像之间发生颜色中和，得到还原实景颜色的目标白平衡图像，可提升混合色温场景下白平衡校正的效果。且由于预设权重平滑映射函数为平滑的映射函数，映射得到的融合权重矩阵中相邻的权重值之间不会发生突变，所以可保证目标白平衡图像中相邻像素点对应的像素值不会发生突变，相邻像素点的颜色不会发生突变，进而可保证目标白平衡图像中的混合色温边界可平滑过渡，克服了不同色温图像融合时混合色温边界过渡不自然的问题，进一步提升了混合色温场景下白平衡校正的效果。对于步骤S10，示例性的，需要说明的是，所述混合色温场景为同时具备高色温光源和低色温光源的图像拍摄场景，高色温光源覆盖的图像区域将会被渲染为偏蓝色，低色温光源覆盖的图像区域将会被渲染为偏黄色，例如假设拍摄图像为夜晚车辆行驶图像，则车灯覆盖的图像区域为高色温图像区域，呈现颜色为偏蓝，而路灯覆盖的图像区域为低色温图像区域，呈现颜色为偏黄，又例如假设拍摄图像为树荫下的人身图像，则阳光覆盖的图像区域为低色温图像区域，呈现颜色为偏黄，而非阳光覆盖的图像区域为高色温图像区域，呈现颜色为偏蓝。所述拍摄图像可以为YUV图像，其中，YUV是编译true-color颜色空间的种类，“Y”表示明亮度，也就是灰度值，“U”和“V”表示的则是色度，作用是描述影像色彩及饱和度，用于指定像素的颜色。在步骤S20之前，所述图像白平衡方法还包括：获取所述混合色温场景下的若干双色温图像，其中，所述若干双色温图像为RGB图像，进而获取若干双色温图像的色温数据，依据色温数据和若干双色温图像的像素值，绘制白平衡灰区，其中，所述若干双色温图像的像素值包括若干双色温图像的R通道图像以及B通道图像的像素值，绘制白平衡灰区的过程具体为:在R/G-B/G坐标系中绘制若干双色温图像中的多个灰点，然后将相邻的灰点两两连接为标准光源线，所述标准光源线在R/G-B/G坐标系中包围的区域即为白平衡灰区，该标准光源线上的不同色温范围则对应不同的颜色。示例性的，需要说明的是，白平衡校正的目的在于将图像中RGB三个通道的像素值校正至相对均衡，以还原图像原本的颜色，所以若拍摄图像为YUV格式的图像，则需要转换为对应的RGB图像之后，再进行白平衡校正。步骤S20，依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像，包括：将所述拍摄图像由YUV颜色空间转换至RGB颜色空间；识别所述拍摄图像中高色温图像区域的第一区域颜色以及所述拍摄图像中低色温图像区域的第二区域颜色；在所述混合色温场景下绘制的白平衡灰区下，计算所述第一区域颜色对应的白平衡增益以及所述第二区域颜色对应的白平衡增益；依据所述第一区域颜色对应的白平衡增益，对所述拍摄图像进行高色温白平衡校正，得到高色温校正图像；依据所述第二区域颜色对应的白平衡增益，对所述拍摄图像进行低色温白平衡校正，得到低色温校正图像。其中，步骤S20还包括：步骤S21，获取所述拍摄图像中高色温图像区域的第一区域颜色以及所述拍摄图像中低色温图像区域的第二区域颜色；示例性的，步骤S21包括：对所述拍摄图像进行图像分割，得到高色温图像区域和低色温图像区域；对所述高色温图像区域进行图像颜色识别，得到第一图像颜色识别标签，依据所述第一图像颜色识别标签确定第一区域颜色；对所述低色温图像区域进行图像颜色识别，得到第二图像颜色识别标签，依据所述第二图像颜色识别标签确定第二区域颜色。其中，在一种可实施的方式中，可依据拍摄图像在LAB颜色空间中B通道图像或者A通道图像的像素值，识别高色温图像区域以及低色温图像区域的颜色，在另一中可实施的方式中，可通过训练好的图像识别模型，分别对高色温图像区域以及低色温图像区域进行图像颜色识别，所述图像识别模型可以为卷积神经网络模型或者决策树模型等。步骤S22，依据所述第一区域颜色，在所述白平衡灰区中确定所述高色温图像区域对应的第一色温范围；示例性的，所述步骤S22包括：在所述白平衡灰区对应的颜色区间中查询与所述第一区间颜色最相似的高色温标准颜色，将所述高色温标准颜色对应的色温分布范围作为所述高色温图像对应的第一色温范围。步骤S23，依据所述第二区域颜色，在所述白平衡灰区中确定所述低色温图像区域对应的第二色温范围；示例性的，所述步骤S23包括：在所述白平衡灰区对应的颜色区间中查询与所述第二区间颜色最相似的低色温标准颜色，将所述低色温标准颜色对应的色温分布范围作为所述低色温图像对应的第二色温范围。步骤S24，依据所第一色温范围确定的第一白平衡增益，对所述拍摄图像进行高色温白平衡校正，得到所述高色温校正图像；示例性的，所述步骤S24包括：在所述第一色温范围内取第一色温值，依据所述第一色温值在所述白平衡灰区上对应的RGB图像像素值，计算第一白平衡增益；依据所述第一白平衡增益，对所述拍摄图像进行高色温白平衡校正，得到所述高色温校正图像。所述RGB图像像素值包括R通道图像的像素值、G通道图像的像素值以及B通道图像的像素值，而白平衡校正的目的在于使得拍摄图像中每一像素点对应的R通道图像的像素值、对应的G通道图像的像素值以及对应的B通道图像的像素值相等，可通过计算RGB图像像素值中R通道图像的像素值与G通道图像的像素值之间的比值，以及通过计算RGB图像像素值中B通道图像的像素值与G通道图像的像素值之间的比值，来获得白平衡增益。所述第一色温值可设置为所述第一色温范围内色温值的中位值、均值、最大值或者最小值。步骤S25，依据所第二色温范围确定的白平衡增益，对所述拍摄图像进行低色温白平衡校正，得到所述低色温校正图像。示例性的，步骤S25包括：在所述第二色温范围内取第二色温值，依据所述第二色温值在所述白平衡灰区上对应的RGB图像像素值，计算第二白平衡增益；依据所述第二白平衡增益，对所述拍摄图像进行低色温白平衡校正，得到所述低色温校正图像。示例性的，需要说明的是，由于高色温校正图像是依据高色温确定的白平衡增益进行白平衡校正得到的，所以高色温校正图像的低色温图像区域偏黄，而低色温校正图像是依据低色温确定的白平衡增益进行白平衡校正得到的，所以低色温校正图像的低色温图像区域偏蓝，而本申请实施例的目的在于将高色温校正图像和低色温校正图像进行融合，从而在融合过程中发生颜色中和，得到还原实景颜色的目标白平衡图像。而LAB颜色空间由L、A以及B三个要素组成，L要素表示亮度，A要素和B要素是表示颜色，其中，A要素包括的颜色是从深绿色到灰色再到亮粉红色；B要素是从亮蓝色到灰色再到黄色。由此可见，LAB颜色空间中的B通道图像的像素值可描述图像的颜色范围为亮蓝色到灰色再到黄色，刚好覆盖高色温图像中偏蓝颜色以及低色温图像中的偏黄颜色以及实景颜色中的灰色，且A通道图像和B通道图像可表示图像中的所有颜色，进而在LAB颜色空间中选取对应的像素值来决定图像融合权重，并进行图像融合，可实现依据像素值的大小，在LAB颜色空间中将高色温校正图像的偏黄颜色以及低色温校正图像中的偏蓝颜色均衡至代表实景颜色的灰色的目的，从而实现本申请实施例中还原实景颜色的图像白平衡过程。所以，本申请实施例中，需要将处于RGB颜色空间的高色温校正图像转换至LAB颜色空间，以及将处于RGB颜色空间的低色温校正图像转换至LAB颜色空间。步骤S30，将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像，包括：将所述低色温图像由RGB颜色空间转换至LAB颜色空间，得到第一转换图像；将所述高色温图像由RGB颜色空间转换为LAB颜色空间，得到第二转换图像。示例性的，步骤S40，依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系，包括：获取所述第一转换图像的第一像素值矩阵，通过将所述第一像素值矩阵中各像素值输入预设权重平滑映射函数，将所述第一像素值矩阵中各像素值映射为第一权重值，得到所述融合权重矩阵。其中，所述第一像素值矩阵可以为所述第一转换图像的B通道图像的像素值组成的图像矩阵，需要说明的是，图像数据可以用矩阵来表示，因此可以采用矩阵理论和矩阵算法对数字图像进行分析和处理。例如灰度图像的像素数据可以为一个图像矩阵，图像矩阵的行对应图像的高，图像矩阵的列对应图像的宽，图像矩阵的元素对应图像的像素，矩阵元素的值就是像素的灰度值。需要说明的是，所述预设权重平滑映射函数为平滑的映射函数，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系，以保证融合权重矩阵中相邻的权重值是平滑过度的，不会发生数值大小的突变，在一种可实施的方式中，所述预设权重平滑映射函数如下所示：其中，F为所述预设权重平滑映射函数，R控制函数幅值，a控制函数上升平缓程度，b控制函数左移和右移，g为所述B通道图像像素值。如图2所示为R＝0.6，a＝0.5，b＝15，g＝15～50时，所述预设权重平滑映射函数形状示意图，其中预设权重平滑映射函数的输出可以为融合权重矩阵中的第一权重值，像素值可以为第一转换图像的B通道图像的像素值。在另一种实施例中，步骤S40还包括：获取所述第二转换图像的第二像素值矩阵，通过将所述第二像素值矩阵中各像素值输入预设权重平滑映射函数，将所述第二像素值矩阵中各像素值映射为第二权重值，并对各第二权重值取反，得到所述融合权重矩阵。其中，所述第二像素值矩阵可以为所述第二转换图像的B通道图像的像素值矩阵。取反的具体过程可以为计算1与第二权重值之间的差值。其中，步骤S40包括：步骤S41，提取所述第一转换图像的B通道图像，得到第一取参图像；步骤S42，依据所述预设权重平滑映射函数，将所述第一取参图像对应的像素值矩阵映射为所述融合权重矩阵。示例性的，提取所述第一转换图像在LAB颜色空间的B通道图像作为第一取参图像；通过将所述第一取参图像对应的像素值矩阵中各像素值输入所述预设权重平滑映射函数，将所述第一取参图像对应的像素值矩阵中各像素值分别映射为对应的权重值，得到所述融合权重矩阵。示例性的，步骤S50，依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像，包括：对所述融合权重矩阵取反，得到取反权重矩阵；通过将所述融合权重矩阵作为所述第一转换图像的权重矩阵以及将所述取反权重矩阵作为所述第二转换图像的权重矩阵，在LAB颜色空间中对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。在一种可实施的方式中，融合过程如下所示：I_L＝W*D_LAB_L+*G_LAB_LI_A＝W*D_LAB_A+*G_LAB_AI_B＝W*D_LAB_B+*G_LAB_B其中，符号“*”为点乘符号，W为所述融合权重矩阵。I_L为目标白平衡图像的L通道图像，I_A为目标白平衡图像的A通道图像，I_B为目标白平衡图像的B通道图像；D_LAB_L为第一转换图像的L通道图像，D_LAB_A为第一转换图像的A通道图像，D_LAB_B为第一转换图像的B通道图像；G_LAB_L为第二转换图像的L通道图像，G_LAB_A为第二转换图像的A通道图像，G_LAB_B为第二转换图像的B通道图像。进一步地，由于RGB图像更加符合人类的视觉感官，可将所述目标白平衡图像由LAB颜色空间转换至RGB颜色空间，得到最终的白平衡图像。其中，所述通过将所述融合权重矩阵作为所述第一转换图像的权重矩阵以及将所述取反权重矩阵作为所述第二转换图像的权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像的步骤包括：对所述融合权重矩阵和所述第一转换图像的像素值矩阵进行点乘，得到第一点乘结果矩阵；对所述取反权重矩阵和所述第二转换图像的像素值矩阵进行点乘，得到第二点乘结果矩阵；对所述第一点乘结果矩阵和所述第二点乘结果矩阵进行求和，得到目标像素值矩阵；将所述目标像素值矩阵对应的图像作为目标白平衡图像。本申请实施例提供了一种图像白平衡方法，首先获取混合色温场景下的拍摄图像，依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像，此时，高色温校正图像偏蓝，而低色温图像偏黄，进而将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像，进而依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系；依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像，使得偏蓝的第一转换图像和偏黄的第二转换图像之间发生颜色中和，可消除拍摄图像中高色温图像区域的偏蓝现象以及低色温图像区域的偏黄现象，得到还原实景颜色的目标白平衡图像，提升了混合色温场景下图像白平衡校正的效果，且由于所述加权融合的融合权重矩阵由所述第一转换图像或者所述第二转换图像的像素值经预设权重平滑映射函数映射得到，使得第一转换图像和所述第二转换图像之间的色温边界可平滑过渡，能克服不同色温图像融合时的色温边界过渡不自然的问题，进一步提高了混合色温场景下图像白平衡校正的效果，所以，解决了混合色温场景下图像白平衡效果差的问题。实施例二进一步地，基于本申请第一实施例，在本申请另一实施例中，与上述实施例一相同或相似的内容，可以参考上文介绍，后续不再赘述。在此基础上，步骤S50，依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像，包括：步骤S51，提取所述第二转换图像的B通道图像，获得第二取参图像；步骤S52，依据所述预设权重平滑映射函数，将所述第二取参图像对应的像素矩阵转换为蓝色保持权重矩阵，所述蓝色保持权重矩阵用于保持所述目标白平衡图像中蓝色系的真实性；示例性的，提取所述第二转换图像在LAB颜色空间的B通道图像作为第二取参图像；通过将所述第二取参图像对应的像素值矩阵中各像素值输入所述预设权重平滑映射函数，将所述第二取参图像对应的像素值矩阵中各像素值分别映射为对应的第三权重值，得到映射结果矩阵；对所述映射结果矩阵进行取反，得到蓝色保持权重矩阵。其中，需要说明的是，在执行步骤S40和步骤S52时，所述预设权重平滑映射函数需要取第一取参图像和第二取参图像各自对应的特定函数控制参数，其中，所述函数控制参数包括用于控制函数幅值的第一参数、用于控制函数上升平缓程度的第二参数以及用于控制函数左移和右移的第三参数。其中，所述对所述映射结果矩阵进行取反，得到蓝色保持权重矩阵的步骤包括：示例性的，计算预设常数值与所述映射结果矩阵中各权重值之间的差值，得到差值矩阵，将所述差值矩阵作为蓝色保持权重矩阵，所述预设常数值可以为1。步骤S53，基于所述融合权重矩阵和所述蓝色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。示例性的，对所述融合权重矩阵和所述蓝色保持权重矩阵进行融合，得到第一修正权重矩阵，对所述第一修正权重矩阵取反，得到取反权重矩阵；通过将所述第一修正权重矩阵作为所述第一转换图像的权重矩阵以及将所述取反权重矩阵作为所述第二转换图像的权重矩阵，在LAB颜色空间中对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。其中，所述对所述融合权重矩阵和所述蓝色保持权重矩阵进行融合，得到第一修正权重矩阵的步骤包括：对所述融合权重矩阵和所述蓝色保持权重矩阵求和，得到第一修正权重矩阵。其中，需要说明的是，当所述拍摄图像的低色温图像区域存在蓝色时，需要保证低色温图像区域中蓝色的正常性，本申请实施例依据第二转换图像的B通道图像的像素值分布，通过预设权重平滑映射函数对第二转换图像的B通道图像的像素值进行平滑映射，得到映射结果矩阵，进而对映射结果矩阵取反，得到用于保证低色温图像区域中蓝色的真实性的第一转换图像对应的权重矩阵，也即为蓝色保持权重矩阵，进而通过执行步骤S55，可保证在消除高色温图像区域的偏蓝现象以及低色温图像区域的偏黄现象的同时，还能保证低色温图像区域的蓝色的正常性，实现了在不影响正常蓝色的情况下，将拍摄图像因不同光源渲染产生的偏差颜色还原为实景颜色的目的。其中，步骤S53包括：步骤S531，将所述高色温校正图像转换至HSV颜色空间，得到第三转换图像；示例性的，由于所述HSV颜色空间为由色调、饱和度和明度三个要素组成的颜色空间，为了保证颜色饱和度，需要取HSV颜色空间的饱和度通道图像的像素值来决定对应的用于保证所述目标白平衡图像中蓝色系的颜色饱和度的权重值大小，所以需要将所述高色温校正图像转换至HSV颜色空间，得到第三转换图像。步骤S532，提取所述第三转换图像的饱和度通道图像，依据所述预设权重平滑映射函数，将所述饱和度通道图像对应的像素矩阵映射为饱和度系数矩阵，所述饱和度系数矩阵用于保持所述目标白平衡图像中蓝色系的颜色饱和度；示例性的，提取所述第三转换图像在HSV颜色空间中的饱和度通道图像，通过将所述饱和度通道图像对应的像素值矩阵中各像素值输入预设权重平滑映射函数，将所述饱和度通道图像对应的像素值矩阵中各像素值映射为对应的饱和度系数，得到饱和度系数矩阵，所述饱和度系数矩阵用于保持所述目标白平衡图像中蓝色系的颜色饱和度。步骤S533，依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像；示例性的，将所述饱和度系数矩阵中各饱和度系数作为所述蓝色保持权重矩阵中对应的权重的系数，得到修正蓝色保持权重矩阵，对所述修正蓝色保持权重矩阵和所述融合权重矩阵进行求和，得到第二修正融合权重矩阵；依据所述第二修正融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。其中，图像融合具体过程可参照上述步骤S50中的具体实现过程，在此不再赘述。其中，所述将所述饱和度系数矩阵中各饱和度系数作为所述蓝色保持权重矩阵中对应的权重的系数，得到修正蓝色保持权重矩阵的步骤包括：对所述饱和度系数矩阵和所述蓝色保持权重矩阵进行点乘，得到修正蓝色保持权重矩阵。其中，需要说明的是，由于所述饱和度系数矩阵是依据饱和度通道图像对应的像素值矩阵中各像素值决定的，所以所述修正蓝色保持权重矩阵是依据饱和度信息优化过的权重矩阵，所以通过执行步骤S533，可实现了依据拍摄图像的颜色信息和饱和度信息共同优化的用于融合图像的权重，可得到相比于蓝色保持权重矩阵更加准确且合理的修正蓝色保持权重矩阵，使得最终得到的目标白平衡图像在低色温图像区域的蓝色更加贴近于实景颜色。在另一中可实施的方式中，对所述修正蓝色保持权重矩阵中每一权重值进行指数函数映射，得到指数优化后的修正蓝色保持权重矩阵；对所述融合权重矩阵和所述指数优化后的修正蓝色保持权重矩阵进行求和，得到第三修正融合权重矩阵。其中，由于对所述修正蓝色保持权重矩阵中每一权重值进行指数函数映射，进而指数优化后的修正蓝色保持权重矩阵中较大的权重值与较小的权重值之间的差值将增大，所以相比于直接依据所述融合权重矩阵和所述修正蓝色保持权重矩阵进行图像融合的方式，依据所述融合权重矩阵和所述指数优化后的修正蓝色保持权重矩阵，融合第一转换图像和第二转换图像，可使得融合得到指数优化后的修正蓝色保持权重矩阵中较大权重值对应的像素值与较小权重值对应的像素值之间的差距更大，而指数优化后的修正蓝色保持权重矩阵中较大权重值对应的像素点为蓝色，较大权重值对应的像素点的蓝色相比于较小权重对应的像素点的蓝色更加突出，进而可实现在拍摄图像的低色温图像区域的蓝色中突出饱和度高的像素点的蓝色，且抑制杂点的目的。实施例三进一步地，基于本申请第一实施例和第二实施例，在本申请另一实施例中，与上述实施例一相同或相似的内容，可以参考上文介绍，后续不再赘述。在此基础上，步骤S533，依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像，包括：步骤A10，提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；示例性的，提取所述第一转换图像在LAB颜色空间中的B通道图像作为第一取参图像，并提取所述第二转换图像在LAB颜色空间的A通道图像作为第三取参图像。步骤A20，依据所述第一取参图像的像素值大小分布以及所述第三取参图像的像素值大小分布，在所述第一取参图像中选取皮肤区域对应的各皮肤区域像素值；示例性的，依据所述第一取参图像的像素值大小分布以及所述第三取参图像的像素值大小分布，在所述第一取参图像中选取第一取参图像的像素值小于预设像素值大小且所述第三取参图像的像素值大于预设像素值大小的像素点，得到各候选像素点；计算所述第三取参数图像对应的每一像素值的绝对值与第一取参图像中对应的像素值的绝对值之间的差值，得到绝对值差值矩阵，进而依据所述绝对值差值矩阵中各绝对值差值，在各所述候选像素点中选取对应的绝对值差值大于预设像素值大小的像素点作为皮肤区域像素点。提取各所述皮肤区域像素点的像素值作为肤色像素值。其中，所述预设像素值大小可设置为0。步骤A30，依据所述预设权重平滑映射函数和各所述皮肤区域像素值，构建皮肤颜色保持权重矩阵，所述皮肤颜色保持权重矩阵用于保证所述目标白平衡图像中的皮肤颜色正常成像；示例性的，依据各所述皮肤区域像素值，构建皮肤区域参数矩阵；通过将所述皮肤区域参数矩阵中各肤色像素值输入所述预设权重平滑映射函数，将所述皮肤区域参数矩阵中各肤色像素值映射为对应的权重值，得到皮肤颜色保持权重矩阵，所述皮肤颜色保持权重矩阵用于保证所述目标白平衡图像中的皮肤颜色正常成像。其中，所述依据各所述皮肤区域像素值，构建皮肤区域参数矩阵的步骤包括：将所述第一取参图像对应的像素值矩阵中除各所述肤色像素值之外的各像素值修改为0，得到皮肤区域参数矩阵。另外，需要说明的是，其中，本申请实施例中在依据预设权重平滑映射函数，分别对第一取参图像、第二取参图像、第三取参图像以及饱和度图像的像素值矩阵进行映射时，所述预设权重平滑映射函数的特定函数控制参数均可取值不同，例如，假设对于第一取参图像，特定函数控制参数取值为，对于第二取参图像，特定函数控制参数取值为，对于第三取参图像，特定函数控制参数取值为，对于饱和度通道图像，特定函数控制参数取值为,R1、R2、R3以及R4的取值可相同，也可不同，a1、a2、a3以及a4的取值可相同，也可不同，b1、b2、b3以及b4的取值可相同，也可不同，用户可根据需求自行调整。步骤A40，依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵以及所述皮肤颜色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。示例性的，对所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵以及所述皮肤颜色保持权重矩阵进行融合，得到第四修正融合权重矩阵；依据所述第四修正融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像，其中，图像融合具体过程可参照上述步骤S50中的具体实现过程，在此不再赘述。其中，所述对所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵以及所述皮肤颜色保持权重矩阵进行融合，得到第四修正融合权重矩阵的步骤包括：将所述饱和度系数矩阵中各饱和度系数作为所述蓝色保持权重矩阵中对应的权重的系数，得到修正蓝色保持权重矩阵；对所述修正蓝色保持权重矩阵和所述融合权重矩阵进行求和，并对所述融合权重矩阵和所述皮肤颜色保持权重矩阵求差，得到第四修正融合权重矩阵。本申请实施例中在所述融合权重矩阵和所述修正蓝色保持权重矩阵的基础上增加了皮肤颜色保持权重矩阵，该皮肤颜色保持权重矩阵中的非0权重值由皮肤区域的像素值通过预设权重平滑映射函数进行映射得到，所以皮肤颜色保持权重矩阵中每一权重值均与皮肤区域中对应像素点的颜色深度相适配，进而依据皮肤颜色保持权重矩阵生成的第四修正融合权重矩阵进行图像融合，可使得融合得到的目标白平衡图像中的皮肤区域的颜色不会由于白平衡而变得不正常，实现了在保证消除高色温图像区域的偏蓝现象、消除低色温图像区域的偏黄现象以及保证低色温图像区域的蓝色正常的基础上，保证皮肤区域的颜色正常成像的目的。实施例四进一步地，基于本申请第一实施例、第二实施例和第三实施例，在本申请另一实施例中，与上述实施例一相同或相似的内容，可以参考上文介绍，后续不再赘述。在此基础上，步骤A40，依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵以及所述皮肤颜色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像，包括：步骤A41，依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；示例性的，将所述第一取参图像中小于预设像素阈值的像素点作为第一类型像素点，以及将所述第一取参图像中不小于预设像素阈值的像素点作为第二类型像素点，其中，所述预设像素阈值用于判断红色像素点在白平衡后红色是否失真的像素值阈值，小于该预设像素阈值的像素点的红色未失真，不小于该预设像素阈值的像素点的红色失真。步骤A42，依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；示例性的，依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像的相同像素点位置选取待修正像素点。步骤A43，将所述待修正像素点对应的像素值映射为颜色修正系数；示例性的，通过将所述待修正像素点的像素值输入预设颜色修正权重映射函数，将所述待修正像素点对应的像素值映射为颜色修正系数。在一种可实施的方式中，所述预设颜色修正权重映射函数如下：F1＝basee*其中，F1为所述预设颜色修正权重映射函数，x为所述待修正像素点对应的像素值，offset为所述预设像素阈值。在另一种实施方式中，通过将所述待修正像素点的像素值输入预设颜色修正权重映射函数，将所述待修正像素点的像素值与预设像素阈值之间的差值映射为颜色修正系数。步骤A44，依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；示例性的，通过在所述第一类型像素点所在矩阵位置处设置颜色修正常数作为权重值，以及所述第二类型像素点所在矩阵位置处设置对应的颜色修正系数作为权重值，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性，其中，所述颜色修正常数可设置为1。步骤A45，依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵、所述皮肤颜色保持权重矩阵以及所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。在本实施例中，对所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵、所述皮肤颜色保持权重矩阵以及所述颜色修正系数矩阵进行融合，得到第五修正融合权重矩阵；依据所述第五修正融合权重矩阵对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像，其中，图像融合具体过程可参照上述步骤S50中的具体实现过程，在此不再赘述。其中，所述对所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵、所述皮肤颜色保持权重矩阵以及所述颜色修正系数矩阵进行融合，得到第五修正融合权重矩阵的步骤包括：将所述饱和度系数矩阵中各饱和度系数作为所述蓝色保持权重矩阵中对应的权重的系数，得到修正蓝色保持权重矩阵；对所述融合权重矩阵和所述修正蓝色保持权重矩阵进行求和，得到求和矩阵；计算求和矩阵和所述颜色修正系数矩阵之间的点乘乘积，得到乘积矩阵；计算乘积矩阵与所述颜色修正系数矩阵之间的差值，得到所述第五修正融合权重矩阵。需要说明的是，由于预设权重平滑映射函数为增函数，所以对于预设权重平滑映射函数输出的融合权重矩阵中的权重值，预设权重平滑映射函数的输入为第一转换图像的B通道图像的像素值，其中B通道图像的像素值越大，则图像颜色越偏蓝，进而对应的融合权重矩阵中的权重值越大，进而在进行图像融合时，过大的权重值将会影响融合后的目标白平衡图像中实景红色，使得实景红色偏灰色或者偏黄色，而本申请实施例设置当不小于预设像素阈值的像素点作为第二类型像素点，此时第二类型像素点对应的权重值过大，进而依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点，依据待修正像素点的像素值与预设像素阈值之间的差值，设置颜色修正系数，得到颜色修正系数矩阵，所以将颜色修正系数矩阵与融合权重矩阵进行融合，可修正待修正像素点的红色失真的情况，所以可解决目标白平衡图像中红色失真的问题。本申请实施例在所述融合权重矩阵、所述修正蓝色保持权重矩阵和所述皮肤颜色保持权重矩阵的基础上增加了所述颜色修正系数矩阵，该颜色修正系数矩阵中非颜色修正常数权重值的权重值由需要进行颜色修正的红色像素点与预设像素阈值之间的差值进行映射得到，所以第二权重矩阵中每一依据颜色修正系数修正的权重值均与待修正像素点相适配，进而依据所述融合权重矩阵、所述修正蓝色保持权重矩阵、所述皮肤颜色保持权重矩阵和所述颜色修正系数矩阵构建的第五修正融合权重模块进行图像融合，可使得融合得到的目标白平衡图像中的红色不会由于白平衡而变得不正常，实现了在保证消除高色温图像区域的偏蓝现象、消除低色温图像区域的偏黄现象、保证低色温图像区域的蓝色正常以及保证皮肤区域的颜色正常成像的基础上，保证目标白平衡图像中的红色正常的目的。实施例五进一步地，基于本申请第一实施例和第二实施例，在本申请另一实施例中，与上述实施例一相同或相似的内容，可以参考上文介绍，后续不再赘述。在此基础上，步骤S50，依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像，包括：步骤B10，提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；步骤B20，依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；步骤B30，依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；步骤B40，将所述待修正像素点对应的像素值映射为颜色修正系数；步骤B50，依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；本申请实施例中步骤B10至步骤B50的具体实施方式可参照上述A41至步骤A44、上述步骤S10中的具体内容，在此不在赘述。步骤B60，依据所述融合权重矩阵、所述蓝色保持权重矩阵、所述饱和度系数矩阵和所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。示例性的，对所述融合权重矩阵、所述蓝色保持权重矩阵、所述饱和度系数矩阵和所述颜色修正系数矩阵进行融合，得到第六修正融合权重矩阵；依据所述第六修正融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。其中，图像融合具体过程可参照上述步骤S50中的具体实现过程，在此不再赘述。其中，所述对所述融合权重矩阵、所述蓝色保持权重矩阵、所述饱和度系数矩阵和所述颜色修正系数矩阵进行融合，得到第六修正融合权重矩阵的步骤包括：将所述饱和度系数矩阵中各饱和度系数作为所述蓝色保持权重矩阵中对应的权重的系数，得到修正蓝色保持权重矩阵；对所述融合权重矩阵和所述修正蓝色保持权重矩阵进行求和，得到求和矩阵；对所述求和矩阵和所述颜色修正系数矩阵进行点乘，得到所述第六修正融合权重矩阵。本申请实施例在所述融合权重矩阵和所述修正蓝色保持权重矩阵的基础上增加了所述颜色修正系数矩阵，该颜色修正系数矩阵中非颜色修正常数权重值的权重值由需要进行颜色修正的红色像素点与预设像素阈值之间的差值进行映射得到，所以第二权重矩阵中每一依据颜色修正系数修正的权重值均与待修正像素点相适配，进而依据所述融合权重矩阵、所述修正蓝色保持权重矩阵和所述颜色修正系数矩阵构建的第六修正融合权重矩阵进行图像融合，可使得融合得到的目标白平衡图像中的红色不会由于白平衡而变得不正常，实现了在保证消除高色温图像区域的偏蓝现象、消除低色温图像区域的偏黄现象以及保证低色温图像区域的蓝色正常的基础上，保证目标白平衡图像中的红色正常的目的。实施例六进一步地，基于本申请第一实施例，在本申请另一实施例中，与上述实施例一相同或相似的内容，可以参考上文介绍，后续不再赘述。在此基础上，步骤S50，依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像，包括：步骤C10，提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；步骤C20，依据所述第一取参图像的像素值大小分布以及所述第三取参图像的像素值大小分布，在所述第一取参图像中选取皮肤区域对应的各皮肤区域像素值；步骤C30，依据所述预设权重平滑映射函数和各所述皮肤区域像素值，构建皮肤颜色保持权重矩阵，所述皮肤颜色保持权重矩阵用于保证所述目标白平衡图像中的皮肤颜色正常成像；需要说明的是，步骤C10至步骤C30的具体实施方式可参照上述步骤A10至步骤A30中的具体内容，在此不再赘述。步骤C40，依据所述融合权重矩阵和所述皮肤颜色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。示例性的，对所述融合权重矩阵和所述皮肤颜色保持权重矩阵进行融合，得到第七修正融合权重矩阵；依据所述第七修正融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。其中，图像融合具体过程可参照上述步骤S50中的具体实现过程，在此不再赘述。其中，所述对所述融合权重矩阵和所述皮肤颜色保持权重矩阵进行融合，得到第七修正融合权重矩阵的步骤包括：对所述融合权重矩阵和所述皮肤颜色保持权重矩阵求差，得到第七修正融合权重矩阵。本申请实施例中在所述融合权重矩阵的基础上增加了皮肤颜色保持权重矩阵，该皮肤颜色保持权重矩阵中的非0权重值由皮肤区域的像素值通过预设权重平滑映射函数进行映射得到，所以皮肤颜色保持权重矩阵中每一权重值均与皮肤区域中对应像素点的颜色深度相适配，进而依据皮肤颜色保持权重矩阵和融合权重矩阵生成的第七修正融合权重矩阵进行图像融合，可使得融合得到的目标白平衡图像中的皮肤区域的颜色不会由于白平衡而变得不正常，实现了在保证消除高色温图像区域的偏蓝现象以及消除低色温图像区域的偏黄现象的基础上，保证皮肤区域的颜色正常成像的目的。其中，步骤C40包括：步骤C41，依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；步骤C42，依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；步骤C43，将所述待修正像素点对应的像素值映射为颜色修正系数；步骤C44，依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；需要说明的是，步骤C41至步骤C44的具体实施方式可参照上述步骤A41至A44中的具体内容，在此不再赘述。步骤C45，依据所述融合权重矩阵、所述皮肤颜色保持权重矩阵和所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。示例性的，对所述融合权重矩阵、所述皮肤颜色保持权重矩阵和所述颜色修正系数矩阵进行融合，得到第八修正融合权重矩阵；依据所述第八修正融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。其中，图像融合具体过程可参照上述步骤S50中的具体实现过程，在此不再赘述。其中，所述对所述融合权重矩阵、所述皮肤颜色保持权重矩阵和所述颜色修正系数矩阵进行融合，得到第八修正融合权重矩阵的步骤包括：对所述融合权重矩阵和所述皮肤颜色保持权重矩阵进行求差，得到求差矩阵；对所述求差矩阵和所述颜色修正系数矩阵进行点乘，得到第八修正融合权重矩阵。本申请实施例在所述融合权重矩阵和所述皮肤颜色保持权重矩阵的基础上增加了所述颜色修正系数矩阵，该颜色修正系数矩阵中非颜色修正常数权重值的权重值由需要进行颜色修正的红色像素点与预设像素阈值之间的差值进行映射得到，所以第三权重矩阵中每一依据颜色修正系数修正的权重值均与待修正像素点相适配，进而依据所述融合权重矩阵、所述皮肤颜色保持权重矩阵和所述颜色修正系数矩阵构建的第八修正融合权重矩阵进行图像融合，可使得融合得到的目标白平衡图像中的红色不会由于白平衡而变得不正常，实现了在保证消除高色温图像区域的偏蓝现象、消除低色温图像区域的偏黄现象以及保证皮肤区域的颜色正常成像的基础上，保证目标白平衡图像中的红色正常的目的。实施例七进一步地，基于本申请第一实施例，在本申请另一实施例中，与上述实施例一相同或相似的内容，可以参考上文介绍，后续不再赘述。在此基础上，步骤S50，依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像，包括：步骤D10，提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；步骤D20，依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；步骤D30，依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；步骤D40，将所述待修正像素点对应的像素值映射为颜色修正系数；步骤D50，依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；需要说明的是，步骤D20至步骤D50的具体实施方式可参照上述步骤A41至步骤A44中的具体内容，在此不再赘述。步骤D60，依据所述融合权重矩阵和所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。示例性的，对所述融合权重矩阵和所述颜色修正系数矩阵进行融合，得到第九修正融合权重矩阵；依据第九修正融合权重矩阵对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。其中，图像融合具体过程可参照上述步骤S50中的具体实现过程，在此不再赘述。其中，所述对所述融合权重矩阵和所述颜色修正系数矩阵进行融合，得到第九修正融合权重矩阵的步骤包括：对所述颜色修正系数矩阵和所述融合权重矩阵进行点乘，得到第九修正融合权重矩阵。本申请实施例在所述融合权重矩阵的基础上增加了所述颜色修正系数矩阵，该颜色修正系数矩阵中非颜色修正常数权重值的权重值由需要进行颜色修正的红色像素点与预设像素阈值之间的差值进行映射得到，所以第四权重矩阵中每一依据颜色修正系数修正的权重值均与待修正像素点相适配，进而依据所述融合权重矩阵和所述颜色修正系数矩阵构建的第九修正融合权重矩阵进行图像融合，可使得融合得到的目标白平衡图像中的红色不会由于白平衡而变得不正常，实现了在保证消除高色温图像区域的偏蓝现象以及消除低色温图像区域的偏黄现象的基础上，保证目标白平衡图像中的红色正常的目的。实施例八本申请实施例还提供一种图像白平衡装置，所述图像白平衡装置应用于图像白平衡设备，所述图像白平衡装置包括：获取模块，用于获取混合色温场景下的拍摄图像；白平衡校正模块，用于依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像；颜色空间转换模块，用于将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像；权重映射模块，用于依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系；图像加权融合模块，用于依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。可选地，所述权重映射模块还用于：提取所述第一转换图像的B通道图像，得到第一取参图像；依据所述预设权重平滑映射函数，将所述第一取参图像对应的像素值矩阵映射为所述融合权重矩阵。可选地，所述图像加权融合模块还用于：提取所述第二转换图像的B通道图像，获得第二取参图像；依据所述预设权重平滑映射函数，将所述第二取参图像对应的像素矩阵转换为蓝色保持权重矩阵，所述蓝色保持权重矩阵用于保持所述目标白平衡图像中蓝色系的真实性；基于所述融合权重矩阵和所述蓝色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。可选地，所述图像加权融合模块还用于：将所述高色温校正图像转换至HSV颜色空间，得到第三转换图像；提取所述第三转换图像的饱和度通道图像，依据所述预设权重平滑映射函数，将所述饱和度通道图像对应的像素矩阵映射为饱和度系数矩阵，所述饱和度系数矩阵用于保持所述目标白平衡图像中蓝色系的颜色饱和度；依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。可选地，所述图像加权融合模块还用于：提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；依据所述第一取参图像的像素值大小分布以及所述第三取参图像的像素值大小分布，在所述第一取参图像中选取皮肤区域对应的各皮肤区域像素值；依据所述预设权重平滑映射函数和各所述皮肤区域像素值，构建皮肤颜色保持权重矩阵，所述皮肤颜色保持权重矩阵用于保证所述目标白平衡图像中的皮肤颜色正常成像；依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵以及所述皮肤颜色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。可选地，所述图像加权融合模块还用于：依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；将所述待修正像素点对应的像素值映射为颜色修正系数；依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；依据所述融合权重矩阵、所述蓝色保持权重矩阵和所述饱和度系数矩阵、所述皮肤颜色保持权重矩阵以及所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。可选地，所述图像加权融合模块还用于：提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；将所述待修正像素点对应的像素值映射为颜色修正系数；依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；依据所述融合权重矩阵、所述蓝色保持权重矩阵、所述饱和度系数矩阵和所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到所述目标白平衡图像。可选地，所述图像加权融合模块还用于：提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；依据所述第一取参图像的像素值大小分布以及所述第三取参图像的像素值大小分布，在所述第一取参图像中选取皮肤区域对应的各皮肤区域像素值；依据所述预设权重平滑映射函数和各所述皮肤区域像素值，构建皮肤颜色保持权重矩阵，所述皮肤颜色保持权重矩阵用于保证所述目标白平衡图像中的皮肤颜色正常成像；依据所述融合权重矩阵和所述皮肤颜色保持权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。可选地，所述图像加权融合模块还用于：依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；将所述待修正像素点对应的像素值映射为颜色修正系数；依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；依据所述融合权重矩阵、所述皮肤颜色保持权重矩阵和所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。可选地，所述图像加权融合模块还用于：提取所述第一转换图像的B通道图像，得到第一取参图像，并提取所述第二转换图像的A通道图像，得到第三取参图像；依据预设像素阈值，将所述第一取参图像中各像素点划分为第一类型像素点和第二类型像素点；依据所述第二类型像素点在所述第一取参图像中的位置，在所述第三取参图像中选取待修正像素点；将所述待修正像素点对应的像素值映射为颜色修正系数；依据所述第一类型像素点对应的颜色修正常数和所述颜色修正系数，构建颜色修正系数矩阵，所述颜色修正系数矩阵用于保持所述目标白平衡图像中红色系的真实性；依据所述融合权重矩阵和所述颜色修正系数矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。可选地，所述白平衡校正模块还用于：获取所述拍摄图像中高色温图像区域的第一区域颜色以及所述拍摄图像中低色温图像区域的第二区域颜色；依据所述第一区域颜色，在所述白平衡灰区中确定所述高色温图像区域对应的第一色温范围；依据所述第二区域颜色，在所述白平衡灰区中确定所述低色温图像区域对应的第二色温范围；依据所第一色温范围确定的第一白平衡增益，对所述拍摄图像进行高色温白平衡校正，得到所述高色温校正图像；依据所第二色温范围确定的白平衡增益，对所述拍摄图像进行低色温白平衡校正，得到所述低色温校正图像。本发明提供的图像白平衡装置，采用上述实施例中的图像白平衡方法，解决了混合色温场景下图像白平衡效果差的技术问题。与现有技术相比，本发明实施例提供的图像白平衡装置的有益效果与上述实施例提供的图像白平衡方法的有益效果相同，且该图像白平衡装置中的其他技术特征与上一实施例方法公开的特征相同，在此不做赘述。实施例九本发明实施例提供一种电子设备，电子设备包括：至少一个处理器；以及，与至少一个处理器通信连接的存储器；其中，存储器存储有可被至少一个处理器执行的指令，指令被至少一个处理器执行，以使至少一个处理器能够执行上述实施例一中的图像白平衡方法。下面参考图3，其示出了适于用来实现本公开实施例的电子设备的结构示意图。本公开实施例中的电子设备可以包括但不限于诸如移动电话、笔记本电脑、数字广播接收器、PDA、PAD、PMP、车载终端等等的移动终端以及诸如数字TV、台式计算机等等的固定终端。图3示出的电子设备仅仅是一个示例，不应对本公开实施例的功能和使用范围带来任何限制。如图3所示，电子设备可以包括处理装置，其可以根据存储在只读存储器中的程序或者从存储装置加载到随机访问存储器中的程序而执行各种适当的动作和处理。在RAM中，还存储有电子设备操作所需的各种程序和数据。处理装置、ROM以及RAM通过总线彼此相连。输入/输出接口也连接至总线。通常，以下系统可以连接至I/O接口：包括例如触摸屏、触摸板、键盘、鼠标、图像传感器、麦克风、加速度计、陀螺仪等的输入装置；包括例如液晶显示器、扬声器、振动器等的输出装置；包括例如磁带、硬盘等的存储装置；以及通信装置。通信装置可以允许电子设备与其他设备进行无线或有线通信以交换数据。虽然图中示出了具有各种系统的电子设备，但是应理解的是，并不要求实施或具备所有示出的系统。可以替代地实施或具备更多或更少的系统。特别地，根据本公开的实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本公开的实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信装置从网络上被下载和安装，或者从存储装置被安装，或者从ROM被安装。在该计算机程序被处理装置执行时，执行本公开实施例的方法中限定的上述功能。本发明提供的电子设备，采用上述实施例中的图像白平衡方法，解决了混合色温场景下图像白平衡效果差的技术问题。与现有技术相比，本发明实施例提供的电子设备的有益效果与上述实施例一提供的图像白平衡方法的有益效果相同，且该电子设备中的其他技术特征与上一实施例方法公开的特征相同，在此不做赘述。应当理解，本公开的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式的描述中，具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。实施例十本实施例提供一种计算机可读存储介质，具有存储在其上的计算机可读程序指令，计算机可读程序指令用于执行上述实施例一中的图像白平衡的方法。本发明实施例提供的计算机可读存储介质例如可以是U盘，但不限于电、磁、光、电磁、红外线、或半导体的系统、系统或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本实施例中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、系统或者器件使用或者与其结合使用。计算机可读存储介质上包含的程序代码可以用任何适当的介质传输，包括但不限于：电线、光缆、RF等等，或者上述的任意合适的组合。上述计算机可读存储介质可以是电子设备中所包含的；也可以是单独存在，而未装配入电子设备中。上述计算机可读存储介质承载有一个或者多个程序，当上述一个或者多个程序被电子设备执行时，使得电子设备：获取混合色温场景下的拍摄图像；依据所述混合色温场景下绘制的白平衡灰区，分别对所述拍摄图像进行高色温白平衡校正以及低色温白平衡校正，得到高色温校正图像和低色温校正图像；将所述低色温校正图像转换至LAB颜色空间，得到第一转换图像，以及将所述高色温校正图像转换至所述LAB颜色空间，得到第二转换图像；依据预设权重平滑映射函数，对所述第一转换图像或者所述第二转换图像的像素值进行映射，得到融合权重矩阵，所述预设权重平滑映射函数表示像素值与权重之间的平滑映射关系；依据所述融合权重矩阵，对所述第一转换图像和所述第二转换图像进行加权融合，得到目标白平衡图像。可以以一种或多种程序设计语言或其组合来编写用于执行本公开的操作的计算机程序代码，上述程序设计语言包括面向对象的程序设计语言—诸如Java、Smalltalk、C++，还包括常规的过程式程序设计语言—诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络——包括局域网或广域网—连接到用户计算机，或者，可以连接到外部计算机。附图中的流程图和框图，图示了按照本发明各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，该模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本公开实施例中所涉及到的模块可以通过软件的方式实现，也可以通过硬件的方式来实现。其中，模块的名称在某种情况下并不构成对该单元本身的限定。本发明提供的计算机可读存储介质，存储有用于执行上述图像白平衡方法的计算机可读程序指令，解决了混合色温场景下图像白平衡效果差的技术问题。与现有技术相比，本发明实施例提供的计算机可读存储介质的有益效果与上述实施例提供的图像白平衡方法的有益效果相同，在此不做赘述。实施例十一本申请还提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现如上述的图像白平衡方法的步骤。本申请提供的计算机程序产品解决了混合色温场景下图像白平衡效果差的技术问题。与现有技术相比，本发明实施例提供的计算机程序产品的有益效果与上述实施例提供的图像白平衡方法的有益效果相同，在此不做赘述。以上仅为本申请的优选实施例，并非因此限制本申请的专利范围，凡是利用本申请说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本申请的专利处理范围内。
