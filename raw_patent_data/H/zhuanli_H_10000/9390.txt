标题title
一种通信接口测试方法、装置、测试机及存储介质
摘要abst
本申请涉及一种通信接口测试方法、装置、测试机及存储介质，属于测试技术领域。该方法包括：获取预设测试文档中测试值被配置为第一阈值的预设测试项，预设测试文档包含所有预设测试项，每个预设测试项的测试值可配置；从第一接口获取预设测试项的对象标识符的第一测试项信息；通过第二接口获取对象标识符的第二测试项信息；通过第三接口获取对象标识符的第三测试项信息；将第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试，得到一致性测试结果。该方法不需要针对不同的测试需求、测试项单独生成测试用例，同时，不需要事先设置比对用例，极大地提高了测试效率。
权利要求书clms
1.一种通信接口测试方法，其特征在于，应用于测试机，所述测试机与被测设备连接，所述被测设备包括第一接口、第二接口、第三接口，所述方法包括：获取预设测试文档中测试值被配置为第一阈值的预设测试项，所述预设测试文档包含所有预设测试项，每个所述预设测试项的测试值可配置；从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息；通过所述第二接口获取所述对象标识符的第二测试项信息；通过所述第三接口获取所述对象标识符的第三测试项信息；将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试，得到一致性测试结果。2.根据权利要求1所述的方法，其特征在于，从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息，包括：从所述第一接口获取所述对象标识符在不同指定协议版本下的第一测试项信息；相应地，将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试，包括：针对每一个指定协议版本，将该指定协议版本下的第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试。3.根据权利要求1所述的方法，其特征在于，所述方法还包括：从所述第一接口处获取所述对象标识符的第一参数信息；修改所述被测设备的第一参数信息；从所述第一接口处获取所述对象标识符的第二参数信息，并检测所述第二参数信息与修改后的所述第一参数信息是否一致，得到修改配置测试结果。4.根据权利要求3所述的方法，其特征在于，从所述第一接口处获取所述对象标识符的第一参数信息，包括：从所述第一接口处获取所述对象标识符在不同指定协议版本下的第一参数信息。5.根据权利要求1所述的方法，其特征在于，所述方法还包括：获取所述对象标识符对应的初始预设告警阈值，并记录；获取与所述对象标识符对应的传感器的检测值；根据所述检测值、所述初始预设告警阈值修改所述对象标识符对应的告警阈值，以触发告警；检查系统事件日志中是否存在该告警，以及检查所述第一接口是否发送该告警，得到告警测试结果。6.根据权利要求5所述的方法，其特征在于，在所述检查系统事件日志中是否存在该告警之后，所述方法还包括：将所述对象标识符对应的告警阈值恢复为所述初始预设告警阈值。7.根据权利要求1-6中任一项所述的方法，其特征在于，所述预设测试项的对象标识符为所述预设测试项在管理信息库MIB文件中的对象标识符值。8.一种通信接口测试装置，其特征在于，属于测试机，所述测试机与被测设备连接，所述被测设备包括第一接口、第二接口、第三接口，所述装置包括：获取模块，用于获取预设测试文档中测试值被配置为第一阈值的预设测试项，所述预设测试文档包含所有预设测试项，每个所述预设测试项的测试值可配置；测试模块，用于从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息；并通过所述第二接口获取所述对象标识符的第二测试项信息；并通过所述第三接口获取所述对象标识符的第三测试项信息；以及还将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试，得到一致性测试结果。9.一种测试机，其特征在于，包括：存储器和处理器，所述处理器与所述存储器连接；所述存储器，用于存储程序；所述处理器，用于调用存储于所述存储器中的程序，以执行如权利要求1-7中任一项所述的方法。10.一种计算机可读存储介质，其特征在于，其上存储有计算机程序，所述计算机程序被处理器运行时，执行如权利要求1-7中任一项所述的方法。
说明书desc
技术领域本申请属于测试技术领域，具体涉及一种通信接口测试方法、装置、测试机及存储介质。背景技术网络在社会生活的各个领域发挥着越来越重要的作用，一个完善的网络管理系统是保证网络稳定可靠运行的基础，而对网管接口的测试是保证网络管理系统发挥效能的重要基础。网管接口测试主要是对被管设备网管接口的测试，包括一致性测试、管理信息模型一致性测试、管理功能一致性测试，只有正确通过网管接口测试的设备才能对其实施有效的管理。简单网络管理协议是一种专门设计用于管理网络节点的标准协议。SNMP协议已经成为当前最流行的网络管理协议，因此，对SNMP接口进行测试是十分必要的。当前SNMP接口测试方法，在对网络设备状态进行监控的同时，执行基本测试用例从SNMP接口获取被测代理信息，以及执行比对用例从网络设备获取被测代理所在网络的设备信息，并将获取的被测代理信息与获取的被测代理所在网络的设备信息进行自动对比，验证从SNMP接口所获得的代理信息是否正确表达了网络设备资源的具体运行情况。该方法为SNMP接口管理功能测试提供了一种很好的自动化测试手段，但该方法需要事先设置基本测试用例数据和比对用例，以保证测试的准确性，且针对不同的测试需求、测试项，需单独生成测试用例，使得测试效率难以得到保证。发明内容鉴于此，本申请的目的在于提供一种通信接口测试方法、装置、测试机及存储介质，以改善现有测试方法的测试效率低的问题。本申请的实施例是这样实现的：第一方面，本申请实施例提供了一种通信接口测试方法，应用于测试机，所述测试机与被测设备连接，所述被测设备包括第一接口、第二接口、第三接口，所述方法包括：获取预设测试文档中测试值被配置为第一阈值的预设测试项，所述预设测试文档包含所有预设测试项，每个所述预设测试项的测试值可配置；从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息；通过所述第二接口获取所述对象标识符的第二测试项信息；通过所述第三接口获取所述对象标识符的第三测试项信息；将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试，得到一致性测试结果。本申请实施例中，通过事先配置包含第一接口测试中所涉及的所有预设测试项的预设测试文档，在测试时，只需要根据测试需求，对需要测试的预设测试项的测试值进行配置即可，从而不需要针对不同的测试需求、测试项单独生成测试用例；同时，在进行一致性测试时，只需要将不同路径下所获取到的同一对象的测试项信息相互进行信息一致性比对即可，而不需要事先设置比对用例，在实现测试目的的同时，极大地提高了测试效率；同时，在一致性比对时，采取三者相互验证的方式以保证测试的准确性。结合第一方面实施例的一种可能的实施方式，从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息，包括：从所述第一接口获取所述对象标识符在不同指定协议版本下的第一测试项信息；相应地，将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试，包括：针对每一个指定协议版本，将该指定协议版本下的第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试。本申请实施例中，在从第一接口获取预设测试项的对象标识符的第一测试项信息时，获取该对象标识符在不同指定协议版本下的第一测试项信息，相应地，在一致性比对时，针对每一个指定协议版本，都将不同路径下所获取到的同一对象的测试项信息相互进行信息一致性比对，以实现对多种指定协议版本的一致性测试。结合第一方面实施例的一种可能的实施方式，所述方法还包括：从所述第一接口处获取所述对象标识符的第一参数信息；修改所述被测设备的第一参数信息；从所述第一接口处获取所述对象标识符的第二参数信息，并检测所述第二参数信息与修改后的所述第一参数信息是否一致，得到修改配置测试结果。本申请实施例中，抓取对应的第一参数信息，然后去修改对应的第一参数信息，之后再去抓取最新的第二参数信息，之后，检测最新抓取到的第二参数信息与修改后的第一参数信息是否一致，以测试第一接口的修改配置功能是否正确。结合第一方面实施例的一种可能的实施方式，从所述第一接口处获取所述对象标识符的第一参数信息，包括：从所述第一接口处获取所述对象标识符在不同指定协议版本下的第一参数信息。本申请实施例中，在从第一接口处获取对象标识符的第一参数信息时，从第一接口处获取对象标识符在不同指定协议版本下的第一参数信息，从而可以实现对多种指定协议版本的修改配置测试，提高了测试准确。结合第一方面实施例的一种可能的实施方式，所述方法还包括：获取所述对象标识符对应的初始预设告警阈值，并记录；获取与所述对象标识符对应的传感器的检测值；根据所述检测值、所述初始预设告警阈值修改所述对象标识符对应的告警阈值，以触发告警；检查系统事件日志中是否存在该告警，以及检查所述第一接口是否发送该告警，得到告警测试结果。本申请实施例中，通过获取待测试对象的初始预设告警阈值，以及当前检测值，并以此修改对应的告警阈值，以触发告警，之后检查系统事件日志中是否存在该告警以及检查第一接口是否发送该告警，从而实现对第一接口的Trap测试，同时，采取检查系统事件日志中是否存在该告警以及检查第一接口是否发送该告警这种相互验证的方式，以保证测试的准确性。结合第一方面实施例的一种可能的实施方式，在所述检查系统事件日志中是否存在该告警之后，所述方法还包括：将所述对象标识符对应的告警阈值恢复为所述初始预设告警阈值。本申请实施例中，在检查系统事件日志中是否存在该告警之后，还将对象标识符对应的告警阈值恢复为初始预设告警阈值，以保证设备能够正常运行，避免因测试导致设备故障。结合第一方面实施例的一种可能的实施方式，所述预设测试项的对象标识符为所述预设测试项在管理信息库MIB文件中的对象标识符值。本申请实施例中，在对预设测试项进行第一接口测试时，所使用的对象标识符为MIB文件中的对象标识符值，采用MIB文件中规范的对象标识符值来进行测试，避免因对象标识符值差异导致测试误差，从而可以提高测试准确性。第二方面，本申请实施例还提供了一种通信接口测试装置，属于测试机，所述测试机与被测设备连接，所述被测设备包括第一接口、第二接口、第三接口，所述装置包括：获取模块、测试模块；获取模块，用于获取预设测试文档中测试值被配置为第一阈值的预设测试项，所述预设测试文档包含所有预设测试项，每个所述预设测试项的测试值可配置；测试模块，用于从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息；并通过所述第二接口获取所述对象标识符的第二测试项信息；并通过所述第三接口获取所述对象标识符的第三测试项信息；以及还将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试，得到一致性测试结果。第三方面，本申请实施例还提供了一种测试机，包括：存储器和处理器，所述处理器与所述存储器连接；所述存储器，用于存储程序；所述处理器，用于调用存储于所述存储器中的程序，以执行上述第一方面实施例和/或结合第一方面实施例的任一种可能的实施方式提供的方法。第四方面，本申请实施例还提供了一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器运行时，执行上述第一方面实施例和/或结合第一方面实施例的任一种可能的实施方式提供的方法。本申请的其他特征和优点将在随后的说明书阐述，并且，部分地从说明书中变得显而易见，或者通过实施本申请实施例而了解。本申请的目的和其他优点可通过在所写的说明书以及附图中所特别指出的结构来实现和获得。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。通过附图所示，本申请的上述及其它目的、特征和优势将更加清晰。在全部附图中相同的附图标记指示相同的部分。并未刻意按实际尺寸等比例缩放绘制附图，重点在于示出本申请的主旨。图1示出了本申请实施例提供的一种通信接口测试方法的流程示意图。图2示出了本申请实施例提供的一种SNMP接口测试中的对对象标识符进行修改配置测试的原理示意图。图3示出了本申请实施例提供的一种SNMP接口测试中的对对象标识符进行告警测试的原理示意图。图4示出了本申请实施例提供的一种通信接口测试装置的模块示意图。图5示出了本申请实施例提供的一种测试机的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行描述。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。同时，在本申请的描述中诸如“第一”、“第二”等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。再者，本申请中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。鉴于当前对通信接口，如SNMP接口进行测试的方法，需要事先设置基本测试用例数据和比对用例，以保证测试的准确性，且针对不同的测试需求、测试项，需单独生成测试用例，使得测试效率难以得到保证的问题。本申请实施例提供了一种通信接口测试方法，该方法通过事先配置预设测试文档，如newtext.txt文档，使该newtext.txt文档包含第一接口测试中所涉及的所有预设测试项，这样在进行通信接口测试时，只需要根据测试需求，对需要测试的预设测试项进行配置即可，如将需要测试的预设测试项的测试值配置为第一阈值，将不需要测试的预设测试项的测试值配置为第二阈值，从而不需要针对不同的测试需求、测试项单独生成测试用例。同时，在进行一致性测试时，只需要将不同路径下所获取到的同一对象的测试项信息相互进行信息一致性比对即可，而不需要事先设置比对用例，在实现测试目的的同时，极大地提高了测试效率。本申请所示的通信接口测试方法所涉及到的硬件，包括执行该通信接口测试方法的测试机和被测Agent所在的被测设备。测试机与被测设备之间通信连接，被测设备包括第一接口、第二接口和第三接口。测试机通过运行自动化脚本来对被测设备的待测接口进行测试，得到测试结果。其中，第一接口可以是SNMP接口、第二接口可以是WEB接口、第三接口可以是IPMI接口。需要说明的是，SNMP网络管理系统普遍采用Manger-Agent体系结构，厂商声明支持基于指定协议的设备必须提供标准的接口，使得相关标准的Agent可以和Manger连接。因此，对于SNMP接口的测试其实就是针对Agent的测试，即模拟Manger向被测Agent发送指令，并接收Agent返回的响应，从而判断分析被测Agent执行命令的准确程度。为了更好的理解，下面将结合图1，对本申请实施例提供的通信接口测试方法进行说明。S1：获取预设测试文档中测试值被配置为第一阈值的预设测试项，所述预设测试文档包含所有预设测试项，每个所述预设测试项的测试值可配置。本申请中，通过事先配置预设测试文档，如newtext.txt文档，使该newtext.txt文档包含第一接口测试中所涉及的所有预设测试项，如包括系统整体信息、传感器、CPU、风扇、硬盘、网卡、电源等预设测试项。且每个预设测试项的测试值是可配置的，这样在进行通信接口测试时，可以根据需要对预设测试文档中需要测试的预设测试项的测试值进行配置，如将需要测试的预设测试项的测试值配置为第一阈值，将不需要测试的预设测试项的测试值配置为第二阈值。可以理解的是，第一阈值和第二阈值可以灵活配置，因此，不能将上述示例中的特殊值，理解成是对本申请的限制。此外，第一阈值和第二阈值可以互换，如第一阈值配置为0，第二阈值配置为1。在配置完newtext.txt后，执行自动化脚本，便可自动去获取newtext.txt中测试值被配置为第一阈值的预设测试项。之后对需要测试的预设测试项进行指定类型的第一接口测试即可。需要说明的是，该自动化脚本已覆盖所有预设测试项，可根据需求配置newtext.txt：将需要测试的项目的测试值置为1，不需要的项目的测试值置为0。对于不同的项目仅需调整newtext.txt，不需要再重新编写脚本。在测试之前，需要事先完成测试所需的准备工作，如搭建好python测试环境，并配置env.py和newtext.txt。之后执行自动化脚本，即可自动对需要测试的预设测试项进行指定类型的第一接口测试。其中，env.py用于配置待测设备的网络地址、用户名和密码等。可以理解的是，此处示例的文档名称，如env.py、newtext.txt是可以更改的，因此，不能将上述示例的文档名称理解成是对本申请的限制。其中，指定类型的测试包括但不限于一致性测试、修改配置测试和告警测试等。可以理解的是，在对预设测试项进行哪些指定类型的第一接口测试时，也可以通过newtext.txt文档来对需要进行的测试类型进行配置，配置原理与上述的对预设测试项的配置原理一致，如将需要进行测试类型对应的测试值配置为1，将不需要进行测试类型对应的测试值配置为0。在对需要测试的预设测试项进行指定类型的第一接口测试时，默认情况下，需要包含一致性测试，至于修改配置测试以及告警测试可以根据需要进行选择性测试。因此，在获取预设测试文档中测试值被配置为第一阈值的预设测试项之后，需要对获取到的预设测试项进行一致性测试。S2：从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息。可选地，可以利用snmpwalk指令从第一接口获取预设测试项的对象标识符，在利用snmpwalk指令从第一接口获取预设测试项的对象标识符的第一测试项信息时，可以是利用snmpwalk指令从第一接口获取该对象标识符在不同指定协议版本下的第一测试项信息。当然，也可以是获取默认指定协议版本下的第一测试项信息。例如，针对每一个预设测试项，通过v1版本的snmpwalk指令，如“snmpwalk-v1-t6..”去获取该预设测试项的对象标识符的第一测试项信息。需要说明的是，不同指定协议版本下所获取的同一对象标识符的第一测试项信息不同。S3：通过第二接口获取所述对象标识符的第二测试项信息。在获取到的预设测试项后，针对每一个预设测试项，通过第二接口获取该预设测试项的对象标识符的第二测试项信息。例如，利用“curl-X Get”去获取对象标识符的第二测试项信息。S4：通过第三接口获取所述对象标识符的第三测试项信息。在获取到的预设测试项后，针对每一个预设测试项，通过第三接口获取该预设测试的对象标识符的第三测试项信息。如，利用IPMItool相关指令通过第三接口获取该预设测试的对象标识符的第三测试项信息。S5：将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试，得到一致性测试结果。在获取到第一测试项信息、第二测试项信息、第三测试项信息后，将获取的第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试，得到一致性测试结果。在进行一致性测试时，是将不同路径下所获取到的同一对象的测试项信息相互进行信息一致性比对，若三种途径获取到的测试项信息相互一致，则测试通过，反之不通过。需要说明的是，在利用snmpwalk指令从第一接口获取预设测试项的对象标识符的第一测试项信息时，获取的是该对象标识符在不同指定协议版本下的第一测试项信息，则将第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试时，其过程可以是：针对每一个指定协议版本，将该指定协议版本下的第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试。例如，针对指定协议的v1版本，将v1版本下的第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试；针对指定协议的v2版本，将v2版本下的第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试；针对指定协议的v3版本，将v3版本下的第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试。需要说明的是，上述S2-S5所示流程即为一致性测试的原理流程。一种可选实施方式下，在进行一致性测试时，可以是：利用snmpwalk指令从第一接口获取对象标识符在指定协议的v1版本下的第一测试项信息，通过第二接口获取对象标识符的第二测试项信息，通过第三接口获取对象标识符的第三测试项信息，之后，将v1版本下的第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试，得到一致性测试结果；之后，对v2版本进行同样的操作，利用snmpwalk指令从第一接口获取对象标识符在指定协议的v2版本下的第一测试项信息，之后，将v1版本下的第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试，得到一致性测试结果；之后，对v3版本需要先进行SNMP用户名、密码设置，登录BMC，然后再进行同样的操作，利用snmpwalk指令从第一接口获取对象标识符在指定协议的v3版本下的第一测试项信息，之后，将v3版本下的第一测试项信息、第二测试项信息、第三测试项信息相互进行信息一致性测试，得到一致性测试结果。其中，一致性测试结果包括不同版本下的第一测试项信息分别与第二测试项信息、第三测试项信息的比对结果，以及第二测试项信息与第三测试项信息的对比结果。本申请中，在进行一致性测试时，只需要将不同路径下所获取到的同一对象的测试项信息相互进行信息一致性比对即可，而不需要事先设置比对用例，在实现测试目的的同时，极大地提高了测试效率。其中，每一个预设测试项都对应一个唯一的对象标识符oid。优选地，本申请实施例中，预设测试项的对象标识符为该预设测试项在管理信息库MIB文件中的对象标识符。MIB是网络管理体系中的重要构件，它由一个系统内的许多被管理对象及其属性组成。MIB指明了网络元素所维持的变量，同时给出了一个网络中所有可能的被管理对象的集合的数据结构。MIB文件可支持研发人员自定义，其存放的数据类似于："功能/信息"–"其对应的oid值，如为"memPresence"-"1.3.6.1.4.1.3183.1.1.0.880384"。需要说明的是，图1所示的测试流程，除了可以用来对第一接口进行测试外，还可以用来对第二接口以及第三接口进行一致性测试。也即，当需要测试第二接口或第三接口时，也可以是采用图1所示的测试流程进行测试。一种可选实施方式下，在获取到需要进行测试的预设测试项后，可以是先对其进行预测试，之后再进行上述S2-S6的步骤。所谓预测试是指，针对每一个需要进行测试的预设测试项，利用MIB中的对象标识符来更新本次需要测试的预设测试项的对象标识符，使得该预设测试项对象标识符与MIB中的对象标识符保持一致。除了对需要测试的预设测试项进行一致性测试外，还可以针对每一个预设测试项，对其进行其他测试，如进行修改配置测试。一种可选实施方式下，该通信接口测试方法还包括：从第一接口处获取对象标识符的第一参数信息；修改被测设备的第一参数信息；从第一接口处获取对象标识符的第二参数信息，并检测第二参数信息与修改后的第一参数信息是否一致，得到修改配置测试结果，例如，利用snmpget指令从第一接口处获取对象标识符的第一参数信息；利用snmpset指令修改被测设备的第一参数信息；利用snmpget指令从第一接口处获取对象标识符的第二参数信息，并检测第二参数信息与修改后的第一参数信息是否一致，得到修改配置测试结果，其示意图如图2所示。例如，对象标识符为待测设备的开关机状态对应的对象标识符，则第一参数信息为待测设备的开关机状态，假设当前为关机状态，则可以通过snmpset指令将待测设备开关机状态修改为开机状态；之后，又利用snmpget指令去抓取待测设备的开关机状态，之后，将修改配置后利用snmpget指令抓取的开关机状态，与修改时所配置的开关机状态进行比对，看第二参数信息与修改后的第一参数信息是否一致，得到修改配置测试结果。其中，若第二参数信息与修改后的第一参数信息一致，则测试通过，反之则测试不通过。为了更好的理解，举个具体例子进行说明。利用snmpget 1.1去获取待测设备的开关机状态，利用snmpset 1.1去修改待测设备的开关机状态，再利用snmpget 1.1去获取待测设备的开关机状态，之后比较修改后再获取的待测设备的开关机状态是否为开机状态。需要说明的是，不能将此处示例的情形的理解成是对本申请的限制，例如，还可以是对待测设备名称、系统启动项、上电策略、系统时间等进行监控修改。在利用snmpget指令从第一接口处获取对象标识符的第一参数信息时，一种可选实施方式下，可以是利用snmpget指令从第一接口处获取对象标识符在不同指定协议版本下的第一参数信息。当然，也可以是获取默认指定协议版本下的第一参数信息。例如，一种实施方式下，可以是利用snmpget指令从第一接口处获取对象标识符在指定协议的v1版本下的第一参数信息，利用snmpset指令修改被测设备的第一参数信息，利用snmpget指令从第一接口处获取对象标识符的第二参数信息，并检测第二参数信息与修改后的第一参数信息是否一致，得到修改配置测试结果。之后，利用snmpset指令将被测设备的当前状态修改为未修改之前的初始状态，然后，利用snmpget指令从第一接口处获取对象标识符在指定协议的v2版本下的第一参数信息，利用snmpset指令修改被测设备的第一参数信息，利用snmpget指令从第一接口处获取对象标识符的第二参数信息，并检测第二参数信息与修改后的第一参数信息是否一致，得到修改配置测试结果。之后，利用snmpset指令将被测设备的当前状态修改为未修改之前的初始状态，然后，利用snmpget指令从第一接口处获取对象标识符在指定协议的v3版本下的第一参数信息，利用snmpset指令修改被测设备的第一参数信息，利用snmpget指令从第一接口处获取对象标识符的第二参数信息，并检测第二参数信息与修改后的第一参数信息是否一致，得到修改配置测试结果。其中，不同的对象标识符所对应的第一参数信息不同，例如，假设对象标识符为系统整体信息的对象标识符，则第一参数信息可以是包括待测设备开关机状态、待测设备名称、系统启动项、上电策略、系统时间等在内的信息。若对象标识符为CPU，则对应的第一参数信息可以是包括CPU的在位状态、温度、CPU名称等在内的信息。需要说明的是，SNMP协议是用来管理设备的协议，何谓管理可以将其归纳为两个基本点：监控和配置。也就是说：管理一个设备的基本手段可以归纳为get和set两种操作。若需要查询被管理设备的状态，则需要通过SNMP的get操作获得设备的状态信息；同样，如果需要修改或者配置被管理设备的参数，则需要通过SNMP的set操作来完成。其中，snmpwalk指令是对oid值的遍历，比如某个oid值下面有N个节点，则依次遍历出这N个节点的信息。如果对某个叶子节点的oid值做walk，获取到的数据可以是不正确的，因为它会认为该节点是某些节点的父节点，而对其进行遍历，而实际上该节点已经没有下级子节点了，那么它会取出与该叶子节点平级的下一个叶子节点的信息，而不是当前请求的叶子节点的信息。snmpget指令是取具体的oid值的信息，而不会去遍历该oid下的子节点的信息。为了更好的理解，snmpwalk指令和snmpget指令的不同，下面举例进行说明。例如，snmpget 1.1仅获取服务器的开关机状态，snmpwalk 1.1则会获取到系统整体信息，其中包括了服务器开关机状态。除了对需要测试的预设测试项进行一致性测试外，还可以针对每一个预设测试项，对其进行其他测试，如进行告警测试。一种可选实施方式下，该通信接口测试方法还包括：获取对象标识符对应的初始预设告警阈值，并记录，获取与对象标识符对应的传感器的检测值，根据检测值、初始预设告警阈值修改对象标识符对应的告警阈值，以触发告警，检查系统事件日志中是否存在该告警，以及检查第一接口是否发送该告警，得到告警测试结果，以测试第一接口的Trap功能，其原理示意图如图3所示。例如，可以通过IPMI指令获取对象标识符对应的初始预设告警阈值，并记录，通过IPMI指令获取与对象标识符对应的传感器的检测值，通过IPMI指令设置告警阈值以触发告警，查看SEL中是否存在对应告警，以及查看第一接口是否发送对应的告警。若SEL中存在对应告警，且第一接口发送对应的告警，则测试通过，反之测试不通过。为了更好的理解，以对象标识符为CPU的对象标识符为例，则上述的告警测试的流程可以是：1、通过“ipmitool sensor get”抓取到CPU的高阈值为65℃、70℃、75℃，低阈值为15℃、10℃、5℃。2、通过“ipmitool sensor read CPU”获取当前CPU温度为55℃。3、通过“ipmitool sensor thresh upper/lower 40 45 50/75 70 65”分别设置高低阈值，由于当前CPU的温度为55℃，因此，在修改告警阈值时，将高阈值修改为小于55℃，如修改为40℃、45℃、50℃，便会触发高阈值报警，同理，将低阈值修改为大于55℃，如此便会触发低阈值报警，如将低阈值修改为75℃、70℃、65℃。4、检查SEL中是否存在CPU告警。5、检查SNMP接口是否发送CPU告警，或者，检查MIB browser是否收到SNMP接口发送的CPU告警。其中，MIB browser为一款测试SNMP协议的工具，用于检测Trap告警：即当Agent所在的被测设备触发相关告警时，Agent会通过SNMP协议，向测试机发送Trap告警，MIB brower软件便能够接收并提示用户。Trap功能：Agent可以主动向管理站通报重要事件，它的功能就是在网络管理者没有明确要求的前提下，由代理通知网络管理系统，有一些异常情况发生。为了保证待测设备正常运行，可选地，在检查系统事件日志中是否存在该告警之后，该通信接口测试方法还包括：将对象标识符对应的告警阈值恢复为初始预设告警阈值。例如，以上述所示的CPU为例，在检查系统事件日志中是否存在CPU告警之后，将CPU对应的告警阈值恢复为高阈值为65℃、70℃、75℃，低阈值为15℃、10℃、5℃。需要说明的是，不同的测试对象，其对应的传感器以及初始预设告警阈值可以不同，例如，对于CPU而言，其传感器为温度传感器，对应的初始预设告警阈值为温度的初始预设告警阈值。对于电源而言，其对应的传感器可以是温度传感器、电流传感器、电压传感器等，相应的初始预设告警阈值可以为温度、电流、电压等的初始预设告警阈值。待完成所有预测试项的所有指定类型的第一接口测试后，基于各自的测试结果，自动生成测试报告。基于同样的发明构思，本申请实施例还提供了一种属于测试机的通信接口测试装置100，如图4所示。其中，测试机与被测设备通信连接，被测设备包括第一接口、第二接口、第三接口。该通信接口测试装置100包括：获取模块110、测试模块120。获取模块110，用于获取预设测试文档中测试值被配置为第一阈值的预设测试项，所述预设测试文档包含所有预设测试项，每个所述预设测试项的测试值可配置。测试模块120，用于从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息；并通过所述第二接口获取所述对象标识符的第二测试项信息；并通过所述第三接口获取所述对象标识符的第三测试项信息；以及还将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试，得到一致性测试结果。可选地，测试模块120在从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息时，具体用于从所述第一接口获取所述对象标识符在不同指定协议版本下的第一测试项信息；相应地，测试模块120在将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试时，具体用于针对每一个指定协议版本，将该指定协议版本下的第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试。可选地，测试模块120，还用于：从所述第一接口处获取所述对象标识符的第一参数信息；修改所述被测设备的第一参数信息；从所述第一接口处获取所述对象标识符的第二参数信息，并检测所述第二参数信息与修改后的所述第一参数信息是否一致，得到修改配置测试结果。可选地，测试模块120，在从所述第一接口处获取所述对象标识符的第一参数信息时，具体用于从所述第一接口处获取所述对象标识符在不同指定协议版本下的第一参数信息。可选地，测试模块120，还用于：获取所述对象标识符对应的初始预设告警阈值，并记录；获取与所述对象标识符对应的传感器的检测值；根据所述检测值、所述初始预设告警阈值修改所述对象标识符对应的告警阈值，以触发告警；检查系统事件日志中是否存在该告警，以及检查所述第一接口是否发送该告警，得到告警测试结果。可选地，测试模块120，还用于在所述检查系统事件日志中是否存在该告警之后，将所述对象标识符对应的告警阈值恢复为所述初始预设告警阈值。本申请实施例所提供的通信接口测试装置100，其实现原理及产生的技术效果和前述方法实施例相同，为简要描述，装置实施例部分未提及之处，可参考前述方法实施例中相应内容。如图5所示，图5示出了本申请实施例提供的一种测试机200的结构框图。所述测试机200包括：收发器210、存储器220、通讯总线230以及处理器240。所述收发器210、所述存储器220、处理器240各元件相互之间直接或间接地电性连接，以实现数据的传输或交互。例如，这些元件相互之间可通过一条或多条通讯总线230或信号线实现电性连接。其中，收发器210用于收发数据。存储器220用于存储计算机程序，如存储有图4中所示的软件功能模块，即通信接口测试装置100。其中，通信接口测试装置100包括至少一个可以软件或固件的形式存储于所述存储器220中或固化在所述测试机200的操作系统中的软件功能模块。所述处理器240，用于执行存储器220中存储的可执行模块，例如通信接口测试装置100包括的软件功能模块或计算机程序。例如，处理器240，用于获取预设测试文档中测试值被配置为第一阈值的预设测试项，所述预设测试文档包含所有预设测试项，每个所述预设测试项的测试值可配置；从所述第一接口获取所述预设测试项的对象标识符的第一测试项信息；通过第二接口获取所述对象标识符的第二测试项信息；通过第三接口获取所述对象标识符的第三测试项信息；将第一测试项信息、所述第二测试项信息、所述第三测试项信息相互进行信息一致性测试，得到一致性测试结果。其中，存储器220可以是，但不限于，随机存取存储器，只读存储器，可编程只读存储器，可擦除只读存储器，电可擦除只读存储器等。处理器240可能是一种集成电路芯片，具有信号的处理能力。上述的处理器可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。可以实现或者执行本申请实施例中的公开的各方法、步骤及逻辑框图。通用处理器可以是微处理器或者该处理器240也可以是任何常规的处理器等。其中，上述的测试机200，包括但不限于工控机、电脑、服务器等。本申请实施例还提供了一种非易失性的计算机可读取存储介质，该存储介质上存储有计算机程序，该计算机程序被计算机如上述的测试机200运行时，执行上述所示的通信接口测试方法。需要说明的是，本说明书中的各个实施例均采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似的部分互相参见即可。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，附图中的流程图和框图显示了根据本申请的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本申请各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。所述功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个计算机可读存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的计算机可读存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应所述以权利要求的保护范围为准。
