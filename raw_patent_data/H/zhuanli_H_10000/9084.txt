标题title
文件传输方法、装置、系统、设备、介质以及程序产品
摘要abst
本公开提供了一种文件传输方法，可以应用于网络安全技术领域。所述方法应用于中转服务器，所述文件传输系统包括客户端、中转服务器和目标服务器，所述方法包括：接收上传请求，对所述上传请求进行第一校验处理；在所述第一校验处理通过的情况下，接收密文文件和数字信封；利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；对所述还原文件进行第二校验处理；以及在所述第二校验处理通过的情况下，转发所述还原文件。本公开还提供了一种文件传输装置、系统、设备、介质和程序产品。
权利要求书clms
1.一种文件传输方法，所述方法应用于中转服务器，其特征在于，所述方法包括：接收上传请求，对所述上传请求进行第一校验处理；在所述第一校验处理通过的情况下，接收密文文件和数字信封；利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；对所述还原文件进行第二校验处理；以及在所述第二校验处理通过的情况下，转发所述还原文件。2.根据权利要求1所述的方法，其特征在于，所述非对称密钥包括公钥信息和私钥信息；所述第二解密处理包括：获取预设的密钥关系表中的所述私钥信息，所述密钥关系表用以维护所述公钥信息和所述私钥信息的映射关系；以及基于所述私钥信息解密所述数字信封，以得到所述对称密钥。3.根据权利要求2所述的方法，其特征在于，所述对称密钥包括第一密钥和第一向量；所述第一解密处理包括：基于所述第一密钥和所述第一向量对所述密文文件进行解密，以得到预设进制的待上传文件；对所述预设进制的待上传文件进行进制转化，转化至目标进制，以得到所述还原文件。4.根据权利要求1所述的方法，其特征在于，所述接收上传请求，对所述上传请求进行第一校验处理，包括：响应于所述上传请求，判断所述上传请求是否符合当前交易限流条件，所述交易限流条件包括在当前流量超过预设的流量阈值时进行限流；在所述上传请求符合当前交易限流条件的情况下，判断所述上传请求是否符合安全控制规则；以及在所述上传请求符合安全控制规则的情况下，确定第一校验处理的结果为通过。5.根据权利要求4所述的方法，其特征在于，所述判断所述上传请求是否符合安全控制规则，包括：提取所述上传请求中的解密成功率和合法性检查通过率；判断所述解密成功率和所述合法性检查通过率是否超过预设的安全阈值；以及在所述解密成功率和所述合法性检查通过率都大于预设的安全阈值的情况下，判定所述上传请求符合所述安全控制规则。6.根据权利要求1所述的方法，其特征在于，所述对所述还原文件进行第二校验处理，包括：提取所述还原文件的文件名称、文件类型以及文件大小；以及校验所述文件名称、所述文件类型以及所述文件大小是否正确。7.一种文件传输方法，所述方法应用于文件传输系统，所述文件传输系统包括客户端、中转服务器和目标服务器，其特征在于，所述方法包括：由所述客户端获取待上传文件；所述客户端对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；所述客户端上传所述密文文件、所述数字信封以及上传请求；由所述中转服务器接收上传请求，对所述上传请求进行第一校验处理；所述中转服务器在所述第一校验处理通过的情况下，接收密文文件和数字信封；所述中转服务器利用非对称密钥对所述数字信封进行第一解密处理，以得到对称密钥；所述中转服务器通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；所述中转服务器对所述还原文件进行第二校验处理；所述中转服务器在所述第二校验处理通过的情况下，转发所述还原文件；由所述目标服务器接收所述还原文件。8.一种文件传输方法，所述方法应用于客户端，其特征在于，所述方法包括：获取待上传文件；对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；上传所述密文文件、所述数字信封以及上传请求。9.一种文件传输装置，所述装置应用于中转服务器，其特征在于，所述装置包括：第一校验模块，用于接收上传请求，对所述上传请求进行第一校验处理；文件接收模块，用于在所述第一校验处理通过的情况下，接收密文文件和数字信封；第二解密模块，用于利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；第一解密模块，用于通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；第二校验模块，用于对所述还原文件进行第二校验处理；以及转发模块，用于在所述第二校验处理通过的情况下，转发所述还原文件。10.一种文件传输系统，所述系统包括：客户端、中转服务器以及目标服务器，其特征在于，其中，所述客户端，用于获取待上传文件；对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；上传所述密文文件、所述数字信封以及上传请求；所述中转服务器，用于接收上传请求，对所述上传请求进行第一校验处理；在所述第一校验处理通过的情况下，接收密文文件和数字信封；利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；对所述还原文件进行第二校验处理；以及在所述第二校验处理通过的情况下，转发所述还原文件；所述目标服务器，用于接收所述还原文件。11.一种文件传输装置，所述装置应用于客户端，其特征在于，所述装置包括：上传文件获取模块，用于待上传文件；多重加密模块，用于对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；以及消息上传模块，用于上传所述密文文件、所述数字信封以及上传请求。12.一种电子设备，包括：一个或多个处理器；存储器，用于存储一个或多个程序，其中，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器执行根据权利要求1～8中任一项所述的方法。13.一种计算机可读存储介质，其上存储有可执行指令，该指令被处理器执行时使处理器执行根据权利要求1～8中任一项所述的方法。14.一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现根据权利要求1～8中任一项所述的方法。
说明书desc
技术领域本公开涉及信息技术领域，具体涉及网络安全领域，更具体地涉及一种文件传输方法、装置、系统、设备、介质以及程序产品。背景技术现有技术中，在客户端上传文件至目标服务器时，大多采用用户名和口令鉴别技术，通过客户端和目标服务器的直接交互进行身份认证，在身份认证成功的情况下，再实现文件上传。但现有技术并不能保证大批量文件上传的安全性。因此，如何实现大批量的文件的安全上传是亟待解决的问题。发明内容鉴于上述问题，本公开提供了提高网络传输安全性的文件传输方法、系统、设备、介质和程序产品。根据本公开的第一个方面，提供了一种文件传输方法，包括：接收上传请求，对所述上传请求进行第一校验处理；在所述第一校验处理通过的情况下，接收密文文件和数字信封；利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；对所述还原文件进行第二校验处理；以及在所述第二校验处理通过的情况下，转发所述还原文件。根据本公开的实施例，所述非对称密钥包括公钥信息和私钥信息；所述第二解密处理包括：获取预设的密钥关系表中的所述私钥信息，所述密钥关系表用以维护所述公钥信息和所述私钥信息的映射关系；以及基于所述私钥信息解密所述数字信封，以得到所述对称密钥。根据本公开的实施例，所述对称密钥包括第一密钥和第一向量；所述第一解密处理包括：基于所述第一密钥和所述第一向量对所述密文文件进行解密，以得到预设进制的待上传文件；对所述预设进制的待上传文件进行进制转化，转化至目标进制，以得到所述还原文件。根据本公开的实施例，所述接收上传请求，对所述上传请求进行第一校验处理，包括：响应于所述上传请求，判断所述上传请求是否符合当前交易限流条件，所述交易限流条件包括在当前流量超过预设的流量阈值时进行限流；在所述上传请求符合当前交易限流条件的情况下，判断所述上传请求是否符合安全控制规则；以及在所述上传请求符合安全控制规则的情况下，确定第一校验处理的结果为通过。根据本公开的实施例，所述判断所述上传请求是否符合安全控制规则，包括：提取所述上传请求中的解密成功率和合法性检查通过率；判断所述解密成功率和所述合法性检查通过率是否超过预设的安全阈值；以及在所述解密成功率和所述合法性检查通过率都大于预设的安全阈值的情况下，判定所述上传请求符合所述安全控制规则。根据本公开的实施例，所述对所述还原文件进行第二校验处理，包括：提取所述还原文件的文件名称、文件类型以及文件大小；以及校验所述文件名称、所述文件类型以及所述文件大小是否正确。本公开的第二个方面，提供了另一种文件传输方法，所述方法应用于文件传输系统，所述文件传输系统包括客户端、中转服务器和目标服务器，所述方法包括：由所述客户端获取待上传文件；所述客户端对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；所述客户端上传所述密文文件、所述数字信封以及上传请求；由所述中转服务器接收上传请求，对所述上传请求进行第一校验处理；所述中转服务器在所述第一校验处理通过的情况下，接收密文文件和数字信封；所述中转服务器利用非对称密钥对所述数字信封进行第一解密处理，以得到对称密钥；所述中转服务器通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；所述中转服务器对所述还原文件进行第二校验处理；所述中转服务器在所述第二校验处理通过的情况下，转发所述还原文件；由所述目标服务器接收所述还原文件。本公开的第三个方面，提供了另一种文件传输方法，所述方法应用于客户端，所述方法包括：获取待上传文件；对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；上传所述密文文件、所述数字信封以及上传请求。本公开的第四个方面，提供了一种文件传输装置，所述装置应用于中转服务器，所述装置包括：第一校验模块，用于接收上传请求，对所述上传请求进行第一校验处理；文件接收模块，用于在所述第一校验处理通过的情况下，接收密文文件和数字信封；第二解密模块，用于利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；第一解密模块，用于通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；第二校验模块，用于对所述还原文件进行第二校验处理；以及转发模块，用于在所述第二校验处理通过的情况下，转发所述还原文件。本公开的第五个方面，提供了一种文件传输系统，所述系统包括：客户端、中转服务器以及目标服务器，其中，所述客户端，用于获取待上传文件；对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；上传所述密文文件、所述数字信封以及上传请求；所述中转服务器，用于接收上传请求，对所述上传请求进行第一校验处理；在所述第一校验处理通过的情况下，接收密文文件和数字信封；利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；对所述还原文件进行第二校验处理；以及在所述第二校验处理通过的情况下，转发所述还原文件；所述目标服务器，用于接收所述还原文件。本公开的第六个方面，提供了一种文件传输装置，所述装置应用于客户端，所述装置包括：上传文件获取模块，用于待上传文件；多重加密模块，用于对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；以及消息上传模块，用于上传所述密文文件、所述数字信封以及上传请求。本公开的第七个方面，提供了一种电子设备，包括：一个或多个处理器；存储器，用于存储一个或多个程序，其中，当所述一个或多个程序被所述一个或多个处理器执行时，使得一个或多个处理器执行上述文件传输方法。本公开的第八个方面，还提供了一种计算机可读存储介质，其上存储有可执行指令，该指令被处理器执行时使处理器执行上述文件传输方法。本公开的第九个方面，还提供了一种计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现上述文件传输方法。附图说明通过以下参照附图对本公开实施例的描述，本公开的上述内容以及其他目的、特征和优点将更为清楚，在附图中：图1A示意性示出了根据本公开实施例的可以应用文件传输方法和文件传输系统的应用场景图。图1B示意性示出了根据本公开实施例的文件传输系统的结构框图。图2示意性示出了根据本公开实施例的一种文件传输方法的流程图。图3A示意性示出了根据本公开实施例的第一校验处理方法的流程图。图3B示意性示出了根据本公开实施例的安全控制规则方法的流程图。图4示意性示出了根据本公开实施例的另一种文件传输方法的流程图。图5示意性示出了根据本公开实施例的另一种文件传输方法的流程图。图6示意性示出了根据本公开实施例的文件传输方法的全流程图。图7示意性示出了根据本公开实施例的加密传输方法的全流程取。图8示意性示出了根据本公开实施例的一种信息传输装置的结构框图。图9示意性示出了根据本公开实施例的另一种信息传输装置的结构框图。图10示意性示出了根据本公开实施例的适于实现文件传输方法的电子设备的方框图。具体实施方式以下，将参照附图来描述本公开的实施例。但是应该理解，这些描述只是示例性的，而并非要限制本公开的范围。在下面的详细描述中，为便于解释，阐述了许多具体的细节以提供对本公开实施例的全面理解。然而，明显地，一个或多个实施例在没有这些具体细节的情况下也可以被实施。此外，在以下说明中，省略了对公知结构和技术的描述，以避免不必要地混淆本公开的概念。在此使用的术语仅仅是为了描述具体实施例，而并非意在限制本公开。在此使用的术语“包括”、“包含”等表明了所述特征、步骤、操作和/或部件的存在，但是并不排除存在或添加一个或多个其他特征、步骤、操作或部件。在此使用的所有术语具有本领域技术人员通常所理解的含义，除非另外定义。应注意，这里使用的术语应解释为具有与本说明书的上下文相一致的含义，而不应以理想化或过于刻板的方式来解释。在使用类似于“A、B和C等中至少一个”这样的表述的情况下，一般来说应该按照本领域技术人员通常理解该表述的含义来予以解释。首先，对本公开的实施例将要用到的专业术语进行一一解释说明：AES：高级加密标准，是一种对称加密方式，加密与解密使用相同的密钥。对称加密是快速、简单的一种加密方式，对称加密通常使用的是相对较小的密钥，一般小于256bit。密钥的大小与加密的安全程度呈正相关，密钥的大小与加密与解密过程的解密时间负相关。AES为分组密码，分组密码也就是将明文按组划分，每组长度相等，每次加密一组数据，直至整个明文被加密。在AES标准规范中，分组长度只能是128位，也就是说，每个分组为16个字节。密钥的长度可以使用128位、192位或256位。密钥的长度不同，加密轮数也不同。RSA：RSA加密算法，是一种非对称加密方式，加密与解密使用不同的秘钥，一般场景是使用公钥加密，私钥解密，密钥长度有512bit，1024bit，2048bit，4096bit，需要大量的乘幂求模等算法，运行速度较慢。目前使用较多的场景是，在传输对称加密秘钥时，使用非对称加密算法对其进行加密，因为对称加密的秘钥一般不超过256bit。非对称加密算法：需要两个密钥进行加密和解密，这两个密钥是公开密钥和私有密钥。非对称加密的典型算法有RSA算法和ECC算法。数字信封：将对称密钥通过非对称加密的结果分发密钥的方法。数字信封是实现信息保密性验证的技术。用户名/口令鉴别技术：通过输入用户名和对应的已经设置的口令进行身份有效性验证的技术。现有技术中，在客户端在上传文件至目标服务器时，所上传的文件并未经过加密处理，因此会引发文件在网络传输过程中被篡改或被盗取的风险；而同时，大批量的文件在加密状态下上传，又会大规模的占用服务器的处理资源，从而影响正常业务的处理。为解决现有技术中存在的问题，本公开的实施例提供了一种文件传输方法，所述方法应用于中转服务器，所述方法包括：接收上传请求，对所述上传请求进行第一校验处理；在所述第一校验处理通过的情况下，接收密文文件和数字信封；利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；对所述还原文件进行第二校验处理；以及在所述第二校验处理通过的情况下，转发所述还原文件。在本公开的实施例中，通过加密处理后，再进行文件传输使得文件的传输更加安全，避免了在客户端与服务器交互时所上传的数据被篡改的风险。同时，加密后所得到的密文文件和数字信封在中转服务器完成解密处理，使得中转服务器分担了目标服务器的一部分处理任务，释放了目标服务器的处理资源，使得基于该文件传输的方法，能够安全地完成大批量文件的传输。图1A示意性示出了根据本公开实施例的文件传输方法的应用场景图。如图1A所示，根据该实施例的应用场景100可以包括终端101、102、103、网络104、中转服务器105和目标服务器106。网络104用以在终端设备101、102、103和服务器105之间提供通信链路的介质。网络104可以包括各种连接类型，例如有线、无线通信链路或者光纤电缆等等。用户可以使用终端设备101、102、103通过网络104与中转服务器105交互，以接收或发送消息等。终端设备101、102、103上可以安装有各种通讯终端应用，例如购物类应用、网页浏览器应用、搜索类应用、即时通信工具、邮箱终端、社交平台软件等。终端设备101、102、103可以是具有显示屏并且支持网页浏览的各种电子设备，包括但不限于智能手机、平板电脑、膝上型便携计算机和台式计算机等等。中转服务器105可以是提供各种服务的服务器，例如对用户利用终端设备101、102、103所浏览的网站提供支持的后台管理服务器。后台管理服务器可以对接收到的用户请求等数据进行分析等处理，并将处理结果反馈给终端设备。目标服务器106可以是提供各种服务的服务器，仅与中转服务器进行连接，例如用户需要访问中转服务器时，需要通过中转服务器与其进行通信。需要说明的是，本公开实施例所提供的文件传输方法一般可以在相应的步骤分别由对应的终端101、102、103、中转服务器105和目标服务器106执行。相应地，本公开实施例所提供的文件传输系统的相应部分一般可以分别设置于分别由对应的终端101、102、103、中转服务器105和目标服务器106中。本公开实施例所提供的文件传输方法中相应的部分也分别由所述中转服务器105和目标服务器106的服务器或服务器集群执行。相应地，本公开实施例所提供的文件传输系统中的相应部分也可以设置于不同于服务器105且能够与终端设备101、102、103和/或服务器105通信的服务器或服务器集群中。应该理解，图1A中的终端设备、网络和服务器的数目仅仅是示意性的。根据实现需要，可以具有任意数目的终端设备、网络和服务器。图1B示意性示出了根据本公开实施例的文件传输系统的结构框图。如图1B所示，所述文件传输系统包括：客户端110、中转服务器120以及目标服务器130，其中，所述客户端110，用于获取待上传文件；对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；上传所述密文文件、所述数字信封以及上传请求；所述中转服务器120，用于接收上传请求，对所述上传请求进行第一校验处理；在所述第一校验处理通过的情况下，接收密文文件和数字信封；利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；对所述还原文件进行第二校验处理；以及在所述第二校验处理通过的情况下，转发所述还原文件；所述目标服务器130，用于接收所述还原文件。需要说明的是，该文件传输系统中，客户端110不能与目标服务器130进行直接的文件传输，需要通过中转服务器120完成数据的转发。在客户端110和中转服务器120的文件传输过程中，需要进行加密通信，以保证数据的安全性。而中转服务器120和目标服务器130处于同一网络当中，文件传输的安全性较为可靠，因此，在中转服务器120和目标服务器130之间的文件传输通过不加密的方式进行。图2示意性示出了根据本公开实施例的一种文件传输方法的流程图。结合图1B和图2，该实施例的文件传输方法包括操作S210～操作S260。所述文件传输方法应用于中转服务器120中。在操作S210，接收上传请求，对所述上传请求进行第一校验处理。图3A示意性示出了根据本公开实施例的第一校验处理方法的流程图。如图3A所示，该实施例的第一校验处理方法包括S310～S330。在操作S310，响应于所述上传请求，判断所述上传请求是否符合当前交易限流条件，所述交易限流条件包括在当前流量超过预设的流量阈值时进行限流。具体地，所述预设的流量阈值可以是预先进行配置的动态阈值，也可以是实时配置的动态阈值。所述限流包括：暂停接收所述密文文件和数字信封，并在当前流量小于预设的流量阈值时，开放文件的接收通道。在操作S320，在所述上传请求符合当前交易限流条件的情况下，判断所述上传请求是否符合安全控制规则。需要说明的是，对于上述操作S310和操作S320，还可以是先执行安全控制规则的校验，并在安全控制规则通过的情况下，执行交易限流条件的校验。进而对于操作S330，还可以是，在所述上传请求符合交易限流条件的情况下，确定第一校验处理的结果为通过。图3B示意性示出了根据本公开实施例的安全控制规则方法的流程图。如图3B所示，该实施例的安全控制规则对应操作S320，操作S320包括操作S321～操作S323。在操作S321，提取所述上传请求中的解密成功率和合法性检查通过率。在操作S322，判断所述解密成功率和所述合法性检查通过率是否超过预设的安全阈值。在操作S323，在所述解密成功率和所述合法性检查通过率都大于预设的安全阈值的情况下，判定所述上传请求符合所述安全控制规则。具体地，由于对于密文文件的解密概率不可能为百分之百，因此，需要对上传请求中的解密成功率进行校验，当所述解密成功率通过预设的安全阈值时，该密文文件才具备解密的价值。而对于合法性检查通过率，一般在客户端110接收原始的上传文件时，已经进行过了合法性检查，因此，中转服务器120仅仅是对合法性检查通过率进行校验，确保接收到的密文文件的原始文件属于合法文件。其中，所述合法性检查包括对原始文件的大小和类型进行检查。在操作S330，在所述上传请求符合安全控制规则的情况下，确定第一校验处理的结果为通过。在本公开的实施例中，在由所述中转服务器对密文文件进行一系列的解密操作前，还需要判断密文文件是否符合交易限流条件和安全控制规则。通过多重校验保证了交易业务平稳进行以及运行安全。在操作S220，在所述第一校验处理通过的情况下，接收密文文件和数字信封。在操作S230，利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥。根据本公开的实施例，所述非对称密钥包括公钥信息和私钥信息；所述第二解密处理包括：获取预设的密钥关系表中的所述私钥信息，所述密钥关系表用以维护所述公钥信息和所述私钥信息的映射关系；以及基于所述私钥信息解密所述数字信封，以得到所述对称密钥。具体地，所述第二解密处理可以是例如针对RSA加解密算法所进行的解密操作，RSA加解密算法属于非对称算法，RSA加解密算法在进行文件加密时采用公钥算法，在进行文件解密时采用私钥算法，因此，需要在预设的密钥关系表中获取相应的用以解密的公钥。具体地，所述密钥关系表可以是例如存储于服务器后端的JavaScript库文件，该JavaScript库文件可以对所述密钥关系表进行动态维护。在操作S240，通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件。具体地，所述第一解密处理可以是例如针对AES加解密算法所进行的解密操作，AES加解密算法属于对称算法，也就是说，该AES加解密算法在进行文件解密时，是按照对文件的加密的逆步骤进行操作，因此，不需要像RSA加解密算法那样，通过获取密钥关系表中的私钥进行解密。根据本公开的实施例，所述对称密钥包括第一密钥和第一向量；所述第一解密处理包括：基于所述第一密钥和所述第一向量对所述密文文件进行解密，以得到预设进制的待上传文件；对所述预设进制的待上传文件进行进制转化，转化至目标进制，以得到所述还原文件。在操作S250，对所述还原文件进行第二校验处理。根据本公开的实施例，所述对所述还原文件进行第二校验处理，包括：提取所述还原文件的文件名称、文件类型以及文件大小；以及校验所述文件名称、所述文件类型以及所述文件大小是否正确。在操作S260，在所述第二校验处理通过的情况下，转发所述还原文件。在本公开的实施例中，通过加密处理后，再进行文件传输使得文件的传输更加安全，避免了在客户端与服务器交互时所上传的数据被篡改的风险。同时，加密后所得到的密文文件和数字信封在中转服务器完成解密处理，使得中转服务器分担了目标服务器的一部分处理任务，释放了目标服务器的处理资源，使得基于该文件传输的方法，能够安全地完成大批量文件的传输。图4示意性示出了根据本公开实施例的另一种文件传输方法的流程图。结合图1B和图4，该实施例的文件传输方法包括操作S410～操作S430。所述文件传输方法应用于客户端110中。在操作S410，获取待上传文件。根据本公开的实施例，对所述待上传文件进行合法性检验，判断文件类型和文件大小是否符合标准，并在合法性检验通过的情况下接收待上传文件。在操作S420，对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥。具体地，所述第一加密处理可以是例如针对AES加解密算法所进行的加密操作，所述第二加密处理可以是例如针对RSA加解密算法所进行的加密操作。其中，在RSA加解密算法生成私钥，便将相应的公钥存储至后端的JavaScript库文件中。根据本公开的实施例，所述对称密钥包括第一密钥和第一向量。在操作S430，上传所述密文文件、所述数字信封以及上传请求。图5示意性示出了根据本公开实施例的另一种文件传输方法的流程图。图7示意性示出了根据本公开实施例的加密传输方法的全流程取。结合图5、图6和图7所示，该实施例的文件传输方法包括操作S501～操作S510。所述文件传输方法应用于文件传输系统中。在操作S501，由所述客户端获取待上传文件。例如，客户端110可以是商户的客户端，中转服务器可以是境外商户之家旗下的分行特色转发器，目标服务器可以是分行服务器。境外商户之家是工行面向境外收单商户提供的商户管理服务平台，为收单商户提供统一的明细查询/下载、对账单查询/下载、信用卡预授信管理以及退款管理等功能。同时境外商户之家还向分行提供了本地特色功能接入能力，支持分行通过分行特色转发器接入境外商户之家，为本地客户提供定制化的特色服务，更好的服务本地收单商户。分行特色转发器：境外商户之家作为一个总行应用，为全行商户提供统一的收单服务，同时支持具有科技研发能力的分行，通过分行特色转发器接入商户之家，为分行本地客户提供定制化的特色收单业务，更好的服务本地商户。在操作S502，所述客户端对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥。在操作S503，所述客户端上传所述密文文件、所述数字信封以及上传请求。在操作S504，由所述中转服务器接收上传请求，对所述上传请求进行第一校验处理。在操作S505，所述中转服务器在所述第一校验处理通过的情况下，接收密文文件和数字信封。在操作S506，所述中转服务器利用非对称密钥对所述数字信封进行第一解密处理，以得到对称密钥。具体地，基于AES加密算法生成对称密钥，使用对称密钥加密原始文件，得到密文文件；获取RSA公钥，通过RSA公钥加密对称密钥得到数字信封。在操作S507，所述中转服务器通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件。在操作S508，所述中转服务器对所述还原文件进行第二校验处理。在操作S509，所述中转服务器在所述第二校验处理通过的情况下，转发所述还原文件。在操作S510，由所述目标服务器接收所述还原文件。根据本公开的实施例，由所述客户端110传输文件至所述中转服务器120的方式还包括：采用数字证书认证的方式。例如，可以使用公钥基础设施的数字证书认证的系统，使用数字签名的方式保证文件的传输安全。该数字认证系统是计算机软硬件、权威机构及应用系统的结合，为不同的交互双方提供基本的安全服务。需要说明的是，在本公开的实施例中，在客户端110和中转服务器120都进行了合法性校验，两者同样检验文件大小和文件类型，保证了原始文件在传输过程和/或加/解密过程后的一致性。还需要说明的是，在本公开的实施例中，在实施操作S501之前，需要客户端110获取目标服务器130中的与文件上传相关的页面信息以及静态资源，使得客户端的浏览器进行页面的加载。具体地，由客户端110向中转服务器120发送获取资源的请求。由所述中转服务器120校验该请求的是否具有菜单权限以及该权限是否失效等，并将请求进行相关处理，寻找到目标服务器130的地址。由目标服务器130拼接好页面信息并经由所述中转服务器120转发至客户端110，以及在上传过程过基于客户端110的相关操作不断返回与加载静态资源。在本公开的实施例中，通过加密处理后，再进行文件传输使得文件的传输更加安全，避免了在客户端与服务器交互时所上传的数据被篡改的风险。同时，加密后所得到的密文文件和数字信封在中转服务器完成解密处理，使得中转服务器分担了目标服务器的一部分处理任务，释放了目标服务器的处理资源。图6示意性示出了根据本公开实施例的文件传输方法的全流程图。如图6所示，在本公开的实施例中，包括商户客户端、境外商户之家服务器以及分行服务器。该文件传输方法包括操作S601～操作S615。在操作S601，获取待上传文件。在操作S602，对待上传文件进行合法性校验。通过，则进行操作S603；不通过，则进行操作S615。在操作S603，对待上传文件进行16进制转换。在操作S604，基于AES加密算法和RSA公钥，生成密文文件和数字信封。在操作S605，调用文件上传接口，进行交易限流校验。通过，则进行操作S606；不通过，则进行操作S607。在操作S606，进行安全规则校验。通过，则进行操作S608；不通过，则进行操作S607。在操作S607，进行异常报警，并进行操作S615。在操作S608，从预设的密钥关系表中获取RSA私钥。具体地，在获取RSA私钥前需要获取分行服务器所在地区，根据该地区可获取相应的密钥关系表。在操作S609，通过RSA私钥解密数字信封，并通过解密后的数字信封解密密文文件，得到还原文件。具体地，解密后的数字信封则是最初的对称密钥。在操作S610，校验还原文件的合法性。通过，则进行操作S611；不通过则进行操作S615。在操作S611，将对还原文件的操作登记至日志表。在操作S612，转发还原文件至分行服务器。在操作S613，对还原文件进行相应的业务处理。在操作S614，展示处理结果画面。在操作S615，展示错误页面。图8示意性示出了根据本公开实施例的一种信息传输装置的结构框图。如图8所示，该实施例的文件传输装置800应用于中转服务器120中，所述装置包括：第一校验模块810，用于接收上传请求，对所述上传请求进行第一校验处理；在一实施例中，所述第一校验模块810可以用于执行前文描述的操作S210，在此不再赘述。文件接收模块820，用于在所述第一校验处理通过的情况下，接收密文文件和数字信封；在一实施例中，所述文件接收模块820可以用于执行前文描述的操作S220，在此不再赘述。第二解密模块830，用于利用非对称密钥对所述数字信封进行第二解密处理，以得到对称密钥；在一实施例中，所述第二解密模块830可以用于执行前文描述的操作S230，在此不再赘述。第一解密模块840，用于通过所述对称密钥对所述密文文件进行第一解密处理，以得到还原文件；在一实施例中，所述第一解密模块可以用于执行前文描述的操作S240，在此不再赘述。第二校验模块850，用于对所述还原文件进行第二校验处理；在一实施例中，所述第二校验模块850可以用于执行前文描述的操作S250，在此不再赘述。转发模块860，用于在所述第二校验处理通过的情况下，转发所述还原文件。在一实施例中，所述转发模块可以用于执行前文描述的操作S260，在此不再赘述。根据本公开的实施例，所述第一校验模块包括：交易限流单元，用于响应于所述上传请求，判断所述上传请求是否符合当前交易限流条件，所述交易限流条件包括在当前流量超过预设的流量阈值时进行限流；安全控制单元，用于在所述上传请求符合当前交易限流条件的情况下，判断所述上传请求是否符合安全控制规则；以及第一校验结果单元，用于在所述上传请求符合安全控制规则的情况下，确定第一校验处理的结果为通过。根据本公开的实施例第一校验模块810、文件接收模块820、第二解密模块830、第一解密模块840、第二校验模块850以及转发模块860中的任意多个模块可以合并在一个模块中实现，或者其中的任意一个模块可以被拆分成多个模块。或者，这些模块中的一个或多个模块的至少部分功能可以与其他模块的至少部分功能相结合，并在一个模块中实现。根据本公开的实施例，第一校验模块810、文件接收模块820、第二解密模块830、第一解密模块840、第二校验模块850以及转发模块860中的至少一个可以至少被部分地实现为硬件电路，例如现场可编程门阵列、可编程逻辑阵列、片上系统、基板上的系统、封装上的系统、专用集成电路，或可以通过对电路进行集成或封装的任何其他的合理方式等硬件或固件来实现，或以软件、硬件以及固件三种实现方式中任意一种或以其中任意几种的适当组合来实现。或者，第一校验模块810、文件接收模块820、第二解密模块830、第一解密模块840、第二校验模块850以及转发模块860中的至少一个可以至少被部分地实现为计算机程序模块，当该计算机程序模块被运行时，可以执行相应的功能。在本公开的实施例中，通过加密处理后，再进行文件传输使得文件的传输更加安全，避免了在客户端与服务器交互时所上传的数据被篡改的风险。同时，加密后所得到的密文文件和数字信封在中转服务器完成解密处理，使得中转服务器分担了目标服务器的一部分处理任务，释放了目标服务器的处理资源。图9示意性示出了根据本公开实施例的另一种信息传输装置的结构框图。如图9所示，该实施例的文件传输装置900应用于客户端110中，所述装置包括：上传文件获取模块910，用于待上传文件；在一实施例中，所述上传文件获取模块910可以用于执行前文描述的操作S410，在此不再赘述。多重加密模块920，用于对所述待上传文件进行多重加密，得到密文文件和数字信封，其中，所述多重加密包括第一加密处理和第二加密处理，在所述第一加密处理中基于对称算法生成对称密钥，在所述第二加密处理中基于非对称算法生成非对称密钥；在一实施例中，多重加密模块920可以用于执行前文描述的操作S420，在此不再赘述。消息上传模块930，用于上传所述密文文件、所述数字信封以及上传请求。在一实施例中，所述消息上传模块930可以用于执行前文描述的操作S430，在此不再赘述。根据本公开的实施例上传文件获取模块910、多重加密模块920以及消息上传模块930中的任意多个模块可以合并在一个模块中实现，或者其中的任意一个模块可以被拆分成多个模块。或者，这些模块中的一个或多个模块的至少部分功能可以与其他模块的至少部分功能相结合，并在一个模块中实现。根据本公开的实施例，上传文件获取模块910、多重加密模块920以及消息上传模块930中的至少一个可以至少被部分地实现为硬件电路，例如现场可编程门阵列、可编程逻辑阵列、片上系统、基板上的系统、封装上的系统、专用集成电路，或可以通过对电路进行集成或封装的任何其他的合理方式等硬件或固件来实现，或以软件、硬件以及固件三种实现方式中任意一种或以其中任意几种的适当组合来实现。或者，上传文件获取模块910、多重加密模块920以及消息上传模块930中的至少一个可以至少被部分地实现为计算机程序模块，当该计算机程序模块被运行时，可以执行相应的功能。图10示意性示出了根据本公开实施例的适于实现文件传输方法的电子设备的方框图。如图10所示，根据本公开实施例的电子设备1000包括处理器1001，其可以根据存储在只读存储器1002中的程序或者从存储部分1008加载到随机访问存储器1003中的程序而执行各种适当的动作和处理。处理器1001例如可以包括通用微处理器、指令集处理器和/或相关芯片组和/或专用微处理器)等等。处理器1001还可以包括用于缓存用途的板载存储器。处理器1001可以包括用于执行根据本公开实施例的方法流程的不同动作的单一处理单元或者是多个处理单元。在RAM 1003中，存储有电子设备1000操作所需的各种程序和数据。处理器1001、ROM 1002以及RAM 1003通过总线1004彼此相连。处理器1001通过执行ROM 1002和/或RAM1003中的程序来执行根据本公开实施例的方法流程的各种操作。需要注意，所述程序也可以存储在除ROM 1002和RAM 1003以外的一个或多个存储器中。处理器1001也可以通过执行存储在所述一个或多个存储器中的程序来执行根据本公开实施例的方法流程的各种操作。根据本公开的实施例，电子设备1000还可以包括输入/输出接口1005，输入/输出接口1005也连接至总线1004。电子设备1000还可以包括连接至I/O接口1005的以下部件中的一项或多项：包括键盘、鼠标等的输入部分1006；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分1007；包括硬盘等的存储部分1008；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分1009。通信部分1009经由诸如因特网的网络执行通信处理。驱动器1010也根据需要连接至I/O接口1005。可拆卸介质1011，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器1010上，以便于从其上读出的计算机程序根据需要被安装入存储部分1008。本公开还提供了一种计算机可读存储介质，该计算机可读存储介质可以是上述实施例中描述的设备/装置/系统中所包含的；也可以是单独存在，而未装配入该设备/装置/系统中。上述计算机可读存储介质承载有一个或者多个程序，当上述一个或者多个程序被执行时，实现根据本公开实施例的方法。根据本公开的实施例，计算机可读存储介质可以是非易失性的计算机可读存储介质，例如可以包括但不限于：便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本公开中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。例如，根据本公开的实施例，计算机可读存储介质可以包括上文描述的ROM 1002和/或RAM 1003和/或ROM 1002和RAM 1003以外的一个或多个存储器。本公开的实施例还包括一种计算机程序产品，其包括计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。当计算机程序产品在计算机系统中运行时，该程序代码用于使计算机系统实现本公开实施例所提供的物品推荐方法。在该计算机程序被处理器1001执行时执行本公开实施例的系统/装置中限定的上述功能。根据本公开的实施例，上文描述的系统、装置、模块、单元等可以通过计算机程序模块来实现。在一种实施例中，该计算机程序可以依托于光存储器件、磁存储器件等有形存储介质。在另一种实施例中，该计算机程序也可以在网络介质上以信号的形式进行传输、分发，并通过通信部分1009被下载和安装，和/或从可拆卸介质1011被安装。该计算机程序包含的程序代码可以用任何适当的网络介质传输，包括但不限于：无线、有线等等，或者上述的任意合适的组合。在这样的实施例中，该计算机程序可以通过通信部分1009从网络上被下载和安装，和/或从可拆卸介质1011被安装。在该计算机程序被处理器1001执行时，执行本公开实施例的系统中限定的上述功能。根据本公开的实施例，上文描述的系统、设备、装置、模块、单元等可以通过计算机程序模块来实现。根据本公开的实施例，可以以一种或多种程序设计语言的任意组合来编写用于执行本公开实施例提供的计算机程序的程序代码，具体地，可以利用高级过程和/或面向对象的编程语言、和/或汇编/机器语言来实施这些计算程序。程序设计语言包括但不限于诸如Java，C++，python，“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算设备上执行、部分地在用户设备上执行、部分在远程计算设备上执行、或者完全在远程计算设备或服务器上执行。在涉及远程计算设备的情形中，远程计算设备可以通过任意种类的网络，包括局域网或广域网，连接到用户计算设备，或者，可以连接到外部计算设备。附图中的流程图和框图，图示了按照本公开各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，上述模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图或流程图中的每个方框、以及框图或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。本领域技术人员可以理解，本公开的各个实施例和/或权利要求中记载的特征可以进行多种组合或/或结合，即使这样的组合或结合没有明确记载于本公开中。特别地，在不脱离本公开精神和教导的情况下，本公开的各个实施例和/或权利要求中记载的特征可以进行多种组合和/或结合。所有这些组合和/或结合均落入本公开的范围。以上对本公开的实施例进行了描述。但是，这些实施例仅仅是为了说明的目的，而并非为了限制本公开的范围。尽管在以上分别描述了各实施例，但是这并不意味着各个实施例中的措施不能有利地结合使用。本公开的范围由所附权利要求及其等同物限定。不脱离本公开的范围，本领域技术人员可以做出多种替代和修改，这些替代和修改都应落在本公开的范围之内。
