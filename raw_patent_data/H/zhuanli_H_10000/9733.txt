标题title
基于区块链技术的文件全生命周期管理方法及装置
摘要abst
本发明涉及文件管理技术领域，揭露一种基于区块链技术的文件全生命周期管理方法、装置、电子设备以及介质，所述方法包括：根据第一区块节点发送的文件保存指令查询文件保存系统，向所述文件保存系统发送广播指令，当所述文件保存指令被第二区块节点响应时，接收待保存文件并对所述待保存文件进行重加密，得到加密文件和重加密密钥，根据所述重加密密钥将所述加密文件存入至预构建的分布式数据库，接收数据请求端发送的文件请求指令，若所述数据请求端不具有查询权限，利用所述文件保存系统对所述数据请求端执行权限提升，直至所述数据请求端具有查询权限，将所述待保存文件反馈至所述数据请求端。本发明可提高文件全生命周期管理安全性不高问题。
权利要求书clms
1.一种基于区块链技术的文件全生命周期管理方法，其特征在于，所述方法包括：接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，其中所述文件保存系统包括第二区块节点；向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点；当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥；根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库；接收数据请求端发送的文件请求指令，判断所述数据请求端是否具有查询权限；若所述数据请求端不具有查询权限，利用所述文件保存系统对所述数据请求端执行权限提升，直至所述数据请求端具有查询权限，将所述待保存文件反馈至所述数据请求端。2.如权利要求1所述的基于区块链技术的文件全生命周期管理方法，其特征在于，所述对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥，包括：基于预设的加密算法生成临时公钥和临时私钥；利用所述临时公钥对预获取的本地公钥进行加密，得到加密公钥，利用所述临时私钥对预获取的本地私钥进行加密，得到加密私钥；将所述加密公钥和所述加密私钥进行相乘，得到加密密钥，利用临时私钥对所述加密密钥进行解密，得到重加密密钥；利用所述重加密密钥对所述待保存文件进行加密处理，得到所述加密文件。3.如权利要求2所述的基于区块链技术的文件全生命周期管理方法，其特征在于，所述基于预设的加密算法生成临时公钥和临时私钥，包括：获取第一质数及第二质数，计算所述第一质数及所述第二质数的乘积，得到第一乘积质数；分别计算所述第一质数、所述第二质数与预设值的差值，得到第一差值与第二差值，计算所述第一差值与所述第二差值的乘积，得到第二乘积质数；按照预设公式，计算所述第一乘积质数与所述第二乘积质数，得到所述临时公钥和所述临时私钥。4.如权利要求1所述的基于区块链技术的文件全生命周期管理方法，其特征在于，所述根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库，包括：将所述重加密密钥存储至预设的数据块中，直至所述数据块中所述重加密密钥的数据量达到预设个数时，计算所述数据块的默克尔根；将所述默克尔根存入至预构建的密码区块链中，并将所述加密文件存入所述分布式数据库。5.如权利要求4所述的基于区块链技术的文件全生命周期管理方法，其特征在于，所述计算所述数据块的默克尔根，包括：根据预先设定的重加密密钥阈值，从所述数据块中提取得到重加密密钥集；分别计算所述重加密密钥集每个重加密密钥的哈希值，得到哈希值集；计算所述哈希值集每个哈希值与其他哈希值的求和值，得到求和哈希值集；从所述求和哈希值集中提取得到所述默克尔根。6.如权利要求1中所述的基于区块链技术的文件全生命周期管理方法，其特征在于，所述根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，之前还包括：判断所述第一区块节点提交的文件保存指令是否符合预设的提交格式；若所述文件保存指令符合所述提交格式，则根据所述文件保存指令查询所述文件保存系统；若所述文件保存指令不符合所述提交格式，则向所述第一区块节点返回重新发送的提醒消息。7.如权利要求1所述的基于区块链技术的文件全生命周期管理方法，其特征在于，所述判断所述数据请求端是否具有查询权限，包括：解析所述文件请求指令，得到所述文件请求指令对应的端口信息；判断所述端口信息在预设的查询权限表中是否存在；若所述端口信息在所述查询权限表中存在，则判定所述数据请求端具有查询权限；若所述端口信息在所述查询权限表中不存在，则判定所述数据请求端不具有查询权限。8.一种基于区块链技术的文件全生命周期管理装置，其特征在于，所述装置包括：节点广播模块，用于接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，其中所述文件保存系统包括第二区块节点，向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点；重加密密钥计算模块，用于当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥；加密文件存储模块，用于根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库；文件查询模块，用于接收数据请求端发送的文件请求指令，判断所述数据请求端是否具有查询权限，若所述数据请求端不具有查询权限，利用所述文件保存系统对所述数据请求端执行权限提升，直至所述数据请求端具有查询权限，将所述待保存文件反馈至所述数据请求端。9.一种电子设备，其特征在于，所述电子设备包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行如权利要求1至7中任意一项所述的基于区块链技术的文件全生命周期管理方法。10.一种计算机可读存储介质，存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至7中任意一项所述的基于区块链技术的文件全生命周期管理方法。
说明书desc
技术领域本发明涉及文件管理技术领域，尤其涉及一种基于区块链技术的文件全生命周期管理方法、装置、电子设备及计算机可读存储介质。背景技术伴随大数据及人工智能的发展，文件数据呈指数级增长，对文件数据的保存、同步及共享一直是一个解决难点。现有的文件数据保存、同步及共享主要基于区块链技术，先对文件数据进行加密，然后将加密密钥和加密后的文件数据一起上传至区块链节点中，这种将加密密钥和加密后的文件数据存储至一起的方法，一旦加密密钥泄漏后很容易对放置在一起的加密文件数据进行解密，容易造成数据泄漏，安全性不高。发明内容本发明提供一种基于区块链技术的文件全生命周期管理方法、装置、电子设备及计算机可读存储介质，其主要目的在于提高文件全生命周期管理安全性不高的问题。为实现上述目的，本发明提供的一种基于区块链技术的文件全生命周期管理方法，包括：接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，其中所述文件保存系统包括第二区块节点；向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点；当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥；根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库；接收数据请求端发送的文件请求指令，判断所述数据请求端是否具有查询权限；若所述数据请求端不具有查询权限，利用所述文件保存系统对所述数据请求端执行权限提升，直至所述数据请求端具有查询权限，将所述待保存文件反馈至所述数据请求端。可选地，所述对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥，包括：基于预设的加密算法生成临时公钥和临时私钥；利用所述临时公钥对预获取的本地公钥进行加密，得到加密公钥，利用所述临时私钥对预获取的本地私钥进行加密，得到加密私钥；将所述加密公钥和所述加密私钥进行相乘，得到加密密钥，利用临时私钥对所述加密密钥进行解密，得到重加密密钥；利用所述重加密密钥对所述待保存文件进行加密处理，得到所述加密文件。可选地，所述基于预设的加密算法生成临时公钥和临时私钥，包括：获取第一质数及第二质数，计算所述第一质数及所述第二质数的乘积，得到第一乘积质数；分别计算所述第一质数、所述第二质数与预设值的差值，得到第一差值与第二差值，计算所述第一差值与所述第二差值的乘积，得到第二乘积质数；按照预设公式，计算所述第一乘积质数与所述第二乘积质数，得到所述临时公钥和所述临时私钥。可选地，所述根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库，包括：将所述重加密密钥存储至预设的数据块中，直至所述数据块中所述重加密密钥的数据量达到预设个数时，计算所述数据块的默克尔根；将所述默克尔根存入至预构建的密码区块链中，并将所述加密文件存入所述分布式数据库。可选地，所述计算所述数据块的默克尔根，包括：根据预先设定的重加密密钥阈值，从所述数据块中提取得到重加密密钥集；分别计算所述重加密密钥集每个重加密密钥的哈希值，得到哈希值集；计算所述哈希值集每个哈希值与其他哈希值的求和值，得到求和哈希值集；从所述求和哈希值集中提取得到所述默克尔根。可选地，所述根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，之前还包括：判断所述第一区块节点提交的文件保存指令是否符合预设的提交格式；若所述文件保存指令符合所述提交格式，则根据所述文件保存指令查询所述文件保存系统；若所述文件保存指令不符合所述提交格式，则向所述第一区块节点返回重新发送的提醒消息。可选地，所述判断所述数据请求端是否具有查询权限，包括：解析所述文件请求指令，得到所述文件请求指令对应的端口信息；判断所述端口信息在预设的查询权限表中是否存在；若所述端口信息在所述查询权限表中存在，则判定所述数据请求端具有查询权限；若所述端口信息在所述查询权限表中不存在，则判定所述数据请求端不具有查询权限。为了解决上述问题，本发明还提供一种基于区块链技术的文件全生命周期管理装置，所述装置包括：节点广播模块，用于接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，其中所述文件保存系统包括第二区块节点，向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点；重加密密钥计算模块，用于当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥；加密文件存储模块，用于根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库；文件查询模块，用于接收数据请求端发送的文件请求指令，判断所述数据请求端是否具有查询权限，若所述数据请求端不具有查询权限，利用所述文件保存系统对所述数据请求端执行权限提升，直至所述数据请求端具有查询权限，将所述待保存文件反馈至所述数据请求端。为了解决上述问题，本发明还提供一种电子设备，所述电子设备包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以实现上述所述的基于区块链技术的文件全生命周期管理方法。为了解决上述问题，本发明还提供一种计算机可读存储介质，所述计算机可读存储介质中存储有至少一个计算机程序，所述至少一个计算机程序被电子设备中的处理器执行以实现上述所述的基于区块链技术的文件全生命周期管理方法。本发明实施例中，接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，保证了文件存储之前所属文件保存系统的准确性；向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点，当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥，根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库。由此可见，当所述文件保存指令不被所述第二区块节点响应时，则停止文件保存，提高了因其他区块节点未影响广播指令而直接保存文件的安全性，此外所述分布式数据库解决了文件存储在各单独客户端的存储压力问题，各区块节点可直接从分布式数据库中获取文件数据；另外，重加密进一步提高了文件安全性，因此本发明提出的基于区块链的医疗数据保存方法、装置、电子设备及计算机可读存储介质，可以提高文件全生命周期管理安全性不高的问题。附图说明图1为本发明一实施例提供的基于区块链技术的文件全生命周期管理方法的流程示意图；图2为本发明一实施例提供的基于区块链技术的文件全生命周期管理方法中S3的流程示意图；图3为本发明一实施例提供的基于区块链技术的文件全生命周期管理方法中S4的流程示意图；图4为本发明一实施例提供的基于区块链技术的文件全生命周期管理装置的模块示意图；图5为本发明一实施例提供的实现基于区块链技术的文件全生命周期管理方法的电子设备的内部结构示意图；本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。本申请实施例提供一种基于区块链技术的文件全生命周期管理方法。所述基于区块链技术的文件全生命周期管理方法的执行主体包括但不限于服务端、终端等能够被配置为执行本申请实施例提供的该方法的电子设备中的至少一种。换言之，所述基于区块链技术的文件全生命周期管理方法可以由安装在终端设备或服务端设备的软件或硬件来执行，所述软件可以是区块链平台。所述服务端包括但不限于：单台服务器、服务器集群、云端服务器或云端服务器集群等，服务器可以是独立的服务器，也可以是提供云服务、云数据库、云计算、云函数、云存储、网络服务、云通信、中间件服务、域名服务、安全服务、内容分发网络、以及大数据和人工智能平台等基础云计算服务的云服务器。参照图1所示，为本发明一实施例提供的基于区块链技术的文件全生命周期管理方法的流程示意图。在本发明实施例中，所述基于区块链技术的文件全生命周期管理方法包括：S1、接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，其中所述文件保存系统包括第二区块节点。需解释的是，所述第一区块节点是预先构建的文件产生端，如电厂A为了记录本周的电量使用情况，生成电量使用记录表，并想将电量使用记录表中存储至电厂A所在的区块链中。详细地，所述根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，之前包括：判断所述第一区块节点提交的文件保存指令是否符合预设的提交格式；若所述文件保存指令符合所述提交格式，则根据所述文件保存指令查询所述文件保存系统；若所述文件保存指令不符合所述提交格式，则向所述第一区块节点返回重新发送的提醒消息。详细地，所述预设的提交格式是指预先设定的标准模板，所述第一区块节点提交的文件保存指令需要按照标准模板进行提交，便于后续进行信息的获取和识别。进一步地，所述根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，包括：获取所述文件保存指令包含的所述第一区块节点的标识信息；根据预设的节点系统映射表查找所述标识信息得到所述文件保存系统。需说明的是，所述节点系统映射表包含每个区块节点的标识信息和对应的文件保存系统，例如，存在多个文件保存系统，分别为a系统、b系统和c系统，其中文件保存系统a与第一区块节点的标识信息具有对应关系。S2、向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点。需解释的是，与文件保存系统具有对应关系的还有第二区块节点、第三区块节点等，示例性的，当第一区块节点，如上述电厂A需保存电量使用记录表时，则同时会广播第二区块节点、第三区块节点等。进一步地，发送广播指令的意义在于第一区块节点已经确定要上传文件时，而不清楚其他的区块节点是否做好准备，因此通过发送广播指令并其他区块节点的反馈来进行后续是否上传的操作。因此本发明另外一个实施例中，可将所述文件保存指令至第二区块节点、第三区块节点等，其中区块节点的数量可用户自定义。且需解释的是，当广播指令存在被其他的所有区块节点不响应或部分区块节点不响应时，则广播失败，不能执行文件保存，只有当所述广播指令均被所有的区块节点响应时，才会同意第一区块节点执行文本保存。S3、当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥具体地，参照图2所示，所述对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥，包括：S31、基于预设的加密算法生成临时公钥和临时私钥；S32、利用所述临时公钥对预获取的本地公钥进行加密，得到加密公钥，利用所述临时私钥对预获取的本地私钥进行加密，得到加密私钥；S33、将所述加密公钥和所述加密私钥进行相乘，得到加密密钥，利用临时私钥对所述加密密钥进行解密，得到重加密密钥；S34、利用所述重加密密钥对所述待保存文件进行加密处理，得到所述加密文件。详细地，所述预设的加密算法可以为RSA加密算法。本发明另一实施例中，所述基于预设的加密算法生成临时公钥和临时私钥，包括：获取第一质数及第二质数，计算所述第一质数及所述第二质数的乘积，得到第一乘积质数；分别计算所述第一质数、所述第二质数与预设值的差值，得到第一差值与第二差值，计算所述第一差值与所述第二差值的乘积，得到第二乘积质数；按照预设公式，计算所述第一乘积质数与所述第二乘积质数，得到所述临时公钥和所述临时私钥。示例性的，所述预设公式可以是一种二进制与十进制的组合，如第一乘积质数为234，对应二进制为-111，则临时公钥为。S4、利用所述重加密密钥对所述待保存文件进行加密处理，得到所述加密文件详细地，参阅图3所示，所述根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库，包括：S41、将所述重加密密钥存储至预设的数据块中，直至所述数据块中所述重加密密钥的数据量达到预设个数时，计算所述数据块的默克尔根；S42、将所述默克尔根存入至预构建的密码区块链中，并将所述加密文件存入所述分布式数据库。需解释的是，本发明实施例中，将所述重加密密钥存储至预设的数据块中，所述数据块用于存储多个重加密密钥，为了提高数据存储的效率，避免存入一个重加密密钥就进行后续处理，规定直至所述数据块中的数据量达到预设个数时，进行后续操作。具体地，所述计算所述数据块的默克尔根，包括：根据预先设定的重加密密钥阈值，从所述数据块中提取得到重加密密钥集；分别计算所述重加密密钥集每个重加密密钥的哈希值，得到哈希值集；计算所述哈希值集每个哈希值与其他哈希值的求和值，得到求和哈希值集；从所述求和哈希值集中提取得到所述默克尔根。示例性的，如预先设定的重加密密钥阈值为4，则提取得到所述第一重加密密钥、所述第二重加密密钥、所述第三重加密密钥和所述第四重加密密钥组合得到重加密密钥集，并进一步利用预设的哈希函数分别计算所述第一重加密密钥、所述第二重加密密钥、所述第三重加密密钥和所述第四重加密密钥的哈希值，得到第一哈希值HA、第二哈希值HB、第三哈希值HC和第四哈希值HD，对所述第一哈希值HA与所述第二哈希值HB进行求和得到，并对求和后的数据进行哈希计算得到第一求和哈希值HAB，对所述第三哈希值HC与所述第四哈希值HD进行求和得到，并对求和后的数据进行哈希计算得到第二求和哈希值HCD，对第一求和哈希值HAB和第二求和哈希值HCD进行求和并对求和后的数据进行哈希计算，得到默克尔根。通过计算数据块的默克尔根可以保证数据块中的重加密密钥的防篡改性和安全性。S5、接收数据请求端发送的文件请求指令，判断所述数据请求端是否具有查询权限可理解的是，所述数据请求端可以是所述文件保存系统中的第二区块节点、第三区块节点等，也可以是文件保存系统以外的其他区块节点、客户端系统等。具体地，所述判断所述数据请求端是否具有查询权限，包括：解析所述文件请求指令，得到所述文件请求指令对应的端口信息；判断所述端口信息在预设的查询权限表中是否存在；若所述端口信息在所述查询权限表中存在，则判定所述数据请求端具有查询权限；若所述端口信息在所述查询权限表中不存在，则判定所述数据请求端不具有查询权限。进一步地，所述解析所述文件请求指令，包括：利用预设的解析算法对所述文件请求指令进行内容解析。其中，所述端口信息包括端口号、IP地址等。S6、若所述数据请求端不具有查询权限，利用所述文件保存系统对所述数据请求端执行权限提升，直至所述数据请求端具有查询权限，将所述待保存文件反馈至所述数据请求端。可想象的是，当所述数据请求端可以是所述文件保存系统中的第二区块节点、第三区块节点时，由于文件存储过程已得到这类节点同意，故这类节点同样具有文件查询的权限，此外，为了保证不属于文件保存系统的其他节点的查询功能，如文件保存系统以外的其他区块节点、客户端系统等，可对其在文件保存系统中实施注册功能，如将所述数据请求端在所述文件保存系统中实施注册功能，直至注册成功后，可将所述待保存文件反馈至所述数据请求端。本发明实施例中，接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，保证了文件存储之前所属文件保存系统的准确性；向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点，当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥，根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库。由此可见，当所述文件保存指令不被所述第二区块节点响应时，则停止文件保存，提高了因其他区块节点未影响广播指令而直接保存文件的安全性，此外所述分布式数据库解决了文件存储在各单独客户端的存储压力问题，各区块节点可直接从分布式数据库中获取文件数据；另外，重加密进一步提高了文件安全性，因此本发明提出的基于区块链的医疗数据保存方法、装置、电子设备及计算机可读存储介质，可以提高文件全生命周期管理安全性不高的问题。如图4所示，是本发明基于区块链技术的文件全生命周期管理装置的功能模块图。本发明所述基于区块链技术的文件全生命周期管理装置100可以安装于电子设备中。根据实现的功能，所述基于区块链技术的文件全生命周期管理装置可以包括节点广播模块101、重加密密钥计算模块102、加密文件存储模块103以及文件查询模块104。本发所述模块也可以称之为单元，是指一种能够被电子设备的处理器所执行，并且能够完成固定功能的一系列计算机程序段，其存储在电子设备的存储器中。在本实施例中，关于各模块/单元的功能如下：所述节点广播模块101，用于接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，其中所述文件保存系统包括第二区块节点，向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点；所述重加密密钥计算模块102，用于当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥；所述加密文件存储模块103，用于根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库；所述文件查询模块104，用于接收数据请求端发送的文件请求指令，判断所述数据请求端是否具有查询权限，若所述数据请求端不具有查询权限，利用所述文件保存系统对所述数据请求端执行权限提升，直至所述数据请求端具有查询权限，将所述待保存文件反馈至所述数据请求端。详细地，本发明实施例中所述基于区块链技术的文件全生命周期管理装置100中的所述各模块在使用时采用与上述的图1中所述的基于区块链技术的文件全生命周期管理方法一样的技术手段，并能够产生相同的技术效果，这里不再赘述。如图5所示，是本发明实现基于区块链技术的文件全生命周期管理方法的电子设备1的结构示意图。所述电子设备1可以包括处理器10、存储器11、通信总线12以及通信接口13，还可以包括存储在所述存储器11中并可在所述处理器10上运行的计算机程序，如基于区块链技术的文件全生命周期管理程序。其中，所述处理器10在一些实施例中可以由集成电路组成，例如可以由单个封装的集成电路所组成，也可以是由多个相同功能或不同功能封装的集成电路所组成，包括一个或者多个中央处理器、微处理器、数字处理芯片、图形处理器及各种控制芯片的组合等。所述处理器10是所述电子设备1的控制核心，利用各种接口和线路连接整个电子设备1的各个部件，通过运行或执行存储在所述存储器11内的程序或者模块，以及调用存储在所述存储器11内的数据，以执行电子设备1的各种功能和处理数据。所述存储器11至少包括一种类型的可读存储介质，所述可读存储介质包括闪存、移动硬盘、多媒体卡、卡型存储器、磁性存储器、磁盘、光盘等。所述存储器11在一些实施例中可以是电子设备1的内部存储单元，例如该电子设备1的移动硬盘。所述存储器11在另一些实施例中也可以是电子设备1的外部存储设备，例如电子设备1上配备的插接式移动硬盘、智能存储卡、安全数字卡、闪存卡等。进一步地，所述存储器11还可以既包括电子设备1的内部存储单元也包括外部存储设备。所述存储器11不仅可以用于存储安装于电子设备1的应用软件及各类数据，例如基于区块链技术的文件全生命周期管理程序的代码等，还可以用于暂时地存储已经输出或者将要输出的数据。所述通信总线12可以是外设部件互连标准总线或扩展工业标准结构总线等。该总线可以分为地址总线、数据总线、控制总线等。所述总线被设置为实现所述存储器11以及至少一个处理器10等之间的连接通信。所述通信接口13用于上述电子设备1与其他设备之间的通信，包括网络接口和用户接口。可选地，所述网络接口可以包括有线接口和/或无线接口，通常用于在该电子设备1与其他电子设备1之间建立通信连接。所述用户接口可以是显示器、输入单元)，可选地，用户接口还可以是标准的有线接口、无线接口。可选地，在一些实施例中，显示器可以是LED显示器、液晶显示器、触控式液晶显示器以及OLED触摸器等。其中，显示器也可以适当的称为显示屏或显示单元，用于显示在电子设备1中处理的信息以及用于显示可视化的用户界面。图5仅示出了具有部件的电子设备1，本领域技术人员可以理解的是，图5示出的结构并不构成对所述电子设备1的限定，可以包括比图示更少或者更多的部件，或者组合某些部件，或者不同的部件布置。例如，尽管未示出，所述电子设备1还可以包括给各个部件供电的电源，优选地，电源可以通过电源管理装置与所述至少一个处理器10逻辑相连，从而通过电源管理装置实现充电管理、放电管理、以及功耗管理等功能。电源还可以包括一个或一个以上的直流或交流电源、再充电装置、电源故障检测电路、电源转换器或者逆变器、电源状态指示器等任意组件。所述电子设备1还可以包括多种传感器、蓝牙模块、Wi-Fi模块等，在此不再赘述。应该了解，所述实施例仅为说明之用，在专利申请范围上并不受此结构的限制。所述电子设备1中的所述存储器11存储的基于区块链技术的文件全生命周期管理程序是多个计算机程序的组合，在所述处理器10中运行时，可以实现：接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，其中所述文件保存系统包括第二区块节点；向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点；当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥；根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库；接收数据请求端发送的文件请求指令，判断所述数据请求端是否具有查询权限；若所述数据请求端不具有查询权限，利用所述文件保存系统对所述数据请求端执行权限提升，直至所述数据请求端具有查询权限，将所述待保存文件反馈至所述数据请求端。具体地，所述处理器10对上述计算机程序的具体实现方法可参考图1对应实施例中相关步骤的描述，在此不赘述。进一步地，所述电子设备1集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个非易失性计算机可读取存储介质中。所述计算机可读存储介质可以是易失性的，也可以是非易失性的。例如，所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器。本发明还提供一种计算机可读存储介质，所述可读存储介质存储有计算机程序，所述计算机程序在被电子设备1的处理器所执行时，可以实现：接收第一区块节点发送的文件保存指令，根据所述文件保存指令查询所述第一区块节点所属的文件保存系统，其中所述文件保存系统包括第二区块节点；向所述文件保存系统发送广播指令，以使所述文件保存系统发送所述文件保存指令至第二区块节点；当所述文件保存指令被所述第二区块节点响应时，接收所述第一区块节点发送的待保存文件，对所述待保存文件进行重加密，得到加密文件和所述加密文件对应的重加密密钥；根据所述重加密密钥，将所述加密文件存入至预构建的分布式数据库；接收数据请求端发送的文件请求指令，判断所述数据请求端是否具有查询权限；若所述数据请求端不具有查询权限，利用所述文件保存系统对所述数据请求端执行权限提升，直至所述数据请求端具有查询权限，将所述待保存文件反馈至所述数据请求端。在本发明所提供的几个实施例中，应该理解到，所揭露的设备，装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。所述作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能模块的形式实现。对于本领域技术人员而言，显然本发明不限于上述示范性实施例的细节，而且在不背离本发明的精神或基本特征的情况下，能够以其他的具体形式实现本发明。因此，无论从哪一点来看，均应将实施例看作是示范性的，而且是非限制性的，本发明的范围由所附权利要求而不是上述说明限定，因此旨在将落在权利要求的等同要件的含义和范围内的所有变化涵括在本发明内。不应将权利要求中的任何附关联图标记视为限制所涉及的权利要求。本发明所指区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。区块链，本质上是一个去中心化的数据库，是一串使用密码学方法相关联产生的数据块，每一个数据块中包含了一批次网络交易的信息，用于验证其信息的有效性和生成下一个区块。区块链可以包括区块链底层平台、平台产品服务层以及应用服务层等。本申请实施例可以基于人工智能技术对相关的数据进行获取和处理。其中，人工智能是利用数字计算机或者数字计算机控制的机器模拟、延伸和扩展人的智能，感知环境、获取知识并使用知识获得最佳结果的理论、方法、技术及应用系统。此外，显然“包括”一词不排除其他单元或步骤，单数不排除复数。系统权利要求中陈述的多个单元或装置也可以由一个单元或装置通过软件或者硬件来实现。第二等词语用来表示名称，而并不表示任何特定的顺序。最后应说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，可以对本发明的技术方案进行修改或等同替换，而不脱离本发明技术方案的精神和范围。
