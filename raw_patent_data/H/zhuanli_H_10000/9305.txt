标题title
光伏并网逆变器控制系统的线路匹配方法
摘要abst
本发明涉及一种光伏并网逆变器控制系统的线路匹配方法，由主控制器完成：获取每一路光伏组串的电压值并计算电压值极差ΔU；比较MPPT的最优电压采样区间δU与ΔU的大小；将标记为第一类的MPPT获取的多路光伏组串中的每一路的电压值排序，位于首的电压值对应的光伏组串与MPPT断开；将与标记为第一类的MPPT断开的光伏组串P与标记为第二类的MPPT中的每个MPPT依次连接；直至连接到某个标记为第二类的MPPT后该标记为第二类的MPPT所跟踪的所有光伏组串的电压值极差ΔU小于其最优电压采样区间δU，则匹配完成。
权利要求书clms
1.一种光伏并网逆变器控制系统的线路匹配方法，其特征在于：由主控制器完成以下步骤：获取多路光伏组串中的每一路光伏组串的电压值并计算所述多路光伏组串的电压值极差ΔU；比较用于跟踪所述多路光伏组串的MPPT的最优电压采样区间δU与所述电压值极差ΔU的大小，若所述δU小于所述ΔU，将该MPPT标记为第一类，若所述δU大于所述ΔU，将该MPPT标记为第二类；将标记为第一类的MPPT获取的多路光伏组串中的每一路的电压值从高到低排序，将排序位于首的电压值对应的光伏组串与所述标记为第一类的MPPT断开，或者，将排序位于末的电压值对应的光伏组串与所述标记为第一类的MPPT断开；将与标记为第一类的MPPT断开的光伏组串P与标记为第二类的MPPT中的每个MPPT依次连接；直至连接到某个标记为第二类的MPPT后该标记为第二类的MPPT所跟踪的所有光伏组串的电压值极差ΔU小于其最优电压采样区间δU，则匹配完成。2.如权利要求1所述的方法，其特征在于，所述与标记为第二类的MPPT中的每个MPPT依次连接的方法包括以下步骤：将所述标记为第二类的MPPT的最优电压采样区间δU从大到小排序；将所述光伏组串P与按照排序后的标记为第二类的MPPT依次连接。3.如权利要求1所述的方法，其特征在于，若所述标记为第二类的MPPT中不存在满足匹配完成条件的，则由所述主控制器执行以下步骤：S1 将所述光伏组串P与所述断开的标记为第一类的MPPT重新连接；S2 将S1中所述的标记为第一类的MPPT所跟踪的所有光伏组串的电压值排序，并依次比较该电压值序列中的相邻的电压值的差值，找到所述差值最大的两个相邻的电压值所对应的两路光伏组串，并分别记录为第一路光伏组串和第二路光伏组串；S3 将所述第一路光伏组串与电压值排在其之前的光伏组串并入第一组；将该所述第二路光伏组串与电压值排在其之后的光伏组串并入第二组；S4 所述第一组光伏组串仍然与S1中所述的标记为第一类的MPPT连接；所述第二组光伏组串与S1中所述的标记为第一类的MPPT断开。4.如权利要求3所述的方法，其特征在于，还包括以下步骤：在所述光伏并网逆变器中新接入一个或若干个MPPT，并将所述新接入的MPPT与所述第二组光伏组串连接。5.如权利要求4所述的方法，其特征在于，还包括一种将所述新接入的MPPT初始化的方法，具体包括以下步骤：将所述新接入的MPPT的输出值初始化为如权利要求3的S1所述的标记为第一类的MPPT的输出值。6.如权利要求1所述的方法，其特征在于，所述光伏并网逆变器控制系统还包括电压控制器和电流控制器，每个所述MPPT的输出端与所述电压控制器和所述电流控制器连接。7.如权利要求6所述的方法，其特征在于，通过所述电压控制器和所述电流控制器共同实现双闭环控制，其中所述电压控制器的输出作为所述电流控制器的输入，所述电压控制器采用PI控制器实现增量式PI控制。8.如权利要求1所述的方法，其特征在于，所述电压值包括如下任何一种方式定义的电压值：光伏组串的开路电压值、光伏组串的最大功率点电压值、与一路光伏组串的最大功率点的功率值对应的它路光伏组串的电压值。9.一种光伏并网逆变器控制系统，其特征在于，所述光伏并网逆变器控制系统包括可以实现如权利要求1-8所述的任一种线路匹配方法的主控制器。10.一种光伏并网逆变器，其特征在于，所述光伏并网逆变器包括主控制器、集成开关和多个独立工作的MPPT；所述光伏并网逆变器可以在如权利要求9所述的光伏并网逆变器控制系统的控制下工作。
说明书desc
技术领域本发明涉及逆变器技术领域，具体涉及一种光伏并网逆变器控制系统的线路匹配方法。背景技术最大功率点跟踪是光伏并网逆变器控制策略中的核心技术之一，通过调节电气模块的工作状态，使光伏组件能够输出更多电能。在光伏并网逆变器使用场景中，多路的光伏组件通常独立与光伏逆变器的多路输入端连接。一部分用户为了使得线路更加简洁，会把多路光伏组件并联连接之后再接入逆变器输入端，由于逆变器单路PV输入功率和电流限制，多路光伏组件并联之后的电流会超过逆变器单路规格，需要在逆变器PV输入端口分多路接入。这样就会造成逆变器多路MPPT和用户多光伏组件并联相矛盾，多路的MPPT相互干扰，导现有的追踪方法为人工手动选择不同的MPPT追踪方式来对应不同的光伏组件的接法，实现对多路光伏组件的最大功率追踪，来得到准确的最大功率，该种最终方法操作麻烦，无法自动识别，当用户也不清楚光伏组件的连接方式时，就无法选择正确的MPPT追踪方式，从而导致无法准确追踪到每一路光伏组件的最大功率点，造成发电损失。同时，每个MPPT线路由于电气特性对其电压采样的区间具有一定要求和限制，存在一个最佳电压采样区间，当接入的光伏组串线路在该区间内会有更好的跟踪效果。发明内容基于以上技术上问题，第一方面，本发明提出一种光伏并网逆变器控制系统的线路匹配方法，由主控制器完成以下步骤：获取多路光伏组串中的每一路光伏组串的电压值并计算所述多路光伏组串的电压值极差ΔU；比较用于跟踪所述多路光伏组串的MPPT的最优电压采样区间δU与所述电压值极差ΔU的大小，若所述δU小于所述ΔU，将该MPPT标记为第一类，若所述δU大于所述ΔU，将该MPPT标记为第二类；将标记为第一类的MPPT获取的多路光伏组串中的每一路的电压值从高到低排序，将排序位于首的电压值对应的光伏组串与所述标记为第一类的MPPT断开，或者，将排序位于末的电压值对应的光伏组串与所述标记为第一类的MPPT断开；将与标记为第一类的MPPT断开的光伏组串P与标记为第二类的MPPT中的每个MPPT依次连接；直至连接到某个标记为第二类的MPPT后该标记为第二类的MPPT所跟踪的所有光伏组串的值极差ΔU小于其最优电压采样区间δU，则匹配完成。另一方面，本发明提出了一种光伏并网逆变器控制系统，可以实现本发明提出的光伏并网逆变器控制系统的线路匹配方法。另一方面，本发明还提出一种光伏并网逆变器，包括集成开关和多个独立工作的MPPT；所述光伏并网逆变器可以在上述光伏并网逆变器控制系统的控制下工作。光伏并网逆变器连接大规模多路光伏组串时，可以通过本发明的工作逻辑自动选择线路匹配关系，提高光伏系统发电效率。附图说明图1：一些光伏并网逆变器的电路原理图；图2：一些光伏发电系统并网的拓扑结构；图3：一些光伏并网逆变器控制系统的原理图；图4：一些实施方式的线路匹配方法示意图；图5：一些实施方式的双闭环控制流程。具体实施方式本发明所涉及的光伏并网逆变器采用最大功率跟踪功能模块和逆变功能模块分离的两级能量变换结构，其电路原理如图1，在光伏发电系统并网中如图2。本发明涉及电气自动控制系统，具体地说，涉及一种光伏并网逆变器的控制系统，该控制系统如图3所示，包括一个主控制器，多个可独立工作的MPPT，每个MPPT可以同时跟踪一路或多路光伏组串，通过集成开关控制MPPT和光伏组串线路的电气连接。主控制器接收电网中的数据并完成计算任务，基于计算结果重新将MPPT和多路光伏组串线路匹配，给MPPT和集成开关发送指令。由于该控制系统对主控制器的并行任务处理能力具有一定要求，通常主控制器采用FPGA实现。本发明涉及的MPPT包括控制器和电路部分，可以接受数据、发送数据、存储数据，实现以下功能：检测主回路直流电压及输出电流，计算出光伏组串的输出功率，并实现对最大功率点的追踪。其电路部分的工作原理如下：在输出电压基本稳定的条件下，通过改变MOSFET的占空比，来改变通过扰动电阻的平均电流，产生电流的扰动，当扰动方向正确时光伏组串的输出功率增加，下周期继续朝同一方向扰动，反之朝反方向扰动，反复扰动使光伏组串的输出达最大功率点。如图2，每一路光伏组串由多个光伏组件串联组成，每个光伏组件的核心器件为基于半导体PN结上接受太阳光照产生光生伏特效应将光能转换成电能的能量转换器件。若干光伏组串线路并联，组成多路光伏组串，通过集成开关与MPPT连接。若逆变器输入侧的电压差依然过大，主控制器发送指令给该MPPT和集成开关。具体的技术方案如下：一些实施方式的光伏并网逆变器控制系统的线路匹配方法包括由主控制器完成的以下步骤：获取多路光伏组串中的每一路光伏组串的电压值并计算所述多路光伏组串的电压值极差ΔU；比较用于跟踪所述多路光伏组串的MPPT的最优电压采样区间δU与所述电压值极差ΔU的大小，若所述δU小于所述ΔU，将该MPPT标记为第一类，若所述δU大于所述ΔU，将该MPPT标记为第二类；将标记为第一类的MPPT获取的多路光伏组串中的每一路的电压值从高到低排序，将排序位于首的电压值对应的光伏组串与所述标记为第一类的MPPT断开，或者，将排序位于末的电压值对应的光伏组串与所述标记为第一类的MPPT断开；将与标记为第一类的MPPT断开的光伏组串P与标记为第二类的MPPT中的每个MPPT依次连接；直至连接到某个标记为第二类的MPPT后该标记为第二类的MPPT所跟踪的所有光伏组串的值极差ΔU小于其最优电压采样区间δU，则匹配完成。一些实施方式，将所述第二类MPPT的最优电压采样区间从大到小排序后，将所述光伏组串P按照排序后的第二类MPPT依次连接。一些实施方式，若所述第二类MPPT中不存在满足匹配完成条件的，则如图4，由所述主控制器执行以下步骤：S1 将所述光伏组串P与所述断开的标记为第一类的MPPT重新连接；S2 将S1中所述的标记为第一类的MPPT所跟踪的所有光伏组串的电压值排序，并依次比较该电压值序列中的相邻的电压值的差值，找到所述差值最大的两个相邻的电压值所对应的两路光伏组串，并分别记录为第一路光伏组串和第二路光伏组串；S3 将所述第一路光伏组串与电压值排在其之前的光伏组串并入第一组；将该所述第二路光伏组串与电压值排在其之后的光伏组串并入第二组；S4 所述第一组光伏组串仍然与S1中所述的标记为第一类的MPPT连接；所述第二组光伏组串与S1中所述的标记为第一类的MPPT断开。一些更具体的实施方式还包括以下步骤：在所述光伏并网逆变器中新接入一个或若干个MPPT，并将所述新接入的MPPT与所述第二组光伏组串连接。一些更具体的实施方式的S4步骤，具体还包括一种将所述新接入的MPPT初始化的方法，具体包括以下步骤：将所述新接入的MPPT的输出值初始化为S1所述的标记为第一类的MPPT的输出值。一些实施方式的光伏并网逆变器控制系统还包括电压控制器和电流控制器，所述MPPT的输出端与所述电压控制器和所述电流控制器连接。电压控制器和电流控制器共同实现如图4的双闭环控制，其中电压控制器的输出作为电流控制器的输入，优选地，电压控制器采用PI控制器实现增量式PI控制。本发明的大部分实施方式中，获取电压值步骤中所述的电压值包括如以下任何一种方式定义的电压值：光伏组串的开路电压值、光伏组串的最大功率点电压值、与一路光伏组串的最大功率点的功率值对应的它路光伏组串的电压值。本说明书中描述的主题的实施方式和功能性操作可以在以下中实施：数字电子电路，有形实施的计算机软件或者固件，计算机硬件，包括本说明书中公开的结构及其结构等同体，或者上述中的一者以上的组合。本说明书中描述的主题的实施方式可以被实施为一个或多个计算机程序，即，一个或多个有形非暂时性程序载体上编码的计算机程序指令的一个或多个模块，用以被数据处理设备执行或者控制数据处理设备的操作。
