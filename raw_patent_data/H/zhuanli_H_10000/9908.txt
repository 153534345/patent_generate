标题title
一种请求处理方法及设备
摘要abst
本申请提供一种请求处理方法及设备，涉及蓝牙通信技术领域，该方法可应用于第一电子设备，第一电子设备支持至少两个应用控制第一电子设备，如第一应用和第二应用。可以避免第一电子设备与其他电子设备在多个应用之间来回切换建立连接，减少第一电子设备的数据分发混乱或出错的问题。第一电子设备与第二电子设备建立ACL链路后，基于第一应用与第二电子设备建立第一SPP连接，获取并保存第一应用的优先级信息，第一应用的优先级信息用于指示第一应用控制第一电子设备的优先级；第一电子设备接收第二电子设备基于第二应用发送的连接请求；第一电子设备根据第一应用的优先级信息，确定是否响应连接请求基于第二应用与第二电子设备建立第二SPP连接。
权利要求书clms
1.一种请求处理方法，其特征在于，应用于第一电子设备，所述第一电子设备支持至少两个应用控制所述第一电子设备，所述方法包括：所述第一电子设备与第二电子设备建立异步面向连接ACL链路后，基于所述第二电子设备中的第一应用与所述第二电子设备建立第一串行端口配置文件SPP连接，获取并保存所述第一应用的优先级信息，所述第一应用的优先级信息用于指示所述第一应用控制所述第一电子设备的优先级，所述第一应用是所述至少两个应用中的一个应用；所述第一电子设备接收来自所述第二电子设备的连接请求；其中，所述连接请求用于请求通过所述第二电子设备中的第二应用控制所述第一电子设备，所述第二应用是所述至少两个应用中的一个应用；所述第一电子设备根据所述第一应用的优先级信息，确定是否响应所述连接请求基于所述第二应用与所述第二电子设备建立第二SPP连接。2.根据权利要求1所述的方法，其特征在于，所述第一电子设备根据所述第一应用的优先级信息，确定是否响应所述连接请求基于所述第二应用与所述第二电子设备建立第二SPP连接，包括：若所述第一应用的优先级为所述至少两个应用的优先级中最高的优先级，所述第一电子设备忽略所述连接请求；若所述第一应用的优先级不是所述至少两个应用的优先级中最高的优先级，所述第一电子设备响应所述连接请求，基于所述第二应用与所述第二电子设备建立所述第二SPP连接。3.根据权利要求2所述的方法，其特征在于，所述第一电子设备响应所述连接请求，基于所述第二应用与所述第二电子设备建立所述第二SPP连接，包括：所述第一电子设备断开第一SPP连接，响应所述连接请求，基于所述第二应用与所述第二电子设备建立所述第二SPP连接。4.根据权利要求1-3中任一项所述的方法，其特征在于，所述获取并保存所述第一应用的优先级信息，包括：获取第一SPP连接的连接参数；基于所述第一SPP连接的连接参数获取并保存所述第一应用的优先级信息。5.根据权利要求4所述的方法，其特征在于：所述获取所述第一SPP连接的连接参数，包括：获取所述第一SPP连接对应的第一服务通道号；所述基于所述第一SPP连接的连接参数获取并保存所述第一应用的优先级信息，包括：基于所述第一服务通道号获取并存储所述第一应用对应的句柄；其中，所述第一应用对应的句柄作为所述第一应用的优先级信息。6.根据权利要求5所述的方法，其特征在于，所述方法还包括：所述第一电子设备在成功建立所述第二SPP连接后，获取所述第二SPP连接对应的第二服务通道号；基于所述第二服务通道号获取所述第二应用对应的句柄，并采用所述第二应用对应的句柄替换已保存的所述第一应用对应的句柄；其中，所述第二应用对应的句柄作为所述第二应用的优先级信息。7.根据权利要求1-3中任一项所述的方法，其特征在于，所述方法还包括：所述第一电子设备显示优先级设置界面，所述优先级设置界面用于设置所述至少两个应用的优先级信息；所述第一电子设备接收用户在所述优先级设置界面设置的优先级信息，并保存设置的优先级信息。8.一种电子设备，其特征在于，所述电子设备是第一电子设备，所述第一电子设备支持至少两个应用控制所述第一电子设备，所述第一电子设备包括：存储器、蓝牙模块、一个或多个处理器；所述存储器、所述蓝牙模块与所述处理器耦合；其中，所述蓝牙模块用于与第二电子设备通信，所述存储器用于保存控制所述第一电子设备的应用的优先级信息，所述存储器中存储有计算机程序代码，所述计算机程序代码包括计算机指令，当所述计算机指令被所述处理器执行时，使得所述第一电子设备执行如权利要求1至7中任一项所述的方法。9.根据权利要求8所述的电子设备，其特征在于，所述电子设备是智能穿戴设备。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有指令，当所述指令在所述计算机中运行时，使得计算机执行如权利要求1至7中任一项所述的方法。
说明书desc
技术领域本申请涉及蓝牙通信技术领域，尤其涉及一种请求处理方法及设备。背景技术随着技术的发展，越来越多种类的智能穿戴设备可供用户使用。其中，部分智能穿戴设备需要与电子设备之间连接，以与电子设备中相应的应用程序进行数据通信。目前智能穿戴设备与电子设备之间通常采用蓝牙连接的方式。具体的，电子设备可以通过该电子设备中安装的应用程序基于蓝牙技术中的串行端口配置文件协议与智能穿戴设备进行通信。而SPP协议的特点为：服务端和客户端的对应关系为1:1，意味着电子设备通过应用与智能穿戴设备基于SPP协议通信时，只支持通过一个应用使用该SPP协议通道。而目前的很多智能穿戴设备都支持至少两个应用控制该智能穿戴设备。在这种情况下，则可能会出现至少两个应用抢占上述SPP协议通道与智能穿戴设备进行连接的问题。具体的，可能出现智能穿戴设备在上述至少两个应用之间来回切换连接，从而导致智能穿戴设备中的数据分发容易混乱或出错的问题。发明内容本申请实施例提供一种请求处理方法及设备，以解决相关技术中智能穿戴设备在至少两个应用之间来回切换连接，导致智能穿戴设备中的数据分发容易混乱或出错的问题。本申请采用如下技术方案：第一方面，本申请提供一种请求处理方法，该方法可以应用于第一电子设备。该第一电子设备支持至少两个应用控制第一电子设备，该至少两个应用包括第一应用和第二应用。该方法可以包括：第一电子设备与第二电子设备建立ACL链路后，第一电子设备基于第二电子设备中的第一应用与第二电子设备建立第一SPP连接，第一电子设备获取并保存第一应用的优先级信息。其中，第一应用的优先级信息用于指示第一应用控制第一电子设备的优先级。第一电子设备在接收到第二电子设备基于第二应用发送的连接请求时，根据第一应用的优先级信息确定是否响应该连接请求，基于第二应用与第二电子设备建立第二SPP连接。通过采用该技术方案，针对第一电子设备所支持的多个应用分别设置了优先级信息，并且第一电子设备在成功与其他电子设备建立SPP连接之后，第一电子设备将当前建立SPP连接的应用的优先级信息存储起来。当第一电子设备再接收到基于其他应用发送的连接请求时，第一电子设备将会结合当前保存的应用的优先级信息，确定是否响应在后接收到的连接请求。如此，可以避免在先后接收到其他电子设备基于不同应用发起的连接请求时，第一电子设备在多个应用之间来回切换建立连接的问题，从而减少第一电子设备中的数据分发混乱或出错的问题。在一种可能的实现方式中，该方法还可以包括：第一电子设备根据第一应用的优先级信息，确定是否响应连接请求基于第二应用与第二电子设备建立第二SPP连接，可以包括：如果第一应用的优先级为至少两个应用中最高的优先级，第一电子设备将忽略该连接请求；如果第一应用的优先级不是至少两个应用中最高的优先级，则第一电子设备将响应该连接请求，基于第二应用与第二电子设备建立第二SPP连接。通过该技术方案，可以在支持多个应用控制第一电子设备的前提条件下，确保第一电子设备先后接收到来自其他电子设备基于不同应用发起的连接请求时，不会轻易在不同应用之间来回切换连接的情况。具体的，如果当前建立SPP连接的应用是所有支持的应用中优先级最高的一个应用，则不再切换到其它应用建立SPP连接，从而减少第一电子设备中的数据分发混乱或出错的情况。在一种可能的实现方式中，该方法还可以包括：第一电子设备响应连接请求基于第二应用与第二电子设备建立第二SPP连接，可以包括：第一电子设备断开第一SPP连接，响应于连接请求，基于第二应用与第二电子设备建立第二SPP连接。第一电子设备与第二电子设备基于第二应用建立第二SPP连接之前，先断开基于第一应用与第二电子设备建立的第一SPP连接，即第一电子设备与第二电子设备之间同时仅保持一个SPP连接，第一电子设备中的数据通过唯一的SPP连接传输，避免数据分发混乱或出错的情况。在一种可能的实现方式中，该方法还可以包括：第一电子设备获取并保存第一应用的优先级信息可以包括：第一电子设备获取第一SPP连接的连接参数，并根据第一SPP连接的连接参数获取并保存第一应用的优先级信息。在一种可能的实现方式中，该方法还可以包括：第一电子设备获取第一SPP的连接参数可以包括：第一电子设备获取第一SPP连接对应的第一服务通道号。第一电子设备基于第一SPP连接的连接参数获取并保存第一应用的优先级信息，可以包括：第一电子设备基于第一服务通道号获取第一应用对应的句柄，将第一应用对应的句柄作为第一应用的优先级信息保存。由于句柄是第二电子设备与第一电子设备建立SPP连接之前，第一电子设备中必须预先配置好的参数，因此在上述请求处理方法中，无需增加其他参数作为应用的优先级。对于第二电子设备而言，与第一电子设备建立连接的过程与常规连接的过程一致，无需进行改进。第二电子设备中安装的应用也可以是已开发的应用，从而使上述请求处理方法的应用范围更加广泛。在一种可能的实现方式中，该方法还可以包括：第一电子设备在成功建立第二SPP连接后，获取第二SPP连接对应的第二服务通道号。第一电子设备基于第二服务通道号获取第二应用对应的句柄，并采用第二应用对应的句柄作为第二应用的优先级信息，替换已保存的第一应用对应的句柄。在第一电子设备基于第二应用与第二电子设备建立第二SPP连接之后，将当前保存的应用的优先级信息替换为第二应用对应的句柄。仅保存当前建立的SPP连接的应用的优先级信息，第一电子设备在接收到连接请求时，可以快速的判断当前建立的SPP连接对应的应用的优先级，并对是否响应新接收到的连接请求作出判断，提高请求处理效率。在一种可能的实现方式中，该方法还可以包括：第一电子设备显示优先级设置界面，该优先级设置界面用于设置至少两个应用的优先级信息。第一电子设备接收用户在优先级设置界面设置的优先级信息，并保存设置的优先级信息。第一电子设备为用户提供优先级设置界面，便于用户对支持控制第一电子设备的应用的优先级进行自定义设置。第二方面，本申请提供一种电子设备，该电子设备可以是第一电子设备，第一电子设备支持至少两个应用控制第一电子设备，第一电子设备可以包括：存储器、蓝牙模块、一个或多个处理器；所述存储器、所述蓝牙模块与所述处理器耦合；其中，蓝牙模块用于与第二电子设备通信，存储器用于保存控制第一电子设备的应用的优先级信息，存储器中存储有计算机程序代码，计算机程序代码包括计算机指令，当计算机指令被处理器执行时，使得第一电子设备执行如第一方面或第一方面的可能的实现方式中任一所述的请求处理方法。在一种可能的实现方式中，电子设备是智能穿戴设备。第三方面，本申请提供一种计算机可读存储介质，该计算机可读存储介质中存储有指令，当指令在计算机中运行时，使得计算机可以执行如第一方面或第一方面的可能的实现方式中任一所述的请求处理方法。可以理解地，上述提供的第二方面所述的电子设备，以及第三方面所述的计算机可读存储介质均用于执行上文所提供的对应的方法，因此，其所能达到的有益效果可参考上文所提供的对应的方法中的有益效果，此处不再赘述。附图说明图1为本申请实施例提供的一种通信系统的结构示意图；图2为本申请另一实施例提供的一种通信系统的结构示意图；图3为本申请实施例提供的手机界面示意图；图4为本申请实施例提供的一种智能手表的结构示意图；图5为本申请实施例提供的一种手机与智能手表创建SPP连接涉及的协议架构图；图6为本申请实施例提供的手机与智能手表基于不同应用建立SPP连接涉及的系统框架图；图7为本申请实施例提供的一种请求处理方法的流程示意图；图8为本申请另一实施例提供的一种请求处理方法的流程示意图；图9为本申请另一实施例提供的一种请求处理方法的流程示意图；图10为本申请实施例提供的优先级设置界面示意图；图11为本申请实施例提供的一种芯片系统的结构示意图。具体实施方式本申请实施例提供一种请求处理方法，该方法可以用于其他电子设备通过多个应用控制第一电子设备。示例性的，该第一电子设备可以是智能家居设备，如智能音箱、智能灯泡、智能摄像装置、智能开关、智能插座、智能窗帘、智能电视机、智能冰箱等等。或者，该第一电子设备还可以是智能穿戴设备。例如，第一电子设备可以是图1或图2所示的智能手表101。又例如，第一电子设备还可以是智能眼镜、智能耳机、智能手环等等。该第一电子设备可以支持至少两个应用控制该第一电子设备。该至少两个应用可以是第一电子设备的厂商针对该第一电子设备开发的多款不同的应用程序。或者，至少两个应用可以是第一电子设备的厂商和其他开发人员分别针对该第一电子设备开发的多款不同的应用程序。在应用场景中，上述第二电子设备和第三电子设备可以是同一个电子设备，该电子设备中可以安装有至少两个能够控制第一电子设备的应用。例如，第二电子设备和第三电子设备可以是图1所示的手机102。手机102中安装有第一应用和第二应用。图1所示的手机102不仅可以通过第一应用控制智能手表101，也可以通过第二应用控制智能手表101。在应用场景中，上述第二电子设备和第三电子设备可以是两个不同的电子设备。这两个电子设备中分别安装有一个能够控制第一电子设备的应用；并且，这两个电子设备中安装的用于控制第一电子设备的应用不同。例如，第二电子设备可以是图2所示的手机102，第三电子设备可以是图2所示的平板电脑103。图2所示的手机102中安装有第一应用，手机102可以通过第一应用控制智能手表101。图2所示的平板电脑103中安装有第二应用，平板电脑103可以通过第二应用控制智能手表101。在其它实施例中，第二电子设备和/或第三电子设备也可以是其他类型的电子设备，例如第二电子设备和/或第三电子设备还可以是桌面型、膝上型、手持计算机、笔记本电脑、超级移动个人计算机、上网本，以及蜂窝电话、个人数字助理、增强现实虚拟现实设备、媒体播放器、电视机等设备。进一步地，如图3所示为一示例中上述应用场景中手机102的主界面示意图。手机102中可以安装多个应用，该多个应用可以包括上述第一应用和第二应用。如图3所示，手机102中的主界面110包括：“电子邮件”、“设置”、“相机”、“智能手表”和“运动健康”等应用的应用图标。其中，第一应用可以是图3所示的“智能手表”，第二应用可以是图3所示的“运动健康”。可以理解地，在本实施例中，手机102可以通过“智能手表”或者“运动健康”控制智能手表101。手机102可以接收用户对图3所示的主界面110中“智能手表”的应用图标的点击操作。响应于用户对“智能手表”的应用图标的点击操作，手机102可以启动“智能手表”应用，并进入如图3所示的“智能手表”的控制界面120。手机102还可以接收用户对图3所示的主界面110中“运动健康”的应用图标的点击操作。响应于用户对“运动健康”的应用图标的点击操作，手机102可以启动“运动健康”，进入如图3所示的控制界面130。其中，控制界面120或控制界面130中所展示的“智能手表1”表示手机102搜索到的智能手表，或者手机102曾经连接过的智能手表。在其他实施例中，控制界面120或控制界面130中可以显示多个智能手表或其他电子设备的信息。在该场景中，手机102可以接收用户在控制界面120或控制界面130中针对其中一个电子设备触发连接的操作，与相应电子设备建立连接。应理解，第二电子设备的控制界面包括但不限于图3所示的控制界面120或控制界面130，控制界面120或控制界面130只是控制界面的一种示例。举例来说，上述应用场景和中的智能手表101的结构如图4所示的智能手表200。应理解，图示智能手表200仅仅是一个范例，图4中示出的智能手表结构并不构成对智能手表的限定，并且智能手表200可以具有比图中所示出的更多的或者更少的部件，可以组合两个或更多的部件，或者可以具有不同的部件配置。图4中所示出的各种部件可以在包括一个或多个信号处理和/或专用集成电路在内的硬件、软件、或硬件和软件的组合中实现。如图4所示，智能手表200包括：相互连接的表体和腕带，其中表体可以包括前壳、触摸屏201、显示屏202、底壳，以及处理器203、微控制单元204、存储器205、麦克风206、薄膜致动器207、蓝牙模块208、气压传感器209、心率检测传感器210、重力加速度传感器211、电源212和电源管理系统213等。尽管未示出，智能手表还可以包括天线、WiFi模块、GPS模块、扬声器、陀螺仪等。下面分别对智能手表200的各功能组件进行介绍：触摸屏201，也称为触摸板，可收集手表用户在其上的触摸操作， 并根据预先设定的程式驱动响应的连接装置。可选的，触摸屏201可包括触摸检测装置和触摸控制器两个部分。其中，触摸检测装置检测用户的触摸方位，并检测触摸操作带来的信号，将信号传送给触摸控制器；触摸控制器从触摸检测装置上接收触摸信息，并将它转换成触点坐标，再送给处理器203，并能接收处理器203发送的命令并加以执行。此外，可以采用电阻式、电容式、红外线以及表面声波等多种类型实现触控面板。除了触摸屏201之外，智能手表还可以包括其他输入设备，其他输入设备可以包括但不限于功能键。显示屏202可用于显示由用户输入的信息或提供给用户的信息以及手表的各种菜单。可选的，可以采用液晶显示器、有机发光二极管等形式来配置显示屏202。进一步的，触摸屏201可覆盖显示屏202，当触摸屏201检测到在其上或附近的触摸操作后，传送给处理器203以确定触摸事件的类型，随后处理器203根据触摸事件的类型在显示屏202上提供相应的视觉输出。虽然在图4中，触摸屏201与显示屏202是作为两个独立的部件来实现手表的输入和输出功能，但是在某些实施例中，可以将触摸屏201与显示屏202集成而实现手表的输入和输出功能。处理器203用于进行系统调度，控制显示屏、触摸屏，支持处理麦克风206、一个或多个薄膜致动器207，蓝牙模块208等。麦克风206，也称为传声器。麦克风206可以将收集的声音信号转换为电信号，由音频电路接收后转换为音频数据；音频电路也可以将音频数据转换为电信号，传输到扬声器，由扬声器转换为声音信号输出。薄膜致动器207用于输入压力被施加到致动器的腔以使得薄膜移动。薄膜致动器207应用在智能手表表面时，可以在接收到输入压力时在智能手表的表面产生触觉效果。蓝牙模块208，智能手表通过蓝牙模块208可以与其他电子设备交互信息，并通过上述电子设备连接网络，与服务器连接，处理语音识别等功能。微控制单元204用于控制传感器，对传感器数据进行运算，与处理器203通信等功能。传感器可以是气压传感器209、心率检测传感器210、重力加速度传感器211、光传感器、运动传感器或其他传感器。具体地，光传感器可包括环境光传感器及接近传感器。至于手表还可配置的陀螺仪、气压计、湿度计、温度计、红外线传感器等其他传感器，在此不再赘述。存储器205用于存储软件程序以及数据，处理器203通过运行存储在存储器的软件程序以及数据，执行手表的各种功能应用以及数据处理。存储器205主要包括存储程序区以及存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序；存储数据区可以存储根据使用手表所创建的数据。此外，存储器可以包括高速随机存取存储器，还可以包括非易失存储器，例如磁盘存储器件、闪存器件或其他易失性固态存储器件。智能手表200还包括给各个部件供电的电源212，可选的，电源212可以通过电源管理系统213与处理器203逻辑相连，从而通过电源管理系统213实现管理充电、放电、以及功耗管理等功能。在上述应用场景和应用场景中，通过第二电子设备和/或第三电子设备中的第一应用和第二应用都可以控制智能手表101。通常，在接收到其他电子设备基于第一应用发起的连接请求时，智能手表101将会接受该连接请求，基于第一应用与相应电子设备建立连接。而在此基础上再接收到基于第二应用的连接请求时，智能手表又将接受新的连接请求，基于第二应用与相应电子设备建立连接，替代基于第一应用建立的连接。在上述应用场景中，手机102先后通过第一应用和第二应用与智能手表101连接。或者，在上述应用场景中，手机102通过第一应用与智能手表101连接之后，平板电脑103通过第二应用与智能手表101连接。上述场景可能会出现第一电子设备在第一应用和第二应用之间来回切换连接，导致第一电子设备中的数据分发容易混乱或出错的问题。本申请实施例提供的请求处理方法，第一电子设备基于一个应用与其他电子设备建立SPP连接后，可以保存该应用的优先级信息。如此，如果第一电子设备再接收到基于另一个应用的连接请求，可以根据已建立的SPP连接对应的应用的优先级信息确定是否响应另一个应用的连接请求。也就是说，第一电子设备可以根据当前已经建立SPP连接的第一应用的优先级信息确定是否响应第二应用建立SPP连接的连接请求。通过本申请提供的技术方案，可以避免由于至少两个应用抢占SPP协议通道与第一电子设备进行连接，从而出现第一电子设备在上述至少两个应用之间来回切换连接的问题，进而可以避免第一电子设备的数据分发混乱或出错的问题。在本申请的实施例中，第二电子设备和/或第三电子设备与第一电子设备之间进行通信是基于SPP协议完成的。为了便于理解本方案，下面以上述应用场景为例，对本申请实施例可能涉及到的技术词语进行说明：SPP协议定义了使用蓝牙进行RS232串口电缆模拟的设备应使用的协议和程序。具体地，SPP协议需要服务发现协议和串行线性仿真协议作为支撑，分别负责服务的发现和数据的传输。通常将发起SPP连接请求的设备称为client，接受SPP连接请求的设备称为server。例如，以上述应用场景为例，图1所示的手机102可以作为client，智能手表101可以作为server。图1所示的手机102可以向智能手表101发起SPP连接请求，智能手表101接受手机102的SPP连接请求。具体地，蓝牙设备之间通过SDP协议发现彼此的服务。SDP协议的作用是发现对端蓝牙设备所有的服务，以及该服务提供了哪些功能。client只有通过SDP协议才能获得server的设备信息、服务信息及服务特征，才能在此基础上建立相互间的连接。以上述应用场景为例，图1所示的手机102基于SDP协议发现智能手表101提供的所有服务，以及该服务所提供的功能。每一个Service表示蓝牙设备的一种能力，例如电量信息服务、系统信息服务等。每一个Service利用服务记录来表示，即具有唯一的32位的句柄组成。每一个Service都是服务类的一个实例，即一个Service Record就是ServiceClass的一个实例。每一个Service Class有一个Service Class ID，称该Service Class ID为通用唯一识别码。client对server中的ServiceAttribute的操作，都是通过对UUID 的搜索得到对应的handle之后，通过handle来操作Service Attribute的。RFCOMM协议提供了基于逻辑链路控制及自适应协议的串行仿真。可支持在两个蓝牙设备之间同时保持最高60路的通信连接。RFCOMM的目的是针对如何在两个不同设备上的应用之间保证一条完整的通信路径。L2CAP协议位于基带之上，可为高层提供面向连接和面向无连接的数据服务，完成协议复用、分段和重组、服务质量传输以及组抽象等功能。主机控制接口位于蓝牙高层协议和低层协议之间，提供了对基带控制器和链路管理器的命令以及访问蓝牙硬件的统一接口，也就是定义了特定的格式由蓝牙协议栈来控制蓝牙芯片来做相应的动作，并且由蓝牙芯片回应蓝牙协议栈状态以及事件消息。基于上述技术词语，对本申请实施例中可能涉及到的蓝牙连接过程进行说明：以上述应用场景为例，手机102与智能手表101之间进行通信首先需要建立物理连接。其中一种蓝牙物理连接为异步面向连接类型。本申请实施例以手机102作为客户端主动连接智能手表101为例，介绍手机102与智能手表101之间建立ACL链路的过程。手机102与智能手表101均开启蓝牙功能后，手机102可以开始以跳频的方式寻呼智能手表101。智能手表101会固定间隔地去扫描外部寻呼。当智能手表101扫描到来自手机102的外部寻呼时便会响应该寻呼。这样，手机102与智能手表101之间便可以建立ACL链路。其中，手机102可以是由用户触发ACL连接请求后开始寻呼智能手表101，也可以是在手机102启动蓝牙功能后自动开始寻呼智能手表101。进一步地，在可能的一些实施例中，手机102与智能手表101之间首次建立ACL链路之后，该两个电子设备均开启蓝牙功能且处于一定范围内时，可以自动连接。进一步地，在手机102与智能手表101建立ACL链路之后，手机102与智能手表101之间可以创建虚拟的串行端口配置文件SPP连接进行通信。如图5所示，为手机102作为客户端与作为服务端的智能手表101创建SPP连接涉及的协议架构图。如图5所示，该协议架构包括：HCI层、L2CAP层、SDP层、RFCOMM层、SPP层。其中，手机102与智能手表101的蓝牙模块主要是通过上述HCI层进行数据和信息的传递。在可能的一些实施例中，手机102与智能手表101之间建立ACL链路之后，手机102基于SDP协议发现智能手表101的服务，以及手机102与智能手表101之间建立SPP连接的过程，包括步骤：1）手机102向智能手表101发送SDP请求，以查找智能手表101中的连接参数。其中，连接参数可以包括RFCOMM服务通道号、服务类标识和句柄。连接参数中，RFCOMM服务通道号、服务类标识和句柄之间具有唯一关联关系。在本申请实施例中，手机102向智能手表101发送SDP请求，以查找支持控制智能手表101的至少两个应用对应的连接参数。2）手机102向智能手表101发送认证请求。智能手表101接收来自手机的认证请求后，与手机102之间进行设备认证和加密，这一过程是可选的。3）手机102向智能手表101的RFCOMM实体发送新的L2CAP通道连接请求，以请求新的L2CAP通道。智能手表101接收该L2CAP通道连接请求后，建立一个新的L2CAP通道。4）手机102在L2CAP通道上向智能手表101发送RFCOMM连接请求。智能手表101接收到该RDCOMM连接请求后，开启一个RFCOMM会话。5）手机102在RFCOMM会话上基于一个应用对应的连接参数向智能手表101发送数据连接请求，启动新的SPP连接。其中，应用为至少两个应用中的一个。在上述连接建立之后，智能手表101在向本地SDP数据库为上述建立的虚拟串行端口连接注册一条服务记录。图6所示为手机102与智能手表101基于不同应用建立SPP连接涉及的系统框架图。其中，智能手表101的蓝牙内核中的SDP记录预先配置了支持控制智能手表101的应用对应的连接参数，图6中所示的应用包括第一应用和第二应用。其中，连接参数可以包括服务类标识、句柄、服务通道号等。智能手表101的应用内核中定义了支持控制智能手表101的应用。其中，手机102的蓝牙套接字管理器通过连接服务SDK接收第一应用对应的蓝牙套接字发送的连接请求，通过上述建立连接的方法，向智能手表101发送请求以基于第一应用建立SPP连接。手机102的蓝牙套接字管理器通过连接服务SDK接收第二应用对应的蓝牙套接字发送的连接请求，通过上述建立连接的方法，向智能手表101发送请求以基于第二应用建立SPP连接。智能手表101的蓝牙SDK通过蓝牙控制器接收来自手机102发送的连接请求，智能手表101的SPP服务端响应连接请求与手机102建立SPP连接。为了使本领域普通人员更好地理解本公开的技术方案，下面将结合附图，对本公开实施例的技术方案进行清楚、完整地描述。需要说明的是，本公开的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序，应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本公开的实施例能够以除了在这里图示或描述的那些以外的顺序实施。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本公开的一些方面相一致的装置和方法的例子。如图7所示为本申请一实施例提供的一种请求处理方法的流程示意图。本实施例结合上述应用场景介绍本申请实施例提供的请求处理方法。具体的，以第一电子设备是上述应用场景中的智能手表101，第二电子设备和第三电子设备是上述应用场景中的手机102为例进行说明。其中，智能手表101支持至少两个应用控制智能手表101。手机102安装该至少两个应用，该至少两个应用可控制智能手表101。其中，智能手表101与手机102之间可以建立蓝牙连接进行通信。基于上述蓝牙连接智能手表101与手机102之间可以进行数据传输。例如，该手机102可以通过上述蓝牙连接向智能手表101传输升级数据包，以使智能手表101基于升级数据包进行升级。又如，该第手机102可以通过上述蓝牙连接向智能手表101发送控制指令，使智能手表101基于控制指令执行相应操作。再如，该智能手表101可以通过上述蓝牙连接向手机102传输监测数据，该监测数据可以是智能手表101对被监测对象采集得到。智能手表101开机后可以初始化蓝牙协议栈。然后，该智能手表101便可以与其他电子设备建立蓝牙连接，接受其他电子设备中应用的控制。具体的，如图7所示，本申请实施例提供的请求处理方法可以包括以下步骤：S401.手机102与智能手表101建立ACL链路。其中，手机102与智能手表101之间建立ACL链路的过程可以参照上述蓝牙连接过程的说明，在此不再赘述。以图3所示“智能手表”应用对应的控制界面120，或者图3所示“运动健康”应用对应的控制界面130为例，手机102可以接收用户在控制界面120或控制界面130中对 “连接”控件的触发操作。响应于对该“连接”控件的触发操作，手机102开始发起寻呼，以与智能手表101建立ACL链路。S402.手机102通过ACL链路，基于第一应用与智能手表101建立第一SPP连接。其中，手机102与智能手表101之间建立ACL链路后，可以通过该ACL链路向智能手表101发送服务发现SDP请求。该SDP请求可以用于从智能手表101获取支持控制该智能手表101的至少两个应用对应的连接参数。其中，连接参数可以包括应用对应的RFCOMM服务通道号、服务类标识、句柄等等。该至少两个应用包括上述第一应用。手机102还可以向智能手表101发起认证和加密请求，与智能手表101进行认证和秘钥协商。之后，手机102可以向智能手表101的RFCOMM实体请求L2CAP通道。手机102在L2CAP通道中向智能手表101发起RFCOMM连接请求，建立RFCOMM会话。在RFCOMM会话中，手机102可以基于第一应用对应的连接参数，向智能手表101发起SPP连接请求，请求与智能手表101建立基于第一应用的SPP连接。S403.智能手表101与手机102建立第一SPP连接后，获取并保存第一应用的优先级信息。其中，该第一应用的优先级信息用于指示第一应用控制智能手表101的优先级，该第一应用是至少两个应用中的一个应用。在一些实施例中，可以为上述至少两个应用分别预先设置对应的优先级标识，用于存储应用的优先级信息。在上述应用场景中，在与手机102建立第一SPP连接之后，智能手表101可以获取并存储第一应用的优先级标识，第一应用的优先级标识作为第一应用的优先级信息。其中，应用的优先级标识可以存储在智能手表101中。进一步地，在一些实施例中，优先级标识可以结合支持控制智能手表101的应用个数设置。例如智能手表101支持两个应用控制智能手表101，可以将其中一个应用A的优先级标识设置为1，将另一应用B的优先级设置为2。其中，优先级的顺序可以设置为：优先级标识=1低于优先级标识=2。又如智能手表101支持三个应用控制智能手表101，可以将其中一个应用C优先级标识设置为1，将应用D的优先级标识设置为2，将应用E的优先级标识设置为3。其中，优先级的顺序可以设置为：优先级标识=1低于优先级标识=2，优先级标识=2低于优先级标识=3。在本申请实施例提供的技术方案中，智能手表101支持两个以上应用控制智能手表101。在手机102与智能手表101建立连接时，不同应用对应不同的连接参数。在一些实施例中，也可以将应用对应的连接参数信息作为应用的优先级信息。智能手表101获取并保存第一应用的优先级信息，包括：智能手表101获取并存储第一应用对应的连接参数信息，第一应用对应的连接参数信息作为第一应用的优先级信息。其中，可以将应用对应的服务类标识、句柄或者服务通道号设置为应用的优先级信息。具体地，第一SPP连接是基于第一应用建立的，第一SPP连接的连接参数即为第一应用对应的连接参数，因此智能手表101可以根据第一SPP连接获取第一应用对应的连接参数。例如在一个具体实施例中，智能手表101支持两个应用控制智能手表101，如应用A和应用B。其中，应用A对应的应用标识为X1、句柄为1，应用B对应的应用标识为X2、句柄为2。在本实施例中，可以根据应用标识设置应用的优先级信息，具体可以预先根据应用标识设置优先级顺序为：应用标识X1对应的应用优先级高于应用标识X2对应的应用优先级。或者也可以根据句柄设置应用优先级为：应用对应的句柄为1的应用优先级高于应用对应的句柄为2对应的应用优先级。上述两种方式的应用的优先级顺序均为：应用A的优先级高于应用B的优先级。在另一些实施例中，针对上述应用A和应用B，还可以根据应用标识设置应用优先级为：应用标识X1对应的应用优先级低于应用标识X2对应的应用优先级。也可以根据句柄设置应用优先级为：应用对应的句柄为1的应用优先级低于应用对应的句柄为2对应的应用优先级。上述两种方式的应用的优先级顺序均为：应用A的优先级低于应用B的优先级。又如在另一个具体实施例中，智能手表101支持三个应用控制智能手表101，如应用C、应用D和应用E。其中，应用C对应的应用标识为Y1、句柄为3；应用D对应的应用标识为Y2、句柄为4；应用E对应的应用标识为Y3、句柄为5。在本实施例中，可以根据应用标识设置优先级顺序为：＜＜。或者也可以根据句柄设置优先级顺序为：＜＜。上述两种方式的应用的优先级顺序均为：应用C＜应用D＜应用E。在另一些实施例中，针对上述支持三个应用控制智能手表101的应用C、D和E，也可以根据应用标识设置优先级顺序为：＞＞。或者，根据句柄设置优先级顺序为：＞＞。上述两种方式的应用的优先级顺序均为：应用C＞应用D＞应用E。可以理解地，在其他实施例中，也可以根据应用的服务类标识、应用对应的句柄，或者应用对应的服务通道号将应用的优先级设置为其他顺序。在一些实施例中，手机102基于一个应用向智能手表101发送的连接请求中携带该应用对应的服务通道号。进一步地，在一些实施例中，智能手表101获取并保存第一应用的优先级信息，包括：智能手表101解析基于第一应用的连接请求，得到第一应用的优先级信息，存储第一应用对应得到优先级信息。其中，该基于第一应用的连接请求用于请求基于第一应用控制智能手表101。如果来自手机102的基于第一应用的连接请求中携带的信息中包含了第一应用的优先级信息，那么智能手表101可以直接解析连接请求得到第一应用的优先级信息，并存储第一应用的优先级信息。在一个具体实施例中，将第一应用对应的服务通道号作为第一应用的优先级信息，由于手机102发送的连接请求中携带第一应用对应的服务通道号，因此可以通过解析连接请求得到第一应用的优先级信息。本公开实施例提供的技术方案，利用支持控制第一电子设备的应用对应的服务通道号作为应用的优先级信息。由于服务通道号是第二电子设备与第一电子设备建立SPP连接过程中的一个必要的连接参数，因此在上述请求处理方法中，无需增加其他参数作为应用的优先级。第二电子设备与第一电子设备建立连接的过程与常规连接的过程一致，无需进行改进，第二电子设备中安装的应用也可以是已开发的应用，从而使上述请求处理方法的应用范围更加广泛。在另一些实施例中，如果来自手机102的连接请求中不包含第一应用的优先级信息，智能手表101可以获取第一SPP连接的连接参数信息，再根据第一SPP连接的连接参数信息获取并保存第一应用的优先级信息。在一些实施例中，以第一应用对应的句柄作为第一应用的优先级信息为例，由于连接请求中不包含第一应用对应的句柄，因此智能手表101需先获取第一应用对应的连接参数信息。在此基础上，智能手表101可以基于第一应用对应的连接参数信息获取并保存第一应用对应的句柄，第一应用对应的句柄作为第一应用的优先级信息。其中，由于第一SPP连接是基于第一应用建立的，因此在与手机102建立第一SPP连接之后，智能手表101通过第一SPP连接可以获取到第一SPP连接的连接参数，即第一应用对应的连接参数。由上述实施例可知，智能手表101通过第一SPP连接的连接参数获取第一应用的优先级信息。因此，智能手表101可以在成功与手机102建立第一SPP连接后，具体根据第一SPP连接获取第一应用对应的连接参数，并根据第一应用对应的连接参数获取第一应用对应的句柄。进一步地，智能手表101与手机102建立第一SPP连接之后，可以根据第一SPP连接获取到第一SPP连接对应的第一服务通道号，基于第一服务通道号获取第一应用对应的句柄。应理解，第一SPP连接是基于第一应用建立的SPP连接，因此第一SPP连接对应的服务通道号即第一应用对应的服务通道号。或者，智能手表101也可以通过解析基于第一应用的连接请求获取第一SPP连接对应的第一服务通道号，再基于第一服务通道号获取第一应用对应的句柄。在一些实施例中，应用对应的连接参数信息可以预先被配置在智能手表101的协议栈中。在本实施例中，智能手表101基于第一应用对应的服务通道号获取第一应用对应的句柄，具体可以为：智能手表101基于第一应用对应的服务通道号，从智能手表101的协议栈中获取第一应用对应的句柄，第一应用对应的句柄作为第一应用的优先级信息。其中，由于第一应用对应的服务通道号、服务类标识、句柄均是一一对应存储的，因此在本实施例中，根据第一应用对应的服务通道号可以获取第一应用对应的句柄。本公开实施例提供的技术方案，利用支持控制第一电子设备的应用对应的句柄作为应用的优先级信息。由于句柄是第二电子设备与第一电子设备建立SPP连接之前，第一电子设备中必须预先配置好的参数，因此在上述请求处理方法中，无需增加其他参数作为应用的优先级。对于第二电子设备而言，与第一电子设备建立连接的过程与常规连接的过程一致，无需进行改进。第二电子设备中安装的应用也可以是已开发的应用，从而使上述请求处理方法的应用范围更加广泛。在另一些实施例中，以根据第一应用的优先级标识作为第一应用的优先级信息为例，由于连接请求中不包含第一应用的优先级标识，因此智能手表101需先获取第一SPP连接的连接参数信息，再基于第一SPP连接的连接参数信息获取并保存第一应用的优先级标识，第一应用的优先级标识作为第一应用的优先级信息。其中，一个应用的优先级标识作为该应用的优先级信息时，可以将应用的优先级标识存储在智能手表101的协议栈中。因此智能手表101基于第一SPP连接的连接参数信息获取并保存第一应用的优先级标识，具体可以为：智能手表101基于第一SPP连接的连接参数信息从智能手表101的协议栈中获取并保存第一应用的优先级标识。本公开实施例提供的技术方案，为应用设置对应的优先级标识作为应用的优先级信息。优先级标识存储在智能手表101的协议栈中。在上述请求处理方法中，对于第二电子设备而言，与第一电子设备建立连接的过程与常规连接的过程一致，无需进行改进。第二电子设备中安装的应用也可以是已开发的应用，从而使上述请求处理方法的应用范围更加广泛。S404.智能手表101通过第一SPP连接基于手机102中第一应用与手机交互。在可能的一些实施例中，智能手表101基于第一应用与手机102进行交互包括：智能手表101与手机102之间通过第一SPP连接进行数据传输。例如，用户佩戴智能手表101后，智能手表101便可以监测用户的身体相关数据。在该场景下，智能手表101可以通过上述第一SPP连接向手机102上传监测到的数据。手机102接收到上述数据后，便可以在第一应用的界面中展示该数据。又如，在智能手表101需要进行固件升级时，手机102可以通过第一SPP连接向智能手表101传输升级包数据。智能手表101在接收到来自手机102的升级包数据时，可以根据升级包数据进行固件升级。在另一些实施例中，智能手表101基于第一应用与手机102进行交互还可以包括：手机102基于第一应用对智能手表101进行控制。具体地，手机102接收用户通过在第一应用的界面中触发的控制指令，将该控制指令通过第一SPP连接转发至智能手表101。智能手表101在接收到控制指令时，根据该控制指令执行相应的控制事件。例如，在用户希望在智能手表101中设置闹钟提醒的场景下，手机102接收用户在第一应用界面中设置的闹钟信息，并将设置好的闹钟信息通过第一SPP连接转发至智能手表101。智能手表101在接收到上述闹钟信息时，在智能手表101中执行对应的闹钟设置事件。在其它实施例中，智能手表101与手机102之间的交互还可以是其它场景的交互，在本申请实施例中不做限制。在智能手表101基于第一应用与手机102建立第一SPP连接之后，用户还有可能在手机102中启动第二应用，并通过第二应用控制该智能手表101。具体地，手机102接收用户通过点击如图3所示主界面110中的“运动健康”。响应于该点击操作，手机102启动第二应用。手机102启动“运动健康”之后，可以进入如图3所示的控制界面130。S405.手机102接收用户对第二应用的控制操作，该控制操作用于触发手机102请求通过第二应用控制智能手表101。以图3所示控制界面130为例，手机102接收用户在控制界面130中“智能手表1”的“连接”控件的点击操作。响应于该点击操作，手机102可以执行S406。S406、手机102向智能手表101发送连接请求。该连接请求用于请求通过手机102中的第二应用控制智能手表101。其中，第二应用是至少两个应用中的一个应用。手机102在接收到用户对第二应用的控制操作之后，基于第二应用向智能手表101发送连接请求。具体地该连接请求为SPP连接请求。在本实施例中，由于在用户启动第二应用之前，手机102与智能手表101之间已经建立了ACL链路，因此手机102在接收到用户对第二应用的控制操作时，可以直接根据该控制操作通过已经建立的ACL链路向智能手表101发送SPP连接请求。S407.智能手表101接收来自手机102的连接请求。一般而言，在与手机102建立第一SPP连接后，智能手表101接收到基于其他应用发送的连接请求时，将会响应该应用的连接请求，与相应电子设备建立新的连接，以替代第一SPP连接。然而如果智能手表101反复接收到基于不同应用发送的连接请求，则可能出现智能手表101在不同应用之间来回切换连接，导致智能手表101与其他电子设备之间进行数据传输时，容易出现数据分发混乱或出错的问题。本申请实施例中，智能手表101在已经与其他电子设备建立连接之后，接收到基于其他应用发送的连接请求时，不会直接接受新的连接请求，而是需要结合当前已经建立连接的应用，来判断是否需要响应新的连接请求，并基于新的连接请求建立新的连接。S408.智能手表101根据第一应用的优先级信息，确定是否响应连接请求基于第二应用与手机102建立第二SPP连接。如图8所示，S408可以包括S408a-S408c：S408a.智能手表101判断第一应用的优先级是否为至少两个应用的优先级中最高的优先级。具体的，在S408a之后，若第一应用的优先级为至少两个应用的优先级中最高的优先级，则表示其他应用的优先级低于第一应用的优先级，则其他应用不能抢占当前已经基于第一应用与手机102之间建立的第一SPP连接。在这种情况下，智能手表101可以执行S408b，忽略S406-S407所述的连接请求。若第一应用的优先级不是至少两个应用的优先级中最高的优先级，则表示其他应用的优先级可能高于第一应用的优先级。在这种情况下，智能手表101则可以响应S406-S407所述的连接请求。具体的，智能手表101可以执行S408c。S408b.智能手表101忽略上述连接请求。S408c.智能手表101响应上述连接请求，基于第二应用与手机102建立第二SPP连接。具体地，S408c进一步地可以包括：智能手表101断开第一SPP连接，响应上述连接请求，基于第二应用与手机102建立第二SPP连接。在上述实施例中，智能手表101在接收到来自手机102基于第二应用发送的连接请求时，由于当前智能手表101已经基于第一应用与手机102建立了第一SPP连接，因此需要判断是否响应连接请求，也即是否基于连接请求对应的第二应用与手机102建立SPP连接。进一步地，在本实施例中，对于当前已经建立SPP连接的第一应用，获取第一应用的优先级信息，并结合第一应用的优先级信息，确定是否响应连接请求。本公开实施例提供的技术方案，针对第一应用的优先级不是至少两个应用中最高优先级的情况，智能手表101会响应基于第二应用的连接请求，并基于第二应用与手机102建立第二SPP连接。针对第一应用的优先级是至少两个应用中最高优先级的情况，智能手表101则会忽略在后接收到的连接请求，保持第一SPP连接。通过该技术方案，可以在支持多个应用控制第一电子设备的前提条件下，确保第一电子设备先后接收到来自其他电子设备基于不同应用发起的连接请求时，不会轻易在不同应用之间来回切换连接的情况。具体的，如果当前建立SPP连接的应用是所有支持的应用中优先级最高的一个应用，则不再切换到其它应用建立SPP连接，从而减少第一电子设备与第二电子设备进行数据通信数据时，数据分发混乱或出错的情况。上述实施例提供的请求处理方法应用于第一电子设备，第一电子设备支持两个以上应用控制第一电子设备。通过采用该技术方案，对于第一电子设备所支持的多个应用分别设置了优先级信息，并且第一电子设备在成功与其他电子设备建立SPP连接之后，第一电子设备将当前建立SPP连接的应用的优先级信息存储起来。当第一电子设备再接收到基于其他应用发送的连接请求时，第一电子设备将会结合当前保存的应用的优先级信息，确定是否响应在后接收到的连接请求。如此，可以避免在先后接收到其他电子设备基于不同应用发起的连接请求时，第一电子设备在多个应用之间来回切换建立连接的问题，从而减少第一电子设备中的数据分发混乱或出错的问题。在一些实施例中，如图9所示，S408c之后，还包括：S409.智能手表101获取并保存第二应用的优先级信息。其中，与第一应用的优先级信息类似地，智能手表101可以利用第二应用对应的连接参数信息作为第二应用的优先级信息，也可以利用预先配置在智能手表101协议栈中的优先级标识作为第二应用的优先级信息。在一些实施例中，智能手表101获取第二应用的优先级信息包括：智能手表101获取第二应用对应的第二连接参数信息，基于第二连接参数信息获取第二应用的优先级信息。具体地，智能手表101可以获取第二SPP连接对应的第二服务通道号，基于第二服务通道号获取第二应用的优先级信息。进一步地，智能手表101基于第二服务通道号可以从智能手表101的协议栈中获取第二应用的优先级信息。由上述实施例可知，可以利用第二应用对应的句柄作为第二应用的优先级信息。因此智能手表101基于第二服务通道号获取第二应用的优先级信息，具体可以为：智能手表101基于第二服务通道号获取第二应用对应的句柄，第二应用对应的句柄作为第二应用的优先级信息。在其它实施例中，也可以将一个应用对应的服务类标识或者服务通道号作为该应用的优先级信息。因此，智能手表101基于第二服务通道号获取第二应用的优先级信息，还可以为：智能手表101将第二服务通道号作为第二应用的优先级信息保存，或者，智能手表101基于第二服务通道号获取第二应用对应的服务类标识，第二应用对应的服务类标识作为第二应用的优先级信息。进一步地，在智能手表101与手机102之间成功建立第二SPP连接后，智能手表101获取并保存第二应用的优先级信息，可以包括S409a：智能手表101采用第二应用的优先级信息替换智能手表101中已保存的第一应用的优先级信息。也就是说，智能手表101可以删除第一应用的优先级信息。可以理解的是，智能手表101在同一时间只能保存当前建立SPP连接的应用的优先级信息。由上述实施例可知：一个应用对应的句柄作为该应用的优先级信息。因此，智能手表101采用第二应用的优先级信息替换智能手表101中已保存的第一应用的优先级信息，具体可以为：智能手表101采用第二应用对应的句柄替换已保存的第一应用对应的句柄。需要说明的是，智能手表101获取第二SPP连接对应的第二服务通道号、基于第二服务通道号获取第二应用对应的句柄的过程，与获取第一SPP连接对应的第一服务通道号、基于第一服务通道号获取第一应用对应的句柄的过程类似，在此不再赘述。本公开实施例提供的技术方案，在第一电子设备基于第二应用与第二电子设备建立第二SPP连接之后，第一电子设备将第二应用的优先级替换已存储的第一应用的优先级。根据已存储的第二应用的优先级信息可知，当前第一电子设备是基于第二应用与第二电子设备建立的连接。当第一电子设备接收到其它连接请求时，可以结合已保存的第二应用的优先级信息确定是否响应该其它连接请求。仅保存当前建立的SPP连接的应用的优先级信息，第一电子设备在接收到连接请求时，可以快速的判断当前建立的SPP连接对应的应用的优先级，并对是否响应新接收到的连接请求作出判断，提高请求处理效率。在另一些实施例中，智能手表101也可以不删除第一应用的优先级信息，而是直接保存第二应用的优先级信息。在该实施例中，智能手表101与手机102已建立第二SPP连接的情况下，接收到基于另一个应用的SPP连接请求后，可以根据第二SPP连接对应的应用对应的优先级信息，确定是否响应该SPP连接请求。在另一些实施例中，结合上述应用场景介绍本申请实施例提供的请求处理方法。具体地，以第一电子设备是上述应用场景中的智能手表101，第二电子设备是上述应用场景中的手机102，以及第三电子设备是上述应用场景中的平板电脑103为例进行说明。其中，智能手表101支持至少两个应用控制智能手表101。手机102安装该至少两个应用中的一个应用，平板电脑103安装该至少两个应用中的一个应用。智能手表101与手机102、平板电脑103之间可以分别建立蓝牙连接进行通信。基于上述蓝牙连接智能手表101与手机102、平板电脑103之间可以进行数据传输，或者基于上述蓝牙连接，手机102或平板电脑103可以控制智能手表101。其中，智能手表101开机后可以初始化蓝牙协议栈。然后，该智能手表101便可以与其他电子设备建立蓝牙连接，接受其他电子设备中应用的控制。具体的，本申请实施例提供的请求处理方法可以包括步骤1-步骤10，其中：步骤1.手机102与智能手表101建立ACL链路。步骤2.手机102通过ACL链路，基于第一应用与智能手表101建立第一SPP连接。步骤3.智能手表101与手机102建立第一SPP连接后，获取并保存第一应用的优先级信息。步骤4.智能手表101通过第一SPP连接基于手机102中第一应用与手机交互。在智能手表101基于第一应用与手机102建立第一SPP连接之后，用户还有可能在平板电脑103中启动第二应用，并通过平板电脑103基于第二应用控制该智能手表101。步骤5. 平板电脑103与智能手表101建立ACL链路。步骤6.平板电脑103接收用户对第二应用的控制操作，该控制操作用于触发平板电脑103请求通过第二应用控制智能手表101。步骤7.平板电脑103向智能手表101发送连接请求。该连接请求用于请求通过平板电脑103中的第二应用控制智能手表101。步骤8.智能手表101接收来自平板电脑103的连接请求；该连接请求用于请求通过平板电脑103中的第二应用控制智能手表101。步骤9. 智能手表101根据第一应用的优先级信息，确定是否响应连接请求基于第二应用与平板电脑103建立第二SPP连接。具体地，步骤9可以包括：若第一应用的优先级为至少两个应用中的最高优先级，则智能手表101忽略来自平板电脑103的连接请求。若第一应用的优先级不是至少两个应用中的最高优先级，则智能手表101响应来自平板电脑103的连接请求，基于第二应用与平板电脑103建立第二SPP连接。可以理解地，在智能手表101与平板电脑103之间建立第二SPP连接后，智能手表101与平板电脑103之间基于第二应用进行交互。更进一步地，在智能手表101与平板电脑103之间建立第二SPP连接后，智能手表101还获取并保存第二应用的优先级信息。在一些实施例中，智能手表101获取第二应用的优先级信息，将第二应用的优先级信息替换第一应用的优先级信息。可以理解地，上述平板电脑103与智能手表101之间建立ACL链路、建立SPP连接、智能手表101获取第二应用的优先级信息等过程，与上述实施例中，手机102与智能手表101之间建立ACL链路、建立SPP连接、智能手表101获取第一应用的优先级信息等过程类似，在此不再赘述。在本实施例中，智能手表101在接收到来自平板电脑103的连接请求时，由于当前智能手表101已经基于第一应用与手机102建立了第一SPP连接，因此需要判断是否响应连接请求，也即是否基于连接请求对应的第二应用与平板电脑103建立SPP连接。进一步地，在本实施例中，对于当前已经建立SPP连接的第一应用，获取第一应用的优先级信息，并结合第一应用的优先级信息，确定是否响应该连接请求，基于第二应用与平板电脑103建立第二SPP连接。本公开实施例提供的技术方案，针对第二电子设备和第三电子设备为不同设备，第二电子设备和第三电子设备中分别安装不同的应用，该不同的应用均支持控制第一电子设备。在基于第一应用与第二电子设备建立连接之后，第一电子设备获取并保存第一应用的优先级信息。第一电子设备接收到来自第三电子设备基于第二应用的连接请求时，第一电子设备也会结合第一应用的优先级信息确定是否响应来自第三电子设备的连接请求，与第三电子设备建立SPP连接。通过保存当前建立SPP连接对应的应用优先级，避免第一电子设备在不同应用之间来回切换连接，从而减少第一电子设备数据分发混乱或出错的可能。在一些实施例中，支持控制智能手表101的至少两个应用的优先级信息，是预先设置在智能手表101的协议栈中的。具体地，至少两个应用的优先级信息可以存储在智能手表101协议栈的SPP协议中。在一些实施例中，智能手表101的SPP协议是出厂前配置好的，即至少两个应用的优先级信息是出厂前配置好的。在智能手表101与其它电子设备建立连接时，可以直接从智能手表101的预设存储路径中获取读取该SPP协议中的应用优先级信息。在另一些实施例中，至少两个应用的优先级信息也可以在出厂后根据用户指令自定义设置的。在本实施例中，智能手表101显示优先级设置界面，优先级设置界面用于设置至少两个应用的优先级信息。智能手表101接收用户在该优先级设置界面设置的优先级信息，并保存设置的优先级信息。其中，智能手表101将上述设置的优先级信息保存在智能手表101的协议栈中。具体地，智能手表101可以将用户在优先级设置界面设置的优先级信息存储在智能手表协议栈的SPP协议中。进一步地，在一些实施例中，在将用户在优先级设置界面设置的优先级信息存储至协议栈的SPP协议之后，上述请求处理方法还包括：智能手表101初始化SPP协议。在本实施例中，智能手表101在根据用户的指令修改SPP协议中应用的优先级信息之后，需要重新初始化SPP协议，以使修改后应用的优先级信息应用生效。在一些实施例中，如图10所示为本申请一实施例提供的优先级设置界面示意图。图10所示界面中第一应用的优先级设置为低，第二应用的优先级设置为高。可以理解地，如图10所示的优先级设置，第一应用的优先级低于第二应用的优先级。在该界面，智能手表101还可以接收用户的操作，将第一应用的优先级设置为高于第二应用的优先级。本公开实施例提供的技术方案，对于支持控制第一电子设备的至少两个应用，其各自的优先级可以根据用户自定义设置，便于用户自行选择第一电子设备优先连接的应用。在已建立SPP连接的情况下，接收到基于其它应用的新的连接请求，第一电子设备将结合已建立SPP连接的应用优先级确定是否响应新的连接请求。如果当前已建立SPP连接的应用优先级为至少两个应用中的最高优先级，则第一电子设备忽略新的连接请求。如果当前已建立SPP连接的应用优先级不是至少两个应用中的最高优先级，则第一电子设备响应该新的连接请求，断开在先建立的SPP连接，建立新的连接。避免第一电子设备在不同应用之间来回切换连接，减少第一电子设备的数据分发混乱或出错的情况。在一些实施例中，上述所说的第一应用、第二应用均为手机102和/或平板电脑103中安装的系统应用。系统应用通常是电子设备出厂时内置的应用，用户也可以根据需求进行安装。进一步地，在一些实施例中，手机102和/或平板电脑103中的第三方应用可以通过系统应用与智能手表101之间进行数据通信。第三方应用通常是指电子设备出厂后下载并安装的应用；第三方应用也可以向智能手表101发送数据。手机102和/或平板电脑103中的第三方应用向智能手表101发送数据的过程包括：在第一电子设备基于第一应用与第二电子设备建立第一SPP连接之后，第三方应用向第一应用发送第一数据，第一应用通过第一SPP连接将第一数据转发至第一电子设备。可以理解地，上述过程中所说的第一应用也可以替换为第二应用。本申请另一些实施例提供了一种电子设备，该电子设备是上述第一电子设备，第一电子设备支持至少两个应用控制第一电子设备。该第一电子设备可以包括：存储器、蓝牙模块和一个或多个处理器。该存储器、蓝牙模块和处理器耦合。该蓝牙模块用于与其他电子设备进行短距离通信。该存储器用于保存控制第一电子设备的应用的优先级信息；该存储器还用于存储计算机程序代码，该计算机程序代码包括计算机指令。当处理器执行计算机指令时，第一电子设备可执行上述方法实施例中智能手表101执行的各个功能或者步骤。该第一电子设备的结构可以参考图4所示的智能手表200的结构。在一些实施例中，上述第一电子设备是智能穿戴设备。本申请实施例还提供一种芯片系统，如图11所示，该芯片系统60包括至少一个处理器601和至少一个接口电路602。处理器601和接口电路602可通过线路互联。例如，接口电路602可用于从其它装置接收信号。又例如，接口电路602可用于向其它装置发送信号。示例性的，接口电路602可读取存储器中存储的指令，并将该指令发送给处理器601。当所述指令被处理器601执行时，可使得电子设备执行上述实施例中的各个步骤。当然，该芯片系统还可以包含其他分立器件，本申请实施例对此不作具体限定。本申请实施例还提供一种计算机可读存储介质，该计算机可读存储介质包括计算机指令，当所述计算机指令在上述第一电子设备上运行时，使得该第一电子设备执行上述方法实施例中智能手表101执行的各个功能或者步骤。本申请实施例还提供一种计算机程序产品，当所述计算机程序产品在计算机上运行时，使得所述计算机执行上述方法实施例中智能手表101执行的各个功能或者步骤。该计算机可以是第一电子设备，如智能手表101。通过以上实施方式的描述，所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，仅以上述各功能模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能模块完成，即将装置的内部结构划分成不同的功能模块，以完成以上描述的全部或者部分功能。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个装置，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是一个物理单元或多个物理单元，即可以位于一个地方，或者也可以分布到多个不同地方。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个可读取存储介质中。基于这样的理解，本申请实施例的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该软件产品存储在一个存储介质中，包括若干指令用以使得一个设备或处理器执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上内容，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何在本申请揭露的技术范围内的变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以所述权利要求的保护范围为准。
