标题title
基于手机信令的出行距离确定方法及相关装置
摘要abst
本发明提供的基于手机信令的出行距离确定方法及相关装置，包括获取用户的信令数据，并从信令数据中提取至少一段出行路径以及出行路径的出发地、目的地；根据出发地和目的地各自对应区域信息，确定出发地和目的地各自对应的经纬度；根据出发地和目的地在目标解算平面上的相对位置关系信息，构建距离解算模型；其中，距离解算模型用于表征出发地和目的地，与出发地和目的地在目标解算平面上的二维投影位置间的距离信息；将出发地和目的地各自对应的经纬度输入距离解算模型中，得到出行路径对应的出行距离。本发明将空间距离问题转换为了平面距离问题，相比较于现有技术中根据相对空间位置得到距离解算模型，可以降低计算量，提高处理效率。
权利要求书clms
1.一种基于手机信令的出行距离确定方法，其特征在于，所述方法包括：获取用户的信令数据，并从所述信令数据中提取至少一段出行路径以及所述出行路径的出发地、目的地；根据所述出发地和所述目的地各自对应区域信息，确定所述出发地和所述目的地各自对应的经纬度；根据所述出发地和所述目的地在目标解算平面上的相对位置关系信息，构建距离解算模型；其中，所述距离解算模型用于表征所述出发地和所述目的地，与所述出发地和目的地在所述目标解算平面上的二维投影位置间的距离信息；将所述出发地和所述目的地各自对应的经纬度输入所述距离解算模型中，得到所述出行路径对应的出行距离。2.根据权利要求1所述的方法，其特征在于，根据所述出发地和所述目的地在目标解算平面上的相对位置关系信息，构建距离解算模型，包括：根据所述出发地和目的地的空间位置信息，构建多面体坐标系，并在所述多面体坐标系中确定所述出发地和所述目的地各自对应投影位置；根据所述出发地和目的地、以及所述出发地和目的地各自对应的投影位置，构建所述目标解算平面；在所述目标解算平面中，根据所述出发地与所述目的地之间的第一平面距离、所述出发地与所述出发地对应的投影位置之间的第二平面距离、以及所述出发地对应的投影位置与所述目的地之间的第三平面距离、构建所述距离解算模型。3.根据权利要求2所述的方法，其特征在于，在所述目标解算平面中，根据所述出发地与所述目的地之间的第一平面距离、所述出发地与所述出发地对应的投影位置之间的第二平面距离、以及所述出发地对应的投影位置与所述目的地之间的第三平面距离、构建所述距离解算模型，包括：根据所述出发地与所述出发地对应的投影位置之间的相对位置信息、预设的地理数据，得到所述第一平面距离；根据所述出发地对应的投影位置与所述目的地之间的相对位置信息、所述预设的地理数据，得到第二平面距离；根据所述第一平面距离、所述第二平面距离以及所述第三平面距离之间的距离信息，对所述第三平面距离进行解算，得到所述距离解算模型。4.根据权利要求3所述的方法，其特征在于，根据所述第一平面距离、所述第二平面距离以及所述第三平面距离之间的距离信息，对所述第三平面距离进行解算，得到所述距离解算模型之后，所述方法还包括：对预设的纬度范围进行均匀采样，获得多份训练数据；构造拟合函数，并基于所述多份训练数据对所述拟合函数进行多项式拟合，得到拟合后的多项式函数；其中，所述拟合函数与所述距离解算模型中的三角函数函数算子对应；基于所述多项式函数，对所述距离解算模型中的三角函数算子进行更新，得到更新后的所述距离解算模型。5.根据权利要求1所述的方法，其特征在于，根据所述出发地和所述目的地各自对应区域信息，确定所述出发地和所述目的地各自对应的经纬度信息，包括：从预设的区域信息存储库中，获得所述出发地和目的地各自对应的区域编码数据；对所述出发地和目的地各自对应的区域编码数据进行查表，获得所述出发地和目的地各自对应的经度字符串和纬度字符串；根据所述出发地的纬度字符串，从预设的纬度查找范围中进行查找，确定所述出发地的最小纬度范围、以及根据所述出发地的经度字符串，从预设的经度查找范围中进行查找，确定所述出发地的最小经度范围；根据所述目的地的纬度字符串，从预设的纬度查找范围中进行查找，确定所述目的地的最小纬度范围、以及根据所述目的地的经度字符串，从预设的经度查找范围中进行查找，确定所述目的地的最小经度范围；根据所述出发地的最小经度范围和最小纬度范围确定所述出发地的经度和纬度、以及根据所述目的地的最小经度范围和最小纬度范围确定所述目的地的经度和纬度。6.根据权利要求5所述的方法，其特征在于，根据所述出发地的纬度字符串，从预设的纬度查找范围中进行查找，确定所述出发地的最小纬度范围，包括：判断所述纬度字符串的第一字符是第一数值还是第二数值；其中，所述第一字符为所述字符串中的任意一个；若所述第一字符为所述第一数值，则将所述第一字符的上一个字符对应的纬度查找范围进行切割，并将切割得到的第一范围区间确定为所述第一字符的纬度查找范围；若所述第一字符为所述第二数值，则将所述第一字符的上一个字符对应的纬度查找范围进行切割，并将切割得到的第二范围区间确定为所述第一字符的纬度查找范围；遍历每个字符串，直到得到最后一个字符串的纬度查找范围，并将最后一个字符串的纬度查找范围确定所述出发地的最小纬度范围。7.一种基于手机信令的行程距离确定装置，其特征在于，包括：获取模块，用于获得用户的出行数据，并从所述出行数据中提取至少一段出行路径以及所述出行路径的出发地、目的地；解码模块，用于根据所述出发地和所述目的地各自对应区域信息，确定所述出发地和所述目的地各自对应的经纬度；构建模块，用于根据所述出发地和所述目的地在目标解算平面上的相对位置关系信息，构建距离解算模型；其中，所述距离解算模型用于表征所述出发地和所述目的地，与所述出发地和目的地在所述目标解算平面上的二维投影位置间的距离信息；确定模块，用于将所述出发地和所述目的地各自对应的经纬度输入预设的距离解算模型中，得到所述出行路径对应的出行距离。8.根据权利要求7所述的装置，其特征在于，构建模块，具体用于：根据所述出发地和目的地的空间位置信息，构建多面体坐标系，并在所述多面体坐标系中确定所述出发地和所述目的地各自对应投影位置；根据所述出发地和目的地、以及所述出发地和目的地各自对应的投影位置，构建所述目标解算平面；在所述目标解算平面中，根据所述出发地与所述目的地之间的直线、所述出发地与所述出发地对应的投影位置之间的直线、以及所述出发地对应的投影位置与所述目的地之间的直线的位置关系和所述出发地和目的地的经纬度、构建所述距离解算模型。9.一种电子设备，其特征在于，包括处理器和存储器，所述存储器存储有能够被所述处理器执行的计算机程序，所述处理器可执行所述计算机程序以实现权利要求1-6任一项所述的方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-6任一项所述的方法。
说明书desc
技术领域本发明涉及大数据技术领域，具体而言，涉及一种基于手机信令的出行距离确定方法及相关装置。背景技术目前，在大多数用户出行类场景，无论是地铁出行还是公交、自驾，都需要计算用户出行距离，服务商可以利用手机信令数据，统计用户的每天出行纪录。现有的计算用户出行距离的方式通常为：通过调用球面坐标公式来进行距离解算，该球面坐标公式是利用三维空间坐标系中的点与点之间的相对空间位置关系得到的，计算公式较为复杂，导致距离解算计算量大，耗时长。因此，如何提供一种简单的出行距离确定方式，是需要解决的问题。发明内容本发明的目的之一在于提供一种基于手机信令的出行距离确定方法及相关装置，其能够降低计算复杂度，提高处理效率。第一方面，本发明提供一种基于手机信令的出行距离确定方法，包括：获取用户的信令数据，并从所述信令数据中提取至少一段出行路径以及所述出行路径的出发地、目的地；根据所述出发地和所述目的地各自对应区域信息，确定所述出发地和所述目的地各自对应的经纬度；根据所述出发地和所述目的地在目标解算平面上的相对位置关系信息，构建距离解算模型；其中，所述距离解算模型用于表征所述出发地和所述目的地，与所述出发地和目的地在所述目标解算平面上的二维投影位置间的距离信息；将所述出发地和所述目的地各自对应的经纬度输入所述距离解算模型中，得到所述出行路径对应的出行距离。第二方面，本发明提供一种基于手机信令的行程距离确定装置，包括：获取模块，用于获得用户的出行数据，并从所述出行数据中提取至少一段出行路径以及所述出行路径的出发地、目的地；解码模块，用于根据所述出发地和所述目的地各自对应区域信息，确定所述出发地和所述目的地各自对应的经纬度；构建模块，用于根据所述出发地和所述目的地在目标解算平面上的相对位置关系信息，构建距离解算模型；其中，所述距离解算模型用于表征所述出发地和所述目的地，与所述出发地和目的地在所述目标解算平面上的二维投影位置间的距离信息；确定模块，用于将所述出发地和所述目的地各自对应的经纬度输入预设的距离解算模型中，得到所述出行路径对应的出行距离。第三方面，本发明提供一种电子设备，包括处理器和存储器，所述存储器存储有能够被所述处理器执行的计算机程序，所述处理器可执行所述计算机程序以实现第一方面所述的方法。第四方面，本发明提供一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现第一方面所述的方法。本发明提供的基于手机信令的出行距离确定方法及相关装置，首先根据获取的信令数据得到至少一段出行路径以及该出行路径对应的出发地和目的地，进而，根据该出发地和目的地对应的区域信息得到出发地和目的地各自的经纬度，然后根据出发地和目的地在目标解算平面上的相对位置信息，构建距离解算模型，最后根据得到的距离解算模型得到出发地和目的地址之间的距离，在本申请实施例中，距离解算模型是在构建的目标解算平面上，根据出发地和目的地之间的相对位置信息得的，同时，本发明实施例中获得的距离解算模型，表征出发地和所述目的地，与出发地和目的地在目标解算平面上的二维投影位置间的距离信息，也就是说，本发明实施例将出发地和目的地之间的空间距离问题转换为了平面距离问题，相比较于现有技术中根据相对空间位置得到距离解算模型，很明显可以降低计算量，提高处理效率。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为一种以geohash表示的地图；图2为一种基于球面坐标公式计算距离的场景示意图；图3为本发明实施例提供的电子设备的结构示意图；图4为本发明实施例提供的一种基于手机信令的出行距离确定方法的示意性流程图；图5为本发明实施例提供的步骤S402的一种实现方式的示意性流程图；图6为一种Base32的字母表；图7为本发明实施例提供的步骤S403的实现方式的示意性流程图；图8为本发明实施例提供的一种多面体坐标系示意图；图9为本发明实施例提供的一种目标解算平面示意图；图10为本发明实施例提供的余弦函数对应的平面直角坐标系中的曲线图；图11为本发明实施例提供的余弦函数对应的平面直角坐标系中坐标示意图；图12为本发明实施例提供的第一种多项式函数的曲线图；图13为本发明实施例提供的第二种多项式函数的曲线图；图14为本发明实施例提供的基于手机信令的出行距离确定装置的功能模块图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。在本发明的描述中，需要说明的是，若出现术语“上”、“下”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，或者是该发明产品使用时惯常摆放的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，若出现术语“第一”、“第二”等仅用于区分描述，而不能理解为指示或暗示相对重要性。需要说明的是，在不冲突的情况下，本发明的实施例中的特征可以相互结合。首先对本发明实施例涉及的术语进行解释。geoHash：geoHash是一种替代经纬度的地址编码方法。他能够把二维的空间经纬度数据编码成一个字符串。例如:地图上存在的一点，纬度 39.9819946,经度116.3067627，转化为7位的geoHash字符串则为wx4g0ec。GeoHash具有以下特点：GeoHash用一个字符串表示经度和纬度两个坐标；GeoHash表示的并不是一个点，而是一个区域，例如，请参见图1，图1为一种以geohash表示的地图，在满足精准度要求的前提下，可以避免暴露更多位置信息；GeoHash编码的前缀可以表示更大的区域。例如 wx4g0ec1，它的前缀wx4g0e表示包含编码wx4g0ec1在内的更大范围，这个特性可以用于附近地点搜索。目前，geoHash算法作为优秀的位置信息存储方案，广泛的用在互联网行业中，用来替代经纬度，存储位置信息。比如在共享单车公司用于查找附近的共享单车位置、互联网打车公司统计出发地-目标地位置距离、用户出行时的距离统计等等。在大多数用户出行类场景，无论是地铁出行还是公交、自驾，都需要计算用户出行的距离。如果位置信息本身是利用geoHash纪录时，需要计算两个geoHash位置之间距离多少米，一种比较常用的计算方法是将geoHash 数据存入redis数据库，通过Geo数据结构，调用api，通过geodist命令获得两个geoHash位置距离。上述计算用户出行距离的方式通过数据库调用球面坐标公式距离计算接口来进行距离解算计算，该球面坐标公式是利用三维空间坐标系中的点与点之间的相对空间位置关系得到的空间距离计算方式，计算公式较为复杂，导致距离解算计算量大，耗时长。而且，通过统计用户出行基记录发现，大部分出行都是同城出行，距离一般不超过150km，属于中短距离出行，甚至可以认为近似为直线距离出行，通过上述方式很明显降低了计算效率。例如，请参见图2，图2为一种基于球面坐标公式计算距离的场景示意图，如图2所示，若要求取地球上A、B两点的直线距离，通用计算规则为 Haversine公式：其中，R为地球半径，可取平均值6371393m，l是两点间距离；θ为A、B两点之间的中心角；φ1，φ2表示两点的纬度；λ1，λ2表示两点的经度；对上述公式经过变形，得到公式：从公式中很容易看出，公式里面使用的大量的三角函数，导致这种计算方式较为复杂，因此，在接受一定的距离误差的前提下需要设计一套简单的计算方法，降低计算复杂度，提高计算效率。首先，请参见图3，图3为本发明实施例提供的电子设备的结构示意图，该电子设备300可以用来执行本发明实施例中的基于手机信令的出行距离确定方法。如图3所示，电子设备300包括存储器301、处理器302和通信接口 303，该存储器301、处理器302和通信接口303相互之间直接或间接地电性连接，以实现数据的传输或交互。例如，这些元件相互之间可通过一条或多条通讯总线或信号线实现电性连接。存储器301可用于存储软件程序及模块，如本发明实施例提供的基于手机信令的出行距离确定装置500对应的程序指令/模块，可以软件或固件 的形式存储于存储器301中或固化在电子设备300的操作系统中，处理器302通过执行存储在存储器301内的软件程序及模块，从而执行各种功能应用以及数据处理。该通信接口303可用于与其他节点设备进行信令或数据的通信。其中，存储器301可以是但不限于，随机存取存储器，只读存储器，可编程只读存储器，可擦除只读存储器 ，电可擦除只读存储器等。处理器302可以是一种集成电路芯片，具有信号处理能力。该处理器 302可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现场可编程门阵列 或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。可以理解，图3所示的结构仅为示意，电子设备300还可以包括比图3 中所示更多或者更少的组件，或者具有与图3所示不同的配置。图2中所示的各组件可以采用硬件、软件或其组合实现。其次，下面将结合相关附图对本发明实施例提供的基于手机信令的出行距离确定方法进行详细介绍。请参见图4，图4为本发明实施例提供的一种基于手机信令的出行距离确定方法的示意性流程图，该方法包括：S401，获取用户的信令数据，并从信令数据中提取至少一段出行路径以及出行路径的出发地、目的地；S402，根据出发地和目的地各自对应区域信息，确定出发地和目的地各自对应的经纬度；S403，根据出发地和目的地在目标解算平面上的相对位置关系信息，构建距离解算模型；其中，距离解算模型用于表征出发地和目的地，与出发地和目的地在目标解算平面上的二维投影位置间的距离信息；S404，将出发地和目的地各自对应的经纬度输入距离解算模型中，得到出行路径对应的出行距离。根据本发明实施例提供的基于手机信令的用户出行距离确定方法，首先根据获取的信令数据得到至少一段出行路径以及该出行路径对应的出发地和目的地，进而，根据该出发地和目的地对应的区域信息得到出发地和目的地各自的经纬度，然后根据出发地和目的地在目标解算平面上的相对位置信息，构建距离解算模型，最后根据得到的距离解算模型得到出发地和目的地址之间的距离，在本申请实施例中，距离解算模型是在构建的目标解算平面上，根据出发地和目的地之间的相对位置信息得的，同时，本发明实施例中获得的距离解算模型，表征出发地和目的地，与出发地和目的地在目标解算平面上的二维投影位置间的距离信息，也就是说，本发明实施例将出发地和目的地之间的空间距离问题转换为了平面距离问题，相比较于现有技术中根据相对空间位置得到距离解算模型，很明显可以降低计算量，提高处理效率。下面对本发明实施例中提供的上述步骤S401至步骤S404进行详细介绍。在步骤S401中、获取用户的信令数据，并从信令数据中提取至少一段出行路径以及出行路径的出发地、目的地。在实际的场景中，用户的手机每天都可以产生大量的信令数据，基于手机信令数据能够捕捉用户完整时空轨迹信息，统计用户每天的出行记录，并得到用户的出行路径信息。在步骤S402中、根据出发地和目的地各自对应区域信息，确定出发地和目的地各自对应的经纬度。在本发明实施例中，区域信息是以geoHash字符串的形式表示的，例如，请继续参见图1，其中“WX4EQR”表征一个区域，该geoHash字符串代表的区域中可能存在多个位置点，通过上述表示方法可以在满足精准度要求的前提下，可以避免暴露更多位置信息。在一种可能的实施方式中，上述步骤S402可以通过如下方式实现，请参见图5，图5为本发明实施例提供的步骤S402的一种实现方式的示意性流程图：S402-1，从预设的区域信息存储库中，获得出发地和目的地各自对应的区域编码数据。可以理解的是，区域信息存储库中可以存储有多个经纬度各自对应区域编码数据，也就是geoHash字符串，可以形如上述wx4g04k。S402-2，对出发地和目的地各自对应的区域编码数据进行查表，确定出发地和目的地各自对应的经度字符串和纬度字符串。在本发明实施例中，上述的经度字符串和纬度字符串均为二进制字符串，可以通过查表的方式现将区域编码数据转换为十进制数字，进而将十进制数字转换为二进制字符串，并根据预设规则对二进制字符串进行整合，得到经度和纬度各自对应的字符串，该预设规则可以是：针对全部十进制数字，将全部是奇数的十进制数字对应的二进制字符串进行整合，作为纬度字符串，将全部是偶数的十进制数字对应的二进制字符串进行整合，作为经度字符串。在本发明实施例中，预先存储有Base32的字母表，如图6所示，图6 为一种Base32的字母表，其中，Base32编码是使用32个可打印字符对任意字节数据进行编码的方案，编码后的字符串不用区分大小写并排除了容易混淆的字符，可以方便地由人类使用并由计算机处理。通过上述字母表，可以根据该字母表将geohash字符串还原为对应的数字，每个字母对应一个十进制数字，进而将每个十进制字进行整合，得到经度和纬度各自对应的二进制字符串，作为出发地和目的地各自对应的经度字符串和纬度字符串。例如，针对字符串“wx4g04k”，通过查表，可以将上述字符串还原为十进制数字为：28、29、4、15、0、4、18。针对每个数字，转为5个长度的二进制串，长度不足的在前面补0，因此，28、29、4、15、0、4、18转为二进制，分别为：11100、11101、00100、01111、00000、00100、10010。通过上述预设规则，可以得到纬度字符串为10111000110001001、纬度字符串为110100101100000100。S402-3，根据出发地的纬度字符串，从预设的纬度查找范围中进行查找，确定出发地的最小纬度范围、以及根据出发地的经度字符串，从预设的经度查找范围中进行查找，确定出发地的最小经度范围。在本发明实施例中，上述预设的纬度查找范围可以是-90度到90度，预设的经度查找范围可以是-180度到180度。最小经度范围、最小经度范围分别指得是出发地对应纬度和经度的最优取值范围，通过确定最小经度范围、最小经度范围，可以提高获得的经度和纬度的准确度。在一种可能的实施方式中，上述确定出发地的最小纬度范围、最小经度范围的方式可以如下：a1，判断纬度字符串的第一字符是第一数值还是第二数值；其中，第一字符为字符串中的任意一个。针对纬度字符串，本发明实施例可以按照从左到右的顺序，从纬度字符串的第一个字符串开始遍历，直到每个字符都被遍历。a2，若第一字符为第一数值，则将第一字符的上一个字符对应的纬度查找范围进行切割，并将切割得到的第一范围区间确定为第一字符的纬度查找范围；a3，若第一字符为第二数值，则将第一字符的上一个字符对应的纬度查找范围进行切割，并将切割得到的第二范围区间确定为第一字符的纬度查找范围；在本发明实施例中，第一数值和第二数值的取值是基于经纬度字符串中的各个数值，例如，经纬度字符串都是二进制数，只有0和1两个数值，那么第一数值和第二数值可以分别是1和0，在这种情况下，上述a2的实现方式可以理解为：如果第一字符是1，则将第一字符的上一字符对应的纬度查找范围进行切割，并将得到的第一范围区间作为第一字符对应的维度查找范围，如果第一字符是0，则将第一字符的上一字符对应的纬度查找范围进行切割，并将得到的第二范围区间作为第一字符对应的维度查找范围。需要说明的是，上述的第一范围区间为上一字符对应的纬度查找范围的区间中点到区间最大值之间的区间，第二范围区间为上一字符对应的纬度查找范围区间最小值到区间中点之间的区间。例如，以纬度查找范围-90度到90度为了，对-90度到90度的区间进行切割，这里所说的切割是将区间进行均分，分割位置在区间中点，那么第一范围区间则为0度到90度，第二范围区间则为-90度到90度。a4，遍历每个字符串，直到得到最后一个字符串的纬度查找范围，并将最后一个字符串的纬度查找范围确定出发地的最小纬度范围。例如，以纬度字符串“10111000110001001”，对每个字符进行遍历，可以得到如表1所示的最小纬度范围查找结果。表1二进制纬度MinMax10.090.000.045.0122.545.0133.7545.0139.37545.0039.37542.1875039.37540.78125039.37540.078125139.726562540.078125139.9023437540.078125039.9023437539.990234375039.9023437539.9462890625039.9023437539.92431640625139.91333007812539.92431640625039.91333007812539.9188232421875039.91333007812539.91607666015625139.91470336914062539.91607666015625 以经度字符串“110100101100000100”为例，对每个字符进行遍历，可以得到如表2所示的最小经度度范围查找结果。表2从上述表1可以看出，对于纬度字符串“10111000110001001”，最小纬度范围为39.914703369140625度到39.914703369140625度。对于经度字符串“110100101100000100”，最小经度范围为116.3726806640625度到 116.37405395507812度。S402-4，根据目的地的纬度字符串，从预设的纬度查找范围中进行查找，确定目的地的最小纬度范围、以及根据目的地的经度字符串，从预设的经度查找范围中进行查找，确定目的地的最小经度范围。可以理解的是，出发地和目的地各自对应的最小纬度范围和最小经度范围的实现方式均和上述实施方式类似，此处不再赘述。需要说明的是，上述步骤S402-2和S402-3之间并无执行的先后顺序，可以先执行步骤S402-2，再执行步骤S402-3，还可以先执行步骤S402-3，再执行步骤S402-2，还可以同时执行，此处不作限定。S402-5，根据出发地的最小经度范围和最小纬度范围确定出发地的经度和纬度、以及根据目的地的最小经度范围和最小纬度范围确定目的地的经度和纬度。在获得最小纬度范围之后，可以将最小纬度范围中的最小值和最大值之间的平均值作为最终的纬度，经度计算方式类似。例如，对于纬度字符串“10111000110001001”，最小纬度范围为39.914703369140625度到39.914703369140625度，则纬度字符串对应的维度可以为：对于经度字符串“110100101100000100”，则经度字符串对应的经度度可以为：通过上述方式可以获得准确的经纬度信息，进一步能提高出行距离的准确度。在步骤S403中、根据出发地和目的地在目标解算平面上的相对位置关系信息，构建距离解算模型；其中，距离解算模型用于表征出发地和目的地，与出发地和目的地在目标解算平面上的二维投影位置间的距离信息。从上述图2中可以看出，现有技术是在球面空间坐标系中进行距离解算，这种计算方式导致距离解算模型中存在大量的三角函数，使得计算量较大，降低效率，所以，本发明实施例通过分析用户记录可以知道，用户每天近似处于同城出行的场景中，中短距离出行占多数，在一个城市内进行距离计算，一般城市两个点之间的距离一般不会超过200千米，例如北京东北方向与北京西南方向，覆盖了北京最长直线距离，距离约162km。因此，在这种中短距离场景中，若还用现有技术的距离解算模型，必然会出现耗时大、计算量大的问题，因此，本发明实施例近似认为：在中短距离场景中，经线和纬线是垂直的，因此可以基于出发地和目的地之间的相对位置关系，构建距离解算模型，该距离解算模型可以表征出发地和目的地，与出发地和目的地在目标解算平面上的二维投影位置间的距离信息，这种距离信息指得是平面距离而非空间距离。因此，在一种可能的实施方式中，上述步骤S403可以通过如下方式实现，请参见图7，图7为本发明实施例提供的步骤S403的实现方式的示意性流程图：S403-1，根据出发地和目的地的空间位置信息，构建多面体坐标系，并在多面体坐标系中确定出发地和目的地各自对应投影位置。在本发明实施例中，通过上述内容可知，在中短距离场景中，经线和纬线是垂直的，因此，球面坐标可以看作圆柱间距离，因此，可以根据出发地和目的地的空间位置信息，构建多面体坐标系，请参见图8，图8为本发明实施例提供的一种多面体坐标系示意图。其中，A、B分别为出发地和目的地对应的位置点、C可以认为是A在多面体底面的投影位置、D可以认为是B在多面体顶面的投影位置。S403-2，根据出发地和目的地、以及出发地和目的地各自对应的投影位置，确定目标解算平面。在图8所示的多面体坐标系中，可以将A、B、C和D所在的平面作为目标解算平面，那么就可以将A和B之间的空间距离问题转换为平面距离问题，构建的目标解算平面可以如图9所示，图9为本发明实施例提供的一种目标解算平面示意图。S403-3，在目标解算平面中，根据出发地与目的地之间的第一平面距离、出发地与出发地对应的投影位置之间的第二平面距离、以及出发地对应的投影位置与目的地之间的第三平面距离、构建距离解算模型。在图9所示的目标解算平面中可以看出，出发地A、目的地B之间的平面距离、以及AC和BC之间的平面距离正好满足勾股定理，因此可以利用这种距离信息构造距离解算模型。在一种可能的实施方式中，上述S403-3的实施方式可以如下：b1,根据出发地与出发地对应的投影位置之间的相对位置信息、预设的地理数据，得到第一平面距离；b1,根据出发地对应的投影位置与目的地之间的相对位置信息、预设的地理数据，得到第二平面距离；b1,根据第一平面距离、第二平面距离以及第三平面距离之间的距离信息，对第三平面距离进行解算，得到距离解算模型。例如，继续参见图8和图9，第一平面距离为AC之间的距离lAC，第二平面距离为BC之间的距离lBC，根据图7可以得到其中π为预设采参数；R为地球半径，可取平均值6371393米。还可以从图9中看出，第一平面距离lAC、第二平面距离lBC以及第三平面距离lAB之间满足的距离信息为：AC2+BC2＝AB2，因此，在已知lAC、第二平面距离lBC之后，可以根据这种距离信息对第三平面距离进行解算，即：经过变形，得到距离解算模型如公式所示：从上述公式可以看出，本发明实施例中构造的距离解算模型中仍然存在三角函数算子，在计算机处理过程中，三角函数计算较为耗时，如果能消除此三角函数，那么将进一步提高计算效率，因此，在获得上述距离计算模型之后，还可以该距离解算模型中的三角函数算子进行多项式拟合，并基于拟合得到的多项式函数更新上述公式，以避免在进行距离解算过程计算三角函数，降低计算量，因此，在上述不住S403-3之后，本发明实施例还给出了如下一种实现方式：c1,对预设的纬度范围进行均匀采样，获得多份训练数据。c2,构造拟合函数，并基于多份训练数据对拟合函数进行多项式拟合，得到拟合后的多项式函数；其中，拟合函数与距离解算模型中的三角函数函数算子对应；c3,基于多项式函数，对距离解算模型中的三角函数算子进行更新，得到更新后的距离解算模型。在上述实施例中，由于公式中存在的三角函数算子为余弦函数，因此构建的拟合函数为余弦函数，即f1＝cosx，考虑到陆地纬度范围：最北为漠河以北的黑龙江主航道中心线,最南为广东省徐闻县海安镇，转为弧度值即为范围为0.35372度到0.93462度。因此，余弦函数的范围曲线可以如图10所示，图10为本发明实施例提供的余弦函数对应的平面直角坐标系中的曲线图，曲线区间为0.35372度到 0.93462度，涵盖了中国纬度的所有范围横坐标X轴为弧度，单位为 1，取值范围0.35372度到0.93462度，纵坐标Y轴为函数结果，单位为1，竖线为陆地纬度上下界限，取值范围0.35372度到0.93462，上述图10所示的余弦曲线在上下界限中呈单调递减趋势，因此可以用多项式拟合该余弦函数曲线，具体方式为：对预设的纬度范围进行均匀采样，获得多份训练数据，预设的纬度范围为0.35372度到0.93462，还可以是对 0.35372度到0.93462进行扩大后的区间，采样方式可以是：按0.001度的间隔，将数据均匀离散成583份作为训练集，带入函数f1＝ cosx获得对应的坐标点，将583份数据在坐标轴上描点，得到点阵图如图11所示，图11为本发明实施例提供的余弦函数对应的平面直角坐标系中坐标示意图，其中，红色点为函数f1＝cosx，在x区间 的583个坐标点横坐标X轴单位为1纵坐标Y轴单位为1。结合上述采样结果，本发明实施例可以通过 org.apache.commons.math3数学工具包，进行多项式拟合，需要说明的是，本发明实施例可以提供两种不同形式的多项式拟合，得到的距离解算模型均能降低计算量，提高效率。第一种拟合方式：基于多份训练数据对拟合函数进行一元二次方程拟合，得到拟合后的二次多项式拟合函数。利用采样的数据对f1＝cosx进行一元二次方程拟合，最终得到的二次多项式拟合函数形如：f2＝-0.47069933601222846x2- 0.01004331756382193x+1.0006039526779817，其中，f2对应的曲线图可以如图12所示，图12为本发明实施例提供的第一种多项式函数的曲线图，可以看出，f2曲线可以贯穿绝大部分采样数据，在横坐标x＞0.85 时，采样点会逐渐偏离曲线。基于得的多项式函数f2对公式所示的距离解算模型进行更新，可以得到更新后的距离解算模型如公式所示：其中，第二种拟合方式：基于多份训练数据对拟合函数进行一元三次方程拟合，得到拟合后的三次多项式拟合函数。利用和第一种拟合方式相同的思路，得到的三次多项式拟合函数为：3＝0.09849126401096386x3-0.5871718746897914x2+0.03339217569498998x+0.9953804128609185其中，f3对应的曲线图可以如图13所示，图13为本发明实施例提供的第二种多项式函数的曲线图，可以看出，f3曲线可以贯穿绝大部分采样数据，在横坐标x＞0.85时，拟合效果要由于f2。基于得的多项式函数f3对公式所示的距离解算模型进行更新，可以得到更新后的距离解算模型如公式所示：为了对比上述现有技术的距离解算模型，与本发明实施例构建的距离解算模型和公式)之间的效果，在距离小于 200千米，误差在3米内的第一种场景中，以及在距离小于300千米，误差在10米内的第二种场景中，本发明实施例构建的距离解算模型的效果均优于现有技术中的距离解算模型，如表3所示：表3为了测试上述现有技术的距离解算模型，与本发明实施例构建的距离解算模型之间的效率，本发明实施例还将1万到100万条数据先转化为经纬度坐标点，再分别采用现有技术的距离解算模型 与本发明实施例中的距离解算模型进行处理，处理效率如表4 所示。表4数据量公式1耗时公式4耗时1w0.030.0110w0.230.09100w3.10.7 很明显，本发明实施例提供的距离解算模型的效率由于现有技术中距离解算模型的效率。基于相同的发明构思，本发明实施还提供了一种基于手机信令的出行距离确定装置，请参见图14，图14为本发明实施例提供的基于手机信令的出行距离确定装置的功能模块图，基于手机信令的出行距离确定装置500包括：获取模块510，用于获得用户的出行数据，并从出行数据中提取至少一段出行路径以及出行路径的出发地、目的地；解码模块520，用于根据出发地和目的地各自对应区域信息，确定出发地和目的地各自对应的经纬度；构建模块530，用于根据出发地和目的地在目标解算平面上的相对位置关系信息，构建距离解算模型；其中，距离解算模型用于表征出发地和目的地，与出发地和目的地在目标解算平面上的二维投影位置间的距离信息；确定模块540，用于将出发地和目的地各自对应的经纬度输入预设的距离解算模型中，得到出行路径对应的出行距离。可以理解的是，上述获取模块510、解码模块520、构建模块530和确定模块540可以协同的执行图4中的各个步骤以实现相应的技术效果。在可选地的实施方式中，解码模块520还可以用来执行图、以及步骤a1至步骤a4以实现相应的技术效果。在可选地的实施方式中，构建模块530还可以用来执行图、以及步骤b1至步骤b4、步骤c1至步骤c3以实现相应的技术效果。本发明实施例还提供一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现如前述实施方式中任一项的基于手机信令的出行距离确定方法。该计算机可读存储介质可以是，但不限于，U 盘、移动硬盘、ROM、RAM、PROM、EPROM、EEPROM、磁碟或者光盘等各种可以存储程序代码的介质。应该理解到，在本发明所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，附图中的流程图和框图显示了根据本发明的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本发明各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、物品或者设备中还存在另外的相同要素。以上仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。
