标题title
一种分布式系统协议互通方法、装置、设备及存储介质
摘要abst
本申请公开了一种分布式系统协议互通方法、装置、设备及存储介质，涉及数据存储技术领域，包括：当目标协议的用户需要从分布式系统中获取目标数据时，判断分布式系统的本地用户中是否存在与目标数据对应的目标用户；若分布式系统的本地用户中存在与目标数据对应的目标用户，则获取预先为目标用户设置的访问权限；根据目标用户和访问权限判断是否允许目标协议的用户获取所述目标数据，若允许则将目标数据发送至所述目标协议的用户。本申请通过用户映射的方式能够实现各协议间的用户互通，然后通过设置映射用户的访问权限控制数据的访问，能够提升系统存储空间利用率、数据的安全性和数据的处理效率，实现多协议之间的权限和用户的无损兼容。
权利要求书clms
1.一种分布式系统协议互通方法，其特征在于，包括：当目标协议的用户需要从分布式系统中获取目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户；若所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限；根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据，若允许则将所述目标数据发送至所述目标协议的用户。2.根据权利要求1所述的分布式系统协议互通方法，其特征在于，所述当目标协议的用户需要从分布式系统中获取目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户，包括：当目标协议的用户需要从分布式系统中获取目标数据时，获取所述目标协议的用户对应的关键信息；通过所述关键信息判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户。3.根据权利要求1所述的分布式系统协议互通方法，其特征在于，还包括：为待融合的协议创建相应的用户，得到待融合协议用户；所述待融合的协议包括S3协议、CIFS协议、NFS协议和HDFS协议中的任意一种或几种；将所述待融合协议用户与所述目标用户建立映射关系，并为建立所述映射关系后的目标用户设置所述访问权限，再将所述访问权限和所述映射关系存储至所述分布式系统；将所述待融合协议用户的待共享数据作为所述目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统。4.根据权利要求3所述的分布式系统协议互通方法，其特征在于，所述为待融合的协议创建相应的用户，得到待融合协议用户，包括：为待融合的S3协议创建相应的用户，得到S3协议用户；和/或，为待融合的CIFS协议创建Windows用户；和/或，为待融合的NFS协议创建第一Unix用户；和/或，为待融合的HDFS协议创建第二Unix用户。5.根据权利要求3所述的分布式系统协议互通方法，其特征在于，所述将所述待融合协议用户的待共享数据作为所述目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统之前，还包括：将针对所述待融合协议用户和所述目标用户生成的用户关联请求发送至所述待融合的协议；所述待融合的协议接收到所述用户关联请求之后，从本地的缓存或元数据中读取出与所述待融合协议用户对应的目标元数据信息；通过所述目标元数据信息判断所述待融合协议用户是否已经关联了其他协议用户，若所述待融合协议用户已经关联了所述其他协议用户则生成相应的已关联错误提示信息，若所述待融合协议用户未关联所述其他协议用户则将待关联的所述目标用户的唯一标识符更新到所述待融合协议用户的所述目标元数据信息中，得到更新后的目标元数据信息，并对所述更新后的目标元数据信息进行持久化存储。6.根据权利要求3所述的分布式系统协议互通方法，其特征在于，所述将所述待融合协议用户的待共享数据作为所述目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统之前，还包括：将针对所述待融合协议用户和所述目标用户生成的用户关联请求发送至所述分布式系统；所述分布式系统接收到所述用户关联请求之后，从本地的缓存或元数据中读取用户关联列表，并从所述用户关联列表中查找是否存在与所述目标用户建立了关联关系的其他协议用户；若所述用户关联列表中存在与所述目标用户建立了关联关系的所述其他协议用户则生成相应的已关联错误提示信息，若所述用户关联列表中不存在与所述目标用户建立了关联关系的所述其他协议用户则将所述访问权限和所述映射关系存储至所述用户关联列表中。7.根据权利要求1至6任一项所述的分布式系统协议互通方法，其特征在于，所述将所述目标数据发送至所述目标协议的用户之后，还包括：通过调整所述目标用户的所述访问权限或通过取消所述目标协议的用户与所述目标用户之间的用户关联来控制所述目标协议的用户对所述目标数据的访问。8.一种分布式系统协议互通装置，其特征在于，包括：第一判断模块，用于当目标协议的用户需要从分布式系统中获取目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户；访问权限获取模块，用于如果所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限；第二判断模块，用于根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据；数据发送模块，用于如果允许所述目标协议的用户获取所述目标数据则将所述目标数据发送至所述目标协议的用户。9.一种电子设备，其特征在于，包括处理器和存储器；其中，所述处理器执行所述存储器中保存的计算机程序时实现如权利要求1至7任一项所述的分布式系统协议互通方法。10.一种计算机可读存储介质，其特征在于，用于存储计算机程序；其中，所述计算机程序被处理器执行时实现如权利要求1至7任一项所述的分布式系统协议互通方法。
说明书desc
技术领域本申请涉及数据存储技术领域，特别涉及一种分布式系统协议互通方法、装置、设备及存储介质。背景技术在万物互联、云存储和智能化数据高速增长的时代，产生的数据也越来越多，其中非结构化数据的占比也逐渐增加。由于文件存储、对象存储和大数据存储协议之间的差异性，导致客户需要同时部署多套存储系统，并需要解决数据全生命周期的管理，在一定程度上造成了存储空间的浪费和存储成本的增加，使数据运转效率低下及多套存储系统的运维难度的增加。为了提升存储空间利用率、提高数据运转效率和降低维护难度，目前已经产生了多种成熟的协议融合技术架构，实现了一份数据多个协议之间的共享访问。然而，通过融合模式虽然实现了数据的多协议共享访问，但未考虑或较少考虑每种协议对数据设置的权限，从而影响了数据的安全性。因此，如何实现多协议间数据的安全访问是多协议融合时还有待进一步解决的问题。发明内容有鉴于此，本申请的目的在于提供一种分布式系统协议互通方法、装置、设备及存储介质，能够提升系统存储空间利用率、数据的安全性和数据的处理效率，实现协议之间的权限和用户的无损兼容。其具体方案如下：第一方面，本申请公开了一种分布式系统协议互通方法，包括：当目标协议的用户需要从分布式系统中获取目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户；若所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限；根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据，若允许则将所述目标数据发送至所述目标协议的用户。可选的，所述当目标协议的用户需要从分布式系统中获取目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户，包括：当目标协议的用户需要从分布式系统中获取目标数据时，获取所述目标协议的用户对应的关键信息；通过所述关键信息判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户。可选的，所述分布式系统协议互通方法，还包括：为待融合的协议创建相应的用户，得到待融合协议用户；所述待融合的协议包括S3协议、CIFS协议、NFS协议和HDFS协议中的任意一种或几种；将所述待融合协议用户与所述目标用户建立映射关系，并为建立所述映射关系后的目标用户设置所述访问权限，再将所述访问权限和所述映射关系存储至所述分布式系统；将所述待融合协议用户的待共享数据作为所述目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统。可选的，所述为待融合的协议创建相应的用户，得到待融合协议用户，包括：为待融合的S3协议创建相应的用户，得到S3协议用户；和/或，为待融合的CIFS协议创建Windows用户；和/或，为待融合的NFS协议创建第一Unix用户；和/或，为待融合的HDFS协议创建第二Unix用户。可选的，所述将所述待融合协议用户的待共享数据作为所述目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统之前，还包括：将针对所述待融合协议用户和所述目标用户生成的用户关联请求发送至所述待融合的协议；所述待融合的协议接收到所述用户关联请求之后，从本地的缓存或元数据中读取出与所述待融合协议用户对应的目标元数据信息；通过所述目标元数据信息判断所述待融合协议用户是否已经关联了其他协议用户，若所述待融合协议用户已经关联了所述其他协议用户则生成相应的已关联错误提示信息，若所述待融合协议用户未关联所述其他协议用户则将待关联的所述目标用户的唯一标识符更新到所述待融合协议用户的所述目标元数据信息中，得到更新后的目标元数据信息，并对所述更新后的目标元数据信息进行持久化存储。可选的，所述将所述待融合协议用户的待共享数据作为所述目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统之前，还包括：将针对所述待融合协议用户和所述目标用户生成的用户关联请求发送至所述分布式系统；所述分布式系统接收到所述用户关联请求之后，从本地的缓存或元数据中读取用户关联列表，并从所述用户关联列表中查找是否存在与所述目标用户建立了关联关系的其他协议用户；若所述用户关联列表中存在与所述目标用户建立了关联关系的所述其他协议用户则生成相应的已关联错误提示信息，若所述用户关联列表中不存在与所述目标用户建立了关联关系的所述其他协议用户则将所述访问权限和所述映射关系存储至所述用户关联列表中。可选的，所述将所述目标数据发送至所述目标协议的用户之后，还包括：通过调整所述目标用户的所述访问权限或通过取消所述目标协议的用户与所述目标用户之间的用户关联来控制所述目标协议的用户对所述目标数据的访问。第二方面，本申请公开了一种分布式系统协议互通装置，包括：第一判断模块，用于当目标协议的用户需要从分布式系统中获取目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户；访问权限获取模块，用于如果所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限；第二判断模块，用于根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据；数据发送模块，用于如果允许所述目标协议的用户获取所述目标数据则将所述目标数据发送至所述目标协议的用户。第三方面，本申请公开了一种电子设备，包括处理器和存储器；其中，所述处理器执行所述存储器中保存的计算机程序时实现前述的分布式系统协议互通方法。第四方面，本申请公开了一种计算机可读存储介质，用于存储计算机程序；其中，所述计算机程序被处理器执行时实现前述的分布式系统协议互通方法。可见，本申请当目标协议的用户需要从分布式系统中获取目标数据时，先判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户，如果所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限，再根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据，如果允许则将所述目标数据发送至所述目标协议的用户。本申请通过用户映射的方式能够实现各协议间的用户互通，然后通过设置映射用户的访问权限控制数据的访问，能够提升系统存储空间利用率、数据的安全性和数据的处理效率，实现多协议之间的权限和用户的无损兼容。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本申请公开的一种分布式系统协议互通方法流程图；图2为本申请公开的一种具体的分布式系统协议互通方法流程图；图3为本申请公开的一种分布式系统协议互通装置结构示意图；图4为本申请公开的一种电子设备结构图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请实施例公开了一种分布式系统协议互通方法，参见图1所示，该方法包括：步骤S11：当目标协议的用户需要从分布式系统中获取目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户。本实施例中，当监测到目标协议的用户需要从分布式系统中获取目标数据时，先要判断所述分布式系统的本地用户中是否已经存在与上述目标数据对应的目标用户，即存在关联关系的目标用户。其中，所述目标协议包括但不限于S3协议、CIFS协议、NFS协议和HDFS协议等。本实施例中，所述当目标协议的用户需要从分布式系统中获取目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户，具体可以包括：当目标协议的用户需要从分布式系统中获取目标数据时，获取所述目标协议的用户对应的关键信息；通过所述关键信息判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户。也即，在监测到目标协议的用户需要从分布式系统中获取目标数据时，先获取所述目标协议的用户对应的关键信息，然后通过上述关键信息判断上述分布式系统的所有本地用户中是否已经存在与所述目标数据对应的目标用户。需要指出的是，所述关键信息指的是能够表征所述目标协议的用户的相关信息，具体可以包括但不限于UID、GID等信息。步骤S12：若所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限。本实施例中，如果所述分布式系统的本地用户中存在与上述目标数据对应的所述目标用户，则进一步的获取预先为上述目标用户设置的访问权限。其中，所述访问权限包括允许访问和不允许访问两种访问权限。步骤S13：根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据，若允许则将所述目标数据发送至所述目标协议的用户。本实施例中，获取到预先为所述目标用户设置的访问权限之后，便可以根据上述目标用户以及对应的上述访问权限判断是否允许所述目标协议的用户获取所述目标数据，如果上述访问权限表示允许访问，则将上述目标数据发送至所述目标协议的用户，即将预先存储在分布式系统中的一个协议用户的数据发送至其他的协议用户，从而实现不同协议之间的数据共享。可见，本申请实施例当目标协议的用户需要从分布式系统中获取目标数据时，先判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户，如果所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限，再根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据，如果允许则将所述目标数据发送至所述目标协议的用户。本申请实施例通过用户映射的方式能够实现各协议间的用户互通，然后通过设置映射用户的访问权限控制数据的访问，能够提升系统存储空间利用率、数据的安全性和数据的处理效率，实现多协议之间的权限和用户的无损兼容。本申请实施例公开了一种具体的分布式系统协议互通方法，参见图2所示，该方法包括：步骤S21：为待融合的协议创建相应的用户，得到待融合协议用户；所述待融合的协议包括S3协议、CIFS协议、NFS协议和HDFS协议中的任意一种或几种。本实施例中，首先通过管理平台或后端命令为待融合的协议创建相应的用户，得到相应的待融合协议用户。其中，所述待融合的协议既可以是S3协议、CIFS协议、NFS协议和HDFS协议中的任意一种，也可以是上述四种协议中的任意几种。本实施例中，所述为待融合的协议创建相应的用户，得到待融合协议用户，具体可以包括：为待融合的S3协议创建相应的用户，得到S3协议用户；和/或，为待融合的CIFS协议创建Windows用户；和/或，为待融合的NFS协议创建第一Unix用户；和/或，为待融合的HDFS协议创建第二Unix用户。也即，为待融合的协议的属性创建各自对应的用户，S3协议创建的用户为S3协议用户、CIFS协议创建的用户为Windows用户、NFS协议创建的用户为第一Unix用户、HDFS协议创建的用户为第二Unix用户。步骤S22：将所述待融合协议用户与目标用户建立映射关系，并为建立所述映射关系后的目标用户设置访问权限，再将所述访问权限和所述映射关系存储至分布式系统。本实施例中，为待融合的协议创建相应的用户得到待融合协议用户之后，将上述待融合协议用户与目标用户建立映射关系，即关联关系，然后为建立所述映射关系后的目标用户设置访问权限，包括允许访问和不允许访问两种权限，再将上述访问权限和上述映射关系存储至分布式系统中，也即，将目标用户映射为分布式系统中的本地用户，并在映射的过程中为所述目标用户指定访问权限。其中，所述映射关系既可以是一对一，也可以是一对多，可根据具体的应用场景进行设定。步骤S23：将所述待融合协议用户的待共享数据作为目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统中。本实施例中，将所述访问权限和所述映射关系存储至所述分布式系统之后，为了分布式系统对数据进行统一的管理，可以将上述待融合协议用户的待共享数据作为目标数据，然后将所述目标数据转换为Unix格式统一存储到所述分布式系统中。本实施例中，所述将所述待融合协议用户的待共享数据作为所述目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统之前，具体还可以包括：将针对所述待融合协议用户和所述目标用户生成的用户关联请求发送至所述待融合的协议；所述待融合的协议接收到所述用户关联请求之后，从本地的缓存或元数据中读取出与所述待融合协议用户对应的目标元数据信息；通过所述目标元数据信息判断所述待融合协议用户是否已经关联了其他协议用户，若所述待融合协议用户已经关联了所述其他协议用户则生成相应的已关联错误提示信息，若所述待融合协议用户未关联所述其他协议用户则将待关联的所述目标用户的唯一标识符更新到所述待融合协议用户的所述目标元数据信息中，得到更新后的目标元数据信息，并对所述更新后的目标元数据信息进行持久化存储。具体的，在将待上传或待写入的所述目标数据发送至所述分布式系统中之前，可以先生成所述待融合协议用户和所述目标用户关联的用户关联请求，例如，生成所述S3协议用户和所述第一Unix用户的用户关联请求，然后通过管理平台将上述用户关联请求发送至所述待融合的协议，所述待融合的协议在接收到上述用户关联请求之后，从本地的缓存或元数据中读取出与上述待融合协议用户对应的目标元数据信息，然后通过上述目标元数据信息判断所述待融合协议用户是否已经关联了其他协议用户，即是否已关联了除所述待融合协议用户以外的其他协议用户，如果所述待融合协议用户已经关联了所述其他协议用户，则生成相应的已关联的错误提示信息并返回至所述管理平台；如果所述待融合协议用户未关联所述其他协议用户，则将待关联的上述目标用户的唯一标识符更新到上述待融合协议用户的所述目标元数据信息中，得到更新后的目标元数据信息，然后将上述更新后的目标元数据信息持久化存储至所述待融合的协议的元数据中，并在持久化完成后向所述管理平台返回相应的持久化成功的处理结果。本实施例中，所述将所述待融合协议用户的待共享数据作为所述目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统之前，具体还可以包括：将针对所述待融合协议用户和所述目标用户生成的用户关联请求发送至所述分布式系统；所述分布式系统接收到所述用户关联请求之后，从本地的缓存或元数据中读取用户关联列表，并从所述用户关联列表中查找是否存在与所述目标用户建立了关联关系的其他协议用户；若所述用户关联列表中存在与所述目标用户建立了关联关系的所述其他协议用户则生成相应的已关联错误提示信息，若所述用户关联列表中不存在与所述目标用户建立了关联关系的所述其他协议用户则将所述访问权限和所述映射关系存储至所述用户关联列表中。具体的，在将待上传或待写入的所述目标数据发送至所述分布式系统中之前，可以先生成所述待融合协议用户和所述目标用户关联的用户关联请求，然后通过管理平台将上述用户关联请求发送至所述分布式系统，所述分布式系统在接收到上述用户关联请求之后，从本地的缓存或元数据中读取用户关联列表，并从上述用户关联列表中查找是否存在与所述目标用户建立了关联关系的其他协议用户，如果所述用户关联列表中存在与所述目标用户建立了关联关系的所述其他协议用户，则生成相应的已关联错误提示信息并返回至所述管理平台；如果上述用户关联列表中不存在与所述目标用户建立了关联关系的所述其他协议用户，则将上述访问权限和上述映射关系存储至上述用户关联列表中，然后将更新后的用户关联列表持久化存储至所述分布式系统的元数据信息中，并在持久化完成后向所述管理平台返回相应的持久化成功的处理结果。步骤S24：当目标协议的用户需要从所述分布式系统中获取所述目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户。步骤S25：若所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限。步骤S26：根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据，若允许则将所述目标数据发送至所述目标协议的用户。步骤S27：通过调整所述目标用户的所述访问权限或通过取消所述目标协议的用户与所述目标用户之间的用户关联来控制所述目标协议的用户对所述目标数据的访问。本实施例中，在将所述目标数据发送至所述目标协议的用户之后，还可以通过所述管理平台来调整所述目标用户的所述访问权限，或者通过取消所述目标协议的用户与所述目标用户之间的用户关联的关系来控制所述目标协议的用户对所述目标数据的访问。其中，关于上述步骤S24、S25、S26更加具体的处理过程可以参考前述实施例中公开的相应内容，在此不再进行赘述。可见，本申请实施例先为待融合的协议创建相应的用户，得到待融合协议用户，然后将所述待融合协议用户与目标用户建立映射关系，并为建立所述映射关系后的目标用户设置访问权限，再将所述访问权限和所述映射关系存储至分布式系统，再将所述待融合协议用户的待共享数据作为目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统中。通过将目标数据对应的目标用户映射为分布式系统中的本地用户，并在映射时指定目标用户的访问权限，并把用户映射信息和对应的访问权限存储到分布式系统中，能够通过各个协议的用户的关键信息快速的找到其对应的目标用户及其映射的访问权限，通过各协议间用户映射的方式实现了用户互通，然后通过设置的访问权限实现了数据的访问，进而实现多协议间的权限互通，解决了各个协议间的用户差异和权限差异，提升了数据的安全性和协议之间的权限和用户的无损兼容。相应的，本申请实施例还公开了一种分布式系统协议互通装置，参见图3所示，该装置包括：第一判断模块11，用于当目标协议的用户需要从分布式系统中获取目标数据时，判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户；访问权限获取模块12，用于如果所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限；第二判断模块13，用于根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据；数据发送模块14，用于如果允许所述目标协议的用户获取所述目标数据则将所述目标数据发送至所述目标协议的用户。其中，关于上述各个模块的具体工作流程可以参考前述实施例中公开的相应内容，在此不再进行赘述。可见，本申请实施例中，当目标协议的用户需要从分布式系统中获取目标数据时，先判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户，如果所述分布式系统的本地用户中存在与所述目标数据对应的所述目标用户，则获取预先为所述目标用户设置的访问权限，再根据所述目标用户和所述访问权限判断是否允许所述目标协议的用户获取所述目标数据，如果允许则将所述目标数据发送至所述目标协议的用户。本申请实施例通过用户映射的方式能够实现各协议间的用户互通，然后通过设置映射用户的访问权限控制数据的访问，能够提升系统存储空间利用率、数据的安全性和数据的处理效率，实现多协议之间的权限和用户的无损兼容。在一些具体实施例中，所述第一判断模块11，具体可以包括：关键信息获取单元，用于当目标协议的用户需要从分布式系统中获取目标数据时，获取所述目标协议的用户对应的关键信息；第一用户判断单元，用于通过所述关键信息判断所述分布式系统的本地用户中是否存在与所述目标数据对应的目标用户。在一些具体实施例中，所述分布式系统协议互通装置，还可以包括：用户创建单元，用于为待融合的协议创建相应的用户，得到待融合协议用户；所述待融合的协议包括S3协议、CIFS协议、NFS协议和HDFS协议中的任意一种或几种；映射关系创建单元，用于将所述待融合协议用户与所述目标用户建立映射关系，并为建立所述映射关系后的目标用户设置所述访问权限，再将所述访问权限和所述映射关系存储至所述分布式系统；数据存储单元，用于将所述待融合协议用户的待共享数据作为所述目标数据，并将所述目标数据转换为Unix格式存储至所述分布式系统。在一些具体实施例中，所述用户创建单元，具体可以包括：S3协议用户创建单元，用于为待融合的S3协议创建相应的用户，得到S3协议用户；和/或，CIFS协议用户单元，用于为待融合的CIFS协议创建Windows用户；和/或，NFS协议用户单元，用于为待融合的NFS协议创建第一Unix用户；和/或，HDFS协议用户单元，用于为待融合的HDFS协议创建第二Unix用户。在一些具体实施例中，所述数据存储单元之前，还可以包括：第一用户请求发送单元，用于将针对所述待融合协议用户和所述目标用户生成的用户关联请求发送至所述待融合的协议；数据获取单元，用于所述待融合的协议接收到所述用户关联请求之后，从本地的缓存或元数据中读取出与所述待融合协议用户对应的目标元数据信息；第二用户判断单元，用于通过所述目标元数据信息判断所述待融合协议用户是否已经关联了其他协议用户；第一关联错误提示单元，用于如果所述待融合协议用户已经关联了所述其他协议用户则生成相应的已关联错误提示信息；目标元数据更新单元，用于所述待融合协议用户未关联所述其他协议用户则将待关联的所述目标用户的唯一标识符更新到所述待融合协议用户的所述目标元数据信息中，得到更新后的目标元数据信息，并对所述更新后的目标元数据信息进行持久化存储。在一些具体实施例中，所述数据存储单元之前，还可以包括：第二用户请求发送单元，用于将针对所述待融合协议用户和所述目标用户生成的用户关联请求发送至所述分布式系统；用户关联列表获取单元，用于所述分布式系统接收到所述用户关联请求之后，从本地的缓存或元数据中读取用户关联列表；第三用户判断单元，用于从所述用户关联列表中查找是否存在与所述目标用户建立了关联关系的其他协议用户；第二关联错误提示单元，用于如果所述用户关联列表中存在与所述目标用户建立了关联关系的所述其他协议用户则生成相应的已关联错误提示信息；用户关联列表更新单元，用于如果所述用户关联列表中不存在与所述目标用户建立了关联关系的所述其他协议用户则将所述访问权限和所述映射关系存储至所述用户关联列表中。在一些具体实施例中，所述数据发送模块14之后，还可以包括：目标数据访问控制单元，用于通过调整所述目标用户的所述访问权限或通过取消所述目标协议的用户与所述目标用户之间的用户关联来控制所述目标协议的用户对所述目标数据的访问。进一步的，本申请实施例还公开了一种电子设备，图4是根据一示例性实施例示出的电子设备20结构图，图中的内容不能认为是对本申请的使用范围的任何限制。图4为本申请实施例提供的一种电子设备20的结构示意图。该电子设备20，具体可以包括：至少一个处理器21、至少一个存储器22、电源23、通信接口24、输入输出接口25和通信总线26。其中，所述存储器22用于存储计算机程序，所述计算机程序由所述处理器21加载并执行，以实现前述任一实施例公开的分布式系统协议互通方法中的相关步骤。另外，本实施例中的电子设备20具体可以为电子计算机。本实施例中，电源23用于为电子设备20上的各硬件设备提供工作电压；通信接口24能够为电子设备20创建与外界设备之间的数据传输通道，其所遵循的通信协议是能够适用于本申请技术方案的任意通信协议，在此不对其进行具体限定；输入输出接口25，用于获取外界输入数据或向外界输出数据，其具体的接口类型可以根据具体应用需要进行选取，在此不进行具体限定。另外，存储器22作为资源存储的载体，可以是只读存储器、随机存储器、磁盘或者光盘等，其上所存储的资源可以包括操作系统221、计算机程序222等，存储方式可以是短暂存储或者永久存储。其中，操作系统221用于管理与控制电子设备20上的各硬件设备以及计算机程序222，其可以是Windows Server、Netware、Unix、Linux等。计算机程序222除了包括能够用于完成前述任一实施例公开的由电子设备20执行的分布式系统协议互通方法的计算机程序之外，还可以进一步包括能够用于完成其他特定工作的计算机程序。进一步的，本申请还公开了一种计算机可读存储介质，用于存储计算机程序；其中，所述计算机程序被处理器执行时实现前述公开的分布式系统协议互通方法。关于该方法的具体步骤可以参考前述实施例中公开的相应内容，在此不再进行赘述。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其它实施例的不同之处，各个实施例之间相同或相似部分互相参见即可。对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。专业人员还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本申请的范围。结合本文中所公开的实施例描述的方法或算法的步骤可以直接用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。最后，还需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。以上对本申请所提供的一种分布式系统协议互通方法、装置、设备及存储介质进行了详细介绍，本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请的方法及其核心思想；同时，对于本领域的一般技术人员，依据本申请的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本申请的限制。
