标题title
小区驻留方法及装置、终端、计算机可读存储介质
摘要abst
本公开涉及小区驻留方法及装置、终端和存储介质，所述小区驻留方法包括：根据目标小区的无线异常情况确定所述目标小区的驻留参考值；根据驻留参考值确定驻留小区。根据本公开，终端在确定驻留小区时所依据的驻留参考值，是基于无线异常情况确定的，由于小区的无线异常情况与小区的稳定性是相关的，所以确定的驻留参考值也可以表征小区的稳定性，因此，在目标小区中选择驻留小区时，根据目标小区的驻留参考值在目标小区中确定的驻留小区，稳定性相对较好。进而在驻留到确定的驻留小区后，有利于确保终端在需要进行或将要对于稳定性要求较高的业务时，能够提供良好的用户体验。
权利要求书clms
1.一种小区驻留方法，其特征在于，应用于终端，所述方法包括：根据目标小区的无线异常情况确定所述目标小区的驻留参考值；其中，所述目标小区包括所述终端当前的服务小区和所述服务小区的邻小区，所述驻留参考值与所述无线异常情况的异常程度呈负相关；根据所述驻留参考值确定驻留小区。2.根据权利要求1所述的方法，其特征在于，所述无线异常情况的异常程度基于以下至少一项确定：所述无线异常情况的类型；所述无线异常情况的发生次数。3.根据权利要求1所述方法，其特征在于，所述根据目标小区的无线异常情况确定所述目标小区的驻留参考值，包括：根据目标小区的信号质量确定所述目标小区的初始驻留参考值；根据所述目标小区的初始驻留参考值和所述目标小区的无线异常情况确定所述目标小区的驻留参考值。4.根据权利要求3所述方法，其特征在于，所述根据目标小区的信号质量确定所述目标小区的初始驻留参考值包括：根据所述服务小区的信号质量与所述邻小区的信号质量之间的差异，确定驻留差异信息；根据所述服务小区的初始驻留参考值和所述驻留差异信息确定所述邻小区的初始驻留参考值。5.根据权利要求4所述的方法，其特征在于，所述根据所述服务小区的初始驻留参考值和所述驻留差异信息确定所述邻小区的初始驻留参考值包括：当所述邻小区的信号质量高于所述服务小区的信号质量时，根据所述驻留差异信息对所述服务小区的初始驻留参考值进行加分，以作为所述邻小区的初始驻留参考值；和/或当所述邻小区的信号质量低于所述服务小区的信号质量时，根据所述驻留差异信息对所述服务小区的初始驻留参考值进行减分，以作为所述邻小区的初始驻留参考值。6.根据权利要求4所述方法，其特征在于，所述根据所述目标小区的初始驻留参考值和所述目标小区的无线异常情况确定所述目标小区的驻留参考值包括：根据目标小区的无线异常情况确定对应的扣分分数；将所述目标小区的初始驻留参考值减去所述扣分分数，以确定所述目标小区的驻留参考值。7.根据权利要求1至6中任一项所述方法，其特征在于，所述根据所述驻留参考值确定驻留小区，包括：根据所述目标小区的驻留参考值对目标小区进行排序；根据排序结果，选取驻留参考值最高的目标小区作为驻留小区。8.根据权利要求1至6中任一项所述方法，其特征在于，所述根据目标小区的无线异常情况确定所述目标小区的驻留参考值，包括：响应于在满足目标条件的情况下进行通信时，根据目标小区的无线异常情况确定所述目标小区的驻留参考值；其中，所述目标条件包括以下至少之一：在非移动场景中；进行长保数据业务。9.根据权利要求8所述方法，其特征在于，所述方法还包括：响应于不满足所述目标条件时，清除所述驻留参考值。10.一种小区驻留装置，其特征在于，应用于终端，所述装置包括：驻留参考值模块，被配置为根据目标小区的无线异常情况确定所述目标小区的驻留参考值；其中，所述目标小区包括所述终端当前的服务小区和所述服务小区的邻小区，所述驻留参考值与所述无线异常情况的异常程度呈负相关；待驻留小区确定模块，被配置为根据所述驻留参考值确定驻留小区。11.根据权利要求10所述装置，其特征在于，所述驻留参考值模块，被配置为根据目标小区的信号质量确定所述目标小区的初始驻留参考值；以及根据所述目标小区的初始驻留参考值和所述目标小区的无线异常情况确定所述目标小区的驻留参考值。12.根据权利要求11所述装置，其特征在于，所述终端当前的服务小区的初始驻留参考值为服务小区的初始驻留参考值，所述驻留参考值模块，被配置为根据所述服务小区的信号质量与所述邻小区的信号质量之间的差异，确定驻留差异信息；以及根据所述服务小区的初始驻留参考值和所述驻留差异信息确定所述邻小区的初始驻留参考值。13.根据权利要求12所述装置，其特征在于，所述驻留参考值模块，被配置为当所述邻小区的信号质量高于所述服务小区的信号质量时，根据所述驻留差异信息对所述服务小区的初始驻留参考值进行加分，以作为所述邻小区的初始驻留参考值；和/或当所述邻小区的信号质量低于所述服务小区的信号质量时，根据所述驻留差异信息对所述服务小区的初始驻留参考值进行减分，以作为所述邻小区的初始驻留参考值。14.根据权利要求12所述装置，其特征在于，所述驻留参考值模块，被配置为根据目标小区的无线异常情况确定对应的扣分分数；以及将所述目标小区的初始驻留参考值减去所述扣分分数，以确定所述目标小区的驻留参考值。15.一种终端，其特征在于，包括：处理器；用于存储处理器可执行指令的存储器；其中，所述处理器通过运行所述可执行指令以实现如权利要求1-9中任一项所述的方法。16.一种计算机可读存储介质，其上存储有计算机指令，其特征在于，该指令被处理器执行时实现如权利要求1-9中任一项所述方法的步骤。
说明书desc
技术领域本公开涉及网络通信技术领域，具体而言，涉及小区驻留方法、小区驻留装置、终端和计算机可读存储介质。背景技术随着移动通信技术的发展，在大多数情况下智能终端所在的区域附近是有多个无线基站的。相关技术中，智能终端通过选择并注册到其中一个基站对应蜂窝无线小区，来获取运营商提供的无线通信服务。但是终端注册的小区的无线环境质量决定了用户数据和语音业务的体验好坏。而当用户在某些场景下进行特定业务时，例如在非移动场景下进行长保数据业务时，例如打游戏，看直播等，相对该非移动场景下的其他业务而言，更容易受到无线环境异常的影响，此时对于小区的无线环境质量的要求会更高。发明内容有鉴于此，本公开实施例提供了小区驻留方法、小区驻留装置、终端和计算机可读存储介质，用以终端选取无线环境最优的小区进行驻留。具体的，本公开通过如下技术方案实现：根据本公开的第一方面，提出了一种小区驻留方法，应用于终端，包括：根据目标小区的无线异常情况确定所述目标小区的驻留参考值；其中，所述目标小区包括所述终端当前的服务小区和所述服务小区的邻小区，所述驻留参考值与所述无线异常情况的异常程度呈负相关；根据所述驻留参考值确定驻留小区。根据本公开的第二方面，提出了一种小区驻留装置，应用于终端，包括：信息确定模块，被配置为根据目标小区的无线异常情况确定所述目标小区的驻留参考值；其中，所述目标小区包括所述终端当前的服务小区和所述服务小区的邻小区，所述驻留参考值与所述无线异常情况的异常程度呈负相关；小区确定模块，被配置为根据所述驻留参考值确定驻留小区。根据本公开的第三方面，提供一种电子设备，包括：处理器；用于存储处理器可执行指令的存储器；其中，所述处理器通过运行所述可执行指令以实现如上述第一方面的实施例中所述的方法。根据本公开实施例的第四方面，提供一种计算机可读存储介质，其上存储有计算机指令，该指令被处理器执行时实现如上述第一方面的实施例中所述方法的步骤。由以上本公开提供的技术方案可见，终端在确定驻留小区时所依据的驻留参考值，是基于无线异常情况确定的，由于小区的无线异常情况与小区的稳定性是相关的，所以确定的驻留参考值也可以表征小区的稳定性，因此，在目标小区中选择驻留小区时，根据目标小区的驻留参考值在目标小区中确定的驻留小区，稳定性相对较好。进而在驻留到确定的驻留小区后，有利于确保终端在需要进行或将要对于稳定性要求较高的业务时，能够提供良好的用户体验。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本公开的实施例，并与说明书一起用于解释本公开的原理。图1是根据本公开的实施例示出的一种小区驻留方法的示意流程图；图2是根据本公开的实施例示出的又一种小区驻留方法的示意图；图3是根据本公开的实施例示出的又一种小区驻留方法的示意图；图4是根据本公开的实施例示出的又一种小区驻留方法的示意图；图5是根据本公开的实施例示出的又一种小区驻留方法的示意图；图6是根据本公开的实施例示出的一种小区驻留装置的示意框图；图7是根据本公开的实施例示出的一种终端的示意框图。具体实施方式这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本公开的一些方面相一致的装置和方法的例子。在本公开使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本公开。在本公开和所附权利要求书中所使用的单数形式的“一种”、“所述”和“该”也旨在包括多数形式，除非上下文清楚地表示其他含义。还应当理解，本文中使用的术语“和/或”是指并包含一个或多个相关联的列出项目的任何或所有可能组合。应当理解，尽管在本公开可能采用术语第一、第二、第三等来描述各种信息，但这些信息不应限于这些术语。这些术语仅用来将同一类型的信息彼此区分开。例如，在不脱离本公开范围的情况下，第一信息也可以被称为第二信息，类似地，第二信息也可以被称为第一信息。取决于语境，如在此所使用的词语“如果”可以被解释成为“在……时”或“当……时”或“响应于确定”。图1为根据本公开一示例性实施例示出的一种小区驻留方法的示意流程图。如图1所示，该方法可以应用于终端，所述终端包括但不限于手机、平板电脑、可穿戴设备、传感器、物联网设备等电子设备。所述终端可以作为用户设备与基站通信，所述基站包括但不限于4G基站、5G基站、6G基站。如图1所示，所述小区驻留方法可以包括如下步骤：在步骤S1中：根据目标小区的无线异常情况确定所述目标小区的驻留参考值；其中，所述目标小区包括所述终端当前的服务小区和所述服务小区的邻小区，所述驻留参考值与所述无线异常情况的异常程度呈负相关。在步骤S2中：根据所述驻留参考值确定驻留小区。其中，驻留参考值与小区无线异常情况的异常程度有关，用于体现小区的无线环境质量，以供终端在选择所要驻留的小区时进行参考。在本实施例中，为了便于描述，将终端当前的服务小区和该服务小区的邻小区记为目标小区，即目标小区包括终端当前的服务小区和该服务小区的邻小区。本领域技术人员可以理解的是，当目标小区的无线异常情况的异常程度越高时，目标小区的无线环境质量越低。因此相应地，无线异常情况的异常程度越高的小区，其驻留参考值则越低。在相关技术中，终端选择驻留小区，仅仅是根据小区的信号质量，例如参考信号接收功率进行确定，例如可以选择信号质量最好的小区作为驻留小区。虽然单纯考虑信号质量可以满足终端进行部分业务的需要，但是对于一些业务则难以满足。例如终端在非移动场景中，需要进行或正在进行的业务为长保数据业务，例如网络游戏、直播等业务，这些业务对于网络稳定性的要求相对较高，因为网络稍微不稳定，都会极大地影响用户体验。由于小区的信号质量最好，并不代表小区的稳定性最好，因为小区可能会发生一些无线异常情况，例如对于终端的一些操作未响应，或者对于终端的一些操作拒绝，或者终端在小区上发生无线链路失败。这些无线异常情况，在信号质量相对较差的小区会发生，在信号质量相对较好的小区也会发生。当发生无线异常情况时，就会导致小区的稳定性变差，进而极大地影响用户非移动场景中进行长保数据业务。根据本实施例，终端在确定驻留小区时所依据的驻留参考值，是基于无线异常情况确定的，由于小区的无线异常情况与小区的稳定性是相关的，所以确定的驻留参考值也可以表征小区的稳定性，因此，在目标小区中选择驻留小区时，根据目标小区的驻留参考值在目标小区中确定的驻留小区，稳定性相对较好。进而在驻留到确定的驻留小区后，有利于确保终端在需要进行或将要对于稳定性要求较高的业务时，能够提供良好的用户体验。在一个实施例中，所述无线异常情况的异常程度基于以下至少一项确定：所述无线异常情况的类型；所述无线异常情况的发生次数。无线异常情况的异常程度可以与无线异常情况的发生次数和/或无线异常情况的类型有关。具体的，无线异常情况的异常程度可以与无线异常情况的发生次数呈正相关，目标小区发生无线异常情况次数越多，其无线异常情况的异常程度越大。而针对不同类型的无线异常情况，终端可以根据不同类型的无线异常情况对终端语音业务和/或数据业务的影响程度的实际情况，预先设置有无线异常情况的类型与无线异常情况的异常程度的对应关系。从而在发生无线异常情况时，终端可以根据该对应关系确定对应于所发生的无线异常情况的类型的异常程度。可选地，所述无线异常情况的类型包括以下至少之一：所述终端的预设操作被拒绝、所述终端的预设操作未响应、无线链路失败、无线连接异常。在一个实施例中，终端在小区进行预设操作被拒绝时，可以确定所述目标小区存在无线异常情况，并根据具体执行的预设操作的类型确定无线异常情况的异常程度。其中，无线异常情况的类型可以包括终端的预设操作被拒绝和/或终端的预设操作未响应。终端的预设操作可以包括终端的TAU请求，和/或附着Attach请求，和/或服务Service请求和/或PDNConnect请求。当目标小区所对应的基站拒绝终端的TAU请求、Attach请求、Service请求、PDNConnect请求中的任一请求时，终端即可确定目标小区发生了无线异常情况。同样的，当目标小区所对应的基站未响应终端的TAU请求、Attach请求、Service请求、PDN Connect请求中的任一请求时，终端也可确定目标小区发生了无线异常情况。当然，应当理解的是，本公开中终端的预设操作并不局限于上面已经描述TAU请求等，事实上终端的预设操作可以由本领域技术人员根据需要自行设置，本公开对此不作限制。其中，TAU请求为终端发送的跟踪区域更新请求，Attach请求为终端在使用网络提供的业务和服务前向网络进行登记注册时所发送的网络附着请求，当小区所对应的基站与核心网之间的连接断开或存在其他异常情况时，终端所发送的TAU请求和Attach请求则无法通过小区所对应的基站正常发送至核心网，终端无法正常接入网络。以TAU请求为例，在终端当前驻留的小区所对应的基站接收到终端所发送TAU请求后，若基站与核心网之间的连接断开，则会向终端回复TAU reject消息。终端在接收到TAU reject消息后，即可确定其当前驻留的服务小区出现类型为终端的预设操作被拒绝的无线异常情况。其中，service请求为终端向小区所对应基站发送的服务请求，该服务请求可以指示终端所要进行的业务类型，若终端当前驻留的服务小区所对应的基站无法对该类型的业务进行处理或者存在其他异常，则会出现基站拒绝或不响应终端所发送的Service请求的情况，导致终端无法在目标小区中执行器所要执行的业务。因此，可以将终端发送的Service请求被拒绝和/或未响应，设置为无线异常情况。其中，PDN Connect请求为终端所发送的公共数据网连接请求。对于兼容2G、3G和4G通信制式的终端来说，其在开机注册过程中会向基站发送PDN连接请求，以使用PDN提供的高质量数据传输服务访问网络。在实际应用中，某些基站在接收到该PDN连接请求之后，出于某些异常原因，可能会向移动终端返回PDN拒绝连接消息，导致PDN连接出现异常，终端无法访问网络。因此，可以将终端发送的PDN Connect请求被拒绝和/或未响应，设置为无线异常情况。在一个实施例中，无线异常情况的类型可以包括无线链路失败。由于终端在无线链路失败的情况下，其正常业务会收到影响，因此当终端在当前驻留的服务小区中发生RLF时，可以确定当前驻留的服务小区出现了类型为无线链路失败的无线异常情况。在一个实施例中，终端的无线异常情况的类型可以包括无线连接异常，其中无线连接异常的具体表现形式可以由本领域技术人员根据需要自行设置。例如，可以将终端在其驻留的小区中能够正常发送上行数据，但无法接收到下行数据的情况设置无线连接异常，当终端检测到存在该情况时，即可确定其所驻留小区出现类型为无线连接异常的无线异常情况。图2是根据本公开的实施例示出的又一种小区驻留方法的示意图。如图2所示，所述根据目标小区的无线异常情况确定所述目标小区的驻留参考值，包括：在步骤S11中，根据目标小区的信号质量确定所述目标小区的初始驻留参考值；在步骤S12中，根据所述目标小区的初始驻留参考值和所述目标小区的无线异常情况确定所述目标小区的驻留参考值。由于小区的信号质量和无线异常情况都会影响终端在小区中通信的通信效果，所以在本实施例中，可以综合考虑目标小区的信号质量和无线异常情况来确定目标小区的驻留参考值。据此，有利于确保确定驻留参考值的准确性。由于小区的信号质量可以根据RSRP确定，RSRP则可以通过接收参考信号确定，而参考信号一般是小区广播的，所以终端在进行接收操作的过程中确定所述目标小区的信号质量。而无线异常情况则需要终端针对目标小区发起上述实施例中的预设操作，和/或进行无线连接才能确定，这相对于接收操作而言，需要终端进行的操作较为复杂，而且终端可以根据需要选择进行预设操作和/或进行无线连接的时机，例如可以与上述接收参考信号的操作一起进行，也可以不与上述接收参考信号的操作一起进行。所以终端可以先执行相对简单的操作，确定所述目标小区的信号质量，进而根据目标小区的信号质量确定所述目标小区的初始驻留参考值；然后再执行相对复杂的操作，确定所述目标小区的无线异常情况，进而根据初始驻留参考值和无线异常情况确定所述目标小区的驻留参考值。据此，便于终端确定驻留参考值。在一个实施例中，由于终端在当前服务小区中时，在没有确定要切换到邻小区时，如果对邻小区进行上述预设操作或者进行无线连接，有可能影响终端在服务小区的通信，所以一般不会对邻小区进行上述预设操作或者进行无线连接，但是可以确定邻小区的信号质量。因此，终端为了确定服务小区和邻小区的驻留参考值，可以根据目标小区的信号质量确定所述目标小区的初始驻留参考值。针对目标小区中的邻小区，可以仅确定初始驻留参考值；针对目标小区中的服务小区，可以进一步确定无线异常情况，然后根据无线异常情况确定服务小区的驻留参考值。进而根据邻小区的初始驻留参考值和服务小区的驻留参考值确定驻留小区。图3是根据本公开的实施例示出的又一种小区驻留方法的示意图。如图3所示，终端当前的服务小区的初始驻留参考值为服务小区的初始驻留参考值，所述根据目标小区的信号质量确定所述目标小区的初始驻留参考值包括：在步骤S111中，根据所述服务小区的信号质量与所述邻小区的信号质量之间的差异，确定驻留差异信息；在步骤S112中，根据所述服务小区的初始驻留参考值和所述驻留差异信息确定所述邻小区的初始驻留参考值。终端在确定各目标小区的初始驻留信息时，可以预先设置当前的服务小区的初始驻留参考值，以作为计算邻小区初始驻留参考值的标准，便于后续计算。进而可以根据其当前服务小区的信号质量与该服务小区的邻小区的信号质量之间的差异确定驻留差异信息，对终端当前的服务小区的初始驻留参考值进行调整，以得出各个邻小区的初始驻留参考值。在一个实施例中，所述根据所述服务小区的初始驻留参考值和所述驻留差异信息确定所述邻小区的初始驻留参考值包括：当所述邻小区的信号质量高于所述服务小区的信号质量时，根据所述驻留差异信息对所述服务小区的初始驻留参考值进行加分，以作为所述邻小区的初始驻留参考值；和/或当所述邻小区的信号质量低于所述服务小区的信号质量时，根据所述驻留差异信息对所述服务小区的初始驻留参考值进行减分，以作为所述邻小区的初始驻留参考值。在一个实施例中，若邻小区的信号指令高于服务小区的信号质量，那么说明邻小区的信号质量更好，因此从信号质量角度来看更有可能驻留到邻小区，所以可以根据邻小区与服务小区的信号质量差异在服务小区的初始驻留参考值的基础上进行加分，从而得到邻小区的初始驻留参考值，也即邻小区的初始驻留参考值比所述服务小区的初始驻留参考值高；而若邻小区的信号指令低于服务小区的信号质量，那么说明所述服务小区的信号质量更好，因此从信号质量角度来看更有可能保持驻留在所述服务小区，所以可以根据邻小区与服务小区的信号质量差异在服务小区的初始驻留参考值的基础上进行减分，从而得到邻小区的初始驻留参考值，也即邻小区的初始驻留参考值比所述服务小区的初始驻留参考值低。其中，服务小区的信号质量与邻小区的信号质量之间的差异可以如上述实施例，根据服务小区的信号质量与邻小区的信号质量之间的差值确定，也可以根据需要选择其他方式确定，例如根据服务小区的信号质量与邻小区的信号质量之间的比例确定，本公开对此不作限制。举例而言，当驻留参考值以分数的形式表示时，可以将终端当前的服务小区CellA的初始驻留参考值设置为100分。根据终端当前的服务小区Cell A与邻小区Cell B的RSRP值差异，可以确定邻小区Cell B与其服务小区Cell A之间的驻留差异信息，需要注意的是，这里为了方便计算机进行数据处理，可以将计算得到驻留差异信息向上取整。以服务小区Cell A的初始驻留参考值100分作为各邻小区的初始驻留参考值的参考基准，服务小区Cell_A的邻小区的初始驻留参考值计算公式例如为：S_Cell_B＝100-Ceil/3)；其中，其中S_Cell_B表示邻小区Cell_B的初始驻留参考值；100表示服务小区Cell_A的预设初始参考分数100分；Ceil为向上取整函数，表示对/3)的计算结果进行向上取整；3表示衰减步长，单位为dB。若终端当前的服务小区Cell_A的RSRP值为-85dBm，其邻小区Cell_B的RSRP值为-87dBm，其邻小区Cell_C的RSRP值为-89dBm，则根据上述公式可以计算得到邻小区Cell_B的初始驻留参考值为99分，邻小区Cell_B的初始驻留参考值为98分。图4是根据本公开的实施例示出的又一种小区驻留方法的示意图。如图4所示，所述根据所述目标小区的初始驻留参考值和所述目标小区的无线异常情况确定所述目标小区的驻留参考值，包括：在步骤S121中，根据目标小区的无线异常情况确定对应的扣分分数；在步骤S122中，将所述目标小区的初始驻留参考值减去所述扣分分数，以确定所述目标小区的驻留参考值。由于小区的无线异常情况越严重、无线异常情况出现的次数越多，那么说明在小区通信的稳定性越差，因此从无线异常情况角度而言，驻留在小区的可能性与无线异常情况是负相关的。因此，终端在根据目标小区的信号质量确定各目标小区的初始驻留参考值后，对于无线异常情况需要进行扣分，从而可以根据目标小区所出现的无线异常情况确定相应地扣分分数，例如无线异常情况的异常程度越严重，扣分分数越多，无线异常情况出现的次数越多，扣分分数越多。进而可以在目标小区的初始驻留参考值的基础上减去该扣分分数，从而得到目标小区的驻留参考值。值得注意的是，本公开中目标小区的驻留参考值可以设置为每当检测到存在小区出现一次无线异常情况，即可根据其所出现的无线异常情况对目标小区的驻留参考值进行扣分，也即每当出现一次无线异常情况，则根据出现的无线异常情况对应的扣分分数进行一次扣分，以对驻留参考值进行更新。从而便于终端及时对出现的异常情况作出响应，以选取到实时无线环境质量最优的小区进行驻留。进一步的，由于如前所述，驻留参考值与无线异常情况的异常程度有关，无线异常情况的异常程度又可以基于无线异常情况的类型以及无线异常情况的发生次数确定。因此，终端在根据出现的无线异常情况对目标小区的初始驻留参考值进行更新时，可以进一步考虑该目标小区所出现的无线异常情况的具体类型。例如在按照分数的形式表示驻留参考值的情况下，终端可以预先分别为不同类型的无线异常情况设置不同的扣分程度，进而使得所确定的驻留参考值可以体现实际无线异常情况对终端的业务影响程度，更具有可参考性。仍以上述举例为例，若预先设置当无线异常情况为终端的预设操作被拒绝时扣5分，当无线异常情况为终端的预设操作未响应时扣3分，当无线异常情况为无线链路失败时扣3分，当无线异常情况为无线连接异常时扣2分。在服务小区Cell_A、邻小区Cell_B和邻小区Cell_C的初始驻留参考值分别为100分、98分和96分。以终端当前驻留在服务小区Cell_A为例。例如终端在发起TAU请求后，接收到了网络所回复的TAU reject信息，则可以确定终端所发起的TAU请求被拒绝，即服务小区Cell_A出现了一次类型为终端的预设操作被拒绝的无线异常情况，则需要计算服务小区Cell_A的驻留参考值，在其初始驻留参考值100分的基础上扣5分，得到服务小区Cell_A的驻留参考值为95分，邻小区Cell_B的驻留参考值仍为95分，邻小区Cell_C的驻留参考值仍为96分。在这种情况下，邻小区Cell_C驻留参考值最高，那么可以选择邻小区Cell_C作为驻留小区进行驻留。例如终端在服务小区Cell_A发生无线链路失败，则需要计算服务小区Cell_A的驻留参考值，在其初始驻留参考值100分的基础上扣3分，得到服务小区Cell_A的驻留参考值为97分，邻小区Cell_B的驻留参考值仍为95分，邻小区Cell_C的驻留参考值仍为96分。在这种情况下，服务小区Cell_A驻留参考值最高，那么可以选择邻小区Cell_A作为驻留小区，也即仍然驻留在当前服务小区。上述实施例描述的是发生一次无线异常情况的扣分示例，在发生多次无线异常情况时，则可以根据无线异常情况对应的扣分分数进行多次扣分。例如发生两次无线链路失败，那么可以进行两次扣分，累计扣2×3＝6分，例如发生一次无线链路失败，确定一次TAU请求被拒绝，那么进行两次扣分，累计扣3+5＝8分。需要说明的是，若在确定所述目标小区的驻留参考值的过程中，目标小区的信号质量发生了变化，则由于变化后的目标小区的信号质量与目标小区的初始驻留参考值时所参考的信号质量不同，因此在目标小区的信号质量发生变化时，可以对目标小区的初始驻留参考值的进行相应进行调整。例如，在按照分数的形式表示驻留参考值的情况下，若目标小区的信号质量增加，则需要对目标小区的初始驻留参考值进行加分，若目标小区的信号质量衰减，则需要对目标小区的初始驻留参考值进行扣分，提高了驻留参考值的准确性。仍以上述按照公式确定所述目标小区的初始驻留分数的情况为例，由于在根据目标小区的RSRP值确定驻留差异信息时以3dBm为衰减步长，因此在后续目标小区的信号质量发生变化时，可以对目标小区的初始驻留参考值的进行相应进行调整时也应以3dBm为衰减步长，每当任一小区的RSRP衰减3dBm，则目标小区的初始驻留参考值扣1分，反之每当任一小区的RSRP增加3dBm，则目标小区的初始驻留参考值加1分。在一个实施例中，终端在确定各目标小区的驻留参考值后可以选取驻留参考值最高的目标小区作为驻留小区。且每当小区的驻留参考值进行了更新，都会判断是否需要重新选择驻留小区，若驻留参考消息最高的目标小区与终端当前驻留的小区相同，则终端无需进行小区切换；若不同，终端则会选择驻留参考消息最高的目标小区作为驻留小区，并向目标小区发送无线接入请求以尝试切换至目标小区进行驻留，从而保证了终端会一直驻留在无线环境质量最优的小区，保证了用户始终处于最佳的数据业务体验。仍以上述举例为例，当终端所驻留的服务小区Cell_A出现了一次类型为终端的预设操作被拒绝的无线异常情况，服务小区Cell_A、邻小区Cell_B和邻小区Cell_C三者的驻留参考值从100分、98分和96分更新为95分、98分和96分后。驻留参考值最高的目标小区从服务小区Cell_A变为了邻小区Cell_B，此时终端则会重选选择邻小区Cell_B作为驻留小区。图5是根据本公开的实施例示出的又一种小区驻留方法的示意图。如图5所示，所述根据所述驻留参考值确定驻留小区，包括：在步骤S21中，根据所述目标小区的驻留参考值对目标小区进行排序；在步骤S22中，根据排序结果，选取驻留参考值最高的目标小区作为驻留小区。终端可以通过对各目标小区的驻留参考值进行排序的方式确定驻留参考值最高的目标小区。即在每次出现无线异常情况后，终端都会对各目标小区的驻留参考值进行排序，并按照排序结果选取驻留参考消息最高的目标小区作为驻留小区。在本实施例中，由于在确定驻留参考值最高的目标小区前预先对各目标小区的驻留参考值进行了排序，因此在当驻留参考消息最高的目标小区由于非无线异常情况的其他原因无法使终端驻留时，终端可以根据排序结果直接选取驻留参考值第二高的小区进行驻留，提高了终端选取驻留小区的便捷性。其中，目标小区的驻留参考值发生变化时，可以根据变化后的驻留参考值重新对目标小区进行排序。在一个实施例中，由于基站拒绝终端的TAU/Attach请求的原因在很大程度上是由于基站与核心网之间的连接存在异常，因此在目标小区的无线异常情况为终端的TAU/Attach请求被拒绝的情况下，在终端切换至其他能够进行TAU/Attach请求的小区驻留后，可以通过切换后的小区向核心网发送关于终端的TAU/Attach请求被拒绝的无线异常情况的相关信息，相关信息可以包括拒绝终端的TAU/Attach请求的小区对应的基站的信息。据此，便于核心网及时获知与其存在连接异常的基站，从而可以及时对连接进行恢复。仍以上述举例为例，由于终端在服务小区Cell_A所出现的无线异常情况是终端接收到了网络针对TAU请求所回复的TAU reject信息，因此终端在从服务小区Cell_A切换至邻小区Cell_B后，可以通过邻小区Cell_B向核心网发送用于指示服务小区Cell_A所对应的基站与核心网之间的连接存在异常的消息。在一个实施例中，终端响应于在满足目标条件的情况下进行通信时，根据目标小区的无线异常情况确定所述目标小区的驻留参考值；其中，所述目标条件包括以下至少之一：在非移动场景中；进行长保数据业务。其中长保数据业务为例如游戏、直播等需要终端与基站长时间保持数据交互的数据业务。由于在非移动场景下进行长保数据业务时，对目标小区的无线环境质量要求相对较高，而在进行其他业务时，则对目标小区的无线环境质量要求相对不高。因此，可以仅在非移动场景下进行数据长保业务时，才根据目标小区的无线异常情况确定所述目标小区驻留参考值，并根据驻留参考值确定驻留小区，而在进行其他业务时，则可以仅根据目标小区信号质量确定驻留小区，有利于减少不必要的确定无线异常情况，有利于降低资源消耗。在一个实施例中，所述方法还包括：响应于不满足所述目标条件时，清除所述驻留参考值。终端在不满足所述目标条件时，可以清除驻留参考值，其中，所述驻留参考值可以以表格的形式存储，例如表格中包括多个小区的标识和每个小区对应的驻留参数值。即当检测到终端退出在非移动场景下的数据长保业务时，可以直接清除驻留参考消息，避免其占用存储空间。由以上本公开提供的技术方案可见，本公开通过根据目标小区的无线异常情况生成可以供终端参考的驻留参考值，使得终端可以实时选取无线环境最优的小区进行驻留，以给用户提供最佳的数据业务体验。与前述小区驻留方法的实施例相对应，本公开还提供了小区驻留装置的实施例。图6为根据本公开一示例性实施例示出的一种小区驻留装置的示意框图。如图6所示，该装置可以应用于终端，所述终端包括但不限于手机、平板电脑、可穿戴设备、传感器、物联网设备等电子设备。所述终端可以作为用户设备与基站通信，所述基站包括但不限于4G基站、5G基站、6G基站。如图6所示，所述目标小区驻留装置可以包括：驻留参考值模块1，被配置为根据目标小区的无线异常情况确定所述目标小区的驻留参考值；其中，所述目标小区包括所述终端当前的服务小区和所述服务小区的邻小区，所述驻留参考值与所述无线异常情况的异常程度呈负相关；待驻留小区确定模块2，被配置为根据所述驻留参考值确定驻留小区。可选地，所述无线异常情况的异常程度基于以下至少一项确定：所述无线异常情况的类型；所述无线异常情况的发生次数。可选地，所述无线异常情况的类型包括以下至少一种：所述终端的预设操作被拒绝；所述终端的预设操作未响应；无线链路失败；无线连接异常。可选地，所述预设操作包括以下至少一种：TAU请求；Attach请求；Service请求；PDN Connect请求。可选地，所述驻留参考值模块，被配置为根据目标小区的信号质量确定所述目标小区的初始驻留参考值；以及根据所述目标小区的初始驻留参考值和所述目标小区的无线异常情况确定所述目标小区的驻留参考值。可选地，所述终端当前的服务小区的初始驻留参考值为服务小区的初始驻留参考值，所述驻留参考值模块，被配置为根据所述服务小区的信号质量与所述邻小区的信号质量之间的差异，确定驻留差异信息；以及根据所述服务小区的初始驻留参考值和所述驻留差异信息确定所述邻小区的初始驻留参考值。可选地，所述驻留参考值模块，被配置为当所述邻小区的信号质量高于所述服务小区的信号质量时，根据所述驻留差异信息对所述服务小区的初始驻留参考值进行加分，以作为所述邻小区的初始驻留参考值；和/或当所述邻小区的信号质量低于所述服务小区的信号质量时，根据所述驻留差异信息对所述服务小区的初始驻留参考值进行减分，以作为所述邻小区的初始驻留参考值。可选地，所述驻留参考值模块，被配置为根据目标小区的无线异常情况确定对应的扣分分数；以及将所述目标小区的初始驻留参考值减去所述扣分分数，以确定所述目标小区的驻留参考值。可选地，所述待驻留小区确定模块，被配置为根据所述目标小区的驻留参考值对目标小区进行排序；根据排序结果，选取驻留参考值最高的目标小区作为驻留小区。可选地，所述待驻留小区确定模块，被配置为响应于在满足目标条件的情况下进行通信时，根据目标小区的无线异常情况确定所述目标小区的驻留参考值；其中，所述目标条件包括以下至少之一：在非移动场景中；进行长保数据业务。可选地，上述装置还包括：清除模块3，被配置为响应于不满足所述目标条件时，清除所述驻留参考值，上述装置中各个单元的功能和作用的实现过程具体详见上述方法中对应步骤的实现过程，在此不再赘述。对于装置实施例而言，由于其基本对应于方法实施例，所以相关之处参见方法实施例的部分说明即可。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本公开方案的目的。本领域普通技术人员在不付出创造性劳动的情况下，即可以理解并实施。本公开的实施例还提出一种终端，包括：处理器；用于存储处理器可执行指令的存储器；其中，所述处理器被配置为实现上述任一实施例所述的小区驻留方法。本公开的实施例还提出一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现上述任一实施例所述的小区驻留方法中的步骤。图7是根据本公开的实施例示出的一种终端700的示意框图。例如，终端700可以是移动电话、计算机、数字广播终端、消息收发设备、游戏控制台、平板设备、医疗设备、健身设备、个人数字助理等。参照图7，终端700可以包括以下一个或多个组件：处理组件702、存储器704、电源组件706、多媒体组件708、音频组件710、输入/输出的接口712、传感器组件714以及通信组件716。处理组件702通常控制终端700的整体操作，诸如与显示、电话呼叫、数据通信、相机操作和记录操作相关联的操作。处理组件702可以包括一个或多个处理器720来执行指令，以完成上述的方法的全部或部分步骤。此外，处理组件702可以包括一个或多个模块，便于处理组件702和其他组件之间的交互。例如，处理组件702可以包括多媒体模块，以方便多媒体组件708和处理组件702之间的交互。存储器704被配置为存储各种类型的数据以支持在终端700的操作。这些数据的示例包括用于在终端700上操作的任何应用程序或方法的指令、联系人数据、电话簿数据、消息、图片、视频等。存储器704可以由任何类型的易失性或非易失性存储设备或者它们的组合实现，如静态随机存取存储器、电可擦除可编程只读存储器、可擦除可编程只读存储器、可编程只读存储器，只读存储器、磁存储器、快闪存储器、磁盘或光盘。电源组件706为终端700的各种组件提供电力。电源组件706可以包括电源管理系统，一个或多个电源，及其他与为终端700生成、管理和分配电力相关联的组件。多媒体组件708包括在所述终端700和用户之间的提供一个输出接口的屏幕。在一些实施例中，屏幕可以包括液晶显示器和触摸面板。如果屏幕包括触摸面板，屏幕可以被实现为触摸屏，以接收来自用户的输入信号。触摸面板包括一个或多个触摸传感器以感测触摸、滑动和触摸面板上的手势。所述触摸传感器可以不仅感测触摸或滑动动作的边界，而且还检测与所述触摸或滑动操作相关的持续时间和压力。在一些实施例中，多媒体组件708包括一个前置摄像头和/或后置摄像头。当终端700处于操作模式，如拍摄模式或视频模式时，前置摄像头和/或后置摄像头可以接收外部的多媒体数据。每个前置摄像头和后置摄像头可以是一个固定的光学透镜系统或具有焦距和光学变焦能力。音频组件710被配置为输出和/或输入音频信号。例如，音频组件710包括一个麦克风，当终端700处于操作模式，如呼叫模式、记录模式和语音识别模式时，麦克风被配置为接收外部音频信号。所接收的音频信号可以被进一步存储在存储器704或经由通信组件716发送。在一些实施例中，音频组件710还包括一个扬声器，用于输出音频信号。I/O接口712为处理组件702和外围接口模块之间提供接口，上述外围接口模块可以是键盘、点击轮、按钮等。这些按钮可包括但不限于：主页按钮、音量按钮、启动按钮和锁定按钮。传感器组件714包括一个或多个传感器，用于为终端700提供各个方面的状态评估。例如，传感器组件714可以检测到终端700的打开/关闭状态，组件的相对定位，例如所述组件为终端700的显示器和小键盘，传感器组件714还可以检测终端700或终端700一个组件的位置改变，用户与终端700接触的存在或不存在，终端700方位或加速/减速和终端700的温度变化。传感器组件714可以包括接近传感器，被配置用来在没有任何的物理接触时检测附近物体的存在。传感器组件714还可以包括光传感器，如CMOS或CCD图像传感器，用于在成像应用中使用。在一些实施例中，该传感器组件714还可以包括加速度传感器、陀螺仪传感器、磁传感器、压力传感器或温度传感器。通信组件716被配置为便于终端700和其他设备之间有线或无线方式的通信。终端700可以接入基于通信标准的无线网络，如WiFi、2G、3G、4G LTE、5G NR或它们的组合。在一个示例性实施例中，通信组件716经由广播信道接收来自外部广播管理系统的广播信号或广播相关信息。在一个示例性实施例中，所述通信组件716还包括近场通信模块，以促进短程通信。例如，在NFC模块可基于射频识别技术、红外数据协会技术、超宽带技术、蓝牙技术和其他技术来实现。在示例性实施例中，终端700可以被一个或多个应用专用集成电路、数字信号处理器、数字信号处理设备、可编程逻辑器件、现场可编程门阵列、控制器、微控制器、微处理器或其他电子元件实现，用于执行上述方法。在示例性实施例中，还提供了一种包括指令的非临时性计算机可读存储介质，例如包括指令的存储器704，上述指令可由终端700的处理器720执行以完成上述方法。例如，所述非临时性计算机可读存储介质可以是ROM、随机存取存储器、CD-ROM、磁带、软盘和光数据存储设备等。以上所述仅为本公开的较佳实施例而已，并不用以限制本公开，凡在本公开的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本公开保护的范围之内。
