标题title
一种基于BIM的IoT客户端轻量化运维方法
摘要abst
本发明涉及客户端轻量化运维技术领域，具体地说，涉及一种基于BIM的IoT客户端轻量化运维方法，其包括Revit客户端安装中恒运维助手‑IoT客户端轻量化运维模块；建立Revit模型与IoT设备的映射关系；通过设备列表对IoT设备远程操作控制；批量导出模型数据；配置好授权信息和模型对应的设备信息。本发明中IoT客户端轻量化运维通过原生Revit API，将IoT设备与模型建立映射关系。
权利要求书clms
1.一种基于BIM的IoT客户端轻量化运维方法，其特征在于，包括如下步骤：S1、Revit客户端安装中恒运维助手-IoT客户端轻量化运维模块；S2、建立Revit模型与IoT设备的映射关系；S3、通过设备列表对IoT设备远程操作控制；S4、批量导出模型数据；S5、配置好授权信息和模型对应的设备信息，通过HTTP+MQTT协议传递参数和控制数据；S6、设备接收到对应参数和控制数据执行相应的动作。2.根据权利要求1所述的基于BIM的IoT客户端轻量化运维方法，其特征在于：所述S1中Revit客户端安装方法包括如下步骤：S1.1、打开Revit，在菜单栏打开“IoT客户端轻量化运维”；S1.2、在界面上输入Access ID和Access Secret授权信息。3.根据权利要求1所述的基于BIM的IoT客户端轻量化运维方法，其特征在于：所述S2中建立Revit模型与IoT设备的映射方法包括如下步骤：S2.1、通过Revit API读取Revit DB数据库，获取模型的数据；S2.2、将IoT设备在IoT平台进行注册配网，获取到授权信息和设备信息；S2.3、将IoT智能设备信息写入Revit DB，与Revit模型建立对应关系；S2.4、选中所需要绑定的Revit模型，将IoT设备信息绑定到模型上，点击绑定。4.根据权利要求1所述的基于BIM的IoT客户端轻量化运维方法，其特征在于：所述S3中对IoT设备远程操作控制方法步骤如下所示：S3.1、在设备列表获取完成的绑定模型，点击按钮启动，启动对应的IoT设备并进行设备的远程监控；S3.2、点击按钮关闭，关闭IoT设备的远程监控；S3.3、点击状态获取，获取对应IoT设备的实时状态。5.根据权利要求1所述的基于BIM的IoT客户端轻量化运维方法，其特征在于：所述S4中批量导出模型数据的步骤如下：S4.1、将读取到的数据通过数据清洗、数据转换得到所需要的模型信息在界面上展示；S4.2、点击数据导出，将对应模型数据导出为文件；S4.3、对应模型数据流转至运维平台或者其他平台使用。6.根据权利要求5所述的基于BIM的IoT客户端轻量化运维方法，其特征在于：所述S4.1数据清洗、数据转换方法步骤如下所示：S4.1.1、对原始数据进行提取，得出原始数据数簇排列方式；S4.1.2、对原始数据中冗余数据进行筛分去除；S4.1.2、将筛分后的原始数据进行数据转换，转换成运维平台或者其他平台能够识别的数据。7.根据权利要求1所述的基于BIM的IoT客户端轻量化运维方法，其特征在于：所述S4.1.2中对原始数据中冗余数据进行筛分采用冗余去除算法，其算法公式如下所示：；；；其中 ~ 为模型原始数据各个数簇，为模型原始数据各个数簇的映射数簇集， ~ 为模型原始数据各个数簇映射后的映射数簇，为各个映射数簇的集合，为各个映射数簇的集合中重复数簇重复率，为各个映射数簇的集合中的相同数簇之和，为各个映射数簇总和，为重复数簇重复率阈值，当大于 ，表示该各个映射数簇的集合出现了冗余数据，对冗余数据中的数簇进行标识，然后进行去除，当小于 ，表示该各个映射数簇的集合未出现了冗余数据。8.根据权利要求1所述的基于BIM的IoT客户端轻量化运维方法，其特征在于：所述S5中配置授权信息和模型对应的设备信息配置步骤如下：S5.1、识别模型对应的授权信息；S5.2、根据模型对应的授权信息配备合适的设备信息；S5.3、通过HTTP+MQTT协议传递对应的参数和控制数据。9.根据权利要求1所述的基于BIM的IoT客户端轻量化运维方法，其特征在于：所述S6中设备接收到对应参数和控制数据执行相应的动作的执行步骤如下：S6.1、Revit客户端发出参数控制指令，生成指令信息；S6.2、将指令信息转换成设备端可识别数据；S6.3、设备接收可识别数据，并执行响应动作。
说明书desc
技术领域本发明涉及客户端轻量化运维技术领域，具体地说，涉及一种基于BIM的IoT客户端轻量化运维方法。背景技术建筑信息模型BIM是实现建筑全生命周期信息集成、流转、共享的重要技术手段，其核心价值就是数据共享。在实际应用中，大量需要共享的建筑信息是与BIM模型直接相关联，经常作为BIM模型的属性存在，将BIM物理模型以及携带的大量属性数据作为整个静态数据源的数据底座。市面上大部分的BIM运维平台都需要将体量庞大的BIM模型上传到云端服务器，然后在客户端对模型进行加载，最后才可以实现模型对接IoT智能设备，这样导致了IoT设备的对接工作必须安排在项目研发后期，不可以并行开发，大大的降低了工作效率；并且模型上传至云端服务器后因为数据不兼容、模型体积庞大等问题，也会导致模型出现错位、数据错误、数据丢失、模型加载失败等一系列问题。针对上述现有对于模型处理方式粗放、对接IoT智能设备效率低下、模型数据兼容性、模型数据的完整性无法保证等问题，提供了一种BIM模型数据转换方法及原生BIM+IoT设备联动，完美解决了Revit数据兼容性、完整性等问题，并且可并行对IoT设备与模型进行对接，实现了在Revit中控制IoT设备。发明内容本发明的目的在于提供一种基于BIM的IoT客户端轻量化运维方法，以解决上述背景技术中提出的问题。为实现上述目的，提供了一种基于BIM的IoT客户端轻量化运维方法，包括如下步骤：S1、Revit客户端安装中恒运维助手-IoT客户端轻量化运维模块；S2、建立Revit模型与IoT设备的映射关系；S3、通过设备列表对IoT设备远程操作控制；S4、批量导出模型数据；S5、配置好授权信息和模型对应的设备信息，通过HTTP+MQTT协议传递参数和控制数据；S6、设备接收到对应参数和控制数据执行相应的动作。作为本技术方案的进一步改进，所述S1中Revit客户端安装方法包括如下步骤：S1.1、打开Revit，在菜单栏打开“IoT客户端轻量化运维”；S1.2、在界面上输入Access ID和Access Secret授权信息。作为本技术方案的进一步改进，所述S2中建立Revit模型与IoT设备的映射方法包括如下步骤：S2.1、通过Revit API读取Revit DB数据库，获取模型的数据；S2.2、将IoT设备在IoT平台进行注册配网，获取到授权信息和设备信息；S2.3、将IoT智能设备信息写入Revit DB，与Revit模型建立对应关系；S2.4、选中所需要绑定的Revit模型，将IoT设备信息绑定到模型上，点击绑定。作为本技术方案的进一步改进，所述S3中对IoT设备远程操作控制方法步骤如下所示：S3.1、在设备列表获取完成的绑定模型，点击按钮启动，启动对应的IoT设备并进行设备的远程监控；S3.2、点击按钮关闭，关闭IoT设备的远程监控；S3.3、点击状态获取，获取对应IoT设备的实时状态。作为本技术方案的进一步改进，所述S4中批量导出模型数据的步骤如下：S4.1、将读取到的数据通过数据清洗、数据转换得到所需要的模型信息在界面上展示；S4.2、点击数据导出，将对应模型数据导出为文件；S4.3、对应模型数据流转至运维平台或者其他平台使用。作为本技术方案的进一步改进，所述S4.1数据清洗、数据转换方法步骤如下所示：S4.1.1、对原始数据进行提取，得出原始数据数簇排列方式；S4.1.2、对原始数据中冗余数据进行筛分去除；S4.1.2、将筛分后的原始数据进行数据转换，转换成运维平台或者其他平台能够识别的数据。作为本技术方案的进一步改进，所述S4.1.2中对原始数据中冗余数据进行筛分采用冗余去除算法，其算法公式如下所示：；；；其中 ~ 为模型原始数据各个数簇，为模型原始数据各个数簇的映射数簇集， ~ 为模型原始数据各个数簇映射后的映射数簇，为各个映射数簇的集合，为各个映射数簇的集合中重复数簇重复率，为各个映射数簇的集合中的相同数簇之和，为各个映射数簇总和，为重复数簇重复率阈值，当大于 ，表示该各个映射数簇的集合出现了冗余数据，对冗余数据中的数簇进行标识，然后进行去除，当小于 ，表示该各个映射数簇的集合未出现了冗余数据。作为本技术方案的进一步改进，所述S5中配置授权信息和模型对应的设备信息配置步骤如下：S5.1、识别模型对应的授权信息；S5.2、根据模型对应的授权信息配备合适的设备信息；S5.3、通过HTTP+MQTT协议传递对应的参数和控制数据。作为本技术方案的进一步改进，所述S6中设备接收到对应参数和控制数据执行相应的动作的执行步骤如下：S6.1、Revit客户端发出参数控制指令，生成指令信息；S6.2、将指令信息转换成设备端可识别数据；S6.3、设备接收可识别数据，并执行响应动作。与现有技术相比，本发明的有益效果：1、该基于BIM的IoT客户端轻量化运维方法中，IoT客户端轻量化运维通过原生Revit API，将IoT设备与模型建立映射关系，实现了不需要经过任何Web端平台便可以形成运维IoT设备的连接与监控闭环，真正实现了原生的BIM+IoT。并且通过Revit数据的转换与导出实现了Revit信息的本地化，提升了工作效率，减少了人为的重复性工作。2、该基于BIM的IoT客户端轻量化运维方法中，将筛分后的原始数据进行数据转换，转换成运维平台或者其他平台能够识别的数据，对数据进行兼容性处理，避免模型出现错位、数据错误、数据丢失、模型加载失败等问题。附图说明图1为本发明的整体步骤流程图；图2为本发明实施例1的Revit客户端安装方法流程图；图3为本发明实施例1的Revit模型与IoT设备的映射方法流程图；图4为本发明实施例1的IoT设备远程操作控制方法步骤流程图；图5为本发明实施例1的批量导出模型数据的步骤流程图；图6为本发明实施例1的数据清洗、数据转换方法步骤流程图；图7为本发明实施例1的配置授权信息和设备信息配置步骤流程图；图8为本发明实施例1的接收对应参数和控制数据步骤流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在本发明的描述中，需要理解的是，术语“中心”、“纵向”、“横向”、“长度”、“宽度”、“厚度”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”、“内”、“外”、“顺时针”、“逆时针”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的设备或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本发明的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。实施例1请参阅图1-图8所示，本实施例目的在于，提供了一种基于BIM的IoT客户端轻量化运维方法，包括如下步骤：S1、Revit客户端安装中恒运维助手-IoT客户端轻量化运维模块；S2、建立Revit模型与IoT设备的映射关系；S3、通过设备列表对IoT设备远程操作控制；S4、批量导出模型数据；S5、配置好授权信息和模型对应的设备信息，通过HTTP+MQTT协议传递参数和控制数据；S6、设备接收到对应参数和控制数据执行相应的动作。具体使用时，IoT客户端轻量化运维通过原生Revit API，将IoT设备与模型建立映射关系，实现了不需要经过任何Web端平台便可以形成运维IoT设备的连接与监控闭环，真正实现了原生的BIM+IoT。并且通过Revit数据的转换与导出实现了Revit信息的本地化，提升了工作效率，减少了人为的重复性工作。此外，S1中Revit客户端安装方法包括如下步骤：S1.1、打开Revit，在菜单栏打开“IoT客户端轻量化运维”；S1.2、在界面上输入Access ID和Access Secret授权信息，制定客户端访问ID以及客户端访问ID对应的客户端访问ID密码，提供受访地址信息，同时通过客户端访问ID密码限制访问权限，避免Revit模型泄漏。进一步的，S2中建立Revit模型与IoT设备的映射方法包括如下步骤：S2.1、通过Revit API读取Revit DB数据库，获取模型的数据，Revit DB为数据层，Revit API为原生层；S2.2、将IoT设备在IoT平台进行注册配网，获取到授权信息和设备信息；S2.3、将IoT智能设备信息写入Revit DB，与Revit模型建立对应关系；S2.4、选中所需要绑定的Revit模型，将IoT设备信息绑定到模型上，点击绑定。再进一步的，S3中对IoT设备远程操作控制方法步骤如下所示：S3.1、在设备列表获取完成的绑定模型，点击按钮启动，启动对应的IoT设备并进行设备的远程监控；S3.2、点击按钮关闭，关闭IoT设备的远程监控；S3.3、点击状态获取，获取对应IoT设备的实时状态。具体的，S4中批量导出模型数据的步骤如下：S4.1、将读取到的数据通过数据清洗、数据转换得到所需要的模型信息在界面上展示；S4.2、点击数据导出，将对应模型数据导出为文件；S4.3、对应模型数据流转至运维平台或者其他平台使用。此外，S4.1数据清洗、数据转换方法步骤如下所示：S4.1.1、对原始数据进行提取，得出原始数据数簇排列方式；S4.1.2、对原始数据中冗余数据进行筛分去除；S4.1.2、将筛分后的原始数据进行数据转换，转换成运维平台或者其他平台能够识别的数据，对数据进行兼容性处理，避免模型出现错位、数据错误、数据丢失、模型加载失败等问题。进一步的，S4.1.2中对原始数据中冗余数据进行筛分采用冗余去除算法，其算法公式如下所示：；；；其中 ~ 为模型原始数据各个数簇，为模型原始数据各个数簇的映射数簇集， ~ 为模型原始数据各个数簇映射后的映射数簇，为各个映射数簇的集合，为各个映射数簇的集合中重复数簇重复率，为各个映射数簇的集合中的相同数簇之和，为各个映射数簇总和，为重复数簇重复率阈值，当大于 ，表示该各个映射数簇的集合出现了冗余数据，对冗余数据中的数簇进行标识，然后进行去除，当小于 ，表示该各个映射数簇的集合未出现了冗余数据。再进一步的，S5中配置授权信息和模型对应的设备信息配置步骤如下：S5.1、识别模型对应的授权信息；S5.2、根据模型对应的授权信息配备合适的设备信息；S5.3、通过HTTP+MQTT协议传递对应的参数和控制数据。此外，S6中设备接收到对应参数和控制数据执行相应的动作的执行步骤如下：S6.1、Revit客户端发出参数控制指令，生成指令信息；S6.2、将指令信息转换成设备端可识别数据；S6.3、设备接收可识别数据，并执行响应动作。以上显示和描述了本发明的基本原理、主要特征和本发明的优点。本行业的技术人员应该了解，本发明不受上述实施例的限制，上述实施例和说明书中描述的仅为本发明的优选例，并不用来限制本发明，在不脱离本发明精神和范围的前提下，本发明还会有各种变化和改进，这些变化和改进都落入要求保护的本发明范围内。本发明要求保护范围由所附的权利要求书及其等效物界定。
