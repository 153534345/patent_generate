标题title
协议适配方法、装置、设备及存储介质
摘要abst
本发明提供一种协议适配方法、装置、设备及存储介质，该方法应用于网络通信技术领域，该方法包括：响应于客户端发送的待适配协议请求报文，从适配流程库中获得待适配协议请求报文对应的目标报文转换流程；调用目标报文转换流程，获得待适配协议请求报文对应的待适配协议响应报文；将待适配协议响应报文发送至客户端，以使客户端对待适配协议响应报文进行处理。本发明通过在适配端设备中设置图形编程软件，支持在图形编程界面中进行动态编码，使得协议的配置流程更灵活，简化了协议适配的开发过程，提高了协议适配方法的效率，降低了开发成本。
权利要求书clms
1.一种协议适配方法，其特征在于，包括：响应于客户端发送的待适配协议请求报文，从适配流程库中获得所述待适配协议请求报文对应的目标报文转换流程，其中所述适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的；调用所述目标报文转换流程，获得所述待适配协议请求报文对应的待适配协议响应报文；将所述待适配协议响应报文发送至客户端，以使所述客户端对所述待适配协议响应报文进行处理。2.根据权利要求1所述的方法，其特征在于，所述从适配流程库中获得所述待适配协议请求报文对应的目标报文转换流程，包括：对所述待适配协议请求报文进行解析获得待适配协议标识以及目标协议标识，根据所述待适配协议标识以及所述目标协议标识确定目标接入端协议标识以及目标输出端协议标识；根据所述目标接入端协议标识以及所述目标输出端协议标识从适配流程库中获得目标报文转换流程，其中所述适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的，所述每个适配流程图中包含接入端协议标识、输出端协议标识以及报文转换流程。3.根据权利要求1所述的方法，其特征在于，所述调用所述目标报文转换流程，获得所述待适配协议请求报文对应的待适配协议响应报文，包括：对所述待适配协议请求报文进行解析获得待处理报文，并对所述待处理报文进行封装获得目标协议请求报文，将所述目标协议请求报文发送至服务端，以使所述服务端对所述目标协议请求报文进行处理，生成目标协议响应报文并返回至适配端；对所述目标协议响应报文进行解析获得目标报文，并对所述目标报文进行封装获得待适配协议响应报文，将所述待适配协议响应报文发送至客户端，以使所述客户端对所述待适配协议响应报文进行处理。4.根据权利要求3所述的方法，其特征在于，所述对所述待适配协议请求报文进行解析获得待处理报文，并对所述待处理报文进行封装获得目标协议请求报文，包括：获得所述目标报文转换流程包含的目标接入报文解码组件，并调用所述目标接入报文解码组件对应的接入报文解码实例对所述待适配协议请求报文进行解析获得待处理报文；获得所述目标报文转换流程包含的目标接入报文封装组件，并调用所述目标接入报文封装组件对应的接入报文封装实例对所述待处理报文进行封装获得目标协议请求报文。5.根据权利要求3所述的方法，其特征在于，所述对所述目标协议响应报文进行解析获得目标报文，并对所述目标报文进行封装获得待适配协议响应报文，包括：获得所述目标报文转换流程包含的目标输出报文解码组件，并调用所述目标输出报文解码组件对应的输出报文解码实例对所述目标协议响应报文进行解析获得目标报文；获得所述目标报文转换流程包含的目标输出报文封装组件，并调用所述目标输出报文封装组件对应的输出报文封装实例对所述目标报文进行封装获得待适配协议响应报文。6.根据权利要求4所述的方法，其特征在于，在所述调用所述目标接入报文解码组件对应的接入报文解码实例对所述待适配协议请求报文进行解析获得待处理报文之后，还包括：将所述待处理报文存储至预设变量存储模块中，获得待处理报文存储地址；相应地，所述调用所述目标接入报文封装组件对应的接入报文封装实例对所述待处理报文进行封装获得目标协议请求报文，包括：调用所述目标接入报文封装组件对应的接入报文封装实例，将所述待处理报文存储地址的数据与所述接入报文封装实例对应的接入报文格式进行映射和封装，获得目标协议请求报文。7.根据权利要求5所述的方法，其特征在于，在所述调用所述目标输出报文解码组件对应的输出报文解码实例对所述目标协议响应报文进行解析获得目标报文之后，还包括：将所述目标报文存储至预设变量存储模块中，获得目标报文存储地址；相应地，所述调用所述目标输出报文封装组件对应的输出报文封装实例对所述目标报文进行封装获得待适配协议响应报文，包括：调用所述目标输出报文封装组件对应的输出报文封装实例，将所述目标报文存储地址的数据与所述输出报文封装实例对应的输出报文格式进行映射和封装，获得待适配协议响应报文。8.根据权利要求2所述的方法，其特征在于，所述根据所述目标接入端协议标识以及所述目标输出端协议标识从适配流程库中获得目标报文转换流程，包括：根据所述目标接入端协议标识以及所述目标输出端协议标识确定目标转换标识；根据预存程序运行向量表获得所述目标转换标识对应的目标转换程序地址，并根据所述目标转换程序地址获得所述目标报文转换流程，其中所述预存程序运行向量表中存储了适配流程库中所有适配流程的标识以及对应的绝对存储地址。9.根据权利要求1至8任一项所述的方法，其特征在于，还包括：响应于接收到的功能需求，根据所述功能需求确定功能适配流程；将所述功能需求对应的功能模块封装为功能组件，根据所述功能适配流程以及所述功能组件生成新的适配流程，其中所述新的适配流程与所述功能需求相匹配。10.一种协议适配装置，其特征在于，包括：获得模块，用于响应于客户端发送的待适配协议请求报文，从适配流程库中获得所述待适配协议请求报文对应的目标报文转换流程，其中所述适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的；调用模块，用于调用所述目标报文转换流程，获得所述待适配协议请求报文对应的待适配协议响应报文；发送模块，用于将所述待适配协议响应报文发送至客户端，以使所述客户端对所述待适配协议响应报文进行处理。11.一种电子设备，其特征在于，包括：至少一个处理器和存储器；所述存储器存储计算机执行指令；所述至少一个处理器执行所述存储器存储的计算机执行指令，使得所述至少一个处理器执行如权利要求1至9任一项所述的协议适配方法。12.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机执行指令，当处理器执行所述计算机执行指令时，实现如权利要求1至9任一项所述的协议适配方法。13.一种计算机程序产品，包括计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至9任一项所述的协议适配方法。
说明书desc
技术领域本发明涉及网络通信技术领域，尤其涉及一种协议适配方法、装置、设备及存储介质。背景技术在面向多系统网络交互的业务处理过程中，为实现不同网络通信协议的转换，适配端设备通常需要分别为每个请求端设备的接口类型进行硬编码，以实现协议解析、报文转换、协议返回等开发。然而，现有技术中通过硬编码实现通信协议适配方法的灵活性较差，当根据接入新的通信协议时，需要重新对源代码进行开发和编译，存在开发成本高且开发周期长的问题。发明内容本发明提供一种协议适配方法、装置、设备及存储介质，通过提出一种通过在图形编程软件中编辑协议适配流程图方法，简化了协议适配的开发过程，降低了开发成本。第一方面，本发明提供一种协议适配方法，包括：响应于客户端发送的待适配协议请求报文，从适配流程库中获得所述待适配协议请求报文对应的目标报文转换流程，其中所述适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的；调用所述目标报文转换流程，获得所述待适配协议请求报文对应的待适配协议响应报文；将所述待适配协议响应报文发送至客户端，以使所述客户端对所述待适配协议响应报文进行处理。这里，本发明提出了一种协议适配方法，应用于适配端设备，该适配端设备接收客户端设备发送的待适配协议请求报文，响应于客户端发送的待适配协议请求报文，对待适配协议请求报文进行解析，从适配流程库中获得待适配协议请求报文对应的目标报文转换流程，其中适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的；调用目标报文转换流程，获得待适配协议请求报文对应的待适配协议响应报文；将待适配协议响应报文发送至客户端，以使客户端对待适配协议响应报文进行处理。本发明通过在适配端设备中设置图形编程软件，当需要为通信协议提供协议适配方法时，可以通过在图形编程软件中编辑适配流程图，并对适配流程图进行编译获得对应的报文转换流程，支持在图形编程界面中进行动态编码，使得协议的配置流程更灵活，简化了协议适配的开发过程，提高了协议适配方法的效率，降低了开发成本。在一种可能的设计中，对所述待适配协议请求报文进行解析，获得所述待适配协议请求报文对应的目标报文转换流程，包括：对所述待适配协议请求报文进行解析，获得待适配协议标识以及目标协议标识；根据所述待适配协议标识以及所述目标协议标识确定目标接入端协议标识以及目标输出端协议标识，并根据所述目标接入端协议标识以及所述目标输出端协议标识从适配流程库中获得目标报文转换流程，其中所述适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的，所述每个适配流程图中包含接入端协议标识、输出端协议标识以及报文转换流程。这里，本发明通过设置根据所述目标接入端协议标识以及所述目标输出端协议标识从适配流程库中获得目标报文转换流程，建立了待适配的协议与对应的报文转换流程之间的映射关系，实现了根据解析后获得的待适配协议标识以及目标协议标识确定目标报文转换流程的方法，实现了不同协议的灵活适配。在一种可能的设计中，所述调用所述目标报文转换流程，获得所述待适配协议请求报文对应的待适配协议响应报文，包括：对所述待适配协议请求报文进行解析获得待处理报文，并对所述待处理报文进行封装获得目标协议请求报文，将所述目标协议请求报文发送至服务端，以使所述服务端对所述目标协议请求报文进行处理，生成目标协议响应报文并返回至适配端；对所述目标协议响应报文进行解析获得目标报文，并对所述目标报文进行封装获得待适配协议响应报文，将所述待适配协议响应报文发送至客户端，以使所述客户端对所述待适配协议响应报文进行处理。在一种可能的设计中，所述对所述待适配协议请求报文进行解析获得待处理报文，并对所述待处理报文进行封装获得目标协议请求报文，包括：获得所述目标报文转换流程包含的目标接入报文解码组件，并调用所述目标接入报文解码组件对应的接入报文解码实例对所述待适配协议请求报文进行解析获得待处理报文；获得所述目标报文转换流程包含的目标接入报文封装组件，并调用所述目标接入报文封装组件对应的接入报文封装实例对所述待处理报文进行封装获得目标协议请求报文。在一种可能的设计中，所述对所述目标协议响应报文进行解析获得目标报文，并对所述目标报文进行封装获得待适配协议响应报文，包括：获得所述目标报文转换流程包含的目标输出报文解码组件，并调用所述目标输出报文解码组件对应的输出报文解码实例对所述目标协议响应报文进行解析获得目标报文；获得所述目标报文转换流程包含的目标输出报文封装组件，并调用所述目标输出报文封装组件对应的输出报文封装实例对所述目标报文进行封装获得待适配协议响应报文。这里，本发明通过设置报文转换流程包含接入报文解码组件、接入报文封装组件、输出报文解码组件以及输出报文封装组件实现报文的解析和封装，提供了不同协议适配需要的报文编解码组件，实现了不同通信协议的灵活适配，实现了不同协议报文的转发。在一种可能的设计中，在所述调用所述目标接入报文解码组件对应的接入报文解码实例对所述待适配协议请求报文进行解析获得待处理报文之后，还包括：将所述待处理报文存储至预设变量存储模块中，获得待处理报文存储地址；相应地，所述调用所述目标接入报文封装组件对应的接入报文封装实例对所述待处理报文进行封装获得目标协议请求报文，包括：调用所述目标接入报文封装组件对应的接入报文封装实例，将所述待处理报文存储地址的数据与所述接入报文封装实例对应的接入报文格式进行映射和封装，获得目标协议请求报文。在一种可能的设计中，在所述调用所述目标输出报文解码组件对应的输出报文解码实例对所述目标协议响应报文进行解析获得目标报文之后，还包括：将所述目标报文存储至预设变量存储模块中，获得目标报文存储地址；相应地，所述调用所述目标输出报文封装组件对应的输出报文封装实例对所述目标报文进行封装获得待适配协议响应报文，包括：调用所述目标输出报文封装组件对应的输出报文封装实例，将所述目标报文存储地址的数据与所述输出报文封装实例对应的输出报文格式进行映射和封装，获得待适配协议响应报文。这里，本发明通过设置专用于存储解析后获得的报文以及待封装的报文的变量存储模块，根据调用目标接入报文封装组件对应的接入报文封装实例以及调用目标输出报文封装组件对应的输出报文封装实例，获得目标协议请求报文，实现了不同协议报文的转发。在一种可能的设计中，所述根据所述目标接入端协议标识以及所述目标输出端协议标识从适配流程库中获得目标报文转换流程，包括：根据所述目标接入端协议标识以及所述目标输出端协议标识确定目标转换标识；根据预存程序运行向量表获得所述目标转换标识对应的目标转换程序地址，并根据所述目标转换程序地址获得所述目标报文转换流程，其中所述预存程序运行向量表中存储了适配流程库中所有适配流程的标识以及对应的绝对存储地址。这里，本发明通过设置在程序运行向量表中存储目标转换标识对应的目标转换程序地址，并根据目标转换程序地址获得目标报文转换流程，将目标转换程序地址与转换标识进行映射，实现了利用转换标识获得转换程序地址，实现了调用目标报文转换流程的目的。在一种可能的设计中，所述方法还包括：响应于接收到的功能需求，根据功能需求确定功能适配流程；将功能需求对应的功能模块封装为功能组件，根据功能适配流程以及功能组件生成新的适配流程，其中新的适配流程与功能需求相匹配。这里，本发明通过在原有的协议适配流程基础上，可根据功能需求封装获得功能组件，并根据功能适配流程以及功能组件生成新的适配流程。扩展了适配流程的功能。第二方面，本发明提供一种协议适配装置，包括：获得模块，用于响应于客户端发送的待适配协议请求报文，对所述待适配协议请求报文进行解析，获得所述待适配协议请求报文对应的目标报文转换流程；调用模块，用于调用所述目标报文转换流程，获得所述待适配协议请求报文对应的待适配协议响应报文；发送模块，用于将所述待适配协议响应报文发送至客户端，以使所述客户端对所述待适配协议响应报文进行处理。第三方面，本发明提供一种电子设备，包括：至少一个处理器和存储器；所述存储器存储计算机执行指令；所述至少一个处理器执行所述存储器存储的计算机执行指令，使得所述至少一个处理器执行如上第一方面以及第一方面各种可能的设计所述的协议适配方法。第四方面，本发明提供一种计算机存储介质，所述计算机存储介质中存储有计算机执行指令，当处理器执行所述计算机执行指令时，实现如上第一方面以及第一方面各种可能的设计所述的协议适配方法。第五方面，本发明提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现如上第一方面以及第一方面各种可能的设计所述的协议适配方法。本发明提供的协议适配方法、装置、设备及存储介质，通过在适配端设备中设置图形编程软件，当需要为通信协议提供协议适配方法时，可以通过在图形编程软件中编辑适配流程图，并对适配流程图进行编译获得对应的报文转换流程，支持在图形编程界面中进行动态编码，使得协议的配置流程更灵活，简化了协议适配的开发过程，提高了协议适配方法的效率，降低了开发成本。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的协议适配方法应用场景示意图；图2为本发明实施例提供的协议适配方法流程示意图一；图3为本发明提供的调用目标报文转换流程示意图；图4为本发明实施例提供的协议适配方法流程示意图二；图5为本发明实施例提供的协议适配方法流程示意图三；图6为本发明实施例提供的协议适配装置的结构示意图；图7为本发明实施例提供的电子设备的硬件结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明的技术方案中，所涉及的金融数据或用户数据等信息的收集、存储、使用、加工、传输、提供和公开等处理，均符合相关法律法规的规定，且不违背公序良俗。在网络系统中，需要设置业务服务端需要与支持不同通信协议的平台建立数据通信。在面向多系统网络交互的业务处理过程中，为实现不同网络通信协议的转换，适配端设备通常需要分别为每个请求端设备的接口类型进行硬编码，以实现协议解析、报文转换、协议返回等开发。然而，现有技术中通过硬编码实现通信协议适配方法的灵活性较差，当根据接入新的通信协议时，需要重新对源代码进行开发和编译，存在开发成本高且开发周期长的问题。为了解决上述技术问题，本发明实施例提出以下技术方案：通过在适配端设备中设置图形编程软件，当需要为通信协议提供协议适配方法时，可以通过在图形编程软件中编辑适配流程图，并对适配流程图进行编译获得对应的报文转换流程，支持在图形编程界面中进行动态编码，使得协议的配置流程更灵活，简化了协议适配的开发过程，提高了协议适配方法的效率，降低了开发成本。下面采用详细的实施例进行详细说明。图1是本发明实施例提供的协议适配方法应用场景示意图。如图1所示，本发明实施例提供的协议适配方法应用场景中包含客户端、适配端以及服务端。其中，客户端为网络请求端设备，根据业务需求生成待适配协议请求报文，适配端为接入端设备，用于将待适配协议请求报文转发至服务端，并将服务端返回的响应报文返回至客户端。其中服务端为业务处理设备，服务端根据待适配协议请求中的业务需求进行业务处理，并生成业务响应报文。可以理解的是，本发明实施例示意的应用场景并不构成对实现内核匹配方法应用实体的具体限定。在本发明另一些可行的实施方式中，上述架构可以包括比图示更多或更少的部件，或者组合某些部件，或者拆分某些部件，或者不同的部件布置，具体可根据实际应用场景确定，在此不做限制。图1所示的部件可以以硬件，软件，或软件与硬件的组合实现。在具体实现过程中，设备端的电子设备可以包括输入/输出接口，也可以包括通信接口。应理解，上述处理设备可以通过处理器读取存储器中的指令并执行指令的方式实现，也可以通过芯片电路实现。另外，本发明实施例描述的网络架构以及业务场景是为了更加清楚的说明本发明实施例的技术方案，并不构成对于本发明实施例提供的技术方案的限定，本领域普通技术人员可知，随着网络架构的演变和新业务场景的出现，本发明实施例提供的技术方案对于类似的技术问题，同样适用。图2为本发明实施例提供的协议适配方法流程示意图一，本实施例的执行主体可以为图1所示实施例中的适配端，本实施例此处不做特别限制。如图2所示，该方法包括：S201：响应于客户端发送的待适配协议请求报文，从适配流程库中获得待适配协议请求报文对应的目标报文转换流程，其中适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的。在本发明实施例中，在接收到客户端发送的待适配协议请求报文之后，对待适配协议请求报文进行解析获得待适配协议标识以及目标协议标识。示例性的，待适配协议请求报文中待适配协议请求报文中包含待适配协议标识和目标协议标识，还包含客户端的业务需求报文以及目标服务端的设备标识。在本发明实施例中，具体的，可根据待适配协议标识以及目标协议标识确定目标接入端协议标识以及目标输出端协议标识。其中，待适配协议标识与客户端的设备接口适用的协议匹配，目标协议标识与服务端的设备接口适用的协议匹配。在本发明实施例中，根据目标接入端协议标识以及目标输出端协议标识从适配流程库中获得目标报文转换流程。其中适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的，每个适配流程图中包含接入端协议标识、输出端协议标识以及报文转换流程。S202：调用目标报文转换流程，获得待适配协议请求报文对应的待适配协议响应报文。图3为本发明提供的调用目标报文转换流程示意图。在本发明实施例中，适配端调用目标报文转换流程，获得待适配协议请求报文对应的待适配协议响应报文的具体过程如图3所示：S2021：对待适配协议请求报文进行解析获得待处理报文。示例性的，获得目标报文转换流程包含的目标接入报文解码组件，并调用目标接入报文解码组件对应的接入报文解码实例对待适配协议请求报文进行解析获得待处理报文。S2022：将待处理报文存储至预设变量存储模块中，获得待处理报文存储地址。S2023：对待处理报文进行封装获得目标协议请求报文，将目标协议请求报文发送至服务端。示例性的，获得目标报文转换流程包含的目标接入报文封装组件，并调用目标接入报文封装组件对应的接入报文封装实例对待处理报文进行封装获得目标协议请求报文。具体的，调用目标接入报文封装组件对应的接入报文封装实例，将待处理报文存储地址的数据与接入报文封装实例对应的接入报文格式进行映射和封装，获得目标协议请求报文。服务端对目标协议请求报文进行处理，生成目标协议响应报文。S2024：接收目标协议响应报文。S2025：对返回的目标协议响应报文进行解析获得目标报文。示例性的，获得目标报文转换流程包含的目标输出报文解码组件，并调用目标输出报文解码组件对应的输出报文解码实例对目标协议响应报文进行解析获得目标报文。S2026：将目标报文存储至预设变量存储模块中，获得目标报文存储地址。S2027：对目标报文进行封装获得待适配协议响应报文。示例性的，获得目标报文转换流程包含的目标输出报文封装组件，并调用目标输出报文封装组件对应的输出报文封装实例对目标报文进行封装获得待适配协议响应报文。具体的，调用目标输出报文封装组件对应的输出报文封装实例，将目标报文存储地址的数据与输出报文封装实例对应的输出报文格式进行映射和封装，获得待适配协议响应报文。S203：将待适配协议响应报文发送至客户端，以使客户端对待适配协议响应报文进行处理。在本发明实施例中，可通过调用目标报文转换流程中的报文返回组件，将将待适配协议响应报文发送至客户端，以使客户端对待适配协议响应报文进行解析，获得与业务需求匹配的业务数据。本发明实施例提供的协议适配方法，根据客户端发送的待适配协议请求报文，从适配流程库中获得待适配协议请求报文对应的目标报文转换流程，并调用目标报文转换流程，获得待适配协议请求报文对应的待适配协议响应报文。本发明通过在适配端设备中设置图形编程软件，当需要为新增加的通信协议提供协议适配方法时，可以通过在图形编程软件中编辑适配流程图，并对适配流程图进行编译获得对应的报文转换流程，支持在图形编程界面中进行动态编码，使得协议的配置流程更灵活，简化了协议适配的开发过程，提高了协议适配方法的效率，降低了开发成本。图4为本发明实施例提供的协议适配方法流程示意图二。如图4所示，在图2提供的协议适配方法流程基础上，本发明实施例提供了从适配流程库中获得所述待适配协议请求报文对应的目标报文转换流程的具体实现方法，该方法包括以下步骤：S401：对待适配协议请求报文进行解析获得待适配协议标识以及目标协议标识，根据待适配协议标识以及目标协议标识确定目标接入端协议标识以及目标输出端协议标识。在本发明实施例中，对待适配协议请求报文进行解析获得待适配协议标识以及目标协议标识。示例性的，待适配协议请求报文中待适配协议请求报文中包含待适配协议标识和目标协议标识，还包含客户端的业务需求报文以及目标服务端的设备标识。S402：根据目标接入端协议标识以及目标输出端协议标识确定目标转换标识。在本发明实施例中，为了实现通信协议适配和报文格式的转换，预存了、接入端协议标识、输出端协议标识以及目标转换标识一一对应的匹配表。该匹配表是根据所有适配流程图以及对应的报文转换流程生成的。接入端协议标识和输出端协议标识分别为适配流程图中的接入协议标识以及输出协议标识，目标转换标识为存储报文转换流程时分配的标识。S403：根据预存程序运行向量表获得目标转换标识对应的目标转换程序地址，并根据目标转换程序地址获得目标报文转换流程，其中预存程序运行向量表中存储了适配流程库中所有适配流程的标识以及对应的绝对存储地址。在本发明实施例中，为了扩展报文转换流程的适用设备以及适用场景，可将目标报文转换流程与标识进行匹配绑定，即不限定目标报文转换流程对应的程序组件的存储地址，而是通过在程序运行向量表中存储目标转换标识以及对应的目标转换程序地址。具体的，预存程序运行向量表中存储了适配流程库中所有适配流程的标识以及对应的绝对存储地址。本实施例提供的协议适配方法，通过设置在程序运行向量表中存储目标转换标识对应的目标转换程序地址，并根据目标转换程序地址获得目标报文转换流程，将目标转换程序地址与转换标识进行映射，实现了利用转换标识获得转换程序地址，实现了调用目标报文转换流程的目的。图5为本发明实施例提供的协议适配方法流程示意图三。如图5所示，在图2和图3提供的实施例提供的完成协议适配过程的基础上，本发明实施例提供了扩展适配流程支持的功能的方法，该方法包括以下步骤：S501：响应于接收到的功能需求，根据功能需求确定功能适配流程。在本发明实施例提供的协议适配方法基础上，为了扩展适配端设备的功能，可通过在图像编程软件的界面上提交功能需求，例如穿透功能、协议编解码器功能、超时流控功能、字符集功能、路由功能以及响应码功能等。图像编程软件根据提交功能需求在当前的适配流程中确定匹配的功能适配流程S502：将功能需求对应的功能模块封装为功能组件，根据功能适配流程以及功能组件生成新的适配流程，其中新的适配流程与功能需求相匹配。本实施例提供的协议适配方法，通过获得图像编程软件的界面上提交功能需求，将功能需求对应的功能模块封装为可调用的功能组件。并根据功能适配流程以及功能组件生成新的适配流程，使得生成的新的适配流程与功能需求相匹配。本实施例提供的协议适配方法，在原有的协议适配流程基础上，可通过在图像编程软件的界面上提交功能需求，根据功能需求封装获得功能组件，并根据功能适配流程以及功能组件生成新的适配流程，扩展了适配流程的功能，简化了功能扩展的开发过程，降低了开发成本。图6为本发明实施例提供的协议适配装置的结构示意图。如图6所示，该协议适配装置包括：获得模块601、调用模块602以及发送模块603。获得模块601，用于响应于客户端发送的待适配协议请求报文，从适配流程库中获得所述待适配协议请求报文对应的目标报文转换流程，其中所述适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的。调用模块602，用于调用所述目标报文转换流程，获得所述待适配协议请求报文对应的待适配协议响应报文。发送模块603，用于将所述待适配协议响应报文发送至客户端，以使所述客户端对所述待适配协议响应报文进行处理。在一种可能的实现方式中，获得模块601，具体用于对所述待适配协议请求报文进行解析获得待适配协议标识以及目标协议标识，根据所述待适配协议标识以及所述目标协议标识确定目标接入端协议标识以及目标输出端协议标识；根据所述目标接入端协议标识以及所述目标输出端协议标识从适配流程库中获得目标报文转换流程，其中所述适配流程库中的每个适配流程是对图形编程软件中输入的每个适配流程图进行编译获得的，所述每个适配流程图中包含接入端协议标识、输出端协议标识以及报文转换流程。在一种可能的实现方式中，调用模块602，具体用于对所述待适配协议请求报文进行解析获得待处理报文，并对所述待处理报文进行封装获得目标协议请求报文，将所述目标协议请求报文发送至服务端，以使所述服务端对所述目标协议请求报文进行处理，生成目标协议响应报文并返回至适配端；对所述目标协议响应报文进行解析获得目标报文，并对所述目标报文进行封装获得待适配协议响应报文，将所述待适配协议响应报文发送至客户端，以使所述客户端对所述待适配协议响应报文进行处理。在一种可能的实现方式中，调用模块602，具体用于获得所述目标报文转换流程包含的目标接入报文解码组件，并调用所述目标接入报文解码组件对应的接入报文解码实例对所述待适配协议请求报文进行解析获得待处理报文；获得所述目标报文转换流程包含的目标接入报文封装组件，并调用所述目标接入报文封装组件对应的接入报文封装实例对所述待处理报文进行封装获得目标协议请求报文。在一种可能的实现方式中，调用模块602，具体用于获得所述目标报文转换流程包含的目标输出报文解码组件，并调用所述目标输出报文解码组件对应的输出报文解码实例对所述目标协议响应报文进行解析获得目标报文；获得所述目标报文转换流程包含的目标输出报文封装组件，并调用所述目标输出报文封装组件对应的输出报文封装实例对所述目标报文进行封装获得待适配协议响应报文。在一种可能的实现方式中，协议适配装置还包括存储模块，具体用于将所述待处理报文存储至预设变量存储模块中，获得待处理报文存储地址，相应地，调用模块602具体用于调用所述目标接入报文封装组件对应的接入报文封装实例，将所述待处理报文存储地址的数据与所述接入报文封装实例对应的接入报文格式进行映射和封装，获得目标协议请求报文。在一种可能的实现方式中，存储模块还用于将所述目标报文存储至预设变量存储模块中，获得目标报文存储地址，相应地，调用模块602具体用于调用所述目标输出报文封装组件对应的输出报文封装实例，将所述目标报文存储地址的数据与所述输出报文封装实例对应的输出报文格式进行映射和封装，获得待适配协议响应报文。在一种可能的实现方式中，协议适配装置还包括确定模块，具体用于根据所述目标接入端协议标识以及所述目标输出端协议标识确定目标转换标识；根据预存程序运行向量表获得所述目标转换标识对应的目标转换程序地址，并根据所述目标转换程序地址获得所述目标报文转换流程，其中所述预存程序运行向量表中存储了适配流程库中所有适配流程的标识以及对应的绝对存储地址。在一种可能的实现方式中，协议适配装置还包括生成模块，具体用于响应于接收到的功能需求，根据所述功能需求确定功能适配流程；将所述功能需求对应的功能模块封装为功能组件，根据所述功能适配流程以及所述功能组件生成新的适配流程，其中所述新的适配流程与所述功能需求相匹配。本实施例提供的装置，可用于执行上述方法实施例的技术方案，其实现原理和技术效果类似，本实施例此处不再赘述。图7为本发明实施例提供的电子设备的硬件结构示意图。如图7所示，本实施例的电子设备包括：处理器701以及存储器702；其中，存储器702，用于存储计算机执行指令；处理器701，用于执行存储器存储的计算机执行指令，以实现上述实施例中电子设备所执行的各个步骤。具体可以参见前述方法实施例中的相关描述。可选地，存储器702既可以是独立的，也可以跟处理器701集成在一起。当存储器702独立设置时，该电子设备还包括总线703，用于连接所述存储器702和处理器701。本发明实施例还提供一种计算机存储介质，所述计算机存储介质中存储有计算机执行指令，当处理器执行所述计算机执行指令时，实现如上所述的协议适配方法。本发明实施例还提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时，实现如上所述的协议适配方法。本发明实施例还提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时，实现如上所述的协议适配方法。在本发明所提供的几个实施例中，应该理解到，所揭露的设备和方法，可以通过其它的方式实现。例如，以上所描述的设备实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个模块可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或模块的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案。另外，在本发明各个实施例中的各功能模块可以集成在一个处理单元中，也可以是各个模块单独物理存在，也可以两个或两个以上模块集成在一个单元中。上述模块成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能单元的形式实现。上述以软件功能模块的形式实现的集成的模块，可以存储在一个计算机可读取存储介质中。上述软件功能模块存储在一个存储介质中，包括若干指令用以使得一台计算机设备或处理器执行本发明各个实施例所述方法的部分步骤。应理解，上述处理器可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合发明所公开的方法的步骤可以直接体现为硬件处理器执行完成，或者用处理器中的硬件及软件模块组合执行完成。存储器可能包含高速RAM存储器，也可能还包括非易失性存储NVM，例如至少一个磁盘存储器，还可以为U盘、移动硬盘、只读存储器、磁盘或光盘等。总线可以是工业标准体系结构总线、外部设备互连总线或扩展工业标准体系结构总线等。总线可以分为地址总线、数据总线、控制总线等。为便于表示，本发明附图中的总线并不限定仅有一根总线或一种类型的总线。上述存储介质可以是由任何类型的易失性或非易失性存储设备或者它们的组合实现，如静态随机存取存储器，电可擦除可编程只读存储器，可擦除可编程只读存储器，可编程只读存储器，只读存储器，磁存储器，快闪存储器，磁盘或光盘。存储介质可以是通用或专用计算机能够存取的任何可用介质。一种示例性的存储介质耦合至处理器，从而使处理器能够从该存储介质读取信息，且可向该存储介质写入信息。当然，存储介质也可以是处理器的组成部分。处理器和存储介质可以位于专用集成电路中。当然，处理器和存储介质也可以作为分立组件存在于电子设备或主控设备中。本领域普通技术人员可以理解：实现上述各方法实施例的全部或部分步骤可以通过程序指令相关的硬件来完成。前述的程序可以存储于一计算机可读取存储介质中。该程序在执行时，执行包括上述各方法实施例的步骤；而前述的存储介质包括：ROM、RAM、磁碟或者光盘等各种可以存储程序代码的介质。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围。
