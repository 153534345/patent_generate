标题title
无线麦克风的配对方法和装置、无线麦克风管理系统
摘要abst
本申请涉及一种无线麦克风的配对方法和装置、无线麦克风管理系统；所述方法包括：通过终端设备获取目标无线麦克风的无线蓝牙mac地址；根据所述无线蓝牙mac地址建立所述终端设备与目标无线麦克风之间的无线通信配对连接；对场景中的U段进行扫描获取当前空闲频段，并从所述空闲频段一个目标频段；将所述目标频段分配给所述目标无线麦克风，并通过蓝牙通信协议通知所述目标无线麦克风与其配对的终端设备采用所述目标频段传输数据；进一步的，采用互联网技术由服务器管理所有终端设备与麦克风的频段连接情况；该技术方案，实现了无线麦克风与终端设备的配对速联，提升了配对效率，结合了自动跳频技术，有效解决同频/邻频导致的频段干扰问题。
权利要求书clms
1.一种无线麦克风的配对方法，其特征在于，包括：通过终端设备获取目标无线麦克风的无线蓝牙mac地址；根据所述无线蓝牙mac地址建立所述终端设备与目标无线麦克风之间的无线通信配对连接；对场景中的U段进行扫描获取当前空闲频段，并从所述空闲频段选取一个目标频段；将所述目标频段分配给所述目标无线麦克风，并通过蓝牙通信协议通知所述目标无线麦克风与其配对的终端设备采用所述目标频段传输数据。2.根据权利要求1所述的无线麦克风的配对方法，其特征在于，还包括：获取目标无线麦克风的位置信息；将所述目标频段的频段ID、位置信息与所述目标无线麦克风的无线蓝牙mac地址进行关联并记录。3.根据权利要求2所述的无线麦克风的配对方法，其特征在于，获取目标无线麦克风的位置信息，包括：基于所述无线通信并利用内置于目标无线麦克风的定位芯片获取位置信息；或者，根据所述终端设备与目标无线麦克风之间的每帧信号连续性生成所述目标无线麦克风的虚拟位置信息。4.根据权利要求1所述的无线麦克风的配对方法，其特征在于，通过终端设备获取目标无线麦克风的无线蓝牙mac地址，包括：通过终端设备上的摄像头扫描目标无线麦克风上面绑定的二维码；通过识别所述二维码对应的内容信息，获取所述目标无线麦克风的无线蓝牙mac地址。5.根据权利要求1所述的无线麦克风的配对方法，其特征在于，根据所述无线蓝牙mac地址建立所述终端设备与目标无线麦克风之间的无线通信配对连接，包括：根据所述无线蓝牙mac地址获取所述目标麦克风的蓝牙设备信息；控制所述终端设备的第一蓝牙模块扫描周围的蓝牙设备，当搜索到所述蓝牙设备信息时，建立该终端设备与目标无线麦克风之间的蓝牙配对连接。6.根据权利要求2所述的无线麦克风的配对方法，其特征在于，若扫描当前不存在空闲频段时，还包括：获取当前所有在线的无线麦克风使用的频段；根据当前各个频段的信道参数和目标无线麦克风的位置信息计算出目标共用频段；将所述目标共用频段分配给所述目标无线麦克风进行多址接入使用。7.根据权利要求6所述的无线麦克风的配对方法，其特征在于，根据当前各个频段的信道参数和目标无线麦克风的位置信息计算出目标共用频段，包括：根据当前各个频段的信道参数计算频段的功率总和，并根据所述功率总和选择待添加共用频段；分别计算待添加共用频段当前在线的各个无线麦克风与目标无线麦克风之间的位置距离；选择功率总和最小且位置距离最大的无线麦克风所使用的待共用频段作为目标共用频段。8.根据权利要求7所述的无线麦克风的配对方法，其特征在于，根据当前各个频段的信道参数计算频段的功率总和，并根据所述功率总和选择待添加共用频段，包括：初始化当前U段的所有频段；基于非线性正交多址技术，将各个频段的把每个信道解调解码获得每个独立的无线麦克风的解调信号；根据所述解调信号计算频段的最大频带容量；计算各个频段的频带占用段的功率总和，选择功率总和小于最大频带容量的频段作为待添加共用频段。9.根据权利要求8所述的无线麦克风的配对方法，其特征在于，还包括：对场景中的U段进行扫描，计算各个频段内的信噪比；若所述信噪比超过信噪比阈值，获取该频段内所有在线的无线麦克风；将所述频段内所有在线的无线麦克风重新分配至功率总和最小的待添加共用频段。10.根据权利要求6所述的无线麦克风的配对方法，其特征在于，若所述U段的所有频段容量已满，还包括：获取当前关联记录的所有在线的无线麦克风的线蓝牙mac地址及其使用频段的频段ID；断开该无线麦克风与相应的终端设备的配对连接并释放所述频段资源；利用所述释放的频段资源接入所述目标无线麦克风。11.一种无线麦克风的配对装置，其特征在于，包括：扫描模块，用于通过终端设备获取目标无线麦克风的无线蓝牙mac地址；配对模块，用于根据所述无线蓝牙mac地址建立所述终端设备与目标无线麦克风之间的无线通信配对连接；搜索模块，用于对场景中的U段进行扫描获取当前空闲频段，并从所述空闲频段选取一个目标频段；分配模块，用于将所述目标频段分配给所述目标无线麦克风，并通过蓝牙通信协议通知所述目标无线麦克风与其配对的终端设备采用所述目标频段传输数据。12.一种无线麦克风管理系统，其特征在于，包括：服务器，连接所述服务器的U段空间扫描设备，多个终端设备，以及多个无线麦克风；其中，所述服务器分别连接所述终端设备；各个所述终端设备与所述无线麦克风通过无线通信连接；所述服务器用于执行权利要求1-10任一项所述的无线麦克风的配对方法的步骤。13.根据权利要求12所述的无线麦克风管理系统，其特征在于，所述终端设备包括：第一蓝牙模块、第一U段模块、扫描设备；所述无线麦克风包括第二蓝牙模块和第二U段模块；其中，所述无线麦克风上设有二维码；所述扫描设备用于扫描所述二维码获取无线麦克风的设有线蓝牙mac地址，所述第一蓝牙模块用于与所述第二蓝牙模块进行配对和通过蓝牙协议传输指令；所述第一U段模块用于与所述第二U段模块进行数据传输。
说明书desc
技术领域本申请涉及娱乐设备技术领域，尤其是一种无线麦克风的配对方法和装置、无线麦克风管理系统。背景技术目前，无线麦克风在很多场景都得到了广泛应用，例如，活动、会议现场，KTV房等等；无线麦克风主要包括FM无线麦克风、VHF无线麦克风、UHF无线麦克风、蓝牙无线麦克风等。常用技术中，无线麦克风与终端设备之间的配对，有采用定制芯片来发送设备的信息从而实现终端设备与麦克风的配对，对无线麦克风的发射频率以及接收机的接收频率调节来实现无线麦克风与终端设备的接收机的配对，还有的是通过搜索终端设备发送的连接信号携带的身份信息来与麦克风进行配对。上述技术方案一般适用于单对单的配对过程，当在多个无线麦克风和多个终端设备的使用场景时，采用上述技术方案，由于无线麦克与和终端设备之间是多对多的关系，其过程尤为复杂，且在配对过程中容易出现混乱配对错误，特别是当无线麦克风与终端设备之间需要进行切换使用时，用户需要进行复杂操作才能进行切换和连接，且多设备之间容易存在同频邻频干扰，影响了配对效率和使用效果。发明内容为了解决上述技术缺陷之一，本申请提供一种无线麦克风的配对方法和装置、无线麦克风管理系统，以提升无线麦克风的配对效率和使用效果。一种无线麦克风的配对方法，包括：通过终端设备获取目标无线麦克风的线蓝牙mac地址；根据所述线蓝牙mac地址建立所述终端设备与目标无线麦克风之间的无线通信配对连接；对场景中的U段进行扫描获取当前空闲频段，并从所述空闲频段且距离最远选取一个目标频段；将所述目标频段分配给所述目标无线麦克风，并通过蓝牙通信协议通知所述目标无线麦克风与其配对的终端设备采用所述目标频段传输数据。在一个实施例中，所述的无线麦克风的配对方法，还包括：获取目标无线麦克风的位置信息；将所述目标频段的频段ID、位置信息与所述目标无线麦克风的线蓝牙mac地址进行关联并记录。在一个实施例中，获取目标无线麦克风的位置信息，包括：基于所述无线通信并利用内置于目标无线麦克风的定位芯片获取位置信息；或者，根据所述终端设备与目标无线麦克风之间的每帧信号连续性生成所述目标无线麦克风的虚拟位置信息。在一个实施例中，通过终端设备获取目标无线麦克风的线蓝牙mac地址，包括：通过终端设备上的摄像头扫描目标无线麦克风上面绑定的二维码；通过识别所述二维码对应的内容信息，获取所述目标无线麦克风的线蓝牙mac地址。在一个实施例中，根据所述线蓝牙mac地址建立所述终端设备与目标无线麦克风之间的无线通信配对连接，包括：根据所述无线蓝牙mac地址获取所述目标麦克风的蓝牙设备信息；控制所述终端设备的第一蓝牙模块扫描周围的蓝牙设备，当搜索到所述蓝牙设备信息时，建立该终端设备与目标无线麦克风之间的蓝牙配对连接。在一个实施例中，若扫描当前不存在空闲频段时，还包括：获取当前所有在线的无线麦克风使用的频段；根据当前各个频段的信道参数和目标无线麦克风的位置信息计算出目标共用频段；将所述目标共用频段分配给所述目标无线麦克风进行多址接入使用。在一个实施例中，根据当前各个频段的信道参数和目标无线麦克风的位置信息计算出目标共用频段，包括：根据当前各个频段的信道参数计算频段的功率总和，并根据所述功率总和选择待添加共用频段；分别计算待添加共用频段当前在线的各个无线麦克风与目标无线麦克风之间的位置距离；选择功率总和最小且位置距离最大的无线麦克风所使用的待共用频段作为目标共用频段。在一个实施例中，根据当前各个频段的信道参数计算频段的功率总和，并根据所述功率总和选择待添加共用频段，包括：初始化当前U段的所有频段；基于非线性正交多址技术，将各个频段的把每个信道解调解码获得每个独立的无线麦克风的解调信号；根据所述解调信号计算频段的最大频带容量；计算各个频段的频带占用段的功率总和，选择功率总和小于最大频带容量的频段作为待添加共用频段。在一个实施例中，所述的无线麦克风的配对方法，还包括：对场景中的U段进行扫描，计算各个频段内的信噪比；若所述信噪比超过信噪比阈值，获取该频段内所有在线的无线麦克风；将所述频段内所有在线的无线麦克风重新分配至功率总和最小的待添加共用频段。在一个实施例中，若所述U段的所有频段容量已满，还包括：获取当前关联记录的所有在线的无线麦克风的无线蓝牙mac地址及其使用频段的频段ID；断开该无线麦克风与相应的终端设备的配对连接并释放所述频段资源；利用所述释放的频段资源接入所述目标无线麦克风。一种无线麦克风的配对装置，包括：扫描模块，用于通过终端设备获取目标无线麦克风的无线蓝牙mac地址；配对模块，用于根据所述无线蓝牙mac地址建立所述终端设备与目标无线麦克风之间的无线通信配对连接；搜索模块，用于对场景中的U段进行扫描获取当前空闲频段，并从所述空闲频段选取一个目标频段；分配模块，用于将所述目标频段分配给所述目标无线麦克风，并通过蓝牙通信协议通知所述目标无线麦克风与其配对的终端设备采用所述目标频段传输数据。一种无线麦克风管理系统，包括：服务器，连接所述服务器的U段空间扫描设备，多个终端设备，以及多个无线麦克风；其中，所述服务器分别连接所述终端设备；各个所述终端设备与所述无线麦克风通过无线通信连接；所述服务器用于执行上述的无线麦克风的配对方法的步骤。在一个实施例中，所述终端设备包括：第一蓝牙模块、第一U段模块、扫描设备；所述无线麦克风包括第二蓝牙模块和第二U段模块；其中，所述无线麦克风上设有二维码；所述扫描设备用于扫描所述二维码获取无线麦克风的设有无线蓝牙mac地址，所述第一蓝牙模块用于与所述第二蓝牙模块进行配对和通过蓝牙协议传输指令；所述第一U段模块用于与所述第二U段模块进行数据传输。本申请的技术方案，具有如下有益效果：简化了用户操作流程，避免用户过多的复杂操作，特别是在多设备共享使用场景中，实现了无线麦克风与终端设备的配对速联，极大地提升了无线麦克风的配对效率。使用非正交多址接入技术，对配对后的无线麦克风使用的频段进行优化分配，在同一频段资源上实现多个地址接入，将频段分配给多个无线麦克风进行使用，提升了频谱效率和无线麦克风的接入量。基于互联网技术，利用服务器统一管理所有无线麦克风及各个频段分配和使用，在发现外来干扰时，进行自动切换频段和自主跳频，以防止多终端设备多麦克风以及外来同频/邻频信号的干扰，能为用户展示清晰的频段状态，提高用户体验感。本申请附加的方面和优点将在下面的描述中部分给出，这些将从下面的描述中变得明显，或通过本申请的实践了解到。附图说明本申请上述的和/或附加的方面和优点从下面结合附图对实施例的描述中将变得明显和容易理解，其中：图1是无线麦克风管理系统的硬件环境图；图2是一个实施例的终端设备和无线麦克风的结构示意图；图3是一个实施例的无线麦克风的配对方法流程图；图4是一个实施例的扫码流程图；图5是选择共用频段流程图；图6是一个实施例的无线麦克风的配对装置的结构示意图。具体实施方式下面详细描述本申请的实施例，所述实施例的示例在附图中示出，其中自始至终相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施例是示例性的，仅用于解释本申请，而不能解释为对本申请的限制。本技术领域技术人员可以理解，除非特意声明，这里使用的单数形式“一”、“一个”、“所述”和“该”也可包括复数形式。应该进一步理解的是，本申请的说明书中使用的措辞“包括”是指存在所述特征、整数、步骤、操作，但是并不排除存在或添加一个或多个其他特征、整数、步骤、操作。本申请提供一种无线麦克风的配对方法和装置、无线麦克风管理系统的技术方案，其中，无线麦克风管理系统可以采用无线麦克风的配对方法来对无线麦克风进行配对和管理；为了便于实施例的描述，下面先给出一个实施例的无线麦克风管理系统的技术方案，该技术方案中，应用于多个终端设备与无线麦克风的配对使用场景中，对于终端设备，可以是指KTV点唱机、大屏娱乐设备，会议系统以及其他等应用多个无线麦克风的设备终端。参考图1所示，图1是无线麦克风管理系统的硬件环境图，图中包括了服务器，多个终端设备，以及多个无线麦克风，服务器还连接U段空间扫描设备；其中，服务器分别连接终端设备；U段空间扫描设备可以使用在场景中，可以实时地对场景中的U段使用状态进行检测，并将检测的频段信息发送至服务器，各个终端设备与无线麦克风通过无线通信连接；如上所述的无线麦克风管理系统，每个终端设备可以连接多个无线麦克风，各个终端设备连接到服务器，由服务器对所连接的无线麦克风进行统一管理，对于每个无线麦克风来说，其也可以与任意一个终端设备进行连接，由此可见，基于该无线麦克风管理系统，实现了场景中的多个无线麦克风和多个终端设备的自由配对使用，基于无线自动连接技术，为用户提供更便捷的配对连接服务，从而实现了更加优化的配对效率和使用效果；本申请实施例采用蓝牙技术作为配对使用，当然也可以通过简单置换方式采用其他传输手段来实现该功能。参考图2所示，图2是一个实施例的终端设备和无线麦克风的结构示意图，终端设备包括：第一蓝牙模块、第一U段模块、扫描设备；无线麦克风包括第二蓝牙模块和第二U段模块；其中，无线麦克风上设有二维码；扫描设备用于扫描二维码获取无线麦克风的设有无线设备的mac地址，本申请以无线蓝牙mac地址为例进行描述，第一蓝牙模块用于与第二蓝牙模块进行配对和通过蓝牙协议传输指令；第一U段模块用于与第二U段模块进行数据传输。如上所述的终端设备和无线麦克风的结构，在使用配对时，简化了操作流程，避免用户过多的复杂操作，基于扫码技术的蓝牙自动配对，特别是在多设备共享使用场景中，实现了无线麦克风与终端设备的配对速联，极大地提升了无线麦克风的配对效率。下面阐述本申请的无线麦克风的配对方法，需要说明的是，该无线麦克风的配对方法，可以应用于前述实施例中的无线麦克风管理系统，当然也可以应用于其他近似的无线麦克风管理系统上，为了便于实施例描述，下文将主要以前述实施例的无线麦克风管理系统来举例描述。参考图3所示，图3是一个实施例的无线麦克风的配对方法流程图，该配对方法主要包括：S1，通过终端设备获取目标无线麦克风的无线蓝牙mac地址。在此，可以采用DM码技术，为每个无线麦克风设计无线蓝牙mac地址，基于无线蓝牙mac地址来生产唯一识别的二维码，将该二维码粘贴/印刷到无线麦克风底部，实现捆绑，服务器利用终端设备的摄像头扫描识别二维码技术扫码，从而快速地获取到目标无线麦克风的无线蓝牙mac地址。具体的，服务器中预先存储各个无线麦克风对应关联的无线蓝牙mac地址，参考图4所示，图4是一个实施例的扫码流程图，通过DM码设计技术，采用DM码对每一个无线麦克风的mac地址进行记录，每次只需将无线麦克风的二维码对准终端设备的扫码区，通过扫码获取到目标无线麦克风的二维码，解析得到无线蓝牙mac地址，根据无线蓝牙mac地址确定所需要连接的目标无线麦克风，对于二维码识别技术，可以通过摄像头扫描采用图像识别技术，先进行图像处理，定位二维码所在位置，并通过与原始二维码尺寸，进行几何矫正，并对二维码进行解码。S2，根据无线蓝牙mac地址建立终端设备与目标无线麦克风之间的无线通信配对连接。在一个实施例中，在配对连接时，首先根据无线蓝牙mac地址获取目标麦克风的蓝牙设备信息；然后控制终端设备的第一蓝牙模块扫描周围的蓝牙设备，当搜索到蓝牙设备信息时，建立该终端设备与目标无线麦克风之间的蓝牙配对连接，即建立第一蓝牙模块与第二蓝牙模块之间的蓝牙配对连接。具体的，扫码得到的无线蓝牙mac地址与服务器内记录的无线麦克风一致，则服务器通过终端设备的第一蓝牙模块发送信号通知连接无线麦克风的第二蓝牙模块，从而以达到自动快速连接配对的目的，在蓝牙配对完成后，可以采用gatt协议进行通讯，终端设备可以向无线麦克风发送按键指令，分配的频段选择结果等等，基于低功耗的蓝牙技术实现快速配对和音频高效传输控制，以实现终端设备与无线麦克风之间高效的通信功能。另外，如果因二维码损坏或其他异常原因导致蓝牙配对失败，也可通过设备搜索显示无线麦克风无线蓝牙mac地址对应的蓝牙名称，然后在终端设备上根据手动操作选择连接相应的无线麦克风。S3，对场景中的U段进行扫描获取当前空闲频段，并从空闲频段选取一个目标频段。配对成功后，利用U段空间扫描设备对场景中的U段进行扫描，搜索到当前空闲频段，触发终端设备的第一U段模块选择合适的空闲频段，与无线麦克风的第二U段模块进行U段通信，获得低干扰传输音频。具体的，服务器通过U段空间扫描设备对场景中的U段进行扫描，通过扫描可以获取当前U段内处于空闲状态的频段，获取当前空闲频段，服务器获取并记录空闲频段的频段ID，然后从空闲频段选取一个距离已使用频段最远的目标频段，一般情况下，选择距离最远的空闲频段，当然，特殊情况下也可以根据实际情况选择合适的频段来分配，通过远离已使用频段，可以有效地减少或者避免邻频干扰发生；分配频段后，同时关联并记录目标频段的频段ID与目标无线麦克风的无线蓝牙mac地址，便于服务器进行管理。S4，将目标频段分配给目标无线麦克风，并通过蓝牙通信协议通知目标无线麦克风与其配对的终端设备采用目标频段传输数据。服务器将目标频段分配给目标无线麦克风，通过终端设备的第一U段模块选择相应的频段进行通信，同时通过第一蓝牙模块发送通知到第二蓝牙模块，通知无线麦克风的第二U段模块也选择相应的频段进行通信，实现无线麦克风到终端设备的高效数据传输。如上述的无线麦克风的配对方法，通过服务器来集中管理无线麦克风在不同终端设备中配对连接和分配U段使用，用户使用时，只需要在任一终端设备上扫描无线麦克风的二维码，即可由设备完成所有配对连接和U段分配使用，操作简单高效，而且每个终端设备都可以扫描连接多个无线麦克风，每个无线麦克风也可以配对任一个终端设备进行使用，从而可以提供多个使用场景供用户选择，具有更好的使用效果。为了更加清晰本申请的技术方案，下面阐述更多实施例。在一个实施例中，服务器在管理U段时，对配对后的无线麦克风使用的频段进行优化分配，为了进一步提升频谱效率和无线麦克风的接入量，若扫描当前不存在空闲频段时，使用非正交多址接入技术，在同一频段资源上实现多个地址接入，将频段分配给多个无线麦克风进行使用。据此，在分配无线麦克风所使用的频段时，如果当前没有空闲频段，则采用如下方法进行分配，具体包括：获取当前所有在线的无线麦克风使用的频段。在每个无线麦克风分配频段后，服务器关联其无线蓝牙mac地址及频段ID，从而可以查询到当前所有终端设备所连接的无线麦克风及其所使用的频段信息。根据当前各个频段的信道参数和目标无线麦克风的位置信息计算出目标共用频段。在一个实施例中，可以通过计算频段的功率总和和各个无线麦克风的位置信息来选择合适的频段进行分配，从而避免同频/邻频干扰和确保所分配频段后系统的工作稳定性。据此，所述计算出目标共用频段的方法可以包括：2.1)根据当前各个频段的信道参数计算频段的功率总和，并根据功率总和选择待添加共用频段。对于选择待添加共用频段，参考图5所示，图5是选择共用频段流程图，其过程可以包括如下：s101，初始化当前U段的所有频段。具体的，初始化所有频段为空值，即为无麦克风连接状态。s102，基于非线性正交多址技术，将各个频段的把每个信道解调解码获得每个独立的无线麦克风的解调信号。例如，设置频段为U段，假设每个频段采用非线性正交多址技术，使得每个频段最多可设置容量为R的多个无线麦克风地址，通过逐级删除干扰技术，把每一个信道解调解码出对应的数据，解码函数如下：其中，pi为分配到该频段的频带内的第i个无线麦克风的功率分配值，hi为第i个无线麦克风的信道系数；当检测第i个无线麦克风的信号数据xi时，则其他信号数据认为是噪声，通过每次相减获得剩下的同频段的无线麦克风的信号数据yi，以此类推，获得每个独立的无线麦克风的解调信号。s103，根据解调信号计算频段的最大频带容量。具体的，在获得解调信号后，查询服务器记录的当前所有U段的频段ID，采用顺序向前搜索算法，计算每个频段标记状态，根据以下函数，定义最大频带容量R：其中，N为最大频带范围。s104，计算各个频段的频带占用段的功率总和，选择功率总和小于最大频带容量的频段作为待添加共用频段。具体的，优先计算频带占用段的功率总和：若功率总和小于容量R，则可选择该频段为待添加共用频段，可以用于添加无线麦克风；将计算的sumval进行排序，最小的频带内功率和minval＝min中选择任意一频段，作为可以分配给目标无线麦克风的共用频段。2.2)分别计算待添加共用频段当前在线的各个无线麦克风与目标无线麦克风之间的位置距离。对于位置距离，可以利用各个无线麦克风的位置信息来进行计算，根据每个麦克风的位置信息记录，计算每个位置之间的三维欧式距离distance：作为实施例，在获取无线麦克风的位置信息时，可以通过服务器保存的位置信息来获取无线麦克风的位置信息。例如，在任意一个目标无线麦克风接入后，服务器都记录其位置信息，将目标频段的频段ID、位置信息与目标无线麦克风的无线蓝牙mac地址进行关联并记录，从而在后续分配共用频段和跳频时使用，对于位置信息的获取方式，可以有如下两种方式：一种是基于无线通信并利用内置于目标无线麦克风的定位芯片获取位置信息；另一种是根据终端设备与目标无线麦克风之间的每帧信号连续性生成目标无线麦克风的虚拟位置信息。对于虚拟位置信息的生成，可以根据信号的连续性判断，连续性判断如下：a＝其中，a为信号每帧数据，设置连续性判定阈值threshold，大于该阈值范围则视为断开连接，否则按最大蓝牙连接范围设置虚拟位置信息为距离终端设备为d＝10m的位置；因此，通过手动连接蓝牙配对的无线麦克风，可以根据接收信号的连续性来设置虚拟位置，如，x3为连续性判断所得结果。2.3)选择功率总和最小且位置距离最大的无线麦克风所使用的待共用频段作为目标共用频段。例如，在同一频段分配功率，其总容量最大为R的多只麦克风，每次分配时，优先选择地理位置较远的麦克风分配相近频段，位置较近的无线麦克风分配最远间隔的频段，如U段中，终端设备的位置为，无线麦克风1的位置为，无线麦克风2的位置为，则根据欧氏距离计算可得：无线麦克风1的距离为7.0710，无线麦克风2的距离为16.1433，则分配给无线麦克风1的频段为600MHz，分配功率值为0.2，无线麦克风2的频段分配为700MHz，并分配功率值为0.6，从而防止同频/邻频干扰。将目标共用频段分配给目标无线麦克风进行多址接入使用。具体的，将目标无线麦克风接入到目标共用频段，同时，将目标频段的频段ID、位置信息与目标无线麦克风的无线蓝牙mac地址进行关联并记录。在一个实施例中，为了防止无线麦克风所分配的频段在使用中出现同频/邻频干扰，据此，还可以包括如下处理方案步骤：对场景中的U段进行扫描，计算各个频段内的信噪比。具体的，通过U段空间扫描设备对场景中的扫描，若此时存在异常信号干扰，则可以通过s101-s104计算方式判断干扰是否来源于本地设备，若非本地设备，则采用计算信噪比SNR来分析信道干扰状态，SNR计算如下：其中，xpower为信号功率，noisypower为噪声功率；通过计算每个信道的信噪比SNR，逐一进行过滤，从而可以得到所有信道的干扰情况。若信噪比超过信噪比阈值，获取该频段内所有在线的无线麦克风；将频段内所有在线的无线麦克风重新分配至功率总和最小的待添加共用频段。具体的，若发现信噪比高于所设定阈值thresholdsnr，则认为该信道内存在干扰信号，将该信道内所有信号重新分配至功率和最小的频道内minval。上述实施例的技术方案，实现了跳频功能，可以根据频段选择算法，重新选择频段内信道功率和最小的频段，发送跳频指令通知终端设备的第一蓝牙模块，并上报给服务器，然后进行跳频。作为实施例，对于跳频时机，为了避免跳频期间断开无线麦克风连接对用户使用的影响，因此，在跳频之前，首先检测信道内所有麦克风的工作状态，若处于非工作状态，则可申请跳频，该信道内所有麦克风的频率切换至新的频段，如由原先的700MHz切换至空闲频段650MHz，尽可能远离该频段，把外来同频/邻频干扰降至最低，并把该此跳频操作上报给服务器，并在设备用户界面显示当前空闲频段和占用频段，供用户查阅。在一个实施例中，若当前无线麦克风数量的接入超过频段数量，为了对无线麦克风使用的频段进行更好管理，此时可以通过服务器提供界面，用户可以根据界面输入相关操作来进行人工干预操作。据此，服务器判断若U段的所有频段容量已满，则可以进行如下操作：获取当前关联记录的所有在线的无线麦克风的无线蓝牙mac地址及其使用频段的频段ID。用户可以通过操作界面，从服务器中获取到所有在线的无线麦克风及U段各个频段的使用情况。断开该无线麦克风与相应的终端设备的配对连接并释放频段资源；利用释放的频段资源接入目标无线麦克风。用户可以根据需求，选择断开一些无线麦克风，从而可以释放部分终端设备的配对连接的频段资源，然后将目标无线麦克风接入。在上述实施例中，用户也可以通过设备界面显示的空闲频段，需要共用的频段或者是需要断开的频段，手动选择想要配对的频段，手动分配频段给目标无线麦克风。在一个实施例中，本申请的技术方案中，无线麦克风与终端设备建立配对连接后，可以在与其他终端设备再配对连接，原有的配对连接将被终止，从而可以实现无线麦克风的共享，任何终端设备都可以配对任何一个麦克风，每一次的麦克风连接和断开相关信息上传至服务器，由服务器会记录每个无线麦克风的连接状态和配对连接信息。如上所述，无线麦克风的断开配对分为主动断开和被动断开两种断开模式，在主动断开方式下：在无线麦克风处于“已配对”的状态下，用户主动点击“断开配对”按钮，终端设备主动断开与该无线麦克风的配对，并从服务器的数据库中删除该无线麦克风的无线蓝牙mac地址及其链接相关记录信息。在被动断开方式下：当无线麦克风超出连接范围、断电、高强度干扰等非用户主动断开配对的情况，无线麦克风被动断开后，终端设备不断扫描无线麦克风的蓝牙设备，当扫描到数据库中记录的麦克风无线蓝牙mac地址时，再次行自动配对，实现无线麦克风的自动重连。综合上述各实施例的技术方案，无线麦克风采用低功耗的蓝牙配对，在无线麦克风上采用二维码来标记无线麦克风的无线蓝牙mac地址，便于在多终端设备之间精准地快速切换配对使用；同时利用服务器统一管理所有无线麦克风及各个频段分配和使用，记录每个无线麦克风的连接状态和频段信息，记录每个终端设备的与所配对的麦克风的连接状态，当发现外来干扰时，能瞬间启动自动频段选择功能，自动切换频段，进行自主跳频，以防止多终端设备多麦克风以及外来同频/邻频信号的干扰，可以自动切换至干净无干扰的频段，为用户展示清晰的频段状态，提高用户体验感，用户可选择自动和手动分配频段的信道传输音频保证麦克风的音质。下面阐述无线麦克风的配对装置的实施例。参考图6所示，图6是一个实施例的无线麦克风的配对装置的结构示意图，包括：扫描模块，用于通过终端设备获取目标无线麦克风的无线蓝牙mac地址；配对模块，用于根据无线蓝牙mac地址建立终端设备与目标无线麦克风之间的无线通信配对连接；搜索模块，用于对场景中的U段进行扫描获取当前空闲频段，并从空闲频段选取一个目标频段；分配模块，用于将目标频段分配给目标无线麦克风，并通过蓝牙通信协议通知目标无线麦克风与其配对的终端设备采用目标频段传输数据。本实施例的无线麦克风的配对装置可执行本申请的实施例所提供的一种无线麦克风的配对方法，其实现原理相类似，本申请各实施例中的无线麦克风的配对装置中的各模块所执行的动作是与本申请各实施例中的无线麦克风的配对方法中的步骤相对应的，对于无线麦克风的配对装置的各模块的详细功能描述具体可以参见前文中所示的对应的无线麦克风的配对方法中的描述，此处不再赘述。本申请还提供一种计算机设备，该计算机设备，其包括：一个或多个处理器；存储器；一个或多个应用程序，其中所述一个或多个应用程序被存储在所述存储器中并被配置为由所述一个或多个处理器执行，所述一个或多个程序配置用于：执行根据上述任意实施例的无线麦克风的配对方法。本申请还提供一种计算机可读存储介质，所述存储介质存储有至少一条指令、至少一段程序、代码集或指令集，所述至少一条指令、所述至少一段程序、所述代码集或指令集由所述处理器加载并执行上述任意实施例的无线麦克风的配对方法。上述实施例的无线麦克风的配对装置、计算机设备及计算机可读存储介质，基于扫码技术的蓝牙自动配对，简化了用户操作流程，避免用户过多的复杂操作，特别是在多设备共享使用场景中，实现了无线麦克风与终端设备的配对速联，极大地提升了无线麦克风的配对效率。使用非正交多址接入技术，对配对后的无线麦克风使用的频段进行优化分配，在同一频段资源上实现多个地址接入，将频段分配给多个无线麦克风进行使用，提升了频谱效率和无线麦克风的接入量。利用服务器统一管理所有无线麦克风及各个频段分配和使用，在发现外来干扰时，进行自动切换频段和自主跳频，以防止多终端设备多麦克风以及外来同频/邻频信号的干扰，为用户展示清晰的频段状态，提高用户体验感。以上所述仅是本申请的部分实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本申请的保护范围。
