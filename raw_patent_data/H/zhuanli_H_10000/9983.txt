标题title
一种地面目标覆盖拍摄方法和系统
摘要abst
本发明涉及一种地面目标覆盖拍摄方法和系统。本发明在确定飞行参考航向角之后，依次为基础结合固定翼无人机的飞行速度、飞行航向角等参数确定下一位置固定翼无人机的航向角速度，并且，根据当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定云台航向角，以及根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定云台俯仰角，然后，根据飞行参考航向角、云台航向角和云台俯仰角，实现地面目标覆盖拍摄过程中飞行轨迹和拍摄角度的控制，进而实现机载摄像头持续对准已知位置的目标，并实现多角度视野覆盖，并使目标基本位于视野中心位置。
权利要求书clms
1.一种地面目标覆盖拍摄方法，其特征在于，应用于安装有摄像头和云台的固定翼无人机；所述地面目标覆盖拍摄方法包括：根据地面目标点与固定翼无人机的相对位置、固定翼无人机飞行时的环绕半径确定飞行参考航向角；所述地面目标点与固定翼无人机的相对位置包括：地面目标点与固定翼无人机间的方位角和地面目标点与固定翼无人机间的距离；根据所述飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和所述固定翼无人机飞行时的环绕半径确定下一位置固定翼无人机的航向角速度；根据所述当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定固定翼无人机飞行至下一位置时的云台航向角；根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定固定翼无人机飞行至下一位置时的云台俯仰角；根据所述下一位置固定翼无人机的航向角速度控制固定翼无人机进行地面目标覆盖拍摄时的飞行轨迹；根据所述云台航向角和所述云台俯仰角控制固定翼无人机进行地面目标覆盖拍摄时摄像头的拍摄角度。2.根据权利要求1所述的地面目标覆盖拍摄方法，其特征在于，所述根据地面目标点与固定翼无人机的相对位置、固定翼无人机飞行时的环绕半径确定飞行参考航向角，具体包括：根据地面目标点与固定翼无人机的方位角、固定翼无人机飞行时的环绕半径，采用公式确定飞行参考航向角；其中，ψd为飞行参考航向角，φ为地面目标点与固定翼无人机的方位角，d为地面目标点与固定翼无人机间的距离，Kp为正常数，±号表示固定翼无人机的飞行方向，ρ为固定翼无人机飞行时的环绕半径。3.根据权利要求1所述的地面目标覆盖拍摄方法，其特征在于，所述根据所述飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和所述固定翼无人机飞行时的环绕半径确定下一位置固定翼无人机的航向角速度，具体包括：根据所述飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和所述固定翼无人机飞行时的环绕半径，采用公式确定下一位置固定翼无人机的航向角速度；其中，ω为下一位置固定翼无人机的航向角速度，ρ为固定翼无人机飞行时的环绕半径，ψd为飞行参考航向角，ψ为当前位置固定翼无人机的飞行航向角，v为当前位置固定翼无人机的飞行速度，ψd为飞行参考航向角，Kp为正常数。4.根据权利要求1所述的地面目标覆盖拍摄方法，其特征在于，所述根据所述当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定固定翼无人机飞行至下一位置时的云台航向角，具体包括：根据所述当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角，采用公式ψs＝ψlos-ψ确定固定翼无人机飞行至下一位置时的云台航向角；其中，ψs为云台航向角，ψlos为固定翼无人机的当前位置指向地面目标点的航向角，ψ为当前位置固定翼无人机的飞行航向角。5.根据权利要求1所述的地面目标覆盖拍摄方法，其特征在于，所述根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定固定翼无人机飞行至下一位置时的云台俯仰角，具体包括：根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离，采用公式确定固定翼无人机飞行至下一位置时的云台俯仰角；其中，θs为云台俯仰角，Δh为固定翼无人机当前位置与地面目标点位置间的高度差，l为固定翼无人机当前位置到地面目标点位置间水平距离。6.一种地面目标覆盖拍摄系统，其特征在于，应用于安装有摄像头和云台的固定翼无人机；所述地面目标覆盖拍摄系统包括：飞行参考航向角确定模块，用于根据地面目标点与固定翼无人机的相对位置、固定翼无人机飞行时的环绕半径确定飞行参考航向角；所述地面目标点与固定翼无人机的相对位置包括：地面目标点与固定翼无人机间的方位角和地面目标点与固定翼无人机间的距离；航向角速度确定模块，用于根据所述飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和所述固定翼无人机飞行时的环绕半径确定下一位置固定翼无人机的航向角速度；云台航向角确定模块，用于根据所述当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定固定翼无人机飞行至下一位置时的云台航向角；云台俯仰角确定模块，用于根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定固定翼无人机飞行至下一位置时的云台俯仰角；飞行轨迹控制模块，用于根据所述下一位置固定翼无人机的航向角速度控制固定翼无人机进行地面目标覆盖拍摄时的飞行轨迹；拍摄角度控制模块，用于根据所述云台航向角和所述云台俯仰角控制固定翼无人机进行地面目标覆盖拍摄时摄像头的拍摄角度。
说明书desc
技术领域本发明涉及无人机航迹控制技术领域，特别是涉及一种地面目标覆盖拍摄方法和系统。背景技术利用无人机机载摄像头对地面固定目标进行多角度覆盖式监视、侦查等方面具有重要的应用前景，旋翼无人机实现此功能相对简单，但对于固定翼无人机，由于其无法悬停、必须具备一定的巡航速度，如何实现机载摄像头持续对准已知位置的目标，并实现多角度视野覆盖，并使目标基本位于视野中心位置，具有一定难度。发明内容为解决现有技术存在的上述问题，本发明提供了一种地面目标覆盖拍摄方法和系统。为实现上述目的，本发明提供了如下方案：一种地面目标覆盖拍摄方法，应用于安装有摄像头和云台的固定翼无人机；所述地面目标覆盖拍摄方法包括：根据地面目标点与固定翼无人机的相对位置、固定翼无人机飞行时的环绕半径确定飞行参考航向角；所述地面目标点与固定翼无人机的相对位置包括：地面目标点与固定翼无人机间的方位角和地面目标点与固定翼无人机间的距离；根据所述飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和所述固定翼无人机飞行时的环绕半径确定下一位置固定翼无人机的航向角速度；根据所述当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定固定翼无人机飞行至下一位置时的云台航向角；根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定固定翼无人机飞行至下一位置时的云台俯仰角；根据所述下一位置固定翼无人机的航向角速度控制固定翼无人机进行地面目标覆盖拍摄时的飞行轨迹；根据所述云台航向角和所述云台俯仰角控制固定翼无人机进行地面目标覆盖拍摄时摄像头的拍摄角度。优选地，所述根据地面目标点与固定翼无人机的相对位置、固定翼无人机飞行时的环绕半径确定飞行参考航向角，具体包括：根据地面目标点与固定翼无人机的方位角、固定翼无人机飞行时的环绕半径，采用公式确定飞行参考航向角；其中，ψd为飞行参考航向角，φ为地面目标点与固定翼无人机的方位角，d为地面目标点与固定翼无人机间的距离，Kp为正常数，±号表示固定翼无人机的飞行方向，ρ为固定翼无人机飞行时的环绕半径。优选地，所述根据所述飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和所述固定翼无人机飞行时的环绕半径确定下一位置固定翼无人机的航向角速度，具体包括：根据所述飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和所述固定翼无人机飞行时的环绕半径，采用公式确定下一位置固定翼无人机的航向角速度；其中，ω为下一位置固定翼无人机的航向角速度，ρ为固定翼无人机飞行时的环绕半径，ψd为飞行参考航向角，ψ为当前位置固定翼无人机的飞行航向角，v为当前位置固定翼无人机的飞行速度，ψd为飞行参考航向角，Kp为正常数。优选地，所述根据所述当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定固定翼无人机飞行至下一位置时的云台航向角，具体包括：根据所述当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角，采用公式ψs＝ψlos-ψ确定固定翼无人机飞行至下一位置时的云台航向角；其中，ψs为云台航向角，ψlos为固定翼无人机的当前位置指向地面目标点的航向角，ψ为当前位置固定翼无人机的飞行航向角。优选地，所述根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定固定翼无人机飞行至下一位置时的云台俯仰角，具体包括：根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离，采用公式确定固定翼无人机飞行至下一位置时的云台俯仰角；其中，θs为云台俯仰角，Δh为固定翼无人机当前位置与地面目标点位置间的高度差，l为固定翼无人机当前位置到地面目标点位置间水平距离。根据本发明提供的具体实施例，本发明公开了以下技术效果：本发明提供的应用于安装有摄像头和云台的固定翼无人的地面目标覆盖拍摄方法，在基于地面目标点与固定翼无人机的相对位置、固定翼无人机飞行时的环绕半径确定飞行参考航向角之后，根据飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和固定翼无人机飞行时的环绕半径确定下一位置固定翼无人机的航向角速度，并且，根据当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定固定翼无人机飞行至下一位置时的云台航向角，以及根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定固定翼无人机飞行至下一位置时的云台俯仰角，然后，根据飞行参考航向角、云台航向角和云台俯仰角，实现地面目标覆盖拍摄过程中飞行轨迹和拍摄角度的控制，进而实现机载摄像头持续对准已知位置的目标，并实现多角度视野覆盖，并使目标基本位于视野中心位置。对应于上述提供的地面目标覆盖拍摄方法，本发明还提供了一种地面目标覆盖拍摄系统，以应用于安装有摄像头和云台的固定翼无人机；所述地面目标覆盖拍摄系统包括：飞行参考航向角确定模块，用于根据地面目标点与固定翼无人机的相对位置、固定翼无人机飞行时的环绕半径确定飞行参考航向角；所述地面目标点与固定翼无人机的相对位置包括：地面目标点与固定翼无人机间的方位角和地面目标点与固定翼无人机间的距离；航向角速度确定模块，用于根据所述飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和所述固定翼无人机飞行时的环绕半径确定下一位置固定翼无人机的航向角速度；云台航向角确定模块，用于根据所述当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定固定翼无人机飞行至下一位置时的云台航向角；云台俯仰角确定模块，用于根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定固定翼无人机飞行至下一位置时的云台俯仰角；飞行轨迹控制模块，用于根据所述下一位置固定翼无人机的航向角速度控制固定翼无人机进行地面目标覆盖拍摄时的飞行轨迹；拍摄角度控制模块，用于根据所述云台航向角和所述云台俯仰角控制固定翼无人机进行地面目标覆盖拍摄时摄像头的拍摄角度。因本发明提供的地面目标覆盖拍摄系统实现的技术效果与上述提供的地面目标覆盖拍摄方法实现的技术效果相同，故在此不再进行赘述。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明提供的地面目标覆盖拍摄方法的流程图；图2为本发明实施例提供固定翼无人机绕圆飞行示意图；图3为本发明实施例提供的固定翼无人机飞行轨迹图；图4为本发明实施例提供的固定翼无人机上摄像头拍摄的视频截图；图5为本发明提供的地面目标覆盖拍摄系统的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明的目的是提供一种地面目标覆盖拍摄方法和系统，能够实现机载摄像头持续对准已知位置的目标，并实现多角度视野覆盖，并使目标基本位于视野中心位置。为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图和具体实施方式对本发明作进一步详细的说明。本发明提供的地面目标覆盖拍摄方法，应用于安装有摄像头和云台的固定翼无人机；如图1所示，所述地面目标覆盖拍摄方法包括：步骤100：根据地面目标点与固定翼无人机的相对位置、固定翼无人机飞行时的环绕半径确定飞行参考航向角。地面目标点与固定翼无人机的相对位置包括：地面目标点与固定翼无人机间的方位角和地面目标点与固定翼无人机间的距离。在具体实施过程中，可以采用公式进行飞行参考航向角的确定。其中，ψd为飞行参考航向角，d为地面目标点与固定翼无人机间的距离，Kp为正常数，ρ为固定翼无人机飞行时的环绕半径，φ为地面目标点与固定翼无人机的方位角，无人机在固定目标正北方为0°，顺时针0°～360°，根据固定目标经纬度和无人机经纬计算出φ值。±号和环绕飞行方向有关，正对应顺时针方向飞行，负对应逆时针方向飞行。步骤101：根据飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和固定翼无人机飞行时的环绕半径确定下一位置固定翼无人机的航向角速度。在具体实施过程中，可以采用公式确定下一位置固定翼无人机的航向角速度。其中，ω为下一位置固定翼无人机的航向角速度，v为当前位置固定翼无人机的飞行速度，ψ为当前位置固定翼无人机的飞行航向角，航向以北向为0°，顺时针飞行为0°～360°，各物理量如图2所示，图2中A为固定翼无人机的位置点。步骤102：根据当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定固定翼无人机飞行至下一位置时的云台航向角。在具体实施过程中，摄像头置于云台之上，云台的航向、俯仰角变换带动摄像头朝向变换。云台航向角通过公式ψs＝ψlos-ψ,确定得到。其中，ψs为云台航向角。ψlos为固定翼无人机的当前位置指向地面目标点的航向角，可由地面固定目标的经纬高坐标和无人机的经纬高坐标计算得到。ψ为当前位置固定翼无人机的飞行航向角。如果，ψs＜0，则ψs＝ψs+360。步骤103：根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定固定翼无人机飞行至下一位置时的云台俯仰角。在具体实施过程中，云台俯仰角通过公式确定得到。其中，θs为云台俯仰角，θs为负时，表示角度向下。Δh为固定翼无人机当前位置与地面目标点位置间的高度差，l为固定翼无人机当前位置到地面目标点位置间水平距离，可由地面固定目标的经纬高坐标和无人机的经纬高坐标得到。步骤104：根据下一位置固定翼无人机的航向角速度控制固定翼无人机进行地面目标覆盖拍摄时的飞行轨迹。步骤105：根据云台航向角和云台俯仰角控制固定翼无人机进行地面目标覆盖拍摄时摄像头的拍摄角度。根据本发明上述提供的地面目标覆盖拍摄方法，进行固定翼无人机飞行和视频采集实验，实验中Kψ取0.5，Kp取2，飞行实验在烟台市牟平区海边公路进行，地面固定目标包括停在道路两侧的数字棱柱和车辆。图3所示为无人机飞行轨迹，近似圆部分为基于本发明提供的下一位置固定翼无人机的航向角速度控制得到的无人机飞行轨迹。机载摄像头通过云台安装于无人机下侧，在飞行中对地面情况进行录制，云台采用云台航向角和云台俯仰角进行控制，视频截图如图4所示，图4由4个视频截图组成，4个截图对应地面目标的不同方位。对应于上述提供的地面目标覆盖拍摄方法，本发明还提供了一种地面目标覆盖拍摄系统，以应用于安装有摄像头和云台的固定翼无人机。如图5所示，地面目标覆盖拍摄系统包括：飞行参考航向角确定模块1、航向角速度确定模块2、云台航向角确定模块3、云台俯仰角确定模块4、飞行轨迹控制模块5和拍摄角度控制模块6。其中，飞行参考航向角确定模块1用于根据地面目标点与固定翼无人机的相对位置、固定翼无人机飞行时的环绕半径确定飞行参考航向角。地面目标点与固定翼无人机的相对位置包括：地面目标点与固定翼无人机间的方位角和地面目标点与固定翼无人机间的距离。航向角速度确定模块2用于根据飞行参考航向角、当前位置固定翼无人机的飞行速度、当前位置固定翼无人机的飞行航向角和固定翼无人机飞行时的环绕半径确定下一位置固定翼无人机的航向角速度。云台航向角确定模块3用于根据当前位置固定翼无人机的飞行航向角和固定翼无人机的当前位置指向地面目标点的航向角确定固定翼无人机飞行至下一位置时的云台航向角。云台俯仰角确定模块4用于根据固定翼无人机当前位置与地面目标点位置间的高度差以及固定翼无人机当前位置到地面目标点位置间水平距离确定固定翼无人机飞行至下一位置时的云台俯仰角。飞行轨迹控制模块5用于根据下一位置固定翼无人机的航向角速度控制固定翼无人机进行地面目标覆盖拍摄时的飞行轨迹。拍摄角度控制模块6用于根据云台航向角和云台俯仰角控制固定翼无人机进行地面目标覆盖拍摄时摄像头的拍摄角度。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的系统而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处。综上所述，本说明书内容不应理解为对本发明的限制。
