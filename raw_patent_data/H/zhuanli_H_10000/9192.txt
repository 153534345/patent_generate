标题title
一种微动摄像头控制方法及装置
摘要abst
本发明提供的微动摄像头控制方法及装置，涉及设备自动控制领域；其方法包括：旁路控制软件按照预定的第一时间间隔截取用于显示所述微动摄像头拍摄的实时画面的图像显示装置上呈现的第一画面，旁路控制软件设置在图像显示装置的监控主机上，且控制连接于云台；旁路控制软件计算第一画面中目标人脸的第一位置信息，确定目标人脸偏离截取画面正中的距离和方向；旁路控制软件调整云台的运动轨迹，使得目标人脸位于图像显示装置所显示画面的正中位置。本发明通过设置旁路控制软件，在截取摄像头实时显示画面后计算目标人脸在图像中的位置，进而陆续调整云台的运动轨迹使其上摄像头的拍摄画面人脸处于正中，完成人脸跟踪。
权利要求书clms
1.一种微动摄像头控制方法，其特征在于，包括：旁路控制软件按照预定的第一时间间隔截取图像显示装置上呈现的第一画面，其中，所述图像显示装置用于显示所述微动摄像头拍摄的实时画面，旁路控制软件设置在图像显示装置的监控主机上，并且旁路控制软件控制连接于云台及其上的微动摄像头；旁路控制软件计算所述第一画面中目标人脸的第一位置信息，确定目标人脸偏离截取画面正中的距离和方向；旁路控制软件根据所述距离和方向调整云台的运动轨迹，使得所述目标人脸位于所述图像显示装置所显示画面的正中位置。2.根据权利要求1所述的微动摄像头控制方法，其特征在于，还包括：定义任意顺序截取的两幅截取画面分别为第一图像和第二图像，则获取第二图像后直接替换并删除第一图像。3.根据权利要求1所述的微动摄像头控制方法，其特征在于，所述旁路控制软件按照预定的第一时间间隔截取图像显示装置上呈现的第一画面之后，还包括：识别所述第一画面中目标人脸的人脸信息，并在客户数据库中进行信息匹配；获取客户数据库中匹配上的客户对应的已办理业务名录；根据所述已办理业务名录获取客户业务倾向数据；根据所述客户业务倾向数据获得客户感兴趣的业务数据；发送所述客户感兴趣的业务数据至所述图像显示装置上进行显示。4.根据权利要求3所述的微动摄像头控制方法，其特征在于，所述发送所述客户感兴趣的业务数据至所述图像显示装置上进行显示，包括：根据客户业务倾向数据的大小划分对应客户感兴趣的业务在监控主机的显示屏幕上所占面积。5.根据权利要求1所述的微动摄像头控制方法，其特征在于，还包括：摄像控制软件根据预设第二时间间隔依次自动存取微动摄像头实时显示画面，其中，第二时间间隔为第一时间间隔的N倍，N＞1；摄像控制软件发送自动存取画面至旁路控制软件，以便旁路控制软件计算自动存取画面中目标人脸在该画面中的第二位置信息；旁路控制软件根据计算的第二时间间隔下的第二位置信息获取与其对应的在第一时间间隔下的第一位置信息；旁路控制软件计算第一位置信息与第二位置信息的误差，并根据该误差与预设误差阈值的比较结果校正第一位置信息。6.一种微动摄像头控制装置，其特征在于，包括：旁路控制模块，用于在图像显示装置的监控主机上设置旁路控制软件，该旁路控制软件控制连接于云台及其上的微动摄像头；其中，所述图像显示装置用于显示所述微动摄像头拍摄的实时画面；第一截取模块，用于旁路控制软件按照预定的第一时间间隔截取图像显示装置上呈现的第一画面；第一计算模块，用于旁路控制软件计算所述第一画面中目标人脸的第一位置信息，确定目标人脸偏离截取画面正中的距离和方向；第一控制模块，用于旁路控制软件根据所述距离和方向调整云台的运动轨迹，使得所述目标人脸位于所述图像显示装置所显示画面的正中位置。7.根据权利要求1所述的微动摄像头控制装置，其特征在于，还包括：定义模块，用于定义任意顺序截取的两幅截取画面分别为第一图像和第二图像；替换模块，用于在旁路控制软件获取第二图像后直接替换并删除第一图像。8.根据权利要求1所述的微动摄像头控制装置，其特征在于，还包括：识别匹配模块，用于识别所述第一画面中目标人脸的人脸信息，并在客户数据库中进行信息匹配；第一获取模块，用于获取客户数据库中匹配上的客户对应的已办理业务名录；第二获取模块，用于根据所述已办理业务名录获取客户业务倾向数据；第三获取模块，用于根据所述客户业务倾向数据获得客户感兴趣的业务数据；第一发送模块，用于发送所述客户感兴趣的业务数据至所述图像显示装置上进行显示；其中，发送模块包括根据客户业务倾向数据的大小划分对应客户感兴趣的业务在监控主机的显示屏幕上所占面积。9.根据权利要求1所述的微动摄像头控制装置，其特征在于，还包括：第二截取模块，用于摄像控制软件根据预设第二时间间隔依次自动存取微动摄像头实时显示画面，其中，第二时间间隔为第一时间间隔的N倍，N＞1；第二发送模块，用于摄像控制软件发送自动存取画面至旁路控制软件，以便旁路控制软件计算自动存取画面中目标人脸在该画面中的第二位置信息；第四获取模块，用于旁路控制软件根据计算的第二时间间隔下的第二位置信息获取与其对应的时间点在第一时间间隔下的第一位置信息；计算校正模块，用于旁路控制软件计算第一位置信息与第二位置信息的误差，并根据该误差与预设误差阈值的比较结果校正第一位置信息。10.一种电子设备，其特征在于，所述电子设备包括存储器及处理器，所述存储器用于存储至少一个指令，所述处理器用于执行所述至少一个指令以实现如权利要求1至5中任一项所述的微动摄像头控制方法。
说明书desc
技术领域本发明涉及设备自动控制技术领域，具体涉及一种微动摄像头控制方法及装置。背景技术基于智能设备在各行业的推广应用，不仅推进衍生了众多智能制造企业、便利用户的生活，同时也带动其他行业的并进发展，例如多媒体行业；早期多媒体视频智能在电视或电视屏上播放，随着智能设备的普遍应用，生活中无论是商场、停车站、公交站、高铁站、飞机场、银行等中的智慧屏幕上均可以播放。智能设备和多媒体行业的发展进一步推进广告的定制化服务，例如淘宝APP，其能够根据用户的购买信息推送客户感兴趣的商品，又例如微博APP，其会根据用户的关注账号，推送相关的新闻，以及相关的广告。当前银行网点、医院办事大厅、网络运营商网点等通常安装有多个用于业务推广和业务办理的智能设备，这些智能设备在完成业务办理后通常处于空闲状态，一般会处于暗屏节电模式或浮动显示业务办理窗口的模式，导致智能设备的功能利用大大空闲。为充分利用智能设备，一些企业设计开发一种能识别人脸进行广告或业务推送的智能设备，当有人靠近智能设备时，通过摄像头跟踪识别人脸进行业务推送。现有的摄像头实现人脸跟踪的方案主要是在摄像头和云台之间增加高性能的运算模块，例如专利申请CN108491832A公开的嵌入式人脸识别追踪装置及方法、CN110099254A公开的驾驶员人脸跟踪装置及方法都要求其装置内置实时高性能计算模块，这类实时运算会要求芯片运算能力强，模块集成度高，因此硬件成本高；否则运行过程中很容易出现卡顿现象，不能快速精准获得识别结果。发明内容本发明目的在于提供一种微动摄像头控制方法及装置，采用旁路控制的方式，截取实时显示画面，计算目标人脸在图像中的位置，控制云台及其上摄像头的运动轨迹使微动摄像头的拍摄画面人脸处于正中，完成人脸跟踪，运行计算简便。为达成上述目的，本发明提出如下技术方案：一种微动摄像头控制方法，包括：旁路控制软件按照预定的第一时间间隔截取图像显示装置上呈现的第一画面，其中，所述图像显示装置用于显示所述微动摄像头拍摄的实时画面，旁路控制软件设置在图像显示装置的监控主机上，并且旁路控制软件控制连接于云台及其上的微动摄像头；旁路控制软件计算所述第一画面中目标人脸的第一位置信息，确定目标人脸偏离截取画面正中的距离和方向；旁路控制软件根据所述距离和方向调整云台的运动轨迹，使得所述目标人脸位于所述图像显示装置所显示画面的正中位置。进一步的，还包括：定义任意顺序截取的两幅截取画面分别为第一图像和第二图像，则获取第二图像后直接替换并删除第一图像。进一步的，所述旁路控制软件按照预定的第一时间间隔截取图像显示装置上呈现的第一画面之后，还包括：识别所述第一画面中目标人脸的人脸信息，并在客户数据库中进行信息匹配；获取客户数据库中匹配上的客户对应的已办理业务名录；根据所述已办理业务名录获取客户业务倾向数据；根据所述客户业务倾向数据获得客户感兴趣的业务数据；发送所述客户感兴趣的业务数据至所述图像显示装置上进行显示。进一步的，所述发送所述客户感兴趣的业务数据至所述图像显示装置上进行显示，包括：根据客户业务倾向数据的大小划分对应客户感兴趣的业务在监控主机的显示屏幕上所占面积。进一步的，还包括：摄像控制软件根据预设第二时间间隔依次自动存取微动摄像头实时显示画面，其中，第二时间间隔为第一时间间隔的N倍，N＞1；摄像控制软件发送自动存取画面至旁路控制软件，以便旁路控制软件计算自动存取画面中目标人脸在该画面中的第二位置信息；旁路控制软件根据计算的第二时间间隔下的第二位置信息获取与其对应的在第一时间间隔下的第一位置信息；旁路控制软件计算第一位置信息与第二位置信息的误差，并根据该误差与预设误差阈值的比较结果校正第一位置信息。本发明另一技术方案在于公开一种微动摄像头控制装置，该装置包括：旁路控制模块，用于在图像显示装置的监控主机上设置旁路控制软件，该旁路控制软件控制连接于云台及其上的微动摄像头；其中，所述图像显示装置用于显示所述微动摄像头拍摄的实时画面；第一截取模块，用于旁路控制软件按照预定的第一时间间隔截取图像显示装置上呈现的第一画面；第一计算模块，用于旁路控制软件计算所述第一画面中目标人脸的第一位置信息，确定目标人脸偏离截取画面正中的距离和方向；第一控制模块，用于旁路控制软件根据所述距离和方向调整云台的运动轨迹，使得所述目标人脸位于所述图像显示装置所显示画面的正中位置。进一步的，还包括：定义模块，用于定义任意顺序截取的两幅截取画面分别为第一图像和第二图像；替换模块，用于在旁路控制软件获取第二图像后直接替换并删除第一图像。进一步的，还包括：识别匹配模块，用于识别所述第一画面中目标人脸的人脸信息，并在客户数据库中进行信息匹配；第一获取模块，用于获取客户数据库中匹配上的客户对应的已办理业务名录；第二获取模块，用于根据所述已办理业务名录获取客户业务倾向数据；第三获取模块，用于根据所述客户业务倾向数据获得客户感兴趣的业务数据；第一发送模块，用于发送所述客户感兴趣的业务数据至所述图像显示装置上进行显示；其中，发送模块包括根据客户业务倾向数据的大小划分对应客户感兴趣的业务在监控主机的显示屏幕上所占面积。进一步的，还包括：第二截取模块，用于摄像控制软件根据预设第二时间间隔依次自动存取微动摄像头实时显示画面，其中，第二时间间隔为第一时间间隔的N倍，N＞1；第二发送模块，用于摄像控制软件发送自动存取画面至旁路控制软件，以便旁路控制软件计算自动存取画面中目标人脸在该画面中的第二位置信息；第四获取模块，用于旁路控制软件根据计算的第二时间间隔下的第二位置信息获取与其对应的时间点在第一时间间隔下的第一位置信息；计算校正模块，用于旁路控制软件计算第一位置信息与第二位置信息的误差，并根据该误差与预设误差阈值的比较结果校正第一位置信息。本发明又一技术方案在于公开一种电子设备，该电子设备包括存储器及处理器，所述存储器用于存储至少一个指令，所述处理器用于执行所述至少一个指令以实现如上述的微动摄像头控制方法。由以上技术方案可知，本发明的技术方案获得了如下有益效果：本发明公开的微动摄像头控制方法及装置，其方法包括：旁路控制软件按照预定的第一时间间隔截取图像显示装置上呈现的第一画面，其中，所述图像显示装置用于显示所述微动摄像头拍摄的实时画面，旁路控制软件设置在图像显示装置的监控主机上，并且旁路控制软件控制连接于云台及其上的微动摄像头；旁路控制软件计算所述第一画面中目标人脸的第一位置信息，确定目标人脸偏离截取画面正中的距离和方向；旁路控制软件根据所述距离和方向调整云台的运动轨迹，使得所述目标人脸位于所述图像显示装置所显示画面的正中位置。本发明通过在图像显示的监控主机上安装用于计算和控制云台及摄像头的旁路控制软件，在截取摄像头实时显示画面后计算目标人脸在图像中的位置，进而陆续调整云台的运动轨迹使其上摄像头的拍摄画面人脸处于正中，完成人脸跟踪；进一步在人脸识别后，实现向该用户进行业务推荐。本发明的控制方法及装置通过设置旁路控制软件的方式相较于现有技术在云台和摄像头之间内置高性能计算模块的方案无需对摄像头获取的视频流做截流处理，对计算的性能要求低，因此处理时不会产生延时，大大减少方法及装置对于高性能计算芯片的依赖。同时，本发明公开的控制方法在电脑端开发简单易操作，整体装置的使用成本显著降低。应当理解，前述构思以及在下面更加详细地描述的额外构思的所有组合只要在这样的构思不相互矛盾的情况下都可以被视为本公开的发明主题的一部分。结合附图从下面的描述中可以更加全面地理解本发明教导的前述和其他方面、实施例和特征。本发明的其他附加方面例如示例性实施方式的特征和/或有益效果将在下面的描述中显见，或通过根据本发明教导的具体实施方式的实践中得知。附图说明附图不意在按比例绘制。在附图中，在各个图中示出的每个相同或近似相同的组成部分可以用相同的标号表示。为了清晰起见，在每个图中，并非每个组成部分均被标记。现在，将通过例子并参考附图来描述本发明的各个方面的实施例，其中：图1为本发明微动摄像头控制方法实现人脸跟踪流程图；图2为本发明微动摄像头控制方法实现人脸识别推荐流程图；图3为本发明微动摄像头控制方法使用校正流程图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例的附图，对本发明实施例的技术方案进行清楚、完整地描述。显然，所描述的实施例是本发明的一部分实施例，而不是全部的实施例。基于所描述的本发明的实施例，本领域普通技术人员在无需创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。除非另作定义，此处使用的技术术语或者科学术语应当为本发明所属领域内具有一般技能的人士所理解的通常意义。本发明专利申请说明书以及权利要求书中使用的“第一”、“第二”以及类似的词语并不表示任何顺序、数量或者重要性，而只是用来区分不同的组成部分。同样，除非上下文清楚地指明其它情况，否则单数形式的“一个”“一”或者“该”等类似词语也不表示数量限制，而是表示存在至少一个。“包括”或者“包含”等类似的词语意指出现在“包括”或者“包含”前面的元件或者物件涵盖出现在“包括”或者“包含”后面列举的特征、整体、步骤、操作、元素和/或组件，并不排除一个或多个其它特征、整体、步骤、操作、元素、组件和/或其集合的存在或添加。基于现有技术公开的采用摄像头进行人脸跟踪的装置，大多都要求装置内置高性能计算模块，通过芯片的强运算能力对摄像头的实时视频流做截流处理，进而在视频不卡顿的情况下精准实现人脸跟踪和识别；但是，在现有装置的制造过程发现，高性能计算模块由于集成度高，导致硬件成本高，否则将会出现视频卡顿、无法精准跟踪识别的现象。因此，本发明旨在于公开一种微动摄像头控制方法及装置，通过旁路控制的方式，截取摄像头的实时显示画面，计算目标人脸在图像中的位置，控制云台及其上摄像头的运动轨迹使微动摄像头的拍摄画面人脸处于正中，完成人脸跟踪，并且整理方案开发简单易操作。下面结合具体实施例，对本发明公开的微动摄像头控制方法及装置作进一步具体介绍。结合图1所示，实施例公开的微动摄像头控制方法，具体包括如下步骤：步骤S102，旁路控制软件按照预定的第一时间间隔截取图像显示装置上呈现的第一画面，其中，所述图像显示装置用于显示所述微动摄像头拍摄的实时画面，旁路控制软件设置在图像显示装置的监控主机上，并且旁路控制软件控制连接于云台及其上的微动摄像头；本步骤中，预设的第一时间间隔一般较为短暂，例如500ms，这种情况下旁路控制软件可以顺序截取获得连续的多张显示画面，无需通过摄像头控制软件截取摄像头的实时视频流，因此处理时不会出现延时情况，也不会影响摄像头的正常运转。作为一可选的方案，前期截取摄像头实时显示画面的方案可由摄像头的驱动执行，自动按照预设的第一时间间隔保存当前实时显示画面。步骤S104，旁路控制软件计算所述第一画面中目标人脸的第一位置信息，确定目标人脸偏离截取画面正中的距离和方向；例如，设定截取画面为第一方形，目标人脸在该画面中的第一位置信息用与第一方形相似的第二方形表示，通过第二方形的四条侧边和对应的第一方形的四条侧边的间距比例确定目标人脸的偏离方向和距离。或计算时，预先在旁路控制软件内建立截取画面的坐标系，如以截取画面正中为坐标原点，先通过判定目标人脸在该预设坐标系中的象限确定目标人脸的偏离方向，再通过对目标人脸上五官特征点的坐标与原点坐标的对称性分析确定目标人脸的偏离角度及距离。步骤S106，旁路控制软件根据所述距离和方向调整云台的运动轨迹，使得所述目标人脸位于所述图像显示装置所显示画面的正中位置。该步骤中，旁路控制软件逐序对截取画面进行目标人脸的偏离计算，并在对应截取画面偏离计算结束后控制云台及其上的摄像头运动向截取画面正中运动，持续根据预设第一时间间隔获得的截取画面步进微调，进而实现控制并调整云台运动轨迹，让目标人脸进入到摄像头实时显示画面，即图像显示装置的正中位置的方案。其中，旁路控制软件可采用控制云台及其上摄像头运动的电机驱动软件。具体的，步骤S106旁路控制软件实现控制云台及其上摄像头运动轨迹的过程如下：定义任意顺序截取的两幅截取画面分别为第一图像和第二图像；根据计算的第一图像中目标人脸偏离的距离和方向控制调整云台及其上微动摄像机运动至第一位置；其中，第一位置为第一图像的正中位置；根据计算的第二图像中目标人脸偏离的距离和方向控制调整云台及其上微动摄像机由第一位置运动至第二位置；其中，第二位置为第二图像的正中位置。在本方案下，旁路控制软件始终控制云台及其上的摄像头由第一位置向第二位置运动，实现人脸跟踪，该跟踪过程无需在云台和摄像头间执行截流和计算，无需设置高性能计算模块，不会造成摄像头跟踪识别过程的延时。为避免间隔获取的图像堆积存储，实施例在获取第二图像后直接替换并删除第一图像，避免图像存储所占空间和避免后期存储过大导致的程序运行卡顿现象。结合图2所示，实施例公开的微动摄像头控制方法在实现人脸跟踪后，还进一步实现人脸识别和业务推荐功能，具体识别推荐过程包括如下步骤：步骤S108，识别所述第一画面中目标人脸的人脸信息，并在客户数据库中进行信息匹配；其中，客户数据库为预先存储的客户信息对照表，包括客户姓名、身份信息、人脸信息和办理业务信息，例如银行系统的客户数据库、移动公司系统的客户数据库，这两类数据库由于需要用户身份信息核验，因此数据精准，具有唯一性。步骤S110，获取客户数据库中匹配上的客户对应的已办理业务名录；步骤S112，根据所述已办理业务名录获取客户业务倾向数据；具体实施时，客户业务倾向可通过数据大脑或机器学习模型训练后获得，例如，采用神经网络模型提取客户已办理业务的特征属性，判定客户业务倾向。在银行业务中，可根据已办理业务分析客户的风险倾向，如谨慎型、稳健型、平衡型和进取型，进而根据不同的风险倾向展示不同业务广告。步骤S114，根据所述客户业务倾向数据获得客户感兴趣的业务数据；步骤S116，发送所述客户感兴趣的业务数据至所述图像显示装置上进行显示。例如，对于稳健型的客户，推荐本金风险较小、收益可预估的业务。作为一可选的实施方式，对于未能在客户数据可匹配到的客户，监控主机的显示屏幕上推荐当前热门TOPN的业务广告。作为一可选的实施方式，步骤S116图像显示装置上展示的多个客户感兴趣的业务可根据客户业务倾向数据的大小划分对应客户感兴趣的业务在监控主机的显示屏幕上所占面积，例如，客户感兴趣的业务在监控主机的显示屏幕上所占面积的大小与其对应的客户业务倾向数据成正比。或，步骤S116展示用户感兴趣的业务可以是以滑动窗口的方式向屏幕的一侧滑动，用户感兴趣的业务优先滑动。结合图3所示，为避免旁路控制软件截取的摄像头实时显示画面与摄像头实时显示画面存在误差，实施例公开的方法进一步提出通过摄像头自动保存画面校正截取画面的功能；具体包括如下步骤：步骤S202，摄像控制软件根据预设第二时间间隔依次自动存取微动摄像头实时显示画面，其中，第二时间间隔为第一时间间隔的N倍，N＞1；在该步骤下，摄像头控制软件自动存取的实时显示画面的数量较少，并且操作时仅是存取当前显示的实时画面，不截取视频流。步骤S204，摄像控制软件发送自动存取画面至旁路控制软件，以便旁路控制软件计算自动存取画面中目标人脸在该画面中的第二位置信息；步骤S206，旁路控制软件根据计算的第二时间间隔下的第二位置信息获取与其对应的在第一时间间隔下的第一位置信息；例如，第一时间间隔为500ms，第二时间间隔为2s，则在第二时间间隔下第4S的第二位置信息对应为第一时间间隔下截取的第8张截取画面中的目标人脸的位置信息。步骤S208，旁路控制软件计算第一位置信息与第二位置信息的误差，并根据该误差与预设误差阈值的比较结果校正第一位置信息。其中，第一位置信息和第二位置信息均为画面中目标人脸偏移对应画面正中位置的距离和方向数据。基于两者为同一时刻拍摄的实时显示画面，理想状态下两画面应当为同一画面，两者中目标人脸的位置信息，即相对对应画面中正中位置的偏差和角度应当一致；若两者不同，且计算坐标差值或对应边比例偏差超过预设误差阈值，例如预设误差阈值可设置为0.1％，则以自动存取画面中的图像替代该对应截取画面，以第二位置信息替代第一位置信息，旁路控制软件控制云台及其上摄像头由第二位置信息向自动存取画面的正中移动；若两者不同，但计算坐标差值或对应边比例偏差小于预设误差阈值，则保留原第一位置信息，旁路控制软件控制云台及其上摄像头由第一位置信息向截取画面的正中移动。可选的，本发明前期也可以由摄像控制软件定时主动存取实时拍摄画面，然后通知控制软件去计算并更新相邻存取图片的位置，不占用摄像头的存储空间，也不通过摄像控制软件进行计算。本控制方法通过在图像显示的监控主机上安装用于计算和控制云台及摄像头的旁路控制软件，在截取摄像头实时显示画面后计算目标人脸在图像中的位置，进而陆续调整云台的运动轨迹使其上摄像头的拍摄画面人脸处于正中，完成人脸跟踪和人脸识别后，向该用户进行业务推荐。上述过程，设计方案开发简单易操作，不需要对视频流做截流处理，不会对摄像头产生延时效应，还避免采用现有技术中的在云台和摄像头之间设置高性能计算模块的方案，因此工业成本大大降低，充分减少对于高性能计算芯片的依赖。在本实施例中，还提供一种电子设备，该电子设备包括存储器及处理器，存储器用于存储至少一个指令，处理器用于执行所述至少一个指令以实现如上述的微动摄像头控制方法。上述至少一个指令可以运行在处理器中，或者也可以存储在存储器中，计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体，如调制的数据信号和载波。这些指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤，对应与不同的步骤可以通过不同的模块来实现。在本实施例中，该电子设备可以理解为是一个软件装置，在本实施例中提供了这样的一个软件装置，该装置的名称为一种微动摄像头控制装置，该装置包括：旁路控制模块，用于在图像显示装置的监控主机上设置旁路控制软件，该旁路控制软件控制连接于云台及其上的微动摄像头；其中，所述图像显示装置用于显示所述微动摄像头拍摄的实时画面；第一截取模块，用于旁路控制软件按照预定的第一时间间隔截取图像显示装置上呈现的第一画面；第一计算模块，用于旁路控制软件计算所述第一画面中目标人脸的第一位置信息，确定目标人脸偏离截取画面正中的距离和方向；第一控制模块，用于旁路控制软件根据所述距离和方向调整云台的运动轨迹，使得所述目标人脸位于所述图像显示装置所显示画面的正中位置。该装置包括一个或多个模块，所述一个或多个模块用于执行上述方法实施例中的步骤。在方法实施例中已经进行过说明的，在此不再赘述。例如，该装置为了避免间隔获取的图像在程序中的存储，还包括：定义模块，用于定义任意顺序截取的两幅截取画面分别为第一图像和第二图像；替换模块，用于在旁路控制软件获取第二图像后直接替换并删除第一图像。作为一可增加的实施方式，通过旁路控制软件实现控制云台及其上摄像头轨迹的过程由如下程序模块实现：第二控制模块，用于旁路控制软件根据计算的第一图像中目标人脸偏离的距离和方向控制调整云台及其上微动摄像机运动至第一位置；其中，第一位置为第一图像的正中位置；第三控制模块，用于旁路控制软件根据计算的第二图像中目标人脸偏离的距离和方向控制调整云台及其上微动摄像机由第一位置运动至第二位置；其中，第二位置为第二图像的正中位置。又例如，微动摄像头控制装置在实现人脸跟踪后，还进一步实现人脸识别和业务推荐功能，该功能由下述程序模块实现；包括：识别匹配模块，用于识别所述第一画面中目标人脸的人脸信息，并在客户数据库中进行信息匹配；第一获取模块，用于获取客户数据库中匹配上的客户对应的已办理业务名录；第二获取模块，用于根据所述已办理业务名录获取客户业务倾向数据；第三获取模块，用于根据所述客户业务倾向数据获得客户感兴趣的业务数据；第一发送模块，用于发送所述客户感兴趣的业务数据至所述图像显示装置上进行显示；其中，发送模块包括根据客户业务倾向数据的大小划分对应客户感兴趣的业务在监控主机的显示屏幕上所占面积。以及，微动摄像头控制装置为避免采用旁路控制软件截取的摄像头实时显示画面与摄像头实时显示画面存在误差的现象，提出校正功能；该功能实现的程序模块包括：第二截取模块，用于摄像控制软件根据预设第二时间间隔依次自动存取微动摄像头实时显示画面，其中，第二时间间隔为第一时间间隔的N倍，N＞1；第二发送模块，用于摄像控制软件发送自动存取画面至旁路控制软件，以便旁路控制软件计算自动存取画面中目标人脸在该画面中的第二位置信息；第四获取模块，用于旁路控制软件根据计算的第二时间间隔下的第二位置信息获取与其对应的时间点在第一时间间隔下的第一位置信息；计算校正模块，用于旁路控制软件计算第一位置信息与第二位置信息的误差，并根据该误差与预设误差阈值的比较结果校正第一位置信息。通过上述实施例解决了现有技术中要求人脸跟踪识别装置内置芯片运算能力强的实时高性能计算模块实现快速精准获得识别结果的方案，导致的硬件成本高、否则容易出现卡顿现象的技术问题，不仅能达到快速精准获得识别结果的目的，还在一定程度上降低了装置的硬件成本，并且解决了装置出现卡顿的情况。虽然本发明已以较佳实施例揭露如上，然其并非用以限定本发明。本发明所属技术领域中具有通常知识者，在不脱离本发明的精神和范围内，当可作各种的更动与润饰。因此，本发明的保护范围当视权利要求书所界定者为准。
