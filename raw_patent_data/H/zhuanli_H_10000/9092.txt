标题title
一种智慧校园的物联网通信路由方法及系统
摘要abst
本发明属于数字通信技术领域，公开了一种智慧校园的物联网通信路由方法及系统，通过在校园内布置物联网通信路由网络，从物联网通信路由网络中，首先获取各个节点的工作状态，计算获得负载度，根据节点的负载度，计算获得节点压力值，然后根据节点压力值，构建空间调度模型，获得调度系数；最后通过调度系数，对各个节点进行控制。在综合考虑周期性联网信息和即时通讯信息的过程中，结合各个时段校园中用户对物联网设备的使用习惯进行记录并且总结，动态地调度各个路由器或者物联网设备的连接方式，以降低物联网设备联网时发生的延迟，提高各个物联网设备为用户提供服务的效率和质量。
权利要求书clms
1.一种智慧校园的物联网通信路由方法，其特征在于，所述方法包括以下步骤：S100，在校园内布置物联网通信路由网络；S200，从物联网通信路由网络中，获取各个节点的工作状态，计算获得负载度；S300，根据节点的负载度，计算获得节点压力值；S400，根据节点压力值，构建空间调度模型，获得调度系数；S500，通过调度系数，对各个节点进行控制。2.根据权利要求1所述的一种智慧校园的物联网通信路由方法，其特征在于，在步骤S100中，在校园内布置物联网通信路由网络的方法是：在校园内布置物联网通信路由网络的方法是：在校园中配置有多个与路由器之间有线或无线连接的物联网设备，物联网设备与路由器之间进行收发第一类信息和第二类信息，第一类信息通过路由器上传到服务器；其中所述第一类信息为物联网设备实时采集的信息；第二类信息通过路由器与互联网进行数据通信，其中所述第二类信息为物联网设备与客户端之间产生的交互信息，交互信息是物联网设备为用户提供服务产生的信息，交互的方式包括交易、通讯、互联网连接或者对服务器上存储的数据进行读写；路由器之间可进行组网，校园中所有的路由器构成物联网通信路由网络。3.根据权利要求1所述的一种智慧校园的物联网通信路由方法，其特征在于，在步骤S200中，获取各个节点的工作状态，计算获得负载度的方法是：以物联网通信路由网络路由器作为节点，以物联网设备作为叶点，实时测量节点的CPU使用率PRt，以一个叶点可连接的节点数量作为向上可配对量PERN，以一个节点可连接的叶点的数量作为向下可配对量PREN；对一个节点，获取当前时刻下节点同时连接的叶点的数量作为挂载量REN；对一个节点，以其周围的节点作为邻节点，分别测量获得一个节点与其各个邻节点之间的每分钟平均数据传输速率作为横向速率RNRSp，测量获得一个节点与服务器之间的属于第一类信息的每分钟平均数据传输速率作为直连速率RSSp；对于一个节点，将其符合RNRSp≥RSSp的邻节点作为预备节点；叶点周期性地发送第一类信息到节点，其周期长度为上传周期fprd，周期性发送的第一类信息的平均大小为数据长度FMsize，节点为其分配的带宽为dls，分别获得一个节点从与其连接的各个叶点的链路占用度LPRt，LPRt＝8×FMsize/fprd/dls；测量一个节点中各个与其相连的叶点的链路占用度LPRt和节点的CPU使用率PRt构成节点的工作状态；计算获得其负载度WDgr，,其中i1为累加变量，LPRti1代表的是与节点连接的叶点中的第i1个叶点与该节点连接的链路占用度；或者以一个节点的CPU使用率PRt作为其负载度WDgr。4.根据权利要求1所述的一种智慧校园的物联网通信路由方法，其特征在于，在步骤S300中，根据节点的负载度，计算获得节点压力值的方法是：以0.5~1个小时作为一个窗口期，或者将一个自然日平均分割成24~48个窗口期，以一个叶点统计其在一个窗口期的收发的第二类信息的频次作为该叶点在该窗口期的第一访压值fpv；匹配得到当前时刻所对应的窗口期作为观测期，将一个叶点在wk个自然日中同一观测期的各个第一访压值构建成一个序列作为第一访压序列fpls,fpls＝,i2∈，其中wk为记录第一访压值的自然日的数量；计算获得叶点的第二访压值spv，；其中i3为累加变量，fpls代表第一访压序列中第i3个元素，fpv_b和fpv_t分别代表第一访压序列中的最小值和最大值；以一个节点作为域核点，以域核点及其预备节点构成一个关于节点的集合作为节点域；该节点域中节点的数量为rarn，将节点域中各个节点的负载度构建一个序列作为域负载序列rarlst,rarlst＝,i4∈,其中i4为该节点域中节点的序号，以WDgri4代表该节点域中第i4个节点的负载度；以一个叶点可连接域核点的节点域中的节点的数量为rearn，以域核点可连接的各个叶点的集合作为叶点域，结合叶点域中各个叶点的第二访压值构建一个序列作为该节点的域访压序列rspvlst,rspvlst＝,i5∈，其中i5为叶点域中的叶点的序号，spvi5代表叶点域中第i5个叶点的第二访压值；为所有的节点计算其节点压力值rt_prs：；其中i6、i7为累加变量，rearni6代表叶点域中第i6个叶点在节点域中的可连接的节点的数量，以PERNi6代表叶点域中第i6个叶点可连接的节点数量，rspvlst代表域访压序列中第i6个元素，即叶点域中第i6个叶点的第二访压值，rPRENi7代表与节点域中第i7个节点连接且与域核点连接的叶点的数量，PRENi7代表域核点的节点域中第i7个节点可连接的叶点的数量，rarlst代表域负载序列中第i7个元素，即该节点域中第i7个节点的负载度。5.根据权利要求1所述的一种智慧校园的物联网通信路由方法，其特征在于，在步骤S400中，根据节点压力值，构建空间调度模型，获得调度系数的方法是：当一个节点的节点域中的各个节点的节点压力值的算数平均值大于同一时刻下所有节点的节点压力值的算数平均值，则该节点在该时刻发生一次负载溢出事件，一个节点在上一个自然日中发生的负载溢出事件的次数为近溢频值ROP，计算所有节点的近溢频值的算术平均值作为均溢频值EROP；计算溢出窗口期OT，OT＝24/EROP；计算获得节点压力值rt_prs的频率为每R小时一次，R∈；则溢出窗口POT＝OT//R，其中//为做除法后向下取整函数的运算符号；获取所有节点在当前时刻到前POT个时刻的节点压力值并构建一个矩阵作为空间调度模型ATMF，；其中rnum代表节点的总数量；rt_prsrnum,POT代表在前POT个时刻下第rnum个节点测得的节点压力值；设置一个变量作为时刻迭代值m1，设置一个变量作为节点迭代值m2，初始化m1、m2的值为1； 跳转到步骤S401；S401，当m2≤rnum，设置一个变量作为增压累积量sub_Gflag,设置一个变量作为增压标签Gflag，设置一个变量作为最大增压量MxVUP；初始化sub_Gflag、Gflag和MxVUP的值为0；跳转到步骤S402；当m2＞rnum，跳转到步骤S406；S402，当m1＜POT,计算瞬时变化量tmpt，tmpt＝ATMF－ATMF，其中ATMF代表空间调度模型中第m2行第m1列的元素，跳转到步骤S403；当m1≥POT，跳转到步骤S405；S403，如果tmpt≥0，则将sub_Gflag的值增加1 ,如果 MxVUP＜tmpt，则更新MxVUP的值为tmpt的值，将m1的值加1，跳转到步骤S402；如果MxVUP≥tmpt，不更新MxVUP的值，将m1的值加1，跳转到步骤S402；如果tmpt＜0，跳转到步骤S404；S404，如果Gflag≤sub_Gflag，则更新Gflag的值为sub_Gflag的值，设置sub_Gflag的值为0，将m1的值加1，跳转到步骤S402；如果Gflag＞sub_Gflag，将m1的值加1，跳转到步骤S402；S405，计算第m2个节点的调度系数adidx，adidx＝MxVUP×Gflag/POT，将m2的值增加1， 跳转到步骤S401；S406，结束。6.根据权利要求1所述的一种智慧校园的物联网通信路由方法，其特征在于，在步骤S500中，通过调度系数，对各个节点进行控制的方法是：以所有节点的调度系数的算术平均值作为调度平衡值Eadidx，对一个节点，如果其调度系数adidx＞Eadidx，则获取该节点的各个叶点，将叶点按照第二访压值从大到小排列，依次尝试更换节点，直到一个叶点成功进行更换节点的操作；如果其调度系数adidx≤Eadidx，则无需对叶点的连接进行操作；其中尝试更换节点的方法是：对于一个叶点，获取可与其连接的各个节点中拥有最小值的调度系数作为向下调度系数dw_adidx，如果dw_adidx＜Eadidx，则将该叶点与dw_adidx对应的节点进行连接，则尝试更换节点成功，如果dw_adidx≥Eadidx，则尝试更换节点失败。7.一种智慧校园的物联网通信路由系统，其特征在于，所述一种智慧校园的物联网通信路由系统包括：处理器、存储器及存储在所述存储器中并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现权利要求1到6中任意一项所述的一种智慧校园的物联网通信路由方法中的步骤，所述一种智慧校园的物联网通信路由系统运行于桌上型计算机、笔记本电脑、掌上电脑及云端数据中心的计算设备中。
说明书desc
技术领域本发明属于数字通信技术领域，具体涉及一种智慧校园的物联网通信路由方法及系统。背景技术在智慧校园中，物联网设备常用于采集数据以构建大数据，从而智能化对校园中的设备进行调度控制；同时，物联网设备也为学生或者用户提供服务。然而，物联网设备在采集数据以及提供服务的时候都需要通过路由器进行联网，在路由器承载的联网任务过重的时候，容易导致巨大的网络延迟，导致提供服务的质量和效率都出现严重下降，对校园的能源或者物联网系统的运行都造成严重的影响，因此，需要一种路由方法在通信峰值进行调控以降低网络延迟和通信效率现象。发明内容本发明的目的在于提出一种智慧校园的物联网通信路由方法及系统，以解决现有技术中所存在的一个或多个技术问题，至少提供一种有益的选择或创造条件。为了实现上述目的，根据本发明的一方面，提供一种智慧校园的物联网通信路由方法，所述方法包括以下步骤：S100，在校园内布置物联网通信路由网络；S200，从物联网通信路由网络中，获取各个节点的工作状态，计算获得负载度；所述工作状态包括链路占用度和节点的CPU使用率；S300，根据节点的负载度，计算获得节点压力值；S400，根据节点压力值，构建空间调度模型，获得调度系数；S500，通过调度系数，对各个节点进行控制。进一步地，在步骤S100中，在校园内布置物联网通信路由网络的方法是：在校园中配置有多个与路由器之间有线或无线连接的物联网设备，物联网设备与路由器之间进行收发第一类信息和第二类信息，第一类信息通过路由器上传到服务器；其中所述第一类信息为物联网设备实时采集的信息，包括视频、图像、表格或文件；第二类信息通过路由器与互联网进行数据通信，其中所述第二类信息为物联网设备与客户端之间产生的交互信息，交互信息是物联网设备为用户提供服务产生的信息，交互的方式包括交易、通讯、互联网连接或者对服务器上存储的数据进行读写；路由器之间可进行组网，校园中所有的路由器构成物联网通信路由网络，其中物联网设备为可进行物联网的设备、装置或者仪器，物联网设备包括：移动设备、可穿戴设备、电子白板、平板电脑、消费终端、人脸消费终端、人脸通道闸或电子餐盘。进一步地，在步骤S200中，获取各个节点的工作状态，计算获得负载度的方法是：以物联网通信路由网络路由器作为节点，以物联网设备作为叶点，实时测量节点的CPU使用率PRt，以一个叶点可连接的节点数量作为向上可配对量PERN，以一个节点可连接的叶点的数量作为向下可配对量PREN；可连接的叶点或可连接的节点的意义为在数据传输的信号范围内的叶点或者在数据传输的信号范围内的节点；；对一个节点，获取当前时刻下节点同时连接的叶点的数量作为挂载量REN；对一个节点，以其可连接的节点作为邻节点，分别测量获得一个节点与其各个邻节点之间的每一分钟内的平均数据传输速率作为横向速率RNRSp，测量获得一个节点与服务器之间第一类信息的每分钟平均数据传输速率作为直连速率RSSp；对于一个节点，将其符合RNRSp≥RSSp的各个邻节点作为预备节点；叶点周期性地发送第一类信息到节点，周期性地发送即每隔相同的时间段进行一次发送，以其周期长度作为上传周期fprd，周期性地发送的第一类信息的平均大小为数据长度FMsize，节点为该叶点分配的带宽为dls，分别获得一个节点与和其连接的各个叶点的链路占用度LPRt，LPRt＝8×FMsize/fprd/dls；测量一个节点的各个与其相连的叶点的链路占用度LPRt和节点的CPU使用率PRt构成节点的工作状态；计算获得其负载度WDgr，,其中i1为累加变量，LPRti1代表的是与节点连接的叶点中的第i1个叶点与该节点连接的链路占用度；或者以一个节点的CPU使用率PRt作为其负载度WDgr。。进一步地，在步骤S300中，根据节点的负载度，计算获得节点压力值的方法是：以0.5～1个小时作为一个窗口期，或者将一个自然日平均分割成24～48个窗口期，以一个叶点统计其在一个窗口期的收发的第二类信息的频次作为该叶点在该窗口期的第一访压值fpv；匹配得到当前时刻所在的窗口期作为观测期，将一个叶点在最近的wk个自然日中属同一观测期的各个第一访压值构建成一个序列作为第一访压序列fpls,fpls＝,i2∈，i2为第一访压值的序号，以fpvi2代表前i2个自然日中属同一观测期的第一访压值；其中wk为记录第一访压值的自然日的数量，即第一访压序列的长度，wk在 之间取值；计算获得叶点的第二访压值spv，；其中i3为累加变量，fpls代表第一访压序列中第i3个元素，fpv_b和fpv_t分别代表第一访压序列中的最小值和最大值；遍历各个节点并以分别以各个节点作为域核点，以域核点及其预备节点构成的集合作为节点域；该节点域中节点的数量为rarn，将节点域中各个节点的负载度构建一个序列作为域负载序列rarlst,rarlst＝,i4∈,其中i4为该节点域中节点的序号，以WDgri4代表该节点域中第i4个节点的负载度；以一个叶点在节点域中可连接的节点的数量为rearn，以域核点可连接的各个叶点的集合作为叶点域，结合叶点域中各个叶点的第二访压值构建一个序列作为该节点的域访压序列rspvlst,rspvlst＝,i5∈，其中i5为叶点域中的叶点的序号，spvi5代表叶点域中第i5个叶点的第二访压值；为所有的节点计算其节点压力值rt_prs：；其中i6、i7为累加变量，rearni6代表叶点域中第i6个叶点在节点域中的可连接的节点的数量，以PERNi6代表叶点域中第i6个叶点可连接的节点数量，rspvlst代表域访压序列中第i6个元素，即叶点域中第i6个叶点的第二访压值，rPRENi7代表与节点域中第i7个节点连接且与域核点连接的叶点的数量，PRENi7代表域核点的节点域中第i7个节点可连接的叶点的数量，rarlst代表域负载序列中第i7个元素，即该节点域中第i7个节点的负载度。。进一步地，在步骤S400中，根据节点压力值，构建空间调度模型，获得调度系数的方法是：当一个节点所在的节点域中的各个节点的节点压力值的算数平均值大于同一时刻下所有节点的节点压力值的算数平均值，则记该节点在该时刻发生一次负载溢出事件，一个节点在上一个自然日中发生的负载溢出事件的次数为近溢频值ROP，计算所有节点的近溢频值的算术平均值作为均溢频值EROP；计算溢出窗口期OT，OT＝24/EROP；设置获得节点压力值rt_prs的频率为每R小时一次，R∈；则溢出窗口POT＝OT//R，其中//为做除法后向下取整取整函数的运算符号；获取所有节点在当前时刻到前POT个时刻的节点压力值并构建一个矩阵作为空间调度模型ATMF，；其中rnum代表节点的总数量；rt_prsrnum,POT代表在前POT个时刻下第rnum个节点测得的节点压力值；设置一个变量作为时刻迭代值m1，设置一个变量作为节点迭代值m2，初始化m1、m2的值为1； 跳转到步骤S401；S401，当m2≤rnum，设置一个变量作为增压累积量sub_Gflag,设置一个变量作为增压标签Gflag，设置一个变量作为最大增压量MxVUP；初始化sub_Gflag、Gflag和MxVUP的值为0；跳转到步骤S402；当m2＞rnum，跳转到步骤S406；S402，当m1＜POT,计算瞬时变化量tmpt，tmpt＝ATMF－ATMF，其中ATMF代表空间调度模型中第m2行第m1列的元素，跳转到步骤S403；当m1≥POT，跳转到步骤S405；S403，如果tmpt≥0，则将sub_Gflag的值增加1 ,如果 MxVUP＜tmpt，则更新MxVUP的值为tmpt的值，将m1的值加1，跳转到步骤S402；如果MxVUP≥tmpt，不更新MxVUP的值，将m1的值加1，跳转到步骤S402；如果tmpt＜0，跳转到步骤S404；S404，如果Gflag≤sub_Gflag，则更新Gflag的值为sub_Gflag的值，设置sub_Gflag的值为0，将m1的值加1，跳转到步骤S402；如果Gflag＞sub_Gflag，将m1的值加1，跳转到步骤S402；S405，计算第m2个节点的调度系数adidx，adidx＝MxVUP×Gflag/POT，将m2的值增加1， 跳转到步骤S401；S406，结束。。进一步地，在步骤S500中，通过调度系数，对各个节点进行控制的方法是：以所有节点的调度系数的算术平均值作为调度平衡值Eadidx，对一个节点，如果其调度系数adidx＞Eadidx，则获取该节点的各个叶点，将各个叶点按照第二访压值从大到小排列，依次尝试更换节点，直到一个叶点成功进行更换节点的操作；如果其调度系数adidx≤Eadidx，则无需对叶点的连接进行操作；其中尝试更换节点的方法是：对于一个叶点，获取可与其连接的各个节点中拥有最小值的调度系数作为向下调度系数dw_adidx，如果dw_adidx＜Eadidx，则将该叶点与dw_adidx对应的节点进行连接，则更换节点成功，如果dw_adidx≥Eadidx，则更换节点失败。本发明还提供了一种智慧校园的物联网通信路由系统，所述一种智慧校园的物联网通信路由系统包括：处理器、存储器及存储在所述存储器中并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现所述一种智慧校园的物联网通信路由方法中的步骤，所述一种智慧校园的物联网通信路由系统可以运行于桌上型计算机、笔记本电脑、掌上电脑及云端数据中心等计算设备中，可运行的系统可包括，但不仅限于，处理器、存储器、服务器集群，所述处理器执行所述计算机程序运行在以下系统的单元中：联网初始单元，用于在校园内布置物联网通信路由网络；负载计算单元，用于从物联网通信路由网络中，获取各个节点的工作状态，计算获得负载度；压力衡量单元，用于根据节点的负载度，计算获得节点压力值；模型构建单元，用于根据节点压力值，构建空间调度模型，获得调度系数；动态调度单元，用于通过调度系数，对各个节点进行控制。本发明的有益效果为：本发明提供一种智慧校园的物联网通信路由方法及系统，在综合考虑周期性联网信息和即时通讯信息的过程中，结合各个时段校园中用户对物联网设备的使用习惯进行记录并且总结，动态地调度各个路由器或者物联网设备的连接方式，以降低物联网设备联网时发生的延迟，提高各个物联网设备为用户提供服务的效率和质量。附图说明通过对结合附图所示出的实施方式进行详细说明，本发明的上述以及其他特征将更加明显，本发明附图中相同的参考标号表示相同或相似的元素，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图，在附图中：图1所示为一种智慧校园的物联网通信路由方法的流程图；图2所示为一种智慧校园的物联网通信路由系统结构图。具体实施方式以下将结合实施例和附图对本发明的构思、具体结构及产生的技术效果进行清楚、完整的描述，以充分地理解本发明的目的、方案和效果。需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互组合。如图1所示为一种智慧校园的物联网通信路由方法的流程图，下面结合图1来阐述根据本发明的实施方式的一种智慧校园的物联网通信路由方法，所述方法包括以下步骤：S100，在校园内布置物联网通信路由网络；S200，从物联网通信路由网络中，获取各个节点的工作状态，计算获得负载度；S300，根据节点的负载度，计算获得节点压力值；S400，根据节点压力值，构建空间调度模型，获得调度系数；S500，通过调度系数，对各个节点进行控制。进一步地，在步骤S100中，在校园内布置物联网通信路由网络的方法是：在校园中配置有多个物联网设备，物联网设备与路由器之间进行收发第一类信息，第一类信息通过路由器上传到服务器；其中所述第一类信息为物联网设备实时采集的信息，包括视频、图像、表格或文件；同时物联网设备与路由器之间进行收发第二类信息，第二类信息通过路由器与互联网进行数据通信，其中所述第二类信息为物联网设备与客户端之间产生的交互信息，交互信息是物联网设备为用户提供服务产生的信息，交互的方式包括交易、通讯、互联网连接或者对服务器上存储的数据进行读写；路由器之间可进行组网，校园中所有的路由器构成物联网通信路由网络，其中物联网设备为可进行物联网的设备、装置或者仪器。进一步地，在步骤S200中，获取各个节点的工作状态，计算获得负载度的方法是：以物联网通信路由网络路由器作为节点，以物联网设备作为叶点，实时测量节点的CPU使用率PRt，以一个叶点可连接的节点数量作为向上可配对量PERN，以一个节点可连接的叶点的数量作为向下可配对量PREN；对一个节点，获取当前时刻下节点同时连接的叶点的数量作为挂载量REN；对一个节点，以其周围的节点作为邻节点，分别测量获得一个节点与其各个邻节点之间的每分钟平均数据传输速率作为横向速率RNRSp，测量获得一个节点与服务器之间的属于第一类信息的每分钟平均数据传输速率作为直连速率RSSp；对于一个节点，将其符合RNRSp≥RSSp的邻节点作为预备节点；叶点周期性地发送第一类信息到节点，其周期长度为上传周期fprd，周期性发送的第一类信息的平均大小为数据长度FMsize，节点为其分配的带宽为dls，分别获得一个节点从与其连接的各个叶点的链路占用度LPRt，LPRt＝8×FMsize/fprd/dls；测量一个节点中各个与其相连的叶点的链路占用度LPRt和节点的CPU使用率PRt构成节点的工作状态；计算获得其负载度WDgr，,其中i1为累加变量，LPRti1代表的是与节点连接的叶点中的第i1个叶点与该节点连接的链路占用度；或者以一个节点的CPU使用率PRt作为其负载度WDgr。进一步地，在步骤S300中，根据节点的负载度，计算获得节点压力值的方法是：以0.5~1个小时作为一个窗口期，或者将一个自然日平均分割成24~48个窗口期，以一个叶点统计其在一个窗口期的收发的第二类信息的频次作为该叶点在该窗口期的第一访压值fpv；匹配得到当前时刻所对应的窗口期作为观测期，将一个叶点在wk个自然日中同一观测期的各个第一访压值构建成一个序列作为第一访压序列fpls,fpls＝,i2∈，其中wk为记录第一访压值的自然日的数量，即第一访压序列的长度，wk在 之间取值；计算获得叶点的第二访压值spv，；其中i3为累加变量，fpls代表第一访压序列中第i3个元素，fpv_b和fpv_t分别代表第一访压序列中的最小值和最大值；以一个节点作为域核点，以域核点及其预备节点构成一个关于节点的集合作为节点域；该节点域中节点的数量为rarn，将节点域中各个节点的负载度构建一个序列作为域负载序列rarlst,rarlst＝,i4∈,其中i4为该节点域中节点的序号，以WDgri4代表该节点域中第i4个节点的负载度；以一个叶点可连接域核点的节点域中的节点的数量为rearn，以域核点可连接的各个叶点的集合作为叶点域，结合叶点域中各个叶点的第二访压值构建一个序列作为该节点的域访压序列rspvlst,rspvlst＝,i5∈，其中i5为叶点域中的叶点的序号，spvi5代表叶点域中第i5个叶点的第二访压值；为所有的节点计算其节点压力值rt_prs：；其中i6、i7为累加变量，rearni6代表叶点域中第i6个叶点在节点域中的可连接的节点的数量，以PERNi6代表叶点域中第i6个叶点可连接的节点数量，rspvlst代表域访压序列中第i6个元素，即叶点域中第i6个叶点的第二访压值，rPRENi7代表与节点域中第i7个节点连接且与域核点连接的叶点的数量，PRENi7代表域核点的节点域中第i7个节点可连接的叶点的数量，rarlst代表域负载序列中第i7个元素，即该节点域中第i7个节点的负载度。计算各个节点的节点压力值，可以根据历史数据对一定时期内第二类信息的处理压力进行预测，使得该算法具有相当的时效性，对各个路由器在一定时期内关于第二类信息的负载得以预判，进而通过这个经过预测的第二访压值对后续步骤中节点压力值更贴近真实的路由器负载压力，因此计算出的节点压力值衡量了时间数据并总结出其规律；同时节点压力值综合考虑了预备节点的负载状况，对各个叶点选择不同节点进行数据传输的可能性加入计算范围，使得一个特定的节点的时间上和空间上的负载特征都得以衡量，使得衡量路由器的服务状况或者负载状况更加具体和精确。进一步地，在步骤S400中，根据节点压力值，构建空间调度模型，获得调度系数的方法是：当一个节点的节点域中的各个节点的节点压力值的算数平均值大于同一时刻下所有节点的节点压力值的算数平均值，则该节点在该时刻发生一次负载溢出事件，一个节点在上一个自然日中发生的负载溢出事件的次数为近溢频值ROP，计算所有节点的近溢频值的算术平均值作为均溢频值EROP；计算溢出窗口期OT，OT＝24/EROP；计算获得节点压力值rt_prs的频率为每R小时一次，R∈；则溢出窗口POT＝OT//R，其中//为做除法后向下取整函数的运算符号；获取所有节点在当前时刻到前POT个时刻的节点压力值并构建一个矩阵作为空间调度模型ATMF，；其中rnum代表节点的总数量；rt_prsrnum,POT代表在前POT个时刻下第rnum个节点测得的节点压力值；设置一个变量作为时刻迭代值m1，设置一个变量作为节点迭代值m2，初始化m1、m2的值为1； 跳转到步骤S401；S401，当m2≤rnum，设置一个变量作为增压累积量sub_Gflag,设置一个变量作为增压标签Gflag，设置一个变量作为最大增压量MxVUP；初始化sub_Gflag、Gflag和MxVUP的值为0；跳转到步骤S402；当m2＞rnum，跳转到步骤S406；S402，当m1＜POT,计算瞬时变化量tmpt，tmpt＝ATMF－ATMF，其中ATMF代表空间调度模型中第m2行第m1列的元素，跳转到步骤S403；当m1≥POT，跳转到步骤S405；S403，如果tmpt≥0，则将sub_Gflag的值增加1 ,如果 MxVUP＜tmpt，则更新MxVUP的值为tmpt的值，将m1的值加1，跳转到步骤S402；如果MxVUP≥tmpt，不更新MxVUP的值，将m1的值加1，跳转到步骤S402；如果tmpt＜0，跳转到步骤S404；S404，如果Gflag≤sub_Gflag，则更新Gflag的值为sub_Gflag的值，设置sub_Gflag的值为0，将m1的值加1，跳转到步骤S402；如果Gflag＞sub_Gflag，将m1的值加1，跳转到步骤S402；S405，计算第m2个节点的调度系数adidx，adidx＝MxVUP×Gflag/POT，将m2的值增加1， 跳转到步骤S401；S406，结束。进一步地，在步骤S500中，通过调度系数，对各个节点进行控制的方法是：以所有节点的调度系数的算术平均值作为调度平衡值Eadidx，对一个节点，如果其调度系数adidx＞Eadidx，则获取该节点的各个叶点，将叶点按照第二访压值从大到小排列，依次尝试更换节点，直到一个叶点成功进行更换节点的操作；如果其调度系数adidx≤Eadidx，则无需对叶点的连接进行操作；其中尝试更换节点的方法是：对于一个叶点，获取可与其连接的各个节点中拥有最小值的调度系数作为向下调度系数dw_adidx，如果dw_adidx＜Eadidx，则将该叶点与dw_adidx对应的节点进行连接，则尝试更换节点成功，如果dw_adidx≥Eadidx，则尝试更换节点失败。进一步地，所述一种智慧校园的物联网通信路由系统包括：处理器、存储器及存储在所述存储器中并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现一种智慧校园的物联网通信路由方法中的步骤，所述一种智慧校园的物联网通信路由系统运行于桌上型计算机、笔记本电脑、掌上电脑及云端数据中心的计算设备。所述系统包括：存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序运行在以下系统的单元中：联网初始单元，用于在校园内布置物联网通信路由网络；负载计算单元，用于从物联网通信路由网络中，获取各个节点的工作状态，计算获得负载度；压力衡量单元，用于根据节点的负载度，计算获得节点压力值；模型构建单元，用于根据节点压力值，构建空间调度模型，获得调度系数；动态调度单元，用于通过调度系数，对各个节点进行控制。所述一种智慧校园的物联网通信路由系统可以运行于桌上型计算机、笔记本电脑、掌上电脑及云端服务器等计算设备中。所述一种智慧校园的物联网通信路由系统，可运行的系统可包括，但不仅限于，处理器、存储器。本领域技术人员可以理解，所述例子仅仅是一种智慧校园的物联网通信路由系统的示例，并不构成对一种智慧校园的物联网通信路由系统的限定，可以包括比例子更多或更少的部件，或者组合某些部件，或者不同的部件，例如所述一种智慧校园的物联网通信路由系统还可以包括输入输出设备、网络接入设备、总线等。所称处理器可以是中央处理单元，还可以是其他通用处理器、数字信号处理器 、专用集成电路、现场可编程门阵列  或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等，所述处理器是所述一种智慧校园的物联网通信路由系统运行系统的控制中心，利用各种接口和线路连接整个一种智慧校园的物联网通信路由系统可运行系统的各个部分。所述存储器可用于存储所述计算机程序和/或模块，所述处理器通过运行或执行存储在所述存储器内的计算机程序和/或模块，以及调用存储在存储器内的数据，实现所述一种智慧校园的物联网通信路由系统的各种功能。所述存储器可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序等；存储数据区可存储根据手机的使用所创建的数据等。此外，存储器可以包括高速随机存取存储器，还可以包括非易失性存储器，例如硬盘、内存、插接式硬盘，智能存储卡，安全数字卡，闪存卡、至少一个磁盘存储器件、闪存器件、或其他易失性固态存储器件。尽管本发明的描述已经相当详尽且特别对几个所述实施例进行了描述，但其并非旨在局限于任何这些细节或实施例或任何特殊实施例，从而有效地涵盖本发明的预定范围。此外，上文以发明人可预见的实施例对本发明进行描述，其目的是为了提供有用的描述，而那些目前尚未预见的对本发明的非实质性改动仍可代表本发明的等效改动。
