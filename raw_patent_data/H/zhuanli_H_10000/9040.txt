标题title
一种融合位置信息的水下光通信多用户接入通信方法
摘要abst
本发明公开了一种融合位置信息的水下光通信多用户接入方法，包括：用户端机向基站请求接入，若发生碰撞，则用户端机执行退避算法重新接入；反之，则将基站接收到信号的接收面大小定义为竞争区间，并在竞争区间内广播告知接入完成；基站对接入的用户端机定时向竞争区间内广播状态请求，并根据用户端机的应答更新竞争区间；若基站扩大竞争区间至全向广播仍未接收到用户端机的应答，则将用户端机记为离线；用户端机向基站发送数据时，基站根据用户端机所在竞争区间的用户端机数量分配数据帧长度，用户端机根据分配的数据帧长度发送数据。本发明相较于CSMA/CA协议，能够提高竞争接入效率，降低系统功耗，同时提供更好的移动通信的支持。
权利要求书clms
1.一种融合位置信息的水下光通信多用户接入方法，其特征在于，包括以下步骤：1-1）用户端机向基站发送请求接入帧，尝试请求接入；1-2）若在接入过程中未发生碰撞，基站成功接收到请求接入帧，计算接收到信号的接收面大小，将其定义为用户端机的竞争区间，对用户端机信息进行保存，并将其标记为在线状态；如果发生碰撞，基站不做回应，申请接入用户执行退避算法，重新尝试接入；1-3）基站向竞争区间内广播发送应答帧，告知用户端机接入完成；1-4）基站针对用户端机开启定时器，在计数完成后，向用户端机的竞争区间广播发送状态确认帧；1-5）用户端机接收到基站发送的状态确认帧后，向基站发送请求接入帧；1-6）基站在接收到请求接入帧后，再次计算并更新用户端机竞争区间，若基站在一段时间内未接收到用户端机发送的请求接入帧，则将原竞争区间扩大，再次广播状态确认帧；若接收到用户端机的请求接入帧，则更新用户端机信息，否则继续扩大竞争区间直至全向广播，若均无回应，则将用户端机标记为离线，清空用户端机竞争区间信息。2.根据权利要求1所述的融合位置信息的水下光通信多用户接入方法，其特征在于，步骤1-2）中的竞争区间的计算方法包括如下步骤：1-2-1）基站上的某一区域内的探测器，接收到来自用户端机发送的请求接入帧，则所有接收到信号的探测器面均视为竞争区间；1-2-2）基站查询用户端机是否在线，若未查询到在线信息，则视为初次接入，竞争区间按照步骤1-2-1）分配，若查询到已经在线，则先按照步骤1-2-1）分配当前竞争区间α，上次接入时分配的竞争区间记为上次竞争区间α1，通过α与α1比较出用户端机的移动方向、以及移动竞争区间γ，将移动竞争区间γ加在当前竞争区间α的用户端机移动方向的一侧，构成新竞争区间α∪γ。3.根据权利要求1或2所述的融合位置信息的水下光通信多用户接入方法，其特征在于，用户端机接入基站后的数据通信包括如下步骤：2-1）用户端机发送请求数据帧；2-2）基站接收到请求数据帧后，判断用户端机的竞争区间是否与当前其他在线设备有交集，若无，则分配最大数据帧长度，反之，则根据当前竞争区间内用户端机数量M分配数据帧长度，数据帧长度向上取整数值，且最小值为1，基站将分配的数据帧长度加载到发送应答帧，对用户端机的竞争区间进行广播发送；2-3）用户端机收到基站的发送应答帧后，根据分配的数据帧长度进行数据组帧；2-4）用户端机发送数据帧；2-5）基站接收数据帧，并发送数据接收应答帧；2-6）重复步骤2-4）到步骤2-5）直到数据发送完毕。4.根据权利要求1所述的融合位置信息的水下光通信多用户接入方法，其特征在于，除了步骤1-6）的用户意外离线情况外，用户端机可发送请求离线帧，基站在接收到请求离线帧后，发送应答帧，并清除用户端机的竞争区间信息。
说明书desc
技术领域本发明涉及光通信技术领域，具体涉及一种融合位置信息的水下光通信多用户接入通信方法。背景技术近年来，随着对于水下探索的不断深入，人们发现可见光通信在水下数据传输中有着独特的优势，其可以提供实时性强，信道容量大和安全高速的数据传输服务。可见光波段的信号相较于射频信号在水下的低传输范围，可见光信号通信距离能够达到数十甚至上百米。为了使可见光通信在水下进行长距离传输，人们提出了一种将光基站设为数据节点中心，汇总各用户节点数据进行传输的框架。在该框架下，一台基站对应该区域内的多个用户节点，同时通过中继节点等，实现光网络的长距离通信。由于可见光波长资源有限，特别是在水下信道中，实际适于传输的波段不多，因此在上述通信框架中不可避免的会存在多个相同波段用户同时接入而产生碰撞，进而导致光网络通信效率的降低。目前针对多用户的接入一般有非竞争式的时分复用技术和竞争式的载波监听/冲突避免技术。非竞争式的协议固定分配通信时隙，各节点按照分配时隙循序接入，该方式保证了公平性，但是在节点当前时间不需要传输时，信道资源会产生浪费，信道利用率差。对于竞争式的协议，各节点通过竞争的方式获取下一段时间的信道利用权，由于光信道的特殊性，节点无法进行信道监听，需要由基站进行“虚拟载波监听”，使得同一时间全向的设备中只有一台可以通信，通信效率低，难以满足水下复杂的传输要求。发明内容为了解决现有技术中的上述问题，本发明提供一种融合位置信息的水下光通信多用户接入通信方法，相较于传统的CSMA/CA单一的时域上的竞争窗口，能够提高竞争接入效率，降低系统功耗，同时通过不断更新的位置信息提供更好的移动通信的支持。本发明解决其技术问题所采用的技术方案是：一种融合位置信息的水下光通信多用户接入方法，其特征在于，包括以下步骤：1-1）用户端机向基站发送请求接入帧，尝试请求接入；1-2）若在接入过程中未发生碰撞，基站成功接收到请求接入帧，计算接收到信号的接收面大小，将其定义为用户端机的竞争区间，对用户端机信息进行保存，并将其标记为在线状态；如果发生碰撞，基站不做回应，申请接入用户执行退避算法，重新尝试接入；1-3）基站向竞争区间内广播发送应答帧，告知用户端机接入完成；1-4）基站针对用户端机开启定时器，在计数完成后，向用户端机的竞争区间广播发送状态确认帧；1-5）用户端机接收到基站发送的状态确认帧后，向基站发送请求接入帧；1-6）基站在接收到请求接入帧后，再次计算并更新用户端机竞争区间，若基站在一段时间内未接收到用户端机发送的请求接入帧，则将原竞争区间扩大，再次广播状态确认帧；若接收到用户端机的请求接入帧，则更新用户端机信息，否则继续扩大竞争区间直至全向广播，若均无回应，则将用户端机标记为离线，清空用户端机竞争区间信息。进一步地，步骤1-2）中的竞争区间的计算方法包括如下步骤：1-2-1）基站上的某一区域内的探测器，接收到来自用户端机发送的请求接入帧，则所有接收到信号的探测器面均视为竞争区间；1-2-2）基站查询用户端机是否在线，若未查询到在线信息，则视为初次接入，竞争区间按照步骤1-2-1）分配，若查询到已经在线，则先按照步骤1-2-1）分配当前竞争区间α，上次接入时分配的竞争区间记为上次竞争区间α1，通过α与α1比较出用户端机的移动方向、以及移动竞争区间γ，将移动竞争区间γ加在当前竞争区间α的用户端机移动方向的一侧，构成新竞争区间α∪γ。用户端机接入基站后的数据通信包括如下步骤：2-1）用户端机发送请求数据帧；2-2）基站接收到请求数据帧后，判断用户端机的竞争区间是否与当前其他在线设备有交集，若无，则分配最大数据帧长度，反之，则根据当前竞争区间内用户端机数量M分配数据帧长度，数据帧长度向上取整数值，且最小值为1，基站将分配的数据帧长度加载到发送应答帧，对用户端机的竞争区间进行广播发送；2-3）用户端机收到基站的发送应答帧后，根据分配的数据帧长度进行数据组帧；2-4）用户端机发送数据帧；2-5）基站接收数据帧，并发送数据接收应答帧；2-6）重复步骤2-4）到步骤2-5）直到数据发送完毕。进一步地，除了步骤1-6）的用户意外离线情况外，用户端机可发送请求离线帧，基站在接收到请求离线帧后，发送应答帧，并清除用户端机的竞争区间信息。本发明的优点及有益效果：与现有技术相比，本发明公开的方案具有以下优点：本发明引入的竞争区间，可根据用户端机位置信息，动态分配竞争接入的区域，使得在空间上信道未冲突的用户端机可同时接入，而不必进行全局等待；本发明根据节点竞争区间的更新对其运动方向做出预测，动态更新接入区域，优化移动用户端机通信质量；本发明在用户接入层采用状态确认机制，使得基站能实时掌握用户端机的位置信息，从而具备向用户端机定向发送消息的能力，相比于现有的全向发送模式，显著降低了功耗；本发明根据竞争区间划分的数据帧长度分配，在无竞争区间重合时，此时产生竞争概率较小，分配其最大数据帧长度N，提高通信效率，在有竞争区间重合时，说明此时产生竞争概率较大，根据当前竞争区间内用户端机数量M分配数据帧长度，减少对当前区间内信道独占时间，满足多个节点的传输要求。本发明通过感知用户节点的空间位置信息，提出融合空间位置信息的竞争区间，相较于传统的CSMA/CA单一的时域上的竞争窗口，能够提高竞争接入效率，降低系统功耗，同时通过不断更新的位置信息提供更好的移动通信的支持。附图说明图1为本发明实施例中多用户接入位置示意图；图2为本发明实施例中多用户接入位置时间分片信息图；图3为本发明实施例中用户端机D的接入过程流程图；图4为本发明实施例中用户端机D的竞争区间生成示意图；图5为本发明实施例中用户端机D的竞争区间更新示意图。具体实施方式下面结合实施例和附图对本发明内容作进一步的阐述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例：如图1所示，实现本发明融合位置信息的水下光通信多用户接入通信方法的系统包括基站A、用户端机B、用户端机C和用户端机D，为更好说明本发明的特征，三个用户端机位置分布为用户端机B和用户端机C在同一方向，且所属光信道在基站A接收面上有所重叠，用户端机D处于另一侧，与用户端机B、用户端机C均无交集，在此环境下，用户端机B、用户端机C和用户端机D的接入方法如下：如图2所示，融合位置信息的水下光通信多用户接入通信方法，包括以下步骤：a） 用户端机B、用户端机C和用户端机D同时发送请求接入帧，并等待基站A回应；b） 对于用户端机D，如图3所示，整个接入流程光信道未发生碰撞，基站A顺利接收到请求接入帧，并将用户端机D标记为在线，如图4所示，将接收到信号的光接收面作为竞争区间，并向用户端机D方向发送应答帧；对于用户端机B和用户端机C来说，由于光信道有重叠，导致发生碰撞，因此不做回应；c） 用户端机D接收到基站A发送的应答帧，完成系统接入；d） 用户端机B、用户端机C在等待应答等待时隙长度T后，未收到基站A回应，即视为发生碰撞，执行退避算法，所述退避算法指等待某一随机倍数ε的应答等待时隙长度ε*T后再次尝试接入，若再次碰撞，则等待时间延长，假设是用户端机B在随机等待后，首先发送请求接入帧；e） 基站A接收到用户端机B的接入请求，标记用户端机B为在线状态，对用户端机B发送应答帧；f） 用户端机B接收到应答帧，完成接入；g） 用户端机C发送请求接入帧；h） 基站A接收用户端机C的请求接入帧，标记用户端机C为在线状态，对用户端机C发送应答帧；i） 用户端机C接收到应答帧，完成接入。进一步地，在用户完成接入后，系统对用户的管理方法如下：j） 基站A为接入的用户端机开启固定时长定时器，在定时完成后，向对应用户端机发送状态确认帧，用以确认用户状态以及位置，用户端机D首先接入，因此基站A向用户端机D发送状态确认帧；k） 用户端机D接收到基站A发送的状态确认帧后，发送请求接入帧回应；l） 基站A在接收到用户端机D的请求接入帧后，再次更新用户端机D的竞争区间，如图5所示，竞争区间处于基站A的接收面上，假设用户端机D的光源为点光源，照射在基站A接收面上产生圆形光斑，此圆形光斑在基站A上光接收器所覆盖的面积，称为竞争区间，每次基站A接收用户端机D的数据时，均会得出一块竞争区间，称为当前竞争区间α，将上次接收所得出的竞争区间记为上次竞争区间α1，用户端机D相对于基站A从左至右运动，则竞争区间随之运动，将当前竞争区间α与上次竞争区间α1作比较，即可得出用户端机D的运动趋向，以及在移动方向上相对于上次竞争区间α1多出来的移动竞争区间γ，将移动竞争区间γ加在当前竞争区间α的运动方向一侧，当作针对用户端机D的运动方向的预测，因此新竞争区间更新为α∪γ；m） 若基站A在等待一段时间后未接收到请求接入确认，则扩大竞争区间广播，直至扩大到全向广播，若无回应，则标记用户端机B离线；若收到回应，则根据请求接入帧更新用户端机信息。进一步地，用户端机接入基站后的数据通信包括如下步骤：n） 用户端机B向基站A发送请求数据帧；o） 基站A收到请求数据帧，开始查询用户端机B状态，用户端机B与用户端机C存在竞争区间重叠，为用户端机B分配长度为数据帧长度，向用户端机B发送应答帧；p） 用户端机B收到基站A应答帧，将待发送数据按照分配数据帧长度进行组帧；q） 用户端机B按顺序发送一帧数据帧；r） 基站A接收到数据帧后发送应答帧；s） 重复步骤q）~步骤r)直到数据发送完成。当用户端机请求离线时，除步骤m）意外离线情况外，离线步骤包括如下步骤：t） 用户端机B发送离线请求；u） 基站A接收后，清除用户端机B接入信息，完成离线。以上公开的本发明的优选实施例，只是帮助阐述本发明，不限制本发明仅为所述的具体实施方式。显然，根据本说明书的内容，可作很多的修改和变化。本说明书选取并具体描述这些实施例，是为了更好地解释本发明的原理和实际应用，从而使所属技术领域技术人员能很好地理解和利用本发明。
