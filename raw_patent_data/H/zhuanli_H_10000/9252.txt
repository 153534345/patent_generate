标题title
一种相对重力仪数字化高精度测温系统及方法
摘要abst
本发明涉及一种相对重力仪数字化高精度测温系统及方法，通过构建包含44008热敏电阻的桥路，并使用REF恒流源电路对其提供恒定电流，将44008热敏电阻的电压进行增益缓冲，通过A/D转换器对其进行模数转换，最后输入至RAM处理器进行电压温度的拟合，得到高精度的温度数据，以双向CAN总线实现RAM处理器传输温度数据至重力仪显控和由显控向RAM处理器传输重力仪温控系统的温度控制值。同时在RAM处理器增加了无线发送端模块，能够通过无线接收端模块实现程序的更新或升级。本发明能够提高测量的线性度和精度，同时使用数字化进行操控，提高了调试便利性和利于重力仪恒温系统状态固化，能够广泛应用于各款重力仪。
权利要求书clms
1.一种相对重力仪数字化高精度测温系统，安装于重力仪系统中，其特征在于：包括REF恒流源电路、包含44008热敏电阻的桥路、参考电压电路、FET缓冲运算放大器、A/D转换器、RAM处理器、无线接收端模块和无线发送端模块；其中REF恒流源电路连接包含44008热敏电阻的桥路，用于提供恒定电流，44008热敏电阻的桥路连接FET缓冲运算放大器，用于将44008热敏电阻两端的电压进行增益缓冲，FET缓冲运算放大器连接A/D转换器，用于将增益缓冲的电压进行模数转换，参考电压电路将REF恒流源电路提供的恒定电流流经包含44008热敏电阻的桥路的电压输入至A/D转换器，作为A/D转换器的参考电压，A/D转换器连接RAM处理器，将数字量温度电压数据传输至RAM处理器中，RAM处理器对数据进行拟合，得到温度量，RAM处理器连接无线接收端模块，用于接收无线发送端模块发送的更新或升级程序，无线发送端模块通过无线连接方式连接无线接收端模块，用于发送更新或升级程序，RAM处理器通过双向CAN总线连接重力仪系统中的重力仪显控装置，用于实现温度数据的传输和温度控制值设定。2.根据权利要求1所述的一种相对重力仪数字化高精度测温系统，其特征在于：所述REF恒流源电路包括：恒流源REF200芯片、电阻R1、电阻R2、电容C1和第一ADA4528-2运算放大器，其中，恒流源REF200的电流输出端分别连接第一ADA4528-2运算放大器的正信号输入端和负信号输入端，第一ADA4528-2运算放大器的正信号输入端分别通过电容C1和电阻R1连接第一ADA4528-2运算放大器的输出端，第一ADA4528-2运算放大器的负信号输入端通过电阻R2连接第一ADA4528-2运算放大器的输出端。3.根据权利要求2所述的一种相对重力仪数字化高精度测温系统，其特征在于：所述电阻R1和电阻R2的比值为0.125。4.根据权利要求1所述的一种相对重力仪数字化高精度测温系统，其特征在于：所述包含44008热敏电阻的桥路包括：44008型热敏电阻Rt、高精度金属膜电阻R3和高精度金属膜电阻R4，高精度金属膜电阻R3、44008型热敏电阻Rt和高精度金属膜电阻R4串行连接，高精度金属膜电阻R4的另一端接地，44008型热敏电阻Rt的根部引出两根测线连接FET缓冲运算放大器，形成四线制测温方式。5.根据权利要求4所述的一种相对重力仪数字化高精度测温系统，其特征在于：所述电阻R3和电阻R4的阻值相同。6.根据权利要求1所述的一种相对重力仪数字化高精度测温系统，其特征在于：所述参考电压电路包括第二ADA4528-2运算放大器，ADA4528-2运算放大器的正信号输入端连接REF恒流源输出的恒流电流，ADA4528-2运算放大器的负信号输入端连接ADA4528-2运算放大器的输出端，同时ADA4528-2运算放大器的输出端连接A/D转换器。7.一种如权利要求1至6任一项所述的相对重力仪数字化高精度测温系统的测温方法，其特征在于：包括以下步骤：步骤1、REF恒流源电路将44008热敏电阻的桥路所需的驱动电流输入至44008热敏电阻的桥路；步骤2、FET缓冲运算放大器采集44008热敏电阻的桥路中热敏电阻的电压值，并进行缓冲增益，同时驱动电流输入至参考电压电路得到模数转换的参考电压值，并输入至A/D转换器；步骤3、FET缓冲运算放大器将缓冲增益的电压值输入至A/D转换器，A/D转换器根据参考电压值将缓冲增益的电压值转换为数字信号，并输入至RAM处理器；步骤4、RAM处理器对输入数据进行拟合，得到精确的温度值，并通过无线接收模块和接收无线发送端模块进行无线传输；同时通过CAN总线将数据发送至重力仪系统中的重力仪显控装置进行数据显示。8.根据权利要求7所述的一种相对重力仪数字化高精度测温系统的测温方法，其特征在于：所述步骤3的具体实施方法为：其中，D为转换数字量，Rt为44008型热敏电阻Rt阻值，R3为高精度金属膜电阻R3阻值，R4为高精度金属膜电阻R4阻值。
说明书desc
技术领域本发明属于温度测量技术领域，尤其是一种相对重力仪数字化高精度测温系统及方法。背景技术在重力仪系统的高精度测温电路领域，一般采用恒压惠斯通桥式电路法和恒流源驱动电路法。其中惠斯通桥式电路法利用桥路不平衡原理实现温度测量和恒温控制，此方法存在着非线性因素影响，不利于实现高精度温度测量和恒温控制。此外，传统恒压惠斯通桥式电路法一般只能通过改变桥路的匹配电阻阻值来实现恒温系统温控点的设置或更改，不便于恒温控制系统的实时调试。同时，重力仪属于精密仪器，温控电路板一般置于内层温控系统中，不建议或不便于因更新温控程序或更改控制温度值而经常性取出，以免破坏固化的物理状态。发明内容本发明的目的在于克服现有技术的不足，提出一种相对重力仪数字化高精度测温系统及方法，能够提高测量的线性度和精度，同时使用数字化进行操控，提高了调试便利性和利于重力仪恒温系统状态固化，能够广泛应用于各款重力仪。本发明解决其技术问题是采取以下技术方案实现的：一种相对重力仪数字化高精度测温系统及方法，安装于重力仪系统中，包括REF恒流源电路、包含44008热敏电阻的桥路、参考电压电路、FET缓冲运算放大器、A/D转换器、RAM处理器、无线接收端模块和无线发送端模块；其中REF恒流源电路连接包含44008热敏电阻的桥路，用于提供恒定电流，44008热敏电阻的桥路连接FET缓冲运算放大器，用于将44008热敏电阻两端的电压进行增益缓冲，FET缓冲运算放大器连接A/D转换器，用于将增益缓冲的电压进行模数转换，参考电压电路将REF恒流源电路提供的恒定电流流经包含44008热敏电阻的桥路的电压输入至A/D转换器，作为A/D转换器的参考电压，A/D转换器连接RAM处理器，将数字量温度电压数据传输至RAM处理器中，RAM处理器对数据进行拟合，得到温度量，RAM处理器连接无线接收端模块，用于接收无线发送端模块发送的更新或升级程序，无线发送端模块通过无线连接方式连接无线接收端模块，用于发送更新或升级程序，RAM处理器通过双向CAN总线连接重力仪系统中的重力仪显控装置，用于实现温度数据的传输和温度控制值设定。而且，所述REF恒流源电路包括：恒流源REF200芯片、电阻R1、电阻R2、电容C1和第一ADA4528-2运算放大器。其中，恒流源REF200的电流输出端分别连接第一ADA4528-2运算放大器的正信号输入端和负信号输入端，第一ADA4528-2运算放大器的正信号输入端分别通过电容C1和电阻R1连接第一ADA4528-2运算放大器的输出端，第一ADA4528-2运算放大器的负信号输入端通过电阻R2连接第一ADA4528-2运算放大器的输出端。而且，所述电阻R1和电阻R2的比值为0.125。而且，所述包含44008热敏电阻的桥路包括：44008型热敏电阻Rt、高精度金属膜电阻R3和高精度金属膜电阻R4，高精度金属膜电阻R3、44008型热敏电阻Rt和高精度金属膜电阻R4串行连接，高精度金属膜电阻R4的另一端接地，44008型热敏电阻Rt的根部引出两根测线连接FET缓冲运算放大器，形成四线制测温方式。而且，所述电阻R3和电阻R4的阻值相同。而且，所述参考电压电路包括第二ADA4528-2运算放大器，ADA4528-2运算放大器的正信号输入端连接REF恒流源输出的恒流电流，ADA4528-2运算放大器的负信号输入端连接ADA4528-2运算放大器的输出端，同时ADA4528-2运算放大器的输出端连接A/D转换器。一种相对重力仪数字化高精度测温系统的测温方法，包括以下步骤：步骤1、REF恒流源电路将44008热敏电阻的桥路所需的驱动电流输入至44008热敏电阻的桥路；步骤2、FET缓冲运算放大器采集44008热敏电阻的桥路中热敏电阻的电压值，并进行缓冲增益，同时驱动电流输入至参考电压电路得到模数转换的参考电压值，并输入至A/D转换器；步骤3、FET缓冲运算放大器将缓冲增益的电压值输入至A/D转换器，A/D转换器根据参考电压值将缓冲增益的电压值转换为数字信号，并输入至RAM处理器；步骤4、RAM处理器对输入数据进行拟合，得到精确的温度值，并通过无线接收模块和接收无线发送端模块进行无线传输；同时通过CAN总线将数据发送至重力仪系统中的重力仪显控装置进行数据显示。而且，所述步骤3的具体实施方法为：其中，D为转换数字量，Rt为44008型热敏电阻Rt阻值，R3为高精度金属膜电阻R3阻值，R4为高精度金属膜电阻R4阻值。本发明的优点和积极效果是：1、本发明通过构建包含44008热敏电阻的桥路，并使用REF恒流源电路对其提供恒定电流，将44008热敏电阻的电压进行进行增益缓冲，通过A/D转换器对其进行模数转换，最后输入至RAM处理器进行电压温度的拟合，得到高精度的温度数据，同时在RAM处理器增加了无线发送端模块，能够通过无线接收端模块实现程序的更新或升级。本发明能够提高测量的线性度和精度，同时使用数字化进行操控，提高了调试便利性和利于重力仪恒温系统状态固化，能够广泛应用于各款重力仪。2、本发明采用高精度恒流源产生精度为的稳定电流，再经电流增益电路后得到电流驱动44008型热敏电阻工作，44008型热敏电阻要求的理想工作电流为，能够确保在全温范围内流经热敏电阻的电流保持一致不变，为热敏电阻敏感微小温度变化提供前提基础，并在采用四线制测温方法，可以消除测量过程误差，提高测温精度，此方法相比于恒压式电桥测温和积分式方法所实现的测温精度更胜一筹。3、本发明采用测温电桥电压为24位A/D转换器LTC2380-24提供参考电压，即采用比率式方法实现温度-电压信号数字量转换，数字量转换精度取决于高精度金属膜电阻和和44008型热敏电阻，避免了恒流源扰动造成的误差影响，精度优于传统非比率式测温方式。4、本发明热敏电阻两端形成的温度电压线性关系值可经比率式测温方法，按1:1比例转换成数字量传输至核心控制器TM4C129X中，通过对数字量进行高度拟合，可准确得到数字量与温度之间的关系，实时有效地反映恒温系统中的温度值，故可在控制器与重力仪显控通过双向CAN总线进行数据通信，实现温度值数字化实时显示及由显控界面完成目标温度值设定或更改。同时，本发明采用无线下载的技术方式更新温控程序，故此电路系统避免了传统方式—通过修改硬件电路来实现修改温控点值和更新温控程序，极大提高了调试便捷性，并且避免了反复拆装重力仪，保证重力仪整机状态不因温控调试而受到改变。5、本发明采用的高精度双运算放大器ADA4528-2型放大器具有极低噪声、极低失调电压和失调漂移电压，低于44008热敏电阻变化产生的电压值；最大值为低输入偏置电流和低失调电流,几乎不会对流经热敏电阻的恒定电流产生分流影响，确保热敏电阻测温精度。A/D转换器LTC2380-24芯片具有易用的集成型数字平均滤波器，可对转换结果进行实时平均滤波。附图说明图1为本发明电路示意图；图2为本发明实施例中电路示意图；图3为本发明与传统测温数据对比图。具体实施方式以下结合附图对本发明做进一步详述。一种相对重力仪数字化高精度测温系统及方法，安装于重力仪系统中，如图1所示，包括REF恒流源电路、包含44008热敏电阻的桥路、参考电压电路、FET缓冲运算放大器、A/D转换器、RAM处理器、无线接收端模块和无线发送端模块。其中REF恒流源电路连接包含44008热敏电阻的桥路，用于提供增益缩小的缓冲电路后的恒定电流，44008热敏电阻的桥路连接FET缓冲运算放大器，用于将44008热敏电阻两端的电压进行增益缓冲，FET缓冲运算放大器连接A/D转换器，用于将增益缓冲的电压进行模数转换，参考电压电路将REF恒流源电路提供的恒定电流流经包含44008热敏电阻的桥路的电压输入至A/D转换器，作为A/D转换器的参考电压，消除恒流源电路对数模转换精度的影响，提高采集精度，A/D转换器连接RAM处理器，将数字量温度电压数据传输至RAM处理器中，RAM处理器对数据进行拟合，得到温度量，RAM处理器连接无线接收端模块，用于接收无线发送端模块发送的更新或升级程序，无线发送端模块通过无线连接方式连接无线接收端模块，用于发送更新或升级程序，RAM处理器通过双向CAN总线连接重力仪系统中的重力仪显控装置，用于实现温度数据的传输和温度控制值设定。如图2所示，REF恒流源电路包括：恒流源REF200芯片、电阻R1、电阻R2、电容C1和第一ADA4528-2运算放大器，其中，恒流源REF200芯片的1或2引脚接-3.3V稳定电源电压，即可在7或8引脚产生精度为的稳定电流，恒流源REF200的电流输出端分别连接第一ADA4528-2运算放大器的正信号输入端和负信号输入端，第一ADA4528-2运算放大器的正信号输入端分别通过电容C1和电阻R1连接第一ADA4528-2运算放大器的输出端，第一ADA4528-2运算放大器的负信号输入端通过电阻R2连接第一ADA4528-2运算放大器的输出端，第一ADA4528-2运算放大器将稳定电流进行增益缩小，得到理想驱动电流。高精度双运算放大器ADA4528-2型放大器具有极低噪声、极低失调电压和失调漂移电压，低于44008热敏电阻变化产生的电压值；最大值为低输入偏置电流和低失调电流，几乎不会对流经热敏电阻的恒定电流产生分流影响，确保热敏电阻测温精度。第一ADA4528-2运算放大器的极低失调电压，输入偏置电流，高精度金属膜电阻R1和电阻R2的精度误差，并且电阻R1和电阻R2之间的比值为0.125，电容C1和电阻R1构成低通滤波器，滤除高频噪声。恒流源REF200输入的-3.3V稳定电压由电压反转器TC7660S转换+3.3V而得。包含44008热敏电阻的桥路包括：44008型热敏电阻Rt、高精度金属膜电阻R3和高精度金属膜电阻R4，高精度金属膜电阻R3、44008型热敏电阻Rt和高精度金属膜电阻R4串行连接，高精度金属膜电阻R4的另一端接地，44008型热敏电阻Rt的根部引出两根测线连接FET缓冲运算放大器，形成四线制测温方式。高精度金属膜电阻R3和高精度金属膜电阻R4阻值相等，并且精度误差。串联电阻R4用于抬高热敏电阻下端的电势，电阻R3、R4和热敏电阻串联得到的电压作为A/D转换器参考电压，此设计使热敏电阻两端形成的电压差值尽可能在参考电压量程的中间值。参考电压电路包括第二ADA4528-2运算放大器，ADA4528-2运算放大器的正信号输入端连接REF恒流源输出的恒流电流，ADA4528-2运算放大器的负信号输入端连接ADA4528-2运算放大器的输出端，同时ADA4528-2运算放大器的输出端连接A/D转换器。44008型热敏电阻Rt两端得到的电压输入至由精密双运算放大器ADA4528构成的单增益缓冲电路进行信号处理，再输入至24位A/D转换器LTC2380-24的模拟输入端。参考电压电路用于将电压输入至由精密运算放大器ADA4528构成的单增益缓冲电路进行缓冲处理，再将处理后的电压作为24位A/D转换器LTC2380-24的参考电压，形成比率式24位A/D转换电路，提高测温转换精度。包含44008热敏电阻的桥路的输出信号经精密双运算放大器ADA4528-2进行单增益缓冲处理，再以差分信号的形式输入至24位A/D转换器LTC2380-24中进行采样。由包含44008热敏电阻的桥路中电阻R3、R4和热敏电阻Rt在驱动电流作用得到的电压经精密双运算放大器ADA4528-2进行单增益缓冲处理后作为LTC2380-24的参考电压，形成；额比率式测温采样转换模式，提高转换数字量精度。RAM处理器由TM4C129X系列控制器构成，通过SPI通信功能将24位A/D转换器LTC2380-24得到的数字量传输至TM4C129X控制器中进行数据处理，以此数据作为基础数据进行相应的算法设计和程序设计，同时通过CAN总线将数字化温度值传输至显控界面以及由显控设置温度值传输至TM4C129X控制器中进行控温值更改。无线发送模块电路由无线CC2400芯片模块构成，并预留USB接口与PC电脑；无线接收模块电路主要由无线CC2400芯片模块和TM4C129X控制器组成，无线CC2400芯片模块接收来自发射端的程序数据，并解算输送至TM4C129X控制器中，实现程序的无线下载。一种相对重力仪数字化高精度测温系统的测温方法，包括以下步骤：步骤1、REF恒流源电路将44008热敏电阻的桥路所需的驱动电流输入至44008热敏电阻的桥路。步骤2、FET缓冲运算放大器采集44008热敏电阻的桥路中热敏电阻的电压值，并进行缓冲增益，同时驱动电流输入至参考电压电路得到模数转换的参考电压值，并输入至A/D转换器。其中A/D转换器将模拟信号转换为数字信号的具体方法为：进行简化得到：其中，为A/D转换器参考电压，为44008热敏电阻两端的电压差，D为转换数字量，Rt为44008型热敏电阻Rt阻值，R3为高精度金属膜电阻R3阻值，R4为高精度金属膜电阻R4阻值。步骤3、FET缓冲运算放大器将缓冲增益的电压值输入至A/D转换器，A/D转换器根据参考电压值将缓冲增益的电压值转换为数字信号，并输入至RAM处理器。步骤4、RAM处理器对输入数据进行拟合，得到精确的温度值，并通过无线接收模块和接收无线发送端模块进行无线传输；同时通过CAN总线将数据发送至重力仪系统中的重力仪显控装置进行数据显示。本发明的工作过程为：精密恒流源芯片产生高精度恒定电流并经增益电路得到适合驱动44008型热敏电阻工作的恒定电流；将44008型热敏电阻两端电压经单位增益缓冲电路后输入至LTC2380-24数模转换器进行数字转换，并将恒定电流流经高精度金属薄膜电阻和44008型热敏电阻形成的电压作为LTC2380-24数模转换器的参考电压，以求获得高精度的数字转换量，A/D转换器LTC2380-24转换得到的温度-电压数据量传输至TM4C129X控制器中，根据采集到的温度-电压数字量进行数据拟合，得到准确的温度量。此恒流源测温电路可获得高精度温度数据关系值，故TM4C129X控制器可通过CAN总线与重力仪显控进行数据通信，使采集到的温度值以数字化形式实时地在显控界面显示中，同时也可通过显控界面输入目标温度值更改温控系统的控制温度值；通过无线收发芯片CC2400芯片等构成的无线下载电路可随时更新或升级温控程序。根据上述本发明阐述的内容，结合传统测温方式对同一重力仪系统进行测试，以验证本发明的效果。如图3所示，本发明的恒流源比率测温电路的测温分辨率精度可达或甚至优于万分之一，而传统测温方式的测温分辨率精度勉强达到万分之五。并且从4天时间的测试结果来看， 本发明的恒流源比率测温电路的测温长期稳定性保持在万分之五之内，远好于传统测温方式达到的效果。由此可知，本发明测温电路方案在四线制的原理上可消除导线电阻带来的测量影响，在恒流源比率测温机理上可消除恒温源漂移等方面的影响，降低对恒流源的要求，并实现高精度和长期稳定性的高性能指标。需要强调的是，本发明所述的实施例是说明性的，而不是限定性的，因此本发明包括并不限于具体实施方式中所述的实施例，凡是由本领域技术人员根据本发明的技术方案得出的其他实施方式，同样属于本发明保护的范围。
