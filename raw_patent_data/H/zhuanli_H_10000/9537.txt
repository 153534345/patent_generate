标题title
一种基于车祸识别自动报警功能系统
摘要abst
本发明的实施例公开了一种基于车祸识别自动报警功能系统，涉及图像识别技术领域。所述系统，包括：数据采集模块、数据处理模块、通信模块和云端数据库；数据采集模块，设置于道路两端，用于实时采集道路图像，并将采集到的道路图像发送给数据处理模块；数据处理模块，用于将收到的道路图像实时发送给所述云端数据库存储，还用于根据收到的道路图像，识别是否存在交通事故，并在识别出存在交通事故时，向通信模块发送报警触发信号；通信模块，用于在收到报警触发信号后向警方报警。本发明可对实时采集到的道路图像进行车祸识别，并在识别出交通事故时，立即进行自动报警。
权利要求书clms
1.一种基于车祸识别自动报警功能系统，其特征在于，包括：数据采集模块、数据处理模块、通信模块和云端数据库；所述数据采集模块，设置于道路两端，用于实时采集道路图像，并将采集到的道路图像发送给所述数据处理模块；所述数据处理模块，用于将收到的道路图像实时发送给所述云端数据库存储，还用于根据收到的所述道路图像，识别是否存在交通事故，并在识别出存在交通事故时，向通信模块发送报警触发信号；所述通信模块，用于在收到所述报警触发信号后，向警方报警。2.如权利要求1所述的一种基于车祸识别自动报警功能系统，其特征在于，所述数据处理模块，还用于在识别出存在交通事故时，截取车祸画面图像，识别所述车祸画面图像中事故车辆的车牌信息，并将所述车祸画面图像以及识别到的事故车辆的车牌信息通过通信模块发送给警方。3.如权利要求2所述的一种基于车祸识别自动报警功能系统，其特征在于，所述数据处理模块，还用于在识别出存在交通事故时，从所述云端数据库调取所述事故车辆首次进入所述数据采集模块采集的道路图像画面的第一时刻起至所述车祸画面图像对应的第二时刻之间的所有道路图像，得到第一图像集合，并对所述第一图像集合中的所有图像中事故车辆的车牌照进行定位，确定所述第一图像集合中的每帧图像中事故车辆的车牌照在预设坐标系中的坐标，并根据所述第一图像集合中的所有图像中事故车辆的车牌照在预设坐标系中的坐标，计算所述事故车辆的平均速度以及近似加速度，将所述事故车辆的平均速度以及近似加速度通过通信模块发送给警方；其中，所述预设坐标系以道路图像的左下角顶点为原点，以道路图像的下底边向右为X轴，以道路图像的左侧边向上为Y轴，且所述预设坐标系的单位长度为道路图像相邻两个像素点之间的距离长度。4.如权利要求3所述的一种基于车祸识别自动报警功能系统，其特征在于，所述数据处理模块具体根据以下第一公式计算第k个事故车辆的平均速度：其中，Vk表示第k个事故车辆的平均速度，n表示所述数据采集模块采集的道路图像中相邻两个像素点之间的间距与实际道路对应两点的间距比，T表示所述数据采集模块采集相邻两帧道路图像的间隔时间，Dk表示第k个事故车辆对应的第一图像集合中的图像总帧数，表示第k个事故车辆对应的第一图像集合中的第e帧图像中第k个事故车辆的车牌照在预设坐标系中的坐标，表示第k个事故车辆对应的第一图像集合中的第e+1帧图像中第k个事故车辆的车牌照在预设坐标系中的坐标；e＝1，2，3，..，Dk-1。5.如权利要求4所述的一种基于车祸识别自动报警功能系统，其特征在于，所述数据处理模块具体根据以下第二公式计算第k个事故车辆的近似加速度：其中，ak表示第k个事故车辆的近似加速度，表示第k个事故车辆在其车祸画面图像中的车牌照在预设坐标系中的坐标；表示第k个事故车辆首次进入道路图像画面时刻的道路图像中的车牌照在预设坐标系中的坐标。6.如权利要求1所述的一种基于车祸识别自动报警功能系统，其特征在于，所述通信模块，具体用于在收到所述报警触发信号后，随着时间的增加不断提高自动报警频率，直至收到警方对报警的通信应答后停止自动报警。7.如权利要求6所述的一种基于车祸识别自动报警功能系统，其特征在于，所述通信模块，具体用于根据以下第三公式计算自动报警频率：在第三公式中，f表示所述通信模块收到所述报警触发信号后的t时长对应的t时刻的自动报警频率；B表示所述t时刻收到警方对报警的通信应答标志值，若所述t时刻收到警方对报警的通信应答，则B＝1，反之则B＝0；f0表示所述通信模块的预设初始报警频率。8.如权利要求3所述的一种基于车祸识别自动报警功能系统，其特征在于，所述数据处理模块，还用于在对所述第一图像集合中的所有图像中事故车辆的车牌照进行识别定位后，根据所述数据采集模块实时采集的道路图像，实时监测收到的道路图像中所述事故车辆的车牌照定位是否发生移动，若是，则将移动的事故车辆的车牌照定位发生移动的第三时刻起至所述移动的事故车辆驶离所述数据采集模块采集的道路图像画面的第四时刻之间的全部道路图像发送给警方。9.如权利要求8所述的一种基于车祸识别自动报警功能系统，其特征在于，所述数据处理模块，还用于根据第四公式计算所述移动的事故车辆驶离道路图像画面时的方向，并将所述移动的事故车辆驶离道路图像画面时的方向通过所述通信模块发送给警方；其中，所述第四公式为：在第四公式中，θl表示第l个移动的事故车辆驶离的方向与所述预设坐标系中X轴方向所成的夹角，表示第l个移动的事故车辆在所述第四时刻之前的第r帧道路图像中的车牌坐标；表示第l个移动的事故车辆在所述第四时刻之前的第r-1帧道路图像中的车牌坐标，r＝1，2，3，…9。10.如权利要求3或4或5或8或9所述的一种基于车祸识别自动报警功能系统，其特征在于，所述数据处理模块，具体用于调用阿里云人工智能平台中的自动识别交通事故的OCR接口，识别道路图像中是否存在交通事故，以及用于调用阿里云人工智能平台中的车牌照识别的OCR接口，识别所述车祸画面图像中事故车辆的车牌信息和/或对道路图像中事故车辆的车牌照进行定位。
说明书desc
技术领域本发明属于图像识别技术领域，尤其涉及一种基于车祸识别自动报警功能 系统。背景技术随着社会经济的发展进步、城市道路交通状况日益改善、交通道路越来越 多，汽车已经走进千家万户，汽车的数量及规模也在逐渐增加，汽车的普及的 确方便了人们的生活，在汽车里就不用再遭受寒冬的冷，夏季的热。不过在享受汽车带来便利的同时，也大幅增加了道路交通事故即车祸的数 量，为交通管理增加了大量的压力。目前为了防止肇事车辆逃逸，现有的车祸识别方法，主要是在道路或者车 辆上安装摄像头，在发生肇事车辆逃逸时，首先根据摄像头采集的图像信息获 得肇事车辆的信息，然后再开展车辆追踪工作来寻找肇事车辆及肇事司机。但 是这类车祸识别方法，车祸发没发生还是靠人工发现，就存在有些小事故根本就没有被发现，同时报警/求援还是靠人工，存在着响应时间慢 的问题，甚至车祸严重或者人烟稀少时，根本连报警/求援的人都没有，易导致 出现更大的经济损失和生命伤害，也增大了肇事车辆顺利逃逸的概率。发明内容有鉴于此，本发明实施例提供一种基于车祸识别自动报警功能系统，用于 解决目前车祸识别方案，车祸发现存在遗漏，报警/求援响应时间慢的问题。本 发明可对实时采集到的道路图像进行车祸识别，并在识别出交通事故时，将立 即进行自动报警。本发明实施例提供一种基于车祸识别自动报警功能系统，包括：数据采集 模块、数据处理模块、通信模块和云端数据库；所述数据采集模块，设置于道路两端，用于实时采集道路图像，并将采集 到的道路图像发送给所述数据处理模块；所述数据处理模块，用于将收到的道路图像实时发送给所述云端数据库存 储，还用于根据收到的所述道路图像，识别是否存在交通事故，并在识别出存 在交通事故时，向通信模块发送报警触发信号；所述通信模块，用于在收到所述报警触发信号后，向警方报警。在一可选实施例中，所述数据处理模块，还用于在识别出存在交通事故时， 截取车祸画面图像，识别所述车祸画面图像中事故车辆的车牌信息，并将所述 车祸画面图像以及识别到的事故车辆的车牌信息通过通信模块发送给警方。在一可选实施例中，所述数据处理模块，还用于在识别出存在交通事故时， 从所述云端数据库调取所述事故车辆首次进入所述数据采集模块采集的道路图 像画面的第一时刻起至所述车祸画面图像对应的第二时刻之间的所有道路图像， 得到第一图像集合，并对所述第一图像集合中的所有图像中事故车辆的车牌照 进行定位，确定所述第一图像集合中的每帧图像中事故车辆的车牌照在预设坐 标系中的坐标，并根据所述第一图像集合中的所有图像中事故车辆的车牌照在 预设坐标系中的坐标，计算所述事故车辆的平均速度以及近似加速度，将所述 事故车辆的平均速度以及近似加速度通过通信模块发送给警方；其中，所述预设坐标系以道路图像的左下角顶点为原点，以道路图像的下 底边向右为X轴，以道路图像的左侧边向上为Y轴，且所述预设坐标系的单位 长度为道路图像相邻两个像素点之间的距离长度。在一可选实施例中，所述数据处理模块具体根据以下第一公式计算第k个事 故车辆的平均速度：其中，Vk表示第k个事故车辆的平均速度，n表示所述数据采集模块采集的 道路图像中相邻两个像素点之间的间距与实际道路对应两点的间距比，T表示所 述数据采集模块采集相邻两帧道路图像的间隔时间，Dk表示第k个事故车辆对应 的第一图像集合中的图像总帧数，表示第k个事故车辆对应的第一 图像集合中的第e帧图像中第k个事故车辆的车牌照在预设坐标系中的坐标， 表示第k个事故车辆对应的第一图像集合中的第e+1帧 图像中第k个事故车辆的车牌照在预设坐标系中的坐标；e＝1,2,3,..,Dk-1。在一可选实施例中，所述数据处理模块具体根据以下第二公式计算第k个事 故车辆的近似加速度：其中，ak表示第k个事故车辆的近似加速度，表示第k个事 故车辆在其车祸画面图像中的车牌照在预设坐标系中的坐标；表 示第k个事故车辆首次进入道路图像画面时刻的道路图像中的车牌照在预设坐 标系中的坐标。在一可选实施例中，所述通信模块，具体用于在收到所述报警触发信号后， 随着时间的增加不断提高自动报警频率，直至收到警方对报警的通信应答后停 止自动报警。在一可选实施例中，所述通信模块，具体用于根据以下第三公式计算自动 报警频率：在第三公式中，f表示所述通信模块收到所述报警触发信号后的t时长对 应的t时刻的自动报警频率；B表示所述t时刻收到警方对报警的通信应答标 志值，若所述t时刻收到警方对报警的通信应答，则B＝1，反之则B＝0； f0表示所述通信模块的预设初始报警频率。在一可选实施例中，所述数据处理模块，还用于在对所述第一图像集合中 的所有图像中事故车辆的车牌照进行识别定位后，根据所述数据采集模块实时 采集的道路图像，实时监测收到的道路图像中所述事故车辆的车牌照定位是否 发生移动，若是，则将移动的事故车辆的车牌照定位发生移动的第三时刻起至 所述移动的事故车辆驶离所述数据采集模块采集的道路图像画面的第四时刻之 间的全部道路图像发送给警方。在一可选实施例中，所述数据处理模块，还用于根据第四公式计算所述移 动的事故车辆驶离道路图像画面时的方向，并将所述移动的事故车辆驶离道路 图像画面时的方向通过所述通信模块发送给警方；其中，所述第四公式为：在第四公式中，θl表示第l个移动的事故车辆驶离的方向与所述预设坐标系 中X轴方向所成的夹角，表示第l个移动的事故车辆在所述第四时 刻之前的第r帧道路图像中的车牌坐标；表示第l个移动的 事故车辆在所述第四时刻之前的第r-1帧道路图像中的车牌坐标，r＝1,2,3,…9。在一可选实施例中，所述数据处理模块，具体用于调用阿里云人工智能平 台中的自动识别交通事故的OCR接口，识别道路图像中是否存在交通事故，以 及用于调用阿里云人工智能平台中的车牌照识别的OCR接口，识别所述车祸画 面图像中事故车辆的车牌信息和/或对道路图像中事故车辆的车牌照进行定位。本发明提供了一种新的基于车祸识别自动报警功能系统，首先实时采集道 路图像，接着根据收到的所述道路图像，识别是否存在交通事故，并在识别出 存在交通事故时，触发通信模块向警方报警。本发明可对实时采集到的道路图 像进行车祸识别，并在识别出交通事故时，立即进行自动报警。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施 例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述 中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付 出创造性劳动的前提下，还可以根据这些附图获得其它的附图。图1为本发明实施例提供的一种基于车祸识别自动报警功能系统结构示意 图。具体实施方式下面结合附图对本发明实施例进行详细描述。应当明确，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实 施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前 提下所获得的所有其它实施例，都属于本发明保护的范围。图1为本发明实施例提供的一种基于车祸识别自动报警功能系统结构示意 图，参见图1，该系统包括：数据采集模块1、数据处理模块2、通信模块3和 云端数据库4；数据采集模块1，设置于道路两端，用于实时采集道路图像，并将采集到的 道路图像发送给数据处理模块2。本实施例中，数据采集模块1可以包括设置于道路两端的摄像头，如车辆 行驶方向上的前后两端，这样设置便于摄像头能采集到更多的车辆信息和车辆的行动轨迹，便于数据处理模块2进行图像识别和对交通事故 作出判定。数据处理模块2，用于将收到的道路图像实时发送给云端数据库4存储，还 用于根据收到的所述道路图像，识别是否存在交通事故，并在识别出存在交通 事故时，向通信模块3发送报警触发信号。本实施例中，数据处理模块2将接收到的道路图像进行存储，便于后续在 判断出发生事故时，调取相关图像进行分析。同时，数据处理模块2根据数据 采集模块1发来的实时道路图像进行交通事故识别，在识别到交通事故时，将 立即向通信模块3发送报警触发信号触发报警，有效地的提高了交通事故发现 和报警的效率。其中，数据处理模块2，也可以向第三方接口发送交通事故识别 请求，如调用阿里云人工智能平台中的自动识别交通事故的OCR接口，识别道 路图像中是否存在交通事故，采用此方式，将有效地减低系统建设成本，同时 也不会降低交通事故识别的准确性。优选地，数据处理模块2，还用于在识别出存在交通事故时，截取车祸画面 图像，识别所述车祸画面图像中事故车辆的车牌信息，并将所述车祸画面图像 以及识别到的事故车辆的车牌信息通过通信模块发送给警方。例如：也可以预 先设置一存储模块，所述存储模块用于存储数据处理模块2发来的车祸画面图 像，以便事后追溯。本实施例中，数据处理模块2在识别出存在交通事故时，则对当前这一帧 存在交通事故的道路图像进行进一步的分析，获取事故车辆的车牌信息，并发 送给警方，便于警方进一步了解事故现场，例如：通过车牌号，警方可以通过 备案的车牌号和车主信息，获取车主的联系方式，然后联系车主获知事故现场 的具体情况。其中，数据处理模块2可以向第三方接口发送车牌识别请求，如 调用阿里云人工智能平台中的车牌照识别OCR接口对车祸画面中的事故车辆的 车牌信息进行识别，采用此方式，将有效地减低系统建设成本，同时也不会降 低获取交通事故中车辆车牌信息的准确性。通信模块3，用于在收到所述报警触发信号后，向警方报警。本实施例中，数据处理模块2通过图像识别技术识别到道路发生交通事故 时，将立即向警方报警，便于警方及时开展下一步工作，包括：救援、抓肇事 逃逸司机等，从而有效地减少交通事故带来的经济和生命损失。作为一可选实施例，数据处理模块2，还用于在识别出存在交通事故时，从 所述云端数据库4调取所述事故车辆首次进入所述数据采集模块1采集的道路 图像画面的第一时刻起至所述车祸画面图像对应的第二时刻之间的所有道路图 像，得到第一图像集合，并对所述第一图像集合中的所有图像中事故车辆的车 牌照进行定位，确定所述第一图像集合中的每帧图像中事故车辆的车牌照在预 设坐标系中的坐标，并根据所述第一图像集合中的所有图像中事故车辆的车牌 照在预设坐标系中的坐标，计算所述事故车辆的平均速度以及近似加速度，将 所述事故车辆的平均速度以及近似加速度通过通信模块3发送给警方。其中， 所述预设坐标系以道路图像的左下角顶点为原点，以道路图像的下底边向右为X轴，以道路图像的左侧边向上为Y轴，且所述预设坐标系的单位长度为道路图 像相邻两个像素点之间的距离长度。上述第一图像集合的确定过程例如：数据处理模块2在识别出当前一帧道 路图像中存在交通事故时，从所述云端数据库4按照道路图像采集时间逆序依 次调取所述当前一帧道路图像之前的图像，例如，若当前一帧道路图像为ti时刻， 在ti时刻采集的道路图像中识别出存在交通事故时，先从云端数据库4中调取ti-1时刻采集的道路图像并识别其中是否存在所述事故车辆，若是，则继续从云端 数据库4中调取ti-2时刻采集的道路图像并识别其中是否存在所述事故车辆，若 ti-2时刻采集的道路图像并识别其中不存在所述事故车辆，则将ti-1时刻确定为所 述事故车辆首次进入数据采集模块1采集的道路图像画面的第一时刻，得到第一图像集合{ti-1时刻的道路图像，ti时刻的道路图像}。本实施例中，数据处理模块2定位道路图像中车辆车牌照的位置，可以调 用阿里云人工智能平台中的车牌照识别的OCR接口，来定位车牌照。采用此方 式，将有效地减低系统建设成本，同时也不会降低定位交通事故中车辆车牌照 位置准确性。同时，根据第一图像集合，根据事故车辆的车牌照坐标计算出所 述事故车辆的平均速度以及近似加速度，然后将所述事故车辆的平均速度以及 近似加速度上传给警方。优选地，数据处理模块2具体根据以下第一公式计算第k个事故车辆的平均 速度：其中，Vk表示第k个事故车辆的平均速度，n表示所述数据采集模块1采集 的道路图像中相邻两个像素点之间的间距与实际道路对应两点的间距比，T表示 所述数据采集模块1采集相邻两帧道路图像的间隔时间，Dk表示第k个事故车辆 对应的第一图像集合中的图像总帧数，表示第k个事故车辆对应的 第一图像集合中的第e帧图像中第k个事故车辆的车牌照在预设坐标系中的坐标， 表示第k个事故车辆对应的第一图像集合中的第e+1帧 图像中第k个事故车辆的车牌照在预设坐标系中的坐标；e＝1,2,3,..,Dk-1。优选地，数据处理模块2具体根据以下第二公式计算第k个事故车辆的近似 加速度：其中，ak表示第k个事故车辆的近似加速度，表示第k个事 故车辆在其车祸画面图像中的车牌照在预设坐标系中的坐标；表 示第k个事故车辆首次进入道路图像画面时刻的道路图像中的车牌照在预设坐 标系中的坐标。作为一可选实施例，通信模块3，具体用于在收到所述报警触发信号后，随 着时间的增加不断提高自动报警频率，直至收到警方对报警的通信应答后停止 自动报警。本实施例中，根据通信模块3接收到报警触发信号至当前时刻的时长得到自动报警频率，自动 报警频率会随着时间的推移而增加，进而保证警方可以迅速做出应答后出警。优选地，通信模块3，具体用于根据以下第三公式计算自动报警频率：在第三公式中，f表示所述通信模块3收到所述报警触发信号后的t时长 对应的t时刻的自动报警频率；B表示所述t时刻收到警方对报警的通信应答 标志值，若所述t时刻收到警方对报警的通信应答，则B＝1，反之则B＝0； f0表示所述通信模块的预设初始报警频率。本实施例中，表示所述通信模块3的初始报警周期；表示t时刻内的时 间占初始报警周期的比例，然后利用比例对报警频率进行放大，保证了通信模 块3会随着时间不断增加报警频率。作为一可选实施例，数据处理模块2，还用于在对所述第一图像集合中的所 有图像中事故车辆的车牌照进行识别定位后，根据所述数据采集模块实时采集 的道路图像，实时监测收到的道路图像中所述事故车辆的车牌照定位是否发生 移动，若是，则将移动的事故车辆的车牌照定位发生移动的第三时刻起至所述 移动的事故车辆驶离所述数据采集模块采集的道路图像画面的第四时刻之间的 全部道路图像上传给警方。本实施例中，在对车祸画面中的事故车辆的车牌照进行定位识别后，实时 监测所述事故车辆的车牌定位是否发生移动，若存在所述事故车辆的车牌定位 发生移动，则在所述事故车辆的车牌定位发生移动后到所述移动的事故车辆驶 离摄像头画面的这段时间内所述移动事故车辆的全部图像上传给警方。优选地，数据处理模块2，还用于根据第四公式计算所述移动的事故车辆驶 离道路图像画面时的方向，并将所述移动的事故车辆驶离道路图像画面时的方 向通过所述通信模块发送给警方。其中，所述第四公式为：在第四公式中，θl表示第l个移动的事故车辆驶离的方向与所述预设坐标系 中X轴方向所成的夹角，表示第l个移动的事故车辆在所述第四时 刻之前的第r帧道路图像中的车牌坐标；表示第l个移动的 事故车辆在所述第四时刻之前的第r-1帧道路图像中的车牌坐标，r＝1,2,3,…9。本实施例中，在发生车祸后，肇事车辆想要离开现场 时，可以采集肇事车辆离开现场的最后10帧图像，然后根据移动事故车辆的车 牌坐标，采用第四公式可得到移动事故车辆驶离摄像头画面时的方向角度。本发明实施例提供的一种基于车祸识别自动报警功能系统，首先实时采集 道路图像，接着根据收到的所述道路图像，识别是否存在交通事故，并在识别 出存在交通事故时向警方报警，从而缩短救援时间；除外在识别到交通事故后， 进一步还可以计算事故车辆的平均速度、近似加速度信息，协助警方对事故进 行定责，同时还可以自动调节报警频率，进而保证警方可以迅速做出应答后出； 甚至在肇事者在逃离现场时，也可以计算其逃离方向。本发明是参照根据本发明实施例的方法、设备、和计算机程序产 品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和 /或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/ 或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入 式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算 机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个 流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备 以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的 指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流 程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使 得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理， 从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程 或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发 明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及 其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。以上所述， 仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本 技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换， 都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的 保护范围为准。
