标题title
一种登录会话管理方法、系统及存储介质
摘要abst
本发明实施例公开了一种登录会话管理方法、系统及存储介质，方法包括：从预设数据库中获取包括所有用户的登录信息的登录会话列表并发送给前端；接收所述前端发送的对选定用户的选定登录的注销登录指令；从所述登录会话列表中获取所述选定用户的选定登录的登录会话，根据所述登录会话判断所述选定登录的登录类型；根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作。本发明的登录会话管理方法提高了单点登录模式下对登录会话的管理精度，有利于提高管理员对系统的维护效率。
权利要求书clms
1.一种登录会话管理方法，其特征在于，包括：从预设数据库中获取包括所有用户的登录信息的登录会话列表并发送给前端；接收所述前端发送的对选定用户的选定登录的注销登录指令；从所述登录会话列表中获取所述选定用户的选定登录的登录会话，根据所述登录会话判断所述选定登录的登录类型；根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作。2.根据权利要求1所述的一种登录会话管理方法，其特征在于：所述预设数据库是Redis数据库。3.根据权利要求1所述的一种登录会话管理方法，其特征在于：所述根据所述登录会话判断所述选定登录的登录类型，包括：读取所述登录会话中的设定标识，根据所述设定标识判断所述选定登录的登录类型；其中，所述设定标识为字段；所述登录类型包括以下一种：控制台登录、用户中心登录、子应用登录。4.根据权利要求3所述的一种登录会话管理方法，其特征在于：所述根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作，包括：若所述登录类型为子应用登录，注销所述选定用户在对应子应用上的登录；若所述登录类型为控制台登录，注销所述选定用户在控制台上的登录；若所述登录类型为用户中心登录，根据所述选定用户的id账号从所述预设数据库中查找与所述选定用户相关联的所有子应用，注销所述选定用户的在用户中心上的登录及在所有子应用上的登录。5.一种登录会话管理系统，其特征在于，包括：数据获取模块，用于从预设数据库中获取包括所有用户的登录信息的登录会话列表并发送给前端；指令接收模块，用于接收所述前端发送的对选定用户的选定登录的注销登录指令；类型判断模块，用于从所述登录会话列表中获取所述选定用户的选定登录的登录会话，根据所述登录会话判断所述选定登录的登录类型；以及，注销执行模块，用于根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作。6.根据权利要求5所述的一种登录会话管理系统，其特征在于：所述预设数据库是Redis数据库。7.根据权利要求5所述的一种登录会话管理系统，其特征在于：所述根据所述登录会话判断所述选定登录的登录类型，包括：读取所述登录会话中的设定标识，根据所述设定标识判断所述选定登录的登录类型；其中，所述设定标识为字段；所述登录类型包括以下一种：控制台登录、用户中心登录、子应用登录。8.根据权利要求7所述的一种登录会话管理系统，其特征在于：所述注销执行模块具体用于：若所述登录类型为子应用登录，注销所述选定用户在对应子应用上的登录；若所述登录类型为控制台登录，注销所述选定用户在控制台上的登录；若所述登录类型为用户中心登录，根据所述选定用户的id账号从所述预设数据库中查找与所述选定用户相关联的所有子应用，注销所述选定用户的在用户中心上的登录及在所有子应用上的登录。9.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机程序，所述计算机程序包括程序指令，所述程序指令当被处理器执行时使所述处理器执行如权利要求4所述的方法。
说明书desc
技术领域本发明涉及计算机软件技术领域，具体涉及一种登录会话管理方法、系统及存储介质。背景技术随着个人对应用系统的需求的增加，每个系统都要进行登录注册，因此单点登录取得长足发展，但在单点登录模式下，管理员注销某用户的登录后，总会导致此用户的所有相关应用退出登录。例如，管理员只是想将此用户的某个子应用注销登录，但在实际操作过程中，管理员将此用户的某个子应用注销登录后，会导致此用户的所有登录均被注销。因此，现有的登录对话管理方法在单点登录形式下，存在无法精确注销某一登录会话的问题。发明内容针对现有技术中的技术缺陷，本发明实施例的目的在于提供一种登录会话管理方法、系统及存储介质，以解决背景技术中所提出的技术问题。为实现上述目的，第一方面，本发明实施例提供了一种登录会话管理方法，包括：从预设数据库中获取包括所有用户的登录信息的登录会话列表并发送给前端；接收所述前端发送的对选定用户的选定登录的注销登录指令；从所述登录会话列表中获取所述选定用户的选定登录的登录会话，根据所述登录会话判断所述选定登录的登录类型；根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作。可选的，所述预设数据库是Redis数据库。可选的，所述根据所述登录会话判断所述选定登录的登录类型，包括：读取所述登录会话中的设定标识，根据所述设定标识判断所述选定登录的登录类型；其中，所述设定标识为字段；所述登录类型包括以下一种：控制台登录、用户中心登录、子应用登录。可选的，所述根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作，包括：若所述登录类型为子应用登录，注销所述选定用户在对应子应用上的登录；若所述登录类型为控制台登录，注销所述选定用户在控制台上的登录；若所述登录类型为用户中心登录，根据所述选定用户的id账号从所述预设数据库中查找与所述选定用户相关联的所有子应用，注销所述选定用户的在用户中心上的登录及在所有子应用上的登录。第二方面，本发明实施例还提供了一种登录会话管理系统，包括：数据获取模块，用于从预设数据库中获取包括所有用户的登录信息的登录会话列表并发送给前端；指令接收模块，用于接收所述前端发送的对选定用户的选定登录的注销登录指令；类型判断模块，用于从所述登录会话列表中获取所述选定用户的选定登录的登录会话，根据所述登录会话判断所述选定登录的登录类型；以及，注销执行模块，用于根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作。可选的，所述预设数据库是Redis数据库。可选的，所述根据所述登录会话判断所述选定登录的登录类型，包括：读取所述登录会话中的设定标识，根据所述设定标识判断所述选定登录的登录类型；其中，所述设定标识为字段；所述登录类型包括以下一种：控制台登录、用户中心登录、子应用登录。可选的，所述注销执行模块具体用于：若所述登录类型为子应用登录，注销所述选定用户在对应子应用上的登录；若所述登录类型为控制台登录，注销所述选定用户在控制台上的登录；若所述登录类型为用户中心登录，根据所述选定用户的id账号从所述预设数据库中查找与所述选定用户相关联的所有子应用，注销所述选定用户的在用户中心上的登录及在所有子应用上的登录。第三方面，本发明实施例还提供了一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机程序，所述计算机程序包括程序指令，所述程序指令当被处理器执行时使所述处理器执行如第一方面所述的方法。实施本发明实施例，具有以下技术效果：本发明的登录会话管理方法提高了单点登录模式下对登录会话的管理精度，有利于提高管理员对系统的维护效率。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍。图1是本发明实施例提供的一种登录会话管理方法的流程示意图；图2是本发明实施例提供的一种登录会话管理系统的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应当理解，当在本说明书和所附权利要求书中使用时，术语“包括”和“包含”指示所描述特征、整体、步骤、操作、元素和/或组件的存在，但并不排除一个或多个其它特征、整体、步骤、操作、元素、组件和/或其集合的存在或添加。还应当理解，在此本发明说明书中所使用的术语仅仅是出于描述特定实施例的目的而并不意在限制本发明。如在本发明说明书和所附权利要求书中所使用的那样，除非上下文清楚地指明其它情况，否则单数形式的“一”、“一个”及“该”意在包括复数形式。还应当进一步理解，本发明说明书和所附权利要求书中使用的术语“和/或”是指相关联列出的项中的一个或多个的任何组合以及所有可能组合，并且包括这些组合。如在本说明书和所附权利要求书中所使用的那样，术语“如果”可以依据上下文被解释为“当...时”或“一旦”或“响应于确定”或“响应于检测到”。类似地，短语“如果确定”或“如果检测到”可以依据上下文被解释为意指“一旦确定”或“响应于确定”或“一旦检测到”或“响应于检测到”。需要注意的是，除非另有说明，本申请使用的技术术语或者科学术语应当为本发明所属领域技术人员所理解的通常意义。如图1所示，其示出了一种登录会话管理方法的流程图，该登录会话管理方法应用于服务器。该登录会话管理方法可以包括以下步骤：S100：从预设数据库中获取包括所有用户的登录信息的登录会话列表并发送给前端。用户可以选择在控制台/用户中心/子应用进行登录，登录成功后在Redis数据库存储一条键，键中包含有此用户的一些信息，其中的一个字段会表示此用户是从控制台/用户中心/子应用登录的，这样就生成了一条会话。需要说明的是，用户可以同时进行控制台登录、用户中心登录、子应用登录中的至少一种，相应地会在登录会话列表中生成该用户的控制台登录会话、用户中心登录会话、子应用登录会话中的至少一种。服务器从预设数据库即Redis数据库中获取包括所有用户的登录信息的登录会话列表并发送给前端，管理员通过前端查阅该登录会话列表。S200：接收所述前端发送的对选定用户的选定登录的注销登录指令。查阅登录会话列表后，若管理员认为某个用户的某个登录行为存在异常，则在前端上选择与该用户存在异常登录行为对应的登录会话，并对该异常登录进行注销会话的操作，例如点击“注销会话”的虚拟标识，前端接收到该操作后，向服务器发送对该用户的某个登录进行注销登录的指令。S300：从所述登录会话列表中获取所述选定用户的选定登录的登录会话，根据所述登录会话判断所述选定登录的登录类型。服务器接收到前端发送的注销登录指令后，从登录会话列表中获取该选定用户的选定登录的登录会话。然后根据所述登录会话判断所述选定登录的登录类型，具体包括：读取所述登录会话中的设定标识，根据所述设定标识判断所述选定登录的登录类型；其中，所述设定标识为字段；所述登录类型包括以下一种：控制台登录、用户中心登录、子应用登录。即在键中包含有此用户的一些信息，其中的一个字段会表示此用户是从控制台/用户中心/子应用登录的。S400：根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作。本实施例中，所述根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作，包括以下几种情况：第一种：若所述登录类型为子应用登录，注销所述选定用户在对应子应用上的登录。例如，在会话管理中，当管理员想要注销某个从子应用登录的用户时，点击注销会话，然后获取这条键中的某个特殊字段查看所登录的子应用，然后将此用户在这个子应用上的登录退出，如果此用户还同时登录着控制台和/或用户中心，控制台登录和/或用户中心登录并不会退出。第二种：若所述登录类型为控制台登录，注销所述选定用户在控制台上的登录。例如，在会话管理中，当管理员想要注销从控制台登录的用户时，只会将此用户的控制台登录退出，如果此用户还同时登录着用户中心和/或子应用，用户中心登录和/或子应用登录并不会退出。第三种：若所述登录类型为用户中心登录，根据所述选定用户的id账号从所述预设数据库中查找与所述选定用户相关联的所有子应用，注销所述选定用户的在用户中心上的登录及在所有子应用上的登录。本发明的登录会话管理方法提高了单点登录模式下对登录会话的管理精度，有利于提高管理员对系统的维护效率。第二方面，本发明实施例还提供了一种登录会话管理系统。如图2所示，该系统可以包括：数据获取模块201，用于从预设数据库中获取包括所有用户的登录信息的登录会话列表并发送给前端；指令接收模块202，用于接收所述前端发送的对选定用户的选定登录的注销登录指令；类型判断模块203，用于从所述登录会话列表中获取所述选定用户的选定登录的登录会话，根据所述登录会话判断所述选定登录的登录类型；以及，注销执行模块204，用于根据所述选定登录的登录类型，按照设定规则对所述选定用户执行注销登录操作。可选的，所述预设数据库是Redis数据库。可选的，所述根据所述登录会话判断所述选定登录的登录类型，包括：读取所述登录会话中的设定标识，根据所述设定标识判断所述选定登录的登录类型；其中，所述设定标识为字段；所述登录类型包括以下一种：控制台登录、用户中心登录、子应用登录。可选的，所述注销执行模块具体用于：若所述登录类型为子应用登录，注销所述选定用户在对应子应用上的登录；若所述登录类型为控制台登录，注销所述选定用户在控制台上的登录；若所述登录类型为用户中心登录，根据所述选定用户的id账号从所述预设数据库中查找与所述选定用户相关联的所有子应用，注销所述选定用户的在用户中心上的登录及在所有子应用上的登录。需要说明的是，关于登录会话管理系统的具体工作流程，可参考前述方法实施例部分，在此不再赘述。进一步地，本发明实施例还提供了一种可读存储介质，存储有计算机程序，所述计算机程序包括程序指令，所述程序指令被处理器执行时实现：上述登录会话管理方法。所述计算机可读存储介质可以是前述实施例所述的后台服务器的内部存储单元，例如系统的硬盘或内存。所述计算机可读存储介质也可以是所述系统的外部存储设备，例如所述系统上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，所述计算机可读存储介质还可以既包括所述系统的内部存储单元也包括外部存储设备。所述计算机可读存储介质用于存储所述计算机程序以及所述系统所需的其他程序和数据。所述计算机可读存储介质还可以用于暂时地存储已经输出或者将要输出的数据。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以是两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分，或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到各种等效的修改或替换，这些修改或替换都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
