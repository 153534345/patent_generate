标题title
一种10KM级超特长公路隧道应急救援智慧照明控制系统
摘要abst
本发明公开了一种10KM级超特长公路隧道应急救援智慧照明控制系统，包括在隧道内发生交通事故时为车辆提供应急救援照明的应急照明系统、采集隧道图像信息的采集装置、识别异常信息的识别模块、判定事故信息的事件判定模块、划分隧道区段信息的区段划分模块、生成对应控制指令的指令生成模块以及控制应急照明系统提供应急照明的控制模块，可在隧道内发生交通事故时，自动计算出疏散路径，控制应急照明系统形成警示和导向光流，以最快的速度进行救援、疏散，降低由此造成的交通阻塞，最大限度的减少事故损失。
权利要求书clms
1.一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，包括：应急照明系统，用于在隧道内发生交通事故时为车辆提供应急救援照明；采集装置，用于采集隧道内各路段的实时图像，并对所述实时图像进行拼接形成隧道内完整的图像信息；识别模块，用于根据所述图像信息对隧道内车辆的行驶状态进行识别，并当车辆行驶状态异常时，提取异常车辆的行驶轨迹和/或现场交通状况形成异常信息；事件判定模块，用于将所述异常信息与预设交通事故进行匹配，并在匹配成功时，生成对应交通事故的事故信息，其中，所述事故信息包括交通事故类型和事故位置；区段划分模块，用于根据所述事故信息，判断该交通事故的影响程度，基于所述影响程度将所述隧道划分为事故区段、影响区段和非影响区段形成隧道区段信息；指令生成模块，用于根据所述事故信息和隧道区段信息在所述事故区段、影响区段和非影响区段分别生成对应的应急指令、疏散指令和保持指令；以及控制模块，用于基于确认请求并根据所述应急指令控制事故区段的应急照明系统按照设定的应急照明规则提供应急照明、根据所述疏散指令控制影响区段的应急照明系统按照设定的疏散照明规则提供疏散照明以及根据所述保持指令控制非影响区段的应急照明系统保持当前照明状态。2.根据权利要求1所述的一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，还包括一疏散路径生成模块；所述疏散路径生成模块用于根据所述隧道区段信息、隧道内各车辆的实时位置以及隧道设计的出入口位置和各横通道口位置，计算出隧道内非交通事故车辆与隧道出入口间距离最短疏散路径形成对应的疏散路径信息；所述指令生成模块还用于根据所述疏散路径信息在所述影响区段生成所述疏散指令；所述控制模块还用于基于确认请求并根据所述疏散指令控制疏散路径沿线的应急照明系统按照设定的疏散照明规则提供疏散照明。3.根据权利要求2所述的一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，所述疏散路径生成模块包括：位置获取子模块，用于根据所述实时图像信息获取隧道内各车辆的实时位置以及隧道出入口位置和各横通道口位置；节点配置子模块，用于根据隧道的施工设计图纸将隧道的出入口以及各横通道口配置成链路节点，并设置各链路节点的通行方向以及对各链路节点按照隧道入口至横通道口再至隧道出口的方向依次进行编号；路径链接子模块，用于根据隧道内非交通事故车辆的实时位置与隧道出入口位置和各横通道口位置，将每一车辆的实时位置与带有通行方向的各链路节点进行路径链接，生成若干可行路径；以及路径筛选子模块，用于在所述若干可行路径中筛选出各车辆与隧道出入口间距离最短的可行路径形成疏散路径，进而形成各车辆的疏散路径信息。4.根据权利要求1所述的一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，所述采集装置包括：沿隧道长度方向均匀设置的摄像头，用于采集隧道内各路段的实时图像，其中，相邻两个摄像头的有效监测范围的临界区域相互衔接或存在交叠部分；以及图像拼接子模块，用于对隧道内各路段的实时图像进行拼接，形成隧道内完整且连续的图像信息。5.根据权利要求1所述的一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，所述识别模块包括：图像预处理子模块，用于采用背景差分法对图像信息中的运动车辆进行提取，并对所述运动车辆的轮廓进行标识形成追踪目标；目标追踪子模块，用于将图像信息按帧进行分割，得到追踪目标的视频帧序列，再对视频帧序列的各帧图像以同一追踪目标为单位分别对各运动车辆进行跟踪，并结合卡尔曼滤波算法预测追踪目标下一帧的位置；异常信息识别模型，用于以所述视频帧序列为输入，对视频帧序列中运动车辆的运动速度和运动方向进行识别，并在所述运动车辆的运动速度和运动方向与预设参数变化阈值不匹配时，判定该运动车辆行驶状态异常，并输出车辆行驶异常信号；异常信息提取子模块，用于根据所述车辆行驶异常信号在所述视频帧序列中提取行驶状态异常的运动车辆的行驶轨迹和/或现场交通状况形成所述异常信息；以及模型训练子模块，用于以获取到的历史交通事故数据作为训练集，对异常信息识别模型进行迭代训练，直至设定的损失函数趋于稳定或达到最大迭代次数后，完成训练。6.根据权利要求1所述的一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，所述区段划分模块包括：隧道分段子模块，用于根据隧道的施工设计图纸将隧道按照横通道的位置分割成若干子隧道段；统计与计算子模块，用于在图像信息中提取每一子隧道段的图像，并统计每一图像中的所有车辆在图像中的占比，计算得到每一子隧道段的断面交通占有率；比对子模块，用于将所述断面交通占有率与设定的第一阈值和第二阈值进行比对得到各子隧道段在出现交通事故时的影响程度，且所述第一阈值小于第二阈值；以及区段确定子模块，用于根据比对子模块的比对结果，将每一子隧道段的区段类别确定为事故区段、影响区段和非影响区段，形成所述隧道区段信息。7.根据权利要求6所述的一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，所述统计与计算子模块采用如下公式计算每一子隧道段内的断面交通占有率：其中：Oi为第i子隧道段的断面交通占有率，Li为第i子隧道段的图像中所有车辆所占的总面积，Di第i子隧道段的图像对应的总面积，i＝1,2,...,n，n为子隧道段的数量。8.根据权利要求1所述的一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，所述应急照明系统包括沿隧道长度方向均匀设置在隧道两侧壁上的应急照明灯，且所述应急照明灯具有多种可组合形成对应照明规则的光照颜色和闪烁频率；所述应急照明规则与所述交通事故类型一一对应设置。9.根据权利要求1所述的一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，还包括一交通管理服务器和一报警模块；所述交通管理服务器用于实现与控制模块之间的数据交互，存储和显示所述事故信息，并可基于管理人员对所述事故信息的确认请求或系统延时自动确认请求生成一应急触发信号；所述指令生成模块还用于根据所述应急触发信号生成报警指令；所述报警模块用于根据所述报警指令执行相应警示。10.根据权利要求9所述的一种10KM级超特长公路隧道应急救援智慧照明控制系统，其特征在于，所述控制模块包括：上位机，用于显示与存储事故信息；控制器主机，用于根据所述应急触发信号以及对应的应急指令、疏散指令和保持指令分别向对各事故区段、影响区段和非影响区段发送控制指令；以及若干区段控制分机，用于根据所述控制器主机发送的控制指令控制其区段内的应急照明系统按照设定的应急照明规则提供应急照明、按照设定的疏散照明规则提供疏散照明或保持当前照明状态。
说明书desc
技术领域本发明涉及隧道照明技术领域，特别是涉及一种10KM级超特长公路隧道应急救援智慧照明控制系统。背景技术特长隧道具有线路长、空间有限、环境特殊、发生事故后救援难度大、疏散困难等特点，由于交通流量的逐年增长、危险品运输量的增多、车辆行车速度加快等因素的影响，使得隧道中发生车辆故障、交通事故甚至火灾等突发事件的危险性大大增加，使事故损失和事故严重程度远高于一般路段。现有的隧道照明大多都无法进行灯光调节，运行模式较为固定，各区段照明亮度模式相当，工作方式存在安全隐患，面对突发事件处理形式单一。且隧道内现有应急救援照明缺乏对司乘人员、救援人员、监管人员的有效引导，造成人群疏散时间过长、事故不能有效控制、以及救援困难的问题，从而对交通管控的时间增加影响交通效率。发明内容有鉴于此，本发明的目的在于提供一种10KM级超特长公路隧道应急救援智慧照明控制系统，以解决现有技术中隧道内发生交通事故后人群疏散时间过长、事故不能有效控制、以及救援困难的问题。为达到上述目的，本发明提供一种10KM级超特长公路隧道应急救援智慧照明控制系统，包括：应急照明系统，用于在隧道内发生交通事故时为车辆提供应急救援照明；采集装置，用于采集隧道内各路段的实时图像，并对所述实时图像进行拼接形成隧道内完整的图像信息；识别模块，用于根据所述图像信息对隧道内车辆的行驶状态进行识别，并当车辆行驶状态异常时，提取异常车辆的行驶轨迹和/或现场交通状况形成异常信息；事件判定模块，用于将所述异常信息与预设交通事故进行匹配，并在匹配成功时，生成对应交通事故的事故信息，其中，所述事故信息包括交通事故类型和事故位置；区段划分模块，用于根据所述事故信息，判断该交通事故的影响程度，基于所述影响程度将所述隧道划分为事故区段、影响区段和非影响区段形成隧道区段信息；指令生成模块，用于根据所述事故信息和隧道区段信息在所述事故区段、影响区段和非影响区段分别生成对应的应急指令、疏散指令和保持指令；以及控制模块，用于基于确认请求并根据所述应急指令控制事故区段的应急照明系统按照设定的应急照明规则提供应急照明、根据所述疏散指令控制影响区段的应急照明系统按照设定的疏散照明规则提供疏散照明以及根据所述保持指令控制非影响区段的应急照明系统保持当前照明状态。进一步的，还包括一疏散路径生成模块；所述疏散路径生成模块用于根据所述隧道区段信息、隧道内各车辆的实时位置以及隧道设计的出入口位置和各横通道口位置，计算出隧道内非交通事故车辆与隧道出入口间距离最短疏散路径形成对应的疏散路径信息；所述指令生成模块还用于根据所述疏散路径信息在所述影响区段生成所述疏散指令；所述控制模块还用于基于确认请求并根据所述疏散指令控制疏散路径沿线的应急照明系统按照设定的疏散照明规则提供疏散照明。进一步的，所述疏散路径生成模块包括：位置获取子模块，用于根据所述实时图像信息获取隧道内各车辆的实时位置以及隧道出入口位置和各横通道口位置；节点配置子模块，用于根据隧道的施工设计图纸将隧道的出入口以及各横通道口配置成链路节点，并设置各链路节点的通行方向以及对各链路节点按照隧道入口至横通道口再至隧道出口的方向依次进行编号；路径链接子模块，用于根据隧道内非交通事故车辆的实时位置与隧道出入口位置和各横通道口位置，将每一车辆的实时位置与带有通行方向的各链路节点进行路径链接，生成若干可行路径；以及路径筛选子模块，用于在所述若干可行路径中筛选出各车辆与隧道出入口间距离最短的可行路径形成疏散路径，进而形成各车辆的疏散路径信息。进一步的，所述采集装置包括：沿隧道长度方向均匀设置的摄像头，用于采集隧道内各路段的实时图像，其中，相邻两个摄像头的有效监测范围的临界区域相互衔接或存在交叠部分；以及图像拼接子模块，用于对隧道内各路段的实时图像进行拼接，形成隧道内完整且连续的图像信息。进一步的，所述识别模块包括：图像预处理子模块，用于采用背景差分法对图像信息中的运动车辆进行提取，并对所述运动车辆的轮廓进行标识形成追踪目标；目标追踪子模块，用于将图像信息按帧进行分割，得到追踪目标的视频帧序列，再对视频帧序列的各帧图像以同一追踪目标为单位分别对各运动车辆进行跟踪，并结合卡尔曼滤波算法预测追踪目标下一帧的位置；异常信息识别模型，用于以所述视频帧序列为输入，对视频帧序列中运动车辆的运动速度和运动方向进行识别，并在所述运动车辆的运动速度和运动方向与预设参数变化阈值不匹配时，判定该运动车辆行驶状态异常，并输出车辆行驶异常信号；异常信息提取子模块，用于根据所述车辆行驶异常信号在所述视频帧序列中提取行驶状态异常的运动车辆的行驶轨迹和/或现场交通状况形成所述异常信息；以及模型训练子模块，用于以获取到的历史交通事故数据作为训练集，对异常信息识别模型进行迭代训练，直至设定的损失函数趋于稳定或达到最大迭代次数后，完成训练。进一步的，所述区段划分模块包括：隧道分段子模块，用于根据隧道的施工设计图纸将隧道按照横通道的位置分割成若干子隧道段；统计与计算子模块，用于在图像信息中提取每一子隧道段的图像，并统计每一图像中的所有车辆在图像中的占比，计算得到每一子隧道段的断面交通占有率；比对子模块，用于将所述断面交通占有率与设定的第一阈值和第二阈值进行比对得到各子隧道段在出现交通事故时的影响程度，且所述第一阈值小于第二阈值；以及区段确定子模块，用于根据比对子模块的比对结果，将每一子隧道段的区段类别确定为事故区段、影响区段和非影响区段，形成所述隧道区段信息。进一步的，所述统计与计算子模块采用如下公式计算每一子隧道段内的断面交通占有率：其中：Oi为第i子隧道段的断面交通占有率，Li为第i子隧道段的图像中所有车辆所占的总面积，Di第i子隧道段的图像对应的总面积，i＝1,2,...,n，n为子隧道段的数量。进一步的，所述应急照明系统包括沿隧道长度方向均匀设置在隧道两侧壁上的应急照明灯，且所述应急照明灯具有多种可组合形成对应照明规则的光照颜色和闪烁频率；所述应急照明规则与所述交通事故类型一一对应设置。进一步的，还包括一交通管理服务器和一报警模块；所述交通管理服务器用于实现与控制模块之间的数据交互，存储和显示所述事故信息，并可基于管理人员对所述事故信息的确认请求或系统延时自动确认请求生成一应急触发信号；所述指令生成模块还用于根据所述应急触发信号生成报警指令；所述报警模块用于根据所述报警指令执行相应警示。进一步的，所述控制模块包括：上位机，用于显示与存储事故信息；控制器主机，用于根据所述应急触发信号以及对应的应急指令、疏散指令和保持指令分别向对各事故区段、影响区段和非影响区段发送控制指令；以及若干区段控制分机，用于根据所述控制器主机发送的控制指令控制其区段内的应急照明系统按照设定的应急照明规则提供应急照明、按照设定的疏散照明规则提供疏散照明或保持当前照明状态。本方案通过设置采集装置、识别模块和事件判定模块，基于采集到的图像信息结合预设交通事故可实现对隧道内是否发生交通事故进行双重判定，以提高交通事故的确定精度；通过设置区段划分模块，可在交通事故发生后根据交通事故对隧道各区段的影响程度将隧道划分为事故区段、影响区段和非影响区段，根据区段类型的不同分别控制对应区段内的应急照明系统按照设定的应急照明规则、疏散照明规则或保持原照明状态为隧道提供照明，以使隧道内的车辆及驾乘人员以最快的速度得到救援和疏散，降低由此造成的交通阻塞，最大限度的减少事故损失。附图说明图1为本发明的一种10KM级超特长公路隧道应急救援智慧照明控制系统的结构框图。图2为图1中采集模块的结构框图。图3为图1中识别模块的结构框图。图4为图1中区段划分模块的结构框图。图5为图1中疏散路径生成模块的控制框图。图6为图1中控制模块的控制框图。图7为本发明另一实施例的一种10KM级超特长公路隧道应急救援智慧照明控制系统的结构框图。具体实施方式下面通过具体实施方式进一步详细说明：实施例本实施例的应急救援智慧照明控制系统虽以10KM级的公路隧道为例进行说明，但不仅限于用于10KM级的公路隧道的应急救援照明，还可用于其他更长级别或较短级别的公路隧道的应急救援照明，以在隧道内出现交通事故时，及时对隧道内的车辆及驾乘人员进行引导疏散，进而最大限度的降低事故的影响。如图1所示，为本实施例的一种10KM级超特长公路隧道应急救援智慧照明控制系统的控制框图。本实施例包括应急照明系统1、采集装置2、识别模块3、事件判定模块4、区段划分模块5、疏散路径生成模块6、指令生成模块7和控制模块8。其中：所述应急照明系统1可在隧道内发生交通事故时为车辆提供应急救援照明；其具体包括出现交通事故时的应急照明和疏散照明。所述应急照明系统1包括沿隧道长度方向均匀设置在隧道两侧壁上的应急照明灯，且每一应急照明灯均具有多种光照颜色和闪烁频率，以便通过不同颜色的光照和闪烁频率组合形成多种照明规则，实现隧道内的发生交通事故时的应急照明和疏散照明。所述采集装置2可对隧道内各路段的实时图像进行采集，并通过图像拼接技术将采集到的各实时图像进行拼接，整理形成整个隧道内完整的图像信息。具体的，如图2所示，所述采集装置2包括若干沿隧道的长度方向均匀设置在隧道侧壁上的摄像头21和一图像拼接子模块22，所述摄像头21可实现对应路段隧道的实时图像的采集，且相邻两个摄像头21的有效监测范围的临界区域相互衔接或存在交叠部分，使采集的隧道实时图像无视区盲点，达到最大值，以增加交通事故判定的准确性。所述图像拼接子模块22可通过视频分配器与各摄像头21连接，以接收各摄像头21采集到的隧道内对应路段的实时图像，并通过图像拼接算法将各实时图像拼接形成隧道内完整且连续的无缝全景图像，得到隧道内的图像信息传输给所述识别模块3。所述识别模块3接收所述图像拼接子模块22的图像信息，并根据所述图像信息对隧道内车辆的行驶状态进行识别及判断，所述行驶状态包括正常行驶状态和异常行驶状态，当判断到车辆行驶状态异常时，提取异常车辆的行驶轨迹和/或现场交通状况形成异常信息。如图3所示，所述识别模块3包括模型训练子模块31、图像预处理子模块32、目标追踪子模块33、异常信息识别模型34和异常信息提取子模块35。在本实施例中，所述异常信息识别模型34基于神经网络实现，可通过模型训练子模块31对所述异常信息识别模型34进行训练，使得在训练完成后，异常信息识别模型34可基于图像预处理子模块32和目标追踪子模块33处理后得到的视频帧序列对图像信息中运动车辆的参数进行识别并判断其行驶状态是否异常。其中：所述模型训练子模块31以在交管部门或者通过爬取的方式获取到的历史交通事故数据作为训练集，将该训练集输入所述异常信息识别模型34中，基于所述异常信息识别模型34的正向传播，提取出对应的参数，并将得到的参数反向输入异常信息识别模型34中对其进行迭代训练，直至设定的损失函数趋于稳定或达到最大迭代次数后，完成训练，得到训练好的异常信息识别模型34，进而将该异常信息识别模型34用于图像信息中运动车辆参数的识别和行驶状态异常的判定。具体的，所述图像预处理子模块32接收所述图像信息，基于视频图像处理技术，利用背景差分法对图像信息中的运动车辆进行检测，并在检测到运动车辆后，对所述图像信息中运动车辆通过自适应性阈值分割、形态学去噪、阴影去除以及车辆轮廓标识，使前景图像中只包括运动车辆，并以所述运动车辆形成追踪目标。所述目标追踪子模块33接收所述图像预处理子模块32处理后的图像信息，将图像信息按帧进行分割，得到追踪目标的视频帧序列。在本实施例中，所述目标追踪子模块33采用特征匹配方法对各帧中同一目标进行追踪；具体实现时，可为每一检测到的运动车辆建立一个camshift跟踪器，以此来实现多辆运动车辆的跟踪，并结合卡尔曼滤波算法预测追踪目标下一帧的位置，可解决车辆部分遮挡的问题，以获得视频帧序列中的运动车辆完整的运动轨迹及现场交通状态图像。所述异常信息识别模型34以所述目标追踪子模块33处理后的视频帧序列为输入，基于神经网络的正向传播对视频帧序列中运动车辆的运动速度和运动方向进行识别，并在所述运动车辆的运动速度和运动方向与预设参数变化阈值不匹配时，判定该运动车辆行驶状态异常，并输出车辆行驶异常信号。在本实施例中，所述预设参数变化阈值可根据隧道内的限速、限行等规则进行设置。所述异常信息提取子模块35接收所述异常信息识别模型34输出的异常信号，在视频帧序列中提取出行驶状态异常的运动车辆的行驶轨迹和/或现场交通状况形成所述异常信息，以用于后续交通事故的自动判定。所述事件判定模块4接收所述异常信息提取子模块35提取到的异常信息，将所述异常信息与预设交通事故进行匹配，并在匹配成功时，生成对应交通事故的事故信息，其中，所述事故信息包括交通事故类型和事故位置。在本实施例中，所述隧道内的交通事故类型至少包括Ⅰ、Ⅱ、Ⅲ、Ⅳ类交通事故，所述Ⅰ类交通事故主要包括火灾等，所述Ⅱ类交通事故主要包括车辆追尾、两车相撞等，所述Ⅲ类交通事故主要包括车辆撞向隧道内壁等，所述Ⅳ类交通事故主要包括车辆侧翻等。在具体实现时，可基于机器学习算法实现，即通过提取上述四类交通事故的历史数据的特征值作为训练样本对一神经网络模型进行训练，并在接收到异常信息时，提取所述异常信息的特征值，将该特征值与设定阈值进行循环比对，实现对交通事故类型和事故位置的判定。所述区段划分模块5接收所述事故信息，并根据所述事故信息计算隧道内各段的断面交通占有率，以此判断该交通事故对于隧道内各路段的影响程度，基于所述影响程度将所述隧道划分为事故区段、影响区段和非影响区段形成隧道区段信息。如图4所示，所述区段划分模块5包括隧道分段子模块51、统计与计算子模块52、比对子模块53和区段确定子模块54。其中：所述隧道分段子模块51根据在相关部门处获取得到的隧道的施工设计图纸，将隧道按照横通道的位置分割成若干子隧道段。在其他可选的实施例中，还可根据所述摄像头21或应急照明灯的安装位置甚至隧道内通风口的安装位置来将所述隧道分割成若干子隧道段。所述统计与计算子模块52根据所述隧道分段子模块51对隧道的分割情况，在所述图像信息中提取每一子隧道段的图像，基于视频图像处理的断面交通占有率测定方法，检测并统计每一图像中的车辆数目，将每一车辆在图像中的面积近似表示为每一子隧道段内所有像素的总数量，通过统计像素累加求和的方法对每一子隧道段内的断面交通占率进行计算。具体的，按照平均标准求和的方式得到第i子隧道段内所有车辆在对应子隧道段的图像中总面积Li，将第i子隧道段的图像中所有车辆所占的总面积比上第i子隧道段的图像对应的总面积，计算得到每一子隧道段的断面交通占有率Oi：其中：Oi为第i子隧道段的断面交通占有率，Li为第i子隧道段的图像中所有车辆所占的总面积，Di第i子隧道段的图像对应的总面积，i＝1,2,...,n，n为子隧道段的数量。所述比对子模块53接收每一子隧道段的断面交通占有率，所述断面交通占有率与设定的第一阈值和第二阈值进行比对得到各子隧道段在出现交通事故时的影响程度，在本实施例中，所述第一阈值小于第二阈值，所述第一阈值和第二阈值可根据隧道的车道数量以及车道宽度等确定。所述区段确定子模块54根据比对子模块53的比对结果，将每一子隧道段的区段类别确定为事故区段、影响区段和非影响区段，形成所述隧道区段信息。在本实施例中，当所述断面交通占有率小于第一阈值时，所述子隧道段确定为非影响区段；当所述断面交通占有率大于或等于第一阈值且小于第二阈值时，所述子隧道段确定为影响区段；当所述断面交通占有率大于或等于第二阈值时，所述子隧道段确定为事故区段。在确定所述影响区段时，还可根据所述事故区段以及当前隧道的行驶方向，可将所述事故区段后方直至隧道入口间的路段均确定为影响区段，而对应事故区段前方直至隧道出口间的路段均确定为非影响区段。在其他可选的实施方式中，所述区段划分模块5也可以根据事故信息通过计算每一子隧道段单位时间内车辆的平均速度来确定交通事故对于隧道内各路段的影响程度。具体的，所述统计与计算子模块52可采用如下公式计算每一子隧道段单位时间内车辆的平均速度其中：分别为运动车辆在t时刻和t-1时刻相对于x轴的质心位置；分别为运动车辆在t时刻和t-1时刻相对于y轴的质心位置；m为第i子隧道段经过的车辆总数。对应的，所述比对子模块53通过将每一子隧道段单位时间内车辆的平均速度与交通事故影响等级的映射关系确定对应子隧道段内的交通事故的影响程度，所述区段确定子模块54根据对应影响程度确定每一子隧道段的区段类别。所述疏散路径生成模块6接收所述隧道区段信息，确定事故区段和影响区段，并基于所述图像信息获取隧道内事故区段和影响区段各车辆的实时位置以及隧道设计的出入口位置和各横通道口位置，计算出隧道内事故区段和影响区段的非交通事故车辆与隧道出入口间距离最短疏散路径形成对应的疏散路径信息。如图5所示，所述疏散路径生成模块6包括位置获取子模块61、节点配置子模块62、路径链接子模块63和路径筛选子模块64。其中：所述位置获取子模块61可根据所述实时图像信息获取隧道内各车辆的实时位置以及隧道出入口位置和各横通道口位置，以用于后续计算可行路径及确定疏散路径。所述节点配置子模块62根据从相关部门获取到的隧道的施工设计图纸将隧道的出入口以及各横通道口配置成链路节点，并设置各链路节点的通行方向，每一链路节点均单向通行，然后对各链路节点按照隧道入口至横通道口再至隧道出口的方向依次进行编号，形成具有通行方向的链路节点序列。所述路径链接子模块63接收隧道内非交通事故车辆的实时位置与隧道出入口位置和各横通道口位置，将每一车辆的实时位置与带有通行方向的各链路节点进行路径链接，针对每一车辆均可生成若干条离开隧道的可行路径。所述路径筛选子模块64接收所有可行路径，并在所述若干可行路径中筛选出各车辆与隧道出入口间距离最短的可行路径作为该车辆的疏散路径，进而形成各车辆的疏散路径信息。所述指令生成模块7可根据所述事故信息和隧道区段信息，在事故区段生成对应控制该区段内应急照明灯的应急指令以及在非影响区段内生成对应控制该区段内应急照明灯的保持指令；同时根据所述事故信息、隧道区段信息以及疏散路径信息在影响区段生成对应控制该区段内应急照明灯的疏散指令。所述控制模块8可基于确认请求并根据所述应急指令控制事故区段的应急照明系统1按照设定的应急照明规则提供应急照明、根据所述疏散指令控制影响区段的应急照明系统1按照设定的疏散照明规则提供疏散照明以及根据所述保持指令控制非影响区段的应急照明系统1保持当前照明状态。在本实施例中，所述确认请求可由一交通管理服务器9发送至控制模块8，具体实现时，所述交通管理服务器9可通过无线方式与控制模块8之间实现数据交互，并存储和显示所述事故信息，基于管理人员对所述事故信息判断对所述事故信息是否真实发生进行的确认请求或系统于一预设时间倒计时结束后该事故信息的自动延时确认的确认请求，以及基于该确认请求生成一应急触发信号发送给控制模块8。如图6所示，所述控制模块8包括一上位机81、一控制器主机82以及若干区段控制分机83。在本实施例中，所述上位机81通过RS485总线与控制器主机82进行数据传输，以实现对整个系统的监控，并显示与存储事故信息；所述控制器主机82与区段控制分机83之间运用CAN总线技术实现数据传输。其中：所述控制器主机82根据所述应急触发信号以及对应的应急指令、疏散指令和保持指令分别向对各事故区段、影响区段和非影响区段发送控制指令，以控制对应的区段控制分机83执行相应控制操作。所述区段控制分机83根据所述控制器主机82发送的控制指令控制其区段内的应急照明系统1按照设定的应急照明规则提供应急照明、按照设定的疏散照明规则提供疏散照明或保持当前照明状态。在本实施例中，所述照明规则与所述交通事故类型一一对应设置。具体的：所述Ⅰ类交通事故对应的照明规则为：控制事故区段两侧的应急照明灯亮红色，警告车辆及驾乘人员远离事故区段；控制影响区段两侧的应急照明灯亮绿色，并按照疏散路径信息以及设定的疏散照明规则依次闪烁，形成光流，引导车辆及驾乘人员按照疏散路径进行疏散；以及控制消防设备箱、紧急逃生通道周围的应急照明灯为红、蓝光交替闪烁，诱导驾乘人员自救灭火及逃生；所述应急照明灯的闪烁频率为3Hz。同时，将隧道内正常的行车照明灯颜色调整为黄色或其他具有较强穿透性的灯光。所述Ⅱ类交通事故对应的照明规则为：若为车辆追尾、相撞但未影响相邻车道，控制事故区段内发生事故一侧车道的应急照明灯亮红色，另一侧车道的应急照明灯亮绿色，并按照疏散路径信息以及设定的疏散照明规则依次闪烁，形成光流，引导车辆及驾乘人员按照疏散路径进行疏散；若为车辆追尾、相撞影响到相邻车道，控制事故区段内的应急照明灯亮红色，影响区段两侧的应急照明灯亮绿色，并按照疏散路径信息以及设定的疏散照明规则依次闪烁，形成光流，引导车辆及驾乘人员按照疏散路径进行疏散；以及控制消防设备箱、紧急逃生通道周围的应急照明灯为红、蓝光交替闪烁，诱导驾乘人员自救灭火及逃生；所述应急照明灯的闪烁频率为2Hz。同时，将隧道内正常的行车照明灯颜色调整为黄色或其他具有较强穿透性的灯光。所述Ⅲ类交通事故对应的照明规则为：一般车辆撞向侧壁只影响一侧车道行驶，则控制事故区段内发生事故一侧车道的应急照明灯亮红色，另一侧车道的应急照明灯亮绿色，并按照疏散路径信息以及设定的疏散照明规则依次闪烁，形成光流，引导车辆及驾乘人员按照疏散路径进行疏散。同时，将隧道内正常的行车照明灯颜色调整为黄色或其他具有较强穿透性的灯光。所述Ⅳ类交通事故对应的照明规则为：对于小型车辆侧翻，司乘人员一般可自行自救，恢复车辆正确姿态，故只需控制应急照明灯亮绿色，若不能自行自救，则控制事故区段内的应急照明灯亮红色，影响区段两侧的应急照明灯亮绿色，并按照疏散路径信息以及设定的疏散照明规则依次闪烁，形成光流，引导车辆及驾乘人员按照疏散路径进行疏散。同时，将隧道内正常的行车照明灯颜色调整为黄色或其他具有较强穿透性的灯光。本实施例的应急照明灯可采用带监控的智慧照明灯，且具有独立的地址，能将应急照明灯和采集装置2结合为一体，降低采购成本及施工成本，并且本实施例采用集中电源集中控制模式，在应急照明灯内部设置蓄电池，能实时监控应急照明灯的工作状态，可减少应急照明灯的维护和运营成本，达到节能环保的目的。本实施例的10KM级超特长公路隧道应急救援智慧照明控制系统，系统本身设定有各类型交通事故作为参照，当检测到某一车辆的运行轨迹或交通现场状况吻合已定义的交通事故类型时，会自动将该情况判定为该类型的交通事故；通过识别模块3和事件判定模块4对隧道内是否出现交通事故进行双重判断，可提高隧道内交通事故判断的准确度，进而在隧道内发生交通事故时，根据划分的隧道区段信息，自动计算出疏散路径，并控制应急照明系统1按照不同的照明规则来引导车辆及驾乘人员及时疏散，能以最快的速度进行救援、疏散，降低由此造成的交通阻塞，最大限度的减少事故损失。作为本发明的另一实施例，如图7所示，本实施例还包括一报警模块10，用于在隧道内发生交通事故时，发出报警声提醒救援队或其他施救人员，指引救援人员快速赶到现场，以提升救援效率。具体的，所述指令生成模块7还可根据所述应急触发信号生成报警指令；所述报警模块10根据所述报警指令执行相应警示，以提示救援人员。以上所述的仅是本发明的实施例，方案中公知的具体结构及特性等常识在此未作过多描述。应当指出，对于本领域的技术人员来说，在不脱离本发明结构的前提下，还可以作出若干变形和改进，这些也应该视为本发明的保护范围，这些都不会影响本发明实施的效果和本发明的实用性。
