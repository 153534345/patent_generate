标题title
一种基于语义拆分的煤矿井下数据传输方法、装置及设备
摘要abst
本申请公开了一种基于语义拆分的煤矿井下数据传输方法、装置及设备，涉及矿井数据传输技术领域，包括：将待传输的矿井采集数据信息进行语义解析确定出不同段具有独立语义完整性的数据子片段；按照确定出的数据子片段对所述待传输的数据信息进行拆分；将拆分后的数据子片段并行发送。由于拆分的数据子片段都具有独立的语义完整性，传输到接收方后，可以对独立的的数据子片段进行数据解析，最后将解析完毕的数据子片段进行拼接即可。这样在数据传输中即可完成部分数据的解析，可以在数据没有完全传输完成之前能够对井下输出来的包含有不安全因素信息的关键信息提前获取，进而可以第一时间对井下作业采取急救措施。
权利要求书clms
1.一种基于语义拆分的煤矿井下数据传输方法，其特征在于，包括：将待传输的矿井采集数据信息进行语义解析确定出不同段具有独立语义完整性的数据子片段；按照确定出的数据子片段对所述待传输的数据信息进行拆分；将拆分后的数据子片段并行发送，同一时间并行发送的不同数据子片段对应的接收缓存区域不同。2.根据权利要求1所述的基于语义拆分的煤矿井下数据传输方法，其特征在于，将待传输的矿井采集数据信息进行语义解析确定出不同段具有独立语义完整性的数据子片段，包括：对所述矿井采集数据信息进行解析确定其中的关键信息字段；将所述关键信息字段进行独立语义划分获得多个关键信息数据子片段；将除所述关键信息片段外的信息按照独立语义依次划分获得多个普通信息数据子片段。3.根据权利要求2所述的基于语义拆分的煤矿井下数据传输方法，其特征在于，所述按照确定出的数据子片段对所述待传输的数据信息进行拆分，包括：确定出每个数据子片段在待传输数据信息中的起始位置；按照所述起始位置对所述待传输数据信息进行拆分。4.根据权利要求3所述的基于语义拆分的煤矿井下数据传输方法，其特征在于，所述将拆分后的数据子片段并行发送，包括：建立数据传输通道与接收缓存区域的通信，所述接收缓存区域包括多个子缓存区域；按照所述子缓存区域的数量配置数据传输通道，并且将每个数据传输通道对应唯一的子缓存区域；按照所述数据子片段的顺序划分数据组，每个所述数据组中的数据子片段数量与所述数据传输通道相同；按照所述数据组依次将所述数据子片段通过所述数据传输通道并行发送。5.根据权利要求4所述的基于语义拆分的煤矿井下数据传输方法，其特征在于，所述按照所述数据子片段的顺序划分数据组，包括：将所述数据子片段的优先级进行确定，所述关键信息数据子片段大于所述普通信息数据子片段的优先级；按照所述数据子片段的优先级确定不同数据子片段的顺序；根据所述数据组中最高优先级的数据子片段确定所述数据组的优先级，所述数据组的优先级用于确定所述数据组的发送顺序。6.根据权利要求5所述的基于语义拆分的煤矿井下数据传输方法，其特征在于，所述子缓存区域每接收完一个数据子片段后会将所述数据子片段移出，然后接收下一个数据子片段。7.根据权利要求6所述的基于语义拆分的煤矿井下数据传输方法，其特征在于，所述按照所述起始位置对所述待传输数据信息进行拆分，包括：将待拆分的待传输数据信息在确定的数据子片段之间插入两个字节的空白字段；分别将两个空白字段赋予相同的标识信息；将所述空白字段进行拆分，其中一个字段作为第一数据子片段的末位字段，另一个字段作为第二数据子片段的首位字段，所述第一数据子片段和第二数据子片段为相邻的数据子片段，且在待传输数据信息中所述第一数据子片段位置在先。8.根据权利要求7所述的基于语义拆分的煤矿井下数据传输方法，其特征在于，所述子缓存区域的长度相同，且每个所述子缓存区域的长度大于最大长度的所述数据子片段。9.一种基于语义拆分的煤矿井下数据传输装置，其特征在于，包括：数据子片段确定单元，用于将待传输的矿井采集数据信息进行语义解析确定出不同段具有独立语义完整性的数据子片段；数据信息拆分单元，用于按照确定出的数据子片段对所述待传输的数据信息进行拆分；数据传输单元，用于将拆分后的数据子片段并行发送，同一时间并行发送的不同数据子片段对应的接收缓存区域不同。10.一种基于语义拆分的煤矿井下数据传输设备，其特征在于，包括：处理器；存储器；以及计算机程序，其中所述计算机程序被存储在所述存储器中，所述计算机程序包括指令，当所述指令被所述处理器执行时，使得基于语义拆分的煤矿井下数据传输设备执行权利要求1至8中任意一项的基于语义拆分的煤矿井下数据传输方法。
说明书desc
技术领域本申请涉及矿井数据传输技术领域，具体涉及一种基于语义拆分的煤矿井下数据传输方法、装置及设备。背景技术煤矿安全生产事关矿井的安全发展、事关职工的生命。一通三防是煤矿安全的重中之重。随着矿井开拓，范围增大，通风系统越来越复杂，通防设施越来越多，矿井通防巡检工作越来越繁重，采空区情况越来越复杂，每年因巡检人员巡检不到位、巡检不及时造成的安全事故时有发生，现场监督巡检人员的管理难度日趋提升。传统技术中为了保证煤矿的安全生产，一般会在井下布设各种传感器或者井下巡检机器人对矿井情况进行监测，然后将监测数据传输至地面控制室，从而实现地面人员对矿井内情况的获知。数据传输一般通过一条或者多条数据链路，将数据从数据源传输到数据终端。传统技术中数据传输的一般是建立点对点的通信之后，发送方将需要发送的数据发送给接收方，进而完成数据的传输。一般对于数据传输比较关注的点为数据传输的速度，通过提高传输带宽，但是一方面数据带宽不可能无限制的提高，加上数据传输过程中可能存在的网络不稳定，因此如果出现数据传输中断，则需要对数据重新传输。然而井下数据的稳定传输对井下生产安全至关重要，如果井下监测到的不安全因素数据由于传输中断，再次传输可能会失去最佳的处理时机。发明内容本申请为了解决上述技术问题，提出了如下技术方案：第一方面，本申请实施例提供了一种基于语义拆分的煤矿井下数据传输方法，包括：将待传输的矿井采集数据信息进行语义解析确定出不同段具有独立语义完整性的数据子片段；按照确定出的数据子片段对所述待传输的数据信息进行拆分；将拆分后的数据子片段并行发送，同一时间并行发送的不同数据子片段对应的接收缓存区域不同。在一种可能的实现方式中，将待传输的矿井采集数据信息进行语义解析确定出不同段具有独立语义完整性的数据子片段，包括：对所述矿井采集数据信息进行解析确定其中的关键信息字段；将所述关键信息字段进行独立语义划分获得多个关键信息数据子片段；将除所述关键信息片段外的信息按照独立语义依次划分获得多个普通信息数据子片段。在一种可能的实现方式中，所述按照确定出的数据子片段对所述待传输的数据信息进行拆分，包括：确定出每个数据子片段在待传输数据信息中的起始位置；按照所述起始位置对所述待传输数据信息进行拆分。在一种可能的实现方式中，所述将拆分后的数据子片段并行发送，包括：建立数据传输通道与接收缓存区域的通信，所述接收缓存区域包括多个子缓存区域；按照所述子缓存区域的数量配置数据传输通道，并且将每个数据传输通道对应唯一的子缓存区域；按照所述数据子片段的顺序划分数据组，每个所述数据组中的数据子片段数量与所述数据传输通道相同；按照所述数据组依次将所述数据子片段通过所述数据传输通道并行发送。在一种可能的实现方式中，所述按照所述数据子片段的顺序划分数据组，包括：将所述数据子片段的优先级进行确定，所述关键信息数据子片段大于所述普通信息数据子片段的优先级；按照所述数据子片段的优先级确定不同数据子片段的顺序；根据所述数据组中最高优先级的数据子片段确定所述数据组的优先级，所述数据组的优先级用于确定所述数据组的发送顺序。在一种可能的实现方式中，所述子缓存区域每接收完一个数据子片段后会将所述数据子片段移出，然后接收下一个数据子片段。在一种可能的实现方式中，所述按照所述起始位置对所述待传输数据信息进行拆分，包括：将待拆分的待传输数据信息在确定的数据子片段之间插入两个字节的空白字段；分别将两个空白字段赋予相同的标识信息；将所述空白字段进行拆分，其中一个字段作为第一数据子片段的末位字段，另一个字段作为第二数据子片段的首位字段，所述第一数据子片段和第二数据子片段为相邻的数据子片段，且在待传输数据信息中所述第一数据子片段位置在先。在一种可能的实现方式中，所述子缓存区域的长度相同，且每个所述子缓存区域的长度大于最大长度的所述数据子片段。第二方面，本申请实施例提供了一种基于语义拆分的煤矿井下数据传输装置，包括：数据子片段确定单元，用于将待传输的矿井采集数据信息进行语义解析确定出不同段具有独立语义完整性的数据子片段；数据信息拆分单元，用于按照确定出的数据子片段对所述待传输的数据信息进行拆分；数据传输单元，用于将拆分后的数据子片段并行发送，同一时间并行发送的不同数据子片段对应的接收缓存区域不同。第三方面，本申请实施例提供了一种基于语义拆分的煤矿井下数据传输设备，包括：处理器；存储器；以及计算机程序，其中所述计算机程序被存储在所述存储器中，所述计算机程序包括指令，当所述指令被所述处理器执行时，使得基于语义拆分的煤矿井下数据传输设备执行第一方面及任一可能实现方式的基于语义拆分的煤矿井下数据传输方法。在本申请实施例中，基于语义解析的数据片段分割，一方面可以实现矿井采集数据的分段式处理，提高数据传输的速度。另一方面由于拆分的数据子片段都具有独立的语义完整性，传输到接收方后，可以对独立的的数据子片段进行数据解析，最后将解析完毕的数据子片段进行拼接即可。这样在数据传输中即可完成部分数据的解析，可以在数据没有完全传输完成之前能够对井下输出来的包含有不安全因素信息的关键信息提前获取，进而可以第一时间对井下作业采取急救措施。附图说明图1为本申请实施例提供的一种基于语义拆分的煤矿井下数据传输方法的流程示意图；图2为本申请实施例提供的数据子片段拆分示意图；图3为本申请实施例提供的数据缓存区示意图；图4为本申请实施例提供的数据缓存区缓存数据方式示意图；图5为本申请实施例提供的一种基于语义拆分的煤矿井下数据传输装置的框架示意图；图6为本申请实施例提供的一种基于语义拆分的煤矿井下数据传输设备的结构示意图；附图标记为：20-基于语义拆分的煤矿井下数据传输装置，201-数据子片段确定单元，202-数据信息拆分单元，203-数据传输单元，30-基于语义拆分的煤矿井下数据传输设备，301-处理器，302-存储器，303-通信单元，304-总线。具体实施方式下面结合附图与具体实施方式对本方案进行阐述。图1为本申请实施例提供的一种基于语义拆分的煤矿井下数据传输方法的流程示意图，参见图1，本实施例提供的基于语义拆分的煤矿井下数据传输方法，包括：S101，将待传输的数据信息进行语义解析确定出不同段具有独立语义完整性的数据子片段。传统技术中对数据信息的拆分一般是按照预设长度进行拆分，比如以下一段数据信息“X号矿井A位置瓦斯传感器检测到瓦斯值为B，该数值超出正常值，立即核实处理！”如果按照预设长度进行拆分，比如以10个字节为一单位，则会拆分为以下片段“X号矿井A位”、“置瓦斯传感”、“器检测到瓦”、“斯值为B，该”、“数值超出正”和“常值”若干子片段。拆分后的子片段虽然可以有利于快速传输，但是大部分的子片段没有独立的语义，比如“置瓦斯传感”、“器检测到瓦”和“斯值为B，该”在接收方接收到上述子片段后，完全不明白其中的含义，进而无法进行解析。本实施例中，则会对数据信息进行语义解析。首先对所述矿井采集数据信息进行解析确定其中的关键信息字段；将所述关键信息字段进行独立语义划分获得多个关键信息数据子片段；将除所述关键信息片段外的信息按照独立语义依次划分获得多个普通信息数据子片段。一个示意性举例，对于上述举例的数据信息，确定其中的关键信息有几号矿井，矿井所在位置和瓦斯值是多少，上述信息即可确定出该条报警信息中的重要点。因此其中的关键字段包括“X号矿井A位置”和“瓦斯值为B”，为了传输的稳定性，可以进行如下拆分“X号矿井”、“A位置”和“瓦斯值为B”。剩下的信息拆分为“瓦斯传感器”、“检测到”、“该数值”、“超出正常值”、“立即核实”和“处理！”，按照上述拆分后，既可以实现在数据传输时传输的效率，还可以保证任一数据子片段传输到接收方时，可以对任一数据子片段进行独立的解析，并且关键信息数据子片段被接收后可以完全确定井下的报警信息。当然上述只是示意性举例，显示情况中信息的复杂度根据实际情况而定S102，按照确定出的数据子片段对所述待传输的数据信息进行拆分。本实施例中，对待传输的数据信息进行拆分前首先确定出每个数据子片段在待传输数据信息中的起始位置；按照所述起始位置对所述待传输数据信息进行拆分。具体地，将待拆分的待传输数据信息在确定的数据子片段之间插入两个字节的空白字段；分别将两个空白字段赋予相同的标识信息；将所述空白字段进行拆分，其中一个字段作为第一数据子片段的末位字段，另一个字段作为第二数据子片段的首位字段，所述第一数据子片段和第二数据子片段为相邻的数据子片段，且在待传输数据信息中所述第一数据子片段位置在先。如图2所示，待传输数据信息需要拆分为4个数据子片段，将第一个数据子片段和第二个数据子片段、第二个数据子片段和第三个数据子片段、第三个数据子片段和第四个数据子片段之间分别插入两个两个字节的空白字段。其中将第一个空白字段的两个字节分别赋予标识信息a，第二个空白字段的两个字节分别赋予标识信息b，第一个空白字段的两个字节分别赋予标识信息c。这样第一个数据子片段只有一个末位的标识信息a，最后一个数据子片段只有一个首位的标识信息出，中间的数据子片段则收尾均有标识信息，这样按照标识信息就可以完成对数据子片段的准确拼接。S103，将拆分后的数据子片段并行发送，同一时间并行发送的不同数据子片段对应的接收缓存区域不同。本实施例中，数据接收方设置接收缓存区，与传统技术中不同的是，本申请中的缓存区划分为多个子缓存区域。待传输数据信息拆分完毕后，在进行数据传输前建立数据传输通道与接收缓存区域的通信，所述接收缓存区域包括多个子缓存区域。按照所述子缓存区域的数量配置数据传输通道，并且将每个数据传输通道对应唯一的子缓存区域。按照所述数据子片段的顺序划分数据组，每个所述数据组中的数据子片段数量与所述数据传输通道相同。按照所述数据组依次将所述数据子片段通过所述数据传输通道并行发送。具体地，本实施例中将所述数据子片段的优先级进行确定，所述关键信息数据子片段大于所述普通信息数据子片段的优先级；按照所述优先级确定不同数据子片段的顺序；根据所述数据组中最高优先级的数据子片段确定所述数据组的优先级，所述数据组的优先级用于确定所述数据组的发送顺序。以上述确定的数据子片段“X号矿井”、“A位置”、“瓦斯传感器”、“检测到”、“瓦斯值为B”、“该数值”、“超出正常值”、“立即核实”和“处理！”，很显然“X号矿井”、“A位置”和“瓦斯值为B”优先级确定为高优先级，剩余的数据子片段优先级可以确定为同一优先级。因此进行分组时，“X号矿井”、“A位置”和“瓦斯值为B”分为一组，并且该组优先级也设置为最高，最先进行传输。如果一组可以同时传输3个以上数据子片段，则从低优先级中按照顺序依次选择，但是不影响含有关键信息数据子片段的数据组的优先级。如图3所示，本申请实施例提供的一种数据缓存区，所述子缓存区域的长度相同，且每个所述子缓存区域的长度大于最大长度的所述数据子片段。数据子片段按照顺序依次传输后进入缓存区。当子缓存区域每接收完一个数据子片段后会将所述数据子片段移出，然后接收下一个数据子片段。如图4所示，第二个子缓存区接收数据子片段2完毕，数据子片段2从第二个子缓存区移出。然后第二个子缓存区开始接收数据子片段4。虽然数据子片段2不是第一个数据子片段，但是由于每一个数据子片段都具有独立的语义完整性，因此直接对数据子片段2进行解析即可。与上述实施例相对应，本申请还提供了一种基于语义拆分的煤矿井下数据传输装置。参见图5，为本申请实施例提供的一种基于语义拆分的煤矿井下数据传输装置的结构框图。如图5所示，基于语义拆分的煤矿井下数据传输装置20主要包括以下模块。数据子片段确定单元201，用于将待传输的数据信息进行语义解析确定出不同段具有独立语义完整性的数据子片段。数据信息拆分单元202，用于按照确定出的数据子片段对所述待传输的数据信息进行拆分。数据传输单元203，用于将拆分后的数据子片段并行发送，同一时间并行发送的不同数据子片段对应的接收缓存区域不同。需要指出的是，本申请实施例涉及的具体内容可以参见上述方法实施例的描述，为了表述简洁，在此不再赘述。与上述实施例相对应，本申请实施例还提供了一种基于语义拆分的煤矿井下数据传输设备。参见图6，为本申请实施例提供的一种基于语义拆分的煤矿井下数据传输设备的结构示意图。如图6所示，该基于语义拆分的煤矿井下数据传输设备30可以包括：处理器301、存储器302及通信单元303。这些组件通过一条或多条总线304进行通信，本领域技术人员可以理解，图中示出的基于语义拆分的煤矿井下数据传输设备结构并不构成对本申请实施例的限定，它既可以是总线形结构，也可以是星型结构，还可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。其中，通信单元303，用于建立通信信道，从而使基于语义拆分的煤矿井下数据传输设备可以与其它设备进行通信。处理器301，为基于语义拆分的煤矿井下数据传输设备的控制中心，利用各种接口和线路连接整个基于语义拆分的煤矿井下数据传输设备的各个部分，通过运行或执行存储在存储器302内的软件程序和/或模块，以及调用存储在存储器内的数据，以执行基于语义拆分的煤矿井下数据传输设备的各种功能和/或处理数据。所述处理器可以由集成电路 组成，例如可以由单颗封装的IC 所组成，也可以由连接多颗相同功能或不同功能的封装IC而组成。举例来说，处理器301可以仅包括中央处理器。在本申请实施方式中，CPU可以是单运算核心，也可以包括多运算核心。存储器302，用于存储处理器301的执行指令，存储器302可以由任何类型的易失性或非易失性存储设备或者它们的组合实现，如静态随机存取存储器，电可擦除可编程只读存储器，可擦除可编程只读存储器，可编程只读存储器，只读存储器，磁存储器，快闪存储器，磁盘或光盘。当存储器302中的执行指令由处理器301执行时，使得基于语义拆分的煤矿井下数据传输设备30能够执行上述方法实施例中的部分或全部步骤。本申请实施例中，“至少一个”是指一个或者多个，“多个”是指两个或两个以上。“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示单独存在A、同时存在A和B、单独存在B的情况。其中A，B可以是单数或者复数。字符“/”一般表示前后关联对象是一种“或”的关系。“以下至少一项”及其类似表达，是指的这些项中的任意组合，包括单项或复数项的任意组合。例如，a，b和c中的至少一项可以表示：a, b, c, a-b,a-c, b-c,或a-b-c，其中a, b, c可以是单个，也可以是多个。以上所述，仅为本申请的具体实施方式，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。本申请的保护范围应以所述权利要求的保护范围为准。
