标题title
一种基于网络安全传输协议的通信方法、系统及设备
摘要abst
本发明提供了一种基于网络安全传输协议的通信方法、系统及设备。该方法包括：客户端与服务端首次通信时，基于SSL/TLS协议创建首次握手后的会话内容；所述首次握手后的会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果、协商算法套件、对端证书以及对端证书链；对所述首次握手后的会话内容进行裁切，生成复用会话内容；所述复用会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果以及协商算法套件；基于所述复用会话内容，令所述客户端与所述服务端进行再次通信。本发明能够降低网络时延以及网络流量。
权利要求书clms
1.一种基于网络安全传输协议的通信方法，其特征在于，包括：客户端与服务端首次通信时，基于SSL/TLS协议创建首次握手后的会话内容；所述首次握手后的会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果、协商算法套件、对端证书以及对端证书链；对所述首次握手后的会话内容进行裁切，生成复用会话内容；所述复用会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果以及协商算法套件；基于所述复用会话内容，令所述客户端与所述服务端进行再次通信。2.根据权利要求1所述的基于网络安全传输协议的通信方法，其特征在于，客户端与服务端首次通信时，基于SSL/TLS协议创建首次握手后的会话内容，之前还包括：判断所述客户端与所述服务端是否为首次通信；若是，执行基于SSL/TLS协议创建首次握手后的会话内容；若否，执行对所述首次握手后的会话内容进行裁切，生成复用会话内容。3.一种基于网络安全传输协议的通信系统，其特征在于，包括：首次握手模块，用于基于SSL/TLS协议创建首次握手后的会话内容；所述首次握手后的会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果、协商算法套件、对端证书以及对端证书链；再次握手模块，用于对所述首次握手后的会话内容进行裁切，生成复用会话内容；所述复用会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果以及协商算法套件；通信模块，用于基于所述复用会话内容，令所述客户端与所述服务端进行再次通信。4.根据权利要求3所述的基于网络安全传输协议的通信系统，其特征在于，还包括：判断模块，用于判断所述客户端与所述服务端是否为首次通信；首次握手执行模块，用于若是，执行基于SSL/TLS协议创建首次握手后的会话内容；再次握手执行模块，用于若否，执行对所述首次握手后的会话内容进行裁切，生成复用会话内容。5.一种电子设备，其特征在于，包括存储器及处理器，所述存储器用于存储计算机程序，所述处理器运行所述计算机程序以使所述电子设备执行如权利要求1-2中任一项所述的基于网络安全传输协议的通信方法。6.一种计算机可读存储介质，其特征在于，其存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1-2中任一项所述的基于网络安全传输协议的通信方法。
说明书desc
技术领域本发明涉及网络通信领域，特别是涉及一种基于网络安全传输协议的通信方法、系统及设备。背景技术随着近年来网络安全问题威胁，安全套接字层/传输层安全协议成为了一个被广泛使用的网络安全传输的协议，它提供通信双方身份认证，为通信数据的机密性和完整性提供保障。由刚开始的SSL1.0 Netspace提出，经过SSL2.0/SSL3.0、TLS1.0、TLS1.1、TLS1.2发展到现在的TLS1.3。其中，会话复用是协议发展至今一直保留的关键特性，为SSL/TLS握手提供简化协议流程。现存网络中应用最广泛的TLS1.2和TLS1.3协议中，但由于SSL/TLS中使用了大量的非对称和对称密码算法，极大的消耗着CPU的计算资源，SSL/TLS复杂的握手成为网络完全通信的瓶颈问题，sessionticket是首次SSL/TLS握手完成创建出来的一个数据结构，其中包含会话ID、计算出的中间密钥信息、对端证书和证书链、认证结果等内容，再次进行会话时，反复调用该数据结构，重复进行身份认证，冗余的会话内容，造成网络时延增大以及网络流量的浪费。发明内容本发明的目的是提供一种基于网络安全传输协议的通信方法、系统及设备，以解决冗余的会话内容，造成网络时延增大以及网络流量的浪费的问题。为实现上述目的，本发明提供了如下方案：一种基于网络安全传输协议的通信方法，包括：客户端与服务端首次通信时，基于SSL/TLS协议创建首次握手后的会话内容；所述首次握手后的会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果、协商算法套件、对端证书以及对端证书链；对所述首次握手后的会话内容进行裁切，生成复用会话内容；所述复用会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果以及协商算法套件；基于所述复用会话内容，令所述客户端与所述服务端进行再次通信。可选的，客户端与服务端首次通信时，基于SSL/TLS协议创建首次握手后的会话内容，之前还包括：判断所述客户端与所述服务端是否为首次通信；若是，执行基于SSL/TLS协议创建首次握手后的会话内容；若否，执行对所述首次握手后的会话内容进行裁切，生成复用会话内容。一种基于网络安全传输协议的通信系统，包括：首次握手模块，用于基于SSL/TLS协议创建首次握手后的会话内容；所述首次握手后的会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果、协商算法套件、对端证书以及对端证书链；再次握手模块，用于对所述首次握手后的会话内容进行裁切，生成复用会话内容；所述复用会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果以及协商算法套件；通信模块，用于基于所述复用会话内容，令所述客户端与所述服务端进行再次通信。可选的，还包括：判断模块，用于判断所述客户端与所述服务端是否为首次通信；首次握手执行模块，用于若是，执行基于SSL/TLS协议创建首次握手后的会话内容；再次握手执行模块，用于若否，执行对所述首次握手后的会话内容进行裁切，生成复用会话内容。一种电子设备，包括存储器及处理器，所述存储器用于存储计算机程序，所述处理器运行所述计算机程序以使所述电子设备执行上述任一项所述的基于网络安全传输协议的通信方法。一种计算机可读存储介质，其存储有计算机程序，所述计算机程序被处理器执行时实现上述任一项所述的基于网络安全传输协议的通信方法。根据本发明提供的具体实施例，本发明公开了以下技术效果：本发明提供了一种基于网络安全传输协议的通信方法、系统及设备，创建首次握手后的会话内容，并对首次握手后的会话内容进行裁剪，生成复用会话内容进行再次通信，再次通讯时，调用首次握手后的会话内容中的身份认证信息，所建立的复用会话内容不再保存对端证书和对端证书链，复用的会话字节数大比例减少以解决冗余的会话内容，降低了网络时延以及网络流量。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明所提供的基于网络安全传输协议的通信方法流程图；图2为本发明所提供的基于网络安全传输协议的通信方法框架图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明的目的是提供一种基于网络安全传输协议的通信方法、系统及设备，降低了网络时延以及网络流量。为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图和具体实施方式对本发明作进一步详细的说明。实施例一如图1所示，本发明提供了一种基于网络安全传输协议的通信方法，包括：步骤101：客户端与服务端首次通信时，基于SSL/TLS协议创建首次握手后的会话内容；所述首次握手后的会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果、协商算法套件、对端证书以及对端证书链。步骤101之前还包括：判断所述客户端与所述服务端是否为首次通信；若是，执行步骤101；若否，执行步骤102。步骤102：对所述首次握手后的会话内容进行裁切，生成复用会话内容；所述复用会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果以及协商算法套件。步骤103：基于所述复用会话内容，令所述客户端与所述服务端进行再次通信。在本发明中，session ticket应用中服务端通过NewSessionTicket这个握手消息发送给客户端保存，下次创建新的链接客户端可以在ClientHello消息中通过扩展发送保存session ticket内容，服务端识别到这个session是首次链接创建的，将不重复进行身份认证，不再重复计算中间密钥信息，直接进入后续的握手流程，大大降低了网络时延。此外，会话是在首次握手后保存的多个字段内容，证书和证书链的字节数占比非常大，在首次握手中通过证书和证书链提供身份认证的能力。而由于证书和证书链的编解码、存储存在耗时，频繁的会话复用过程造成传输有效字节流占比降低，因此，本发明在首次握手的基础上，再次进行会话复用的过程中，已经明确了身份，不再需要证书和证书链的参与；也就是说证书和证书链在会话复用中是冗余的内容，直接去除就可以改善时延，也能减少传输内容。图2为本发明所提供的基于网络安全传输协议的通信方法框架图，如图2所示，其中，为一次完整的TLS/SSL握手协议，/＞是SSL/TLS生成的会话，/＞是第二次SSL/TLS用第一次生成的会话进行握手，/＞是首次会话的内容。在第二次会话过程中，首次会话内容中的对端证书和证书链，不保存在生成的复用会话内容中，复用会话的字节数大比例减少，且减少了会话保存和传输的内容，从而降低了网络时延以及网络流量。实施例二为了执行上述实施例一对应的方法，以实现相应的功能和技术效果，下面提供一种基于网络安全传输协议的通信系统。一种基于网络安全传输协议的通信系统，包括：首次握手模块，用于基于SSL/TLS协议创建首次握手后的会话内容；所述首次握手后的会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果、协商算法套件、对端证书以及对端证书链。再次握手模块，用于对所述首次握手后的会话内容进行裁切，生成复用会话内容；所述复用会话内容包括协议版本号、协商密钥、会话识别号、会话超时时间、证书校验结果以及协商算法套件。通信模块，用于基于所述复用会话内容，令所述客户端与所述服务端进行再次通信。在实际应用中，本发明还包括：判断模块，用于判断所述客户端与所述服务端是否为首次通信；首次握手执行模块，用于若是，执行基于SSL/TLS协议创建首次握手后的会话内容；再次握手执行模块，用于若否，执行对所述首次握手后的会话内容进行裁切，生成复用会话内容。实施例三本发明实施例提供一种电子设备包括存储器及处理器，该存储器用于存储计算机程序，该处理器运行计算机程序以使电子设备执行实施例一提供的基于网络安全传输协议的通信方法。在实际应用中，上述电子设备可以是服务器。在实际应用中，电子设备包括：至少一个处理器、存储器、总线及通信接口。其中：处理器、通信接口、以及存储器通过通信总线完成相互间的通信。通信接口，用于与其它设备进行通信。处理器，用于执行程序，具体可以执行上述实施例所述的方法。具体地，程序可以包括程序代码，该程序代码包括计算机操作指令。处理器可能是中央处理器CPU，或者是特定集成电路ASIC，或者是被配置成实施本发明实施例的一个或多个集成电路。电子设备包括的一个或多个处理器，可以是同一类型的处理器，如一个或多个CPU；也可以是不同类型的处理器，如一个或多个CPU以及一个或多个ASIC。存储器，用于存放程序。存储器可能包含高速RAM存储器，也可能还包括非易失性存储器，例如至少一个磁盘存储器。基于以上实施例的描述，本申请实施例提供一种存储介质，其上存储有计算机程序指令，计算机程序指令可被处理器执行以实现任意实施例所述的方法本申请实施例提供的基于网络安全传输协议的通信系统以多种形式存在，包括但不限于：移动通信设备：这类设备的特点是具备移动通信功能，并且以提供话音、数据通信为主要目标。这类终端包括：智能手机、多媒体手机、功能性手机，以及低端手机等。超移动个人计算机设备：这类设备属于个人计算机的范畴，有计算和处理功能，一般也具备移动上网性能。这类终端包括：PDA、MID和UMPC设备等，例如iPad。便携式娱乐设备：这类设备可以显示和播放多媒体内容。该类设备包括：音频、视频播放器，掌上游戏机，电子书，以及智能玩具和便携式车载导航设备。其他具有数据交互功能的电子设备。至此，已经对本主题的特定实施例进行了描述。其它实施例在所附权利要求书的范围内。在一些情况下，在权利要求书中记载的动作可以按照不同的顺序来执行并且仍然可以实现期望的结果。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序，以实现期望的结果。在某些实施方式中，多任务处理和并行处理可以是有利的。上述实施例阐明的系统、装置、模块或单元，具体可以由计算机芯片或实体实现，或者由具有某种功能的产品来实现。一种典型的实现设备为计算机。具体的，计算机例如可以为个人计算机、膝上型计算机、蜂窝电话、相机电话、智能电话、个人数字助理、媒体播放器、导航设备、电子邮件设备、游戏控制台、平板计算机、可穿戴设备或者这些设备中的任何设备的组合。为了描述的方便，描述以上装置时以功能分为各种单元分别描述。当然，在实施本申请时可以把各单元的功能在同一个或多个软件和/或硬件中实现。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。在一个典型的配置中，计算设备包括一个或多个处理器、输入/输出接口、网络接口和内存。内存可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存。内存是计算机可读介质的示例。计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带、磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体，如调制的数据信号和载波。还需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、商品或者设备中还存在另外的相同要素。本申请可以在由计算机执行的计算机可执行指令的一般上下文中描述，例如程序模块。一般地，程序模块包括执行特定事务或实现特定抽象数据类型的例程、程序、对象、组件、数据结构等等。也可以在分布式计算环境中实践本申请，在这些分布式计算环境中，由通过通信网络而被连接的远程处理设备来执行事务。在分布式计算环境中，程序模块可以位于包括存储设备在内的本地和远程计算机存储介质中。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的系统而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处。综上所述，本说明书内容不应理解为对本发明的限制。
