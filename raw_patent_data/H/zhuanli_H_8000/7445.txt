标题title
基于PDP的手势识别方法及装置、电子设备、存储介质
摘要abst
本申请提供一种基于PDP的手势识别方法及装置、电子设备、存储介质，包括：获取WiFi信号的信道矩阵，并将信道矩阵转换为指定功率时延谱；其中，指定功率时延谱包括多个采样点的功率；根据WiFi信号的通信参数确定自由度，并以自由度确定卡方分布图；根据卡方分布图和初始噪声方差，确定功率门限；基于功率门限对多个采样点的功率进行去噪处理，并去除LOS采样点，得到多个NLOS采样点的实际功率，并将多个实际功率作为实际功率序列；基于WiFi信号的连续多个信息包对应的实际功率序列，构建NLOS特征矩阵，根据NLOS特征矩阵进行手势识别。本申请方案，实现了精准的手势识别。
权利要求书clms
1.一种基于PDP的手势识别方法，其特征在于，包括：获取WiFi信号的信道矩阵，并将所述信道矩阵转换为指定功率时延谱；其中，所述指定功率时延谱包括多个采样点的功率；根据WiFi信号的通信参数确定自由度，并以所述自由度确定卡方分布图；其中，所述卡方分布图指示任一采样点对应的目标参数的概率分布，所述目标参数由采样点的功率除以初始噪声方差得到；根据所述卡方分布图和所述初始噪声方差，确定功率门限；基于所述功率门限对所述多个采样点的功率进行去噪处理，并去除LOS采样点，得到多个NLOS采样点的实际功率，并将多个实际功率作为实际功率序列；基于WiFi信号的连续多个信息包对应的实际功率序列，构建NLOS特征矩阵，根据所述NLOS特征矩阵进行手势识别。2.根据权利要求1所述的基于PDP的手势识别方法，其特征在于，所述获取WiFi信号的信道矩阵，并将所述信道矩阵转换为指定功率时延谱，包括：获取WiFi信号在天线域中多个信道矩阵，并对每一信道矩阵进行反傅里叶变换，得到多个时域信道冲激响应；将每一时域信道冲激响应进行转换，得到多个单样本功率时延谱；对所述多个单样本功率时延谱进行均值化处理，得到所述指定功率时延谱。3.根据权利要求2所述的基于PDP的手势识别方法，其特征在于，所述获取WiFi信号在天线域中多个信道矩阵，包括：获取WiFi信号的前导序列在天线域中多个信道矩阵；其中，所述前导序列为L-LTF312.5千赫子载波和/或HE-LTF 78.125千赫子载波。4.根据权利要求2所述的基于PDP的手势识别方法，其特征在于，在所述获取WiFi信号在天线域中多个信道矩阵之后，所述方法还包括：通过预设窗函数对每一信道矩阵进行加窗处理。5.根据权利要求1所述的基于PDP的手势识别方法，其特征在于，所述通信参数包括发射天线数、接收天线数、符号数、IQ通道数；所述根据WiFi信号的通信参数确定自由度，包括：将所述发射天线数、所述接收天线数、所述符号数、所述IQ通道数相乘，得到所述自由度；或者，所述通信参数包括发射天线数、接收天线数、符号数、IQ通道数和无限冲激响应滤波元素数；所述根据WiFi信号的通信参数确定自由度，包括：将所述发射天线数、所述接收天线数、所述符号数、所述IQ通道数和所述无限冲激响应滤波元素数相乘，得到所述自由度。6.根据权利要求1所述的基于PDP的手势识别方法，其特征在于，在所述根据WiFi信号的通信参数确定自由度，并以所述自由度确定卡方分布图之前，所述方法还包括：对所述多个采样点的功率按照从大到小顺序进行排列，并选中除去靠前预设数量的采样点以外的采样点，作为候选噪声采样点；计算所述候选噪声采样点的功率的平均数，作为所述初始噪声方差。7.根据权利要求1所述的基于PDP的手势识别方法，其特征在于，所述根据所述卡方分布图和所述初始噪声方差，确定功率门限，包括：在所述卡方分布图中，确定与预设虚警概率对应的门限系数；根据门限系数和所述初始噪声方差，确定所述功率门限。8.根据权利要求1所述的基于PDP的手势识别方法，其特征在于，所述基于所述功率门限对所述多个采样点的功率进行去噪处理，并去除LOS采样点，得到多个NLOS采样点的实际功率，包括：将对应功率大于所述功率门限的采样点，作为信道采样点，并将对应功率不大于所述功率门限的采样点，作为噪声采样点；其中，所述信道采样点包括LOS采样点和NLOS采样点，所述LOS采样点对应功率最大；从所述信道采样点中去除所述LOS采样点，并将剩余信道采样点的功率分别减去所述噪声采样点的功率平均值，得到多个NLOS采样点的实际功率。9.根据权利要求1所述的基于PDP的手势识别方法，其特征在于，所述根据所述NLOS特征矩阵进行手势识别，包括：从所述NLOS特征矩阵中裁切指定长度的子特征矩阵，并将所述子特征矩阵转换为目标图片；其中，指定长度对应接收信息包的指定时长；将所述目标图片作为已训练的手势分类模型，获得所述手势分类模型输出的手势类别信息。10.根据权利要求9所述的基于PDP的手势识别方法，其特征在于，所述手势分类模型通过如下方式训练得到：将样本数据集中样本图片作为机器学习模型的输入，获得所述机器学习模型输出的预测类别；其中，所述样本图片携带手势类别标签，所述样本图片通过NLOS特征矩阵的子矩阵转换得到；根据所述预测类别与所述手势类别标签之间的差异，调整所述机器学习模型的模型参数；重复上述过程，直至所述机器学习模型收敛，得到已训练的手势识别模型。11.根据权利要求10所述的基于PDP的手势识别方法，其特征在于，在所述将样本数据集中样本图片作为机器学习模型的输入，获得所述机器学习模型输出的预测类别之前，所述方法还包括：获取WiFi信号的多个样本信道矩阵，并分别将每一样本信道矩阵转换为样本功率时延谱；其中，所述多个样本信道矩阵对应预设多个手势类别；基于每一样本功率时延谱确定对应的NLOS样本特征矩阵；其中，每一NLOS样本特征矩阵对应一个手势类别；根据每一NLOS样本特征矩阵，构建多个样本图片，并为所述样本图片添加与所述NLOS样本特征矩阵对应的手势类别标签；基于添加手势类别标签的样本图片，构建所述样本数据集。12.一种基于PDP的手势识别装置，其特征在于，包括：转换模块，用于获取WiFi信号的信道矩阵，并将所述信道矩阵转换为指定功率时延谱；其中，所述指定功率时延谱包括多个采样点的功率；第一确定模块，用于根据WiFi信号的通信参数确定自由度，并以所述自由度确定卡方分布图；其中，所述卡方分布图指示任一采样点对应的目标参数的概率分布，所述目标参数由采样点的功率除以初始噪声方差得到；第二确定模块，用于根据所述卡方分布图和所述初始噪声方差，确定功率门限；去噪模块，用于基于所述功率门限对所述多个采样点的功率进行去噪处理，并去除LOS采样点，得到多个NLOS采样点的实际功率，并将多个实际功率作为实际功率序列；识别模块，用于基于WiFi信号的连续多个信息包对应的实际功率序列，构建NLOS特征矩阵，根据所述NLOS特征矩阵进行手势识别。13.一种电子设备，其特征在于，所述电子设备包括：处理器；用于存储处理器可执行指令的存储器；其中，所述处理器被配置为执行权利要求1-11任意一项所述的基于PDP的手势识别方法。14.一种计算机可读存储介质，其特征在于，所述存储介质存储有计算机程序，所述计算机程序可由处理器执行以完成权利要求1-11任意一项所述的基于PDP的手势识别方法。
说明书desc
技术领域本申请涉及手势识别技术领域，特别涉及一种基于PDP的手势识别方法及装置、电子设备、存储介质。背景技术下一代无线通信技术的一个重要发展方向是通信感知/雷达一体化，未来的WiFi信号将不单单只有数据传输的功能，还将兼具对无源目标的感知功能。例如，利用WiFi信号的LTF的信道状态信息对无源目标进行定位、跟踪、手势识别以及健康检测等感知行为。利用无线信号的手势识别，可以在智能家居应用场景中，帮助用户摆脱遥控器，获得更好的远距离操控体验。比如：用户可以通过手势直接控制电视机、蓝牙耳机等。相关技术中，通过提取WiFi信号的CSI信息，并从CSI信息中提取用于手势分类的特征，从而以提取到的特征进行手势分类。然而，CSI信息中因手势变化而产生的表征NLOS变化信息与表征LOS的信息、噪声信息较为相近，对CSI信息的去噪处理并不理想，借助从CSI中直接提取的特征进行手势识别不够准确。目前，亟需一种借助WiFi信号实现的更准确的手势识别方案。发明内容本申请实施例的目的在于提供一种基于PDP的手势识别方法及装置、电子设备、存储介质，用于借助WiFi信号的PDP准确实现手势识别。一方面，本申请提供了一种基于PDP的手势识别方法，包括：获取WiFi信号的信道矩阵，并将所述信道矩阵转换为指定功率时延谱；其中，所述指定功率时延谱包括多个采样点的功率；根据WiFi信号的通信参数确定自由度，并以所述自由度确定卡方分布图；其中，所述卡方分布图指示任一采样点对应的目标参数的概率分布，所述目标参数由采样点的功率除以初始噪声方差得到；根据所述卡方分布图和所述初始噪声方差，确定功率门限；基于所述功率门限对所述多个采样点的功率进行去噪处理，并去除LOS采样点，得到多个NLOS采样点的实际功率，并将多个实际功率作为实际功率序列；基于WiFi信号的连续多个信息包对应的实际功率序列，构建NLOS特征矩阵，根据所述NLOS特征矩阵进行手势识别。在一实施例中，所述获取WiFi信号的信道矩阵，并将所述信道矩阵转换为指定功率时延谱，包括：获取WiFi信号在天线域中多个信道矩阵，并对每一信道矩阵进行反傅里叶变换，得到多个时域信道冲激响应；将每一时域信道冲激响应进行转换，得到多个单样本功率时延谱；对所述多个单样本功率时延谱进行均值化处理，得到所述指定功率时延谱。在一实施例中，所述获取WiFi信号在天线域中多个信道矩阵，包括：获取WiFi信号的前导序列在天线域中多个信道矩阵；其中，所述前导序列为L-LTF312.5千赫子载波和/或HE-LTF 78.125千赫子载波。在一实施例中，在所述获取WiFi信号在天线域中多个信道矩阵之后，所述方法还包括：通过预设窗函数对每一信道矩阵进行加窗处理。在一实施例中，所述通信参数包括发射天线数、接收天线数、符号数、IQ通道数；所述根据WiFi信号的通信参数确定自由度，包括：将所述发射天线数、所述接收天线数、所述符号数、所述IQ通道数相乘，得到所述自由度；或者，所述通信参数包括发射天线数、接收天线数、符号数、IQ通道数和无限冲激响应滤波元素数；所述根据WiFi信号的通信参数确定自由度，包括：将所述发射天线数、所述接收天线数、所述符号数、所述IQ通道数和所述无限冲激响应滤波元素数相乘，得到所述自由度。在一实施例中，在所述根据WiFi信号的通信参数确定自由度，并以所述自由度确定卡方分布图之前，所述方法还包括：对所述多个采样点的功率按照从大到小顺序进行排列，并选中除去靠前预设数量的采样点以外的采样点，作为候选噪声采样点；计算所述候选噪声采样点的功率的平均数，作为所述初始噪声方差。在一实施例中，所述根据所述卡方分布图和所述初始噪声方差，确定功率门限，包括：在所述卡方分布图中，确定与预设虚警概率对应的门限系数；根据门限系数和所述初始噪声方差，确定所述功率门限。在一实施例中，所述基于所述功率门限对所述多个采样点的功率进行去噪处理，并去除LOS采样点，得到多个NLOS采样点的实际功率，包括：将对应功率大于所述功率门限的采样点，作为信道采样点，并将对应功率不大于所述功率门限的采样点，作为噪声采样点；其中，所述信道采样点包括LOS采样点和NLOS采样点，所述LOS采样点对应功率最大；从所述信道采样点中去除所述LOS采样点，并将剩余信道采样点的功率分别减去所述噪声采样点的功率平均值，得到多个NLOS采样点的实际功率。在一实施例中，所述根据所述NLOS特征矩阵进行手势识别，包括：从所述NLOS特征矩阵中裁切指定长度的子特征矩阵，并将所述子特征矩阵转换为目标图片；其中，指定长度对应接收信息包的指定时长；将所述目标图片作为已训练的手势分类模型，获得所述手势分类模型输出的手势类别信息。在一实施例中，所述手势分类模型通过如下方式训练得到：将样本数据集中样本图片作为机器学习模型的输入，获得所述机器学习模型输出的预测类别；其中，所述样本图片携带手势类别标签，所述样本图片通过NLOS特征矩阵的子矩阵转换得到；根据所述预测类别与所述手势类别标签之间的差异，调整所述机器学习模型的模型参数；重复上述过程，直至所述机器学习模型收敛，得到已训练的手势识别模型。在一实施例中，在所述将样本数据集中样本图片作为机器学习模型的输入，获得所述机器学习模型输出的预测类别之前，所述方法还包括：获取WiFi信号的多个样本信道矩阵，并分别将每一样本信道矩阵转换为样本功率时延谱；其中，所述多个样本信道矩阵对应预设多个手势类别；基于每一样本功率时延谱确定对应的NLOS样本特征矩阵；其中，每一NLOS样本特征矩阵对应一个手势类别；根据每一NLOS样本特征矩阵，构建多个样本图片，并为所述样本图片添加与所述NLOS样本特征矩阵对应的手势类别标签；基于添加手势类别标签的样本图片，构建所述样本数据集。另一方面，本申请提供了一种基于PDP的手势识别装置，包括：转换模块，用于获取WiFi信号的信道矩阵，并将所述信道矩阵转换为指定功率时延谱；其中，所述指定功率时延谱包括多个采样点的功率；第一确定模块，用于根据WiFi信号的通信参数确定自由度，并以所述自由度确定卡方分布图；其中，所述卡方分布图指示任一采样点对应的目标参数的概率分布，所述目标参数由采样点的功率除以初始噪声方差得到；第二确定模块，用于根据所述卡方分布图和所述初始噪声方差，确定功率门限；去噪模块，用于基于所述功率门限对所述多个采样点的功率进行去噪处理，并去除LOS采样点，得到多个NLOS采样点的实际功率，并将多个实际功率作为实际功率序列；识别模块，用于基于WiFi信号的连续多个信息包对应的实际功率序列，构建NLOS特征矩阵，根据所述NLOS特征矩阵进行手势识别。进一步的，本申请提供了一种电子设备，所述电子设备包括：处理器；用于存储处理器可执行指令的存储器；其中，所述处理器被配置为执行上述基于PDP的手势识别方法。此外，本申请提供了一种计算机可读存储介质，所述存储介质存储有计算机程序，所述计算机程序可由处理器执行以完成上述基于PDP的手势识别方法。本申请方案，在获得WiFi信号的信道矩阵后，将信道矩阵转换为指定功率时延谱，指定功率时延谱中噪声功率、LOS信道功率、NLOS信道功率的数值更大，且离散程度相比信道矩阵中的数据更高，借助采样点对应功率转化的目标参数的概率分布规律，确定功率门限，从而可以有效去除LOS信道的功率，并去除噪声功率，得到能够表征因手势变化而影响的NLOS信道的实际功率，并基于NLOS信道的实际功率构成的NLOS特征矩阵实现准确的手势识别任务。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对本申请实施例中所需要使用的附图作简单地介绍。图1为本申请一实施例提供的电子设备的结构示意图；图2为本申请一实施例提供的基于PDP的手势识别方法的流程示意图；图3为本申请一实施例提供的卡方分布图的示意图；图4为本申请一实施例提供的NLOS特征矩阵的示意图；图5为本申请一实施例提供的图2中步骤210的细节流程示意图；图6为本申请一实施例提供的初始噪声方差的确定方法的流程示意图；图7为本申请一实施例提供的图2中步骤240的细节流程示意图；图8为本申请一实施例提供的图2中步骤250的细节流程示意图；图9为本申请一实施例提供的手势识别模型的训练方法的流程示意图；图10为本申请一实施例提供的样本数据集的构建方法的流程示意图；图11为本申请一实施例提供的基于PDP的手势识别装置的框图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行描述。相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。同时，在本申请的描述中，术语“第一”、“第二”等仅用于区分描述，而不能理解为指示或暗示相对重要性。如图1所示，本实施例提供一种电子设备1，包括：至少一个处理器11和存储器12，图1中以一个处理器11为例。处理器11和存储器12通过总线10连接，存储器12存储有可被处理器11执行的指令，指令被处理器11执行，以使电子设备1可执行下述的实施例中方法的全部或部分流程。在一实施例中，电子设备1可以是路由器、通信终端设备等，用于执行基于PDP的手势识别方法。电子设备可以搭载发射天线和接收天线，用于发射和接收WiFi信号。下文以电子设备为执行主题描述方案。存储器12可以由任何类型的易失性或非易失性存储设备或者它们的组合实现，如静态随机存取存储器，电可擦除可编程只读存储器，可擦除可编程只读存储器，可编程只读存储器，只读存储器，磁存储器，快闪存储器，磁盘或光盘。本申请还提供了一种计算机可读存储介质，存储介质存储有计算机程序，计算机程序可由处理器11执行以完成本申请提供的基于PDP的手势识别方法。在智能家居应用场景中，执行本申请方案的电子设备可以放置于场景中指定位置。电子设备在发射接收WiFi信号的过程中，可以通过信道估计得到信道状态信息。由于实际场景中存在各类物体，WiFi信号会出现各种反射情况，因此发送端和接收端之间存在多个无线信道。而当用户在场景中，通过各类手势控制智能家居时，由于场景中其它障碍物位置不变，信道状态信息可以表征手势变化对无线信道带来的影响，因此，可以借助信道状态信息执行手势识别任务。然而，信道状态信息中因手势变化而产生的表征NLOS变化的信息与表征LOS的信息、噪声信息较为相近，直接以信道状态信息进行手势识别时往往因为去噪效果不理想导致手势识别并不准确。为解决这一问题，本申请方案通过将信道状态信息转化为功率时延谱，进而借助功率时延谱完成手势识别任务，具体详见下文描述。参见图2，为本申请一实施例提供的基于PDP的手势识别方法的流程示意图，如图2所示，该方法可以包括以下步骤210-步骤250。步骤210：获取WiFi信号的信道矩阵，并将信道矩阵转换为指定功率时延谱；其中，指定功率时延谱包括多个采样点的功率。电子设备在发射、接收WiFi信号的过程中，可以通过信道估计得到作为信道状态信息的信道矩阵。在获得信道矩阵之后，可以将信道矩阵转换为指定功率时延谱。功率时延谱描述的是信道在时间上的色散，也就是包括多径信道的功率。指定功率时延谱可以包括多个采样点的功率，多个采样点包括一个与LOS信道对应的采样点、多个与NLOS信道对应的采样点、多个与噪声所在信道对应的采样点。其中，采样点的数量可以依据电子设备的软硬件条件进行适应性配置。步骤220：根据WiFi信号的通信参数确定自由度，并以自由度确定卡方分布图；其中，卡方分布图指示任一采样点对应的目标参数的概率分布，目标参数由采样点的功率除以初始噪声方差得到。功率时延谱中每一采样点，可以看做是独立、且服从均值为0、方差为初始噪声方差σ2的数据、ni∈N来表示：pdp＝|hCir|2+|n|2其中，hCir为真实的信道冲激响应；n为噪声。通过假设检验的方式，假定每一采样点都是噪声，此时，采用点的功率表示为pdp＝|n|2。指定功率时延谱中每一采样点的功率，由天线域中多个独立采样点的功率均值化处理得到。独立采样点的数量由与天线域相关的通信参数确定。示例性的，如果存在p个发射天线、q个接收天线、l个符号、v个无限冲激响应滤波元素以及IQ2个通道，则指定功率时延谱中每一采样点的功率，由p*q*l*v*2个独立采样点的功率均值化得到。这种情况下，指定功率时延谱中任一采样点的功率可通过如下公式来表示：其中，p为发射天线数量；q为接收天线的数量；l为符号数量；v为无限冲激响应滤波器的元素个数；σ2为初始噪声方差。将上述公式变形，可得到公式：根据卡方分布的定义，k个随机变量相互独立，且符合标准整体分布，则随机变量Z的平方和被称为服从自由度为k的卡方分布，记作X～χ2。这种情况下，由于作为随机变量的ni/σ服从标准高斯分布，则/＞服从自由度为mD的卡方分布。进一步的，pdp/σ2同样服从自由度为mD的卡方分布。将pdpi/σ2作为第i个采样点的目标参数，这里，pdpi为第i个采样点对应的功率。电子设备可以根据与天线域相关的通信参数确定卡方分布的自由度。在一实施例中，如果WiFi信号的收发没用到无限冲激响应滤波元素，则通信参数包括发射天线数、接收天线数、符号数、IQ通道数，此时，电子设备可以将发射天线数、接收天线数、符号数、IQ通道数相乘，得到自由度。在一实施例中，如果WiFi信号的收发用到了若干无限冲激响应滤波元素，则通信参数包括发射天线数、接收天线数、符号数、IQ通道数、无限冲激响应滤波元素数，此时，电子设备可以将发射天线数、接收天线数、符号数、IQ通道数、无限冲激响应滤波元素数相乘，得到自由度。在获得自由度之后，可以依据该自由度确定卡方分布图，该卡方分布图指示任一采样点对应的目标参数的概率分布。参见图3，为本申请一实施例提供的卡方分布图的示意图，如图3所示，不同自由度下，目标参数的分布函数不同。在自由度确定的情况下，可以生成包含唯一分布函数的卡方分布图。步骤230：根据卡方分布图和初始噪声方差，确定功率门限。在获得卡方分布图之后，电子设备可以依据卡方分布的相关规律以及初始噪声方差，确定功率门限。这里，功率门限用于区分噪声功率，不大于功率门限的功率均认为是噪声功率。在一实施例中，电子设备可以在卡方分布图中，确定与预设虚警概率对应的门限系数。这里，门限系数用于确定功率门限，门限系数为功率门限除以初始噪声方差得到。虚警概率可以根据需要预配置，示例性的，虚警概率为1％。在卡方分布图的分布函数中，确定纵坐标为1％的点，该点的横坐标即为门限系数。电子设备可以根据门限系数和初始噪声方差，确定功率门限。通过将门限系数与初始噪声方差相乘，可以得到功率门限。步骤240：基于功率门限对多个采样点的功率进行去噪处理，并去除LOS采样点，得到多个NLOS采样点的实际功率，并将多个实际功率作为实际功率序列。其中，LOS采样点为LOS信道对应的采样点，NLOS采样点为NLOS信道对应的采样点。在获得功率门限后，电子设备可以对指定功率时延谱中各个采样点的功率进行去噪处理，并去除LOS采样点，从而得到多个NLOS采样点的实际功率。将多个NLOS采样点的实际功率按照从大到小顺序或从小到大顺序或对应采样点的排列顺序进行排序后，得到实际功率序列。步骤250：基于WiFi信号的连续多个信息包对应的实际功率序列，构建NLOS特征矩阵，根据NLOS特征矩阵进行手势识别。针对WiFi信号的任一信息包，可以通过前述步骤210至步骤240的流程处理得到对应的实际功率序列。电子设备可以基于连续多个信息包对应的实际功率序列，构建NLOS特征矩阵，该NLOS特征矩阵表征因手势变化而造成的NLOS信道的功率变化情况。这里，连续多个信息包可以是实际上连续发送的多个信息包，也可以是从实际上连续发送的多个信息包中采样后的多个信息包。参见图4，为本申请一实施例提供的NLOS特征矩阵的示意图，如图4所示，pdpij表示第i+1个信息包对应的第j个NLOS信道的实际功率，其中，pdp01、pdp02、pdp03……pdp0L-1为第一个信息包对应实际功率序列。可见，NLOS特征矩阵中每一列为一个信息包对应的实际功率序列中的实际功率。由于各个信息包的收发时间不同，随时间推移，逐步添加NLOS特征矩阵的列，从而更新NLOS特征矩阵。在获得NLOS特征矩阵之后，由于该NLOS特征矩阵可以表征因手势变化而造成的NLOS信道的功率变化情况，因此，可以根据NLOS特征矩阵执行手势识别任务。通过上述措施，可以在获得WiFi信号的信道矩阵后，将信道矩阵转换为指定功率时延谱，指定功率时延谱中噪声功率、LOS信道功率、NLOS信道功率的数值更大，且离散程度相比信道矩阵中的数据更高，借助采样点对应功率转化的目标参数的概率分布规律，确定功率门限，从而可以有效去除LOS信道的功率，并去除噪声功率，得到能够表征因手势变化而影响的NLOS信道的实际功率，并基于NLOS信道的实际功率构成的NLOS特征矩阵实现准确的手势识别任务。相比直接以信道状态信息进行手势识别的方案，本申请方案中NLOS特征矩阵中表征手势的特征信息更为明显，在不同的应用环境下泛化能力更强。在一实施例中，参见图5，为本申请一实施例提供的图2中步骤210的细节流程示意图，如图5所示，该方法可以包括如下步骤211至步骤213。步骤211：获取WiFi信号在天线域中多个信道矩阵，并对每一信道矩阵进行反傅里叶变换，得到多个时域信道冲激响应。其中，天线域受发射天线数、接收天线数、符号数、IQ通道数、无限冲激响应滤波元素数影响，这种情况下，发射一个信息包可以获取多个信道矩阵。针对同一个信息包的多个信道矩阵，电子设备可以对每一信道矩阵进行反傅里叶变换，从而得到各个信道矩阵对应的时域上的信道冲激响应，也称时域信道冲激响应。步骤212：将每一时域信道冲激响应进行转换，得到多个单样本功率时延谱。在获得多个时域信道冲激响应之后，电子设备可以分别对每一时域信道冲激响应进行转换，从而得到多个单样本功率时延谱。这里，单样本功率时延谱是以单一时域信道冲激响应转换得到的功率时延谱，单样本功率时延谱包括多个采样点在单一样本上的功率。步骤213：对多个单样本功率时延谱进行均值化处理，得到指定功率时延谱。电子设备可以对多个单样本功率时延谱进行均值化处理，由于各个单样本功率时延谱中包括同等数量的采样点，可以分别计算各个单样本功率时延谱中第1个采样点在单一样本上的功率的平均数，得到第1个采样在指定功率时延谱中的功率。针对第2个、第3个……最后一个采样点分别计算在单一样本上功率的平均数，从而得到各个采样点在指定功率时延谱中的功率，此时多个采样点的功率构成了指定功率时延谱。通过上述措施，可以将作为信道状态信息的信道矩阵，转换为指定功率时延谱。在一实施例中，电子设备获取WiFi信号在天线域中多个信道矩阵时，可以获取WiFi信号的前导序列在天线域中多个信道矩阵。其中，前导序列可以为L-LTF 312.5千赫子载波，或者，前导序列可以为HE-LTF 78.125千赫子载波，或者，前导序列可以为L-LTF312.5千赫子载波和HE-LTF 78.125千赫子载波的组合。此外，电子设备也可以通过获取WiFi信号的有效信号的信道矩阵，用于后续处理。在一实施例中，在获取WiFi信号在天线域中多个信道矩阵之后，电子设备可以通过预设窗函数对每一信道矩阵进行加窗处理，使得信道矩阵中频谱泄露更为集中。这里，窗函数可以包括但不限于汉明窗。在一实施例中，在执行步骤220之前，需要确定初始噪声方差。参见图6，为本申请一实施例提供的初始噪声方差的确定方法的流程示意图，如图6所示，该方法可以包括如下步骤610至步骤620。步骤610：对多个采样点的功率按照从大到小顺序进行排列，并选中除去靠前预设数量的采样点以外的采样点，作为候选噪声采样点。电子设备可以对指定功率时延谱中多个功率，按照从大到小顺序进行排列。在排列之后，可以将靠前预设数量的采样点，作为初步选择的信道采样点。这里，预设数量可以根据电子设备的软硬件条件进行适应性配置，示例性的，该预设数量可以为指定功率时延谱中采样点总量的四分之一。在初步选中信道采样点后，可以将其余采样点作为候选噪声采样点。候选噪声采样点为初步选中的噪声采样点，候选噪声采样点很大概率是噪声采样点。步骤620：计算候选噪声采样点的功率的平均数，作为初始噪声方差。在获得多个候选噪声采样点之后，电子设备可以计算候选噪声采样点的功率的平均数，并将该平均数作为初始噪声方差。在一实施例中，参见图7，为本申请一实施例提供的图2中步骤240的细节流程示意图，如图7所示，该方法可以包括步骤241至步骤242。步骤241：将对应功率大于功率门限的采样点，作为信道采样点，并将对应功率不大于功率门限的采样点，作为噪声采样点；其中，信道采样点包括LOS采样点和NLOS采样点，LOS采样点对应功率最大。电子设备可以基于功率门限进行筛选，从指定功率时延谱中筛选出对应功率大于功率门限的采样点，作为信道采样点。每一信道采样点对应一个无线信道。而对应功率不大于功率门限的采样点，可以作为噪声采样点，噪声采样点为噪声所在信道对应的采样点。步骤242：从信道采样点中去除LOS采样点，并将剩余信道采样点的功率分别减去噪声采样点的功率平均值，得到多个NLOS采样点的实际功率。LOS信道不受手势变化的影响，需要去除LOS信道对应功率。电子设备可以从多个信道采样点中去除最大功率对应的信道采样点，此时得到的剩余信道采样点为NLOS采样点。噪声可以对所有采样点的功率产生影响，因此，NLOS采样点的功率也包括噪声的功率，而噪声采样点仅包括噪声的功率。这种情况下，可以借助噪声采样点的功率进行去噪处理。电子设备可以计算所有噪声采样点对应功率的功率平均值，该功率平均值可以认为是每一采样点的功率中均包含的噪声功率。电子设备可以将NLOS采样点的功率分别减去该功率平均值，从而得到多个NLOS采样点的实际功率。在一实施例中，参见图8，为本申请一实施例提供的图2中步骤250的细节流程示意图，如图8所示，该方法可以包括如下步骤251至步骤252。步骤251：从NLOS特征矩阵中裁切指定长度的子特征矩阵，并将子特征矩阵转换为目标图片；其中，指定长度对应接收信息包的指定时长。在应用过程中，NLOS特征矩阵实时更新，由于手势识别任务需要持续执行，电子设备可以持续从NLOS特征矩阵中切除出指定长度的子特征矩阵。指定长度对应接收信息包的指定时长，比如，认定一个手势可以在2秒内完成，则可以将指定时长确定为2秒，指定长度为2秒内接收的信息包的数量。如果2秒内接收50个信息包，则裁切出最近的50列，作为子特征矩阵。在裁切得到子特征矩阵之后，电子设备可以通过图片转换的方式，将子特征矩阵映射到RGB空间或HSV空间，得到用于识别手势的目标图片。步骤252：将目标图片作为已训练的手势分类模型，获得手势分类模型输出的手势类别信息。电子设备可以将目标设备输入至已训练的手势分类模型，通过手势分类模型对目标图片进行处理，从而得到目标设备对应的手势类别信息。这里，手势分类模型可以通过机器学习模型训练得到，用于对预定种类的手势类别进行分类。通过上述措施，借助机器学习方法，可以对从NLOS特征矩阵裁切出的子特征矩阵转换得到的目标图片进行处理，得到手势类别信息。在一实施例中，在执行本申请手势识别方法之前，可以训练得到手势识别模型。参见图9，为本申请一实施例提供的手势识别模型的训练方法的流程示意图，如图9所示，该方法可以包括如下步骤910至步骤930。步骤910：将样本数据集中样本图片作为机器学习模型的输入，获得机器学习模型输出的预测类别；其中，样本图片携带手势类别标签，样本图片通过NLOS特征矩阵的子特征矩阵转换得到。样本数据集中包括大量样本图片，且每一样本图片通过NLOS特征矩阵的子特征矩阵转换得到，每一样本图片携带手势类别标签，该手势类别标签指示样本图片对应的手势类别。电子设备将样本图片输入机器学习模型后，通过机器学习模型进行处理，从而输出预测类别。该预测类别为训练过程中机器学习模型的输出。步骤920：根据预测类别与手势类别标签之间的差异，调整机器学习模型的模型参数。步骤930：重复上述过程，直至机器学习模型收敛，得到已训练的手势识别模型。电子设备可以通过预设损失函数评估预测类别与样本图片的手势类别标签之间的差异，得到损失函数的函数值，并基于该函数值调整机器学习模型的模型参数。在调整模型参数后，可以返回步骤910，重新将样本图片输入至机器学习模型，并基于机器学习模型输出的预测类别与手势类别标签的差异，重新调整模型参数。经过多轮迭代训练，当损失函数的函数值趋于稳定时，可以认为机器学习模型收敛，此时，将已收敛的机器学习模型作为已训练的手势识别模型。通过上述措施，可以训练得到用于识别手势的手势识别模型。在一实施例中，在训练手势识别模型之前，可以构建样本数据集。参见图10，为本申请一实施例提供的样本数据集的构建方法的流程示意图，如图10所示，该方法可以包括如下步骤1010至步骤1040。步骤1010：获取WiFi信号的多个样本信道矩阵，并分别将每一样本信道矩阵转换为样本功率时延谱；其中，多个样本信道矩阵对应预设多个手势类别。在应用场景中，由不同体型的人分别多次做出需要识别的手势。此时，可以获取WiFi信号的样本信道矩阵。样本信道矩阵是为了构建样本数据集而采集的信道矩阵。不同的样本信道矩阵可以分别对应一个手势类别。示例性的，当一个人连续一小时做一个手势的情况下，采集到的样本信道矩阵对应该手势类别。针对每一样本信道矩阵，电子设备可以将其转换为对应的样本功率时延谱。这里，转换过程可参照前文信道矩阵转换至指定功率时延谱的方式，在此不再赘述。步骤1020：基于每一样本功率时延谱确定对应的NLOS样本特征矩阵；其中，每一NLOS样本特征矩阵对应一个手势类别。针对每一样本功率时延谱，可以从中确定对应的NLOS样本特征矩阵，该NLOS样本特征矩阵对应一个手势类别，包含其对应的手势类别对NLOS信道产生的特征信息。从样本功率时延谱确定NLOS样本特征矩阵的过程，可以参照前文从指定功率时延谱确定NLOS特征矩阵的过程，在此不再赘述。步骤1030：根据每一NLOS样本特征矩阵，构建多个样本图片，并为样本图片添加与NLOS样本特征矩阵对应的手势类别标签。步骤1040：基于添加手势类别标签的样本图片，构建样本数据集。在获得多个NLOS样本特征矩阵之后，电子设备可以分别对多个NLOS样本特征矩阵以指定长度进行裁切，从而得到多个样本子特征矩阵，并分别将每一样本子特征矩阵转换为样本图片，从而得到多个样本图片。针对每一样本图片，为该样本图片添加与其对应样本子特征矩阵所在NLOS样本特征矩阵对应的手势类别标签。在获得多个添加手势类别标签的样本图片之后，电子设备可以基于多个样本图片，构建样本数据集。图11是本发明一实施例的一种基于PDP的手势识别装置的框图，如图11所示，该装置可以包括：转换模块1110，用于获取WiFi信号的信道矩阵，并将所述信道矩阵转换为指定功率时延谱；其中，所述指定功率时延谱包括多个采样点的功率；第一确定模块1120，用于根据WiFi信号的通信参数确定自由度，并以所述自由度确定卡方分布图；其中，所述卡方分布图指示任一采样点对应的目标参数的概率分布，所述目标参数由采样点的功率除以初始噪声方差得到；第二确定模块1130，用于根据所述卡方分布图和所述初始噪声方差，确定功率门限；去噪模块1140，用于基于所述功率门限对所述多个采样点的功率进行去噪处理，并去除LOS采样点，得到多个NLOS采样点的实际功率，并将多个实际功率作为实际功率序列；识别模块1150，用于基于WiFi信号的连续多个信息包对应的实际功率序列，构建NLOS特征矩阵，根据所述NLOS特征矩阵进行手势识别。上述装置中各个模块的功能和作用的实现过程具体详见上述基于PDP的手势识别方法中对应步骤的实现过程，在此不再赘述。在本申请所提供的几个实施例中，所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，附图中的流程图和框图显示了根据本申请的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。在有些作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本申请各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。
