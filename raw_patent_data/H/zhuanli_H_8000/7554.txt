标题title
光纤故障点定位方法、装置、光缆声呐仪和存储介质
摘要abst
本发明涉及光纤传感检测技术领域，公开了一种光纤故障点定位方法、装置、光缆声呐仪和存储介质，该方法通过设置有半导体放大电路和两种工作模式的光缆声呐仪对待测光纤进行故障定位检测，首先通过光缆声呐仪在OTDR测量模式下，利用半导体放大电路发送第一光脉冲信号对待测光纤进行故障定位，得到故障点定位信息，然后切换至Ф‑OTDR测量模式接收在故障点定位信息对应的位置附近上的敲击信号，基于敲击信号的相位变化来确定敲击位置，基于敲击位置、用户端的定位信息和故障定位信息来确定光缆的告警单点，并调整显示状态同步至用户端展示，解决了现有技术中通过光纤传感系统故障定位时，只能大范围的定位，导致定位不准确，维修人员检修困难的问题。
权利要求书clms
1.一种光纤故障点定位方法，应用于光缆声呐仪，其特征在于，所述光缆声呐仪包括控制电路、半导体光放大电路、光源、光放大电路、光电转换电路、采样电路和光纤接口电路，所述光纤故障点定位方法包括：在接收到测量指令后，所述控制电路输出第一控制指令控制所述光缆声呐仪工作于OTDR测量模式；所述采样电路基于所述测量指令生成光脉冲生成信号控制所述光源输出第一光脉冲信号，并通过所述半导体光放大电路放大后，经所述光纤接口电路输入至待测光纤；所述光纤接口电路采集所述待测光纤中的第一光信号，并通过所述光放大电路和所述光电转换电路进行放大转换，得到第一电信号，其中所述第一光信号为所述待测光纤基于光时域反射原理对所述第一光脉冲信号产生反射而得到的光信号；所述采样电路基于预设的波形可视化转换规则，将所述第一电信号转换为信号曲线，并对所述信号曲线进行解调分析处理，得到所述待测光纤的故障点定位信息，返回给所述控制电路；所述控制电路获取用户端中显示的待测光纤的路由路径，基于所述故障点定位信息和所述路由路径计算出对应的故障路径范围，并将所述路由路径中位于所述故障路径范围内的路径调整为故障显示状态；所述控制电路输出第二控制指令控制所述光缆声呐仪工作于Ф-OTDR测量模式，通过所述光纤接口电路采集所述待测光缆位于故障点定位信息对应的位置附近产生的敲击信号，以及所述用户端的定位信息；计算所述敲击信号的相位变化，并基于所述相位变化确定敲击位置；基于所述敲击位置、所述定位信息和所述故障点定位信息进行故障定位处理，得到处理结果；基于所述处理结果确定告警单点显示的位置信息，并基于所述位置信息调整所述故障路径范围内的路径的显示状态，并同步至用户终端展示。2.根据权利要求1所述的光纤故障点定位方法，其特征在于，所述对所述信号曲线进行解调分析处理，得到所述待测光纤的故障点定位信息，包括：提取所述信号曲线中的波峰值，并基于所述波峰值与正常状态下光纤反射的光信号的波峰值计算出光信号损耗值；基于所述光信号损耗值判断所述待测光纤是否故障；若是，则基于所述光信号损耗值和OTDR光时域反射损耗原理，计算故障点距离所述光缆声呐仪的距离；根据所述待测光纤的信息和所述距离，得到故障点定位信息。3.根据权利要求2所述的光纤故障点定位方法，其特征在于，所述基于所述敲击位置、所述定位信息和所述故障点定位信息进行故障定位处理，得到处理结果，包括：根据所述路由路径中的各井盖位置，判断所述敲击位置和所述定位信息是否位于井盖位置；若位于井盖位置，获取所述路由路径中位于所述敲击位置之前的井盖数量，并基于各井中对于光缆的计划留余量和所述故障路径范围计算出实际故障匹配范围；比较所述敲击位置是否位于所述故障范围的末端位置；若位于末端位置或者不位于井盖位置，则计算所述敲击位置与所述故障定位信息之间的距离值，基于所述距离值确定对应的处理结果。4.根据权利要求3所述的光纤故障点定位方法，其特征在于，所述基于所述处理结果确定告警单点显示的位置信息，并基于所述位置信息调整所述故障路径范围内的路径的显示状态，并同步至用户端展示，包括：基于所述距离值确定故障点在所述路由路径中节点位置；将对应的光信号损耗值，标注至所述路由路径中所述节点位置上，得到告警单点及其对应的位置信息；基于所述告警单点确定对应的显示状态；基于所述显示状态和所述告警单点的位置信息，将所述路由路径转换为光纤监控图；将所述光纤监控图，基于网口通讯协议通过后台服务器传输至用户端展示。5.根据权利要求1-4中任一项所述的光纤故障点定位方法，其特征在于，所述通过所述光放大电路和所述光电转换电路进行放大转换，得到第一电信号，包括：接收所述控制电路读取所述光缆声呐仪所在环境的环境温度，以及基于上一时刻采集到的电信号的功率值；根据所述环境温度和所述功率值调整所述光放大电路的放大参数，并基于所述放大参数对所述第一光信号进行放大，得到放大光信号；所述光电转换电路对所述放大光信号进行光电转换，得到第一电信号。6.根据权利要求1-4中任一项所述的光纤故障点定位方法，其特征在于，所述根据所述环境温度和所述功率值调整所述光放大电路的放大参数，并基于所述放大参数对所述第一光信号进行放大，得到放大光信号，包括：根据所述环境温度和所述功率值计算出所述光放大电路的采集脉宽、放大电路增益值和/或光源功率；在所述采集脉宽的基础上，控制所述光放大电路基于所述放大电路增益值或者所述光源功率对所述第一光信号进行分段解析，得到两个信号波形；将两个所述信号波形进行重叠，并校准，得到放大光信号。7.根据权利要求1-4中任一项所述的光纤故障点定位方法，其特征在于，在所述确定所述故障点检修位置之后，包括：将所述光缆声呐仪切换至OTDR测量模式，控制所述光源生成红光激光，并通过所述光纤接口电路输入至待测光纤；检测所述待测光纤在所述故障点检修位置上，以所述故障点检修位置为中心，半径为R的范围内是存在红光；若存在，则计算所述红光所在的位置与所述故障点检修位置之间的距离，得到所述待测光纤的实际故障点坐标。8.一种光纤故障点定位装置，应用于光缆声呐仪，所述光缆声呐仪包括：控制电路、半导体光放大电路、光源、光放大电路、光电转换电路、采样电路和光纤接口电路，其特征在于，所述光纤故障点定位装置包括：启动模块，用于在接收到测量指令后，所述控制电路输出第一控制指令控制所述光缆声呐仪工作于OTDR测量模式；脉冲生成模块，用于控制所述采样电路基于所述测量指令生成光脉冲生成信号控制所述光源输出第一光脉冲信号，并通过所述半导体光放大电路放大后，经所述光纤接口电路输入至待测光纤；转换模块，用于控制所述光纤接口电路采集所述待测光纤中的第一光信号，并通过所述光放大电路和所述光电转换电路进行放大转换，得到第一电信号，其中所述第一光信号为所述待测光纤基于光时域反射原理对所述第一光脉冲信号产生反射而得到的光信号；解调分析模块，用于控制所述采样电路基于预设的波形可视化转换规则，将所述第一电信号转换为信号曲线，并对所述信号曲线进行解调分析处理，得到所述待测光纤的故障点定位信息，返回给所述控制电路；显示调整模块，用于控制所述控制电路获取用户端中显示的待测光纤的路由路径，基于所述故障点定位信息和所述路由路径计算出对应的故障路径范围，并将所述路由路径中位于所述故障路径范围内的路径调整为故障显示状态；采集模块，用于所述控制电路输出第二控制指令控制所述光缆声呐仪工作于Ф-OTDR测量模式，通过所述光纤接口电路采集所述待测光缆位于故障点定位信息对应的位置附近产生的敲击信号，以及所述用户端的定位信息；计算模块，用于计算所述敲击信号的相位变化，并基于所述相位变化确定敲击位置；比较模块，用于基于所述敲击位置、所述定位信息和所述故障点定位信息进行故障定位处理，得到处理结果；处理模块，用于基于所述处理结果确定告警单点显示的位置信息，并基于所述位置信息调整所述故障路径范围内的路径的显示状态，并同步至用户终端展示。9.一种光缆声呐仪，其特征在于，所述光缆声呐仪包括：存储器和至少一个处理器，所述存储器中存储有指令，所述存储器和所述至少一个处理器通过线路互连；所述至少一个处理器调用所述存储器中的所述指令，以使得所述光缆声呐仪执行如权利要求1-7中任一项所述的光纤故障点定位方法的各个步骤。10.一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-7中任一项所述的光纤故障点定位方法的各个步骤。
说明书desc
技术领域本发明涉及光缆检测技术领域，尤其涉及一种光纤故障点定位方法、装置、光缆声呐仪和存储介质。背景技术传统OTDR光时域反射系统在光缆铺设过程中由于盘留、熔接、弯曲等因素导致故障点的实际位置与OTDR测出来的故障点的光缆长度有较大差距，在工程实践中定位光缆断点首先利用OTDR测量断点距离，通过该测量值到达相近的地点，挖洞找到光缆并再次利用OTDR继续进行测量直至找到光缆断点，该方法工作效率低，寻找断点过程中需要多次挖洞与更换地点，工作量大同时浪费大量财力物力。目前探测光缆距离的光时域反射测试技术已经比较成熟了，通过这种技术能够测试光纤内传输激光的回波损耗，以此来测量光缆的长度，或测量故障点在光缆上的距离。这种技术应用在光缆故障点探测时，只能测出光缆故障点在光缆上的距离，无法得出光缆故障点的精准位置，为了测出光缆故障点的精准位置则需要叠加融合其他技术。在光缆故障点位置测量技术中，φ-OTDR相位敏感型振动传感测试技术也有应用，比光时域反射测试系统多一个干涉过程。系统使激光发生干涉，干涉光在光纤中传播时，干涉光强的大小会随着干涉光相位的周期变化而周期变化，当光纤状态稳定时，相位变化规律也是稳定的，当光纤发生振动时，相位变化就会因为振动而不停变化，进而从相位扰动中分析计算出振动位置与光纤位置之间的关系。但单纯使用相位灵敏光时域反射测试技术难以寻找光纤断点的位置，因为相位灵敏光时域反射测试技术并不能准确定位光纤断点的位置，即使知道了地面振动位置与光纤位置之间的关系，也无法知道哪里是断点。发明内容本发明提供了一种光纤故障点定位方法、装置、光缆声呐仪和存储介质，其主要目的在于解决现有的光纤传感系统在故障定位时定位不精准且无法显示的问题。本发明第一方面提供了一种光纤故障点定位方法，应用于光缆声呐仪，所述光缆声呐仪包括控制电路、半导体光放大电路、光源、光放大电路、光电转换电路、采样电路和光纤接口电路，所述光纤故障点定位方法包括：在接收到测量指令后，所述控制电路输出第一控制指令控制所述光缆声呐仪工作于OTDR测量模式；所述采样电路基于所述测量指令生成光脉冲生成信号控制所述光源输出第一光脉冲信号，并通过所述半导体光放大电路放大后，经所述光纤接口电路输入至待测光纤；所述光纤接口电路采集所述待测光纤中的第一光信号，并通过所述光放大电路和所述光电转换电路进行放大转换，得到第一电信号，其中所述第一光信号为所述待测光纤基于光时域反射原理对所述第一光脉冲信号产生反射而得到的光信号；所述采样电路基于预设的波形可视化转换规则，将所述第一电信号转换为信号曲线，并对所述信号曲线进行解调分析处理，得到所述待测光纤的故障点定位信息，返回给所述控制电路；所述控制电路获取用户端中显示的待测光纤的路由路径，基于所述故障点定位信息和所述路由路径计算出对应的故障路径范围，并将所述路由路径中位于所述故障路径范围内的路径调整为故障显示状态；所述控制电路输出第二控制指令控制所述光缆声呐仪工作于Ф-OTDR测量模式，通过所述光纤接口电路采集所述待测光缆位于故障点定位信息对应的位置附近产生的敲击信号，以及所述用户端的定位信息；计算所述敲击信号的相位变化，并基于所述相位变化确定敲击位置；基于所述敲击位置、所述定位信息和所述故障点定位信息进行故障定位处理，得到处理结果；基于所述处理结果确定告警单点显示的位置信息，并基于所述位置信息调整所述故障路径范围内的路径的显示状态，并同步至用户终端展示。可选的，在本发明第一方面的第一种实现方式中，所述对所述信号曲线进行解调分析处理，得到所述待测光纤的故障点定位信息，包括：提取所述信号曲线中的波峰值，并基于所述波峰值与正常状态下光纤反射的光信号的波峰值计算出光信号损耗值；基于所述光信号损耗值判断所述待测光纤是否故障；若是，则基于所述光信号损耗值和OTDR光时域反射损耗原理，计算故障点距离所述光缆声呐仪的距离；根据所述待测光纤的信息和所述距离，得到故障点定位信息。可选的，在本发明第一方面的第二种实现方式中，所述基于所述敲击位置、所述定位信息和所述故障点定位信息进行故障定位处理，得到处理结果，包括：根据所述路由路径中的各井盖位置，判断所述敲击位置和所述定位信息是否位于井盖位置；若位于井盖位置，获取所述路由路径中位于所述敲击位置之前的井盖数量，并基于各井中对于光缆的计划留余量和所述故障路径范围计算出实际故障匹配范围；比较所述敲击位置是否位于所述故障范围的末端位置；若位于末端位置或者不位于井盖位置，则计算所述敲击位置与所述故障定位信息之间的距离值，基于所述距离值确定对应的处理结果。可选的，在本发明第一方面的第三种实现方式中，所述基于所述处理结果确定告警单点显示的位置信息，并基于所述位置信息调整所述故障路径范围内的路径的显示状态，并同步至用户端展示，包括：基于所述距离值确定故障点在所述路由路径中节点位置；将对应的光信号损耗值，标注至所述路由路径中所述节点位置上，得到告警单点及其对应的位置信息；基于所述告警单点确定对应的显示状态；基于所述显示状态和所述告警单点的位置信息，将所述路由路径转换为光纤监控图；将所述光纤监控图，基于网口通讯协议通过后台服务器传输至用户端展示。可选的，在本发明第一方面的第四种实现方式中，所述通过所述光放大电路和所述光电转换电路进行放大转换，得到第一电信号，包括：接收所述控制电路读取所述光缆声呐仪所在环境的环境温度，以及基于上一时刻采集到的电信号的功率值；根据所述环境温度和所述功率值调整所述光放大电路的放大参数，并基于所述放大参数对所述第一光信号进行放大，得到放大光信号；所述光电转换电路对所述放大光信号进行光电转换，得到第一电信号。可选的，在本发明第一方面的第五种实现方式中，所述根据所述环境温度和所述功率值调整所述光放大电路的放大参数，并基于所述放大参数对所述第一光信号进行放大，得到放大光信号，包括：根据所述环境温度和所述功率值计算出所述光放大电路的采集脉宽、放大电路增益值和/或光源功率；在所述采集脉宽的基础上，控制所述光放大电路基于所述放大电路增益值或者所述光源功率对所述第一光信号进行分段解析，得到两个信号波形；将两个所述信号波形进行重叠，并校准，得到放大光信号。可选的，在本发明第一方面的第六种实现方式中，在所述确定所述故障点检修位置之后，包括：将所述光缆声呐仪切换至OTDR测量模式，控制所述光源生成红光激光，并通过所述光纤接口电路输入至待测光纤；检测所述待测光纤在所述故障点检修位置上，以所述故障点检修位置为中心，半径为R的范围内是存在红光；若存在，则计算所述红光所在的位置与所述故障点检修位置之间的距离，得到所述待测光纤的实际故障点坐标。本发明第二方面提供了一种光纤故障点定位装置，应用于光缆声呐仪，所述光缆声呐仪包括：控制电路、半导体光放大电路、光源、光放大电路、光电转换电路、采样电路和光纤接口电路，所述光纤故障点定位装置包括：启动模块，用于在接收到测量指令后，所述控制电路输出第一控制指令控制所述光缆声呐仪工作于OTDR测量模式；脉冲生成模块，用于控制所述采样电路基于所述测量指令生成光脉冲生成信号控制所述光源输出第一光脉冲信号，并通过所述半导体光放大电路放大后，经所述光纤接口电路输入至待测光纤；转换模块，用于控制所述光纤接口电路采集所述待测光纤中的第一光信号，并通过所述光放大电路和所述光电转换电路进行放大转换，得到第一电信号，其中所述第一光信号为所述待测光纤基于光时域反射原理对所述第一光脉冲信号产生反射而得到的光信号；解调分析模块，用于控制所述采样电路基于预设的波形可视化转换规则，将所述第一电信号转换为信号曲线，并对所述信号曲线进行解调分析处理，得到所述待测光纤的故障点定位信息；显示调整模块，用于控制所述控制电路获取用户端中显示的待测光纤的路由路径，基于所述故障点定位信息和所述路由路径计算出对应的故障路径范围，并将所述路由路径中位于所述故障路径范围内的路径调整为故障显示状态；采集模块，用于所述控制电路输出第二控制指令控制所述光缆声呐仪工作于Ф-OTDR测量模式，通过所述光纤接口电路采集所述待测光缆位于故障点定位信息对应的位置附近产生的敲击信号，以及所述用户端的定位信息；计算模块，用于计算所述敲击信号的相位变化，并基于所述相位变化确定敲击位置；比较模块，用于基于所述敲击位置、所述定位信息和所述故障点定位信息进行故障定位处理，得到处理结果；处理模块，用于基于所述处理结果确定告警单点显示的位置信息，并基于所述位置信息调整所述故障路径范围内的路径的显示状态，并同步至用户终端展示。可选的，在本发明第二方面的第一种实现方式中，所述解调分析模块包括：损耗计算单元，用于提取所述信号曲线中的波峰值，并基于所述波峰值与正常状态下光纤反射的光信号的波峰值计算出光信号损耗值；判断单元，用于基于所述光信号损耗值判断所述待测光纤是否故障；距离计算单元，用于在判断所述待测光纤故障时，基于所述光信号损耗值和OTDR光时域反射损耗原理，计算故障点距离所述光缆声呐仪的距离；定位单元，用于根据所述待测光纤的信息和所述距离，得到故障点定位信息。可选的，在本发明第二方面的第二种实现方式中，所述比较模块具体用于：根据所述路由路径中的各井盖位置，判断所述敲击位置和所述定位信息是否位于井盖位置；若位于井盖位置，获取所述路由路径中位于所述敲击位置之前的井盖数量，并基于各井中对于光缆的计划留余量和所述故障路径范围计算出实际故障匹配范围；比较所述敲击位置是否位于所述故障范围的末端位置；若位于末端位置或者不位于井盖位置，则计算所述敲击位置与所述故障定位信息之间的距离值，基于所述距离值确定对应的处理结果。可选的，在本发明第二方面的第三种实现方式中，所述处理模块具体用于：基于所述距离值确定故障点在所述路由路径中节点位置；将对应的光信号损耗值，标注至所述路由路径中所述节点位置上，得到告警单点及其对应的位置信息；基于所述告警单点确定对应的显示状态；基于所述显示状态和所述告警单点的位置信息，将所述路由路径转换为光纤监控图；将所述光纤监控图，基于网口通讯协议通过后台服务器传输至用户端展示。可选的，在本发明第二方面的第四种实现方式中，所述转换模块包括读取单元，用于接收所述控制电路读取所述光缆声呐仪所在环境的环境温度，以及基于上一时刻采集到的电信号的功率值；调整单元，用于根据所述环境温度和所述功率值调整所述光放大电路的放大参数，并基于所述放大参数对所述第一光信号进行放大，得到放大光信号；光电转换单元，用于控制所述光电转换电路对所述放大光信号进行光电转换，得到第一电信号。可选的，在本发明第二方面的第五种实现方式中，所述调整单元具体用于：根据所述环境温度和所述功率值计算出所述光放大电路的采集脉宽、放大电路增益值和/或光源功率；在所述采集脉宽的基础上，控制所述光放大电路基于所述放大电路增益值或者所述光源功率对所述第一光信号进行分段解析，得到两个信号波形；将两个所述信号波形进行重叠，并校准，得到放大光信号。可选的，在本发明第二方面的第六种实现方式中，所述脉冲生成模块还用于：将所述光缆声呐仪切换至OTDR测量模式，控制所述光源生成红光激光，并通过所述光纤接口电路输入至待测光纤；检测所述待测光纤在所述故障点检修位置上，以所述故障点检修位置为中心，半径为R的范围内是存在红光；若存在，则计算所述红光所在的位置与所述故障点检修位置之间的距离，得到所述待测光纤的实际故障点坐标。本发明第三方面提供了一种光缆声呐仪，包括：存储器和至少一个处理器，所述存储器中存储有指令，所述存储器和所述至少一个处理器通过线路互连；所述至少一个处理器调用所述存储器中的所述指令，以使得所述光缆声呐仪执行上述的光纤故障点定位方法的步骤。本发明的第四方面提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有指令，当其在计算机上运行时，使得计算机执行上述的光纤故障点定位方法的步骤。本发明的技术方案中，通过光缆声呐仪在OTDR测量模式下，利用半导体放大电路发送第一光脉冲信号对待测光纤进行故障定位，得到故障点定位信息，然后切换至Ф-OTDR测量模式接收在故障点定位信息对应的位置附近上的敲击信号，基于敲击信号的相位变化来确定敲击位置，基于敲击位置、用户端的定位信息和故障定位信息来确定光缆对应的路由路径的告警单点，并调整显示状态同步至用户端展示，解决了现有技术中通过光纤传感系统故障定位时，只能大范围的定位，导致定位不准确和用户无法显示精准位置，维修人员检修困难的问题。附图说明图1为本发明实施例中光纤故障点定位方法的第一个实施例示意图；图2为本发明实施例中光纤故障点定位方法的第二个实施例示意图；图3为本发明实施例中光缆声呐仪的结构示意图；图4为本发明实施例中光纤故障点定位装置的一个实施例示意图；图5为本发明实施例中光纤故障点定位装置的另一个实施例示意图；图6为本发明实施例中光缆声呐仪的一个实施例示意图。具体实施方式本发明的技术方案中，实现Ф-OTDR和OTDR系统的多融合使用，可在不同场景下使用，首先通过OTDR来确定距离故障点的光纤长度，通过该测量值到达相近的地点，然后切换成Ф-OTDR功能来获取光缆故障点上的振动信息定位到精准位置点，在相近的地点通过使用锤子等工具振动地面使用Ф-OTDR功能监测出振动点，比较OTDR监测出的故障点和Ф-OTDR监测出的振动点可以得知故障点与振动地点的距离，向故障点的方向移动，重复振动地面直到监测出的故障点与振动点位置重合，即为故障点的实际位置，然后将监测的结论与用户端上的图像进行显示，以实现故障定位的实时显示查看。本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”、“第四”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的实施例能够以除了在这里图示或描述的内容以外的顺序实施。此外，术语“包括”或“具有”及其任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。为便于理解，下面对本发明实施例的具体流程进行描述，请参阅图1，本发明实施例中光纤故障点定位方法，该方法是基于一个便携式的光缆声呐仪提出的一种测量方法，该光缆声呐仪包括光源、光放大电路、光电转换电路、采样电路和光纤接口电路，以及控制电路和半导体光放大电路，其中控制电路主要是用于控制光源生成光脉冲信号以及控制采样电路接收光纤返回的光信号。在实际应用中，所述光源分别与半导体光放大电路、采样电路连接；半导体光放大电路与光纤接口电路连接，用于实现与光缆中的光纤连接；光放大电路设于光纤接口电路和光电转换电路之间，用于将光纤接口电路采集到的第一光信号放大后输出给光电转换电路；控制电路与采集电路和光源连接，用于基于采集电路输出的数据控制光源输出对应测量模式的光脉冲信号。具体如图3所示，该光缆声呐仪中的各电路具体由图中的结构构成，其中，窄线宽光源、光调制模块、两个光放大模块、两个光环形器、MCU控制模块、光开关、两个接收模块、光功率计算模块、分布反馈脉光源、数据采集卡模块和ARM信号处理模块构成，其中，窄线宽光源与光调制模块连接，其中一个光放大模块分别与光调制模块和其中一个光环形器连接，该光环形器与光开关连接，光开关与待测光纤连接；另一个光放大模块与光环行器连接，且两个光放大模块相互连接；另一个光放大模块还与其中一个光接收模块连接，两个光接收模块均与数据采集模块连接，MCU控制模块分别与光功率计模块、光放大模块、ARM处理模块和光接收模块连接，光功率计模块与光开关连接，分布反馈脉光源与光环行器、光调制模块和数据采集卡模块连接，ARM处理模块与窄线宽光源连接。在实际应用中，通过图3中的光调制模块和光放大模块构成半导体光放大电路，控制电路为ARM处理模块和MCU控制模块，光纤接口电路为光开关，采样电路为数据采集卡模块，光源包括分布反馈脉光源和窄线宽光源，光接收模块和光功率计模块组成光电转换电路，同时通过ARM处理模块可以实现光缆声呐仪与服务器或者是外部计算机等设备/平台的数据传输。基于上述的光缆声呐仪提出的光纤故障点定位方法包括以下步骤：101，在接收到测量指令后，控制电路输出第一控制指令控制光缆声呐仪工作于OTDR测量模式；在本实施例中，这里的测量指令具体是用户通过手机上的APP触发的控制指令，也可以是用户在光缆声呐仪的操作界面上触发的控制指令，该测量指令控制所述光缆声呐仪中的软件算法切换至OTDR测量模式，以控制光缆声呐仪中的光开关切换至OTDR测量接口，如图3所示，通过测量指令控制光开关切换至上端的光环形器以实现OTDR光时域反射系统的测量功能。102，采样电路基于测量指令生成光脉冲生成信号控制光源输出第一光脉冲信号，并通过半导体光放大电路放大后，经光纤接口电路输入至待测光纤；在本实施例中，采样电路在接收到测量指令后，基于测量指令确定成成脉冲光信号的类型，基于脉冲光信号的类型构建脉冲光信号的生成信号，基于生成信号输出控制参数给光源，该光源指的是光脉冲发生器，控制所述光脉冲发生器产生第一光脉冲信号，输出至半导体光放大电路进行放大，这里半导体光放大电路是采用SOA器件结合辅助元器件设置的放大电路。然后输出至光纤接口电路，通过光纤接口电路输出给与光纤接口电路连接的待测光纤。在实际应用中，所述半导体光放大电路在对第一光脉冲信号进行放大时，具体通过读取所述控制电路中由采样电路基于接收到的电信号反馈的信号功率和信号反向增益参数，并基于信号功率、信号反向增益参数和待测光纤的长度计算出光信号的放大参数，基于放大参数调整半导体光放大电路中SOA器件和辅助元器件的参数，并对第一光脉冲信号进行放大输出至光纤接口电路。进一步的，这里的待测光纤的长度可以理解为是待测光纤中各个检测点的坐标。103，光纤接口电路采集待测光纤中第一光信号，并通过光放大电路和光电转换电路进行放大转换，得到第一电信号；在本实施例中，所述第一光信号为所述待测光纤基于光时域反射原理对所述第一光脉冲信号产生反射而得到的光信号。在光纤接口电路将第一光脉冲信号传输至待测光纤后，第一光脉冲信号在待测光纤中传输过程中，若待测光纤存在故障，例如敲击、振动、断点等都会改变待测光纤的折射率，在光时域反射原理的作用下第一光脉冲信号在故障点的位置产生反射，生成第一光信号，而该第一光信号在生成的过程中，首先在故障点的位置对第一光脉冲信号进行多次反射，得到多个光的信号波形，多个光的信号波形在反射后进行混频，得到第一光信号，其中混频可以理解为是多个光的信号波形反射后的反向位置进行了振幅和相位的相互抵消，以得到一个综合振幅和相位，从而得到第一光信号。104，采样电路基于预设的波形可视化转换规则，将第一电信号转换为信号曲线，并对信号曲线进行解调分析处理，得到待测光纤的故障点定位信息，返回给控制电路；该步骤中，采样电路接收到光电转换电路发送过来的第一电信号后，对第一电信号进行解调分析，其中这里的解调分析具体为采样电路先对所述第一电信号进行解调，转换信号曲线，然后基于第一光脉冲信号的相位和频率，对信号曲线中的相位进行调整，以使得信号曲线中的波形中的峰谷位于采样电路的采样点，从而实现对应第一点信号中信息的采集。在本实施例中，对于上述的解调，具体是通过设置相位调整二极管对所述第一电信号的信号进行移相，得到满足采样点的第一电信号，从第一电信号中提取相位信息和幅度信息，基于相位信息和幅度信息，基于光时域反射原理计算出故障点定位信息，其中，该故障点定位信息可以理解为是定位的一个范围值。105，控制电路获取用户端中显示的待测光纤的路由路径，基于故障点定位信息和路由路径计算出对应的故障路径范围，并将路由路径中位于故障路径范围内的路径调整为故障显示状态；该步骤中，确定故障定位信息后，根据待测光纤的相关信息从后台服务器中读取该光纤的路由路径，该路由路径指的是用户终端的APP上显示的光纤轨迹，然后基于故障点定位信息确定光纤轨迹中对应的显示位置，并将该显示位置到光缆声呐仪之间的光纤轨迹片段作为故障路径范围，并从预设的故障显示状态表中选择对应的状态进行显示。在实际应用中，所述故障显示状态表中包括至少两种故障显示状态，分别是故障状态和故障测量状态，在确定故障路径范围后，基于当前的OTDR测量模式确定光纤轨迹的故障显示状态为故障测量状态。而在光缆声呐仪工作于OTDR测量模式时，控制用户终端将与待测光纤的路由路径显示为故障测量状态，并基于所述故障路径范围调整故障测量状态的显示片段，即是将属于故障路径范围内的路由路径片段保持故障测量状态的显示，其他的片段调整为正常显示状态。106，控制电路输出第二控制指令控制光缆声呐仪工作于Ф-OTDR测量模式，通过光纤接口电路采集待测光缆位于故障点定位信息对应的位置附近产生的敲击信号，以及所述用户端的定位信息；在OTDR测量模式下测量出待测光纤中的故障点的位置范围后，通过在用户的APP上触发检测操作，基于该检测操作生成光缆声呐仪的工作模式切换指令，在光缆声呐仪接收到切换指令后，基于该切换指令将其工作模式置于Ф-OTDR测量模式，具体的检测光缆声呐仪当前的工作模式，若是Ф-OTDR测量模式，则保持或者进行初始化处理，若是OTDR测量模式，则将光纤接口电路中的光开关切换至图3中下端的光环形器，并实时接收光环形器传输过来的敲击信号。在本实施例中，该敲击信号可以理解为是用户敲击或者是光纤外部环境因素导致光纤振动而产生的反射信号，优选的这里选择通过用户敲击的方式产生。具体的，在图3下端的光环形器上设置APD雪崩光电二极管作为检测探测反射回来的微弱信号，光环形器在探测到待测光纤反射回来的微弱信号后，在由内部I/V光电信号转换经放大电路处理后输出给光放大电路和光电转换电路转换成电信号输出给采样电路。本实施例中，对于用户端的定位信息具体是通过用户端的定位功能定位到用户当前的位置信息，并通过互联网或者是用户端与后台服务器之间的订阅协议将该位置信息进行同步，并显示于路由路径上。107，计算敲击信号的相位变化，并基于相位变化确定敲击位置；该步骤中，采样电路在接收到敲击信号后，对敲击信号进行正弦波角度解调后转换为数字信号，对数字信号进行相位解析，得到相位变化，在实际应用中，在解析出敲击信号的相位后，将该相位与半导体光放大器中产生的第一光脉冲信号的相位进行比较，并计算相位差，然后基于相位差和光时域反射原理对应的计算公式计算出敲击点位于光纤上的长度，得到敲击位置。108，基于敲击位置、定位信息和故障点定位信息进行故障定位处理，得到处理结果；该步骤中，将敲击位置与故障点定位信息进行比较，具体是比较两者之间的经纬度以及光纤长度信息，在经纬度一致的前提下，若光纤长度信息也一致，则将故障定位信息与定位信息进行比对，若一致，则确定该敲击点为实际故障点。在本实施例中，当所述故障点定位信息包括故障点具体坐标和故障点区域信息时，基于区域信息定位到敲击信息的范围，在该范围内确定敲击点的位置信息，然后将敲击点的位置信息与故障点具体坐标比较，若一致，的确定故障点维修位置。进一步的，在对故障点进行故障定位处理时，具体还可以是通过以下方式实现：根据所述路由路径中的各井盖位置，判断所述敲击位置和所述定位信息是否位于井盖位置；若位于井盖位置，获取所述路由路径中位于所述敲击位置之前的井盖数量，并基于各井中对于光缆的计划留余量和所述故障路径范围计算出实际故障匹配范围；比较所述敲击位置是否位于所述故障范围的末端位置；若位于末端位置或者不位于井盖位置，则计算所述敲击位置与所述故障定位信息之间的距离值，基于所述距离值确定对应的处理结果。在实际应用中，对于故障点位于井盖中时，一般光纤会在井盖中盘旋留余，这时故障点的实际位置与OTDR测量到的距离不相同，为了得到准确的故障点位置，则需要去除光纤的留余量，而用户端中显示的路由路径则是光纤的实际长度，与井盖的路由路径存在区别。对此在敲击完成后，需要根据用户的定位信息和敲击位置来确定是否位于井盖位置，例如根据定位信息和敲击位置来确定直线距离，基于直线距离与井盖的路由路径中的各井盖编号下的距离进行比较，确定是否在井盖位置上，若是，则基于各井盖的留余来计算出实际故障匹配范围，从而执行后续的故障点定位处理。109，基于处理结果确定告警单点显示的位置信息，并基于位置信息调整故障路径范围内的路径的显示状态，并同步至用户终端展示。该步骤中，基于所述距离值确定故障点在所述路由路径中节点位置；将对应的光信号损耗值，标注至所述路由路径中所述节点位置上，得到告警单点及其对应的位置信息；基于所述告警单点确定对应的显示状态；基于所述显示状态和所述告警单点的位置信息，将所述路由路径转换为光纤监控图；将所述光纤监控图，基于网口通讯协议通过后台服务器传输至用户端展示。具体的，通过采集电路对第一电信号进行波形信号数据的展现、分析与传输，并通过4G/网口通信传输至后台服务器，然后由手机APP终端/WEB端展现分析传输回来的数据信息。在实际应用中，该处理结果为故障点的实际定位信息，基于实际定位信息结合用户端上显示的路由路径来确定其在路由路径中的显示位置，从而确定告警单点及其对应的位置，具体的，在确定告警单点后，基于故障显示规则对该告警单点进行告警调整，显示出故障状态，以构建出光纤监控图，然后同步至用户端展示，从而实现了用户可以实时查看故障定位测量过程中的测量位置，以便于用户判断故障测量的准确性。本发明的技术方案中，光缆声呐仪在OTDR测量模式下，利用半导体放大电路发送第一光脉冲信号对待测光纤进行故障定位，得到故障点定位信息，然后切换至Ф-OTDR测量模式接收在故障点定位信息对应的位置附近上的敲击信号，基于敲击信号的相位变化来确定故障点检修位置，解决了现有技术只能测出光缆故障点在光缆上的距离，无法得出光缆故障点的精准位置的问题。请参阅图2和3，本发明实施例中光纤故障点定位方法的第二个实施例包括：201，启动光缆声呐仪并工作于OTDR测量模式，光缆声呐仪中的采样电路基于控制光源输出第一光脉冲信号，并通过半导体光放大电路放大后，由光纤接口电路输入至待测光纤；在本实施例中，控制工作于OTDR测量模式由控制电路实现，MCU控制模块接收到来自ARM处理模块从APP中接收到的测量指令后，将光缆声呐仪切换至OTDR测量模式，然后通过ARM处理模块输出对应的功率参数给窄线宽光源，窄线宽光源基于功率参数输出对应的第一光脉冲信号，其中功率参数包括光信号功率和信号频率，将第一光脉冲信号输出至半导体光放大电路，该半导体光放大电路由光调制模块和光放大模块组成，该光放大模块为SOA放大器开发的电路模块，经过光调制模块转换成脉冲光后，由SOA放大器进行放大处理，输出至光纤接口电路，由光纤接口电路中的光环形器经过光开关切换的接口输出至待测光纤。202，光纤接口电路采集所述待测光纤基于光时域反射原理对所述第一光脉冲信号反射回来的第一光信号；在本实施例中，第一光信号在待测光纤中传输时，当待测光纤发生振动或者故障后，在光时域反射原理的作用下将第一光信号反射产生传输方向相反的第一光信号至光纤接口电路。具体通过光环形器上的APD雪崩光电二极管作为检测探测反射回来的第一光信号。203，接收控制电路读取光缆声呐仪所在环境的环境温度，以及基于上一时刻采集到的电信号的功率值；204，根据环境温度和功率值调整光放大电路的放大参数，并基于放大参数对第一光信号进行放大，得到放大光信号；本实施例中，具体根据所述环境温度和所述功率值计算出所述光放大电路的采集脉宽、放大电路增益值和/或光源功率；在所述采集脉宽的基础上，控制所述光放大电路基于所述放大电路增益值或者所述光源功率对所述第一光信号进行分段解析，得到两个信号波形；将两个所述信号波形进行重叠，并校准，得到放大光信号。在实际应用中，高性能OTDR动态范围要求达到40dB以上，因此在硬件设计与一代手持机有所不同。主要体现在链路的接收增益自动控制、进入ADC前的幅度限制以及接收通路上的差分改进。设计动态范围需要达到40dB以上，由于ADC的动态范围只有21.5dB，想要达到40dB动态以上，就需要前级增益在ADC的动态范围基础上在增加20dB以上的动态可调增益，如果超出ADC的动态范围，则需要用到波形拼接方案，通过FPGA把光源功率或者APD中信号处理电路中运放增益进行自动控制，实现大动态长距离测量。对此，光放大电路在放大信号时，可以通过光功率或增益来调整，具体的在所述采集脉宽的基础上，控制所述光放大电路基于所述第一放大增益对所述第一光信号中的前半部分进行解析，得到第一信号波形，以及控制所述光放大电路基于所述第二放大增益对所述第一光信号中的后半部分进行解析，得到第二信号波形；或者，在所述采集脉宽的基础上，控制所述光放大电路基于所述第一功率对所述第一光信号中的前半部分进行解析，得到第三信号波形，以及控制所述光放大电路基于所述第二功率对所述第一光信号中的后半部分进行解析，得到第四信号波形。在实际应用中，该处理方式可以理解为是波形拼接处理，首先，使用大脉宽，基于实际测量波形，得到光纤的大致长度；然后基于光纤长度，上层软件决定脉宽以及放大电路增益或者光源功率选择策略，比如如果按照同一脉宽下4秒提供一次全光纤OTDR波形显示，则前2秒用小功率或者小的放大增益，得到光纤一段的波形，后2秒用大功率或者大的放大增益，得到一段波形，前后两段有重叠，便于进行校准；当然也可以分大于几种脉宽，以测试为准；进一步的，进行上述波形的距离平均，同时对底噪进行进一步处理，可能需要人工添加底噪波形。在实际应用中，如果考虑ADC烧毁的可能，则可以考虑在APD输出前添加一个限幅电路限制高点电压输出；如果需要兼顾分辨率及脉宽，则后续可以考虑编码脉冲法，同时采用上述的拼接方案。205，光电转换电路对所放大光信号进行光电转换，得到第一电信号；206，采样电路对所第一电信号进行解调分析处理，得到待测光纤的故障点定位信息；该步骤中，其解调分析处理具体是痛殴分析第一电信号中的纵横坐标上的值来实现解调，具体的：所述采样电路基于预设的波形可视化转换规则，将所述第一电信号转换为信号曲线；提取所述信号曲线中的波峰值，并基于所述波峰值与正常状态下光纤反射的光信号的波峰值计算出光信号损耗值；基于所述光信号损耗值判断所述待测光纤是否故障；若是，则基于所述光信号损耗值和OTDR光时域反射损耗原理，计算故障点距离所述光缆声呐仪的距离；根据所述待测光纤的信息和所述距离，得到故障点定位信息。207，控制光缆声呐仪工作于Ф-OTDR测量模式，通过光纤接口电路采集待测光缆位于故障点定位信息对应的位置附近产生的敲击信号；208，计算敲击信号的相位变化，并基于所相位变化确定敲击位置；209，将敲击位置与所故障点定位信息进行比较；210，若比较一致，确定所故障点检修位置。本实施例中，为了实现可视化的故障点检修位置定位，还可以通过将所述光缆声呐仪切换至OTDR测量模式，控制所述光源生成红光激光，并通过所述光纤接口电路输入至待测光纤；检测所述待测光纤在所述故障点检修位置上，以所述故障点检修位置为中心，半径为R的范围内是存在红光；若存在，则计算所述红光所在的位置与所述故障点检修位置之间的距离，得到所述待测光纤的实际故障点坐标。在实际应用中，通过本地或APP操作控制红光激光发射，将待测光纤接入光口，工程人员现场查看光缆当看到光缆中有某段光缆有红光泄露，即可即时判断光缆故障位置，除了其他造成信号损耗的原因外，即插即用的VFL还可以轻松发现断裂、弯曲、故障连接器和熔接，其故障检测距离可达5km。在本实施例中，在所述根据所述待测光纤的信息和所述距离，得到故障点定位信息之后，包括：将所述故障点定位信息和对应的光信号损耗值，标注至所述信号曲线中对应的节点上，生成光纤监控图；将所述光纤监控图，基于网口通讯协议上传至后台服务器，以供APP终端或WEB端读取展示。在Ф-OTDR测量模式下，MCU启动光源、EDFA、SOA后，通过智能手机APP端发送开启测量指令，由FPGA输出脉冲信号至启动SOA半导体光放大放器，将连续光源信号斩波成脉冲光信号，再由光环形器输出到业务待测光口，然后将待测光纤接入光口，由光反射原理，待测光纤反射瑞丽光信号通过光环形器返回瑞丽光信号，由于反射回来的瑞丽光信号很弱PIN光电二极管检测不到微弱信号，故需要将反射瑞丽光信号进行光放大后PIN光电二极管才能检测到，因此瑞丽反射信号经环形器送入EDFA放大器把光信号放大后，在经过PD光电信号转换处理，送入FPGA进行数据的采样分析，最后再由ARM通过移动4G、本地显示或互联网云进行数据传输到终端展现。下面结合图3中的结构对本实施例提供的光纤故障点定位方法进行具体说明，具体定位流程如下：光缆声呐仪开启通过4G/网口与后台服务器联网上线，激光信号模块，窄线宽激光光源发射连续窄线宽1550nm波长光信号/分布反馈脉冲激光光源发射脉冲宽幅1550nm波长光信号进一步地，激光信号调制模块，窄线宽光源信号进入到光调制模块/分布反馈脉冲光源信号则直接输出，手机APP端/WEB端下发φ-OTDR/OTDR启动指令通过ARM传输给MCU控制功能切换光开关模块通道，并同时发出信号调制指令给数据采集卡发出调制脉冲信号给光调制模块，光调制模块启动后将连续的激光光源信号转换成脉冲激光信号。进一步地，激光信号放大模块，由MCU控制模块对光放大模块的放大功率、温度等等控制，进行对脉冲光信号通过光放大模块，将脉冲激光发射信号进行放大进一步地，激光信号输出模块，放大后的脉冲激光发射信号通过光环行器发射输出到待测光缆中进一步地，业务光纤传输模块，输出光信号通过光纤作为传输介质进行反射光振动或损耗信号的回传传输进一步地，信号接收模块，反射光信号，通过环形器将反射信号送入光放大模块，MCU控制光放大模块将反射光信号进行放大，在传输至光接收模块中，进行光电信号的转换进一步地，数据采集卡模块，将PD光电转换模块输出的电信号进行解调分析处理进一步地，ARM信号处理模块，进行波形信号数据的展现、分析与传输，并通过4G/网口通信传输至后台服务器最后，由手机APP终端/WEB端展现分析传输回来的数据信息。由于接收回来的信号是光时域散射信号，因此需要并将信号进行还原以波形的形式直观地展现在用户的面前。本实施例在前实施例的基础上，实现上述两种系统的多融合使用，可在不同场景下使用，首先通过OTDR来确定距离故障点的光纤长度，通过该测量值到达相近的地点，然后切换成Ф-OTDR功能来获取光缆故障点上的振动信息定位到精准位置点，在相近的地点通过使用锤子等工具振动地面使用Ф-OTDR功能监测出振动点，比较OTDR监测出的故障点和Ф-OTDR监测出的振动点可以得知故障点与振动地点的距离，向故障点的方向移动，重复振动地面直到监测出的故障点与振动点位置重合，即为故障点的实际位置。同时还能够通过手机端APP/WEB端随时随地查看传输信号，且更加便捷、方便使用，也可设置激光发射信号的参数等。上面对本发明实施例中光纤故障点定位方法进行了描述，下面对本发明实施例中光纤故障点定位装置进行描述，该装置主要是应用于光缆声呐仪，应用于光缆声呐仪，所述光缆声呐仪包括：控制电路、半导体光放大电路、光源、光放大电路、光电转换电路、采样电路和光纤接口电路，请参阅图4，本发明实施例中光纤故障点定位装置一个实施例包括：启动模块401，用于在接收到测量指令后，所述控制电路输出第一控制指令控制所述光缆声呐仪工作于OTDR测量模式；脉冲生成模块402，用于控制所述采样电路基于所述测量指令生成光脉冲生成信号控制所述光源输出第一光脉冲信号，并通过所述半导体光放大电路放大后，经所述光纤接口电路输入至待测光纤；转换模块403，用于控制所述光纤接口电路采集所述待测光纤中的第一光信号，并通过所述光放大电路和所述光电转换电路进行放大转换，得到第一电信号，其中所述第一光信号为所述待测光纤基于光时域反射原理对所述第一光脉冲信号产生反射而得到的光信号；解调分析模块404，用于控制所述采样电路基于预设的波形可视化转换规则，将所述第一电信号转换为信号曲线，并对所述信号曲线进行解调分析处理，得到所述待测光纤的故障点定位信息，返回给所述控制电路；显示调整模块405，用于控制所述控制电路获取用户端中显示的待测光纤的路由路径，基于所述故障点定位信息和所述路由路径计算出对应的故障路径范围，并将所述路由路径中位于所述故障路径范围内的路径调整为故障显示状态；采集模块406，用于控制所述光缆声呐仪工作于Ф-OTDR测量模式，通过所述光纤接口电路采集所述待测光缆位于故障点定位信息对应的位置附近产生的敲击信号，以及所述用户端的定位信息；计算模块407，用于计算所述敲击信号的相位变化，并基于所述相位变化确定敲击位置；比较模块408，用于基于所述敲击位置、所述定位信息和所述故障点定位信息进行故障定位处理，得到处理结果；处理模块409，用于基于所述处理结果确定告警单点显示的位置信息，并基于所述位置信息调整所述故障路径范围内的路径的显示状态，并同步至用户终端展示。本发明实施例中，光缆声呐仪在OTDR测量模式下，利用半导体放大电路发送第一光脉冲信号对待测光纤进行故障定位，得到故障点定位信息，然后切换至Ф-OTDR测量模式接收在故障点定位信息对应的位置附近上的敲击信号，基于敲击信号的相位变化来确定故障点检修位置，解决了现有技术只能测出光缆故障点在光缆上的距离，无法得出光缆故障点的精准位置的问题。请参阅图5，本发明实施例中光纤故障点定位装置的第二个实施例包括：启动模块401，用于在接收到测量指令后，所述控制电路输出第一控制指令控制所述光缆声呐仪工作于OTDR测量模式；脉冲生成模块402，用于控制所述采样电路基于所述测量指令生成光脉冲生成信号控制所述光源输出第一光脉冲信号，并通过所述半导体光放大电路放大后，经所述光纤接口电路输入至待测光纤；转换模块403，用于控制所述光纤接口电路采集所述待测光纤中的第一光信号，并通过所述光放大电路和所述光电转换电路进行放大转换，得到第一电信号，其中所述第一光信号为所述待测光纤基于光时域反射原理对所述第一光脉冲信号产生反射而得到的光信号；解调分析模块404，用于控制所述采样电路基于预设的波形可视化转换规则，将所述第一电信号转换为信号曲线，并对所述信号曲线进行解调分析处理，得到所述待测光纤的故障点定位信息，返回给所述控制电路；显示调整模块405，用于控制所述控制电路获取用户端中显示的待测光纤的路由路径，基于所述故障点定位信息和所述路由路径计算出对应的故障路径范围，并将所述路由路径中位于所述故障路径范围内的路径调整为故障显示状态；采集模块406，用于控制所述光缆声呐仪工作于Ф-OTDR测量模式，通过所述光纤接口电路采集所述待测光缆位于故障点定位信息对应的位置附近产生的敲击信号，以及所述用户端的定位信息；计算模块407，用于计算所述敲击信号的相位变化，并基于所述相位变化确定敲击位置；比较模块408，用于基于所述敲击位置、所述定位信息和所述故障点定位信息进行故障定位处理，得到处理结果；处理模块409，用于基于所述处理结果确定告警单点显示的位置信息，并基于所述位置信息调整所述故障路径范围内的路径的显示状态，并同步至用户终端展示。在本实施例中，所述解调分析模块404包括：损耗计算单元4041，用于提取所述信号曲线中的波峰值，并基于所述波峰值与正常状态下光纤反射的光信号的波峰值计算出光信号损耗值；判断单元4042，用于基于所述光信号损耗值判断所述待测光纤是否故障；距离计算单元4043，用于在判断所述待测光纤故障时，基于所述光信号损耗值和OTDR光时域反射损耗原理，计算故障点距离所述光缆声呐仪的距离；定位单元4044，用于根据所述待测光纤的信息和所述距离，得到故障点定位信息。在本实施例中，所述比较模块408具体用于：根据所述路由路径中的各井盖位置，判断所述敲击位置和所述定位信息是否位于井盖位置；若位于井盖位置，获取所述路由路径中位于所述敲击位置之前的井盖数量，并基于各井中对于光缆的计划留余量和所述故障路径范围计算出实际故障匹配范围；比较所述敲击位置是否位于所述故障范围的末端位置；若位于末端位置或者不位于井盖位置，则计算所述敲击位置与所述故障定位信息之间的距离值，基于所述距离值确定对应的处理结果。在本实施例中，所述处理模块409具体用于：基于所述距离值确定故障点在所述路由路径中节点位置；将对应的光信号损耗值，标注至所述路由路径中所述节点位置上，得到告警单点及其对应的位置信息；基于所述告警单点确定对应的显示状态；基于所述显示状态和所述告警单点的位置信息，将所述路由路径转换为光纤监控图；将所述光纤监控图，基于网口通讯协议通过后台服务器传输至用户端展示。在本实施例中，所述转换模块403包括读取单元4031，用于接收所述控制电路读取所述光缆声呐仪所在环境的环境温度，以及基于上一时刻采集到的电信号的功率值；调整单元4032，用于根据所述环境温度和所述功率值调整所述光放大电路的放大参数，并基于所述放大参数对所述第一光信号进行放大，得到放大光信号；光电转换单元4033，用于控制所述光电转换电路对所述放大光信号进行光电转换，得到第一电信号。在本实施例中，所述调整单元4032具体用于：根据所述环境温度和所述功率值计算出所述光放大电路的采集脉宽、放大电路增益值和/或光源功率；在所述采集脉宽的基础上，控制所述光放大电路基于所述放大电路增益值或者所述光源功率对所述第一光信号进行分段解析，得到两个信号波形；将两个所述信号波形进行重叠，并校准，得到放大光信号。在本实施例中，所述脉冲生成模块402还用于：将所述光缆声呐仪切换至OTDR测量模式，控制所述光源生成红光激光，并通过所述光纤接口电路输入至待测光纤；检测所述待测光纤在所述故障点检修位置上，以所述故障点检修位置为中心，半径为R的范围内是存在红光；若存在，则计算所述红光所在的位置与所述故障点检修位置之间的距离，得到所述待测光纤的实际故障点坐标。本实施例在上一实施例的基础上，实现上述两种系统的多融合使用，可在不同场景下使用，首先通过OTDR来确定距离故障点的光纤长度，通过该测量值到达相近的地点，然后切换成Ф-OTDR功能来获取光缆故障点上的振动信息定位到精准位置点，在相近的地点通过使用锤子等工具振动地面使用Ф-OTDR功能监测出振动点，比较OTDR监测出的故障点和Ф-OTDR监测出的振动点可以得知故障点与振动地点的距离，向故障点的方向移动，重复振动地面直到监测出的故障点与振动点位置重合，即为故障点的实际位置，并同步至用户端上的路由路径上展示。解决了现有技术只能测出光缆故障点在光缆上的距离，无法得出光缆故障点的精准位置的问题。上面图4和图5从模块化功能实体的角度对本发明实施例中的光纤故障点定位装置进行详细描述，下面从硬件处理的角度对本发明实施例中光纤故障点定位装置进行详细描述。图6是本发明实施例提供的一种光缆声呐仪的结构示意图，该光缆声呐仪600可因配置或性能不同而产生比较大的差异，可以包括一个或一个以上处理器610和存储器620，一个或一个以上存储应用程序633或数据632的存储介质630。其中，存储器620和存储介质630可以是短暂存储或持久存储。存储在存储介质630的程序可以包括一个或一个以上模块，每个模块可以包括对光缆声呐仪600中的一系列指令操作。更进一步地，处理器610可以设置为与存储介质630通信，在光缆声呐仪600上执行存储介质630中的一系列指令操作，以实现上述分布式光纤声波传感系统的控制方法的步骤。光缆声呐仪600还可以包括一个或一个以上电源640，一个或一个以上有线或无线网络接口650，一个或一个以上输入输出接口660，和/或，一个或一个以上操作系统631，例如Windows Serve，Mac OS X，Unix，Linux，FreeBSD等等。本领域技术人员可以理解，图6示出的光缆声呐仪结构并不构成对本申请提供的光缆声呐仪的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。本发明还提供一种计算机可读存储介质，该计算机可读存储介质可以为非易失性计算机可读存储介质，该计算机可读存储介质也可以为易失性计算机可读存储介质，所述计算机可读存储介质中存储有指令，当所述指令在计算机上运行时，使得计算机执行上述实施例提供的光纤故障点定位方法的各个步骤。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统或装置、单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
