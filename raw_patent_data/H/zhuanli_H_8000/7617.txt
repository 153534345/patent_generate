标题title
一种分布式资源边缘自治控制方法和系统
摘要abst
本发明提供了一种分布式资源边缘自治控制方法和系统，包括基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集；将用户匹配至相应的日负荷曲线场景集，对场景集中各相似用户的出力进行加权获得用户此时的基线负荷估计；在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知；基于实时感知结果和集群可调能力，通过电压灵敏度进行边缘侧资源自适应协调控制，以抑制可再生能源波动性。本发明通过将用户用电数据分解为纯负荷与储能出力数据，接着结合分解的储能出力曲线与储能信息实现储能状态的实时感知，通过电压灵敏度实现了边缘侧资源的自适应协调控制。
权利要求书clms
1.一种分布式资源边缘自治控制方法，其特征在于，包括如下步骤：基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集；将用户匹配至相应的所述日负荷曲线场景集，对场景集中各相似用户的出力进行加权获得用户此时的基线负荷估计；在用户的所述基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知；基于实时感知结果和集群可调能力，通过电压灵敏度进行边缘侧资源自适应协调控制，以抑制可再生能源波动性。2.根据权利要求1所述的一种分布式资源边缘自治控制方法，其特征在于，基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集，具体包括：利用拉丁超立方抽样对历史数据中各个时段的负荷样本进行随机抽样，采用场景消减的方法对各个时段抽样得到的所述负荷样本进行消减，找出有代表性的若干场景，对各个时段的场景进行拼接，从而形成所述日负荷曲线场景集，所述负荷样本为用户不包含储能出力的基线负荷数据。3.根据权利要求1所述的一种分布式资源边缘自治控制方法，其特征在于，将用户匹配至相应的所述日负荷曲线场景集，具体包括：采用K-means方法对构建的所述日负荷曲线场景集进行分类，生成评估不同类型用户的参照；将在线运行的用户按照所述参照匹配至相应的所述日负荷曲线场景集，以使相似用户匹配到对应的所述日负荷曲线场景集中。4.根据权利要求1所述的一种分布式资源边缘自治控制方法，其特征在于，在用户的所述基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知，具体包括：将用户的所述基线负荷估计与总表数据相减得到用户安装的储能出力曲线，同时根据台区台账信息获取用户储能的安装容量；根据用户储能历史曲线，获取用户储能的电量最低参照点，将所述参照点结合所述储能出力曲线估计用户的储能电量；基于所估计的用户储能电量和储能处理曲线的斜率计算用户储能在不同电量下的可调速率；基于用户储能的安装容量、电量、不同电量下的可调速率以及用户储能的充放电时间对用户的储能状态进行实时感知。5.根据权利要求1所述的一种分布式资源边缘自治控制方法，其特征在于，通过电压灵敏度进行边缘侧资源自适应协调控制，具体包括：以可再生能源波动性最小为目标，以用户实时可用总容量、电池电量约束和充放电最大可持续时间为约束条件，通过电压灵敏度实现边缘侧资源自适应协调控制。6.一种分布式资源边缘自治控制系统，其特征在于，包括：场景集构建单元，用于基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集；用户负荷估计单元，用于将用户匹配至相应的所述日负荷曲线场景集，对场景集中各相似用户的出力进行加权获得用户此时的基线负荷估计；储能状态感知单元，用于在用户的所述基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知；边缘自治控制单元，用于基于实时感知结果和集群可调能力，通过电压灵敏度进行边缘侧资源自适应协调控制，以抑制可再生能源波动性。7.根据权利要求6所述的一种分布式资源边缘自治控制系统，其特征在于，在所述场景集构建单元中，基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集，具体包括：利用拉丁超立方抽样对历史数据中各个时段的负荷样本进行随机抽样，采用场景消减的方法对各个时段抽样得到的所述负荷样本进行消减，找出有代表性的若干场景，对各个时段的场景进行拼接，从而形成所述日负荷曲线场景集，所述负荷样本为用户不包含储能出力的基线负荷数据。8.根据权利要求6所述的一种分布式资源边缘自治控制系统，其特征在于，在所述用户负荷估计单元中，将用户匹配至相应的所述日负荷曲线场景集，具体包括：采用K-means方法对构建的所述日负荷曲线场景集进行分类，生成评估不同类型用户的参照；将在线运行的用户按照所述参照匹配至相应的所述日负荷曲线场景集，以使相似用户匹配到对应的所述日负荷曲线场景集中。9.根据权利要求6所述的一种分布式资源边缘自治控制系统，其特征在于，在所述储能状态感知单元中，在用户的所述基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知，具体包括：将用户的所述基线负荷估计与总表数据相减得到用户安装的储能出力曲线，同时根据台区台账信息获取用户储能的安装容量；根据用户储能历史曲线，获取用户储能的电量最低参照点，将所述参照点结合所述储能出力曲线估计用户的储能电量；基于所估计的用户储能电量和储能处理曲线的斜率计算用户储能在不同电量下的可调速率；基于用户储能的安装容量、电量、不同电量下的可调速率以及用户储能的充放电时间对用户的储能状态进行实时感知。10.根据权利要求6所述的一种分布式资源边缘自治控制系统，其特征在于，在所述边缘自治控制单元中，通过电压灵敏度进行边缘侧资源自适应协调控制，具体包括：以可再生能源波动性最小为目标，以用户实时可用总容量、电池电量约束和充放电最大可持续时间为约束条件，通过电压灵敏度实现边缘侧资源自适应协调控制。
说明书desc
技术领域本发明属于电力储能技术领域，具体涉及一种分布式资源边缘自治控制方法和系统。背景技术电力储能可以有效平衡发电和负荷，但由于需要长时间平衡发电与负荷，若不加合理控制，储能可能陷入频繁充放甚至深度放电，影响储能设备的使用寿命；在分布式能源运行费用中考虑储能设备的寿命损耗费用，以平衡分布式能源运行经济性和储能的设备寿命，可保证全电的全局经济性。结合接入边缘交互终端的海量异构数据，研究面向分布式资源集群的轻量化边缘控制技术，实现分布式资源集群在多应用场景、复杂耦合、出力波动性及响应行为不确定条件下的边缘自治和优化运行十分重要。发明内容有鉴于此，本发明旨在提供一种分布式资源边缘自治控制方法和系统，用于实现分布式资源集群在多应用场景、复杂耦合、出力波动性及响应行为不确定条件下的边缘自治和优化运行。为了实现上述技术效果，本发明提供以下技术方案：第一方面，本发明提供了一种分布式资源边缘自治控制方法，包括如下步骤：基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集；将用户匹配至相应的日负荷曲线场景集，对场景集中各相似用户的出力进行加权获得用户此时的基线负荷估计；在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知；基于实时感知结果和集群可调能力，通过电压灵敏度进行边缘侧资源自适应协调控制，以抑制可再生能源波动性。进一步的，基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集，具体包括：利用拉丁超立方抽样对历史数据中各个时段的负荷样本进行随机抽样，采用场景消减的方法对各个时段抽样得到的负荷样本进行消减，找出有代表性的若干场景，对各个时段的场景进行拼接，从而形成日负荷曲线场景集，负荷样本为用户不包含储能出力的基线负荷数据。进一步的，将用户匹配至相应的日负荷曲线场景集，具体包括：采用K-means方法对构建的日负荷曲线场景集进行分类，生成评估不同类型用户的参照；将在线运行的用户按照参照匹配至相应的日负荷曲线场景集，以使相似用户匹配到对应的日负荷曲线场景集中。进一步的，在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知，具体包括：将用户的基线负荷估计与总表数据相减得到用户安装的储能出力曲线，同时根据台区台账信息获取用户储能的安装容量；根据用户储能历史曲线，获取用户储能的电量最低参照点，将参照点结合储能出力曲线估计用户的储能电量；基于所估计的用户储能电量和储能处理曲线的斜率计算用户储能在不同电量下的可调速率；基于用户储能的安装容量、电量、不同电量下的可调速率以及用户储能的充放电时间对用户的储能状态进行实时感知。进一步的，通过电压灵敏度进行边缘侧资源自适应协调控制，具体包括：以可再生能源波动性最小为目标，以用户实时可用总容量、电池电量约束和充放电最大可持续时间为约束条件，通过电压灵敏度实现边缘侧资源自适应协调控制。第二方面，本发明提供了一种分布式资源边缘自治控制系统，包括：场景集构建单元，用于基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集；用户负荷估计单元，用于将用户匹配至相应的日负荷曲线场景集，对场景集中各相似用户的出力进行加权获得用户此时的基线负荷估计；储能状态感知单元，用于在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知；边缘自治控制单元，用于基于实时感知结果和集群可调能力，通过电压灵敏度进行边缘侧资源自适应协调控制，以抑制可再生能源波动性。进一步的，在场景集构建单元中，基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集，具体包括：利用拉丁超立方抽样对历史数据中各个时段的负荷样本进行随机抽样，采用场景消减的方法对各个时段抽样得到的负荷样本进行消减，找出有代表性的若干场景，对各个时段的场景进行拼接，从而形成日负荷曲线场景集，负荷样本为用户不包含储能出力的基线负荷数据。进一步的，在用户负荷估计单元中，将用户匹配至相应的日负荷曲线场景集，具体包括：采用K-means方法对构建的日负荷曲线场景集进行分类，生成评估不同类型用户的参照；将在线运行的用户按照参照匹配至相应的日负荷曲线场景集，以使相似用户匹配到对应的日负荷曲线场景集中。进一步的，在储能状态感知单元中，在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知，具体包括：将用户的基线负荷估计与总表数据相减得到用户安装的储能出力曲线，同时根据台区台账信息获取用户储能的安装容量；根据用户储能历史曲线，获取用户储能的电量最低参照点，将参照点结合储能出力曲线估计用户的储能电量；基于所估计的用户储能电量和储能处理曲线的斜率计算用户储能在不同电量下的可调速率；基于用户储能的安装容量、电量、不同电量下的可调速率以及用户储能的充放电时间对用户的储能状态进行实时感知。进一步的，在边缘自治控制单元中，通过电压灵敏度进行边缘侧资源自适应协调控制，具体包括：以可再生能源波动性最小为目标，以用户实时可用总容量、电池电量约束和充放电最大可持续时间为约束条件，通过电压灵敏度实现边缘侧资源自适应协调控制。综上，本发明提供了一种分布式资源边缘自治控制方法和系统，包括基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集；将用户匹配至相应的日负荷曲线场景集，对场景集中各相似用户的出力进行加权获得用户此时的基线负荷估计；在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知；基于实时感知结果和集群可调能力，通过电压灵敏度进行边缘侧资源自适应协调控制，以抑制可再生能源波动性。本发明通过将用户用电数据分解为纯负荷与储能出力数据，接着结合分解的储能出力曲线与储能信息实现储能状态的实时感知，通过电压灵敏度实现了边缘侧资源的自适应协调控制。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它的附图。图1为本发明实施例提供的一种分布式资源边缘自治控制方法的流程框图；图2是本发明实施例提供的一种分布式资源边缘自治控制系统的框架结构图。具体实施方式为使得本发明的目的、特征、优点能够更加的明显和易懂，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，下面所描述的实施例仅仅是本发明一部分实施例，而非全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。电力储能可以有效平衡发电和负荷，但由于需要长时间平衡发电与负荷，若不加合理控制，储能可能陷入频繁充放甚至深度放电，影响储能设备的使用寿命；在分布式能源运行费用中考虑储能设备的寿命损耗费用，以平衡分布式能源运行经济性和储能的设备寿命，可保证全电的全局经济性。结合接入边缘交互终端的海量异构数据，研究面向分布式资源集群的轻量化边缘控制技术，实现分布式资源集群在多应用场景、复杂耦合、出力波动性及响应行为不确定条件下的边缘自治和优化运行十分重要。基于此，本发明提供了一种分布式资源边缘自治控制方法和系统。以下对本发明的一种分布式资源边缘自治控制方法的实施例进行详细的介绍。请参阅图1，本发明实施例提供一种分布式资源边缘自治控制方法，包括如下步骤：S100：基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集。需要说明的是，基线负荷是指根据用户的历史负荷数据估算得到的1条负荷曲线，体现出用户本身的用电需求。对于用户历史负荷数据，利用拉丁超立方抽样技术对历史数据中各个时段的负荷样本进行随机抽样。负荷典型场景如式所示。式中：、为场景下在时段负荷的实际值与预测值；为负荷预测偏差。考虑到上述生成的初始场景集规模较大，本节采用启发式同步回代法对生成的场景进行削减，提炼出典型场景及其概率，在抽样场景数的前提下设定削减目标场景数，削减过程中的场景数，具体步骤如下：步骤1：计算种场景中任意两个场景之间的欧式距离；步骤2：确定与场景距离最近的场景，将场景的出现概率与场景和之间的欧式距离相乘，得到概率距离；步骤3：找出使概率距离值最小的场景对；步骤4：令，在更新场景概率的同时削减场景；步骤5：令，更新削减过程中的场景数；式中为值最小的场景对的个数；步骤6：返回步骤1，直至结束削减。如果分别对不确定变量单独削减，生成各不确定变量典型场景集及概率：式中：、、、、分别为光伏、负荷抽样生成的场景集；、、、；分别为光伏、负荷削减后第个场景；、、、、分别为光伏、负荷削减后第个场景发生概率；将各不确定变量典型场景集及概率组合可以得到单独削减方式下系统典型场景集及概率：由式不难发现，随着不确定变量数量的增加，采用单独削减方式所生成的优化调度典型场景集数量成指数倍增加，大大的增加了系统复杂度和计算时间，所以本节采用集中削减的方式处理场景集。将各不确定变量拉丁超立方抽样得到的场景集组合可以得到集中削减方式下系统抽样场景集，然后采用启发式同步回代法对其进行集中削减得到系统典型场景集及概率：式中：为集中削减方式下系统抽样场景集；、、、、分别为光伏、负荷抽样生成的第、、、、个场景；为集中削减方式下得到的第个典型场景及其概率。采用集中削减方式后所生成的优化调度典型场景集数量人为可调，降低了后续优化调度复杂度和计算时间，但是考虑到削减前将各不确定变量拉丁超立方抽样场景集组合得到的系统抽样场景集中没有考虑各个不确定变量的量纲、取值范围等因素对集中削减得到的典型场景集及概率的影响，对集中削减方式进行改进，提出了改进集中削减方式处理场景集。采用场景消减方法对各个时段抽样得到的负荷样本进行消减，找出有代表性的若干场景，对各个时段场景进行拼接，从而形成日负荷曲线场景集。值得注意的是，本实施例中用于构建日负荷曲线场景集的基线负荷数据是纯负荷数据，不包含用户的储能出力。S200：将用户匹配至相应的日负荷曲线场景集，对场景集中各相似用户的出力进行加权获得用户此时的基线负荷估计。需要说明的是，智能电表的不断普及使更广泛更细粒度地采集用户用电数据成为可能。可以根据其用电行为挖掘用户更多的信息，比如家庭组成、家用电器等，将在需求响应、负荷预测、商业推广等方面实现价值创造。而聚类技术作为机器学习中具有代表性的无监督学习方法，能够对负荷曲线进行整理归类，把具有相似特点的曲线聚类一类，把差异较大的曲线进行分离，从而识别典型的用电模式，为后期的分析与应用提供基础。具体包含以下步骤。步骤1：采用k-means方法对构建的日负荷曲线场景集进行分类，从而生成用于评估不同类型用户的参照，k-means方法包含以下步骤。Step 1：随机初始化K个聚类中心点，并计算数据中每个点到K个聚类中心点的距离；Step 2：将每个数据点分到距离聚类中心点最近的聚类中心中；Step 3：针对每个类别重新计算聚类中心；Step 4：重复上面的Step 2、3，直到达到预先设置的停止条件。步骤2：根据该参照，即可将在线运行时的用户匹配至相似的场景集中。然后再将同一场景集中的各相似用户的出力进行加权获得用户此时的基线负荷估计。将S100得到的场景集进行归一化操作后组合得到改进集中削减方式下系统抽样场景集，然后采用启发式同步回代法对其进行改进集中削减得到系统典型场景集及权重：式中：为改进集中削减方式下系统抽样场景集；、、、、、、、、、分别为光伏、负荷生成的抽样场景集中功率最大值及最小值；为改进集中削减方式下得到的第个典型场景及其权重。S300：在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知。步骤1：在用户基线负荷估计的基础上，将其与总表数据相减得到用户安装的储能出力曲线，如式所示，根据台区台账信息可以获取各用户储能的安装容量。式中：表示用户安装的储能出力曲线，和分别表示总表数据与用户基线负荷曲线。步骤2：根据用户的储能历史曲线，可以获取用户储能的电量最低参照点，并定期对由于估计产生的参照点误差进行修正，根据参照点再结合储能出力曲线，实现对用户储能电量的实时感知。步骤3：结合用户历史信息中估计的储能电量与储能出力曲线斜率，完成对用户储能在不同电量下的可调速率的感知，且在用户基线负荷估计的基础上，通过各用户储能的安装容量、储能电量、用户储能在不同电量下的可调速率以及用户储能的充放电时间构建用户储能状态感知模型。S400：基于实时感知结果和集群可调能力，通过电压灵敏度进行边缘侧资源自适应协调控制，以抑制可再生能源波动性。步骤1：基于实时感知结果和集群可调能力等值模型，考虑用户实时可用总容量、电池电量约束、充放电最大可持续时间等约束条件，通过电压灵敏度实现边缘侧资源自适应协调控制，抑制可再生能源波动性，考虑灵敏度计算和集群等值误差。电压灵敏度的近似表达式如下所示：式中：SU-P为有功-电压灵敏度，SU-Q为无功-电压灵敏度；G是电导，B是电纳；P是有功，Q是无功。步骤2：通过神经网络模型辅助决策在线修正灵敏度，减小调节误差，实现最优控制。本实施例构建的神经网络模型包含输入层、隐藏层和输出层，以最小化训练误差为目标，通过模型训练确定隐藏层输出权重，如下式所示。式中：H为隐藏层输出矩阵，β为输出权重矩阵，U为期望输出矩阵。本实施例提供了一种分布式资源边缘自治控制方法，包括基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集；将用户匹配至相应的日负荷曲线场景集，对场景集中各相似用户的出力进行加权获得用户此时的基线负荷估计；在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知；基于实时感知结果和集群可调能力，通过电压灵敏度进行边缘侧资源自适应协调控制，以抑制可再生能源波动性。本实施例提供的边缘自治控制方法通过将用户用电数据分解为纯负荷与储能出力数据，接着结合分解的储能出力曲线与储能信息实现储能状态的实时感知，通过电压灵敏度实现了边缘侧资源的自适应协调控制。以上是对本发明的一种分布式资源边缘自治控制方法的实施例进行的详细介绍，以下将对本发明的一种分布式资源边缘自治控制系统的实施例进行详细的介绍。请参阅图2，本实施例提供一种分布式资源边缘自治控制系统，包括：场景集构建单元、用户负荷估计单元、储能状态感知单元和边缘自治控制单元。在本实施例中，场景集构建单元用于基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集。在场景集构建单元中，基于用户不包含储能出力的基线负荷数据构建日负荷曲线场景集，具体包括：利用拉丁超立方抽样对历史数据中各个时段的负荷样本进行随机抽样，采用场景消减的方法对各个时段抽样得到的负荷样本进行消减，找出有代表性的若干场景，对各个时段的场景进行拼接，从而形成日负荷曲线场景集，负荷样本为用户不包含储能出力的基线负荷数据。在本实施例中，用户负荷估计单元用于将用户匹配至相应的日负荷曲线场景集，对场景集中各相似用户的出力进行加权获得用户此时的基线负荷估计。在用户负荷估计单元中，将用户匹配至相应的日负荷曲线场景集，具体包括：采用K-means方法对构建的日负荷曲线场景集进行分类，生成评估不同类型用户的参照；将在线运行的用户按照参照匹配至相应的日负荷曲线场景集，以使相似用户匹配到对应的日负荷曲线场景集中。在本实施例中，储能状态感知单元用于在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知。在储能状态感知单元中，在用户的基线负荷估计的基础上计算用户安装的储能出力曲线，同时结合用户储能的安装容量对用户储能状态进行实时感知，具体包括：将用户的基线负荷估计与总表数据相减得到用户安装的储能出力曲线，同时根据台区台账信息获取用户储能的安装容量；根据用户储能历史曲线，获取用户储能的电量最低参照点，将参照点结合储能出力曲线估计用户的储能电量；基于所估计的用户储能电量和储能处理曲线的斜率计算用户储能在不同电量下的可调速率；基于用户储能的安装容量、电量、不同电量下的可调速率以及用户储能的充放电时间对用户的储能状态进行实时感知。在本实施例中，边缘自治控制单元用于基于实时感知结果和集群可调能力，通过电压灵敏度进行边缘侧资源自适应协调控制，以抑制可再生能源波动性。在边缘自治控制单元中，通过电压灵敏度进行边缘侧资源自适应协调控制，具体包括：以可再生能源波动性最小为目标，以用户实时可用总容量、电池电量约束和充放电最大可持续时间为约束条件，通过电压灵敏度实现边缘侧资源自适应协调控制。需要说明的是，本实施例提供的分布式资源边缘自治控制系统用于实现前述实施例提供的控制方法，各单元的具体设置均以完整实现该方法为准，在此不再赘述。以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
