标题title
一种基于嵌入式的骨传导助听设备及系统
摘要abst
本发明提供了一种基于嵌入式的骨传导助听设备，包括语谱图生成模块、预处理模块、场景确定模块、降噪模块，生成当前语谱图，对当前语谱图进行平滑处理，基于微处理器的利用率和内存的利用率计算得到权重，根据权重判断是否进行下采样，如果是，则获得与权重对应的下采用的窗口大小和步长，根据窗口大小和步长对当前语谱图和预设语谱图集中的语谱图进行平均池化下采样；按照预设方式计算预处理后的当前语谱图与预处理后的每个预设语谱图集的相似度，确定当前所处的环境；调用与当前的场景对应的降噪方法和/或降噪参数对语音信号进行降噪处理。本发明能够利用有限的嵌入式资源提高骨传导助听设备的效果。
权利要求书clms
1.一种基于嵌入式的骨传导助听设备，所述助听设备至少包括微处理器、内存，所述助听设备采用FreeRTOS作为操作系统；其特征在于，所述设备还包括以下模块：语谱图生成模块，用于在满足预设条件时对语音信号进行分帧，并生成当前语谱图；预处理模块，用于对所述当前语谱图进行平滑处理，基于所述微处理器的利用率和所述内存的利用率计算得到权重，根据所述权重判断是否进行下采样，如果是，则获得与权重对应的下采用的窗口大小和步长，根据所述窗口大小和所述步长对所述当前语谱图和预设语谱图集中的语谱图进行平均池化下采样；场景确定模块，用于按照预设方式计算预处理后的当前语谱图与预处理后的每个预设语谱图集的相似度，基于所述相似度确定当前所处的环境；所述当前所处的环境为预先设置的多个使用场景之一，每个使用场景对应一个预设语谱图集；降噪模块，用于调用与当前所处的场景对应的降噪方法和/或降噪参数对语音信号进行降噪处理。2.如权利要求1所述的设备，其特征在于，所述骨传导助听设备还包括模式切换按键和场景切换按键，所述模式切换按键用于在正常模式和降噪模式间进行切换，所述场景切换按键用于在不同场景间切换，所述场景切换按键在所述设备处于降噪模式时可用。3.如权利要求1所述的设备，其特征在于，所述基于所述微处理器的利用率和所述内存的利用率计算得到权重，具体为：获取FreeRTOS的空闲任务在预设时间段内占用的时间，计算所述占用的时间与所述预设时间段的比值r，将1-r作为微处理器的利用率；获取内存的利用率；得到所述微处理器的利用率和所述内存的利用率的最大值Max，将作为所述权重，其中/＞表示向上取整。4.如权利要求1所述的设备，其特征在于，所述按照预设方式计算当前语谱图与每个预设语谱图集的相似度，具体为：对于所述预设语谱图集中的每一个预设语谱图，执行如下操作：将所述当前语谱图与预设语谱图重叠，计算重叠部分的契合度，然后，将所述当前语谱图沿时间方向移动T/2N的距离，再次计算重叠部分的契合度，直到移动N次，得到N+1个契合度，将N+1个契合度中最大值作为当前语谱图与预设语谱图的相似度；其中，N为正整数；将当前语谱图与所述预设语谱图集中每个预设语谱图的相似度的平均值作为当前语谱图与所述预设语谱图集的相似度。5.如权利要求4所述的设备，其特征在于，所述契合度的计算方式为：根据公式计算契合度，其中M为重叠部分的像素点数，/＞为所述当前语谱图的像素点的值，p为所述预设语谱图的像素点的值，表示重叠部分像素点的坐标。6.一种应用于骨传导助听设备的降噪方法，其特征在于，所述方法包括以下步骤：步骤1，在满足预设条件时对语音信号进行分帧，并生成当前语谱图；步骤2，对所述当前语谱图进行平滑处理，基于所述微处理器的利用率和所述内存的利用率计算得到权重，根据所述权重判断是否进行下采样，如果是，则获得与权重对应的下采用的窗口大小和步长，根据所述窗口大小和所述步长对所述当前语谱图和预设语谱图集中的语谱图进行平均池化下采样；步骤3，按照预设方式计算预处理后的当前语谱图与预处理后的每个预设语谱图集的相似度，基于所述相似度确定当前所处的环境；所述当前所处的环境为预先设置的多个使用场景之一，每个使用场景对应一个预设语谱图集；步骤4，调用与当前所处的场景对应的降噪方法和/或降噪参数对语音信号进行降噪处理。7.如权利要求6所述的方法，其特征在于，所述基于所述微处理器的利用率和所述内存的利用率计算得到权重，具体为：获取FreeRTOS的空闲任务在预设时间段内占用的时间，计算所述占用的时间与所述预设时间段的比值r，将1-r作为微处理器的利用率；获取内存的利用率；得到所述微处理器的利用率和所述内存的利用率的最大值Max，将作为所述权重，其中/＞表示向上取整。8.如权利要求6所述的方法，其特征在于，所述按照预设方式计算当前语谱图与每个预设语谱图集的相似度，具体为：对于所述预设语谱图集中的每一个预设语谱图，执行如下操作：将所述当前语谱图与预设语谱图重叠，计算重叠部分的契合度，然后，将所述当前语谱图沿时间方向移动T/2N的距离，再次计算重叠部分的契合度，直到移动N次，得到N+1个契合度，将N+1个契合度中最大值作为当前语谱图与预设语谱图的相似度；其中，N为正整数；将当前语谱图与所述预设语谱图集中每个预设语谱图的相似度的平均值作为当前语谱图与所述预设语谱图集的相似度。9.如权利要求8所述的方法，其特征在于，所述契合度的计算方式为：根据公式计算契合度，其中M为重叠部分的像素点数，/＞为所述当前语谱图的像素点的值，p为所述预设语谱图的像素点的值，表示重叠部分像素点的坐标。10.一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，其特征在于，所述计算机程序被处理器运行时实现如权利要求6-9任一项所述的方法。
说明书desc
技术领域本发明涉及骨传导领域，尤其涉及基于嵌入式的骨传导助听设备及系统。背景技术听觉是指人体听觉器官受到外界声音刺激而产生的感觉，是人类五大感官之一，而且是人与人沟通重要方式。但是听觉器官也是很脆弱的器官，一旦受到损伤很难自行修复，随着年龄的增大，听力水平也会下降，老人和儿童是听力障碍的高发人群。对于具有听力障碍的人来说，佩戴助听器是恢复听力的一个重要且有效的方式。助听器主要是采集外界的声音，经过处理后，让患者能够听到声音。助听器按照佩戴位置可以分为耳背式助听器、耳内式助听器、耳道式助听器等，这些助听器的原理是将声音信号转换为电信号，对电信号进行处理，然后再匹配输出。此外，还有骨传导助听器，和传统的助听器不同，其主要原理是将声音信号转换为振动，通过颅骨振动让患者感知声音，其采用的传输介质为人体骨骼。相对于传统助听器，骨传导助听器不会经过耳道，这也就不会加剧听觉损伤，也不会对耳道造成伤害，尤其适用于传导性听障人员。但是也正是骨传导的特点决定了它缺点，通过骨骼传输声音，音质以及清晰度等普遍没有传统助听器高，而且骨传导耳机属于佩戴设备，自身资源有限，如何能够在有限的资源下进行语音增强等是骨传导助听器研究的重点。发明内容为了提高助听设备佩戴者的体验，在第一方面，本发明提供了一种基于嵌入式的骨传导助听设备，所述助听设备至少包括微处理器、内存，所述助听设备采用FreeRTOS作为操作系统；所述设备还包括以下模块：语谱图生成模块，用于在满足预设条件时对语音信号进行分帧，并生成当前语谱图；预处理模块，用于对所述当前语谱图进行平滑处理，基于所述微处理器的利用率和所述内存的利用率计算得到权重，根据所述权重判断是否进行下采样，如果是，则获得与权重对应的下采用的窗口大小和步长，根据所述窗口大小和所述步长对所述当前语谱图和预设语谱图集中的语谱图进行平均池化下采样；场景确定模块，用于按照预设方式计算预处理后的当前语谱图与预处理后的每个预设语谱图集的相似度，基于所述相似度确定当前所处的环境；所述当前所处的环境为预先设置的多个使用场景之一，每个使用场景对应一个预设语谱图集；降噪模块，用于调用与当前所处的场景对应的降噪方法和/或降噪参数对语音信号进行降噪处理。优选地，所述骨传导助听设备还包括模式切换按键和场景切换按键，所述模式切换按键用于在正常模式和降噪模式间进行切换，所述场景切换按键用于在不同场景间切换，所述场景切换按键在所述设备处于降噪模式时可用。优选地，所述基于所述微处理器的利用率和所述内存的利用率计算得到权重，具体为：获取FreeRTOS的空闲任务在预设时间段内占用的时间，计算所述占用的时间与所述预设时间段的比值r，将1-r作为微处理器的利用率；获取内存的利用率；得到所述微处理器的利用率和所述内存的利用率的最大值Max，将作为所述权重，其中/＞表示向上取整。优选地，所述按照预设方式计算当前语谱图与每个预设语谱图集的相似度，具体为：对于所述预设语谱图集中的每一个预设语谱图，执行如下操作：将所述当前语谱图与预设语谱图重叠，计算重叠部分的契合度，然后，将所述当前语谱图沿时间方向移动T/2N的距离，再次计算重叠部分的契合度，直到移动N次，得到N+1个契合度，将N+1个契合度中最大值作为当前语谱图与预设语谱图的相似度；其中，N为正整数；将当前语谱图与所述预设语谱图集中每个预设语谱图的相似度的平均值作为当前语谱图与所述预设语谱图集的相似度。优选地，所述契合度的计算方式为：根据公式计算契合度，其中M为重叠部分的像素点数，/＞为所述当前语谱图的像素点的值，p为所述预设语谱图的像素点的值，表示重叠部分像素点的坐标。另外本发明提供了一种应用于骨传导助听设备的降噪方法，所述方法包括以下步骤：步骤1，在满足预设条件时对语音信号进行分帧，并生成当前语谱图；步骤2，对所述当前语谱图进行平滑处理，基于所述微处理器的利用率和所述内存的利用率计算得到权重，根据所述权重判断是否进行下采样，如果是，则获得与权重对应的下采用的窗口大小和步长，根据所述窗口大小和所述步长对所述当前语谱图和预设语谱图集中的语谱图进行平均池化下采样；步骤3，按照预设方式计算预处理后的当前语谱图与预处理后的每个预设语谱图集的相似度，基于所述相似度确定当前所处的环境；所述当前所处的环境为预先设置的多个使用场景之一，每个使用场景对应一个预设语谱图集；步骤4，调用与当前所处的场景对应的降噪方法和/或降噪参数对语音信号进行降噪处理。优选地，所述骨传导助听设备还包括模式切换按键和场景切换按键，所述模式切换按键用于在正常模式和降噪模式间进行切换，所述场景切换按键用于在不同场景间切换，所述场景切换按键在所述设备处于降噪模式时可用。优选地，所述基于所述微处理器的利用率和所述内存的利用率计算得到权重，具体为：获取FreeRTOS的空闲任务在预设时间段内占用的时间，计算所述占用的时间与所述预设时间段的比值r，将1-r作为微处理器的利用率；获取内存的利用率；得到所述微处理器的利用率和所述内存的利用率的最大值Max，将作为所述权重，其中/＞表示向上取整。优选地，所述按照预设方式计算当前语谱图与每个预设语谱图集的相似度，具体为：对于所述预设语谱图集中的每一个预设语谱图，执行如下操作：将所述当前语谱图与预设语谱图重叠，计算重叠部分的契合度，然后，将所述当前语谱图沿时间方向移动T/2N的距离，再次计算重叠部分的契合度，直到移动N次，得到N+1个契合度，将N+1个契合度中最大值作为当前语谱图与预设语谱图的相似度；其中，N为正整数；将当前语谱图与所述预设语谱图集中每个预设语谱图的相似度的平均值作为当前语谱图与所述预设语谱图集的相似度。优选地，所述契合度的计算方式为：根据公式计算契合度，其中M为重叠部分的像素点数，/＞为所述当前语谱图的像素点的值，p为所述预设语谱图的像素点的值，表示重叠部分像素点的坐标。最后，本发明提供了一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器运行时实现如上所述的方法。现有的骨传导助听设备虽然给用户带来了很大方便，让失聪人员也能听到声音，但是由于骨传导的特点，导致听到的声音噪声较大，而且无论在什么场合都是采用相同的降噪方法，会出现在一些场景中降噪效果很好，但是在另外一些场景中效果不好，本发明针对该问题，提出了一种新的基于嵌入式的骨传导助听设备，具体地，可以根据佩戴者所处场合自动适配对应的降噪方法，而且只有在满足预设条件时，才会进行场景的判断和识别，不会一直占用过多资源。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为实施例一的结构图；图2为当前语谱图相对预设语谱图移动过程；图3为实施例二的流程图。具体实施方式在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在第一方面，本发明提供了一种基于嵌入式的骨传导助听设备，所述助听设备至少包括微处理器、内存，所述助听设备采用FreeRTOS作为操作系统；在一个具体实施例中，所述骨传导助听设备还包括电源、蓝牙等。图1示出了基于嵌入式的骨传导助听设备的简易结构图，如图1所示，麦克风101采集语音后，经过ADC将模拟信号转换为数字信息，然后经过微处理器103的处理，最后通过骨传导振子104进行输出。所述设备还包括以下模块：语谱图生成模块，用于在满足预设条件时对语音信号进行分帧，并生成当前语谱图；语音通过采集器例如麦克风采集后，会将模拟信号转换为数字信号，由于声音是一个持续过程，对于语音信号的分析、特征提取等需要对语音信号进行分帧，使用窗函数加载时域上，优选地，所述窗函数为汉明窗或者汉宁窗，然后对每个语音帧进行傅里叶变换，得到频谱图，通过频谱图得到语谱图，语谱图的横坐标为时间，纵坐标为频率，像素点的值表示频率的幅度，幅度越大，像素点的值越大。在一个具体实施例中，所述预设条件为每隔预定时间，或者每隔预定时间判断当前的语音的每个频率与前一个时间点的语音的每个频率的幅度的差值的绝对值之和，如果所述和大于设定的值，证明当前时刻和前一个时间点的语音环境有较大变化，则触发分帧、生成当前语谱图以及后续的预处理模块、场景确定模块、降噪模块的执行；其中所述前一个时间点与当前时间的差为所述预定时间。也即如果预定时间为T1，当前时间为t，则前一个时间点为t-T1。其中，每个频率的差值是将语音进行傅里叶变换后，得到多个频率，当前时刻的频率与前一个时间点的语音的相同的频率的幅度的差值的绝对值，计算所有频率的绝对值之和。预处理模块，用于对所述当前语谱图进行平滑处理，基于所述微处理器的利用率和所述内存的利用率计算得到权重，根据所述权重判断是否进行下采样，如果是，则获得与权重对应的下采用的窗口大小和步长，根据所述窗口大小和所述步长对所述当前语谱图和预设语谱图集中的语谱图进行平均池化下采样；语谱图是有多个频谱图组成，语谱图中会有明显的割裂，对其平衡处理可以降低割裂对后续的分析。平滑处理的方式，例如采用均值滤波、中值滤波或者高斯滤波等。由于嵌入式系统的处理器资源和内存资源都有限，如果语谱图过大则会产生顿挫感，基于此，本发明还根据微处理器的利用率和内存的利用率得到权重，根据权重判断是否对语谱图进行下采样，权重的计算可以采用多种方法，一个示例为对微处理器的利用率和内存的利用率进行加权求和，也可以采用其他方式。如果利用率越高，表明当前嵌入式系统的负载越重，则需要下采样的窗口和步长需要更大点，反之亦然。在一个具体实施例中，预先设置权重和窗口大小、步长的对应关系，例如权重为1设置窗口大小为2×2，步长为1，权重为2设置窗口大小为3×3，步长为2，这里具体的对应关系根据微处理器的性能核内存的大小决定。后续需要将当前语谱图和预设语谱图集进行匹配，二者的语谱图尺寸需要保持一致，同样地，需要采用同样的方式对预设语谱图集中的语谱图进行平均池化下采样。在本发明中，所有的语谱图都是灰度图。在本发明中，当前语谱图和预设语谱图只是用于区分两类不同的语谱图，也可以表述为第一语谱图和第二语谱图，其中，第一语谱图是待确定场景的语谱图，第二语谱图为场景对应的预设的语谱图。场景确定模块，用于按照预设方式计算预处理后的当前语谱图与预处理后的每个预设语谱图集的相似度，基于所述相似度确定当前所处的环境；所述当前所处的环境为预先设置的多个使用场景之一，每个使用场景对应一个预设语谱图集；骨传导助听设备的佩戴者所处的场所不同，噪声也不同，所述场景包括但不限于地铁、商场、游乐场、办公室、运动，这些场景中有不同的声音，也就会产生不同的噪声，对于每个场景设置一个预设语谱图集，如下表1所示：表1每个预设语谱图集包括若干个预设语谱图，如表1所示，地铁对应的预设语谱图集Spec_A包含了4个预设语谱图。分别计算当前语谱图与Spec_A中的4个预设语谱图的相似度，进而得到与Spec_A的相似度，如果最后计算得到当前语谱图与地铁、商场、游乐场、办公室、运动的语谱图集的相似度分别为1、4、5、2、2，则可以确定当前所处的环境或者场景为游乐场，然后采用与游乐场对应的降噪方法对语音信号进行降噪处理。降噪模块，用于调用与当前所处的场景对应的降噪方法和/或降噪参数对语音信号进行降噪处理。在一个具体实施例中，每个场景对应一个降噪方法，一个降噪方法包括至少一个降噪task；在另外一个实施例中，所有场景采用相同的降噪方法，但是降噪的参数不同，也即每个场景对应一组降噪参数，不同的降噪参数对不同的噪声的抑制作用不同；在另外一个实施例中，每个场景对应一个降噪方法和一组降噪参数，所述一个降噪方法包括至少一个降噪task，所述一组降噪参数包括至少一个降噪参数。降噪方式有多种，例如谱减法、维纳滤波法、自适应滤波器或者神经网络进行降噪。在一个具体实施例中，所述骨传导助听设备还包括模式切换按键和场景切换按键，所述模式切换按键用于在正常模式和降噪模式间进行切换，所述场景切换按键用于在不同场景间切换，所述场景切换按键在所述设备处于降噪模式时可用。当用户开启降噪模式时，才会进行场景的判断以及采用与场景对应的降噪方法和或降噪参数对语音进行降噪，也即开启降噪模式是执行降噪的前提条件。由于可能系统自身无法准确确定当前的场景，本发明的基于嵌入式的骨传导助听设备还设置了场景切换按键，用于人工在多个场景中进行选择，例如当前所处场景为办公室，但是系统判断为商场，则需要用户手动通过场景切换按键进行切换，这样更为便于用户使用。权重的计算方式有多种，如上述所述的利用加权平均，但是这样无法反应微处理器和内存各自的情况，在一个实施例中，所述基于所述微处理器的利用率和所述内存的利用率计算得到权重，具体为：获取FreeRTOS的空闲任务在预设时间段内占用的时间，计算所述占用的时间与所述预设时间段的比值r，将1-r作为微处理器的利用率；获取内存的利用率；得到所述微处理器的利用率和所述内存的利用率的最大值Max，将作为所述权重，其中/＞表示向上取整。FreeRTOS没有直接的函数可以调用以得到微处理器的利用率，但是空闲任务可以反应微处理器的负载，本发明将1-r作为微处理器的利用率，然后计算微处理器的利用率和内存的利用率，二者的最大值，例如微处理器的利用率为40％，内存的利用率为30％，最大值Max＝40％，权重为2。在一个具体实施例中，所述按照预设方式计算当前语谱图与每个预设语谱图集的相似度，具体为：对于所述预设语谱图集中的每一个预设语谱图，执行如下操作：将所述当前语谱图与预设语谱图重叠，计算重叠部分的契合度，然后，将所述当前语谱图沿时间方向移动T/2N的距离，再次计算重叠部分的契合度，直到移动N次，得到N+1个契合度，将N+1个契合度中最大值作为当前语谱图与预设语谱图的相似度；其中，N为正整数，T为当前语谱图横当最左侧位于原点时，最右端时间坐标大小，也即T表示当前语谱图的时间大小或者说T表示当前语谱图的时间宽度。优选地，N为当前语谱图中对应分帧个数的一半。例如当前语谱图对应为4个语音信号分帧的语谱图，则优选N＝2。图2示出了当前语谱图在预设语谱图上移动过程。将当前语谱图与所述预设语谱图集中每个预设语谱图的相似度的平均值作为当前语谱图与所述预设语谱图集的相似度。其中，所述契合度的计算方式为：根据公式计算契合度，其中M为重叠部分的像素点数，/＞为所述当前语谱图的像素点的值，p为所述预设语谱图的像素点的值，表示重叠部分像素点的坐标。契合度越小说明两个语谱图同一个位置，也即相同频率的幅度越相近，这两个语谱图也就越相似，但是由于语谱图是由分帧的频谱组成，会出现二者错位的可能，本发明多次移动当前语谱图，将多个重叠部分契合度最小值作为当前语谱图与预设语谱图的相似度，然后将当前语谱图与预设语谱图集中所有预设语谱图的相似度的平均值作为当前语谱图与预设语谱图集的相似度。另外本发明提供了一种应用于骨传导助听设备的降噪方法，如图3所示，所述方法包括以下步骤：步骤1，在满足预设条件时对语音信号进行分帧，并生成当前语谱图；步骤2，对所述当前语谱图进行平滑处理，基于所述微处理器的利用率和所述内存的利用率计算得到权重，根据所述权重判断是否进行下采样，如果是，则获得与权重对应的下采用的窗口大小和步长，根据所述窗口大小和所述步长对所述当前语谱图和预设语谱图集中的语谱图进行平均池化下采样；步骤3，按照预设方式计算预处理后的当前语谱图与预处理后的每个预设语谱图集的相似度，基于所述相似度确定当前所处的环境；所述当前所处的环境为预先设置的多个使用场景之一，每个使用场景对应一个预设语谱图集；步骤4，调用与当前所处的场景对应的降噪方法和/或降噪参数对语音信号进行降噪处理。优选地，所述骨传导助听设备还包括模式切换按键和场景切换按键，所述模式切换按键用于在正常模式和降噪模式间进行切换，所述场景切换按键用于在不同场景间切换，所述场景切换按键在所述设备处于降噪模式时可用。优选地，所述基于所述微处理器的利用率和所述内存的利用率计算得到权重，具体为：获取FreeRTOS的空闲任务在预设时间段内占用的时间，计算所述占用的时间与所述预设时间段的比值r，将1-r作为微处理器的利用率；获取内存的利用率；得到所述微处理器的利用率和所述内存的利用率的最大值Max，将作为所述权重，其中/＞表示向上取整。优选地，所述按照预设方式计算当前语谱图与每个预设语谱图集的相似度，具体为：对于所述预设语谱图集中的每一个预设语谱图，执行如下操作：将所述当前语谱图与预设语谱图重叠，计算重叠部分的契合度，然后，将所述当前语谱图沿时间方向移动T/2N的距离，再次计算重叠部分的契合度，直到移动N次，得到N+1个契合度，将N+1个契合度中最大值作为当前语谱图与预设语谱图的相似度；其中，N为正整数。将当前语谱图与所述预设语谱图集中每个预设语谱图的相似度的平均值作为当前语谱图与所述预设语谱图集的相似度。优选地，所述契合度的计算方式为：根据公式计算契合度，其中M为重叠部分的像素点数，/＞为所述当前语谱图的像素点的值，p为所述预设语谱图的像素点的值，表示重叠部分像素点的坐标。最后，本发明提供了一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器运行时实现如上所述的方法。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助加必需的通用硬件平台的方式来实现，当然也可以通过硬件和软件结合的方式来实现。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以计算机产品的形式体现出来，本发明可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
