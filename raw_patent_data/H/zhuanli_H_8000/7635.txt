标题title
一种光伏联动通风天窗
摘要abst
本申请涉及一种光伏联动通风天窗，其包括天窗本体、驱动组件、光伏组件、室内环境监测组件、室外环境监测组件和天窗联动控制器；天窗本体包括天窗框架、嵌设在天窗框架上的固定窗和滑动设置在天窗框架上的移动窗；驱动组件用于带动移动窗在天窗框架上滑动，控制天窗本体开合；光伏组件包括多片太阳能电池片、充电控制器、光伏逆变器和蓄电池，且多片太阳能电池片分布嵌设在固定窗和移动窗上，所述天窗驱动组件与蓄电池连接；室内环境监测组件用于实时获取室内环境信息。室外环境监测组件用于实时获取室外环境信息。本申请能够有效提高用户房屋居住舒适度和智能度的效果。
权利要求书clms
1.一种光伏联动通风天窗，其特征在于，包括：天窗本体，包括天窗框架、嵌设在天窗框架上的固定窗和滑动设置在天窗框架上的移动窗；驱动组件，用于带动移动窗在天窗框架上滑动，控制天窗本体开合；光伏组件，包括多片太阳能电池片、充电控制器、光伏逆变器和蓄电池，且多片所述太阳能电池片分布嵌设在固定窗和移动窗上，所述天窗驱动组件与蓄电池连接；室内环境监测组件，用于实时获取室内环境信息，所述室内环境信息包括空气温湿度信息、体感温度信息、风速信息、空气质量信息、光照强度信息和噪音信息，所述空气质量信息包括甲醛浓度信息、TVOC浓度信息、二氧化碳浓度信息、一氧化碳浓度信息和PM2.5浓度信息；室外环境监测组件，用于实时获取室外环境信息，所述室外环境信息包括雨量信息、紫外线等级信息、空气温湿度信息、体感温度信息、风速信息、空气质量信息、光照强度信息和噪音信息，所述空气质量信息包括甲醛浓度信息、TVOC浓度信息、二氧化碳浓度信息、一氧化碳浓度信息和PM2.5浓度信息；天窗联动控制器，其中所述天窗驱动组件、光伏组件、室内环境监测组件、室外环境监测组件均与天窗联动控制器连接，所述天窗联动控制器基于室外环境信息和室内环境信息生成控制指令发送至天窗驱动组件处控制天窗本体启闭；其中所述天窗联动控制器基于室外环境信息和室内环境信息对照预设置的指令数据库获取对应各个环境信息的指令以及指令优先级，基于各个指令的指令优先级确定生成控制指令。2.根据权利要求1所述的一种光伏联动通风天窗，其特征在于：所述驱动组件包括驱动电机和驱动螺杆，所述驱动电机与蓄电池连接；所述天窗框架顶部沿移动窗滑动方向开设有驱动滑槽，所述驱动螺杆转动设置在驱动滑槽内，所述驱动电机安装在天窗框架上且输出端穿设入驱动滑槽内与驱动螺杆同轴连接；所述移动窗底部设置有驱动滑块，所述驱动滑块与驱动螺杆螺纹连接；所述移动窗底部远离驱动滑块的一侧设置有辅助滑块，所述天窗框架顶部沿移动窗滑动方向开设有供驱动滑块滑动的辅助滑槽。3.根据权利要求2所述的一种光伏联动通风天窗，其特征在于：所述驱动滑槽和辅助滑槽内均铺设有密封封闭条，两个所述密封封闭条分别贯穿过驱动滑块和辅助滑块。4.根据权利要求2所述的一种光伏联动通风天窗，其特征在于：所述天窗框架底部滑动设置有天窗纱窗，所述天窗框架底部宽度方向的两端均开设有联动滑槽，所述天窗纱窗两端分别滑动设置在两个联动滑槽内；位于所述驱动滑槽下方的联动滑槽内设置有联动螺杆，所述联动螺杆与天窗纱窗螺纹连接；所述联动螺杆和驱动螺杆均同轴套设有联动齿轮，且所述联动螺杆和驱动螺杆螺纹相反，两个所述联动齿轮之间设置有连接齿轮，所述驱动组件还包括用于带动连接齿轮移动的电动伸缩杆，所述连接齿轮转动设置在伸缩电缸的伸缩端；在天窗本体关闭时，所述天窗纱窗位于固定窗下方，常态下连接齿轮不与两个联动齿轮连接，所述天窗联动控制器基于室外环境信息和室内环境信息判断需要开启移动窗打开天窗纱窗时向驱动电机和电动伸缩杆发送控制指令，所述电动伸缩杆带动连接齿轮移动与两个联动齿轮连接，所述驱动电机驱动带动联动螺杆和驱动螺杆带动移动窗和天窗纱窗移动。5.根据权利要求4所述的一种光伏联动通风天窗，其特征在于：所述固定窗和移动窗均安装有电致变色玻璃。6.根据权利要求1所述的一种光伏联动通风天窗，其特征在于：所述天窗联动控制器连接有网络云台，所述天窗联动控制器通过网络云台实时获取所在区域实时天气预报信息，所述天窗联动控制器基于天气预报信息对指令数据库进行优先级修正。7.根据权利要求5所述的一种光伏联动通风天窗，其特征在于，所述天窗联动控制器基于室外环境信息和室内环境信息生成控制指令发送至天窗驱动组件处控制天窗本体启闭具体包括以下步骤：所述天窗联动控制器基于室外环境信息和室内环境信息在预设置的指令数据库对照获取对应各个环境参数的操作指令以及指令优先级，所述操作指令包括开窗指令、关窗指令和玻璃变色指令的一种或多种，其中开窗指令、关窗指令为相斥指令；所述天窗联动控制器对操作指令进行筛选选取优先级最高的操作指令；判断优先级最高的操作指令中是否存在相斥指令；若不存在，则打包操作指令生成控制指令发送至驱动组件和天窗本体处；若存在，则判断相斥指令是否存在中和指令；若存在，则打包中和指令和其他不相斥的操作指令生成控制指令发送至驱动组件和天窗本体处；若不存在，则基于相斥指令计算生成半开窗指令，打包半开窗指令和其他不相斥的操作指令生成控制指令发送至驱动组件和天窗本体处。8.根据权利要求7所述的一种光伏联动通风天窗，其特征在于，所述基于相斥指令计算生成半开窗指令具体包括：获取最高优先级操作指令中形成相斥指令的开窗指令数量A和关窗指令数量B，获取用户预先设置的居住喜好进而生成开窗系数a和关窗指令系数b，通过预设置的指令计算公式计算确定开窗行程进而生成半开窗指令，所述指令计算公式为：其中Z为开窗总行程，S为半开窗的开窗行程。9.根据权利要求1所述的一种光伏联动通风天窗，其特征在于，获取用户预先设置的居住喜好具体包括：向用户提供预设置的喜好问卷，基于用户问卷答案生成用户对各种情境下的开关窗倾向喜好，进而生成用户的居住喜好。10.根据权利要求1所述的一种光伏联动通风天窗，其特征在于：所述蓄电池与室内交流电源连接，所述充电控制器实时获取蓄电池电量信息并在蓄电池剩余电量低于预设预警值时控制蓄电池与室内交流电源连通对蓄电池进行充电。
说明书desc
技术领域本申请涉及光伏天窗的领域，尤其是涉及一种光伏联动通风天窗。背景技术太阳能光伏建筑是应用太阳能发电的一种新概念，是太阳能光伏系统与现代建筑的完美结合，在建筑结构外表面铺设光伏组件提供电力，将太阳能发电系统与屋顶、天窗、幕墙等建筑融合为一体，建筑绿色环保住宅。房屋通风关系到建筑环境的空气质量，直接关系到人的呼吸质量，是人们日常生活的关键保障，天窗是设在屋顶上用以通风和透光的窗子。但是天窗使用不当时，也会起到反效果，出现各种负面现象如房屋漏雨、房屋保暖能力下降、房屋内尘土飞扬等现象。公告号为CN112459362A的中国专利公开了一种节能型通风天窗结构，包括具有开口的天窗本体，相对于天窗本体可移动的移动窗、驱动移动窗打开和关闭的滑动组件、安装在天窗本体的开口内的多组光伏板和驱动光伏板转动的驱动传动组件；所述驱动传动组件包括转动电机、传动箱、主动轴、多个从动轴和多组传动皮带，所述传动箱固设在天窗本体的一侧，所述主动轴和多个从动轴的一端转动连接在传动箱内，且另一端依次贯穿传动箱和天窗本体的侧壁，转动连接在天窗本体远离传动箱的一侧内壁上。该申请采用光伏板为滑动组件供电，实现天窗电动开合，达到节约能源的效果。但是在智能家居普及的今天，人们对家用设施的智能度有了进一步需求，天窗仅仅依靠电动实现自动开合已无法满足人们的健康生活需求。如何将通风天窗与室内室外环境关联实现天窗智能联动是一个待解决的技术问题。针对上述中的相关技术，如何将通风天窗与室内室外环境关联实现天窗智能联动是一个待解决的技术问题。发明内容为了解决现有通风天窗无法基于用户需求与室内室外环境关联实现智能联动的技术问题，本申请提供一种光伏联动通风天窗。第一方面，本申请提供一种光伏联动通风天窗，采用如下的技术方案：一种光伏联动通风天窗，包括：天窗本体，包括天窗框架、嵌设在天窗框架上的固定窗和滑动设置在天窗框架上的移动窗；驱动组件，用于带动移动窗在天窗框架上滑动，控制天窗本体开合；光伏组件，包括多片太阳能电池片、充电控制器、光伏逆变器和蓄电池，且多片所述太阳能电池片分布嵌设在固定窗和移动窗上，所述天窗驱动组件与蓄电池连接；室内环境监测组件，用于实时获取室内环境信息，所述室内环境信息包括空气温湿度信息、体感温度信息、风速信息、空气质量信息、光照强度信息和噪音信息，所述空气质量信息包括甲醛浓度信息、TVOC浓度信息、二氧化碳浓度信息、一氧化碳浓度信息和PM2.5浓度信息；室外环境监测组件，用于实时获取室外环境信息，所述室外环境信息包括雨量信息、紫外线等级信息、空气温湿度信息、体感温度信息、风速信息、空气质量信息、光照强度信息和噪音信息，所述空气质量信息包括甲醛浓度信息、TVOC浓度信息、二氧化碳浓度信息、一氧化碳浓度信息和PM2.5浓度信息；天窗联动控制器，其中所述天窗驱动组件、光伏组件、室内环境监测组件、室外环境监测组件均与天窗联动控制器连接，所述天窗联动控制器基于室外环境信息和室内环境信息生成控制指令发送至天窗驱动组件处控制天窗本体启闭；其中所述天窗联动控制器基于天窗联动控制器基于室外环境信息和室内环境信息对照预设置的指令数据库获取对应各个环境信息的指令以及指令优先级，基于各个指令的指令优先级确定生成控制指令。优选的，所述驱动组件包括驱动电机和驱动螺杆，所述驱动电机与蓄电池连接；所述天窗框架顶部沿移动窗滑动方向开设有驱动滑槽，所述驱动螺杆转动设置在驱动滑槽内，所述驱动电机安装在天窗框架上且输出端穿设入驱动滑槽内与驱动螺杆同轴连接；所述移动窗底部设置有驱动滑块，所述驱动滑块与驱动螺杆螺纹连接；所述移动窗底部远离驱动滑块的一侧设置有辅助滑块，所述天窗框架顶部沿移动窗滑动方向开设有供驱动滑块滑动的辅助滑槽。优选的，所述驱动滑槽和辅助滑槽内均铺设有密封封闭条，两个所述密封封闭条分别贯穿过驱动滑块和辅助滑块。优选的，所述天窗框架底部滑动设置有天窗纱窗，所述天窗框架底部宽度方向的两端均开设有联动滑槽，所述天窗纱窗两端分别滑动设置在两个联动滑槽内；位于所述驱动滑槽下方的联动滑槽内设置有联动螺杆，所述联动螺杆与天窗纱窗螺纹连接；所述联动螺杆和驱动螺杆均同轴套设有联动齿轮，且所述联动螺杆和驱动螺杆螺纹相反，两个所述联动齿轮之间设置有连接齿轮，所述驱动组件还包括用于带动连接齿轮移动的电动伸缩杆，所述连接齿轮转动设置在伸缩电缸的伸缩端；在天窗本体关闭时，所述天窗纱窗位于固定窗下方，常态下连接齿轮不与两个联动齿轮连接，所述天窗联动控制器基于室外环境信息和室内环境信息判断需要开启移动窗打开天窗纱窗时向驱动电机和电动伸缩杆发送控制指令，所述电动伸缩杆带动连接齿轮移动与两个联动齿轮连接，所述驱动电机驱动带动联动螺杆和驱动螺杆带动移动窗和天窗纱窗移动。优选的，所述固定窗和移动窗均安装有电致变色玻璃。优选的，所述天窗联动控制器连接有网络云台，所述天窗联动控制器通过网络云台实时获取所在区域实时天气预报信息，所述天窗联动控制器基于天气预报信息对指令数据库进行优先级修正。优选的，所述天窗联动控制器基于室外环境信息和室内环境信息生成控制指令发送至天窗驱动组件处控制天窗本体启闭具体包括以下步骤：所述天窗联动控制器基于室外环境信息和室内环境信息在预设置的指令数据库对照获取对应各个环境参数的操作指令以及指令优先级，所述操作指令包括开窗指令、关窗指令和玻璃变色指令的一种或多种，其中开窗指令、关窗指令为相斥指令；所述天窗联动控制器对操作指令进行筛选选取优先级最高的操作指令；判断优先级最高的操作指令中是否存在相斥指令；若不存在，则打包操作指令生成控制指令发送至驱动组件和天窗本体处；若存在，则判断相斥指令是否存在中和指令；若存在，则打包中和指令和其他不相斥的操作指令生成控制指令发送至驱动组件和天窗本体处；若不存在，则基于相斥指令计算生成半开窗指令，打包半开窗指令和其他不相斥的操作指令生成控制指令发送至驱动组件和天窗本体处。优选的，所述基于相斥指令计算生成半开窗指令具体包括：获取最高优先级操作指令中形成相斥指令的开窗指令数量A和关窗指令数量B，获取用户预先设置的居住喜好进而生成开窗系数a和关窗指令系数b，通过预设置的指令计算公式计算确定开窗行程进而生成半开窗指令，所述指令计算公式为：其中Z为开窗总行程，S为半开窗的开窗行程。优选的，获取用户预先设置的居住喜好具体包括：向用户提供预设置的喜好问卷，基于用户问卷答案生成用户对各种情境下的开关窗倾向喜好，进而生成用户的居住喜好。优选的，所述蓄电池与室内交流电源连接，所述充电控制器实时获取蓄电池电量信息并在蓄电池剩余电量低于预设预警值时控制蓄电池与室内交流电源连通对蓄电池进行充电。综上所述，本申请包括以下至少一种有益技术效果：1.采用光伏组件为驱动组件功能实现天窗本体开合，达到绿色节能的效果；天窗联动控制器通过室内环境监测组件和室外检测组件实时获取天窗所在房屋的室内环境信息和室外环境信息，基于室内环境信息和室外环境信息判断用户房屋情景，进而实现智能联动控制天窗本体的启闭，避免房屋因天窗出现各种负面现象，如房屋漏雨、房屋保暖能力下降、房屋内尘土飞扬等现象，有助于提高用户居住舒适度，达到有效提高用户房屋居住舒适度和智能度的效果；2.通过天窗纱窗的设置，能够在外界部分不适宜开窗通风的环境下，使得天窗保持开启，如外界刮大风式基于智能决策不易开窗，但室内又存在开窗需求时，打开天窗关闭纱窗既能实现通风又能防止外界大风裹挟的杂物进入室内；为天窗联动控制器智能联动控制天窗提供新的中和联动方案，进一步提高天窗智能联动的智能度和舒适性；3.通过网络云台的设置，天窗联动控制器能够实时获取所在区域的官方天气预报信息，能够对室内环境监测组件进行性能效验，有助于提高环境信息精准度；另外天窗联动控制器能够基于网络云台获取的天气预报信息，对指令数据库进行优先级修正，进一步提高天窗智能性；4.天窗联动控制器通过室内环境监测组件和室外检测组件实时获取天窗所在房屋的室内环境信息和室外环境信息，基于室内环境信息和室外环境信息在数据库中获取对应各个环境信息的操作指令，而不同的操作指令基于其所对应的环境参数类别以及参数区间具有不同的优先级，天窗联动控制器基于优先级最高的操作指令进行智能判断生成控制指令发送至驱动组件和电致变色玻璃处，实现天窗的智能联动控制，有助于提高用户居住舒适度，达到有效提高用户房屋居住舒适度和智能度的效果；另外基于中和指令和半开窗指令的设置，能够天窗联动控制提供更加多样性多元化的控制方案，使得天窗控制更加贴合于人们日常生活情景，进一步提高用户房屋居住舒适度和智能度。附图说明图1是本申请实施例中光伏联动通风天窗的俯视结构示意图；图2是本申请实施例中光伏联动通风天窗的系统框图；图3是本申请实施例中天窗框架的剖面示意图；图4是本申请实施例中天窗框辅助滑槽的剖面示意图；图5是本申请实施例中驱动组件结构示意图；图6是本申请实施例中天窗联动控制器控制天窗本体启闭的方法流程图。附图标记说明：1、天窗本体；11、天窗框架；111、驱动滑槽；112、辅助滑槽；113、联动滑槽；114、联动螺杆；115、联动齿轮；116、连接齿轮；12、固定窗；13、移动窗；131、驱动滑块；132、辅助滑块；14、密封封闭条；15、天窗纱窗；2、驱动组件；21、驱动电机；22、驱动螺杆；23、电动伸缩杆；3、光伏组件；31、太阳能电池片；32、充电控制器；33、光伏逆变器；34、蓄电池；4、室内环境监测组件；5、室外环境监测组件；6、天窗联动控制器；7、网络云台；8、室内交流电源；9、电致变色玻璃。具体实施方式以下结合附图1-6对本申请作进一步详细说明。本申请实施例公开一种光伏联动通风天窗。参照图1和图2，一种光伏联动通风天窗，包括天窗本体1、驱动组件2、光伏组件3、室内环境监测组件4、室外环境监测组件5和天窗联动控制器6。天窗驱动组件2、光伏组件3、室内环境监测组件4、室外环境监测组件5均与天窗联动控制器6连接。天窗本体1包括天窗框架11、嵌设在天窗框架11上的固定窗12和滑动设置在天窗框架11上的移动窗13。驱动组件2用于带动移动窗13在天窗框架11上滑动，控制天窗本体1开合。光伏组件3包括多片太阳能电池片31、充电控制器32、光伏逆变器33和蓄电池34。且多片太阳能电池片31分布嵌设在固定窗12和移动窗13上，天窗驱动组件2与蓄电池34连接。室内环境监测组件4用于实时获取室内环境信息。室外环境监测组件5用于实时获取室外环境信息。天窗联动控制器6基于室外环境信息和室内环境信息生成控制指令发送至天窗驱动组件2处控制天窗本体1启闭。天窗联动控制器6基于天窗联动控制器6基于室外环境信息和室内环境信息对照预设置的指令数据库获取对应各个环境信息的指令以及指令优先级，基于各个指令的指令优先级确定生成控制指令。采用光伏组件3为驱动组件2功能实现天窗本体1开合，达到绿色节能的效果。天窗联动控制器6通过室内环境监测组件4和室外检测组件实时获取天窗所在房屋的室内环境信息和室外环境信息，基于室内环境信息和室外环境信息判断用户房屋情景，进而实现智能联动控制天窗本体1的启闭，避免房屋因天窗出现各种负面现象，如房屋漏雨、房屋保暖能力下降、房屋内尘土飞扬等现象，有助于提高用户居住舒适度，达到有效提高用户房屋居住舒适度和智能度的效果。参照图2，室内环境监测组件4包括温湿度传感器、体感温度传感器、风速传感器、空气质量传感器、光照强度传感器和噪音传感器。室内环境信息包括空气温湿度信息、体感温度信息、风速信息、空气质量信息、光照强度信息和噪音信息。空气质量信息包括甲醛浓度信息、TVOC浓度信息、二氧化碳浓度信息、一氧化碳浓度信息和PM2.5浓度信息。室外环境监测组件5包括雨量传感器、紫外线传感器、温湿度传感器、体感温度传感器、风速传感器、空气质量传感器、光照强度传感器和噪音传感器。室外环境信息包括雨量信息、紫外线等级信息、空气温湿度信息、体感温度信息、风速信息、空气质量信息、光照强度信息和噪音信息。空气质量信息包括甲醛浓度信息、TVOC浓度信息、二氧化碳浓度信息、一氧化碳浓度信息和PM2.5浓度信息。参照图1-图4，驱动组件2包括驱动电机21和驱动螺杆22。驱动电机21与蓄电池34连接。天窗框架11顶部沿移动窗13滑动方向开设有驱动滑槽111，驱动螺杆22转动设置在驱动滑槽111内。驱动电机21安装在天窗框架11上且输出端穿设入驱动滑槽111内与驱动螺杆22同轴连接。移动窗13底部设置有驱动滑块131，驱动滑块131与驱动螺杆22螺纹连接。移动窗13底部远离驱动滑块131的一侧设置有辅助滑块132，天窗框架11顶部沿移动窗13滑动方向开设有供驱动滑块131滑动的辅助滑槽112。通过驱动组件2的设置，有助于根据天窗联动控制器6的控制指令稳定带动移动窗13移动实现天窗本体1启闭。参照图3和图4，驱动滑槽111和辅助滑槽112内均铺设有密封封闭条14，两个密封封闭条14分别贯穿过驱动滑块131和辅助滑块132。通过密封封闭条14的设置有助于提高驱动滑槽111和辅助滑槽112的密封性，避免驱动组件2受到损伤，有助提高天窗的密封性。参照图3-图5，天窗框架11底部滑动设置有天窗纱窗15，天窗框架11底部宽度方向的两端均开设有联动滑槽113，天窗纱窗15两端分别滑动设置在两个联动滑槽113内。位于驱动滑槽111下方的联动滑槽113内设置有联动螺杆114，联动螺杆114与天窗纱窗15螺纹连接。联动螺杆114和驱动螺杆22均同轴套设有联动齿轮115，且联动螺杆114和驱动螺杆22螺纹相反。两个联动齿轮115之间设置有连接齿轮116，驱动组件2还包括用于带动连接齿轮116移动的电动伸缩杆23，连接齿轮116转动设置在伸缩电缸的伸缩端。在天窗本体1关闭时，天窗纱窗15位于固定窗12下方，常态下连接齿轮116不与两个联动齿轮115连接。当天窗联动控制器6基于室外环境信息和室内环境信息判断需要开启移动窗13打开天窗纱窗15时向驱动电机21和电动伸缩杆23发送控制指令，电动伸缩杆23带动连接齿轮116移动与两个联动齿轮115连接，驱动电机21驱动带动联动螺杆114和驱动螺杆22带动移动窗13和天窗纱窗15移动。通过天窗纱窗15的设置，能够在外界部分不适宜开窗通风的环境下，使得天窗保持开启，如外界刮大风式基于智能决策不易开窗，但室内又存在开窗需求时，打开天窗关闭纱窗既能实现通风又能防止外界大风裹挟的杂物进入室内；为天窗联动控制器6智能联动控制天窗提供新的中和联动方案，进一步提高天窗智能联动的智能度和舒适性。而通过电动伸缩杆23、连接齿轮116和联动齿轮115的设置，实现天窗纱窗15与移动窗13的智能联动，为开窗决策和关窗决策提供中和决策，实现移动窗13与天窗纱窗15的智能联动，无需另外设置驱动源，达到有效提高通风天窗的智能联动效率。参照图2，固定窗12和移动窗13均安装有电致变色玻璃9。采用电致变色玻璃9填充固定窗12和移动窗13，使得天窗联动控制器6能够根据室外环境信息智能控制固定窗12和移动窗13变色，使得移动窗13和固定窗12在电场作用下具有光吸收透过的可调节性，可选择性地吸收或反射外界的热辐射和内部的热的扩散，减少办公大楼和民用住宅在夏季保持凉爽和冬季保持温暖而必须消耗的大量能源，同时起到改善自然光照程度的目的。为通风天窗提供更多的智能联动方案，有助于通风天窗响应于房屋内其他智能家居的调度配合，达到有效提高用户居住舒适性的效果。参照图2，天窗联动控制器6连接有网络云台7，天窗联动控制器6通过网络云台7实时获取所在区域实时天气预报信息，天窗联动控制器6基于天气预报信息对指令数据库进行优先级修正。通过网络云台7的设置，天窗联动控制器6能够实时获取所在区域的官方天气预报信息，能够对室内环境监测组件4进行性能效验，有助于提高环境信息精准度。另外天窗联动控制器6能够基于网络云台7获取的天气预报信息，对指令数据库进行优先级修正，进一步提高天窗智能性。举例说明，如天窗所在区域的天气预报显示未来一小时即将下雨，则对指令数据库中关窗指令的优先级进行上调；再比如天窗所在区域的天气预报显示当前所在区域天气晴朗且空气指数优良，温度适宜则指令数据库中开窗指令的优先级进行上调。参照图2，蓄电池34与室内交流电源8连接，充电控制器32实时获取蓄电池34电量信息并在蓄电池34剩余电量低于预设预警值时控制蓄电池34与室内交流电源8连通对蓄电池34进行充电。将蓄电池34与室内交流电源8连接，进一步提高蓄电池34使用稳定性，能够在天气原因或其他意外导致蓄电池34电量较低时对蓄电池34进行充电，确保通风天窗稳定运行。参照图6，天窗联动控制器6基于室外环境信息和室内环境信息生成控制指令发送至天窗驱动组件2处控制天窗本体1启闭具体包括以下步骤：S1、获取对应各个环境参数的操作指令以及指令优先级：天窗联动控制器6基于室外环境信息和室内环境信息在预设置的指令数据库对照获取对应各个环境参数的操作指令以及指令优先级，操作指令包括开窗指令、关窗指令和玻璃变色指令的一种或多种，其中开窗指令、关窗指令为相斥指令；S2、筛选选取优先级最高的操作指令：天窗联动控制器6对操作指令进行筛选选取优先级最高的操作指令；S3、判断优先级最高的操作指令中是否存在相斥指令；S4、则打包操作指令生成控制指令：若不存在，则打包操作指令生成控制指令发送至驱动组件2和天窗本体1处；S5、判断相斥指令是否存在中和指令：若存在，则判断相斥指令是否存在中和指令；S6、打包中和指令和其他不相斥的操作指令生成控制指令：若存在，则打包中和指令和其他不相斥的操作指令生成控制指令发送至驱动组件2和天窗本体1处；S7、打包半开窗指令和其他不相斥的操作指令：若不存在，则基于相斥指令计算生成半开窗指令，打包半开窗指令和其他不相斥的操作指令生成控制指令发送至驱动组件2和天窗本体1处。天窗联动控制器6通过室内环境监测组件4和室外检测组件实时获取天窗所在房屋的室内环境信息和室外环境信息，基于室内环境信息和室外环境信息在数据库中获取对应各个环境信息的操作指令，而不同的操作指令基于其所对应的环境参数类别以及参数区间具有不同的优先级，天窗联动控制器6基于优先级最高的操作指令进行智能判断生成控制指令发送至驱动组件2和电致变色玻璃9处，实现天窗的智能联动控制，有助于提高用户居住舒适度，达到有效提高用户房屋居住舒适度和智能度的效果。另外基于中和指令和半开窗指令的设置，能够天窗联动控制提供更加多样性多元化的控制方案，使得天窗控制更加贴合于人们日常生活情景，进一步提高用户房屋居住舒适度和智能度。其中上述基于相斥指令计算生成半开窗指令具体包括：获取最高优先级操作指令中形成相斥指令的开窗指令数量A和关窗指令数量B，获取用户预先设置的居住喜好进而生成开窗系数a和关窗指令系数b，通过预设置的指令计算公式计算确定开窗行程进而生成半开窗指令，指令计算公式为：其中Z为开窗总行程，S为半开窗的开窗行程。通过开、关窗指令数量以及基于用户喜好生成的开、关窗系数计算半开窗行程，使得半开窗指令更加贴合用户需求，达到有效提高用户房屋居住舒适度和智能度的效果。另外，获取用户预先设置的居住喜好具体包括：向用户提供预设置的喜好问卷，基于用户问卷答案生成用户对各种情境下的开关窗倾向喜好，进而生成用户的居住喜好。采用问卷的方式获取用户各种情境下的开关窗倾向喜好，提高天窗智能联动的个性化，使得天窗开合更加贴合用户喜好，提高用户使用体验。以上实施例仅用以说明本发明的技术方案，而非对发明的保护范围进行限制。显然，所描述的实施例仅仅是本发明部分实施例，而不是全部实施例。基于这些实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明所要保护的范围。尽管参照上述实施例对本发明进行了详细的说明，本领域普通技术人员依然可以在不冲突的情况下，不作出创造性劳动对本发明各实施例中的特征根据情况相互组合、增删或作其他调整，从而得到不同的、本质未脱离本发明的构思的其他技术方案，这些技术方案也同样属于本发明所要保护的范围。
