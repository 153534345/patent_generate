标题title
一种成绩数据的安全加密方法
摘要abst
本发明提供一种成绩数据的安全加密方法，在教师录入或导入学生成绩时，通过学号、学年学期、课程代码、个性化固定密钥的形式生成不同的密钥，根据密钥对成绩进行加密，并将加密成绩对应的密文存入学生成绩表。密文的生成完全由教师录入或导入成绩时生成，在读取成绩及生成成绩类相关报表时，将明文成绩再次重新生成加密成绩，将两次加密成绩进行比对，如不匹配则进行报警，避免成绩被篡改的问题。
权利要求书clms
1.一种成绩数据的安全加密方法，包括下列步骤： S1：录入教师在Web客户端录入或导入明文成绩So1时，将明文成绩So1按字符转换成MD5字符串A，长度为LA；S2：将字符串A分成两段A1和A2，长度分别为LA1和LA2，前后两段颠倒顺序后A2+A1合并生成新的字符串B，长度仍为LA；S3：根据学年学期、学号、课程代码、个性化固定密钥生成密钥字符串M，长度为LM；S4：用字符串B和密钥字符串M按位逐个转换成ASCII后，做异或运算，结果作为第一密文成绩Se1；S5：将明文成绩So1与第一密文成绩Se1存入成绩存储单元Ts；S6：在查询成绩时，将成绩存储单元Ts中的明文成绩So1按所述步骤S1至S4的方法重新加密，生成新的密文成绩Se2，并作为第二密文成绩；S7：对比第二密文成绩Se2与成绩存储单元Ts中的第一密文成绩Se1，如两次加密的成绩相同，则证明成绩存储单元Ts中的明文成绩So1未被篡改；否则，明文成绩So1为被篡改后的成绩，弹出成绩被篡改的警示。2.根据权利要求1所述的成绩数据的安全加密方法，其特征在于：步骤S4中进行异或运算，根据以下步骤得到新的字符串Se1：S41：当异或的结果大于0111 1110或小于0010 0000时，直接返回用B，此时B为新的字符串Se1；S42：当异或的结果小于等于0111 1110或大于等于0010 0000时，则返回异或结果对应的ASCII码字符，此时ASCII码字符为新的字符串Se1；S43：当字符串B的长度大于密钥字符串M时，密钥字符串M运算到最后一位再回到第一位循环异或，得到新的字符串Se1；S44：将B....B...B组成的新字符串作为新的字符串Se1，作为加密结果，所述新的字符串Se1为第一密文成绩。3.根据权利要求1所述的成绩数据的安全加密方法，其特征在于：步骤S2中，所述LA1和LA2均为16位，所述LA长度为32位。4.根据权利要求1所述的成绩数据的安全加密方法，其特征在于：步骤S2中，所述LA1和LA2位数不同，总长度为32位。5.根据权利要求1所述的成绩数据的安全加密方法，其特征在于：步骤S3中，将学年学期、学号、课程代码、个性化固定密钥进行拼接，生成密钥字符串M。6.根据权利要求1所述的成绩数据的安全加密方法，其特征在于：步骤S5中，所述明文成绩So1也能够存储于其他成绩存储单元，与第一密文成绩Se1分别存储。7.根据权利要求1所述的成绩数据的安全加密方法，其特征在于：步骤S6中，查询人员在Web客户端查询成绩时，查询到的为明文成绩So1，Web客户端根据弹出的明文成绩So1按所述步骤S1至S4的方法重新加密。8.根据权利要求1所述的成绩数据的安全加密方法，其特征在于：步骤S7中，Web客户端在查询成绩的页面弹出成绩被篡改的警示，并存储查询记录，同时向管理人员发出警报。9.根据权利要求1所述的成绩数据的安全加密方法，其特征在于：所述明文成绩So1为每一科的成绩，每个学生对应多个单科成绩。
说明书desc
技术领域本发明涉及一种教务信息管理的加密方法，尤其是涉及一种成绩数据的安全加密方法。背景技术学生成绩是学生整个学业过程中极其重要的环节，在学生的学分、奖学金、转专业、专业分流、保研推优、毕业、学习警示、退学等方面起到决定性作用。目前成绩管理系统面临的重要问题是成绩的安全性问题，对于没有加密或加密不严谨的成绩管理系统，成绩数据会出现被篡改的情况，可能造成成绩数据不安全或不准确的途径有：直接修改成绩存储单元中某学生的成绩；复制某个成绩较好的学生成绩到其他学生的成绩列；复制某个学生某个成绩较好的课程成绩到这个学生其他课程的成绩列。因此，对成绩进行加密是保护成绩安全，避免成绩被恶意篡改的有效手段，应做到每个学生每个课程有单独的密钥，防止复制，同时还应保证不能被解密。一般来说，成绩主要分为两类：打分制、等级制，总体上来说长度较短，加密时要尽可能简单易行并尽量降低系统资源的消耗。发明内容本发明提供了一种成绩数据的安全加密方法，用于解决对成绩进行加密的问题，其技术方案如下所述：一种成绩数据的安全加密方法，包括下列步骤： S1：录入教师在Web客户端录入或导入明文成绩So1时，将明文成绩So1按字符转换成MD5字符串A，长度为LA；S2：将字符串A分成两段A1和A2，长度分别为LA1和LA2，前后两段颠倒顺序后A2+A1合并生成新的字符串B，长度仍为LA；S3：根据学年学期、学号、课程代码、个性化固定密钥生成密钥字符串M，长度为LM；S4：用字符串B和密钥字符串M按位逐个转换成ASCII后，做异或运算，结果作为第一密文成绩Se1；S5：将明文成绩So1与第一密文成绩Se1存入成绩存储单元Ts；S6：在查询成绩时，将成绩存储单元Ts中的明文成绩So1按所述步骤S1至S4的方法重新加密，生成新的密文成绩Se2，并作为第二密文成绩；S7：对比第二密文成绩Se2与成绩存储单元Ts中的第一密文成绩Se1，如两次加密的成绩相同，则证明成绩存储单元Ts中的明文成绩So1未被篡改；否则，明文成绩So1为被篡改后的成绩，弹出成绩被篡改的警示。进一步的，步骤S4中进行异或运算，根据以下步骤得到新的字符串Se1：S41：当异或的结果大于0111 1110或小于0010 0000时，直接返回用B，此时B为新的字符串Se1；S42：当异或的结果小于等于0111 1110或大于等于0010 0000时，则返回异或结果对应的ASCII码字符，此时ASCII码字符为新的字符串Se1；S43：当字符串B的长度大于密钥字符串M时，密钥字符串M运算到最后一位再回到第一位循环异或，得到新的字符串Se1；S44：将B....B...B组成的新字符串作为新的字符串Se1，作为加密结果，所述新的字符串Se1为第一密文成绩。进一步的，步骤S2中，所述LA1和LA2均为16位，所述LA长度为32位。进一步的，步骤S2中，所述LA1和LA2位数不同，总长度为32位。进一步的，步骤S3中，将学年学期、学号、课程代码、个性化固定密钥进行拼接，生成密钥字符串M。进一步的，步骤S5中，所述明文成绩So1也能够存储于其他成绩存储单元，与第一密文成绩Se1分别存储。进一步的，步骤S6中，查询人员在Web客户端查询成绩时，查询到的为明文成绩So1，Web客户端根据弹出的明文成绩So1按所述步骤S1至S4的方法重新加密。进一步的，步骤S7中，Web客户端在查询成绩的页面弹出成绩被篡改的警示，并存储查询记录，同时向管理人员发出警报。进一步的，所述明文成绩So1为每一科的成绩，每个学生对应多个单科成绩。所述成绩数据的安全加密方法，能够做到每个学生每个课程有单独的密钥，防止复制，同时还不能被解密，具有防篡改、快速高效、准确易行的特点。附图说明图1是所述成绩数据的安全加密方法的流程示意图。具体实施方式如图1所示，所述成绩数据的安全加密方法，为了避免直接复制密文，针对每个考生、每门课程都使用不同的密钥。考虑到加密的可操作性，利用不同或操作的可逆性，将明文和钥匙文本逐字节进行不同或操作。包括以下步骤：S1：录入教师在Web客户端录入或导入每一个科目的明文成绩So1时，将明文成绩So1按字符转换成MD5字符串A，长度为LA；所述MD5信息摘要算法，是一种被广泛使用的密码散列函数，可以产生出一个128位的散列值，用于确保信息传输完整一致，于1992年公开，用以取代MD4算法。S2：将字符串A等分成等长的两段A1和A2，长度分别为LA1和LA2，前后两段颠倒顺序后A2+A1合并生成新的字符串B，长度仍为LA；S3：将学年学期Kt、学号Ksi、课程代码Kcc、个性化固定密钥Kf拼接，生成密钥字符串M，长度为LM；S4：用字符串B和密钥字符串M按位逐个转换成ASCII后，做异或运算，得到新的字符串Se1作为第一密文成绩。S41：当异或的结果大于0111 1110或小于0010 0000时，直接返回用B，此时B为新的字符串Se1；S42：当异或的结果小于等于0111 1110或大于等于0010 0000时，则返回异或结果对应的ASCII码字符，此时ASCII码字符为新的字符串Se1；S43：当字符串B的长度大于密钥字符串M时，密钥字符串M运算到最后一位再回到第一位循环异或，进而得到新的字符串Se1；S44：将B....B...B组成的字符串作为新的字符串Se1，作为加密结果，所述新的字符串Se1为第一密文成绩；S5：将明文成绩So1与第一密文成绩Se1都存入成绩存储单元Ts。S6：在查询成绩时，将成绩存储单元Ts中的明文成绩So1按所述步骤S1至S4的方法重新加密，生成新的密文成绩Se2，Se2作为第二密文成绩；S7：对比第二密文成绩Se2与成绩存储单元Ts中的第一密文成绩Se1，如两次加密的成绩相同，则证明成绩存储单元Ts中的明文成绩So1未被篡改；否则，成绩存储单元Ts中的明文成绩So1为被篡改后的成绩，弹出成绩被篡改的警示。在某实施例中，将学号、学年学期、课程代码、以及成绩So1录入时，加密后的学生成绩Se1等信息保存在学生成绩存储单元Ts中；在学生通过成绩存储单元Ts查询成绩时，重新对明文成绩So1再次加密，并将加密结果Se2与保存于成绩表中的密文Se1进行比对，如相同，则返回真，证明成绩无误，否则，返回假，并提示成绩被篡改。所述成绩数据的安全加密方法，能够做到每个学生每个课程有单独的密钥，防止复制，同时还不能被解密，具有防篡改、快速高效、准确易行的特点。
