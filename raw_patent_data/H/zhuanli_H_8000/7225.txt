标题title
栅极驱动电路架构、控制方法及BLDC电机驱动电路
摘要abst
本发明申请涉及一种栅极驱动电路架构、控制方法及BLDC电机驱动电路，栅极驱动电路架构包括栅极控制电路、开关阵列模块和延迟控制模块，基于开关阵列模块与栅极控制电路连接，延迟控制模块与栅极控制电路连接；栅极控制电路被配置为对接收的外部控制器PWM信号和延迟信号进行第一信号处理，并输出第一控制信号至开关阵列模块；延迟控制模块被配置为根据栅极控制驱动信号输出延迟信号至栅极控制电路；开关阵列模块被配置为对接收到的第一控制信号进行第二信号转换处理，并向功率输出电路传输栅极控制驱动信号，进而减少甚至避免功率输出电路中MOS管的栅源电压出现振荡的问题，为BLDC电机实现最佳状态运行提供可行性条件。
权利要求书clms
1.一种栅极驱动电路架构，其特征在于，包括：栅极控制电路，所述栅极控制电路被配置为对接收的外部控制器PWM信号和延迟信号进行第一信号处理，并输出第一控制信号至开关阵列模块；开关阵列模块，所述开关阵列模块与所述栅极控制电路连接，所述开关阵列模块被配置为对接收到的所述第一控制信号进行第二信号转换处理，得到栅极控制驱动信号；延迟控制模块，所述延迟控制模块与所述栅极控制电路连接，所述延迟控制模块被配置为根据所述栅极控制驱动信号输出所述延迟信号至所述栅极控制电路。2.根据权利要求1所述的栅极驱动电路架构，其特征在于，所述开关阵列模块包括N个第一MOS管，N个所述第一MOS管的第一端共接，N个所述第一MOS管的第二端共接并形成所述栅极控制驱动信号的输出端，N个所述第一MOS管的第三端分别与所述栅极控制电路连接。3.根据权利要求2所述的栅极驱动电路架构，其特征在于，所述栅极控制电路包括延迟模块，所述延迟模块的数量与所述第一MOS管的数量相同；N个所述延迟模块的输出端与N个所述第一MOS管的第三端一一对应连接；所述延迟模块的输入端与所述延迟控制模块和所述外部控制器连接。4.根据权利要求3所述的栅极驱动电路架构，其特征在于，所述延迟模块包括第一电阻和第一电容，所述第一电阻的第一端为所述延迟模块的输入端，所述第一电阻的第二端与所述第一电容的第一端连接并形成所述延迟模块的输出端，所述第一电容的第二端接地。5.根据权利要求2所述的栅极驱动电路架构，其特征在于，所述栅极控制电路包括延迟模块，所述延迟模块的数量与所述第一MOS管的数量相同；N个所述延迟模块与N个所述第一MOS管一一对应连接；第N个所述延迟模块的输入端与第N-1个所述延迟模块的输出端、所述延迟控制模块以及所述第N个所述第一MOS管的第三端共接。6.根据权利要求5所述的栅极驱动电路架构，其特征在于，所述延迟模块为数字时钟电路，所述数字时钟电路被配置为输出所述延迟信号，所述延迟信号的表达式为：dt=nT，其中T为时钟周期，n为延期周期数量。7.一种BLDC电机驱动电路，其特征在于，包括：如权利要求1-6任一项所述的栅极驱动电路架构；MCU控制器，所述MCU控制器与所述栅极控制电路连接，所述MCU控制器被配置为输出所述PWM信号至所述栅极控制电路；功率输出电路，所述功率输出电路与所述开关阵列模块连接，所述功率输出电路被配置为对接收到的所述栅极控制驱动信号进行第三信号转换控制，并输出第一驱动信号至电机。8.根据权利要求7所述的BLDC电机驱动电路，其特征在于，所述功率输出电路为三相全桥电路，所述三相全桥电路包括U相上桥臂开关管、V相上桥臂开关管、W相上桥臂开关管、U相下桥臂开关管、V相下桥臂开关管和W相下桥臂开关管，所述栅极驱动电路架构的数量为六个，六个所述栅极驱动电路架构的输出端分别连接所述U相上桥臂开关管、所述V相上桥臂开关管、所述W相上桥臂开关管、所述U相下桥臂开关管、所述V相下桥臂开关管和所述W相下桥臂开关管。9.一种栅极驱动电路架构控制方法，应用于权利要求1-6任一项所述的栅极驱动电路架构，其特征在于，该方法包括：基于开关阵列模块输出栅极控制驱动信号的工作特性以及功率输出电路开关管的工作特性，确定驱动系统振荡因素；振荡因素包括栅极控制驱动电流的上升斜率和幅度；根据Idrive∝W*2，确定影响栅极控制驱动信号的上升斜率和幅度的因素，其中，W指的是第一MOS管的沟道宽度，VGS指的是第一MOS管的栅源电压，VTH指的是第一MOS管的阈值电压，Idrive指的是栅极控制驱动电流；通过改变预先设计开关阵列模块第一MOS管的沟道宽度W从而改变栅极控制驱动电流的幅度，通过调节开关阵列模块第一MOS管的开启时间从而控制栅极控制驱动电流的上升斜率。10.根据权利要求9所述的栅极驱动电路架构控制方法，其特征在于，所述通过调节开关阵列模块第一MOS管的开启时间从而控制栅极控制驱动电流的上升斜率的具体方法包括：根据公式Idrive= Ids_1 + Ids_2 + …… + Ids_n，通过延迟模块和延迟控制模块配合，依次把开关阵列模块中的各个第一MOS管导通，其导通的时间由延迟控制模块控制，当相邻两个第一MOS管导通的间隔时间越短，电流上升越快，则栅极控制驱动电流的上升斜率就越大，反之，相邻两个第一MOS管导通的间隔时间越长，电流上升越短，则栅极控制驱动电流的上升斜率就越小；其中，Ids_n指的是对应第n个第一MOS管的导通电流。
说明书desc
技术领域本申请涉及电机控制技术领域，特别是涉及一种栅极驱动电路架构、控制方法及BLDC电机驱动电路。背景技术无刷直流电机是一种使用直流电电源的同步电机，其实质上为采用直流电源输入，并用逆变器变为三相交流电源，带位置反馈的，永磁同步电机。它具有可靠性高、无换向火花、机械噪声低等优点随着工业自动化水平的日益提高，新兴经济体对步进电机的需求量日益提高，无刷直流电机已渗透到多重经济领域并还在不断深化，如家电、电脑、通信设备、办公自动化、工业自动化、银行设备等领域。传统BLDC控制及驱动系统如图1所示，由MCU控制芯片、栅极驱动芯片、以及功率输出模块构成。MCU控制芯片输出PWM信号，控制栅极驱动芯片，然后由栅极驱动芯片输出控制电流Idrive和Isink，开启或关闭功率输出模块中的功率MOS管，从而控制BLDC电机运行。BLDC系统中的功率MOS管特性如图2所示，其中Vgs、Vds、Ids分别代表功率MOS管的栅极电压、漏极电压、漏极电流，Idrive为图1所示栅极驱动的输出电流，对功率MOS管的栅极充电，实现开启功率MOS管的目的。当功率MOS管的Vgs达到开启阈值电压Vth后， Ids开始上升，同时Vds下降。Vgs在达到设定最大值后，会出现振荡现象。发明内容基于此，有必要针对上述BLDC电机驱动系统出现振荡的问题，提供一种栅极驱动电路架构、控制方法及BLDC电机驱动电路。第一方面，本发明提供了一种栅极驱动电路架构，包括栅极控制电路，所述栅极控制电路被配置为对接收的外部控制器PWM信号和延迟信号进行第一信号处理，并输出第一控制信号至开关阵列模块；开关阵列模块，所述开关阵列模块与所述栅极控制电路连接，所述开关阵列模块被配置为对接收到的所述第一控制信号进行第二信号转换处理，得到栅极控制驱动信号；延迟控制模块，所述延迟控制模块与所述栅极控制电路连接，所述延迟控制模块被配置为根据所述栅极控制驱动信号反馈并输出所述延迟信号至所述栅极控制电路。在其中一个实施例中，所述开关阵列模块包括N个第一MOS管，N个所述第一MOS管的第一端共接，N个所述第一MOS管的第二端共接并形成所述栅极控制驱动信号的输出端，N个所述第一MOS管的第三端分别与所述栅极控制电路连接。在其中一个实施例中，所述栅极控制电路包括延迟模块，所述延迟模块的数量与所述第一MOS管的数量相同；N个所述延迟模块的输出端与N个所述第一MOS管的第三端一一对应连接；所述延迟模块的输入端与所述延迟控制模块和所述外部控制器连接。在其中一个实施例中，所述延迟模块包括第一电阻和第一电容，所述第一电阻的第一端为所述延迟模块的输入端，所述第一电阻的第二端与所述第一电容的第一端连接并形成所述栅极控制驱动信号的输出端，所述第一电容的第二端接地。在其中一个实施例中，所述栅极控制电路包括延迟模块，所述延迟模块的数量与所述第一MOS管的数量相同；N个所述延迟模块与N个所述第一MOS管一一对应连接；第N个所述延迟模块的输入端与第N个所述延迟模块的输出端、所述延迟控制模块以及所述第N个所述第一MOS管的第三端共接。在其中一个实施例中，所述延迟模块为数字时钟电路，所述数字时钟电路被配置为输出所述延迟信号，所述延迟信号的表达式为：dt=nT，其中T为时钟周期，n为延期周期数量。第二方面，本发明实施例还提供了一种BLDC电机驱动电路，包括上述的栅极驱动电路架构；MCU控制器，所述MCU控制器与所述栅极控制电路连接，所述MCU控制器被配置为输出所述PWM信号至所述栅极控制电路；功率输出电路，所述功率输出电路与所述开关阵列模块连接，所述功率输出电路被配置为对接收到的所述第一控制电路进行第三信号转换控制，并输出第一驱动信号至电机。在其中一个实施例中，所述功率输出电路为三相全桥电路，所述三相全桥电路包括U相上桥臂开关管、V相上桥臂开关管、W相上桥臂开关管、U相下桥臂开关管、V相下桥臂开关管和W相下桥臂开关管，所述栅极驱动电路架构的数量为六个，六个所述栅极驱动电路架构的输出端分别连接所述U相上桥臂开关管、所述V相上桥臂开关管、所述W相上桥臂开关管、所述U相下桥臂开关管、所述V相下桥臂开关管和所述W相下桥臂开关管。第三方面，本发明实施例还提供了一种栅极驱动电路架构控制方法，该方法包括：基于栅极控制电路输出栅极控制驱动电流的工作特性以及功率输出电路开关管的工作特性，确定驱动系统振荡因素；振荡因素包括栅极控制驱动电流的上升斜率和幅度；根据Idrive∝W*2，确定影响栅极控制驱动电流的上升斜率和幅度的因素，其中，W指的是开关阵列模块中第一MOS管的沟道宽度，VGS指的是开关阵列模块中第一MOS管的栅源电压，VTH指的是开关阵列模块中第一MOS管的阈值电压，Idrive指的是所述栅极驱动电路架构输出的栅极控制驱动电流；通过改变预先设计开关阵列模块第一MOS管的沟道宽度从而改变栅极控制驱动电流的幅度，通过调节开关阵列模块第一MOS管的开启时间从而控制栅极控制驱动电流的上升斜率。在其中一个实施例中，所述通过调节开关阵列模块第一MOS管的开启时间从而控制栅极控制驱动电流的上升斜率的具体方法包括：根据Idrive= Ids_1+ Ids_2+ …… + Ids_n，通过延迟模块和延迟控制模块配合，依次把开关阵列模块中的各个第一MOS管导通，其导通的时间由延迟控制模块控制，当相邻两个第一MOS管导通的间隔时间越短，电流上升越快，则栅极控制驱动电流的上升斜率就越大，反之，相邻两个第一MOS管导通的间隔时间越长，电流上升越短，则栅极控制驱动电流的上升斜率就越小；其中，Ids_n指的是对应第n个第一MOS管的导通电流。上述技术方案中的一个技术方案具有如下优点和有益效果：上述的栅极驱动电路架构包括栅极控制电路、开关阵列模块和延迟控制模块，基于开关阵列模块与栅极控制电路连接，延迟控制模块与栅极控制电路连接；栅极控制电路被配置为对接收的外部控制器PWM信号和延迟信号进行第一信号处理，并输出第一控制信号至开关阵列模块；延迟控制模块被配置为根据栅极控制驱动信号输出延迟信号至栅极控制电路；开关阵列模块被配置为对接收到的第一控制信号进行第二信号转换处理，并向功率输出电路传输栅极控制驱动信号，进而减少甚至避免功率输出电路中MOS管的栅源电压出现振荡的问题，进而为BLDC电机实现最佳状态运行提供可行性条件。具体地，本申请通过开关阵列模块代替传统栅极驱动电路中的单个驱动MOS管，同时增加栅极控制电路以及延迟控制模块实现对开关阵列模块输出的栅极控制驱动电流的上升斜率和幅度进行控制，从而达到减小及消除BLDC驱动系统振荡的目的。相对于传统方法中在芯片外部额外增加RC元件做法，本申请的栅极驱动电路架构不仅实现了减小及消除振荡，同时还降低了成本，具有良好的市场竞争力。附图说明图1为传统BLDC控制及驱动系统结构示意图；图2为BLDC系统中的功率MOS管特性图；图3为一个实施例中开关阵列模块的结构示意图；图4为一个实施例中延迟模块的示意图之一；图5为一个实施例中延迟模块的示意图之二；图6为一个实施例中栅极驱动电路架构的结构示意图之一；图7为一个实施例中栅极驱动电路架构的结构示意图之二；图8为一个实施例中BLDC驱动电路架构的结构示意图。附图标记：10栅极控制电路，11延迟模块，20开关阵列模块，30延迟控制模块；200MCU控制器，300功率输出电路；R第一电阻，C第一电容。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分的实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本申请保护的范围。需要说明的是，本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本申请的实施例。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。实施例1如图8所示，本实施例提供了一种栅极驱动电路架构，包括：栅极控制电路10，栅极控制电路10被配置为对接收的外部控制器PWM信号和延迟信号进行第一信号处理，并输出第一控制信号至开关阵列模块20；开关阵列模块20，开关阵列模块20与栅极控制电路10连接，开关阵列模块20被配置为对接收到的第一控制信号进行第二信号转换处理，得到栅极控制驱动信号；延迟控制模块30，延迟控制模块30与栅极控制电路10连接，延迟控制模块30被配置为根据栅极控制驱动信号反馈并输出延迟信号至栅极控制电路10。需要说明的是，延迟控制模块30根据栅极控制驱动信号的工作特征，从而调整输出的延迟信号，该栅极控制驱动信号的工作特征包括电流上升斜率及幅度。上述实施例中的栅极驱动电路架构，包括栅极控制电路10、开关阵列模块20和延迟控制模块30，基于开关阵列模块20与栅极控制电路10连接，延迟控制模块30与栅极控制电路10连接；栅极控制电路10被配置为对接收的外部控制器PWM信号和延迟信号进行第一信号处理，并输出第一控制信号至开关阵列模块20；延迟控制模块30被配置为根据栅极控制驱动信号输出延迟信号至栅极控制电路10；开关阵列模块20被配置为对接收到的第一控制信号进行第二信号转换处理，并向功率输出电路300传输栅极控制驱动信号，进而减少甚至避免功率输出电路300中MOS管的栅源电压出现振荡的问题，进而为BLDC电机实现最佳状态运行提供可行性条件。具体地，本申请通过开关阵列模块20代替传统栅极驱动电路中的单个驱动MOS管，同时增加栅极控制电路10以及延迟控制模块30实现对开关阵列模块20输出的栅极控制驱动电流的上升斜率和幅度进行控制，从而达到减小及消除BLDC驱动系统振荡的目的。相对于传统方法中在芯片外部额外增加RC元件做法，本申请的栅极驱动电路架构不仅实现了减小及消除振荡，同时还降低了成本，具有良好的市场竞争力。如图3、图6和图7所示，除上述实施例的特征以外，本实施例进一步限定了：开关阵列模块20包括N个第一MOS管M1，N个第一MOS管M1的第一端共接，N个第一MOS管M1的第二端共接并形成栅极控制驱动信号的输出端，N个第一MOS管M1的第三端分别与栅极控制电路10连接。具体地，开关阵列模块20由N个第一MOS管M1并联组成，第一MOS管M1可以是NMOS管或是PMOS管。如图6所示，在其中一个实施例中：栅极控制电路10包括延迟模块11，延迟模块11的数量与第一MOS管M1的数量相同；N个延迟模块11的输出端与N个第一MOS管M1的第三端一一对应连接；第N个延迟模块11的输出端与第N个第一MOS管M1的第三端连接，第N个延迟模块11的输入端分别与延迟控制模块30和外部控制器连接。如图4所示，在一个实施例中，延迟模块11包括第一电阻R和第一电容C，第一电阻R的第一端为延迟模块11的输入端，第一电阻R的第二端与第一电容C的第一端连接并形成延迟模块11的输出端，第一电容C的第二端接地。上述实施例中的延迟模块由电阻和电容组成，结构简单且成本低，同时能够通过延迟控制模块30改变RC的阻值与容值以调节延迟大小。如图7所示，在一个实施例中，栅极控制电路10包括延迟模块11，延迟模块11的数量与第一MOS管M1的数量相同；N个延迟模块11与N个第一MOS管M1一一对应连接；第N个延迟模块11的输入端与第N-1个延迟模块11的输出端、延迟控制模块30以及第N个第一MOS管M1的第三端共接。如图5所示，在一个实施例中，延迟模块11为数字时钟电路，数字时钟电路被配置为输出延迟信号，延迟信号的表达式为：dt=nT，其中T为时钟周期，n为延期周期数量。需要说明的是，本实施例中的延迟信号为数字信号；具体地，该数字信号实现的方式有三种，第一，由外部MCU控制器通过控制程序设定；第二，由栅极驱动电路架构内部电路设定；第三由外部MCU控制器及栅极驱动电路架构内部电路共同设定。实施例2如图8所示：本实施例提供了一种BLDC电机驱动电路，包括上述栅极驱动电路架构；MCU控制器200，MCU控制器200与栅极控制电路10连接，MCU控制器200被配置为输出PWM信号至栅极控制电路10；功率输出电路300，功率输出电路300与开关阵列模块20连接，功率输出电路300被配置为对接收到的栅极控制驱动信号进行第三信号转换控制，并输出第一驱动信号至电机。在一个实施例中，功率输出电路300为三相全桥电路，三相全桥电路包括U相上桥臂开关管、V相上桥臂开关管、W相上桥臂开关管、U相下桥臂开关管、V相下桥臂开关管和W相下桥臂开关管，栅极驱动电路架构的数量为六个，六个栅极驱动电路架构的输出端分别连接U相上桥臂开关管、V相上桥臂开关管、W相上桥臂开关管、U相下桥臂开关管、V相下桥臂开关管和W相下桥臂开关管。具体地，栅极驱动电路架构的数量有6个，每个栅极驱动电路架构分别对应输出栅极控制驱动信号至U相上桥臂开关管、V相上桥臂开关管、W相上桥臂开关管、U相下桥臂开关管、V相下桥臂开关管和W相下桥臂开关管，通过控制栅极控制驱动信号的特性，以减小及消除传统功率输出电路MOS管栅源电压的振荡现象。实施例3本实施例提供了一种栅极驱动电路架构控制方法，应用于上述的栅极驱动电路架构，该控制方法包括：基于开关阵列模块20输出栅极控制驱动信号的工作特性以及功率输出电路开关管的工作特性，确定系统振荡因素；振荡因素包括栅极控制驱动电流的上升斜率和幅度；根据Idrive∝W*2，确定影响栅极控制驱动电流的上升斜率和幅度的因素，其中，W指的是第一MOS管M1的沟道宽度，VGS指的是第一MOS管M1的栅源电压，VTH指的是第一MOS管M1的阈值电压，Idrive指的是栅极控制驱动电流,即栅极控制驱动信号；通过改变预先设计开关阵列模块20第一MOS管M1的沟道宽度W从而改变栅极控制驱动电流的幅度，通过调节开关阵列模块20第一MOS管M1的开启时间从而控制栅极控制驱动电流的上升斜率。需要说明的是，开关阵列模块20中第一MOS管M1导通后，能提供的导通电流是通过沟道宽度这个参数决定的，当MOS管沟道宽度越大，电阻率越小，能过的电流就越大；反之，沟道宽度越小，电阻率越大，能过的电流就越小。其中，沟道宽度W由MOS管制作时决定。在一个实施例中，通过调节开关阵列模块第一MOS管的开启时间从而控制栅极控制驱动电流的上升斜率的具体方法包括：根据公式Idrive= Ids_1+ Ids_2+ …… + Ids_n，通过延迟模块11和延迟控制模块30配合，依次把开关阵列模块20中的第一MOS管M1导通，其导通的时间由延迟控制模块30控制，当相邻两个第一MOS管M1导通的间隔时间越短，电流上升越快，则栅极控制驱动电流的上升斜率就越大，反之，相邻两个第一MOS管M1导通的间隔时间越长，电流上升越短，则栅极控制驱动电流的上升斜率就越小；其中，Ids_n指的是对应第n个第一MOS管M1的导通电流。其中，延迟控制模块30可以是微控制单元。具体地，开关阵列模块20的各个MOS管导通后能够提供一定幅度的导通电流，该导通电流的大小由该MOS管的沟道宽度决定；再者，通过延迟控制模块30以及延迟模块11配合，精准控制开关阵列模块20中的每个第一MOS管M1依次导通，从而实现开关阵列模块20输出的栅极控制驱动电流逐步迭加电流增大的过程，当依次导通MOS的间隔时间越短，则斜率越大，电流上升越快；反之，则斜率越小，电流上升越缓慢。上述的BLDC电机驱动电路控制方法，通过具有多个MOS管并联的开关阵列模块20代替传统栅极驱动电路中的单个驱动MOS管，同时利用延迟模块11以及延迟控制模块30实现对开关阵列模块20输出的栅极控制驱动电流的上升斜率进行控制，从而达到减小及消除BLDC驱动系统振荡的目的。相对于传统方法中在芯片外部额外增加RC元件做法，本方法能够有效减小及消除驱动系统振荡，同时还降低了成本，提高市场竞争力。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本发明专利的保护范围应以所附权利要求为准。
