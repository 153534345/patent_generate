标题title
基于无线网络的RDSS短报文功能实现系统及方法
摘要abst
本发明实施例公开了一种基于无线网络的RDSS短报文功能实现系统及方法，所述系统包括公网手机和RDSS短报文装置，RDSS短报文装置由单片机、北斗三号RDSS短报文模块、RDSS天线以及WIFI模块组成，单片机通过WIFI模块设置为AP热点模式，公网手机通过WIFI连接到WIFI模块的AP热点上。本发明利用手机的WIFI功能或者其他无线传输方式实现公网手机收发RDSS短报文功能，一台RDSS短报文装置可以连接多个公网手机，避免资源浪费，节省消费者在RDSS产品上的开销。
权利要求书clms
1.一种基于无线网络的RDSS短报文功能实现系统，其特征在于，包括公网手机和RDSS短报文装置，RDSS短报文装置由单片机、北斗三号RDSS短报文模块、RDSS天线以及WIFI模块组成，单片机控制WIFI模块设置为AP热点模式，公网手机通过WIFI连接到WIFI模块的AP热点上；公网手机配置短报文参数和报文信息，得到编辑完成后的短报文信息，再通过TCP/IP协议将短报文信息发送给RDSS短报文装置；RDSS短报文装置收到短报文信息后，将接收到的短报文信息进行重新编排并且对此短报文进行加扰，再通过RDSS短报文装置的RDSS天线将短报文信息发送给北斗三号卫星，北斗三号卫星将收到的此短报文信息转发给地面信关站，地面信关站收到此短报文信息后再将此短报文信息转发给北斗三号卫星，北斗三号卫星收到此短报文信息后再转发给RDSS短报文接收机用户；当RDSS短报文装置接收到北斗三号卫星转发的短报文信息后，首先会根据RDSS协议解析出短报文信息中的接收方北斗SIM卡号是否为本RDSS短报文装置的北斗SIM卡卡号，如果本RDSS短报文装置的SIM卡卡号与短报文信息中的接收方北斗SIM卡号相同，那么本RDSS短报文装置将对此短报文进行解扰，然后再将解扰后的短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，再通过接收方公网SIM卡卡号查找对应的WIFI子节点，再将短报文信息转发给此WIFI子节点对应的公网手机上。2.如权利要求1所述的基于无线网络的RDSS短报文功能实现系统，其特征在于，所述公网手机通过预设的短报文自定义协议配置短报文参数和报文信息，得到编辑完成后的短报文信息，调用手机操作系统WIFI协议，将得到的短报文信息进行打包，然后再通过TCP/IP协议将短报文信息发送到WIFI模块的AP节点上；WIFI模块收到此短报文信息后通过串口将此短报文信息转发给单片机，单片机收到短报文信息后，根据预设的短报文自定义协议规定的格式提取接收方北斗三号RDSS短报文SIM卡卡号，并按照北斗三号RDSS短报文标准协议格式将接收到的短报文信息进行重新编排，再通过串口将重新编排的短报文信息转发到北斗三号RDSS短报文模块，北斗三号RDSS短报文模块接收到短报文信息后对此短报文信息进行加扰，通过RDSS协议将短报文信息调制到RDSS L频段载波上，再通过RDSS天线将短报文信息发送到北斗三号卫星，北斗三号卫星接收到信息后再转发给接收方；当北斗RDSS短报文模块接收到北斗三号卫星转发的短报文信息后，会根据RDSS协议解析出短报文信息中的接收方北斗SIM卡号是否为本RDSS短报文模块的北斗SIM卡卡号，如果本RDSS短报文模块的SIM卡卡号与短报文信息中的接收方北斗SIM卡号相同，那么本RDSS短报文模块将对此短报文进行解扰，RDSS短报文模块通过串口将解扰后的短报文信息发送给单片机，单片机接收到短报文信息后会根据短报文自定义协议，对短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，单片机通过接收方公网SIM卡卡号查找对应的WIFI子节点，并通过WIFI模块将短报文转发到此WIFI子节点对应的公网手机上。3.如权利要求2所述的基于无线网络的RDSS短报文功能实现系统，其特征在于，所述预设的短报文自定义协议中定义了短报文格式：帧头+发送方公网SIM卡卡号+发送方北斗三号RDSS短报文SIM卡卡号+接收方公网SIM卡卡号+接收方北斗三号RDSS短报文SIM卡卡号+短报文内容+帧尾。4.如权利要求3所述的基于无线网络的RDSS短报文功能实现系统，其特征在于，所述帧头是固定的，标识短报文发送；发送方公网SIM卡卡号由公网手机通过查询SIM卡系统函数直接获取；发送方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者读取SIM卡卡号获得；接收方公网SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取，如果接收方无公网SIM卡卡号则使用默认缺省值；接收方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取；短报文内容由用户自定义编写；帧尾是固定的，标识短报文内容结束。5.一种基于无线网络的RDSS短报文功能实现方法，其特征在于，包括：发送步骤：公网手机配置短报文参数和报文信息，得到编辑完成后的短报文信息，再通过TCP/IP协议将短报文信息发送给RDSS短报文装置；RDSS短报文装置收到短报文信息后，将接收到的短报文信息进行重新编排、加扰，再通过RDSS天线将短报文信息发送到北斗三号卫星；接收步骤：当RDSS短报文装置接收到北斗三号卫星发送的短报文信息后，会根据RDSS协议解析出短报文信息中的接收方北斗SIM卡号是否为本RDSS短报文装置的北斗SIM卡卡号，如果本RDSS短报文装置的SIM卡卡号与短报文信息中的接收方北斗SIM卡号相同，那么本RDSS短报文装置将对此短报文进行解扰，再对短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，再通过接收方公网SIM卡卡号查找对应的WIFI子节点，将短报文转发到此WIFI子节点对应的公网手机上。6.如权利要求5所述的基于无线网络的RDSS短报文功能实现方法，其特征在于，发送步骤具体为：所述公网手机通过预设的短报文自定义协议配置短报文参数和报文信息，得到编辑完成后的短报文信息，调用手机操作系统WIFI协议，将得到的短报文信息进行打包，然后再通过TCP/IP协议将短报文信息发送到WIFI模块的AP节点上；WIFI模块将接收到短报文信息通过串口转发给单片机，单片机收到短报文信息后，根据预设的短报文自定义协议规定的格式提取接收方北斗三号RDSS短报文SIM卡卡号，并按照北斗三号RDSS短报文标准协议格式将接收到的短报文信息进行重新编排，再通过串口将重新编排的短报文信息转发到北斗三号RDSS短报文模块，北斗三号RDSS短报文模块接收到短报文信息后对此短报文信息进行加扰，并通过RDSS协议将短报文信息调制到RDSS L频段载波上，再通过RDSS天线将短报文信息发送到北斗三号卫星，北斗三号卫星接收到信息后再转发给接收方；接收步骤具体为：当北斗RDSS短报文模块接收到北斗三号卫星发送的短报文信息后，会根据RDSS协议解析出短报文信息中的接收方北斗SIM卡号是否为本RDSS短报文模块的北斗SIM卡卡号，如果本RDSS短报文模块的SIM卡卡号与短报文信息中的接收方北斗SIM卡号相同，那么本RDSS短报文模块将对此短报文进行解扰，RDSS短报文模块通过串口将短报文信息发送给单片机，单片机接收到短报文信息后会根据短报文自定义协议，对短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，单片机通过接收方公网SIM卡卡号查找对应的WIFI子节点，并通过WIFI模块将短报文转发到此WIFI子节点对应的公网手机上。7.如权利要求6所述的基于无线网络的RDSS短报文功能实现方法，其特征在于，所述预设的短报文自定义协议中定义了短报文格式：帧头+发送方公网SIM卡卡号+发送方北斗三号RDSS短报文SIM卡卡号+接收方公网SIM卡卡号+接收方北斗三号RDSS短报文SIM卡卡号+短报文内容+帧尾。8.如权利要求7所述的基于无线网络的RDSS短报文功能实现方法，其特征在于，所述帧头是固定的，标识短报文发送；发送方公网SIM卡卡号由公网手机通过查询SIM卡系统函数直接获取；发送方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者读取SIM卡卡号获得；接收方公网SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取，如果接收方无公网SIM卡卡号则使用默认缺省值；接收方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取；短报文内容由用户自定义编写；帧尾是固定的，标识短报文内容结束。
说明书desc
技术领域本发明涉及RDSS短报文技术领域，尤其涉及一种基于无线网络的RDSS短报文功能实现系统及方法。背景技术北斗三号卫星导航系统空间段由5颗静止轨道卫星和30颗非静止轨道卫星组成，提供两种服务方式，即开放服务和授权服务。开放服务是在服务区中免费提供定位、测速和授时服务，定位精度为10米，授时精度为50纳秒，测速精度0.2米/秒。授权服务是向授权用户提供更安全的定位、测速、授时和通信服务以及系统完好性信息。2022年11月，全球首款支持北斗三号RDSS区域短报文通信服务的华为手机已正式发布。目前市场上的RDSS区域短报文通信手机只实现了单发功能，没有接收功能，并且每台手机只能自己使用RDSS短报文功能。目前的北斗三号RDSS短报文与RDSS产品都是一一绑定的，就是产品要支持北斗三号RDSS短报文功能就必须要集成RDSS短报文硬件，而北斗三号短报文功能又不是经常使用的功能，一般是多人野外游玩、海上等没有公网信号，应急时才会用到，但是没人都买一套北斗三号RDSS短报文产品又会造成资源浪费。如果用一种无线传输方法，将一台北斗三号RDSS短报文产品变成无线AP，其他无线设备可以连接到这个北斗三号RDSS短报文产品上，让其他无线设备也可以实现北斗三号RDSS短报文功能，这样就可以节省很多成本。发明内容本发明实施例所要解决的技术问题在于，提供一种基于无线网络的RDSS短报文功能实现系统及方法，以使手机通过无线网络实现北斗三号RDSS短报文功能。为了解决上述技术问题，本发明实施例提出了一种基于无线网络的RDSS短报文功能实现系统，包括公网手机和RDSS短报文装置，RDSS短报文装置由单片机、北斗三号RDSS短报文模块、RDSS天线以及WIFI模块组成，单片机控制WIFI模块设置为AP热点模式，公网手机通过WIFI连接到WIFI模块的AP热点上；公网手机配置短报文参数和报文信息，得到编辑完成后的短报文信息，再通过TCP/IP协议将短报文信息发送给RDSS短报文装置；RDSS短报文装置收到短报文信息后，将接收到的短报文信息进行重新编排并且对此短报文进行加扰，再通过RDSS短报文装置的RDSS天线将短报文信息发送给北斗三号卫星，北斗三号卫星将收到的此短报文信息转发给地面信关站，地面信关站收到此短报文信息后再将此短报文信息转发给北斗三号卫星，北斗三号卫星收到此短报文信息后再转发给RDSS短报文接收机用户；当RDSS短报文装置接收到北斗三号卫星转发的短报文信息后，首先会根据RDSS协议解析出短报文信息中的接收方北斗SIM卡号是否为本RDSS短报文装置的北斗SIM卡卡号，如果本RDSS短报文装置的SIM卡卡号与短报文信息中的接收方北斗SIM卡号相同，那么本RDSS短报文装置将对此短报文进行解扰，然后再将解扰后的短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，再通过接收方公网SIM卡卡号查找对应的WIFI子节点，再将短报文信息转发给此WIFI子节点对应的公网手机上。进一步地，所述公网手机通过预设的短报文自定义协议配置短报文参数和报文信息，得到编辑完成后的短报文信息，调用手机操作系统WIFI协议，将得到的短报文信息进行打包，然后再通过TCP/IP协议将短报文信息发送到WIFI模块的AP节点上；WIFI模块收到此短报文信息后通过串口将此短报文信息转发给单片机，单片机收到短报文信息后，根据预设的短报文自定义协议规定的格式提取接收方北斗三号RDSS短报文SIM卡卡号，并按照北斗三号RDSS短报文标准协议格式将接收到的短报文信息进行重新编排，再通过串口将重新编排的短报文信息转发到北斗三号RDSS短报文模块，北斗三号RDSS短报文模块接收到短报文信息后对此短报文信息进行加扰，通过RDSS协议将短报文信息调制到RDSS L频段载波上，再通过RDSS天线将短报文信息发送到北斗三号卫星，北斗三号卫星接收到信息后再转发给接收方；当北斗RDSS短报文模块接收到北斗三号卫星转发的短报文信息后，会根据RDSS协议解析出短报文信息中的接收方北斗SIM卡号是否为本RDSS短报文模块的北斗SIM卡卡号，如果本RDSS短报文模块的SIM卡卡号与短报文信息中的接收方北斗SIM卡号相同，那么本RDSS短报文模块将对此短报文进行解扰，RDSS短报文模块通过串口将解扰后的短报文信息发送给单片机，单片机接收到短报文信息后会根据短报文自定义协议，对短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，单片机通过接收方公网SIM卡卡号查找对应的WIFI子节点，并通过WIFI模块将短报文转发到此WIFI子节点对应的公网手机上。进一步地，所述预设的短报文自定义协议中定义了短报文格式：帧头+发送方公网SIM卡卡号+发送方北斗三号RDSS短报文SIM卡卡号+接收方公网SIM卡卡号+接收方北斗三号RDSS短报文SIM卡卡号+短报文内容+帧尾。进一步地，所述帧头是固定的，标识短报文发送；发送方公网SIM卡卡号由公网手机通过查询SIM卡系统函数直接获取；发送方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者读取SIM卡卡号获得；接收方公网SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取，如果接收方无公网SIM卡卡号则使用默认缺省值；接收方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取；短报文内容由用户自定义编写；帧尾是固定的，标识短报文内容结束。相应地，本发明实施例还提供了一种基于无线网络的RDSS短报文功能实现方法，包括：发送步骤：公网手机配置短报文参数和报文信息，得到编辑完成后的短报文信息，再通过TCP/IP协议将短报文信息发送给RDSS短报文装置；RDSS短报文装置收到短报文信息后，将接收到的短报文信息进行重新编排、加扰，再通过RDSS天线将短报文信息发送到北斗三号卫星；接收步骤：当RDSS短报文装置接收到北斗三号卫星发送的短报文信息后，会根据RDSS协议解析出短报文信息中的接收方北斗SIM卡号是否为本RDSS短报文装置的北斗SIM卡卡号，如果本RDSS短报文装置的SIM卡卡号与短报文信息中的接收方北斗SIM卡号相同，那么本RDSS短报文装置将对此短报文进行解扰，再对短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，再通过接收方公网SIM卡卡号查找对应的WIFI子节点，将短报文转发到此WIFI子节点对应的公网手机上。进一步地，发送步骤具体为：所述公网手机通过预设的短报文自定义协议配置短报文参数和报文信息，得到编辑完成后的短报文信息，调用手机操作系统WiFi协议，将得到的短报文信息进行打包，然后再通过TCP/IP协议将短报文信息发送到WIFI模块的AP节点上；WIFI模块将接收到的短报文信息通过串口转发给单片机，单片机接收到短报文信息后，根据预设的短报文自定义协议规定的格式提取接收方北斗三号RDSS短报文SIM卡卡号，并按照北斗三号RDSS短报文标准协议格式将接收到的短报文信息进行重新编排，再通过串口将重新编排的短报文信息转发到北斗三号RDSS短报文模块，北斗三号RDSS短报文模块接收到短报文信息后对此短报文信息进行加扰，并通过RDSS协议将短报文信息调制到RDSS L频段载波上，再通过RDSS天线将短报文信息发送到北斗三号卫星，北斗三号卫星接收到信息后再转发给接收方；接收步骤具体为：当北斗RDSS短报文模块接收到北斗三号卫星发送的短报文信息后，会根据RDSS协议解析出短报文信息中的接收方北斗SIM卡号是否为本RDSS短报文模块的北斗SIM卡卡号，如果本RDSS短报文模块的SIM卡卡号与短报文信息中的接收方北斗SIM卡号相同，那么本RDSS短报文模块将对此短报文进行解扰，RDSS短报文模块通过串口将短报文信息发送给单片机，单片机接收到短报文信息后会根据短报文自定义协议，对短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，单片机通过接收方公网SIM卡卡号查找对应的WIFI子节点，并通过WIFI模块将短报文转发到此WIFI子节点对应的公网手机上。进一步地，所述预设的短报文自定义协议中定义了短报文格式：帧头+发送方公网SIM卡卡号+发送方北斗三号RDSS短报文SIM卡卡号+接收方公网SIM卡卡号+接收方北斗三号RDSS短报文SIM卡卡号+短报文内容+帧尾。进一步地，所述帧头是固定的，标识短报文发送；发送方公网SIM卡卡号由公网手机通过查询SIM卡系统函数直接获取；发送方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者读取SIM卡卡号获得；接收方公网SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取，如果接收方无公网SIM卡卡号则使用默认缺省值；接收方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取；短报文内容由用户自定义编写；帧尾是固定的，标识短报文内容结束。本发明的有益效果为：本发明利用手机的WIFI功能或者其他无线传输方式实现公网手机收发RDSS短报文功能，一台RDSS短报文装置可以连接多个公网手机，避免资源浪费，节省消费者在RDSS产品上的开销。附图说明图1是本发明实施例的基于无线网络的RDSS短报文功能实现系统的结构框图。图2是本发明实施例的公网手机实现RDSS短报文发送功能的流程示意图。图3是本发明实施例的公网手机发送短报文的UI设计框图。图4是本发明实施例的RDSS短报文装置实现RDSS短报文发送功能的流程示意图。图5是本发明实施例的RDSS短报文装置实现RDSS短报文接收功能的流程示意图。图6是本发明实施例的公网手机接收短报文的UI设计框图。实施方式需要说明的是，在不冲突的情况下，本申请中的实施例及实施例中的特征可以相互结合，下面结合附图和具体实施例对本发明作进一步详细说明。本发明实施例中若有方向性指示仅用于解释在某一特定姿态下各部件之间的相对位置关系、运动情况等，如果该特定姿态发生改变时，则该方向性指示也相应地随之改变。另外，在本发明中若涉及“第一”、“第二”等的描述仅用于描述目的，而不能理解为指示或暗示其相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。请参照图1，本发明实施例的基于无线网络的RDSS短报文功能实现系统包括公网手机和RDSS短报文装置。RDSS短报文装置由单片机、北斗三号RDSS短报文模块、RDSS天线以及WIFI模块组成。单片机控制WIFI模块设置为AP热点模式，公网手机通过WIFI连接到WIFI模块的AP热点上。具体实施时，WIFI无线传输也可以替换为蓝牙无线传输，WIFI模块也可通过蓝牙模块实现，公网手机通过WIFI功能或者蓝牙功能实现收发北斗三号RDSS短报文功能。单片机：主要作用是协议处理、数据传输和控制，通过串口与北斗三号RDSS短报文模块通信，读取和发送短报文信息，配置WIFI模块和北斗三号RDSS短报文模块，运行短报文无线传输自定义协议等。北斗三号RDSS短报文模块：主要实现北斗三号RDSS短板文的接收和发射功能。WIFI模块：单片机通过串口设置WIFI模组工作在AP模式下，公网手机等WIFI设备可以连接此AP节点。RDSS天线：接收和发射卫星信号。公网手机实现RDSS短报文发送功能的软件实现分为两个部分，一个部分是公网手机APP部分与单片机软件处理转发部分。公网手机发射部分：请参照图2，首先需要设计RDSS短报文APP，APP中自定义了短报文自定义协议，短报文自定义协议中定义了短报文格式：帧头+发送方公网SIM卡卡号+发送方北斗三号RDSS短报文SIM卡卡号+接收方公网SIM卡卡号+接收方北斗三号RDSS短报文SIM卡卡号+短报文内容+帧尾。其中帧头是固定的，由自定义协议来规定，标识短报文发送；发送方公网SIM卡卡号由APP通过调用查询SIM卡系统函数直接获取；发送方北斗三号RDSS短报文SIM卡卡号可以手动填写或者通过WIFI访问单片机，通过单边机读取SIM卡卡号；接收方公网SIM卡卡号可以手动填写或者由APP通过调用查询电话本系统函数获取，如果接收方无公网SIM卡卡号则使用默认缺省值；接收方北斗三号RDSS短报文SIM卡卡号可以手动填写或者由APP通过调用查询电话本系统函数获取；短报文内容由用户自定义编写；帧尾是固定的，由自定义协议规定，标识短报文内容结束。其次，将上述的参数及报文信息编辑完成后，在操作短报文发送时，APP通过调用手机操作系统WIFI协议，将编辑完成后的信息进行打包，然后再通过TCP/IP协议将信息发送到WIFI模块AP节点上。公网手机APP软件的发送短报文UI设计框图参见图3所示。单片机部分：请参照图4，单片机中同样自定义了与公网手机相同的短报文自定义协议，单片机软件初始化时需要增加WIFI模块设置为AP热点模式，公网手机可以通过WIFI连接到WIFI模块的AP热点上，公网手机发送的短报文信息是按照自定义协议规定格式通过WIFI传输到单片机，单片机收到短报文信息后会根据自定义协议规定的格式提取接收方北斗三号RDSS短报文SIM卡卡号，并按照北斗三号RDSS短报文标准协议格式将接收到的短报文信息进行重新编排，再通过串口将重新编排的短报文信息转发到北斗三号RDSS短报文模块，RDSS短报文模块接收到短报文信息后进行加扰，并通过RDSS协议将短报文信息调制到RDSS L频段载波上，再通过RDSS天线将短报文信息发送到北斗三号卫星，北斗三号卫星接收到信息后再转发给接收方。公网手机实现RDSS短报文接收功能：请参照图5，公网手机接收RDSS短报文流程与发送短报文流程相反，单片机运行短报文自定义协议后，设置WIFI模块的工作模式为AP模式，当北斗RDSS短报文模块接收到短报文信息后，会根据RDSS协议解析出短报文信息，RDSS短报文模块通过串口将短报文信息发送给单片机，单片机接收到短报文信息后会根据短报文自定义协议，对短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，单片机通过接收方公网SIM卡卡号查找对应的WIFI子节点，并通过WIFI模块将短报文转发到此WIFI子节点对应的公网手机上。公网手机APP软件的接收短报文UI设计框图参见图6。本发明实施例的基于无线网络的RDSS短报文功能实现方法包括发送步骤和接收步骤。发送步骤具体为：所述公网手机通过预设的短报文自定义协议配置短报文参数和报文信息，得到编辑完成后的短报文信息，调用手机操作系统WIFI协议，将得到的短报文信息进行打包，然后再通过TCP/IP协议将短报文信息发送到WIFI模块的AP节点上；WIFI模块将接收到的短报文信息通过串口发送给单片机，单片机收到短报文信息后，根据预设的短报文自定义协议规定的格式提取接收方北斗三号RDSS短报文SIM卡卡号，并按照北斗三号RDSS短报文标准协议格式将接收到的短报文信息进行重新编排，再通过串口将重新编排的短报文信息转发到北斗三号RDSS短报文模块，北斗三号RDSS短报文模块接收到短报文信息后进行加扰，并通过RDSS协议将短报文信息调制到RDSS L频段载波上，再通过RDSS天线将短报文信息发送到北斗三号卫星，北斗三号卫星接收到信息后再转发给接收方；接收步骤具体为：当北斗RDSS短报文模块接收到北斗三号卫星转发的短报文信息后，会根据RDSS协议解析出短报文信息中的接收方北斗SIM卡号是否为本RDSS短报文模块的北斗SIM卡卡号，如果本RDSS短报文模块的SIM卡卡号与短报文信息中的接收方北斗SIM卡号相同，那么本RDSS短报文模块将对此短报文进行解扰，RDSS短报文模块通过串口将解扰后的短报文信息发送给单片机，单片机接收到短报文信息后会根据短报文自定义协议，对短报文信息格式进行重新编排，并且解析出短报文信息中的发送方和接收方公网手机SIM卡号，单片机通过接收方公网SIM卡卡号查找对应的WIFI子节点，并通过WIFI模块将短报文转发到此WIFI子节点对应的公网手机上。作为一种实施方式，所述预设的短报文自定义协议中定义了短报文格式：帧头+发送方公网SIM卡卡号+发送方北斗三号RDSS短报文SIM卡卡号+接收方公网SIM卡卡号+接收方北斗三号RDSS短报文SIM卡卡号+短报文内容+帧尾。作为一种实施方式，所述帧头是固定的，标识短报文发送；发送方公网SIM卡卡号由公网手机通过查询SIM卡系统函数直接获取；发送方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者读取SIM卡卡号获得；接收方公网SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取，如果接收方无公网SIM卡卡号则使用默认缺省值；接收方北斗三号RDSS短报文SIM卡卡号由用户手动填写或者由公网手机通过调用查询电话本系统函数获取；短报文内容由用户自定义编写；帧尾是固定的，标识短报文内容结束。尽管已经示出和描述了本发明的实施例，对于本领域的普通技术人员而言，可以理解在不脱离本发明的原理和精神的情况下可以对这些实施例进行多种变化、修改、替换和变型，本发明的范围由所附权利要求及其等同范围限定。
