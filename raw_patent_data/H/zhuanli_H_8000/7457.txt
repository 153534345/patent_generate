标题title
网络传输链路的故障分析方法及装置
摘要abst
本申请公开了一种网络传输链路的故障分析方法及装置。其中，该方法包括：获取目标传输链路中所传输的目标报文，其中，目标传输链路为传输异常的网络传输链路；依据预设的M个目标字段从目标报文中提取M个第一数据；对M个第一数据进行数据加工处理，得到N个第二数据，其中，N个第二数据中至少包括第一目标数据和第二目标数据，第一目标数据用于表征目标传输链路对应的多个网络层次，第二目标数据用于表征目标报文在每个网络层次传输时的传输状态，N为大于1的整数；根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次。本申请解决了现有技术中对网络传输链路的故障分析效率低的技术问题。
权利要求书clms
1.一种网络传输链路的故障分析方法，其特征在于，包括：获取目标传输链路中所传输的目标报文，其中，所述目标传输链路为传输异常的网络传输链路；依据预设的M个目标字段从所述目标报文中提取M个第一数据，其中，每个第一数据与一个目标字段相对应，每个目标字段用于表征所述目标报文的一个网络传输特征，M为大于1的整数；对所述M个第一数据进行数据加工处理，得到N个第二数据，其中，所述N个第二数据中至少包括第一目标数据和第二目标数据，所述第一目标数据用于表征所述目标传输链路对应的多个网络层次，所述第二目标数据用于表征所述目标报文在每个网络层次传输时的传输状态，N为大于1的整数；根据所述第一目标数据和所述第二目标数据确定所述目标传输链路中发生故障的目标网络层次。2.根据权利要求1所述的方法，其特征在于，获取目标传输链路中所传输的目标报文，包括：获取所述目标传输链路中传输的多个报文；检测所述多个报文中是否存在第一报文和/或第二报文，其中，所述第一报文为重传次数超过第一预设次数的报文，所述第二报文为传输顺序的错误次数超过第二预设次数的报文；在所述多个报文中存在所述第一报文和/或所述第二报文时，从所述多个报文中删除所述第一报文和所述第二报文，得到所述目标报文。3.根据权利要求1所述的方法，其特征在于，依据预设的M个目标字段从目标报文中提取M个第一数据，包括：根据所述M个目标字段中的第一字段从所述目标报文中提取出多个第一特征数据，其中，所述多个第一特征数据为所述目标报文中基于IP协议进行传输的数据；根据所述M个目标字段中的第二字段从所述目标报文中提取出多个第二特征数据，其中，所述多个第二特征数据为所述目标报文中基于TCP协议进行传输的数据；根据所述M个目标字段中的第三字段从所述目标报文中提取出多个第三特征数据，其中，所述多个第三特征数据为所述目标报文中基于HTTP协议进行传输的数据，所述M个第一数据至少包括所述多个第一特征数据、所述多个第二特征数据以及所述多个第三特征数据。4.根据权利要求3所述的方法，其特征在于，对所述M个第一数据进行数据加工处理，得到N个第二数据，包括：从所述多个第一特征数据中获取所述目标报文对应的当前TTL跳次以及所述目标报文的TTL初始值；根据所述TTL初始值和所述当前TTL跳次确定所述目标传输链路对应的多个网络层次，其中，所述多个网络层次至少包括第一网络层次、第二网络层次、第三网络层次以及第四网络层次，所述第一网络层次用于表征城域网和光接入网，所述第二网络层次用于表征用户内网，所述第三网络层次用于表征用户终端，所述第四网络层次用于表征网络业务提供商和广域网；根据所述多个网络层次确定所述N个第二数据中的第一目标数据。5.根据权利要求4所述的方法，其特征在于，在根据所述TTL初始值和所述当前TTL跳次确定所述目标传输链路对应的多个网络层次之后，所述方法还包括：确定所述目标传输链路在所述第一网络层次中基于所述TCP协议进行传输的报文为第一报文；确定所述目标传输链路在所述第二网络层次中基于所述TCP协议进行传输的报文为第二报文；确定所述目标传输链路在所述第三网络层次中基于所述TCP协议进行传输的报文为第三报文；从所述多个第二特征数据中获取第一重传报文数量、第二重传报文数量以及第三重传报文数量，其中，所述第一重传报文数量为第一异常报文的数量，所述第一异常报文为重复传输的第一报文，所述第二重传报文数量为第二异常报文的数量，所述第二异常报文为重复传输的第二报文，所述第三重传报文数量为第三异常报文的数量，所述第三异常报文为重复传输的第二报文。6.根据权利要求5所述的方法，其特征在于，所述方法还包括：获取第一乱序报文数量，其中，所述第一乱序报文数量为第四异常报文的数量，所述第四异常报文为传输顺序存在错误的第一报文；获取第二乱序报文数量，其中，所述第二乱序报文数量为第五异常报文的数量，所述第五异常报文为传输顺序存在错误的第二报文；获取第三乱序报文数量，其中，所述第三乱序报文数量为第六异常报文的数量，所述第六异常报文为传输顺序存在错误的第三报文，所述多个第二特征数据中至少包括所述第一乱序报文数量、所述第二乱序报文数量以及所述第三乱序报文数量。7.根据权利要求5所述的方法，其特征在于，对所述M个第一数据进行数据加工处理，得到N个第二数据，包括：获取第一报文的总数量、第二报文的总数量以及第三报文的总数量；计算所述第一重传报文数量与所述第一报文的总数量之间的比值，得到所述第一报文的重传率；计算所述第二重传报文数量与所述第二报文的总数量之间的比值，得到所述第二报文的重传率；计算所述第三重传报文数量与所述第三报文的总数量之间的比值，得到所述第三报文的重传率，其中，所述N个第二数据中的第二目标数据至少包括所述第一报文的重传率、所述第二报文的重传率以及所述第三报文的重传率。8.根据权利要求6所述的方法，其特征在于，对所述M个第一数据进行数据加工处理，得到N个第二数据，包括：计算所述第一乱序报文数量与所述第一报文的总数量之间的比值，得到所述第一报文的乱序率；计算所述第二乱序报文数量与所述第二报文的总数量之间的比值，得到所述第二报文的乱序率；计算所述第三乱序报文数量与所述第三报文的总数量之间的比值，得到所述第三报文的乱序率，其中，所述N个第二数据中的第二目标数据至少包括所述第一报文的乱序率、所述第二报文的乱序率以及所述第三报文的乱序率。9.根据权利要求7所述的方法，其特征在于，根据第一目标数据和第二目标数据确定所述目标传输链路中发生故障的目标网络层次，包括：在所述第一报文的重传率大于第一预设阈值的情况下，确定发生故障的目标网络层次为所述第一网络层次；在所述第二报文的重传率大于第二预设阈值的情况下，确定发生故障的目标网络层次为所述第二网络层次；在所述第三报文的重传率大于第三预设阈值的情况下，确定发生故障的目标网络层次为所述第三网络层次。10.根据权利要求8所述的方法，其特征在于，根据第一目标数据和第二目标数据确定所述目标传输链路中发生故障的目标网络层次，包括：在所述第一报文的乱序率大于第四预设阈值的情况下，确定发生故障的目标网络层次为所述第一网络层次；在所述第二报文的乱序率大于第五预设阈值的情况下，确定发生故障的目标网络层次为所述第一网络层次；在所述第三报文的乱序率大于第六预设阈值的情况下，确定发生故障的目标网络层次为所述第一网络层次。11.根据权利要求4所述的方法，其特征在于，根据第一目标数据和第二目标数据确定所述目标传输链路中发生故障的目标网络层次，包括：从所述多个第三特征数据中获取所述目标传输链路对应的第四报文的总数量以及第四重传报文数量，其中，所述第四报文为所述目标传输链路中基于所述HTTP协议进行传输的报文，所述第四重传报文数量为第七异常报文的数量，所述第七异常报文为重复传输的第四报文；计算所述第四重传报文数量与所述第四报文的总数量之间的比值，得到第四报文的重传率；检测所述第四报文的重传率是否大于预设重传率；在所述第四报文的重传率大于所述预设重传率的情况下，确定发生故障的目标网络层次为所述第四网络层次。12.根据权利要求3所述的方法，其特征在于，在根据第一目标数据和第二目标数据确定所述目标传输链路中发生故障的目标网络层次之后，所述方法还包括：获取所述目标传输链路对应的网络拓扑图，其中，所述网络拓扑图用于描述所述目标传输链路在每个网络层次中所对应的网络设备；根据所述网络拓扑图，确定所述目标网络层次对应的网络设备为待检测的目标网络设备。13.一种网络传输链路的故障分析装置，其特征在于，包括：获取模块，用于获取目标传输链路中所传输的目标报文，其中，所述目标传输链路为传输异常的网络传输链路；提取模块，用于依据预设的M个目标字段从所述目标报文中提取M个第一数据，其中，每个第一数据与一个目标字段相对应，每个目标字段用于表征所述目标报文的一个网络传输特征，M为大于1的整数；数据加工处理模块，用于对所述M个第一数据进行数据加工处理，得到N个第二数据，其中，所述N个第二数据中至少包括第一目标数据和第二目标数据，所述第一目标数据用于表征所述目标传输链路对应的多个网络层次，所述第二目标数据用于表征所述目标报文在每个网络层次传输时的传输状态，N为大于1的整数；确定模块，用于根据所述第一目标数据和所述第二目标数据确定所述目标传输链路中发生故障的目标网络层次。14.一种电子设备，其特征在于，包括一个或多个处理器和存储器，所述存储器用于存储一个或多个程序，其中，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述一个或多个处理器实现权利要求1至12中任意一项所述的网络传输链路的故障分析装置方法。
说明书desc
技术领域本申请涉及通信技术领域，具体而言，涉及一种网络传输链路的故障分析方法及装置。背景技术在现有技术中，运营商在收到用户反馈的网络传输链路异常的问题之后，通常是根据采集的DPI数据进行人工分析，然后根据分析结果，依据人员经验推断出网络传输链路中出现故障的网络层次。但是，现有技术中的这种故障分析方法需要依赖大量的人工经验，从而容易出现判断错误的情况，进而造成网络传输链路的故障分析效率较低的问题。针对上述的问题，目前尚未提出有效的解决方案。发明内容本申请实施例提供了一种网络传输链路的故障分析方法及装置，以至少解决现有技术中对网络传输链路的故障分析效率低的技术问题。根据本申请实施例的一个方面，提供了一种网络传输链路的故障分析方法，包括：获取目标传输链路中所传输的目标报文，其中，目标传输链路为传输异常的网络传输链路；依据预设的M个目标字段从目标报文中提取M个第一数据，其中，每个第一数据与一个目标字段相对应，每个目标字段用于表征目标报文的一个网络传输特征，M为大于1的整数；对M个第一数据进行数据加工处理，得到N个第二数据，其中，N个第二数据中至少包括第一目标数据和第二目标数据，第一目标数据用于表征目标传输链路对应的多个网络层次，第二目标数据用于表征目标报文在每个网络层次传输时的传输状态，N为大于1的整数；根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次。进一步地，网络传输链路的故障分析方法还包括：获取目标传输链路中传输的多个报文；检测多个报文中是否存在第一报文和/或第二报文，其中，第一报文为重传次数超过第一预设次数的报文，第二报文为传输顺序的错误次数超过第二预设次数的报文；在多个报文中存在第一报文和/或第二报文时，从多个报文中删除第一报文和第二报文，得到目标报文。进一步地，网络传输链路的故障分析方法还包括：根据M个目标字段中的第一字段从目标报文中提取出多个第一特征数据，其中，多个第一特征数据为目标报文中基于IP协议进行传输的数据；根据M个目标字段中的第二字段从目标报文中提取出多个第二特征数据，其中，多个第二特征数据为目标报文中基于TCP协议进行传输的数据；根据M个目标字段中的第三字段从目标报文中提取出多个第三特征数据，其中，多个第三特征数据为目标报文中基于HTTP协议进行传输的数据，M个第一数据至少包括多个第一特征数据、多个第二特征数据以及多个第三特征数据。进一步地，网络传输链路的故障分析方法还包括：从多个第一特征数据中获取目标报文对应的当前TTL跳次以及目标报文的TTL初始值；根据TTL初始值和当前TTL跳次确定目标传输链路对应的多个网络层次，其中，多个网络层次至少包括第一网络层次、第二网络层次、第三网络层次以及第四网络层次，第一网络层次用于表征城域网和光接入网，第二网络层次用于表征用户内网，第三网络层次用于表征用户终端，第四网络层次用于表征网络业务提供商和广域网；根据多个网络层次确定N个第二数据中的第一目标数据。进一步地，网络传输链路的故障分析方法还包括：在根据TTL初始值和当前TTL跳次确定目标传输链路对应的多个网络层次之后，确定目标传输链路在第一网络层次中基于TCP协议进行传输的报文为第一报文；确定目标传输链路在第二网络层次中基于TCP协议进行传输的报文为第二报文；确定目标传输链路在第三网络层次中基于TCP协议进行传输的报文为第三报文；从多个第二特征数据中获取第一重传报文数量、第二重传报文数量以及第三重传报文数量，其中，第一重传报文数量为第一异常报文的数量，第一异常报文为重复传输的第一报文，第二重传报文数量为第二异常报文的数量，第二异常报文为重复传输的第二报文，第三重传报文数量为第三异常报文的数量，第三异常报文为重复传输的第二报文。进一步地，网络传输链路的故障分析方法还包括：获取第一乱序报文数量，其中，第一乱序报文数量为第四异常报文的数量，第四异常报文为传输顺序存在错误的第一报文；获取第二乱序报文数量，其中，第二乱序报文数量为第五异常报文的数量，第五异常报文为传输顺序存在错误的第二报文；获取第三乱序报文数量，其中，第三乱序报文数量为第六异常报文的数量，第六异常报文为传输顺序存在错误的第三报文，多个第二特征数据中至少包括第一乱序报文数量、第二乱序报文数量以及第三乱序报文数量。进一步地，网络传输链路的故障分析方法还包括：获取第一报文的总数量、第二报文的总数量以及第三报文的总数量；计算第一重传报文数量与第一报文的总数量之间的比值，得到第一报文的重传率；计算第二重传报文数量与第二报文的总数量之间的比值，得到第二报文的重传率；计算第三重传报文数量与第三报文的总数量之间的比值，得到第三报文的重传率，其中，N个第二数据中的第二目标数据至少包括第一报文的重传率、第二报文的重传率以及第三报文的重传率。进一步地，网络传输链路的故障分析方法还包括：计算第一乱序报文数量与第一报文的总数量之间的比值，得到第一报文的乱序率；计算第二乱序报文数量与第二报文的总数量之间的比值，得到第二报文的乱序率；计算第三乱序报文数量与第三报文的总数量之间的比值，得到第三报文的乱序率，其中，N个第二数据中的第二目标数据至少包括第一报文的乱序率、第二报文的乱序率以及第三报文的乱序率。进一步地，网络传输链路的故障分析方法还包括：在第一报文的重传率大于第一预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次；在第二报文的重传率大于第二预设阈值的情况下，确定发生故障的目标网络层次为第二网络层次；在第三报文的重传率大于第三预设阈值的情况下，确定发生故障的目标网络层次为第三网络层次。进一步地，网络传输链路的故障分析方法还包括：在第一报文的乱序率大于第四预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次；在第二报文的乱序率大于第五预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次；在第三报文的乱序率大于第六预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次。进一步地，网络传输链路的故障分析方法还包括：从多个第三特征数据中获取目标传输链路对应的第四报文的总数量以及第四重传报文数量，其中，第四报文为目标传输链路中基于HTTP协议进行传输的报文，第四重传报文数量为第七异常报文的数量，第七异常报文为重复传输的第四报文；计算第四重传报文数量与第四报文的总数量之间的比值，得到第四报文的重传率；检测第四报文的重传率是否大于预设重传率；在第四报文的重传率大于预设重传率的情况下，确定发生故障的目标网络层次为第四网络层次。进一步地，网络传输链路的故障分析方法还包括：在根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次之后，获取目标传输链路对应的网络拓扑图，其中，网络拓扑图用于描述目标传输链路在每个网络层次中所对应的网络设备；根据网络拓扑图，确定目标网络层次对应的网络设备为待检测的目标网络设备。根据本申请实施例的另一方面，还提供了一种网络传输链路的故障分析装置，包括：获取模块，用于获取目标传输链路中所传输的目标报文，其中，目标传输链路为传输异常的网络传输链路；提取模块，用于依据预设的M个目标字段从目标报文中提取M个第一数据，其中，每个第一数据与一个目标字段相对应，每个目标字段用于表征目标报文的一个网络传输特征，M为大于1的整数；数据加工处理模块，用于对M个第一数据进行数据加工处理，得到N个第二数据，其中，N个第二数据中至少包括第一目标数据和第二目标数据，第一目标数据用于表征目标传输链路对应的多个网络层次，第二目标数据用于表征目标报文在每个网络层次传输时的传输状态，N为大于1的整数；确定模块，用于根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次。根据本申请实施例的另一方面，还提供了一种电子设备，该电子设备包括一个或多个处理器和存储器，存储器用于存储一个或多个程序，其中，当一个或多个程序被一个或多个处理器执行时，使得一个或多个处理器实现上述的网络传输链路的故障分析装置方法。在本申请中，采用根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次的方式，首先获取目标传输链路中所传输的目标报文，然后依据预设的M个目标字段从目标报文中提取M个第一数据，并对M个第一数据进行数据加工处理，得到N个第二数据，其中，N个第二数据中至少包括第一目标数据和第二目标数据，第一目标数据用于表征目标传输链路对应的多个网络层次，第二目标数据用于表征目标报文在每个网络层次传输时的传输状态，N为大于1的整数。最后，根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次。其中，每个第一数据与一个目标字段相对应，每个目标字段用于表征目标报文的一个网络传输特征，M为大于1的整数，目标传输链路为传输异常的网络传输链路。由上述内容可知，本申请通过预设的目标字段从目标报文中提取用于表征目标报文的网络传输特征的第一数据，一方面可以避免对其他无关数据的无效分析，另一方面还可以节约计算资源，从而能够实现提升故障分析效率的技术效果。另外，本申请通过第二数据中的第一目标数据和第二目标数据对目标传输链路的网络层次进行自动划分，并确定目标传输链路中发生故障的目标网络层次，从而不仅避免了由于依赖人工经验分析网络传输链路中发生故障的目标网络层次所导致的容易出现分析错误的问题，还能进一步提高对网络传输链路的故障分析效率。由此可见，本申请的技术方案达到了自动确定网络传输链路中发生故障的目标网络层次的目的，从而实现了降低网络传输链路的分析成本的技术效果，进而解决了现有技术中对网络传输链路的故障分析效率低的技术问题。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1是根据本申请实施例的一种可选的网络传输链路的故障分析方法的流程图；图2是根据本申请实施例的一种可选的网络传输链路的故障分析装置的示意图；图3是根据本申请实施例的一种可选的电子设备的示意图。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分的实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本申请保护的范围。需要说明的是，本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本申请的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。实施例1根据本申请实施例，提供了一种网络传输链路的故障分析方法的实施例，需要说明的是，在附图的流程图示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤。图1是根据本申请实施例的一种可选的网络传输链路的故障分析方法的流程图，如图1所示，该方法包括如下步骤：步骤S101，获取目标传输链路中所传输的目标报文。在步骤S101中，目标传输链路为传输异常的网络传输链路。在一种可选的实施例中，一种网络传输链路的故障分析系统可作为本申请实施例的网络传输链路的故障分析方法的执行主体。具体的，故障分析系统通过深度报文检测技术从目标传输链路中获取DPI话单数据，其中，DPI话单数据即为上述的目标报文。步骤S102，依据预设的M个目标字段从目标报文中提取M个第一数据。在步骤S102中，每个第一数据与一个目标字段相对应，每个目标字段用于表征目标报文的一个网络传输特征，M为大于1的整数。可选的，在故障分析系统中预先部署有指标关联框架，其中，在指标关联框架中，将DPI话单数据中相关的字段信息进行了明确分类。具体的，用户首先在故障分析系统中定义用户上网感知慢的指标体系，包括一级原因、二级原因及相应指标项，并将其归纳到对应的统计属性，按照统计属性的差异对应具体网络分段段落的分解过程，最终基于上述指标的分解过程，建立感知关联指标的基础定义和指标关联框架。其中，统计属性包括但不限于：按目的应用统计异常、按目的IP归属地统计异常、按时序统计异常、按TTL跳次统计异常、按终端收敛统计异常。为了获取这些统计属性，需要从目标报文中获取相应的数据，因此，故障分析系统支持根据预设的目标字段从目标报文中提取第一数据，其中，第一数据即为上述统计属性所需要的数据。具体的，由于一个DPI话单的传输过程中会涉及IP协议、TCP协议以及HTTP协议，因此，为了确保对目标传输链路进行完整全面的分析，本申请会基于每种协议确定对应的目标字段，并根据目标字段提取需要进行分析的第一数据。如表1所示，表1示出了根据本申请实施例的一种可选的目标字段的示例。表1/＞需要注意到的是，在现有技术中，运营商在实际DPI数据建立时主要以HTTP类应用上行报文作为数据来源，忽略了基于ip协议进行传输的数据以及基于TCP协议进行传输的数据，从而导致了分析的数据不够完善全面的问题。本申请除了对基于http协议进行传输的数据进行分析之外，还会对基于ip协议进行传输的数据以及基于TCP协议进行传输的数据一同进行分析，从而提高了分析数据的全面性。步骤S103，对M个第一数据进行数据加工处理，得到N个第二数据。在步骤S103中，N个第二数据中至少包括第一目标数据和第二目标数据，第一目标数据用于表征目标传输链路对应的多个网络层次，第二目标数据用于表征目标报文在每个网络层次传输时的传输状态，N为大于1的整数。可选的，为了丰富待分析的数据，本申请还会在目标字段的基础上结合外围数据进行二次丰富，生成扩展属性字段，供后期多维度统计分析过程使用，同时其可作为话单扩展标签进行。其中，扩展属性字段所对应的数据即为上述的第二数据，扩展属性字段的主要大类包括但不限于IP归属、网络跳次、重传乱序相关性、上下行流量相关性、用户终端相关性等要素。如表2所示，表2示出了根据本申请实施例的一种可选的第二数据的示例说明。表2/＞由上述内容可知，通过关联目标字段“上行IP包TTL”对应的第一数据，可以得到目标报文的TTL初始值和当前跳次，从而根据TTL初始值和当前跳次即可确定目标传输链路的网络层次，换言之，根据目标字段“上行IP包TTL”对应的第一数据，故障分析系统即可获取得到第一目标数据。另外，N个第二数据中除了第一目标数据之外，还至少包括第二目标数据，其中，第二目标数据用于表征目标报文在每个网络层次传输时的传输状态。例如，基于表2中的目标字段“HTTP重传请求次数”对应的第一数据，故障分析系统可以计算得到HTTP报文的重传率，从而根据HTTP报文重传率与预设重传率之间的大小关系，确定目标传输链路对应的网络业务提供商和广域网是否发生故障。步骤S104，根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次。在步骤S104中，第一目标数据已经表征了目标传输链路对应的网络层次，而第二目标数据表征了目标传输链路在每个网络层次中传输目标报文时的传输状态，因此，通过综合第一目标数据和第二目标数据，即可确定目标传输链路中发生故障的目标网络层次。需要注意到的是，在现有技术中，DPI分析感知的功能较为单一，主要分析网络延时，而不会对故障的网络层次进行精准定位，从而导致运维人员必须依靠人工经验对故障的网络层次进行定位，进而导致运维效率较低的问题。本申请通过第一目标数据和第二目标数据，实现了对发生故障的目标网络层次进行自动化精准定位，从而不仅提高了定位准确率，还提升了整体的运维效率。基于上述步骤S101至步骤S104的内容可知，在本申请中，采用根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次的方式，首先获取目标传输链路中所传输的目标报文，然后依据预设的M个目标字段从目标报文中提取M个第一数据，并对M个第一数据进行数据加工处理，得到N个第二数据，其中，N个第二数据中至少包括第一目标数据和第二目标数据，第一目标数据用于表征目标传输链路对应的多个网络层次，第二目标数据用于表征目标报文在每个网络层次传输时的传输状态，N为大于1的整数。最后，根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次。其中，每个第一数据与一个目标字段相对应，每个目标字段用于表征目标报文的一个网络传输特征，M为大于1的整数，目标传输链路为传输异常的网络传输链路。由上述内容可知，本申请通过预设的目标字段从目标报文中提取用于表征目标报文的网络传输特征的第一数据，一方面可以避免对其他无关数据的无效分析，另一方面还可以节约计算资源，从而能够实现提升故障分析效率的技术效果。另外，本申请通过第二数据中的第一目标数据和第二目标数据对目标传输链路的网络层次进行自动划分，并确定目标传输链路中发生故障的目标网络层次，从而不仅避免了由于依赖人工经验分析网络传输链路中发生故障的目标网络层次所导致的容易出现分析错误的问题，还能进一步提高对网络传输链路的故障分析效率。由此可见，本申请的技术方案达到了自动确定网络传输链路中发生故障的目标网络层次的目的，从而实现了降低网络传输链路的分析成本的技术效果，进而解决了现有技术中对网络传输链路的故障分析效率低的技术问题。在一种可选的实施例中，故障分析系统获取目标传输链路中传输的多个报文，然后检测多个报文中是否存在第一报文和/或第二报文，其中，第一报文为重传次数超过第一预设次数的报文，第二报文为传输顺序的错误次数超过第二预设次数的报文。最后，故障分析系统从多个报文中删除第一报文和第二报文，得到目标报文。可选的，故障分析系统会通过DPI技术获取目标传输链路中传输的所有的DPI话单数据，即上述的多个报文，由于多个报文中可能存在一些无需进行分析的无效报文，因此，故障分析系统需要对这些无效报文进行识别与过滤。具体的，从应用场景而言，无效报文包括但不限于客户侧受攻击、服务侧平台关闭、应用无效等报文数据，由于此类报文数据有大量的重传或乱序报文，会对后续的目标传输链路的故障分析造成干扰和影响，因此，需要将这些无效报文进行过滤。其中，从检测过程而言，无效报文包括第一报文和第二报文，第一报文为重传次数超过第一预设次数的报文，第二报文为传输顺序的错误次数超过第二预设次数的报文。第一预设次数和第二预设次数可自定义设置。表3示出了根据本申请实施例的一种可选的无效报文的识别规则的示例。表3在一种可选的实施例中，故障分析系统可以根据M个目标字段中的第一字段从目标报文中提取出多个第一特征数据，其中，多个第一特征数据为目标报文中基于IP协议进行传输的数据。另外，故障分析系统还可以根据M个目标字段中的第二字段从目标报文中提取出多个第二特征数据，其中，多个第二特征数据为目标报文中基于TCP协议进行传输的数据。此外，故障分析系统还可以根据M个目标字段中的第三字段从目标报文中提取出多个第三特征数据，其中，多个第三特征数据为目标报文中基于HTTP协议进行传输的数据，M个第一数据至少包括多个第一特征数据、多个第二特征数据以及多个第三特征数据。如表1所示，由于一个DPI话单的传输过程中会涉及IP协议、TCP协议以及HTTP协议，因此，为了确保对目标传输链路进行完整全面的分析，本申请会基于每种协议对应的目标字段提取需要进行分析的第一数据。其中，IP协议对应的第一字段包括但不限于“源目的IP”、“上行IP包TTL”；TCP协议对应的第二字段包括但不限于“TCP连接成功标志”、“TCP会话时间长度”、“TCP三次握手时长”、“TCP上行报文数和字数”、“TCP上行重传报文数”、“TCP上行乱序报文数”、“TCP确认字节数”、“TCP时间戳”、“TCP窗口大小”；HTTP协议对应的第三字段包括但不限于“User-agent”、“host”、“HTTP重传请求次数”。在一种可选的实施例中，故障分析系统从多个第一特征数据中获取目标报文对应的当前TTL跳次以及目标报文的TTL初始值，并根据TTL初始值和当前TTL跳次确定目标传输链路对应的多个网络层次，最后，故障分析系统根据多个网络层次确定N个第二数据中的第一目标数据。其中，多个网络层次至少包括第一网络层次、第二网络层次、第三网络层次以及第四网络层次，第一网络层次用于表征城域网和光接入网，第二网络层次用于表征用户内网，第三网络层次用于表征用户终端，第四网络层次用于表征网络业务提供商和广域网。可选的，如表2所示，通过关联目标字段“上行IP包TTL”对应的第一特征数据，故障分析系统可以得到目标报文的TTL初始值和当前TTL跳次，从而根据TTL初始值和当前TTL跳次，故障分析系统可以确定目标传输链路的网络层次。在故障分析系统中，可将网络传输链路划分为至少四个网络层次，其中，第一网络层次用于表征城域网和光接入网，第二网络层次用于表征用户内网，第三网络层次用于表征用户终端，第四网络层次用于表征网络业务提供商和广域网。另外，第四网络层次中还可以包含城域网核心部分。在一种可选的实施例中，在根据TTL初始值和当前TTL跳次确定目标传输链路对应的多个网络层次之后，故障分析系统还会确定目标传输链路在第一网络层次中基于TCP协议进行传输的报文为第一报文，并确定目标传输链路在第二网络层次中基于TCP协议进行传输的报文为第二报文，以及确定目标传输链路在第三网络层次中基于TCP协议进行传输的报文为第三报文。进一步地，故障分析系统还会从多个第二特征数据中获取第一重传报文数量、第二重传报文数量以及第三重传报文数量，其中，第一重传报文数量为第一异常报文的数量，第一异常报文为重复传输的第一报文，第二重传报文数量为第二异常报文的数量，第二异常报文为重复传输的第二报文，第三重传报文数量为第三异常报文的数量，第三异常报文为重复传输的第二报文。可选的，基于TCP协议进行传输的报文为TCP报文，为了确定目标传输链路中发生故障的目标网络层次，故障分析系统会分别获取在第一网络层次、第二网络层次以及第三网络层次中发生重复传输的TCP报文的数量。其中，第一网络层次中的TCP报文为第一报文，第一网络层次中发生重复传输的TCP报文为第一异常报文，第一异常报文的数量即为第一重传报文数量。第二网络层次中的TCP报文为第二报文，第二网络层次中发生重复传输的TCP报文为第二异常报文，第二异常报文的数量即为第二重传报文数量。第三网络层次中的TCP报文为第三报文，第三网络层次中发生重复传输的TCP报文为第三异常报文，第三异常报文的数量即为第三重传报文数量。在一种可选的实施例中，故障分析系统还会获取第一乱序报文数量、第二乱序报文数量以及第三乱序报文数量。其中，第一乱序报文数量为第四异常报文的数量，第四异常报文为传输顺序存在错误的第一报文；第二乱序报文数量为第五异常报文的数量，第五异常报文为传输顺序存在错误的第二报文；第三乱序报文数量为第六异常报文的数量，第六异常报文为传输顺序存在错误的第三报文，多个第二特征数据中至少包括第一乱序报文数量、第二乱序报文数量以及第三乱序报文数量。可选的，在本申请中，第一网络层次中的TCP报文为第一报文，第一网络层次中传输顺序错误的TCP报文为第四异常报文，第四异常报文的数量即为第一乱序报文数量。第二网络层次中的TCP报文为第二报文，第二网络层次中传输顺序错误的TCP报文为第五异常报文，第五异常报文的数量即为第二乱序报文数量。第三网络层次中的TCP报文为第三报文，第三网络层次中传输顺序错误的TCP报文为第六异常报文，第六异常报文的数量即为第三乱序报文数量。在一种可选的实施例中，故障分析系统还会获取第一报文的总数量、第二报文的总数量以及第三报文的总数量。随后，故障分析系统计算第一重传报文数量与第一报文的总数量之间的比值，得到第一报文的重传率；计算第二重传报文数量与第二报文的总数量之间的比值，得到第二报文的重传率；计算第三重传报文数量与第三报文的总数量之间的比值，得到第三报文的重传率，其中，N个第二数据中的第二目标数据至少包括第一报文的重传率、第二报文的重传率以及第三报文的重传率。进一步地，故障分析系统还会计算第一乱序报文数量与第一报文的总数量之间的比值，得到第一报文的乱序率；计算第二乱序报文数量与第二报文的总数量之间的比值，得到第二报文的乱序率；计算第三乱序报文数量与第三报文的总数量之间的比值，得到第三报文的乱序率，其中，N个第二数据中的第二目标数据至少包括第一报文的乱序率、第二报文的乱序率以及第三报文的乱序率。可选的，表4示出了根据本申请实施例的一种可选的网络层次故障定位示例。表4/＞如表4所示，在第一报文的重传率大于第一预设阈值的情况下，故障分析系统确定发生故障的目标网络层次为第一网络层次；在第二报文的重传率大于第二预设阈值的情况下，故障分析系统确定发生故障的目标网络层次为第二网络层次；在第三报文的重传率大于第三预设阈值的情况下，故障分析系统确定发生故障的目标网络层次为第三网络层次。另外，如表4所示，在第一报文的乱序率大于第四预设阈值的情况下，故障分析系统确定发生故障的目标网络层次为第一网络层次；在第二报文的乱序率大于第五预设阈值的情况下，故障分析系统确定发生故障的目标网络层次为第一网络层次；在第三报文的乱序率大于第六预设阈值的情况下，故障分析系统确定发生故障的目标网络层次为第一网络层次。此外，在表4中，还示出了其他确定发生故障的网络层次的方式，例如，通过统计终端TCP零窗口次数是否超过预设次数，在终端TCP零窗口次数超过了预设次数的情况下，确定发生故障的目标网络层次为第三网络层次。在一种可选的实施例中，故障分析系统还会从多个第三特征数据中获取目标传输链路对应的第四报文的总数量以及第四重传报文数量，其中，第四报文为目标传输链路中基于HTTP协议进行传输的报文，第四重传报文数量为第七异常报文的数量，第七异常报文为重复传输的第四报文。然后，故障分析系统计算第四重传报文数量与第四报文的总数量之间的比值，得到第四报文的重传率，并检测第四报文的重传率是否大于预设重传率，在第四报文的重传率大于预设重传率的情况下，故障分析系统确定发生故障的目标网络层次为第四网络层次。在本申请中，基于HTTP协议进行传输的报文为HTTP报文，即上述的第四报文，在目标传输链路中发生重复传输的HTTP报文为第七异常报文，通过计算第一异常报文的数量与所有HTTP报文的数量之间的比值，可以获取得到HTTP报文的重传率，即第四报文的重传率。如表4所示，在第四报文的重传率大于预设重传率的情况下，故障分析系统确定发生故障的目标网络层次为第四网络层次。另外，在表4中，还示出了其他两种确定发生故障的目标网络层次为第四网络层次的情况，包括但不限于：在目的ISP的IP报文的重传率超过预设阈值或者TCP报文重传率超过预设阈值时，确定发生故障的目标网络层次为第四网络层次；在目的IP归属地的TCP报文的重传率超过了预设阈值时，确定发生故障的目标网络层次为第四网络层次。在一种可选的实施例中，在根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次之后，故障分析系统还会获取目标传输链路对应的网络拓扑图，并根据网络拓扑图，确定目标网络层次对应的网络设备为待检测的目标网络设备。其中，网络拓扑图用于描述目标传输链路在每个网络层次中所对应的网络设备。可选的，如表2所示，在基于目标字段“上行IP包TTL”确定第一目标数据时，故障分析系统还会将第一目标数据中的多个网络层次与光网络、城域网资源拓扑相关联，从而获取目标传输链路在每个网络层次中所对应的网络设备。在故障分析系统根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次之后，故障分析系统会根据网络拓扑图，确定目标网络层次对应的网络设备为待检测的目标网络设备，从而提高运维人员快速排查可能出现故障的网络设备，提高运维效率。在一种可选的实施例中，在得到M个第一数据和N个第二数据之后，故障分析系统还可以通过粗糙集方法建立基础数据模型，基础数据模型定义如表5所示：表5其中，一个目标网络链路的目标报文中至少包括三个条件属性要素，分别为表5中的统计要素类条件属性Cn1事件类条件属性Cn2、时序统计属性Cn3。另外，针对DPI点以下事件，本申请结合投诉的决策属性d进行二次划分，分别计算上确界和下确界，推断异常事件根因，并基于上确界与下确界差值圈定潜在感知差用户范围。以下结合一种场景对通过基础数据模型分析数据的过程进行说明：设定8个用户监控感知指标，存在若干属性定义如下：X/Cn1＝{{1,2,6},{3,4,7,8},{5}}某网元层次统计要素属性，分三个网元归属A1、A2、A3；X/Cn3＝{{1,3,6},{2,4,7},{5,8}}时序统计属性T1、T2、T3出现异常事件；X/Cn2＝{{1,6},{2,3,4,7,8},{5}}出现三个异常类事件属性,如TCP重传TCP乱序无异常；X/＝{{1,6},{2},{3},{4,7},{5},{8}}按上述属性定义的交集属性计算；X/d＝{{1,2,6,7},{3,4,5,8}}d1为投诉用户，d2为未投诉用户；R＝{1,2,6}基于同网元同事件源的下确界，明确网元A1异常事件的源头、时间点；Rˉ＝{1,2,4,6,7}定义为上确界，两者相减为粗糙集边界BNR＝{4,7}划分为A2网元潜在风险用户；{3，8}用户虽然发生异常类事件，但其时序与{4,7}存在偏差，可认定为单用户异常，存在单用户内感知风险。由上述内容可知，本申请通过定义基于粗糙集为核心的多维度感知分析决策模型，实现了不同网络层次异常感知分析挖掘和决策。实施例2本申请实施例还提供了一种网络传输链路的故障分析装置，需要说明的是，本申请实施例的网络传输链路的故障分析装置可以用于执行本申请实施例1所提供的网络传输链路的故障分析方法。以下对本申请实施例提供的网络传输链路的故障分析装置进行介绍。图2是根据本申请实施例的网络传输链路的故障分析装置的示意图。如图2所示，该装置包括：获取模块201，用于获取目标传输链路中所传输的目标报文，其中，目标传输链路为传输异常的网络传输链路；提取模块202，用于依据预设的M个目标字段从目标报文中提取M个第一数据，其中，每个第一数据与一个目标字段相对应，每个目标字段用于表征目标报文的一个网络传输特征，M为大于1的整数；数据加工处理模块203，用于对M个第一数据进行数据加工处理，得到N个第二数据，其中，N个第二数据中至少包括第一目标数据和第二目标数据，第一目标数据用于表征目标传输链路对应的多个网络层次，第二目标数据用于表征目标报文在每个网络层次传输时的传输状态，N为大于1的整数；确定模块204，用于根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次。可选的，上述的获取模块还包括：第一获取单元、第一检测单元以及删除单元。其中，第一获取单元，用于获取目标传输链路中传输的多个报文；第一检测单元，用于检测多个报文中是否存在第一报文和/或第二报文，其中，第一报文为重传次数超过第一预设次数的报文，第二报文为传输顺序的错误次数超过第二预设次数的报文；删除单元，用于从多个报文中删除第一报文和/或第二报文，得到目标报文。可选的，上述的提取模块还包括：第一提取单元、第二提取单元以及第三提取单元。其中，第一提取单元，用于根据M个目标字段中的第一字段从目标报文中提取出多个第一特征数据，其中，多个第一特征数据为目标报文中基于IP协议进行传输的数据；第二提取单元，用于根据M个目标字段中的第二字段从目标报文中提取出多个第二特征数据，其中，多个第二特征数据为目标报文中基于TCP协议进行传输的数据；第三提取单元，用于根据M个目标字段中的第三字段从目标报文中提取出多个第三特征数据，其中，多个第三特征数据为目标报文中基于HTTP协议进行传输的数据，M个第一数据至少包括多个第一特征数据、多个第二特征数据以及多个第三特征数据。可选的，上述的数据加工处理模块还包括：第二获取单元、第一确定单元以及第二确定单元。其中，第二获取单元，用于从多个第一特征数据中获取目标报文对应的当前TTL跳次以及目标报文的TTL初始值；第一确定单元，用于根据TTL初始值和当前TTL跳次确定目标传输链路对应的多个网络层次，其中，多个网络层次至少包括第一网络层次、第二网络层次、第三网络层次以及第四网络层次，第一网络层次用于表征城域网和光接入网，第二网络层次用于表征用户内网，第三网络层次用于表征用户终端，第四网络层次用于表征网络业务提供商和广域网；第二确定单元，用于根据多个网络层次确定N个第二数据中的第一目标数据。可选的，网络传输链路的故障分析装置还包括：第一确定模块、第二确定模块、第三确定模块以及第一获取模块。其中，第一确定模块，用于确定目标传输链路在第一网络层次中基于TCP协议进行传输的报文为第一报文；第二确定模块，用于确定目标传输链路在第二网络层次中基于TCP协议进行传输的报文为第二报文；第三确定模块，用于确定目标传输链路在第三网络层次中基于TCP协议进行传输的报文为第三报文；第一获取模块，用于从多个第二特征数据中获取第一重传报文数量、第二重传报文数量以及第三重传报文数量，其中，第一重传报文数量为第一异常报文的数量，第一异常报文为重复传输的第一报文，第二重传报文数量为第二异常报文的数量，第二异常报文为重复传输的第二报文，第三重传报文数量为第三异常报文的数量，第三异常报文为重复传输的第二报文。可选的，网络传输链路的故障分析装置还包括：第三获取模块、第四获取模块以及第五获取模块。其中，第三获取模块，用于获取第一乱序报文数量，其中，第一乱序报文数量为第四异常报文的数量，第四异常报文为传输顺序存在错误的第一报文；第四获取模块，用于获取第二乱序报文数量，其中，第二乱序报文数量为第五异常报文的数量，第五异常报文为传输顺序存在错误的第二报文；第五获取模块，用于获取第三乱序报文数量，其中，第三乱序报文数量为第六异常报文的数量，第六异常报文为传输顺序存在错误的第三报文，多个第二特征数据中至少包括第一乱序报文数量、第二乱序报文数量以及第三乱序报文数量。可选的，上述的数据加工处理模块还包括：第三获取单元、第一计算单元、第二计算单元以及第三计算单元。其中，第三获取单元，用于获取第一报文的总数量、第二报文的总数量以及第三报文的总数量；第一计算单元，用于计算第一重传报文数量与第一报文的总数量之间的比值，得到第一报文的重传率；第二计算单元，用于计算第二重传报文数量与第二报文的总数量之间的比值，得到第二报文的重传率；第三计算单元，用于计算第三重传报文数量与第三报文的总数量之间的比值，得到第三报文的重传率，其中，N个第二数据中的第二目标数据至少包括第一报文的重传率、第二报文的重传率以及第三报文的重传率。可选的，上述的数据加工处理模块还包括：第四计算单元、第五计算单元以及第六计算单元。其中，第四计算单元，用于计算第一乱序报文数量与第一报文的总数量之间的比值，得到第一报文的乱序率；第五计算单元，用于计算第二乱序报文数量与第二报文的总数量之间的比值，得到第二报文的乱序率；第六计算单元，用于计算第三乱序报文数量与第三报文的总数量之间的比值，得到第三报文的乱序率，其中，N个第二数据中的第二目标数据至少包括第一报文的乱序率、第二报文的乱序率以及第三报文的乱序率。可选的，上述确定模块还包括：第三确定单元、第四确定单元以及第五确定单元。其中，第三确定单元，用于在第一报文的重传率大于第一预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次；第四确定单元，用于在第二报文的重传率大于第二预设阈值的情况下，确定发生故障的目标网络层次为第二网络层次；第五确定单元，用于在第三报文的重传率大于第三预设阈值的情况下，确定发生故障的目标网络层次为第三网络层次。可选的，上述确定模块还包括：第六确定单元、第七确定单元以及第八确定单元。其中，第六确定单元，用于在第一报文的乱序率大于第四预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次；第七确定单元，用于在第二报文的乱序率大于第五预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次；第八确定单元，用于在第三报文的乱序率大于第六预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次。可选的，上述确定模块还包括：第四获取单元、第七计算单元、第二检测单元以及第九确定单元。其中，第四获取单元，用于从多个第三特征数据中获取目标传输链路对应的第四报文的总数量以及第四重传报文数量，其中，第四报文为目标传输链路中基于HTTP协议进行传输的报文，第四重传报文数量为第七异常报文的数量，第七异常报文为重复传输的第四报文；第七计算单元，用于计算第四重传报文数量与第四报文的总数量之间的比值，得到第四报文的重传率；第二检测单元，用于检测第四报文的重传率是否大于预设重传率；第九确定单元，用于在第四报文的重传率大于预设重传率的情况下，确定发生故障的目标网络层次为第四网络层次。可选的，网络传输链路的故障分析装置还包括：第六获取模块和第四确定模块。其中，第六获取模块，用于获取目标传输链路对应的网络拓扑图，其中，网络拓扑图用于描述目标传输链路在每个网络层次中所对应的网络设备；第四确定模块，用于根据网络拓扑图，确定目标网络层次对应的网络设备为待检测的目标网络设备。实施例3根据本申请实施例的另一方面，还提供了一种电子设备，该电子设备包括一个或多个处理器和存储器，存储器用于存储一个或多个程序，其中，当一个或多个程序被一个或多个处理器执行时，使得一个或多个处理器实现上述实施例1中的网络传输链路的故障分析装置方法。如图3所示，本申请实施例提供了一种电子设备，设备包括处理器、存储器及存储在存储器上并可在处理器上运行的程序，处理器执行程序时实现以下步骤：获取目标传输链路中所传输的目标报文，其中，目标传输链路为传输异常的网络传输链路；依据预设的M个目标字段从目标报文中提取M个第一数据，其中，每个第一数据与一个目标字段相对应，每个目标字段用于表征目标报文的一个网络传输特征，M为大于1的整数；对M个第一数据进行数据加工处理，得到N个第二数据，其中，N个第二数据中至少包括第一目标数据和第二目标数据，第一目标数据用于表征目标传输链路对应的多个网络层次，第二目标数据用于表征目标报文在每个网络层次传输时的传输状态，N为大于1的整数；根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次。可选的，处理器执行程序时还实现以下步骤：获取目标传输链路中传输的多个报文；检测多个报文中是否存在第一报文和/或第二报文，其中，第一报文为重传次数超过第一预设次数的报文，第二报文为传输顺序的错误次数超过第二预设次数的报文；从多个报文中删除第一报文和/或第二报文，得到目标报文。可选的，处理器执行程序时还实现以下步骤：根据M个目标字段中的第一字段从目标报文中提取出多个第一特征数据，其中，多个第一特征数据为目标报文中基于IP协议进行传输的数据；根据M个目标字段中的第二字段从目标报文中提取出多个第二特征数据，其中，多个第二特征数据为目标报文中基于TCP协议进行传输的数据；根据M个目标字段中的第三字段从目标报文中提取出多个第三特征数据，其中，多个第三特征数据为目标报文中基于HTTP协议进行传输的数据，M个第一数据至少包括多个第一特征数据、多个第二特征数据以及多个第三特征数据。可选的，处理器执行程序时还实现以下步骤：从多个第一特征数据中获取目标报文对应的当前TTL跳次以及目标报文的TTL初始值；根据TTL初始值和当前TTL跳次确定目标传输链路对应的多个网络层次，其中，多个网络层次至少包括第一网络层次、第二网络层次、第三网络层次以及第四网络层次，第一网络层次用于表征城域网和光接入网，第二网络层次用于表征用户内网，第三网络层次用于表征用户终端，第四网络层次用于表征网络业务提供商和广域网；根据多个网络层次确定N个第二数据中的第一目标数据。可选的，处理器执行程序时还实现以下步骤：在根据TTL初始值和当前TTL跳次确定目标传输链路对应的多个网络层次之后，确定目标传输链路在第一网络层次中基于TCP协议进行传输的报文为第一报文；确定目标传输链路在第二网络层次中基于TCP协议进行传输的报文为第二报文；确定目标传输链路在第三网络层次中基于TCP协议进行传输的报文为第三报文；从多个第二特征数据中获取第一重传报文数量、第二重传报文数量以及第三重传报文数量，其中，第一重传报文数量为第一异常报文的数量，第一异常报文为重复传输的第一报文，第二重传报文数量为第二异常报文的数量，第二异常报文为重复传输的第二报文，第三重传报文数量为第三异常报文的数量，第三异常报文为重复传输的第二报文。可选的，处理器执行程序时还实现以下步骤：获取第一乱序报文数量，其中，第一乱序报文数量为第四异常报文的数量，第四异常报文为传输顺序存在错误的第一报文；获取第二乱序报文数量，其中，第二乱序报文数量为第五异常报文的数量，第五异常报文为传输顺序存在错误的第二报文；获取第三乱序报文数量，其中，第三乱序报文数量为第六异常报文的数量，第六异常报文为传输顺序存在错误的第三报文，多个第二特征数据中至少包括第一乱序报文数量、第二乱序报文数量以及第三乱序报文数量。可选的，处理器执行程序时还实现以下步骤：获取第一报文的总数量、第二报文的总数量以及第三报文的总数量；计算第一重传报文数量与第一报文的总数量之间的比值，得到第一报文的重传率；计算第二重传报文数量与第二报文的总数量之间的比值，得到第二报文的重传率；计算第三重传报文数量与第三报文的总数量之间的比值，得到第三报文的重传率，其中，N个第二数据中的第二目标数据至少包括第一报文的重传率、第二报文的重传率以及第三报文的重传率。可选的，处理器执行程序时还实现以下步骤：计算第一乱序报文数量与第一报文的总数量之间的比值，得到第一报文的乱序率；计算第二乱序报文数量与第二报文的总数量之间的比值，得到第二报文的乱序率；计算第三乱序报文数量与第三报文的总数量之间的比值，得到第三报文的乱序率，其中，N个第二数据中的第二目标数据至少包括第一报文的乱序率、第二报文的乱序率以及第三报文的乱序率。可选的，处理器执行程序时还实现以下步骤：在第一报文的重传率大于第一预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次；在第二报文的重传率大于第二预设阈值的情况下，确定发生故障的目标网络层次为第二网络层次；在第三报文的重传率大于第三预设阈值的情况下，确定发生故障的目标网络层次为第三网络层次。可选的，处理器执行程序时还实现以下步骤：在第一报文的乱序率大于第四预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次；在第二报文的乱序率大于第五预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次；在第三报文的乱序率大于第六预设阈值的情况下，确定发生故障的目标网络层次为第一网络层次。可选的，处理器执行程序时还实现以下步骤：从多个第三特征数据中获取目标传输链路对应的第四报文的总数量以及第四重传报文数量，其中，第四报文为目标传输链路中基于HTTP协议进行传输的报文，第四重传报文数量为第七异常报文的数量，第七异常报文为重复传输的第四报文；计算第四重传报文数量与第四报文的总数量之间的比值，得到第四报文的重传率；检测第四报文的重传率是否大于预设重传率；在第四报文的重传率大于预设重传率的情况下，确定发生故障的目标网络层次为第四网络层次。可选的，处理器执行程序时还实现以下步骤：在根据第一目标数据和第二目标数据确定目标传输链路中发生故障的目标网络层次之后，获取目标传输链路对应的网络拓扑图，其中，网络拓扑图用于描述目标传输链路在每个网络层次中所对应的网络设备；根据网络拓扑图，确定目标网络层次对应的网络设备为待检测的目标网络设备。上述本申请实施例序号仅仅为了描述，不代表实施例的优劣。在本申请的上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其他实施例的相关描述。在本申请所提供的几个实施例中，应该理解到，所揭露的技术内容，可通过其它的方式实现。其中，以上所描述的装置实施例仅仅是示意性的，例如所述单元的划分，可以为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，单元或模块的间接耦合或通信连接，可以是电性或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、只读存储器、随机存取存储器、移动硬盘、磁碟或者光盘等各种可以存储程序代码的介质。以上所述仅是本申请的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本申请的保护范围。
