标题title
图像调整方法和装置、电子设备及计算机可读存储介质
摘要abst
本申请提供一种图像调整方法和装置、电子设备及计算机可读存储介质，该方法包括获取待调整图像数据以及黑电平初始校正值；其中，待调整图像数据包括多个像素点的原始像素值，黑电平初始校正值为采集待调整图像数据的图像传感器输出的黑电平值；根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值；获取黑电平动态校正值；根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，从而精确校正黑电平。
权利要求书clms
1.一种图像调整方法，其特征在于，包括：获取待调整图像数据以及黑电平初始校正值；其中，所述待调整图像数据包括多个像素点的原始像素值，所述黑电平初始校正值为采集所述待调整图像数据的图像传感器输出的黑电平值；根据每个像素点的原始像素值和所述黑电平初始校正值确定每个像素点的初始调整像素值；获取黑电平动态校正值；以及根据每个像素点的初始调整像素值和所述黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。2.根据权利要求1所述的方法，其特征在于，所述获取黑电平动态校正值，包括：获取所述待调整图像数据的拍摄条件参数；其中，所述拍摄条件参数包括图像传感器温度和/或曝光时间；以及根据所述拍摄条件参数获取所述拍摄条件参数对应的校正数据；其中，所述校正数据包含有所述多个像素点中每个像素点对应的第一黑电平动态校正值；所述根据每个像素点的初始调整像素值和所述黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：根据每个像素点的初始调整像素值和每个像素点对应的第一黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。3.根据权利要求2所述的方法，其特征在于，所述根据所述拍摄条件参数获取所述拍摄条件参数对应的校正数据，包括：判断是否在校正表中查找到所述拍摄条件参数对应的校正数据；其中，所述校正表包括和多个拍摄条件参数对应的多个校正数据；若查找到，则获取查找到的校正数据中的每一像素点对应的第一黑电平动态校正值。4.根据权利要求3所述的方法，其特征在于，在所述判断是否在校正表中查找到所述拍摄条件参数对应的校正数据之后，所述方法还包括：若没有查找到所述拍摄条件参数对应的校正数据，则获取所述校正表中所述拍摄条件参数的相邻两组校正数据；根据所述相邻两组校正数据生成所述拍摄条件参数对应的校正数据，以获得生成的校正数据中每一像素点对应的第一黑电平动态校正值。5.根据权利要求2所述的方法，其特征在于，所述根据每个像素点的初始调整像素值和每个像素点对应的第一黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，获得调整完成的图像。6.根据权利要求2所述的方法，其特征在于，所述根据每个像素点的初始调整像素值和每个像素点对应的第一黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，获得每个像素点的二次调整像素值，以获得二次调整图像数据；获取第二黑电平动态校正值；其中，所述第二黑电平动态校正值为所述二次调整图像数据的预设区域的像素平均值，所述预设区域为图像传感器不见光的黑色区域；以及根据所述第二黑电平动态校正值和所述每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像。7.根据权利要求6所述的方法，其特征在于，所述根据所述第二黑电平动态校正值和所述每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的二次调整像素值均减去所述第二黑电平动态校正值，获得调整完成的图像。8.根据权利要求6所述的方法，其特征在于，所述根据所述第二黑电平动态校正值和所述每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的二次调整像素值均减去所述第二黑电平动态校正值，获得每个像素点的三次调整像素值，以获得三次调整图像数据；获取三次调整图像数据的所述预设区域中每列像素点的像素平均值；将所述预设区域中每个像素点的三次调整像素值减去所在列的像素平均值，获得调整完成的图像。9.根据权利要求1所述的方法，其特征在于，所述获取黑电平动态校正值，包括：获取初始调整图像数据的预设区域的像素平均值，以获得所述黑电平动态校正值；其中，所述初始调整数据包括多个像素点的每个像素点的初始调整像素值，所述预设区域为图像传感器不见光的黑色区域；所述根据每个像素点的初始调整像素值和所述黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的初始调整像素值均减去所述初始调整图像数据的预设区域的像素平均值，获得调整完成的图像。10.根据权利要求1所述的方法，其特征在于，所述获取黑电平动态校正值，包括：获取初始调整图像数据的预设区域中每列像素点的像素平均值，以获得所述黑电平动态校正值；其中，所述初始调整数据包括多个像素点的每个像素点的初始调整像素值，所述预设区域为图像传感器不见光的黑色区域；所述根据每个像素点的初始调整像素值和所述黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将初始调整图像数据的预设区域中每个像素点的初始调整像素值减去所在列的像素平均值，获得调整完成的图像。11.一种图像调整装置，其特征在于，包括：获取模块、确定模块以及调整模块；所述获取模块，用于获取待调整图像数据以及黑电平初始校正值；其中，所述待调整图像数据包括多个像素点的原始像素值，所述黑电平初始校正值为采集所述待调整图像数据的图像传感器输出的黑电平值；所述确定模块，用于根据每个像素点的原始像素值和所述黑电平初始校正值确定每个像素点的初始调整像素值；所述获取模块，还用于获取黑电平动态校正值；以及所述调整模块，用于根据每个像素点的初始调整像素值和所述黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。12.一种电子设备，包括存储器和处理器，所述存储器存储有计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至10中任一项所述的方法。13.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至10中任一项所述的方法。
说明书desc
技术领域本申请涉及图像处理技术领域，具体而言，涉及一种图像调整方法和装置、电子设备及计算机可读存储介质。背景技术黑电平校正简称BLC，它是图像信号处理中非常重要的一个环节，黑电平产生原因在于图像传感器本身存在暗电流，导致在没有光线照射的时候，也有一定的输出电压，从而产生黑电平导致输出像素值受到干扰，最终图像颜色异常。传统黑电平校正方法是在图像传感器输出的有效像素基础上分别在每个通道上减去一个固定的黑电平值，这个固定黑电平值一般是图像传感器厂家给出的推荐值，但是在实际工作过程中，由于图像传感器环境因素影响，黑电平往往会产生漂移，从而使得黑电平校正不准确，导致图像颜色异常。发明内容本申请实施例的目的在于提供一种图像调整方法和装置、电子设备及计算机可读存储介质，用以解决由于图像传感器环境因素影响下黑电平漂移带来的校正不准确问题。第一方面，本发明提供一种图像调整方法，包括：获取待调整图像数据以及黑电平初始校正值；其中，待调整图像数据包括多个像素点的原始像素值，黑电平初始校正值为采集待调整图像数据的图像传感器输出的黑电平值；根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值；获取黑电平动态校正值；以及根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。上述设计的图像调整方法，本方案在根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值之后，还获取由于图像传感器的拍摄参数影响和/或图像传感器感光条件所带来的黑电平动态校正值，从而基于每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，从而获得调整完成的图像，因此，本方案基于黑电平动态校正值来对图像进行调整，可以解决由于图像传感器环境因素影响下黑电平漂移带来的校正不准确问题，从而提高黑电平校正的准确性，使得图像调整后颜色正常。在第一方面的可选实施方式中，获取黑电平动态校正值，包括：获取待调整图像数据的拍摄条件参数；其中，拍摄条件参数包括图像传感器温度和/或曝光时间；以及根据拍摄条件参数获取拍摄条件参数对应的校正数据；其中，校正数据包含有多个像素点中每个像素点对应的第一黑电平动态校正值；根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：根据每个像素点的初始调整像素值和每个像素点对应的第一黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。在第一方面的可选实施方式中，根据拍摄条件参数获取拍摄条件参数对应的校正数据，包括：判断是否在校正表中查找到拍摄条件参数对应的校正数据；其中，校正表包括和多个拍摄条件参数对应的多个校正数据；若查找到，则获取查找到的校正数据中的每一像素点对应的第一黑电平动态校正值。在第一方面的可选实施方式中，在判断是否在校正表中查找到拍摄条件参数对应的校正数据之后，该方法还包括：若没有查找到拍摄条件参数对应的校正数据，则获取校正表中该拍摄条件参数的相邻两组校正数据；根据相邻两组校正数据生成拍摄条件参数对应的校正数据，以获得生成的校正数据中每一像素点对应的第一黑电平动态校正值。在第一方面的可选实施方式中，根据每个像素点的初始调整像素值和每个像素点对应的第一黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，获得调整完成的图像。在上述实施方式中，本方案在黑电平初始调整的基础上，只针对拍摄条件参数带来的第一黑电平动态校正值进行校正，从而可以使得图像传感器拍摄的图像不会受到拍摄条件参数如图像传感器温度和/或曝光时间所带来的黑电平的影响，从而提高黑电平的校准精度，进而提高图像的颜色精度。在第一方面的可选实施方式中，根据每个像素点的初始调整像素值和每个像素点对应的第一黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，获得每个像素点的二次调整像素值，以获得二次调整图像数据；获取第二黑电平动态校正值；其中，第二黑电平动态校正值为二次调整图像数据的预设区域的像素平均值，预设区域为图像传感器不见光的黑色区域；以及根据第二黑电平动态校正值和每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像。在第一方面的可选实施方式中，根据第二黑电平动态校正值和每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的二次调整像素值均减去第二黑电平动态校正值，获得调整完成的图像。在上述实施方式中，本方案将每个像素点的二次调整像素值均减去第二黑电平动态校正值，从而即可得到调整完成的图像，在此基础上，本方案不仅对拍摄条件参数所带来的第一黑电平动态校正值进行校正，还对于图像传感器感光条件中不能感光区域所带来的第二黑电平动态校正值进行校正，从而提高黑电平的校准精度。在第一方面的可选实施方式中，根据第二黑电平动态校正值和每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的二次调整像素值均减去第二黑电平动态校正值，获得每个像素点的三次调整像素值，以获得三次调整图像数据；获取三次调整图像数据的预设区域中每列像素点的像素平均值；将预设区域中每个像素点的三次调整像素值减去所在列的像素平均值，获得调整完成的图像。在上述实施方式中，本方案不仅对拍摄条件参数所带来的第一黑电平动态校正值进行校正，对于图像传感器感光条件中不能感光区域所带来的第二黑电平动态校正值进行校正，还对于图像传感器感光条件中不能感光区域中每列像素点进行黑电平校正，从而解决图像传感器环境影响所带来的黑电平漂移，进而提高黑电平校正的精度。在第一方面的可选实施方式中，获取黑电平动态校正值，包括：获取初始调整图像数据的预设区域的像素平均值，以获得黑电平动态校正值；其中，初始调整数据包括多个像素点的每个像素点的初始调整像素值，预设区域为图像传感器不见光的黑色区域；根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将每个像素点的初始调整像素值均减去初始调整图像数据的预设区域的像素平均值，获得调整完成的图像。在上述实施方式中，本方案可在对黑电平初始校正值进行校正的基础上，还单独针对预设区域即图像传感器不感光区域所带来的黑电平影响进行校正，从而提高黑电平的校正精度。在第一方面的可选实施方式中，获取黑电平动态校正值，包括：获取初始调整图像数据的预设区域中每列像素点的像素平均值，以获得黑电平动态校正值；其中，初始调整数据包括多个像素点的每个像素点的初始调整像素值，预设区域为图像传感器不见光的黑色区域；根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像，包括：将初始调整图像数据的预设区域中每个像素点的初始调整像素值减去所在列的像素平均值，获得调整完成的图像。在上述实施方式中，本方案可在对黑电平初始校正值进行校正的基础上，还单独针对预设区域即图像传感器不感光区域中每列像素带来的黑电平进行校正，从而提高黑电平的校正精度。第二方面，本发明提供一种图像调整装置，包括：获取模块，用于获取待调整图像数据以及黑电平初始校正值；其中，待调整图像数据包括多个像素点的原始像素值，黑电平初始校正值为采集所述待调整图像数据的图像传感器输出的黑电平值；确定模块，用于根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值；该获取模块，还用于获取黑电平动态校正值；调整模块，用于根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。上述设计的图像调整装置，本方案在根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值之后，还获取由于图像传感器的拍摄参数影响和/或图像传感器感光条件所带来的黑电平动态校正值，从而基于每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，从而获得调整完成的图像，因此，本方案基于黑电平动态校正值来对图像进行调整，可以解决由于图像传感器环境因素影响下黑电平漂移带来的校正不准确问题，从而提高黑电平校正的准确性，使得图像调整后颜色正常。在第二方面的可选实施方式中，该获取模块，具体用于获取待调整图像数据的拍摄条件参数；其中，拍摄条件参数包括图像传感器温度和/或曝光时间；以及根据拍摄条件参数获取拍摄条件参数对应的校正数据；其中，校正数据包含有多个像素点中每个像素点对应的第一黑电平动态校正值；该调整模块，具体用于根据每个像素点的初始调整像素值和每个像素点对应的第一黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。在第二方面的可选实施方式中，该获取模块，还具体用于判断是否在校正表中查找到拍摄条件参数对应的校正数据；其中，校正表包括和多个拍摄条件参数对应的多个校正数据；若查找到，则获取查找到的校正数据中的每一像素点对应的第一黑电平动态校正值。在第二方面的可选实施方式中，该获取模块，还具体用于若没有查找到拍摄条件参数对应的校正数据，则获取校正表中该拍摄条件参数的相邻两组校正数据；根据相邻两组校正数据生成拍摄条件参数对应的校正数据，以获得生成的校正数据中每一像素点对应的第一黑电平动态校正值。在第二方面的可选实施方式中，该调整模块，还具体用于将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，获得调整完成的图像。在第二方面的可选实施方式中，该调整模块，还具体用于将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，获得每个像素点的二次调整像素值，以获得二次调整图像数据；获取第二黑电平动态校正值；其中，第二黑电平动态校正值为二次调整图像数据的预设区域的像素平均值，预设区域为图像传感器不见光的黑色区域；以及根据第二黑电平动态校正值和每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像。在第二方面的可选实施方式中，该调整模块，还具体用于将每个像素点的二次调整像素值均减去第二黑电平动态校正值，获得调整完成的图像。在第二方面的可选实施方式中，该调整模块，还具体用于将每个像素点的二次调整像素值均减去第二黑电平动态校正值，获得每个像素点的三次调整像素值，以获得三次调整图像数据；获取三次调整图像数据的预设区域中每列像素点的像素平均值；将预设区域中每个像素点的三次调整像素值减去所在列的像素平均值，获得调整完成的图像。在第二方面的可选实施方式中，该获取模块，还具体用于获取初始调整图像数据的预设区域的像素平均值，以获得黑电平动态校正值；其中，初始调整数据包括多个像素点的每个像素点的初始调整像素值，预设区域为图像传感器不见光的黑色区域；该调整模块，还具体用于将每个像素点的初始调整像素值均减去初始调整图像数据的预设区域的像素平均值，获得调整完成的图像。在第二方面的可选实施方式中，该获取模块，还具体用于获取初始调整图像数据的预设区域中每列像素点的像素平均值，以获得黑电平动态校正值；其中，初始调整数据包括多个像素点的每个像素点的初始调整像素值，预设区域为图像传感器不见光的黑色区域；该调整模块，还具体用于将初始调整图像数据的预设区域中每个像素点的初始调整像素值减去所在列的像素平均值，获得调整完成的图像。第三方面，本申请提供一种电子设备，包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时执行第一方面、第一方面中任一可选的实现方式中的所述方法。第四方面，本申请提供一种计算机可读存储介质，该计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时执行第一方面、第一方面中任一可选的实现方式中的所述方法。第五方面，本申请提供了一种计算机程序产品，所述计算机程序产品在计算机上运行时，使得计算机执行第一方面、第一方面中任一可选的实现方式中的所述方法。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对本申请实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本申请实施例提供的图像调整方法的第一流程图；图2为本申请实施例提供的图像调整方法的第二流程图；图3为本申请实施例提供的图像调整方法的第三流程图；图4为本申请实施例提供的图像调整方法的第四流程图；图5为本申请实施例提供的图像调整方法的第五流程图；图6为本申请实施例提供的图像调整方法的第六流程图；图7为本申请实施例提供的图像调整方法的第七流程图；图8为本申请实施例提供的图像调整方法的第八流程图；图9为本申请实施例提供的图像调整方法的第九流程图；图10为本申请实施例提供的图像调整装置的结构示意图；图11为本申请实施例提供的电子设备的结构示意图。图标：1000-获取模块；1100-确定模块；1200-调整模块；11-电子设备；1101-处理器；1102-存储器；1103-通信总线。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行描述。本申请实施例提供一种图像调整方法，该图像调整方法可在传统黑电平校正方法基础上进一步对黑电平进行动态校正，从而使得黑电平校正更准确，该图像调整方法可应用于电子设备，例如，手机、计算机等，如图1所示，该图像调整方法可包括如下步骤：步骤S100：获取待调整图像数据以及黑电平初始校正值。步骤S110：根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值。步骤S120：获取黑电平动态校正值。步骤S130：根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。在步骤S100中，待调整图像数据为图像传感器采集输出的图像数据，该待调整图像数据包括多个像素点的原始像素值，黑电平初始校正值为采集待调整图像数据的图像传感器输出的黑电平值，该黑电平初始校正值可为生产图像传感器的厂家给出的推荐值。在上述获得待调整图像数据以及黑电平初始校正值后，本方案可执行步骤S110根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值。作为一种可能的实施方式，本方案可将每个像素点的原始像素值减去黑电平初始校正值，从而得到每个像素点的初始调整像素值。其中，所有像素点的初始调整像素值可作为初始调整图像数据进行后续作业。在步骤S120中，黑电平动态校正值表示的是由于图像传感器的拍摄参数影响和/或图像传感器感光条件所带来的黑电平值，由于拍摄参数不同和/或感光条件不同所带来的黑电平值也不同，因此，该黑电平值是随着拍摄参数和/或感光条件的变化而变化的，即黑电平值是动态的，因此为黑电平动态校正值。在上述基础上，本方案根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，从而获得调整完成的图像。上述设计的图像调整方法中，本方案在根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值之后，还获取由于图像传感器的拍摄参数影响和/或图像传感器感光条件所带来的黑电平动态校正值，从而基于每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，从而获得调整完成的图像，因此，本方案基于黑电平动态校正值来对图像进行调整，可以解决由于图像传感器环境因素影响下黑电平漂移带来的校正不准确问题，从而提高黑电平校正的准确性，使得图像调整后颜色正常。在本实施例的可选实施方式中，前述的步骤S120获取黑电平动态校正值可通过如下方式获得，如图2所示，包括：步骤S200：获取待调整图像数据的拍摄条件参数。步骤S210：根据拍摄条件参数获取拍摄条件参数对应的校正数据，该校正数据包括每个像素点的第一黑电平动态校正值。在上述基础上，步骤S130可包括如下步骤：步骤S220：根据每个像素点的初始调整像素值和每个像素点对应的第一黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。在步骤S200中，待调整图像数据的拍摄条件参数表示的是采用图像传感器拍摄该待调整图像数据的拍摄条件参数，例如，该拍摄条件参数可包括图像传感器温度和/或曝光时间，例如，采用曝光时间5秒拍摄待调整图像数据，那么步骤S200获得的拍摄条件参数即为曝光时间5秒。在步骤S210中，校正数据包含有多个像素点中每个像素点对应的第一黑电平动态校正值，不同的拍摄条件参数对应的校正数据不同，例如，曝光时间5秒拍摄的待调整图像数据中每个像素点的第一黑电平动态校正值与曝光时间10秒的不同；图像传感器温度30℃条件下拍摄的待调整图像数据中每个像素点的第一黑电平动态校正值与图像传感器温度40℃的也不同。作为一种可能的实施方式，对于步骤S210，本方案可通过如下步骤具体实现，如图3所示，包括：步骤S300：判断是否在校正表中查找到拍摄条件参数对应的校正数据，若是，则转到步骤S310；若否，则转到步骤S320。步骤S310：获取查找到的校正数据中的每一像素点对应的第一黑电平动态校正值。步骤S320：获取校正表中该拍摄条件参数的相邻两组校正数据。步骤S330：根据相邻两组校正数据生成拍摄条件参数对应的校正数据，以获得生成的校正数据中每一像素点对应的第一黑电平动态校正值。在步骤S300中，本方案可提前存储一校正表，该校正表中包含有和多个拍摄条件参数对应的多个校正数据，具体的，本方案可预先利用图像传感器在多种不同的拍摄条件参数下拍摄图像，然后基于拍摄的图像对多种不同的拍摄条件参数下每一像素点对应的第一黑电平动态校正值进行标定，从而生成校正表存储，其中，不同的像素点可通过其在图像中的坐标信息与对应的第一黑电平动态校正值进行映射或关联，从而可基于像素点的坐标信息查找到对应的第一黑电平动态校正值。以曝光时间为例，本方案可预先在不同的曝光时间拍摄图像，然后基于不同曝光时间拍摄的图像对对应的曝光时间的每一像素点对应的第一黑电平动态校正值进行标定，从而生成校正表。在上述基础上，本方案在执行步骤S200获取待调整图像数据的拍摄条件参数后，即可根据待调整图像数据的拍摄条件参数在校正表中查找该拍摄条件参数对应的校正数据，若查找到，则获取查找到的校正数据中的每一像素点对应的第一黑电平动态校正值，从而执行步骤S220。例如，待调整图像数据的曝光时间为5s，基于前述的举例，在校正表中即可查找到曝光时间5s对应的校正数据，那么则获取该曝光时间5s的校正数据中的每个像素点对应的第一黑电平校正值，从而执行步骤S220。若在校正表中没有查找到拍摄条件参数对应的校正数据，则获取校正表中该拍摄条件参数的相邻两组校正数据，根据相邻两组校正数据生成拍摄条件参数对应的校正数据。例如，假设待调整图像数据的曝光时间为7s，基于前述的举例，校正表中只具有曝光时间为5s、10s、15s以及20s分别对应的校正数据，在此基础上，本方案可获取曝光时间7s的相邻两组校正数据，即曝光时间5s的校正数据以及曝光时间10s的校正数据，从而基于相邻两组校正数据生成曝光时间为7s的校正数据。其中，基于相邻两组校正数据生成曝光时间为7s的校正数据可通过对曝光时间5s的校正数据和曝光时间10s的校正数据进行加权平均获得，具体的，曝光时间5s的校正数据中像素点A的第一黑电平动态校正值和曝光时间5s的校正数据中像素点A的第一黑电平动态校正值进行加权平均，即可得到曝光时间为7s的像素点A的第一黑电平动态校正值。通过上述方式得到拍摄条件参数对应的校正数据后，本方案可执行步骤S220根据每个像素点的初始调整像素值和对应像素点的第一黑电平动态校正值对每个像素点的像素值进行调整，从而得到调整完成的图像。对于步骤S220，作为一种可能的实施方式，如图4所示，包括：步骤S400：将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，获得调整完成的图像。在上述实施方式中，本方案将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，从而即可得到调整完成的图像。在本实施方式中，本方案在黑电平初始调整的基础上，只针对拍摄条件参数带来的第一黑电平动态校正值进行校正，从而可以使得图像传感器拍摄的图像不会受到拍摄条件参数如图像传感器温度和/或曝光时间所带来的黑电平的影响，从而提高黑电平的校准精度，进而提高图像的颜色精度。对于步骤S220，作为另一种可能的实施方式，如图5所示，包括：步骤S500：将每个像素点的初始调整像素值减去每个通道对应的第一黑电平动态校正值，获得每个像素点的二次调整像素值，以获得二次调整图像数据。步骤S510：获取第二黑电平动态校正值。步骤S520：根据第二黑电平动态校正值和每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像。在上述实施方式中，本方案首先将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，得到每个像素点的二次调整像素值，所有像素点的二次调整像素值生成二次调整图像数据。然后本方案获取第二黑电平动态校正值，该黑电平动态校正值为预设区域的像素平均值，该预设区域指的是图像传感器不见光的黑色区域，其中，预设区域的像素平均值可通过特定的检测模块检测获得，具体的，该检测模块可检测图像传感器的感光状态，从而可以确定该预设区域范围，进而计算该预设区域范围的所有像素点的像素平均值，从而发送给本方案执行主体即可得到第二黑电平动态校正值。这里需要说明的是，由于不同感光条件下图像传感器的感光状态不同，因此，不见光的黑色区域在不同感光条件下是不同的，从而使得第二黑电平动态校正值在不同感光条件下不同。在获得第二黑电平动态校正值基础上，本方案根据第二黑电平动态校正值和每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像。作为一种可能的实施方式，对于步骤S520，如图6所示，可包括如下方式：步骤S600：将每个像素点的二次调整像素值均减去第二黑电平动态校正值，获得调整完成的图像。在上述实施方式中，本方案将每个像素点的二次调整像素值均减去第二黑电平动态校正值，从而即可得到调整完成的图像，在此基础上，本方案不仅对拍摄条件参数所带来的第一黑电平动态校正值进行校正，还对于图像传感器感光条件中不能感光区域所带来的第二黑电平动态校正值进行校正，从而提高黑电平的校准精度。作为另一种可能的实施方式，对于步骤S520，如图7所示，可包括如下方式：步骤S700：将每个像素点的二次调整像素值均减去第二黑电平动态校正值，获得每个像素点的三次调整像素值，以获得三次调整图像数据。步骤S710：获取三次调整图像数据的该预设区域中每列像素点的像素平均值。步骤S720：将预设区域中每个像素点的三次调整像素值减去所在列的像素平均值，获得调整完成的图像。在上述实施方式中，本方案首先将每个像素点的二次调整像素值均减去第二黑电平动态校正值，获得每个像素点的三次调整像素值，从而获得三次调整图像数据。然后获取该三次调整图像数据的预设区域中每列像素点的像素平均值，其中，该预设区域即为前述图像传感器不见光的黑色区域，具体确定方式与前述相同，在确定预设区域后，可计算每列像素点的像素平均值，从而将预设区域中每个像素点的三次调整像素值减去所在列的像素平均值，获得调整完成的图像。在上述实施方式中，本方案不仅对拍摄条件参数所带来的第一黑电平动态校正值进行校正，对于图像传感器感光条件中不能感光区域所带来的第二黑电平动态校正值进行校正，还对于图像传感器感光条件中不能感光区域中每列像素点进行黑电平校正，从而解决图像传感器环境影响所带来的黑电平漂移，进而提高黑电平校正的精度。在本实施例的可选实施方式中，除了前述单独针对拍摄条件参数的黑电平校正以及多种黑电平校正结合的方式以外，对于步骤S120获取黑电平动态校正值，如图8所示，还可包括如下步骤：步骤S800：获取初始调整图像数据的预设区域的像素平均值，以获得黑电平动态校正值。在上述基础上，对于步骤S130可包括如下步骤：步骤S810：将每个像素点的初始调整像素值均减去初始调整图像数据的预设区域的像素平均值，获得调整完成的图像。在上述实施方式中，本方案可在对黑电平初始校正值进行校正的基础上，还单独针对预设区域即图像传感器不感光区域所带来的黑电平影响进行校正，从而提高黑电平的校正精度，其中步骤S800的获取过程与前述步骤S500的获取过程类似，在这里不再赘述。在本实施例的可选实施方式中，除了前述实施方式以外，对于步骤S120获取黑电平动态校正值，如图9所示，还可包括如下步骤：步骤S900：获取初始调整图像数据的预设区域中每列像素点的像素平均值，以获得黑电平动态校正值。在上述基础上，对于步骤S130可包括如下步骤：步骤S910：将初始调整图像数据的预设区域中每个像素点的初始调整像素值减去所在列的像素平均值，获得调整完成的图像。在上述实施方式中，本方案可在对黑电平初始校正值进行校正的基础上，还单独针对预设区域即图像传感器不感光区域中每列像素带来的黑电平进行校正，从而提高黑电平的校正精度，其中步骤S900与前述的步骤S710的获取方式类似，在这里不再赘述。图10出示了本申请提供的图像调整装置的示意性结构框图，应理解，该装置与图1至图9中执行的方法实施例对应，能够执行前述的方法涉及的步骤，该装置具体的功能可以参见上文中的描述，为避免重复，此处适当省略详细描述。该装置包括至少一个能以软件或固件的形式存储于存储器中或固化在装置的操作系统中的软件功能模块。具体地，该装置包括：获取模块1000，用于获取待调整图像数据以及黑电平初始校正值；其中，待调整图像数据包括多个像素点的原始像素值，黑电平初始校正值为采集待调整图像数据的图像传感器输出的黑电平值；确定模块1100，用于根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值；获取模块1000，还用于获取黑电平动态校正值；调整模块1200，用于根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。上述设计的图像调整装置，本方案在根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值之后，还获取由于图像传感器的拍摄参数影响和/或图像传感器感光条件所带来的黑电平动态校正值，从而基于每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，从而获得调整完成的图像，因此，本方案基于黑电平动态校正值来对图像进行调整，可以解决由于图像传感器环境因素影响下黑电平漂移带来的校正不准确问题，从而提高黑电平校正的准确性，使得图像调整后颜色正常。在本实施例的可选实施方式中，该获取模块1000，具体用于获取待调整图像数据的拍摄条件参数；其中，拍摄条件参数包括图像传感器温度和/或曝光时间；以及根据拍摄条件参数获取拍摄条件参数对应的校正数据；其中，校正数据包含有多个像素点中每个像素点对应的第一黑电平动态校正值；该调整模块1200，具体用于根据每个像素点的初始调整像素值和每个像素点对应的第一黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。在本实施例的可选实施方式中，该获取模块1000，还具体用于判断是否在校正表中查找到拍摄条件参数对应的校正数据；其中，校正表包括和多个拍摄条件参数对应的多个校正数据；若查找到，则获取查找到的校正数据中的每一像素点对应的第一黑电平动态校正值。在本实施例的可选实施方式中，该获取模块1000，还具体用于若没有查找到拍摄条件参数对应的校正数据，则获取校正表中该拍摄条件参数的相邻两组校正数据；根据相邻两组校正数据生成拍摄条件参数对应的校正数据，以获得生成的校正数据中每一像素点对应的第一黑电平动态校正值。在本实施例的可选实施方式中，该调整模块1200，还具体用于将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，获得调整完成的图像。在本实施例的可选实施方式中，该调整模块1200，还具体用于将每个像素点的初始调整像素值减去对应像素点的第一黑电平动态校正值，获得每个像素点的二次调整像素值，以获得二次调整图像数据；获取第二黑电平动态校正值；其中，第二黑电平动态校正值为二次调整图像数据的预设区域的像素平均值，预设区域为图像传感器不见光的黑色区域；以及根据第二黑电平动态校正值和每个像素点的二次调整像素值对每个像素点的像素值进行调整，获得调整完成的图像。在本实施例的可选实施方式中，该调整模块1200，还具体用于将每个像素点的二次调整像素值均减去第二黑电平动态校正值，获得调整完成的图像。在本实施例的可选实施方式中，该调整模块1200，还具体用于将每个像素点的二次调整像素值均减去第二黑电平动态校正值，获得每个像素点的三次调整像素值，以获得三次调整图像数据；获取三次调整图像数据的预设区域中每列像素点的像素平均值；将预设区域中每个像素点的三次调整像素值减去所在列的像素平均值，获得调整完成的图像。在本实施例的可选实施方式中，该获取模块1000，还具体用于获取初始调整图像数据的预设区域的像素平均值，以获得黑电平动态校正值；其中，初始调整数据包括多个像素点的每个像素点的初始调整像素值，预设区域为图像传感器不见光的黑色区域；该调整模块1200，还具体用于将每个像素点的初始调整像素值均减去初始调整图像数据的预设区域的像素平均值，获得调整完成的图像。在本实施例的可选实施方式中，该获取模块1000，还具体用于获取初始调整图像数据的预设区域中每列像素点的像素平均值，以获得黑电平动态校正值；其中，初始调整数据包括多个像素点的每个像素点的初始调整像素值，预设区域为图像传感器不见光的黑色区域；该调整模块1200，还具体用于将初始调整图像数据的预设区域中每个像素点的初始调整像素值减去所在列的像素平均值，获得调整完成的图像。如图11所示，本申请提供一种电子设备11，包括：处理器1101和存储器1102，处理器1101和存储器1102通过通信总线1103和/或其他形式的连接机构互连并相互通讯，存储器1102存储有处理器1101可执行的计算机程序，当计算设备运行时，处理器1101执行该计算机程序，以执行时执行任一可选的实现方式中的方法，例如步骤S100至步骤S130：获取待调整图像数据以及黑电平初始校正值；根据每个像素点的原始像素值和黑电平初始校正值确定每个像素点的初始调整像素值；获取黑电平动态校正值；根据每个像素点的初始调整像素值和黑电平动态校正值对每个像素点的像素值进行调整，获得调整完成的图像。本申请提供一种计算机可读存储介质，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器运行时执行前述任一可选的实现方式中的方法。其中，存储介质可以由任何类型的易失性或非易失性存储设备或者它们的组合实现，如静态随机存取存储器，电可擦除可编程只读存储器，可擦除可编程只读存储器，可编程只读存储器，只读存储器，磁存储器，快闪存储器，磁盘或光盘。本申请提供一种计算机程序产品，该计算机程序产品在计算机上运行时，使得计算机执行任一可选的实现方式中的方法。在本申请所提供的实施例中，应该理解到，所揭露装置和方法，可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，又例如，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些通信接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。另外，作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。再者，在本申请各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。以上所述仅为本申请的实施例而已，并不用于限制本申请的保护范围，对于本领域的技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
