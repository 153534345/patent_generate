标题title
音视频设备资源调度的方法及系统
摘要abst
本发明实施例涉及设备管理技术领域，公开了一种音视频设备资源调度的方法，包括：通过呼叫控制网关接收分会场端发送的入会请求指令；基于预先设置的呼叫规则和转发规则在呼叫控制网关对入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求；判断入会请求指令满足呼叫规则时，获取MCU资源池处所有的MCU并发资源；在指令分发中心通过发送指令或者调用应用程序接口与相应类型的MCU进行通信；超过阈值，则反馈告警信息至请求端。本发明实施例中音视频设备资源调度的方法通过预先设置多种不同的应用程序接口进而可以对接多种不同品牌的MCU，进而可以智能调度音视频媒体设备的许可资源，有效把控设备本身支撑能力以及设备的许可使用率。
权利要求书clms
1.一种音视频设备资源调度的方法，其特征在于，包括：通过呼叫控制网关接收分会场端发送的入会请求指令；所述分会场端包括IP电话、移动终端、电脑终端或者一体式终端中的一种或者多种；基于预先设置的呼叫规则和转发规则在所述呼叫控制网关对所述入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求；当判断所述入会请求指令满足呼叫规则时，则获取MCU资源池处所有的MCU并发资源，所述MCU资源池包括多个MCU单元，且多个MCU单元具有不同的应用程序接口；确定所有并发资源的状态信息；如果所述并发资源低于阈值，则允许增加相应数量的通信线路，在所述指令分发中心通过发送指令或者调用相应的应用程序接口的形式与相应类型的MCU进行通信；如果超过阈值，则反馈告警信息至请求端。2.如权利要求1所述的音视频设备资源调度的方法，其特征在于，所述基于预先设置的呼叫规则和转发规则在所述呼叫控制网关对所述入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求，包括：对各个分会场端发送的所述入会请求指令进行解析以确定相应分会场端的设备信息、位置信息和可执行操作；其中，所述设备信息包括摄像头、拾音装置、显示装置和播放装置；所述位置信息包括第一位置信息、第二位置信息和第三位置信息；所述可执行操作包括发起会议、连接会议、画面显示选择、会议控制；基于预先设置的呼叫规则和转发规则对各个分会场端的所述位置信息和可执行操作进行判断以确定是否进行呼叫拦截，其中，所述呼叫规则包括设备信息和与设备信息关联的设备方位信息以及可执行操作；且呼叫规则中位置信息与在相应位置信息处可执行操作一一对应；当所述位置信息以及可执行操作信息均满足呼叫规则时，则执行下一步。3.如权利要求1所述的音视频设备资源调度的方法，其特征在于，在所述通过呼叫控制网关接收分会场端发送的入会请求指令之后，还包括：解析所述入会请求指令是否为有效指令，当所述入会请求指令为有效指令时，对所述入会请求指令进行指令解析转换；将所述入会请求指令转换为目标设备可识别的目标指令；将所述目标指令发送至相应的目标MCU或者目标设备。4.如权利要求3所述的音视频设备资源调度的方法，其特征在于，所述解析所述入会请求指令是否为有效指令，包括：获取MCU资源池内各个MCU设备的控制指令信息；对所述控制指令信息进行去重处理以获取指令验证集；解析所述入会请求指令以获取指令内容；将所述指令内容于所述验证集内的指令内容进行匹配，当存在匹配符合项时，所述入会请求指令为有效。5.如权利要求1所述的音视频设备资源调度的方法，其特征在于，所述在所述指令分发中心通过发送指令或者调用相应的应用程序接口的形式与相应类型的MCU进行通信，包括：在MCU单元为每个分会场配置相应的解码器；且解码器与各个分会场一一对应；接收到各个分会场传输的视频会面传输到组合画面控制器处，并基于预先设置的分配逻辑来为不同的分会场设置不同的显示画面，在第一分会场端显示第一画面，在第二分会场端显示第二画面，在第三分会场端显示第三画面；其中，第一画面为第二分会场画面，第二画面为第一分会场画面，第三画面为第一分会场、第二分会场和第三分会场组合画面；将所有的显示画面信息发送至相应的解码器进行解码并分发至相应的分会场端以实现相互通信。6.如权利要求1所述的音视频设备资源调度的方法，其特征在于，所述资源调度的方法，还包括：通过采用队列任务方式顺序处理，当请求允许通过后，呼叫控制网关会合理的将请求转发至MCU资源池中资源充足的MCU上；其中，所述队列任务方式为celery任务调度队列；和/或，所述资源调度的方法，还包括：当监测到MCU资源池中的MCU占用量达到第一阈值时，则进行一级告警；当监测到MCU资源池中的MCU占用量达到第二阈值时，则进行二级告警，当MCU上许可占用达到设置阈值后，自动产生一条设备告警记录。7.如权利要求6所述的音视频设备资源调度的方法，其特征在于，所述设备资源调度的方法，还包括：每隔预设时间进行一次动态资源监测以确定在特定时间内资源占用信息；基于所述资源占用信息以及历史数据情况来确定资源释放信息，基于所述资源占用信息以及资源释放信息来确定是否进行告警操作。8.如权利要求6所述的音视频设备资源调度的方法，其特征在于，所述资源调度的方法，还包括：获取当前设备状态信息；基于所述设备状态信息以及设备评价公式对当前设备状态进行状态评价以确定当前设备状态指数；所述设备评价公式为：其中，Hm为设备状态指数，Hj为性能指标健康值，i＝1,2,3,4,5分别为CPU负载、内存、磁盘I/O、网络I/O和入会情况；wi为对应指标的权重值，wj为告警等级，Nj标识相应等级下的告警数量，N为告警总数；根据所述设备状态指数确定是否允许增加新的通信线路。9.一种音视频设备资源调度的系统，其特征在于，包括：接收模块：用于通过呼叫控制网关接收分会场端发送的入会请求指令；所述分会场端包括IP电话、移动终端、电脑终端或者一体式终端中的一种或者多种；拦截判断模块：用于基于预先设置的呼叫规则和转发规则在所述呼叫控制网关对所述入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求；并发获取模块：用于当判断所述入会请求指令满足呼叫规则时，则获取MCU资源池处所有的MCU并发资源，所述MCU资源池包括多个MCU单元，且多个MCU单元具有不同的应用程序接口；确定模块：用于确定所有并发资源的状态信息；如果所述并发资源低于阈值，则允许增加相应数量的通信线路，在所述指令分发中心通过发送指令或者调用相应的应用程序接口的形式与相应类型的MCU进行通信；如果超过阈值，则反馈告警信息至请求端。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储计算机程序，其中，所述计算机程序使得计算机执行权利要求1至8任一项所述的音视频设备资源调度的方法。
说明书desc
技术领域本发明涉及设备管理技术领域，具体涉及一种音视频设备资源调度的方法及系统。背景技术目前，视频会议技术越来越成熟；并且不同区域的会议也得到广泛的应用；但是现在市面上的有多种不同品牌的MCU，多种不同品牌的MCU可能会涉及到资源的有效利用、MCU资源状态情况以及会议过程中的安全的问题；如何高效率的将不同的品牌的MCU进行资源管理调用以及保证整个会议过程中的信息安全成为本领域技术人员亟待解决的技术问题。发明内容针对所述缺陷，本发明实施例公开了一种音视频设备资源调度的方法，其能够实现高效的资源利用，且能够有效把控设备本身的支撑能力以及设备的许可使用率。本发明实施例第一方面公开了音视频设备资源调度的方法，包括：通过呼叫控制网关接收分会场端发送的入会请求指令；所述分会场端包括IP电话、移动终端、电脑终端或者一体式终端中的一种或者多种；基于预先设置的呼叫规则和转发规则在所述呼叫控制网关对所述入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求；当判断所述入会请求指令满足呼叫规则时，则获取MCU资源池处所有的MCU并发资源，所述MCU资源池包括多个MCU单元，且多个MCU单元具有不同的应用程序接口；确定所有并发资源的状态信息；如果所述并发资源低于阈值，则允许增加相应数量的通信线路，在所述指令分发中心通过发送指令或者调用相应的应用程序接口的形式与相应类型的MCU进行通信；如果超过阈值，则反馈告警信息至请求端。作为一种可选的实施方式，在本发明实施例第一方面中，所述基于预先设置的呼叫规则和转发规则在所述呼叫控制网关对所述入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求，包括：对各个分会场端发送的所述入会请求指令进行解析以确定相应分会场端的设备信息、位置信息和可执行操作；其中，所述设备信息包括摄像头、拾音装置、显示装置和播放装置；所述位置信息包括第一位置信息、第二位置信息和第三位置信息；所述可执行操作包括发起会议、连接会议、画面显示选择、会议控制；基于预先设置的呼叫规则和转发规则对各个分会场端的所述位置信息和可执行操作进行判断以确定是否进行呼叫拦截，其中，所述呼叫规则包括设备信息和与设备信息关联的设备方位信息以及可执行操作；且呼叫规则中位置信息与在相应位置信息处可执行操作一一对应；当所述位置信息以及可执行操作信息均满足呼叫规则时，则执行下一步。作为一种可选的实施方式，在本发明实施例第一方面中，在所述通过呼叫控制网关接收分会场端发送的入会请求指令之后，还包括：解析所述入会请求指令是否为有效指令，当所述入会请求指令为有效指令时，对所述入会请求指令进行指令解析转换；将所述入会请求指令转换为目标设备可识别的目标指令；将所述目标指令发送至相应的目标MCU或者目标设备。作为一种可选的实施方式，在本发明实施例第一方面中，所述解析所述入会请求指令是否为有效指令，包括：获取MCU资源池内各个MCU设备的控制指令信息；对所述控制指令信息进行去重处理以获取指令验证集；解析所述入会请求指令以获取指令内容；将所述指令内容于所述验证集内的指令内容进行匹配，当存在匹配符合项时，所述入会请求指令为有效。作为一种可选的实施方式，在本发明实施例第一方面中，所述在所述指令分发中心通过发送指令或者调用相应的应用程序接口的形式与相应类型的MCU进行通信，包括：在MCU单元为每个分会场配置相应的解码器；且解码器与各个分会场一一对应；接收到各个分会场传输的视频会面传输到组合画面控制器处，并基于预先设置的分配逻辑来为不同的分会场设置不同的显示画面，在第一分会场端显示第一画面，在第二分会场端显示第二画面，在第三分会场端显示第三画面；其中，第一画面为第二分会场画面，第二画面为第一分会场画面，第三画面为第一分会场、第二分会场和第三分会场组合画面；将所有的显示画面信息发送至相应的解码器进行解码并分发至相应的分会场端以实现相互通信。作为一种可选的实施方式，在本发明实施例第一方面中，所述资源调度的方法，还包括：通过采用队列任务方式顺序处理，当请求允许通过后，呼叫控制网关会合理的将请求转发至MCU资源池中资源充足的MCU上；其中，所述队列任务方式为celery任务调度队列；和/或，所述资源调度的方法，还包括：当监测到MCU资源池中的MCU占用量达到第一阈值时，则进行一级告警；当监测到MCU资源池中的MCU占用量达到第二阈值时，则进行二级告警，当MCU上许可占用达到设置阈值后，自动产生一条设备告警记录。作为一种可选的实施方式，在本发明实施例第一方面中，所述设备资源调度的方法，还包括：每隔预设时间进行一次动态资源监测以确定在特定时间内资源占用信息；基于所述资源占用信息以及历史数据情况来确定资源释放信息，基于所述资源占用信息以及资源释放信息来确定是否进行告警操作。作为一种可选的实施方式，在本发明实施例第一方面中，所述资源调度的方法，还包括：获取当前设备状态信息；基于所述设备状态信息以及设备评价公式对当前设备状态进行状态评价以确定当前设备状态指数；所述设备评价公式为：其中，Hm为设备状态指数，Hj为性能指标健康值，i＝1,2,3,4,5分别为CPU负载、内存、磁盘I/O、网络I/O和入会情况；wi为对应指标的权重值，wj为告警等级，Nj标识相应等级下的告警数量，N为告警总数；根据所述设备状态指数确定是否允许增加新的通信线路。本发明实施例第二方面公开一种音视频设备资源调度的系统，其特征在于，包括：接收模块：用于通过呼叫控制网关接收分会场端发送的入会请求指令；所述分会场端包括IP电话、移动终端、电脑终端或者一体式终端中的一种或者多种；拦截判断模块：用于基于预先设置的呼叫规则和转发规则在所述呼叫控制网关对所述入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求；并发获取模块：用于当判断所述入会请求指令满足呼叫规则时，则获取MCU资源池处所有的MCU并发资源，所述MCU资源池包括多个MCU单元，且多个MCU单元具有不同的应用程序接口；确定模块：用于确定所有并发资源的状态信息；如果所述并发资源低于阈值，则允许增加相应数量的通信线路，在所述指令分发中心通过发送指令或者调用相应的应用程序接口的形式与相应类型的MCU进行通信；如果超过阈值，则反馈告警信息至请求端。本发明实施例第三方面公开一种电子设备，包括：存储有可执行程序代码的存储器；与所述存储器耦合的处理器；所述处理器调用所述存储器中存储的所述可执行程序代码，用于执行本发明实施例第一方面公开的音视频设备资源调度的方法。本发明实施例第四方面公开一种计算机可读存储介质，其存储计算机程序，其中，所述计算机程序使得计算机执行本发明实施例第一方面公开的音视频设备资源调度的方法。与现有技术相比，本发明实施例具有以下有益效果：本发明实施例中音视频设备资源调度的方法通过预先设置多种不同的应用程序接口进而可以对接多种不同品牌的MCU，进而可以智能调度音视频媒体设备的许可资源，有效把控设备本身支撑能力以及设备的许可使用率。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例公开的音视频设备资源调度的方法的流程示意图；图2是本发明实施例公开的音视频设备资源调度的方法一具体流程示意图；图3是本发明实施例公开的音视频设备资源调度的方法又一具体流程示意图；图4是本发明实施例公开的呼叫拦截的流程示意图；图5是本发明实施例公开的终端与MCU通信连接的流程示意图；图6是本发明实施例公开的终端与MCU交互的结构示意图；图7是本发明实施例公开的输出告警的结构示意图；图8是本发明实施例提供的一种音视频设备资源调度的装置的结构示意图；图9是本发明实施例提供的一种电子设备的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明的是，本发明的说明书和权利要求书中的术语“第一”、“第二”、“第三”、“第四”等是用于区别不同的对象，而不是用于描述特定顺序。本发明实施例的术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，示例性地，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。现在市面上的有多种不同品牌的MCU，多种不同品牌的MCU可能会涉及到资源的有效利用、MCU资源状态情况以及会议过程中的安全的问题。基于此，本发明实施例公开了音视频设备资源调度的方法、装置、电子设备及存储介质，通过预先设置多种不同的应用程序接口进而可以对接多种不同品牌的MCU，进而可以智能调度音视频媒体设备的许可资源，有效把控设备本身支撑能力以及设备的许可使用率。实施例一请参阅图1，图1是本发明实施例公开的音视频设备资源调度的方法的流程示意图。其中，本发明实施例所描述的方法的执行主体为由软件或/和硬件组成的执行主体，该执行主体可以通过有线或/和无线方式接收相关信息，并可以发送一定的指令。当然，其还可以具有一定的处理功能和存储功能。该执行主体可以控制多个设备，例如远程的物理服务器或云服务器以及相关软件，也可以是对某处安置的设备进行相关操作的本地主机或服务器以及相关软件等。在一些场景中，还可以控制多个存储设备，存储设备可以与设备放置于同一地方或不同地方。如图1-图3所示，该基于音视频设备资源调度的方法包括以下步骤：S101：通过呼叫控制网关接收分会场端发送的入会请求指令；所述分会场端包括IP电话、移动终端、电脑终端或者一体式终端中的一种或者多种；S102：基于预先设置的呼叫规则和转发规则在所述呼叫控制网关对所述入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求；在进行具体实施的时候，其可以通过呼叫控制网关来接收各个分会场端发送的入会请求指令，基于该入会请求指令来确定不同区域的分会场是否具备进入该会议的资格。在进行具体实施时，如图6所示，其是采用双向通信的方式，终端主动加入会议以及MCU主动呼叫终端入会，所有的加入断开操作都会通过呼叫控制网关，网关提前设置好呼叫规则，转发规则，拦截到满足呼叫规则的通信指令后，就内部进行验证，获取到MCU当前的并发资源，如果没达到阈值，就允许一路通话加入，如果达到阈值，直接反馈给请求端，没有可用的资源。在这个处理过程中，有效进行请求拦截，并控制请求顺序，采用队列任务方式顺序处理。当请求允许通过后，呼叫控制网关会合理的将请求转发MCU资源池中一台资源充足的MCU上。除了设备的控制指令外，提供音视频设备呼叫网关控制单元，对设备的客户端和服务端之间的通信做一个拦截，所有的视音频设备影响许可的指令都将在呼叫网关控制单元进行验证，验证通过后才允许将指令下发。更为优选的，图4是本发明实施例公开的呼叫拦截的流程示意图，如图4所示，所述基于预先设置的呼叫规则和转发规则在所述呼叫控制网关对所述入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求，包括：S1021：对各个分会场端发送的所述入会请求指令进行解析以确定相应分会场端的设备信息、位置信息和可执行操作；其中，所述设备信息包括摄像头、拾音装置、显示装置和播放装置；所述位置信息包括第一位置信息、第二位置信息和第三位置信息；所述可执行操作包括发起会议、连接会议、画面显示选择、会议控制；S1022：基于预先设置的呼叫规则和转发规则对各个分会场端的所述位置信息和可执行操作进行判断以确定是否进行呼叫拦截，其中，所述呼叫规则包括设备信息和与设备信息关联的设备方位信息以及可执行操作；且呼叫规则中位置信息与在相应位置信息处可执行操作一一对应；S1023：当所述位置信息以及可执行操作信息均满足呼叫规则时，则执行下一步。具体的，针对于不同的会场端具有不同的规则设置，比如有的会场可以进行会议发起，而有的会场不可以进行会议发起，有些会场可以对其他的会场端进行闭麦或者是强制退出或者是视频显示等，而有些会场端则不具备这样的功能，针对于不同的会场端设置有不同的规则，并且在不同的会场端，那些设备被允许使用，那些设备不被允许使用调用，也需要进行设置，并且如何对多种不同品牌的设备进行指令的调整，比如摄像头、拾音装置、显示装置和播放装置均采用的是不同品牌的设备，由于需要提供云端会议功能，需要预先对各种不同匹配的设备的指令进行存储，并对最终的指令输出进行检测以确定各个会场端的设备均可以接受特定的控制信号。采用的拦截规则有区域、IP号码段等等。在进行设置的时候，可以针对区域进行功能划分，比如在第一位置区域，其能够执行的操作集合是那些，在第二位置区域其能够执行的操作集合有哪些；在第三位置区域其能够执行的操作有哪些，当所有这些匹配完成之后，则可以进行下一步的操作。更为优选的，在所述通过呼叫控制网关接收分会场端发送的入会请求指令之后，还包括：解析所述入会请求指令是否为有效指令，当所述入会请求指令为有效指令时，对所述入会请求指令进行指令解析转换；将所述入会请求指令转换为目标设备可识别的目标指令；将所述目标指令发送至相应的目标MCU或者目标设备。更为优选的，所述解析所述入会请求指令是否为有效指令，包括：获取MCU资源池内各个MCU设备的控制指令信息；对所述控制指令信息进行去重处理以获取指令验证集；解析所述入会请求指令以获取指令内容；将所述指令内容于所述验证集内的指令内容进行匹配，当存在匹配符合项时，所述入会请求指令为有效。所述入会请求指令为有效指令时，对指令进行二次分析，将指令转换为目标设备可接受的目标请求指令；将所述目标请求指令发送至所述目标MCU；通过上述步骤能够实现指令的解析转换，经过指令解析转换后的数据即是目标MCU或者目标设备可以实现的指令。S103：当判断所述入会请求指令满足呼叫规则时，则获取MCU资源池处所有的MCU并发资源，所述MCU资源池包括多个MCU单元，且多个MCU单元具有不同的应用程序接口；S104：确定所有并发资源的状态信息；如果所述并发资源低于阈值，则允许增加相应数量的通信线路，在所述指令分发中心通过发送指令或者调用相应的应用程序接口的形式与相应类型的MCU进行通信；如果超过阈值，则反馈告警信息至请求端。根据各品牌工作方式不同，指令分发中心通过发送指令或调用Api的形式与各大品牌设备进行通信，所有指令/接口都由官方提供，通知及反馈数据通过主动读取或被动接收的形式缓存在Redis高速缓存数据库中，并通过多通道队列进行逻辑处理、数据采集、及用户推送等，高效率的将各个品牌稳定集成平台中进行统一管理及控制。因为不同的品牌具有不同的应用程序接口，故而在进行实施的时候，需要预先存储有多种不同的API接口，这样在进行实施的时候，直接对指令进行分析以确定其需要调用那种API接口来实现相应的通信连接。具体的，在进行实施时，配置MCU资源使用规则，自动根据会议参会方数，选择适合与会者资源、适合品牌的设备。然后把纳入到资源池管理的MCU按照应用占用率升序排列；检查是否有直接满足要求的MCU，如果满足，则返回最接近要求的MCU；即可实现资源的调用。更为优选的，图5是本发明实施例公开的终端与MCU通信连接的流程示意图，如图5所示，所述在所述指令分发中心通过发送指令或者调用相应的应用程序接口的形式与相应类型的MCU进行通信，包括：S1041：在MCU单元为每个分会场配置相应的解码器；且解码器与各个分会场一一对应；S1042：接收到各个分会场传输的视频会面传输到组合画面控制器处，并基于预先设置的分配逻辑来为不同的分会场设置不同的显示画面，在第一分会场端显示第一画面，在第二分会场端显示第二画面，在第三分会场端显示第三画面；其中，第一画面为第二分会场画面，第二画面为第一分会场画面，第三画面为第一分会场、第二分会场和第三分会场组合画面；S1043：将所有的显示画面信息发送至相应的解码器进行解码并分发至相应的分会场端以实现相互通信。上述MCU为所有会场分配编码器，对每一路码进行解码和二次编码，镜组合画面控制器组合为多种画面形式，这样就可以实现所有会场的画面共享，不局限于选择观看单一会场画面，并且通过MCU来对资源进行协调，MCU能够实现全编码全解码；大大提升了会议系统设置的适配性。更为优选的，所述资源调度的方法，还包括：通过采用队列任务方式顺序处理，当请求允许通过后，呼叫控制网关会合理的将请求转发至MCU资源池中资源充足的MCU上；其中，所述队列任务方式为celery任务调度队列；在本发明实施例中，任务生产者以注解的方式配置任务，其经任务调度器加入队列；消息中间件负责任务进度消息的收发和任务调配，将任务发给消费者；维护管理工具使用celery的autotask调用注册到后端中的监测任务，当任务被调度时，先生成一条消息，包含该任务的函数名称；消息被Redis任务调度器分配到当前空闲的消费者后，监测告警任务的调度被celery控制；在执行机上执行启动命令，生成管理任务的主进程，由主进程统一处理队列的进度消息、重启任务及任务注册、超时处理；监测告警任务则由对应的多个子进程执行来实现系统的监控告警。通过上述分布式队列的方式，其能够具有更高的性能，且具有高可用性和可扩展性，使得整体的性能更加的优异。和/或，所述资源调度的方法，还包括：当监测到MCU资源池中的MCU占用量达到第一阈值时，则进行一级告警；当监测到MCU资源池中的MCU占用量达到第二阈值时，则进行二级告警，当MCU上许可占用达到设置阈值后，自动产生一条设备告警记录。如图7所示，设置MCU设备的告警级别，当MCU上许可占用达到设置阈值后，自动产生一条设备告警记录，通知用户有效做好设备预警，防止在设备出现意外情况，导致设备上并发过高，没有及时了解设备运行情况。例如：设置MCU设备并发许可百分之70是二级告警，超过百分之80是一级告警。通过上述告警设置，使得用户能够及时了解设备的使用情况。更为优选的，所述设备资源调度的方法，还包括：每隔预设时间进行一次动态资源监测以确定在特定时间内资源占用信息；基于所述资源占用信息以及历史数据情况来确定资源释放信息，基于所述资源占用信息以及资源释放信息来确定是否进行告警操作。有时候资源占用虽然超过了70％，还未到80％，但是可以预测的是在未来半个小时内，可能释放掉的资源为10％，也即是可以使得最终的资源占用可以小于70％是处于合理区间的，当出现这样的情况的时候，也可以不进行告警操作。当获取的数据基础较大的时候，可以对其进行动态预测，也即是基于当前获取到会议数量来确定未来一段时间内的MCU资源占用量，通过上述动态预测使得资源能够更有效的得到合理利用。更为优选的，所述资源调度的方法，还包括：获取当前设备状态信息；基于所述设备状态信息以及设备评价公式对当前设备状态进行状态评价以确定当前设备状态指数；所述设备评价公式为：其中，Hm为设备状态指数，Hj为性能指标健康值，i＝1,2,3,4,5分别为CPU负载、内存、磁盘I/O、网络I/O和入会情况；wi为对应指标的权重值，wj为告警等级，Nj标识相应等级下的告警数量，N为告警总数；根据所述设备状态指数确定是否允许增加新的通信线路。在进行具体实施时，CPU状态数值为：H1＝*100，其中，v1是CPU每5分钟平均负载处于多点控制单元内核总数后的值。内存的状态数值为：H2＝*100，其中，v2为内存使用率。磁盘I/O的状态数值为：h3＝*100，其中，v3为MCU磁盘实时读写速率；网络I/O的状态数值为，H4＝*100，其中，v4为网络I/O的实施速率值；入会情况的状态数值为：H5＝*100，其中，v5为入会数量。通过上述步骤既可以计算出CPU负载、内存、磁盘I/O、网络I/O一集入会情况的性能指标健康值，这样即可完成相应的计算。具体的，在生产环境中，CPU负载、内存、磁盘I/O、网络I/O对会议情况影响较大，且告警等级评级相同；故而在进行设置的时候5个指标的权重分别是0.225，0.225，0.225，0.225，0.1。通过上述权重设置能够实现更加准确地监测的目的。然后根据设备评价公式可以计算得到相应的评分，具体评分等级分为四个级别，第一风险等级、第二风险等级、第三风险等级、第四风险等级；针对不同的等级设置有不同的状态数值区间，且不同的数值区间对应不同的维护策略。通过对设备状态进行检测进而确定进行合适的维护策略，通过上述方式能够使得整体系统运行的稳定性大大提高。通过上述方式能够为不同组网环境下的MCU、各个终端融合为多层级跨网段的体系，结合云服务提供了多种会议能力，保证会议质量。在本发明实施例中还可以对各项检测数据进行图像化显示：对视频资源、音频资源、IP资源；通过图像化显示使得其更加直观；告警记录包括告警名称、告警内容、主机IP。本发明实施例中音视频设备资源调度的方法通过预先设置多种不同的应用程序接口进而可以对接多种不同品牌的MCU，进而可以智能调度音视频媒体设备的许可资源，有效把控设备本身支撑能力以及设备的许可使用率。实施例二请参阅图8，图8是本发明实施例公开的音视频设备资源调度的装置的结构示意图。如图8所示，该音视频设备资源调度的装置可以包括：接收模块21：用于通过呼叫控制网关接收分会场端发送的入会请求指令；所述分会场端包括IP电话、移动终端、电脑终端或者一体式终端中的一种或者多种；拦截判断模块22：用于基于预先设置的呼叫规则和转发规则在所述呼叫控制网关对所述入会请求指令进行呼叫拦截以判断相应的终端是否满足接入要求；并发获取模块23：用于当判断所述入会请求指令满足呼叫规则时，则获取MCU资源池处所有的MCU并发资源，所述MCU资源池包括多个MCU单元，且多个MCU单元具有不同的应用程序接口；确定模块24：用于确定所有并发资源的状态信息；如果所述并发资源低于阈值，则允许增加相应数量的通信线路，在所述指令分发中心通过发送指令或者调用相应的应用程序接口的形式与相应类型的MCU进行通信；如果超过阈值，则反馈告警信息至请求端。本发明实施例中音视频设备资源调度的方法通过预先设置多种不同的应用程序接口进而可以对接多种不同品牌的MCU，进而可以智能调度音视频媒体设备的许可资源，有效把控设备本身支撑能力以及设备的许可使用率。实施例三请参阅图9，图9是本发明实施例公开的一种电子设备的结构示意图。电子设备可以是计算机以及服务器等，当然，在一定情况下，还可以是手机、平板电脑以及监控终端等智能设备，以及具有处理功能的图像采集装置。如图9所示，该电子设备可以包括：存储有可执行程序代码的存储器510；与存储器510耦合的处理器520；其中，处理器520调用存储器510中存储的可执行程序代码，执行实施例一中的音视频设备资源调度的方法中的部分或全部步骤。本发明实施例公开一种计算机可读存储介质，其存储计算机程序，其中，该计算机程序使得计算机执行实施例一中的音视频设备资源调度的方法中的部分或全部步骤。本发明实施例还公开一种计算机程序产品，其中，当计算机程序产品在计算机上运行时，使得计算机执行实施例一中的音视频设备资源调度的方法中的部分或全部步骤。本发明实施例还公开一种应用发布平台，其中，应用发布平台用于发布计算机程序产品，其中，当计算机程序产品在计算机上运行时，使得计算机执行实施例一中的音视频设备资源调度的方法中的部分或全部步骤。在本发明的各种实施例中，应理解，所述各过程的序号的大小并不意味着执行顺序的必然先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物单元，即可位于一个地方，或者也可以分布到多个网络单元上。可根据实际的需要选择其中的部分或全部单元来实现本实施例方案的目的。另外，在本发明各实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。所述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元若以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可获取的存储器中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或者部分，可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储器中，包括若干请求用以使得一台计算机设备执行本发明的各个实施例所述方法的部分或全部步骤。在本发明所提供的实施例中，应理解，“与A对应的B”表示B与A相关联，根据A可以确定B。但还应理解，根据A确定B并不意味着仅仅根据A确定B，还可以根据A和/或其他信息确定B。本领域普通技术人员可以理解所述实施例的各种方法中的部分或全部步骤是可以通过程序来指令相关的硬件来完成，该程序可以存储于一计算机可读存储介质中，存储介质包括只读存储器、随机存储器、可编程只读存储器、可擦除可编程只读存储器、一次可编程只读存储器、电子抹除式可复写只读存储器、只读光盘或其他光盘存储器、磁盘存储器、磁带存储器、或者能够用于携带或存储数据的计算机可读的任何其他介质。以上对本发明实施例公开的音视频设备资源调度的方法、装置、电子设备及存储介质进行了详细介绍，本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本发明的限制。
