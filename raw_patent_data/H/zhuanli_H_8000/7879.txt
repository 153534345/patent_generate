标题title
一种基于物联网的无线设备状态监测系统及方法
摘要abst
本发明公开了一种基于物联网的无线设备状态监测系统及方法，包括身份标识获取模块、优先级控制数据记录模块、被动优先级分析模块、交互传输模块和状态提醒模块；身份标识获取模块用于获取无线音频设备发送与所述无线音频设备配对成功的无线音频源设备的身份标识；优先级控制数据记录模块用于用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录；被动优先级分析模块用于分析多个无线音频源设备处于连接状态后任一无线音频源设备异常中断后的被动优先级；交互传输模块用于基于无线音频源设备与无线音频设备连接的通信传输协议进行优先级数据的交互传输；状态提醒模块用于对使用无线设备的用户进行状态信号提醒。
权利要求书clms
1.一种基于物联网的无线设备状态监测方法，其特征在于，所述方法包括以下分析步骤：步骤S1：获取无线音频设备发送与所述无线音频设备配对成功的无线音频源设备的身份标识；所述无线音频源设备的个数为m，获取控制身份标识对应优先级顺序的应用程序记录的优先级控制数据，所述优先级控制数据是指用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录；所述应用程序安装于无线音频源设备中；步骤S2：基于优先级控制数据，分析多个无线音频源设备处于连接状态后任一无线音频源设备异常中断后的被动优先级；步骤S3：基于步骤S2中的被动优先级，传输无线音频源设备对应被动优先级的身份标识于应用程序中，所述应用程序基于无线音频源设备与无线音频设备连接的通信传输协议进行优先级数据的交互传输；步骤S4：基于步骤S3中的交互传输，得到恢复正常的无线音频源设备与无线音频设备的连接状态并对使用无线设备的用户进行状态信号提醒，所述恢复正常是指在异常发生前包含的身份标识类型和数量与交互传输后包含的身份标识类型和数量对应相同。2.根据权利要求1所述的一种基于物联网的无线设备状态监测方法，其特征在于：所述步骤S1中用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录，包括以下分析步骤：步骤S11：获取用户使用应用程序进行优先级设定后的无线音频设备与无线音频源设备构建的无线连接树T，所述无线连接数T包含第一层级T1和第二层级T2，所述第一层级T1为无线音频设备，所述第二层级T2由与第一层级T1当前进行无线通信连接的m个无线音频源设备构成，且所述第二层级T2中的无线音频源设备按照优先级从高到低的顺序进行排列生成第二层级集合QT2；第一次优先级设定前的初始顺序对应无线音频源设备的优先级为无线音频源设备对应的连接先后顺序；步骤S12：提取相同第一层级对应的无线连接树为目标无线连接树，获取目标无线连接树中的第二层级为目标第二层级T2’，以及目标第二层级T2’中无线音频源设备的数量NT2’；步骤S13：提取目标无线连接树产生记录前应用程序上存在优先级控制数据的无线音频源设备为待分析无线音频源设备，获取所述待分析无线音频源设备的数量N0；当N0=NT2’且所述目标第二层级T2’构成的目标第二层级集合QT2’与待分析无线音频源设备构成第二层级集合顺序不同时，输出用户操作为主动操作，所述主动操作是指主动调整第二层级中无线音频源设备的优先级。3.根据权利要求2所述的一种基于物联网的无线设备状态监测方法，其特征在于：所述步骤S2包括以下分析步骤：获取无线音频源设备处于连接状态后第一监测周期内的优先级控制数据、第二层级集合中的无线音频源设备数量；当第一监测周期内不存在优先级控制数据且无线音频源设备数量小于前一连接状态对应的无线音频源设备数量且差值为1时，输出任一无线音频源设备异常中断信号；提取目标无线连接树中异常中断的无线音频源设备为异常无线设备，保持连接状态仍处于第二层级的无线音频源设备为待考察无线设备；获取待考察无线设备对应的功能属性表征w1和异常无线设备对应的功能属性表征w2，所述功能属性是指无线音频源设备与无线音频设备连接后产生的记录数据类型；当w1∩w2=w1时，且应用程序存在优先级控制数据，输出被动优先级为异常中断前对应第二层级集合中的优先级；当w1∩w2={w1,w2}时，分析用户在保持无线音频源设备与无线音频设备连接状态下的偏向指数，所述偏向指数是指分析待考察无线设备和异常无线设备对应用户使用偏向的数学指标。4.根据权利要求3所述的一种基于物联网的无线设备状态监测方法，其特征在于：所述偏向指数包括以下分析步骤：获取异常中断前第二监测周期内存储记录的优先级控制数据调整次数r0，所述调整是指相邻两次优先级控制数据不相同；提取存储记录的优先级控制数据中异常无线设备作为第一优先级的次数r1，利用公式：G=0.45*+0.55*/计算保持无线音频源设备与无线音频设备连接状态下的偏向指数G，其中hi表示第i次记录的优先级控制数据中异常无线设备作为第一优先级的使用状态持续时长，i≤r1；h0表示r0次调整记录下待考察无线设备保持使用状态下的总持续时长，所述使用状态是指无线音频源设备与无线音频设备产生数据传输的状态；f0表示异常无线设备不作为第一优先级时使用状态下的总持续时长；设置偏向指数阈值G0，当G≥G0且异常中断前异常无线设备处于第一优先级时，输出被动优先级为异常无线设备优先级大于待考察无线设备的优先级；当G≥G0且异常中断前异常无线设备未处于第一优先级时，输出被动优先级为异常中断前对应第二层级集合中的优先级；当G＜G0，获取异常中断前处于使用状态的无线音频源设备，若处于使用状态的无线音频源设备为异常设备，则输出被动优先级为异常无线设备优先级大于待考察无线设备的优先级；若处于使用状态的无线音频源设备为待考察设备，则输出被动优先级为待考察无线设备的优先级大于异常无线设备的优先级。5.根据权利要求4所述的一种基于物联网的无线设备状态监测方法，其特征在于：所述步骤S3中的交互传输包括以下分析步骤：传输无线音频源设备对应被动优先级的身份标识于处于被动优先级中第一优先级对应的无线音频源设备中的应用程序；所述应用程序接收被动优先级的身份标识信号后，将该应用程序所处的无线通信源设备的优先级进行设定，再通过无线音频源设备传输至所述无线音频设备中，所述无线音频设备基于通信协议传输至所有与自身构成连接协议的无线音频源设备中，并告知各自的优先级。6.一种应用权利要求1-5中任一项所述的一种基于物联网的无线设备状态监测方法的基于物联网的无线设备状态监测系统，其特征在于，所述系统包括身份标识获取模块、优先级控制数据记录模块、被动优先级分析模块、交互传输模块和状态提醒模块；所述身份标识获取模块用于获取无线音频设备发送与所述无线音频设备配对成功的无线音频源设备的身份标识；所述优先级控制数据记录模块用于用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录；所述被动优先级分析模块用于分析多个无线音频源设备处于连接状态后任一无线音频源设备异常中断后的被动优先级；所述交互传输模块用于基于无线音频源设备与无线音频设备连接的通信传输协议进行优先级数据的交互传输；所述状态提醒模块用于在恢复正常的无线音频源设备与无线音频设备的连接状态并对使用无线设备的用户进行状态信号提醒。7.根据权利要求6所述的基于物联网的无线设备状态监测系统，其特征在于：所述优先级控制数据记录模块包括无线连接树提取单元和主动操作行为判定单元；所述无线连接树提取单元用于获取用户使用应用程序进行优先级设定后的无线音频设备与无线音频源设备构建的无线连接树；所述主动操作行为判定单元用于基于所述无线连接树提取单元构建的无线连接树，输出判断为用户主动操作的数据信号。8.根据权利要求7所述的基于物联网的无线设备状态监测系统，其特征在于：所述被动优先级分析模块包括异常中断判断单元和功能属性表征分析单元；所述异常中断判断单元基于所述主动操作行为判定单元的数据分析输出异常中断信号；所述功能属性表征分析单元用于分析多个无线音频源设备之间的功能属性表征差异并根据差异划分场景。9.根据权利要求8所述的基于物联网的无线设备状态监测系统，其特征在于：所述被动优先级分析模块还包括异常无线设备数据获取单元、偏向指数计算单元和阈值分析优先级输出单元；所述异常无线设备数据获取单元用于获取异常中断前第二监测周期内存储记录的优先级控制数据；所述偏向指数计算单元用于根据所述异常无线设备数据分析计算偏向指数；所述阈值分析优先级输出单元用于设定偏向指数阈值，并根据偏向指数与偏向指数阈值的大小关系输出被动优先级。
说明书desc
技术领域本发明涉及无线设备状态技术领域，具体为一种基于物联网的无线设备状态监测系统及方法。背景技术在无线音频设备的应用发展中，对无线音频设备与无线音频源设备的协议优化已经做到适应不同情景的技术要求，给人们日常生活带来了便捷，丰富了人们对无线设备的使用场景；在最初无线音频设备与无线音频源设备的通信连接上，如申请专利为201510391927.7 一种多点连接控制方法、装置、终端及多点蓝牙耳机中背景技术所提及的多个无线音频源设备的连接手段，申请文件在此基础上设定一个应用程序避免了手动断开设备再次连接设备的繁琐动作，直接通过应用程序借助蓝牙耳机与连接设备间的通信协议进行数据传输调整优先级，但是存在一个问题：即当遇到异常中断的情况，此时在没有用户手动调整应用程序情况下，会出现系统在面对中断前优先级高的设备断开连接时再次连接的优先级选择问题，则可能会造成系统故障或者适配设备的优先级并不符合用户需求。发明内容本发明的目的在于提供一种基于物联网的无线设备状态监测系统及方法，以解决上述背景技术中提出的问题。为了解决上述技术问题，本发明提供如下技术方案：一种基于物联网的无线设备状态监测方法，方法包括以下分析步骤：步骤S1：获取无线音频设备发送与无线音频设备配对成功的无线音频源设备的身份标识；无线音频源设备的个数为m，获取控制身份标识对应优先级顺序的应用程序记录的优先级控制数据，优先级控制数据是指用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录；应用程序安装于无线音频源设备中；步骤S2：基于优先级控制数据，分析多个无线音频源设备处于连接状态后任一无线音频源设备异常中断后的被动优先级；步骤S3：基于步骤S2中的被动优先级，传输无线音频源设备对应被动优先级的身份标识于应用程序中，应用程序基于无线音频源设备与无线音频设备连接的通信传输协议进行优先级数据的交互传输；步骤S4：基于步骤S3中的交互传输，得到恢复正常的无线音频源设备与无线音频设备的连接状态并对使用无线设备的用户进行状态信号提醒，恢复正常是指在异常发生前包含的身份标识类型和数量与交互传输后包含的身份标识类型和数量对应相同。进一步的，步骤S1中用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录，包括以下分析步骤：步骤S11：获取用户使用应用程序进行优先级设定后的无线音频设备与无线音频源设备构建的无线连接树T，无线连接数T包含第一层级T1和第二层级T2，第一层级T1为无线音频设备，第二层级T2由与第一层级T1当前进行无线通信连接的m个无线音频源设备构成，且第二层级T2中的无线音频源设备按照优先级从高到低的顺序进行排列生成第二层级集合QT2；第一次优先级设定前的初始顺序对应无线音频源设备的优先级为无线音频源设备对应的连接先后顺序；步骤S12：提取相同第一层级对应的无线连接树为目标无线连接树，分析目标无线连接树的目的是避免用户连接多个无线音频设备时数据分析标准不统一的情况；因为用户在连接无线音频设备1后也存在转换成连接无线音频设备2的可能；获取目标无线连接树中的第二层级为目标第二层级T2’，以及目标第二层级T2’中无线音频源设备的数量NT2’；步骤S13：提取目标无线连接树产生记录前应用程序上存在优先级控制数据的无线音频源设备为待分析无线音频源设备，获取待分析无线音频源设备的数量N0；当N0=NT2’且目标第二层级T2’构成的目标第二层级集合QT2’与待分析无线音频源设备构成第二层级集合顺序不同时，输出用户操作为主动操作，主动操作是指主动调整第二层级中无线音频源设备的优先级。分析主动操作是为了后续限定异常产生的对比场景。进一步的，步骤S2包括以下分析步骤：获取无线音频源设备处于连接状态后第一监测周期内的优先级控制数据、第二层级集合中的无线音频源设备数量；当第一监测周期内不存在优先级控制数据且无线音频源设备数量小于前一连接状态对应的无线音频源设备数量且差值为1时，输出任一无线音频源设备异常中断信号；提取目标无线连接树中异常中断的无线音频源设备为异常无线设备，保持连接状态仍处于第二层级的无线音频源设备为待考察无线设备；获取待考察无线设备对应的功能属性表征w1和异常无线设备对应的功能属性表征w2，功能属性是指无线音频源设备与无线音频设备连接后产生的记录数据类型；当w1∩w2=w1时，且应用程序存在优先级控制数据，输出被动优先级为异常中断前对应第二层级集合中的优先级；分析无线音频源设备的功能属性是因为功能属性不同且用户自行设置后说明用户对不同功能属性的设备具有顺序要求，其次在无线音频源设备连接状态下，语音控制的基本逻辑规则即首次连接上时是基于谁先连接谁优先，但用户在应用程序上更改优先级后，则以应用程序上设定的优先级为标准，那么存在用户设置时发生异常中断后，就会存在原本优先级为1的设备在中断了，再次连接的情况下优先级是保留1，还是基于基本逻辑规则此时断开设备再连接属于后者连接优先级应该为2的问题，因为在断开后重新连接并没有用户主动设置，所以需要考虑发生异常情况没有连接规则时设备的连接优先级问题；当w1∩w2={w1,w2}时，分析用户在保持无线音频源设备与无线音频设备连接状态下的偏向指数，偏向指数是指分析待考察无线设备和异常无线设备对应用户使用偏向的数学指标。进一步的，偏向指数包括以下分析步骤：获取异常中断前第二监测周期内存储记录的优先级控制数据调整次数r0，调整是指相邻两次优先级控制数据不相同；提取存储记录的优先级控制数据中异常无线设备作为第一优先级的次数r1，利用公式：G=0.45*+0.55*/计算保持无线音频源设备与无线音频设备连接状态下的偏向指数G，其中hi表示第i次记录的优先级控制数据中异常无线设备作为第一优先级的使用状态持续时长，i≤r1；h0表示r0次调整记录下待考察无线设备保持使用状态下的总持续时长，使用状态是指无线音频源设备与无线音频设备产生数据传输的状态；f0表示异常无线设备不作为第一优先级时使用状态下的总持续时长；选取调整记录下的总持续时长是因为调整是用户自主产生的动作带有目的性，如果调整后的使用时长较长，说明该设备的重要性较高；设置偏向指数阈值G0，当G≥G0且异常中断前异常无线设备处于第一优先级时，输出被动优先级为异常无线设备优先级大于待考察无线设备的优先级；当G≥G0且异常中断前异常无线设备未处于第一优先级时，输出被动优先级为异常中断前对应第二层级集合中的优先级；分析异常中断前异常无线设备的优先级是因为只有异常无线设备优先级高于其他设备时在中断后才会存在系统无法选择适配优先级的情况；若异常无线设备优先级不是第一优先级，系统在选择基本逻辑规则后也会符合连接要求；当G＜G0，获取异常中断前处于使用状态的无线音频源设备，若处于使用状态的无线音频源设备为异常设备，则输出被动优先级为异常无线设备优先级大于待考察无线设备的优先级；若处于使用状态的无线音频源设备为待考察设备，则输出被动优先级为待考察无线设备的优先级大于异常无线设备的优先级。此情景下说明用户在对多个无线音频源设备的连接过程中并未存在明显倾向，需要根据实际情况进行分析。进一步的，步骤S3中的交互传输包括以下分析步骤：传输无线音频源设备对应被动优先级的身份标识于处于被动优先级中第一优先级对应的无线音频源设备中的应用程序；应用程序接收被动优先级的身份标识信号后，将该应用程序所处的无线通信源设备的优先级进行设定，再通过无线音频源设备传输至无线音频设备中，无线音频设备基于通信协议传输至所有与自身构成连接协议的无线音频源设备中，并告知各自的优先级。一种基于物联网的无线设备状态监测系统，系统包括身份标识获取模块、优先级控制数据记录模块、被动优先级分析模块、交互传输模块和状态提醒模块；身份标识获取模块用于获取无线音频设备发送与无线音频设备配对成功的无线音频源设备的身份标识；优先级控制数据记录模块用于用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录；被动优先级分析模块用于分析多个无线音频源设备处于连接状态后任一无线音频源设备异常中断后的被动优先级；交互传输模块用于基于无线音频源设备与无线音频设备连接的通信传输协议进行优先级数据的交互传输；状态提醒模块用于在恢复正常的无线音频源设备与无线音频设备的连接状态并对使用无线设备的用户进行状态信号提醒。进一步的，优先级控制数据记录模块包括无线连接树提取单元和主动操作行为判定单元；无线连接树提取单元用于获取用户使用应用程序进行优先级设定后的无线音频设备与无线音频源设备构建的无线连接树；主动操作行为判定单元用于基于无线连接树提取单元构建的无线连接树，输出判断为用户主动操作的数据信号。进一步的，被动优先级分析模块包括异常中断判断单元和功能属性表征分析单元；异常中断判断单元基于主动操作行为判定单元的数据分析输出异常中断信号；功能属性表征分析单元用于分析多个无线音频源设备之间的功能属性表征差异并根据差异划分场景。进一步的，被动优先级分析模块还包括异常无线设备数据获取单元、偏向指数计算单元和阈值分析优先级输出单元；异常无线设备数据获取单元用于获取异常中断前第二监测周期内存储记录的优先级控制数据；偏向指数计算单元用于根据异常无线设备数据分析计算偏向指数；阈值分析优先级输出单元用于设定偏向指数阈值，并根据偏向指数与偏向指数阈值的大小关系输出被动优先级。与现有技术相比，本发明所达到的有益效果是：本发明通过对异常中断前后无线音频源设备的连接情况，以及用户基于应用程序上记录的优先级控制数据进行分析，划定不同情况下异常中断后对设备连接选择的可能性，结合用户对于无线音频设备的使用数据，实现对异常中断连接后多可能性连接的具体分析，避免系统在无规则情况下的混乱；本申请在此情景下分析了异常中断问题产生后的二次连接问题，且此时的二次连接无需人为基于应用程序的设置，只需通过系统的数据分析即可匹配较为合适的连接顺序，进一步在申请文件的基础上提高了无线通信连接遇到异常问题时的智能化与数据化，提高了用户使用无线通信设备的满意度。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1是本发明一种基于物联网的无线设备状态监测系统的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，本发明提供技术方案：一种基于物联网的无线设备状态监测系统，系统包括身份标识获取模块、优先级控制数据记录模块、被动优先级分析模块、交互传输模块和状态提醒模块；身份标识获取模块用于获取无线音频设备发送与无线音频设备配对成功的无线音频源设备的身份标识；优先级控制数据记录模块用于用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录；被动优先级分析模块用于分析多个无线音频源设备处于连接状态后任一无线音频源设备异常中断后的被动优先级；交互传输模块用于基于无线音频源设备与无线音频设备连接的通信传输协议进行优先级数据的交互传输；状态提醒模块用于在恢复正常的无线音频源设备与无线音频设备的连接状态并对使用无线设备的用户进行状态信号提醒。优先级控制数据记录模块包括无线连接树提取单元和主动操作行为判定单元；无线连接树提取单元用于获取用户使用应用程序进行优先级设定后的无线音频设备与无线音频源设备构建的无线连接树；主动操作行为判定单元用于基于无线连接树提取单元构建的无线连接树，输出判断为用户主动操作的数据信号。被动优先级分析模块包括异常中断判断单元和功能属性表征分析单元；异常中断判断单元基于主动操作行为判定单元的数据分析输出异常中断信号；功能属性表征分析单元用于分析多个无线音频源设备之间的功能属性表征差异并根据差异划分场景。被动优先级分析模块还包括异常无线设备数据获取单元、偏向指数计算单元和阈值分析优先级输出单元；异常无线设备数据获取单元用于获取异常中断前第二监测周期内存储记录的优先级控制数据；偏向指数计算单元用于根据异常无线设备数据分析计算偏向指数；阈值分析优先级输出单元用于设定偏向指数阈值，并根据偏向指数与偏向指数阈值的大小关系输出被动优先级。一种基于物联网的无线设备状态监测方法，方法包括以下分析步骤：步骤S1：获取无线音频设备发送与无线音频设备配对成功的无线音频源设备的身份标识；无线音频源设备的个数为m，获取控制身份标识对应优先级顺序的应用程序记录的优先级控制数据，优先级控制数据是指用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录；应用程序安装于无线音频源设备中；如实施例所示：本申请中的无线音频设备为多点蓝牙耳机，无线音频源设备可为手机、笔记本电脑、平板等能够与多点蓝牙耳机进行连接的设备；身份标识可为无线音频源设备的名称或图标等任何用于区分无线音频源设备的标识；应用程序可以实现人为手机a和手机b进行语音控制的优先级排序，语音控制是指用户通过多点蓝牙耳机传输音频对任意无线音频源设备进行操作控制；如通过蓝牙耳机打电话；步骤S2：基于优先级控制数据，分析多个无线音频源设备处于连接状态后任一无线音频源设备异常中断后的被动优先级；步骤S3：基于步骤S2中的被动优先级，传输无线音频源设备对应被动优先级的身份标识于应用程序中，应用程序基于无线音频源设备与无线音频设备连接的通信传输协议进行优先级数据的交互传输；步骤S4：基于步骤S3中的交互传输，得到恢复正常的无线音频源设备与无线音频设备的连接状态并对使用无线设备的用户进行状态信号提醒，恢复正常是指在异常发生前包含的身份标识类型和数量与交互传输后包含的身份标识类型和数量对应相同。步骤S1中用户主动基于应用程序对无线音频设备语音操控无线音频源设备的优先级记录，包括以下分析步骤：步骤S11：获取用户使用应用程序进行优先级设定后的无线音频设备与无线音频源设备构建的无线连接树T，无线连接数T包含第一层级T1和第二层级T2，第一层级T1为无线音频设备，第二层级T2由与第一层级T1当前进行无线通信连接的m个无线音频源设备构成，且第二层级T2中的无线音频源设备按照优先级从高到低的顺序进行排列生成第二层级集合QT2；第一次优先级设定前的初始顺序对应无线音频源设备的优先级为无线音频源设备对应的连接先后顺序；如当手机1先进行与多点蓝牙耳机的连接，手机2后进行与多点蓝牙耳机的连接，则初始优先级为：手机1的优先级高于手机2的优先级；步骤S12：提取相同第一层级对应的无线连接树为目标无线连接树，分析目标无线连接树的目的是避免用户连接多个无线音频设备时数据分析标准不统一的情况；因为用户在连接无线音频设备1后也存在转换成连接无线音频设备2的可能；获取目标无线连接树中的第二层级为目标第二层级T2’，以及目标第二层级T2’中无线音频源设备的数量NT2’；步骤S13：提取目标无线连接树产生记录前应用程序上存在优先级控制数据的无线音频源设备为待分析无线音频源设备，获取待分析无线音频源设备的数量N0；当N0=NT2’且目标第二层级T2’构成的目标第二层级集合QT2’与待分析无线音频源设备构成第二层级集合顺序不同时，输出用户操作为主动操作，主动操作是指主动调整第二层级中无线音频源设备的优先级。分析主动操作是为了后续限定异常产生的对比场景。当N0＜NT2’或N0＞NT2’说明的是用户主动进行减少和增加无线音频源设备的行为，并不是本申请所要分析场景下的问题所以不予考虑，因为优先级控制数据包含调整优先级顺序、删除或增加无线音频源设备，而数量的变化则对应后续两种情况。步骤S2包括以下分析步骤：获取无线音频源设备处于连接状态后第一监测周期内的优先级控制数据、第二层级集合中的无线音频源设备数量；当第一监测周期内不存在优先级控制数据且无线音频源设备数量小于前一连接状态对应的无线音频源设备数量且差值为1时，输出任一无线音频源设备异常中断信号；异常中断可以是指由于无线传输距离限制、无线音频源设备电量消耗完全造成的中断；提取目标无线连接树中异常中断的无线音频源设备为异常无线设备，保持连接状态仍处于第二层级的无线音频源设备为待考察无线设备；获取待考察无线设备对应的功能属性表征w1和异常无线设备对应的功能属性表征w2，功能属性是指无线音频源设备与无线音频设备连接后产生的记录数据类型；数据类型不同对应的表征则不同，如将音频数据从无线音频源设备传输到无线音频设备，再转化为人耳听到的声音，与用户利用无线音频设备进行通话产生的表征是不同的；当w1∩w2=w1时，且应用程序存在优先级控制数据，输出被动优先级为异常中断前对应第二层级集合中的优先级；说明异常无线设备对应的功能属性表征是包含待考察无线设备对应的功能属性表征的，如异常无线设备可以进行语音通话、收听音频，待考察无线设备只可以进行收听音频的功能，此时可以说异常无线设备的功能属性表征包含待考察无线设备的功能属性表征；那么在异常中断前的优先级设定就是属于当前状态下的最佳优先级，因为在发生异常中断前的设备优先级均是通过用户自身设置，且连接设备功能属性存在差异，保留异常前的连接顺序状态可以最大化的保证用户对设备断开后连接的基本需求；比如收听音频只要进行相应手机操作就行，在设备a上听歌转换到设备b上时，只需点击设备b上的音频播放即可，无需触及到优先级的转换，因为多点蓝牙耳机的原理是基于传输时的一对一，连接状态的一对多，而只有在语音操控时需要分析，如同申请号为201510391927.7中背景技术所说用户用蓝牙耳机同时连接两个手机，如果想要用蓝牙耳机进行语音操控，就只能对先连接的手机操作，而要对后连接的手机进行操作则需要先断开重新连接，这是最初始的连接规则，申请号文件则是设定一个应用程序避免了手动断开设备再次连接设备的繁琐动作，直接通过应用程序借助蓝牙耳机与连接设备间的通信协议进行数据传输调整优先级，本申请在此情景下分析了异常中断问题产生后的二次连接问题，且此时的二次连接无需人为基于应用程序的设置，只需通过系统的数据分析即可匹配较为合适的连接顺序。分析无线音频源设备的功能属性是因为功能属性不同且用户自行设置后说明用户对不同功能属性的设备具有顺序要求，其次在无线音频源设备连接状态下，语音控制的基本逻辑规则即首次连接上时是基于谁先连接谁优先，但用户在应用程序上更改优先级后，则以应用程序上设定的优先级为标准，那么存在用户设置时发生异常中断后，就会存在原本优先级为1的设备在中断了，再次连接的情况下优先级是保留1，还是基于基本逻辑规则此时断开设备再连接属于后者连接优先级应该为2的问题，因为在断开后重新连接并没有用户主动设置，所以需要考虑发生异常情况没有连接规则时设备的连接优先级问题；当w1∩w2={w1,w2}时，分析用户在保持无线音频源设备与无线音频设备连接状态下的偏向指数，偏向指数是指分析待考察无线设备和异常无线设备对应用户使用偏向的数学指标。此种情况说明待考察无线设备与异常无线设备的功能属性相同，需要进一步考量在中断后的二次连接顺序。偏向指数包括以下分析步骤：获取异常中断前第二监测周期内存储记录的优先级控制数据调整次数r0，调整是指相邻两次优先级控制数据不相同；提取存储记录的优先级控制数据中异常无线设备作为第一优先级的次数r1，利用公式：G=0.45*+0.55*/计算保持无线音频源设备与无线音频设备连接状态下的偏向指数G，其中hi表示第i次记录的优先级控制数据中异常无线设备作为第一优先级的使用状态持续时长，i≤r1；h0表示r0次调整记录下待考察无线设备保持使用状态下的总持续时长，使用状态是指无线音频源设备与无线音频设备产生数据传输的状态；f0表示异常无线设备不作为第一优先级时使用状态下的总持续时长；选取调整记录下的总持续时长是因为调整是用户自主产生的动作带有目的性，如果调整后的使用时长较长，说明该设备的重要性较高；设置偏向指数阈值G0，当G≥G0且异常中断前异常无线设备处于第一优先级时，输出被动优先级为异常无线设备优先级大于待考察无线设备的优先级；当G≥G0且异常中断前异常无线设备未处于第一优先级时，输出被动优先级为异常中断前对应第二层级集合中的优先级；分析异常中断前异常无线设备的优先级是因为只有异常无线设备优先级高于其他设备时在中断后才会存在系统无法选择适配优先级的情况；若异常无线设备优先级不是第一优先级，系统在选择基本逻辑规则后也会符合连接要求；当G＜G0，获取异常中断前处于使用状态的无线音频源设备，若处于使用状态的无线音频源设备为异常设备，则输出被动优先级为异常无线设备优先级大于待考察无线设备的优先级；若处于使用状态的无线音频源设备为待考察设备，则输出被动优先级为待考察无线设备的优先级大于异常无线设备的优先级。此情景下说明用户在对多个无线音频源设备的连接过程中并未存在明显倾向，需要根据实际情况进行分析。步骤S3中的交互传输包括以下分析步骤：传输无线音频源设备对应被动优先级的身份标识于处于被动优先级中第一优先级对应的无线音频源设备中的应用程序；应用程序接收被动优先级的身份标识信号后，将该应用程序所处的无线通信源设备的优先级进行设定，再通过无线音频源设备传输至无线音频设备中，无线音频设备基于通信协议传输至所有与自身构成连接协议的无线音频源设备中，并告知各自的优先级。如实施例所示：无线音频源设备如手机侧是通过应用程序控制完成，无线音频设备如多点蓝牙则是多点蓝牙侧内容算法控制完成，控制界面在手机侧完成，多点蓝牙耳机负责对多个手机信息的存储和转发。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。最后应说明的是：以上仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
