标题title
一种基于人体热舒适度的调光方法及系统
摘要abst
本发明提供了一种基于人体热舒适度的调光方法及系统，通过实时获取环境参数，其中，环境参数至少包括温度值、湿度值、照度值以及色温值；将温度值和湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值；判断照度值和色温值是否与对应的目标照度值和目标色温值一致；若否，则根据目标照度值和目标色温值，对光源进行动态调节，通过调光源使人体的舒适度达到最佳，实现了实时动态的人因照明。
权利要求书clms
1.一种基于人体热舒适度的调光方法，其特征在于，所述方法包括：通过多源传感器和照度计实时获取环境参数，所述环境参数至少包括温度值、湿度值、照度值以及色温值；将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值；判断所述照度值和所述色温值是否与对应的所述目标照度值和目标色温值一致；若否，则根据所述目标照度值和所述目标色温值，对光源进行动态调节。2.根据权利要求1所述的基于人体热舒适度的调光方法，其特征在于，所述将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值的步骤之前包括：将所述多源传感器和照度计获取到的历史环境参数进行舒适度等级划分，得到等级划分后的各样本数据，其中，所述样本数据包括历史温度数据、历史湿度数据、历史照度数据以及历史色温数据；将所述样本数据进行归一化处理，并将归一化处理后的样本数据作为输入，与归一化处理后的样本数据对应的等级划分值作为输出，进行LSTM神经网络模型训练，以构建目标神经网络模型；根据所述目标神经网络模型，生成对应的所述调光数据库。3.根据权利要求2所述的基于人体热舒适度的调光方法，其特征在于，所述归一化处理的步骤中，采用Z-score方法对原始数据进行转换，以获得服从均值为0、标准差为1的正态分布的数据，其中，采用Z-score方法对原始数据进行转换的公式为：；其中，表示为归一化处理后的数据，/＞表示为所述原始数据，/＞表示为所有原始数据的均值，/＞表示为所有原始数据的标准差。4.根据权利要求3所述的基于人体热舒适度的调光方法，其特征在于，所述目标神经网络模型包括三个隐藏层，其中，第一隐藏层为LSTM层，用于对实时采集的温度、湿度、照度以及色温四维数据进行学习和训练，以提取这四个物理参数之间的特征，所述LSTM层的输入维度为4，神经元个数为32个；第二隐藏层为包含5个神经元的第一线性全连接层，用于对所述LSTM层提取的4维特征进行升维处理，使用线性变换将输入特征映射到5维特征空间上，以提高模型的表达能力，所述第二隐藏层中的激活函数为非线性ReLu函数；第三隐藏层为包含1个神经元的第二线性全连接层，用于对所述第二隐藏层得到的高维度的特征进行降维，以减少模型的复杂度和计算量。5.根据权利要求4所述的基于人体热舒适度的调光方法，其特征在于，所述将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值的步骤包括：根据预设规则，将所述温度值和所述湿度值取整，得到目标温度值和目标湿度值；将所述目标温度值和所述目标湿度值输入所述调光数据库中进行检索，得到对应的若干等级划分值；确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值，并根据所述目标等级划分值，获取对应的所述目标照度值和所述目标色温值。6.根据权利要求5所述的基于人体热舒适度的调光方法，其特征在于，所述确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值，并根据所述目标等级划分值，获取对应的所述目标照度值和所述目标色温值的步骤包括：判断若干等级划分值中绝对值的最小值是否唯一；若是，则确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值；若否，则获取当前的月份，并根据所述月份，确定目标等级划分值。7.根据权利要求6所述的基于人体热舒适度的调光方法，其特征在于，所述根据预设规则，将所述温度值和所述湿度值取整，得到目标温度值和目标湿度值的步骤包括：获取温度范围值和湿度范围值，并根据所述温度范围值和湿度范围值，分别确定对应的步长；根据所述步长，分别将所述温度范围值和所述湿度范围值分为若干温度子范围值和湿度子范围值；将所述温度值和所述湿度值分别与各温度子范围值和湿度子范围值进行匹配，确定目标温度子范围值和目标湿度子范围值；分别获取目标温度子范围值和目标湿度子范围值的端点值，将所述温度值和所述湿度值与对应的端点值进行比较，分别确定与所述温度值和所述湿度值相近的端点值作为所述目标温度值和所述目标湿度值。8.一种基于人体热舒适度的调光系统，其特征在于，所述系统包括：获取模块，用于通过多源传感器和照度计实时获取环境参数，所述环境参数至少包括温度值、湿度值、照度值以及色温值；检索模块，用于将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值；判断模块，用于判断所述照度值和所述色温值是否与对应的所述目标照度值和目标色温值一致；调节模块，用于当判断所述照度值和所述色温值与对应的所述目标照度值和目标色温值不一致时，则根据所述目标照度值和目标色温值，对光源进行动态调节。9.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1－7任一项所述的基于人体热舒适度的调光方法。10.一种电子设备，其特征在于，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如权利要求1－7任一项所述的基于人体热舒适度的调光方法。
说明书desc
技术领域本发明属于基于人体热舒适度调光的技术领域，具体涉及一种基于人体热舒适度的调光方法及系统。背景技术随着物联网时代的到来，人们的活动环境更加集中于室内，照明条件成为了人们生物节律、工作效率、心情、专注度等方面的重要影响因素。同时，智能化、便捷化、舒适化成为照明器件与室内照明发展的新趋势和新要求。然而，绿色、健康、智能的照明需求是传统灯具以及传统调光方法难以满足的。现有的传统调光方法大多是根据当前环境的照度，以及一天内所处的时间段，模拟出自然光以达到人因照明的效果，但忽略了由其所处的地理环境、季节、天气引起的人体照明需求变化，此时仅仅简单模拟自然光的色温以及照度难以达到令人舒适的程度，尤其是传统调光方法往往通过固定序列来调整色温和照度，难以满足实时动态按需调控目标。发明内容基于此，本发明实施例当中提供了一种基于人体热舒适度的调光方法及系统，旨在解决现有技术中，通过固定序列来调整色温和照度，舒适度欠佳的问题。本发明实施例的第一方面提供了一种基于人体热舒适度的调光方法，所述方法包括：通过多源传感器和照度计实时获取环境参数，所述环境参数至少包括温度值、湿度值、照度值以及色温值；将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值；判断所述照度值和所述色温值是否与对应的所述目标照度值和目标色温值一致；若否，则根据所述目标照度值和所述目标色温值，对光源进行动态调节。进一步的，所述将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值的步骤之前包括：将所述多源传感器和照度计获取到的历史环境参数进行舒适度等级划分，得到等级划分后的各样本数据，其中，所述样本数据包括历史温度数据、历史湿度数据、历史照度数据以及历史色温数据；将所述样本数据进行归一化处理，并将归一化处理后的样本数据作为输入，与归一化处理后的样本数据对应的等级划分值作为输出，进行LSTM神经网络模型训练，以构建目标神经网络模型；根据所述目标神经网络模型，生成对应的所述调光数据库。进一步的，所述归一化处理的步骤中，采用Z-score方法对原始数据进行转换，以获得服从均值为0、标准差为1的正态分布的数据，其中，采用Z-score方法对原始数据进行转换的公式为：；其中，表示为归一化处理后的数据，/＞表示为所述原始数据，/＞表示为所有原始数据的均值，/＞表示为所有原始数据的标准差。进一步的，所述目标神经网络模型包括三个隐藏层，其中，第一隐藏层为LSTM层，用于对实时采集的温度、湿度、照度以及色温四维数据进行学习和训练，以提取这四个物理参数之间的特征，所述LSTM层的输入维度为4，神经元个数为32个；第二隐藏层为包含5个神经元的第一线性全连接层，用于对所述LSTM层提取的4维特征进行升维处理，使用线性变换将输入特征映射到5维特征空间上，以提高模型的表达能力，所述第二隐藏层中的激活函数为非线性ReLu函数；第三隐藏层为包含1个神经元的第二线性全连接层，用于对所述第二隐藏层得到的高维度的特征进行降维，以减少模型的复杂度和计算量。进一步的，所述将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值的步骤包括：根据预设规则，将所述温度值和所述湿度值取整，得到目标温度值和目标湿度值；将所述目标温度值和所述目标湿度值输入所述调光数据库中进行检索，得到对应的若干等级划分值；确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值，并根据所述目标等级划分值，获取对应的所述目标照度值和所述目标色温值。进一步的，所述确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值，并根据所述目标等级划分值，获取对应的所述目标照度值和所述目标色温值的步骤包括：判断若干等级划分值中绝对值的最小值是否唯一；若是，则确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值；若否，则获取当前的月份，并根据所述月份，确定目标等级划分值。进一步的，所述根据预设规则，将所述温度值和所述湿度值取整，得到目标温度值和目标湿度值的步骤包括：获取温度范围值和湿度范围值，并根据所述温度范围值和湿度范围值，分别确定对应的步长；根据所述步长，分别将所述温度范围值和所述湿度范围值分为若干温度子范围值和湿度子范围值；将所述温度值和所述湿度值分别与各温度子范围值和湿度子范围值进行匹配，确定目标温度子范围值和目标湿度子范围值；分别获取目标温度子范围值和目标湿度子范围值的端点值，将所述温度值和所述湿度值与对应的端点值进行比较，分别确定与所述温度值和所述湿度值相近的端点值作为所述目标温度值和所述目标湿度值。本发明实施例的第二方面提供了一种基于人体热舒适度的调光系统，所述系统包括：获取模块，用于通过多源传感器和照度计实时获取环境参数，所述环境参数至少包括温度值、湿度值、照度值以及色温值；检索模块，用于将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值；判断模块，用于判断所述照度值和所述色温值是否与对应的所述目标照度值和目标色温值一致；调节模块，用于当判断所述照度值和所述色温值与对应的所述目标照度值和目标色温值不一致时，则根据所述目标照度值和目标色温值，对光源进行动态调节。本发明实施例的第三方面提供了一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现如第一方面所述的基于人体热舒适度的调光方法。本发明实施例的第四方面提供了一种电子设备，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如第一方面所述的基于人体热舒适度的调光方法。本发明的有益效果为：通过实时获取环境参数，其中，环境参数至少包括温度值、湿度值、照度值以及色温值；将温度值和湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值；判断照度值和色温值是否与对应的目标照度值和目标色温值一致；若否，则根据目标照度值和目标色温值，对光源进行动态调节，通过调光源使人体的舒适度达到最佳，实现了实时动态的人因照明。附图说明图1为本发明实施例一提供的一种基于人体热舒适度的调光方法的实现流程图；图2为测量环境参数所使用的IIC通信电路的结构示意图；图3为目标神经网络模型的结构示意图；图4为本发明实施例二提供的一种基于人体热舒适度的调光系统的结构示意图；图5为本发明实施例三当中的电子设备的结构框图。以下具体实施方式将结合上述附图进一步说明。具体实施方式为了便于理解本发明，下面将参照相关附图对本发明进行更全面的描述。附图中给出了本发明的若干实施例。但是，本发明可以以许多不同的形式来实现，并不限于本文所描述的实施例。相反地，提供这些实施例的目的是使对本发明的公开内容更加透彻全面。需要说明的是，当元件被称为“固设于”另一个元件，它可以直接在另一个元件上或者也可以存在居中的元件。当一个元件被认为是“连接”另一个元件，它可以是直接连接到另一个元件或者可能同时存在居中元件。本文所使用的术语“垂直的”、“水平的”、“左”、“右”以及类似的表述只是为了说明的目的。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。本文中在本发明的说明书中所使用的术语只是为了描述具体的实施例的目的，不是旨在于限制本发明。本文所使用的术语“及／或”包括一个或多个相关的所列项目的任意的和所有的组合。人体舒适度信息的获取是实现实时动态人因照明的关键。然而，个体的舒适度与各项环境参数存在复杂的耦合关系，难以用确定性数学模型和函数关系进行描述。更进一步，由于环境因子变化的随机性，舒适度和环境因子之间往往是非线性关系，传统建模方法的计算复杂度和描述准确度随着自由参数数量分别呈现正比和反比关系，难以准确地刻画人体舒适度。为了准确刻画个体舒适度与环境因子的内在关系，利用集成于灯具的多源传感器实时采集环境数据，同时为有效降低非线性关系的影响而提高精确度，引入神经网络模型对所采集的大量数据进行学习建模，以获取准确的可复用人体舒适度模型。另外，本发明实施例主要适用于室内场景，其中，热舒适度包括6个最主要的影响因素，即空气干球温度、空气湿度、服装热阻、环境辐射温度、风速以及生理代谢率，由于是在室内场景，所以除空气干球温度和湿度之外，其他参数相对较为固定，故可将服装热阻、环境辐射温度、风速以及生理代谢率这4个参数进行融合，在融合的基础上讨论动态变化的温度和湿度与热舒适度的关系。在本发明实施例当中，采用多源传感器实时测量室内环境中的温度值和湿度值，采用OHSP照度计测量室内环境中的照度值和色温值，具体的，使用IIC通信协议来实现MCU与多源传感器的通信，可以实现温度、湿度数据的实时监控。照度、色温则通过OHSP照度计直接放置在桌面上进行测量。IIC：Inter-Integrated Circuit，又称I2C，即集成电路总线，是一种两线式串行总线，用于连接微控制器及其外围设备。多用于主机和从机在数据量不大且传输距离短的场合下的主从通信。I2C总线由数据线SDA和时钟线SCL构成通信线路，既可用于发送数据，也可接收数据，是一种半双工通信协议。总线上的主设备与从设备之间以字节为单位进行双向的数据传输。MCU：Microcontroller Unit，微控制单元，又称单片微型计算机或者单片机，是把中央处理器的频率与规格做适当缩减，并将内存、计数器、USB、A/D转换、UART、PLC、DMA等周边接口，甚至LCD驱动电路都整合在单一芯片上，形成芯片级的计算机，为不同的应用场合做不同组合控制。PMV：Predicted Mean Vote，预测平均评价，PMV指数是以人体热平衡的基本方程式以及心理生理学主观热感觉的等级为出发点，考虑了人体热舒适感诸多有关因素的全面评价指标。PMV指数表明群体对于七个等级热感觉投票的平均指数。LSTM：Long Short-Term Memory，长短期记忆网络是一种时间循环神经网络，是为了解决一般的RNN存在的长期依赖问题而专门设计出来的，所有的RNN都具有一种重复神经网络模块的链式形式。实施例一请参阅图1，图1示出了本发明实施例一提供的一种基于人体热舒适度的调光方法的实现流程图，所述方法具体包括步骤S01至步骤S04。步骤S01，通过多源传感器和照度计实时获取环境参数，所述环境参数至少包括温度值、湿度值、照度值以及色温值。请参考图2，为测量环境参数所使用的IIC通信电路的结构示意图，其中，主机通过SCL和SDA分别与各传感器和其他IIC外围设备电性连接，通过主机发送测量指令给各传感器和其他IIC外围设备，测量当前环境的温度、湿度等数据，再将所得到的数据传输给主机，如此往复，便可实现温度、湿度等数据的实时监控。具体的，通过多源传感器实时获取温度值和湿度值，通过照度计实时获取照度值以及色温值，进一步的，根据照度计实时获取的照度值以及色温值，动态调控光源的照度与色温至目标数值，在本实施例当中，光源可以为LED灯具。其中，温、湿度的计算公式为：其中，SRH表示为湿度的原始传感器输出值，即十进制值，ST表示为温度的原始传感器输出值，即十进制值，RH表示为实际显示的湿度值，T表示为实际显示的温度值。步骤S02，将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值。具体的，在将多源传感器和照度计获取到的温度值和湿度值进行预处理之前，首先将多源传感器和照度计获取到的历史环境参数进行舒适度等级划分，得到等级划分后的各样本数据，其中，样本数据包括历史温度数据、历史湿度数据、历史照度数据以及历史色温数据。在本实施例当中，根据PMV机制，将历史环境参数进行舒适度等级划分，舒适度等级划分如表1所示：表1可以理解的，将历史环境参数进行舒适度等级划分后，每个等级中都对应有匹配的历史温度数据、历史湿度数据、历史照度数据以及历史色温数据，即当舒适度等级为热时，对应于某一范围的历史温度数据、历史湿度数据、历史照度数据以及历史色温数据，当舒适度等级为暖时，对应于另一范围的历史温度数据、历史湿度数据、历史照度数据以及历史色温数据，需要说明的是，各舒适度等级之间的各历史环境参数的范围可能存在相同的区间。进一步的，将样本数据进行归一化处理，其中，采用Z-score方法对原始数据进行转换，以获得服从均值为0、标准差为1的正态分布的数据，其中，采用Z-score方法对原始数据进行转换的公式为：；/＞其中，表示为归一化处理后的数据，/＞表示为原始数据，/＞表示为所有原始数据的均值，/＞表示为所有原始数据的标准差，并将归一化处理后的样本数据作为输入，与归一化处理后的样本数据对应的等级划分值作为输出，进行LSTM神经网络模型训练，以构建目标神经网络模型。最后，根据目标神经网络模型，生成对应的调光数据库。具体的，对获取的1000组历史数据输入模型进行训练，不失一般性，按照7:3的比例划分数据集，即前70％的作为训练集，后30％作为测试集。另外，历史数据的采集对象是已经稳定照明一年以上的LED灯具，其获取的数据集更稳定且更普适。在进行LSTM神经网络模型训练的过程中，温度、湿度、照度、色温四种人体舒适度影响因子作为神经网络的输入，数据格式为4×1的向量，人体综合舒适度，即等级划分值作为该网络的输出。该目标神经网络模型包括三个隐藏层，第一隐藏层为LSTM层，用于对实时采集的温度、湿度、照度以及色温四维数据进行学习和训练，以提取这四个物理参数之间的特征，因此，该LSTM层的输入维度为4，同时，为有效兼顾训练精度和计算成本，并经过预演实验测试，将LSTM层神经元个数设置为32个。每个神经元的输出会被传递给下一个神经元，并且同时也会被传递给当前时间步的输出层，这些输出可以用于预测下一个时间步的输出。第二隐藏层为包含5个神经元的第一线性全连接层，用于对所述LSTM层提取的4维特征进行升维处理，使用线性变换将输入特征映射到5维特征空间上，以提高模型的表达能力，从而提高模型的准确性，在此数据处理过程中，第二隐藏层选择非线性ReLu函数作为激活函数进行处理。第三隐藏层为包含1个神经元的第二线性全连接层，用于对所述第二隐藏层得到的高维度的特征进行降维，以减少模型的复杂度和计算量，同时可以避免过拟合等问题。在保证模型准确率的前提下，尽可能减少特征维度，提高模型的泛化能力。另外，训练过程中，为了减少大量的输入数据以及权重参数给神经网络训练带来的庞大计算量，并最小化模型预测误差，在本实施例当中，使用Adam算法优化器，损失函数选择MSE。Adam算法优化器可以动态地调整每个参数的学习率，以便加快收敛速度并提高模型的准确性，能够在较少的迭代次数内找到较优的解。在本发明实施例涉及到的回归问题中，使用MSE损失函数将预测值与真实值之间的误差量化为一个标量，并且通过梯度下降法对参数进行优化。图3为目标神经网络模型的结构示意图，其中包括输入门、遗忘门、输出门和记忆单元。三个门控制器的控制函数均为Sigmiod函数，产生介于0到1之间的值。输入门决定了当前时刻需要多少新的信息被加入到记忆单元中，遗忘门决定了当前时刻需要将多少旧的信息从记忆单元中删除，输出门决定了当前时刻需要从记忆单元中读取多少信息并输出给下一层。记忆单元是LSTM层的核心部分，每个门包含一个记忆单元，该单元作为网络中的状态变量，用于存储和更新输入的信息。记忆单元分别通过输入门、遗忘门和输出门来决定输入、遗忘和输出哪些信息，并根据这些信息更新自身的状态。LSTM层的参数包括权重和偏置两类，以及各个门控制器中的权重和偏置。在训练过程中，通过反向传播算法来更新参数调整LSTM层的权重和偏置，从而提高模型的准确性和泛化能力。具体来说，通过计算损失函数对各个参数的梯度，再使用梯度下降法来更新参数，其中，LSTM层中的计算公式可以为：其中，各个参数的含义与功能如下：表示为输入门 It中的权重参数，/＞表示为输入门 It中的隐状态权重参数，bi表示为输入门 It中的偏置参数；/＞表示为遗忘门 Ft中的权重参数，/＞表示为遗忘门Ft中的隐状态权重参数，bf表示为遗忘门 Ft中的偏置参数；/＞表示为输出门 Ot中的权重参数，/＞表示为输出门 Ot中的隐状态权重参数，bo表示为输出门 Ot中的偏置参数；/＞表示为记忆单元/＞中的权重参数，/＞表示为记忆单元/＞中的隐状态权重参数，bc表示为记忆单元/＞中的偏置参数。Xt为t时刻的输入，Ht表示为t时刻的隐藏状态，Ht-1为上一时刻的隐藏状态，可以理解为短时期强记忆；Ct表示为当前时刻的细胞状态，Ct-1为上一时刻的细胞状态，可以理解为长时期记忆，tanh为tanh函数，/＞为Sigmiod函数，二者均为对应控制门的激活函数。LSTM层中的权重和偏置参数负责调节输入数据和输出数据之间的复杂关系，学习如何将输入的温度、湿度、照度、色温的参数特征映射到输出特征等级划分值，即人体舒适度。具体的，LSTM层中的权重参数对上述输入特征进行加权，从而决定了每个输入特征对于预测输出的重要性，而偏置参数则可以调整神经元的激活阈值，以改善预测人体舒适度模型的准确性。神经网络模型在训练、迭代的过程中不断地更新上述参数，对序列数据进行长期的记忆和处理，从而在处理长序列数据时表现出色，以达到准确的预测效果和较高的泛化能力，即使输入一组全新环境参数也可以较为准确的预测当前环境下的等级划分值，为后续调光数据库的生成提供准确可靠的模型。在人体舒适度模型训练完成后，为了降低实时采集照度、色温所产生的大量时间、金钱等成本，调用训练好的神经网络模型，生成调光数据库。即只需要采用低成本、高能效的传感器对温度、湿度进行实时地采集，再将其与数据库中的温度、湿度进行检索匹配，便可以得到在等级划分值绝对值最小的情况下对应的一组包含温度、湿度、照度、色温的最佳照明环境参数。具体的，在建立好目标神经网络模型和对应的调光数据库后，将实时获取到的温度值和湿度值进行预处理，并输入调光数据库中进行检索，得到对应的目标照度值和目标色温值，在本实施例当中，根据预设规则，将温度值和湿度值取整，得到目标温度值和目标湿度值，具体得到目标温度值和目标湿度值的步骤为，获取温度范围值和湿度范围值，并根据温度范围值和湿度范围值，分别确定对应的步长，例如，温度范围值可以为5℃~30℃，步长为1℃，湿度范围值为20%~100%，步长为5%，照度范围值为0lx~1000lx，步长为25lx，色度范围值为2000K~5000K，步长为75K。进一步的，根据步长，分别将温度范围值和湿度范围值分为若干温度子范围值和湿度子范围值，例如，温度子范围值可以为5℃~6℃，6℃~7℃，7℃~8℃等等，湿度子范围值可以为20%~25%，25%~30%，30%~35%等等。将温度值和湿度值分别与各温度子范围值和湿度子范围值进行匹配，确定目标温度子范围值和目标湿度子范围值，再分别获取目标温度子范围值和目标湿度子范围值的端点值，将温度值和湿度值与对应的端点值进行比较，分别确定与温度值和湿度值相近的端点值作为目标温度值和目标湿度值。可以理解的，由于人体对本发明所涉及的各项环境参数的敏感程度不同，且为了减少调光模型的计算量，调光数据库设定了合理的步长。以温度为例，人体并不能明显的感觉出25.3℃与25℃二者的区别，因此保留到个位，取当前温度为25℃；再以湿度为例，假设当前湿度为76.4%，数据库中与该值最接近的数据是75%，其遵循四舍五入、就近原则：先将76.4%保留至个位76%，再分别和数据库中与之相邻的两数75%、80%作差，取绝对值小者对应的数作为当前湿度，即75%。简单来说，若环境温度为25.3℃，相对湿度为76.4%，则目标温度值为25℃，目标湿度值为75%。更进一步的，将目标温度值和目标湿度值输入调光数据库中进行检索，得到对应的若干等级划分值，后确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值，并根据目标等级划分值，获取对应的目标照度值和目标色温值。需要说明的是，若绝对值最小值所对应的等级划分值在-0.5~+0.5之间时，则认为此时人体处于相对最舒适的环境之下。另外，确定若干等级划分值中绝对值的最小值为目标等级划分值，并根据目标等级划分值，获取对应的目标照度值和目标色温值的步骤具体为，判断若干等级划分值中绝对值的最小值是否唯一；若是，则确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值；若否，则获取当前的月份，并根据月份，确定目标等级划分值。可以理解的，若绝对值最小值为0.3，则对应的等级划分值可能为-0.3或+0.3，则在本实施例当中，两组数据对应的绝对值相等时，在春夏季取负值，在秋冬季取正值，能让人感觉舒适。步骤S03，判断所述照度值和所述色温值是否与对应的所述目标照度值和目标色温值一致，若否，则执行步骤S04。需要说明的是，由于照度计实时获取环境中的照度和色温，将实时获取到的照度值和色温值与目标照度值和目标色温值分别进行比较，判断是否一致，若不一致，则对LED灯具进行控制，以调节至目标照度值和目标色温值。步骤S04，则根据所述目标照度值和所述目标色温值，对光源进行动态调节。综上，本发明上述实施例当中的基于人体热舒适度的调光方法，通过实时获取环境参数，其中，环境参数至少包括温度值、湿度值、照度值以及色温值；将温度值和湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值；判断照度值和色温值是否与对应的目标照度值和目标色温值一致；若否，则根据目标照度值和目标色温值，对光源进行动态调节，通过调光源使人体的舒适度达到最佳，实现了实时动态的人因照明。实施例二请参阅图4，为本发明实施例二提供了一种基于人体热舒适度的调光系统的结构示意图，所述基于人体热舒适度的调光系统200具体包括：获取模块21，用于通过多源传感器和照度计实时获取环境参数，所述环境参数至少包括温度值、湿度值、照度值以及色温值；检索模块22，用于将所述温度值和所述湿度值进行预处理后，输入调光数据库中进行检索，得到对应的目标照度值和目标色温值；判断模块23，用于判断所述照度值和所述色温值是否与对应的所述目标照度值和目标色温值一致；调节模块24，用于当判断所述照度值和所述色温值与对应的所述目标照度值和目标色温值不一致时，则根据所述目标照度值和目标色温值，对光源进行动态调节。进一步的，所述基于人体热舒适度的调光系统200还包括：等级划分模块，用于将所述多源传感器和照度计获取到的历史环境参数进行舒适度等级划分，得到等级划分后的各样本数据，其中，所述样本数据包括历史温度数据、历史湿度数据、历史照度数据以及历史色温数据；归一化处理模块，用于将所述样本数据进行归一化处理，并将归一化处理后的样本数据作为输入，与归一化处理后的样本数据对应的等级划分值作为输出，进行LSTM神经网络模型训练，以构建目标神经网络模型，其中，所述归一化处理的步骤中，采用Z-score方法对原始数据进行转换，以获得服从均值为0、标准差为1的正态分布的数据，其中，采用Z-score方法对原始数据进行转换的公式为：；其中，表示为归一化处理后的数据，/＞表示为所述原始数据，/＞表示为所有原始数据的均值，/＞表示为所有原始数据的标准差，另外，所述目标神经网络模型包括三个隐藏层，其中，第一隐藏层为LSTM层，用于对实时采集的温度、湿度、照度以及色温四维数据进行学习和训练，以提取这四个物理参数之间的特征，所述LSTM层的输入维度为4，神经元个数为32个；第二隐藏层为包含5个神经元的第一线性全连接层，用于对所述LSTM层提取的4维特征进行升维处理，使用线性变换将输入特征映射到5维特征空间上，以提高模型的表达能力，所述第二隐藏层中的激活函数为非线性ReLu函数；第三隐藏层为包含1个神经元的第二线性全连接层，用于对所述第二隐藏层得到的高维度的特征进行降维，以减少模型的复杂度和计算量；调光数据库生产模块，用于根据所述目标神经网络模型，生成对应的所述调光数据库。进一步的，所述检索模块22包括：取整单元，用于根据预设规则，将所述温度值和所述湿度值取整，得到目标温度值和目标湿度值；输入单元，用于将所述目标温度值和所述目标湿度值输入所述调光数据库中进行检索，得到对应的若干等级划分值；获取单元，用于确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值，并根据所述目标等级划分值，获取对应的所述目标照度值和所述目标色温值。进一步的，所述获取单元包括：判断子单元，用于判断若干等级划分值中绝对值的最小值是否唯一；第一确定子单元，用于当判断若干等级划分值中绝对值的最小值唯一时，则确定若干等级划分值中，绝对值最小值所对应的等级划分值为目标等级划分值；第二确定子单元，用于当判断若干等级划分值中绝对值的最小值不唯一时，则获取当前的月份，并根据所述月份，确定目标等级划分值。进一步的，所述取整单元包括：步长确定子单元，用于获取温度范围值和湿度范围值，并根据所述温度范围值和湿度范围值，分别确定对应的步长；范围值划分子单元，用于根据所述步长，分别将所述温度范围值和所述湿度范围值分为若干温度子范围值和湿度子范围值；匹配子单元，用于将所述温度值和所述湿度值分别与各温度子范围值和湿度子范围值进行匹配，确定目标温度子范围值和目标湿度子范围值；目标值确定子单元，用于分别获取目标温度子范围值和目标湿度子范围值的端点值，将所述温度值和所述湿度值与对应的端点值进行比较，分别确定与所述温度值和所述湿度值相近的端点值作为所述目标温度值和所述目标湿度值。实施例三本发明另一方面还提出一种电子设备，请参阅图5，所示为本发明实施例三当中的电子设备的结构框图，包括存储器20、处理器10以及存储在存储器上并可在处理器上运行的计算机程序30，所述处理器10执行所述计算机程序30时实现如上述的基于人体热舒适度的调光方法。其中，处理器10在一些实施例中可以是中央处理器、控制器、微控制器、微处理器或其他数据处理芯片，用于运行存储器20中存储的程序代码或处理数据，例如执行访问限制程序等。其中，存储器20至少包括一种类型的可读存储介质，所述可读存储介质包括闪存、硬盘、多媒体卡、卡型存储器、磁性存储器、磁盘、光盘等。存储器20在一些实施例中可以是电子设备的内部存储单元，例如该电子设备的硬盘。存储器20在另一些实施例中也可以是电子设备的外部存储装置，例如电子设备上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，存储器20还可以既包括电子设备的内部存储单元也包括外部存储装置。存储器20不仅可以用于存储电子设备的应用软件及各类数据，还可以用于暂时地存储已经输出或者将要输出的数据。需要指出的是，图5示出的结构并不构成对电子设备的限定，在其它实施例当中，该电子设备可以包括比图示更少或者更多的部件，或者组合某些部件，或者不同的部件布置。本发明实施例还提出一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现如上述的基于人体热舒适度的调光方法。本领域技术人员可以理解，在流程图中表示或在此以其他方式描述的逻辑和/或步骤，例如，可以被认为是用于实现逻辑功能的可执行指令的定序列表，可以具体实现在任何计算机可读介质中，以供指令执行系统、装置或设备使用，或结合这些指令执行系统、装置或设备而使用。就本说明书而言，“计算机可读介质”可以是任何可以包含、存储、通信、传播或传输程序以供指令执行系统、装置或设备或结合这些指令执行系统、装置或设备而使用的装置。计算机可读介质的更具体的示例包括以下：具有一个或多个布线的电连接部，便携式计算机盘盒，随机存取存储器，只读存储器，可擦除可编辑只读存储器，光纤装置，以及便携式光盘只读存储器。另外，计算机可读介质甚至可以是可在其上打印所述程序的纸或其他合适的介质，因为可以例如通过对纸或其他介质进行光学扫描，接着进行编辑、解译或必要时以其他合适方式进行处理来以电子方式获得所述程序，然后将其存储在计算机存储器中。应当理解，本发明的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件或固件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或它们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列，现场可编程门阵列等。在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。以上所述实施例仅表达了本发明的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干变形和改进，这些都属于本发明的保护范围。
