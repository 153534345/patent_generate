标题title
一种基于身份匿名的医疗数据轻量级云存储方法及装置
摘要abst
本发明涉及一种基于身份匿名的医疗数据轻量级云存储方法及装置，包括：根据目标用户的真实身份信息及登录口令生成目标用户的匿名身份；根据目标用户的医疗数据生成目标用户的医疗数据文件，计算医疗数据文件的辅助信息；根据主私钥生成匿名身份的签名私钥，根据签名私钥计算医疗数据文件的医疗数字签名；根据辅助信息计算医疗数字签名的聚合医疗签名值，根据聚合医疗签名值及完整响应信息计算医疗数据的完整度；根据完整度将医疗数据及医疗数字签名存储至医疗云服务器中。本发明可以提高医疗数据存储时的数据完整度。
权利要求书clms
1.一种基于身份匿名的医疗数据轻量级云存储方法，其特征在于，所述方法包括：S1、获取目标用户的真实身份信息，利用预设的轻量级对称算法根据所述真实身份信息及预设的登录口令生成所述目标用户的匿名身份；S2、获取所述目标用户的医疗数据，根据所述医疗数据生成所述目标用户的医疗数据文件，根据预设的种子信息计算所述医疗数据文件的辅助信息；S3、根据预设的主私钥生成所述匿名身份的签名私钥，通过预设的数字签名算法根据所述签名私钥计算所述医疗数据文件的医疗数字签名；S4、利用预设的聚合性算法根据所述辅助信息计算所述医疗数字签名的聚合医疗签名值，通过预设的完整度算法根据所述聚合医疗签名值及预设的完整响应信息计算所述医疗数据的完整度，其中所述利用预设的聚合性算法根据所述辅助信息计算所述医疗数字签名的聚合医疗签名值，包括：S41、根据预设的辅助阈值从预设的数字集合中选取元素，得到匹配子集；S42、对所述匹配子集中每个元素设定匹配随机系数；S43、利用所述聚合性算法根据所述匹配随机系数及所述辅助信息计算所述医疗数字签名的聚合医疗签名值，其中所述聚合性算法为：；其中，为所述聚合医疗签名值，/＞为第/＞个医疗分块数据文件的数字签名信息，/＞为医疗分块数据文件的分块文件数量，/＞为所述同态哈希函数，/＞为所述医疗数据文件的文件名称，/＞为第/＞个元素的匹配随机系数，/＞为所述匹配子集中元素数量，/＞为所述辅助信息中的第三种子随机数；S5、根据所述完整度将所述医疗数据及所述医疗数字签名存储至预设的医疗云服务器中。2.如权利要求1所述的医疗数据轻量级云存储方法，其特征在于，所述利用预设的轻量级对称算法根据所述真实身份信息及预设的登录口令生成所述目标用户的匿名身份，包括：获取所述目标用户的主密钥；利用预设的参数生成算法计算系统公开参数；利用如下所述轻量级对称算法根据所述真实身份信息及所述主密钥计算所述目标用户的主私钥，其中主私钥为：；其中，为目标用户的身份信息对应的主私钥，/＞为目标用户的身份信息，/＞为所述主密钥中循环群的生成元，/＞为第一随机数，/＞为所述主密钥中循环群的第二随机数，/＞为第三随机数，/＞为所述主密钥中循环群/＞的随机生成元，/＞为阶数为/＞的第二循环群，/＞为阶数为/＞的第一循环群；/＞根据所述主私钥、所述系统公开参数及所述登录口令生成所述目标用户的匿名身份，其中所述匿名身份为：；其中，为所述匿名身份，/＞为乘法循环群的生成元，/＞为目标用户的身份信息，/＞为所述系统公开参数中的第一哈希函数，/＞为阶数为/＞的第三循环群，/＞为目标用户的身份信息对应的主私钥，/＞为所述登录口令，/＞为目标用户匿名的有效适用周期。3.如权利要求2所述的医疗数据轻量级云存储方法，其特征在于，所述利用预设的参数生成算法计算系统公开参数，包括：利用所述参数生成算法根据预设的初始参数生成循环群参数；根据所述循环群参数计算双线性映射元及第一哈希函数；根据所述循环群参数、所述双线性映射元及所述第一哈希函数生成所述系统公开参数，其中所述系统公开参数为：；其中，Para为所述系统公开参数，为所述双线性映射元，/＞为所述循环群中的第一乘法循环群，/＞为所述循环群中的第二乘法循环群，/＞为乘法循环群的生成元，/＞为所述主密钥，/＞为所述登录口令，/＞为第一哈希函数。4.如权利要求1所述的医疗数据轻量级云存储方法，其特征在于，所述根据所述医疗数据生成所述目标用户的医疗数据文件，包括：按照预设的医疗诊断种类对所述医疗数据进行分类，得到医疗分类数据；根据预设的医疗标志将所述医疗分类数据生成医疗分类表；按照预设的医疗路径将所述医疗分类表进行关联，得到所述目标用户的医疗数据文件。5.如权利要求1所述的医疗数据轻量级云存储方法，其特征在于，所述根据预设的种子信息计算所述医疗数据文件的辅助信息，包括：利用预设的随机生成函数生成预设的种子群的种子随机数；通过预设的同态哈希函数根据所述种子随机数及所述种子信息计算所述医疗数据文件的辅助值：；其中，为所述辅助值，/＞为所述同态哈希函数，/＞为第一种子随机数，/＞为第二种子随机数，/＞为第三种子随机数，/＞为第/＞个种子信息；根据所述种子信息及所述同态哈希函数计算所述医疗数据文件的辅助信息，其中所述辅助信息为：；其中，为所述辅助信息，/＞为第一种子随机数，/＞为第二种子随机数，/＞为第三种子随机数，/＞为所述同态哈希函数中第/＞个辅助值，/＞为第/＞个种子信息。6.如权利要求1至5中任一项所述的医疗数据轻量级云存储方法，其特征在于，所述根据预设的主私钥生成所述匿名身份的签名私钥，包括：根据所述循环群参数确定预设的密钥生成中心的第二哈希函数；利用如下的签名私钥计算公式根据所述主私钥及所述第二哈希函数计算所述匿名身份的签名私钥：；其中，为所述签名私钥，/＞为第三随机数，/＞为目标用户的身份信息对应的主私钥，为所述第二哈希函数，/＞为所述匿名身份。7.如权利要求1所述的医疗数据轻量级云存储方法，其特征在于，所述通过预设的数字签名算法根据所述签名私钥计算所述医疗数据文件的医疗数字签名，包括：对所述医疗数据文件进行分块处理，得到医疗分块数据文件；利用所述数字签名算法根据所述签名私钥、所述同态哈希函数及所述种子信息计算所述医疗分块数据文件的数字签名信息，其中所述数字签名算法为：；其中，为第/＞个医疗分块数据文件的数字签名信息，/＞为所述医疗数据文件的随机数，/＞为第/＞个医疗分块数据文件的文件序号，/＞为所述同态哈希函数，/＞为所述医疗数据文件的文件名称，/＞第/＞个种子信息，/＞为所述签名私钥；将所述数字签名信息拼接为所述医疗数据文件的医疗数字签名。8.如权利要求1所述的医疗数据轻量级云存储方法，其特征在于，所述通过预设的完整度算法根据所述聚合医疗签名值及预设的完整响应信息计算所述医疗数据的完整度，包括：根据所述匹配子集中的元素及所述匹配随机系数生成所述医疗数据的挑战信息；通过所述完整度算法根据所述挑战信息、所述聚合医疗签名值及所述完整响应信息计算所述医疗数据的完整度：；其中，为所述完整度，/＞为乘法循环群的生成元，/＞为阶数为/＞的第三循环群，/＞为主公钥，/＞为目标用户的身份信息对应的主私钥，/＞为所述第二哈希函数，/＞为所述匿名身份，/＞为所述聚合医疗签名值，/＞为所述完整响应信息中的响应参数，/＞为所述挑战信息中的挑战参数。9.如权利要求1所述的医疗数据轻量级云存储方法，其特征在于，所述根据所述完整度将所述医疗数据及所述医疗数字签名存储至预设的医疗云服务器中，包括：当所述完整度小于预设的完整度阈值时，返回至获取所述目标用户的医疗数据的步骤，直至所述完整度大于或等于预设的完整度阈值；当所述完整度大于或等于预设的完整度阈值时，通过预设的数据上传接口将所述医疗数据及所述医疗数字签名存储至所述预设的医疗服务器中。10.一种基于身份匿名的医疗数据轻量级云存储装置，其特征在于，所述装置包括：匿名身份生成模块，用于获取目标用户的真实身份信息，利用预设的轻量级对称算法根据所述真实身份信息及预设的登录口令生成所述目标用户的匿名身份；辅助信息计算模块，用于获取所述目标用户的医疗数据，根据所述医疗数据生成所述目标用户的医疗数据文件，根据预设的种子信息计算所述医疗数据文件的辅助信息；医疗数字签名计算模块，用于根据预设的主私钥生成所述匿名身份的签名私钥，通过预设的数字签名算法根据所述签名私钥计算所述医疗数据文件的医疗数字签名；完整度计算模块，用于利用预设的聚合性算法根据所述辅助信息计算所述医疗数字签名的聚合医疗签名值，通过预设的完整度算法根据所述聚合医疗签名值及预设的完整响应信息计算所述医疗数据的完整度；医疗数据存储模块，用于根据所述完整度将所述医疗数据及所述医疗数字签名存储至预设的医疗云服务器中。
说明书desc
技术领域本发明涉及数据存储技术领域，尤其涉及一种基于身份匿名的医疗数据轻量级云存储方法及装置。背景技术随着医疗大数据在现代医疗系统中的潜在价值，受到了人们的广泛关注，但随着医疗大数据的蓬勃发展不可避免地产生新的数据安全和隐私保护问题。为了保证数据安全及数据在传输过程中的完整性，需要对医疗数据进行完整度检测，以进行完整医疗数据的存储。现有的医疗数据存储技术通过具有隐私保护的公共云存储方案，通过用户的真实身份对医疗数据进行存储。实际应用中，数据存储过程中会存在数据不完整的问题，仅考虑将医疗数据进行直接存储，可能导致数据在存储的过程中不完整，从而对进行医疗数据存储时的数据完整度较低。发明内容本发明提供一种基于身份匿名的医疗数据轻量级云存储方法及装置，其主要目的在于解决进行医疗数据存储时的数据完整度较低的问题。为实现上述目的，本发明提供的一种基于身份匿名的医疗数据轻量级云存储方法，包括：S1、获取目标用户的真实身份信息，利用预设的轻量级对称算法根据所述真实身份信息及预设的登录口令生成所述目标用户的匿名身份；S2、获取所述目标用户的医疗数据，根据所述医疗数据生成所述目标用户的医疗数据文件，根据预设的种子信息计算所述医疗数据文件的辅助信息；S3、根据预设的主私钥生成所述匿名身份的签名私钥，通过预设的数字签名算法根据所述签名私钥计算所述医疗数据文件的医疗数字签名；S4、利用预设的聚合性算法根据所述辅助信息计算所述医疗数字签名的聚合医疗签名值，通过预设的完整度算法根据所述聚合医疗签名值及预设的完整响应信息计算所述医疗数据的完整度，其中所述利用预设的聚合性算法根据所述辅助信息计算所述医疗数字签名的聚合医疗签名值，包括：S41、根据预设的辅助阈值从预设的数字集合中选取元素，得到匹配子集；S42、对所述匹配子集中每个元素设定匹配随机系数；S43、利用所述聚合性算法根据所述匹配随机系数及所述辅助信息计算所述医疗数字签名的聚合医疗签名值，其中所述聚合性算法为：；/＞其中，为所述聚合医疗签名值，/＞为第/＞个医疗分块数据文件的数字签名信息，为医疗分块数据文件的分块文件数量，/＞为所述同态哈希函数，/＞为所述医疗数据文件的文件名称，/＞为第/＞个元素的匹配随机系数，/＞为所述匹配子集中元素数量，/＞为所述辅助信息中的第三种子随机数；S5、根据所述完整度将所述医疗数据及所述医疗数字签名存储至预设的医疗云服务器中。可选地，所述利用预设的轻量级对称算法根据所述真实身份信息及预设的登录口令生成所述目标用户的匿名身份，包括：获取所述目标用户的主密钥；利用预设的参数生成算法计算系统公开参数；利用如下所述轻量级对称算法根据所述真实身份信息及所述主密钥计算所述目标用户的主私钥，其中主私钥为：；其中，为目标用户的身份信息对应的主私钥，/＞为目标用户的身份信息，/＞为所述主密钥中循环群的生成元，/＞为第一随机数，/＞为所述主密钥中循环群的第二随机数，/＞为第三随机数，/＞为所述主密钥中循环群/＞的随机生成元，/＞为阶数为/＞的第二循环群，为阶数为/＞的第一循环群；根据所述主私钥、所述系统公开参数及所述登录口令生成所述目标用户的匿名身份，其中所述匿名身份为：；其中，为所述匿名身份，/＞为乘法循环群的生成元，/＞为目标用户的身份信息，为所述系统公开参数中的第一哈希函数，/＞为阶数为/＞的第三循环群，/＞为目标用户的身份信息对应的主私钥，/＞为所述登录口令，/＞为目标用户匿名的有效适用周期。可选地，所述利用预设的参数生成算法计算系统公开参数，包括：利用所述参数生成算法根据预设的初始参数生成循环群参数；根据所述循环群参数计算双线性映射元及第一哈希函数；根据所述循环群参数、所述双线性映射元及所述第一哈希函数生成所述系统公开参数，其中所述系统公开参数为：Para ；其中，Para为所述系统公开参数，为所述双线性映射元，/＞为所述循环群中的第一乘法循环群，/＞为所述循环群中的第二乘法循环群，/＞为乘法循环群的生成元，/＞为所述主密钥，/＞为所述登录口令，/＞为第一哈希函数。可选地，所述根据所述医疗数据生成所述目标用户的医疗数据文件，包括：按照预设的医疗诊断种类对所述医疗数据进行分类，得到医疗分类数据；根据预设的医疗标志将所述医疗分类数据生成医疗分类表；按照预设的医疗路径将所述医疗分类表进行关联，得到所述目标用户的医疗数据文件。可选地，所述根据预设的种子信息计算所述医疗数据文件的辅助信息，包括：利用预设的随机生成函数生成预设的种子群的种子随机数；通过预设的同态哈希函数根据所述种子随机数及所述种子信息计算所述医疗数据文件的辅助值：；其中，为所述辅助值，/＞为所述同态哈希函数，/＞为第一种子随机数，/＞为第二种子随机数，/＞为第三种子随机数，/＞为第/＞个种子信息；根据所述种子信息及所述同态哈希函数计算所述医疗数据文件的辅助信息，其中所述辅助信息为：；其中，为所述辅助信息，/＞为第一种子随机数，/＞为第二种子随机数，/＞为第三种子随机数，/＞为所述同态哈希函数中第/＞个辅助值，/＞为第/＞个种子信息。可选地，所述根据预设的主私钥生成所述匿名身份的签名私钥，包括：根据所述循环群参数确定预设的密钥生成中心的第二哈希函数；利用如下的签名私钥计算公式根据所述主私钥及所述第二哈希函数计算所述匿名身份的签名私钥：；其中，为所述签名私钥，/＞为第三随机数，/＞为目标用户的身份信息对应的主私钥，/＞为所述第二哈希函数，/＞为所述匿名身份。可选地，所述通过预设的数字签名算法根据所述签名私钥计算所述医疗数据文件的医疗数字签名，包括：对所述医疗数据文件进行分块处理，得到医疗分块数据文件；利用所述数字签名算法根据所述签名私钥、所述同态哈希函数及所述种子信息计算所述医疗分块数据文件的数字签名信息，其中所述数字签名算法为：；其中，为第/＞个医疗分块数据文件的数字签名信息，/＞为所述医疗数据文件的随机数，/＞为第/＞个医疗分块数据文件的文件序号，/＞为所述同态哈希函数，/＞为所述医疗数据文件的文件名称，/＞第/＞个种子信息，/＞为所述签名私钥；将所述数字签名信息拼接为所述医疗数据文件的医疗数字签名。可选地，所述通过预设的完整度算法根据所述聚合医疗签名值及预设的完整响应信息计算所述医疗数据的完整度，包括：根据所述匹配子集中的元素及所述匹配随机系数生成所述医疗数据的挑战信息；通过所述完整度算法根据所述挑战信息、所述聚合医疗签名值及所述完整响应信息计算所述医疗数据的完整度：；其中，为所述完整度，/＞为乘法循环群的生成元，/＞为阶数为/＞的第三循环群，/＞为主公钥，/＞为目标用户的身份信息对应的主私钥，/＞为所述第二哈希函数，/＞为所述匿名身份，/＞为所述聚合医疗签名值，/＞为所述完整响应信息中的响应参数，/＞为所述挑战信息中的挑战参数。可选地，所述根据所述完整度将所述医疗数据及所述医疗数字签名存储至预设的医疗云服务器中，包括：当所述完整度小于预设的完整度阈值时，返回至获取所述目标用户的医疗数据的步骤，直至所述完整度大于或等于预设的完整度阈值；当所述完整度大于或等于预设的完整度阈值时，通过预设的数据上传接口将所述医疗数据及所述医疗数字签名存储至所述预设的医疗服务器中。为了解决上述问题，本发明还提供一种基于身份匿名的医疗数据轻量级云存储装置，所述装置包括：匿名身份生成模块，用于获取目标用户的真实身份信息，利用预设的轻量级对称算法根据所述真实身份信息及预设的登录口令生成所述目标用户的匿名身份；辅助信息计算模块，用于获取所述目标用户的医疗数据，根据所述医疗数据生成所述目标用户的医疗数据文件，根据预设的种子信息计算所述医疗数据文件的辅助信息；医疗数字签名计算模块，用于根据预设的主私钥生成所述匿名身份的签名私钥，通过预设的数字签名算法根据所述签名私钥计算所述医疗数据文件的医疗数字签名；完整度计算模块，用于利用预设的聚合性算法根据所述辅助信息计算所述医疗数字签名的聚合医疗签名值，通过预设的完整度算法根据所述聚合医疗签名值及预设的完整响应信息计算所述医疗数据的完整度；医疗数据存储模块，用于根据所述完整度将所述医疗数据及所述医疗数字签名存储至预设的医疗云服务器中。本发明实施例通过将目标用户的真实身份信息转换为匿名身份，以保护目标用户的身份隐私；根据目标用户对应的医疗数据，将医疗数据转换为医疗数据文件，有利于提高医疗数据的收集的全面性；计算匿名身份的签名私钥，进而根据签名私钥计算医疗数据文件的医疗数字签名，以保证医疗数据在传输过程中的数据安全；通过辅助信息计算医疗数字签名的聚合医疗签名值，从而根据聚合医疗签名值计算医疗数据的完整度，进而根据完整度存储医疗数据，有利于保证医疗数据在存储过程中的完整度，提高医疗数据的效率。因此本发明提出的基于身份匿名的医疗数据轻量级云存储方法及装置，可以解决进行医疗数据存储时的数据完整度较低的问题。附图说明图1为本发明一实施例提供的基于身份匿名的医疗数据轻量级云存储方法的流程示意图；图2为本发明一实施例提供的生成医疗数据文件的流程示意图；图3为本发明一实施例提供的计算医疗数字签名的流程示意图；图4为本发明一实施例提供的基于身份匿名的医疗数据轻量级云存储装置的功能模块图；本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。本申请实施例提供一种基于身份匿名的医疗数据轻量级云存储方法。所述基于身份匿名的医疗数据轻量级云存储方法的执行主体包括但不限于服务端、终端等能够被配置为执行本申请实施例提供的该方法的电子设备中的至少一种。换言之，所述基于身份匿名的医疗数据轻量级云存储方法可以由安装在终端设备或服务端设备的软件或硬件来执行，所述软件可以是区块链平台。所述服务端包括但不限于：单台服务器、服务器集群、云端服务器或云端服务器集群等。所述服务器可以是独立的服务器，也可以是提供云服务、云数据库、云计算、云函数、云存储、网络服务、云通信、中间件服务、域名服务、安全服务、内容分发网络、以及大数据和人工智能平台等基础云计算服务的云服务器。参照图1所示，为本发明一实施例提供的基于身份匿名的医疗数据轻量级云存储方法的流程示意图。在本实施例中，所述基于身份匿名的医疗数据轻量级云存储方法包括：S1、获取目标用户的真实身份信息，利用预设的轻量级对称算法根据所述真实身份信息及预设的登录口令生成所述目标用户的匿名身份；本发明其中一个实际应用场景中，医疗大数据的蓬勃发展不可避免地产生新的数据安全和隐私保护问题。如果医疗大数据不完整和不真实，新挖掘的知识将无法令人信服，若用户对数据失去绝对控制权，容易遭受外部敌手恶意删除或篡改等方面的攻击，因此，需要将用户的身份进行匿名，以保证用户所对应的医疗数据不被泄露，保证数据的安全。本发明实施例中，可通过具有数据抓取功能的计算机语句获取目标用户的真实身份信息，其中所述真实身份信息包括身份证号、护照证号、邮件地址、电话号码等。本发明实施例中，所述轻量级对称算法是一种对称加密算法，将目标用户的真实身份信息进行加密，可得到目标用户的匿名身份信息，其中所述轻量级对称算法包括但不限于分组密码算法、序列密码算法。所述匿名身份是指目标用户在某一个问题页面的身份处于保密状态，不希望其他用户知道自己的真实身份。本发明实施例中，所述利用预设的轻量级对称算法根据所述真实身份信息及预设的登录口令生成所述目标用户的匿名身份，包括：获取所述目标用户的主密钥；利用预设的参数生成算法计算系统公开参数；利用如下所述轻量级对称算法根据所述真实身份信息及所述主密钥计算所述目标用户的主私钥，其中主私钥为：；其中，为目标用户的身份信息对应的主私钥，/＞为目标用户的身份信息，/＞为所述主密钥中循环群的生成元，/＞为第一随机数，/＞为所述主密钥中循环群的第二随机数，/＞为第三随机数，/＞为所述主密钥中循环群/＞的随机生成元，/＞为阶数为/＞的第二循环群，为阶数为/＞的第一循环群；根据所述主私钥、所述系统公开参数及所述登录口令生成所述目标用户的匿名身份，其中所述匿名身份为：；其中，为所述匿名身份，/＞为乘法循环群的生成元，/＞为目标用户的身份信息，为所述系统公开参数中的第一哈希函数，/＞为阶数为/＞的第三循环群，/＞为目标用户的身份信息对应的主私钥，/＞为所述登录口令，/＞为目标用户匿名的有效适用周期。详细地，可通过密钥生成中心获取所述目标用户的主密钥，其中所述主密钥是密钥生成中心随机选取的，进而通过所述参数生成算法，系统参数生成过程如下，首先收入参数生成/＞以及双线性映射，其中双线性对映射是设/＞和/＞分别是两个阶位素数/＞的乘法循环群，/＞是/＞的一个生成元，/＞是满足双线性、非退化性及可计算性的双线性对映射，则双线性是对于任意的/＞，有 /＞ /＞，非退化性是/＞，其中1是/＞的单位元，可计算性是对于群 /＞ 的任意两个元素 /＞, 存在一个高效的算法计算 /＞。进而利用keygen密钥生成算法根据目标用户的真实身份信息，随机选取第三随机数/＞，通过keygen构造目标用户的主私钥。本发明实施例中，所述利用预设的参数生成算法计算系统公开参数，包括：利用所述参数生成算法根据预设的初始参数生成循环群参数；根据所述循环群参数计算双线性映射元及第一哈希函数；根据所述循环群参数、所述双线性映射元及所述第一哈希函数生成所述系统公开参数，其中所述系统公开参数为：Para ；其中，Para为所述系统公开参数，为所述双线性映射元，/＞为所述循环群中的第一乘法循环群，/＞为所述循环群中的第二乘法循环群，/＞为乘法循环群的生成元，/＞为所述主密钥，/＞为所述登录口令，/＞为第一哈希函数。详细地，所述参数生成算法是系统初始化算法，所述初始参数是指预设的系统安全参数，将系统输入至参数生成算法中，得到循环群参数，其中所述循环群参数包括双线性对映射，其中/＞和/＞是具有相同阶为素数/＞的乘法循环群，/＞是/＞的生成元，进而根据双线性对映射/＞设置第一哈希函数，则所述第一哈希函数为/＞。具体地，根据所述循环群参数中的双线性对映射元，乘法循环群及第一哈希函数由密钥生成中心公布系统公开参数，进而根据系统公开参数中的参数信息对目标用户的真实身份信息进行匿名，以保证数据的安全存储。进一步地，根据医疗用户真实身份ID 和登录口令PWD, PKG为用户产生匿名身份, 以及相对应的主私钥,PKG随机均匀地选取 /＞, 并使用主私钥/＞为用户产生匿名身份信息/＞,其中/＞, 为一个用户匿名的有效适用周期。进而根据用户真实身份信息、主私钥生成所述目标用户对应的匿名身份。更进一步地，为了保证目标用户对应的医疗数据的数据上传安全，需要对医疗数据进行加密上传，以保证医疗数据不轻易窃取或篡改。S2、获取所述目标用户的医疗数据，根据所述医疗数据生成所述目标用户的医疗数据文件，根据预设的种子信息计算所述医疗数据文件的辅助信息；本发明实施例中，所述医疗数据是指目标用户在医院诊断过程中产生的数据，包括电子病历、传统检测项目结果、新兴检测项目结果、医生用药选择、诊疗路径记录等。详细地，可通过具有数据抓取功能的计算机语句获取所述目标用户的医疗数据，或者可通过预设的无线医疗传感器网络获取所述目标用户的医疗数据。本发明实施例中，所述医疗数据文件是将不同类型的医疗数据进行整合，得到关于不同的医疗数据整合在一起的数据文件，进而根据医疗数据文件可以更高效的医疗数据进行加密。本发明实施例中，参图2所示，所述根据所述医疗数据生成所述目标用户的医疗数据文件，包括：S21、按照预设的医疗诊断种类对所述医疗数据进行分类，得到医疗分类数据；S22、根据预设的医疗标志将所述医疗分类数据生成医疗分类表；S23、按照预设的医疗路径将所述医疗分类表进行关联，得到所述目标用户的医疗数据文件。详细地，所述医疗诊断种类包括电子病历的诊断数据，传统检测项目的诊断结果、新兴检测项目的诊断结果、医生用药的诊断记录、诊疗路径记录。按照所述医疗诊断种类将所述目标用户对应的医疗数据进行分类，得到医疗分类数据。如目标用户的医疗数据中包括拿药、配药数据等，则将其对应的医疗数据分类至医生用药的诊断记录中。具体地，所述医疗标志是根据医疗诊断种类所自定义的标志表头，进而根据标注表头将医疗分类数据生成对应的医疗分类表，其中所述医疗分类中的属性是医疗数据及医疗数据产生的时间。如当医疗分类表是用药数据分类表，则用药数据分类表的标志表头是用药记录，则表中的数据为拿药的时间以及拿药的药品种类或者用户用药的次数记录。进一步地，所述医疗路径是指按照患者的诊疗过程将每个阶段的医疗分类表整合至一个文件中，进而得到医疗数据文件，便于对数据进行管理。本发明实施例中，所述种子信息是根据在循环子群中随机均匀选取的随机数所计算得到的，进而根据种子信息生成所述医疗数据的辅助信息，根据辅助信息可对医疗数据的完整性进行验证，保证数据存储的完整性。本发明实施例中，所述根据预设的种子信息计算所述医疗数据文件的辅助信息，包括：利用预设的随机生成函数生成预设的种子群的种子随机数；通过预设的同态哈希函数根据所述种子随机数及所述种子信息计算所述医疗数据文件的辅助值：；其中，为所述辅助值，/＞为所述同态哈希函数，/＞为第一种子随机数，/＞为第二种子随机数，/＞为第三种子随机数，/＞为第/＞个种子信息；根据所述种子信息及所述同态哈希函数计算所述医疗数据文件的辅助信息，其中所述辅助信息为：；其中，为所述辅助信息，/＞为第一种子随机数，/＞为第二种子随机数，/＞为第三种子随机数，/＞为所述同态哈希函数中第/＞个辅助值，/＞为第/＞个种子信息。详细地，利用所述随机生成函数可从循环子群中随机均匀选取的随机数，则，其中/＞，所述随机生成函数包括但不限于RAND函数，RANDBETWEEN函数。具体地，所述同态哈希函数是由密钥生成中心设置的，则同态哈希函数为，进而根据种子随机数/＞计算种子信息/＞，根据所述同态哈希函数及所述种子信息计算所述医疗数据文件的辅助值。其中同态哈希函数满足同态性和抗碰撞性，同态性是指对于两个消息/＞和标量/＞,有；抗碰撞性是指不存在多项式时间敌手能够伪造元组 /＞,使之能同时满足/＞ /＞和。进一步地，根据所述种子信息及所述同态哈希函数计算所述医疗数据文件的辅助信息，进而根据辅助信息可以验证医疗数据文件的数据完整性。S3、根据预设的主私钥生成所述匿名身份的签名私钥，通过预设的数字签名算法根据所述签名私钥计算所述医疗数据文件的医疗数字签名；本发明实施例中，所述签名私钥是指当目标用户发送数据文件时，用签名私钥，别人用目标用户给的公钥进行解密，可以保证该信息是由该用户发送的。本发明实施例中，所述根据预设的主私钥生成所述匿名身份的签名私钥，包括：根据所述循环群参数确定预设的密钥生成中心的第二哈希函数；利用如下的签名私钥计算公式根据所述主私钥及所述第二哈希函数计算所述匿名身份的签名私钥：；其中，为所述签名私钥，/＞为第三随机数，/＞为目标用户的身份信息对应的主私钥，/＞为所述第二哈希函数，/＞为所述匿名身份。详细地，所述第二哈希函数为 /＞，其中/＞，根据所述循环群参数中的/＞乘法循环群，用户真实身份ID /＞确定密钥生成中心的第二哈希函数，进而根据第二哈希函数及登录口令，密钥生成中心PKG为目标用户生成对应的签名私钥。具体地，密钥生成中心PKG随机均匀地选取，并适用主私钥/＞计算目标用户匿名身份对应的签名私钥/＞，进而根据签名私钥对目标用户对应的医疗数据进行加密上传或存储，保证目标用户的医疗数据的存储安全性。本发明实施例中，所述医疗数字签名是对目标用户对应的医疗数据进行加密的，只有医疗数据的发送者才能产生别人无法伪造的一段数字串，这段数字串同时也是对信息的发送者发送信息真实性的一个有效证明。本发明实施例中，参图3所示，所述通过预设的数字签名算法根据所述签名私钥计算所述医疗数据文件的医疗数字签名，包括：S31、对所述医疗数据文件进行分块处理，得到医疗分块数据文件；S32、利用所述数字签名算法根据所述签名私钥、所述同态哈希函数及所述种子信息计算所述医疗分块数据文件的数字签名信息，其中所述数字签名算法为：；其中，为第/＞个医疗分块数据文件的数字签名信息，/＞为所述医疗数据文件的随机数，/＞为第/＞个医疗分块数据文件的文件序号，/＞为所述同态哈希函数，/＞为所述医疗数据文件的文件名称，/＞第/＞个种子信息，/＞为所述签名私钥；S33、将所述数字签名信息拼接为所述医疗数据文件的医疗数字签名。详细地，将医疗数据文件F分块预处理成，进而利用签名私钥、同态哈希函数及种子信息对每个医疗数据文件进行数字签名，得到每个医疗数据文件对应地数字签名信息，进而将数字签名信息进行拼接，得到所述医疗数据文件的医疗数字签名。如每个医疗数据文件的签名信息为A,B,C,D,将每个医疗数据文件的数字签名信息进行拼接，得到{A,B,C,D}，则将{A,B,C,D}作为所述医疗数据文件的医疗数字签名。具体地，所述数字签名算法中为所述医疗数据文件的随机数，可利用随机数生成算法生成/＞，并通过同态哈函数对医疗数据文件及每个医疗分块数据文件的种子信息计算每个医疗分块数据文件的数字签名信息。进一步地，为了验证医疗数据上传至云服务器中的数据完整性，需要对医疗数据的辅助信息进行分析，以保证医疗数据的完整性。S4、利用预设的聚合性算法根据所述辅助信息计算所述医疗数字签名的聚合医疗签名值，通过预设的完整度算法根据所述聚合医疗签名值及预设的完整响应信息计算所述医疗数据的完整度；本发明实施例中，所述聚合医疗签名值是将每个医疗分块数据文件的数字签名信息进行聚合计算，得到医疗数据文件的整体聚合医疗签名值，进而根据聚合医疗签名值计算医疗数据上传的完整性。本发明实施例中，所述利用预设的聚合性算法根据所述辅助信息计算所述医疗数字签名的聚合医疗签名值，包括：根据预设的辅助阈值从预设的数字集合中选取元素，得到匹配子集；对所述匹配子集中每个元素设定匹配随机系数；利用所述聚合性算法根据所述匹配随机系数及所述辅助信息计算所述医疗数字签名的聚合医疗签名值，其中所述聚合性算法为：；其中，为所述聚合医疗签名值，/＞为第/＞个医疗分块数据文件的数字签名信息，为医疗分块数据文件的分块文件数量，/＞为所述同态哈希函数，/＞为所述医疗数据文件的文件名称，/＞为第/＞个元素的匹配随机系数，/＞为所述匹配子集中元素数量，/＞为所述辅助信息中的第三种子随机数。详细地，所述辅助阈值是指在预设的数字集合中选取的元素数量，例如所述辅助阈值为5，则从数字集合中选取5个元素组成匹配子集，其中所述数字集合为{0,1,2,…,n}，从数字集合中随机均匀的选取元素，根据选取的元素组成匹配子集，并为匹配子集中的每个元素设定匹配随机系数/＞，其中通过随机数生成函数对匹配子集中每个元素设定匹配随机系数。具体地，所述聚合性算法根据所述辅助信息中的种子随机数及同态哈希函数计算所述医疗数字签名的聚合医疗签名值，将每个医疗分块数据文件的签名信息进行聚合，即将每个医疗分块数据文件的签名信息通过匹配随机系数更准确的计算所述聚合医疗签名值，其中所述匹配随机系数可以随着聚合状态进行动态随机分配，可得到更准确的聚合医疗签名值。进一步地，为了保证医疗数据上传的完整性，需要根据聚合医疗签名值去确定所述医疗数据的完整性。本发明实施例中，所述通过预设的完整度算法根据所述聚合医疗签名值及预设的完整响应信息计算所述医疗数据的完整度，包括：根据所述匹配子集中的元素及所述匹配随机系数生成所述医疗数据的挑战信息；通过所述完整度算法根据所述挑战信息、所述聚合医疗签名值及所述完整响应信息计算所述医疗数据的完整度：；其中，为所述完整度，/＞为乘法循环群的生成元，/＞为阶数为/＞的第三循环群，/＞为主公钥，/＞为目标用户的身份信息对应的主私钥，/＞为所述第二哈希函数，/＞为所述匿名身份，/＞为所述聚合医疗签名值，/＞为所述完整响应信息中的响应参数，/＞为所述挑战信息中的挑战参数。详细地，将所述匹配子集中的元素及其元素对应的匹配随机系数生成所述医疗数据的挑战信息，其中所述挑战信息为chal，进而根据所述挑战信息、所述聚合医疗签名值及所述完整响应信息计算所述医疗数据的完整度。具体地，所述完整响应信息为，其中/＞为所述完整响应信息中的第一响应参数，其第一响应参数是指医疗数据验证的响应时间，/＞为医疗数据文件的签名信息，进而根据所述完整度算法的计算公式计算所述医疗数据的完整度。其中，所述完整度算法中的/＞为所述完整响应信息中的响应参数，/＞为所述挑战信息中的挑战参数，可通过响应参数中的/＞及挑战信息中的挑战参数/＞确定所述医疗数据文件的完整匹配响应时间，若医疗数据是完整的，则完整匹配响应匹配时间应该在预设的匹配响应阈值内；若医完整匹配响应时间未在预设地匹配响应阈值内，则医疗数据是不完整的。进一步地，可根据所述完整度进一步判断医疗数据是否可以上传至医疗云服务器中进行存储，并清空本地存储。S5、根据所述完整度将所述医疗数据及所述医疗数字签名存储至预设的医疗云服务器中。本发明实施例中，医疗服务器拥有巨大存储容量和计算能力，根据用户需求存储用户的医疗数据以及相应的数字签名。本发明实施例中，所述根据所述完整度将所述医疗数据及所述医疗数字签名存储至预设的医疗云服务器中，包括：当所述完整度小于预设的完整度阈值时，返回至获取所述目标用户的医疗数据的步骤，直至所述完整度大于或等于预设的完整度阈值；当所述完整度大于或等于预设的完整度阈值时，通过预设的数据上传接口将所述医疗数据及所述医疗数字签名存储至所述预设的医疗服务器中。详细地，当所述完整度小于预设的完整度阈值时，表示医疗数据是不完整的，需要重新获取目标用户的医疗数据，对医疗数据不断进行相同的操作，直至获取的医疗数据的完整度大于或等于预设的完整度阈值时，才通过数据上传接口将所述医疗数据及所述医疗数字签名存储至医疗服务器中。本发明实施例通过将目标用户的真实身份信息转换为匿名身份，以保护目标用户的身份隐私；根据目标用户对应的医疗数据，将医疗数据转换为医疗数据文件，有利于提高医疗数据的收集的全面性；计算匿名身份的签名私钥，进而根据签名私钥计算医疗数据文件的医疗数字签名，以保证医疗数据在传输过程中的数据安全；通过辅助信息计算医疗数字签名的聚合医疗签名值，从而根据聚合医疗签名值计算医疗数据的完整度，进而根据完整度存储医疗数据，有利于保证医疗数据在存储过程中的完整度，提高医疗数据的效率。因此本发明提出的基于身份匿名的医疗数据轻量级云存储方法及装置，可以解决进行医疗数据存储时的数据完整度较低的问题。如图4所示，是本发明一实施例提供的基于身份匿名的医疗数据轻量级云存储装置的功能模块图。本发明所述基于身份匿名的医疗数据轻量级云存储装置100可以安装于电子设备中。根据实现的功能，所述基于身份匿名的医疗数据轻量级云存储装置100可以包括匿名身份生成模块101、辅助信息计算模块102、医疗数字签名计算模块103、完整度计算模块104及医疗数据存储模块105。本发明所述模块也可以称之为单元，是指一种能够被电子设备处理器所执行，并且能够完成固定功能的一系列计算机程序段，其存储在电子设备的存储器中。在本实施例中，关于各模块/单元的功能如下：所述匿名身份生成模块101，用于获取目标用户的真实身份信息，利用预设的轻量级对称算法根据所述真实身份信息及预设的登录口令生成所述目标用户的匿名身份；所述辅助信息计算模块102，用于获取所述目标用户的医疗数据，根据所述医疗数据生成所述目标用户的医疗数据文件，根据预设的种子信息计算所述医疗数据文件的辅助信息；所述医疗数字签名计算模块103，用于根据预设的主私钥生成所述匿名身份的签名私钥，通过预设的数字签名算法根据所述签名私钥计算所述医疗数据文件的医疗数字签名；所述完整度计算模块104，用于利用预设的聚合性算法根据所述辅助信息计算所述医疗数字签名的聚合医疗签名值，通过预设的完整度算法根据所述聚合医疗签名值及预设的完整响应信息计算所述医疗数据的完整度；所述医疗数据存储模块105，用于根据所述完整度将所述医疗数据及所述医疗数字签名存储至预设的医疗云服务器中。详细地，本发明实施例中所述基于身份匿名的医疗数据轻量级云存储装置100中所述的各模块在使用时采用与上述图1至图3中所述的基于身份匿名的医疗数据轻量级云存储方法一样的技术手段，并能够产生相同的技术效果，这里不再赘述。此外，显然“包括”一词不排除其他单元或步骤，单数不排除复数。系统实施例中陈述的多个单元或装置也可以由一个单元或装置通过软件或者硬件来实现。第一、第二等词语用来表示名称，而并不表示任何特定的顺序。最后应说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，可以对本发明的技术方案进行修改或等同替换，而不脱离本发明技术方案的精神和范围。
