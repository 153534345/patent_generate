标题title
一种空调用智能电控系统
摘要abst
本发明涉及数据处理技术领域，具体涉及一种空调用智能电控系统。该系统获取原始信号；将原始信号分解为分量信号，将分量信号排序，获得分量序列，计算原始信号与分量序列中元素的差异获取残余信号；根据元素的上级分量信号与残余信号获取评估信号差异，筛选出噪声参考信号，确定相位间隔；根据信号点的上包络线斜率与下包络线斜率，获取噪声判断参数；获取峰值点与相邻谷值点的幅值差异作为落差值；获取噪声判断参数与落差值的相关系数；根据相关系数与相位间隔获取滤波长度；根据滤波长度获得去噪信号，根据去噪信号对空调进行智能调控。本发明根据噪声干扰程度，自适应获取滤波长度，使得去噪信号更真实，空调的指令反馈更准确有效。
权利要求书clms
1.一种空调用智能电控系统，其特征在于，所述系统包括：数据获取模块，用于获取原始信号；残余信号获取模块，用于将原始信号分解为至少两个分量信号，将所述分量信号根据频率进行排序，获得分量序列，其中最高频率的所述分量信号不参与排序；计算原始信号与所述分量序列中每个元素之间的差异获取对应所述元素的残余信号；相位间隔获取模块，用于根据每个所述元素的上级分量信号与所述残余信号之间的差异获取对应所述元素的上级分量信号的评估信号差异，根据所述评估信号差异从每个所述元素的上级分量信号中筛选出噪声参考信号；根据所述噪声参考信号的下级分量信号中谷值点的位置确定相位间隔；相关系数获取模块，用于根据原始信号在所述相位间隔内的同一时刻下对应信号点的上包络线斜率与下包络线斜率，获取所述同一时刻的噪声判断参数；获取原始信号在所述相位间隔内的每个峰值点与上一相邻谷值点之间的幅值差异作为落差值；获取原始信号的每个所述相位间隔内的所述噪声判断参数与所述落差值的相关系数；滤波长度获取模块，用于根据所述相关系数与所述相位间隔获取滤波长度；智能调控模块，用于根据所述滤波长度对原始信号进行去噪，获得去噪信号，根据所述去噪信号对空调进行智能调控。2.如权利要求1所述的一种空调用智能电控系统，其特征在于，所述残余信号的获取方法，包括：选取所述分量序列中的任意一个元素作为目标元素，计算原始信号与所述分量序列中每个元素之间的每个相同时刻下的信号点幅值的差值，作为第一差异，每个所述元素对应的所有所述第一差异构成的时序序列为对应所述元素的初始残余信号；若所述目标元素为频率最低的分量信号，则以所述目标元素的初始残余信号作为所述目标元素的所述残余信号；若所述目标元素不为频率最低的分量信号，则将频率小于目标元素的元素作为参考元素，将所述目标元素与所述参考元素的所述初始残余信号累加，获得所述目标元素的所述残余信号。3.如权利要求1所述的一种空调用智能电控系统，其特征在于，所述评估信号差异的获取方法，包括：获取每个所述元素的上级分量信号与所述残余信号之间的相同时刻下的信号点幅值的差值作为第一差值；计算每个所述元素的上级分量信号与所述残余信号之间的所有第一差值平方的均值作为对应所述元素的上级分量信号的评估信号差异。4.如权利要求1所述的一种空调用智能电控系统，其特征在于，所述根据所述评估信号差异从每个所述元素的上级分量信号中筛选出噪声参考信号的方法，包括：将最小的所述评估信号差异对应的所述元素的上级分量信号作为噪声参考信号。5.如权利要求1所述的一种空调用智能电控系统，其特征在于，所述根据所述噪声参考信号的下级分量信号中谷值点的位置确定相位间隔的方法，包括：将所述噪声参考信号的下级分量信号中的任意两个相邻谷值点之间的间隔作为一个相位间隔。6.如权利要求1所述的一种空调用智能电控系统，其特征在于，所述噪声判断参数的获取方法，包括：选取原始信号中任意一个相位间隔中的任意一个时刻作为目标时刻，将所述目标时刻对应的上包络值和下包络值分别作为目标上包络值和目标下包络值；其中，所述目标时刻不包括相位间隔中的第一时刻；将所述目标时刻的前一相邻时刻对应的上包络值和下包络值分别作为相邻上包络值和相邻下包络值；根据所述目标上包络值与所述相邻上包络值获取所述目标时刻的上包络线斜率；根据所述目标下包络值与所述相邻下包络值获取所述目标时刻的下包络线斜率；将所述上包络线斜率与所述下包络线斜率的比值绝对值作为所述目标时刻的噪声存在可能值；计算常数1与所述噪声存在可能值的差值绝对值作为所述目标时刻的噪声判定参数。7.如权利要求1所述的一种空调用智能电控系统，其特征在于，所述落差值的获取方法，包括：将原始信号的每个相位间隔内的每个峰值点的幅值减去前一个相邻谷值点的幅值的差值，作为对应峰值点的落差值。8.如权利要求1所述的一种空调用智能电控系统，其特征在于，所述相关系数的获取方法，包括：选取原始信号中的任意一个相位间隔作为目标相位间隔；将所述目标相位间隔中的所有峰值点对应时刻的噪声判定参数构成第一集合，所有落差值构成第二集合；以所述第一集合和所述第二集合之间的皮尔逊相关系数作为所述目标相位间隔内的所述噪声判断参数与所述落差值的相关系数。9.如权利要求1所述的一种空调用智能电控系统，其特征在于，所述滤波长度的获取方法，包括：将原始信号的每个相位间隔的长度与相关系数绝对值的乘积作为原始信号的对应相位间隔中的滤波长度。10.如权利要求1所述的一种空调用智能电控系统，其特征在于，所述分量序列的获取方法，包括：将所述分量信号根据频率从低到高进行排序，获得分量序列。
说明书desc
技术领域本发明涉及数据处理技术领域，具体涉及一种空调用智能电控系统。背景技术空调智能电控系统是一种基于电子技术和智能控制技术的空调控制系统，通过对空调的温度、湿度、风速等参数进行智能调节，实现舒适、节能、环保的空调控制。无论空调内机还是外机、电控系统的正常运行和各个空调模块之间的协调控制，均是由电信号在各个模块之间的传输实现的，包括但不仅限于温度传感器信号、湿度传感器信号、风速传感器信号、电源信号、控制信号、故障信号、遥控信号等。由于各个电子元件之间的电磁干扰、传感器脉冲波动、电压不稳定等原因，电信号极易受到噪声干扰，致使空调的智能控制和调节出现误差。现有技术中通过对电信号进行分解，获得分量信号，对分量信号进行分析，确定有用分量信号和噪声分量信号，对噪声分量信号进行去噪，将去噪后的噪声分量信号与有用分量信号进行合并，获得去噪后的电信号；实际情况中，噪声的随机性大且稳定性差，在有用分量信号中也可能会存在噪声，只对噪声分量信号进行处理，并不能完全且准确的对电信号进行去噪处理，导致去噪后的电信号不准确，进而导致空调智能电控系统的调控不准确。发明内容为了解决信号去噪效果不好，导致空调智能电控系统的调控不准确的技术问题，本发明的目的在于提供一种空调用智能电控系统，所采用的技术方案具体如下：本发明实施例中提供了一种空调用智能电控系统，该系统包括以下：数据获取模块，用于获取原始信号；残余信号获取模块，用于将原始信号分解为至少两个分量信号，将所述分量信号根据频率进行排序，获得分量序列，其中最高频率的所述分量信号不参与排序；计算原始信号与所述分量序列中每个元素之间的差异获取对应所述元素的残余信号；相位间隔获取模块，用于根据每个所述元素的上级分量信号与所述残余信号之间的差异获取对应所述元素的上级分量信号的评估信号差异，根据所述评估信号差异从每个所述元素的上级分量信号中筛选出噪声参考信号；根据所述噪声参考信号的下级分量信号中谷值点的位置确定相位间隔；相关系数获取模块，用于根据原始信号在所述相位间隔内的同一时刻下对应信号点的上包络线斜率与下包络线斜率，获取所述同一时刻的噪声判断参数；获取原始信号在所述相位间隔内的每个峰值点与上一相邻谷值点之间的幅值差异作为落差值；获取原始信号的每个所述相位间隔内的所述噪声判断参数与所述落差值的相关系数；滤波长度获取模块，用于根据所述相关系数与所述相位间隔获取滤波长度；智能调控模块，用于根据所述滤波长度对原始信号进行去噪，获得去噪信号，根据所述去噪信号对空调进行智能调控。进一步地，所述残余信号的获取方法，包括：选取所述分量序列中的任意一个元素作为目标元素，计算原始信号与所述分量序列中每个元素之间的每个相同时刻下的信号点幅值的差值，作为第一差异，每个所述元素对应的所有所述第一差异构成的时序序列为对应所述元素的初始残余信号；若所述目标元素为频率最低的分量信号，则以所述目标元素的初始残余信号作为所述目标元素的所述残余信号；若所述目标元素不为频率最低的分量信号，则将频率小于目标元素的元素作为参考元素，将所述目标元素与所述参考元素的所述初始残余信号累加，获得所述目标元素的所述残余信号。进一步地，所述评估信号差异的获取方法，包括：获取每个所述元素的上级分量信号与所述残余信号之间的相同时刻下的信号点幅值的差值作为第一差值；计算每个所述元素的上级分量信号与所述残余信号之间的所有第一差值平方的均值作为对应所述元素的上级分量信号的评估信号差异。进一步地，所述根据所述评估信号差异从每个所述元素的上级分量信号中筛选出噪声参考信号的方法，包括：将最小的所述评估信号差异对应的所述元素的上级分量信号作为噪声参考信号。进一步地，所述根据所述噪声参考信号的下级分量信号中谷值点的位置确定相位间隔的方法，包括：将所述噪声参考信号的下级分量信号中的任意两个相邻谷值点之间的间隔作为一个相位间隔。进一步地，所述噪声判断参数的获取方法，包括：选取原始信号中任意一个相位间隔中的任意一个时刻作为目标时刻，将所述目标时刻对应的上包络值和下包络值分别作为目标上包络值和目标下包络值；其中，所述目标时刻不包括相位间隔中的第一时刻；将所述目标时刻的前一相邻时刻对应的上包络值和下包络值分别作为相邻上包络值和相邻下包络值；根据所述目标上包络值与所述相邻上包络值获取所述目标时刻的上包络线斜率；根据所述目标下包络值与所述相邻下包络值获取所述目标时刻的下包络线斜率；将所述上包络线斜率与所述下包络线斜率的比值绝对值作为所述目标时刻的噪声存在可能值；计算常数1与所述噪声存在可能值的差值绝对值作为所述目标时刻的噪声判定参数。进一步地，所述落差值的获取方法，包括：将原始信号的每个相位间隔内的每个峰值点的幅值减去前一个相邻谷值点的幅值的差值，作为对应峰值点的落差值。进一步地，所述相关系数的获取方法，包括：选取原始信号中的任意一个相位间隔作为目标相位间隔；将所述目标相位间隔中的所有峰值点对应时刻的噪声判定参数构成第一集合，所有落差值构成第二集合；以所述第一集合和所述第二集合之间的皮尔逊相关系数作为所述目标相位间隔内的所述噪声判断参数与所述落差值的相关系数。进一步地，所述滤波长度的获取方法，包括：将原始信号的每个相位间隔的长度与相关系数绝对值的乘积作为原始信号的对应相位间隔中的滤波长度。进一步地，所述分量序列的获取方法，包括：将所述分量信号根据频率从低到高进行排序，获得分量序列。本发明具有如下有益效果：将原始信号分解为分量信号，将分量信号根据频率进行排序，获得分量序列，为获取原始信号中的噪声信号提供了条件；计算原始信号与分量序列中每个元素之间的差异获取对应元素的残余信号，确定对应元素上级分量信号中的噪声信号，进而根据每个元素的上级分量信号与残余信号之间的差异获取对应元素的上级分量信号的评估信号差异，确定分量信号与对应噪声信号之间的相似性，因此，根据评估信号差异筛选出噪声参考信号，确定最接近原始信号中的噪声信号的分量信号，进而根据噪声参考信号的下级分量信号中谷值点的位置确定相位间隔，进而自适应确定原始信号中的相位间隔即自适应平滑段落，避免不同相位间隔之间平滑去噪的干扰，使得每个相位间隔中的去噪效果有了部分提高；进而根据原始信号在相位间隔内的同一时刻下对应信号点的上包络线斜率与下包络线斜率，获取同一时刻的噪声判断参数，判定存在噪声可能性；获取原始信号在相位间隔内的每个峰值点与上一相邻谷值点之间的幅值差异作为落差值，确定噪声的干扰程度；噪声判断参数与落差值的关系可以反映噪声的真实性与噪声的干扰程度，因此，根据噪声判断参数与落差值获取每个相位间隔的相关系数，直接反映出真实存在噪声的干扰程度，进而根据相关系数在相位间隔的基础上自适应获取滤波长度，使得滤波长度更符合实际情况；进而根据滤波长度对原始信号进行去噪，获得去噪信号，既可以保留原始信号中的特征信息，又可以使得原始信号达到最优的去噪效果，在大幅度抑制噪声信号的同时减小了对真实信号的损伤，使得去噪信号更真实准确；进而根据去噪信号对空调进行智能调控，提高了空调智能电控系统的数据识别效率，以及指令反馈的准确性和有效性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种空调用智能电控系统的结构框图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种空调用智能电控系统，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种空调用智能电控系统的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种空调用智能电控系统的结构框图，该系统包括：数据获取模块10、残余信号获取模块20、相位间隔获取模块30、相关系数获取模块40、滤波长度获取模块50、智能调控模块60。数据获取模块10，用于获取原始信号。具体的，空调内的所有传感器信号以及各个模块之间的反馈信号均会发送至空调智能电控系统进行处理，生成命令后再返回，因此空调智能电控系统的预处理模块可以处理各类相关信号，从预处理模块的接收端可以导出任意种类的原始信号，作为实施例进行举例说明。本发明实施例以空调鼓风机功率信号为例，即将从预处理模块的接收端导出的空调鼓风机功率信号作为本发明实施例中的原始信号。空调智能电控系统的性能绝大部分取决于电信号的传输、读取、处理效率，然而由于各个电子元件之间的电磁干扰、传感器脉冲波动、电压不稳定等原因，原始信号极易受到噪声干扰，致使空调的智能控制和调节出现误差。原始信号中的噪声来源较为复杂，因此小波变换等依赖信号特征的去噪算法对随机性大、稳定性差的噪声信号去噪效果不好，现有方法中采用的滑动平均法对原始信号进行去噪处理，设定的滤波长度不合理会导致原始信号质量下降、信息损伤的问题，进而使得空调智能电控系统的控制命令错误。其中，小波变换以及滑动平均法为现有技术，在此不再进行赘述。为了提高原始信号的真实性，使得空调智能电控系统的控制命令准确，本发明实施例自适应获取原始信号中的滤波长度，提高去噪效果。无论时域信号还是频域信号均可以用滑动平均法进行去噪，在其基础上还有卷积法、高斯滤波等变种，无论是哪种平滑去噪的方法，都具有一个共同参数即滤波长度。滤波长度直接关系到平滑去噪效果，滤波长度越大，则平滑程度越高，滤波长度越小，则平滑程度越小。一般情况下滤波长度均为人工经验设定，自适应差，存在过平滑或欠平滑的问题，导致原始信号的特征丢失。因此，本发明实施例通过一系列处理获取原始信号的自适应滤波长度。其中，卷积法以及高斯滤波为现有技术，在此不再进行赘述。残余信号获取模块20，用于将原始信号分解为至少两个分量信号，将分量信号根据频率进行排序，获得分量序列，其中最高频率的分量信号不参与排序；计算原始信号与分量序列中每个元素之间的差异获取对应元素的残余信号。具体的，利用EMD算法分解原始信号，获得原始信号对应的至少两个分量信号，其中，每个分量信号之下的下级分量信号为更低频的趋势项，为了将噪声信号可以显示的更明显，本发明实施例将原始信号由下向上依次减去低频的分量信号，因为越低频的分量信号其中的噪声越少，将低频的分量信号依次减去，使得噪声逐渐剥离出来。其中EMD算法为公知技术，在此不再进行赘述。为了获取噪声信号，需要获取分量信号的残余信号，获取残余信号的具体方法如下：获取分量序列。为了更便于获取分量信号的残余信号，本发明实施例对原始信号分解的分量信号进行排序，将分量信号根据频率从低到高进行排序，获得分量序列，其中，最高频的分量信号不参与排序，因为所有的分量信号进行合并获得原始信号，最高频的分量信号与原始信号最相似，将原始信号与最高频分量信号进行比较，并不能对噪声信号的分离产生作用。其中，分量序列中的一个元素代表一个分量信号。获取残余信号。越下级的分量信号在原始信号中越不明显，只有浮在原始信号表面的“毛刺”才会与分量信号具有一定相似度，但需要注意并不是第一个分量信号即最高频率的分量信号就为“毛刺”信号，而是将残余信号与对应的分量信号进行比较，找出差异最小的一级分量信号，作为原始信号中表面“毛刺”信号分布最多的一个分量信号，这里所说的“毛刺”就是噪声。其中，分量序列中每个元素的残余信号表示为每个元素的上级分量信号对应的噪声信号，将噪声信号与对应的分量信号进行比较，进而确定噪声信号最多的分量信号。在确定噪声信号最多的分量信号之前，需要先获取残余信号，优选地，获取残余信号的方法为：选取分量序列中的任意一个元素作为目标元素，计算原始信号与分量序列中每个元素之间的每个相同时刻下的信号点幅值的差值，作为第一差异，每个元素对应的的第一差异构成的时序序列为对应元素的初始残余信号；若目标元素为频率最低的分量信号，则以目标元素的初始残余信号作为目标元素的残余信号；若目标元素不为频率最低的分量信号，则将频率小于目标元素的元素作为参考元素，将目标元素与参考元素的初始残余信号累加，获得目标元素的残余信号。作为一个示例，将分量序列中的第Q个元素作为目标元素，分量信号与原始信号中的时刻相同，即分量信号与原始信号中的信号点的数量保持一致。计算原始信号与分量序列中每个元素之间的每个相同时刻下的信号点幅值的差值，作为第一差异，将分量序列中每个元素对应的的第一差异构成的时序序列作为对应元素的初始残余信号。当第Q个元素为分量序列中的第一个元素即频率最低的分量信号时，将第Q个元素的初始残余信号作为第Q个元素的残余信号；当第Q个元素不为分量序列中的第一个元素即不为频率最低的分量信号时，将分量序列中频率小于第Q个元素的元素作为参考元素，将第Q个元素与参考元素的初始残余信号累加，获得第Q个元素的残余信号。根据获取第Q个元素的残余信号的方法，获取分量序列中每个元素的残余信号。相位间隔获取模块30，用于根据每个元素的上级分量信号与残余信号之间的差异获取对应元素的上级分量信号的评估信号差异，根据评估信号差异从每个元素的上级分量信号中筛选出噪声参考信号；根据噪声参考信号的下级分量信号中谷值点的位置确定相位间隔。具体的，对预处理去噪后原始信号的期望为：有效去除噪声，且保留原始信号细节特征，尽可能少的丢失原始信号的信息。提到细节特征离不开局部自适应处理，首先需要分割局部原始信号，实现对不同局部原始信号自适应确定滤波长度。其中，噪声信号与原始信号同频率，但相位不同，噪声相位是指噪声信号在一个给定的时刻与原始信号之间的相对时间关系。原始信号中有效信息基本都集中在峰值上，且原始信号上的所有峰值信号均可认为是同相位。若确定噪声信号叠加在真实信号上的相位关系即相位间隔，按照相位间隔分割局部信号，就可以针对不同相位关系的噪声分别进行自适应平滑去噪，可以大幅改善其他原始信号段对该局部原始信号的过平滑或欠平滑的问题。其中，获取相位间隔的具体方法如下：获取评估信号差异。根据评估信号差异可以确定分量信号与噪声信号之间的差异，进而确定存在噪声信号最多的分量信号，根据噪声信号最多的分量信号的下级分量信号就可以获取相位间隔。优选地，获取评估信号差异的方法为：获取每个元素的上级分量信号与残余信号之间的相同时刻下的信号点幅值的差值作为第一差值；计算每个元素的上级分量信号与残余信号之间的所有第一差值平方的均值作为对应元素的上级分量信号的评估信号差异。作为一个示例，以残余信号获取模块20中的第Q个元素为例，其中，分量序列中每个元素的残余信号表示为每个元素的上级分量信号对应的噪声信号，因此，根据第Q个元素的上级分量信号与第Q个元素的残余信号之间的差异，获取第Q个元素的上级分量信号的评估信号差异。具体的，获取第Q个元素的上级分量信号的评估信号差异的方位为：计算第Q个元素的上级分量信号与第Q个元素的残余信号之间的相同时刻下的信号点幅值的差值即第一差值；计算第Q个元素的上级分量信号与第Q个元素的残余信号之间的所有第一差值平方的均值作为第Q个元素的上级分量信号的评估信号差异。因此，获取第Q个元素的上级分量信号的评估信号差异的公式为：式中，为第Q个元素的上级分量信号的评估信号差异；F为第Q个元素的上级分量信号或第Q个元素中的所有时刻数量或者信号点总数量；为第Q个元素的上级分量信号的第v个时刻下信号点的幅值；为第Q个元素的残余信号的第v个时刻下信号点的幅值。需要说明的是，第一差值越接近0，说明第v个时刻下第Q个元素的上级分量信号与第Q个元素的残余信号越相似，越小；因此，越小，第Q个元素的上级分量信号与第Q个元素的残余信号越相似，第Q个元素的上级分量信号与噪声信号越相似，第Q个元素的上级分量信号越可能为噪声信号分布最多的分量信号。根据获取第Q个元素的上级分量信号的评估信号差异的方法，获取分量序列中每个元素的上级分量信号的评估信号差异。确定噪声参考信号。根据评估信号差异从每个元素的上级分量信号中筛选出噪声参考信号的方法为：选取最小的评估信号差异对应的元素的上级分量信号作为噪声参考信号。例如，当第Q个元素的上级分量信号的评估信号差异是分量序列中所有元素的上级分量信号的评估信号差异最小的时，将第Q个元素的上级分量信号作为噪声参考信号，根据噪声参考信号的下级分量信号即第Q个元素获取相位间隔。因为每个信号对应的时间段是相同的，因此根据噪声参考信号的下级分量信号获取的相位间隔，在原始信号中都可以找到对应的，进而确定原始信号中的相位间隔。获取相位间隔。为了提高对原始信号的去噪效果，本发明实施例自适应获取平滑去噪的区间即相位间隔，对每个区间内的原始信号进行单独的去噪处理，避免了其他区域的原始信号中的噪声处理对该区域的噪声信号处理的干扰。优选地，获取相位间隔的方法为：将噪声参考信号的下级分量信号中的任意两个相邻谷值点之间的间隔作为一个相位间隔。获取噪声参考信号的下级分量信号中的所有谷值点，其中，谷值点的获取方法可以通过先获取极值点，然后根据极值点两侧信号趋势获取，当左侧信号曲线斜率为负，右侧信号曲线斜率为正，斜率为0时对应的极值点即为谷值点，然后将任意相邻的两个谷值点之间的间隔作为一个相位间隔，获取所有的相位间隔，并在原始信号中确定相位间隔的区间。相关系数获取模块40，用于根据原始信号在相位间隔内的同一时刻下对应信号点的上包络线斜率与下包络线斜率，获取同一时刻的噪声判断参数；获取原始信号在相位间隔内的每个峰值点与上一相邻谷值点之间的幅值差异作为落差值；获取原始信号的每个相位间隔内的噪声判断参数与落差值的相关系数。具体的，每个相位间隔内的原始信号单独进行平滑去噪，或者说在自适应的滤波长度区间内进行平滑去噪，可以大幅度减小其他相位间隔的原始信号对该相位间隔内的原始信号的影响，既保留原始信号特征信息和有效信息，又可以平滑噪声。相位间隔可以认为是相位间隔内的最大滤波长度，而每个相位间隔内的特征信号和噪声干扰量并不相同，当噪声较小时，而滤波长度过大，同样会导致原始信息的部分特征发生丢失，因此，滤波长度还需要在相位间隔的基础上进行调整。在调整相位间隔中的滤波长度之前，需要先分析每个相位间隔受到的噪声干扰程度，进而确定每个相位间隔中的相关系数，根据相关系数调整相位间隔的滤波长度。其中，获取相关系数的方法如下：获取噪声判定参数。将原始信号的相邻峰值点和相邻谷值点求均然后拟合得到信号的上包络线和下包络线，上、下包络线可以描述信号峰值点和谷值点的走势，当噪声较弱或无噪声时，信号的上、下包络线的变化趋势接近一致且均较为平缓；若上、下包络线的局部变化趋势不一致且变化较大，则代表该局部信号中存在干扰较大的随机噪声信号。因此，评估上、下包络线趋势的差异可以分析信号中的噪声情况，进而获取信号中的噪声判定参数。优选地，获取噪声判断参数的方法为：选取原始信号中任意一个相位间隔中的任意一个时刻作为目标时刻，将目标时刻对应的上包络值和下包络值分别作为目标上包络值和目标下包络值；其中，目标时刻不包括相位间隔中的第一时刻；将目标时刻的前一相邻时刻对应的上包络值和下包络值分别作为相邻上包络值和相邻下包络值；根据目标上包络值与相邻上包络值获取目标时刻的上包络线斜率；根据目标下包络值与相邻下包络值获取目标时刻的下包络线斜率；将上包络线斜率与下包络线斜率的比值绝对值作为目标时刻的噪声存在可能值；计算常数1与噪声存在可能值的差值绝对值作为目标时刻的噪声判定参数。作为一个示例，选取原始信号中第z个相位间隔中的第r个时刻作为目标时刻，获取第r个时刻对应的上包络值和下包络值即分别为目标上包络值和目标下包络值，获取第r个时刻的前一相邻时刻即第r-1个时刻对应的上包络值和下包络值即分别为相邻上包络值和相邻下包络值，当第r个时刻为第z个相位间隔中的第一个时刻，即在第z个相位间隔中第r个时刻不存在前一相邻时刻，则不对第r个时刻进行分析，因此r＞1。本发明实施例将相邻的两个包络值之间的时间间隔设定为1，因此，获取的第r个时刻的上包络线斜率和下包络线斜率的分母均为1，可省略不写。获取上包络线斜率与下包络线斜率的比值绝对值作为第r个时刻的噪声存在可能值，计算常数1与噪声存在可能值的差值绝对值即第r个时刻的噪声判定参数。因此，第r个时刻的噪声判定参数的公式为：式中，为第z个相位间隔中的第r个时刻的噪声判定参数；为原始信号中第z个相位间隔中的第r个时刻的上包络值；为原始信号中第z个相位间隔中的第r-1个时刻的上包络值；为原始信号中第z个相位间隔中的第r个时刻的下包络值；为原始信号中第z个相位间隔中的第r-1个时刻的下包络值；为绝对值函数。需要说明的是，噪声存在可能值越趋近于1，第r个时刻的上包络线斜率与第r个时刻的下包络线斜率越对称，第r个时刻存在噪声的可能性越小，越小，越趋于0；注意在计算噪声存在可能值时均以同一个时刻下的上包络线斜率比上下包络线斜率，因为，噪声大多情况下叠加在原始信号的上包络线上，因此，峰值和上包络线更容易发生偏离，即噪声存在可能值越偏离1，代表该时刻下的上、下原始信号差异越大。因此，越大，噪声存在可能值越偏离1，第r个时刻存在噪声的可能性越大。根据获取第z个相位间隔中的第r个时刻的噪声判定参数的方法，获取原始信号中每个相位间隔中的每个时刻下的噪声判定参数。获取落差值。当原始信号中存在噪声时，存在噪声的区域与不存在噪声的区域之间的原始信号波动会有明显的差异，因此，通过峰值点去前一相邻的谷值点获取落差值，根据落差值分析原始信号的波动。优选地，获取落差值的方法为：将原始信号的每个相位间隔内的每个峰值点的幅值减去前一个相邻谷值点的幅值的差值，作为对应峰值点的落差值。作为一个示例，以获取噪声判定参数中的原始信号中第z个相位间隔中的第m个峰值点为例，将第m个峰值点的幅值减去前一相邻的谷值点的幅值的差值作为第m个峰值点的落差值，当第m个峰值点为第z个相位间隔中的第一个峰值点，且在第m个峰值点之前不存在谷值点，则第m个峰值点不参与计算，无需获取落差值。根据获取第z个相位间隔中的第m个峰值点的落差值的方法，获取原始信号中每个相位间隔中的每个峰值点的落差值。获取相关系数。每个相位间隔中的峰值点时刻的噪声判定参数与落差值的变化存在相关性，即当同一个峰值点对应时刻下噪声判定参数与落差值均变化越大，这说明该峰值点对应时刻受到的噪声越真实且干扰越大，则噪声判定参数与落差值的相关性越大；通过噪声判定参数与落差值来互相验证，提高了噪声干扰计算的准确性，避免了离散性计算对密集噪声无法识别的问题。当相位间隔受到的噪声干扰程度越大时，对噪声进行去噪，对应的滤波长度也应该越大，因此，根据相关性即相位间隔中的所有峰值点时刻的噪声判定参数与落差值的相关系数，调节相位间隔的滤波长度，获取符合实际的滤波长度。优选地，获取相关系数的方法为：选取原始信号中的任意一个相位间隔作为目标相位间隔；将目标相位间隔中的所有峰值点对应时刻的噪声判定参数构成第一集合，所有落差值构成第二集合；以第一集合和第二集合之间的皮尔逊相关系数作为目标相位间隔内的噪声判断参数与落差值的相关系数。作为一个示例，将获取噪声判定参数中的原始信号中第z个相位间隔作为目标相位间隔，将第z个相位间隔中的所有峰值点对应时刻的噪声判定参数构成第一集合，将第z个相位间隔中的所有峰值点对应的落差值构成第二集合；计算第一集合的均值和第二集合的均值即分别为平均噪声判定参数和平均落差值，将第i个时刻下的峰值点的噪声判定参数与落差值分别作为目标噪声判定参数与目标落差值，将目标噪声判定参数与平均噪声判定参数的差值作为第一目标差值；将目标落差值与平均落差值的差值作为第二目标差值；将第一目标差值与第二目标差值的乘积作为第i个时刻的相关值，根据获取第i个时刻的相关值的方法，获取第z个相位间隔中的每个峰值点对应时刻的相关值，根据相关值获取第z个相位间隔中第一集合与第二集合的协方差，其中，协方差为现有公式，在此不再进行过多赘述。因此，获取第z个相位间隔中的第一集合与第二集合的协方差的公式为：式中，为第z个相位间隔中的第一集合与第二集合的协方差；n为第z个相位间隔中的参与运算的峰值点的数量；为第i个时刻下的峰值点的落差值；为第二集合的均值即平均落差值；为第i个时刻下的峰值点的噪声判定参数；为第一集合的均值即平均噪声判定参数。需要说明的是，相关值越趋于0，第i个时刻下的第一集合与第二集合之间的相关性越小，第i个时刻受到的噪声干扰越小，越趋于0；因此，越趋于0，第一集合与第二集合越不存在影响，彼此越独立，存在噪声的可能性越小，受到噪声的干扰越小。协方差为衡量第z个相位间隔内所有峰值点处的落差值和噪声判定参数之间的相关性。获取第一集合的标准差作为第一标准差和第二集合的标准差作为第二标准差，根据协方差、第一标准差和第二标准差获取第z个相位间隔的相关系数。其中皮尔逊相关系数的获取方法为现有技术，在此不在进行过多赘述。因此，获取第z个相位间隔的相关系数的公式为：式中，为第z个相位间隔的相关系数；为第z个相位间隔中的第一集合与第二集合的协方差；为第z个相位间隔中的第二集合的标准差即第二标准差；为第z个相位间隔中的第一集合的标准差即第一标准差。需要说明的是，的取值范围为-1到1之间，当越远离0时，说明第一集合与第二集合之间的相关性越强，噪声判定参数越大，噪声越显著越突出，对应的落差值越大，说明第z个相位间隔中的噪声判定参数与落差值的关联关系越大，第z个相位间隔中的噪声真实存在且干扰越大。根据获取第z个相位间隔的相关系数的方法，获取原始信号中每个相位间隔的相关系数。滤波长度获取模块50，用于根据相关系数与相位间隔获取滤波长度。具体的，获得原始信号中所有相位间隔的相关系数后，相关系数越远离0即相关系数的绝对值越大则说明对应相关间隔中受到的噪声干扰程度越大，噪声干扰程度越大则滤波长度需要越大，即平滑度越高。因此，在每一个已获取的相位间隔基础上，再自适应一个滤波长度。优选地，获取滤波长度的方法为：将原始信号的每个相位间隔的长度与相关系数绝对值的乘积作为原始信号的对应相位间隔中的滤波长度。作为一个示例，以相关系数获取模块40中的原始信号中第z个相位间隔为例，获取第z个相位间隔中的滤波长度的公式为：式中，为第z个相位间隔中的滤波长度；为第z个相位间隔的相关系数；为第z个相位间隔的长度；为绝对值函数。需要说明的是，越大，说明第z个相位间隔中受到的噪声干扰程度越大，在对第z个相位间隔进行去噪时，需要的滤波长度越大，越大；越大，说明第z个相位间隔原本受到的噪声干扰程度就越大，调整获得的实际滤波长度应该越大，越大；因此，根据相位系数实质为噪声干扰程度自适应获取第z个相位间隔中的滤波长度，使得第z个相位间隔中的所有信号点均使用进行平滑去噪。根据获取第z个相位间隔中的滤波长度的方法，获取原始信号中每个相位间隔的滤波长度。智能调控模块60，用于根据滤波长度对原始信号进行去噪，获得去噪信号，根据去噪信号对空调进行智能调控。确定原始信号中每个相位间隔的自适应滤波长度后，采用滑动平均法对原始信号进行平滑去噪，获得去噪信号即去噪后的鼓风机功率信号，使得空调智能电控系统接收的数据更为真实，提高空调智能电控系统指令反馈的准确性和有效性。空调智能电控系统接收到去噪的鼓风机功率信号后，根据当前运行功率以及室内温度和湿度，通过空调智能电控系统的系统分析模块自动生成鼓风机功率信号的调节量，以保持室内的恒温环境；同时，根据当前功率消耗与室内温度等参数，减小鼓风机功率进而降低能量消耗，或者满足用户其他需求等。对于任何传感器的原始信号，均可以利用本发明实施例的预处理模块进行处理，获得对应的去噪信号，然后再输入空调智能电控系统得到准确的分析结果和反馈指令。至此，本发明完成。综上所述，本发明实施例获取原始信号；将原始信号分解为分量信号，将分量信号排序，获得分量序列，计算原始信号与分量序列中元素的差异获取残余信号；根据元素的上级分量信号与残余信号获取评估信号差异，筛选出噪声参考信号，确定相位间隔；根据信号点的上包络线斜率与下包络线斜率，获取噪声判断参数；获取峰值点与相邻谷值点的幅值差异作为落差值；获取噪声判断参数与落差值的相关系数；根据相关系数与相位间隔获取滤波长度；根据滤波长度获得去噪信号，根据去噪信号对空调进行智能调控。本发明根据噪声干扰程度，自适应获取滤波长度，使得去噪信号更真实，空调的指令反馈更准确有效。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。
