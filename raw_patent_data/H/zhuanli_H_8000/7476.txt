标题title
一种自动驾驶中相机坏点的检测方法及检测系统
摘要abst
本发明属于自动驾驶视觉感知检测技术领域，具体涉及一种自动驾驶中相机坏点的检测方法及检测系统，通过收集配有自动驾驶系统的车辆的相机拍摄出的图像；仿真出图像上的坏点；对仿真出坏点的图像进行打标；根据打标后的图像获取分割出相机坏点的神经网络模型；通过神经网络模型检测坏点；对检测出的坏点进行处理；实现了不仅能检测出静态坏点，还能检测出传统解决方式无法识别的动态坏点，能够适应配有自动驾驶系统的车辆在行驶过程下的动态环境。
权利要求书clms
1.一种自动驾驶中相机坏点的检测方法，其特征在于，包括：收集配有自动驾驶系统的车辆的相机拍摄出的图像；仿真出图像上的坏点；对仿真出坏点的图像进行打标；根据打标后的图像获取分割出相机坏点的神经网络模型；通过神经网络模型检测坏点；对检测出的坏点进行处理；坏点的种类包括：单坏点、双坏点、局部坏点和簇状坏点；所述单坏点为单个像素点坏死；所述双坏点为相邻两个像素点坏死；所述局部坏点为第一预设范围区域内出现连续位置的像素点坏死；所述簇状坏点为第二预设范围区域内出现非连续位置的像素点坏死；在坏点种类划分后，以语义分割的标准在仿真出坏点的图像上增加一类坏点种类。2.如权利要求1所述的自动驾驶中相机坏点的检测方法，其特征在于，所述收集配有自动驾驶系统的车辆的相机拍摄出的图像包括：使用一辆相机标定良好的自动驾驶专用采集车辆录制行驶过程中的视频，从该视频中提取图像作为数据集。3.如权利要求2所述的自动驾驶中相机坏点的检测方法，其特征在于，所述仿真出图像上的坏点包括：从数据集中随机抽取图像，在图像上仿真出坏点；所述仿真的方法包括：图像处理软件人工标记和/或通过OpenCV图像处理库自动生成。4.如权利要求3所述的自动驾驶中相机坏点的检测方法，其特征在于，所述根据打标后的图像获取分割出相机坏点的神经网络模型包括：通过图像分割算法训练打标后的图像直至算法收敛，获取分割出相机坏点的神经网络模型。5.如权利要求4所述的自动驾驶中相机坏点的检测方法，其特征在于，所述通过神经网络模型检测坏点包括：通过神经网络模型替换自动驾驶算法中原有分割模型，以对坏点进行检测。6.如权利要求5所述的自动驾驶中相机坏点的检测方法，其特征在于，所述对检测出的坏点进行处理包括：收集相机图像中的坏点位置和数量；若坏点数量大于最大阈值和/或坏点数量聚成团状且位于图像中、下部分，则触发图像质量过差的诊断信息；若坏点数量小于最小阈值和/或仅位于图像上方五分之一区域以内，则对坏点进行填充。7.如权利要求6所述的自动驾驶中相机坏点的检测方法，其特征在于，所述对坏点进行填充的方法包括：使用相邻像素点的灰度均值对坏点位置进行填充；使用外层t圈像素点填充图像中第n行m列坏点的灰度值G；。8.一种采用如权利要求1所述自动驾驶中相机坏点的检测方法的检测系统，其特征在于，包括：收集模块，收集配有自动驾驶系统的车辆的相机拍摄出的图像；仿真模块，仿真出图像上的坏点；打标模块，对仿真出坏点的图像进行打标；训练模块，根据打标后的图像获取分割出相机坏点的神经网络模型；检测模块，通过神经网络模型检测坏点；处理模块，对检测出的坏点进行处理。
说明书desc
技术领域本发明属于自动驾驶视觉感知检测技术领域，具体涉及一种自动驾驶中相机坏点的检测方法及检测系统。背景技术随着大数据、云计算及AI技术的发展，全球汽车产业正向电动化、智能化，网联化方向转型。全球自动驾驶产业规模不断壮大，技术创新日新月异，商用探索迈入新阶段。摄像头提供的图像作为自动驾驶技术环境感知信息的主要依赖，图像需要有可靠的质量保证。由于生产过程中相机内部半导体芯片的杂质颗粒、刻蚀工艺或外部环境温度变化等问题，相机成像出来的图像中会出现较周围像素点过亮、过暗的坏点。坏点的传统解决方式是分别拍摄全黑全白物体对比像素点灰度值看出，该方式只能在特定场景下检测出相机的坏点，无法动态地检测出相机因使用时长导致的零部件老化或外部环境温变化产生的坏点，即无法适应在配有自动驾驶系统的车辆在行驶过程下的动态环境。因此，基于上述技术问题需要设计一种新的自动驾驶中相机坏点的检测方法及检测系统。发明内容本发明的目的是提供一种自动驾驶中相机坏点的检测方法及检测系统。为了解决上述技术问题，本发明提供了一种自动驾驶中相机坏点的检测方法，包括：收集配有自动驾驶系统的车辆的相机拍摄出的图像；仿真出图像上的坏点；对仿真出坏点的图像进行打标；根据打标后的图像获取分割出相机坏点的神经网络模型；通过神经网络模型检测坏点；对检测出的坏点进行处理；坏点的种类包括：单坏点、双坏点、局部坏点和簇状坏点；所述单坏点为单个像素点坏死；所述双坏点为相邻两个像素点坏死；所述局部坏点为第一预设范围区域内出现连续位置的像素点坏死；所述簇状坏点为第二预设范围区域内出现非连续位置的像素点坏死；在坏点种类划分后，以语义分割的标准在仿真出坏点的图像上增加一类坏点种类。进一步，所述收集配有自动驾驶系统的车辆的相机拍摄出的图像包括：使用一辆相机标定良好的自动驾驶专用采集车辆录制行驶过程中的视频，从该视频中提取图像作为数据集。进一步，所述仿真出图像上的坏点包括：从数据集中随机抽取图像，在图像上仿真出坏点；所述仿真的方法包括：图像处理软件人工标记和/或通过OpenCV图像处理库自动生成。进一步，所述根据打标后的图像获取分割出相机坏点的神经网络模型包括：通过图像分割算法训练打标后的图像直至算法收敛，获取分割出相机坏点的神经网络模型。进一步，所述通过神经网络模型检测坏点包括：通过神经网络模型替换自动驾驶算法中原有分割模型，以对坏点进行检测。进一步，所述对检测出的坏点进行处理包括：收集相机图像中的坏点位置和数量；若坏点数量大于最大阈值和/或坏点数量聚成团状且位于图像中、下部分，则触发图像质量过差的诊断信息；若坏点数量小于最小阈值和/或仅位于图像上方五分之一区域以内，则对坏点进行填充。进一步，所述对坏点进行填充的方法包括：使用相邻像素点的灰度均值对坏点位置进行填充；使用外层t圈像素点填充图像中第n行m列坏点的灰度值G；。另一方面，本发明还提供一种采用上述自动驾驶中相机坏点的检测方法的检测系统，包括：收集模块，收集配有自动驾驶系统的车辆的相机拍摄出的图像；仿真模块，仿真出图像上的坏点；打标模块，对仿真出坏点的图像进行打标；训练模块，根据打标后的图像获取分割出相机坏点的神经网络模型；检测模块，通过神经网络模型检测坏点；处理模块，对检测出的坏点进行处理。本发明的有益效果是，本发明通过收集配有自动驾驶系统的车辆的相机拍摄出的图像；仿真出图像上的坏点；对仿真出坏点的图像进行打标；根据打标后的图像获取分割出相机坏点的神经网络模型；通过神经网络模型检测坏点；对检测出的坏点进行处理；实现了不仅能检测出静态坏点，还能检测出传统解决方式无法识别的动态坏点，能够适应配有自动驾驶系统的车辆在行驶过程下的动态环境。本发明的其他特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点在说明书以及附图中所特别指出的结构来实现和获得。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明的一种自动驾驶中相机坏点的检测方法的流程图；图2是本发明的一种自动驾驶中相机坏点的检测方法的具体流程图；图3是本发明的检测系统的原理框图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合附图对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例1如图1至图3所示，本实施例1提供了一种自动驾驶中相机坏点的检测方法，包括：收集配有自动驾驶系统的车辆的相机拍摄出的图像；仿真出图像上的坏点；对仿真出坏点的图像进行打标；根据打标后的图像获取分割出相机坏点的神经网络模型；通过神经网络模型检测坏点；对检测出的坏点进行处理；实现了不仅能检测出静态坏点，还能检测出传统解决方式无法识别的动态坏点，能够适应配有自动驾驶系统的车辆在行驶过程下的动态环境。在本实施例中，所述收集配有自动驾驶系统的车辆的相机拍摄出的图像包括：使用一辆相机标定良好的自动驾驶专用采集车辆录制行驶过程中的视频，从该视频中提取图像作为数据集，为了在一定程度上保证后期神经网络分割算法的泛化能力，要求数据集的场景覆盖范围尽量广，图像数量尽量多。采集大量的图像可以使得后续的神经网络模型训练更加精准，使得神经网络模型可以适配更多的自动驾驶系统，在更多的行驶环境中可以准确的识别坏点；直接在相机的视频中获取图像，使得图像的获取难度明显降低，更加方便的获取大量的图像，通过大量的图像可以便于后续的神经网络模型训练更加精准。在本实施例中，所述仿真出图像上的坏点包括：从数据集中随机抽取一部分图像，在图像上仿真出坏点；所述仿真的方法包括：图像处理软件人工标记和/或通过OpenCV等图像处理库自动生成。在本实施例中，为了在一定程度上保证后期神经网络分割算法的准确性，坏点的类型需要尽量多，所述坏点的种类包括：单坏点、双坏点、局部坏点和簇状坏点；所述单坏点为单个像素点坏死；所述双坏点为相邻两个像素点坏死；所述局部坏点为第一预设范围区域内出现连续位置的像素点坏死；所述簇状坏点为第二预设范围区域内出现非连续位置的像素点坏死；第一预设范围区域和第二预设范围区域可以是相同大小的区域，也可以是不同大小的区域；通过设置多种坏点的种类可以使得后续神经网络模型训练的精准程度，使得自动驾驶技术环境感知信息更加准确。在本实施例中，所述对仿真出坏点的图像进行打标包括：以语义分割的标准在仿真出坏点的图像上增加一类坏点种类；动驾驶算法原有检测种类不做删减，如背景、行人、车辆、车道线、导流线、围栏、锥桶等，将坏点作为一类目标物检测；通过在图像上增加坏点种类的标记，使得在自动驾驶技术环境感知信息的标记更加多样化，使得自动驾驶技术环境感知信息更加准确。在本实施例中，所述根据打标后的图像获取分割出相机坏点的神经网络模型包括：通过图像分割算法训练打标后的图像直至算法收敛，获取可以分割出相机坏点的神经网络模型；通过该神经网络模型可以识别出图像中的坏点。在本实施例中，所述通过神经网络模型检测坏点包括：通过神经网络模型替换自动驾驶算法中原有分割模型，以对坏点进行检测。在本实施例中，所述对检测出的坏点进行处理包括：收集相机图像中的坏点位置和数量；若坏点数量大于最大阈值和/或坏点数量聚成团状且位于图像中、下部分，则触发图像质量过差的诊断信息，提示驾驶员主动接管，防止由于漏检行人、车辆等重要目标导致交通事故；若坏点数量小于最小阈值和/或仅位于图像上方五分之一区域以内，则对坏点进行填充；通过对坏点的处理可以更加精确的对目标进行感知，在检测到过多的坏点或坏点位置会影响检测精确度时，会及时进行报警以提醒驾驶员，避免危险的发生。在本实施例中，所述对坏点进行填充的方法包括：使用相邻像素点的灰度均值对坏点位置进行填充；使用外层t圈像素点填充图像中第n行m列坏点的灰度值G；；通过在不会影响近处目标的感知结果准确性的坏点或坏点数量较少时进行坏点的处理，提高识别的精确程度。实施例2在实施例1的基础上，本实施例2还提供一种采用实施例1中自动驾驶中相机坏点的检测方法的检测系统，包括：收集模块，收集配有自动驾驶系统的车辆的相机拍摄出的图像；仿真模块，仿真出图像上的坏点；打标模块，对仿真出坏点的图像进行打标；训练模块，根据打标后的图像获取分割出相机坏点的神经网络模型；检测模块，通过神经网络模型检测坏点；处理模块，对检测出的坏点进行处理；各模块的具体工作方法在实施例1中已经详细描述，在本实施例中不再赘述。综上所述，本发明通过收集配有自动驾驶系统的车辆的相机拍摄出的图像；仿真出图像上的坏点；对仿真出坏点的图像进行打标；根据打标后的图像获取分割出相机坏点的神经网络模型；通过神经网络模型检测坏点；对检测出的坏点进行处理；实现了不仅能检测出静态坏点，还能检测出传统解决方式无法识别的动态坏点，能够适应配有自动驾驶系统的车辆在行驶过程下的动态环境。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，附图中的流程图和框图显示了根据本发明的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本发明各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。所述功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上述依据本发明的理想实施例为启示，通过上述的说明内容，相关工作人员完全可以在不偏离本项发明技术思想的范围内，进行多样的变更以及修改。本项发明的技术性范围并不局限于说明书上的内容，必须要根据权利要求范围来确定其技术性范围。
