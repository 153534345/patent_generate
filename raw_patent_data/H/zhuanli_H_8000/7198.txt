标题title
一种基于z-wave的KTV灯光控制方法
摘要abst
一种基于z‑wave的KTV灯光控制方法，包括：获取用户所在KTV房间的所有控制组块，其中，控制组块用于控制灯光的模式；响应于对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种，生成用户指定的灯光输入指令；总控制器根据灯光输入指令，解析成灯光显示效果指令；根据灯光显示效果指令，以控制KTV灯光。本发明将灯光输入指令拆分成多个控制组块，以编程的形式，既简单易上手，方便用户操作使用，又能够增添娱乐氛围。
权利要求书clms
1.一种基于z-wave的KTV灯光控制方法，其特征在于，所述方法包括：步骤S1，获取用户所在KTV房间的所有控制组块，其中，控制组块用于控制灯光的模式；步骤S2，响应于对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种，生成用户指定的灯光输入指令；步骤S3，总控制器根据灯光输入指令，解析成灯光显示效果指令；步骤S4，根据灯光显示效果指令，以控制KTV灯光。2.根据权利要求1所述的一种基于z-wave的KTV灯光控制方法，其特征在于，控制组块至少分类为一级控制组块与二级控制组块，一级控制组块关联0个或至少一个二级控制组块，所有不关联二级控制组块的一级控制组块与二级控制组块带有0个或至少一个可选项。3.根据权利要求1所述的一种基于z-wave的KTV灯光控制方法，其特征在于，步骤S2进一步包括：当用户非首次对某个灯点击控制组块后，显示屏跳出处理模式的按钮，处理模式包括：叠拼处理模式与顺序排列处理模式，处理模式只能择一选择，每一种处理模式均关联或不关联预设的后续设置，叠拼处理模式不关联固定的后续设置，顺序排列处理模式关联的后续设置为顺序时长，所述后续设置用作顺序排列处理模式下前后的分割点。4.根据权利要求1所述的一种基于z-wave的KTV灯光控制方法，其特征在于，步骤S2进一步包括：获取歌曲的全部歌词信息，并展示在显示屏上，当用户非首次对某个灯点击控制组块后，显示屏跳出处理模式的按钮，处理模式包括：叠拼处理模式与顺序排列处理模式，处理模式只能择一选择，每一种处理模式均关联或不关联预设的后续设置，叠拼处理模式不关联固定的后续设置，顺序排列处理模式关联的后续设置为全部歌词信息中的歌词关键字，所述后续设置用作顺序排列处理模式下前后的分割点。5.根据权利要求1所述的一种基于z-wave的KTV灯光控制方法，其特征在于，步骤S2中，响应于对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种具体包括：响应于对多个控制组块进行叠拼处理、顺序排列处理、优先级并行排列处理或上述3种处理的其中一种或多种；且处理模式还包括优先级并行排列处理模式，优先级并行排列处理模式关联的后续设置为全部歌词信息中的歌词关键字。6.根据权利要求1所述的一种基于z-wave的KTV灯光控制方法，其特征在于，在步骤S2中，用户每完成一个控制组块，生成临时灯光输入指令，并由总控制器解析成灯光效果预览指令，用于在显示屏上供用户预览。7.一种基于z-wave的KTV灯光控制系统，用于执行权利要求1-6任一所述的方法，其特征在于，所述系统至少包括：显示屏、z-wave传输模块、总控制器；其中，显示屏用于获取用户所在KTV房间的所有控制组块，其中，控制组块用于控制灯光的模式，以及响应于对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种，生成用户指定的灯光输入指令；总控制器根据灯光输入指令，解析成灯光显示效果指令，以及根据灯光显示效果指令，以控制KTV灯光。
说明书desc
技术领域本发明属于智能控制领域，更具体的，涉及一种基于z-wave的KTV灯光控制方法。背景技术随着技术的进步，人类对精神生活的要求也越来越高。在舞厅、KTV、酒吧等场景下，通过对灯光进行控制，从而营造更好的场景氛围，愈发受到当代年轻人的追捧。然而，现有技术中对灯光的控制方法过于粗糙，既没有充分利用场景，也不具备良好的可实施性。发明内容为解决现有技术中存在的不足，本发明的目的在于解决上述缺陷，进而提出一种基于z-wave的KTV灯光控制方法。本发明采用如下的技术方案。本发明第一方面公开了一种基于z-wave的KTV灯光控制方法，所述方法包括：步骤S1，获取用户所在KTV房间的所有控制组块，其中，控制组块用于控制灯光的模式；步骤S2，响应于对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种，生成用户指定的灯光输入指令；步骤S3，总控制器根据灯光输入指令，解析成灯光显示效果指令；步骤S4，根据灯光显示效果指令，以控制KTV灯光。进一步的，控制组块至少分类为一级控制组块与二级控制组块，一级控制组块关联0个或至少一个二级控制组块，所有不关联二级控制组块的一级控制组块与二级控制组块带有0个或至少一个可选项。进一步的，步骤S2进一步包括：当用户非首次对某个灯点击控制组块后，显示屏跳出处理模式的按钮，处理模式包括：叠拼处理模式与顺序排列处理模式，处理模式只能择一选择，每一种处理模式均关联或不关联预设的后续设置，叠拼处理模式不关联固定的后续设置，顺序排列处理模式关联的后续设置为顺序时长，所述后续设置用作顺序排列处理模式下前后的分割点。进一步的，步骤S2进一步包括：获取歌曲的全部歌词信息，并展示在显示屏上，当用户非首次对某个灯点击控制组块后，显示屏跳出处理模式的按钮，处理模式包括：叠拼处理模式与顺序排列处理模式，处理模式只能择一选择，每一种处理模式均关联或不关联预设的后续设置，叠拼处理模式不关联固定的后续设置，顺序排列处理模式关联的后续设置为全部歌词信息中的歌词关键字，所述后续设置用作顺序排列处理模式下前后的分割点。进一步的，步骤S2中，响应于对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种具体包括：响应于对多个控制组块进行叠拼处理、顺序排列处理、优先级并行排列处理或上述3种处理的其中一种或多种；且处理模式还包括优先级并行排列处理模式，优先级并行排列处理模式关联的后续设置为全部歌词信息中的歌词关键字。进一步的，在步骤S2中，用户每完成一个控制组块，生成临时灯光输入指令，并由总控制器解析成灯光效果预览指令，用于在显示屏上供用户预览。本发明第二方面公开了一种基于z-wave的KTV灯光控制系统，包括：显示屏、z-wave传输模块、总控制器；其中，显示屏用于获取用户所在KTV房间的所有控制组块，其中，控制组块用于控制灯光的模式，以及响应于对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种，生成用户指定的灯光输入指令；总控制器根据灯光输入指令，解析成灯光显示效果指令，以及根据灯光显示效果指令，以控制KTV灯光。本发明的有益效果在于，与现有技术相比，本发明具有以下优点：本发明将灯光输入指令拆分成多个控制组块，以编程的形式，既简单易上手，方便用户操作使用，又能够增添娱乐氛围。本发明将灯光与具体的歌词相适应，从而实现KTV场景下对灯光的特殊控制。附图说明图1是一种基于z-wave的KTV灯光控制系统的示意图。图2是一种基于z-wave的KTV灯光控制方法的流程图。具体实施方式下面结合附图对本申请作进一步描述。以下实施例仅用于更加清楚地说明本发明的技术方案，而不能以此来限制本申请的保护范围。在介绍本发明的方法之前，首先介绍基于z-wave的KTV灯光控制系统，如图1所示，该系统至少包括：显示屏、z-wave传输模块、总控制器。其中，显示屏用于与用户进行交互以接收用户的灯光输入指令，总控制器用于接收灯光输入指令以控制KTV灯光。图1中只列举了3个KTV房间，但应当理解的是，本发明实施例中，KTV房间的数量可以是1，2或者大于3的任意数字。图1中每一个KTV房间的灯只画出2个，但应当理解的是，本发明实施例中，每一个KTV房间的灯的数量可以是任意数字。与图1相对应的，本发明公开了一种基于z-wave的KTV灯光控制方法，如图2所示，包括步骤S1~步骤S4。步骤S1，获取用户所在KTV房间的所有控制组块，其中，控制组块用于控制灯光的模式；进一步的，控制组块至少分类为一级控制组块与二级控制组块，一级控制组块关联0个或至少一个二级控制组块，所有不关联二级控制组块的一级控制组块与二级控制组块带有0个或至少一个可选项。上段中，控制组块可以代表一个编程块，一个灯可以对应多个控制组块，更准确的说，一个灯可以对应多个一级控制组块。需要说明的是，由于KTV房间内的灯光是预先排布好的，且一级控制组块关联多个二级控制组块也是预先设定好的，因此，控制组块也必然是预先设置好的。此外，步骤S1中的所有控制组块不会包含重复的控制组块。在一些实施例中，若灯为背景装饰灯，则其对应的控制组块可以是颜色组块与亮度组块；若灯为频闪灯，则其对应的控制组块可以是颜色组块、频率组块与亮度组块；若灯为扫描灯，则其对应的控制组块可以是颜色组块、方向组块与亮度组块。可理解的，上文中所提及的颜色组块、频率组块、方向组块与亮度组块均为一级控制组块。而亮度组块可以关联亮度递增组块、亮度递减组块、亮度振荡组块等二级控制组块；颜色组块可以关联红色组块、黄色组块、变色组块等二级控制组块。顾名思义，亮度递增组块至少应当关联2个可选项，分别是基数值与递增值，用于表示亮度的初始值与亮度递增的速率。红色组块可以不关联任何可选项。可选项是二级控制组块预先固定设置好的。步骤S2，响应于对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种，生成用户指定的灯光输入指令。步骤S3，总控制器根据灯光输入指令，解析成灯光显示效果指令。步骤S4，根据灯光显示效果指令，以控制KTV灯光。需要说明的是，在对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种，必须要选中某个具体的灯光。也就是说，控制组块必然是着落在某个具体的灯光上的。在本发明的第一实施例中，可以对控制组块仅进行简单的叠拼处理，例如：用户选中频闪灯，并点击频率组块，在本发明的实施例中，频率组块不关联二级控制组块，因此，其可以包含1个可选项为频率时长。设定好上述可选项后，例如是5，用户点击颜色组块，显示屏进而弹出颜色组块关联的红色组块、黄色组块、变色组块等二级控制组块，选中某个二级控制组块，例如是红色组块。以上2个控制组块构成全部的灯光输入指令，则最终的KTV灯光中，该频闪灯会以5s的频率进行频闪，其灯光颜色为红色。叠拼处理与顺序排列处理指的是作用在同一个灯光下2个控制组块之间的关系，在本段中，2个控制组块以叠拼处理的方式，2合1共同施加在同一个灯光，即频闪灯上。需要说明的是，由于其他灯光并未被输入至灯光输入指令中，同时频闪灯的一些其他信息，例如：亮度信息也并未输入至灯光输入指令中，则其效果为默认的效果。第一实施例的方式过于简单，很难满足用户的个性化需求。因此，在本发明的第二实施例中，用户选中频闪灯，并点击频率组块且可选项设置为5。用户点击颜色组块且可选项设置为红色组块，可选项设置结束后，用户选择处理模式为顺序排列处理模式，并设置顺序时长例如为100。以上2个控制组块构成全部的灯光输入指令，则最终的KTV灯光中，该频闪灯在前100s会以5s的频率进行频闪，100s后其灯光颜色为红色。即步骤S2进一步包括：当用户非首次对某个灯点击控制组块后，显示屏跳出处理模式的按钮，处理模式包括：叠拼处理模式与顺序排列处理模式，处理模式只能择一选择，每一种处理模式均关联或不关联预设的后续设置，叠拼处理模式不关联固定的后续设置，顺序排列处理模式关联的后续设置为顺序时长，所述后续设置用作顺序排列处理模式下前后的分割点。在第二实施例中，当用户非首次对某个灯点击控制组块后，显示屏会自动跳出处理模式的按钮，若选择顺序排列处理模式，则弹跳出设置顺序时长的按钮；若选择叠拼处理模式，相当于将第二实施例的2个控制组块的效果进行相加，则第二实施例的最终效果即为第一实施例的最终效果。第二实施例的缺陷在于，通常用户并不能够准确的把控时长，尤其是在KTV场景下，用户通过控制组块对KTV灯光进行某种特殊控制时，必然伴随着某种特定的需求。例如，当KTV即将播放歌曲A时，由于歌曲A的曲调前期柔和，而后期转入激昂，则用户的特定的需求就可以是在前后期的转折处切入顺序排列处理模式。而实际上，对歌曲A不足够熟悉的用户，不可能精准的记住前后期转折处的时间。此外，设置顺序时长的方法过于粗糙，在KTV场景下显得不够智能。基于上述缺陷，步骤S2进一步包括：获取歌曲的全部歌词信息，并展示在显示屏上，当用户非首次对某个灯点击控制组块后，显示屏跳出处理模式的按钮，处理模式包括：叠拼处理模式与顺序排列处理模式，处理模式只能择一选择，每一种处理模式均关联或不关联预设的后续设置，叠拼处理模式不关联固定的后续设置，顺序排列处理模式关联的后续设置为全部歌词信息中的歌词关键字，所述后续设置用作顺序排列处理模式下前后的分割点。在本发明的第三实施例中，歌曲为《枫》，用户选中频闪灯，并点击频率组块且可选项设置为5。用户点击颜色组块且可选项设置为红色组块，可选项设置结束后，用户选择处理模式为顺序排列处理模式，并设置歌词关键字例如为“缓缓飘落的枫叶像思念”。以上2个控制组块构成全部的灯光输入指令，则最终的KTV灯光中，该频闪灯在该歌词关键字前会以5s的频率进行频闪，该歌词关键字后其灯光颜色为红色。需要说明的是，《枫》中出现了多次歌词关键字，上段中的歌词关键字以第一次出现作为分割点。实际上仅依靠叠拼处理模式与顺序排列处理模式是不够灵活的，以《枫》为例，假设用户只希望进行一些简单处理，例如，在歌词同步至“枫叶”时，KTV渲染出大片的橙色，营造枫叶般的氛围，则《枫》中出现“枫叶”的次数为t次，那么顺序排列处理模式使用次数为2*t次。基于上述缺陷，步骤S2中，响应于对多个控制组块进行叠拼处理、顺序排列处理或上述2种处理的其中一种或多种具体包括：响应于对多个控制组块进行叠拼处理、顺序排列处理、优先级并行排列处理或上述3种处理的其中一种或多种；且处理模式还包括优先级并行排列处理模式，优先级并行排列处理模式关联的后续设置为全部歌词信息中的歌词关键字。叠拼处理、顺序排列处理、优先级并行排列处理分别对应叠拼处理模式、顺序排列处理模式、优先级并行排列处理模式。优先级并行排列处理模式的用于将特定的部分提取出来，使用新的控制组块。在本发明的第四实施例中，歌曲为《枫》，用户选中频闪灯，并点击频率组块且可选项设置为5；用户点击颜色组块且可选项设置为红色组块，可选项设置结束后，用户选择处理模式为优先级并行排列处理，并设置歌词关键字例如为“缓缓飘落的枫叶”。以上2个控制组块构成全部的灯光输入指令，则最终的KTV灯光中，该频闪灯在非歌词关键字时间内会以5s的频率进行频闪，而在该歌词关键字时间内其灯光颜色为红色。在本发明中，还可以提供效果预览的功能，也就是说，在步骤S2中，用户每完成一个控制组块，生成临时灯光输入指令，并由总控制器解析成灯光效果预览指令，用于在显示屏上供用户预览。考虑到这种频率的数据传输方式会对KTV显示屏等硬件造成损害，因此，本发明采用z-wave模式进行数据传输，其特点在于低功耗，由于KTV人多密集，z-wave有别于蓝牙、wifi等大量应用的频道，使得其控制上响应速度也更快，使用更自由，数据传输也更安全。总控制器还可以通过其他方式与用户的智能终端进行连接，并同时连接云端数据库以方便保存vip用户的灯光输入指令，可理解的，该灯光输入指令以歌曲的名称为关联。本发明申请人结合说明书附图对本发明的实施示例做了详细的说明与描述，但是本领域技术人员应该理解，以上实施示例仅为本发明的优选实施方案，详尽的说明只是为了帮助读者更好地理解本发明精神，而并非对本发明保护范围的限制，相反，任何基于本发明的发明精神所作的任何改进或修饰都应当落在本发明的保护范围之内。
