标题title
网址的判别方法及装置
摘要abst
本发明提供了一种网址的判别方法及装置，方法包括：获取输入的待判别网址；解析待判别网址的特征参数，以及，根据特征参数确定待判别网址的特征向量值；将特征向量值输入至训练好的判别模型中，通过判别模型对特征向量值进行判别，得到判别结果，以根据判别结果确定待判别网址的网址类型。本发明利用判别模型直接对待判别网址进行判别，该判别模型针对待判别网址的特征参数进行处理，可以对任意待判别网址准确判别，提高判别效率。判别模型为基于卷积网络CNN和Transformer模型构建的模型，利用Transformer的全局性对特征之间的联系进行处理，利用卷积神经网络的局部性能够提高判别效率，快速且准确地判别任意网址。
权利要求书clms
1.一种网址的判别方法，其特征在于，所述方法包括：获取输入的待判别网址；解析所述待判别网址的特征参数，以及，根据所述特征参数确定所述待判别网址的特征向量值；将所述特征向量值输入至训练好的判别模型中，通过所述判别模型对所述特征向量值进行判别，得到判别结果，以根据所述判别结果确定所述待判别网址的网址类型；其中，所述判别模型为基于卷积网络CNN和Transformer模型构建的模型；解析所述待判别网址的特征参数，以及，根据所述特征参数确定所述待判别网址的特征向量值的步骤，包括：针对输入的所述待判别网址，获取所述待判别网址的静态特征；获取所述待判别网址对应的输入流，并对所述输入流进行解析，得到所述待判别网址的多个动态特征；对多个所述动态特征和/或所述静态特征进行向量化处理，确定对应于所述判别模型的特征向量值；所述通过所述判别模型对所述特征向量值进行判别，得到判别结果的步骤，包括：通过所述判别模型计算所述待判别网址的特征向量值对应的计算指标；根据所述计算指标对应的指标范围确定所述待判别网址的网址类型。2.根据权利要求1所述的方法，其特征在于，所述方法还包括：获取预先存储的网址数据集；提取所述网址数据集的目标特征；将所述网址数据集的目标特征输入至预先设置的判别模型中，训练所述判别模型，以构建所述待判别网址对应的判别模型。3.根据权利要求2所述的方法，其特征在于，提取所述网址数据集的目标特征的步骤，包括：确定所述网址数据集中的每个网址的特征值的向量值；对所述向量值进行标准化处理，得到所述特征值对应的标准值；根据所述标准值对所述特征值进行筛选，将筛选后的所述特征值确定为所述目标特征。4.根据权利要求3所述的方法，其特征在于，对所述向量值进行标准化处理，得到所述特征值对应的标准值的步骤，包括：将所述向量值变换为预设向量范围内的标准向量值，得到所述标准值。5.根据权利要求3所述的方法，其特征在于，根据所述标准值对所述特征值进行筛选，将筛选后的所述特征值确定为所述目标特征的步骤，包括：根据所述标准值对应的特征值的方差对所述特征值进行过滤；将过滤后的特征值确定为所述网址的多个目标特征值；根据预设的标签对多个所述目标特征值分别进行相关性计算，得到每个所述目标特征值分别对应的卡方统计量；根据所述卡方统计量对多个目标特征值进行筛选，将筛选出的多个目标特征值确定为所述目标特征。6.根据权利要求2所述的方法，其特征在于，所述目标特征包括多个；将所述网址数据集的目标特征输入至预先设置的判别模型中，训练所述判别模型，以构建所述待判别网址对应的判别模型的步骤，包括：将多个所述目标特征输入至所述Transformer模型中，构建多个所述目标特征对应的权重矩阵；通过所述Transformer模型中的计算公式计算所述权重矩阵对应的向量注意力值；将所述向量注意力值存储为所述判别模型的计算参数，得到所述待判别网址对应的判别模型。7.根据权利要求6所述的方法，其特征在于，所述计算公式包括：；所述Q、K、V分别为多个所述目标特征对应的权重矩阵；所述 为Q和K的embedding维度；所述通过所述Transformer模型中的计算公式计算所述权重矩阵对应的向量注意力值的步骤，包括：将每个所述权重矩阵分为多个相邻的补丁窗口；通过所述计算公式对每个所述补丁窗口进行局部计算，以及通过滑窗操作计算每个所述补丁窗口的权值数据；对每个所述权值数据进行归一化，得到所述权值数据对应的权重数值；根据所述计算公式对每个权重数值进行带权求和，得到所述向量注意力值。8.一种网址的判别装置，其特征在于，所述装置包括：数据获取模块，用于获取输入的待判别网址；数据预处理模块，用于解析所述待判别网址的特征参数，以及，根据所述特征参数确定所述待判别网址的特征向量值；识别模块，用于将所述特征向量值输入至训练好的判别模型中，通过所述判别模型对所述特征向量值进行判别，得到判别结果，以根据所述判别结果确定所述待判别网址的网址类型；其中，所述判别模型为基于卷积网络CNN和Transformer模型构建的模型；所述数据预处理模块，还用于针对输入的所述待判别网址，获取所述待判别网址的静态特征；获取所述待判别网址对应的输入流，并对所述输入流进行解析，得到所述待判别网址的多个动态特征；对多个所述动态特征和/或所述静态特征进行向量化处理，确定对应于所述判别模型的特征向量值；所述识别模块，还用于通过所述判别模型计算所述待判别网址的特征向量值对应的计算指标；根据所述计算指标对应的指标范围确定所述待判别网址的网址类型。9.一种电子设备，包括存储器、处理器，所述存储器中存储有可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现上述权利要求1至7任一项所述的方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机可运行指令，计算机可运行指令在被处理器调用和运行时，所述计算机可运行指令促使所述处理器运行所述权利要求1至7任一项所述的方法。
说明书desc
技术领域本发明涉及网址判别技术领域，尤其涉及一种网址的判别方法及装置。背景技术目前，恶意网址检测方面主要包括以下两种做法：第一种是存储网址检测结果，维护一个恶意网址的黑名单，判别方式只用通过简单的查询，耗时很短，但这一方法并没有进行实质上的网址判别，且当新的恶意网址出现或恶意网址为自动生成时则会失效。第二种办法先是连接网址下载恶意网址的HTML文件，利用模型对页面内的文本、图片等元素进行分别识别，依据识别结果获取结果。而此种办法相对成本高，需要文本识别模型和图片识别模型，识别速度慢。综上，现有技术无法快速且准确地识别恶意网址。发明内容有鉴于此，本发明的目的在于提供一种网址的判别方法及装置，能够针对各种网址准确且快速地识别网址类型，快速识别出恶意网址。第一方面，本发明实施例提供了一种网址的判别方法，该方法包括：获取输入的待判别网址；解析待判别网址的特征参数，以及，根据特征参数确定待判别网址的特征向量值；将特征向量值输入至训练好的判别模型中，通过判别模型对特征向量值进行判别，得到判别结果，以根据判别结果确定待判别网址的网址类型；其中，判别模型为基于卷积网络CNN和Transformer模型构建的模型。结合第一方面，本发明实施例提供了第一方面的第一种可能的实施方式，其中，解析待判别网址的特征参数，以及，根据特征参数确定待判别网址的特征向量值的步骤，包括：针对输入的待判别网址，获取待判别网址的静态特征；获取待判别网址对应的输入流，并对输入流进行解析，得到待判别网址的多个动态特征；对多个动态特征和/或静态特征进行向量化处理，确定对应于判别模型的特征向量值。结合第一方面，本发明实施例提供了第一方面的第二种可能的实施方式，其中，方法还包括：获取预先存储的网址数据集；提取网址数据集的目标特征；将网址数据集的目标特征输入至预先设置的判别模型中，训练判别模型，以构建待判别网址对应的判别模型。结合第一方面，本发明实施例提供了第一方面的第三种可能的实施方式，其中，提取网址数据集的目标特征的步骤，包括：确定网址数据集中的每个网址的特征值的向量值；对向量值进行标准化处理，得到特征值对应的标准值；根据标准值对特征值进行筛选，将筛选后的特征值确定为目标特征。结合第一方面，本发明实施例提供了第一方面的第四种可能的实施方式，其中，对向量值进行标准化处理，得到特征值对应的标准值的步骤，包括：将向量值变换为预设向量范围内的标准向量值，得到标准值。结合第一方面，本发明实施例提供了第一方面的第五种可能的实施方式，其中，根据标准值对特征值进行筛选，将筛选后的特征值确定为目标特征的步骤，包括：根据标准值对应的特征值的方差对特征值进行过滤；将过滤后的特征值确定为网址的多个目标特征值；根据预设的标签对多个目标特征值分别进行相关性计算，得到每个目标特征值分别对应的卡方统计量；根据卡方统计量对多个目标特征值进行筛选，将筛选出的多个目标特征值确定为目标特征。结合第一方面，本发明实施例提供了第一方面的第六种可能的实施方式，其中，目标特征包括多个；将网址数据集的目标特征输入至预先设置的判别模型中，训练判别模型，以构建待判别网址对应的判别模型的步骤，包括：将多个目标特征输入至Transformer模型中，构建多个目标特征对应的权重矩阵；通过Transformer模型中的计算公式计算权重矩阵对应的向量注意力值；将向量注意力值存储为判别模型的计算参数，得到待判别网址对应的判别模型。结合第一方面，本发明实施例提供了第一方面的第七种可能的实施方式，其中，计算公式包括：；Q、K、V分别为多个目标特征对应的权重矩阵；为Q和K的embedding维度；通过Transformer模型中的计算公式计算权重矩阵对应的向量注意力值的步骤，包括：将每个权重矩阵分为多个相邻的补丁窗口；通过计算公式对每个补丁窗口进行局部计算，以及通过滑窗操作计算每个补丁窗口的权值数据；对每个权值数据进行归一化，得到权值数据对应的权重数值；根据计算公式对每个权重数值进行带权求和，得到向量注意力值。结合第一方面，本发明实施例提供了第一方面的第八种可能的实施方式，其中，通过判别模型对特征向量值进行判别，得到判别结果的步骤，包括：通过判别模型计算待判别网址的特征向量值对应的计算指标；根据计算指标对应的指标范围确定待判别网址的网址类型。第二方面，本发明实施例还提供一种网址的判别装置，装置包括：数据获取模块，用于获取输入的待判别网址；数据预处理模块，用于解析待判别网址的特征参数，以及，根据特征参数确定待判别网址的特征向量值；识别模块，用于将特征向量值输入至训练好的判别模型中，通过判别模型对特征向量值进行判别，得到判别结果，以根据判别结果确定待判别网址的网址类型；其中，判别模型为基于卷积网络CNN和Transformer模型构建的模型。第三方面，本发明实施例还提供一种电子设备，包括存储器、处理器，存储器中存储有可在处理器上运行的计算机程序，处理器执行计算机程序时实现上述方法的步骤。第四方面，本发明实施例还提供一种计算机可读存储介质，计算机可读存储介质存储有计算机可运行指令，计算机可运行指令在被处理器调用和运行时，计算机可运行指令促使处理器运行上述方法。本发明实施例带来了以下有益效果：本发明提供的一种网址的判别方法及装置，解析输入的待判别网址的特征参数，确定对应的特征向量值，再将该特征向量值输入至训练好的判别模型中，通过判别模型进行网址判别，其中，本发明实施例利用模型直接对待判别网址进行判别，该模型针对待判别网址的特征参数进行处理，可以对任意待判别网址准确判别，提高判别效率。此外，判别模型是基于卷积网络CNN和Transformer模型构建的模型，利用Transformer的全局性对特征之间的联系进行处理，利用卷积神经网络的局部性能够提高判别效率，本发明实施例能够快速且准确地判别任意网址。本发明的其他特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点在说明书以及附图中所特别指出的结构来实现和获得。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种网址的判别方法的流程图；图2为本发明实施例提供的另一种网址的判别方法的流程图；图3为本发明实施例提供的一种判别模型的训练流程图；图4为本发明实施例提供的一种网址的判别装置的结构示意图；图5为本发明实施例提供的另一种网址的判别装置的结构示意图；图6为本发明实施例提供的一种电子设备的结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合附图对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。目前，恶意网址检测方面主要包括以下两种做法：第一种是存储网址检测结果，维护一个恶意网址的黑名单，判别方式只用通过简单的查询，耗时很短，但这一方法并没有进行实质上的网址判别，且当新的恶意网址出现或恶意网址为自动生成时则会失效。第二种办法先是连接网址下载恶意网址的HTML文件，利用模型对页面内的文本、图片等元素进行分别识别，依据识别结果获取结果。而此种办法针对不同方面设计不同的模型，需要文本识别模型和图片识别模型，相对成本高，且，技术要求高，识别速度慢。其中，很多深度学习方法由于算力限制和特征选取粗糙，导致检测精度有待提高。综上，现有技术无法快速且准确地识别恶意网址。基于此，本发明实施例提供的一种网址的判别方法及装置，能够针对各种网址准确且快速地识别网址类型，快速识别出恶意网址。为便于对本实施例进行理解，首先对本发明实施例所公开的一种网址的判别方法进行详细介绍，图1示出了本发明实施例提供的一种网址的判别方法，如图1所示，该方法包括以下步骤：步骤S102，获取输入的待判别网址。步骤S104，解析待判别网址的特征参数，以及，根据特征参数确定待判别网址的特征向量值。对网址判别时，可以获取输入的待判别网址，再解析待判别网址的特征参数。其中，所解析的特征参数不仅包括待判别网址中的网页文本，也包括网页js源码，网址本身的信息，网页图片等，且，本发明实施例着重在不良内容特征抽取，针对不良内容识别恶意网址。具体的，本发明实施例利用训练好的判别模型进行网址判别，该判别模型通过特征向量值进行处理，故，得到待判别网址的特征参数后，本发明实施例还将特征参数进行向量化处理，以使上述判别模型根据该特征向量值进行网址判别。步骤S106，将特征向量值输入至训练好的判别模型中，通过判别模型对特征向量值进行判别，得到判别结果，以根据判别结果确定待判别网址的网址类型。在具体实现时，本发明实施例主要针对恶意网址进行判别，其中，本发明实施例还可以用于判别其余类型的网址，具体判别的网址类型在此不做限定。具体的，上述判别模型是预先针对恶意网址选取特征，再根据选取的特征训练机器学习分类模型得到的模型，以使用该模型直接实现对恶意网址的判别。上述判别模型为基于卷积网络CNN和Transformer模型构建的模型。Transformer模型是一种神经网络架构，利用多头自注意力机制提取序列中的重要特征，可以捕捉长距离依赖，且计算并行性较高，相比之前的循环神经网络有明显的优势。具体的，考虑到Transformer中的多头自注意力机制可以很好地学习网页的内容、图片等多方面信息，swin Transformer模型引入卷积神经网络的局部视野概念能够有效降低计算复杂度，所以本发明实施例提出了CNN-Swin Transformer，一种结合了卷积网络和swinTransformer的方法，该方法相对准确率高，且识别速度相对较快。其中，Transformer 的特征抽取能力比 RNN 系列的模型要好，Transformer可以动态建立输入序列的长程依赖关系，类似于一层全链接。本发明实施例提供的一种网址的判别方法，解析输入的待判别网址的特征参数，确定对应的特征向量值，再将该特征向量值输入至训练好的判别模型中，通过判别模型进行网址判别，其中，本发明实施例利用模型直接对待判别网址进行判别，该模型针对待判别网址的特征参数进行处理，可以对任意待判别网址准确判别，提高判别效率。此外，判别模型是基于卷积网络CNN和Transformer模型构建的模型，利用Transformer的全局性对特征之间的联系进行处理，利用卷积神经网络的局部性能够提高判别效率，本发明实施例能够快速且准确地判别任意网址。为了便于理解，在上述实施例的基础上，本发明实施例还提供了另一种网址的判别方法，图2示出了本发明实施例提供的另一种网址的判别方法的流程图，如图2所示，该方法包括以下步骤：步骤S202，获取输入的待判别网址。步骤S204，针对输入的待判别网址，获取待判别网址的静态特征。步骤S206，获取待判别网址对应的输入流，并对输入流进行解析，得到待判别网址的多个动态特征。具体的，待判别网址的特征参数包括待判别网址的静态特征和动态特征。其中，先输入待判别网址，通过http发送请求；再针对输入的待判别网址获取对应的静态特征；之后通过java的HttpURLConnection类链接上述待判别网址，获取该网址指示的网页的输入流，将上述网页保存到服务器，对该网页对应的html文件进行解析获取待判别网址的多个动态特征。步骤S208，对多个动态特征和/或静态特征进行向量化处理，确定对应于判别模型的特征向量值。获取到上述动态特征和静态特征后，根据网址的特征参数不完全相同，分别对应的静态特征和动态特征的内容也不相同，而上述静态特征和/或动态特征中可能存在无法直接识别计算的特征，如网页的文字内容，此时，可以对这些无法直接计算的特征进行向量化处理，以将这些特征也处理成可以输入训练好的判别模型的特征向量值，其中，上述特征向量值包括静态特征和动态特征中原有的数值数据，以及向量化处理后的特征向量值数据。具体的，可以利用grpc服务发送请求，将整合的上述动态特征经过python批量处理，以对动态特征和/或静态特征向量化处理。步骤S210，将特征向量值输入至训练好的判别模型中，通过判别模型计算待判别网址的特征向量值对应的计算指标。具体的，输入至训练好的判别模型的特征向量值为下述目标特征指示的特征向量值，该目标特征是在训练判别模型过程时确定的，其中，目标特征对应的特征向量值为输入至判别模型的关键信息，且，该目标特征是与预设标签相关性良好的数据，以使训练好的判别模型对待判别网址的上述特征向量值进行判别，得到准确的判别结果。在具体实现时，本发明实施例根据网址数据集训练判别模型，网址数据集中的各个网址包括多个特征值，并非每个特征值都能够表征该网址对应的网址类型，故，本发明实施例筛选网址数据集中各个网址的目标特征，以确定各个网址输入至判别模型中的关键信息，再将各个目标特征输入至判别模型中，对判别模型进行训练，得到相应的模型参数，也即下述向量注意力值。之后，训练好的判别模型可以根据其向量注意力值和待判别网址的上述特征向量值进行处理，得到待判别网址对应的判别结果。为了便于理解，图3示出了判别模型的训练流程图，如图3所示，本发明实施例的判别模型通过下述步骤S10-S12训练：步骤S10，获取预先存储的网址数据集。步骤S11，提取网址数据集的目标特征。本发明实施例中用于训练判别模型的网址为预先收集的恶意网址数据集，其中，为了达到比较好的效果，设计良好的特征必不可少，该良好的特征也即上述目标特征。也即，本发明实施例需要针对恶意网址数据集中的网址的特征进行选取，以得到上述良好的特征。其中，在选取特征之前，与上述待判别网址同理，网址数据集中的每个网址也存在静态特征和动态特征，其中，部分特征无法直接用于网址分析，故，本发明实施例还需对上述部分特征向量化处理，以确定网址数据集中的每个网址的特征值的向量值，该向量值中包括上述向量化处理后的部分特征和无需向量化处理的特征，使每个网址对应的特征值均为可分析的向量数据，再对上述向量值进行标准化处理，得到特征值对应的标准值，之后再根据标准值对特征值进行筛选，将筛选后的特征值确定为上述目标特征。具体的，上述部分特征值可以是网址的数字、文本等特征值，其中可以通过查询数据库的方式将上述特征值向量化处理，上述文本信息可以利用CountVectorizer获取向量值。进一步地，若特征对应的向量值的大小相差大，或方差比其他特征大出几个数量级，则很容易影响目标结果，故，本发明实施例还需对上述向量值进行标准化处理。其中，可以对上述特征值的向量值进行变换处理，将向量值变换为预设向量范围内的标准向量值，得到标准值。其中，上述预设向量范围可以指示为向量值的均值为0，标准差为1。也即，本发明实施例将特征值处理为其向量值的均值为0，标准差为1时，再对特征值进行特征选取，得到上述良好的特征。在对特征值进行特征选取时，可以根据上述标准值对特征值进行筛选，并将筛选后的特征值确定为目标特征。具体的，根据标准值对应的特征值的方差对特征值进行过滤，将过滤后的特征值确定为网址的多个目标特征值；再根据预设的标签对多个目标特征值分别进行相关性计算，得到每个目标特征值分别对应的卡方统计量，之后根据卡方统计量对多个目标特征值进行筛选，将筛选出的多个目标特征值确定为目标特征。在具体实现时，一个网页相关的特征有很多，html内容相关特征有网页包含超链接的数量，隐藏对象的数量，非对称HTML标签数量，视觉信息包括网页文本，js信息包括可疑对象的数量，JS事件的数量等等。可以采用相关性过滤进行特征选取，其中，率先使用方差进行方差过滤，即通过特征本身的方差来筛选特征，之后进行卡方过滤。具体而言，例如一个特征值的方差很小，说明这个特征值基本没什么差异，可能其中大多数值都一样，甚至整个特征值的取值都相同，那么这个特征对于样本区分没有什么作用。上述卡方过滤是针对离散型数据的相关性过滤。利用卡方检验类feature_selection.chi2计算特征和标签之间的卡方统计量，再依照卡方从高到低为特征排名，再结合feature_selection.SelectKBest来选出前K个分数最高的特征，借此除去独立于上述标签的无关特征，得到上述目标特征。其中，上述K 的具体数值根据需求设置，值得注意的是基于CNN模型的分类计算复杂度将是L的K次方，故，本发明实施例的上述K的具体数值不宜过多，否则计算量会变得很大，但过少的特征得出的结论准确性将非常低，故，本发明实施例将使用Swin Transformer模型进行计算量上的优化。步骤S12，将网址数据集的目标特征输入至预先设置的判别模型中，训练判别模型，以构建待判别网址对应的判别模型。在具体实现时，将多个目标特征输入至Transformer模型中，构建多个目标特征对应的权重矩阵，通过Transformer模型中的计算公式计算权重矩阵对应的向量注意力值。其中，Transformer的核心是注意力机制，希望将有限的注意力集中于重点上。上述注意力机制可以被描述为将查询向量query与source中已知的键向量key进行相似度计算，获得每个key的权值 ，再将上述权值进行归一化，以得到直接可用的权重，之后将权重和值向量value 进行带权求和，得到向量注意力值。具体的，上述计算公式包括：/＞其中，Q、K、V分别为多个目标特征对应的权重矩阵；为Q和K的embedding维度。具体的，softmax是神经网络模型中的一个操作。用于对一个向量进行归一化。Self-Attention认为均来自于source的向量，因此三者应该在生成机制上是一致的。Q、K、V可以是source向量本身，但是为了提升模型的拟合能力，将对source向量做线性变换。其中，本发明实施例定义了三个相互独立的权重矩阵，用于与输入的向量相乘获得三个矩阵，分别作为Q、K、V。矩阵W都是可以训练的，主要是起到一个缓冲的效果。上述计算公式的前半部分的分子部分可以理解为输入向量和结果的相关性值，该分子部分以矩阵与矩阵转置的内积形式表现。而softmax函数则是对其进行归一化，以获得权重矩阵，和V加权求和获取最终的向量注意力值。针对计算公式的前半部分的分母，假设Q，K里的元素的均值为0，方差为1，那么AT=QTK中元素的均值为0，方差为d，当d变得很大时，A中的元素的方差也会变得很大，如果A中的元素方差很大，那么Softmax的分布会趋于陡峭，为了使其分布“陡峭”程度与d解耦，从而使得训练过程中梯度值保持稳定，所以我们需要除以。多头注意力机制简单来说，相当于多个Self-Attention过程的融合。即将每个头对应的三个矩阵从输入向量中计算，n个头则有n个注意力值。 但是正如上文提及的基础Transformer模型计算量很大，在这种多个特征的场景下会造成计算速度慢的问题，故，本发明实施例引入补丁概念。具体而言，本发明实施例将每个权重矩阵分为多个相邻的补丁窗口；通过计算公式对每个补丁窗口进行局部计算，以及通过滑窗操作计算每个补丁窗口的权值数据；对每个权值数据进行归一化，得到权值数据对应的权重数值；根据计算公式对每个权重数值进行带权求和，得到向量注意力值。为了易于解释，假设模型特征只有二维，那么这种情况下可以将模型的每一层级的特征图视为二维图像，补丁则可以视为许多大小均等、构成图像的块，而窗口由多个相邻补丁组成。其中，每个窗口的大小可以进行形状调整。同时self-attentation将会跨越上一层的窗口边界，使得窗口和窗口之间可以进行连接 。在具体实现时，本发明实施例将输入分为补丁，对相邻的多个补丁进行简单的contact操作组成一个窗口，也即，将上述目标特征分别对应的每个权重矩阵分为多个相邻的补丁窗口。之后，对其进行局部计算，通过滑窗操作计算每个补丁窗口的权值数据，对每个权值数据进行归一化，得到权值数据对应的权重数值；根据计算公式对每个权重数值进行带权求和，得到向量注意力值。之后，再将向量注意力值存储为判别模型的计算参数，得到待判别网址对应的判别模型。进一步地，上述判别模型还可以使用CNN-MHSA等模型。上述滑窗操作方案通过将注意力计算限制到不重叠的局部窗口，同时还允许跨窗口连接 ，带来了更高的效率，在不损失Transformer模型全局性优势的情况下还引入了CNN局部卷积的概念。步骤S212，根据计算指标对应的指标范围确定待判别网址的网址类型。将得到的上述特征向量值输入至训练好的判别模型中，通过上述判别模型进行判断，得到上述特征向量值指示的计算指标，其中，上述判别模型的识别模块中的所有子层都是64维的，该计算指标为0到1之间的结果。具体的，不同的待判别模型对应的计算指标的数值不同，所指示的指标范围也不同，本发明实施例根据上述计算指标指示的指标范围确定该网址的网址类型。具体的，本发明实施例以0.5为指标范围参考，如，当待判别网址的计算指标小于等于0.5时，则确定该待判别网址为恶意网址。本发明实施例提供的另一种网址的判别方法，利用网址数据集中的多个网址对判别模型进行训练，以网址的目标特征训练上述判别模型，并以判别模型的输出结果对应的计算指标指示的指标范围确定待判别网址的网址类型，其中，上述目标特征为训练判别模型的过程中按照网址的特征值对应的相关性情况提取得到，参照网址中各个特征值的相关性联系进行特征值选取，从而能够筛选出良好的特征值，提升判别模型的判别精度，而上述判别网址输出结果指示的指标范围可以较快反映待判别网址与对应的网址类型的相关性程度，从而使本发明实施例可以准确且快速确定待判别网址的网址类型，保证判别准确性和判别效率。具体的，上述目标特征以向量值形式筛选得到，通过将向量值转换为预设范围内的标准值，按照对应的方差对标准值进行筛选，并对筛选后的标准值进行相关性计算得出上述目标特征，该目标特征是经过多次相关性处理得出的数据，以该数据训练判别模型能够使模型更为准确地得出判别结果，在本发明实施例不仅可以对任意网址进行判别的前提下，判别结果更为准确，适应性强。其中，上述判别模型在恶意网址的检测范围中应用，还引入滑窗方案减小该判别模型的局部视野，且减小空间复杂度，从而减小计算量，加快结果返回。进一步地，在上述方法实施例的基础上，本发明实施例还提供一种网址的判别装置，图4示出了本发明实施例提供的一种网址的判别装置的结构示意图，如图4所示，该装置包括：数据获取模块100，用于获取输入的待判别网址；数据预处理模块200，用于解析待判别网址的特征参数，以及，根据特征参数确定待判别网址的特征向量值；识别模块300，用于将特征向量值输入至训练好的判别模型中，通过判别模型对特征向量值进行判别，得到判别结果，以根据判别结果确定待判别网址的网址类型。其中，判别模型为基于卷积网络CNN和Transformer模型构建的模型。本发明实施例提供的一种网址的判别装置，与上述实施例提供的一种网址的判别方法具有相同的技术特征，所以也能解决相同的技术问题，达到相同的技术效果。进一步地，在图4的基础上，本发明实施例还提供另一种网址的判别装置，图5示出了本发明实施例提供的另一种网址的判别装置的结构示意图，如图5所示，上述数据预处理模块200，还用于针对输入的待判别网址，获取待判别网址的静态特征；获取静态特征中的输入流，并对输入流进行解析，得到待判别网址的多个动态特征；对多个动态特征和/或静态特征进行向量化处理，确定对应于判别模型的特征向量值。进一步地，该装置还包括模型训练模块400，用于获取预先存储的网址数据集；提取网址数据集的目标特征；将网址数据集的目标特征输入至预先设置的判别模型中，训练判别模型，以构建待判别网址对应的判别模型。其中，上述模型训练模块400，还用于确定网址数据集中的每个网址的特征值的向量值；对向量值进行标准化处理，得到特征值对应的标准值；根据标准值对特征值进行筛选，将筛选后的特征值确定为目标特征。上述模型训练模块400，还用于将向量值变换为预设向量范围内的标准向量值，得到标准值。上述模型训练模块400，还用于根据标准值对应的特征值的方差对特征值进行过滤；将过滤后的特征值确定为网址的多个目标特征值；根据预设的标签对多个目标特征值分别进行相关性计算，得到每个目标特征值分别对应的卡方统计量；根据卡方统计量对多个目标特征值进行筛选，将筛选出的多个目标特征值确定为目标特征。进一步地，上述目标特征包括多个；上述模型训练模块400，还用于将多个目标特征输入至Transformer模型中，构建多个目标特征对应的权重矩阵；通过Transformer模型中的计算公式计算权重矩阵对应的向量注意力值；将向量注意力值存储为判别模型的计算参数，得到待判别网址对应的判别模型。进一步地，上述计算公式包括：；Q、K、V分别为多个目标特征对应的权重矩阵；为Q和K的embedding维度。上述模型训练模块400，还用于将每个权重矩阵分为多个相邻的补丁窗口；通过计算公式对每个补丁窗口进行局部计算，以及通过滑窗操作计算每个补丁窗口的权值数据；对每个权值数据进行归一化，得到权值数据对应的权重数值；根据计算公式对每个权重数值进行带权求和，得到向量注意力值。上述识别模块300，还用于通过判别模型计算待判别网址的特征向量值对应的计算指标；根据计算指标对应的指标范围确定待判别网址的网址类型。本发明实施例还提供一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，处理器执行计算机程序时实现上述图1至图3所示的方法的步骤。本发明实施例还提供一种计算机可读存储介质，该计算机可读存储介质上存储有计算机程序，计算机程序被处理器运行时执行上述图1至图3所示的方法的步骤。本发明实施例还提供了一种电子设备的结构示意图，如图6所示，为该电子设备的结构示意图，其中，该电子设备包括处理器61和存储器60，该存储器60存储有能够被该处理器61执行的计算机可执行指令，该处理器61执行该计算机可执行指令以实现上述图1至图3所示的方法。在图6示出的实施方式中，该电子设备还包括总线62和通信接口63，其中，处理器61、通信接口63和存储器60通过总线62连接。其中，存储器60可能包含高速随机存取存储器，也可能还包括非易失性存储器，例如至少一个磁盘存储器。通过至少一个通信接口63实现该系统网元与至少一个其他网元之间的通信连接，可以使用互联网，广域网，本地网，城域网等。总线62可以是ISA总线、PCI总线或EISA总线等，还可以是AMBA总线，其中，AMBA定义了三种总线，包括APB总线、AHB总线和AXI总线。总线62可以分为地址总线、数据总线、控制总线等。为便于表示，图6中仅用一个双向箭头表示，但并不表示仅有一根总线或一种类型的总线。处理器61可能是一种集成电路芯片，具有信号的处理能力。在实现过程中，上述方法的各步骤可以通过处理器61中的硬件的集成逻辑电路或者软件形式的指令完成。上述的处理器61可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合本申请实施例所公开的方法的步骤可以直接体现为硬件译码处理器执行完成，或者用译码处理器中的硬件及软件模块组合执行完成。软件模块可以位于随机存储器，闪存、只读存储器，可编程只读存储器或者电可擦写可编程存储器、寄存器等本领域成熟的存储介质中。该存储介质位于存储器，处理器61读取存储器中的信息，结合其硬件完成前述图1至图3任一所示的方法。本发明实施例所提供的一种网址的判别方法及装置的计算机程序产品，包括存储了程序代码的计算机可读存储介质，所述程序代码包括的指令可用于执行前面方法实施例中所述的方法，具体实现可参见方法实施例，在此不再赘述。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。另外，在本发明实施例的描述中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。在本发明的描述中，需要说明的是，术语“中心”、“上”、“下”、“左”、“右”、“竖直”、“水平”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，术语“第一”、“第二”、“第三”仅用于描述目的，而不能理解为指示或暗示相对重要性。最后应说明的是：以上实施例，仅为本发明的具体实施方式，用以说明本发明的技术方案，而非对其限制，本发明的保护范围并不局限于此，尽管参照前述实施例对本发明进行了详细的说明，本领域技术人员应当理解：任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，其依然可以对前述实施例所记载的技术方案进行修改或可轻易想到变化，或者对其中部分技术特征进行等同替换；而这些修改、变化或者替换，并不使相应技术方案的本质脱离本发明实施例技术方案的精神和范围，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
