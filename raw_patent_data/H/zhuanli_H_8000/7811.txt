标题title
一种新能源储能电池分布式控制系统
摘要abst
本发明提供了一种新能源储能电池分布式控制系统，包括多个电池、一个顶层控制单元、多个中层控制单元以及多个底层控制单元，多个电池分为n组电池组，n组电池组与中层控制单元一一对应连接，中层控制单元受控于顶层控制单元，中层控制单元至少控制一个底层控制单元；底层控制单元用于获取电池的参数集。本发明的有益效果：通过获取每个中层控制单元的多个时间点的SOC容量集，并计算转换参数，通过神经网络模型选取对应的目标中层控制单元和均衡参数，对电池组之间进行均衡，可以将一部分电能多的电池中的电能转移至其他的电能少的电池中，减少损耗，提高放电效率，并且降低了电池工作时的温度。
权利要求书clms
1.一种新能源储能电池分布式控制系统，其特征在于，包括：多个电池、一个顶层控制单元、多个中层控制单元以及多个底层控制单元，其中，所述多个电池分为n组电池组，n组电池组与所述中层控制单元一一对应连接，所述中层控制单元受控于所述顶层控制单元，所述中层控制单元至少控制一个底层控制单元；所述底层控制单元包括电压检测模块、电流检测模块、温度检测模块和内阻测量模块，所述底层控制单元与电池一一对应连接，用于获取所述电池的参数集，所述电池组之间还设置有第一均衡电路，所述第一均衡电路受控于所述顶层控制单元，所述第一均衡电路用于均衡电池组之间的能量；所述底层控制单元与所述中层控制单元数据连接，所述中层控制单元与所述顶层控制单元数据连接；通过底层控制单元获取多个时间点处电池的参数集，并上传至所述中层控制单元；基于所述参数集通过神经网络法计算每个中层控制单元的多个时间点的SOC容量集；其中，表示时间为第i个中层控制单元的SOC容量，且；将各个所述SOC容量集中的每个元素分别输入公式中，得到每个SOC容量集对应的转换参数；其中，表示第i个中层控制单元对应的SOC容量集的转换参数；获取当前各个中层控制单元对应的实时第一SOC，并将各个中层控制单元的所述实时第一SOC和所述转换参数输入至预设神经网络模型中，得到待均衡的目标中层控制单元和均衡参数，并上传至所述顶层控制单元；其中，所述目标中层控制单元为所述中层控制单元；其中，所述预设神经网络模型通过不同的实时SOC与对应的转换参数作为输入，以待均衡的目标中层控制单元作为输出训练而成；通过所述顶层控制单元控制中层控制单元对应的目标电池组连通所述第一均衡电路，直至所述目标电池组之间的实时第一SOC的差值满足均衡参数。2.如权利要求1所述的新能源储能电池分布式控制系统，其特征在于，所述电池组内还设置有第二均衡电路，所述第二均衡电路受控于中间控制单元，还包括：通过中间控制单元获取电池组内各个电池的实时第二SOC；根据各个电池的实时第二SOC的数值，选取实时第二SOC最大的电池和实时第二SOC最小的电池连通所述第二均衡电路，直至二者的实时第二SOC的差值小于第二预设差值。3.如权利要求1所述的新能源储能电池分布式控制系统，其特征在于，所述第一均衡电路包括n个开关管、n个电感以及n组电池组，组成n个均衡子电路，n个均衡子电路中，第一个均衡子电路电池组的正极与开关管的输出端连接，所述开关管的输入端与电感的第一端连接，所述电感的第二端与所述电池组的负极连接；下一个均衡子电路中的均衡子电路的电池组的正极与上一个均衡子电路的电池组的负极连接，且下一个均衡子电路中的开关管的输入端与上一个均衡子电路的开关管的输出端连接，且下一个均衡子电路中的开关管的输入端还与下一个均衡子电路中的电池组的正极连接，且下一个均衡子电路中的开关管的输出端串联一个电感后与下一个均衡子电路中的电池组的负极连接，所述n个开关管的控制端与所述顶层控制单元连接，所述顶层控制单元用于控制各个开关管的通断。4.如权利要求1所述的新能源储能电池分布式控制系统，其特征在于，所述电压检测模块包括电压传感器，电压传感器并接于电池的正负极母线之间，所述电流检测模块包括电流传感器，电流传感器串接于电池的正极母线上；所述温度检测模块包括温度传感器，温度传感器贴于电池的表面；所述内阻测量模块包括内阻测量仪，内阻测量仪串接于动力电池组的正负极母线上。5.如权利要求1所述的新能源储能电池分布式控制系统，其特征在于，所述均衡电路还包括均衡时长记录单元；所述均衡时长记录单元用于记录单次均衡的时长；当单次均衡时长达到预设时长时，获取各个电池组之间的实时第一SOC的最大差值；当最大差值大于预设值时，则判定所述电池组需要修理。6.一种新能源储能电池分布式控制系统的电池均衡方法，其特征在于，所述电池均衡方法应用于权利要求1-5任一项所述的新能源储能电池分布式控制系统，所述新能源储能电池分布式控制系统包括多个电池、一个顶层控制单元、多个中层控制单元以及多个底层控制单元，其中，所述多个电池分为n组电池组，n组电池组与所述中层控制单元一一对应连接，所述中层控制单元受控于所述顶层控制单元，所述中层控制单元至少控制一个底层控制单元；所述底层控制单元包括电压检测模块、电流检测模块、温度检测模块和内阻测量模块，所述底层控制单元与电池一一对应连接，用于获取所述电池的参数集，所述电池组之间还设置有第一均衡电路，所述第一均衡电路受控于所述顶层控制单元，所述第一均衡电路用于均衡电池组之间的能量；所述底层控制单元与所述中层控制单元数据连接，所述中层控制单元与所述顶层控制单元数据连接；所述电池均衡方法包括：通过底层控制单元获取多个时间点处电池的参数集，并上传至所述中层控制单元；基于所述参数集通过神经网络法计算每个中层控制单元的多个时间点的SOC容量集；其中，表示时间为第i个中层控制单元的SOC容量，且；将各个所述SOC容量集中的每个元素分别输入公式中，得到每个SOC容量集对应的转换参数；其中，表示第i个中层控制单元对应的SOC容量集的转换参数；获取当前各个中层控制单元对应的实时第一SOC，并将各个中层控制单元的所述实时第一SOC和所述转换参数输入至预设神经网络模型中，得到待均衡的目标中层控制单元和均衡参数，并上传至所述顶层控制单元；其中，所述目标中层控制单元为所述中层控制单元；其中，所述预设神经网络模型通过不同的实时SOC与对应的转换参数作为输入，以待均衡的目标中层控制单元作为输出训练而成；控制中层控制单元对应的目标电池组连通所述第一均衡电路，直至所述目标电池组之间的实时第一SOC的差值满足均衡参数。7.一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求6所述方法的步骤。8.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求6所述的方法的步骤。
说明书desc
技术领域本发明涉及新能源储能电池领域，特别涉及一种新能源储能电池分布式控制系统。背景技术随着产品需求的不断扩大，新能源储能电池可包括多个单电池。储能电池在经过一些时间的充、放电过程之后，可能会导致每个单电池之间的电池电压不一致。当储能电池中串联的单电池有一个或多个单电池相对于其他单电池的放电过快或过慢时，就会发生不均衡的情形，如果出现了不均衡的情形，就会加快储能电池的老化进程，从而导致储能电池的使用寿命缩短。现有技术中对于电池均衡的过程，主要是通过在每个电池两端连接一个电阻和开关，当某个电池的电压高于设定阈值时，就通过电阻释放能量，然而这种方式会造成能量的损耗过高，且会提高电池的工作环境温度。发明内容本发明的主要目的为提供一种新能源储能电池分布式控制系统，旨在解决现有的电池均衡方法会造成能量的损耗过高的问题。本发明提供了一种新能源储能电池分布式控制系统，包括：多个电池、一个顶层控制单元、多个中层控制单元以及多个底层控制单元，其中，所述多个电池分为n组电池组，n组电池组与所述中层控制单元一一对应连接，所述中层控制单元受控于所述顶层控制单元，所述中层控制单元至少控制一个底层控制单元；所述底层控制单元包括电压检测模块、电流检测模块、温度检测模块和内阻测量模块，所述底层控制单元与电池一一对应连接，用于获取所述电池的参数集，所述电池组之间还设置有第一均衡电路，所述第一均衡电路受控于所述顶层控制单元，所述第一均衡电路用于均衡电池组之间的能量；所述底层控制单元与所述中层控制单元数据连接，所述中层控制单元与所述顶层控制单元数据连接；通过底层控制单元获取多个时间点处电池的参数集，并上传至所述中层控制单元；基于所述参数集通过神经网络法计算每个中层控制单元的多个时间点的SOC容量集；其中，表示时间为第i个中层控制单元的SOC容量，且；将各个所述SOC容量集中的每个元素分别输入公式中，得到每个SOC容量集对应的转换参数；其中，表示第i个中层控制单元对应的SOC容量集的转换参数；获取当前各个中层控制单元对应的实时第一SOC，并将各个中层控制单元的所述实时第一SOC和所述转换参数输入至预设神经网络模型中，得到待均衡的目标中层控制单元和均衡参数，并上传至所述顶层控制单元；其中，所述目标中层控制单元为所述中层控制单元；其中，所述预设神经网络模型通过不同的实时SOC与对应的转换参数作为输入，以待均衡的目标中层控制单元作为输出训练而成；通过所述顶层控制单元控制中层控制单元对应的目标电池组连通所述第一均衡电路，直至所述目标电池组之间的实时第一SOC的差值满足均衡参数。进一步地，所述电池组内还设置有第二均衡电路，所述第二均衡电路受控于中间控制单元，还包括：通过中间控制单元获取电池组内各个电池的实时第二SOC；根据各个电池的实时第二SOC的数值，选取实时第二SOC最大的电池和实时第二SOC最小的电池连通所述第二均衡电路，直至二者的实时第二SOC的差值小于第二预设差值。进一步地，所述第一均衡电路包括n个开关管、n个电感以及n组电池组，组成n个均衡子电路，n个均衡子电路中，第一个均衡子电路电池组的正极与开关管的输出端连接，所述开关管的输入端与电感的第一端连接，所述电感的第二端与所述电池组的负极连接；下一个均衡子电路中的均衡子电路的电池组的正极与上一个均衡子电路的电池组的负极连接，且下一个均衡子电路中的开关管的输入端与上一个均衡子电路的开关管的输出端连接，且下一个均衡子电路中的开关管的输入端还与下一个均衡子电路中的电池组的正极连接，且下一个均衡子电路中的开关管的输出端串联一个电感后与下一个均衡子电路中的电池组的负极连接，所述n个开关管的控制端与所述顶层控制单元连接，所述顶层控制单元用于控制各个开关管的通断。进一步地，所述电压检测模块包括电压传感器，电压传感器并接于电池的正负极母线之间，所述电流检测模块包括电流传感器，电流传感器串接于电池的正极母线上；所述温度检测模块包括温度传感器，温度传感器贴于电池的表面；所述内阻测量模块包括内阻测量仪，内阻测量仪串接于动力电池组的正负极母线上。进一步地，所述均衡电路还包括均衡时长记录单元；所述均衡时长记录单元用于记录单次均衡的时长；当单次均衡时长达到预设时长时，获取各个电池组之间的实时第一SOC的最大差值；当最大差值大于预设值时，则判定所述电池组需要修理。本发明还提供了一种新能源储能电池分布式控制系统的电池均衡方法，所述电池均衡方法应用于上述任一项所述的顶层控制单元，所述新能源储能电池分布式控制系统包括多个电池、一个顶层控制单元、多个中层控制单元以及多个底层控制单元，其中，所述多个电池分为n组电池组，n组电池组与所述中层控制单元一一对应连接，所述中层控制单元受控于所述顶层控制单元，所述中层控制单元至少控制一个底层控制单元；所述底层控制单元包括电压检测模块、电流检测模块、温度检测模块和内阻测量模块，所述底层控制单元与电池一一对应连接，用于获取所述电池的参数集，所述电池组之间还设置有第一均衡电路，所述第一均衡电路受控于所述顶层控制单元，所述第一均衡电路用于均衡电池组之间的能量；所述底层控制单元与所述中层控制单元数据连接，所述中层控制单元与所述顶层控制单元数据连接；所述电池均衡方法包括：通过底层控制单元获取多个时间点处电池的参数集，并上传至所述中层控制单元；基于所述参数集通过神经网络法计算每个中层控制单元的多个时间点的SOC容量集；其中，表示时间为第i个中层控制单元的SOC容量，且；将各个所述SOC容量集中的每个元素分别输入公式中，得到每个SOC容量集对应的转换参数；其中，表示第i个中层控制单元对应的SOC容量集的转换参数；获取当前各个中层控制单元对应的实时第一SOC，并将各个中层控制单元的所述实时第一SOC和所述转换参数输入至预设神经网络模型中，得到待均衡的目标中层控制单元和均衡参数，并上传至所述顶层控制单元；其中，所述目标中层控制单元为所述中层控制单元；其中，所述预设神经网络模型通过不同的实时SOC与对应的转换参数作为输入，以待均衡的目标中层控制单元作为输出训练而成；控制中层控制单元对应的目标电池组连通所述第一均衡电路，直至所述目标电池组之间的实时第一SOC的差值满足均衡参数。本发明还提供了一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现上述任一项所述方法的步骤。本发明还提供了一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上述任一项所述的方法的步骤。本发明的有益效果：通过获取每个中层控制单元的多个时间点的SOC容量集，并计算转换参数，通过神经网络模型选取对应的目标中层控制单元和均衡参数，对电池组之间进行均衡，通过电感组成的均衡电路可以将一部分电能多的电池中的电能转移至其他的电能少的电池中，相对于现有技术而言，可以有效的减少损耗，提高放电效率，并且降低了电池工作时的温度。附图说明图1 是本发明一实施例的一种新能源储能电池分布式控制系统的局部结构示意框图；图2 是本发明一实施例的一种新能源储能电池分布式控制系统的电池均衡方法的流程示意图；图3 为本申请一实施例的计算机设备的结构示意框图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明的一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明，本发明实施例中所有方向性指示仅用于解释在某一特定姿态下各部件之间的相对位置关系、运动情况等，如果该特定姿态发生改变时，则该方向性指示也相应地随之改变，所述的连接可以是直接连接，也可以是间接连接。本文中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，在本发明中如涉及“第一”、“第二”等的描述仅用于描述目的，而不能理解为指示或暗示其相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。另外，各个实施例之间的技术方案可以相互结合，但是必须是以本领域普通技术人员能够实现为基础，当技术方案的结合出现相互矛盾或无法实现时应当认为这种技术方案的结合不存在，也不在本发明要求的保护范围之内。本发明提出一种新能源储能电池分布式控制系统，包括：多个电池、一个顶层控制单元、多个中层控制单元以及多个底层控制单元，其中，所述多个电池分为n组电池组，n组电池组与所述中层控制单元一一对应连接，所述中层控制单元受控于所述顶层控制单元，所述中层控制单元至少控制一个底层控制单元；所述底层控制单元包括电压检测模块、电流检测模块、温度检测模块和内阻测量模块，所述底层控制单元与电池一一对应连接，用于获取所述电池的参数集，所述电池组之间还设置有第一均衡电路，所述第一均衡电路受控于所述顶层控制单元，所述第一均衡电路用于均衡电池组之间的能量；所述底层控制单元与所述中层控制单元数据连接，所述中层控制单元与所述顶层控制单元数据连接；通过底层控制单元获取多个时间点处电池的参数集，并上传至所述中层控制单元；基于所述参数集通过神经网络法计算每个中层控制单元的多个时间点的SOC容量集；其中，表示时间为第i个中层控制单元的SOC容量，且；将各个所述SOC容量集中的每个元素分别输入公式中，得到每个SOC容量集对应的转换参数；其中，表示第i个中层控制单元对应的SOC容量集的转换参数；获取当前各个中层控制单元对应的实时第一SOC，并将各个中层控制单元的所述实时第一SOC和所述转换参数输入至预设神经网络模型中，得到待均衡的目标中层控制单元和均衡参数，并上传至所述顶层控制单元；其中，所述目标中层控制单元为所述中层控制单元；其中，所述预设神经网络模型通过不同的实时SOC与对应的转换参数作为输入，以待均衡的目标中层控制单元作为输出训练而成；通过所述顶层控制单元控制中层控制单元对应的目标电池组连通所述第一均衡电路，直至所述目标电池组之间的实时第一SOC的差值满足均衡参数。其中，新能源储能电池可为任意可行电池，例如为锂离子电池、燃料电池、光伏电池等等。具体地，顶层控制单元、多个中层控制单元以及多个底层控制单元之间可以通过控制器局域网络进行通讯，信号能通过CAN通讯接口传输至CAN总线，并由CAN控制器通过CAN总线实现接收，其中各个控制单元具体可以是微处理器，CPU等处理装置。基于所述参数集通过神经网络法计算每个中层控制单元的多个时间点的SOC容量集。需要说明的是此处的SOC容量集是指整个串联后的电池组的SOC，从而得到对应的容量集，其中，各个电池在多次放电之后其损耗值也会有所差异，因此，需要将其中的通过获取多个时间点的容量集来进行计算，此处的各个时间点的容量集实际为各个时间点时对应各个电池组的容量集。具体地，将各个所述SOC容量集中的每个元素分别输入公式中，得到每个SOC容量集对应的转换参数；其中，表示第i个中层控制单元对应的SOC容量集的转换参数；当转换参数越大，说明该电池释放电量的速度也就越快，此时应当考虑给这部分电池进行更多的能量补充，即本申请并非仅仅只是基于各个电池的实时SOC进行计算，而是需要结合各个电池组的放电效率对其进行均衡，对于放电更快的电池需要补充更多的能量，即通过计算各个转换参数来作为均衡的一个参数，从而可以有效的减少均衡的次数，可以有效的提高均衡效率，具体为将其输入至预设的神经网络模型中，该模型通过不同的实时SOC与对应的转换参数作为输入，以待均衡的目标中层控制单元作为输出训练而成。通过所述顶层控制单元控制中层控制单元对应的目标电池组连通所述第一均衡电路，直至所述目标电池组之间的实时第一SOC的差值满足均衡参数，其中，第一均衡电路的具体形式不作限定，其一般是通过电感组成的均衡电路，通过电感组成的均衡电路可以将一部分电能多的电池中的电能转移至其他的电能少的电池中，相对于现有技术而言，可以有效的减少损耗，提高放电效率，并且降低了电池工作时的温度。另外，SOC的计算方式是通过现有的神经网络法进行计算，神经网络法应用于锂电池荷电状态检测的原理是：将大量相对应的电压、电流等外部数据以及电池的荷电状态数据作为训练样本，通过神经网络自身学习过程中输入信息的正向传播和误差传递的反向传播反复进行训练和修改，在预测的荷电状态达到设计要求的误差范围内时，通过输入新的数据来得到电池的荷电状态预测值。由于一部分电池的均衡是针对于个别电池而言的，但是这样的均衡方式会造成电池能量均衡较为缓慢，十分不利于具有许多单体电池的设备，因此将其进行分组，当然，若是某个电池组中电池之间的电压差别过大，则可以在电池组内进行电池电能的均衡。在一个实施例中，所述电池组内还设置有第二均衡电路，所述第二均衡电路受控于中间控制单元，还包括：通过中间控制单元获取电池组内各个电池的实时第二SOC；根据各个电池的实时第二SOC的数值，选取实时第二SOC最大的电池和实时第二SOC最小的电池连通所述第二均衡电路，直至二者的实时第二SOC的差值小于第二预设差值。本实施例中，还可以对电池组中的电池之间的均衡，此举是为了方式电池组之间的电压差别过大，具体地，获取电池组内各个电池的实时第二SOC，获取的方式与前述获取实时第一SOC的方式相似，都是通过神经网络法进行SOC的获取，然后选取实时第二SOC最大的电池和实时第二SOC最小的电池连通所述第二均衡电路，直至二者的实时第二SOC的差值小于第二预设差值，当然，若是其差值是小于第二预设差值的，则无需连通第二均衡电路。参照图1，在一个实施例中，所述第一均衡电路包括n个开关管、n个电感以及n组电池组，组成n个均衡子电路，n个均衡子电路中，第一个均衡子电路电池组的正极与开关管的输出端连接，所述开关管的输入端与电感的第一端连接，所述电感的第二端与所述电池组的负极连接；下一个均衡子电路中的均衡子电路的电池组的正极与上一个均衡子电路的电池组的负极连接，且下一个均衡子电路中的开关管的输入端与上一个均衡子电路的开关管的输出端连接，且下一个均衡子电路中的开关管的输入端还与下一个均衡子电路中的电池组的正极连接，且下一个均衡子电路中的开关管的输出端串联一个电感后与下一个均衡子电路中的电池组的负极连接，所述n个开关管的控制端与所述顶层控制单元连接，所述顶层控制单元用于控制各个开关管的通断。通过选取的待均衡的目标电池组，连通其对应的开关管，当然，此处并非是直接进行导通，而是需要设置占空比，将电能多的目标电池组向对应的电感进行充电，然后再通过电感对电能少的目标电池组进行充电，具体可以根据设置占空比完成，至于占空比的设置本申请不作限定，具体需要根据电池的容量和状态进行设定，保证其可以通过电感将电能多的目标电池组中的电能转移至电能少的目标电池组中即可。如图，其中B1、B2、B3、B4都是不同的电池组，电池组中至少包括了一个单电池，L1、L2、L3、L4为电感，S1、S2、S3、S4为开关管，开关管可以是三极管，MOS管等，本申请优选使用MOS管。在一个实施例中，所述电压检测模块包括电压传感器，电压传感器并接于电池的正负极母线之间，所述电流检测模块包括电流传感器，电流传感器串接于电池的正极母线上；所述温度检测模块包括温度传感器，温度传感器贴于电池的表面；所述内阻测量模块包括内阻测量仪，内阻测量仪串接于动力电池组的正负极母线上。当各个电压传感器了采集相关温度、电压、电流等参数集后并将其转换处理为数字信号给底层控制单元，底层控制单元则是用来接收各模块上传的信息，同时还会通过CAN通信模块完成与上下层和同层之间的通信工作，实现上下层之间数据的交换以及同层之间信息的共享。在一个实施例中，所述均衡电路还包括均衡时长记录单元；所述均衡时长记录单元用于记录单次均衡的时长；当单次均衡时长达到预设时长时，获取各个电池组之间的实时第一SOC的最大差值；当最大差值大于预设值时，则判定所述电池组需要修理。本实施例中，当单次的均衡时间过长时，则说明电池的均衡已经满足不了电能之间的转换效率了，此时，说明各个电池组之间的电压差距已经达到了一定值，这种情况下，电池的转换效率会非常缓慢，因此，需要进行进一步的修理，该预设时长为预先设置的时长。参照图2，本发明还提供了一种新能源储能电池分布式控制系统的电池均衡方法，所述电池均衡方法应用于上述所述的顶层控制单元，所述新能源储能电池分布式控制系统包括多个电池、一个顶层控制单元、多个中层控制单元以及多个底层控制单元，其中，所述多个电池分为n组电池组，n组电池组与所述中层控制单元一一对应连接，所述中层控制单元受控于所述顶层控制单元，所述中层控制单元至少控制一个底层控制单元；所述底层控制单元包括电压检测模块、电流检测模块、温度检测模块和内阻测量模块，所述底层控制单元与电池一一对应连接，用于获取所述电池的参数集，所述电池组之间还设置有第一均衡电路，所述第一均衡电路受控于所述顶层控制单元，所述第一均衡电路用于均衡电池组之间的能量；所述底层控制单元与所述中层控制单元数据连接，所述中层控制单元与所述顶层控制单元数据连接；所述电池均衡方法包括：S1：通过底层控制单元获取多个时间点处电池的参数集，并上传至所述中层控制单元；S2：基于所述参数集通过神经网络法计算每个中层控制单元的多个时间点的SOC容量集；其中，表示时间为第i个中层控制单元的SOC容量，且；S3：将各个所述SOC容量集中的每个元素分别输入公式中，得到每个SOC容量集对应的转换参数；其中，表示第i个中层控制单元对应的SOC容量集的转换参数；S4：获取当前各个中层控制单元对应的实时第一SOC，并将各个中层控制单元的所述实时第一SOC和所述转换参数输入至预设神经网络模型中，得到待均衡的目标中层控制单元和均衡参数，并上传至所述顶层控制单元；其中，所述目标中层控制单元为所述中层控制单元；其中，所述预设神经网络模型通过不同的实时SOC与对应的转换参数作为输入，以待均衡的目标中层控制单元作为输出训练而成；S5：控制中层控制单元对应的目标电池组连通所述第一均衡电路，直至所述目标电池组之间的实时第一SOC的差值满足均衡参数。如上述步骤所述，基于所述参数集通过神经网络法计算每个中层控制单元的多个时间点的SOC容量集。需要说明的是此处的SOC容量集是指整个串联后的电池组的SOC，从而得到对应的容量集，其中，各个电池在多次放电之后其损耗值也会有所差异，因此，需要将其中的通过获取多个时间点的容量集来进行计算。具体地，将各个所述SOC容量集中的每个元素分别输入公式中，得到每个SOC容量集对应的转换参数；其中，表示第i个中层控制单元对应的SOC容量集的转换参数，当转换参数越大，说明该电池释放电量的速度也就越快，此时应当考虑给这部分电池进行更多的能量补充，即本申请并非仅仅只是基于各个电池的实时SOC进行计算，而是需要结合各个电池组的放电效率对其进行均衡，对于放电更快的电池需要补充更多的能量，即通过计算各个转换参数来作为均衡的一个参数，从而可以有效的减少均衡的次数，可以有效的提高均衡效率，具体为将其输入至预设的神经网络模型中，该模型通过不同的实时SOC与对应的转换参数作为输入，以待均衡的目标中层控制单元作为输出训练而成。通过所述顶层控制单元控制中层控制单元对应的目标电池组连通所述第一均衡电路，直至所述目标电池组之间的实时第一SOC的差值满足均衡参数，其中，第一均衡电路的具体形式不作限定，其一般是通过电感组成的均衡电路，通过电感组成的均衡电路可以将一部分电能多的电池中的电能转移至其他的电能少的电池中，相对于现有技术而言，可以有效的减少损耗，提高放电效率，并且降低了电池工作时的温度。另外，SOC的计算方式是通过现有的神经网络法进行计算，神经网络法应用于锂电池荷电状态检测的原理是：将大量相对应的电压、电流等外部数据以及电池的荷电状态数据作为训练样本，通过神经网络自身学习过程中输入信息的正向传播和误差传递的反向传播反复进行训练和修改，在预测的荷电状态达到设计要求的误差范围内时，通过输入新的数据来得到电池的荷电状态预测值。由于一部分电池的均衡是针对于个别电池而言的，但是这样的均衡方式会造成电池能量均衡较为缓慢，十分不利于具有许多单体电池的设备，因此将其进行分组，当然，若是某个电池组中电池之间的电压差别过大，则可以在电池组内进行电池电能的均衡。本发明的有益效果：通过获取每个中层控制单元的多个时间点的SOC容量集，并计算转换参数，通过神经网络模型选取对应的目标中层控制单元和均衡参数，对电池组之间进行均衡，通过电感组成的均衡电路可以将一部分电能多的电池中的电能转移至其他的电能少的电池中，相对于现有技术而言，可以有效的减少损耗，提高放电效率，并且降低了电池工作时的温度。参照图3，本申请实施例中还提供一种计算机设备，该计算机设备可以是服务器，其内部结构可以如图3所示。该计算机设备包括通过系统总线连接的处理器、存储器、网络接口和数据库。其中，该计算机设计的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统、计算机程序和数据库。该内存器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的数据库用于存储各种容量集等。该计算机设备的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时可以实现上述任一实施例所述的新能源储能电池分布式控制方法。本领域技术人员可以理解，图3中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定。本申请实施例还提供一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时可以实现上述任一实施例所述的新能源储能电池分布式控制系统。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的和实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可以包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、增强型SDRAM、同步链路DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、装置、物品或者方法不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、装置、物品或者方法所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、装置、物品或者方法中还存在另外的相同要素。本申请实施例可以基于人工智能技术对相关的数据进行获取和处理。其中，人工智能（Artificial Intelligence，AI)是利用数字计算机或者数字计算机控制的机器模拟、延伸和扩展人的智能，感知环境、获取知识并使用知识获得最佳结果的理论、方法、技术及应用方法。人工智能基础技术一般包括如传感器、专用人工智能芯片、云计算、分布式存储、大数据处理技术、操作/交互系统、机电一体化等技术。人工智能软件技术主要包括计算机视觉技术、机器人技术、生物识别技术、语音处理技术、自然语言处理技术以及机器学习/深度学习等几大方向。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的权利要求范围之内。
