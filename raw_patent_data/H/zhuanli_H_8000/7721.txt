标题title
微波激光融合系统、通信链路的切换方法、设备及介质
摘要abst
本发明公开了一种微波激光融合系统、通信链路的切换方法、设备及介质，微波激光融合系统的信号发送端和信号接收端分别设置第一天气探测器和第二天气探测器，信号发送端和信号接收端之间通过激光通信链路和/或者微波通信链路进行通讯连接。通信链路的切换方法包括：获取第一天气检测器检测的当前天气状态，并确认当前天气状态对应的最大循环冗余反馈阈值；通过激光通信链路向信号接收端发送多个传输数据，接收信号接收端根据传输数据反馈的循环冗余校验结果，在确认循环冗余校验结果连续为目标循环冗余校验结果的目标次数达到最大循环冗余反馈阈值时，将针对当前的通信链路进行切换，从而，解决微波激光融合系统的接收端需要复杂的信道估计。
权利要求书clms
1.一种微波激光融合系统，其特征在于，所述微波激光融合系统的信号发送端和信号接收端分别设置第一天气探测器和第二天气探测器，所述信号发送端和所述信号接收端之间通过激光通信链路和/或者微波通信链路进行通讯连接。2.一种通信链路的切换方法，其特征在于，所述通信链路的切换方法应用于如权利要求1所述的微波激光融合系统的信号发送端，所述通信链路的切换方法包括以下步骤：获取所述第一天气检测器检测的当前天气状态，并确认所述当前天气状态对应的最大循环冗余反馈阈值；通过所述激光通信链路向所述信号接收端发送多个传输数据，接收所述信号接收端根据所述传输数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为目标循环冗余校验结果时，检测所述循环冗余校验结果连续为目标循环冗余校验结果的目标次数；确认所述目标次数是否达到所述最大循环冗余反馈阈值，若是，则针对当前的通信链路进行切换，其中，所述当前的通信链路为所述激光通信链路或者所述微波通信链路。3.如权利要求2所述的通信链路的切换方法，其特征在于，所述传输数据包括：通信数据，所述目标循环冗余校验结果包括：循环冗余校验错误和未收到循环校验反馈，所述目标次数包括：循环冗余校验错误次数；所述通过所述激光通信链路向所述信号接收端发送多个传输数据，接收所述信号接收端根据所述传输数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为目标循环冗余校验结果时，检测所述循环冗余校验结果为连续目标循环冗余校验结果的目标次数的步骤，包括：在当前通信链路为所述激光通信链路时，通过所述激光通信链路向所述信号接收端发送多个通信数据，接收所述信号接收端根据所述通信数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为循环冗余校验错误时，检测所述循环冗余校验结果连续为循环冗余校验错误的循环冗余校验错误次数。4.如权利要求3所述的通信链路的切换方法，其特征在于，在所述接收所述信号接收端根据所述通信数据反馈的循环冗余校验结果的步骤之后，所述方法还包括：确认所述循环冗余校验结果是否为循环冗余校验正确；若是，则向所述信号接收端发送新的通信数据；若否，则向所述信号接收端重复发送所述通信数据直至达到预设的最大重复发送阈值。5.如权利要求2所述的通信链路的切换方法，其特征在于，所述传输数据包括：链路探测包，所述目标循环冗余校验结果包括：循环冗余校验正确，目标次数包括：循环冗余校验正确次数；所述通过激光通信链路向所述信号接收端发送传输数据，接收所述信号接收端根据所述传输数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为目标循环冗余校验结果时，检测所述循环冗余校验结果为连续目标循环冗余校验结果的目标次数的步骤，包括：在当前通信链路为微波通信链路时，通过激光通信链路向所述信号接收端发送所述最大循环冗余反馈阈值次数的链路探测包，接收所述信号接收端根据所述链路探测包反馈的循环冗余校验结果，在确认所述循环冗余校验结果为循环冗余校验正确时，检测所述循环冗余校验结果连续为循环冗余校验正确的循环冗余校验正确次数。6.如权利要求2所述的通信链路的切换方法，其特征在于，在所述通过所述激光通信链路向所述信号接收端发送多个传输数据的步骤之后，所述方法还包括：检测在预设的时间段内未接收到所述信号接收端反馈的循环冗余校验结果的目标次数；确认所述目标次数是否达到所述最大循环冗余反馈阈值，若是，则针对当前的通信链路进行切换。7.如权利要求2至6任一项所述的通信链路的切换方法，其特征在于，所述针对当前的通信链路进行切换的步骤，包括：若当前的通信链路为所述激光通信链路，则将所述激光通信链路切换为所述微波通信链路；若当前的通信链路为所述微波通信链路，则将所述微波通信链路切换为所述激光通信链路。8.一种通信链路的切换方法，其特征在于，所述通信链路的切换方法应用于如权利要求1所述的微波激光融合系统的信号接收端，所述通信链路的切换方法包括以下步骤：获取所述第二天气检测器检测的当前天气状态，并确认所述当前天气状态对应的最大循环冗余反馈阈值；在当前的通信链路为微波通信链路时，向所述信号发送端发送所述最大循环冗余反馈阈值次数的链路探测包，接收所述信号发送端根据所述链路探测包反馈的循环冗余校验结果，在确认所述循环冗余校验结果为循环冗余校验正确时，检测所述循环冗余校验结果连续为目标循环冗余校验正确的目标次数；确认所述目标次数是否达到所述最大循环冗余反馈阈值，若是，则将当前的微波通信链路切换为激光通信链路。9.一种终端设备，其特征在于，所述终端设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的通信链路的切换程序，所述通信链路的切换程序被所述处理器执行时实现如权利要求2至8中任一项所述通信链路的切换方法的步骤。10.一种计算机存储介质，其特征在于，所述计算机存储介质上存储有通信链路的切换程序，所述通信链路的切换程序被处理器执行时实现如权利要求2至8中任一项所述的通信链路的切换方法的步骤。
说明书desc
技术领域本发明涉及通信技术领域，尤其涉及一种微波激光融合系统、通信链路的切换方法、终端设备以及计算机存储介质。背景技术随着激光通信技术的不断进步，激光通信相比微波具有通信容量大、传输速率高且抗电磁干扰性强等优势，但是，激光通信链路的通信易受天气条件的影响，在恶劣的天气下，通信链路的性能会受到大气信道的严重衰减，大幅影响激光通信系统的可靠性，对此，现有技术中采用微波和激光融合的方式。然而，现有的微波激光融合系统的切换主要是采用检测激光功率的方法，在激光功率低于门限值时，立即切换至备份的微波链路，此时依然测量激光功率，一旦激光功率高于门限值，系统就恢复成激光链路通信，这对激光链路功率测量的准确度提出了较高的要求，如果功率测量出现异常，则会造成光链路带宽浪费或者断链等问题，甚至有些光通信链路设备无法上报链路功率测量值，这样就无法利用上述方法进行链路切换。综上，现有微波激光融合系统的接收端需要复杂的信道估计与反馈，计算量大，复杂度高，进而对链路切换影响大。发明内容本发明的主要目的在于提供一种微波激光融合系统、通信链路的切换方法、终端设备以及计算机存储介质，旨在解决微波激光融合系统的接收端需要复杂的信道估计与反馈，计算量大，复杂度高，进而对链路切换影响大的技术问题。为实现上述目的，本发明提出一种微波激光融合系统，所述微波激光融合系统的信号发送端和信号接收端分别设置第一天气探测器和第二天气探测器，所述信号发送端和所述信号接收端之间通过激光通信链路和/或者微波通信链路进行通讯连接。为实现上述目的，本发明提供一种通信链路的切换方法，所述通信链路的切换方法应用于如上所述的微波激光融合系统的信号发送端，所述通信链路的切换方法包括以下步骤：获取所述第一天气检测器检测的当前天气状态，并确认所述当前天气状态对应的最大循环冗余反馈阈值；通过所述激光通信链路向所述信号接收端发送多个传输数据，接收所述信号接收端根据所述传输数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为目标循环冗余校验结果时，检测所述循环冗余校验结果连续为目标循环冗余校验结果的目标次数；确认所述目标次数是否达到所述最大循环冗余反馈阈值，若是，则针对当前的通信链路进行切换，其中，所述当前的通信链路为所述激光通信链路或者所述微波通信链路。可选地，所述传输数据包括：通信数据，所述目标循环冗余校验结果包括：循环冗余校验错误和未收到循环校验反馈，所述目标次数包括：循环冗余校验错误次数；所述通过所述激光通信链路向所述信号接收端发送多个传输数据，接收所述信号接收端根据所述传输数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为目标循环冗余校验结果时，检测所述循环冗余校验结果为连续目标循环冗余校验结果的目标次数的步骤，包括：在当前通信链路为所述激光通信链路时，通过所述激光通信链路向所述信号接收端发送多个通信数据，接收所述信号接收端根据所述通信数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为循环冗余校验错误时，检测所述循环冗余校验结果连续为循环冗余校验错误的循环冗余校验错误次数。可选地，在所述接收所述信号接收端根据所述通信数据反馈的循环冗余校验结果的步骤之后，包括：确认所述循环冗余校验结果是否为循环冗余校验正确；若是，则向所述信号接收端发送新的通信数据；若否，则向所述信号接收端重复发送所述通信数据直至达到预设的最大重复发送阈值。可选地，所述传输数据包括：链路探测包，所述目标循环冗余校验结果包括：循环冗余校验正确，目标次数包括：循环冗余校验正确次数；所述通过激光通信链路向所述信号接收端发送传输数据，接收所述信号接收端根据所述传输数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为目标循环冗余校验结果时，检测所述循环冗余校验结果为连续目标循环冗余校验结果的目标次数的步骤，包括：在当前通信链路为微波通信链路时，通过激光通信链路向所述信号接收端发送所述最大循环冗余反馈阈值次数的链路探测包，接收所述信号接收端根据所述链路探测包反馈的循环冗余校验结果，在确认所述循环冗余校验结果为循环冗余校验正确时，检测所述循环冗余校验结果连续为循环冗余校验正确的循环冗余校验正确次数。可选地，在所述通过所述激光通信链路向所述信号接收端发送多个传输数据的步骤之后，所述方法还包括：检测在预设的时间段内未接收到所述信号接收端反馈的循环冗余校验结果的目标次数；确认所述目标次数是否达到所述最大循环冗余反馈阈值，若是，则针对当前的通信链路进行切换。可选地，所述针对当前的通信链路进行切换的步骤，包括：若当前的通信链路为所述激光通信链路，则将所述激光通信链路切换为所述微波通信链路；若当前的通信链路为所述微波通信链路，则将所述微波通信链路切换为所述激光通信链路。为实现上述目的，本发明提供一种通信链路的切换方法，所述通信链路的切换方法应用于如上所述的微波激光融合系统的信号接收端，所述通信链路的切换方法包括以下步骤：获取所述第二天气检测器检测的当前天气状态，并确认所述当前天气状态对应的最大循环冗余反馈阈值；在当前的通信链路为微波通信链路时，向所述信号发送端发送所述最大循环冗余反馈阈值次数的链路探测包，接收所述信号发送端根据所述链路探测包反馈的循环冗余校验结果，在确认所述循环冗余校验结果为循环冗余校验正确时，检测所述循环冗余校验结果连续为目标循环冗余校验正确的目标次数；确认所述目标次数是否达到所述最大循环冗余反馈阈值，若是，则将当前的微波通信链路切换为激光通信链路。此外，为实现上述目的，本发明还提供一种终端设备，所述终端设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的通信链路的切换程序，所述通信链路的切换程序被所述处理器执行时实现如上述中的通信链路的切换方法的步骤。此外，为实现上述目的，本发明还提供一种计算机存储介质，所述计算机存储介质上存储有通信链路的切换程序，所述通信链路的切换程序被处理器执行时实现如上所述的通信链路的切换方法的步骤。本发明提出一种微波激光融合系统，所述微波激光融合系统的信号发送端和信号接收端分别设置第一天气探测器和第二天气探测器，所述信号发送端和所述信号接收端之间通过激光通信链路和/或者微波通信链路进行通讯连接。本发明通过信号发送端的天气探测器检测当前的天气，确认天气探测器对应的最大循环冗余反馈阈值，向信号接收端发送传输数据之后，接收信号接收端根据传输数据反馈的循环冗余校验结果，然后在确认循环冗余校验结果为目标循环冗余校验结果时，检测循环冗余校验结果为连续目标循环冗余校验结果的次数，在确认连续循环冗余校验结果的次数达到该最大循环冗余反馈阈值时，将当前的通信链路切换为激光通信链路和微波通信链路中的目标通信链路，并通过该目标通信链路进行通信。相比于传统的通过测量激光功率切换通信链路的方式，本发明通过信号发送端和信号接收端分别设置天气检测器，根据天气检测器检测的天气确认最大循环冗余反馈阈值，然后，根据激光链路的实时的数据的循环冗余效验反馈和该最大循环冗余反馈阈值一起判断光链路通信质量，在判断光链路的质量好的时候通过光链路发送数据，在判断光链路的质量不好的时候通过微波链路发送数据，从而，不需要信道状态的反馈，也不需要实时测量链路的信号质量，进而，减小了信道状态估计和信号质量测量的消耗和误差，并且，接收端减少了复杂的信道估计过程，极大程度上提高了传输效率。附图说明图1是本发明实施例方案涉及终端设备的硬件运行的结构示意图；图2是本发明一种通信链路的切换方法一实施例的流程示意图；图3是本发明一种通信链路的切换方法另一实施例所涉及的循环冗余效验反馈及数据重传流程示意图；图4是本发明一种通信链路的切换方法一实施例所涉及的循环冗余效验反馈时序；图5是本发明一种通信链路的切换方法一实施例所涉及的由光链路切换到微波链路流程示意图；图6是本发明一种通信链路的切换方法一实施例所涉及的由微波链路切换到光链路流程示意图；图7是本发明一种通信链路的切换方法一实施例所涉及的微波激光融合系统示意图。本发明目的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。如图1所示，图1是本发明实施例方案涉及终端设备的硬件运行环境的结构示意图。需要说明的是，图1即可为终端设备的硬件运行环境的结构示意图。本发明实施例终端设备可以是切换通信链路的设备，该终端设备具体可以是移动终端、数据存储控制终端、PC或者便携计算机等终端。如图1所示，该终端设备可以包括：处理器1001，例如CPU，网络接口1004，用户接口1003，存储器1005，通信总线1002。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口。存储器1005可以是非易失性存储器、高速RAM存储器，也可以是稳定的存储器，例如磁盘存储器。存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图1中示出的终端设备结构并不构成对终端设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如图1所示，作为一种计算机存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及通信链路的切换程序。其中，操作系统是管理和控制样本终端设备硬件和软件资源的程序，支持通信链路的切换程序以及其它软件或程序的运行。在图1所示的终端设备中，用户接口1003主要用于与各个终端进行数据通信；网络接口1004主要用于连接后台服务器，与后台服务器进行数据通信；而处理器1001可以用于调用存储器1005中存储的通信链路的切换程序。基于上述的终端设备，提出一种微波激光融合系统，所述微波激光融合系统的信号发送端和信号接收端分别设置第一天气探测器和第二天气探测器，所述信号发送端和信号接收端之间通过激光通信链路和/或者微波通信链路进行通讯连接。如图7所示的微波激光融合系统示意图，在微波激光融合系统的信号发送端和信号接收端分别设置天气探测器，需要说明的是，通过发送数据的主体来定义信号发送端和信号接收端，也即，信号发送端和信号接收端都可以互相传输数据，当第一端向第二端发送传输数据时，第一端作为信号发送端、第二端作为信号接收端，当第二端向第一端发送传输数据时，第二端作为信号发送端、第一端作为信号接收端。发送端可以通过微波物理层向接收端的微波物理层射频，也可以通过光链路物理层向接收端的光链路物理层射频，其中，微波链路和光链路物理层的编译码和调制解调等处理可以是不同的，并且，发送端的MAC层具有处理切换控制并数据重传传输数据的功能，接收端的MAC层具有循环冗余检测反馈的功能。基于上述的微波激光融合系统，提出本发明通信链路的切换方法的各实施例。请参照图2，图2为本发明通信链路的切换方法第一实施例的流程示意图。在本发明方法的第一实施例中，所述通信链路的切换方法应用于如上所述的微波激光融合系统的信号发送端，本发明所述通信链路的切换方法包括：步骤S10：获取所述第一天气检测器检测的当前天气状态，并确认所述当前天气状态对应的最大循环冗余反馈阈值；在本实施例中，信号发送端针对激光通信链路和微波通信链路切换时，获取该信号发送端的第一天气检测器检测的当前天气状态，并确认当前天气状态对应的最大循环冗余反馈阈值。需要说明的是，激光通信链路的通信易受天气条件的影响，即激光信号在雾、雪和沙尘暴等恶劣的天气条件下传输时，大气中的颗粒会使激光器功率产生损耗，即使在晴朗的天气下，大气湍流也会引起光信号的衰落效应，在强大气湍流条件的影响下，通信链路的性能会受到大气信道的严重衰减，大幅影响激光通信系统的可靠性。因此，可以将天气状态分为晴天、雨天和雾霾天，分别一一对应状态0、状态1和状态2，然后设置每个状态对应的最大循环冗余反馈阈值，信号发送端每1秒检查一次天气检测器上报的天气信息。步骤S20：通过激光通信链路向所述信号接收端发送传输数据，接收所述信号接收端根据所述传输数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为目标循环冗余校验结果时，检测所述循环冗余校验结果连续为目标循环冗余校验结果的目标次数；在本实施例中，信号发送端获取第一天气检测器检测的当前天气状态，并确认该当前天气状态对应的最大循环冗余反馈阈值之后，通过激光通信链路向信号接收端发送传输数据，接收信号接收端根据传输数据反馈的循环冗余校验结果，在确认该循环冗余校验结果为目标循环冗余校验结果时，检测循环冗余校验结果连续为目标循环冗余校验结果的目标次数。需要说明的是，无论是从激光通信链路切换为微波通信链路，还是从微波通信链路切换为激光通信链路，都是通过激光通信链路向信号接收端发送传输数据，也即，在判断激光通信链路的通信质量不好时，切换为微波通信链路，在判断激光通信链路的通信质量好时，再切换为激光通信链路。步骤S30：确认所述目标次数是否达到所述最大循环冗余反馈阈值，若是，则针对当前的通信链路进行切换，其中，所述当前的通信链路为所述激光通信链路或者所述微波通信链路。在本实施例中，信号发送端通过激光通信链路向信号接收端发送传输数据，接收信号接收端根据传输数据反馈的循环冗余校验结果，在确认该循环冗余校验结果为目标循环冗余校验结果时，检测循环冗余校验结果连续为目标循环冗余校验结果的目标次数之后，确认该目标次数是否达到最大循环冗余反馈阈值，若是，则将当前的通信链路切换为激光通信链路和微波通信链路中的目标通信链路，并通过该目标通信链路进行通信。需要说明的是，信号发送端根据信号接收端反馈的循环冗余校验结果是否为目标循环冗余校验结果，和，循环冗余校验结果连续为目标循环冗余校验结果的次数是否达到于当前天气对应的最大循环冗余反馈阈值确定是否确认通信链路。本发明通过信号发送端设置天气检测器，根据天气检测器检测的天气确认最大循环冗余反馈阈值，然后，根据激光链路的实时的数据的循环冗余效验反馈和该最大循环冗余反馈阈值一起判断光链路通信质量，在判断光链路的质量好的时候通过光链路发送数据，在判断光链路的质量不好的时候通过微波链路发送数据，从而，不需要信道状态的反馈，也不需要实时测量链路的信号质量，进而，减小了信道状态估计和信号质量测量的消耗和误差，并且，接收端减少了复杂的信道估计过程，极大程度上提高了传输效率。基于上述本发明通信链路的切换方法的第一实施例，提出本发明通信链路的切换方法的第二实施例。可选的，在一些可行的实施例中，所述传输数据包括通信数据，所述目标循环冗余校验结果包括：循环冗余校验错误，目标次数包括循环冗余校验错误次数；步骤S20包括：步骤S201：在当前通信链路为激光通信链路时，通过所述激光通信链路向所述信号接收端发送通信数据，接收所述信号接收端根据所述通信数据反馈的循环冗余校验结果，在确认所述循环冗余校验结果为循环冗余校验错误时，检测所述循环冗余校验结果连续为循环冗余校验错误的循环冗余校验错误次数。在本实施例中，信号发送端获取第一天气检测器检测的当前天气状态，并确认当前天气状态对应的最大循环冗余反馈阈值，然后，在当前通信链路为激光通信链路时，通过激光通信链路向信号接收端发送通信数据，接收信号接收端根据通信数据反馈的循环冗余校验结果，在确认循环冗余校验结果为循环冗余校验错误时，检测循环冗余校验结果连续为循环冗余校验错误的循环冗余校验错误次数。需要说明的是，信号接收端向信号发送端发送循环冗余校验反馈，信号发送端解析该循环冗余校验反馈字段，并确认循环冗余校验结果是否为循环冗余校验错误。需要说明的是，在当前通信链路为激光链路时，设置最大循环冗余反馈阈值为N，具体地，在天气状态为晴天时，可以设置最大循环冗余反馈阈值为120，天气状态0：N=120，在天气状态为雨天时，可以设置最大循环冗余反馈阈值为80，天气状态1：N=80，在天气状态为雾霾天时，可以设置最大循环冗余反馈阈值为40，天气状态2：N=40，也即，晴天对光链路影响最小，可以预留足够的纠错时间，雨天对光链路影响较大，可以预留纠错时间，雾霾天光链路影响最大，出现错误时直接切换为微波通信链路，从而，信号发送端根据混合链路天气状况，将激光链路分为三个信道状态，自适应选择不同信道状态下切换门限参数N，减小了不同信道状态时频繁切换的概率。在本实施例中，信号发送端通过激光通信链路向信号接收端发送多个传输数据，信号接收端将该传输数据的多个时隙循环冗余效验结果组合成一个或多个字节的循环冗余效验反馈字段，并将该循环冗余效验反馈字段作为多个循环冗余校验结果发送给信号发送端。需要说明的是，信号发送端和信号接收端各自设置物理层，物理层具有添加循环冗余校验和解循环冗余校验的功能，并将循环冗余校验结果上报给MAC层。需要说明的是，信号接收端为减小循环冗余效验反馈字段的数据处理难度，将8个时隙的循环冗余效验结果打包为一个字节同时反馈给发送端，则可以设计一帧中包含16个时隙，发送和接收各8个时隙，发送端存在8个重传进程并行运行。具体的，时隙0的循环冗余效验结果对应到循环冗余效验反馈字段中的bit0，时隙1对应到bit1，以此类推，信号接收端将时隙0至时隙7共8个时隙的循环冗余效验结果打包为一个字节发送给信号发送端，其中，bit的值为0时表示为NACK，即循环冗余效验错误，bit的值为1时表示为ACK，即循环冗余效验正确，每个发送时隙独立为一个重传进程，进程号与时隙号相同，即时隙0的重传进程号为0，时隙1的重传进程号为1，以此类推。需要说明的是，信号接收端将8个时隙的循环冗余效验结果打包为一个字节或者多个字节，并将该一个字节或者多个字节填充到帧头中发送回发送端，从而，不需要单独的信道状态的反馈消息，节省了控制信息的传输，也有助于提高数据的传输效率，其中，帧头为时隙8。示例性地，如图3所示的循环冗余效验反馈及数据重传流程示意图，参考图3中的发送端，Slot i代表第i时隙，信号发送端确认是否在第8时隙或者在第0时隙时进入，若是，则解析循环冗余校验反馈，并清除第i时隙的数据，发送新数据并缓存，若否，则重发第i时隙的数据。参考图3中的接收端，信号接收端确认是否在第8时隙或者在第0时隙时进入，若是，将该一个字节或者多个字节填充到帧头中发送回发送端，若不是，则在第7时隙或者在第15时隙进入，并组织当前时隙前8个时隙的循环冗余效验结果打包为一个字节或者多个字节，并将该一个字节或者多个字节填充到帧头中发送回发送端。可选地，在一些可行的实施例中，步骤S20中的所述“通过所述激光通信链路向所述信号接收端发送多个传输数据”的步骤之后，所述方法还包括：步骤A：检测在预设的时间段内未接收到所述信号接收端反馈的循环冗余校验结果的目标次数。在本实施例中，信号发送端通过所述激光通信链路向信号接收端发送多个传输数据之后，在预设的时间段内，检测未接收到信号接收端反馈的循环冗余校验结果的目标次数。示例性地，在本实施例中，在当前通信链路为激光通信链路时，通过激光通信链路向信号接收端发送通信数据，然后在预设的时间段内，未接收到信号接收端反馈的循环冗余校验结果时，检测连续未接收到信号接收端反馈的循环冗余校验结果的目标次数。步骤B：确认所述目标次数是否达到所述最大循环冗余反馈阈值，若是，则针对当前的通信链路进行切换。示例性地，在当前通信链路为激光通信链路时，信号发送端通过激光通信链路向信号接收端发送通信数据，然后在预设的时间段内未接收到信号接收端反馈的循环冗余校验结果，或者，接收到的循环冗余校验结果为循环冗余校验错误时，连续接收到的循环冗余校验结果为循环冗余校验错误的次数或者未接收到循环冗余校验结果次数，并在确认循环冗余校验错误次数或者未接收到信号接收端的循环冗余校验结果的次数连续达到当时天气对应的最大循环反馈阈值时，将当前的激光通信链路切换为微波通信链路。需要说明的是，无论信号发送端在接收到的循环冗余校验结果是错误，还是信号发送端未接收到循环冗余校验结果，都说明当前的激光通信链路质量差，因此，立即切换为微波通信链路发送通信数据。可选地，在一些可行的实施例中，步骤S201中的所述“接收所述信号接收端根据所述通信数据反馈的循环冗余校验结果”的步骤之后，本发明通信链路的切换方法，还包括：步骤S202：确认所述循环冗余校验结果是否为循环冗余校验错误；在本实施例中，信号发送端接收信号接收端根据通信数据反馈的循环冗余校验结果之后，进一步确认该循环冗余校验结果是否为循环冗余校验错误。步骤S203：若是，则向所述信号接收端重复发送该通信数据。在本实施例中，信号发送端确认循环冗余校验结果是否为循环冗余校验错误之后，若正确，则向信号接收端重复发送该通信数据。步骤S204：若否，则向所述信号接收端发送新的通信数据；在本实施例中，信号发送端确认循环冗余校验结果是否为循环冗余校验正确之后，若不正确，则向信号接收端发送新的通信数据。需要说明的是，信号发送端向信号接收端发送通讯数据之后，确认循环冗余校验结果是否为循环冗余校验错误或者未收到循环冗余校验结果，若是，则重复向信号接收端发送通信数据，直至收到信号接收端发送的循环冗余校验反馈环冗余校验正确时，向信号接收端发送新的通信数据，应当理解的是，无论信号发送端在接收到的循环冗余校验结果是错误，还是信号发送端未接收到循环冗余校验结果，都说明当前的激光通信链路质量差，因此，重新发送通信数据。如图4所示的循环冗余效验反馈时序图，采用了TDD方式的循环冗余效验反馈时序，TDD是移动通信系统中使用的全双工通信技术的一种，信号发送端每一帧发送一次数据，每帧包括16个时隙，8个发送时隙和8个接收时隙，TO至T7为发送时隙，RO至R7为接收时隙，图4中的第一行表示信号发送端，第二行表示结信号接收端。信号发送端设置最大重传次数，若最大重传次数为4次，则一包数据最大的发送时间为1包新的数据加4包重传数据共5包，即共5帧时间,信号发送端重传次数达到最大重传次数之后，将该数据从缓存中删除，继续发送下一包新数据，从而，增加了重传机制，通过重复传数据提高数据译码正确的概率，当激光链路遭遇的短暂的信道干扰或者轻微的干扰时，利用重传的增益提高译码的正确率，减少切换的次数，进而，提高激光链路的利用率。可选地，在一些可行的实施例中，步骤30，包括：步骤301：若当前的通信链路为所述激光通信链路，则将所述激光通信链路切换为微波通信链路。在本实施例中，在当前通信链路为激光通信链路时，信号发送端通过激光通信链路向信号接收端发送通信数据，接收信号接收端根据通信数据反馈的循环冗余校验结果，在确认循环冗余校验结果为循环冗余校验错误或者在未收到循环冗余校验结果时，检测循环冗余校验结果连续为循环冗余校验错误的循环冗余校验错误次数之后，确认循环冗余校验结果为循环冗余校验错误和未收到循环冗余校验结果的次数是否达到所述最大循环冗余反馈阈值，若是，则将当前的激光通信链路切换为微波通信链路。示例性地，如图5所示的由光链路切换到微波链路流程示意图，信号接收端每1秒获取天气状态，信号发送端通过光链路向信号接收端连续发送通讯数据，并解析CRC时，则立刻切换到微波通讯链路发送数据。若当前天气为雨天天气，则信号发送端获取的当前天气状态为1，即，状态1：N=80，信号发送端若连续接收到80次共10帧时间的NACK时，说明连续两次达到最大重传次数的传输错误，则立刻切换到微波通讯链路发送数据，因雨天对光链路影响没有雾霾天大，所以预留纠错的时间，防止了频繁切换，保证了输出数据流畅。若当前天气为晴天天气，则信号发送端获取的当前天气状态为0，即，状态0：N=120，信号发送端若连续接收到120次共15帧时间的NACK时，晴天时光链路状态较好，在连续三次出现数据达到最大重传次数，但数据仍然传输错误时，则立刻切换到微波通讯链路发送数据。需要说明的是，天气状态的分类可以根据具体地天气进行细分，在当前通信链路为激光通信链路时的最大循环冗余反馈阈值N也可以根据实际情况进行设置，从而，达到根据不同天气情况进行通信链路的自动切换。本发明通过信号发送端设置第一天气检测器，在当前通信链路为光通信链路时，根据第一天气检测器检测的天气确认最大循环冗余反馈阈值，然后，信号发送端向信号接收端发送通信数据，在接收到信号接收端根据通信数据反馈的循环冗余效验错误次数或者在未接收到循环冗余效验结果的次数连续达到该最大循环冗余反馈阈值时，将当前的光通信链路切换为微波通信链路，并通过微波通信链路进行通信，从而，不需要信道状态的反馈，也不需要实时测量链路的信号质量，进而，减小了信道状态估计和信号质量测量的消耗和误差，并且，接收端减少了复杂的信道估计过程，极大程度上提高了传输效率。基于上述的本发明通信链路的切换方法的第一实施例和/或第二实施例，提出本发明通信链路的切换方法的第三实施例。可选地，在一些可行的实施例中，所述传输数据包括链路探测包，所述目标循环冗余校验结果包括循环冗余校验正确，目标次数包括循环冗余校验正确次数；步骤S20，包括：步骤S203：在当前通信链路为微波通信链路时，通过激光通信链路向所述信号接收端发送所述最大循环冗余反馈阈值次数的链路探测包，接收所述信号接收端根据所述链路探测包反馈的循环冗余校验结果，在确认所述循环冗余校验结果为循环冗余校验正确时，检测所述循环冗余校验结果连续为循环冗余校验正确的循环冗余校验正确次数。在本实施例中，信号发送端获取第一天气检测器检测的当前天气状态，并确认该当前天气状态对应的最大循环冗余反馈阈值之后，在当前通信链路为微波通信链路时，通过激光通信链路向信号接收端发送最大循环冗余反馈阈值次数的链路探测包，接收信号接收端根据链路探测包反馈的循环冗余校验结果，在确认循环冗余校验结果为循环冗余校验正确时，检测循环冗余校验结果连续为循环冗余校验正确的循环冗余校验正确次数。需要说明的是，在当前通信链路为微波通信链路时，设置最大循环冗余反馈阈值为M，M和N可以相同，也可以不相同，具体地，在天气状态为晴天时，可以设置最大循环冗余反馈阈值为120，天气状态0：M=120，在天气状态为雨天时，可以设置最大循环冗余反馈阈值为80，天气状态1：M=80，在天气状态为雾霾天时，可以设置最大循环冗余反馈阈值为40，天气状态2：M=40，从而，信号发送端根据混合链路天气状况，将激光链路分为三个信道状态，自适应选择不同信道状态下切换门限参数M，减小了不同信道状态时频繁切换的概率。可选地，在一些可行的实施例中，步骤S30，包括：步骤S302：若当前的通信链路为所述微波通信链路，则将所述微波通信链路切换为激光通信链路。在本实施例中，信号发送端在当前通信链路为微波通信链路时，通过激光通信链路向信号接收端发送最大循环冗余反馈阈值次数的链路探测包，接收信号接收端根据链路探测包反馈的循环冗余校验结果，在确认循环冗余校验结果为循环冗余校验正确时，检测循环冗余校验结果连续为循环冗余校验正确的循环冗余校验正确次数之后，确认循环冗余校验正确次数是否达到最大循环冗余反馈阈值，若是，则将当前的微波通信链路切换为激光通信链路并通过激光通信链路进行通信。示例性地，如图6所示的由微波链路切换到光链路流程示意图，信号接收端每1秒获取天气状态，信号发送端通过光链路向信号接收端连续发送M个探测包，若信号接收端反馈的循环冗余校验结果为ACK，则切换回光链路继续发送数据。若当前天气为雾霾天气，则信号发送端获取的当前天气状态为2，即，状态2：M=40，信号发送端通过激光通信链路向信号接收端发送40次的链路探测包，信号发送端确认连续接收到信号接收端发送的40次共5帧时间的ACK时，说明激光通信链路质量良好，则则立刻切换到激光通讯链路发送数据。若当前天气为雨天天气，则信号发送端获取的当前天气状态为1，即，状态1：M=80，信号发送端若连续接收到80次共10帧时间的ACK时，则立刻切换到激光通讯链路发送数据。若当前天气为晴天天气，则信号发送端获取的当前天气状态为0，即，状态0：M=120，信号发送端若连续接收到120次共15帧时间的ACK时，则立刻切换到激光通讯链路发送数据。本发明通过信号发送端设置第一天气检测器，在当前通信链路为微波通信链路时，根据第一天气检测器检测的天气确认最大循环冗余反馈阈值，然后，信号发送端向信号接收端发送链路探测包，并接收信号接收端根据链路探测包反馈的循环冗余效验错误正确达到该最大循环冗余反馈阈值时，将当前的微波通信链路切换为通信链路，并通过光通信链路进行通信，从而，不需要信道状态的反馈，也不需要实时测量链路的信号质量，进而，减小了信道状态估计和信号质量测量的消耗和误差，并且，接收端减少了复杂的信道估计过程，极大程度上提高了传输效率。基于上述的本发明通信链路的切换方法的第一实施例和/或第二实施例，提出本发明通信链路的切换方法的第三实施例。可选地，在一些可行的实施例中，所述通信链路的切换方法应用于如上所述的微波激光融合系统的信号接收端，所述信号接收端和信号发送端之间分别通过激光通信链路和微波通信链路进行通讯连接，所述通信链路的切换方法包括以下步骤：步骤C：获取所述第二天气检测器检测的当前天气状态，并确认所述当前天气状态对应的最大循环冗余反馈阈值；在本实施例中，信号接收端进行通信链路切换时，获取信号接收端第二天气检测器检测的当前天气状态，并确认当前天气状态对应的最大循环冗余反馈阈值。步骤D：在当前的通信链路为微波通信链路时，向所述信号发送端发送所述最大循环冗余反馈阈值次数的链路探测包，接收所述信号发送端根据所述链路探测包反馈的循环冗余校验结果，在确认所述循环冗余校验结果为循环冗余校验正确时，检测所述循环冗余校验结果连续为目标循环冗余校验正确的目标次数；在本实施例中，信号接收端获取信号接收端第二天气检测器检测的当前天气状态，并确认当前天气状态对应的最大循环冗余反馈阈值之后，在当前的通信链路为微波通信链路时，向信号发送端发送最大循环冗余反馈阈值次数的链路探测包，接收信号发送端根据链路探测包反馈的循环冗余校验结果，在确认循环冗余校验结果为循环冗余校验正确时，检测循环冗余校验结果连续为目标循环冗余校验正确的目标次数。步骤E：确认所述目标次数是否达到所述最大循环冗余反馈阈值，若是，则将当前的微波通信链路切换为激光通信链路。在本实施例中，信号接收端在当前的通信链路为微波通信链路时，向信号发送端发送最大循环冗余反馈阈值次数的链路探测包，接收信号发送端根据链路探测包反馈的循环冗余校验结果，在确认循环冗余校验结果为循环冗余校验正确时，检测循环冗余校验结果连续为目标循环冗余校验正确的目标次数之后，确认目标次数是否达到所述最大循环冗余反馈阈值，若是，则将当前的微波通信链路切换为激光通信链路并通过激光通信链路进行通信。在本实施例中，参考图6，提出由信号接收端发送探测包的实施例，也即，信号接收端设置有天气探测器，在当前的通信链路为微波通信链路时，信号接收端通过天气探测器当前天气状态，并确认当前天气状态对应的最大循环冗余反馈阈值M，然后向信号发送端发送M次的链路探测包，接收信号发送端根据链路探测包反馈的循环冗余校验结果，在确认循环冗余校验结果为循环冗余校验正确时，检测循环冗余校验结果连续为目标循环冗余校验正确的目标次数，在确认该目标次数达到M次时，将当前的微波通信链路切换为激光通信链路并通过激光通信链路进行通信。本发明通过信号接收端设置第二天气检测器，在当前通信链路为微波通信链路时，根据第二天气检测器检测的天气确认最大循环冗余反馈阈值，然后，信号发送端向信号接收端发送链路探测包，并接收信号接收端根据链路探测包反馈的循环冗余效验错误正确达到该最大循环冗余反馈阈值时，将当前的微波通信链路切换为通信链路，并通过光通信链路进行通信，从而，不需要信道状态的反馈，也不需要实时测量链路的信号质量，进而，减小了信道状态估计和信号质量测量的消耗和误差，并且，接收端减少了复杂的信道估计过程，极大程度上提高了传输效率。此外，本发明实施例还提出一种终端设备，该终端设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的通信链路的切换程序，该通信链路的切换程序被所述处理器执行时实现如上述中的通信链路的切换方法的步骤。其中，在所述处理器上运行的通信链路的切换程序被执行时所实现的步骤可参照本发明通信链路的切换方法的各个实施例，此处不再赘述。此外，本发明实施例还提出一种计算机存储介质，应用于计算机，该计算机存储介质可以为非易失性计算机可读计算机存储介质，该计算机存储介质上存储有通信链路的切换程序，所述通信链路的切换程序被处理器执行时实现如上所述的通信链路的切换方法的步骤。其中，在所述处理器上运行的通信链路的切换程序被执行时所实现的步骤可参照本发明通信链路的切换方法的各个实施例，此处不再赘述。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个计算机存储介质中，包括若干指令用以使得一台终端设备中，用于控制该存储介质进行数据读写操作的控制器执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
