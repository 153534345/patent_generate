标题title
一种用于壁挂灯的智能跟随控制方法及系统
摘要abst
本申请提出一种用于壁挂灯的智能跟随控制方法及系统，属于智能控制技术领域，方法包括：基于设置在目标挂壁灯的光传感单元中的检测组件，检测目标挂壁灯所处环境的第一亮度阵列，同时，基于拍摄单元对目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列；将第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列；基于第二亮度阵列，确定所处环境的环境亮度，基于红外感应单元感应监测所处环境中所存在的目标对象的当下行走状态；基于环境亮度以及当下行走状态，预测目标对象的需要照明范围，对目标挂壁灯进行智能跟随控制。有效实现智能跟随控制以及为用户提供便利。
权利要求书clms
1.一种用于壁挂灯的智能跟随控制方法，其特征在于，包括：步骤1：基于设置在目标挂壁灯的光传感单元中的若干检测组件，来检测目标挂壁灯所处环境的第一亮度阵列，同时，基于拍摄单元对所述目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列；步骤2：将所述第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列；步骤3：基于所述第二亮度阵列，确定所处环境的环境亮度，同时，基于红外感应单元感应并监测所处环境中所存在的目标对象的当下行走状态；步骤4：基于所述当下行走状态预测所述目标对象的需要照明范围以及基于所述环境亮度确定需要照明亮度，并对所述目标挂壁灯进行智能跟随控制。2.根据权利要求1所述的用于壁挂灯的智能跟随控制方法，其特征在于，检测目标挂壁灯所处环境的第一亮度阵列，包括：获取所述光传感单元中的每个检测组件的亮度检测结果，并构建得到初始亮度阵列；确定所述初始亮度阵列的亮度范围；其中， 表示所述初始亮度阵列中的最小亮度检测结果； /＞表示所述初始亮度阵列中的最大亮度检测结果； /＞表示所述初始亮度阵列中的第i1个亮度检测结果；表示所述初始亮度阵列的平均亮度检测结果；L1表示亮度范围的左边界值；L2表示亮度范围的右边界值；n1表示光传感单元中检测组件的总个数，且一个检测组件对应一个亮度检测结果；当所述初始亮度阵列中的所有亮度检测结果都在范围时，将所述初始亮度阵列视为第一亮度阵列；否则，确定不在范围的亮度检测结果的第一个数n2，当 时，将不在范围的亮度检测结果进行剔除，并得到第一亮度阵列，其中，表示取整符号；当 时，从小于L1的亮度检测结果中提取最大检测亮度max1、从大于L2的亮度检测结果中提取最小检测亮度min1以及获取所有属于范围的亮度检测结果的平均检测亮度ave1，并构建第一亮度函数Y1，且n1=n01+n02+n03，且n2=n01+n02，其中，n01表示小于L1的亮度检测结果的个数；n02表示大于L2的亮度检测结果的个数；n03表示属于范围的亮度检测结果的个数；基于所述第一亮度函数Y1，确定第一调节系数以及第二调节系数；根据ave1-max1对所述最大检测亮度按照max1+a1进行第一调节，其中，a1表示第一调节系数；根据min1-ave1对所述最小检测亮度按照min1-a2进行第二调节，其中，a2表示第二调节系数；基于第一调节结果，对小于L1的所有亮度检测结果进行一致性替换以及基于第二调节结果，对大于L2的所有亮度检测结果进行一致性替换，并得到第一亮度阵列。3.根据权利要求2所述的用于壁挂灯的智能跟随控制方法，其特征在于，基于所述第一亮度函数Y1，确定第一调节系数以及第二调节系数，包括：其中，max表示最大值符号。4.根据权利要求1所述的用于壁挂灯的智能跟随控制方法，其特征在于，基于拍摄单元对所述目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列，包括：获取对所述预置空间的拍摄图像，并对所述拍摄图像进行灰度处理，得到灰度图像；将所述灰度图像与预置空间进行位置一一对应，获取得到针对外界光照空间阴影的空间阴影阵列。5.根据权利要求1所述的用于壁挂灯的智能跟随控制方法，其特征在于，将所述第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列，包括：确定所述第一亮度阵列中所对应每个检测组件基于预置空间的第一空间位置；确定所述空间阴影阵列中每个像素点基于预置空间的第二空间位置；将所述第二空间位置与所述第一空间位置进行同位置映射，并将同位置映射结果的灰度值附加在对应第一空间位置上，并向第一亮度阵列中存在附加结果的第一空间位置进行标注，得到第二亮度阵列。6.根据权利要求1所述的用于壁挂灯的智能跟随控制方法，其特征在于，基于所述第二亮度阵列，确定所处环境的环境亮度，包括：将所述第二亮度阵列中的所有亮度检测值进行第一平均计算，得到第一平均值；将所述第二亮度阵列中除标注位置后的剩余亮度检测值进行第二平均计算的，得到第二平均值；若所述第一平均值与第二平均值的差值绝对值在预设差值范围内，对所述第一平均值与第二平均值作平均处理后的值视为环境亮度；否则，将第二平均值作为环境亮度。7.根据权利要求1所述的用于壁挂灯的智能跟随控制方法，其特征在于，基于红外感应单元感应并监测所处环境中所存在的目标对象的当下行走状态，包括：基于所处环境中预置的红外感应单元感应目标对象在所处环境中的反馈信息；基于所述反馈信息，构建得到所述目标对象在连续时刻下的行走姿态，其中，连续时刻下的行走姿态即为当下行走状态。8.根据权利要求1所述的用于壁挂灯的智能跟随控制方法，其特征在于，基于所述当下行走状态预测所述目标对象的需要照明范围以及基于所述环境亮度确定需要照明亮度，并对所述目标挂壁灯进行智能跟随控制，包括：对连续时刻下的行走姿态进行时间先后排序，并对每个行走姿态中的身体关键点进行坐标捕捉，构建每个身体关键点的移动曲线；根据所述目标对象的身体缺陷特征，从所有移动曲线中提取关键曲线，并根据身体缺陷特征确定对所述关键曲线的精细化程度，进而对所述关键曲线进行精细化处理；对精度细化后的曲线进行曲线对齐，并输入到状态预测模型中，获取得到所述目标对象在下一时刻的行走姿态；基于单元工作日志，确定连续时刻中每个时刻下处于工作状态的红外感应单元，并构建得到对应时刻的单元工作集合，其中，所述单元工作集合包括对应时刻下处于工作状态的红外感应单元的位置；将同时刻下的单元工作集合与行走姿态进行匹配处理，确定行走修正系数；基于所述行走修正系数，对下一时刻的行走姿态进行调整，并锁定对调整姿态进行感应的红外传感单元；根据所锁定的红外传感单元的位置，构建待光照区域，并控制所述目标挂壁灯对所述待光照区域的中心位置按照所述需要照明亮度进行照射，实现智能跟随控制。9.根据权利要求8所述的用于壁挂灯的智能跟随控制方法，其特征在于，将同时刻下的单元工作集合与行走姿态进行匹配处理，确定行走修正系数，包括：确定同时刻下的单元工作集合中的单元工作位置，并构建得到第一感应区域；将同时刻下的行走姿态放置在第一感应区域中，确定所述同时刻下的行走姿态基于第一感应区域的第一中心点以及确定所述第一感应区域的第二中心点：其中，u1表示距离差集合； /＞表示第j1个时刻下第一中心点的横坐标； /＞表示第j1个时刻下第二中心点的横坐标； /＞表示第j1个时刻下第一中心点的纵坐标； /＞表示第j1个时刻下第二中心点的纵坐标；m1表示时刻点总个数；将所有 输入到差值分析模型中，获取得到横向系数；将所有 输入到差值分析模型中，获取得到纵向系数；基于所述横向系数以及纵向系数，作为行走修正系数。10.一种用于壁挂灯的智能跟随控制系统，其特征在于，包括：阵列构建模块，用于基于设置在目标挂壁灯的光传感单元中的若干检测组件，来检测目标挂壁灯所处环境的第一亮度阵列，同时，基于拍摄单元对所述目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列；位置对齐模块，用于将所述第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列；状态监测模块，用于基于所述第二亮度阵列，确定所处环境的环境亮度，同时，基于红外感应单元感应并监测所处环境中所存在的目标对象的当下行走状态；智能跟随控制模块，用于基于所述当下行走状态预测所述目标对象的需要照明范围以及基于所述环境亮度确定需要照明亮度，并对所述目标挂壁灯进行智能跟随控制。
说明书desc
技术领域本发明涉及一种用于壁挂灯的智能控制方法及系统，属于智能控制技术领域。背景技术壁挂灯是一种比较常见的灯光配置，可以安装在墙上或天花板上。这种灯光可以调整角度，使灯光照射到不同的位置上，日常在使用的过程中，由于智能手动调整其的光照模式，在一些商演需要等聚集跟随目标对象时，或者在人们半夜起床上厕所或者起床倒水灯类似情况发生时，往往需要手动控制，但是挂壁灯一般是比较恒定的灯光，不能跟随人并起到一个实时照亮的作用，有效降低挂壁灯的使用效果。因此，本发明提出一种用于壁挂灯的智能跟随控制方法及系统。发明内容针对上述现有技术的不足，本发明的目的在于提供一种用于壁挂灯的智能跟随控制方法及系统，包括：步骤1：基于设置在目标挂壁灯的光传感单元中的若干检测组件，来检测目标挂壁灯所处环境的第一亮度阵列，同时，基于拍摄单元对所述目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列；步骤2：将所述第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列；步骤3：基于所述第二亮度阵列，确定所处环境的环境亮度，同时，基于红外感应单元感应并监测所处环境中所存在的目标对象的当下行走状态；步骤4：基于所述当下行走状态预测所述目标对象的需要照明范围以及基于所述环境亮度确定需要照明亮度，并对所述目标挂壁灯进行智能跟随控制。进一步地，检测目标挂壁灯所处环境的第一亮度阵列，包括：获取所述光传感单元中的每个检测组件的亮度检测结果，并构建得到初始亮度阵列；确定所述初始亮度阵列的亮度范围；其中，表示所述初始亮度阵列中的最小亮度检测结果；/＞表示所述初始亮度阵列中的最大亮度检测结果；/＞表示所述初始亮度阵列中的第i1个亮度检测结果；/＞表示所述初始亮度阵列的平均亮度检测结果；L1表示亮度范围的左边界值；L2表示亮度范围的右边界值；n1表示光传感单元中检测组件的总个数，且一个检测组件对应一个亮度检测结果；当所述初始亮度阵列中的所有亮度检测结果都在范围时，将所述初始亮度阵列视为第一亮度阵列；否则，确定不在范围的亮度检测结果的第一个数n2，当时，将不在范围的亮度检测结果进行剔除，并得到第一亮度阵列，其中，表示取整符号；当时，从小于L1的亮度检测结果中提取最大检测亮度max1、从大于L2的亮度检测结果中提取最小检测亮度min1以及获取所有属于范围的亮度检测结果的平均检测亮度ave1，并构建第一亮度函数Y1，且n1=n01+n02+n03，且n2=n01+n02，其中，n01表示小于L1的亮度检测结果的个数；n02表示大于L2的亮度检测结果的个数；n03表示属于范围的亮度检测结果的个数；基于所述第一亮度函数Y1，确定第一调节系数以及第二调节系数；根据ave1-max1对所述最大检测亮度按照max1+a1进行第一调节，其中，a1表示第一调节系数；根据min1-ave1对所述最小检测亮度按照min1-a2进行第二调节，其中，a2表示第二调节系数；基于第一调节结果，对小于L1的所有亮度检测结果进行一致性替换以及基于第二调节结果，对大于L2的所有亮度检测结果进行一致性替换，并得到第一亮度阵列。进一步地，基于所述第一亮度函数Y1，确定第一调节系数以及第二调节系数，包括：其中，max表示最大值符号。进一步地，基于拍摄单元对所述目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列，包括：获取对所述预置空间的拍摄图像，并对所述拍摄图像进行灰度处理，得到灰度图像；将所述灰度图像与预置空间进行位置一一对应，获取得到针对外界光照空间阴影的空间阴影阵列。进一步地，将所述第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列，包括：确定所述第一亮度阵列中所对应每个检测组件基于预置空间的第一空间位置；确定所述空间阴影阵列中每个像素点基于预置空间的第二空间位置；将所述第二空间位置与所述第一空间位置进行同位置映射，并将同位置映射结果的灰度值附加在对应第一空间位置上，并向第一亮度阵列中存在附加结果的第一空间位置进行标注，得到第二亮度阵列。进一步地，基于所述第二亮度阵列，确定所处环境的环境亮度，包括：将所述第二亮度阵列中的所有亮度检测值进行第一平均计算，得到第一平均值；将所述第二亮度阵列中除标注位置后的剩余亮度检测值进行第二平均计算的，得到第二平均值；若所述第一平均值与第二平均值的差值绝对值在预设差值范围内，对所述第一平均值与第二平均值作平均处理后的值视为环境亮度；否则，将第二平均值作为环境亮度。进一步地，基于红外感应单元感应并监测所处环境中所存在的目标对象的当下行走状态，包括：基于所处环境中预置的红外感应单元感应目标对象在所处环境中的反馈信息；基于所述反馈信息，构建得到所述目标对象在连续时刻下的行走姿态，其中，连续时刻下的行走姿态即为当下行走状态。进一步地，基于所述当下行走状态预测所述目标对象的需要照明范围以及基于所述环境亮度确定需要照明亮度，并对所述目标挂壁灯进行智能跟随控制，包括：对连续时刻下的行走姿态进行时间先后排序，并对每个行走姿态中的身体关键点进行坐标捕捉，构建每个身体关键点的移动曲线；对连续时刻下的行走姿态进行时间先后排序，并对每个行走姿态中的身体关键点进行坐标捕捉，构建每个身体关键点的移动曲线；根据所述目标对象的身体缺陷特征，从所有移动曲线中提取关键曲线，并根据身体缺陷特征确定对所述关键曲线的精细化程度，进而对所述关键曲线进行精细化处理；对精度细化后的曲线进行曲线对齐，并输入到状态预测模型中，获取得到所述目标对象在下一时刻的行走姿态；基于单元工作日志，确定连续时刻中每个时刻下处于工作状态的红外感应单元，并构建得到对应时刻的单元工作集合，其中，所述单元工作集合包括对应时刻下处于工作状态的红外感应单元的位置；将同时刻下的单元工作集合与行走姿态进行匹配处理，确定行走修正系数；基于所述行走修正系数，对下一时刻的行走姿态进行调整，并锁定对调整姿态进行感应的红外传感单元；根据所锁定的红外传感单元的位置，构建待光照区域，并控制所述目标挂壁灯对所述待光照区域的中心位置按照所述需要照明亮度进行照射，实现智能跟随控制。进一步地，将同时刻下的单元工作集合与行走姿态进行匹配处理，确定行走修正系数，包括：确定同时刻下的单元工作集合中的单元工作位置，并构建得到第一感应区域；将同时刻下的行走姿态放置在第一感应区域中，确定所述同时刻下的行走姿态基于第一感应区域的第一中心点以及确定所述第一感应区域的第二中心点：其中，u1表示距离差集合；表示第j1个时刻下第一中心点的横坐标；/＞表示第j1个时刻下第二中心点的横坐标；/＞表示第j1个时刻下第一中心点的纵坐标；/＞表示第j1个时刻下第二中心点的纵坐标；m1表示时刻点总个数；将所有输入到差值分析模型中，获取得到横向系数；将所有输入到差值分析模型中，获取得到纵向系数；基于所述横向系数以及纵向系数，作为行走修正系数。本发明提供一种用于壁挂灯的智能跟随控制系统，包括：阵列构建模块，用于基于设置在目标挂壁灯的光传感单元中的若干检测组件，来检测目标挂壁灯所处环境的第一亮度阵列，同时，基于拍摄单元对所述目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列；位置对齐模块，用于将所述第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列；状态监测模块，用于基于所述第二亮度阵列，确定所处环境的环境亮度，同时，基于红外感应单元感应并监测所处环境中所存在的目标对象的当下行走状态；智能跟随控制模块，用于基于所述当下行走状态预测所述目标对象的需要照明范围以及基于所述环境亮度确定需要照明亮度，并对所述目标挂壁灯进行智能跟随控制。与现有技术相比，本申请提供的技术方案的有益效果如下：通过光传感单元以及拍摄单元，来对环境亮度进行合理且精准的预测，为后续控制挂壁灯提供有效照明基础，且通过红外感应单元的感应结果且结合环境亮度，来预测照明范围，实现智能跟随控制，进而提高挂壁灯的使用效果，以及为用户提供便利。附图说明图1为本发明一种用于壁挂灯的智能跟随控制方法的流程图；图2为本发明一种用于壁挂灯的智能跟随控制系统的结构图；图3为本发明挂壁灯的结构示意图；图4为本发明红外感应单元的感应结构图；图5为本发明第一中心点与第二中心点的结构图。具体实施方式为了使本领域的技术人员更好地理解本申请中的技术方案，下面将结合本申请实施例中的附图对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请的一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。需要说明的是，当元件被称为“固定于”或“设置于”另一个部件上，它可以直接在另一个部件上或者间接设置在另一个部件上；当一个部件被称为是“连接于”另一个部件，它可以是直接连接到另一个部件或间接连接至另一个部件上。需要理解的是，术语“长度”、“宽度”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本申请和简化描述，而不是指示或暗示所指的装置或部件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本申请的限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本申请的描述中，“多个”、“若干个”的含义是两个或两个以上，除非另有明确具体的限定。须知，本说明书附图所绘示的结构、比例、大小等，均仅用以配合说明书所揭示的内容，以供熟悉此技术的人士了解与阅读，并非用以限定本申请可实施的限定条件，故不具技术上的实质意义，任何结构的修饰、比例关系的改变或大小的调整，在不影响本申请所能产生的功效及所能达成的目的下，均应仍落在本申请所揭示的技术内容得能涵盖的范围内。实施例1本发明提供一种用于壁挂灯的智能跟随控制方法，如图1所示，包括：步骤1：基于设置在目标挂壁灯的光传感单元中的若干检测组件，来检测目标挂壁灯所处环境的第一亮度阵列，同时，基于拍摄单元对所述目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列；步骤2：将所述第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列；步骤3：基于所述第二亮度阵列，确定所处环境的环境亮度，同时，基于红外感应单元感应并监测所处环境中所存在的目标对象的当下行走状态；步骤4：基于所述当下行走状态预测所述目标对象的需要照明范围以及基于所述环境亮度确定需要照明亮度，并对所述目标挂壁灯进行智能跟随控制。该实施例中，光传感单元指的是包含若干光敏传感器在内，且检测组件即为光敏传感器，且若干光敏传感器是均匀布置在目标挂壁灯的顶部外侧的。该实施例中，第一亮度阵列是基于初始亮度阵列获取得到的，且初始亮度阵列：{检测组件1与检测结果1 检测组件2与检测结果2 检测组件3与检测结果3...}，其中，检测结果即为对应光敏传感器的检测亮度，由于检测组件可能会存在损坏导致检测结果出现严重误差，因此，需要对初始亮度阵列中的检测结果进行综合分析之后，得到第一亮度阵列。该实施例中，预置空间指的是包含挂壁灯以及挂壁灯上的检测组件在内的空间，主要是为了确定该空间在对应亮度检测时刻下是否存在光照阴影，进而影响了第一亮度阵列中的亮度检测结果，也就是外界光照空间阴影指的是对应预置空间存在阴影的情况，以此得到空间阴影阵列：{位置1与像素值0 位置2与像素值0 位置3与像素值0 位置4与像素值1...}，其中，检测组件1所在的为位置4，且位置映射处理，就是将位置4对应的像素值1附加在第一亮度阵列中的检测组件1所在的位置处，进而得到第二亮度阵列：{检测组件1、检测结果01、像素值1 检测组件2、检测结果02、像素值0 检测组件3、检测结果03、像素值0...}，以此类推，其中，像素值0表示对应位置处不存在阴影，像素值1表示对应位置处存在阴影。该实施例中，所处环境的环境亮度可以是第二亮度阵列中附加像素值不影响原本检测结果的亮度的累加和的平均。该实施例中，红外感应单元是设置在对应行走空间的，比如是从走廊的a端行走到走廊的b端，此时，红外感应单元是均匀部署在走廊两侧的，可以完全感应到用户的行走行为。该实施例中，需要照明范围指的是目标对象在下一时刻的可能行走姿态所对应的空间坐标范围以及照明亮度，该行走姿态包括该对象各个身体关键点在下一时刻的坐标，且身体关键点比如，左右脚踝、左右膝关节、左右肘关节等，且行为姿态也就是根据该用户的身体关键点的坐标来勾勒出来的。该实施例中，智能跟随控制一般是照射在需要照明范围的中心位置。该实施例中，如图3所示，壁挂灯包括灯主体001、旋转部002和悬挂螺母003，支架004作为配件结构可以有多种，其可安装于墙面等支撑面上，壁挂灯通过悬挂螺母悬挂于支架的安装槽内。灯主体可相对旋转部旋转，从而改变照明角度，提升使用的便利性。壁挂灯内部配备有驱动器，可安装于天花板、墙壁高处等位置，其安装位置可以不用考虑方便手动操作，其内部配备有光传感器、定时器、红外传感器等。光传感器可用于根据环境光强判定是否可接通控制电路，例如，白天强光时关闭壁挂灯；定时器可用于设置工作时段或工作时长，例如在夜晚时间段才接通控制电路。红外传感器或者摄像头用于识别人的位置，处理器根据人的位置缓慢调整壁挂灯的照明角度，实现跟随照明的功能。这种控制方案可以减少灯具的数量，并降低照明的能耗。当然，更优的方案是识别、预测人的行动方向，将照明范围控制在人行走方向的前方一定距离内。壁挂灯还可根据照明的距离适时增大光强，例如照明角度较大时意味着照明距离较远，因此增大光强可保证照明效果。当然，壁挂灯还可以增加其他的智能控制功能，例如自动启动、延迟关闭、自动调整光强等。上述技术方案的有益效果是：通过光传感单元以及拍摄单元，来对环境亮度进行合理且精准的预测，为后续控制挂壁灯提供有效照明基础，且通过红外感应单元的感应结果且结合环境亮度，来预测照明范围，实现智能跟随控制，进而提高挂壁灯的使用效果，以及为用户提供便利。实施例2：基于实施例1的基础上，检测目标挂壁灯所处环境的第一亮度阵列，包括：获取所述光传感单元中的每个检测组件的亮度检测结果，并构建得到初始亮度阵列；确定所述初始亮度阵列的亮度范围；其中，表示所述初始亮度阵列中的最小亮度检测结果；/＞表示所述初始亮度阵列中的最大亮度检测结果；/＞表示所述初始亮度阵列中的第i1个亮度检测结果；/＞表示所述初始亮度阵列的平均亮度检测结果；L1表示亮度范围的左边界值；L2表示亮度范围的右边界值；n1表示光传感单元中检测组件的总个数，且一个检测组件对应一个亮度检测结果；当所述初始亮度阵列中的所有亮度检测结果都在范围时，将所述初始亮度阵列视为第一亮度阵列；否则，确定不在范围的亮度检测结果的第一个数n2，当时，将不在范围的亮度检测结果进行剔除，并得到第一亮度阵列，其中，表示取整符号；当时，从小于L1的亮度检测结果中提取最大检测亮度max1、从大于L2的亮度检测结果中提取最小检测亮度min1以及获取所有属于范围的亮度检测结果的平均检测亮度ave1，并构建第一亮度函数Y1，且n1=n01+n02+n03，且n2=n01+n02，其中，n01表示小于L1的亮度检测结果的个数；n02表示大于L2的亮度检测结果的个数；n03表示属于范围的亮度检测结果的个数；基于所述第一亮度函数Y1，确定第一调节系数以及第二调节系数；根据ave1-max1对所述最大检测亮度按照max1+a1进行第一调节，其中，a1表示第一调节系数；根据min1-ave1对所述最小检测亮度按照min1-a2进行第二调节，其中，a2表示第二调节系数；基于第一调节结果，对小于L1的所有亮度检测结果进行一致性替换以及基于第二调节结果，对大于L2的所有亮度检测结果进行一致性替换，并得到第一亮度阵列。该实施例中，平均检测亮度ave1指的是对所有属于范围的亮度检测结果进行平均值计算。该实施例中，min1＞ave1＞max1。该实施例中，对小于L1的所有亮度检测结果都替换为max1+a1，对大于L2的所有亮度检测结果都替换为min1-a2。上述技术方案的有益效果是：通过对初始亮度阵列进行构建以及确定范围，并通过对在该范围以及不在该范围中的个数进行确定以及大小比较，实现对初始亮度阵列的调整，为后续确定环境亮度提供基础，进而保证后续光照亮度，实现有效的智能跟随控制。实施例3：基于实施例2的基础上，基于所述第一亮度函数Y1，确定第一调节系数以及第二调节系数，包括：其中，max表示最大值符号。上述技术方案的有益效果是：通过计算第一调节系数以及第二调节系数，为对第一亮度阵列调整提供基础，间接保证后续跟随控制的可靠性。实施例4：基于实施例1的基础上，基于拍摄单元对所述目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列，包括：获取对所述预置空间的拍摄图像，并对所述拍摄图像进行灰度处理，得到灰度图像；将所述灰度图像与预置空间进行位置一一对应，获取得到针对外界光照空间阴影的空间阴影阵列。该实施例中，灰度处理指的是将拍摄图像从有颜色处理为灰度图像。上述技术方案的有益效果是：通过对图像灰度处理，来有效确定每个位置点是否存在阴影，为获取第二亮度阵列提供基础，保证环境亮度获取的精准性。实施例5：基于实施例4的基础上，将所述第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列，包括：确定所述第一亮度阵列中所对应每个检测组件基于预置空间的第一空间位置；确定所述空间阴影阵列中每个像素点基于预置空间的第二空间位置；将所述第二空间位置与所述第一空间位置进行同位置映射，并将同位置映射结果的灰度值附加在对应第一空间位置上，并向第一亮度阵列中存在附加结果的第一空间位置进行标注，得到第二亮度阵列。该实施例中，同位置映射指的是第一空间位置与第二控制位置处于同个空间位置点，并将该第二空间位置的当下像素值附加在一致的第一空间位置上。上述技术方案的有益效果是：通过进行同位置映射，为获取第二亮度阵列提供可靠基础，进一步保证后续获取亮度的可靠性，保证智能跟随控制的有效性。实施例6：基于实施例5的基础上，基于所述第二亮度阵列，确定所处环境的环境亮度，包括：将所述第二亮度阵列中的所有亮度检测值进行第一平均计算，得到第一平均值；将所述第二亮度阵列中除标注位置后的剩余亮度检测值进行第二平均计算的，得到第二平均值；若所述第一平均值与第二平均值的差值绝对值在预设差值范围内，对所述第一平均值与第二平均值作平均处理后的值视为环境亮度；否则，将第二平均值作为环境亮度。该实施例中，第一平均计算以及第二平均计算就是指的平均处理。该实施例中，预设差值范围的取值范围为。上述技术方案的有益效果是：通过对第二亮度阵列中的亮度检测值进行不同的计算，来得到环境亮度，为后续智能跟随控制提供有效基础，提高体验效果。实施例7：基于实施例1的基础上，基于红外感应单元感应并监测所处环境中所存在的目标对象的当下行走状态，包括：基于所处环境中预置的红外感应单元感应目标对象在所处环境中的反馈信息；基于所述反馈信息，构建得到所述目标对象在连续时刻下的行走姿态，其中，连续时刻下的行走姿态即为当下行走状态。该实施例中，反馈信息指的是红外光线的可照射情况，如图4所示，对应的阴影部分即为反馈信息b01，空白部分为行走姿态b02。上述技术方案的有益效果是：通过红外感应单元所感应的各种信息，来确定行为姿态，为后续预测照明范围提供基础，保证后续智能跟随控制的有效性。实施例8：基于实施例1的基础上，基于所述当下行走状态预测所述目标对象的需要照明范围以及基于所述环境亮度确定需要照明亮度，并对所述目标挂壁灯进行智能跟随控制，包括：对连续时刻下的行走姿态进行时间先后排序，并对每个行走姿态中的身体关键点进行坐标捕捉，构建每个身体关键点的移动曲线；根据所述目标对象的身体缺陷特征，从所有移动曲线中提取关键曲线，并根据身体缺陷特征确定对所述关键曲线的精细化程度，进而对所述关键曲线进行精细化处理；对精度细化后的曲线进行曲线对齐，并输入到状态预测模型中，获取得到所述目标对象在下一时刻的行走姿态；基于单元工作日志，确定连续时刻中每个时刻下处于工作状态的红外感应单元，并构建得到对应时刻的单元工作集合，其中，所述单元工作集合包括对应时刻下处于工作状态的红外感应单元的位置；将同时刻下的单元工作集合与行走姿态进行匹配处理，确定行走修正系数；基于所述行走修正系数，对下一时刻的行走姿态进行调整，并锁定对调整姿态进行感应的红外传感单元；根据所锁定的红外传感单元的位置，构建待光照区域，并控制所述目标挂壁灯对所述待光照区域的中心位置按照所述需要照明亮度进行照射，实现智能跟随控制。该实施例中，连续时刻指的是当下时刻之前若干时间点，比如是按照秒为单元的时刻，比如，连续获取5秒的行走姿态，也就是存在5个行走姿态，身体关键点是预先设定好的，具有对人体的通用性。该实施例中，移动曲线指的是每个身体关键点在这5秒内的曲线，是根据这5个行走姿态所确定出来的。该实施例中，身体缺陷特征指的是该用户可能存在的身体缺陷，比如，崴脚之后，左脚只能抬起，基本处于同个姿态，所以，可以将该关键点进行忽略，避免分析的不精准。该实施例中，，其中，表示所存在的缺陷个数以及与缺陷个数所匹配的身体缺陷的总缺陷权重；/＞表示第j3个身体缺陷的缺陷权重，且不同的身体缺陷所对应的缺陷权重都是专家预先确定好的，且所有身体关键点的总权重为1，然后再根据精细化值-程度映射表，可以获取得到精细化程度，比如，存在1个缺陷个数的时候，身体关键点个数为10，对应的/＞为0.1，根据计算结果以及基于映射表所映射得到的精细化程度为1，且精细化程度1对应的精度为0.5秒，也就是从原来的1秒细化到0.5秒为一个单位，来对获取的关键曲线进行进一步细化。该实施例中，曲线对齐指的是基于时间点的对齐，因为每个时间点下可以获取身体关键点对应的坐标。该实施例中，状态预测模型是基于t0到t1时刻的不同的关键点的行为坐标点变化情况以及所匹配的姿态为输入样本，且对应的t2时刻的不同的关键点的行为坐标点变化情况以及所匹配的姿态为t0到t1时刻的预测样本，并作为输出样本来训练得到的，因此，可以获取得到对应对象的在下一时刻的行走姿态。该实施例中，单元工作日志指的是对应红外感应单元是否工作与否。该实施例中，行为姿态的调整是指的对每个身体关键点的坐标调整，且修正系数是坐标点的横坐标以及纵坐标微调结果。该实施例中，待光照区域指的是下一时刻所锁定的红外传感单元所对应的最终感应范围。该实施例中，需要照明亮度是基于环境亮度-需要照明亮度映射表得到的，其中，环境亮度与需要照明亮度一一对应。上述技术方案的有益效果是：通过进行关键曲线的筛选以及精细化处理，来实现对下一时刻的行走姿态的有效预测，进而通过确定修正系数，来对下一时刻的照亮区域进行精准预测以及照亮，保证后续智能跟随控制的合理性，提高体验效果。实施例9：基于实施例8的基础上，将同时刻下的单元工作集合与行走姿态进行匹配处理，确定行走修正系数，包括：确定同时刻下的单元工作集合中的单元工作位置，并构建得到第一感应区域；将同时刻下的行走姿态放置在第一感应区域中，确定所述同时刻下的行走姿态基于第一感应区域的第一中心点以及确定所述第一感应区域的第二中心点：其中，u1表示距离差集合；表示第j1个时刻下第一中心点的横坐标；/＞表示第j1个时刻下第二中心点的横坐标；/＞表示第j1个时刻下第一中心点的纵坐标；/＞表示第j1个时刻下第二中心点的纵坐标；m1表示时刻点总个数；/＞将所有输入到差值分析模型中，获取得到横向系数；将所有输入到差值分析模型中，获取得到纵向系数；基于所述横向系数以及纵向系数，作为行走修正系数。该实施例中，如图5所示，t01时刻存在的红外传感单元1、2、3、4进行工作，且该红外传感单元1、2、3、4构成一个感应范围，且该感应范围的中心c01为第二中心点。且该t01时刻下的行走姿态为c02，且c02的第一中心点为c03，进而获取得到修正系数。该实施例中，差值分析模型是基于不同连续时刻下的组合差值以及与该组合差值一致的横坐标的修正系数以及纵坐标的修正系数，所以，可以直接基于该模型对差值进行分析，得到横向次数以及纵向次数。该实施例中，通过下一时刻的行走姿态可以对下一时刻的感应范围进行精准确定。上述技术方案的有益效果是：通过确定工作单元位置对应的感应区域的中心点以及该时刻下行走姿态的中心点，进而通过差值组合以及模型，可以有效的确定处横向系数以及纵向系数，为后续行为修正提供基础。实施例10：本发明提供一种用于壁挂灯的智能跟随控制系统，如图2所示，包括：阵列构建模块，用于基于设置在目标挂壁灯的光传感单元中的若干检测组件，来检测目标挂壁灯所处环境的第一亮度阵列，同时，基于拍摄单元对所述目标挂壁灯当下所处环境的预置空间进行拍摄，获取得到所处环境的外界光照空间阴影，并得到空间阴影阵列；位置对齐模块，用于将所述第一亮度阵列以及空间阴影阵列进行位置映射处理，得到第二亮度阵列；状态监测模块，用于基于所述第二亮度阵列，确定所处环境的环境亮度，同时，基于红外感应单元感应并监测所处环境中所存在的目标对象的当下行走状态；智能跟随控制模块，用于基于所述当下行走状态预测所述目标对象的需要照明范围以及基于所述环境亮度确定需要照明亮度，并对所述目标挂壁灯进行智能跟随控制。上述技术方案的有益效果是：通过光传感单元以及拍摄单元，来对环境亮度进行合理且精准的预测，为后续控制挂壁灯提供有效照明基础，且通过红外感应单元的感应结果且结合环境亮度，来预测照明范围，实现智能跟随控制，进而提高挂壁灯的使用效果，以及为用户提供便利。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本发明。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本发明的精神或范围的情况下，在其他实施例中实现。因此，本发明将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
