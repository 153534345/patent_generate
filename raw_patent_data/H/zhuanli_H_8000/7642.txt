标题title
基于SDN的虚拟专线业务下发方法、装置、介质及电子设备
摘要abst
本申请涉及一种基于SDN的虚拟专线业务下发方法、装置、介质及电子设备，其中方法包括：基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息；根据虚拟专线业务配置信息，向虚拟专线的A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置；根据虚拟专线业务配置信息，向虚拟专线的Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，以建立A端节点与Z端节点VXLAN虚拟专线业务隧道。基于SDN交换机骨干网络，根据虚拟专线业务配置信息，准确快速的向A端节点和Z端节点分别对应的SDN交换机自动下发配置命令，使得虚拟专线业务两端对应的SDN交换机完成配置，在SDN交换机之间快速建立VXLAN虚拟专线业务隧道，节省了时间和人力成本。
权利要求书clms
1.一种基于SDN的虚拟专线业务下发方法，其特征在于，应用于服务器，所述方法包括：基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息；根据所述虚拟专线业务配置信息，向虚拟专线的A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置；根据所述虚拟专线业务配置信息，向虚拟专线的Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，以建立所述A端节点与所述Z端节点VXLAN虚拟专线业务隧道。2.根据权利要求1所述的基于SDN的虚拟专线业务下发方法，其特征在于，所述虚拟专线业务配置信息包括虚拟专线的A端节点的管理IP地址，所述根据所述虚拟专线业务配置信息，向虚拟专线的A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，包括：通过SDN控制器提取所述虚拟专线业务配置信息中的所述A端节点的管理IP地址；根据所述A端节点的管理IP地址，并通过所述A端节点开放的RPC接口，向所述A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置。3.根据权利要求2所述的基于SDN的虚拟专线业务下发方法，其特征在于，所述虚拟专线业务配置信息包括虚拟专线的A端节点的端口模式、虚拟专线的A端节点上用于连接客户的物理端口号和虚拟专线业务的限速带宽，所述向所述A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，包括：将所述A端节点对应的SDN交换机上未占用的VLAN值作为所述A端节点对应的SDN交换机SVLAN；建立所述A端节点对应的SDN交换机SVLAN到CVLAN的映射，所述CVLAN为虚拟专线的A端节点的端口模式；在所述A端节点对应的SDN交换机的指定物理端口上允许通过所述A端节点对应的SDN交换机SVLAN，所述指定物理端口为虚拟专线的A端节点上用于连接客户的物理端口号；将所述SDN交换机骨干网络中未占用的VNI值作为业务VNI，建立所述A端节点对应的SDN交换机SVLAN到所述业务VNI的映射；新建第一业务ACL，根据所述业务VNI，将符合所述第一业务ACL的流量纳入至预置的第一class-map集合；将所述第一class-map集合移入至预置的第一policy-map集合，对所述第一policy-map集合中的所述第一class-map集合指定限速带宽以完成虚拟专线业务配置，所述限速带宽为虚拟专线业务的限速带宽。4.根据权利要求3所述的基于SDN的虚拟专线业务下发方法，其特征在于，所述新建第一业务ACL，根据所述业务VNI，将符合所述第一业务ACL的流量纳入至预置的第一class-map集合，包括：新建第一业务ACL，将所述业务VNI确定为所述第一业务ACL的通过阈值；将VNI为所述通过阈值的流量确定为符合所述第一业务ACL的流量，并纳入至预置的第一class-map集合。5.根据权利要求1所述的基于SDN的虚拟专线业务下发方法，其特征在于，所述虚拟专线业务配置信息包括虚拟专线的Z端节点的管理IP地址，所述根据所述虚拟专线业务配置信息，向虚拟专线的Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，包括：通过SDN控制器提取所述虚拟专线业务配置信息中的所述Z端节点的管理IP地址；根据所述Z端节点的管理IP地址，并通过所述Z端节点开放的RPC接口，向所述Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置。6.根据权利要求2所述的基于SDN的虚拟专线业务下发方法，其特征在于，所述虚拟专线业务配置信息包括虚拟专线的Z端节点的端口模式、虚拟专线的Z端节点上用于连接客户的物理端口号和虚拟专线业务的限速带宽，所述向所述Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，包括：将所述Z端节点对应的SDN交换机上未占用的VLAN值作为所述Z端节点对应的SDN交换机SVLAN；建立所述Z端节点对应的SDN交换机SVLAN到CVLAN的映射，所述CVLAN为虚拟专线的Z端节点的端口模式；在所述Z端节点对应的SDN交换机的指定物理端口上允许通过所述Z端节点对应的SDN交换机SVLAN，所述指定物理端口为虚拟专线的Z端节点上用于连接客户的物理端口号；将所述SDN交换机骨干网络中未占用的VNI值作为业务VNI，建立所述Z端节点对应的SDN交换机SVLAN到所述业务VNI的映射；新建第二业务ACL，根据所述业务VNI，将符合所述第二业务ACL的流量纳入至预置的第二class-map集合；将所述第二class-map集合移入至预置的第二policy-map集合，对所述第二policy-map集合中的所述第二class-map集合指定限速带宽以完成虚拟专线业务配置，所述限速带宽为虚拟专线业务的限速带宽。7.根据权利要求1所述的基于SDN的虚拟专线业务下发方法，其特征在于，所述基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息之前，还包括：基于外部边界网关协议，将SDN交换机骨干网络中各SDN交换机分别设置对应的自治域；为各所述SDN交换机分别分配管理地址，并将各所述管理地址分别配置在对应的所述SDN交换机的loopback接口，以搭建SDN交换机骨干网络。8.一种基于SDN的虚拟专线业务下发装置，其特征在于，包括：配置信息收集模块，用于基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息；A端配置下发模块，用于根据所述虚拟专线业务配置信息，向虚拟专线的A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置；Z端配置下发模块，用于根据所述虚拟专线业务配置信息，向虚拟专线的Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，以建立所述A端节点与所述Z端节点VXLAN虚拟专线业务隧道。9.一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，其特征在于，所述计算机程序被处理器加载并执行时，采用了权利要求1-7中任一项所述的方法。10.一种电子设备，包括存储器、处理器及存储在存储器中并能够在处理器上运行的计算机程序，其特征在于，所述处理器加载并执行计算机程序时，采用了权利要求1-7中任一项所述的方法。
说明书desc
技术领域本申请涉及网络通信技术领域，具体涉及一种基于SDN的虚拟专线业务下发方法、装置、介质及电子设备。背景技术虚拟专线业务为基于虚拟可扩展局域网协议所创建的业务，VXLAN是一种overlay 的网络技术，使用 MAC in UDP的方法进行封装。VXLAN最多支持16777216个网络，使用4789作为VXLAN的目的UDP端口。在传统模式下，基于交换机网络配置一条点对点虚拟专线业务，通过采用的方式为通过网络工程师对交换机骨干网络中的交换机进行逐一配置，但是采用人工方式进行配置，会耗费大量的时间和人力成本。发明内容为了节省时间和人力成本，本申请提供一种基于SDN的虚拟专线业务下发方法、装置、介质及电子设备。在本申请的第一方面提供了一种基于SDN的虚拟专线业务下发方法，具体包括：基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息；根据所述虚拟专线业务配置信息，向虚拟专线的A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置；根据所述虚拟专线业务配置信息，向虚拟专线的Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，以建立所述A端节点与所述Z端节点VXLAN虚拟专线业务隧道。通过采用上述技术方案，SDN交换机骨干网络搭建完成后，SDN交换机骨干网络中每台SDN交换机之间都能互通，而且服务器接入到SDN交换机骨干网络中，能使得服务器与骨干网络中任何一台的交换机相互通讯，包括虚拟专线业务A端和Z端分别对应的SDN交换机。获取到用户自定义的虚拟专线业务配置信息后，基于SDN交换机骨干网络，可以根据虚拟专线业务配置信息，准确快速的向A端节点和Z端节点分别对应的SDN交换机自动下发配置命令，使得虚拟专线业务两端对应的SDN交换机较快完成配置，在SDN交换机之间快速建立VXLAN虚拟专线业务隧道，相较于人工配置下发，节省了时间和人力成本。可选的，所述虚拟专线业务配置信息包括虚拟专线的A端节点的管理IP地址，所述根据所述虚拟专线业务配置信息，向虚拟专线的A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，包括：通过SDN控制器提取所述虚拟专线业务配置信息中的所述A端节点的管理IP地址；根据所述A端节点的管理IP地址，并通过所述A端节点开放的RPC接口，向所述A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置。通过采用上述技术方案，得到虚拟专线业务配置信息后，服务器中预置的SDN控制器获取到该虚拟专线业务配置信息，接着从中提取出A端节点的管理IP地址，并且SDN控制器通过此管理IP地址与A端节点对应的SDN交换机建立远程连接以此来管理对应的SDN交换机，最后通过述A端节点对应的SDN交换机的RPC接口向SDN交换机下发虚拟专线业务配置的相关命令以完成A端的虚拟专线业务配置。从而使得不必拘泥于南向接口的协议类型，灵活的采用RPC接口也能快速实现虚拟专线业务配置。可选的，所述虚拟专线业务配置信息包括虚拟专线的A端节点的端口模式、虚拟专线的A端节点上用于连接客户的物理端口号和虚拟专线业务的限速带宽，所述向所述A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，包括：将所述A端节点对应的SDN交换机上未占用的VLAN值作为所述A端节点对应的SDN交换机SVLAN；建立所述A端节点对应的SDN交换机SVLAN到CVLAN的映射，所述CVLAN为虚拟专线的A端节点的端口模式；在所述A端节点对应的SDN交换机的指定物理端口上允许通过所述A端节点对应的SDN交换机SVLAN，所述指定物理端口为虚拟专线的A端节点上用于连接客户的物理端口号；将所述SDN交换机骨干网络中未占用的VNI值作为业务VNI，建立所述A端节点对应的SDN交换机SVLAN到所述业务VNI的映射；新建第一业务ACL，根据所述业务VNI，将符合所述第一业务ACL的流量纳入至预置的第一class-map集合；将所述第一class-map集合移入至预置的第一policy-map集合，对所述第一policy-map集合中的所述第一class-map集合指定限速带宽以完成虚拟专线业务配置，所述限速带宽为虚拟专线业务的限速带宽。通过采用上述技术方案，从A端节点对应的SDN交换机中选取没有被占用VLAN值作为SVLAN，这是因为每个VLAN值都是唯一的。接着获取虚拟专线的A端节点的端口模式下的CVLAN，将SVLAN与CVLAN建立映射关系，避免CVLAN的重复。并且在A端节点上用户连接客户的物理端口号对应的物理端口允许SVLAN通过。然后选取SDN交换机骨干网络中未占用的VNI值作为业务VNI，将SVLAN与业务VNI也同样建立映射关系。这样当有用户端流量的VNI为业务VNI时，允许通过A端节点对应的SDN交换机，即新建的第一业务ACL。将满足第一业务ACL的流量纳入到第一class-map集合，以对不同数据流进行分类。最后由第一policy-map集合对已经分类的数据流进行规则设定，主要是按照虚拟专线业务配置信息中用户自定义的限速带宽，对第一class-map集合中数据流进行带宽限速处理，从而使得完成对A端节点对应的SDN交换机的虚拟专线业务配置。可选的，所述新建第一业务ACL，根据所述业务VNI，将符合所述第一业务ACL的流量纳入至预置的第一class-map集合，包括：新建第一业务ACL，将所述业务VNI确定为所述第一业务ACL的通过阈值；将VNI为所述通过阈值的流量确定为符合所述第一业务ACL的流量，并纳入至预置的第一class-map集合。通过采用上述技术方案，如果通过的流量的VNI达到通过预置，说明此流量是符合第一业务ACL的流量，那么这些流量允许通过此SDN交换机设备。同时将符合第一业务ACL的流量纳入到第一class-map集合中进行分组分类，方便后续第一policy-map集合对第一class-map集合中的流量指定限速带宽的处理策略。可选的，所述虚拟专线业务配置信息包括虚拟专线的Z端节点的管理IP地址，所述根据所述虚拟专线业务配置信息，向虚拟专线的Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，包括：通过SDN控制器提取所述虚拟专线业务配置信息中的所述Z端节点的管理IP地址；根据所述Z端节点的管理IP地址，并通过所述Z端节点开放的RPC接口，向所述Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置。通过采用上述技术方案，得到虚拟专线业务配置信息后，服务器中预置的SDN控制器获取到该虚拟专线业务配置信息，接着从中提取出Z端节点的管理IP地址，并且SDN控制器通过此管理IP地址与Z端节点对应的SDN交换机建立远程连接以此来管理对应的SDN交换机，最后通过Z端节点对应的SDN交换机的RPC接口向SDN交换机下发虚拟专线业务配置的相关命令以完成Z端的虚拟专线业务配置。从而使得不必拘泥于南向接口的协议类型，灵活的采用RPC接口也能快速实现虚拟专线业务配置。可选的，所述虚拟专线业务配置信息包括虚拟专线的Z端节点的端口模式、虚拟专线的Z端节点上用于连接客户的物理端口号和虚拟专线业务的限速带宽，所述向所述Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，包括：将所述Z端节点对应的SDN交换机上未占用的VLAN值作为所述Z端节点对应的SDN交换机SVLAN；建立所述Z端节点对应的SDN交换机SVLAN到CVLAN的映射，所述CVLAN为虚拟专线的Z端节点的端口模式；在所述Z端节点对应的SDN交换机的指定物理端口上允许通过所述A端节点对应的SDN交换机SVLAN，所述指定物理端口为虚拟专线的Z端节点上用于连接客户的物理端口号；将所述SDN交换机骨干网络中未占用的VNI值作为业务VNI，建立所述Z端节点对应的SDN交换机SVLAN到所述业务VNI的映射；新建第二业务ACL，根据所述业务VNI，将符合所述第二业务ACL的流量纳入至预置的第二class-map集合；将所述第二class-map集合移入至预置的第二policy-map集合，对所述第二policy-map集合中的所述第二class-map集合指定限速带宽以完成虚拟专线业务配置，所述限速带宽为虚拟专线业务的限速带宽。通过采用上述技术方案，从Z端节点对应的SDN交换机中选取没有被占用VLAN值作为SVLAN。接着获取虚拟专线的A端节点的端口模式下的CVLAN，将SVLAN与CVLAN建立映射关系，避免CVLAN的重复。并且在Z端节点上用户连接客户的物理端口号对应的物理端口允许SVLAN通过。然后选取SDN交换机骨干网络中未占用的VNI值作为业务VNI，将SVLAN与业务VNI也同样建立映射关系。这样当有用户端流量的VNI为业务VNI时，允许通过Z端节点对应的SDN交换机，即符合第二业务ACL。将满足第二业务ACL的流量纳入到第二class-map集合，以对不同数据流进行分类。最后由第二policy-map集合对已经分类的数据流进行规则设定，主要是按照虚拟专线业务配置信息中用户自定义的限速带宽，对第二class-map集合中数据流进行带宽限速处理，从而使得完成对Z端节点对应的SDN交换机的虚拟专线业务配置。可选的，所述基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息之前，还包括：基于外部边界网关协议，将SDN交换机骨干网络中各SDN交换机分别设置对应的自治域；为各所述SDN交换机分别分配管理地址，并将各所述管理地址分别配置在对应的所述SDN交换机的loopback接口，以搭建SDN交换机骨干网络；通过采用上述技术方案，为SDN交换机骨干网络中各个交换机分别设置各自独立的自治域，组成自治域系统。基于外部边界网关协议，通过部署路由策略实现各自治域对应SDN交换机实现路由互通，进而实现对跨域数据流量的引导和定向。接着为每台SDN交换机分配对应的管理地址，并将该管理地址配置到对应SDN交换机的loopback接口上，从而实现快速搭建SDN交换机骨干网络。使得通过各SDN交换机的物理接口，SDN控制器所在的服务器能接入到SDN交换机骨干网络中，能与SDN交换机骨干网络中每台SDN交换机进行互相通讯，进而使得可以通过SDN控制器向A端节点和Z端节点对应的SDN交换机下发配置指令。在本申请的第二方面提供了一种基于SDN的虚拟专线业务下发装置，具体包括：配置信息收集模块，用于基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息；A端配置下发模块，用于根据所述虚拟专线业务配置信息，向虚拟专线的A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置；Z端配置下发模块，用于根据所述虚拟专线业务配置信息，向虚拟专线的Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，以建立所述A端节点与所述Z端节点VXLAN虚拟专线业务隧道。通过采用上述技术方案，配置信息收集模块获取到用户自定义的虚拟专线业务配置信息，接着由A端配置下发模块根据获取到虚拟专线业务配置信息向虚拟专线的A端节点对应的SDN交换机下发配置命令，最后再由Z端配置下发模块向虚拟专线的Z端节点对应的SDN交换机下发配置命令，从而快速准确完成A端节点和Z端节点分别对应的SDN交换机虚拟专线业务配置，建立A端节点和Z端节点之间的VXLAN虚拟专线业务隧道，较好的节省时间和人力成本。综上所述，本申请包括以下至少一种有益技术效果：SDN交换机骨干网络搭建完成后，SDN交换机骨干网络中每台SDN交换机之间都能互通，而且服务器接入到SDN交换机骨干网络中，能使得服务器与骨干网络中任何一台的交换机相互通讯，包括虚拟专线业务两端A端和Z端分别对应的SDN交换机。获取到用户自定义的虚拟专线业务配置信息后，基于SDN交换机骨干网络，可以根据虚拟专线业务配置信息，准确快速的向A端节点和Z端节点分别对应的SDN交换机自动下发配置命令，使得虚拟专线业务两端对应的SDN交换机较快完成配置，在SDN交换机之间快速建立VXLAN虚拟专线业务隧道，相较于人工配置下发，节省了时间和人力成本。附图说明图1是本申请实施例提供的一种基于SDN的虚拟专线业务下发方法的流程示意图；图2是本申请实施例提供的另一种基于SDN的虚拟专线业务下发方法的流程示意图；图3是本申请实施例提供的一种基于SDN的虚拟专线业务下发装置的结构示意图；图4是本申请实施例提供的另一种基于SDN的虚拟专线业务下发装置的结构示意图。附图标记说明：11、配置信息收集模块；12、A端配置下发模块；13、Z端配置下发模块。具体实施方式为了使本技术领域的人员更好地理解本说明书中的技术方案，下面将结合本说明书实施例中的附图，对本说明书实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅是本申请一部分实施例，而不是全部的实施例。在本申请实施例的描述中，“示性的”、“例如”或者“举例来说”等词用于表示作例子、例证或说明。本申请实施例中被描述为“示性的”、“例如”或者“举例来说”的任何实施例或设计方案不应被解释为比其它实施例或设计方案更优选或更具优势。确切而言，使用“示性的”、“例如”或者“举例来说”等词旨在以具体方式呈现相关概念。在本申请实施例的描述中，术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，单独存在B，同时存在A和B这三种情况。另外，除非另有说明，术语“多个”的含义是指两个或两个以上。例如，多个系统是指两个或两个以上的系统，多个屏幕终端是指两个或两个以上的屏幕终端。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。术语“包括”、“包含”、“具有”及它们的变形都意味着“包括但不限于”，除非是以其他方式另外特别强调。参见图1，本申请实施例公开了一种基于SDN的虚拟专线业务下发方法的流程示意图，可依赖于计算机程序实现，也可运行于基于冯诺依曼体系的基于SDN的虚拟专线业务下发装置上。该计算机程序可集成在应用中，也可作为独立的工具类应用运行，具体包括：S101：基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息。具体的，交换机骨干网络为至少两台路由互通的SDN交换机组成的骨干网络。SDN交换机处于SDN网络的数据平面，数据平面是执行网络数据包处理的实体，数据平面的交换设备专注与高速转发数据分组。其中，骨干网络为具有分布式网状拓扑结构的分组交换网络，信息以分组的形式通过由到达同一目的地的多个路径构成的网络传送。网络通过路由器相连。SDN网络即软件定义网络，是由美国斯坦福大学Clean-Slate课题研究组提出的一种新型网络创新架构，是网络虚拟化的一种实现方式。其核心技术OpenFlow通过将网络设备的控制面与数据面分离开来，从而实现了网络流量的灵活控制，使网络变得更加智能。按照SDN交换机所支持的南向协议来看，SDN交换机可分为纯SDN交换机、混合交换机、自盒SDN交换机、裸交换机。虚拟专线业务是基于虚拟可扩展局域网创建的业务，虚拟专线采用先进的SDN技术，使用特有的传输路径优选及加速技术，通过互联网向企业提供的一种端到端流量加速服务。在本申请实施例中，虚拟专线业务中一端到另一端为A端节点到Z端节点。虚拟专线业务配置信息包括虚拟专线业务的限速带宽，单位为Kbps，即每秒可通过交换机流量的速率；虚拟专线的A端节点的管理IP地址，即A端节点对应的SDN交换机的管理IP地址；虚拟专线的A端节点的端口模式，端口模式可以为TRUNK模式下的某VLAN，也可以是ACCESS模式下的某VLAN。TRUNK模式下可以允许多个VLAN通过，可以接收和发送多个VLAN报文，一般用于交换机与交换机相关的接口；ACCESS模式可以允许多个VLAN通过，可以接收和发送多个VLAN报文，可以用于交换机之间的连接或者交换机与用户计算机之间的连接。虚拟专线的A端节点上用于连接客户的物理端口号，即A端节点对应的SDN交换机设备上的物理端口编号。物理端口为交换机上用于连接其他网络设备的接口。具体来说，交换机上的物理端口可以为RJ-45端口、Serial端口等。虚拟专线的Z端节点的管理IP地址，即Z端节点对应的SDN交换机的管理IP地址；虚拟专线的Z端节点的管理IP地址，即Z端节点对应的SDN交换机的管理IP地址；虚拟专线的Z端节点上用于连接客户的物理端口号，即Z端节点对应的SDN交换机设备上的物理端口编号。需要说明的是，虚拟专线业务配置信息包括的此七项参数均为用户自定义，并通过终端设备输入至服务器，终端设备可以是移动终端或者计算机设备。另外需要说明的是，SDN交换机骨干网络中任意两台SDN交换机均可以作为虚拟专线的A端节点和Z端节点分别对应的SDN交换机。换言之，A端节点和Z端节点分别对应的交换机设备并非固定。S102：根据虚拟专线业务配置信息，向虚拟专线的A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置。在一个可实现的实施方式中，通过SDN控制器提取虚拟专线业务配置信息中的A端节点的管理IP地址；根据A端节点的管理IP地址，并通过A端节点开放的RPC接口，向A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置。具体的，SDN控制器为软件定义网络SDN中的应用程序，同时运行在服务器中，是负责向A端节点和Z端节点分别对应的SDN交换机下发配置命令，使得A端节点和Z端节点分别对应的SDN交换机执行命令快速完成虚拟专线业务配置，最终完成两节点之间VXLAN虚拟隧道的创建。远程过程调用接口相当于调用本地接口一样调用远程服务的接口。RPC是一种协议，程序可以使用这种协议向网络中的另一台计算机上的程序请求服务。SDN控制器将服务器获取到虚拟专线业务配置信息存入到服务器的数据库中后，并提取虚拟专线业务配置信息中的A端节点的管理IP地址，即A端节点对应的SDN交换机的管理IP地址，根据此管理IP地址使得SDN控制器能与A端节点对应的SDN交换机建立连接，接着通过A端节点对应的SDN交换机上的RPC接口，向A端节点对应的SDN交换机下发配置命令，以使A端节点对应的SDN交换机接收到SDN控制器下发的配置命令，执行相应的命令，快速准确的完成A端节点的虚拟专线业务配置。S103：根据虚拟专线业务配置信息，向虚拟专线的Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，以建立A端节点与Z端节点VXLAN虚拟专线业务隧道。在一个可实现的实施方式中，通过SDN控制器提取虚拟专线业务配置信息中的Z端节点的管理IP地址；根据Z端节点的管理IP地址，并通过Z端节点开放的RPC接口，向Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置。具体的，SDN控制器将服务器获取到虚拟专线业务配置信息存入到服务器的数据库中后，并提取虚拟专线业务配置信息中的Z端节点的管理IP地址，即Z端节点对应的SDN交换机的管理IP地址，根据此管理IP地址使得SDN控制器能与Z端节点对应的SDN交换机建立连接，接着通过Z端节点对应的SDN交换机上的RPC接口，向Z端节点对应的SDN交换机下发配置命令，以使Z端节点对应的SDN交换机接收到SDN控制器下发的配置命令，执行相应的命令，快速准确的完成Z端节点的虚拟专线业务配置，使得建立A端节点与Z端节点之间的VXLAN虚拟隧道快速创建。需要说明的是，SDN控制器所在的服务器可以与A端节点和/或Z端节点对应的SDN交换机通过物理接口直接连接，SDN控制器所在的服务器也可以通过虚拟接口与A端节点和/或Z端节点对应的SDN交换机远程连接。其中，SDN控制器所在的服务器、A端节点对应的SDN交换机以及Z端节点对应的SDN交换机可以在同一区域，也可以互不在同一区域。例如，三者可以同时在北京。再例如，SDN控制器所在的服务器可以设置在北京，A端节点对应SDN交换机可以设置在上海，Z端节点对应的SDN交换机可以设置在广州。参见图2，本申请实施例公开了另一种基于SDN的虚拟专线业务下发方法的流程示意图，可依赖于计算机程序实现，也可运行于基于冯诺依曼体系的基于SDN的虚拟专线业务下发装置上。该计算机程序可集成在应用中，也可作为独立的工具类应用运行，具体包括：S201：基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息。在一个实现的实施方式中，S201之前还包括：基于外部边界网关协议，将SDN交换机骨干网络中各SDN交换机分别设置对应的自治域；为各SDN交换机分别分配管理地址，并将各管理地址分别配置在对应的SDN交换机的loopback接口，以搭建SDN交换机骨干网络。具体的，外部边界网关协议，用于在不同的自治系统间交换路由信息。自治域即自治系统，是一组路由器的集合，它们拥有同样的选路策略、被同一技术管理部门管理运行，因此可以说自治系统是一同运行工作，以提供内部选路的内部网关协议的汇集。将SDN交换机骨干网络中各SDN交换机分别设置对应的自治域，即划分彼此独立的自治域，SDN交换机骨干网络中存在上海的SDN交换机和武汉的SDN交换机，因所在区域不同，那么上海的SDN交换机的自治域，与武汉的SDN交换机的自治域不同且独立。但是基于外部边界网关协议，这些位于不同区域的SDN交换机又能实现路由互通。loopback接口是一种纯软件性质的虚拟接口，loopback接口可以配置ip地址，为了节约ip地址，系统会自动给loopback接口的ip地址配置32位的子网掩码。为了方便管理每一台SDN交换机，为每台SDN交换机指定一个管理地址，同时也会将该管理地址作为VXLAN隧道端点地址，接着将管理地址配置在每个SDN交换机对应的loopback接口，由于loopback接口创建后一直保持UP状态，使得每台SDN交换机的网络可靠性更高，而且各SDN交换机之间的骨干网络也因此搭建完成。需要说明的是，VXLAN虚拟专线业务隧道即两个VTEP之间的点到点的逻辑隧道，VTEP为数据帧封装VXLAN头，UDP头和IP头，通过VXLAN隧道将封装后的报文传递到远端VTEP，远端VTEP设备对其进行解封装。S202：通过SDN控制器提取虚拟专线业务配置信息中的A端节点的管理IP地址。具体的，可参考步骤S101-S102，在此不再赘述。S203：根据A端节点的管理IP地址，并通过A端节点开放的RPC接口，将A端节点对应的SDN交换机上未占用的VLAN值作为A端节点对应的SDN交换机SVLAN。S204：建立A端节点对应的SDN交换机SVLAN到CVLAN的映射，CVLAN为虚拟专线的A端节点的端口模式。具体的，的中文名为虚拟局域网，虚拟局域网是一组逻辑上的设备和用户，这些设备并不受物理位置的限制，可以根据功能、部门以及应用等因素将它们组织起来，相互之间的通信就好像它们再同一个网段中。另外交换机端口存在两种属性，其一是VLANID，其二是VLANTAG。VLANID其实就是VLAN值，VLAN值取值范围为2-4094的正整数，可分配给用户的VLAN有限，取其中没有被占用的VLAN值作为SVLAN，即交换机设备VLAN，并在A端节点对应的SDN交换机上新建该SVLAN。其中，SVLAN的作用是为了更好的对用户进行隔离，因为实际应用中，尤其是在城域网中，需要大量的VLAN来隔离客户，而有限的VLAN个数很难满足，易于出现两个用户的VLAN重复，发生冲突。因此在设备上新建SVLAN，分别建立各个CVLAN，即用户端的VlAN到SVLAN的映射，使得各个CVLAN发生重复冲突概率较低，较好的将各个用户进行隔离。CVLAN为TRUNK模式或ACCESS模式下用户端的VLAN。例如，用户a的VlAN为100，用户b的VlAN也为100，可见用户a和用户b的VlAN产生冲突，此时将SVLAN映射到用户a的VlAN上，映射后的结果为1001，将SVLAN映射到用户a的VlAN映射，映射后的结果为1002，使得两个用户的VlAN不会相撞，在运营商网络中传输中也不会发生冲突。S205：在A端节点对应的SDN交换机的指定物理端口上允许通过A端节点对应的SDN交换机SVLAN，指定物理端口为虚拟专线的A端节点上用于连接客户的物理端口号。S206：将SDN交换机骨干网络中未占用的VNI值作为业务VNI，建立A端节点对应的SDN交换机SVLAN到业务VNI的映射。具体的，指定物理端口为用户自定义的虚拟专线业务配置配置信息中的用于连接客户的物理端口号对应的物理端口，由于SVLAN与CSVLAN建立有一一对应的映射关系，因此允许A端节点对应的SDN交换机上用于连接客户的物理端口可以通过A端节点对应的SDN交换机的SVLAN，接着刨去整个SDN交换机骨干网络中各个SDN交换机中占用的VNI值，VNI值的取值范围为1～16000000，取SDN交换机骨干网络中未占用的VNI值作为业务VNI，最后建立SVLAN到该业务VNI的映射，从而使得此SVLAN与该业务VNI一一对应。S207：新建第一业务ACL，根据业务VNI，将符合第一业务ACL的流量纳入至预置的第一class-map集合。在一个可实现的实施方式中，新建第一业务ACL，将业务VNI确定为第一业务ACL的通过阈值；将VNI为通过阈值的流量确定为符合第一业务ACL的流量，并纳入至预置的第一class-map集合。具体的，新建第一业务ACL，第一业务ACL即访问控制列表ACL是由一条或多条规则组成的集合。所谓规则，是指描述报文匹配条件的判断语句，这些条件可以是报文的源地址、目的地址、端口号等。ACL本质上是一种报文过滤器，规则是过滤器的滤芯。设备基于这些规则进行报文匹配，可以过滤出特定的报文，并根据应用ACL的业务模块的处理策略来允许或阻止该报文通过。通俗来讲，ACL作为一个过滤器，设备通过应用ACL来阻止和允许特定流量的流入和流出，如果没有它，任何流量都会自由流入和流出，使得网络容易受到攻击。在A端节点对应的SDN交换机新建第一业务ACL，可以对通过此SDN交换机的流量的流入和流出进行控制。具体控制方式为：将确定的业务VNI对应的VNI值确定为通过此SDN交换机的通过阈值，业务VNI对应的VNI值可以为1000字节。当流量的VNI为通过阈值，即为1000字节时，则确定此流量为符合业务ACL的流量，允许此流量通过A端节点对应的SDN交换机。例如，如果流量为900字节，则不符合第一业务ACL，不允许通过A端节点对应的SDN交换机。确定符合第一业务ACL的流量后，将这些流量整合到第一class-map集合，即白名单集合。可以理解为第一业务ACL将流量进行分类后，第一class-map集合关联第一业务ACL，对不同类型的流量进行分组。在其他实施例中，通过定义策略映射，关联第一class-map集合，对第一class-map集合中不同类型的流量进行打标，甚至设置优先级来完成后续对网络数据包，协议进行限制，从而达到优化网络传输的目的。class map集合是对类映射的定义，类映射用于根据IP协议和其他标准对流量进行分类，然后每个类映射可以与用来定义流量处理方式的策略映射进行关联。例如，进行打标可以为如下形式：1、对VOIP流量，给予IP优先级5；2、对于telnet流量，给予IP优先级4；3、对于来自172.16.1.0的流量，给予IP优先级2。S208：将第一class-map集合移入至预置的第一policy-map集合，对第一policy-map集合中的第一class-map集合指定限速带宽以完成虚拟专线业务配置，限速带宽为虚拟专线业务的限速带宽。具体的，第一policy-map集合是对策略映射的定义，策略映射用来不同流量的处理方式。它可以与类映射匹配，并且调用第一class-map集合，对第一class-map集合中已经分类分组的流量进行策略规则设定。在本申请实施例中，为第一class-map集合中已经分类分组的流量指定限速策略，即按照虚拟专线业务配置信息中的限速带宽设置流量通过此SDN交换机的限速带宽，同时设置CBS和EBS，CBS ：承诺突发尺寸突发尺寸，令牌桶的容量，即每次突发所允许的最大的流量尺寸。设置的突发尺寸必须大于最大报文长度。计量单位为byte。EBS超出突发尺寸，即瞬间能够通过的超出突发流量。当通过的流量超过了限速带宽或CBS，则通常采取的为丢包方式，即exceed-action drop。需要说明的是，第一policy-map集合中可以包含单个第一class-map集合，也可以包含多个不同的第一class-map集合。S209：通过SDN控制器提取虚拟专线业务配置信息中的Z端节点的管理IP地址。S210：根据Z端节点的管理IP地址，并通过Z端节点开放的RPC接口，将Z端节点对应的SDN交换机上未占用的VLAN值作为Z端节点对应的SDN交换机SVLAN。S211：建立Z端节点对应的SDN交换机SVLAN到CVLAN的映射，CVLAN为虚拟专线的Z端节点的端口模式。S212：在Z端节点对应的SDN交换机的指定物理端口上允许通过Z端节点对应的SDN交换机SVLAN，指定物理端口为虚拟专线的Z端节点上用于连接客户的物理端口号。S213：将SDN交换机骨干网络中未占用的VNI值作为业务VNI，建立Z端节点对应的SDN交换机SVLAN到业务VNI的映射。S214：新建第二业务ACL，根据业务VNI，将符合第二业务ACL的流量纳入至预置的第二class-map集合。S215：将第二class-map集合移入至预置的第二policy-map集合，对第二policy-map集合中的第二class-map集合指定限速带宽以完成虚拟专线业务配置，以建立A端节点与Z端节点VXLAN虚拟专线业务隧道，限速带宽为虚拟专线业务的限速带宽。具体的，由于可分配给用户的VLAN有限，取其中没有被占用的VLAN值作为SVLAN，即交换机设备VLAN，并在Z端节点对应的SDN交换机上新建该SVLAN。新建SVLAN后，分别建立各个CVLAN，即用户端的VlAN到SVLAN的映射，使得各个CVLAN发生重复冲突概率较低，较好的将各个用户进行隔离。CVLAN为Z端节点的TRUNK模式或ACCESS模式下用户端的VLAN。指定物理端口为用户自定义的虚拟专线业务配置配置信息中的用于连接客户的物理端口号对应的物理端口，由于SVLAN与CSVLAN建立有一一对应的映射关系，因此允许Z端节点对应的SDN交换机上用于连接客户的物理端口可以通过Z端节点对应的SDN交换机的SVLAN，接着刨去整个SDN交换机骨干网络中各个SDN交换机中占用的VNI值，取SDN交换机骨干网络中未占用的VNI值作为业务VNI，最后建立SVLAN到该业务VNI的映射，从而使得此SVLAN与该业务VNI一一对应。在Z端节点对应的SDN交换机新建第二业务ACL，可以对通过此SDN交换机的流量的流入和流出进行控制。具体控制方式为：将确定的业务VNI对应的VNI值确定为通过此SDN交换机的通过阈值，业务VNI对应的VNI值可以为1000字节。当流量的VNI为通过阈值，即为1000字节时，则确定此流量为符合第二业务ACL的流量，允许此流量通过Z端节点对应的SDN交换机。确定符合第二业务ACL的流量后，将这些流量整合到第二class-map集合，新建第二policy-map集合，对第二class-map集合中已经分类分组的流量进行策略规则设定。在本申请实施例中，为第二class-map集合中已经分类分组的流量指定限速策略，即按照虚拟专线业务配置信息中的限速带宽设置流量通过此SDN交换机的限速带宽，同时设置CBS和EBS，当通过的流量超过了限速带宽或CBS，则通常采取的为丢包方式，即exceed-action drop。随着Z端节点对应的SDN交换机完成虚拟专线业务配置，SDN交换机骨干网络中A端节点与Z端节点之间的VXLAN虚拟专线业务隧道。需要说明的是，向Z端节点对应的SDN交换机下发配置命令的详细过程，可参考S202-S208中向A端节点对应的SDN交换机下发配置命令的过程，在此不再赘述。另外，第二policy-map集合中可以包含单个第二class-map集合，也可以包含多个不同的第二class-map集合。本申请实施例基于SDN的虚拟专线业务下发方法的实施原理为：基于外部边界网关协议将SDN交换机骨干网络搭建完成后，接收到用户自定义的虚拟专线业务配置信息，通过运行在服务器中的SDN控制器将虚拟专线业务配置信息保存至服务器的数据库中，并根据虚拟专线业务配置信息依次分别向A端节点和Z端节点对应的SDN交换机下发配置命令，使得A端节点和Z端节点对应的SDN交换机接收到SDN控制器的配置命令后，依次执行配置命令，完成SDN交换机的虚拟专线业务配置，建立A端节点和Z端节点之间的VXLAN虚拟隧道，节省了人力和时间成本。下述为本申请装置实施例，可以用于执行本申请方法实施例。对于本申请装置实施例中未披露的细节，请参照本申请方法实施例。请参见图3，为本申请实施例提供的基于SDN的虚拟专线业务下发装置的结构示意图。该应用于基于SDN的虚拟专线业务下发装置可以通过软件、硬件或者两者的结合实现成为装置的全部或一部分。该装置1包括配置信息收集模块11、A端配置下发模块12和Z端配置下发模块13。配置信息收集模块11，用于基于SDN交换机骨干网络，获取用户自定义的虚拟专线业务配置信息；A端配置下发模块12，用于根据虚拟专线业务配置信息，向虚拟专线的A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置；Z端配置下发模块13，用于根据虚拟专线业务配置信息，向虚拟专线的Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置，以建立A端节点与Z端节点VXLAN虚拟专线业务隧道。可选的，A端配置下发模块12，具体用于：通过SDN控制器提取虚拟专线业务配置信息中的A端节点的管理IP地址；根据A端节点的管理IP地址，并通过A端节点开放的RPC接口，向A端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置。可选的，A端配置下发模块12，具体还用于：将A端节点对应的SDN交换机上未占用的VLAN值作为A端节点对应的SDN交换机SVLAN；建立A端节点对应的SDN交换机SVLAN到CVLAN的映射，CVLAN为虚拟专线的A端节点的端口模式；在A端节点对应的SDN交换机的指定物理端口上允许通过A端节点对应的SDN交换机SVLAN，指定物理端口为虚拟专线的A端节点上用于连接客户的物理端口号；将SDN交换机骨干网络中未占用的VNI值作为业务VNI，建立A端节点对应的SDN交换机SVLAN到业务VNI的映射；新建第一业务ACL，根据业务VNI，将符合第一业务ACL的流量纳入至预置的第一class-map集合；将第一class-map集合移入至预置的第一policy-map集合，对第一policy-map集合中的第一class-map集合指定限速带宽以完成虚拟专线业务配置，限速带宽为虚拟专线业务的限速带宽。可选的，A端配置下发模块12，具体还用于：新建第一业务ACL，将业务VNI确定为第一业务ACL的通过阈值；将VNI为通过阈值的流量确定为符合第一业务ACL的流量，并纳入至预置的第一class-map集合。可选的，Z端配置下发模块13，具体用于：通过SDN控制器提取虚拟专线业务配置信息中的Z端节点的管理IP地址；根据Z端节点的管理IP地址，并通过Z端节点开放的RPC接口，向Z端节点对应的SDN交换机下发配置命令以完成虚拟专线业务配置。可选的，Z端配置下发模块13，具体还用于：将Z端节点对应的SDN交换机上未占用的VLAN值作为Z端节点对应的SDN交换机SVLAN；建立Z端节点对应的SDN交换机SVLAN到CVLAN的映射，CVLAN为虚拟专线的Z端节点的端口模式；在Z端节点对应的SDN交换机的指定物理端口上允许通过Z端节点对应的SDN交换机SVLAN，指定物理端口为虚拟专线的Z端节点上用于连接客户的物理端口号；将SDN交换机骨干网络中未占用的VNI值作为业务VNI，建立Z端节点对应的SDN交换机SVLAN到业务VNI的映射；新建第二业务ACL，根据业务VNI，将符合第二业务ACL的流量纳入至预置的第二class-map集合；将第二class-map集合移入至预置的第二policy-map集合，对第二policy-map集合中的第二class-map集合指定限速带宽以完成虚拟专线业务配置，限速带宽为虚拟专线业务的限速带宽。可选的，如图4所示，装置1还包括骨干网络搭建模块14，具体用于：基于外部边界网关协议，将SDN交换机骨干网络中各SDN交换机分别设置对应的自治域；为各SDN交换机分别分配管理地址，并将各管理地址分别配置在对应的SDN交换机的loopback接口，以搭建SDN交换机骨干网络。需要说明的是，上述实施例提供的一种基于SDN的虚拟专线业务下发装置在执行基于SDN的虚拟专线业务下发方法时，仅以上述各功能模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能模块完成，即将设备的内部结构划分成不同的功能模块，以完成以上描述的全部或者部分功能。另外，上述实施例提供的一种基于SDN的虚拟专线业务下发装置与一种基于SDN的虚拟专线业务下发方法实施例属于同一构思，其体现实现过程详见方法实施例，这里不再赘述。本申请实施例还公开一种计算机可读存储介质，并且，计算机可读存储介质存储有计算机程序，其中，计算机程序被处理器执行时，采用了上述实施例的一种基于SDN的虚拟专线业务下发方法。其中，计算机程序可以存储于计算机可读介质中，计算机程序包括计算机程序代码，计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间件形式等，计算机可读介质包括能够携带计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等，需要说明的是，计算机可读介质包括但不限于上述元器件。其中，通过本计算机可读存储介质，将上述实施例的一种基于SDN的虚拟专线业务下发方法存储于计算机可读存储介质中，并且，被加载并执行于处理器上，以方便上述方法的存储及应用。本申请实施例还公开一种电子设备，计算机可读存储介质中存储有计算机程序，计算机程序被处理器加载并执行时，采用了上述一种基于SDN的虚拟专线业务下发方法。其中，电子设备可以采用台式电脑、笔记本电脑或者云端服务器等电子设备，并且，电子设备设备包括但不限于处理器以及存储器，例如，电子设备还可以包括输入输出设备、网络接入设备以及总线等。其中，处理器可以采用中央处理单元，当然，根据实际的使用情况，也可以采用其他通用处理器、数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等，通用处理器可以采用微处理器或者任何常规的处理器等，本申请对此不做限制。其中，存储器可以为电子设备的内部存储单元，例如，电子设备的硬盘或者内存，也可以为电子设备的外部存储设备，例如，电子设备上配备的插接式硬盘、智能存储卡、安全数字卡或者闪存卡等，并且，存储器还可以为电子设备的内部存储单元与外部存储设备的组合，存储器用于存储计算机程序以及电子设备所需的其他程序和数据，存储器还可以用于暂时地存储已经输出或者将要输出的数据，本申请对此不做限制。其中，通过本电子设备，将上述实施例的一种基于SDN的虚拟专线业务下发方法存储于电子设备的存储器中，并且，被加载并执行于电子设备的处理器上，方便使用。以上所述者，仅为本公开的示例性实施例，不能以此限定本公开的范围。即但凡依本公开教导所作的等效变化与修饰，皆仍属本公开涵盖的范围内。本领域技术人员在考虑说明书及实践这里的公开后，将容易想到本公开的其它实施方案。本申请旨在涵盖本公开的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本公开的一般性原理并包括本公开未记载的本技术领域中的公知常识或惯用技术手段。说明书和实施例仅被视为示例性的，本公开的范围和精神由权利要求限定。
