标题title
一种有刷直流电机控制方法
摘要abst
本发明涉及一种电机控制方法，尤其是一种有刷直流电机控制方法，该有刷直流电机的驱动电路采用H桥电路，所述H桥电路具有四个开关管，则该有刷直流电机的电动机两端共有三种电压状态，分别为、和0，该控制方法包括建立有刷直流电机模型、控制增益优化、设计基于预定时间滑模趋近律的广义比例积分扰动观测器以及对电流进行控制等步骤，通过设计预定义时间滑模趋近律，保证控制系统在固定时间内收敛，收敛速度快，电流控制精度相对较高，同时通过设计基于预定时间滑模趋近律的广义比例积分观测器和控制增益优化器，实时估计、补偿模型参数和外部扰动，提高控制系统在复杂环境下的抗干扰能力。
权利要求书clms
1.一种有刷直流电机控制方法，该有刷直流电机的驱动电路采用H桥电路，所述H桥电路具有四个开关管，则该有刷直流电机的电动机两端共有三种电压状态，分别为、和0，其特征在于，该控制方法包括以下步骤：S1、建立有刷直流电机模型如下，，式中，表示扰动项，代表参数失配和外部扰动，/＞表示控制增益，/＞表示所述有刷直流电机的定子电压，/＞表示所述有刷直流电机的定子电流的微分，i表示扰动项导数的阶次，n表示所用的扰动项导数的最高阶次，d表示扰动项n阶导数值，/＞表示扰动项的第i阶导数的微分、fi+1表示扰动项的第i+1阶导数，/＞表示扰动项的第n阶导数的微分；S2，控制增益优化，具体方法为：在稳态条件下，的n+1阶微分为0，则所述有刷直流电机模型的n+1阶微分为，据此获得某一时刻/＞的表达式为/＞；将/＞时刻的估计系统定义为/＞，其中，/＞为/＞的估计值，/＞为/＞的估计值，则估计误差定义为/＞；求解下列目标函数的最小值，，式中，，/＞为可调参数；S3，设计基于预定时间滑模趋近律的广义比例积分扰动观测器，具体方法为：S3.1，将预定时间滑模趋近律设计为：，其中，为滑模面的微分，T为预定义时间，/＞是该趋近律的参数，其取值范围为，计算获得所述预定时间滑模趋近律的趋近时间为：，/＞令，，则最大收敛时间为T；S3.2，将预估值代入所述有刷直流电机模型，获得关系式一：，将广义比例积分观测器设计为关系式二：，其中，为定子电流估计值的微分，/＞为扰动项i阶导数估计值的微分，/＞为扰动项n阶导数估计值的微分，将所述关系式二减去所述关系式一，获得关系式三：，其中，为电流估计误差的微分，/＞为扰动项i阶导数估计误差的微分，/＞为扰动项n阶导数估计误差的微分，/＞，/＞，将滑模面设计为/＞，则根据所述预定时间滑模趋近律，可得关系式四：；S4，对电流进行控制，具体方法为：将预估值代入所述关系式一，获得关系式五：/＞，设计滑模面为：，其中，是预定义的收敛时间，/＞，则所述滑模面的时间微分为关系式六：，/＞其中，为电流控制滑模面的微分，/＞为参考电流和反馈电流误差的微分；计算第k+1时刻的滑模面，可得关系式七，其中，/＞为控制周期，根据所述预定时间滑模趋近律，k+1时刻的目标滑模面为关系式八：，其中，为/＞预定义的收敛时间，定义滑模预测电流控制的成本函数为，联立所述关系式五、所述关系式六、所述关系式七、所述关系式八和所述成本函数，获得关系式九：，分别将、/＞和0三个值分别代入所述关系式九，得到对应的成本函数值为：，其中，，/＞，/＞，选择所述成本函数值/＞对应的i值，输出对应的电压矢量。2.如权利要求1所述的有刷直流电机控制方法，其特征在于，在步骤S2中，，/＞采用以下方法确定：令，可以计算得到/＞步/＞的值为，在z域表示为：，则闭环系统表示为：，/＞其中，和/＞，都为特征方程，根据Jury判据，系统稳定的充分必要条件为：，据此可以获得，/＞选择方式为：。/＞
说明书desc
技术领域本发明涉及一种电机控制方法，尤其是一种有刷直流电机控制方法。背景技术有刷直流电机结构简单、成本低，广泛应用于按摩椅等装备中。传统的有刷直流电机通常采用基于脉宽调制技术的线性PI控制，电流控制精度相对较低。国内外有学者提出了一些有限时间控制策略用于电机系统的电流控制精度，如基于模糊控制的有限时间控制方法、具有干扰补偿效果的有限时间控制方法等，但收敛时间一般与初始状态有关，而在一些实际情况下，系统初始状态难以获取，且其收敛时间随初始状态变化，并且是渐进稳定的，影响收敛速度，电流控制精度仍然有待提高。此外，有刷直流电机应用于复杂环境中，电机参数变化、外部扰动等因素会严重影响控制系统性能，例如低速时可能出现爬行现象，稳态时可能呈现出较大的静差和极限环震荡，抗干扰能力相对较差。有鉴于此，本申请人对有刷直流电机控制方法进行了深入的研究，遂有本案产生。发明内容本发明的目的在于提供一种电流控制精度相对较高且抗干扰能力相对较好的有刷直流电机控制方法。为了实现上述目的，本发明采用如下技术方案：一种有刷直流电机控制方法，该有刷直流电机的驱动电路采用H桥电路，所述H桥电路具有四个开关管，则该有刷直流电机的电动机两端共有三种电压状态，分别为、和0，该控制方法包括以下步骤：S1、建立有刷直流电机模型如下，式中，表示扰动项，代表参数失配和外部扰动，/＞表示控制增益，/＞表示所述有刷直流电机的定子电压，/＞表示所述有刷直流电机的定子电流的微分，i表示扰动项导数的阶次，n表示所用的扰动项导数的最高阶次，d表示扰动项n阶导数值，/＞表示扰动项的第i阶导数的微分、fi+1表示扰动项的第i+1阶导数，/＞表示扰动项的第n阶导数的微分；S2，控制增益优化，具体方法为：在稳态条件下，的n+1阶微分为0，则所述有刷直流电机模型的n+1阶微分为，据此获得某一时刻/＞的表达式为/＞；将/＞时刻的估计系统定义为/＞，其中，/＞为/＞的估计值，/＞为/＞的估计值，则估计误差定义为/＞；求解下列目标函数的最小值，式中，，/＞为可调参数；S3，设计基于预定时间滑模趋近律的广义比例积分扰动观测器，具体方法为：S3.1，将预定时间滑模趋近律设计为：其中，为滑模面的微分，T为预定义时间，/＞是该趋近律的参数，其取值范围为，计算获得所述预定时间滑模趋近律的趋近时间为：令，且/＞，则最大收敛时间为T；S3.2，将预估值代入所述有刷直流电机模型，获得关系式一：将广义比例积分观测器设计为关系式二：其中，为定子电流估计值的微分，/＞为扰动项i阶导数估计值的微分，/＞为扰动项n阶导数估计值的微分，将所述关系式二减去所述关系式一，获得关系式三：/＞其中，为电流估计误差的微分，/＞为扰动项i阶导数估计误差的微分，/＞为扰动项n阶导数估计误差的微分，/＞，/＞，将滑模面设计为/＞，则根据所述预定时间滑模趋近律，可得关系式四：；S4，对电流进行控制，具体方法为：将预估值代入所述关系式一，获得关系式五：/＞，设计滑模面为：其中，是预定义的收敛时间，/＞，则所述滑模面的时间微分为关系式六：其中，为电流控制滑模面的微分，/＞为参考电流和反馈电流误差的微分；计算第k+1时刻的滑模面，可得关系式七，其中，/＞为控制周期，根据所述预定时间滑模趋近律，k+1时刻的目标滑模面为关系式八：其中，为/＞预定义的收敛时间，定义滑模预测电流控制的成本函数为，联立所述关系式五、所述关系式六、所述关系式七、所述关系式八和所述成本函数，获得关系式九：分别将、/＞和0三个值分别代入所述关系式九，得到对应的成本函数值为：其中，，/＞，/＞=0，选择所述成本函数值对应的i值，输出对应的电压矢量。/＞作为发明的一种改进，在步骤S2中，，/＞采用以下方法确定：令，可以计算得到/＞步/＞的值为，在z域表示为：则闭环系统表示为：其中，和/＞，都为特征方程，根据Jury判据，系统稳定的充分必要条件为：据此可以获得，/＞选择方式为：/＞。采用上述技术方案具有以下有益效果：1、本发明通过设计预定义时间滑模趋近律，保证控制系统在固定时间内收敛，收敛速度快，电流控制精度相对较高，同时通过设计基于预定时间滑模趋近律的广义比例积分观测器和控制增益优化器，实时估计、补偿模型参数和外部扰动，提高控制系统在复杂环境下的抗干扰能力。2、通过最小化控制目标误差，直接输出开关信号控制有刷直流电机，降低开关频率，减小开关损耗。附图说明图1为实施例中H 桥电路的第一种连接状态；图2为实施例中H 桥电路的第二种连接状态；图3为实施例中H 桥电路的第三种连接状态；图4为实施例中H 桥电路的第四种连接状态；具体实施方式下面结合具体实施例对本发明做进一步的说明。本发明提供的一种有刷直流电机控制方法，该有刷直流电机的驱动电路采用常规的H桥电路，该H桥电路具有四个开关管，有刷直流电机的电动机的控制系统产生的信号控制四个开关管的导通和关断，通常来说，如果只有一个开关管被导通无法形成通路，超过两个开关管被导通则会出现短路，因此，使用时，四个开关管只会有两个被同时导通，则可以产生如图1-图4所示的四种连接状态，其中两种连接状态电动机的两端的电压为0，也就是说，该有刷直流电机的电动机两端共有三种电压状态，分别为、/＞和0。本实施例提供的有刷直流电机控制方法基于上述驱动电路进行，具体的，该控制方法包括以下步骤：S1、基于扰动的有刷直流电机数学模型可以写为： 或者式中，、/＞、/＞和/＞分别有刷直流电机的定子电压、电流、电感和电阻；/＞表示反电动势；/＞、/＞分别表示比例系数和电机转速。从上式中可以看出，电感、电阻、转速等参数变化都会导致有刷直流电机模型不准确，假设额定电感为Ln，额定电阻为Rn,额定比例系数为kn,实际电感相对额定电感的偏差/＞，实际电阻相对额定电阻的偏差/＞，实际比例系数相对额定比例系数的偏差/＞，则/＞。令表示扰动项，代表参数失配和外部扰动，/＞表示控制增益，则可以重写为/＞，假设/＞是n阶可导的，则可以重写为：式中，表示参数不匹配，/＞表示控制增益，/＞表示所述有刷直流电机的定子电压，/＞表示所述有刷直流电机的定子电流，i表示扰动项导数的阶次，n表示所用的扰动项导数的最高阶次，d表示扰动项n阶导数值，fi表示扰动项的第i阶导数、fi+1表示扰动项的第i+1阶导数，fn表示扰动项的第n阶导数，/＞表示所述有刷直流电机的定子电流的微分，表示扰动项的第i阶导数的微分、/＞表示扰动项的第n阶导数的微分。S2，控制增益优化，具体方法为：在稳态条件下，的n+1阶微分为0，则所述有刷直流电机模型的n+1阶微分为，据此获得某一时刻/＞的表达式为/＞；将/＞时刻的估计系统定义为/＞，其中，/＞为/＞的估计值，/＞为/＞的估计值，则估计误差定义为/＞；求解下列目标函数的最小值，在该目标函数中，e表示估计电流和实测电流误差，其最小化将实现提高电流估计的精度；/＞和/＞对估计控制增益的变化速度进行约束，其中/＞考虑k和k-1时刻的估计控制增益变化速度，/＞考虑下一时刻和当前时刻k的估计控制增益变化速度。式中，，/＞为可调参数且/＞，/＞优选采用以下方法确定：令，可以计算得到/＞步/＞的值为，在z域表示为：/＞则闭环系统表示为：其中，和/＞，都为特征方程，具体计算过程如下：/＞。根据Jury判据，朱利稳定判据叙述如下:设n阶离散系统的特征方程为特征方程式的根，全部严格位于z平面上单位圆内的充要条件是1)/＞2)3)以及下列个约束条件成立，/＞，/＞，………，/＞只有当上述条件均满足时，离散系统才是稳定的，否则系统不稳定。则系统稳定的充分必要条件为：因此，，/＞选择方式为：/＞S3，设计基于预定时间滑模趋近律的广义比例积分扰动观测器，具体方法为：S3.1，将预定时间滑模趋近律设计为：其中，为滑模面的微分，T为预定义时间，/＞是该趋近律的参数，其取值范围为，计算获得所述预定时间滑模趋近律的趋近时间为：/＞令，且/＞，则最大收敛时间为T；具体计算过程如下：。/＞S3.2，将预估值代入所述有刷直流电机模型，获得关系式一：/＞将广义比例积分观测器设计为关系式二：其中，为定子电流估计值的微分，/＞为扰动项i阶导数估计值的微分，/＞为扰动项n阶导数估计值的微分，将所述关系式二减去所述关系式一，获得关系式三：其中，为电流估计误差的微分，/＞为扰动项i阶导数估计误差的微分，/＞为扰动项n阶导数估计误差的微分，/＞，/＞，将滑模面设计为/＞，则根据所述预定时间滑模趋近律，可得关系式四：/＞。S4，对电流进行控制，具体方法为：将预估值代入所述关系式一，获得关系式五：/＞，设计滑模面为：其中，是预定义的收敛时间，/＞，则所述滑模面的时间微分为关系式六：/＞其中，为电流控制滑模面的微分，/＞为参考电流和反馈电流误差的微分；计算第k+1时刻的滑模面，可得关系式七，其中，/＞为控制周期，根据所述预定时间滑模趋近律，k+1时刻的目标滑模面为关系式八：其中，为/＞预定义的收敛时间，定义滑模预测电流控制的成本函数为，联立所述关系式五、所述关系式六、所述关系式七、所述关系式八和所述成本函数，获得关系式九：/＞分别将、/＞和0三个值分别代入所述关系式九，得到对应的成本函数值为：其中，，/＞，/＞，控制系统选择所述成本函数值/＞对应的i值，并控制输出对应的电压矢量，以此实现对有刷直流电机的控制，这样可实时估计、补偿模型参数和外部扰动，提高控制系统在复杂环境下的抗干扰能力，并通过最小化控制目标误差，直接输出开关信号控制有刷直流电机，降低开关频率，减小开关损耗。上面对本发明做了详细的说明，但是本发明的实施方式并不仅限于上述实施方式，本领域技术人员根据现有技术可以对本发明做出各种变形，这些都属于本发明的保护范围。
