标题title
多设备屏幕共享方法、投屏装置、显示装置及共享系统
摘要abst
本发明涉及屏幕共享领域，尤其涉及多设备屏幕共享方法、投屏装置、显示装置及共享系统。一种多设备屏幕共享方法，应用于投屏装置，包括：响应于投屏操作获取投屏数据的第一基础参数发送到显示装置中，以使所述显示装置根据接收到的一个或多个所述投屏装置的所述第一基础参数构建显示画面的基础层；响应于投屏数据的变动情况，获取对应的变动数据发送到所述显示装置，以使所述显示装置基于接收到的一个或多个所述投屏装置的所述变动数据在所述基础层上更新得到显示画面。会在显示装置中预先构建一个与投屏装置的投屏数据对应的基础层，进行投屏共享时，传输变动数据即可，所需要传输的数据量极低，实现快速实时投屏。
权利要求书clms
1.一种多设备屏幕共享方法，其特征在于，应用于投屏装置，包括：响应于投屏操作获取投屏数据的第一基础参数发送到显示装置中，以使所述显示装置根据接收到的一个或多个所述投屏装置的所述第一基础参数构建显示画面的基础层；响应于投屏数据的变动情况，获取对应的变动数据发送到所述显示装置，以使所述显示装置基于接收到的一个或多个所述投屏装置的所述变动数据在所述基础层上更新得到显示画面。2.根据权利要求1所述的多设备屏幕共享方法，其特征在于，所述变动数据包括一个或多个像素点的变动参数；所述变动参数包括像素点的坐标数据、以及像素点的颜色数据；所述变动参数的获取过程包括：获取当前帧的图像与前一帧图像的相同坐标的像素点之间的色值并对比；当对应的色值不相同时，获取对应的像素点的坐标数据以及颜色数据。3.根据权利要求2所述的多设备屏幕共享方法，其特征在于，基于所述变动数据更新所述显示画面具体包括：获取所述变动数据所有像素点的变动参数；基于变动参数中的坐标数据查找目标像素点，基于变动参数中的颜色数据修改所述目标像素点的色值，直到所述变动数据中的所有像素点的色值均修改后完成所述显示画面的更新。4.根据权利要求1所述的多设备屏幕共享方法，其特征在于，当所述显示装置接收多个所述投屏装置发送的所述第一基础参数时，所述显示装置为多个所述投屏装置匹配对应的显示区域，构建显示画面的基础层具体包括：基于所述第一基础参数构建基础对应层；根据所述基础对应层的宽高比在所述显示区域中构建基础层。5.根据权利要求4所述的多设备屏幕共享方法，其特征在于，所述显示装置基于接收到的多个所述显示装置的所述变动数据更新所述显示画面具体包括：基于所述变动数据在所述基础对应层上生成更新后的预显画面；将所述预显画面根据映射比例投射到所述基础层上显示得到所述显示画面；所述映射比例通过所述基础层的第二基础参数与所述基础对应层对应的所述第一基础参数得到。6.根据权利要求1所述的多设备屏幕共享方法，其特征在于，投屏系统包括多个显示装置、多个投屏装置；一所述显示装置用于接收一所述投屏装置发送的所述投屏数据；所述多设备屏幕共享方法还包括：响应于交换操作，获取第一显示参数；将当前投屏数据同步发送到所述第一显示参数对应的第一显示装置；以使所述第一显示装置基于所述当前投屏数据生成预览界面显示在预定位置；响应于确定操作，断开与原对接的第二显示装置之间的通信链路，保持与所述第一显示装置之间的通信链路；同时，使所述第一显示装置与其原对接的第一投屏装置之间的通信链路断开，使所述第一投屏装置与所述第二显示装置之间的通信链路接通。7.一种多设备屏幕共享方法，其特征在于，应用于显示装置，包括：根据接收到的一个或多个投屏装置发送的第一基础参数构建显示画面的基础层；基于接收到的一个或多个所述投屏装置的变动数据在所述基础层上更新得到所述显示画面；所述变动数据为所述投屏装置响应于投屏数据的变动情况得到。8.一种投屏装置，其特征在于，包括：第一处理模块，用于响应于投屏操作获取投屏数据的第一基础参数发送到显示装置中，以使所述显示装置根据接收到的一个或多个所述投屏装置的所述第一基础参数构建显示画面的基础层；第二处理模块，用于响应于投屏数据的变动情况，获取对应的变动数据发送到所述显示装置，以使所述显示装置基于接收到的一个或多个所述投屏装置的所述变动数据在所述基础层上更新得到所述显示画面。9.一种显示装置，其特征在于，包括：第三处理模块，用于根据接收到的一个或多个投屏装置发送的第一基础参数构建显示画面的基础层；第四处理模块，用于基于接收到的一个或多个所述投屏装置的变动数据在所述基础层上更新得到所述显示画面；所述变动数据为所述投屏装置响应于投屏数据的变动情况得到。10.一种投屏系统，其特征在于，包括多个如权利要求8所述的投屏装置、一个或多个如权利要求9所述的显示装置。
说明书desc
技术领域本发明涉及屏幕共享领域，尤其涉及多设备屏幕共享方法、投屏装置、显示装置及共享系统。背景技术投屏操作是当下商务会谈或者会议中常见的功能应用，是将小屏智能设备上的内容投放到大屏显示设备的一种操作。而在一般的会议中，往往会涉及到通过线上或线下形式的多人共同参与的情况，且有很多时候会面临多个参会人员分享数据的情况，此时一般的手段是采用分别共享的方式，但是这样就无法进行不同的参会人员的数据进行对比分析的操作；另一种做法是将所有文件进行汇总，然后使用一个电脑进行投影，很浪费时间，无法满足高效快捷的会议执行。另外现在的线上会议一般无法满足多人同时共享屏幕内容，且在输送投屏内容的时候，若是人较多的情况下，就需要更高带宽，否则就会影响投屏效果。发明内容鉴于上述现有技术的不足之处，本发明的目的在于提供多设备屏幕共享方法、投屏装置、显示装置及共享系统，能够解决在多人投屏环境中需要大带宽网络才能保证投屏质量的问题。为了达到上述目的，本发明采取了以下技术方案：一方面，本发明提供一种多设备屏幕共享方法，应用于投屏装置，包括：响应于投屏操作获取投屏数据的第一基础参数发送到显示装置中，以使所述显示装置根据接收到的一个或多个所述投屏装置的所述第一基础参数构建显示画面的基础层；响应于投屏数据的变动情况，获取对应的变动数据发送到所述显示装置，以使所述显示装置基于接收到的一个或多个所述投屏装置的所述变动数据在所述基础层上更新得到显示画面。进一步的，所述变动数据包括一个或多个像素点的变动参数；所述变动参数包括像素点的坐标数据、以及像素点的颜色数据；所述变动参数的获取过程包括：获取当前帧的图像与前一帧图像的相同坐标的像素点之间的色值并对比；当对应的色值不相同时，获取对应的像素点的坐标数据以及颜色数据。进一步的，基于所述变动数据更新所述显示画面具体包括：获取所述变动数据所有像素点的变动参数；基于变动参数中的坐标数据查找目标像素点，基于变动参数中的颜色数据修改所述目标像素点的色值，直到所述变动数据中的所有像素点的色值均修改后完成所述显示画面的更新。进一步的，当所述显示装置接收多个所述投屏装置发送的所述第一基础参数时，所述显示装置为多个所述投屏装置匹配对应的显示区域，构建显示画面的基础层具体包括：基于所述第一基础参数构建基础对应层；根据所述基础对应层的宽高比在所述显示区域中构建基础层。进一步的，所述显示装置基于接收到的多个所述显示装置的所述变动数据更新所述显示画面具体包括：基于所述变动数据在所述基础对应层上生成更新后的预显画面；将所述预显画面根据映射比例投射到所述基础层上显示得到所述显示画面；所述映射比例通过所述基础层的第二基础参数与所述基础对应层对应的所述第一基础参数得到。进一步的，投屏系统包括多个显示装置、多个投屏装置；一所述显示装置用于接收一所述投屏装置发送的所述投屏数据；所述多设备屏幕共享方法还包括：响应于交换操作，获取第一显示参数；将当前投屏数据同步发送到所述第一显示参数对应的第一显示装置；以使所述第一显示装置基于所述当前投屏数据生成预览界面显示在预定位置；响应于确定操作，断开与原对接的第二显示装置之间的通信链路，保持与所述第一显示装置之间的通信链路；同时，使所述第一显示装置与其原对接的第一投屏装置之间的通信链路断开，使所述第一投屏装置与所述第二显示装置之间的通信链路接通。另一方面，本发明提供一种多设备屏幕共享方法，应用于显示装置，包括：根据接收到的一个或多个投屏装置发送的第一基础参数构建显示画面的基础层；基于接收到的一个或多个所述投屏装置的变动数据在所述基础层上更新得到所述显示画面；所述变动数据为所述投屏装置响应于投屏数据的变动情况得到。另一方面，本发明提供一种投屏装置，包括：第一处理模块，用于响应于投屏操作获取投屏数据的第一基础参数发送到显示装置中，以使所述显示装置根据接收到的一个或多个所述投屏装置的所述第一基础参数构建显示画面的基础层；第二处理模块，用于响应于投屏数据的变动情况，获取对应的变动数据发送到所述显示装置，以使所述显示装置基于接收到的一个或多个所述投屏装置的所述变动数据在所述基础层上更新得到所述显示画面。另一方面，本发明提供一种显示装置，包括：第三处理模块，用于根据接收到的一个或多个投屏装置发送的第一基础参数构建显示画面的基础层；第四处理模块，用于基于接收到的一个或多个所述投屏装置的变动数据在所述基础层上更新得到所述显示画面；所述变动数据为所述投屏装置响应于投屏数据的变动情况得到。另一方面，本发明提供一种投屏系统，包括多个所述的投屏装置、一个或多个所述的显示装置。相较于现有技术，本发明提供的多设备屏幕共享方法、投屏装置、显示装置及共享系统，具有以下有益效果：使用发明提供的多设备屏幕共享方法，会在显示装置中预先构建一个与投屏装置的投屏数据对应的基础层，在进行投屏共享的时候，仅需要将变动数据传输到显示装置，进而通过在基础层上进行变动数据的更新即可得到最新的显示图像，所需要传输的数据量极低，可以在保证清晰度的前提下，实现快速实时投屏。附图说明图1是本发明提供的应用于投屏装置的多设备屏幕共享方法的流程图。图2是本发明提供的图像比特平面分层示意图。图3是本发明提供的一实验图片的比特平面分层示意图。图4是本发明提供的重构图片与原始图片展示图。图5是本发明提供的应用于显示装置的多设备屏幕共享方法的流程图。图6是本发明提供的投屏装置的结构框图。图7是本发明提供的显示装置的结构框图。具体实施方式为使本发明的目的、技术方案及效果更加清楚、明确，以下参照附图并举实施例对本发明进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。本领域技术人员应当理解，前面的一般描述和下面的详细描述是本发明的示例性和说明性的具体实施例，不意图限制本发明。本文中术语“包括”，“包含”或其任何其他变体旨在覆盖非排他性包括，使得包括步骤列表的过程或方法不仅包括那些步骤，而且可以包括未明确列出或此类过程或方法固有的其他步骤。同样，在没有更多限制的情况下，以“包含...一个”开头的一个或多个设备或子系统，元素或结构或组件也不会没有更多限制，排除存在其他设备或其他子系统或其他元素或其他结构或其他组件或其他设备或其他子系统或其他元素或其他结构或其他组件。在整个说明书中，短语“在一个实施例中”，“在另一个实施例中”的出现和类似的语言可以但不一定都指相同的实施例。除非另有定义，否则本文中使用的所有技术和科学术语具有与本发明所属领域的普通技术人员通常所理解的相同含义。请参阅图1，本发明提供一种多设备屏幕共享方法，应用于投屏系统中的投屏装置，所述投屏系统包括一个或多个显示装置以及多个投屏装置，所述显示装置可以与一个投屏装置连接，还可以与多个投屏装置。其中，所述投屏装置优选为手机、平板电脑、笔记本电脑等小屏智能设备。所述显示设备优选为电子白板或会议大屏等大屏智能设备。所述多设备屏幕共享方法包括：S1、响应于投屏操作获取投屏数据的第一基础参数发送到显示装置中，以使所述显示装置根据接收到的一个或多个所述投屏装置的所述第一基础参数构建显示画面的基础层；所述第一基础参数优选为所述投屏数据的尺寸数据；具体的，所述投屏操作优选为点击预设的按钮，即实现一键投屏。在本实施例中，所述投屏数据优选为当前投屏装置的显示屏上的显示界面，另外还可以是某一预定窗口的显示内容，可以通过一定频率的截屏实现投屏数据的生成，例如使用30hz的频率截屏得到所述投屏数据。优选的，投屏装置发送数据到显示装置的方式可以是通过云端远程通信连接，还可以是通过局域网近端通信连接。即远程会议或局域网会议都能应用。S2、响应于投屏数据的变动情况，获取对应的变动数据发送到所述显示装置，以使所述显示装置基于接收到的一个或多个所述投屏装置的所述变动数据在所述基础层上更新得到所述显示画面。所述变动情况是指投屏的内容出现变化，例如文字改变、人物移动等情况发声，可以根据截屏的当前帧图像与上一帧图像做进行对比得到，具体对比的方法不作限定，例如可以采用任一像素点的色值出现变化时作为变动情况出现。在一些实施例中，第一个变动数据是第一个投屏图像本身，后续的变动数据均是当前投屏图像与前一帧投屏图像对比得到。显示装置在得到所述变动数据后，仅需要将变动数据叠合在上一帧显示画面上即可，方便快捷。使用发明提供的多设备屏幕共享方法，会在显示装置中预先构建一个与投屏装置的投屏数据对应的基础层，在实际进行投屏共享的时候，仅需要将变动数据传输到显示装置，进而通过在基础层上进行变动数据的更新即可得到最新的显示图像，所需要传输的数据量极低，可以在保证清晰度的前提下，实现快速实时投屏。进一步的，作为优选方案，本实施例中，所述变动数据包括一个或多个像素点的变动参数；所述变动参数包括像素点的坐标数据、以及像素点的颜色数据；具体的，所述变动数据以文本格式或字符形式传输，进一步降低数据量，进而仅需要小的网络带宽就可以快速传播，另外传输的数据量小可以更快的传输变动数据；数据量小，则计算量也会同步降低，即可更快的在基础层上构建显示画面。所述变动参数的获取过程包括：获取当前帧的图像与前一帧图像的相同坐标的像素点之间的色值并对比；当对应的色值不相同时，获取对应的像素点的坐标数据以及颜色数据。在本实施例中，仅需要简单的对比计算即可快速得到对应的像素点的变化值，例如针对两帧图像中相同坐标的像素点，获取对应RGB值，进行简单的对比操作即可，不需要进行复杂的计算过程，方便快捷。进一步的，在一些实施例中，所述变动数据还可以为整体的变动图像，根据色值变动的像素点的横纵坐标的最大值获取变动区域，将该区域图像形成整体的变动图像。为了降低其传输的数据量，对所述变动图像进行比特图像分层。在图像中，像素是由比特组成的数字。每个像素的灰度是由8个比特构成的。相当于一幅8比特图像是由8个1比特平面组成，如图2所示。图3为比特分层结果，其中按照从左到右顺序是比特层数递增，最后一张是原始图像，从上到下是从最低阶比特到最高阶比特，即第1比特平面到第8比特平面。将一幅图像分解为比特平面，可以确定用于量化该图像的比特数的充分性。重建是使用第n平面的像素乘以常数2n-1来组成。重建一幅图片所用的平面可以少于分解的所有比特平面。从图3可以看出，越高阶比特的比特图像包含原图像的信息越多。请参阅图4，其中左侧为采用四个高阶比特平面得到的重构图像，右侧为原图像，可以看出二者之间区别较小，而采用4个比特平面来重建原图像可以减少50％的存储量，因而，为了降低数据存储量，提高数据传输效率，本发明在将所述原始图像分解后，将高阶的3-5个比特平面进行传输，降低数据量的基础上，传输得到图像质量变化不大，提高传输速率。具体传输的比特平面的个数，用户可以定义，例如仅仅是为了更快的传输数据，则使用高阶的3个比特平面就可以，若是还需要更好的图像质量，则使用高阶的5个比特平面进行传输。进一步的，作为优选方案，本实施例中，基于所述变动数据更新所述显示画面具体包括：获取所述变动数据所有像素点的变动参数；基于变动参数中的坐标数据查找目标像素点，基于变动参数中的颜色数据修改所述目标像素点的色值，直到所述变动数据中的所有像素点的色值均修改后完成所述显示画面的更新。即仅需要将对应坐标的像素点的色值在基础板上进行更改即可，速度提升巨大。例如坐标为的原本色值为RGB，而变动数据中该坐标对应的像素点的色值为RGB，则仅需要调整一下对应值即可，快速实现对图像的变动。进一步的，作为优选方案，本实施例中，当所述显示装置接收多个所述投屏装置发送的所述第一基础参数时，所述显示装置为多个所述投屏装置匹配对应的显示区域，构建显示画面的基础层具体包括：基于所述第一基础参数构建基础对应层；根据所述基础对应层的宽高比在所述显示区域中构建基础层。在本实施例中，是使用同一个显示装置来实现多个投屏装置的投屏操作，此时会根据投屏装置的数量调整显示区域的位置和大小，例如当有三个投屏装置时，可以采用品字形方式排列，还可以采用横向排列，具体的排列方式不做限定。另外，针对显示区域的排列方式，可以列出多个预选项，这样就可以快速的实现显示区域的生成，方便用户选择合适的显示区域进行投屏。另外，在进行投屏步骤还包括：投屏装置发送投屏请求到显示装置，并接收显示装置反馈的显示区域排列方式；若是该投屏装置为第一个请求投屏的投屏装置，则该投屏装置需要输入投屏装置的数量，进而系统会给出对应该数量的多个预选项，该投屏装置选择合适的目标排列方式，进而发送到显示装置；而非第一个请求投屏的投屏装置则在目标排列方式中选择合适的显示区域进行投屏。进一步的，作为优选方案，本实施例中，所述显示装置基于接收到的多个所述显示装置的所述变动数据更新所述显示画面具体包括：基于所述变动数据在所述基础对应层上生成更新后的预显画面；将所述预显画面根据映射比例投射到所述基础层上显示得到所述显示画面；所述映射比例通过所述基础层的第二基础参数与所述基础对应层对应的所述第一基础参数得到。这样可以保证生成的预显画面与投屏数据画面相同，进而基于映射比例投放到基础层上显示，则不会出现数据紊乱的情况。具体的，所述第二基础参数优选为基础层的宽高数据，例如显示装置的分辨率为7680×4320P，分为左右两个显示区域，若是平均分配则每个显示区域的分辨率最大为3840×4320P；若其中一个显示区域接收投屏装置的投屏数据的分辨率为2736x1824p，那么就要在显示区域构建一3:2的基础层，最大为3840×2560P，即为所述第二基础参数。具体的映射方式，本发明不做限定，使用本领域常用的映射方法即可。进一步的，作为优选方案，本实施例中，投屏系统包括多个显示装置、多个投屏装置；一所述显示装置用于接收一所述投屏装置发送的所述投屏数据；所述多设备屏幕共享方法还包括：响应于交换操作，获取第一显示参数；将当前投屏数据同步发送到所述第一显示参数对应的第一显示装置；以使所述第一显示装置基于所述当前投屏数据生成预览界面显示在预定位置；响应于确定操作，断开与原对接的第二显示装置之间的通信链路，保持与所述第一显示装置之间的通信链路；同时，使所述第一显示装置与其原对接的第一投屏装置之间的通信链路断开，使所述第一投屏装置与所述第二显示装置之间的通信链路接通。即若是两个投屏装置想要互换连接的显示装置，不需要都断开再重新连接，通过交换操作，即可快速切换，极大的提升了用户体验。请参阅图5，本发明还提供一种多设备屏幕共享方法，应用于显示装置，包括：根据接收到的一个或多个投屏装置发送的第一基础参数构建显示画面的基础层；基于接收到的一个或多个所述投屏装置的所述变动数据在所述基础层上更新得到所述显示画面；所述变动数据为所述投屏装置响应于投屏数据的变动情况得到。请参阅图6，本发明还提供一种投屏装置，包括：第一处理模块，用于响应于投屏操作获取投屏数据的第一基础参数发送到显示装置中，以使所述显示装置根据接收到的一个或多个所述投屏装置的所述第一基础参数构建显示画面的基础层；第二处理模块，用于响应于投屏数据的变动情况，获取对应的变动数据发送到所述显示装置，以使所述显示装置基于接收到的一个或多个所述投屏装置的所述变动数据在所述基础层上更新得到所述显示画面。请参阅图7，本发明还提供一种显示装置，包括：第三处理模块，用于根据接收到的一个或多个投屏装置发送的第一基础参数构建显示画面的基础层；第四处理模块，用于基于接收到的一个或多个所述投屏装置的所述变动数据在所述基础层上更新得到所述显示画面；所述变动数据为所述投屏装置响应于投屏数据的变动情况得到。本发明还提供一种投屏系统，包括多个所述的投屏装置、一个或多个所述的显示装置。可以理解的是，对本领域普通技术人员来说，可以根据本发明的技术方案及其发明构思加以等同替换或改变，而所有这些改变或替换都应属于本发明所附的权利要求的保护范围。
