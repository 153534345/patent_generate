标题title
一种基于物联网的氧气供应可视化构建方法及系统
摘要abst
本发明属于氧气供应技术领域，具体涉及一种基于物联网的氧气供应可视化构建方法及系统。本发明以物联网为基础实现了氧气供应系统从设备到数字模型间的信息转换及交互，并且设计了一种氧气供应系统数字模型的建立方法，实现了氧气供应系统的数字化构建及加载；此外，本发明提出在数字模型显示时进行图标的维度转换和不同颜色进行标注从而达到更加直观化展示的效果；以及，本发明设计了一种根据供应系统负载动态监听和更新参数的方法，达到了氧气供应系统动态化、直观化显示的目的。
权利要求书clms
1.一种基于物联网的氧气供应可视化构建方法，其特征在于，包括以下步骤：步骤S1，建立图标和代号对应关系表，构建氧气供应系统的功能模块图，并将构建的功能模块图导入至计算及存储装置；步骤S2，由数据采集装置对氧气供应系统各个模块进行数据采集，对采集到的数据进行预处理，并将处理后的数据发送给所述计算及存储装置；步骤S3，所述计算及存储装置接收所述数据采集装置发送的数据，并由接收到的数据建立氧气供应系统的节点参数图；步骤S4，由所述氧气供应系统的功能模块图和节点参数图建立氧气供应系统的数字模型，并由显示装置对所述氧气供应系统的数字模型进行显示；步骤S5，根据不同的氧气供应事件设置不同的提示信息。2.根据权利要求1所述的基于物联网的氧气供应可视化构建方法，其特征在于，步骤S1包括步骤：步骤S101，制定图标和代号的对应规则，并根据图标和代号的对应规则建立图标和代号对应关系表；步骤S102，获取氧气供应系统的设备数量及连接关系，具体地，包括制氧设备、输氧管网及存氧设备的数量及连接关系；步骤S103，标记所有的制氧设备、输氧管网及存氧设备，并进行统一的编号；步骤S104，将统一编号后的制氧设备、输氧管网和存氧设备用代号进行表示，并按照实际的连接关系将所述图标用连接线连接起来，得到氧气供应系统的功能模块图；步骤S105，将得到的氧气供应系统功能模块图导入所述计算及存储装置。3.根据权利要求1所述的基于物联网的氧气供应可视化构建方法，其特征在于，步骤S2包括步骤：步骤S201，制氧设备数据采集装置对制氧设备的数据进行采集，输氧设备数据采集装置对制氧设备的数据进行采集，存氧设备数据采集装置对制氧设备的数据进行采集；步骤S202，所述制氧设备数据采集装置、输氧设备数据采集装置和存氧设备数据采集装置对采集到的数据进行预处理；步骤S203，所述制氧设备数据采集装置、输氧设备数据采集装置和存氧设备数据采集装置将处理后的数据发送给所述计算及存储装置。4.根据权利要求3所述的基于物联网的氧气供应可视化构建方法，其特征在于，步骤S202中所述的对采集到的数据进行预处理，包括：将采集到的信号进行收敛处理，并将信号由频域转换成时域，具体公式为：；公式中，e是自然对数的底，i是虚数单位，表示转换后的频率信号，/＞表述转换前的时域信好，/＞表示调整衰减程度的系数，t表示时域信号的周期，w表示角频率；将转换至时域的信号进行去脉冲处理，具体计算公式为：；公式中，表示转换后信号的幅值，N表示数据的个数，/＞表示输入的信号，Y表示输出后的信号；对采集到的信号进行限幅处理，具体计算公式为：；公式中，表示该次采样的信号幅值，/＞表示上一次采样的信号幅值，/＞表示两次相邻采样的信号幅值增量。5.根据权利要求1所述的基于物联网的氧气供应可视化构建方法，其特征在于，步骤S3包括步骤：步骤S301，所述计算及存储装置接收制氧设备数据采集装置发送的数据，并从数据中解析出各个参数及数值，建立制氧设备的节点参数图；步骤S302，所述计算及存储装置接收输氧设备数据采集装置发送的数据，并从数据中解析出各个参数及数值，建立输氧设备的节点参数图；步骤S303，所述计算及存储装置接收存氧设备数据采集装置发送的数据，并从数据中解析出各个参数及数值，建立存氧设备的节点参数图。6.根据权利要求5所述的基于物联网的氧气供应可视化构建方法，其特征在于，步骤S301具体步骤为：步骤A1，所述计算及存储装置接收所述制氧设备数据采集装置发送的数据，从数据中解析出制氧设备的编号，并用图标表示该制氧设备，用制氧设备的编号标记该制氧设备；步骤A2，从数据中解析出制氧设备的各个参数和各个参数的实际值，并用对应的图标表示个参数，用参数的实际值标记图标；步骤A3，由对应的图标和标记的值建立制氧设备的节点参数图；步骤S302具体步骤为：步骤B1，所述计算及存储装置接收所述输氧设备数据采集装置发送的数据，从数据中解析出输氧设备的编号，并用图标表示该输氧设备，用输氧设备的编号标记该输氧设备；步骤B2，从数据中解析出输氧设备的各个参数和各个参数的实际值，并用对应的图标表示个参数，用参数的实际值标记图标；步骤B3，由对应的图标和标记的值建立输氧设备的节点参数图；步骤S303具体步骤为：步骤C1，所述计算及存储装置接收所述存氧设备数据采集装置发送的数据，从数据中解析出存氧设备的编号，并用图标表示该存氧设备，以该存氧设备的编号标记该存氧设备；步骤C2，从数据中解析出存氧设备的各个参数和各个参数的实际值，并用对应的图标表示个参数，用参数的实际值标记图标；步骤C3，由对应的图标和标记的值建立存氧设备的节点参数图。7.根据权利要求1所述的基于物联网的氧气供应可视化构建方法，其特征在于，步骤S4包括步骤：步骤S401，所述显示装置加载氧气供应系统的功能模块图，在功能模块图中检索到各个代号和连接线，具体表示公式为：；公式中，表示加载后的功能模块图，i表示功能模块图中各个代号和连接线的编号，表示功能模块图中的代号；/＞表示功能模块图中的连接线；步骤S402，所述显示装置加载氧气供应系统的节点参数图，在节点参数途中检索到各个图标和标注，具体表示公式为：；；公式中，表示加载后的节点参数图，/＞、/＞和/＞分别表示制氧设备节点参数图、输氧设备节点参数图和存氧设备节点参数图，j表示节点参数图中各个图标和标注的编号，表示节点参数图中的图标；/＞表示节点参数图中的标注；步骤S403，由检索出的图标，根据图标和代号对应关系表中的对应关系，在功能模块图中找到对应的代号和连接线，并将代号和连接线分别与图标进行关联；步骤S404，将标注赋值给关联后对应的图标，得到氧气供应系统的数字模型，数字模型的表示公式为：；公式中，表示加载后的氧气供应系统的数字模型，/＞表示加载后的功能模块图，/＞表示加载后的节点参数图，/＞表示功能模块图中代号和连接线与节点参数图中图标建立的关联关系；步骤S405，由显示装置加载氧气供应系统的数字模型并进行显示。8.根据权利要求7所述的基于物联网的氧气供应可视化构建方法，其特征在于，步骤S405中所述的显示氧气供应系统的数字模型，其数字模型中的二维的图标要在显示页面中以三维进行显示，具体地，需要将图标的坐标进行维度转换，转换公式为：；公式中，、/＞和/＞表示转换后的坐标，具体表示数字模型中图标的坐标，N和M表示转换前的坐标，具体表示数字模型中图标的坐标，/＞表示旋转的转置矩阵，/＞表示缩放的转置矩阵，/＞表示偏移的装置矩阵，/＞表示图标坐标变换矩阵。9.根据权利要求7所述的基于物联网的氧气供应可视化构建方法，其特征在于，步骤S405中所述的显示氧气供应系统的数字模型，其显示的更新频率是动态的，其数值的更新具体方式为：由所述计算及存储装置对所述数据采集装置按照更新频率进行监听和接收数据，从对接收到的数据解析出各参数当前的实际值，并和上一各参数的实际值进行比较，具体表示公式为：；其中，表示当前接收到各参数的实际值，/＞表示上一时刻接收到各参数的的实际值；若实际值发生变化，则对该参数进行相应地更新；若实际值没有发生变化，则该参数保持不变。10.一种基于物联网的可视化氧气供应系统，其特征在于：包括显示装置、数据采集装置和计算及存储装置，其中，所述显示装置用于对氧气供应系统的数字模型进行可视化；所述计算及存储装置用于存储和计算数据；数据装置用于采集氧气供应系统的数据，具体所述数据采集装置包括：用于采集输氧管网数据的输氧设备数据采集装置；用于采集制氧设备数据的制氧设备数据采集装置；用于采集存氧设备数据的存氧设备数据采集装置；实现如权利要求1-9任意一项所述的一种基于物联网的可视化氧气供应构建方法。
说明书desc
技术领域本发明属于氧气供应技术领域，具体涉及一种基于物联网的氧气供应可视化构建方法及系统。背景技术中心供氧在很多情况下都有着非常重要的用途，其中最常见的就是供氧系统，这种供氧系统对不仅对于医院来说是非常重要的，同时是生产生活、制造研发领域的重要支撑。当前，对于现有的氧气供应系统，或者其在生产、运输和使用各个环节通常情况下是相互独立的，使得各个环节之间缺乏信息传递与反馈；或者整套氧气供应系统内的各个设备独立运作，设备与设备之间缺乏联动与协作。这不仅导致现有的氧气供应系统较高的的运行和维护成本，而且还导致现有的氧气供应系统难以进行系统的评估和监测，此外，也造成了氧气供应系统出现事故后难以进行故障排查。发明内容为了解决上述背景技术中提到的至少一个问题，本发明提出了一种基于物联网的氧气供应可视化构建方法及系统。一种基于物联网的可视化氧气供应系统，包括显示装置、数据采集装置和计算及存储装置，其中，所述显示装置用于对氧气供应系统的数字模型进行可视化；所述计算及存储装置用于存储和计算数据；所述数据装置用于采集氧气供应系统的数据，数据装置具体包括：用于采集输氧管网数据的输氧设备数据采集装置；用于采集制氧设备数据的制氧设备数据采集装置；用于采集存氧设备数据的存氧设备数据采集装置。一种基于物联网的可视化氧气供应系统，其构建方法包括步骤：步骤S1，建立图标和代号对应关系表，构建氧气供应系统的功能模块图，并将构建的功能模块图导入至计算及存储装置，具体步骤包括：步骤S101，制定图标和代号的对应规则，并根据图标和代号的对应规则建立图标和代号对应关系表；步骤S102，获取氧气供应系统的设备数量及连接关系，具体地，包括制氧设备、输氧管网及存氧设备的数量及连接关系；步骤S103，标记所有的制氧设备、输氧管网及存氧设备，并进行统一的编号；步骤S104，将统一编号后的制氧设备、输氧管网和存氧设备用代号进行表示，并按照实际的连接关系将所述图标用连接线连接起来，得到氧气供应系统的功能模块图；步骤S105，将得到的氧气供应系统功能模块图导入所述计算及存储装置。步骤S2，由所述数据采集装置对氧气供应系统各个模块进行数据采集，并通过Mqtt协议将采集到的数据发送给所述计算及存储装置，具体步骤包括：步骤S201，所述制氧设备数据采集装置对制氧设备的数据进行采集，所述输氧设备数据采集装置对制氧设备的数据进行采集，所述存氧设备数据采集装置对制氧设备的数据进行采集；步骤S202，所述制氧设备数据采集装置、输氧设备数据采集装置和存氧设备数据采集装置对采集到的数据进行预处理，处理过程包括：将采集到的信号进行收敛处理，并将信号由频域转换成时域，具体公式为：；公式中，e是自然对数的底，i是虚数单位，表示转换后的频率信号，/＞表述转换前的时域信好，/＞表示调整衰减程度的系数，t表示时域信号的周期，w表示角频率；去除信号中的脉冲信号，具体计算公式为：；公式中，表示转换后信号的幅值，N表示数据的个数，/＞表示输入的信号，Y表示输出后的信号；对采集到的信号进行限幅处理，具体计算公式为：；公式中，表示该次采样的信号幅值，/＞表示上一次采样的信号幅值，表示两次相邻采样的信号幅值增量；步骤S203，所述制氧设备数据采集装置、输氧设备数据采集装置和存氧设备数据采集装置将处理后的数据发送给所述计算及存储装置。步骤S3，所述计算及存储装置接收所述数据采集装置发送的数据，并由接收到的数据建立氧气供应系统的节点参数图，具体步骤包括：步骤S301，所述计算及存储装置接收所述制氧设备数据采集装置发送的数据，并从数据中解析出各个参数及数值，建立制氧设备的节点参数图，具体步骤为：步骤A1，所述计算及存储装置接收所述制氧设备数据采集装置发送的数据，从数据中解析出制氧设备的编号，并用图标表示该制氧设备，用制氧设备的编号标记该制氧设备；步骤A2，从数据中解析出制氧设备的各个参数和各个参数的实际值，并用对应的图标表示个参数，用参数的实际值标记图标；步骤A3，由对应的图标和标记的值建立制氧设备的节点参数图；步骤S302，所述计算及存储装置接收所述输氧设备数据采集装置发送的数据，并从数据中解析出各个参数及数值，建立输氧设备的节点参数图，具体步骤为：步骤B1，所述计算及存储装置接收所述输氧设备数据采集装置发送的数据，从数据中解析出输氧设备的编号，并用图标表示该输氧设备，用输氧设备的编号标记该输氧设备；步骤B2，从数据中解析出输氧设备的各个参数和各个参数的实际值，并用对应的图标表示个参数，用参数的实际值标记图标；步骤B3，由对应的图标和标记的值建立输氧设备的节点参数图；步骤S303，所述计算及存储装置接收所述存氧设备数据采集装置发送的数据，并从数据中解析出各个参数及数值，建立存氧设备的节点参数图，具体步骤为：步骤C1，所述计算及存储装置接收所述存氧设备数据采集装置发送的数据，从数据中解析出存氧设备的编号，并用图标表示该存氧设备，以该存氧设备的编号标记该存氧设备；步骤C2，从数据中解析出存氧设备的各个参数和各个参数的实际值，并用对应的图标表示个参数，用参数的实际值标记图标；步骤C3，由对应的图标和标记的值建立存氧设备的节点参数图。步骤S4，由所述氧气供应系统的功能模块图和节点参数图建立氧气供应系统的数字模型，并由显示装置对加载后的氧气供应系统的数字模型进行显示，具体步骤包括：步骤S401，所述显示装置加载氧气供应系统的功能模块图，在功能模块图中检索到各个代号和连接线，具体表示公式为：；公式中，表示加载后的功能模块图，i表示功能模块图中各个代号和连接线的编号，/＞表示功能模块图中的代号；/＞表示功能模块图中的连接线；步骤S402，所述显示装置加载氧气供应系统的节点参数图，在节点参数途中检索到各个图标和标注，具体表示公式为：；；公式中，表示加载后的节点参数图，/＞、/＞和/＞分别表示制氧设备节点参数图、输氧设备节点参数图和存氧设备节点参数图，j表示节点参数图中各个图标和标注的编号，/＞表示节点参数图中的图标；/＞表示节点参数图中的标注；步骤S403，由检索出的图标，根据图标和代号对应关系表中的对应关系，在功能模块图中找到对应的代号和连接线，并将代号和连接线分别与图标进行关联；步骤S404，将标注赋值给关联后对应的图标，得到氧气供应系统的数字模型，数字模型的表示公式为：；公式中，表示加载后的氧气供应系统的数字模型，/＞表示加载后的功能模块图，/＞表示加载后的节点参数图，/＞表示功能模块图中代号和连接线与节点参数图中图标建立的关联关系；/＞步骤S405，由显示装置加载氧气供应系统的数字模型并进行显示，其数字模型中的二维的图标要在显示页面中以三维进行显示，具体地，需要将图标的坐标进行维度转换，转换公式为：；公式中，、/＞和/＞表示转换后的坐标，具体表示数字模型中图标的坐标，N和M表示转换前的坐标，具体表示数字模型中图标的坐标，/＞表示旋转的转置矩阵，/＞表示缩放的转置矩阵，/＞表示偏移的装置矩阵，/＞表示图标坐标变换矩阵。其显示数字模型的更新频率是动态的，优选地，更新频率/＞的取值公式满足：；公式中，表示数字模型的更新频率/＞，/＞表示接收的数据个数，/＞表示各个数据接收的时差，S按照经验值，其取值方位为5-20；其数值的更新具体方式为：由所述计算及存储装置对所述数据采集装置按照更新频率进行监听和接收数据，从对接收到的数据解析出各参数的实际值，并和当前各参数的实际值进行比较，具体表示公式为：；其中，表示当前接收到各参数的实际值，/＞表示上一时刻接收到各参数的的实际值；若实际值发生变化，则对该参数进行相应地更新；若实际值没有发生变化，则该参数保持不变。步骤S5，根据不同的氧气供应事件设置不同的提示信息，具体地，氧气供应事件包括制氧设备氧气供应事件、输氧管网氧气供应事件和存氧设备氧气供应事件；提示信息是根据不同氧气供应事件对图标按照不同的颜色进行标注并显示，具体地，当各参数的实际值高于阈值时候，则用红色对相应地图标进行标注，并显示相应地氧气供应事件；当各参数的实际值低于阈值时候，则用黄色对相应地图标进行标注，并显示相应地氧气供应事件；其他情况下用绿色对图标进行标注。本发明提出了一种基于物联网的氧气供应可视化构建方法及系统，与现有的技术相比，具有以下有益效果：本发明提供的系统及方法，在物联网的基础上提出了氧气供应系统内各个设备之间的连接关系和通信协议，实现了氧气供应系统从设备到数字模型间的信息转换及交互；并且，本发明提出在信号采集侧，基于经验值来对采集到的信号进行处理，提前过滤掉部分噪声信号和无用信号，在减少数据的传输量的前提下减少了系统的计算错误的概率；本发明提供的系统及方法，提出了以功能模块图和节点参数图来构建氧气供应系统的数字模型，设计了一种氧气供应系统数字模型的建立方法，有利于实际氧气供应系统能够根据系统的硬件系结构和功能模块来构建氧气供应系统的数字化模型，实现了氧气供应系统的数字化快速化构建及加载；本发明提供的系统及方法，提出在数字模型显示时进行图标的维度转换从而达到更加直观化展示的效果，使得氧气供应系统能够在二维化数字模型构建的基础上实现图标的三维化转换，并根据不同氧气供应事件对图标按照不同的颜色进行标注并显示，从而让氧气供应系统的数字化显示更加直观；本发明提供的系统及方法，设计了一种根据供应系统负载动态监听和更新参数的方法，能够保证系统在高负荷状态下实时显示运行状态的前提下，减少低负荷状态下系统的计算和信息传输量，降低虚警的可能性。附图说明图1是本发明的系统示意图；图2是本发明的方法流程示意图。具体实施方式为了使本发明的目的、特征能够更加的明显和易懂，下面通过实施例并结合附图对本技术方案进行详细说明。如图1所示，一种基于物联网的可视化氧气供应系统，包括显示装置、数据采集装置和计算及存储装置，其中，所述显示装置用于对氧气供应系统的数字模型进行可视化；所述计算及存储装置用于存储和计算数据；所述数据装置用于采集氧气供应系统的数据，数据装置具体包括：用于采集输氧管网数据的输氧设备数据采集装置；用于采集制氧设备数据的制氧设备数据采集装置；用于采集存氧设备数据的存氧设备数据采集装置。如图2所示，一种基于物联网的可视化氧气供应系统，其构建方法包括步骤：步骤S1，建立图标和代号对应关系表，构建氧气供应系统的功能模块图，并将构建的功能模块图导入至计算及存储装置，具体步骤包括：步骤S101，制定图标和代号的对应规则，并根据图标和代号的对应规则建立图标和代号对应关系表；步骤S102，获取氧气供应系统的设备数量及连接关系，具体地，包括制氧设备、输氧管网及存氧设备的数量及连接关系；步骤S103，标记所有的制氧设备、输氧管网及存氧设备，并进行统一的编号；步骤S104，将统一编号后的制氧设备、输氧管网和存氧设备用代号进行表示，并按照实际的连接关系将所述图标用连接线连接起来，得到氧气供应系统的功能模块图；步骤S105，将得到的氧气供应系统功能模块图导入所述计算及存储装置。在对系统进行数字模型构建时，常见的技术架构是将整套系统分为不同的层级来描述物理对象，本发明考虑到实际氧气供应系统更多关注的是氧气供应系统的关键设备参数以及检验指标的参数，提出了以功能模块图和节点参数图来构建氧气供应系统的数字模型，设计了一种氧气供应系统数字模型的建立方法，这样有利于实际氧气供应系统能够根据系统的硬件系结构和功能模块来构建氧气供应系统的数字化模型。步骤S2，由所述数据采集装置对氧气供应系统各个模块进行数据采集，并通过Mqtt协议将采集到的数据发送给所述计算及存储装置，具体步骤包括：步骤S201，所述制氧设备数据采集装置对制氧设备的数据进行采集，所述输氧设备数据采集装置对制氧设备的数据进行采集，所述存氧设备数据采集装置对制氧设备的数据进行采集；步骤S202，所述制氧设备数据采集装置、输氧设备数据采集装置和存氧设备数据采集装置对采集到的数据进行预处理，预处理过程包括：将采集到的信号进行收敛处理，并将信号由频域转换成时域，具体公式为：；公式中，e是自然对数的底，i是虚数单位，表示转换后的频率信号，/＞表述转换前的时域信好，/＞表示调整衰减程度的系数，t表示时域信号的周期，w表示角频率；去除信号中的脉冲信号，具体计算公式为：；公式中，表示转换后信号的幅值，N表示数据的个数，/＞表示输入的信号，Y表示输出后的信号，优选地，N根据经验值进行设置；对采集到的信号进行限幅处理，具体计算公式为：；公式中，表示该次采样的信号幅值，/＞表示上一次采样的信号幅值，表示两次相邻采样的信号幅值增量，优选地，/＞根据经验值进行设置。如果直接将采集到的数据发送给计算及存储装置进行计算，由于信号中干扰和噪声的存在，不仅增加了数据的传输和计算量，而且由于没有将这部分信号进行过滤，会增加数据计算出现错误的概率。本发明提出了在信号采集侧，根据供氧设备在实际运行过程中统计到的经验值来对采集到的信号进行预处理，提前过滤掉部分噪声信号和无用信号，在减少数据的传输量的前提下减少系统的计算错误的概率；步骤S203，所述制氧设备数据采集装置、输氧设备数据采集装置和存氧设备数据采集装置将处理后的数据发送给所述计算及存储装置。可选地，制氧设备数据的具体格式为：Product_Info ={“Product_ID”：value，“Product_Power”：value，“Product_Potency”：value，“Product_Flow”：value}其中，Product_ID表示该制氧设备编号，Product_Power表示该制氧设备的制氧功率，Product_Potency表示该制氧设备的制氧浓度，Product_flow表示该制氧设备的制氧流量，value表示各参数实际值；可选地，制氧设备数据的具体格式为：Trans_Info={“Trans_ID”：value，“Trans_Pressure”：value，“Trans_Potency”：value，“Trans_Flow”：value}其中，Trans_ID表示该输氧管网的编号，Trans_Pressure表示该输氧管网压强，Trans_Potency表示该输氧管网氧气浓度，Trans_Flow表示该输氧管网氧气流量，value表示各参数的实际值；可选地，存氧设备数据的具体格式为：Storage_Info={“Storage_ID”：value， “Storage_Potency”：value， “Trans_Pressure”：value，“Storage_Value”：value，“Storage_Input”：value，“Storage_Output”：value}其中，Storage_ID表示该存氧设备的编号，Storage_Potency表示该存氧设备中氧气浓度，Trans_Pressure表示该存氧设备压强，Storage_Value表示该存氧设备氧气存储量，Storage_Input表示该存氧设备输入氧气流量，Storage_Output表示该存氧设备输出氧气流量，value表示各参数的实际值。当前面向医疗领域的氧气供应系统，传统的以氧气存储为主，本发明提出基于互联网实现氧气供应系统各个模块间的互联，提出了氧气供应系统内各个设备之间的连接关系和通信协议，实现了氧气供应系统从设备到数字模型间的信息转换及交互。步骤S3，所述计算及存储装置接收所述数据采集装置发送的数据，并由接收到的数据建立氧气供应系统的节点参数图，具体步骤包括：步骤S301，所述计算及存储装置接收所述制氧设备数据采集装置发送的数据，并从数据中解析出各个参数及数值，建立制氧设备的节点参数图，具体步骤为：步骤A1，所述计算及存储装置接收所述制氧设备数据采集装置发送的数据，从数据中解析出制氧设备的编号，并用图标表示该制氧设备，用制氧设备的编号标记该制氧设备；步骤A2，从数据中解析出制氧设备的各个参数和各个参数的实际值，并用对应的图标表示个参数，用参数的实际值标记图标；步骤A3，由对应的图标和标记的值建立制氧设备的节点参数图；步骤S302，所述计算及存储装置接收所述输氧设备数据采集装置发送的数据，并从数据中解析出各个参数及数值，建立输氧设备的节点参数图，具体步骤为：步骤B1，所述计算及存储装置接收所述输氧设备数据采集装置发送的数据，从数据中解析出输氧设备的编号，并用图标表示该输氧设备，用输氧设备的编号标记该输氧设备；步骤B2，从数据中解析出输氧设备的各个参数和各个参数的实际值，并用对应的图标表示个参数，用参数的实际值标记图标；步骤B3，由对应的图标和标记的值建立输氧设备的节点参数图；步骤S303，所述计算及存储装置接收所述存氧设备数据采集装置发送的数据，并从数据中解析出各个参数及数值，建立存氧设备的节点参数图，具体步骤为：步骤C1，所述计算及存储装置接收所述存氧设备数据采集装置发送的数据，从数据中解析出存氧设备的编号，并用图标表示该存氧设备，以该存氧设备的编号标记该存氧设备；步骤C2，从数据中解析出存氧设备的各个参数和各个参数的实际值，并用对应的图标表示个参数，用参数的实际值标记图标；步骤C3，由对应的图标和标记的值建立存氧设备的节点参数图。步骤S4，由所述氧气供应系统的功能模块图和节点参数图建立氧气供应系统的数字模型，并由显示装置对加载后的氧气供应系统的数字模型进行显示，具体步骤包括：步骤S401，所述显示装置加载氧气供应系统的功能模块图，在功能模块图中检索到各个代号和连接线，具体表示公式为：；公式中，表示加载后的功能模块图，i表示功能模块图中各个代号和连接线的编号，/＞表示功能模块图中的代号；/＞表示功能模块图中的连接线；步骤S402，所述显示装置加载氧气供应系统的节点参数图，在节点参数途中检索到各个图标和标注，具体表示公式为：；；公式中，表示加载后的节点参数图，/＞、/＞和/＞分别表示制氧设备节点参数图、输氧设备节点参数图和存氧设备节点参数图，j表示节点参数图中各个图标和标注的编号，/＞表示节点参数图中的图标；/＞表示节点参数图中的标注；步骤S403，由检索出的图标，根据图标和代号对应关系表中的对应关系，在功能模块图中找到对应的代号和连接线，并将代号和连接线分别与图标进行关联；步骤S404，将标注赋值给关联后对应的图标，得到氧气供应系统的数字模型，数字模型的表示公式为：；公式中，表示加载后的氧气供应系统的数字模型，/＞表示加载后的功能模块图，/＞表示加载后的节点参数图，/＞表示功能模块图中代号和连接线与节点参数图中图标建立的关联关系；步骤S405，由显示装置加载氧气供应系统的数字模型并进行显示，具体地，其数字模型中的二维的图标要在显示页面中以三维进行显示，具体地，需要将图标的坐标进行维度转换，转换公式为：；公式中，、/＞和/＞表示转换后的坐标，具体表示数字模型中图标的坐标，N和M表示转换前的坐标，具体表示数字模型中图标的坐标，/＞表示旋转的转置矩阵，/＞表示缩放的转置矩阵，/＞表示偏移的装置矩阵，/＞表示图标坐标变换矩阵。由于本方案构建的氧气供应系统，其在数字模型的构建中图标为二维，为了使数字模型能够适配不同的显示方案，本发明提出在加载数字模型时对图标进行维度转换，转换维度后的图标能够在数字模型进行三维加载时更加直观。其显示数字模型的更新频率是动态的，优选地，更新频率/＞的取值公式满足：；公式中，表示数字模型的更新频率/＞，/＞表示接收的数据个数，/＞表示各个数据接收的时差，S按照经验值，其取值方位为5-20；其数值的更新具体方式为：由所述计算及存储装置对所述数据采集装置按照更新频率进行监听和接收数据，从对接收到的数据解析出各参数的实际值，并和当前各参数的实际值进行比较，具体表示公式为：；其中，表示当前接收到各参数的实际值，/＞表示上一时刻接收到各参数的的实际值；若实际值发生变化，则对该参数进行相应地更新；若实际值没有发生变化，则该参数保持不变。如果氧气供应系统的数字模型在加载后，不考虑实际的负载而采取统一的更新频率，在实际的运行过程中会增加虚警和出现漏报的可能性，考虑到实际情况，本发明提出根据供应系统负载动态监听和更新参数的方法，能够保证系统在高负荷状态下实时显示运行状态的前提下，减少低负荷状态下系统的计算和信息传输量，降低虚警的可能性。步骤S5，根据氧气供应事件设置不同的提示信息，具体地，氧气供应事件包括制氧设备氧气供应事件、输氧管网氧气供应事件和存氧设备氧气供应事件；其中，制氧设备的氧气供应事件包括：制氧功率高于阈值、制氧功率低于阈值、制氧浓度低于阈值、制氧浓度高于阈值、制氧流量低于阈值、制氧流量高于阈值；输氧管网的氧气供应事件包括：输氧管网的压强高于阈值、输氧管网的压强低于阈值、输氧管网的氧气浓度高于阈值、输氧管网的氧气浓度低于阈值、输氧管网的氧气流量低于阈值、输氧管网的氧气流量高于阈值；存氧设备的氧气供应事件包括：存氧设备的氧气存储量低于阈值、存氧设备的压强低于阈值、存氧设备的压强高于阈值、存氧设备的氧气输入流量低于阈值、存氧设备的氧气输入流量高于阈值、存氧设备的氧气浓度低于阈值、存氧设备的氧气浓度高于阈值；提示信息是根据不同氧气供应事件对图标按照不同的颜色进行标注并显示，具体地，当各参数的实际值高于阈值时候，则用红色对相应地图标进行标注，并显示相应地氧气供应事件；当各参数的实际值低于阈值时候，则用黄色对相应地图标进行标注，并显示相应地氧气供应事件；其他情况下用绿色对图标进行标注。至此，按照本发明公开的方法，已实施完一次本发明的工作过程。虽然，本说明书中已经用一般性说明及具体实施方案对本发明作了详尽的描述，但在本发明基础上，可以对之作一些修改或改进，这对本领域技术人员而言是显而易见的。因此，在不偏离本发明精神的基础上所做的这些修改或改进，均属于本发明要求保护的范围。
