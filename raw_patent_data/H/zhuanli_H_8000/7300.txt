标题title
一种减小开关器件发热不均衡的脉宽调制方法及系统
摘要abst
本发明实施例提供一种减小开关器件发热不均衡的脉宽调制方法及系统，属于逆变器的开关器件技术领域。所述脉宽调制方法包括获取开关器件所在的扇区以及对应的零矢量；对所述零矢量的持续时间进行计时；根据所述零矢量的持续时间大小选择切换零矢量，以切换所述开关器件的导通。本发明提供的减小开关器件发热不均衡的脉宽调制方法通过获取开关器件工作的扇区以及对应的零矢量，对该零矢量的持续时间进行计时，若该零矢量的持续时间过长，则切换零矢量，以使得开关器件切换导通状态，进而有效减小了开关器件发热不均衡的问题，提高了逆变器的可靠性。
权利要求书clms
1.一种减小开关器件发热不均衡的脉宽调制方法，其特征在于，包括：获取开关器件所在的扇区以及对应的零矢量；对所述零矢量的持续时间进行计时；根据所述零矢量的持续时间大小选择切换零矢量，以切换所述开关器件的导通。2.根据权利要求1所述的脉宽调制方法，其特征在于，根据所述零矢量的持续时间大小选择切换零矢量，以切换所述开关器件的导通包括：判断所述零矢量的持续时间是否大于预设阈值；在判断所述零矢量的持续时间大于预设阈值的情况下，切换所述零矢量，并重新对所述零矢量的持续时间进行计时；在判断所述零矢量的持续时间小于或等于预设阈值的情况下，维持所述开关器件的导通。3.根据权利要求2所述的脉宽调制方法，其特征在于，所述零矢量包括三相桥臂的下桥臂开关器件全导通和三相桥臂的上桥臂开关器件全导通。4.根据权利要求3所述的脉宽调制方法，其特征在于，获取开关器件所在的扇区以及对应的零矢量包括：获取当前电压矢量的位置；判断是否出现扇区切换；在判断出现扇区切换的情况下，配置电压矢量以及所述零矢量，并对所述零矢量的持续时间进行计时；在判断未出现扇区切换的情况下，对当前所述零矢量的持续时间进行计时。5.根据权利要求4所述的脉宽调制方法，其特征在于，所述电压矢量包括所述三相桥臂U相的上桥臂开关器件导通、三相桥臂V相和W相的下桥臂开关器件导通以及所述三相桥臂U相和V相的上桥臂开关器件导通、三相桥臂W相的下桥臂开关器件导通。6.根据权利要求5所述的脉宽调制方法，所述电压矢量还包括三相桥臂V相的上桥臂开关器件导通、三相桥臂U相和W相的下桥臂开关器件导通以及三相桥臂V相和W相的上桥臂开关器件导通、三相桥臂U相的下桥臂开关器件导通。7.根据权利要求6所述的脉宽调制方法，其特征在于，所述电压矢量还包括三相桥臂W相的上桥臂导通、三相桥臂U相和V相的下桥臂导通以及三相桥臂的U相和W相的上桥臂导通、三相桥臂V相的下桥臂导通。8.根据权利要求2所述的脉宽调制方法，其特征在于，所述预设阈值包括30ms。9.一种减小开关器件发热不均衡的脉宽调制系统，其特征在于，包括：三相逆变电路；计时器，与所述三相逆变电路连接，用于对所述三相逆变电路中的零矢量的持续时间进行计时；控制器，与所述三相逆变电路和所述计时器连接，用于执行如权利要求1至8任一所述的脉宽调制方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有指令，所述指令用于被机器读取以使得所述机器执行如权利要求1至8任一所述的脉宽调制方法。
说明书desc
技术领域本发明涉及逆变器的开关器件技术领域，具体地涉及一种减小开关器件发热不均衡的脉宽调制方法及系统。背景技术在交流传动领域，逆变器作为驱动电机运行的核心装置，普遍采用脉宽调制工作方式。与连续脉宽调制相比，不连续脉宽调制实现开关器件在一个电压基波周期内的一定区间内不动作，从而能降低开关损耗提高变换效率，因此DPWM在逆变器中应用非常普遍。目前常用的DPWM策略有：DPWM0、DPWM1、DPWM2、DPWM3、DPWMMAX、DPWMMIN等，均是以基波电压矢量为基准划定不同的扇区，在不同的扇区里配置不同的零矢量，使得每30°或60°或120°区间里总有一相开关器件不动作，零矢量的分配均与基波电压相位相关联。当电机运行在低速时，逆变器输出电压频率低，基波周期长，此时采用通常技术的DPWM时，开关器件不动作那一相会存在其中一个桥臂开关器件持续开通时间较长从而长时间流通电流、而另外一个桥臂开关器件持续关断从而没有流通电流的情况，低频时零矢量切换慢，造成上下桥臂发热不均匀，尤其在堵转时，因为没有电压相位变化，此时只有一个桥臂的开关器件承受所有的电流而另一个桥臂的开关器件始终不流通电流，就会出现严重的开关器件发热不均衡问题，严重影响到逆变器的可靠性。本申请发明人在实现本发明的过程中发现，现有技术的上述方案具有逆变器的开关器件发热不均衡导致逆变器的可靠性差的缺陷。发明内容本发明实施例的目的是提供一种减小开关器件发热不均衡的脉宽调制方法及系统，该减小开关器件发热不均衡的脉宽调制方法及系统能够避免上下桥臂开关器件发热不均衡的问题。为了实现上述目的，本发明实施例提供减小开关器件发热不均衡的脉宽调制方法，包括：获取开关器件所在的扇区以及对应的零矢量；对所述零矢量的持续时间进行计时；根据所述零矢量的持续时间大小选择切换零矢量，以切换所述开关器件的导通。可选地，根据所述零矢量的持续时间大小选择切换零矢量，以切换所述开关器件的导通包括：判断所述零矢量的持续时间是否大于预设阈值；在判断所述零矢量的持续时间大于预设阈值的情况下，切换所述零矢量，并重新对所述零矢量的持续时间进行计时；在判断所述零矢量的持续时间小于或等于预设阈值的情况下，维持所述开关器件的导通。可选地，所述零矢量包括三相桥臂的下桥臂开关器件全导通和三相桥臂的上桥臂开关器件全导通。可选地，获取开关器件所在的扇区以及对应的零矢量包括：获取当前电压矢量的位置；判断是否出现扇区切换；在判断出现扇区切换的情况下，配置电压矢量以及所述零矢量，并对所述零矢量的持续时间进行计时；在判断未出现扇区切换的情况下，对当前所述零矢量的持续时间进行计时。可选地，所述电压矢量包括所述三相桥臂U相的上桥臂开关器件导通、三相桥臂V相和W相的下桥臂开关器件导通以及所述三相桥臂U相和V相的上桥臂开关器件导通、三相桥臂W相的下桥臂开关器件导通。可选地，所述电压矢量还包括三相桥臂V相的上桥臂开关器件导通、三相桥臂U相和W相的下桥臂开关器件导通以及三相桥臂V相和W相的上桥臂开关器件导通、三相桥臂U相的下桥臂开关器件导通。可选地，所述电压矢量还包括三相桥臂W相的上桥臂导通、三相桥臂U相和V相的下桥臂导通以及三相桥臂的U相和W相的上桥臂导通、三相桥臂V相的下桥臂导通。可选地，所述预设阈值包括30ms。另一方面，本发明还提供一种减小开关器件发热不均衡的脉宽调制系统，包括：三相逆变电路；计时器，与所述三相逆变电路连接，用于对所述三相逆变电路中的零矢量的持续时间进行计时；控制器，与所述三相逆变电路和所述计时器连接，用于执行如上任一所述的脉宽调制方法。再一方面，本发明还提供一种计算机可读存储介质，所述计算机可读存储介质存储有指令，所述指令用于被机器读取以使得所述机器执行如上任一所述的脉宽调制方法。通过上述技术方案，本发明提供的减小开关器件发热不均衡的脉宽调制方法通过获取开关器件工作的扇区以及对应的零矢量，对该零矢量的持续时间进行计时，若该零矢量的持续时间过长，则切换零矢量，以使得开关器件切换导通状态，进而有效减小了开关器件发热不均衡的问题，提高了逆变器的可靠性。本发明实施例的其它特征和优点将在随后的具体实施方式部分予以详细说明。附图说明附图是用来提供对本发明实施例的进一步理解，并且构成说明书的一部分，与下面的具体实施方式一起用于解释本发明实施例，但并不构成对本发明实施例的限制。在附图中：图1是根据本发明的一个实施方式的减小开关器件发热不均衡的脉宽调制方法的流程图；图2是根据本发明的一个实施方式的减小开关器件发热不均衡的脉宽调制方法中对零矢量判断的流程图；图3是根据本发明的一个实施方式的减小开关器件发热不均衡的脉宽调制方法中扇区切换判断的流程图；图4是根据本发明的一个实施方式的减小开关器件发热不均衡的脉宽调制方法中对逆变器输出频率判断的流程图；图5是根据本发明的一个实施方式的减小开关器件发热不均衡的脉宽调制方法中对逆变器输出电流判断的流程图；图6是根据本发明的一个实施方式的减小开关器件发热不均衡的脉宽调制方法中获取预设阈值的流程图；图7是根据本发明的一个实施方式的减小开关器件发热不均衡的脉宽调制方法中扇区划分的示意图；图8是根据本发明的一个实施方式的减小开关器件发热不均衡的脉宽调制方法中零矢量切换前后的桥臂开关器件导通状态的示意图。具体实施方式以下结合附图对本发明实施例的具体实施方式进行详细说明。应当理解的是，此处所描述的具体实施方式仅用于说明和解释本发明实施例，并不用于限制本发明实施例。图1是根据本发明的一个实施方式的减小开关器件发热不均衡的脉宽调制方法的流程图。在图1中，该脉宽调制方法可以包括：在步骤S10中，获取开关器件所在的扇区以及对应的零矢量。其中，如图7所示，将上桥臂开关导通下桥臂开关关断的状态表示为1，将上桥臂开关关断下桥臂开关导通表示为0，因此三相桥臂U、V、W的开关逻辑组合可用8个基本电压矢量描述。具体地，8个基本电压矢量可以包括U0、U1、U2、U3、U4、U5、U6、U7。具体地，U0和U7为零矢量，U1至U6为非零矢量，将6个非零基本矢量为界分为6个扇区。在步骤S11中，对零矢量的持续时间进行计时。其中，需要对每个扇区内零矢量的持续时间进行计时，以确定在该扇区该零矢量下开关器件的导通时间是否过长。在步骤S12中，根据零矢量的持续时间大小选择切换零矢量，以切换开关器件的导通。其中，在每个扇区内，根据零矢量的不同，可以分配两个不同的桥臂开关不动作，具体地可以如表1所示。表1扇区、零矢量与三相开关的动作关系表/＞在步骤S10至步骤S12中，先获取逆变器的三相桥臂开关器件所处的扇区和对应的零矢量，对该零矢量的持续时间进行计时，在该零矢量的持续时间达到一定的阈值后，切换零矢量。具体地，如果计时的零矢量为U0，则切换为U7，若计时的零矢量为U7，则切换为U0。在切换零矢量后，即可改变三相桥臂开关器件的导通状态，进而避免三相桥臂上的开关器件持续导通导致发热不均匀。传统的逆变器采用不连续脉宽调制实现开关器件在一个电压基波周期内的一定区间内不动作，但是电机运行在低速时，逆变器输出电压频率低，基波周期长，采用DPWM的方式会使得开关器件不动作的那一相的其中一个桥臂开关器件持续导通较长时间，另一个桥臂开关器件持续关断较长时间，进而导致上下桥臂的开关器件发热不均匀。此外，如果采用CPWM的方式，零矢量U0和U7均匀分配，可以保证上下桥臂承担相同的电流负载，发热也能做到均衡。但CPWM增加了开关器件的开关次数，增大了低频时的损耗，由于逆变器低频运行时三相电流之间大小轮流变换的速度本身比高频运行时慢，开关器件结温波动增大，为保证可靠性，低频时的开关损耗控制比高频时要求更高，此时采用CPWM虽然保证了上下桥臂的均衡，但提高了总的开关损耗，这对安全可靠的低频运行是不利的。在本发明的该实施方式中，采用对零矢量在同一扇区内的持续时间的监控，根据该持续时间的大小切换零矢量以切换开关器件的导通状态，能够有效减小开关器件发热不均衡的问题，提高了逆变器的可靠性。在本发明的该实施方式中，为了实现对上下桥臂的开关器件发热均衡的调节，还需要对扇区内零矢量的持续时间进行判断，具体地判断步骤可以如图2所示。具体地，在图2中，该脉宽调制方法还可以包括：在步骤S20中，判断零矢量的持续时间是否大于预设阈值。在步骤S21中，在判断零矢量的持续时间大于预设阈值的情况下，切换零矢量，并重新对零矢量的持续时间进行计时。其中，若当前的零矢量的持续时间大于预设阈值，则说明不动作的那一相的其中一个桥臂开关器件导通时间过长，另一个桥臂开关器件关断时间过长，存在发热不均匀的情况，因此切换零矢量，使得不动作的一相进行切换，进而改变了上下桥臂的导通情况，避免了上下桥臂开关器件发热不均匀的情况出现。具体地，如图8所示，以扇区1为例，在开关周期在开关周期Ts1内，配置零矢量为U7，此时U相上桥臂持续开通，下桥臂持续关断，电流持续从上桥臂流通。同时，由于低频时输出电压低，零矢量U7时间在开关周期内占比大，V相和W相桥臂虽然有开关动作，但绝大部分时间内也是上桥臂流通电流，此时三相上桥臂开关器件的发热量远超下桥臂开关器件。当扇区1零矢量为U7的PWM持续时间达到预设时间阈值后，切换为零矢量U0，如图8中的开关周期Ts2。此时开关不动作相切换为W相，W相下桥臂持续开通，上桥臂持续关断，电流持续从下桥臂流通。同时，由于低频时输出电压低，零矢量U0时间在开关周期内占比大，V相和W相的绝大部分时间内也是下桥臂流通电流，这样就将三相上桥臂开关器件发热的状态轮换到下桥臂开关器件发热。当电压矢量仍在扇区1且零矢量U0持续时间到达预设时间阈值时，重新切换到零矢量U7由三相上桥臂开关器件承担负载电流。在步骤S22中，在判断零矢量的持续时间小于或等于预设阈值的情况下，维持开关器件的导通。其中，若零矢量的持续时间小于或等于预设阈值，则说明不动作一相的其中一个桥臂的导通时间在可控范围内，还可继续维持导通状态。在步骤S20至步骤S22中，先对零矢量的持续时间进行大小判断，若其大于预设阈值，则说明不动作一相发热不均匀的时间过长。因此切换零矢量，以切换不动作的相位，进而避免上下桥臂长时间发热不均衡影响逆变器的可靠性。若持续时间小于或等于预设阈值，则说明不动作一相发热在可控范围内，可维持导通状态。该种脉宽调制方法保持了DPWM开关次数少开关损耗低的优点，同时均匀分配上下桥的流通电流，避免了上下桥臂开关器件发热不均衡的问题。在本发明的该实施方式中，对于预设阈值的大小包括30ms。具体地，在预设阈值为30ms的情况下，相比于目前通用的DPWM策略，每秒钟只增加33次开关动作，开关损耗变化可以忽略，且可以有效减小上下桥臂的发热不均衡的问题，从而提高逆变器的可靠性。在本发明的该实施方式中，为了进一步提高对上下桥臂发热均衡的调节精度，还需要对电压矢量是否出现扇区切换进行判断，具体地步骤可以如图3所示。具体地，在图3中，该脉宽调制方法可以包括：在步骤S30中，获取当前电压矢量的位置。其中，电压矢量的位置可以包括上述的六个扇区。在步骤S31中，判断是否出现扇区切换。其中，不同扇区的电压矢量也不一样，即三相桥臂开关器件导通状态不一样。在步骤S32中，在判断出现扇区切换的情况下，配置电压矢量以及零矢量，并对零矢量的持续时间进行计时。其中，若存在扇区切换，则三相桥臂开关器件的导通状态就需要改变，根据扇区配置相应的电压矢量和零矢量，并对当前零矢量的持续时间重新计时。具体地，电压矢量可以包括上述提到的U1、U2、U3、U4、U5、U6。具体地，零矢量的配置可以包括U0或者U7。在步骤S33中，在判断未出现扇区切换的情况下，对当前零矢量的持续时间进行计时。其中，若未出现扇区切换，则说明在同一扇区内持续工作，对当前零矢量的持续时间进行计时并对持续时间的大小是否达到预设阈值进行实时跟踪，若未达到预设阈值，则进行发波控制。在步骤S30至步骤S33中，先获取电压矢量的位置，以判断是否出现扇区切换，若出现扇区切换，则重新配置电压矢量和零矢量，同时重新的零矢量的持续时间进行计时；若未出现扇区切换，则对零矢量的持续时间是否达到预设阈值进行跟踪监控，以便于及时切换零矢量，调整三相桥臂开关器件的导通关断状态，避免开关器件的发热不均衡。在本发明的该实施方式中，为了进一步提高对逆变器的三相桥臂发热均衡的调节精度，该脉宽调制方法还可以包括如图4所示的步骤。具体地，在图4中，该脉宽调制方法可以包括：在步骤S40中，获取逆变器的输出频率。在步骤S41中，判断输出频率是否大于或等于预设值。在步骤S42中，在判断输出频率大于或等于预设值的情况下，采用常规的DPWM模式。在步骤S43中，在判断输出频率小于预设值的情况下，获取开关器件所在的扇区以及对应的零矢量。在步骤S40至步骤S43中，先对逆变器的输出频率进行判断，若逆变器的输出频率大于或等于预设值，则说明逆变器的输出频率高，高频时不会存在不动作的一相的其中一个桥臂开关器件开通时间过长，采用常规的DPWM模式即可。若逆变器的输出频率小于预设值，则说明逆变器的输出频率低，低频时存在不动作的一相的其中一个桥臂开关器件开通时间过长，此时则需要对零矢量的持续时间进行监控。在本发明的该实施方式中，为了再一步提高对逆变器的三相桥臂发热均衡的调节精度，该脉宽调制方法还可以包括如图5所示的步骤。具体地，在图5中，该脉宽调制方法可以包括：在步骤S50中，获取逆变器的输出电流。在步骤S51中，判断输出电流是否小于或等于预设电流值。在步骤S52中，在判断输出电流小于或等于预设电流值的情况下，采用CPWM模式。在步骤S53中，在判断输出电流大于预设电流值的情况下，获取开关器件所在的扇区以及对应的零矢量。在步骤S50至步骤S53中，先对逆变器的输出电流进行获取和判断，若逆变器的输出电流小于或等于预设电流值，为了减小输出谐波，应当采用CPWM模式；若逆变器的输出电流大于预设电流值，则需要对零矢量的持续时间进行跟踪控制，以保障逆变器三相桥臂的发热均衡。在本发明的该实施方式中，对于预设阈值的大小，可以根据开关器件特性来决定，具体地步骤可以包括如图6所示的步骤。具体地，在图6中，该脉宽调制方法还可以包括：在步骤S60中，预设多个梯度的电流值。其中，对于电流值的大小可以根据实际状态下逆变器中三相桥臂的开关器件流过的电流值来确定。在步骤S61中，将多个梯度的电流值流过开关器件，获取开关器件等时间段的温度值，并形成温度坐标集合。其中，预先设定采样的时间间隔，在开关器件的最佳工作温度附近采集多个温度值，并形成温度坐标集合。在步骤S62中，根据公式获取开关器件最佳工作温度附近的拟合直线函数，其中，σ为误差，xi为温度坐标集合中第i个温度值对应的时刻，yi为温度坐标集合中第i个温度值，k为拟合直线函数的斜率，b为拟合直线函数的截距，i为整数编号，且i∈n，n为温度坐标集合中温度值的数量。其中，根据公式求取拟合直线函数的斜率和截距。在步骤S63中，根据公式计算开关器件在最佳工作温度时的时刻，其中，x*为开关器件在最佳工作温度时的时刻，y*为开关器件的最佳工作温度。在步骤S64中，将开关器件在工作温度时的时刻作为预设阈值。在步骤S60至步骤S64中，将开关器件在不同电流值下到达最佳工作温度的时刻计算出，根据实际需求可以将该时刻上下浮动一定范围内的值作为实际的预设阈值，进而可保证开关器件持续工作在最佳工作温度附近，进而提高了开关器件的使用寿命和可靠性。另一方面，本发明还提供一种减小开关器件发热不均衡的脉宽调制系统。具体地，该脉宽调制系统可以包括三相逆变电路、计时器和控制器。计时器与三相逆变电路连接，用于对三相逆变电路中的零矢量的持续时间进行计时。控制器与三相逆变电路和计时器连接，用于执行上述任一的脉宽调制方法。再一方面，本发明还提供一种计算机可读存储介质。具体地，该计算机可读存储介质存储有指令，该指令用于被机器读取以使得机器执行如上任一的脉宽调制方法。通过上述技术方案，本发明提供的减小开关器件发热不均衡的脉宽调制方法通过获取开关器件工作的扇区以及对应的零矢量，对该零矢量的持续时间进行计时，若该零矢量的持续时间过长，则切换零矢量，以使得开关器件切换导通状态，进而有效减小了开关器件发热不均衡的问题，提高了逆变器的可靠性。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。在一个典型的配置中，计算设备包括一个或多个处理器、输入/输出接口、网络接口和内存。存储器可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存。存储器是计算机可读介质的示例。计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体，如调制的数据信号和载波。还需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、商品或者设备中还存在另外的相同要素。以上仅为本申请的实施例而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
