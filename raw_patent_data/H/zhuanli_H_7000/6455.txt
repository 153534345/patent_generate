标题title
一种光伏直流电弧监测平台及其控制方法
摘要abst
本发明提供了一种光伏直流电弧监测平台及其控制方法，涉及光伏发电技术领域，平台包括电弧监测系统和配置选择模块；电弧监测系统包括采集模块、数据转换模块和神经网络计算模块；采集模块采集光伏侧电流的交流分量，数据转换模块将不同时间点采集到的交流分量转换成频率分量，神经网络计算模块将频率分量输入至预设的神经网络模型中，当判定光伏发电系统发生电弧时，控制相应的光伏侧的光伏逆变器执行拉弧处理，以此实现对光伏直流电流的监测。配置选择模块根据本地设备的当前容量和当前数据传输速度选择不同架构的电弧监测系统，以使光伏直流电弧监测平台能够适应多种现场运行环境，保证数据处理的效率，提升监测效率。
权利要求书clms
1.一种光伏直流电弧监测平台，其特征在于，包括电弧监测系统和配置选择模块；所述配置选择模块，用于根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择不同架构的所述电弧监测系统；所述电弧监测系统包括采集模块、数据转换模块和神经网络计算模块；所述采集模块，用于采集光伏侧电流的交流分量，并将所述交流分量发送给所述数据转换模块；所述数据转换模块，用于将不同时间点采集到的所述交流分量转换成频率分量，并将所述频率分量发送给所述神经网络计算模块；所述神经网络计算模块，用于将所述频率分量输入至预设的神经网络模型中，判断光伏发电系统是否发生电弧，生成分析结果；还用于当所述分析结果为判定所述光伏发电系统发生电弧时，控制相应的所述光伏侧的光伏逆变器执行拉弧处理。2.根据权利要求1所述的光伏直流电弧监测平台，其特征在于，所述电弧监测系统还包括神经网络训练模块；所述神经网络计算模块还用于将所述分析结果发送给所述神经网络训练模块；所述数据转换模块还用于将每一个所述分析结果对应的所述频率分量发送给所述神经网络训练模块；所述神经网络训练模块，用于采用训练数据对预设的所述神经网络模型进行训练，得到训练后的所述神经网络模型的模型参数；还用于将训练得到的新的所述模型参数发送给所述神经网络计算模块，以使所述神经网络计算模块更新所述神经网络模型，其中，所述训练数据包括所述分析结果和每一个所述分析结果对应的所述频率分量。3.根据权利要求2所述的光伏直流电弧监测平台，其特征在于，所述电弧监测系统中的所述采集模块设置在本地设备层，所述神经网络训练模块设置在云端设备层，所述数据转换模块和所述神经网络计算模块设置在所述本地设备层或中央设备层。4.根据权利要求3所述的光伏直流电弧监测平台，其特征在于，所述根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择不同架构的所述电弧监测系统，包括：判断所述本地设备的所述当前容量是否大于或等于第一容量值；当所述当前容量大于或等于所述第一容量值时，根据所述当前容量和第二容量值，选择所述数据转换模块和所述神经网络计算模块配置位置不同的所述电弧监测系统；当所述当前容量小于所述第一容量值时，选择第三电弧监测系统，其中所述第三电弧监测系统中的所述数据转换模块和所述神经网络计算模块均设置在所述中央设备层。5.根据权利要求4所述的光伏直流电弧监测平台，其特征在于，所述当前容量大于或等于所述第一容量值时，根据所述当前容量和第二容量值，选择所述数据转换模块和所述神经网络计算模块配置位置不同的所述电弧监测系统，包括：当所述当前容量大于或等于所述第一容量值时，判断所述当前容量是否小于第二容量值；当所述当前容量小于所述第二容量值时，选择第一电弧监测系统或所述第三电弧监测系统，其中，所述第一电弧监测系统中的所述数据转换模块设置在所述本地设备层，所述第一电弧监测系统中的所述神经网络计算模块设置在所述中央设备层；当所述当前容量大于或等于所述第二容量值时，选择所述第一电弧监测系统、第二电弧监测系统或者所述第三电弧监测系统，其中，所述第二电弧监测系统中的所述数据转换模块和所述神经网络计算模块均设置在所述本地设备层。6.根据权利要求1-3任一所述的光伏直流电弧监测平台，其特征在于，所述根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择所述数据转换模块和所述神经网络计算模块配置位置不同的所述电弧监测系统，包括：判断所述本地设备的所述当前数据传输速度是否大于或等于传输速度阈值；当所述当前数据传输速度大于或等于所述传输速度阈值时，选择第三电弧监测系统；当所述当前数据传输速度小于所述传输速度阈值时，选择第一电弧监测系统或第二电弧监测系统。7.根据权利要求1所述的光伏直流电弧监测平台，其特征在于，所述将不同时间点采集到的所述交流分量转换成频率分量，并将所述频率分量发送给所述神经网络计算模块，包括：将不同时间点采集到的所述交流分量转换成所述频率分量；根据目标频率范围，对多个所述频率分量进行筛选，得到有效频率分量；对所述有效频率分量进行数据压缩处理，以得到压缩数据；将所述压缩数据发送给所述神经网络计算模块。8.根据权利要求7所述的光伏直流电弧监测平台，其特征在于，所述对所述有效频率分量进行数据压缩处理，以得到压缩数据包括：根据所述有效频率分量的频率数值确定频率求和间隔，其中，当所述有效频率分量的所述频率数值处于第一预设频率范围时，确定所述频率求和间隔为第一频率求和间隔，当所述有效频率分量的所述频率数值处于第二预设频率范围时，确定所述频率求和间隔为第二频率求和间隔，所述第一预设频率范围的最大边界值小于或等于所述第二预设频率范围的最小边界值，所述第一频率求和间隔大于所述第二频率求和间隔；根据所述频率求和间隔将所述有效频率分量划分为多组，分别确定每组的频率数值之和，将每组的所述频率数值之和作为所述压缩数据。9.根据权利要求3所述的光伏直流电弧监测平台，其特征在于，当所述神经网络计算模块设置在所述中央设备层时，所述中央设备层中的所述神经网络计算模块同时读取所述本地设备层中多个所述采集模块采集到的所述交流分量。10.一种光伏直流电弧监测平台的控制方法，其特征在于，包括：根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择不同架构的电弧监测系统；使所述电弧监测系统执行光伏直流电弧监测方法，包括：采集光伏侧电流的交流分量；将不同时间点采集到的所述交流分量转换成频率分量；将所述频率分量输入至预设的神经网络模型中，判断光伏发电系统是否发生电弧，生成分析结果；当所述分析结果为判定所述光伏发电系统发生电弧时，控制相应的所述光伏侧的光伏逆变器执行拉弧处理。
说明书desc
技术领域本发明涉及光伏发电技术领域，具体而言，涉及一种光伏直流电弧监测平台及其控制方法。背景技术分布式光伏发电建于电力用户侧，大多处于工业或居民区，对于安全方面的要求越来越高。在光伏发电的各类安全事故中，电气火灾发生的频次最高，造成的损失最大，而电气火灾主要由直流电弧引起，因此提高电站对于电弧检测的安全防控水平，势在必行。现有的光伏直流电弧监测技术多是在监测方法上进行研究和创新，但是设备现场运行环境复杂多变，而传统方案中的电弧检测算法所需执行环境相对固定，在将监测方法应用到实体设备上时，监测方法与实体设备之间有时不适配，使得监测系统在运行时，监测效率不高，适用范围有限。发明内容本发明所要解决的问题是传统方案中的电弧检测方法所需执行环境相对固定，有时难以适配实体设备，适用范围有限。为解决上述问题，一方面，本发明提供了一种光伏直流电弧监测平台，包括电弧监测系统和配置选择模块；所述配置选择模块，用于根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择不同架构的所述电弧监测系统；所述电弧监测系统包括采集模块、数据转换模块和神经网络计算模块；所述采集模块，用于采集光伏侧电流的交流分量，并将所述交流分量发送给所述数据转换模块；所述数据转换模块，用于将不同时间点采集到的所述交流分量转换成频率分量，并将所述频率分量发送给所述神经网络计算模块；所述神经网络计算模块，用于将所述频率分量输入至预设的神经网络模型中，判断光伏发电系统是否发生电弧，生成分析结果；还用于当所述分析结果为判定所述光伏发电系统发生电弧时，控制相应的所述光伏侧的光伏逆变器执行拉弧处理。可选地，所述电弧监测系统还包括神经网络训练模块；所述神经网络计算模块还用于将所述分析结果发送给所述神经网络训练模块；所述数据转换模块还用于将每一个所述分析结果对应的所述频率分量发送给所述神经网络训练模块；所述神经网络训练模块，用于采用训练数据对预设的所述神经网络模型进行训练，得到训练后的所述神经网络模型的模型参数；还用于将训练得到的新的所述模型参数发送给所述神经网络计算模块，以使所述神经网络计算模块更新所述神经网络模型，其中，所述训练数据包括所述分析结果和每一个所述分析结果对应的所述频率分量。可选地，所述电弧监测系统中的所述采集模块设置在本地设备层，所述神经网络训练模块设置在云端设备层，所述数据转换模块和所述神经网络计算模块设置在所述本地设备层或中央设备层。可选地，所述根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择不同架构的所述电弧监测系统，包括：判断所述本地设备的所述当前容量是否大于或等于第一容量值；当所述当前容量大于或等于所述第一容量值时，根据所述当前容量和第二容量值，选择所述数据转换模块和所述神经网络计算模块配置位置不同的所述电弧监测系统；当所述当前容量小于所述第一容量值时，选择第三电弧监测系统，其中所述第三电弧监测系统中的所述数据转换模块和所述神经网络计算模块均设置在所述中央设备层。可选地，所述当所述当前容量大于或等于所述第一容量值时，根据所述当前容量和第二容量值，选择所述数据转换模块和所述神经网络计算模块配置位置不同的所述电弧监测系统，包括：当所述当前容量大于或等于所述第一容量值时，判断所述当前容量是否小于第二容量值；当所述当前容量小于所述第二容量值时，选择第一电弧监测系统或所述第三电弧监测系统，其中，所述第一电弧监测系统中的所述数据转换模块设置在所述本地设备层，所述第一电弧监测系统中的所述神经网络计算模块设置在所述中央设备层；当所述当前容量大于或等于所述第二容量值时，选择所述第一电弧监测系统、第二电弧监测系统或者所述第三电弧监测系统，其中，所述第二电弧监测系统中的所述数据转换模块和所述神经网络计算模块均设置在所述本地设备层。可选地，所述根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择所述数据转换模块和所述神经网络计算模块配置位置不同的所述电弧监测系统，包括：判断所述本地设备的所述当前数据传输速度是否大于或等于传输速度阈值；当所述当前数据传输速度大于或等于所述传输速度阈值时，选择第三电弧监测系统；当所述当前数据传输速度小于所述传输速度阈值时，选择第一电弧监测系统或第二电弧监测系统。可选地，所述将不同时间点采集到的所述交流分量转换成频率分量，并将所述频率分量发送给所述神经网络计算模块，包括：将不同时间点采集到的所述交流分量转换成所述频率分量；根据目标频率范围，对多个所述频率分量进行筛选，得到有效频率分量；对所述有效频率分量进行数据压缩处理，以得到压缩数据；将所述压缩数据发送给所述神经网络计算模块。可选地，所述对所述有效频率分量进行数据压缩处理，以得到压缩数据包括：根据所述有效频率分量的频率数值确定频率求和间隔，其中，当所述有效频率分量的所述频率数值处于第一预设频率范围时，确定所述频率求和间隔为第一频率求和间隔，当所述有效频率分量的所述频率数值处于第二预设频率范围时，确定所述频率求和间隔为第二频率求和间隔，所述第一预设频率范围的最大边界值小于或等于所述第二预设频率范围的最小边界值，所述第一频率求和间隔大于所述第二频率求和间隔；根据所述频率求和间隔将所述有效频率分量划分为多组，分别确定每组的频率数值之和，将每组的所述频率数值之和作为所述压缩数据。可选地，当所述神经网络计算模块设置在所述中央设备层时，所述中央设备层中的所述神经网络计算模块同时读取所述本地设备层中多个所述采集模块采集到的所述交流分量。另外一方面，本发明还提供了一种光伏直流电弧监测平台的控制方法，包括：根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择不同架构的电弧监测系统；使所述电弧监测系统执行光伏直流电弧监测方法，包括：采集光伏侧电流的交流分量；将不同时间点采集到的所述交流分量转换成频率分量；将所述频率分量输入至预设的神经网络模型中，判断光伏发电系统是否发生电弧，生成分析结果；当所述分析结果为判定所述光伏发电系统发生电弧时，控制相应的所述光伏侧的光伏逆变器执行拉弧处理。与现有技术相比，本发明具有如下有益效果：本发明提供的一种光伏直流电弧监测平台及其控制方法，在电弧监测系统中采集模块采集光伏侧电流的交流分量，对光伏侧的电流进行实时采集监控，数据转换模块将不同时间点采集到的所述交流分量转换成频率分量，将时域数据转化成多个频率分量，以使进行数据分析，神经网络计算模块将所述频率分量输入至预设的神经网络模型中，判断光伏发电系统是否发生电弧，当判定所述光伏发电系统发生电弧时，控制相应的所述光伏侧的光伏逆变器执行拉弧处理，以此实现对光伏直流电流的监测，但是由于上述模块在执行过程中需要占用一定的存储空间，不同模块之间还需要进行数据的传输，本地设备不一定能够支持完整的配置上述所有模块，例如此时可以选择将部分模块配置在本地设备层，将其他模块配置在中央设备层或者云端设备层，从而形成多种不同的电弧监测系统，通过获取本地设备的当前容量和本地设备的当前数据传输速度，根据所述当前容量和当前数据传输速度选择不同架构的电弧监测系统，以使光伏直流电弧监测平台能够适应多种现场运行环境，让直流电弧监测方法能够在多种环境下得以顺利运行，保证数据处理的效率，提升监测效率。附图说明图1示出了本发明实施例中一种光伏直流电弧监测平台的结构示意图；图2示出了本发明实施例中第一电弧监测系统的结构示意图；图3示出了本发明实施例中第二电弧监测系统的结构示意图；图4示出了本发明实施例中第三电弧监测系统的结构示意图；图5示出了本发明实施例中第一电弧监测系统的工作时序图；图6示出了本发明实施例中第二电弧监测系统的工作时序图；图7示出了本发明实施例中第三电弧监测系统的工作时序图。具体实施方式为使本发明的上述目的、特征和优点能够更为明显易懂，下面结合附图对本发明的具体实施例做详细的说明。要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。在本说明书的描述中，参考术语“实施例”、“一个实施例”和“一个实施方式”等的描述意指结合该实施例或实施方式描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或实施方式中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或实施方式。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或实施方式以合适的方式结合。在本发明的一种实施例中，如图1，提供一种光伏直流电弧监测平台，包括电弧监测系统和配置选择模块；所述配置选择模块，用于根据本地设备的当前容量和所述本地设备的当前数据传输速度，判断生成选择指令，选择不同架构的所述电弧监测系统。具体地，容量是指本地设备的存储空间大小，也可以指本地设备的处理器运行空间大小，用于评价本地设备能够保存多少数据以及本地设备能够支持多大体量的数据同时进行运算等。而随着本地设备的不断运行，由于过程文件或者过程数据的产生，其容量处于不断缩小的过程，当定期对本地设备的处理器或者内存进行清理和维护之后，容量也会变大，因此本地设备的容量处于不断变化的情况，为了监测到本地设备在不同时间点的真实剩余容量，可以定时获取本地设备当前的容量，当前容量可以指本地设备当前的处理能力或者当前的存储能力，从而选择适合本地设备当前情况的电弧监测系统。在平台运行开始，需要获取本地设备的一些物理属性，如容量和数据传输速度，据此选择不同配置的电弧监测系统，这些电弧监测系统的不同之处在于，采集模块、数据转换模块、神经网络计算模块以及神经网络训练模块设置的位置不同，可以将它们设置在本地设备层、中央设备层或者云端设备层。例如本地设备的当前容量较大，可以选择大部分模块配置在本地设备控制器中的电弧监测系统，如图1中的电弧监测系统1，减少数据的外传，一方面保证平台运行的安全性，另一方面减少数据传输的距离，提高数据处理的速度，提升平台运行的效率。或者例如本地设备的当前容量不大，但是当前数据传输速度较快，可以选择大部分模块配置在中层设备层的控制器或者云端设备层的控制器中的电弧监测系统，比如仅将采集模块设置在本地设备层，而将数据转换模块和神经网络计算模块配置在中央设备层，如图1中的电弧监测系统3，能够减少本地设备的运行压力，也能够在一定程度上保证数据处理的速度。如图1所示，示出了几种不同架构的电弧监测系统的结构示意图，所述电弧监测系统包括采集模块、数据转换模块和神经网络计算模块；所述采集模块，用于采集光伏侧电流的交流分量，并将所述交流分量发送给所述数据转换模块。采集模块用于采集光伏侧电流的高频交流分量，可以只采PV正母线，如图2所示，也可以一起采集PV的正负母线。然后，将采集到的高频交流分量送入数据转换模块。所述数据转换模块，用于将不同时间点采集到的所述交流分量转换成频率分量，并将所述频率分量发送给所述神经网络计算模块。具体地，所述数据转换模块内可以采用FFT算法进行分析计算，将时域数据转换到频域，得到各个频率点相应的幅值。在一个可选的实施例中，通过FFT算法分析，以将交流分量进行转换，得到1-m次频率分量，第1次频率分量的频率为预设频率，以后在所述1-m次频率分量中每个频率分量与相邻的前一频率分量的频率差为预设频率，本发明实施例中，m为512，预设频率为250Hz，通过筛除上述1-m次频率分量中的高频分量和低频分量，以减小后续判断误差，最终得到上述频率分量，以用于后续进行分析。所述神经网络计算模块，用于将所述频率分量输入至预设的神经网络模型中，判断光伏发电系统是否发生电弧，生成分析结果；还用于当所述分析结果为判定所述光伏发电系统发生电弧时，控制相应的所述光伏侧的光伏逆变器执行拉弧处理。具体地，通过将所述频率分量输入至神经网络模型，预先设置一个门槛值，将预设门槛值与模型的输出进行比对，以此进行电弧判断。例如将待测设备的频率分量的频率数值之和以及所述频率分量中频率数值大于预设数值的频率个数，作为神经网络模型的输入，进而由神经网络模型处理得到输出，进而与预设门槛值进行比对。在本实施例中，在电弧监测系统中采集模块采集光伏侧电流的交流分量，对光伏侧的电流进行实时采集监控，数据转换模块将不同时间点采集到的所述交流分量转换成频率分量，将时域数据转化成多个频率分量，以使进行数据分析，神经网络计算模块将所述频率分量输入至预设的神经网络模型中，判断光伏发电系统是否发生电弧，当判定所述光伏发电系统发生电弧时，控制相应的所述光伏侧的光伏逆变器执行拉弧处理，以此实现对光伏直流电流的监测，但是由于上述模块在执行过程中需要占用一定的存储空间，不同模块之间还需要进行数据的传输，本地设备不一定能够支持完整的配置上述所有模块，例如此时可以选择将部分模块配置在本地设备层，将其他模块配置在中央设备层或者云端设备层，从而形成多种不同的电弧监测系统，通过获取本地设备的当前容量和本地设备的当前数据传输速度，根据所述当前容量和当前数据传输速度选择不同架构的电弧监测系统，以使光伏直流电弧监测平台能够适应多种现场运行环境，让直流电弧监测方法能够在多种环境下得以顺利运行，保证数据处理的效率，提升监测效率。在本发明的一种实施例中，如图2－图4所示，所述电弧监测系统还包括神经网络训练模块；所述神经网络计算模块还用于将所述分析结果发送给所述神经网络训练模块；所述数据转换模块还用于将每一个所述分析结果对应的所述频率分量发送给所述神经网络训练模块；所述神经网络训练模块，用于采用训练数据对预设的所述神经网络模型进行训练，得到训练后的所述神经网络模型的模型参数；还用于将训练得到的新的所述模型参数发送给所述神经网络计算模块，以使所述神经网络计算模块更新所述神经网络模型，其中，所述训练数据包括所述分析结果和每一个所述分析结果对应的所述频率分量。具体地，将所述频率分量作为所述神经网络模型的输入值，将所述训练结果作为所述神经网络模型输出结果的对比目标值，即作为损失函数的变量，根据损失函数的结果调整所述神经网络模型的模型参数。在上述神经网络模型的训练过程中，可以通过设置相关参数，如训练次数、学习速率、目标误差以及相关的初始权值和阈值等进行训练迭代，最终输出结果与监测的实际结果进行对比，基于损失函数以及迭代次数等调整模型的参数，以此完成神经网络模型的训练，其具体的模型结构以及训练过程，可以根据实际情况进行设定。例如神经网络计算模块包括输入层、隐含层和输出层。将所述训练数据集输入初始模型以得到模型参数，其中，所述模型参数包括所述输入层到所述隐含层的权值W1和所述隐含层的阈值B1，以及所述隐含层到所述输出层的权值W2和隐含层的阈值B2；根据所述模型参数对所述初始模型不断进行更新，直至符合预设条件，以获得新的所述神经网络模型。其中，所述隐含层的输出的确定公式包括：；所述输出层的输出的确定公式包括：；其中，n表示第n次迭代，X表示所述输入层的输出，函数f为激活函数。本发明实施例中，上述训练数据集输入神经网络模型后，可通过输入层进行归一化处理以及叠加随机噪声，以此防止过度拟合，然后设置训练参数，具体包括训练次数、学习速率、目标误差、初始的权值和阈值，利用神经网络迭代方法，在神经网络模型的前向传播过程中，输入层的输出X与权值W1以及阈值B1结合激活函数共同求得隐含层的输出YH，进一步地，在输出层，结合隐含层的输出YH与权值W2以及阈值B2共同求得输出层的输出YO，该输出也即神经网络模型的输出，以此完成神经网络模型的前向传播过程，通过结合输出所对应的电弧判断结果与真实数据进行比较，计算误差值进而从输出层往输入层逐层计算梯度，根据梯度下降算法，确定上述模型的权值和阈值，以用于更新模型以减小误差。本发明实施例中，激活函数的确定公式包括：，输出层的输出YO可以通过与预设门槛值比对，而确定是否产生了直流电弧。在本发明的一种实施例中，如图2－图4所示，所述电弧监测系统中的所述采集模块设置在本地设备层，所述神经网络训练模块设置在云端设备层，所述数据转换模块和所述神经网络计算模块设置在所述本地设备层或中央设备层。具体地，所述本地设备层部署于光伏组串，一般一个PV组串配备一个本地设备层，或者两到三个PV组串共享一个本地设备层。所述中央设备层部署于所述光伏逆变器，一般一个逆变器配备有一个中央设备层。所述云端设备层部署于电站，一般数台逆变器配备有一个云端设备层。在本发明的一种实施例中，所述根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择不同架构的所述电弧监测系统，包括：判断所述本地设备的所述当前容量是否大于或等于第一容量值；当所述当前容量大于或等于所述第一容量值时，根据所述当前容量和第二容量值，选择所述数据转换模块和所述神经网络计算模块配置位置不同的所述电弧监测系统；当所述当前容量小于所述第一容量值时，选择第三电弧监测系统，其中所述第三电弧监测系统中的所述数据转换模块和所述神经网络计算模块均设置在所述中央设备层。具体地，当本地设备的当前容量较小的时候，不足以支持本地设备进行大量的运算或者较多数据的保存，可能只够支撑本地设备执行采集光伏母线上的交流分量的工作，此时就可以选择将数据转换模块和所述神经网络计算模块均设置在所述中央设备层的第三电弧监测系统，如图4所示。虽然将大量的交流分量数据从本地设备层上传至中央设备层，对通信传输的要求比较高，但是整体监测过程是可以运行的，当通信传输速度达不到要求，只是监测流程运行的较慢而已，但是如果将大量运算放在当前容量较小的本地设备层，可能会使本地设备层崩溃或者瘫痪，从而使监测流程无法继续。在本发明的一种实施例中，所述当前容量大于或等于所述第一容量值时，根据所述当前容量和第二容量值，选择所述数据转换模块和所述神经网络计算模块配置位置不同的所述电弧监测系统，包括：当所述当前容量大于或等于所述第一容量值时，判断所述当前容量是否小于第二容量值，其中，第二容量值大于第一容量值。当所述当前容量小于所述第二容量值时，选择第一电弧监测系统或所述第三电弧监测系统，其中，所述第一电弧监测系统中的所述数据转换模块设置在所述本地设备层，所述第一电弧监测系统中的所述神经网络计算模块设置在所述中央设备层，如图2所示。由于第一电弧监测系统中的数据转换模块设置在本地设备层，因此对于本地设备的容量有一定要求，当本地设备的当前容量达到要求时，可以选择第一电弧监测系统，当然也可以选择第三电弧监测系统。但是由于第三电弧监测系统对于数据传输有一定要求，当通信不佳时，可以优先选择第一电弧监测系统。当所述当前容量大于或等于所述第二容量值时，选择所述第一电弧监测系统、第二电弧监测系统或者所述第三电弧监测系统，其中，所述第二电弧监测系统中的所述数据转换模块和所述神经网络计算模块均设置在所述本地设备层，如图3所示。由于第二电弧监测系统中的数据转换模块和神经网络计算模块都设置在本地设备层，因此对于本地设备的容量要求较高，当本地设备的当前容量达到要求时，可以选择第二电弧监测系统，当然也可以选择第一电弧监测系统或者第三电弧监测系统。但是由于第三电弧监测系统对于数据传输有一定要求，当通信不佳时，可以优先选择第二电弧监测系统；由于第一电弧检测系统中数据转换模块和神经网络计算模块处于两个不同的设备层，因此两者之间也需要进行较远距离的数据传输，数据传输的及时性欠佳，这势必会影响监测效率，因此在本地设备容量满足要求的情况下，优先选择第二电弧监测系统，其次是第一电弧监测系统，最后才选择第三电弧监测系统，当然最后是否选择第三电弧监测系统，还需要结合本地设备的当前数据传输速度进行综合评定。另外，由于在第二电弧监测系统中，中央设备层没有设置功能模块，其相当于仅作为数据的中转站，因此中央设备层包括远程通信模块，主要用于连接本地设备层和云端设备层；但是如果本地设备层和云端设备层之间可以直接建立通信，此时中央设备层也可以省略。在本发明的一种实施例中，所述根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择所述数据转换模块和所述神经网络计算模块配置位置不同的所述电弧监测系统，包括：判断所述本地设备的所述当前数据传输速度是否大于或等于传输速度阈值；当所述当前数据传输速度大于或等于所述传输速度阈值时，选择第三电弧监测系统；当所述当前数据传输速度小于所述传输速度阈值时，选择第一电弧监测系统或第二电弧监测系统。在本实施例中，第三电弧监测系统的神经网络计算模块设置在中央设备层，对本地设备层采集到的数据的实时传输性要求比较高，一方面本地设备层采集到的数据量比较大，另一方面数据传输的时间要求紧急，因此第三电弧监测系统对于数据传输速度的要求较高，相对的通信速度和通信方式都需要进行特殊的要求和设置。而第一电弧监测系统和第二电弧监测系统的神经网络计算均在本地完成，所以对实时数据传输要求比较低，没有大量紧急的数据需要在本地设备层和中央设备层之间进行传输，因此对于本地设备层的当前数据传输速度要求可以适当降低。在本发明的一种实施例中，所述将不同时间点采集到的所述交流分量转换成频率分量，并将所述频率分量发送给所述神经网络计算模块，包括：将不同时间点采集到的所述交流分量转换成所述频率分量；根据目标频率范围，对多个所述频率分量进行筛选，得到有效频率分量；具体地，为减少FFT计算结果的通信传输，确定电弧的频率范围，只选取该频段的数据。比如常见的电弧频率范围为40kHz ~ 120kHz，所以可以将得到的数据去除低于40kHz和高于120kHz的数据点。对所述有效频率分量进行数据压缩处理，以得到压缩数据；具体地，可以将得到的有效频率分量进行分组，计算每一个分组的频率幅值之和，其实是将多个数据整合成一个数据，相当于之前在一条连续的曲线上取多个密集的点，而现在是将相邻几个数据求和，最终得到几个频率总值，多个频率总值的变化规律在整体走势上与之前多个密集的点的走势基本保持一致，因此可以通过这种手段将数据的数量大幅减少。将所述压缩数据发送给所述神经网络计算模块。在本实施例中，所述对所述有效频率分量进行数据压缩处理，以得到压缩数据包括：根据所述有效频率分量的频率数值确定频率求和间隔，其中，当所述有效频率分量的所述频率数值处于第一预设频率范围时，确定所述频率求和间隔为第一频率求和间隔，当所述有效频率分量的所述频率数值处于第二预设频率范围时，确定所述频率求和间隔为第二频率求和间隔，所述第一预设频率范围的最大边界值小于或等于所述第二预设频率范围的最小边界值，所述第一频率求和间隔大于所述第二频率求和间隔；根据所述频率求和间隔将所述有效频率分量划分为多组，分别确定每组的频率数值之和，将每组的所述频率数值之和作为所述压缩数据。具体地，可以将得到的有效频率分量等分成多组，例如每5个数据求和，形成新的一组数据。还可以变间隔数据求和，比如40kHz~60kHz频段的数值很小，可以采用间隔比较大的方式，将在这一频段的有效频率分量分割成较少的组，然后进行数据求和，而60kHz~80kHz频段的数值较大，可以采用间隔比较小的方式，将这一频段的有效频率分量分割成较多的组，然后进行数据求和。在本发明的一种实施例中，当所述神经网络计算模块设置在所述中央设备层时，所述中央设备层中的所述神经网络计算模块同时读取所述本地设备层中多个所述采集模块采集到的所述交流分量。具体地，分时读取只需要一个通信口即可，对控制器的资源要求低，但是通信分时，实际是串行通信，数据读取比较慢，意味着电弧检测时间会偏长。同时读取意味着通信是点对点，如果有N个本地设备层，中央设备层也需要对应有N个通信口，对资源要求高，但是数据读取快，所有通信是并行工作的。第一电弧监测系统和第二电弧监测系统的神经网络计算均在本地完成，所以对实时数据传输要求比较低，没有大量紧急的数据需要在本地设备层和中央设备层之间进行传输。但是第三电弧监测系统的神经网络计算模块设置在中央设备层，对本地设备层采集到的数据的实时传输性要求比较高，一方面本地设备层采集到的数据量比较大，另一方面数据传输的时间要求紧急，因此在第三电弧监测系统的架构中数据读取优选同时读取的方式。在本发明的一种实施例中，所述将所述频率分量输入至预设的神经网络模型中，判断光伏发电系统是否发生电弧，生成分析结果包括：分析频率分量的频率数值之和以及所述频率分量中频率数值大于预设数值的频率个数，其中所述频率数值之和包括所述频率分量中所有频率数值之和，以及对所述频率分量进行分组后，分别确定的各所述分组的频率数值之和。具体地，频率分量的频率数值之和可以是所有频率分量对应的频率数值的总和，也可以是依据实际情况划分或筛选的部分频率分量对应的频率数值之和，预设数值可以根据实际情况进行设定，本发明实施例中预设数值设为1，即统计频率数值大于1的频率个数。对于得到的k=1-512次频率分量，其第1个频率分量为250Hz，然后依次每个频率分量相较前一频率分量高250Hz，最终第512次频率分量的频率数值为128kHz，通过对其低频分量和高频分量进行筛选，例如，本发明实施例中，将低频分量设定为小于41kHz的频率分量，高频分量设置为大于102.5kHz的频率分量。以此，将前162和408之后的频率分量筛除，其中间的频率分量保留，即频率分量为163—408次频率分量，也即最终剩余保留的频带为41-102.5kHz。对于上述筛选得到的频率分量，通过计算其所有频率数值之和，即163—408次频率分量的所有频率数值之和，以及对频率分量进行分组求和，并分别确定分组的频率数值之和，以此总和及各分组的分组和共同作为神经网络模型的训练数据。本发明实施例中，按顺序将频率分量等间隔地分为6组，分别为分组1-分组6，依次为S1=163-203次， S2=204-244次，S3=245-285次， S4=286-326次， S5=327-367次以及S6=368-408次的频率分组，分别计算各分组的频率数值分组和，计算出来的分组和与频率分量的频率数值总和以及得到的频率数值大于1的频率个数N等8组数据作为神经网络模型的输入。根据所述频率数值之和、所述频率个数以及神经网络模型进行电弧检测分析判断，生成分析结果。具体地，通过获取神经网络模型的输出，以及获取预设门槛值，将预设门槛值与模型的输出进行比对，以此进行电弧判断。其中，通过待测设备的频率分量的频率数值之和以及所述频率分量中频率数值大于预设数值的频率个数，以作为神经网络模型的输入，进而由神经网络模型处理得到输出，进而与预设门槛值进行比对。在一个可选的实施例中，通过获得待测设备的光伏侧电流的交流分量，通过处理得到频率分量，进而统计其中的频率数值之和以及频率数值大于预设数值的频率个数。本发明的一个具体的实施例中，将输入数据送入神经网络模型中，首先进行归一化处理，然后利用输入层到隐含层的权重W1和隐含层的阈值B1，得到隐含层的输出YH，然后利用隐含层到输出层的权重W2和隐含层的阈值B2，得到输出层的输出YO。输出结果YO与预设门槛值YT比较，判断是否有弧发生。为了更清楚地了解三种电弧监测系统的运行过程，结合图5－图7示例性地进行详细说明。如图5，本地设备层方面，首先进行512组数据采集，完毕后进行FFT计算，然后做FFT数据压缩和数据存储，通知中央设备层读取数据。中央设备层与本地设备层通信，监测本地设备层数据是否准备好，待准备好后，开始接收本地设备层发送的数据，然后进行神经网络计算，并判断电弧，做拉弧处理。中央设备层同时与云端设备层通信，监测云端设备层是否需要训练数据，如果需要，发送训练数据给云端设备层。另外还监测云端设备层是否有新的模型参数产生，如果产生了新的模型参数，接收数据并更新模型。对于云端设备层，首先判断是否有重新训练模型的需求，如果需要，请求中央设备层发送训练数据到云端，然后用收到的数据训练模型，得到新的模型参数后发往中央设备层。如图6，本地设备层方面，首先进行512组数据采集，完毕后进行FFT计算，然后进行神经网络计算，并判断电弧，做拉弧处理；本地设备层同时与中央设备层通信，监测中央设备层是否需要训练数据，如果需要，发送训练数据给中央设备层；然后监测中央设备层是否有新的模型参数更新，如果有新数据更新，接收数据并更新模型。中央设备层与云端设备层通信，监测云端设备层是否需要训练数据，如果需要，请求本地设备层发送训练数据，然后接收本地设备层数据，并发送给云端设备层；监测云端设备层是否有新的模型参数更新，如果有，接受新的模型数据，并将更新的模型参数发送给本地设备层，用以更新模型。对于云端设备层，首先判断是否有重新训练模型的需求，如果需要，请求中央设备层发送训练数据到云端设备层，然后用收到的数据训练模型，得到新的模型参数后发往中央设备层。如图7，本地设备层方面，首先进行512组数据采集，然后通知中央设备层读取数据。中央设备层与本地设备层通信，监测本地设备层数据是否准备好，待准备好后，开始接收本地设备层发送的数据，进行FFT计算，然后进行神经网络计算，并判断电弧，做拉弧处理；中央设备层同时与云端设备层通信，监测云端设备层是否需要训练数据，如果需要，发送训练数据给云端设备层；还监测云端设备层是否有新的模型参数产生，如果有，接受新的模型参数并更新模型。对于云端设备层，首先判断是否有重新训练模型的需求，如果有，请求中央设备层发送训练数据到云端设备层，然后用收到的数据训练模型，得到新的模型参数后发往中央设备层。由于上层跟本地设备层之间是在实时通信的，当本地设备层准备好数据后，会上传一条准备好的指令给上层，这样上层知道本地设备层的数据已准备好，就会要求本地设备层上传采集的数据。另外，调度人员可以定期进行神经网络模型更新，从云端设备层下发指令，从中央设备层或本地设备层获得训练数据，进行模型自动更新，然后再将更新后的模型参数逐级下发。此外，也可以通过下层触发的方式控制云端设备层中神经网络训练模块的运行时机，当本地设备层或者中央处理层发觉误报次数偏多时，自动触发神经网络模型更新的需求。例如将实际无弧但判断错误的数据保存，当保存判断错误的条数超过一定门槛后，将误判的数据进行上传，重新进行神经网络模型训练。需要说明的是，设备层之间通信方式可以根据不同情况进行相应选择，如本地设备层和中央设备层可选SPI，CAN，Ethernet等，中央设备层和云端设备层可选Wi-Fi，Ethernet等。采集模块一般为一个硬件电路，这个可以根据具体要求进行设计。FFT计算模块的执行依赖于一个控制器，如FPGA，DSP，ARM等。神经网络计算模块的执行依赖于一个控制器，如FPGA，DSP，ARM等。神经网络训练模块的执行依赖于云计算平台。在本发明的一种实施例中，还提供一种光伏直流电弧监测平台的控制方法，包括：根据本地设备的当前容量和所述本地设备的当前数据传输速度，选择不同架构的电弧监测系统；使所述电弧监测系统执行光伏直流电弧监测方法，包括：采集光伏侧电流的交流分量；将不同时间点采集到的所述交流分量转换成频率分量；将所述频率分量输入至预设的神经网络模型中，判断光伏发电系统是否发生电弧，生成分析结果；当所述分析结果为判定所述光伏发电系统发生电弧时，控制相应的所述光伏侧的光伏逆变器执行拉弧处理。本发明中的光伏直流电弧监测平台的控制方法，其具有与上述光伏直流电弧监测平台相近似的技术效果，在此不再进行赘述。虽然本发明披露如上，但本发明并非限定于此。任何本领域技术人员，在不脱离本发明的精神和范围内，均可作各种更动与修改，因此本发明的保护范围应当以权利要求所限定的范围为准。
