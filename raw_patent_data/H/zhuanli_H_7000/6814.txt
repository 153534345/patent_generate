标题title
基于大数据的蜂窝网络资源分配方法
摘要abst
本发明涉及无线通信网络资源分配技术领域，具体涉及一种基于大数据的蜂窝网络资源分配方法，该方法通过D2D用户的历史通信数据获取预测日平均通话时长，通过大数据在预测日平均通话时长内预测D2D用户的移动轨迹，根据D2D用户的移动轨迹得到与蜂窝用户的空间距离的变化特征，根据空间距离的变化特征得到D2D用户与每个蜂窝用户的动态影响因子，计算蜂窝用户与D2D用户的平均吞吐量，并根据平均吞吐量和动态影响因子得到动态干扰参数，根据动态干扰参数使D2D用户复用最佳蜂窝用户的信道进行通信，完成蜂窝网络资源分配。
权利要求书clms
1.基于大数据的蜂窝网络资源分配方法，其特征在于，所述方法包括：获得蜂窝小区内所有D2D用户在当天之前历史预设天数中每天的复用模式使用次数和通话时长；根据每个D2D用户的复用模式使用次数和通话时长的分布特征得到预测日平均通话时长，获得所述预测日平均通话时长内D2D用户的移动轨迹预测函数，通过所述移动轨迹预测函数预测每个时刻D2D用户的移动轨迹，根据所述移动轨迹得到每个时刻D2D用户与蜂窝用户的空间距离，根据所述空间距离的变化特征和D2D用户的移动轨迹得到D2D用户与每个蜂窝用户的动态影响因子；获取预测日平均通话时长内每个蜂窝用户和D2D用户的预设通话参数，根据预测日平均通话时长内D2D用户与每个蜂窝用户的动态距离和预设通话参数，得到在D2D通信干扰下每个蜂窝用户的平均吞吐量和D2D用户的平均吞吐量；根据所述动态影响因子、所述蜂窝用户的平均吞吐量和所述D2D用户的平均吞吐量，得到D2D用户对每个蜂窝用户的动态干扰参数，根据所述动态干扰参数选取D2D用户的最佳复用对象，根据所述最佳复用对象进行下行链路的复用完成蜂窝网络资源分配。2.根据权利要求1所述的基于大数据的蜂窝网络资源分配方法，其特征在于，所述预测日平均通话时长的获取方法包括：根据每个D2D用户的复用模式使用次数和通话时长计算所述历史预设天数中每天的D2D用户平均通话时长，将前一天的所述平均通话时长记为第一预测参数，对所述历史预设天数中前一天之前每一天的平均通话时长赋予不同的权值，距离当天的时间越长对应的权值越小，且权值之和为1，将前一天之前每一天赋予权值之后的平均通话时长的累加值的均值作为第二预测参数，将第一预测参数与第二预测参数的均值记为预测日平均通话时长。3.根据权利要求2所述的基于大数据的蜂窝网络资源分配方法，其特征在于，所述根据每个D2D用户的复用模式使用次数和通话时长计算所述历史预设天数中每天的D2D用户平均通话时长包括：获取所有D2D用户第k天的复用模式使用次数和通话时长，根据所述复用模式使用次数和所述通话时长计算第k天所有D2D用户通话时长的总时间，将第k天所有D2D用户通话时长的总时间与D2D用户数量的比值记为所有D2D用户第k天的平均通话时长，根据D2D用户第k天的平均通话时长的获取方法获得所述历史预设天数中每天的D2D用户平均通话时长。4.根据权利要求1所述的基于大数据的蜂窝网络资源分配方法，其特征在于，所述动态影响因子的获取方法包括：根据所述移动轨迹计算所述预测日平均通话时长内每个时刻D2D用户与所述蜂窝用户对应的空间距离；计算目标时刻与前一时刻对应空间距离的差值；当所述差值小于0时，将所述目标时刻的动态影响参数设置为-1；当所述差值大于0时，将所述目标时刻的动态影响参数设置为1；当所述差值等于0时，将所述目标时刻的动态影响参数设置为0；根据所述移动轨迹计算D2D用户目标时刻的空间位置与前一时刻的空间位置之间的空间距离，并记为目标时刻的移动变化距离，将目标时刻对应的所述移动变化距离和所述动态影响参数的乘积记为瞬时影响因子；改变目标时刻得到所述预测日平均通话时长内除了第一时刻外其他时刻的瞬时影响因子，将所述预测日平均通话时长内除了第一时刻外其他时刻的瞬时影响因子的累加和记为动态影响因子。5.根据权利要求1所述的基于大数据的蜂窝网络资源分配方法，其特征在于，所述预设通话参数包括：D2D用户与所述蜂窝用户的信道增益，D2D用户的接受功率，基站与对应的所述蜂窝用户之间的信道增益，所述蜂窝用户的接受功率以及所述蜂窝用户的待分配信道带宽。6.根据权利要求5所述的基于大数据的蜂窝网络资源分配方法，其特征在于，所述蜂窝用户的平均吞吐量的获取方法包括：将所述基站与对应的所述蜂窝用户之间的信道增益记为蜂窝信道增益，将所述D2D用户与所述蜂窝用户的信道增益记为复用信道增益，将所述蜂窝信道增益与所述蜂窝用户的接受功率的乘积记为蜂窝信道功率，将所述复用信道增益与所述D2D用户的接受功率的乘积记为复用信道功率；将预设路径衰减系数作为目标时刻所述空间距离的指数得到指数函数值，计算目标时刻对应的所述指数函数值与蜂窝信道功率的乘积，获得第一乘积；计算目标时刻对应的所述复用信道功率和高斯白噪声的和值，获得第一和值；将所述第一乘积与所述第一和值的比值记为目标时刻的第一信道占有量，将所述第一信道占有量与1的和值作为以2为底的对数函数的真数，将目标时刻对应的对数函数值作为第一瞬时占有量，改变目标时刻得到所述预测日平均通话时长内所有时刻的第一瞬时占有量，计算所述预测日平均通话时长内所有时刻的第一瞬时占有量的均值并记为第一占有量均值，将所述第一占有量均值与所述蜂窝用户的待分配信道带宽的乘积作为所述蜂窝用户的平均吞吐量。7.根据权利要求6所述的基于大数据的蜂窝网络资源分配方法，其特征在于，所述D2D用户的平均吞吐量包括：计算目标时刻对应的所述指数函数值与所述复用信道功率的乘积，获得第二乘积；计算目标时刻对应的所述蜂窝信道功率和高斯白噪声的和值，获得第二和值；将所述第二乘积与所述第二和值的比值记为目标时刻的第二信道占有量，将所述第二信道占有量与1的和值作为以2为底的对数函数的真数，将目标时刻对应的对数函数值作为瞬时占有量，改变目标时刻得到所述预测日平均通话时长内所有时刻的第二瞬时占有量，计算所述预测日平均通话时长内所有时刻的第二瞬时占有量的均值并记为第二占有量均值，将所述第二占有量均值与所述蜂窝用户的待分配信道带宽的乘积作为所述D2D用户的平均吞吐量。8.根据权利要求1所述的基于大数据的蜂窝网络资源分配方法，其特征在于，所述动态干扰参数的获取方法包括：将预测日平均通话时长对应的所述蜂窝用户的平均吞吐量和所述D2D用户的平均吞吐量的和值进行负相关映射得到负相关映射值，将所述负相关映射值与所述动态影响因子的乘积记为动态干扰参数。9.根据权利要求1所述的基于大数据的蜂窝网络资源分配方法，其特征在于，所述根据所述动态干扰参数选取D2D用户的最佳复用对象包括：统计D2D用户与所有蜂窝用户的动态干扰参数，将最大动态干扰参数对应的蜂窝用户作为D2D用户的最佳复用对象。
说明书desc
技术领域本发明涉及无线通信网络资源分配技术领域，具体涉及一种基于大数据的蜂窝网络资源分配方法。背景技术蜂窝移动通信是指利用移动设备进行无线通信的时候采用蜂窝无线组网的方式，将终端以及无线设备之间的通信进行无线通道连接来实现用户之间的相互通信。在日常生活中蜂窝移动通信网络系统在移动通信中应用广泛，例如5G即第五代蜂窝移动通信网络系统。而D2D通信技术作为蜂窝移动通信中重要的技术之一，由于其资源利用率高、稳定性强以及具有一定灵活性的特点，D2D通信技术一直是5G的关键技术。现有技术在D2D的接收端对蜂窝用户的下行链路进行复用时，虽然提升了蜂窝网络资源的利用率，但是由于D2D用户与蜂窝用户使用相同的信道进行通信，会使得D2D用户与蜂窝用户之间互相发生干扰，并且距离越近干扰越强，进而无法保证D2D用户和蜂窝用户的通信质量。现有技术通过限制通信干扰较大的用户进行D2D通信的方法对蜂窝网络资源进行分配，从而保证D2D用户与蜂窝用户的通信质量。现有技术通过牺牲干扰较大的D2D用户的通信来保证整体用户的通信质量，在资源分配结果上不够合理，不能兼顾部分用户使用D2D通信时的通信质量。并且现有技术并没有考虑D2D用户在通信时进行移动的情况，当D2D用户在通信时进行移动使得与蜂窝用户之间的距离变近时，会导致蜂窝用户与D2D用户的通信发生干扰。发明内容为了解决现有技术不能兼顾部分用户使用D2D通信时的通信质量，和由于D2D用户通信时进行移动影响蜂窝用户与D2D用户通信质量的技术问题，本发明的目的在于提供一种基于大数据的蜂窝网络资源分配方法，所采用的技术方案具体如下：本发明提出了一种基于大数据的蜂窝网络资源分配方法，所述方法包括：获得蜂窝小区内所有D2D用户在当天之前历史预设天数中每天的复用模式使用次数和通话时长；根据每个D2D用户的复用模式使用次数和通话时长的分布特征得到预测日平均通话时长，获得所述预测日平均通话时长内D2D用户的移动轨迹预测函数，通过所述移动轨迹预测函数预测每个时刻D2D用户的移动轨迹，根据所述移动轨迹得到每个时刻D2D用户与蜂窝用户的空间距离，根据所述空间距离的变化特征和D2D用户的移动轨迹得到D2D用户与每个蜂窝用户的动态影响因子；获取预测日平均通话时长内每个蜂窝用户和D2D用户的预设通话参数，根据预测日平均通话时长内D2D用户与每个蜂窝用户的动态距离和预设通话参数，得到在D2D通信干扰下每个蜂窝用户的平均吞吐量和D2D用户的平均吞吐量；根据所述动态影响因子、所述蜂窝用户的平均吞吐量和所述D2D用户的平均吞吐量，得到D2D用户对每个蜂窝用户的动态干扰参数，根据所述动态干扰参数选取D2D用户的最佳复用对象，根据所述最佳复用对象进行下行链路的复用完成蜂窝网络资源分配。进一步地，所述预测日平均通话时长的获取方法包括：根据每个D2D用户的复用模式使用次数和通话时长计算所述历史预设天数中每天的D2D用户平均通话时长，将前一天的所述平均通话时长记为第一预测参数，对所述历史预设天数中前一天之前每一天的平均通话时长赋予不同的权值，距离当天的时间越长对应的权值越小，且权值之和为1，将前一天之前每一天赋予权值之后的平均通话时长的累加值的均值作为第二预测参数，将第一预测参数与第二预测参数的均值记为预测日平均通话时长。进一步地，所述根据每个D2D用户的复用模式使用次数和通话时长计算所述历史预设天数中每天的D2D用户平均通话时长包括：获取所有D2D用户第k天的复用模式使用次数和通话时长，根据所述复用模式使用次数和所述通话时长计算第k天所有D2D用户通话时长的总时间，将第k天所有D2D用户通话时长的总时间与D2D用户数量的比值记为所有D2D用户第k天的平均通话时长，根据D2D用户第k天的平均通话时长的获取方法获得所述历史预设天数中每天的D2D用户平均通话时长。进一步地，所述动态影响因子的获取方法包括：根据所述移动轨迹计算所述预测日平均通话时长内每个时刻D2D用户与所述蜂窝用户对应的空间距离；计算目标时刻与前一时刻对应空间距离的差值；当所述差值小于0时，将所述目标时刻的动态影响参数设置为-1；当所述差值大于0时，将所述目标时刻的动态影响参数设置为1；当所述差值等于0时，将所述目标时刻的动态影响参数设置为0；根据所述移动轨迹计算D2D用户目标时刻的空间位置与前一时刻的空间位置之间的空间距离，并记为目标时刻的移动变化距离，将目标时刻对应的所述移动变化距离和所述动态影响参数的乘积记为瞬时影响因子；改变目标时刻得到所述预测日平均通话时长内除了第一时刻外其他时刻的瞬时影响因子，将所述预测日平均通话时长内除了第一时刻外其他时刻的瞬时影响因子的累加和记为动态影响因子。进一步地，所述预设通话参数包括：D2D用户与所述蜂窝用户的信道增益，D2D用户的接受功率，基站与对应的所述蜂窝用户之间的信道增益，所述蜂窝用户的接受功率以及所述蜂窝用户的待分配信道带宽。进一步地，所述蜂窝用户的平均吞吐量的获取方法包括：将所述基站与对应的所述蜂窝用户之间的信道增益记为蜂窝信道增益，将所述D2D用户与所述蜂窝用户的信道增益记为复用信道增益，将所述蜂窝信道增益与所述蜂窝用户的接受功率的乘积记为蜂窝信道功率，将所述复用信道增益与所述D2D用户的接受功率的乘积记为复用信道功率；将预设路径衰减系数作为目标时刻所述空间距离的指数得到指数函数值，计算目标时刻对应的所述指数函数值与蜂窝信道功率的乘积，获得第一乘积；计算目标时刻对应的所述复用信道功率和高斯白噪声的和值，获得第一和值；将所述第一乘积与所述第一和值的比值记为目标时刻的第一信道占有量，将所述第一信道占有量与1的和值作为以2为底的对数函数的真数，将目标时刻对应的对数函数值作为第一瞬时占有量，改变目标时刻得到所述预测日平均通话时长内所有时刻的第一瞬时占有量，计算所述预测日平均通话时长内所有时刻的第一瞬时占有量的均值并记为第一占有量均值，将所述第一占有量均值与所述蜂窝用户的待分配信道带宽的乘积作为所述蜂窝用户的平均吞吐量。进一步地，所述D2D用户的平均吞吐量包括：计算目标时刻对应的所述指数函数值与所述复用信道功率的乘积，获得第二乘积；计算目标时刻对应的所述蜂窝信道功率和高斯白噪声的和值，获得第二和值；将所述第二乘积与所述第二和值的比值记为目标时刻的第二信道占有量，将所述第二信道占有量与1的和值作为以2为底的对数函数的真数，将目标时刻对应的对数函数值作为瞬时占有量，改变目标时刻得到所述预测日平均通话时长内所有时刻的第二瞬时占有量，计算所述预测日平均通话时长内所有时刻的第二瞬时占有量的均值并记为第二占有量均值，将所述第二占有量均值与所述蜂窝用户的待分配信道带宽的乘积作为所述D2D用户的平均吞吐量。进一步地，所述动态干扰参数的获取方法包括：将预测日平均通话时长对应的所述蜂窝用户的平均吞吐量和所述D2D用户的平均吞吐量的和值进行负相关映射得到负相关映射值，将所述负相关映射值与所述动态影响因子的乘积记为动态干扰参数。进一步地，所述根据所述动态干扰参数选取D2D用户的最佳复用对象包括：统计D2D用户与所有蜂窝用户的动态干扰参数，将最大动态干扰参数对应的蜂窝用户作为D2D用户的最佳复用对象。本发明具有如下有益效果：考虑到D2D用户在进行D2D通信时由于移动会导致与所复用信道对应的蜂窝用户之间的距离发生改变，且当D2D用户与蜂窝用户之间的距离变小时会影响双方用户的通信质量，因此本发明通过所述移动轨迹预测函数预测每个时刻D2D用户的移动轨迹，根据所述移动轨迹得到每个时刻D2D用户与蜂窝用户的空间距离，根据所述空间距离变化特征和D2D用户的移动轨迹得到D2D用户与所述蜂窝用户的动态影响因子，通过动态影响因子表征由于D2D用户与蜂窝用户距离发生改变所导致的通信质量干扰情况，从而进一步根据D2D用户的动态影响因子在选择复用信道时避免干扰的发生。进一步地通过所述蜂窝用户的平均吞吐量和所述D2D用户的平均吞吐量在动态影响因子的基础上为D2D用户匹配最佳的复用对象进行通信，在兼顾所有用户使用D2D通信进行通信的同时最大限度的减少了通信干扰情况。此外，本发明利用历史通信大数据在对每日数据预测的基础上选择动态D2D用户的最佳复用信道，相较于现有技术而言，减少了切换复用对象的频次，从而进一步降低了基站的负载压力。综上所述，本发明通过D2D用户的动态干扰参数选用最佳复用对象进行下行链路的复用完成蜂窝网络资源分配，在兼顾所有用户使用D2D通信进行通信的同时最大限度的减少了通信干扰情况，并且降低了基站的负载压力。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种基于大数据的蜂窝网络资源分配方法流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种基于大数据的蜂窝网络资源分配方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种基于大数据的蜂窝网络资源分配方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的基于大数据的蜂窝网络资源分配方法流程图，该方法包括：步骤S1：获得蜂窝小区内所有D2D用户在当天之前历史预设天数中每天的复用模式使用次数和通话时长。本发明实施例所提出的蜂窝网络资源分配方法针对D2D通信中D2D用户复用蜂窝用户的下行通信链路资源的情况，由于D2D用户在复用蜂窝用户的下行通信链路资源时，D2D用户的接收端与蜂窝用户的接收端采用相同的信道进行通信，所以在D2D通信中D2D用户与蜂窝用户之间会产生干扰，且距离越近干扰越强。并且D2D用户在通信过程中可能会发生移动，使得蜂窝用户和D2D用户的通信质量无法保证。需要说明的是，后续过程中所有的D2D通信皆为复用模式下的D2D通信，D2D用户皆为复用蜂窝用户的下行通信链路资源的用户。因此本发明实施例针对D2D用户在复用模式下的下行链路相关的问题的优化以及改进，通过D2D用户历史通信数据进行D2D用户移动轨迹预测的预测日平均通话时长的计算，在预测日平均通话时长的时间段内对D2D通信中D2D用户移动轨迹进行预测，根据预测的移动轨迹结合蜂窝用户的位置分析干扰因素，并将对应的干扰因素量化后选择D2D用户最佳的复用信道完成蜂窝网络资源分配。因此本发明实施例首先需要获取D2D用户的历史通信数据。考虑到现有技术中的D2D通信绝大部分都为短距离通信，即D2D通信的双方为同一个蜂窝小区下的用户，所以本发明所收集的D2D用户的历史通信数据皆为处在同一个蜂窝小区的D2D用户。此外，由于本发明实施例采用大数据的方法是用于预测未来的D2D用户通信状况，但是考虑到通信数据具有实时变化性，当所预测的时间距离历史数据越久，对应的预测结果越不准确，因此本发明实施例为了保证预测结果的准确性，将D2D用户当天的通信状况作为预测对象，而通信状况的主要影响因素为通话时长和复用模式使用次数。所以本发明实施例获取D2D用户的历史通信数据的具体方法为：以每一个蜂窝小区作为基础区域单位，以一天作为基础时间单位，获得蜂窝小区内所有D2D用户在当天之前历史预设天数中每天的复用模式使用次数和通话时长。在本发明实施例中，预设天数设置为30。进一步根据所获取的D2D用户的历史通信数据得到预测日平均通话时长，并将预测通话时长和后续得到的D2D用户的预测移动轨迹作为大数据预测得到的参数进一步完成对蜂窝网络资源的分配。步骤S2：根据每个D2D用户的复用模式使用次数和通话时长的分布特征得到预测日平均通话时长，获得预测日平均通话时长内D2D用户的移动轨迹预测函数，通过移动轨迹预测函数预测每个时刻D2D用户的移动轨迹，根据移动轨迹得到每个时刻D2D用户与蜂窝用户的空间距离，根据空间距离的变化特征和D2D用户的移动轨迹得到D2D用户与每个蜂窝用户的动态影响因子。由于本发明需要对D2D用户在通话过程中的移动的情况进行分析，考虑到在对移动轨迹进行预测时，需要一个时间长度进行限定，因此在预测D2D用户的移动轨迹前，需要对D2D用户的通话时长进行预测。由于通过大数据进行预测的技术的特性，无法准确的预测出D2D用户每次通话的通话时长，因为为了尽可能保证预测的准确性，因此本发明通过历史通信数据预测D2D用户的预测日平均通话时长，进一步在预测日平均通话时长的基础上预测D2D用户的移动轨迹。考虑到预测日平均通话时长本身为通过大数据预测得到的数据，其获取依据为D2D用户的历史通信数据，即蜂窝小区内所有D2D用户在当天之前历史预设天数中每天的复用模式使用次数和通话时长，传统的大数据算法会进一步采用将历史数据中每天平均通话时长的均值作为预测日平均通话时长。考虑到通过大数据所预测的通话时长作为参数时具有时效性，本发明实施例根据每个D2D用户的复用模式使用次数和通话时长的分布特征得到预测日平均通话时长。优选地，D2D用户平均通话时长的获取方法为：获取所有D2D用户第k天的复用模式使用次数和通话时长，根据复用模式使用次数和通话时长计算第k天所有D2D用户通话时长的总时间，将第k天所有D2D用户通话时长的总时间与D2D用户数量的比值记为所有D2D用户第k天的平均通话时长，根据D2D用户第k天的平均通话时长的获取方法获得历史预设天数中每天的D2D用户平均通话时长。所有D2D用户第k天的平均通话时长的获取方法在公式上表现为：其中，表示所有D2D用户第k天的平均通话时长，M为表示该小区内第n个D2D用户在进行复用模式下当天D2D通信的总次数，N为D2D第k天所有复用模式下的D2D通信的D2D用户总数量，Tm,n表示第k天的第n个D2D用户在第m次复用模式下的D2D通信时长。进一步在预设历史天数中对D2D用户每天的平均通话时长赋予不同的权值得到当天所有D2D用户的预测日平均通话时长。考虑到本发明实施例所预测的通话时长的具有一定的记忆性，即当历史数据在时间上距离所要预测的时刻越久，对应的参考价值越弱。所以本发明实施例在计算预测日平均通话时长时，对距离当天不同天数的平均通话时长赋予不同的权值，且距离时间越久，参考价值越小。本发明实施例将前一天的平均通话时长记为第一预测参数，对历史预设天数中前一天之前每一天的平均通话时长赋予不同的权值，距离当天的时间越长对应的权值越小，且权值之和为1，将前一天之前每一天赋予权值之后的平均通话时长的累加值的均值作为第二预测参数，将第一预测参数与第二预测参数的均值记为预测日平均通话时长。在公式上表现为：其中，TD为预测日平均通话时长，为前一天的平均通话时长，D′为历史预设天数，/＞为距离当天的前第d天的平均通话时长，d为距离当天之前的天数序号，ad距离当天的前第d天的约束参数，在本发明实施例中，ad服从/＞且ad＜ad+1。需要说明的是，ad的具体获取方法可以通过非线性凹增函数进行辅助获得，非线性凹增函数为本领域技术人员所熟知的现有技术，在此不做进一步赘述。在预测日平均通话时长的获取公式中，将前一天的平均通话时长的权重设置为总权重的二分之一，将距离当天最近的历史通信数据对应的权重设置的更高，更加贴合现有的D2D通信情况。而所有其他历史预设天数的平均通话时长的权重之和为二分之一，能够降低由于历史通信数据采集长度过长导致异常数据对预测日平均通话时长影响，从而进一步使得预测结果更加准确。至此，通过蜂窝小区内所有用户的历史通信数据预测出D2D用户当天的预测日平均通话时长。在实际的蜂窝网络资源分配过程中，预测日平均通话时长只能表征一个时间跨度，其本身的大小与由于D2D通信导致复用下行链路的D2D用户和蜂窝用户受到干扰的程度并无直接关系。此外，考虑到当D2D用户在D2D通信过程中由于发生移动使得与所复用信道对应的蜂窝用户的距离变近，从而导致蜂窝用户和D2D用户的通信受到影响，因此本发明实施例通过引入D2D用户在D2D通信时的移动轨迹来进一步得到蜂窝用户和D2D用户受到影响的程度。又考虑到移动轨迹的变化是受到时间影响的，即当D2D用户的通话时间越长，对应的D2D用户的移动轨迹可能发生的变化就越多，则使得对D2D用户和蜂窝用户受到影响的程度更不确定。因此，本发明实施例在引入D2D用户的移动轨迹的同时，引入一个时间维度来对移动轨迹进行限定，对应的本发明实施例所引入的时间维度即为预测日平均通话时长。因此本发明实施例在预测日平均通话时长的基础上预测D2D用户的移动轨迹。D2D用户的移动轨迹预测方法包括：利用现有的移动轨迹预测算法拟合D2D用户对应的移动轨迹预测函数，进一步地获得预测日平均通话时长内D2D用户的移动轨迹预测函数，通过移动轨迹预测函数预测每个时刻D2D用户的移动轨迹。需要说明的是，移动轨迹预测算法为本领域技术人员所熟知的现有技术，可利用遗传算法等迭代算法对历史数据进行分析，从而获得预测的移动轨迹，在此不做进一步限定和赘述。预测得到的D2D用户的移动轨迹能够清楚地反映预测日平均通话时长内D2D用户与蜂窝用户之间的空间距离变化，根据空间距离变化的实时情况进一步判断复用下行链路资源时对应蜂窝用户和D2D用户的通信干扰情况。本发明实施例根据移动轨迹得到每个时刻D2D用户与蜂窝用户的空间距离，根据空间距离变化特征和D2D用户的移动轨迹得到D2D用户与蜂窝用户的动态影响因子。该动态影响因子考虑到预测日平均通话时长内每个时刻由于D2D用户与蜂窝用户的空间距离变化，根据每个时刻的空间距离变化综合考量D2D用户与蜂窝用户的通信干扰情况。相比于直接根据D2D用户与蜂窝用户之间通话开始或通话结束瞬间的空间距离来判断通信干扰情况，本发明实施例所提出的动态影响因子更加符合实际情况。优选地，本发明实施例获取动态影响因子的方法具体包括：在通过移动轨迹预测函数预测到D2D用户移动轨迹的前提下，根据移动轨迹计算预测日平均通话时长内每个时刻D2D用户与蜂窝用户之间的空间距离。在公式上表现为：其中，Lr,s表示td时刻下D2D用户r与蜂窝用户s之间的空间距离，xr表示在同一坐标系下D2D用户r在td时刻下的x坐标，yr表示在同一坐标系下D2D用户在td时刻下的y坐标，xs表示蜂窝用户s的x坐标，ys表示蜂窝用户s的y坐标。需要说明的是，本发明实施例主要分析的是D2D用户对下行链路的复用的影响，即D2D用户对通信的干扰情况，基于分离变量的方法，本发明实施例将蜂窝用户视为固定不动的用户，实施者可根据具体实施情况决定是否根据现有的移动轨迹预测算法预测蜂窝用户的移动轨迹，在此不做进一步限定和赘述。考虑到由于移动轨迹的变化所导致的D2D用户与蜂窝用户之间的空间距离，在预测日平均通话时长内的变化可能并不是一直递增或一直递减的，不同时刻下对应的空间距离大小不同，对通话质量的影响不同。因此为了使得动态影响因子能够对不同时刻下由于空间距离大小的变化对通信干扰情况进行综合考量，本发明实施例引入每个时刻下的动态影响参数，具体的：统计预测日平均通话时长内每个时刻D2D用户与蜂窝用户之间的空间距离。计算目标时刻与前一时刻对应空间距离的差值；当差值小于0时，将目标时刻的动态影响参数设置为-1；当差值大于0时，将目标时刻的动态影响参数设置为1；当差值等于0时，将目标时刻的动态影响参数设置为0。在公式上表现为：其中，K表示td时刻的动态影响参数，Lr,s表示td时刻下D2D用户r与蜂窝用户s之间的空间距离，Lr,s表示td-1时刻下D2D用户r与蜂窝用户s之间的空间距离。该动态影响参数能够反映两个相邻时刻对应的时间段内D2D用户与蜂窝用户之间的空间距离的变化，当两个相邻时刻对应的时间段内D2D用户与蜂窝用户之间的距离变近，将动态影响参数设为负值，使得对应时间段的移动轨迹的位移距离对动态影响因子大小呈负相关；当两个相邻时刻对应的时间段内D2D用户与蜂窝用户之间的距离变远，将动态影响参数设为正值，使得对应时间段的移动轨迹的位移距离对动态影响因子大小呈正相关；当两个相邻时刻对应的时间段内D2D用户与蜂窝用户之间的距离不变，则将动态影响参数设为0，表明对应时间段的移动轨迹的位移距离对动态影响因子大小没有影响。在本发明实施例中，两个相邻时刻之间的时间间隔设置为1秒。需要说明的是，两个相邻时刻之间的时间段长度根据实施人员的具体实施情况判断，当相邻时刻相隔时间越短时，对应的动态影响因子所表征的D2D用户与蜂窝用户的通信干扰情况越准确，在此不做进一步赘述。根据移动轨迹计算D2D用户目标时刻的空间位置与前一时刻的空间位置之间的空间距离，并记为目标时刻的移动变化距离，将目标时刻对应的移动变化距离和动态影响参数的乘积记为瞬时影响因子。该瞬时影响因子即表征对应两个时刻相隔的时间段内由于D2D用户与蜂窝用户之间的空间距离发生变化所导致的通信干扰变化情况。进一步地改变目标时刻得到预测日平均通话时长内除了第一时刻外其他时刻的瞬时影响因子，将预测日平均通话时长内除了第一时刻外其他时刻的瞬时影响因子的累加和记为动态影响因子。在公式上表现为：其中，ΔLr,s表示预测日平均通话时长内D2D用户r与蜂窝用户s之间的动态影响因子，K表示td时刻的动态影响参数，xr表示在同一坐标系下D2D用户r在td时刻下的x坐标，xr表示在同一坐标系下D2D用户r在td-1时刻下的x坐标，yr表示在同一坐标系下D2D用户r在td时刻下的y坐标，yr表示在同一坐标系下D2D用户r在td-1时刻下的y坐标，TD为预测日平均通话时长。该动态影响因子结合每个时刻由于D2D用户发生移动产生的与蜂窝用户之间的空间距离的变化特征，相比于现有技术中只根据D2D用户与蜂窝用户之间的瞬时距离判断通信干扰情况的方法更加严谨，使得后续对D2D用户匹配最佳信道时对应的匹配结果更加准确。进一步地根据动态影响因子的获取方法得到D2D用户与每个蜂窝用户之间的动态影响因子。步骤S3：获取预测日平均通话时长内每个蜂窝用户和D2D用户的预设通话参数，根据预测日平均通话时长内D2D用户与每个蜂窝用户的动态距离和预设通话参数，得到在D2D通信干扰下每个蜂窝用户的平均吞吐量和D2D用户的平均吞吐量。至此，通过步骤S2获得影响D2D用户与蜂窝用户通信质量的距离因素，即动态影响因子。但是考虑到动态影响因子只是一个与距离有关的参数，仅仅能够反映D2D用户与蜂窝用户的通信质量由于空间距离发生变化受到的影响变化趋势，其具体受到影响的程度还需要结合D2D用户与蜂窝用户通信过程中的具体通话参数得到。因此，本发明实施例进一步获取预测日平均通话时长内每个蜂窝用户和D2D用户的预设通话参数。该预设通话参数获取的目的是能够进一步获取反映D2D用户和蜂窝用户具体通信质量的参数。考虑到吞吐量能够反映目标对象传输数据的速率，根据传输数据的速率能够直观的观察到通信受到的影响，所以吞吐量适用于本发明实施例所应用的具体情况。因此本发明实施例将吞吐量作为D2D用户和蜂窝用户具体通信质量的参数。优选地，预设通话参数包括：D2D用户与蜂窝用户的信道增益，D2D用户的接受功率，基站与对应的蜂窝用户之间的信道增益，蜂窝用户的接受功率以及蜂窝用户的待分配信道带宽。需要说明的是，预设通话参数为计算通信中吞吐量的必要参数，即预设通话参数的获取方法为本领域技术人员所熟知的现有技术，在此不做进一步限定和赘述。考虑到本发明实施例在计算动态影响因子时考虑了每个时刻下的空间距离的变化特征，因此为了使得后续对蜂窝网络资源的分配更加合理，本发明实施例需要结合每个时刻下D2D用户与蜂窝用户的空间距离求出预测日平均通话时长内D2D用户和蜂窝用户的平均吞吐量，即根据预测日平均通话时长内D2D用户与每个蜂窝用户的动态距离和预设通话参数，得到在D2D通信干扰下每个蜂窝用户的平均吞吐量和D2D用户的平均吞吐量。优选地，蜂窝用户的平均吞吐量的获取方法包括：将基站与对应的蜂窝用户之间的信道增益记为蜂窝信道增益，将D2D用户与蜂窝用户的信道增益记为复用信道增益，将蜂窝信道增益与蜂窝用户的接受功率的乘积记为蜂窝信道功率，将复用信道增益与D2D用户的接受功率的乘积记为复用信道功率；将预设路径衰减系数作为目标时刻空间距离的指数得到指数函数值，计算目标时刻对应的指数函数值与蜂窝信道功率的乘积，获得第一乘积；计算目标时刻对应的复用信道功率和高斯白噪声的和值，获得第一和值；将第一乘积与第一和值的比值记为目标时刻的第一信道占有量，将第一信道占有量与1的和值作为以2为底的对数函数的真数，将目标时刻对应的对数函数值作为第一瞬时占有量，改变目标时刻得到预测日平均通话时长内所有时刻的第一瞬时占有量，计算预测日平均通话时长内所有时刻的第一瞬时占有量的均值并记为第一占有量均值，将第一占有量均值与蜂窝用户的待分配信道带宽的乘积作为蜂窝用户的平均吞吐量。在公式上表现为：其中，为蜂窝用户s在预测日平均通话时长内的平均吞吐量，B表示蜂窝用户s的待分配信道带宽即被复用信道待分配的信道带宽，TD为预测日平均通话时长，HB→s为基站B与蜂窝用户s之间的信道增益，PB→s为蜂窝用户s的接收功率，Hs→r为蜂窝用户s与D2D用户r之间的信道增益，Ps→r为D2D用户的接收功率，Lr,s表示td时刻下D2D用户r与蜂窝用户s之间的空间距离，N0为高斯白噪声。需要说明的是，吞吐量的获取为本领域技术人员所熟知的现有技术，本发明实施例在获取吞吐量的基础上引入时间和动态距离概念，使得计算出的平均吞吐量所表征的通信质量状况更加准确，在此不对获取平均吞吐量的意义做进一步赘述。D2D用户的平均吞吐量的获取方法与蜂窝用户的平均吞吐量的获取方法在逻辑一致，具体为：计算目标时刻对应的指数函数值与复用信道功率的乘积，获得第二乘积；计算目标时刻对应的蜂窝信道功率和高斯白噪声的和值，获得第二和值；将第二乘积与第二和值的比值记为目标时刻的第二信道占有量，将第二信道占有量与1的和值作为以2为底的对数函数的真数，将目标时刻对应的对数函数值作为瞬时占有量，改变目标时刻得到预测日平均通话时长内所有时刻的第二瞬时占有量，计算预测日平均通话时长内所有时刻的第二瞬时占有量的均值并记为第二占有量均值，将第二占有量均值与蜂窝用户的待分配信道带宽的乘积作为D2D用户的平均吞吐量。在公式上表现为：/＞其中，为D2D用户r在预测日平均通话时长内的平均吞吐量，B表示蜂窝用户s的待分配信道带宽即被复用信道待分配的信道带宽，TD为预测日平均通话时长，HB→s为基站B与蜂窝用户s之间的信道增益，PB→s为蜂窝用户s的接收功率，Hs→r为蜂窝用户s与D2D用户r之间的信道增益，Ps→r为D2D用户的接收功率，Lr,s表示td时刻下D2D用户r与蜂窝用户s之间的空间距离，N0为高斯白噪声。需要说明的是，吞吐量的获取为本领域技术人员所熟知的现有技术，在此不对获取平均吞吐量的意义做进一步赘述。进一步地根据D2D用户r复用蜂窝用户s信道情况下蜂窝用户s与D2D用户r的平均吞吐量的获取方法，获取D2D用户r复用每个蜂窝用户信道情况下蜂窝用户和D2D用户r的平均吞吐量。步骤S4：根据动态影响因子、蜂窝用户的平均吞吐量和D2D用户的平均吞吐量，得到D2D用户对每个蜂窝用户的动态干扰参数，根据动态干扰参数选取D2D用户的最佳复用对象，根据最佳复用对象进行下行链路的复用完成蜂窝网络资源分配。至此，计算出D2D用户与每个蜂窝用户之间的动态影响因子和对应两个用户的平均吞吐量，即已经计算出影响D2D用户与蜂窝用户之间通信质量的所有参数，进一步地，本发明实施例根据动态影响因子、蜂窝用户的平均吞吐量和D2D用户的平均吞吐量，得到D2D用户对每个蜂窝用户的动态干扰参数。通过动态干扰参数来表征D2D用户复用蜂窝用户信道时对应的通信干扰情况。优选地，将预测日平均通话时长对应的蜂窝用户的平均吞吐量和D2D用户的平均吞吐量的和值进行负相关映射得到负相关映射值，将负相关映射值与动态影响因子的乘积记为动态干扰参数。在公式上表现为：其中，μs,r为蜂窝用户s与D2D用户r之间的动态干扰参数，ΔLr,s为蜂窝用户s与D2D用户r之间的动态影响因子，为蜂窝用户s的平均吞吐量，/＞为D2D用户r的平均吞吐量，e为自然常数。当动态影响因子越大时，对应的动态干扰参数越大，即对应D2D用户与蜂窝用户之间通信干扰越小；当D2D用户与蜂窝用户占用的整体吞吐量越大时，对应的动态干扰参数越小，即对应的D2D用户与蜂窝用户之间通信干扰越大。动态干扰参数的获取公式将D2D用户与蜂窝用户平均吞吐量的和进行通过e-函数进行负相关映射，能够反映D2D用户和蜂窝用户通信系统整体的系统吞吐量。进一步根据蜂窝用户s与D2D用户r之间的动态干扰参数获取方法，获取D2D用户与每个蜂窝用户的动态干扰参数。为了使D2D用户进行D2D通信复用信道时造成的通信干扰最小，本发明实施例根据动态干扰参数选取D2D用户的最佳复用对象。优选地，统计D2D用户与所有蜂窝用户的动态干扰参数，将最大动态干扰参数对应的蜂窝用户作为D2D用户的最佳复用对象。进一步地，获取所有D2D用户的最佳复用对象，根据最佳复用对象进行下行链路的复用完成蜂窝网络资源分配。至此，本发明完成。综上所述，本发明通过D2D用户的历史通信数据获取预测日平均通话时长，通过大数据在预测日平均通话时长内预测D2D用户的移动轨迹，根据D2D用户的移动轨迹得到与蜂窝用户的空间距离的变化特征，根据空间距离的变化特征得到D2D用户与每个蜂窝用户的动态影响因子，计算蜂窝用户与D2D用户的平均吞吐量，并根据平均吞吐量和动态影响因子得到动态干扰参数，根据动态干扰参数使D2D用户复用最佳蜂窝用户的信道进行通信，完成蜂窝网络资源分配。本发明通过D2D用户的动态干扰参数选用最佳复用对象进行下行链路的复用完成蜂窝网络资源分配，在兼顾所有用户使用D2D通信进行通信的同时最大限度的减少了通信干扰情况，并且降低了基站的负载压力。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。
