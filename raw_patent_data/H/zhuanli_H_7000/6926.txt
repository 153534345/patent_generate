标题title
无线充电装置的信号解调方法、装置及无线充电装置
摘要abst
本申请公开了一种无线充电装置的信号解调方法、装置及无线充电装置，属于无线充电技术领域。该方法包括：获取目标ASK信号中当前电平信号的当前脉宽信息和当前电平状态，确定当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数；在确定正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值、毛刺脉宽总长小于第三脉宽阈值以及毛刺数小于第一次数阈值的情况下，基于当前电平状态和上一电平信号对应的上一电平状态，确定当前电平信号对应的当前数字信号；在确定正常翻转数小于或等于第二次数阈值的情况下，将当前数字信号保存至目标ASK信号对应的数据包，并将当前电平信号更新为上一电平信号。该方法可以提高解码成功率。
权利要求书clms
1.一种无线充电装置的信号解调方法，其特征在于，包括：获取目标ASK信号中当前电平信号的当前脉宽信息和当前电平状态，所述目标ASK信号包括多个电平信号；基于所述当前脉宽信息，确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数；在确定所述正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值、所述毛刺脉宽总长小于第三脉宽阈值以及所述毛刺数小于第一次数阈值的情况下，基于所述当前电平状态和上一电平信号对应的上一电平状态，确定所述当前电平信号对应的当前数字信号；在确定所述正常翻转数小于或等于第二次数阈值的情况下，将所述当前数字信号保存至所述目标ASK信号对应的数据包，并将所述当前电平信号更新为所述上一电平信号，所述第二次数阈值基于所述毛刺数和所述当前数字信号确定。2.根据权利要求1所述的无线充电装置的信号解调方法，其特征在于，在所述确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数之后，所述方法还包括：在确定所述正常脉宽总长大于所述第二脉宽阈值的情况下，确定所述当前电平信号波形失真，将所述当前电平信号更新为所述上一电平信号，放弃所述目标ASK信号，以接收新的ASK信号进行处理。3.根据权利要求1所述的无线充电装置的信号解调方法，其特征在于，在所述确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数之后，所述方法还包括：在确定所述正常脉宽总长大于所述第一脉宽阈值且小于所述第二脉宽阈值的情况下，将所述毛刺脉宽总长与所述第三脉宽阈值进行对比；在确定所述毛刺脉宽总长大于或等于所述第三脉宽阈值的情况下，确定所述当前电平信号波形失真，将所述当前电平信号更新为所述上一电平信号，放弃所述目标ASK信号，以接收新的ASK信号进行处理。4.根据权利要求1所述的无线充电装置的信号解调方法，其特征在于，在所述确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数之后，所述方法还包括：在确定所述正常脉宽总长大于所述第一脉宽阈值且小于所述第二脉宽阈值的情况下，将所述毛刺数与所述第一次数阈值进行对比；在确定所述毛刺数大于或等于所述第一次数阈值的情况下，确定所述当前电平信号波形失真，将所述当前电平信号更新为所述上一电平信号，放弃所述目标ASK信号，以接收新的ASK信号进行处理。5.根据权利要求1所述的无线充电装置的信号解调方法，其特征在于，所述当前脉宽信息包括至少一个第一电平脉宽，所述基于所述当前脉宽信息，确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数，包括：在确定所述第一电平脉宽大于第四脉宽阈值的情况下，将所述第一电平脉宽累加至所述正常脉宽总长，并将所述正常翻转数加一；在确定所述第一电平脉宽小于或等于所述第四脉宽阈值的情况下，将所述第一电平脉宽累加至所述毛刺脉宽总长，并将所述毛刺数加一。6.根据权利要求1-5任一项所述的无线充电装置的信号解调方法，其特征在于，所述基于所述当前电平状态和上一电平信号对应的上一电平状态，确定所述当前电平信号对应的当前数字信号，包括：在确定所述当前电平状态和所述上一电平状态一致的情况下，确定所述当前数字信号为一；在确定所述当前电平状态和所述上一电平状态不一致的情况下，确定所述当前数字信号为零。7.一种无线充电装置的信号解调装置，其特征在于，包括：获取模块，用于获取目标ASK信号中当前电平信号的当前脉宽信息和当前电平状态，所述目标ASK信号包括多个电平信号；第一处理模块，用于基于所述当前脉宽信息，确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数；第二处理模块，用于在确定所述正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值、所述毛刺脉宽总长小于第三脉宽阈值以及所述毛刺数小于第一次数阈值的情况下，基于所述当前电平状态和上一电平信号对应的上一电平状态，确定所述当前电平信号对应的当前数字信号；第三处理模块，用于在确定所述正常翻转数小于或等于第二次数阈值的情况下，将所述当前数字信号保存至所述目标ASK信号对应的数据包，并将所述当前电平信号更新为所述上一电平信号，所述第二次数阈值基于所述毛刺数和所述当前数字信号确定。8.一种无线充电装置，其特征在于，包括：捕获模块，所述捕获模块用于捕获目标ASK信号的电平信号的脉宽信息和电平状态；识别模块，所述识别模块与所述捕获模块电连接，所述识别模块用于基于所述目标ASK信号的电平信号的脉宽信息和电平状态，根据权利要求1-6任一项所述的无线充电装置的信号解调方法，确定所述目标ASK信号的电平信号对应的数字信号；解析模块，所述解析模块与所述识别模块电连接，所述解析模块用于基于所述目标ASK信号的电平信号对应的数字信号，在接收完整的所述目标ASK信号后，输出所述目标ASK信号对应的数据包。9.一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1-6任一项所述无线充电装置的信号解调方法。10.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，该计算机程序被处理器执行时实现如权利要求1-6任一项所述的无线充电装置的信号解调方法。
说明书desc
技术领域本申请属于无线充电技术领域，尤其涉及一种无线充电装置的信号解调方法、装置及无线充电装置。背景技术电磁感应无线充电过程中，发送端和接收端需要通过数据通信确保充电过程正常，无线充电标准定义发送端和接收端双方以调幅方式单向进行数据通信，接收端将数据包以调幅方式调制到能量传输载波频率上，发送端对调幅信号包络从载波频率上解调、解码操作后获得数据包内容。现有无线充电发送端的解码容易受到环境因素的干扰影响，出现毛刺现象乃至数据包失真的情况，造成发送端解码不成功，从而引起收、发双方通信失败，导致充电异常中断。因此，亟需一种能够滤除干扰条件下数据包的毛刺现象的信号解码方式。发明内容本申请旨在至少解决现有技术中存在的技术问题之一。为此，本申请提出一种无线充电装置的信号解调方法、装置及无线充电装置，可以滤除干扰条件下数据包的毛刺现象，提高无线充电装置发射端的解码成功率和设备兼容性。第一方面，本申请提供了一种无线充电装置的信号解调方法，该方法包括：获取目标ASK信号中当前电平信号的当前脉宽信息和当前电平状态，所述目标ASK信号包括多个电平信号；基于所述当前脉宽信息，确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数；在确定所述正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值、所述毛刺脉宽总长小于第三脉宽阈值以及所述毛刺数小于第一次数阈值的情况下，基于所述当前电平状态和上一电平信号对应的上一电平状态，确定所述当前电平信号对应的当前数字信号；在确定所述正常翻转数小于或等于第二次数阈值的情况下，将所述当前数字信号保存至所述目标ASK信号对应的数据包，并将所述当前电平信号更新为所述上一电平信号，所述第二次数阈值基于所述毛刺数和所述当前数字信号确定。根据本申请的无线充电装置的信号解调方法，通过获取当前电平信号中的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数，判断当前电平信号是否为毛刺波形或者出现波形失真，可以滤除干扰条件下数据包的毛刺现象，提高无线充电装置发射端的解码成功率和设备兼容性。根据本申请的一个实施例，在所述确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数之后，所述方法还包括：在确定所述正常脉宽总长大于所述第二脉宽阈值的情况下，确定所述当前电平信号波形失真，将所述当前电平信号更新为所述上一电平信号，放弃所述目标ASK信号，以接收新的ASK信号进行处理。根据本申请的一个实施例，在所述确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数之后，所述方法还包括：在确定所述正常脉宽总长大于所述第一脉宽阈值且小于所述第二脉宽阈值的情况下，将所述毛刺脉宽总长与所述第三脉宽阈值进行对比；在确定所述毛刺脉宽总长大于或等于所述第三脉宽阈值的情况下，确定所述当前电平信号波形失真，将所述当前电平信号更新为所述上一电平信号，放弃所述目标ASK信号，以接收新的ASK信号进行处理。根据本申请的一个实施例，在所述确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数之后，所述方法还包括：在确定所述正常脉宽总长大于所述第一脉宽阈值且小于所述第二脉宽阈值的情况下，将所述毛刺数与所述第一次数阈值进行对比；在确定所述毛刺数大于或等于所述第一次数阈值的情况下，确定所述当前电平信号波形失真，将所述当前电平信号更新为所述上一电平信号，放弃所述目标ASK信号，以接收新的ASK信号进行处理。根据本申请的一个实施例，所述当前脉宽信息包括至少一个第一电平脉宽，所述基于所述当前脉宽信息，确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数，包括：在确定所述第一电平脉宽大于第四脉宽阈值的情况下，将所述第一电平脉宽累加至所述正常脉宽总长，并将所述正常翻转数加一；在确定所述第一电平脉宽小于或等于所述第四脉宽阈值的情况下，将所述第一电平脉宽累加至所述毛刺脉宽总长，并将所述毛刺数加一。根据本申请的一个实施例，所述基于所述当前电平状态和上一电平信号对应的上一电平状态，确定所述当前电平信号对应的当前数字信号，包括：在确定所述当前电平状态和所述上一电平状态一致的情况下，确定所述当前数字信号为一；在确定所述当前电平状态和所述上一电平状态不一致的情况下，确定所述当前数字信号为零。第二方面，本申请提供了一种无线充电装置的信号解调装置，该装置包括：获取模块，用于获取目标ASK信号中当前电平信号的当前脉宽信息和当前电平状态，所述目标ASK信号包括多个电平信号；第一处理模块，用于基于所述当前脉宽信息，确定所述当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数；第二处理模块，用于在确定所述正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值、所述毛刺脉宽总长小于第三脉宽阈值以及所述毛刺数小于第一次数阈值的情况下，基于所述当前电平状态和上一电平信号对应的上一电平状态，确定所述当前电平信号对应的当前数字信号；第三处理模块，用于在确定所述正常翻转数小于或等于第二次数阈值的情况下，将所述当前数字信号保存至所述目标ASK信号对应的数据包，并将所述当前电平信号更新为所述上一电平信号，所述第二次数阈值基于所述毛刺数和所述当前数字信号确定。根据本申请的无线充电装置的信号解调装置，通过获取当前电平信号中的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数，判断当前电平信号是否为毛刺波形或者出现波形失真，可以滤除干扰条件下数据包的毛刺现象，提高无线充电装置发射端的解码成功率和设备兼容性。第三方面，本申请提供了一种无线充电装置，包括：捕获模块，所述捕获模块用于捕获目标ASK信号的电平信号的脉宽信息和电平状态；识别模块，所述识别模块与所述捕获模块电连接，所述识别模块用于基于所述目标ASK信号的电平信号的脉宽信息和电平状态，根据上述第一方面所述的无线充电装置的信号解调方法，确定所述目标ASK信号的电平信号对应的数字信号；解析模块，所述解析模块与所述识别模块电连接，所述解析模块用于基于所述目标ASK信号的电平信号对应的数字信号，在接收完整的所述目标ASK信号后，输出所述目标ASK信号对应的数据包。第四方面，本申请提供了一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上述第一方面所述的无线充电装置的信号解调方法。第五方面，本申请提供了一种非暂态计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现如上述第一方面所述的无线充电装置的信号解调方法。第六方面，本申请提供了一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现如上述第一方面所述的无线充电装置的信号解调方法。本申请的附加方面和优点将在下面的描述中部分给出，部分将从下面的描述中变得明显，或通过本申请的实践了解到。附图说明本申请的上述和/或附加的方面和优点从结合下面附图对实施例的描述中将变得明显和容易理解，其中：图1是本申请实施例提供的无线充电装置的信号解调方法的流程示意图之一；图2是本申请实施例提供的数据包的结构示意图；图3是本申请实施例提供的数据包字节的结构示意图；图4是本申请实施例提供的数据包信号的结构示意图；图5是本申请实施例提供的ASK信号正常波形的结构示意图；图6是本申请实施例提供的ASK信号毛刺波形的结构示意图；图7是本申请实施例提供的ASK信号失真波形的结构示意图；图8是本申请实施例提供的无线充电装置的信号解调方法的流程示意图之二；图9是本申请实施例提供的无线充电装置的信号解调装置的结构示意图；图10是本申请实施例提供的无线充电装置的结构示意图；图11是本申请实施例提供的电子设备的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员获得的所有其他实施例，都属于本申请保护的范围。本申请的说明书和权利要求书中的术语“第一”、“第二”等是用于区别类似的对象，而不用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便本申请的实施例能够以除了在这里图示或描述的那些以外的顺序实施，且“第一”、“第二”等所区分的对象通常为一类，并不限定对象的个数，例如第一对象可以是一个，也可以是多个。此外，说明书以及权利要求中“和/或”表示所连接对象的至少其中之一，字符“/”，一般表示前后关联对象是一种“或”的关系。下面结合附图，通过具体的实施例及其应用场景对本申请实施例提供的无线充电装置的信号解调方法、无线充电装置的信号解调装置、电子设备和可读存储介质进行详细地说明。其中，无线充电装置的信号解调方法可应用于无线充电装置。例如，无线充电器等，无线充电装置的信号解调方法可以由无线充电器中的微控制单元执行。电磁感应无线充电过程中，发送端和接收端需要通过数据通信确保充电过程正常，无线充电标准定义发送端和接收端双方以调幅方式单向进行数据通信，接收端将数据包以调幅方式调制到能量传输载波频率上，发送端对调幅信号包络从载波频率上解调、解码操作后获得数据包内容。如图2所示，无线充电标准定义的通信协议中数据包格式如下：每个数据包包含前导码、包头、数据和校验码四个数据段。无线充电标准协议规定接收端发送的数据包中的引导码由11~25位的“1”组成，包头、校验码均为单字节数据，数据可由单字节或多字节组成，具体字节数取决于包头的定义。如图3所示，每个字节由11位比特位组成，分别为起始位、数据位、奇偶校验位和停止位。无线充电标准协议规定通讯中接收端发送的数据包采用双相差动编码的格式，接收端发送幅移键控信号。例如，无线充电标准协议规定的信号频率为2kHz，一个周期对应500us，如图4所示，在同一个周期内电平发生一次改变即为信号1，电平没有发生改变即为信号0，并且每个周期结束后电平固定发生一次改变。本申请实施例提供的无线充电装置的信号解调方法，该无线充电装置的信号解调方法的执行主体可以为电子设备或者电子设备中能够实现该无线充电装置的信号解调方法的功能模块或功能实体。其中，电子设备可以为专用的无线充电设备，如车载无线充、桌面无线充或无线充电宝等设备。下面以电子设备作为执行主体为例对本申请实施例提供的无线充电装置的信号解调方法进行说明。如图1所示，该无线充电装置的信号解调方法包括：步骤110至步骤140。步骤110、获取目标ASK信号中当前电平信号的当前脉宽信息和当前电平状态。其中，目标ASK信号包括多个电平信号。电磁感应无线充电过程中，无线充电装置作为发送端，无线充电接收设备作为接收端，发送端和接收端通过数据通信确保充电过程正常。接收端发送目标ASK信号，无线充电装置接收目标ASK信号，无线充电装置和接收端之间通过目标ASK信号进行数据通信。在该实施例中，可以按照接收顺序对目标ASK信号中的多个电平信号进行处理。在该步骤中，获取当前电平信号的当前脉宽信息和当前电平状态，当前脉宽信息为当前电平信号中电平的宽度。步骤120、基于当前脉宽信息，确定当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数。在该步骤中，根据当前脉宽信息，可以判断当前电平信号中是否出现毛刺或出现失真，计算得到当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数。根据无线充电标准协议对于通信波形的规定，如图5所示，ASK信号正常波形中，每个信号“1”会出现2次正常翻转，每个信号“0”会出现1次正常翻转。如图6所示，ASK信号毛刺波形中，出现一个毛刺，每个信号“1”会出现4次电平翻转，其中1次为毛刺翻转，3次为正常翻转，毛刺数为1；每个信号“0”会出现3次电平翻转，其中1次为毛刺翻转，2次为正常翻转，毛刺数为1。如图7所示，ASK信号失真波形中，每个信号“1”会出现4次电平翻转，均为正常翻转；信号“0”会出现3次电平翻转，均为正常翻转。信号“1”在接收完信号后电平与上一次接收完信号的电平相同，信号“0”则是电平与上一次接收完信号的电平相反。毛刺翻转指当前电平信号中电平被识别为毛刺时的电平翻转，毛刺数为当前电平信号内毛刺翻转出现的数量；正常翻转指当前电平被识别为正常电平时的电平翻转，正常翻转数为当前电平信号内正常翻转出现的数量。当出现一个毛刺时，会多出两次电平翻转，其中一次为正常翻转，一次为毛刺翻转，电平信号内的总翻转次数=毛刺数*2+a，且正常翻转数≤毛刺数+a。当出现失真时，多出两次电平翻转，均为正常翻转，则正常翻转数＞毛刺数+a。可以由正常翻转数与毛刺数的关系，判断当前电平信号是出现毛刺的波形，还是已然失真的波形。步骤130、在确定正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值、毛刺脉宽总长小于第三脉宽阈值以及毛刺数小于第一次数阈值的情况下，基于当前电平状态和上一电平信号对应的上一电平状态，确定当前电平信号对应的当前数字信号。在该步骤中，确定正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值，可以判断当前电平信号已经接收完成，进一步确定毛刺脉宽总长小于第三脉宽阈值以及毛刺数小于第一次数阈值，判断当前电平信号无毛刺或存在的毛刺不影响当前电平信号的解析。在该实施例中，根据当前电平信号的正常脉宽总长、毛刺脉宽总长和毛刺数，判断当前电平信号中不存在毛刺或毛刺较少，可以根据当前电平信号的当前电平状态，确定对应的当前数字信号。在实际执行中，根据当前电平信号的正常脉宽总长、毛刺脉宽总长和毛刺数，判断当前电平信号中存在毛刺较多或毛刺已经影响信号识别时，放弃目标ASK信号，以接收新的ASK信号进行处理。可以理解的是，每个周期结束后电平固定发生一次改变，当前电平信号的当前电平状态对应当前周期的电平，上一电平信号的上一电平状态对应上一周期的电平。根据当前电平信号的当前电平状态和上一电平信号对应的上一电平状态是否一致，确定当前电平信号对应的当前数字信号。在一些实施例中，在确定当前电平状态和上一电平状态一致的情况下，确定当前数字信号为一。在一些实施例中，在确定当前电平状态和上一电平状态不一致的情况下，确定当前数字信号为零。步骤140、在确定正常翻转数小于或等于第二次数阈值的情况下，将当前数字信号保存至目标ASK信号对应的数据包，并将当前电平信号更新为上一电平信号。其中，第二次数阈值基于毛刺数和当前数字信号确定。在该步骤中，通过正常翻转数和第二次数阈值，判断当前电平信号是否失真。可以理解的是，当出现失真时，多出两次电平翻转，均为正常翻转，则正常翻转数＞毛刺数+a。可以由正常翻转数与毛刺数的关系，判断当前电平信号是出现毛刺的波形，还是已然失真的波形。在一些实施例中，当前电平状态和上一电平状态一致时，说明当前数字信号为一，第二次数阈值等于毛刺数加二。在一些实施例中，当前电平状态和上一电平状态不一致时，说明当前数字信号为零，第二次数阈值等于毛刺数加一。在该实施例中，当正常翻转数小于或等于第二次数阈值时，判断当前电平信号未失真，将当前电平信号对应的当前数字信号保存至目标ASK信号对应的数据包，并将当前电平信号更新为上一电平信号。当正常翻转数大于第二次数阈值时，判断当前电平信号失真，滤除当前电平信号以及当前电平信号所对应的当前数字信号，放弃目标ASK信号，以接收新的ASK信号进行处理。在实际执行中，完成当前电平信号的处理后，清空各标志位及相关数据位，在将当前电平信号更新为上一电平信号后，重新执行步骤110至步骤140，对目标ASK信号的新的当前电平信号进行处理，对每个电平信号对应的数字信号进行组装和解析，在接收完目标ASK信号的所有电平信号，转化为对应的数字信号后，输出目标ASK信号对应的数据包。根据本申请实施例提供的无线充电装置的信号解调方法，通过获取当前电平信号中的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数，判断当前电平信号是否为毛刺波形或者出现波形失真，可以滤除干扰条件下数据包的毛刺现象，提高无线充电装置发射端的解码成功率和设备兼容性。在一些实施例中，在步骤120、确定当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数之后，无线充电装置的信号解调方法还可以包括：在确定正常脉宽总长大于或等于第二脉宽阈值的情况下，确定当前电平信号波形失真，将当前电平信号更新为上一电平信号，放弃目标ASK信号，以接收新的ASK信号进行处理。在该实施例中，当前电平信号的正常脉宽总长大于或等于第二脉宽阈值，判断当前电平信号波形失真，将当前电平信号更新为上一电平信号，放弃目标ASK信号，以接收新的ASK信号进行处理，有效提升无线充电装置对目标ASK信号的处理效率。在实际执行中，判断当前电平信号波形失真，滤除当前电平信号，清空当前电平信号对应的各标志位及相关数据位，将当前电平信号更新为上一电平信号，放弃目标ASK信号，以接收新的ASK信号进行处理。在一些实施例中，在步骤120、确定当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数之后，无线充电装置的信号解调方法还可以包括：在确定正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值的情况下，将毛刺脉宽总长与第三脉宽阈值进行对比；在确定毛刺脉宽总长大于或等于第三脉宽阈值的情况下，确定当前电平信号为波形失真，将当前电平信号更新为上一电平信号。在该实施例中，确定当前电平信号波形失真后，放弃目标ASK信号，以接收新的ASK信号进行处理。在一些实施例中，在步骤120、确定当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数之后，无线充电装置的信号解调方法还可以包括：在确定正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值的情况下，将毛刺数与第一次数阈值进行对比；在确定毛刺数大于或等于第一次数阈值的情况下，确定当前电平信号为波形失真，将当前电平信号更新为上一电平信号。在该实施例中，确定当前电平信号波形失真后，放弃目标ASK信号，以接收新的ASK信号进行处理。需要说明的是，当确定正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值后，进一步对毛刺脉宽总长是否大于或等于第三脉宽阈值，或毛刺数是否大于或等于第一次数阈值进行判断。当出现毛刺脉宽总长大于或等于第三脉宽阈值，或出现毛刺数大于或等于第一次数阈值时，判断当前电平信号波形失真，将当前电平信号更新为上一电平信号，放弃目标ASK信号，接收新的ASK信号进行处理。在实际执行中，毛刺脉宽总长和毛刺数两个数据任一大于或等于对应的阈值时，即判断当前电平信号波形失真。在一些实施例中，当前脉宽信息包括至少一个第一电平脉宽，第一电平脉宽表征当前电平信号中电平翻转的脉宽，根据电平翻转的脉宽可以识别当前电平信号中的毛刺。在一些实施例中，步骤120、基于当前脉宽信息，确定当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数，可以包括：在确定第一电平脉宽大于第四脉宽阈值的情况下，将第一电平脉宽累加至正常脉宽总长，并将正常翻转数加一；在确定第一电平脉宽小于或等于第四脉宽阈值的情况下，将第一电平脉宽累加至毛刺脉宽总长，并将毛刺数加一。其中，第四脉宽阈值是判断第一电平脉宽对应的电平翻转为正常翻转或毛刺翻转的临界值。如图6所示，毛刺翻转对应的脉宽较窄，如图5和图7所示，正常翻转对应的脉宽大于毛刺翻转对应的脉宽。在该实施例中，当第一电平脉宽大于第四脉宽阈值，表明第一电平脉宽对应的翻转为正常翻转，将第一电平脉宽累加至正常脉宽总长，并将当前电平信号的正常翻转数加一。当第一电平脉宽小于或等于第四脉宽阈值，表明第一电平脉宽对应的翻转为毛刺翻转，将第一电平脉宽累加至毛刺脉宽总长，并将当前电平信号的毛刺数加一。需要说明的是，当前电平信号中存在毛刺翻转时，毛刺可能影响当前电平信号的解析，也可能不影响当前电平信号的解析，将正常脉宽总长、毛刺脉宽总长和毛刺数与对应的阈值进行比较，判断当前电平信号是否受到毛刺的影响。下面介绍一个具体的实施例。在该实施例中，无线充电装置解码实现的硬件部分包括微控制单元的定时器外设模块，该模块具有捕获功能，对接收的目标ASK信号的电平信号进行捕获并判断。定时器外设模块具有自动计算捕获信号的脉宽长度的功能，精度高且稳定，可以计算得到电平信号中的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数等信息。根据无线充电标准协议的规定一个标准信号的脉宽为500us，设置第一脉宽阈值TI=400us，第二脉宽阈值T2=600us。判断电平翻转是否为毛刺翻转的第四脉宽阈值Tnoise=10us，当毛刺脉宽总长大于或等于第三脉宽阈值Tlost=25us，或者当毛刺数大于第一次数阈值noise-cnt-max=5时，认为波形失真。在实际执行中，调节T1、T2的取值，可调节无线充电装置的解码灵敏度，调节Tnoise、Tlost的取值，可调节无线充电装置的滤波灵敏度。如图8所示，步骤1，MCU通过CAPTURE功能，捕获当前电平信号中每个电平翻转，记录电平状态，计算得到每个电平翻转的脉宽cc-temp。步骤2，判断cc-temp是否大于毛刺脉宽Tnoise，大于毛刺脉宽Tnoise则执行步骤3，否则执行步骤4。S3，将cc-temp累加入正常脉宽总长bit-width中，并且将正常翻转数transition-cnt加1。S4，将cc-temp累加入毛刺脉宽总长noish-width中，并将毛刺数noise-cnt加1。S5，当正常脉宽总长bit-width大于T1，且小于T2的范围时，判断毛刺脉宽总长noish-width是否小于Tlost，或者判断毛刺数noise-cnt是否小于noise-cnt-max，若大于对应阈值，执行步骤11，若小于对应阈值，执行步骤6。若正常脉宽总长bit-width大于T2，执行步骤11。在该步骤中，根据正常脉宽总长、毛刺脉宽总长和毛刺数，分析当前电平信号中的毛刺现象，确定信号是否失真，判断是否需要执行步骤11，滤除当前电平信号。S6，软件判断当前电平状态与上一电平状态是否一致，一致则执行步骤7，否则执行步骤8。S7，若当前电平状态与上一电平状态一致，说明接收到为信号“1”，此时判断正常翻转次数transition-cnt是否小于毛刺数noise-cnt+2，判断是否失真，若是，则执行步骤9，若否，则执行步骤11。S8，若当前电平状态与上一电平状态不一致，说明接收到为信号“0”，此时判断正常翻转次数transition-cnt是否小于毛刺数noise-cnt+1，判断是否失真，若是，则执行步骤9，若否，则执行步骤11。S9，保存当前接收到的数字信号“0”或“1”，将当前电平信号保存为上一电平信号。S10，根据无线充电标准协议的规定，对数字信号数据进行组装和解析，在接收完所有数据段后，输出目标ASK信号对应的数据包。S11，清空各标志位及相关数据位，将当前电平信号保存为上一电平信号，回到步骤1。在该步骤中，输出目标ASK信号对应的完整的数据包后，接收下一个ASK信号进行处理，或者判断当前电平信号波形失真后，直接放弃目标ASK信号，接收下一个ASK信号进行处理。在该实施例中，通过获取当前电平信号中的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数，判断当前电平信号是否为毛刺波形或者出现波形失真，滤除干扰条件下数据包的毛刺以及失真，提高无线充电装置发射端的解码成功率和设备兼容性。本申请实施例提供的无线充电装置的信号解调方法，执行主体可以为无线充电装置的信号解调装置。本申请实施例中以无线充电装置的信号解调装置执行无线充电装置的信号解调方法为例，说明本申请实施例提供的无线充电装置的信号解调装置。本申请实施例还提供一种无线充电装置的信号解调装置。如图9所示，该无线充电装置的信号解调装置包括：获取模块910，用于获取目标ASK信号中当前电平信号的当前脉宽信息和当前电平状态，目标ASK信号包括多个电平信号；第一处理模块920，用于基于当前脉宽信息，确定当前电平信号的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数；第二处理模块930，用于在确定正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值、毛刺脉宽总长小于第三脉宽阈值以及毛刺数小于第一次数阈值的情况下，基于当前电平状态和上一电平信号对应的上一电平状态，确定当前电平信号对应的当前数字信号；第三处理模块940，用于在确定正常翻转数小于或等于第二次数阈值的情况下，将当前数字信号保存至目标ASK信号对应的数据包，并将当前电平信号更新为上一电平信号，第二次数阈值基于毛刺数和当前数字信号确定。根据本申请实施例提供的无线充电装置的信号解调装置，通过获取当前电平信号中的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数，判断当前电平信号是否为毛刺波形或者出现波形失真，可以滤除干扰条件下数据包的毛刺现象，提高无线充电装置发射端的解码成功率和设备兼容性。在一些实施例中，第二处理模块930还用于在确定正常脉宽总长大于第二脉宽阈值的情况下，确定当前电平信号波形失真，将当前电平信号更新为上一电平信号。在一些实施例中，第二处理模块930还用于在确定正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值的情况下，将毛刺脉宽总长与第三脉宽阈值进行对比；在确定毛刺脉宽总长大于或等于第三脉宽阈值的情况下，确定当前电平信号波形失真，将当前电平信号更新为上一电平信号，放弃所述目标ASK信号，以接收新的ASK信号进行处理。在一些实施例中，第二处理模块930还用于在确定正常脉宽总长大于第一脉宽阈值且小于第二脉宽阈值的情况下，将毛刺数与第一次数阈值进行对比；在确定毛刺数大于或等于第一次数阈值的情况下，确定当前电平信号波形失真，将当前电平信号更新为上一电平信号，放弃所述目标ASK信号，以接收新的ASK信号进行处理。在一些实施例中，当前脉宽信息包括至少一个第一电平脉宽，第一处理模块920用于在确定第一电平脉宽大于第四脉宽阈值的情况下，将第一电平脉宽累加至正常脉宽总长，并将正常翻转数加一；在确定第一电平脉宽小于或等于第四脉宽阈值的情况下，将第一电平脉宽累加至毛刺脉宽总长，并将毛刺数加一。在一些实施例中，第二处理模块930用于在确定当前电平状态和上一电平状态一致的情况下，确定当前数字信号为一；在确定当前电平状态和上一电平状态不一致的情况下，确定当前数字信号为零。本申请实施例中的无线充电装置的信号解调装置可以是电子设备，也可以是电子设备中的部件，例如集成电路或芯片。本申请实施例提供的无线充电装置的信号解调装置能够实现图1至图8的方法实施例实现的各个过程，为避免重复，这里不再赘述。本申请实施例还提供一种无线充电装置。如图10所示，无线充电装置包括：捕获模块1010、识别模块1020和解析模块1030。捕获模块1010用于捕获目标ASK信号的电平信号的脉宽信息和电平状态。识别模块1020与捕获模块1010电连接，识别模块1020用于基于目标ASK信号的电平信号的脉宽信息和电平状态，根据上述无线充电装置的信号解调方法，确定目标ASK信号的电平信号对应的数字信号。解析模块1030与识别模块1020电连接，解析模块1030用于基于目标ASK信号的电平信号对应的数字信号，在接收完整的目标ASK信号后，输出目标ASK信号对应的数据包。在该实施例中，捕获模块1010用于获取当前电平信号中每两次电平翻转之间的脉宽，以及当前电平信号的当前电平状态。识别模块1020将捕获模块1010得到的脉宽和电平状态，转化为对应的数字信号“0”和“1”，解析模块1030将识别模块1020获取的信号组装成完整的数据包。需要说明的是，当判断目标ASK信号的当前电平信号波形失真时，直接放弃目标ASK信号，处理下一个ASK信号，只有在接收完整的目标ASK信号后，才输出目标ASK信号对应的数据包。根据本申请实施例提供的无线充电装置，通过获取当前电平信号中的正常脉宽总长、正常翻转数、毛刺脉宽总长和毛刺数，判断当前电平信号是否为毛刺波形或者出现波形失真，可以滤除干扰条件下数据包的毛刺现象，提高无线充电装置发射端的解码成功率和设备兼容性。在一些实施例中，如图11所示，本申请实施例还提供一种电子设备1100，包括处理器1101、存储器1102及存储在存储器1102上并可在处理器1101上运行的计算机程序，该程序被处理器1101执行时实现上述无线充电装置的信号解调方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。需要说明的是，本申请实施例中的电子设备包括上述所述的移动电子设备和非移动电子设备。本申请实施例还提供一种非暂态计算机可读存储介质，该非暂态计算机可读存储介质上存储有计算机程序，该计算机程序被处理器执行时实现上述无线充电装置的信号解调方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。其中，所述处理器为上述实施例中所述的电子设备中的处理器。其可为通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列、单片机、ARM或其它可编程逻辑器件、分立门或晶体管逻辑、分立的硬件组件或者这些部件的任何组合。本申请实施例还提供一种计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现上述无线充电装置的信号解调方法。其中，所述处理器为上述实施例中所述的电子设备中的处理器。其可为通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列、单片机、ARM或其它可编程逻辑器件、分立门或晶体管逻辑、分立的硬件组件或者这些部件的任何组合。本申请实施例另提供了一种芯片，所述芯片包括处理器和通信接口，所述通信接口和所述处理器耦合，所述处理器用于运行程序或指令，实现上述无线充电装置的信号解调方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。应理解，本申请实施例提到的芯片还可以称为系统级芯片、系统芯片、芯片系统或片上系统芯片等。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者装置不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者装置所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者装置中还存在另外的相同要素。此外，需要指出的是，本申请实施方式中的方法和装置的范围不限按示出或讨论的顺序来执行功能，还可包括根据所涉及的功能按基本同时的方式或按相反的顺序来执行功能，例如，可以按不同于所描述的次序来执行所描述的方法，并且还可以添加、省去、或组合各种步骤。另外，参照某些示例所描述的特征可在其他示例中被组合。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分可以以计算机软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端执行本申请各个实施例所述的方法。上面结合附图对本申请的实施例进行了描述，但是本申请并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本申请的启示下，在不脱离本申请宗旨和权利要求所保护的范围情况下，还可做出很多形式，均属于本申请的保护之内。在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示意性实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本申请的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。尽管已经示出和描述了本申请的实施例，本领域的普通技术人员可以理解：在不脱离本申请的原理和宗旨的情况下可以对这些实施例进行多种变化、修改、替换和变型，本申请的范围由权利要求及其等同物限定。
