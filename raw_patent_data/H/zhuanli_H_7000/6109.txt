标题title
网络数据的处理方法及装置、存储介质及电子设备
摘要abst
本申请实施例提供了一种网络数据的处理方法及装置、存储介质及电子设备，其中，该方法包括：获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，其中，网络监测能力信息用于标识对应的网络设备是否具备在指定监测网络中的网络监测能力；根据每个相邻设备的网络监测能力信息，从预设的一组节点类型中确定目标设备的节点类型，其中，一组节点类型为目标设备在指定监测网络中允许配置为的节点类型；基于确定的目标设备的节点类型，控制目标设备对指定监测网络中的监测数据进行处理；通过本申请能够使网络设备自动适应拓扑和相邻设备的变化。
权利要求书clms
1.一种网络数据的处理方法，其特征在于，包括：获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，其中，所述网络监测能力信息用于标识对应的网络设备是否具备在指定监测网络中的网络监测能力；根据所述每个相邻设备的所述网络监测能力信息，从预设的一组节点类型中确定所述目标设备的节点类型，其中，所述一组节点类型为所述目标设备在所述指定监测网络中允许配置为的节点类型；基于确定的所述目标设备的节点类型，控制所述目标设备对所述指定监测网络中的监测数据进行处理。2.根据权利要求1所述的方法，其特征在于，所述获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，包括：从所述目标设备的相邻设备信息表中读取所述每个相邻设备的所述网络监测能力信息，其中，所述相邻设备信息表的每个信息项用于记录所述目标设备的一个相邻设备的一组指定参数的参数信息，所述一组指定参数包含网络监测能力参数，所述网络监测能力参数的参数信息为所述网络监测能力信息。3.根据权利要求2所述的方法，其特征在于，在所述从所述目标设备的相邻设备信息表中读取出所述每个相邻设备的所述网络监测能力信息之前，所述方法还包括：从所述目标设备上与第一相邻设备对应的网络端口接收所述第一相邻设备发送的第一设备信息，其中，所述第一相邻设备为所述一组相邻设备中的任一设备；按照所述一组指定参数对所述第一设备信息进行信息提取，得到所述第一相邻设备的所述一组指定参数的参数信息；在所述相邻设备信息表中不存在与所述第一相邻设备对应的信息项的情况下，将提取的所述第一相邻设备的所述一组指定参数的参数信息记录到所述相邻设备信息表中，得与所述第一相邻设备对应的信息项；在所述相邻设备信息表中存在与所述第一相邻设备对应的信息项的情况下，使用提取的所述第一相邻设备的所述一组指定参数的参数信息更新与所述第一相邻设备对应的信息项。4.根据权利要求3所述的方法，其特征在于，所述从所述目标设备上与第一相邻设备对应的网络端口接收所述第一相邻设备发送的第一设备信息，包括：从所述目标设备上与所述第一相邻设备对应的网络端口接收所述第一相邻设备发送的链路层发现协议LLDP信息，其中，所述第一设备信息为所述LLDP信息。5.根据权利要求2所述的方法，其特征在于，所述一组指定参数包含控制器地址以及控制器距离参数，其中，所述控制器地址是所述指定监测网络中，与对应的网络设备距离最近的控制器的互联网协议IP地址，所述控制器地址的参数信息为控制器地址信息，所述控制器距离参数是所述指定监测网络中，对应的网络设备距离与对应的网络设备距离最近的控制器的跳数，所述控制器距离参数的参数信息为控制器跳数值，所述目标设备的所述控制器地址信息为目标地址信息，所述目标设备的所述控制器跳数值为目标跳数值；在所述获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息之前，所述方法还包括：生成与所述目标设备对应的第二设备信息，其中，所述第二设备信息包含所述目标设备的所述网络监测能力信息、所述目标地址信息以及所述目标跳数值；通过所述目标设备上与所述每个相邻设备对应的网络端口将所述第二设备信息发送给所述每个相邻设备。6.根据权利要求5所述的方法，其特征在于，在所述生成与所述目标设备对应的第二设备信息之前，所述方法还包括：确定所述相邻设备信息表中记录的第一信息项，其中，所述第一信息项为所述相邻设备信息表的记录项中，记录的所述控制器跳数值最小的信息项；将所述第一信息项所记录的所述控制器地址信息确定为所述目标地址信息，以及将所述第一信息项所记录的所述跳数值加1所得到的跳数值确定为所述目标跳数值。7.根据权利要求5所述的方法，其特征在于，在所述生成与所述目标设备对应的第二设备信息之前，所述方法还包括：接收第一控制器发送的目标控制器信息，其中，所述目标控制器信息中包含所述第一控制器的IP地址信息，所述第一控制器为所述目标设备的一个相邻设备；将所述第一控制器的IP地址信息确定为所述目标地址信息，以及将指定跳数值确定为所述目标跳数值。8.根据权利要求1所述的方法，其特征在于，在所述获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息之前，所述方法还包括：接收第二控制器下发的目标流表项，其中，所述目标流表项用于指示所述目标设备的所述一组相邻设备。9.根据权利要求8所述的方法，其特征在于，在所述接收第二控制器下发的目标流表项之前，所述方法还包括：接收第二相邻设备发送的携带有第一数据包的第一指示消息，其中，所述第二相邻设备为与所述目标设备相邻的一个网络设备，所述第一指示消息用于指示所述目标设备向所述第二控制器发送携带有所述第一数据包的响应消息；响应于接收到的所述第一指示消息，向所述第二控制器发送携带有所述第一数据包的响应消息，以由所述第二控制器基于接收到的携带有所述第一数据包的响应消息确定所述第二相邻设备与所述目标设备之间存在相邻关系。10.根据权利要求9所述的方法，其特征在于，所述第一数据包为第一链路层发现协议LLDP数据包；所述响应于接收到的所述第一指示消息，向所述第二控制器发送携带有所述第一数据包的响应消息，包括：响应于接收到的所述第一指示消息，向所述第二控制器发送携带有所述第一LLDP数据包的响应消息。11.根据权利要求8所述的方法，其特征在于，在所述接收第二控制器下发的目标流表项之前，所述方法还包括：接收所述第二控制器发送的携带有第二数据包的第二指示消息，其中，所述第二指示消息用于指示所述目标设备通过所述目标设备上的网络端口向所述目标设备的对端设备发送所述第二数据包；响应于接收到的所述第二指示消息，通过所述目标设备上的网络端口向所述对端设备发送第三指示消息，其中，所述第三指示消息用于指示所述对端设备向所述第二控制器发送携带有所述第二数据包的响应消息，以由所述第二控制器基于接收到的携带有所述第二数据包的响应消息确定所述目标设备与所述对端设备之间存在相邻关系。12.根据权利要求11所述的方法，其特征在于，所述第二数据包为第二链路层发现协议LLDP数据包；所述接收所述第二控制器发送的携带有第二数据包的第二指示消息，包括：接收所述第二控制器发送的携带有所述第二LLDP数据包的所述第二指示消息。13.根据权利要求1所述的方法，其特征在于，所述根据所述每个相邻设备的所述网络监测能力信息，从预设的一组节点类型中确定所述目标设备的节点类型，包括：在根据所述每个相邻设备的所述网络监测能力信息确定所述一组相邻设备中的部分相邻设备具备所述网络监测能力的情况下，确定所述目标设备的节点类型为终端节点，其中，所述一组节点类型包括所述终端节点；在根据所述每个相邻设备的所述网络监测能力信息确定所述每个相邻设备均具备所述网络监测能力的情况下，确定所述目标设备的节点类型为中继节点，其中，所述一组节点类型包括所述中继节点。14.根据权利要求1所述的方法，其特征在于，所述一组节点类型包括终端节点；所述基于确定的所述目标设备的节点类型，控制所述目标设备对所述指定监测网络中的监测数据进行处理，包括：在所述目标设备的节点类型为所述终端节点的情况下，通过所述目标设备进行监测数据采集；在所述目标设备接收到第一业务报文的情况下，将所述第一业务报文封装为第一监测报文，并在所述指定监测网络中转发所述第一监测报文，其中，所述第一监测报文中携带有所述目标设备采集到的第一监测数据。15.根据权利要求14所述的方法，其特征在于，所述基于确定的所述目标设备的节点类型，控制所述目标设备对所述指定监测网络中的监测数据进行处理，还包括：在所述目标设备接收到第二监测报文的情况下，从所述第二监测报文中提取出所述第二监测报文中携带的第二监测数据，并将所述第二监测报文恢复为第二业务报文；将所述第二监测数据和所述目标设备采集到的监测数据一起发送到所述指定监测网络中的目标控制器，并基于所述第二业务报文的目的地址转发所述第二业务报文。16.根据权利要求15所述的方法，其特征在于，在所述将所述第二监测数据和所述目标设备采集到的监测数据一起发送到所述指定监测网络中的目标控制器之前，所述方法还包括：在所述目标设备与所述指定监测网络中的一个控制器相邻的情况下，将与所述目标设备相邻的控制器，确定为所述目标控制器；在所述目标设备未与所述指定监测网络中的任一控制器相邻的情况下，从所述一组相邻设备中确定出目标相邻设备，其中，所述目标相邻设备为所述一组相邻设备中，与所述指定监测网络中的控制器距离最近的相邻设备；将所述指定监测网络中，与所述目标相邻设备距离最近的控制器，确定为所述目标控制器。17.根据权利要求16所述的方法，其特征在于，所述目标设备具有相邻设备信息表，所述相邻设备信息表中的每个信息项用于记录所述目标设备的一个相邻设备的一组指定参数的参数信息，所述一组指定参数包含控制器距离参数，其中，所述控制器距离参数是所述指定监测网络中，对应的网络设备距离与对应的网络设备距离最近的控制器的跳数，所述控制器距离参数的参数信息为控制器跳数值；所述在所述目标设备未与所述指定监测网络中的任一控制器相邻的情况下，从所述一组相邻设备中确定出目标相邻设备，包括：在所述目标设备未与所述指定监测网络中的任一控制器相邻的情况下，查找所述相邻设备信息表中，记录的所述控制器跳数值最小的信息项，得到第二信息项；将所述一组相邻设备中与所述第二信息项对应的相邻设备确定为所述目标相邻设备。18.根据权利要求1所述的方法，其特征在于，所述一组节点类型包括中继节点；所述基于确定的所述目标设备的节点类型，控制所述目标设备对所述指定监测网络中的监测数据进行处理，包括：在所述目标设备的节点类型为所述中继节点的情况下，通过所述目标设备进行监测数据采集；在所述目标设备接收到第三监测报文的情况下，将所述目标设备采集到的监测数据添加到所述第三监测报文中，得到更新后的所述第三监测报文，并在所述指定监测网络中转发更新后的所述第三监测报文。19.根据权利要求1至18中任一项所述的方法，其特征在于，所述目标设备为交换机，所述指定监测网络为遥测网络，所述网络监测能力为带内遥测能力，所述指定监测网络中的网络设备采集到的监测数据为遥测数据。20.一种网络数据的处理装置，其特征在于，包括：获取单元，用于获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，其中，所述网络监测能力信息用于标识对应的网络设备是否具备在指定监测网络中的网络监测能力；确定单元，用于根据所述每个相邻设备的所述网络监测能力信息，从预设的一组节点类型中确定所述目标设备的节点类型，其中，所述一组节点类型为所述目标设备在所述指定监测网络中允许配置为的节点类型；控制单元，用于基于确定的所述目标设备的节点类型，控制所述目标设备对所述指定监测网络中的监测数据进行处理。21.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机程序，其中，所述计算机程序被处理器执行时实现权利要求1至19任一项中所述的方法的步骤。22.一种电子设备，包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至19任一项中所述的方法的步骤。
说明书desc
技术领域本申请实施例涉及大数据技术领域，具体而言，涉及一种网络数据的处理方法及装置、存储介质及电子设备。背景技术传统的网络监测技术通常基于流量采样或抽样，只能提供有限的信息，并且可能对网络性能产生一定的影响。带内网络遥测的出现是为了解决传统网络监测技术的局限性，带内网络遥测可以在数据包级别上提供详细的监测信息，不仅不需要额外的采样开销，还可以提供更全面、准确的网络性能数据；而带内网络遥测的配置是网络管理和监控领域的一个关键问题；相关技术中，这种配置是手动进行的，需要管理员根据网络拓扑和需求来配置每个交换机，这个过程复杂、耗时且容易出错，特别是在复杂的网络环境中。由此可见，相关技术中网络数据的处理方法，存在网络设备配置复杂且容易出错的技术问题。发明内容本申请实施例提供了一种网络数据的处理方法及装置、存储介质及电子设备，以至少解决相关技术中网络数据的处理方法存在网络设备配置复杂且容易出错的技术问题。根据本申请的一个实施例，提供了一种网络数据的处理方法，包括：获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，其中，所述网络监测能力信息用于标识对应的网络设备是否具备在指定监测网络中的网络监测能力；根据所述每个相邻设备的所述网络监测能力信息，从预设的一组节点类型中确定所述目标设备的节点类型，其中，所述一组节点类型为所述目标设备在所述指定监测网络中允许配置为的节点类型；基于确定的所述目标设备的节点类型，控制所述目标设备对所述指定监测网络中的监测数据进行处理。根据本申请的又一个实施例，提供了一种网络数据的处理装置，包括：获取单元，用于获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，其中，所述网络监测能力信息用于标识对应的网络设备是否具备在指定监测网络中的网络监测能力；确定单元，用于根据所述每个相邻设备的所述网络监测能力信息，从预设的一组节点类型中确定所述目标设备的节点类型，其中，所述一组节点类型为所述目标设备在所述指定监测网络中允许配置为的节点类型；控制单元，用于基于确定的所述目标设备的节点类型，控制所述目标设备对所述指定监测网络中的监测数据进行处理。根据本申请实施例的又一个方面，提供了一种计算机可读的存储介质，计算机可读的存储介质包括存储的程序，其中，程序运行时执行上述任一项方法实施例中的步骤。根据本申请实施例的又一个方面，提供了一种电子设备，包括存储器和处理器，存储器中存储有计算机程序，处理器被设置为通过计算机程序执行上述任一项方法实施例中的步骤。通过本申请实施例，获取目标设备的每个相邻设备的网络监测能力信息，根据每个相邻设备的网络监测能力信息，从预设的一组节点类型中确定目标设备的节点类型，由此，目标设备通过相邻设备的网络监测能力，能够自动确定自身的节点类型，从而消除了手动配置的需要，使配置过程的自动化和自适应程度更高；基于确定的目标设备的节点类型，控制目标设备对指定监测网络中的监测数据进行处理，由此，使得目标设备基于节点类型根据特定的业务逻辑执行相应的操作；从而实现了网络设备的自动配置，减少了手动配置的工作，提高了数据的可靠性；进而解决了相关技术中网络数据的处理方法存在网络设备配置复杂且容易出错的技术问题。附图说明图1是本申请实施例的一种网络数据的处理方法的计算机终端的硬件结构框图；图2是根据本申请实施例的一种网络数据的处理方法的流程示意图；图3是根据本申请实施例的另一种网络数据的处理方法的流程示意图；图4是根据本申请实施例的一种网络数据的处理方法的架构示意图；图5是根据本申请实施例的一种网络数据的处理方法的设备交互流程示意图；图6是本申请实施例提供的又一种网络数据的处理方法的流程示意图；图7是根据本申请实施例的一种网络数据的处理装置的结构框图；图8是本申请实施例提供的一种可选的电子设备的计算机系统的结构框图。具体实施方式下文中将参考附图并结合实施例来详细说明本申请的实施例。需要说明的是，本申请实施例的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。除非另有定义，本文所使用的所有的技术和科学术语与属于本申请的技术领域的技术人员通常理解的含义相同。本文中所使用的术语只是为了描述本申请实施例的目的，不是旨在限制本申请。对本申请实施例进行进一步详细说明之前，对本申请实施例中涉及的名词和术语进行说明，本申请实施例中涉及的名词和术语适用于如下的解释。1、链路层发现协议，它提供了一种标准的链路层发现方式。LLDP协议使得接入网络的一台设备可以将其主要的能力，管理地址，设备标识，接口标识等信息发送给接入同一个局域网络的其它设备。2、带内网络遥测是一种网络监测技术，可以提供对网络中的数据流进行实时、精细粒度的监测和分析。INT允许网络设备在数据包转发的过程中将关键信息嵌入到数据包中，从而实现对网络的深入了解和分析。本申请实施例中所提供的方法实施例可以在移动终端、计算机终端或者类似的运算装置中执行。以运行在计算机终端上为例，图1是本申请实施例的一种网络数据的处理方法的计算机终端的硬件结构框图。如图1所示，计算机终端可以包括一个或多个处理器102和用于存储数据的存储器104，其中，上述计算机终端还可以包括用于通信功能的传输设备106以及输入输出设备108。本领域普通技术人员可以理解，图1所示的结构仅为示意，其并不对上述计算机终端的结构造成限定。例如，计算机终端还可包括比图1中所示更多或者更少的组件，或者具有与图1所示不同的配置。存储器104可用于存储计算机程序，例如，应用软件的软件程序以及模块，如本申请实施例中的消息的传输方法对应的计算机程序，处理器102通过运行存储在存储器104内的计算机程序，从而执行各种功能应用以及数据处理，即实现上述的方法。存储器104可包括高速随机存储器，还可包括非易失性存储器，如一个或者多个磁性存储装置、闪存、或者其他非易失性固态存储器。在一些实例中，存储器104可进一步包括相对于处理器102远程设置的存储器，这些远程存储器可以通过网络连接至移动终端。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。传输设备106用于经由一个网络接收或者发送数据。上述的网络具体实例可包括计算机终端的通信供应商提供的无线网络。在一个实例中，传输设备106包括一个网络适配器，其可通过基站与其他网络设备相连从而可与互联网进行通讯。在一个实例中，传输设备106可以为射频模块，其用于通过无线方式与互联网进行通讯。传统的网络监测技术通常基于流量采样或抽样，只能提供有限的信息，并且可能对网络性能产生一定的影响。带内网络遥测的出现是为了解决传统网络监测技术的局限性，带内网络遥测可以在数据包级别上提供详细的监测信息，不仅不需要额外的采样开销，还可以提供更全面、准确的网络性能数据。而带内网络遥测的配置是网络管理和监控领域的一个关键问题。这个领域涉及到在大规模网络中配置交换机和控制器，以便实现数据采集、监控和管理。相关技术中，这种配置是手动进行的，需要管理员根据网络拓扑和需求来配置每个交换机。这个过程复杂、耗时且容易出错，特别是在复杂的网络环境中。为了解决这个问题，一些自动化方法已经出现，以简化带内网络遥测的配置。这些方法可以基于各种技术和协议，旨在提高配置的效率和准确性。然而，这些方法仍然存在一些限制和挑战，例如在面对网络拓扑变化时的适应性问题。例如，相关技术中通常使用网络发现工具，通过简单网络管理协议或其他自动化机制进行自动发现和拓扑分析以便于确定网络中的设备及其位置，以及交换机之间的连接方式；随后接着确定交换机节点的能力，这个过程可能需要分析交换机的硬件和软件配置，以判断它们是否具备采集、存储和传输遥测数据的能力；最后在网络中选择合适的控制器，将交换机分配给适当的控制器，以确保数据能够有效地传输到中央监控系统。虽然上述相关技术可能在一定程度上简化了带内网络遥测的配置，但上述相关技术仍然存在一些缺点。例如，上述相关技术可能需要管理员的手动干预，特别是在配置复杂网络时，这种手动操作可能导致配置错误和延迟；且当网络拓扑或需求发生变化时需要重新配置，会导致耗费时间过长；另外可能需要复杂的软件工具和配置脚本，导致对用户的要求过高；这些因素共同限制了此技术的效率和适应性。例如，相关技术中通过自动化方法来简化内部遥测网络配置的可能性，这涉及到使用自动化协议或技术以实现自适应配置。此技术采用了私人的配置协议，其设计目的是根据网络中的设备和需求自动配置交换机。这一协议可能会依赖节点的能力和拓扑信息，以自动分配角色和功能。此外，此类技术还可能包括动态网络分析工具，这些工具的作用是实时监测网络的拓扑结构和性能，以随时根据需要进行自动调整。尽管此技术具备一定程度的自适应性，但仍然存在一些缺点。其中包括适应性受限，这意味着此类方法可能无法有效地适应网络拓扑和需求的快速变化，从而导致配置不够灵活。此外，相关技术中可能对特殊硬件或协议的支持有一定要求，这可能会进一步限制它们的适用范围。综上所述，传统配置需要根据拓扑来确定交换机在内部遥测网络中的节点能力，以启用终端节点或中继节点，并配置遥测信息的控制器地址。这些手动配置过程通常耗时且容易出错，难以快速适应环境变化，尤其在大规模部署的情况下，每台交换机都需要手动配置，工作量巨大。本申请实施例旨在解决内部遥测网络配置的复杂性，简化内部遥测网络的配置，使其能够自适应地适应网络变化，降低管理员的工作量。根据本申请实施例的一个方面，提供了一种网络数据的处理方法，能够自动配置网络设备，提高数据的可靠性；以由计算机终端来执行本实施例中的网络数据的处理方法为例，图2是根据本申请实施例的一种网络数据的处理方法的流程示意图，如图2所示，该流程包括如下步骤：在步骤S202中，获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，其中，网络监测能力信息用于标识对应的网络设备是否具备在指定监测网络中的网络监测能力。相关技术中需要根据网络拓扑来确定目标设备在当前网络中的节点类型，以将节点类型启用为中继节点类型或者终端节点类型，而本申请实施例预先获取目标设备的相邻设备的网络监测能力信息，以便于后续能够自适应配置当前节点类型。目标设备与一组相邻的网络设备可以实施为遥测网络中的交换机；在遥测网络中存在多个交换机作为遥测网络的关键组成部分，每个交换机都具备通过链路层发现协议进行信息交换的功能，以及能够采集、和传输业务数据与遥测数据的能力；例如，当目标设备实施为遥测网络中的交换机时，能够通过链路层发现协议获取一组相邻设备中的每个相邻设备的网络监测能力信息，在这里，相邻设备的网络监测能力信息即为相邻的网络设备是否具有内部遥测能力。在一些实施例中，在获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息的同时，获取每个相邻设备的控制器地址，以便于后续通过选择最近的控制器将遥测数据传输路径优化到最佳状态。通过本申请提供的实施例，获取目标设备的相邻设备的网络遥测能力信息，以便于后续根据相邻设备的网络遥测能力信息自适应配置当前节点类型。在步骤S204中，根据每个相邻设备的网络监测能力信息，从预设的一组节点类型中确定目标设备的节点类型，其中，一组节点类型为目标设备在指定监测网络中允许配置为的节点类型；通过分析相邻设备的网络监测能力信息，目标设备能够自适应确定在当前网络中的节点类型，从而消除了手动配置的需要，使配置过程更加自动化和自适应化。即如果当前的目标设备的全部相邻设备都具备网络监测能力，则将当前的目标设备配置为中继节点；如果当前的目标设备至少有一个相邻设备具备网络监测能力且并非全部相邻设备都具备网络监测能力，则将当前的目标设备配置为终端节点。例如，在遥测网络中，根据相邻的交换机是否具备内部遥测能力，当前交换机可以确定自身在遥测网络中的节点类型，如果所有相邻节点都具有内部遥测能力，该交换机将被配置为中继节点，否则将被配置为终端节点。通过本申请提供的实施例，根据相邻设备的网络监测能力信息自动确定目标设备在网络中的节点类型，自动化配置减少了用户的工作量，从而降低了配置错误的发生率。在步骤S206中，基于确定的目标设备的节点类型，控制目标设备对指定监测网络中的监测数据进行处理。基于目标设备的节点类型根据特定的业务逻辑执行相应的操作，从而控制目标设备对指定监测网络中的监测数据进行处理，以实现自动化数据处理，而无需复杂的手动配置。在一些实施例中，目标设备的一组节点类型包括中继节点与终端节点，在根据每个相邻设备的网络监测能力信息确定每个相邻设备均具备网络监测能力的情况下，确定目标设备的节点类型为中继节点，在根据每个相邻设备的网络监测能力信息确定一组相邻设备中的部分相邻设备具备网络监测能力的情况下，确定目标设备的节点类型为终端节点。其中，终端节点类型的网络节点为指定监测网络中，向指定监测网络中的控制器中转监测数据的网络节点；中继节点类型的网络节点为指定监测网络中，采集监测数据、并向指定监测网络中的控制器发送采集的监测数据的网络节点。通过本申请提供的实施例的上述步骤，获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，其中，网络监测能力信息用于标识对应的网络设备是否具备在指定监测网络中的网络监测能力；根据每个相邻设备的网络监测能力信息，从预设的一组节点类型中确定目标设备的节点类型，其中，一组节点类型为目标设备在指定监测网络中允许配置为的节点类型；基于确定的目标设备的节点类型，控制目标设备对指定监测网络中的监测数据进行处理；实现了网络设备的自动配置，减少了手动配置的工作，提高了数据的可靠性；进而解决了相关技术中网络数据的处理方法存在网络设备配置复杂且容易出错的技术问题。在一个示例性实施例中，获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，包括：S11，从目标设备的相邻设备信息表中读取每个相邻设备的网络监测能力信息。其中，相邻设备信息表的每个信息项用于记录目标设备的一个相邻设备的一组指定参数的参数信息，一组指定参数包含网络监测能力参数，网络监测能力参数的参数信息为网络监测能力信息。每个目标设备都维护一个相邻设备信息表，相邻设备信息表用于记录相邻节点的一组指定参数信息包括用于表示当前设备是否具备网络监测能力的网络监测能力参数，以便于目标设备根据相邻设备信息表自动确定当前的节点类型。例如，网络监测能力参数可以是“capability:INT,yes”或是“capability:INT,no”，分别用于表示具备带内遥测能力或是不具备带内遥测能力。在带内网络遥测架构中，目标设备转发处理携带遥测指令的数据包。当遥测数据包经过该设备时，通过遥测指令指示具备带内遥测能力的网络设备应该收集并写入何种网络状态信息。例如，在遥测网络中，每个交换机都维护一个邻居遥测能力表，用于记录相邻节点的信息，包括它们是否具有带内遥测能力和它们的发送端口、IP地址以及控制器的距离信息。通过本申请提供的实施例，目标设备能够从相邻设备信息表中确定相邻设备的网络遥测能力信息，根据相邻设备的网络遥测能力信息能够自动确定当前目标设备的节点类型，提高了网络中的设备配置自动化程度。在一个示例性实施例中，参考图3，在从目标设备的相邻设备信息表中读取出每个相邻设备的网络监测能力信息之前，上述方法还包括：S21，从目标设备上与第一相邻设备对应的网络端口接收第一相邻设备发送的第一设备信息，其中，第一相邻设备为一组相邻设备中的任一设备；S22，按照一组指定参数对第一设备信息进行信息提取，得到第一相邻设备的一组指定参数的参数信息；S23，在相邻设备信息表中不存在与第一相邻设备对应的信息项的情况下，将提取的第一相邻设备的一组指定参数的参数信息记录到相邻设备信息表中，得与第一相邻设备对应的信息项；S24，在相邻设备信息表中存在与第一相邻设备对应的信息项的情况下，使用提取的第一相邻设备的一组指定参数的参数信息更新与第一相邻设备对应的信息项。每个目标设备与第一相邻设备均会通过对应的网络端口发送第一设备信息，且第一设备信息周期发送，周期性的信息传播是实现每个目标设备自适应配置的关键步骤，即使得系统能够根据网络状态自动进行配置和调整。例如，在遥测网络中，当目标设备实施为交换机时，第一设备信息包括以下关键信息：本设备的MAC地址与IP地址、是否具备带内遥测能力、对应的控制器的IP地址、距离控制器的距离，其中，控制器的相关信息，交换机初始状态下是没有的，待后续收到由控制器或者其他交换机发送的LLDP信息进行解析后得到。在每个目标设备接收到第一设备信息后，都会维护相邻设备信息表，即在相邻设备信息表中不存在与第一相邻设备对应的信息项的情况下，将提取的第一相邻设备的一组指定参数的参数信息记录到相邻设备信息表中，得与第一相邻设备对应的信息项；在相邻设备信息表中存在与第一相邻设备对应的信息项的情况下，使用提取的第一相邻设备的一组指定参数的参数信息更新与第一相邻设备对应的信息项。其中，相邻设备信息表用于记录相邻设备的关键信息，以下表1为例：表1表1记录了3笔LLDP信息，分别表示当前目标设备的不同网络端口分别收到的LLDP报文。例如，在第一笔记录中已记录对端设备的MAC地址与IP地址，能力中标示着存在INT的功能，但是不存在控制器的信息。在第二笔记录中已记录对端设备的MAC地址与IP地址，能力中标示着存在INT的功能，同时也存在控制器的信息。第三笔记录已记录对端设备的MAC地址与IP地址，能力中标示着存在INT的功能，同时也存在控制器的信息。需要说明的是，目标设备存在多个网络接口，每个网络接口对应的对端设备即为相邻设备。通过本申请提供的实施例，每个目标设备均会与相邻设备进行周期性的信息传播，以获取每个相邻设备对应的相邻设备信息表。在一个示例性实施例中，从目标设备上与第一相邻设备对应的网络端口接收第一相邻设备发送的第一设备信息，包括：S31，从目标设备上与第一相邻设备对应的网络端口接收第一相邻设备发送的链路层发现协议LLDP信息，其中，第一设备信息为LLDP信息。在这里，目标设备与相邻设备通过链路层传输协议在网络中相互发现并交互各自的系统及配置信息。链路层传输协议提供了一种标准的链路层发现方式。LLDP协议使得接入网络的一台设备可以将其主要的能力，管理地址，设备标识，接口标识等信息发送给接入同一个局域网络的其它设备。当一个设备从网络中接收到其它设备的这些信息时，它就将这些信息以MIB的形式存储起来。这些MIB信息可用于发现设备的物理拓扑结构以及管理配置信息。通过本申请提供的实施例，各个目标设备与相邻设备通过链路层发现协议进行信息交互，以维护相应的相邻设备信息表。在一个示例性实施例中，在获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息之前，上述方法还包括：S41，生成与目标设备对应的第二设备信息，其中，第二设备信息包含目标设备的网络监测能力信息、目标地址信息以及目标跳数值；S42，通过目标设备上与每个相邻设备对应的网络端口将第二设备信息发送给每个相邻设备。为了在网络中进行目标设备与相邻设备之间的信息传播，目标设备需要预先生成与本机相对应的第二设备信息，第二设备信息包括目标设备是否具备网络监测能力、目标设备的IP地址、对应的控制器地址、距离最近的控制器的跳数。在这里，一组指定参数包含控制器地址以及控制器距离参数，其中，控制器地址是指定监测网络中，与对应的网络设备距离最近的控制器的互联网协议IP地址，控制器地址的参数信息为控制器地址信息，控制器距离参数是指定监测网络中，对应的网络设备距离与对应的网络设备距离最近的控制器的跳数，控制器距离参数的参数信息为控制器跳数值，目标设备的控制器地址信息为目标地址信息，目标设备的控制器跳数值为目标跳数值；其中，IP地址为一个参数，具体的参数信息为IP地址信息，控制器跳数值为一个参数，控制器跳数值的参数信息为跳数值，例如，与目标设备对应的第二设备信息的IP地址信息可以是“192.168.0.4”；目标跳数值可以是“2”，表示第二目标设备传输特定数据至控制器还需要进行两次跳跃。通过本申请提供的实施例，能够在目标设备与相邻设备进行信息传播之前，预先生成与目标设备对应的第二设备信息，以便于后续进行信息交互、维护邻居设备信息表。在一个示例性实施例中，在生成与目标设备对应的第二设备信息之前，上述方法还包括：S51，确定相邻设备信息表中记录的第一信息项，其中，第一信息项为相邻设备信息表的记录项中，记录的控制器跳数值最小的信息项；S52，将第一信息项所记录的控制器地址信息确定为目标地址信息，以及将第一信息项所记录的跳数值加1所得到的跳数值确定为目标跳数值。为了优化数据的传输路径，选择最近的控制器地址信息作为目标地址信息，确定目标设备中相邻设备信息表的距离最近控制器的信息项，并将距离最近的控制器地址信息作为目标地址信息，将所记录的跳数值加1所得到的跳数值确定为目标跳数值。通过本申请提供的实施例，通过选择最近的控制器将数据传输路径优化到最佳状态，降低了数据传输的延迟和网络负载，提高了资源利用率。在一个示例性实施例中，在生成与目标设备对应的第二设备信息之前，上述方法还包括：S61，接收第一控制器发送的目标控制器信息，其中，目标控制器信息中包含第一控制器的IP地址信息，第一控制器为目标设备的一个相邻设备；S62，将第一控制器的IP地址信息确定为目标地址信息，以及将指定跳数值确定为目标跳数值。初始状态下目标设备中并不包括目标控制器信息，需要在后续由目标控制器或其他交换机发送目标控制器信息后，目标设备接收目标控制器信息，确定目标控制器的IP地址信息，并确定至目标控制器的指定跳数值为目标跳数值。在这里，指定跳数值是根据目标设备与目标控制器之间的设备间隔数确定的，例如，当目标设备与目标控制器相邻时，指定跳数值为1，将1作为目标跳数值。需要说明的是，目标设备接收到的目标控制器信息可以是由相邻的目标控制器直接发送的，也可以是由目标设备相邻的其他设备转发得到的，例如，目标交换机的目标控制器信息可以是由其他的相邻交换机进行多次转发得到的。通过本申请提供的实施例，通过多个相邻设备之间的信息交互，实现了网络中各个目标设备的控制器信息的自动配置。在一个示例性实施例中，在获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息之前，上述方法还包括：S71，接收第二控制器下发的目标流表项，其中，目标流表项用于指示目标设备的一组相邻设备。目标设备的转发过程由两部分组成，即流表与端口，一个交换机可以存在多个网络端口，也可以有多级流表；通过目标控制器向目标交换机发送目标流表项，以指示目标交换机调用目标端口接收数据报文，并查询目标流表以匹配相应的流表项，执行该流表项规定的指令。在这里，流表项是流表的最小单位，目标流表项可以是多个流表项，每个流表项对应了网络传输的一条流。在一个示例性实施例中，在接收第二控制器下发的目标流表项之前，上述方法还包括：S81，接收第二相邻设备发送的携带有第一数据包的第一指示消息，其中，第二相邻设备为与目标设备相邻的一个网络设备，第一指示消息用于指示目标设备向第二控制器发送携带有第一数据包的响应消息；S82，响应于接收到的第一指示消息，向第二控制器发送携带有第一数据包的响应消息，以由第二控制器基于接收到的携带有第一数据包的响应消息确定第二相邻设备与目标设备之间存在相邻关系。在一些实施例中，响应于目标设备接收相邻的一个网络设备发送的携带有第一数据包的第一指示消息，目标设备向第二控制器发送携带有第一数据包的响应消息，使得第二控制器能够确定第二相邻设备与目标设备之间存在相邻关系。即当网络中添加了新设备时，在新设备向目标设备发送第一数据包的同时还会发送第一指示消息，第一指示消息用于指示目标设备向目标控制器发送目标设备携带有由新设备发送的第一数据包的信息，以使目标控制器确定新设备与目标设备之间存在相邻关系，以便于后续与其他设备进行信息传播时，更新对应的邻居设备信息表。通过本申请提供的实施例，由于目标设备能够自动适应网络拓扑和相邻设备的变化，系统能够更迅速地适应新设备的接入或网络拓扑的变动，提高了系统的灵活性和适应性。在一个示例性实施例中，第一数据包为第一链路层发现协议LLDP数据包；响应于接收到的第一指示消息，向第二控制器发送携带有第一数据包的响应消息，包括：S91，响应于接收到的第一指示消息，向第二控制器发送携带有第一LLDP数据包的响应消息。在一些实施例中，LLDP是一种标准的二层发现方式，可以将本端设备的管理地址、设备标识、接口标识等信息组织起来作为LLDP数据包，并发布给自己的邻居设备，邻居设备收到LLDP数据包后将其以标准的管理信息库MIB的形式保存起来，以供网络管理系统查询及判断链路的通信状况。在一个示例性实施例中，在接收第二控制器下发的目标流表项之前，上述方法还包括：S101，接收第二控制器发送的携带有第二数据包的第二指示消息，其中，第二指示消息用于指示目标设备通过目标设备上的网络端口向目标设备的对端设备发送第二数据包；S102，响应于接收到的第二指示消息，通过目标设备上的网络端口向对端设备发送第三指示消息，其中，第三指示消息用于指示对端设备向第二控制器发送携带有第二数据包的响应消息，以由第二控制器基于接收到的携带有第二数据包的响应消息确定目标设备与对端设备之间存在相邻关系。在一个示例性实施例中，第二数据包为第二链路层发现协议LLDP数据包；接收第二控制器发送的携带有第二数据包的第二指示消息，包括：S111，接收第二控制器发送的携带有第二LLDP数据包的第二指示消息。在一个实施例中，当控制器在执行链路发现过程时，会首先通过一个packet-out消息向所有与之连接的交换机发送LLDP数据包，该消息命令交换机将LLDP数据包发送给所有端口；交换机接收到packet-out消息，会将LLDP数据包通过其所有的端口发送给与之连接的设备。因为交换机中并没有专门的流表项用于处理LLDP消息,所有它将通过一个packet-in消息将数据包发送给控制器。而控制器在收到packet-in消息后，会对数据包进行分析并在其保存的链路发现表中创建2台交换机之间的链接记录。网络中其他交换机也都采用相同的方式向控制器发送packet-in消息，因此控制器就能够创建完整的网络拓扑视图，基于这样的视图，控制器可以根据业务应用的流量需求，为每台交换机推送下发不同的流表项。通过本申请提供的实施例，利用LLDP信息通过交换机之间相互传播的LLDP信息来实现自适应的遥测网络配置，它允许网络设备自动适应拓扑和相邻设备的变化。在一个示例性实施例中，根据每个相邻设备的网络监测能力信息，从预设的一组节点类型中确定目标设备的节点类型，包括：S121，在根据每个相邻设备的网络监测能力信息确定一组相邻设备中的部分相邻设备具备网络监测能力的情况下，确定目标设备的节点类型为终端节点，其中，一组节点类型包括终端节点；S122，在根据每个相邻设备的网络监测能力信息确定每个相邻设备均具备网络监测能力的情况下，确定目标设备的节点类型为中继节点，其中，一组节点类型包括中继节点。在一些实施例中，当指定监测网络实施为遥测网络、目标设备实施为交换机时，目标设备的节点类型包括中继节点与终端节点；根据交换机被确定的节点类型，对相应的遥测相关设置将进行配置。例如，如果交换机被配置为终端节点，则根据终端节点接收到的报文类型进行相应的数据封装或数据提取并发送到指定设备。如果交换机被配置为中继节点，则该交换机将被设置为接收来自终端节点的遥测数据，根据遥测报文中的策略进行数据采集并转发。通过本申请提供的实施例，能够根据每个相邻设备的网络监测能力信息，自动确定当前目标设备的节点类型，以根据终端节点类型或中继节点类型进行相应的监测数据处理。在一个示例性实施例中，一组节点类型包括终端节点；基于确定的目标设备的节点类型，控制目标设备对指定监测网络中的监测数据进行处理，包括：S131，在目标设备的节点类型为终端节点的情况下，通过目标设备进行监测数据采集；S132，在目标设备接收到第一业务报文的情况下，将第一业务报文封装为第一监测报文，并在指定监测网络中转发第一监测报文，其中，第一监测报文中携带有目标设备采集到的第一监测数据。在这里，终端节点类型包括首节点与尾节点，若目标设备接收到的信息为业务报文，则认为此业务报文位于首节点，将目标设备的节点类型确定为终端节点，通过目标设备将业务报文封装为监测报文，并在指定监测网络中转发该监测报文至相邻节点。例如，当指定监测网络实施为遥测网络，目标设备实施为交换机时，如果交换机被配置为终端节点，若收到的报文为的业务报文，则认为此报文位于遥测首节点，将其封装成遥测报文并附加本机遥测信息后传输给中继节点。在一些实施例中，交换机使用一般的遥测方法采集遥测数据，例如，当交换机侦测一个报文中带有特殊的表头资料，从此报文中获得需要收集的信息类型，并且将这些数据带入此报文后正常转发。通过本申请提供的实施例，当目标设备的节点类型为终端节点时，对接收到的业务报文进行封装得到监测报文，并在指定监测网络中进行转发，以使后续节点在接收到监测报文时，将采集到的监测数据添加至监测报文并继续进行转发。在一个示例性实施例中，基于确定的目标设备的节点类型，控制目标设备对指定监测网络中的监测数据进行处理，还包括：S141，在目标设备接收到第二监测报文的情况下，从第二监测报文中提取出第二监测报文中携带的第二监测数据，并将第二监测报文恢复为第二业务报文；S142，将第二监测数据和目标设备采集到的监测数据一起发送到指定监测网络中的目标控制器，并基于第二业务报文的目的地址转发第二业务报文。在这里，终端节点类型包括首节点与尾节点，若目标设备接收到的信息为监测报文，则认为此监测报文位于尾节点，将目标设备的节点类型确定为终端节点，通过目标设备提取出该监测报文中的监测数据，并将该监测报文恢复为业务报文，将监测报文中的监测数据和目标设备采集到的监测数据一起发送到指定监测网络中的目标控制器，并基于业务报文的目的地址转发第二业务报文。例如，指定监测网络实施为遥测网络，目标设备实施为交换机时，如果交换机被配置为终端节点，若接收到的报文为的遥测报文，则认为此遥测报文位于遥测尾节点，将此遥测报文内的遥测数据分离出来并附加当前交换机的遥测信息后往最近的控制器发送，最后将遥测报文恢复成一般的业务报文正常转发。通过本申请提供的实施例，当目标设备的节点类型为终端节点时，对接收到的监测报文进行提取，从而获得监测数据与业务报文，并将监测数据发送至控制器，将业务报文发送至业务报文的目的地址。在一个示例性实施例中，在将第二监测数据和目标设备采集到的监测数据一起发送到指定监测网络中的目标控制器之前，上述方法还包括：S151，在目标设备与指定监测网络中的一个控制器相邻的情况下，将与目标设备相邻的控制器，确定为目标控制器；S152，在目标设备未与指定监测网络中的任一控制器相邻的情况下，从一组相邻设备中确定出目标相邻设备，其中，目标相邻设备为一组相邻设备中，与指定监测网络中的控制器距离最近的相邻设备；S153，将指定监测网络中，与目标相邻设备距离最近的控制器，确定为目标控制器。为了将指定监测网络内的数据传输路径优化至最优状态，需要确定每个目标设备距离最近的控制器作为该目标设备的目标控制器。例如，若目标设备的一组相邻设备中存在控制器，则将该控制器设置为目标控制器，记录目标设备至该控制器跳数值为1。在一个示例性实施例中，在目标设备未与指定监测网络中的任一控制器相邻的情况下，从一组相邻设备中确定出目标相邻设备，包括：S161，在目标设备未与指定监测网络中的任一控制器相邻的情况下，查找相邻设备信息表中，记录的控制器跳数值最小的信息项，得到第二信息项；S162，将一组相邻设备中与第二信息项对应的相邻设备确定为目标相邻设备。目标设备具有相邻设备信息表，相邻设备信息表中的每个信息项用于记录目标设备的一个相邻设备的一组指定参数的参数信息，一组指定参数包含控制器距离参数，其中，控制器距离参数是指定监测网络中，对应的网络设备距离与对应的网络设备距离最近的控制器的跳数，控制器距离参数的参数信息为控制器跳数值；例如，若目标设备的一组相邻设备中不存在控制器，则通过当前目标设备维护的邻居设备信息表将相邻设备中距离控制器最近的设备确定为目标相邻设备作为第二信息项。根据目标相邻设备的目标控制器信息创建或更新当前目标设备对应的目标控制器地址与目标跳数值。通过本申请提供的实施例，能够根据目标设备维护的邻居遥测能力表中hop值设置，选择最近的控制器位址；降低了指定监测网络中的数据传输延迟和网络负载，提高了资源利用率。在一个示例性实施例中，一组节点类型包括中继节点；基于确定的目标设备的节点类型，控制目标设备对指定监测网络中的监测数据进行处理，包括：S171，在目标设备的节点类型为中继节点的情况下，通过目标设备进行监测数据采集；S172，在目标设备接收到第三监测报文的情况下，将目标设备采集到的监测数据添加到第三监测报文中，得到更新后的第三监测报文，并在指定监测网络中转发更新后的第三监测报文。在根据每个相邻设备的网络监测能力信息确定每个相邻设备均具备网络监测能力的情况下，确定目标设备的节点类型为中继节点；通过目标设备进行监测数据采集，在接收到第三监测报文的情况下将目标设备采集到的监测数据添加到第三监测报文中，得到更新后的第三监测报文，并在指定监测网络中转发更新后的第三监测报文。在这里，第三监测报文是由节点类型为终端节点的目标设备转发第一监测报文得到的，第二监测报文是第三监测报文最终转发至终端节点得到的。需要说明的是，每一次转发过程中均会将当前目标设备采集到的监测数据添加至监测报文中，同时转发过程中也会携带每一个已转发设备的设备信息。通过本申请提供的实施例，当目标设备的节点类型为中继节点时，将目标设备采集到的监测数据添加至当前监测报文中，并继续进行后续转发。在一个示例性实施例中，目标设备为交换机，指定监测网络为遥测网络，网络监测能力为带内遥测能力，指定监测网络中的网络设备采集到的监测数据为遥测数据。参考图4，图4是根据本申请实施例的一种网络数据的处理方法的架构示意图；其中，在遥测网络中，存在多个交换机作为网络的关键组成部分，每个交换机都具备通过链路层发现协议进行信息交换的功能，以及能够采集、和传输业务数据与遥测数据的能力；遥测网络中有一个或多个控制器，它们负责接收、处理和管理从交换机传输过来的遥测数据；交换机和交换机以及交换机和控制器之间通过链路层发现协议进行通信，其中，包括交换机向其他设备发送其是否具备带内遥测能力、端口信息以及控制器的相关信息；每个交换机都维护一个邻居遥测能力表，用于记录相邻节点的信息，包括它们是否具有带内遥测能力和它们的发送端口、IP地址以及控制器的距离信息；通过分析邻居遥测能力表的信息，交换机可以确定其在带内遥测网络中的节点类型和端口类型，即如果所有相邻节点都具有内部遥测能力，则将该交换机其配置为中继节点；如果至少有一个相邻节点具有内部遥测能力，则将该交换机配置为终端节点。一旦配置完成，交换机可以开始采集遥测数据并进行遥测数据传输，以进行进一步的监控和分析。根据本申请实施例的网络数据的处理方法的架构，通过链路层发现协议进行信息的交换、邻居遥测能力表的维护和节点类型的确定，实现了内部遥测网络的自适应配置，从而简化了网络管理和提高了效率，确保了遥测数据能够有效地传输到中央监控系统，为网络监测和管理提供了可靠的基础。在一个示例性实施例中，网络拓扑结构如图5所示，包括四个服务器、两个控制器以及六个交换机。在此网络拓扑中，服务器A1，A2，B1，B2用于发送与接收一般业务报文。发送与接收的方向可为服务器A1或B1发给A2或B2，反之亦然。交换机是系统的核心组件，位于服务器和服务器之间，扮演着业务数据传输的中继角色，并负责遥测数据的收集和处理。假设目前服务器A1往服务器B2发送了一个业务报文，在终端节点的交换机A1或交换机B1收到来自服务器A1或服务器B1的业务报文，将其封装成遥测报文并附加本机遥测信息后正常转发，而中继节点的交换机A2或交换机B2若收到并判断此报文为遥测报文后，在其附加上本机的遥测信息后正常转发，最后在终端节点的交换机A3或B3收到并判别出此遥测报文后，将此报文内的遥测数据分离出来并附加上本机的遥测信息后往最近的控制器A发送，最后将恢复成一般的业务报文向着服务器B2正常转发。控制器A与控制器B负责接收和处理来自交换机的遥测数据。它对数据进行解码、分析和决策，根据特定的业务逻辑执行相应的操作与展示。参考图6，图6是本申请实施例提供的另一种网络数据的处理方法的流程示意图。在步骤1中，交换机/控制器通过链路层发现协议信息传播。每个交换机与控制器都会发送LLDP信息，且LLDP信息周期发送，这种信息传播是实现自适应配置的关键步骤，它使系统能够根据网络状态自动进行配置和调整，其中包括以下关键信息：本设备的MAC地址与IP地址、是否具备带内遥测能力、控制器的IP位址、距离控制器几个hop；其中，控制器的相关信息，交换机一开始是没有的。待后续收到由控制器或者其他交换机发送的LLDP解析后得到。在步骤2中，建立/维护邻居遥测能力表。每个交换机接收到LLDP信息后，都会维护一个表格，用于记录相邻设备的关键信息，具体可参考上表1。在步骤3中，交换机节点类型确定与遥测相关设定。此步骤用于确定每个交换机在遥测网络中的节点类型，并相应地配置与遥测相关的参数，此步骤包括LLDP信息分析、节点类型判断、节点类型相关设置、定期维护等。LLDP信息分析：分析交换机已经通过LLDP协议收到了相邻设备的信息，判断这些信息包括设备是否具备内部遥测能力。节点类型判断：交换机通过分析LLDP信息中的相邻设备的能力信息来确定自己在遥测网络中的节点类型，例如，如果所有相邻节点都具备内部遥测能力，那么将该交换机配置为中继节点。如果至少有一个相邻节点具备带内遥测能力，那么将该交换机配置为终端节点。节点类型相关设置：根据交换机被确定的节点类型，配置相应的遥测相关设置，包括终端节点配置与中继节点配置。终端节点配置：如果交换机被配置为终端节点，若收到的报文为一般的业务报文，则认为此报文位于遥测首节点，将其封装成遥测报文并附加本机遥测信息后传输给中继节点；若收到的为遥测报文，则认为此报文位于遥测尾节点，将此报文内的遥测数据分离出来并附加上本机的遥测信息后往最近的控制器发送，最后将恢复成一般的业务报文正常转发。中继节点配置：如果交换机被配置为中继节点，它将被设置为接收来自终端节点的遥测数据，根据遥测报文中的策略进行数据采集并转发。控制器参数配置：设置遥测数据传输的目标地址，根据邻居遥测能力表中hop值设置，选择最近的控制器位址。定期维护：交换机定期监视LLDP信息，监测到新的相邻设备或更新的信息后会相应地更新表格，以反映网络拓扑和设备能力的变化。在步骤4中，遥测数据传输。根据以上的遥测设定运行遥测任务，最终从终端节点采集的遥测数据传输到控制器进行传统遥测数据的分析应用。通过本申请提供的上述实施例，通过LLDP信息的交换和自动节点类型判断，实现了内部遥测网络的自动配置，减少了手动配置的工作，降低了配置错误的风险，提高了网络的可靠性。由于交换机能够自动适应网络拓扑和相邻设备的变化，系统能够更迅速地适应新设备的接入或网络拓扑的变动，提高了系统的灵活性和适应性。且自动化配置适用于大规模内部遥测网络的部署，因为它的自动化特性可以轻松管理大量的交换机和控制器，而无需复杂的手动配置。在这里，自动配置和数据传输机制确保了遥测数据的可靠传输和处理，对于监测和控制关键系统至关重要。本申请实施例的架构允许系统在需要时灵活地添加新的设备和控制器，而无需重新设计整个网络，且通过选择最近的控制器将遥测数据传输路径优化到最佳状态。这降低了数据传输的延迟和网络负载，提高了资源利用率；适用于大规模部署和需要灵活性的网络环境。本申请实施例可以引入多云环境，扩展和管理带内遥测网络，以实现对多云资源的监测和控制。此外，利用遥测数据来实现自动化的网络性能优化和负载均衡，以满足不同应用的需求。传统配置需要根据拓扑来确定交换机在内部遥测网络中的节点能力，以启用终端节点或中继节点，并配置遥测信息的控制器地址。这些手动配置过程通常耗时且容易出错，难以快速适应环境变化，尤其在大规模部署的情况下，每台交换机都需要手动配置，工作量巨大。本申请实施例旨在解决内部遥测网络配置的复杂性，简化内部遥测网络的配置，使其能够自适应地适应网络变化，降低管理员的工作量。需要说明的是，对于前述的各方法实施例，为了简单描述，故将其都表述为一系列的动作组合，但是本领域技术人员应该知悉，本申请并不受所描述的动作顺序的限制，因为依据本申请，某些步骤可以采用其他顺序或者同时进行。其次，本领域技术人员也应该知悉，说明书中所描述的实施例均属于优选实施例，所涉及的动作和模块并不一定是本申请所必须的。根据本申请实施例的另一方面，还提供了一种网络数据的处理装置，该装置用于实现上述实施例中所提供的网络数据的处理方法，已经进行过说明的不再赘述。如以下所使用的，术语“模块”可以实现预定功能的软件和/或硬件的组合。尽管以下实施例所描述的装置较佳地以软件来实现，但是硬件，或者软件和硬件的组合的实现也是可能并被构想的。图7是根据本申请实施例的一种网络数据的处理装置的结构框图，如图7所示，该装置包括：获取单元702，用于获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，其中，网络监测能力信息用于标识对应的网络设备是否具备在指定监测网络中的网络监测能力；确定单元704，用于根据每个相邻设备的网络监测能力信息，从预设的一组节点类型中确定目标设备的节点类型，其中，一组节点类型为目标设备在指定监测网络中允许配置为的节点类型；控制单元706，用于基于确定的目标设备的节点类型，控制目标设备对指定监测网络中的监测数据进行处理。需要说明的是，该实施例中的获取单元702可以用于执行上述步骤S202，该实施例中的确定单元704可以用于执行上述步骤S204，该实施例中的控制单元706可以用于执行上述步骤S206。通过本申请实施例，获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息，其中，网络监测能力信息用于标识对应的网络设备是否具备在指定监测网络中的网络监测能力；根据每个相邻设备的网络监测能力信息，从预设的一组节点类型中确定目标设备的节点类型，其中，一组节点类型为目标设备在指定监测网络中允许配置为的节点类型；基于确定的目标设备的节点类型，控制目标设备对指定监测网络中的监测数据进行处理。从而实现了网络设备的自动配置，减少了手动配置的工作，提高了数据的可靠性；进而解决了相关技术中网络数据的处理方法存在网络设备配置复杂且容易出错的技术问题。在一个示例性实施例中，获取单元包括：读取模块，用于从目标设备的相邻设备信息表中读取每个相邻设备的网络监测能力信息，其中，相邻设备信息表的每个信息项用于记录目标设备的一个相邻设备的一组指定参数的参数信息，一组指定参数包含网络监测能力参数，网络监测能力参数的参数信息为网络监测能力信息。在一个示例性实施例中，上述装置还包括：第一接收单元，用于在从目标设备的相邻设备信息表中读取出每个相邻设备的网络监测能力信息之前，从目标设备上与第一相邻设备对应的网络端口接收第一相邻设备发送的第一设备信息，其中，第一相邻设备为一组相邻设备中的任一设备；第一提取单元，用于按照一组指定参数对第一设备信息进行信息提取，得到第一相邻设备的一组指定参数的参数信息；记录单元，用于在相邻设备信息表中不存在与第一相邻设备对应的信息项的情况下，将提取的第一相邻设备的一组指定参数的参数信息记录到相邻设备信息表中，得与第一相邻设备对应的信息项；使用单元，用于在相邻设备信息表中存在与第一相邻设备对应的信息项的情况下，使用提取的第一相邻设备的一组指定参数的参数信息更新与第一相邻设备对应的信息项。在一个示例性实施例中，第一接收单元包括：第一接收模块，用于从目标设备上与第一相邻设备对应的网络端口接收第一相邻设备发送的链路层发现协议LLDP信息，其中，第一设备信息为LLDP信息。在一个示例性实施例中，一组指定参数包含控制器地址以及控制器距离参数，其中，控制器地址是指定监测网络中，与对应的网络设备距离最近的控制器的互联网协议IP地址 ，控制器地址的参数信息为控制器地址信息，控制器距离参数是指定监测网络中，对应的网络设备距离与对应的网络设备距离最近的控制器的跳数，控制器距离参数的参数信息为控制器跳数值，目标设备的控制器地址信息为目标地址信息，目标设备的控制器跳数值为目标跳数值；上述装置还包括：生成单元，用于在获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息之前，生成与目标设备对应的第二设备信息，其中，第二设备信息包含目标设备的网络监测能力信息、目标地址信息以及目标跳数值；第一发送单元，用于通过目标设备上与每个相邻设备对应的网络端口将第二设备信息发送给每个相邻设备。在一个示例性实施例中，上述装置还包括：第二确定单元，用于在生成与目标设备对应的第二设备信息之前，确定相邻设备信息表中记录的第一信息项，其中，第一信息项为相邻设备信息表的记录项中，记录的控制器跳数值最小的信息项；第三确定单元，用于将第一信息项所记录的控制器地址信息确定为目标地址信息，以及将第一信息项所记录的跳数值加1所得到的跳数值确定为目标跳数值。在一个示例性实施例中，上述装置还包括：第二接收单元，用于在生成与目标设备对应的第二设备信息之前，接收第一控制器发送的目标控制器信息，其中，目标控制器信息中包含第一控制器的IP地址信息，第一控制器为目标设备的一个相邻设备；第四确定单元，用于将第一控制器的IP地址信息确定为目标地址信息，以及将指定跳数值确定为目标跳数值。在一个示例性实施例中，上述装置还包括：第三接收单元，用于在获取目标设备的一组相邻设备中的每个相邻设备的网络监测能力信息之前，接收第二控制器下发的目标流表项，其中，目标流表项用于指示目标设备的一组相邻设备。在一个示例性实施例中，上述装置还包括：第四接收单元，用于在接收第二控制器下发的目标流表项之前，接收第二相邻设备发送的携带有第一数据包的第一指示消息，其中，第二相邻设备为与目标设备相邻的一个网络设备，第一指示消息用于指示目标设备向第二控制器发送携带有第一数据包的响应消息；第二发送单元，用于响应于接收到的第一指示消息，向第二控制器发送携带有第一数据包的响应消息，以由第二控制器基于接收到的携带有第一数据包的响应消息确定第二相邻设备与目标设备之间存在相邻关系。在一个示例性实施例中，第一数据包为第一链路层发现协议LLDP数据包，上第二发送单元包括：发送模块，用于响应于接收到的第一指示消息，向第二控制器发送携带有第一LLDP数据包的响应消息。在一个示例性实施例中，上述装置还包括：第五接收单元，用于在接收第二控制器下发的目标流表项之前，接收第二控制器发送的携带有第二数据包的第二指示消息，其中，第二指示消息用于指示目标设备通过目标设备上的网络端口向目标设备的对端设备发送第二数据包；第三发送单元，响应于接收到的第二指示消息，通过目标设备上的网络端口向对端设备发送第三指示消息，其中，第三指示消息用于指示对端设备向第二控制器发送携带有第二数据包的响应消息，以由第二控制器基于接收到的携带有第二数据包的响应消息确定目标设备与对端设备之间存在相邻关系。在一个示例性实施例中，第二数据包为第二链路层发现协议LLDP数据包，第五接收单元包括：第二接收模块，用于接收第二控制器发送的携带有第二LLDP数据包的第二指示消息。在一个示例性实施例中，确定单元包括：第一确定模块，用于在根据每个相邻设备的网络监测能力信息确定一组相邻设备中的部分相邻设备具备网络监测能力的情况下，确定目标设备的节点类型为终端节点，其中，一组节点类型包括终端节点；第二确定模块，用于在根据每个相邻设备的网络监测能力信息确定每个相邻设备均具备网络监测能力的情况下，确定目标设备的节点类型为中继节点，其中，一组节点类型包括中继节点。在一个示例性实施例中，一组节点类型包括终端节点，控制单元包括：第一采集模块，用于在目标设备的节点类型为终端节点的情况下，通过目标设备进行监测数据采集；封装模块，用于在目标设备接收到第一业务报文的情况下，将第一业务报文封装为第一监测报文，并在指定监测网络中转发第一监测报文，其中，第一监测报文中携带有目标设备采集到的第一监测数据。在一个示例性实施例中，上述装置还包括：第二提取单元，用于在目标设备接收到第二监测报文的情况下，从第二监测报文中提取出第二监测报文中携带的第二监测数据，并将第二监测报文恢复为第二业务报文；转发单元，用于将第二监测数据和目标设备采集到的监测数据一起发送到指定监测网络中的目标控制器，并基于第二业务报文的目的地址转发第二业务报文。在一个示例性实施例中，上述装置还包括：第五确定单元，用于在将第二监测数据和目标设备采集到的监测数据一起发送到指定监测网络中的目标控制器之前，在目标设备与指定监测网络中的一个控制器相邻的情况下，将与目标设备相邻的控制器，确定为目标控制器；第六确定单元，用于在目标设备未与指定监测网络中的任一控制器相邻的情况下，从一组相邻设备中确定出目标相邻设备，其中，目标相邻设备为一组相邻设备中，与指定监测网络中的控制器距离最近的相邻设备；第七确定单元，用于将指定监测网络中，与目标相邻设备距离最近的控制器，确定为目标控制器。在一个示例性实施例中，目标设备具有相邻设备信息表，相邻设备信息表中的每个信息项用于记录目标设备的一个相邻设备的一组指定参数的参数信息，一组指定参数包含控制器距离参数，其中，控制器距离参数是指定监测网络中，对应的网络设备距离与对应的网络设备距离最近的控制器的跳数，控制器距离参数的参数信息为控制器跳数值；第六单元包括：记录模块，用于在目标设备未与指定监测网络中的任一控制器相邻的情况下，查找相邻设备信息表中，记录的控制器跳数值最小的信息项，得到第二信息项；第三确定模块，用于将一组相邻设备中与第二信息项对应的相邻设备确定为目标相邻设备。在一个示例性实施例中，一组节点类型包括中继节点，控制单元包括：第二采集模块，用于在目标设备的节点类型为中继节点的情况下，通过目标设备进行监测数据采集；更新模块，用于在目标设备接收到第三监测报文的情况下，将目标设备采集到的监测数据添加到第三监测报文中，得到更新后的第三监测报文，并在指定监测网络中转发更新后的第三监测报文。在一个示例性实施例中，目标设备为交换机，指定监测网络为遥测网络，网络监测能力为带内遥测能力，指定监测网络中的网络设备采集到的监测数据为遥测数据。根据本申请实施例的又一方面，还提供了一种计算机可读存储介质，该计算机可读存储介质中存储有计算机程序，其中，该计算机程序被设置为运行时执行上述任一项方法实施例中的步骤。在一个示例性实施例中，上述计算机可读存储介质可以包括但不限于：U盘、只读存储器、随机存取存储器、移动硬盘、磁碟或者光盘等各种可以存储计算机程序的介质。根据本申请的一个方面，提供了一种计算机程序产品，该计算机程序产品包括计算机程序/指令，该计算机程序/指令包含用于执行流程图所示的方法的程序代码。在这样的实施例中，参考图8，该计算机程序可以通过通信部分809从网络上被下载和安装，和/或从可拆卸介质811被安装。在该计算机程序被中央处理器801执行时，执行本申请实施例提供的各种功能。上述本申请实施例序号仅仅为了描述，不代表实施例的优劣。参考图8，图8是根据本申请实施例的一种可选的电子设备的计算机系统的结构框图。图8示意性地示出了用于实现本申请实施例的电子设备的计算机系统结构框图。如图8所示，计算机系统800包括中央处理器801，其可以根据存储在只读存储器802中的程序或者从存储部分808加载到随机访问存储器803中的程序而执行各种适当的动作和处理。在随机访问存储器803中，还存储有系统操作所需的各种程序和数据。中央处理器801、在只读存储器802以及随机访问存储器803通过总线804彼此相连。输入/输出接口805也连接至总线804。以下部件连接至输入/输出接口805：包括键盘、鼠标等的输入部分806；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分807；包括硬盘等的存储部分808；以及包括诸如局域网卡、调制解调器等的网络接口卡的通信部分809。通信部分809经由诸如因特网的网络执行通信处理。驱动器810也根据需要连接至输入/输出接口805。可拆卸介质811，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器810上，以便于从其上读出的计算机程序根据需要被安装入存储部分808。特别地，根据本申请的实施例，各个方法流程图中所描述的过程可以被实现为计算机软件程序。例如，本申请的实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信部分809从网络上被下载和安装，和/或从可拆卸介质811被安装。在该计算机程序被中央处理器801执行时，执行本申请的系统中限定的各种功能。需要说明的是，图8示出的电子设备的计算机系统800仅是一个示例，不应对本申请实施例的功能和使用范围带来任何限制。根据本申请实施例的又一方面，还提供了一种电子设备，包括存储器和处理器，该存储器中存储有计算机程序，该处理器被设置为运行计算机程序以执行上述任一项方法实施例中的步骤。在一个示例性实施例中，上述电子设备还可以包括传输设备以及输入输出设备，其中，该传输设备和上述处理器连接，该输入输出设备和上述处理器连接。本实施例中的具体示例可以参考上述实施例及示例性实施方式中所描述的示例，本实施例在此不再赘述。显然，本领域的技术人员应该明白，上述的本申请实施例的各模块或各步骤可以用通用的计算装置来实现，它们可以集中在单个的计算装置上，或者分布在多个计算装置所组成的网络上，它们可以用计算装置可执行的程序代码来实现，从而，可以将它们存储在存储装置中由计算装置来执行，并且在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤，或者将它们分别制作成各个集成电路模块，或者将它们中的多个模块或步骤制作成单个集成电路模块来实现。这样，本申请实施例不限制于任何特定的硬件和软件结合。以上仅为本申请的优选实施例而已，并不用于限制本申请实施例，对于本领域的技术人员来说，本申请实施例可以有各种更改和变化。凡在本申请实施例的原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请实施例的保护范围之内。
