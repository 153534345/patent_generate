标题title
一种基于数据融合的电力系统概率潮流计算方法及系统
摘要abst
本申请涉及电力系统领域，尤其涉及一种基于数据融合的电力系统概率潮流计算方法及系统，方法包括：获取当前时间段内电力系统的系统状态，所述系统状态包括所述当前时间段内光伏出力、风力出力和负载的时间序列；将所述系统状态输入训练完毕的概率潮流模型，输出下一个相邻时间段的概率潮流计算结果，所述概率潮流计算结果包括下一个相邻时间段内节点电压和支路功率的均值和方差。通过本申请的技术方案，能够提高电力系统中概率潮流计算结果的准确性。
权利要求书clms
1.一种基于数据融合的电力系统概率潮流计算方法，其特征在于，包括：获取当前时间段内电力系统的系统状态，所述系统状态包括所述当前时间段内光伏出力、风力出力和负载的时间序列；将所述系统状态输入训练完毕的概率潮流模型，输出下一个相邻时间段的概率潮流计算结果，所述概率潮流计算结果包括下一个相邻时间段内节点电压和支路功率的均值和方差；其中，所述概率潮流模型的训练方法包括：依据所述电力系统的拓扑结构获取每个计算目标的结构特征和元器件连接向量，所述元器件连接向量包括对应计算目标与电力系统中元器件的连接关系，所述计算目标包括节点和支路；采集连续多个历史时间段的系统状态样本、概率潮流标签和元器件状态，所述元器件状态包括所述电力系统的每个元器件的运行状态；对于一个历史时间段，将系统状态样本输入概率潮流模型，对所述系统状态样本进行时序特征提取，得到所述历史时间段的时序特征，基于所述时序特征预测下一个相邻历史时间段的时序预测特征；对所述时序预测特征进行维度变换，以输出下一个相邻历史时间段的概率潮流预测结果；搭建训练辅助模型，在所述训练辅助模型中，基于时序差值特征更新所述历史时间段的元器件状态以输出下一个相邻历史时间段的元器件预测状态，并基于计算目标的结构特征、元器件连接向量以及所述元器件预测状态构建下一个相邻历史时间段内每个计算目标的实时特征，其中，所述时序差值特征为所述时序特征和所述时序预测特征的差；基于所述概率潮流模型和所述训练辅助模型计算损失函数值，所述损失函数值满足关系式：其中，为所述时序预测特征，/＞为下一个相邻历史时间段的时序特征，/＞为所述概率潮流预测结果，/＞为下一个相邻历史时间段的概率潮流标签，/＞为所述元器件预测状态，/＞为下一个相邻历史时间段的元器件状态，/＞和/＞分别为概率潮流预测结果/＞中第/＞个计算目标和第/＞个计算目标对应的均值和方差，/＞和/＞分别为下一个相邻历史时间段内第/＞个计算目标和第/＞个计算目标的实时特征，/＞为所有计算目标的数量，/＞为损失函数值；利用梯度下降法更新所述概率潮流模型和所述训练辅助模型，完成一次训练；迭代的训练所述概率潮流模型，直至所述损失函数值小于设定值时，得到训练完毕的概率潮流模型。2.根据权利要求1所述的一种基于数据融合的电力系统概率潮流计算方法，其特征在于，所述概率潮流模型包括时序特征提取层、第一全连接层和第二全连接层；所述时序特征提取层用于对当前时间段的系统状态进行时序特征提取，获取当前时间段内的时序特征；所述第一全连接层用于对所述时序特征进行第一次维度变换，以预测下一个相邻时间段内的时序预测特征；所述第二全连接层用于对所述时序预测特征进行第二次维度变换，输出下一个相邻时间段的概率潮流计算结果。3.根据权利要求2所述的一种基于数据融合的电力系统概率潮流计算方法，其特征在于，所述时序特征的尺寸为M行1列；所述第一全连接层包括第一输入层、第一隐藏层和第一输出层；所述第一输入层包括M个神经元，用于接收所述时序特征提取层输出的时序特征；所述第一隐藏层中神经元的数量不等于M，用于对所述时序特征进行维度变换；所述第一输出层包括M个神经元，用于对所述第一隐藏层的输出结果再次进行维度变换，输出下一个相邻时间段内的时序预测特征，其中，所述时序预测特征的尺寸为M行1列。4.根据权利要求3所述的一种基于数据融合的电力系统概率潮流计算方法，其特征在于，所述第二全连接层包括第二输入层、至少一个第二隐藏层和第二输出层；所述第二输入层包括M个神经元，用于接收所述第一全连接层输出的时序预测特征；所述第二隐藏层用于对所述时序预测特征进行多次维度变换，其中维度变换的次数与第二隐藏层的数量相同；第二输出层包括2N个神经元，用于对第二隐藏层的输出结果再次进行维度变换，输出下一个相邻时间段的概率潮流计算结果；其中N为所述电力系统中所有节点和分支的总数，概率潮流计算结果的尺寸为2N行1列，一个节点对应节点电压的均值和方差，一个支路对应支路功率的均值和方差。5.根据权利要求1所述的一种基于数据融合的电力系统概率潮流计算方法，其特征在于，依据所述电力系统的拓扑结构获取每个计算目标的结构特征和元器件连接向量包括：对于所述拓扑结构中的一个节点，依据图嵌入算法获取所述节点的嵌入向量，所述嵌入向量对应于所述节点的结构特征；对于所述拓扑结构中的一个元器件，响应于所述元器件连接于所述节点相连，将所述元器件的连接状态标记为1，响应于所述元器件不连接于所述节点，将所述元器件的连接状态标记为0；遍历所述拓扑结构中的所有元器件，得到所述节点的元器件连接向量，所述元器件连接向量包括所有元器件的连接状态；对于所述拓扑结构中的一个支路，获取连接于所述支路的所有节点，将所有节点的结构特征之和作为所述支路的结构特征，并将所有节点的元器件连接向量的并集作为所述支路的元器件连接向量。6.根据权利要求1所述的一种基于数据融合的电力系统概率潮流计算方法，其特征在于，所述训练辅助模型包括第三全连接层，所述第三全连接层包括第三输入层、至少一个第三隐藏层和至少一个第三输出层；所述第三输入层包括B个神经元，用于接收一个历史时间段的元器件状态，B为电力系统中所有元器件的总数；所述第三隐藏层对元器件状态进行多次降维操作以获取元器件降维状态，所述元器件降维状态的维度等于所述时序差值特征的维度，并将所述元器件降维状态与所述时序差值特征的和作为输出结果；所述第三输出层用于对第三隐藏层的输出结果进行多次升维操作，得到下一个相邻历史时间段的元器件预测状态；其中，所述降维操作的次数与第三隐藏层的数量相同，所述升维操作的次数与第三输出层的数量相同。7.根据权利要求6所述的一种基于数据融合的电力系统概率潮流计算方法，其特征在于，所述基于计算目标的结构特征、元器件连接向量以及所述元器件预测状态构建下一个相邻历史时间段内每个计算目标的实时特征包括：对于一个计算目标，获取所述计算目标的元器件连接向量，将所述元器件连接向量与所述元器件预测状态相乘，得到所述计算目标的元器件实时特征；将所述计算目标的结构特征与所述元器件实时特征进行拼接，得到所述计算目标在下一个相邻历史时间段内的实时特征。8.根据权利要求1所述的一种基于数据融合的电力系统概率潮流计算方法，其特征在于，所述下一个相邻历史时间段的时序特征的获取方法包括：将下一个相邻历史时间段的系统状态样本输入所述时序特征提取层，输出下一个相邻历史时间段的时序特征。9.一种基于数据融合的电力系统概率潮流计算系统，其特征在于，包括处理器和存储器，所述存储器存储有计算机程序指令，当所述计算机程序指令被所述处理器执行时实现根据权利要求1至8中任一项所述的基于数据融合的电力系统概率潮流计算方法。
说明书desc
技术领域本申请一般地涉及电力系统技术领域，尤其涉及一种基于数据融合的电力系统概率潮流计算方法及系统。背景技术概率潮流计算能够反映电力系统中各种因素随机变化对系统运行的影响，综合考虑电力系统网络拓扑结构、元件参数、节点负荷等变量变化的不确定情况，是电力系统规划和安全可靠分析的重要工具。随着光伏发电、风力发电等新能源的兴起，电力系统中汇入了大量新能源输出的功率，但光伏发电的输出功率受太阳辐射强度的影响较大，风力发电的输出功率受风速的影响较大，导致电力系统中变量变化的不确定性增强，如何得到准确的概率潮流计算结果，确定电力系统中各节点和支路的用电参数的分布情况，是亟待解决的问题。目前，公开号为CN108336739A的专利申请文件公开了一种基于RBF神经网络的概率潮流在线计算方法，采用蒙特卡洛法或改进蒙特卡洛法对待计算概率潮流的电力系统的随机变量进行抽样，从而获取计算样本；并将计算样本输入训练完成的RBF神经网络概率潮流模型中，判断计算样本的潮流可解性；当计算样本可解时，将RBF神经网络概率潮流模型输出变量的均值、方差和概率分布作为概率潮流计算结果，其中输出变量包括电力系统所有节点的电压幅值和相角、各支路有功功率和无功功率。然而，上述方法解决了能够得到概率潮流计算结果，但不同时刻电力系统的随机变量是不断变化的，忽略了随机变量在不同时间段的变化对电力系统中电气参数的影响，导致概率潮流计算结果不准确。发明内容为了解决本申请的上述技术问题，本申请提供了一种基于数据融合的电力系统概率潮流计算方法及系统，提高电力系统中概率潮流计算结果的准确性。根据本申请的第一方面，提供了一种基于数据融合的电力系统概率潮流计算方法，包括：获取当前时间段内电力系统的系统状态，所述系统状态包括所述当前时间段内光伏出力、风力出力和负载的时间序列；将所述系统状态输入训练完毕的概率潮流模型，输出下一个相邻时间段的概率潮流计算结果，所述概率潮流计算结果包括下一个相邻时间段内节点电压和支路功率的均值和方差；其中，所述概率潮流模型的训练方法包括：依据所述电力系统的拓扑结构获取每个计算目标的结构特征和元器件连接向量，所述元器件连接向量包括对应计算目标与电力系统中元器件的连接关系，所述计算目标包括节点和支路；采集连续多个历史时间段的系统状态样本、概率潮流标签和元器件状态，所述元器件状态包括所述电力系统的每个元器件的运行状态；对于一个历史时间段，将系统状态样本输入概率潮流模型，对所述系统状态样本进行时序特征提取，得到所述历史时间段的时序特征，基于所述时序特征预测下一个相邻历史时间段的时序预测特征；对所述时序预测特征进行维度变换，以输出下一个相邻历史时间段的概率潮流预测结果；搭建训练辅助模型，在所述训练辅助模型中，基于时序差值特征更新所述历史时间段的元器件状态以输出下一个相邻历史时间段的元器件预测状态，并基于计算目标的结构特征、元器件连接向量以及所述元器件预测状态构建下一个相邻历史时间段内每个计算目标的实时特征，其中，所述时序差值特征为所述时序特征和所述时序预测特征的差；基于所述概率潮流模型和所述训练辅助模型计算损失函数值，所述损失函数值满足关系式：其中，为所述时序预测特征，/＞为下一个相邻历史时间段的时序特征，/＞为所述概率潮流预测结果，/＞为下一个相邻历史时间段的概率潮流标签，/＞为所述元器件预测状态，/＞为下一个相邻历史时间段的元器件状态，/＞和/＞分别为概率潮流预测结果/＞中第/＞个计算目标和第/＞个计算目标对应的均值和方差，/＞和/＞分别为下一个相邻历史时间段内第/＞个计算目标和第/＞个计算目标的实时特征，/＞为所有计算目标的数量，/＞为损失函数值；利用梯度下降法更新所述概率潮流模型和所述训练辅助模型，完成一次训练；迭代的训练所述概率潮流模型，直至所述损失函数值小于设定值时，得到训练完毕的概率潮流模型。在一个实施例中，所述概率潮流模型包括时序特征提取层、第一全连接层和第二全连接层；所述时序特征提取层用于对当前时间段的系统状态进行时序特征提取，获取当前时间段内的时序特征；所述第一全连接层用于对所述时序特征进行第一次维度变换，以预测下一个相邻时间段内的时序预测特征；所述第二全连接层用于对所述时序预测特征进行第二次维度变换，输出下一个相邻时间段的概率潮流计算结果。在一个实施例中，所述时序特征的尺寸为M行1列；所述第一全连接层包括第一输入层、第一隐藏层和第一输出层；所述第一输入层包括M个神经元，用于接收所述时序特征提取层输出的时序特征；所述第一隐藏层中神经元的数量不等于M，用于对所述时序特征进行维度变换；所述第一输出层包括M个神经元，用于对所述第一隐藏层的输出结果再次进行维度变换，输出下一个相邻时间段内的时序预测特征，其中，所述时序预测特征的尺寸为M行1列。在一个实施例中，所述第二全连接层包括第二输入层、至少一个第二隐藏层和第二输出层；所述第二输入层包括M个神经元，用于接收所述第一全连接层输出的时序预测特征；所述第二隐藏层用于对所述时序预测特征进行多次维度变换，其中维度变换的次数与第二隐藏层的数量相同；第二输出层包括2N个神经元，用于对第二隐藏层的输出结果再次进行维度变换，输出下一个相邻时间段的概率潮流计算结果；其中N为所述电力系统中所有节点和分支的总数，概率潮流计算结果的尺寸为2N行1列，一个节点对应节点电压的均值和方差，一个支路对应支路功率的均值和方差。在一个实施例中，依据所述电力系统的拓扑结构获取每个计算目标的结构特征和元器件连接向量包括：对于所述拓扑结构中的一个节点，依据图嵌入算法获取所述节点的嵌入向量，所述嵌入向量对应于所述节点的结构特征；对于所述拓扑结构中的一个元器件，响应于所述元器件连接于所述节点相连，将所述元器件的连接状态标记为1，响应于所述元器件不连接于所述节点，将所述元器件的连接状态标记为0；遍历所述拓扑结构中的所有元器件，得到所述节点的元器件连接向量，所述元器件连接向量包括所有元器件的连接状态；对于所述拓扑结构中的一个支路，获取连接于所述支路的所有节点，将所有节点的结构特征之和作为所述支路的结构特征，并将所有节点的元器件连接向量的并集作为所述支路的元器件连接向量。在一个实施例中，所述训练辅助模型包括第三全连接层，所述第三全连接层包括第三输入层、至少一个第三隐藏层和至少一个第三输出层；所述第三输入层包括B个神经元，用于接收一个历史时间段的元器件状态，B为电力系统中所有元器件的总数；所述第三隐藏层对元器件状态进行多次降维操作以获取元器件降维状态，所述元器件降维状态的维度等于所述时序差值特征的维度，并将所述元器件降维状态与所述时序差值特征的和作为输出结果；所述第三输出层用于对第三隐藏层的输出结果进行多次升维操作，得到下一个相邻历史时间段的元器件预测状态；其中，所述降维操作的次数与第三隐藏层的数量相同，所述升维操作的次数与第三输出层的数量相同。在一个实施例中，所述基于计算目标的结构特征、元器件连接向量以及所述元器件预测状态构建下一个相邻历史时间段内每个计算目标的实时特征包括：对于一个计算目标，获取所述计算目标的元器件连接向量，将所述元器件连接向量与所述元器件预测状态相乘，得到所述计算目标的元器件实时特征；将所述计算目标的结构特征与所述元器件实时特征进行拼接，得到所述计算目标在下一个相邻历史时间段内的实时特征。在一个实施例中，所述下一个相邻历史时间段的时序特征的获取方法包括：将下一个相邻历史时间段的系统状态样本输入所述时序特征提取层，输出下一个相邻历史时间段的时序特征。本申请还提供了一种基于数据融合的电力系统概率潮流计算系统，包括处理器和存储器，所述存储器存储有计算机程序指令，当所述计算机程序指令被所述处理器执行时实现根据本申请第一方面所述的基于数据融合的电力系统概率潮流计算方法。本申请的技术方案具有以下有益技术效果：通过本申请提供的技术方案，首先依据电力系统的拓扑结构计算每个节点和支路的静态特征，该静态特征包括结构特征和元器件连接向量；在训练概率潮流模型的过程中，依据历史时间段的系统状态样本获取历史时间段的时序特征，并预测下一个相邻历史时间段的时序预测特征，对时序预测特征进行特征提取以预测下一个相邻历史时间段的概率潮流预测结果；进一步的，在训练辅助模型中，依据时序特征和时序预测特征的差值更新历史时间段的元器件状态，得到下一个相邻历史时间段的元器件预测状态，依据元器件预测状态可准确获取下一个相邻历史时间段内每个节点和支路的实时特征；进一步，同一时间段内，实时特征相同的节点和支路，其在概率潮流预测结果中的数值也应相同，故依据时序预测特征、概率潮流预测结果以及每个节点和支路的实时特征计算损失函数值，以约束概率潮流模型能够输出准确的概率潮流计算结果；依据训练完毕的概率潮流模型能输出下一个相连时间段的概率潮流计算结果，提高概率潮流计算结果的准确性。附图说明通过参考附图阅读下文的详细描述，本申请示例性实施方式的上述以及其他目的、特征和优点将变得易于理解。在附图中，以示例性而非限制性的方式示出了本申请的若干实施方式，并且相同或对应的标号表示相同或对应的部分，其中：图1是根据本申请实施例的基于数据融合的电力系统概率潮流计算方法的流程图；图2是根据本申请实施例的概率潮流模型的结构示意图；图3是根据本申请实施例的第一全连接层的结构示意图；图4是根据本申请实施例的第二全连接层的结构示意图；图5是根据本申请实施例的概率潮流模型的训练方法的流程图；图6是根据本申请实施例的训练辅助模型的结构示意图；图7是根据本申请实施例的第三全连接层的结构示意图；图8是根据本申请实施例的基于数据融合的电力系统概率潮流计算系统的框图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。应当理解，当本申请的权利要求、说明书及附图使用术语“第一”、“第二”等时，其仅是用于区别不同对象，而不是用于描述特定顺序。本申请的说明书和权利要求书中使用的术语“包括”和“包含”指示所描述特征、整体、步骤、操作、元素和/或组件的存在，但并不排除一个或多个其它特征、整体、步骤、操作、元素、组件和/或其集合的存在或添加。根据本申请的第一方面，本申请提供了一种基于数据融合的电力系统概率潮流计算方法。图1是根据本申请实施例的基于数据融合的电力系统概率潮流计算方法的流程图。如图1所示，所述电力系统概率潮流计算方法包括步骤S101至S102，以下详细说明。S101，获取当前时间段内电力系统的系统状态，所述系统状态包括所述当前时间段内光伏出力、风力出力和负载的时间序列。在一个实施例中，时间段的长度可预先设定，本申请实施例中，设定时间段的长度为1小时，即每一个小时输出一个概率潮流计算结果。采集当前时间段内光伏出力、风力出力和负载的时间序列，得到当前时间段内的电力系统的系统状态，所述系统状态用于反映电力系统中的供电情况和用电情况。其中，光伏出力为光伏发电系统汇入到电力系统中的输出功率，风力出力为电力系统中风力发电系统汇入到电力系统中的输出功率。示例性地，若将时间序列中相邻数据之间的时间间隔设为1分钟，则当前时间段内电力系统的系统状态为3行60列的矩阵，3行分别对应光伏出力、风力出力和负载的时间序列。S102，将所述系统状态输入训练完毕的概率潮流模型，输出下一个相邻时间段的概率潮流计算结果，所述概率潮流计算结果包括下一个相邻时间段内节点电压和支路功率的均值和方差。在一个实施例中，将系统状态输入训练完毕的概率潮流模型，输出下一个相邻时间段的概率潮流计算结果，概率潮流计算结果包括电力系统中每一个节点电压的方差和均值，以及每一个支路功率的方差和均值。可以理解地，对于电力系统中的一个节点而言，得到下一个相邻时间段内节点电压的均值和方差即可确定下一个相邻时间段内该节点电压的概率分布，节点电压的概率分布满足高斯分布；同理，可确定下一个相邻时间段内每一个支路功率的概率分布。在一个实施例中，请参见图2，是根据本申请实施例的概率潮流模型的结构示意图。所述概率潮流模型包括时序特征提取层21、第一全连接层22和第二全连接层23；所述时序特征提取层21对当前时间段的系统状态进行时序特征提取，获取当前时间段内的时序特征；所述第一全连接层22对时序特征进行第一次维度变换，以预测下一个相邻时间段内的时序预测特征；所述第二全连接层23对所述时序预测特征进行第二次维度变换，输出下一个相邻时间段的概率潮流计算结果，所述概率潮流计算结果包括下一个相邻时间段内节点电压和支路功率的均值和方差。其中，时序特征提取层21可采用LSTM、BERT或Transformer等任意一种现有的时序特征提取网络，本申请不做限制，将时序特征提取层21输出的时序特征的尺寸记为M行1列，其中，M与时序特征提取层21的具体结构有关。其中，请参见图3，是根据本申请实施例的第一全连接层的结构示意图。所述第一全连接层22包括第一输入层221、第一隐藏层222和第一输出层223；所述第一输入层221包括M个神经元，用于接收时序特征提取层21输出的时序特征；第一隐藏层222中神经元的数量不等于M，用于对时序特征进行维度变换，变换后时序特征的维度与第一隐藏层222中神经元的数量相同；第一输出层223中神经元的数量同样为M，用于对第一隐藏层222的输出结果再次进行维度变换，输出下一个相邻时间段内的时序预测特征，其中，时序预测特征的尺寸同样为M行1列。需要说明的是，第一隐藏层222中神经元的数量大于或等于M，本申请不做限制。其中，请参见图4，是根据本申请实施例的第二全连接层的结构示意图。所述第二全连接层23包括第二输入层231、至少一个第二隐藏层232和第二输出层233；所述第二输入层231包括M个神经元，用于接收第一全连接层22输出的时序预测特征；第二隐藏层232的数量以及每个第二隐藏层232中神经元的数量不做限制，用于对时序特征进行多次维度变换，其中维度变换的次数与第二隐藏层232的数量相同；第二输出层233中神经元的数量为2N，用于对第二隐藏层232的输出结果再次进行维度变换，输出下一个相邻时间段的概率潮流计算结果，其中，N为电力系统中所有节点和分支的总数，概率潮流计算结果的尺寸为2N行1列，一个节点对应节点电压的均值和方差，一个支路对应支路功率的均值和方差。如此，基于训练完毕的概率潮流模型，可基于当前时间段内电力系统的系统状态，预测下一个相邻时间段的概率潮流计算结果。在一个实施例中，图5是根据本申请实施例的概率潮流模型的训练方法的流程图。如图5所示，所述训练方法包括步骤S201至S207，以下详细说明。S201，依据所述电力系统的拓扑结构获取每个计算目标的结构特征和元器件连接向量，所述元器件连接向量包括对应计算目标与电力系统中元器件的连接关系，所述计算目标包括节点和支路。在一个实施例中，电力系统的拓扑结构包括发电机、断路器、电动机等所有元器件，以及任意元器件之间的连接关系，其中任意元器件之间通过电线连接；在电力系统中，没有分支的一段电线称为一条支路，3条及3条以上支路的相交点为节点，通过电力系统的拓扑结构可获取电力系统所有的节点和分支。可以理解地，对于拓扑结构中的一个节点，可以获取该节点与电力系统中元器件和其他节点之间的连接关系，即拓扑结构可视为一个图结构，所述图结构包括了任意节点之间，以及节点和元器件之间的连接关系。具体地，依据所述电力系统的拓扑结构获取每个计算目标的结构特征和元器件连接向量包括：对于所述拓扑结构中的一个节点，依据图嵌入算法获取所述节点的嵌入向量，所述嵌入向量对应于所述节点的结构特征；对于所述拓扑结构中的一个元器件，响应于所述元器件连接于所述节点相连，将所述元器件的连接状态标记为1，响应于所述元器件不连接于所述节点，将所述元器件的连接状态标记为0；遍历所述拓扑结构中的所有元器件，得到所述节点的元器件连接向量，所述元器件连接向量包括所有元器件的连接状态；对于所述拓扑结构中的一个支路，获取连接于所述支路的所有节点，将所有节点的结构特征之和作为所述支路的结构特征，并将所有节点的元器件连接向量的并集作为所述支路的元器件连接向量。其中，所述图嵌入算法可采用Deep Walk、Node2vec等任意一种现有的图嵌入算法，所述图嵌入算法用于提取拓扑结构中每个节点的嵌入向量；所述元器件连接向量的数量与电力系统中所有元器件的数量相同。示例性地，当电力系统中元器件的数量为5时，节点1与元器件2和元器件4存在连接关系，则节点1的元器件连接向量为；节点2与元器件3和元器件4存在连接关系，则节点2的元器件连接向量为/＞；支路1与节点1和节点2相连，则支路1的元器件连接向量为/＞。需要说明的是，结构特征的尺寸由图嵌入算法决定。本申请实施例中，结构特征的尺寸同样为M行1列，即所述结构特征的尺寸与时序特征和时序预测特征相同。计算目标的结构特征和元器件连接向量仅与电力系统的拓扑结构有关，拓扑结构一旦确定，结构特征和元器件连接向量不会发生变化。如此，依据电力系统的拓扑结构确定计算目标的结构特征和元器件连接向量，计算目标包括节点和支路；结构特征和元器件连接向量仅和拓扑结构有关，可视为计算目标的静态特征，将参与到概率潮流模型的训练。S202，采集连续多个历史时间段的系统状态样本、概率潮流标签和元器件状态，所述元器件状态包括所述电力系统的每个元器件的运行状态。在一个实施例中，系统状态样本为一个历史时间段内光伏出力、风力出力和负载的时间序列；概率潮流标签为一个历史时间段内所有节点电压和支路功率的均值和方差；所述元器件状态包括所述电力系统的每个元器件的运行状态，所述运行状态包括正常和异常，正常用数值“1”表示，异常用“0”表示。如此，将连续多个历史时间段的系统状态样本、概率潮流标签和元器件状态作为数据，以用于概率潮流模型的训练。S203，对于一个历史时间段，将系统状态样本输入概率潮流模型，对所述系统状态样本进行时序特征提取，得到所述历史时间段的时序特征，基于所述时序特征预测下一个相邻历史时间段的时序预测特征；对所述时序预测特征进行维度变换，以输出下一个相邻历史时间段的概率潮流预测结果。在一个实施例中，用步骤S202中获取的数据训练概率潮流模型，概率潮流模型的网络结构已在步骤S102中表述，在此不再赘述。将一个历史时间段内的系统状态样本输入概率潮流模型后，可得到所述历史时间段的时序特征、下一个相邻历史时间段的时序预测特征以及下一个相邻历史时间段的概率潮流预测结果。S204，搭建训练辅助模型，在所述训练辅助模型中，基于时序差值特征更新所述历史时间段的元器件状态以输出下一个相邻历史时间段的元器件预测状态，并基于计算目标的结构特征、元器件连接向量以及所述元器件预测状态构建下一个相邻历史时间段内每个计算目标的实时特征，其中，所述时序差值特征为所述时序特征和所述时序预测特征的差。在一个实施例中，为了辅助概率潮流模型的训练，在训练概率潮流模型之前，需搭建训练辅助模型。由于元器件状态可影响计算目标在电力系统中的状态，元器件状态可视为计算目标的动态特征；为了提高概率计算结果的准确性，需要预测下一个相邻历史时间段的元器件状态，进而准确计算目标在电力系统中的状态，为此，搭建了训练辅助模型。请参见图6，是根据本申请实施例的训练辅助模型的结构示意图；所述训练辅助模型的输入为时序差值特征和历史时间段的元器件状态，输出为下一个相邻历史时间段内每个计算目标的实时特征，其中所述时序差值特征为所述时序特征和所述时序预测特征的差。具体地，所述训练辅助模型包括第三全连接层31，请参见图7，是根据本申请实施例的第三全连接层的结构示意图，所述第三全连接层31的输入为时序差值特征和历史时间段的元器件状态，输出为下一个相邻历史时间段的元器件预测状态。所述第三全连接层31包括第三输入层311、至少一个第三隐藏层312和至少一个第三输出层313；所述第三输入层311包括B个神经元，用于接收一个历史时间段的元器件状态，B为电力系统中所有元器件的总数；第三隐藏层312对元器件状态进行多次降维操作以获取元器件降维状态，所述元器件降维状态的维度等于所述时序差值特征的维度，并将所述元器件降维状态与所述时序差值特征的和作为输出结果；第三输出层313用于对第三隐藏层312的输出结果进行多次升维操作，得到下一个相邻历史时间段的元器件预测状态。其中，所述多次降维操作的次数与第三隐藏层312的层数相同，所述多次升维操作的次数与第三输出层313的层数相同。在一个实施例中，所述元器件预测状态包括下一个相邻历史时间段内所有元器件的运行状态。在所述第三全连接层31输出下一个相邻历史时间段的元器件预测状态后，即可计算下一个相邻历史时间段内每个计算目标的实时特征，具体描述如下。所述基于计算目标的结构特征、元器件连接向量以及所述元器件预测状态构建下一个相邻历史时间段内每个计算目标的实时特征包括：对于一个计算目标，获取所述计算目标的元器件连接向量，将所述元器件连接向量与所述元器件预测状态相乘，得到所述计算目标的元器件实时特征；将所述计算目标的结构特征与所述元器件实时特征进行拼接，得到所述计算目标在下一个相邻历史时间段内的实时特征。可以理解的，电力系统中相邻时间段内系统状态的变化对元器件存在冲击，会影响元器件的运行状态，故在第三全连接层31中，依据下一个相邻历史时间段的时序差值特征以及当前历史时间段的元器件状态，准确预测下一个相邻历史时间段的元器件预测状态，进而得到计算目标在下一个相邻历史时间段内的实时特征。如此，基于训练辅助模型得到下一个相邻历史时间段内每个计算目标的实时特征，一个计算目标实时特征综合了计算目标的结构特征、元器件连接向量，以及下一个相邻历史时间段内的元器件状态，准确反映计算目标在电力系统中的状态信息。S205，基于所述概率潮流模型和所述训练辅助模型计算损失函数值。在一个实施例中，所述损失函数值满足关系式：其中，为所述时序预测特征，/＞为下一个相邻历史时间段的时序特征，/＞为所述概率潮流预测结果，/＞为下一个相邻历史时间段的概率潮流标签，/＞为所述元器件预测状态，/＞为下一个相邻历史时间段的元器件状态，/＞和/＞分别为概率潮流预测结果/＞中第/＞个计算目标和第/＞个计算目标对应的均值和方差，/＞和/＞分别为下一个相邻历史时间段内第/＞个计算目标和第/＞个计算目标的实时特征，/＞为所有计算目标的数量，/＞为损失函数值。其中，所述下一个相邻历史时间段的时序特征的获取方法包括：将下一个相邻历史时间段的系统状态样本输入所述时序特征提取层，输出下一个相邻历史时间段的时序特征。其中，用于约束概率潮流模型中第一全连接层输出的时序预测特征与下一个相邻历史时间段的时序特征相同，提高时序预测特征的准确性；/＞用于约束概率潮流模型中第二全连接层输出的概率潮流预测结果与下一个相邻历史时间段的概率潮流标签相同，提高概率潮流预测结果的准确性；/＞用于约束训练辅助模型中第三全连接层输出的元器件预测状态与下一个相邻历史时间段的元器件状态相同，提高元器件预测状态的准确性；进一步地，对于第/＞个计算目标和第/＞个计算目标，其实时特征/＞和之间的相似度越大，则概率潮流预测结果中第/＞个计算目标和第/＞个计算目标的均值方差越相似，即/＞用于约束概率潮流预测结果中第/＞个计算目标和第个计算目标之间的实时特征和均值方差存在正相关关系，进一步提高概率潮流预测结果的准确性，其中，/＞，/＞为第/＞个计算目标对应的均值，/＞为第/＞个计算目标对应的方差。如此，完成损失函数值的构建，该损失函数值可约束时序预测特征、概率潮流预测结果以及元器件预测状态的准确性。S206，利用梯度下降法更新所述概率潮流模型和所述训练辅助模型，完成一次训练。S207，迭代地执行所述训练，直至所述损失函数值小于设定值时，得到训练完毕的概率潮流模型。在一个实施例中，不断地将一个历史时间段的系统状态样本输入概率潮流模型，并将该历史时间段的元器件状态输入训练辅助模型，不断更新所述概率潮流模型和所述训练辅助模型，直至所述损失函数值小于设定值时，将训练辅助模型舍弃，得到训练完毕的概率潮流模型。如此，得到训练完毕的概率潮流模型，将一个时间段的系统状态输入训练完毕的概率潮流模型，即可得到下一个相邻时间段的概率潮流计算结果。以上通过具体实施例介绍了本申请的基于数据融合的电力系统概率潮流计算方法的技术原理和实施细节。通过本申请提供的技术方案，首先依据电力系统的拓扑结构计算每个节点和支路的静态特征，该静态特征包括结构特征和元器件连接向量；在训练概率潮流模型的过程中，依据历史时间段的系统状态样本获取历史时间段的时序特征，并预测下一个相邻历史时间段的时序预测特征，对时序预测特征进行特征提取以预测下一个相邻历史时间段的概率潮流预测结果；进一步的，在训练辅助模型中，依据时序特征和时序预测特征的差值更新历史时间段的元器件状态，得到下一个相邻历史时间段的元器件预测状态，依据元器件预测状态可准确获取下一个相邻历史时间段内每个节点和支路的实时特征；进一步，同一时间段内，实时特征相同的节点和支路，其在概率潮流预测结果中的数值也应相同，故依据时序预测特征、概率潮流预测结果以及每个节点和支路的实时特征计算损失函数值，以约束概率潮流模型能够输出准确的概率潮流计算结果；依据训练完毕的概率潮流模型能输出下一个相连时间段的概率潮流计算结果，提高概率潮流计算结果的准确性。根据本申请的第二方面，本申请还提供了一种基于数据融合的电力系统概率潮流计算系统。图8是根据本申请实施例的基于数据融合的电力系统概率潮流计算系统的框图。如图8所示，所述装置50包括处理器和存储器，所述存储器存储有计算机程序指令，当所述计算机程序指令被所述处理器执行时实现根据本申请第一方面所述的一种基于数据融合的电力系统概率潮流计算方法。所述装置还包括通信总线和通信接口等本领域技术人员熟知的其他组件，其设置和功能为本领域中已知，因此在此不再赘述。在本申请中，前述的存储器可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。例如，计算机可读存储介质可以是任何适当的磁存储介质或者磁光存储介质，比如，阻变式存储器RRAM、动态随机存取存储器DRAM、静态随机存取存储器SRAM、增强动态随机存取存储器EDRAM、高带宽内存HBM、混合存储立方HMC等等，或者可以用于存储所需信息并且可以由应用程序、模块或两者访问的任何其他介质。任何这样的计算机存储介质可以是设备的一部分或可访问或可连接到设备。本申请描述的任何应用或模块可以使用可以由这样的计算机可读介质存储或以其他方式保持的计算机可读/可执行指令来实现。以上所述实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对申请专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
