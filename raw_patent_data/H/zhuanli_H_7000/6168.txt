标题title
用于高速八选一多路复用器的锁存器
摘要abst
本发明公开一种用于高速八选一多路复用器的锁存器，包括若干组锁存器单元，每个锁存器单元包括四个锁存模块，每个锁存模块包括两个锁存单元，每个锁存单元包括五个晶体管和一个反相器，第一、二晶体管栅极接收一路输入时钟信号，第一晶体管源极连接电源端，第二晶体管源极连接第三、四晶体管漏极，第三晶体管栅极接收输入数据，第三晶体管源极接地端，第四晶体管栅极接收另一路输入时钟信号，第四晶体管源极接地端，第一、二晶体管漏极均接第五晶体管漏极和反相器输入端，第五晶体管栅极接收另一路输入时钟信号，第五晶体管源极连接电源端，第五晶体管漏极连接反相器输入端；每个锁存模块的两个锁存单元输出连在一起。本发明能实现更好的性能。
权利要求书clms
1.一种用于高速八选一多路复用器的锁存器，其特征在于，包括：若干组锁存器单元，每个锁存器单元包括四个锁存模块，每个锁存模块包括两个锁存单元，每个锁存单元包括：第一至第五晶体管和反相器，所述第一和第二晶体管的栅极接收一路输入时钟信号，所述第一晶体管的源极连接电源端，所述第二晶体管的源极连接所述第三和第四晶体管的漏极，所述第三晶体管的栅极接收输入数据，所述第三晶体管的源极接地端，所述第四晶体管的栅极接收另一路输入时钟信号，所述第四晶体管的源极接所述地端，所述第一和第二晶体管的漏极均连接所述第五晶体管的漏极和所述反相器的输入端，所述第五晶体管的栅极接收另一路输入时钟信号，所述第五晶体管的源极连接所述电源端，所述第五晶体管的漏极连接所述反相器的输入端；每个锁存模块的两个锁存单元的输出连接在一起。2.根据权利要求1所述的用于高速八选一多路复用器的锁存器，其特征在于，四个锁存模块分别为第一锁存模块、第二锁存模块、第三锁存模块和第四锁存模块；所述第一锁存模块中，第一个锁存单元的第一和第二晶体管的栅极接收θ°输入时钟信号，第四和第五晶体管的栅极接收θ+135°输入时钟信号；第二个锁存单元的第一和第二晶体管的栅极接收θ+180°输入时钟信号，第四和第五晶体管的栅极接收θ+315°输入时钟信号；所述第二锁存模块中，第一个锁存单元的第一和第二晶体管的栅极接收θ+45°输入时钟信号，第四和第五晶体管的栅极接收θ+180°输入时钟信号；第二个锁存单元的第一和第二晶体管的栅极接收θ+225°输入时钟信号，第四和第五晶体管的栅极接收θ°输入时钟信号；所述第三锁存模块中，第一个锁存单元的第一和第二晶体管的栅极接收θ+90°输入时钟信号，第四和第五晶体管的栅极接收θ+225°输入时钟信号；第二个锁存单元的第一和第二晶体管的栅极接收θ+270°输入时钟信号，第四和第五晶体管的栅极接收θ+45°输入时钟信号；所述第四锁存模块中，第一个锁存单元的第一和第二晶体管的栅极接收θ+135°输入时钟信号，所述第四和第五晶体管的栅极接收θ+270°输入时钟信号；第二个锁存单元的第一和第二晶体管的栅极接收θ+315°输入时钟信号，第四和第五晶体管的栅极接收θ+90°输入时钟信号；上述θ为0、45、90、135、180、225、270、315中的任意时钟，当按照上述规则计算的输入时钟信号大于等于360°时，则实际接收的输入时钟信号为计算的输入时钟信号减去360°。3.根据权利要求2所述的用于高速八选一多路复用器的锁存器，其特征在于，所述第一锁存模块中，第一个锁存单元的第三晶体管的栅极接收第一个并行数据，第二个锁存单元的第三晶体管的栅极接收第五个并行数据；所述第二锁存模块中，第一个锁存单元的第三晶体管的栅极接收第二个并行数据，第二个锁存单元的第三晶体管的栅极接收输入数据第六个并行数据；所述第三锁存模块中，第一个锁存单元的第三晶体管的栅极接收第三个并行数据，第二个锁存单元的第三晶体管的栅极接收第七个并行数据；所述第四锁存模块中，第一个锁存单元的第三晶体管的栅极接收第四个并行数据，第二个锁存单元的第三晶体管的栅极接收第八个并行数据。4.根据权利要求1所述的用于高速八选一多路复用器的锁存器，其特征在于，第一晶体管和第五晶体管为PMOS晶体管，第二晶体管、第三晶体管和第四晶体管为NMOS晶体管。5.根据权利要求1所述的用于高速八选一多路复用器的锁存器，其特征在于，所述反相器实现将所述第一至第五晶体管产生的信号A转换成轨到轨的信号输出。6.根据权利要求1所述的用于高速八选一多路复用器的锁存器，其特征在于，第二晶体管、第三晶体管和第五晶体管的导通对信号A形成预放电。7.根据权利要求1所述的用于高速八选一多路复用器的锁存器，其特征在于，所述第五晶体管栅极的输入时钟信号clk_2的上升沿触发输出脉冲信号Data的上升沿，第一晶体管和第二晶体管栅极的输入时钟信号clk_1的下降沿触发输出脉冲信号Data的下降沿。
说明书desc
技术领域本发明涉及集成电路领域，特别涉及一种用于高速八选一多路复用器的锁存器。背景技术在高速SerDes电路应用中，连接驱动器或者数模转换器的高速锁存器是发射机的核心模块之一，TX通常采用半速架构以及四分之一速率架构并且通过2：1或者4：1输入模式的多路复用器产生波特率数据并且连接驱动器或者DAC。随着数据互联以及传输对SerDes速度的更高要求，对时钟速率要求也更高，然而由于高速时钟传输方案复杂、时间裕度不充足、功耗高以及抖动放大等原因，选择更多路的多路复用器比高速时钟更加具有吸引力，因此在单通道200Gbps四电平脉冲幅度调制以及更高速应用中，八分之一速率且通过八选一多路复用器产生全速率数据的架构应运而生。传统的多路复用器由于工艺限制造成较大的自我负载从而导致带宽不够，产生较大的码间干扰，极大地了影响高速驱动器或DAC的性能。发明内容针对现有技术的不足，本发明提供一种用于高速八选一多路复用器的锁存器，通过该锁存器在高速驱动器或DAC中实现八路数据时序交替，提升高速驱动器或DAC在单通道200Gbps PAM4以及更高速应用中的性能表现。该锁存器可以提高传输到驱动器或DAC的数据的上升下降速度，以减小ISI和抖动放大而实现更好的性能；该锁存器采用八选一的架构，降低了时钟通路上的速度，以实现更好的时钟通路的功耗和抖动。一种用于高速八选一多路复用器的锁存器，包括：若干组锁存器单元，每个锁存器单元包括四个锁存模块，每个锁存模块包括两个锁存单元，每个锁存单元包括：第一至第五晶体管和反相器，所述第一和第二晶体管的栅极接收一路输入时钟信号，所述第一晶体管的源极连接电源端，所述第二晶体管的源极连接所述第三和第四晶体管的漏极，所述第三晶体管的栅极接收输入数据，所述第三晶体管的源极接地端，所述第四晶体管的栅极接收另一路输入时钟信号，所述第四晶体管的源极接所述地端，所述第一和第二晶体管的漏极均连接所述第五晶体管的漏极和所述反相器的输入端，所述第五晶体管的栅极接收另一路输入时钟信号，所述第五晶体管的源极连接所述电源端，所述第五晶体管的漏极连接所述反相器的输入端；每个锁存模块的两个锁存单元的输出连接在一起。进一步地，四个锁存模块分别为第一锁存模块、第二锁存模块、第三锁存模块和第四锁存模块；所述第一锁存模块中，第一个锁存单元的第一和第二晶体管的栅极接收θ°输入时钟信号，第四和第五晶体管的栅极接收θ+135°输入时钟信号；第二个锁存单元的第一和第二晶体管的栅极接收θ+180°输入时钟信号，第四和第五晶体管的栅极接收θ+315°输入时钟信号；所述第二锁存模块中，第一个锁存单元的第一和第二晶体管的栅极接收θ+45°输入时钟信号，第四和第五晶体管的栅极接收θ+180°输入时钟信号；第二个锁存单元的第一和第二晶体管的栅极接收θ+225°输入时钟信号，第四和第五晶体管的栅极接收θ°输入时钟信号；所述第三锁存模块中，第一个锁存单元的第一和第二晶体管的栅极接收θ+90°输入时钟信号，第四和第五晶体管的栅极接收θ+225°输入时钟信号；第二个锁存单元的第一和第二晶体管的栅极接收θ+270°输入时钟信号，第四和第五晶体管的栅极接收θ+45°输入时钟信号；所述第四锁存模块中，第一个锁存单元的第一和第二晶体管的栅极接收θ+135°输入时钟信号，所述第四和第五晶体管的栅极接收θ+270°输入时钟信号；第二个锁存单元的第一和第二晶体管的栅极接收θ+315°输入时钟信号，第四和第五晶体管的栅极接收θ+90°输入时钟信号；上述θ为0、45、90、135、180、225、270、315中的任意时钟，当按照上述规则计算的输入时钟信号大于等于360°时，则实际接收的输入时钟信号为计算的输入时钟信号减去360°。进一步地，所述第一锁存模块中，第一个锁存单元的第三晶体管的栅极接收第一个并行数据，第二个锁存单元的第三晶体管的栅极接收第五个并行数据；所述第二锁存模块中，第一个锁存单元的第三晶体管的栅极接收第二个并行数据，第二个锁存单元的第三晶体管的栅极接收输入数据第六个并行数据；所述第三锁存模块中，第一个锁存单元的第三晶体管的栅极接收第三个并行数据，第二个锁存单元的第三晶体管的栅极接收第七个并行数据；所述第四锁存模块中，第一个锁存单元的第三晶体管的栅极接收第四个并行数据，第二个锁存单元的第三晶体管的栅极接收第八个并行数据。进一步地，第一晶体管和第五晶体管为PMOS晶体管，第二晶体管、第三晶体管和第四晶体管为NMOS晶体管。进一步地，所述反相器实现将所述第一至第五晶体管产生的信号A转换成轨到轨的信号输出。进一步地，第二晶体管、第三晶体管和第五晶体管的导通对信号A形成预放电。进一步地，所述第五晶体管栅极的输入时钟信号clk_2的上升沿触发输出脉冲信号Data的上升沿，第一晶体管和第二晶体管栅极的输入时钟信号clk_1的下降沿触发输出脉冲信号Data的下降沿。相对于现有技术，本发明至少具有以下有益效果：第一，本发明的用于高速八选一多路复用器的锁存器，实现了不同时序的一单位时间间隔脉冲并且依次送入驱动器或DAC中，极大地降低了每一个锁存模块输出数据的ISI。第二，采用八分之一速率架构并通过八选一多路复用器，极大地降低时钟通路上的高速时钟频率，以实现更加充足的时间裕度、更好的时钟通路上的功耗和抖动。第三，高速锁存模块采用预充放电的形式，提高了锁存模块输出数据的上升和下降时间，降低了数据的ISI，能实现更高速应用中的良好性能。附图说明图1是本申请一个实施例中单位比特的高速八选一多路复用器示意图。图2是本申请一个实施例中锁存模块的电路图。图3是本申请一个实施例中第一个锁存模块的时序示意图。图4是本申请一个实施例中八选一多路复用器的时序示意图。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合附图对本申请的实施方式作进一步地详细描述。在以下的叙述中，为了使读者更好地理解本申请而提出了许多技术细节。但是，本领域的普通技术人员可以理解，即使没有这些技术细节和基于以下各实施方式的种种变化和修改，也可以实现本申请所要求保护的技术方案。本申请的说明书中记载了大量的技术特征，分布在各个技术方案中，如果要罗列出本申请所有可能的技术特征的组合的话，会使得说明书过于冗长。为了避免这个问题，本申请上述发明内容中公开的各个技术特征、在下文各个实施方式和例子中公开的各技术特征、以及附图中公开的各个技术特征，都可以自由地互相组合，从而构成各种新的技术方案，除非这种技术特征的组合在技术上是不可行的。例如，在一个例子中公开了特征A+B+C，在另一个例子中公开了特征A+B+D+E，而特征C和D是起到相同作用的等同技术手段，技术上只要择一使用即可，不可能同时采用，特征E技术上可以与特征C相组合，则，A+B+C+D的方案因技术不可行而应当不被视为已经记载，而A+B+C+E的方案应当视为已经被记载。需要说明的是，在本专利的申请文件中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。本专利的申请文件中，如果提到根据某要素执行某行为，则是指至少根据该要素执行该行为的意思，其中包括了两种情况：仅根据该要素执行该行为、和根据该要素和其它要素执行该行为。多个、多次、多种等表达包括2个、2次、2种以及2个以上、2次以上、2种以上。多路复用器是在高速SerDes TX中产生全速率数据的核心模块之一。本申请公开了一种用于高速八选一多路复用器的锁存器，多路复用器实施示意图参考图1所示，图中展示了单位比特的高速八选一多路复用器100，包括：一个锁存器单元101，以及，与该锁存器单元101连接的驱动器或DAC 102。其中锁存器单元101包括四个锁存模块，用于生成四路时序交替的1UI脉冲，一个锁存器单元101对应一个驱动器或DAC 102，1UI脉冲交替打开和关闭驱动器或DAC 102中的四个输入开关。参考图2所示，每个锁存模块包括：第一至第五晶体管M1~M5和反相器，第一晶体管M1和第二晶体管M2的栅极接收一路输入时钟信号，第一晶体管M1的源极连接电源端，第二晶体管M2的源极连接第三晶体管M3和第四晶体管M4的漏极，第三晶体管M3的栅极接收输入数据，第三晶体管M3的源极接地端，第四晶体管M4的栅极接收另一路输入时钟信号，第四晶体管M4的源极接地端，第一晶体管M1和第二晶体管M2的漏极均连接第五晶体管M5的漏极和反相器的输入端，第五晶体管M5的栅极接收另一路输入时钟信号，第五晶体管M5的源极连接电源端，第五晶体管M5的漏极连接反相器的输入端。在一个实施例中，第一锁存模块中，第一个锁存单元的第一晶体管M1和第二晶体管M2的栅极接收0°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收135°输入时钟信号，第二个锁存单元的第一晶体管M1和第二晶体管M2的栅极接收180°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收315°输入时钟信号；第二锁存模块中，第一个锁存单元的第一晶体管M1和第二晶体管M2的栅极接收45°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收180°输入时钟信号，第二个锁存单元的第一晶体管M1和第二晶体管M2的栅极接收225°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收0°输入时钟信号；第三锁存模块中，第一个锁存单元的第一晶体管M1和第二晶体管M2的栅极接收90°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收225°输入时钟信号，第二个锁存单元的第一晶体管M1和第二晶体管M2的栅极接收270°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收45°输入时钟信号；第四锁存模块中，第一个锁存单元的第一晶体管M1和第二晶体管M2的栅极接收135°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收270°输入时钟信号，第二个锁存单元的第一晶体管M1和第二晶体管M2的栅极接收315°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收90°输入时钟信号。在一个实施例中，第一锁存模块中，第一个锁存单元的第三晶体管M3的栅极接收输入数据D＜0＞，第二个锁存单元的第三晶体管M3的栅极接收输入数据D＜4＞；第二锁存模块中，第一个锁存单元的第三晶体管M3的栅极接收输入数据D＜1＞，第二个锁存单元的第三晶体管M3的栅极接收输入数据D＜5＞；第三锁存模块中，第一个锁存单元的第三晶体管M3的栅极接收输入数据D＜2＞，第二个锁存单元的第三晶体管M3的栅极接收输入数据D＜6＞；第四锁存模块中，第一个锁存单元的第三晶体管M3的栅极接收输入数据D＜3＞，第二个锁存单元的第三晶体管M3的栅极接收输入数据D＜7＞。继续参考图2所示，一个锁存模块内的两个锁存单元输出连接在一起。在一个实施例中，第一晶体管M1和第五晶体管M5是PMOS晶体管，第二晶体管M2、第三晶体管M3、第四晶体管M4是NMOS晶体管。当输入数据为1时，该锁存模块电路生成输出逻辑为1、电压为电源电压VDD的脉冲信号，当输入数据为0或无脉冲信号时，生成输出逻辑为0、电压为地端电压GND的脉冲信号，具有该特征的输出信号发送给NMOS型的驱动器或DAC。图2中，8T数据发送到4个不同的锁存模块，在每个锁存模块中，每个锁存单元中的clk_1和clk_2相应地触发1UI脉冲。为了提高更高速应用中的1UI速度和减小ISI，数据A这里采用了预放电技术，在生成1UI脉冲之前预先降低电平以提高后续1UI脉冲上升时间，晶体管M4的存在也使得数据A放电更快，让1UI脉冲上升时间更快。为了减小由八相时钟之间的相位偏移造成的输出性能影响，这里需要带相位校准的八相时钟。图3是本申请一个实施例中锁存模块的时序示意图，描述了预放电技术以及clk_2的上升沿和clk_1的下降沿如何产生1UI脉冲，这里以第一锁存模块为例进行说明。其中，第一个锁存单元第一晶体管M1和第二晶体管M2的栅极接收的clk_1为0°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收的clk_2为135°输入时钟信号，第三晶体管M3的栅极接收输入数据D＜0＞。当数据D＜0＞为1，clk_1为1，clk_2为0时，数据A＜0＞进行预放电，此时经过反相器输出0；当clk_1为1，clk_2也为1时，数据A＜0＞放电到0，经过反相器输出1；当clk_1为0，clk_2为1时，数据A＜0＞充电到1，经过反相器输出0；当clk_1和clk_2均为0时，数据A＜0＞保持为1不变，经过反相器输出0。clk_2的上升沿决定数据Data＜0＞的一边，clk_1的下降沿决定数据Data＜0＞的另一边，从而生成数据Data＜0＞。第二个锁存单元第一晶体管M1和第二晶体管M2的栅极接收的clk_1为180°输入时钟信号，第四晶体管M4和第五晶体管M5的栅极接收的clk_2为315°输入时钟信号，第三晶体管M3的栅极接收输入数据D＜4＞。clk_2的上升沿决定数据Data＜0＞的一边，clk_1的下降沿决定数据Data＜0＞的另一边，从而生成数据Data＜0＞。数据Data＜0＞发送给驱动器或DAC102的一个输入开关。应当理解，其他的锁存模块的时序图可以以此类推，并分别生成数据Data＜1:3＞，发送给驱动器或DAC 102的其余三个输入开关。图4是本申请一个实施例中八选一多路复用器的时序示意图。在本说明书提及的所有文献都被认为是整体性地包括在本申请的公开内容中，以便在必要时可以作为修改的依据。此外应理解，以上所述仅为本说明书的较佳实施例而已，并非用于限定本说明书的保护范围。凡在本说明书一个或多个实施例的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本说明书一个或多个实施例的保护范围之内。
