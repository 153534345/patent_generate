标题title
一种基于CORS的GNSS用户终端位置隐私保护方法
摘要abst
本发明公开一种基于CORS的GNSS用户终端位置隐私保护方法，包括：获取GNSS用户终端的初始概略坐标；对所述初始概略坐标进行位置修正，得到修正后的定位坐标，所述位置修正包括北方向、东方向及高程方向的随机位置偏移；根据修正后的定位坐标，形成定位编码数据并上传至CORS服务端；接收CORS服务端返回的高精度定位产品。本发明在GNSS用户终端上传位置之前，在不影响后续CORS服务的基础上对位置信息进行偏移，使上传到CORS服务端的坐标不带有真实位置信息，从而解决了在保密性强的应用场景下，由于不能上传GNSS用户终端位置至各级测绘机构或商业公司的CORS系统，导致CORS应用受限的问题。
权利要求书clms
1.一种基于CORS的GNSS用户终端位置隐私保护方法，其特征在于，包括：获取GNSS用户终端的初始概略坐标；对所述初始概略坐标进行位置修正，得到修正后的定位坐标，所述位置修正包括北方向、东方向及高程方向的随机位置偏移；根据修正后的定位坐标，形成定位编码数据并上传至CORS服务端；接收CORS服务端返回的高精度定位产品；根据返回的高精度定位产品获取GNSS用户终端的当前高精度定位坐标，并根据当前高精度定位坐标与修正前的定位坐标的差值，调整GNSS用户终端的位置上传频率。2.根据权利要求1所述一种基于CORS的GNSS用户终端位置隐私保护方法，其特征在于，在获取GNSS用户终端的初始概略坐标之前，还包括：建立GNSS用户终端与CORS服务端的网络连接，并在建立网络连接后，向CORS服务端发起用户认证请求。3.根据权利要求1所述一种基于CORS的GNSS用户终端位置隐私保护方法，其特征在于，还包括：在用户认证请求通过后，GNSS用户终端通过单点定位得到初始概略坐标。4.根据权利要求1所述一种基于CORS的GNSS用户终端位置隐私保护方法，其特征在于，还包括：在当前高精度定位坐标与修正前的定位坐标的差值小于设置的阈值时，获取GNSS用户终端的下一时刻高精度定位坐标，并判断所述下一时刻高精度定位坐标与修正前的定位坐标的差值是否小于设置的阈值。5.根据权利要求1所述一种基于CORS的GNSS用户终端位置隐私保护方法，其特征在于，还包括：在当前高精度定位坐标与修正前的定位坐标的差值大于设置的阈值时，进行高精度定位产品位置修正。6.根据权利要求4至5中任一项所述一种基于CORS的GNSS用户终端位置隐私保护方法，其特征在于，在将当前高精度定位坐标与修正前的定位坐标的差值与设置的阈值进行比较时，还包括：按照北方向、东方向、高程方向的顺序依次进行差值比较。7.根据权利要求6所述一种基于CORS的GNSS用户终端位置隐私保护方法，其特征在于，还包括：在北方向的坐标差值小于第一阈值时，判断东方向的坐标差值；在东方向的坐标差值小于第二阈值时，判断高程方向的坐标差值；在高程方向的坐标差值小于第三阈值时，进行下一时刻的高精度定位。8.根据权利要求7所述一种基于CORS的GNSS用户终端位置隐私保护方法，其特征在于，还包括：在满足以下任一条件时，进行高精度定位产品位置修正：北方向的坐标差值小于第一阈值、东方向的坐标差值小于第二阈值，或高程方向的坐标差值小于第三阈值时。9.根据权利要求5或8所述一种基于CORS的GNSS用户终端位置隐私保护方法，其特征在于，所述高精度定位产品位置修正，包括：对当前高精度定位坐标进行随机位置偏移的修正，并根据修正后的定位坐标形成定位编码数据，上传至CORS服务端。
说明书desc
技术领域本发明涉及GNSS用户终端位置的隐私保护领域，具体涉及一种基于CORS的GNSS用户终端位置隐私保护方法。背景技术CORS是利用多基站网络RTK技术建立的连续运行参考站系统，该系统结合了卫星定位技术、计算机网络技术、数字通讯技术等多种高新科技，由基准站网、数据处理中心、数据传输系统、数据播发系统和用户应用系统组成，是现如今重要的空间数据基础设施，在城市规划、国土测绘、地籍管理、城乡建设、环境监测、防灾减灾、交通监控，矿山测量等多个领域发挥了重要用途。GNSS流动站接收机是一种利用RTK进行高精度定位的终端设备。该设备在使用过程中，首先与CORS建立网络连接，然后发送用户名、密码等验证信息，在通过CORS验证后，需要发送流动站的位置，供CORS生成该位置的差分改正数据。目前的CORS主要由各级测绘机构及一些商业公司进行运营，使用CORS服务的过程中必须持续接入他们的系统，然而对于保密性要求高的行业，无法接受流动站位置数据进入其他系统，造成了以上CORS服务应用上的困难。发明内容为克服上述现有技术的不足，本发明提供一种基于CORS的GNSS用户终端位置隐私保护方法，用以解决高保密性要求下CORS应用受限的问题。本发明是根据以下技术方案实现的：一种基于CORS的GNSS用户终端位置隐私保护方法，包括：获取GNSS用户终端的初始概略坐标；对所述初始概略坐标进行位置修正，得到修正后的定位坐标，所述位置修正包括北方向、东方向及高程方向的随机位置偏移；根据修正后的定位坐标，形成定位编码数据并上传至CORS服务端；接收CORS服务端返回的高精度定位产品。上述技术方案在GNSS用户终端上传位置之前，在不影响后续CORS服务的基础上对位置信息进行偏移，使上传到CORS服务端的坐标不带有真实位置信息，从而解决了在保密性强的应用场景下，由于不能上传GNSS用户终端位置至各级测绘机构或商业公司的CORS系统，导致CORS应用受限的问题。进一步地，对北方向的随机位置偏移为在该方向对应的坐标上增加之间的随机数，以在北方向带来20m至200m的随机位置偏移。进一步地，对东方向的随机位置偏移为在该方向对应的坐标上增加之间的随机数，以在东方向带来20m至200m的随机位置偏移。进一步地，对高程方向的随机位置偏移为在该方向对应的坐标上增加、之间的随机数，以在高程方向带来20m至50m的随机位置偏移。作为进一步的技术方案，在获取GNSS用户终端的初始概略坐标之前，还包括：建立GNSS用户终端与CORS服务端的网络连接，并在建立网络连接后，向CORS服务端发起用户认证请求。进一步地，在发起用户认证请求时，向CORS服务端主动发送用户名和密码信息。作为进一步的技术方案，还包括：在用户认证请求通过后，GNSS用户终端通过单点定位得到初始概略坐标。作为进一步的技术方案，在接收到CORS服务端返回的高精度定位产品后，还包括：根据返回的高精度定位产品获取GNSS用户终端的当前高精度定位坐标，并根据当前高精度定位坐标与修正前的定位坐标的差值，调整GNSS用户终端的位置上传频率。上述技术方案根据CORS服务对GNSS用户终端位置概略坐标的要求，根据终端位置变化情况，自适应调整位置发送上报的频率，保证OCRS服务数据的准确性，同时避免了频繁上报终端位置数据导致的计算负荷过大的问题。作为进一步的技术方案，还包括：在当前高精度定位坐标与修正前的定位坐标的差值小于设置的阈值时，获取GNSS用户终端的下一时刻高精度定位坐标，并判断所述下一时刻高精度定位坐标与修正前的定位坐标的差值是否小于设置的阈值。具体地，在当前高精度定位坐标满足精度要求时，持续获取下一时刻的高精度定位坐标，直到获取的高精度定位坐标不再满足精度要求，此时再进行高精度定位产品位置修正。作为进一步的技术方案，还包括：在当前高精度定位坐标与修正前的定位坐标的差值大于设置的阈值时，进行高精度定位产品位置修正。具体地，在当前高精度定位坐标不再满足精度要求时，重新上传GNSS用户终端的位置坐标至CORS服务端，以重新获取高精度定位产品。作为进一步的技术方案，在将当前高精度定位坐标与修正前的定位坐标的差值与设置的阈值进行比较时，还包括：按照北方向、东方向、高程方向的顺序依次进行差值比较。作为进一步的技术方案，还包括：在北方向的坐标差值小于第一阈值时，判断东方向的坐标差值；在东方向的坐标差值小于第二阈值时，判断高程方向的坐标差值；在高程方向的坐标差值小于第三阈值时，进行下一时刻的高精度定位。作为进一步的技术方案，还包括：在满足以下任一条件时，进行高精度定位产品位置修正：北方向的坐标差值小于第一阈值、东方向的坐标差值小于第二阈值，或高程方向的坐标差值小于第三阈值时。作为进一步的技术方案，所述高精度定位产品位置修正，包括：对当前高精度定位坐标进行随机位置偏移的修正，并根据修正后的定位坐标形成定位编码数据，上传至CORS服务端。与现有技术相比，本发明的有益效果在于：本发明在GNSS用户终端上传位置之前，在不影响后续CORS服务的基础上对位置信息进行偏移，使上传到CORS服务端的坐标不带有真实位置信息，从而解决了在保密性强的应用场景下，由于不能上传GNSS用户终端位置至各级测绘机构或商业公司的CORS系统，导致CORS应用受限的问题。本发明计算量小，数据处理简单，不会给CORS服务使用造成延迟负担本发明根据CORS服务机制，对终端位置进行适量的随机数变换和上传频率调整，保证偏移后的数据不影响CORS服务使用。附图说明图1为根据本发明实施例的基于CORS的GNSS用户终端位置隐私保护方法流程示意图。图2为根据本发明实施例的GNSS用户终端与CORS服务端建立关联示意图。图3为根据本发明实施例的GNSS用户终端位置上传示意图。图4为根据本发明实施例的自适应调整位置上传频率的示意图。图5为根据本发明又一实施例的方法流程示意图。具体实施方式本发明针对保密性强的应用场景下，由于不能上传流动站终端位置至各级测绘机构或商业公司的CORS系统，导致CORS应用受限的问题，采取在流动站终端上传位置之前对位置信息进行偏移，使上传到CORS系统的坐标不带有真实位置信息的方式，以较小的计算量实现了GNSS用户终端位置隐私保护，且能够保证偏移后的数据不影响CORS服务使用，不给CORS服务使用造成延迟负担。在上述解决了CORS应用场景受限问题的基础上，本发明还根据CORS服务对终端位置概略坐标的要求，根据终端位置变化情况，自适应调整位置发送上报的频率。以下将结合附图对本发明各实施例的技术方案进行清楚、完整的描述，显然，所描述的实施例仅仅是本发明的一部分实施例，而不是全部的实施例。基于本发明的实施例，本领域普通技术人员在没有做出创造性劳动的前提下所得到的所有其它实施例，都属于本发明所保护的范围。在本发明的描述中，需要理解的是，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个所述特征。如图1所示，本发明所述基于CORS的GNSS用户终端位置隐私保护方法，包括如下步骤：步骤1，获取GNSS用户终端的初始概略坐标。进一步地，如图2所示，还包括：步骤1.1，GNSS用户终端与CORS服务端建立网络连接，发起获取高精度定位产品的连接请求；步骤1.2，网络连接建立后，GNSS用户终端向CORS服务端发起用户认证请求，主动发送用户名、密码信息；步骤1.3，用户认证通过后，GNSS用户终端通过单点定位得到初始概略坐标。步骤2，对所述初始概略坐标进行位置修正，得到修正后的定位坐标，所述位置修正包括北方向、东方向及高程方向的随机位置偏移。对定位坐标增加位置修正值，得到新的坐标，并记录修正前的坐标为最新发送坐标。此步骤中的位置修正值选取，基于位置隐私保护要求，结合差分定位服务范围，对B、L增加、之间的随机数；对H增加，之间的随机数。步骤2具体包括：步骤2.1，对B0和L0数值增加、之间的随机数，可以在北方向和东方向带来20m至200m的随机位置偏移；步骤2.2，对H0数值增加，之间的随机数，可以在高程方向带来20m至50m的随机位置偏移，此时得到位置修正后的定位坐标；步骤2.3，将位置修正前的定位坐标记录为最新发送坐标，表示该坐标为用于最新获取高精度定位产品的坐标。步骤3，根据修正后的定位坐标，形成定位编码数据并上传至CORS服务端。按照NMEA协议规范对修正后的定位坐标进行编码，形成GPGGA数据并发送至CORS服务端，获取到高精度定位产品。如图3所示，步骤3步骤具体包括：步骤3.1，对修正后的定位坐标按照NMEA协议规范进行编码，形成GPGGA数据；步骤3.2，将GPGGA数据发送至CORS服务端，等待CORS服务端返回对应的高精度定位产品；步骤3.3，CORS服务端将根据此GPGGA语句持续返回相同位置的高精度定位产品，直至下一次更新GPGGA语句。步骤4，接收CORS服务端返回的高精度定位产品。进一步地，如图5所示，还包括：步骤5，GNSS用户终端获取高精度定位产品后进行下一时刻的高精度定位，得到当前定位坐标；步骤6，依次比较当前定位坐标和记录的最新发送坐标之间的差值。若差值小于设置的阈值，则返回步骤5继续进行下一时刻的高精度定位；若差值大于设置的阈值，则进入步骤2进行高精度定位产品位置修正。此步骤中的阈值选取，基于差分定位服务的最大范围考虑，B、L方向设置为±0.01，H方向设置为100。如图4所示，步骤6具体包括：步骤6.1，判断B和Bn之间的差值绝对值，若小于0.01，则进入步骤6.2，否则回到步骤2进行高精度定位产品位置修正；步骤6.2，判断L和Ln之间的差值绝对值，若小于0.01，则进入步骤6.3，否则回到步骤2进行高精度定位产品位置修正；步骤6.3，判断H和Hn之间的差值绝对值，若小于100m，则返回步骤5进行下一时刻的高精度定位，否则回到步骤2进行高精度定位产品位置修正。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明实施例技术方案。
