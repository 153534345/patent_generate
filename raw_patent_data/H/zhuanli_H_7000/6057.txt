标题title
DC-DC变换电路、控制方法及相关产品
摘要abst
本发明公开了一种DC‑DC变换电路、控制方法及相关产品，该方法包括：启动DC‑DC变换电路，确定初始输入数字电压；实时采样第一级DC‑DC电路的第一输入电流、第一输入电压，得到第一输入数字电流、第一输入数字电压；通过MPPT控制算法控制第一级DC‑DC电路生成第一输出电压；对第二级DC‑DC电路进行实时采样，得到第二输入数字电流、第二输入数字电压；根据第二输入数字电流、第二输入数字电压控制第二级DC‑DC电路生成第二输出电压；通过母线以第二输出电压向用电设备供电。采用本发明实施例，有效防止了DC‑DC变换电路因过压和过流而损坏的情况。
权利要求书clms
1.一种DC-DC变换电路，其特征在于，所述DC-DC变换电路包括：第一级DC-DC电路、第二级DC-DC电路；所述第一级DC-DC电路的第一端连接光伏供电设备，所述第一级DC-DC电路的第二端连接所述第二级DC-DC电路的第一端；所述第二级DC-DC电路的第二端连接用电设备；所述光伏供电设备、所述第一级DC-DC电路、所述第二级DC-DC电路、所述用电设备均通过母线连接；其中，所述第一级DC-DC电路包括：第一电感、第一二极管、第一开关管、第一电容、第一电阻、第一EPWM模块、第一ADC模块、第二ADC模块、第三ADC模块、输入电压环、输入电流内环、输入电压外环；所述第一电感的一端作为所述第一级DC-DC电路的第一端连接所述光伏供电设备的正极，所述第一电感的另一端分别连接所述第一二极管的正极、所述第一开关管的漏极；所述第一二极管的负极分别连接所述第一电容的一端、所述第一电阻的一端，以及作为所述第一级DC-DC电路的第二端连接所述第二级DC-DC电路的第一端；所述第一开关管的栅极连接所述第一EPWM模块的输出端；所述第一开关管的源极、所述第一电容的另一端、所述第一电阻的另一端均连接所述光伏供电设备的负极；所述第一EPWM模块的第一输入端分别连接所述输入电压环、所述输入电流内环；所述第一EPWM模块的第二输入端用于接收第一DSP载波信号；所述第一ADC模块的第一端连接所述光伏供电设备的正极，所述第一ADC模块的第二端、第三端分别连接所述输入电压环；所述第二ADC模块的第一端连接所述光伏供电设备的正极，所述第二ADC模块的第二端连接所述输入电压环，所述第二ADC模块的第三端连接所述输入电流内环；所述第三ADC模块的第一端连接所述第一二极管的负极，所述第三ADC模块的第二端连接所述输入电压外环。2.如权利要求1所述的DC-DC变换电路，其特征在于，所述第一级DC-DC电路中的所述输入电压环包括：第一补偿器、第一减法器；所述第一减法器的第一端连接所述第一ADC模块的第二端，所述第一减法器的第二端连接所述第一ADC模块的第三端；所述第一减法器的第三端连接所述第一补偿器的一端；所述第一补偿器的另一端连接所述第一EPWM模块的第一输入端；所述输入电流内环包括：第二补偿器、第二减法器；所述第二减法器的第一端连接所述第二ADC模块的第三端，所述第二减法器的第二端连接所述输入电压外环，所述第二减法器的第三端连接所述第二补偿器的一端，所述第二补偿器的另一端连接所述第一EPWM模块的第一输入端；所述输入电压外环包括：第三补偿器、第三减法器；所述第三减法器的第一端连接所述第三ADC模块的第二端，所述第三减法器的第二端用于接收母线数字电压给定值，所述第三减法器的第一端，所述第三减法器的第三端连接所述第三补偿器的一端，所述第三补偿器的另一端连接所述第二减法器的第二端。3.如权利要求1所述的DC-DC变换电路，其特征在于，所述第二级DC-DC电路包括：第二电感、第二二极管、第二开关管、第二电容、第二电阻、第二EPWM模块、第四ADC模块、第五ADC模块、第六ADC模块、母线电压环、输出电流环、输出电压环；所述第二开关管的漏极作为所述第二级DC-DC电路的第一端连接所述第一级DC-DC电路的第二端，所述第二开关管的源极分别连接所述第二二极管的负极、所述第二电感的一端，所述第二开关管的栅极连接所述第二EPWM模块的输出端；所述第二电感的另一端分别连接所述第二电容的一端、所述第二电阻的一端；所述第二二极管的正极、所述第二电容的另一端、所述第二电阻的另一端均连接所述光伏供电设备的负极；所述第二EPWM模块的第一输入端分别连接所述母线电压环、所述输出电流环、所述输出电压环；所述第二EPWM模块的第二输入端用于接收第二DSP载波信号；所述第四ADC模块的第一端连接所述第一级DC-DC电路的第二端，所述第四ADC模块的第二端连接所述母线电压环；所述第五ADC模块的第一端连接所述第二电感的另一端，所述第五ADC模块的第二端连接所述输出电流环；所述第六ADC模块的第一端连接所述第二电感的另一端，所述第六ADC模块的第二端连接所述输出电压环。4.如权利要求3所述的DC-DC变换电路，其特征在于，所述第二级DC-DC电路中的所述母线电压环包括：第四补偿器、第四减法器；所述第四减法器的第一端连接所述第四ADC模块的第二端，所述第四减法器的第二端用于接收所述母线数字电压给定值，所述第四减法器的第三端连接所述第四补偿器的一端，所述第四补偿器的另一端分别连接所述第二EPWM模块的第一输入端、所述输出电流环、所述输出电压环；所述输出电流环包括：第五补偿器、第五减法器；所述第五减法器的第一端连接所述第五ADC模块的第二端，所述第五减法器的第二端用于接收输出数字电流给定值，所述第五减法器的第三端连接所述第五补偿器的一端，所述第五补偿器的另一端分别连接所述第二EPWM模块的第一输入端、所述第四补偿器的另一端、所述输出电压环；所述输出电压环包括：第六补偿器、第六减法器；所述第六减法器的第一端连接所述第六ADC模块的第二端，所述第六减法器的第二端用于接收输出数字电压给定值，所述第六减法器的第三端连接所述第六补偿器的一端，所述第六补偿器的另一端分别连接所述第二EPWM模块的第一输入端、所述第四补偿器的另一端、所述第五补偿器的另一端。5.如权利要求1~4任一项所述的DC-DC变换电路，其特征在于，所述第一级DC-DC电路和所述第二级DC-DC电路通过SCI总线进行通信，所述第二级DC-DC电路与上位机通过CAN总线进行通信。6.一种DC-DC变换电路的控制方法，其特征在于，应用于如权利要求1~5所述的DC-DC变换电路，所述方法包括：启动所述DC-DC变换电路，确定初始输入数字电压，所述初始输入数字电压为所述光伏供电设备的开环电压对应的数字量；通过所述第一ADC模块、所述第二ADC模块实时采样所述第一级DC-DC电路的第一输入电流、第一输入电压，得到第一输入数字电流、第一输入数字电压；数字电压、数字电流均为数字量；通过MPPT控制算法，根据所述初始输入数字电压、所述第一输入数字电流、所述第一输入数字电压控制所述第一级DC-DC电路生成第一输出电压，将所述第一输出电压传输给所述第二级DC-DC电路的第一端；通过所述第四ADC模块、所述第五ADC模块实时采样所述第二级DC-DC电路的第二输入电流、第二输入电压，得到第二输入数字电流、第二输入数字电压；根据所述第二输入数字电流、所述第二输入数字电压控制所述第二级DC-DC电路生成第二输出电压；通过所述母线以所述第二输出电压向所述用电设备供电。7.如权利要求6所述的方法，其特征在于，所述通过MPPT控制算法，根据所述第一输入数字电流、所述第一输入数字电压控制所述第一级DC-DC电路生成第一输出电压，包括：通过所述第一ADC模块、所述第二ADC模块、所述第三ADC模块分别对所述第一级DC-DC电路的所述第一输入数字电流、所述第一输入数字电压、所述第一输出电压进行实时采样，得到第一输入采样数字电压Vin_adc、第一采样数字电流Iin_adc、第一输出采样数字电压Vout1_adc；在所述输入电压环中，通过所述MPPT控制算法对所述第一输入采样数字电压Vin_adc和所述第一采样数字电流Iin_adc进行处理，得到第一输入数字电压给定值Vin_ref；将所述Vin_adc和所述Vin_ref输入所述第一减法器中，得到第一数字偏差值Vin_err，将所述Vin_err送入所述第一补偿器，得到第一结果数字量Loop1_Out1；减法器用于计算两个输入信号之间的差值；在所述输入电压外环中，将所述Vout1_adc和所述母线数字电压给定值Vref输入所述第三减法器中，得到第三数字偏差值Vout1_err，将所述Vout1_err送入所述第三补偿器，得到第三结果数字量Loop1_Out3；所述Loop1_Out3等于第一数字电流给定值Vin_Iref；在所述输入电流内环中，将所述Iin_adc和所述Vin_Iref输入所述第二减法器中，得到第二数字偏差值Iin_err，将所述Iin_err送入所述第二补偿器，得到第二结果数字量Loop1_Out2；对所述Loop1_Out1和所述Loop1_Out2进行取小操作，得到第一目标输出数字量Loop1_Out；将所述Loop1_Out和所述第一DSP载波信号输入所述第一EPWM模块，通过所述第一EPWM模块的输出端输出第一PWM信号；EPWM模块为用于生成脉宽调制信号的数字信号处理器模块，根据输入的数字量和载波信号生成具有特定占空比和频率的PWM信号；通过所述第一PWM信号控制所述第一开关管进行工作，得到所述第一输出电压。8.如权利要求7所述的方法，其特征在于，所述在所述输入电压环中，通过所述MPPT控制算法对所述第一输入采样数字电压Vin_adc和所述第一采样数字电流Iin_adc进行处理，得到第一输入数字电压给定值Vin_ref，包括：根据所述Vin_adc和所述Iin_adc获取当前时刻的所述第一级DC-DC电路的第一电导值；所述第一电导值等于Iin_adc除以Vin_adc；获取上一采样时刻的所述第一级DC-DC电路的参考采样数字电压Vin_adc1、参考采样数字电流Iin_adc1；根据所述第一电导值、所述Vin_adc1、所述Iin_adc1确定目标扰动值；根据所述Vin_adc、所述目标扰动值确定所述Vin_ref。9.如权利要求6~8任一项所述的方法，其特征在于，所述根据所述第二输入数字电流、所述第二输入数字电压控制所述第二级DC-DC电路生成第二输出电压，包括：通过所述上位机设置所述第二级DC-DC电路的输出数字电流给定值Out_Iref和输出数字电压给定值Out_Vref；通过所述第四ADC模块、所述第五ADC模块、所述第六ADC模块分别对所述第一级DC-DC电路的所述第二输入数字电流、所述第二输入数字电压、所述第二输出电压分别进行实时采样，得到第二输入采样数字电压Vbus_adc、第二采样数字电流Iout_adc、第二输出采样数字电压Vout2_adc；在所述母线电压环中，将所述Vbus_adc和所述Vref输入所述第四减法器，得到第四数字偏差值Vbus_err，将所述Vbus_err送入所述第四补偿器，得到第四结果数字量Loop2_Out1；在所述输出电流环中，将所述Iout_adc和所述Out_Iref输入所述第五减法器，得到第五数字偏差值Iout2_err，将所述Iout2_err送入所述第五补偿器，得到第五结果数字量Loop2_Out2；在所述输出电压环中，将所述Vout2_adc和所述Out_Vref输入所述第六减法器，得到第六数字偏差值Vout2_err，将所述Vout2_err送入所述第六补偿器，得到第六结果数字量Loop2_Out3；对所述Loop2_Out2和所述Loop2_Out3进行取小操作，得到参考输出数字量Loop2_Out4；对所述Loop2_Out1和所述Loop2_Out4进行取小操作，得到第二目标输出数字量Loop2_Out；将所述Loop2_Out和所述第二DSP载波信号输入所述第二EPWM模块，通过所述第二EPWM模块的输出端输出第二PWM信号；通过所述第二PWM信号控制所述第二开关管进行工作，得到所述第二输出电压。10.一种DC-DC变换器，其特征在于，所述DC-DC变换器包括权利要求1~5任一项所述的DC-DC变换电路。
说明书desc
技术领域本发明涉及电力电子设备技术领域，尤其涉及一种DC-DC变换电路、控制方法及相关产品。背景技术随着新能源行业的快速发展，太阳能受到极高的关注，光伏是利用太阳能的主要媒介之一。在电力电子行业的不断革新下，直流并网技术愈发的成熟，使得大型光伏场站的能量能够以直流形式汇集送入电网系统的方案得以实现。目前，通常使用DC-DC变换电路连接光伏场站和电网系统，通过DC-DC变换电路对光伏场站的电能进行升压或降压，然后再输入电网系统，常见的DC-DC变换电路中的DC-DC变换电路都是单级拓扑，在传统控制方法下，当光伏输出功率较大时，DC-DC变换电路容易因过压和过流而损坏，因此，如何确保DC-DC变换电路不因过压和过流而损坏的问题亟待解决。发明内容本发明实施例提供一种DC-DC变换电路、控制方法及相关产品，可以控制DC-DC变换电路的输出电压，使其保持在一个安全的范围，有效防止了DC-DC变换电路因过压和过流而损坏的情况。第一方面，本发明实施例提供了一种DC-DC变换电路，所述DC-DC变换电路包括：第一级DC-DC电路、第二级DC-DC电路；所述第一级DC-DC电路的第一端连接光伏供电设备，所述第一级DC-DC电路的第二端连接所述第二级DC-DC电路的第一端；所述第二级DC-DC电路的第二端连接用电设备；所述光伏供电设备、所述第一级DC-DC电路、所述第二级DC-DC电路、所述用电设备均通过母线连接；其中，所述第一级DC-DC电路包括：第一电感、第一二极管、第一开关管、第一电容、第一电阻、第一EPWM模块、第一ADC模块、第二ADC模块、第三ADC模块、输入电压环、输入电流内环、输入电压外环；所述第一电感的一端作为所述第一级DC-DC电路的第一端连接所述光伏供电设备的正极，所述第一电感的另一端分别连接所述第一二极管的正极、所述第一开关管的漏极；所述第一二极管的负极分别连接所述第一电容的一端、所述第一电阻的一端，以及作为所述第一级DC-DC电路的第二端连接所述第二级DC-DC电路的第一端；所述第一开关管的栅极连接所述第一EPWM模块的输出端；所述第一开关管的源极、所述第一电容的另一端、所述第一电阻的另一端均连接所述光伏供电设备的负极；所述第一EPWM模块的第一输入端分别连接所述输入电压环、所述输入电流内环；所述第一EPWM模块的第二输入端用于接收第一DSP载波信号；所述第一ADC模块的第一端连接所述光伏供电设备的正极，所述第一ADC模块的第二端、第三端分别连接所述输入电压环；所述第二ADC模块的第一端连接所述光伏供电设备的正极，所述第二ADC模块的第二端连接所述输入电压环，所述第二ADC模块的第三端连接所述输入电流内环；所述第三ADC模块的第一端连接所述第一二极管的负极，所述第三ADC模块的第二端连接所述输入电压外环。可选的，所述第一级DC-DC电路中的所述输入电压环包括：第一补偿器、第一减法器；所述第一减法器的第一端连接所述第一ADC模块的第二端，所述第一减法器的第二端连接所述第一ADC模块的第三端；所述第一减法器的第三端连接所述第一补偿器的一端；所述第一补偿器的另一端连接所述第一EPWM模块的第一输入端；所述输入电流内环包括：第二补偿器、第二减法器；所述第二减法器的第一端连接所述第二ADC模块的第三端，所述第二减法器的第二端连接所述输入电压外环，所述第二减法器的第三端连接所述第二补偿器的一端，所述第二补偿器的另一端连接所述第一EPWM模块的第一输入端；所述输入电压外环包括：第三补偿器、第三减法器；所述第三减法器的第一端连接所述第三ADC模块的第二端，所述第三减法器的第二端用于接收母线数字电压给定值，所述第三减法器的第一端，所述第三减法器的第三端连接所述第三补偿器的一端，所述第三补偿器的另一端连接所述第二减法器的第二端。可选的，所述第二级DC-DC电路包括：第二电感、第二二极管、第二开关管、第二电容、第二电阻、第二EPWM模块、第四ADC模块、第五ADC模块、第六ADC模块、母线电压环、输出电流环、输出电压环；所述第二开关管的漏极作为所述第二级DC-DC电路的第一端连接所述第一级DC-DC电路的第二端，所述第二开关管的源极分别连接所述第二二极管的负极、所述第二电感的一端，所述第二开关管的栅极连接所述第二EPWM模块的输出端；所述第二电感的另一端分别连接所述第二电容的一端、所述第二电阻的一端；所述第二二极管的正极、所述第二电容的另一端、所述第二电阻的另一端均连接所述光伏供电设备的负极；所述第二EPWM模块的第一输入端分别连接所述母线电压环、所述输出电流环、所述输出电压环；所述第二EPWM模块的第二输入端用于接收第二DSP载波信号；所述第四ADC模块的第一端连接所述第一级DC-DC电路的第二端，所述第四ADC模块的第二端连接所述母线电压环；所述第五ADC模块的第一端连接所述第二电感的另一端，所述第五ADC模块的第二端连接所述输出电流环；所述第六ADC模块的第一端连接所述第二电感的另一端，所述第六ADC模块的第二端连接所述输出电压环。可选的，所述第二级DC-DC电路中的所述母线电压环包括：第四补偿器、第四减法器；所述第四减法器的第一端连接所述第四ADC模块的第二端，所述第四减法器的第二端用于接收所述母线数字电压给定值，所述第四减法器的第三端连接所述第四补偿器的一端，所述第四补偿器的另一端分别连接所述第二EPWM模块的第一输入端、所述输出电流环、所述输出电压环；所述输出电流环包括：第五补偿器、第五减法器；所述第五减法器的第一端连接所述第五ADC模块的第二端，所述第五减法器的第二端用于接收输出数字电流给定值，所述第五减法器的第三端连接所述第五补偿器的一端，所述第五补偿器的另一端分别连接所述第二EPWM模块的第一输入端、所述第四补偿器的另一端、所述输出电压环；所述输出电压环包括：第六补偿器、第六减法器；所述第六减法器的第一端连接所述第六ADC模块的第二端，所述第六减法器的第二端用于接收输出数字电压给定值，所述第六减法器的第三端连接所述第六补偿器的一端，所述第六补偿器的另一端分别连接所述第二EPWM模块的第一输入端、所述第四补偿器的另一端、所述第五补偿器的另一端。可选的，所述第一级DC-DC电路和所述第二级DC-DC电路通过SCI总线进行通信，所述第二级DC-DC电路与上位机通过CAN总线进行通信。第二方面，本发明实施例提供了一种DC-DC变换电路的控制方法，应用于如第一方面所述的DC-DC变换电路，所述方法包括：启动所述DC-DC变换电路，确定初始输入数字电压，所述初始输入数字电压为所述光伏供电设备的开环电压对应的数字量；通过所述第一ADC模块、所述第二ADC模块实时采样所述第一级DC-DC电路的第一输入电流、第一输入电压，得到第一输入数字电流、第一输入数字电压；数字电压、数字电流均为数字量；通过MPPT控制算法，根据所述初始输入数字电压、所述第一输入数字电流、所述第一输入数字电压控制所述第一级DC-DC电路生成第一输出电压，将所述第一输出电压传输给所述第二级DC-DC电路的第一端；通过所述第四ADC模块、所述第五ADC模块实时采样所述第二级DC-DC电路的第二输入电流、第二输入电压，得到第二输入数字电流、第二输入数字电压；根据所述第二输入数字电流、所述第二输入数字电压控制所述第二级DC-DC电路生成第二输出电压；通过所述母线以所述第二输出电压向所述用电设备供电。第三方面，本发明实施例提供了一种DC-DC变换器，包括本发明实施例的第一方面任一项所述的DC-DC变换电路。可以看出，通过实施本发明实施例，启动DC-DC变换电路，确定初始输入数字电压，初始输入数字电压为光伏供电设备的开环电压对应的数字量；通过第一ADC模块、第二ADC模块实时采样第一级DC-DC电路的第一输入电流、第一输入电压，得到第一输入数字电流、第一输入数字电压；数字电压、数字电流均为数字量；通过MPPT控制算法，根据初始输入数字电压、第一输入数字电流、第一输入数字电压控制第一级DC-DC电路生成第一输出电压，将第一输出电压传输给第二级DC-DC电路的第一端；通过第四ADC模块、第五ADC模块实时采样第二级DC-DC电路的第二输入电流、第二输入电压，得到第二输入数字电流、第二输入数字电压；根据第二输入数字电流、第二输入数字电压控制第二级DC-DC电路生成第二输出电压；通过母线以第二输出电压向用电设备供电；通过实时采样第一级DC-DC电路的第一输入电流、第一输入电压，并且，通过MPPT控制算法控制DC-DC变换电路的输出电压，使其保持在一个安全的范围，有效防止了DC-DC变换电路因过压和过流而损坏的情况。附图说明为了更清楚地说明本发明实施例或背景技术中的技术方案，下面将对本发明实施例或背景技术中所需要使用的附图进行说明。图1是本发明实施例提供的一种DC-DC变换电路的电路框图；图2是本发明实施例提供的一种DC-DC变换电路的控制方法的流程图；图3是本发明实施例提供的一种第一级DC-DC电路的结构示意图；图4是本发明实施例提供的一种第二级DC-DC电路的结构示意图；图5是本发明实施例提供的一种MPPT控制算法的运行流程图。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别不同对象，而不是用于描述特定顺序。此外，术语“包括”和“具有”以及它们任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其他步骤或单元。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。下面对本发明实施例中涉及的专有名词进行解释：DC-DC变换器：直流转直流转换器也可以称为DC-DC变换器，是一种将直流基础电源转变为其他直流电压的直流变换装置。DC-DC转换器可以将高电压转换为低电压，也可以将低电压转换为高电压。EPWM模块：PWM模块是电子脉冲宽度调制模块的简称。EPWM模块可以根据设定或输入的参数生成PWM信号，这些参数包括频率、占空比等，PWM信号用于控制功率开关管的导通和关断时间，从而，实现对输出电压或电流的精确控制。MPPT控制算法：MPPT控制算法是一种用于太阳能电池板、风力发电机、光伏发电设备等可再生能源设备中的最大功率点跟踪技术。它的主要目的是在各种光照或风速条件下，使设备始终工作在其最大功率输出点，从而，提高能源转换效率。MPPT控制算法有很多种实现方式，如扰动观察法、电导增量法、电流扫描法等。随着新能源行业的快速发展，太阳能受到极高的关注，光伏是利用太阳能的主要媒介之一。在电力电子行业的不断革新下，直流并网技术愈发的成熟，使得大型光伏场站的能量以直流形式汇集送入电网系统的方案得以实现。DC-DC变换器作为光伏电池与直流电网之间能量传递的关键设备，对其合理的控制方法对传能的效率及系统的稳定具有重大的意义。作为连接光伏和系统的DC-DC变换器，常见的都是单级拓扑：即只用BOOST或者BUCK变换器进行升压或者降压，然后接入直流电网。但是单级变换器的输入电压范围和输出电压范围比较窄，在不同的系统里通用性比较差；而两级拓扑输入和输出的范围比较广，能适应不同场景的需求。目前，通常使用DC-DC变换器连接光伏场站和电网系统，通过DC-DC变换器对光伏场站的电能进行升压或降压，然后再输入电网系统，常见的DC-DC变换器中的DC-DC变换器都是单级拓扑，在传统控制方法下，当光伏输出功率较大时，DC-DC变换器容易因过压和过流而损坏。为此，本发明提出一种DC-DC变换电路、控制方法及相关产品，可以控制DC-DC变换电路的输出电压，使其保持在一个安全的范围，有效防止了DC-DC变换电路因过压和过流而损坏的情况。请参阅图1，图1是本发明实施例提供的一种DC-DC变换电路100的电路框图，该DC-DC变换电路100包括：第一级DC-DC电路101、第二级DC-DC电路102；第一级DC-DC电路101的第一端可以连接光伏供电设备，第一级DC-DC电路101的第二端连接第二级DC-DC电路102的第一端；第二级DC-DC电路102的第二端可以连接用电设备；光伏供电设备、第一级DC-DC电路101、第二级DC-DC电路102、用电设备均可以通过母线连接；需要解释的是，本申请实施例中的光伏供电设备可以包括以下至少一种：太阳能电池板、风力发电机、光伏发电设备等等，在此不做限定；用电设备可以包括以下至少一种：电网系统、储能设备、直流负载等等，在此不做限定。请参阅图2，图2是本发明实施例提供的一种DC-DC变换电路的控制方法的流程图，应用于上述DC-DC变换电路，该方法包括以下步骤：S201、启动所述DC-DC变换电路，确定初始输入数字电压，所述初始输入数字电压为所述光伏供电设备的开环电压对应的数字量。需要说明的是，本发明实施例中，可以是通过数字控制芯片DSP对DC-DC变换电路进行控制，第一级DC-DC电路可以通过SCI总线与第二级DC-DC电路进行通信，第二级电路可以通过CAN总线与上位机进行通信。另外，第一级DC-DC电路101可以是BOOST电路，第二级DC-DC电路102可以是BUCK电路。具体实施例中，请参阅图3，图3是本发明实施例提供的一种第一级DC-DC电路101的结构示意图；如图3所示，第一级DC-DC电路101可以包括：第一电感L1、第一二极管D1、第一开关管Q1、第一电容C1、第一电阻R1、第一EPWM模块EPWM1、第一ADC模块ADC1、第二ADC模块ADC2、第三ADC模块ADC3、输入电压环301、输入电流内环302、输入电压外环303。另外，图中的Vin为光伏供电设备对第一级DC-DC电路101的输入电压，Iin为光伏供电设备对第一级DC-DC电路101的输入电流，Vout1为第一级DC-DC电路101的输出电压，输出给第二级DC-DC电路102。第一电感L1的一端作为第一级DC-DC电路101的第一端连接光伏供电设备的正极，第一电感L1的另一端分别连接第一二极管D1的正极、第一开关管Q1的漏极；第一二极管D1的负极分别连接第一电容C1的一端、第一电阻R1的一端，以及作为第一级DC-DC电路101的第二端连接第二级DC-DC电路102的第一端；第一开关管Q1的栅极连接第一EPWM模块EPWM1的输出端；第一开关管Q1的源极、第一电容C1的另一端、第一电阻R1的另一端均连接光伏供电设备的负极；第一EPWM模块EPWM1的第一输入端分别连接输入电压环301、输入电流内环302；第一EPWM模块EPWM1的第二输入端用于接收第一DSP载波信号；第一ADC模块ADC1的第一端连接光伏供电设备的正极，第一ADC模块ADC1的第二端、第三端分别连接输入电压环301；第二ADC模块ADC2的第一端连接光伏供电设备的正极，所述第二ADC模块ADC2的第二端连接输入电压环301，第二ADC模块ADC2的第三端连接输入电流内环302；第三ADC模块ADC3的第一端连接第一二极管D1的负极，第三ADC模块ADC3的第二端连接输入电压外环303。可选的，第一级DC-DC电路101中的输入电压环301包括：第一补偿器Com1、第一减法器Sub1；第一减法器Sub1的第一端连接第一ADC模块ADC1的第二端，第一减法器Sub1的第二端连接第一ADC模块ADC1的第三端；第一减法器Sub1的第三端连接第一补偿器Com1的一端；第一补偿器Com1的另一端连接第一EPWM模块EPWM1的第一输入端；输入电流内环302包括：第二补偿器Com2、第二减法器Sub2；第二减法器Sub2的第一端连接第二ADC模块ADC2的第三端，第二减法器Sub2的第二端连接输入电压外环303，第二减法器Sub2的第三端连接第二补偿器Com2的一端，第二补偿器Com2的另一端连接第一EPWM模块EPWM1的第一输入端；输入电压外环303包括：第三补偿器Com3、第三减法器Sub3；第三减法器Sub3的第一端连接第三ADC模块ADC3的第二端，第三减法器Sub3的第二端用于接收母线数字电压给定值，第三减法器Sub3的第一端，第三减法器Sub3的第三端连接第三补偿器Com3的一端，第三补偿器Com3的另一端连接第二减法器Sub2的第二端。具体的，可以是手动启动DC-DC变换电路，可以通过第一ADC模块ADC1实时采样输入电压，并将输入电压转换为数字量，得到初始输入数字电压，初始输入数字电压为光伏供电设备的开环电压对应的数字量。S202、通过所述第一ADC模块、所述第二ADC模块实时采样所述第一级DC-DC电路的第一输入电流、第一输入电压，得到第一输入数字电流、第一输入数字电压；数字电压、数字电流均为数字量。本申请实施例中，通过第一ADC模块实时采样第一输入电流Iin，第二ADC模块实时采样第一输入电压Vin，并将采样结果转换为数字量，得到第一输入数字电流、第一输入数字电压。ADC模块可以用于将模拟电压信号转换为数字信号表示，以便微控制器可以对其进行处理和分析。需要说明的是，第一输入电流Iin和第一输入电压Vin是会变化的，所以需要实时采样，采样间隔可以是提前预设或是手动设置，例如，可以是每1s采样一次。S203、通过MPPT控制算法，根据所述初始输入数字电压、所述第一输入数字电流、所述第一输入数字电压控制所述第一级DC-DC电路生成第一输出电压，将所述第一输出电压传输给所述第二级DC-DC电路的第一端。本申请实施例中，MPPT控制算法可以包括以下至少一种：恒电压跟踪法、扰动观测法、电导增量法等等，在此不做限定。具体实施例中，可以采用电导增量法作为DC-DC变换电路的控制方法的MPPT控制算法，通过MPPT控制算法，根据初始输入数字电压、第一输入数字电流、第一输入数字电压控制第一级DC-DC电路生成第一输出电压，将第一输出电压传输给第二级DC-DC电路的第一端。可选的，步骤S203，所述通过MPPT控制算法，根据所述第一输入数字电流、所述第一输入数字电压控制所述第一级DC-DC电路生成第一输出电压，所述方法还可以包括如下步骤：A1、通过所述第一ADC模块、所述第二ADC模块、所述第三ADC模块分别对所述第一级DC-DC电路的所述第一输入数字电流、所述第一输入数字电压、所述第一输出电压进行实时采样，得到第一输入采样数字电压Vin_adc、第一采样数字电流Iin_adc、第一输出采样数字电压Vout1_adc；A2、在所述输入电压环中，通过所述MPPT控制算法对所述第一输入采样数字电压Vin_adc和所述第一采样数字电流Iin_adc进行处理，得到第一输入数字电压给定值Vin_ref；A3、将所述Vin_adc和所述Vin_ref输入所述第一减法器中，得到第一数字偏差值Vin_err，将所述Vin_err送入所述第一补偿器，得到第一结果数字量Loop1_Out1；减法器用于计算两个输入信号之间的差值；A4、在所述输入电压外环中，将所述Vout1_adc和所述母线数字电压给定值Vref输入所述第三减法器中，得到第三数字偏差值Vout1_err，将所述Vout1_err送入所述第三补偿器，得到第三结果数字量Loop1_Out3；所述Loop1_Out3等于第一数字电流给定值Vin_Iref；A5、在所述输入电流内环中，将所述Iin_adc和所述Vin_Iref输入所述第二减法器中，得到第二数字偏差值Iin_err，将所述Iin_err送入所述第二补偿器，得到第二结果数字量Loop1_Out2；A6、对所述Loop1_Out1和所述Loop1_Out2进行取小操作，得到第一目标输出数字量Loop1_Out；A7、将所述Loop1_Out和所述第一DSP载波信号输入所述第一EPWM模块，通过所述第一EPWM模块的输出端输出第一PWM信号；EPWM模块为用于生成脉宽调制信号的数字信号处理器模块，根据输入的数字量和载波信号生成具有特定占空比和频率的PWM信号；A8、通过所述第一PWM信号控制所述第一开关管进行工作，得到所述第一输出电压。本申请实施例中，给定值相当于一个最大值，通过给定值来限制电路的电压输出大小，例如，母线数字电压给定值Vref就是一个最大值，用于限制母线的电压，母线的电压必须小于或等于母线数字电压给定值Vref。母线数字电压给定值Vref可以是预先设置，或者，可以是根据实际需求和电路自身限制来综合计算得到。具体实施例中，通过第一ADC模块、第二ADC模块、第三ADC模块分别对第一级DC-DC电路的第一输入数字电流、第一输入数字电压、第一输出电压进行实时采样，得到第一输入采样数字电压Vin_adc、第一采样数字电流Iin_adc、第一输出采样数字电压Vout1_adc；ADC模块的采样间隔可以是预先设置，例如，ADC模块的采样间隔为1秒。在输入电压环中，通过MPPT控制算法对第一输入采样数字电压Vin_adc和第一采样数字电流Iin_adc进行处理，得到第一输入数字电压给定值Vin_ref；将Vin_adc和Vin_ref输入第一减法器中，得到第一数字偏差值Vin_err，具体如下：Vin_err=Vin_adc-Vin_ref；将Vin_err送入第一补偿器，经第一补偿器对Vin_err进行补偿计算后，得到第一结果数字量Loop1_Out1；在输入电压外环中，将Vout1_adc和母线数字电压给定值Vref输入第三减法器中，得到第三数字偏差值Vout1_err，具体如下：Vout1_err=Vref-Vout1_adc；将Vout1_err送入第三补偿器，经第三补偿器对Vout1_err进行补偿计算后，得到第三结果数字量Loop1_Out3；在输入电流内环中，将Iin_adc和Vin_Iref输入第二减法器中，得到第二数字偏差值Iin_err，具体如下：Iin_err=Vin_Iref-Iin_adc；将Iin_err送入第二补偿器，经第二补偿器对Iin_err进行补偿计算后，得到第二结果数字量Loop1_Out2；对Loop1_Out1和Loop1_Out2进行取小操作，得到第一目标输出数字量Loop1_Out，通过取小可以防止输出过大损坏电路。将Loop1_Out和第一DSP载波信号输入第一EPWM模块，通过第一EPWM模块的输出端输出第一PWM信号；第一EPWM模块会将输入的Loop1_Out与第一DSP载波信号进行比较，根据比较结果来控制输出脉冲的宽度，从而，得到第一PWM信号。第一DSP载波信号是DSP通过寄存器输出的三角波。通过第一PWM信号控制第一开关管Q1进行工作，得到第一输出电压。可选的，步骤A2，所述在所述输入电压环中，通过所述MPPT控制算法对所述第一输入采样数字电压Vin_adc和所述第一采样数字电流Iin_adc进行处理，得到第一输入数字电压给定值Vin_ref，所述方法还可以包括如下步骤：B1、根据所述Vin_adc和所述Iin_adc获取当前时刻的所述第一级DC-DC电路的第一电导值；所述第一电导值等于Iin_adc除以Vin_adc；B2、获取上一采样时刻的所述第一级DC-DC电路的参考采样数字电压Vin_adc1、参考采样数字电流Iin_adc1；B3、根据所述第一电导值、所述Vin_adc1、所述Iin_adc1确定目标扰动值；B4、根据所述Vin_adc、所述目标扰动值确定所述Vin_ref。本申请实施例中，采用的是MPPT控制算法中的电导增量法，目标扰动值可以是预先设置或是手动设置。具体实施例中，根据Vin_adc和Iin_adc获取当前时刻的第一级DC-DC电路的第一电导值；第一电导值G1=Iin_adc/Vin_adc;接着，可以获取上一采样时刻的第一级DC-DC电路的参考采样数字电压Vin_adc1、参考采样数字电流Iin_adc1；计算数字电压的变化值：△V=Vin_adc-Vin_adc1；计算数字电流的变化值：△I=Iin_adc-Iin_adc1；计算电导的变化率：△G=△I/△V；比较△G与G1直接的大小关系，若二者相等，说明第一级DC-DC电路目前处于最大功率点，目标扰动值为0；若△G大于G1，则目标扰动值为正值，可以对Vin_adc加上目标扰动值，得到Vin_ref；若△G小于G1，则目标扰动值为正值，可以对Vin_adc减去目标扰动值，得到Vin_ref。需要解释的是，在DC-DC变换电路刚刚启动时，也即第一次采样时，第一级DC-DC电路是只有输入电压，没有输入电流的，此时的电导值为0，并且，没有上一采样时刻，如果正常运行MPPT控制算法的话，DC-DC变换电路是不会产生电流的，所以，在DC-DC变换电路刚刚启动时，也就是MPPT控制算法第一次运行时，扰动值设置一个固定负值，进行小功率传能，这样才能检测到输入电流来正确的计算扰动方向和大小。扰动的大小可以通过实际输入电压与开环电压的差来确定，差值越大，扰动越小。用来提升电路的动态性能与最大功率点附近的稳定性。S204、通过所述第四ADC模块、所述第五ADC模块实时采样所述第二级DC-DC电路的第二输入电流、第二输入电压，得到第二输入数字电流、第二输入数字电压。本申请实施例中，请参阅图4，图4是本发明实施例提供的一种第二级DC-DC电路102的结构示意图。如图4所示，第二级DC-DC电路102可以包括：第二电感L2、第二二极管D2、第二开关管Q2、第二电容C2、第二电阻R2、第二EPWM模块EPWM2、第四ADC模块ADC4、第五ADC模块ADC5、第六ADC模块ADC6、母线电压环401、输出电流环402、输出电压环403。另外，图4中的Vbus为上述的Vout1；Iout为第二级DC-DC电路102的输出电流，Vout2为第二级DC-DC电路102的输出电压，输出给用电设备。第二开关管Q2的漏极作为第二级DC-DC电路102的第一端连接第一级DC-DC电路101的第二端，第二开关管Q2的源极分别连接第二二极管D2的负极、第二电感L2的一端，第二开关管Q2的栅极连接第二EPWM模块EPWM2的输出端；第二电感L2的另一端分别连接第二电容C2的一端、第二电阻R2的一端；第二二极管D2的正极、第二电容C2的另一端、第二电阻R2的另一端均连接光伏供电设备的负极；第二EPWM模块EPWM2的第一输入端分别连接母线电压环401、输出电流环402、输出电压环403；第二EPWM模块EPWM2的第二输入端用于接收第二DSP载波信号；第四ADC模块ADC4的第一端连接第一级DC-DC电路101的第二端，第四ADC模块ADC4的第二端连接母线电压环401；第五ADC模块ADC5的第一端连接第二电感L2的另一端，第五ADC模块ADC5的第二端连接输出电流环402；第六ADC模块ADC6的第一端连接第二电感L2的另一端，第六ADC模块ADC6的第二端连接输出电压环403。可选的，第二级DC-DC电路102中的母线电压环401包括：第四补偿器Com4、第四减法器Sub4；第四减法器Sub4的第一端连接第四ADC模块ADC4的第二端，第四减法器Sub4的第二端用于接收母线数字电压给定值，第四减法器Sub4的第三端连接第四补偿器Com4的一端，第四补偿器Com4的另一端分别连接第二EPWM模块EPWM2的第一输入端、输出电流环402、输出电压环403；输出电流环402包括：第五补偿器Com5、第五减法器Sub5；第五减法器Sub5的第一端连接第五ADC模块ADC5的第二端，第五减法器Sub5的第二端用于接收输出数字电流给定值，第五减法器Sub5的第三端连接第五补偿器Com5的一端，第五补偿器Com5的另一端分别连接第二EPWM模块EPWM2的第一输入端、第四补偿器Com4的另一端、输出电压环403；输出电压环403包括：第六补偿器Com6、第六减法器Sub6；第六减法器Sub6的第一端连接第六ADC模块ADC6的第二端，第六减法器Sub6的第二端用于接收输出数字电压给定值，第六减法器Sub6的第三端连接第六补偿器Com6的一端，第六补偿器Com6的另一端分别连接第二EPWM模块EPWM2的第一输入端、第四补偿器Com4的另一端、第五补偿器Com5的另一端。具体实施例中，可以通过第四ADC模块、第五ADC模块实时采样第二级DC-DC电路的第二输入电流、第二输入电压，得到第二输入数字电流、第二输入数字电压。S205、根据所述第二输入数字电流、所述第二输入数字电压控制所述第二级DC-DC电路生成第二输出电压。本申请实施例中，可以是根据第二输入数字电流、第二输入数字电压控制第二级DC-DC电路生成第二输出电压。可选的，步骤S205，所述根据所述第二输入数字电流、所述第二输入数字电压控制所述第二级DC-DC电路生成第二输出电压，可以包括如下步骤：51、通过所述上位机设置所述第二级DC-DC电路的输出数字电流给定值Out_Iref和输出数字电压给定值Out_Vref；52、通过所述第四ADC模块、所述第五ADC模块、所述第六ADC模块分别对所述第一级DC-DC电路的所述第二输入数字电流、所述第二输入数字电压、所述第二输出电压分别进行实时采样，得到第二输入采样数字电压Vbus_adc、第二采样数字电流Iout_adc、第二输出采样数字电压Vout2_adc；53、在所述母线电压环中，将所述Vbus_adc和所述Vref输入所述第四减法器，得到第四数字偏差值Vbus_err，将所述Vbus_err送入所述第四补偿器，得到第四结果数字量Loop2_Out1；54、在所述输出电流环中，将所述Iout_adc和所述Out_Iref输入所述第五减法器，得到第五数字偏差值Iout2_err，将所述Iout2_err送入所述第五补偿器，得到第五结果数字量Loop2_Out2；55、在所述输出电压环中，将所述Vout2_adc和所述Out_Vref输入所述第六减法器，得到第六数字偏差值Vout2_err，将所述Vout2_err送入所述第六补偿器，得到第六结果数字量Loop2_Out3；56、对所述Loop2_Out2和所述Loop2_Out3进行取小操作，得到参考输出数字量Loop2_Out4；57、对所述Loop2_Out1和所述Loop2_Out4进行取小操作，得到第二目标输出数字量Loop2_Out；58、将所述Loop2_Out和所述第二DSP载波信号输入所述第二EPWM模块，通过所述第二EPWM模块的输出端输出第二PWM信号；59、通过所述第二PWM信号控制所述第二开关管进行工作，得到所述第二输出电压。本申请实施例中，可以先通过上位机设置第二级DC-DC电路的输出数字电流给定值Out_Iref和输出数字电压给定值Out_Vref；Out_Iref和Out_Vref用于限制第二级DC-DC电路的输出电压和输出电流。接着，可以通过第四ADC模块、第五ADC模块、第六ADC模块分别对第一级DC-DC电路的第二输入数字电流、第二输入数字电压、第二输出电压分别进行实时采样，得到第二输入采样数字电压Vbus_adc、第二采样数字电流Iout_adc、第二输出采样数字电压Vout2_adc；ADC模块的采样间隔可以是预先设置，例如，ADC模块的采样间隔为1秒。在母线电压环中，将Vbus_adc和Vref输入第四减法器，得到第四数字偏差值Vbus_err，具体如下：Vbus_err=Vbus_adc-Vref；将Vbus_err送入第四补偿器，经第四补偿器对Vbus_err进行补偿计算后，得到第四结果数字量Loop2_Out1。在输出电流环中，将Iout_adc和Out_Iref输入第五减法器，得到第五数字偏差值Iout2_err，具体如下：Iout2_err=Out_Iref-Iout_adc；将Iout2_err送入第五补偿器，经第五补偿器对Iout2_err进行补偿计算后，得到第五结果数字量Loop2_Out2；在输出电压环中，将Vout2_adc和Out_Vref输入第六减法器，得到第六数字偏差值Vout2_err，具体如下：Vout2_err=Out_Vref-Vout2_adc；将Vout2_err送入第六补偿器，经第六补偿器对Vout2_err进行补偿计算后，得到第六结果数字量Loop2_Out3；对Loop2_Out2和Loop2_Out3进行取小操作，得到参考输出数字量Loop2_Out4；对Loop2_Out1和Loop2_Out4进行取小操作，得到第二目标输出数字量Loop2_Out；取小操作可以通过编写的电路程序来实现。将Loop2_Out和第二DSP载波信号输入第二EPWM模块，通过第二EPWM模块的输出端输出第二PWM信号，第二EPWM模块会将输入的Loop2_Out与第二DSP载波信号进行比较，根据比较结果来控制输出脉冲的宽度，从而，得到第二PWM信号。第二DSP载波信号是DSP通过寄存器输出的三角波。通过第二PWM信号控制第二开关管进行工作，得到第二输出电压。S206、通过所述母线以所述第二输出电压向所述用电设备供电。本申请实施例中，可以是将第二级DC-DC电路的输出电压调节为第二输出电压，通过母线连接用电设备，向用电设备供电。可以看出，通过实施本发明实施例，启动DC-DC变换电路，确定初始输入数字电压，初始输入数字电压为光伏供电设备的开环电压对应的数字量；通过第一ADC模块、第二ADC模块实时采样第一级DC-DC电路的第一输入电流、第一输入电压，得到第一输入数字电流、第一输入数字电压；数字电压、数字电流均为数字量；通过MPPT控制算法，根据初始输入数字电压、第一输入数字电流、第一输入数字电压控制第一级DC-DC电路生成第一输出电压，将第一输出电压传输给第二级DC-DC电路的第一端；通过第四ADC模块、第五ADC模块实时采样第二级DC-DC电路的第二输入电流、第二输入电压，得到第二输入数字电流、第二输入数字电压；根据第二输入数字电流、第二输入数字电压控制第二级DC-DC电路生成第二输出电压；通过母线以第二输出电压向用电设备供电；通过实时采样第一级DC-DC电路的第一输入电流、第一输入电压，并且，通过MPPT控制算法控制DC-DC变换电路的输出电压，使其保持在一个安全的范围，有效防止了DC-DC变换电路因过压和过流而损坏的情况。请参阅图5，图5是本发明实施例提供的一种MPPT控制算法的运行流程图，应用于图1所示的DC-DC变换电路，首先进行模块上电，模块上电是指给DC-DC变换电路供电，启动DC-DC变换电路，接着，通过上位机设置第二级DC-DC电路的输出数字电流给定值Out_Iref和输出数字电压给定值Out_Vref，开机，实时采样Vin_adc和Iin_adc，将Vin_adc和Iin_adc输入MPPT控制算法，通过MPPT控制算法获取目标扰动值Vin_turb，Vin_ref=Vin_adc-Vin_turb。计算第一数字偏差值Vin_err，Vin_err=Vin_adc-Vin_ref；补偿器可以是PID控制器，通过补偿器对Vin_err进行补偿计算：Loop1_Out1=Kp*Vin_err0+Ki*∑+Kd*；该计算公式为PID控制器的输出公式，Kp，Ki，Kd是PID控制器的参数，分别代表比例、积分和微分增益。Vin_err0，Vin_err1是前两次的误差值，Vin_err是当前的误差值。∑是所有误差值的累积和。这个公式的含义是：输出值等于比例增益乘以当前误差值加上积分增益乘以所有误差值的累积和再加上微分增益乘以当前误差值与前一次误差值的差。进一步的，对Loop1_Out1和Loop1_Out2进行取小操作，得到第一目标输出数字量Loop1_Out，具体如下：Loop1_Out=min；将Loop1_Out作为第一PWM信号的CMPA值，改变占空比来调节母线电压。CMPA值可以是EPWM模块的输入值，用于确定PWM信号的占空比。占空比是指PWM信号在一个周期内高电平的时间与周期时间的比值，它决定了输出电压的平均值。通过改变CMPA值，可以调节PWM信号的占空比，从而，实现对输出电压的调节，也即调节母线电压。接着，同步把第一输出电压和Vref发送给第二级DC-DC电路用作环路计算，具体的，可以是将第一输出电压和母线数字电压给定值Vref通过SCI总线传输给第二级DC-DC电路，在母线电压环中，第四数字偏差值Vbus_err=Vbus_adc-Vref；第四结果数字量Loop2_Out1=Vbus_err0+Ki*∑；其中，Vbus_err0是初始误差值，通常是一个预设的值或者上一次循环计算得到的误差值，Ki是比例增益系数，它是一个常数，用于控制PID控制器对误差的反应程度。∑是误差的总和，它是所有误差值的累加。对Loop2_Out2和Loop2_Out3进行取小操作：Loop2_Out4=min；得到参考输出数字量Loop2_Out4；对Loop2_Out1和Loop2_Out4进行取小操作：Loop2_Out=min；得到第二目标输出数字量Loop2_Out；将Loop2_Out作为第二PWM信号的CMPA值，改变占空比来调节母线电压。策略结束。本发明实施例还提供一种DC-DC变换器，该DC-DC变换器可以包括上述实施例所述的部分或全部DC-DC变换电路。需要说明的是，对于前述的各方法实施例，为了简单描述，故将其都表述为一系列的动作组合，但是本领域技术人员应该知悉，本申请并不受所描述的动作顺序的限制，因为依据本申请，某些步骤可以采用其他顺序或者同时进行。其次，本领域技术人员也应该知悉，说明书中所描述的实施例均属于优选实施例，所涉及的动作和模块并不一定是本申请所必须的。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其他实施例的相关描述。在本申请所提供的几个实施例中，应该理解到，所揭露的装置，可通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如上述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性或其它的形式。上述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。以上对本发明实施例进行了详细介绍，本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请的方法及其核心思想；同时，对于本领域的一般技术人员，依据本申请的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本申请的限制。
