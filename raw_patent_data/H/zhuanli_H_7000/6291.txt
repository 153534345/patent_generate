标题title
一种云数据库软件系统的许可证许可控制方法及相关设备
摘要abst
本发明公开了一种云数据库软件系统的许可证许可控制方法及相关设备，其中，上述方法包括：获取云数据库软件系统的参数信息和有效期限，并获取第一环境信息，并将参数信息、有效期限和第一环境信息加密设置在许可证文件中；获取虚拟机的云化操作，根据云化操作获取上述虚拟机对应的第一运行参数和上述云数据库软件系统的第二运行参数，并获取上述许可证文件当前所在的服务器的第二环境信息；根据第一运行参数、许可证文件、第二运行参数和第二环境信息，判断云化操作是否被授权，当云化操作被授权时，更新第二运行参数并运行云化操作。本发明通过上述方法，实现了对云数据软件系统中虚拟机的合理许可与保护。
权利要求书clms
1.一种云数据库软件系统的许可证许可控制方法，其特征在于，所述云数据库软件系统的许可证许可控制方法包括：获取所述云数据库软件系统的参数信息和有效期限，并获取第一环境信息，并将所述参数信息、所述有效期限和所述第一环境信息加密设置在许可证文件中；获取虚拟机的云化操作，根据所述云化操作获取所述虚拟机对应的第一运行参数和所述云数据库软件系统的第二运行参数，并获取所述许可证文件当前所在的服务器的第二环境信息；根据所述第一运行参数、所述许可证文件、所述第二运行参数和第二环境信息，判断所述云化操作是否被授权，当所述云化操作被授权时，更新所述第二运行参数并运行所述云化操作。2.根据权利要求1所述的云数据库软件系统的许可证许可控制方法，其特征在于，所述参数信息包括最大磁盘容量、最大CPU数量、最大内存数量和最大虚拟机数量；所述第一环境信息包括被授权的服务器的网卡硬件信息、磁盘硬件信息和主板硬件信息。3.根据权利要求2所述的云数据库软件系统的许可证许可控制方法，其特征在于，所述云化操作包括启动所述云数据库软件系统的虚拟机、关闭所述云数据库软件系统的虚拟机和对已启动的虚拟机进行扩缩容；所述第一运行参数包括虚拟机运行参数和扩缩运行参数，其中，所述虚拟机运行参数包括所述虚拟机的磁盘容量、CPU数量和内存数量，所述扩缩运行参数包括所述虚拟机请求扩缩的磁盘容量、CPU数量和内存数量；所述第二运行参数包括所述云数据库软件系统已申请的磁盘容量、CPU数量、内存数量和虚拟机数量；所述第二环境信息包括所述许可证文件当前所在的服务器的网卡硬件信息、磁盘硬件信息和主板硬件信息。4.根据权利要求3所述的云数据库软件系统的许可证许可控制方法，其特征在于，所述根据所述第一运行参数、所述许可证文件、所述第二运行参数和第二环境信息，判断所述云化操作是否被授权，当所述云化操作被授权时，更新所述第二运行参数并运行所述云化操作，具体包括：当所述云化操作为启动所述云数据库软件系统的虚拟机时，判断当前服务器是否存在许可证文件，当存在所述许可证文件时，解析所述许可证文件得到所述有效期限；根据所述有效期限判断当前时间是否在有效期限内，当当前时间在有效期限内时，解析所述许可证文件得到所述第一环境信息；判断所述第一环境信息与所述第二环境信息是否相同，当所述第一环境信息与所述第二环境信息相同，则解析所述许可证文件得到所述参数信息；根据所述虚拟机运行参数和所述第二运行参数，得到第一预授权运行参数，根据所述参数信息和所述第一预授权运行参数，判断所述启动所述云数据库软件系统的虚拟机的云化操作是否被授权，当所述启动所述云数据库软件系统的虚拟机的云化操作被授权时，根据所述第一预授权运行参数更新所述第二运行参数并运行所述云化操作；当所述云化操作为关闭所述云数据库软件系统的虚拟机时，则根据所述虚拟机运行参数更新所述第二运行参数，并关闭虚拟机。5.根据权利要求3所述的云数据库软件系统的许可证许可控制方法，其特征在于，所述根据所述第一运行参数、所述许可证文件、所述第二运行参数和第二环境信息，判断所述云化操作是否被授权，当所述云化操作被授权时，更新所述第二运行参数并运行所述云化操作，具体包括：当所述云化操作为对已启动的虚拟机进行扩缩容时，判断当前服务器是否存在许可证文件，当存在所述许可证文件时，解析所述许可证文件得到所述有效期限；根据所述有效期限判断当前时间是否在有效期限内，当当前时间在有效期限内时，解析所述许可证文件得到所述第一环境信息；判断所述第一环境信息与所述第二环境信息是否相同，当所述第一环境信息与所述第二环境信息相同，则解析述许可证文件得到所述参数信息，并获取要进行扩缩容的虚拟机的扩缩运行参数；根据所述第二运行参数和所述扩缩运行参数，得到第二预授权运行参数，根据所述参数信息和所述第二预授权运行参数，判断所述对已启动的虚拟机进行扩缩容的云化操作是否被授权，当所述对已启动的虚拟机进行扩缩容的云化操作被授权时，根据所述第二预授权运行参数更新所述第二运行参数并运行所述云化操作。6.根据权利要求3所述的云数据库软件系统的许可证许可控制方法，其特征在于，所述云化操作还包括迁移和运行所述云数据库软件系统的虚拟机。7.根据权利要求3所述的云数据库软件系统的许可证许可控制方法，其特征在于，所述云数据库软件系统的许可证许可控制方法，还包括：根据预设的检查时间，定时监控检查所述云数据库软件系统中许可证文件的有效期限；当当前日期在有效期限内，并且所述第二环境信息与所述第一环境信息相同，则结束对所述定时监控检查；当当前日期不在所述有效期限内或所述第二环境信息与所述第一环境信息不相同，则更新所述云数据库软件系统的第二运行参数，并关闭对应的虚拟机。8.一种云数据库软件系统的许可证许可控制系统，其特征在于，所述云数据库软件系统的许可证许可控制系统包括：许可证文件生成模块，用于获取所述云数据库软件系统的参数信息和有效期限，并获取第一环境信息，并将所述参数信息、所述有效期限和所述第一环境信息加密设置在许可证文件中；数据获取模块，用于获取虚拟机的云化操作，根据所述云化操作获取所述虚拟机对应的第一运行参数和所述云数据库软件系统的第二运行参数，并获取所述许可证文件当前所在的服务器的第二环境信息；授权判断模块，用于根据所述第一运行参数、所述许可证文件、所述第二运行参数和第二环境信息，判断所述云化操作是否被授权，当所述云化操作被授权时，更新所述第二运行参数并运行所述云化操作。9.一种智能终端，其特征在于，所述智能终端包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的云数据库软件系统的许可证许可控制程序，所述云数据库软件系统的许可证许可控制程序被所述处理器执行时实现如权利要求1-7任意一项所述云数据库软件系统的许可证许可控制方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有云数据库软件系统的许可证许可控制程序，所述云数据库软件系统的许可证许可控制程序被处理器执行时实现如权利要求1-7任意一项所述云数据库软件系统的许可证许可控制方法的步骤。
说明书desc
技术领域本发明涉及云计算软件许可证许可控制领域，尤其涉及的是一种云数据库软件系统的许可证许可控制方法系统、智能终端及计算机可读存储介质。背景技术数据库软件系统是绝大部分应用软件依赖的重要功能，它用于存储用户使用应用软件所依赖和所产生的数据。基于数据库软件系统的基础性和重要性，目前将数据库与虚拟化技术相结合而成的一种云数据库技术已经成为主流趋势，这种技术将数据库软件运行在虚拟机中，使云数据库软件系统具备了虚拟化的优点。与运行在物理服务器之上的传统数据库软件系统相比，云数据库软件系统具有软硬件解耦、灵活扩缩容、迁移等优点，极大的延长了云数据库软件系统的平均无故障时间，提高了数据库软件的高可用性。目前，云数据库软件系统能够在云计算平台下的各种硬件服务器上进行启动、停止、扩缩容和迁移等云化操作，因此它更容易在各种各样的云计算环境上部署和运行在云数据库软件系统中，但是由于虚拟机的存在导致无法基于固定的服务器硬件信息去制作云数据库软件系统对应的许可证，导致云数据软件系统中的资产并不安全，同时因为云计算平台资源非常丰富，往往会启动多个虚拟机组成一个云数据库软件系统从而导致对云数据库中资产的许可控制不方便。因此，现有技术还有待改进和发展。发明内容本发明的主要目的在于提供一种云数据库软件系统的许可证许可控制方法、系统、智能终端及计算机可读存储介质，旨在解决现有技术中在云数据库软件系统中由于虚拟机的存在导致无法基于固定的服务器硬件信息去制作云数据库软件系统对应的许可证，导致云数据软件系统中的资产并不安全，同时也使得云数据库软件系统中无法通过与这些云化操作相紧密结合的许可证实现对虚拟机的许可授权的问题。为了实现上述目的，本发明第一方面提供一种云数据库软件系统的许可证许可控制方法，其中，上述云数据库软件系统的许可证许可控制方法包括：获取上述云数据库软件系统的参数信息和有效期限，并获取第一环境信息，并将上述参数信息、上述有效期限和上述第一环境信息加密设置在许可证文件中；获取虚拟机的云化操作，根据上述云化操作获取上述虚拟机对应的第一运行参数和上述云数据库软件系统的第二运行参数，并获取上述许可证文件当前所在的服务器的第二环境信息；根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作。可选的，上述参数信息包括最大磁盘容量、最大CPU数量、最大内存数量和最大虚拟机数量；上述第一环境信息包括被授权的服务器的网卡硬件信息、磁盘硬件信息和主板硬件信息。可选的，上述云化操作包括启动上述云数据库软件系统的虚拟机、关闭上述云数据库软件系统的虚拟机和对已启动的虚拟机进行扩缩容；上述第一运行参数包括虚拟机运行参数和扩缩运行参数，其中，上述虚拟机运行参数包括上述虚拟机的磁盘容量、CPU数量和内存数量，上述扩缩运行参数包括上述虚拟机请求扩缩的磁盘容量、CPU数量和内存数量；上述第二运行参数包括上述云数据库软件系统已申请的磁盘容量、CPU数量、内存数量和虚拟机数量；上述第二环境信息包括上述许可证文件当前所在的服务器的网卡硬件信息、磁盘硬件信息和主板硬件信息。可选的，上述根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作，具体包括：当上述云化操作为启动上述云数据库软件系统的虚拟机时，判断当前服务器是否存在许可证文件，当存在上述许可证文件时，解析上述许可证文件得到上述有效期限；根据上述有效期限判断当前时间是否在有效期限内，当当前时间在有效期限内时，解析上述许可证文件得到上述第一环境信息；判断上述第一环境信息与上述第二环境信息是否相同，当上述第一环境信息与上述第二环境信息相同，则解析上述许可证文件得到上述参数信息；根据上述虚拟机运行参数和上述第二运行参数，得到第一预授权运行参数，根据上述参数信息和上述第一预授权运行参数，判断上述启动上述云数据库软件系统的虚拟机的云化操作是否被授权，当上述启动上述云数据库软件系统的虚拟机的云化操作被授权时，根据上述第一预授权运行参数更新上述第二运行参数并运行上述云化操作；当上述云化操作为关闭上述云数据库软件系统的虚拟机时，则根据上述虚拟机运行参数更新上述第二运行参数，并关闭虚拟机。可选的，上述根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作，具体包括：当上述云化操作为对已启动的虚拟机进行扩缩容时，判断当前服务器是否存在许可证文件，当存在上述许可证文件时，解析上述许可证文件得到上述有效期限；根据上述有效期限判断当前时间是否在有效期限内，当当前时间在有效期限内时，解析上述许可证文件得到上述第一环境信息；判断上述第一环境信息与上述第二环境信息是否相同，当上述第一环境信息与上述第二环境信息相同，则解析述许可证文件得到上述参数信息，并获取要进行扩缩容的虚拟机的扩缩运行参数；根据上述第二运行参数和上述扩缩运行参数，得到第二预授权运行参数，根据上述参数信息和上述第二预授权运行参数，判断上述对已启动的虚拟机进行扩缩容的云化操作是否被授权，当上述对已启动的虚拟机进行扩缩容的云化操作被授权时，根据上述第二预授权运行参数更新上述第二运行参数并运行上述云化操作。可选的，上述云化操作还包括迁移和运行上述云数据库软件系统的虚拟机。可选的，上述探云数据库软件系统的许可证许可控制方法，还包括：根据预设的检查时间，定时监控检查上述云数据库软件系统中许可证文件的有效期限；当当前日期在有效期限内，并且上述第二环境信息与上述第一环境信息相同，则结束对上述定时监控检查；当当前日期不在上述有效期限内或上述第二环境信息与上述第一环境信息不相同，则更新上述云数据库软件系统的第二运行参数，并关闭对应的虚拟机。本发明第二方面提供一种云数据库软件系统的许可证许可控制系统，其中，上述云数据库软件系统的许可证许可控制系统包括：许可证文件生成模块，用于获取上述云数据库软件系统的参数信息和有效期限，并获取第一环境信息，并将上述参数信息、上述有效期限和上述第一环境信息加密设置在许可证文件中；数据获取模块，用于获取虚拟机的云化操作，根据上述云化操作获取上述虚拟机对应的第一运行参数和上述云数据库软件系统的第二运行参数，并获取上述许可证文件当前所在的服务器的第二环境信息；授权判断模块，用于根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作。本发明第三方面提供一种智能终端，上述智能终端包括存储器、处理器以及存储在上述存储器上并可在上述处理器上运行的云数据库软件系统的许可证许可控制程序，上述云数据库软件系统的许可证许可控制程序被上述处理器执行时实现任意一项上述云数据库软件系统的许可证许可控制方法的步骤。本发明第四方面提供一种计算机可读存储介质，上述计算机可读存储介质上存储有云数据库软件系统的许可证许可控制程序，上述云数据库软件系统的许可证许可控制程序被处理器执行时实现任意一项上述云数据库软件系统的许可证许可控制方法的步骤。由上可见，本发明方案中获取上述云数据库软件系统的参数信息和有效期限，并获取第一环境信息，并将上述参数信息、上述有效期限和上述第一环境信息加密设置在许可证文件中；获取虚拟机的云化操作，根据上述云化操作获取上述虚拟机对应的第一运行参数和上述云数据库软件系统的第二运行参数，并获取上述许可证文件当前所在的服务器的第二环境信息；根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作。与现有技术相比，针对在云数据库软件系统中由于虚拟机的存在导致无法基于固定的服务器硬件信息去制作云数据库软件系统对应的许可证，导致云数据软件系统中的资产并不安全，同时也使得云数据库软件系统中无法通过与这些云化操作相紧密结合的许可证实现对虚拟机的许可授权的问题，本申请所提出的云数据库软件系统的许可证许可控制方法中由于云数据库软件系统中的程序文件设置是在云数据库中，云数据库中的程序文件无法实现很好的保密效果，因此本申请中则基于云数据库软件系统的信息制作云数据库软件系统的许可证文件，从而使得只有在拥有对应云数据库软件系统的许可证文件的客户才可以按照许可证授权的规格信息运行云数据软件系统的虚拟机，从而保证了运行在云数据软件系统上的云数据库软件资产的安全；进一步的，在本申请中，同时通过云数据库软件系统的许可证许可控制方法实现了云数据软件系统与云计算平台的云化操作的紧密结合，能够对云数据软件系统中虚拟机的云化操作进行自动的授权许可控制，从而方便了云数据库软件系统中对虚拟机的许可授权，使得用户在采用云数据库软件系统时既能够实现对其中软件资产的安全保护，也可以实现对其中虚拟机的合理许可，让用户可以更加放心更加方便的使用云数据库软件系统。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的一种云数据库软件系统的许可证许可控制方法的流程示意图；图2是本发明实施例提供的启动云数据库软件系统的虚拟机的流程示意图；图3是本发明实施例提供的关闭云数据库软件系统的虚拟机的流程示意图；图4是本发明实施例提供的对已启动的虚拟机进行扩缩容的流程示意图；图5是本发明实施例提供的定时监控检查有效期限的流程示意图；图6是本发明实施例提供的一种云数据库软件系统的许可证许可控制系统的组成模块示意图；图7是本发明实施例提供的一种智能终端的内部结构原理框图。具体实施方式以下描述中，为了说明而不是为了限定，提出了诸如特定系统结构、技术之类的具体细节，以便透彻理解本发明实施例。然而，本领域的技术人员应当清楚，在没有这些具体细节的其他实施例中也可以实现本发明。在其他情况下，省略对众所周知的系统、装置、电路以及方法的详细说明，以免不必要的细节妨碍本发明的描述。应当理解，当在本说明书和所附权利要求书中使用时，术语“包括”指示所描述特征、整体、步骤、操作、元素和/或组件的存在，但并不排除一个或多个其他特征、整体、步骤、操作、元素、组件和/或其集合的存在或添加。还应当理解，在本发明说明书中所使用的术语仅仅是出于描述特定实施例的目的而并不意在限制本发明。如在本发明说明书和所附权利要求书中所使用的那样，除非上下文清楚地指明其他情况，否则单数形式的“一”、“一个”及“该”意在包括复数形式。还应当进一步理解，在本发明说明书和所附权利要求书中使用的术语“和/或”是指相关联列出的项中的一个或多个的任何组合以及所有可能组合，并且包括这些组合。如在本说明书和所附权利要求书中所使用的那样，术语“如果”可以依据上下文被解释为“当…时”或“一旦”或“响应于确定”或“响应于分类到”。类似的，短语“如果确定”或“如果分类到”可以依据上下文被解释为意指“一旦确定”或“响应于确定”或“一旦分类到”或“响应于分类到”。下面结合本发明实施例的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明的一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。在下面的描述中阐述了很多具体细节以便于充分理解本发明，但是本发明还可以采用其他不同于在此描述的其他方式来实施，本领域技术人员可以在不违背本发明内涵的情况下做类似推广，因此本发明不受下面公开的具体实施例的限制。数据库软件系统是绝大部分应用软件依赖的重要功能，它用于存储用户使用应用软件所依赖和所产生的数据。基于数据库软件系统的基础性和重要性，目前将数据库与虚拟化技术相结合而成的一种云数据库技术已经成为主流趋势，这种技术将数据库软件运行在虚拟机中，使云数据库软件系统具备了虚拟化的优点。与运行在物理服务器之上的传统数据库软件系统相比，云数据库软件系统具有软硬件解耦、灵活扩缩容、迁移等优点，极大的延长了云数据库软件系统的平均无故障时间，提高了数据库软件的高可用性。目前，云数据库软件系统能够在云计算平台下的各种硬件服务器上进行启动、停止、扩缩容和迁移等云化操作，因此它更容易在各种各样的云计算环境上部署和运行在云数据库软件系统中，但是由于虚拟机的存在导致无法基于固定的服务器硬件信息去制作云数据库软件系统对应的许可证，导致云数据软件系统中的资产并不安全，同时因为云计算平台资源非常丰富，往往会启动多个虚拟机组成一个云数据库软件系统从而导致对云数据库许可授权不方便。为了解决上述多个问题中的至少一个问题，本发明方案获取上述云数据库软件系统的参数信息和有效期限，并获取第一环境信息，并将上述参数信息、上述有效期限和上述第一环境信息加密设置在许可证文件中；获取虚拟机的云化操作，根据上述云化操作获取上述虚拟机对应的第一运行参数和上述云数据库软件系统的第二运行参数，并获取上述许可证文件当前所在的服务器的第二环境信息；根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作。与现有技术相比，针对在云数据库软件系统中由于虚拟机的存在导致无法基于固定的服务器硬件信息去制作云数据库软件系统对应的许可证，导致云数据软件系统中的资产并不安全，同时也使得云数据库软件系统中无法通过与这些云化操作相紧密结合的许可证实现对虚拟机的许可授权的问题，本申请所提出的云数据库软件系统的许可证许可控制方法中由于云数据库软件系统中的程序文件设置是在云数据库中，云数据库中的程序文件无法实现很好的保密效果，因此本申请中则基于云数据库软件系统的信息制作云数据库软件系统的许可证文件，从而使得只有在拥有对应云数据库软件系统的许可证文件的客户才可以按照许可证授权的规格信息运行云数据软件系统的虚拟机，从而保证了运行在云数据软件系统上的云数据库软件资产的安全；进一步的，在本申请中，同时通过云数据库软件系统的许可证许可控制方法实现了云数据软件系统与云计算平台的云化操作的紧密结合，能够对云数据软件系统中虚拟机的云化操作进行自动的授权许可控制，从而方便了云数据库软件系统中对虚拟机的许可授权，使得用户在采用云数据库软件系统时既能够实现对其中软件资产的安全保护，也可以实现对其中虚拟机的合理许可，让用户可以更加放心更加方便的使用云数据库软件系统。示例性方法如图1所示，本发明实施例提供一种云数据库软件系统的许可证许可控制方法，具体地，上述云数据库软件系统的许可证许可控制方法包括如下步骤：步骤S100，获取上述云数据库软件系统的参数信息和有效期限，并获取第一环境信息，并将上述参数信息、上述有效期限和上述第一环境信息加密设置在许可证文件中。数据库软件系统是绝大部分应用软件依赖的重要功能，它用于存储用户使用应用软件所依赖和所产生的数据。云数据库软件系统即为将数据库与虚拟化技术相结合而成的一种云数据库技术，这种技术将数据库软件运行在虚拟机中，使云数据库软件系统具备了虚拟化的优点。与运行在物理服务器之上的传统数据库软件系统相比，云数据库软件系统具有软硬件解耦、灵活扩缩容、迁移等优点，极大的延长了云数据库软件系统的平均无故障时间，提高了数据库软件的高可用性。其中虚拟机指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统。在实体计算机中能够完成的工作在虚拟机中都能够实现。云数据库软件系统与硬件解耦了，用户的云数据库软件系统能够在云计算平台下的各种硬件服务器上启动、停止、扩缩容和迁移，因此它更容易在各种各样的云计算环境上部署和运行，同时云数据库的程序文件是无法保密的，因为云数据库的程序镜像文件需要上传到公有云或客户私有云上运行，如果没有许可证的授权限制，客户或者云管理员可以无限的复制和运行云数据库软件系统虚拟机。因此，在云数据库软件系统中需要根据相关信息设置一个许可证文件，通过许可证文件能够在无许可证时，让云数据库软件系统阻止启动云数据库软件系统的启动、停止、扩缩容和迁移等云化操作，只有购买了许可证的客户，将许可证加载到云数据库软件系统的许可证许可控制方法中，才能够按照许可证授权的规格信息有限的运行云数据库软件系统的虚拟机，从而可以达到保护运行在云计算平台上的云数据库软件系统资产的效果。具体的，获取云数据库软件系统的参数信息和对应的有效期限，并获取许可证文件许可运行的第一环境信息，将有效期限、参数信息和对应的第一环节信息加密设置到许可证文件中。其中有效期限为一段时间段，例如20230808-20260808，表示当不在2023年08月08日-2026年08月08日期间，许可证文件即不在有效期限内；其中加密方式可以根据用户的个人想法进行选择，并采用相对应的解密方式对应解密。进一步的，上述参数信息包括最大磁盘容量、最大CPU数量、最大内存数量和最大虚拟机数量；上述第一环境信息包括被授权的服务器的网卡硬件信息、磁盘硬件信息和主板硬件信息。具体的，上述参数信息包括最大磁盘容量、最大CPU数量、最大内存数量、最大虚拟机数量，例如最大磁盘容量为100GB-100TB、最大CPU数量为1-512个、最大内存数量为16GB-16TB、最大虚拟机数量为1-50个；参数信息表示了云数据库软件系统中各项参数规格的上限。上述第一环境信息为提前设定的允许运行对应的云数据库软件系统的物理服务器的硬件信息，也即被授权使用云数据库软件系统的网卡硬件信息、磁盘硬件信息和主板硬件信息，具体为服务器的网卡硬件信息、磁盘硬件信息和主板硬件信息，在具体运行云数据库软件系统的许可证许可控制方法时，只有对应服务器的网卡硬件信息、磁盘硬件信息和主板硬件信息与第一环境信息相同，说明此时的服务器为提前设定的允许运行的服务器。步骤S200，获取虚拟机的云化操作，根据上述云化操作获取上述虚拟机对应的第一运行参数和上述云数据库软件系统的第二运行参数，并获取上述许可证文件当前所在的服务器的第二环境信息。在虚拟机中包含有多种云化操作，这些云化操作均在虚拟机上运行；同时虚拟机存在较多的自身信息，通过获取对应的信息有利于对虚拟机的许可。进一步的，上述云化操作包括启动上述云数据库软件系统的虚拟机、关闭上述云数据库软件系统的虚拟机和对已启动的虚拟机进行扩缩容；上述第一运行参数包括虚拟机运行参数和扩缩运行参数，其中，上述虚拟机运行参数包括上述虚拟机的磁盘容量、CPU数量和内存数量，上述扩缩运行参数包括所述虚拟机请求扩缩的磁盘容量、CPU数量和内存数量；上述第二运行参数包括上述云数据库软件系统已申请的磁盘容量、CPU数量、内存数量和虚拟机数量；上述第二环境信息包括上述许可证文件当前所在的服务器的网卡硬件信息、磁盘硬件信息和主板硬件信息。具体的，上述启动云数据库软件系统的虚拟机指申请虚拟硬件资源、加载虚拟机的操作系统程序和应用程序到虚拟硬件上运行；上述关闭云数据库软件系统的虚拟机指停止虚拟机操作系统程序和应用程序，释放虚拟硬件资源；对已启动的虚拟机进行扩缩容指重新调整一个虚拟机所占用的磁盘容量、CPU数量、内存数量，数量可以增加和减少。上述云化操作具体包括对虚拟机的迁移，对虚拟机的迁移指虚拟机由运行在物理服务器上转移到另一个物理服务器上运行。已申请的磁盘容量、CPU数量、内存数量和虚拟机数量指在对当前虚拟机进行云化操作时，在云数据库软件系统中已经运行的虚拟机所占用的磁盘容量、CPU数量、内存数量和虚拟机数量各项的和。通过获取虚拟机的云化操作以及对应的第一运行参数、第二运行参数和第二环境信息可以使得在运行上述云化操作前，提前根据相关信息判断出当前云数据库软件系统是否支持当前物理服务器运行云化操作，同时可以判断当前云数据库软件系统中是否有足够的空间运行上述云化操作，从而实现对虚拟机的合理许可授权。步骤S300，根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作。在运行上述云化操作前，根据获取的信息以及本申请实施例提出判断云化操作是否被授权来对应的运行上述云化操作，并且基于运行结果更新数据库软件系统已申请的磁盘容量、CPU数量、内存数量和虚拟机数量，从而方便下一个虚拟机云化操作的进行。进一步的，上述根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作，具体包括：当上述云化操作为启动上述云数据库软件系统的虚拟机时，判断当前服务器是否存在许可证文件，当存在上述许可证文件时，解析上述许可证文件得到上述有效期限；根据上述有效期限判断当前时间是否在有效期限内，当当前时间在有效期限内时，解析上述许可证文件得到上述第一环境信息；判断上述第一环境信息与上述第二环境信息是否相同，当上述第一环境信息与上述第二环境信息相同，则解析上述许可证文件得到上述参数信息；根据上述虚拟机运行参数和上述第二运行参数，得到第一预授权运行参数，根据上述参数信息和上述第一预授权运行参数，判断上述启动上述云数据库软件系统的虚拟机的云化操作是否被授权，当上述启动上述云数据库软件系统的虚拟机的云化操作被授权时，根据上述第一预授权运行参数更新上述第二运行参数并运行上述云化操作；当上述云化操作为关闭上述云数据库软件系统的虚拟机时，则根据上述虚拟机运行参数更新上述第二运行参数，并关闭虚拟机。数据库软件系统已申请的磁盘容量为Ta、CPU数量为Tb、内存数量为Tc、虚拟机数量为Td，这些参数的初始均为0。如图2所示，为本申请实施例提供的启动云数据库软件系统的虚拟机的流程示意图，启动云数据库软件系统的虚拟机的流程具体包括：步骤S21、申请启动1个云数据库软件系统的虚拟机，进入步骤S22，该虚拟机请求使用的磁盘容量、CPU数量、内存数量分别为Ra、Rb、Rc；步骤S22、判断当前物理服务器是否存在许可证文件；若存在进入步骤S23，若不存在进入步骤S28；步骤S23、解析得到许可证文件中的有效期限信息，判断当前时间是否在有效期限内；若是则进入步骤S24，若否则进入步骤S28；步骤S24、解析得到许可证文件中的第一环境信息，判断第一环境信息是否与许可证文件当前所在的服务器的第二环境信息相等；若相等则进入步骤S25，若不相等则进入步骤S28；步骤S25、解析得到许可证文件中的参数信息，即最大磁盘容量、最大CPU数量、最大内存数量、最大VNF数量分别为Ma、Mb、Mc、Md。判断以下4个条件是否满足：Ta+Ra≤Ma、Tb+Rb≤Mb、Tc+Rc≤Mc、Td+1≤Md是否全部满足，其中，第一预授权运行参数的值为Ta+Ra、Tb+Rb、Tc+Rc和Td+1；若满足则进入步骤S26，若不满足则进入步骤S28；步骤S26、计算更新第二运行参数，其中Ta更新为原已申请的磁盘容量加上Ra的算术结果、Tb更新为原已申请的CPU数量加上Rb的算术结果、Tc更新为原已申请的内存数量加上Rc的算术结果、Td更新为原已申请的虚拟机数量加1后的算术结果，即通过第一预授权运行参数的值和原第二运行参数来更新上述第二运行参数，进入步骤S27；步骤S27、授权成功，正常启动虚拟机；步骤S28、授权失败，禁止启动虚拟机。如图3所示，为本申请实施例提供的关闭云数据库软件系统的虚拟机的流程示意图，关闭云数据库软件系统的虚拟机的流程具体包括：步骤S31、申请关闭1个运行数据库软件的虚拟机，进入步骤S32，该虚拟机占用的磁盘容量、CPU数量、内存数量分别为Ra、Rb、Rc；步骤S32、计算更新第二运行参数，其中Ta更新为原已申请的磁盘容量减去Ra的算术结果、Tb更新为原已申请的CPU数量减去Rb的算术结果、Tc更新为原已申请的内存数量减去Rc的算术结果、Td更新为原已申请的虚拟机数量减去1后的算术结果，进入步骤S33；步骤S33、正常关闭虚拟机。通过上述操作，使得在云数据库软件系统中运行虚拟机时，判断是否存在许可证文件，从而使得只有在拥对应云数据库软件系统的许可证文件的客户才可以按照许可证授权的规格信息运行云数据软件系统的虚拟机，从而保证了运行在云数据软件系统上的云数据库软件资产的安全；同时通过云数据库软件系统的许可证许可控制方法实现了云数据软件系统中对虚拟机启动和关闭合理控制，防止了数据库软件系统因磁盘容量、CPU数量、内存数量、虚拟机数量不符合最大要求而导致虚拟机开启关闭失败的情况，从而更好的让用户通过云数据库软件系统运行虚拟机。进一步的，上述根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作，具体包括：当上述云化操作为对已启动的虚拟机进行扩缩容时，判断当前服务器是否存在许可证文件，当存在上述许可证文件时，解析上述许可证文件得到上述有效期限；根据上述有效期限判断当前时间是否在有效期限内，当当前时间在有效期限内时，解析上述许可证文件得到上述第一环境信息；判断上述第一环境信息与上述第二环境信息是否相同，当上述第一环境信息与上述第二环境信息相同，则解析述许可证文件得到上述参数信息，并获取要进行扩缩容的虚拟机的扩缩运行参数；根据上述第二运行参数和上述扩缩运行参数，得到第二预授权运行参数，根据上述参数信息和上述第二预授权运行参数，判断上述对已启动的虚拟机进行扩缩容的云化操作是否被授权，当上述对已启动的虚拟机进行扩缩容的云化操作被授权时，根据上述第二预授权运行参数更新上述第二运行参数并运行上述云化操作。如图4所示，为本申请实施例提供的对已启动的虚拟机进行扩缩容的流程示意图，对已启动的虚拟机进行扩缩容的流程具体包括：步骤S41、申请对1个虚拟机进行扩缩容，进入步骤S42，该虚拟机请求增减的磁盘容量、CPU数量、内存数量分别为Sa、Sb、Sc，其中当增加时Sa、Sb、Sc为正数，当缩减时Sa、Sb、Sc为负数；步骤S42、判断当前物理服务器是否存在许可证文件；若存在进入步骤S43，若不存在进入步骤S48；步骤S43、解析得到许可证文件中的有效期限信息，判断当前时间是否在有效期限内；若是则进入步骤S44，若否则进入步骤S48；步骤S44、解析得到许可证文件中的第一环境信息，判断第一环境信息是否与许可证文件当前所在的服务器的第二环境信息相等；若相等则进入步骤S45，若不相等则进入步骤S48；步骤S45、解析得到许可证文件中的参数信息，即最大磁盘容量、最大CPU数量、最大内存数量分别为Ma、Mb、Mc。判断以下3个条件是否全部满足：Ta+Sa≤Ma、Tb+Sb≤Mb、Tc+Sc≤Mc是否全部满足；其中，第二预授权运行参数的值为Ta+Sa、Tb+Sb和Tc+Sc；若满足则进入步骤S46，若不满足则进入步骤S48；步骤S46、计算更新第二运行参数，其中Ta更新为原已申请的磁盘容量加上Sa的算术结果、Tb更新为原已申请的CPU数量加上Sb的算术结果、Tc更新为原已申请的内存数量加上Sc的算术结果，即通过第二预授权参数更新第二运行参数，进入步骤S47；步骤S47、授权成功，正常扩缩容虚拟机；步骤S48、授权失败，禁止扩缩容虚拟机。通过上述操作，使得云数据库软件系统中运行的虚拟机的扩缩容操作也可以顺利的进行，并且在进行的过程中判断是否存在许可证文件以及判断扩缩容后对应的数据是否符合云数据库软件系统的磁盘容量、CPU数量、内存数量、虚拟机数量需求，从而使得整个云数据库软件系统更加安全可靠。进一步的，上述云化操作还包括迁移和运行上述云数据库软件系统的虚拟机。其中，虚拟机迁移完成前后，虚拟机的底层真实硬件信息会发生改变。根据本申请的方法，由于虚拟机的许可授权是由可以运行在固定物理服务器上的云数据库软件系统的许可证许可控制方法所控制，并不依赖于虚拟机运行所在的物理服务器硬件信息，所以虚拟机迁移操作完成前后均不需要对上述许可证文件进行修改。上述云数据库软件系统的许可证许可控制方法，还包括：根据预设的检查时间，定时监控检查上述云数据库软件系统中许可证文件的有效期限；当当前日期在有效期限内，并且上述第二环境信息与上述第一环境信息相同，则结束对上述定时监控检查；当当前日期不在上述有效期限内或上述第二环境信息与上述第一环境信息不相同，则更新上述云数据库软件系统的第二运行参数，并关闭对应的虚拟机。如图5所示，为本申请实施例提供的定时监控检查有效期限的流程示意图，其中，数据库软件系统已申请的磁盘容量为Ta、CPU数量为Tb、内存数量为Tc、虚拟机数量为Td，定时监控检查有效期限的流程具体包括：步骤S51、监控检查有效期限的流程开始，进入步骤S52；步骤S52、判断当前物理服务器是否存在许可证文件；若存在进入步骤S53，若不存在进入步骤S55；步骤S53、解析得到许可证文件中的有效期限信息，判断当前时间是否在有效期限内；若是则进入步骤S54，若否则进入步骤S55；步骤S54、解析得到许可证文件中的第一环境信息，判断第一环境信息是否与许可证文件当前所在的服务器的第二环境信息相等；若相等则进入步骤S57，若不相等则进入步骤S55；步骤S55、更新第二运行参数，其中设置Ta、Tb、Tc和Td均为0，进入步骤S56；步骤S56、授权失败，关闭对应虚拟机，进入步骤S57；步骤S57、监控检查流程结束。在上述定时监控检查有效期限的流程中，当检测到当当前日期不在上述有效期限内或上述第二环境信息与上述第一环境信息不相同时，则说明此时服务器上的许可证文件有效期限到期或者是服务器更改后新的服务器的硬件信息与云数据库软件系统不符合，因此对应的关闭申请的所有虚拟机并且更新第二运行参数。其中，当检测发现不存在许可证文件时，说明此时服务器内不被授权使用云数据库软件系统来运行虚拟机，则也对应的关闭申请的所有虚拟机并且更新第二运行参数。较佳的，在本申请的一种实施例中，上述定时监控检查有效期限的流程按照预设的时间进行，例如预设每隔24小时检查一次，则每隔24小时自动进行一次有效期限的检查。通过设定时间，可以让快速的检测到不授权的服务器，从而保证云数据库软件系统中资产的安全。由上可见，与现有技术相比，针对在云数据库软件系统中由于虚拟机的存在导致无法基于固定的服务器硬件信息去制作云数据库软件系统对应的许可证，导致云数据软件系统中的资产并不安全，同时也使得云数据库软件系统中无法通过与这些云化操作相紧密结合的许可证实现对虚拟机的许可授权的问题，本申请所提出的云数据库软件系统的许可证许可控制方法中由于云数据库软件系统中的程序文件设置是在云数据库中，云数据库中的程序文件无法实现很好的保密效果，因此本申请中则基于云数据库软件系统的信息制作云数据库软件系统的许可证文件，从而使得只有在拥有对应云数据库软件系统的许可证文件的客户才可以按照许可证授权的规格信息运行云数据软件系统的虚拟机，从而保证了运行在云数据软件系统上的云数据库软件资产的安全；进一步的，在本申请中，同时通过云数据库软件系统的许可证许可控制方法实现了云数据软件系统与云计算平台的云化操作的紧密结合，能够对云数据软件系统中虚拟机的云化操作进行自动的授权许可控制，从而方便了云数据库软件系统中对虚拟机的许可授权，使得用户在采用云数据库软件系统时既能够实现对其中软件资产的安全保护，也可以实现对其中虚拟机的合理许可，让用户可以更加放心更加方便的使用云数据库软件系统。示例性设备如图6中所示，对应于上述云数据库软件系统的许可证许可控制方法，本发明实施例还提供一种云数据库软件系统的许可证许可控制系统，上述云数据库软件系统的许可证许可控制系统包括：许可证文件生成模块61，用于获取上述云数据库软件系统的参数信息和有效期限，并获取第一环境信息，并将上述参数信息、上述有效期限和上述第一环境信息加密设置在许可证文件中；数据获取模块62，用于获取虚拟机的云化操作，根据上述云化操作获取上述虚拟机对应的第一运行参数和上述云数据库软件系统的第二运行参数，并获取上述许可证文件当前所在的服务器的第二环境信息；授权判断模块63，用于根据上述第一运行参数、上述许可证文件、上述第二运行参数和第二环境信息，判断上述云化操作是否被授权，当上述云化操作被授权时，更新上述第二运行参数并运行上述云化操作。需要说明的是，上述云数据库软件系统的许可证许可控制系统及其各个模块或单元的具体结构和实现方式可以参照上述方法实施例中的对应描述，在此不再赘述。需要说明的是，上述云数据库软件系统的许可证许可控制系统的各个模块的划分方式并不唯一，在此也不作为具体限定。基于上述实施例，本发明还提供了一种智能终端，其原理框图可以如图7所示。上述智能终端包括通过系统总线连接的处理器10、存储器20、网络接口以及显示器30。其中，该智能终端的处理器用于提供计算和控制能力。该智能终端的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和云数据库软件系统的许可证许可控制程序40。该内存储器为非易失性存储介质中的操作系统和云数据库软件系统的许可证许可控制程序的运行提供环境。该智能终端的网络接口用于与外部的终端通过网络连接通信。该云数据库软件系统的许可证许可控制程序被处理器执行时实现上述任意一种云数据库软件系统的许可证许可控制方法的步骤。该智能终端的显示屏可以是液晶显示屏或者电子墨水显示屏。本领域技术人员可以理解，图7中示出的原理框图，仅仅是与本发明方案相关的部分结构的框图，并不构成对本发明方案所应用于其上的智能终端的限定，具体的智能终端可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提供了一种智能终端，上述智能终端包括存储器、处理器以及存储在上述存储器上并可在上述处理器上运行的云数据库软件系统的许可证许可控制程序，上述云数据库软件系统的许可证许可控制程序被上述处理器执行时实现本发明实施例提供的任意一种云数据库软件系统的许可证许可控制方法的步骤。本发明实施例还提供一种计算机可读存储介质，上述计算机可读存储介质上存储有云数据库软件系统的许可证许可控制程序，上述云数据库软件系统的许可证许可控制程序被处理器执行时实现本发明实施例提供的任意一种云数据库软件系统的许可证许可控制方法的步骤。应理解，上述实施例中各步骤的序号大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将上述装置的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。实施例中的各功能单元、模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中，上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。另外，各功能单元、模块的具体名称也只是为了便于相互区分，并不用于限制本发明的保护范围。上述装置中单元、模块的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述或记载的部分，可以参见其它实施例的相关描述。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各实例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟是以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。在本发明所提供的实施例中，应该理解到，所揭露的系统/终端设备和方法，可以通过其它的方式实现。例如，以上所描述的系统/终端设备实施例仅仅是示意性的，例如，上述模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以由另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。上述集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读存储介质中。基于这样的理解，本发明实现上述实施例方法中的全部或部分流程，也可以通过计算机程序来指令相关的硬件来完成，上述计算机程序可存储于一计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个方法实施例的步骤。其中，上述计算机程序包括计算机程序代码，上述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。上述计算机可读介质可以包括：能够携带上述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，上述计算机可读存储介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减。以上所述实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解；其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不是相应技术方案的本质脱离本发明各实施例技术方案的精神和范围，均应包含在本发明的保护范围之内。
