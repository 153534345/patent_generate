标题title
一种减少视频传输带宽的无损编解码系统和方法
摘要abst
本发明一种减少视频传输带宽的无损编解码系统和方法，在霍夫曼编码之前，增加将一个像素点的三个色彩分量并行进行一步预处理，且预处理仅需缓存一行数据，使得系统具有更高的实时性，另外，通过统计像素数据出现频次为霍夫曼编码提供依据，避免因计算概率出现浮点数影响编码，两级压缩提升了压缩效率，操作简单实用；加上独特的数据帧格式，在解码的同时得到图像分辨率，最后根据CTA‑861标准生成DE、HS和VS的信号，无需发送行、场同步信息，在解码环节可以实现数据百分百复原。本发明在保证视频流传输过程中像素数据不损失的同时，极大减少了视频传输过程中占用的带宽资源，在对视频图像质量要求高的场合有着极高的应用价值。
权利要求书clms
1.一种减少视频传输带宽的无损编解码系统，包括输出端的编码器、高速串行收发器模块和接收端的解码器；编码器将输入的原始视频流数据压缩、拆分打包后通过高速串行收发器模块进行传输，在接收端通过解码器将数据包解码，恢复出原始视频流数据，以供后续使用；所述输入编码器的原始视频流数据包括行同步信号HS、场同步信号VS、有效显示数据选通信号DE和24bit位宽的图像数据Data，行同步信号HS拉高表示即将处理新一行图像数据；场同步信号VS拉高表示即将处理新一帧图像数据；其特征在于：所述编码器包括预处理模块、霍夫曼编码模块、数据打包模块和新使能信号生成模块，原始视频流数据输入至编码器，通过预处理模块将一个像素点的三个色彩分量数据并行进行一步预处理，将图像数据的规律性数据化后，再进入霍夫曼编码模块进行霍夫曼编码，得到编码表信息和压缩编码后的数据串信息，经数据打包模块拆分打包成32bit位宽的数据包，与新使能信号生成模块新生成的DataValid信号一同送入高速串行收发器模块，所述DataValid信号是指在高速串行线上传输有效显示数据选通信号；编码器的数据包向高速串行收发器模块传输时，先发送编码表信息，再发送压缩编码后的数据串信息；所述霍夫曼编码模块基于霍夫曼编码的原理，对预处理完的第i行数组进行编码，生成编码表信息和压缩编码后的数据串信息；同时，预处理模块进行第i+1行数组的预处理；该编码表中记载每个数组中的十六进制数据、该十六进制数据出现的次数、该十六进制数据对应的二进制数据和对应的编码后的数据，统计数组中每个十六进制数据出现的次数并由高到低排序，选出频次最低的两个，其中较低的赋权值0，较高的赋权值1后，将两者频次相加再与其余项进行比较，同样较低的赋权值0，较高的赋权值1，以此循环，最终生成Huffman编码树，该Huffman编码树的叶节点附带权值0或者1，任何无子节点的叶节点代表一个十六进制数据，每个十六进制数据从根节点往下依次读取权值直至到达该十六进制数据的叶节点，得到该十六进制数据对应的编码后的数据，最终将编码表中编码后的数据替代原十六进制数据对应的二进制数据，从而达到压缩的效果；所述数据打包模块将霍夫曼编码模块输出数据按照帧头、数据位、结束位的帧格式，拆分打包成32bit位宽的数据包进行发送；所述新使能信号生成模块新生成有效显示数据选通信号DataValid，当编码表信息发送时，数据包帧头第三位为低电平，当检测到帧头第三位由高变低后，表示新一行的数据开始发送，此时有效显示数据选通信号DataValid拉高，表示正在传输编码表信息，当三个色彩分量的结束位都拉高时有效显示数据选通信号DataValid拉低，数据发送过程中若有效显示数据选通信号DataValid保持高电平表示正在传输有效数据；所述解码器包括数据接收模块、霍夫曼解码模块、图像复原模块和HS、VS、DE信号生成模块，该数据接收模块接收来自高速串行接收器的数据包，霍夫曼解码模块对数据接收模块接收的数据包进行拆分拼接，得到编码表信息和完整的压缩编码后的数据串信息，再依据霍夫曼解码的原理进行解码，解码后的数据通过图像复原模块恢复得到原始视频流数据，会同HS、VS、DE信号生成模块所生成的HS、VS、DE信号一起输出。2.根据权利要求1所述的一种减少视频传输带宽的无损编解码系统，其特征在于：所述HS、VS、DE信号生成模块用于生成与恢复得到的原始视频流数据一起输出的HS、VS、DE信号；其中行、场同步信号并未在高速线上传输，需要与数据串的解码并行处理，每当解码出一组数据就进行计数器加一操作，根据不同的计数器值判断传输图像的水平分辨率，根据对结束位拉高的次数统计，得到图像的垂直分辨率，最终根据CTA-861标准的相关规范重新生成DE、HS和VS信号。3.根据权利要求1所述的一种减少视频传输带宽的无损编解码系统，其特征在于该数据包的帧格式如下：帧头：位于一帧数据的开始，帧头共3位，前两位表明当前数据属于哪个色彩分量；第三位标明数据位传输的数据分类，该数据分类是指数据位传输的是编码表信息还是压缩编码后的数据串信息；数据位：位于一帧数据的中间，共28位，数据位信息分为两类，第一类，将霍夫曼编码模块生成的编码表中每一栏单独打包进行发送，内容包括编码前的十六进制数据和编码后的数据；第二类，将压缩编码后的数据串切割，按最大宽度28bit存放在待发送数据位中；结束位：当一整行数据转换完成，此位拉高，平时为低。4.根据权利要求1-3所述的任意一种减少视频传输带宽的无损编解码系统，其特征在于：所述预处理模块将一个像素点的三个色彩分量数据并行进行一步预处理，对一张分辨率为M×N的图像，将第i行的24bit位宽的图像数据Data按三个色彩分量分成三组8bit位宽的数组，针对上述三组数据，做如下处理：保留第i行的第1列数组作为基准，往后每一项都与前一项做差，生成新的第i行的数组difdata；所述霍夫曼解码模块对数据接收模块接收的数据包进行拆分拼接，得到编码表信息和完整的压缩编码后的数据串信息，再依据霍夫曼解码的原理进行解码；在对数据包进行拆分拼接时，按照数据包的帧头前两位信息判断属于何种色彩分量的像素数据；当第三位为低电平时，接收编码表信息，第三位为高电平时，开始持续接收压缩编码后的数据串信息，当检测到当前行的结束位为高时，停止接收，将一行的数据全部读取得到完整的压缩编码后的数据串信息后，开始根据编码表解码复原数据；即当帧头第三位从低电平向高电平跳变时，第一个数组为全发送的数据，直接读取8bit数据串信息，此后的帧数据位按照编码表解码，从左往右依次读取得到十六进制数据，最终拼成difdata；所述图像复原模块将解码后的数据difdata_R、difdata_G、difdata_B，以R分量为例，基于第i行的第1列数组data_R，对于第i行的第j列数组data_R:data_R=data_R+difdata_R ，j∈；将R、G、B分量数据拼接成24bit位宽的图像数据Data，则解码完成并恢复得到原始视频流数据，会同HS、VS、DE信号生成模块所生成的HS、VS、DE信号一起输出。5.一种减少视频传输带宽的无损编解码方法，主要包括视频流数据的编码步骤和解码步骤，由于是无损压缩，故编解码步骤的操作过程可逆，其特征在于包括如下步骤：步骤1、视频流数据的编码步骤预处理模块将一个像素点的三个色彩分量数据并行进行一步预处理：对分辨率为M×N的图像，预处理模块将第i行的24bit位宽的图像数据data按R、G、B分成三组8bit位宽的数组data_R、data_G、data_B，其中，i∈，j∈；针对上述三组数据，做如下处理：保留第i行第1列数组作为基准，往后每一项都与前一项做差，生成新的第i行的数组difdata_R、difdata_G、difdata_B：difdata=data-data，其中i∈，j∈；霍夫曼编码模块进行霍夫曼编码依据霍夫曼编码的原理，霍夫曼编码模块对预处理完的第i行的数组difdata进行编码，生成编码表信息和压缩编码后的数据串信息，同时预处理模块进行第i+1行数据data的预处理；该编码表中记载每个数组中的十六进制数据、对应的该十六进制数据出现的次数、该十六进制数据对应的二进制数据和对应的编码后的数据，对于数组difdata_R，统计每个十六进制数据出现的次数并由高到低排序，选出频次最低的两个十六进制数据，将较低的十六进制数据赋权值0，较高的十六进制数据赋权值1，将两者频次相加再与其余项进行比较，选出频次最低的两个，同样较低的赋权值0，较高的赋权值1，以此循环，最终生成Huffman编码树，该Huffman编码树的叶节点附带权值0或者1，任何无子节点的叶节点代表一个十六进制数据，每个十六进制数据从根节点往下依次读取权值直至到达该十六进制数据对应的叶节点，得到该十六进制数据对应的编码后的数据，将编码后的数据替代原十六进制数据对应的二进制数据，从而达到压缩的效果；数据打包模块将霍夫曼编码模块输出数据按照帧头、数据位、结束位的帧格式，拆分打包成32bit位宽的数据包进行发送；新使能信号生成模块新生成有效显示数据选通信号DataValid当编码表信息发送时，数据包帧头第三位为低电平，当检测到帧头第三位由高变低后，表示新一行的数据开始发送，此时有效显示数据选通信号DataValid拉高，表示正在传输编码表信息，当三个色彩分量的结束位都拉高时有效显示数据选通信号DataValid拉低，在编码表信息和压缩编码后的数据串信息的发送过程中，若有效显示数据选通信号DataValid保持高电平表示正在传输有效数据；步骤2、视频流数据的解码步骤霍夫曼解码模块对数据接收模块接收的数据包进行拆分拼接，得到编码表信息和完整的压缩编码后的数据串信息，再依据霍夫曼解码的原理进行解码，解码后的数据通过图像复原模块恢复得到原始视频流数据；DE、HS和VS信号恢复行、场同步信号并未在高速串行线上传输，需要与数据串的解码并行处理，每当解码出一组数据就进行计数器加一操作，根据不同的计数器值判断传输图像的水平分辨率，然后根据对结束位拉高的次数统计，得到图像的垂直分辨率，最终根据CTA-861标准的相关规范重新生成DE、HS和VS信号；图像数据复原得到解码后的数据difdata_R、difdata_G、difdata_B，以R分量为例，基于第i行的第1列数组data_R，对于第j个数组data_R，有:data_R=data_R+difdata_R ，j∈；将R、G、B分量数据拼接成24bit位宽的图像数据Data，则解码完成并恢复得到原始视频流数据，会同HS、VS、DE信号生成模块所生成的HS、VS、DE信号一起输出，该Data={data_R,data_G,data_B}。6.根据权利要求5所述的一种减少视频传输带宽的无损编解码方法，其特征在于该数据包的帧格式如下：帧头：位于一帧数据的开始，帧头共3位，前两位表明当前数据属于哪个色彩分量；第三位标明数据位传输的数据分类，该数据分类是指数据位传输的是编码表信息还是压缩编码后的数据串信息；数据位：位于一帧数据的中间，共28位，数据位信息分为两类，第一类，将霍夫曼编码模块生成的编码表中每一栏单独打包进行发送，内容包括编码前的十六进制数据和编码后的数据；第二类，将压缩编码后的数据串切割，按最大宽度28bit存放在待发送数据位中；结束位：当一整行数据转换完成，此位拉高，平时为低。7.根据权利要求5所述的一种减少视频传输带宽的无损编解码方法，其特征在于：所述霍夫曼解码模块对接收的数据包进行拆分拼接时，按照数据包的帧头信息判断属于何种色彩分量的像素数据；当第三位为低电平时，接收编码表信息，第三位为高电平时，开始持续接收压缩编码后的数据串信息，当检测到当前行的结束位为高时，停止接收，开始根据编码表进行解码；将一行的数据全部读取得到完整的压缩编码后的数据串信息后，再根据编码表解码复原数据，即当帧头第三位从低电平向高电平跳变时，第一个数据为difdata全发送的数据，直接读取8bit数据串信息，此后的帧数据位按照编码表解码，从左往右依次读取得到十六进制数据，最终拼成difdata。
说明书desc
技术领域本发明属于图像处理技术领域，尤其涉及一种减少视频传输带宽的无损编解码系统和方法。背景技术数字图像处理技术在当代社会发展迅速，发挥着不可替代的作用，被广泛应用于航空航天、通信、医学及工业生产等领域中。随着行业对高质量画面需求的提高，现存视频传输信息量大的问题亟待解决。FPGA作为一款能进行实时流水线运算的系统，在图像处理领域应用满足了人们对数字图像处理的速度和质量的要求。在基于FPGA的实时视频图像处理过程中，由于实时视频图原始据量太大导致存储和传输都需要非常高的带宽，为了适应这种带宽要求，常用的做法是基于H.264/H.265协议对图像进行有损压缩，这种方法虽然极大减少了视频传输时所占用的带宽资源，但是在图像处理过程中，这种有损压缩越来越难以满足人们对图像质量的要求。传统的无损压缩处理方法如霍夫曼编码存在压缩效率不高的问题。发明内容本发明的目的在于提供一种减少视频传输带宽的无损编解码系统和方法，在减少传输带宽的同时还能保留图像所有信息，通过添加预处理操作，进一步提升压缩效率，针对不同分辨率的视频压缩具有适用性广，实时性高，带宽资源占用少的优点。本发明一种减少视频传输带宽的无损编解码系统，包括输出端的编码器、高速串行收发器模块和接收端的解码器；编码器将输入的原始视频流数据压缩、拆分打包后通过高速串行收发器模块进行传输，在接收端通过解码器将数据包解码，恢复出原始视频流数据，以供后续使用；所述输入编码器的原始视频流数据包括行同步信号HS、场同步信号VS、有效显示数据选通信号DE和24bit位宽的图像数据Data，行同步信号HS拉高表示即将处理新一行图像数据；场同步信号VS拉高表示即将处理新一帧图像数据；所述编码器包括预处理模块、霍夫曼编码模块、数据打包模块和新使能信号生成模块，原始视频流数据输入至编码器，通过预处理模块将一个像素点的三个色彩分量数据并行进行一步预处理，将图像数据的规律性数据化后，再进入霍夫曼编码模块进行霍夫曼编码，得到编码表信息和压缩编码后的数据串信息，经数据打包模块拆分打包成32bit位宽的数据包，与新使能信号生成模块新生成的DataValid信号一同送入高速串行收发器模块，所述DataValid信号是指在高速串行线上传输有效显示数据选通信号；编码器的数据包向高速串行收发器模块传输时，先发送编码表信息，再发送压缩编码后的数据串信息；所述霍夫曼编码模块基于霍夫曼编码的原理，对预处理完的第i行数组进行编码，生成编码表信息和压缩编码后的数据串信息；同时，预处理模块进行第i+1行数组的预处理；该编码表中记载每个数组中的十六进制数据、该十六进制数据出现的次数、该十六进制数据对应的二进制数据和对应的编码后的数据，统计数组中每个十六进制数据出现的次数并由高到低排序，选出频次最低的两个，其中较低的赋权值0，较高的赋权值1后，将两者频次相加再与其余项进行比较，同样较低的赋权值0，较高的赋权值1，以此循环，最终生成Huffman编码树，该Huffman编码树的叶节点附带权值0或者1，任何无子节点的叶节点代表一个十六进制数据，每个十六进制数据从根节点往下依次读取权值直至到达该十六进制数据的叶节点，得到该十六进制数据对应的编码后的数据，最终将编码表中编码后的数据替代原十六进制数据对应的二进制数据，从而达到压缩的效果；所述数据打包模块将霍夫曼编码模块输出数据按照帧头、数据位、结束位的帧格式，拆分打包成32bit位宽的数据包进行发送；所述新使能信号生成模块新生成有效显示数据选通信号DataValid，当编码表信息发送时，数据包帧头第三位为低电平，当检测到帧头第三位由高变低后，表示新一行的数据开始发送，此时有效显示数据选通信号DataValid拉高，表示正在传输编码表信息，当三个色彩分量的结束位都拉高时有效显示数据选通信号DataValid拉低，数据发送过程中若有效显示数据选通信号DataValid保持高电平表示正在传输有效数据；所述解码器包括数据接收模块、霍夫曼解码模块、图像复原模块和HS、VS、DE信号生成模块，该数据接收模块接收来自高速串行接收器的数据包，霍夫曼解码模块对数据接收模块接收的数据包进行拆分拼接，得到编码表信息和完整的压缩编码后的数据串信息，再依据霍夫曼解码的原理进行解码，解码后的数据通过图像复原模块恢复得到原始视频流数据，会同HS、VS、DE信号生成模块所生成的HS、VS、DE信号一起输出。所述HS、VS、DE信号生成模块用于生成与恢复得到的原始视频流数据一起输出的HS、VS、DE信号；其中行、场同步信号并未在高速线上传输，需要与数据串的解码并行处理，每当解码出一组数据就进行计数器加一操作，根据不同的计数器值判断传输图像的水平分辨率，根据对结束位拉高的次数统计，得到图像的垂直分辨率，最终根据CTA-861标准的相关规范重新生成DE、HS和VS信号。该数据包的帧格式如下：帧头：位于一帧数据的开始，帧头共3位，前两位表明当前数据属于哪个色彩分量；第三位标明数据位传输的数据分类，该数据分类是指数据位传输的是编码表信息还是压缩编码后的数据串信息；数据位：位于一帧数据的中间，共28位，数据位信息分为两类，第一类，将霍夫曼编码模块生成的编码表中每一栏单独打包进行发送，内容包括编码前的十六进制数据和编码后的数据；第二类，将压缩编码后的数据串切割，按最大宽度28bit存放在待发送数据位中；结束位：当一整行数据转换完成，此位拉高，平时为低。所述预处理模块将一个像素点的三个色彩分量数据并行进行一步预处理，对一张分辨率为M×N的图像，将第i行的24bit位宽的图像数据Data按三个色彩分量分成三组8bit位宽的数组，针对上述三组数据，做如下处理：保留第i行的第1列数组作为基准，往后每一项都与前一项做差，生成新的第i行的数组difdata；所述霍夫曼解码模块对数据接收模块接收的数据包进行拆分拼接，得到编码表信息和完整的压缩编码后的数据串信息，再依据霍夫曼解码的原理进行解码；在对数据包进行拆分拼接时，按照数据包的帧头前两位信息判断属于何种色彩分量的像素数据；当第三位为低电平时，接收编码表信息，第三位为高电平时，开始持续接收压缩编码后的数据串信息，当检测到当前行的结束位为高时，停止接收，将一行的数据全部读取得到完整的压缩编码后的数据串信息后，开始根据编码表解码复原数据；即当帧头第三位从低电平向高电平跳变时，第一个数组为全发送的数据，直接读取8bit数据串信息，此后的帧数据位按照编码表解码，从左往右依次读取得到十六进制数据，最终拼成difdata；所述图像复原模块将解码后的数据difdata_R、difdata_G、difdata_B，以R分量为例，基于第i行的第1列数组data_R，对于第i行的第j列数组data_R:data_R=data_R+difdata_R， j∈；将R、G、B分量数据拼接成24bit位宽的图像数据Data，则解码完成并恢复得到原始视频流数据，会同HS、VS、DE信号生成模块所生成的HS、VS、DE信号一起输出。本发明一种减少视频传输带宽的无损编解码方法，主要包括视频流数据的编码步骤和解码步骤，由于是无损压缩，故编解码步骤的操作过程可逆，包括如下步骤：步骤1、视频流数据的编码步骤预处理模块将一个像素点的三个色彩分量数据并行进行一步预处理：对分辨率为M×N的图像，预处理模块将第i行的24bit位宽的图像数据data按R、G、B分成三组8bit位宽的数组data_R、data_G、data_B，其中，i∈，j∈；针对上述三组数据，做如下处理：保留第i行第1列数组作为基准，往后每一项都与前一项做差，生成新的第i行的数组difdata_R、difdata_G、difdata_B：difdata=data-data，其中i∈，j∈；霍夫曼编码模块进行霍夫曼编码依据霍夫曼编码的原理，霍夫曼编码模块对预处理完的第i行的数组difdata进行编码，生成编码表信息和压缩编码后的数据串信息，同时预处理模块进行第i+1行数据data的预处理；该编码表中记载每个数组中的十六进制数据、对应的该十六进制数据出现的次数、该十六进制数据对应的二进制数据和对应的编码后的数据，对于数组difdata_R，统计每个十六进制数据出现的次数并由高到低排序，选出频次最低的两个十六进制数据，将较低的十六进制数据赋权值0，较高的十六进制数据赋权值1，将两者频次相加再与其余项进行比较，选出频次最低的两个，同样较低的赋权值0，较高的赋权值1，以此循环，最终生成Huffman编码树，该Huffman编码树的叶节点附带权值0或者1，任何无子节点的叶节点代表一个十六进制数据，每个十六进制数据从根节点往下依次读取权值直至到达该十六进制数据对应的叶节点，得到该十六进制数据对应的编码后的数据，将编码后的数据替代原十六进制数据对应的二进制数据，从而达到压缩的效果；数据打包模块将霍夫曼编码模块输出数据按照帧头、数据位、结束位的帧格式，拆分打包成32bit位宽的数据包进行发送；新使能信号生成模块新生成有效显示数据选通信号DataValid当编码表信息发送时，数据包帧头第三位为低电平，当检测到帧头第三位由高变低后，表示新一行的数据开始发送，此时有效显示数据选通信号DataValid拉高，表示正在传输编码表信息，当三个色彩分量的结束位都拉高时有效显示数据选通信号DataValid拉低，在编码表信息和压缩编码后的数据串信息的发送过程中，若有效显示数据选通信号DataValid保持高电平表示正在传输有效数据；步骤2、视频流数据的解码步骤霍夫曼解码模块对数据接收模块接收的数据包进行拆分拼接，得到编码表信息和完整的压缩编码后的数据串信息，再依据霍夫曼解码的原理进行解码，解码后的数据通过图像复原模块恢复得到原始视频流数据；DE、HS和VS信号恢复行、场同步信号并未在高速串行线上传输，需要与数据串的解码并行处理，每当解码出一组数据就进行计数器加一操作，根据不同的计数器值判断传输图像的水平分辨率，然后根据对结束位拉高的次数统计，得到图像的垂直分辨率，最终根据CTA-861标准的相关规范重新生成DE、HS和VS信号；图像数据复原得到解码后的数据difdata_R、difdata_G、difdata_B，以R分量为例，基于第i行的第1列数组data_R，对于第j个数组data_R，有:data_R=data_R+difdata_R ，j∈；将R、G、B分量数据拼接成24bit位宽的图像数据Data，则解码完成并恢复得到原始视频流数据，会同HS、VS、DE信号生成模块所生成的HS、VS、DE信号一起输出，该Data={data_R,data_G,data_B}。所述霍夫曼解码模块对接收的数据包进行拆分拼接时，按照数据包的帧头信息判断属于何种色彩分量的像素数据；当第三位为低电平时，接收编码表信息，第三位为高电平时，开始持续接收压缩编码后的数据串信息，当检测到当前行的结束位为高时，停止接收，开始根据编码表进行解码；将一行的数据全部读取得到完整的压缩编码后的数据串信息后，再根据编码表解码复原数据，即当帧头第三位从低电平向高电平跳变时，第一个数据为difdata全发送的数据，直接读取8bit数据串信息，此后的帧数据位按照编码表解码，从左往右依次读取得到十六进制数据，最终拼成difdata。本发明的技术方案适用于图像处理、数字视频技术等应用领域，在霍夫曼编码之前，增加将一个像素点的三个色彩分量R、G、B数据并行进行一步预处理步骤，提升了压缩效率，尤其是预处理步骤仅需缓存一行数据，使得系统具有更高的实时性，适用场景广，另外，通过统计像素数据出现频次为霍夫曼编码提供依据，避免因计算概率出现浮点数影响编码，而两级压缩提升了压缩效率，操作简单实用；加上独特的数据帧格式，在解码的同时得到图像分辨率，最后根据CTA-861的标准，就可以生成DE、HS和VS的信号，因此无需发送行、场同步信息，从而在解码环节可以实现数据百分百复原。本发明在保证视频流传输过程中像素数据不损失的同时，极大减少了视频传输过程中占用的带宽资源，在对视频图像质量要求高的场合有着极高的应用价值。附图说明图1为本发明的流程示意图；图2为本发明编码器实现编码的流程图；图3为本发明解码器实现解码的流程图；图4为用于示例代码的仿真图像；图5为本发明中基于编码表生成的霍夫曼编码树。具体实施方式为了使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明作进一步地详细描述，显然，所描述的实施例仅仅是本发明的部份实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。实施例一如图1所示，本发明一种减少视频传输带宽的无损编解码系统，包括输出端的编码器、高速串行收发器模块MGT和接收端的解码器；编码器将输入的原始视频流数据压缩、拆分打包后通过高速串行收发器模块进行传输，在接收端通过解码器将数据包解码，恢复出原始视频流数据，以供后续使用；所述输入编码器的原始视频流数据包括行同步信号HS、场同步信号VS、有效显示数据选通信号DE和24bit位宽的图像数据Data；其中图像数据Data是RGB888格式图像数据；行同步信号HS拉高表示即将处理新一行图像数据；场同步信号VS拉高预示着即将处理新一帧图像数据；如图2所示，编码器包括预处理模块、霍夫曼编码模块、数据打包模块和新使能信号生成模块，原始视频流数据输入至编码器，通过预处理模块将一个像素点的三个色彩分量数据并行一步预处理，将图像数据的规律性数据化后，再进入霍夫曼编码模块进行霍夫曼编码，得到编码表信息和压缩编码后的数据串信息，经数据打包模块拆分打包成32bit位宽的数据包，与新使能信号生成模块新生成的DataValid信号一同送入高速串行收发器模块，所述DataValid信号是指在高速串行线上传输有效显示数据选通信号；编码器的数据包向高速串行收发器模块传输时，先发送编码表信息，再发送压缩编码后的数据串信息；所述预处理模块将一个像素点的三个色彩分量数据并行进行一步预处理，对一张分辨率为M×N的图像，将第i行的24bit位宽的图像数据Data按R、G、B分成三组8bit位宽的数据，得到第i行，第j列的数组data_R、data_G、data_B，针对上述三组数据，做如下处理：保留第i行的第1列数组作为基准，往后每一项都与前一项做差，生成新的第i行的数组difdata_R、difdata_G、difdata_B：difdata=data-data ，i∈，j∈；所述霍夫曼编码模块基于霍夫曼编码的原理，对预处理完的第i行数组data进行编码，生成编码表信息和压缩编码后的数据串信息；同时，预处理模块进行第i+1行数组data的预处理；该编码表中记载每个数组中的十六进制数据、该十六进制数据出现的次数、该十六进制数据对应的二进制数据和对应的编码后的数据，以数组difdata_R的编码过程为例，假设数组内容为“0xBA 0xBA 0xCA 0xCA 0xDA 0xDA0xBB 0xCB 0xAB 0xEB 0xED 0xDA 0xBE 0xEE 0xBB”，统计每个十六进制数据出现的次数并由高到低排序，选出频次最低的两个C和D，其中较低的C赋权值0，较高的D赋权值1后，将两者频次相加再与其余项进行比较，可以发现最低的频次为E：5和：7，同样较低的赋权值0，较高的赋权值1，以此循环，最终生成如图5的Huffman编码树，该Huffman编码树的叶节点附带权值0或者1，任何无子节点的叶节点代表一个十六进制数据，每个十六进制数据从根节点往下依次读取权值直至到达该十六进制数据的叶节点，得到该十六进制数据对应的编码后的数据，例如D对应编码后的数据为“011”，最终将编码表中编码后的数据替代原十六进制数据对应的二进制数据，例如BA的二进制数据为“10111010”，编码后的数据对应“1110”，从而达到压缩的效果；所述数据打包模块将霍夫曼编码模块输出数据按照帧头、数据位、结束位的格式，拆分打包成32bit位宽的数据包进行发送，该数据包的帧格式如下：帧头：位于一帧数据的开始，帧头共3位，前两位用“00或01或11”表明当前数据属于哪个色彩分量；第三位标明数据位传输的数据分类，该数据分类是指数据位传输的是编码表信息还是压缩编码后的数据串信息，例如“0”表示传输编码表信息，“1”表示传输压缩数据串信息；数据位：位于一帧数据的中间，共28位，数据位信息分为两类，第一类，将霍夫曼编码模块生成的编码表中每一栏单独打包进行发送，内容包括编码前的十六进制数据和编码后的数据；第二类，将压缩编码后的数据串切割，按最大宽度28bit存放在待发送数据位中，尽量减少传输时间；结束位：当一整行数据转换完成，此位拉高，平时为低；所述新使能信号生成模块新生成有效显示数据选通信号DataValid，当编码表信息发送时，数据包帧头第三位为低电平，当检测到帧头第三位由高变低，表示新一行的数据开始发送，此时有效显示数据选通信号DataValid拉高，表示正在传输编码表信息，当三个色彩分量的结束位都拉高时有效显示数据选通信号DataValid拉低，数据发送过程中若有效显示数据选通信号DataValid保持高电平表示正在传输有效数据；如图3所示，所述解码器包括数据接收模块、霍夫曼解码模块、图像复原模块和HS、VS、DE信号生成模块，该数据接收模块接收来自高速串行收发器模块的数据包，霍夫曼解码模块对数据接收模块接收的数据包进行拆分拼接，得到编码表信息和完整的压缩编码后的数据串信息，再依据霍夫曼解码的原理进行解码，解码后的数据通过图像复原模块恢复得到原始视频流数据，会同HS、VS、DE信号生成模块所生成的HS、VS、DE信号一起输出；所述数据接收模块接收来自高速串行收发器模块的数据包，并发送给霍夫曼解码模块；所述霍夫曼解码模块对数据接收模块接收的数据包进行拆分拼接，得到编码表信息和完整的压缩编码后的数据串信息，再依据霍夫曼解码的原理进行解码；在对数据包进行拆分拼接时，按照数据包的帧头前两位信息判断属于何种色彩分量的像素数据，帧头前两位：“00”表示当前帧为R分量，“01”表示当前帧为G分量，“11”表示当前帧为B分量；当第三位为低电平时，接收编码表信息，第三位为高电平时，开始持续接收压缩编码后的数据串信息，当检测到当前行的结束位为高时，停止接收，将一行的数据全部读取得到完整的压缩编码后的数据串信息后，再根据编码表解码复原数据，即当帧头第三位从低电平向高电平跳变时，第一个数组为difdata全发送的数据，直接读取8bit位信息，此后的帧数据位按照编码表解码，从左往右依次读取得到十六进制数据，最终拼成difdata；所述图像复原模块将解码后的数据difdata_R、difdata_G、difdata_B，以R分量为例，基于第i行的第1列数组data_R，对于第i行的第j列数组data_R:data_R=data_R+difdata_R， j∈；将R、G、B分量数据拼接成24bit位宽的图像数据Data，则解码完成并恢复得到原始视频流数据，会同HS、VS、DE信号生成模块所生成的HS、VS、DE信号一起输出，所述Data={data_R,data_G,data_B}；所述HS、VS、DE信号生成模块用于生成HS、VS、DE信号与恢复得到的原始视频流数据一起输出；其中行、场同步信号并未在高速串行线上传输，需要与数据串的解码并行处理，每当解码出一组数据就进行计数器加一操作，根据不同的计数器值判断传输图像的水平分辨率，然后根据对结束位拉高的次数统计，得到图像的垂直分辨率，最终根据CTA-861标准的相关规范重新生成DE、HS和VS信号。实施例二本发明一种减少视频传输带宽的无损编解码方法，主要包括视频流数据的编码步骤和解码步骤，由于是无损压缩，故编解码步骤的操作过程可逆，具体包括如下步骤：步骤1、视频流数据的编码步骤预处理模块将一个像素点的三个色彩分量数据并行进行一步预处理：对分辨率为M×N的图像，预处理模块将第i行的24bit位宽的图像数据Data按R、G、B分成三组8bit位宽的数据，得到数组data_R、data_G、data_B，其中i∈)，第j列× 1080，每个颜色分量数据位宽为8bit，则R分量需传送的数据总位数为： 1920×1080×8=16,588,800表2从表2中可见，仅经过霍夫曼编码压缩后的R分量压缩率为88.35%，利用本发明的编码方法，添加一步预处理，再压缩后的数据总位宽仅有原来的48.49%，极大提升了压缩效果。
