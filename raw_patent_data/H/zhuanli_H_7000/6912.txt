标题title
用于医院智能运维平台的数据管理系统
摘要abst
本发明涉及数据处理技术领域，提出了用于医院智能运维平台的数据管理系统，包括：获取合同图像，根据合同图像得到比特分层和灰度图像，获取文字行，在最底层比特分层得到每个文字行平移后的位置，在所有比特分层中，根据下几层已完成平移的比特分层文字行平移后的位置得到每个比特分层的文字行平移后的位置，根据每个列的同行元素平移后的位置和同一行同行元素平移后的位置得到每个列平移后的列位置；获得密文和密钥完成压缩存储进行管理。本发明利用比特分层对行列进行平移置换进一步提高了置乱效果。
权利要求书clms
1.用于医院智能运维平台的数据管理系统，其特征在于，该系统包括以下模块：数据获取模块，获取合同图像；最底层文字行平移模块，将合同图像进行均分得到分块图像，将分块图像随机排序得到灰度图像以及比特分层；将每个比特分层中存在文字信息的一行记为文字行，将最下面一层的比特分层作为最底层比特分层，在最底层比特分层中，将文字行从第一行到最后一行进行排序，将正在平移的文字行记为平移文字行，根据位置与所有文字行的最小距离以及最近一定数量完成平移的文字行与位置之间的距离得到位置为平移文字行平移后的可能性；其余文字行平移模块，对于除了最底层比特分层以外的比特分层，根据比特分层中位置与相邻已完成平移比特分层的文字行的最小距离、位置与已完成平移比特分层中最近已完成平移的文字行的距离、不考虑其余比特分层得到的位置可能性获得位置为平移文字行平移后的可能性；将所有位置为平移文字行平移后的可能的最大值对应的位置作为平移文字行最终的平移位置；列平移模块，按照比特分层的排序从低到高平移，所有列从左到右平移，将当前正在平移的列记为平移列，将文字行中存在文字信息的像素点记为同行元素，根据列位置与已经完成平移的列的最小距离、平移列的同行元素平移后的列位置与同一行已经完成平移的列的最近的同行元素的距离得到列位置为平移列平移后的可能性；将所有列位置为平移列平移后的可能的最大值对应的列位置作为平移列的平移位置；数据管理模块，获得密文和密钥完成压缩存储进行管理。2.根据权利要求1所述的用于医院智能运维平台的数据管理系统，其特征在于，所述将合同图像进行均分得到分块图像，将分块图像随机排序得到灰度图像以及比特分层的方法为：将合同图像的长边均分为四段，短边均分为两段得到八个大小相同的分块图像，分块图像表示一个二维矩阵，二维矩阵用0和1表示，将每个二维矩阵看作一个比特分层，将每个比特分层随机排序，比特分层从下往上得到八位二进制数作为一个像素点的灰度值，即得到分块图像大小的灰度图像。3.根据权利要求1所述的用于医院智能运维平台的数据管理系统，其特征在于，所述根据位置与所有文字行的最小距离以及最近一定数量完成平移的文字行与位置之间的距离得到位置为平移文字行平移后的可能性的方法为：式中，表示第i个位置与所有文字行的距离中的最小距离，/＞表示第i个位置与最近第j次完成平移的文字行之间的距离，/＞表示预设的平移文字行最近完成平移的文字行数量，/＞表示第i个位置为平移文字行平移后的位置的可能性。4.根据权利要求1所述的用于医院智能运维平台的数据管理系统，其特征在于，所述根据比特分层中位置与相邻已完成平移比特分层的文字行的最小距离、位置与已完成平移比特分层中最近已完成平移的文字行的距离、不考虑其余比特分层得到的位置可能性获得位置为平移文字行平移后的可能性的方法为：式中，表示当前比特分层中第i行位置与相邻已完成平移的第t个比特分层中文字行的距离中最近的距离，/＞表示预设的已经完成平移的距离当前比特分层最近的部分比特分层的数量，/＞表示第i个位置与完成平移的第t个比特分层中最近第x次完成平移的文字行之间的距离，/＞表示预设的已经完成平移的文字行的数量，/＞表示当前比特分层不考虑其余比特分层得到的第i个位置为平移文字行平移后的位置的可能性，/＞表示当前比特分层中得到的第i个位置为平移文字行平移后的位置的可能性。5.根据权利要求1所述的用于医院智能运维平台的数据管理系统，其特征在于，所述根据列位置与已经完成平移的列的最小距离、平移列的同行元素平移后的列位置与同一行已经完成平移的列的最近的同行元素的距离得到列位置为平移列平移后的可能性的方法为：式中，表示第v个列位置与最近的已经完成平移的第u列之间的距离，/＞表示预设的选取的已经完成平移的列的数量，/＞表示平移列的第r个同行元素在平移列平移到第v个列位置后与同一行平移后最近的第s个同行元素所在的位置之间的距离，/＞表示预设的同行元素完成平移后的数量，/＞表示平移列中同行元素的数量，/＞表示第v个列位置为当前平移列平移后位置的可能性。6.根据权利要求1所述的用于医院智能运维平台的数据管理系统，其特征在于，所述密文和密钥包括：将平移后比特分层转换为灰度图像作为最终密文，将合同图像的补位行列、比特分层的排序、文字行的平移位置，列的平移位置作为密钥。
说明书desc
技术领域本发明涉及数据处理技术领域，具体涉及用于医院智能运维平台的数据管理系统。背景技术医院智能运维平台主要对医院数据库系统和医院业务系统进行监测，及时发现系统故障和告警信息，然后解决数据库系统问题，使得数据库系统长久的稳定运行。其中包括医院的各种业务数据往来，并进行精细化的信息化管理。此时存在于运维平台的信息包含大量医院私密数据，比如医院各种项目的相关合同包含大量资金信息以及技术信息，所以在对其关系时需要进行安全保护，即对合同内容进行加密。一般存储在计算机系统的合同主要为图像形式，即通过图像加密完成合同信息的隐藏，一般图像加密主要进行像素点的替换或者置乱，其中置乱过程则依据算法规则改变图像像素点的位置，比如常见对像素点进行平移转换，但是一般算法对像素点的置乱完全依靠算法本身，无法对图像特征信息进行针对性加密，此时由于当前合同图像中信息表现为成行分布的文字，所以像素点的行分布特征对图像信息的表现程度高，所以一般的平移加密无法保证行分布的文字信息隐藏效果。发明内容本发明提供用于医院智能运维平台的数据管理系统，以解决现有的无法对图像特征信息进行针对性加密的问题，所采用的技术方案具体如下：本发明一个实施例提供了用于医院智能运维平台的数据管理系统，所述系统包括：数据获取模块，获取合同图像；最底层文字行平移模块，将合同图像进行均分得到分块图像，将分块图像随机排序得到灰度图像以及比特分层；将每个比特分层中存在文字信息的一行记为文字行，将最下面一层的比特分层作为最底层比特分层，在最底层比特分层中，将文字行从第一行到最后一行进行排序，将正在平移的文字行记为平移文字行，根据位置与所有文字行的最小距离以及最近一定数量完成平移的文字行与位置之间的距离得到位置为平移文字行平移后的可能性；其余文字行平移模块，对于除了最底层比特分层以外的比特分层，根据比特分层中位置与相邻已完成平移比特分层的文字行的最小距离、位置与已完成平移比特分层中最近已完成平移的文字行的距离、不考虑其余比特分层得到的位置可能性获得位置为平移文字行平移后的可能性；将所有位置为平移文字行平移后的可能的最大值对应的位置作为平移文字行最终的平移位置；列平移模块，按照比特分层的排序从低到高平移，所有列从左到右平移，将当前正在平移的列记为平移列，将文字行中存在文字信息的像素点记为同行元素，根据列位置与已经完成平移的列的最小距离、平移列的同行元素平移后的列位置与同一行已经完成平移的列的最近的同行元素的距离得到列位置为平移列平移后的可能性；将所有列位置为平移列平移后的可能的最大值对应的列位置作为平移列的平移位置；数据管理模块，获得密文和密钥完成压缩存储进行管理。进一步的，所述将合同图像进行均分得到分块图像，将分块图像随机排序得到灰度图像以及比特分层的方法为：将合同图像的长边均分为四段，短边均分为两段得到八个大小相同的分块图像，分块图像表示一个二维矩阵，二维矩阵用0和1表示，将每个二维矩阵看作一个比特分层，将每个比特分层随机排序，比特分层从下往上得到八位二进制数作为一个像素点的灰度值，即得到分块图像大小的灰度图像。进一步的，所述根据位置与所有文字行的最小距离以及最近一定数量完成平移的文字行与位置之间的距离得到位置为平移文字行平移后的可能性的方法为：式中，表示第i个位置与所有文字行的距离中的最小距离，表示第i个位置与最近第j次完成平移的文字行之间的距离，表示预设的平移文字行最近完成平移的文字行数量，表示第i个位置为平移文字行平移后的位置的可能性。进一步的，所述根据比特分层中位置与相邻已完成平移比特分层的文字行的最小距离、位置与已完成平移比特分层中最近已完成平移的文字行的距离、不考虑其余比特分层得到的位置可能性获得位置为平移文字行平移后的可能性的方法为：式中，表示当前比特分层中第i行位置与相邻已完成平移的第t个比特分层中文字行的距离中最近的距离，表示预设的已经完成平移的距离当前比特分层最近的部分比特分层的数量，表示第i个位置与完成平移的第t个比特分层中最近第x次完成平移的文字行之间的距离，表示预设的已经完成平移的文字行的数量，表示当前比特分层不考虑其余比特分层得到的第i个位置为平移文字行平移后的位置的可能性，表示当前比特分层中得到的第i个位置为平移文字行平移后的位置的可能性。进一步的，所述根据列位置与已经完成平移的列的最小距离、平移列的同行元素平移后的列位置与同一行已经完成平移的列的最近的同行元素的距离得到列位置为平移列平移后的可能性的方法为：式中，表示第v个列位置与最近的已经完成平移的第u列之间的距离，表示预设的选取的已经完成平移的列的数量，表示平移列的第r个同行元素在平移列平移到第v个列位置后与同一行平移后最近的第s个同行元素所在的位置之间的距离，表示预设的同行元素完成平移后的数量，表示平移列中同行元素的数量，表示第v个列位置为当前平移列平移后位置的可能性。进一步的，所述密文和密钥包括：将平移后比特分层转换为灰度图像作为最终密文，将合同图像的补位行列、比特分层的排序、文字行的平移位置，列的平移位置作为密钥。本发明的有益效果是：本发明在比特分层行列平移过程中，对存在文字的行进行针对性平移，首先破坏文字行组合对文字信息的表现，即最大程度的隐藏文字行所表现的文字信息，同时行平移位置远离平移前相邻行，从而有效减小平移前后图像之间的相关性，提高平移置乱效果，对比特分层进行列平移，首先改变每一行中元素的固定位置关系，避免利用所确定的几个文字行中元素位置关系对文字信息的推理或者猜测，同时在平移过程中利用列元素与相邻列对应元素的位置关系，进一步改变了文字行元素的聚集特征，有效提高各比特分层所表示的合同文字信息的隐藏效果，通过对行列平移过程中不同位置作为平移位置的判断，将平移置乱效果进行量化，从而便于对图像进行最大程度的置乱。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明一个实施例所提供的用于医院智能运维平台的数据管理系统的流程示意图；图2为合同图像分块示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，其示出了本发明一个实施例提供的用于医院智能运维平台的数据管理系统流程图，该系统包括：数据获取模块，最底层文字行平移模块，其余文字行平移模块，列平移模块，数据管理模块。数据获取模块，运维平台连接医院的数据库系统与业务系统，直接读取医院系统的数据。由于医院项目合同是在项目实施前完成的，所以一般是在项目实施前，由实施人员将项目相关的合同信息录入到业务系统中，然后运维平台直接从业务系统中读取合同。一般为了防止合同内容的更改，对于电子合同大多表现为图像形式，即上述过程读取合同即为图像数据。至此，获得了合同图像。最底层文字行平移模块，对于电子合同来说，其内容的主要表现为电子合同的文字信息，电子合同一般是通过白色背景信息和黑色文字信息表示的，也就是说，合同图像为一张二值图像，其中黑色的像素点是文字信息，白色的像素点是背景信息。将所获得的合同图像进行分块，将合同图像中较长的边记为长边，将合同图像中较短的边记为短边，将合同图像中长边均分为四段，将合同图像中短边均分为两段，即对合同图像划分为八个大小相同的分块图像，如图2所示。值得说明的是，当图像不能均匀分割时，若长边不能均匀分割，对长边进行加长，即向右补列，若短边不能均匀分割，对短边进行加长，即向下补行，填补的像素点为背景像素点，即灰度值为1的像素点，填补直到长边和短边都能均匀分割为止，此时将填补的行和列记录作为附加密钥。每个分块图像表示一个二维矩阵，二维矩阵中矩阵元素分别利用编码“0”“1”表示，其中“0”表示像素值0，“1”表示像素值1，即分块图像转换位元素为“0”“1”二维矩阵。将每个二维矩阵表示一个比特分层，8个二维矩阵就可以作为同一张图像的8个比特分层，由此可将8个二维矩阵转换为一个灰度图像，此时8个二维矩阵在竖直方向的重叠位置的不同导致灰度图像不同，所以可以直接利用8个二维矩阵对应比特分层的位置，对其进行加密，即将二维矩阵的叠加顺序作为密钥。但是对于合同图像中文字信息具有行列分布特征，所以所获得的8个二维矩阵中多个“0”或者“1”具有聚集特征，且聚集元素在行列上具有连续特征。所以在8个二维矩阵进行重叠构成比特分层时，同一位置不同分层可能存在元素一致的现象，即表现着各比特分层中元素的分布特征。例如，同一位置各比特分层均为合同图像的文字区域，当前位置存在大量的元素“0”，在比特分层转换获得的灰度图像中表现为较大灰度值的像素点聚集分布，且反应分块图像中的文字区域，从而造成合同图像的信息的暴露，不利于合同图像的信息加密。因此在实际加密过程中首先需要考虑合同图像中文字的聚集现象，对于灰度图像中的每个比特分层，将每一行至少存在一个元素“0”的行称为文字行，为了破坏聚集的文字行对图像信息的表现，首先对文字行进行平移。在文字行平移过程中，具体的平移位置决定文字特征的破坏效果，并且在越高层的比特分层对最终图像的像素值影响越大，所以越低层的比特分层越先进行行列平移，即越高层的比特分层根据平移完成的底层比特分层对其行列平移进行调整，以实现对文字特征的最大程度破坏。具体的，在每个比特分层中找到所有的文字行，按照每个文字行的行数从小到大进行排序，按照排序结果对文字行进行平移，对每一个文字行平移时，要将其平移后的位置距离其他文字行最远，对于后续文字行的平移也要远离其余的文字行，并且远离部分平移完成的文字行的位置，将当前正在平移的文字行记为平移文字行，根据不同行之间的距离关系得到每个位置为平移文字行平移后的位置的可能性：式中，表示第i个位置与所有文字行的距离中的最小距离，表示第i个位置与最近第j次完成平移的文字行之间的距离，表示选取的已经完成平移的文字行的数量，该值通过文字大小占据像素点行数得到，在本实施例中，选取为4，表示第i个位置为平移文字行平移后的位置的可能性，所述的最近为在文字行排序中的顺序最近。其中值越大，作为平移位置的可能性越大，且j越小，其位置对当前文字行平移位置的影响越小，表示最相邻的N0次平移位置对当前平移位置的影响，其中N0设置为4，且当已完成平移的行的数量小于4时，则N0即已完成平移的行数。对于当前文字行得到的若干位置的概率，找到最大概率对应的位置，将该位置作为平移文字行平移后的位置。值得说明的是，在此位置表示第几行，其中若最大概率位置对应的行是文字行，那么在概率中选取第二大的位置，若对应的行还是文字行，则选取概率中第三大的位置，依次类推，在不占用其余文字行的情况下找到概率最大的位置。记录每一个文字行的平移位置作为密钥，文字行的平移破坏了文字行的聚集对文字信息的表现，同时使得相邻文字行平移后远离，避免相邻文字行聚集所表现的文字信息，提高文字信息的隐藏效果。其余文字行平移模块，在当前比特分层中，不同比特分层之间文字行的对应关系在所获得的灰度图像中有所表现，此时如果只基于同一比特分层中文字行的位置关系，则可能导致不同比特分层中同一位置存在较多的文字行，从而导致所获得的灰度图像中较大像素值的聚集，即暴露合同图像信息。所以在不同比特分层中进行文字行的平移时，相邻已完成文字行平移的比特分层中文字行的位置影响着当前比特分层文字行的平移位置。将比特分层从最底层到最高层排序，其中层数越高信息量越大，通过上述得到了最底层的文字行的平移位置，将更高层的文字行在平移过程中受到平移完的其余比特分层的影响，从而在改变文字行在多个比特分层的聚集特征，避免所获得的灰度图像具有像素值趋势，同时破坏原始比特分层中文字行的对应关系，假设已经完成的平移的比特分层的数量为，在本实施例中令为3，对于当前比特分层的每个位置，需要考虑不同比特分层同一位置处是否有文字行，比特分层两个文字行的距离不考虑比特分层的高度，只考虑位置距离，每个位置为平移文字行平移后的可能性的公式如下：式中，表示当前比特分层中第i行位置与相邻已完成平移的第t个比特分层中文字行的距离中最近的距离，表示已经完成平移的距离当前比特分层最近的部分比特分层，表示第i个位置与完成平移的第t个比特分层中最近第x次完成平移的文字行之间的距离，表示选取的已经完成平移的文字行的数量，表示当前比特分层不考虑其余比特分层得到的第i个位置为平移文字行平移后的位置的可能性，表示当前比特分层中得到的第i个位置为平移文字行平移后的位置的可能性。 值越大，当前位置作为平移位置的可能性越大，t越小，比特分层越相近，文字行集聚对灰度图像的影响越大，即表示第t个已完成平移的比特分层文字行对当前文字平移位置的影响。值越大，对相邻比特分层文字行聚集的破坏效果越好，即当前位置作为平移位置的可能性越大，其中x越大，对原始比特分层结构中相邻比特分层文字行聚集效果的表现越小，即对当前平移位置的影响越小，即表示原始比特分层结构中相邻比特分层中文字行聚集对当前平移位置的影响。即表示当前位置受相邻已完成平移的N1个比特分层文字行分布的影响，其值越大，当前第i个位置作为平移位置的可能性越大。根据上述步骤，在每一文字行对应所在比特分层中所有位置作为平移位置的可能性，选择每一文字行对应可能性最大的位置作为其平移位置。以此类推，完成比特分层中所有的文字行的平移。其中首先在同一比特分层破坏文字行聚集对图像信息的表现；然后考虑当前比特分层中平移位置与已完成平移的比特分层文字行的对应关系，避免不同比特分层中同一位置的可能存在较多的文字行所导致所获得的灰度图像中较大像素值的聚集，即避免灰度图像像素值分布对文字信息的表现，同时避免对合同图像文字区域位置的暴露，提高合同图像的加密效果。列平移模块，对所有比特分层的所有文字行进行平移后，破坏了合同图像中文字的排列分布，但是文字行平移后，对于合同图像上的文字，每一行表示的文字信息还是相同的，此时如果获得几个文字行的位置也许可以猜测得到文字信息，所以仅仅通过文字行的平移无法完美将合同图像中的文字信息进行隐藏，这样直接加密的话会导致加密效果不佳，因此对于每个比特分层的每一列再进行平移。在列平移的过程中，主要是为了破坏每一个文字行保存的文字信息，首先对最底层的比特分层的列进行平移，所有列按照从左到右的顺序依次平移，将当前正在平移的列记为平移列，将一个文字行中的所有元素“0”对应的像素点记为同行元素，根据同行元素平移后的距离以及完成平移后的列对平移列的影响得到每个位置为平移列平移后的列位置的可能性，公式如下：式中，表示第v个列位置与最近的已经完成平移的第u列之间的距离，表示选取的已经完成平移的列的数量，该值通过文字大小占据像素点的列数得到，在本实施例中，选取为4，表示平移列的第r个同行元素在平移列平移到第v个列位置后与同一行平移后最近的第s个同行元素所在的位置之间的距离，表示同行元素完成平移后的数量，在本实施例中为5，表示平移列中同行元素的数量，表示第v个列位置为当前平移列平移后位置的可能性。的值越大，作为平移位置的可能性越大，其中u越小，对当前平移列的影响越小，表示最近完成平移的N2个列对当前列平移位置的影响，其值越大，当前位置作为对应列平移位置的可能性越大。值越大，平移列中第r个同行元素对文字行信息表现程度越小，平移效果越好，表示第r个同行元素与最相邻的个元素之间的距离均值，反映第r个同行元素所表现的文字行信息对当前列平移位置的影响，则表示当前平移列中所有的kl个同行元素所表现的文字行信息对当前列平移位置的影响，其值越大，当前位置作为对应行列平移位置的可能性越大。根据上述步骤得到每个平移列在每个位置的可能性，将可能性最大的位置作为平移列平移后的位置，第一个平移列随机平移。在完成最底层比特分层列平移后，将其他所有比特分层进行列平移，因为列平移过程中不同比特分层同一列无法表现与各比特分层之间的关系，所以所有比特分层列平移位置的获取均采用上述方法，获得所有列平移位置并完成列平移。此时所有列的平移位置作为密钥。对比特分层进行列平移，首先改变每一行中元素的固定位置关系，避免利用所确定的几个文字行中元素位置关系对文字信息的推理或者猜测，同时在平移过程中利用列元素与相邻列对应元素的位置关系，进一步改变了文字行元素的聚集特征，有效提高各比特分层所表示的合同图像文字信息的隐藏效果。数据管理模块，通过对文字行和列进行平移完成合同图像文字信息的隐藏，将平移后比特分层转换为灰度图像作为最终密文，将合同图像的补位行列、比特分层的排序、文字行的平移位置，列的平移位置作为密钥。完成合同图像信息的加密后，利用现有的压缩算法，对密文数据进行压缩，将压缩后数据进行存储。并且将密钥存储在移动优盘中，分配给对应的管理人员，最终通过管理人员所携带的密钥进行数据解密提取。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
