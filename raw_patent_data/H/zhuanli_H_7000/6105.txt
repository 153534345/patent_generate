标题title
一种零信任网络中基于区块链的碳数据共享访问方法及装置
摘要abst
本发明提供一种零信任网络中基于区块链的碳数据共享访问方法及装置，用户通过终端向区块链平台发起原始访问请求；属性权威智能合约根据用户属性信息构建属性访问请求，并发送至访问控制判决智能合约；访问控制判决智能合约通过碳数据核查机制智能合约获取当前被请求访问的目标数据的碳核查任务状态信息，通过零信任智能合约对用户进行信任评估，生成综合信任值；根据用户的属性信息和综合信任值、目标数据的碳核查任务状态信息和访问策略，在零信任网络中进行访问控制判决；当通过访问控制判决时，用户获得访问控制令牌，利用私钥从区块链平台获取目标数据。本发明提供的方法适用于碳交易、碳核查等业务场景，能够有效防止数据泄露的问题。
权利要求书clms
1.一种零信任网络中基于区块链的碳数据共享访问方法，其特征在于，所述方法在区块链平台上执行，在所述区块链平台上部署有属性权威智能合约、碳数据核查机制智能合约、访问控制判决智能合约和零信任智能合约，所述方法包括以下步骤：用户通过终端向所述区块链平台对目标数据发起原始访问请求；所述属性权威智能合约根据所述原始访问请求收集所述用户的属性信息，基于所述属性信息构建属性访问请求，将所述属性访问请求返回给所述访问控制判决智能合约；所述属性信息包括身份信息和层级信息；所述访问控制判决智能合约通过所述碳数据核查机制智能合约获取当前被请求访问的目标数据的碳核查任务状态信息，通过所述零信任智能合约对所述用户进行信任评估，生成综合信任值；所述碳核查任务状态信息包括已完成碳核查任务和未完成碳核查任务；根据所述用户的属性信息和综合信任值、以及存储在所述区块链平台上的目标数据的碳核查任务状态信息和访问策略，在零信任网络中进行访问控制判决；当通过所述访问控制判决时，所述用户获得所述区块链平台提供的访问控制令牌，利用自己的私钥从所述区块链平台获取所述目标数据并进行解密，以访问目标数据。2.根据权利要求1所述的零信任网络中基于区块链的碳数据共享访问方法，其特征在于，在用户通过终端向所述区块链平台对目标数据发起原始访问请求之前，还包括：所述用户在所述区块链平台上进行注册，生成公钥和私钥；在发起所述原始访问请求之前进行身份认证；碳数据提供者将碳数据资源使用预设的数据传输保护机制进行加密后上链存储；所述区块链平台根据所述碳数据资源生成相应的访问策略，将所述访问策略存储在所述区块链平台；所述碳数据提供者定期更新碳数据资源信息；所述碳数据资源信息包括所述碳数据资源对应的访问策略、核查周期和核查任务。3.根据权利要求2所述的零信任网络中基于区块链的碳数据共享访问方法，其特征在于，所述数据传输保护机制结合双重RSA算法和双鱼算法，所述方法还包括：当所述碳数据提供者将所述碳数据资源的地址上传至所述区块链平台时，使用所述双重RSA算法对所述碳数据资源的地址进行加密；当所述碳数据提供者将所述碳数据资源的数据文件上传至所述区块链平台时，使用所述双重RSA算法和双鱼算法混合的加密算法对所述碳数据资源的数据文件进行加密。4.根据权利要求1所述的零信任网络中基于区块链的碳数据共享访问方法，其特征在于，所述碳核查任务依次包括以下步骤：被核查单位对碳排放数据进行准备工作；所述准备工作包括碳排放数据自查；第三方管控机构向核查机构发放碳数据核查资质证书；所述核查机构对所述被核查单位进行碳排放数据核查；所述核查机构生成核查结果，并上报至所述第三方管控机构；所述第三方管控机构向所述被核查单位发放碳配额数据；所述被核查单位向所述第三方管控机构按照所述碳配额数据进行清缴。5.根据权利要求1所述的零信任网络中基于区块链的碳数据共享访问方法，其特征在于，通过所述零信任智能合约对所述用户进行信任评估，生成综合信任值，还包括：将所述用户的多个度量指标按照预设规则转化为相应的指标信任值；所述度量指标包括所述用户的身份信息、设备信息和网络信息；将多个指标信任值放入一个集合，并为每个度量指标赋予一个指标影响因子；使用逻辑回归模型计算出当前时刻所述用户每个度量指标对应的信任值；基于预设权重，综合每个度量指标的信任值，得到所述用户当前时刻的信任值；将所有时间段的所述用户的信任值进行加权平均，得到综合信任值。6.根据权利要求5所述的零信任网络中基于区块链的碳数据共享访问方法，其特征在于，所述方法还包括威胁行为防控机制：将各类危险操作构成集合，为每个危险操作赋予一个危险影响因子；根据各类危险操作对应的危险影响因子值计算针对所述原始访问请求的综合危险影响因子；当检测到出现所述危险操作时，所述危险操作对应的危险影响因子值改为0，使得所述用户的综合信任值无法达到预设阈值，以无法通过所述访问控制判决。7.根据权利要求5所述的零信任网络中基于区块链的碳数据共享访问方法，其特征在于，所述方法还包括：获取所述用户的历史度量指标记录容量；当所述历史度量指标记录容量大于预设容量值时，则距离当前时间最近的容量值为所述预设容量值的指标值均进行信任值计算，不在距离当前时间最近的容量值为所述预设容量值的指标值进行伯努利抽样后，对抽取得到的指标值进行信任值计算；为抽样部分和非抽样部分赋予不同的权重，以得到所述综合信任值。8.根据权利要求2所述的零信任网络中基于区块链的碳数据共享访问方法，其特征在于，所述方法还包括：根据基于属性的访问控制模型对所述碳数据进行分级分类，包括主体属性、客体属性、操作属性和环境属性；根据四类属性生成相应的属性值，构建四维访问矩阵；根据所述碳数据提供者的需求为所述四维访问矩阵进行赋值，将所述四维访问矩阵中的访问权限转换为所述访问策略，加密后存储在所述区块链平台。9.一种零信任网络中基于区块链的碳数据共享访问装置，其特征在于，所述装置包括：资源消耗层，所述资源消耗层包含需求碳数据资源的用户，所述用户通过终端进行用户注册、发起对目标数据的原始访问请求；访问控制层，所述访问控制层包括区块链平台和信任评估机制，用于对所述原始访问请求进行处理，生成访问控制判决结果；所述区块链平台上部署有属性权威智能合约、碳数据核查机制智能合约、访问控制判决智能合约和零信任智能合约；所述信任评估机制根据所述用户的多个度量指标计算综合信任值，用于访问控制判决；资源发布层，所述资源发布层包含碳数据资源的提供者，碳数据提供者将碳数据存放在数据库和/或服务器中，将碳数据资源及预设访问策略上传至所述区块链平台。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1至8中任一项所述方法的步骤。
说明书desc
技术领域本发明涉及碳数据共享访问控制技术领域，尤其涉及一种零信任网络中基于区块链的碳数据共享访问方法及装置。背景技术碳交易和碳核查对于应对全球气候变化至关重要，但在数据共享过程中，存在着跨域碳数据流通信任弱、碳数据权限控制不透明等问题。同时，相较于访问控制业务中常见的物联网、工业互联网等数据而言，碳数据具有种类多、访问控制参与主体繁杂、主体间数据交互复杂等特点。且其中包含碳交易、碳排放核查等特殊业务，需要在访问控制中设计针对以上业务场景的特殊机制来支撑碳数据的可信共享。现有针对物联网数据、工业互联网等该数据的访问控制方法研究比较丰富，但是在碳交易业务背景下针对碳数据而设计的访问控制机制研究较少。现有访问控制技术方案包括传统访问控制、基于区块链的访问控制和零信任网络下的访问控制等。其中，传统访问控制中，现存的访问控制平台多是基于集中式的平台构建，如根云，寄云等，在使用中可能会出现单点故障，将会导致大范围的数据丢失，造成严重后果。基于区块链的访问控制中，多数关于区块链及碳交易的研究主要集中在区块链与碳排放交易系统整体的构建上，而利用区块链技术对已有碳数据建立访问控制的详细研究比较少，并没有直接在碳交易环境下建立对于碳数据的访问控制。专利号“CN116488866A”的专利提供了一种基于区块链与属性加密的碳核查系统及方法，应用区块链和属性加密技术结合保证数据与访问安全，碳核查主要参与者可通过加入区块链接节点实现可信互联，原始数据上链存证，数据的真实性得到有效保证；碳排放量、排放报告、核查报告、监管数据等及时归集上链，同时通过属性加密技术实现数据细粒度访问控制及问题数据预警处理，实现信息的隐私保护与精准共享；上链的所有数据都会保留痕迹、各节点之间数据一致且透明，实现数据可追溯性。该专利能够解决现有技术中数据共享存在的局限性、隐私保护较差、数据可追溯性较差的问题，但不能满足碳数据共享的其他应用场景，并且采用传统网络安全模型，随着网络攻击的不断增加，已经不能满足各碳数据共享各主体的安全需求。专利号“CN113822605A”的专利提出了基于区块链的碳资产管理系统、方法及电子设备，包括：数据中台、碳排放管理模块、CCER项目管理模块、碳资产管理模块以及碳交易管理模块；数据中台用于基于数据访问控制策略，根据用户的身份信息确定访问权限并显示碳数据概览页面；碳排放管理模块用于基于数据访问控制策略，根据用户的访问权限通过调用智能合约自动执行报送、核算、上报以及审核，当出现违约或碳排放达到预设阈值时，自动推送预警消息并记录到区块链上。该专利通过数据访问控制策略为不同用户展示不同的信息页面，提高了用户体验，但该方案并未针对碳数据的需求对访问控制方法进行对应的调整，且同样采用传统网络安全模型，无法对碳资产管理各主体的数据进行有效安全防护。发明内容鉴于此，本发明实施例提供了一种零信任网络中基于区块链的碳数据共享访问方法及装置，以消除或改善现有技术中存在的一个或更多个缺陷，解决现有访问控制技术不适用于碳数据共享应用场景、难以保证碳数据真实性和隐私性、在数据共享中可能存在身份欺诈、非法用户攻击、单点攻击、数据泄露的问题。一方面，本发明提供了一种零信任网络中基于区块链的碳数据共享访问方法，所述方法在区块链平台上执行，在所述区块链平台上部署有属性权威智能合约、碳数据核查机制智能合约、访问控制判决智能合约和零信任智能合约，所述方法包括以下步骤：用户通过终端向所述区块链平台对目标数据发起原始访问请求；所述属性权威智能合约根据所述原始访问请求收集所述用户的属性信息，基于所述属性信息构建属性访问请求，将所述属性访问请求返回给所述访问控制判决智能合约；所述属性信息包括身份信息和层级信息；所述访问控制判决智能合约通过所述碳数据核查机制智能合约获取当前被请求访问的目标数据的碳核查任务状态信息，通过所述零信任智能合约对所述用户进行信任评估，生成综合信任值；所述碳核查任务状态信息包括已完成碳核查任务和未完成碳核查任务；根据所述用户的属性信息和综合信任值、以及存储在所述区块链平台上的目标数据的碳核查任务状态信息和访问策略，在零信任网络中进行访问控制判决；当通过所述访问控制判决时，所述用户获得所述区块链平台提供的访问控制令牌，利用自己的私钥从所述区块链平台获取所述目标数据并进行解密，以访问目标数据。在本发明的一些实施例中，在用户通过终端向所述区块链平台对目标数据发起原始访问请求之前，还包括：所述用户在所述区块链平台上进行注册，生成公钥和私钥；在发起所述原始访问请求之前进行身份认证；碳数据提供者将碳数据资源使用预设的数据传输保护机制进行加密后上链存储；所述区块链平台根据所述碳数据资源生成相应的访问策略，将所述访问策略存储在所述区块链平台；所述碳数据提供者定期更新碳数据资源信息；所述碳数据资源信息包括所述碳数据资源对应的访问策略、核查周期和核查任务。在本发明的一些实施例中，所述数据传输保护机制结合双重RSA算法和双鱼算法，所述方法还包括：当所述碳数据提供者将所述碳数据资源的地址上传至所述区块链平台时，使用所述双重RSA算法对所述碳数据资源的地址进行加密；当所述碳数据提供者将所述碳数据资源的数据文件上传至所述区块链平台时，使用所述双重RSA算法和双鱼算法混合的加密算法对所述碳数据资源的数据文件进行加密。在本发明的一些实施例中，所述碳核查任务依次包括以下步骤：被核查单位对碳排放数据进行准备工作；所述准备工作包括碳排放数据自查；第三方管控机构向核查机构发放碳数据核查资质证书；所述核查机构对所述被核查单位进行碳排放数据核查；所述核查机构生成核查结果，并上报至所述第三方管控机构；所述第三方管控机构向所述被核查单位发放碳配额数据；所述被核查单位向所述第三方管控机构按照所述碳配额数据进行清缴。在本发明的一些实施例中，通过所述零信任智能合约对所述用户进行信任评估，生成综合信任值，还包括：将所述用户的多个度量指标按照预设规则转化为相应的指标信任值；所述度量指标包括所述用户的身份信息、设备信息和网络信息；将多个指标信任值放入一个集合，并为每个度量指标赋予一个指标影响因子；使用逻辑回归模型计算出当前时刻所述用户每个度量指标对应的信任值；基于预设权重，综合每个度量指标的信任值，得到所述用户当前时刻的信任值；将所有时间段的所述用户的信任值进行加权平均，得到综合信任值。在本发明的一些实施例中，所述方法还包括威胁行为防控机制：将各类危险操作构成集合，为每个危险操作赋予一个危险影响因子；根据各类危险操作对应的危险影响因子值计算针对所述原始访问请求的综合危险影响因子；当检测到出现所述危险操作时，所述危险操作对应的危险影响因子值改为0，使得所述用户的综合信任值无法达到预设阈值，以无法通过所述访问控制判决。在本发明的一些实施例中，所述方法还包括：获取所述用户的历史度量指标记录容量；当所述历史度量指标记录容量大于预设容量值时，则距离当前时间最近的容量值为所述预设容量值的指标值均进行信任值计算，不在距离当前时间最近的容量值为所述预设容量值的指标值进行伯努利抽样后，对抽取得到的指标值进行信任值计算；为抽样部分和非抽样部分赋予不同的权重，以得到所述综合信任值。在本发明的一些实施例中，所述方法还包括：根据基于属性的访问控制模型对所述碳数据进行分级分类，包括主体属性、客体属性、操作属性和环境属性；根据四类属性生成相应的属性值，构建四维访问矩阵；根据所述碳数据提供者的需求为所述四维访问矩阵进行赋值，将所述四维访问矩阵中的访问权限转换为所述访问策略，加密后存储在所述区块链平台。另一方面，本发明提供一种零信任网络中基于区块链的碳数据共享访问装置，所述装置包括：资源消耗层，所述资源消耗层包含需求碳数据资源的用户，所述用户通过终端进行用户注册、发起对目标数据的原始访问请求；访问控制层，所述访问控制层包括区块链平台和信任评估机制，用于对所述原始访问请求进行处理，生成访问控制判决结果；所述区块链平台上部署有属性权威智能合约、碳数据核查机制智能合约、访问控制判决智能合约和零信任智能合约；所述信任评估机制根据所述用户的多个度量指标计算综合信任值，用于访问控制判决；资源发布层，所述资源发布层包含碳数据资源的提供者，碳数据提供者将碳数据存放在数据库和/或服务器中，将碳数据资源及预设访问策略上传至所述区块链平台。另一方面，本发明还提供一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现如上文中提及的任意一项所述方法的步骤。本发明的有益效果至少是：本发明提供一种零信任网络中基于区块链的碳数据共享访问方法及装置，用户通过终端向区块链平台发起原始访问请求；属性权威智能合约根据用户属性信息构建属性访问请求，并发送至访问控制判决智能合约；访问控制判决智能合约通过碳数据核查机制智能合约获取当前被请求访问的目标数据的碳核查任务状态信息，通过零信任智能合约对用户进行信任评估，生成综合信任值；根据用户的属性信息和综合信任值、目标数据的碳核查任务状态信息和访问策略，在零信任网络中进行访问控制判决；当通过访问控制判决时，用户获得访问控制令牌，利用私钥从区块链平台获取并访问目标数据。本发明构建了适用于碳数据的访问控制框架及方法，并添加基于区块链实现的碳数据核查机制和碳数据分级分类访问权限设置，适用于碳交易、碳核查等碳数据独有的业务场景；进一步的，在基于属性访问控制的基础上加入动态信任值计算，保证数据共享安全；同时，构建双重RSA算法和双鱼算法混合的加密算法，防止数据地址等敏感信息的明文传输导致信息泄露等问题发生。本发明的附加优点、目的，以及特征将在下面的描述中将部分地加以阐述，且将对于本领域普通技术人员在研究下文后部分地变得明显，或者可以根据本发明的实践而获知。本发明的目的和其它优点可以通过在说明书以及附图中具体指出的结构实现到并获得。本领域技术人员将会理解的是，能够用本发明实现的目的和优点不限于以上具体所述，并且根据以下详细说明将更清楚地理解本发明能够实现的上述和其他目的。附图说明此处所说明的附图用来提供对本发明的进一步理解，构成本申请的一部分，并不构成对本发明的限定。在附图中：图1为本发明一实施例中零信任网络中基于区块链的碳数据共享访问方法的步骤示意图。图2为本发明一实施例中混合加密算法的架构图。图3为本发明一实施例中碳数据核查机制的流程图和层级图。图4为本发明一实施例中信任值在距离当前时刻t个时间间隔的衰减比例值示意图。图5为本发明一实施例中伯努利抽样算法的流程示意图。图6为本发明一实施例中客体属性分级分类示意图。图7为本发明一实施例中零信任网络中基于区块链的碳数据共享访问装置的结构示意图。图8为本发明一实施例中系统关键功能的性能数据示意图。图9为本发明一实施例中总交易量为5000笔时，同时向区块链发起的请求数量由100笔增加至500笔，区块链平台处理请求并返回交易回执的平均时延的示意图。图10为本发明一实施例中总交易量为50000笔时，同时向区块链发起的请求数量由1000笔增加至10000笔，区块链平台处理请求并返回交易回执的吞吐量的示意图。图11为本发明一实施例中是否带有碳数据核查机制情况下吞吐量对比图。图12为本发明一实施例中是否带有碳数据核查机制情况下平均时延对比图。具体实施方式为使本发明的目的、技术方案和优点更加清楚明白，下面结合实施方式和附图，对本发明做进一步详细说明。在此，本发明的示意性实施方式及其说明用于解释本发明，但并不作为对本发明的限定。在此，还需要说明的是，为了避免因不必要的细节而模糊了本发明，在附图中仅仅示出了与根据本发明的方案密切相关的结构和/或处理步骤，而省略了与本发明关系不大的其他细节。应该强调，术语“包括/包含”在本文使用时指特征、要素、步骤或组件的存在，但并不排除一个或更多个其它特征、要素、步骤或组件的存在或附加。在此，还需要说明的是，如果没有特殊说明，术语“连接”在本文不仅可以指直接连接，也可以表示存在中间物的间接连接。在下文中，将参考附图描述本发明的实施例。在附图中，相同的附图标记代表相同或类似的部件，或者相同或类似的步骤。这里需要强调的是，在下文中提及的各步骤标记并不是对各步骤先后顺序的限定，而应当理解为可以按照实施例中提及的顺序执行步骤，也可以不同于实施例中的顺序，或者若干步骤同时执行。为了解决现有访问控制技术不适用于碳数据共享应用场景、难以保证碳数据真实性和隐私性、在数据共享中可能存在身份欺诈、非法用户攻击、单点攻击、数据泄露的问题，本发明提出了一种零信任网络中基于区块链的碳数据共享访问方法，该方法在区块链平台上执行，在区块链平台上部署有属性权威智能合约、碳数据核查机制智能合约、访问控制判决智能合约、零信任智能合约等智能合约，如图1所示，该方法包括以下步骤S101~S105：步骤S101：用户通过终端向区块链平台对目标数据发起原始访问请求。步骤S102：属性权威智能合约根据原始访问请求收集用户的属性信息，基于属性信息构建属性访问请求，将属性访问请求返回给访问控制判决智能合约。其中，属性信息包括身份信息和层级信息。步骤S103：访问控制判决智能合约通过碳数据核查机制智能合约获取当前被请求访问的目标数据的碳核查任务状态信息，通过零信任智能合约对用户进行信任评估，生成综合信任值。其中，碳核查任务状态信息包括已完成碳核查任务和未完成碳核查任务。步骤S104：根据用户的属性信息和综合信任值、以及存储在区块链平台上的目标数据的碳核查任务状态信息和访问策略，在零信任网络中进行访问控制判决。步骤S105：当通过访问控制判决时，用户获得区块链平台提供的访问控制令牌，利用自己的私钥从区块链平台获取目标数据并进行解密，以访问目标数据。在步骤S101中，用户，即碳数据需求者，通过终端向区块链平台发起原始访问请求。示例性的，终端可以是手机终端、电脑终端等智能终端设备。在一些实施例中，在步骤S101之前，还包括数据访问的前置阶段，前置阶段包括以下步骤S1011~S1013：步骤S1011：用户在区块链平台上进行注册，生成公钥和私钥，其中，公钥用于加密数据，私钥用于解密数据和进行数字签名。在发起原始访问请求之前进行身份认证，以确保其身份的合法性和真实性。步骤S1012：碳数据提供者将碳数据资源使用预设的数据传输保护机制进行加密后上链存储；区块链平台根据碳数据资源生成相应的访问策略，将访问策略存储在区块链平台，以确保数据的完整性和不可篡改性。其中，通常是将碳数据资源的地址或者数据文件存储在区块链平台上。步骤S1013：碳数据提供者定期更新碳数据资源信息，示例性的，如需要新增或更新碳数据资源对应的访问策略、核查周期和核查任务等信息。在步骤S1012中，预设的数据传输保护机制采用双重RSA算法和双鱼算法的混合算法，可以让用户在访问目标碳数据时，不会泄露数据地址或数据摘要等敏感信息。该机制也支持将被访问的碳数据文件直接加密，存储在链上，然后在资源需求者通过访问控制判决后将加密后的数据资源发送至资源需求者。具体的，本发明首先使用经典RSA算法的一种变体，通过生成四个大素数来避免因式分解攻击，以提高安全性，再同时使用双重RSA来保证数据加密的安全性。首先对四素数RSA改进算法进行说明，包括密钥生成、加密和解码三部分：密钥生成算法：接收方生成一对公私钥对，记作，随机选取四个大素数，分别记作p,q,s,t，在本发明中，使用随机增量法来减少生成这四个大素数的时间，提高密钥生成效率。计算过程包括以下公式~：K=p*q*s*t；公式的欧拉函数为：；接收方随机选择一个与公式欧拉函数互素的e作为公钥，并保证，再计算私钥：； 最终，接收方公布自己的公钥，保密自己的私钥。加密算法：发送方发消息给接收方时，将消息转化为ZN中的元素m，使用公钥进行计算，生成密文消息c，如公式所示：； 解密算法：接收方收到密文消息c后，通私钥进行计算，得到明文消息m，如公式所示：；再对融合四素数的双重RSA算法进行说明，包括密钥生成、加密和解码三部分：密钥生成算法：同上文四素数RSA算法中的密钥生成算法，使用随机增量法选出第一轮素数，记作p1,q1,s1,t1，利用公式~，计算得到第一轮公钥和私钥；使用随机增量法选出第二轮素数，记作p2,q2,s2,t2，利用公式~，计算得到第二轮公钥和私钥，由此，生成双重RSA算法的复合公钥和复合私钥。加密算法：对明文M进行加密，得到C，如公式所示：；其中，K1是在密钥生成算法中计算第一轮密钥时生成的中间结果，对该中间结果也进行加密，得到C2，如公式所示：；解密算法：利用第二轮私钥通过密文C2解密得到中间结果K1，如公式所示：； 再利用第一轮私钥通过密文C解密得到明文M，如公式所示：；在一些实施例中，碳数据提供者将碳数据资源的地址或者数据文件存储在区块链平台上，在本发明中，双重RSA算法和双鱼算法的混合算法根据被访问资源数据量的大小来决定，如图2所示，具体的：当碳数据提供者仅将碳数据资源的地址上传至区块链平台时，使用双重RSA算法对碳数据资源的地址进行加密。当碳数据提供者将碳数据资源的数据文件上传至区块链平台时，使用双重RSA算法和双鱼算法混合的加密算法对碳数据资源的数据文件进行加密。在步骤S102中，属性权威智能合约根据原始访问请求收集用户的属性信息，基于属性信息构建属性访问请求，将属性访问请求返回给访问控制判决智能合约，用于后续的访问控制判决。其中，属性信息包括身份信息和层级信息，具体的在后文主体属性中进行说明。在步骤S103中，访问控制判决智能合约通过碳数据核查机制智能合约获取当前被请求访问的目标数据的碳核查任务状态信息，通过零信任智能合约对用户进行信任评估，生成综合信任值。首先对访问控制判决智能合约通过碳数据核查机制智能合约获取当前被请求访问的目标数据的碳核查任务状态信息，作进一步说明：为了进一步对碳数据共享过程中准确性、真实性和隐私性进行保障，本发明设计了针对碳排放核查场景下的碳数据访问控制模式，其具体的应用背景如下：碳数据共享过程中除了需求方和提供方之间的数据共享外，在碳核查场景下，也存在多方之间具有流程的数据共享场景，此时，如果仅通过碳数据的访问控制策略进行访问控制，则可能会使各企业中预备阶段中尚未准备就绪的数据被提前访问，导致参与数据共享的各方之间所访问的数据版本不一致、不准确。因此，在碳排放核查多方之间数据共享场景下进行访问控制时，不仅需要考虑数据自身的访问控制需求，也需要考虑目标数据所处数据共享流程带来的访问控制需求。由此，本发明设计了一种碳数据核查机制，通过碳数据核查机制协同多方之间的数据共享流程，各参与方可以借助该机制了解数据共享流程的推进状况，指导访问控制判决。同时，考虑到在碳数据核查流程中，各项任务由各参与方共同产生，但各参与方之间彼此互不信任，为此，本发明将碳数据核查机制部署于区块链平台之上，使得碳排放核查的各参与方通过区块链平台产生信任，进而达到通过碳数据核查机制协同数据共享的目的。本发明提供的碳数据核查机制结合国内实际碳市场及标准碳核查流程，并为了保证共享数据的准确、真实、具有时效性，在原有基于属性的访问控制方法上增加了针对碳交易业务背景的碳数据核查机制，访问控制判决时在满足访问策略的同时必须要在碳数据核查机制的任务完成后才能给予访问控制权限。该机制部署在区块链平台上，以多层级审核任务的形式存储在区块链中。如图3所示，为碳数据核查机制的流程图和层级图，碳核查任务包括以下步骤：被核查单位对碳排放数据进行准备工作。其中，准备工作包括与相关咨询机构沟通并进行碳排放数据自查等工作。第三方管控机构向核查机构发放碳数据核查资质证书。核查机构对被核查单位进行碳排放数据核查。核查标准可以参考政府下发的标准碳核查方法文件。核查机构生成核查结果，并上报至第三方管控机构。第三方管控机构向被核查单位发放碳配额数据及相关数据。被核查单位向第三方管控机构按照碳配额数据进行清缴。需要说明的是，以上每个步骤涉及的数据访问应该按照顺序进行，否则碳数据核查机制将无法保证碳数据的真实性、准确性及时效性，无法进行数据访问。对应图3，如表1所示，碳数据核查机制通过部署在区块链上的多层级任务列表实现。进行访问控制判决前，必须先核实该目标数据的碳核查任务状态信息，是否还存在尚未完成的任务，若区块链上存储的任务均为已完成状态，即可授权该数据资源的访问。表1 多层级任务列表基于以上对碳数据核查机制和多层级任务列表的说明，碳数据核查机制的完整运行流程包括以下步骤S1031~S1036：步骤S1031：政府机构部门、核查机构、企业三方协商以共同确认碳数据核查机制实行。确认碳数据核查机制定义，包括核查流程中包含的任务，以及各任务的关键属性。关键属性包括任务的前驱后继信息，状态信息等。步骤S1032：将碳数据核查机制结合访问控制方法部署在区块链平台上，将包含的核查任务相关信息存储至链上。步骤S1033：碳数据核查机制任务状态更新。当核查流程中的任务状态发生改变时，向区块链平台发起核查任务状态更新请求，调用碳数据核查机制智能合约中的任务状态更新功能，更新可信存储模块中对应任务的状态信息。如果更新后的任务状态为完成状态或者失败状态，则表示该任务已经完成运行，此时，从该任务的后继任务列表中取出对应的任务并更新其状态，以完成工作流在区块链平台的运行。示例性的，核查机构想要对被核查单位进行碳核查，若被核查单位的任务列表中还存在数据准备的任务，此时获取的数据无法保证其真实性和准确性，因此，核查机构不被允许访问该企业的数据，直至被核查单位的数据准备任务完成。步骤S1034：发起碳数据核查环境下的数据访问请求。步骤S1035：结合区块链平台中存储的核查任务状态信息，利用用户上传的属性信息和基于碳数据分级分类的访问权限及访问策略等信息执行碳数据核查环境下的访问控制判决。其中，碳数据分级分类的访问权限在下文作进一步说明。步骤S1036：向用户返回访问控制判决结果，并向其返回授予的访问权限集。如果存在未完成的任务而拒绝访问请求，则返回当前任务执行状态。即，当区块链平台收到访问请求后，调用访问控制模块，从区块链平台中取出存储的对应的碳核查任务状态信息，如果碳核查任务状态信息为未完成碳核查任务，则表示核查任务尚未完成，从而拒绝该访问请求，并返回当前核查任务执行的状态，告知用户核查任务已完成的进度；如果碳核查任务状态信息为已完成碳核查任务，则表示核查任务已完成，可以进入访问控制判决。再对访问控制判决智能合约通过零信任智能合约对用户进行信任评估，生成综合信任值，作进一步说明。其中，需要说明的是零信任智能合约仅为区块链平台与外部进行信任值计算的平台的接口，具体的计算过程由外部服务器实现。本发明提出了一种基于信任评估的轻量访问控制方法。首先基于零信任的理念，用户，即资源需求者的信任值度量指标由身份信息、设备信息、网络信息三者构成。由此，用户的信任值包括身份信任值、设备信任值、网络信任值三个部分，基于各度量指标的信任值形成最后的综合信任值以供访问控制方法来判断是否能够予以权限对目标资源进行访问。引入时间衰减因子，对历史信任度加权，使越靠近当前时刻的信任度越可靠，抑制恶劣用户通过持续的违规行为反复欺诈信任模型，增加信任评估机制的可信程度。衰减公式如公式所示：；其中，表示该信任值在距离当前时刻有t个时间间隔时的衰减比例值；/＞为当前时刻的初始数值；t为衰减时间，此处t取正整数，作为时间间隔；/＞表示衰减常数，可根据系统部署后的实际情况选择或调整时间衰减因子的衰减速率。已经进行归一化处理，如图4所示，纵轴为时间衰减因子，横轴为时间间隔。为了从用户的身份、设备、网络三个部分的度量指标中计算出综合信任值，本发明选取了逻辑回归模型来对各个度量指标信任值进行计算。首先，将度量指标转化为对应的信任值，由il表示。把三个度量指标的信任值放入一个集合中，用m表示。然后，为每个度量指标赋一个指标影响因子，用于调节该度量指标所占的权重，由表示。最后，使用逻辑回归模型计算出当前时刻该用户的身份、设备、网络三者各自的综合信任值，如公式所示：；基于公式得到三个度量指标的信任值tm，再为这些信任值赋予各自的权重来计算该用户的综合信任值，如公式所示：； 其中，表示当前用户的综合信任值；wm表示身份、设备、网络三个度量指标所占的权重，m表示度量指标。在一些实施例中，为了保证被访问的资源不会受到外部的威胁行为的攻击，本发明还为以上用户的信任值计算过程增加了威胁行为防控机制，进一步保护被访问资源的数据安全。具体的：将可能发生的具有威胁的危险操作组成集合，如公式所示：P={P1, P2, P3, ..., Pn}；使用xf，f∈来表示各个危险操作的影响因子，如公式所示：X={x1, x2, ..., xf,...,xn}；根据各类危险操作对应的危险影响因子值计算针对该次原始访问请求的综合危险影响因子G，如公式所示：；当系统检测到出现相应的危险操作时，该危险操作对应的危险影响因子值改为0，或者大幅降低，从而使得用户的综合信任值无法达到预设阈值，从而无法通过访问控制判决。最后计算得到用于判断能否获取访问权限的当前时刻的综合信任值，如公式和公式所示：； ；将所有时间段的综合信任值进行加权平均，最终得到用于信任评估的综合信任值VTrust，如公式所示：； 其中，tthreshold表示纳入信任值计算的时间阈值；Nthreshold表示当前时间段至时间阈值的间隔数；表示时间衰减因子。在一些实施例中，考虑到新型电力系统中有海量数据，访问请求并发性高，因此，本发明在信任值计算方法中添加伯努利抽样模块，以降低算法复杂度，提高计算性能，具体的：抽样启动边界：如图5所示，设定一个容量值B，获取用户的历史度量指标记录容量，即，当目前服务器的数据库中历史度量指标记录容量大于预设的容量值B时，则启动伯努利抽样模块，将伯努利抽样作为信任值计算流程的一部分，具体的：距离当前时间最近的容量值为预设容量值B的指标值均要进行信任值计算，不在距离当前时间最近的容量值为预设容量值B的指标值进行伯努利抽样后，仅对抽取得到的指标值进行信任值计算。伯努利抽样概率：n重伯努利试验中，事件A发生m次的概率如公式所示：；在处理过程中，要预先设置抽取概率P，即对于大量的指标数据，系统将以百分之P的概率抽取样本，在样本中包含每一个属性数据的概率是P/100。最后，再对样本数据进行可信值计算。该概率值将决定不在距离当前时间最近的容量为B的指标值将有多少需要进行计算，P越大，计算的指标值越多，信任值越准确，但系统性能负载将越大，且伯努里抽样模块引入的作用会不明显；P越小，信任值准确度会稍微降低，但进行计算的指标值越少，系统性能负载也越小，伯努利抽样模块引入的作用会较明显。权重分配：为抽样部分和非抽样部分两部分信任计算赋予不同权重，抽样部分赋予小权重Wsample，非抽样部分赋予大权重Woriginal，得出最后用于评估的信任值，如公式所示：；其中，Vsample和Voriginal的计算方式可参考公式，权重Wsample与Woriginal的和为1。根据以上计算结果，当用户发送访问请求时，依据信任评估机制计算出用户的综合信任值，并将其返回给零信任智能合约，零信任智能合约再将收到的综合信任值与预设阈值进行比较，得出信任评估的结果。需要说明的是，预设的信任评估阈值的大小可以根据已通过的访问请求数量进行动态调节，以避免因信任评估阈值过高或过低导致的无法正常访问以及其他的安全问题。最后，零信任智能合约会将评估结果发送给访问控制判决智能合约用于后续的访问控制判决。本发明还提供了基于碳数据分级分类的访问权限设置，根据基于属性的访问控制模型的四类属性对数据进行分级分类：主体属性：用户来源和/或用户层级。如表2所示，主体包括政府机构，即生态环境管理部门、核查机构、被核查单位，包括非控排企业，如林场等吸收二氧化碳的单位；一般控排企业，指本市行政区域内年综合能源消费总量2000吨标准煤以上，且在中国境内注册的企业、事业单位、国家机关及其他单位；重点控排企业，指本市行政区域内的固定设施年二氧化碳直接排放与间接排放总量5000吨以上，且在中国境内注册的企业、事业单位、国家机关及其他单位，包括纳入全国碳市场的重点碳排放单位、碳数据查询者。表2 主体属性分级分类客体属性：如图6所示，碳数据分级分类可分成两大类：碳交易业务相关数据、碳排放数据，然后依据开放级别、共享级别来对碳数据进行分级。如表3所示，分级分类后得到14种客体属性，用于按照属性-权限关联关系来制定访问策略。表3 客体属性分级分类/＞操作属性：进行碳核查需要对碳排放数据进行读、写、新建、删除等操作。其中在经过访问控制判决后可以授予数据请求者的访问权限集定义如表4所示：表4 操作属性划分环境属性：时间、地理区域等。示例性的，碳数据核查业务中，仅在固定的月份允许核查机构对企业控排数据进行访问；划分地理区域，比如省内的核查机构对于省内企业的数据访问权限高于省外的核查机构。在对主体、客体进行属性划分之后，建立属性-权限的关联关系，根据四类属性生成相应的属性值，构建四维访问矩阵。根据各个碳数据提供者的实际需求为四维矩阵进行赋值，然后将存储在四维矩阵中的访问权限转化为标准格式的访问策略，最后加密、上链存储。标准访问策略采用四元组形式，定义如公式所示：；其中，表示第n个主体属性值；/＞表示第n个客体属性值；/＞表示第n个操作属性值；e表示环境属性值。在步骤S104中，根据上述步骤得到的用户的属性信息和综合信任值、以及存储在区块链平台上的目标数据的碳核查任务状态信息、分级分类访问权限和访问策略，在零信任网络中进行访问控制判决。根据上文的说明可知，访问控制判决通过需同时满足以下三项要求：碳数据核查机制返回无正在进行中的核查任务，即碳核查任务状态信息为已完成碳核查任务、信任评估结果通过，即综合信任值大于预设阈值、用户属性及资源对应的访问策略相匹配。在步骤S105中，当通过访问控制判决时，用户获得区块链平台提供的访问控制令牌，利用自己的私钥从区块链平台获取目标数据并进行解密，以访问目标数据。与零信任网络中基于区块链的碳数据共享访问方法相对应的，本发明还提供一种零信任网络中基于区块链的碳数据共享访问装置，如图7所示，该装置包括资源消耗层、访问控制层和资源发布层，具体的：资源消耗层包含需求碳数据资源的用户，用户在资源耗尽层通过终端进行用户注册、发起对目标数据的原始访问请求。访问控制层包括区块链平台和信任评估机制，用于对原始访问请求进行处理，生成访问控制判决结果。其中，区块链平台上部署有属性权威智能合约、碳数据核查机制智能合约、访问控制判决智能合约和零信任智能合约等。信任评估机制根据用户的多个度量指标计算综合信任值，用于访问控制判决。资源发布层包含碳数据资源的提供者，碳数据提供者将碳数据存放在数据库和/或服务器中，将碳数据资源及预设访问策略上传至所述区块链平台。下面结合具体实验对本发明作进一步说明：首先对改进RSA算法进行验证分析。在该实验中，软件配置信息如表5所示。表5 软件配置信息表在对少量数据进行加密上链时，比如碳数据提供者仅将碳数据资源的地址上传至区块链进行存储时，仅使用RSA算法来进行数据保护。如表6所示，为执行不同RSA算法所消耗的时间。表6 执行不同RSA算法所消耗的时间本发明采用的RSA算法使用四个素数来生成密钥对，并应用随机增量搜索方法来减少RSA算法执行过程中所花费的时间。同时，采用双RSA算法来保证RSA算法的安全性。表6显示了密钥对生成和加密公钥大小为2048位的极少量明文所花费的时间总和。每一轮由十个重复的实验组成，并计算这十个值的平均值。在对大量数据或数据文件进行加密上链时，使用改进RSA算法及双鱼TwoFish算法的混合加密算法来进行数据保护。如表7所示，为执行不同RSA算法对不同大小的数据进行加密所消耗的时间。表7 执行不同RSA算法对不同大小的数据进行加密所消耗的时间由此可见，在明文加密过程中，与传统方法相比，本发明提供的混合加密方法在效率上提升显著。根据以上实验结果，可验证本文所提的数据保护机制能够在保证数据安全的前提下，有效提升加解密算法效率，使其更适合应用在新型电力系统中访问请求高并发的场景。再对零信任网络中基于区块链的碳数据共享访问的整体系统进行验证分析。在该实验中，软件配置信息如表8所示，硬件配置信息如表9所示。表8 软件配置信息表表9 硬件配置信息表如表10和图8所示，为整体系统关键功能的性能数据展示。其中，NAR表示原始访问请求；AAR表示基于属性的访问请求，即属性访问请求；DUI是资源发布智能合约中的一个功能函数，用于碳数据提供者向区块链平台上传碳数据相关信息；Policy表示访问策略；AC Decision with CDVM表示带有碳数据核查机制的访问控制判决；ACDecision without CDVM表示不带有碳数据核查机制的访问控制判决；MaxThroughput表示最大吞吐量；Avg time cost表示平均时延；Transaction Error Rate表示失败交易率；QPS表示每秒发起请求的数量。表10 关键功能性能数据根据表10和图8可知，由于智能合约的复杂程度不同，几项功能所展现出的最大吞吐量、平均时延也不相同。智能合约复杂度越高，吞吐量越低、平均时延越大。对时延作进一步分析。图9为发起总交易量为5000笔时，同时向区块链发起的请求数量由100笔增加至500笔，区块链平台处理请求并返回交易回执的平均时延。当QPS为百级时，各个函数的响应速度均非常迅速。其平均时延控制在200~800ms之间。但需要说明的是，因为不同合约中各个功能函数的逻辑复杂程度、代码长度、代码量、数据量、输入输出内容等内容各不相同，所以在相同测试条件下，不同函数的平均时延也不相同。对吞吐量分析作进一步分析。图10为发起总交易量为50000笔时，同时向区块链发起的请求数量由1000笔增加至10000笔，区块链平台处理请求并返回交易回执的吞吐量，使用每秒处理的请求数指标来衡量。由图10可知，当同时向合约发送的请求数增加时，TPS会随着QPS增加而增加，然后稳定在一定水平。因为在测试吞吐量时，同时发送的请求过少时可能不能达到系统每秒处理的交易数量的上限，而使得系统真实的吞吐量不能体现。同时，QPS也不能过大，当QPS过大时，会让交易堆积在交易池中。这些堆积的交易不能被立即执行，使得测出的TPS会小于实际的TPS。而随着请求数量增加，逐渐达到系统每秒处理交易数量的上限时，吞吐量的值趋于平稳。对是否带有碳数据核查机制作进一步性能对比。如图8所示，为是否带有碳数据核查机制情况下吞吐量对比图，由图可知，带有碳数据核查机制与否对合约的平均时延影响不大，基本持平。加入碳数据核查机制后不会对访问控制机制的吞吐量造成明显影响。如图9所示，为是否带有碳数据核查机制情况下平均时延对比图，由图可知，带有碳数据核查机制与否对合约的平均时延影响不大，基本持平。加入碳数据核查机制后不会对于访问控制机制的响应时间造成明显影响。本发明还提供一种计算机可读存储介质，其上存储有计算机程序，该程序被处理器执行时实现零信任网络中基于区块链的碳数据共享访问方法的步骤。与上述方法相应地，本发明还提供了一种设备，该设备包括计算机设备，所述计算机设备包括处理器和存储器，所述存储器中存储有计算机指令，所述处理器用于执行所述存储器中存储的计算机指令，当所述计算机指令被处理器执行时该设备实现如前所述方法的步骤。本发明实施例还提供一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时以实现前述边缘计算服务器部署方法的步骤。该计算机可读存储介质可以是有形存储介质，诸如随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、软盘、硬盘、可移动存储盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质。综上所述，本发明提供一种零信任网络中基于区块链的碳数据共享访问方法及装置，用户通过终端向区块链平台发起原始访问请求；属性权威智能合约根据用户属性信息构建属性访问请求，并发送至访问控制判决智能合约；访问控制判决智能合约通过碳数据核查机制智能合约获取当前被请求访问的目标数据的碳核查任务状态信息，通过零信任智能合约对用户进行信任评估，生成综合信任值；根据用户的属性信息和综合信任值、目标数据的碳核查任务状态信息和访问策略，在零信任网络中进行访问控制判决；当通过访问控制判决时，用户获得访问控制令牌，利用私钥从区块链平台获取并访问目标数据。本发明构建了适用于碳数据的访问控制框架及方法，并添加基于区块链实现的碳数据核查机制和碳数据分级分类访问权限设置，适用于碳交易、碳核查等碳数据独有的业务场景；进一步的，在基于属性访问控制的基础上加入动态信任值计算，保证数据共享安全；同时，构建双重RSA算法和双鱼算法混合的加密算法，防止数据地址等敏感信息的明文传输导致信息泄露等问题发生。本领域普通技术人员应该可以明白，结合本文中所公开的实施方式描述的各示例性的组成部分、系统和方法，能够以硬件、软件或者二者的结合来实现。具体究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。当以硬件方式实现时，其可以例如是电子电路、专用集成电路、适当的固件、插件、功能卡等等。当以软件方式实现时，本发明的元素是被用于执行所需任务的程序或者代码段。程序或者代码段可以存储在机器可读介质中，或者通过载波中携带的数据信号在传输介质或者通信链路上传送。需要明确的是，本发明并不局限于上文所描述并在图中示出的特定配置和处理。为了简明起见，这里省略了对已知方法的详细描述。在上述实施例中，描述和示出了若干具体的步骤作为示例。但是，本发明的方法过程并不限于所描述和示出的具体步骤，本领域的技术人员可以在领会本发明的精神后，作出各种改变、修改和添加，或者改变步骤之间的顺序。本发明中，针对一个实施方式描述和/或例示的特征，可以在一个或更多个其它实施方式中以相同方式或以类似方式使用，和/或与其他实施方式的特征相结合或代替其他实施方式的特征。以上所述仅为本发明的优选实施例，并不用于限制本发明，对于本领域的技术人员来说，本发明实施例可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
