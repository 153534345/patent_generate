标题title
电机电感参数计算方法、装置、系统、电机和动力设备
摘要abst
一种电机电感参数计算方法、装置、系统、电机和动力设备，在获取到永磁同步电机的运行数据后，基于运行数据确定永磁同步电机的当前工况，当前工况为稳态工况时，基于预先建立的第一映射关系计算得到稳态工况下永磁同步电机直轴和交轴的电感参数，当前工况为瞬态工况时，基于预先建立的第二映射关系计算得到瞬态工况下永磁同步电机直轴和交轴的电感参数，使得直轴和交轴的电感参数的大小与永磁同步电机的运行工况相匹配，可以精准的计算得到永磁同步电机运行过程中的实时直轴和交轴的电感参数，可以不再采用固定的直轴和交轴的电感参数对永磁同步电机进行控制，使得永磁同步电机的控制结果更加精准、可靠。
权利要求书clms
1.一种电机电感参数计算方法，其特征在于，包括：获取永磁同步电机的运行数据；基于所述运行数据计算所述永磁同步电机的当前工况；当所述当前工况为稳态工况时，基于第一预设映射关系计算得到所述永磁同步电机直轴和交轴的电感参数；当所述当前工况为瞬态工况时，基于第二预设映射关系计算得到所述永磁同步电机的定子直轴和交轴的电感参数；所述第一预设映射关系包括：定子直轴的电感参数与直轴电压、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量的之间的映射关系；以及，定子交轴的电感参数与交轴电压、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系；所述第二预设映射关系包括：定子直轴的电感参数与直轴电压、直轴的参考电流、永磁同步电机的控制周期、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量之间的映射关系；以及，定子交轴的电感参数与交轴电压、交轴的参考电流、永磁同步电机的控制周期、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系。2.根据权利要求1所述的电机电感参数计算方法，其特征在于，所述直轴系统内外部总扰动量表示直轴至少包含因为电感参数变化和系统交叉耦合所引起的系统内外部总扰动量；所述交轴系统内外部总扰动量表示交轴至少包含因为电感参数变化和系统交叉耦合所引起的系统内外部总扰动量。3.根据权利要求1所述的电机电感参数计算方法，其特征在于，所述第一预设映射关系为：；其中，所述为定子直轴的电感参数；所述/＞为定子直轴电压；所述/＞为定子电阻；所述/＞为定子直轴电流；所述/＞为定子直轴的标称电感值；所述/＞为定子直轴系统内外部总扰动量的估计值；所述直轴系统内外部总扰动量的估计值等效为所述直轴系统内外部总扰动量；所述/＞为定子交轴的电感参数；所述/＞为定子交轴电压；所述/＞为定子交轴电流；所述/＞为定子交轴标称电感值；所述/＞为定子交轴系统内外部总扰动量的估计值；所述交轴系统内外部总扰动量的估计值等效为所述交轴系统内外部总扰动量；所述/＞用于表征第/＞时刻；所述第二预设映射关系为：；其中，所述为直轴的参考电流；所述/＞为永磁同步电机的控制周期；所述/＞为交轴的参考电流。4.根据权利要求3所述的电机电感参数计算方法，其特征在于，基于第一预设映射关系计算得到所述永磁同步电机直轴和交轴的电感参数、基于第二预设映射关系计算得到所述永磁同步电机的定子直轴和交轴的电感参数之前还包括：获取永磁同步电机的定子直轴和交轴电压的数学计算模型，记为第一数学计算模型：；其中，所述为转子的直轴磁链；所述/＞为转子磁链角速度；所述/＞为定子交轴电感；为转子的交轴磁链；获取永磁同步电机的转子的直轴磁链和交轴磁链的数学计算模型，记为第二数学计算模型：；其中，为转子永磁体磁链；所述/＞为定子直轴电感；将所述第二数学计算模型代入所述第一数学计算模型，得到第三数学计算模型：；在稳态工况下，基于所述第三数学计算模型，计算得到稳态工况对应的第一预设映射关系；在瞬态工况下，基于无差拍的思想，将所述直轴的参考电流作为直轴下一时刻的电流，将所述交轴的参考电流作为交轴下一时刻的电流，将直轴下一时刻的电流和交轴下一时刻的电流代入所述第三数学计算模型，计算得到瞬态工况对应的第二预设映射关系。5.根据权利要求4所述的电机电感参数计算方法，其特征在于，所述和/＞由扰动估计模块估计得到；所述由自适应电压求解模块基于公式/＞和公式/＞计算得到，其中，所述/＞为直轴的标称电感；所述由自适应电压求解模块基于公式于/＞和/＞计算得到。6.根据权利要求5所述的电机电感参数计算方法，其特征在于，在稳态工况下，基于所述第三数学计算模型，计算得到稳态工况对应的第一预设映射关系，包括：将代入所述第三数学计算模型，并对所述第三数学计算模型进行变换，得到第一预设映射关系；在瞬态工况下，基于无差拍的思想，将所述直轴的参考电流作为直轴下一时刻的电流，将所述交轴的参考电流作为交轴下一时刻的电流，将直轴下一时刻的电流和交轴下一时刻的电流代入所述第三数学计算模型，计算得到瞬态工况对应的第二预设映射关系，包括：将和/＞代入所述第三数学计算模型，并对所述第三数学计算模型进行变换，得到所述第二预设映射关系。7.一种电机电感参数计算装置，其特征在于，包括：运行状态分析单元，用于获取永磁同步电机的运行数据；基于所述运行数据计算所述永磁同步电机的当前工况；第一电感参数计算单元，用于当所述当前工况为稳态工况时，基于第一预设映射关系计算得到所述永磁同步电机直轴和交轴的电感参数；第二电感参数计算单元，用于当所述当前工况为瞬态工况时，基于第二预设映射关系计算得到所述永磁同步电机的定子直轴和交轴的电感参数；所述第一预设映射关系包括：定子直轴的电感参数与直轴电压、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量的之间的映射关系；以及，定子交轴的电感参数与交轴电压、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系；所述第二预设映射关系包括：定子直轴的电感参数与直轴电压、直轴的参考电流、永磁同步电机的控制周期、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量之间的映射关系；以及，定子交轴的电感参数与交轴电压、交轴的参考电流、永磁同步电机的控制周期、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系。8.一种电机电感参数计算系统，其特征在于，包括存储器和处理器；所述存储器，用于存储程序；所述处理器，用于执行所述程序，实现如权利要求1-6中任一项所述的电机电感参数计算方法的各个步骤。9.一种永磁同步电机，其特征在于，包括：权利要求8所述的电机电感参数计算系统。10.一种动力设备，其特征在于，应用有权利要求9所述的永磁同步电机。
说明书desc
技术领域本发明涉及设备监测技术领域，具体涉及一种电机电感参数计算方法、装置、系统、电机和动力设备。背景技术永磁同步电动机以永磁体提供励磁，电动机结构较为简单，可以广泛应用于工业自动化领域和汽车领域中。在工作时，永磁同步电机的电感值会随着电机运行工况的变化而变化，电感参数的变化又会影响控制器的性能表现。因此，如何精确的实时计算永磁同步电机的电感参数以对永磁同步电机实现精准的控制，成为本领域技术人员亟待解决的技术问题之一。发明内容有鉴于此，本发明实施例提供一种电机电感参数计算方法、装置、系统、电机和动力设备，以实现永磁同步电机的电感参数的精准计算。为实现上述目的，本发明实施例提供如下技术方案：一种电机电感参数计算方法，包括：获取永磁同步电机的运行数据；基于所述运行数据计算所述永磁同步电机的当前工况；当所述当前工况为稳态工况时，基于第一预设映射关系计算得到所述永磁同步电机直轴和交轴的电感参数；当所述当前工况为瞬态工况时，基于第二预设映射关系计算得到所述永磁同步电机的定子直轴和交轴的电感参数；所述第一预设映射关系包括：定子直轴的电感参数与直轴电压、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量的之间的映射关系；以及，定子交轴的电感参数与交轴电压、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系；所述第二预设映射关系包括：定子直轴的电感参数与直轴电压、直轴的参考电流、永磁同步电机的控制周期、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量之间的映射关系；以及，定子交轴的电感参数与交轴电压、交轴的参考电流、永磁同步电机的控制周期、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系。可选的，上述电机电感参数计算方法中，所述直轴系统内外部总扰动量表示直轴至少包含因为电感参数变化和系统交叉耦合所引起的系统内外部总扰动量；所述交轴系统内外部总扰动量表示交轴至少包含因为电感参数变化和系统交叉耦合所引起的系统内外部总扰动量。可选的，上述电机电感参数计算方法中，所述第一预设映射关系为：；其中，所述为定子直轴的电感参数；所述为定子直轴电压；所述为定子电阻；所述为定子直轴电流；所述为定子直轴的标称电感值；所述为定子直轴系统内外部总扰动量的估计值；所述直轴系统内外部总扰动量的估计值等效为所述直轴系统内外部总扰动量；所述为定子交轴的电感参数；所述为定子交轴电压；所述为定子交轴电流；所述为定子交轴标称电感值；所述为定子交轴系统内外部总扰动量的估计值；所述交轴系统内外部总扰动量的估计值等效为所述交轴系统内外部总扰动量；所述用于表征第时刻；所述第二预设映射关系为：；其中，所述为直轴的参考电流；所述为永磁同步电机的控制周期；所述为交轴的参考电流。可选的，上述电机电感参数计算方法中，基于第一预设映射关系计算得到所述永磁同步电机直轴和交轴的电感参数、基于第二预设映射关系计算得到所述永磁同步电机的定子直轴和交轴的电感参数之前还包括：获取永磁同步电机的定子直轴和交轴电压的数学计算模型，记为第一数学计算模型：；其中，所述为转子的直轴磁链；所述为转子磁链角速度；所述为定子交轴电感；为转子的交轴磁链；获取永磁同步电机的转子的直轴磁链和交轴磁链的数学计算模型，记为第二数学计算模型：；其中，为转子永磁体磁链；所述为定子直轴电感；将所述第二数学计算模型代入所述第一数学计算模型，得到第三数学计算模型：；在稳态工况下，基于所述第三数学计算模型，计算得到稳态工况对应的第一预设映射关系；在瞬态工况下，基于无差拍的思想，将所述直轴的参考电流作为直轴下一时刻的电流，将所述交轴的参考电流作为交轴下一时刻的电流，将直轴下一时刻的电流和交轴下一时刻的电流代入所述第三数学计算模型，计算得到瞬态工况对应的第二预设映射关系。可选的，上述电机电感参数计算方法中，所述和由扰动估计模块估计得到；所述由自适应电压求解模块基于公式和公式计算得到，其中，所述为直轴的标称电感；所述由自适应电压求解模块基于公式于和计算得到。可选的，上述电机电感参数计算方法中，在稳态工况下，基于所述第三数学计算模型，计算得到稳态工况对应的第一预设映射关系，包括：将代入所述第三数学计算模型，并对所述第三数学计算模型进行变换，得到第一预设映射关系；在瞬态工况下，在瞬态工况下，基于无差拍的思想，将所述直轴的参考电流作为直轴下一时刻的电流，将所述交轴的参考电流作为交轴下一时刻的电流，将直轴下一时刻的电流和交轴下一时刻的电流代入所述第三数学计算模型，计算得到瞬态工况对应的第二预设映射关系，包括：将和代入所述第三数学计算模型，并对所述第三数学计算模型进行变换，得到所述第二预设映射关系。一种电机电感参数计算装置，包括：运行状态分析单元，用于获取永磁同步电机的运行数据；基于所述运行数据计算所述永磁同步电机的当前工况；第一电感参数计算单元，用于当所述当前工况为稳态工况时，基于第一预设映射关系计算得到所述永磁同步电机直轴和交轴的电感参数；第二电感参数计算单元，用于当所述当前工况为瞬态工况时，基于第二预设映射关系计算得到所述永磁同步电机的定子直轴和交轴的电感参数；所述第一预设映射关系包括：定子直轴的电感参数与直轴电压、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量的之间的映射关系；以及，定子交轴的电感参数与交轴电压、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系；所述第二预设映射关系包括：定子直轴的电感参数与直轴电压、直轴的参考电流、永磁同步电机的控制周期、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量之间的映射关系；以及，定子交轴的电感参数与交轴电压、交轴的参考电流、永磁同步电机的控制周期、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系。一种电机电感参数计算系统，包括存储器和处理器；所述存储器，用于存储程序；所述处理器，用于执行所述程序，实现如上述任一项所述的电机电感参数计算方法的各个步骤。一种永磁同步电机，包括：上述电机电感参数计算系统。一种动力设备，应用有上述永磁同步电机。基于上述技术方案，本发明实施例提供的上述方案，相较于现有技术中定子直轴的电感参数、定子交轴的电感参数不变的永磁同步电机的控制方式而言，本申请通过预先构建定子直轴的电感参数、定子交轴的电感参数与所述永磁同步电机的运行数据之间的映射关系，在获取到所述永磁同步电机的运行数据后，基于所述运行数据确定所述永磁同步电机的当前工况。当前工况为稳态工况时，基于预先建立的第一映射关系计算得到所述稳态工况下永磁同步电机直轴和交轴的电感参数，当前工况为瞬态工况时，基于预先建立的第二映射关系计算得到所述瞬态工况下永磁同步电机直轴和交轴的电感参数，使得所述直轴和交轴的电感参数的大小与所述永磁同步电机的运行工况相匹配，可以精准的计算得到永磁同步电机运行过程中的实时直轴和交轴的电感参数，不再采用固定的直轴和交轴的电感参数对所述永磁同步电机进行控制，使得永磁同步电机的控制结果更加精准、可靠。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本申请实施例公开的电机电感参数计算方法的流程示意图；图2为本申请实施例公开的应用本申请公开的电感参数计算方法的永磁同步电机的控制系统的结构示意图；图3为本申请一实施例公开的永磁同步电机的轴系统控制框图；图4为本申请一实施例公开的永磁同步电机的轴系统控制框图；图5为本申请实施例公开的电机电感参数计算装置的结构示意图；图6为本申请实施例公开的电机电感参数计算系统的结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本申请提出的技术方案，首先基于时变电感的思想构建更加精确的定子电压方程，在此基础上进行系统干扰量的估计，实现了稳态和瞬态下永磁同步电机电感参数的准确计算。参见图1，本申请实施例公开的电机电感参数计算方法，可以包括：步骤S101：获取所述永磁同步电机的运行数据。在本方案中，实时获取所述永磁同步电机的运行数据，所述运行数据可以由相关电路或传感器采集得到，或者是直接由所述永磁同步电机的控制器调取得到。步骤S102：基于所述运行数据计算所述永磁同步电机的当前工况。在获取到所述永磁同步电机的运行数据之后，对这些数据进行进一步分析，确定所述永磁同步电机的当前工况。在本方案中，所述永磁同步电机的当前工况可以分为两种，一种是稳态工况，另一种是瞬态工况。稳态工况下永磁同步电机的定子直轴和交轴的电流的大小是基本稳定的，直轴和交轴的电流大小基本固定不变。在瞬态工况下，所述永磁同步电机的定子直轴电流和交轴电流的大小是实时变化的。步骤S103：当所述当前工况为稳态工况时，基于第一预设映射关系计算得到所述永磁同步电机直轴和交轴的电感参数；其中，所述第一预设映射关系为预先建立的一个映射关系，其具体包括：定子直轴的电感参数与定子直轴电压、定子电阻、定的直轴电流、定的直轴标称电感值以及定的直轴系统内外部总扰动量之间的映射关系，所述直轴系统内外部总扰动量表示直轴至少包含因为电感参数变化和系统交叉耦合所引起的系统内外部总扰动量；以及，定子交轴的电感参数与定子交轴电压、定子电阻、定子交轴电流、定子交轴标称电感值以及定子交轴系统内外部总扰动量之间的映射关系，所述交轴系统内外部总扰动量表示交轴至少包含因为电感参数变化和系统交叉耦合所引起的系统内外部总扰动量；在获取到所述定子直轴电压、定子电阻、定的直轴电流、定的直轴标称电感值以及定的直轴系统内外部总扰动量之后，就可以基于所述第一预设映射关系计算得到所述定子直轴的电感参数；在获取到所述定子交轴电压、定子电阻、定子交轴电流、定子交轴标称电感值以及定子交轴系统内外部总扰动量之后，基于所述第一预设映射关系就可以计算得到所述定子交轴的电感参数。在本方案中，所述第一预设映射关系中，用于计算所述定子直轴的电感参数、定子交轴的电感参数的各项数据，均可以由上述运行数据中直接调取得到，在获取到这些数据以后，将其代入所述第一预设映射关系，就可以得到与这些参数对应的定子直轴的电感参数、定子交轴的电感参数。步骤S104：当所述当前工况为瞬态工况时，基于第二预设映射关系计算得到所述永磁同步电机的定子直轴和交轴的电感参数。其中，所述第二预设映射关系为预先建立的一个映射关系，其具体包括：定子直轴的电感参数与定子直轴电压、定子直轴的参考电流、永磁同步电机的控制周期、定子电阻、定子直轴电流、定子直轴的标称电感值以及定子直轴系统内外部总扰动量之间的映射关系；以及，定子交轴的电感参数与定子交轴电压、定子交轴的参考电流、永磁同步电机的控制周期、定子电阻、定子交轴电流、定子交轴标称电感值以及定子交轴系统内外部总扰动量之间的映射关系。在获取到所述定子直轴电压、定子直轴的参考电流、永磁同步电机的控制周期、定子电阻、定子直轴电流、定子直轴的标称电感值以及定子直轴系统内外部总扰动量之后，将上述数据代入所述第二预设映射关系，就可以计算得到所述定子直轴的电感参数。在获取到定子交轴电压、定子交轴的参考电流、永磁同步电机的控制周期、定子电阻、定子交轴电流、定子交轴标称电感值以及定子交轴系统内外部总扰动量之后，将上述数据代入所述第二预设映射关系，就可以计算得到所述定子交轴的电感参数。在本方案中，所述直轴的参考电流为一个常数，其大小由所述永磁同步电机的速度环控制器给出，具体的所述速度环控制器可以根据电机的需求转速和电机的实际转速之间的差值进行PID计算，得到对应的直轴的参考电流和交轴的参考电流。同样的，所述第二预设映射关系中，用于计算所述定子直轴的电感参数、定子交轴的电感参数的各项数据，均可以由上述运行数据中直接调取得到，在获取到这些数据以后，将其代入所述第二预设映射关系，就可以得到与这些参数对应的定子直轴的电感参数、定子交轴的电感参数。在本实施例公开的技术方案中，参见图2，本申请上述实施例公开的电机电感参数计算方法可以应用于电感参数计算模块中，通过所述电感参数计算模块计算所述永磁同步电机直轴的电感参数和交轴的电感参数。所述定子直轴电压、定子交轴电压可以直接由永磁同步电机控制系统采集得到。在本方案中，所述永磁同步电机控制系统中可以具有一个自适应电压求解模块，所述和可以直接采用自适应电压求解模块计算得到，所述自适应电压求解模块在计算定子直轴电压、定子交轴电压时，无需获取永磁同步电机的电机参数，只基于闭环反馈的原理就可以计算得到所述定子直轴电压、定子交轴电压。具体的，所述自适应电压求解模块可以基于公式计算得到，将所述和和代入公式即可计算得到。同理，可以基于公式以及公式计算得到定子交轴电压。需要说明的是，在本方案中，如果未直接定义的情况下，所述直轴和交轴均指的是定子直轴和交轴。在本申请实施例公开的技术方案中，相较于现有技术中定子直轴的电感参数、定子交轴的电感参数不变的永磁同步电机的控制方式而言，本申请通过预先构建定子直轴的电感参数、定子交轴的电感参数与所述永磁同步电机的运行数据之间的映射关系，在获取到所述永磁同步电机的运行数据后，基于所述运行数据确定所述永磁同步电机的当前工况，当前工况为稳态工况时，基于预先建立的第一映射关系计算得到所述稳态工况下永磁同步电机直轴和交轴的实时电感参数，当前工况为瞬态工况时，基于预先建立的第二映射关系计算得到所述瞬态工况下永磁同步电机直轴和交轴的实时电感参数，使得所述直轴和交轴的电感参数为基于跟随永磁同步电机的运行状态实时变化时变参数，直轴和交轴的电感参数大小与所述永磁同步电机的运行工况相匹配，可以精准的计算得到永磁同步电机运行过程中的各个时刻下的直轴和交轴的电感参数。此时，应用本方案的永磁同步电机的控制系统可以基于实时的直轴和交轴的电感参数对所述永磁同步电机进行控制，使得永磁同步电机的控制结果更加精准、可靠。在本申实施例公开的技术方案中，为了能够更加精准的计算得到所述定子直轴的电感参数、定子交轴的电感参数，本申请还公开了一种具体的第一预设映射关系、第二预设映射关系，具体的：所述第一预设映射关系为： 其中，所述为定子直轴的电感参数；所述为定子直轴电压；所述为定子电阻；所述为定子直轴电流；所述为定子直轴的标称电感值；所述为定子直轴系统内外部总扰动量的估计值，所述直轴系统内外部总扰动量的估计值等效为所述直轴系统内外部总扰动量；所述为定子交轴的电感参数；所述为定子交轴电压；所述为定子交轴电流；所述为定子交轴标称电感值；所述为定子交轴系统内外部总扰动量的估计值；所述交轴系统内外部总扰动量的估计值等效为所述交轴系统内外部总扰动量；所述用于表征第时刻；所述第二预设映射关系为： 其中，其中，所述为定子直轴的参考电流，所述为永磁同步电机的控制周期，所述通常为一个固定值；所述为定子交轴的参考电流。在基于无差拍的思想可以将定子直轴的参考电流定子直轴的参考作为下一时刻的定子直轴电流，将定子交轴的参考电流作为下一时刻的定子交轴电流时，具体为，。上述所述第一映射关系和所述第二映射关系中，所述定子电阻、定子直轴的标称电感值、定子交轴标称电感值为已知量，所述定子直轴电流、定子交轴电流为所述永磁同步电机的控制系统计算得到的定子直轴电流和定子交轴电流的实际值。由前文介绍可知，所述第一预设映射关系和所述第二预设映射关系中的定子直轴电压、定子交轴电压可以直接由自适应电压求解模块计算得到。同样的，所述第一预设映射关系和所述第二预设映射关系中的定子交轴系统内外部总扰动量的估计值、定子直轴系统内外部总扰动量的估计值同样可以由所述直接由永磁同步电机控制系统采集得到。参见图2，在本方案中，所述永磁同步电机控制系统中可以配置一个扰动估计模块，通过所述扰动估计模块可以基于定子直轴的参考电流、定子交轴的参考电流、定子直轴电流和定子交轴电流，直接计算得到所述定子交轴系统内外部总扰动量的估计值、定子直轴系统内外部总扰动量的估计值，所述和可等效为和，所述电感参数计算模块在获取到所述扰动估计模块和所述自适应电压求解模块的输出结果以后，就可以基于本申请实施例公开的电机电感参数计算方法计算得到永磁同步电机直轴和交轴的实时电感参数。为了构建所述第一预设映射关系和所述第二预设映射关系，在本方案中，首先获取第一数学计算模型： 所述第一数学计算模型，在现有技术方案中，用于计算永磁同步电机定子直轴电压、交轴电压，公式中和分别是定子的轴和轴电压；和分别是定子轴和轴电流；和分别是定子电阻和转子磁链角速度；和分别为转子轴和磁链，所述和采用第二数学计算模型表示，所述第二数学计算模型为：所述第二数学计算模型中，和分别是定子轴和轴电感；为转子永磁体磁链。将所述第二数学计算模型代入所述第一数学计算模型，同时考虑定子轴和轴的电感和的值会随着永磁同步电机的运行状态的变化而变化，不同时刻的定子轴和轴的电感和是不同的，将该因素考虑至所述上述代入过程，得到数学计算模型： 其中，上述公式中和即为用于表征将定子轴电感和轴电感的值会随着永磁同步电机的运行状态的变化而变化，对所述和的计算方式所带来的影响，如果不考虑电感和的值会随着永磁同步电机的运行状态的变化而变化，那么上述公式5中可以不必考虑和部分。在本申请中，符号上方加，相当于对其进行求导，例如相当于对求导，相当于对求导。进一步的，对上述公式5中的部分分别加减，公式5中的部分分别加减，部分加减后相当于补入一个0，部分加减后相当于补入一个0，补入0并不对上述公式的计算结果产生影响，此时可以得到第三数学计算模型：在所述公式6中，作为，将作为。所述公式6中，和分别是定子轴和轴的标称电感值；和分别是定子轴和轴的实际电感值，实际电感值即为本申请中所需计算的目标结果。需要特别说明的是，随着运行工况的变化，永磁同步电机实际电感值都会偏离其标称电感值。表示直轴系统内外部总扰动量，也就是直轴至少包含因为电感参数变化和系统交叉耦合所引起的系统内外部总扰动量；表示交轴系统内外部总扰动量，也就是交轴至少包含因为电感参数变化和系统交叉耦合所引起的系统内外部总扰动量。上述公式6，将直轴和交轴的时变电感的因素考虑进去后的和的计算公式，相较于现有技术中电感固定的计算方案而言，公式6中将直轴和交轴的时变电感的因素考虑进和的计算过程。可以知晓的是，所述和可以直接测量得到，所述和可以由扰动估计模块直接计算得到，在本方案中，所述和可以等效为所述和，因此，所述、、和均可作为已知量来使用，因此，在公式6的基础上，如果将实时测量得到的、、和作为已知量对公式6进行求解，就可以计算得到所述和，由于实时测量得到的、、和为一个时变数据，因此基于时变的、、和对公式6进行求解得到的和同样是一个时变数据，由此，对公式6进行求解就可以得到永磁同步电机各个时刻对应的真实的和。参见公式6，公式6中和之间为耦合关系，在计算其中一个量时会用到另一个量，从而增加了计算过程的复杂性，由此，本申请为了简化和的计算过程，可以对公式6中的和进行解耦，即对公式6进行解耦得到公式7，所述公式7具体为：公式7公开的矩阵同样也可以称之为第三数学计算模型，其相较于上一个形式的第三数学计算模型而言，仅在于表现形式上有所区别，计算结果并无别。本申请上述第三数学计算模型中的和均可以由扰动估计模块估计得到的和等效，以轴为例，将设计为系统的扩张状态变量，可以得到公式： 式中为系统输出量，其中，所述是的导数值，所述公式8中，表示永磁同步电机轴电感值。轴扰动估计模块的设计步骤如下：在该公式中式中，其为系统扩张状态量的估计值，在这里，为扰动估计模块的设计增益，为扰动估计模块输出量的估计值，用于表示的估计值。在公式9中属于一个未知量，在本实施例中，可以将变换为的相关量，采用表示，以使得公式9能够进行求解，具体的，在本实施例中，可以将定义为：将公式10代入公式7，同时忽略扰动估计模块的估计误差，可得公式11；再对公式11做拉普拉斯变换，得到轴永磁同步电机的传递函数： 令，，为轴系统控制带宽，设计如图3所示永磁同步电机轴控制系统，系统的传递函数为： 将永磁同步电机轴控制系统设计为图3所示的典型的I型系统，此时可以得到的具体数值，再基于公式10就可以采用表示公式9中的，使得公式9中仅包含两个公式和两个未知量，对公式9进行求解就可以得到和的值。具体的，上述 、和的求解过程为：将、、代入公式9，可以得到公式：；对该公式进行变形，可以得到公式：；进而可得：；将公式10和公式联立，即可求出、和。进一步的，再将公式8减去公式9可得：其中，；表示实际值与估计值中间的差值，扰动估计模块设计的目的就是让实际值和估计值二者的差值尽可能接近于0。由此，公式14表示的是实际值与估计值之间的误差的动态方程，方程中没有涉及到，也就是扰动估计模块的估计效果与矩阵没有关系，即方程中并没有涉及到，由此可见，的变换并不会引起估计效果的变化，本申请中通过扰动估计模块测量得到的估计值是不受的影响的、是可靠的。令，用于表示扰动估计模块增益，可使的特征多项式的根为负，在S域的左半平面，从而保证扰动估计模块可以对轴的稳定可靠的估计，即扰动估计模块输出的是可靠的。采用相同的思路，设计轴的估计步骤如下：将设计为系统的扩张状态变量，式中轴扩展扰动估计模块的设计步骤如下：式中，为扰动估计模块的设计增益，为扰动估计模块的输出。关于公式16中的的分析过程，其分析过程与公式9中的的分析过程相同，具体过程包括： 将公式17带入公式7，同时忽略扰动估计模块的估计误差，可以得到：对公式18做拉普拉斯变换得到轴永磁同步电机的传递函数： 令，，为系统控制带宽，设计如图4所示永磁同步电机轴控制系统，系统的传递函数为：将永磁同步电机轴控制系统设计为图4所示的典型的I型系统，此时可以得到的具体数值，再基于公式17就可以获得关于的表达式，使得公式17中仅包含两个公式和两个未知量，对公式9进行求解就可以得到和的值。其中，、和的求解过程与、和的求解过程类似，在此并不进行累述。进一步的，公式15减去公式16，可得：其中，。同样可以看出，扰动估计模块的估计效果与矩阵没有关系。令，可使的特征多项式的根为负，在S域的左半平面，从而保证了扰动估计模块可以实现对轴的准确估计，即扰动估计模块输出的是可靠的。由上述推论可见，本申请上述实施例公开的技术方案中，、的值与直轴和交轴的实时电感无关联，扰动估计模块输出的、的估计值和可以作为用于计算和的已知量直接使用，由此可见，本申请上述实施例公开的第一预设映射关系和第二预设映射关系是可靠的。当确定所述第三数学计算模型以后，在稳态工况下，直轴和交轴的电流处于稳定状态，此时可以认为，，即，，将该特性代入所述第三数学计算模型，基于所述第三数学计算模型，就可以计算得到稳态工况对应的第一预设映射关系，因此，基于所述第三数学计算模型，计算得到第一预设映射关系的具体过程为：将，代入所述第三数学计算模型，并对所述第三数学计算模型进行变换，得到第一预设映射关系；在瞬态工况下，，，此时，基于无差拍的思想，将下一时刻的作为参考电流，即令，，将所述，代入所述第三数学计算模型，并进行简单变形后，就可以计算得到瞬态工况对应的第二预设映射关系。进一步的，对应于上述方法，本实施例还公开了一种电机电感参数计算装置，装置中的各个单元的工作内容请参见上述方法实施例的内容。下面对本发明实施例提供的电机电感参数计算装置进行描述，下文描述的电机电感参数计算装置与上文描述的电机电感参数计算方法可相互对应参照。具体的，参见图5，本申请实施例公开的电机电感参数计算装置可以包括：运行状态分析单元10，其与上述方法中步骤S101-S102相对应，用于获取所述永磁同步电机的运行数据；基于所述运行数据计算所述永磁同步电机的当前工况；第一电感参数计算单元20，其与上述方法中步骤S103相对应，用于当所述当前工况为稳态工况时，基于第一预设映射关系计算得到所述永磁同步电机直轴和交轴的电感参数；第二电感参数计算单元30，其与上述方法中步骤S104相对应，用于当所述当前工况为瞬态工况时，基于第二预设映射关系计算得到所述永磁同步电机的定子直轴和交轴的电感参数；所述第一预设映射关系包括：定子直轴的电感参数与直轴电压、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量的之间的映射关系；以及，定子交轴的电感参数与交轴电压、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系；所述第二预设映射关系包括：定子直轴的电感参数与直轴电压、直轴的参考电流、永磁同步电机的控制周期、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量之间的映射关系；以及，定子交轴的电感参数与交轴电压、交轴的参考电流、永磁同步电机的控制周期、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系。对应于上述方法，本申请还公开了一种电机电感参数计算系统，图6为本发明实施例提供的电机电感参数计算系统的硬件结构图，参见图6所示，可以包括：至少一个处理器100，至少一个通信接口200，至少一个存储器300和至少一个通信总线400；在本发明实施例中，处理器100、通信接口200、存储器300、通信总线400的数量为至少一个，且处理器100、通信接口200、存储器300通过通信总线400完成相互间的通信；显然，图6所示的处理器100、通信接口200、存储器300和通信总线400所示的通信连接示意仅是可选的；可选的，通信接口200可以为通信模块的接口，如GSM模块的接口；处理器100可能是一个中央处理器CPU，或者是特定集成电路ASIC，或者是被配置成实施本发明实施例的一个或多个集成电路。存储器300可能包含高速RAM存储器，也可能还包括非易失性存储器，例如至少一个磁盘存储器。其中，处理器100具体用于实现上述任意一项实施例公开的电机电感参数计算的各个步骤，例如，所述处理器100具体用于执行以下步骤：获取所述永磁同步电机的运行数据；基于所述运行数据计算所述永磁同步电机的当前工况；当所述当前工况为稳态工况时，基于第一预设映射关系计算得到所述永磁同步电机直轴和交轴的电感参数；当所述当前工况为瞬态工况时，基于第二预设映射关系计算得到所述永磁同步电机的定子直轴和交轴的电感参数；所述第一预设映射关系包括：定子直轴的电感参数与直轴电压、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量之间的映射关系；以及，定子交轴的电感参数与交轴电压、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系；所述第二预设映射关系包括：定子直轴的电感参数与直轴电压、直轴的参考电流、永磁同步电机的控制周期、定子电阻、直轴电流、直轴标称电感值以及直轴系统内外部总扰动量之间的映射关系；以及，定子交轴的电感参数与交轴电压、交轴的参考电流、永磁同步电机的控制周期、定子电阻、交轴电流、交轴标称电感值以及交轴系统内外部总扰动量之间的映射关系。对应于上述设备，本申请还公开了一种永磁同步电机，该永磁同步电机可以包括上述任意一项实施例公开的所述电机电感参数计算系统，所述电机电感参数计算系统可以集成于所述用同步电机的控制器中。进一步的，本申请还公开了一种动力设备，该动力设备应用有上述实施例公开的永磁同步电机，该动力设备可以为空调、洗衣机、冰箱、吸尘器、新能源汽车、数控机床等。为了描述的方便，描述以上系统时以功能分为各种模块分别描述。当然，在实施本发明时可以把各模块的功能在同一个或多个软件和/或硬件中实现。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于系统或系统实施例而言，由于其基本相似于方法实施例，所以描述得比较简单，相关之处参见方法实施例的部分说明即可。以上所描述的系统及系统实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性劳动的情况下，即可以理解并实施。专业人员还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。结合本文中所公开的实施例描述的方法或算法的步骤可以直接用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。还需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本发明。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本发明的精神或范围的情况下，在其它实施例中实现。因此，本发明将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
