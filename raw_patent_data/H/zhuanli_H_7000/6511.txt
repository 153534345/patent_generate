标题title
一种基于混合通信模式的水利检测物联网
摘要abst
本发明涉及无线通信技术及物联网领域，尤其是一种基于混合通信模式的水利检测物联网。本发明所提供的水利检测物联网，包括多个传感模块、多个通信模块和控制模块；在第一通信模式下，任两个通信模块之间信号连接形成全局拓扑网，控制模块控制通信模块基于全局拓扑网生成全局路由网络；在第二通信模式下，动态根节点对应的通信模块，按照全局路由网络中的信息传递路径，与任一子节点对应的通信模块进行数据传输。本发明所提供的水利检测物联网，不仅满足了范围广泛和复杂性高的水利检测需求，还通过智能的网络选择机制和连接管理，在灵活适应新传感器的加入的同时，实现了数据传输速度和能耗的平衡，这使水利检测物联网更具灵活性。
权利要求书clms
1.一种基于混合通信模式的水利检测物联网，其特征在于，包括：多个传感模块、多个通信模块和控制模块，其中，任一个所述通信模块与一个或者多个所述传感模块信号连接；在第一通信模式下，所述控制模块与所有通信模块信号连接，任两个通信模块之间信号连接形成全局拓扑网，所述控制模块控制所述通信模块基于所述全局拓扑网生成全局路由网络，所述全局路由网络包括一个动态根节点和多级子节点；在第二通信模式下，所述动态根节点对应的通信模块，按照所述全局路由网络中的信息传递路径，与任一子节点对应的通信模块进行数据传输。2.根据权利要求1所述的基于混合通信模式的水利检测物联网，其特征在于，任一所述通信模块包括双模式切换的通信模块，其中，双模式包括第一通信模式和第二通信模式。3.根据权利要求2所述的基于混合通信模式的水利检测物联网，其特征在于，所述第一通信模式包括：wifi通信模式、蜂窝网络通信模式、LoRaWAN通信模式或者卫星通信模式；所述第二通信模式包括：蓝牙通信模式或者Zigbee通信模式。4.根据权利要求1所述的基于混合通信模式的水利检测物联网，其特征在于，所述全局拓扑网，包括如下生成步骤：在所述第一通信模式下，确定任一通信模块所处的空间位置，并根据所述空间位置与通信设备的连接协议构建任一通信模块的拓扑网；汇总所有通信模块的拓扑网，生成基于所述通信模块的全局拓扑网，在所述全局拓扑网中，任一通信模块与一个或者多个通信模块信号连接。5.根据权利要求2所述的基于混合通信模式的水利检测物联网，其特征在于，所述全局路由网络，包括如下生成步骤：在所述第一通信模式下，选取目标通信模块作为动态根节点，并根据所述动态根节点的拓扑信息配置一个或者多个子节点，配置信息包括：子节点对应的父节点信息、父节点与子节点间的传输损耗，父节点与子节点间的传输路径长度；以任一个子节点作为父节点，并根据父节点的拓扑信息配置一个或者多个下一级子节点，直至所有节点确定好与所述动态根节点唯一的通信传输路径，在配置过程中：当父节点根据拓扑信息配置的下一级子节点中包括已经被配置的节点，则根据已经被配置的节点在新传输路径与原传输路径的传输损耗和传输路径长度，更新所述已经被配置的节点的配置；汇总所述动态根节点和所述多级子节点，生成全局路由网络。6.根据权利要求5所述的基于混合通信模式的水利检测物联网，其特征在于，所述根据已经被配置的节点在新传输路径与原传输路径的传输损耗和传输路径长度，更新所述已经被配置的节点的配置，包括如下步骤：根据已经被配置的节点在新传输路径与原传输路径的传输损耗和传输路径长度，分别计算新传输路径与原传输路径的传输损耗差，以及新传输路径与原传输路径中相邻节点连接路径中最大传输路径长度差；设计配置更新规则，并根据计算结果和所述配置更新规则，更新所述已经被配置的节点的配置。7.根据权利要求6所述的基于混合通信模式的水利检测物联网，其特征在于：所述传输损耗差，满足如下模型：，其中，/＞表示新传输路径与原传输路径的传输损耗差，/＞表示新传输路径上已经被配置的节点经过一级或者多级子节点传输至动态根节点的传输损耗，/＞表示原传输路径上已经被配置的节点经过一级或者多级子节点传输至动态根节点的传输损耗；所述最大传输路径长度差，满足如下模型：，其中，/＞表示新传输路径与原传输路径的最大传输路径长度差，/＞表示新传输路径上相邻节点连接路径中最大传输路径长度，/＞表示原传输路径上相邻节点连接路径中最大传输路径长度。8.根据权利要求6所述的基于混合通信模式的水利检测物联网，其特征在于，所述根据计算结果和所述配置更新规则，更新所述已经被配置的节点的配置，包括如下配置更新规则：当新传输路径的传输损耗小于或者等于原传输路径的传输损耗，且新传输路径的相邻节点连接路径中最大传输路径长度小于原传输路径的相邻节点连接路径中最大传输路径长度时，将已经被配置的节点更新为新传输路径的节点配置；否则，保留已经被配置的节点的原配置。9.根据权利要求5所述的基于混合通信模式的水利检测物联网，其特征在于，所述全局路由网络，还包括如下生成步骤：重新选取目标通信模块，更新所述动态根节点；并通过更新后的动态根节点，更新所述全局路由网络。10.根据权利要求5所述的基于混合通信模式的水利检测物联网，其特征在于，所述全局路由网络，包括如下生成步骤：提供中间节点，并利用所述中间节点基于所述动态根节点，扩展所述全局路由网络。
说明书desc
技术领域本发明涉及无线通信技术及物联网领域，尤其是一种基于混合通信模式的水利检测物联网。背景技术水利检测是指利用各种传感器、监测设备以及通信设备实现对水资源、水环境以及水利工程设施进行实时监测和数据采集的过程。当前的无线传感网络能够覆盖一定范围大小的区域，使得分布在该区域内的各个传感器节点能够采集对应的数据，并通过无线传感网络实现数据传输。当涉及到范围较广，场景复杂的水利检测时，当前的无线传感网络适用性低，无法灵活适应新传感器的加入或巡检需求，并且不能很好地平衡数据传输的速度和能耗。发明内容基于现有技术的不足和实际应用的需求，本发明提供了一种基于混合通信模式的水利检测物联网，旨在为水利检测工程提供适用性强，不仅能够灵活适应新传感器的加入或巡检需求，还能够平衡数据传输的速度和能耗的水利检测物联网。本发明所提供的基于混合通信模式的水利检测物联网，包括多个传感模块、多个通信模块和控制模块，其中，任一个所述通信模块与一个或者多个所述传感模块信号连接；在第一通信模式下，所述控制模块与所有通信模块信号连接，任两个通信模块之间信号连接形成全局拓扑网，所述控制模块控制所述通信模块基于所述全局拓扑网生成全局路由网络，所述全局路由网络包括一个动态根节点和多级子节点；在第二通信模式下，所述动态根节点对应的通信模块，按照所述全局路由网络中的信息传递路径，与任一子节点对应的通信模块进行数据传输。本发明所提供的水利检测物联网，不仅满足了范围广泛和复杂性高的水利检测需求，还通过智能的网络选择机制和连接管理，在灵活适应新传感器的加入的同时，实现了数据传输速度和能耗的平衡，这使水利检测物联网更具灵活性。可选地，本发明所提供的基于混合通信模式的水利检测物联网中任一所述通信模块包括：双模式切换的通信模块，其中，双模式包括第一通信模式和第二通信模式。本可选项引入了双模式切换的通信模块，这意味着水利检测物联网可以在不同的通信需求下实现灵活切换，无论是需要高速传输大量数据还是低功耗、背景采集，都能够自主切换通信模式，这提升了水利检测物联网的通信效率和能源利用效率。可选地，所述第一通信模式包括：wifi通信模式、蜂窝网络通信模式、LoRaWAN通信模式或者卫星通信模式；所述第二通信模式包括：蓝牙通信模式或者Zigbee通信模式。可选地，所述全局拓扑网，包括如下生成步骤：在所述第一通信模式下，确定任一通信模块所处的空间位置，并根据所述空间位置与通信设备的连接协议构建任一通信模块的拓扑网；汇总所有通信模块的拓扑网，生成基于所述通信模块的全局拓扑网，在所述全局拓扑网中，任一通信模块与一个或者多个通信模块信号连接。本可选项引入了一个灵活的全局拓扑网生成方法，允许根据每个通信模块的具体位置和连接协议来动态构建全局拓扑网。这种方法有效地解决了水利检测物联网中不同传感器和通信设备的位置差异，从而实现了自适应的全局路由网络，提高了数据传输的效率和可靠性。可选地，所述全局路由网络，包括如下生成步骤：在所述第一通信模式下，选取目标通信模块作为动态根节点，并根据所述动态根节点的拓扑信息配置一个或者多个子节点，配置信息包括：子节点对应的父节点信息、父节点与子节点间的传输损耗，父节点与子节点间的传输路径长度；以任一个子节点作为父节点，并根据父节点的拓扑信息配置一个或者多个下一级子节点，直至所有节点确定好与所述动态根节点唯一的通信传输路径，在配置过程中：当父节点根据拓扑信息配置的下一级子节点中包括已经被配置的节点，则根据已经被配置的节点在新传输路径与原传输路径的传输损耗和传输路径长度，更新所述已经被配置的节点的配置；汇总所述动态根节点和所述多级子节点，生成全局路由网络。本可选项引入了一种智能的全局路由网络生成方法，通过根据传输损耗和传输路径长度等参数动态更新已配置节点的连接方式，这使得网络能够在不同条件下自动调整路由，以最大程度地提高性能并确保稳定的数据传输。这一方法增加了系统的灵活性和可适应性，使其在复杂的水利检测环境中表现出色。可选地，所述根据已经被配置的节点在新传输路径与原传输路径的传输损耗和传输路径长度，更新所述已经被配置的节点的配置，包括如下步骤：根据已经被配置的节点在新传输路径与原传输路径的传输损耗和传输路径长度，分别计算新传输路径与原传输路径的传输损耗差，以及新传输路径与原传输路径中相邻节点连接路径中最大传输路径长度差；设计配置更新规则，并根据计算结果和所述配置更新规则，更新所述已经被配置的节点的配置。本可选项引入了一种有效的配置更新规则，根据新旧传输路径的传输损耗和最大传输路径长度差异，智能地决定是否更新节点的配置。这一规则确保了网络在每个阶段都保持最佳性能，同时减少了手动配置的需求，提高了水利检测物联网的效率和可维护性。可选地，所述传输损耗差，满足如下模型：，其中，/＞表示新传输路径与原传输路径的传输损耗差，/＞表示新传输路径上已经被配置的节点经过一级或者多级子节点传输至动态根节点的传输损耗，/＞表示原传输路径上已经被配置的节点经过一级或者多级子节点传输至动态根节点的传输损耗；所述最大传输路径长度差，满足如下模型：/＞，其中，/＞表示新传输路径与原传输路径的最大传输路径长度差，/＞表示新传输路径上相邻节点连接路径中最大传输路径长度，/＞表示原传输路径上相邻节点连接路径中最大传输路径长度。可选地，所述根据计算结果和所述配置更新规则，更新所述已经被配置的节点的配置，包括如下配置更新规则：当新传输路径的传输损耗小于或者等于原传输路径的传输损耗，且新传输路径的相邻节点连接路径中最大传输路径长度小于原传输路径的相邻节点连接路径中最大传输路径长度时，将已经被配置的节点更新为新传输路径的节点配置；否则，保留已经被配置的节点的原配置。可选地，所述全局路由网络，还包括如下生成步骤：重新选取目标通信模块，更新所述动态根节点；并通过更新后的动态根节点，更新所述全局路由网络。本可选项引入了网络的动态调整机制，允许重新选择目标通信模块和更新动态根节点。这样的机制使得水利检测物联网能够灵活适应不同的工作环境和需求，实现了自适应性优化。用户可以根据实际情况调整网络结构，提高了系统的灵活性和性能。可选地，所述全局路由网络，包括如下生成步骤：提供中间节点，并利用所述中间节点基于所述动态根节点，扩展所述全局路由网络。本可选项引入了中间节点，并通过中间节点基于动态根节点扩展全局路由网络。中间节点的使用可以帮助建立稳定的通信连接，进一步提升了物联网的性能和可用性。附图说明图1为本发明所提供的基于混合通信模式的水利检测物联网示意图；图2为本发明实施例所提供的全局拓扑网生成流程图；图3为本发明实施例所提供的全局拓扑网络示意图。图4为本发明实施例所提供的全局路由网络生成流程图；图5为本发明实施例所提供的全局路由网络示意图。具体实施方式下面将详细描述本发明的具体实施例，应当注意，这里描述的实施例只用于举例说明，并不用于限制本发明。在以下描述中，为了提供对本发明的透彻理解，阐述了大量特定细节。然而，对于本领域普通技术人员显而易见的是：不必采用这些特定细节来实行本发明。在其他实例中，为了避免混淆本发明，未具体描述公知的电路，软件或方法。在整个说明书中，对“一个实施例”、“实施例”、“一个示例”或“示例”的提及意味着：结合该实施例或示例描述的特定特征、结构或特性被包含在本发明至少一个实施例中。因此，在整个说明书的各个地方出现的短语“在一个实施例中”、“在实施例中”、“一个示例”或“示例”不一定都指同一实施例或示例。此外，可以以任何适当的组合和、或子组合将特定的特征、结构或特性组合在一个或多个实施例或示例中。此外，本领域普通技术人员应当理解，在此提供的示图都是为了说明的目的，并且示图不一定是按比例绘制的。在一个可选的实施例中，请参见图1，图1为本发明所提供的基于混合通信模式的水利检测物联网示意图。如图1所示，所述基于混合通信模式的水利检测物联网示意图包括：多个传感模块、多个通信模块和控制模块。容易理解的是，多个所述传感模块根据水利检测的需求，被布设到目标水域的不同位置，进而采集不同位置处的水利数据。同样的，多个所述通信模块根据所述传感模块的布设位置，被布设到目标水域的不同位置，通过多个通信模块控制目标水域中所有传感模块的控制，并实现水利数据的传输。进一步地，所述控制模块用于通过所述通信模块实现对目标水域中所有传感模块的控制，进而控制传感模块的数据采集，并且控制水利数据的传输路径。本实施例所提供的基于混合通信模式的水利检测物联网，在第一通信模式下，所述控制模块与所有通信模块信号连接，任两个通信模块之间信号连接形成全局拓扑网，所述控制模块控制所述通信模块基于所述全局拓扑网生成全局路由网络，所述全局路由网络包括一个动态根节点和多级子节点。应当理解，在第一通信模式下，所有通信模块之间都可以直接通信，无需经过中继节点。本实施例所提供的基于混合通信模式的水利检测物联网，在第二通信模式下，所述动态根节点对应的通信模块，按照所述全局路由网络中的信息传递路径，与任一子节点对应的通信模块进行数据传输。应当理解，在第二通信模式下，根据路由网络的配置和需求设置的动态根节点，根据全局路由网络中的信息传递路径，与任一子节点对应的通信模块进行数据传输。本发明所提供的水利检测物联网通过混合通信模式，不仅满足了范围广泛和复杂性高的水利检测需求：在第一通信模式下，实现全域内的通信模块连接，并在此连接基础上构建了根节点可动态调整的全局路由网络；切换为第二通信模式后，利用上述全局路由网络实现全域的水利检测数据传输，即通过智能的网络选择机制和连接管理，在灵活适应新传感器的加入的同时，还实现了数据传输速度和能耗的平衡，这使水利检测物联网更具灵活性。进一步地，针对水利检测物联网中的任一通信模块，为更好适应第一通信模式和第二通信模式的切换，在其它的一个或者一些实施例中，其包括双模式切换的通信模块，其中，双模式包括第一通信模式和第二通信模式。其中，所述第一通信模式包括wifi通信模式、蜂窝网络通信模式、LoRaWAN通信模式、卫星通信模式中任一种覆盖范围广的通信模式；所述第二通信模式包括蓝牙通信模式、Zigbee通信模式中任一种功耗低的通信模式。具体地，所述通信模块可以是高通QCA9377，博通BCM4343W，乐鑫ESP32中一种或者多种兼具wifi模式和蓝牙模式的混合通信模块。这些混合通信模块可通过软件定义其工作模式为蓝牙模式或者wifi模式，并且支持动态切换；其典型工作状态为：蓝牙模式时，功耗小于1mA，传输距离在10米左右；数据速率为几百KB；wifi模式时，功耗为几十mA，传输距离大于100米，数据速率大于10MB。在一个可选的实施例中，请参见图2和图3，图2为本发明实施例所提供的全局拓扑网生成流程图，图3为本发明实施例所提供的全局拓扑网络示意图。如图2所示，在第一通信模式下，所述全局拓扑网，包括如下生成步骤：S01、在所述第一通信模式下，确定任一通信模块所处的空间位置，并根据所述空间位置与通信模块的连接协议，构建任一通信模块的拓扑网。由于不同通信设备的数据传输能力不同，因此，应用在任一具体领域的多个通信模块，可能在全局范围内实现任两个通信模块之间的通信连接，也可能只在局部范围内实现任两个通信模块之间的通信连接。进一步地，步骤S01所述的确定任一通信模块所处的空间位置，具体包括如下步骤：在同一个空间坐标系下，确定各个通信模块的空间位置，并根据各个通信模块的空间位置，计算任两个节点间的相对空间距离。步骤S01所述的根据所述空间位置与通信模块的连接协议，构建任一通信模块的拓扑网，具体包括如下步骤：根据通信模块的通信范围，并结合通信模块间相对空间距离与所述通信设备连接协议，获得任一通信模块的拓扑网。如图3所示，在本实施例中，包括节点1、节点2、节点3、节点4、节点5以及节点6。其中，节点2、节点3以及节点5在节点1的通信范围内；节点1、节点4以及节点5在节点2的通信范围内；节点1、节点2以及节点5在节点3的通信范围内；节点2以及节点6在节点4的通信范围内；节点1、节点3以及节点6在节点5的通信范围内；节点4以及节点5在节点6的通信范围内，且任一节点没有限制可接入信号的ID，只要在其通信范围内均可实现通信连接。进一步，基于上述节点间的相对空间距离与所述通信模块连接协议，构建的拓扑网络包括：拓扑网1、拓扑网2、拓扑网3、拓扑网4、拓扑网5以及拓扑网6。其中，拓扑网1表示节点1分别与节点2，节点3，节点5，通信连接形成节点1的拓扑网。S02、汇总所有通信模块的拓扑网，生成基于所述通信模块的全局拓扑网，在所述全局拓扑网中，任一通信模块与一个或者多个通信模块信号连接。如图3所示，汇总所有通信模块的拓扑网，包括拓扑网1至拓扑网6，构建的全局拓扑网络中：节点1与节点2之间的通信连接；节点1与节点3之间的通信连接；节点1与节点5之间的通信连接；节点2与节点3之间的通信连接；节点2与节点4之间的通信连接；节点3与节点5之间的通信连接；节点4与节点6之间的通信连接；节点5与节点6之间的通信连接。进一步地，基于上述全局拓扑网，在其它的一个或者一些实施例中，请参见图4和图5，图4为本发明实施例所提供的全局路由网络生成流程图，图5为本发明实施例所提供的全局路由网络示意图。如图4所示，在第一通信模式下，所述全局路由网络，包括如下生成步骤：S001、选取目标通信模块作为动态根节点，并根据所述动态根节点的拓扑信息配置一个或者多个子节点。本发明所述的动态根节点是在全局路由网络中等级最高的通信节点，其用于汇总和传递信息的主要节点。基于所述动态根节点设置的多级子节点，具体包括一级子节点、二级子节点、……、N级子节点。在本实施例中，子节点的级数越高，子节点在所述全局路由网络中的等级越低，任一级子节点只与其父节点或者下一级子节点进行数据信息传输。可以理解的是，所述动态根节点可以根据实际需求和网络拓扑进行选择。通常情况下，选取具有较好通信性能和稳定性的通信模块作为对应的动态根节点，以确保网络的稳定运行。通过选取不同的动态根节点，可对应设置不同的多级子节点，即组成不同的全局路由网络。在本实施例中，所述拓扑信息包括节点间的通信拓扑信息以及空间拓扑信息。具体地，所述通信拓扑信息是指节点与节点间的连接关系以及节点与节点间的传输损耗；所述空间拓扑信息表示节点与节点间的传输路径长度；其中，所述节点与节点间的连接关系包括连接和未连接。步骤S001中所述的根据所述动态根节点的拓扑信息配置一个或者多个子节点，具体是指利用通信拓扑信息中的动态根节点与其它节点间的连接关系，设置下一级子节点，即与动态根节点通信连接的节点均被设置为下一级子节点。具体地，在配置下一级子节点的过程中，配置信息包括：该子节点对应的父节点信息、父节点与该子节点间的传输损耗，父节点与该子节点间的传输路径长度。可以理解的是，对于一级子节点，其父节点为动态根节点。如图5所示，基于上述实施例所提供的全局拓扑网，设置节点4为动态根节点，则通过上述拓扑信息：“节点4→节点2”以及“节点4→节点6”，因此，将节点2和节点6作为动态根节点的下一级子节点，即一级子节点。针对一级子节点2，其被配置的信息包括：节点4，，/＞。针对一级子节点6，其被配置的信息包括：节点4，/＞，/＞。S002、以任一个子节点作为父节点，并根据父节点的拓扑信息配置一个或者多个下一级子节点，直至所有节点确定好与所述动态根节点唯一的通信传输路径。步骤S002在进行多级子节点的配置过程中：当父节点根据拓扑信息配置的下一级子节点中包括已经被配置的节点，则根据已经被配置的节点在新传输路径与原传输路径的传输损耗和传输路径长度，更新所述已经被配置的节点的配置。在一个可选的实施例中，所述的根据已经被配置的节点在新传输路径与原传输路径的传输损耗和传输路径长度，更新所述已经被配置的节点的配置，包括如下步骤：S0021、根据已经被配置的节点在新传输路径与原传输路径的传输损耗和传输路径长度，分别计算新传输路径与原传输路径的传输损耗差，以及新传输路径与原传输路径中相邻节点连接路径中最大传输路径长度差。在本实施例中，所述传输损耗差，满足如下模型：，其中，表示新传输路径与原传输路径的传输损耗差，/＞表示新传输路径上已经被配置的节点经过一级或者多级子节点传输至动态根节点的传输损耗，/＞表示原传输路径上已经被配置的节点经过一级或者多级子节点传输至动态根节点的传输损耗；在本实施例中，所述最大传输路径长度差，满足如下模型：，其中，/＞表示新传输路径与原传输路径的最大传输路径长度差，/＞表示新传输路径上相邻节点连接路径中最大传输路径长度，/＞表示原传输路径上相邻节点连接路径中最大传输路径长度。S0022、设计配置更新规则，并根据计算结果和所述配置更新规则，更新所述已经被配置的节点的配置。可以理解的是，不同的节点配置更新规则，能从不同角度优化通信路径，进而能获得具有不同特性的全局路由网络。例如，基于传输路径长度最短或者基于传输损耗最小，设置对应的节点配置更新规则。在本实施例中，所述根据计算结果和所述配置更新规则，更新所述已经被配置的节点的配置，包括如下配置更新规则：当新传输路径的传输损耗小于或者等于原传输路径的传输损耗，且新传输路径的相邻节点连接路径中最大传输路径长度小于原传输路径的相邻节点连接路径中最大传输路径长度时，将已经被配置的节点更新为新传输路径的节点配置；否则，保留已经被配置的节点的原配置。如图5所示，基于上述实施例，步骤S002基于动态根节点4进一步配置一级子节点的下一级子节点。针对一级子节点2，根据其拓扑信息：“节点4→节点2→节点1”以及“节点4→节点2→节点3”，且节点1和节点3并未被配置，因此，分别将节点1和节点3对应配置为节点2的下一级子节点，即二级子节点。具体地，二级子节点1的配置信息包括：节点2，，/＞，拓扑信息为：节点4→节点2→节点1。二级子节点3的配置信息包括：节点2，/＞，/＞，拓扑信息为：节点4→节点2→节点3。针对一级子节点6，根据其拓扑信息：“节点4→节点6→节点5”，且节点5未被配置，因此，分别将节点5对应配置为节点2的下一级子节点，即二级子节点。具体地，二级子节点5的配置信息包括：节点6，，/＞，拓扑信息为：节点4→节点6→节点5。进一步配置二级子节点的下一级子节点。针对二级子节点1，其拓扑信息包括：“节点4→节点2→节点1→节点5”以及“节点4→节点2→节点1→节点3”，但节点3以及节点5均已被配置，因此，分别对于节点3以及节点5验证配置更新规则，如满足更新配置更新规则，则将其对应设置为二级子节点的下一级子节点，即三级子节点；反之，则保留原始配置信息。更进一步地，针对节点3：在新传输路径的传输损耗；在原传输路径的传输损耗/＞。原传输路径的传输损耗明显大于新传输路径的传输损耗。容易想到的，传输路径越长其对应的损耗越大，因此，在计算传输路径长度时，本实施例使用对应节点间的传输损耗进行替代。针对节点3，在新传输路径上相邻节点连接路径中最大传输路径；在原传输路径上相邻节点连接路径中最大传输路径。相应的，原传输路径上传输路径长度明显大于新传输路径上传输路径长度。综上，节点3满足配置更新规则，即新传输路径的传输损耗小于或者等于原传输路径的传输损耗，且新传输路径的相邻节点连接路径中最大传输路径长度小于原传输路径的相邻节点连接路径中最大传输路径长度，则将原节点3的配置信息更新为二级子节点1的下一级子节点，即三级子节点3：节点1，/＞，/＞，更新为拓扑信息包括：“节点4→节点2→节点1→节点3。同理，节点5，当其作为二级子节点1的下一级子节点时，新传输路径上的传输损耗与原传输路径上的传输损耗相同，进一步地，新传输路径上传输路径长度明显大于原传输路径上传输路径长度，故不满足配置更新规则，故节点5的配置信息依原为：节点6，，。针对二级子节点5，其拓扑信息包括：“节点4→节点6→节点5→节点1”以及“节点4→节点6→节点5→节点3”，但节点1以及节点3均已被配置，因此，对应验证配置更新规则。对于节点1，新传输路径的传输损耗，最大传输路径；原传输路径的传输损耗/＞，最大传输路径/＞，满足，改变节点1的配置为：节点5，/＞，/＞，更新拓扑信息为：节点4→节点6→节点5→节点1。对于节点3，新传输路径的传输损耗，最大传输路径；原传输路径的传输损耗/＞，最大传输路径/＞，满足，改变节点3的配置为：节点5，/＞，/＞，更新拓扑信息为：节点4→节点6→节点5→节点3。进一步配置三级子节点的下一级子节点。针对三级子节点1，其拓扑信息包括：“节点4→节点6→节点5→节点1→节点2”，但节点2已被配置，因此，对应验证配置更新规则：新传输路径的传输损耗，最大传输路径/＞；原传输路径的传输损耗/＞，最大传输路径/＞，满足，改变节点2的配置为：节点1，/＞，/＞。针对三级子节点3，无可设置的下一级子节点。S003、汇总所述动态根节点和所述多级子节点，生成全局路由网络。如图3所示，步骤S003汇总了上述实施例中所配置的动态根节点和多级子节点，生成了如下路径的全局路由网络：节点4→节点6→节点5→节点1→节点2；节点4→节点6→节点5→节点1→节点3。图3中所示的“节点4/0”表示节点4为动态根节点，“节点6/1”表示节点6为一级子节点，“节点5/2”表示节点5为二级子节点，“节点3/3”表示节点3为三级子节点，“节点1/3”表示节点1为三级子节点，“节点2/4”表示节点2为四级子节点。在本实施例中，全局路由网络中任一子节点与对应的动态根节点之间的传输路径唯一。进一步地，若外部平台或系统需要读取任一节点的数据信息时，从节点4或者根据路由传输路径传递到节点4后统一读取；同理，若外部平台或系统需要向任一节点数据信息发送指令时，发送到节点4，或者由节点4通过上述传输路径传递到对应节点。在又一个可选的实施例中，在第一通信模式下，所述全局路由网络，还包括如下生成步骤：重新选取目标通信模块，更新所述动态根节点；并通过更新后的动态根节点，更新所述全局路由网络。这意味着网络将重新构建通信路径，以确保数据能够以最佳的方式传输。这种灵活性使得网络可以应对不同的通信需求，无论是覆盖范围、传输速率还是其他方面的要求。可以理解的是，在本实施例中，可以根据实际需要选择不同的动态根节点，一旦新的动态根节点被选定，全局路由网络将相应地更新，以确保数据能够以最佳的方式传输。通过这种方式，基于混合通信模式的水利检测物联网可以在不同的工作环境中灵活选取通信模块作为根节点，实现全局的信息传输，这种灵活性使得网络可以应对不同的通信需求。在又一个可选的实施例中，在第一通信模式下，所述全局路由网络，还包括如下生成步骤：提供中间节点，并利用所述中间节点基于所述动态根节点，扩展所述全局路由网络。进一步地，所述中间节点是指在网络拓扑中位于根节点和目标节点之间的节点。它在数据传输过程中充当数据的中转站，帮助将数据从源节点传输到目标节点。在本实施例中，中间节点的引入使得基于混合通信模式的水利检测物联网可以在更广阔的地理区域内建立可靠的通信连接，更适合于复杂的水利监测应用。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围，其均应涵盖在本发明的权利要求和说明书的范围当中。
