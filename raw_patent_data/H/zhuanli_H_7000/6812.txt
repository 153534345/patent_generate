标题title
一种基于区块链的智能电网数据存储方法和系统
摘要abst
本发明公开了一种基于区块链的智能电网数据存储方法和系统。搭建区块链的存储结构，所有节点分为用于接收采集的电网数据进而发送到边缘层的终端层、用于对采集的电网数据进行清洗进而发送到核心层的边缘层和用于进行实际存储的核心层，终端层、边缘层和核心层的节点数量比例为4:5:1；通过数据采集设备采集电网数据，进而输入到区块链中进行存储；在区块链的存储结构中实现对数据的存储和管理，并通过共识机制进行数据的安全性校验与确认。本发明能够根据节点的带宽和存储容量进行综合优化，审核边缘层节点的合法性，确定节点的权重和出块权限。审核边缘层节点的合法性，解决了传统电网数据存储方式存在的安全性低、数据不可靠等问题。
权利要求书clms
1.一种基于区块链的智能电网数据存储方法，其特征在于：S1、搭建区块链的存储结构：将区块链中的所有节点分为终端层、边缘层和核心层的三层级，终端层的节点用于接收采集的电网数据进而发送到边缘层的节点，边缘层的节点用于对采集的电网数据进行清洗进而发送到核心层的节点中进行存储，核心层的节点用于对接收到的电网数据进行存储，终端层、边缘层和核心层的节点数量比例为4:5: 1；S2、通过数据采集设备采集电网数据，进而输入到区块链中进行存储；S3、在区块链的存储结构中实现对数据的存储和管理，并通过共识机制进行数据的安全性校验与确认。2.根据权利要求1所述的一种基于区块链的智能电网数据存储方法，其特征在于：所述步骤S2是将智能电网中各类数据采集设备连接在一起而建立数据采集网络，对电网数据进行实时采集。3.根据权利要求1所述的一种基于区块链的智能电网数据存储方法，其特征在于：所述步骤S2中，采集的电网数据的参数包括采集频率、数据类型。4.根据权利要求1所述的一种基于区块链的智能电网数据存储方法，其特征在于：所述步骤S2中，通过数据采集设备将采集的电网数据以API方式区块链中。5.根据权利要求1所述的一种基于区块链的智能电网数据存储方法，其特征在于：所述步骤S1中，对区块链的所有节点按照以下公式设置权重Score：Score = α * Bandwidth +  * Storage其中，Bandwidth表示节点的实时带宽大小，Storage表示节点的剩余存储容量大小，α为权重系数。6.根据权利要求1所述的一种基于区块链的智能电网数据存储方法，其特征在于：所述步骤S2中：S21、更新权重：对区块链的所有节点每天更新一次各自的权重；S22、选举共识节点：在区块链的所有节点中以权重从大到小排序，选取最前面10%的节点作为核心层的节点，选取最后面40%的节点作为终端层的节点，选取中间剩余的50%的节点作为边缘层的节点；S23、以核心层的节点作为共识节点，将电网数据和存储指令输入到共识节点中以多数服从少数的共识方式进行共识，进行存储或者不存储。7.根据权利要求6所述的一种基于区块链的智能电网数据存储方法，其特征在于：所述步骤S21中，如果网络访问不通，则实时带宽大小Bandwidth为0。8.根据权利要求6所述的一种基于区块链的智能电网数据存储方法，其特征在于：所述步骤S21中，如果节点的权重连续持续10天均处于区块链中所有节点的权重从大到小排序的最后面10%，则该节点被淘汰，被剔除出区块链。9.一种基于区块链的智能电网数据存储系统，应用于权利要求1-8任一项所述的方法，其特征在于：包括数据采集设备，采集电网数据进而输入到区块链中；包括区块链，用于接收数据采集设备采集的电网数据并存储和管理，区块链中的所有节点分为终端层、边缘层和核心层的三层级，终端层、边缘层和核心层的节点数量比例为4:5: 1。
说明书desc
技术领域本发明涉及了区块链共识算法以及存储处理系统，涉及了一种基于区块链的智能电网数据存储方法和系统。背景技术随着社会经济的发展，电网的运行日益复杂，对电网数据的采集、存储、管理和分析提出了更高的要求。传统的电网数据存储方式存在安全性低、数据不可靠等问题。为了解决这些问题，人们开始研究基于区块链技术的电网数据存储系统。区块链技术作为一种新型的分布式数据存储技术，具有数据安全性高、不可篡改性强等优点。在电网数据存储领域，它可以用于解决数据安全性、可靠性等问题。已有的基于区块链技术的电网数据存储系统大多是采用以太坊等公有链技术，但由于公有链的特点，在扩展性、安全性等方面存在一定的局限性。发明内容为了解决背景技术中存在的问题，本发明提出了一种基于区块链的智能电网数据存储方法和系统，通过对电网数据进行采集、分布式存储、验证和确认，解决了传统电网数据存储方式存在的安全性低、数据不可靠等问题。本发明的技术方案如下：S1、搭建区块链的存储结构；S2、通过数据采集设备采集电网数据，进而输入到区块链中进行存储；S3、在区块链的存储结构中实现对数据的存储和管理，并通过共识机制进行数据的安全性校验与确认。本发明是对区块链中的节点进行分组分层级设置，并计算节点的综合量化的权重，根据设计的PoS共识算法进行迭代优化。所述步骤S1中，将区块链中的所有节点分为终端层、边缘层和核心层的三层级，终端层的节点用于接收采集的电网数据进而发送到边缘层的节点，边缘层的节点用于对采集的电网数据进行清洗进而发送到核心层的节点中进行存储，核心层的节点用于对接收到的电网数据进行存储，终端层、边缘层和核心层的节点数量比例为4:5: 1。核心层节点负责维护系统的核心功能，如共识算法、网络安全等。边缘层节点这些节点负责数据采集、存储和传输等功能。终端层节点负责与用户的交互和数据展示等功能。所述步骤S2是将智能电网中各类数据采集设备连接在一起而建立数据采集网络，对电网数据进行实时采集。所述步骤S2中，采集的电网数据的参数包括采集频率、数据类型等。所述步骤S2中，通过数据采集设备将采集的电网数据以API方式区块链中。本发明是设置了一种新的共识机制，该共识机制采用"通过投票权重来证明权益"的方法。具体算法如下：所述步骤S1中，对区块链的所有节点按照以下公式设置权重Score：Score = α * Bandwidth +  * Storage其中，Bandwidth表示节点的实时带宽大小，Storage表示节点的剩余存储容量大小，α为权重系数。所述步骤S2中：S21、更新权重：对区块链的所有节点每天更新一次各自的权重；S22、选举共识节点：在区块链的所有节点中以权重从大到小排序，选取最前面10%的节点作为核心层的节点，选取最后面40%的节点作为终端层的节点，选取中间剩余的50%的节点作为边缘层的节点；S23、以核心层的节点作为共识节点，将电网数据和存储指令输入到共识节点中以多数服从少数的共识方式进行共识，进行存储或者不存储。所述步骤S21中，如果网络访问不通，则实时带宽大小Bandwidth为0。所述步骤S21中，如果节点的权重连续持续10天均处于区块链中所有节点的权重从大到小排序的最后面10%，则该节点被淘汰，被剔除出区块链。本发明基于区块链节点分层的共识机制对电网数据进行存储，且能够不断更新优化，能够给存储系统带来更高的安全性、可靠性以及高效性，实现协作效率提升30%以上，存储容量提高5倍以上。包括数据采集设备，采集电网数据进而输入到区块链中；包括区块链，用于接收数据采集设备采集的电网数据并存储和管理，区块链中的所有节点分为终端层、边缘层和核心层的三层级，终端层、边缘层和核心层的节点数量比例为4:5: 1。本发明提供了一种新的PoS共识算法，算法能够根据节点的带宽和存储容量进行综合优化，从而确定节点的权重和出块权限。本发明还提供了一种机制来审核边缘层节点的合法性。本发明的有益效果是：本发明能够实现智能电网数据的快速准确有效存储，安全性高，数据存储可靠，实现协作效率提升30%以上，存储容量提高5倍以上。附图说明图1是本发明的区块链分层处理的逻辑框图。图2是实施例的证明协作效率提升的数据结果统计图。图3是实施例的证明数据存储容量提升的数据结果统计图。具体实施方式下面结合附图和具体实施对本发明作进一步说明。具体实施的智能电网数据存储系统，包括：包括数据采集设备，采集电网数据进而输入到区块链中；包括区块链，用于接收数据采集设备采集的电网数据并存储和管理，还可通过共识机制进行数据的安全性校验与确认，区块链中的所有节点分为终端层、边缘层和核心层的三层级，终端层、边缘层和核心层的节点数量比例为4:5: 1。具体实施中选择合适的数据采集设备：可以选择使用通用的数据采集设备或者专门针对电网数据采集的设备。安装并配置数据采集设备：根据设备的要求安装并配置数据采集设备，确保能够正常使用。具体实施中，配置数据采集设备将采集到的数据传输到区块链核心层的方式，可以使用API的方式。本发明系统的具体工作过程是：开始采集：启动数据采集设备并开始采集电网数据。数据清洗：对采集到的数据进行清洗，去除重复数据和无效数据。开始传输：将采集到的并清洗过后的数据传输到区块链的核心层。监控系统：对整个系统进行监控，确保系统正常运行。如图1所示，本发明的具体实施例及其实施过程情况如下：S1、搭建区块链的存储结构；步骤S1中，对区块链的所有节点按照以下公式设置权重Score，权重表示其在共识中的权益：Score = α * Bandwidth +  * Storage其中，Bandwidth表示节点的实时带宽大小，Storage表示节点的剩余存储容量大小，α为权重系数，用于控制带宽和存储容量在最终评分中的权重。S2、通过数据采集设备采集电网数据，进而输入到区块链中进行存储；步骤S2是将智能电网中各类数据采集设备连接在一起而建立数据采集网络，对电网数据进行实时采集。采集的电网数据的参数包括采集频率、数据类型等，通过数据采集设备将采集的电网数据以API方式区块链中。步骤S2中：S21、更新权重：对区块链的所有节点每天更新一次各自的权重，实时带宽大小Bandwidth会随网速更新变化，剩余存储容量大小Storage会随内部存储的数据量而更新变化；S22、选举共识节点：选出共识节点的方法为，在区块链的所有节点中以权重从大到小排序，选取最前面10%的节点作为核心层的节点，选取最后面40%的节点作为终端层的节点，选取中间剩余的50%的节点作为边缘层的节点；S23、以核心层的节点作为共识节点，将电网数据和存储指令输入到共识节点中以多数服从少数的共识方式进行共识，进行存储或者不存储。每次更新后将重新组织区块链的所有节点的分层架构进而优化电网数据的存储。步骤S21中，如果网络访问不通，即网速为零，则实时带宽大小Bandwidth为0。如果节点的权重连续持续10天均处于区块链中所有节点的权重从大到小排序的最后面10%，则该节点被淘汰，被剔除出区块链。实时带宽大小是根据网速而会动态变化。具体实施中，带宽和存储容量的数值可以先进行归一化处理，方便评分的计算和比较。S3、数据存储的实现：在区块链的存储结构中实现对数据的存储和管理，并通过共识机制进行数据的安全性校验与确认。步骤S1中，将区块链中的所有节点分为终端层、边缘层和核心层的三层级，单个节点仅属于终端层、边缘层和核心层中的一个，终端层的节点相互连接用于接收采集的电网数据进而发送到边缘层的节点，边缘层的节点相互连接用于对采集的电网数据进行清洗进而发送到核心层的节点中进行存储，终端层、边缘层和核心层的节点数量比例为4:5:1。具体实施情况和数据：本实验对比的区块链系统为Hyperledger，以字母H代替。本发明所设计的系统以字母A代替。系统A和H默认均有100个节点，其中A系统按本发明所述方法进行分层组织。首先证明协作效率的提升，本实验衡量协作效果的指标为每次存储请求的耗时。共设置3组实验，分别对2组系统发送1000, 10000, 100000次存储指令，计算出平均每次存储操作的用时，单位为秒。从图2可看出，本发明所设计的系统A平均耗时与传统系统相比，由于共识节点减少，共识过程效率会显著提升，最终平均降低30%的存储耗时。另外，本系统相较于传统区块链系统可以提高5倍以上的存储容量。衡量指标为系统能接受的最大存储容量。实验设置如下，系统A和H节点数量分别设立，50，100，150个，每个节点的存储容量为2GB。A系统节点权重更新频率设置为10秒。结果如图3，从图3可以看出，由于传统系统将所有数据在所有节点上都进行存储，所以系统的最大存储容量只有2GB，无论节点规模多大。而本发明所设计的系统，由于只有一小部分的共识节点才会存储数据，当共识节点容量降低时，则会因为更新算法的关系，系统倾向重新选择容量更大的节点作为共识节点，从而导致系统的总容量增大。上述实施可见，本发明能实现协作效率提升30%以上，存储容量提高5倍以上。
