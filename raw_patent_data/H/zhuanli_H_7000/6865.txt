标题title
车辆以太网地址分配方法、装置、车辆、介质及芯片
摘要abst
本公开涉及一种车辆以太网地址分配方法、装置、车辆、介质及芯片，属于车辆通信领域，该方法包括：响应于目标节点接入以太网，根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识；根据所述网络节点标识，为所述目标节点分配本地单播媒体存取控制MAC地址，以及单播网际互连协议IP地址。能够有效地保证同一网络节点MAC地址与IP地址的一致性，提高了以太网通信网络的维护效率。
权利要求书clms
1.一种车辆以太网地址分配方法，其特征在于，包括：响应于目标节点接入以太网，根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识；根据所述网络节点标识，为所述目标节点分配本地单播媒体存取控制MAC地址，以及单播网际互连协议IP地址。2.根据权利要求1所述的方法，其特征在于，所述车辆包括多个控制域，每一控制域预先配置有对应的域标识，每一控制域还包括多个子域，每一子域中包括至少一个可供分配的子域序号；根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识，包括：根据所述目标控制域之前的所有控制域中的可供分配的子域序号总数量，以及所述目标节点在所述目标控制域中的子域序号，确定所述目标节点的网络节点标识；其中，所述目标节点在所述目标控制域中的子域序号，是根据所述目标节点接入该子域的排序分配的。3.根据权利要求1所述的方法，其特征在于，根据所述网络节点标识，为所述目标节点分配本地单播MAC地址，包括：将所述网络节点标识与所述MAC地址中的第一目标字节进行映射。4.根据权利要求2所述的方法，其特征在于，根据所述网络节点标识，为所述目标节点分配本地单播MAC地址，包括：将所述目标控制域对应的域标识与所述MAC地址中的第二目标字节进行映射；并，将所述目标节点在所述目标控制域中的子域序号与所述MAC地址中的第三目标字节进行映射。5.根据权利要求3所述的方法，其特征在于，所述第一目标字节为所述MAC地址中除去第四目标字节的任意字节，所述第四目标字节的取值符合本地单播MAC地址定义。6.根据权利要求4所述的方法，其特征在于，所述第二目标字节和所述第三目标字节为所述MAC地址中除去第四目标字节的任意字节，所述第四目标字节的取值符合本地单播MAC地址定义。7.根据权利要求1所述的方法，其特征在于，根据所述网络节点标识，为所述目标节点分配IP地址，包括：将所述网络节点标识设置为所述IP地址中的最后一个字节；将网络标识的第一字节与第二字节设置为所述IP地址的前两个字节，将虚拟局域网标识VID设置为所述IP地址的其他字节；或者，将网络标识的所述第一字节设置为所述IP地址的第一个字节，将所述VID设置为所述IP地址的其他字节。8.根据权利要求2所述的方法，其特征在于，根据所述网络节点标识，为所述目标节点分配IP地址，包括：将VID设置为所述IP地址的第二个字节，将所述目标节点在所述目标控制域中的子域序号设置为所述IP地址中的最后一个字节；并，将所述目标控制域对应的域标识设置为所述IP地址中的倒数第二个字节。9.根据权利要求2所述的方法，其特征在于，所述多个子域中还包括至少一个预留子域，每一所述预留子域中包括至少一个预留序号，相应的，所述目标节点在所述目标控制域中的子域序号跳过所述预留序号。10.根据权利要求2所述的方法，其特征在于，所述多个控制域中还包括预留主域。11.根据权利要求1所述的方法，其特征在于，所述以太网为互联网通信协议第四版IPV4网络。12.一种车辆以太网地址分配装置，其特征在于，包括：第一分配模块，被配置为响应于目标节点接入以太网，根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识；第二分配模块，被配置为根据所述网络节点标识，为所述目标节点分配本地单播媒体存取控制MAC地址，以及单播网际互连协议IP地址。13.一种车辆，其特征在于，包括：处理器；用于存储处理器可执行指令的存储器；其中，所述处理器被配置为：响应于目标节点接入以太网，根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识；根据所述网络节点标识，为所述目标节点分配本地单播媒体存取控制MAC地址，以及单播网际互连协议IP地址。14.一种计算机可读存储介质，其上存储有计算机程序指令，其特征在于，该程序指令被处理器执行时实现权利要求1-11中任一项所述方法的步骤。15.一种芯片，其特征在于，包括处理器和接口；所述处理器用于读取指令以执行权利要求1-11中任一项所述的方法。
说明书desc
技术领域本公开涉及车辆通信领域，尤其涉及一种车辆以太网地址分配方法、装置、车辆、介质及芯片。背景技术车载以太网网络设计中，节点数量和节点支持的功能在整车开发过程中并不是一成不变的。不同的整车项目里，普遍需要支持节点沿用以及功能复用，同时存在一定的拓扑扩展和节点新增。然而，在某个时间进行网络通信设计时，无法预测这些变化点，导致在进行地址分配时，往往只能简单粗暴的按照先后顺序将地址依次递增。当出现功能变化或者节点变化时，重新分配的地址可能和原有分配方式产生冲突，导致扩大变更范围，增加了开发复杂度，也不利于以太网通信网络的维护。发明内容为克服相关技术中存在的问题，本公开提供一种车辆以太网地址分配方法、装置、车辆、介质及芯片。根据本公开实施例的第一方面，提供一种车辆以太网地址分配方法，包括：响应于目标节点接入以太网，根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识 ；根据所述网络节点标识，为所述目标节点分配本地单播媒体存取控制MAC地址，以及单播网际互连协议IP地址。可选地，所述车辆包括多个控制域，每一控制域预先配置有对应的域标识，每一控制域还包括多个子域，每一子域中包括至少一个可供分配的子域序号；根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识，包括：根据所述目标控制域之前的所有控制域中的可供分配的子域序号总数量，以及所述目标节点在所述目标控制域中的子域序号，确定所述目标节点的网络节点标识；其中，所述目标节点在所述目标控制域中的子域序号，是根据所述目标节点接入该子域的排序分配的。可选地，根据所述网络节点标识，为所述目标节点分配本地单播MAC地址，包括：将所述网络节点标识与所述MAC地址中的第一目标字节进行映射。可选地，根据所述网络节点标识，为所述目标节点分配本地单播MAC地址，包括：将所述目标控制域对应的域标识与所述MAC地址中的第二目标字节进行映射；并，将所述目标节点在所述目标控制域中的子域序号与所述MAC地址中的第三目标字节进行映射。可选地，所述第一目标字节为所述MAC地址中除去第四目标字节的任意字节，所述第四目标字节的取值符合本地单播MAC地址定义。可选地，所述第二目标字节和所述第三目标字节为所述MAC地址中除去第四目标字节的任意字节，所述第四目标字节的取值符合本地单播MAC地址定义。可选地，根据所述网络节点标识，为所述目标节点分配IP地址，包括：将所述网络节点标识设置为所述IP地址中的最后一个字节；将网络标识的第一字节与第二字节设置为所述IP地址的前两个字节，将虚拟局域网标识VID设置为所述IP地址的其他字节 ；或者，将网络标识的所述第一字节设置为所述IP地址的第一个字节，将所述VID设置为所述IP地址的其他字节 。可选地，根据所述网络节点标识，为所述目标节点分配IP地址，包括：将VID设置为所述IP地址的第二个字节，将所述目标节点在所述目标控制域中的子域序号设置为所述IP地址中的最后一个字节；并，将所述目标控制域对应的域标识设置为所述IP地址中的倒数第二个字节。可选地，所述多个子域中还包括至少一个预留子域，每一所述预留子域中包括至少一个预留序号，相应的，所述目标节点在所述目标控制域中的子域序号跳过所述预留序号。可选地，所述多个控制域中还包括预留主域。可选地，所述以太网为互联网通信协议第四版IPV4网络。根据本公开实施例的第二方面，提供一种车辆以太网地址分配装置，包括：第一分配模块，被配置为响应于目标节点接入以太网，根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识；第二分配模块，被配置为根据所述网络节点标识，为所述目标节点分配本地单播媒体存取控制MAC地址，以及单播网际互连协议IP地址。根据本公开实施例的第三方面，提供一种车辆，包括：处理器；用于存储处理器可执行指令的存储器；其中，所述处理器被配置为：响应于目标节点接入以太网，根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识；根据所述网络节点标识，为所述目标节点分配本地单播媒体存取控制MAC地址，以及单播网际互连协议IP地址。根据本公开实施例的第四方面，提供一种计算机可读存储介质，其上存储有计算机程序指令，该程序指令被处理器执行时实现本公开第一方面中任一项所述方法的步骤。根据本公开实施例的第五方面，提供一种芯片，包括处理器和接口；所述处理器用于读取指令以执行本公开第一方面中任一项所述的方法。本公开的实施例提供的技术方案可以包括以下有益效果：通过基于网络节点所处的控制域为网络节点分配能够唯一标识的网络节点标识，并基于该网络节点标识为该网络节点分配MAC地址与IP地址，当出现功能变化或者节点变化时，能够有效地保证同一网络节点MAC地址与IP地址的一致性，提高了以太网通信网络的维护效率。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本公开。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本公开的实施例，并与说明书一起用于解释本公开的原理。图1是根据一示例性实施例示出的一种车辆以太网地址分配方法的流程图。图2是根据一示例性实施例示出的一种车辆以太网地址分配装置的框图。图3是根据一示例性实施例示出的一种车辆的框图。图4是根据一示例性实施例示出的一种用于车辆以太网地址分配的装置的框图。具体实施方式这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本公开的一些方面相一致的装置和方法的例子。车载以太网网络设计中，节点数量和节点支持的功能在整车开发过程中并不是一成不变的。不同的整车项目里，普遍需要支持节点沿用以及功能复用，同时存在一定的拓扑扩展和节点新增。然而，在某个时间进行网络通信设计时，无法预测这些变化点，导致在进行地址分配时，往往只能简单粗暴的按照先后顺序将地址依次递增。例如，在相关技术中按节点出现的顺序依次分配ID号。比如假设MAC地址分配起点是0A：0B：0C：00：00：01，后续节点依次按此排序0A：0B：0C：00：00：02、0A：0B：0C：00：00：03。IP地址类似。并且节点的IP、MAC地址之间映射关系不清晰。当网络拓扑需要进行扩展时，存在复用性和扩展性差的问题。当出现功能变化或者节点变化时，重新分配的地址可能和原有分配方式产生冲突，导致扩大变更范围，增加了开发复杂度，也不利于以太网通信网络的维护。图1是根据一示例性实施例示出的一种车辆以太网地址分配方法，该方法可以应用于车辆，或者任意具备信息处理能力的电子设备，例如可以是车辆以太网网关，或者，DHCP服务器，如图1所示，该方法包括：S101、响应于目标节点接入以太网，根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识。可以理解的是，每一网络节点唯一对应一个网络节点标识。其中，控制域例如可以包括中央域、信息娱乐域、智驾域以及数字座舱域等等。示例地，数字座舱域中可以包括多个网络节点，该数字座舱域则可以被认为是这些网络节点所处的目标控制域。在一些可能的实施方式中，每一控制域包括的网络节点数量可以是预先配置的，例如，中央域可以包含节点数量Nm0，信息娱乐域可以包含节点数量Nm1等等。进而，可以将前Nm0个网络节点标识仅分配给中央域中的网络节点，将第Nm0+1至Nm0+Nm2个网络节点标识仅分配给信息娱乐域中的节点。此外，每一控制域中至少包括一个域控制器，具体的，网络节点，即非域控制器的设备，具体处于哪个控制域主要取决于其对应的以太网物理接口直接连接在哪个域控制器的以太网物理接口上。例如，某雷达的以太网接口连接至数字座舱域控制器的以太网物理接口上，则可以确定该雷达处于数字座舱域。S102、根据所述网络节点标识，为所述目标节点分配本地单播MAC地址，以及单播IP地址。其中，上述以太网可以为IPV4网络。在本公开实施例中，通过基于网络节点所处的控制域为该网络节点分配能够唯一标识的网络节点标识，并基于该网络节点标识为该网络节点分配MAC地址与IP地址，当出现功能变化或者节点变化时，能够有效地保证同一网络节点MAC地址与IP地址的一致性，提高了以太网通信网络的维护效率。在一些可选地实施例中，所述车辆包括多个控制域，每一控制域预先配置有对应的域标识，每一控制域还包括多个子域，每一子域中包括至少一个可供分配的子域序号；根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识，包括：根据所述目标控制域之前的所有控制域中的可供分配的子域序号总数量，以及所述目标节点在所述目标控制域中的子域序号，确定所述目标节点的网络节点标识；其中，所述目标节点在所述目标控制域中的子域序号，是根据所述目标节点接入该子域的排序分配的。示例地，中央域的域标识可以设置为00，数字座舱域的域标识可以为01，信息娱乐域的域标识可以为02，智驾域的域标识可以为03。可以理解的是，控制域的前后关系可以是根据域标识由小到大排列的，例如，智驾域之前的控制域可以包括中央域、数字座舱域以及信息娱乐域等。也就是说，可以根据各个控制域的域标识，确定目标控制域之前的控制域以及之后的控制域等。其中，中央域、数字座舱域、信息娱乐域以及智驾域均可以包括3个子域，共32个子域序号，该3个子域分别包括1、10、21个可供分配的子域序号，中央域、数字座舱域、信息娱乐域以及智驾域中的3个子域的子域序号可以均分别为00、01-10、11-31。其中，后两个子域可以分别对应域主节点内部网络节点、域主节点外部网络节点。进一步，当目标节点为数字座舱域第一个接入该以太网的域主节点内部网络节点，则可以确定该目标节点的子域序号为00，当目标节点为第一个接入该以太网的域主节点外部网络节点，则可以确定该目标节点的子域序号为11。其中，该目标节点所处的数字座舱域之前还包括中央域，因此，可以得到该目标节点的网络节点标识可以为32+11=43。采用上述方案，可以有效地确定唯一对应该目标节点的网络节点标识，进而可以可靠地为该目标节点分配MAC地址与IP地址，并保证当出现功能变化或者节点变化时，该网络节点MAC地址与IP地址的一致性，提高了以太网通信网络的维护效率。可选地，所述多个子域中还包括至少一个预留子域，每一所述预留子域中包括至少一个预留序号，相应的，所述目标节点在所述目标控制域中的子域序号跳过所述预留序号。示例地，该预留子域例如可以是上述三个子域中的第一个子域，即子域序号为0的子域。在另一示例中，该预留子域还可以包括多个可供分配的子域序号，例如可以将包括01-10的子域序号的子域设置为预留子域。可选地，所述多个控制域中还包括预留主域。采用上述方案，通过在设置预留子域与预留主域，并保留其中的子域序号不为网络节点进行分配，能够有效地在网络需要扩展或者进行特殊应用时，能够基于该预留域进行扩展或者进行特殊应用，能够有效地金地开发复杂度，提高以太网通信网络维护效率。在又一些可选地实施例中，根据所述网络节点标识，为所述目标节点分配本地单播MAC地址，包括：将所述网络节点标识与所述MAC地址中的第一目标字节进行映射。可以理解的是，MAC地址通常包括6个字节，每一字节均为一个16进制的数值。该第一目标字节例如可以是这六个字节中的最后一个字节，或者倒数第二个字节，本公开对此不做具体限定。可选地，将网络节点标识与MAC地址中的第一目标字节进行映射，具体可以是将网络节点标识对应的十进制数值转换为十六进制数值，并设置为MAC地址中的一个字节。或者，直接将网络节点标识对应的十进制数值映射为MAC地址中的一个直接。在一种可能的实施方式中，该第一目标字节为MAC地址中除去第四目标字节的任意字节，该第四目标字节的取值符合本地单播MAC地址定义。示例地，若本地单播MAC地址为YY:XX:XX:XX:XX:XX，其中YY字节的取值必须符合本地单播MAC地址定义。该第一目标字节则可以是其他5个字节中的任意一个，例如，以目标节点的网络节点标识为43为例，则可以将该目标节点的MAC地址分配为0A:00:00:00:00:2B，或者，0A:00:00:00:2B:00，其中，0A即对应上述的YY字节，00对应其他的XX字节。在另一些可选地实施例中，根据所述网络节点标识，为所述目标节点分配本地单播MAC地址，包括：将所述目标控制域对应的域标识与所述MAC地址中的第二目标字节进行映射；并，将所述目标节点在所述目标控制域中的子域序号与所述MAC地址中的第三目标字节进行映射。在一种可能的实施方式中，该第二目标字节和第三目标字节为所述MAC地址中除去第四目标字节的任意字节，该第四目标字节的取值符合本地单播MAC地址定义。示例地，若本地单播MAC地址为YY:XX:XX:XX:XX:XX，YY字节的取值符合本地单播MAC地址定义，该第二目标字节和第三目标字节则可以为其他5个字节中的任意两个，其中，第二目标字节和第三目标字节可以是相邻的两个字节，也可以是不相邻的两个字节，或者，第二目标字节和第三目标字节可以是第二目标字节在前第三目标字节在后，也可以是第三目标字节在前第二目标字节在后，本领域技术人员只需要对这两个字节所处的位置进行标定即可，本公开这两个字节的具体选取方式不作限定。例如，以目标节点的网络节点标识为43，域标识为01，子域序号为11为例，该目标节点的MAC地址则可以分配为0A:00:00:00:01:11，或者0A:11：01:00:00:00:00。示例性，如果是十进制转十六进制映射，该目标节点的MAC地址则可以分配为0A:00:00:00:01:0B，或者，0A:0B:00:00:01:00。在一些可选地实施例中，根据所述网络节点标识，为所述目标节点分配IP地址，包括：将所述网络节点标识设置为所述IP地址中的最后一个字节；将网络标识的第一字节与第二字节设置为所述IP地址的前两个字节，将VID设置为所述IP地址的其他字节；或者，将网络标识的所述第一字节设置为所述IP地址的第一个字节，将所述VID设置为所述IP地址的其他字节。值得说明的是，其他字节即是IP地址中除去已经被设置了的其他任意一个或多个字节。以IPv4地址为例，IP地址包括4个字节。其中，VID的取值可以是0-255，或者，与网段取值有关。在一种可能的实施方式中，该VID还可以跳过特殊预留值。另外，网络标识可以是该以太网的预设参数，本公开实施例对此不作具体限定。示例地，以目标节点的网络节点标识为43，Network ID取值为172.31，即网络标识的第一字节可以是172，第二字节可以是31，则可以将IP地址分配为172.31.VID.43或者，172.VID.VID.43。在另一些可选地实施例中，根据所述网络节点标识，为所述目标节点分配IP地址，包括：将VID设置为所述IP地址的第二个字节，将所述目标节点在所述目标控制域中的子域序号设置为所述IP地址中的最后一个字节；并，将所述目标控制域对应的域标识设置为所述IP地址中的倒数第二个字节。可选地，还可以将将网络标识的第一字节设置为IP地址的第一个字节。示例地，以目标节点的网络节点标识为43，域标识为01，子域序号为11为例，则可以将IP地址分配为172.VID.1.11。采用上述方案，能够基于网络节点标识有效地为接入以太网的网络节点分配IP地址，并保证当出现功能变化或者节点变化时，该网络节点IP地址的一致性，提高了以太网通信网络的维护效率。为了使得本领域技术人员更加理解本公开提供的技术方案的整体发明构思，本公开还提供以下示例性实施例。首先，将以太网网络按某种方式划分为0~N个主域，即控制域，例如：域00：中央域，包含节点数量Nm0；域01：信息娱乐域，包含节点数量Nm1；域02：智驾域，包含节点数量Nm2；…域N：预留主域，包含节点数量NmN。其中，预留主域也可以是0~N中其他特定的ID或者某几个ID，例如可以将域00和/或域01设置为预留主域。预留主域的目的是考虑可能存在的域扩展。进一步，将各主域再次划分，例如，划分为子域0：域主控节点，包含节点数量为Ns0；子域1：主域下的子域1，包含节点数量为Ns1；子域2：主域下的子域2，包含节点数量为Ns2；子域M：预留子域，包含节点数量NsM。进而，上述网络中的某个节点P的网络节点标识NNID的值可以为：NNID= Nm0 +Nm1+…+ Nm + NsP。其中，Nm为节点P所处的主域的前一个主域，NsP为该节点P的子域序号。其中，N与M的取值取决于当前所设计的网络节点容量、主域和子域的承载量，以及一定的预留量用于扩展或者特殊应用。示例地，若一个网络最大节点容量小于255，并且主域数量不超过8个，则可以将网络各节点的网络节点标识NNID可以按照以下表1设计。表1假设数字座舱域主节点具备2个网络节点，分别是DM_A和DM_B，该数字座舱域主节点下还连接一个雷达节点。其网络节点标识可以如下表2所示：表2假设本地单播MAC地址为YY:XX:XX:XX:XX:XX，其中YY字节的取值必须符合本地单播MAC地址定义。剩下5字节，可以取其中任意2个字节或者1个字节和NNID进行映射。若YY取值0x0A，XX取值00。在一种可能的实施方案中，可以将DM_A的MAC地址分配为：0A:00:00:00:00:21；DM_B的MAC地址分配为：0A:00:00:00:00:22；Radar的MAC地址分配为0A:00:00:00:00:2B；在另一种可能的实施方式中，可以将DM_A的MAC地址分配为：0A:00:00:00:01:01；DM_B的MAC地址分配为：0A:00:00:00:01:02；Radar的MAC地址分配为0A:00:00:00:01:11；示例地，若采用十进制转十六进制映射，该Radar的MAC地址则可以分配为0A:00:00:00:01:0B。对于IPv4地址，网络节点对应的单播IP地址分配可以包括如下三种方式：在一种可能的实施方式中，可以将DM_A的IP地址分配为：172.31.VID.33；DM_B的IP地址分配为：172.31.VID.34；Radar的IP地址分配为172.31.VID.43；其中，VID的取值范围为0-255，特殊预留值除外。在另一种可能的实施方式中，可以将DM_A的IP地址分配为：172. VID.VID.33；DM_B的IP地址分配为：172.VID.VID.34；Radar的IP地址分配为172.VID.VID.43。在又一种可能的实施方式中，可以将DM_A的IP地址分配为：172. VID.1.1；DM_B的IP地址分配为：172.VID.1.2；Radar的IP地址分配为172.VID.1.11。在本公开实施例中，搭建了一个以太网通信ID分配的原则和一致性框架，适用于整车以太网底层通信设计，可以快速有效的为整车所有以太网节点分配其MAC、IP地址。此分配分发和分配结果可以在同一个平台的不同车型项目中继承，且具备可扩展性和良好的维护性。采用上述方案，可以灵活的扩展网络节点，有效复用原有网络设计，减少设计复杂度。运用上述方案进行网络设计，有利于网络设计的管理和维护。无论是对车型主域进行扩展，还是域内网络节点扩展，均可以在不影响原有分配的基础上，按照前述设计方法方便的进行扩展设计。图2是根据一示例性实施例示出的一种车辆以太网地址分配装置的示意图，如图2所示，车辆以太网地址分配装置20包括：第一分配模块21，被配置为响应于目标节点接入以太网，根据所述目标节点所处的目标控制域为所述目标节点分配网络节点标识；第二分配模块22，被配置为根据所述网络节点标识，为所述目标节点分配本地单播媒体存取控制MAC地址，以及单播网际互连协议IP地址。可选地，所述车辆包括多个控制域，每一控制域预先配置有对应的域标识，每一控制域还包括多个子域，每一子域中包括至少一个可供分配的子域序号；第一分配模块21，被配置为：根据所述目标控制域之前的所有控制域中的可供分配的子域序号总数量，以及所述目标节点在所述目标控制域中的子域序号，确定所述目标节点的网络节点标识；其中，所述目标节点在所述目标控制域中的子域序号，是根据所述目标节点接入该子域的排序分配的。可选地，第二分配模块22，被配置为：将所述网络节点标识与所述MAC地址中的第一目标字节进行映射。可选地，第二分配模块22，被配置为：将所述目标控制域对应的域标识与所述MAC地址中的第二目标字节进行映射；并，将所述目标节点在所述目标控制域中的子域序号与所述MAC地址中的第三目标字节进行映射。可选地，所述第一目标字节为所述MAC地址中除去第四目标字节的任意字节，所述第四目标字节的取值符合本地单播MAC地址定义。可选地，所述第二目标字节和所述第三目标字节为所述MAC地址中除去第四目标字节的任意字节，所述第四目标字节的取值符合本地单播MAC地址定义。可选地，第二分配模块22，被配置为：将所述网络节点标识设置为所述IP地址中的最后一个字节；将网络标识的第一字节与第二字节设置为所述IP地址的前两个字节，将虚拟局域网标识VID设置为所述IP地址的其他字节；或者，将网络标识的所述第一字节设置为所述IP地址的第一个字节，将所述VID设置为所述IP地址的其他字节 。可选地，第二分配模块22，被配置为：将VID设置为所述IP地址的第二个字节，将所述目标节点在所述目标控制域中的子域序号设置为所述IP地址中的最后一个字节；并，将所述目标控制域对应的域标识设置为所述IP地址中的倒数第二个字节。可选地，所述多个子域中还包括至少一个预留子域，每一所述预留子域中包括至少一个预留序号，相应的，所述目标节点在所述目标控制域中的子域序号跳过所述预留序号。可选地，所述多个控制域中还包括预留主域。可选地，所述以太网为互联网通信协议第四版IPV4网络。关于上述实施例中的车辆以太网地址分配装置20，其中各个模块执行操作的具体方式已经在有关该方法的实施例中进行了详细描述，此处将不做详细阐述说明。本公开还提供一种计算机可读存储介质，其上存储有计算机程序指令，该程序指令被处理器执行时实现本公开提供的车辆以太网地址分配方法的步骤。图3是根据一示例性实施例示出的一种车辆300的框图。例如，车辆300可以是混合动力车辆，也可以是非混合动力车辆、电动车辆、燃料电池车辆或者其他类型的车辆。车辆300可以是自动驾驶车辆、半自动驾驶车辆或者非自动驾驶车辆。参照图3，车辆300可包括各种子系统，例如，信息娱乐系统310、感知系统320、决策控制系统330、驱动系统340以及计算平台350。其中，车辆300还可以包括更多或更少的子系统，并且每个子系统都可包括多个部件。另外，车辆300的每个子系统之间和每个部件之间可以通过有线或者无线的方式实现互连。在一些实施例中，信息娱乐系统310可以包括通信系统，娱乐系统以及导航系统等。感知系统320可以包括若干种传感器，用于感测车辆300周边的环境的信息。例如，感知系统320可包括全球定位系统、惯性测量单元、激光雷达、毫米波雷达、超声雷达以及摄像装置。决策控制系统330可以包括计算系统、整车控制器、转向系统、油门以及制动系统。驱动系统340可以包括为车辆300提供动力运动的组件。在一个实施例中，驱动系统340可以包括引擎、能量源、传动系统和车轮。引擎可以是内燃机、电动机、空气压缩引擎中的一种或者多种的组合。引擎能够将能量源提供的能量转换成机械能量。车辆300的部分或所有功能受计算平台350控制。计算平台350可包括至少一个处理器351和第一存储器352，处理器351可以执行存储在第一存储器352中的指令353。处理器351可以是任何常规的处理器，诸如商业可获得的CPU。处理器还可以包括诸如图像处理器，现场可编程门阵列、片上系统、专用集成芯片或它们的组合。第一存储器352可以由任何类型的易失性或非易失性存储设备或者它们的组合实现，如静态随机存取存储器，电可擦除可编程只读存储器，可擦除可编程只读存储器，可编程只读存储器，只读存储器，磁存储器，快闪存储器，磁盘或光盘。除了指令353以外，第一存储器352还可存储数据，例如道路地图，路线信息，车辆的位置、方向、速度等数据。第一存储器352存储的数据可以被计算平台350使用。在本公开实施例中，处理器351可以执行指令353，以完成上述的车辆以太网地址分配方法的全部或部分步骤。图4是根据一示例性实施例示出的一种用于车辆以太网地址分配的装置的框图。例如，装置400可以被提供域控制器，或者被提供为一服务器，如DHCP服务器，具体地，可以将上述实施例中的一个或多个域控制器提供为该DHCP服务器。参照图4，装置400包括处理组件422，其进一步包括一个或多个处理器，以及由第二存储器432所代表的存储器资源，用于存储可由处理组件422的执行的指令，例如应用程序。第二存储器432中存储的应用程序可以包括一个或一个以上的每一个对应于一组指令的模块。此外，处理组件422被配置为执行指令，以执行上述车辆以太网地址分配方法。装置400还可以包括一个电源组件426被配置为执行装置400的电源管理，一个有线或无线网络接口450被配置为将装置400连接到网络，和一个输入/输出接口458。装置400可以操作基于存储在第二存储器432的操作系统，例如Windows ServerTM，Mac OS XTM，UnixTM， LinuxTM，FreeBSDTM或类似。上述装置400除了可以是独立的电子设备外，也可是独立电子设备的一部分，例如在一种实施例中，该装置400可以是集成电路或芯片，其中该集成电路可以是一个IC，也可以是多个IC的集合；该芯片可以包括但不限于以下种类：GPU、CPU、FPGA、DSP、ASIC、SOC等。上述的集成电路或芯片中可以用于执行可执行指令，以实现上述的车辆以太网地址分配方法。其中该可执行指令可以存储在该集成电路或芯片中，也可以从其他的装置或设备获取，例如该集成电路或芯片中包括处理器、存储器，以及用于与其他的装置通信的接口。该可执行指令可以存储于该存储器中，当该可执行指令被处理器执行时实现上述的车辆以太网地址分配方法；或者，该集成电路或芯片可以通过该接口接收可执行指令并传输给该处理器执行，以实现上述的车辆以太网地址分配方法。在另一示例性实施例中，还提供一种计算机程序产品，该计算机程序产品包含能够由可编程的装置执行的计算机程序，该计算机程序具有当由该可编程的装置执行时用于执行上述的车辆以太网地址分配方法的代码部分。本领域技术人员在考虑说明书及实践本公开后，将容易想到本公开的其它实施方案。本申请旨在涵盖本公开的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本公开的一般性原理并包括本公开未公开的本技术领域中的公知常识或惯用技术手段。说明书和实施例仅被视为示例性的，本公开的真正范围和精神由下面的权利要求指出。应当理解的是，本公开并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。本公开的范围仅由所附的权利要求来限制。
