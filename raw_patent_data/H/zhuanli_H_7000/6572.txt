标题title
基于在线OTDR监测的双主路光纤自动切换保护方法及系统
摘要abst
本发明提供基于在线OTDR监测的双主路光纤自动切换保护方法及系统，其中方法包括：在线OTDR监测在运行的第一光纤主路；当监测到符合预设的第一故障条件的第一光纤故障时，切换至备用的第二光纤主路接替运行；基于第一光纤故障对应的预设的维修调度策略，调度第一维修人员对第一光纤故障进行维修，并在线OTDR监测第二光纤主路；当监测到符合预设的第二故障条件的第二光纤故障时，基于第二光纤故障对应的预设的补充维修调度策略，补充调度第二维修人员对第一光纤故障进行维修；待第一光纤故障维修完成后，切换至第一光纤主路重新运行。本发明尽可能保证数据传输任务的稳定执行，提升了光纤自动切换保护的全面性和合理性。
权利要求书clms
1.基于在线OTDR监测的双主路光纤自动切换保护方法，其特征在于，包括：在线OTDR监测在运行的第一光纤主路；当监测到符合预设的第一故障条件的第一光纤故障时，切换至备用的第二光纤主路接替运行；基于第一光纤故障对应的预设的维修调度策略，调度第一维修人员对第一光纤故障进行维修，并在线OTDR监测第二光纤主路；当监测到符合预设的第二故障条件的第二光纤故障时，基于第二光纤故障对应的预设的补充维修调度策略，补充调度第二维修人员对第一光纤故障进行维修；待第一光纤故障维修完成后，切换至第一光纤主路重新运行。2.如权利要求1所述的基于在线OTDR监测的双主路光纤自动切换保护方法，其特征在于，还包括：当第一维修人员对第一光纤故障进行维修时，对第一维修人员进行维修辅助；其中，对第一维修人员进行维修辅助，包括：获取第一光纤故障的故障位置；将故障位置对应的预设的维修环境信息以及第一光纤故障对应的基础辅助信息推送至第一维修人员携带的智能终端；将预设的维修进度输入框推送至智能终端；当第一维修人员通过智能终端输入维修进度时，获取第一维修人员对第一光纤故障进行维修的维修时长；基于维修进度、维修时长以及第一光纤故障对应的预设的标准进度表，确定维修进度异常；将维修进度异常推送至智能终端。3.如权利要求2所述的基于在线OTDR监测的双主路光纤自动切换保护方法，其特征在于，对第一维修人员进行维修辅助，还包括：确定第一维修人员是否符合外援需求时机条件；当符合时，获取第一维修人员对第一光纤故障进行维修的维修困难信息；获取维修困难信息的困难解决策略；将困难解决策略推送至智能终端；其中，外援需求时机条件包括：第一维修人员通过智能终端输入外援请求；或，最近第一预设时间内智能终端发生终端位置变化的第一时长大于等于预设的第一时长阈值，且最近第一预设时间内智能终端发生终端屏幕朝向变化的第二时长大于等于预设的第二时长阈值，且最近第一预设时间内智能终端未发生终端位置变化以及终端屏幕朝向变化的第三时长大于等于预设的第三时长阈值；或，目标权重和大于等于预设的权重和阈值；目标权重和为确定的维修进度异常在预设的异常权重库中对应的异常权重之和。4.如权利要求3所述的基于在线OTDR监测的双主路光纤自动切换保护方法，其特征在于，获取第一维修人员对第一光纤故障进行维修的维修困难信息，包括：获取第一维修人员通过智能终端录制的求助视频；从求助视频内提取人声片段；基于人声片段，确定第一维修困难详情；从求助视频内提取画面切换时间；基于人声片段和画面切换时间，确定待提取视频画面时间区间；从求助视频中提取待提取视频画面时间区间对应的视频画面；基于视频画面，确定第二维修困难详情；将第一维修困难详情和第二维修困难详情合并作为维修困难信息；其中，基于人声片段和画面切换时间，确定待提取视频画面时间区间，包括：构建目标人声片段序列；目标人声片段序列中的两两人声片段的第一产生时间之间的时间差值小于等于预设的差值阈值，目标人声片段序列中的人声片段按第一产生时间先后排序；当画面切换时间位于目标人声片段序列中的人声片段的第一产生时间之间时，基于目标人声片段序列中的人声片段的最早的第一产生时间以及最晚的第一产生时间，确定待提取视频画面时间区间。5.如权利要求4所述的基于在线OTDR监测的双主路光纤自动切换保护方法，其特征在于，基于人声片段，确定第一维修困难详情，包括：对人声片段进行语义提取，获得人声语义；从人声语义中确定符合第一语义条件的第一目标语义；从人声语义中确定符合第二语义条件的第二目标语义；基于第一目标语义和第二目标语义，确定第一维修困难详情；其中，第一语义条件包括：第一目标语义存在于预设的标准语义库中；或，第一目标语义的语义类型存在于预设的标准语义类型库中；其中，第二语义条件包括：提取出第一目标语义的人声片段的第三产生时间落入提取出第二目标语义的人声片段的第二产生时间前第二预设时长内；或，第三产生时间落入第二产生时间后第二预设时长内；或，第三产生时间落入第二产生时间前第三预设时长内且第三产生时间落入第二产生时间后第三预设时长内。6.基于在线OTDR监测的双主路光纤自动切换保护系统，其特征在于，包括：监测模块，用于在线OTDR监测在运行的第一光纤主路；第一切换模块，用于当监测到符合预设的第一故障条件的第一光纤故障时，切换至备用的第二光纤主路接替运行；第一调度模块，用于基于第一光纤故障对应的预设的维修调度策略，调度第一维修人员对第一光纤故障进行维修，并在线OTDR监测第二光纤主路；第二调度模块，用于当监测到符合预设的第二故障条件的第二光纤故障时，基于第二光纤故障对应的预设的补充维修调度策略，补充调度第二维修人员对第一光纤故障进行维修；第二切换模块，用于待第一光纤故障维修完成后，切换至第一光纤主路重新运行。7.如权利要求6所述的基于在线OTDR监测的双主路光纤自动切换保护系统，其特征在于，还包括：维修辅助模块，用于包括：当第一维修人员对第一光纤故障进行维修时，对第一维修人员进行维修辅助；其中，维修辅助模块对第一维修人员进行维修辅助，包括：获取第一光纤故障的故障位置；将故障位置对应的预设的维修环境信息以及第一光纤故障对应的基础辅助信息推送至第一维修人员携带的智能终端；将预设的维修进度输入框推送至智能终端；当第一维修人员通过智能终端输入维修进度时，获取第一维修人员对第一光纤故障进行维修的维修时长；基于维修进度、维修时长以及第一光纤故障对应的预设的标准进度表，确定维修进度异常；将维修进度异常推送至智能终端。8.如权利要求7所述的基于在线OTDR监测的双主路光纤自动切换保护系统，其特征在于，维修辅助模块对第一维修人员进行维修辅助，还包括：确定第一维修人员是否符合外援需求时机条件；当符合时，获取第一维修人员对第一光纤故障进行维修的维修困难信息；获取维修困难信息的困难解决策略；将困难解决策略推送至智能终端；其中，外援需求时机条件包括：第一维修人员通过智能终端输入外援请求；或，最近第一预设时间内智能终端发生终端位置变化的第一时长大于等于预设的第一时长阈值，且最近第一预设时间内智能终端发生终端屏幕朝向变化的第二时长大于等于预设的第二时长阈值，且最近第一预设时间内智能终端未发生终端位置变化以及终端屏幕朝向变化的第三时长大于等于预设的第三时长阈值；或，目标权重和大于等于预设的权重和阈值；目标权重和为确定的维修进度异常在预设的异常权重库中对应的异常权重之和。9.如权利要求8所述的基于在线OTDR监测的双主路光纤自动切换保护系统，其特征在于，维修辅助模块获取第一维修人员对第一光纤故障进行维修的维修困难信息，包括：获取第一维修人员通过智能终端录制的求助视频；从求助视频内提取人声片段；基于人声片段，确定第一维修困难详情；从求助视频内提取画面切换时间；基于人声片段和画面切换时间，确定待提取视频画面时间区间；从求助视频中提取待提取视频画面时间区间对应的视频画面；基于视频画面，确定第二维修困难详情；将第一维修困难详情和第二维修困难详情合并作为维修困难信息；其中，基于人声片段和画面切换时间，确定待提取视频画面时间区间，包括：构建目标人声片段序列；目标人声片段序列中的两两人声片段的第一产生时间之间的时间差值小于等于预设的差值阈值，目标人声片段序列中的人声片段按第一产生时间先后排序；当画面切换时间位于目标人声片段序列中的人声片段的第一产生时间之间时，基于目标人声片段序列中的人声片段的最早的第一产生时间以及最晚的第一产生时间，确定待提取视频画面时间区间。10.如权利要求9所述的基于在线OTDR监测的双主路光纤自动切换保护系统，其特征在于，维修辅助模块基于人声片段，确定第一维修困难详情，包括：对人声片段进行语义提取，获得人声语义；从人声语义中确定符合第一语义条件的第一目标语义；从人声语义中确定符合第二语义条件的第二目标语义；基于第一目标语义和第二目标语义，确定第一维修困难详情；其中，第一语义条件包括：第一目标语义存在于预设的标准语义库中；或，第一目标语义的语义类型存在于预设的标准语义类型库中；其中，第二语义条件包括：提取出第一目标语义的人声片段的第三产生时间落入提取出第二目标语义的人声片段的第二产生时间前第二预设时长内；或，第三产生时间落入第二产生时间后第二预设时长内；或，第三产生时间落入第二产生时间前第三预设时长内且第三产生时间落入第二产生时间后第三预设时长内。
说明书desc
技术领域本发明涉及光纤自动切换保护技术领域，特别涉及基于在线OTDR监测的双主路光纤自动切换保护方法及系统。背景技术为了保证数据通过光纤传输的稳定性，需要实现光纤自动切换保护。在光纤自动切换保护体系中，多是设置两条光纤主路供同一数据传输任务执行使用，当其中一条在运行光纤主路出现故障时，切换至另一条备用光纤主路接替运行。但是，当切换至另一条备用光纤主路接替运行时，均是默认备用光纤主路能够供数据传输任务执行使用至出现故障的光纤主路维修完成时，没有考虑到备用光纤主路接替运行后在出现故障的光纤主路维修完成前也出现故障的情形，若这一情形发生，数据传输任务无法执行，降低了光纤自动切换保护的全面性和合理性。因此，亟需一种解决办法，以至少解决现有技术中的部分不足。发明内容本发明目的之一在于提供了基于在线OTDR监测的双主路光纤自动切换保护方法，在线OTDR监测第一光纤主路，当第一光纤主路出现故障时，切换至第二光纤主路接替运行，基于维修调度策略，调度第一维修人员对第一光纤故障进行维修，在线OTDR监测第二光纤主路，当第二光纤主路也出现故障时，基于补充维修调度策略，补充调度第二维修人员对第一光纤故障进行维修，加快第一光纤主路的维修进度，提升第一光纤主路的维修效率，使其尽快能够重新运行，尽可能保证数据传输任务的稳定执行，提升了光纤自动切换保护的全面性和合理性。本发明实施例提供的基于在线OTDR监测的双主路光纤自动切换保护方法，包括：在线OTDR监测在运行的第一光纤主路；当监测到符合预设的第一故障条件的第一光纤故障时，切换至备用的第二光纤主路接替运行；基于第一光纤故障对应的预设的维修调度策略，调度第一维修人员对第一光纤故障进行维修，并在线OTDR监测第二光纤主路；当监测到符合预设的第二故障条件的第二光纤故障时，基于第二光纤故障对应的预设的补充维修调度策略，补充调度第二维修人员对第一光纤故障进行维修；待第一光纤故障维修完成后，切换至第一光纤主路重新运行。优选的，基于在线OTDR监测的双主路光纤自动切换保护方法，还包括：当第一维修人员对第一光纤故障进行维修时，对第一维修人员进行维修辅助；其中，对第一维修人员进行维修辅助，包括：获取第一光纤故障的故障位置；将故障位置对应的预设的维修环境信息以及第一光纤故障对应的基础辅助信息推送至第一维修人员携带的智能终端；将预设的维修进度输入框推送至智能终端；当第一维修人员通过智能终端输入维修进度时，获取第一维修人员对第一光纤故障进行维修的维修时长；基于维修进度、维修时长以及第一光纤故障对应的预设的标准进度表，确定维修进度异常；将维修进度异常推送至智能终端。优选的，对第一维修人员进行维修辅助，还包括：确定第一维修人员是否符合外援需求时机条件；当符合时，获取第一维修人员对第一光纤故障进行维修的维修困难信息；获取维修困难信息的困难解决策略；将困难解决策略推送至智能终端；其中，外援需求时机条件包括：第一维修人员通过智能终端输入外援请求；或，最近第一预设时间内智能终端发生终端位置变化的第一时长大于等于预设的第一时长阈值，且最近第一预设时间内智能终端发生终端屏幕朝向变化的第二时长大于等于预设的第二时长阈值，且最近第一预设时间内智能终端未发生终端位置变化以及终端屏幕朝向变化的第三时长大于等于预设的第三时长阈值；或，目标权重和大于等于预设的权重和阈值；目标权重和为确定的维修进度异常在预设的异常权重库中对应的异常权重之和。优选的，获取第一维修人员对第一光纤故障进行维修的维修困难信息，包括：获取第一维修人员通过智能终端录制的求助视频；从求助视频内提取人声片段；基于人声片段，确定第一维修困难详情；从求助视频内提取画面切换时间；基于人声片段和画面切换时间，确定待提取视频画面时间区间；从求助视频中提取待提取视频画面时间区间对应的视频画面；基于视频画面，确定第二维修困难详情；将第一维修困难详情和第二维修困难详情合并作为维修困难信息；其中，基于人声片段和画面切换时间，确定待提取视频画面时间区间，包括：构建目标人声片段序列；目标人声片段序列中的两两人声片段的第一产生时间之间的时间差值小于等于预设的差值阈值，目标人声片段序列中的人声片段按第一产生时间先后排序；当画面切换时间位于目标人声片段序列中的人声片段的第一产生时间之间时，基于目标人声片段序列中的人声片段的最早的第一产生时间以及最晚的第一产生时间，确定待提取视频画面时间区间。优选的，基于人声片段，确定第一维修困难详情，包括：对人声片段进行语义提取，获得人声语义；从人声语义中确定符合第一语义条件的第一目标语义；从人声语义中确定符合第二语义条件的第二目标语义；基于第一目标语义和第二目标语义，确定第一维修困难详情；其中，第一语义条件包括：第一目标语义存在于预设的标准语义库中；或，第一目标语义的语义类型存在于预设的标准语义类型库中；其中，第二语义条件包括：提取出第一目标语义的人声片段的第三产生时间落入提取出第二目标语义的人声片段的第二产生时间前第二预设时长内；或，第三产生时间落入第二产生时间后第二预设时长内；或，第三产生时间落入第二产生时间前第三预设时长内且第三产生时间落入第二产生时间后第三预设时长内。本发明实施例提供的基于在线OTDR监测的双主路光纤自动切换保护系统，包括：监测模块，用于在线OTDR监测在运行的第一光纤主路；第一切换模块，用于当监测到符合预设的第一故障条件的第一光纤故障时，切换至备用的第二光纤主路接替运行；第一调度模块，用于基于第一光纤故障对应的预设的维修调度策略，调度第一维修人员对第一光纤故障进行维修，并在线OTDR监测第二光纤主路；第二调度模块，用于当监测到符合预设的第二故障条件的第二光纤故障时，基于第二光纤故障对应的预设的补充维修调度策略，补充调度第二维修人员对第一光纤故障进行维修；第二切换模块，用于待第一光纤故障维修完成后，切换至第一光纤主路重新运行。优选的，基于在线OTDR监测的双主路光纤自动切换保护系统，还包括：维修辅助模块，用于包括：当第一维修人员对第一光纤故障进行维修时，对第一维修人员进行维修辅助；其中，维修辅助模块对第一维修人员进行维修辅助，包括：获取第一光纤故障的故障位置；将故障位置对应的预设的维修环境信息以及第一光纤故障对应的基础辅助信息推送至第一维修人员携带的智能终端；将预设的维修进度输入框推送至智能终端；当第一维修人员通过智能终端输入维修进度时，获取第一维修人员对第一光纤故障进行维修的维修时长；基于维修进度、维修时长以及第一光纤故障对应的预设的标准进度表，确定维修进度异常；将维修进度异常推送至智能终端。优选的，维修辅助模块对第一维修人员进行维修辅助，还包括：确定第一维修人员是否符合外援需求时机条件；当符合时，获取第一维修人员对第一光纤故障进行维修的维修困难信息；获取维修困难信息的困难解决策略；将困难解决策略推送至智能终端；其中，外援需求时机条件包括：第一维修人员通过智能终端输入外援请求；或，最近第一预设时间内智能终端发生终端位置变化的第一时长大于等于预设的第一时长阈值，且最近第一预设时间内智能终端发生终端屏幕朝向变化的第二时长大于等于预设的第二时长阈值，且最近第一预设时间内智能终端未发生终端位置变化以及终端屏幕朝向变化的第三时长大于等于预设的第三时长阈值；或，目标权重和大于等于预设的权重和阈值；目标权重和为确定的维修进度异常在预设的异常权重库中对应的异常权重之和。优选的，维修辅助模块获取第一维修人员对第一光纤故障进行维修的维修困难信息，包括：获取第一维修人员通过智能终端录制的求助视频；从求助视频内提取人声片段；基于人声片段，确定第一维修困难详情；从求助视频内提取画面切换时间；基于人声片段和画面切换时间，确定待提取视频画面时间区间；从求助视频中提取待提取视频画面时间区间对应的视频画面；基于视频画面，确定第二维修困难详情；将第一维修困难详情和第二维修困难详情合并作为维修困难信息；其中，基于人声片段和画面切换时间，确定待提取视频画面时间区间，包括：构建目标人声片段序列；目标人声片段序列中的两两人声片段的第一产生时间之间的时间差值小于等于预设的差值阈值，目标人声片段序列中的人声片段按第一产生时间先后排序；当画面切换时间位于目标人声片段序列中的人声片段的第一产生时间之间时，基于目标人声片段序列中的人声片段的最早的第一产生时间以及最晚的第一产生时间，确定待提取视频画面时间区间。优选的，维修辅助模块基于人声片段，确定第一维修困难详情，包括：对人声片段进行语义提取，获得人声语义；从人声语义中确定符合第一语义条件的第一目标语义；从人声语义中确定符合第二语义条件的第二目标语义；基于第一目标语义和第二目标语义，确定第一维修困难详情；其中，第一语义条件包括：第一目标语义存在于预设的标准语义库中；或，第一目标语义的语义类型存在于预设的标准语义类型库中；其中，第二语义条件包括：提取出第一目标语义的人声片段的第三产生时间落入提取出第二目标语义的人声片段的第二产生时间前第二预设时长内；或，第三产生时间落入第二产生时间后第二预设时长内；或，第三产生时间落入第二产生时间前第三预设时长内且第三产生时间落入第二产生时间后第三预设时长内。本发明的其它特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点可通过在所写的说明书、权利要求书、以及附图中所特别指出的结构来实现和获得。下面通过附图和实施例，对本发明的技术方案做进一步的详细描述。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1为本发明实施例中基于在线OTDR监测的双主路光纤自动切换保护方法的示意图；图2为本发明实施例中基于在线OTDR监测的双主路光纤自动切换保护系统的示意图。具体实施方式以下结合附图对本发明的优选实施例进行说明，应当理解，此处所描述的优选实施例仅用于说明和解释本发明，并不用于限定本发明。本发明实施例提供了基于在线OTDR监测的双主路光纤自动切换保护方法，如图1所示，包括：步骤S1：在线OTDR监测在运行的第一光纤主路；步骤S2：当监测到符合预设的第一故障条件的第一光纤故障时，切换至备用的第二光纤主路接替运行；步骤S3：基于第一光纤故障对应的预设的维修调度策略，调度第一维修人员对第一光纤故障进行维修，并在线OTDR监测第二光纤主路；步骤S4：当监测到符合预设的第二故障条件的第二光纤故障时，基于第二光纤故障对应的预设的补充维修调度策略，补充调度第二维修人员对第一光纤故障进行维修；步骤S5：待第一光纤故障维修完成后，切换至第一光纤主路重新运行。该实施例中，第一光纤主路先运行用于进行数据传输；在线OTDR监测第一光纤主路时，远程获取与第一光纤主路对接的OTDR监测仪的监测结果，OTDR监测仪可以监测第一光纤主路的第一光纤故障；第一故障条件包括：代表第一光纤主路无法继续运行用于进行数据传输的故障条件，可由技术人员根据实际需求提前设置；在线OTDR监测第二光纤主路时，远程获取与第二光纤主路对接的OTDR监测仪的监测结果，OTDR监测仪可以监测第二光纤主路的第二光纤故障；维修调度策略包括：调度人员对第一光纤故障进行维修的策略，比如：调度哪一维修工种的人员前往进行维修，也可由技术人员根据实际需求提前设置；第二故障条件包括：代表第二光纤主路存在无法继续运行用于进行数据传输的可能性的故障条件，也可由技术人员根据实际需求提前设置；补充维修调度策略包括：补充调度人员对第一光纤故障进行维修的策略，比如：增加调度哪一维修工种的人员前往进行维修，也可由技术人员根据实际需求提前设置，一般的，第二光纤故障的故障严重程度越高，补充维修调度策略的补充调度力度越大，比如：调度更多的人员前往进行维修。在线OTDR监测第一光纤主路，当第一光纤主路出现故障时，切换至第二光纤主路接替运行，基于维修调度策略，调度第一维修人员对第一光纤故障进行维修，在线OTDR监测第二光纤主路，当第二光纤主路也出现故障时，基于补充维修调度策略，补充调度第二维修人员对第一光纤故障进行维修，加快第一光纤主路的维修进度，提升第一光纤主路的维修效率，使其尽快能够重新运行，尽可能保证数据传输任务的稳定执行，提升了光纤自动切换保护的全面性和合理性。在一个实施例中，基于在线OTDR监测的双主路光纤自动切换保护方法，还包括：当第一维修人员对第一光纤故障进行维修时，对第一维修人员进行维修辅助；其中，对第一维修人员进行维修辅助，包括：获取第一光纤故障的故障位置；将故障位置对应的预设的维修环境信息以及第一光纤故障对应的基础辅助信息推送至第一维修人员携带的智能终端；将预设的维修进度输入框推送至智能终端；当第一维修人员通过智能终端输入维修进度时，获取第一维修人员对第一光纤故障进行维修的维修时长；基于维修进度、维修时长以及第一光纤故障对应的预设的标准进度表，确定维修进度异常；将维修进度异常推送至智能终端。该实施例中，OTDR监测仪监测到第一光纤故障时，可进行故障定位，获得第一光纤故障的故障位置；维修环境信息包括：故障位置的光纤预埋工艺，可由技术人员根据实际需求提前设置；基础辅助信息包括：第一光纤故障的维修流程、维修必备工具清单等，也由技术人员根据实际需求提前设置；智能终端可以为：智能手机、作业记录仪等；将维修环境信息以及基础辅助信息推送至智能终端后，第一维修人员可以查看到，基于维修环境信息以及基础辅助信息提前规划作业流程，比如：挖土多深等；维修进度输入框为一信息输入框，用于供第一维修人员输入维修进度；维修时长从当第一维修人员通过智能终端输入开始维修指令时开始计时；标准进度表中有对第一光纤故障进行维修时的标准维修进度和对应的标准维修时长，将维修进度、维修时长与标准维修进度、标准维修时长进行比较，可以确定第一维修人员对第一光纤故障进行维修的滞后维修进度，作为维修进度异常；将维修进度异常推送至智能终端，第一维修人员可以查看到，得知自己的维修进度情况，合理安排接下来的维修速度，一定程度上提升了第一光纤故障的维修进度。在一个实施例中，对第一维修人员进行维修辅助，还包括：确定第一维修人员是否符合外援需求时机条件；当符合时，获取第一维修人员对第一光纤故障进行维修的维修困难信息；获取维修困难信息的困难解决策略；将困难解决策略推送至智能终端；其中，外援需求时机条件包括：第一维修人员通过智能终端输入外援请求；第一维修人员通过智能终端输入外援请求时，说明第一维修人员需要外援；或，最近第一预设时间内智能终端发生终端位置变化的第一时长大于等于预设的第一时长阈值，且最近第一预设时间内智能终端发生终端屏幕朝向变化的第二时长大于等于预设的第二时长阈值，且最近第一预设时间内智能终端未发生终端位置变化以及终端屏幕朝向变化的第三时长大于等于预设的第三时长阈值；第一预设时间可以为，比如：100秒；第一时长阈值可以为，比如：40秒；第二时长阈值可以为，比如：20秒；第三时长阈值可以为，比如：25秒；满足这一外援需求时机条件时，说明第一维修人员在现场内对智能终端进行摆放调整完成，智能终端摆放至能够供第一维修人员边查看边录制求助视频/进行维修作业的位置及角度，此时，第一维修人员需要外援；或，目标权重和大于等于预设的权重和阈值；目标权重和为确定的维修进度异常在预设的异常权重库中对应的异常权重之和。异常权重库中有不同维修进度异常对应的异常权重，异常权重越大，维修进度异常的异常严重程度越大；权重和阈值可以为，比如：180；符合这一外援需求时机条件时，说明维修人员的维修进度严重异常，此时，第一维修人员需要外援。该实施例中，当第一维修人员符合外援需求时机条件时，说明第一维修人员对第一光纤故障进行维修时出现维修困难，需要外援帮助；维修困难信息包括：第一维修人员对第一光纤故障进行维修时出现的维修困难的困难详情；困难解决策略包括：解决第一维修人员对第一光纤故障进行维修时出现的维修困难的策略，可由光纤维修专家远程制定等；将困难解决策略推送至智能终端，第一维修人员可以查看到，基于困难解决策略，对维修困难进行解决；光纤的维修作业大多是在户外且光纤维修的技术要求极高，因此，光纤维修的难度较大，维修人员很容易遇到维修困难；一般的，当维修人员遇到维修困难时，出于自身想尝试解决等因素，可能会耽误维修进度；因此，本发明实施例引入外援需求时机条件，精准、及时确定维修人员是否需要外援帮助，提升维修困难的解决及时性，提升光纤维修进度；其次，即使补充调度维修人员，补充调度的维修人员前往现场需要花费时间，因此，本发明实施例辅助先抵达现场的维修人员对光纤故障进行解决，提升了出现故障的主路光纤重新运行的进度。在一个实施例中，获取第一维修人员对第一光纤故障进行维修的维修困难信息，包括：获取第一维修人员通过智能终端录制的求助视频；从求助视频内提取人声片段；基于人声片段，确定第一维修困难详情；从求助视频内提取画面切换时间；基于人声片段和画面切换时间，确定待提取视频画面时间区间；从求助视频中提取待提取视频画面时间区间对应的视频画面；基于视频画面，确定第二维修困难详情；将第一维修困难详情和第二维修困难详情合并作为维修困难信息；其中，基于人声片段和画面切换时间，确定待提取视频画面时间区间，包括：构建目标人声片段序列；目标人声片段序列中的两两人声片段的第一产生时间之间的时间差值小于等于预设的差值阈值，目标人声片段序列中的人声片段按第一产生时间先后排序；当画面切换时间位于目标人声片段序列中的人声片段的第一产生时间之间时，基于目标人声片段序列中的人声片段的最早的第一产生时间以及最晚的第一产生时间，确定待提取视频画面时间区间。该实施例中，当第一维修人员进行维修困难求助时，通过智能终端录制求助视频，可以在求助视频内介绍现场情况、维修困难情况等；从求助视频内提取人声片段，基于人声片段的语义可以确定第一维修困难详情；画面切换时间为第一维修人员使用智能终端进行视频录制时的画面切换时间，比如：将镜头拍摄方向从前置到后置的时间；基于视频画面确定第二维修困难详情；将第一维修困难详情和第二维修困难详情合并作为维修困难信息；人声片段的第一产生时间为人声片段的开始产生时间；差值阈值可以为，比如：10秒；基于最早的第一产生时间以及最晚的第一产生时间，确定待提取视频画面时间区间时，将最早的第一产生时间以及最晚的第一产生时间分别作为待提取视频画面时间区间的区间边界；当第一维修人员在求助视频内介绍现场情况、维修困难情况等，均会分阶段进行介绍，因此，目标人声片段序列中的人声片段为同一阶段介绍，若画面切换时间位于目标人声片段序列中的人声片段的第一产生时间之间时时，说明第一维修在进行该阶段介绍时，进行了画面切换，比如：将镜头拍摄方向从前置到后置的时间，说明在进行该阶段介绍时，对应视频画面可用于确定维修困难详情，比如：第一维修人员先利用前置摄像头介绍身份，再利用后置摄像头拍摄现场画面，边拍摄边介绍维修困难，因此，拍摄的视频画面可用于确定维修困难详情。一般的，第一维修人员在现场可能会与同事进行交流，还会有其他无关附近人员的人声录入，因此，本发明实施例基于人声片段和画面切换时间，确定待提取视频画面时间区间，提取出对应视频画面确定第二维修困难详情，极大程度上提升了系统的适用性。在一个实施例中，基于人声片段，确定第一维修困难详情，包括：对人声片段进行语义提取，获得人声语义；从人声语义中确定符合第一语义条件的第一目标语义；从人声语义中确定符合第二语义条件的第二目标语义；基于第一目标语义和第二目标语义，确定第一维修困难详情；其中，第一语义条件包括：第一目标语义存在于预设的标准语义库中；或，第一目标语义的语义类型存在于预设的标准语义类型库中；其中，第二语义条件包括：提取出第一目标语义的人声片段的第三产生时间落入提取出第二目标语义的人声片段的第二产生时间前第二预设时长内；或，第三产生时间落入第二产生时间后第二预设时长内；或，第三产生时间落入第二产生时间前第三预设时长内且第三产生时间落入第二产生时间后第三预设时长内。该实施例中，标准语义为代表第一维修人员介绍现场情况、维修困难情况的语义，比如：“断接光缆搭接多次失败”等；当第一目标语义存在于标准语义库中时，说明第一目标语义可用于确定第一维修困难详情；标准语义类型为代表第一维修人员介绍现场情况、维修困难情况的语义的类型，比如：“维修工具不适配”等；当第一目标语义的语义类型存在于标准语义类型库中时，说明第一目标语义可用于确定第一维修困难详情；第二预设时长小于第三预设时长；第二预设时长可以为，比如：10秒；第三预设时长可以为，比如：20秒；当第三产生时间落入第二产生时间前第二预设时长内时，说明第二目标语义在代表第一维修人员介绍现场情况、维修困难情况的第一目标语义前不久产生，可能也代表第一维修人员介绍现场情况、维修困难情况，可用于确定第一维修困难详情；当第三产生时间落入第二产生时间后第二预设时长内时，说明第二目标语义在代表第一维修人员介绍现场情况、维修困难情况的第一目标语义后不久产生，可能也代表第一维修人员介绍现场情况、维修困难情况，可用于确定第一维修困难详情；当第三产生时间落入第二产生时间前第三预设时长内且第三产生时间落入第二产生时间后第三预设时长内时，说明第二目标语义可能与代表第一维修人员介绍现场情况、维修困难情况的第一目标语义共同代表第一维修人员介绍现场情况、维修困难情况的一个阶段，对应第二目标语义可用于确定第一维修困难详情；本发明实施例引入第一语义条件和第二语义条件，快速筛选可用于确定第一维修困难详情的第一目标语义和第二目标语义，降低了语义分析资源，提升了语义分析效率，极大程度上提升了第一维修困难详情确定的效率。本发明实施例提供了基于在线OTDR监测的双主路光纤自动切换保护系统，如图2所示，包括：监测模块1，用于在线OTDR监测在运行的第一光纤主路；第一切换模块2，用于当监测到符合预设的第一故障条件的第一光纤故障时，切换至备用的第二光纤主路接替运行；第一调度模块3，用于基于第一光纤故障对应的预设的维修调度策略，调度第一维修人员对第一光纤故障进行维修，并在线OTDR监测第二光纤主路；第二调度模块4，用于当监测到符合预设的第二故障条件的第二光纤故障时，基于第二光纤故障对应的预设的补充维修调度策略，补充调度第二维修人员对第一光纤故障进行维修；第二切换模块5，用于待第一光纤故障维修完成后，切换至第一光纤主路重新运行。基于在线OTDR监测的双主路光纤自动切换保护系统，还包括：维修辅助模块，用于包括：当第一维修人员对第一光纤故障进行维修时，对第一维修人员进行维修辅助；其中，维修辅助模块对第一维修人员进行维修辅助，包括：获取第一光纤故障的故障位置；将故障位置对应的预设的维修环境信息以及第一光纤故障对应的基础辅助信息推送至第一维修人员携带的智能终端；将预设的维修进度输入框推送至智能终端；当第一维修人员通过智能终端输入维修进度时，获取第一维修人员对第一光纤故障进行维修的维修时长；基于维修进度、维修时长以及第一光纤故障对应的预设的标准进度表，确定维修进度异常；将维修进度异常推送至智能终端。维修辅助模块对第一维修人员进行维修辅助，还包括：确定第一维修人员是否符合外援需求时机条件；当符合时，获取第一维修人员对第一光纤故障进行维修的维修困难信息；获取维修困难信息的困难解决策略；将困难解决策略推送至智能终端；其中，外援需求时机条件包括：第一维修人员通过智能终端输入外援请求；或，最近第一预设时间内智能终端发生终端位置变化的第一时长大于等于预设的第一时长阈值，且最近第一预设时间内智能终端发生终端屏幕朝向变化的第二时长大于等于预设的第二时长阈值，且最近第一预设时间内智能终端未发生终端位置变化以及终端屏幕朝向变化的第三时长大于等于预设的第三时长阈值；或，目标权重和大于等于预设的权重和阈值；目标权重和为确定的维修进度异常在预设的异常权重库中对应的异常权重之和。维修辅助模块获取第一维修人员对第一光纤故障进行维修的维修困难信息，包括：获取第一维修人员通过智能终端录制的求助视频；从求助视频内提取人声片段；基于人声片段，确定第一维修困难详情；从求助视频内提取画面切换时间；基于人声片段和画面切换时间，确定待提取视频画面时间区间；从求助视频中提取待提取视频画面时间区间对应的视频画面；基于视频画面，确定第二维修困难详情；将第一维修困难详情和第二维修困难详情合并作为维修困难信息；其中，基于人声片段和画面切换时间，确定待提取视频画面时间区间，包括：构建目标人声片段序列；目标人声片段序列中的两两人声片段的第一产生时间之间的时间差值小于等于预设的差值阈值，目标人声片段序列中的人声片段按第一产生时间先后排序；当画面切换时间位于目标人声片段序列中的人声片段的第一产生时间之间时，基于目标人声片段序列中的人声片段的最早的第一产生时间以及最晚的第一产生时间，确定待提取视频画面时间区间。维修辅助模块基于人声片段，确定第一维修困难详情，包括：对人声片段进行语义提取，获得人声语义；从人声语义中确定符合第一语义条件的第一目标语义；从人声语义中确定符合第二语义条件的第二目标语义；基于第一目标语义和第二目标语义，确定第一维修困难详情；其中，第一语义条件包括：第一目标语义存在于预设的标准语义库中；或，第一目标语义的语义类型存在于预设的标准语义类型库中；其中，第二语义条件包括：提取出第一目标语义的人声片段的第三产生时间落入提取出第二目标语义的人声片段的第二产生时间前第二预设时长内；或，第三产生时间落入第二产生时间后第二预设时长内；或，第三产生时间落入第二产生时间前第三预设时长内且第三产生时间落入第二产生时间后第三预设时长内。显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。
