标题title
基于贝叶斯优化设计滤波器参数的方法、系统及相关设备
摘要abst
本发明适用于滤波器优化设计技术领域，尤其涉及一种基于贝叶斯优化设计滤波器参数的方法、系统及相关设备，所述方法包括以下步骤：根据需要优化的声表面波滤波器的参数构建优化模型，并基于所述优化模型对所述参数进行优化计算，得到优化参数；构建基于贝叶斯优化方法的预设优化算法；以所述优化参数作为所述预设优化算法的输入进行迭代计算，得到所述参数对应的参数优化结果。本发明相较于现有技术，使用HCT‑FEM方法代替COM模型来计算滤波器的参数，提高了IDT根数少时的滤波器参数的计算精度，另外，在参数优化过程中使用贝叶斯优化方法，避免了梯度优化依赖初值、及全局优化优化效率低下的问题，提高了参数优化过程的迭代速度。
权利要求书clms
1.一种基于贝叶斯优化设计滤波器参数的方法，其特征在于，所述方法包括以下步骤：S101、根据需要优化的声表面波滤波器的参数构建优化模型，并基于所述优化模型对所述参数进行优化计算，得到优化参数；S102、构建基于贝叶斯优化方法的预设优化算法；S103、以所述优化参数作为所述预设优化算法的输入进行迭代计算，得到所述参数对应的参数优化结果。2.如权利要求1所述的基于贝叶斯优化设计滤波器参数的方法，其特征在于，所述优化模型满足以下关系式：Min IL；s.t. lb≤x≤ub；G≤0；其中，IL表示所述声表面波滤波器的插损，x表示所述参数，lb和ub分别表示所述参数的下限和上限，G表示所述声表面波滤波器的预设附加参数。3.如权利要求2所述的基于贝叶斯优化设计滤波器参数的方法，其特征在于，所述预设优化算法包括以下子步骤：S1021、确定用于所述预设优化算法的所述参数的计算样本；S1022、调用HCT-FEM方法计算所述声表面波滤波器的参数变量，所述参数变量包括所述插损IL和所述预设附加参数G；S1023、以所述计算样本和所述参数变量为函数建立代理函数；S1024、采用预设求解算法计算所述代理函数中所述计算样本的最小值；S1025、判断所述预设优化算法的迭代是否达到预设阈值：若是，输出所述最小值作为所述参数的最优解；若否，调用HCT-FEM方法计算所述最小值对应的所述参数变量，使迭代次数加1，再返回步骤S1022。4.如权利要求3所述的基于贝叶斯优化设计滤波器参数的方法，其特征在于，步骤S1021具体为：根据拉丁超立方采样在所述参数的下限lb和上限ub之间进行分层取样，以生成所述计算样本。5.如权利要求3所述的基于贝叶斯优化设计滤波器参数的方法，其特征在于，步骤S1023还包括步骤：利用EI采集函数计算得到用于加入所述计算样本的新样本的点的位置，并根据点的位置更新所述代理函数。6.如权利要求3所述的基于贝叶斯优化设计滤波器参数的方法，其特征在于，所述代理函数为高斯过程回归模型。7.如权利要求3所述的基于贝叶斯优化设计滤波器参数的方法，其特征在于，所述预设求解算法为遗传算法。8.一种基于贝叶斯优化设计滤波器参数的系统，其特征在于，包括：参数建模模块，用于根据需要优化的声表面波滤波器的参数构建优化模型，并基于所述优化模型对所述参数进行优化计算，得到优化参数；贝叶斯建模模块，用于构建基于贝叶斯优化方法的预设优化算法；贝叶斯优化模块，用于以所述优化参数作为所述预设优化算法的输入进行迭代计算，得到所述参数对应的参数优化结果。9.一种计算机设备，其特征在于，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如权利要求1-7中任意一项所述的基于贝叶斯优化设计滤波器参数的方法中的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1-7中任意一项所述的基于贝叶斯优化设计滤波器参数的方法中的步骤。
说明书desc
技术领域本发明适用于滤波器优化设计技术领域，尤其涉及一种基于贝叶斯优化设计滤波器参数的方法、系统及相关设备。背景技术声表面波滤波器凭借其小型化、低成本、高选择性等特点，成为了手机等电子产品中不可或缺的元件。设计SAW滤波器需要仿真工具，通常需要借助MBVD等效电路模型，COM模型及基于层次级联的有限元方法进行仿真。在射频Rx频段中需要低插损和高带外抑制滤波器，这种类型的滤波器中包括DMS谐振器和梯形谐振器，而等效电路模型无法进行DMS谐振器的仿真，因此在仿真过程中需要结合COM模型进行仿真，COM模型通常仿真速度以秒为单位，但是COM模型对于根数较少的IDT谐振器仿真精度较差，这大量制约了设计流片速度；针对此问题，相关技术使用HCT-FEM进行滤波器的仿真，该方法通常以分钟为单位，改善了仿真精度，提高了设计流片速度。但是即使HCT-FEM方法的速度已经较普通的有限元方法快了不少，但依然无法满足梯度优化算法的需求，这是因为梯度优化算法非常依赖DMS谐振器几何参数的初值，且无解析的梯度，因此需要有限差分计算梯度，当用有限差分计算梯度时，需要调用多次HCT-FEM，基于全局优化十分受限于优化变量的个数，通常结合HCT-FEM方法，而谐振器的变量在30个左右时，需要调用约5000次HCT-FEM进行计算，多次调用的过程严重地制约了仿真的整体效率。发明内容本发明提供一种基于贝叶斯优化设计滤波器参数的方法、系统及相关设备，旨在解决现有技术基于COM模型的滤波器参数仿真精度差、迭代速度慢的技术问题。为解决上述技术问题，第一方面，本发明提供一种基于贝叶斯优化设计滤波器参数的方法，所述方法包括以下步骤：S101、根据需要优化的声表面波滤波器的参数构建优化模型，并基于所述优化模型对所述参数进行优化计算，得到优化参数；S102、构建基于贝叶斯优化方法的预设优化算法；S103、以所述优化参数作为所述预设优化算法的输入进行迭代计算，得到所述参数对应的参数优化结果。更进一步地，所述优化模型满足以下关系式：Min IL；s.t. lb≤x≤ub；G≤0；其中，IL表示所述声表面波滤波器的插损，x表示所述参数，lb和ub分别表示所述参数的下限和上限，G表示所述声表面波滤波器的预设附加参数。更进一步地，所述预设优化算法包括以下子步骤：S1021、确定用于所述预设优化算法的所述参数的计算样本；S1022、调用HCT-FEM方法计算所述声表面波滤波器的参数变量，所述参数变量包括所述插损IL和所述预设附加参数G；S1023、以所述计算样本和所述参数变量为函数建立代理函数；S1024、采用预设求解算法计算所述代理函数中所述计算样本的最小值；S1025、判断所述预设优化算法的迭代是否达到预设阈值：若是，输出所述最小值作为所述参数的最优解；若否，调用HCT-FEM方法计算所述最小值对应的所述参数变量，使迭代次数加1，再返回步骤S1022。更进一步地，步骤S1021具体为：根据拉丁超立方采样在所述参数的下限lb和上限ub之间进行分层取样，以生成所述计算样本。更进一步地，步骤S1023还包括步骤：利用EI采集函数计算得到用于加入所述计算样本的新样本的点的位置，并根据点的位置更新所述代理函数。更进一步地，所述代理函数为高斯过程回归模型。更进一步地，所述预设求解算法为遗传算法。第二方面，本发明还提供一种基于贝叶斯优化设计滤波器参数的系统，包括：参数建模模块，用于根据需要优化的声表面波滤波器的参数构建优化模型，并基于所述优化模型对所述参数进行优化计算，得到优化参数；贝叶斯建模模块，用于构建基于贝叶斯优化方法的预设优化算法；贝叶斯优化模块，用于以所述优化参数作为所述预设优化算法的输入进行迭代计算，得到所述参数对应的参数优化结果。第三方面，本发明还提供一种计算机设备，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上述实施例中任意一项所述的基于贝叶斯优化设计滤波器参数的方法中的步骤。第四方面，本发明还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如上述实施例中任意一项所述的基于贝叶斯优化设计滤波器参数的方法中的步骤。本发明所达到的有益效果，在于提出了一种基于贝叶斯优化设计滤波器参数的方法，该方法相较于现有技术，使用HCT-FEM方法代替COM模型来计算滤波器的参数，提高了IDT根数少时的滤波器参数的计算精度，另外，在参数优化过程中使用贝叶斯优化方法，代替现有技术的梯度优化及全局优化方法，避免了梯度优化依赖初值、及全局优化优化效率低下的问题，提高了参数优化过程的迭代速度。附图说明图1是本发明实施例提供的基于贝叶斯优化设计滤波器参数的方法的步骤流程框图；图2是本发明实施例构建的基于贝叶斯优化方法的预设优化算法的流程示意图；图3是本发明实施例提供的参数优化结果示意图；图4是本发明实施例提供的基于贝叶斯优化设计滤波器参数的系统的结构示意图；图5是本发明实施例提供的计算机设备的结构示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。请参照图1，图1是本发明实施例提供的基于贝叶斯优化设计滤波器参数的方法的步骤流程框图，所述方法包括以下步骤：S101、根据需要优化的声表面波滤波器的参数构建优化模型，并基于所述优化模型对所述参数进行优化计算，得到优化参数。具体的，本发明构建的所述优化模型用于对包含Ladder型滤波器和DMS型滤波器在内的声表面波器件进行导纳计算。所述优化模型满足以下关系式：Min IL；s.t. lb≤x≤ub；G≤0；其中，IL表示所述声表面波滤波器的插损，x表示所述参数，lb和ub分别表示所述参数的下限和上限，G表示所述声表面波滤波器的预设附加参数。所述参数包括周期长度、金属化率、孔径、间距、根数的其中至少一种。示例性的，对于Ladder型滤波器，具体的参数包括 n*Pitch、Duty、W、Gap、N_IDT；而对于DMS型滤波器，具体的参数包括每个IDT的Pitch、Duty，以及IDT之间的反射栅的gap，对于一些特殊结构的器件，例如渐变的DMS型滤波器，还会涉及到渐变根数，渐变部分的pitch等几何信息。所述预设附加参数包括对应所述参数x的纹波、驻波比、指定通带带外抑制等信息，实际实施过程中，其中的变量x通过乘以负号的形式将限制统一变为小于等于0。S102、构建基于贝叶斯优化方法的预设优化算法。具体的，请参照图2，图2是本发明实施例构建的基于贝叶斯优化方法的预设优化算法的流程示意图，贝叶斯优化是一种使用贝叶斯定理来指导搜索以找到目标函数的最小值或最大值的方法，主要用来解决的黑盒优化问题，在本发明实施例中，以所述计算样本作为贝叶斯优化的超参数x，对应的所述预设附加参数G为超参数y，其目的在于计算出未知的关于x、y的函数，从而计算得到超参数x中的最小值。所述预设优化算法包括以下子步骤：S1021、确定用于所述预设优化算法的所述参数的计算样本。步骤S1021具体为：根据拉丁超立方采样在所述参数的下限lb和上限ub之间进行分层取样，以生成所述计算样本。拉丁超立方采样是一种较少迭代次数的抽样方法，相较于蒙特卡罗抽样等方法，拉丁超立方采样在抽样过程中能够保持变量间的独立性，且能够确保偏远事件在输出中能够被准确地体现，提高了抽样效率。本发明实施例基于拉丁超立方采样在所述参数的下限lb和上限ub之间进行分层取样，能够在预先设计的声表面波滤波器的参数中提取出更具代表性的数据，以便于后续贝叶斯优化的参数控制。S1022、调用HCT-FEM方法计算所述声表面波滤波器的参数变量，所述参数变量包括所述插损IL和所述预设附加参数G。具体的，如图2所示，所述计算样本作为贝叶斯优化过程中的参数x，其与步骤S101中声表面波滤波器的参数x是一致的，对应的，贝叶斯优化过程中的参数y为步骤S101中声表面波滤波器的所述预设附加参数G，在单次的计算过程中，IL和G均可以通过HCT-FEM方法计算得到，此时，HCT-FEM方法对每一所述参数分别进行优化计算，并将分别计算的结果进行转化和级联，得到对应的导纳参数，将导纳参数转化为散射参数，最后将对所有器件的散射参数进行级联，得到完整的所述声表面波滤波器的所述优化参数。S1023、以所述计算样本和所述参数变量为函数建立代理函数。S1023还包括步骤：利用EI采集函数计算得到用于加入所述计算样本的新样本的点的位置，并根据点的位置更新所述代理函数。在贝叶斯优化过程中，目标函数是未知的，因此需要通过构建代理函数来预先拟合出需要的曲线，本发明实施例中，所述代理函数为高斯过程回归模型。基于代理函数，可以在计算过程中在可能是最小值的点附近通过EI采集函数计算采集更多的点，或者在还没有采样过的区域来采集更多的点，并根据采集的点的位置依次更新代理函数的表达式，使其更接近目标函数的实际表达式。S1024、采用预设求解算法计算所述代理函数中所述计算样本的最小值。为了提高计算效率，本发明实施例在更新代理函数的过程中使用所述预设求解算法来提高计算效率，所述预设求解算法为遗传算法。在一种可能的实施方式中，步骤S1024还可以通过机器学习等依靠计算能力的方式进行，从而加快更新代理函数的速度。S1025、判断所述预设优化算法的迭代是否达到预设阈值：若是，输出所述最小值作为所述参数的最优解；若否，调用HCT-FEM方法计算所述最小值对应的所述参数变量），使迭代次数加1，再返回步骤S1022。S103、以所述优化参数作为所述预设优化算法的输入进行迭代计算，得到所述参数对应的参数优化结果。示例性的，本发明实施例根据上述方法，以normal-saw工艺，42°Y-X LiTaO3衬底设计band2028滤波器，采用3个Ladder谐振器加1个DMS谐振器，其中DMS谐振器包含多个根数较少的IDT，最终得到的参数优化结果如图3所示，图3通过S参数来体现了优化结果，其中，S21表示正向传输系数，S11表示滤波器中端口匹配时的反射系数，通过不断的迭代计算，根据图3曲线得到的最优的参数值为IL = 2.0db，vswr =1.7，带外抑制0.748，0.832Ghz处的噪声值为-30db。也就是说本发明实施例提出的优化方法能够很好地得到需要的滤波器参数，且在实际使用过程中结合贝叶斯优化方法，调用HCT-FEM方法的次数从千次级别降低到百次级别。本发明所达到的有益效果，在于提出了一种基于贝叶斯优化设计滤波器参数的方法，该方法相较于现有技术，使用HCT-FEM方法代替COM模型来计算滤波器的参数，提高了IDT根数少时的滤波器参数的计算精度，另外，在参数优化过程中使用贝叶斯优化方法，代替现有技术的梯度优化及全局优化方法，避免了梯度优化依赖初值、及全局优化优化效率低下的问题，提高了参数优化过程的迭代速度。本发明实施例还提供一种基于贝叶斯优化设计滤波器参数的系统200，请参照图4，图4是本发明实施例提供的基于贝叶斯优化设计滤波器参数的系统的结构示意图，其包括：参数建模模块201，用于根据需要优化的声表面波滤波器的参数构建优化模型，并基于所述优化模型对所述参数进行优化计算，得到优化参数；贝叶斯建模模块202，用于构建基于贝叶斯优化方法的预设优化算法；贝叶斯优化模块203，用于以所述优化参数作为所述预设优化算法的输入进行迭代计算，得到所述参数对应的参数优化结果。其中，所述优化模型满足以下关系式：Min IL；s.t. lb≤x≤ub；G≤0；IL表示所述声表面波滤波器的插损，x表示所述参数，lb和ub分别表示所述参数的下限和上限，G表示所述声表面波滤波器的预设附加参数所述预设优化算法具体为：确定用于所述预设优化算法的所述参数的计算样本；该步骤具体根据拉丁超立方采样在所述参数的上限lb和下限ub之间进行分层取样，以生成所述计算样本调用HCT-FEM方法计算所述声表面波滤波器的参数变量，所述参数变量包括所述插损IL和所述预设附加参数G；以所述计算样本和所述参数变量为函数建立代理函数，所述代理函数为高斯过程回归模型；利用EI采集函数计算得到用于加入所述计算样本的新样本的点的位置，并根据点的位置更新所述代理函数；采用预设求解算法计算所述代理函数中所述计算样本的最小值；所述预设求解算法为遗传算法；判断所述预设优化算法的迭代是否达到预设阈值：若是，输出所述最小值作为所述参数的最优解；若否，调用HCT-FEM方法计算所述最小值对应的所述参数变量，使迭代次数加1，再返回调用HCT-FEM方法计算所述声表面波滤波器的参数变量的步骤。所述基于贝叶斯优化设计滤波器参数的系统200能够实现如上述实施例中的基于贝叶斯优化设计滤波器参数的方法中的步骤，且能实现同样的技术效果，参上述实施例中的描述，此处不再赘述。本发明实施例还提供一种计算机设备，请参照图5，图5是本发明实施例提供的计算机设备的结构示意图，所述计算机设备300包括：存储器302、处理器301及存储在所述存储器302上并可在所述处理器301上运行的计算机程序。所述处理器301调用所述存储器302存储的计算机程序，执行本发明实施例提供的基于贝叶斯优化设计滤波器参数的方法中的步骤，请结合图1，具体包括以下步骤：S101、根据需要优化的声表面波滤波器的参数构建优化模型，并基于所述优化模型对所述参数进行优化计算，得到优化参数。所述优化模型满足以下关系式：Min IL；s.t. lb≤x≤ub；G≤0；其中，IL表示所述声表面波滤波器的插损，x表示所述参数，lb和ub分别表示所述参数的下限和上限，G表示所述声表面波滤波器的预设附加参数。S102、构建基于贝叶斯优化方法的预设优化算法。所述预设优化算法包括以下子步骤：S1021、确定用于所述预设优化算法的所述参数的计算样本。S1022、调用HCT-FEM方法计算所述声表面波滤波器的参数变量，所述参数变量包括所述插损IL和所述预设附加参数G。S1023、以所述计算样本和所述参数变量为函数建立代理函数。所述代理函数为高斯过程回归模型。S1024、采用预设求解算法计算所述代理函数中所述计算样本的最小值。所述预设求解算法为遗传算法。S1025、判断所述预设优化算法的迭代是否达到预设阈值：若是，输出所述最小值作为所述参数的最优解；若否，调用HCT-FEM方法计算所述最小值对应的所述参数变量，使迭代次数加1，返回步骤S1022。其中，步骤S1021具体为：根据拉丁超立方采样在所述参数的下限lb和上限ub之间进行分层取样，以生成所述计算样本。步骤S1023还包括步骤：利用EI采集函数计算得到用于加入所述计算样本的新样本的点的位置，并根据点的位置更新所述代理函数。S103、以所述优化参数作为所述预设优化算法的输入进行迭代计算，得到所述参数对应的参数优化结果。本发明实施例提供的计算机设备300能够实现如上述实施例中的基于贝叶斯优化设计滤波器参数的方法中的步骤，且能实现同样的技术效果，参上述实施例中的描述，此处不再赘述。本发明实施例还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，该计算机程序被处理器执行时实现本发明实施例提供的基于贝叶斯优化设计滤波器参数的方法中的各个过程及步骤，且能实现相同的技术效果，为避免重复，这里不再赘述。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，所述的存储介质可为磁碟、光盘、只读存储记忆体或随机存取存储器等。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者装置不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者装置所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者装置中还存在另外的相同要素。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端执行本发明各个实施例所述的方法。上面结合附图对本发明的实施例进行了描述，所揭露的仅为本发明较佳实施例而已，但是本发明并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本发明的启示下，在不脱离本发明宗旨和权利要求所保护的范围情况下，还可做出很多形式用等同变化，均属于本发明的保护之内。
