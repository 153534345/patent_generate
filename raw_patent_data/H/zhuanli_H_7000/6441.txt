标题title
电容式接近传感器电路
摘要abst
本申请涉及传感器领域，包括电容式接近传感器电路，包括电源单元和感应片，还包括依次级联的振荡单元、检波单元和判别单元：振荡单元，用于根据靠近感应片的金属的距离长度，产生与所述距离长度对应的振幅的正弦波形；检波单元，用于对所述正弦波形检波，从而得到与所述距离长度对应的幅度的直流电平；判别单元，用于将所述直流电平与预设置电压阈值比较，获取所述距离长度是否在第一阈值范围内的判别信号。本申请具有能够更好地解决金属物体靠近感应片时，传感器电路发出提示信号不稳定的问题；能够解决在‑25℃~70℃范围内，温度变化导致的振荡单元输出振荡信号幅度变化的问题的效果。
权利要求书clms
1.一种电容式接近传感器电路，包括电源单元和感应片，其特征在于，还包括依次级联的振荡单元、检波单元和判别单元：振荡单元，用于根据靠近感应片的金属的距离长度，产生与所述距离长度对应的振幅的正弦波形；检波单元，用于对所述正弦波形检波，从而得到与所述距离长度对应的幅度的直流电平；判别单元，用于将所述直流电平与预设置电压阈值比较，获取所述距离长度是否在第一阈值范围内的判别信号。2.根据权利要求1所述的电容式接近传感器电路，其特征在于：所述振荡单元，包括：第一电阻R1、第二电阻R2、第三电阻R3、第六电阻R6、第七电阻R7、可变电阻VR1、第一三极管Q1、第二三极管Q2和第一电容C1；所述感应片，连接有第一导线L1和第二导线L2；所述第一导线L1连接第二三极管Q2的发射极，所述第二三极管Q2的集电极连接所述电源单元，所述第二三极管Q2的集电极还通过第二电阻R2连接到第一三极管Q1的集电极；第一三极管Q1的基极通过第三电阻R3连接到所述第一导线L1，所述第一三极管Q1的发射极通过第一电阻R1连接到接地端GND；所述第一三极管Q1的基极还与第二导线L2连接；所述第二三极管Q2的发射极通过可变电阻VR1连接到第一电容C1的一端；所述第一电容C1的一端通过串联的第六电阻R6和第七电阻R7连接到接地端GND，所述第一电容C1的另一端与第一三极管Q1的发射极连接。3.根据权利要求2所述的电容式接近传感器电路，其特征在于，还包括：温度补偿单元，用于弥补在温度变化时导致的振荡单元的正弦波形的振幅的变化；所述温度补偿单元，包括：并联在一起的第四电阻R4和第五电阻R5；所述第五电阻R5为负温度系数热敏电阻；所述第四电阻R4的一端与所述第二三极管Q2的发射极连接，所述第四电阻R4的另一端与可变电阻VR1的一端连接。4.根据权利要求1所述的电容式接近传感器电路，其特征在于，所述检波单元，包括：检波器Q3和滤波器；所述检波器Q3，用于将所述振荡单元输出的正弦波形中的负压波形反向输出，与正压波形拼接在一起形成均为正压的振荡波形；所述滤波器，用于将所述均为正压的振荡波形中的高频成分滤除，输出直流电平。5.根据权利要求4所述的电容式接近传感器电路，其特征在于，所述检波器Q3，包括：第一二极管Q31、第二二极管Q32和第八电阻R8；所述第一二极管Q31的阳极和第二二极管Q32的阴极均与所述振荡单元的输出端连接；所述第一二极管Q31的阴极与第八电阻R8的一端连接，所述第二二极管Q32的阳极与第八电阻R8的另一端连接，所述第八电阻R8的另一端连接接地端GND；所述滤波器，包括第九电阻R9和第三电容C3；所述第九电阻R9的一端与所述第八电阻R8的一端连接，所述第九电阻R9的另一端通过第三电容C3连接到接地端GND；所述第九电阻R9的另一端还与所述判别单元的输入端连接。6.根据权利要求1所述的电容式接近传感器电路，其特征在于，所述判别单元，包括级联在一起的第一比较器和放大器；所述第一比较器，用于当所述直流电平超出所述预设电压阈值时，输出的高电平会跳变为低电平，当所述直流电平低于所述预设电压阈值时，输出的低电平会跳变为高电平；所述放大器，用于放大所述第一比较器的输出。7.根据权利要求6所述的电容式接近传感器电路，其特征在于，所述第一比较器，包括：第一运算放大器U1、第十电阻R10和第十一电阻R11；所述第一运算放大器U1的反相输入端与所述检波单元的输出端连接，所述第一运算放大器U1的正相输入端通过第十电阻R10连接到电源单元，还通过第十一电阻R11连接到接地端GND；所述放大器，包括：第二运算放大器U2和第十三电阻R13；所述第二运算放大器U2的反相输入端与所述第一运算放大器U1的输出端连接，所述第二运算放大器U2的正相输入端与所述第一运算放大器U1的正相输入端连接；所述第二运算放大器U2的输出端通过第十三电阻R13输出高电平或低电平。8.根据权利要求7所述的电容式接近传感器电路，其特征在于，还包括第十二电阻R12；所述第十二电阻R12一端连接第一运算放大器U1的输出端，所述第十二电阻R12的另一端连接所述第一运算放大器U1的正相输入端；所述第一比较器和第十二电阻R12构成迟滞比较器；所述迟滞比较器，用于当所述直流电平在所述预设电压阈值的上下一定范围内波动时，输出的高电平不会跳变为低电平，或者，输出的低电平不会跳变为高电平；当所述直流电平超出所述预设电压阈值的上下一定范围时，输出的高电平会跳变为低电平，或者输出的低电平会跳变为高电平。9.根据权利要求1所述的电容式接近传感器电路，其特征在于，还包括与所述判别单元的输出连接的开关单元；所述开关单元，用于当所述判别单元输出高电平时，输出导通信号，当所述判别单元输出低电平时，不输出导通信号。10.根据权利要求9所述的电容式接近传感器电路，其特征在于，所述开关单元，包括：第四三极管Q4、第十四电阻R14、第十五电阻R15和第一稳压二极管D1；所述第四三极管Q4的基极与所述判别单元的输出端连接，所述第四三极管Q4的发射极通过第十四电阻R14连接到接地端GND，所述第四三极管Q4的集电极通过第一稳压二极管D1连接到接地端GND，并且所述第四三极管Q4的集电极通过第十五电阻R15输出导通信号或不导通信号。
说明书desc
技术领域本申请涉及传感器领域，尤其是涉及一种电容式接近传感器电路。背景技术目前，针对设备内金属工件进行检测或定位是常有的技术手段。例如：检测流水线上铝罐、流水线卡板的定位、门开闭状态。对于金属物体距离的探测，存在一个应差距离的问题，即当金属物体靠近检测电路的时候，如果两者的距离处于检测电路能检测的距离范围左右的时候，检测电路会反复的发出提示信号；显然，出现这种情况不是我们需要的，也是亟待我们解决的技术问题。发明内容为了解决检测电路反复发出提示信号的技术问题，本申请提供了一种传感器电路。本申请提供的一种传感器电路采用如下的技术方案：第一方面，提供一种电容式接近传感器电路，包括电源单元和感应片，还包括依次级联的振荡单元、检波单元和判别单元：振荡单元，用于根据靠近感应片的金属的距离长度，产生与所述距离长度对应的振幅的正弦波形；检波单元，用于对所述正弦波形检波，从而得到与所述距离长度对应的幅度的直流电平；判别单元，用于将所述直流电平与预设置电压阈值比较，获取所述距离长度是否在第一阈值范围内的判别信号。优选的，所述振荡单元，包括：第一电阻R1、第二电阻R2、第三电阻R3、第六电阻R6、第七电阻R7、可变电阻VR1、第一三极管Q1、第二三极管Q2和第一电容C1；所述感应片，连接有第一导线L1和第二导线L2；所述第一导线L1连接第二三极管Q2的发射极，所述第二三极管Q2的集电极连接所述电源单元，所述第二三极管Q2的集电极还通过第二电阻R2连接到第一三极管Q1的集电极；第一三极管Q1的基极通过第三电阻R3连接到所述第一导线L1，所述第一三极管Q1的发射极通过第一电阻R1连接到接地端GND；所述第一三极管Q1的基极还与第二导线L2连接；所述第二三极管Q2的发射极通过可变电阻VR1连接到第一电容C1的一端；所述第一电容C1的一端通过串联的第六电阻R6和第七电阻R7连接到接地端GND，所述第一电容C1的另一端与第一三极管Q1的发射极连接。优选的，还包括：温度补偿单元，用于弥补在温度变化时导致的振荡单元的正弦波形的振幅的变化；所述温度补偿单元，包括：并联在一起的第四电阻R4和第五电阻R5；所述第五电阻R5为负温度系数热敏电阻；所述第四电阻R4的一端与所述第二三极管Q2的发射极连接，所述第四电阻R4的另一端与可变电阻VR1的一端连接。优选的，所述检波单元，包括：检波器Q3和滤波器；所述检波器Q3，用于将所述振荡单元输出的正弦波形中的负压波形反向输出，与正压波形拼接在一起形成均为正压的振荡波形；所述滤波器，用于将所述均为正压的振荡波形中的高频成分滤除，输出直流电平。优选的，所述检波器Q3，包括：第一二极管Q31、第二二极管Q32和第八电阻R8；所述第一二极管Q31的阳极和第二二极管Q32的阴极均与所述振荡单元的输出端连接；所述第一二极管Q31的阴极与第八电阻R8的一端连接，所述第二二极管Q32的阳极与第八电阻R8的另一端连接，所述第八电阻R8的另一端连接接地端GND；所述滤波器，包括第九电阻R9和第三电容C3；所述第九电阻R9的一端与所述第八电阻R8的一端连接，所述第九电阻R9的另一端通过第三电容C3连接到接地端GND；所述第九电阻R9的另一端还与所述判别单元的输入端连接。优选的，所述判别单元，包括级联在一起的第一比较器和放大器；所述第一比较器，用于当所述直流电平超出所述预设电压阈值时，输出的高电平会跳变为低电平，当所述直流电平低于所述预设电压阈值时，输出的低电平会跳变为高电平；所述放大器，用于放大所述第一比较器的输出。优选的，所述第一比较器，包括：第一运算放大器U1、第十电阻R10和第十一电阻R11；所述第一运算放大器U1的反相输入端与所述检波单元的输出端连接，所述第一运算放大器U1的正相输入端通过第十电阻R10连接到电源单元，还通过第十一电阻R11连接到接地端GND；所述放大器，包括：第二运算放大器U2和第十三电阻R13；所述第二运算放大器U2的反相输入端与所述第一运算放大器U1的输出端连接，所述第二运算放大器U2的正相输入端与所述第一运算放大器U1的正相输入端连接；所述第二运算放大器U2的输出端通过第十三电阻R13输出高电平或低电平。优选的，还包括第十二电阻R12；所述第十二电阻R12一端连接第一运算放大器U1的输出端，所述第十二电阻R12的另一端连接所述第一运算放大器U1的正相输入端；所述第一比较器和第十二电阻R12构成迟滞比较器；所述迟滞比较器，用于当所述直流电平在所述预设电压阈值的上下一定范围内波动时，输出的高电平不会跳变为低电平，或者，输出的低电平不会跳变为高电平；当所述直流电平超出所述预设电压阈值的上下一定范围时，输出的高电平会跳变为低电平，或者输出的低电平会跳变为高电平。优选的，还包括与所述判别单元的输出连接的开关单元；所述开关单元，用于当所述判别单元输出高电平时，输出导通信号，当所述判别单元输出低电平时，不输出导通信号。优选的，所述开关单元，包括：第四三极管Q4、第十四电阻R14、第十五电阻R15和第一稳压二极管D1；所述第四三极管Q4的基极与所述判别单元的输出端连接，所述第四三极管Q4的发射极通过第十四电阻R14连接到接地端GND，所述第四三极管Q4的集电极通过第一稳压二极管D1连接到接地端GND，并且所述第四三极管Q4的集电极通过第十五电阻R15输出导通信号或不导通信号。综上所述，本申请包括以下至少一种有益技术效果：1.能够更好地解决金属物体靠近感应片时，电容式接近传感器电路发出提示信号不稳定的问题；2.能够解决在-25℃~70℃范围内，温度变化导致的振荡单元输出振荡信号幅度变化的问题。附图说明图1是电容式接近传感器电路的构成逻辑框图；图2是振荡单元的构成图；图3是温度补偿单元的构成图；图4是电容式接近传感器电路的具体构成图。附图标记说明：1、振荡单元；2、检波单元；3、判别单元；4、电源单元；5、感应片；6、温度补偿单元；7、开关单元；8、滤波器；9、迟滞比较器。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图1-附图4及实施例，对本申请进行进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本申请，并不用于限定本申请。本申请提供的一种电容式接近传感器电路采用如下的技术方案：第一方面，如图1所示，提供一种电容式接近传感器电路，包括电源单元4和感应片5，还包括依次级联的振荡单元1、检波单元2和判别单元3：振荡单元1，用于根据靠近感应片的金属的距离长度，产生与所述距离长度对应的振幅的正弦波形；检波单元2，用于对所述正弦波形检波，从而得到与所述距离长度对应的幅度的直流电平；判别单元3，用于将所述直流电平与预设置电压阈值比较，获取所述距离长度是否在第一阈值范围内的判别信号。优选的，如图2所示，所述振荡单元1，包括：第一电阻R1、第二电阻R2、第三电阻R3、第六电阻R6、第七电阻R7、可变电阻VR1、第一三极管Q1、第二三极管Q2和第一电容C1；所述感应片，连接有第一导线L1和第二导线L2；所述第一导线L1连接第二三极管Q2的发射极，所述第二三极管Q2的集电极连接所述电源单元，所述第二三极管Q2的集电极还通过第二电阻R2连接到第一三极管Q1的集电极；第一三极管Q1的基极通过第三电阻R3连接到所述第一导线L1，所述第一三极管Q1的发射极通过第一电阻R1连接到接地端GND；所述第一三极管Q1的基极还与第二导线L2连接；所述第二三极管Q2的发射极通过可变电阻VR1连接到第一电容C1的一端；所述第一电容C1的一端通过串联的第六电阻R6和第七电阻R7连接到接地端GND，所述第一电容C1的另一端与第一三极管Q1的发射极连接。优选的，如图3所示，还包括：温度补偿单元6，用于弥补在温度变化时导致的振荡单元的正弦波形的振幅的变化；所述温度补偿单元，包括：并联在一起的第四电阻R4和第五电阻R5；所述第五电阻R5为负温度系数热敏电阻；所述第四电阻R4的一端与所述第二三极管Q2的发射极连接，所述第四电阻R4的另一端与可变电阻VR1的一端连接。优选的，如图4所示，所述检波单元2，包括：检波器Q3和滤波器8；所述检波器Q3，用于将所述振荡单元输出的正弦波形中的负压波形反向输出，与正压波形拼接在一起形成均为正压的振荡波形；所述滤波器8，用于将所述均为正压的振荡波形中的高频成分滤除，输出直流电平。优选的，如图4所示，所述检波器Q3，包括：第一二极管Q31、第二二极管Q32和第八电阻R8；所述第一二极管Q31的阳极和第二二极管Q32的阴极均与所述振荡单元的输出端连接；所述第一二极管Q31的阴极与第八电阻R8的一端连接，所述第二二极管Q32的阳极与第八电阻R8的另一端连接，所述第八电阻R8的另一端连接接地端GND；所述滤波器8，包括第九电阻R9和第三电容C3；所述第九电阻R9的一端与所述第八电阻R8的一端连接，所述第九电阻R9的另一端通过第三电容C3连接到接地端GND；所述第九电阻R9的另一端还与所述判别单元的输入端连接。优选的，如图4所示，所述判别单元3，包括级联在一起的第一比较器和放大器；所述第一比较器，用于当所述直流电平超出所述预设电压阈值时，输出的高电平会跳变为低电平，当所述直流电平低于所述预设电压阈值时，输出的低电平会跳变为高电平；所述放大器，用于放大所述第一比较器的输出。优选的，如图4所示，所述第一比较器，包括：第一运算放大器U1、第十电阻R10和第十一电阻R11；所述第一运算放大器U1的反相输入端与所述检波单元的输出端连接，所述第一运算放大器U1的正相输入端通过第十电阻R10连接到电源单元，还通过第十一电阻R11连接到接地端GND；所述放大器，包括：第二运算放大器U2和第十三电阻R13；所述第二运算放大器U2的反相输入端与所述第一运算放大器U1的输出端连接，所述第二运算放大器U2的正相输入端与所述第一运算放大器U1的正相输入端连接；所述第二运算放大器U2的输出端通过第十三电阻R13输出高电平或低电平。优选的，如图4所示，还包括第十二电阻R12；所述第十二电阻R12一端连接第一运算放大器U1的输出端，所述第十二电阻R12的另一端连接所述第一运算放大器U1的正相输入端；所述第一比较器和第十二电阻R12构成迟滞比较器9；所述迟滞比较器9，用于当所述直流电平在所述预设电压阈值的上下一定范围内波动时，输出的高电平不会跳变为低电平，或者，输出的低电平不会跳变为高电平；当所述直流电平超出所述预设电压阈值的上下一定范围时，输出的高电平会跳变为低电平，或者输出的低电平会跳变为高电平。优选的，如图4所示，还包括与所述判别单元的输出连接的开关单元7；所述开关单元，用于当所述判别单元输出高电平时，输出导通信号，当所述判别单元输出低电平时，不输出导通信号。优选的，如图4所示，所述开关单元7，包括：第四三极管Q4、第十四电阻R14、第十五电阻R15和第一稳压二极管D1；所述第四三极管Q4的基极与所述判别单元的输出端连接，所述第四三极管Q4的发射极通过第十四电阻R14连接到接地端GND，所述第四三极管Q4的集电极通过第一稳压二极管D1连接到接地端GND，并且所述第四三极管Q4的集电极通过第十五电阻R15输出导通信号或不导通信号。所述电源单元4，包括第四电容C4、第五电容C5、第六电容C6、第七电容C7、第八电容C8、第九电容C9、第十电容C10、第二二极管D2、第二稳压二极管D3和电源管理芯片U3。所述第二稳压二极管D3用于保护电源管理芯片，如果输入电压过大，则第二稳压二极管D3被反向击穿，限定所述输入电压为第二稳压二极管D3的击穿电压。所述第四电容C4、第五电容C5、第六电容C6、第七电容C7、第八电容C8、第九电容C9、第十电容C10，用于抑制输入电源的杂波和谐波。在本申请中，第一三极管Q1、第二三极管Q2和第四三极管Q4均为NPN管。本申请电容式接近传感器电路的工作原理为：当电源单元4启动后，电源单元供给振荡单元1和判别单元3工作电压；振荡单元开始振荡；振荡单元启振的工作原理如下：电源单元导通下，第二三极管Q2处于导通状态，第一三极管Q1也处于导通状态，给所述第一电容C1充电，同时，感应片5也是一个电容，也给感应片充电；当第一电容C1充电后的电荷累积到一定程度时，即第一电容C1的电压使得第二三极管Q2的发射极电压大于第二三极管Q2的基极电压时，同时，第一三极管Q1的发射极电压大于第一三极管Q1的基极电压时，所述第一三极管Q1和第二三极管Q2处于截止状态；所述第一电容C1停止被充电，并且，第一电容C1处于放电状态。第一电容C1通过检波单元2放电；当第一电容C1放电达到一定时间时，第一三极管Q1和第二三极管Q2再次处于导通状态，则第一电容C1停止放电，又处于充电状态；上述过程在电源单元开启后一直反复进行，则振荡单元输出正弦波形给检波单元。显然，第一电容C1和感应片上的电容计算在一起的电容值，会影响到充、放电频率；当第一电容C1和感应片上的电容值较大，则充电时间和放电时间均会被拉长，即振荡的频率会变小；反之，当第一电容C1和感应片上的电容值较小，则充电时间和放电时间均较短，即振荡的频率会变大。振荡单元4输出的正弦波形通过检波单元2。由于检波单元在正弦波形的正半周导通，在负半周也导通，只是将负半周导通时的电压也加在第八电阻R8上，使得检波单元的检波器Q3的输出为均处于正压的波形，即正弦波形的负压波形被翻转到正压波形。再通过滤波器8，将所述均处于正压的波形中的高频部分滤除，保留低频部分，即保留直流成分，得到直流电平。将所述直流电平输入第一运算放大器U1的反相输入端，与输入第一运算放大器U1的正相输入端恒定的电压进行比较；所述正相输入端输入的恒定电压为电源单元的电压通过第十电阻R10和第十一电阻R11分压获得。当所述直流电平大于所述正相输入端恒定的电压时，第一运算放大器输出高电平；当所述直流电平小于所述正相输入端恒定的电压时，第一运算放大器输出低电平。所述第二运算放大器接收到高电平或低电平后，对高电平或低电平放大，给开关单元。由于开关单元具有第四三极管Q4，当输出为高电平的放大信号时，第四三极管Q4导通，输出高电平；当输出为低电平的放大信号时，第四三极管Q4截止，输出为低电平。因此，可以通过开关单元输出的信号的高、低，来判断正弦波形的振荡幅度是高于所述恒定的电压，还是低于所述恒定的电压。当金属物体靠近感应片的时候，根据物理常识，可以知道，感应片的电容值会发生变化，从而影响振荡单元的输出正弦波形的振幅；导致输入第一运算放大器的直流电平的幅值发生变化。当金属物体与所述感应片的距离发生变化的时候，会出现时而进入影响振幅变化的距离范围内，时而离开影响振幅变化的距离范围内。为了解决该技术问题，在第一运算放大器的输出端和正相输入端之间用第十二电阻R12连接，构成迟滞比较器。设计所述迟滞比较器的目的是为了，当金属物体靠近感应片一定距离的时候，或者离开感应片一定距离的时候，所述迟滞比较器的输出不会因为靠近或者离开的距离发生变化，而导致输出的高电平变为低电平，或者低电平变为高电平，并且，反复的变化。因此，设置第十二电阻R12后，迟滞比较器使得，滤波器输出的直流电平在预设电压阈值的上下出现一定范围的波动时，不会影响输出至开关单元的电平信号出现反复的波动。这样，使得在实际检测金属物体靠近感应片的距离上，有一定的冗余。由于本申请的技术方案主要适用于-25℃~70℃范围内的电容式接近传感器电路，所以，需要电容式接近传感器电路在上述温度范围内，都能正确的输出高电平或低电平，以判断金属物体距离感应片的距离。但是，在温度处于-25℃或70℃的时候，由于温度的影响，会导致电容式接近传感器电路出现判断错误的时候。因此，在振荡单元中，增加了温度补偿单元，即负温度系数热敏电阻。所述负温度系数热敏电阻，即是随着温度上升，负温度系数热敏电阻的电阻值会下降，或者随着温度下降，负温度系数热敏电阻的电阻值会上升。温度补偿单元用于补偿由于温度上升导致的振荡单元的阻值上升，或者温度下降导致的振荡单元你的阻值下降的问题。从而不会影响感应片在70℃附近时，出现感应距离也增大的，或者在感应片在-25℃时，出现感应距离减小的问题。综上所述，本申请包括以下至少一种有益技术效果：1.能够更好地解决金属物体靠近感应片时，电容式接近传感器电路发出提示信号不稳定的问题；2.能够解决在-25℃~70℃范围内，温度变化导致的振荡单元输出振荡信号幅度变化的问题。以上均为本申请的较佳实施例，并非依此限制本申请的保护范围，本说明书中公开的任一特征，除非特别叙述，均可被其他等效或者具有类似目的的替代特征加以替换。即，除非特别叙述，每个特征只是一系列等效或类似特征中的一个例子而已。
