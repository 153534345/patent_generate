标题title
物模型抽象控制方法、系统、存储介质及计算机
摘要abst
本发明提供一种物模型抽象控制方法、系统、存储介质及计算机，该方法包括：获取物联网平台中各传感系统的所有设备的设备信息，其中，设备按照设备类型进行区分，设备信息包括各设备的设备类型所对应的设备属性；定义各设备的通信接口，并根据设备类型定义各设备的通用能力；将各设备的通用能力绑定在其对应的通信接口上得到各设备的组合参数；构建物模型，并将各设备的组合参数和各设备的设备属性导入物模型，以形成各设备的通用物模型，利用通用物模型实现各设备的智能控制。本发明通过将设备属性、通信接口以及通用能力构建三元组定义的设备产品物模型，涵盖设备开发的所有的组成，即通信连接、交互模式、协议解析以及数据输出格式。
权利要求书clms
1.一种物模型抽象控制方法，其特征在于，包括：获取物联网平台中各传感系统的所有设备的设备信息，其中，所述设备按照设备类型进行区分，所述设备信息包括各所述设备的设备类型所对应的设备属性；定义各所述设备的通信接口，并根据所述设备类型定义各所述设备的通用能力，其中，定义各所述设备的通信接口，并根据所述设备类型定义各所述设备的通用能力的步骤包括：获取各所述设备的通信层驱动参数，并根据所述通信层驱动参数定义通信接口；通过所述通信接口获取各所述设备的原始协议以及数据格式，并根据所述原始协议、所述数据格式和各所述设备的设备类型定义各所述设备的通用能力；将各所述设备的通用能力绑定在其对应的通信接口上，以得到各所述设备的组合参数；构建物模型，并将各所述设备的组合参数和各所述设备的设备属性导入所述物模型，以形成各所述设备的通用物模型，利用所述通用物模型实现各所述设备的智能控制。2.根据权利要求1所述的物模型抽象控制方法，其特征在于，将各所述设备的通用能力绑定在其对应的通信接口上，以得到各所述设备的组合参数的步骤包括：基于预设的上下文函数对各所述设备的通用能力进行处理，以使各所述设备的通用能力中数据处理能力定义在其对应的通信接口的协议中，得到各所述设备的组合参数。3.根据权利要求1所述的物模型抽象控制方法，其特征在于，将各所述设备的组合参数和各所述设备的设备属性导入所述物模型，以形成各所述设备的通用物模型的步骤包括：在各所述设备的组合参数中添加其对应的设备属性，并基于预设的组成规则对各所述设备进行参数重组，以得到各所述设备的重组参数；将各所述设备的重组参数对所述物模型进行优化，以得到各所述设备的通用物模型。4.一种物模型抽象控制系统，其特征在于，包括：信息获取模块，用于获取物联网平台中各传感系统的所有设备的设备信息，其中，所述设备按照设备类型进行区分，所述设备信息包括各所述设备的设备类型所对应的设备属性；数据定义模块，用于定义各所述设备的通信接口，并根据所述设备类型定义各所述设备的通用能力，其中，所述数据定义模块包括：参数获取单元，用于获取各所述设备的通信层驱动参数，并根据所述通信层驱动参数定义通信接口；数据定义单元，用于通过所述通信接口获取各所述设备的原始协议以及数据格式，并根据所述原始协议、所述数据格式和各所述设备的设备类型定义各所述设备的通用能力；数据组合模块，用于将各所述设备的通用能力绑定在其对应的通信接口上，以得到各所述设备的组合参数；模型优化模块，用于构建物模型，并将各所述设备的组合参数和各所述设备的设备属性导入所述物模型，以形成各所述设备的通用物模型，利用所述通用物模型实现各所述设备的智能控制。5.根据权利要求4所述的物模型抽象控制系统，其特征在于，所述数据组合模块包括：数据组合单元，用于基于预设的上下文函数对各所述设备的通用能力进行处理，以使各所述设备的通用能力中数据处理能力定义在其对应的通信接口的协议中，得到各所述设备的组合参数。6.根据权利要求4所述的物模型抽象控制系统，其特征在于，所述模型优化模块包括：参数重组单元，用于在各所述设备的组合参数中添加其对应的设备属性，并基于预设的组成规则对各所述设备进行参数重组，以得到各所述设备的重组参数；模型优化单元，用于将各所述设备的重组参数对所述物模型进行优化，以得到各所述设备的通用物模型。7.一种存储介质，其上存储有计算机程序，其特征在于，该程序被处理器执行时实现如权利要求1至3任一所述的物模型抽象控制方法。8.一种计算机，包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至3任一所述的物模型抽象控制方法。
说明书desc
技术领域本发明涉及数据处理技术领域，特别涉及一种物模型抽象控制方法、系统、存储介质及计算机。背景技术随着科技的飞速发展和人们生活水平的提高，物联网已经成为人们生活中不可或缺的一项技术。目前大多数的物联网平台，都是采用一套基于能力、属性和事件的物模型建立标准，这种方式能比较清晰、便捷的定义和描述设备的服务能力，但是设备开发商在对接协议时，必须开发适配器去匹配平台的接口。而且，不同的物联网平台提供的接口是不一致的，这要求开发人员在底层设备或网关中，根据项目的需求，应用不同平台厂家的SDK定制开发不同的接口适配器。另外，平台如果作为集成商也无法直接对接设备的原始协议。发明内容基于此，本发明的目的是提供一种物模型抽象控制方法、系统、存储介质及计算机，以至少解决上述技术中的不足。本发明提出一种物模型抽象控制方法，包括：获取物联网平台中各传感系统的所有设备的设备信息，其中，所述设备按照设备类型进行区分，所述设备信息包括各所述设备的设备类型所对应的设备属性；定义各所述设备的通信接口，并根据所述设备类型定义各所述设备的通用能力，其中，定义各所述设备的通信接口，并根据所述设备类型定义各所述设备的通用能力的步骤包括：获取各所述设备的通信层驱动参数，并根据所述通信层驱动参数定义通信接口；通过所述通信接口获取各所述设备的原始协议以及数据格式，并根据所述原始协议、所述数据格式和各所述设备的设备类型定义各所述设备的通用能力；将各所述设备的通用能力绑定在其对应的通信接口上，以得到各所述设备的组合参数；构建物模型，并将各所述设备的组合参数和各所述设备的设备属性导入所述物模型，以形成各所述设备的通用物模型，利用所述通用物模型实现各所述设备的智能控制。进一步的，将各所述设备的通用能力绑定在其对应的通信接口上，以得到各所述设备的组合参数的步骤包括：基于预设的上下文函数对各所述设备的通用能力进行处理，以使各所述设备的通用能力中数据处理能力定义在其对应的通信接口的协议中，得到各所述设备的组合参数。进一步的，将各所述设备的组合参数和各所述设备的设备属性导入所述物模型，以形成各所述设备的通用物模型的步骤包括：在各所述设备的组合参数中添加其对应的设备属性，并基于预设的组成规则对各所述设备进行参数重组，以得到各所述设备的重组参数；将各所述设备的重组参数对所述物模型进行优化，以得到各所述设备的通用物模型。本发明还提出一种物模型抽象控制系统，包括：信息获取模块，用于获取物联网平台中各传感系统的所有设备的设备信息，其中，所述设备按照设备类型进行区分，所述设备信息包括各所述设备的设备类型所对应的设备属性；数据定义模块，用于定义各所述设备的通信接口，并根据所述设备类型定义各所述设备的通用能力，其中，所述数据定义模块包括：参数获取单元，用于获取各所述设备的通信层驱动参数，并根据所述通信层驱动参数定义通信接口；数据定义单元，用于通过所述通信接口获取各所述设备的原始协议以及数据格式，并根据所述原始协议、所述数据格式和各所述设备的设备类型定义各所述设备的通用能力；数据组合模块，用于将各所述设备的通用能力绑定在其对应的通信接口上，以得到各所述设备的组合参数；模型优化模块，用于构建物模型，并将各所述设备的组合参数和各所述设备的设备属性导入所述物模型，以形成各所述设备的通用物模型，利用所述通用物模型实现各所述设备的智能控制。进一步的，所述数据组合模块包括：数据组合单元，用于基于预设的上下文函数对各所述设备的通用能力进行处理，以使各所述设备的通用能力中数据处理能力定义在其对应的通信接口的协议中，得到各所述设备的组合参数。进一步的，所述模型优化模块包括：参数重组单元，用于在各所述设备的组合参数中添加其对应的设备属性，并基于预设的组成规则对各所述设备进行参数重组，以得到各所述设备的重组参数；模型优化单元，用于将各所述设备的重组参数对所述物模型进行优化，以得到各所述设备的通用物模型。本发明还提出一种存储介质，其上存储有计算机程序，该程序被处理器执行时实现上述的物模型抽象控制方法。本发明还提出一种计算机，包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述的物模型抽象控制方法。本发明当中的物模型抽象控制方法、系统、存储介质及计算机，通过将设备属性、通信接口以及通用能力构建三元组定义的设备产品物模型，涵盖了设备开发的所有的组成，即通信连接、交互模式、协议解析以及数据输出格式；引入接口的概念，并支持可扩展的接口定义，方便定制处理设备与平台的通信过程；扩展通用能力的概念，包含可扩展的服务交互方式、原始协议的解析、能力调用的参数集以及能力调用的输出；提高了设备接入的灵活性和便捷性，设备开发商无需开发适配器适配平台接口，降低了开发难度和成本；增强了物联网平台与设备之间的互操作性，使不同类型的设备可以更加轻松地接入平台并共享数据。附图说明图1为本发明第一实施例中的物模型抽象控制方法的流程图；图2为图1中步骤S102的详细流程图；图3为图1中步骤S104的详细流程图；图4为本发明第二实施例中的物模型抽象控制系统的结构框图；图5为本发明第三实施例中的计算机的结构框图。如下具体实施方式将结合上述附图进一步说明本发明。具体实施方式为了便于理解本发明，下面将参照相关附图对本发明进行更全面的描述。附图中给出了本发明的若干实施例。但是，本发明可以以许多不同的形式来实现，并不限于本文所描述的实施例。相反地，提供这些实施例的目的是使对本发明的公开内容更加透彻全面。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。本文中在本发明的说明书中所使用的术语只是为了描述具体的实施例的目的，不是旨在于限制本发明。本文所使用的术语“及／或”包括一个或多个相关的所列项目的任意的和所有的组合。实施例一请参阅图1，所示为本发明第一实施例中的物模型抽象控制方法，所述方法具体包括步骤S101至S104：S101，获取物联网平台中各传感系统的所有设备的设备信息，其中，所述设备按照设备类型进行区分，所述设备信息包括各所述设备的设备类型所对应的设备属性；在具体实施时，在IoT物联网平台中，接入一个或多个智能家居系统，并获取智能家居系统的所有设备的设备信息，在本实施例中，所有的设备按照设备类型进行区分，其中，所有设备包括智能灯泡、智能插座、智能温度传感器等，设备信息包括各设备的设备类型所对应的设备属性，设备属性代表了设备的参数、属性、标签，也包括设备的输出定义，例如：智能灯泡的设备属性包括亮度、颜色等，智能插座的设备属性包括电流状态。S102，定义各所述设备的通信接口，并根据所述设备类型定义各所述设备的通用能力；进一步的，请参阅图2，所述步骤S102具体包括步骤S1021~S1022：S1021，获取各所述设备的通信层驱动参数，并根据所述通信层驱动参数定义通信接口；S1022，通过所述通信接口获取各所述设备的原始协议以及数据格式，并根据所述原始协议、所述数据格式和各所述设备的设备类型定义各所述设备的通用能力。在本实施例中，通信接口抽象物联网平台与智能家居系统的设备之间不同通讯制式的连接方式，包括通信层驱动、通信接口的属性参数。例如标准的MQTT、HTTP、TCP、串口等，以及基于这些基础连接自定义扩展的接口。在本实施例中，通用能力描述设备所提供服务的能力，不仅仅代表抽象的服务方法和属性，还包括设备的原始协议和数据格式的描述和适配，通用能力为每种设备类型定义通用的能力，如控制、查询状态、设置参数等。每个能力可以包含具体的协议处理和数据交互逻辑。在具体实施时，通过获取设备的通信层驱动参数，并根据该参数定义设备的通信接口，利用该通信接口获取各设备的原始协议以及数据格式的描述和适配，根据原始协议、数据格式和各设备的设备类型定义各设备的通用能力。S103，将各所述设备的通用能力绑定在其对应的通信接口上，以得到各所述设备的组合参数；进一步的，所述步骤S103具体包括：基于预设的上下文函数对各所述设备的通用能力进行处理，以使各所述设备的通用能力中数据处理能力定义在其对应的通信接口的协议中，得到各所述设备的组合参数。在具体实施时，将上述设备的通用能力绑定在通信接口之上，在通用能力中执行数据交互、解析和输出的部分，是定义在通信接口的协议里的，协议一般使用脚本化的开发语言，通过约定的上下文函数进行处理。S104，构建物模型，并将各所述设备的组合参数和各所述设备的设备属性导入所述物模型，以形成各所述设备的通用物模型，利用所述通用物模型实现各所述设备的智能控制。进一步的，请参阅图3，所述步骤S104具体包括步骤S1041~S1042：S1041，在各所述设备的组合参数中添加其对应的设备属性，并基于预设的组成规则对各所述设备进行参数重组，以得到各所述设备的重组参数；S1042，将各所述设备的重组参数对所述物模型进行优化，以得到各所述设备的通用物模型。在具体实施时，构建物模型，在上述得到的组合参数中添加其对应的设备属性，并利用预设的组成规则对各设备的参数进行重组，以得到各设备的重组参数，将各设备的重组参数导入至物模型中，从而得到通用物模型，进而通过通用物模型实现对各类设备的抽象控制。在本实施例中，以上述的智能灯泡、智能插座以及智能温度传感器为例，智能灯泡：假设有一款智能灯泡，它可以调节亮度和颜色。在物模型中定义了亮度和颜色作为属性，控制和查询亮度、颜色作为能力，Wi-Fi作为通信接口。通过使用这个通用物模型，可以轻松将不同品牌的智能灯泡接入系统，只需在平台能力层对各品牌智能灯泡协议做适配开发。智能插座：对于智能插座，在物模型中定义了电流状态作为属性，控制插座开关作为能力，蓝牙作为通信接口。用户在界面操作控制，将通过能力的调用对该设备进行命令的下发，达到控制插座开关的目的。智能温度传感器：在物模型中，定义了温度值作为属性，查询温度、设置温度报警作为能力，Zigbee作为通信接口。通过平台的调度框架，定期调用查询能力，将组包的协议下发到设备网关，同步读取实时温度数据。基于通用能力、通信接口以及设备属性三元组定义的设备产品物模型，涵盖了设备开发的所有的组成，即通信连接、交互模式、协议解析以及数据输出格式，通过这种灵活可扩展的物模型抽象方法，可以使物联网平台更加灵活地适应各种类型的设备，无需对设备的协议进行硬编码适配，降低了设备接入的门槛，同时也提高了设备的复用性和互操作性。本实施例克服了物联网平台不能主动适配硬件传感器的问题，将设备到平台的连接、数据采集的交互方式、协议处理的能力以及设备的参数和输出都进行了抽象定义，最大程度的支持了设备开发的灵活性，提高了物联网平台主动适配硬件传感器的能力，并且本实施例中的物模型抽象控制方法具有以下优势：灵活适配性：不同类型的智能设备可以遵循同一物模型标准，在平台上对连接方式、协议处理做适配。快速开发：设备开发商可以在基础物模型上快速开发产品，无需从零开始设计通信和交互方式。统一管理：用户可以通过统一的接口管理和控制不同品牌和类型的智能设备。未来扩展：随着新的智能设备出现，只需在物模型中进行扩展即可支持新设备类型。综上，本发明上述实施例当中的物模型抽象控制方法，通过将设备属性、通信接口以及通用能力构建三元组定义的设备产品物模型，涵盖了设备开发的所有的组成，即通信连接、交互模式、协议解析以及数据输出格式；引入接口的概念，并支持可扩展的接口定义，方便定制处理设备与平台的通信过程；扩展通用能力的概念，包含可扩展的服务交互方式、原始协议的解析、能力调用的参数集以及能力调用的输出；提高了设备接入的灵活性和便捷性，设备开发商无需开发适配器适配平台接口，降低了开发难度和成本；增强了物联网平台与设备之间的互操作性，使不同类型的设备可以更加轻松地接入平台并共享数据。实施例二本发明另一方面还提出一种物模型抽象控制系统，请查阅图4，所示为本发明第二实施例中的物模型抽象控制系统，所述系统包括：信息获取模块11，用于获取物联网平台中各传感系统的所有设备的设备信息，其中，所述设备按照设备类型进行区分，所述设备信息包括各所述设备的设备类型所对应的设备属性；数据定义模块12，用于定义各所述设备的通信接口，并根据所述设备类型定义各所述设备的通用能力；进一步的，所述数据定义模块12包括：参数获取单元，用于获取各所述设备的通信层驱动参数，并根据所述通信层驱动参数定义通信接口；数据定义单元，用于通过所述通信接口获取各所述设备的原始协议以及数据格式，并根据所述原始协议、所述数据格式和各所述设备的设备类型定义各所述设备的通用能力。数据组合模块13，用于将各所述设备的通用能力绑定在其对应的通信接口上，以得到各所述设备的组合参数；进一步的，所述数据组合模块13包括：数据组合单元，用于基于预设的上下文函数对各所述设备的通用能力进行处理，以使各所述设备的通用能力中数据处理能力定义在其对应的通信接口的协议中，得到各所述设备的组合参数。模型优化模块14，用于构建物模型，并将各所述设备的组合参数和各所述设备的设备属性导入所述物模型，以形成各所述设备的通用物模型，利用所述通用物模型实现各所述设备的智能控制。进一步的，所述模型优化模块14包括：参数重组单元，用于在各所述设备的组合参数中添加其对应的设备属性，并基于预设的组成规则对各所述设备进行参数重组，以得到各所述设备的重组参数；模型优化单元，用于将各所述设备的重组参数对所述物模型进行优化，以得到各所述设备的通用物模型。上述各模块、单元被执行时所实现的功能或操作步骤与上述方法实施例大体相同，在此不再赘述。本发明实施例所提供的物模型抽象控制系统，其实现原理及产生的技术效果和前述方法实施例相同，为简要描述，系统实施例部分未提及之处，可参考前述方法实施例中相应内容。实施例三本发明还提出一种计算机，请参阅图5，所示为本发明第三实施例中的计算机，包括存储器10、处理器20以及存储在所述存储器10上并可在所述处理器20上运行的计算机程序30，所述处理器20执行所述计算机程序30时实现上述的物模型抽象控制方法。其中，存储器10至少包括一种类型的存储介质，所述存储介质包括闪存、硬盘、多媒体卡、卡型存储器、磁性存储器、磁盘、光盘等。存储器10在一些实施例中可以是计算机的内部存储单元，例如该计算机的硬盘。存储器10在另一些实施例中也可以是外部存储装置，例如插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，存储器10还可以既包括计算机的内部存储单元也包括外部存储装置。存储器10不仅可以用于存储安装于计算机的应用软件及各类数据，还可以用于暂时地存储已经输出或者将要输出的数据。其中，处理器20在一些实施例中可以是电子控制单元 、中央处理器、控制器、微控制器、微处理器或其他数据处理芯片，用于运行存储器10中存储的程序代码或处理数据，例如执行访问限制程序等。需要指出的是，图5示出的结构并不构成对计算机的限定，在其它实施例当中，该计算机可以包括比图示更少或者更多的部件，或者组合某些部件，或者不同的部件布置。本发明实施例还提出一种存储介质，其上存储有计算机程序，该程序被处理器执行时实现如上述的物模型抽象控制方法。本领域技术人员可以理解，在流程图中表示或在此以其他方式描述的逻辑和/或步骤，例如，可以被认为是用于实现逻辑功能的可执行指令的定序列表，可以具体实现在任何计算机可读介质中，以供指令执行系统、装置或设备使用，或结合这些指令执行系统、装置或设备而使用。就本说明书而言，“计算机可读介质”可以是任何可以包含、存储、通信、传播或传输程序以供指令执行系统、装置或设备或结合这些指令执行系统、装置或设备而使用的装置。计算机可读介质的更具体的示例包括以下：具有一个或多个布线的电连接部，便携式计算机盘盒，随机存取存储器，只读存储器，可擦除可编辑只读存储器，光纤装置，以及便携式光盘只读存储器。另外，计算机可读介质甚至可以是可在其上打印所述程序的纸或其他合适的介质，因为可以例如通过对纸或其他介质进行光学扫描，接着进行编辑、解译或必要时以其他合适方式进行处理来以电子方式获得所述程序，然后将其存储在计算机存储器中。应当理解，本发明的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件或固件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或它们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列，现场可编程门阵列等。以上所述实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
