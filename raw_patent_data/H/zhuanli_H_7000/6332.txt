标题title
开关电源电路、充放电方法及充放电设备
摘要abst
本申请公开了一种开关电源电路、充放电方法及充放电设备，属于电源管理技术领域。开关电源电路包括第一节点、第二节点、耦接于第一节点和第二节点之间的升降压转换电路和辅助转换电路以及控制电路，控制电路根据第一节点的第一电压和第二节点的第二电压，控制升降压转换电路和/或第一辅助转换电路开启。开关电源电路设置至少两路转换电路，根据充放电的需求，可以控制一路转换电路或者多路转换电路开启，提高充电效率，根据需求实现升压或降压，且在功率较大时，多路转换电路可以对充电功率进行分担，使得各路转换电路的电流下降，减少了发热量，功率开关管的损耗风险较低。
权利要求书clms
1.一种开关电源电路，其特征在于，包括：第一节点和第二节点，所述第一节点充电时输入电源，放电时输出电源，所述第二节点充电时输出电源，放电时输入电源；升降压转换电路，耦接于所述第一节点和所述第二节点之间，且配置为在充电时或放电时受控地以升压模式、降压模式和升降压模式中的一种模式运行；至少一路第一辅助转换电路，与所述升降压转换电路并联，且配置为在充电时受控地以降压模式运行，或者在放电时受控地以升压模式运行；控制电路，分别与所述升降压转换电路和所述第一辅助转换电路耦接，且配置为根据所述第一节点的第一电压和所述第二节点的第二电压，控制所述升降压转换电路和/或所述第一辅助转换电路开启。2.根据权利要求1所述的开关电源电路，其特征在于，所述控制电路配置为在所述第一电压大于所述第二电压和阈值电压之和时，控制所述升降压转换电路和所述第一辅助转换电路同时启动。3.根据权利要求2所述的开关电源电路，其特征在于，所述控制电路配置为在所述第一电压大于所述第二电压和阈值电压之和，且所述第一节点的功率大于参考功率时，控制升降压转换电路和所述第一辅助转换电路同时启动。4.根据权利要求1-3中任一项所述的开关电源电路，其特征在于，所述第一辅助转换电路包括：串联的第一开关和第二开关，所述第一开关的一端与所述第一节点耦接，所述第二开关的一端与接地节点耦接；电感，耦接于所述第一开关和所述第二开关的连接点与所述第二节点之间。5.一种开关电源电路，其特征在于，包括：第一节点和第二节点，所述第一节点充电时输入电源，放电时输出电源，所述第二节点充电时输出电源，放电时输入电源；升降压转换电路，耦接于所述第一节点和所述第二节点之间，且配置为在充电时或放电时受控地以升压模式、降压模式和升降压模式中的一种模式运行；至少一路第二辅助转换电路，与所述升降压转换电路并联，且配置为在充电时受控地以升压模式运行，或者在放电时受控地以降压模式运行；控制电路，分别与所述升降压转换电路和所述第二辅助转换电路耦接，且配置为根据所述第一节点的第一电压和所述第二节点的第二电压，控制所述升降压转换电路和/或所述第二辅助转换电路开启。6.根据权利要求5所述的开关电源电路，其特征在于，所述控制电路配置为在所述第二电压大于所述第一电压和阈值电压之和时，控制所述升降压转换电路和所述第二辅助转换电路同时启动。7.根据权利要求6所述的开关电源电路，其特征在于，所述控制电路配置为在所述第二电压大于所述第一电压和阈值电压之和，且所述第一节点的功率大于参考功率时，控制所述升降压转换电路和所述第二辅助转换电路同时启动。8.根据权利要求5-7中任一项所述的开关电源电路，其特征在于，所述第二辅助转换电路包括：串联的第三开关和第四开关，所述第三开关的一端与所述第二节点耦接，所述第四开关的一端与接地节点耦接；电感，耦接于所述第三开关和所述第四开关的连接点与所述第一节点之间。9.一种充放电方法，其特征在于，用于控制根据权利要求1-8中任一项所述的开关电源电路，所述开关电源电路的第一节点与电源耦接，第二节点与电池耦接，所述充放电方法包括：获取所述电源的电源电压和所述电池的电池电压；根据所述电源电压和所述电池电压，控制升降压转换电路和/或辅助转换电路开启，以进行充电或放电。10.一种充放电设备，其特征在于，所述充放电设备包括根据权利要求1-8中任一项所述的开关电源电路。
说明书desc
技术领域本申请属于电源管理技术领域，尤其涉及一种开关电源电路、充放电方法及充放电设备。背景技术随着快充的普及，手机或者笔记本电脑等移动电子设备的充电功率得到提升，普遍大于100W，甚至大于210W。因此，大部分移动电子设备采用多节电池串联的电池方案。在多节电池串联方案下，电池电压的变动范围比较大。以3节电池串联为例，三节串联时，电池电压范围变动范围大约在7V～13V左右。现有的适配器电压种类繁多，有5V，9V，10V，12V，15V以及20V等。为了兼容不同的适配器充电，移动电子设备逐渐开始采用升降压开关电源电路进行充电。USB PD快充协议发布了PD3.1标准，最大充电功率在PD3.0最大100W的基础上，增加了140W，180W以及240W等三个功率选项。由于PD3.1的发布和不断普及，140W逐渐成为PD3.1的主流应用。因此在笔记本电脑电池充电领域充电功率也逐渐开始向140W发展。但随着充电功率变大，开关电源电路出现效率下降，发热严重的缺点。同时，由于电流变大，在功率开关管开关状态转换的瞬间，电压毛刺会变大，增加了功率开关管上的电应力，导致功率开关管失效的风险变大。发明内容本申请旨在至少解决现有技术中存在的技术问题之一。为此，本申请提出一种开关电源电路、充放电方法及充放电设备，发热量减少，功率开关管的损耗风险较低。第一方面，本申请提供了一种开关电源电路，包括：第一节点和第二节点，第一节点充电时输入电源，放电时输出电源，第二节点充电时输出电源，放电时输入电源；升降压转换电路，耦接于第一节点和第二节点之间，且配置为在充电时或放电时受控地以升压模式、降压模式和升降压模式中的一种模式运行；至少一路第一辅助转换电路，与升降压转换电路并联，且配置为在充电时受控地以降压模式运行，或者在放电时受控地以升压模式运行；控制电路，分别与升降压转换电路和第一辅助转换电路耦接，且配置为根据第一节点的第一电压和第二节点的第二电压，控制升降压转换电路和/或第一辅助转换电路开启。根据本申请的一个实施例，控制电路配置为在第一电压大于第二电压和阈值电压之和时，控制升降压转换电路和第一辅助转换电路同时启动。根据本申请的一个实施例，控制电路配置为在第一电压大于第二电压和阈值电压之和，且第一节点的功率大于参考功率时，控制升降压转换电路和第一辅助转换电路同时启动。根据本申请的一个实施例，第一辅助转换电路包括：串联的第一开关和第二开关，第一开关的一端与第一节点耦接，第二开关的一端与接地节点耦接；电感，耦接于第一开关和第二开关的连接点与第二节点之间。第二方面，本申请提供了一种开关电源电路，包括：第一节点和第二节点，第一节点充电时输入电源，放电时输出电源，第二节点充电时输出电源，放电时输入电源；升降压转换电路，耦接于第一节点和第二节点之间，且配置为在充电时或放电时受控地以升压模式、降压模式和升降压模式中的一种模式运行；至少一路第二辅助转换电路，与升降压转换电路并联，且配置为在充电时受控地以升压模式运行，或者在放电时受控地以降压模式运行；控制电路，分别与升降压转换电路和第二辅助转换电路耦接，且配置为根据第一节点的第一电压和第二节点的第二电压，控制升降压转换电路和/或第二辅助转换电路开启。根据本申请的一个实施例，控制电路配置为在第二电压大于第一电压和阈值电压之和时，控制升降压转换电路和第二辅助转换电路同时启动。根据本申请的一个实施例，控制电路配置为在第二电压大于第一电压和阈值电压之和，且第一节点的功率大于参考功率时，控制升降压转换电路和第二辅助转换电路同时启动。根据本申请的一个实施例，第二辅助转换电路包括：串联的第三开关和第四开关，第三开关的一端与第二节点耦接，第四开关的一端与接地节点耦接；电感，耦接于第三开关和第四开关的连接点与第一节点之间。第三方面，本申请提供了一种充放电方法，用于控制根据前述的开关电源电路，开关电源电路的第一节点与电源耦接，第二节点与电池耦接，充放电方法包括：获取电源的电源电压和电池的电池电压；根据电源电压和电池电压，控制升降压转换电路和/或辅助转换电路开启，以进行充电或放电。第四方面，本申请提供了一种充放电设备，充放电设备包括根据前述的开关电源电路。根据本申请的开关电源电路、充放电方法及充放电设备，开关电源电路设置至少两路转换电路，根据充放电的需求，可以控制一路转换电路或者多路转换电路开启，提高充电效率，根据需求实现升压或降压，且在功率较大时，多路转换电路可以对充电功率进行分担，使得各路转换电路的电流下降，减少了发热量，功率开关管的损耗风险较低。本申请的附加方面和优点将在下面的描述中部分给出，部分将从下面的描述中变得明显，或通过本申请的实践了解到。附图说明本申请的上述和/或附加的方面和优点从结合下面附图对实施例的描述中将变得明显和容易理解，其中：图1是本申请实施例提供的开关电源电路的结构示意图之一；图2是本申请实施例提供的开关电源电路的结构示意图之二；图3是本申请实施例提供的开关电源电路的结构示意图之三；图4是本申请实施例提供的开关电源电路的结构示意图之四；图5是本申请实施例提供的开关电源电路的结构示意图之五；图6是本申请实施例提供的充放电方法的流程示意图之一；图7是本申请实施例提供的充放电方法的流程示意图之二。附图标记：第一至第二节点A1～A2，电容C，第一至第八功率开关管M1～M8，升降压转换电路100，第一辅助转换电路210，第二辅助转换电路220，控制电路300，适配器400。具体实施方式下面详细描述本申请的实施例，所述实施例的示例在附图中示出，其中自始至终相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施例是示例性的，仅用于解释本申请，而不能理解为对本申请的限制。在以下的描述中，“电路”是指由至少一个元件或子电路通过电气连接或电磁连接构成的导电回路。当称元件或电路“耦接到”或“连接到”另一元件或称元件/电路“耦接在”或“连接在”两个节点之间时，它可以是直接耦接或连接到另一元件或者可以存在中间元件，元件之间的连接可以是物理上的、逻辑上的、或者其结合。相反，当称元件“直接耦接到”或“直接连接到”另一元件时，意味着两者不存在中间元件。在描述中，术语“第一”、“第二”等是用于区别类似的对象，而不用于描述特定的顺序或先后次序。应该理解这样使用的数字描述符在适当情况下可以互换，以便本申请的实施例能够以除了在这里图示或描述的那些以外的顺序实施，且“第一”、“第二”等所区分的对象通常为一类，并不限定对象的个数，例如第一对象可以是一个，也可以是多个。此外，说明书以及权利要求中“和/或”表示所连接对象的至少其中之一，字符“/”，一般表示前后关联对象是一种“或”的关系。另外，参考术语“一个实施例”、“一些实施例”、“示意性实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本申请的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。在相关技术中，开关电源电路大多采用功率开关管控制回路的通断，功率开关管可以为MOSFET管或者IGBT管等。以下以功率开关管为MOS管为例进行说明。可以理解的是，MOS管的开关损耗Pd＝C×V2×f，其中C为寄生电容，V为电压，f为开关频率。因此开关损耗Pd和电压的平方成正比。140W的充电功率相比100W的充电功率，经过电流同样为5A，但140W的充电功率下的电压为28V。由于MOS管的电压应力更高，因此在设计开关电源电路时，需要耐压更高的MOS管。而在相同内阻下，耐压高的MOS管寄生电容C更大。因此导致MOS管开关损耗更高。140W下的开关损耗是100W下的开关损耗的1.96倍以上。同时，电池电压相同时，140W充电相比100W充电，电流变大为1.4倍，由于MOS管的导通损耗等于Pdron＝I2×ron，其中I为导通电流，ron为导通电阻。140W下的导通损耗近似于100W下的导通损耗的1.96倍。综上所述，相关技术中的开关电源电路以大功率进行充电时，充电效率会下降，系统温度上升。并且由于电流变大，在MOS管开关状态转换的瞬间，电压毛刺会变大，增加了MOS管上的电应力，导致MOS管失效的风险变大。其中，以手机或者笔记本电脑为例，大功率可以为140W、180W或者240W。此外在车载充电器领域中，小汽车电池电压在12V左右，大卡车电池电压在24V左右。车载充电器为了兼顾小汽车和大卡车的需求，同时为了满足5V～20V各种电压需求，通常以45W或者65W进行充电。由于PD3.1的需求开始普及，车载充电器为了满足140W甚至更高功率时，也存在效率下降导致的发热严重的问题。本申请提出了一种开关电源电路、充放电方法及充放电设备，开关电源电路设置至少两路转换电路，根据充放电的需求，可以控制一路转换电路或者多路转换电路开启，提高充电效率，根据需求实现升压或降压，且在功率较大时，多路转换电路可以对充电功率进行分担，使得各路转换电路的电流下降，减少了发热量，功率开关管的损耗风险较低。参照图1，本申请的一个实施例提出了一种开关电源电路。在本实施方式中，开关电源电路包括第一节点A1、第二节点A2、升降压转换电路100、至少一路第一辅助转换电路210和控制电路300，第一节点A1充电时输入电源，放电时输出电源，第二节点A2充电时输出电源，放电时输入电源；升降压转换电路100耦接于第一节点A1和第二节点A2之间，且配置为在充电时或放电时受控地以升压模式、降压模式和升降压模式中的一种模式运行；第一辅助转换电路210与升降压转换电路100并联，且配置为在充电时受控地以降压模式运行，或者在放电时受控地以升压模式运行；控制电路300分别与升降压转换电路100和第一辅助转换电路210耦接，且配置为根据第一节点A1的第一电压和第二节点A2的第二电压，控制升降压转换电路100和/或第一辅助转换电路210开启。需要说明的是，开关电源电路可以以充电模式或者放电模式运行。第一节点A1和第二节点A2作为开关电源电路的输入端和输出端。在充电模式下，第一节点A1电连接外部电源，以接入电源；第二节点A2电连接用电单元，以输出电源；其中，用电单元可以为用电电路或者电池。在放电模式下，第一节点A1用于输出电源，第二节点A2用于接入电源。升降压转换电路100在控制下可以实现升压功能、降压功能或者升降压功能。例如，在充电前期阶段，升降压转换电路100以升压模式运行；在充电中期阶段，升降压转换电路100以升降压模式运行；在充电后期阶段，升降压转换电路100以降压模式运行。同样，在放电时，也可以在升压功能、降压功能或者升降压功能之间进行切换。在本实施方式中，控制电路300可以控制升降压转换电路100和第一辅助转换电路210可以同时开启；或者控制电路300可以控制升降压转换电路100单独开启，或者控制电路300可以控制第一辅助转换电路210单独开启。第一辅助转换电路210充电时可以用于实现降压功能，或者在放电时实现升压功能。在充电时，若第一电压大于第二电压时，升降压转换电路100和第一辅助转换电路210可以以降压模式运行。在放电时，第一电压大于第二电压时，升降压转换电路100和第一辅助转换电路210可以以升压模式运行。可以理解的是，在升降压转换电路100和第一辅助转换电路210同时启动时，由于功率被分担，各路电流下降。以开关电源电路包括一个升降压转换电路100和一个第一辅助转换电路210为例，单独一路上的电流下降为1/2。由于Pdron＝I2×ron，因此每路的开关管导通损耗下降为1/4，两路总的开关管导通损耗下降为1/2，因此大幅降低了功率损耗，提升了效率，并且降低了系统发热。同时由于充电功率由两路分担，因此单独每一路的电流变为1/2，因此开关管在开关状态转换瞬间的毛刺下降，从而降低了开关管的电应力，提高了安全性。根据本申请的开关电源电路，通过设置至少两路转换电路，根据充放电的需求，可以控制一路转换电路或者多路转换电路开启，提高充电效率，根据需求实现升压或降压，且在功率较大时，多路转换电路可以对充电功率进行分担，使得各路转换电路的电流下降，减少了发热量，功率开关管的损耗风险较低。在一些实施例中，控制电路300配置为在第一电压大于第二电压和阈值电压之和时，控制升降压转换电路100和第一辅助转换电路210同时启动。需要说明的是，阈值电压作为比较门限用于判读第一节点A1的电压是否过高。在充电过程或者放电过中，若VBUS＞VBAT+VT，则同时使能升降压转换电路100和第一辅助转换电路210。其中，VBUS为第一电压，VBAT为第二电压，VT为阈值电压。若VBUS＜VBAT+VT，开关电源电路中的电流较小，损耗较低。此时可以采用一路转换电路进行充放电。充电时，由于第一辅助转换电路210开启将实现降压，放电时，由于第一辅助转换电路210开启将实现升压，故可以仅开启升降压转换电路100，在充电时升压，在放电时降压。在一些实施例中，控制电路300配置为在第一电压大于第二电压和阈值电压之和，且第一节点A1的功率大于参考功率时，控制升降压转换电路100和第一辅助转换电路210同时启动。需要说明的是，充电时，第一节点A1的功率是指电源的输出功率；放电时，第一节点A1的功率是指第一节点A1的负载功率。若第一节点A1的功率大于参考功率，则可以判定开关电源电路的充电功率或放电功率较高，损耗较高；反之，则充电功率或放电功率较低，损耗较低。在本实施方式中，开关电源电路采用更精细的控制流程。在判定VBUS＞VBAT+VT的情况下，进一步判断第一节点A1的功率是否大于参考功率。若VBUS＞VBAT+VT，且功率大于参考功率，则控制升降压转换电路100和第一辅助转换电路210同时启动；若功率小于参考功率，则关闭升降压转换电路100，并使能第一辅助转换电路210，以对电池进行充电或放电。可以理解的是，功率小于参考功率时，由于充电功率或放电功率没有太高，采用一路转换电路可以满足效率和散热要求。第一辅助转换电路210可以为实现单一功能的电路效率较高，而升降压转换电路100为复合功能的电路，其效率较低。因此使能第一辅助转换电路210可以有效提高充放电效率，并降低发热。参照图2，作为一种示例，本申请的一个实施例提出了一种开关电源电路。在该示例中，第一节点A1可以与适配器400耦接，以接入电源。第二节点A2与电池BAT耦接，以为电池BAT充电。第二节点A2与电容C的一端耦接，电容C的另一端与接地节点耦接，电容C用于对电池BAT充电。升降压转换电路100和第一辅助转换电路210中的各MOS管与控制电路300耦接，控制电路300用于控制各MOS管导通或关断。以下以开关电源电路以充电模式运行为例进行说明。在一些实施例中，升降压转换电路100包括第一功率开关管M1、第二功率开关管M2、第三功率开关管M3、第四功率开关管M4和第一电感L1，第一功率开关管M1的漏极与第一节点A1耦接；第二功率开关管M2的漏极与第一功率开关管M1的源极耦接，第二功率开关管M2的源极接地；第三功率开关管M3的漏极与电容C的第一端耦接；第四功率开关管M4的漏极与第三功率开关管M3的源极耦接，第四功率开关管M4的源极接地；第一电感L1耦接于第一功率开关管M1与第二功率开关管M2的连接点和第三功率开关管M3与第四功率开关管M4的连接点之间。作为一种示例，第一功率开关管M1、第二功率开关管M2、第三功率开关管M3和第四功率开关管M4均为N沟道MOS管。升降压转换电路100以降压模式运行时，控制电路300控制第三功率开关管M3常开，第四功率开关管M4常关，升降压转换电路100等效为降压电路。此时，控制电路300通过控制第一功率开关管M1和第二功率开关管M2按照一定的开关频率导通或断开，可以使第三功率开关管M3的漏极的电压小于第一节点A1的电压。第一功率开关管M1导通，第二功率开关管M2断开时，适配器400输出的电源通过第一电感L1和电容C充电；第一功率开关管M1断开，第二功率开关管M2导通时，第一电感L1为电池BAT充电，实现降压功能。由此可以在适配器电压高于电池BAT电压时，可以向第二节点A2提供低于A1的电压为电池BAT进行降压充电。升降压转换电路100以升压模式运行时，控制电路300控制第一功率开关管M1常开，第二功率开关管M2常关，升降压转换电路100等效为升压电路。此时，控制电路300通过控制第三功率开关管M3和第四功率开关管M4按照一定的开关频率导通或断开，可以使第三功率开关管M3的漏极的电压大于第一节点A1的电压。第三功率开关管M3导通，第四功率开关管M4断开时，适配器400和第一电感L1同时为电容C和电池BAT充电；第三功率开关管M3断开，第四功率开关管M4导通时，电容C为电池BAT充电，实现升压功能。由此可以在适配器电压低于电池BAT电压时，可以向第二节点A2提供高于A1的电压为电池BAT进行升压充电。在一些实施例中，第一辅助转换电路210包括串联的第一开关和第二开关，第一开关的一端与第一节点A1耦接，第二开关的一端与接地节点耦接；第二电感L2，耦接于第一开关和第二开关的连接点与第二节点A2之间。继续参照图2，第一开关为第五功率开关管M5，第二开关为第六功率开关管M6。第五功率开关管M5的漏极与第一节点A1耦接；第六功率开关管M6的漏极与第五功率开关管M5的源极耦接，第六功率开关管M6的源极接地；第二电感L2耦接于第五功率开关管M5与第六功率开关管M6的连接点和电容C1的第一端之间。在本实施方式中，第五功率开关管M5和第六功率开关管M6均为N沟道MOS管。控制电路300通过控制第五功率开关管M5和第六功率开关管M6按照一定的开关频率导通或断开，可以使第二电感L2与电容C1的第一端连接的一端的电压小于第一节点A1的电压。由此，在电池BAT充电前期，向第二节点A2提供较低的电压为电池BAT进行充电。降压原理与升降压转换电路100等效为降压电路时相同，具体参见前述。需要说明的是，图2示出的开关电源电路也可以以放电模式运行。此时，开关电源电路将电池BAT的电源通过第一节点A1向外部输出，以为负载供电。在一些实施例中，升降压转换电路100和第一辅助转换电路210配置为提供不同相位的电流。作为一种示例，升降压转换电路100在控制电路300的控制下提供第一相位的电流，第一辅助转换电路210在控制电路300的控制下提供第二相位的电流。控制电路300通过调整输出至升降压转换电路100的第一控制信号和输出至第一辅助转换电路210的第二控制信号之间的时序差，调整第一相位和第二相位之间的相位差。相位控制的原理已有成熟的技术，本实施方式在此不再赘述。通过利用多相位开关电源进行充电，可以提高充电效率。参照图3，图3示出图2所示出的开关电源电路的一种变形后的开关电源电路。图3示出的开关电源电路也能够与实现图2所示出的开关电源电路相同的功能。在一些实施例中，第一辅助转换电路210中的第五功率开关管M5与第六功率开关管M6的连接点连接到电感L2一端，电感L2另一端与第三功率开关管M3与第四功率开关管M4的连接点耦接。在需要第一辅助转换电路210工作时，控制第三功率开关管M3常开，第四功率开关管M4常关。此时，控制第一功率开关管M1与第二功率开关管M2切换到和第五功率开关管M5与第六功率开关管M6相同的电源拓扑结构，也可以组成两相开关电源。参照图4，本申请的一个实施例还提出了一种开关电源电路。在本实施方式中，开关电源电路包括第一节点A1、第二节点A2、升降压转换电路100、至少一路第二辅助转换电路220和控制电路300，第一节点A1充电时输入电源，放电时输出电源，第二节点A2充电时输出电源，放电时输入电源；升降压转换电路100耦接于第一节点A1和第二节点A2之间，且配置为在充电时或放电时受控地以升压模式、降压模式和升降压模式中的一种模式运行；第二辅助转换电路220与升降压转换电路100并联，且配置为在充电时受控地以升压模式运行，或者在放电时受控地以降压模式运行；控制电路300分别与升降压转换电路100和第二辅助转换电路220耦接，且配置为根据第一节点A1的第一电压和第二节点A2的第二电压，控制升降压转换电路100和/或第二辅助转换电路220开启。在本实施方式中，升降压转换电路100的结构和原理可以参照前述实施例，本实施方式在不再赘述。在本实施方式中，控制电路300可以控制升降压转换电路100和第二辅助转换电路220可以同时开启；或者控制电路300可以控制升降压转换电路100单独开启，或者控制电路300可以控制第二辅助转换电路220单独开启。第二辅助转换电路220充电时可以用于实现升压功能，或者在放电时实现降压功能。在充电时，若第一电压小于第二电压时，升降压转换电路100和第二辅助转换电路220可以以升压模式运行。在放电时，第一电压小于第二电压时，升降压转换电路100和第二辅助转换电路220可以以降压模式运行。可以理解的是，在升降压转换电路100和第二辅助转换电路220同时启动时，由于功率被分担，各路电流下降，各路开关管导通损耗下降，总的开关管导通损耗下降，提升了效率，并且降低了系统发热。同时由于充电功率由两路分担，因此单独每一路的电流下降，因此开关管在开关状态转换瞬间的毛刺下降，从而降低了开关管的电应力，提高了安全性。根据本申请的开关电源电路，通过设置至少两路转换电路，根据充放电的需求，可以控制一路转换电路或者多路转换电路开启，提高充电效率，根据需求实现升压或降压，且在功率较大时，多路转换电路可以对充电功率进行分担，使得各路转换电路的电流下降，减少了发热量，功率开关管的损耗风险较低。在一些实施例中，控制电路300配置为在第二电压大于第一电压和阈值电压之和时，控制升降压转换电路100和第二辅助转换电路220同时启动。需要说明的是，阈值电压作为比较门限用于判读第一节点A1的电压是否过高。在放电过中，第二节点接入输入时，若VBAT＞VBUS+VT，则同时使能升降压转换电路100和第二辅助转换电路220。其中，VBUS为第一电压，VBAT为第二电压，VT为阈值电压。若VBAT＜VBUS+VT，开关电源电路中的电流较小，损耗较低。此时可以采用一路转换电路进行充放电。充电时，由于第二辅助转换电路220开启将实现升压，放电时，由于第一辅助转换电路210开启将实现降压，故可以仅开启升降压转换电路100，在充电时升压，在放电时降压。在一些实施例中，控制电路300配置为在第二电压大于第一电压和阈值电压之和，且第一节点A的功率大于参考功率时，控制升降压转换电路100和第二辅助转换电路220同时启动。可以理解的是，若第一节点A1的功率大于参考功率，则可以判定开关电源电路的充电功率或放电功率较高，损耗较高；反之，则充电功率或放电功率较低，损耗较低。在本实施方式中，开关电源电路采用更精细的控制流程。在判定VBAT＞VBUS+VT的情况下，进一步判断第一节点A1的功率是否大于参考功率。若VBAT＞VBUS+VT，且功率大于参考功率，则控制升降压转换电路100和第二辅助转换电路220同时启动；若功率小于参考功率，则关闭升降压转换电路100，并使能第二辅助转换电路220，以对电池进行充电或放电。可以理解的是，功率小于参考功率时，由于充电功率或放电功率没有太高，采用一路转换电路可以满足效率和散热要求。第二辅助转换电路220可以为实现单一功能的电路效率较高，而升降压转换电路100为复合功能的电路，其效率较低。因此使能第二辅助转换电路220可以有效提高充放电效率，并降低发热。参照图5，作为一种示例，本申请的一个实施例提出了一种开关电源电路。在该示例中，升降压转换电路100的结构与图2中所示出的升降压转换电路100的结构相同，故对于升降压转换电路100的原理不在赘述。在一些实施例中，第二辅助转换电路220包括：串联的第三开关和第四开关，第三开关的一端与第二节点A2耦接，第四开关的一端与接地节点耦接；第三电感L3，耦接于第三开关和第四开关的连接点与第一节点A1之间。第三开关为第七功率开关管M7，第四开关为第八功率开关管M8。第七功率开关管M7的漏极与电容C的第一端耦接，第八功率开关管M8的漏极与第七功率开关管M7的源极耦接，第八功率开关管M8的源极接地；第三电感L3耦接于第七功率开关管M7与第八功率开关管M8的连接点和第一节点A1之间。在本实施方式中，第七功率开关管M7和第八功率开关管M8均为N沟道MOS管。控制电路300通过控制第七功率开关管M7和第八功率开关管M8按照一定的开关频率导通或断开，可以使第七功率开关管M7的漏极的电压大于第一节点A1的电压。由此可以在电池BAT充电后期，向第二节点A2提供较高的电压为电池BAT进行充电。升压原理与升降压转换电路100等效为升压电路时相同，具体参见前述。需要说明的是，图5示出的开关电源电路也可以以放电模式运行。此时，开关电源电路将电池BAT的电源通过第一节点A1向外部输出，以为负载供电。在一些实施例中，升降压转换电路100和第二辅助转换电路220配置为提供不同相位的电流。控制方式可以参照前述，本实施方式在此不再赘述。参照图6，本申请的一个实施例还提供了一种充放电方法，用于控制根据前述的开关电源电路，开关电源电路的第一节点A1与电源耦接，第二节点A2与电池BAT耦接。开关电源电路的具体结构可以参照上述。在本实施方式中，充放电方法包括：步骤10、获取电源的电源电压和电池的电池电压；步骤20、根据电源电压和电池电压，控制升降压转换电路和/或辅助转换电路开启，以进行充电或放电。需要说明的是，本实施方式提供的充放电方法的执行主体可以为开关电源电路中的控制电路300。控制电路300可以包括MCU，其具有数据通信、分析、计算等功能。需要说明的是，开关电源电路可以进行充电和放电。第一节点A1可以与适配器400耦接，第二节点A2可以与电池BAT耦接。在充电时，电源可以作为输入电源；在放电时，电池可以作为输入电源。在一些实施例中，适配器400和电池BAT均设有监控单元，监控单元可以对电压进行检测。控制电路300与适配器400的监控单元连接，获取电源电压。控制电路300与电池BAT的监控单元连接，获取电池电压。在本实施方式中，使能升降压转换电路100是指控制电路300控制升降压转换电路100以升压模式、降压模式或者升降压模式运行。使能辅助转换电路是指控制电路300控制辅助转换电路以相应的功能运行。辅助转换电路可以为前述的第一辅助转换电路210或第二辅助转换电路220，控制电路300根据辅助转换电路所能实现的功能不同，而执行不同的控制逻辑。若辅助转换电路可以为第一辅助转换电路210，控制电路300在VBUS＞VBAT+VT时，控制升降压转换电路100和第一辅助转换电路210同时启动。若辅助转换电路可以为第二辅助转换电路220，控制电路300在VBAT＞VBUS+VT时，控制升降压转换电路100和第二辅助转换电路220同时启动。VBUS为电源电压，VBAT为电池电压，VT为阈值电压。根据本申请的充放电方法，通过根据充放电的需求，可以控制一路转换电路或者多路转换电路开启，提高充电效率，根据需求实现升压或降压，且在功率较大时，多路转换电路可以对充电功率进行分担，使得各路转换电路的电流下降，减少了发热量，功率开关管的损耗风险较低。参照图7，在一些实施例中，充放电方法还可以包括以下控制流程：步骤10、获取电源的电源电压和电池的电池电压；步骤21、判断VBUS＞VBAT+VT，若否则进入步骤22，若是则进入步骤23；步骤22、使能升降压转换电路，并关闭辅助转换电路；步骤23、判断电源功率大于参考功率，若否则进入步骤24，若是则进入步骤25；步骤24、关闭升降压转换电路，并使能辅助转换电路；步骤25、同时使能升降压转换电路和辅助转换电路。需要说明的是，电源功率是指电源的输出功率，若电源功率大于参考功率，则可以判断开关电源电路的充电功率或放电功率较高，损耗较高；反之，则充电功率或放电功率较低，损耗较低。在本实施方式中，开关电源电路采用更精细的控制流程。在判定VBUS＞VBAT+VT的情况下，进一步判断电源功率是否大于参考功率。若VBUS＞VBAT+VT，且电源功率小于参考功率，则关闭升降压转换电路100，并使能辅助转换电路，以对电池进行充电或放电。可以理解的是，电源功率小于参考功率时，由于充电功率或放电功率没有太高，采用一路转换电路可以满足效率和散热要求。并且由于升降压转换电路100为复合功能的电路，其效率低于辅助转换电路。因此使能辅助转换电路可以有效提高充放电效率，并降低发热。若VBUS＞VBAT+VT，且电源功率大于参考功率，说明充放电功率很高，单一路转换电路的损耗较高。通常开启至少两路转换电路，可以提高充放电效率，并降低发热。以图2所示出的开关电源电路为例，关闭升降压转换电路100是指控制第一功率开关管M1、第二功率开关管M2、第三功率开关管M3和第四功率开关管M4均关闭。使能升降压转换电路100是指控制升降压转换电路100以升压模式、降压模式或升降压模式运行，关闭辅助转换电路是指控制第五功率开关管M5和第六功率开关管M6均关闭。使能辅助转换电路是指控制第五功率开关管M5和第六功率开关管M6按设定开关频率在导通或断开之间切换。升降压转换电路100和辅助转换电路在使能状态下的工作过程可以参照前述实施例。本申请的一个实施例还提供了一种充放电设备，充放电设备包括根据前述的开关电源电路。在一些实施例中，充放电设备可以为手机、笔记本电脑或者车载充电机等。根据本申请的充放电设备，开关电源电路设置有至少两路转换电路，各路开关电源电路可以对充电功率进行分担，使得各路开关电源电路的电流下降，减少了发热量，开关电源电路内的功率开关管的损耗风险较低。根据本申请的开关电源电路、充放电方法及充放电设备，开关电源电路设置至少两路转换电路，根据充放电的需求，可以控制一路转换电路或者多路转换电路开启，提高充电效率，根据需求实现升压或降压，且在功率较大时，多路转换电路可以对充电功率进行分担，使得各路转换电路的电流下降，减少了发热量，功率开关管的损耗风险较低。尽管已经示出和描述了本申请的实施例，本领域的普通技术人员可以理解：在不脱离本申请的原理和宗旨的情况下可以对这些实施例进行多种变化、修改、替换和变型，本申请的范围由权利要求及其等同物限定。
