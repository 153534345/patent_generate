标题title
基于改进Chan算法的三维定位方法和装置
摘要abst
本申请提供了一种基于改进Chan算法的三维定位方法和装置，方法包括：获取多个定位锚点相对于待测物体之间信号传播的到达时间数据；根据多个定位锚点相对于待测物体之间信号传播的到达时间数据，计算每个定位锚点与待测物体之间的距离值；根据每个定位锚点与待测物体之间的距离值，采用改进Chan算法计算得到待测物体的二维平面坐标以及高度值；根据待测物体的二维平面坐标以及高度值，确定待测物体的三维位置。该方法适用于定位锚点布设于同一高度的场景，便于锚点安装，减少锚点遮挡，提高三维定位的准确性。
权利要求书clms
1.一种基于改进Chan算法的三维定位方法，其特征在于，包括：获取多个定位锚点相对于待测物体之间信号传播的到达时间数据，其中，所述多个定位锚点布设于同一高度；根据所述多个定位锚点相对于待测物体之间信号传播的到达时间数据，计算每个定位锚点与所述待测物体之间的距离值；根据所述每个定位锚点与所述待测物体之间的距离值，采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值，所述改进Chan算法中包含有用于计算待测物体与定位锚点之间的高度差的计算公式，所述计算公式用于在定位锚点布设于同一高度的情况下对物体进行三维定位时确定物体的高度值；根据所述待测物体的二维平面坐标以及高度值，确定所述待测物体的三维位置。2.根据权利要求1所述的基于改进Chan算法的三维定位方法，其特征在于，所述采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值的步骤，包括：采用所述改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程的方程解以及所述方程解所对应的协方差矩阵计算得到所述待测物体的二维平面坐标；根据所述待测物体的二维平面坐标以及所述改进Chan算法中用于计算待测物体与定位锚点之间的高度差的计算公式，计算得到所述待测物体与所述定位锚点之间的高度差值，根据所述定位锚点的高度值以及所述待测物体与所述定位锚点之间的高度差值，计算得到所述待测物体的高度值。3.根据权利要求2所述的基于改进Chan算法的三维定位方法，其特征在于，所述改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程为：所述改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程的方程解为：所述方程解所对应的协方差矩阵为：其中， ，表示为距离观测值向量，/＞表示为第i个定位锚点对应得到的距离观测值，/＞表示为第i个定位锚点的横坐标值，/＞表示为第i个定位锚点的纵坐标值，n表示为定位锚点的个数；/＞表示为距离观测值残差向量，/＞表示为/＞的误差值；/＞ 表示为设计矩阵；/＞表示为待估参数向量，/＞表示为待测物体的横坐标值，/＞表示为待测物体的纵坐标值，/＞表示为待测物体的观测距离；/＞表示为观测值协方差矩阵，/＞，，/＞表示为/＞的噪声方差。4.根据权利要求2所述的基于改进Chan算法的三维定位方法，其特征在于，所述改进Chan算法中用于计算待测物体与定位锚点之间的高度差的计算公式为：其中，表示为待测物体的观测距离；/＞、/＞、/＞表示为待测物体的三维坐标；/＞表示为定位锚点的高度值。5.根据权利要求1-4任意一项所述的基于改进Chan算法的三维定位方法，其特征在于，所述根据所述每个定位锚点与所述待测物体之间的距离值，采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值的步骤之前，还包括：获取所述多个定位锚点的高度值，其中，每个定位锚点的高度值相同；根据所述定位锚点的高度值，采用UWB TOA距离观测值数学方程进行算法推导、矩阵形式表示以及利用最小二乘法进行方程计算，获得所述改进Chan算法，所述改进Chan算法中包括矩阵形式的UWB TOA距离观测值数学方程的方程解、所述方程解所对应的协方差矩阵以及用于计算待测物体与定位锚点之间的高度差的计算公式。6.根据权利要求5所述的基于改进Chan算法的三维定位方法，其特征在于，所述根据所述定位锚点的高度值，采用UWB TOA距离观测值数学方程进行算法推导、矩阵形式表示以及利用最小二乘法进行方程计算，获得所述改进Chan算法的步骤之后，还包括：构建若干个表征物体位置的高度值固定的三维坐标数据；根据所述若干个表征物体位置的高度值固定的三维坐标数据，对所述改进Chan算法进行仿真处理，以确定所述改进Chan算法的定位精度。7.根据权利要求6所述的基于改进Chan算法的三维定位方法，其特征在于，所述根据所述若干个表征物体位置的高度值固定的三维坐标数据，对所述改进Chan算法进行仿真处理，以确定所述改进Chan算法的定位精度的步骤，包括：针对每个三维坐标数据，获得多个观测距离值，所述多个观测距离值与所述多个定位锚点一一对应；针对每个所述三维坐标数据获得的每个观测距离值，加入预设的服从正态分布的观测噪声，获得含观测噪声的观测距离值；采用所述改进Chan算法对所述含观测噪声的观测距离值进行解算，获得所述三维坐标数据对应表征的物体位置的仿真三维坐标值；将所述仿真三维坐标值与所述三维坐标数据进行比对，获得坐标差值；根据所有三维坐标数据对应获得的坐标差值，计算得到在高度值固定的平面上的平面误差的均方根误差和高程误差的均方根误差，所述平面误差的均方根误差和高程误差的均方根误差用于表示所述改进Chan算法的定位精度。8.一种基于改进Chan算法的三维定位装置，其特征在于，包括：获取模块，用于获取多个定位锚点相对于待测物体之间信号传播的到达时间数据，其中，所述多个定位锚点布设于同一高度；第一计算模块，用于根据所述多个定位锚点相对于待测物体之间信号传播的到达时间数据，计算每个定位锚点与所述待测物体之间的距离值；第二计算模块，用于根据所述每个定位锚点与所述待测物体之间的距离值，采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值，所述改进Chan算法中包含有用于计算待测物体与定位锚点之间的高度差的计算公式，所述计算公式用于在定位锚点布设于同一高度的情况下对物体进行三维定位时确定物体的高度值；确定模块，用于根据所述待测物体的二维平面坐标以及高度值，确定所述待测物体的三维位置。9.一种电子设备，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至7任一项所述方法的步骤。10.一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至7任一项所述方法的步骤。
说明书desc
技术领域本申请涉及定位导航技术领域，尤其涉及一种基于改进Chan算法的三维定位方法和装置，还涉及用于执行该基于改进Chan算法的三维定位方法的电子设备及存储介质。背景技术超宽带技术是一种新兴的无线通信技术，采用纳秒级非正弦波窄脉冲在极宽的频谱上传输极低功率信号，进而实现无载波通信。UWB定位是指利用事先布置好的已知位置的锚点与新加入的标记点进行通信，获取标记点与各锚点之间的距离相关参数，如到达时间、到达时间差、到达角度、接收信号强度等，再采用如Chan、Taylor等定位算法对获得的距离相关参数进行定位计算，即可得到标记点的位置。UWB定位具有精度高、抗干扰、功耗低、布设方便、性价比高等特点，越来越多地应用于机场、地铁、商场等场景的导航定位。目前，现有的UWBTOA定位技术中用于进行三维定位的Chan算法一般要求锚点安装在不同高度，然而在实际应用中，在室内不同高度安装锚点时容易使锚节点受到遮挡，而且受室内环境因素影响，锚点难以安装在准确的位置上且安装好后位置也容易因外力而发生改变，这些情况都将会影响三维定位的准确性。发明内容有鉴于此，本申请实施例提供了一种基于改进Chan算法的三维定位方法和装置，以及用于执行该基于改进Chan算法的三维定位方法的电子设备及存储介质，利用改进Chan算法进行三维定位计算，适用于锚点位于同一高度的场景中，可以便于锚点安装，减少锚点遮挡，提高三维定位的准确性。本申请实施例的第一方面提供了一种基于改进Chan算法的三维定位方法，包括：获取多个定位锚点相对于待测物体之间信号传播的到达时间数据，其中，所述多个定位锚点布设于同一高度；根据所述多个定位锚点相对于待测物体之间信号传播的到达时间数据，计算每个定位锚点与所述待测物体之间的距离值；根据所述每个定位锚点与所述待测物体之间的距离值，采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值，所述改进Chan算法中包含有用于计算待测物体与定位锚点之间的高度差的计算公式，所述计算公式用于在定位锚点布设于同一高度的情况下对物体进行三维定位时确定物体的高度值；根据所述待测物体的二维平面坐标以及高度值，确定所述待测物体的三维位置。在一种可能的实现方式中，所述采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值的步骤，包括：采用所述改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程的方程解以及所述方程解所对应的协方差矩阵计算得到所述待测物体的二维平面坐标；根据所述待测物体的二维平面坐标以及所述改进Chan算法中用于计算待测物体与定位锚点之间的高度差的计算公式，计算得到所述待测物体与所述定位锚点之间的高度差值，根据所述定位锚点的高度值以及所述待测物体与所述定位锚点之间的高度差值，计算得到所述待测物体的高度值。在一种可能的实现方式中，所述改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程为：所述改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程的方程解为：所述方程解所对应的协方差矩阵为：其中，，表示为距离观测值向量，/＞表示为第i个定位锚点对应得到的距离观测值，/＞表示为第i个定位锚点的横坐标值，/＞表示为第i个定位锚点的纵坐标值，n表示为定位锚点的个数；/＞表示为距离观测值残差向量，表示为/＞的误差值；/＞表示为设计矩阵；/＞表示为待估参数向量；/＞表示为待测物体的横坐标值，/＞表示为待测物体的纵坐标值，/＞表示为待测物体的观测距离；/＞，表示为观测值协方差矩阵，/＞，，/＞表示为/＞的噪声方差。在一种可能的实现方式中，所述改进Chan算法中用于计算待测物体与定位锚点之间的高度差的计算公式为：其中，表示为待测物体的观测距离；/＞、/＞、/＞表示为待测物体的三维坐标；表示为定位锚点的高度值。在一种可能的实现方式中，所述根据所述每个定位锚点与所述待测物体之间的距离值，采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值的步骤之前，还包括：获取所述多个定位锚点的高度值，其中，每个定位锚点的高度值相同；根据所述定位锚点的高度值，采用UWB TOA距离观测值数学方程进行算法推导、矩阵形式表示以及利用最小二乘法进行方程计算，获得所述改进Chan算法，所述改进Chan算法中包括矩阵形式的UWB TOA距离观测值数学方程的方程解、所述方程解所对应的协方差矩阵以及用于计算待测物体与定位锚点之间的高度差的计算公式。在一种可能的实现方式中，所述根据所述定位锚点的高度值，采用UWB TOA距离观测值数学方程进行算法推导、矩阵形式表示以及利用最小二乘法进行方程计算，获得所述改进Chan算法的步骤之后，还包括：构建若干个表征物体位置的高度值固定的三维坐标数据；根据所述若干个表征物体位置的高度值固定的三维坐标数据，对所述改进Chan算法进行仿真处理，以确定所述改进Chan算法的定位精度。在一种可能的实现方式中，所述根据所述若干个表征物体位置的高度值固定的三维坐标数据，对所述改进Chan算法进行仿真处理，以确定所述改进Chan算法的定位精度的步骤，包括：针对每个三维坐标数据，获得多个观测距离值，所述多个观测距离值与所述多个定位锚点一一对应；针对每个所述三维坐标数据获得的每个观测距离值，加入预设的服从正态分布的观测噪声，获得含观测噪声的观测距离值；采用所述改进Chan算法对所述含观测噪声的观测距离值进行解算，获得所述三维坐标数据对应表征的物体位置的仿真三维坐标值；将所述仿真三维坐标值与所述三维坐标数据进行比对，获得坐标差值；根据所有三维坐标数据对应获得的坐标差值，计算得到在高度值固定的平面上的平面误差的均方根误差和高程误差的均方根误差，所述平面误差的均方根误差和高程误差的均方根误差用于表示所述改进Chan算法的定位精度。本申请实施例的第二方面提供了一种基于改进Chan算法的三维定位装置，包括：获取模块，用于获取多个定位锚点相对于待测物体之间信号传播的到达时间数据，其中，所述多个定位锚点布设于同一高度；第一计算模块，用于根据所述多个定位锚点相对于待测物体之间信号传播的到达时间数据，计算每个定位锚点与所述待测物体之间的距离值；第二计算模块，用于根据所述每个定位锚点与所述待测物体之间的距离值，采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值，所述改进Chan算法中包含有用于计算待测物体与定位锚点之间的高度差的计算公式，所述计算公式用于在定位锚点布设于同一高度的情况下对物体进行三维定位时确定物体的高度值；确定模块，用于根据所述待测物体的二维平面坐标以及高度值，确定所述待测物体的三维位置。本申请实施例的第三方面提供了一种电子设备，包括存储器、处理器以及存储在所述存储器中并可在电子设备上运行的计算机程序，所述处理器执行所述计算机程序时实现第一方面提供的基于改进Chan算法的三维定位方法的各步骤。本申请实施例的第四方面提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现第一方面提供的基于改进Chan算法的三维定位方法的各步骤。本申请实施例提供的一种基于改进Chan算法的三维定位方法、装置、电子设备及存储介质，具有以下有益效果：本申请通过获取多个定位锚点相对于待测物体之间信号传播的到达时间数据；根据多个定位锚点相对于待测物体之间信号传播的到达时间数据，计算每个定位锚点与待测物体之间的距离值；根据每个定位锚点与待测物体之间的距离值，采用改进Chan算法计算得到待测物体的二维平面坐标以及高度值；根据待测物体的二维平面坐标以及高度值，确定待测物体的三维位置。该方法适用于定位锚点布设于同一高度的场景，便于锚点安装，减少锚点遮挡，提高三维定位的准确性。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例提供的一种基于改进Chan算法的三维定位方法的实现流程图；图2为本申请实施例提供的基于改进Chan算法的三维定位方法中采用改进Chan算法计算待测物体的二维平面坐标以及高度值时的一种方法实现流程图；图3为本申请实施例提供的基于改进Chan算法的三维定位方法中获得改进Chan算法的一种方法实现流程图；图4为本申请实施例提供的基于改进Chan算法的三维定位方法中确定改进Chan算法定位精度的一种方法实现流程图；图5为本申请实施例提供的基于改进Chan算法的三维定位方法中所有定位锚点布设于同一高度的一种场景示意图；图6为本申请实施例提供的基于改进Chan算法的三维定位方法中对改进Chan算法进行仿真处理的一种方法实现流程图；图7为本申请实施例提供的一种基于改进Chan算法的三维定位装置的基础结构框图；图8为本申请实施例提供的一种电子设备的基本结构框图。具体实施方式以下描述中，为了说明而不是为了限定，提出了诸如特定系统结构、技术之类的具体细节，以便透彻理解本申请实施例。然而，本领域的技术人员应当清楚，在没有这些具体细节的其它实施例中也可以实现本申请。在其它情况中，省略对众所周知的系统、装置、电路以及方法的详细说明，以免不必要的细节妨碍本申请的描述。应当理解，当在本申请说明书和所附权利要求书中使用时，术语“包括”指示所描述特征、整体、步骤、操作、元素和/或组件的存在，但并不排除一个或多个其它特征、整体、步骤、操作、元素、组件和/或其集合的存在或添加。还应当理解，在本申请说明书和所附权利要求书中使用的术语“和/或”是指相关联列出的项中的一个或多个的任何组合以及所有可能组合，并且包括这些组合。如在本申请说明书和所附权利要求书中所使用的那样，术语“如果”可以依据上下文被解释为“当...时”或“一旦”或“响应于确定”或“响应于检测到”。类似地，短语“如果确定”或“如果检测到”可以依据上下文被解释为意指“一旦确定”或“响应于确定”或“一旦检测到”或“响应于检测到”。另外，在本申请说明书和所附权利要求书的描述中，术语“第一”、“第二”、“第三”等仅用于区分描述，而不能理解为指示或暗示相对重要性。在本申请说明书中描述的参考“一个实施例”或“一些实施例”等意味着在本申请的一个或多个实施例中包括结合该实施例描述的特定特征、结构或特点。由此，在本说明书中的不同之处出现的语句“在一个实施例中”、“在一些实施例中”、“在其他一些实施例中”、“在另外一些实施例中”等不是必然都参考相同的实施例，而是意味着“一个或多个但不是所有的实施例”，除非是以其他方式另外特别强调。术语“包括”、“包含”、“具有”及它们的变形都意味着“包括但不限于”，除非是以其他方式另外特别强调。“多个”表示“两个或两个以上”。为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。请参阅图1，图1为本申请实施例提供的一种基于改进Chan算法的三维定位方法的实现流程图。具体可以包括如下步骤S11至步骤S14。S11：获取多个定位锚点相对于待测物体之间信号传播的到达时间数据，其中，所述多个定位锚点布设于同一高度。本实施例中，超宽带技术是一种无线通信技术，采用纳秒级非正弦波窄脉冲在极宽的频谱上传输极低功率信号，以此实现无载波通信。在本实施例中，可以在待测物体上安装UWB通信标签，通过UWB通信标签发出UWB定位信号，多个定位锚点各自接收UWB通信标签发出UWB定位信号来获得多个定位锚点相对于待测物体之间信号传播的到达时间数据。S12：根据所述多个定位锚点相对于待测物体之间信号传播的到达时间数据，计算每个定位锚点与所述待测物体之间的距离值。本实施例中，到达时间测距是通过测量信号从待测物体到定位锚点的到达时间来计算距离。根据距离等于速度乘以时间，因此，根据信号的传播速度和到达时间，可以计算得出待测物体到定位锚点的距离。可以理解的是，信号的传播速度通常以光速表示。S13：根据所述每个定位锚点与所述待测物体之间的距离值，采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值，所述改进Chan算法中包含有用于计算待测物体与定位锚点之间的高度差的计算公式，所述计算公式用于在定位锚点布设于同一高度的情况下对物体进行三维定位时确定物体的高度值。本实施例中，在UWB TOA定位技术中，TOA定位是基于电波传播时间的定位方法，需要同时有三个或三个以上位置已知的定位锚点来协助定位。TOA定位的基本原理是得到三个或三个以上达到时间后，可以算出物体到三个或三个以上定位锚点的距离，然后根据几何知识建立方程组并求解，从而求得物体的位置。在本实施例中，改进Chan算法通过设定各个定位锚点高度相同来修改UWB TOA距离观测值数学方程，再利用最小二乘法获得方程解及其协方差矩阵。通过方程解及其协方差矩阵可以计算得到待测物体的二维平面坐标，进而在获得待测物体的二维平面坐标的基础上，计算出待测物体与定位锚点之间的高度差，从而基于高度差以及定位锚点的高度值，计算得到待测物体的高度值。S14：根据所述待测物体的二维平面坐标以及高度值，确定所述待测物体的三维位置。本实施例中，将待测物体的二维平面坐标作为待测物体在三维空间中x轴、y轴的坐标值，将待测物体的高度值作为待测物体在三维空间中z轴的坐标值，获得待测物体在三维空间中的三维坐标，通过三维坐标即可确定待测物体的三维位置。以上可以看出，本申请实施例提供的基于改进Chan算法的三维定位方法通过获取多个定位锚点相对于待测物体之间信号传播的到达时间数据；根据多个定位锚点相对于待测物体之间信号传播的到达时间数据，计算每个定位锚点与待测物体之间的距离值；根据每个定位锚点与待测物体之间的距离值，采用改进Chan算法计算得到待测物体的二维平面坐标以及高度值；根据待测物体的二维平面坐标以及高度值，获得待测物体的三维位置。该方法适用于定位锚点布设于同一高度的场景，便于锚点安装，减少锚点遮挡，提高三维定位的准确性，该改进Chan算法可以避免采用传统Chan算法对定位锚点布设于同一高度场景的物体进行三维定位计算时存在的矩阵奇异的问题。本申请的一些实施例中，请参阅图2，图2为本申请实施例提供的基于改进Chan算法的三维定位方法中采用改进Chan算法计算待测物体的二维平面坐标以及高度值时的一种方法实现流程图。如图2所示，具体可以包括步骤S21至步骤S22。S21：采用所述改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程的方程解以及所述方程解所对应的协方差矩阵计算得到所述待测物体的二维平面坐标；S22：根据所述待测物体的二维平面坐标以及所述改进Chan算法中用于计算待测物体与定位锚点之间的高度差的计算公式，计算得到所述待测物体与所述定位锚点之间的高度差值，根据所述定位锚点的高度值以及所述待测物体与所述定位锚点之间的高度差值，计算得到所述待测物体的高度值。本实施例中， 传统的Chan算法通过UWB TOA距离观测值数学方程来进行UWB TOA三维定位，然而，针对所有定位锚点布设于同一高度的情况，由于存在矩阵奇异问题，无法通过Chan算法来进行UWB TOA三维定位计算。在本实施例中，通过针对所有定位锚点布设于同一高度的情况来改进传统的Chan算法，得到改进Chan算法，进而采用改进Chan算法进行UWB TOA三维定位计算，从而确定待测物体的三维位置。在本实施例中，通过改进Chan算法可以在定位锚点布设于同一高度的情况下对物体进行三维定位计算时，先将三维定位问题转换为二维定位问题，通过改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程的方程解以及方程解所对应的协方差矩阵计算得到待测物体的二维平面坐标。进而在得到待测物体的二维平面坐标的基础上，结合距离观测值中待测物体与定位锚点之间的高度差信息，通过改进Chan算法中用于计算待测物体与定位锚点之间的高度差的计算公式，计算得到待测物体与定位锚点之间的高度差值，再根据定位锚点的高度值以及待测物体与定位锚点之间的高度差值，计算得到待测物体的高度值。示例性的，在本实施例中，改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程为：。改进Chan算法中矩阵形式的UWB TOA距离观测值数学方程的方程解为：。方程解所对应的协方差矩阵为：。具体地，，表示为距离观测值向量，/＞表示为第i个定位锚点对应得到的距离观测值，/＞表示为第i个定位锚点的横坐标值，/＞表示为第i个定位锚点的纵坐标值，n表示为定位锚点的个数；/＞表示为距离观测值残差向量，/＞表示为/＞的误差值；/＞表示为设计矩阵；/＞表示为待估参数向量，/＞表示为待测物体的横坐标值，/＞表示为待测物体的纵坐标值，/＞表示为待测物体的观测距离；/＞表示为观测值协方差矩阵，，/＞，/＞表示为/＞的噪声方差。在本实施例中，通过上述矩阵形式的UWB TOA距离观测值数学方程的方程解以及方程解所对应的协方差矩阵进行联合求解，可以计算得到待测物体的二维平面坐标。示例性的，改进Chan算法中用于计算待测物体与定位锚点之间的高度差的计算公式为：。具体地，/＞表示为待测物体的观测距离；/＞、/＞、/＞表示为待测物体的三维坐标；/＞表示为定位锚点的高度值。通过上述用于计算待测物体与定位锚点之间的高度差的计算公式，在已计算得到待测物体的二维平面坐标的基础上，结合多个定位锚点均相同的高度值，可以计算得到待测物体的高度值。本申请的一些实施例中，请参阅图3，图3为本申请实施例提供的基于改进Chan算法的三维定位方法中获得改进Chan算法的一种方法实现流程图。如图3所示，具体可以包括步骤S31至步骤S32。S31：获取所述多个定位锚点的高度值，其中，每个定位锚点的高度值相同；S32：根据所述定位锚点的高度值，采用UWB TOA距离观测值数学方程进行算法推导、矩阵形式表示以及利用最小二乘法进行方程计算，获得所述改进Chan算法，所述改进Chan算法中包括矩阵形式的UWB TOA距离观测值数学方程的方程解、所述方程解所对应的协方差矩阵以及用于计算待测物体与定位锚点之间的高度差的计算公式。本实施例中，多个定位锚点的高度值相同，为统一的数值。定位锚点的高度值可以由用户对实际场景进行测绘，将测绘得到的数值输入至获得基于改进Chan算法的三维定位系统中，根据定位锚点的高度值，采用UWB TOA距离观测值数学方程进行算法推导、矩阵形式表示以及利用最小二乘法进行方程计算，获得改进Chan算法。示例性的，改进Chan算法的具体如下：针对所有定位锚点布设于同一高度的场景，统一所有定位锚点的高度值，如。将定位锚点的高度值代入UWB TOA距离观测值数学方程，得到公式一：/＞。对上述公式一进行平方计算，得到公式二：/＞，其中，，即。通过对公式二转换为矩阵形式表示，得到公式三：/＞。具体地，/＞，表示为距离观测值向量，/＞表示为第i个定位锚点对应得到的距离观测值，/＞表示为第i个定位锚点的横坐标值，/＞表示为第i个定位锚点的纵坐标值，n表示为定位锚点的个数。表示为距离观测值残差向量，其中，/＞表示为/＞的误差值。表示为设计矩阵。/＞表示为待估参数向量，/＞表示为待测物体的横坐标值，/＞表示为待测物体的纵坐标值，/＞表示为待测物体的观测距离。结合观测值协方差矩阵/＞，/＞，/＞，/＞表示为/＞的噪声方差，/＞，利用最小二乘法，得到上述公式三的方程解及其协方差矩阵，具体地，方程解表示为/＞，协方差矩阵表示为。在有待测物体的二维平面坐标的基础上，进一步地，通过公式四计算待测物体的高度值，公式四为/＞，即。结合待测物体的二维平面坐标和待测物体的高度值，即可得到确定待测物体的三维位置。待测物体的三维位置表示为/＞，其对应的协方差矩阵表示为/＞，具体地，，/＞。在本实施例中，改进Chan算法实际上是将物体的三维定位转换为二维定位，而且与单纯的二维定位不同的是具有未知参数/＞。当/＞时，/＞即为单纯的二维定位。当/＞时，即为改进Chan算法的三维定位。在采用改进Chan算法进行三维定位时，/＞吸收了距离观测值中相对高度差/＞这部分信息，可以利用/＞计算得到待测物体的高度值。而且基于/＞的计算公式可知，待测物体与定位锚点之间的高度差越大，/＞中第三行的三个元素数值会越小，相应地，待估参数中/＞的方差就越小，表示获得的/＞的精度就越高。本申请的一些实施例中，请参阅图4，图4为本申请实施例提供的基于改进Chan算法的三维定位方法中确定改进Chan算法定位精度的一种方法实现流程图。如图4所示，具体可以包括步骤S41至步骤S42。S41：构建若干个表征物体位置的高度值固定的三维坐标数据；S42：根据所述若干个表征物体位置的高度值固定的三维坐标数据，对所述改进Chan算法进行仿真处理，以确定所述改进Chan算法的定位精度。本实施例中，请一并参阅图5，图5为本申请实施例提供的基于改进Chan算法的三维定位方法中所有定位锚点布设于同一高度的一种场景示意图。如图5所示，假设四个定位锚点分别安装在长宽高分别为10米、10米和5米的房间的四个顶角，四个定位锚点的坐标分别为Anchor1、Anchor2、Anchor3、Anchor4。在本实施例中，通过高度值固定来确定一个二维平面，在该二维平面中随机构建若干个表征物体位置的高度值固定的三维坐标数据Tag，例如在高度为0.0米的二维平面中随机选取200个三维坐标点作为若干个表征物体位置的高度值固定的三维坐标数据。构建好三维坐标数据后，可以将每个三维坐标数据分别作为待测物体的位置来对改进Chan算法进行仿真处理，以测算出改进Chan算法的定位精度。在本实施例中，通过设定多个固定高度的二维平面来进行仿真可知，改进Chan算法的高度定位精度跟待测物体与定位锚点之间的高度差相关，高度差越大，改进Chan算法的高度定位精度越高。本申请的一些实施例中，请参阅图6，图6为本申请实施例提供的基于改进Chan算法的三维定位方法中对改进Chan算法进行仿真处理的一种方法实现流程图。如图6所示，具体可以包括步骤S61至步骤S65。S61：针对每个三维坐标数据，获得多个观测距离值，所述多个观测距离值与所述多个定位锚点一一对应；S62：针对每个所述三维坐标数据获得的每个观测距离值，加入预设的服从正态分布的观测噪声，获得含观测噪声的观测距离值；S63：采用所述改进Chan算法对所述含观测噪声的观测距离值进行解算，获得所述三维坐标数据对应表征的物体位置的仿真三维坐标值；S64：将所述仿真三维坐标值与所述三维坐标数据进行比对，获得坐标差值；S65：根据所有三维坐标数据对应获得的坐标差值，计算得到在高度值固定的平面上的平面误差的均方根误差和高程误差的均方根误差，所述平面误差的均方根误差和高程误差的均方根误差用于表示所述改进Chan算法的定位精度。本实施例中，对改进Chan算法进行仿真处理时，如图5所示，由于有四个定位锚点，针对每个三维坐标数据，具体可以获得四个观测距离值，四个观测距离值与四个定位锚点一一对应。通过在每个观测距离值上仿真加入一个预设的服从正态分布的观测噪声，例如均值为0.0米、方差为0.05米服从正态分布的观测噪声，以使各观测距离值含有观测噪声。获得含观测噪声的观测距离值后，采用改进Chan算法对含观测噪声的观测距离值进行解算，以此获得三维坐标数据对应表征的物体位置的仿真三维坐标值。针对若干个三维坐标数据，对于每个三维坐标数据采用改进Chan算法仿真计算若干次，可获得20000组仿真三维坐标值。对该20000组仿真三维坐标值，将每个仿真三维坐标值分别与三维坐标数据进行比对，可获得10000组坐标差值。根据所有三维坐标数据对应获得的坐标差值，通过均方根误差计算方式，计算得到在高度值固定的平面上的平面误差的均方根误差和高程误差的均方根误差。在本实施例中，用于计算平面误差的均方根误差的计算公式为：。在本实施例中，用于计算高程误差的均方根误差的计算公式为：。具体地，为第i个三维坐标数据，/＞；/＞表示为仿真计算次数；/＞为计算获得的第i个三维坐标数据所对应的第j次仿真计算的坐标值。可以理解的是，平面误差的均方根误差和高程误差的均方根误差用于表示改进Chan算法的定位精度。可以理解的是，上述实施例中各步骤的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本申请实施例的实施过程构成任何限定。本申请的一些实施例中，请参阅图7，图7为本申请实施例提供的一种基于改进Chan算法的三维定位装置的基础结构框图。本实施例中该装置包括的各单元用于执行上述方法实施例中的各步骤。具体请参阅上述方法实施例中的相关描述。为了便于说明，仅示出了与本实施例相关的部分。如图7所示，基于改进Chan算法的三维定位装置包括：获取模块71、第一计算模块72、第二计算模块73和确定模块74。其中：获取模块71用于获取多个定位锚点相对于待测物体之间信号传播的到达时间数据，其中，所述多个定位锚点布设于同一高度。第一计算模块72用于根据所述多个定位锚点相对于待测物体之间信号传播的到达时间数据，计算每个定位锚点与所述待测物体之间的距离值。第二计算模块73用于根据所述每个定位锚点与所述待测物体之间的距离值，采用改进Chan算法计算得到所述待测物体的二维平面坐标以及高度值，所述改进Chan算法中包含有用于计算待测物体与定位锚点之间的高度差的计算公式，所述计算公式用于在定位锚点布设于同一高度的情况下对物体进行三维定位时确定物体的高度值。确定模块74用于根据所述待测物体的二维平面坐标以及高度值，确定所述待测物体的三维位置。应当理解的是，上述基于改进Chan算法的三维定位装置，与上述的基于改进Chan算法的三维定位方法一一对应，此处不再赘述。本申请的一些实施例中，请参阅图8，图8为本申请实施例提供的一种电子设备的基本结构框图。如图8所示，该实施例的电子设备8包括：处理器81、存储器82以及存储在所述存储器82中并可在所述处理器81上运行的计算机程序83，例如基于改进Chan算法的三维定位方法的程序。处理器81执行所述计算机程序83时实现上述各个基于改进Chan算法的三维定位方法各实施例中的步骤。或者，所述处理器81执行所述计算机程序83时实现上述基于改进Chan算法的三维定位装置对应的实施例中各模块的功能。具体请参阅实施例中的相关描述，此处不赘述。示例性的，所述计算机程序83可以被分割成一个或多个模块，所述一个或者多个模块被存储在所述存储器82中，并由所述处理器81执行，以完成本申请。所述一个或多个模块可以是能够完成特定功能的一系列计算机程序指令段，该指令段用于描述所述计算机程序83在所述电子设备8中的执行过程。例如，所述计算机程序83可以被分割成获取模块、第一计算模块、第二计算模块和确定模块，各模块具体功能如上所述。所述电子设备可包括，但不仅限于，处理器81、存储器82。本领域技术人员可以理解，图8仅仅是电子设备8的示例，并不构成对电子设备8的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如所述电子设备还可以包括输入输出设备、网络接入设备、总线等。所述处理器81可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。所述存储器82可以是所述电子设备8的内部存储单元，例如电子设备8的硬盘或内存。所述存储器82也可以是所述电子设备8的外部存储设备，例如所述电子设备8上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，所述存储器82还可以既包括所述电子设备8的内部存储单元也包括外部存储设备。所述存储器82用于存储所述计算机程序以及所述电子设备所需的其他程序和数据。所述存储器82还可以用于暂时地存储已经输出或者将要输出的数据。需要说明的是，上述装置/单元之间的信息交互、执行过程等内容，由于与本申请方法实施例基于同一构思，其具体功能及带来的技术效果，具体可参见方法实施例部分，此处不再赘述。本申请实施例还提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时可实现上述各个方法实施例中的步骤。在本实施例中，所述计算机可读存储介质可以是非易失性，也可以是易失性。本申请实施例提供了一种计算机程序产品，当计算机程序产品在移动终端上运行时，使得移动终端执行时可实现上述各个方法实施例中的步骤。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将所述装置的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。实施例中的各功能单元、模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中，上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。另外，各功能单元、模块的具体名称也只是为了便于相互区分，并不用于限制本申请的保护范围。上述系统中单元、模块的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。所述集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请实现上述实施例方法中的全部或部分流程，也可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个方法实施例的步骤。其中，所述计算机程序包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，所述计算机可读介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如在某些司法管辖区，根据立法和专利实践，计算机可读介质不包括电载波信号和电信信号。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述或记载的部分，可以参见其它实施例的相关描述。以上所述实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的精神和范围，均应包含在本申请的保护范围之内。
