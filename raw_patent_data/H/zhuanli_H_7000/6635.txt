标题title
数据包传输方法、装置、设备、介质和计算机程序产品
摘要abst
本申请涉及一种数据包传输方法、装置、计算机设备、存储介质和计算机程序产品。该方法涉及数据网络传输领域，该方法包括：若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息；接收接收端反馈的关于链路测试包的丢包信息；根据发包信息与丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路；通过选择的至少一个目标传输链路传输数据包至接收端。采用本方法能够提升链路传输质量的同时提升链路传输效率。
权利要求书clms
1.一种数据包传输方法，其特征在于，所述方法包括：若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至所述接收端，并记录发包信息；接收所述接收端反馈的关于所述链路测试包的丢包信息；根据所述发包信息与所述丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路；通过选择的所述至少一个目标传输链路传输所述数据包至所述接收端。2.根据权利要求1所述的方法，其特征在于，所述通过各网络传输链路均发送包尺寸级别不同的链路测试包至所述接收端，包括：获取包尺寸级别不同、且携带连续的包标识的链路测试包；在每个网络传输链路上，将包尺寸级别不同、且携带连续的包标识的链路测试包依次发送至所述接收端。3.根据权利要求2所述的方法，其特征在于，所述记录发包信息，包括：当通过网络传输链路发送链路测试包之后，将所发送的链路测试包的包标识、所发送的链路测试包所属的包尺寸级别、传输所述链路测试包的网络传输链路的链路标识对应存储。4.根据权利要求1所述的方法，其特征在于，所述接收所述接收端反馈的关于所述链路测试包的丢包信息，包括：接收所述接收端反馈的各网络传输链路上的丢失的链路测试包的包标识；所述丢失的链路测试包的包标识基于已接收到的链路测试包的包标识确定。5.根据权利要求1所述的方法，其特征在于，所述根据所述发包信息与所述丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率，包括：根据所述丢包信息获取丢失的链路测试包的包标识；根据所述包标识查询所述发包信息中的发包记录，得到所述丢失的链路测试包所属的包尺寸级别与传输所述丢失的链路测试包的网络传输链路的链路标识；其中，所述发包信息中的每条发包记录包括链路测试包的包标识、链路测试包所属的包尺寸级别与传输所述链路测试包的网络传输链路的链路标识；对于每个链路标识，根据所述丢包信息统计各包尺寸级别对应的丢包数量；对于每个链路标识，根据所述发包信息统计各包尺寸级别对应的发包数量；对于每个链路标识，针对每个包尺寸级别，根据对应的丢包数量与相应的发包数量，统计相应包尺寸级别对应的有效传输率。6.根据权利要求1所述的方法，其特征在于，所述基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路，包括：根据待传输的数据包的包尺寸，确定所述数据包所属的包尺寸级别；从各网络传输链路中，选择当前与所述数据包所属的包尺寸级别对应的有效传输率最大的网络传输链路，作为目标传输链路。7.根据权利要求1所述的方法，其特征在于，所述待传输的数据包为待传输的语音数据包，所述方法还包括：对所述语音数据包进行语音关键性分析，得到语音关键性值；所述基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路，包括：当所述语音关键性值表示所述语音数据包为非关键数据包时，则基于所述语音数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择一个目标传输链路。8.根据权利要求7所述的方法，其特征在于，所述方法还包括：当所述语音关键性值表示所述语音数据包为关键数据包时，则基于所述语音数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少两个目标传输链路。9.根据权利要求7所述的方法，其特征在于，所述对所述语音数据包进行语音关键性分析，得到语音关键性值，包括：获取所述语音数据包对应的语音帧；分别识别所述语音帧是否为语音起始帧、能量突增帧、基音周期突变帧和非活跃帧，根据各个识别结果计算所述语音帧对应的语音关键性值。10.根据权利要求9所述的方法，其特征在于，识别所述语音帧是否为语音起始帧的步骤包括：对所述语音帧进行语音活跃度检测，得到第一检测结果；获取所述语音帧的前一帧关于语音活跃度的第二检测结果；若所述第二检测结果指示所述前一帧为非活跃帧、所述第一检测结果指示所述语音帧为活跃帧，则确定所述语音帧为语音起始帧。11.根据权利要求9所述的方法，其特征在于，识别所述语音帧是否为能量突增帧的步骤包括：计算所述语音帧的语音能量；获取所述语音帧的前一帧的语音能量；若所述语音帧的语音能量与所述前一帧的语音能量之比大于预设倍数，且所述语音帧的语音能量大于预设阈值，则确定所述语音帧为能量突增帧。12.根据权利要求9所述的方法，其特征在于，识别所述语音帧是否为基音周期突变帧的步骤包括：计算所述语音帧的基音周期；获取所述语音帧的前一帧的基音周期；若所述语音帧的基音周期与所述前一帧的基音周期之差的绝对值大于预设阈值，则确定所述语音帧为基音周期突变帧。13.根据权利要求1所述的方法，其特征在于，所述方法还包括：对当前语音数据包进行语音关键性分析，得到语音关键性值；当所述语音关键性值表示当前语音数据包为非关键数据包时，则执行通过各网络传输链路均发送包尺寸级别不同的链路测试包至所述接收端，并记录发包信息，接收所述接收端反馈的关于所述链路测试包的丢包信息，根据所述发包信息与所述丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率，基于所述当前语音数据包的后续语音数据包的包尺寸与各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路，通过选择的所述至少一个目标传输链路传输所述后续语音数据包至所述接收端的步骤。14.一种数据包传输装置，其特征在于，所述装置包括：发送模块，用于若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至所述接收端，并记录发包信息；接收模块，用于接收所述接收端反馈的关于所述链路测试包的丢包信息；统计模块，用于根据所述发包信息与所述丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；选择模块，用于基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路；所述发送模块，还用于通过选择的所述至少一个目标传输链路传输所述数据包至所述接收端。15.一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至13中任一项所述的方法的步骤。16.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至13中任一项所述的方法的步骤。17.一种计算机程序产品，包括计算机程序，其特征在于，该计算机程序被处理器执行时实现权利要求1至13中任一项所述的方法的步骤。
说明书desc
技术领域本申请涉及计算机技术领域，特别是涉及一种数据包传输方法、装置、计算机设备、存储介质和计算机程序产品。背景技术通常，基于IP网络传输数据包时，发送端的可用网络传输链路可能不止一条，多链路传输策略相比于单一链路传输，能够保障数据传输的可靠性，但带来了数据传输带宽的倍数级增长，引入了不必要的带宽消耗。链路决策可有效解决上述问题，链路决策是评价和决定当前时刻使用哪个或哪些链路的过程。相关技术中，通常采用的是不断试错的方法，也就是，若当前传输链路不满足要求则切换到其它链路，例如当网络状态变差后尝试去选用另一条质量未知链路进行试错，显然，如果当前选取的仍然是低质量链路，就会直接增加数据包传输时延，降低链路的传输质量，这在在线数据传输场景例如音视频通话场景下会严重降低用户的音视频通话体验。发明内容基于此，有必要针对上述技术问题，提供一种能够提高网络传输质量的数据包传输方法、装置、计算机设备、计算机可读存储介质和计算机程序产品。第一方面，本申请提供了一种数据包传输方法。所述方法包括：若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至所述接收端，并记录发包信息；接收所述接收端反馈的关于所述链路测试包的丢包信息；根据所述发包信息与所述丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路；通过选择的所述至少一个目标传输链路传输所述数据包至所述接收端。第二方面，本申请还提供了一种数据包传输装置。所述装置包括：发送模块，用于若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至所述接收端，并记录发包信息；接收模块，用于接收所述接收端反馈的关于所述链路测试包的丢包信息；统计模块，用于根据所述发包信息与所述丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；选择模块，用于基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路；所述发送模块，还用于通过选择的所述至少一个目标传输链路传输所述数据包至所述接收端。在一些实施例中，所述发送模块，还用于获取包尺寸级别不同、且携带连续的包标识的链路测试包；在每个网络传输链路上，将包尺寸级别不同、且携带连续的包标识的链路测试包依次发送至所述接收端。在一些实施例中，所述发送模块，还用于当通过网络传输链路发送链路测试包之后，将所发送的链路测试包的包标识、所发送的链路测试包所属的包尺寸级别、传输所述链路测试包的网络传输链路的链路标识对应存储。在一些实施例中，所述接收模块，还用于接收所述接收端反馈的各网络传输链路上的丢失的链路测试包的包标识；所述丢失的链路测试包的包标识基于已接收到的链路测试包的包标识确定。在一些实施例中，所述统计模块，还用于根据所述丢包信息获取丢失的链路测试包的包标识；根据所述包标识查询所述发包信息中的发包记录，得到所述丢失的链路测试包所属的包尺寸级别与传输所述丢失的链路测试包的网络传输链路的链路标识；其中，所述发包信息中的每条发包记录包括链路测试包的包标识、链路测试包所属的包尺寸级别与传输所述链路测试包的网络传输链路的链路标识；对于每个链路标识，根据所述丢包信息统计各包尺寸级别对应的丢包数量；对于每个链路标识，根据所述发包信息统计各包尺寸级别对应的发包数量；对于每个链路标识，针对每个包尺寸级别，根据对应的丢包数量与相应的发包数量，统计相应包尺寸级别对应的有效传输率。在一些实施例中，所述选择模块，还用于根据待传输的数据包的包尺寸，确定所述数据包所属的包尺寸级别；从各网络传输链路中，选择当前与所述数据包所属的包尺寸级别对应的有效传输率最大的网络传输链路，作为目标传输链路。在一些实施例中，所述待传输的数据包为待传输的语音数据包，所述装置还包括：关键性分析模块，用于对所述语音数据包进行语音关键性分析，得到语音关键性值；所述选择模块，还用于当所述语音关键性值表示所述语音数据包为非关键数据包时，则基于所述语音数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择一个目标传输链路。在一些实施例中，所述选择模块，还用于当所述语音关键性值表示所述语音数据包为关键数据包时，则基于所述语音数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少两个目标传输链路。在一些实施例中，所述关键性分析模块，还用于获取所述语音数据包对应的语音帧；分别识别所述语音帧是否为语音起始帧、能量突增帧、基音周期突变帧和非活跃帧，根据各个识别结果计算所述语音帧对应的语音关键性值。在一些实施例中，所述关键性分析模块，还用于对所述语音帧进行语音活跃度检测，得到第一检测结果；获取所述语音帧的前一帧关于语音活跃度的第二检测结果；若所述第二检测结果指示所述前一帧为非活跃帧、所述第一检测结果指示所述语音帧为活跃帧，则确定所述语音帧为语音起始帧。在一些实施例中，所述关键性分析模块，还用于计算所述语音帧的语音能量；获取所述语音帧的前一帧的语音能量；若所述语音帧的语音能量与所述前一帧的语音能量之比大于预设倍数，且所述语音帧的语音能量大于预设阈值，则确定所述语音帧为能量突增帧。在一些实施例中，所述关键性分析模块，还用于计算所述语音帧的基音周期；获取所述语音帧的前一帧的基音周期；若所述语音帧的基音周期与所述前一帧的基音周期之差的绝对值大于预设阈值，则确定所述语音帧为基音周期突变帧。在一些实施例中，所述装置还包括：关键性分析模块，用于对当前语音数据包进行语音关键性分析，得到语音关键性值；当所述语音关键性值表示当前语音数据包为非关键数据包时，则触发所述发送模块执行在当前与接收端之间的网络传输链路为至少两个时通过各网络传输链路均发送包尺寸级别不同的链路测试包至所述接收端的步骤。第三方面，本申请还提供了一种计算机设备。所述计算机设备包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现上述数据包传输方法的步骤。第四方面，本申请还提供了一种计算机可读存储介质。所述计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上述数据包传输方法的步骤。第五方面，本申请还提供了一种计算机程序产品。所述计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现上述数据包传输方法的步骤。上述数据包传输方法、装置、计算机设备、存储介质和计算机程序产品，在需要向接收端传输数据包之前，若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息，接收接收端反馈的各网络传输链路上链路测试包的丢包信息，根据发包信息与丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；这样，通过统计不同网络传输链路上不同尺寸级别的链路测试包的有效传输率，实现对可用的各网络传输链路的质量进行综合评估，而后，基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路，通过选择的至少一个目标传输链路传输数据包至接收端，从而可以对不同尺寸的待传输的数据包选取对应的更高有效传输率的网络传输链路分拣投送，不必多次试错也不必多链路全开，可确保提升链路传输质量的同时提升链路传输效率。附图说明图1为一个实施例中数据包传输方法的应用环境图；图2为一个实施例中多链路传输的示意图；图3为一个实施例中数据包传输方法的流程示意图；图4为一个实施例中发起链路测试的时机的示意图；图5为一个实施例中统计有效传输率的流程示意图；图6为另一个实施例中统计有效传输率的流程示意图；图7为另一个实施例中数据包传输方法的流程示意图；图8为一个具体的实施例中数据包传输方法的流程示意图；图9为一个实施例中数据包传输装置的结构框图；图10为一个实施例中计算机设备的内部结构图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。VoIP是一种基于IP网络的语音通话方式，发送端通过语音压缩算法将语音数据进行编码压缩处理后，按照网络传输协议标准进行打包，再经过IP网络把语音数据包发送到目的IP地址对应的接收端，接收端再把语音数据包解析并解压缩处理后，恢复原来的语音信号，从而达到通过互联网传送语音信号的目的。在实际VoIP通话应用中，存在网络传输丢包等传输不可靠问题，通常，基于IP网络传输数据包时，发送端的可用网络传输链路可能不止一条，如果配置多条传输链路同时进行数据传输，则可大幅降低端到端数据传输的丢包概率，因为多条传输链路同时出现丢包的概率比其中任意一条传输链路出现丢包的概率要小很多，因此多链路传输策略相比于单一链路传输，能够保障数据包传输的可靠性。但多链路全开的方式，资源利用率极低，大量数据包同时通过多条网络链路发送到接收端，接收端会接收到大部分重复数据包，造成接收端的处理开销猛增，即终端发热、耗电问题凸显，同时多链路传输必然带来了数据传输带宽的倍数级增长，引入了不必要的带宽消耗，同时运营成本大幅增加。通过链路决策可以有效利用多链路的同时又可以避免不必要的带宽消耗。以VoIP通话应用为例，用户通过VoIP进行音视频通话，这个过程中用户终端采集到的音视频数据包通过传输网络进行传送，这个传输网络可以是无线的，也可以是有线网络，也就是说，在通话过程中可用于数据传输的网络链路可能不止一条，链路决策则是评价和决定当前时刻使用哪个或哪些链路的过程，链路决策的正确性影响着通话质量和用户通话体验。相关技术中，通常采用的是不断试错的链路决策方法，也就是，若当前传输链路不满足要求则切换到其它链路，例如当网络状态变差后尝试去选用另一条质量未知链路进行试错，显然，这种不断试错的方法，无法对可用链路资源进行综合、全面、有效评估，也无法有效整合可用链路资源为用户提供稳定和高质量的网络传输保障，如果当前选取的仍然是低质量链路，就会直接增加数据包传输时延，降低链路的传输质量，这在在线数据传输场景例如音视频通话场景下会严重降低用户的音视频通话体验。也正是因为不存在对可用链路的评估过程，不同链路的切换方式，无法应对各种网络状态，当网络状态变差后只是尝试去选用另一条质量未知链路进行试错，网络传输质量无法控制与预期。本申请实施例提供的数据包传输方法，能够自动辨识每个可用的网络传输链路的传输能力与传输质量并给出合理的量化方式，基于待传输的数据包的特点，自适应择优选取网络传输链路，进而确保提升链路传输质量的同时提升链路的传输效率。本申请实施例提供的数据包传输方法，可以应用于如图1所示的应用环境中。其中，发送端102通过网络与接收端104进行通信。发送端102还可以通过服务器与接收端104进行连接。在一个实施例中，发送端102在需要向接收端发送数据包时，若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息；接收接收端反馈的关于链路测试包的丢包信息；根据发包信息与丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路；通过选择的至少一个目标传输链路传输数据包至接收端。这样，通过统计不同网络传输链路上不同尺寸级别的链路测试包的有效传输率，实现对可用的各网络传输链路的质量进行综合评估，而后，可以对不同尺寸的待传输的数据包选取对应的更高有效传输率的网络传输链路分拣投送，不必多次试错也不必多链路全开，可确保提升链路传输质量的同时提升链路传输效率。其中，发送端102与接收端104均可以是终端，终端可以但不限于是各种台式计算机、笔记本电脑、智能手机、平板电脑、物联网设备和便携式可穿戴设备，物联网设备可为智能音箱、智能电视、智能空调、智能车载设备等。便携式可穿戴设备可为智能手表、智能手环、头戴设备等。在另一些实施例中，发送端110、接收端120也可以是服务器或服务器集群。在一个具体的应用场景中，发送端102与接收端104上均运行有支持音视频传输功能的应用程序，服务器可以为该应用程序提供计算能力及存储能力，发送端102与接收端104均可以通过网络与服务器连接，从而基于该服务器实现两端的音视频传输。服务器可以用独立的服务器或者是多个服务器组成的服务器集群来实现。如图2所示，为一个实施例中多链路传输的示意图。音视频通话双方通过各自的终端设备进行音频信号采集和播放，而编码得到的数据包经过不同的网络传输链路进行传送，通过本申请实施例提供的数据包传输方法所涉及的动态链路决策方式，可确保提升链路传输质量的同时提升链路传输效率。需要说明的是，发送端与接收端的数量可以是多个，例如群组通话、在线会议等场景。在一个实施例中，如图3所示，提供了一种数据包传输方法，以该方法应用于图1中的发送端102为例进行说明，包括以下步骤：步骤302，若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息。发送端与接收端之间的网络传输链路，是发送端与接收端之间的网络通信方式。该网络通信方式可以包括有线网络通信方式与无线网络通信方式，还包括移动网络通信方式。其中，有线网络通信方式是通过网线连接设备之间进行数据传输的方式，包括以太网、局域网、广域网等，有线网络通信方式具有传输速度快、稳定可靠等特点，适用于对网络延迟和带宽要求较高的场景，比如企业网络、机房等。无线网络通信方式是通过无线信号进行设备间数据传输的方式，包括Wi-Fi、蓝牙、NFC等，无线网络通信方式具有移动性强，便携性好的特点，适用于移动设备、家庭网络等场景。移动网络通信方式是通过移动通信网络进行数据传输的方式，包括2G、3G、4G、5G等，移动网络通信方式具有覆盖范围广、网络连接稳定等特点，适用于移动设备、车载设备等场景。发送端可以根据对于各种网络通信方式是否开启相应功能和当前的网络状态，来确定当前的可用网络传输链路。可选地，发送端检测本地的移动网络通信功能是否开启，若开启，则确定当前与接收端之间的网络传输链路包括移动网络传输链路。可选地，发送端检测本地是否连接了WiFi信号，若连接至某个WiFi信号，则确定当前与接收端之间的网络传输链路包括无线网络传输链路。可选地，发送端还可结合网络通信信号的强度来确定当前与接收端之间的网络传输链路包括无线网络传输链路，例如，可将网络通信信号的信号强度大于相应设定阈值的网络通信信号所对应的网络传输链路，作为当前与接收端之间的网络传输链路。可选地，发送端还可以测试与接收端之间的网络连通性，从而确定当前与接收端之间的网络传输链路。在一个具体的场景中，在发送端用户与接收端用户进行语音通话的过程中，发送端同时开启了移动网络通信功能与无线网络通信功能的情况下，发送端确定当前与接收端之间的网络传输链路包括移动网络传输链路与无线网络传输链路。由于每种网络传输链路自身的带宽瓶颈，带宽瓶颈是指当一条网络传输链路上没有其它背景流量时，网络能够提供的最大的吞吐量，比如，在运行语音通话应用程序时，在没有运行其它应用程序的情况下，可为语音通话应用程序提供的最大的传输速率。很显然，由于带宽瓶颈的限制，每种网络传输链路对于不同包尺寸级别的数据包的传输速率存在差异。为此，发送端在向接收端发送数据包之前，可以先统计各可用的网络传输链路对不同包尺寸级别的数据包的有效传输率。包尺寸级别是数据包的包尺寸所属的级别。发送端可以获取包尺寸不一的多个链路测试包，链路测试包的包尺寸，属于相应的包尺寸级别。包尺寸级别的类别以及每个类别对应的包尺寸的范围，可以根据实际业务场景进行设置，本申请实施例对此不作限制。可选地，可以统计音视频通话场景下数据包的尺寸分布，该尺寸分布可以反映音视频通话场景下数据包的最大尺寸、最小尺寸、包尺寸中位数、包尺寸平均值等等，从而，根据该尺寸分布来确定包尺寸级别的类别以及每个类别对应的包尺寸的范围。例如，包尺寸在128字节以内的数据包，是小包，包含的数据较少，属于第一包尺寸级别，包尺寸在128字节以上且不超过512字节，是中包，属于第二包尺寸级别，包尺寸在512字节以上且不超过1500字节，包含的数据较多，是大包，属于第三包尺寸级别。在生成第一包尺寸级别的链路测试包时，可以生成包尺寸在128字节以内的多个包尺寸不同的数据包，作为第一包尺寸级别的链路测试包，同样地，可以生成包尺寸在128字节以上且不超过512字节的多个包尺寸不同的数据包，作为第二包尺寸级别的链路测试包，生成包尺寸在512字节以上且不超过1500字节的多个包尺寸不同的数据包，作为第三包尺寸级别的链路测试包。发送端在检测到当前与接收端之间的网络传输链路为至少两个时，则获取属于不同包尺寸级别的链路测试包，通过各网络传输链路均发送这些包尺寸级别不同的链路测试包至接收端，并记录发包信息。可选地，发送端在发送链路测试包至接收端时，可以连续发送多个属于同一个包尺寸级别的链路测试包，这样，可针对该尺寸级别统计链路的有效传输率。例如，发送端可以获取属于第一包尺寸级别的多个链路测试包，通过各网络传输链路均发送该多个链路测试包至接收端，发送端继续获取属于第二包尺寸级别的多个链路测试包，通过各网络传输链路均发送该多个链路测试包至接收端，继续获取属于第三包尺寸级别的多个链路测试包，通过各网络传输链路均发送该多个链路测试包至接收端。也可以是，发送端获取属于第一包尺寸级别的多个链路测试包、属于第二包尺寸级别的多个链路测试包、属于第三包尺寸级别的多个链路测试包，将这些链路测试包，均通过各网络传输链路均发送该多个链路测试包至接收端。举例来说，发送端可以获取属于第一包尺寸级别的1个链路测试包S1，属于第二包尺寸级别的1个链路测试包S2、属于第三包尺寸级别的1个链路测试包S3，通过网络传输链路A，将链路测试包S1、链路测试包S2、链路测试包S3分别发送20次至接收端，类似地，通过网络传输链路B，将链路测试包S1、链路测试包S2、链路测试包S3分别发送20次至接收端,通过网络传输链路C，将链路测试包S1、链路测试包S2、链路测试包S3分别发送20次至接收端。又举例来说，发送端可以获取属于第一包尺寸级别的20个链路测试包、属于第二包尺寸级别的20个链路测试包、属于第三包尺寸级别的20个链路测试包，将这60个链路测试包通过网络传输链路A发送至接收端，还将这60个链路测试包通过网络传输链路B发送至接收端, 将这60个链路测试包通过网络传输链路C发送至接收端。可选地，发送端在检测到当前与接收端之间的网络传输链路为一个时，则无需进行链路决策，可以直接通过该一个网络传输链路将待传输的数据包发送至接收端。在发送链路数据包之后，发送端可记录发包信息，发包信息可用于统计网络传输链路的有效传输率。发包信息包括所发送的链路测试包的包标识、链路测试包所属的包尺寸级别和传输链路测试包的网络传输链路的链路标。在一个实施例中，通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，包括：获取包尺寸级别不同、且携带连续的包标识的链路测试包；在每个网络传输链路上，将包尺寸级别不同、且携带连续的包标识的链路测试包依次发送至接收端。具体地，发送至接收端的多个链路测试包，均携带包标识，且多个链路测试包携带的包标识连续，例如，假设要发送上述例子中的60个链路测试包，则60个链路测试包的包标识连续递增，第一个链路测试包的包标识为1，第二个链路测试包的包标识为2，如此类推。这样，便于发送端记录发包信息，也便于接收端获取丢包数据的包标识。在一个实施例中，记录发包信息，包括：当通过网络传输链路发送链路测试包之后，将所发送的链路测试包的包标识、所发送的链路测试包所属的包尺寸级别、传输链路测试包的网络传输链路的链路标识对应存储。例如，记录第一个链路测试包S1的包标识为1，所属的包尺寸级别为第一包尺寸级别，传输第一个链路测试包S1所用的网络传输链路的链路标识为A。按照这样的方式，发送端可记录所有链路测试包的发送记录信息。在一个实施例中，发送端可以每间隔固定时间进行一次链路测试，从而对后续待传输的数据包按照测试结果择优选取链路。比如，在语音通话场景下，发送端在发起通话后500ms之内开始发送链路测试包，每20s测试一次，也就是说，发送端可以间隔固定时间，周期性地通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息。在一个实施例中，方法还包括：对当前语音数据包进行语音关键性分析，得到语音关键性值；当语音关键性值表示当前语音数据包为非关键数据包时，则执行通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息，接收接收端反馈的关于链路测试包的丢包信息，根据发包信息与丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率，基于当前语音数据包的后续语音数据包的包尺寸与各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路，通过选择的至少一个目标传输链路传输后续语音数据包至接收端的步骤。本实施例中，发送端还可以分析数据包的关键性，例如，以语音数据包为例，若分析结果指示当前语音数据包是非关键数据包，即当前语音数据包不携带大量的说话内容，几乎处于静默状态，仅有背景噪音的情况下，此时是进行链路测试的时机，发送端可执行通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息的步骤。在这种情形下进行链路测试，可避免对当前数据包传输质量的影响，不会影响用户体验，且测试结果可在发送后续语音数据包之前确定，无需在发送后续语音数据包时才对各链路质量进行测试，有助于提高对后续语音数据包进行链路选择的效率，也就是说，可基于前次链路测试结果进行链路选择后再发送后续语音数据包。类似地，以视频传输为例，若当前视频帧为非关键帧，则发送端可进行链路测试，若当前视频帧为关键帧，则发送端可基于前次链路测试结果进行链路选择。如图4所示，为一个实施例中发起链路测试的时机的示意图。参照图4，当数据包S1为非关键数据包时，发送端可进行一次链路测试，而后，对于后续的20ms内的数据包S2 S3S4 S5均基于本次链路测试结果进行链路选择，直至20ms后要发送S6时，发送端可再次对S6进行关键性分析，若S6为关键数据包，则仍然基于本次链路测试结果进行链路选择，若S6为非关键数据包，则发送端可重新进行一次链路测试，即通过各个网络传输链路向接收端发送链路测试包，得到测试结果，更新的测试结果可用于后续数据包的链路择优。步骤304，接收接收端反馈的关于链路测试包的丢包信息。具体地，接收端可以通过丢包检查，确定丢失的链路测试包的丢包信息，该丢包信息可以是未接收到的链路测试包的包标识。在一个实施例中，发送端可以接收接收端反馈的各网络传输链路上的丢失的链路测试包的包标识；丢失的链路测试包的包标识基于已接收到的链路测试包的包标识确定。具体地，在发送端所发送的链路测试包的包标识具有连续性的前提下，比如连续递增，那么，接收端可以通过检查接收到的链路测试包的包标识的连续性判断是否存在丢包。例如，在一定合理的收包时间内，接收端接收到的链路测试包的包标识依次为1、2、4、5、……，显然缺少了包标识为1的链路测试包S3，则接收端可判断链路测试包S3丢包了，则接收端可以将丢失的链路测试包的包标识反馈至发送端。步骤306，根据发包信息与丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率。其中，有效传输率是本次链路测试各网络传输链路的数据包传输成功率。在接收到接收端反馈的丢包信息后，发送端可结合发包信息，从包尺寸级别的维度统计各个网络传输链路对应的有效传输率。在一个实施例中，如图5所示，步骤306包括如下步骤：步骤502，根据丢包信息获取丢失的链路测试包的包标识。步骤504，根据包标识查询发包信息中的发包记录，得到丢失的链路测试包所属的包尺寸级别与传输丢失的链路测试包的网络传输链路的链路标识；其中，发包信息中的每条发包记录包括链路测试包的包标识、链路测试包所属的包尺寸级别与传输链路测试包的网络传输链路的链路标识。步骤506，对于每个链路标识，根据丢包信息统计各包尺寸级别对应的丢包数量。例如，对于链路A，链路A上丢失的第一包尺寸级别的数据包的数量为AR1，链路A上丢失的第二包尺寸级别的数据包的数量为AR2，链路A上丢失的第三包尺寸级别的数据包的数量为AR3。对于链路B，链路B上丢失的第一包尺寸级别的数据包的数量为BR1，链路B上丢失的第二包尺寸级别的数据包的数量为BR2，链路B上丢失的第三包尺寸级别的数据包的数量为BR3。对于链路C，链路C上丢失的第一包尺寸级别的数据包的数量为CR1，链路C上丢失的第二包尺寸级别的数据包的数量为CR2，链路C上丢失的第三包尺寸级别的数据包的数量为CR3。步骤508，对于每个链路标识，根据发包信息统计各包尺寸级别对应的发包数量。例如，对于链路A，链路A上发送的第一包尺寸级别的数据包的数量为AS1，链路A上发送的第二包尺寸级别的数据包的数量为AS2，链路A上发送的第三包尺寸级别的数据包的数量为AS3。对于链路B，链路B上发送的第一包尺寸级别的数据包的数量为BS1，链路B上发送的第二包尺寸级别的数据包的数量为BS2，链路B上发送的第三包尺寸级别的数据包的数量为BS3。对于链路C，链路C上发送的第一包尺寸级别的数据包的数量为CS1，链路C上发送的第二包尺寸级别的数据包的数量为CS2，链路C上发送的第三包尺寸级别的数据包的数量为CS3。步骤510，对于每个链路标识，针对每个包尺寸级别，根据对应的丢包数量与相应的发包数量，统计相应包尺寸级别对应的有效传输率。例如，对于链路A，链路A上丢失的第一包尺寸级别的数据包的数量为AR1与发送的第一包尺寸级别的数据包的数量为AS1的比值，即为链路A上第一包尺寸级别的数据包的有效传输率。链路A上丢失的第二包尺寸级别的数据包的数量为AR2与发送的第二包尺寸级别的数据包的数量为AS2的比值，即为链路A上第二包尺寸级别的数据包的有效传输率。链路A上丢失的第三包尺寸级别的数据包的数量为AR3与发送的第三包尺寸级别的数据包的数量为AS3的比值，即为链路A上第三包尺寸级别的数据包的有效传输率。类似地，对于链路B、链路C也可以统计出当前与各包尺寸级别对应的有效传输率。本实施例中，通过统计各网络传输链路当前与各包尺寸级别对应的有效传输率，可对各网络传输链路当前与各包尺寸级别的传输能力进行合理量化，便于后续的链路选择。步骤308，基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路。可选地，发送端可以仅根据待传输的数据包的包尺寸所属的包尺寸级别，从各网络传输链路中选择一个最匹配的网络传输链路，作为目标传输链路。可选地，发送端还可以结合待传输的数据包的包尺寸以及待传输的数据包本身的特点，判断是否要从各网络传输链路中选择多个网络传输链路进行多链路传输，还是择优选取一个链路后进行单链路传输。在一个实施例中，步骤308，基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路包括：根据待传输的数据包的包尺寸，确定数据包所属的包尺寸级别；从各网络传输链路中，选择当前与数据包所属的包尺寸级别对应的有效传输率最大的网络传输链路，作为目标传输链路。在一个实施例中，待传输的数据包为待传输的语音数据包，方法还包括：对语音数据包进行语音关键性分析，得到语音关键性值；步骤308，基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路包括：当语音关键性值表示语音数据包为非关键数据包时，则基于语音数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择一个目标传输链路。这样，按包尺寸择优选取传输链路，可保证传输质量，同时，根据数据包的特点仅选取一个传输链路，又不占用过多的带宽资源，即便发生丢包，也不会对接收端恢复原始信号造成严重的影响，是有效的动态链路决策机制。当语音关键性值表示语音数据包为关键数据包时，则基于语音数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少两个目标传输链路。这样，既能按包尺寸择优选取传输链路，可保证传输质量，同时，根据数据包的特点仅选取至少两个网络传输链路，可保证关键数据包传输的可靠性，降低丢包对接收端恢复原始信号的影响。其中，发送端可将分析得到的语音关键性值与预设阈值进行比较，如果待传输的语音数据包的语音关键性值大于预设阈值，则代表待传输的语音数据包为关键数据包，倘若该语音数据包传输失败将会出现声音卡顿、声音失真等较明显的音质问题，所以需要对该语音数据包采取多链路并发策略进行传输，例如，基于上述提到的基于包尺寸级别的有效传输率优选两条或两条以上链路进行并行发送，以确保关键的语音数据包的传输过程的可靠性，反之，如果待传输的语音数据包的语音关键性值不大于预设阈值, 代表待传输的语音数据包为非关键数据包，则此数据包将通过与其包尺寸相匹配的最优的一个网络传输链路进行传输。本实施例中，通过实时统计不同链路下不同尺寸级别的数据包有效传输率，从而对不同尺寸数据包选取对应的更高收包成功率链路分拣投送，同时，分析待传输的数据包的关键性，自适应动态切换多链路并发传输策略或择优单链路传输策略，可最大程度兼顾传输质量和传输效率。步骤310，通过选择的至少一个目标传输链路传输数据包至接收端。具体地，若通过上述方式所选择的目标传输链路的数量为一个，则发送端通过该一个目标传输链路传输数据包至接收端，若通过上述方式所选择的目标传输链路的数量为多个，则发送端通过多个目标传输链路分别传输数据包至接收端，可在保证提升链路传输质量的同时提升链路传输效率。上述数据包传输方法，在需要向接收端传输数据包之前，若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息，接收接收端反馈的各网络传输链路上链路测试包的丢包信息，根据发包信息与丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；这样，通过统计不同网络传输链路上不同尺寸级别的链路测试包的有效传输率，实现对可用的各网络传输链路的质量进行综合评估，而后，基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路，通过选择的至少一个目标传输链路传输数据包至接收端，从而可以对不同尺寸的待传输的数据包选取对应的更高有效传输率的网络传输链路分拣投送，不必多次试错也不必多链路全开，可确保提升链路传输质量的同时提升链路传输效率。如图6所示，为一个实施例中统计有效传输率的流程示意图。参照图6，首先，发送端确定当前可用的各网络传输链路，获取属于不同包尺寸级别的链路测试包，通过这些网络传输链路传输不同包尺寸级别的链路测试包至接收端，依次发送的链路测试包的包标识连续递增，发送链路测试包之后，将所发送的链路测试包的包标识、所发送的链路测试包所属的包尺寸级别、传输链路测试包的网络传输链路的链路标识对应存储。接收端接收链路测试包，基于链路测试包的包标识的连续性，判断是否存在丢包以及丢失的链路测试包的包标识，经过一定测试时间后，将丢失的链路测试包的包标识反馈至发送端。发送端根据丢包信息与发包信息，按链路和包尺寸级别分类统计有效传输率。下面以语音数据包为例，说明如何量化数据包的关键性值。在一个实施例中，对语音数据包进行语音关键性分析，得到语音关键性值，包括：获取语音数据包对应的语音帧；分别识别语音帧是否为语音起始帧、能量突增帧、基音周期突变帧和非活跃帧，根据各个识别结果计算语音帧对应的语音关键性值。语音帧的语音关键性值，是通过该语音帧的声音质量高低对其前后一段时间内的整体语音音质贡献程度来衡量的。本申请实施例中，采用语音帧是否为语音起始帧、能量突增帧、基音周期突变帧和非活跃帧来辨识语音帧对应的语音关键性值，从而判断语音数据包是否为关键数据包。语音起始帧，语音从无到有发生跳变的第一帧，可以通过对语音帧进行语音活跃度检测确定语音帧是否为语音起始帧，如VAD检测，也可以基于DNN深度网络的语音帧判决确定语音帧是否为语音起始帧。能量突增帧，即当前帧的帧能量较大，且与其前一帧的能量相比发生突增。基音周期突变帧，即语音帧的发声内容发送突变的语音帧，当发声内容音素发生变化时，基音周期会有明显跳变。在一个实施例中，识别语音帧是否为语音起始帧的步骤包括：对语音帧进行语音活跃度检测，得到第一检测结果；获取语音帧的前一帧关于语音活跃度的第二检测结果；若第二检测结果指示前一帧为非活跃帧、第一检测结果指示语音帧为活跃帧，则确定语音帧为语音起始帧。举例来说，对于第i帧，对其进行语音活跃度检测，得到第一检测结果，若该结果指示第i帧为活跃帧，且第i-1帧对应的检测结果指示第i-1帧为非活跃帧，则可以判定第i帧为语音起始帧，否则，不为语音起始帧。在一个实施例中，识别语音帧是否为能量突增帧的步骤包括：计算语音帧的语音能量；获取语音帧的前一帧的语音能量；若语音帧的语音能量与前一帧的语音能量之比大于预设倍数，且语音帧的语音能量大于预设阈值，则确定语音帧为能量突增帧。其中，语音帧的语音能量，可以将本帧时间窗内的数据样点值求平方和的均值得到。举例来说，对于第i帧，计算语音能量为W1，第i-1帧的语音能量为W2，若第i帧的语音能量大于第i帧的语音能量的预设倍数β，且第i帧的语音能量大于预设阈值E，则第i帧为能量突增帧，否则，不为能量突增帧。在一个实施例中，识别语音帧是否为基音周期突变帧的步骤包括：计算语音帧的基音周期；获取语音帧的前一帧的基音周期；若语音帧的基音周期与前一帧的基音周期之差的绝对值大于预设阈值，则确定语音帧为基音周期突变帧。举例来说，对于第i帧，若第i-1帧的基音周期和第i帧的基音周期的差值绝对值大于预设门限T，则第i帧为基音周期突变帧，否则，不为基音周期突变帧。在一个实施例中，识别语音帧是否为非活跃帧，可以直接根据对该语音帧进行语音活跃度检测的检测结果来确定，例如，若相应的VAD检测结果为零，则确定语音帧为非活跃帧，否则为活跃帧。在一个实施例中，根据各个识别结果计算语音帧对应的语音关键性值，包括：获取各个关键特征维度对应的权重，关键特征维度包括是否为语音起始帧、能量突增帧、基音周期突变帧和非活跃帧，接着，按照各自的权重，对是否为语音起始帧、能量突增帧、基音周期突变帧和非活跃帧的判断结果进行加权求和，得到语音帧对应的语音关键性值。举例来说，若第i帧为语音起始帧，则这一关键特征维度对应的特征值r1为1，否则特征值r1为0；若第i帧为能量突增帧，则这一关键特征维度对应的特征值r2为1，否则特征值r2为0；若第i帧为基音周期突变帧，则这一关键特征维度对应的特征值r3为1，否则特征值r3为0；若第i帧为非活跃帧，则这一关键特征维度对应的特征值r4为1，否则特征值r4为0，如此，可按照如下公式计算第i帧对应的语音关键性值r：r=0.1+*；将语音关键性值r与预设阈值进行比较，若r超过该预设阈值，则可判定语音帧对应的语音数据包为关键数据包，若r未超过该预设阈值，则可以判定语音帧对应的语音数据包为非关键数据包。该公式仅为示意，可以理解，还可以采用其它公式来将这些考量因素融合，来量化数据包的关键性。在上述实施例中，通过采用语音帧是否为语音起始帧、能量突增帧、基音周期突变帧和非活跃帧来辨识语音帧对应的语音关键性值，从而判断语音数据包是否为关键数据包，能够准确表征数据包本身的特点，有助于结合包尺寸级别与数据包的特点实现自适应链路选择。当然，在其它实施例中，除了基于当前各网络传输链路本身的传输质量以及数据包所属的包尺寸级别进行自适应链路选择之外，还可以结合各网络传输链路对于所有包尺寸级别的容错性能来考量。例如，若待传输的数据包S为小尺寸级别的数据包，网络传输链路A与网络传输链路B对于小尺寸级别的数据包的有效传输率相同，而对于大尺寸级别的数据包来说，网络传输链路A的有效传输率大于网络传输链路B的有效传输率，此时可以从网络传输链路A与网络传输链路B中任选一条作为目标传输链路，也可以结合各网络传输链路对于所有包尺寸级别的容错性能来考量，显然网络传输链路A对于所有包尺寸级别的容错性能更佳，可以选择网络传输链路A作为目标传输链路。当然，在其它实施例中，除了基于当前各网络传输链路本身的传输质量以及数据包所属的包尺寸级别进行自适应链路、数据包的关键性进行链路决策之外，还可以结合数据包的其它特性来考量，如用户的数据流量消耗情况、终端的电量消耗情况，等等，以尽可能在保证传输质量与传输效率的同时提供良好的用户体验。在一个实施例中，如图7所示，提供一种数据包传输方法，该方法从接收端的角度来描述，包括如下步骤：步骤702，接收发送端通过各网络传输链路发送的包尺寸级别不同的链路测试包；步骤704，根据接收到的链路测试包，确定关于链路测试包的丢包信息；步骤706，向发送端反馈关于链路测试包的丢包信息，丢包信息用于指示发送端根据记录的发包信息与丢包信息统计各网络传输链路当前与各包尺寸级别对应的有效传输率，并基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路。步骤708，接收发送端通过选择的至少一个目标传输链路所传输的数据包。对于该实施例所涉及的名词描述与实施例，可参考前文的描述。在一个具体的实施例中，如图8所示，由发送端执行的数据包传输方法具体包括如下步骤：步骤802，若当前与接收端之间的网络传输链路为至少两个，则获取包尺寸级别不同、且携带连续的包标识的链路测试包；步骤804，在每个网络传输链路上，将包尺寸级别不同、且携带连续的包标识的链路测试包依次发送至接收端；步骤806，当通过网络传输链路发送链路测试包之后，将所发送的链路测试包的包标识、所发送的链路测试包所属的包尺寸级别、传输链路测试包的网络传输链路的链路标识对应存储，作为发包信息；步骤808，接收接收端反馈的各网络传输链路上的丢失的链路测试包的包标识；丢失的链路测试包的包标识基于已接收到的链路测试包的包标识确定；步骤810，根据丢包信息获取丢失的链路测试包的包标识；步骤812，根据包标识查询发包信息中的发包记录，得到丢失的链路测试包所属的包尺寸级别与传输丢失的链路测试包的网络传输链路的链路标识；其中，发包信息中的每条发包记录包括链路测试包的包标识、链路测试包所属的包尺寸级别与传输链路测试包的网络传输链路的链路标识；步骤814，对于每个链路标识，根据丢包信息统计各包尺寸级别对应的丢包数量；步骤816，对于每个链路标识，根据发包信息统计各包尺寸级别对应的发包数量；步骤818，对于每个链路标识，针对每个包尺寸级别，根据对应的丢包数量与相应的发包数量，统计相应包尺寸级别对应的有效传输率；步骤820，根据待传输的数据包的包尺寸，确定数据包所属的包尺寸级别；步骤822，对数据包进行关键性分析，得到相应的关键性值；步骤824，当关键性值表示数据包为非关键数据包时，则基于数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中，选择当前与数据包所属的包尺寸级别对应的有效传输率最大的网络传输链路，作为目标传输链路；步骤826，当关键性值表示数据包为关键数据包时，则基于数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少两个目标传输链路；步骤828，通过选择的目标传输链路传输数据包至接收端。本实施例中，在需要向接收端传输数据包之前，若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息，接收接收端反馈的各网络传输链路上链路测试包的丢包信息，根据发包信息与丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；这样，通过统计不同网络传输链路上不同尺寸级别的链路测试包的有效传输率，实现对可用的各网络传输链路的质量进行综合评估，而后，基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路，通过选择的至少一个目标传输链路传输数据包至接收端，从而可以对不同尺寸的待传输的数据包选取对应的更高有效传输率的网络传输链路分拣投送，不必多次试错也不必多链路全开，可确保提升链路传输质量的同时提升链路传输效率。多链路数据传输技术已经应用在很多对实时性、数据传输质量要求较高的应用场景，例如游戏、实时通话等，然而相关技术中的多链路决策方式较为简单和粗糙，没有针对数据特征进行优化，导致多链路传输耗费带宽成本、传输质量未必符合预期。本申请实施例提供的数据包传输方法，其涉及的链路决策，辨识传输链路能力并对该能力进行量化，同时，基于待发送的数据包的特点和关键性，自适应选择多链路并发或单链路择优发送，进而确保传输质量的同时提升链路传输效率，相比相关技术中的多链路全开、对数据包无差异低冗余传输的方式，能节省多链路带宽资源，避免试错性切换链路可能导致传输质量无法保障的问题。应该理解的是，虽然如上的各实施例所涉及的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，如上的各实施例所涉及的流程图中的至少一部分步骤可以包括多个步骤或者多个阶段，这些步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤中的步骤或者阶段的至少一部分轮流或者交替地执行。基于同样的发明构思，本申请实施例还提供了一种用于实现上述所涉及的数据包传输方法的数据包传输装置。该装置所提供的解决问题的实现方案与上述方法中所记载的实现方案相似，故下面所提供的一个或多个数据包传输装置实施例中的具体限定可以参见上文中对于数据包传输方法的限定，在此不再赘述。在一个实施例中，如图9所示，提供了一种数据包传输装置900，包括：发送模块902、接收模块904、统计模块906和选择模块906，其中：发送模块902，用于若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息；接收模块904，用于接收接收端反馈的关于链路测试包的丢包信息；统计模块906，用于根据发包信息与丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；选择模块908，用于基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路；发送模块902，还用于通过选择的至少一个目标传输链路传输数据包至接收端在一些实施例中，发送模块902，还用于获取包尺寸级别不同、且携带连续的包标识的链路测试包；在每个网络传输链路上，将包尺寸级别不同、且携带连续的包标识的链路测试包依次发送至接收端。在一些实施例中，发送模块902，还用于当通过网络传输链路发送链路测试包之后，将所发送的链路测试包的包标识、所发送的链路测试包所属的包尺寸级别、传输链路测试包的网络传输链路的链路标识对应存储。在一些实施例中，接收模块904，还用于接收接收端反馈的各网络传输链路上的丢失的链路测试包的包标识；丢失的链路测试包的包标识基于已接收到的链路测试包的包标识确定。在一些实施例中，统计模块906，还用于根据丢包信息获取丢失的链路测试包的包标识；根据包标识查询发包信息中的发包记录，得到丢失的链路测试包所属的包尺寸级别与传输丢失的链路测试包的网络传输链路的链路标识；其中，发包信息中的每条发包记录包括链路测试包的包标识、链路测试包所属的包尺寸级别与传输链路测试包的网络传输链路的链路标识；对于每个链路标识，根据丢包信息统计各包尺寸级别对应的丢包数量；对于每个链路标识，根据发包信息统计各包尺寸级别对应的发包数量；对于每个链路标识，针对每个包尺寸级别，根据对应的丢包数量与相应的发包数量，统计相应包尺寸级别对应的有效传输率。在一些实施例中，选择模块908，还用于根据待传输的数据包的包尺寸，确定数据包所属的包尺寸级别；从各网络传输链路中，选择当前与数据包所属的包尺寸级别对应的有效传输率最大的网络传输链路，作为目标传输链路。在一些实施例中，待传输的数据包为待传输的语音数据包，装置还包括：关键性分析模块，用于对语音数据包进行语音关键性分析，得到语音关键性值；选择模块908，还用于当语音关键性值表示语音数据包为非关键数据包时，则基于语音数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择一个目标传输链路。在一些实施例中，选择模块908，还用于当语音关键性值表示语音数据包为关键数据包时，则基于语音数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少两个目标传输链路。在一些实施例中，关键性分析模块，还用于获取语音数据包对应的语音帧；分别识别语音帧是否为语音起始帧、能量突增帧、基音周期突变帧和非活跃帧，根据各个识别结果计算语音帧对应的语音关键性值。在一些实施例中，关键性分析模块，还用于对语音帧进行语音活跃度检测，得到第一检测结果；获取语音帧的前一帧关于语音活跃度的第二检测结果；若第二检测结果指示前一帧为非活跃帧、第一检测结果指示语音帧为活跃帧，则确定语音帧为语音起始帧。在一些实施例中，关键性分析模块，还用于计算语音帧的语音能量；获取语音帧的前一帧的语音能量；若语音帧的语音能量与前一帧的语音能量之比大于预设倍数，且语音帧的语音能量大于预设阈值，则确定语音帧为能量突增帧。在一些实施例中，关键性分析模块，还用于计算语音帧的基音周期；获取语音帧的前一帧的基音周期；若语音帧的基音周期与前一帧的基音周期之差的绝对值大于预设阈值，则确定语音帧为基音周期突变帧。在一些实施例中，装置还包括：关键性分析模块，用于对当前语音数据包进行语音关键性分析，得到语音关键性值；当语音关键性值表示当前语音数据包为非关键数据包时，则触发发送模块执行在当前与接收端之间的网络传输链路为至少两个时通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端的步骤。上述数据包传输装置900，在需要向接收端传输数据包之前，若当前与接收端之间的网络传输链路为至少两个，则通过各网络传输链路均发送包尺寸级别不同的链路测试包至接收端，并记录发包信息，接收接收端反馈的各网络传输链路上链路测试包的丢包信息，根据发包信息与丢包信息，统计各网络传输链路当前与各包尺寸级别对应的有效传输率；这样，通过统计不同网络传输链路上不同尺寸级别的链路测试包的有效传输率，实现对可用的各网络传输链路的质量进行综合评估，而后，基于待传输的数据包的包尺寸、以及各网络传输链路当前与各包尺寸级别对应的有效传输率，从各网络传输链路中选择至少一个目标传输链路，通过选择的至少一个目标传输链路传输数据包至接收端，从而可以对不同尺寸的待传输的数据包选取对应的更高有效传输率的网络传输链路分拣投送，不必多次试错也不必多链路全开，可确保提升链路传输质量的同时提升链路传输效率。上述数据包传输装置900中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。在一个实施例中，提供了一种计算机设备，该计算机设备可以是终端，本申请实施例所涉及的发送端或接收端可以是该终端，其内部结构图可以如图10所示。该计算机设备包括处理器、存储器、输入/输出接口、通信接口、显示单元和输入装置。其中，处理器、存储器和输入/输出接口通过系统总线连接，通信接口、显示单元和输入装置通过输入/输出接口连接到系统总线。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的输入/输出接口用于处理器与外部设备之间交换信息。该计算机设备的通信接口用于与外部的终端进行有线或无线方式的通信，无线方式可通过WIFI、移动蜂窝网络、NFC或其他技术实现。该计算机程序被处理器执行时以实现一种数据包传输方法。该计算机设备的显示单元用于形成视觉可见的画面，可以是显示屏、投影装置或虚拟现实成像装置，显示屏可以是液晶显示屏或电子墨水显示屏，该计算机设备的输入装置可以是显示屏上覆盖的触摸层，也可以是计算机设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图10中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提供了一种计算机设备，包括存储器和处理器，存储器中存储有计算机程序，该处理器执行计算机程序时实现数据包传输方法的步骤。在一个实施例中，提供了一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现数据包传输方法的步骤。在一个实施例中，提供了一种计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现数据包传输方法的步骤。需要说明的是，本申请所涉及的用户信息和数据，均为经用户授权或者经过各方充分授权的信息和数据，且相关数据的收集、使用和处理需要遵守相关国家和地区的相关法律法规和标准。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存、光存储器、高密度嵌入式非易失性存储器、阻变存储器、磁变存储器、铁电存储器、相变存储器、石墨烯存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器等。作为说明而非局限，RAM可以是多种形式，比如静态随机存取存储器或动态随机存取存储器等。本申请所提供的各实施例中所涉及的数据库可包括关系型数据库和非关系型数据库中至少一种。非关系型数据库可包括基于区块链的分布式数据库等，不限于此。本申请所提供的各实施例中所涉及的处理器可为通用处理器、中央处理器、图形处理器、数字信号处理器、可编程逻辑器、基于量子计算的数据处理逻辑器等，不限于此。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本申请专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请的保护范围应以所附权利要求为准。
