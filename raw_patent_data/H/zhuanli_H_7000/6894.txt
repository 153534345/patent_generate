标题title
一种身份认证的方法、装置、计算机设备
摘要abst
本申请涉及一种身份认证方法。所述方法包括获取认证请求，在确定认证请求需进行代理认证时，将认证请求发送至协议翻译模块；查询认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，选择处于在线状态的目标内网认证代理终端；通过网络安全隧道将第一认证请求发送至目标内网认证代理终端；目标内网认证代理终端获取原始的认证请求；各个认证源集成库判断自己的的认证适配器是否与认证请求中的认证适配器匹配；匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。采用本方法能够保证外网终端进行身份认证的安全性。
权利要求书clms
1.一种身份认证方法，其特征在于，执行于进行内网认证的外网终端，包括：获取认证请求，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端；通过网络安全隧道将所述第一认证请求发送至所述目标内网认证代理终端；所述目标内网认证代理终端对接收到的第一认证请求进行解密和签名认证，并进行第二协议转换，获取原始的认证请求；在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。2.根据权利要求1所述的方法，其特征在于，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。3.根据权利要求2所述的方法，其特征在于，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。4.根据权利要求1所述的方法，其特征在于，所述定向网络安全隧道通过双工通信协议建立，使用非对称可逆加密或数字签名的方式保护所述认证请求数据。5.根据权利要求1所述的方法，其特征在于，所述认证源集成库包括认证源适配器和认证源配置信息，所述外网终端通过定向网络安全隧道更新所述认证源适配器和认证源配置信息。6.一种身份认证方法，其特征在于，执行于进行内网认证代理终端，包括：接收通过网络安全隧道的第一认证请求，对所述第一认证请求进行解密和签名认证，并进行第二协议转换，得到原始的认证请求；其中，所述认证请求通过执行内网认证的外网终端获取，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；所述外网终端查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端作为执行于进行内网认证代理终端；所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。7.根据权利要求6所述的方法，其特征在于，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。8.根据权利要求7所述的方法，其特征在于，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。9.一种身份认证装置，其特征在于，执行于进行内网认证的外网终端，包括：获取模块，用于获取认证请求，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；第一转换模块，用于所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；查询模块，用于查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端；第二转换模块，用于通过网络安全隧道将所述第一认证请求发送至所述目标内网认证代理终端；所述目标内网认证代理终端对接收到的第一认证请求进行解密和签名认证，并进行第二协议转换，获取原始的认证请求；发送模块，用于在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；判断模块，用于各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；认证模块，用于匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。10.根据权利要求9所述的装置，其特征在于，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。11.根据权利要求10所述的装置，其特征在于，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。12.根据权利要求9所述的装置，其特征在于，所述定向网络安全隧道通过双工通信协议建立，使用非对称可逆加密或数字签名的方式保护所述认证请求数据。13.根据权利要求9所述的装置，其特征在于，所述认证源集成库包括认证源适配器和认证源配置信息，所述外网终端通过定向网络安全隧道更新所述认证源适配器和认证源配置信息。14.一种身份认证装置，其特征在于，执行于进行内网认证代理终端，包括：接收模块，用于接收通过网络安全隧道的第一认证请求，对所述第一认证请求进行解密和签名认证，并进行第二协议转换，得到原始的认证请求；选择模块，其中，所述认证请求通过执行内网认证的外网终端获取，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；所述外网终端查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端作为执行于进行内网认证代理终端；加密模块，用于所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；转发模块，用于在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；适配模块，用于各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；执行模块，用于匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。15.根据权利要求14所述的装置，其特征在于，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。16.根据权利要求15所述的装置，其特征在于，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。17.一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至8中任一项所述的方法的步骤。18.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至8中任一项所述的方法的步骤。19.一种计算机程序产品，包括计算机程序，其特征在于，该计算机程序被处理器执行时实现权利要求1至8中任一项所述的方法的步骤。
说明书desc
技术领域本申请涉及互联网技术领域，特别是涉及一种身份认证的方法、装置、计算机设备。背景技术对于一些安全性较高的企业或组织，会使用内网进行信息传输。用户的电子身份凭证存储于内网中，内网是封闭型的，可以由办公室内的两台计算机组成，也可以由一个公司内的上千台计算机组成，不会于互联网产生关联。相关技术中，越来越多的企业或组织购买软件即服务应用为了统一管理用户访问内网应用和外网应用，企业或组织选择应用身份服务系统，用于管理用户的电子身份凭证。但是，应用身份服务系统无法直接从外网调用内网的电子身份凭证认证接口。发明内容基于此，有必要针对上述技术问题，提供了一种身份认证方法，可以通过定向网络安全隧道由内网认证代理终端向外网终端发起单向网络连接，保证外网调用的安全性。第一方面，本申请提供了一种身份认证方法。执行于进行内网认证的外网终端，所述方法包括：获取认证请求，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端；通过网络安全隧道将所述第一认证请求发送至所述目标内网认证代理终端；所述目标内网认证代理终端对接收到的第一认证请求进行解密和签名认证，并进行第二协议转换，获取原始的认证请求；在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。在其中一个实施例中，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。在其中一个实施例中，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。在其中一个实施例中，所述定向网络安全隧道通过双工通信协议建立，使用非对称可逆加密或数字签名的方式保护所述认证请求数据。在其中一个实施例中，所述认证源集成库包括认证源适配器和认证源配置信息，所述外网终端通过定向网络安全隧道更新所述认证源适配器和认证源配置信息。第一方面，本申请提供了一种身份认证方法。执行于进行内网认证代理终端，所述方法包括：接收通过网络安全隧道的第一认证请求，对所述第一认证请求进行解密和签名认证，并进行第二协议转换，得到原始的认证请求；其中，所述认证请求通过执行内网认证的外网终端获取，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；所述外网终端查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端作为执行于进行内网认证代理终端；所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。在其中一个实施例中，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。在其中一个实施例中，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。第三方面，本申请还提供了一种身份认证装置，所述装置包括：获取模块，用于获取认证请求，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；第一转换模块，用于所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；查询模块，用于查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端；第二转换模块，用于通过网络安全隧道将所述第一认证请求发送至所述目标内网认证代理终端；所述目标内网认证代理终端对接收到的第一认证请求进行解密和签名认证，并进行第二协议转换，获取原始的认证请求；发送模块，用于在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；判断模块，用于各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；认证模块，用于匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。在其中一个实施例中，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。在其中一个实施例中，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。在其中一个实施例中，所述定向网络安全隧道通过双工通信协议建立，使用非对称可逆加密或数字签名的方式保护所述认证请求数据。在其中一个实施例中，所述认证源集成库包括认证源适配器和认证源配置信息，所述外网终端通过定向网络安全隧道更新所述认证源适配器和认证源配置信息。第四方面，本申请还提供了一种身份认证装置，所述装置包括：接收模块，用于接收通过网络安全隧道的第一认证请求，对所述第一认证请求进行解密和签名认证，并进行第二协议转换，得到原始的认证请求；选择模块，其中，所述认证请求通过执行内网认证的外网终端获取，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；所述外网终端查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端作为执行于进行内网认证代理终端；加密模块，用于所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；转发模块，用于在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；适配模块，用于各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；执行模块，用于匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。在其中一个实施例中，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。在其中一个实施例中，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。第三方面，本公开还提供了一种计算机设备。所述计算机设备包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现身份认证方法的步骤。第四方面，本公开还提供了一种计算机可读存储介质。所述计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现身份认证方法的步骤。第五方面，本公开还提供了一种计算机程序产品。所述计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现身份认证方法的步骤。上述身份认证方法，至少包括以下有益效果：可以建立使用双工通信的定向网络安全隧道，内网认证代理终端可以通过定向网络安全隧道访问外网终端的身份服务系统，不需要暴露任何端口和地址，可以保证内网认证代理终端的安全性，并且传输的报文会进行加密和签名保证了传输数据的安全性。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本公开。附图说明为了更清楚地说明本公开实施例或传统技术中的技术方案，下面将对实施例或传统技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本公开的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为一个实施例中身份认证方法的应用环境图；图2为一个实施例中身份认证方法的流程示意图；图3为一个实施例中身份认证方法的流程示意图；图4为一个实施例中身份认证装置的结构框图；图5为一个实施例中身份认证装置的结构框图；图6为一个实施例中计算机设备的内部结构图；图7为一个实施例中一种服务器的内部结构图。具体实施方式为了使本领域普通人员更好地理解本公开的技术方案，下面将结合附图，对本公开实施例中的技术方案进行清楚、完整地描述。需要说明的是，本公开的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本公开的实施例能够以除了在这里图示或描述的那些以外的顺序实施。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本公开的一些方面相一致的装置和方法的例子。术语“包括”、“包含”或者其任何其它变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、产品或者设备不仅包括那些要素，而且还包括没有明确列出的其它要素，或者是还包括为这种过程、方法、产品或者设备所固有的要素。在没有更多限制的情况下，并不排除在包括所述要素的过程、方法、产品或者设备中还存在另外的相同或等同要素。例如若使用到第一，第二等词语用来表示名称，而并不表示任何特定的顺序。本公开实施例提供一种身份认证方法，可以应用于如图1所示的应用环境中。身份认证系统包括执行内网认证的外网终端、内网认证代理终端。外网终端可以包括认证代理注册中心、认证源注册中心、适配器仓库、认证服务、协议翻译模块、定向网络安全隧道。认证代理注册中心可以用于注册认证代理，记录需要进行认证代理的企业和内网认证代理终端内配置的认证适配器信息，设置用于网络传输的密钥，监控内网认证代理终端的在线状态，展示内网认证代理终端的运行日志，可以对内网认证代理终端的适配器提供升级服务。适配器仓库位于外网终端，存储用于与内网认证代理终端对应的认证源系统的适配器程序包。认证源注册中心与内网认证代理终端的认证源系统对接配置，指定认证源系统使用的内网认证代理终端与认证源适配器。一个认证源系统可以对应多个内网认证代理终端。协议翻译模块可以将认证请求转化为与定向网络安全隧道适配的报文格式，可以对报文进行加密和签名。定向网络安全隧道作为双工通信协议的服务端，与内网认证代理终端的定向网络安全隧道之间创建双工通讯的连接，可以自主选择内网认证代理终端进行数据传输。如果身份认证系统配置多个内网认证代理终端，定向网络安全隧道会将数据传输至在线的内网认证代理终端中处理。内网认证代理终端包括定向网络安全隧道、协议翻译模块、认证源集成库。定向网络安全隧道可以作为双工通信协议的客户端，可以主动发起与外网终端的定向网络安全隧道的网络连接。接收传输的数据，将数据发送给协议翻译模块处理。协议翻译模块可以对接收到的双工通信的协议报文进行解密或签名认证，解析成原始请求。认证源集成库中可以包括与在外网终端发起的认证请求中所需调用的认证源系统对应的认证配置信息。在本公开的一些实施例中，如图2所示，提供了一种身份认证方法，以该方法应用于图1中的服务器对认证请求进行处理为例进行说明。可以理解的是，该方法可以应用于服务器，还可以应用于包括终端和服务器的系统，并通过终端和服务器的交互实现。具体的一个实施例中，执行于进行内网认证的外网终端，所述方法可以包括以下步骤：S202：获取认证请求，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块。用户可以在外网终端发起认证请求至对应的认证源系统中，可以根据认证源系统配置判断是否需要通过内网认证代理终端进行认证，若确定认证请求需进行代理认证，可以将认证请求发送至协议翻译模块。S204：所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信。外网终端的协议翻译模块可以对认证请求进行第一协议转换，第一协议转换包括将认证请求转换为适配双工通信对报文格式，并对报文内容进行加密和签名，数据加密可以防止数据泄漏，数据签名可以采用非对称密钥加密算法，可以保证发送信息的完整性、身份认证的不可否认性。只能由内网认证代理终端发起单向网络连接到外网终端，在网络连接建立后使用双工通信，外网终端无法建立与内网认证代理终端的网络通信，可以保证外网终端调用服务的安全性。S206：查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端。一个企业可以有多个内网认证代理终端，一个内网认证代理终端可以对应多个认证适配器。认证源注册中心查询所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，内网认证代理终端列表中有多个不同状态的内网认证代理终端，可以选取内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端。S208：通过网络安全隧道将所述第一认证请求发送至所述目标内网认证代理终端；所述目标内网认证代理终端对接收到的第一认证请求进行解密和签名认证，并进行第二协议转换，获取原始的认证请求。内网认证代理终端接收认证请求后将认证请求发送至内网认证代理终端的协议翻译模块，协议翻译模块可以对认证请求进行解密和签名认证，进行第二协议转换得到原始的认证请求。第二协议转换包括将接收到的认证请求转化为原始认证请求。S210：在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库。S212：各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配。确定在线的内网认证代理终端后，需要找到与认证请求中与认证适配器匹配的认证源集成库中的认证适配器。S214：匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。获取目标认证适配器后，可以根据认证源集成库中的认证源配置信息调用认证源系统的接口，执行认证请求中身份凭证的身份认证处理。上述身份认证方法中，可以建立使用双工通信的定向网络安全隧道，内网认证代理终端可以通过定向网络安全隧道访问外网终端的身份服务系统，不需要暴露任何端口和地址，可以保证内网认证代理终端的安全性，并且传输的报文会进行加密和签名保证了传输数据的安全性。在本公开的一些实施例中，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。在本公开的一些实施例中，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。在内网认证代理终端可以包括定时器，用于监控内网认证代理终端的运行状态，例如看门狗服务，当看门口服务监控到内网认证代理终端的服务停止，可以主动启动内网认证代理终端，恢复其运行状态。并且外网终端可以通过定向网络安全隧道从内网认证代理终端中获取运行日志，可以展示于认证代理注册中心，当内网认证代理终端的状态异常时，运维人员可以在外网终端通过查找运行日志排查问题。在本公开的一些实施例中，所述定向网络安全隧道通过双工通信协议建立，使用非对称可逆加密或数字签名的方式保护所述认证请求数据。在本公开的一些实施例中，所述认证源集成库包括认证源适配器和认证源配置信息，所述外网终端通过定向网络安全隧道更新所述认证源适配器和认证源配置信息。类似的，上述实施例从外网终端一侧描述了身份认证的实施方式。基于前述描述和本公开创新思想，本公开还提供一种内网认证代理终端一侧的身份认证方法。如图3所示，图3是根据一示例性实施例示出的一种身份认证方法的流程图，具体的，所述方法可以应用于前述所述的内网认证代理终端，可以包括：S302：接收通过网络安全隧道的第一认证请求，对所述第一认证请求进行解密和签名认证，并进行第二协议转换，得到原始的认证请求；S304：其中，所述认证请求通过执行内网认证的外网终端获取，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；所述外网终端查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端作为执行于进行内网认证代理终端；S306；所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；S308：在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；S310：各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；S312：匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。在本公开的一些实施例中，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。在本公开的一些实施例中，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。应该理解的是，虽然如上所述的各实施例所涉及的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，如上所述的各实施例所涉及的流程图中的至少一部分步骤可以包括多个步骤或者多个阶段，这些步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤中的步骤或者阶段的至少一部分轮流或者交替地执行。基于同样的发明构思，本公开实施例还提供了一种用于实现上述所涉及的针对身份认证方法的身份认证装置。该装置所提供的解决问题的实现方案与上述方法中所记载的实现方案相似，故下面所提供的身份认证装置实施例中的具体限定可以参见上文中对于身份认证方法的限定，在此不再赘述。所述装置可以包括使用了本说明书实施例所述方法的系统、软件、模块、组件、服务器、客户端等并结合必要的实施硬件的装置。基于同一创新构思，本公开实施例提供的一个或多个实施例中的装置如下面的实施例所述。由于装置解决问题的实现方案与方法相似，因此本说明书实施例具体的装置的实施可以参见前述方法的实施，重复之处不再赘述。以下所使用的，术语“单元”或者“模块”可以实现预定功能的软件和/或硬件的组合。尽管以下实施例所描述的装置较佳地以软件来实现，但是硬件，或者软件和硬件的组合的实现也是可能并被构想的。在一个实施例中，如图4所示，提供了一种身份认证装置400，所述装置可以为前述服务器，或者集成于所述服务器的模块、组件、器件、单元等。该装置400可以包括：获取模块402，用于获取认证请求，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；第一转换模块404，用于所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；查询模块406，用于查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端；第二转换模块408，用于通过网络安全隧道将所述第一认证请求发送至所述目标内网认证代理终端；所述目标内网认证代理终端对接收到的第一认证请求进行解密和签名认证，并进行第二协议转换，获取原始的认证请求；发送模块410，用于在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；判断模块412，用于各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；认证模块414，用于匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。在一个实施例中，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。在一个实施例中，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。在一个实施例中，所述定向网络安全隧道通过双工通信协议建立，使用非对称可逆加密或数字签名的方式保护所述认证请求数据。在一个实施例中，所述认证源集成库包括认证源适配器和认证源配置信息，所述外网终端通过定向网络安全隧道更新所述认证源适配器和认证源配置信息。图5是根据一示例性实施例示出的一种身份认证装置框图。所述装置可以为前述所述的内网认证代理终端。具体的可以参照图5，该装置500可以包括：接收模块502，用于接收通过网络安全隧道的第一认证请求，对所述第一认证请求进行解密和签名认证，并进行第二协议转换，得到原始的认证请求；选择模块504，其中，所述认证请求通过执行内网认证的外网终端获取，在确定所述认证请求需进行代理认证时，将所述认证请求发送至协议翻译模块；所述外网终端查询所述认证请求所需调用的认证源系统所对应的内网认证代理终端列表和认证适配器，从所述内网认证代理终端列表中选择处于在线状态的目标内网认证代理终端作为执行于进行内网认证代理终端；加密模块506，用于所述协议翻译模块将所述认证请求进行第一协议转换，转换成与定向网络安全隧道适配的报文格式，并对报文内容进行加密和签名，生成第一认证请求；所述定向网络安全隧道是由内网认证代理终端向外网终端发起的单向网络连接，并在网络连接建立后使用双工通信；转发模块508，用于在所述签名认证通过的情况下，将所述认证请求转发至认证源集成库；适配模块510，用于各个认证源集成库判断自己的认证适配器是否与认证请求中的认证适配器匹配；执行模块512，用于匹配的目标适配器根据对应的认证源配置信息调用对应的认证源系统接口；所述认证源系统接收到认证适配器的接口调用，执行基于认证请求中身份凭证的身份认证处理。在一个实施例中，所述内网认证代理终端包括用于监控内网认证代理终端状态的定时器；所述定时器确定所述内网认证代理终端状态为离线，获取离线的内网认证代理终端，将所述内网认证代理终端的状态转换为在线。在一个实施例中，所述外网终端通过定向网络安全隧道获取内网认证代理终端中认证源集成库的运行日志，所述运行日志显示于认证代理注册中心，用于用户查找所述内网认证代理终端的运行状态。关于上述实施例中的装置，其中各个模块执行操作的具体方式已经在有关该方法的实施例中进行了详细描述，此处将不做详细阐述说明。上述针对身份认证装置中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。在一个实施例中，提供了一种计算机设备，该计算机设备可以是服务器，其内部结构图可以如图6所示。该计算机设备包括通过系统总线连接的处理器、存储器和网络接口。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质和内存储器。该非易失性存储介质存储有操作系统、计算机程序和数据库。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的数据库用于存储认证请求。该计算机设备的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时以实现一种身份认证方法。在一个实施例中，提供了一种计算机设备，该计算机设备可以是终端，其内部结构图可以如图7所示。该计算机设备包括通过系统总线连接的处理器、存储器、通信接口、显示屏和输入装置。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的通信接口用于与外部的终端进行有线或无线方式的通信，无线方式可通过WIFI、移动蜂窝网络、NFC或其他技术实现。该计算机程序被处理器执行时以实现身份认证方法。该计算机设备的显示屏可以是液晶显示屏或者电子墨水显示屏，该计算机设备的输入装置可以是显示屏上覆盖的触摸层，也可以是计算机设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图6、图7中示出的结构，仅仅是与本公开方案相关的部分结构的框图，并不构成对本公开方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提供了一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现本公开任一实施例所述的方法。在一个实施例中，提供了一种计算机程序产品，包括计算机程序，该计算机程序被处理器执行时实现本公开任一实施例所述的方法。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本公开所提供的各实施例中所使用的对存储器、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存、光存储器、高密度嵌入式非易失性存储器、阻变存储器、磁变存储器、铁电存储器、相变存储器、石墨烯存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器等。作为说明而非局限，RAM可以是多种形式，比如静态随机存取存储器或动态随机存取存储器等。本公开所提供的各实施例中所涉及的数据库可包括关系型数据库和非关系型数据库中至少一种。非关系型数据库可包括基于区块链的分布式数据库等，不限于此。本公开所提供的各实施例中所涉及的处理器可为通用处理器、中央处理器、图形处理器、数字信号处理器、可编程逻辑器、基于量子计算的数据处理逻辑器等，不限于此。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本公开的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本公开专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本公开构思的前提下，还可以做出若干变形和改进，这些都属于本公开的保护范围。因此，本公开的保护范围应以所附权利要求为准。
