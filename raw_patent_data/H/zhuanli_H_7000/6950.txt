标题title
实现最佳去耦电容值且满足金属密度约束的布局方法
摘要abst
本发明适用于晶圆制造工艺技术领域，尤其涉及一种实现最佳去耦电容值且满足金属密度约束的布局方法。本发明提供了一种可在数字IC设计流程中，用于估算和实现符合规定的最佳M0和M1金属密度和均匀度的方法，通过引入迭代算法，在工艺定义的检查窗口中，利用一组不同的去耦电容器间距重复进行布局、密度验证和电容值计算，从而能够得出去耦电容单元和填充单元的最佳布局间隔，同时符合M1最小密度和M0最大密度的工艺要求，并且达到最佳的电容值。
权利要求书clms
1.一种实现最佳去耦电容值且满足金属密度约束的布局方法，所述布局方法用于确定拥有相邻设置的第一金属层M0和第二金属层M1的去耦电容单元在晶圆上的最佳间距，所述第一金属层M0具有第一金属密度约束，所述第二金属层M1具有第二金属密度约束，其特征在于，所述布局方法包括以下步骤：S1、将用于填充至所述晶圆上的所述去耦电容单元之间的所述间距初始化为g，并确定最大间距h和迭代值j；S2、根据所述间距g，将所述去耦电容单元填充至所述晶圆中，同时，在不同的所述去耦电容单元的所述第二金属层M1之间的每一间隙中插入填充单元，并计算当前的所述间距g对应的所述第一金属层M0的第一金属层密度值和所述第二金属层M1的第二金属层密度值；S3、判断相同的所述间距g对应的所述第一金属层密度值和所述第二金属层密度值是否分别满足所述第一金属密度约束和所述第二金属密度约束，并将分别满足所述第一金属密度约束和所述第二金属密度约束的所述第一金属层密度值、所述第二金属层密度值、以及所述间距g保存；S4、判断所述间距g的值是否等于所述最大间距h的值，若否，使所述间距g的值增加所述迭代值j，并返回步骤S2；若是，执行步骤S5；S5、根据步骤S3中保存的所有所述间距g的值以及对应的所述第一金属层密度值和所述第二金属层密度值，按照所述间距g的大小构建折线对比图，并获取其中使得所述第二金属层密度值的折线最先出现变化率不同的折点对应的所述间距g，将其输出作为所述最佳间距。2.如权利要求1所述的实现最佳去耦电容值且满足金属密度约束的布局方法，其特征在于，所述间距g、所述最大间距h和所述迭代值j的单位为um。3.如权利要求1所述的实现最佳去耦电容值且满足金属密度约束的布局方法，其特征在于，步骤S2中，在不同的所述去耦电容单元的所述第二金属层M1之间的每一间隙中插入的所述填充单元的数量大于或等于1。4.如权利要求1所述的实现最佳去耦电容值且满足金属密度约束的布局方法，其特征在于，步骤S5中，所述折点对应的所述间距g与间距g-j下的所述第二金属层M1的每一间隙中的所述填充单元数量相同。5.一种计算机设备，其特征在于，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如权利要求1至4中任意一项所述的实现最佳去耦电容值且满足金属密度约束的布局方法中的步骤。6.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1至4中任意一项所述的实现最佳去耦电容值且满足金属密度约束的布局方法中的步骤。
说明书desc
技术领域本发明适用于晶圆制造工艺技术领域，尤其涉及一种实现最佳去耦电容值且满足金属密度约束的布局方法。背景技术大多数晶圆厂工艺在芯片上设有最小和最大的金属密度限制的要求，以在芯片表面获得光滑的平面、均匀的结构，从而实现可制造性和高成品率。在现有的数字集成电路的自动布局和布线流程中，去耦电容单元和填充单元的布局违反了Metal-1的最小密度。另一方面，相同的布局超出Metal-0的最大密度要求。为解决上述问题，现有技术一般是通过优先将需要的最大尺寸的去耦电容单元填充到可用空间中，之后再选择其他尺寸和类型的电容器进行填充。如图1所示，图1中的去耦电容单元在空白区域上彼此相邻排列，而被填充的这片区域没有或只有少数的标准单元，去耦电容单元是一种标准电容器单元，其具有独特的物理设计结构，每个去耦电容单元都有如图2和图3所示的预设的M0和M1金属层，这些金属层使得能够提高密度的伪器件无法插入填充区域，导致M1密度不足，同时，较大面积的去耦电容单元也造成了M0最大密度的违例。很显然，这样的设计使得芯片的可制造性和成品率受到影响。发明内容本发明旨在解决现有技术没有对满足金属密度限制的去耦电容器进行优化的技术问题。为解决上述技术问题，第一方面，本发明提供一种实现最佳去耦电容值且满足金属密度约束的布局方法，所述布局方法用于确定拥有相邻设置的第一金属层M0和第二金属层M1的去耦电容单元在晶圆上的最佳间距，所述第一金属层M0具有第一金属密度约束，所述第二金属层M1具有第二金属密度约束，所述布局方法包括以下步骤：S1、将用于填充至所述晶圆上的所述去耦电容单元之间的所述间距初始化为g，并确定最大间距h和迭代值j；S2、根据所述间距g，将所述去耦电容单元填充至所述晶圆中，同时，在不同的所述去耦电容单元的所述第二金属层M1之间的每一间隙中插入填充单元，并计算当前的所述间距g对应的所述第一金属层M0的第一金属层密度值和所述第二金属层M1的第二金属层密度值；S3、判断相同的所述间距g对应的所述第一金属层密度值和所述第二金属层密度值是否分别满足所述第一金属密度约束和所述第二金属密度约束，并将分别满足所述第一金属密度约束和所述第二金属密度约束的所述第一金属层密度值、所述第二金属层密度值、以及所述间距g保存；S4、判断所述间距g的值是否等于所述最大间距h的值，若否，使所述间距g的值增加所述迭代值j，并返回步骤S2；若是，执行步骤S5；S5、根据步骤S3中保存的所有所述间距g的值以及对应的所述第一金属层密度值和所述第二金属层密度值，按照所述间距g的大小构建折线对比图，并获取其中使得所述第二金属层密度值的折线最先出现变化率不同的折点对应的所述间距g，将其输出作为所述最佳间距。更进一步地，所述间距g、所述最大间距h和所述迭代值j的单位为um。更进一步地，步骤S2中，在不同的所述去耦电容单元的所述第二金属层M1之间的每一间隙中插入的所述填充单元的数量大于或等于1。更进一步地，步骤S5中，所述折点对应的所述间距g与间距g-j下的所述第二金属层M1的每一间隙中的所述填充单元数量相同。第二方面，本发明实施例还提供一种计算机设备，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上实施例中任意一项所述的实现最佳去耦电容值且满足金属密度约束的布局方法中的步骤。第三方面，本发明实施例还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如上实施例中任意一项所述的实现最佳去耦电容值且满足金属密度约束的布局方法中的步骤。本发明所达到的有益效果，在于提供了一种可在数字IC设计流程中，用于估算和实现符合规定的最佳M0和M1金属密度和均匀度的方法，通过引入迭代算法，在工艺定义的检查窗口中，利用一组不同的去耦电容器间距重复进行布局、密度验证和电容值计算，从而能够得出去耦电容单元和填充单元的最佳布局间隔，同时符合M1最小密度和M0最大密度的工艺要求，并且达到最佳的电容值。附图说明图1是现有技术中去耦电容单元的填充示意图；图2是现有技术中M0金属层示意图；图3是现有技术中M1金属层示意图；图4是本发明实施例提供的实现最佳去耦电容值且满足金属密度约束的布局方法的流程示意图；图5是本发明实施例在去耦电容单元的间隙插入填充单元的效果示意图；图6是本发明实施例提供的金属密度数据折线对比示意图；图7是本发明实施例提供的1.5um间距填充示意图；图8是本发明实施例提供的1.6um间距填充示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。请参照图4，图4是本发明实施例提供的实现最佳去耦电容值且满足金属密度约束的布局方法的流程示意图，所述布局方法用于确定拥有相邻设置的第一金属层M0和第二金属层M1的去耦电容单元在晶圆上的最佳间距，所述第一金属层M0具有第一金属密度约束，所述第二金属层M1具有第二金属密度约束，所述布局方法包括以下步骤：S1、将用于填充至所述晶圆上的所述去耦电容单元之间的所述间距初始化为g，并确定最大间距h和迭代值j。更进一步地，所述间距g、所述最大间距h和所述迭代值j的单位为um。具体的，在本发明实施例中，利用去耦电容单元进行布局开始时，去耦电容单元之间的间距g可以视为g um，同理，最大间距h为h um、迭代值j为j um，将g um视为晶圆工艺中最小的填充单元的尺寸，去耦电容单元被放置之后，单元之间的间隙将被其他类型的填充单元填满，填充单元是一种没有逻辑链接的标准单元，通常为电源线、地线以及衬底和有源区偏置提供连续性，在本发明实施例中，填充单元基于Dummy金属实现，在本发明实施例中，将所述间距g设为1um，所述最大间距h设为2um，所述迭代值j设为0.1um。S2、根据所述间距g，将所述去耦电容单元填充至所述晶圆中，同时，在不同的所述去耦电容单元的所述第二金属层M1之间的每一间隙中插入填充单元，并计算当前的所述间距g对应的所述第一金属层M0的第一金属层密度值和所述第二金属层M1的第二金属层密度值。更进一步地，步骤S2中，在不同的所述去耦电容单元的所述第二金属层M1之间的每一间隙中插入的所述填充单元的数量大于或等于1。如图5所示，图5是本发明实施例在去耦电容单元的间隙插入填充单元的效果示意图。S3、判断相同的所述间距g对应的所述第一金属层密度值和所述第二金属层密度值是否分别满足所述第一金属密度约束和所述第二金属密度约束，并将分别满足所述第一金属密度约束和所述第二金属密度约束的所述第一金属层密度值、所述第二金属层密度值、以及所述间距g保存。表1是本发明实施例在检查窗口中按不同去耦电容单元间距收集的第一金属层密度值和第二金属层密度值，以及根据计算去耦电容器面积得出的电容值。当去耦电容单元被填充单元间隔开，第一金属层密度值会随着同一检查窗口中的去耦电容器面积的减小而成比例减少；另一方面，第二金属层密度值也会随着去耦电容器间隙的增加而逐渐增加，这是因为填充单元不会阻挡第一金属层中的Dummy金属，所以Dummy金属可以插入去耦电容器的间隙中，从而使第二金属层的密度增加。表 1 第一金属层密度值、第二金属层密度值和电容值对比表S4、判断所述间距g的值是否等于所述最大间距h的值，若否，使所述间距g的值增加所述迭代值j，即g=g+j，并返回步骤S2；若是，执行步骤S5。S5、根据步骤S3中保存的所有所述间距g的值以及对应的所述第一金属层密度值和所述第二金属层密度值，按照所述间距g的大小构建折线对比图，并获取其中使得所述第二金属层密度值的折线最先出现变化率不同的折点对应的所述间距g，将其输出作为所述最佳间距。请参照图6，图6是本发明实施例提供的金属密度数据折线对比示意图，该示意图对应表1的数据，随着去耦电容器间距的增加，去耦电容器的数量在同一检查窗口上成比例地减少。这对电容值也有相同的效果。更进一步地，步骤S5中，所述折点对应的所述间距g与间距g-j下的所述第二金属层M1的每一间隙中的所述填充单元数量相同。根据表1和图6，在本发明实施例所引用的数据中，去耦电容器的最佳间距为1.5um。这可获得M0密度的平均增益，以及M1密度和电容值的最佳增益。理论上，M1密度应该随着去耦电容器间距的减小而相对地下降，但在本发明实施例中，M1密度在1.5um的间距显然更高，这是因为1.5um的间距是可以容纳如图7所示的3个dummy金属的最近的间隙；而如图8所示的1.6um的间距中，也只能插入相同数量的3个dummy金属，但去耦电容器的间距却增加了0.1um，因此在相同的检查窗口中M1的总量相对较少。本发明所达到的有益效果，在于提供了一种可在数字IC设计流程中，用于估算和实现符合规定的最佳M0和M1金属密度和均匀度的方法，通过引入迭代算法，在工艺定义的检查窗口中，利用一组不同的去耦电容器间距重复进行布局、密度验证和电容值计算，从而能够得出去耦电容单元和填充单元的最佳布局间隔，同时符合M1最小密度和M0最大密度的工艺要求，并且达到最佳的电容值。本发明实施例还提供一种计算机设备，所述计算机设备包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序。所述处理器调用所述存储器存储的计算机程序，执行本发明实施例提供的实现最佳去耦电容值且满足金属密度约束的布局方法中的步骤，请结合图4，具体包括：S1、将用于填充至所述晶圆上的所述去耦电容单元之间的所述间距初始化为g，并确定最大间距h和迭代值j；S2、根据所述间距g，将所述去耦电容单元填充至所述晶圆中，同时，在不同的所述去耦电容单元的所述第二金属层M1之间的每一间隙中插入填充单元，并计算当前的所述间距g对应的所述第一金属层M0的第一金属层密度值和所述第二金属层M1的第二金属层密度值；S3、判断相同的所述间距g对应的所述第一金属层密度值和所述第二金属层密度值是否分别满足所述第一金属密度约束和所述第二金属密度约束，并将分别满足所述第一金属密度约束和所述第二金属密度约束的所述第一金属层密度值、所述第二金属层密度值、以及所述间距g保存；S4、判断所述间距g的值是否等于所述最大间距h的值，若否，使所述间距g的值增加所述迭代值j，并返回步骤S2；若是，执行步骤S5；S5、根据步骤S3中保存的所有所述间距g的值以及对应的所述第一金属层密度值和所述第二金属层密度值，按照所述间距g的大小构建折线对比图，并获取其中使得所述第二金属层密度值的折线最先出现变化率不同的折点对应的所述间距g，将其输出作为所述最佳间距。更进一步地，所述间距g、所述最大间距h和所述迭代值j的单位为um。更进一步地，步骤S2中，在不同的所述去耦电容单元的所述第二金属层M1之间的每一间隙中插入的所述填充单元的数量大于或等于1。更进一步地，步骤S5中，所述折点对应的所述间距g与间距g-j下的所述第二金属层M1的每一间隙中的所述填充单元数量相同。本发明实施例提供的计算机设备能够实现如上述实施例中的实现最佳去耦电容值且满足金属密度约束的布局方法中的步骤，且能实现同样的技术效果，参上述实施例中的描述，此处不再赘述。本发明实施例还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，该计算机程序被处理器执行时实现本发明实施例提供的实现最佳去耦电容值且满足金属密度约束的布局方法中的各个过程及步骤，且能实现相同的技术效果，为避免重复，这里不再赘述。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，所述的存储介质可为磁碟、光盘、只读存储记忆体或随机存取存储器等。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者装置不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者装置所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者装置中还存在另外的相同要素。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端执行本发明各个实施例所述的方法。上面结合附图对本发明的实施例进行了描述，所揭露的仅为本发明较佳实施例而已，但是本发明并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本发明的启示下，在不脱离本发明宗旨和权利要求所保护的范围情况下，还可做出很多形式用等同变化，均属于本发明的保护之内。
