标题title
大直径伺服电机及电气设备
摘要abst
本发明涉及电动机领域，具体涉及一种大直径伺服电机及电气设备，该大直径伺服电机包括电动机本体、控制器和多对极磁电编码器，控制器包括控制模块；多对极磁电编码器包括第二多对极磁体、第一多对极磁体、单对极导磁体组合件和弱磁组合件，单对极导磁体组合件具有第一齿形部与第二齿形部，弱磁组合件置于第一齿形部与第二齿形部之间；第一组霍尔元件、第二组霍尔元件、第三组霍尔元件根据对应磁体的磁极信号输出相应的检测信号。本发明中的多对极磁电编码器通过获取具有一定精度的机械角度来标定最外环磁体的旋转角度，从而大幅提高测量精度，本发明尤其适用于大直径电机轴角度检测及位置检测的工况场景。
权利要求书clms
1.大直径伺服电机，其特征在于，包括：电动机本体；多对极磁电编码器，与所述电动机本体同轴设置，包括同轴轴向设置的第二多对极磁体、第一多对极磁体、单对极导磁体组合件和电路板，其中，所述第一多对极磁体包括m对磁极且3≤m＜23，所述第二多对极磁体包括n对磁极且3≤n＜23，m大于n且为彼此互质的自然数，所述单对极导磁体组合件包括同轴轴向依次紧密贴合安装的第一环形导磁体、单对极环形磁体和第二环形导磁体，且第一环形导磁体、第二环形导磁体的外环直径大于单对极环形磁体的外环直径，其中，所述第一环形导磁体在其一个轴向端面上开设有第一齿形部，所述第二环形导磁体具有一个与该第一齿形部完全相对立的第二齿形部，第一齿形部与第二齿形部形成一个环形的开口区域，其中，所述开口区域的开口方向与单对极环形磁体的径向方向相一致，并在其第一齿形部和第二齿形部上均对应开有P个齿且p≥100；此外，所述电路板上包括有：第一组霍尔元件，包括第一线性霍尔传感器和第二线性霍尔传感器，与所述第一多对极磁体相邻设置，并根据第一多对极磁体的磁极信号输出第一组检测信号；第二组霍尔元件，包括第三线性霍尔传感器和第四线性霍尔传感器，与所述第二多对极磁体相邻设置，并根据第二多对极磁体的磁极信号输出第二组检测信号；弱磁组合件，包括同轴轴向依次紧密贴合的第三导磁体、第一单对极磁体和第四导磁体，所述弱磁组合件被设于第一齿形部与第二齿形部之间，其中，所述第一单对极磁体的磁场方向与单对极环形磁体的磁场方向相反；第三组霍尔元件，包括第五线性霍尔传感器、第六线性霍尔传感器和第七线性霍尔传感器，且设于所述第二齿形部与所述第四导磁体之间，并根据单对极导磁体组合件的磁极信号输出修正的第三组检测信号；控制器，包括控制模块，所述控制模块通过连接件与所述电动机本体连接，其中，所述控制模块中集成有控制单元与电流传感器，所述控制单元接收多对极磁电编码器反馈的电机转轴角度信息以及接收电流传感器采集的电流信号，经过处理后由控制器发出驱动电动机本体工作的控制信号，实现对电机的精确控制。2.根据权利要求1所述的大直径伺服电机，其特征在于，所述电动机本体为永磁同步伺服电动机。3.根据权利要求1所述的大直径伺服电机，其特征在于，m和n为质数且mn＜23×19。4.根据权利要求1所述的大直径伺服电机，其特征在于，所述第一组检测信号包括：第一线性霍尔传感器、第二线性霍尔传感器根据第一多对极磁体的磁极信号输出的第一检测信号与第二检测信号；所述第一检测信号与第二检测信号的相位相差90度。5.根据权利要求1所述的大直径伺服电机，其特征在于，所述第二组检测信号包括：第三线性霍尔传感器、第四线性霍尔传感器根据第二多对极磁体的磁极信号输出的第三检测信号与第四检测信号；所述第三检测信号与第四检测信号的相位相差90度。6.根据权利要求1所述的大直径伺服电机，其特征在于，所述修正的第三组检测信号包括：第五线性霍尔传感器、第六线性霍尔传感器和第七线性霍尔传感器根据单对极导磁体组合件的磁极信号输出的d轴、q轴的检测信号；其中，第五线性霍尔传感器、第六线性霍尔传感器和第七线性霍尔传感器对单对极导磁体组合件的磁极信号采集后获得相位相差120度的原始三相霍尔信号，所述原始三相霍尔信号为第五检测信号，第六检测信号和第七检测信号；然后对获得的原始三相霍尔信号作零点漂移的处理后输出相位相差90度的d轴、q轴的检测信号。7.根据权利要求1所述的大直径伺服电机，其特征在于，所述第一线性霍尔传感器与第三线性霍尔传感器以及第五线性霍尔传感器在一端对齐。8.根据权利要求1所述的大直径伺服电机，其特征在于，所述第一多对极磁体介于单对极导磁体组合件与第二多对极磁体之间，且第一多对极磁体与第二多对极磁体的起始磁极安装位置存在角度差。9.根据权利要求1所述的大直径伺服电机，其特征在于，所述第一多对极磁体、第二多对极磁体设置为磁化方向与电机转轴的径向或轴向一致；所述单对极导磁体组合件设置为磁化方向与电机转轴的径向或轴向一致。10.电气设备，其特征在于，包括：根据权利要求1-9中任意一项所述的大直径伺服电机。
说明书desc
技术领域本发明涉及电动机领域，具体涉及一种大直径伺服电机及电气设备。背景技术电动机是工业领域中使用非常广泛的一种动力源。而伺服电机作为一种能够控制电机旋转方向与角度的电机，被常用于机器人、传送装置等需要精确定位的领域。伺服电机依靠其自带的编码器来检测其转子的方位，从而便于伺服电机的驱动器来精确控制转子的旋转角度。光电编码器作为一种常用的编码器，其发光器发出的激光穿过随转子同步旋转的光栅后到达接收器，当光栅旋转时、穿过光栅的激光会出现断续现象，接收器上接收到的激光信号也将出现断续现象，接收器将该断续的激光信号转化为电压波动信号，并将其发送给驱动器，便于驱动器精确地检测转子旋转的角度。但是，光电编码器还存在一些难以克服的缺点，如光电编码器的码盘采用玻璃材质，并在玻璃上沉积很薄的刻线，其热稳定性及精度虽然可以满足测量要求，但是光电编码器抗震动和抗冲击能力不高，不适合用于尘埃、结露等恶劣环境，并且其结构与定位组装复杂。在生产中还必须要保证很高的装配精度，这直接影响到生产效率，最终影响产品的成本。为了克服上述编码器的不足，出现了用于电动机系统的单对极或两环多对极的磁电式编码器。此种编码器包括磁体、磁感应元件和信号处理电路。磁体随着电动机轴旋转，产生变化的磁场。磁感应元件感应到该变化的磁场，将磁信号转变成电信号输出到信号处理电路。信号处理电路将该电信号处理成角度信号输出。对于直流无刷电动机，该磁电式编码器中使用的磁体的磁极要与直流无刷电动机的磁极数目相适应才可以正常使用。而对于交流永磁同步伺服电动机，磁电式编码器的使用没有此种限制。随着电动机控制精度的提升，其对编码器的分辨率要求也越来越高，尤其是对大直径电机轴的精准控制，对编码器的分辨率即精度要求更高。为了增加编码器的分辨率，通常会增加磁极对的数量，但是在实际应用过程中，当内外两环多对极磁电编码器的磁极对数增加到一定数量时，一方面，加工的单个磁极对的厚度将锐减成1mm之内，不仅不利于磁极对的粘接，而且还会造成多对极磁体在粘结的过程中易碎易断的问题，从而无法实现多对极磁体极对数的大幅增加，测量精度也因此受限；另一方面，由于误差及噪声的影响，磁敏元件采集的检测信号将在某一角度区间内完全重合，这将导致无法获取磁电编码器的绝对角度，也就无法实现电动机更高精度的要求。发明内容鉴于此，本发明的目的在于提供一种大直径伺服电机，旨在克服因极对数的增加导致多对极磁体制作困难的缺陷，同时解决因极对数的增加导致磁敏元件采集的检测信号在某一区间内完全重合，造成电动机精度无法提高的问题。本发明的另一目的在于，提供一种电气设备，旨在解决无法实现电气设备精确控制的问题。为了达到上述发明目的，本发明采取的技术方案如下：本发明提供的大直径伺服电机，包括：电动机本体；多对极磁电编码器，与所述电动机本体同轴设置，包括同轴轴向设置的第二多对极磁体、第一多对极磁体、单对极导磁体组合件和电路板，其中，所述第一多对极磁体包括m对磁极且3≤m＜23，所述第二多对极磁体包括n对磁极且3≤n＜23，m大于n且为彼此互质的自然数，所述单对极导磁体组合件包括同轴轴向依次紧密贴合安装的第一环形导磁体、单对极环形磁体和第二环形导磁体，且第一环形导磁体、第二环形导磁体的外环直径大于单对极环形磁体的外环直径，其中，所述第一环形导磁体在其一个轴向端面上开设有第一齿形部，所述第二环形导磁体具有一个与该第一齿形部完全相对立的第二齿形部，第一齿形部与第二齿形部形成一个环形的开口区域，在此结构下，所述单对极导磁体组合件实现在其径向截面上整体形状趋于闭合，其中，所述开口区域的开口方向与单对极环形磁体的径向方向相一致，并在其第一齿形部和所述第二齿形部上均对应开有P个齿且p≥100；此外，所述电路板上包括有：第一组霍尔元件，包括第一线性霍尔传感器和第二线性霍尔传感器，与所述第一多对极磁体相邻设置，并根据第一多对极磁体的磁极信号输出第一组检测信号；第二组霍尔元件，包括第三线性霍尔传感器和第四线性霍尔传感器，与所述第二多对极磁体相邻设置，并根据第二多对极磁体的磁极信号输出第二组检测信号；弱磁组合件，包括同轴轴向依次紧密贴合的第三导磁体、第一单对极磁体和第四导磁体，所述弱磁组合件被设于第一齿形部与第二齿形部之间，其中，所述第一单对极磁体的磁场方向与单对极环形磁体的磁场方向相反；第三组霍尔元件，包括第五线性霍尔传感器、第六线性霍尔传感器和第七线性霍尔传感器，且设于所述第二齿形部与所述第四导磁体之间，并根据单对极导磁体组合件的磁极信号输出修正的第三组检测信号；控制器，包括控制模块，所述控制模块通过连接件与所述电动机本体连接，其中，所述控制模块中集成有控制单元与电流传感器，所述控制单元接收多对极磁电编码器反馈的电机转轴角度信息以及接收电流传感器采集的电流信号，经过处理后由控制器发出驱动电动机本体工作的控制信号，实现对电机的精确控制。进一步的，所述电动机本体为永磁同步伺服电动机。再进一步的，m和n为质数且mn＜23×19。更近一步的，所述第一组检测信号包括：第一线性霍尔传感器、第二线性霍尔传感器根据第一多对极磁体的磁极信号输出的第一检测信号与第二检测信号；所述第一检测信号与第二检测信号的相位相差90度。更近一步的，所述第二组检测信号包括：第三线性霍尔传感器、第四线性霍尔传感器根据第二多对极磁体的磁极信号输出的第三检测信号与第四检测信号；所述第三检测信号与第四检测信号的相位相差90度。更近一步的，所述修正的第三组检测信号包括：第五线性霍尔传感器、第六线性霍尔传感器和第七线性霍尔传感器根据单对极导磁体组合件的磁极信号输出的d轴、q轴的检测信号；其中，第五线性霍尔传感器、第六线性霍尔传感器和第七线性霍尔传感器对单对极导磁体组合件的磁极信号采集后获得相位相差120度的原始三相霍尔信号，所述原始三相霍尔信号为第五检测信号，第六检测信号和第七检测信号；然后对获得的原始三相霍尔信号作零点漂移的处理后输出相位相差90度的d轴、q轴的检测信号。优选地，所述第一线性霍尔传感器与第三线性霍尔传感器以及第五线性霍尔传感器在一端对齐。较佳地，所述第一多对极磁体介于单对极导磁体组合件与第二多对极磁体之间，且第一多对极磁体与第二多对极磁体的起始磁极安装位置存在角度差。优选地，所述第一多对极磁体、第二多对极磁体设置为磁化方向与电机转轴的径向或轴向一致；所述单对极导磁体组合件设置为磁化方向与电机转轴的径向或轴向一致。在上述发明内容的基础上，本发明还提供了一种电气设备，该电气设备采用上述涉及的大直径伺服电机。本发明的有益效果：本发明将单对极导磁体组合件中的第一环形导磁体的一轴向端面设置成第一齿形部，第二环形导磁体上设置一与第一齿形部完全对立的第二齿形部，并保持两者之间留有开口的情形下，当单对极导磁体组合件同轴旋转一周，利用霍尔元件采集到的检测信号中的周期数量与第一齿形部或第二齿形部的齿数一一对应，即第一齿形部和第二齿形部均对应具有P个齿将获得含有P个周期的检测信号，这正好与P个极对数的多对极磁体利用霍尔元件采集的检测信号完全吻合。此时，可将单对极导磁体组合件相当于一个具有极对数为P的多对极磁体。在此基础上，本发明提供的大直径伺服电机中采用的多对极磁电编码器是在原有两环多对极磁体的基础上轴向增设一个磁极对数要远远大于两环磁极对数的多对极磁体，即采用机加工的方式可容易在第一环形导磁体上加工出具有P个齿的第一齿形部、以及在第二环形导磁体上加工出具有P个齿的第二齿形部，且将第一齿形部上的齿与第二齿形部上的齿进行一一对应，这样就实现了增设的多对极磁体极对数的大幅增加，利用原有两环多对极磁体获取的具有一定精度的机械角度来标定增设的多对极磁体的实际旋转角度，从而大幅度提高磁电编码器的测量精度，相应地也就大幅提升了电机的定位精度和角度控制精度。本发明提供的大直径伺服电机尤其适用于大直径电机轴角度检测及位置检测的工况场景。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1示出本申请实施例的大直径伺服电机结构组成示意图；图2示出本申请实施例多对极磁电编码器的截面剖视图；图3示出本申请实施例多对极磁电编码器的立体图；图4示出本申请实施例多对极磁电编码器绝对角度检测方法流程图；图5示出本申请实施例中两个线性霍尔传感器信号检测原理图；图6示出本申请实施例中两个线性霍尔元件检测信号示意图；图7示出本申请实施例中三个线性霍尔传感器信号检测原理图；图8示出本申请实施例中未增加弱磁组合件时，三个线性霍尔传感器检测信号示意图；图9示出本申请实施例中增加弱磁组合件时，三个线性霍尔传感器检测信号过零点示意图；图10示出本申请实施例中利用三个霍尔信号消除零点漂移的原理图；图11示出本申请实施例中合成两相霍尔信号的原理图；图12示出图2-3中第二多对极磁体与第一多对极磁体的起始磁极安装位置存在角度差的示意图；图13示出本申请实施例的磁极位置特征值取值数量示意图。具体实施方式下面将参考附图更全面地描述示例实施例。然而，示例实施例能以多种形式实施，且不应被理解为限于在此阐述的实施例。提供这些实施例是为使得本发明更全面和完整，并将示例实施例的构思全面地传达给本领域的技术人员。在图中相同的附图标记表示相同或类似的部分，因而将省略对它们的重复描述。此外，所描述的特征、结构或特性可以以任何合适的方式结合在一个或更多实施例中。在下面的描述中，提供许多具体细节从而给出对本发明实施例的充分理解。应理解，虽然本文中可能使用术语第一、第二、第三等来描述各种组件，但这些组件不应受这些术语限制。这些术语只用以进行区分。如本文中所使用，术语“及/或”包括相关联的列出项目中的任一个及一或多个的所有组合。本领域技术人员可以理解，附图只是示例实施例的示意图。附图中的模块或流程并不一定是实施本发明所必须的，因此不能用于限制本发明的保护范围。随着电动机控制精度的提升，其对编码器的分辨率要求也越来越高，尤其是对大直径电机轴的精准控制，对编码器的分辨率即精度要求更高。为了增加编码器的分辨率，通常会增加磁极对的数量，但是在实际应用过程中，当两环多对极磁电编码器的磁极对数增加到一定数量时，一方面，加工的单个磁极对的厚度将锐减成1mm之内，不仅不利于磁极对的粘接，而且还会造成多对极磁体在粘结的过程中易碎易断的问题，从而无法实现多对极磁体极对数的大幅增加，测量精度也因此受限；另一方面，由于误差及噪声的影响，磁敏元件采集的检测信号将在某一角度区间内完全重合，这将导致无法获取磁电编码器的绝对角度，也就无法实现电动机更高精度的要求。为了解决上述问题，本发明提供一种多对极磁电编码器，该磁电编码器包含有一单对极导磁体组合件。本发明将单对极导磁体组合件中的第一环形导磁体的一轴向端面设置成第一齿形部，第二环形导磁体上设置一与第一齿形部完全对立的第二齿形部，并保持两者之间留有开口。当单对极导磁体组合件同轴旋转一周时，利用霍尔元件采集到的检测信号中的周期数量与第一齿形部或第二齿形部的齿数一一对应，即第一齿形部和第二齿形部均对应具有P个齿将获得含有P个周期的检测信号，这正好与P个极对数的多对极磁体利用霍尔元件采集的检测信号完全吻合。此时，可将单对极导磁体组合件相当于一个具有极对数为P的多对极磁体。在此基础上，本申请提供一种大直径伺服电机。该大直径伺服电机中的多对极磁电编码器采用同轴轴向设置的三组多对极磁体，其中增设的多对极磁体即为上述单对极导磁体组合件。本发明的核心是在原有两环多对极磁体的基础上轴向增设一个磁极对数要远远大于两环磁极对数的多对极磁体，利用原有两环多对极磁体获取的具有一定精度的机械角度来标定增设的多对极磁体的实际旋转角度，从而大幅度提高磁电编码器的测量精度，相应地也就大幅提升了电机的定位精度和角度控制精度。本发明提供的大直径伺服电机尤其适用于大直径电机轴角度检测及位置检测的工况场景。以下将结合附图详细介绍本申请的技术方案。图1示出本申请实施例的大直径伺服电机结构组成示意图。如图1所示，所述大直径伺服电机包括：电动机本体10、控制器50和多对极磁电编码器60。控制器50包括控制模块51、外壳52。所述控制模块51，设置于所述外壳52内，通过连接件与所述电动机本体10连接且该控制模块51还集成有控制单元和电流传感器。本例中的控制单元为MCU控制芯片。所述多对极磁电编码器60，设置于所述外壳52内，与所述电动机本体10同轴设置。所述多对极磁电编码器60可设置于电动机本体10之前或者电动机本体10与控制模块51之间又或者设置于控制模块51之后。所述多对极磁电编码器60包括编码器磁体结构100和电路板70。编码器磁体结构100包括同轴轴向设置的第二多对极磁体120、第一多对极磁体110和单对极导磁体组合件130；电路板70上设置有第一组霍尔元件20、第二组霍尔元件30以及第三组霍尔元件40和弱磁组合件150。根据本申请的示例实施例，所述电动机本体10为永磁同步伺服电动机，包含定子、转子、转轴、磁钢、绕组以及一系列连接件。第一多对极磁体110、第二多对极磁体120、单对极导磁体组合件130和电路板70同时工作。第一多对极磁体110、第二多对极磁体120及单对极导磁体组合件130随同电动机转轴一同旋转。电路板70上的三组霍尔元件与弱磁组合件150则保持静止。图2示出本申请实施例多对极磁电编码器的截面剖视图。图3示出本申请实施例多对极磁电编码器的立体图。如图2、图3所示，多对极磁电编码器60，包括：在第一空间平面内同轴轴向设置的第二多对极磁体120、第一多对极磁体110、单对极导磁体组合件130，单对极导磁体组合件130包括同轴轴向依次紧密贴合安装的第一环形导磁体135、单对极环形磁体134和第二环形导磁体136，且第一环形导磁体135、第二环形导磁体136的外环直径大于单对极环形磁体134的外环直径，其中，所述第一环形导磁体135在其一个轴向端面上开设有第一齿形部，所述第二环形导磁体136具有一个与该第一齿形部完全相对立的第二齿形部，第一齿形部与第二齿形部形成一个环形的开口区域，在此结构下，所述单对极导磁体组合件130实现在其径向截面上整体形状趋于闭合，其中，所述开口区域的开口方向与单对极环形磁体134的径向方向相一致，并在其第一齿形部和第二齿形部上均对应开有P个齿且p≥100。另外，弱磁组合件150包括同轴轴向依次紧密贴合的第三导磁体151、第一单对极磁体152和第四导磁体153，且弱磁组合件150被设于第一齿形部与第二齿形部之间，在这里需要注意的是，所述第一单对极磁体152的磁场方向与单对极环形磁体134的磁场方向相反。第一多对极磁体110包括m对磁极且3≤m＜23，第二多对极磁体120包括n对磁极且3≤n＜23，m大于n且mn＜23×19，单对极导磁体组合件130的齿数p≥100且p可为100、200、300、400、500、600、700、800，甚至更多，P的数量越多，最终磁电编码器的精度越高。例如，根据一些实施例，m和n为质数且彼此互质。如图2、3所示，本实施例中，m为5，n为3，p为100，但本申请不限于此。根据本申请的示例实施例，第一多对极磁体110介于单对极导磁体组合件130与第二多对极磁体120之间。第一多对极磁体110的极对数m大于第二多对极磁体120的极对数n。这是因为第一多对极磁体110的直径要大于第二多对极磁体120直径，为了使磁体尺寸均匀，第一多对极磁体110磁极对的数目要大于第二多对极磁体120磁极对的数目。本申请中限定了第一多对极磁体110的极对数m与第二多对极磁体120的极对数n，目的是为了在实际应用过程中，可以获取到有效的检测信号，避免检测信号在某一角度区间内发生重合。根据本申请的一些实施例，第一多对极磁体110可以设置为磁化方向与电机转轴的径向或轴向一致。在图2、3所示的实施例中，第一多对极磁体110的磁化方向设置为轴向。第二多对极磁体120也可设置为磁化方向与电机转轴的径向或轴向一致。图2、3所示的实施例中，第二多对极磁体120的磁化方向设置为轴向。同理，单对极导磁体组合件130也可设置为磁化方向与电机转轴的径向或轴向一致。图2、3所示的实施例中，单对极环形磁体134的磁化方向设置为轴向。本申请对磁化方向不作限制。第一多对极磁体110、第二多对极磁体120均可由多个磁对极粘连形成，但不限于此。根据本申请的实施例，磁体可以采用钕铁硼永磁材料制成，直接贴附在转轴上，也可固定在转轴上，并在安装固定时，第一多对极磁体110与第二多对极磁体120的起始磁极存在安装的角度差。如图2、3所示，多对极磁电编码器60，还包括第一组霍尔元件20、第二组霍尔元件30和第三组霍尔元件40，用于检测多对极磁体产生的磁信号。第一组霍尔元件20，包括第一线性霍尔传感器111和第二线性霍尔传感器112，与所述第一多对极磁体110相邻设置，并根据所述第一多对极磁体110的磁极信号输出第一组检测信号。第一线性霍尔传感器111和第二线性霍尔传感器112的输出信号相位相差90度。第二组霍尔元件30，包括第三线性霍尔传感器121和第四线性霍尔传感器122，与所述第二多对极磁体120相邻设置，并根据所述第二多对极磁体120的磁极信号输出第二组检测信号。第三线性霍尔传感器121和第四线性霍尔传感器122的输出信号相位相差90度。第三组霍尔元件40，包括第五线性霍尔传感器131、第六线性霍尔传感器132和第七线性霍尔传感器133，且设于所述第二齿形部与所述第四导磁体153之间，并根据所述单对极导磁体组合件130的磁极信号输出修正的第三组检测信号。第五线性霍尔传感器131、第六线性霍尔传感器132和第七线性霍尔传感器133的输出信号相位相差120度。第三组霍尔元件40在单对极导磁体组合件130绕轴旋转一周后，将采集到三种原始检测信号，每种原始检测信号中的周期数量正好与第一环形导磁体135中第一齿形部或第二环形导磁体136中第二齿形部的齿数完全一致。即第一齿形部或第二齿形部的齿数P与检测信号中的周期数相吻合，因此，可将第一环形导磁体135和第二环形导磁体136均具有P个齿数的单对极导磁体组合件130认为是一个具有极对数为P的多对极磁体。在这里需要特别注意的是，在本申请中，特别增加了弱磁组合件150。若不增加弱磁组合件150即第三组霍尔元件置于第一齿形部与第二齿形部之间的情形下，则利用第三组霍尔元件针对单对极导磁体组合件130将采集的检测信号如图8所示。图8所示的检测信号为不过零点的全部为正向的电压信号。本发明增加此弱磁组合件150，目的是通过弱磁组合件150中相反的磁场方向并结合调整第一单对极磁体152的磁场强度来改变单对极导磁体组合件130的磁极信号，最终实现第三组霍尔元件采集的检测信号为过零点且具有正负两相的电压信号，以此最大程度的发挥线性霍尔传感器的全幅值特性及采集精度，通过设置弱磁组合件150，第三组霍尔元件针对单对极导磁体组合件130将采集的检测信号如图9所示。这也是本发明在单对极导磁体组合件130中的第一齿形部与第二齿形部之间设置弱磁组合件150的意义所在。根据齿形结构可以得知：每个齿都含有一个齿顶部和一个齿凹陷部，根据第一齿形部上齿的齿顶部、齿凹陷部和与之相对应的第二齿形部上齿的齿顶部、齿凹陷部之间的距离可反映出磁场强度的变化，即根据磁场的特性，在两个齿顶部之间的距离明显小于两个齿凹陷部之间距离的情况下，两个齿顶部之间的磁场强度要明显大于两个齿凹陷部之间的磁场强度。根据一些实施例，在上述编码器结构中，所述第一线性霍尔传感器111和第三线性霍尔传感器121以及第五线性霍尔传感器131在一端对齐。图4示出本申请实施例多对极磁电编码器绝对角度检测方法流程图。本申请还提供一种上述多对极磁电编码器绝对角度的检测方法，如图4所示，包括：在步骤S410，通过第一组霍尔元件20、第二组霍尔元件30、第三组霍尔元件40分别获得第一组检测信号、第二组检测信号和修正的第三组检测信号。本申请提供的多对极磁电编码器60包括同轴轴向依次安装在转轴上的第二多对极磁体120、第一多对极磁体110、单对极导磁体组合件130，其中，第二多对极磁体120与第一多对极磁体110的磁极对数互质，三组磁体采用隔离手段进行隔离，以防止产生磁场耦合。三组多对极磁体周围的磁场在圆周方向上呈现为正弦分布。分别与第一多对极磁体110、第二多对极磁体120对应设置的第一组霍尔元件20、第二组霍尔元件30中的两个线性霍尔传感器以90°电角度的夹角布置。下面结合图5、6介绍采用两个线性霍尔传感器检测第二多对极磁体120或第一多对极磁体110磁体磁信号的原理。图5示出本申请实施例中两个线性霍尔传感器信号检测原理图。图6示出本申请实施例中两个线性霍尔元件检测信号示意图。磁体随着转轴旋转一周，其所在空间的任意一点的磁场变化是有规律的，利用两个电角度相差90°的线性霍尔传感器可以将这一变化转换成正、余弦电信号，且该电信号变化频率与磁极旋转的频率相同。如图5、6所示，对于3对极的第二多对极磁体120而言，磁体旋转一周，第三线性霍尔传感器121和第四线性霍尔传感器122分别检测到了三个周期的正、余弦信号，即一组检测信号。通过第一多对极磁体110设置的第一组霍尔元件20可获得第一组检测信号。通过第二多对极磁体120设置的第二组霍尔元件30可获得第二组检测信号。在实际过程中，两霍尔布置方式常选用以电角度90°的夹角进行布置。但是两霍尔方式很难消除因为加工或装配导致的误差，而且对于磁场中存在的谐波误差，这种方式也难以抑制。提高霍尔的数量或者使其对称布置，主要的效果就是使用对称抵消的方式降低机械误差，同时还可以抵消谐波分量。为此，本申请在单对极导磁体组合件130上设置了三霍尔的布置方式，同时三个霍尔电角度在120°时可以获得较高的计算精度。将第三组霍尔元件40与单对极导磁体组合件130相邻设置，并将三个线性霍尔传感器以120°电角度的夹角进行间隔布置。下面结合图7-11介绍三个线性霍尔传感器检测单对极导磁体组合件130磁信号的原理。图7示出本申请实施例中三个线性霍尔传感器信号检测原理图。图8示出本申请实施例中未增加弱磁组合件时，三个线性霍尔传感器检测信号示意图。图9示出本申请实施例中增加弱磁组合件时，三个线性霍尔传感器检测信号过零点示意图。图10示出本申请实施例中利用三个霍尔信号消除零点漂移的原理图。图11示出本申请实施例中合成两相霍尔信号的原理图。根据上述原理，容易得知利用三个电角度相差120°的线性霍尔传感器也可以将这一磁场变化转换成正、余弦电信号。如图7、9所示，对于单对极导磁体组合件130为6对极而言，磁体旋转一周，第五线性霍尔传感器131、第六线性霍尔传感器132和第七线性霍尔传感器133分别检测到了六个周期的正、余弦信号，即原始三相霍尔信号。这里的原始三相霍尔信号在图10中分别采用、/＞、/＞进行表示且/＞对应第五线性霍尔传感器131的检测信号；/＞对应第六线性霍尔传感器132的检测信号；/＞对应第七线性霍尔传感器133的检测信号。由于霍尔布置、机械装配等问题，原始的三相霍尔信号、/＞、/＞叠加了一些误差信号，在合成两相90°相位差的分量/＞、/＞时，大概率会出现零点的漂移。因此，需要对采集的原始三相霍尔信号作零点漂移的处理，如图10所示，具体按照以下公式进行计算：，式中，、/＞、/＞为原始三相霍尔信号；/＞为信号漂移量；/＞、/＞、/＞为去除漂移量后的三相霍尔电压信号。然后再将去除零点漂移的三相霍尔电压信号合成两相90°相位差的、/＞信号，如图11所示，具体采用以下公式进行转换：，式中，为第三组霍尔元件40中任意一个线性霍尔传感器的检测信号电角度与水平方向的夹角，/＞、/＞为输出的两相霍尔电压信号即为修正的第三组检测信号。此时，可将修正的两相相位差为90°的第三组检测信号近似的看成由两个线性霍尔传感器采集的正、余弦检测信号。为了方便后续的文字说明，本申请将第三组霍尔元件40近似的看成两个线性霍尔传感器以电角度90°的夹角进行布置。当然，本申请的第二多对极磁体120及第一多对极磁体110也可采用三霍尔传感器布置的形式来提高测量精度，然后再利用上述的公式将采集的检测信号转换成两相相位差为90°的检测信号。在步骤S420，对所述第一组检测信号、第二组检测信号、修正的第三组检测信号分别进行角度解算获得第一电角度值、第二电角度值和第三电角度值。应用线性霍尔传感器得到了正、余弦信号后，通过A/D转换电路可以得到一定位数的数字电压值。即，对第一组检测信号或第二组检测信号或修正的第三组检测信号分别进行A/D转换后获得第一组电压值或第二组电压值或第三组电压值。而此时的数字电压值虽然与编码器的测量角度值有一定关系，但并不是编码器的测量角度值，还需要进行角度解算。对每一组磁极的信号而言，两个线性霍尔传感器在空间上的位置相差90°，使得两个线性霍尔传感器输出的正余弦信号在相位上相差90°。此时即可将相位超前的信号认为是正弦信号，将相位滞后的信号认为是余弦信号。用正弦信号除以余弦信号即可得到该点信号的正切值，随后对该正切值进行反正切处理，即可得到该点位置的电角度值。由于正切函数的区间为，直接按照上述过程进行角度解算将会导致角度解算的区间错误。因此需要通过分区间的方法来解决区间错误问题，即，根据所述第一组电压值或第二组电压值或第三组电压值中电压值的正负性及数值大小，获得所述第一组检测信号或第二组检测信号或修正的第三组检测信号所在的电角度区间。以一组磁极的角度解算为例，可以将该一组磁极的360°以45°为间隔划分为8个等长度的区间。通过判断两个线性霍尔元件检测的电压值大小和正负性，来判断此时的霍尔信号所处的位置，分区间反正切算法的实现原理如下表1所示。其中的VA、VB为相位相差90°的线性霍尔检测信号。表1角度区间的划分，通过以上的角度区间的划分，就可以实现霍尔元件采集的信号到角度信号的转化，并且转化后的电角度区间范围为。对于本申请的多对极磁电编码器60而言，根据第一组电压值、第二组电压值及第三组电压值中电压值的正负性及数值大小，可以获得第一组检测信号、第二组检测信号及修正的第三组检测信号所在的角度区间。根据该角度区间，就可以按照表1对第一组电压值或第二组电压值或第三组电压值采用反正切算法获得第一电角度值、第二电角度值及第三电角度值。这里的电角度值指代的是单对磁极周期的电角度值，简称为单周期电角度值。在角度测量的过程中，三组多对极磁体同时随着转轴进行转动，线性霍尔元件保持静止，用于接收磁极在旋转过程中产生的变化磁场信号。线性霍尔的感应信号通过上述反正切查表法处理，就可以获得被测量磁体的单对磁极周期的电角度值。在确定了单周期的电角度值后，再确定该单周期的电角度值所处的磁极区间、最后再在单对极导磁体组合件130上确定齿数区间，才能最终获得多对极磁电编码器60检测的绝对角度值。在本申请提供的多对极磁电编码器绝对角度检测方法中，首先要根据第二多对极磁体120与第一多对极磁体110的两组检测信号，确定出一个具有一定精度的初始机械角度，然后利用该初始机械角度去标定单对极导磁体组合件130单周期电角度值当前处于单对极导磁体组合件130齿数区间的哪一个具体的齿数区间，最后利用机械角度值的计算公式计算出多对极磁电编码器60的机械角度。本申请中提到的机械角度也称之为绝对角度。接下来，本申请将详细描述如何获取具有一定精度的初始机械角度。在本申请中，初始机械角度的计算可按照以下公式进行计算：其中，/＞或其中，/＞，式中，为初始机械角度，/＞为第一多对极磁体110上的线性霍尔传感器测得的单周期电角度值，/＞为/＞所处的第一磁极区间；m为第一多对极磁体110的磁极对数。这里，/＞也称之为第一电角度值。对于图2-3中所示的编码器，第二多对极磁体120与第一多对极磁体110的起始磁极安装位置存在角度差，如图12所示，则初始机械角度还可以表示为：其中，/＞或其中，/＞，式中，为初始机械角度，/＞为第二多对极磁体120上的线性霍尔传感器测得的单周期电角度值，/＞为/＞所处的第二磁极区间；n为第二多对极磁体120的磁极对数。也称之为第二电角度值。因此，在已经获得第一电角度值或第二电角度值的基础上，只要确定其对应的磁极区间，就可以按照上述公式—公式计算出初始机械角度值。在步骤S430，根据所述第一多对极磁体110的磁极对数m、所述第二多对极磁体120的磁极对数n、所述第一电角度值、所述第二电角度值，确定所述第一电角度值对应的第一磁极区间。当第一多对极磁体110上的线性霍尔传感器测得两次相同的单周期电角度值时，对应第二多对极磁体120上的线性霍尔传感器测得的两次单周期电角度值不同，由此可以分辨第一多对极磁体110单周期电角度当前所在的磁极对数即磁极区间。对于本申请提供的编码器磁体结构100，在第一多对极磁体110和第二多对极磁体120的磁极对数m、n的最大公约数为1，即互质的情况下，第一多对极磁体110的每一对极都有与之对应的不重复的第二多对极磁体120的磁极部分。下面通过反证法来证明。假设存在正整数Nm1，Nm2，Nn1，Nn2，Nm1≠Nm2，使下式成立：，，其中，为第一多对极磁体110上的线性霍尔传感器测得的单周期电角度值，Nm1，Nm2∈、为两次测得/＞所对应的第一磁极区间；/＞为第二多对极磁体120上的线性霍尔传感器测得的单周期电角度值，Nn1，Nn2∈、为两次测得/＞所对应的第二磁极区间；为两组磁体中一对磁极起点的安装角度差。将公式中的两式相减，可得：，由于m、n互质，且Nm1Nm2∈，因此公式恒不成立，即，公式恒不成立。由公式进一步可得：，公式对于任意不同的Nm以及其相对应的Nn，均不成立。即，对于不同的第一多对极磁体110中的磁极对以及相对应的第二多对极磁体120中的磁极对，公式不成立。由此可以证明，当第一多对极磁体110上的线性霍尔传感器测得相同的单周期电角度值时，对应第二多对极磁体120上的线性霍尔传感器测得的两次单周期电角度值不同。这样就可以通过第一多对极磁体110和第二多对极磁体120之间的位置关系来分辨第一角度值当前所在的磁极区间。由公式和公式联立可得：，可以看到表达式右边的数值是一个不含有当前采样点的单周期电角度值，其数值的大小只取决于第二多对极磁体120及第一多对极磁体110的磁极区间号码，在磁极区间号码组固定的情况下，其数值为一个常量，此常量即为映射区间号码组的特征值。设，并将其定义为磁极位置特征值。由公式可以看出，当第一多对极磁体110与第二多对极磁体120的磁极对数不变时，磁极位置特征值不变。当其中至少一个变化时，磁极位置特征值也将变化，否则等式成立，与磁极对数互质的前提相矛盾。由此，可以通过计算磁极位置特征值来确定当前电角度所在的磁极区间。当≠0时，即第二多对极磁体120、第一多对极磁体110的某对磁极起点不重合，也无法通过改变坐标起点使其重合时，磁极位置特征值λ共有m+n种不同的取值。如图13所示。图13示出本申请实施例的磁极位置特征值取值数量示意图。图13中，第一多对极磁体110为m对极，m取5，因此用5个方框来表示5对磁极的平面展开示意。第二多对极磁体120为n对极，n取3，将其进行平面展开后，相当于在5个方框中引入了3条竖线。由于θx≠0，因此，共有m+n+1条线将分成了m+n份。即，对于一5对极磁体和一3对极磁体的编码器而言，位置特征值共有8种不同的取值。依此类推，对于一23对极磁体和一19对极磁体的编码器而言，磁极位置特征值共有42种不同的取值。在第二多对极磁体120、第一多对极磁体110安装完成后，的值已经确定，那么m+n种不同的取值就已经是定值了。根据第一多对极磁体110的磁极对数m和第二多对极磁体120的磁极对数n以及所述第一电角度值和所述第二电角度值，就可以确定出与第一多对极磁体110相对应的磁极位置特征值。以图2-3中所示的多对极磁电编码器60结构为例，/＞＝40°时，磁体的旋转方向为顺时针时，通过标定获得的磁极位置特征值和对应的第一多对极磁体110上的磁极区间如表2所示。表2λ值与第一多对极磁体磁极区间的对应关系，通过表2中λ与磁极区间之间的对应关系，可以完成对磁极位置的识别，即根据磁极位置特征值，计算出所述第一电角度值当前所在的第一磁极区间。在步骤S440，根据所述第一磁极区间、所述第一多对极磁体110的磁极对数m、所述第一电角度值确定出由第一多对极磁体110和第二多对极磁体120所形成的初始机械角度。在确定了第一电角度值及该电角度值所处的第一磁极区间后，即可根据公式得到由第一多对极磁体110和第二多对极磁体120所形成的初始机械角度。在步骤S450，根据所述初始机械角度，对所述第三电角度值当前所在的齿数区间进行标定。在获得了初始机械角度的前提下，就能利用该初始机械角度去标定单对极导磁体组合件130第三电角度值当前所在的齿数区间。在本申请中，齿数区间与初始机械角度存在以下的对应关系：，因此，将初始机械角度与齿数区间的对应关系建立索引表，索引表的第一列为初始机械角度的取值，第二列为该项初始机械角度对应的齿数区间的区间号。由于初始机械角度是一个绝对角度，其取值范围为，所以第一列的第一行为数字0，第一列的最后一行为数字360。示例性的，假设单对极导磁体组合件130的齿数P为5，则通过标定获得的初始机械角度和对应的齿数区间如表3所示。表3初始机械角度与单对极导磁体组合件中齿数区间关系索引表，因此，只需要确定出初始机械角度的度数，即可查表获得齿数区间的数值。但需要注意的是：在制表时，需要将初始机械角度这一列的行数设置成远远大于单对极导磁体组合件130的磁极对数即齿数P，这样才能大幅度提高磁电编码器的精度。例如：在表3中，初始机械角度这一列的行数为360行，而单对极导磁体组合件130的齿数P只有5，满足远远大于单对极导磁体组合件130的齿数P的要求。假设单对极导磁体组合件130的齿数P为360，可以将初始机械角度这一列的行数设置成360行，即初始机械角度的每一度对应一个单对极导磁体组合件130的齿数区间；同样，也可将初始机械角度这一列的行数设置成3600行，这样初始机械角度的每0.1度对应一个单对极导磁体组合件130的齿数区间，这样磁电编码器的精度就提高了10倍。相应地，也可以将精度提高到20倍、30倍，甚至100倍或更多倍，这就是行数要远远大于磁极对数的意义所在。在步骤S460，利用确定的齿数区间、单对极导磁体组合件130的齿数p、第三电角度值按照以下公式确定出多对极磁电编码器60的绝对角度：，式中，为多对极磁电编码器60输出的绝对角度，/＞为第三电角度值/＞当前所处的齿数区间号码，/＞。因此，基于上述内容，就可以获取到多对极磁电编码器60输出的绝对角度，然后结合电动机的工作过程，就可实现对伺服电机的精确控制。大直径伺服电机在工作过程中，由多对极磁电编码器60检测电动机的电机轴转角，以获得电机轴转动的角度或位置；并将电流传感器将采集的电流信号传输给控制器50，通过控制器50的处理计算输出六路PWM信号，驱动IPM逆变器电路的工作，输出三相电压信号，从而驱动电机工作，进而实现对电机的精确控制。大直径伺服电机的控制方法，包括：S1：电流传感器采集所述电动机本体10的输入电流信号；S2：多对极磁电编码器60检测并输出所述电动机本体10的角度信息；S3：控制器50接收数据、进行数据处理后输出电动机本体10工作的电压信号。所述多对极磁电编码器60检测并输出所述电动机本体10的角度信息，包括：S21：通过三组线性霍尔元件采集电动机旋转时带动磁体产生的旋转磁场信息；S22：通过放大器、A/D转换器进行信号放大与转换；S23：通过查表与计算程序输出电动机转动的实际角度信息。所述控制器50接收数据、进行数据处理后输出电动机本体10工作的电压信号，包括：S31：接收电流传感器检测到的电流信号，经过A/D采样后输出数字量的电流信号；S32：接收多对极磁电编码器60输出的代表电动机角度的信息并输出；S33：接收上位机的指令信号和电动机轴的转动角度信息，运算得到电流指令并输出；S34：接收电流指令和数字量的电流信号，运算得到三相电压的占空比控制信号并输出；S35：接收三相电压占空比控制信号，生成具有六路PWM信号。所述控制器50包括电流传感器模块、磁电传感器模块、数据处理模块和电动机驱动模块。电流传感器模块用于采集所述电动机本体10的输入电流信号；磁电传感器模块用于检测并输出的所述电动机本体10的角度信息；数据处理模块用于接收数据、进行数据处理并输出控制信号；电动机驱动模块用于接收控制信号并向所述电动机本体10输出电压信号。最后，本发明还提供一种电气设备，包括上述涉及的大直径伺服电机。最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
