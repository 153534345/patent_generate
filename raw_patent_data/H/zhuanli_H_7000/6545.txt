标题title
基于哈希序列的金融交易数据安全存储方法及系统
摘要abst
本公开提供了基于哈希序列的金融交易数据安全存储方法及系统，涉及电子数据加密技术领域，包括：获取金融交易数据，进行预处理后记其为新原始数据；选择哈希算法获取哈希序列，将哈希序列与所述新原始数据进行同或运算，得到初步加密数据；根据新原始数据的长度确定初始灰度矩阵，将初步加密数据进行分组，根据一定的规则将分组后的初步加密数据放入初始灰度矩阵中，得到初步加密灰度矩阵；将哈希序列从适当位置开始分组，依次与初步加密灰度矩阵中每个元素进行同或、异或运算，根据同或、异或选取原则，选取最优结果组成最终加密灰度矩阵；将最终加密灰度矩阵转化为加密图像进行存储；本公开增强了加密效果。
权利要求书clms
1.基于哈希序列的金融交易数据安全存储方法，其特征在于，包括：获取金融交易数据，进行预处理后记其为新原始数据；选择哈希算法获取哈希序列，将哈希序列与所述新原始数据进行同或运算，得到初步加密数据；根据新原始数据的长度确定初始灰度矩阵，将初步加密数据进行分组，根据一定的规则将分组后的初步加密数据放入初始灰度矩阵中，得到初步加密灰度矩阵；将哈希序列从适当位置开始分组，依次与初步加密灰度矩阵中每个元素进行同或、异或运算，根据同或、异或选取原则，选取最优结果组成最终加密灰度矩阵；将最终加密灰度矩阵转化为加密图像进行存储。2.如权利要求1所述的基于哈希序列的金融交易数据安全存储方法，其特征在于，所述预处理的方式包括：将金融交易数据进行二进制编码，并在二进制编码之前补8位的0，记为原始数据，长度为A，判断A是否为8的整数倍，若是，则不进行处理，即B=A；若不是，则B=B=8*+8，将原始数据前面补1，直到补足长度为B，得到新原始数据。3.如权利要求1所述的基于哈希序列的金融交易数据安全存储方法，其特征在于，所述初步加密数据的获取方法为：将哈希序列从第一个元素开始截取与新原始数据相同长度的序列，记为同或哈希序列；将同或哈希序列与原始数据进行同或运算，获得初步加密数据。4.如权利要求1所述的基于哈希序列的金融交易数据安全存储方法，其特征在于，所述初步加密灰度矩阵的获取方法为：将初步加密数据每8位为一组进行分组处理，按照一定的规则将初步加密数据写入初始灰度矩阵中，得到初步加密灰度矩阵。5.如权利要求4所述的基于哈希序列的金融交易数据安全存储方法，其特征在于，写入初始灰度矩阵的具体操作为：若作为内幕数据，将哈希序列中的每位元素与初始灰度矩阵的每个位置相对应，若初始灰度矩阵该位置对应的元素为0，则随意放置8位二进制序列，反之，若为1，则按次序放入初步加密数据的一组，直到将初步加密数据的全部数据都放完，若初始灰度矩阵还有空元素，则在这些空元素位置上随意放置8位二进制序列，获得初步加密灰度矩阵；若作为普通数据，依次将初步加密数据每八位为一组放入初始灰度矩阵中，直到将初步加密数据的全部数据都放完，若初始灰度矩阵还有空元素，则在这些空元素位置上随意放置8位二进制序列，获得初步加密灰度矩阵。6.如权利要求1所述的基于哈希序列的金融交易数据安全存储方法，其特征在于，获取最终加密灰度矩阵的方法包括：将哈希序列从第B+1个位置开始，每8位为一组，依次取出n×n组，将每组数据依次与初步加密灰度矩阵中每个元素进行同或、异或，根据同或异或选取原则，选取最优的运算结果确定为写入最终加密矩阵的元素。7.如权利要求6所述的基于哈希序列的金融交易数据安全存储方法，其特征在于，所述同或、异或选取计算公式为：式中，表示运算后的数据与原始数据的相差程度，k=1、2，/＞表示同或后的数据与原始数据的相差程度，/＞表示异或后的数据与原始数据的相差程度，记初步加密灰度矩阵的第i行第j列元素为，若/＞中不含有原始数据信息，则记/＞为0；若/＞中含有原始数据信息，则/＞是哈希序列的前8位二进制序列；/＞是哈希序列中与之对应的8位二进制序列，则记/＞为/＞和/＞同或和异或后的八位二进制序列，k=1、2；其中/＞为/＞和/＞同或后的八位二进制序列，/＞为/＞和/＞异或后的八位二进制序列。8.如权利要求6所述的基于哈希序列的金融交易数据安全存储方法，其特征在于，所述同或、异或选取原则为：比较与/＞的大小，如果/＞大于/＞，则将同或后的八位二进制序列写入最终加密灰度矩阵第i行第j列的位置；反之，如果/＞小于/＞，则将异或后的八位二进制序列/＞写入最终加密灰度矩阵第i行第j列的位置。9.如权利要求1所述的基于哈希序列的金融交易数据安全存储方法，其特征在于，最终加密灰度矩阵转化加密图像的方法为：将最终加密矩阵每个位置的八位二进制序列转化为灰度值，即得到加密图像。10.基于哈希序列的金融交易数据安全存储系统，其特征在于，包括：数据获取模块，用于获取金融交易数据，进行预处理后记其为新原始数据；加密模块，用于选择哈希算法获取哈希序列，将哈希序列与所述新原始数据进行同或运算，得到初步加密数据；根据新原始数据的长度确定初始灰度矩阵，将初步加密数据进行分组，根据一定的规则将分组后的初步加密数据放入初始灰度矩阵中，得到初步加密灰度矩阵；将哈希序列从适当位置开始分组，依次与初步加密灰度矩阵中每个元素进行同或、异或运算，根据同或、异或选取原则，选取最优结果组成最终加密灰度矩阵；存储模块，用于将最终加密灰度矩阵转化为加密图像进行存储。
说明书desc
技术领域本公开涉及电子数据加密技术领域，具体涉及基于哈希序列的金融交易数据安全存储方法及系统。背景技术本部分的陈述仅仅是提供了与本公开相关的背景技术信息，不必然构成在先技术。随着科技日益进步互联网飞速发展，数据的存储与传输越来越频繁，在金融领域，交易的过程往往伴随着大量的金融数据产生，这些数据价值密度高，涉及客户隐私和商业机密，数据安全和保密性需求高，基于此，在金融交易数据进行储存和传输时，需要对金融交易数据进行加密处理。考虑到金融交易数据本身的特点，可将数据分为内幕数据和普通数据，相对而言，内幕数据传输次数少，安全性要求较高，而普通数据传输次数多，数据流量大，相对于内幕数据，普通数据还具有一定的滞后性。传统加密数据的方法通常采用置乱进行数据加密，常见的有位置置乱和值置乱，位置置乱主要是通过打乱数据位的位置来达到混乱数据的效果，而值置乱则主要是通过迭代一定的混沌映射方程来改变数据位的值，产生混沌效果。上面两种置乱都只是改变了数据间的位置或者改变了数据的值大小，但是改变后的每个数据都携带着有用信息，必须保证每个值都安全存储和传输，否则，任何一个数据被窃取都会造成不可估量的损失。发明内容本公开为了解决上述问题，提出了基于哈希序列的金融交易数据安全存储方法及系统，实现将明文数据进行隐藏，并将数据转化为图片进行存储且含有迷惑数据，生成的加密图像随机性强，加密效果增强。根据一些实施例，本公开采用如下技术方案：基于哈希序列的金融交易数据安全存储方法，包括：获取金融交易数据，进行预处理后记其为新原始数据；选择哈希算法获取哈希序列，将哈希序列与所述新原始数据进行同或运算，得到初步加密数据；根据新原始数据的长度确定初始灰度矩阵，将初步加密数据进行分组，根据一定的规则将分组后的初步加密数据放入初始灰度矩阵中，得到初步加密灰度矩阵；将哈希序列从适当位置开始分组，依次与初步加密灰度矩阵中每个元素进行同或、异或运算，根据同或、异或选取原则，选取最优结果组成最终加密灰度矩阵；将最终加密灰度矩阵转化为加密图像进行存储。根据一些实施例，本公开采用如下技术方案：基于哈希序列的金融交易数据安全存储系统，包括：数据获取模块，用于获取金融交易数据，进行预处理后记其为新原始数据；加密模块，用于选择哈希算法获取哈希序列，将哈希序列与所述新原始数据进行同或运算，得到初步加密数据；根据新原始数据的长度确定初始灰度矩阵，将初步加密数据进行分组，根据一定的规则将分组后的初步加密数据放入初始灰度矩阵中，得到初步加密灰度矩阵；将哈希序列从适当位置开始分组，依次与初步加密灰度矩阵中每个元素进行同或、异或运算，根据同或、异或选取原则，选取最优结果组成最终加密灰度矩阵；存储模块，用于将最终加密灰度矩阵转化为加密图像进行存储。与现有技术相比，本公开的有益效果为：本公开提出的基于哈希序列的金融交易数据安全存储方法，通过对金融交易数据进行加密处理，实现从数据到图像的转化，通过哈希序列与同或异或选取原则，使得加密图像与原始数据差距足够大，秘钥数量少且管理简单，加密效果大大增加；且考虑到了金融交易数据本身的特点，将其分为内幕数据和普通数据，对于内幕数据的加密，在其中根据哈希序列的0、1分布加入了迷惑数据，使得破解难度大大增加，安全性增强。本公开在获取哈希序列以及新原始数据的同时，也获取三种秘钥，实现对加密图像的解密，不仅达到隐藏明文的目的，将数据转化为图片存储，且含有迷惑数据，生成的加密图像随机性强，所需秘钥数量少，大大增强了加密效果。附图说明构成本公开的一部分的说明书附图用来提供对本公开的进一步理解，本公开的示意性实施例及其说明用于解释本公开，并不构成对本公开的不当限定。图1为本公开的一个实施例所提供基于哈希序列的金融交易数据安全存储方法的流程示意图。具体实施方式下面结合附图与实施例对本公开作进一步说明。应该指出，以下详细说明都是例示性的，旨在对本公开提供进一步的说明。除非另有指明，本文使用的所有技术和科学术语具有与本公开所属技术领域的普通技术人员通常理解的相同含义。需要注意的是，这里所使用的术语仅是为了描述具体实施方式，而非意图限制根据本公开的示例性实施方式。如在这里所使用的，除非上下文另外明确指出，否则单数形式也意图包括复数形式，此外，还应当理解的是，当在本说明书中使用术语“包含”和/或“包括”时，其指明存在特征、步骤、操作、器件、组件和/或它们的组合。实施例1本公开的一种实施例中提供了一种基于哈希序列的金融交易数据安全存储方法，其步骤包括：步骤一：获取金融交易数据，进行预处理后记其为新原始数据；步骤二：选择哈希算法获取哈希序列，将哈希序列与所述新原始数据进行同或运算，得到初步加密数据；步骤三：根据新原始数据的长度确定初始灰度矩阵，将初步加密数据进行分组，根据一定的规则将分组后的初步加密数据放入初始灰度矩阵中，得到初步加密灰度矩阵；所述一定的规则是根据金融数据加密的类型进行实施，若作为内幕信息进行加密，则根据哈希序列的0、1分布放入；若是作为普通信息，则将分组后的初步加密数据依次放入。步骤四：将哈希序列从适当位置开始分组，依次与初步加密灰度矩阵中每个元素进行同或、异或运算，根据同或、异或选取原则，选取最优结果组成最终加密灰度矩阵；将最终加密灰度矩阵转化为加密图像进行存储。如图1所示，其示出了本公开一个实施例提供的一种基于哈希序列金融交易数据安全存储方法流程图，该方法包括以下步骤：步骤S001，采集金融交易数据，将数据转化为二进制编码，得到新原始数据和第一秘钥。金融交易数据的表现形式多种多样，为了增加系统的鲁棒性，需要对不同形式的金融交易数据进行统一编码。在各种编码中，二进制编码是计算机处理数据的统一形式，因此，将金融交易数据统一转化为二进制编码形式，以便于提高加密过程的鲁棒性。所有金融交易数据采取ASCII编码进行统一表示，对照ASCII编码表获取对应字符的ASCII值，将ASCII值转换为二进制编码。为了便于数据管理，需要将二进制编码转换为定长编码。查找ASCII码对照表可知，最长ASCII编码为8位二进制数，故将转换后的每个编码长度都设置为8位，不足8位的在二进制编码前进行补0操作，使得补0后二进制编码的长度变为8。如果ASCII编码将来长度有所拓展，则可将拓展后的最长长度作为定长。对所有转换后的所有二进制编码重复相同操作，最终得到每个字符编码长度均为8的定长二进制编码序列。例如：a对应的ASCII编码为110 0001，只有7位，不足8位，应当进行补0操作，补0操作结束后应为0110 0001；再比如：6对应ASCII编码为11 0110，只有6位，不足8位，应当进行补0操作，补0操作结束后应为0011 0110。将所有金融交易数据都进行定长二进制编码后，并在该二进制编码之前补8位的0，即得到原始数据，记长度为A；判断A是否为8的整数倍，若是，则不处理，即记B=A；若不是，则B=8*+8，其中符号“”是取整函数，意为取得不大于括号内数据的最大整数；在原始数据前面补1，直到补足长度为B，得到新原始数据。获取的第一秘钥即新原始数据的长度B。步骤S002，获取哈希序列，将哈希序列与新原始数据同或，得到初步加密数据和第二、第三秘钥。作为一种实施例，获取哈希序列的方法为：选择合适的哈希算法和种子字符串，得到哈希序列，哈希算法的名称和种子字符串记为第二秘钥和第三秘钥。进一步地，选择SHA256哈希算法，种子字符串选择"abc"，得到的哈希值为:0xba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad以上是十六进制的表示方法，转化为二进制为：1011101010011100000101101111000111000001110100011100101111011111000011000100111101001110001011111100000101011001101010001011011010110011011110111111000101000000000110111001100010111010001011101001011000101111011101110010100010000101111111011000001111100100001 ；若长度不够，可再次输入种子字符串，得到新的哈希序列进行叠加。进一步地，得到初步加密数据的方法为：将得到的哈希序列从第一个元素开始，截取与新原始数据相同长度B的序列，记为同或哈希序列；将同或哈希序列与新原始数据进行同或运算，获得初步加密数据。步骤S003，构建初始灰度矩阵，根据哈希序列将初步加密数据放入初始灰度矩阵中，得到初步加密灰度矩阵。在本实施例中，构建初始灰度矩阵的方法为：若作为内幕数据，由步骤S001中所述，初步加密数据长度记为B，且B为8的整数倍，则初始灰度矩阵的大小记为n×n，其中n×n大于等于哈希序列中第B/8个1所在的位置编号，而×小于哈希序列中第B/8个1所在的编号。比如，若B=56，B/8=7，哈希序列为：1011101010011100000101101111000111000001110100011100101111011111......，第7个1所在位置的编号为12，所以n×n=16，n=4。所以初始灰度矩阵为4×4的空矩阵。若作为普通数据，由步骤S001中所述，初步加密数据长度记为B，且B为8的整数倍，则初始灰度矩阵的大小记为n×n，其中n×n大于等于B/8，而×小于B/8。比如，若B=56，B/8=7，则n×n=9，n=3。所以初始灰度矩阵为3×3的空矩阵。进一步的，获得初步加密矩阵的方法为：若作为内幕数据，依据哈希序列的0和1分布，将初步加密数据每八位为一组放入初始灰度矩阵中。具体做法为：将哈希序列中的每位元素与初始灰度矩阵的每个位置相对应，若初始灰度矩阵该位置对应的元素为0，则随意放置8位二进制序列，反之，若为1，则按次序放入初步加密数据的一组，直到将初步加密数据的全部数据都放完，若初始灰度矩阵还有空元素，则在这些空元素位置上随意放置8位二进制序列，获得初步加密灰度矩阵。若作为普通数据，依次将初步加密数据每八位为一组放入初始灰度矩阵中，直到将初步加密数据的全部数据都放完，若初始灰度矩阵还有空元素，则在这些空元素位置上随意放置8位二进制序列，获得初步加密灰度矩阵。进一步的，若作为内幕数据，取初步加密数据，并将其每8位分为一组：0100010101101010 11110110 00101110 11010110 00101010 00110110，一共56位，哈希序列为101110101001110000.......则初始加密灰度矩阵如表1所示：表1 内幕数据初始加密灰度矩阵示例若作为普通数据，取初步加密数据，并将其每8位分为一组：01000101 0110101011110110 00101110 11010110 00101010 00110110，一共56位，则初始加密灰度矩阵如表2所示：表2 普通数据初始加密灰度矩阵示例步骤S004，将哈希序列从适当位置开始同样每八位为一组，依次与初步加密矩阵中每个元素进行同或、异或运算。进一步的，作为内幕数据，对于步骤S002中的哈希序列和步骤S003中的初始加密灰度矩阵，将哈希序列从B+1位置开始，即第57位置开始同样每八位为一组，依次与初步加密矩阵中每个元素进行同或、异或，操作的结果如下表3、表4、表5所示：表3 哈希序列分组示例表4 哈希序列与内幕数据初步加密灰度矩阵元素同或示例表5 哈希序列与内幕数据初步加密灰度矩阵元素异或示例进一步的，作为普通数据，对于步骤S002中的哈希序列和步骤S003中的初始加密灰度矩阵，将哈希序列从B+1位置开始，即第57位置开始同样每八位为一组，依次与初步加密矩阵中每个元素进行同或、异或，操作的结果如下表6、表7、表8所示：表6哈希序列分组示例表7 哈希序列与普通数据初步加密灰度矩阵元素同或示例表8 哈希序列与普通数据初步加密灰度矩阵元素异或示例步骤S005，根据同或异或选取原则，选取最优结果写入最终加密灰度矩阵中对应位置，得到最终加密灰度矩阵。进一步的，同或异或选取公式为：式中，表示运算后的数据与原始数据的相差程度，k=1、2，/＞表示同或后的数据与原始数据的相差程度，/＞表示异或后的数据与原始数据的相差程度。若初步加密灰度矩阵的第i行第j列元素为/＞，若/＞中不含有原始数据信息，则记/＞为0；若/＞中含有原始数据信息，则/＞是哈希序列的前8位二进制序列；/＞是哈希序列中与之对应的元素，则记/＞为和/＞同或和异或后的八位二进制序列，k=1、2；其中/＞为/＞和/＞同或后的八位二进制序列，/＞为/＞和/＞异或后的八位二进制序列。进一步的，同或异或选取原则为：比较与/＞的大小，如果/＞大于/＞，则将同或后的八位二进制序列/＞写入最终加密灰度矩阵第i行第j列的位置；反之，如果/＞小于/＞，则将异或后的八位二进制序列/＞写入最终加密灰度矩阵第i行第j列的位置。步骤S006，将最终加密灰度矩阵中每个元素转化为灰度值，得到加密图像。由于灰度图像中像素点的灰度值区间为0-255，共256个灰度级，刚好与8位二进制一一对应，故将8位二进制编码转换为像素点的灰度值。比如：八位二进制编码为01110011，则对应像素点灰度值为115。最终加密灰度矩阵中每个元素都转化完成后，则完成最终加密灰度矩阵到加密图像的转化。在金融交易过程中，秘钥即新原始数据长度B，哈希算法的名称和种子字符串。秘钥不随加密图像一同传输，秘钥为单独管理，仅限交易传输方与交易接受方知道。步骤S007，根据秘钥对加密图像进行解密。在数据发送端与数据接收端根据金融交易数据获取对应的动态密钥信息，即获取第一秘钥即新原始数据的长度B，第二秘钥和第三秘钥即哈希算法的名称和种子字符串。得到对应的加密图像，将加密图像的每个像素的灰度值转化为八位二进制序列，即得到最终加密灰度矩阵，再依次与哈希序列第B+1位二进制元素开始的前n×n个8位二进制序列进行同或、异或运算，根据同或异或选取原则，还原到初步加密灰度矩阵，根据哈希序列的前n×n个二进制元素，从初步加密灰度矩阵挑选出携带有原始数据信息的八位二进制序列，并拼接成初步加密数据，将初步加密数据与哈希序列进行同或运算即可得到新原始数据，将新原始数据0前面的1去掉，即可得到原始数据，实现对加密图像的解密。实施例2本公开的一种实施例中提供了一种基于哈希序列的金融交易数据安全存储系统，包括：数据获取模块，用于获取金融交易数据，进行预处理后记其为新原始数据；加密模块，用于选择哈希算法获取哈希序列，将哈希序列与所述新原始数据进行同或运算，得到初步加密数据；根据新原始数据的长度确定初始灰度矩阵，将初步加密数据进行分组，根据一定的规则将分组后的初步加密数据放入初始灰度矩阵中，得到初步加密灰度矩阵；将哈希序列从适当位置开始分组，依次与初步加密灰度矩阵中每个元素进行同或、异或运算，根据同或、异或选取原则，选取最优结果组成最终加密灰度矩阵；存储模块，用于将最终加密灰度矩阵转化为加密图像进行存储。作为一种实施例，数据发送端通过数据获取模块得到金融交易数据，将所述金融交易数据通过加密模块进行加密，并得到秘钥，最后通过存储模块进行存储，其中三种秘钥为单独管理。数据发送端将三种秘钥，即新原始数据长度B、哈希算法的名称和种子字符串通过安全的通信链路发送给数据接收端，数据接收端确认接收到数据之后，数据发送端开始发送加密数据，数据接收端通过接收到的秘钥对加密数据进行解密，得到原始数据，即金融交易数据。本公开是参照根据本公开实施例的方法、设备、和计算机程序产品的流程图和／或方框图来描述的。应理解可由计算机程序指令实现流程图和／或方框图中的每一流程和／或方框、以及流程图和／或方框图中的流程和／或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的步骤。上述虽然结合附图对本公开的具体实施方式进行了描述，但并非对本公开保护范围的限制，所属领域技术人员应该明白，在本公开的技术方案的基础上，本领域技术人员不需要付出创造性劳动即可做出的各种修改或变形仍在本公开的保护范围以内。
