标题title
一种图像优选的处理方法和装置
摘要abst
本发明实施例涉及一种图像优选的处理方法和装置，所述方法包括：设置摄像机图像曝光规则，并调用摄像机拍摄图像；并基于目标识别模型对当前图像进行目标检测和目标类型预测；并进行目标对象关联得到新的对象跟踪序列集合；并根据各个对象跟踪序列对当前图像是否满足优选图像资质进行识别；并在满足时根据当前对象跟踪序列对当前图像与前次优选图像进行质量比对；并在质量更优时对当前图像是否带有已上传标记进行识别；若没有则将前次优选图像重置为当前图像，并对其加注已上传标记，并根据当前对象跟踪序列对当前图像是否满足立即上传资质进行识别；若满足则立即上传、反之则缓存上传处理。本发明可避免网络阻塞、提高分析质量、降低云中心能耗。
权利要求书clms
1.一种图像优选的处理方法，其特征在于，所述方法包括：为第一摄像机设置对应的图像曝光规则；并基于所述图像曝光规则调用所述第一摄像机按预设的第一拍摄频率定期进行图像拍摄生成对应的第一图像并保存；并为所述第一图像分配一个对应的第一图像标识；并将所述第一图像对应的摄像机图像曝光模式、摄像机拍摄时间和摄像机定位坐标作为对应的第一曝光模式、第一图像时间戳和第一图像坐标；基于预设的目标识别模型对所述第一图像进行目标检测和目标类型预测处理生成多个第一目标识别框；并由各个所述第一目标识别框以及对应的所述第一图像标识、所述第一曝光模式、所述第一图像时间戳和所述第一图像坐标组成一个对应的第一图像目标数据；并根据各个所述第一图像目标数据和预设的第一对象跟踪序列集合进行目标对象关联处理得到新的所述第一对象跟踪序列集合；所述第一对象跟踪序列集合包括多个第一对象跟踪序列；根据各个所述第一对象跟踪序列对所述第一图像是否满足优选图像资质进行识别得到对应的第一识别结果；并在所述第一识别结果为满足时，根据当前所述第一对象跟踪序列对所述第一图像与前次优选图像进行图像质量比对得到对应的第一比对结果；并在所述第一比对结果为更优时，对所述第一图像是否带有已上传标记进行识别；若所述第一图像没有已上传标记，则将所述前次优选图像重置为所述第一图像，并对所述第一图像加注已上传标记，并根据当前所述第一对象跟踪序列对所述第一图像是否满足立即上传资质进行识别得到对应的第二识别结果；若所述第二识别结果为满足，则对所述第一图像进行立即上传处理；若所述第二识别结果为不满足，则对所述第一图像进行缓存上传处理；所述第一、第二识别结果均包括满足和不满足；所述第一比对结果包括更优和非更优。2.根据权利要求1所述的图像优选的处理方法，其特征在于，所述图像曝光规则为在所述第一摄像机的起始拍摄时刻，将摄像机的图像曝光模式设为自动曝光模式，并获取当前模式下的曝光时长参数和感光度参数作为对应的第一曝光时间和第一感光度，并将所述第一曝光时间和所述第一感光度的乘积作为对应的第一乘积，并将所述第一乘积除以预设的非自动模式曝光时长的商作为对应的非自动模式感光度，并将所述图像曝光模式从自动曝光模式切换到非自动曝光模式，并将当前模式下的曝光时长参数和感光度参数设为对应的所述非自动模式曝光时长和所述非自动模式感光度；并每隔预设的模式切换时长就将所述第一摄像机的所述图像曝光模式从非自动曝光模式切换回自动曝光模式，并获取当前模式下的曝光时长参数和感光度参数作为对应的第二曝光时间和第二感光度，并将所述第二曝光时间和所述第二感光度的乘积作为对应的第二乘积，并将所述第二乘积除以所述非自动模式曝光时长的商作为新的所述非自动模式感光度，并再将所述图像曝光模式从自动曝光模式切换到非自动曝光模式，并将当前模式下的曝光时长参数和感光度参数设为对应的所述非自动模式曝光时长和所述非自动模式感光度。3.根据权利要求1所述的图像优选的处理方法，其特征在于，所述第一目标识别框包括第一识别框中心坐标、第一识别框尺寸、第一识别框朝向、第一目标类型和第一预测评分；每个所述第一对象跟踪序列对应一个第一对象标识；所述第一对象跟踪序列包括多个第一时刻对象数据；所述第一时刻对象数据包括第一时刻时间戳、第一时刻图像标识、第一时刻曝光模式、第一时刻图像坐标、第一时刻目标识别框和第一时刻目标坐标；所述第一时刻目标识别框包括识别框中心坐标、识别框尺寸、识别框朝向、目标类型和预测评分。4.根据权利要求3所述的图像优选的处理方法，其特征在于，所述目标识别模型包括主干特征提取网络、目标检测网络、目标类型预测网络和识别结果输出模块；所述主干特征提取网络与所述目标检测网络连接；所述目标检测网络与所述目标类型预测网络和所述识别结果输出模块分别连接；所述目标类型预测网络与所述识别结果输出模块连接；所述主干特征提取网络用于对所述第一图像进行特征提取处理得到对应的第一图像特征张量；所述目标检测网络用于根据所述第一图像特征张量进行目标检测处理输出多个第一目标预选框；所述第一目标预选框包括第一预选框中心坐标、第一预选框尺寸和第一预选框朝向；所述目标类型预测网络用于对各个所述第一目标预选框进行分类预测得到对应的第一预测类型和第一预测概率；并从中选择概率最大的所述第一预测概率作为第二预测概率；并将所述第一最大概率对应的所述第一预测类型作为对应的第二预测类型；所述识别结果输出模块将各个所述第一目标预选框对应的所述第一预选框中心坐标、所述第一预选框尺寸、所述第一预选框朝向、所述第二预测类型和所述第二预测概率作为对应的所述第一识别框中心坐标、所述第一识别框尺寸、所述第一识别框朝向、所述第一目标类型和所述第一预测评分组成一个对应的所述第一目标识别框；并将得到的所有所述第一目标识别框输出。5.根据权利要求3所述的图像优选的处理方法，其特征在于，所述根据各个所述第一图像目标数据和预设的第一对象跟踪序列集合进行目标对象关联处理得到新的所述第一对象跟踪序列集合，具体包括：从当前所述第一图像目标数据中提取出对应的所述第一目标识别框；并将所述第一目标识别框的所述第一识别框中心坐标、第一识别框尺寸和第一识别框朝向提取出来组成对应的当前目标状态量；所述第一目标识别框的所述第一目标类型作为对应的当前目标类型；将所述第一对象跟踪序列集合中与所述当前目标类型匹配的所述第一对象跟踪序列作为对应的第二对象跟踪序列；并在各个所述第二对象跟踪序列中，将各个所述第一时刻对象数据的所述第一时刻目标识别框的识别框中心坐标、识别框尺寸和识别框朝向提取出来组成一个对应的第一目标观测量，并由得到的所有所述第一目标观测量组成对应的第一目标观测量序列；基于ByteTracker算法的目标匹配评分规则，根据所述当前目标状态量和各个所述第一目标观测量序列进行目标匹配度识别处理得到对应的第一目标匹配度；并将其中最大的所述第一目标匹配度记为最大匹配度；对所述最大匹配度是否超过预设的匹配度阈值进行识别；若所述最大匹配度超过所述匹配度阈值，则将所述最大匹配度对应的所述第一对象跟踪序列作为对应的当前对象跟踪序列；若所述最大匹配度未超过所述匹配度阈值，则在所述第一对象跟踪序列集合中新建一个初始化为空序列的所述第一对象跟踪序列作为对应的所述当前对象跟踪序列，并为新建的所述当前对象跟踪序列分配一个唯一的对象标识作为对应的所述第一对象标识；基于所述第一图像坐标和所述第一摄像机的内外参对所述第一目标识别框的所述第一识别框中心坐标进行从像素坐标到世界坐标的转换得到对应的所述第一中心世界坐标；并将所述第一中心世界坐标在地面的投影点坐标作为对应的所述第一时刻目标坐标；由所述第一图像目标数据的所述第一图像时间戳、所述第一图像标识、所述第一曝光模式、所述第一图像坐标和所述第一目标识别框作为对应的所述第一时刻时间戳、所述第一时刻图像标识、所述第一时刻曝光模式、所述第一时刻图像坐标和所述第一时刻目标识别框；由得到的所述第一时刻时间戳、所述第一时刻图像标识、所述第一时刻曝光模式、所述第一时刻图像坐标、所述第一时刻目标识别框和第一时刻目标坐标组成一个对应的所述第一时刻对象数据向所述当前对象跟踪序列中添加。6.根据权利要求3所述的图像优选的处理方法，其特征在于，所述根据各个所述第一对象跟踪序列对所述第一图像是否满足优选图像资质进行识别得到对应的第一识别结果，具体包括：将当前所述第一对象跟踪序列作为对应的当前对象跟踪序列；并将所述当前对象跟踪序列的最后一个所述第一时刻对象数据作为对应的当前时刻对象数据；并对所述当前对象跟踪序列的所述第一时刻对象数据的数量进行统计得到对应的第一数量；并将所述当前时刻对象数据的所述第一时刻目标识别框的识别框尺寸、预测评分提取出来作为对应的第一目标尺寸和第一目标评分；并将所述当前时刻对象数据的所述第一时刻时间戳提取出来作为对应的当前时间戳；当所述第一数量为1时，对所述当前时间戳是否与所述第一图像时间戳匹配进行识别；若所述当前时间戳与所述第一图像时间戳匹配，则设置对应的所述第一识别结果为满足；若所述当前时间戳与所述第一图像时间戳不匹配，则设置对应的所述第一识别结果为不满足；当所述第一数量大于1时，对所述当前时间戳是否与所述第一图像时间戳匹配进行识别；若所述当前时间戳与所述第一图像时间戳匹配，则在所述第一目标尺寸的高度和宽度都大于或等于预设的高度阈值和宽度阈值且所述第一目标评分大于或等于预设的第一评分阈值时设置对应的所述第一识别结果为满足，并在所述第一目标尺寸的高度或宽度小于对应的所述高度阈值或所述宽度阈值又或者所述第一目标评分小于所述第一评分阈值时设置对应的所述第一识别结果为不满足；若所述当前时间戳与所述第一图像时间戳不匹配，则设置对应的所述第一识别结果为不满足。7.根据权利要求3所述的图像优选的处理方法，其特征在于，所述根据当前所述第一对象跟踪序列对所述第一图像与前次优选图像进行图像质量比对得到对应的第一比对结果，具体包括：将所述当前所述第一对象跟踪序列的最后一个所述第一时刻对象数据作为对应的当前时刻对象数据；并将所述当前时刻对象数据的所述第一时刻目标识别框作为对应的当前时刻目标识别框；并将所述前次优选图像对应的所述第一图像时间戳作为对应的前次时间戳；并将当前所述第一对象跟踪序列中所述第一时刻时间戳与所述前次时间戳匹配的所述第一时刻对象数据作为对应的前次时刻对象数据；当所述前次时刻对象数据为空时，设置对应的所述第一比对结果为非更优；当所述前次时刻对象数据不为空时，将所述前次时刻对象数据的所述第一时刻目标识别框作为对应的前次时刻目标识别框；并对所述当前时刻目标识别框在所述第一图像上的最小贴边距离进行计算得到对应的当次最小贴边距离；并对所述前次时刻目标识别框在所述前次优选图像上的最小贴边距离进行计算得到对应的前次最小贴边距离；并将所述当前时刻目标识别框和所述前次时刻目标识别框的预测评分提取出来作为对应的当次预测评分和前次预测评分；并将所述当前时刻目标识别框和所述前次时刻目标识别框的对应的所述第一时刻曝光模式提取出来作为对应的当次曝光模式和前次曝光模式；并对所述当前时刻目标识别框和所述前次时刻目标识别框的识别框面积进行计算得到对应的当次识别框面积和前次识别框面积；并在所述当次最小贴边距离大于或等于所述前次最小贴边距离且大于或等于预设的第一贴边距离阈值、且所述当次预测评分大于或等于所述前次预测评分、且所述当次曝光模式为非自动曝光模式、且所述当次识别框面积大于或等于所述前次识别框面积时，设置对应的所述第一比对结果为更优；并在所述当次最小贴边距离小于所述前次最小贴边距离、或所述当次预测评分小于所述前次预测评分、或所述当次曝光模式为自动曝光模式、或所述当次识别框面积小于所述前次识别框面积时，设置对应的所述第一比对结果为非更优。8.根据权利要求3所述的图像优选的处理方法，其特征在于，所述根据当前所述第一对象跟踪序列对所述第一图像是否满足立即上传资质进行识别得到对应的第二识别结果，具体包括：将所述当前所述第一对象跟踪序列的最后一个所述第一时刻对象数据作为对应的当前时刻对象数据；并将所述当前时刻对象数据的所述第一时刻目标识别框作为对应的当前时刻目标识别框；并将所述当前时刻目标识别框的预测评分作为对应的当前预测评分；并对所述当前时刻目标识别框在所述第一图像上的最小贴边距离进行计算得到对应的当前最小贴边距离；并对所述当前时刻目标识别框在所述第一图像上的面积占比进行计算得到对应的当前识别框面积占比；若所述当前识别框面积占比大于预设的面积占比阈值且所述当前预测评分大于或等于预设的第二评分阈值且所述当前最小贴边距离大于预设的第二贴边距离阈值，则设置对应的所述第二识别结果为满足；若所述当前识别框面积占比小于或等于所述面积占比阈值或所述当前预测评分小于或等于所述第二评分阈值或所述当前最小贴边距离小于或等于所述第二贴边距离阈值，则设置对应的所述第二识别结果为不满足。9.根据权利要求3所述的图像优选的处理方法，其特征在于，所述对所述第一图像进行立即上传处理，具体包括：将所述第一对象跟踪序列集合中各个所述第一对象跟踪序列中所述第一时刻时间戳与所述第一图像时间戳对应的所述第一时刻对象数据作为对应的第二时刻对象数据，并由各个所述第二时刻对象数据及其对应的所述第一对象标识组成一个对应的第一对象数据；并由得到的所有所述第一对象数据组成对应的第一对象数据集合；并由所述第一对象数据集合和所述第一图像组成一个对应的第一图像上传包；并将所述第一图像上传包向预设的云中心IP地址对应的云中心服务端发送。10.根据权利要求3所述的图像优选的处理方法，其特征在于，所述对所述第一图像进行缓存上传处理，具体包括：将所述第一对象跟踪序列集合中各个所述第一对象跟踪序列中所述第一时刻时间戳与所述第一图像时间戳对应的所述第一时刻对象数据作为对应的第三时刻对象数据，并由各个所述第三时刻对象数据及其对应的所述第一对象标识组成一个对应的第二对象数据；并由得到的所有所述第二对象数据组成对应的第二对象数据集合；并由所述第二对象数据集合和所述第一图像组成一个对应的第二图像上传包；并将所述第二图像上传包存入预设的缓存队列；并按预设的第一发送频率定期将所述缓存队列中时间最早的所述第二图像上传包作为对应的当次图像上传包；并将所述当次图像上传包向云中心IP地址对应的云中心服务端发送；并在发送成功时，将所述当次图像上传包从所述缓存队列中删除。11.一种用于执行权利要求1-10任一项所述的图像优选的处理方法的装置，其特征在于，所述装置包括：图像获取模块、目标识别与跟踪处理模块和图像优选模块；所述图像获取模块用于为第一摄像机设置对应的图像曝光规则；并基于所述图像曝光规则调用所述第一摄像机按预设的第一拍摄频率定期进行图像拍摄生成对应的第一图像并保存；并为所述第一图像分配一个对应的第一图像标识；并将所述第一图像对应的摄像机图像曝光模式、摄像机拍摄时间和摄像机定位坐标作为对应的第一曝光模式、第一图像时间戳和第一图像坐标；所述目标识别与跟踪处理模块用于基于预设的目标识别模型对所述第一图像进行目标检测和目标类型预测处理生成多个第一目标识别框；并由各个所述第一目标识别框以及对应的所述第一图像标识、所述第一曝光模式、所述第一图像时间戳和所述第一图像坐标组成一个对应的第一图像目标数据；并根据各个所述第一图像目标数据和预设的第一对象跟踪序列集合进行目标对象关联处理得到新的所述第一对象跟踪序列集合；所述第一对象跟踪序列集合包括多个第一对象跟踪序列；所述图像优选模块用于根据各个所述第一对象跟踪序列对所述第一图像是否满足优选图像资质进行识别得到对应的第一识别结果；并在所述第一识别结果为满足时，根据当前所述第一对象跟踪序列对所述第一图像与前次优选图像进行图像质量比对得到对应的第一比对结果；并在所述第一比对结果为更优时，对所述第一图像是否带有已上传标记进行识别；若所述第一图像没有已上传标记，则将所述前次优选图像重置为所述第一图像，并对所述第一图像加注已上传标记，并根据当前所述第一对象跟踪序列对所述第一图像是否满足立即上传资质进行识别得到对应的第二识别结果；若所述第二识别结果为满足，则对所述第一图像进行立即上传处理；若所述第二识别结果为不满足，则对所述第一图像进行缓存上传处理；所述第一、第二识别结果均包括满足和不满足；所述第一比对结果包括更优和非更优。12.一种电子设备，其特征在于，包括：存储器、处理器和收发器；所述处理器用于与所述存储器耦合，读取并执行所述存储器中的指令，以实现权利要求1-10任一项所述的方法；所述收发器与所述处理器耦合，由所述处理器控制所述收发器进行消息收发。13.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机指令，当所述计算机指令被计算机执行时，使得所述计算机执行权利要求1-10任一项所述的方法。
说明书desc
技术领域本发明涉及数据处理技术领域，特别涉及一种图像优选的处理方法和装置。背景技术在车联网应用场景中，带有边缘计算能力的路侧设备或车载设备都属于边缘计算设备的一种，这类边缘计算设备可以直接对摄像机产生的图像进行目标识别和目标轨迹跟踪；但从分析结果的准确度上看，这类边缘计算设备的算力远小于云中心算力、其分析准确度势必小于云中心，需要云中心对各类边缘计算设备的分析结果进行二次分析和纠偏，这就需要边缘计算设备将采集到的图像向云中心发送。但如果边缘计算设备将得到的所有图像都送到云中心进行分析，又会产生诸如网络阻塞、分析超时等问题，还会使得云中心总是处于高能耗状态。发明内容本发明的目的，就是针对现有技术的缺陷，提供一种图像优选的处理方法、装置、电子设备及计算机可读存储介质；本发明先为摄像机设置图像曝光规则；并基于该规则调用摄像机按预设频率进行图像拍摄；并基于目标识别模型对当前图像进行目标检测和目标类型预测；并根据各个目标数据进行目标对象关联；并根据各个对象的时序序列对当前图像是否满足优选图像资质进行识别；并在满足优选图像资质时，根据当前对象的时序序列对当前图像与前次优选图像进行图像质量比对；并在质量优于前次优选图像时对当前图像是否带有已上传标记进行识别；若没有已上传标记，则将前次优选图像重置为当前图像并对当前图像加注已上传标记，并根据当前对象的时序序列对当前图像是否满足立即上传资质进行识别；若满足立即上传资质则立即将当前图像传至云中心，若不满足立即上传资质则基于缓存队列的异步传输方式将当前图像传至云中心。通过本发明可以持续对本地采集到的图像数据进行筛选并只将质量较高的图像送至云中心进行分析，这样一方面可以通过云中心的辅助分析来提高整体分析质量，另一方面又能避免因大数据传输产生的网络阻塞问题、以及因网络阻塞导致的超时问题，再一方面还能在提高分析质量、保证高质量分析实时性的同时降低云中心的能耗。为实现上述目的，本发明实施例第一方面提供了一种图像优选的处理方法，所述方法包括：为第一摄像机设置对应的图像曝光规则；并基于所述图像曝光规则调用所述第一摄像机按预设的第一拍摄频率定期进行图像拍摄生成对应的第一图像并保存；并为所述第一图像分配一个对应的第一图像标识；并将所述第一图像对应的摄像机图像曝光模式、摄像机拍摄时间和摄像机定位坐标作为对应的第一曝光模式、第一图像时间戳和第一图像坐标；基于预设的目标识别模型对所述第一图像进行目标检测和目标类型预测处理生成多个第一目标识别框；并由各个所述第一目标识别框以及对应的所述第一图像标识、所述第一曝光模式、所述第一图像时间戳和所述第一图像坐标组成一个对应的第一图像目标数据；并根据各个所述第一图像目标数据和预设的第一对象跟踪序列集合进行目标对象关联处理得到新的所述第一对象跟踪序列集合；所述第一对象跟踪序列集合包括多个第一对象跟踪序列；根据各个所述第一对象跟踪序列对所述第一图像是否满足优选图像资质进行识别得到对应的第一识别结果；并在所述第一识别结果为满足时，根据当前所述第一对象跟踪序列对所述第一图像与前次优选图像进行图像质量比对得到对应的第一比对结果；并在所述第一比对结果为更优时，对所述第一图像是否带有已上传标记进行识别；若所述第一图像没有已上传标记，则将所述前次优选图像重置为所述第一图像，并对所述第一图像加注已上传标记，并根据当前所述第一对象跟踪序列对所述第一图像是否满足立即上传资质进行识别得到对应的第二识别结果；若所述第二识别结果为满足，则对所述第一图像进行立即上传处理；若所述第二识别结果为不满足，则对所述第一图像进行缓存上传处理；所述第一、第二识别结果均包括满足和不满足；所述第一比对结果包括更优和非更优。优选的，所述图像曝光规则为在所述第一摄像机的起始拍摄时刻，将摄像机的图像曝光模式设为自动曝光模式，并获取当前模式下的曝光时长参数和感光度参数作为对应的第一曝光时间和第一感光度，并将所述第一曝光时间和所述第一感光度的乘积作为对应的第一乘积，并将所述第一乘积除以预设的非自动模式曝光时长的商作为对应的非自动模式感光度，并将所述图像曝光模式从自动曝光模式切换到非自动曝光模式，并将当前模式下的曝光时长参数和感光度参数设为对应的所述非自动模式曝光时长和所述非自动模式感光度；并每隔预设的模式切换时长就将所述第一摄像机的所述图像曝光模式从非自动曝光模式切换回自动曝光模式，并获取当前模式下的曝光时长参数和感光度参数作为对应的第二曝光时间和第二感光度，并将所述第二曝光时间和所述第二感光度的乘积作为对应的第二乘积，并将所述第二乘积除以所述非自动模式曝光时长的商作为新的所述非自动模式感光度，并再将所述图像曝光模式从自动曝光模式切换到非自动曝光模式，并将当前模式下的曝光时长参数和感光度参数设为对应的所述非自动模式曝光时长和所述非自动模式感光度。优选的，所述第一目标识别框包括第一识别框中心坐标、第一识别框尺寸、第一识别框朝向、第一目标类型和第一预测评分；每个所述第一对象跟踪序列对应一个第一对象标识；所述第一对象跟踪序列包括多个第一时刻对象数据；所述第一时刻对象数据包括第一时刻时间戳、第一时刻图像标识、第一时刻曝光模式、第一时刻图像坐标、第一时刻目标识别框和第一时刻目标坐标；所述第一时刻目标识别框包括识别框中心坐标、识别框尺寸、识别框朝向、目标类型和预测评分。优选的，所述目标识别模型包括主干特征提取网络、目标检测网络、目标类型预测网络和识别结果输出模块；所述主干特征提取网络与所述目标检测网络连接；所述目标检测网络与所述目标类型预测网络和所述识别结果输出模块分别连接；所述目标类型预测网络与所述识别结果输出模块连接；所述主干特征提取网络用于对所述第一图像进行特征提取处理得到对应的第一图像特征张量；所述目标检测网络用于根据所述第一图像特征张量进行目标检测处理输出多个第一目标预选框；所述第一目标预选框包括第一预选框中心坐标、第一预选框尺寸和第一预选框朝向；所述目标类型预测网络用于对各个所述第一目标预选框进行分类预测得到对应的第一预测类型和第一预测概率；并从中选择概率最大的所述第一预测概率作为第二预测概率；并将所述第一最大概率对应的所述第一预测类型作为对应的第二预测类型；所述识别结果输出模块将各个所述第一目标预选框对应的所述第一预选框中心坐标、所述第一预选框尺寸、所述第一预选框朝向、所述第二预测类型和所述第二预测概率作为对应的所述第一识别框中心坐标、所述第一识别框尺寸、所述第一识别框朝向、所述第一目标类型和所述第一预测评分组成一个对应的所述第一目标识别框；并将得到的所有所述第一目标识别框输出。优选的，所述根据各个所述第一图像目标数据和预设的第一对象跟踪序列集合进行目标对象关联处理得到新的所述第一对象跟踪序列集合，具体包括：从当前所述第一图像目标数据中提取出对应的所述第一目标识别框；并将所述第一目标识别框的所述第一识别框中心坐标、第一识别框尺寸和第一识别框朝向提取出来组成对应的当前目标状态量；所述第一目标识别框的所述第一目标类型作为对应的当前目标类型；将所述第一对象跟踪序列集合中与所述当前目标类型匹配的所述第一对象跟踪序列作为对应的第二对象跟踪序列；并在各个所述第二对象跟踪序列中，将各个所述第一时刻对象数据的所述第一时刻目标识别框的识别框中心坐标、识别框尺寸和识别框朝向提取出来组成一个对应的第一目标观测量，并由得到的所有所述第一目标观测量组成对应的第一目标观测量序列；基于ByteTracker算法的目标匹配评分规则，根据所述当前目标状态量和各个所述第一目标观测量序列进行目标匹配度识别处理得到对应的第一目标匹配度；并将其中最大的所述第一目标匹配度记为最大匹配度；对所述最大匹配度是否超过预设的匹配度阈值进行识别；若所述最大匹配度超过所述匹配度阈值，则将所述最大匹配度对应的所述第一对象跟踪序列作为对应的当前对象跟踪序列；若所述最大匹配度未超过所述匹配度阈值，则在所述第一对象跟踪序列集合中新建一个初始化为空序列的所述第一对象跟踪序列作为对应的所述当前对象跟踪序列，并为新建的所述当前对象跟踪序列分配一个唯一的对象标识作为对应的所述第一对象标识；基于所述第一图像坐标和所述第一摄像机的内外参对所述第一目标识别框的所述第一识别框中心坐标进行从像素坐标到世界坐标的转换得到对应的所述第一中心世界坐标；并将所述第一中心世界坐标在地面的投影点坐标作为对应的所述第一时刻目标坐标；由所述第一图像目标数据的所述第一图像时间戳、所述第一图像标识、所述第一曝光模式、所述第一图像坐标和所述第一目标识别框作为对应的所述第一时刻时间戳、所述第一时刻图像标识、所述第一时刻曝光模式、所述第一时刻图像坐标和所述第一时刻目标识别框；由得到的所述第一时刻时间戳、所述第一时刻图像标识、所述第一时刻曝光模式、所述第一时刻图像坐标、所述第一时刻目标识别框和第一时刻目标坐标组成一个对应的所述第一时刻对象数据向所述当前对象跟踪序列中添加。优选的，所述根据各个所述第一对象跟踪序列对所述第一图像是否满足优选图像资质进行识别得到对应的第一识别结果，具体包括：将当前所述第一对象跟踪序列作为对应的当前对象跟踪序列；并将所述当前对象跟踪序列的最后一个所述第一时刻对象数据作为对应的当前时刻对象数据；并对所述当前对象跟踪序列的所述第一时刻对象数据的数量进行统计得到对应的第一数量；并将所述当前时刻对象数据的所述第一时刻目标识别框的识别框尺寸、预测评分提取出来作为对应的第一目标尺寸和第一目标评分；并将所述当前时刻对象数据的所述第一时刻时间戳提取出来作为对应的当前时间戳；当所述第一数量为1时，对所述当前时间戳是否与所述第一图像时间戳匹配进行识别；若所述当前时间戳与所述第一图像时间戳匹配，则设置对应的所述第一识别结果为满足；若所述当前时间戳与所述第一图像时间戳不匹配，则设置对应的所述第一识别结果为不满足；当所述第一数量大于1时，对所述当前时间戳是否与所述第一图像时间戳匹配进行识别；若所述当前时间戳与所述第一图像时间戳匹配，则在所述第一目标尺寸的高度和宽度都大于或等于预设的高度阈值和宽度阈值且所述第一目标评分大于或等于预设的第一评分阈值时设置对应的所述第一识别结果为满足，并在所述第一目标尺寸的高度或宽度小于对应的所述高度阈值或所述宽度阈值又或者所述第一目标评分小于所述第一评分阈值时设置对应的所述第一识别结果为不满足；若所述当前时间戳与所述第一图像时间戳不匹配，则设置对应的所述第一识别结果为不满足。优选的，所述根据当前所述第一对象跟踪序列对所述第一图像与前次优选图像进行图像质量比对得到对应的第一比对结果，具体包括：将所述当前所述第一对象跟踪序列的最后一个所述第一时刻对象数据作为对应的当前时刻对象数据；并将所述当前时刻对象数据的所述第一时刻目标识别框作为对应的当前时刻目标识别框；并将所述前次优选图像对应的所述第一图像时间戳作为对应的前次时间戳；并将当前所述第一对象跟踪序列中所述第一时刻时间戳与所述前次时间戳匹配的所述第一时刻对象数据作为对应的前次时刻对象数据；当所述前次时刻对象数据为空时，设置对应的所述第一比对结果为非更优；当所述前次时刻对象数据不为空时，将所述前次时刻对象数据的所述第一时刻目标识别框作为对应的前次时刻目标识别框；并对所述当前时刻目标识别框在所述第一图像上的最小贴边距离进行计算得到对应的当次最小贴边距离；并对所述前次时刻目标识别框在所述前次优选图像上的最小贴边距离进行计算得到对应的前次最小贴边距离；并将所述当前时刻目标识别框和所述前次时刻目标识别框的预测评分提取出来作为对应的当次预测评分和前次预测评分；并将所述当前时刻目标识别框和所述前次时刻目标识别框的对应的所述第一时刻曝光模式提取出来作为对应的当次曝光模式和前次曝光模式；并对所述当前时刻目标识别框和所述前次时刻目标识别框的识别框面积进行计算得到对应的当次识别框面积和前次识别框面积；并在所述当次最小贴边距离大于或等于所述前次最小贴边距离且大于或等于预设的第一贴边距离阈值、且所述当次预测评分大于或等于所述前次预测评分、且所述当次曝光模式为非自动曝光模式、且所述当次识别框面积大于或等于所述前次识别框面积时，设置对应的所述第一比对结果为更优；并在所述当次最小贴边距离小于所述前次最小贴边距离、或所述当次预测评分小于所述前次预测评分、或所述当次曝光模式为自动曝光模式、或所述当次识别框面积小于所述前次识别框面积时，设置对应的所述第一比对结果为非更优。优选的，所述根据当前所述第一对象跟踪序列对所述第一图像是否满足立即上传资质进行识别得到对应的第二识别结果，具体包括：将所述当前所述第一对象跟踪序列的最后一个所述第一时刻对象数据作为对应的当前时刻对象数据；并将所述当前时刻对象数据的所述第一时刻目标识别框作为对应的当前时刻目标识别框；并将所述当前时刻目标识别框的预测评分作为对应的当前预测评分；并对所述当前时刻目标识别框在所述第一图像上的最小贴边距离进行计算得到对应的当前最小贴边距离；并对所述当前时刻目标识别框在所述第一图像上的面积占比进行计算得到对应的当前识别框面积占比；若所述当前识别框面积占比大于预设的面积占比阈值且所述当前预测评分大于或等于预设的第二评分阈值且所述当前最小贴边距离大于预设的第二贴边距离阈值，则设置对应的所述第二识别结果为满足；若所述当前识别框面积占比小于或等于所述面积占比阈值或所述当前预测评分小于或等于所述第二评分阈值或所述当前最小贴边距离小于或等于所述第二贴边距离阈值，则设置对应的所述第二识别结果为不满足。优选的，所述对所述第一图像进行立即上传处理，具体包括：将所述第一对象跟踪序列集合中各个所述第一对象跟踪序列中所述第一时刻时间戳与所述第一图像时间戳对应的所述第一时刻对象数据作为对应的第二时刻对象数据，并由各个所述第二时刻对象数据及其对应的所述第一对象标识组成一个对应的第一对象数据；并由得到的所有所述第一对象数据组成对应的第一对象数据集合；并由所述第一对象数据集合和所述第一图像组成一个对应的第一图像上传包；并将所述第一图像上传包向预设的云中心IP地址对应的云中心服务端发送。优选的，所述对所述第一图像进行缓存上传处理，具体包括：将所述第一对象跟踪序列集合中各个所述第一对象跟踪序列中所述第一时刻时间戳与所述第一图像时间戳对应的所述第一时刻对象数据作为对应的第三时刻对象数据，并由各个所述第三时刻对象数据及其对应的所述第一对象标识组成一个对应的第二对象数据；并由得到的所有所述第二对象数据组成对应的第二对象数据集合；并由所述第二对象数据集合和所述第一图像组成一个对应的第二图像上传包；并将所述第二图像上传包存入预设的缓存队列；并按预设的第一发送频率定期将所述缓存队列中时间最早的所述第二图像上传包作为对应的当次图像上传包；并将所述当次图像上传包向云中心IP地址对应的云中心服务端发送；并在发送成功时，将所述当次图像上传包从所述缓存队列中删除。本发明实施例第二方面提供了一种用于实现上述第一方面所述的图像优选的处理方法的装置，所述装置包括：图像获取模块、目标识别与跟踪处理模块和图像优选模块；所述图像获取模块用于为第一摄像机设置对应的图像曝光规则；并基于所述图像曝光规则调用所述第一摄像机按预设的第一拍摄频率定期进行图像拍摄生成对应的第一图像并保存；并为所述第一图像分配一个对应的第一图像标识；并将所述第一图像对应的摄像机图像曝光模式、摄像机拍摄时间和摄像机定位坐标作为对应的第一曝光模式、第一图像时间戳和第一图像坐标；所述目标识别与跟踪处理模块用于基于预设的目标识别模型对所述第一图像进行目标检测和目标类型预测处理生成多个第一目标识别框；并由各个所述第一目标识别框以及对应的所述第一图像标识、所述第一曝光模式、所述第一图像时间戳和所述第一图像坐标组成一个对应的第一图像目标数据；并根据各个所述第一图像目标数据和预设的第一对象跟踪序列集合进行目标对象关联处理得到新的所述第一对象跟踪序列集合；所述第一对象跟踪序列集合包括多个第一对象跟踪序列；所述图像优选模块用于根据各个所述第一对象跟踪序列对所述第一图像是否满足优选图像资质进行识别得到对应的第一识别结果；并在所述第一识别结果为满足时，根据当前所述第一对象跟踪序列对所述第一图像与前次优选图像进行图像质量比对得到对应的第一比对结果；并在所述第一比对结果为更优时，对所述第一图像是否带有已上传标记进行识别；若所述第一图像没有已上传标记，则将所述前次优选图像重置为所述第一图像，并对所述第一图像加注已上传标记，并根据当前所述第一对象跟踪序列对所述第一图像是否满足立即上传资质进行识别得到对应的第二识别结果；若所述第二识别结果为满足，则对所述第一图像进行立即上传处理；若所述第二识别结果为不满足，则对所述第一图像进行缓存上传处理；所述第一、第二识别结果均包括满足和不满足；所述第一比对结果包括更优和非更优。本发明实施例第三方面提供了一种电子设备，包括：存储器、处理器和收发器；所述处理器用于与所述存储器耦合，读取并执行所述存储器中的指令，以实现上述第一方面所述的方法步骤；所述收发器与所述处理器耦合，由所述处理器控制所述收发器进行消息收发。本发明实施例第四方面提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机指令，当所述计算机指令被计算机执行时，使得所述计算机执行上述第一方面所述的方法的指令。本发明实施例提供了一种图像优选的处理方法、装置、电子设备及计算机可读存储介质；本发明先为摄像机设置图像曝光规则；并基于该规则调用摄像机按预设频率进行图像拍摄；并基于目标识别模型对当前图像进行目标检测和目标类型预测；并根据各个目标数据进行目标对象关联；并根据各个对象的时序序列对当前图像是否满足优选图像资质进行识别；并在满足优选图像资质时，根据当前对象的时序序列对当前图像与前次优选图像进行图像质量比对；并在质量优于前次优选图像时对当前图像是否带有已上传标记进行识别；若没有已上传标记，则将前次优选图像重置为当前图像并对当前图像加注已上传标记，并根据当前对象的时序序列对当前图像是否满足立即上传资质进行识别；若满足立即上传资质则立即将当前图像传至云中心，若不满足立即上传资质则基于缓存队列的异步传输方式将当前图像传至云中心。通过本发明可以持续对本地采集到的图像数据进行筛选并只将质量较高的图像送至云中心进行分析，这样一方面通过云中心的辅助分析提高了整体分析质量，另一方面又避免了因大数据传输产生的网络阻塞问题、以及因网络阻塞导致的超时问题，再一方面还在提高分析质量、保证高质量分析实时性的同时降低了云中心的能耗。附图说明图1为本发明实施例一提供的一种图像优选的处理方法示意图；图2为本发明实施例二提供的一种图像优选的处理装置的模块结构图；图3为本发明实施例三提供的一种电子设备的结构示意图。具体实施方式为了使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明作进一步地详细描述，显然，所描述的实施例仅仅是本发明一部份实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。本发明实施例一提供一种图像优选的处理方法，如图1为本发明实施例一提供的一种图像优选的处理方法示意图所示，本方法主要包括如下步骤：步骤1，为第一摄像机设置对应的图像曝光规则；并基于图像曝光规则调用第一摄像机按预设的第一拍摄频率定期进行图像拍摄生成对应的第一图像并保存；并为第一图像分配一个对应的第一图像标识；并将第一图像对应的摄像机图像曝光模式、摄像机拍摄时间和摄像机定位坐标作为对应的第一曝光模式、第一图像时间戳和第一图像坐标。这里，第一拍摄频率为一个预先设置的时间频率；第一图像对应的摄像机图像曝光模式、摄像机拍摄时间可从第一摄像机提供的摄像机参数识别接口获得；若第一摄像机为车载摄像机，第一图像对应的摄像机定位坐标可通过车载设备从车载定位模块处获得；若第一摄像机为为路侧固定安装的摄像机，则可从第一摄像机提供的摄像机参数识别接口获得。本发明实施例为第一摄像机设置的图像曝光规则为：在第一摄像机的起始拍摄时刻，将摄像机的图像曝光模式设为自动曝光模式，并获取当前模式下的曝光时长参数和感光度参数作为对应的第一曝光时间和第一感光度，并将第一曝光时间和第一感光度的乘积作为对应的第一乘积，并将第一乘积除以预设的非自动模式曝光时长的商作为对应的非自动模式感光度，并将图像曝光模式从自动曝光模式切换到非自动曝光模式，并将当前模式下的曝光时长参数和感光度参数设为对应的非自动模式曝光时长和非自动模式感光度；并每隔预设的模式切换时长就将第一摄像机的图像曝光模式从非自动曝光模式切换回自动曝光模式，并获取当前模式下的曝光时长参数和感光度参数作为对应的第二曝光时间和第二感光度，并将第二曝光时间和第二感光度的乘积作为对应的第二乘积，并将第二乘积除以非自动模式曝光时长的商作为新的非自动模式感光度，并再将图像曝光模式从自动曝光模式切换到非自动曝光模式，并将当前模式下的曝光时长参数和感光度参数设为对应的非自动模式曝光时长和非自动模式感光度。步骤2，基于预设的目标识别模型对第一图像进行目标检测和目标类型预测处理生成多个第一目标识别框；并由各个第一目标识别框以及对应的第一图像标识、第一曝光模式、第一图像时间戳和第一图像坐标组成一个对应的第一图像目标数据；并根据各个第一图像目标数据和预设的第一对象跟踪序列集合进行目标对象关联处理得到新的第一对象跟踪序列集合；具体包括：步骤21，基于预设的目标识别模型对第一图像进行目标检测和目标类型预测处理生成多个第一目标识别框；其中，第一目标识别框包括第一识别框中心坐标、第一识别框尺寸、第一识别框朝向、第一目标类型和第一预测评分；这里，本发明实施例的目标识别模型包括主干特征提取网络、目标检测网络、目标类型预测网络和识别结果输出模块；主干特征提取网络与目标检测网络连接；目标检测网络与目标类型预测网络和识别结果输出模块分别连接；目标类型预测网络与识别结果输出模块连接；主干特征提取网络用于对第一图像进行特征提取处理得到对应的第一图像特征张量；目标检测网络用于根据第一图像特征张量进行目标检测处理输出多个第一目标预选框；第一目标预选框包括第一预选框中心坐标、第一预选框尺寸和第一预选框朝向；目标类型预测网络用于对各个第一目标预选框进行分类预测得到对应的第一预测类型和第一预测概率；并从中选择概率最大的第一预测概率作为第二预测概率；并将第一最大概率对应的第一预测类型作为对应的第二预测类型；识别结果输出模块将各个第一目标预选框对应的第一预选框中心坐标、第一预选框尺寸、第一预选框朝向、第二预测类型和第二预测概率作为对应的第一识别框中心坐标、第一识别框尺寸、第一识别框朝向、第一目标类型和第一预测评分组成一个对应的第一目标识别框；并将得到的所有第一目标识别框输出；另外，本发明实施例的目标识别模型还可基于YOLO系列模型实现；步骤22，并由各个第一目标识别框以及对应的第一图像标识、第一曝光模式、第一图像时间戳和第一图像坐标组成一个对应的第一图像目标数据；步骤23，并根据各个第一图像目标数据和预设的第一对象跟踪序列集合进行目标对象关联处理得到新的第一对象跟踪序列集合；其中，第一对象跟踪序列集合包括多个第一对象跟踪序列；每个第一对象跟踪序列为一个对应对象的时序跟踪序列，每个第一对象跟踪序列对应一个第一对象标识；第一对象跟踪序列包括多个第一时刻对象数据；第一时刻对象数据包括第一时刻时间戳、第一时刻图像标识、第一时刻曝光模式、第一时刻图像坐标、第一时刻目标识别框和第一时刻目标坐标；第一时刻目标识别框包括识别框中心坐标、识别框尺寸、识别框朝向、目标类型和预测评分；具体包括：步骤231，从当前第一图像目标数据中提取出对应的第一目标识别框；并将第一目标识别框的第一识别框中心坐标、第一识别框尺寸和第一识别框朝向提取出来组成对应的当前目标状态量；第一目标识别框的第一目标类型作为对应的当前目标类型；步骤232，将第一对象跟踪序列集合中与当前目标类型匹配的第一对象跟踪序列作为对应的第二对象跟踪序列；并在各个第二对象跟踪序列中，将各个第一时刻对象数据的第一时刻目标识别框的识别框中心坐标、识别框尺寸和识别框朝向提取出来组成一个对应的第一目标观测量，并由得到的所有第一目标观测量组成对应的第一目标观测量序列；步骤233，基于ByteTracker算法的目标匹配评分规则，根据当前目标状态量和各个第一目标观测量序列进行目标匹配度识别处理得到对应的第一目标匹配度；并将其中最大的第一目标匹配度记为最大匹配度；这里，ByteTracker算法的目标匹配评分规则是一种公开的技术方案，其本质就是使用卡尔曼滤波方程基于历史观测量的时间向量即第一目标观测量序列对当前时刻的理想状态量进行预测，再对预测出的理想状态量与真实获取的当前状态量即当前目标状态量进行匹配度计算并将得到的匹配度作为当次评分；步骤234，对最大匹配度是否超过预设的匹配度阈值进行识别；若最大匹配度超过匹配度阈值，则将最大匹配度对应的第一对象跟踪序列作为对应的当前对象跟踪序列；若最大匹配度未超过匹配度阈值，则在第一对象跟踪序列集合中新建一个初始化为空序列的第一对象跟踪序列作为对应的当前对象跟踪序列，并为新建的当前对象跟踪序列分配一个唯一的对象标识作为对应的第一对象标识；这里，匹配度阈值为一个预先设置的匹配度参数；如果最大匹配度超过匹配度阈值则说明当前第一图像目标数据对应的当前目标有一个对应的历史对象与之关联，而最大匹配度对应的第一对象跟踪序列就是这个历史对象的跟踪序列；如果最大匹配度未超过匹配度阈值则说明当前第一图像目标数据对应的当前目标是一个新出现的对象，所以要为其添加一个对象跟踪序列；步骤235，基于第一图像坐标和第一摄像机的内外参对第一目标识别框的第一识别框中心坐标进行从像素坐标到世界坐标的转换得到对应的第一中心世界坐标；并将第一中心世界坐标在地面的投影点坐标作为对应的第一时刻目标坐标；这里，基于第一摄像机的内外参可以求出世界坐标系下第一识别框中心坐标与第一摄像机中心轴点的相对位移，该相对位移再与第一图像坐标相加自然得到了第一识别框中心坐标在世界坐标下的转换坐标即第一中心世界坐标；在目标识别框尺寸已知的情况下，将第一中心世界坐标的纵轴坐标减去高度值的一半就是第一中心世界坐标在地面的投影点坐标即第一时刻目标坐标；步骤236，由第一图像目标数据的第一图像时间戳、第一图像标识、第一曝光模式、第一图像坐标和第一目标识别框作为对应的第一时刻时间戳、第一时刻图像标识、第一时刻曝光模式、第一时刻图像坐标和第一时刻目标识别框；步骤237，由得到的第一时刻时间戳、第一时刻图像标识、第一时刻曝光模式、第一时刻图像坐标、第一时刻目标识别框和第一时刻目标坐标组成一个对应的第一时刻对象数据向当前对象跟踪序列中添加。步骤3，根据各个第一对象跟踪序列对第一图像是否满足优选图像资质进行识别得到对应的第一识别结果；并在第一识别结果为满足时，根据当前第一对象跟踪序列对第一图像与前次优选图像进行图像质量比对得到对应的第一比对结果；并在第一比对结果为更优时，对第一图像是否带有已上传标记进行识别；若第一图像没有已上传标记，则将前次优选图像重置为第一图像，并对第一图像加注已上传标记，并根据当前第一对象跟踪序列对第一图像是否满足立即上传资质进行识别得到对应的第二识别结果；若第二识别结果为满足，则对第一图像进行立即上传处理；若第二识别结果为不满足，则对第一图像进行缓存上传处理；其中，第一、第二识别结果均包括满足和不满足；第一比对结果包括更优和非更优；这里，本发明实施例会使用各个对象的第一对象跟踪序列同时或依次对第一图像进行优选图像资质识别；并在当次识别资质满足时进一步根据当前对象的第一对象跟踪序列对第一图像与前次优选图像进行图像质量比对；并在识别出质量更优时检查第一图像的已上传标记是否已经标注；如果已被标注说明第一图像已被其他对象的比对流程选中了、此时无需进行后续操作；如果尚未被标注说明第一图像还未被选中，此时可将其做新的前次优选图像、并对其进行已上传标记标注，并对其是否具备立即上传资质或实时上传资质进行识别，若具备立即上传资质则对第一图像及其相关数据进行打包并将打包数据上传至云中心，若不具备立即上传资质则对第一图像及其相关数据进行打包并将打包数据转至缓存队列并由该缓存队列按异步传输方式将队列中的打包数据逐个传至云中心；具体包括：步骤31，根据各个第一对象跟踪序列对第一图像是否满足优选图像资质进行识别得到对应的第一识别结果；具体包括：步骤311，将当前第一对象跟踪序列作为对应的当前对象跟踪序列；并将当前对象跟踪序列的最后一个第一时刻对象数据作为对应的当前时刻对象数据；并对当前对象跟踪序列的第一时刻对象数据的数量进行统计得到对应的第一数量；并将当前时刻对象数据的第一时刻目标识别框的识别框尺寸、预测评分提取出来作为对应的第一目标尺寸和第一目标评分；并将当前时刻对象数据的第一时刻时间戳提取出来作为对应的当前时间戳；步骤312，当第一数量为1时，对当前时间戳是否与第一图像时间戳匹配进行识别；若当前时间戳与第一图像时间戳匹配，则设置对应的第一识别结果为满足；若当前时间戳与第一图像时间戳不匹配，则设置对应的第一识别结果为不满足；步骤312，当第一数量大于1时，对当前时间戳是否与第一图像时间戳匹配进行识别；若当前时间戳与第一图像时间戳匹配，则在第一目标尺寸的高度和宽度都大于或等于预设的高度阈值和宽度阈值且第一目标评分大于或等于预设的第一评分阈值时设置对应的第一识别结果为满足，并在第一目标尺寸的高度或宽度小于对应的高度阈值或宽度阈值又或者第一目标评分小于第一评分阈值时设置对应的第一识别结果为不满足；若当前时间戳与第一图像时间戳不匹配，则设置对应的第一识别结果为不满足；这里，高度阈值和宽度阈值是两个预先设置的长度参数；第一评分阈值是一个预先设置的评分阈值参数；步骤32，并在第一识别结果为满足时，根据当前第一对象跟踪序列对第一图像与前次优选图像进行图像质量比对得到对应的第一比对结果；具体包括：步骤321，将当前第一对象跟踪序列的最后一个第一时刻对象数据作为对应的当前时刻对象数据；并将当前时刻对象数据的第一时刻目标识别框作为对应的当前时刻目标识别框；并将前次优选图像对应的第一图像时间戳作为对应的前次时间戳；并将当前第一对象跟踪序列中第一时刻时间戳与前次时间戳匹配的第一时刻对象数据作为对应的前次时刻对象数据；步骤322，当前次时刻对象数据为空时，设置对应的第一比对结果为非更优；步骤323，当前次时刻对象数据不为空时，将前次时刻对象数据的第一时刻目标识别框作为对应的前次时刻目标识别框；并对当前时刻目标识别框在第一图像上的最小贴边距离进行计算得到对应的当次最小贴边距离；并对前次时刻目标识别框在前次优选图像上的最小贴边距离进行计算得到对应的前次最小贴边距离；并将当前时刻目标识别框和前次时刻目标识别框的预测评分提取出来作为对应的当次预测评分和前次预测评分；并将当前时刻目标识别框和前次时刻目标识别框的对应的第一时刻曝光模式提取出来作为对应的当次曝光模式和前次曝光模式；并对当前时刻目标识别框和前次时刻目标识别框的识别框面积进行计算得到对应的当次识别框面积和前次识别框面积；并在当次最小贴边距离大于或等于前次最小贴边距离且大于或等于预设的第一贴边距离阈值、且当次预测评分大于或等于前次预测评分、且当次曝光模式为非自动曝光模式、且当次识别框面积大于或等于前次识别框面积时，设置对应的第一比对结果为更优；并在当次最小贴边距离小于前次最小贴边距离、或当次预测评分小于前次预测评分、或当次曝光模式为自动曝光模式、或当次识别框面积小于前次识别框面积时，设置对应的第一比对结果为非更优；这里，第一贴边距离阈值是一个预先设置的距离参数；需要说明的是，本发明实施例在对当前时刻目标识别框在第一图像上的最小贴边距离进行计算得到对应的当次最小贴边距离时，先对当前时刻目标识别框的四个边框中心点进行确认得到对应的第一、第二、第三和第四边中心点；再对第一、第二、第三和第四边中心点各自到第一图像的四个图像边线的垂直距离进行计算从而得到八个垂直距离；再从这八个垂直距离中选出最小值作为对应的当次最小贴边距离；另外，本发明实施例在对前次时刻目标识别框在前次优选图像上的最小贴边距离进行计算得到对应的前次最小贴边距离时，也采用上述类似的方式进行处理，即：先对前次时刻目标识别框的四个边框中心点进行确认得到对应的第一、第二、第三和第四边中心点；再对第一、第二、第三和第四边中心点各自到前次优选图像的四个图像边线的垂直距离进行计算从而得到八个垂直距离；再从这八个垂直距离中选出最小值作为对应的前次最小贴边距离；步骤33，并在第一比对结果为更优时，对第一图像是否带有已上传标记进行识别；步骤34，若第一图像没有已上传标记，则将前次优选图像重置为第一图像，并对第一图像加注已上传标记，并根据当前第一对象跟踪序列对第一图像是否满足立即上传资质进行识别得到对应的第二识别结果；具体包括：步骤341，将前次优选图像重置为第一图像；步骤342，并对第一图像加注已上传标记；步骤343，并根据当前第一对象跟踪序列对第一图像是否满足立即上传资质进行识别得到对应的第二识别结果；具体包括：步骤3431，将当前第一对象跟踪序列的最后一个第一时刻对象数据作为对应的当前时刻对象数据；并将当前时刻对象数据的第一时刻目标识别框作为对应的当前时刻目标识别框；并将当前时刻目标识别框的预测评分作为对应的当前预测评分；并对当前时刻目标识别框在第一图像上的最小贴边距离进行计算得到对应的当前最小贴边距离；并对当前时刻目标识别框在第一图像上的面积占比进行计算得到对应的当前识别框面积占比；这里，本发明实施例计算面积占比的方式有多种；其中一种实现方式为，对当前时刻目标识别框覆盖的像素点个数进行统计得到第一识别框数量、并对第一图像的总像素点数量进行统计得到第一图像数量，由面积占比=第一识别框数量/第一图像数量就能得到对应的当前识别框面积占比；步骤3432，若当前识别框面积占比大于预设的面积占比阈值且当前预测评分大于或等于预设的第二评分阈值且当前最小贴边距离大于预设的第二贴边距离阈值，则设置对应的第二识别结果为满足；这里，面积占比阈值为一个预先设置的面积占比参数；第二评分阈值为一个预先设置的评分参数，第二贴边距离阈值为一个预先设置的距离参数，常规情况下第二评分阈值大于前文中提及的第一评分阈值、第二贴边距离阈值大于前文中提及的第一贴边距离阈值；步骤3433，若当前识别框面积占比小于或等于面积占比阈值或当前预测评分小于或等于第二评分阈值或当前最小贴边距离小于或等于第二贴边距离阈值，则设置对应的第二识别结果为不满足；步骤35，若第二识别结果为满足，则对第一图像进行立即上传处理；若第二识别结果为不满足，则对第一图像进行缓存上传处理；具体包括：步骤351，若第二识别结果为满足，则对第一图像进行立即上传处理；具体包括：将第一对象跟踪序列集合中各个第一对象跟踪序列中第一时刻时间戳与第一图像时间戳对应的第一时刻对象数据作为对应的第二时刻对象数据，并由各个第二时刻对象数据及其对应的第一对象标识组成一个对应的第一对象数据；并由得到的所有第一对象数据组成对应的第一对象数据集合；并由第一对象数据集合和第一图像组成一个对应的第一图像上传包；并将第一图像上传包向预设的云中心IP地址对应的云中心服务端发送；这里，云中心IP地址为一个预设的IP地址、该地址对应的是一个云中心服务端；步骤352，若第二识别结果为不满足，则对第一图像进行缓存上传处理；具体包括：步骤3521，将第一对象跟踪序列集合中各个第一对象跟踪序列中第一时刻时间戳与第一图像时间戳对应的第一时刻对象数据作为对应的第三时刻对象数据，并由各个第三时刻对象数据及其对应的第一对象标识组成一个对应的第二对象数据；并由得到的所有第二对象数据组成对应的第二对象数据集合；并由第二对象数据集合和第一图像组成一个对应的第二图像上传包；并将第二图像上传包存入预设的缓存队列；这里，本发明实施例的缓存队列为一个预先设置的用于存储图像上传包的循环队列，该队列基于先入先出原则进行队列数据管理；步骤3522，并按预设的第一发送频率定期将缓存队列中时间最早的第二图像上传包作为对应的当次图像上传包；并将当次图像上传包向云中心IP地址对应的云中心服务端发送；并在发送成功时，将当次图像上传包从缓存队列中删除。这里，第一发送频率为一个预先设置的时间频率。图2为本发明实施例二提供的一种图像优选的处理装置的模块结构图，该装置为实现前述方法实施例的终端设备、服务器或系统，也可以为能够使得前述终端设备、服务器或系统实现前述方法实施例的装置，例如该装置可以是前述终端设备、服务器或系统的装置或芯片系统。如图2所示，该装置包括：图像获取模块201、目标识别与跟踪处理模块202和图像优选模块203。图像获取模块201用于为第一摄像机设置对应的图像曝光规则；并基于图像曝光规则调用第一摄像机按预设的第一拍摄频率定期进行图像拍摄生成对应的第一图像并保存；并为第一图像分配一个对应的第一图像标识；并将第一图像对应的摄像机图像曝光模式、摄像机拍摄时间和摄像机定位坐标作为对应的第一曝光模式、第一图像时间戳和第一图像坐标。目标识别与跟踪处理模块202用于基于预设的目标识别模型对第一图像进行目标检测和目标类型预测处理生成多个第一目标识别框；并由各个第一目标识别框以及对应的第一图像标识、第一曝光模式、第一图像时间戳和第一图像坐标组成一个对应的第一图像目标数据；并根据各个第一图像目标数据和预设的第一对象跟踪序列集合进行目标对象关联处理得到新的第一对象跟踪序列集合；第一对象跟踪序列集合包括多个第一对象跟踪序列。图像优选模块203用于根据各个第一对象跟踪序列对第一图像是否满足优选图像资质进行识别得到对应的第一识别结果；并在第一识别结果为满足时，根据当前第一对象跟踪序列对第一图像与前次优选图像进行图像质量比对得到对应的第一比对结果；并在第一比对结果为更优时，对第一图像是否带有已上传标记进行识别；若第一图像没有已上传标记，则将前次优选图像重置为第一图像，并对第一图像加注已上传标记，并根据当前第一对象跟踪序列对第一图像是否满足立即上传资质进行识别得到对应的第二识别结果；若第二识别结果为满足，则对第一图像进行立即上传处理；若第二识别结果为不满足，则对第一图像进行缓存上传处理；第一、第二识别结果均包括满足和不满足；第一比对结果包括更优和非更优。本发明实施例提供的一种图像优选的处理装置，可以执行上述方法实施例中的方法步骤，其实现原理和技术效果类似，在此不再赘述。需要说明的是，应理解以上装置的各个模块的划分仅仅是一种逻辑功能的划分，实际实现时可以全部或部分集成到一个物理实体上，也可以物理上分开。且这些模块可以全部以软件通过处理元件调用的形式实现；也可以全部以硬件的形式实现；还可以部分模块通过处理元件调用软件的形式实现，部分模块通过硬件的形式实现。例如，图像获取模块可以为单独设立的处理元件，也可以集成在上述装置的某一个芯片中实现，此外，也可以以程序代码的形式存储于上述装置的存储器中，由上述装置的某一个处理元件调用并执行以上确定模块的功能。其它模块的实现与之类似。此外这些模块全部或部分可以集成在一起，也可以独立实现。这里所描述的处理元件可以是一种集成电路，具有信号的处理能力。在实现过程中，上述方法的各步骤或以上各个模块可以通过处理器元件中的硬件的集成逻辑电路或者软件形式的指令完成。例如，以上这些模块可以是被配置成实施以上方法的一个或多个集成电路，例如：一个或多个特定集成电路，或，一个或多个数字信号处理器，或，一个或者多个现场可编程门阵列等。再如，当以上某个模块通过处理元件调度程序代码的形式实现时，该处理元件可以是通用处理器，例如中央处理器或其它可以调用程序代码的处理器。再如，这些模块可以集成在一起，以片上系统的形式实现。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。该计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行该计算机程序指令时，全部或部分地产生按照前述方法实施例所描述的流程或功能。上述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。上述计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一个计算机可读存储介质传输，例如，上述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线)或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。上述计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。上述可用介质可以是磁性介质，、光介质、或者半导体介质)等。图3为本发明实施例三提供的一种电子设备的结构示意图。该电子设备可以为实现前述实施例方法的终端设备或者服务器，也可以为与前述终端设备或者服务器连接的实现前述实施例方法的终端设备或服务器。如图3所示，该电子设备可以包括：处理器301、存储器302、收发器303；收发器303耦合至处理器301，处理器301控制收发器303的收发动作。存储器302中可以存储各种指令，以用于完成各种处理功能以及实现前述实施例方法描述的处理步骤。优选的，本发明实施例涉及的电子设备还包括：电源304、系统总线305以及通信端口306。系统总线305用于实现元件之间的通信连接。上述通信端口306用于电子设备与其他外设之间进行连接通信。在图3中提到的系统总线305可以是外设部件互连标准 总线或扩展工业标准结构总线等。该系统总线可以分为地址总线、数据总线、控制总线等。为便于表示，图中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。通信接口用于实现数据库访问装置与其他设备之间的通信。存储器可能包含随机存取存储器 ，也可能还包括非易失性存储器，例如至少一个磁盘存储器。上述的处理器可以是通用处理器，包括中央处理器CPU、网络处理器、图形处理器等；还可以是数字信号处理器DSP、专用集成电路ASIC、现场可编程门阵列FPGA或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。需要说明的是，本发明实施例还提供一种计算机可读存储介质，该计算机可读存储介质中存储有指令，当其在计算机上运行时，使得计算机执行上述实施例中提供的方法和处理过程。本发明实施例还提供一种运行指令的芯片，该芯片用于执行前述方法实施例描述的处理步骤。本发明实施例提供了一种图像优选的处理方法、装置、电子设备及计算机可读存储介质；本发明先为摄像机设置图像曝光规则；并基于该规则调用摄像机按预设频率进行图像拍摄；并基于目标识别模型对当前图像进行目标检测和目标类型预测；并根据各个目标数据进行目标对象关联；并根据各个对象的时序序列对当前图像是否满足优选图像资质进行识别；并在满足优选图像资质时，根据当前对象的时序序列对当前图像与前次优选图像进行图像质量比对；并在质量优于前次优选图像时对当前图像是否带有已上传标记进行识别；若没有已上传标记，则将前次优选图像重置为当前图像并对当前图像加注已上传标记，并根据当前对象的时序序列对当前图像是否满足立即上传资质进行识别；若满足立即上传资质则立即将当前图像传至云中心，若不满足立即上传资质则基于缓存队列的异步传输方式将当前图像传至云中心。通过本发明可以持续对本地采集到的图像数据进行筛选并只将质量较高的图像送至云中心进行分析，这样一方面通过云中心的辅助分析提高了整体分析质量，另一方面又避免了因大数据传输产生的网络阻塞问题、以及因网络阻塞导致的超时问题，再一方面还在提高分析质量、保证高质量分析实时性的同时降低了云中心的能耗。专业人员应该还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。结合本文中所公开的实施例描述的方法或算法的步骤可以用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。以上所述的具体实施方式，对本发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施方式而已，并不用于限定本发明的保护范围，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
