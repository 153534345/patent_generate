标题title
一种电动工具电池管理系统自适应控制方法
摘要abst
本发明公开了一种电动工具电池管理系统自适应控制方法，包括：BMS基本模块实时采集目标电池的状态信息，并对其判断获得健康系数和老化系数；进而获得调整后的充放电电流参数；通过通讯模块将目标电池的状态信息和充放电电流参数传输给充电设施，充电设施根据通讯的实时信息和调整后的充放电参数，对充放电电流做出自适应调整。本发明针对电池包不同的实时工作温度，调整相对应的充放电电流，使电池包更加不容易达到过温保护，充电时间更短，放电时间更长。通过将老化和健康参数以及实时电压、温度通讯给相对应的充电器和机器，可以围绕电池包做平台，具有一定的平台通用性。
权利要求书clms
1.一种电动工具电池管理系统自适应控制方法，其特征在于，在目标电池的充放电使用过程中，基于BMS基本模块实时采集目标电池的状态信息，通过执行以下步骤，实时调整目标电池的充放电电流；步骤1：通过BMS基本模块实时采集目标电池的状态信息以及目标电池的过充、过放、过温、过流、自均衡累计次数和；步骤2：对目标电池的过充、过放、过温、过流、自均衡累计次数和进行判断，定义目标电池的健康系数和老化系数；步骤3：将健康系数和老化系数结合充放电参数调整的算法，获得调整后的充放电电流参数；步骤4：通过通讯模块将目标电池的状态信息和充放电电流参数传输给充电设施，充电设施根据通讯的实时信息和调整后的充放电电流参数，对目标电池的充放电电流做出自适应调整。2.根据权利要求1所述电动工具电池管理系统自适应控制方法，其特征在于，步骤1中，所述目标电池的状态信息包括各节单体电芯的电压、电池回路中的电流、电池内部各个温度采集点的温度信息和电池包的荷电信息。3.根据权利要求1所述电动工具电池管理系统自适应控制方法，其特征在于，步骤2具体包括：从BMS基本模块读取过充、过放、过温、过流、自均衡的累计次数和，并进行判断，循环次数不超过300时，选取健康系数α=1；当循环次数介于300和500之间时，选取健康系数α=0.95；当循环次数超过500时，选取健康系数α=0.93；并且同时从BMS基本模块读取电池充放电循环累计次数，并进行判断，循环次数不超过500时，选取老化系数β=1；当循环次数介于500和1000之间时，选取老化系数β=0.9；当循环次数超过1000时，选取老化系数β=0.95。4.根据权利要求1所述电动工具电池管理系统自适应控制方法，其特征在于，步骤4中，所述充电设施包括充电器或电动工具。5.根据权利要求4所述电动工具电池管理系统自适应控制方法，其特征在于，当充电设施选择充电器时，先针对充电器的充电截止电压Vcof、充电不均衡压差Vcdif、恒流充电电流Icon、充电高温截止温度Tcof等参数进行计算更新，结合α、β值进行运算得到调整后的充放电电流参数；其中计算方法如下：V'cof=Vcof*α*β；V'cdif=Vcdif*α*β；I'con= Icon *α*β*D，D为充电电流温度系数；T'cof= Tcof*α*β；其中 V'cof为调整后的充电截止电压，V'cdif为调整后的充电不均衡压差，I'con为调整后的恒流充电电流，T'cof为调整后的充电高温截止温度；然后结合目标电池实时通讯的电压、温度进行自适应充电调整：当实时电压的单节最高电池电压Vmax大于等于V'cof时，停止充电，否则正常充电，当实时充电不均衡压差大于等于V'cdif时，停止充电，否则正常充电；当实时温度与调整后的充电高温截止温度比值大于等于0.6时，恒流充电电流需要乘以实时充电电流温度系数D，D的数值与比值相对应，当实时温度大于等于充电高温截止温度T'cof时，停止充电。6.根据权利要求4所述电动工具电池管理系统自适应控制方法，其特征在于，当放电设施选择电动工具时，先针对放电截止电压Vdof、放电不均衡压差Vddif、放电最大允许电流Imax、额定工作电流Idret、放电高温截止温度Tdof参数结合α、β值进行运算得到调整后的充放电电流参数，运算公式如下：V'dof=Vdof*α*β；V'ddif=Vdif*α*β；I'max= Imax *α*β；I'dret= Idret*F，F为放电电流温度系数；T'dof= Tdof*α*β；其中 V'dof为调整后的放电截止电压，V'ddif为调整后的放电不均衡压差，I'max为调整后的放电最大允许电流，I'dret为调整后的额定工作电流， T'dof为调整后的放电高温截止温度；然后并结合电池实时通讯的电压、温度进行自适应放电调整；当实时电压的单节最低电池电压Vmin小于等于V'dof时，停止充电，否则正常充电；当实时放电不均衡压差大于等于V'ddif时，停止放电，否则正常放电；当实时温度与调整后的放电高温截止温度比值大于等于0.6时，额定工作电流Idret需要乘以实时放电电流温度系数F，F的数值与比值相对应，当电机实时工作电流大于等于放电最大允许电流I'max时，停止放电；当实时温度大于等于放电高温截止温度T'dof时，停止放电。7.一种电动工具电池管理系统，其特征在于，包括BMS基本模块、充放电参数调整模块、通讯模块和充放电控制执行模块；所述BMS基本模块，实现对电池包的电压、充放电电流、充放电温度、均衡信息、电池荷电状态的采集；所述充放电参数调整模块，针对BMS基本模块采集的信息进行分析并争对充放电参数策略进行优化调整；所述通讯模块，完成经过充放电参数调整模块对调整后的参数通讯给相对应工作的充电器或者电动工具；所述充放电控制执行模块指的是相对应的充电器或者电动工具，通过通讯后的参数调整实时充放电工作参数。
说明书desc
技术领域本发明属于锂电池充放电管理领域，尤其涉及一种电动工具电池管理系统自适应控制方法。背景技术目前电动工具普遍采用锂电池，但锂电池在使用过程中，会发生化学和物理变化，表现为锂电池的老化程度和健康状态，这些变化会影响锂电池的性能和寿命。锂电池的老化程度和健康状态通常由以下几个因素决定：充放电循环次数：锂电池的充电和放电次数越多，其老化程度就越高。这是因为每次充电和放电都会导致锂离子电池中的电解质和电极材料发生化学变化，从而减少锂电池的容量和性能。温度：锂电池的工作温度越高，其老化程度就越高。这是因为高温会加速锂电池内部化学反应的速度，从而导致锂电池的容量和性能降低。充电和放电电流大小：锂电池的充电和放电速率越快，即电流越大，充电和放电时间越短，其老化程度就越高。这是因为快速充放电会导致锂离子电池中的电解质和电极材料发生化学变化，从而降低锂电池的容量和性能。多串电芯不均衡充放电：多串锂电池由于电池特性的不一致，可能会存在电压差，导致存在压差的电芯在充放电过程中，会频繁过压和欠压，从而导致电池老化程度加剧。锂电池在老化程度加剧和健康状态变差后会产生以下问题；容量衰减：锂电池的容量衰减是指锂电池在充电和放电过程中容量的减少。当锂电池老化程度增加时，其容量衰减会更快。容量衰减会导致锂电池的续航能力降低。内阻增加：锂电池的内阻增加是指锂电池在充电和放电过程中内部电阻的增加。当锂电池老化程度增加时，其内阻会增加，从而导致锂电池的输出功率降低。安全性下降：锂电池的安全性下降是指锂电池在充电和放电过程中出现泄漏、短路、爆炸等安全问题的概率增加。当锂电池老化程度增加时，其安全性会降低，从而可能导致安全事故发生。现目前电动工具锂电池在电池管理系统中充放电保护参数比较固定，无法在工作过程中根据锂电池使用的老化和健康程度进行相对应的充电和放电相关参数的调整，也不能根据电池实时温度进行充放电电流的实时调整，无法减慢锂电池在老化程度和健康状态变差，这样会影响锂电池的老化以及实际使用时间，导致锂电池在使用过程中越来越不耐用，存在寿命越来越短的现象。发明内容发明目的：本发明的目的在于提供一种电动工具电池管理系统自适应控制方法，针对电池包不同的实时工作温度，调整相对应的充放电电流，使电池包更加不容易达到过温保护，充电时间更短，放电时间更长。技术方案：本发明的电动工具电池管理系统自适应控制方法，包括如下步骤：步骤1：通过BMS基本模块实时采集目标电池的状态信息以及目标电池的过充、过放、过温、过流、自均衡累计次数和；步骤2：对目标电池的过充、过放、过温、过流、自均衡累计次数和进行判断，定义目标电池的健康系数和老化系数；步骤3：将健康系数和老化系数结合充放电参数调整的算法，获得调整后的充放电电流参数；步骤4：通过通讯模块将目标电池的状态信息和充放电电流参数传输给充电设施，充电设施根据通讯的实时信息和调整后的充放电参数，对目标电池的充放电电流做出自适应调整。进一步的，步骤1中，所述目标电池的状态信息包括各节单体电芯的电压、电池回路中的电流、电池内部各个温度采集点的温度信息和电池包的荷电信息。进一步的，步骤2具体包括：从BMS基本模块读取过充、过放、过温、过流、自均衡的累计次数和，并进行判断，循环次数不超过300时，选取健康系数α=1；当次数介于300和500之间时，选取健康系数α=0.95；当次数超过500时，选取健康系数α=0.93；并且同时从BMS基本模块读取电池充放电循环累计次数，并进行判断，循环次数不超过500时，选取老化系数β=1；当循环次数介于500和1000之间时，选取老化系数β=0.98；当循环次数超过1000时，选取老化系数β=0.95。进一步的，所述充电设施包括充电器或电动工具。进一步的，当选择充电器时，先针对充电器的充电截止电压Vcof、充电不均衡压差Vcdif、恒流充电电流Icon、充电高温截止温度Tcof等参数进行计算更新，结合α、β值进行运算得到调整后的充放电电流参数；其中计算方法如下：V'cof=Vcof*α*β；V'cdif=Vcdif*α*β；I'con= Icon *α*β*D，D为充电电流温度系数；T'cof= Tcof*α*β；其中 V'cof为调整后的充电截止电压，V'cdif为调整后的充电不均衡压差，I'con为调整后的恒流充电电流，T'cof为调整后的充电高温截止温度。当实时电压的单节最高电池电压Vmax大于等于V'cof时，停止充电，否则正常充电，当实时充电不均衡压差大于等于V'cdif时，停止充电，否则正常充电；当实时温度与调整后的充电高温截止温度比值大于等于0.6时，恒流充电电流需要乘以实时充电电流温度系数D，D的数值与比值相对应，当实时温度大于等于充电高温截止温度T'cof时，停止充电。进一步的，当选择电动工具时，先针对放电截止电压Vdof、放电不均衡压差Vddif、放电最大允许电流Imax、额定工作电流Idret、放电高温截止温度Tdof参数结合α、β值进行运算得到调整后的充放电电流参数，运算公式如下：V'dof=Vdof*α*β；V'ddif=Vdif*α*β；I'max= Imax *α*β；I'dret= Idret*F，F为放电电流温度系数；T'dof= Tdof*α*β；其中 V'dof为调整后的放电截止电压，V'ddif为调整后的放电不均衡压差，I'max为调整后的放电最大允许电流，I'dret为调整后的额定工作电流， T'dof为调整后的放电高温截止温度。当实时电压的单节最低电池电压Vmin小于等于V'dof时，停止充电，否则正常充电；当实时放电不均衡压差大于等于V'ddif时，停止放电，否则正常放电；当实时温度与调整后的放电高温截止温度比值大于等于0.6时，额定工作电流Idret需要乘以实时放电电流温度系数F，F的数值与比值相对应，当电机实时工作电流大于等于放电最大允许电流I'max时，停止放电；当实时温度大于等于放电高温截止温度T'dof时，停止放电。本发明还公开一种电动工具电池管理系统，包括BMS基本模块、老化和健康系数计算模块、通讯模块、充电参数调整模块和放电参数调整模块；所述BMS基本模块，实现对电池包的电压、充放电电流、充放电温度、均衡信息、电池荷电状态的采集；所述老化和健康系数计算模块，针对BMS基本模块采集的信息进行分析计算得出老化和健康系数；所述通讯模块，完成老化和健康系数和实时温度、电压通讯给相对应工作的充电器或者电动工具；所述充电和放电参数调整模块指的是相对应的充电器或电动工具经过通讯的信息，进行充电参数运算，并结合实时电压、温度，进行限电流或者停止充放电保护。有益效果：与现有技术相比，本发明具有如下显著优点：此电池管理系统自适应控制方法充放电参数调整模块针对电池包在不同阶段的生命周期中实时调整充放电参数。针对电池包不同的实时工作温度，调整相对应的充放电电流，使电池包更加不容易达到过温保护，充电时间更短，放电时间更长。通过将老化和健康参数以及实时电压、温度通讯给相对应的充电器和机器，可以围绕电池包做平台，具有一定的平台通用性。附图说明图1为本发明BMS基本模块示意图；图2为老化和健康系数调整模块流程图；图3为工作系统框图；图4为充电参数调整流程图；图5为放电参数调整流程图。具体实施方式下面结合附图对本发明的技术方案作进一步说明。本发明的目的是提供一种电动工具电池管理系统自适应控制方法，以实现在电池整个寿命周期内通过自身容量算法和电池健康管理算法调整老化系数和健康系数，并将系数和实时温度、电压通讯到充电器和电动工具上进行充放电参数调整，并实时调整电池保护参数。从而实现对电池管理过程的自适应控制。如图1所示：BMS基本模块实时采集电池的状态信息，这些状态信息包括：各节单体电芯的电压、电池回路中的电流、电池内部各个温度采集点的温度信息、电池包的荷电信息；在电池整个使用生命周期中，BMS基本模块存储过充、过放、过温、过流、自均衡累计次数和，并且根据荷电信息存储电池充放电循环累计次数。如图2所示：从BMS基本模块读取过充、过放、过温、过流、自均衡的累计次数和，并进行判断，循环次数不超过300时，选取健康系数α=1；当次数介于300和500之间时，选取健康系数B=0.95；当次数超过500时，选取健康系数B=0.93；并且同时从BMS基本模块读取电池充放电循环累计次数，并进行判断，循环次数不超过500时，选取老化系数β=1；当循环次数介于500和1000之间时，选取老化系数B=0.98；当循环次数超过1000时，选取老化系数B=0.95，将所获得的健康系数和老化系数参与到充放电参数调整的算法中。获得调整后的充放电电流参数。如图3所示：通讯模块接受到BMS基本模块的实时电压、温度、均衡信息以及经过计算的老化和健康参数，通讯给工作时的充电器或者电动工具，充电器或者电动工具根据通讯的实时信息和调整后的老化和健康参数，对充放参数做出相对应的实时调整。在电池整个寿命周期内通过自我调整充放电参数策略实现对电池管理过程的自适应控制。充电器充电参数实时调整策略：参照图4：先针对充电器的充电截止电压Vcof、充电不均衡压差Vcdif、恒流充电电流Icon、充电高温截止温度Tcof等参数进行计算更新，结合α、β值进行运算得到调整后的充放电电流参数；其中计算方法如下：V'cof=Vcof*α*β；V'cdif=Vcdif*α*β；I'con= Icon *α*β*D，D为充电电流温度系数；T'cof= Tcof*α*β；其中 V'cof为调整后的充电截止电压，V'cdif为调整后的充电不均衡压差，I'con为调整后的恒流充电电流，T'cof为调整后的充电高温截止温度。当实时电压的单节最高电池电压Vmax大于等于V'cof时，停止充电，否则正常充电，当实时充电不均衡压差大于等于V'cdif时，停止充电，否则正常充电；当实时温度与调整后的充电高温截止温度比值大于等于0.6时，恒流充电电流需要乘以实时充电电流温度系数D，D的数值与比值相对应，可参照表1；当实时温度大于等于充电高温截止温度T'cof时，停止充电。表1：实时充电电流温度系数数据电动工具放电参数实时调整策略：参照图5：先针对放电截止电压Vdof、放电不均衡压差Vddif、放电最大允许电流Imax、额定工作电流Idret、放电高温截止温度Tdof参数结合α、β值进行运算得到调整后的充放电电流参数，运算公式如下：V'dof=Vdof*α*β；V'ddif=Vdif*α*β；I'max= Imax *α*β；I'dret=Idret*F，F为放电电流温度系数；T'dof= Tdof*α*β；其中 V'dof为调整后的放电截止电压，V'ddif为调整后的放电不均衡压差，I'max为调整后的放电最大允许电流，I'dret为调整后的额定工作电流， T'dof为调整后的放电高温截止温度。当实时电压的单节最低电池电压Vmin小于等于V'dof时，停止充电，否则正常充电；当实时放电不均衡压差大于等于V'ddif时，停止放电，否则正常放电；当实时温度与调整后的放电高温截止温度比值大于等于0.6时，额定工作电流Idret需要乘以实时放电电流温度系数F，F的数值与比值相对应，可参照表2。当电机实时工作电流大于等于放电最大允许电流I'max时，停止放电；当实时温度大于等于放电高温截止温度T'dof时，停止放电。表2：实时放电电流温度系数数据/＞
