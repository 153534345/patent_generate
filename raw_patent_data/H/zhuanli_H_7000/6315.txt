标题title
一种耳机播放的控制方法、电子设备及存储介质
摘要abst
本发明公开了一种耳机播放的控制方法、电子设备及存储介质，该方法包括：获取与耳机连接的终端的当前位置数据；获取耳机与终端的有效连接距离；基于当前位置数据与有效连接距离，判定耳机是否处于用户预先设置的特定区域内；若是，则获取特定区域所对应的用户预先设置的特定播放模式；终端将耳机调整为特定播放模式。本发明的方法可实现耳机对特定区域的播放模式的自动化调整功能，当用户佩戴着耳机进入特定区域或用户在特定区域内使用耳机时，耳机的播放模式可自动调整为特定播放模式，以减少用户调整耳机的频次，提高用户使用耳机的体验。
权利要求书clms
1.一种耳机播放的控制方法，其特征在于，包括：获取与耳机连接的终端的当前位置数据；获取所述耳机与所述终端的有效连接距离；基于所述当前位置数据与所述有效连接距离，判定所述耳机是否处于用户预先设置的特定区域内；若是，则获取所述特定区域所对应的用户预先设置的特定播放模式，所述特定播放模式包括调级参数与定量参数；所述终端将所述耳机调整为所述特定播放模式。2.根据权利要求1所述的耳机播放的控制方法，其特征在于，所述特定区域包括特定点以及范围半径，所述判定所述耳机是否处于用户预先设置的特定区域内的步骤包括：获取所述特定区域的特定点以及范围半径；计算所述范围半径与所述有效连接距离之和，得到判定距离；计算所述终端与所述特定点之间的距离，得到当前距离；判定所述当前距离是否小于所述判定距离；若是，则判定所述耳机处于用户预先设置的特定区域内。3.根据权利要求2所述的耳机播放的控制方法，其特征在于，所述判定所述当前距离是否小于所述判定距离的步骤还包括：若否，则判定所述耳机处于所述用户预先设置的特定区域外。4.根据权利要求3所述的耳机播放的控制方法，其特征在于，若判定所述耳机处于所述用户预先设置的特定区域外，则获取常规播放模式，且所述终端将所述耳机调整为常规播放模式。5.根据权利要求1所述的耳机播放的控制方法，其特征在于，所述获取所述特定区域所对应的用户预先设置的特定播放模式的步骤包括：获取所述终端的当前时间；基于所述特定区域与所述当前时间，获取对应的特定播放模式。6.根据权利要求1所述的耳机播放的控制方法，其特征在于，所述终端将所述耳机调整为所述特定播放模式的步骤后还包括：获取用户调整耳机调级参数后的数据，作为初步参数；获取所述初步参数的调整持续时长；判定所述调整持续时长是否大于预设的判定时长；若是，则标记并记录所述初步参数为目标参数。7.根据权利要求6所述的耳机播放的控制方法，其特征在于，所述耳机播放的控制方法还包括：判定所述目标参数的数量是否小于预设的触发数量；若否，则基于所述目标参数，更新所述调级参数。8.根据权利要求7所述的耳机播放的控制方法，其特征在于，所述更新所述调级参数的步骤包括：基于所述目标参数，得到修正参数；获取所述修正参数与所述调级参数之间的偏离值；判定所述偏离值是否小于预设的判定值；若是，则将调级参数调整为修正参数。9.一种电子设备，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至8中任一项所述耳机播放的控制方法的步骤。10.一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至8中任一项所述耳机播放的控制方法的步骤。
说明书desc
技术领域本发明涉及耳机控制技术领域，特别涉及一种耳机播放的控制方法、电子设备及存储介质。背景技术在用户使用耳机的过程中，面对不同的使用场景，用户常会使用不同的播放音量、降噪方式等，由于用户的日常生活和工作中的习惯，在前述的使用场景中，通常存在着高频使用场景，如办公区域、住家区域、健身区域等。在现有技术中，当用户佩戴着耳机进出前述的高频使用场景或在高频使用场景内佩戴耳机后，通常需要用户手动去调整适合的耳机输出音量、降噪方式等，这样的使用方式，降低了用户的使用体验。鉴于此，实有必要提供一种耳机播放的控制方法以解决上述的问题。发明内容鉴于现有技术存在的不足，本发明提供一种耳机播放的控制方法、电子设备及存储介质，其旨在解决针对高频使用场景，用户需要手动调整耳机输出参数，影响使用体验的技术问题。为了实现上述的目的，本发明的第一方面提供一种耳机播放的控制方法，其包括：获取与耳机连接的终端的当前位置数据；获取耳机与终端的有效连接距离；基于当前位置数据与有效连接距离，判定耳机是否处于用户预先设置的特定区域内；若是，则获取特定区域所对应的用户预先设置的特定播放模式，特定播放模式包括调级参数与定量参数；终端将耳机调整为特定播放模式。在一个优选的实施方式中，特定区域包括特定点以及范围半径，判定耳机是否处于用户预先设置的特定区域内的步骤包括：获取特定区域的特定点以及范围半径；计算范围半径与有效连接距离之和，得到判定距离；计算终端与特定点之间的距离，得到当前距离；判定当前距离是否小于判定距离；若是，则判定耳机处于用户预先设置的特定区域内。在一个优选的实施方式中，判定当前距离是否小于判定距离的步骤还包括：若否，则判定耳机处于用户预先设置的特定区域外。在一个优选的实施方式中，若判定耳机处于用户预先设置的特定区域外，则获取常规播放模式，且终端将耳机调整为常规播放模式。在一个优选的实施方式中，获取特定区域所对应的用户预先设置的特定播放模式的步骤包括：获取终端的当前时间；基于特定区域与当前时间，获取对应的特定播放模式。在一个优选的实施方式中，终端将耳机调整为特定播放模式的步骤后还包括：获取用户调整耳机调级参数后的数据，作为初步参数；获取初步参数的调整持续时长；判定调整持续时长是否大于预设的判定时长；若是，则标记并记录初步参数为目标参数。在一个优选的实施方式中，耳机播放的控制方法还包括：判定目标参数的数量是否小于预设的触发数量；若否，则基于目标参数，更新调级参数。在一个优选的实施方式中，更新调级参数的步骤包括：基于目标参数，得到修正参数；获取修正参数与调级参数之间的偏离值；判定偏离值是否小于预设的判定值；若是，则将调级参数调整为修正参数。本发明的第二方面提供一种电子设备，其包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，处理器执行计算机程序时实现上述耳机播放的控制方法的步骤。本发明的第三方面提供一种计算机可读存储介质，计算机可读存储介质存储有计算机程序，计算机程序被处理器执行时实现上述耳机播放的控制方法的步骤。本发明的有益效果在于：本发明提供的耳机播放的控制方法，可实现耳机对特定区域的播放模式的自动化调整功能，当用户佩戴着耳机进入特定区域或用户在特定区域内使用耳机时，耳机播放模式可自动调整为特定播放模式，以减少用户调整耳机的频次，提高用户使用耳机的体验。附图说明图1为本发明实施例的耳机播放的控制方法的第一流程示意图；图2为本发明实施例的判定耳机是否处于特定区域内的流程示意图；图3为本发明实施例的判定当前距离小于判定距离时的流程示意图；图4为本发明实施例的获取特定播放模式的另一流程示意图图5为本发明实施例的耳机播放的控制方法的第二流程示意图；图6为本发明实施例的耳机播放的控制方法的第三流程示意图；图7为本发明实施例的更新调级参数的流程示意图；图8为本发明提供的一种电子设备的功能模块示意图。具体实施方式在本发明中，术语“设置”“设有”“连接”应作广义理解。例如，可以是固定连接，可拆卸连接，或整体式构造；可以是机械连接，或电连接；可以是直接相连，或者是通过中间媒介间接相连，又或者是两个装置、元件或组成部分之间内部的连通。对于本领域普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。术语“第一”“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”“第二”的特征可以明示或者隐含地包括至少一个该特征。在本申请的描述中，“多个”的含义是至少两个，例如两个，三个等，除非另有明确具体的限定。并且，上述部分术语除了可以用于表示方位或位置关系以外，还可能用于表示其他含义，例如术语“上”在某些情况下也可能用于表示某种依附关系或连接关系。对于本领域普通技术人员而言，可以根据具体情况理解这些术语在本发明中的具体含义。为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。在用户使用耳机的过程中，面对不同的使用场景，用户常会使用不同的播放音量、降噪方式等，以适应使用场景。由于用户在日常生活与工作中，通常都有固定出没的场景以及固定的使用习惯，故而在前述的使用场景中，通常存在着高频使用场景，即可通过让用户划定高频使用场景，并设置对应的特定播放模式，以使得当用户佩戴着耳机进出前述的高频使用场景或在高频使用场景内佩戴耳机后，耳机可以自动调整至对应的特定播放模式，减少用户对耳机的调整频次，提高用户的使用体验。以下为本发明的第一方面：请参考图1，本发明提供了一种耳机播放的控制方法，该控制方法包括：S1、获取与耳机连接的终端的当前位置数据；S2、获取耳机与终端的有效连接距离；其中，步骤S1与步骤S2的顺序在此不作限定，可以是先执行步骤S1，后执行步骤S2；也可以是先执行步骤S2，再执行步骤S1，也可以是步骤S1和步骤S2同时执行。当前位置数据为定位终端的当前位置后所得到的数据，可表示出终端当前所处的位置，有效连接距离是耳机与终端之间可建立连接的最大距离。易于理解的是，为节省耳机腔体内部的空间与耳机的成本，现有的耳机的腔体内部中通常都未设置有用于定位的器件，故而无法直接获取到耳机的当前位置，而耳机的使用又通常需要与手机等内部设置有定位器件的终端配合，且耳机与终端建立连接关系后，耳机可在以终端当前位置点为中心的一定范围内使用，故而可通过获取终端的当前位置数据与有效连接距离，近似地得到耳机当前的位置范围。当耳机与终端建立连接后，终端实时获取其当前的位置信息，具体的，可以通过设置于终端内的定位装置实时获取终端的当前位置信息。其中，定位装置可以是GPS定位装置，可以是WiFi定位装置，也可以是北斗定位装置，在此不作限定。S3、基于当前位置数据与有效连接距离，判定耳机是否处于用户预先设置的特定区域内；S4、若是，则获取特定区域所对应的用户预先设置的特定播放模式；S5、终端将耳机调整为特定播放模式。其中，特定区域为用户根据自身使用情况所划定的使用区域范围，该特定区域可以是用户使用耳机的场景中的高频使用场景，也可以是用户随机划定的固定使用场景，特定区域的划定数量在此不作限定。用户可以通过终端上的控制软件来划定特定区域，也可以通过操作耳机来辅助划定特定区域。具体的，当用户使用终端上的控制软件进行特定区域的划定时，用户可通过控制软件，获取到范围地图并直接在范围地图上标记出特定区域，控制软件通过测定，即可记录下相关特定区域的相关参数信息。当用户使用耳机辅助进行特定区域的划定时，用户需要位于特定区域内且触发耳机的标记模式，当用户处于特定区域的中心点范围附近并触碰耳机，则终端记录下第一位置点，用户移动至特定区域的最远边缘处附近并再次触碰耳机，则终端记录下第二位置点，根据第一位置点与第二位置点即可得到特定区域。用户可根据其自身的需求，自行选择特定区域的划定方式。特定播放模式为用户为其划定的特定区域所配置的耳机输出的参数与方式。特定播放模式包括调级参数与定量参数；具体的，调级参数包括了特定播放音量与特定降噪级数中的至少一种，定量参数包括特定降噪模式与特定播放音效中的至少一种。易于理解的是，在不同的使用场景下，用户的使用习惯不同，用户可以根据自身的需求为其自行划定的特定区域配置不同的播放音量、降噪级数、降噪模式以及播放音效中的至少一种。在用户完成特定区域的划定后，即可进行特定区域所对应的特定播放模式的参数设置。在用户完成前述的特定区域与特定播放模式的设置后，耳机与终端建立连接关系，通过获取终端的当前位置数据与有效连接距离，即可近似地得到耳机的当前位置范围，再通过判定耳机是否处于特定区域内，即可决定是否触发当前的特定区域所对应的特定播放模式。当判定耳机位于特定区域内后，终端则向耳机发送控制信号，将耳机当前的播放模式调整为该特定区域所对应的特定播放模式。可以理解的是，通过本发明提供的耳机播放的控制方法，可实现耳机对特定区域的播放模式的自动化调整功能，当用户佩戴着耳机进入特定区域或用户在特定区域内使用耳机时，耳机播放模式可自动调整为特定播放模式，以减少用户调整耳机的频次，提高用户使用耳机的体验。进一步的，请参考图2，在本实施例中，特定区域包括特定点以及范围半径；判定耳机是否处于用户预先设置的特定区域内的步骤S3包括：S31、获取特定区域的特定点以及范围半径；S32、计算范围半径与有效连接距离之和，得到判定距离；S33、计算终端与特定点之间的距离，得到当前距离；S34、判定当前距离是否小于判定距离；S35、若是，则判定耳机处于用户预先设置的特定区域内。其中，特定区域划定的形状可根据设计的需求进行设置，为方便用户的设置以及控制方法的运算，特定区域的形状优选为圆形。特定点为特定区域的中心范围处的一点，优选为中心点，范围半径为由特定点向外延伸至特定区域最远边缘处的距离，通过特定点与范围半径即可确定出特定区域的范围。不同特定区域的范围大小可能不同，故而在判定耳机是否处于特定区域内时，通常需要计算出特定区域对应的判定距离。可以理解的是，耳机的当前位置是通过终端的当前位置数据与有效连接距离近似得到的，即耳机的当前位置相当于一个以终端的当前位置为中心，有效连接距离为半径的区域范围。在实际使用的过程中，可能存在着终端未处于特定区域内，而用户佩戴着耳机已处于特定区域内的情况，故而在获取判定距离时不能仅以特定区域的范围半径作为相关参数，而是需要将范围半径与有效连接距离之和作为相关参数。通过判定距离与当前距离之间的大小比较，便可得到耳机是否位于特定区域内，即相当于进行了两个区域范围的是否相交的判定，若两个区域范围相交，则可判定耳机位于特定区域内。进一步的，请参考图3，在本实施例中，判定当前距离是否小于判定距离的步骤S34还包括：S36、若否，则判定耳机处于用户预先设置的特定区域外；S37、获取常规播放模式，且终端将耳机调整为常规播放模式。其中，常规播放模式为用户位于特定区域外耳机所使用的播放模式，其可以是耳机预先设置的默认播放模式，也可以是基于用户在特定区域外的使用习惯而生成的播放模式。易于理解的是，当用户佩戴着耳机从特定区域内移动至特定区域外或当用户在特定区域外使用耳机时，则终端获取常规播放模式，并将耳机的播放模式调整为常规播放模式。由于用户对于播放音量、降噪级数等参数变化的敏感度相对较高，在耳机播放模式的切换过程中，可采取逐步调节的方式，即耳机切换播放模式的过程中，播放音量和降噪级数等以一定速率逐步地增大或减小到目标值，该速率可根据设计的需求进行设置，以减少播放模式切换过程中的突兀感，避免影响用户的使用体验。进一步的，请参考图4，在本实施例中，获取特定区域所对应的用户预先设置的特定播放模式的步骤S4包括：S41、获取终端的当前时间；S42、基于特定区域与当前时间，获取对应的特定播放模式。易于理解的是，在同一特定区域的不同时间段内，用户的使用习惯可能会不同。例如，若特定区域为办公区域，在早上9点到12点的时间段内，通常办公区域是会相对嘈杂的，而在12点到14点的时间段内，通常为午休时间段，此时的办公区域是相对安静的。针对前述的情况，可划分出不同的时间段，再给不同的时间段配置相对应的特定播放模式，当耳机处于特定区域后，即可根据时间段获取对应的特定播放模式，进而提高用户的使用体验。用户可以通过终端上的控制软件，在设置出特定区域后，给特定区域划分出时间段，划定的方式可以是仅指定部分时间段，也可以是划分出若干连续的时间段，用户可根据自身需求进行选择；在划定出各个时间段后，用户可以根据自身需求，设置各个时间段内所对应的特定播放模式的参数。具体的，在判定耳机处于特定区域内后，可得到用户设置的若干个时间段所对应的特定播放模式，获取终端的当前时间，判定出当前时间所归属的时间段，再根据当前时间所归属的时间段，得到对应的特定播放模式，终端再将耳机调整为该特定区域在该时间段内所对应的特定播放模式。更进一步的，请参考图5，在本实施例中，终端将耳机调整为特定播放模式的步骤S5后还包括：S51、获取用户调整耳机调级参数后的数据，作为初步参数；S52、获取初步参数的调整持续时长；S53、判定调整持续时长是否大于预设的判定时长；S54、若是，则标记并记录初步参数为目标参数。其中，初步参数包括调整后的播放音量与调整后的降噪级数中的至少一种。易于理解的是，用户预先设置的特定播放模式是用户主观预先设置的，其并不一定符合用户实际使用的具体情况，即在实际使用的过程中，当终端将耳机调整为特定播放模式后，依然存在着用户可能调整耳机的情况，而耳机输出的音量以及耳机的降噪级数是用户调节频次相对较高的参数，故而可以采集在用户处于特定区域后调整耳机的部分参数，以作为后续修正特定播放模式的数据。在耳机使用的过程中，用户调整耳机的情况也有多种，如用户仅是做了短时调整后又恢复到了特定播放模式，为确保后续修正特定播放模式的精确性，需对获取到的初步参数进行筛选，而调整后的持续时长可以反映出用户对调整后的播放方式的适应度，易于理解的是，若调整后的播放方式不符合用户的需求，则用户会在短时间内再次调整，而不会继续持续使用下去，故而以调整持续时长大于判定时长作为筛选条件，从初步参数中筛选出目标参数，以确保后续修正特定播放模式的精确性。进一步的，在记录了目标参数后，可以采取周期性的方式更新调级参数，也可以基于记录的目标参数的样本数量来判定是否更新调级参数，即在触发更新调级参数的方式上可根据设计的需求进行选择。请参考图6，在一个优选实施例中，耳机播放的控制方法还包括以下步骤：S6、判定目标参数的数量是否小于预设的触发数量；S7、若否，则基于目标参数，更新调级参数。在步骤S6中，获取到的目标参数的样本数量为各个特定区域所累计的样本数量，在进行判定与更新时，各个特定区域是独立进行的，即不同的特定区域之间所累计的目标参数的数量互不影响。在一些优选的实施方式中，还可以是针对同一个特定区域更新不同时间段所对应的调级参数，同一特定区域的不同时间段所累计的目标参数互不影响。可以理解的是，采取以目标参数的样本数量作为触发更新调级参数的判定依据，能更贴合耳机实际使用的情景。在有足够样本数量支撑的前提下，再触发更新调级参数，也能更进一步确保更新调级参数的精确性，以确保后续用户的使用体验。更进一步的，请参考图7，在本实施例中，更新调级参数的步骤S7包括：S71、基于目标参数，得到修正参数；S72、获取修正参数与调级参数之间的偏离值；S73、判定偏离值是否小于预设的判定值；S74、若是，则将调级参数调整为修正参数。其中，修正参数为获取到的若干目标参数的平均值，其能更好地表示出耳机处于特定区域内时，用户调整耳机的调级参数的调整情况。修正参数包括修正播放音量和修正降噪级数，修正播放音量与修正降噪级数的获取方式相互独立。偏离值为修正参数与调级参数之间的差值的绝对值，其表示了修正参数与调级参数之间的偏离程度。具体的，在得到修正参数后，由于修正参数与调级参数之间可能存在着偏离程度过大的情况，若直接将修正参数直接替换为调级参数，可能存在调节跨度过大，进而影响用户后续使用体验的情况，故而在得到修正参数后，还需要获取修正参数与调级参数之间的偏离值，再通过判定偏离值是否小于预设的判定值，以确定修正参数是否可用于直接替换调级参数。易于理解的是，当判定偏离值小于预设的判定值时，则说明修正参数与调级参数之间的调节跨度相对较小，故而可直接将调级参数替换为修正参数，以减少用户后续的调节次数，提高用户的使用体验。当判定偏离值大于或者等于预设的判定值时，则说明修正参数与调级参数之间的调节跨度相对较大。在得到偏离值大于或等于判定值后，可以停止更新调级参数，也可以将调节信息反馈给用户，由用户根据自身使用需求判定是否替换，可根据设计的需求选择。在一个优选的实施方式中，当判定偏离值大于或者等于判定值时，则终端弹出修正提示信息或耳机发出修正提示音。用户在接收到相关的提示后，可再根据自身的使用需求决定是否进行调整。可以理解的是，通过采集并筛选出用户在特定区域内对耳机的调级参数做出的关键调节数据，以确定用户的使用变化情况，进而可实现特定区域所对应的调级参数的自适应更新功能，减少用户后续使用的调节次数，改善用户的使用体验。综上所述，本发明提供的耳机播放的控制方法，可实现耳机对特定区域的播放模式的自动化调整功能，当用户佩戴着耳机进入特定区域或用户在特定区域内使用耳机时，耳机播放模式可自动调整为特定播放模式，以减少用户调整耳机的频次，提高用户使用耳机的体验。以下为本发明的第二方面：本发明提供一种电子设备，如图8所示，该电子设备包括存储器10，处理器20及存储在存储器10上并可在处理器20上运行的耳机播放的控制方法程序指令30，耳机播放的控制方法程序指令30被处理器20执行时实现前述的耳机播放的控制方法。在一些实施例中，处理器可以是中央处理器、控制器、微控制器、微处理器，或其他数据处理芯片。该处理器通常用于控制耳机的总体操作。本实施例中，该处理器用于运行可读存储介质中存储的程序代码或者处理数据。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个可读存储介质中，包括若干指令用以使得一台终端执行本发明各个实施例的方法。以下为本发明的第三方面：本发明提供了一种计算机可读取存储介质，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器执行时实现上述的耳机播放的控制方法的步骤。以上仅是本申请的具体实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本申请的保护范围。
