标题title
一种无线网络连接方法、电子设备和计算机可读存储介质
摘要abst
本申请公开了一种无线网络连接方法、电子设备和计算机可读存储介质，涉及无线通信技术。该方法包括：响应于第一操作，开启无线网络连接功能；在将电子设备接入第一无线网络失败的情况下，获取第一入网配置信息；其中，第一入网配置信息包括第一互联网协议IP地址，所述第一IP地址与网络接入设备提供的IP地址相关；基于第一IP地址，尝试使用第一IP地址关联的IP地址接入第一无线网络；IP地址是根据第一IP地址确定的，或者第一IP地址关联的地址为第一IP地址。这样，可以提高电子设备接入无线网络的成功率，提升用户的体验。
权利要求书clms
1.一种无线网络连接方法，其特征在于，所述方法应用于第一电子设备，所述第一电子设备具有无线网络连接功能，包括：响应于第一操作，开启无线网络连接功能；在将所述电子设备接入第一无线网络失败的情况下，获取第一入网配置信息；其中，所述第一入网配置信息包括第一互联网协议IP地址，所述第一IP地址与网络接入设备提供的IP地址相关；基于所述第一IP地址，尝试使用与第一IP地址关联的IP地址接入所述第一无线网络；所述与第一IP地址关联的地址是根据所述第一IP地址确定的，或者所述与第一IP地址关联的地址为第一IP地址。2.根据权利要求1所述的方法，其特征在于，所述第一入网配置信息的来源不是基于所述第一电子设备广播的入网配置信息请求报文反馈的。3.根据权利要求2所述的方法，其特征在于，所述获取第一入网配置信息包括：从所述第一电子设备的数据库中获取所述第一入网配置信息；和/或，从服务器的数据库中获取所述第一入网配置信息；和/或，检测第一报文，根据所述第一报文获取所述第一入网配置信息，所述第一报文包括所述第一入网配置信息；所述第一报文是第一服务集标识SSID对应的第一网络接入设备向第二电子设备发送的报文；其中，所述第一无线网络具有第一服务集标识SSID；所述第二电子设备与所述第一电子设备不同。4.根据权利要求3所述的方法，其特征在于，从所述第一电子设备的数据库中获取所述第一入网配置信息，包括：基于所述第一SSID，从SSID与入网配置信息的对应关系中，获取第一入网配置信息；所述电子设备的数据库中存储至少一个SSID与至少一个入网配置信息的对应关系；和/或, 从服务器的数据库中获取所述第一入网配置信息，包括：基于所述第一网络接入设备的信息，从网络接入设备的信息与入网配置信息的对应关系中获取第一入网配置信息；其中，所述第一无线网络与所述第一网络接入设备对应，所述服务器的数据库中存储至少一个网络接入设备的信息与至少一个入网配置信息的对应关系。5.根据权利要求1所述的方法，其特征在于，尝试使用第一IP地址关联的IP地址接入所述第一无线网络，包括：采用第一连接方式或第二连接方式，尝试使用第一IP地址关联的IP地址接入所述第一无线网络，所述第一连接方式和所述第二连接方式不同，所述第一连接方式与所述第二连接方式是根据所述第一IP地址的类型确定的，所述第一IP地址的类型包括IP地址段或IP地址。6.根据权利要求5所述的方法，其特征在于，所述与第一IP地址关联的地址为第一IP地址；所述采用第一连接方式，尝试使用第一IP地址关联的IP地址接入所述第一无线网络，包括：若所述第一IP地址为IP地址段，则按照所述IP地址段从高位至低位的顺序，使用所述IP地址段中的N个IP地址，依次尝试将所述第一电子设备接入所述第一无线网络；所述与第一IP地址关联的地址是根据所述第一IP地址确定的，包括：所述第一IP地址关联的地址是所述第一IP地址加1得到的；采用第二连接方式，尝试使用第一IP地址关联的IP地址接入所述第一无线网络，包括：若所述第一IP地址为IP地址，则尝试利用所述第一IP地址将所述第一电子设备接入所述第一无线网络，循环N-1次如下步骤：将所述第一IP地址加1后，尝试利用加1后的所述第一IP地址将所述第一电子设备接入所述第一无线网络；其中，所述N是大于或等于1的整数，N小于接入次数上限。7.根据权利要求5或6所述的方法，其特征在于，所述获取第一入网配置信息，基于所述第一IP地址，尝试将所述电子设备接入所述第一无线网络，包括：从所述电子设备的数据库中获取所述第一IP地址；根据所述第一IP地址的类型，采用第一连接方式或第二连接方式，尝试使用第一IP地址关联的IP地址接入所述第一无线网络；若尝试N次均未将所述第一电子设备接入所述第一无线网络，则基于所述第一网络接入设备的信息，从所述网络接入设备的信息与入网配置信息的对应关系中获取第一入网配置信息；根据所述第一IP地址的类型，采用第一连接方式或第二连接方式，尝试使用第一IP地址关联的IP地址接入所述第一无线网络；若尝试N次均未将所述第一电子设备接入所述第一无线网络，则检测向第二电子设备发送的所述第一SSID对应的第一报文，从所述第一报文中解析出所述第一入网配置信息；根据所述第一IP地址的类型，采用第一连接方式或第二连接方式，尝试使用第一IP地址关联的IP地址接入所述第一无线网络。8.根据权利要求1-6中任一项所述的方法，其特征在于，所述尝试使用第一IP地址关联的IP地址接入所述第一无线网络，包括：若基于与所述第一IP关联的地址，未成功将所述第一电子设备接入所述第一无线网络，则确定未成功将所述第一电子设备接入所述第一无线网络的原因；根据所述原因的类型，确定所述第一电子设备获取所述第一IP地址的方式；按照确定的所述方式尝试将所述第一电子设备接入所述第一无线网络。9.根据权利要求8所述的方法，其特征在于，所述根据所述原因的类型，确定所述第一电子设备获取所述第一IP地址的方式，按照确定的所述方式尝试将所述第一电子设备接入所述第一无线网络，包括：若所述原因为ARP寻址失败，尝试使用第一IP地址关联的IP地址接入所述第一无线网络；若所述原因为DNS域名解析失败或HTTP探测不通，则按照基于所述第一IP地址，对当前所述第一电子设备获取所述第一IP地址将所述第一电子设备接入所述第一无线网络的策略进行更新，得到更换后的获取第一IP地址的策略；按照所述更换后的获取第一IP地址的策略尝试将所述第一电子设备接入所述第一无线网络。10.根据权利要求9所述的方法，其特征在于，所述更换后的获取第一IP地址的策略包括第一策略、第二策略和第三策略中的任意一种或多种；其中所述第一策略的使用优先级大于第二策略的使用优先级，所述第二策略的使用优先级大于第三策略的使用优先级；所述第一策略为：基于所述第一SSID，从所述第一SSID与入网配置信息的对应关系中，获取第一入网配置信息；所述第二策略为：基于所述第一网络接入设备的信息，从所述网络接入设备的信息与入网配置信息的对应关系中获取第一入网配置信息；所述第三策略为：检测向第二电子设备发送的所述第一SSID对应的第一报文，解析所述第一报文，从所述第一报文中解析出所述第一入网配置信息。11.一种电子设备，其特征在于，包括处理器和存储器；所述存储器用于存储代码指令；所述处理器用于运行所述代码指令，使得所述电子设备执行如权利要求1-10中任一项所述的方法。12.一种计算机可读存储介质，其特征在于，包括计算机指令，当所述计算机指令在电子设备上运行时，使得所述电子设备执行如权利要求1-10中任一项所述的方法。
说明书desc
技术领域本申请实施例涉及无线通信技术，尤其涉及一种无线网络连接方法、电子设备和计算机可读存储介质。背景技术随着通信技术的不断发展，网络连接技术的应用也越来越广泛。其中，网络通信协议是一种网络通用语言，是网络通信技术的重要组成部分，为连接不同操作系统和不同硬件体系结构的互联网络提供通信支持。电子设备可以基于网络通信协议接入网络。其中，动态主机配置协议是一种无线网络通信协议，电子设备可以基于该协议接入无线网络。具体的，当将IP地址设置为动态获取方式时，DHCP服务器可以根据DHCP协议给电子设备分配IP地址，使得电子设备能够利用该IP地址上网，DHCP服务器和电子设备之间的上述交互过程可以称为DHCP过程。但是，电子设备连接无线访问接入点热点时，即电子设备请求与路由器建立连接时，DHCP过程会由于各种原因失败，例如，电子设备异常，无法接收DHCP服务器发送的IP地址或接收后丢弃IP地址，从而导致电子设备无法成功接入AP热点，用户体验较差。发明内容本申请提供一种无线网络连接方法、电子设备和计算机可读存储介质，采用本方案可以提高电子设备接入无线网络的成功率，提升用户的体验。为达到上述目的，本申请的实施例采用如下技术方案：第一方面，提供了一种无线网络连接方法，该方法应用于第一电子设备，第一电子设备具有无线网络连接功能，包括：响应于第一操作，开启无线网络连接功能；在将电子设备接入第一无线网络失败的情况下，获取第一入网配置信息；其中，第一入网配置信息包括第一互联网协议IP地址，第一IP地址与网络接入设备提供的IP地址相关；基于第一IP地址，尝试使用第一IP地址关联的IP地址接入第一无线网络；IP地址是根据第一IP地址确定的，或者第一IP地址关联的地址为第一IP地址。本申请中，若电子设备接入无线网络失败，则重新获取IP地址，并尝试使用与该IP地址关联的至少一个IP地址，将电子设备接入网络。由于网络接入设备向电子设备反馈的IP地址是在一个IP地址段内的某一IP地址，因此，电子设备尝试使用与网络接入设备提供的IP地址相关的多个IP地址接入网络，多个IP处于空闲且可以使用的概率较高，如此，可以提高电子设备接入无线网络的成功率。在第一方面的另一种可能的实现方式中，第一入网配置信息的来源不是基于第一电子设备广播的入网配置信息请求报文反馈的。即在电子设备基于网络接入设备响应于电子设备广播的入网配置信息请求报文反馈的IP地址，无法成功接入无线网络的情况下，电子设备可以通过其他方式获取与网络接入设备提供的IP地址相关的IP地址。这样，电子设备尝试使用与网络接入设备提供的IP地址相关的多个IP地址接入网络，多个IP处于空闲且可以使用的概率较高，如此，可以提高电子设备接入无线网络的成功率。在第一方面的另一种可能的实现方式中，获取第一入网配置信息包括：从第一电子设备的数据库中获取第一入网配置信息；和/或，从服务器的数据库中获取第一入网配置信息；和/或，检测第一报文，根据第一报文获取第一入网配置信息，第一报文包括第一入网配置信息；第一报文是第一服务集标识SSID对应的第一网络接入设备向第二电子设备发送的报文；其中，第一无线网络具有第一服务集标识SSID；第二电子设备与第一电子设备不同。即电子设备可以通过自身数据库、服务器以及检测网络接入点发送的报文中的任意一种或者多种方式获取IP地址。例如，电子设备可以通过自身数据库、服务器或检测网络接入点发送的报文中的任意一种或者多种方式获取IP地址。又如，电子设备可以通过自身数据库、服务器以及检测网络接入设备向其他设备发送的报文中的任意两种或者三种方式，依次获取IP地址。在第一方面的另一种可能的实现方式中，从第一电子设备的数据库中获取第一入网配置信息，包括：基于第一SSID，从SSID与入网配置信息的对应关系中，获取第一入网配置信息；电子设备的数据库中存储至少一个SSID与至少一个入网配置信息的对应关系；和/或, 从服务器的数据库中获取第一入网配置信息，包括：基于第一网络接入设备的信息，从网络接入设备的信息与入网配置信息的对应关系中获取第一入网配置信息；其中，第一无线网络与第一无线路由器对应，服务器的数据库中存储至少一个网络接入设备的信息与至少一个入网配置信息的对应关系。本申请中，至少一个SSID与至少一个入网配置信息的对应关系可以是指SSID与入网配置信息存在的一对一的关系。至少一个网络接入设备的信息与至少一个入网配置信息的对应关系可以是指网络接入设备的信息与入网配置信息存在的一对一的关系。在第一方面的另一种可能的实现方式中，第一网络接入设备的信息是第一路由器的型号和/或路由器厂商信息。在第一方面的另一种可能的实现方式中，尝试使用与第一IP地址关联的IP地址接入第一无线网络，包括：采用第一连接方式或第二连接方式，尝试使用第一IP地址关联的IP地址接入第一无线网络，第一连接方式和第二连接方式不同，第一连接方式与第二连接方式是根据第一IP地址的类型确定的，第一IP地址的类型包括IP地址段或IP地址。即根据IP地址类型的不同采用不同的连接方式。在第一方面的另一种可能的实现方式中，与第一IP地址关联的地址为第一IP地址；采用第一连接方式，尝试使用第一IP地址关联的IP地址接入第一无线网络，包括：若第一IP地址为IP地址段，则按照IP地址段从高位至低位的顺序，使用IP地址段中的N个IP地址，依次尝试将第一电子设备接入第一无线网络；与第一IP地址关联的地址是根据第一IP地址确定的，包括：第一IP地址关联的地址是第一IP地址加1得到的；采用第二连接方式，尝试使用第一IP地址关联的IP地址接入第一无线网络，包括：若第一IP地址为IP地址，则尝试利用第一IP地址将第一电子设备接入第一无线网络，循环N-1次如下步骤：将第一IP地址加1后，尝试利用加1后的第一IP地址将第一电子设备接入第一无线网络；其中，N是大于或等于1的整数，N小于接入次数上限。例如，若第一IP地址为IP地址段，假设N为5，从高位开始，可能尝试一次就连接成功。或者电子设备将第一位、第二位、第三位、第四位和第五位的IP地址，依次尝试将电子设备接入网络，直到第五位的IP地址才连接成功。若5次连接均未成功，则视为电子设备接入无线网络失败。若第一IP地址为IP，假设N为5，将第一IP地址尝试接入网络，该尝试一次就连接成功。或者电子设备将第一IP地址加1，再加1，再加1，以及直到加第4次1才连接成功。若5次连接均未成功，则视为电子设备接入无线网络失败。循环N-1次如下步骤的截止循环条件可以是接入成功，或者是加上第一次将第一IP地址尝试接入网络的尝试次数达到接入次数上限。在第一方面的另一种可能的实现方式中，获取第一入网配置信息，基于第一IP地址，尝试将电子设备接入第一无线网络，包括：从电子设备的数据库中获取第一IP地址；根据第一IP地址的类型，采用第一连接方式或第二连接方式，尝试使用第一IP地址关联的IP地址接入第一无线网络；若尝试N次均未将第一电子设备接入第一无线网络，则基于第一网络接入设备的信息，从网络接入设备的信息与入网配置信息的对应关系中获取第一入网配置信息；根据第一IP地址的类型，采用第一连接方式或第二连接方式，尝试使用第一IP地址关联的IP地址接入第一无线网络；若尝试N次均未将第一电子设备接入第一无线网络，则检测向第二电子设备发送的第一SSID对应的第一报文，从第一报文中解析出第一入网配置信息；根据第一IP地址的类型，采用第一连接方式或第二连接方式，尝试使用第一IP地址关联的IP地址接入第一无线网络。即电子设备可以通过自身数据库获取IP地址，并尝试使用与该IP地址关联的IP地址将电子设备接入无线网络，在尝试规定次数仍然接入失败的情况下。可以换一种IP获取方式再尝试将电子设备接入无线网络。电子设备更换的IP获取方式可以是从服务器获取IP地址，并尝试使用与该IP地址关联的IP地址将电子设备接入无线网络，在尝试规定次数仍然接入失败的情况下。可以再换一种IP获取方式再尝试将电子设备接入无线网络。电子设备更换的IP获取方式可以是从网络接入设备发送的报文中获取IP地址，并尝试使用与该IP地址关联的IP地址将电子设备接入无线网络，直至在接入次数上限之内连接成功，或者在达到接入次数上限。在第一方面的另一种可能的实现方式中，尝试使用第一IP地址关联的IP地址接入第一无线网络，包括：若基于与第一IP关联的地址，未成功将第一电子设备接入第一无线网络，则确定未成功将第一电子设备接入第一无线网络的原因；根据原因的类型，确定第一电子设备获取第一IP地址的方式；按照确定的方式尝试将电子设备接入第一无线网络。即电子设备可以根据电子设备接入网络失败的原因，重新调整IP地址的获取方式。这样，可以提高获取的IP地址与网络接入设备提供的可以接入无线网络的IP地址的相同概率，进而提高电子设备接入网络的成功率。在第一方面的另一种可能的实现方式中，根据原因的类型，确定尝试将电子设备接入第一无线网络的方式，按照确定的方式尝试将电子设备接入第一无线网络，包括：若原因为ARP寻址失败，尝试使用第一IP地址关联的IP地址接入第一无线网络；若原因为DNS域名解析失败或HTTP探测不通，则按照基于第一IP地址，对当前第一电子设备获取第一IP地址将第一电子设备接入第一无线网络的策略进行更新，得到更换后的获取第一IP地址的策略；按照更换后的获取第一IP地址的策略尝试将第一电子设备接入第一无线网络。即若原因为ARP寻址失败，则重新尝试使用第一IP地址关联的IP地址接入第一无线网络。若原因为DNS域名解析失败或HTTP探测不通，则更换当前电子设备获取第一IP地址将电子设备接入第一无线网络的策略，例如，可以更换使用优先级更高的电子设备获取第一IP地址将电子设备接入第一无线网络的策略。示例性的，若当前使用的是下述第二策略，更换后的策略可以是第一策略。提高获取的IP地址与网络接入设备提供的IP地址的相同概率，进而提高电子设备接入网络的成功率。在第一方面的另一种可能的实现方式中，更换后的策略包括第一策略、第二策略和第三策略；其中第一策略的使用优先级大于第二策略的使用优先级，第二策略的使用优先级大于第三策略的使用优先级；第一策略为：基于第一SSID，从第一SSID与入网配置信息的对应关系中，获取第一入网配置信息；第二策略为：基于第一网络接入设备的信息，从网络接入设备的信息与入网配置信息的对应关系中获取第一入网配置信息；第三策略为：检测向第二电子设备发送的第一SSID对应的第一报文，解析第一报文，从第一报文中解析出第一入网配置信息。若原因为DNS域名解析失败或HTTP探测不通，则更换当前电子设备获取第一IP地址将电子设备接入第一无线网络的策略，例如，可以更换使用优先级更高的电子设备获取第一IP地址将电子设备接入第一无线网络的策略。示例性的，若当前使用的是下述第二策略，更换后的策略可以是第一策略。由于电子设备从自身数据库中获取IP地址的速度较快，因此，第一策略较优。而从较远处的云端服务器需要花费一定时间，及时性较差，相比于第一策略较差。而第三策略中，检测到报文具有随机性，可能能很快检测到报文，也可能长时间检测不到报文，及时性较差。因此，在电子设备获取前述第一IP地址的过程中，优先选用第一策略，然后是第二策略，其次是第三策略。这样，可以在提高将电子设备接入无线网络的成功率的基础上，提高将电子设备成功接入网络的速度，提高用户体验。第二方面，提供了一种电子设备，该电子设备包括处理器和存储器；存储器用于存储代码指令；处理器用于运行代码指令，以执行如第一方面中任一种可能的设计方式中的音频信号的调节方法。第三方面，提供了一种计算机可读存储介质，该计算机可读存储介质中存储有指令，当指令在计算机上运行时，使得计算机执行如第一方面中任一种可能的设计方式中的音频信号的调节方法。第四方面，提供了一种计算机程序产品，包括计算机程序/指令，该计算机程序/指令被处理器执行时实现第一方面中任一种可能的设计方式中的方法。其中，第二方面、第三方面和第四方面中任一种设计方式所带来的技术效果可参见第一方面中不同设计方式所带来的技术效果，此处不再赘述。附图说明图1示出了一种电子设备接入无线网络的场景示意图；图2示出了一种无线网络连接的场景示意图；图3示出了一种DHCP过程的示意图；图4示出了一种路由器参数设置过程的示意图；图5示出了一种手机200的结构示意图；图6示出了获取第一入网配置信息的3种策略的示意图；图7示出了一种无线网络连接方法的流程示意图；图8示出了一种用户操作手机200连接网络的界面变化示意图；图9示出了一种连网状态示意图；图10示出了手机200确定连接网络失败的原因，重新调整连接策略的流程示意图；图11示出了一种无线网络连接方法的流程示意图；图12示出了一种无线网络连接方法的流程示意图；图13示出了一种无线网络连接方法的流程示意图；图14示出了一种无线网络连接模块示意图。具体实施方式下面对本申请实施例涉及的概念做简要概述。无线局域网，WLAN是指利用无线通讯技术把各种计算机设备连接在一起，形成能够相互通讯、共享资源的网络系统。简单来说，无线局域网就是采用无线方式进行连接，使得网络的建设和终端的移动更为灵活。无线接入点，AP是一个无线网络创建者，是网络的中心节点。一般家庭或办公室使用的无线路由器、网关和光猫就是一个AP，AP也可以叫做网络接入设备。例如，图1示出了一种电子设备接入无线网络的场景示意图。如图1所示，AP可以是无线路由器100，无线路由器100可以为电子设备提供无线网络。其中，无线网络可以是无线局域网。可以理解的是，通常，大多数无线路由器结合无线接入点、以太网路由器、基础防火墙和小型以太网交换机的功能。而无线接入点则是路由器或无线扩展器等设备的内置组件。简而言之，在无线局域网中，无线路由器可以充当无线接入点使用，但并非是所有的无线接入点都可充当无线路由器。站点，每一个连接到无线网络中的终端都可以称为一个站点，即任何一个接入AP的设备都可以称为一个站点。AP可以是有无线网络模块的手机，装有无线网卡的计算机等。例如，如图1所示，STA可以是手机200、笔记本电脑300和平板电脑400等电子设备。STA可以通过AP接入无线网络。例如，手机200、笔记本电脑300和平板电脑400可以通过无线路由器100接入无线网络。可以理解，无线网络可以是无线局域网，具有一定的网络覆盖范围。图1中的虚线可以表示无线局域网的网络覆盖范围，在该范围中，手机200、笔记本电脑300和平板电脑400可以通过无线路由器100接入该无线路由器100提供的无线网络。互联网协议地址，也可以叫做网际协议地址，是IP协议提供的一种统一的地址格式，它为互联网上的每一个网络和每一台主机分配一个逻辑地址。IP地址多数是指互联网中联网的IP地址，每台连接到互联网的电子设备均会分配到一个IP，IP地址是由网络商提供的，根据其地址也可以知道提供的网络的大致的方位。比如在深圳，那么IP地址处于深圳区域IP段。所谓IP地址就是指给每个连接在Internet上的电子设备分配的一个32bit地址，按照TCP/IP协议规定，IP地址用二进制来表示，每个IP地址长32位，32比特换算成字节，是4个字节。例如，一个采用二进制形式的IP地址是“00001010000000000000000000000001”，该地址较长，处理复杂度高。为了方便用户的使用，IP地址经常被写成十进制的形式，中间使用符号“.”分开不同的字节。于是，上面的IP地址可以表示为“10.0.0.1”。IP地址的这种表示法叫做“点分十进制表示法”。但计算机内部数据处理器仅支持二进制，也就是说仅能识别0和1。而用户看到的IP地址都是由计算机转换成十进制后所看到的结果。动态主机配置协议，DHCP是一个局域网的网络协议，指的是由DHCP服务器控制一段IP地址范围，电子设备登录DHCP服务器时就可以自动获得DHCP服务器分配的IP地址和子网掩码。两台连接到互联网上的电子设备相互之间通信，一般都有各自的IP地址。由于IP地址资源有限，宽带接入运营商不能做到给每个报装宽带的电子设备都固定分配一个固定的IP地址，所以可以采用DHCP方式对上网的电子设备进行临时的地址分配，以缓解IP地址资源有限的问题。也就是电子设备准备连上网，DHCP服务器从地址池里临时分配一个IP地址，每次上网分配的IP地址可能会不一样，这与当时IP地址资源有关。当下线时，DHCP服务器可能就会把这个地址分配给之后上线的其他电子设备。这样就可以有效节约IP地址，既保证了网络通信，又提高IP地址的使用率。DHCP服务器可以集成在无线路由器中，也可以集成在路由器中，或者为独立的设备。地址池，在定义了 DHCP 范围及排除范围后，剩余的地址构成了一个地址池，地址池中的地址可以动态的分配给网络中的电子设备使用。地址池仅对自动获取IP的方式有效。如前文背景技术所述，电子设备请求与路由器建立连接时，DHCP过程会由于各种原因失败，从而导致电子设备无法成功接入AP热点，用户体验较差。图2示出了一种无线网络连接的场景示意图。以手机为站点，无线路由器为接入点为例，如图2所示，该场景中包括手机200和无线路由器100。无线路由器100用于提供无线网络。无线路由器100中集成DHCP 服务器功能。无线网络可以是WLAN网络，示例性的，WLAN网络可以是WIFI网络。手机200具有无线功能模块，手机200开启无线功能时，可以通过无线路由器100接入无线网络。下面结合无线网络连接的场景以及具体的DHCP过程，介绍电子设备无法成功接入AP热点的原因。可以理解，DHCP服务器为电子设备分配IP地址有三种形式：1、将一个IP地址固定分配给一个电子设备。2、随机地将地址永久性分配给电子设备。3、随机地将地址分配给电子设备使用一段时间。第三种是最常见的使用形式，也是本申请实施例的使用方式。图3示出了一种基于上述第三种使用方式的DHCP过程的示意图。如图3所示，该过程包括如下步骤：S301、手机200广播入网配置信息请求报文。手机200开始DHCP过程的第一个报文，是请求IP地址和其它配置参数的广播报文，即入网配置信息请求报文。该步骤涉及的报文为DHCP DISCOVER报文。S302、无线路由器100响应于入网配置信息请求，向手机200反馈入网配置信息。一般情况下，无线路由器100至少向手机200提供以下入网配置信息：IP 地址、子网掩码和默认网关，还可以提供其他信息，如域名服务  服务器的地址。无线路由器100对DHCP DISCOVER报文的响应，是包含有效IP地址及配置的单播报文。该步骤涉及的报文为DHCP OFFER报文。可以理解，无线路由器随机给手机200分配的IP地址是在一个预设地址范围内的，该预设地址范围也可以叫做地址池。下面介绍分配的IP地址在一个预设的地址范围内的原因。在配置无线路由器100的时候，可以在其他电子设备上打开浏览器，输入无线路由器100的登陆地址，登陆路由器管理界面。例如，图4示出了一种路由器参数设置过程的示意图。具体的，图4中的图示出了一种用户操作路由器管理界面的示意图。如图4中的图所示，用户在电子设备上输入用户名和密码进行登陆，电子设备获取用户名和密码，显示路由器设置界面。例如，图4中的图示出了一种用户操作路由器设置界面的示意图。如图4中的图所示，用户点击”DHCP服务器“选项，然后勾选”启用 DHCP服务器“。接着输入”地址池开始地址“和”地址池结束地址“。 。电子设备获取前述操作，显示提示界面。例如，图4中的图示出了一种用户操作提示界面的示意图。如图4中的图所示，该提示界面包括提示消息：“只有在您重启路由器后，您所做的修改才能生效！”。电子设备获取到用户点击确定选项的操作，便完成路由器设置。可以理解，手机200中一般会开启“自动获取IP地址”和“自动获取DNS服务器”，也即手机200中的DHCP服务器已经是配置好的。这样，无线路由器100响应于入网配置信息请求，才会向手机200反馈入网配置信息。S303、手机200响应于入网配置信息反馈，发送第一确认消息；第一确认消息用于确认接受反馈的入网配置信息。手机200对DHCP OFFER报文的响应，表示接受相关配置。该步骤涉及的报文为DHCPREQUEST报文。S304、无线路由器100响应于第一确认消息，反馈第二确认消息；第二确认消息用于确认接受第一确认消息。服务器对手机200的DHCP REQUEST报文的确认响应报文。手机200收到此报文后，才真正获得了IP地址和相关的配置信息。该步骤涉及的报文为DHCP ACK报文。S305、手机200基于入网配置信息，与无线路由器100配合，将手机200接入网络。在前述过程中，当手机200请求与无线路由器100建立连接时，DHCP过程会由于各种原因失败，按照DHCP阶段将失败原因分为：1、在DHCP DISCOVER阶段，接入手机200异常没有发出或无线路由器100器异常没有收到DHCP DISCOVER报文。2、在DHCP OFFER阶段，无线路由器100异常，无法正常发送DHCP OFFER报文或接入电子设备异常无法接收或接收丢弃。3、在DHCP REQUEST阶段，接入手机200异常未发出DHCP REQUEST报文或无线路由器100器异常未收到DHCP REQUEST报文。4、在DHCP ACK阶段，无线路由器100器异常未回复DHCP ACK报文或接入手机200异常未接收DHCP ACK报文。以上多个步骤均会导致手机200无法得到用于接入无线网络的IP地址。为了解决背景技术中的技术问题，本申请实施例提供一种无线网络连接方法。当电子设备无法成功接入AP热点，例如，因上述原因无法得到确定的用于接入无线网络的IP地址而无法成功接入AP热点的情况下，为了得到与具有DHCP服务器功能的设备发送的IP地址一样的且可以连接无线网络的地址，电子设备可以通过除上述DHCP过程之外的方式获取到的IP地址。例如，电子设备获取预先存储的与具有DHCP服务器功能的设备发送的IP地址相关的IP地址，或者通过检测网络接入设备发送给其他电子设备的报文中，与网络接入设备提供的IP地址相关的IP地址。由于网络接入设备在不同的网络连接请求下，分配IP地址，且分配IP地址的原则一般是按照接收到的网络连接请求的时序先后分配不同的IP地址。这样，电子设备便可以基于与网络接入设备提供的IP地址相关的IP地址，尝试使用与该IP地址关联的IP地址接入无线网络，即尝试得到一个与网络接入设备发送的IP地址一样且能够连接上网络的IP地址，直至网络连接成功或者尝试连接接入次数上限。可以理解，具有DHCP服务器功能的设备的功能可以集成在AP中。AP配置具有DHCP服务器功能的设备，便可以执行上述方法。AP又可以称为网络接入设备。本申请实施例中，若电子设备接入无线网络失败，则重新获取IP地址，并尝试使用与该IP地址关联的至少一个IP地址，将电子设备接入网络。由于网络接入设备向电子设备反馈的IP地址是在一个IP地址段内的某一IP地址，因此，电子设备尝试使用与网络接入设备提供的IP地址相关的多个IP地址接入网络，多个IP处于空闲且可以使用的概率较高，如此，可以提高电子设备接入无线网络的成功率。本申请实施例提供的无线网络连接方法可以应用在任何无线网络连接环境中。示例性的，本申请实施例中的电子设备可以是手机、平板电脑、桌面型、膝上型、手持计算机、笔记本电脑、超级移动个人计算机、上网本，以及蜂窝电话、个人数字助理、增强现实虚拟现实设备等具有无线网络连接功能的设备，本申请实施例对该电子设备的具体形态不作特殊限制。图5示出了一种手机200的结构示意图。如图5所示，手机200可以包括处理器110，外部存储器接口120，内部存储器121，通用串行总线接口130，充电管理模块140，电源管理模块141，电池142，天线1，天线2，移动通信模块150，无线通信模块160，音频模块170，扬声器170A，受话器170B，麦克风170C，耳机接口170D，传感器模块180，按键190，马达191，指示器192，摄像头193，显示屏194，以及用户标识模块卡接口195等。其中传感器模块180可以包括压力传感器180A，陀螺仪传感器180B，气压传感器180C，磁传感器180D，加速度传感器180E，距离传感器180F，接近光传感器180G，指纹传感器180H，温度传感器180J，触摸传感器180K，环境光传感器180L，骨传导传感器180M等。可以理解的是，本发明实施例示意的结构并不构成对手机200的具体限定。在本申请另一些实施例中，手机200可以包括比图示更多或更少的部件，或者组合某些部件，或者拆分某些部件，或者不同的部件布置。图示的部件可以以硬件，软件或软件和硬件的组合实现。处理器110可以包括一个或多个处理单元，例如：处理器110可以包括应用处理器，调制解调处理器，图形处理器，图像信号处理器，控制器，存储器，视频编解码器，数字信号处理器，基带处理器，和/或神经网络处理器等。其中，不同的处理单元可以是独立的器件，也可以集成在一个或多个处理器中。其中，控制器可以是手机200的神经中枢和指挥中心。控制器可以根据指令操作码和时序信号，产生操作控制信号，完成取指令和执行指令的控制。处理器110中还可以设置存储器，用于存储指令和数据。在一些实施例中，处理器110中的存储器为高速缓冲存储器。该存储器可以保存处理器110刚用过或循环使用的指令或数据。如果处理器110需要再次使用该指令或数据，可从所述存储器中直接调用。避免了重复存取，减少了处理器110的等待时间，因而提高了系统的效率。处理器110用于执行本申请实施例提供的无线网络连接方法。在一些实施例中，处理器110可以包括一个或多个接口。接口可以包括集成电路接口，集成电路内置音频接口，脉冲编码调制接口，通用异步收发传输器接口，移动产业处理器接口，通用输入输出接口，用户标识模块接口，和/或通用串行总线接口等。可以理解的是，本申请实施例示意的各模块间的接口连接关系，只是示意性说明，并不构成对手机200的结构限定。在本申请另一些实施例中，手机200也可以采用上述实施例中不同的接口连接方式，或多种接口连接方式的组合。充电管理模块140用于从充电器接收充电输入。其中，充电器可以是无线充电器，也可以是有线充电器。在一些有线充电的实施例中，充电管理模块140可以通过USB接口130接收有线充电器的充电输入。在一些无线充电的实施例中，充电管理模块140可以通过手机200的无线充电线圈接收无线充电输入。充电管理模块140为电池142充电的同时，还可以通过电源管理模块141为手机200供电。电源管理模块141用于连接电池142，充电管理模块140与处理器110。电源管理模块141接收电池142和/或充电管理模块140的输入，为处理器110，内部存储器121，外部存储器，显示屏194，摄像头193，和无线通信模块160等供电。电源管理模块141还可以用于监测电池容量，电池循环次数，电池健康状态等参数。在其他一些实施例中，电源管理模块141也可以设置于处理器110中。在另一些实施例中，电源管理模块141和充电管理模块140也可以设置于同一个器件中。手机200的无线通信功能可以通过天线1，天线2，移动通信模块150，无线通信模块160，调制解调处理器以及基带处理器等实现。天线1和天线2用于发射和接收电磁波信号。手机200中的每个天线可用于覆盖单个或多个通信频带。不同的天线还可以复用，以提高天线的利用率。例如：可以将天线1复用为无线局域网的分集天线。在另外一些实施例中，天线可以和调谐开关结合使用。移动通信模块150可以提供应用在手机200上的包括2G/3G/4G/5G等无线通信的解决方案。移动通信模块150可以包括至少一个滤波器，开关，功率放大器，低噪声放大器等。移动通信模块150可以由天线1接收电磁波，并对接收的电磁波进行滤波，放大等处理，传送至调制解调处理器进行解调。移动通信模块150还可以对经调制解调处理器调制后的信号放大，经天线1转为电磁波辐射出去。在一些实施例中，移动通信模块150的至少部分功能模块可以被设置于处理器110中。在一些实施例中，移动通信模块150的至少部分功能模块可以与处理器110的至少部分模块被设置在同一个器件中。调制解调处理器可以包括调制器和解调器。其中，调制器用于将待发送的低频基带信号调制成中高频信号。解调器用于将接收的电磁波信号解调为低频基带信号。随后解调器将解调得到的低频基带信号传送至基带处理器处理。低频基带信号经基带处理器处理后，被传递给应用处理器。应用处理器通过音频设备输出声音信号，或通过显示屏194显示图像或视频。在一些实施例中，调制解调处理器可以是独立的器件。在另一些实施例中，调制解调处理器可以独立于处理器110，与移动通信模块150或其他功能模块设置在同一个器件中。无线通信模块160可以提供应用在手机200上的包括无线局域网网络)，蓝牙，全球导航卫星系统，调频，近距离无线通信技术，红外技术等无线通信的解决方案。无线通信模块160可以是集成至少一个通信处理模块的一个或多个器件。无线通信模块160经由天线2接收电磁波，将电磁波信号调频以及滤波处理，将处理后的信号发送到处理器110。无线通信模块160还可以从处理器110接收待发送的信号，对其进行调频，放大，经天线2转为电磁波辐射出去。在一些实施例中，手机200的天线1和移动通信模块150耦合，天线2和无线通信模块160耦合，使得手机200可以通过无线通信技术与网络以及其他设备通信。所述无线通信技术可以包括全球移动通讯系统，通用分组无线服务，码分多址接入，宽带码分多址，时分码分多址，长期演进，BT，GNSS，WLAN，NFC ，FM，和/或IR技术等。所述GNSS可以包括全球卫星定位系统，全球导航卫星系统，北斗卫星导航系统，准天顶卫星系统和/或星基增强系统。手机200通过GPU，显示屏194，以及应用处理器等实现显示功能。GPU为图像处理的微处理器，连接显示屏194和应用处理器。GPU用于执行数学和几何计算，用于图形渲染。处理器110可包括一个或多个GPU，其执行程序指令以生成或改变显示信息。显示屏194用于显示图像，视频等。显示屏194包括显示面板。显示面板可以采用液晶显示屏，有机发光二极管，有源矩阵有机发光二极体或主动矩阵有机发光二极体，柔性发光二极管，Miniled，MicroLed，Micro-oLed，量子点发光二极管等。在一些实施例中，手机200可以包括1个或N个显示屏194，N为大于1的正整数。手机200可以通过ISP，摄像头193，视频编解码器，GPU，显示屏194以及应用处理器等实现拍摄功能。ISP 用于处理摄像头193反馈的数据。例如，拍照时，打开快门，光线通过镜头被传递到摄像头感光元件上，光信号转换为电信号，摄像头感光元件将所述电信号传递给ISP处理，转化为肉眼可见的图像。ISP还可以对图像的噪点，亮度，肤色进行算法优化。ISP还可以对拍摄场景的曝光，色温等参数优化。在一些实施例中，ISP可以设置在摄像头193中。摄像头193用于捕获静态图像或视频。物体通过镜头生成光学图像投射到感光元件。感光元件可以是电荷耦合器件或互补金属氧化物半导体光电晶体管。感光元件把光信号转换成电信号，之后将电信号传递给ISP转换成数字图像信号。ISP将数字图像信号输出到DSP加工处理。DSP将数字图像信号转换成标准的RGB，YUV等格式的图像信号。在一些实施例中，手机200可以包括1个或N个摄像头193，N为大于1的正整数。数字信号处理器用于处理数字信号，除了可以处理数字图像信号，还可以处理其他数字信号。例如，当手机200在频点选择时，数字信号处理器用于对频点能量进行傅里叶变换等。视频编解码器用于对数字视频压缩或解压缩。手机200可以支持一种或多种视频编解码器。这样，手机200可以播放或录制多种编码格式的视频，例如：动态图像专家组1，MPEG2，MPEG3，MPEG4等。外部存储器接口120可以用于连接外部存储卡，例如Micro SD卡，实现扩展手机200的存储能力。外部存储卡通过外部存储器接口120与处理器110通信，实现数据存储功能。例如将音乐，视频等文件保存在外部存储卡中。内部存储器121可以用于存储计算机可执行程序代码，所述可执行程序代码包括指令。处理器110通过运行存储在内部存储器121的指令，从而执行手机200的各种功能应用以及数据处理。内部存储器121可以包括存储程序区和存储数据区。其中，存储程序区可存储操作系统，至少一个功能所需的应用程序等。存储数据区可存储手机200使用过程中所创建的数据等。此外，内部存储器121可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件，闪存器件，通用闪存存储器等。手机200可以通过音频模块170，扬声器170A，受话器170B，麦克风170C，耳机接口170D，以及应用处理器等实现音频功能。例如音乐播放，录音等。音频模块170用于将数字音频信息转换成模拟音频信号输出，也用于将模拟音频输入转换为数字音频信号。音频模块170还可以用于对音频信号编码和解码。在一些实施例中，音频模块170可以设置于处理器110中，或将音频模块170的部分功能模块设置于处理器110中。扬声器170A，也称“喇叭”，用于将音频电信号转换为声音信号。手机200可以通过扬声器170A收听音乐，或收听免提通话。受话器170B，也称“听筒”，用于将音频电信号转换成声音信号。当手机200接听电话或语音信息时，可以通过将受话器170B靠近人耳接听语音。麦克风170C，也称“话筒”，“传声器”，用于将声音信号转换为电信号。当拨打电话或发送语音信息时，用户可以通过人嘴靠近麦克风170C发声，将声音信号输入到麦克风170C。手机200可以设置至少一个麦克风170C。在另一些实施例中，手机200可以设置两个麦克风170C，除了采集声音信号，还可以实现降噪功能。在另一些实施例中，手机200还可以设置三个，四个或更多麦克风170C，实现采集声音信号，降噪，还可以识别声音来源，实现定向录音功能等。耳机接口170D用于连接有线耳机。耳机接口170D可以是USB接口130，也可以是3.5mm的开放移动手机200平台标准接口，美国蜂窝电信工业协会标准接口。触摸传感器180K，也称“触控面板”。触摸传感器180K可以设置于显示屏194，由触摸传感器180K与显示屏194组成触摸屏，也称“触控屏”。触摸传感器180K用于检测作用于其上或附近的触摸操作。触摸传感器可以将检测到的触摸操作传递给应用处理器，以确定触摸事件类型。可以通过显示屏194提供与触摸操作相关的视觉输出。在另一些实施例中，触摸传感器180K也可以设置于手机200的表面，与显示屏194所处的位置不同。按键190包括开机键，音量键等。按键190可以是机械按键。也可以是触摸式按键。手机200可以接收按键输入，产生与手机200的用户设置以及功能控制有关的键信号输入。马达191可以产生振动提示。马达191可以用于来电振动提示，也可以用于触摸振动反馈。例如，作用于不同应用的触摸操作，可以对应不同的振动反馈效果。作用于显示屏194不同区域的触摸操作，马达191也可对应不同的振动反馈效果。不同的应用场景也可以对应不同的振动反馈效果。触摸振动反馈效果还可以支持自定义。指示器192可以是指示灯，可以用于指示充电状态，电量变化，也可以用于指示消息，未接来电，通知等。SIM卡接口195用于连接SIM卡。SIM卡可以通过插入SIM卡接口195，或从SIM卡接口195拔出，实现和手机200的接触和分离。手机200可以支持1个或N个SIM卡接口，N为大于1的正整数。SIM卡接口195可以支持Nano SIM卡，Micro SIM卡，SIM卡等。同一个SIM卡接口195可以同时插入多张卡。所述多张卡的类型可以相同，也可以不同。SIM卡接口195也可以兼容不同类型的SIM卡。SIM卡接口195也可以兼容外部存储卡。手机200通过SIM卡和网络交互，实现通话以及数据通信等功能。在一些实施例中，手机200采用eSIM，即：嵌入式SIM卡。eSIM卡可以嵌在手机200中，不能和手机200分离。可以理解，获取入网配置信息的方式有多种,下面示例性介绍3种。图6示出了获取前述第一入网配置信息的3种策略的示意图。如图6所示，在策略1中，设置于手机200的数据库中可以存储以往连接网络的DHCP信息。其中，SSID与其对应的入网配置信息具有映射关系。这样，手机200便可以基于目标路由器的SSID查找到对应的第一入网配置信息，例如第一入网配置信息包括IP地址段查询结果。下文中将具体介绍该策略。在策略2中，云端服务器中的数据库中存储路由器的信息与第一入网配置信息的对应表。手机200获取到路由器信息，便可以基于路由器信息从云端服务器中的数据库中的对应表中查询到第一入网配置信息，例如第一入网配置信息包括IP地址段查询结果。下文中将具体介绍该策略。在策略3中，检测目标路由器广播的空口报文，从报文中解析并获取第一入网配置信息。例如，手机200后台周期性接入当前AP热点，检测该AP热点的BSSID的MAC层DHCP REQUEST广播帧。这样，手机200便可以基于从数据库中获取的第一入网配置信息，例如第一入网配置信息包括IP地址。下文中将具体介绍该策略。可以理解，手机200可以通过以上任意一种方式获取第一入网配置信息。除此之外，在其他一些实施例中，手机200可以通过以上任意一种方式获取第一入网配置信息，在通过前述任意一种方式连网失败的情况下，可以更换其他策略。在一些实施例中，手机200也可以按照策略的优先级依次执行上述策略。由于手机200从自身数据库中获取入网配置信息的速度较快，因此，策略1较优。而从较远处的云端服务器需要花费一定时间，及时性较差，相比于策略1较差。而策略3中，检测到报文具有随机性，可能能很快检测到报文，也可能长时间检测不到报文，及时性较差。因此，在手机200获取前述第一入网配置信息的过程中，优先选用策略1，然后是策略2，其次是策略3。基于上述使用策略1，和/或策略2，和/或策略3连网的方式，下文中将示例性选择几种进行介绍。下面介绍实施例1。图7示出了一种无线网络连接方法的流程示意图。如图7所示，该流程包括如下步骤：S701、手机200检测到DHCP过程中连接A网络失败，从手机200中的数据库中获取第一入网配置信息。可以理解，第一入网配置信息包括第一互联网协议IP地址，第一IP地址与网络接入设备提供的IP地址相关。第一入网配置信息的来源不是基于第一电子设备广播的入网配置信息请求报文反馈的。即在手机200基于网络接入设备响应于手机200广播的入网配置信息请求报文反馈的IP地址，无法成功接入无线网络的情况下，手机200可以通过其他方式获取与网络接入设备提供的IP地址相关的IP地址。这样，手机200尝试使用与网络接入设备提供的IP地址相关的多个IP地址接入网络，多个IP处于空闲且可以使用的概率较高，如此，可以提高手机200接入无线网络的成功率。示例性的，图8示出了一种用户操作手机200连接A网络的界面变化示意图。如图8中的图所示，控制中心界面101包括WLAN图标，用户点击该WLAN图标对应的操作区域1011，在操作区域1011显示可用WLAN列表展开图标1012。如图8中的图所示，控制中心界面中的WLAN图标的颜色变化，且在操作区域1011中显示WLAN列表展开图标1012。用户点击WLAN列表展开图标1012，显示WLAN列表。例如，如图8中的图所示，手机200显示WLAN列表界面102。该WLAN列表界面102包括多个可用的WLAN。每个WLAN对应一个操作区域。若用户想让手机200连接某一WLAN，则点击该某一WLAN所属的操作区域1021。手机200响应于该操作，触发手机200接入该WLAN，并显示连接进程，例如，如图8中的图所示，显示正在获取IP地址。可以理解的是，手机200响应于用户点击该某一WLAN所属的操作区域1021，触发手机200接入该WLAN的过程中，可能会因为前述原因，连接失败。手机200检测到前述DHCP过程中连网失败，则手机200会显示连接失败的信息。例如，图9示出了一种连网状态示意图。具体的，如图9中的图所示，在操作区域1021中显示连接失败的信息。在其他实施例中，手机200检测到DHCP过程中连网失败也可以是在用户的多次触发下，手机200检测到多次DHCP过程中均连网失败。手机200在连网成功后，可以显示连网成功结果，例如，如图9中的图所示，在操作区域1021中显示已连接的信息。可以理解，第一入网配置信息至少包括IP地址、子网掩码、网关地址和域名服务器。手机200可以基于第一入网配置信息，再次尝试接入网络。可以理解，手机200检测到DHCP过程中连网失败，可以不再执行DHCP过程，即不从无线路由器100请求入网配置信息，而是从设置于手机200的数据库中获取入网配置信息。这样，手机200便可以基于从数据库中获取的入网配置信息，尝试接入网络。设置于手机200的数据库中可以存储以往连接A网络的DHCP信息，DHCP信息包括无线路由器的服务集标识、服务器分配的IP地址、子网掩码、路由器地址、域名服务器地址和服务器地址。其中，SSID与其对应的服务器分配的IP地址、子网掩码、路由器地址、域名服务器地址和服务器地址具有映射关系。具体的，SSID与子网掩码、路由器地址、域名服务器地址和服务器地址一般一一对应。这样，手机200便可以基于目标路由器的SSID查找到对应的第一入网配置信息。由于不同时间，服务器分配的IP地址不同，因此，SSID与服务器分配的IP地址具有一对多的映射关系，且手机200中还可以存储接收到的IP地址的时间，还时间也可以称为IP地址记录日期。可以理解，一般情况下，在一定时间内，服务器为手机200分配的IP地址比较邻近，即最后一位相差不大，可以使用一定时间内记录的IP地址，并在此IP地址的基础上调整IP地址的数值大小，使用调整后的IP地址尝试将手机200接入网络。下面以表1为例，示例性介绍一种SSID与其对应的服务器分配的IP地址、子网掩码、路由器地址、域名服务器地址和服务器地址具有映射关系。表1需要说明的是A1、C1、D1、E1和F1并不代表实际产品中的标识形态，仅仅是为了说明存在该信息。如表1所示，无线路由器的服务集标识为A1, 子网掩码为C1, 路由器地址为D1,域名服务器地址为E1, 服务器地址为F1,在2023年10月10日11:40，记录的服务器分配的IP地址为192.168.1.158，在2023年10月10日11:45，记录的服务器分配的IP地址为192.168.1.156，在2023年10月1日10:45，记录的服务器分配的IP地址为192.168.1.150。2023年10月10日11:45与2023年10月10日11:40的时间较近，且服务器分配的两个IP地址的最后一位仅差2个数，2023年10月10日11:40与2023年10月1日10:45的时间较远，且服务器分配的两个IP地址的最后一位相差8个数。若当前时间是2023年10月10日12:00，可以优先选择2023年10月10日11:40记录的服务器分配的IP地址，并基于该IP地址调整IP地址的大小，尝试无线网络连接。S702、手机200基于第一入网配置信息中的IP地址信息确定第二入网配置信息。可以理解，第二入网配置信息与第一入网配置信息中的区别在于两个信息中的IP地址不同，其他信息相同，即手机200可以基于第一入网配置信息中的IP地址信息确定第二入网配置信息中，与第一入网配置信息中的IP地址信息相关联的IP地址信息。具体的，若第一入网配置信息中的IP地址信息为IP地址段，则将该IP地址段按照从高位到低位依次排列，按照尝试连接的次数，逐次基于第一入网配置信息中的IP地址确定第二入网配置信息的IP地址。可以理解的是，将该IP地址段按照从高位到低位依次排列可以是指将该IP地址段中的IP地址按照IP地址的数值从大到小依次排列。例如，在第一次尝试连接时，将按照从高位到低位依次排列IP地址中排列第一的IP地址确定为第二入网配置信息的IP地址。在第二次尝试连接时，将按照从高位到低位依次排列IP地址中排列第二的IP地址确定为第二入网配置信息的IP地址，以此类推。可以理解，若第一入网配置信息中的IP地址信息为IP地址段，也可以将该IP地址段按照从低位到高位依次排列，按照尝试连接的次数，逐次基于第一入网配置信息中的IP地址确定第二入网配置信息的IP地址。但是，一般情况下，网络接入设备给其他电子设备随机分配地址的规则是从低位到高位，例如，若无线路由器100先给电脑300分配IP地址，再给平板400分配IP地址，则给平板400分配的IP地址的值大于给电脑300分配的IP地址的值。无线路由器100已经将低位IP地址分配给其他电子设备使用，手机200无法使用其他电子设备使用的IP地址。因此，手机200从高位IP地址至低位IP地址依次尝试连接网络的方式，得到可以连接网络的IP地址的概率较大。这样，可以提高手机200接入网路的成功率。若第一入网配置信息中的IP地址信息为IP地址，则将该地址加1，按照尝试连接的次数，逐次基于第一入网配置信息中的IP地址确定第二入网配置信息的IP地址。例如，在第一次尝试连接时，将该地址加1后的IP地址确定为第二入网配置信息的IP地址。在第二次尝试连接时，将前述第一次尝试连接对应的地址再加1后的IP地址确定为第二入网配置信息的IP地址，以此类推。S703、手机200基于第二入网配置信息尝试将手机200接入A网络，判断手机200是否接入A网络。可以理解，A网络即第一无线网络，泛指手机200待连接的任意一种网络。由于第二入网配置信息并不一定是无线路由器100在DHCP过程中随机发送的入网配置信息，因此，可能存在手机200接入成功或失败的连接结果。于是，手机200可以基于第二入网配置信息将手机200接入网络，判断手机200是否接入网络。若手机200未成功接入网络，则继续基于新的入网配置信息尝试将手机200接入网络，即执行步骤104至步骤102。若手机200成功接入网络，则结束。可以理解，手机200可以根据IP地址类型的不同采用不同的连接方式。具体的，若IP地址为IP地址段，则按照IP地址段从高位至低位的顺序，使用IP地址段中的F个IP地址，依次尝试将第一电子设备接入A网络。IP地址关联的地址是根据IP地址确定的，包括：IP地址关联的地址是IP地址加1得到的。该种尝试使用IP地址关联的IP地址接入A网络方式可以简称为第一连接方式。例如，若IP地址为IP地址段，假设N为5，从高位开始，可能尝试一次就连接成功。或者电子设备将第一位、第二位、第三位、第四位和第五位的IP地址，依次尝试将电子设备接入网络，直到第五位的IP地址才连接成功。若5次连接均未成功，则视为电子设备接入无线网络失败。若IP地址为IP地址，则尝试利用IP地址将第一电子设备接入A网络，循环N-1次如下步骤：将IP地址加1后，尝试利用加1后的IP地址将第一电子设备接入A网络；其中，N是大于或等于1的整数，N小于接入次数上限。该种尝试使用IP地址关联的IP地址接入A网络方式可以简称为第二连接方式。例如，若IP地址为IP，假设N为5，将IP地址尝试接入网络，该尝试一次就连接成功。或者电子设备将IP地址加1，再加1，再加1，以及直到加第4次1才连接成功。若5次连接均未成功，则视为电子设备接入无线网络失败。循环N-1次如下步骤的截止循环条件可以是接入成功，或者是加上第一次将IP地址尝试接入网络的尝试次数达到接入次数上限。S704、手机200计算尝试连接A网络的次数。手机200计算尝试连接A网络的次数，便于手机200后续判断是否还需要再继续使用S702至S703的方法将手机200接入A网络。S705、手机200判断尝试连接A网络的次数是否大于接入次数上限。若尝试连接A网络的次数较多，则表明继续用S702至S703的方法将手机200接入网络的失败率较高。为了省去不必要的连网功耗，可以直接结束。即手机200中设定有最大重试次数，在最大重试次数内，连网失败，则结束。具体的，手机200判断尝试连接A网络的次数是否大于接入次数上限。若手机200判断尝试连接A网络的次数大于接入次数上限，则结束。若手机200判断尝试连接A网络的次数小于等于接入次数上限，则继续循环执行S702至S703，继续尝试将手机200接入网络。在其他一些实施例中，若连接A网络失败的次数较多，则表明继续用S702至S703的方法将手机200接入网络的失败率较高。为了提高手机200接入网络的成功率，可以在确定连接A网络失败的原因，重新调整连接策略。手机200中设定有最大重试次数，在最大重试次数内，根据失败类型进行相应参数变化后，进行重连。即在其他实施例中，为了更进一步提高手机200接入无线网络的成功率，手机200在尝试接入次数上限的情况下，仍然连网失败的情况下，可以确定连接A网络失败的原因，重新调整连接策略。可以理解，若手机200获取的是IP地址段，IP地址段中包括F个IP地址，则接入次数上限的值小于等于F。具体的，图10示出了手机200确定连接A网络失败的原因，重新调整连接策略的流程示意图。如图10所示，该流程包括如下步骤：S1001、若手机200基于第一入网配置信息中的IP地址关联的地址，未成功将手机200接入连接A网络，则可以确定未成功将手机200接入连接A网络的原因。未成功将手机200接入连接A网络的原因可以包括ARP寻址失败、DNS域名解析失败或 HTTP探测不通。手机200探测连接A网络失败的原因为ARP寻址失败的方式如下：在当前局域网内发送ARP Request报文，接收ARP Response报文，在规定时间内没有接收到ARP Response报文则认为本次ARP寻址失败。手机200探测连接A网络失败的原因为DNS域名解析失败的方式如下：ARP寻址成功后，进行DNS域名解析及HTTP探测，发送DNS Query，接收DNS QueryResponse。若在规定时间内没有接收到DNS Query Response，则确定DNS域名解析失败。手机200探测连接A网络失败的原因为HTTP探测不通的方式如下：DNS解析成功后，与对应IP建立HTTP链接，使用GET方法请求URI /generate_204，等待对端回应No Conten 204状态码，则确定HTTP探测不通。S1002、手机200根据原因的类型，确定手机200获取第一入网配置信息中的IP地址的方式。手机100可以根据手机200接入网络失败的原因，重新调整IP地址的获取方式。这样，可以提高获取的IP地址与网络接入设备提供的可以接入A网络的IP地址的相同概率，进而提高电子设备接入网络的成功率。若原因为ARP寻址失败，尝试使用第一入网配置信息中的IP地址关联的IP地址接入连接A网络；若原因为DNS域名解析失败或HTTP探测不通，则按照基于第一入网配置信息中的IP地址，对当前第一手机200获取第一入网配置信息中的IP地址将第一手机200接入连接A网络的策略进行更新，得到更换后的获取第一入网配置信息中的IP地址的策略；按照更换后的获取第一入网配置信息中的IP地址的策略尝试将第一手机200接入连接A网络。即若原因为ARP寻址失败，则重新尝试使用第一入网配置信息中的IP地址关联的IP地址接入连接A网络。若原因为DNS域名解析失败或HTTP探测不通，则更换当前手机200获取第一入网配置信息中的IP地址将手机200接入连接A网络的策略。可以理解，在一些实施例中，更换后的策略包括第一策略、第二策略和第三策略；其中第一策略的使用优先级大于第二策略的使用优先级，第二策略的使用优先级大于第三策略的使用优先级；第一策略为：基于第一SSID，从第一SSID与入网配置信息的对应关系中，获取第一入网配置信息。第二策略为：基于第一路由器的信息，从第一路由器的信息与入网配置信息的对应关系中获取第一入网配置信息。第三策略为：检测向第二电子设备发送的第一SSID对应的第一报文，解析第一报文，从第一报文中解析出第一入网配置信息。由于手机200从自身数据库中获取IP地址的速度较快，因此，第一策略较优。而从较远处的云端服务器需要花费一定时间，及时性较差，相比于第一策略较差。而第三策略中，检测到报文具有随机性，可能能很快检测到报文，也可能长时间检测不到报文，及时性较差。因此，在电子设备获取前述第一IP地址的过程中，优先选用第一策略，然后是第二策略，其次是第三策略。这样，可以在提高将电子设备接入无线网络的成功率的基础上，提高将电子设备成功接入网络的速度，提高用户体验。例如，手机200可以更换使用优先级更高的手机200获取第一入网配置信息中的IP地址将手机200接入连接A网络的策略。示例性的，若当前使用的是上述第二策略，更换后的策略可以是第一策略。提高获取的IP地址与网络接入设备提供的IP地址的相同概率，进而提高手机200接入网络的成功率。S1003、手机200按照确定的方式尝试将手机200接入连接A网络。下面介绍实施例2。图11示出了一种无线网络连接方法的流程示意图。如图11所示，该流程包括如下步骤：S1101、手机200检测到DHCP过程中连接A网络失败，检测无线路由器100广播的报文，从报文中获取第一入网配置信息。S1101与S701除第一入网配置信息获取方式不同外，S1101与S701的其他特征相同，在此不再赘述。可以理解，手机200检测到DHCP过程中连网失败，可以不再执行DHCP过程，即不从无线路由器100请求入网配置信息，而是从云端服务器中获取入网配置信息。这样，手机200便可以基于从数据库中获取的入网配置信息，尝试接入网络。云端服务器中的数据库中存储路由器的信息与入网配置信息的对应表。手机200获取到路由器的信息，便可以基于路由器的信息从云端服务器中的数据库中的对应表中查询到第一入网配置信息。路由器信息可以包括路由器厂商和/或路由器的型号。第一入网配置信息可以包括默认SSID、网关地址、网络前缀长度、DNS地址、IP地址段。云端服务器中的数据库中存储的路由器的信息的来源可以是，手机200从路由器广播的信标帧中获取。路由器型号、路由器的名称、路由器的MAC地址、路由器厂商均可在Beacon帧中获取。Beacon帧为AP周期向周边设备广播发出，容易被手机200获取。Beacon帧中包括路由器型号特征值、AP的SSID、BSSID和路由器厂商特征值。路由器型号特征值、AP的SSID、BSSID和路由器厂商特征值分别用于表示路由器型号、路由器的名称、路由器的MAC地址和路由器厂商。以路由器厂商为TP-LINK为例，TP-LINK公司对应组织唯一标识符。手机200可以基于第一入网配置信息，再次尝试接入网络。可以理解，手机200检测到DHCP过程中连网失败，可以不再执行DHCP过程，即不从无线路由器100请求入网配置信息，而是检测目标路由器广播的空口报文，从报文中解析并获取入网配置信息。这样，手机200便可以基于从数据库中获取的入网配置信息，尝试接入网络。具体的，由于DHCP DISCOVER报文及DHCP REQUEST报文为广播报文，手机200可以检测路由器在DHCP DISCOVER阶段及DHCP REQUEST阶段广播的DHCP DISCOVER报文和DHCPREQUEST报文。如前文所述，DHCP REQUEST报文中包含入网配置信息，因此，手机200可以从DHCP REQUEST报文中解析并获取入网配置信息。对于可开放式热点，手机200可以直接解析DHCP DISCOVER报文和DHCP REQUEST报文，并从中获取入网配置信息。对于加密热点，在已知热点SSID及密码的情况下，可以基于热点SSID及密码，破解DHCP DISCOVER报文和DHCP REQUEST报文，并从中获取入网配置信息。可以理解，手机200通过检测报文的方式获取到的入网配置信息包括无线路由器的服务集标识、服务器分配的IP地址、子网掩码、路由器地址、域名服务器地址和服务器地址。S1202、手机200基于第一入网配置信息中的IP地址信息确定第二入网配置信息。S1202与S702的技术方案相同，在此不再赘述。可以理解，一般情况下，网络接入设备给其他电子设备随机分配的IP地址，供该其他电子设备使用，手机200无法使用其他电子设备使用的IP地址。因此，手机200不将检测无线路由器100广播的报文得到的IP地址直接连接网络，而是将检测无线路由器100广播的报文得到的IP地址，依次加1的方式尝试连接网络，得到可以连接网络的IP地址的概率较大。这样，可以提高手机200接入网路的成功率。S1203、手机200基于第二入网配置信息将手机200接入网络，判断手机200是否接入网络。S1103与S703的技术方案相同，在此不再赘述。S1204、手机200计算尝试连接A网络的次数。S1204与S704的技术方案相同，在此不再赘述。S1205、手机200判断尝试连接A网络的次数是否大于接入次数上限。S1205与S705的技术方案相同，在此不再赘述。若尝试连接A网络的次数较多，则表明继续用S1202至S1203的方法将手机200接入网络的失败率较高,为了省去不必要的连网功耗，可以直接结束。即手机200中设定有最大重试次数，在最大重试次数内，连网失败，则结束。具体的，手机200判断尝试连接A网络的次数是否大于接入次数上限。若手机200判断连接A网络的次数大于接入次数上限，则结束。若手机200判断连接A网络的次数小于等于接入次数上限，则继续循环执行S1202至S1203，继续尝试将手机200接入网络。若尝试连接A网络的次数较多，则表明继续用S1202至S1203的方法将手机200接入网络的失败率较高。为了提高手机200接入网络的成功率，可以在确定连接A网络失败的原因，重新调整连接策略。手机200中设定有最大重试次数，在最大重试次数内，根据失败类型进行相应参数变化后，进行重连。即在其他实施例中，为了更进一步提高手机200接入无线网络的成功率，手机200在尝试接入次数上限的情况下，仍然连网失败的情况下，可以确定连接A网络失败的原因，重新调整连接策略。具体的，手机200在判断连接A网络失败的次数大于接入次数上限的情况下，可以确定连接A网络失败的原因，根据连接A网络失败的原因类型的不同重新调整连接策略。具体的策略调整方式见上文中图10的描述，在此不再赘述。下面介绍实施例4。在一些实施例中，手机200也可以按照策略的优先级依次执行上述策略。由于手机200从自身数据库中获取入网配置信息的速度较快，因此，策略1较优。而从较远处的云端服务器需要花费一定时间，及时性较差，相比于策略1较差。而策略3中，检测到报文具有随机性，可能能很快检测到报文，也可能长时间检测不到报文，及时性较差。因此，在手机200获取前述第一入网配置信息的过程中，优先选用策略1，然后是策略2，其次是策略3。下面将具体介绍。图13示出了一种无线网络连接方法的流程示意图。如图13所示，该流程包括如下步骤：S1301、手机200检测到DHCP过程中连网失败，从手机200中的数据库中获取第一入网配置信息。S1302、手机200基于第一入网配置信息中的IP地址信息确定第二入网配置信息。S1303、手机200基于第二入网配置信息将手机200接入网络，判断手机200是否接入网络。由于第二入网配置信息并不一定是无线路由器100在DHCP过程中随机发送的入网配置信息，因此，可能存在手机200接入成功或失败的连接结果。于是，手机200可以基于第二入网配置信息将手机200接入网络，判断手机200是否接入网络。若手机200未成功接入网络，则继续基于新的入网配置信息尝试将手机200接入网络，即执行S1302至S1303。若手机200成功接入网络，则结束。S1304、手机200计算尝试连接A网络的次数。手机200计算尝试连接A网络的次数，便于手机200后续判断是否还需要再继续使用S1302至S1303的方法将手机200接入网络。S1305、手机200判断尝试连接A网络的次数是否大于接入次数上限。若尝试连接A网络的次数较多，则表明继续用S1302至S1303的方法将手机200接入网络的失败率较高。为了提高手机200接入网络的成功率，可以重新调整连接策略,更改连网策略，使用较优的策略2连网。具体的，手机200在判断尝试连接A网络的次数大于接入次数上限的情况下，使用较优的策略2连网，具体详见S1306至S1310。S1306、手机200检测到DHCP过程中连接A网络失败，从云端服务器中的数据库中获取第一入网配置信息。可以理解，由于第一入网配置信息的来源不同，该步骤中的第一入网配置信息中的IP地址可以与S1301中的第一入网配置信息的IP地址相同，也可以不相同。S1307、手机200基于第一入网配置信息中的IP地址信息确定第二入网配置信息。S1308、手机200基于第二入网配置信息将手机200接入A网络，判断手机200是否接入A网络。S1309、手机200计算尝试连接A网络的次数。手机200计算尝试连接A网络的次数，便于手机200后续判断是否还需要再继续使用S1307至S1308的方法将手机200接入网络。而且，该步骤中，计算的尝试连接A网络的次数是指S1307至S1308中尝试连接A网络的次数。S1310、手机200判断尝试连接A网络的次数是否大于接入次数上限。若尝试连接A网络的次数较多，则表明继续用S1307至S1308的方法将手机200接入网络的失败率较高。为了提高手机200接入网络的成功率，可以重新调整连接策略,更改连网策略，使用较优的策略3连网。具体的，手机200在判断尝试连接A网络的次数大于接入次数上限的情况下，使用较优的策略3连网，具体详见S1311至S1315。S1311、手机200检测到DHCP过程中连接A网络失败，检测无线路由器100广播的报文，从报文中获取第一入网配置信息。可以理解，由于第一入网配置信息的来源不同，该步骤中的第一入网配置信息中的IP地址可以与S1301和S1306中的第一入网配置信息的IP地址相同，也可以不相同。S1312、手机200基于第一入网配置信息中的IP地址信息确定第二入网配置信息。S1313、手机200基于第二入网配置信息将手机200接入A网络，判断手机200是否接入A网络。S1314、手机200计算尝试连接A网络的次数。而且，该步骤中，计算的尝试连接A网络的次数是指S1312至S1313中尝试连接A网络的次数。S1315、手机200判断尝试连接A网络的次数是否大于接入次数上限。若尝试连接A网络的次数较多，则表明继续用S1312至S1213的方法将手机200接入网络的失败率较高,为了省去不必要的连网功耗，可以直接结束。即手机200中设定有最大重试次数，在最大重试次数内，连网失败，则结束。具体的，手机200判断尝试连接A网络的次数是否大于接入次数上限。若手机200判断连接A网络的次数大于接入次数上限，则结束。若手机200判断连接A网络的次数小于等于接入次数上限，则继续循环执行S1312至S1313，继续尝试将手机200接入网络。若尝试连接A网络的次数较多，则表明继续用S1312至S1313的方法将手机200接入网络的失败率较高。为了提高手机200接入网络的成功率，可以在确定连接A网络失败的原因，重新调整连接策略。手机200中设定有最大重试次数，在最大重试次数内，根据失败类型进行相应参数变化后，进行重连。即在其他实施例中，为了更进一步提高手机200接入无线网络的成功率，手机200在尝试接入次数上限的情况下，仍然连网失败的情况下，可以确定连接A网络失败的原因，重新调整连接策略。具体的，手机200在判断连接A网络失败的次数大于接入次数上限的情况下，可以确定连接A网络失败的原因，根据连接A网络失败的原因类型的不同重新调整连接策略。具体的策略调整方式见上文中图10的描述，在此不再赘述。图14示出了一种无线网络连接模块示意图。该无线网络连接模块可以设置于手机200中。如图14所示，手机200包括DHCP结果检测模块、自愈参数获取模块、自愈重连模块和自愈结果探测模块。DHCP结果检测模块：该模块用于检测电子设备连接AP热点的结果，连接AP热点的结果可以是连接AP热点成功或失败。若检测到连接AP热点失败，或多次失败，则调用自愈参数获取模块。自愈参数获取模块：该模块提供三种IP地址获取策略。该3种IP地址获取方式参见上面描述，在此不再赘述。例如，自愈参数获取模块将策略1至3依次进行，将获取到的IP地址段按照策略优先级排序，输入至自愈重连模块。自愈重连模块：该模块将接收到的IP地址参数依次进行静态IP连接尝试直至连接成功或达到最大重试次数。连接方式见上面描述，在此不再赘述。自愈结果探测模块：该模块在自愈重连后主动进行重连结果探测，探测结果包括是否连接到目标AP。该模块还可以在尝试接入次数上限的情况下，仍然连网失败的情况下，确定连接A网络失败的原因，重新调整连接策略。具体方案见上述图10的描述，在此不再赘述。本申请实施例还提供一种计算机可读存储介质，该计算机存储介质包括计算机指令，当所述计算机指令在上述移动终端上运行时，使得该移动终端执行上述方法实施例中手机200执行的各个功能或者步骤。本申请实施例还提供一种计算机程序产品，当所述计算机程序产品在计算机上运行时，使得所述计算机执行上述方法实施例中手机200执行的各个功能或者步骤。该计算机可以是上述移动终端。本申请公开的机制的各实施例可以被实现在硬件、软件、固件或这些实现方法的组合中。本申请的实施例可实现为在可编程系统上执行的计算机程序或程序代码，该可编程系统包括至少一个处理器、存储系统、至少一个输入设备以及至少一个输出设备。可将程序代码应用于输入指令，以执行本申请描述的各功能并生成输出信息。可以按已知方式将输出信息应用于一个或多个输出设备。为了本申请的目的，处理系统包括具有诸如例如数字信号处理器存储介质承载或存储在其上的指令，其可以由一个或多个处理器读取和执行。例如，指令可以通过网络或通过其他计算机可读存储介质分发。因此，机器可读存储介质可以包括用于以机器可读的形式存储或传播信息的任何机制，包括但不限于，软盘、光盘、光碟、只读存储器、磁光盘、只读存储器、随机存取存储器、可擦除可编程只读存储器、电可擦除可编程只读存储器、磁卡或光卡、闪存、或用于基于因特网以电、光、声或其他形式的传播信号来传播信息的有形的机器可读存储器。因此，机器可读存储介质包括适合于以机器可读的形式存储或传播电子指令或信息的任何类型的机器可读存储介质。在附图中，可以以特定布置和/或顺序示出一些结构或方法特征。然而，应该理解，可能不需要这样的特定布置和/或排序。而是，在一些实施例中，这些特征可以以不同于说明性附图中所示的方式和/或顺序来布置。另外，在特定图中包括结构或方法特征并不意味着暗示在所有实施例中都需要这样的特征，并且在一些实施例中，可以不包括这些特征或者可以与其他特征组合。可以理解，本申请各设备实施例中提到的各单元/模块都是逻辑单元/模块，在物理上，一个逻辑单元/模块可以是一个物理单元/模块，也可以是一个物理单元/模块的一部分，还可以以多个物理单元/模块的组合实现，这些逻辑单元/模块本身的物理实现方式并不是最重要的，这些逻辑单元/模块所实现的功能的组合才是解决本申请所提出的技术问题的关键。此外，为了突出本申请的创新部分，本申请上述各设备实施例并没有将与解决本申请所提出的技术问题关系不太密切的单元/模块引入，这并不表明上述设备实施例并不存在其它的单元/模块。可以理解，在本专利的示例和说明书中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。虽然通过参照本申请的某些优选实施例，已经对本申请进行了图示和描述，但本领域的普通技术人员应该明白，可以在形式上和细节上对其作各种改变，而不偏离本申请的精神和范围。
