标题title
控制方法及电子设备
摘要abst
本申请公开了一种控制方法及电子设备，该方法包括：基于电力输入端的输入功率和负载的功耗，确定电子设备能够提供给多个储能单元进行充电的盈余功率；基于第一比例系数、第二比例系数和盈余功率，确定能够使多个储能单元基于相同的充电速率进行充电的多个目标输出功率；基于各个目标输出功率，控制相对应的适配单元输出电力，为负载和相对应的储能单元供电。如此，能够根据电力输入端的输入功率和负载的功耗的动态变化，实时调整各个适配单元的实时输出功率，使多个储能单元基于相同或基本相同的充电速率进行充电，有益于延缓储能单元的老化速度。
权利要求书clms
1.一种控制方法，应用于电子设备，其特征在于，所述电子设备包括负载、多个储能单元以及与所述储能单元一一对应的多个适配单元，多个所述适配单元的输入端均与所述电子设备的电力输入端连接，所述适配单元的输出端分别与所述负载和相对应的储能单元连接，所述方法包括：基于所述电力输入端的输入功率和所述负载的功耗，确定所述电子设备能够提供给多个所述储能单元进行充电的盈余功率；基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元基于相同的充电速率进行充电的多个目标输出功率；其中，所述第一比例系数用于表征多个所述储能单元的目标容量之间的比例关系；所述第二比例系数用于表征多个所述适配单元为所述负载供电的供电功率之间的比例关系；基于各个所述目标输出功率，控制相对应的所述适配单元输出电力，为所述负载和相对应的所述储能单元供电。2.根据权利要求1所述的控制方法，其特征在于，所述基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元基于相同的充电速率进行充电的多个目标输出功率，包括：基于所述第一比例系数和所述盈余功率，确定各个所述储能单元的目标充电功率；其中，多个所述储能单元的目标充电功率之间的比例关系与多个所述储能单元的目标容量之间的比例关系相匹配；基于所述第二比例系数和所述负载的功耗，确定各个所述适配单元为所述负载供电的目标供电功率；基于所述目标充电功率和所述目标供电功率，确定所述适配单元的目标输出功率。3.根据权利要求2所述的控制方法，其特征在于，所述基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元基于相同的充电速率进行充电的多个目标输出功率，还包括：基于各个所述储能单元的额定容量或空闲容量，确定所述第一比例系数。4.根据权利要求1所述的控制方法，其特征在于，所述基于所述电力输入端的输入功率和所述负载的功耗，确定所述电子设备能够提供给多个所述储能单元进行充电的盈余功率，包括：确定各个所述储能单元的充电速率；在任意两个所述储能单元的充电速率之间的差值大于第一目标阈值的情况下，基于所述电力输入端的输入功率和所述负载的功耗，确定所述盈余功率。5.根据权利要求4所述的控制方法，其特征在于，所述确定各个所述储能单元的充电速率，包括：确定所述负载的功耗是否大于第二目标阈值；在所述负载的功耗大于第二目标阈值的情况下，确定各个所述储能单元的充电速率。6.一种电子设备，其特征在于，包括：负载；多个储能单元；多个适配单元，与所述储能单元一一对应，多个所述适配单元的输入端均与所述电子设备的电力输入端连接，所述适配单元输出端分别与所述负载和相对应的所述储能单元连接；控制器，分别与多个所述适配单元连接，所述控制器配置为：基于所述电力输入端的输入功率和所述负载的功耗，确定所述电子设备能够提供给多个所述储能单元进行充电的盈余功率；基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元基于相同的充电速率进行充电的多个目标输出功率；其中，所述第一比例系数用于表征多个所述储能单元的目标容量之间的比例关系；所述第二比例系数用于表征多个所述适配单元为所述负载供电的供电功率之间的比例关系；基于各个所述目标输出功率，控制相对应的所述适配单元输出电力，为所述负载和相对应的所述储能单元供电。7.根据权利要求6所述的电子设备，其特征在于，所述控制器具体配置为：基于所述第一比例系数和所述盈余功率，确定各个所述储能单元的目标充电功率；其中，多个所述储能单元的目标充电功率之间的比例关系与多个所述储能单元的目标容量之间的比例关系相匹配；基于所述第二比例系数和所述负载的功耗，确定各个所述适配单元为所述负载供电的目标供电功率；基于所述目标充电功率和所述目标供电功率，确定所述适配单元的目标输出功率。8.根据权利要求7所述的电子设备，其特征在于，所述控制器还配置为：基于各个所述储能单元的额定容量或空闲容量，确定所述第一比例系数。9.根据权利要求6所述的电子设备，其特征在于，所述控制器具体配置为：确定各个所述储能单元的充电速率；在任意两个所述储能单元的充电速率之间的差值大于第一目标阈值的情况下，基于所述电力输入端的输入功率和所述负载的功耗，确定所述盈余功率。10.根据权利要求6所述的电子设备，其特征在于，所述控制器具体配置为：确定所述负载的功耗是否大于第二目标阈值；在所述负载的功耗大于第二目标阈值的情况下，确定各个所述储能单元的充电速率。
说明书desc
技术领域本申请涉及电子设备技术领域，特别涉及一种控制方法及电子设备。背景技术随着电子设备相关技术发展，越来越多的电子设备采用多个电池的设计，多个电池可根据空间及使用需求灵活配置电池容量和尺寸，以提高电子设备设计、生产及使用环节的灵活性。通常情况下，电子设备针对多个电池容量不同的电池，一一对应的配置多个适配单元。多个适配单元按照固定电流比例输出电力，多个适配单元共同为负载供电同时，还分别为相对应的电池充电。但是，在实际充电过程中，负载的功耗可能是动态变化的，供电功率也可能是动态变化的，导致适配单元提供给相对应的电池的充电功率也是动态变化的，很容易导致多个电池的充电速度不同。长此以往，会容易造成其中部分电池老化较快。发明内容针对上述技术问题，本申请提供一种控制方法及电子设备，本申请的技术方案如下所示。本申请第一方面提供了一种控制方法，应用于电子设备，所述电子设备包括负载、多个储能单元以及与所述储能单元一一对应的多个适配单元，多个所述适配单元的输入端均与所述电子设备的电力输入端连接，所述适配单元的输出端分别与所述负载和相对应的储能单元连接，所述方法包括：基于所述电力输入端的输入功率和所述负载的功耗，确定所述电子设备能够提供给多个所述储能单元进行充电的盈余功率；基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元基于相同的充电速率进行充电的多个目标输出功率；其中，所述第一比例系数用于表征多个所述储能单元的目标容量之间的比例关系；所述第二比例系数用于表征多个所述适配单元为所述负载供电的供电功率之间的比例关系；基于各个所述目标输出功率，控制相对应的所述适配单元输出电力，为所述负载和相对应的所述储能单元供电。在一些实施例中，所述基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元基于相同的充电速率进行充电的多个目标输出功率，包括：基于所述第一比例系数和所述盈余功率，确定各个所述储能单元的目标充电功率；其中，多个所述储能单元的目标充电功率之间的比例关系与多个所述储能单元的目标容量之间的比例关系相匹配；基于所述第二比例系数和所述负载的功耗，确定各个所述适配单元为所述负载供电的目标供电功率；基于所述目标充电功率和所述目标供电功率，确定所述适配单元的目标输出功率。在一些实施例中，所述基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元基于相同的充电速率进行充电的多个目标输出功率，还包括：基于各个所述储能单元的额定容量或空闲容量，确定所述第一比例系数。在一些实施例中，所述基于所述电力输入端的输入功率和所述负载的功耗，确定所述电子设备能够提供给多个所述储能单元进行充电的盈余功率，包括：确定各个所述储能单元的充电速率；在任意两个所述储能单元的充电速率之间的差值大于第一目标阈值的情况下，基于所述电力输入端的输入功率和所述负载的功耗，确定所述盈余功率。在一些实施例中，所述确定各个所述储能单元的充电速率，包括：确定所述负载的功耗是否大于第二目标阈值；在所述负载的功耗大于第二目标阈值的情况下，确定各个所述储能单元的充电速率。本申请第二方面提供了一种电子设备，包括：负载；多个储能单元；多个适配单元，与所述储能单元一一对应，多个所述适配单元的输入端均与所述电子设备的电力输入端连接，所述适配单元输出端分别与所述负载和相对应的所述储能单元连接；控制器，分别与多个所述适配单元连接，所述控制器配置为：基于所述电力输入端的输入功率和所述负载的功耗，确定所述电子设备能够提供给多个所述储能单元进行充电的盈余功率；基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元基于相同的充电速率进行充电的多个目标输出功率；其中，所述第一比例系数用于表征多个所述储能单元的目标容量之间的比例关系；所述第二比例系数用于表征多个所述适配单元为所述负载供电的供电功率之间的比例关系；基于各个所述目标输出功率，控制相对应的所述适配单元输出电力，为所述负载和相对应的所述储能单元供电。在一些实施例中，所述控制器具体配置为：基于所述第一比例系数和所述盈余功率，确定各个所述储能单元的目标充电功率；其中，多个所述储能单元的目标充电功率之间的比例关系与多个所述储能单元的目标容量之间的比例关系相匹配；基于所述第二比例系数和所述负载的功耗，确定各个所述适配单元为所述负载供电的目标供电功率；基于所述目标充电功率和所述目标供电功率，确定所述适配单元的目标输出功率。在一些实施例中，所述控制器还配置为：基于各个所述储能单元的额定容量或空闲容量，确定所述第一比例系数。在一些实施例中，所述控制器具体配置为：确定各个所述储能单元的充电速率；在任意两个所述储能单元的充电速率之间的差值大于第一目标阈值的情况下，基于所述电力输入端的输入功率和所述负载的功耗，确定所述盈余功率。在一些实施例中，所述控制器具体配置为：确定所述负载的功耗是否大于第二目标阈值；在所述负载的功耗大于第二目标阈值的情况下，确定各个所述储能单元的充电速率。本申请实施例的控制方法，基于所述电力输入端的输入功率和所述负载的功耗，确定所述电子设备能够提供给多个所述储能单元进行充电的盈余功率；基于第一比例系数、第二比例系数和盈余功率，确定各个所述适配单元的目标输出功率；基于各个所述目标输出功率，控制相对应的所述适配单元输出电力，为所述负载和相对应的所述储能单元供电。如此，能够根据电力输入端的输入功率和负载的功耗的动态变化，实时调整各个适配单元的实时输出功率，使多个储能单元基于相同或基本相同的充电速率进行充电，有益于延缓储能单元的老化速度。附图说明图1为本申请实施例的电子设备的结构框图。图2为本申请实施例的控制方法的流程图。图3为本申请实施例的控制方法中步骤S210的流程图。图4为本申请实施例的控制方法中步骤S220的流程图。具体实施方式此处参考附图描述本申请的各种方案以及特征。应理解的是，可以对此处申请的实施例做出各种修改。因此，上述说明书不应该视为限制，而仅是作为实施例的范例。本领域的技术人员将想到在本申请的范围和精神内的其他修改。包含在说明书中并构成说明书的一部分的附图示出了本申请的实施例，并且与上面给出的对本申请的大致描述以及下面给出的对实施例的详细描述一起用于解释本申请的原理。通过下面参照附图对给定为非限制性实例的实施例的优选形式的描述，本申请的这些和其它特性将会变得显而易见。当结合附图时，鉴于以下详细说明，本申请的上述和其他方面、特征和优势将变得更为显而易见。此后参照附图描述本申请的具体实施例；然而，应当理解，所申请的实施例仅仅是本申请的实例，其可采用多种方式实施。熟知和/或重复的功能和结构并未详细描述以避免不必要或多余的细节使得本申请模糊不清。因此，本文所申请的具体的结构性和功能性细节并非意在限定，而是仅仅作为权利要求的基础和代表性基础用于教导本领域技术人员以实质上任意合适的详细结构多样地使用本申请。本说明书可使用词组“在一种实施例中”、“在另一个实施例中”、“在又一实施例中”或“在其他实施例中”，其均可指代根据本申请的相同或不同实施例中的一个或多个。本申请实施例提供了一种控制方法，应用于电子设备，所述电子设备包括但不限于笔记本电脑、平板电脑、智能手机及智能汽车等等。参见图1所示，所述电子设备包括负载104、多个储能单元103以及与所述储能单元103一一对应的多个适配单元102，多个所述适配单元102的输入端均与所述电子设备的电力输入端101连接，所述适配单元102的输出端分别与所述负载104和相对应的储能单元103连接。图2为本申请实施例的控制方法的流程图，参见图2所示，本申请实施例的控制方法具体可包括如下步骤。S210，基于所述电力输入端101的输入功率和所述负载104的功耗，确定所述电子设备能够提供给多个所述储能单元103进行充电的盈余功率。可选的，所述输入功率可为所述电力输入端101的实时输入功率或电子设备的电源适配器的额定功率，所述负载104的功耗可为负载104的实时功耗。在获取到所述输入功率和功耗的情况下，可将所述输入功率和所述功耗的差值作为所述盈余功率。例如，在所述电子设备的电源适配器的额定功率为65W，负载104的实时功耗为15W的情况下，所述盈余功率为50W。可选的，可通过多种方式获取所述电力输入端101的输入功率和所述负载104的功耗。例如，可通过控制器105执行所述控制方法，所述控制器105可通过与电源适配器交互，以获取所述电源适配器的额定功率。所述电子设备还可包括供电单元，所述供电单元的输入端分别与多个所述适配单元102连接，所述供电单元的输出端可与负载104连接。所述供电单元可用于从各个所述适配单元102接受电力，利用所述电力为所述负载104供电。所述控制器105可与所述供电单元连接，所述控制器105可通过与所述供电单元交互以获取所述负载104的功耗。还例如，可通过控制器105执行所述控制方法。所述电子设备可具有电源管理芯片，所述控制器105可与所述电源管理芯片连接，所述控制器105可从所述电源管理芯片获取所述电力输入端101的输入功率和所述负载104的功耗。又例如，可通过控制器105执行所述控制方法，所述控制器105可通过第一检测电路来检测电力输入端101的电力参数，确定所述电力输入端101的实时输入功率。所述控制器105还可通过第二检测电路来检测负载104的供电参数，以确定所述负载104的功耗。S220，基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元103基于相同的充电速率进行充电的多个目标输出功率。其中，所述第一比例系数用于表征多个所述储能单元103的目标容量之间的比例关系。所述第二比例系数用于表征多个所述适配单元102为所述负载104供电的供电功率之间的比例关系。可选的，所述目标容量包括但不限于所述储能单元103的额定容量或空闲容量。例如，可基于多个所述储能单元103的比例确定所述第一比例系数。还例如，可基于多个所述储能单元103的实时空闲容量的比例，确定所述第一比例系数。可选的，所述第一比例系数和所述第二比例系数均可为预先设定的比例系数。例如，控制器105可从目标寄存器中获取所述第一比例系数和所述第二比例系数。可选的，也可实时计算所述第一比例系数和所述第二比例系数。例如，控制器105可获取多个所述储能单元103的额定容量，基于多个所述储能单元103的额定容量的比值确定所述第一比例系数。可选的，在获取到所述第一比例系数、第二比例系数、盈余功率和负载104功耗的情况下，可通过所述控制器105确定各个所述适配单元102的目标输出功率。所述目标输出功率可用于使多个储能单元103以相同或基本相同的充电速率进行供电。也即，多个所述适配单元102的实际输出功率与相对应的目标输出功率相同或无限接近时，多个所述储能单元103能够以相同或基本相同的充电速率充电。S230，基于各个所述目标输出功率，控制相对应的所述适配单元102输出电力，为所述负载104和相对应的所述储能单元103供电。可选的，所述适配单元102可为电源芯片，所述控制器105可将所述目标输出功率写入所述电源芯片。通过所述电源芯片基于所述目标输出功率控制自身的实际输出功率，使实际输出功率无限接近所述目标输出功率。在多个适配单元12共同为负载104供电的同时，能够确保各个储能单元103以相同或基本相同的充电速率充电。本申请实施例的控制方法，基于所述电力输入端101的输入功率和所述负载104的功耗，确定所述电子设备能够提供给多个所述储能单元103进行充电的盈余功率；基于第一比例系数、第二比例系数和盈余功率，确定各个所述适配单元102的目标输出功率；基于各个所述目标输出功率，控制相对应的所述适配单元102输出电力，为所述负载104和相对应的所述储能单元103供电。如此，能够根据电力输入端101的输入功率和负载104的功耗的动态变化，实时调整各个适配单元102的实时输出功率，使多个储能单元103基于相同或基本相同的充电速率进行充电，有益于延缓储能单元103的老化速度。配合图3所示，在一些实施例中，步骤S210，基于所述电力输入端101的输入功率和所述负载104的功耗，确定所述电子设备能够提供给多个所述储能单元103进行充电的盈余功率，可包括如下步骤。S211，确定所述负载104的功耗是否大于第二目标阈值。如果是，则执行步骤S212。如果否，则继续执行步骤S211。S212，确定各个所述储能单元103的充电速率。S213，确定各个所述储能单元103的充电速率之间的差值是否大于第一目标阈值。如果是，则执行步骤S214。如果否，则执行步骤S211。S214，基于所述电力输入端101的输入功率和所述负载104的功耗，确定所述盈余功率。可选的，所述第二目标阈值可用于表征所述电子设备的负载104处于运行状态。如果负载104处于非运行状态下不耗电，则可将第二目标阈值设置为零。如果负载104处于非运行状态下维持在非零且较低的功耗，则可将该较低的功耗设置在第二目标阈值。通过判断负载104的功耗是否大于第二目标阈值，可以确定负载104是否处于运行状态，进而可以确定负载104的功耗是否会出现波动，负载104是否会对储能单元103的充电速率造成影响。如果确定负载104处于非运行状态，则表明负载104不会对储能单元103的充电速率造成影响，可基于第一比例系数控制各个适配单元102的实时输出功率，就能够保证各个储能单元103基于相同或基本相同的充电速率进行充电。如果确定负载104处于运行状态，则负载104的功耗的动态变化可能造成储能单元103的充电速率不同步，可确定盈余功率。如此，在确保储能单元103能够基于相同或基本相同的充电速率进行充电的基础上，能够避免非必要的调控。配合图4所示，在一些实施例中，步骤S220，基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元103基于相同的充电速率进行充电的多个目标输出功率，可包括如下步骤。S221，基于所述第一比例系数和所述盈余功率，确定各个所述储能单元103的目标充电功率。其中，多个所述储能单元103的目标充电功率之间的比例关系与多个所述储能单元103的目标容量之间的比例关系相匹配。S222，基于所述第二比例系数和所述负载104的功耗，确定各个所述适配单元102为所述负载104供电的目标供电功率。S223，基于所述目标充电功率和所述目标供电功率，确定所述适配单元102的目标输出功率。在已确定所述盈余功率的基础上，可基于所述第一比例系数对所述盈余功率进行划分，以形成各个储能单元103的目标充电功率。所形成的各个储能单元103的目标充电功率之间的比例关系与多个所述储能单元103的目标容量之间的比例关系相匹配。可基于第二比例系数对所述负载104的功耗进行划分，以形成各个适配单元102的目标供电功率。例如，在所述第二比例系数表征多个所述适配单元102按照相同的供电功率为负载104供电的情况下，可将负载104的功耗进行平均划分作为各个适配单元102的目标供电功率。在确定目标充电功率和目标供电功率的情况下，可将目标充电功率和目标供电功率的总和作为适配单元102的目标输出功率。如此，能够准确确定适配单元102的目标输出功率，在满足负载104的供电需求的基础上，能够确保各个储能单元103基于相同或基本相同的充电速率进行充电。本申请实施例还提供了一种电子设备，所述电子设备包括但不限于笔记本电脑、平板电脑、智能手机及智能汽车等等。图1为本申请实施例的电子设备的结构框图，参见图1所示，所述电子设备包括负载104、多个储能单元103、多个适配单元102和控制器105。负载104可包括电子设备的各种用电部件。以电子设备为笔记本电脑为例，所述负载104包括但不限于中央处理器、图形处理器、南桥芯片组、内存、硬盘、散热器、主板等等。储能单元103可包括各种类型的电池、电池组及电容器等等。多个所述储能单元103可具有相同的额定容量，也可具有不同的额定容量。多个适配单元102与所述储能单元103一一对应，多个所述适配单元102的输入端均与所述电子设备的电力输入端101连接，所述适配单元102输出端分别与所述负载104和相对应的所述储能单元103连接。可选的，所述适配单元102可通过电路板上的适配电路形成，也可通过适配芯片形成。控制器105分别与多个所述适配单元102连接。可选的，所述控制器105包括但不限于嵌入式控制器、南桥芯片组或中央处理器等等。所述控制器105用于执行如上任一实施例所述的控制方法。具体的，所述控制器105配置为：基于所述电力输入端101的输入功率和所述负载104的功耗，确定所述电子设备能够提供给多个所述储能单元103进行充电的盈余功率；基于第一比例系数、第二比例系数和盈余功率，确定能够使多个所述储能单元103基于相同的充电速率进行充电的多个目标输出功率；其中，所述第一比例系数用于表征多个所述储能单元103的目标容量之间的比例关系；所述第二比例系数用于表征多个所述适配单元102为所述负载104供电的供电功率之间的比例关系；基于各个所述目标输出功率，控制相对应的所述适配单元102输出电力，为所述负载104和相对应的所述储能单元103供电。本申请实施例的电子设备，基于所述电力输入端101的输入功率和所述负载104的功耗，确定所述电子设备能够提供给多个所述储能单元103进行充电的盈余功率；基于第一比例系数、第二比例系数和盈余功率，确定各个所述适配单元102的目标输出功率；基于各个所述目标输出功率，控制相对应的所述适配单元102输出电力，为所述负载104和相对应的所述储能单元103供电。如此，能够根据电力输入端101的输入功率和负载104的功耗的动态变化，实时调整各个适配单元102的实时输出功率，使多个储能单元103基于相同或基本相同的充电速率进行充电，有益于延缓储能单元103的老化速度。在一些实施例中，所述控制器105具体配置为：基于所述第一比例系数和所述盈余功率，确定各个所述储能单元103的目标充电功率；其中，多个所述储能单元103的目标充电功率之间的比例关系与多个所述储能单元103的目标容量之间的比例关系相匹配；基于所述第二比例系数和所述负载104的功耗，确定各个所述适配单元102为所述负载104供电的目标供电功率；基于所述目标充电功率和所述目标供电功率，确定所述适配单元102的目标输出功率。在一些实施例中，所述控制器105还配置为：基于各个所述储能单元103的额定容量或空闲容量，确定所述第一比例系数。在一些实施例中，所述控制器105具体配置为：确定各个所述储能单元103的充电速率；在任意两个所述储能单元103的充电速率之间的差值大于第一目标阈值的情况下，基于所述电力输入端101的输入功率和所述负载104的功耗，确定所述盈余功率。在一些实施例中，所述控制器105具体配置为：确定所述负载104的功耗是否大于第二目标阈值；在所述负载104的功耗大于第二目标阈值的情况下，确定各个所述储能单元103的充电速率。以上实施例仅为本申请的示例性实施例，不用于限制本申请，本申请的保护范围由权利要求书限定。本领域技术人员可以在本申请的实质和保护范围内，对本申请做出各种修改或等同替换，这种修改或等同替换也应视为落在本申请的保护范围内。
