标题title
室内照明灯具及灯效配置方法、装置以及设备
摘要abst
本申请涉及一种室内照明灯具及灯效配置方法、装置以及设备，所述方法包括：获取适用于灯具中的第一灯组的第一灯效；根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效；将第一灯效和第二灯效封装为灯效应用数据传输至所述灯具。本申请方便用户高效快速地配置多个灯组的灯效，可释放灯具扩展灯组的能力，降低用户配置灯具的灯效的复杂度，能助推室内照明灯具的普及。
权利要求书clms
1.一种灯效配置方法，其特征在于，包括：获取适用于灯具中的第一灯组的第一灯效；根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效；将第一灯效和第二灯效封装为灯效应用数据传输至所述灯具。2.根据权利要求1所述的灯效配置方法，其特征在于，根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效，包括：确定第一灯效相对应的分类标签作为所述灯效属性数据；查询预设的数据库，确定所述分类标签相对应的多个候选灯效；将所述多个候选灯效显示至图形用户界面，获取用户选定的候选灯效作为第二灯组相适用的第二灯效。3.根据权利要求1所述的灯效配置方法，其特征在于，根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效，包括：确定第一灯效相对应的场景标签作为所述灯效属性数据；获取音频数据的节奏点分布特征，确定所述节奏点分布特征相对应的情绪标签；查询预设的数据库，确定与所述场景标签和所述情绪标签语义相匹配的灯效作为第二灯组相适用的第二灯效。4.根据权利要求1所述的灯效配置方法，其特征在于，根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效，包括：确定第一灯效的颜色数据作为所述灯效属性数据，所述颜色数据包含至少两种颜色的颜色值；根据所述颜色数据中的两种颜色的颜色值确定第二灯组相对应的灯效光谱；在所述灯效光谱中取色设定第二灯效的发光参数，以定义出第二灯组相适用的第二灯效。5.根据权利要求1所述的灯效配置方法，其特征在于，根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效，包括：确定第一灯效的主色调作为所述灯效属性数据；根据所述主色调确定第二灯组的第二灯效的发光参数相对应的可选数据；配置第二灯效的发光参数相对应的可编辑属性项，将所述可编辑属性项显示至灯效编辑界面，使所述可编辑选项关联其对应的可选数据；获取基于所述可编辑属性项选定的数据构成第二灯效的发光参数，以定义出第二灯组相适用的第二灯效。6.根据权利要求1至5中任意一项所述的灯效配置方法，其特征在于，获取适用于灯具中的第一灯组的第一灯效，包括：调用灯具中各个灯组相对应的链路描述信息，所述链路描述信息用于描述其所属灯组中各个光源节点的连接关系信息；根据所述各个灯组的链路描述信息生成相应的光源布局视图，显示至灯效编辑界面，所述光源布局视图包含根据每个灯组的链路描述信息生成的灯组图案；基于所述光源布局视图获取所述各个灯组中的第一灯组相适用的第一灯效，以用于生成所述各个灯组中的第二灯组相适用的第二灯效。7.根据权利要求6所述的灯效配置方法，其特征在于，将第一灯效和第二灯效封装为灯效应用数据传输至所述灯具，包括：根据第一灯效和第二灯效更新所述光源布局视图中的各个灯组图案，使所述各个灯组图案对应显示出第一灯效和第二灯效相应的灯光效果；响应配置应用指令，将第一灯效和第二灯效封装为灯效应用数据；将所述灯效应用数据传输至所述灯具的控制器中，驱动该控制器根据该灯效应用数据控制第一灯组和第二灯组相应播放第一灯效和第二灯效。8.一种灯效配置装置，其特征在于，包括：第一灯效获取模块，设置为获取适用于灯具中的第一灯组的第一灯效；第二灯效确定模块，设置为根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效；灯效传输应用模块，设置为将第一灯效和第二灯效封装为灯效应用数据传输至所述灯具。9.一种室内照明灯具，其特征在于，包括控制器和多个灯组，所述控制器用于接收如权利要求1至7中任意一项所述的方法所生成的灯效应用数据，根据所述灯效应用数据控制所述多个灯组播放相应的灯效。10.一种计算机设备，包括中央处理器和存储器，其特征在于，所述中央处理器用于调用运行存储于所述存储器中的计算机程序以执行如权利要求1至7中任意一项所述的方法的步骤。
说明书desc
技术领域本申请涉及照明控制领域，尤其涉及一种室内照明灯具及灯效配置方法、装置以及设备。背景技术室内照明灯具功能通常比较单一，一般只提供单色切换的功能。随着人们对生活品质的需求的提升，氛围灯设备应运而生。但氛围灯设备一般只服务于局部空间或者服务于某些特定需求，例如用于渲染游戏场景的氛围等。另一种满足人们需求的方案，是在室内照明灯具原有的基础上增加氛围灯，使室内照明灯具也能够具有渲染光线氛围的作用。众所周知，室内照明灯具通常是吸顶安装结构或壁挂式安装结构。室内照明灯具的特点通常是通过墙壁上的实体控键进行调节，但实体控键能够起到的调节效果非常有限，所以，即使在室内照明灯具上增设氛围灯，在用户使用便利度方面，依然导致消费者望而却步，不利于此类改进的室内照明灯具的普及。氛围灯设备在灯效控制方面具有更便捷的功能配套，但是，氛围灯设备通常是根据一定的数据源例如图像或类似的描述信息，通过计算机程序将图像或描述信息转换为相应的灯效指令来控制氛围灯发光实现的，其技术复杂度较高，无法直接迁移到此类改进的室内照明灯具中使用。有鉴于此，适应扩展了氛围灯功能的室内照明灯具的技术需求，本申请人对相关室内照明灯具的灯效控制技术做出必要的探索。发明内容本申请的目的在于提供一种室内照明灯具及灯效配置方法、装置以及设备。根据本申请的一个方面，提供一种灯效配置方法，包括：获取适用于灯具中的第一灯组的第一灯效；根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效；将第一灯效和第二灯效封装为灯效应用数据传输至所述灯具。根据本申请的另一方面，提供一种灯效配置装置，包括：第一灯效获取模块，设置为获取适用于灯具中的第一灯组的第一灯效；第二灯效确定模块，设置为根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效；灯效传输应用模块，设置为将第一灯效和第二灯效封装为灯效应用数据传输至所述灯具。根据本申请的另一方面，提供一种室内照明灯具，包括控制器和多个灯组，所述控制器用于接收如所述灯效配置方法所生成的灯效应用数据，根据所述灯效应用数据控制所述多个灯组播放相应的灯效。根据本申请的另一方面，提供一种计算机设备，包括中央处理器和存储器，所述中央处理器用于调用运行存储于所述存储器中的计算机程序以执行所述灯效配置方法的步骤。相对于现有技术，本申请具有多方面优势，包括但不限于：首先，灯具中的多个灯组，每个灯组都可以设定其相应的灯效，为提高灯效配置效率，本申请基于灯具中一个灯组相对应的第一灯效，关联于该第一灯效的灯效属性数据确定适用于灯具中另一灯组相对应的第二灯效，使第二灯效能够根据第一灯效生成，包括自动化生成或定制生成均可，从而，使第一灯效起到为第二灯效的生成提供引导参考信息的作用，由此提升第二灯效的生成效率，且使第二灯效与第一灯效能够保持光线氛围上的协调和谐关系，由此全面提升灯具灯效的配置效率，优化灯具的使用体验，使灯具更易普及推广。其次，本申请可使灯具中原本相互解耦可独立控制的各个灯组，通过灯效数据实现关联控制，即使灯具中的灯组数量较多，也可以借助本申请的技术方案，在确定第一灯效的基础上，根据第一灯效的灯效属性数据标准化地确定其它各个灯组的灯效，由此使灯具中多灯组的灯效配置更为简易，有效降低灯具灯效配置的复杂度，可释放灯具扩展灯组的能力而降低灯具生产环节的总体成本，并且由于本申请能统一各种携带不同数量灯组的灯具的配置方式，极大地扩展了灯具产品的用户管理通用性。此外，本申请由于简化了多个灯组之间的灯效关联配置的技术实现，更适于应用到具有多个灯组的室内照明灯具，尤其是包含了氛围灯和照明灯的室内照明灯具中，可丰富照明灯具的样态，使此类室内照明灯具更易于推广普及。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请示例性的灯具的电气结构示意图；图2为本申请实施例中的灯效配置方法的流程示意图；图3为本申请实施例中根据第一灯效的分类标签确定第二灯效的流程示意图；图4为本申请实施例中根据第一灯效的场景标签结合音频数据相对应的情绪标签确定第二灯效的流程示意图；图5为本申请实施例中根据第一灯效的颜色数据确定第二灯效的流程示意图；图6为本申请实施例中根据第一灯效的主色调确定第二灯效的流程示意图；图7为本申请实施例中根据链路描述信息生成光源布局视图以确定第一灯效和第二灯效的流程示意图；图8和图9均为本申请示例性的灯效编辑界面，分别展示用户配置过程中的不同环节，其中图8中示出用户选定了单个可选颜色作为相应的发光参数，图9示出用户完成渐变效果设置后的效果，图8和图9界面中部展示出光源布局视图，界面下部提供编辑区用于显示可编辑属性项；图10为本申请实施例中预览和应用灯效的流程示意图；图11为本申请实施例中的灯效配置装置的结构示意图；图12为本申请实施例中的计算机设备的结构示意图。具体实施方式请参阅图1，本申请一种实施例提供的一种室内照明灯具的结构示意图中可以看出，其包括控制器和多个灯组，多个灯组中，至少包括起照明灯作用的灯组和起氛围灯作用的灯组，其中，起照明灯作用的灯组可称为第一灯组或主灯组，起氛围灯作用的灯组可称为第二灯组或副灯组。第一灯组一般包含有至少一个光源节点，当然也可以包含多个光源节点；第二灯组通常包含有多个光源节点。第一灯组中的光源节点，通常具有较高的工作功率，其光线流明值通常也较高，能起到照射大范围空间的效果，其色光可相对简单配置，其光源节点总数可相对较少。第二灯组中的光源节点，由于起装点空间氛围的作用，因而，其工作功率相对于第一灯组的光源可以偏低配置，其光源节点总数可相对较多。室内照明灯具中的控制器通常包括控制芯片、通信组件以及总线接头。控制芯片可采用各种嵌入式芯片实现，例如蓝牙SoC、WiFi SoC、MCU、DSP等各种类型的芯片，控制芯片通常包括中央处理器和存储器，存储器和中央处理器分别用于存储和执行程序指令，以实现相应的功能。以上各种类型的控制芯片，可以自带通信组件，也可按需额外配置通信组件。通信组件可以用于与外部设备通信，例如，可以与个人计算机或各种智能手机之类的终端设备通信，以便用户通过其终端设备下达各种配置指令之后，控制器的控制芯片可以通过通信组件接收配置指令，完成基础配置，以便控制各个灯组工作。例如，控制器可以通过通信组件接收本申请的灯效应用数据，用于控制各个灯组播放相应的灯效。总线接头主要用于为接入总线的灯组接入电源并传输各种数据，因而对应提供电源总线和数据总线相对应的针脚。由此，当灯组需要接入控制器时，通过灯组相应的接头与总线接头连接即可。室内照明灯具中的各个灯组，视实际需要可以呈现各种各样的布局关系。如图1所示例的第一灯组的光源节点可以布置在室内照明灯具的中央区域，而第二灯组的光源节点则布置在该中央区域的周围，形成同心布置的效果，以便中央区域的第一灯组可以集中辐射照明光线，再由中央区域周围的第二灯组渲染特定的光线氛围。每个灯组都可以采用发光灯带实施，发光灯带是由一个或多个光源节点构成的灯带。当发光灯带中具有多个光源节点时，各个光源节点之间有序连接而限定出发光链路。当然，发光灯带只有单个光源节点时也同样可视为构成一个发光链路。无论如何，同一发光链路由接入总线的同一组线缆传输工作电流。具有多个光源节点的同一发光灯带的各个光源节点之间，在电性连接关系上，可以采用并联的方式进行连接。每个光源节点通常由负责发射不同色光的发光元件构成，该发光元件可以是LED灯。每个光源节点，也可以按需设置相应的控制芯片，该控制芯片可以按照前文所揭示进行选型，或者选取其它更为经济的控制芯片，其作用主要在于能够从控制器提供的灯效控制数据中提取出与本光源节点相对应的控制数据，控制本光源节点内的各个发光元件发出相应的色光。考虑到第一灯组和第二灯组分别侧重起到照明和氛围装饰的作用，第一灯组中的光源节点的发光元件构成可以不同于第二灯组中光源节点的发光元件构成，例如，第一灯组中的光源节点可以是包含发射冷色光和/或暖色光的发光元件，而第二灯组中的光源则可以是包含发射红、绿、蓝、白等色光的发光元件。可见，各个灯组可以视其用途不同，而灵活实现其光源节点的电气结构，并不影响本申请的创造精神的体现。本申请的室内照明灯具，当其上电时，控制器的控制芯片可以从存储器中调用执行计算机程序，通过该计算机程序默认的初始化流程，为室内照明灯具上电并实现初始化，完成对各个灯组和其他硬件设备的驱动配置。一种实施例中，在启动室内照明灯具时，控制器可以先向各个灯组发送自检指令，驱动各个灯组的光源节点返回其在发光链路中的位置信息。由于每个光源节点都设置有相应的控制芯片用于与控制器中的控制芯片进行数据通信，因而可以按照串行通信协议，将光源节点自身的特征信息与其他光源节点的特征信息按序串接，实现对自身的位置信息的表征。控制器与光源节点之间执行的串行通信协议，可以是IIC、SPI、UART中任意一项。控制器从总线获得各个光源节点自检返回的结果数据后，对其进行解析，根据每个光源节点的特征信息在结果数据中的排序，便可确定各个光源节点在整个灯组相对应的发光链路中的位置，后续控制器在根据灯效应用数据构造灯效控制数据时，可以根据各个光源节点的位置信息生成各个光源节点相对应的控制数据。对于每个灯组来说，其各个光源节点的位置信息表示出各个光源节点相对应的连接关系信息，可以构成该灯组的发光链路相对应的链路描述信息，该链路描述信息可以存储在控制器中，也可以传输给外部设备使用，例如本申请的终端设备便可利用室内照明灯具中的各个灯组相对应的链路描述信息来生成光源布局视图。需要指出的是，当灯具中的灯组多于两个时，同样可以全部灯组中的一个作为第一灯组，而将其它每个灯组都分别作为第二灯组，按照本申请的配置方法，对每个第二灯组配置相应的灯效，使灯具不受其灯组数量的限制，而可以应用本申请的技术方案实现灯效配置。根据以上示例性的室内照明灯具的产品架构和工作原理，本申请的灯效配置方法，可以实现为计算机程序产品，运行于任意终端设备中，通过终端设备与室内照明灯具的控制器之间的通信，实现灯效配置和应用。请参阅图2，在一个实施例中，本申请的灯效配置方法，运行在适于与本申请的室内照明灯具通信连接的终端设备中，包括：步骤S5100、获取适用于灯具中的第一灯组的第一灯效；示例性的灯具，可以是一种室内照明灯具，适于以吸顶式或壁挂式安装在室内中，主要起到照明的功能，同时兼具渲染室内光线氛围的功能，用户可以按需选用其相应的功能。该灯具包含有多个灯组，例如示例性的两个灯组，即第一灯组和第二灯组，或者称为主灯组或副灯组。其中，第一灯组具有少量的光源节点，例如1至3个这样的光源节点；第二灯组具有数量相对较多的多个光源节点，例如10至20个光源节点。第一灯组中的光源节点，由于主要起照明作用，故其中每个光源节点可以负责可选地发射冷色光或暖色光，这样的光源节点可以仅包含发射黄色光和白色光的发光元件，设定其发射一种色光，便相当于设定了其对应的灯效，即第一灯效。第二灯组中的光源节点，优选能够通过红、绿、蓝等原色相对应的发光元件混合发射出各种期望的色光的光源节点，由此可以通过对各个光源节点设定各种原色的配色比例来确定出第二灯组相对应的第二灯效。当然，第一灯组中的光源节点，也可以选用与第二灯组相同的光源节点进行实施，甚至可以采用与第二灯组相同或相类似的构造，具体可根据成本和功能需求合理配置。灯具中的第一灯组的灯效，可以是在出厂时或在提供模板时便标准化设定的，也可以是由用户先行设定的，也即，第一灯效是与第一灯组相适用的，适于控制第一灯组播放相应的灯光效果的灯效，当其用于确定第二灯效时，是已完成设定的灯效。例如，一种实施例中，灯具在出厂时，便预先在其控制器中写入了第一灯组相对应的第一灯效，或者，当用户需要在终端设备中为该灯具确定第二灯效时，调用该灯具相对应的灯效模板，该灯效模板便预存有该灯具的第一灯组相对应的第一灯效。另一实施例中，用户可以先简单设置第一灯组相对应的第一灯效，例如，通过灯具的控键将第一灯组调节为冷色光或暖色光以设定其相应的第一灯效，或者，通过在终端设备中向用户开放第一灯组的第一灯效设定功能，先由用户设定该第一灯效。可见，第一灯效的获取方式灵活多样，可以按需实现。灯具获取第一灯效的方式也可以灵活实施，例如，一种实施例中，当控制器已经设定了第一灯组相对应的第一灯效，终端设备可以通过与灯具的控制器之间的通信链路，向控制器请求获得该第一灯效；另一实施例中，终端设备预存储有灯具历史应用的灯效应用数据，便可以从该灯效应用数据中解析确定出该灯具的第一灯组相适用的第一灯效。本申请中的灯效，包括前文所称的第一灯效和第二灯效，均可以标准化的预定格式进行描述，以形成相应的灯效描述数据。灯效描述数据通过多个发光参数定义出其所属的灯效的可视化呈现效果，通过对灯效描述数据进行解析转换，可以生成灯效播放过程中的多个播放帧相对应的画面描述数据，由此生成各个播放帧相对应的灯效控制数据。执行灯效描述数据到灯效控制数据的解析转换的业务逻辑，通常实现在灯具的控制器中，因而，所生成的灯效描述数据可以一定的格式封装发送到控制器中进行解析转换和应用。当然，在本申请的一些实施例中，适应在终端设备的光源布局视图中展现相应灯效的需要，也可以通过终端设备执行灯效描述数据到灯效控制数据的解析转换的业务逻辑，以便将各个播放帧的画面描述数据应用到光源布局视图中进行呈现。本申请中用于定义灯效的发光参数，视灯效的实现效果而规范其种类，例如，可以包括用于定义渐变效果的两个颜色参数、亮度参数等，也可以包括用于定义运动效果的运动参数、角度参数，诸如此类，并不影响本申请的创造精神的体现。灯具中，一般默认一个灯组作为灯具的第一灯组，在一些实施例中，也可以先提供让用户在灯具的多个灯组中选定其中一个灯组作为第一灯组的业务环节，通过灯效编辑界面提供灯具的多个灯组相对应的灯组列表，由用户选定其中一个灯组作为第一灯组，以便调用其相适用的第一灯效。由此可见，对于同一灯具而言，第一灯组是相对设定的，可以将灯具中的任意一个灯组指定为第一灯组，其余的任意一个灯组均可作为第二灯组进行灯效的配置。步骤S5200、根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效；在灯具的第一灯组的第一灯效已经设定的情况下，可以通过多种预先实现的方式，来关联于第一灯效的灯效属性数据确定第二灯带组相对应的第二灯效，以使第二灯效与第一灯效相配合呈现总体灯效，使总体灯效能够和谐地营造感官美学效果。第一灯效的灯效属性数据，为用于描述和定义第一灯效相关联的对应数据，通常在相应的灯效描述数据中预先给出或者关联给出，可以根据实际情况选定，包括但不限于第一灯效的分类标签、场景标签、情绪标签、颜色数据、根据颜色数据确定的主色调等任意之一均可。关于第二灯效与第一灯效的关联性，根据第一灯效的灯效属性数据选取不同，可以体现为多个方面，例如，第二灯效与第一灯效之间，在部分实施例中，可以基于彼此灯效所渲染的氛围相对应的情绪属性建立关联对应关系；在部分实施例中，可以基于彼此灯效所适用的场景建立关联对应关系；在部分实施例中，可以基于彼此预定义的分类信息建立关联对应关系；在部分实施例中，可以基于彼此的主色调建立关联对应关系；在部分实施例中，还可以借助外部媒介提供情绪属性结合第一灯效的某种灯效属性数据联合确定第二灯效。诸如此类，均可建立第二灯效与第一灯效的关联性，可以灵活实施。因难以穷举，仅举例说明。在根据第一灯效确定第二灯效的过程中，根据是否引入人机交互业务环节，可以表现为多种不同的实施例，例如：一些实施例中，根据第一灯效确定第二灯组的第二灯效的过程，可以是通过调用预设的灯效生成接口，由该灯效生成接口按照对应第二灯组预设的业务逻辑自动化生成的，期间全程无需人机交互即可实现，由此使第二灯效的生成达到最大效率。一些实施例中，根据第一灯效确定第二灯组的第二灯效的过程，包含有人机交互业务环节，终端设备根据第一灯效确定出一个或多个候选灯效，呈现给用户选择，再由用户选定其中之一作为第二灯效，通过向用户开放关于确定第二灯效的人机交互功能，提供第二灯效的个性化定制能力，使用户可以选取符合主观期望的目标灯效，从而提升用户使用体验。一些实施例中，根据第一灯效确定第二灯组的第二灯效的过程，包含有人机交互业务环节，终端设备根据第一灯效确定出部分需要用户设定的发光参数，用户对各个发光参数进行设定后，终端设备根据用户设定结果而构造出第二灯效。此类实施例除同样能提升用户使用体验得到用户期望的目标灯效外，还可细化灯效定制能力，使用户深度参与第二灯效的定制过程，得到更为精致的定制效果。根据以上所揭示的内容可见，关联于第一灯效确定第二灯效的实现方式非常灵活，但无论采取何种方式确定出第二灯效，在降低灯具总体灯效的定制难度的基础上，第二灯效均可保持与第一灯效相协调，由此生成的总体灯效在灯具中播放时，能够取得更为优质的展示效果。步骤S5300、将第一灯效和第二灯效封装为灯效应用数据传输至所述灯具。如前文所揭示，第一灯效和第二灯效在数据层面都可被表示为灯效描述数据，在此基础上，当确定出第二灯效之后，可以将第一灯效和第二灯效进一步按照预定的格式进行联合封装，具体可以是将第一灯效和第二灯效各自的灯效描述数据按照指定格式封装成灯效应用数据，使灯效应用数据具备同时描述第一灯组和第二灯组各自相对应的灯效的能力。生成灯效应用数据之后，可将灯效应用数据存储在终端设备中备用，或者上传到云端服务器中以备调用。此外，也需要将灯效应用数据发送到灯具的控制器中，以便控制器可以根据灯效应用数据控制第一灯组和第二灯组播放相应的灯效。更具体的一些实施例中，当确定出第二灯组的第二灯效并据此生成灯效应用数据之后，用户可以通过终端设备触发配置生效指令，包括通过按键控件、摇一摇、特定手势等预设方式进行该指令的触发均可。响应于该配置生效指令，便可以将全部各个灯组相对应的灯效描述数据封装为灯效应用数据，将该灯效应用数据传输至灯具的控制器以进行应用。灯具的控制器接收到终端设备传输过来的灯效应用数据之后，进行对应的解析，提取出其中的各个灯组相对应的灯效描述数据，然后，根据每个灯组的灯效中相对应的发光参数，确定该灯效的各个播放帧，基于每个播放帧对应确定相应灯组各个光源节点相对应的设定数据作为控制数据，然后对应每个灯组的每个播放帧，将相应灯组的各个光源节点的控制数据封装为同一灯效控制数据，发送至相应的灯组，由该灯组中的每个光源节点读取对应其自身的控制数据，控制其发光元件发射相应的光线，由此，便可通过该灯组中的各个光源节点协同播放各个播放帧，从而实现相应灯效的播放。不难理解，各个灯组均可以根据相同的方式，结合其对应的灯组灯效描述数据播放其各自的灯效。在一些为提升执行效率而提出的实施例中，对于例如前文示例的实体灯具中起照明作用的第一灯组的光源节点而言，可以是仅使其发射单一的冷色光或暖色光，据此，第一灯组的灯组灯效描述数据中也进行相应的描述，实体灯具的控制器根据这种描述，控制第一灯组的光源节点持续发射相应的冷色光或暖色光即可，无需转换播放帧的操作。也就是说，可以根据实际需要，主要对起氛围渲染作用的第二灯组的第二灯效进行灯效控制数据的转换和应用，而简化对第一灯组的相对应的灯效控制数据的配置过程。根据以上实施例可知，本申请具有多方面优势，包括但不限于：首先，灯具中的多个灯组，每个灯组都可以设定其相应的灯效，为提高灯效配置效率，本申请基于灯具中一个灯组相对应的第一灯效，关联于该第一灯效的灯效属性数据确定适用于灯具中另一灯组相对应的第二灯效，使第二灯效能够根据第一灯效生成，包括自动化生成或定制生成均可，从而，使第一灯效起到为第二灯效的生成提供引导参考信息的作用，由此提升第二灯效的生成效率，且使第二灯效与第一灯效能够保持光线氛围上的协调和谐关系，由此全面提升灯具灯效的配置效率，优化灯具的使用体验，使灯具更易普及推广。。其次，本申请可使灯具中原本相互解耦可独立控制的各个灯组，通过灯效数据实现关联控制，即使灯具中的灯组数量较多，也可以借助本申请的技术方案，在确定第一灯效的基础上，根据第一灯效的灯效属性数据标准化地确定其它各个灯组的灯效，由此使灯具中多灯组的灯效配置更为简易，有效降低灯具灯效配置的复杂度，可释放灯具扩展灯组的能力而降低灯具生产环节的总体成本，并且由于本申请能统一各种携带不同数量灯组的灯具的配置方式，极大地扩展了灯具产品的用户管理通用性。此外，本申请由于简化了多个灯组之间的灯效关联配置的技术实现，更适于应用到具有多个灯组的室内照明灯具，尤其是包含了氛围灯和照明灯的室内照明灯具中，可丰富照明灯具的样态，使此类室内照明灯具更易于推广普及。在本申请的方法的任意实施例的基础上，请参阅图3，根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效，包括：步骤S5211、确定第一灯效相对应的分类标签作为所述灯效属性数据；本申请中，各种灯效均可预先定制，然后将其灯效描述数据作为一个独立字段，为其赋予相应的分类标签，存储到数据库中，以便通过指定分类标签来检测携带所指定的分类标签的灯效，得到这些灯效的灯效描述数据。据此，一种实施例中，在设定第一灯效时，也对应标定了其分类标签，可以通过终端设备灯具的控制器，相应读取已经设定的第一灯效的分类标签作为灯效属性数据用来确定第二灯效。另一种实施例中，可以事先训练一个基于深度学习的多分类模型，将第一灯效描述数据输入该多分类模型中，由该多分类模型根据其习得的分类能力进行推理，由此也可确定出第一灯效相对应的分类标签作为灯效属性数据用来确定第二灯效。灯效的分类标签，其分类标准可以按需设定，例如，按灯效所适用的场景进行分类、按灯效所渲染的氛围的情绪类型进行分类、按灯效被用户下载的规模等级进行分类等均可。步骤S5212、查询预设的数据库，确定所述分类标签相对应的多个候选灯效；在确定了第一灯效的分类标签后，利用该分类标签在预设的数据库中进行查询，便可检索出携带该分类标签的全部多个灯效，可按照一定的索引依据对这些灯效进行优选，例如，一个实施例中，根据检索到的这些灯效的下载量进行倒排序，然后优选出排序靠前的多个灯效作为候选灯效。不难理解，根据该实施例排序确定的多个候选灯效，是广为用户接受的优质灯效，更容易被灯具的使用者接受，能提升第二灯效的推荐成功率。步骤S5213、将所述多个候选灯效显示至图形用户界面，获取用户选定的候选灯效作为第二灯组相适用的第二灯效。得到各个候选灯效后，可以将各个候选灯效格式化为推荐灯效列表，以图标化的方式，或者列表式的方式，展示到终端设备的图形用户界面中，供用户进行选定应用。当用户从推荐用户列表中选定一个候选灯效作为目标灯效进行应用后，该目标灯效便成为灯具的第二灯组相适用的第二灯效，相应获取其灯效描述数据，便可用于与第一灯效的灯效描述数据一起，封装出灯效应用数据。以上实施例可以看出，根据第一灯效的分类标签在数据库中查询出多个候选灯效供用户选定第二灯组相适用的第二灯效，不仅能取得设定第二灯效的效率优势，而且减少用户参与定制第二灯效的具体发光参数的麻烦，总体上更为傻瓜化，更易被用户接受，有助于灯具产品的推广。在本申请的方法的任意实施例的基础上，请参阅图4，根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效，包括：步骤S5221、确定第一灯效相对应的场景标签作为所述灯效属性数据；灯光效果具有渲染场景的氛围的作用，因而，与前文实施例中的分类标签同理，本申请的每种灯效，都可以设定其所适用的场景相对应的场景标签，例如雨天场景、晴天场景、寒冬场景、夏天场景等等。当设定第一灯效时，也就确定了其相对应的场景标签。对用户来说，受不同的场景的感染，通常会有不同的心情，因而，第一灯效的场景标签，实际也从一个方面表示出了用户的第一情绪特征，也就是说，本申请可作为第二灯效使用的灯效都可以设定其相应的场景标签，而其场景标签可用于表征用户的第一情绪特征，可获取该场景标签作为第一灯效的灯效属性数据，用来确定第二灯效。步骤S5222、获取音频数据的节奏点分布特征，确定所述节奏点分布特征相对应的情绪标签；本申请的终端设备，还可以通过其音频采集单元例如麦克风，当用户播放音乐时，终端设备便可通过实时采集环境声音获取音频数据，根据这一音频数据，可以对其中的节奏点分布特征进行情绪分析。或者，用户通过终端设备播放音乐，终端设备也可以直接调用该音乐的音频数据来进行节奏点分布特征的情绪分析。进行情绪分析时，借助现有的各种节奏点分析算法，或者借助预先训练的深度学习模型，便可提取出音频数据中的各个节奏点相对应的节奏点信息，沿音乐播放的时序表示出这些节奏点信息，便构成节奏点分布特征。用户在播放的音乐的节奏点分布特征，蕴含着音乐的节奏信息，而音乐的节奏信息也从一个方面表示出了用户的第二情绪特征。为了量化用户的第二情绪特征，可借助一个预先训练的情绪分类模型来对节奏点分布特征进行分类。该情绪分类模型以多首音乐的节奏点分布特征作为输入训练的样本，采用预先为音乐标注的情绪标签作为该样本的监督标签，监督该情绪分类模型训练至收敛状态以便投入使用。当该情绪分类模型收敛后，便具有对所输入的节奏点分布特征进行分类确定其相应的情绪标签的能力。据此，将对音频数据提取而得的节奏点分布特征输入该情绪分类模型，便可得到其映射到各个预设的情绪标签相对应的分类概率，以其中分类概率最大值相对应的情绪标签，作为该音频数据相对应的情绪标签，即实现对用户的第二情绪特征的量化表示。步骤S5223、查询预设的数据库，确定与所述场景标签和所述情绪标签语义相匹配的灯效作为第二灯组相适用的第二灯效。在获得第一灯效相对应的场景标签以表示出用户的第一情绪特征，以及通过音频数据的节奏点分布特征表示出用户的第二情绪特征的基础上，利用场景标签和情绪标签，在本申请存储灯效的数据库中与其中的每个可作为第二灯效使用的灯效的场景标签进行语义匹配，便可检索出与用户当前的第一情绪特征和第二情绪特征相匹配的第二灯效。更具体的一种实施例中，可以分别基于前文确定的场景标签和情绪标签，在该数据库中，计算第一灯效的场景标签、音频数据的情绪标签与数据库中各个可作为第二灯效使用的灯效的场景标签之间的语义相似度，得到两个相似度列表，然后，根据两个相似度列表，以其中每个灯效为目标灯效，将目标灯效对应第一灯效的场景标签得到的第一语义相似度，和对应音频数据的情绪标签得到的第二语义相似度，匹配预设权重求均值，得到目标灯效的有效相似度。每个可作为第二灯效使用的灯效都得到其有效相似度后，取其中最大值的有效相似度相对应的灯效，作为第二灯组相适用的第二灯效，即可完成对第二灯效的确定。在另外的一些实施例中，还可以增设一个人机交互业务环节，将有效相似度较高的若干个灯效作为候选灯效显示到灯效编辑界面中，推荐给用户进行选定，由用户从各个候选灯效中确定出一个目标灯效作为第二灯效，以向用户开放更为丰富的定制能力，通过用户筛选进一步提升确定第二灯效的有效性。根据以上实施例可以看出，根据第一灯效的场景标签评估用户的第一情绪特征，根据用户选定的音频数据的节奏点分布特征确定情绪标签以评估用户的第二情绪特征，关联用户的两种情绪特征，在数据库中，对可作用第二灯效使用的灯效进行语义匹配，确定出相似度最高的灯效作为第二灯效，第二灯效可以精准有效地对应用户使用灯具时的情绪，所确定的第二灯效，更符合用户的主观感受，其对应所播放的灯效所渲染出的氛围，更容易让用户产生沉浸感。在本申请的方法的任意实施例的基础上，请参阅图5，根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效，包括：步骤S5231、确定第一灯效的颜色数据作为所述灯效属性数据，所述颜色数据包含至少两种颜色的颜色值；第一灯效的颜色数据本身可以是一个变量，当第一灯效完成设定后，根据第一灯效确定第二灯效时，如果第二灯效的颜色效果与第一灯效的颜色效果不协调，整个灯具的总体灯效表现也就不佳。在这种情况下，可以将第一灯效的颜色数据作为灯效属性数据，根据第一灯效的颜色数据来确定第二灯效的颜色数据。一种实施例中，对于设定好的第一灯效，可以获取其灯效描述数据，获取其中颜色参数相对应的发光参数中指定的颜色数据，得到其中指定的多个颜色的颜色值。更具体的实施例中，第一灯效的灯效描述数据中，可以通过指定两个颜色值作为其颜色参数，以便指示相应的第一灯组按照该两个颜色值的均值显示相应的色光，或者，按照该两个颜色值交替显示相应的色光，或者以其它任意方式利用这些颜色值控制第一灯组播放相应的色光等。总之，通过第一灯效在其灯效描述数据中指定的颜色数据，便可得到两个以上的颜色值，可用于确定第二灯效。步骤S5232、根据所述颜色数据中的两种颜色的颜色值确定第二灯组相对应的灯效光谱；对于第一灯效的颜色数据中的两个颜色值，在本实施例中，可以将其作为定制第二灯组的第二灯效为渐变效果的依据，据此，可以先以该两个颜色值作为光谱两侧的端值，确定由该两个颜色值所界定的灯效光谱，以便基于该灯效光谱为第二灯组设定发光参数。不难理解，该灯效光谱由于从属于第一灯效所应用的两个颜色值，所以，从该灯效光谱中选定的颜色值相对应的色光，与第一灯效发出的色光之间依然是协调的。步骤S5233、在所述灯效光谱中取色设定第二灯效的发光参数，以定义出第二灯组相适用的第二灯效。当需要设定第二灯组相对应的第二灯效时，对于第二灯效的灯效描述数据中，用于描述第二灯组的发光颜色的发光参数，可以从该灯效光谱中选择任意颜色，将该颜色的颜色值设定为该发光参数的颜色值。一种实施例中，第二灯效的灯效描述数据描述出第二灯组的各个光源节点以渐变效果播放相应的灯效，为此，其中需要设定渐变效果相对应的两个颜色值，据此，可以从该灯效光谱中随机取值，确定该两个颜色值。另一实施例中，第二灯效的灯效描述数据中，具体到第二灯组的每个光源节点对应设定其发光颜色相对应的发光参数，针对这种情况，可以根据各个光源节点在第二灯组的发光链路中的顺序关系，对应该顺序关系，从该灯效光谱中沿同一方向顺序等间距为各个光源节点取值，由此设定第二灯组的每个光源节点相对应的发光参数。无论何种方式，完成对第二灯效的相应发光参数的设定后，便构成对第二灯效的完整定义，据此，可以获得其灯效描述数据用于封装灯效应用数据。由此可见，在根据第一灯效的颜色数据确定出灯效光谱的基础上，可以灵活选用多种方式，确定出第二灯效所需的发光参数，使第二灯效相对应的发光颜色能够从该灯效光谱中取值，当第二灯效应用到第二灯组之后，其所发出的色光依然能与第一灯效相对应的色调保持氛围上的和谐关系，从而确保高效准确地生成容易被用户接受的第二灯效。在本申请的方法的任意实施例的基础上，请参阅图6，根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效，包括：步骤S5241、确定第一灯效的主色调作为所述灯效属性数据；考虑到第一灯组主要起照明作用的情况，第一灯效通常用于定义单色光，例如冷色光或暖色光，据此，可以根据第一灯效所设定的色光，确定其对应的颜色值，作为对第一灯效的主色调的表示。将该主色调作为灯效属性数据，用来确定第二灯效。步骤S5242、根据所述主色调确定第二灯组的第二灯效的发光参数相对应的可选数据；在确定出第一灯效相对应的主色调的颜色值后，实际上便确定了该主色调所从属的色系，例如冷色系或暖色系，在这种情况下，为了保持第二灯效发出的色光与第一灯效发出的色光的和谐性，可以为第二灯效中使用到的发光参数，通常是表示发光颜色相对应的发光参数，在该主色调所属的色系中选择颜色，确定相应的颜色范围，将该颜色范围表示为相应的发光参数的可选数据，以便提供给用户从中选择。将颜色范围表示为可选数据的方式可以灵活设定，例如，可以将颜色范围表示为进度数据，每个进度对应该颜色范围中的一个特定颜色的颜色值；又如，可以从颜色范围中等间距确定若干个颜色值，作为对该颜色范围中的可选颜色的有限枚举。总之，可以灵活地将一个发光参数相对应的颜色范围表示为该发光参数相对应的可选数据，使用户可以相应的方式从可选数据中择一确定目标颜色值以设定相应的发光参数。步骤S5243、配置第二灯效的发光参数相对应的可编辑属性项，将所述可编辑属性项显示至灯效编辑界面，使所述可编辑选项关联其对应的可选数据；为了便于用于设定第二灯效的发光参数，可以对应第二灯效所需设置的每个发光参数在第二灯效的灯效描述数据中的属性项，将其确定为可编辑属性项，然后，将该发光参数的可选数据配置为该可编辑属性项的定义域，也即配置为用户可选的数据内容，然后，将各个可编辑属性项显示到用于编辑第二灯效的灯效编辑界面中，提供给用户浏览和设定。步骤S5244、获取基于所述可编辑属性项选定的数据构成第二灯效的发光参数，以定义出第二灯组相适用的第二灯效。在灯效编辑界面中，对应第二灯效的各个发光参数，显示有其可编辑属性项，用户针对每个可编辑属性项，可以调出其相应的可选数据，在其可选数据中选定相应的目标数据，例如选定其中的某个颜色值，终端设备获得用户为可编辑属性选项设定的数据后，便可将其作为相应的发光参数的设定数据，以由实现对第二灯效的相应发光参数的定义，将全部用户设定数据表示到第二灯效的灯效描述数据，便完成了对第二灯效的定义。根据以上实施例不难理解，可以根据第一灯效的主色调，配置第二灯效与发光颜色相对应的发光参数，通过灯效编辑界面为用户提供这些发光参数相对应的可编辑属性项及其可选数据，由用户确定这些发光参数相对应的设定数据，引导用户完成对第二灯效的精细化定制过程，使用户可以更高效地编辑第二灯效的更多细节表现，从而丰富灯具的灯效的个性化定制能力，使灯具更易被用户接受，有助于灯具的普及。在本申请的方法的任意实施例的基础上，请参阅图7，获取适用于灯具中的第一灯组的第一灯效，包括：步骤S5110、调用灯具中各个灯组相对应的链路描述信息，所述链路描述信息用于描述其所属灯组中各个光源节点的连接关系信息；示例性的灯具可以按照光源布局进行设计，光源布局主要用于指示该灯具的不同灯组的各个光源节点在同一投影面上的位置关系，一个示例性的光源布局，可以将第一灯组布置在实体灯具的中央区域，该中央区域可以是一个圆形区域，而将第二灯组的各个光源节点环绕该圆形区域设置，使第二灯组的各个光源节点的光线能够从中央区域的周围发射出来，起到一定的装饰作用。另一示例性的光源布局，也可以是将第一灯组的各个光源节点矩阵排列，将第二灯组的各个光源节点也矩阵排列，并且两个灯组的光源节点可以在投影面上相间设置。可见，灯具的光源布局是可以灵活设定的，不影响本申请的创造性的体现。为便于调用，光源布局可以存储为相应的标识，以供终端设备读取，由此，终端设备上的计算机程序可以标准化实现，通过加载存储多个已知光源布局及其相应的标识的数据表，后续根据标识在数据表中查询光源布局以适配按照该光源布局设计和生产的实体灯具，使终端设备能够兼容控制多种光源布局的实体灯具。灯具的每个灯组中的各个光源节点，一般都有序连接，例如有序连接构成一个发光灯带。因而，对于一条发光灯带来说，其各个光源节点有序连接而成的链路即为发光链路，将各个光源节点的有序连接关系以预定的格式进行描述，通过表示出各个光源节点在发光链路中的连接顺序相对应的位置信息而表示出各个光源节点之间的连接关系信息，描述所得的数据便构成该发光灯带相对应的链路描述信息，也就是相应的灯组的链路描述信息。示例性的链路描述信息中，可以按照同一灯组中各个光源节点的连接顺序，表示出各个光源节点的顺序标识，灯具的控制器可以按照预设的通信协议与各个光源节点通信实施检测，得到各个光源节点的顺序标识，由此得到链路描述信息。步骤S5120、根据所述各个灯组的链路描述信息生成相应的光源布局视图，显示至灯效编辑界面，所述光源布局视图包含根据每个灯组的链路描述信息生成的灯组图案；终端设备在事先知晓实体灯具的光源布局的情况下可以对其进行调用，例如终端设备可以预存在多种光源布局，然后通过指定光源布局的标识对相应的光源布局进行调用。仍以第二灯组的光源节点环绕第一灯组所在的中央区域设置的光源布局为例，光源布局中规定了第一灯组位于中央区域相对应的灯组布局信息，第二灯组环绕该中央区域设置的灯组布局信息，由此，终端设备调用该光源布局后，便可以根据各个灯组相对应的链路描述信息，构造相应的光源布局视图。构造光源布局视图时，先根据各个灯组的灯组布局信息，确定各个灯组所在的区域，然后，将每个灯组相对应的链路描述信息中所描述的各个光源节点，按照各个光源节点的顺序位置信息，在保持各个光源节点的顺序位置的情况下，将各个光源节点定位到相应的区域上，以此构造出光源布局视图。一种实施例中，光源布局视图对应两个灯组生成，将第一灯组限定在中央区域，将第二灯组的各个光源节点限定在环绕该中央区域周围的圆弧区域中，例如，第一灯组居于中央区域时，可以将其单个光源节点定位在一个圆形区域的中心位置，或者将其多个光源节点相对均衡地分布在该圆形区域中；第二灯组居于该中央区域的周围时，可以为其各个光源节点围绕该圆形区域的外周平均分配圆弧区域，由此完成整个灯具的光源布局视图的构造。按照这种方式来构造光源布局视图，可以确保第一灯组和第二灯组更合理更贴合地进行灯效相互映衬，呈现出更加沉浸式的灯光体验，第一灯组和第二灯组联动，给到用户更和谐的灯效氛围的体验。光源布局视图在内存中完成构造之后，可以将其绘制渲染到灯效编辑界面中，以显示出其相应的界面效果。例如图8和图9中的圆形灯盘，便是示例性的灯具的光源布局视图，其中央区域部分用于布局第一灯组的各个光源节点，环绕该中央区域部分用于布局第二灯组的各个光源节点。一个实施例中，可以按照如下过程构造光源布局视图：首先，将各个灯组中的第一灯组作为主灯组，将主灯组的光源节点相对应的光源图块布置在虚拟画布的中央区域，生成相应的主灯图案：本实施例中，终端设备可以按照默认的业务逻辑，根据一个已经确定的光源布局，在系统内存中确定光源布局视图，具体可通过确定光源布局视图的图形描述信息来实现。终端设备所遵循的业务逻辑相对应的光源布局，可以是如前文所示例的以中央区域布置第一灯组且以中央区域的周围区域布置第二灯组相对应的光源布局。为此，终端设备在系统内存中设定一个虚拟画布，按照预定的尺寸，在虚拟画布中先绘制出一个圆形区域作为中央区域，为该圆形区域填充默认颜色，以表示出其属于主灯组相对应的图案，可称为主灯图案。由此，通过主灯图案表示出主灯组的全部光源节点所在的中央区域。然后，将各个灯组中的第二灯组作为副灯组，将副灯组的光源节点相对应的光源图块布置在中央区域的周围，生成相应的副灯图案：同理，基于该默认业务逻辑相对应的光源布局，在该虚拟画布已存在的圆形区域周围绘制一个环形圈状区域，为该环形圈状区域填充默认颜色，以表示出其属于副灯组相对应的图案，可称为副灯图案。由于副灯组主要起氛围渲染的作用，对其控制需具体化到光源节点的粒度，据此，可以根据副灯组中的光源节点的总数，将环形圈状区域按照该总数进行周向等分割，分割成与各个光源节点相对应的图块，将每个图块作为相应的光源节点的光源图块，使得各个光源图块环绕主灯组的圆形区域布置。至此可知，副灯组中的每个光源节点，在光源布局视图中，都有其相应的光源图块，该光源图块是一个图块，方便被转换或替换为光源控件。最后，将虚拟画布中的主灯图案与副灯图案转换为光源布局视图的图形描述信息：完成对光源布局视图在虚拟画布中的绘制后，便可以基于该虚拟画布对各个灯组图案，包括主灯图案和虚拟图案，进行数据描述，将其描述为显存可解析的图形描述信息，当将其提交给显存的图形渲染接口时，可通过该图形渲染接口在灯效编辑界面中快速渲染出光源布局视图，更快速地显示到灯效编辑界面上。以上实施例可见，利用一个内存中的虚拟画布，根据灯具的各个灯组的链路描述信息，先在虚拟画布中绘制出各个灯组相对应的灯组图案以完成对光源布局视图的数据描述，得到相应的图形描述信息，可以提升图形渲染接口的渲染效率，且可以便捷地去实现对各个光源节点的光源图块的编辑，具有运行效率优势。为便于与用户进行信息交互，本申请可以对应灯具中的灯组的光源节点，在光源布局视图中的相应位置，为其添加相应的光源控件。既可以仅针对其中的一个灯组，例如起氛围渲染作用的第二灯组的光源节点添加相应的光源控件，也可以为全部灯组的光源节点添加相应的光源控件，可以视实际需要而设置。光源控件既可以提供信息展示的作用，也可以起触控响应的作用，既可以提供单向的人机交互功能例如单向展示提示信息的功能，也可以提供双向的人机交互功能例如同时支持触控响应和信息展示等，可灵活配置。示例性的实例中，可将灯具的各个光源节点的光源控件都配置为不仅可以用于展示提示信息，也可以用于响应用户的触控，从而实现全面的人机交互功能，以对应提供编辑预览功能以及操作设定功能。基于光源控件所实现的信息展示功能，可以按照用户对应设定的发光参数，在光源布局视图中展示用户设定后的灯光效果和/或其对应的文本信息。基于光源控件所实现的触控响应功能，可以支持用户通过触控目标光源节点，将目标光源节点作为被编辑光源节点，以便用户可以在灯效编辑界面中编辑其对应的发光参数，使用户所设定的发光参数作用于被编辑光源节点。光源控件的实现，可以是将光源布局视图中与光源节点相对应的图块转换为相应的计算机对象，也可以仅仅基于后台进程对于光源节点在光源布局视图中相对应的位置进行识别后实现相应位置的人机交互功能来支持，可灵活设定。一个实施例中，光源布局视图可以在系统内存中先行绘制以生成其图形描述信息，然后通过图形渲染接口传递到显存中进行绘制和渲染，由此，方便在系统内存中对光源布局视图中的各个光源节点相对应的图块进行修改和配置，也即对各个光源节点相对应的光源控件的相关属性项进行修改，并且及时反映到图形用户界面中。据此实现的一个实施例中，可以按照如下过程绘制渲染出光源布局视图，包括：首先，根据光源布局视图的图形描述信息，在灯效编辑界面中绘制渲染出光源布局视图；当按照本申请前文的实施例生成光源布局视图的图形描述信息之后，终端设备可以调用操作系统的开放图形库提供的图形渲染接口，向该接口传递该图形描述信息，使图形渲染接口根据该图形描述信息在灯效编辑界面中绘制和渲染出光源布局视图。然后，将图形描述信息中的每个光源图块配置为光源控件，为光源控件赋予人机交互功能。出于为光源节点添加其光源控件的目的，进一步可以在系统内存中将光源布局视图中的每个光源节点相对应的光源图块配置为相应的光源控件，采用光源控件对相应的光源图块进行数据描述，通过光源控件的数据描述为光源控件配置出人机交互功能，使相应的光源图块能够继续该人机交互功能。以上实施例可见，通过光源布局视图的图形描述信息在系统内存中将光源布局视图中的光源图块配置为相应的光源控件，一方面，可以基于系统内存中的图形描述信息快速地设定各个光源控件所封装的光源图块的显示效果，另一方面，可以借助图形渲染接口的能力，根据图形描述信息快速渲染出光源布局视图，使用户在灯效编辑界面上所设定的发光参数相对应的发光效果可以迅速更新到图形用户界面中，占用系统资源小，实施效率高，且可确保具有较为优质的预览效果。步骤S5130、基于所述光源布局视图获取所述各个灯组中的第一灯组相适用的第一灯效，以用于生成所述各个灯组中的第二灯组相适用的第二灯效。用户可以基于灯效编辑界面选择灯组以便选定该灯组中的全部光源节点，也可以在灯效编辑界面中选定灯组中的一个或多个光源节点，以便将这些光源节点作为被编辑光源节点，对这些被编辑光源节点设定相应的发光参数。一种实施例中，可以在灯效编辑界面中提供灯组列表，以及灯组中的光源节点列表供用户进行光源布局视图中的被编辑光源节点的选定。另一实施例中，用户也可以直接基于对光源布局视图中的光源控件进行触控来实现被编辑光源节点的选定。如图8和图9所示，为便于用户设定被编辑光源节点的发光参数，灯效编辑界面中，可以通过避开光源布局视图的区域，或者通过弹出控制面板，提供发光参数设定区域，在该设定区域提供各种发光参数的可选数据或提供输入框等，以便用户更便捷地完成被编辑光源节点的发光参数的设定。被编辑光源节点的发光参数的具体属性及具体数据内容，以及其与被编辑光源节点的对应关系，视实际情况而灵活开放对应的编辑功能，例如，可以是对应每一个被编辑光源节点提供统一应用的单个颜色属性相对应的编辑功能，也可以是对应全部多个被编辑光源节点设定渐变颜色两端的颜色属性相对应的编辑功能，具体均可灵活实现。当用户针对被编辑光源节点设定其相应的发光参数后，根据所设定的发光参数，可以确定每个被编辑光源节点相对应的设定数据，例如颜色值、亮度等，进而，可以根据这些设定数据生成被编辑光源节点相对应的编辑预览信息。编辑预览信息的数据形式可以灵活实现，例如，如果设定数据是颜色值或亮度值，可以根据颜色值或亮度值控制被编辑光源节点在光源布局视图中的相应区域例如相应的光源控件显示相应的色块，或者，可以将相应的颜色值、亮度值等转换为数据文本，输出到该相应区域例如相应的光源控件之上或附近处显示。也就是说，根据发光参数可以控制相应被编辑光源节点相应的光源控件显示编辑预览信息，而编辑预览信息的数据形式则灵活多样，总之，通过编辑预览信息，用户可以更方便地预览其所设定的发光参数对被编辑光源节点的影响效果，能够引导用户准确设定被编辑光源节点相对应的灯效。在灯效编辑界面及光源布局视图实现了以上功能的基础上，允许用户选定灯具中的一个灯组作为第一灯组，然后由针对第一灯组设定第一灯效，在此基础上，便可用于实现第二灯效的引导式生成。根据以上实施例可知，先根据各个灯组的链路描述信息，生成表示各个发光链路的光源节点分布的光源布局视图显示到灯效编辑界面中，通过光源布局视图供用户便捷地设定第一灯效，为用户提供了高效便捷编辑部分灯组的灯效的方案，使用户可以更方便地编辑灯效，再借助系统的引导式生成能力，得到全部灯组相对应的灯效，最终得到整个灯具的灯效应用数据应用到灯具中，有效提升灯具的灯效配置效率，有助于灯具的产业推广。在本申请的方法的任意实施例的基础上，请参阅图10，将第一灯效和第二灯效封装为灯效应用数据传输至所述灯具，包括：步骤S5310、根据第一灯效和第二灯效更新所述光源布局视图中的各个灯组图案，使所述各个灯组图案对应显示出第一灯效和第二灯效相应的灯光效果；当灯效应用数据生成之后，终端设备可以进一步按照灯具的控制器解析转换该灯效应用数据的业务逻辑，对第一灯效和第二灯效各自相应的灯效描述信息进行解析转换，由此确定出每个灯效的各个播放帧，确定每个播放帧相对应的灯效控制数据，然后，以每个播放帧为单位，将每个灯效的每个播放帧相对应的灯效控制数据，解析转换为光源布局视图中相应的灯组图案的图像信息，然后，进而转换为相应灯组图案的各个光源图块所对应的光源控件的属性项的数据，从而刷新相应灯组的图形描述信息，在本申请的绘制渲染机制的作用下，通过图形开放接口，根据各个灯组相应的图形描述信息，重新绘制渲染相应灯组在光源布局视图中的灯组图案，从而得到每个播放帧相对应图像效果，各个灯组图案均受控于其相应的播放帧而呈现相应的灯光效果，从而在灯效编辑界面中显示出每个播放帧相对应的灯光效果，由多个播放帧轮流播放，便可在灯效编辑界面的光源布局视图中，得到第一灯效和第二灯效综合作用后的灯效动画流程效果。步骤S5320、响应配置应用指令，将第一灯效和第二灯效封装为灯效应用数据；用户通过灯效编辑界面中的光源布局视图预览灯效动画流程效果之后，如果无需修改灯效，可以通过预设的控件触发配置应用指令，响应于该配置应用指令，终端设备便可直接将第一灯效和第二灯效各自相应的灯效描述数据直接封装为灯效应用数据，以进行存储和传输之用。步骤S5330、将所述灯效应用数据传输至所述灯具的控制器中，驱动该控制器根据该灯效应用数据控制第一灯组和第二灯组相应播放第一灯效和第二灯效。终端设备进一步将已生成的灯效应用数据通过与灯具的控制器建立的通信链路，将灯效应用数据发送至灯具的控制器中，从而驱动控制器对该灯效应用数据进行解析和转换，先解析提取出其中的各个灯组例如第一灯组和第二灯组的第一灯效和第二灯效各自的灯效描述数据，然后，按照前文所揭示的转换过程，根据第一灯效和第二灯效各自的灯效描述数据，生成多个播放帧相对应的灯效控制数据，再有序地将各个灯效控制数据发送给第一灯组和第二灯组，即可控制第一灯组和第二灯组协同完成相应的灯效的播放，得到符合用户期望的灯光氛围效果。根据以上实施例可知，通过将第一灯效和第二灯效的预览效果渲染到光源布局视图中的各个相应灯组图案进行显示，使用户能够快速了解其所定义的灯效的实际效果，实现所见即所得，可以提升用户定制灯效的成功率。请参阅图11，本申请的另一实施例还提供一种灯效配置装置，其包括第一灯效获取模块5100、第二灯效确定模块5200，以及灯效传输应用模块5300，其中，所述第一灯效获取模块5100，设置为获取适用于灯具中的第一灯组的第一灯效；所述第二灯效确定模块5200，设置为根据第一灯效的灯效属性数据确定适用于所述灯具中的第二灯组的第二灯效；所述灯效传输应用模块5300，设置为将第一灯效和第二灯效封装为灯效应用数据传输至所述灯具。在本申请的装置的任意实施例的基础上，所述第二灯效确定模块5200，包括：类别确定单元，设置为确定第一灯效相对应的分类标签作为所述灯效属性数据；灯效匹配单元，设置为查询预设的数据库，确定所述分类标签相对应的多个候选灯效；灯效选定单元，设置为将所述多个候选灯效显示至图形用户界面，获取用户选定的候选灯效作为第二灯组相适用的第二灯效。在本申请的装置的任意实施例的基础上，所述第二灯效确定模块5200，包括：场景确定单元，设置为确定第一灯效相对应的场景标签作为所述灯效属性数据；情绪确定单元，设置为获取音频数据的节奏点分布特征，确定所述节奏点分布特征相对应的情绪标签；匹配设定单元，设置为查询预设的数据库，确定与所述场景标签和所述情绪标签语义相匹配的灯效作为第二灯组相适用的第二灯效。在本申请的装置的任意实施例的基础上，所述第二灯效确定模块5200，包括：色值确定单元，设置为确定第一灯效的颜色数据作为所述灯效属性数据，所述颜色数据包含至少两种颜色的颜色值；光谱确定单元，设置为根据所述颜色数据中的两种颜色的颜色值确定第二灯组相对应的灯效光谱；灯效设定单元，设置为在所述灯效光谱中取色设定第二灯效的发光参数，以定义出第二灯组相适用的第二灯效。在本申请的装置的任意实施例的基础上，所述第二灯效确定模块5200，包括：色调确定单元，设置为确定第一灯效的主色调作为所述灯效属性数据；参数定义单元，设置为根据所述主色调确定第二灯组的第二灯效的发光参数相对应的可选数据；界面交互单元，设置为配置第二灯效的发光参数相对应的可编辑属性项，将所述可编辑属性项显示至灯效编辑界面，使所述可编辑选项关联其对应的可选数据；灯效定义单元，设置为获取基于所述可编辑属性项选定的数据构成第二灯效的发光参数，以定义出第二灯组相适用的第二灯效。在本申请的装置的任意实施例的基础上，所述第一灯效获取模块5100，包括：描述获取单元，设置为调用灯具中各个灯组相对应的链路描述信息，所述链路描述信息用于描述其所属灯组中各个光源节点的连接关系信息；视图展示单元，设置为根据所述各个灯组的链路描述信息生成相应的光源布局视图，显示至灯效编辑界面，所述光源布局视图包含根据每个灯组的链路描述信息生成的灯组图案；灯效编辑单元，设置为基于所述光源布局视图获取所述各个灯组中的第一灯组相适用的第一灯效，以用于生成所述各个灯组中的第二灯组相适用的第二灯效。在本申请的装置的任意实施例的基础上，所述灯效传输应用模块5300，包括：光效展示单元，设置为根据第一灯效和第二灯效更新所述光源布局视图中的各个灯组图案，使所述各个灯组图案对应显示出第一灯效和第二灯效相应的灯光效果；指令响应单元，设置为响应配置应用指令，将第一灯效和第二灯效封装为灯效应用数据；灯效播放单元，设置为将所述灯效应用数据传输至所述灯具的控制器中，驱动该控制器根据该灯效应用数据控制第一灯组和第二灯组相应播放第一灯效和第二灯效。在本申请任意实施例的基础上，请参阅图12，本申请的另一实施例还提供一种计算机设备，该计算机设备可以充当氛围灯设备中的控制器使用，如图12所示，计算机设备的内部结构示意图。该计算机设备包括通过系统总线连接的处理器、计算机可读存储介质、存储器和网络接口。其中，该计算机设备的计算机可读存储介质存储有操作系统、数据库和封装计算机可读指令的计算机程序，数据库中可存储有控件信息序列，该计算机可读指令被处理器执行时，可使得处理器实现一种灯效配置方法。该计算机设备的处理器用于提供计算和控制能力，支撑整个计算机设备的运行。该计算机设备的存储器中可存储有计算机可读指令，该计算机可读指令被处理器执行时，可使得处理器执行本申请的灯效配置方法。该计算机设备的网络接口用于与终端连接通信。本领域技术人员可以理解，图12中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。本实施方式中处理器用于执行图11中的各个模块及其子模块的具体功能，存储器存储有执行上述模块或子模块所需的程序代码和各类数据。网络接口用于向用户终端或服务器之间的数据传输。本实施方式中的存储器存储有本申请的灯效配置装置中执行所有模块/子模块所需的程序代码及数据，服务器能够调用服务器的程序代码及数据执行所有子模块的功能。本申请还提供一种存储有计算机可读指令的存储介质，计算机可读指令被一个或多个处理器执行时，使得一个或多个处理器执行本申请任一实施例所述灯效配置方法的步骤。本申请还提供一种计算机程序产品，包括计算机程序/指令，该计算机程序/指令被一个或多个处理器执行时实现本申请任一实施例所述灯效配置方法的步骤。本领域普通技术人员可以理解实现本申请上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，该计算机程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，前述的存储介质可为磁碟、光盘、只读存储记忆体等计算机可读存储介质，或随机存储记忆体等。以上所述仅是本申请的部分实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本申请的保护范围。综上所述，本申请方便用户高效快速地配置多个灯组的灯效，可释放灯具扩展灯组的能力，降低用户配置灯具的灯效的复杂度，能助推室内照明灯具的普及。
