标题title
一种多通道光源控制电路
摘要abst
本发明涉及多通道控制的技术领域，公开了一种多通道光源控制电路，本发明通过第一转换电路对控制模块的控制信号进行转换，并由主控芯片接收转换后的信号，并根据信号生成并行数据信号，不同的控制信号生成的并行数据信号具有较小的差异，这些较小的差异在经过增益电路后会转变为较大的差异，具有较大差异的信号分属于不同的判定范围，通道切换电路用于根据信号所述的范围将信号通过模拟量输出接口传输至受控模块中不同的受控单元，从而实现了在不设置多通道控制器和控制电路的情况下实现多通道光源控制，解决了现有技术中每个通道需要搭配一个对应的控制电路，导致成本上升的问题。
权利要求书clms
1.一种多通道光源控制电路，其特征在于，包括：控制模块、主控模块、受控模块；所述主控模块包括依次电连接的第一转换电路、主控芯片以及第二转换电路；所述第一转换电路包括电连接的通讯接口与电平转换芯片，所述通讯接口与所述控制模块电连接，所述通讯接口用于接收所述控制模块发出的脉冲信号，并将所述脉冲信号传输至所述电平转换芯片中，所述电平转换芯片与所述主控芯片电连接，所述电平转换芯片用于将所述脉冲信号转换为TTL信号，并将所述TTL信号传输至所述主控芯片中；所述第二转换电路包括依次电连接的数模转换芯片、增益电路、通道切换电路以及模拟量输出接口，所述数模转换芯片与所述主控芯片电连接，所述主控芯片用于接收所述TTL信号，并根据所述TTL信号和所述数模转换芯片的时序信号规则生成并行数据信号传输至所述数模转换芯片，所述数模转换芯片用于接收所述并行数据信号并输出对应的模拟电压信号至所述增益电路，所述增益电路用于对所述模拟电压信号进行信号增益，以得到增益电压信号；所述受控模块包括若干受控单元，各个所述受控单元分别与所述模拟量输出接口电连接，所述通道切换电路用于根据所述增益电压信号的信号强度所处范围将所述增益电压信号通过所述模拟量输出接口传输至所述受控模块中的对应的所述受控单元。2.如权利要求1所述的一种多通道光源控制电路，其特征在于，所述控制模块为工控主机、PLC或嵌入式单片机。3.如权利要求1所述的一种多通道光源控制电路，其特征在于，所述通讯接口为DB9针通信端口。4.如权利要求1所述的一种多通道光源控制电路，其特征在于，所述通道切换电路中设置有电压记录单元和数据分析单元，所述电压记录单元用于对接收过的所述增益电压信号的信号强度和接收所述增益电压信号的所述受控单元进行记录，所述数据分析单元用于根据记录生成所述增益电压信号的分配历史图谱，所述分配历史图谱用于描述所述增益电压信号的信号强度与接收所述增益电压信号的所述受控单元之间的关系；当出现信号强度介于各个所述受控单元接收的增益电压信号对应的信号强度范围之间的所述增益电压信号时，根据所述分配历史图谱计算所述增益电压与各个所述受控单元接收的增益电压信号的信号强度的平均差值，以判断所述增益电压信号的信号强度更接近哪一个受控单元对应的信号强度范围，并将所述增益电压信号传输至所述受控单元。5.如权利要求1所述的一种多通道光源控制电路，其特征在于，所述受控模块包括第一受控单元、第二受控单元、第三受控单元以及第四受控单元；所述第一受控单元、所述第二受控单元、所述第三受控单元以及所述第四受控单元分别与所述模拟量输出接口电连接。6.如权利要求1所述的一种多通道光源控制电路，其特征在于，所述受控模块包括第一受控单元、第二受控单元、第三受控单元、第四受控单元、第五受控单元、第六受控单元、第七受控单元以及第八受控单元；所述第一受控单元、所述第二受控单元、所述第三受控单元、所述第四受控单元、所述第五受控单元、所述第六受控单元、所述第七受控单元以及所述第八受控单元分别与所述模拟量输出接口电连接。
说明书desc
技术领域本发明涉及多通道控制技术领域，尤其是一种多通道光源控制电路。背景技术多通道光源控制是一种用于管理和控制多个光源通道的技术。在许多应用中，如照明、成像、光谱分析等，需要精确控制多个光源的亮度、颜色、模式等参数，以实现特定的效果或实验要求，多通道光源控制可以通过适当的电路和控制系统来实现。在现有技术中，通常通过一个多通道控制器来实现对多个通道的管理，在这种设计中，每个通路需要有对应的控制电路，这种设计会导致材料成本的上升。发明内容本发明的目的在于提供一种多通道光源控制电路，旨在解决现有技术中每个通道需要搭配一个对应的控制电路，导致成本上升的问题。本发明是这样实现的，本发明提供一种多通道光源控制电路，包括：控制模块、主控模块、受控模块；所述主控模块包括依次电连接的第一转换电路、主控芯片以及第二转换电路；所述第一转换电路包括电连接的通讯接口与电平转换芯片，所述通讯接口与所述控制模块电连接，所述通讯接口用于接收所述控制模块发出的脉冲信号，并将所述脉冲信号传输至所述电平转换芯片中，所述电平转换芯片与所述主控芯片电连接，所述电平转换芯片用于将所述脉冲信号转换为TTL信号，并将所述TTL信号传输至所述主控芯片中；所述第二转换电路包括依次电连接的数模转换芯片、增益电路、通道切换电路以及模拟量输出接口，所述数模转换芯片与所述主控芯片电连接，所述主控芯片用于接收所述TTL信号，并根据所述TTL信号和所述数模转换芯片的时序信号规则生成并行数据信号传输至所述数模转换芯片，所述数模转换芯片用于接收所述并行数据信号并输出对应的模拟电压信号至所述增益电路，所述增益电路用于对所述模拟电压信号进行信号增益，以得到增益电压信号；所述受控模块包括若干受控单元，各个所述受控单元分别与所述模拟量输出接口电连接，所述通道切换电路用于根据所述增益电压信号的信号强度所处范围将所述增益电压信号通过所述模拟量输出接口传输至所述受控模块中的对应的所述受控单元。优选地，所述控制模块为工控主机、PLC或嵌入式单片机。优选地，所述通讯接口为DB9针通信端口。优选地，所述受控模块包括第一受控单元、第二受控单元、第三受控单元以及第四受控单元；所述第一受控单元、所述第二受控单元、所述第三受控单元以及所述第四受控单元分别与所述模拟量输出接口电连接。优选地，所述通道切换电路中设置有电压记录单元和数据分析单元，所述电压记录单元用于对接收过的所述增益电压信号的信号强度和接收所述增益电压信号的所述受控单元进行记录，所述数据分析单元用于根据记录生成所述增益电压信号的分配历史图谱，所述分配历史图谱用于描述所述增益电压信号的信号强度与接收所述增益电压信号的所述受控单元之间的关系；当出现信号强度介于各个所述受控单元接收的增益电压信号对应的信号强度范围之间的所述增益电压信号时，根据所述分配历史图谱判断所述增益电压信号的信号强度更接近哪一个受控单元对应的信号强度范围，并将所述增益电压信号传输至所述受控单元。优选地，所述受控模块包括第一受控单元、第二受控单元、第三受控单元、第四受控单元、第五受控单元、第六受控单元、第七受控单元以及第八受控单元；所述第一受控单元、所述第二受控单元、所述第三受控单元、所述第四受控单元、所述第五受控单元、所述第六受控单元、所述第七受控单元以及所述第八受控单元分别与所述模拟量输出接口电连接。本发明提供了一种多通道光源控制电路，具有以下有益效果：本发明通过第一转换电路对控制模块的控制信号进行转换，并由主控芯片接收转换后的信号，并根据信号生成并行数据信号，不同的控制信号生成的并行数据信号具有较小的差异，这些较小的差异在经过增益电路后会转变为较大的差异，具有较大差异的信号分属于不同的判定范围，通道切换电路用于根据信号所述的范围将信号通过模拟量输出接口传输至受控模块中不同的受控单元，从而实现了在不设置多通道控制器和控制电路的情况下实现多通道光源控制，解决了现有技术中每个通道需要搭配一个对应的控制电路，导致成本上升的问题。附图说明图1是本发明实施例提供的一种多通道光源控制电路的结构示意图。附图标记：1-控制模块、2-主控模块、3-受控模块、21-第一转换电路、22-主控芯片、23-第二转换电路、211-通讯接口、212-电平转换芯片、231-数模转换芯片、232-增益电路、233-通道切换电路、234-模拟量输出接口、11-工控主机、12-PLC、13-嵌入式单片机、31-第一受控单元、32-第二受控单元、33-第三受控单元、34-第四受控单元。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。本实施例的附图中相同或相似的标号对应相同或相似的部件；在本发明的描述中，需要理解的是，若有术语“上”、“下”、“左”、“右”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此附图中描述位置关系的用语仅用于示例性说明，不能理解为对本专利的限制，对于本领域的普通技术人员而言，可以根据具体情况理解上述术语的具体含义。以下结合具体实施例对本发明的实现进行详细的描述。参照图1所示，为本发明提供较佳实施例。本发明提供一种多通道光源控制电路，包括：控制模块1、主控模块2、受控模块3。具体地，主控模块2包括第一转换电路21、主控芯片22以及第二转换电路23。更具体地，第一转换电路21包括电连接的通讯接口211与电平转换芯片212，通讯接口211与控制模块1电连接，控制模块1发出控制信号，通讯接口211对控制信号进行接收，并将接收到的控制信号传输至电平转换芯片212中，控制模块1传输的控制信号为脉冲信号，无法直接被主控芯片22接收和运行，因此需要电平转换芯片212对脉冲信号进行信号转换，将脉冲信号转换为TTL信号，以令主控芯片22可以对TTL信号进行操作。需要说明的是，脉冲信号和TTL信号是电子领域中两种不同的信号，脉冲信号是一个时间上突然变化并持续很短的信号，其可以是任何类型的信号，例如电压、电流或光信号，在一段时间内突然上升或下降，然后迅速返回到基准值；TTL是一种数字逻辑家族，用于在数字电路中表示逻辑值，TTL信号使用晶体管作为开关来实现逻辑操作，在TTL电路中，高电平和低电平分别由特定的电压范围来表示，脉冲信号强调的是信号的时间特性，而TTL信号是数字逻辑电路中使用的一种电平表示方式，在实际应用中，TTL信号可以作为一种方式来传输和处理脉冲信号。更具体地，第二转换电路23包括依次电连接的数模转换芯片231、增益电路232、通道切换电路233以及模拟量输出接口234，其中，数模转换芯片231与主控芯片22电连接，模拟量输出接口234与受控模块3电连接。更具体地，主控芯片22在接收TTL信号后，会根据TTL信号与数模转换芯片231的时序信号规则生成并行数据信号。需要说明的是，并行数据信号是一种在多个电子信号线上同时传输多个位的通信方式，在并行数据传输中，每个位都在独立的信号线上传输，这使得可以同时传输多个位，从而提高数据传输的速率，每个并行信号线通常代表一个二进制位，可以是高电平或低电平，从而传输多位数据。更具体地，数模转换芯片231是用于将数字信号转换为模拟信号的芯片，而主空控芯片传输的并行数据信号正是数字信号，数模转换芯片231在接收到并行数据信号后，会将并行数据信号转换为对应的模拟信号，并传输至增益电路232。更具体地，增益电路232用于对模拟电压信号进行信号增压，也就是对模拟电压信号进行放大，以得到增益电压信号，增益电压信号即为放大后的模拟电压信号。更具体地，受控模块3包括若干受控单元，各个受控单元分别与模拟量输出接口234电连接，通道切换电路233用于根据增益电压信号的信号强度将增益电压信号通过模拟量输出接口234传输至受控模块3中的一个受控单元。更具体地，通道切换电路233根据增益电压信号的强度范围决定将增益电压信号传输至受控模块3中的受控单元，可以理解的是，数模转换芯片231转换输出的模拟电压信号存在着较为微小的差异，而在经过增益电路232的放大增益后，模拟电压信号中的较为微小的差异将会变化为增益电压信号中的较大差异，具有较大差异的增益电压信号分属不同档位，通道切换电路233根据增益电压信号属于何种档位而决定将增益电压信号传输至受控模块3的其中一个受控单元。本发明提供了一种多通道光源控制电路，具有以下有益效果：本发明通过第一转换电路21对控制模块1的控制信号进行转换，并由主控芯片22接收转换后的信号，并根据信号生成并行数据信号，不同的控制信号生成的并行数据信号具有较小的差异，这些较小的差异在经过增益电路232后会转变为较大的差异，具有较大差异的信号分属于不同的判定范围，通道切换电路233根据信号所述的范围将信号传输至受控模块3中不同的受控单元，从而实现了在不设置多通道控制器和控制电路的情况下实现多通道光源控制，解决了现有技术中每个通道需要搭配一个对应的控制电路，导致成本上升的问题。优选地，控制模块1为工控主机11、PLC12或嵌入式单片机13。具体地，工控主机11是一种通用计算机系统，类似于普通计算机，但经过了针对工业环境的定制和优化，它们通常具备更高的计算能力和通信能力，可以运行复杂的应用程序和软件，主要用于监控、控制和管理工业自动化系统，可以处理大量的数据，进行复杂的数据分析和决策，适用于较为复杂的工业控制任务。更具体地，PLC12：一种专门用于控制工业过程和机器的计算设备，基于编程逻辑来执行控制任务，如开关逻辑、定时器和计数器等，PLC12通常具备实时性和稳定性，适合于快速的控制决策。更具体地，嵌入式单片机13一种集成了处理器、内存、输入/输出接口等组件的微型计算机系统，通常用于特定的控制任务，因其紧凑性和低功耗特点，适合嵌入在设备中。需要说明的是，上述的三种设备均属于上位机，也就是对主控模块2进行控制的模块，控制的方式为输出不同的控制信号，当主控模块2接收到不同的控制信号时，将会产生对应控制信号的并行数据信号，由于对应不同控制信号的并行数据信号具有较小的差异，因此并行数据信号再经过信号增益后将会有较为明显的差异，这一差异将在模拟量输出接口234处得到体现，也就是模拟量输出接口234将会根据信号所在的区间对受控模块3中的一个受控单元进行控制，从这一点可以看出，本发明提供的一种多通道光源控制电路的优点在于，可以通过较小的控制信号来实现多通道的光源控制。优选地，通讯接口211为DB9针通信端口。具体地，DB9针通讯接口211，也称为DE-9针接口，是一种常用于串行通信的连接标准，通常用于连接计算机与外部设备，如调制解调器、串行打印机、路由器等，DB9接口包含9根针脚，每个针脚有不同的功能，这些针脚的功能可以根据不同的通信协议和设备要求进行配置，例如，常见的串行通信协议如RS-232和RS-485可以使用DB9接口进行数据传输。更具体地，通讯接口211的设置可以实现控制模块1的快速更换，也就是说，通讯接口211是主控模块2用于与控制模块1电连接的功能单元，通过更换与通讯接口211电连接的上位机，就可以实现与主控模块2电连接的控制模块1。优选地，受控模块3包括第一受控单元31、第二受控单元32、第三受控单元33以及第四受控单元34。具体地，受控模块3是与主控模块2电连接，并接收主控模块2信号控制的模块，受控模块3包括若干个受控单元，主控模块2同时与这些受控单元电连接，以实现一个主控模块2同时对多个受控单元进行控制。更具体地，在本发明的一个实施例中，受控模块3包括第一受控单元31、第二受控单元32、第三受控单元33、第四受控单元34，此时本发明提供的多通道光源控制电路为四通道光源控制电路。优选地，通道切换电路233中设置有电压记录单元和数据分析单元。具体地，通道切换电路233用于根据增益电压信号的信号强度将增益电压信号通过模拟量输出接口234传输至对应的受控单元。更具体地，每一个受控单元均具有对应的增益电压信号的信号强度的判定范围，当一个增益电压信号的信号强度处于某个受控单元对应的增益电压型号的信号强度的判定范围时，该增益电压信号就会被传输至该受控单元。需要说明的是，在一些电路设计中，受控单元之间的信号强度判定范围并非连续的，例如：第一受控单元31对应的信号强度判断范围和第二受控单元32对应的信号强度判断范围之间存在间隔，在通常情况下，增益电压信号要么满足第一受控单元31的判定范围，要么满足第二受控单元32的判定范围，不会出现在该间隔区域中。然而，当信号的产生与传输过程中出现波动时，可能会出现信号强度处于间隔区域之中的情况，此时就无法根据判定范围对信号进行传输。具体地，本发明在通道切换电路中添加设置电压记录单元与数据分析单元，电压记录单元用于对接收过的增压电压信号的信号强度和接收增益电压信号的受控单元进行记录，数据分析单元用于根据记录生成增益电压信号的分配历史图谱，分配历史图谱用于描述增益电压信号的信号强度与接收增益电压信号的受控单元之间的关系。更具体地，当出现信号强度介于各个受控单元接收的增益电压信号对应的信号强度范围之间的增益电压信号时，根据分配历史图谱判断增益电压信号的信号强度更接近哪一个受控单元对应的信号强度范围，并将增益电压信号传输至受控单元。需要说明的是，判断上述增益电压信号的信号强度更加接近哪一个受控单元对应的信号强度范围的具体方式是：在分配历史图谱中，记载着各个受控单元对应的判定范围中的增益电压信号的具体信号强度，将上述增益电压信号的信号强度分别与相邻的两个判定范围内的增益电压信号的具体信号强度进行平均差值计算，根据计算结果，平均差值较小的那一方即为上述增益电压信号将传输至的受控单元。优选地，受控模块3包括第一受控单元31、第二受控单元32、第三受控单元33、第四受控单元34、第五受控单元、第六受控单元、第七受控单元、第八受控单元。具体地，在本发明提供的另一个实施例中，受控模块3包括第一受控单元31、第二受控单元32、第三受控单元33、第四受控单元34、第五受控单元、第六受控单元、第七受控单元、第八受控单元，此时本发明提供的多通道光源控制电路为八通道光源控制电路。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
