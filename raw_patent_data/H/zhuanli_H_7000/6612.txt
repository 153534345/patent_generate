标题title
一种多策略改进BP神经网络的WSN节点定位方法
摘要abst
本发明公开了一种多策略改进BP神经网络的WSN节点定位方法，首先利用鲸鱼优化算法的三种改进机制分别优化BP神经网络使之不仅增强了训练效果还提升了网络的鲁棒性；其次将经过扩展卡尔曼滤波的接收信号强度值作为神经网络的输入值，距离作为输出值对REW‑BP神经网络进行训练，最后提出新的数学模型求解待测节点的坐标信息，实验仿真表明，相较于标准质心、加权质心、BP加权质心、WOA‑BP加权质心定位算法，所提算法的平均定位误差要比以上四种算法分别降低58.23％、42.71％、31.89％、17.57％。
权利要求书clms
1.一种多策略改进BP神经网络的WSN节点定位方法，其特征在于，具体包括以下步骤：S1：针对标准RSSI测距过度依赖经验值和环境系数的问题构建REW-BP神经网络测距模型；S2:利用鲸鱼优化算法的三种改进机制分别优化BP神经网络使之不仅增强了训练效果还提升了网络的鲁棒性；S3:训练REW-BP神经网络测距模型得到待测节点与锚节点间的距离；S4:计算待测节点的坐标；所述S1步骤中，构建REW-BP神经网络测距模型包括两个阶段，第一阶段为正向传播，首先将每个输入的RSSI值与其对应的权值相乘，权值是在模型训练之前随机生成的一个数值，用于表示输入对输出的重要程度，其次将每个乘积的结果与其对应的偏置向量相加，偏置向量也是在模型训练之前随机生成的一个数值，用于调整整体输出的偏移量；式中：Ij为净输入值；Wij为神经元i到神经元j的权值；Oi为输入值，此处为输入的RSSI值；Bj偏置向量；将得到的结果Ij带入式利用sigmoid激活函数进行计算，得到输出的距离值；式中：Oj为神经网络的输出值，此处为神经网络预测的距离值；第二阶段为反向传播，目的是对神经网络的输出距离和真实距离之间的误差进行分析，这个误差表示了神经网络在当前状态下的性能表现，通过调整网络的权重和偏差实现误差最小化，以提高网络的性能，系统误差函数如下式：式中：Tj为真实的距离值；Oj为上式中神经网络预测的距离值；通过式计算出最后一层的误差，然后将该误差利用梯度下降法进行反向传播，将后一层的误差通过权重矩阵传递到上一层，计算每个神经元的误差，根据误差和学习率更新每个神经元的权值和阈值，使用更新后的权值和阈值再次进行正向传播计算输出的距离值，直到输出的距离值和真实距离值之间的误差小于设置的范围为止，否则将一直循环更新权值和阈值；式中：W′j为权重的更新量；B′j为偏置更新量l为学习率，取值范围为。2.根据权利要求1所述的一种多策略改进BP神经网络的WSN节点定位方法，其特征在于，所述S2步骤中包括有四个阶段，第一阶段为改进sine映射的初始化：传统的BP神经网络在训练的过程中往往会出现收敛速度慢的问题本发明提出了一种改进的Sine混沌映射改进了神经网络的收敛速度从而可以更快的达到训练目标,用两个控制参数来计算序列数，其混沌性要好于原始的Sine混顿映射序列；式中：ai和bi的初始值取值范围为；控制参数κ为1200；yi+1为迭代混沌序列值；％为取余数运算，ub和lb分别为搜索上界和下界；第二阶段为包围猎物阶段：在现实中座头鲸能够识别猎物的位置并将其围成一圈，IWOA算法假设当前最佳候选解位置为目标猎物位置，在定义了目标猎物位置后，其他鲸鱼将进行尝试包围到目标猎物的位置；X＝X*-A×D A＝2×a×rand-a D＝|C×X*-X| C＝2×rand 式中：t为当前迭代次数，A和C为系数，X为当前解的位置，X*为是当前最优解的位置，a在迭代的过程中逐渐从2减小至0；第三阶段为气泡网捕食法：a、收缩包围通过降低a的值来实现收缩包围，由于A的范围为，因此，当a减小时，A的波动范围也会缩小；b、引入自适应权重因子的螺旋更新引入自适应权重因子的螺旋更新，能够全局搜索最优解，相比于传统的BP神经网络算法引入自适应权重因子可以避免陷入局部最优解，从而提高了神经网络的泛化能力和稳定性；根据当前鲸鱼种群的分布情况实时进行权值调整见公式：w＝d1·+d2·/ng 式中：ng表示种群的迭代次数；d1和d2是两个常数；模拟鲸鱼的收缩包围和螺旋更新机制，假设这两种机制执行的概率相等，可以用式表示：第四阶段引入反馈机制的搜索猎物：除了气泡网捕食法，座头鲸还会随机寻找猎物，同样通过改变的值来实现，当A的绝对值大于1时，鲸鱼将会远离目标猎物，与气泡网捕食阶段相反，这里将随机选择一个个体的位置作为参考来更新下一个位置，而不是目前为止最优的个体位置，该阶段相当于探索阶段；通过引入反馈机制可以增加种群的多样性，可与处于当前最佳位置的鲸鱼交换信息，避免了随机个体的盲目性，从而提升了神经网络的训练效果，使其更准确的进行预测和分类,其数学模型见式：X＝Xrand-A×D D＝|C×Xrand-X| 。3.根据权利要求1所述的一种多策略改进BP神经网络的WSN节点定位方法，其特征在于，所述S1步骤中，首先利用随机函数在1-50之间生成500个随机数作为实验距离值，取A＝-45dBm、n＝2带入RSSI-d转化公式计算其对应的RSSI值，然后按照4:1的比例随机选择400对数据作为神经网络的训练数据集，100对数据作为测试集，输入REW-BP神经网络中进行训练；其次利用扩展卡尔曼滤波对测距模型进行优化，在RSSI值输入神经网络前，先利用扩展卡尔曼滤波通过迭代的方式进行优化，每次迭代都会更新估计结果，通过不断地融合测量数据和系统模型，可以逐渐减小估计结果的误差，以便得到相对稳定的RSSI值，从而提高测距的准确性，按照扩展卡尔曼原理，对于某一时刻，某个位置点有两个接收信号强度值，一个是预估值，一个是测量值，利用这两个值再结合各自的噪声，就可以计算出目标点实际的接收信号强度值，将经过滤波后的RSSI值输入进REW-BP神经网络即可得到待测节点与锚节点间的距离。4.根据权利要求1所述的一种多策略改进BP神经网络的WSN节点定位方法，其特征在于，所述S4步骤中，通过引入新的数学模型求解待测节点的坐标信息,在RSSI及其模型的基础上考虑了锚节点与待测节点的远近程度对待测节点的影响，通过赋予给节点不同的权重，增加定位精度其表达式见公式,5.根据权利要求1所述的一种多策略改进BP神经网络的WSN节点定位方法，其特征在于，在所述S1中，由标准RSSI测距算法可知，在计算未知节点到锚节点之间的距离时，选取固定的环境参数和信号常数，导致算法的测距误差增大，因此构建REW-BP神经网络测距模型代替传统的测距公式，避免了不同的环境参数值得到的距离值差别较大，从而影响最后的定位效果的情况。6.根据权利要求1所述的一种多策略改进BP神经网络的WSN节点定位方法，其特征在于，在所述S1中，BP神经网络当网络层数较多时，梯度很容易出现消失或爆炸的问题以及训练过程需要多次的前向传播和反向传播，每次迭代都需要计算大量的梯度和更新参数，这使得BP神经网络的训练速度相对较慢，针对这一问题在所述S2中，利用鲸鱼优化算法的三种改进机制分别优化BP神经网络使之不仅增强了训练效果还提升了网络的鲁棒性。7.根据权利要求1所述的一种多策略改进BP神经网络的WSN节点定位方法，其特征在于，在所述S3中，利用扩展卡尔曼滤波对测距模型进行优化，在RSSI值输入神经网络前，先利用扩展卡尔曼滤波通过迭代的方式进行优化，每次迭代都会更新估计结果，通过不断地融合测量数据和系统模型，可以逐渐减小估计结果的误差，以便得到相对稳定的RSSI值，从而提高测距的准确性。8.根据权利要求1所述的一种多策略改进BP神经网络的WSN节点定位方法，其特征在于，在所述S4中通过引入新的数学模型求解待测节点的坐标信息，在RSSI及其模型的基础上考虑了锚节点与待测节点的远近程度对待测节点的影响，通过赋予给节点不同的权重，增加其定位精度。
说明书desc
技术领域本发明涉及信息科学传感器定位术领域，尤其涉及一种多策略改进BP神经网络的WSN节点定位方法。背景技术无线传感器网络是一种由微型传感节点组成的网络，这些节点被部署在特定区域，传感器节点的主要功能是感知、采集和处理监测对象信息，并精准确定节点的位置，尤其是在网络分布比较危险或环境区域复杂的情况下，只有准确定位节点位置，才能确保收集到的各种检测信息具有意义。截至目前，定位算法根据是否测得距离分为两类：测距算法与非测距算法，基于距离的算法主要包括角度和距离的测量。而非测距依赖于节点的连通性，如定位的跳数，不需要任何额外的硬件支持。典型的算法有DV-Hop算法，APIT算法等。RSSI算法是基于测距的定位算法，该算法的实现主要分为以下两个步骤：计算未知节点距各锚节点的距离和利用质心定位算法计算未知节点的坐标。RSSI测距是指将待测节点接收到来自其对应锚节点的RSSI值，利用RSSI-d转换公式计算得到两者之间的距离。传统的测距模型选取固定的A和n利用公式转化成距离不同的环境参数值得到的距离值差别较大从而影响了最终的定位效果。发明内容本发明公开一种多策略改进BP神经网络的WSN节点定位方法，算法首先利用鲸鱼优化算法的三种改进机制分别优化BP神经网络以接收信号强度为输入值，距离值为输出值，构建REW-BP神经网络去代替传统的测距公式，接着利用扩展卡尔曼滤波算法将经过平滑处理的接收信号强度输入进构建完成的REW-BP神经网络中，以便得到更加准确的距离值，最后根据未知节点与锚节点间的距离关系，提出了一种新的数学模型求解待测节点的坐标信息，以距离的倒数为权重进行定位，从而获得更好的定位精度。WOA算法通过模拟鲸鱼的觅食行为来解决优化问题。在鲸鱼觅食过程中，鲸鱼会根据自身的位置和周围环境的信息来选择合适的觅食策略。WOA算法中，每个鲸鱼个体代表一个潜在的解决方案，其位置表示该解决方案在搜索空间中的位置。算法通过不断迭代更新鲸鱼个体的位置来寻找最优解。将鲸鱼优化算法应用于无线传感器网络节点定位算法中，可以提高节点定位的精度和效率。通过模拟鲸鱼的觅食行为，算法可以有效地搜索节点的最优位置，从而提高定位的准确性。同时，鲸鱼优化算法也可以应用于其他领域的优化问题，具有广泛的应用前景。为了实现上述目的，本发明采用了如下技术方案：一种多策略改进BP神经网络的WSN节点定位方法，具体包括以下步骤：S1：针对标准RSSI测距过度依赖经验值和环境系数的问题构建REW-BP神经网络测距模型；S2:首先利用鲸鱼优化算法的三种改进机制分别优化BP神经网络使之不仅增强了训练效果还提升了网络的鲁棒性；S3:训练REW-BP神经网络测距模型得到待测节点与锚节点间的距离；S4:计算待测节点的坐标；所述S1步骤中，构建REW-BP神经网络测距模型包括两个阶段，第一阶段为正向传播，首先将每个输入的RSSI值与其对应的权值相乘，权值是在模型训练之前随机生成的一个数值，用于表示输入对输出的重要程度，其次将每个乘积的结果与其对应的偏置向量相加，偏置向量也是在模型训练之前随机生成的一个数值，用于调整整体输出的偏移量；式中：Ij为净输入值；Wij为神经元i到神经元j的权值；Oi为输入值，此处为输入的RSSI值；Bj偏置向量。我们将得到的结果Ij带入式利用sigmoid激活函数进行计算，得到输出的距离值；式中：Oj为神经网络的输出值，此处为神经网络预测的距离值；第二阶段为反向传播，目的是对神经网络的输出距离和真实距离之间的误差进行分析，这个误差表示了神经网络在当前状态下的性能表现，通过调整网络的权重和偏差实现误差最小化，以提高网络的性能，系统误差函数如下式：式中：Tj为真实的距离值；Oj为上式中神经网络预测的距离值；通过式计算出最后一层的误差，然后将该误差利用梯度下降法进行反向传播，将后一层的误差通过权重矩阵传递到上一层，计算每个神经元的误差，根据误差和学习率更新每个神经元的权值和阈值，使用更新后的权值和阈值再次进行正向传播计算输出的距离值，直到输出的距离值和真实距离值之间的误差小于设置的范围为止，否则将一直循环更新权值和阈值；式中：Wj'为权重的更新量；B'j为偏置更新量l为学习率，取值范围为。在一个优选的方案中，所述S2步骤中包括有四个阶段，第一阶段为改进sine映射的初始化：传统的BP神经网络在训练的过程中往往会出现收敛速度慢的问题本发明提出了一种改进的Sine混沌映射改进了神经网络的收敛速度从而可以更快的达到训练目标。用两个控制参数来计算序列数，其混沌性要好于原始的Sine混顿映射序列；式中：ai和bi的初始值取值范围为；控制参数κ为1200；yi+1为迭代混沌序列值；％为取余数运算，ub和lb分别为搜索上界和下界。第二阶段为包围猎物阶段：在现实中座头鲸能够识别猎物的位置并将其围成一圈，IWOA算法假设当前最佳候选解位置为目标猎物位置，在定义了目标猎物位置后，其他鲸鱼将进行尝试包围到目标猎物的位置；X＝X*-A×D A＝2×a×rand-a D＝|C×X*-X| C＝2×rand 式中：t为当前迭代次数，A和C为系数，X为当前解的位置，X*为是当前最优解的位置，a在迭代的过程中逐渐从2减小至0；第三阶段为起泡网捕食法：a、收缩包围通过降低a的值来实现收缩包围，由于A的范围为，因此，当a减小时，A的波动范围也会缩小；b、引入自适应权重因子的螺旋更新引入自适应权重因子的螺旋更新，能够全局搜索最优解，相比于传统的BP神经网络算法引入自适应权重因子可以避免陷入局部最优解，从而提高了神经网络的泛化能力和稳定性。根据当前鲸鱼种群的分布情况实时进行权值调整见公式：w＝d1·+d2·/ng式中：ng表示种群的迭代次数；d1和d2是两个常数；调节的作用在于当种群迭代次数过大时，可以有效地调整权重，使得种群能够更好地探索空间，后半部分主要调节作用在于当种群陷入局部最优时，可以通过调整权重来帮助种群跳出局部最优，进一步搜索更优解，此外，权重的前后两部分会根据当前种群位置的变化情况而发生变化，不拘于某种固定的形式，具有很强的自适应性，这意味着权重可以根据具体情况进行动态调整，从而更好地适应不同的搜索环境和问题特征，这种自适应性可以提高算法的鲁棒性和适应性，使得算法更加灵活和有效，为了同时模拟鲸鱼的收缩包围和螺旋更新机制，假设这两种机制执行的概率相等，可以用式表示：第四阶段入反馈机制的搜索猎物除了气泡网捕食法，座头鲸还会随机寻找猎物，同样通过改变的值来实现，当A的绝对值大于1时，鲸鱼将会远离目标猎物，与气泡网捕食阶段相反，这里将随机选择一个个体的位置作为参考来更新下一个位置，而不是目前为止最优的个体位置，该阶段相当于探索阶段；通过引入反馈机制可以增加种群的多样性，可与处于当前最佳位置的鲸鱼交换信息，避免了随机个体的盲目性，从而提升了神经网络的训练效果，使其更准确的进行预测和分类。其数学模型见式：X＝Xrand-A×D D＝|C×Xrand-X| 在一个优选的方案中，所述S3步骤中，首先利用随机函数在1-50之间生成500个随机数作为实验距离值，取A＝-45dBm、n＝2带入RSSI-d转化公式计算其对应的RSSI值，然后按照4:1的比例随机选择400对数据作为神经网络的训练数据集，100对数据作为测试集。输入REW-BP神经网络中进行训练；其次利用扩展卡尔曼滤波对测距模型进行优化，在RSSI值输入神经网络前，先利用扩展卡尔曼滤波通过迭代的方式进行优化，每次迭代都会更新估计结果，通过不断地融合测量数据和系统模型，可以逐渐减小估计结果的误差，以便得到相对稳定的RSSI值，从而提高测距的准确性，按照扩展卡尔曼原理，对于某一时刻，某个位置点有两个接收信号强度值，一个是预估值，一个是测量值，利用这两个值再结合各自的噪声，就可以计算出目标点实际的接收信号强度值，将经过滤波后的RSSI值输入进REW-BP神经网络即可得到待测节点与锚节点间的距离。在一个优选的方案中，所述S4步骤中，通过引入新的数学模型求解待测节点的坐标信息,在RSSI及其模型的基础上考虑了锚节点与待测节点的远近程度对待测节点的影响，通过赋予给节点不同的权重，增加定位精度其表达式见公式。第二层面，本发明实施的实例提供一种计算机可读存储介质，其中包含计算机程序，该程序被CPU处理时可实现第一层面所供的方法步骤。在一个优选的方案中，在所述S1中，由标准RSSI测距算法可知，在计算未知节点到锚节点之间的距离时，选取固定的环境参数和信号常数，导致算法的测距误差增大，因此构建REW-BP神经网络测距模型代替传统的测距公式，避免了不同的环境参数值得到的距离值差别较大，从而影响最后的定位效果的情况。在一个优选的方案中，在所述S1中，BP神经网络当网络层数较多时，梯度很容易出现消失或爆炸的问题以及训练过程需要多次的前向传播和反向传播，每次迭代都需要计算大量的梯度和更新参数，这使得BP神经网络的训练速度相对较慢，针对这一问题在所述S2中，利用鲸鱼优化算法的三种改进机制分别优化BP神经网络使之不仅增强了训练效果还提升了网络的鲁棒性。在一个优选的方案中，在所述S3中，利用扩展卡尔曼滤波对测距模型进行优化，在RSSI值输入神经网络前，先利用扩展卡尔曼滤波通过迭代的方式进行优化，每次迭代都会更新估计结果，通过不断地融合测量数据和系统模型，可以逐渐减小估计结果的误差，以便得到相对稳定的RSSI值，从而提高测距的准确性。在一个优选的方案中，在所述S4中通过引入新的数学模型求解待测节点的坐标信息，在RSSI及其模型的基础上考虑了锚节点与待测节点的远近程度对待测节点的影响，通过赋予给节点不同的权重，增加其定位精度。由上可知，本发明包括以下步骤：步骤1：利用REW-BP神经网络构建神经网络测距模型；步骤2：在RSSI值输入神经网络前，先利用扩展卡尔曼滤波通过迭代的方式进行化，每次迭代都会更新估计结果。通过不断地融合测量数据和系统模型，可以逐渐减小估计结果的误差，以便得到相对稳定的RSSI值，从而提高测距的准确性；步骤3：通过REW-BP输出的距离利用新的数学模型求解待测节点的坐标信息，以距离的倒数为权重进行定位，从而获得更好的定位精度。本发明提供的一种多策略改进BP神经网络的WSN节点定位方法具有以下技术效果：本发明为了解决传统的测距模型过度依赖经验值、定位精度低以及,BP神经网络当网络层数较多时，梯度很容易出现消失或爆炸的问题以及训练过程需要多次的前向传播和反向传播，每次迭代都需要计算大量的梯度和更新参数，这使得BP神经网络的训练速度相对较慢，为此本文提出了一种基于REW-BP神经网络的RSSI测距模型。本发明提出了一种多策略改进BP神经网络的WSN节点定位方法，相较于标准质心、加权质心、BP加权质心、WOA-BP加权质心定位算法，所提算法的平均定位误差要比以上四种算法分别降低58.23％、42.71％、31.89％、17.57％。本发明逻辑简单、易于实现和扩展，可以将种群智能优化算法扩展到当前无线传感器网络节点定位的大多数问题中。附图说明图1为本发明提出的一种多策略改进BP神经网络的WSN节点定位方法系统的距离对比图。图2为本发明提出的一种多策略改进BP神经网络的WSN节点定位方法系统的测距误差对比图。图3为本发明提出的一种多策略改进BP神经网络的WSN节点定位方法系统的锚节点个数对定位误差的影响图。图4为本发明提出的一种多策略改进BP神经网络的WSN节点定位方法系统的节点总数对定位误差的影响图。图5为本发明提出的一种多策略改进BP神经网络的WSN节点定位方法系统的信半径对定位误差的影响图。图6为本发明提出的一种多策略改进BP神经网络的WSN节点定位方法系统的REW-BP神经网络结构图.图7为本发明提出的一种多策略改进BP神经网络的WSN节点定位方法系统的具体步骤。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。参照图1-图7，一种多策略改进BP神经网络的WSN节点定位方法，算法首先利用鲸鱼优化算法的三种改进机制分别优化BP神经网络使之在增强了训练效果的同时还提升了网络的鲁棒性；其次将经过扩展卡尔曼滤波的接收信号强度值作为神经网络的输入值，距离作为输出值对REW-BP进行训练，最后对待测节点进行定位，具体包括以下步骤：步骤1：针对标准RSSI测距过度依赖经验值和环境系数的问题构建REW-BP神经网络测距模型；第一阶段为正向传播。首先将每个输入的RSSI值与其对应的权值相乘。权值是在模型训练之前随机生成的一个数值，用于表示输入对输出的重要程度。其次将每个乘积的结果与其对应的偏置向量相加，偏置向量也是在模型训练之前随机生成的一个数值，用于调整整体输出的偏移量。式中：Ij为净输入值；Wij为神经元i到神经元j的权值；Oi为输入值，此处为输入的RSSI值；Bj偏置向量。我们将得到的结果Ij带入式利用sigmoid激活函数进行计算，得到输出的距离值。式中：Oj为神经网络的输出值，此处为神经网络预测的距离值。第二阶段为反向传播。目的是对神经网络的输出距离和真实距离之间的误差进行分析，这个误差表示了神经网络在当前状态下的性能表现。通过调整网络的权重和偏差实现误差最小化，以提高网络的性能。系统误差函数如下式：式中：Tj为真实的距离值；Oj为上式中神经网络预测的距离值。通过式计算出最后一层的误差，然后将该误差利用梯度下降法进行反向传播，将后一层的误差通过权重矩阵传递到上一层，计算每个神经元的误差，根据误差和学习率更新每个神经元的权值和阈值，使用更新后的权值和阈值再次进行正向传播计算输出的距离值，直到输出的距离值和真实距离值之间的误差小于设置的范围为止，否则将一直循环更新权值和阈值。式中：W′ij为权重的更新量；B′j为偏置更新量l为学习率，取值范围为。步骤2:利用改进鲸鱼优化算法去迭代寻优适合BP的权值和阈值；第一阶段为初始化传统的BP神经网络在训练的过程中往往会出现收敛速度慢的问题本发明提出了一种改进的Sine混沌映射改进了神经网络的收敛速度从而可以更快的达到训练目标。用两个控制参数来计算序列数，其混沌性要好于原始的Sine混顿映射序列；式中：ai和bi的初始值取值范围为；控制参数κ为1200；yi+1为迭代混沌序列值；％为取余数运算；ub和lb分别为搜索上界和下界。第二阶段包围猎物阶段在现实中座头鲸能够识别猎物的位置并将其围成一圈。IWOA算法假设当前最佳候选解位置为目标猎物位置，在定义了目标猎物位置后，其他鲸鱼将进行尝试包围到目标猎物的位置。X＝X*-A×D A＝2×a×rand-a D＝|C×X*-X|C＝2×rand 式中：t为当前迭代次数，A和C为系数，X为当前解的位置，X*为是当前最优解的位置，a在迭代的过程中逐渐从2减小至0。第三阶段起泡网捕食法a、收缩包围通过降低a的值来实现收缩包围，由于A的范围为。因此，当a减小时，A的波动范围也会缩小b、引入自适应权重因子的螺旋更新引入自适应权重因子的螺旋更新，能够全局搜索最优解，相比于传统的BP神经网络算法引入自适应权重因子可以避免陷入局部最优解，从而提高了神经网络的泛化能力和稳定性。根据当前鲸鱼种群的分布情况实时进行权值调整见公式：w＝d1·+d2·/ng 式中：ng表示种群的迭代次数；d1和d2是两个常数。调节的作用在于当种群迭代次数过大时，可以有效地调整权重，使得种群能够更好地探索空间。后半部分主要调节作用在于当种群陷入局部最优时，可以通过调整权重来帮助种群跳出局部最优，进一步搜索更优解。此外，权重的前后两部分会根据当前种群位置的变化情况而发生变化，不拘于某种固定的形式，具有很强的自适应性。这意味着权重可以根据具体情况进行动态调整，从而更好地适应不同的搜索环境和问题特征。这种自适应性可以提高算法的鲁棒性和适应性，使得算法更加灵活和有效。为了同时模拟鲸鱼的收缩包围和螺旋更新机制，假设这两种机制执行的概率相等，可以用式表示：第四阶段引入反馈机制的搜索猎物除了气泡网捕食法，座头鲸还会随机寻找猎物，同样通过改变的值来实现。当A的绝对值大于1时，鲸鱼将会远离目标猎物。与气泡网捕食阶段相反，这里将随机选择一个个体的位置作为参考来更新下一个位置，而不是目前为止最优的个体位置，该阶段相当于探索阶段。通过引入反馈机制可以增加种群的多样性，可与处于当前最佳位置的鲸鱼交换信息，避免了随机个体的盲目性，从而提升了神经网络的训练效果，使其更准确的进行预测和分类。其数学模型见式：X＝Xrand-A×D D＝C×Xrand-X步骤3:训练REW-BP神经网络测距模型得到待测节点与锚节点间的距离阶段一首先利用随机函数在1-50之间生成500个随机数作为实验距离值，取A＝-45dBm、n＝2带入RSSI-d转化公式计算其对应的RSSI值，然后按照4:1的比例随机选择400对数据作为神经网络的训练数据集，100对数据作为测试集。输入REW-BP神经网络中进行训练。阶段二利用扩展卡尔曼滤波对测距模型进行优化。在RSSI值输入神经网络前，先利用扩展卡尔曼滤波通过迭代的方式进行优化，每次迭代都会更新估计结果。通过不断地融合测量数据和系统模型，可以逐渐减小估计结果的误差，以便得到相对稳定的RSSI值，从而提高测距的准确性。按照扩展卡尔曼原理，对于某一时刻，某个位置点有两个接收信号强度值，一个是预估值，一个是测量值，利用这两个值再结合各自的噪声，就可以计算出目标点实际的接收信号强度值。将经过滤波后的RSSI值输入进REW-BP神经网络即可得到待测节点与锚节点间的距离。步骤4:计算待测节点的坐标通过引入新的数学模型求解待测节点的坐标信息在RSSI及其模型的基础上考虑了锚节点与待测节点的远近程度对待测节点的影响，通过赋予给节点不同的权重，增加定位精度其表达式见公式。下面结合附图对本发明提出的一种多策略改进BP神经网络的RSSI节点定位算法做进一步说明。本发明算法的具体步骤附图7所示：为了验证基于优化BP神经网络的RSSI节点定位算法的测距精度和定位精度，实验分为测距误差对比和定位误差对比两部分。采用MATLAB2021a进行模拟仿真实验。测距误差分析首先利用随机函数在1-50之间生成500个随机数作为实验距离值，取A＝-45dBm、n＝2带入公式计算其相对应的RSSI值，然后按照4:1的比例随机选择400对数据作为各个神经网络的训练数据集，100对数据作为测试集，其中信号强度作为输入值，距离值作为输出值，接下来采用三种不同的神经网络进行实验，分别采用GA-BP神经网络、BP神经网络和本发明的REW-BP神经网络。REW-BP神经网络的参数设置中鲸鱼的种群数量为30、最大迭代次数为50次、回归值为0.98、隐含层个数为11，以距离之差Δn为评价指标。测距对比由图1和表1可以看出REW-BP神经网络预测和WOA-BP神经网络预测与真值基本重合，但在放大图中可以明显看出REW-BP测距模型的距离值和真值的拟合程度更高、折线的曲折程度更小，证明其具有更好的稳定性和测距精度。图2的横坐标表示信号强度，纵坐标测距的误差，从图中可以观察到，REW-BP神经网络测距模型和WOA-BP神经网络测距模型的预测值与真实值误差较小预测误差仅在毫米级，比GA-BP神经网络和BP模型误差更小。通过以上对比可以发现REW-BP测距模型平均测距误差相较于WOA-BP神经网络测距模型降低0.0125m，最小误差降低了0.0063m，最大测距误差降低了0.0169m；相较于GA-BP神经网络测距模型，平均测距误差降低0.23825m，最小误差降低了0.1169m，最大测距误差降低了0.3641m；相较于BP神经网络测距模型，平均测距误差降低了0.84685m，最小误差降低了0.7485m，最大测距误差降低了1.0386m。综上所述：本文提出的REW-BP神经网络训练的路径损耗模型在预测未知节点和锚节点之间的距离值相较于WOA-BP神经网络、BP神经网络和GA-BP神经网络的测距精度均有所提升。其中比WOA-BP神经网络平均测距误差降低32.216％。定位误差分析在100m×100m的无线传感器网络监控区域内随机布置传感器节点，实验路径的损耗n设为2，为了创造真实环境中的自然因素、遮挡、反射等外在条件的影响，加入随机噪声来模拟这些环境因素，范围为。平均定位误差是评价定位算法优劣性的主要指标，因此需要通过公式计算相对定位误差。由公式进行误差归一化计算平均定位误差。其中是待测节点的真实坐标，是待测节点的估计坐标，r为通信半径。其中AE为平均定位误差，N为未知节点的个数，Ei为第i个未知节点的定位误差。通过仿真实验，对比标准质心定位算法、加权质心定位、BP加权质心定位、WOA-BP加权质心定位和REW-BP算法定位算法在不同通信半径，总节点数，锚节点数下的平均定位误差。这5种定位算法在在不同锚节点数目下的平均定位误差折线图；如图3在总节点数为100，节点通信半径为30m固定的情况下，锚节点数由20逐步增加至50，随着锚节点个数的增加未知节点的平均定位误差会随之减小。当锚节点总数为20的情况下，标准质心定位算法的定位误差为42.9％，加权质心算法的定位误差为39.07％，BP加权质心定位误差为39.02％，WOA-BP加权质心定位误差为32.39％，REW-BP算法定位误差为31.45％。当锚节点总数为50的情况下，标准质心定位算法的定位误差为27.57％，加权质心算法的定位误差为21.41％，BP加权质心定位误差为26％，WOA-BP加权质心定位误差为19.99％，REW-BP算法定位误差为19.13％。综上所述本文提出的改进算法的平均定位误差要比标准质心定位算法降低46.2％，比加权质心算法降低了31.69％，比BP加权质心算法降低24.1％，比WOA-BP加权质心算法降低了7.1％图4描述了固定锚节点数为100，通信半径为30m的情况下，总节点数由70逐步增加至220，随着总节点数的增加未知节点的平均定位误差随之减小。当总节点数目为100的情况下，标准质心定位算法的定位误差为35.67％，加权质心算法的定位误差为31.87％，BP加权质心定位误差为29.57％，WOA-BP加权质心定位误差为26.72％，REW-BP算法定位误差为21.72％。当总节点数目为200的情况下，标准质心定位算法的定位误差为26.68％，加权质心算法的定位误差为23.76％，BP加权质心定位误差为21.74％，WOA-BP加权质心定位误差为20.75％，REW-BP算法定位误差为14.13％。综上所述本文改进算法的平均定位误差要比标准质心定位算法降低64.52％，比加权质心算法降低了46.69％，比BP加权质心算法降低了34.43％，比WOA-BP加权质心算法降低了25.43％。图5描述了在固定总节点数为100，锚节点数目为30的情况下，通信半径由20逐步增加至50，随着通信半径的增加未知节点的平均定位误差随之减小。当通信半径为20的情况下，标准质心定位算法的定位误差为57.21％，加权质心算法的定位误差为52.81％，BP加权质心定位误差为48.81％，WOA-BP加权质心定位误差为45.6％，REW-BP算法定位误差为40.79％。当通信半径为50的情况下，标准质心定位算法的定位误差为27.66％，加权质心算法的定位误差为22.9％，BP加权质心定位误差为25.91％，WOA-BP加权质心定位误差为22.09％，REW-BP算法定位误差为19.11％。综上所述本文改进算法的平均定位误差比标准质心定位算法降低63.88％，比加权质心算法降低49.74％，比BP加权质心算法降低37.15％，比WOA-BP加权质心算法降低了20.18％。需要强调的是，本发明所述的实施例是说明性的，而不是限定性的，因此本发明并不限于具体实施方式中所述的实施例，凡是由本领域技术人员根据本发明的技术方案得出的其他实施方式，同样属于本发明保护的范围。以上所述，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，根据本发明的技术方案及其发明构思加以等同替换或改变，都应涵盖在本发明的保护范围之内。
