标题title
一种可全方位转动监视的安防摄像头
摘要abst
本发明涉及一种可全方位转动监视的安防摄像头，包括摄像头模块、俯仰转台、水平转台、连接底座以及壁装支架，水平转台的壳体外壁上同轴设置有固定齿环，固定齿环的顶面上沿其周向设置有啮合齿；该安防摄像头还包括第一角度传感器，第一角度传感器的主体与连接底座的外壳连接固定，第一角度传感器的轴体上同轴连接有第一齿轮，第一齿轮与固定齿环啮合；该安防摄像头还包括用于控制摄像头模块、水平转台和俯仰转台的控制装置，第一角度传感器与控制装置连接。通过该可安防摄像头可以实现对不同区域的差异化监控，在不改变巡防周期时长的前提下自动分配各个视野区域的监控时长，监控策略更加合理，起到更好的监控效果。
权利要求书clms
1.一种可全方位转动监视的安防摄像头，包括摄像头模块、俯仰转台、水平转台、连接底座以及壁装支架，其特征是：所述水平转台的壳体外壁上同轴设置有固定齿环，所述固定齿环的顶面上沿其周向设置有啮合齿；该安防摄像头还包括第一角度传感器，所述第一角度传感器的主体与连接底座的外壳连接固定，所述第一角度传感器的轴体上同轴连接有第一齿轮，所述第一齿轮与固定齿环啮合；该安防摄像头还包括用于控制摄像头模块、水平转台和俯仰转台的控制装置，所述第一角度传感器与控制装置连接；根据摄像头模块的视野角度将水平方向360度视场均匀划分为n个视野区域；该安防摄像头启动后，控制装置控制水平转台循环往复转动，同时控制摄像头模块开始拍摄，在水平转台转动的过程中第一角度传感器实时检测其转过的角度并将角度检测结果反馈至控制装置，控制装置可以据此判断摄像头模块所在的视野区域；控制装置对摄像头模块拍摄的视频画面中的行人、人数以及异常行为进行识别，当识别到行人和异常行为时控制装置记录摄像头模块当前所在的视野区域、行人的数量以及异常行为次数；经过预定调整周期后，控制装置对各个视野范围内累计拍摄到的行人总数、异常行为次数进行统计；控制装置预设有“行人热度”计算公式：X=a×M+b×N，式中X代表行人热度值、M为累计行人数量、N为累计异常行为数量、a和b分别为预设的权重系数，对于各个视野区域，控制装置计算其行人热度值；控制装置预设有“监控权重”计算公式：D=X/，式中D代表目标视野区域的监控权重值，X1、X2、X3、Xn分别代表各个视野区域的行人热度值，n为视野区域的数量；控制装置对摄像头模块在各个视野区域的监控时间进行修正，修正后的监控时间t=T×D/，式中t为目标视野区域的修正后的监控时间、T为水平转台的默认巡防周期、D为目标视野区域的监控权重值，D1、D2、D3、Dn分别代表各个视野区域的监控权重值；控制装置根据上述修正后的监控时间计算出在各个视野区域内水平转台对应的转动角速度，从水平转台的下一个转动周期开始，控制装置控制水平转台摄像头模块以对应的转动角速度依次经过各个视野区域。2.根据权利要求1所述的可全方位转动监视的安防摄像头，其特征是：该安防摄像头还包括活动齿环、驱动电机、第二角度传感器和雷达探测模块；所述活动齿环包括内环体和外环体，所述内环体与连接底座同轴设置且内环体的与连接底座的外壳连接固定，所述内环体的外壁上同轴设置有呈环形凹陷的内导槽，所述内导槽的截面形状为半圆形；所述外环体的内壁上同轴设置有呈环形凹陷的外导槽，所述外导槽的截面形状为半圆形；在内导槽和外导槽之间设置有多组滚珠；所述雷达探测模块朝向安防摄像头的外侧且雷达探测模块与外环体连接固定；所述驱动电机和第二角度传感器与连接底座固定，所述外环体的顶面上沿着其周向设置有啮合齿，所述驱动电机的输出轴上同轴固定有第二齿轮，所述第二齿轮与外环体啮合，所述第二角度传感器的轴体上同轴固定有第三齿轮，所述第三齿轮与第二齿轮啮合；所述第二角度传感器与控制装置连接，所述驱动电机与控制装置连接并受控制装置控制；在安防摄像头运行的过程中，驱动电机驱动外环体循环往复转动，第二角度传感器检测外环体的实时角度位置并将角度信息反馈至控制装置，控制装置据此判断雷达探测模块所在的视野区域，当雷达探测模块探测到行人且摄像头模块所在视野区域无行人时，控制装置将雷达探测模块所在的视野区域定为目标视野区域，此时控制装置控制水平转台转动，将摄像头模块转动至目标视野区域并沿来时的转动方向继续巡防。3.根据权利要求2所述的可全方位转动监视的安防摄像头，其特征是：该安防摄像头运行过程中，所述控制装置根据摄像头模块的水平转动方向和雷达探测模块的转动方向决定雷达探测模块的转动角速度并控制雷达探测模块以相应的角速度转动，当雷达探测模块与摄像头模块的水平转动方向相同时，控制装置计算出雷达探测模块的转动角速度ωx=k1×ωmax，式中ωmax表示各个视野区域对应的修正后的转动角速度中的最大值，k1为预设的计算常数，k1＞1；当雷达探测模块与摄像头模块的水平转动方向相反时，控制装置计算出雷达探测模块的转动角速度ωx=k2×ωmin，式中ωmin表示各个视野区域对应的修正后的转动角速度中的最小值，k2为预设的计算常数，k2＜1。4.根据权利要求2所述的可全方位转动监视的安防摄像头，其特征是：所述控制装置包括微处理模块，还包括与微处理模块连接的第一电机驱动模块、第二电机驱动模块、第三电机驱动模块、图像采集模块、存储模块、通信模块和电源模块；所述第一电机驱动模块与水平转台的电机连接，所述第二电机驱动模块与俯仰转台的电机连接、所述第三电机驱动模块与驱动电机连接、所述图像采集模块与摄像头模块连接。5.根据权利要求4所述的可全方位转动监视的安防摄像头，其特征是：所述电源模块为UPS电源。6.根据权利要求4所述的可全方位转动监视的安防摄像头，其特征是：所述通信模块为RJ45通信模块、物联卡通信模块或WIFI通信模块。
说明书desc
技术领域本发明涉及视频监控安防技术领域，具体涉及一种可全方位转动监视的安防摄像头。背景技术安防监控系统是应用光纤、同轴电缆或微波在其闭合的环路内传输视频信号，并从摄像到图像显示和记录构成独立完整的系统。它能实时、形象、真实地反映被监控对象，不但极大地延长了人眼的观察距离，而且扩大了人眼的机能，它可以在恶劣的环境下代替人工进行长时间监视，让人能够看到被监视现场的实际发生的一切情况，并通过录像机记录下来。作为安防监控系统的重要组成部分，安防摄像头广泛分布在公共安全、商业保安、社区管理、个人住宅等领域。现有的安防摄像头一般采用自动巡防的模式工作，即安防摄像头的水平转台驱动摄像头在水平面内周期性往复转动，从而能拍摄水平360度视场范围的图像。相比于固定式监控的摄像头，自动巡防的摄像头可以拍摄的范围更大，起到更好的监控和震慑作用。在实际的应用场景中摄像头周围不同区域的行人出现的频次会有差异。但是，目前摄像头的自动巡防功能，在一个转动周期内水平转台转动的速度都是恒定的，不能够针对各个区域进行差异化监控，监控策略不够合理，有待改进。发明内容基于上述表述，本发明提供了一种可全方位转动监视的安防摄像头，以解决现有的摄像头不能够针对各个区域进行差异化监控的缺陷。本发明解决上述技术问题的技术方案如下：一种可全方位转动监视的安防摄像头，包括摄像头模块、俯仰转台、水平转台、连接底座以及壁装支架，其特征是：所述水平转台的壳体外壁上同轴设置有固定齿环，所述固定齿环的顶面上沿其周向设置有啮合齿；该安防摄像头还包括第一角度传感器，所述第一角度传感器的主体与连接底座的外壳连接固定，所述第一角度传感器的轴体上同轴连接有第一齿轮，所述第一齿轮与固定齿环啮合；该安防摄像头还包括用于控制摄像头模块、水平转台和俯仰转台的控制装置，所述第一角度传感器与控制装置连接；根据摄像头模块的视野角度将水平方向360度视场均匀划分为n个视野区域；该安防摄像头启动后，控制装置控制水平转台循环往复转动，同时控制摄像头模块开始拍摄，在水平转台转动的过程中第一角度传感器实时检测其转过的角度并将角度检测结果反馈至控制装置，控制装置可以据此判断摄像头模块所在的视野区域；控制装置对摄像头模块拍摄的视频画面中的行人、人数以及异常行为进行识别，当识别到行人和异常行为时控制装置记录摄像头模块当前所在的视野区域、行人的数量以及异常行为次数；经过预定调整周期后，控制装置对各个视野范围内累计拍摄到的行人总数、异常行为次数进行统计；控制装置预设有“行人热度”计算公式：X=a×M+b×N，式中X代表行人热度值、M为累计行人数量、N为累计异常行为数量、a和b分别为预设的权重系数，对于各个视野区域，控制装置计算其行人热度值；控制装置预设有“监控权重”计算公式：D=X/，式中D代表目标视野区域的监控权重值，X1、X2、X3、Xn分别代表各个视野区域的行人热度值，n为视野区域的数量；控制装置对摄像头模块在各个视野区域的监控时间进行修正，修正后的监控时间t=T×D/，式中t为目标视野区域的修正后的监控时间、T为水平转台的默认巡防周期、D为目标视野区域的监控权重值，D1、D2、D3、Dn分别代表各个视野区域的监控权重值；控制装置根据上述修正后的监控时间计算出在各个视野区域内水平转台对应的转动角速度，从水平转台的下一个转动周期开始，控制装置控制水平转台摄像头模块以对应的转动角速度依次经过各个视野区域。作为优选方案：该安防摄像头还包括活动齿环、驱动电机、第二角度传感器和雷达探测模块；所述活动齿环包括内环体和外环体，所述内环体与连接底座同轴设置且内环体的与连接底座的外壳连接固定，所述内环体的外壁上同轴设置有呈环形凹陷的内导槽，所述内导槽的截面形状为半圆形；所述外环体的内壁上同轴设置有呈环形凹陷的外导槽，所述外导槽的截面形状为半圆形；在内导槽和外导槽之间设置有多组滚珠；所述雷达探测模块朝向安防摄像头的外侧且雷达探测模块与外环体连接固定；所述驱动电机和第二角度传感器与连接底座固定，所述外环体的顶面上沿着其周向设置有啮合齿，所述驱动电机的输出轴上同轴固定有第二齿轮，所述第二齿轮与外环体啮合，所述第二角度传感器的轴体上同轴固定有第三齿轮，所述第三齿轮与第二齿轮啮合；所述第二角度传感器与控制装置连接，所述驱动电机与控制装置连接并受控制装置控制；在安防摄像头运行的过程中，驱动电机驱动外环体循环往复转动，第二角度传感器检测外环体的实时角度位置并将角度信息反馈至控制装置，控制装置据此判断雷达探测模块所在的视野区域，当雷达探测模块探测到行人且摄像头模块所在视野区域无行人时，控制装置将雷达探测模块所在的视野区域定为目标视野区域，此时控制装置控制水平转台转动，将摄像头模块转动至目标视野区域并沿来时的转动方向继续巡防。作为优选方案：该安防摄像头运行过程中，所述控制装置根据摄像头模块的水平转动方向和雷达探测模块的转动方向决定雷达探测模块的转动角速度并控制雷达探测模块以相应的角速度转动，当雷达探测模块与摄像头模块的水平转动方向相同时，控制装置计算出雷达探测模块的转动角速度ωx=k1×ωmax，式中ωmax表示各个视野区域对应的修正后的转动角速度中的最大值，k1为预设的计算常数，k1＞1；当雷达探测模块与摄像头模块的水平转动方向相反时，控制装置计算出雷达探测模块的转动角速度ωx=k2×ωmin，式中ωmin表示各个视野区域对应的修正后的转动角速度中的最小值，k2为预设的计算常数，k2＜1。作为优选方案：所述控制装置包括微处理模块，还包括与微处理模块连接的第一电机驱动模块、第二电机驱动模块、第三电机驱动模块、图像采集模块、存储模块、通信模块和电源模块；所述第一电机驱动模块与水平转台的电机连接，所述第二电机驱动模块与俯仰转台的电机连接、所述第三电机驱动模块与驱动电机连接、所述图像采集模块与摄像头模块连接。作为优选方案：所述电源模块为UPS电源。作为优选方案：所述通信模块为RJ45通信模块、物联卡通信模块或WIFI通信模块。与现有技术相比，本申请的技术方案具有以下有益技术效果：通过该可安防摄像头可以实现对不同区域的差异化监控，在不改变巡防周期时长的前提下自动分配各个视野区域的监控时长，监控策略更加合理，起到更好的监控效果。附图说明图1为本实施例中的安防摄像头的整体结构示意图；图2为图1中的A部放大图；图3为图1中的B部放大图；图4为图2中的C部放大图；图5为本实施例中的控制原理图；图6为本实施例中的视野区域划分示意图。附图中，各标号所代表的部件列表如下：1、摄像头模块；2、俯仰转台；3、水平转台；4、连接底座；5、壁装支架；6、固定齿环；7、第一角度传感器；8、第一齿轮；9、第一连接件；10、活动齿环；1001、内环体；1002、外环体；1003、内导槽；1004、外导槽；1005、滚珠；11、第二连接件；12、雷达探测模块；13、驱动电机；14、第二齿轮；15、第二角度传感器；16、第三齿轮；17、遮挡板；18、第三连接件。具体实施方式参照图1，一种可全方位转动监视的安防摄像头，包括摄像头模块1、与摄像头模块1连接并用于驱动摄像头模块1上下转动的俯仰转台2、与俯仰转台2连接并用于驱动俯仰转台2在水平面内转动的水平转台3、与水平转台3连接的连接底座4以及与连接底座4连接固定的壁装支架5。参照图1和图3，在水平转台3的壳体外壁上同轴设置有固定齿环6，固定齿环6与水平转台3的壳体固定连接。在固定齿环6的顶面上沿其周向设置有啮合齿；该安防摄像头还包括第一角度传感器7，第一角度传感器7的主体通过第一连接件9与连接底座4的外壳连接固定，第一角度传感器7的轴体上同轴连接有第一齿轮8，第一齿轮8与固定齿环6啮合。当水平转台3转动时，固定齿环6随水平转台3同步转动，此时齿环驱动第一齿轮8转动，通过第一角度传感器7就能检测到水平转台3的转动角度。参照图5，该安防摄像头还包括控制装置，控制装置包括微处理模块、第一电机驱动模块、第二电机驱动模块、图像采集模块、存储模块、通信模块和电源模块。电源模块用于向整个安防摄像头供电。通信模块与微处理模块的通信端口连接，通信模块用于安防摄像头与外部设备之间的通信；存储模块与微处理模块的数据读写端口连接。摄像头模块1的输出端与图像采集模块的输入端连接，图像采集模块的输出端与微处理模块的数据输入端连接。第一电机驱动模块的输入端与微处理模块的指令输出端连接，第一电机驱动模块的驱动信号输出端与水平转台3电机连接；第一电机驱动模块用于驱动水平转台3电机转动，从而能控制水平转台3的转动动作；第一角度传感器7的输出端与微处理模块的采样信号输入端连接。本实施例中的微处理模块内置有图像识别单元、计算单元和修正单元。该安防摄像头的工作原理为：参照图6，根据摄像头模块1的视野角度将水平方向360度视场均匀划分为若干个视野区域，例如摄像头模块1的视野角度为90度，则可以将水平方向的视场划分为四个视野区域，分别为S1区域、S2区域、S3区域和S4区域。S1区域对应的水平视野角度范围为0-90度、S2区域对应的水平视野角度为90-180度、S3区域对应的水平视野角度为180-270度、S4区域对应的水平视野角度为270-360度。初始时，水平转台3和俯仰转台2均位于其初始位置，在此状态下摄像头模块1朝向水平零度位置且其俯仰角为零度。该安防摄像头启动后，微处理模块向第一电机驱动模块发送控制指令，使第一电机驱动模块驱动水平转台3电机循环往复转动，水平转台3左右循环转动，从而能拍摄到整个水平方向视场的画面。在水平转台3转动的过程中第一角度传感器7实时检测其转过的角度，并将角度检测结果反馈至微处理模块，微处理模块可以据此判断摄像头模块1所在的视野区域以及其水平转动方向。摄像头模块1拍摄的视频画面数据被传输至微处理模块，图像处理模块对视频画面中的行人、人数以及异常行为进行识别，当识别到行人和异常行为时计算单元记录摄像头模块1当前所在的视野区域、行人的数量以及异常行为次数。本实施例中的异常行为包括：行人来回走动、左顾右盼、停留、奔跑。经过预定调整周期后，计算单元对各个视野范围内累计拍摄到的行人总数、异常行为次数进行统计。计算单元预设有“行人热度”计算公式：X=a×M+b×N，式中X代表行人热度值、M为累计行人数量、N为累计异常行为数量、a和b分别为预设的权重系数。对于各个视野区域，计算单元计算其行人热度值。例如S1区域的行人热度值为X1、S2区域的行人热度值为X2、S3区域的行人热度值为X3、S4区域的行人热度值为X4、Sn区域的行人热度值为Xn。计算单元计算出的各个视野区域的行人热度值被发送至修正单元。修正单元预设有“监控权重”计算公式：D=X/，式中D代表目标视野区域的监控权重值、X为行人热度值，X1、X2、X3、Xn分别代表各个视野区域的行人热度值，n为视野区域的数量。修正单元计算出各个视野区域对应的监控权重值，例如S1区域的监控权重值为D1、S2区域的监控权重值为D2、S3区域的监控权重值为D3、S4区域的监控权重值为D4、Sn区域的监控权重值为Dn。假设默认状态下水平转台3从0度转到360度的时间为T，即水平转台3的默认转动周期为T。之后是对摄像头模块1在各个视野区域的监控时间进行修正。对于摄像头模块1在S1区域的监控时间，修正后的监控时间t1=T×D1/。对于摄像头模块1在S2区域的监控时间，修正后的监控时间t2=T×D2/。对于摄像头模块1在S3区域的监控时间，修正后的监控时间t3=T×D3/。对于摄像头模块1在S4区域的监控时间，修正后的监控时间t4=T×D4/。对于摄像头模块1在Sn区域的监控时间，修正后的监控时间tn=T×Dn/。微处理模块根据上述修正后的监控时间计算出在各个视野区域内水平转台3对应的转动角速度，并通过指令将各个视野区域对应的转动角速度发送至第一电机驱动模块。从水平转台3的下一个转动周期开始，第一电机驱动模块控制水平转台3电机使水平转台3以对应的转动角速度依次经过各个视野区域。上述方案达到的效果即对于行人出现频次较高的区域降低水平转台3的转动速度，以延长摄像头模块1对该区域的监控时长；而对于行人出现频次较低的区域则可以水平转台3的转动，以缩短摄像头模块1对该区域的监控时长。通过上述方案可以实现安防摄像头对不同区域的差异化监控，在不改变巡防周期时长的前提下自动分配各个视野区域的监控时长，监控策略更加合理，起到更好的监控效果。开始下一个调整周期时，再次执行上述修正过程。参照图1、图2和图4，本实施例中的安防摄像头还包括活动齿环10、驱动电机13、第二角度传感器15和雷达探测模块12；控制装置还包括第三电机驱动模块。活动齿环10包括内环体1001和外环体1002，内环体1001与连接底座4同轴设置且内环体1001与连接底座4的外壳连接固定，在内环体1001的外壁上同轴设置有呈环形凹陷的内导槽1003，内导槽1003的截面形状为半圆形；在外环体1002的内壁上同轴设置有呈环形凹陷的外导槽1004，外导槽1004的截面形状为半圆形；在内导槽1003和外导槽1004之间设置有多组滚珠1005。如此结构使得外环体1002可以相对于内环体1001自由转动；且由于滚珠1005的润滑作用，使得外环体1002转动时的摩擦阻力很小。雷达探测模块12朝向安防摄像头的外侧，雷达探测模块12位于活动齿环10的下方，且雷达探测模块12通过第二连接件11与活动齿环10的外环体1002连接固定。在连接底座4的外壳的上部装有用于挡雨的遮挡板17，在遮挡板17的底部固定有第三连接件18，驱动电机13和第二角度传感器15均安装固定于第三连接件18上。在活动齿环10的外环体1002的顶面上沿着其周向设置有啮合齿，驱动电机13的输出轴上同轴固定有第二齿轮14，第二齿轮14与外环体1002啮合；在第二角度传感器15的轴体上同轴固定有第三齿轮16，第三齿轮16与第二齿轮14啮合。第三电机驱动模块的输入端与微处理模块的指令输出端连接，第三电机驱动模块的驱动信号输出端与驱动电机13连接，第三电机驱动模块控制驱动电机13转动。雷达探测模块12的信号输出端与微处理模块连接，雷达探测模块12用于探测行人目标并将探测到的行人数量反馈至微处理模块。第二角度传感器15的输出端与微处理模块的采样信号输入端连接。微处理模块还内置有决策单元。当驱动电机13转动时可以驱动活动齿环10的外环体1002转动，从而使雷达探测模块12绕着连接底座4的外周转动，即调整雷达探测模块12的探测区域。在安防摄像头运行的过程中，驱动电机13驱动外环体1002循环往复转动，第二角度传感器15检测外环体1002的实时角度位置并将角度信息反馈至微处理模块，微处理模块据此判断雷达探测模块12所在的视野区域以及雷达探测模块12的转动方向。当雷达探测模块12探测到行人，且摄像头模块1所在视野区域无行人时，决策模块将雷达探测模块12所在的视野区域定为目标视野区域，此时微处理模块向第一电机驱动模块发送控制指令使水平转台3电机驱动水平转动，将摄像头模块1转动至目标视野区域并沿来时的转动方向继续巡防。上述方案是通过雷达探测模块12对当前摄像头模块1不在的视野区域中的行人目标进行探测，当探测到行人目标且摄像头模块1当前所在的视野区域无行人时，则快速将摄像头模块1移动至当前探测区域，可以有效降低摄像头模块1按照既定顺序逐个监控各个视野区域模式下，有人刻意避开摄像头导致无法拍摄到行人的情况出现。在此基础上，决策单元根据微处理模块判断出的摄像头模块1的水平转动方向和雷达探测模块12的转动方向决定雷达探测模块12的转动角速度并控制雷达探测模块12以相应的角速度转动。当雷达探测模块12与摄像头模块1的水平转动方向相同时，决策单元计算出雷达探测模块12的转动角速度ωx=k1×ωmax，式中ωmax表示各个视野区域对应的修正后的转动角速度中的最大值，k1 为预设的计算常数，k1＞1。当雷达探测模块12与摄像头模块1的水平转动方向相反时，决策单元计算出雷达探测模块12的转动角速度ωx=k2×ωmin，式中ωmin表示各个视野区域对应的修正后的转动角速度中的最小值，k2 为预设的计算常数，k2＜1。通过上述方案，可以在雷达探测模块12与摄像头模块1转动方向相同时，使雷达探测模块12的转动角速度大于摄像头模块1的转动角速度，这样雷达探测模块12可以“追赶”摄像头模块1并在达到换向位置时反向转动，尽量增大雷达探测模块12累计探测的区域；而在雷达探测模块12与摄像头模块1转动的方向相反时，使雷达探测模块12的转动角速度小于摄像头模块1的转动角速度，延长雷达探测模块12与摄像头模块1“相遇”的时间，尽量延长雷达探测模块12的“反向”探测时间。通过上述策略可以起到更好的监控效果。本实施例中的电源模块为UPS电源。本实施例中的通信模块为RJ45通信模块、物联卡通信模块或WIFI通信模块。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
