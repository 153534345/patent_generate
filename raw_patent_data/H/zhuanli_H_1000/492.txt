标题title
微小电阻测量电路、方法及测量仪表
摘要abst
本发明公开了一种微小电阻测量电路、方法及测量仪表，包括MCU、直流激励源、电压采样单元、电流采样单元和采样ADC模块，直流激励源产生正直流激励电压S+和负直流激励电压S‑，MCU通过开关S1控制正负激励源交替接入待测电阻RY，电压采样单元对电压信号的正负幅值分别采样保持，电流采样单元对电流信号的正负幅值分别采样保持，MCU控制采样ADC模块进行同步采样，得到一个周期内的正负幅值之差VOUT1和VOUT2，然后根据计算可以得出待测电阻RY的阻值。本发明能够采用微小电流来准确测量微小电阻的阻值，无需配置大电流和高精度的激励源。
权利要求书clms
1.一种微小电阻测量电路，连接待测电阻RY，其特征在于，包括：MCU；直流激励源，所述直流激励源的输出端用于输出幅度相等且极性相反的正直流激励电压S+和负直流激励电压S-，所述直流激励源的输出端通过开关S1连接所述待测电阻RY的一端，所述MCU的PWM0端连接所述开关S1的控制端；电压采样单元，所述电压采样单元包括电压放大处理单元、开关S2、开关S3、电容C3、电容C4、第一正幅值处理单元和第一负幅值处理单元，所述电压放大处理单元的输入端分别连接所述待测电阻RY的两端，所述电压放大处理单元的输出端分别连接所述开关S2和所述开关S3的一端，所述开关S2的另一端连接所述第一正幅值处理单元的输入端，所述第一正幅值处理单元的输入端通过电容C3接地，所述开关S3的另一端连接所述第一负幅值处理单元的输入端，所述第一负幅值处理单元的输入端通过电容C4接地；所述MCU的PWM1端连接所述开关S2的控制端，所述MCU的PMW2端连接所述开关S3的控制端；电流采样单元，所述电流采样单元包括电流放大处理单元、开关S4、开关S5、电容C5、电容C6、第二正幅值处理单元和第二负幅值处理单元，所述待测电阻RY的另一端连接所述电流放大处理单元的输入端，所述电流放大处理单元的输出端分别连接所述开关S4和所述开关S5的一端，所述开关S4的另一端连接所述第二正幅值处理单元的输入端，所述第二正幅值处理单元的输入端通过电容C5接地，所述开关S5的另一端连接所述第二负幅值处理单元的输入端，所述第二负幅值处理单元的输入端通过电容C6接地；所述MCU的PWM1端连接所述开关S4的控制端，所述MCU的PMW2端连接所述开关S5的控制端；采样ADC模块，所述第一正幅值处理单元的输出端连接所述采样ADC模块的输入端AIN1+，所述第一负幅值处理单元的输出端连接所述采样ADC模块的输入端AIN1-，所述第二正幅值处理单元的输出端连接所述采样ADC模块的输入端AIN2+，所述第二负幅值处理单元的输出端连接所述采样ADC模块的输入端AIN2-；所述采样ADC模块的输出端连接所述MCU的输入端。2.根据权利要求1所述的微小电阻测量电路，其特征在于，所述电压放大处理单元包括差分放大器U2、带通滤波电路和差分放大器U1，所述差分放大器U2的同相端和反相端分别连接所述待测电阻RY的两端，所述差分放大器U2的输出端连接所述带通滤波电路的输入端，所述带通滤波电路的输出端连接所述差分放大器U1的同相端，所述差分放大器U1的反相端接地，所述差分放大器U1的输出端分别连接所述开关S2和所述开关S3的一端。3.根据权利要求2所述的微小电阻测量电路，其特征在于，所述带通滤波电路包括电阻R3、电容C1、电容C2和电阻R4，所述差分放大器U2的输出端通过依次串联的电阻R3和电容C2连接所述差分放大器U1的同相端，所述电阻R3和所述电容C2的公共端通过电容C1接地，所述电容C2和所述差分放大器U1的公共端通过电阻R4接地。4.根据权利要求2所述的微小电阻测量电路，其特征在于，所述差分放大器U2的增益设置为100，所述差分放大器U1的增益设置为1、10、100或1000。5.根据权利要求1所述的微小电阻测量电路，其特征在于，所述电流放大处理单元包括运算放大器U7和差分放大器U8，所述待测电阻RY的另一端连接所述运算放大器U7的反相端，所述运算放大器U7的同相端接地，所述运算放大器U7的输出端通过电阻R17连接所述运算放大器U7的反相端，所述运算放大器U7的输出端连接所述差分放大器U8的同相端，所述差分放大器U8的反相端接地，所述差分放大器U8的输出端分别连接所述开关S4和所述开关S5的一端。6.根据权利要求1所述的微小电阻测量电路，其特征在于，所述第一正幅值处理单元包括运算放大器U3和运算放大器U5，所述第一负幅值处理单元包括运算放大器U4和运算放大器U6，还包括基准电压源VREF，所述开关S2的另一端连接所述运算放大器U3的同相端，所述运算放大器U3的输出端通过电阻R10连接所述运算放大器U5的同相端，所述运算放大器U3的输出端通过电阻R7连接所述运算放大器U3的反相端，所述运算放大器U5的输出端连接所述采样ADC模块的输入端AIN1+，所述运算放大器U5的输出端通过电阻R11连接所述运算放大器U5的反相端，所述运算放大器U5的反相端通过电阻R9接地；所述开关S3的另一端连接所述运算放大器U4的同相端，所述运算放大器U4的输出端通过电阻R13连接所述运算放大器U6的同相端，所述运算放大器U4的输出端通过电阻R8连接所述运算放大器U4的反相端，所述运算放大器U6的输出端连接所述采样ADC模块的输入端AIN1-，所述运算放大器U6的输出端通过电阻R16连接所述运算放大器U6的反相端，所述运算放大器U6的反相端通过电阻R14接地；所述基准电压源VREF通过电阻R12连接所述运算放大器U5的同相端，所述基准电压源VREF通过电阻R15连接所述运算放大器U6的同相端；所述电阻R9和所述电阻R10的阻值相等，所述电阻R11和所述电阻R12的阻值相等，所述电阻R13和所述电阻R14的阻值相等，所述电阻R15和所述电阻R16的阻值相等。7.根据权利要求1所述的微小电阻测量电路，其特征在于，所述第二正幅值处理单元包括运算放大器U9和运算放大器U11，所述第二负幅值处理单元包括运算放大器U10和运算放大器U12，还包括基准电压源VREF，所述开关S4的另一端连接所述运算放大器U9的同相端，所述运算放大器U9的输出端通过电阻R22连接所述运算放大器U11的同相端，所述运算放大器U9的输出端通过电阻R20连接所述运算放大器U9的反相端，所述运算放大器U11的输出端连接所述采样ADC模块的输入端AIN2+，所述运算放大器U11的输出端通过电阻R23连接所述运算放大器U11的反相端，所述运算放大器U11的反相端通过电阻R21接地；所述开关S5的另一端连接所述运算放大器U10的同相端，所述运算放大器U10的输出端通过电阻R25连接所述运算放大器U12的同相端，所述运算放大器U10的输出端通过电阻R35连接所述运算放大器U10的反相端，所述运算放大器U12的输出端连接所述采样ADC模块的输入端AIN2-，所述运算放大器U12的输出端通过电阻R28连接所述运算放大器U12的反相端，所述运算放大器U12的反相端通过电阻R26接地；所述基准电压源VREF通过电阻R24连接所述运算放大器U11的同相端，所述基准电压源VREF通过电阻R27连接所述运算放大器U12的同相端；所述电阻R21和所述电阻R22的阻值相等，所述电阻R23和所述电阻R24的阻值相等，所述电阻R25和所述电阻R26的阻值相等，所述电阻R27和所述电阻R28的阻值相等。8.根据权利要求1所述的微小电阻测量电路，其特征在于，所述直流激励源包括DAC模块、运算放大器U13和运算放大器U14，所述MCU连接所述DAC模块的输入端，所述DAC模块的输出端通过电阻R30连接所述运算放大器U13的同相端，所述运算放大器U13的反相端通过电阻R29接地，所述运算放大器U13的输出端通过电阻R31连接所述运算放大器U13的反相端，所述运算放大器U13的输出端用于输出正直流激励电压S+；所述运算放大器U13的输出端通过电阻R32连接所述运算放大器U14的反相端，所述运算放大器U14的同相端通过电阻R33接地，所述运算放大器U14的输出端通过电阻R34连接所述运算放大器U14的反相端，所述运算放大器U14的输出端用于输出负直流激励电压S-。9.一种应用于权利要求1至8任意一项所述的微小电阻测量电路的微小电流电阻测量方法，其特征在于，包括以下步骤：MCU通过PMW0端输出占空比为50%的控制信号，使得正直流激励电压S+和负直流激励电压S-交替输入待测电阻RY；MCU通过PMW1端和PMW0端输出的控制信号的时序调节来控制开关S2和开关S3，使得电容C3上保持控制信号一个周期内的正幅值，C4保持控制信号同一周期内的负幅值， MCU通过采样ADC模块在同一时间获取第一采样值VOUT1，所述第一采样值VOUT1为采样ADC模块的输入端AIN1+和输入端AIN1-之间的差值；MCU通过PMW1端和PMW0端输出的控制信号的时序调节来控制开关S4和开关S5，使得电容C5上保持控制信号一个周期内的正幅值，C6保持控制信号同一周期内的负幅值， MCU通过采样ADC模块在同一时间获取第一采样值VOUT2，所述第一采样值VOUT2为采样ADC模块的输入端AIN2+和输入端AIN2-之间的差值；MCU通过第一采样值VOUT2和第一采样值VOUT1计算出待测电阻RY的电阻值，计算公式为：RY=k*；其中，RY为待测电阻RY的电阻值，k为比例系数。10.一种测量仪表，其特征在于，包括权利要求1至8任意一项所述的微小电阻测量电路。
说明书desc
技术领域本发明涉及电阻测量领域，特别涉及一种微小电阻测量电路、方法及测量仪表。背景技术电子技术发展至今，各种电子设备，电子电路都朝着精密化，集成化的方向发展，而在此过程中，对于微小电阻的使用和需求也越来越多，在使用前需要测量微小电阻的阻值。市面上大部分电阻测量仪器，例如手持万用表、台式万用表等，均是使用电流源产生已知电流通入电阻中，然后测量电阻两端电压，最后根据欧姆定律计算出电阻阻值。现有的电阻测量方式在碰到微小电阻的测量时会存在以下缺点：1、若采用小电流测微小电阻，则在微小电阻两端产生的电压很小，该电压很容易淹没在噪声中，无法进行准确测量；2、若采用大电流测微小电阻，一方面电阻会发热，导致阻值发生漂移，另一方面会产生热电势和热噪声等，干扰电阻测量；并且采用大电流需要配置大电流和高精度的激励源，这样会增大设备体积，不利于便携式测量。发明内容本发明旨在至少解决现有技术中存在的技术问题之一。为此，本发明提出一种微小电阻测量电路、方法及测量仪表，能够采用微小电流来准确测量微小电阻的阻值，无需配置大电流和高精度的激励源。根据本发明第一方面实施例的微小电阻测量电路，连接待测电阻RY，包括：MCU；直流激励源，所述直流激励源的输出端用于输出幅度相等且极性相反的正直流激励电压S+和负直流激励电压S-，所述直流激励源的输出端通过开关S1连接所述待测电阻RY的一端，所述MCU的PWM0端连接所述开关S1的控制端；电压采样单元，所述电压采样单元包括电压放大处理单元、开关S2、开关S3、电容C3、电容C4、第一正幅值处理单元和第一负幅值处理单元，所述电压放大处理单元的输入端分别连接所述待测电阻RY的两端，所述电压放大处理单元的输出端分别连接所述开关S2和所述开关S3的一端，所述开关S2的另一端连接所述第一正幅值处理单元的输入端，所述第一正幅值处理单元的输入端通过电容C3接地，所述开关S3的另一端连接所述第一负幅值处理单元的输入端，所述第一负幅值处理单元的输入端通过电容C4接地；所述MCU的PWM1端连接所述开关S2的控制端，所述MCU的PMW2端连接所述开关S3的控制端；电流采样单元，所述电流采样单元包括电流放大处理单元、开关S4、开关S5、电容C5、电容C6、第二正幅值处理单元和第二负幅值处理单元，所述待测电阻RY的另一端连接所述电流放大处理单元的输入端，所述电流放大处理单元的输出端分别连接所述开关S4和所述开关S5的一端，所述开关S4的另一端连接所述第二正幅值处理单元的输入端，所述第二正幅值处理单元的输入端通过电容C5接地，所述开关S5的另一端连接所述第二负幅值处理单元的输入端，所述第二负幅值处理单元的输入端通过电容C6接地；所述MCU的PWM1端连接所述开关S4的控制端，所述MCU的PMW2端连接所述开关S5的控制端；采样ADC模块，所述第一正幅值处理单元的输出端连接所述采样ADC模块的输入端AIN1+，所述第一负幅值处理单元的输出端连接所述采样ADC模块的输入端AIN1-，所述第二正幅值处理单元的输出端连接所述采样ADC模块的输入端AIN2+，所述第二负幅值处理单元的输出端连接所述采样ADC模块的输入端AIN2-；所述采样ADC模块的输出端连接所述MCU的输入端。根据本发明第一方面实施例的微小电阻测量电路，至少具有如下有益效果：本发明实施方式中直流激励源产生正直流激励电压S+和负直流激励电压S-，MCU通过开关S1控制正负激励源交替接入待测电阻RY，电压采样单元和电流采样单元分别对待测电阻RY上的方波电压信号和电流信号进行处理，电压采样单元通过第一正幅值处理单元和第一负幅值处理单元对电压信号的正负幅值分别采样保持，电流采样单元通过第二正幅值处理单元和第二负幅值处理单元对电流信号的正负幅值分别采样保持，MCU控制采样ADC模块进行同步采样，得到一个周期内的正负幅值之差VOUT1和VOUT2，然后根据计算可以得出待测电阻RY的阻值。本发明创新性的将激励电压和电流在一个周期内作减法，得到周期内的峰峰值，可以消除PCB板内外的低频干扰及放大电路引入的低频噪声和温漂，并且电压和电流同步采样，同步计算阻值，得到的阻值更加精确和真实。本发明的测量精度与激励源的精度无关，因此无需精密激励源。本发明无需大电流激励源，激励电流小于±10mA即可实现阻值的精确测量，方便便携式设备开发，测试需要的激励电流小，因此待测电阻几乎不会产生温漂、热电势即热噪声等干扰。本发明能够采用微小电流来准确测量微小电阻的阻值，无需配置大电流和高精度的激励源。根据本发明的一些实施例，所述电压放大处理单元包括差分放大器U2、带通滤波电路和差分放大器U1，所述差分放大器U2的同相端和反相端分别连接所述待测电阻RY的两端，所述差分放大器U2的输出端连接所述带通滤波电路的输入端，所述带通滤波电路的输出端连接所述差分放大器U1的同相端，所述差分放大器U1的反相端接地，所述差分放大器U1的输出端分别连接所述开关S2和所述开关S3的一端。根据本发明的一些实施例，所述带通滤波电路包括电阻R3、电容C1、电容C2和电阻R4，所述差分放大器U2的输出端通过依次串联的电阻R3和电容C2连接所述差分放大器U1的同相端，所述电阻R3和所述电容C2的公共端通过电容C1接地，所述电容C2和所述差分放大器U1的公共端通过电阻R4接地。根据本发明的一些实施例，所述差分放大器U2的增益设置为100，所述差分放大器U1的增益设置为1、10、100或1000。根据本发明的一些实施例，所述电流放大处理单元包括运算放大器U7和差分放大器U8，所述待测电阻RY的另一端连接所述运算放大器U7的反相端，所述运算放大器U7的输出端通过电阻R17连接所述运算放大器U7的反相端，所述运算放大器U7的同相端接地，所述运算放大器U7的输出端连接所述差分放大器U8的同相端，所述差分放大器U8的反相端接地，所述差分放大器U8的输出端分别连接所述开关S4和所述开关S5的一端。根据本发明的一些实施例，所述第一正幅值处理单元包括运算放大器U3和运算放大器U5，所述第一负幅值处理单元包括运算放大器U4和运算放大器U6，还包括基准电压源VREF，所述开关S2的另一端连接所述运算放大器U3的同相端，所述运算放大器U3的输出端通过电阻R10连接所述运算放大器U5的同相端，所述运算放大器U3的输出端通过电阻R7连接所述运算放大器U3的反相端，所述运算放大器U5的输出端连接所述采样ADC模块的输入端AIN1+，所述运算放大器U5的输出端通过电阻R11连接所述运算放大器U5的反相端，所述运算放大器U5的反相端通过电阻R9接地；所述开关S3的另一端连接所述运算放大器U4的同相端，所述运算放大器U4的输出端通过电阻R13连接所述运算放大器U6的同相端，所述运算放大器U4的输出端通过电阻R8连接所述运算放大器U4的反相端，所述运算放大器U6的输出端连接所述采样ADC模块的输入端AIN1-，所述运算放大器U6的输出端通过电阻R16连接所述运算放大器U6的反相端，所述运算放大器U6的反相端通过电阻R14接地；所述基准电压源VREF通过电阻R12连接所述运算放大器U5的同相端，所述基准电压源VREF通过电阻R15连接所述运算放大器U6的同相端；所述电阻R9和所述电阻R10的阻值相等，所述电阻R11和所述电阻R12的阻值相等，所述电阻R13和所述电阻R14的阻值相等，所述电阻R15和所述电阻R16的阻值相等。根据本发明的一些实施例，所述第二正幅值处理单元包括运算放大器U9和运算放大器U11，所述第二负幅值处理单元包括运算放大器U10和运算放大器U12，还包括基准电压源VREF，所述开关S4的另一端连接所述运算放大器U9的同相端，所述运算放大器U9的输出端通过电阻R22连接所述运算放大器U11的同相端，所述运算放大器U9的输出端通过电阻R20连接所述运算放大器U9的反相端，所述运算放大器U11的输出端连接所述采样ADC模块的输入端AIN2+，所述运算放大器U11的输出端通过电阻R23连接所述运算放大器U11的反相端，所述运算放大器U11的反相端通过电阻R21接地；所述开关S5的另一端连接所述运算放大器U10的同相端，所述运算放大器U10的输出端通过电阻R25连接所述运算放大器U12的同相端，所述运算放大器U10的输出端通过电阻R35连接所述运算放大器U10的反相端，所述运算放大器U12的输出端连接所述采样ADC模块的输入端AIN2-，所述运算放大器U12的输出端通过电阻R28连接所述运算放大器U12的反相端，所述运算放大器U12的反相端通过电阻R26接地；所述基准电压源VREF通过电阻R24连接所述运算放大器U11的同相端，所述基准电压源VREF通过电阻R27连接所述运算放大器U12的同相端；所述电阻R21和所述电阻R22的阻值相等，所述电阻R23和所述电阻R24的阻值相等，所述电阻R25和所述电阻R26的阻值相等，所述电阻R27和所述电阻R28的阻值相等。根据本发明的一些实施例，所述直流激励源包括DAC模块、运算放大器U13和运算放大器U14，所述MCU连接所述DAC模块的输入端，所述DAC模块的输出端通过电阻R30连接所述运算放大器U13的同相端，所述运算放大器U13的反相端通过电阻R29接地，所述运算放大器U13的输出端通过电阻R31连接所述运算放大器U13的反相端，所述运算放大器U13的输出端用于输出正直流激励电压S+；所述运算放大器U13的输出端通过电阻R32连接所述运算放大器U14的反相端，所述运算放大器U14的同相端通过电阻R33接地，所述运算放大器U14的输出端通过电阻R34连接所述运算放大器U14的反相端，所述运算放大器U14的输出端用于输出负直流激励电压S-。根据本发明第二方面实施例的微小电流电阻测量方法，包括以下步骤：MCU通过PMW0端输出占空比为50%的控制信号，使得正直流激励电压S+和负直流激励电压S-交替输入待测电阻RY；MCU通过PMW1端和PMW0端输出的控制信号的时序调节来控制开关S2和开关S3，使得电容C3上保持控制信号一个周期内的正幅值，C4保持控制信号同一周期内的负幅值，MCU通过采样ADC模块在同一时间获取第一采样值VOUT1，所述第一采样值VOUT1为采样ADC模块的输入端AIN1+和输入端AIN1-之间的差值；MCU通过PMW1端和PMW0端输出的控制信号的时序调节来控制开关S4和开关S5，使得电容C5上保持控制信号一个周期内的正幅值，C6保持控制信号同一周期内的负幅值，MCU通过采样ADC模块在同一时间获取第一采样值VOUT2，所述第一采样值VOUT2为采样ADC模块的输入端AIN2+和输入端AIN2-之间的差值；MCU通过第一采样值VOUT2和第一采样值VOUT1计算出待测电阻RY的电阻值，计算公式为：RY=k*；其中，RY为待测电阻RY的电阻值，k为比例系数。根据本发明第二方面实施例的微小电流电阻测量方法，至少具有如下有益效果：本发明实施方式中直流激励源产生正直流激励电压S+和负直流激励电压S-，MCU通过开关S1控制正负激励源交替接入待测电阻RY，电压采样单元和电流采样单元分别对待测电阻RY上的方波电压信号和电流信号进行处理，电压采样单元通过第一正幅值处理单元和第一负幅值处理单元对电压信号的正负幅值分别采样保持，电流采样单元通过第二正幅值处理单元和第二负幅值处理单元对电流信号的正负幅值分别采样保持，MCU控制采样ADC模块进行同步采样，得到一个周期内的正负幅值之差VOUT1和VOUT2，然后根据计算可以得出待测电阻RY的阻值。本发明创新性的将激励电压和电流在一个周期内作减法，得到周期内的峰峰值，可以消除PCB板内外的低频干扰及放大电路引入的低频噪声和温漂，并且电压和电流同步采样，同步计算阻值，得到的阻值更加精确和真实。本发明的测量精度与激励源的精度无关，因此无需精密激励源。本发明无需大电流激励源，激励电流小于±10mA即可实现阻值的精确测量，方便便携式设备开发，测试需要的激励电流小，因此待测电阻几乎不会产生温漂、热电势即热噪声等干扰。本发明能够采用微小电流来准确测量微小电阻的阻值，无需配置大电流和高精度的激励源。根据本发明第三方面实施例的测量仪表，包括上述的微小电阻测量电路。根据本发明第三方面实施例的测量仪表，至少具有如下有益效果：本发明实施方式中直流激励源产生正直流激励电压S+和负直流激励电压S-，MCU通过开关S1控制正负激励源交替接入待测电阻RY，电压采样单元和电流采样单元分别对待测电阻RY上的方波电压信号和电流信号进行处理，电压采样单元通过第一正幅值处理单元和第一负幅值处理单元对电压信号的正负幅值分别采样保持，电流采样单元通过第二正幅值处理单元和第二负幅值处理单元对电流信号的正负幅值分别采样保持，MCU控制采样ADC模块进行同步采样，得到一个周期内的正负幅值之差VOUT1和VOUT2，然后根据计算可以得出待测电阻RY的阻值。本发明创新性的将激励电压和电流在一个周期内作减法，得到周期内的峰峰值，可以消除PCB板内外的低频干扰及放大电路引入的低频噪声和温漂，并且电压和电流同步采样，同步计算阻值，得到的阻值更加精确和真实。本发明的测量精度与激励源的精度无关，因此无需精密激励源。本发明无需大电流激励源，激励电流小于±10mA即可实现阻值的精确测量，方便便携式设备开发，测试需要的激励电流小，因此待测电阻几乎不会产生温漂、热电势即热噪声等干扰。本发明能够采用微小电流来准确测量微小电阻的阻值，无需配置大电流和高精度的激励源。本发明的附加方面和优点将在下面的描述中部分给出，部分将从下面的描述中变得明显，或通过本发明的实践了解到。附图说明下面结合附图和实施例对本发明做进一步的说明，其中：图1为本发明实施例中微小电阻测量电路的电路原理图；图2为本发明实施例中采样ADC模块和MCU的电路原理图；图3为本发明实施例中PWM0、PWM1、PWM2的时序图；图4为本发明实施例中直流激励源的电路原理图；图5为本发明实施例中小电阻测量方法的流程图。具体实施方式下面详细描述本发明的实施例，所述实施例的示例在附图中示出，其中自始至终相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施例是示例性的，仅用于解释本发明，而不能理解为对本发明的限制。在本发明的描述中，需要理解的是，涉及到方位描述，例如上、下等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。在本发明的描述中，多个指的是两个以上。如果有描述到第一、第二只是用于区分技术特征为目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量或者隐含指明所指示的技术特征的先后关系。本发明的描述中，除非另有明确的限定，设置、安装、连接等词语应做广义理解，所属技术领域技术人员可以结合技术方案的具体内容合理确定上述词语在本发明中的具体含义。参照图1所示，一种微小电阻测量电路，连接待测电阻RY，包括：MCU、直流激励源、电压采样单元、电流采样单元和采样ADC模块。具体的，本发明实施例中直流激励源的输出端输出幅度相等且极性相反的正直流激励电压S+和负直流激励电压S-，直流激励源的输出端通过开关S1和电阻R1连接待测电阻RY的一端，电阻R1为限流电阻，起到输入限流的作用，例如直流激励源的输出幅度为10V，电阻R1的阻值为1kΩ，则限流值为±10mA，MCU的PWM0端连接开关S1的控制端，MCU通过PWM0端来控制开关S1的切换，本发明中PWM0端控制信号的占空比为50%，即幅度相等、极性相反的正负直流激励电压S+和S-，通过由50%占空比的PWM0端控制，交替通入待测电阻RY中，采用50%的占空比是为了保证周期内正负两半轴对称，方便后面同步采样。其中，本发明实施例中电压采样单元包括电压放大处理单元、开关S2、开关S3、电容C3、电容C4、第一正幅值处理单元和第一负幅值处理单元，电压放大处理单元的输入端分别连接待测电阻RY的两端，电压放大处理单元的输出端分别连接开关S2和开关S3的一端，开关S2的另一端连接第一正幅值处理单元的输入端，第一正幅值处理单元的输入端通过电容C3接地，开关S3的另一端连接第一负幅值处理单元的输入端，第一负幅值处理单元的输入端通过电容C4接地；MCU的PWM1端连接开关S2的控制端，MCU的PMW2端连接开关S3的控制端。需要说明的是，本发明中电压放大处理单元的作用是获取待测电阻RY两端的电压V1p-p并进行放大处理后通过开关S2和开关S3将正负幅值分开并分别采样保持，第一正幅值处理单元和第一负幅值处理单元的作用是分别对电压信号的正幅值和负幅值进行缓冲、加共模电压等处理，得到AIN1+和AIN1-两路电压。具体的，本发明实施例中电压放大处理单元包括差分放大器U2、带通滤波电路和差分放大器U1，差分放大器U2的同相端和反相端分别连接待测电阻RY的两端，差分放大器U2的输出端连接带通滤波电路的输入端，需要说明的是，差分放大器U2的RG+和RG-端连接有电阻R2，电阻R2为增益设置电阻，本实施例中差分放大器U2的增益G0=100；带通滤波电路的输出端连接差分放大器U1的同相端，差分放大器U1的反相端接地，差分放大器U1的输出端分别连接开关S2和开关S3的一端。差分放大器U2的作用是将电压V1p-p进行放大，带通滤波电路的作用是滤除低频扰动、直流分量和高频噪声，然后在通过差分放大器U1进行二次方大。具体的，带通滤波电路包括电阻R3、电容C1、电容C2和电阻R4，差分放大器U2的输出端通过依次串联的电阻R3和电容C2连接差分放大器U1的同相端，电阻R3和电容C2的公共端通过电容C1接地，电容C2和差分放大器U1的公共端通过电阻R4接地，差分放大器U1增益G1可通过GPIO1和GPIO2设置为1、10、100或1000。需要说明的是，本发明中电压放大处理单元进行两次放大，是由于差分放大器U2采样出来的电压信号幅值太小，因此需要通过增益G1进一步放大信号，可以根据被测电阻的范围选择合适的增益值。当然，以上电压放大处理单元的具体电路知识本发明的一种实施方式，除了采用两级放大之外也可以直接选择合适的放大倍数进行一次放大或多次放大。需要说明的是，第一正幅值处理单元包括运算放大器U3和运算放大器U5，第一负幅值处理单元包括运算放大器U4和运算放大器U6，开关S2的另一端连接运算放大器U3的同相端，运算放大器U3的输出端通过电阻R10连接运算放大器U5的同相端，运算放大器U3的输出端通过电阻R7连接运算放大器U3的反相端，运算放大器U5的输出端连接采样ADC模块的输入端AIN1+，运算放大器U5的输出端通过电阻R11连接运算放大器U5的反相端，运算放大器U5的反相端通过电阻R9接地；开关S3的另一端连接运算放大器U4的同相端，运算放大器U4的输出端通过电阻R13连接运算放大器U6的同相端，运算放大器U4的输出端通过电阻R8连接运算放大器U4的反相端，运算放大器U6的输出端连接采样ADC模块的输入端AIN1-，运算放大器U6的输出端通过电阻R16连接运算放大器U6的反相端，运算放大器U6的反相端通过电阻R14接地；基准电压源VREF通过电阻R12连接运算放大器U5的同相端，基准电压源VREF通过电阻R15连接运算放大器U6的同相端；电阻R9和电阻R10的阻值相等，电阻R11和电阻R12的阻值相等，电阻R13和电阻R14的阻值相等，电阻R15和电阻R16的阻值相等。需要说明的是，本发明中运算放大器U3的作用是对正幅值信号进行缓冲，运算放大器U5的作用是给加共模电压，方便接入ADC采样，运算放大器U4和运算放大器U6的作用同理。其中，本发明实施例中电流采样单元包括电流放大处理单元、开关S4、开关S5、电容C5、电容C6、第二正幅值处理单元和第二负幅值处理单元，待测电阻RY的另一端连接电流放大处理单元的输入端，电流放大处理单元的输出端分别连接开关S4和开关S5的一端，开关S4的另一端连接第二正幅值处理单元的输入端，第二正幅值处理单元的输入端通过电容C5接地，开关S5的另一端连接第二负幅值处理单元的输入端，第二负幅值处理单元的输入端通过电容C6接地；MCU的PWM1端连接开关S4的控制端，MCU的PMW2端连接开关S5的控制端；其中，本发明实施例中电流放大处理单元包括运算放大器U7和差分放大器U8，待测电阻RY的另一端连接运算放大器U7的反相端，运算放大器U7的同相端接地，运算放大器U7的输出端通过电阻R17连接运算放大器U7的反相端，运算放大器U7的输出端连接差分放大器U8的同相端，差分放大器U8的反相端接地，差分放大器U8的输出端分别连接开关S4和开关S5的一端。需要说明的是，本发明中运算放大器U7的作用是进行IV转换，将待测电流RY流经的电流I经过IV转换后得到电压V2p-p=R17*I，然后通过差分放大器U8进行增益放大，本发明中差分放大器U8的增益G2可通过GPIO3和GPIO4进行设置，本发明中设置为1、10、100或1000，具体的增益设置值根据电阻型号进行设置。其中，第二正幅值处理单元包括运算放大器U9和运算放大器U11，第二负幅值处理单元包括运算放大器U10和运算放大器U12，开关S4的另一端连接运算放大器U9的同相端，运算放大器U9的输出端通过电阻R22连接运算放大器U11的同相端，运算放大器U9的输出端通过电阻R20连接运算放大器U9的反相端，运算放大器U11的输出端连接采样ADC模块的输入端AIN2+，运算放大器U11的输出端通过电阻R23连接运算放大器U11的反相端，运算放大器U11的反相端通过电阻R21接地；开关S5的另一端连接运算放大器U10的同相端，运算放大器U10的输出端通过电阻R25连接运算放大器U12的同相端，运算放大器U10的输出端通过电阻R35连接运算放大器U10的反相端，运算放大器U12的输出端连接采样ADC模块的输入端AIN2-，运算放大器U12的输出端通过电阻R28连接运算放大器U12的反相端，运算放大器U12的反相端通过电阻R26接地；基准电压源VREF通过电阻R24连接运算放大器U11的同相端，基准电压源VREF通过电阻R27连接运算放大器U12的同相端；电阻R21和电阻R22的阻值相等，电阻R23和电阻R24的阻值相等，电阻R25和电阻R26的阻值相等，电阻R27和电阻R28的阻值相等。参考图2所示，第一正幅值处理单元的输出端连接采样ADC模块的输入端AIN1+，第一负幅值处理单元的输出端连接采样ADC模块的输入端AIN1-，第二正幅值处理单元的输出端连接采样ADC模块的输入端AIN2+，第二负幅值处理单元的输出端连接采样ADC模块的输入端AIN2-；采样ADC模块的输出端连接MCU的输入端。下面详细说明本发明的工作原理：直流激励源输出幅度相等、极性相反的正负直流激励电压S+和S-，通过由50%占空比的PWM0控制，交替通入待测电阻RY中，待测电阻RY两端产生电压V1p-p, 待测电阻RY流过的电流I经过运算放大器U7和电阻R17组成的IV转换之后得到电压V2p-p，根据欧姆定理，只需要对V1p-p和V2p-p进行采样测量即可计算出待测电阻RY的阻值。首先阐述V1p-p的采样过程：V1p-p首先经过差分放大器U2进行差分放大后，再经过电阻R3、电容C1、电容C2和电阻R4组成的带通滤波器，滤除低频扰动、直流分量和高频噪声，然后再经差分放大器U1二次放大。MCU通过预先设置的PWM1端和PWM2端的时序分别控制开关S2和开关S3，使得电容C3上保持经两次放大后的信号一个周期内的正幅值，电容C4保持信号同一周期内的负幅值，然后在分别通过运算放大器U3和运算放大器U4对正幅值和负幅值进行缓冲，通过运算放大器U5和运算放大器U6分别对正幅值和负幅值加共模电压，最后得到AIN1+和AIN1-接入ADC采样模块再输入至MCU，本发明实施例中处理正负幅值的电路参数一致，因此可得：VOUT1=V1p-p*G0*G1*R11/R9。需要说明的是，上述中的运算放大器U3和运算放大器U4为缓冲电路，缓冲电路为单倍增益电路，输出电压等于输入电压，并且输入阻抗很高，使得开关S2断开时，电容C3上保存的电压电荷几乎不被消耗，另外缓冲电路输出阻抗低，可以驱动后级电路；即缓冲电路可以保证不影响输入电压的情况下驱动后级电路。通过运算放大器U5和运算放大器U6来给信号加共模电压是为了方便后续的ADC采样，很多ADC只能输入正值，本发明在此之前都是正负双极信号，而加共模电压可以让信号从在幅值上整体偏移成单极信号而波形不变。因此本发明实施例中第一/第二正幅值处理单元和第一/第二负幅值处理单元都包括缓冲电路和共模电压电路，可以进一步提高测量精度。当然也可以只采用缓冲电路或增设其他的电路模组。其中，MCU的PWM0端、PWM1端、PWM2端输出的控制信号的时序图如图3所示，PWM0端输出的控制信号为严格50%占空比的方波，其控制正直流激励电压S+和负直流激励电压S-交替接入待测电阻RY中，PWM1为0时，开关S2闭合，电容C3跟踪一个周期内信号正幅值，PWM1为1时，开关S2断开，电容C3保持该正幅值；PWM2为0时，开关S3闭合，电容C4跟踪一个周期内信号负幅值，PWM2为1时，开关S3断开，电容C4保持该正幅值。MCU通过设置PWM1和PWM2的占空比和相位差，使得电容C3上保持信号一个周期内的正幅值，电容C4保持信号同一周期内的负幅值，采样点如图3所示，MCU控制采样ADC模块此时同步采样AIN1+和AIN1-，即得到VOUT1的值。然后阐述V2p-p的采样过程：电流I经IV转换得到V2p-p，其中V2p-p=R17*I,经运算放大器U8增益放大，然后进行和电压一样的处理，即MCU通过PMW1端和PMW0端输出的控制信号的时序调节来控制开关S4和开关S5，使得电容C5上保持控制信号一个周期内的正幅值，C6保持控制信号同一周期内的负幅值， MCU通过采样ADC模块在同一时间获取第一采样值VOUT2，第一采样值VOUT2为采样ADC模块的输入端AIN2+和输入端AIN2-之间的差值，得到VOUT2=I*R17*G2*R11/R9。最后可以计算得出待测电阻RY的阻值：通过ADC采样分别得到同一周期内的VOUT1和VOUT2的值，计算即可得:RY=V1p-p/I=R17*G2*VOUT2/=k*，因此待测电阻RY的阻值计算公式为RY=k*，k为比例系数，通过将待测电阻RY替换为一个阻值已知的精密电阻，即可校准出比例系数k。参考图4所示，本发明实施例中的直流激励源包括DAC模块、运算放大器U13和运算放大器U14，MCU连接DAC模块的输入端，DAC模块的输出端通过电阻R30连接运算放大器U13的同相端，运算放大器U13的反相端通过电阻R29接地，运算放大器U13的输出端通过电阻R31连接运算放大器U13的反相端，运算放大器U13的输出端用于输出正直流激励电压S+；运算放大器U13的输出端通过电阻R32连接运算放大器U14的反相端，运算放大器U14的同相端通过电阻R33接地，运算放大器U14的输出端通过电阻R34连接运算放大器U14的反相端，运算放大器U14的输出端用于输出负直流激励电压S-。需要说明的是，直流激励源的工作原理如下：MCU控制DAC模块输出VDAC然后经运算放大器U13放大得到正直流激励电压S+，再经过单位增益反向得到负直流激励电压S-，由待测电阻RY的阻值表达式知，RY与激励源无关，所以本发明的微小电阻测量电路对直流激励源的精度要求不高。应能理解的是，以上直流激励源的具体电路只是本发明的一种实施方式，也可以采用可以直接输出正负直流激励原的芯片模组。参考图5所示，为本发明实施例一种应用于上述实施例的电路的微小电流电阻测量方法，包括以下步骤：S100、MCU通过PMW0端输出占空比为50%的控制信号，使得正直流激励电压S+和负直流激励电压S-交替输入待测电阻RY；S200、MCU通过PMW1端和PMW0端输出的控制信号的时序调节来控制开关S2和开关S3，使得电容C3上保持控制信号一个周期内的正幅值，C4保持控制信号同一周期内的负幅值， MCU通过采样ADC模块在同一时间获取第一采样值VOUT1，第一采样值VOUT1为采样ADC模块的输入端AIN1+和输入端AIN1-之间的差值；S300、MCU通过PMW1端和PMW0端输出的控制信号的时序调节来控制开关S4和开关S5，使得电容C5上保持控制信号一个周期内的正幅值，C6保持控制信号同一周期内的负幅值， MCU通过采样ADC模块在同一时间获取第一采样值VOUT2，第一采样值VOUT2为采样ADC模块的输入端AIN2+和输入端AIN2-之间的差值；S400、MCU通过第一采样值VOUT2和第一采样值VOUT1计算出待测电阻RY的电阻值，计算公式为：RY=k*；其中，RY为待测电阻RY的电阻值，k为比例系数。本发明还涉及一种测量仪表，包括上述实施例的微小电阻测量电路。综上，本发明实施方式中直流激励源产生正直流激励电压S+和负直流激励电压S-，MCU通过开关S1控制正负激励源交替接入待测电阻RY，电压采样单元和电流采样单元分别对待测电阻RY上的方波电压信号和电流信号进行处理，电压采样单元通过第一正幅值处理单元和第一负幅值处理单元对电压信号的正负幅值分别采样保持，电流采样单元通过第二正幅值处理单元和第二负幅值处理单元对电流信号的正负幅值分别采样保持，MCU控制采样ADC模块进行同步采样，得到一个周期内的正负幅值之差VOUT1和VOUT2，然后根据计算可以得出待测电阻RY的阻值。本发明创新性的将激励电压和电流在一个周期内作减法，得到周期内的峰峰值，可以消除PCB板内外的低频干扰及放大电路引入的低频噪声和温漂，并且电压和电流同步采样，同步计算阻值，得到的阻值更加精确和真实。本发明的测量精度与激励源的精度无关，因此无需精密激励源。本发明无需大电流激励源，激励电流小于±10mA即可实现阻值的精确测量，方便便携式设备开发，测试需要的激励电流小，因此待测电阻几乎不会产生温漂、热电势即热噪声等干扰。本发明能够采用微小电流来准确测量微小电阻的阻值，无需配置大电流和高精度的激励源。上面结合附图对本发明实施例作了详细说明，但是本发明不限于上述实施例，在所属技术领域普通技术人员所具备的知识范围内，还可以在不脱离本发明宗旨的前提下作出各种变化。
