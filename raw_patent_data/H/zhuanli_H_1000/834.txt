标题title
基于皮肤数据库实现用户患者数据的安全共享方法及系统
摘要abst
本发明涉及人工智能技术领域，提出了一种基于皮肤数据库实现用户患者数据的安全共享方法及系统，包括：对目标患者的身份标识进行去标识化处理；根据去标识身份信息及皮肤数据生成目标患者的患者档案信息，构建患者档案信息树；对患者档案信息树中的每个档案信息节点进行加密，提取档案信息加密节点中的加密关键词，根据加密关键词生成安全信息索引；根据数据共享请求生成数据请求消息，根据安全信息索引对数据请求消息进行双重验证，当验证逻辑值为预设的逻辑阈值时，生成数据共享请求对应的共享请求密文；计算共享请求密文的异质值，对共享请求密文进行解密，得到用户患者共享数据。本发明可以提高用户患者数据共享时的安全性。
权利要求书clms
1.一种基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述方法包括：S1、获取目标患者的皮肤数据，对所述目标患者的身份标识进行去标识化处理，得到去标识身份信息；S2、根据所述去标识身份信息及所述皮肤数据生成所述目标患者的患者档案信息，根据所述患者档案信息及预设的时间戳构建患者档案信息树；S3、利用预设的关联哈希算法对所述患者档案信息树中的每个档案信息节点进行加密，得到档案信息加密节点，提取所述档案信息加密节点中的加密关键词，根据所述加密关键词生成所述档案信息节点的安全信息索引；S4、根据预设的数据共享请求生成数据请求消息，根据所述安全信息索引对所述数据请求消息进行双重验证，得到验证逻辑值，当所述验证逻辑值为预设的逻辑阈值时，生成所述数据共享请求对应的共享请求密文；S5、利用预设的异质性算法计算所述共享请求密文的异质值，根据所述异质值及预设的全程追踪信息对所述共享请求密文进行解密，得到所述数据共享请求对应的用户患者共享数据，其中所述利用预设的异质性算法计算所述共享请求密文的异质值，包括：S51、根据预设的数据敏感程度确定所述共享请求密文的数据隐私值；S52、根据预设的负载需求确定所述共享请求密文的距离约束；S53、利用如下预设的异质性算法根据所述数据隐私值及所述距离约束计算所述共享请求密文的异质值：其中，为所述异质值，/＞为第/＞个共享请求密文的标签值，/＞为共享请求密文的数量，/＞为第/＞个共享请求密文的距离约束，/＞为共享请求密文对应的数据区域/＞的距离约束，/＞为第/＞个共享请求密文的数据隐私值，/＞为最小值函数。2.如权利要求1所述的基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述对所述目标患者的身份标识进行去标识化处理，得到去标识身份信息，包括：对所述目标患者的身份标识进行脱敏处理，得到匿名身份信息；根据所述匿名身份信息生成所述目标患者的匿名身份标识；将所述身份标识与所述匿名身份标识构建身份标识映射关系；根据所述身份标识映射关系生成所述目标患者的去标识身份信息。3.如权利要求1所述的基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述根据所述去标识身份信息及所述皮肤数据生成所述目标患者的患者档案信息，包括：根据所述去标识身份信息对所述皮肤数据进行数据整合，得到整合皮肤数据；根据所述去标识身份信息与所述身份标识生成所述目标患者的基本属性；根据所述整合皮肤数据生成所述目标患者的医疗属性；将所述基本属性与所述医疗属性进行融合，得到所述目标患者的患者档案信息。4.如权利要求1所述的基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述根据所述患者档案信息及预设的时间戳构建患者档案信息树，包括：将预设的患者皮肤数据池中心作为根节点；将预设的医疗机构数据池作为所述根节点的子节点；将所述患者档案信息作为信息节点，根据所述患者档案信息的机构标识确定所述信息节点与所述子节点的关联关系；根据所述关联关系及所述时间戳关联所述子节点与所述信息节点，生成档案信息子树，并返回至所述将所述患者档案信息作为信息节点的步骤，直至所有的患者档案信息均被关联完成，生成患者档案信息树。5.如权利要求1所述的基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述利用预设的关联哈希算法对所述患者档案信息树中的每个档案信息节点进行加密，得到档案信息加密节点，包括：通过预设的哈希函数计算每个档案信息节点的哈希值；提取所述档案信息节点对应的档案信息父节点；利用如下的关联哈希算法根据所述档案信息节点的哈希值及所述档案信息父节点的哈希值对所述档案信息节点进行加密，得到档案信息加密哈希值：其中，为第/＞个档案信息节点的档案信息加密哈希值，/＞为第/＞个档案信息节点的哈希值，/＞为第/＞个档案信息节点对应的档案信息父节点的哈希值，/＞为异或符号；根据所述档案信息加密哈希值生成档案信息加密节点。6.如权利要求1所述的基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述提取所述档案信息加密节点中的加密关键词，包括：按照患者档案信息中的信息属性对所述档案信息加密节点进行分类，得到加密节点类别；根据所述加密节点类别提取所述档案信息加密节点中的患者关键词；通过预设的随机函数生成目标患者的加密私钥；根据所述加密私钥对所述患者关键词进行加密，得到加密关键词。7.如权利要求1所述的基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述根据所述加密关键词生成所述档案信息节点的安全信息索引，包括：根据所述加密关键词生成所述档案信息节点的节点加密链表；根据所述档案信息节点的去标识身份信息生成所述档案信息节点的信息索引标识；将所述信息索引标识与所述节点加密链表进行关联，得到安全信息索引。8.如权利要求1所述的基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述根据预设的数据共享请求生成数据请求消息，包括：提取所述数据共享请求的请求哈希值及请求内容；根据所述请求哈希值及所述请求内容生成共享请求签名；根据所述请求哈希值、所述请求内容及所述共享请求签名生成数据请求消息，其中所述数据请求消息为：其中，为所述数据请求消息，/＞为所述请求哈希值，/＞为所述请求内容，/＞为将请求哈希值/＞与请求内容/＞加密后的所述共享请求签名。9.如权利要求1所述的基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述根据所述安全信息索引对所述数据请求消息进行双重验证，得到验证逻辑值，包括：对所述数据请求消息中的共享请求签名进行第一重验证，得到第一重验证逻辑值；当所述第一重验证逻辑值等于预设的逻辑阈值时，根据所述安全信息索引确定所述数据请求消息对应的请求身份权限；根据所述请求身份权限生成第二重验证逻辑值；将所述第一重验证逻辑值及所述第二重验证逻辑值进行相乘运算，得到验证逻辑值。10.如权利要求1所述的基于皮肤数据库实现用户患者数据的安全共享方法，其特征在于，所述根据所述异质值及预设的全程追踪信息对所述共享请求密文进行解密，得到所述数据共享请求对应的用户患者共享数据，包括：当所述异质值大于预设的异质阈值时，提取预设的全程追踪信息中的密钥交换协议；根据所述密钥交换协议确定所述共享请求密文对应的解密密钥；根据所述解密密钥对所述共享请求密文进行解密，得到用户患者共享数据。11.一种基于皮肤数据库实现用户患者数据的安全共享系统，其特征在于，所述系统包括：去标识化处理模块，用于获取目标患者的皮肤数据，对所述目标患者的身份标识进行去标识化处理，得到去标识身份信息；患者档案信息树构建模块，用于根据所述去标识身份信息及所述皮肤数据生成所述目标患者的患者档案信息，根据所述患者档案信息及预设的时间戳构建患者档案信息树；安全信息索引生成模块，用于利用预设的关联哈希算法对所述患者档案信息树中的每个档案信息节点进行加密，得到档案信息加密节点，提取所述档案信息加密节点中的加密关键词，根据所述加密关键词生成所述档案信息节点的安全信息索引；共享请求密文生成模块，用于根据预设的数据共享请求生成数据请求消息，根据所述安全信息索引对所述数据请求消息进行双重验证，得到验证逻辑值，当所述验证逻辑值为预设的逻辑阈值时，生成所述数据共享请求对应的共享请求密文；用户患者共享数据解密模块，用于利用预设的异质性算法计算所述共享请求密文的异质值，根据所述异质值及预设的全程追踪信息对所述共享请求密文进行解密，得到所述数据共享请求对应的用户患者共享数据，其中所述利用预设的异质性算法计算所述共享请求密文的异质值，包括：根据预设的数据敏感程度确定所述共享请求密文的数据隐私值；根据预设的负载需求确定所述共享请求密文的距离约束；利用如下预设的异质性算法根据所述数据隐私值及所述距离约束计算所述共享请求密文的异质值：其中，为所述异质值，/＞为第/＞个共享请求密文的标签值，/＞为共享请求密文的数量，/＞为第/＞个共享请求密文的距离约束，/＞为共享请求密文对应的数据区域/＞的距离约束，/＞为第/＞个共享请求密文的数据隐私值，/＞为最小值函数。
说明书desc
技术领域本发明涉及人工智能技术领域，尤其涉及一种基于皮肤数据库实现用户患者数据的安全共享方法及系统。背景技术随着医疗行业的快速发展和信息化程度的不断提升，用户患者数据的安全共享变得越来越关键，通过共享区域医疗档案，患者可以在不同的医疗机构间无间隙转诊，医生可以更好地了解患者的健康情况，提供更连续且全面的医疗服务，需要对用户患者数据的共享过程的安全性进行分析，以确保用户患者数据的安全共享。现有的用户患者数据的安全共享技术是通过对用户患者数据进行加密处理，确保只有授权的人员才能访问和共享数据。实际应用中，仅仅只对用户患者数据进行加密，可能存在非法用户的数据访问，导致用户患者数据存在非法泄露，从而对进行用户患者数据共享时的安全性较低。发明内容本发明提供一种基于皮肤数据库实现用户患者数据的安全共享方法及系统，其主要目的在于解决进行用户患者数据共享时的安全性较低的问题。为实现上述目的，本发明提供的一种基于皮肤数据库实现用户患者数据的安全共享方法，包括：S1、获取目标患者的皮肤数据，对所述目标患者的身份标识进行去标识化处理，得到去标识身份信息；S2、根据所述去标识身份信息及所述皮肤数据生成所述目标患者的患者档案信息，根据所述患者档案信息及预设的时间戳构建患者档案信息树；S3、利用预设的关联哈希算法对所述患者档案信息树中的每个档案信息节点进行加密，得到档案信息加密节点，提取所述档案信息加密节点中的加密关键词，根据所述加密关键词生成所述档案信息节点的安全信息索引；S4、根据预设的数据共享请求生成数据请求消息，根据所述安全信息索引对所述数据请求消息进行双重验证，得到验证逻辑值，当所述验证逻辑值为预设的逻辑阈值时，生成所述数据共享请求对应的共享请求密文；S5、利用预设的异质性算法计算所述共享请求密文的异质值，根据所述异质值及预设的全程追踪信息对所述共享请求密文进行解密，得到所述数据共享请求对应的用户患者共享数据，其中所述利用预设的异质性算法计算所述共享请求密文的异质值，包括：S51、根据预设的数据敏感程度确定所述共享请求密文的数据隐私值；S52、根据预设的负载需求确定所述共享请求密文的距离约束；S53、利用如下预设的异质性算法根据所述数据隐私值及所述距离约束计算所述共享请求密文的异质值：其中，为所述异质值，/＞为第/＞个共享请求密文的标签值，/＞为共享请求密文的数量，/＞为第/＞个共享请求密文的距离约束，/＞为共享请求密文对应的数据区域/＞的距离约束，/＞为第/＞个共享请求密文的数据隐私值，/＞为最小值函数。可选地，所述对所述目标患者的身份标识进行去标识化处理，得到去标识身份信息，包括：对所述目标患者的身份标识进行脱敏处理，得到匿名身份信息；根据所述匿名身份信息生成所述目标患者的匿名身份标识；将所述身份标识与所述匿名身份标识构建身份标识映射关系；根据所述身份标识映射关系生成所述目标患者的去标识身份信息。可选地，所述根据所述去标识身份信息及所述皮肤数据生成所述目标患者的患者档案信息，包括：根据所述去标识身份信息对所述皮肤数据进行数据整合，得到整合皮肤数据；根据所述去标识身份信息与所述身份标识生成所述目标患者的基本属性；根据所述整合皮肤数据生成所述目标患者的医疗属性；将所述基本属性与所述医疗属性进行融合，得到所述目标患者的患者档案信息。可选地，所述根据所述患者档案信息及预设的时间戳构建患者档案信息树，包括：将预设的患者皮肤数据池中心作为根节点；将预设的医疗机构数据池作为所述根节点的子节点；将所述患者档案信息作为信息节点，根据所述患者档案信息的机构标识确定所述信息节点与所述子节点的关联关系；根据所述关联关系及所述时间戳关联所述子节点与所述信息节点，生成档案信息子树，并返回至所述将所述患者档案信息作为信息节点的步骤，直至所有的患者档案信息均被关联完成，生成患者档案信息树。可选地，所述利用预设的关联哈希算法对所述患者档案信息树中的每个档案信息节点进行加密，得到档案信息加密节点，包括：通过预设的哈希函数计算每个档案信息节点的哈希值；提取所述档案信息节点对应的档案信息父节点；利用如下的关联哈希算法根据所述档案信息节点的哈希值及所述档案信息父节点的哈希值对所述档案信息节点进行加密，得到档案信息加密哈希值：其中，为第/＞个档案信息节点的档案信息加密哈希值，/＞为第/＞个档案信息节点的哈希值，/＞为第/＞个档案信息节点对应的档案信息父节点的哈希值，/＞为异或符号；根据所述档案信息加密哈希值生成档案信息加密节点。可选地，所述提取所述档案信息加密节点中的加密关键词，包括：按照患者档案信息中的信息属性对所述档案信息加密节点进行分类，得到加密节点类别；根据所述加密节点类别提取所述档案信息加密节点中的患者关键词；通过预设的随机函数生成目标患者的加密私钥；根据所述加密私钥对所述患者关键词进行加密，得到加密关键词。可选地，所述根据所述加密关键词生成所述档案信息节点的安全信息索引，包括：根据所述加密关键词生成所述档案信息节点的节点加密链表；根据所述档案信息节点的去标识身份信息生成所述档案信息节点的信息索引标识；将所述信息索引标识与所述节点加密链表进行关联，得到安全信息索引。可选地，所述根据预设的数据共享请求生成数据请求消息，包括：提取所述数据共享请求的请求哈希值及请求内容；根据所述请求哈希值及所述请求内容生成共享请求签名；根据所述请求哈希值、所述请求内容及所述共享请求签名生成数据请求消息，其中所述数据请求消息为：其中，为所述数据请求消息，/＞为所述请求哈希值，/＞为所述请求内容，为将请求哈希值/＞与请求内容/＞加密后的所述共享请求签名。可选地，所述根据所述安全信息索引对所述数据请求消息进行双重验证，得到验证逻辑值，包括：对所述数据请求消息中的共享请求签名进行第一重验证，得到第一重验证逻辑值；当所述第一重验证逻辑值等于预设的逻辑阈值时，根据所述安全信息索引确定所述数据请求消息对应的请求身份权限；根据所述请求身份权限生成第二重验证逻辑值；将所述第一重验证逻辑值及所述第二重验证逻辑值进行相乘运算，得到验证逻辑值。可选地，所述根据所述异质值及预设的全程追踪信息对所述共享请求密文进行解密，得到所述数据共享请求对应的用户患者共享数据，包括：当所述异质值大于预设的异质阈值时，提取预设的全程追踪信息中的密钥交换协议；根据所述密钥交换协议确定所述共享请求密文对应的解密密钥；根据所述解密密钥对所述共享请求密文进行解密，得到用户患者共享数据。为了解决上述问题，本发明还提供一种基于皮肤数据库实现用户患者数据的安全共享系统，所述系统包括：去标识化处理模块，用于获取目标患者的皮肤数据，对所述目标患者的身份标识进行去标识化处理，得到去标识身份信息；患者档案信息树构建模块，用于根据所述去标识身份信息及所述皮肤数据生成所述目标患者的患者档案信息，根据所述患者档案信息及预设的时间戳构建患者档案信息树；安全信息索引生成模块，用于利用预设的关联哈希算法对所述患者档案信息树中的每个档案信息节点进行加密，得到档案信息加密节点，提取所述档案信息加密节点中的加密关键词，根据所述加密关键词生成所述档案信息节点的安全信息索引；共享请求密文生成模块，用于根据预设的数据共享请求生成数据请求消息，根据所述安全信息索引对所述数据请求消息进行双重验证，得到验证逻辑值，当所述验证逻辑值为预设的逻辑阈值时，生成所述数据共享请求对应的共享请求密文；用户患者共享数据解密模块，用于利用预设的异质性算法计算所述共享请求密文的异质值，根据所述异质值及预设的全程追踪信息对所述共享请求密文进行解密，得到所述数据共享请求对应的用户患者共享数据。本发明实施例通过目标患者的身份标识进行去标识化处理，可以有效保护患者的隐私，去标识化处理将身份信息与具体个人分离，使得数据无法直接关联到特定个体；利用加密算法对档案信息节点进行加密，可以确保数据的机密性。只有具备正确的解密密钥才能解密共享请求密文，从而获得患者的共享数据，提高数据的安全性；通过验证逻辑值和逻辑阈值的设置，可以控制数据的共享权限；只有在满足预设的条件下，才会生成共享请求密文，从而确保数据的合法性和授权性；利用哈希算法对患者档案信息树进行加密，可以保证数据的完整性；任何对档案信息节点的篡改都会影响到哈希值的计算结果，从而被检测出来，提高数据的可信度；通过全程追踪信息对共享请求密文进行解密，可以追踪和溯源数据的流动路径，为数据的监管和追责提供支持。因此本发明提出的基于皮肤数据库实现用户患者数据的安全共享方法及系统，可以解决进行用户患者数据共享时的安全性较低的问题。附图说明图1为本发明一实施例提供的基于皮肤数据库实现用户患者数据的安全共享方法的流程示意图；图2为本发明一实施例提供的去除身份标识的流程示意图；图3为本发明一实施例提供的加密档案信息节点的流程示意图；图4为本发明一实施例提供的基于皮肤数据库实现用户患者数据的安全共享系统的功能模块图；本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。本申请实施例提供一种基于皮肤数据库实现用户患者数据的安全共享方法。所述基于皮肤数据库实现用户患者数据的安全共享方法的执行主体包括但不限于服务端、终端等能够被配置为执行本申请实施例提供的该方法的电子设备中的至少一种。换言之，所述基于皮肤数据库实现用户患者数据的安全共享方法可以由安装在终端设备或服务端设备的软件或硬件来执行，所述软件可以是区块链平台。所述服务端包括但不限于：单台服务器、服务器集群、云端服务器或云端服务器集群等。所述服务器可以是独立的服务器，也可以是提供云服务、云数据库、云计算、云函数、云存储、网络服务、云通信、中间件服务、域名服务、安全服务、内容分发网络、以及大数据和人工智能平台等基础云计算服务的云服务器。参照图1所示，为本发明一实施例提供的基于皮肤数据库实现用户患者数据的安全共享方法的流程示意图。在本实施例中，所述基于皮肤数据库实现用户患者数据的安全共享方法包括：S1、获取目标患者的皮肤数据，对所述目标患者的身份标识进行去标识化处理，得到去标识身份信息。本发明实施例中，所述皮肤数据是指基于皮肤数据库中目标患者的皮肤相关数据的集合，包括皮肤类型、皮肤问题、治疗方案等，其中可通过具有数据抓取功能的计算机语句从预先存储的存储区域获取目标患者的皮肤数据，而存储区域包括但不限于数据库、区块链。进一步地，为了保护目标患者的身份信息，减少目标患者的个人身份信息的泄露风险，避免敏感信息被滥用或非法使用，需要对目标患者的身份信息进行去标识处理，保护目标患者的个人隐私。本发明实施例中，所述去标识身份信息是指将替代原始身份信息中的敏感属性和特征，并得到匿名化的身份信息，其中去标识身份信息只包括一些非敏感的属性，如性别和年龄，不会直接或间接泄露个人身份。本发明实施例中，参照图2所示，所述对所述目标患者的身份标识进行去标识化处理，得到去标识身份信息，包括：S21、对所述目标患者的身份标识进行脱敏处理，得到匿名身份信息；S22、根据所述匿名身份信息生成所述目标患者的匿名身份标识；S23、将所述身份标识与所述匿名身份标识构建身份标识映射关系；S24、根据所述身份标识映射关系生成所述目标患者的去标识身份信息。详细地，将目标患者的身份标识信息进行脱敏处理，如利用通用的脱敏方法，将真实的标识信息转换为匿名或伪装的标识，如将身份标识信息替换为匿名或伪造的标识，从而保护个人隐私，例如目标患者的原始身份信息为姓名：张三；身份证号：1234567890；电话号码：13812345678，将原始身份信息进行脱敏处理之后，得到的匿名身份信息为A1B2C3D4E5F6G7H8，即将原始身份信息中的姓名、身份证号和电话号码被去除或替换为匿名身份标识，以保护个人隐私。具体地，根据所述匿名身份信息构建唯一的随机标识符，作为目标患者的匿名身份标识，则匿名身份标识可以用于区分不同的匿名身份信息，以使用匿名标识来代替真实身份标识，以保护个人隐私，但不能与原始身份信息相关联；进而通过将原始身份标识与对应的匿名标识进行映射，建立起二者之间的映射关系，则映射关系可以用于验证和还原匿名身份信息；根据身份标识映射关系，将匿名身份信息与原始身份信息还原出来，生成目标患者的去标识身份信息，从而可以保留一些不敏感的属性和特征。进一步地，通过目标患者对应的去标识身份信息构建目标患者的患者档案信息，可以更准确地在患者数据共享时能够帮助医生更全面地了解患者的健康状况和需求，提高数据共享时数据的全面性。S2、根据所述去标识身份信息及所述皮肤数据生成所述目标患者的患者档案信息，根据所述患者档案信息及预设的时间戳构建患者档案信息树。本发明实施例中，所述患者档案信息是指记录患者个人健康信息、诊疗历史以及医疗服务的相关数据资料，如个人信息、病历信息、医疗服务记录。本发明实施例中，所述根据所述去标识身份信息及所述皮肤数据生成所述目标患者的患者档案信息，包括：根据所述去标识身份信息对所述皮肤数据进行数据整合，得到整合皮肤数据；根据所述去标识身份信息与所述身份标识生成所述目标患者的基本属性；根据所述整合皮肤数据生成所述目标患者的医疗属性；将所述基本属性与所述医疗属性进行融合，得到所述目标患者的患者档案信息。详细地，根据去标识身份信息确定目标患者对应的皮肤数据，进而将来自不同来源的皮肤数据进行汇总，例如病历记录、医学影像、实验室检测结果等，确保目标患者的皮肤数据对应正确；进而根据去标识身份信息及目标患者的身份标识生成基本属性，其中所述基本属性包括目标患者的去标识身份信息、年龄/＞、性别/＞、民族/＞、身高、体重等个人基本信息。具体地，通过对皮肤数据的分析，可以确定目标患者皮肤状况描述，如干燥、痒痛、红肿等；可以评估目标患者当前的皮肤病情，如病变程度、炎症程度、疼痛程度等；可以确定目标患者的治疗记录，其中所述医疗属性包括目标患者的皮肤状况、皮肤病情/＞及皮肤治疗记录/＞，进而将基本属性与医疗属性进行属性拼接，得到目标患者的患者档案信息，如基本属性为/＞，医疗属性为/＞，则患者档案信息为/＞。进一步地，可以将每个目标患者的患者档案信息统一起来，便于后续数据查询，提高患者数据共享效率，以及实现对患者档案信息的安全加密，因此，需要基于目标患者的患者档案信息构建患者档案信息树。本发明实施例中，所述患者档案信息树是一个组织和整合患者健康信息的层次结构，可以按照树的形式展示患者的个人健康信息、诊疗历史和其他相关数据，并通过节点之间的关联关系提供全面的视图和分析。本发明实施例中，所述根据所述患者档案信息及预设的时间戳构建患者档案信息树，包括：将预设的患者皮肤数据池中心作为根节点；将预设的医疗机构数据池作为所述根节点的子节点；将所述患者档案信息作为信息节点，根据所述患者档案信息的机构标识确定所述信息节点与所述子节点的关联关系；根据所述关联关系及所述时间戳关联所述子节点与所述信息节点，生成档案信息子树，并返回至所述将所述患者档案信息作为信息节点的步骤，直至所有的患者档案信息均被关联完成，生成患者档案信息树。详细地，将存储所有的患者皮肤数据的数据池作为患者档案信息树的根节点，在根节点上延伸不同的子节点，则将医疗机构数据池与根节点进行关联，作为根节点的子节点，可以将不同的医疗机构的信息与患者的档案信息进行关联，方便后续的查询和分析；并且每个医疗机构的子节点可延伸不同的子节点，即将每个患者的档案信息作为一个节点，并将其与医疗机构数据节点进行关联，每个患者档案信息节点包含患者的个人健康信息、诊疗历史等相关数据，根据患者档案信息中的机构标识，确定该信息节点应与哪个医疗机构数据节点进行关联，可以确保每个患者档案信息节点与医疗机构数据节点之间的正确关联，如以不同的医院作为子节点，每个患者都会属于某一个医院，将患者档案信息的机构标识与医院机构标识关联起来，可确定每个患者所属的医疗机构，从而将患者与医疗机构关联起来，形成不同医院不同患者的患者档案信息树。具体地，根据时间戳的顺序，将每个子节点与相应的信息节点进行关联，通过时间戳的关联，可以记录每次更新和修改的时间点，方便后续的追溯和跟踪，根据关联关系和时间戳，逐步将每个患者档案信息与信息节点进行关联，生成患者档案信息的子树。最终，所有患者档案信息都被关联完成，生成完整的患者档案信息树。示例性地，患者档案信息①与患者档案信息②都同属一个医疗机构，若患者档案信息①的时间戳与患者档案信息②的时间戳在预设的时间戳阈值内，则患者档案信息①与患者档案信息②属于兄弟节点，若患者档案信息①的时间戳早于患者档案信息②的时间戳，且患者档案信息①的时间戳与患者档案信息②的时间戳不在预设的时间戳阈值内，则患者档案信息②为患者档案信息①的子节点。进一步地，为了确保患者的敏感健康数据在进行数据共享时，不被未经授权的人访问或篡改，需要对档案信息节点进行加密，加密后的节点只能通过正确的密钥进行解密，提高了数据的安全性。S3、利用预设的关联哈希算法对所述患者档案信息树中的每个档案信息节点进行加密，得到档案信息加密节点，提取所述档案信息加密节点中的加密关键词，根据所述加密关键词生成所述档案信息节点的安全信息索引。本发明实施例中，所述档案信息加密节点是指对患者档案信息树中每个档案信息内容进行加密，所得到对每个档案信息节点的加密密文。本发明实施例中，参照图3所示，所述利用预设的关联哈希算法对所述患者档案信息树中的每个档案信息节点进行加密，得到档案信息加密节点，包括：S31、通过预设的哈希函数计算每个档案信息节点的哈希值；S32、提取所述档案信息节点对应的档案信息父节点；S33、利用如下的关联哈希算法根据所述档案信息节点的哈希值及所述档案信息父节点的哈希值对所述档案信息节点进行加密，得到档案信息加密哈希值：其中，为第/＞个档案信息节点的档案信息加密哈希值，/＞为第/＞个档案信息节点的哈希值，/＞为第/＞个档案信息节点对应的档案信息父节点的哈希值，/＞为异或符号；S34、根据所述档案信息加密哈希值生成档案信息加密节点。详细地，将每个档案信息节点中对应的档案信息内容进行二进制转换，通过预设的哈希函数对每个档案信息节点对应的档案信息内容计算其哈希值，哈希函数包括但不限于MD5、SHA-1、SHA-256，将输入的数据转化为固定长度的哈希值，进而根据患者档案信息树的布局，可提取每个档案信息节点对应的档案信息父节点，从而将档案信息节点的哈希值与档案信息父节点的哈希值进行关联运算，得到当前档案信息节点对应的哈希值。示例性地，当档案信息节点②对应的档案信息父节点为档案信息节点①，而档案信息节点①的哈希值为F，档案信息节点②的哈希值为G，则将哈希值F与哈希值G对应的二进制数进行异或计算，得到档案信息节点②对应的档案信息内容的二进制数值，进而根据二进制数值确定档案信息加密哈希值，从而将档案信息加密哈希值对应的档案信息节点②确定为档案信息加密节点。具体地，在患者档案信息树中每个档案信息节点的加密信息主要来源于父节点的哈希值和当前节点哈希值计算得到的结果，每个档案信息节点的加密信息都会与其档案信息父节点相关联，从而在数据共享时很难被篡改。进一步地，为了有效保护敏感的患者档案信息不被未经授权的人员访问或解读，只有持有正确的解密关键词的人员才能解密和获取原始的档案信息，因此，需要提取档案信息加密节点中每个加密信息内容的加密关键词，从而增强数据共享的安全性。本发明实施例中，所述加密关键词是指档案信息加密节点中加密档案信息内容中的特性词汇或密码，用于对敏感信息进行保护和隐藏，将原始数据转化为不可读的形式，从而确保数据在传输、存储和处理过程中的安全性。本发明实施例中，所述提取所述档案信息加密节点中的加密关键词，包括：按照患者档案信息中的信息属性对所述档案信息加密节点进行分类，得到加密节点类别；根据所述加密节点类别提取所述档案信息加密节点中的患者关键词；通过预设的随机函数生成目标患者的加密私钥；根据所述加密私钥对所述患者关键词进行加密，得到加密关键词。详细地，患者档案信息中的信息属性包括个人身份信息、病历信息及药物处方信息，将每个档案信息加密节点中的档案信息内容按照信息属性分类，得到每个目标患者对应的个人身份信息、病历信息及药物处方信息，如目标患者A对应的档案信息加密节点中档案信息内容分类后得到的加密节点类别为个人身份信息、病历信息及药物处方信息，进而根据每个加密节点类别提取每个档案信息加密节点中的患者关键词，针对每个加密节点类别，从中提取与该类别相关的关键词，如在个人身份信息中患者关键词为身份证号码、手机号码；在病历信息中患者关键词为病症类别、病症程度；在药物处方信息中患者关键词为药物名称，从而得到每个目标患者单独的患者关键词。具体地，通过预设的随机函数生成目标患者关键词的随机密钥，使用预设的随机函数来生成随机数，则随机数将用作生成加密私钥的种子，进而将随机数进行哈希计算，得到随机数对应的哈希值，将此哈希值作为患者关键词对应的加密密钥，根据加密密钥对逐一对患者关键词进行加密，即将患者关键词对应的二进制数据与加密密钥进行拼接，得到患者关键词对应的加密关键词。进一步地，利用加密关键词生成的索引可以更好地保护患者的隐私和敏感数据，只有知道符合加密关键词要求的请求用户，才能够访问和查看与之相关的数据，从而有效减少了数据泄露和滥用的风险，进而提高数据的访问速度和查询效率，可以快速定位需要的数据，避免了对整个数据集进行遍历的时间和资源浪费。本发明实施例中，所述安全信息索引是指用户保护患者医疗数据隐私和提高数据共享访问效率的索引，通过将医疗数据中的敏感信息加密，并生成一个唯一的索引，以便只有经过授权的人员才能够访问和查看与之相关的数据。本发明实施例中，所述根据所述加密关键词生成所述档案信息节点的安全信息索引，包括：根据所述加密关键词生成所述档案信息节点的节点加密链表；根据所述档案信息节点的去标识身份信息生成所述档案信息节点的信息索引标识；将所述信息索引标识与所述节点加密链表进行关联，得到安全信息索引。详细地，对于每个档案信息节点对应的档案信息内容划分为多个加密关键词，如加密关键词包括，将每个关键词都作为一个独立的节点，从而每个关键词都对应一个加密节点，从而将所有关键词对应的加密节点生成每个档案信息节点对应的节点加密链表，如/＞，进而根据每个档案信息节点的去标识身份信息生成每个节点加密链表的索引标识，如去标识身份信息为A1B2C3D4E5F6G7H8，取其前5个数值A1B2C作为信息索引标识，进而将每个档案信息节点的信息索引标识与节点加密链表关联，从而得到安全信息索引，则安全信息索引为{A1B2C：/＞}，即将信息索引标识和节点加密链表存储在一个数据结构中，以便可以快速访问和查询匹配的数据。进一步地，当需要患者数据共享时，需要获取患者数据共享请求，从而获知有用户需要共享患者数据，进而根据数据共享请求生成数据请求消息，可以更好地规范和标准化数据请求的内容和格式，更好地保护数据的隐私和安全，只有经过授权的人员才能够访问和查看特定的数据，从而有效减少了数据泄露和滥用的风险。S4、根据预设的数据共享请求生成数据请求消息，根据所述安全信息索引对所述数据请求消息进行双重验证，得到验证逻辑值，当所述验证逻辑值为预设的逻辑阈值时，生成所述数据共享请求对应的共享请求密文。本发明实施例中，所述数据请求消息是指用于对患者数据及进行共享的数据请求，获取某个数据拥有方的用户患者数据。本发明实施例中，所述根据预设的数据共享请求生成数据请求消息，包括：提取所述数据共享请求的请求哈希值及请求内容；根据所述请求哈希值及所述请求内容生成共享请求签名；根据所述请求哈希值、所述请求内容及所述共享请求签名生成数据请求消息，其中所述数据请求消息为：其中，为所述数据请求消息，/＞为所述请求哈希值，/＞为所述请求内容，/＞为将请求哈希值/＞与请求内容/＞加密后的所述共享请求签名。详细地，所述数据共享请求包括请求哈希值及请求共享内容，其中可通过拦截器提取数据共享请求的请求哈希值及请求内容，而可以将数据共享请求的内容应用哈希算法，例如SHA-256，得到一个唯一且固定长度的哈希值，作为请求哈希值，数据共享请求中的具体内容包括请求的数据类型、范围、条件等信息。具体地，通过预设的签名算法根据请求哈希值及请求内容/＞生成共享请求签名，确保数据共享请求的完整性和真实性，以防止请求被篡改，可通过RSA算法生成共享请求签名，首先生成一对RSA密钥，包括私钥和公钥，使用RSA私钥对请求哈希值和请求内容进行签名，签名的过程是将请求哈希值和请求内容进行加密，并生成签名值/＞，进而将请求哈希值/＞、请求内容/＞和共享请求签名/＞拼接起来，形成数据请求消息，可以用于传输给数据提供方，以便数据提供方验证请求的合法性和真实性，并根据请求共享相应的用户患者数据。进一步地，在基于生成的数据请求消息获取用户患者数据之前，需要对数据请求信息的双重验证，可以防止恶意攻击者伪造或篡改数据请求信息，有效地减少数据泄露的风险，只有经过验证的请求者才能访问数据，从而减少了敏感数据被泄露的可能性。本发明实施例中，所述验证逻辑值是指对数据请求消息是否通过的一个凭证，当验证逻辑值为预设的逻辑阈值时，表示验证通过，可以向数据请求方共享用户患者数据。本发明实施例中，所述根据所述安全信息索引对所述数据请求消息进行双重验证，得到验证逻辑值，包括：对所述数据请求消息中的共享请求签名进行第一重验证，得到第一重验证逻辑值；当所述第一重验证逻辑值等于预设的逻辑阈值时，根据所述安全信息索引确定所述数据请求消息对应的请求身份权限；根据所述请求身份权限生成第二重验证逻辑值；将所述第一重验证逻辑值及所述第二重验证逻辑值进行相乘运算，得到验证逻辑值。详细地，数据拥有者收到数据请求方的请求消息后，首先验证数据请求消息中的共享请求签名是否合法，利用相应的验证算法和RSA密钥中的公钥，对共享请求签名进行解密和验证，验证解密后的数据与原数据是否一致，如果验证通过，即签名有效，则得到第一重验证逻辑值为1；否则，第一重验证逻辑值为0，只有当第一重验证逻辑值等于逻辑阈值1时，会进行第二重验证，而第一重验证逻辑值等于逻辑阈值0时，表示验证不通过，会拦截此数据请求消息，避免用户患者数据发生泄露。具体地，当第一重验证逻辑值等于逻辑阈值1时，将数据请求消息对应的用户与安全信息索引中授权用户身份信息进行对比，确定数据共享请求用户是否是授权用户，若数据共享请求用户是安全信息索引中的授权用户，则确定用户身份权限为授权用户，进而生成第二重验证逻辑值，则第二重验证逻辑值为数值1，若数据共享请求用户不是安全信息索引中的授权用户，则确定用户身份权限为非授权用户，则第二重验证逻辑值为数值0，将第一重验证逻辑值和第二重验证逻辑值进行相乘运算，得到最终的验证逻辑值，若验证逻辑值为数值1时，表示数据共享请求用户验证通过，若验证逻辑值不为数值1时，表示数据共享请求用户验证不通过。进一步地，当所述验证逻辑值为预设的逻辑阈值1时，生成所述数据共享请求对应的共享请求密文，即提取所述数据共享请求的加密关键词，根据加密关键词获取共享请求密文，将加密关键词与其他必要的信息组合在一起，得到共享请求密文，将生成的共享请求密文返回给请求方，请求方可以使用该密文来访问共享的数据。更进一步地，基于区域医疗档案信息数据的分布和特征不同，需要对获取的共享请求密文进行异质性分析，保证共享请求密文的一致性，确保接收方在使用共享请求密文时能够验证其合法性，防止伪造或篡改的情况发生。S5、利用预设的异质性算法计算所述共享请求密文的异质值，根据所述异质值及预设的全程追踪信息对所述共享请求密文进行解密，得到所述数据共享请求对应的用户患者共享数据。本发明实施例中，所述异质值是针对特征空间异质性、标签分布异质性衡量从不同的医疗机构中获取共享请求密文的特征之间的差异程度，异质值越大，表示共享请求密文之间的差异越大，反之则表示差异较小。本发明实施例中，所述利用预设的异质性算法计算所述共享请求密文的异质值，包括：根据预设的数据敏感程度确定所述共享请求密文的数据隐私值；根据预设的负载需求确定所述共享请求密文的距离约束；利用如下预设的异质性算法根据所述数据隐私值及所述距离约束计算所述共享请求密文的异质值：其中，为所述异质值，/＞为第/＞个共享请求密文的标签值，/＞为共享请求密文的数量，/＞为第/＞个共享请求密文的距离约束，/＞为共享请求密文对应的数据区域/＞的距离约束，/＞为第/＞个共享请求密文的数据隐私值，/＞为最小值函数。详细地，根据数据敏感程度确定共享请求密文的数据隐私值，而数据敏感程度包括高、中、低三个敏感程度级别，基于共享请求密文数据，进行内容分析，识别其中包含的敏感信息类型，如个人身份信息、健康数据等，为每个敏感信息类型分配一个权重系数，用于衡量其对数据隐私的影响程度，如个人身份信息、健康数据可能被认为是最敏感的，可以赋予较高的权重，根据数据内容和权重系数，计算数据隐私值，可以采用加权求和的方式，将每个敏感信息类型的权重乘以其在数据中的敏感程度分值中的均值，并累加得到最终的数据隐私值，其中敏感程度级别为高级其对应的敏感程度分值为，敏感程度级别为中级其对应的敏感程度分值为/＞，敏感程度级别为低级其对应的敏感程度分值为，取其敏感程度分值对应的均值乘以敏感信息类型的权重得到数据隐私值；距离约束通常用于限制密文之间的相似性或差异性，以满足特定的需求，选择适当的距离度量方法来计算密文之间的距离，如欧氏距离、曼哈顿距离、余弦相似度等，如果要求密文之间的相似性较高，则可以设定较小的距离阈值；如果要求密文之间的差异性较大，则可以设定较大的距离阈值，将距离约束作为一个条件，将密文与其他密文进行比较，并根据距离是否满足约束条件来确定是否共享或接受请求。具体地，在异质性算法中可确定不同的共享请求密文是否具有异质性，若共享请求密文①在数据区域A中，共享请求密文②在数据区域B中，则需要分别计算共享请求密文①与共享请求密文②之间的距离约束，以及共享请求密文①在数据区域A中的距离约束，共享请求②在数据区域B中的距离约束，而共享请求密文的标签需要量化为数值，标签值可以是任何可区分共享请求密文的值，如将共享请求密文对应的索引号转换为对应的数值，如字母转换为数值，数值还是数值，进而将索引号转换后对应的数值进行相加，得到共享请求密文的标签/＞，对于每个数据区域/＞，计算其到共享请求密文的距离/＞和到所有其他共享请求密文的距离的平均值，/＞表示梯度更新引导值对共享请求密文之间的异质性进行修正，得到不同区域共享请求密文的数据异质性。进一步地，对共享请求密文计算其异质性，保证共享请求密文的一致性后，需要将用户请求的用户患者数据发送至请求用户，实现用户患者数据的共享，则通过数据共享全程追踪信息向请求用户发送解密密钥，以及全程追踪信息保证数据共享过程中的安全性。本发明实施例中，所述用户患者共享数据是指用户请求的数据，如不同的医疗机构请求共享同一患者的医疗数据，即目标患者的医疗数据。本发明实施例中，所述根据所述异质值及预设的全程追踪信息对所述共享请求密文进行解密，得到所述数据共享请求对应的用户患者共享数据，包括：当所述异质值大于预设的异质阈值时，提取预设的全程追踪信息中的密钥交换协议；根据所述密钥交换协议确定所述共享请求密文对应的解密密钥；根据所述解密密钥对所述共享请求密文进行解密，得到用户患者共享数据。详细地，当异质值大于预设的异质阈值时，表示共享请求密文之间具有一致性，进而在全程追踪信息中提取对共享请求密文进行解密的密钥，则在全程追踪信息中记录用户患者共享过程中的加解密密钥，用户访问记录等，进而提取全程追踪信息中的密钥交换协议，则密钥交换协议是用于在通信双方之间协商密钥，则在数据提供方与用户请求方进行密钥交换，从而数据请求方得到共享请求密文的解密密钥，从而根据解密密钥对共享请求密文进行解密，将共享请求密文转换为明文，解密后的明文就是共享的用户患者数据。进一步地，通过对用户患者数据进行加密解密的数据可以提高数据共享过程中的安全性，以及通过分析用户患者共享数据，医疗专业人员可以获得更全面、准确的信息，从而做出更好的医疗决策。本发明实施例通过目标患者的身份标识进行去标识化处理，可以有效保护患者的隐私，去标识化处理将身份信息与具体个人分离，使得数据无法直接关联到特定个体；利用加密算法对档案信息节点进行加密，可以确保数据的机密性。只有具备正确的解密密钥才能解密共享请求密文，从而获得患者的共享数据，提高数据的安全性；通过验证逻辑值和逻辑阈值的设置，可以控制数据的共享权限；只有在满足预设的条件下，才会生成共享请求密文，从而确保数据的合法性和授权性；利用哈希算法对患者档案信息树进行加密，可以保证数据的完整性；任何对档案信息节点的篡改都会影响到哈希值的计算结果，从而被检测出来，提高数据的可信度；通过全程追踪信息对共享请求密文进行解密，可以追踪和溯源数据的流动路径，为数据的监管和追责提供支持。因此本发明提出的基于皮肤数据库实现用户患者数据的安全共享方法及系统，可以解决进行用户患者数据共享时的安全性较低的问题。如图4所示，是本发明一实施例提供的基于皮肤数据库实现用户患者数据的安全共享系统的功能模块图。本发明所述基于皮肤数据库实现用户患者数据的安全共享系统100可以安装于电子设备中。根据实现的功能，所述基于皮肤数据库实现用户患者数据的安全共享系统100可以包括去标识化处理模块101、患者档案信息树构建模块102、安全信息索引生成模块103、共享请求密文生成模块104及用户患者共享数据解密模块105。本发明所述模块也可以称之为单元，是指一种能够被电子设备处理器所执行，并且能够完成固定功能的一系列计算机程序段，其存储在电子设备的存储器中。在本实施例中，关于各模块/单元的功能如下：所述去标识化处理模块101，用于获取目标患者的皮肤数据，对所述目标患者的身份标识进行去标识化处理，得到去标识身份信息；所述患者档案信息树构建模块102，用于根据所述去标识身份信息及所述皮肤数据生成所述目标患者的患者档案信息，根据所述患者档案信息及预设的时间戳构建患者档案信息树；所述安全信息索引生成模块103，用于利用预设的关联哈希算法对所述患者档案信息树中的每个档案信息节点进行加密，得到档案信息加密节点，提取所述档案信息加密节点中的加密关键词，根据所述加密关键词生成所述档案信息节点的安全信息索引；所述共享请求密文生成模块104，用于根据预设的数据共享请求生成数据请求消息，根据所述安全信息索引对所述数据请求消息进行双重验证，得到验证逻辑值，当所述验证逻辑值为预设的逻辑阈值时，生成所述数据共享请求对应的共享请求密文；所述用户患者共享数据解密模块105，用于利用预设的异质性算法计算所述共享请求密文的异质值，根据所述异质值及预设的全程追踪信息对所述共享请求密文进行解密，得到所述数据共享请求对应的用户患者共享数据。详细地，本发明实施例中所述基于皮肤数据库实现用户患者数据的安全共享系统100中所述的各模块在使用时采用与上述图1至图3中所述的基于皮肤数据库实现用户患者数据的安全共享方法一样的技术手段，并能够产生相同的技术效果，这里不再赘述。在本发明所提供的几个实施例中，应该理解到，所揭露的系统和方法，可以通过其它的方式实现。例如，以上所描述的系统实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。所述作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能模块的形式实现。对于本领域技术人员而言，显然本发明不限于上述示范性实施例的细节，而且在不背离本发明的精神或基本特征的情况下，能够以其他的具体形式实现本发明。因此，无论从哪一点来看，均应将实施例看作是示范性的，而且是非限制性的，本发明的范围并不仅依据上述说明进行限定，因此旨在将落在保护范围内的等同要件的含义和范围内的所有变化涵括在本发明内。本申请实施例可以基于人工智能技术对相关的数据进行获取和处理。其中，人工智能（Artificial Intelligence，AI)是利用数字计算机或者数字计算机控制的机器模拟、延伸和扩展人的智能，感知环境、获取知识并使用知识获得最佳结果的理论、方法、技术及应用系统。此外，显然“包括”一词不排除其他单元或步骤，单数不排除复数。系统实施例中陈述的多个单元或系统也可以由一个单元或系统通过软件或者硬件来实现。第一、第二等词语用来表示名称，而并不表示任何特定的顺序。最后应说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，可以对本发明的技术方案进行修改或等同替换，而不脱离本发明技术方案的精神和范围。
