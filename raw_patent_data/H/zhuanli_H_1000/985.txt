标题title
基于双耳效应的汽车空间虚拟环绕声音频系统及设计方法
摘要abst
本发明公开了一种基于双耳效应的汽车空间虚拟环绕声音频系统及设计方法，设计方法包括：建立汽车空间的坐标系，确定目标左耳、右耳及各扬声器的方位信息；确定各扬声器分别相对于目标左耳、右耳的方位参数的值；根据各扬声器分别相对于目标左耳、右耳的方位参数的值，确定各扬声器的HRTF响应相关于声音信号源频率的函数；以求和的方式，计算全部扬声器产生的左耳响应总和及右耳响应总和；利用优化算法，确定各扬声器对应的信号源优化目标频率，将其作为控制各个扬声器工作频率。本发明基于HRTF技术，使空间音频渲染可以解析立体声信号中的空间音频信息，利用HRTF对声场进行建模和渲染，改善沉浸式的空间音频环绕声体验。
权利要求书clms
1.一种基于双耳效应的汽车空间虚拟环绕声音频系统，其特征在于，包括音频处理器以及分布在汽车内部多个位置的多个扬声器，其中，所述音频处理器集成有HRTF算法，所述HRTF算法为HRTF响应相关于声音信号源频率、声耳相对方位参数的函数；所述音频处理器被配置为通过以下步骤确定对所述扬声器的控制策略：基于汽车空间的同一坐标系，确定目标左耳、目标右耳及各扬声器的方位信息；确定各个扬声器分别相对于目标左耳、目标右耳的方位参数的值；根据所述各个扬声器分别相对于目标左耳、目标右耳的方位参数的值，确定各个扬声器的HRTF响应相关于声音信号源频率的函数；以求和的方式，计算全部扬声器产生的左耳HRTF响应总和及右耳HRTF响应总和；利用优化算法，确定各个扬声器对应的信号源优化目标频率；所述音频处理器基于所述信号源优化目标频率控制各个扬声器的工作频率。2.根据权利要求1所述的基于双耳效应的汽车空间虚拟环绕声音频系统，其特征在于，所述确定各个扬声器对应的信号源优化目标频率包括：在所述左耳HRTF响应总和与右耳HRTF响应总和的差值不超过预设阈值的情况下，确定在介于20Hz至20kHz范围内、使所述左耳HRTF响应总和、右耳HRTF响应总和均达到预设响应优值的声音信号源频率集合，或者，使所述左耳HRTF响应总和、右耳HRTF响应总和达到最大值的声音信号源频率集合，以作为所述信号源优化目标频率。3.根据权利要求1所述的基于双耳效应的汽车空间虚拟环绕声音频系统，其特征在于，通过以下方式确定目标左耳、目标右耳的方位信息：配置与所述音频处理器通讯连接的人机交互装置，在所述人机交互装置上输入、选择或调节左耳的方位信息、右耳的方位信息。4.根据权利要求3所述的基于双耳效应的汽车空间虚拟环绕声音频系统，其特征在于，所述人机交互装置以触摸屏为终端，其配置有乘坐位置信息模块和/或乘坐人员信息模块，其中，所述乘坐位置信息模块用于输入目标左耳、目标右耳对应在汽车空间内的座位信息，所述乘坐人员信息模块用于输入目标左耳、目标右耳对应的用户性别、身高、头围、体重信息中的一种或多种，所述人机交互装置根据所述乘坐位置信息模块和/或乘坐人员信息模块输入的信息预估目标左耳的方位信息、目标右耳的方位信息。5.根据权利要求4所述的基于双耳效应的汽车空间虚拟环绕声音频系统，其特征在于，所述人机交互装置还包括调节模块和/或存储模块，所述调节模块被配置为对预估得到的目标左耳的方位信息、目标右耳的方位信息进行人工调节；所述存储模块被配置为响应指令而存储不同身份对应的左耳的方位信息、右耳的方位信息。6.根据权利要求1所述的基于双耳效应的汽车空间虚拟环绕声音频系统，其特征在于，通过以下方式确定目标左耳、目标右耳的方位信息：配置可穿戴式采样传感器，并将所述采样传感器佩戴在左耳和/或右耳，利用所述采样传感器采样左耳、右耳的所在位置信息；结合各个扬声器的所在位置信息，得到左耳的方位信息、右耳的方位信息，其中，所述各个扬声器的所在位置信息由人工预先录入或者通过配置安装在各个扬声器处的定位传感器来进行检测以获取各个扬声器的所在位置信息。7.根据权利要求1所述的基于双耳效应的汽车空间虚拟环绕声音频系统，其特征在于，所述声耳相对方位参数包括声音信号源与耳朵之间的直线距离、声音信号源相对于耳朵的水平方位角、声音信号源相对于耳朵的俯仰角中的一种或多种。8.根据权利要求7所述的基于双耳效应的汽车空间虚拟环绕声音频系统，其特征在于，通过以下方式计算全部扬声器产生的左耳HRTF响应总和及右耳HRTF响应总和：HL_sum = HL1 + HL2 + …+ HLn，其中，HL_sum为左耳HRTF响应总和，r1, r2, rn分别为第1、2、n个扬声器至目标左耳的距离，θ1, θ2, θn分别为第1、2、n个扬声器相对于目标左耳的水平方位角，Φ1, Φ2, Φn分别为第1、2、n个扬声器相对于目标左耳的俯仰角，w1, w2, wn分别为第1、2、n个扬声器对应的声音信号源角频率；HL1、HL2、HLn分别为第1、2、n个扬声器产生的左耳HRTF响应；HR_sum = HR1 + HR2 + …+ HRn，其中，HR_sum为右耳HRTF响应总和，r1’, r2’, rn’分别为第1、2、n个扬声器至目标右耳的距离，θ1’, θ2’, θn’分别为第1、2、n个扬声器相对于目标右耳的水平方位角，Φ1’, Φ2’, Φn’分别为第1、2、n个扬声器相对于目标右耳的俯仰角；HR1、HR2、HRn分别为第1、2、n个扬声器产生的右耳HRTF响应。9.一种基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法，其特征在于，包括以下步骤：建立汽车空间的坐标系，确定目标左耳、目标右耳及各扬声器的方位信息；确定各个扬声器分别相对于目标左耳、目标右耳的方位参数的值；根据所述各个扬声器分别相对于目标左耳、目标右耳的方位参数的值，确定各个扬声器的HRTF响应相关于声音信号源频率的函数；以求和的方式，计算全部扬声器产生的左耳响应总和及右耳响应总和；利用优化算法，确定各个扬声器对应的信号源优化目标频率，所述信号源优化目标频率作为控制各个扬声器工作频率的依据。10.根据权利要求9所述的基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法，其特征在于，通过以下方式计算全部扬声器产生的左耳HRTF响应总和及右耳HRTF响应总和：HL_sum = HL1 + HL2 + …+ HLn，其中，HL_sum为左耳HRTF响应总和，r1, r2, rn分别为第1、2、n个扬声器至目标左耳的距离，θ1, θ2, θn分别为第1、2、n个扬声器相对于目标左耳的水平方位角，Φ1, Φ2, Φn分别为第1、2、n个扬声器相对于目标左耳的俯仰角，w1, w2, wn分别为第1、2、n个扬声器对应的声音信号源角频率；HL1、HL2、HLn分别为第1、2、n个扬声器产生的左耳HRTF响应；HR_sum = HR1 + HR2 + …+ HRn，其中，HR_sum为右耳HRTF响应总和，r1’, r2’, rn’分别为第1、2、n个扬声器至目标右耳的距离，θ1’, θ2’, θn’分别为第1、2、n个扬声器相对于目标右耳的水平方位角，Φ1’, Φ2’, Φn’分别为第1、2、n个扬声器相对于目标右耳的俯仰角；HR1、HR2、HRn分别为第1、2、n个扬声器产生的右耳HRTF响应；在所述左耳HRTF响应总和与右耳HRTF响应总和的差值不超过预设阈值的情况下，确定在介于20Hz至20kHz范围内、使所述左耳HRTF响应总和、右耳HRTF响应总和均达到预设响应优值的声音信号源频率集合，或者，使所述左耳HRTF响应总和、右耳HRTF响应总和达到最大值的声音信号源频率集合，以作为所述信号源优化目标频率。11.根据权利要求9所述的基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法，其特征在于，通过以下方式计算全部扬声器产生的左耳HRIR总和及右耳HRIR总和：hL_sum = hL1 + hL2 + …+ hLn，其中，hL_sum为左耳HRIR总和，r1, r2, rn分别为第1、2、n个扬声器至目标左耳的距离，θ1, θ2, θn分别为第1、2、n个扬声器相对于目标左耳的水平方位角，Φ1, Φ2, Φn分别为第1、2、n个扬声器相对于目标左耳的俯仰角，w1, w2, wn分别为第1、2、n个扬声器对应的声音信号源角频率；hL1、hL2、hLn分别为第1、2、n个扬声器产生的左耳HRIR；hR_sum = hR1 + hR2 + …+ hRn，其中，hR_sum为右耳HRIR总和，r1’, r2’, rn’分别为第1、2、n个扬声器至目标右耳的距离，θ1’, θ2’, θn’分别为第1、2、n个扬声器相对于目标右耳的水平方位角，Φ1’, Φ2’, Φn’分别为第1、2、n个扬声器相对于目标右耳的俯仰角；hR1、hR2、hRn分别为第1、2、n个扬声器产生的右耳HRIR。12.根据权利要求11所述的基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法，其特征在于，所述扬声器产生的HRIR与所述扬声器产生的HRTF响应互为傅里叶变换对；通过以下公式计算第i个扬声器产生的左耳HRIR和右耳HRIR：，，其中，hLi为第i个扬声器产生的左耳HRIR，HLi为第i个扬声器产生的左耳HRTF响应；hRi为第i个扬声器产生的右耳HRIR，HRi为第i个扬声器产生的右耳HRTF响应；ri为第i个扬声器至目标左耳的距离，θi为第i个扬声器相对于目标左耳的水平方位角，Φi为第i个扬声器相对于目标左耳的俯仰角，wi分别为第i个扬声器对应的声音信号源角频率；ri’为第i个扬声器至目标右耳的距离，θi’为第i个扬声器相对于目标右耳的水平方位角，Φi’为第i个扬声器相对于目标右耳的俯仰角。13.根据权利要求9所述的基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法，其特征在于，通过以下方式确定目标左耳、目标右耳的方位信息：在预配置的人机交互装置上输入乘坐位置信息和/或乘坐人员信息，或从预存储的方位选项中进行选择，所述人机交互装置输出与之相适配的目标左耳的方位信息、目标右耳的方位信息；或者，目标左耳、目标右耳分别佩戴采样传感器，结合已知的各个扬声器的所在位置信息，得到左耳的方位信息、右耳的方位信息。14.根据权利要求10或12所述的基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法，其特征在于，HRTF响应被定义为：HLi = PLi / P0i ，HRi = PRi / P0i ，其中，HLi为第i个扬声器产生的左耳HRTF响应，ri为第i个扬声器至目标左耳的距离，θi为第i个扬声器相对于目标左耳的水平方位角，Φi为第i个扬声器相对于目标左耳的俯仰角，wi分别为第i个扬声器对应的声音信号源角频率；PLi为第i个扬声器在左耳产生的复数声压，P0i为人头不在时，第i个扬声器在目标左耳和目标右耳中点处的复数声压，ri’’为第i个扬声器至目标左耳和目标右耳中点处的距离；HRi为第i个扬声器产生的右耳HRTF响应，ri’为第i个扬声器至目标右耳的距离，θi’为第i个扬声器相对于目标右耳的水平方位角，Φi’为第i个扬声器相对于目标右耳的俯仰角；PRi为第i个扬声器在右耳产生的复数声压。15.根据权利要求9所述的基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法，其特征在于，还包括：将所述声音信号源分类为多种类型，为不同类型的声音信号源确定不同的声音信号源频率范围；针对不同类型的声音信号源，在所述左耳响应总和与右耳响应总和的差值不超过预设阈值的情况下，确定在介于其对应的声音信号源频率范围内、使所述左耳响应总和、右耳响应总和均达到预设响应优值的声音信号源频率集合，或者，使所述左耳响应总和、右耳响应总和达到最大值的声音信号源频率集合，以作为所述信号源优化目标频率；存储和调用各个不同类型的声音信号源对应的信号源优化目标频率。
说明书desc
技术领域本发明涉及车载扩声领域，尤其涉及一种基于双耳效应的汽车空间虚拟环绕声音频系统及设计方法。背景技术环绕声系统能够给用户一种从收听环境周围不同位置来接收声音的印象，其通过处理发送到各种/各处扬声器的音频信号，使听众感觉被空间立体音乐环绕。这种效果是通过接收音频信号并在信号传输到扬声器或扬声器组之前修改信号来实现的，调整后的声音信号给收听者一种感觉，即其自身位于正在产生声音活动的中间。在车内观影或者听音乐时，环绕声的实现对于车内人员的感官体验至关重要。传统的车载环绕声系统通常采用多个扬声器来实现声音的环绕效果，但是这种方法存在着成本高、安装复杂、维护困难等问题。且现有的车载立体声音响系统播放立体声音源时提供逼真的环绕声效果方面存在一定的限制。以上背景技术内容的公开仅用于辅助理解本发明的发明构思及技术方案，其并不必然属于本专利申请的现有技术，也不必然会给出技术教导；在没有明确的证据表明上述内容在本专利申请的申请日之前已经公开的情况下，上述背景技术不应当用于评价本申请的新颖性和创造性。发明内容本发明的目的是提供一种改进的汽车空间虚拟环绕声音频系统，改善真实的空间音频体验。为达到上述目的，本发明采用的技术方案如下：一种基于双耳效应的汽车空间虚拟环绕声音频系统，包括音频处理器以及分布在汽车内部多个位置的多个扬声器，其中，所述音频处理器集成有HRTF算法，所述HRTF算法为HRTF响应相关于声音信号源频率、声耳相对方位参数的函数；所述音频处理器被配置为通过以下步骤确定对所述扬声器的控制策略：基于汽车空间的同一坐标系，确定目标左耳、目标右耳及各扬声器的方位信息；确定各个扬声器分别相对于目标左耳、目标右耳的方位参数的值；根据所述各个扬声器分别相对于目标左耳、目标右耳的方位参数的值，确定各个扬声器的HRTF响应相关于声音信号源频率的函数；以求和的方式，计算全部扬声器产生的左耳HRTF响应总和及右耳HRTF响应总和；利用优化算法，确定各个扬声器对应的信号源优化目标频率；所述音频处理器基于所述信号源优化目标频率控制各个扬声器的工作频率。进一步地，承前所述的任一技术方案或多个技术方案的组合，所述确定各个扬声器对应的信号源优化目标频率包括：在所述左耳HRTF响应总和与右耳HRTF响应总和的差值不超过预设阈值的情况下，确定在介于20Hz至20kHz范围内、使所述左耳HRTF响应总和、右耳HRTF响应总和均达到预设响应优值的声音信号源频率集合，或者，使所述左耳HRTF响应总和、右耳HRTF响应总和达到最大值的声音信号源频率集合，以作为所述信号源优化目标频率。进一步地，承前所述的任一技术方案或多个技术方案的组合，通过以下方式确定目标左耳、目标右耳的方位信息：配置与所述音频处理器通讯连接的人机交互装置，在所述人机交互装置上输入、选择或调节左耳的方位信息、右耳的方位信息。进一步地，承前所述的任一技术方案或多个技术方案的组合，所述人机交互装置以触摸屏为终端，其配置有乘坐位置信息模块和/或乘坐人员信息模块，其中，所述乘坐位置信息模块用于输入目标左耳、目标右耳对应在汽车空间内的座位信息，所述乘坐人员信息模块用于输入目标左耳、目标右耳对应的用户性别、身高、头围、体重信息中的一种或多种，所述人机交互装置根据所述乘坐位置信息模块和/或乘坐人员信息模块输入的信息预估目标左耳的方位信息、目标右耳的方位信息。进一步地，承前所述的任一技术方案或多个技术方案的组合，所述人机交互装置还包括调节模块和/或存储模块，所述调节模块被配置为对预估得到的目标左耳的方位信息、目标右耳的方位信息进行人工调节；所述存储模块被配置为响应指令而存储不同身份对应的左耳的方位信息、右耳的方位信息。进一步地，承前所述的任一技术方案或多个技术方案的组合，通过以下方式确定目标左耳、目标右耳的方位信息：配置可穿戴式采样传感器，并将所述采样传感器佩戴在左耳和/或右耳，利用所述采样传感器采样左耳、右耳的所在位置信息；结合各个扬声器的所在位置信息，得到左耳的方位信息、右耳的方位信息，其中，所述各个扬声器的所在位置信息由人工预先录入或者通过配置安装在各个扬声器处的定位传感器来进行检测以获取各个扬声器的所在位置信息。进一步地，承前所述的任一技术方案或多个技术方案的组合，所述声耳相对方位参数包括声音信号源与耳朵之间的直线距离、声音信号源相对于耳朵的水平方位角、声音信号源相对于耳朵的俯仰角中的一种或多种。进一步地，承前所述的任一技术方案或多个技术方案的组合，通过以下方式计算全部扬声器产生的左耳HRTF响应总和及右耳HRTF响应总和：HL_sum =HL1 +HL2 + …+HLn，其中，HL_sum为左耳HRTF响应总和，r1, r2, rn分别为第1、2、n个扬声器至目标左耳的距离，θ1, θ2, θn分别为第1、2、n个扬声器相对于目标左耳的水平方位角，Φ1, Φ2, Φn分别为第1、2、n个扬声器相对于目标左耳的俯仰角，w1, w2, wn分别为第1、2、n个扬声器对应的声音信号源角频率；HL1、HL2、HLn分别为第1、2、n个扬声器产生的左耳HRTF响应；HR_sum =HR1 +HR2 + …+HRn，其中，HR_sum为右耳HRTF响应总和，r1’, r2’, rn’分别为第1、2、n个扬声器至目标右耳的距离，θ1’, θ2’, θn’分别为第1、2、n个扬声器相对于目标右耳的水平方位角，Φ1’, Φ2’, Φn’分别为第1、2、n个扬声器相对于目标右耳的俯仰角；HR1、HR2、HRn分别为第1、2、n个扬声器产生的右耳HRTF响应。根据本发明的另一方面，本发明提供了一种基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法，包括以下步骤：建立汽车空间的坐标系，确定目标左耳、目标右耳及各扬声器的方位信息；确定各个扬声器分别相对于目标左耳、目标右耳的方位参数的值；根据所述各个扬声器分别相对于目标左耳、目标右耳的方位参数的值，确定各个扬声器的HRTF响应相关于声音信号源频率的函数；以求和的方式，计算全部扬声器产生的左耳响应总和及右耳响应总和；利用优化算法，确定各个扬声器对应的信号源优化目标频率，所述信号源优化目标频率作为控制各个扬声器工作频率的依据。进一步地，承前所述的任一技术方案或多个技术方案的组合，通过以下方式计算全部扬声器产生的左耳HRTF响应总和及右耳HRTF响应总和：HL_sum =HL1 +HL2 + …+HLn，其中，HL_sum为左耳HRTF响应总和，r1, r2, rn分别为第1、2、n个扬声器至目标左耳的距离，θ1, θ2, θn分别为第1、2、n个扬声器相对于目标左耳的水平方位角，Φ1, Φ2, Φn分别为第1、2、n个扬声器相对于目标左耳的俯仰角，w1, w2, wn分别为第1、2、n个扬声器对应的声音信号源角频率；HL1、HL2、HLn分别为第1、2、n个扬声器产生的左耳HRTF响应；HR_sum =HR1 +HR2 + …+HRn，其中，HR_sum为右耳HRTF响应总和，r1’, r2’, rn’分别为第1、2、n个扬声器至目标右耳的距离，θ1’, θ2’, θn’分别为第1、2、n个扬声器相对于目标右耳的水平方位角，Φ1’, Φ2’, Φn’分别为第1、2、n个扬声器相对于目标右耳的俯仰角；HR1、HR2、HRn分别为第1、2、n个扬声器产生的右耳HRTF响应；在所述左耳HRTF响应总和与右耳HRTF响应总和的差值不超过预设阈值的情况下，确定在介于20Hz至20kHz范围内、使所述左耳HRTF响应总和、右耳HRTF响应总和均达到预设响应优值的声音信号源频率集合，或者，使所述左耳HRTF响应总和、右耳HRTF响应总和达到最大值的声音信号源频率集合，以作为所述信号源优化目标频率。进一步地，承前所述的任一技术方案或多个技术方案的组合，通过以下方式计算全部扬声器产生的左耳HRIR总和及右耳HRIR总和：hL_sum =hL1 +hL2 + …+hLn，其中，hL_sum为左耳HRIR总和，r1, r2, rn分别为第1、2、n个扬声器至目标左耳的距离，θ1, θ2, θn分别为第1、2、n个扬声器相对于目标左耳的水平方位角，Φ1, Φ2, Φn分别为第1、2、n个扬声器相对于目标左耳的俯仰角，w1, w2, wn分别为第1、2、n个扬声器对应的声音信号源角频率；hL1、hL2、hLn分别为第1、2、n个扬声器产生的左耳HRIR；hR_sum =hR1 +hR2 + …+hRn，其中，hR_sum为右耳HRIR总和，r1’, r2’, rn’分别为第1、2、n个扬声器至目标右耳的距离，θ1’, θ2’, θn’分别为第1、2、n个扬声器相对于目标右耳的水平方位角，Φ1’, Φ2’, Φn’分别为第1、2、n个扬声器相对于目标右耳的俯仰角；hR1、hR2、hRn分别为第1、2、n个扬声器产生的右耳HRIR。进一步地，承前所述的任一技术方案或多个技术方案的组合，所述扬声器产生的HRIR与所述扬声器产生的HRTF响应互为傅里叶变换对；通过以下公式计算第i个扬声器产生的左耳HRIR和右耳HRIR：其中，hLi为第i个扬声器产生的左耳HRIR，HLi为第i个扬声器产生的左耳HRTF响应；hRi为第i个扬声器产生的右耳HRIR，HRi为第i个扬声器产生的右耳HRTF响应；ri为第i个扬声器至目标左耳的距离，θi为第i个扬声器相对于目标左耳的水平方位角，Φi为第i个扬声器相对于目标左耳的俯仰角，wi分别为第i个扬声器对应的声音信号源角频率；ri’为第i个扬声器至目标右耳的距离，θi’为第i个扬声器相对于目标右耳的水平方位角，Φi’为第i个扬声器相对于目标右耳的俯仰角。进一步地，承前所述的任一技术方案或多个技术方案的组合，通过以下方式确定目标左耳、目标右耳的方位信息：在预配置的人机交互装置上输入乘坐位置信息和/或乘坐人员信息，或从预存储的方位选项中进行选择，所述人机交互装置输出与之相适配的目标左耳的方位信息、目标右耳的方位信息；或者，目标左耳、目标右耳分别佩戴采样传感器，结合已知的各个扬声器的所在位置信息，得到左耳的方位信息、右耳的方位信息。进一步地，承前所述的任一技术方案或多个技术方案的组合，HRTF响应被定义为：HLi =PLi /P0i，HRi =PRi /P0i，其中，HLi为第i个扬声器产生的左耳HRTF响应，ri为第i个扬声器至目标左耳的距离，θi为第i个扬声器相对于目标左耳的水平方位角，Φi为第i个扬声器相对于目标左耳的俯仰角，wi分别为第i个扬声器对应的声音信号源角频率；PLi为第i个扬声器在左耳产生的复数声压，P0i为人头不在时，第i个扬声器在目标左耳和目标右耳中点处的复数声压，ri’’为第i个扬声器至目标左耳和目标右耳中点处的距离；HRi为第i个扬声器产生的右耳HRTF响应，ri’为第i个扬声器至目标右耳的距离，θi’为第i个扬声器相对于目标右耳的水平方位角，Φi’为第i个扬声器相对于目标右耳的俯仰角；PRi为第i个扬声器在右耳产生的复数声压。进一步地，承前所述的任一技术方案或多个技术方案的组合，本发明提供的基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法还包括：将所述声音信号源分类为多种类型，为不同类型的声音信号源确定不同的声音信号源频率范围；针对不同类型的声音信号源，在所述左耳响应总和与右耳响应总和的差值不超过预设阈值的情况下，确定在介于其对应的声音信号源频率范围内、使所述左耳响应总和、右耳响应总和均达到预设响应优值的声音信号源频率集合，或者，使所述左耳响应总和、右耳响应总和达到最大值的声音信号源频率集合，以作为所述信号源优化目标频率；存储和调用各个不同类型的声音信号源对应的信号源优化目标频率。本发明提供的技术方案带来的有益效果如下：a. 基于HRTF技术，使空间音频渲染可以解析立体声信号中的空间音频信息，利用HRTF对声场进行建模和渲染，改善沉浸式的空间音频环绕声体验；b. 个性化配置目标双耳方位信息，使用相同的算法对不同方位的对象提供个性化立体声音频环绕效果，使每个乘客都能够享受到个性化的音频立体环绕效果；c. 无需增加额外的物理扬声器，在保留原有物理声道基础上，模拟出更加沉浸的环绕声效果；d. 乘客可以根据自己的喜好和需求通过人机交互装置对音频效果进行调整，包括音量、音频均衡器和环绕声效果等。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请中记载的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明的一个示例性实施例提供的基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法的流程示意图。具体实施方式为了使本技术领域的人员更好地理解本发明方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分的实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、装置、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其他步骤或单元。在本发明的一个实施例中，提供了一种基于双耳效应的汽车空间虚拟环绕声音频系统，基于头部相关传输函数的算法技术，能够使用立体声音源在车内创造出立体和环绕的沉浸听感效果。使用此方案可以在不对车内原有扬声设备进行任何硬件改造的前提下，可以提高扬声器的整体解析度和分辨率，改善车载环绕声的立体空间音频体验。与常规的HRTF算法的改进之处在于，本发明实施例将HRTF算法中涉及的方位信息细化为扬声器相对于目标左耳的方位参数的值、扬声器相对于目标右耳的方位参数的值；由于细化到扬声器分别相对于左耳、右耳的直线距离r、水平方位角θ、俯仰角Φ，因此可以以此替换常规HRTF算法中涉及的头部尺寸的参数。本发明实施例更提出了对不同方位的对象提供个性化立体声音频环绕效果的方案，所谓个性化，即不同的对象坐在车辆空间内相同的位置、或者相同的对象坐在车辆空间内不同的位置，都可以根据个性化的条件确定左耳、右耳的位置，并以此来计算HRTF响应的优化参数。在本发明的一个实施例中，提供了一种基于双耳效应的汽车空间虚拟环绕声音频系统，包括音频处理器以及分布在汽车内部多个位置的多个扬声器，其中，所述音频处理器集成有HRTF算法，所述HRTF算法为HRTF响应相关于声音信号源频率、声耳相对方位参数的函数；如图1所示，所述音频处理器被配置为通过以下步骤确定对所述扬声器的控制策略：第一步、基于汽车空间的同一坐标系，确定目标左耳、目标右耳及各扬声器的方位信息；具体地，可以以车辆宽度方向作为x轴方向，水平前进方向作为y轴方向，竖直方向作为z轴方向建立空间坐标系；扬声器作为车辆上的配件，其位置信息可以通过查询车辆配置信息或者人工测量获取得到。目标左耳、目标右耳的位置信息可以通过以下方式获取：配置与所述音频处理器通讯连接的人机交互装置，在所述人机交互装置上输入、选择或调节左耳的方位信息、右耳的方位信息，具体地，所述人机交互装置以触摸屏为终端，其配置有乘坐位置信息模块和/或乘坐人员信息模块，其中，所述乘坐位置信息模块用于输入目标左耳、目标右耳对应在汽车空间内的座位信息，所述乘坐人员信息模块用于输入目标左耳、目标右耳对应的用户性别、身高、头围、体重信息中的一种或多种，所述人机交互装置根据所述乘坐位置信息模块和/或乘坐人员信息模块输入的信息预估目标左耳的方位信息、目标右耳的方位信息。在一个具体的实施例中，人机交互装置的触摸屏上出现模拟车辆座位的界面，可以点击选择比如主驾驶座位，然后界面跳转到选择/填写性别、身高、头围、体重信息等个性化配置信息，进而推荐相适配的目标左耳的方位信息、目标右耳的方位信息。在一个实施例中，所述人机交互装置还包括调节模块和/或存储模块，所述调节模块被配置为对预估得到的目标左耳的方位信息、目标右耳的方位信息进行人工调节，这意味着在得到推荐的相适配的目标左耳的方位信息、目标右耳的方位信息的基础上，可以进一步利用调节模块进行细化微调；所述存储模块被配置为响应指令而存储不同身份对应的左耳的方位信息、右耳的方位信息，比如存储“张三-主驾驶”、“张三-副驾驶”的方位信息，则下次当张三坐在主驾驶的情况下，可以选择“张三-主驾驶”的方位信息。除了人机交互装置以外，在另一个实施例中，可以配置可穿戴式采样传感器，并将所述采样传感器佩戴在左耳和/或右耳，利用所述采样传感器采样左耳、右耳的所在位置信息；结合各个扬声器的所在位置信息，得到左耳的方位信息、右耳的方位信息，其中，所述各个扬声器的所在位置信息由人工预先录入或者通过配置安装在各个扬声器处的定位传感器来进行检测以获取各个扬声器的所在位置信息。第二步、确定各个扬声器分别相对于目标左耳、目标右耳的方位参数的值；在同一坐标系下，各个扬声器、目标左耳、目标右耳的方位信息已知的情况下，计算扬声器相对于目标左耳的方位参数、计算扬声器相对于目标右耳的方位参数，这里的方位参数的类型可以包括声音信号源与耳朵之间的直线距离r、声音信号源相对于耳朵的水平方位角θ，声音信号源相对于耳朵的俯仰角Φ。HRTF响应的函数为HRTFi =HLi+HRi，其中，HLi第i个扬声器产生的左耳HRTF响应，HRi为第i个扬声器产生的右耳HRTF响应，ri为第i个扬声器至目标左耳的距离，θi为第i个扬声器相对于目标左耳的水平方位角，Φi为第i个扬声器相对于目标左耳的俯仰角，wi分别为第i个扬声器对应的声音信号源角频率；ri’为第i个扬声器至目标右耳的距离，θi’为第i个扬声器相对于目标右耳的水平方位角，Φi’为第i个扬声器相对于目标右耳的俯仰角。HLi、HRi进一步被定义为：HLi =PLi /P0i，HRi =PRi /P0i，其中，PLi为第i个扬声器在左耳产生的复数声压，PRi为第i个扬声器在右耳产生的复数声压，P0i为人头不在时，第i个扬声器在目标左耳和目标右耳中点处的复数声压，ri’’为第i个扬声器至目标左耳和目标右耳中点处的距离。第三步、根据所述各个扬声器分别相对于目标左耳、目标右耳的方位参数的值，确定各个扬声器的HRTF响应相关于声音信号源频率的函数；在第二步确定各个扬声器分别相对于目标左耳/目标右耳的直线距离r/r’、水平方位角θ/θ’、俯仰角Φ/Φ’之后，代入HLi、HRi函数式，可以得到HRTF响应相关于声音信号源频率w/w’的函数。第四步、以求和的方式，计算全部扬声器产生的左耳HRTF响应总和及右耳HRTF响应总和：HL_sum =HL1 +HL2 + …+HLn，其中，HL_sum为左耳HRTF响应总和，r1, r2, rn分别为第1、2、n个扬声器至目标左耳的距离，θ1, θ2, θn分别为第1、2、n个扬声器相对于目标左耳的水平方位角，Φ1, Φ2, Φn分别为第1、2、n个扬声器相对于目标左耳的俯仰角，w1, w2, wn分别为第1、2、n个扬声器对应的声音信号源角频率；HL1、HL2、HLn分别为第1、2、n个扬声器产生的左耳HRTF响应；HR_sum =HR1 +HR2 + …+HRn，其中，HR_sum为右耳HRTF响应总和，r1’, r2’, rn’分别为第1、2、n个扬声器至目标右耳的距离，θ1’, θ2’, θn’分别为第1、2、n个扬声器相对于目标右耳的水平方位角，Φ1’, Φ2’, Φn’分别为第1、2、n个扬声器相对于目标右耳的俯仰角；HR1、HR2、HRn分别为第1、2、n个扬声器产生的右耳HRTF响应。至此，每个扬声器的声音信号源频率共同决定左耳HRTF响应总和及右耳HRTF响应总和。第五步、利用优化算法，确定各个扬声器对应的信号源优化目标频率，方式如下：在所述左耳HRTF响应总和与右耳HRTF响应总和的差值不超过预设阈值的情况下，确定在介于20Hz至20kHz范围内、使所述左耳HRTF响应总和、右耳HRTF响应总和均达到预设响应优值的声音信号源频率集合；或者，在另一个实施例中，以比如2Hz的步进距离遍历20Hz至20kHz范围的频率，得到左耳HRTF响应总和、右耳HRTF响应总和降序排列的前若干名数据及其对应的各个扬声器的声音信号源频率，从这些数据中选择使左耳HRTF响应总和与右耳HRTF响应总和的差值不超过预设阈值的声音信号源频率集合，以作为所述信号源优化目标频率。在本发明的一个实施例中，将所述声音信号源分类为多种类型，比如流行音乐、民族音乐、摇滚音乐等，为这些不同类型的声音信号源确定不同的声音信号源频率范围；针对不同类型的声音信号源，在所述左耳响应总和与右耳响应总和的差值不超过预设阈值的情况下，确定在介于其对应的声音信号源频率范围内、使所述左耳响应总和、右耳响应总和均达到预设响应优值的声音信号源频率集合，或者，使所述左耳响应总和、右耳响应总和达到最大值的声音信号源频率集合，以作为所述信号源优化目标频率；存储各个不同类型的声音信号源对应的信号源优化目标频率，以供后续调用。第六步、所述音频处理器基于所述信号源优化目标频率控制各个扬声器的工作频率。在本发明的一个实施例中，提供了一种基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法，如图1所示，设计方法包括以下步骤：建立汽车空间的坐标系，确定目标左耳、目标右耳及各扬声器的方位信息；确定各个扬声器分别相对于目标左耳、目标右耳的方位参数的值；根据所述各个扬声器分别相对于目标左耳、目标右耳的方位参数的值，确定各个扬声器的HRTF响应相关于声音信号源频率的函数；以求和的方式，计算全部扬声器产生的左耳响应总和及右耳响应总和；利用优化算法，确定各个扬声器对应的信号源优化目标频率，所述信号源优化目标频率作为控制各个扬声器工作频率的依据。在一个实施例中，通过以下方式计算全部扬声器产生的左耳HRTF响应总和及右耳HRTF响应总和：HL_sum =HL1 +HL2 + …+HLn，其中，HL_sum为左耳HRTF响应总和，r1, r2, rn分别为第1、2、n个扬声器至目标左耳的距离，θ1, θ2, θn分别为第1、2、n个扬声器相对于目标左耳的水平方位角，Φ1, Φ2, Φn分别为第1、2、n个扬声器相对于目标左耳的俯仰角，w1, w2, wn分别为第1、2、n个扬声器对应的声音信号源角频率；HL1、HL2、HLn分别为第1、2、n个扬声器产生的左耳HRTF响应；HR_sum =HR1 +HR2 + …+HRn，其中，HR_sum为右耳HRTF响应总和，r1’, r2’, rn’分别为第1、2、n个扬声器至目标右耳的距离，θ1’, θ2’, θn’分别为第1、2、n个扬声器相对于目标右耳的水平方位角，Φ1’, Φ2’, Φn’分别为第1、2、n个扬声器相对于目标右耳的俯仰角；HR1、HR2、HRn分别为第1、2、n个扬声器产生的右耳HRTF响应；在所述左耳HRTF响应总和与右耳HRTF响应总和的差值不超过预设阈值的情况下，确定在介于20Hz至20kHz范围内、使所述左耳HRTF响应总和、右耳HRTF响应总和均达到预设响应优值的声音信号源频率集合，或者，使所述左耳HRTF响应总和、右耳HRTF响应总和达到最大值的声音信号源频率集合，以作为所述信号源优化目标频率。在另一个实施例中，通过以下方式计算全部扬声器产生的左耳HRIR总和及右耳HRIR总和：hL_sum =hL1 +hL2 + …+hLn，其中，hL_sum为左耳HRIR总和，r1, r2, rn分别为第1、2、n个扬声器至目标左耳的距离，θ1, θ2, θn分别为第1、2、n个扬声器相对于目标左耳的水平方位角，Φ1, Φ2, Φn分别为第1、2、n个扬声器相对于目标左耳的俯仰角，w1, w2, wn分别为第1、2、n个扬声器对应的声音信号源角频率；hL1、hL2、hLn分别为第1、2、n个扬声器产生的左耳HRIR；hR_sum =hR1 +hR2 + …+hRn，其中，hR_sum为右耳HRIR总和，r1’, r2’, rn’分别为第1、2、n个扬声器至目标右耳的距离，θ1’, θ2’, θn’分别为第1、2、n个扬声器相对于目标右耳的水平方位角，Φ1’, Φ2’, Φn’分别为第1、2、n个扬声器相对于目标右耳的俯仰角；hR1、hR2、hRn分别为第1、2、n个扬声器产生的右耳HRIR。进一步地，所述扬声器产生的HRIR与所述扬声器产生的HRTF响应互为傅里叶变换对；通过以下公式计算第i个扬声器产生的左耳HRIR和右耳HRIR：其中，hLi为第i个扬声器产生的左耳HRIR，HLi为第i个扬声器产生的左耳HRTF响应；hRi为第i个扬声器产生的右耳HRIR，HRi为第i个扬声器产生的右耳HRTF响应；ri为第i个扬声器至目标左耳的距离，θi为第i个扬声器相对于目标左耳的水平方位角，Φi为第i个扬声器相对于目标左耳的俯仰角，wi分别为第i个扬声器对应的声音信号源角频率；ri’为第i个扬声器至目标右耳的距离，θi’为第i个扬声器相对于目标右耳的水平方位角，Φi’为第i个扬声器相对于目标右耳的俯仰角。本发明实施例提供的基于双耳效应的汽车空间虚拟环绕声音频系统的设计方法与上一实施例提供的基于双耳效应的汽车空间虚拟环绕声音频系统属于相同的构思，可以通过引用的方式将系统实施例的全部内容并入本设计方法实施例。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。以上所述仅是本申请的具体实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本申请的保护范围。
