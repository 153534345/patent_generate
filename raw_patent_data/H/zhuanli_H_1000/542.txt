标题title
一种基于即时学习的风力发电超短期功率预测方法及装置
摘要abst
本发明提出一种基于即时学习的风力发电超短期功率预测方法及装置，构建风电输出功率预测模型；统计待预测时间的前4小时所述风电输出功率预测模型的功率和风速的预测偏差；将所述预测偏差作为特征，与训练集数据一起输入到所述风电输出功率预测模型中，进行风力发电超短期功率预测。本发明可以让模型通过很少的数据就可以达到比较好的效果。
权利要求书clms
1.一种基于即时学习的风力发电超短期功率预测方法，其特征在于，包括：S1、以风电场历史功率、历史风速、数值天气预报历史数据作为数据集，构建风电输出功率预测模型；S2、统计训练集数据各自对应的前4小时所述风电输出功率预测模型的功率和风速的预测偏差；S3、将所述预测偏差作为辅助特征，与训练集数据一起输入到所述风电输出功率预测模型中，进行模型训练；S4、将待预测时间的前4小时所述风电输出功率预测模型的功率和风速的预测偏差与待预测时间的数值天气预报数据作为输入，进行预测。2.根据权利要求1所述的基于即时学习的风力发电超短期功率预测方法，其特征在于，步骤S3还包括：将所述预测偏差的后验分布概率的期望值作为第二辅助特征；与所述辅助特征、训练集数据一并输入到所述风电输出功率预测模型中进行模型训练；步骤S4中预测时输入待预测时间的前4小时的所述辅助特征和所述第二辅助特征，与待预测时间的数值天气预报数据共同作为模型输入。3.根据权利要求2所述的基于即时学习的风力发电超短期功率预测方法，其特征在于，所述预测偏差的后验分布概率的期望值用总体分布参数代表，总体分布参数/＞表示为：；其中/＞为所述预测偏差的标准差，/＞为所述预测偏差的先验分布的总体分布参数，/＞为所述预测偏差的先验分布的标准差，x为训练集数据。4.根据权利要求1所述的基于即时学习的风力发电超短期功率预测方法，其特征在于，所述风电输出功率预测模型以风电场历史功率、历史风速、数值天气预报历史数据作为数据集，根据时间戳划分为训练集、验证集和测试集，对风力发电功率进行时间序列预测。5.根据权利要求4所述的基于即时学习的风力发电超短期功率预测方法，其特征在于，所述风电输出功率预测模型包括线性模型和树模型的融合；融合方式为bagging或boosting，bagging是把线性模型的结果和树模型的结果做加权组合，boosting是把线性模型的输出当作树模型的输入。6.一种基于即时学习的风力发电超短期功率预测装置，其特征在于，包括：模型模块：以风电场历史功率、历史风速、数值天气预报历史数据作为数据集，构建风电输出功率预测模型；统计模块：统计训练集数据各自对应的前4小时所述风电输出功率预测模型的功率和风速的预测偏差；训练模块：将所述预测偏差作为特征，与训练集数据一起输入到所述风电输出功率预测模型中，进行模型训练；预测模块：将待预测时间的前4小时所述风电输出功率预测模型的功率和风速的预测偏差与待预测时间的数值天气预报数据作为输入，进行预测。7.根据权利要求6所述的基于即时学习的风力发电超短期功率预测装置，其特征在于，所述训练模块还包括：将所述预测偏差的后验分布概率的期望值作为第二辅助特征；与所述辅助特征、训练集数据一并输入到所述风电输出功率预测模型中进行模型训练；所述预测模块预测时输入待预测时间的前4小时的所述辅助特征和所述第二辅助特征，与待预测时间的数值天气预报数据共同作为模型输入。8.根据权利要求7所述的基于即时学习的风力发电超短期功率预测装置，其特征在于，所述预测偏差的后验分布概率的期望值用总体分布参数代表，总体分布参数/＞表示为：；其中/＞为所述预测偏差的标准差，/＞为所述预测偏差的先验分布的总体分布参数，/＞为所述预测偏差的先验分布的标准差，x为训练集数据。9.根据权利要求6所述的基于即时学习的风力发电超短期功率预测装置，其特征在于，所述模型模块中，所述风电输出功率预测模型以风电场历史功率、历史风速、数值天气预报历史数据作为数据集，根据时间戳划分为训练集、验证集和测试集，对风力发电功率进行时间序列预测。10.根据权利要求9所述的基于即时学习的风力发电超短期功率预测装置，其特征在于，所述模型模块中，所述风电输出功率预测模型包括线性模型和树模型的融合；融合方式为bagging或boosting，bagging是把线性模型的结果和树模型的结果做加权组合，boosting是把线性模型的输出当作树模型的输入。
说明书desc
技术领域本发明属于新能源电力技术领域，特别是涉及到一种基于即时学习的风力发电超短期功率预测方法及装置。背景技术风电场超短期功率预测以风电场历史功率、历史风速、地形地貌、数值天气预报运行状态建立风电输出功率的预测模型，以风速、功率或者数值天气预报数据作为模型输入，通过机器学习算法建模，对功率进行时间序列预测。对于超短期功率预测，当前大多数人关注的点是通过不同的机器学习算法如LSTM，FCNN，Transformer等深度学习算法，来达到更高的预测精度。深度学习在nlp，CV，翻译等不同领域都取得突出的成就，但是深度学习也有其缺点，比如不容易解释和需求大量的训练数据等等。发明内容针对现有技术中的问题，本发明提出一种基于即时学习的风力发电超短期功率预测方法及装置，无需太多的训练数据，并且易于实现模型解释。为达到上述目的，本发明的技术方案是这样实现的：一种基于即时学习的风力发电超短期功率预测方法，包括：S1、以风电场历史功率、历史风速、数值天气预报历史数据作为数据集，构建风电输出功率预测模型；S2、统计训练集数据各自对应的前4小时所述风电输出功率预测模型的功率和风速的预测偏差；S3、将所述预测偏差作为辅助特征，与训练集数据一起输入到所述风电输出功率预测模型中，进行模型训练；S4、将待预测时间的前4小时所述风电输出功率预测模型的功率和风速的预测偏差与待预测时间的数值天气预报数据作为输入，进行预测。进一步的，步骤S3还包括：将所述预测偏差的后验分布概率的期望值作为第二辅助特征；与所述辅助特征、训练集数据一并输入到所述风电输出功率预测模型中进行模型训练；步骤S4中预测时输入待预测时间的前4小时的所述辅助特征和所述第二辅助特征，与待预测时间的数值天气预报数据共同作为模型输入。更进一步的，所述预测偏差的后验分布概率的期望值用总体分布参数代表，总体分布参数/＞表示为：/＞；其中/＞为所述预测偏差的标准差，/＞为所述预测偏差的先验分布的总体分布参数，/＞为所述预测偏差的先验分布的标准差，x为训练集数据。进一步的，所述风电输出功率预测模型以风电场历史功率、历史风速、数值天气预报历史数据作为数据集，根据时间戳划分为训练集、验证集和测试集，对风力发电功率进行时间序列预测。更进一步的，所述风电输出功率预测模型包括线性模型和树模型的融合；融合方式为bagging或boosting，bagging是把线性模型的结果和树模型的结果做加权组合，boosting是把线性模型的输出当作树模型的输入。本发明另一方面还提出了一种基于即时学习的风力发电超短期功率预测装置，包括：模型模块：以风电场历史功率、历史风速、数值天气预报历史数据作为数据集，构建风电输出功率预测模型；统计模块：统计训练集数据各自对应的前4小时所述风电输出功率预测模型的功率和风速的预测偏差；训练模块：将所述预测偏差作为特征，与训练集数据一起输入到所述风电输出功率预测模型中，进行模型训练；预测模块：将待预测时间的前4小时所述风电输出功率预测模型的功率和风速的预测偏差与待预测时间的数值天气预报数据作为输入，进行预测。进一步的，所述训练模块还包括：将所述预测偏差的后验分布概率的期望值作为第二辅助特征；与所述辅助特征、训练集数据一并输入到所述风电输出功率预测模型中进行模型训练；所述预测模块预测时输入待预测时间的前4小时的所述辅助特征和所述第二辅助特征，与待预测时间的数值天气预报数据共同作为模型输入。更进一步的，所述预测偏差的后验分布概率的期望值用总体分布参数代表，总体分布参数/＞表示为：/＞；其中/＞为所述预测偏差的标准差，/＞为所述预测偏差的先验分布的总体分布参数，/＞为所述预测偏差的先验分布的标准差，x为训练集数据。进一步的，所述模型模块中，所述风电输出功率预测模型以风电场历史功率、历史风速、数值天气预报历史数据作为数据集，根据时间戳划分为训练集、验证集和测试集，对风力发电功率进行时间序列预测。更进一步的，所述模型模块中，所述风电输出功率预测模型包括线性模型和树模型的融合；融合方式为bagging或boosting，bagging是把线性模型的结果和树模型的结果做加权组合，boosting是把线性模型的输出当作树模型的输入。与现有技术相比，本发明具有如下的有益效果：1、本发明基于即时学习算法，根据前4小时的真实预测偏差分布来预测未来几个小时预测偏差的概率，不需要太多的训练数据，而且可以选择众多可解释的模型。2、本发明创新性的把贝叶斯统计中的共轭分布算法用在风电功率预测中，通过共轭分布做出的特征可以让模型通过很少的数据就可以达到比较好的效果。附图说明图1是本发明实施例的流程示意图。具体实施方式需要说明的是，在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。为使本发明专利的目的、特征更明显易懂，下面结合附图对本发明专利的具体实施方式作进一步的说明。对于超短期功率预测，预测时间点前四小时的实发功率和实发风速对后面的功率预测极其重要，因此本发明的设计思想是将前四小时功率和风速的预测偏差作为后面功率预测的学习要素、与未来的气象要素一并输入到模型中，来达到更高精度的功率预测。对于功率和风速的预测偏差分布做统计上的验证，可知预测偏差分布满足正态分布；其中，从长期看期望值 /＞ ，而标准差/＞会根据数据集变化而变化，对于固定的数据集，/＞的先验分布/＞ ，/＞已知,/＞为先验分布的总体分布参数，/＞为先验分布的标准差；根据贝叶斯方法利用先验知识，结合当前获得数据，来更新关于未知参数的信息，以此获得修订后的参数的可能性，因此可使用即时学习的方法，根据前4小时的真实预测偏差分布来预测未来几个小时预测偏差的概率。同时，根据贝叶斯共轭分布算法的理论，的后验概率分布也是正态分布，则总体分布参数/＞为/＞，其中/＞为样本信息。基于上述验证，如图1所示，本发明提出的方法包括：1.风电场历史功率、历史风速、数值天气预报历史数据作为构建风力发电超短期功率预测模型的数据集Data，将数据集Data根据时间戳划分为训练集Train data、验证集Valid data和测试集Test data；2.将上述所有数据集中的异常值进行处理：包括空值，死值，越限值等；3.对训练集Train data数据中的数据通过特征工程进行特征处理，步骤如下：统计训练集中历史功率、历史风速对应的预测偏差；所述预测偏差即通过风力发电超短期功率预测模型得到的预测值与历史功率、历史风速的差值；将所述预测偏差作为模型训练的辅助特征，使用前4小时的训练集数据与对应的辅助特征一起输入风力发电超短期功率预测模型进行训练；4.除了将预测偏差作为训练的辅助特征，还可以根据通过后验分布的期望值作为特征；如前所述，根据统计上的验证，预测偏差分布满足正态分布；同时，根据贝叶斯共轭分布算法的理论，期望值 的后验概率分布也是正态分布，则可用总体分布参数/＞代表期望值，作为第二辅助特征，计算方法是：/＞为/＞，其中/＞为所述预测偏差的标准差，/＞为所述预测偏差的先验分布的总体分布参数，/＞为所述预测偏差的先验分布的标准差，x为训练集数据。5.对于风力发电超短期功率预测模型的选择：该模块包括线性模型和树模型的融合，融合方式包括bagging方法或boosting方法，bagging方法是把线性模型的结果和树模型的结果做加权组合，boosting方法是把线性模型的输出当作树模型的输入。本实施例中，线性模型可以选择lasso和SVR；树模型可以选择Xgboost。本发明提出了即时学习的思路，类似神经网络中的残差网络的效果；同时本发明创新性的把贝叶斯统计中的共轭分布算法用在风电功率预测中，通过共轭分布做出的特征可以让模型通过很少的数据就可以达到比较好的效果。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
