标题title
一种基于智能配电设备的储能容量配置方法
摘要abst
本发明属于新能源电网储能控制技术领域，公开了一种基于智能配电设备的储能容量配置方法，包括：获取气象数据、电网状态数据和智能配电设备的状态数据，并对所有数据进行预处理；通过基于ConvTrans神经网络的预估模型分别进行负荷预测和光伏发电预测；根据光伏发电预估功率与实际光伏发电功率的差值以及负荷预估功率与负荷功率的差值获取各时刻的过剩功率或缺额功率；将各时刻的过剩功率和各时刻的缺额功率在时间轴上积分，根据一定时间段内的过剩能量峰值或缺额能量峰值确定储能装置的容量配置。通过利用智能配电设备获取的数据来利用先进的算法进行智能控制和优化，合理配置储能容量，平衡电网负荷，减少对传统发电的依赖。
权利要求书clms
1.一种基于智能配电设备的储能容量配置方法，其特征在于，包括：获取气象数据、电网状态数据和智能配电设备的状态数据，并对所有所述数据进行预处理；通过基于ConvTrans神经网络的预估模型分别进行负荷预测和光伏发电预测；根据光伏发电预估功率与实际光伏发电功率的差值以及负荷预估功率与负荷功率的差值获取各时刻的过剩功率或缺额功率；将各时刻的所述过剩功率和各时刻的所述缺额功率在时间轴上积分，根据一定时间段内的过剩能量峰值或缺额能量峰值确定储能装置的容量配置。2.根据权利要求1所述的基于智能配电设备的储能容量配置方法，其特征在于，所述智能配电设备的状态数据包括：光伏实时发电功率、光伏历史发电功率、实时负荷数据、历史负荷曲线和设备状态数据；所述气象数据包括：温度、湿度、气溶胶浓度、云量、光照强度、风速和天气。3.根据权利要求2所述的基于智能配电设备的储能容量配置方法，其特征在于，对所有所述数据进行预处理，包括：异常数据识别和缺失数据填补；其中，通过K近邻补全算法对异常值和/或缺失值进行填补。4.根据权利要求3所述的基于智能配电设备的储能容量配置方法，其特征在于，所述K近邻补全算法包括：通过距离测量来识别所述异常值和/或所述缺失值在数据集中的相邻点；利用相邻观测值的完备值来估计所述异常值和/或所述缺失值；其中，距离测量采用欧式距离来计算：；其中，；/＞； /＞为第k个特征的值；i、j、k和M为自然数。5.根据权利要求2所述的基于智能配电设备的储能容量配置方法，其特征在于，对所有所述数据进行预处理，还包括：通过皮尔逊相关系数进行特征选择，筛选出与光伏以及负荷输出功率相关的特征；其中，皮尔逊相关系数计算方法包括：；其中，m为采样总数，as为第s时刻气象参数，为气象参数平均值；bs为第s时刻光伏输出功率，/＞为光伏输出功率的平均值。6.根据权利要求2所述的基于智能配电设备的储能容量配置方法，其特征在于，所述基于ConvTrans神经网络的预估模型的构建包括：将训练集的平面辐射数据信息、数值天气预报、所述气象数据、电站逆变器和电池硬件信息作为光伏预测模型的特征输入，将光伏电站的历史实测发电量作为输出；将日期时间、所述气象数据、假日信息作为负荷预测模型的特征输入，将历史负荷数据作为输出；其中，所述光伏预测模型和/或所述负荷预测模型为：；其中，Xt为所述基于ConvTrans神经网络的预估模型的输入，输入的神经元的数量为n；为中间的隐藏层；/＞为所述基于ConvTrans神经网络的预估模型的输出，表示t+1时间点的光伏发电功率或负荷功率的预测值，其输出神经元的个数为1个；/＞是在时间t的第k个特征的值；/＞、/＞和/＞为可学习的线性权值；/＞为/＞向量的维度；softmax函数为将结果归一化为概率分布；l、L为自然数。7.根据权利要求6所述的基于智能配电设备的储能容量配置方法，其特征在于，所述基于ConvTrans神经网络的预估模型的构建还包括：选取均方根误差、平均绝对误差和决定系数这三个评估指标对所述预估模型进行分析和评估；其中，所述均方根误差表示实际值和预测值残差的标准偏差，其计算公式为：；所述平均绝对误差表示实际值和预测值之间的平均偏差，其计算公式为：；所述决定系数表示回归模型预测值和实际值之间的拟合度，其计算公式为：；其中，N代表样本数；表示i时刻的功率真实值；/＞表示i时刻的功率预测值；/＞表示N个实际功率值的平均值。8.根据权利要求2所述的基于智能配电设备的储能容量配置方法，其特征在于，根据光伏发电预估功率与实际光伏发电功率的差值以及负荷预估功率与负荷功率的差值获取各时刻的过剩功率或缺额功率，包括：根据配电网的有功负荷功率和所述实际光伏发电功率的差值获取主电网的发电计划Pgrid；将所述主电网的发电计划Pgrid与所述负荷预估功率和所述光伏发电预估功率之间的差值进行比较；若所述主电网的发电计划Pgrid大于所述负荷预估功率和所述光伏发电预估功率之间的差值，则由所述储能装置吸收所述过剩功率；若所述主电网的发电计划Pgrid小于所述负荷预估功率和所述光伏发电预估功率之间的差值，则由所述储能装置补偿所述缺额功率。9.根据权利要求8所述的基于智能配电设备的储能容量配置方法，其特征在于，还包括：根据离散时间分布的所述储能装置的能量吸收或功率补偿情况，按月度、季度或年度的时间跨度获取整定的储能容量，对所述储能装置进行定时维护。
说明书desc
技术领域本发明涉及新能源电网储能控制技术领域，具体涉及一种基于智能配电设备的储能容量配置方法。背景技术随着光伏发电技术的不断发展，光伏发电系统在电力系统中占据越来越重要的地位。为了更好地整合光伏发电系统，需要合理配置储能容量，以应对不可预测的天气变化和光伏发电的间歇性特性。光伏储能系统的规划需要与政府政策、可再生能源目标等相一致，以促进可持续能源的应用，减少对传统能源的依赖。光伏发电与储能系统的组合允许将光伏系统从纯粹的基于功率的瞬时发电系统转换为基于能量的可调度发电资源。因此，如何提出一种储能容量配置方法，以实现更有效的储能规模和整体电网资产规划，同时防止由于过度循环而导致电池寿命缩短而导致电池成本增加，成为目前亟待解决的问题。发明内容有鉴于此，本发明实施例提供了一种基于智能配电设备的储能容量最优配置方法，以解决现有技术中光伏发电与储能系统的问题。本发明实施例提供了一种基于智能配电设备的储能容量配置方法，包括：获取气象数据、电网状态数据和智能配电设备的状态数据，并对所有数据进行预处理；通过基于ConvTrans神经网络的预估模型分别进行负荷预测和光伏发电预测；根据光伏发电预估功率与实际光伏发电功率的差值以及负荷预估功率与负荷功率的差值获取各时刻的过剩功率或缺额功率；将各时刻的过剩功率和各时刻的缺额功率在时间轴上积分，根据一定时间段内的过剩能量峰值或缺额能量峰值确定储能装置的容量配置；其中，智能配电设备的状态数据包括：光伏实时发电功率、光伏历史发电功率、实时负荷数据、历史负荷曲线和设备状态数据；气象数据包括：温度、湿度、气溶胶浓度、云量、光照强度、风速和天气。可选地，对所有数据进行预处理，包括：异常数据识别和缺失数据填补；其中，通过K近邻补全算法对异常值和/或缺失值进行填补。可选地，K近邻补全算法包括：通过距离测量来识别异常值和/或缺失值在数据集中的相邻点；利用相邻观测值的完备值来估计异常值和/或缺失值；其中，距离测量采用欧式距离来计算：；其中，；/＞； /＞为第k个特征的值；i、j、k和M为自然数。可选地，对所有数据进行预处理，还包括：通过皮尔逊相关系数进行特征选择，筛选出与光伏以及负荷输出功率相关的特征；其中，皮尔逊相关系数计算方法包括：；其中，m为采样总数，as为第s时刻气象参数，为气象参数平均值；bs为第s时刻光伏输出功率，/＞为光伏输出功率的平均值。可选地，基于ConvTrans神经网络的预估模型的构建包括：将训练集的平面辐射数据信息、数值天气预报、气象数据、电站逆变器和电池硬件信息作为光伏预测模型的特征输入，将光伏电站的历史实测发电量作为输出；将日期时间、气象数据、假日信息作为负荷预测模型的特征输入，将历史负荷数据作为输出；其中，光伏预测模型和/或负荷预测模型为：；其中，Xt为基于ConvTrans神经网络的预估模型的输入，输入的神经元的数量为n；为中间的隐藏层；/＞为基于ConvTrans神经网络的预估模型的输出，表示t+1时间点的光伏发电功率或负荷功率的预测值，其输出神经元的个数为1个；/＞是在时间t的第k个特征的值；/＞、/＞和/＞为可学习的线性权值；/＞为/＞向量的维度；softmax函数为将结果归一化为概率分布；l、L为自然数。可选地，基于ConvTrans神经网络的预估模型的构建还包括：选取均方根误差、平均绝对误差和决定系数这三个评估指标对预估模型进行分析和评估；其中，均方根误差表示实际值和预测值残差的标准偏差，其计算公式为：；平均绝对误差表示实际值和预测值之间的平均偏差，其计算公式为：；决定系数表示回归模型预测值和实际值之间的拟合度，其计算公式为：；其中，N代表样本数；表示i时刻的功率真实值；/＞表示i时刻的功率预测值；表示N个实际功率值的平均值。可选地，根据光伏发电预估功率与实际光伏发电功率的差值以及负荷预估功率与负荷功率的差值获取各时刻的过剩功率或缺额功率，包括：根据配电网的有功负荷功率和实际光伏发电功率的差值获取主电网的发电计划Pgrid；将主电网的发电计划Pgrid与负荷预估功率和光伏发电预估功率之间的差值进行比较；若主电网的发电计划Pgrid大于负荷预估功率和光伏发电预估功率之间的差值，则由储能装置吸收过剩功率；若主电网的发电计划Pgrid小于负荷预估功率和光伏发电预估功率之间的差值，则由储能装置补偿缺额功率。可选地，还包括：根据离散时间分布的储能装置的能量吸收或功率补偿情况，按月度、季度或年度的时间跨度获取整定的储能容量，对储能装置进行定时维护。本发明的有益效果：本发明实施例提供了一种基于智能配电设备的储能容量配置方法，通过利用智能配电设备获取的数据来利用先进的算法进行智能控制和优化，合理配置储能容量，可以平衡电网负荷，减少对传统发电的依赖，从而提高系统的响应速度和整体性能，提高电力系统的可靠性和灵活性。附图说明通过参考附图会更加清楚的理解本发明的特征和优点，附图是示意性的而不应理解为对本发明进行任何限制，在附图中：图1示出了本发明实施例中一种基于智能配电设备的储能容量配置方法的流程图；图2示出了本发明实施例中一种带有具体输入特征的ConvTrans预测算法模型；图3示出了本发明实施例中一种ConvTrans功率预测模型的训练过程及预测的流程图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明实施例提供了一种基于智能配电设备的储能容量配置方法，如图1所示，包括：步骤S10，获取气象数据、电网状态数据和智能配电设备的状态数据，并对所有数据进行预处理。在本实施例中，通过智能配电设备获取用于光伏预测以及负荷预测的数据，包括光伏发电数据，如实时发电功率、历史发电功率；负荷数据，如实时负荷、历史负荷曲线等；气象数据，如温度、湿度、气溶胶浓度、云量、光照强度、风速和天气等；电网状态数据、设备状态数据等信息。智能配电设备的状态数据包括：光伏实时发电功率、光伏历史发电功率、实时负荷数据、历史负荷曲线和设备状态数据。对数据进行预处理包括：异常数据识别与缺失数据填补。对获得的历史数据进行数据清洗。在信息采集过程中，可能会由于物理因素或信息干扰导致数据丢失，而深度学习则要求数据集的完整性，因此使用低复杂度的K近邻补全算法来补全数据集中缺失的数据。步骤S20，通过基于ConvTrans神经网络的预估模型分别进行负荷预测和光伏发电预测。在本实施例中，负荷预测主要是对未来电力需求功率的预测。引入ConvTrans深度神经网络，对区域内光伏电站以及负荷功率进行预测训练。深度学习的预测方法可以有效地避免数据筛选。由于ConvTrans网络的特性，在训练过程中对权值影响最小的特征项会在迭代过程中逐渐被遗忘。步骤S30，根据光伏发电预估功率与实际光伏发电功率的差值以及负荷预估功率与负荷功率的差值获取各时刻的过剩功率或缺额功率。在本实施例中，以小时为单位获取各个时间的光伏发电预估功率以及负荷预估功率。获取各个时刻发电计划的输出功率、光伏输出功率与负荷功率之间的差值同模型预估结果的差值，通过每个时刻的差值确定储能装置的容量配置。步骤S40，将各时刻的过剩功率和各时刻的缺额功率在时间轴上积分，根据一定时间段内的过剩能量峰值或缺额能量峰值确定储能装置的容量配置。在本实施例中，以每小时为单位得到时间分布的预估过剩功率或预估缺额功率，再对其进行积分，得到一定时间段内的预估过剩能量与预估缺额能量分布情况。在具体实施例中，假设主电网为稳定输出，那么只考虑配电网中的光伏输出功率与负荷消耗功率造成的能量波动，基于前述的预估模型，得出一定时间段内配电网中能量是过剩或者缺额状态，以储存全部过剩能量或者仅补足缺额功率的角度，对储能装置的容量进行计算配置。在具体实施方式中，从0点起计，0~6点光伏未输出功率，主电网按发电计划输出，配电网为过剩能量，储能装置为储能状态。6~15点光伏输出功率，配电网依旧为过剩能量。16~22点为用电高峰期，配电网为缺额状态，储能装置输出功率。综合主电网、光伏出力以及储能装置出力，再通过前述预估模型获取各时刻的缺额功率。本实施例提供了一种基于智能配电设备的储能容量配置方法，首先，通过智能配电设备获取数据，包括光伏发电数据、负荷数据、气象数据、电网状态数据、设备状态数据等信息，使用低复杂度的K近邻补全算法补全缺失数据；其次，运用ConvTrans网络进行光伏发电预测和负荷预测；最后，通过光伏预测与实际出力差值以及区域负荷预测值与实际负荷差值，得到储能装置输出功率或吸收功率，整定储能容量。通过利用智能配电设备获取的数据来利用先进的算法进行智能控制和优化，合理配置储能容量，可以平衡电网负荷，减少对传统发电的依赖，从而提高系统的响应速度和整体性能，提高电力系统的可靠性和灵活性。作为可选的实施方式，K近邻补全算法包括：通过距离测量来识别异常值和/或缺失值在数据集中的相邻点；利用相邻观测值的完备值来估计异常值和/或缺失值；其中，距离测量采用欧式距离来计算：；其中，；/＞；/＞为第k个特征的值；i、j、k和M为自然数。在本实施例中，K近邻补全算法通过距离测量来识别缺失数据在数据集中的相邻点，同时利用相邻观测值的完备值来估计缺失值，即选择缺失数据在数据集中的k个完备近邻来填补空缺。作为可选的实施方式，对所有数据进行预处理，还包括：通过皮尔逊相关系数进行特征选择，筛选出与光伏以及负荷输出功率相关的特征；其中，皮尔逊相关系数计算方法包括：；其中，m为采样总数，as为第s时刻气象参数，为气象参数平均值；bs为第s时刻光伏输出功率，/＞为光伏输出功率的平均值。在本实施例中，对每个输入数据进行皮尔逊相关系数计算，将每个输入数据对应的相关系数按从大到小的顺序进行排序，将排序靠后的数据判断为与光伏和负荷输出功率不相关的数据并进行剔除，不参与模型构建，从而降低模型复杂度。作为可选的实施方式，基于ConvTrans神经网络的预估模型的构建包括：将训练集的平面辐射数据信息、数值天气预报、气象数据、电站逆变器和电池硬件信息作为光伏预测模型的特征输入，将光伏电站的历史实测发电量作为输出；将日期时间、气象数据、假日信息作为负荷预测模型的特征输入，将历史负荷数据作为输出；其中，光伏预测模型和/或负荷预测模型为：；其中，Xt为基于ConvTrans神经网络的预估模型的输入，输入的神经元的数量为n；为中间的隐藏层；/＞为基于ConvTrans神经网络的预估模型的输出，表示t+1时间点的光伏发电功率或负荷功率的预测值，其输出神经元的个数为1个；/＞是在时间t的第k个特征的值；/＞、/＞和/＞为可学习的线性权值；/＞为/＞向量的维度；softmax函数为将结果归一化为概率分布；l、L为自然数。在本实施例中，在对输入数据进行预处理后，如何选择合适的输入和标签进行神经网络训练是预测模型中最关键的一步。光伏预测的影响因素很多，物理预测方法要求选择最关键的因素作为输入。在实际预测过程中，首先需要研究光伏发电技术的原理，熟悉光伏发电系统的组成和运行方式。太阳辐照度、温度、风速、云量等相关天气条件是影响光伏发电的主要因素。通过对光伏电站历史发电数据和气象数据的分析，确定影响输出功率的主次影响因素。其次，以训练集的平面辐射数据信息和数值天气预报气象数据、日期时间、电站逆变器、电池硬件，如电池温度、伏安特性等作为特征输入，光伏电站的历史实测发电量作为输出，如图2所示。负荷预测主要是对未来电力需求功率的预测。由于负荷预测受到经济、时间、气候、随机干扰四类因素影响，选取日期时间、气象数据、假日信息、作为特征输入，历史负荷数据作为输出。如图3所示，引入ConvTrans深度神经网络，对区域内光伏电站以及负荷功率进行预测训练。深度学习的预测方法可以有效地避免数据筛选。由于ConvTrans网络的特性，在训练过程中对权值影响最小的特征项会在迭代过程中逐渐被遗忘。Transformer允许模型访问历史的任何部分，而不管距离远近，这使得它更适合于掌握具有长期依赖关系的重复模式。ConvTrans是一个自回归的概率预测模型，也支持协变量预测，可以接受输入比如气温、事件、个体标识等等其他相关变量来辅助预测。ConvTrans网络相较于Transformer网络，做了2点改进：1）Convolutional Self-Attention：针对时序数据预测任务的特点，增强对局部上下文信息的关注，使预测更精准，因此更适合时序数据，能够增强模型对时间序列中局部上下文信息的建模能力，从而降低异常点对预测结果的影响程度，提高预测准确性。2）LogSparse：解决了Attention计算空间复杂度太高的问题，使模型能处理更长的时间序列数据。作为可选的实施方式，基于ConvTrans神经网络的预估模型的构建还包括：选取均方根误差、平均绝对误差和决定系数这三个评估指标对预估模型进行分析和评估；其中，均方根误差表示实际值和预测值残差的标准偏差，其计算公式为：；平均绝对误差表示实际值和预测值之间的平均偏差，其计算公式为：；决定系数表示回归模型预测值和实际值之间的拟合度，其值在之间，其计算公式为：；其中，N代表样本数；表示i时刻的功率真实值；/＞表示i时刻的功率预测值；表示N个实际功率值的平均值。需要说明的是，下标i、j仅用于区分集合中的各个元素，具体计算参照i、j各自的取值范围。在本实施例中，选取三个评估指标总体最优的预测模型作为最优模型。作为可选的实施方式，根据光伏发电预估功率与实际光伏发电功率的差值以及负荷预估功率与负荷功率的差值获取各时刻的过剩功率或缺额功率，包括：根据配电网的有功负荷功率和实际光伏发电功率的差值获取主电网的发电计划Pgrid；将主电网的发电计划Pgrid与负荷预估功率和光伏发电预估功率/＞之间的差值进行比较；若主电网的发电计划Pgrid大于负荷预估功率和光伏发电预估功率/＞之间的差值，则由储能装置吸收过剩功率；若主电网的发电计划Pgrid小于负荷预估功率和光伏发电预估功率/＞之间的差值，则由储能装置补偿缺额功率。有功交换功率Pgrid为主电网发电计划的重要依据。理想情况下，主电网的发电计划等于主电网与配电系统的有功功率交换，主电网与配网的功率交换值即为配网有功负荷Pload和光伏出力Psolar的差值，可表示为：；但实际上光伏预测与负荷预测存在一定的随机性误差，以及负荷变化有随机性，由配网和主电网功率平衡关系得到的发电计划在实际系统中并不能满足区域负荷和光伏出力差值功率需求，这种误差由储能装置来补偿，使发电计划顺利完成。当时，主电网发电计划制定发电功率过剩，过剩的能量由储能装置吸收；当时发电计划制定的发电功率不足，缺额功率由储能装置补偿，即：；最后，在已知随离散时间分布情况后，将在时间轴上积分，可得到整定的储能容量为：。作为可选的实施方式，还包括：根据离散时间分布的储能装置的能量吸收或功率补偿情况，按月度、季度或年度的时间跨度获取整定的储能容量，对储能装置进行定时维护调整。虽然结合附图描述了本发明的实施例，但是本领域技术人员可以在不脱离本发明的精神和范围的情况下作出各种修改和变型，这样的修改和变型均落入由所附权利要求所限定的范围之内。
