标题title
一种三电平逆变器永磁同步电机飞车启动方法及装置
摘要abst
本发明涉及电机控制的技术领域，公开了一种三电平逆变器永磁同步电机飞车启动方法及装置，本发明首先检测变频器停机状态，若否则重复检测，若是则进行转速跟踪，并检测电机是否处于停机状态，若否，则飞车启动，若是，则正常启动，本发明不使用电机电压采集装置，节省了成本的同时还增加了系统的可靠性；飞车启动始终只开其中一相下桥的两个开关管，不会造成母线充电电压以及大电流冲击，尤其对于三电平拓扑结构，保护了逆变器不受飞车启动过程中的过压应力冲击，解决了现有技术中容易造成母线电压波动，导致实际运行故障率高的问题。
权利要求书clms
1.一种三电平逆变器永磁同步电机飞车启动方法，其特征在于，包括：通过三相下桥试探发波方法对电机进行试探处理，以得到所述电机的反馈电流，并根据预设标准对所述反馈电流进行所述电机的反电动势瞬时值的判断处理，根据判断处理的结果来确定下一周期的开管动作；根据判断处理确定的下一周期的开管动作进行下一周期的开关管的切换，将开关管切换后的电机相记录为开通相A，并对所述开通相A的反馈电流进行判断处理：若在预设时间标准内未出现大于预设电流阈值的所述开通相A的反馈电流，则判断不需要飞车启动，直接切换至电流、速度双闭环阶段；若在预设时间标准内出现大于预设电流阈值的所述开通相A的反馈电流，则根据所述开通相A的反馈电流的变化进行所述电机的转子旋转电角频率的判断：若所述电机的转子旋转电角频率小于预设飞车启动最低频率/＞，则判断不需要飞车启动，直接切换至所述电流、速度双闭环阶段；若所述电机的转子旋转电角频率大于预设飞车启动最低频率/＞，则判断需要飞车启动，先切换到0电流闭环阶段，再进入所述电流、速度双闭环阶段。2.如权利要求1所述的一种三电平逆变器永磁同步电机飞车启动方法，其特征在于，所述三电平逆变器具有U相、V相以及W相，所述U相具有上桥开关S1、S2和下桥开关S3、S4，所述V相具有上桥开关S5、S6和下桥开关S7、S8，所述W相具有上桥开关S9、S10和下桥开关S11、S12；所述通过三相下桥试探发波方法对电机进行试探处理，以得到所述电机的反馈电流，并根据预设标准对所述反馈电流进行所述电机的反电动势瞬时值的判断处理，根据判断处理的结果来确定下一周期的开管动作的步骤包括：以固定的频率对所述U相的下桥开关S3、S4发送试探开关驱动信号，并获取对应的所述U相的输出回路电流、所述V相的输出回流/＞以及所述W相的输出回流电流/＞；其中，所述试探开关驱动信号的频率为电机运行最大频率的20-200倍；根据预设标准对所述、所述/＞以及所述/＞进行判断处理，以得到所述三电平逆变器在下一周期的开管动作；所述预设标准具体包括：当所述、/＞、/＞均小于预设电流阈值/＞时，判定此时电机的所述U相的反电动势瞬时值最小，下一周期继续开通所述U相的下桥开关S3、S4；当时，且/＞时，判定此时电机的所述V相的反电动势瞬时值最小，下一周期切换到开通所述V相的下桥开关S7、S8；当/＞时，且/＞时，判定此时电机的所述W相的反电动势瞬时值最小，下一周期切换到开通所述W相的下桥开关S11、S12。3.如权利要求1所述的一种三电平逆变器永磁同步电机飞车启动方法，其特征在于，所述预设时间标准为预设飞车启动最低频率Wmin对应的电周期时间的两倍时间。4.如权利要求2所述的一种三电平逆变器永磁同步电机飞车启动方法，其特征在于，若在预设时间标准内出现大于预设电流阈值的所述开通相A的反馈电流，则根据所述开通相A的反馈电流的变化进行所述电机的转子旋转电角频率的判断的步骤包括：将出现大于预设电流阈值的所述开通相A的反馈电流的时间记录为，并记录/＞时刻的U相的输出回路电流/＞、所述V相的输出回流/＞以及所述W相的输出回流电流/＞；根据预设标准对所述、所述/＞以及所述/＞进行判断处理，以得到下一周期的开管动作；所述预设标准具体包括：若当前开通相为U相，且时，则下次开通相为V相；若当前开通相为U相，且/＞时，则下次开通相为W相；若当前开通相为V相，且/＞时，则下次开通相为U相；若当前开通相为V相，且/＞时，则下次开通相为W相；若当前开通相为W相，且/＞时，则下次开通相为U相；若当前开通相为W相，且/＞时，则下次开通相为V相；根据判断处理得到的所述三电平逆变器在下一周期的开管动作在下一周期向开通相的两个下桥开关施加开通驱动信号，以进行对应的开关管的切换；重复循环进行上述的步骤三次，令电机旋转一个电周期，直至出现所述开通相A时结束循环，记录此时时间为；其中，所述循环进行的步骤包括：根据预设标准对所述/＞、所述以及所述/＞进行判断处理，以得到下一周期的开管动作，并根据判断处理得到的所述三电平逆变器在下一周期的开管动作在下一周期向开通相的两个下桥开关施加开通驱动信号，以进行对应的开关管的切换；根据所述和所述/＞，计算电机此时的转子旋转电角频率/＞，并根据预设标准计算得到所述电机的电机转子在最小反电动势切换电的相位/＞；其中，；所述预设标准具体包括：若当前开通相为U相，且下次开通相为V相时，则所述相位为330°；若当前开通相为U相，且下次开通相为W相时，所述相位/＞为330°；若当前开通相为V相，且下次开通相为U相时，则所述相位/＞为210°；若当前开通相为V相，且下次开通相为W相时，则所述相位/＞为90°；若当前开通相为W相，且下次开通相为U相时，则所述相位为210°；若当前开通相为W相，且下次开通相为V相时，则所述相位/＞为90°。5.如权利要求4所述的一种三电平逆变器永磁同步电机飞车启动方法，其特征在于，所述0电流闭环阶段的步骤包括：根据所述转子旋转电角频率和电机转子的相位/＞赋值至电机的转子位置观测器，以令所述电机的转子位置观测器初始化，并根据所述转子旋转电角频率/＞和所述电机转子的相位/＞，对所述三电平逆变器的输出电压的幅值和相位进行初始化处理；其中，所述三电平逆变器初始化的输出电压的幅值为此时电机的转子旋转电角频率/＞对应的电机反电动势值，所述三电平逆变器初始化的输出电压的相位为/＞；将所述电机的速度环控制器初始化输出为0，强制给定所述电机控制的D轴和Q轴的电流指令都为0，使所述三电平逆变器正常发波输出，并同时驱动电机的转子位置观测器，持续4-100ms，使得转子位置观测器模型在0电流下收敛至电机的真实转速以及真实相位，并获取此时电机的转子位置观测器观测得到的电机实时转子电角频率。6.如权利要求5所述的一种三电平逆变器永磁同步电机飞车启动方法，其特征在于，所述电流、速度双闭环阶段的步骤包括：将所述转子电角频率赋值给所述电机的速度环控制器，并同时将所述速度环控制器的输出电压输出作为所述Q轴的电流给定指令，完成电流、速度双闭环控制；以为基础，按照设定的加减速时间发送频率指令。7.如权利要求6所述的一种三电平逆变器永磁同步电机飞车启动方法，其特征在于，当从三相下桥试探发波阶段直接切换到切入电流、速度双闭环阶段时，所述转子电角频率为0。8.一种三电平逆变器永磁同步电机飞车启动装置，其特征在于，包括：试探法波模块，用于通过三相下桥试探发波方法对电机进行试探处理，以得到所述电机的反馈电流，并根据预设标准对所述反馈电流进行所述电机的反电动势瞬时值的判断处理，根据判断处理的结果来确定下一周期的开管动作；判断处理模块，用于根据判断处理确定的下一周期的开管动作进行下一周期的开关管的切换，将开关管切换后的电机相记录为开通相A，并对所述开通相A的反馈电流进行判断处理：若在预设时间标准内未出现大于预设电流阈值的所述开通相A的反馈电流，则判断不需要飞车启动，直接切换至电流、速度双闭环阶段；若在预设时间标准内出现大于预设电流阈值的所述开通相A的反馈电流，则根据所述开通相A的反馈电流的变化进行所述电机的转子旋转电角频率West的判断：若所述电机的转子旋转电角频率小于预设飞车启动最低频率/＞，则判断不需要飞车启动，直接切换至所述电流、速度双闭环阶段；若所述电机的转子旋转电角频率大于预设飞车启动最低频率/＞，则判断需要飞车启动，先切换到0电流闭环阶段，再进入所述电流、速度双闭环阶段。
说明书desc
技术领域本发明涉及电机控制的技术领域，尤其涉及一种三电平逆变器永磁同步电机飞车启动方法及装置。背景技术永磁同步电机是一种使用永磁体作为励磁源的同步电机。它具有高效率、高功率密度、高转矩密度和良好的动态性能等优点，因此在许多领域得到广泛应用。永磁同步电机由定子和转子两部分组成。定子上绕有三相对称的绕组，通过交流电源供给定子绕组产生旋转磁场。转子上安装着永磁体，它的磁场与定子磁场相互作用，产生转矩使电机运转。飞车启动是指将电机从静止状态加速到运行状态的一种启动方式。在传统的起动方法中，电机通常需要逐渐加速到额定转速，然后再与电网同步。而飞车启动则是通过控制逆变器输出电压和频率，使电机以较高的转速旋转，然后再与电网同步。现有的永磁同步电机飞车启动大多采用0矢量电压法或者电机绕组短路法或者0电流磁链观测法；由于三电平电路结构拓扑复杂，三电平拓扑下的永磁同步电机飞车启动目前还没有成熟可靠的无传感器方法，一般都要增加电压采样传感器，通过采集电机的反电动势来计算启动前的电机转速与实时相位。首先，0矢量电压法、电机绕组短路法或者0电流磁链观测法这几种方法都存在初始发波宽度以及相位不确定的问题，容易造成母线电压波动，甚至是过压，而且电机启动过程中电流以及扭矩冲击也大；三电平结构拓扑复杂，现有的增加电压采样硬件的方案一方面会增加成本，另一方面也会降低实际运行的故障率，经济性较低。发明内容本发明的目的在于提供一种三电平逆变器永磁同步电机飞车启动方法及装置，旨在解决现有技术中容易造成母线电压波动，导致实际运行故障率高的问题。本发明是这样实现的，第一方面，本发明提供一种三电平逆变器永磁同步电机飞车启动方法，包括：通过三相下桥试探发波方法对电机进行试探处理，以得到所述电机的反馈电流，并根据预设标准对所述反馈电流进行所述电机的反电动势瞬时值的判断处理，根据判断处理的结果来确定下一周期的开管动作；根据判断处理确定的下一周期的开管动作进行下一周期的开关管的切换，将开关管切换后的电机相记录为开通相A，并对所述开通相A的反馈电流进行判断处理：若在预设时间标准内未出现大于预设电流阈值的所述开通相A的反馈电流，则判断不需要飞车启动，直接切换至电流、速度双闭环阶段；若在预设时间标准内出现大于预设电流阈值的所述开通相A的反馈电流，则根据所述开通相A的反馈电流的变化进行所述电机的转子旋转电角频率的判断：若所述电机的转子旋转电角频率小于预设飞车启动最低频率/＞，则判断不需要飞车启动，直接切换至所述电流、速度双闭环阶段；若所述电机的转子旋转电角频率大于预设飞车启动最低频率/＞，则判断需要飞车启动，先切换到0电流闭环阶段，再进入所述电流、速度双闭环阶段。优选地，所述三电平逆变器具有U相、V相以及W相，所述U相具有上桥开关S1、S2和下桥开关S3、S4，所述V相具有上桥开关S5、S6和下桥开关S7、S8，所述W相具有上桥开关S9、S10和下桥开关S11、S12；所述通过三相下桥试探发波方法对电机进行试探处理，以得到所述电机的反馈电流，并根据预设标准对所述反馈电流进行所述电机的反电动势瞬时值的判断处理，根据判断处理的结果来确定下一周期的开管动作的步骤包括：以固定的频率对所述U相的下桥开关S3、S4发送试探开关驱动信号，并获取对应的所述U相的输出回路电流、所述V相的输出回流/＞以及所述W相的输出回流电流/＞；其中，所述试探开关驱动信号的频率为电机运行最大频率的20-200倍；根据预设标准对所述、所述/＞以及所述/＞进行判断处理，以得到所述三电平逆变器在下一周期的开管动作；所述预设标准具体包括：当所述、/＞、/＞均小于预设电流阈值/＞时，判定此时电机的所述U相的反电动势瞬时值最小，下一周期继续开通所述U相的下桥开关S3、S4；当时，且/＞时，判定此时电机的所述V相的反电动势瞬时值最小，下一周期切换到开通所述V相的下桥开关S7、S8；当/＞时，且/＞时，判定此时电机的所述W相的反电动势瞬时值最小，下一周期切换到开通所述W相的下桥开关S11、S12。优选地，所述预设时间标准为预设飞车启动最低频率对应的电周期时间的两倍时间。优选地，若在预设时间标准内出现大于预设电流阈值的所述开通相A的反馈电流，则根据所述开通相A的反馈电流的变化进行所述电机的转子旋转电角频率的判断的步骤包括：将出现大于预设电流阈值的所述开通相A的反馈电流的时间记录为，并记录时刻的U相的输出回路电流/＞、所述V相的输出回流/＞以及所述W相的输出回流电流；根据预设标准对所述、所述/＞以及所述/＞进行判断处理，以得到下一周期的开管动作；所述预设标准具体包括：若当前开通相为U相，且时，则下次开通相为V相；若当前开通相为U相，且时，则下次开通相为W相；若当前开通相为V相，且时，则下次开通相为U相；若当前开通相为V相，且时，则下次开通相为W相；若当前开通相为W相，且时，则下次开通相为U相；若当前开通相为W相，且时，则下次开通相为V相；根据判断处理得到的所述三电平逆变器在下一周期的开管动作在下一周期向开通相的两个下桥开关施加开通驱动信号，以进行对应的开关管的切换；重复循环根据预设标准对所述、所述/＞以及所述/＞进行判断处理，以得到下一周期的开管动作，并根据判断处理得到的所述三电平逆变器在下一周期的开管动作在下一周期向开通相的两个下桥开关施加开通驱动信号，以进行对应的开关管的切换，直至出现所述开通相A，记录此时的时间为/＞；其中，所述循环次数为三次，电机旋转一个电周期；根据所述和所述/＞，计算电机此时的转子旋转电角频率/＞，并根据预设标准计算得到所述最小反电动势切换电的电机转子的相位/＞；其中，；所述预设标准具体包括：若当前开通相为U相，且下次开通相为V相时，则所述相位为330°；若当前开通相为U相，且下次开通相为W相时，所述相位/＞为330°；若当前开通相为V相，且下次开通相为U相时，则所述相位/＞为210°；若当前开通相为V相，且下次开通相为W相时，则所述相位/＞为90°；若当前开通相为W相，且下次开通相为U相时，则所述相位/＞为210°；若当前开通相为W相，且下次开通相为V相时，则所述相位/＞为90°。优选地，所述0电流闭环阶段的步骤包括：根据所述转子旋转电角频率和电机转子的相位/＞赋值至电机的转子位置观测器，以令所述电机的转子位置观测器初始化，并根据所述转子旋转电角频率/＞和所述电机转子的相位/＞，对所述三电平逆变器的输出电压的幅值和相位进行初始化处理；其中，所述三电平逆变器初始化的输出电压的幅值为此时电机的转子旋转电角频率/＞对应的电机反电动势值，所述三电平逆变器初始化的输出电压的相位为/＞；将所述电机的速度环控制器初始化输出为0，强制给定所述电机控制的D轴和Q轴的电流指令都为0，使所述三电平逆变器正常发波输出，并同时驱动电机的转子位置观测器，持续4-100ms，使得转子位置观测器模型在0电流下收敛至电机的真实转速以及真实相位，并获取此时电机的转子位置观测器观测得到的电机实时转子电角频率。优选地，所述电流、速度双闭环阶段的步骤包括：将所述转子电角频率赋值给所述电机的速度环控制器，并同时将所述速度环控制器的输出电压输出作为所述Q轴的电流给定指令，完成电流、速度双闭环控制；以为基础，按照设定的加减速时间发送频率指令。优选地，当从三相下桥试探发波阶段直接切换到切入电流、速度双闭环阶段时，所述转子电角频率为0。第二方面，本发明提供一种三电平逆变器永磁同步电机飞车启动装置，包括：试探法波模块，用于通过三相下桥试探发波方法对电机进行试探处理，以得到所述电机的反馈电流，并根据预设标准对所述反馈电流进行所述电机的反电动势瞬时值的判断处理，根据判断处理的结果来确定下一周期的开管动作；判断处理模块，用于根据判断处理确定的下一周期的开管动作进行下一周期的开关管的切换，将开关管切换后的电机相记录为开通相A，并对所述开通相A的反馈电流进行判断处理：若在预设时间标准内未出现大于预设电流阈值的所述开通相A的反馈电流，则判断不需要飞车启动，直接切换至电流、速度双闭环阶段；若在预设时间标准内出现大于预设电流阈值的所述开通相A的反馈电流，则根据所述开通相A的反馈电流的变化进行所述电机的转子旋转电角频率的判断：若所述电机的转子旋转电角频率小于预设飞车启动最低频率/＞，则判断不需要飞车启动，直接切换至所述电流、速度双闭环阶段；若所述电机的转子旋转电角频率大于预设飞车启动最低频率/＞，则判断需要飞车启动，先切换到0电流闭环阶段，再进入所述电流、速度双闭环阶段。本发明提供了一种三电平逆变器永磁同步电机飞车启动方法，具有以下有益效果：本发明首先检测变频器停机状态，若否则重复检测，若是则进行转速跟踪，并检测电机是否处于停机状态，若否则飞车启动，若是则正常启动，本发明不使用电机电压采集装置，节省了成本的同时还增加了系统的可靠性；飞车启动始终只开其中一相下桥的两个开关管，不会造成母线充电电压以及大电流冲击，尤其对于三电平拓扑结构，保护了逆变器不受飞车启动过程中的过压应力冲击，解决了现有技术中容易造成母线电压波动，导致实际运行故障率高的问题。附图说明图1是本发明实施例提供的一种三电平逆变器的结构示意图；图2是本发明提供的一种三电平逆变器永磁同步电机飞车启动方法的流程示意图;图3是本发明提供的一种三电平逆变器的相序以及下一周期开通相判断逻辑图；图4是本发明提供的一种最小反电动势切换点的电机转子相位的图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。以下结合具体实施例对本发明的实现进行详细的描述。参照图1、图2所示，为本发明提供较佳实施例。第一方面，本发明提供一种三电平逆变器永磁同步电机飞车启动方法，本发明提供的方法应用于三电平逆变器和永磁同步电机飞车启动上。需要说明的是，三电平逆变器是一种用于交流电机驱动的电力电子装置，它能够将直流电源的电能转换为交流电源供给电机，在本发明提供的实施例中，三电平逆变器具有U相、V相以及W相，每个相均具有两个上桥开关和两个下桥开关，具体来说，U相具有上桥开关S1、S2和下桥开关S3、S4，V相具有上桥开关S5、S6和下桥开关S7、S8，W相具有上桥开关S9、S10和下桥开关S11、S12。更具体地，上桥开关和下桥开关通常是指在逆变器拓扑结构中的两个部分，用于控制输出电压，上桥开关和下桥开关通过控制开关管的导通和截止，共同实现了对输出电压的调节和控制。具体地，在本发明提供实施例中，将三电平逆变器永磁同步电机飞车启动方法分为三个阶段，第一个阶段是三相下桥试探发波阶段，第二个阶段是0电流闭环阶段，第三个阶段是切入电流、速度双闭环阶段。需要说明的是，首先进行第一个阶段，并根据获取的数据进行判定，是直接进行第三个阶段，还是先进行第二个阶段再进行第三个阶段。具体地，第一阶段，三相下桥试探发波阶段：第一步，以固定的频率对U相的下桥开关S3、S4发送试探开关驱动信号，并获取对应的U相的输出回路电流、V相的输出回流/＞以及W相的输出回流电流/＞；其中，开关频率一般取电机运行最大频率的20-200倍，例如电机最大运行100Hz电频率，此处开关频率可选2.0kHz-20.0kHz。更具体地，根据预设标准对、/＞以及/＞进行判断处理，以得到三电平逆变器在下一周期的开管动作。更具体地，用于对、/＞以及/＞进行判断处理的预设标准具体包括：当/＞、、/＞均小于预设电流阈值/＞时，判定此时电机的所述U相的反电动势瞬时值最小，下一周期继续开通所述U相的下桥开关S3、S4；当/＞时，且/＞时，判定此时电机的所述V相的反电动势瞬时值最小，下一周期切换到开通所述V相的下桥开关S7、S8；当时，且/＞时，判定此时电机的所述W相的反电动势瞬时值最小，下一周期切换到开通所述W相的下桥开关S11、S12。第二步，根据判断处理得到的三电平逆变器在下一周期的开管动作在下一周期进行对应的开关管的切换，并获取对应的开通相A；其中，开通相A为用于连接电源、以为电机提供电压和电流的电机相，此时、/＞以及/＞均小于预设电流阈值/＞。第三步，保持开通相A不变，并对、/＞以及/＞行数值判断处理：若在预设飞车启动最低频率所对应的电周期时间的两倍时间内未出现开通相电流大于预设电流阈值/＞，则判定电机处于静止状态无需飞车启动，直接切换到切入电流、速度双闭环阶段，并记录/＞=0。若在预设飞车启动最低频率所对应的电周期时间的两倍时间内出现/＞、/＞以及/＞大于预设电流阈值/＞时，将对应时刻记录为/＞，并记录/＞时刻的U相的输出回路电流Iu1/＞、V相的输出回流Iv1/＞以及W相的输出回流电流Iw1/＞。根据预设标准对、/＞以及/＞进行判断处理，以得到下一周期的开管动作。预设标准具体包括：若当前开通相为U相，且时，则下次开通相为V相；若当前开通相为U相，且/＞时，则下次开通相为W相；若当前开通相为V相，且/＞时，则下次开通相为U相；若当前开通相为V相，且/＞时，则下次开通相为W相；若当前开通相为W相，且/＞时，则下次开通相为U相；若当前开通相为W相，且时，则下次开通相为V相。参阅图3，图3是本发明提供的一种相序以及下一周期开通相判断逻辑图。第四步，根据判断处理得到的三电平逆变器在下一周期的开管动作在下一周期向开通相的两个下桥开关施加开通驱动信号，以进行对应的开关管的切换。重复循环根据预设标准对、/＞、以及/＞进行判断处理，以得到下一周期的开管动作，并根据判断处理得到的三电平逆变器在下一周期的开管动作在下一周期向开通相的两个下桥开关施加开通驱动信号，以进行对应的开关管的切换，直至出现开通相A，记录此时的时间为/＞；其中，循环次数为三次，电机旋转一个电周期。第五步，根据和/＞，计算电机此时的转子旋转电角频率/＞，并根据预设标准计算得到最小反电动势切换电的电机转子的相位/＞；其中/＞。预设标准具体包括：若当前开通相为U相，且下次开通相为V相时，则相位为330°；若当前开通相为U相，且下次开通相为W相时，相位/＞为330°；若当前开通相为V相，且下次开通相为U相时，则相位/＞为210°；若当前开通相为V相，且下次开通相为W相时，则相位/＞为90°；若当前开通相为W相，且下次开通相为U相时，则相位/＞为210°；若当前开通相为W相，且下次开通相为V相时，则相位/＞为90°。参阅图4，图4是本发明提供的一种最小反电动势切换点的电机转子相位图。根据电力电子基本原理，当转子位置在210°~150°之间时，U相的反电动势最小，若此时S3和S4导通，其他所有开关管关闭，V、W两相下桥上S7、S8、S11和S12的反并联续流二极管D7、D8、D11和D12反向截止不导通，因此，此时电机三相电流均为0。依此类推，当转子位置在330°~90°之间时，V相的反电动势最小，若此时S7和S8导通，其他所有开关管关闭，U、W两相下桥上S3、S4、S11和S12的反并联续流二极管D3、D4、D11和D12反向截止不导通，因此，此时电机三相电流均为0。当转子位置在90°~210°之间时，W相的反电动势最小，若此时S11和S12导通，其他所有开关管关闭，U、W两相下桥上S3、S4、S7和S8的反并联续流二极管D3、D4、D7和D8反向截止不导通，因此，此时电机三相电流均为0。当转子位置在330°~360°之间时，U相的反电动势为中间值，此时在S3、S4导通阶段，在正序UVW条件下，V相反电动势最小，W相反电动势最大，则D11和D12反向截止不导通，D7和D8导通，电机电流从U相流向V相，在逆序UWV条件下，W相反电动势最小，V相反电动势最大，则D7和D8反向截止不导通，D11和D12导通，电机电流从U相流向W相。因此，当出现U相电流从0慢慢增大到超过所设定电流阈值时，可以确定此时电机转子绝对位置为330°。同理，当出现V相电流从0慢慢增大到超过所设定电流阈值时，可以确定此时电机转子绝对位置为90°或者210°。当出现W相电流从0慢慢增大到超过所设定电流阈值时，可以确定此时电机转子绝对位置为210°或者90°。依据上述原理，可以通过设定特定的开关逻辑来测算启动前的电机转子转速以及转子相位。第六步，当转子旋转电角频率小于预设飞车启动最低频率时，直接切换到切入电流、速度双闭环阶段，并记录/＞=0。当计算得到的频率大于预设飞车启动最低频率时，切换到0电流闭环阶段。第七步，根据转子旋转电角频率和电机转子的相位/＞赋值至电机的转子位置观测器，以令电机的转子位置观测器初始化，并根据转子旋转电角频率/＞和电机转子的相位/＞，对三电平逆变器的输出电压的幅值和相位进行初始化处理；其中，三电平逆变器初始化的输出电压的幅值为此时电机的转子旋转电角频率对应的电机反电动势值，三电平逆变器初始化的输出电压的相位为/＞。第八步，将电机的速度环控制器初始化输出为0，强制给定电机控制的D轴和Q轴的电流指令都为0，使三电平逆变器正常发波输出，并同时驱动电机的转子位置观测器，持续4-100ms，使得转子位置观测器模型在0电流下收敛至电机的真实转速以及真实相位，并获取此时电机的转子位置观测器观测得到的电机实时转子电角频率。第三阶段，切入电流、速度双闭环阶段：第九步，将转子电角频率赋值给电机的速度环控制器，并同时将速度环控制器的输出电压输出作为Q轴的电流给定指令，完成电流、速度双闭环控制。第十步，以为基础，按照设定的加减速时间发送频率指令。参阅图2，本发明提供的实施例的基本流程是：检测变频器停机状态，若否则重复检测，若是则进行转速跟踪，并检测电机是否处于停机状态，若否则飞车启动，若是则正常启动。本发明提供了一种三电平逆变器永磁同步电机飞车启动方法，具有以下有益效果：本发明首先检测变频器停机状态，若否则重复检测，若是则进行转速跟踪，并检测电机是否处于停机状态，若否则飞车启动，若是则正常启动，本发明不使用电机电压采集装置，节省了成本的同时还增加了系统的可靠性；飞车启动始终只开其中一相下桥的两个开关管，不会造成母线充电电压以及大电流冲击，尤其对于三电平拓扑结构，保护了逆变器不受飞车启动过程中的过压应力冲击，解决了现有技术中容易造成母线电压波动，导致实际运行故障率高的问题。第二方面，本发明提供一种三电平逆变器永磁同步电机飞车启动装置，包括：三相下桥试探发波模块，用于实现三相下桥试探发波阶段：通过三相下桥试探发波方法对电机进行试探处理，以得到所述电机的反馈电流，并根据预设标准对所述反馈电流进行所述电机的反电动势瞬时值的判断处理，根据判断处理的结果来确定下一周期的开管动作；根据判断处理确定的下一周期的开管动作进行下一周期的开关管的切换，将开关管切换后的电机相记录为开通相A，并对所述开通相A的反馈电流进行判断，以根据判断处理的结果来确定是否需要飞车启动；其具体步骤包括：若在预设时间标准内未出现大于预设电流阈值的所述开通相A的反馈电流，则判断不需要飞车启动，直接切换至电流、速度双闭环阶段；若在预设时间标准内出现大于预设电流阈值的所述开通相A的反馈电流，则判断需要飞车启动，并将出现大于预设电流阈值的所述开通相A的反馈电流的时间记录为T1；重复循环进行根据预设标准对所述反馈电流进行所述电机的反电动势瞬时值的判断处理，根据判断处理的结果来确定下一周期的开管动作，并根据判断处理确定的下一周期的开管动作进行下一周期的开关管的切换，直至出现所述开通相A，记录此时的时间为T2；根据所述T1和所述T2计算电机的转子旋转电角频率和最小反电动势切换电机转子的相位θest，当所述转子旋转电角频率/＞小于预设飞车启动最低频率/＞时，直接切换至电流、速度双闭环阶段，当所述转子旋转电角频率/＞大于预设飞车启动最低频率/＞时，切换到0电流闭环阶段；0电流闭环模块，用于实现0电流闭环阶段：根据所述转子旋转电角频率和电机转子的相位/＞对所述电机的转子位置观测器和三电平逆变器的输出电压的幅值和相位进行初始化处理；将所述电机的速度环控制器初始化输出为0，强制给定所述电机控制的D轴和Q轴的电流指令都为0，使所述三电平逆变器正常发波输出，并同时驱动电机的转子位置观测器，持续4-100ms，使得转子位置观测器模型在0电流下收敛至电机的真实转速以及真实相位，并获取此时电机的转子位置观测器观测得到的电机实时转子电角频率；切入电流、速度双闭环模块，用于实现切入电流、速度双闭环阶段：将所述电机转子电角频率赋值给所述电机的速度环控制器，并同时将所述速度环控制器的输出电压输出作为所述Q轴的电流给定指令，完成电流、速度双闭环控制；以为基础，按照设定的加减速时间发送频率指令。在本实施例中，上述装置实施例中的各个模块的具体实现，请参照上述方法实施例中所述，在此不再进行赘述。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
