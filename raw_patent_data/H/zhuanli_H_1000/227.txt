标题title
一种基于指纹的流量预测方法及系统
摘要abst
本发明提出一种基于指纹的流量预测方法及系统，本发明涉及预测领域，本方法结合了图形处理、转换以及相似度分析的方法进行流量的预测，首先采集的流量数据形成数据集，采用一段时间内的数据生成图像，然后使用图像压缩、DCT转换方式获取图像特征，然后再通过分类将特征相似的图像进行分类，通过新的流量数据生成图像特征并进行分类，获取对应的数据，利用相似度最高的数据进行流量数据拟合，进而预测一定时间内的流量趋势，获取流量的预测数据。将图像识别领域与预测领域相结合，实现了在大数量情况下的数据拟合，通过分类器过滤了大量的历史数据，降低了图像相似度的数据计算量，最终通过数据拟合的方式对流量数据进行预测。
权利要求书clms
1.一种基于指纹的流量预测方法，其特征在于，所述方法包括：步骤S1，对预设时间段内的流量数据进行测绘处理，以生成多个流量走势图；步骤S2，对每个流量走势图进行缩放和灰度处理后生成多个灰度图像；步骤S3，计算得到每个灰度图像中的指纹信息，以获得训练样本集并进行存储；步骤S4，利用所述训练样本集对预设模型进行训练，得到分类模型；步骤S5，获取待测样本集，并将待测样本集中的待测样本依次输入至所述分类模型，以获得对应的预测结果；步骤S6，依次计算每个预测结果中的每个训练样本与对应的待测样本的相似度，获取相似度最高的训练样本，以得到预测数据；步骤S7，还原预测数据对应的原始流量数据，并进行散点图拟合，以生成流量的预测曲线。2.根据权利要求1所述的一种基于指纹的流量预测方法，其特征在于，在所述步骤S1中，多个流量走势图的时间跨度和流量范围保持一致。3.根据权利要求1所述的一种基于指纹的流量预测方法，其特征在于，所述步骤S3具体包括：按图像的像素灰度值组成图像的灰度矩阵，对矩阵进行离散余弦变换，以将二维矩阵降维至一维数组；对一维数组进行归一化处理，并将归一化处理后的数据作为灰度图像的指纹信息。4.根据权利要求1所述的一种基于指纹的流量预测方法，其特征在于，在所述步骤S4中，所述预设模型包括聚类模型和KNN模型中的至少一项。5.根据权利要求1所述的一种基于指纹的流量预测方法，其特征在于，在所述步骤S5中，获取待测样本集的步骤包括：获取待测流量数据，并对待测流量数据进行测绘处理以生成多个待测流量走势图；对每个待测流量走势图进行缩放和灰度处理后生成多个待测灰度图像；计算得到每个待测灰度图像中的指纹信息，以获得待测样本集。6.根据权利要求1所述的一种基于指纹的流量预测方法，其特征在于，在所述步骤S6中，通过余弦相似度计算公式计算每个预测结果中的每个训练样本与对应的待测样本的相似度。7.根据权利要求1所述的一种基于指纹的流量预测方法，其特征在于，在所述步骤S7中，通过最小二乘法获取最佳的拟合曲线。8.一种基于指纹的流量预测系统，其特征在于，所述系统包括：第一处理模块，被配置为，对预设时间段内的流量数据进行测绘处理，以生成多个流量走势图；第二处理模块，被配置为，对每个流量走势图进行缩放和灰度处理后生成多个灰度图像；第三处理模块，被配置为，计算得到每个灰度图像中的指纹信息，以获得训练样本集并进行存储；第四处理模块，被配置为，利用所述训练样本集对预设模型进行训练，得到分类模型；第五处理模块，被配置为，获取待测样本集，并将待测样本集中的待测样本依次输入至所述分类模型，以获得对应的预测结果；第六处理模块，被配置为，依次计算每个预测结果中的每个训练样本与对应的待测样本的相似度，获取相似度最高的训练样本，以得到预测数据；第七处理模块，被配置为，还原预测数据对应的原始流量数据，并进行散点图拟合，以生成流量的预测曲线。9.一种电子设备，其特征在于，所述电子设备包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时，实现权利要求1至7中任一项所述的一种基于指纹的流量预测方法中的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时，实现权利要求1至7中任一项所述的一种基于指纹的流量预测方法中的步骤。
说明书desc
技术领域本发明属于预测技术领域，尤其涉及一种基于指纹的流量预测方法及系统。背景技术流量预测在网络应用中有着重要的作用，目前主流预测方法是采用机器学学习算法进行预测，将数据分为训练集和测试集，调优参数，最终达到理想的预测效果。但采用机器学学习算法进行预测时，需要的网络流量数据巨大，进而需要花费大量的计算时间。发明内容为解决上述技术问题，本发明提出一种基于指纹的流量预测方法及系统。本发明第一方面公开了一种基于指纹的流量预测方法；所述方法包括：步骤S1，对预设时间段内的流量数据进行测绘处理，以生成多个流量走势图；步骤S2，对每个流量走势图进行缩放和灰度处理后生成多个灰度图像；步骤S3，计算得到每个灰度图像中的指纹信息，以获得训练样本集并进行存储；步骤S4，利用所述训练样本集对预设模型进行训练，得到分类模型；步骤S5，获取待测样本集，并将待测样本集中的待测样本依次输入至所述分类模型，以获得对应的预测结果；步骤S6，依次计算每个预测结果中的每个训练样本与对应的待测样本的相似度，获取相似度最高的训练样本，以得到预测数据；步骤S7，还原预测数据对应的原始流量数据，并进行散点图拟合，以生成流量的预测曲线。根据本发明第一方面的方法，在所述步骤S1中，多个流量走势图的时间跨度和流量范围保持一致。根据本发明第一方面的方法，所述步骤S3具体包括：按图像的像素灰度值组成图像的灰度矩阵，对矩阵进行离散余弦变换，以将二维矩阵降维至一维数组；对一维数组进行归一化处理，并将归一化处理后的数据作为灰度图像的指纹信息。根据本发明第一方面的方法，在所述步骤S4中，所述预设模型包括聚类模型和KNN模型中的至少一项。根据本发明第一方面的方法，在所述步骤S5中，获取待测样本集的步骤包括：获取待测流量数据，并对待测流量数据进行测绘处理以生成多个待测流量走势图；对每个待测流量走势图进行缩放和灰度处理后生成多个待测灰度图像；计算得到每个待测灰度图像中的指纹信息，以获得待测样本集。根据本发明第一方面的方法，在所述步骤S6中，通过余弦相似度计算公式计算每个预测结果中的每个训练样本与对应的待测样本的相似度。根据本发明第一方面的方法，在所述步骤S7中，通过最小二乘法获取最佳的拟合曲线。本发明第二方面公开了一种基于指纹的流量预测系统；所述系统包括：第一处理模块，被配置为，对预设时间段内的流量数据进行测绘处理，以生成多个流量走势图；第二处理模块，被配置为，对每个流量走势图进行缩放和灰度处理后生成多个灰度图像；第三处理模块，被配置为，计算得到每个灰度图像中的指纹信息，以获得训练样本集并进行存储；第四处理模块，被配置为，利用所述训练样本集对预设模型进行训练，得到分类模型；第五处理模块，被配置为，获取待测样本集，并将待测样本集中的待测样本依次输入至所述分类模型，以获得对应的预测结果；第六处理模块，被配置为，依次计算每个预测结果中的每个训练样本与对应的待测样本的相似度，获取相似度最高的训练样本，以得到预测数据；第七处理模块，被配置为，还原预测数据对应的原始流量数据，并进行散点图拟合，以生成流量的预测曲线。本发明第三方面公开了一种电子设备。电子设备包括存储器和处理器，存储器存储有计算机程序，处理器执行计算机程序时，实现本公开第一方面中任一项的一种基于指纹的流量预测方法中的步骤。本发明第四方面公开了一种计算机可读存储介质。计算机可读存储介质上存储有计算机程序，计算机程序被处理器执行时，实现本公开第一方面中任一项的一种基于指纹的流量预测方法中的步骤。综上，本发明提出的方案具备如下技术效果：本方法结合了图形处理、转换以及相似度分析的方法进行流量的预测，首先采集的流量数据形成数据集，采用一段时间内的数据生成图像，然后使用图像压缩、DCT转换方式获取图像特征，然后再通过分类将特征相似的图像进行分类，通过新的流量数据生成图像特征并进行分类，获取对应的数据，利用相似度最高的数据进行流量数据拟合，进而预测一定时间内的流量趋势，获取流量的预测数据。将图像识别领域与预测领域相结合，实现了在大数量情况下的数据拟合，通过分类器过滤了大量的历史数据，降低了图像相似度的数据计算量，最终通过数据拟合的方式对流量数据进行预测。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为根据本发明实施例的一种基于指纹的流量预测方法的流程图；图2为根据本发明实施例的一种流量走势图；图3为根据本发明实施例的一种图像分类示意图；图4为根据本发明实施例的一种数据拟合示意图；图5为根据本发明实施例的一种电子设备的结构图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例只是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。可以理解，本申请所使用的术语“第一”、“第二”等可在本文中用于描述各种元件，但这些元件不受这些术语限制。这些术语仅用于将第一个元件与另一个元件区分。举例来说，在不脱离本申请的范围的情况下，可以将第一图像称为第二图像，且类似地，可将第二图像称为第一图像。第一图像和第二图像两者都是图像，但其不是同一图像。本发明第一方面公开了一种基于指纹的流量预测方法；请参见图1，所述方法包括：步骤S1，对预设时间段内的流量数据进行测绘处理，以生成多个流量走势图；在所述步骤S1中，通过探针采集设备的流量数据，形成大量数据样本；多个流量走势图的时间跨度和流量范围保持一致，即将一定时间段内的流量数据进行绘图处理，生成流量走势图，流量走势图的时长、采集间隔、曲线图的y轴单位保持一致、且y轴最大数值保持一致。步骤S2，对每个流量走势图进行缩放和灰度处理后生成多个灰度图像；本步骤中，需保持图像尺寸一致，并将图像转化为灰度图像，降低图像每个像素的灰度值大小。步骤S3，计算得到每个灰度图像中的指纹信息，以获得训练样本集并进行存储；所述步骤S3具体包括：按图像的像素灰度值组成图像的灰度矩阵，对矩阵进行离散余弦变换，以将二维矩阵降维至一维数组；对一维数组进行归一化处理，即求出数据的长度，数组的每一位均除以该长度，之后将归一化处理后的数据作为灰度图像的指纹信息。此外可以理解的是，为了后续对预设模型进行测试，可以从全部的指纹信息中分出部分数据作为测试集。步骤S4，利用所述训练样本集对预设模型进行训练，得到分类模型；所述预设模型包括聚类模型和KNN模型中的至少一项。可选地，采用KNN算法进行训练，生成类标签。步骤S5，获取待测样本集，并将待测样本集中的待测样本依次输入至所述分类模型，以获得对应的预测结果；其中，预测结果为类标签中的某一类训练样本。在所述步骤S5中，获取待测样本集的步骤包括：获取待测流量数据，并对待测流量数据进行测绘处理以生成多个待测流量走势图；对每个待测流量走势图进行缩放和灰度处理后生成多个待测灰度图像；计算得到每个待测灰度图像中的指纹信息，以获得待测样本集。步骤S6，依次计算每个预测结果中的每个训练样本与对应的待测样本的相似度，获取相似度最高的训练样本，以得到预测数据；可选地，通过余弦相似度计算公式计算每个预测结果中的每个训练样本与对应的待测样本的相似度。步骤S7，还原预测数据对应的原始流量数据，并进行散点图拟合，以生成流量的预测曲线。还原预测数据对应的原始流量数据时，可以一并获取始流量数据对应的时间点之后的一段时间的流量数据。在所述步骤S7中，通过最小二乘法获取最佳的拟合曲线。取出对应时间点的拟合数据作为预测数据输出，以完成基于指纹的流量预测。下面，结合图2、图3、图4对本发明作进一步说明。图2描述了将原始流量数据生成图像，图像采用线形图，横轴为时间，纵轴为流量大小，将采集的数据连成一条平滑曲线。每幅图的时间跨度和流量范围保持一致。图3描述了通过计算图像指纹信息，对新的流量数据生成图像并进行分类。图4描述了通过相似度最高的数据，通过拟合数据计算数据的预测数据的曲线，预测一定时间内的数据流量。与现有技术相比较，本发明的创新之处在于采用图像相似度判别的方式进行数据的预测，结合了图像处理算法和机器学习数据拟合算法，通过比较图像指纹数据的相似度，找出最接近的样本数据，利用历史数据对流量进行预测。本发明第二方面公开了一种基于指纹的流量预测系统；所述系统包括：第一处理模块，被配置为，对预设时间段内的流量数据进行测绘处理，以生成多个流量走势图；第二处理模块，被配置为，对每个流量走势图进行缩放和灰度处理后生成多个灰度图像；第三处理模块，被配置为，计算得到每个灰度图像中的指纹信息，以获得训练样本集并进行存储；第四处理模块，被配置为，利用所述训练样本集对预设模型进行训练，得到分类模型；第五处理模块，被配置为，获取待测样本集，并将待测样本集中的待测样本依次输入至所述分类模型，以获得对应的预测结果；第六处理模块，被配置为，依次计算每个预测结果中的每个训练样本与对应的待测样本的相似度，获取相似度最高的训练样本，以得到预测数据；第七处理模块，被配置为，还原预测数据对应的原始流量数据，并进行散点图拟合，以生成流量的预测曲线。本发明第三方面公开了一种电子设备。电子设备包括存储器和处理器，存储器存储有计算机程序，处理器执行计算机程序时，实现本公开第一方面中任一项的一种基于指纹的流量预测方法中的步骤。图5为根据本发明实施例的一种电子设备的结构图，如图5所示，电子设备包括通过系统总线连接的处理器、存储器、通信接口、显示屏和输入装置。其中，该电子设备的处理器用于提供计算和控制能力。该电子设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该电子设备的通信接口用于与外部的终端进行有线或无线方式的通信，无线方式可通过WIFI、运营商网络、近场通信或其他技术实现。该电子设备的显示屏可以是液晶显示屏或者电子墨水显示屏，该电子设备的输入装置可以是显示屏上覆盖的触摸层，也可以是电子设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图5中示出的结构，仅仅是与本公开的技术方案相关的部分的结构图，并不构成对本申请方案所应用于其上的电子设备的限定，具体的电子设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。本发明第四方面公开了一种计算机可读存储介质。计算机可读存储介质上存储有计算机程序，计算机程序被处理器执行时，实现本公开第一方面中任一项的一种基于指纹的流量预测方法中的步骤中的步骤。综上，本发明提出的方案具备如下技术效果：本方法结合了图形处理、转换以及相似度分析的方法进行流量的预测，首先采集的流量数据形成数据集，采用一段时间内的数据生成图像，然后使用图像压缩、DCT转换方式获取图像特征，然后再通过分类将特征相似的图像进行分类，通过新的流量数据生成图像特征并进行分类，获取对应的数据，利用相似度最高的数据进行流量数据拟合，进而预测一定时间内的流量趋势，获取流量的预测数据。将图像识别领域与预测领域相结合，实现了在大数量情况下的数据拟合，通过分类器过滤了大量的历史数据，降低了图像相似度的数据计算量，最终通过数据拟合的方式对流量数据进行预测。请注意，以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
