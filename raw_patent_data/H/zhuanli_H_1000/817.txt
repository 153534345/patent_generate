标题title
太阳能硅片视觉检测方法、装置、设备及存储介质
摘要abst
本发明提供了一种太阳能硅片视觉检测方法、装置、设备及存储介质，该方法包括：通过视觉检测仪上的第一工位和第二工位对目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，进而实现位置校正，然后通过第三工位对目标太阳能硅片进行破片检测，得到第一检测结果，通过第四工位对目标太阳能硅片进行质量检测，得到第二检测结果，基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。本方法过整合多个工位，实现了太阳能硅片生产流程的连续性和高效性。每个工位都承担了不同的任务，如定位、校准、破片检测和质量检测，各个工位之间协同合作，使得整个生产过程更加顺畅和高效。
权利要求书clms
1.一种太阳能硅片视觉检测方法，其特征在于，所述太阳能硅片视觉检测方法应用于视觉检测仪，所述视觉检测仪包括多个检测工位，各检测工位上安装有对应数量的工业相机，所述太阳能硅片视觉检测方法包括：当目标太阳能硅片进入所述多个检测工位中的第一工位和第二工位时，通过所述第一工位和所述第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像；分别根据所述第一图像和所述第二图像对所述目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，分别得到所述目标太阳能硅片的硅片位置和所述网板的网板位置，并基于所述硅片位置和所述网板位置对所述目标太阳能硅片进行位置校准；当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像，根据所述第三图像对所述目标太阳能硅片进行破片检测，得到第一检测结果；当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像，并根据所述第四图像对所述目标太阳能硅片进行质量检测，得到第二检测结果；基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。2.根据权利要求1所述的太阳能硅片视觉检测方法，其特征在于，所述第一工位上安装有两组工业相机，当所述目标太阳能硅片上存在mark点时使用第一组工业相机，当所述目标太阳能硅片上不存在mark点时使用第二组工业相机，所述第一组工业相机包括四个工业相机；在所述当目标太阳能硅片进入所述多个检测工位中的第一工位和第二工位时，通过所述第一工位和所述第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像之前，还包括：通过所述第一组工业相机中的四个相机分别拍摄预设的棋盘格标定板，分别得到四张标定图像，并对所述四张标定图像进行角点提取，得到所述四张标定图像中对应角点的像素坐标；将各标定图像中对应角点的像素坐标转换至所述棋盘格标定板对应的棋盘格坐标系，并获取各角点之间连线中心点的棋盘格坐标以及对角线角度；基于所述棋盘格坐标以及对角线角度计算所述连线中心点与预设的示教中心点之间的偏差值，并将所述偏差值转换至物理坐标系得到对应工业相机的偏移量，根据所述偏移量调整对应的工业相机的外参。3.根据权利要求2所述的太阳能硅片视觉检测方法，其特征在于，所述分别根据所述第一图像和所述第二图像对所述目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，分别得到所述目标太阳能硅片的硅片位置和所述网板的网板位置，并基于所述硅片位置和所述网板位置对所述目标太阳能硅片进行位置校准包括：分别对所述第一图像和所述第二图像进行mark点检测，确定所述第一图像和所述第二图像中的mark点；分别获取所述第一图像和所述第二图像中mark点的像素坐标，并对所述mark点的像素坐标进行坐标转换，分别得到所述目标太阳能硅片上的mark点的第一物理坐标以及所述网板上的mark点的第二物理坐标；根据所述第一物理坐标和所述第二物理坐标判断所述目标太阳能硅片和所述网板之间是否符合预设的位置关系；若否，则根据所述第一物理坐标和所述第二物理坐标对所述目标太阳能硅片进行位置校准。4.根据权利要求1所述的太阳能硅片视觉检测方法，其特征在于，所述当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像，根据所述第三图像对所述目标太阳能硅片进行破片检测，得到第一检测结果包括：当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像；对所述第三图像进行灰度处理和形态学处理，得到所述第三图像对应的预处理图像；对所述预处理图像进行连通组件分析，判断所述第三图像是否存在破片区域，得到识别结果，并将所述识别结果作为第一检测结果。5.根据权利要求1所述的太阳能硅片视觉检测方法，其特征在于，所述当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像，并根据所述第四图像对所述目标太阳能硅片进行质量检测，得到第二检测结果包括：当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像；对所述第四图像进行缺陷像素级分割，得到分割图像，并根据所述分割图像确定所述目标太阳能硅片是否存在质量缺陷；若存在，则将所述分割图像输入预设的硅片缺陷分类模型中，通过所述缺陷分类模型中的特征提取部分对所述分割图像进行特征提取，得到所述分割图像的特征图；通过所述缺陷分类模型中的感兴趣区域部分提取所述特征图的感兴趣区域；将所述感兴趣区域通过所述缺陷分类模型中ROI 池化层和全局平均池化层到达两个全连接层，分别得到目标太阳能硅片的缺陷类型和缺陷位置。6.根据权利要求5所述的太阳能硅片视觉检测方法，其特征在于，所述对所述第四图像进行缺陷分割，得到所述第四图像对应的缺陷图像包括：将所述第四图像输入预设的缺陷分割模型中，通过所述缺陷分割模型中的收缩路径和扩张路径得到多个通道维度下的图像特征；通过所述缺陷分割模型中的特征融合层将多个通道维度下的图像特征进行特征融合，得到融合特征；将所述融合特征输入所述缺陷分割模型中的卷积分类层，得到所述第四图像中各像素的像素标签，并根据所述像素标签对所述第四图像进行图像分割，得到所述第四图像对应的缺陷图像。7.根据权利要求1所述的太阳能硅片视觉检测方法，其特征在于，在所述基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果之后，还包括：识别所述目标太阳能硅片上多个硅片区域的区域中心点；计算各区域中心点与所述目标太阳能硅片的硅片中心点之间的距离值；获取预设的各硅片区域与硅片中心点之间的规定距离，并计算所述规定距离与所述距离值之间的偏差值；根据偏差值大于预设偏差阈值的硅片区域评估所述目标太阳能硅片的几何偏差。8.一种太阳能硅片视觉检测装置，其特征在于，所述太阳能硅片视觉检测装置应用于视觉检测仪，所述视觉检测仪包括多个检测工位，各检测工位上安装有对应数量的工业相机，所述太阳能硅片视觉检测装置包括：拍摄模块，用于当目标太阳能硅片进入所述多个检测工位中的第一工位和第二工位时，通过所述第一工位和所述第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像；位置校准模块，用于分别根据所述第一图像和所述第二图像对所述目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，分别得到所述目标太阳能硅片的硅片位置和所述网板的网板位置，并基于所述硅片位置和所述网板位置对所述目标太阳能硅片进行位置校准；破片检测模块，用于当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像，根据所述第三图像对所述目标太阳能硅片进行破片检测，得到第一检测结果；质量检测模块，用于当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像，并根据所述第四图像对所述目标太阳能硅片进行质量检测，得到第二检测结果；结果生成模块，用于基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。9.一种太阳能硅片视觉检测设备，其特征在于，所述太阳能硅片视觉检测设备包括：存储器和至少一个处理器，所述存储器中存储有指令；所述至少一个处理器调用所述存储器中的所述指令，以使得所述太阳能硅片视觉检测设备执行如权利要求1-7中任意一项所述的太阳能硅片视觉检测方法的步骤。10.一种计算机可读存储介质，所述计算机可读存储介质上存储有指令，其特征在于，所述指令被处理器执行时实现如权利要求1-7中任意一项所述太阳能硅片视觉检测方法的步骤。
说明书desc
技术领域本发明涉及能耗预测领域，尤其涉及一种太阳能硅片视觉检测方法、装置、设备及存储介质。背景技术太阳能硅片是一种制备太阳能电池的关键材料，其表面光洁度和质量直接影响太阳能电池的发电效率和寿命。在太阳能硅片的生产过程中，需要进行视觉检测，包括定位、校准、破片检测和质量检测等环节。然而，在现有的生产流程中在定位和校准环节，现有的生产线采用手工操作的方式进行定位和校准，容易受到工人个体技能水平和操作经验的影响，导致位置和角度的误差和不一致性。在破片检测和质量检测环节，传统的生产线依赖于人眼的视觉判断，难以准确识别微小的缺陷和瑕疵，容易漏检或误判。以上问题都导致了太阳能硅片生产流程的顺畅性和高效性不够理想，对生产效率和产品质量产生了一定的影响。发明内容本发明的主要目的在于解决现有的太阳能硅片检测容易漏检或误判的技术问题。本发明第一方面提供了一种太阳能硅片视觉检测方法，所述太阳能硅片视觉检测装置应用于视觉检测仪，所述视觉检测仪包括多个检测工位，各检测工位上安装有对应数量的工业相机，所述太阳能硅片视觉检测方法包括：当目标太阳能硅片进入所述多个检测工位中的第一工位和第二工位时，通过所述第一工位和所述第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像；分别根据所述第一图像和所述第二图像对所述目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，分别得到所述目标太阳能硅片的硅片位置和所述网板的网板位置，并基于所述硅片位置和所述网板位置对所述目标太阳能硅片进行位置校准；当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像，根据所述第三图像对所述目标太阳能硅片进行破片检测，得到第一检测结果；当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像，并根据所述第四图像对所述目标太阳能硅片进行质量检测，得到第二检测结果；基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。可选的，在本发明第一方面的第一种实现方式中，所述第一工位上安装有两组工业相机，当所述目标太阳能硅片上存在mark点时使用第一组工业相机，当所述目标太阳能硅片上不存在mark点时使用第二组工业相机，所述第一组工业相机包括四个工业相机；在所述当目标太阳能硅片进入所述多个检测工位中的第一工位和第二工位时，通过所述第一工位和所述第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像之前，还包括：通过所述第一组工业相机中的四个相机分别拍摄预设的棋盘格标定板，分别得到四张标定图像，并对所述四张标定图像进行角点提取，得到所述四张标定图像中对应角点的像素坐标；将各标定图像中对应角点的像素坐标转换至所述棋盘格标定板对应的棋盘格坐标系，并获取各角点之间连线中心点的棋盘格坐标以及对角线角度；基于所述棋盘格坐标以及对角线角度计算所述连线中心点与预设的示教中心点之间的偏差值，并将所述偏差值转换至物理坐标系得到对应工业相机的偏移量，根据所述偏移量调整对应的工业相机的外参。可选的，在本发明第一方面的第二种实现方式中，所述分别根据所述第一图像和所述第二图像对所述目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，分别得到所述目标太阳能硅片的硅片位置和所述网板的网板位置，并基于所述硅片位置和所述网板位置对所述目标太阳能硅片进行位置校准包括：分别对所述第一图像和所述第二图像进行mark点检测，确定所述第一图像和所述第二图像中的mark点；分别获取所述第一图像和所述第二图像中mark点的像素坐标，并对所述mark点的像素坐标进行坐标转换，分别得到所述目标太阳能硅片上的mark点的第一物理坐标以及所述网板上的mark点的第二物理坐标；根据所述第一物理坐标和所述第二物理坐标判断所述目标太阳能硅片和所述网板之间是否符合预设的位置关系；若否，则根据所述第一物理坐标和所述第二物理坐标对所述目标太阳能硅片进行位置校准。可选的，在本发明第一方面的第三种实现方式中，所述当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像，根据所述第三图像对所述目标太阳能硅片进行破片检测，得到第一检测结果包括：当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像；对所述第三图像进行灰度处理和形态学处理，得到所述第三图像对应的预处理图像；对所述预处理图像进行连通组件分析，判断所述第三图像是否存在破片区域，得到识别结果，并将所述识别结果作为第一检测结果。可选的，在本发明第一方面的第四种实现方式中，所述当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像，并根据所述第四图像对所述目标太阳能硅片进行质量检测，得到第二检测结果包括：当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像；对所述第四图像进行缺陷像素级分割，得到分割图像，并根据所述分割图像确定所述目标太阳能硅片是否存在质量缺陷；若存在，则将所述分割图像输入预设的硅片缺陷分类模型中，通过所述缺陷分类模型中的特征提取部分对所述分割图像进行特征提取，得到所述分割图像的特征图；通过所述缺陷分类模型中的感兴趣区域部分提取所述特征图的感兴趣区域；将所述感兴趣区域通过所述缺陷分类模型中ROI 池化层和全局平均池化层到达两个全连接层，分别得到目标太阳能硅片的缺陷类型和缺陷位置。可选的，在本发明第一方面的第五种实现方式中，所述对所述第四图像进行缺陷分割，得到所述第四图像对应的缺陷图像包括：将所述第四图像输入预设的缺陷分割模型中，通过所述缺陷分割模型中的收缩路径和扩张路径得到多个通道维度下的图像特征；通过所述缺陷分割模型中的特征融合层将多个通道维度下的图像特征进行特征融合，得到融合特征；将所述融合特征输入所述缺陷分割模型中的卷积分类层，得到所述第四图像中各像素的像素标签，并根据所述像素标签对所述第四图像进行图像分割，得到所述第四图像对应的缺陷图像。可选的，在本发明第一方面的第六种实现方式中，在所述基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果之后，还包括：识别所述目标太阳能硅片上多个硅片区域的区域中心点；计算各区域中心点与所述目标太阳能硅片的硅片中心点之间的距离值；获取预设的各硅片区域与硅片中心点之间的规定距离，并计算所述规定距离与所述距离值之间的偏差值；根据偏差值大于预设偏差阈值的硅片区域评估所述目标太阳能硅片的几何偏差。本发明第二方面提供了一种太阳能硅片视觉检测装置，所述太阳能硅片视觉检测装置应用于视觉检测仪，所述视觉检测仪包括多个检测工位，各检测工位上安装有对应数量的工业相机，所述太阳能硅片视觉检测装置包括：拍摄模块，用于当目标太阳能硅片进入所述多个检测工位中的第一工位和第二工位时，通过所述第一工位和所述第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像；位置校准模块，用于分别根据所述第一图像和所述第二图像对所述目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，分别得到所述目标太阳能硅片的硅片位置和所述网板的网板位置，并基于所述硅片位置和所述网板位置对所述目标太阳能硅片进行位置校准；破片检测模块，用于当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像，根据所述第三图像对所述目标太阳能硅片进行破片检测，得到第一检测结果；质量检测模块，用于当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像，并根据所述第四图像对所述目标太阳能硅片进行质量检测，得到第二检测结果；结果生成模块，用于基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。本发明第三方面提供了一种太阳能硅片视觉检测装置，包括：存储器和至少一个处理器，所述存储器中存储有指令，所述存储器和所述至少一个处理器通过线路互连；所述至少一个处理器调用所述存储器中的所述指令，以使得所述太阳能硅片视觉检测设备执行上述的太阳能硅片视觉检测方法的步骤。本发明的第四方面提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有指令，当其在计算机上运行时，使得计算机执行上述的太阳能硅片视觉检测方法的步骤。上述太阳能硅片视觉检测方法、装置、设备及存储介质，通过视觉检测仪上的第一工位和第二工位对目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，进而实现位置校正，然后通过第三工位对目标太阳能硅片进行破片检测，得到第一检测结果，通过第四工位对目标太阳能硅片进行质量检测，得到第二检测结果，基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。本方法过整合多个工位，实现了太阳能硅片生产流程的连续性和高效性。每个工位都承担了不同的任务，如定位、校准、破片检测和质量检测，各个工位之间协同合作，使得整个生产过程更加顺畅和高效。本发明的其他特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点在说明书、权利要求书以及附图中所特别指出的结构来实现和获得。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明图1为本发明实施例中太阳能硅片视觉检测方法的一个实施例示意图；图2为本发明实施例中太阳能硅片视觉检测装置的一个实施例示意图；图3为本发明实施例中太阳能硅片视觉检测装置的另一个实施例示意图；图4为本发明实施例中太阳能硅片视觉检测设备的一个实施例示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合附图对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明实施例中所提到的术语“包括”和“具有”以及它们的任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括其他没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其它步骤或单元。为便于对本实施例进行理解，首先对本发明实施例所公开的一种太阳能硅片视觉检测方法进行详细介绍。所述太阳能硅片视觉检测方法应用于视觉检测仪，所述视觉检测仪包括多个检测工位，各检测工位上安装有对应数量的工业相机，如图1所示，该太阳能硅片视觉检测的方法，本方法包括如下步骤：101、当目标太阳能硅片进入多个检测工位中的第一工位和第二工位时，通过第一工位和第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像；在本实施例中，所述第一工位上安装有两组工业相机，当所述目标太阳能硅片上存在mark点时使用第一组工业相机，当所述目标太阳能硅片上不存在mark点时使用第二组工业相机，所述第一组工业相机包括四个工业相机；在所述当目标太阳能硅片进入所述多个检测工位中的第一工位和第二工位时，通过所述第一工位和所述第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像之前，还包括：通过所述第一组工业相机中的四个相机分别拍摄预设的棋盘格标定板，分别得到四张标定图像，并对所述四张标定图像进行角点提取，得到所述四张标定图像中对应角点的像素坐标；将各标定图像中对应角点的像素坐标转换至所述棋盘格标定板对应的棋盘格坐标系，并获取各角点之间连线中心点的棋盘格坐标以及对角线角度；基于所述棋盘格坐标以及对角线角度计算所述连线中心点与预设的示教中心点之间的偏差值，并将所述偏差值转换至物理坐标系得到对应工业相机的偏移量，根据所述偏移量调整对应的工业相机的外参。具体的，在工业相机进行拍摄使用前，需要对这些工业相机进行标定，通过标定，可以确定相机的内参和外参，以便将图像中的像素坐标转换为物理空间中的实际坐标。通过相机标定，可以消除图像畸变、修正相机的姿态和位置等问题，提高图像测量和目标跟踪的精度和准确性。在进行标定之前，需要准备一个规格已知、边缘明显的棋盘格。这个棋盘格可以是黑白相间的方格或其他形状，但必须满足一定的规格和边缘特征，以便后续算法能够识别和定位它。将棋盘格固定在一个平整的表面上，保证它的位置和朝向不变，当工业相机不为一组时，将相机对准棋盘格，用相机拍摄几张图像，为了获得更好的效果，应该采用多个不同角度和距离的拍摄，以覆盖不同的视角和成像情况。当工业相机为一组时，例如在本实施例中，第一组工业相机包括四个工业相机，则通过这四个工业相机进行拍摄，对于每个拍摄的图像，需要使用计算机视觉算法来检测和定位棋盘格中的方格和交点。这可以通过寻找图像中的棋盘格边缘、拟合角点、去除噪声等方式来实现。然后根据棋盘格的已知规格，将每个图像中检测到的角点与真实世界坐标系中的对应点进行匹配，得到每个点的像素坐标和世界坐标。接着，使用相机标定算法对这些像素坐标和世界坐标进行处理，以计算相机的内部参数，如焦距、畸变等，和外部参数包括相机的位置和朝向。这个过程通常会使用非线性优化等方法，以提高标定结果的准确性和稳定性。最后，通过将相机的内部参数和外部参数转化为相应的矩阵形式，就可以将图像中的像素坐标转换为真实世界中的物理坐标。具体的，在进行标定的过程中，选择一个作为参考的示教中心点，通常位于工作区域的中心位置。这个示教中心点的物理坐标是已知的。对于每个相机，根据连线中心点和示教中心点的坐标差异，计算出相机在棋盘格坐标系中的偏差向量。这个偏差向量可以表示相机在棋盘格坐标系中的位置偏移。将偏差向量从棋盘格坐标系转换到物理坐标系。为此，需要使用相机的外参矩阵，包括相机的旋转矩阵和平移向量，以及相机的内参矩阵和畸变参数。将转换后的偏差向量作为相机在物理坐标系中的偏移量，表示相机相对于示教中心点的位置偏移，基于该偏移量可以调整相机的外参。102、分别根据第一图像和第二图像对目标太阳能硅片以及目标太阳能硅片对应的网板进行定位，分别得到目标太阳能硅片的硅片位置和网板的网板位置，并基于硅片位置和网板位置对目标太阳能硅片进行位置校准；在本发明的一个实施例中，所述分别根据所述第一图像和所述第二图像对所述目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，分别得到所述目标太阳能硅片的硅片位置和所述网板的网板位置，并基于所述硅片位置和所述网板位置对所述目标太阳能硅片进行位置校准包括：分别对所述第一图像和所述第二图像进行mark点检测，确定所述第一图像和所述第二图像中的mark点；分别获取所述第一图像和所述第二图像中mark点的像素坐标，并对所述mark点的像素坐标进行坐标转换，分别得到所述目标太阳能硅片上的mark点的第一物理坐标以及所述网板上的mark点的第二物理坐标；根据所述第一物理坐标和所述第二物理坐标判断所述目标太阳能硅片和所述网板之间是否符合预设的位置关系；若否，则根据所述第一物理坐标和所述第二物理坐标对所述目标太阳能硅片进行位置校准。具体的，太阳能硅片上通常会设置mark点，这些mark点通常是一些特定的标记点，用于在生产、加工和测试过程中进行定位和追踪。这些mark点通常包括用于对齐、定位或识别的图案、符号或者几何形状。在太阳能硅片生产过程中，mark点可以被用来帮助设备进行自动定位和校准，确保各个加工步骤的准确性和一致性。例如，在光刻过程中，mark点可以被用来进行对准，以确保不同图层之间的准确叠加。在切割和加工过程中，mark点可以被用来进行定位，确保切割和加工的精度和一致性。而在本实施例中，在太阳能硅片的最终测试和质量控制环节，mark点可以被用来进行识别和定位，以进行各种参数的测试和评估，此外，某些情况下，可能不会在太阳能硅片上设置mark点，在某些太阳能硅片上不设置mark点可能是由于制造工艺的不同或者生产成本的考虑，这种情况下使用第二组工业相机，使用一个相机拍摄太阳能硅片，并通过视觉算法确定目标太阳能硅片的硅片位置。具体的，对于拍摄到的mark点图像，需要使用计算机视觉技术进行mark点的检测和提取。常用的方法包括基于边缘检测的方法、基于阈值分割的方法以及基于模板匹配的方法等。在检测到mark点后，需要计算mark点在图像中的像素坐标。可以使用图像处理库或机器视觉软件来自动计算mark点的像素坐标。旦获得了mark点在图像中的像素坐标，就可以进行坐标转换，将像素坐标转换为实际物理坐标。这可以使用线性或非线性的变换方法，如最小二乘法或透视变换。在网板的实际物理坐标和太阳能硅片的实际物理坐标后，根据这些物理坐标之间的位置关系，即可确定网板和太阳能硅片之间的位置关系是否正确，进行实现网板和太阳能硅板之间的位置校准。103、当位置校准后的目标太阳能硅片进入多个检测工位中的第三工位时，通过第三工位上的工业相机进行图像拍摄，得到第三图像，根据第三图像对目标太阳能硅片进行破片检测，得到第一检测结果；在本发明的一个实施例中，所述当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像，根据所述第三图像对所述目标太阳能硅片进行破片检测，得到第一检测结果包括：当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像；对所述第三图像进行灰度处理和形态学处理，得到所述第三图像对应的预处理图像；对所述预处理图像进行连通组件分析，判断所述第三图像是否存在破片区域，得到识别结果，并将所述识别结果作为第一检测结果。具体的，在实际应用中，将破片检测与一般的质量检测进行划分，这是因为一般的AOI主要用于检测PCB板上的线路连接、元器件安装等缺陷，而破片检测则专门用于检测PCB板上的碎片、毛刺等破片类缺陷。此外一般的AOI通常采用图像比对或模板匹配的方式进行检测，而破片检测则需要采用形态学分析、灰度图像处理等特殊算法进行检测。具体的，在进行破片检测的过程中，首先，将原始硅片图像转换为灰度图像。接着，可以应用平滑滤波器，如高斯滤波器，以减少噪音并平滑图像。使用合适的阈值方法将灰度图像转换为二值图像。常用的方法包括全局阈值、自适应阈值等。目标是将图像分割为前景和背景。然后进行形态学操作，具体的，可以使用膨胀、腐蚀、开运算和闭运算等操作，最后，可以使用连通组件分析识别并标记图像中的破片区域。具体的，对二值化后的图像进行连通组件分析，找出所有连通的像素区域。这可以通过扫描整个图像，根据像素之间的连接关系来识别不同的连通区域。对每个连通区域进行标记，可以为每个连通区域分配一个唯一的标签。这样就可以区分不同的破片区域，并为它们进行标记。最后，根据实际需求，可以根据连通区域的大小、形状等特征来筛选出破片区域，并对其进行进一步处理或标记。104、当目标太阳能硅片进入多个检测工位中的第四工位时，通过第四工位上的工业相机进行图像拍摄，得到第四图像，并根据第四图像对目标太阳能硅片进行质量检测，得到第二检测结果；在本发明的一个实施例中，所述当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像，并根据所述第四图像对所述目标太阳能硅片进行质量检测，得到第二检测结果包括：当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像；对所述第四图像进行缺陷像素级分割，得到分割图像，并根据所述分割图像确定所述目标太阳能硅片是否存在质量缺陷；若存在，则将所述分割图像输入预设的硅片缺陷分类模型中，通过所述缺陷分类模型中的特征提取部分对所述分割图像进行特征提取，得到所述分割图像的特征图；通过所述缺陷分类模型中的感兴趣区域部分提取所述特征图的感兴趣区域；将所述感兴趣区域通过所述缺陷分类模型中ROI 池化层和全局平均池化层到达两个全连接层，分别得到目标太阳能硅片的缺陷类型和缺陷位置。具体的，在进行质量检测的过程中，需要注意的是，受限于客观条件，所获得的样本可能含有较强的噪声，需要在后续的步骤中进行第四图像的图像预处理。然后为太阳能硅片缺陷特征提取模块，由于太阳能硅片图像中含有不同类型的缺陷，为了更好地对缺陷定位与分类，本实施例中使用基于改进ResNET模型的太阳能硅片缺陷特征提取模型。最后为缺陷位置定位和检测识别模块，利用检测模块速度快、精度高的特点对太阳能硅片缺陷进行精确检测，从而提高算法在各种场景下的通用性和鲁棒性，使检测变得快速、准确，且无需重复计算，太阳能硅片的质量缺陷检测大致可以分成以下几种缺陷类型，包括印刷银浆飞溅白点、外形缺陷、缺角、崩边和断栅等，通过首先，利用改进的 ResNET 网络进行硅片特征提取；其次，基于 RPN 网络来实现对感兴趣区域的提取，最后，将特征图像对应的每个感兴趣区域通过 ROI 池化层和全局平均池化层到达两个全连接层，一个为检测缺陷分类另一个为硅片缺陷精确定位。具体的，感兴趣区域部分，包含 2 条线路，其中一条路径是将特征图送入到区域建议网络通过锚来生成预选框，通过 softmax确定锚是正的还是负的，通过 softmax 进行回归边界盒来调整锚点，以得出准确的建议。然后将它们输入到 ROI 区域中。另一条路径是直接将特征图送入 ROI，得到提议的特征图，送入后续的全连接层，对目标类别进行分类，然后对边界框进行回归，提取 ROI，最后，将 ROI池化的输出输入到全连接层和激活层中，计算每个像素所属的具体类别，并给出概率向量 Cls，即可得到得到目标太阳能硅片的缺陷类型和缺陷位置。进一步的，所述对所述第四图像进行缺陷分割，得到所述第四图像对应的缺陷图像包括：将所述第四图像输入预设的缺陷分割模型中，通过所述缺陷分割模型中的收缩路径和扩张路径得到多个通道维度下的图像特征；通过所述缺陷分割模型中的特征融合层将多个通道维度下的图像特征进行特征融合，得到融合特征；将所述融合特征输入所述缺陷分割模型中的卷积分类层，得到所述第四图像中各像素的像素标签，并根据所述像素标签对所述第四图像进行图像分割，得到所述第四图像对应的缺陷图像。具体的，本实施例中，将采集到的太阳能硅片图像转换为模型可以处理的标准输入格式，并进行图像增强和归一化等处理，以提高模型的稳定性和鲁棒性。使用全卷积网络模型对太阳能硅片图像进行特征提取。该模型由收缩路径和扩张路径组成，其中收缩路径负责提取图像的低级特征，扩张路径则通过上采样操作将特征图还原到原始图像大小，同时结合收缩路径中的特征来实现语义分割。在FCN模型中加入Depth-Concatenation层来拼接特征，将通道不同维度特征进行连接，形成表达力更强的特征图。这样可以提高模型的分辨率和准确性，从而更好地识别硅片缺陷。为了得到硅片缺陷分割更加准确，引入大量的特征通道，使网络将硅片图像的背景特征传播到更高的分辨率层中。通过上采样的方法将特征图恢复到原始图像大小，以便进行后续的缺陷分割。通过镜像输入图像预测图像边界区域像素，预测出硅片中存在的缺陷区域。其中，舍弃了全连接层，只使用每个卷积的有效部分，降低对计算资源的要求以破除对图像尺寸的限制。最后将模型预测出的缺陷区域与原始图像进行比对，标记出所有的硅片缺陷，并将其分割出来。最后，输出硅片缺陷分割的结果，以供后续的质量检测和修复工作使用。105、基于第一检测结果和第二检测结果生成目标太阳能硅片的视觉检测结果。在本发明的一个实施例中，视觉检测结果综合了两个检测过程的信息。第一检测结果是通过对目标太阳能硅片进行破片检测得到的，它可以说明硅片表面是否存在破损或缺陷。第二检测结果是通过对目标太阳能硅片进行质量检测得到的，它可以说明硅片是否符合质量标准，是否具有良好的电气性能。基于这两个检测结果，可以综合评估目标太阳能硅片的整体质量和可用性。如果第一检测结果和第二检测结果都显示目标太阳能硅片没有破损并且符合质量标准，那么可以得出一个较为理想的视觉检测结果，认为目标硅片是合格的，并且可以继续后续工艺流程。反之，如果任何一个检测结果显示硅片存在破损或者不符合质量标准，那么可以得出相应的视觉检测结果，认为目标硅片是不合格的，并采取相应的措施进行处理，比如剔除或修复。进一步的，在所述基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果之后，还包括：识别所述目标太阳能硅片上多个硅片区域的区域中心点；计算各区域中心点与所述目标太阳能硅片的硅片中心点之间的距离值；获取预设的各硅片区域与硅片中心点之间的规定距离，并计算所述规定距离与所述距离值之间的偏差值；根据偏差值大于预设偏差阈值的硅片区域评估所述目标太阳能硅片的几何偏差。具体的，通过图像处理技术，可以识别目标太阳能硅片上的多个硅片区域，并确定每个硅片区域的中心点位置。接下来，计算每个硅片区域的中心点与目标太阳能硅片的整体硅片中心点之间的距离值。这可以通过计算两个点之间的欧氏距离或其他适当的距离度量方法来实现。获取预设的各硅片区域与硅片中心点之间的规定距离。这个规定距离可以根据设计要求或制造标准进行设定，通常是一个确定的数值。计算所述规定距离与所述距离值之间的偏差值。将每个区域的距离值与对应的规定距离进行比较，并计算它们之间的差异。这个差异值可以表示硅片区域相对于整体硅片中心的偏移程度。根据偏差值大于预设偏差阈值的硅片区域评估目标太阳能硅片的几何偏差。如果某个硅片区域的偏差值超过了预设的偏差阈值，表示该区域的位置偏离了预期要求，存在几何偏差。这意味着硅片在制造过程中可能存在定位或加工问题。在本实施例中，通过视觉检测仪上的第一工位和第二工位对目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，进而实现位置校正，然后通过第三工位对目标太阳能硅片进行破片检测，得到第一检测结果，通过第四工位对目标太阳能硅片进行质量检测，得到第二检测结果，基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。本方法过整合多个工位，实现了太阳能硅片生产流程的连续性和高效性。每个工位都承担了不同的任务，如定位、校准、破片检测和质量检测，各个工位之间协同合作，使得整个生产过程更加顺畅和高效。上面对本发明实施例中太阳能硅片视觉检测方法进行了描述，下面对本发明实施例中太阳能硅片视觉检测装置进行描述，所述太阳能硅片视觉检测装置应用于视觉检测仪，所述视觉检测仪包括多个检测工位，各检测工位上安装有对应数量的工业相机，请参阅图2，本发明实施例中太阳能硅片视觉检测装置一个实施例包括：拍摄模块201，用于当目标太阳能硅片进入所述多个检测工位中的第一工位和第二工位时，通过所述第一工位和所述第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像；位置校准模块202，用于分别根据所述第一图像和所述第二图像对所述目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，分别得到所述目标太阳能硅片的硅片位置和所述网板的网板位置，并基于所述硅片位置和所述网板位置对所述目标太阳能硅片进行位置校准；破片检测模块203，用于当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像，根据所述第三图像对所述目标太阳能硅片进行破片检测，得到第一检测结果；质量检测模块204，用于当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像，并根据所述第四图像对所述目标太阳能硅片进行质量检测，得到第二检测结果；结果生成模块205，用于基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。本发明实施例中，所述太阳能硅片视觉检测装置运行上述太阳能硅片视觉检测方法，所述太阳能硅片视觉检测装置通过视觉检测仪上的第一工位和第二工位对目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，进而实现位置校正，然后通过第三工位对目标太阳能硅片进行破片检测，得到第一检测结果，通过第四工位对目标太阳能硅片进行质量检测，得到第二检测结果，基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。本方法过整合多个工位，实现了太阳能硅片生产流程的连续性和高效性。每个工位都承担了不同的任务，如定位、校准、破片检测和质量检测，各个工位之间协同合作，使得整个生产过程更加顺畅和高效。请参阅图3，本发明实施例中太阳能硅片视觉检测装置的第二个实施例包括：拍摄模块201，用于当目标太阳能硅片进入所述多个检测工位中的第一工位和第二工位时，通过所述第一工位和所述第二工位上的工业相机进行图像拍摄，分别得到第一图像和第二图像；位置校准模块202，用于分别根据所述第一图像和所述第二图像对所述目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，分别得到所述目标太阳能硅片的硅片位置和所述网板的网板位置，并基于所述硅片位置和所述网板位置对所述目标太阳能硅片进行位置校准；破片检测模块203，用于当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像，根据所述第三图像对所述目标太阳能硅片进行破片检测，得到第一检测结果；质量检测模块204，用于当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像，并根据所述第四图像对所述目标太阳能硅片进行质量检测，得到第二检测结果；结果生成模块205，用于基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。在本发明的一个实施例中，所述第一工位上安装有两组工业相机，当所述目标太阳能硅片上存在mark点时使用第一组工业相机，当所述目标太阳能硅片上不存在mark点时使用第二组工业相机，所述第一组工业相机包括四个工业相机；在所述太阳能硅片视觉检测装置还包括标定模块206，所述标定模块206具体用于：通过所述第一组工业相机中的四个相机分别拍摄预设的棋盘格标定板，分别得到四张标定图像，并对所述四张标定图像进行角点提取，得到所述四张标定图像中对应角点的像素坐标；将各标定图像中对应角点的像素坐标转换至所述棋盘格标定板对应的棋盘格坐标系，并获取各角点之间连线中心点的棋盘格坐标以及对角线角度；基于所述棋盘格坐标以及对角线角度计算所述连线中心点与预设的示教中心点之间的偏差值，并将所述偏差值转换至物理坐标系得到对应工业相机的偏移量，根据所述偏移量调整对应的工业相机的外参。在本发明的一个实施例中，所述位置校准模块202具体用于：分别对所述第一图像和所述第二图像进行mark点检测，确定所述第一图像和所述第二图像中的mark点；分别获取所述第一图像和所述第二图像中mark点的像素坐标，并对所述mark点的像素坐标进行坐标转换，分别得到所述目标太阳能硅片上的mark点的第一物理坐标以及所述网板上的mark点的第二物理坐标；根据所述第一物理坐标和所述第二物理坐标判断所述目标太阳能硅片和所述网板之间是否符合预设的位置关系；若否，则根据所述第一物理坐标和所述第二物理坐标对所述目标太阳能硅片进行位置校准。在本发明的一个实施例中，所述破片检测模块203具体用于：当位置校准后的目标太阳能硅片进入所述多个检测工位中的第三工位时，通过所述第三工位上的工业相机进行图像拍摄，得到第三图像；对所述第三图像进行灰度处理和形态学处理，得到所述第三图像对应的预处理图像；对所述预处理图像进行连通组件分析，判断所述第三图像是否存在破片区域，得到识别结果，并将所述识别结果作为第一检测结果。在本发明的一个实施例中，所述质量检测模块204包括：图像拍摄单元2041，用于当目标太阳能硅片进入所述多个检测工位中的第四工位时，通过所述第四工位上的工业相机进行图像拍摄，得到第四图像；分割判断单元2042，对所述第四图像进行缺陷像素级分割，得到分割图像，并根据所述分割图像确定所述目标太阳能硅片是否存在质量缺陷；特征提取单元2043，用于若存在，则将所述分割图像输入预设的硅片缺陷分类模型中，通过所述缺陷分类模型中的特征提取部分对所述分割图像进行特征提取，得到所述分割图像的特征图；感兴趣区域提取单元2044，用于通过所述缺陷分类模型中的感兴趣区域部分提取所述特征图的感兴趣区域；缺陷确定单元2045，用于将所述感兴趣区域通过所述缺陷分类模型中ROI 池化层和全局平均池化层到达两个全连接层，分别得到目标太阳能硅片的缺陷类型和缺陷位置。在本发明的一个实施例中，所述分割判断单元2042具体用于包括：将所述第四图像输入预设的缺陷分割模型中，通过所述缺陷分割模型中的收缩路径和扩张路径得到多个通道维度下的图像特征；通过所述缺陷分割模型中的特征融合层将多个通道维度下的图像特征进行特征融合，得到融合特征；将所述融合特征输入所述缺陷分割模型中的卷积分类层，得到所述第四图像中各像素的像素标签，并根据所述像素标签对所述第四图像进行图像分割，得到所述第四图像对应的缺陷图像。在本发明的一个实施例中，所述太阳能硅片视觉检测装置还包括偏差检测模块207：识别所述目标太阳能硅片上多个硅片区域的区域中心点；计算各区域中心点与所述目标太阳能硅片的硅片中心点之间的距离值；获取预设的各硅片区域与硅片中心点之间的规定距离，并计算所述规定距离与所述距离值之间的偏差值；根据偏差值大于预设偏差阈值的硅片区域评估所述目标太阳能硅片的几何偏差。本实施例在上一实施例的基础上，详细描述了各个模块的具体功能以及部分模块的单元构成，通过上述模块和模块中的各单元，通过视觉检测仪上的第一工位和第二工位对目标太阳能硅片以及所述目标太阳能硅片对应的网板进行定位，进而实现位置校正，然后通过第三工位对目标太阳能硅片进行破片检测，得到第一检测结果，通过第四工位对目标太阳能硅片进行质量检测，得到第二检测结果，基于所述第一检测结果和所述第二检测结果生成所述目标太阳能硅片的视觉检测结果。本方法过整合多个工位，实现了太阳能硅片生产流程的连续性和高效性。每个工位都承担了不同的任务，如定位、校准、破片检测和质量检测，各个工位之间协同合作，使得整个生产过程更加顺畅和高效。上面图2和图3从模块化功能实体的角度对本发明实施例中的中太阳能硅片视觉检测装置进行详细描述，下面从硬件处理的角度对本发明实施例中太阳能硅片视觉检测设备进行详细描述。图4是本发明实施例提供的一种太阳能硅片视觉检测设备的结构示意图，该太阳能硅片视觉检测设备400可因配置或性能不同而产生比较大的差异，可以包括一个或一个以上处理器410和存储器420，一个或一个以上存储应用程序433或数据432的存储介质430。其中，存储器420和存储介质430可以是短暂存储或持久存储。存储在存储介质430的程序可以包括一个或一个以上模块，每个模块可以包括对太阳能硅片视觉检测设备400中的一系列指令操作。更进一步地，处理器410可以设置为与存储介质430通信，在太阳能硅片视觉检测设备400上执行存储介质430中的一系列指令操作，以实现上述太阳能硅片视觉检测方法的步骤。太阳能硅片视觉检测设备400还可以包括一个或一个以上电源440，一个或一个以上有线或无线网络接口450，一个或一个以上输入输出接口460，和/或，一个或一个以上操作系统431，例如Windows Serve，Mac OS X，Unix，Linux，FreeBSD等等。本领域技术人员可以理解，图4示出的太阳能硅片视觉检测设备结构并不构成对本发明提供的太阳能硅片视觉检测设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。本发明还提供一种计算机可读存储介质，该计算机可读存储介质可以为非易失性计算机可读存储介质，该计算机可读存储介质也可以为易失性计算机可读存储介质，所述计算机可读存储介质中存储有指令，当所述指令在计算机上运行时，使得计算机执行所述太阳能硅片视觉检测方法的步骤。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统或装置、单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
