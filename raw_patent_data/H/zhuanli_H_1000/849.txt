标题title
一种AGV在双向路线上基于区域的避让方法
摘要abst
本发明公开了一种AGV在双向路线上基于区域的避让方法，涉及AGV/AMR路径规划与交通管制技术领域，包括：S1、避让区域绘制：根据区域绘制的原则，通过计算机绘图软件在电子地图中绘制出避让区域，用于表示真实避让区域；S2、判断逻辑设计；S3、判断逻辑运行；S4、车辆避让行驶。该AGV在双向路线上基于区域的避让方法，提供了一种新的双向路线的车辆避让思路，通过绘制区域的方式处理避让逻辑，将处理避让与路径规划分离开，虽然仍然需要在软件上做一定的适配，但是因为处理逻辑简单，规则单一，整个避让问题处理起来简单、可靠、效果好，既保证了车辆在双向路线上的行驶效率，也不易出现漏避让、误避让等情况。
权利要求书clms
1.一种AGV在双向路线上基于区域的避让方法，其特征在于，包括以下具体步骤：S1、避让区域绘制：根据区域绘制的原则，通过计算机绘图软件在电子地图中绘制出避让区域，用于表示真实避让区域；S2、判断逻辑设计：对控制车辆行驶的计算机内的程序参数进行判断逻辑设计，并在车辆上装载无线信号设备和定位设备，用于计算机与车辆无线交互；S3、判断逻辑运行：在双向路线上行驶的车辆通过定位设备进行实时定位，并通过无线信号设备将实时位置信息发送给计算机，计算机根据判断逻辑，结合各车辆的实时位置信息进行判断处理，发送行驶指令给各车辆；S4、车辆避让行驶：双向路线上的车辆接收指令后，遵循计算机的行驶指令，按照判断逻辑在双向路线上行驶，达到准确避让效果。2.根据权利要求1所述的一种AGV在双向路线上基于区域的避让方法，其特征在于，所述步骤S1中，区域绘制的原则如下：一是将相邻的两个避让点绘制到一个避让区域中，一个避让点可能在多个区域中；二是在连续的避让区域外面的点上等待时，不能阻挡从避让区域里行驶出来的车辆。3.根据权利要求1所述的一种AGV在双向路线上基于区域的避让方法，其特征在于，所述步骤S1中，避让区域是一组点和线的集合，其中，点用于表示避让点，线用于表示车辆行驶线路。4.根据权利要求1所述的一种AGV在双向路线上基于区域的避让方法，其特征在于，所述步骤S2中，判断逻辑如下：一是每个避让区域最多只允许两辆车进入；二是车辆在准备进入避让区域时，判断要进入的避让区域里是否有其他车辆。5.根据权利要求1所述的一种AGV在双向路线上基于区域的避让方法，其特征在于，所述步骤S3中，准备进入避让区域的车辆的判断结果有且只有三种，分别是避让区域内没有车辆、已经有一辆车和已经有两辆车。6.根据权利要求5所述的一种AGV在双向路线上基于区域的避让方法，其特征在于，所述步骤S3中，若判断结果为没有车辆，则计算机发送的行驶指令为本车可以进入避让区域。7.根据权利要求5所述的一种AGV在双向路线上基于区域的避让方法，其特征在于，所述步骤S3中，若判断结果为已经有一辆车，则将准备进入避让区域的车辆记为A车，避让区域内已有的车辆记为B车，并对A车和B车的行驶状态进行进一步判断，以确定A车后续行驶指令。8.根据权利要求7所述的一种AGV在双向路线上基于区域的避让方法，其特征在于，所述步骤S3中，进一步判断的结果及其对应的A车后续行驶指令如下：第一种，如果B车的行驶方向与要进入避让区域的A车行驶方向相反，则A车的行驶指令为可以进入区域且需要去最近的避让点避让；第二种，如果B车的行驶方向与要进入的避让区域的A车像是方向相同，则A车的行驶指令为不能进入区域，需要等待；第三种，如果B车已经准备为A车避让或B车正在去往避让点的路上，则A车的行驶指令为可以进入避让区域。9.根据权利要求5所述的一种AGV在双向路线上基于区域的避让方法，其特征在于，所述步骤S3中，若判断结果为已经有两辆车，则计算机发送的行驶指令为本车不可以进入避让区域。10.根据权利要求1所述的一种AGV在双向路线上基于区域的避让方法，其特征在于，所述步骤S4中，同一双向路线上的车辆受到同一计算机的控制，且不同车辆同步接收计算机发送的行驶指令。
说明书desc
技术领域本发明涉及AGV/AMR路径规划与交通管制技术领域，具体为一种AGV在双向路线上基于区域的避让方法。背景技术双向路线是指一段路线没有行驶方向限制，车辆在该路线上可以沿路线的左右两个方向行驶。AGV/AMR行驶路线中如果某一段是双向路线，那么必须要处理头对头死锁问题，死锁是指相向行驶的两辆车同时驶入同一段双向路线。但是现实中由于场地宽度等因素的制约，有时无法使用两条单向路线，而只能使用一条双向路线，左右两个方向行驶的车辆都要使用该路线通过，这种情况下会存在上述的死锁问题。为了解决死锁问题，可以让车辆判断如果该双向路线已经被其他车辆已经锁定，则本车在双向路线外等待，等锁定车辆通过后，本车再进入双向路线。这种模式可以保证双向路线上不会死锁，但是缺点是运行效率低下，特别是双向路线如果是一条狭长的通道时，效率低下的缺点会更明显。为了提高在双向路线上行驶的效率，很多实际场景会考虑在狭长的双向通道上添加避让点，此时车辆可以相向行驶，其中一辆车可以去避让点避让，等另外一辆车通过后，再出来继续行驶，这种方式可以大大提高效率。但是如果避让点很多时，此时仍然采取在路径规划算法中去处理避让，会增加算法的复杂度，且由于评估因子等参数的影响，很容易出现漏避让、误避让等情况，在实际工程中效率并不理想。因此，急需对此缺点进行改进，本发明则是针对现有的结构及不足予以研究改良，提供有一种AGV在双向路线上基于区域的避让方法。发明内容本发明的目的在于提供一种AGV在双向路线上基于区域的避让方法，以解决上述背景技术中提出的问题。为实现上述目的，本发明提供如下技术方案：一种AGV在双向路线上基于区域的避让方法，包括以下具体步骤：S1、避让区域绘制：根据区域绘制的原则，通过计算机绘图软件在电子地图中绘制出避让区域，用于表示真实避让区域；S2、判断逻辑设计：对控制车辆行驶的计算机内的程序参数进行判断逻辑设计，并在车辆上装载无线信号设备和定位设备，用于计算机与车辆无线交互；S3、判断逻辑运行：在双向路线上行驶的车辆通过定位设备进行实时定位，并通过无线信号设备将实时位置信息发送给计算机，计算机根据判断逻辑，结合各车辆的实时位置信息进行判断处理，发送行驶指令给各车辆；S4、车辆避让行驶：双向路线上的车辆接收指令后，遵循计算机的行驶指令，按照判断逻辑在双向路线上行驶，达到准确避让效果。进一步的，所述步骤S1中，区域绘制的原则如下：一是将相邻的两个避让点绘制到一个避让区域中，一个避让点可能在多个区域中；二是在连续的避让区域外面的点上等待时，不能阻挡从避让区域里行驶出来的车辆。进一步的，所述步骤S1中，避让区域是一组点和线的集合，其中，点用于表示避让点，线用于表示车辆行驶线路。进一步的，所述步骤S2中，判断逻辑如下：一是每个避让区域最多只允许两辆车进入；二是车辆在准备进入避让区域时，判断要进入的避让区域里是否有其他车辆。进一步的，所述步骤S3中，准备进入避让区域的车辆的判断结果有且只有三种，分别是避让区域内没有车辆、已经有一辆车和已经有两辆车。进一步的，所述步骤S3中，若判断结果为没有车辆，则计算机发送的行驶指令为本车可以进入避让区域。进一步的，所述步骤S3中，若判断结果为已经有一辆车，则将准备进入避让区域的车辆记为A车，避让区域内已有的车辆记为B车，并对A车和B车的行驶状态进行进一步判断，以确定A车后续行驶指令。进一步的，所述步骤S3中，进一步判断的结果及其对应的A车后续行驶指令如下：第一种，如果B车的行驶方向与要进入避让区域的A车行驶方向相反，则A车的行驶指令为可以进入区域且需要去最近的避让点避让；第二种，如果B车的行驶方向与要进入的避让区域的A车像是方向相同，则A车的行驶指令为不能进入区域，需要等待；第三种，如果B车已经准备为A车避让或B车正在去往避让点的路上，则A车的行驶指令为可以进入避让区域。进一步的，所述步骤S3中，若判断结果为已经有两辆车，则计算机发送的行驶指令为本车不可以进入避让区域。进一步的，所述步骤S4中，同一双向路线上的车辆受到同一计算机的控制，且不同车辆同步接收计算机发送的行驶指令。本发明提供了一种AGV在双向路线上基于区域的避让方法，具备以下有益效果：本发明提供了一种新的双向路线的车辆避让思路，通过绘制区域的方式处理避让逻辑，将处理避让与路径规划分离开，虽然仍然需要在软件上做一定的适配，但是因为处理逻辑简单，规则单一，整个避让问题处理起来简单、可靠、效果好，既保证了车辆在双向路线上的行驶效率，也不易出现漏避让、误避让等情况。附图说明图1为本发明一种AGV在双向路线上基于区域的避让方法的运行流程图。图2为本发明一种AGV在双向路线上基于区域的避让方法的避让区域-避让点示意图；图3为本发明一种AGV在双向路线上基于区域的避让方法的判断逻辑示意图。具体实施方式下面结合附图和实施例对本发明的实施方式作进一步详细描述。以下实施例用于说明本发明，但不能用来限制本发明的范围。如图1-图3所示，一种AGV在双向路线上基于区域的避让方法，包括以下具体步骤：S1、避让区域绘制：根据区域绘制的原则，通过计算机绘图软件在电子地图中绘制出避让区域，用于表示真实避让区域；步骤S1中，区域绘制的原则如下：一是将相邻的两个避让点绘制到一个避让区域中，一个避让点可能在多个区域中；二是在连续的避让区域外面的点上等待时，不能阻挡从避让区域里行驶出来的车辆；步骤S1中，避让区域是一组点和线的集合，其中，点用于表示避让点，线用于表示车辆行驶线路；S2、判断逻辑设计：对控制车辆行驶的计算机内的程序参数进行判断逻辑设计，并在车辆上装载无线信号设备和定位设备，用于计算机与车辆无线交互；步骤S2中，判断逻辑如下：一是每个避让区域最多只允许两辆车进入；二是车辆在准备进入避让区域时，判断要进入的避让区域里是否有其他车辆；S3、判断逻辑运行：在双向路线上行驶的车辆通过定位设备进行实时定位，并通过无线信号设备将实时位置信息发送给计算机，计算机根据判断逻辑，结合各车辆的实时位置信息进行判断处理，发送行驶指令给各车辆；步骤S3中，准备进入避让区域的车辆的判断结果有且只有三种，分别是避让区域内没有车辆、已经有一辆车和已经有两辆车；步骤S3中，若判断结果为没有车辆，则计算机发送的行驶指令为本车可以进入避让区域；步骤S3中，若判断结果为已经有一辆车，则将准备进入避让区域的车辆记为A车，避让区域内已有的车辆记为B车，并对A车和B车的行驶状态进行进一步判断，以确定A车后续行驶指令；步骤S3中，进一步判断的结果及其对应的A车后续行驶指令如下：第一种，如果B车的行驶方向与要进入避让区域的A车行驶方向相反，则A车的行驶指令为可以进入区域且需要去最近的避让点避让；第二种，如果B车的行驶方向与要进入的避让区域的A车像是方向相同，则A车的行驶指令为不能进入区域，需要等待；第三种，如果B车已经准备为A车避让或B车正在去往避让点的路上，则A车的行驶指令为可以进入避让区域；步骤S3中，若判断结果为已经有两辆车，则计算机发送的行驶指令为本车不可以进入避让区域；S4、车辆避让行驶：双向路线上的车辆接收指令后，遵循计算机的行驶指令，按照判断逻辑在双向路线上行驶，达到准确避让效果；步骤S4中，同一双向路线上的车辆受到同一计算机的控制，且不同车辆同步接收计算机发送的行驶指令。本发明提供了一种新的双向路线的车辆避让思路，通过绘制区域的方式处理避让逻辑，将处理避让与路径规划分离开，虽然仍然需要在软件上做一定的适配，但是因为处理逻辑简单，规则单一，整个避让问题处理起来简单、可靠、效果好，既保证了车辆在双向路线上的行驶效率，也不易出现漏避让、误避让等情况。本发明的实施例是为了示例和描述起见而给出的，而并不是无遗漏的或者将本发明限于所公开的形式。很多修改和变化对于本领域的普通技术人员而言是显而易见的。选择和描述实施例是为了更好说明本发明的原理和实际应用，并且使本领域的普通技术人员能够理解本发明从而设计适于特定用途的带有各种修改的各种实施例。
