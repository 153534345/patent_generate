标题title
大型集装箱船复合能源系统的能源管理系统及管理策略
摘要abst
本发明涉及能源管理技术领域，具体涉及一种大型集装箱船复合能源系统的能源管理系统及管理策略，该管理策略包括：获取影响集装箱船航行时的航行负载的影响因素的历史数据；建立负载预测模型，并对负载预测模型进行训练；根据负载预测模型预测系统在当前时刻输出的实际总负载功率；对锂离子电池以及超级电容工作时的介入时间点进行优化，获取对应的最优介入时间点，并对能源进行管理。本发明提高了燃料电池的输出效率，减少了燃料的消耗。
权利要求书clms
1.一种大型集装箱船复合能源系统的能源管理系统，其特征在于，包括：复合能源实体的数字孪生模块，用于和复合能源实体的输出信息进行交互，其中，复合能源实体包括：第一供能模块以及第二供能模块；工况分析模块，用于根据数字孪生模块接收到的复合能源实体的输出信息，获取船舶的航行状况，航行状况包括：白天平稳航行、夜间航行以及船舶进出港或者快速机动；以及能源管理模块，用于船舶在夜间航行时，由第二供电模块平衡船用负载的波动，使得第一供能模块保持平稳的输出功率；用于船舶在白天平稳航行时，由第一供能模块对系统供电；用于船舶进出港或者快速机动时，由第一供能模块和第二供电模块共同对系统供电。2.根据权利要求1所述的一种大型集装箱船复合能源系统的能源管理系统，其特征在于，第一供能模块包括：燃料电池的等效模型；第二供能模块包括：锂离子电池的等效模型以及超级电容。3.根据权利要求2所述的一种大型集装箱船复合能源系统的能源管理系统，其特征在于，第二供能模块还包括光伏发电模块，其用于为锂离子电池充电；其包括太阳能电池板，太阳能电池板上的每个光伏阵列块均包括多个串联的发电模块，且多个串联的发电模块并联，其中，发电模块包括：光生电流源，光生电流源上串联有串联电阻和二极管，并联电阻并联在二极管的输入端和串联电阻之间。4.根据权利要求3所述的一种大型集装箱船复合能源系统的能源管理系统，其特征在于，能源管理模块还用于船舶在白天平稳航行时，由光伏发电模块为锂离子电池充电。5.根据权利要求1所述的一种大型集装箱船复合能源系统的能源管理系统，其特征在于，船用负载包括：驱动系统用电、生活用电、船艏侧推用电以及冷藏用电。6.一种大型集装箱船复合能源系统的能源管理策略，其特征在于，包括：获取影响集装箱船航行时的航行负载的影响因素的历史数据，影响因素包括：每个时刻的航速、风速、航行时间，以及上一时刻能源系统的输出功率；其中，初始时刻能源系统的输出功率为0；建立负载预测模型，将每个时刻对应的影响因素的历史数据作为负载预测模型的输入，将每个时刻对应的实时总负载功率作为负载预测模型的输出，对负载预测模型进行训练；将当前时刻的航速、风速、航行时间，以及当前时刻的上一时刻能源系统的输出功率，输入训练好的负载预测模型，得到能源系统在当前时刻的输出功率；将能源系统在当前时刻的输出功率和船用总负载功率之差，以及当前时刻的燃料消耗量作为应变量，利用粒子群优化算法对锂离子电池以及超级电容工作时的介入时间点进行优化，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点，根据最优介入时间点对能源进行管理。7.根据权利要求6所述的一种大型集装箱船复合能源系统的能源管理策略，其特征在于，利用粒子群优化算法对锂离子电池以及超级电容工作时的介入时间点进行优化，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点的步骤为：分别构建锂离子电池以及超级电容工作时的介入时间点对应的种群位置矩阵和种群速度矩阵；根据种群位置矩阵构建适应度函数，计算每个位置粒子的适应度函数值，并根据适应度函数值获取位置粒子个体历史最优和粒子群体历史最优；根据位置粒子个体历史最优和粒子群体历史最优更新种群速度矩阵和种群位置矩阵；直至适应度函数收敛，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点。8.根据权利要求7所述的一种大型集装箱船复合能源系统的能源管理策略，其特征在于，适应度函数的表达式为：式中，表示适应度函数值；表示锂离子电池工作时的最优介入时间点的种群位置矩阵；表示超级电容工作时的最优介入时间点的种群位置矩阵；表示能源系统在每个时刻的输出功率和船用总负载功率之差；F表示系统的燃料消耗量；表示航程开始时刻；表示航程结束时刻。9.根据权利要求7所述的一种大型集装箱船复合能源系统的能源管理策略，其特征在于，更新后的种群速度矩阵和种群位置矩阵的表达式为：式中，表示更新后的种群速度矩阵；表示更新前的种群速度矩阵；表示更新后的种群位置矩阵；表示更新前的种群位置矩阵；表示粒子个体历史最优；表示粒子群体历史最优；和/＞均表示加速度系数；rand1和rand2均为之间的随机数；表示惯性因子。
说明书desc
技术领域本发明涉及能源管理技术领域，具体涉及一种大型集装箱船复合能源系统的能源管理系统及管理策略。背景技术燃料电池是一种通过利用氢气和氧气进行氧化还原反应产生电能的新型绿色能源。虽然叫燃料电池，但其并不能像普通电池一样对电能进行存储，更多的是被当作一个小型的发电站。随着“双碳”目标的提出。各国都开始研发效率更高，体积更小的燃料电池。由于其反应产物只有水，对环境无污染，且所需的氢气和氧气取之不尽用之不竭，所以燃料电池在船舶领域中的应用前景十分广泛。对于船舶来说，尤其是大型跨洋运输船只由于航行时间长，途经多个海域会面对比较复杂的情况，而是燃料电池的输出特性偏软，动态响应较慢，无法及时根据负载的变化调整输出功率，导致电网功率反复波动，降低了电能传输质量；当面对较大的负载功率变化时，还会产生额外的能量消耗，如果燃料电池频繁地调整输出，也会使其自身的工作效率降低。所以燃料电池一般不会单独为整船提供能源，需要和其他供能单元构成复合能源系统。如锂离子电池或超级电容共同为船用负载提供能量。由于锂离子电池和超级电容具有很好的放电特性，可以弥补燃料电池的缺陷，使燃料电池以最高效率输出的同时保证电网的电能质量。然而，现阶段对于多能源的控制主要采用反馈控制系统，根据“削峰填谷”原理，控制各子系统辅助燃料电池输出；但这种反馈控制动态响应较慢，缺少对于整个航程能源策略的规划。因此，需要提供一种大型集装箱船复合能源系统的能源管理系统及管理策略以解决上述问题。发明内容本发明提供一种大型集装箱船复合能源系统的能源管理系统及管理策略，以解决现阶段对于多能源的控制主要采用反馈控制系统，根据“削峰填谷”原理，控制各子系统辅助燃料电池输出；但这种反馈控制动态响应较慢，缺少对于整个航程能源策略的规划问题。本发明的一种大型集装箱船复合能源系统的能源管理系统采用如下技术方案：包括：复合能源实体的数字孪生模块，用于和复合能源实体的输出信息进行交互，其中，复合能源实体包括：第一供能模块以及第二供能模块；工况分析模块，用于根据数字孪生模块接收到的复合能源实体的输出信息，获取船舶的航行状况，航行状况包括：白天平稳航行、夜间航行以及船舶进出港或者快速机动；以及能源管理模块，用于船舶在夜间航行时，由第二供电模块平衡船用负载的波动，使得第一供能模块保持平稳的输出功率；用于船舶在白天平稳航行时，由第一供能模块对系统供电；用于船舶进出港或者快速机动时，由第一供能模块和第二供电模块共同对系统供电。优选地，第一供能模块包括：燃料电池的等效模型；第二供能模块包括：锂离子电池的等效模型以及超级电容。优选地，第二供能模块还包括光伏发电模块，其用于为锂离子电池充电；其包括太阳能电池板，太阳能电池板上的每个光伏阵列块均包括多个串联的发电模块，且多个串联的发电模块并联，其中，发电模块包括：光生电流源，光生电流源上串联有串联电阻和二极管，并联电阻并联在二极管的输入端和串联电阻之间。优选地，能源管理模块还用于船舶在白天平稳航行时，由光伏发电模块为锂离子电池充电。优选地，船用负载包括：驱动系统用电、生活用电、船艏侧推用电以及冷藏用电。一种大型集装箱船复合能源系统的能源管理策略，包括：获取影响集装箱船航行时的航行负载的影响因素的历史数据，所述影响因素包括：每个时刻的航速、风速、航行时间，以及上一时刻能源系统的输出功率；其中，初始时刻能源系统的输出功率为0；建立负载预测模型，将每个时刻对应的影响因素的历史数据作为负载预测模型的输入，将每个时刻对应的实时总负载功率作为负载预测模型的输出，对负载预测模型进行训练；将当前时刻的航速、风速、航行时间，以及当前时刻的上一时刻能源系统的输出功率，输入训练好的负载预测模型，得到能源系统在当前时刻的输出功率；将能源系统在当前时刻的输出功率和船用总负载功率之差，以及当前时刻的燃料消耗量作为应变量，利用粒子群优化算法对锂离子电池以及超级电容工作时的介入时间点进行优化，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点，根据最优介入时间点对能源进行管理。优选地，利用粒子群优化算法对锂离子电池以及超级电容工作时的介入时间点进行优化，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点的步骤为：分别构建锂离子电池以及超级电容工作时的介入时间点对应的种群位置矩阵和种群速度矩阵；根据种群位置矩阵构建适应度函数，计算每个位置粒子的适应度函数值，并根据适应度函数值获取位置粒子个体历史最优和粒子群体历史最优；根据位置粒子个体历史最优和粒子群体历史最优更新种群速度矩阵和种群位置矩阵；直至适应度函数收敛，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点。优选地，适应度函数的表达式为：式中，表示适应度函数值；表示锂离子电池工作时的最优介入时间点的种群位置矩阵；表示超级电容工作时的最优介入时间点的种群位置矩阵；表示系统的输出功率和实际总负载功率之差；F表示系统的燃料消耗量；表示航程开始时刻；表示航程结束时刻。优选地，更新后的种群速度矩阵和种群位置矩阵的表达式为：式中，表示更新后的种群速度矩阵；表示更新前的种群速度矩阵；表示更新后的种群位置矩阵；表示更新前的种群位置矩阵；表示位置粒子个体历史最优；表示粒子群体历史最优；和/＞均表示加速度系数；rand1和rand2均为之间的随机数；表示惯性因子。本发明的有益效果是：通过搭建孪生模块，使得孪生模块和实体之间进行交互；由于船舶在白天平稳航行时主要由第一供电模块提供动力，在夜间航行时，海面风浪大，推进系统负载变化较大，此时由第二供电模块来平衡负载的波动；当船舶进出港或者快速机动时第一供电模块和第二供电模块同时供电；故供电过程中每个供电模块的介入时间和能源的消耗无法准确确定，为了提高系统的动态响应能力，降低能源消耗，根据当前子系统的运行状态以及海洋环境参数构建功率预测模型；根据当前电网的输出状态，预测下一时刻能源系统的输出功率；然后，采用优化算法动态规划锂电池和超级电容在整个航行过程中的介入时刻，从而保证不同能源的介入时刻是最佳时刻，以提高燃料电池的输出效率减少燃料的消耗。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明的一种大型集装箱船复合能源系统的能源管理系统的实施例的总体结构示意图；图2为2阶RC等效电路模型；图3为数字孪生交互框架图；图4为航行负载的工况图；图5为负载预测模型的结构示意图；图6为粒子群优化算法的流程图；图7为负载预测模型训练结果；图8为一种大型集装箱船复合能源系统的能源管理策略的流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明的一种大型集装箱船复合能源系统的能源管理系统的实施例，如图1所示，包括：数字孪生模块、工况分析模块以及能源分配模块，复合能源实体的数字孪生模块用于和复合能源实体的输出信息进行交互，其中，复合能源实体包括：第一供能模块以及第二供能模块；工况分析模块用于根据数字孪生模块接收到的复合能源实体的输出信息，获取船舶的航行状况，航行状况包括：白天平稳航行、夜间航行以及船舶进出港或者快速机动；能源管理模块用于船舶在夜间航行时，由第二供电模块平衡船用负载的波动，使得第一供能模块保持平稳的输出功率；用于船舶在白天平稳航行时，由第一供能模块对系统供电；用于船舶进出港或者快速机动时，由第一供能模块和第二供电模块共同对系统供电。具体的，第一供能模块包括：固体氧化物燃料电池的等效模型；第二供能模块包括：锂离子电池的等效模型以及超级电容。其中，本实施例中固体氧化物燃料电池的极化过程由三个部分组成。第一部分是由于在电极表面发生的化学反应的缓慢而引起的激活电压降。第二部分是由于燃料电池堆的内阻引起的电阻损失。最后，第三个部分是使用燃料时反应物浓度变化造成的质量传输损失。假设燃料电池阴极和阳极出口的温度稳定并等于电池组温度。流道上的压降可以忽略不计。开路电压交换电流塔菲尔斜率其中R=8.3145 J/；F表示能特斯方程中固定值，本实施例中F=96485 As/mol；z是移动电子的数量；是能特斯电压；/＞是电荷转移系数，取决于所用电极和催化剂的类型；/＞是堆内氢气的分压；/＞是堆内的氧气分压；k是玻尔兹曼常数；h是普朗克常数；/＞是活化屏障体积系数；T是工作温度；/＞是标称运行条件下的电压常数；/＞表示激活屏障的大小，取决于所使用的电极和催化剂的类型。其中，本实施例中，锂离子电池的等效模型为2阶RC等效电路模型，具体的2阶RC等效电路模型如图2所示，二阶RC等效电路模型是在内阻模式上串联了两个并联的RC网络，通过电容电阻元件的特性来表达锂离子电池组在工作过程中内部电化学极化特性，根据戴维南定理可得电路中各参数的表达式为：式中为电池的端电压，/＞，/＞是两个RC并联网络的端电压；/＞是电池开路电压；I是电路电流；/＞是欧姆内阻，由电池的两极材料、电解液、中间隔膜等电池内部零件组成；/＞，/＞是电化学极化电阻，/＞，/＞均表示电化学极化电容，由电池的极化反应造成；二阶RC等效电路模型结构简单，可以精确表征电池内部的电化学反应过程，精度较高，是目前使用最为广泛的电池模型之一。然后采用安时积分法对锂离子电池的SOC进行估算。t时刻的锂离子电池的荷电状态的计算公式为：其中是电池初始荷电状态；/＞是电池额定容量；/＞表示电流；/＞是库伦因子，即电池充放电效率，一般取/＞。安时积分法是最常用的估计电池SOC的方法，通过对电流的积分即可得到荷电量的相对值，其操作简单，且精度较高。但是在实际应用中由于测量电流的霍尔传感器存在电流漂移的现象，导致积分误差增大；由于该复合能源系统是在仿真环境中运行的，不存在电流漂移的影响；锂离子电池的初始荷电状态也是设定好的，所以使用安时积分法可以精确的测量电池在工作过程中的SOC值。其中，第二供能模块还包括光伏发电模块，其用于为锂离子电池充电；其包括太阳能电池板，太阳能电池板上的每个光伏阵列块均包括多个串联的发电模块，且多个串联的发电模块并联，其中，发电模块包括：光生电流源，光生电流源上串联有串联电阻和二极管，并联电阻并联在二极管的输入端和串联电阻之间；光伏阵列是一个五参数模型，使用光生电流源、二极管、串联电阻和并联电阻来表示模块的辐照度和温度相关I-V特性；单个模块的二极管I-V特性为其中，为二极管电压；/＞为二极管电流；/＞为二极管饱和电流；nI是二极管理想因子，取nI=0.9；k是玻尔兹曼常数；q是电子电荷为1.6022e-19 C； Ncell是模块中串联的单元数；/＞表示以自然常数e为底的指数函数；/＞为热电压；/＞为温度。具体的，能源管理模块还用于船舶在白天平稳航行时，由光伏发电模块为锂离子电池充电。具体的，航行过程中主要分为日间航行、夜间航行和进出港口三种工况，故船用负载包括：驱动系统、生活用电、船艏侧推用电以及冷藏用电，如图4所示，大型集装箱船是用于装载国际标准集装箱的船舶，主要进行远距离跨洋运输，在各个港口之间往返，航行时间为1-10天不等。其中分为日间航行，夜间航行和进出港口三种工况。主要负载包括船舶动力系统，冷藏集装箱用电，船艏侧推，日常生活用电；其中船舶动力系统的负载和航行环境有关系；日间航行时陆地的温度高于海面的温度，陆地风较强而海面相对比较平稳，所以负载变化不大；到了晚上海面的温度高于陆地的温度，此时海洋风强浪大，航行环境复杂多变。特殊的对于集装箱船来说一些货物需要冷藏运输，所以还需要额外考虑冷箱负载；冷箱负载在整个航行过程中需要一直开启，并且保持平稳运行；在船舶进出港口时，需要频繁使用艏侧推调整船舶姿态。日常生活用电只占总负载的一小部分；航行负载工况如图4所示。本实施例的一种大型集装箱船复合能源系统的能源管理策略的实施例，如图3所示，本实施例的能源管理方案的思路为：将实体所在的物理层采集到的母线电压，航速，光强，风速数据传输至孪生模块所在的虚拟层；通过复合能源系统的数字孪生体表征各子系统的输出功率；故可以根据当前各能源系统的输出功率和环境参数，预测未来的负载功率，决策层将根据该预测功率产生最优能源控制策略，闭环控制物理层的实体。具体的，如图8所示，本实施例的具体步骤为：S1、获取影响集装箱船航行时的航行负载的影响因素的历史数据；获取影响集装箱船航行时的航行负载的影响因素的历史数据，影响因素包括：每个时刻的航速、风速、航行时间，以及上一时刻能源系统的输出功率；其中，初始时刻能源系统的输出功率为0；S2、建立负载预测模型，并对负载预测模型进行训练；具体的，建立负载预测模型，将每个时刻对应的影响因素的历史数据作为负载预测模型的输入，将每个时刻对应的实时总负载功率作为负载预测模型的输出，对负载预测模型进行训练；其中，本实施例中采用BPNN神经元网络对负载进行预测，网络模型为4输入、单输出，输入变量分别为航速、风速、航行时间以及上一时刻能源系统的输出功率；根据这些因素对下一时刻能源系统的输出功率进行预测。中间隐层的神经元个数为10，通过全连接运算从四个输入变量，提取出10个数据特征；最后通过全链接层得到一个输出结果，具体的，负载预测模型的结构如图5所示；负载模型的训练结果如图7所示。其中，建立负载预测模型的步骤为：步骤2.1：数据前处理；将四个输入数据转换为神经网络可以识别的tensor数据类型。将数据的70%作为模型的训练数据，30%作为测试数据。为了防止网络模型的权值偏向数值大的数据，还需要对样本进行标准化处理，使数据以原点为中心对称。步骤2.2：神经元网络的前向传播；随机初始化模型权重矩阵和偏置向量，将输入值和权值W1进行全连接运算得到10个特征值，通过relu函数非线性化后再和权值W2进行全连接运算，同样使用relu函数非线性化。输入层到隐层的计算过程为：其中为/＞输入向量；/＞为/＞权重矩阵；/＞为/＞权偏置参数向量；/＞是relu激活函数；/＞为通过隐层提取到的/＞特征矩阵；隐层到输出层的计算过程为：其中为/＞权重矩阵，/＞为偏置向量。步骤2.3：神经元网络的反向传播；根据模型的输出值和标签调用损失函数计算模型损失。根据损失值，使用Adam优化器对权重矩阵进行更新。所述损失函数SSE计算如下：其中P是实际需求功率，y是模型预测功率。S3、根据负载预测模型预测系统在当前时刻输出的实际总负载功率；将当前时刻的航速、风速、航行时间，以及当前时刻的上一时刻能源系统的输出功率，输入训练好的负载预测模型，得到能源系统在当前时刻的输出功率；S4、对锂离子电池以及超级电容工作时的介入时间点进行优化，获取对应的最优介入时间点，并对能源进行管理。具体的，将能源系统在当前时刻的输出功率和船用总负载功率之差，以及当前时刻的燃料消耗量作为应变量，利用粒子群优化算法对锂离子电池以及超级电容工作时的介入时间点进行优化，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点，根据最优介入时间点对能源进行管理。其中，本实施例中粒子群优化算法将优化问题的最优解作为种群寻找的目标；种群中每一个粒子都是优化问题的一种解，将随机初始化的位置矩阵代入适应度函数计算适应度，结合个体最优和全局最优更新粒子，不断迭代，直到适应度达到期望值。故将粒子群优化算法应用于复合能源控制中，即此问题简化为一个寻找多元函数最小值的问题，多元函数的自变量是动力电池，超级电容以及光伏发电系统的介入时间点，也就是种群的粒子；函数的应变量是能源系统的输出功率和船用负载总功率之差以及航行过程中的燃料消耗量；该多元函数也是算法中的适应度函数；将初始化的粒子带入系统中，计算复合能源系统的输出功率和船用负载总功率之差，以及燃料消耗量，根据个体最优和全局最优更新粒子，反复迭代；随着算法寻找最优解的过程中，适应度不断降低，当降为0时，认为找到最优解。具体的，利用粒子群优化算法对锂离子电池以及超级电容工作时的介入时间点进行优化，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点的步骤为：分别构建锂离子电池以及超级电容工作时的介入时间点对应的种群位置矩阵和种群速度矩阵；根据种群位置矩阵构建适应度函数，计算每个位置粒子的适应度函数值，并根据适应度函数值获取位置粒子个体历史最优和粒子群体历史最优；根据位置粒子个体历史最优和粒子群体历史最优更新种群速度矩阵和种群位置矩阵；直至适应度函数收敛，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点。如图6所示，步骤4.1、锂离子电池以及超级电容工作时的介入时间点对应的种群位置矩阵和种群速度矩阵的表达式为：种群位置矩阵为：种群速度矩阵为：式中，为锂离子电池工作时的介入节点的种群位置矩阵；/＞为超级电容工作时的介入节点的种群位置矩阵；每个种群位置矩阵由n个位置粒子/＞组成；/＞为锂离子电池工作时的介入节点的种群速度矩阵；/＞为超级电容工作时的介入节点的种群速度矩阵，每个速度矩阵由n个速度粒子/＞组成。粒子的初值由随机初始化得到；n为种群规模，n取50，即M等于50。步骤4.2、建立适应度函数；计算每个种群粒子的适应度函数值；并记录粒子个体历史最优和粒子群体历史最优，其中，适应度函数的表达式为：式中，表示适应度函数值；表示锂离子电池工作时的最优介入时间点的种群位置矩阵；表示超级电容工作时的最优介入时间点的种群位置矩阵；表示系统的输出功率和实际总负载功率之差；F表示系统的燃料消耗量；表示航程开始时刻；表示航程结束时刻。步骤4.3：根据位置粒子个体历史最优和粒子群体历史最优，更新种群速度矩阵和种群位置矩阵，得到更新后的种群速度矩阵和种群位置矩阵，更新后的种群速度矩阵和种群位置矩阵的表达式为：式中，表示更新后的种群速度矩阵；表示更新前的种群速度矩阵；表示更新后的种群位置矩阵；表示更新前的种群位置矩阵；表示位置粒子个体历史最优；表示粒子群体历史最优；和/＞均表示加速度系数；rand1和rand2均为之间的随机数；表示惯性因子。步骤4.4：设置优化边界条件；为了防止粒子速度和位置更新的过大导致算法不收敛，需要建立种群的边界条件，当种群粒子的速度和位置达到算法设定的边界后，直接将边界条件赋值给粒子，本实施例中设定位置边界为，速度边界为/＞；IfIfIfIf式中，表示更新后的种群速度矩阵；表示更新后的种群位置矩阵；表示最大速度边界；表示最小速度边界；表示最大位置边界；表示最小位置边界。步骤4.5：经过多次迭代后，直到粒子的位置不再更新，适应度函数降至最低则算法收敛，得到优化后的锂离子电池以及超级电容工作时对应的最优介入时间点，根据最优介入时间点对能源进行管理。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
