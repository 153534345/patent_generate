标题title
基于时空大数据的家庭成员关系识别的方法
摘要abst
本申请公开了一种基于时空大数据的家庭成员关系识别的方法。基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹，所述用户轨迹包括运动态用户轨迹和/或驻留态用户轨迹；根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系，所述伴随关系包括运动态伴随关系和驻留态伴随关系；基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系。基于用户的信令数据获取用户轨迹，并基于用户的用户轨迹确定任意两用户之间的伴随关系，从而确定两用户之间存在家庭成员关系，在扩大识别群体的覆盖广度的同时，有效提高识别家庭成员关系的准确性。
权利要求书clms
1.一种基于时空大数据的家庭成员关系识别的方法，其特征在于，所述基于时空大数据的家庭成员关系识别的方法包括：基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹，所述用户轨迹包括运动态用户轨迹和/或驻留态用户轨迹；根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系，所述伴随关系包括运动态伴随关系和驻留态伴随关系；基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系。2.如权利要求1所述基于时空大数据的家庭成员关系识别的方法，其特征在于，所述基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹的步骤，包括：获取任一用户当天的信令数据，若所述任一用户在任一基站小区内驻留时长超过预设驻留门限，则将所述任一用户在所述任一基站小区内驻留时的信令数据，输出为所述任一用户的驻留态运动轨迹。3.如权利要求1所述基于时空大数据的家庭成员关系识别的方法，其特征在于，所述基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹的步骤，包括：获取任一用户当天的信令数据，若所述任一用户至少连续经过预设数量的基站小区，且在每个基站小区的驻留时长均不超过预设驻留门限，且所述任一用户在连续经过的预设数量的基站小区中具有相似的运动方向，则至少将所述任一用户经过所述基站小区时的信令数据，输出为所述任一用户的运动态运动轨迹。4.如权利要求1所述基于时空大数据的家庭成员关系识别的方法，其特征在于，所述驻留态用户轨迹的轨迹信息包括驻留时段、驻点位置、驻留小区；所述根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系的步骤，包括：对于任意两用户中其中一用户的第一驻留态用户轨迹，和另一用户的第二驻留态用户轨迹，若同时满足：第一驻留态用户轨迹上的第一驻点位置，与第二驻留态用户轨迹上的第二驻点位置在驻留时段上存在交集，且存在交集的交集时长超过预设重叠时长门限；所述第一驻点位置与所述第二驻点位置之间的距离小于预设驻点距离门限;所述第一驻点位置与所述第二驻点位置的驻留小区存在交集，且存在交集的驻留小区的驻留时长之和超过预设驻留总时长门限；则确定任意两用户之间当天存在驻留态伴随关系。5.如权利要求1所述基于时空大数据的家庭成员关系识别的方法，其特征在于，所述根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系的步骤，包括：基于任意两用户当天的运动态用户轨迹，进行轨迹OD检测和/或时空伴随检测，得到检测结果；基于所述检测结果，确定任意两用户之间当天是否存在运动态伴随关系。6.如权利要求5所述基于时空大数据的家庭成员关系识别的方法，其特征在于，所述运动态用户轨迹的轨迹信息包括轨迹时间戳、途经路段、轨迹总距离；所述基于任意两用户当天的运动态用户轨迹，进行时空伴随检测，得到检测结果的步骤，包括：基于任意两用户当天的途经路段确定重合路段；基于任意两用户当天的所述重合路段上的轨迹时间戳，确定任意两用户到达和/或离开所述重合路段的时刻；若任意两用户到达和/或离开所述重合路段的时间差小于预设差值门限，则确定所述重合路段为短距离伴随路段；统计任意两用户当天的运动态用户轨迹上所述短距离伴随路段的伴随总距离；基于所述伴随总距离和任意两用户当天的运动态用户轨迹的轨迹总距离，计算得到伴随距离比；若所述伴随总距离大于预设总距离门限，且所述伴随距离比大于预设伴随距离门限，则确定检测结果为任意两用户存在时空伴随。7.如权利要求6所述基于时空大数据的家庭成员关系识别的方法，其特征在于，所述基于所述检测结果，确定任意两用户之间当天是否存在运动态伴随关系的步骤，包括：若所述检测结果为任意两用户的轨迹OD相同，且任意两用户存在时空伴随，则确定任意两用户之间当天的伴随关系为运动态伴随关系。8.如权利要求1所述基于时空大数据的家庭成员关系识别的方法，其特征在于，所述基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系的步骤，包括：统计在预设天数内，任意两用户之间在预设夜间时段的所述伴随关系为所述驻留态伴随关系的第一天数；统计在预设天数内，任意两用户之间在一天内预设夜间时段之外的其它时段，同时存在所述运动态伴随关系和所述驻留态伴随关系的第二天数；若所述第一天数与预设天数之比大于预设第一比值门限，且所述第二天数与预设天数之比大于预设第二比值门限，则确定任意两用户之间存在家庭成员关系。9.如权利要求1所述基于时空大数据的家庭成员关系识别的方法，其特征在于，所述方法还包括：将存在所述家庭成员关系的用户，输出至待聚类用户列表；依次遍历所述待聚类用户列表；若当前遍历用户与已遍历用户之间不存在所述家庭成员关系，则新建所述当前遍历用户的家庭组；若当前遍历用户与已遍历用户之间存在所述家庭成员关系，则将所述当前遍历用户加入所述已遍历用户的家庭组。10.如权利要求9所述基于时空大数据的家庭成员关系识别的方法，其特征在于，所述方法还包括：若所述当前遍历用户至少与第一家庭组中的一个或多个已遍历用户，以及，与第二家庭组中的一个或多个已遍历用户之间均存在家庭成员关系，则至少将所述第一家庭组和所述第二家庭组合并为一个新的家庭组，并将所述当前遍历用户加入所述新的家庭组。
说明书desc
技术领域本申请涉及大数据分析技术领域，尤其涉及基于时空大数据的家庭成员关系识别的方法。背景技术常规技术中，通过预先训练的识别模型来分析用户的通话记录或者用户在社交平台的好友关系，来识别用户的家庭成员关系，或者通过宽带网络的使用数据来识别家庭成员关系；但是识别模型的训练成本高，而且易受到干扰，例如工作导致的通话频率高或者网友互动频率高，导致家庭成员关系识别不准确；而通过宽带使用数据来识别家庭成员关系的方法无法避免多家庭共用宽带的情况，导致家庭成员关系识别准确性低。上述内容仅用于辅助理解本申请的技术方案，并不代表承认上述内容是现有技术。发明内容本申请的主要目的在于提供一种基于时空大数据的家庭成员关系识别的方法，旨在提高家庭成员关系识别的准确性。为实现上述目的，本申请提供一种基于时空大数据的家庭成员关系识别的方法，所述基于时空大数据的家庭成员关系识别的方法包括：基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹，所述用户轨迹包括运动态用户轨迹和/或驻留态用户轨迹；根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系，所述伴随关系包括运动态伴随关系和驻留态伴随关系；基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系。可选地，所述基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹的步骤，包括：获取任一用户当天的信令数据，若所述任一用户在任一基站小区内驻留时长超过预设驻留门限，则将所述任一用户在所述任一基站小区内驻留时的信令数据，输出为所述任一用户的驻留态运动轨迹。可选地，所述基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹的步骤，包括：获取任一用户当天的信令数据，若所述任一用户至少连续经过预设数量的基站小区，且在每个基站小区的驻留时长均不超过预设驻留门限，且所述任一用户在连续经过的预设数量的基站小区中具有相似的运动方向，则至少将所述任一用户经过所述基站小区时的信令数据，输出为所述任一用户的运动态运动轨迹。可选地，所述驻留态用户轨迹的轨迹信息包括驻留时段、驻点位置、驻留小区；所述根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系的步骤，包括：对于任意两用户中其中一用户的第一驻留态用户轨迹，和另一用户的第二驻留态用户轨迹，若同时满足：第一驻留态用户轨迹上的第一驻点位置，与第二驻留态用户轨迹上的第二驻点位置在驻留时段上存在交集，且存在交集的交集时长超过预设重叠时长门限；所述第一驻点位置与所述第二驻点位置之间的距离小于预设驻点距离门限;所述第一驻点位置与所述第二驻点位置的驻留小区存在交集，且存在交集的驻留小区的驻留时长之和超过预设驻留总时长门限；则确定任意两用户之间当天存在驻留态伴随关系。可选地，所述根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系的步骤，包括：基于任意两用户当天的运动态用户轨迹，进行轨迹OD检测和/或时空伴随检测，得到检测结果；基于所述检测结果，确定任意两用户之间当天是否存在运动态伴随关系。可选地，所述运动态用户轨迹的轨迹信息包括轨迹时间戳、途经路段、轨迹总距离；所述基于任意两用户当天的运动态用户轨迹，进行时空伴随检测，得到检测结果的步骤，包括：基于任意两用户当天的途经路段确定重合路段；基于任意两用户当天的所述重合路段上的轨迹时间戳，确定任意两用户到达和/或离开所述重合路段的时刻；若任意两用户到达和/或离开所述重合路段的时间差小于预设差值门限，则确定所述重合路段为短距离伴随路段；统计任意两用户当天的运动态用户轨迹上所述短距离伴随路段的伴随总距离；基于所述伴随总距离和任意两用户当天的运动态用户轨迹的轨迹总距离，计算得到伴随距离比；若所述伴随总距离大于预设总距离门限，且所述伴随距离比大于预设伴随距离门限，则确定检测结果为任意两用户存在时空伴随。可选地，所述基于所述检测结果，确定任意两用户之间当天是否存在运动态伴随关系的步骤，包括：若所述检测结果为任意两用户的轨迹OD相同，且任意两用户存在时空伴随，则确定任意两用户之间当天的伴随关系为运动态伴随关系。可选地，所述基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系的步骤，包括：统计在预设天数内，任意两用户之间在预设夜间时段的所述伴随关系为所述驻留态伴随关系的第一天数；统计在预设天数内，任意两用户之间在一天内预设夜间时段之外的其它时段，同时存在所述运动态伴随关系和所述驻留态伴随关系的第二天数；若所述第一天数与预设天数之比大于预设第一比值门限，且所述第二天数与预设天数之比大于预设第二比值门限，则确定任意两用户之间存在家庭成员关系。可选地，所述方法还包括：将存在所述家庭成员关系的用户，输出至待聚类用户列表；依次遍历所述待聚类用户列表；若当前遍历用户与已遍历用户之间不存在所述家庭成员关系，则新建所述当前遍历用户的家庭组；若当前遍历用户与已遍历用户之间存在所述家庭成员关系，则将所述当前遍历用户加入所述已遍历用户的家庭组。可选地，所述方法还包括：若所述当前遍历用户至少与第一家庭组中的一个或多个已遍历用户，以及，与第二家庭组中的一个或多个已遍历用户之间均存在家庭成员关系，则至少将所述第一家庭组和所述第二家庭组合并为一个新的家庭组，并将所述当前遍历用户加入所述新的家庭组。本申请提供的基于时空大数据的家庭成员关系识别的方法，所述基于时空大数据的家庭成员关系识别的方法包括：基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹，所述用户轨迹包括运动态用户轨迹和/或驻留态用户轨迹；根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系，所述伴随关系包括运动态伴随关系和驻留态伴随关系；基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系。常规技术中，通常通过预先训练的识别模型来识别家庭成员关系，或者通过宽带的使用数据来判断长期共用同一宽带的用户为家庭成员，上述方法中，通过识别模型判断家庭成员关系的训练成本高，而且易受到干扰，无法确保识别准确性；而通过共用宽带判断家庭成员关系的方法忽略了不使用宽带以及例如合租和宿舍等共用宽带的情况，识别方法单一、覆盖人群不全面，导致识别效果差，准确性低。与常规技术不同，本申请提供的一种基于时空大数据的家庭成员关系识别的方法，基于运营商提供的海量信令数据，得到预设数量用户的用户轨迹，确保数据来源的准确性，并且避免了覆盖人群不全面的问题，只要用户携带的智能终端与其他设备或网络进行通信，就会产生即时的信令数据，即使是共用同一个宽带，也能根据用户信令数据中唯一的用户标识区分不同用户，有效扩大覆盖群体广度；然后通过用户轨迹去判断任意两用户之间的用户轨迹交集情况，将识别得到的用户轨迹分为运动态用户轨迹和驻留态用户轨迹，根据任意两用户的运动态用户轨迹确定两用户之间的运动态伴随关系，根据任意两用户的确定两用户之间的驻留态伴随关系，最后，基于任意两用户之间的伴随关系，识别任意两用户之间是否存在家庭成员关系；以此，通过对用户的信令数据进行处理，扩大覆盖群体的广度；同时，在获取到用户轨迹的基础上，获取任意两用户之间的伴随数据，从而确定任意两用户之间是否存在家庭成员关系，不需要对模型进行训练，有效降低识别家庭成员关系的成本，提高家庭成员关系识别的准确性。附图说明图1是本申请实施例方案涉及的硬件运行环境的家庭成员关系识别设备的结构示意图；图2为本申请第一实施例的流程示意图；图3为本申请实施例方案涉及的用户聚类示意图；图4为本申请实施例方案涉及的家庭组聚类示意图；图5为本申请实施例方案涉及的家庭成员关系识别装置的功能模块示意图。本申请目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。参照图1，图1为本申请实施例方案涉及的硬件运行环境的家庭成员关系识别设备结构示意图。如图1所示，该家庭成员关系识别设备可以包括：处理器1001，例如中央处理器，通信总线1002、用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口接口）。存储器1005可以是高速的随机存取存储器存储器，也可以是稳定的非易失性存储器，例如磁盘存储器。存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图1中示出的结构并不构成对家庭成员关系识别设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如图1所示，作为一种存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及计算机程序。在图1所示的家庭成员关系识别设备中，网络接口1004主要用于与其他设备进行数据通信；用户接口1003主要用于与用户进行数据交互；本申请家庭成员关系识别设备中的处理器1001、存储器1005可以设置在家庭成员关系识别设备中，所述家庭成员关系识别设备通过处理器1001调用存储器1005中存储的计算机程序，并执行本申请实施例提供的基于时空大数据的家庭成员关系识别的方法：基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹，所述用户轨迹包括运动态用户轨迹和/或驻留态用户轨迹；根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系，所述伴随关系包括运动态伴随关系和驻留态伴随关系；基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系。在一实施例中，处理器1001可以调用存储器1005中存储的计算机程序，还执行以下操作：所述基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹的步骤，包括：获取任一用户当天的信令数据，若所述任一用户在任一基站小区内驻留时长超过预设驻留门限，则将所述任一用户在所述任一基站小区内驻留时的信令数据，输出为所述任一用户的驻留态运动轨迹。在一实施例中，处理器1001可以调用存储器1005中存储的计算机程序，还执行以下操作：所述基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹的步骤，包括：获取任一用户当天的信令数据，若所述任一用户至少连续经过预设数量的基站小区，且在每个基站小区的驻留时长均不超过预设驻留门限，且所述任一用户在连续经过的预设数量的基站小区中具有相似的运动方向，则至少将所述任一用户经过所述基站小区时的信令数据，输出为所述任一用户的运动态运动轨迹。在一实施例中，处理器1001可以调用存储器1005中存储的计算机程序，还执行以下操作：所述驻留态用户轨迹的轨迹信息包括驻留时段、驻点位置、驻留小区；所述根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系的步骤，包括：对于任意两用户中其中一用户的第一驻留态用户轨迹，和另一用户的第二驻留态用户轨迹，若同时满足：第一驻留态用户轨迹上的第一驻点位置，与第二驻留态用户轨迹上的第二驻点位置在驻留时段上存在交集，且存在交集的交集时长超过预设重叠时长门限；所述第一驻点位置与所述第二驻点位置之间的距离小于预设驻点距离门限;所述第一驻点位置与所述第二驻点位置的驻留小区存在交集，且存在交集的驻留小区的驻留时长之和超过预设驻留总时长门限；则确定任意两用户之间当天存在驻留态伴随关系。在一实施例中，处理器1001可以调用存储器1005中存储的计算机程序，还执行以下操作：所述根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系的步骤，包括：基于任意两用户当天的运动态用户轨迹，进行轨迹OD检测和/或时空伴随检测，得到检测结果；基于所述检测结果，确定任意两用户之间当天是否存在运动态伴随关系。在一实施例中，处理器1001可以调用存储器1005中存储的计算机程序，还执行以下操作：所述运动态用户轨迹的轨迹信息包括轨迹时间戳、途经路段、轨迹总距离；所述基于任意两用户当天的运动态用户轨迹，进行时空伴随检测，得到检测结果的步骤，包括：基于任意两用户当天的途经路段确定重合路段；基于任意两用户当天的所述重合路段上的轨迹时间戳，确定任意两用户到达和/或离开所述重合路段的时刻；若任意两用户到达和/或离开所述重合路段的时间差小于预设差值门限，则确定所述重合路段为短距离伴随路段；统计任意两用户当天的运动态用户轨迹上所述短距离伴随路段的伴随总距离；基于所述伴随总距离和任意两用户当天的运动态用户轨迹的轨迹总距离，计算得到伴随距离比；若所述伴随总距离大于预设总距离门限，且所述伴随距离比大于预设伴随距离门限，则确定检测结果为任意两用户存在时空伴随。在一实施例中，处理器1001可以调用存储器1005中存储的计算机程序，还执行以下操作：所述基于所述检测结果，确定任意两用户之间当天是否存在运动态伴随关系的步骤，包括：若所述检测结果为任意两用户的轨迹OD相同，且任意两用户存在时空伴随，则确定任意两用户之间当天的伴随关系为运动态伴随关系。在一实施例中，处理器1001可以调用存储器1005中存储的计算机程序，还执行以下操作：所述基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系的步骤，包括：统计在预设天数内，任意两用户之间在预设夜间时段的所述伴随关系为所述驻留态伴随关系的第一天数；统计在预设天数内，任意两用户之间在一天内预设夜间时段之外的其它时段，同时存在所述运动态伴随关系和所述驻留态伴随关系的第二天数；若所述第一天数与预设天数之比大于预设第一比值门限，且所述第二天数与预设天数之比大于预设第二比值门限，则确定任意两用户之间存在家庭成员关系。在一实施例中，处理器1001可以调用存储器1005中存储的计算机程序，还执行以下操作：所述方法还包括：将存在所述家庭成员关系的用户，输出至待聚类用户列表；依次遍历所述待聚类用户列表；若当前遍历用户与已遍历用户之间不存在所述家庭成员关系，则新建所述当前遍历用户的家庭组；若当前遍历用户与已遍历用户之间存在所述家庭成员关系，则将所述当前遍历用户加入所述已遍历用户的家庭组。在一实施例中，处理器1001可以调用存储器1005中存储的计算机程序，还执行以下操作：所述方法还包括：若所述当前遍历用户至少与第一家庭组中的一个或多个已遍历用户，以及，与第二家庭组中的一个或多个已遍历用户之间均存在家庭成员关系，则至少将所述第一家庭组和所述第二家庭组合并为一个新的家庭组，并将所述当前遍历用户加入所述新的家庭组。本申请实施例提供的一种基于时空大数据的家庭成员关系识别的方法，参照图2，图2为本申请一种基于时空大数据的家庭成员关系识别的方法第一实施例的流程示意图。对于通信行业而言，识别家庭成员是开展精准营销和客户经营的重要前提，然而，目前识别家庭成员的方案往往存在识别方式单一、识别准确率低的缺陷。基于海量时空大数据，挖掘一个城市或者区域的出行模式和规律，识别人群的伴随出行特征，是时空大数据的研究热点。由通信运营商运营的4、5G通信网络，具有全体用户、全时信令数据，这些信令数据都具有位置标签，是典型的时空大数据。本申请提供的一种基于时空大数据的家庭成员关系识别的方法，基于运营商时空大数据，首先确定单个用户当天的用户轨迹，然后基于多个用户当天的用户轨迹对用户进行伴随关系分析，进而识别家庭成员关系，具有覆盖人群广、实施成本低、准确性高等优点。本实施例中，所述基于时空大数据的家庭成员关系识别的方法包括：步骤S10：基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹，所述用户轨迹包括运动态用户轨迹和/或驻留态用户轨迹；在本实施例中，通过通信运营商运营的4、5G通信网络，得到用户的信令数据，基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹，用户轨迹包括运动态用户轨迹和驻留态用户轨迹；其中，预设数量可根据实际情况调整，例如，预设数量的用户可以是全部用户，也可以是全部用户中的某些用户，预设数量的信令数据可以指预设数量用户所对应的信令数据；用户轨迹可以表示为轨迹地图、轨迹数据等，运动态用户轨迹为用户轨迹中大范围移动的轨迹，例如，某一用户当天的用户轨迹中，出现了该用户在某一时段中/某一段轨迹中，在单个基站小区的驻留时长小于驻留门限，连续经过多个基站小区，且该用户的用户轨迹具有明显的运动方向的情况，则说明该用户在此时段/此轨迹路段的轨迹为运动态用户轨迹；驻留态用户轨迹为用户轨迹中长时间停留的轨迹，例如，某一用户当天的用户轨迹中，出现了该用户在某一时段中/某一段轨迹中，在某基站小区停留的时长超过驻留门限的情况，则说明用户在此基站小区中处于驻留状态，该用户在此时段/此轨迹路段的轨迹为驻留态用户轨迹。在一实施例中，运动态用户轨迹和驻留态用户轨迹可以通过数据表格的形式输出，驻留态用户轨迹对应的驻留态数据表中至少包括用户身份标识、基站小区标识、驻留态开始时刻、驻留态结束时刻、驻点位置；运动态用户轨迹对应的运动态数据表中至少包括用户身份标识、基站小区标识、运动态开始时刻、运动态结束时刻、运动态起始位置、运动态到达位置、运动轨迹总距离、途经路段、路段到达时刻。驻留态数据表参照表1：表1运动态数据表参照表2：表2可以理解的，对于整段用户轨迹或者用户轨迹中的运动态用户轨迹，根据运动态数据表中的信息还可以进行道路拟合，拟合出用户某日在道路上的用户轨迹或者运动轨迹，目前，利用海量信令数据构建用户的路网轨迹的方案在业界已经比较成熟，在此不做赘述。可选地，所述基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹的步骤，包括：获取任一用户当天的信令数据，若所述任一用户在任一基站小区内驻留时长超过预设驻留门限，则将所述任一用户在所述任一基站小区内驻留时的信令数据，输出为所述任一用户的驻留态运动轨迹。其中，预设驻留门限可根据实际情况调整，例如预设驻留门限设置为1小时；读取任一用户的信令数据，若该用户在某基站小区的驻留时长超过设定的驻留门限，则确定该用户在该基站小区处于驻留态，通过设置适当的预设驻留门限，提取出用户当天处于驻留状态时段的信令数据，将该用户在该基站小区的信令数据输出为该用户的驻留态用户轨迹。可选地，所述基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹的步骤，包括：获取任一用户当天的信令数据，若所述任一用户至少连续经过预设数量的基站小区，且在每个基站小区的驻留时长均不超过预设驻留门限，且所述任一用户在连续经过的预设数量的基站小区中具有相似的运动方向，则至少将所述任一用户经过所述基站小区时的信令数据，输出为所述任一用户的运动态运动轨迹。其中，预设数量需大于1，预设数量和预设驻留门限可根据实际情况调整，例如预设数量设置为2，驻留门限设置为1小时；用户的运动状态中运动轨迹或速度向量具有相同的或者相似的方向，运动方向可以是基于用户的信令数据获取到的运动方向，也可以是基于基站小区的安装位置获得的运动方向，例如，用户经过的三个基站小区中，第三个基站小区相对于第二个基站小区的运动方向和第二个基站小区相对于第一个基站小区的运动方向相同或相似。若该用户连续经过预设数量基站小区、在经过的基站小区中的驻留时长均不超过设定的驻留门限，并且具有明显的运动方向，则确定该用户在经过这些基站小区时处于运动态，将该用户经过这些基站小区时的信令数据输出为该用户的运动态用户轨迹。其中，优选的，基于预设数量的用户每天的预设数量的信令数据，实现后续步骤，还可以是更少时长如半天的信令数据和某时段内的信令数据，或者更久时长如两天的信令数据，在本实施例中，对基于时空大数据的家庭成员关系识别的方法中用于数据处理的用户信令数据的获取时长不做限定。信令数据记录了移动通信网络中智能终端和基站之间的信令交互信息，智能终端包括但不限于手机、手环、智能手表；信令数据包括但不限于基站小区标识ECI/NCI，ECI是用于识别4G小区的唯一标识符，NCI，则说明两个用户的轨迹OD相同，反之则不相同。优选地，在第四实施例中，基于上述第三实施例，所述运动态用户轨迹的轨迹信息包括轨迹时间戳、途经路段、轨迹总距离；所述基于任意两用户当天的运动态用户轨迹，进行时空伴随检测，得到检测结果的步骤，包括：基于任意两用户当天的途经路段确定重合路段；基于任意两用户当天的所述重合路段上的轨迹时间戳，确定任意两用户到达和/或离开所述重合路段的时刻；若任意两用户到达和/或离开所述重合路段的时间差小于预设差值门限，则确定所述重合路段为短距离伴随路段；统计任意两用户当天的运动态用户轨迹上所述短距离伴随路段的伴随总距离；基于所述伴随总距离和任意两用户当天的运动态用户轨迹的轨迹总距离，计算得到伴随距离比；若所述伴随总距离大于预设总距离门限，且所述伴随距离比大于预设伴随距离门限，则确定检测结果为任意两用户存在时空伴随。在一实施例中，对任意两用户进行时空检测的步骤包括：基于任意两用户当天的途经路段确定两用户运动轨迹中的重合路段，重合路段指两个用户在出行过程中经过全部相同或者绝大部分相同的道路路段，根据两用户的信令数据可拟合出两个用户的运动轨迹；在确定两用户轨迹中的重合路段之后，基于两用户当天在重合路段上的轨迹时间戳，确定任意两用户到达和/或离开重合路段的时刻，用户携带的智能终端会不断和基站通信，在通信过程中生成的信令数据包括智能终端的通信地点、通信时刻等数据；其中，轨迹时间戳即信令数据中用户每个已记录的驻点位置对应的时间信息。若两用户的用户轨迹中存在重合路段，并且两用户到达和/或离开重合路段的时间差均小于预设差值门限，则确定该重合路段为短距离伴随路段，两用户在该重合路段上存在伴随关系，统计两用户当天的运动态用户轨迹上短距离伴随路段的伴随总距离，并基于伴随总距离和任意两用户当天的运动态用户轨迹的轨迹总距离，计算得到伴随距离比，伴随距离比参照下式：式中，表示伴随总距离，轨迹A距离和轨迹B距离表示两用户的用户轨迹的总距离；若伴随总距离大于预设总距离门限，且伴随距离比大于预设伴随距离门限，则确定检测结果为任意两用户的运动态用户轨迹中存在时空伴随，通过对两用户的运动态用户轨迹进行时空检测，基于两用户之间的时空伴随检测情况确定两用户之间是否存在运动态伴随关系，当两用户之间存在时空伴随时确定两用户在当天的用户轨迹中存在运动态伴随关系，然后基于两用户之间的伴随关系识别用户之间是否存在家庭成员关系，有效提高识别准确性。预设差值门限、伴随距离门限和预设总距离门限可根据实际情况调整，例如预设差值门限可以设置为2分钟，预设总距离门限可以设置为2000米，伴随距离门限可以设置为0.7。优选地，在第五实施例中，基于上述第四实施例，所述基于所述检测结果，确定任意两用户之间当天是否存在运动态伴随关系的步骤，包括：若所述检测结果为任意两用户的轨迹OD相同，且任意两用户存在时空伴随，则确定任意两用户之间当天的伴随关系为运动态伴随关系。在一实施例中，若检测结果为任意两用户的轨迹OD相同，且任意两用户存在时空伴随，则确定任意两用户之间当天的伴随关系为运动态伴随关系，同时对两用户的运动态用户轨迹进行轨迹OD检测和时空伴随检测，确保检测结果的可靠性，提高家庭成员关系识别的准确性。优选地，在第六实施例中，基于上述第一实施例，所述基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系的步骤，包括：统计在预设天数内，任意两用户之间在预设夜间时段的所述伴随关系为所述驻留态伴随关系的第一天数；统计在预设天数内，任意两用户之间在一天内预设夜间时段之外的其它时段，同时存在所述运动态伴随关系和所述驻留态伴随关系的第二天数；若所述第一天数与预设天数之比大于预设第一比值门限，且所述第二天数与预设天数之比大于预设第二比值门限，则确定任意两用户之间存在家庭成员关系。在一实施例中，统计在连续的预设天数内，任意两用户之间在预设的夜间时段的伴随关系为驻留态伴随关系的第一天数，预设天数和预设夜间时段可根据实际情况调整，例如预设天数设置为30天，预设夜间时段设置为晚上22点至第二天早上7点；统计在预设天数内，任意两用户之间在至少一天内预设夜间时段之外的其它时段内，存在驻留态伴随关系以及运动态伴随关系的第二天数；若第一天数与预设天数之比大于预设第一比值门限，且第二天数与预设天数之比大于预设第二比值门限，则确定任意两用户之间存在家庭成员关系，其中，预设第一比值门限和预设第二比值门限可根据实际情况调整，例如分别设定为0.6和0.2。确定任意两用户是否存在家庭成员关系的识别算法如下：1）连续m天的数据中，存在超过n天的夜间时段驻留态伴随关系，且n/m＞门限β；2）连续m天的数据中，存在超过l天同时存在其它时段驻留态伴随关系和运动态伴随关系，且n/m＞门限θ。如果两个用户同时满足上述两个条件，说明二者存在家庭成员关系。在家庭成员之间的出行轨迹中，在夜间时段，家庭成员通常会在家中休息，这会导致他们的轨迹在夜间呈现出驻留态的特征，即多个用户在同一个地点停留，互为驻留态伴随关系；而在周末或其他时间，家庭成员可能会一起外出活动，例如一起去购物、游玩等，这会导致他们的轨迹在这段时间内呈现出明显的运动态，即多个用户在同一时间段内共同移动，互为运动态伴随关系，基于连续多天的伴随关系，来识别任意两个用户之间是否存在家庭成员关系，确保识别结果的准确性，同时，通过分析用户连续多天的驻留态伴随关系和运动态伴随关系，运营商还可以了解家庭成员之间的互动和行为模式，从而精准的向用户推送用户需要的信息，精准营销，为出行规划、家庭活动安排等提供个性化的家庭服务。优选地，在第七实施例中，基于上述第一实施例，所述方法还包括：将存在所述家庭成员关系的用户，输出至待聚类用户列表；依次遍历所述待聚类用户列表；若当前遍历用户与已遍历用户之间不存在所述家庭成员关系，则新建所述当前遍历用户的家庭组；若当前遍历用户与已遍历用户之间存在所述家庭成员关系，则将所述当前遍历用户加入所述已遍历用户的家庭组。优选地，在将用户输出至待聚类用户列表时，可根据用户的家庭成员关系的数量从多至少排序，有效提高聚类效率。参照图3，图3为用户A/B/C/D/E的家庭成员关系图，图中的连线代表用户之间存在的已直接识别出的家庭成员关系，其中用户A/B/C/D/E已识别出的家庭成员关系数量分别为2、2、3、2和1，输出至待聚类用户列表后的排序可以为用户C/A/B/D/E。考虑到多数家庭中存在3个及以上家庭成员，例如典型的三口之家，父母和孩子，需要在识别出用户之间的家庭成员关系的基础上，将同一个家庭的所有成员聚集到一个家庭组，对开拓家庭市场提供助力。其中，在一个家庭中，可能任意两个成员之间存在直接识别的家庭成员关系，也有可能只有部分成员存在直接识别的家庭成员关系，比如妈妈跟小孩、妈妈跟爸爸之间存在直接识别的家庭成员关系，但是可能小孩跟爸爸平时一起出去的机会少，就达不到直接识别家庭成员关系的标准，此时无法识别到小孩跟爸爸真实的家庭成员关系，而通过遍历存在家庭成员关系的用户列表，将直接或者间接存在家庭成员关系的用户聚类到同一个家庭组中，以此将同一个家庭组中未检测出存在直接的家庭成员关系的用户，确定为存在家庭成员关系，有效提高家庭成员关系识别准确性。优选地，在第八实施例中，基于上述第七实施例，所述方法还包括：若所述当前遍历用户至少与第一家庭组中的一个或多个已遍历用户，以及，与第二家庭组中的一个或多个已遍历用户之间均存在家庭成员关系，则至少将所述第一家庭组和所述第二家庭组合并为一个新的家庭组，并将所述当前遍历用户加入所述新的家庭组。在一实施例中，若当前遍历到的用户与现有2个及以上的家庭组的成员存在直接识别家庭成员关系，则首先将这些家庭组合并成一个新的大家庭组，并将当前用户也归并到合并后的家庭组，通过合并家庭组，更新家庭组中各用户的家庭成员关系数据，确保家庭成员关系识别准确性。参照图4，用户F分别与家庭组1中的用户B以及家庭组2中的用户E存在家庭成员关系，则将家庭组1和家庭组2合并为新的家庭组，并将用户F加入至新的家庭组中，得到家庭组3。此外，对于家庭成员关系为0的用户，在遍历结束后，对每个家庭成员关系为0的用户分别建立家庭组，并将所有互为家庭成员关系的用户的家庭组和家庭成员关系为0的家庭组输出为家庭成员关系表。此外，参照图5，本申请还提供一种家庭成员关系识别装置，所述家庭成员关系识别装置包括：轨迹模块M1，用于基于预设数量的用户每天的预设数量的信令数据，得到预设数量的用户每天的用户轨迹，所述用户轨迹包括运动态用户轨迹和/或驻留态用户轨迹；伴随模块M2，用于根据所述用户轨迹，确定在预设数量的用户中任意两用户之间每天的伴随关系，所述伴随关系包括运动态伴随关系和驻留态伴随关系；识别模块M3，用于基于预设天数内任意两用户之间的所述伴随关系，识别任意两用户之间是否存在家庭成员关系。本申请提供的家庭成员关系识别装置，采用上述实施例中的基于时空大数据的家庭成员关系识别的方法，旨在提高家庭成员关系识别的准确性。与常规技术相比，本申请实施例提供的家庭成员关系识别装置的有益效果与上述实施例提供的基于时空大数据的家庭成员关系识别的方法的有益效果相同，且家庭成员关系识别装置中的其他技术特征与上述实施例方法公开的特征相同，在此不做赘述。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本申请实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在如上所述的一个存储介质中，包括若干指令用以使得一台终端设备执行本申请各个实施例所述的方法。以上仅为本申请的优选实施例，并非因此限制本申请的专利范围，凡是利用本申请说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本申请的专利保护范围内。
