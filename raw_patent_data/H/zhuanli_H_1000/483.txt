标题title
时隙资源调度方法、装置、地球站、通信系统和存储介质
摘要abst
本发明涉及通信技术领域，提供一种时隙资源调度方法、装置、地球站、通信系统和存储介质。该方法包括：首先根据调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间，并结合每个载波信道在前一次时隙调度中产生的时延，得到每个载波信道在本次时隙调度的实际起始时间，再根据本次时隙调度的时隙总需求量对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间，并结合本次时隙调度的虚拟结束时间，确定每个载波信道在本次时隙调度中产生的时延。通过在时隙调度中确保每个载波信道上实际调度的时隙资源长度为整数个时隙，从而有效地避免了时间碎片的产生，保证了时隙资源的连续性，提高了信道资源的利用率。
权利要求书clms
1.一种时隙资源调度方法，其特征在于，所述时隙资源调度方法包括：根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间；根据本次时隙调度的虚拟起始时间和每个载波信道在前一次时隙调度中产生的时延，得到每个载波信道在本次时隙调度的实际起始时间；根据本次时隙调度的时隙总需求量和每个载波信道在本次时隙调度的实际起始时间，对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间；其中，每个载波信道在本次时隙调度的实际起始时间与实际结束时间的时间差均等于整数个时隙；根据本次时隙调度的虚拟结束时间和每个载波信道在本次时隙调度的实际结束时间，确定每个载波信道在本次时隙调度中产生的时延。2.根据权利要求1所述的时隙资源调度方法，其特征在于，所述根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间的步骤，包括：获取前一次时隙调度的虚拟结束时间，并按照预设频率定期获取同步时钟板记录的网络参考时间；在所述网络参考时间与前一次时隙调度的虚拟结束时间间隔一个预设的调度周期的情况下，对所述网络参考时间进行精度转换，得到本次时隙调度的虚拟起始时间；根据本次时隙调度的虚拟起始时间和预设的调度周期，得到本次时隙调度的虚拟结束时间。3.根据权利要求1所述的时隙资源调度方法，其特征在于，所述本次时隙调度的时隙总需求量包括每个用户站在本次时隙调度中的时隙需求量；所述根据本次时隙调度的时隙总需求量和每个载波信道在本次时隙调度的实际起始时间，对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间的步骤，包括：根据每个载波信道在本次时隙调度的实际起始时间，确定每个载波信道在本次时隙调度中的待调度时隙资源；确定每个用户站在本次时隙调度中的优先级；根据每个用户站在本次时隙调度中的优先级和时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间。4.根据权利要求3所述的时隙资源调度方法，其特征在于，所述根据每个载波信道在本次时隙调度的实际起始时间，确定每个载波信道在本次时隙调度中的待调度时隙资源的步骤，包括：对于每个所述载波信道，根据所述载波信道在本次时隙调度的实际起始时间和预设的调度周期，得到所述载波信道在本次时隙调度中的初始时隙资源；判断所述载波信道的初始时隙资源中是否存在预绑定时隙资源；若是，则根据所述载波信道的初始时隙资源和预绑定时隙资源，确定所述载波信道的待调度时隙资源；若否，则将所述载波信道的初始时隙资源作为待调度时隙资源；获得每个载波信道在本次时隙调度中的待调度时隙资源。5.根据权利要求3所述的时隙资源调度方法，其特征在于，每个用户站均设置有保障速率，全部载波信道具有设定的顺序；所述根据每个用户站在本次时隙调度中的优先级和时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间的步骤，包括：根据每个用户站的保障速率，计算每个用户站的保障资源量；按照全部用户站的优先级从低到高的顺序，依次在最后一个载波信道的待调度时隙资源的尾部为每个用户站分配保障时隙资源；按照全部用户站的优先级从高到低的顺序，依次根据每个用户站的时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间。6.根据权利要求5所述的时隙资源调度方法，其特征在于，所述按照全部用户站的优先级从高到低的顺序，依次根据每个用户站的时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间的步骤，包括：按照全部用户站的优先级从高到低的顺序，依次将每个用户站作为目标用户站；释放所述目标用户站的保障时隙资源，并根据所述目标用户站的时隙需求量和每个载波信道的待调度时隙资源的资源量，确定与所述目标用户站匹配的目标载波信道；根据所述目标用户站的时隙需求量，将所述目标载波信道的待调度时隙资源与所述目标用户站进行绑定，并确定所述目标载波信道是否存在待绑定的时间碎片；若是，则在所述目标载波信道上基于该时间碎片获取一个时隙且将该时隙与所述目标用户站进行绑定，得到所述目标载波信道的实际结束时间；若否，则基于所述目标载波信道在本次时隙调度的实际起始时间和预设的调度周期，得到所述目标载波信道的实际结束时间；获得每个载波信道在本次时隙调度的实际结束时间。7.一种时隙资源调度装置，其特征在于，所述时隙资源调度装置包括：时间确定模块，用于根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间；根据本次时隙调度的虚拟起始时间和每个载波信道在前一次时隙调度中产生的时延，得到每个载波信道在本次时隙调度的实际起始时间；时隙调度模块，用于根据本次时隙调度的时隙总需求量和每个载波信道在本次时隙调度的实际起始时间，对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间；其中，每个载波信道在本次时隙调度的实际起始时间与实际结束时间的时间差均等于整数个时隙；时延确定模块，用于根据本次时隙调度的虚拟结束时间和每个载波信道在本次时隙调度的实际结束时间，确定每个载波信道在本次时隙调度中产生的时延。8.一种地球站，其特征在于，包括处理器和存储器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时，实现权利要求1至6中任一项所述的时隙资源调度方法。9.一种通信系统，其特征在于，包括卫星、用户站和权利要求8所述的地球站，所述地球站与所述用户站通过所述卫星通信。10.一种存储介质，其特征在于，所述存储介质上存储有计算机程序，该计算机程序被处理器执行时，实现权利要求1至6中任一项所述的时隙资源调度方法。
说明书desc
技术领域本发明涉及通信技术领域，具体而言，涉及一种时隙资源调度方法、装置、地球站、通信系统和存储介质。背景技术MF-TDMA是高轨宽带高通量卫星通信系统中返向链路的关键技术之一，该技术将返向资源划分为载波信道和信道上的时隙两个维度，其中时隙资源的调度算法是保障系统高效、稳定地进行业务传输的关键。时隙是载波信道的最小时间单位，其大小可以用符号数表示。在对时隙资源进行调度的过程中，一个调度周期能够容纳的时隙个数有可能不是整数，这样就会出现不足以构成一个时隙的时间碎片，然而传统的时隙资源调度方式会忽略掉这些时间碎片，从而会导致信道资源的利用率低。发明内容有鉴于此，本发明的目的在于提供一种时隙资源调度方法、装置、地球站、通信系统和存储介质。为了实现上述目的，本发明采用的技术方案如下：第一方面，本发明提供一种时隙资源调度方法，所述时隙资源调度方法包括：根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间；根据本次时隙调度的虚拟起始时间和每个载波信道在前一次时隙调度中产生的时延，得到每个载波信道在本次时隙调度的实际起始时间；根据本次时隙调度的时隙总需求量和每个载波信道在本次时隙调度的实际起始时间，对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间；其中，每个载波信道在本次时隙调度的实际起始时间与实际结束时间的时间差均等于整数个时隙；根据本次时隙调度的虚拟结束时间和每个载波信道在本次时隙调度的实际结束时间，确定每个载波信道在本次时隙调度中产生的时延。在可选的实施方式中，所述根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间的步骤，包括：获取前一次时隙调度的虚拟结束时间，并按照预设频率定期获取同步时钟板记录的网络参考时间；在所述网络参考时间与前一次时隙调度的虚拟结束时间间隔一个预设的调度周期的情况下，对所述网络参考时间进行精度转换，得到本次时隙调度的虚拟起始时间；根据本次时隙调度的虚拟起始时间和预设的调度周期，得到本次时隙调度的虚拟结束时间。在可选的实施方式中，所述本次时隙调度的时隙总需求量包括每个用户站在本次时隙调度中的时隙需求量；所述根据本次时隙调度的时隙总需求量和每个载波信道在本次时隙调度的实际起始时间，对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间的步骤，包括：根据每个载波信道在本次时隙调度的实际起始时间，确定每个载波信道在本次时隙调度中的待调度时隙资源；确定每个用户站在本次时隙调度中的优先级；根据每个用户站在本次时隙调度中的优先级和时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间。在可选的实施方式中，所述根据每个载波信道在本次时隙调度的实际起始时间，确定每个载波信道在本次时隙调度中的待调度时隙资源的步骤，包括：对于每个所述载波信道，根据所述载波信道在本次时隙调度的实际起始时间和预设的调度周期，得到所述载波信道在本次时隙调度中的初始时隙资源；判断所述载波信道的初始时隙资源中是否存在预绑定时隙资源；若是，则根据所述载波信道的初始时隙资源和预绑定时隙资源，确定所述载波信道的待调度时隙资源；若否，则将所述载波信道的初始时隙资源作为待调度时隙资源；获得每个载波信道在本次时隙调度中的待调度时隙资源。在可选的实施方式中，每个用户站均设置有保障速率，全部载波信道具有设定的顺序；所述根据每个用户站在本次时隙调度中的优先级和时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间的步骤，包括：根据每个用户站的保障速率，计算每个用户站的保障资源量；按照全部用户站的优先级从低到高的顺序，依次在最后一个载波信道的待调度时隙资源的尾部为每个用户站分配保障时隙资源；按照全部用户站的优先级从高到低的顺序，依次根据每个用户站的时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间。在可选的实施方式中，所述按照全部用户站的优先级从高到低的顺序，依次根据每个用户站的时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间的步骤，包括：按照全部用户站的优先级从高到低的顺序，依次将每个用户站作为目标用户站；释放所述目标用户站的保障时隙资源，并根据所述目标用户站的时隙需求量和每个载波信道的待调度时隙资源的资源量，确定与所述目标用户站匹配的目标载波信道；根据所述目标用户站的时隙需求量，将所述目标载波信道的待调度时隙资源与所述目标用户站进行绑定，并确定所述目标载波信道是否存在待绑定的时间碎片；若是，则在所述目标载波信道上基于该时间碎片获取一个时隙且将该时隙与所述目标用户站进行绑定，得到所述目标载波信道的实际结束时间；若否，则基于所述目标载波信道在本次时隙调度的实际起始时间和预设的调度周期，得到所述目标载波信道的实际结束时间；获得每个载波信道在本次时隙调度的实际结束时间。第二方面，本发明提供一种时隙资源调度装置，所述时隙资源调度装置包括：时间确定模块，用于根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间；根据本次时隙调度的虚拟起始时间和每个载波信道在前一次时隙调度中产生的时延，得到每个载波信道在本次时隙调度的实际起始时间；时隙调度模块，用于根据本次时隙调度的时隙总需求量和每个载波信道在本次时隙调度的实际起始时间，对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间；其中，每个载波信道在本次时隙调度的实际起始时间与实际结束时间的时间差均等于整数个时隙；时延确定模块，用于根据本次时隙调度的虚拟结束时间和每个载波信道在本次时隙调度的实际结束时间，确定每个载波信道在本次时隙调度中产生的时延。第三方面，本发明提供一种地球站，包括处理器和存储器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时，实现前述实施方式中任一项所述的时隙资源调度方法。第四方面，本发明提供一种通信系统，包括卫星、用户站和前述实施方式所述的地球站，所述地球站与所述用户站通过所述卫星通信。第五方面，本发明提供一种存储介质，所述存储介质上存储有计算机程序，该计算机程序被处理器执行时，实现前述实施方式中任一项所述的时隙资源调度方法。本发明提供的时隙资源调度方法、装置、地球站、通信系统和存储介质，该方法包括：首先根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间，并结合每个载波信道在前一次时隙调度中产生的时延，得到每个载波信道在本次时隙调度的实际起始时间，再根据本次时隙调度的时隙总需求量对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间；其中每个载波信道在本次时隙调度的实际起始时间与实际结束时间的时间差均等于整数个时隙；最后根据本次时隙调度的虚拟结束时间和每个载波信道在本次时隙调度的实际结束时间，确定每个载波信道在本次时隙调度中产生的时延。通过在时隙调度中确保每个载波信道上实际调度的时隙资源长度为整数个时隙，从而有效地避免了时间碎片的产生，保证了时隙资源在调度过程中的连续性，提高了信道资源的利用率。为使本发明的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1示出了本发明实施例提供的通信系统的示意图；图2示出了本发明实施例提供的地球站的方框示意图；图3示出了传统的时隙资源调度方法的示例图；图4示出了本发明实施例提供的时隙资源调度方法的流程示意图之一；图5示出了本发明实施例提供的时隙资源调度方法的示例图之一；图6示出了本发明实施例提供的时隙资源调度方法的示例图之二；图7示出了本发明实施例提供的时隙资源调度方法的示例图之三；图8示出了本发明实施例提供的时隙资源调度方法的流程示意图之二；图9示出了本发明实施例提供的时隙资源调度方法的流程示意图之三；图10示出了本发明实施例提供的时隙资源调度方法的示例图之四；图11示出了本发明实施例提供的时隙资源调度方法的流程示意图之四；图12示出了本发明实施例提供的时隙资源调度方法的示例图之五；图13示出了本发明实施例提供的时隙资源调度方法的示例图之六；图14示出了本发明实施例提供的时隙资源调度装置的功能模块图。具体实施方式下面将结合本发明实施例中附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明的是，术语“第一”和“第二”等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。请参阅图1，是本发明实施例提供的通信系统的示意图。其中通信系统包括地球站、卫星和多个用户站，地球站与每个用户站通过卫星进行通信。卫星可以理解为是地球站与用户站之间的转发中继站；地球站是一种主站设备；用户站是一种小站设备，其可以是便携式、固定式、可拆卸式或可移动式的小站设备，本发明实施例不限定。请参阅图2，是本发明实施例提供的地球站的方框示意图。其中地球站包括处理器、存储器以及通信模块，并且各元件之间直接或间接地电性连接以实现数据的传输或交互。例如，这些元件通过一条或多条通讯总线或信号线实现电性连接。处理器用于读/写存储器中存储的数据或程序并执行相应地功能，其可以是通用处理器，如CPU 、NP 等；还可以是DSP数字信号处理器、ASIC专用集成电路、FPGA现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。存储器用于存储数据或程序，其可以是RAM，ROM，PROM，EPROM，EEPROM等。通信模块可以用于与其他设备进行信令或数据的通信。可以理解的是，图2所示的结构仅为地球站的结构示意图，地球站还可包括比图2中所示更多或者更少的组件，或者具有与图2所示不同的配置。图2中所示的各组件可以采用硬件、软件或其组合实现。在介绍本发明提供的时隙资源调度方法之前，为了便于更好地理解本发明的改进点，下面将先对传统的时隙资源调度方法进行介绍。请参阅图3，是传统的时隙资源调度方法的示例图。其中包含三个载波信道即载波信道1、载波信道2和载波信道3，并且每个载波信道上的时隙为固定长度。在一个调度周期中，其所能容纳的时隙个数不是整数，所以在调度周期的尾部会出现无法构成一个时隙的时间碎片，由于这些时间碎片无法分配也无法绑定，所以传统的时隙资源调度方法会导致时隙资源的浪费，从而降低了信道资源的利用率。由此，本发明实施例提供了一种时隙资源调度方法以解决上述问题。下面将以上述的地球站作为执行主体，介绍本发明实施例提供的各个方法中的各个步骤以及相应的技术效果。请参阅图4，是本发明实施例提供的时隙资源调度方法的流程示意图。步骤S202，根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间；步骤S204，根据本次时隙调度的虚拟起始时间和每个载波信道在前一次时隙调度中产生的时延，得到每个载波信道在本次时隙调度的实际起始时间；步骤S206，根据本次时隙调度的时隙总需求量和每个载波信道在本次时隙调度的实际起始时间，对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间；其中，每个载波信道在本次时隙调度的实际起始时间与实际结束时间的时间差均等于整数个时隙；步骤S208，根据本次时隙调度的虚拟结束时间和每个载波信道在本次时隙调度的实际结束时间，确定每个载波信道在本次时隙调度中产生的时延。可以理解的是，每次进行时隙调度的方式类似，为了便于描述，下面以一次时隙调度为例来说明时隙调度的具体过程。为了便于理解，本发明实施例提供了一个示例。例如有三个载波信道即载波信道1、载波信道2和载波信道3。首先，可以按照预先设定的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间，如图5所示。其中，该虚拟起始时间可以理解为在本次时隙调度中每个载波信道上应调度的时隙资源的起始位置，该虚拟结束时间可以理解为在本次时隙调度中每个载波信道上应调度的时隙资源的结束位置；预设的调度周期可以理解为一次时隙调度中应调度的时隙资源的长度。然后，获取每个载波信道在前一次时隙调度中产生的时延，该时延可以理解为载波信道在前一次时隙调度的实际结束时间晚于前一次时隙调度的虚拟结束时间的时长。并根据每个载波信道在前一次时隙调度中产生的时延和本次时隙调度的虚拟起始时间，确定每个载波信道在本次时隙调度的实际起始时间，该实际起始时间可以理解为在本次时隙调度中每个载波信道上实际调度的时隙资源的起始位置。例如，载波信道1在本次时隙调度的实际起始时间如图6所示。接着，获取本次时隙调度的时隙总需求量，并结合每个载波信道在本次时隙调度的实际起始时间，对全部载波信道进行时隙调度，以使在本次时隙调度中每个载波信道上实际调度的时隙资源的长度为整数个时隙，则得到每个载波信道在本次时隙调度的实际结束时间。其中，载波信道在本次时隙调度中的实际结束时间与实际起始时间的时间差，即是指载波信道在本次时隙调度中实际调度的时隙资源的长度。例如，载波信道1在本次时隙调度的实际结束时间如图7所示。最后，根据本次时隙调度的虚拟结束时间和每个载波信道在本次时隙调度的实际结束时间，计算每个载波信道在本次时隙调度中产生的时延，以便于确定每个载波信道在下一次时隙调度的实际起始时间。可以理解为，本发明实施例是将本次时隙调度的虚拟起始时间和虚拟结束时间作为参照，并结合前一次时隙调度中每个载波信道上产生的时延，来确定每个载波信道在本次时隙调度的实际起始时间，且在每个载波信道上调度整数个时隙，以确定每个载波信道在本次时隙调度的实际结束时间。即通过在时隙调度中，确保每个载波信道上实际调度的时隙资源长度为整数个时隙，从而有效地避免了时间碎片的产生，保证了时隙资源在调度过程中的连续性，提高了信道资源的利用率。可见基于上述步骤，首先根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间，并结合每个载波信道在前一次时隙调度中产生的时延，得到每个载波信道在本次时隙调度的实际起始时间，再根据本次时隙调度的时隙总需求量对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间；其中每个载波信道在本次时隙调度的实际起始时间与实际结束时间的时间差均等于整数个时隙；最后根据本次时隙调度的虚拟结束时间和每个载波信道在本次时隙调度的实际结束时间，确定每个载波信道在本次时隙调度中产生的时延。通过在时隙调度中确保每个载波信道上实际调度的时隙资源长度为整数个时隙，从而有效地避免了时间碎片的产生，保证了时隙资源在调度过程中的连续性，提高了信道资源的利用率。可选地，对于步骤S202，本发明实施例提供了一种可能的实现方式。步骤S202-1，获取前一次时隙调度的虚拟结束时间，并按照预设频率定期获取同步时钟板记录的网络参考时间；步骤S202-3，在网络参考时间与前一次时隙调度的虚拟结束时间间隔一个预设的调度周期的情况下，对网络参考时间进行精度转换，得到本次时隙调度的虚拟起始时间；步骤S202-5，根据本次时隙调度的虚拟起始时间和预设的调度周期，得到本次时隙调度的虚拟结束时间。在本实施例中，可以获取前一次时隙调度的虚拟结束时间，并且按照预设频率定期获取同步时钟板所记录的网络参考时间。然后判断网络参考时间与前一次时隙调度的虚拟结束时间是否间隔一个调度周期；如果不是，则继续获取下一个网络参考时间，如果是，则基于该网络参考时间确定本次时隙调度的虚拟起始时间。可以理解的是，网络参考时间即NCR，其是采用同步时钟板按照设定频率进行计数的方式所得到的时间，比如同步时钟板可以按照每间隔8纳秒计一次数的频率来进行计数。由于网络参考时间的度量精度是纳秒级别，而每次时隙调度的虚拟起始时间、虚拟结束时间、实际起始时间和实际结束时间的度量精度是毫秒级别，所以如果当前的网络参考时间与前一次时隙调度的虚拟结束时间间隔一个调度周期，那么需要对当前的网络参考时间进行精度转换，才能得到本次时隙调度的虚拟起始时间，然后基于本次时隙调度的虚拟起始时间加上一个预设的调度周期，即得到本次时隙调度的虚拟结束时间。为了便于理解，本发明实施例提供一个示例。例如，预设的调度周期用表示，预设的参考时间用/＞表示，当前的网络参考时间用/＞表示。如果当前的网络参考时间即/＞与前一次时隙调度的虚拟结束时间间隔一个调度周期即/＞，那么就可以按照预设公式即，/＞，计算得到本次时隙调度的虚拟起始时间和虚拟结束时间。其中，/＞表示本次时隙调度的虚拟起始时间，/＞表示本次时隙调度的虚拟结束时间，/＞运算表示向下取整。可以理解的是，基于地球站采用的通信协议所定义的帧结构，每次时隙调度的虚拟起始时间也可以采用超帧和帧内偏移来表示。可以理解为，本发明实施例是通过采用时间精度更高的网络参考时间来确定每次时隙调度的虚拟起始时间和虚拟结束时间，从而避免产生时间碎片，保证了时隙资源的连续性，提高了信道资源的利用率。可选地，对于步骤S206，本发明实施例提供了一种可能的实现方式，请参阅图8。步骤S206-1，根据每个载波信道在本次时隙调度的实际起始时间，确定每个载波信道在本次时隙调度中的待调度时隙资源；步骤S206-3，确定每个用户站在本次时隙调度中的优先级；步骤S206-5，根据每个用户站在本次时隙调度中的优先级和时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间。在本实施例中，本次时隙调度的时隙总需求量包括每个用户站在本次时隙调度中的时隙需求量。例如，本次时隙调度的时隙总需求量包括用户站a、用户站b和用户站c各自在本次时隙调度中的时隙需求量。对于载波信道1、载波信道2和载波信道3，可以基于每个载波信道在本次时隙调度的实际起始时间，确定每个载波信道在本次时隙调度中的待调度时隙资源，其中待调度时隙资源可以理解为在本次时隙调度中可调度的时隙资源。然后确定用户站a、用户站b和用户站c各自在本次时隙调度中的优先级，并结合用户站a、用户站b和用户站c各自在本次时隙调度中的时隙需求量，对载波信道1、载波信道2和载波信道3这三个载波信道在本次时隙调度中的待调度时隙资源进行时隙调度，即得到载波信道1、载波信道2和载波信道3各自在本次时隙调度的实际结束时间。可选地，对于步骤S206-1，本发明实施例提供了一种可能的实现方式，请参阅图9。步骤S206-1-1，对于每个载波信道，根据载波信道在本次时隙调度的实际起始时间和预设的调度周期，得到载波信道在本次时隙调度中的初始时隙资源；步骤S206-1-3，判断载波信道的初始时隙资源中是否存在预绑定时隙资源；步骤S206-1-5A，若是，则根据载波信道的初始时隙资源和预绑定时隙资源，确定载波信道的待调度时隙资源；步骤S206-1-5B，若否，则将载波信道的初始时隙资源作为待调度时隙资源；步骤S206-1-7，获得每个载波信道在本次时隙调度中的待调度时隙资源。可以理解的是，每个载波信道的处理方式类似，为了简要，下面将以载波信道1为例来进行说明。例如，可以基于载波信道1在本次时隙调度的实际起始时间加上一个预设的调度周期，即得到载波信道1在本次时隙调度的初始结束时间，那么载波信道1上本次时隙调度的实际起始时间至初始结束时间的时长，即为载波信道1在本次时隙调度中的初始时隙资源，该初始时隙资源的长度等于设定的一次时隙调度中应调度的时隙资源的长度。由于在载波信道上的固定位置，可能会提前绑定用户站执行登录操作或控制操作所需的时隙，所以在获得载波信道在本次时隙调度中的初始时隙资源之后，还需要确定该初始时隙资源中是否存在预绑定时隙资源。即判断载波信道1的初始时隙资源中是否存在预绑定时隙资源；如果存在，则根据载波信道1的初始时隙资源和预绑定时隙资源确定剩余时隙资源，即得到载波信道1的待调度时隙资源；如果不存在，则将载波信道1的初始时隙资源作为载波信道1的待调度时隙资源。假设载波信道1存在预绑定时隙资源，则载波信道1的待调度时隙资源如图10所示。按照上述类似的方式，对载波信道2和载波信道3进行处理，即得到载波信道1、载波信道2和载波信道3各自在本次时隙调度中的待调度时隙资源。可选地，对于步骤S206-5，本发明实施例提供了一种可能的实现方式，请参阅图11。步骤S206-5-1，根据每个用户站的保障速率，计算每个用户站的保障资源量；步骤S206-5-3，按照全部用户站的优先级从低到高的顺序，依次在最后一个载波信道的待调度时隙资源的尾部为每个用户站分配保障时隙资源；步骤S206-5-5，按照全部用户站的优先级从高到低的顺序，依次根据每个用户站的时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间。在本实施例中，每个用户站均设置有保障速率，其中保障速率是指为用户站设置的最小传输速率，并且全部载波信道具有设定的顺序。为了便于理解，继续以上述示例进行说明。假设载波信道1至载波信道3的顺序依次为载波信道1、载波信道2、载波信道3，以及用户站a至用户站c的优先级从高到低依次为用户站a、用户站b、用户站c。首先，根据用户站a、用户站b和用户站c各自的保障速率，分别计算用户站a、用户站b和用户站c各自的保障资源量。其中，保障资源量可以理解为是为了确保用户站的传输速率不低于其最小传输速率所需的时隙资源的最小值。然后，在最后一个载波信道即载波信道3的待调度时隙资源的尾部，按照全部用户站的优先级从低到高的顺序，依次为用户站c、用户站b、用户站a分配保障时隙资源，如图12所示。其中时隙资源a表示用户站a的保障时隙资源，时隙资源b表示用户站b的保障时隙资源，时隙资源c表示用户站c的保障时隙资源，并且时隙资源c位于载波信道3的待调度时隙资源的末端，时隙资源b其次，时隙资源a离末端最远。接着，按照全部用户站的优先级从高到低的顺序，依次根据用户站a的时隙需求量对用户站a进行时隙资源绑定、根据用户站b的时隙需求量对用户站b进行时隙资源绑定、根据用户站c的时隙需求量对用户站c进行时隙资源绑定，以对载波信道1、载波信道2和载波信道3这三个载波信道的待调度时隙资源进行时隙调度，即得到载波信道1、载波信道2和载波信道3各自在本次时隙调度的实际结束时间。可以理解为，本发明实施例是按照优先级从高到低的顺序来对每个用户站进行时隙资源绑定，并且在对每个用户站进行时隙资源绑定时，会将该用户站的保障时隙资源释放，由于此时其他用户站的保障时隙资源处于最后一个载波信道的尾部，这样就能够使全部载波信道中还未绑定的时隙资源是连续的，那么就可以保证用户站所绑定的时隙资源是连续的，即从用户站的角度避免了时间碎片的产生。可选地，对于步骤S206-5-5，本发明实施例提供了一种可能的实现方式，即：按照全部用户站的优先级从高到低的顺序，依次将每个用户站作为目标用户站；释放目标用户站的保障时隙资源，并根据目标用户站的时隙需求量和每个载波信道的待调度时隙资源的资源量，确定与目标用户站匹配的目标载波信道；根据目标用户站的时隙需求量，将目标载波信道的待调度时隙资源与目标用户站进行绑定，并确定目标载波信道是否存在待绑定的时间碎片；若是，则在目标载波信道上基于该时间碎片获取一个时隙且将该时隙与目标用户站进行绑定，得到目标载波信道的实际结束时间；若否，则基于目标载波信道在本次时隙调度的实际起始时间和预设的调度周期，得到目标载波信道的实际结束时间；获得每个载波信道在本次时隙调度的实际结束时间。为了便于理解，继续以上述示例进行说明。按照全部用户站的优先级从高到低的顺序，依次将用户站a、用户站b、用户站c作为目标用户站。为了简要，下面将以目标用户站是用户站a为例来进行说明。在最后一个载波信道即载波信道3中释放用户站a的保障时隙资源，然后统计载波信道1、载波信道2和载波信道3的待调度时隙资源的资源量，并结合用户站a的时隙需求量，在这三个载波信道中确定与用户站a匹配的目标载波信道。假设载波信道1的待调度时隙资源的资源量与用户站a的时隙需求量最接近，则将载波信道1作为与用户站a匹配的目标载波信道。接着，根据用户站a的时隙需求量，将载波信道1的待调度时隙资源与用户站a进行绑定，并确定载波信道1是否存在待绑定的时间碎片。如果载波信道1上不存在时间碎片，那么就基于载波信道1在本次时隙调度的实际起始时间加上一个预设的调度周期，即得到载波信道1在本次时隙调度的实际结束时间。如果载波信道1上存在时间碎片，那么就基于该时间碎片获取一个时隙，并且将该时隙与用户站a进行绑定后，确定载波信道1在本次时隙调度的实际结束时间，如图13所示。并且，基于该时间碎片获取一个时隙的方式可以是：基于该时间碎片的长度，从预先设定的多个时隙长度中，选择与该时间碎片的长度匹配的时隙长度，即得到目标时隙长度，并按照这个目标时隙长度将该时间碎片补全为一个完整的时隙。可以理解的是，由于存在不同长度的时隙，所以还可以预先设置编码调制规则，以对不同长度的时隙采用对应的编码调制方式进行编码调制。例如预先设定的编码调制规则可以是ACM ，或者CCM 。按照类似的方式对每个用户站进行处理，以将每个载波信道上的待调度时隙资源与用户站进行绑定，即得到每个载波信道在本次时隙调度的实际结束时间。应当理解的是，如果将目标用户站与目标载波信道上的时隙资源绑定后，还未到达该目标用户站的时隙需求量。若此时其他载波信道上还有可调度的时隙资源，那么可以将用户站与其他载波信道的时隙资源进行绑定，并且在绑定的过程中需要遵循以下三个原则：同一载波信道上的同一时隙不能分配给不同的用户站；一个用户站所绑定的时隙资源总量不能超过一个载波信道在一次时隙调度中用于动态分配的时隙资源总量；同一用户站不能绑定不同载波信道上相同时间的时隙资源。基于图13可以看出，在将载波信道上的时隙资源与用户站进行绑定时，如果载波信道上出现了需要绑定的时间碎片，那么就会提前调度部分时隙资源，以将该时间碎片补全为一个完整的时隙，再将该时隙与用户站进行绑定。即本发明实施例可以将时间碎片利用起来，从而保证了时隙资源在调度过程中的连续性，提高了信道资源的利用率。为了更好地理解本发明的效果，下面提供了传统的时隙资源调度方法与本发明所提供的时隙资源调度方法的对比示例。首先，从定性的角度进行分析：如果采用传统的时隙资源调度方法，那么每个调度周期都会产生一个时间碎片，并且这些时间碎片没有使用；如果采用本发明所提供的时隙资源调度方法，那么每个调度周期所产生的时间碎片都会被补全为一个时隙并使用。也就是说，在传统的时隙资源调度方法中，每个调度周期都会丢弃一个时间碎片；而在本发明所提供的时隙资源调度方法中，理论上不会存在被丢弃的时间碎片，故相比于传统的时隙资源调度方法，本发明所提供的时隙资源调度方法能够明显提高信道资源的利用率。并且，在本发明所提供的时隙资源调度方法中，即使由于时隙资源无法跨帧分配，而导致超帧中最后一个调度周期的时间碎片无法使用。那么在这种情况下，本发明也只是每间隔一个超帧才会出现一个无法使用的时间碎片，而传统的时隙资源调度方法是每间隔一个调度周期就会出现一个无法使用的时间碎片。由于一个超帧的时间长度远大于一个调度周期的时间长度，则本发明出现无法使用的时间碎片的频率远小于传统方法中的频率。因此，相比于传统的时隙资源调度方法，本发明所提供的时隙资源调度方法可以提高信道资源的利用率。然后，从定量的角度进行分析：假设符号速率为每秒一百万个符号，一个长时隙的大小为1560个符号即一个长时隙的长度为1.56毫秒，一个短时隙的大小为600个符号即一个短时隙的长度为0.6毫秒，一个超帧的长度为3000毫秒，一个调度周期的长度为50毫秒。如果采用传统的时隙资源调度方法并固定采用长时隙，则一个调度周期所产生的时间碎片的长度范围为如果采用本发明所提供的时隙资源调度方法并固定采用长时隙，则一个超帧所产生的时间碎片的长度范围为如果采用本发明所提供的时隙资源调度方法并自适应采用长时隙和短时隙，则一个超帧所产生的时隙碎片的长度范围为可以看出，无论是从定性的角度还是从定量的角度进行分析，相比于传统的时隙资源调度方法，本发明所提供的时隙资源调度方法可以极大地提高信道资源的利用率，能够使信道资源的利用率达到99.9%以上。为了执行上述实施例及各个可能的方式中的相应步骤，下面给出一种时隙资源调度装置的实现方式。请参阅图14，图14为本发明实施例提供的时隙资源调度装置的功能模块图。需要说明的是，本实施例提供的时隙资源调度装置，其基本原理及产生的技术效果和上述实施例相同，为简要描述，本实施例未提及之处，可参考上述实施例中相应的内容。该时隙资源调度装置包括：时间确定模块，用于根据预设的调度周期，确定本次时隙调度的虚拟起始时间和虚拟结束时间；根据本次时隙调度的虚拟起始时间和每个载波信道在前一次时隙调度中产生的时延，得到每个载波信道在本次时隙调度的实际起始时间；时隙调度模块，用于根据本次时隙调度的时隙总需求量和每个载波信道在本次时隙调度的实际起始时间，对全部载波信道进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间；其中，每个载波信道在本次时隙调度的实际起始时间与实际结束时间的时间差均等于整数个时隙；时延确定模块，用于根据本次时隙调度的虚拟结束时间和每个载波信道在本次时隙调度的实际结束时间，确定每个载波信道在本次时隙调度中产生的时延。可选地，时间确定模块还用于：获取前一次时隙调度的虚拟结束时间，并按照预设频率定期获取同步时钟板记录的网络参考时间；在网络参考时间与前一次时隙调度的虚拟结束时间间隔一个预设的调度周期的情况下，对网络参考时间进行精度转换，得到本次时隙调度的虚拟起始时间；根据本次时隙调度的虚拟起始时间和预设的调度周期，得到本次时隙调度的虚拟结束时间。可选地，本次时隙调度的时隙总需求量包括每个用户站在本次时隙调度中的时隙需求量，时隙调度模块还用于：根据每个载波信道在本次时隙调度的实际起始时间，确定每个载波信道在本次时隙调度中的待调度时隙资源；确定每个用户站在本次时隙调度中的优先级；根据每个用户站在本次时隙调度中的优先级和时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间。可选地，时隙调度模块还用于：对于每个载波信道，根据载波信道在本次时隙调度的实际起始时间和预设的调度周期，得到载波信道在本次时隙调度中的初始时隙资源；判断载波信道的初始时隙资源中是否存在预绑定时隙资源；若是，则根据载波信道的初始时隙资源和预绑定时隙资源，确定载波信道的待调度时隙资源；若否，则将载波信道的初始时隙资源作为待调度时隙资源；获得每个载波信道在本次时隙调度中的待调度时隙资源。可选地，每个用户站均设置有保障速率，全部载波信道具有设定的顺序，时隙调度模块还用于：根据每个用户站的保障速率，计算每个用户站的保障资源量；按照全部用户站的优先级从低到高的顺序，依次在最后一个载波信道的待调度时隙资源的尾部为每个用户站分配保障时隙资源；按照全部用户站的优先级从高到低的顺序，依次根据每个用户站的时隙需求量，对全部载波信道的待调度时隙资源进行时隙调度，得到每个载波信道在本次时隙调度的实际结束时间。可选地，时隙调度模块还用于：按照全部用户站的优先级从高到低的顺序，依次将每个用户站作为目标用户站；释放目标用户站的保障时隙资源，并根据目标用户站的时隙需求量和每个载波信道的待调度时隙资源的资源量，确定与目标用户站匹配的目标载波信道；根据目标用户站的时隙需求量，将目标载波信道的待调度时隙资源与目标用户站进行绑定，并确定目标载波信道是否存在待绑定的时间碎片；若是，则在目标载波信道上基于该时间碎片获取一个时隙且将该时隙与目标用户站进行绑定，得到目标载波信道的实际结束时间；若否，则基于目标载波信道在本次时隙调度的实际起始时间和预设的调度周期，得到目标载波信道的实际结束时间；获得每个载波信道在本次时隙调度的实际结束时间。本发明实施例还提供了一种地球站，包括处理器和存储器，存储器存储有计算机程序，处理器执行计算机程序时，实现本发明实施例揭示的时隙资源调度方法。本发明实施例还提供了一种通信系统，包括本发明实施例提供的地球站、卫星和用户站，地球站与用户站通过卫星通信。本发明实施例还提供了一种存储介质，其上存储有计算机程序，该计算机程序被处理器执行时，实现本发明实施例揭示的时隙资源调度方法。在本发明所提供的几个实施例中，应该理解到，所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，附图中的流程图和框图显示了根据本发明的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本发明各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。所述功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
