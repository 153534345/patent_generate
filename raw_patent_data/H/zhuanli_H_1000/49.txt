标题title
攻击防御方法、装置、终端设备以及存储介质
摘要abst
本发明公开了一种攻击防御方法、装置、终端设备以及存储介质，接收用户输入的用户提示文本；根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；接收所述模型端发送的模型提示响应；基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。实现了对生成式大模型注入攻击防御场景中提取信息注入攻击的防御，提高了对攻击识别的准确性以及生成式大模型应答的安全性。
权利要求书clms
1.一种攻击防御方法，其特征在于，所述攻击防御方法应用于网络端，包括以下步骤：接收用户输入的用户提示文本；根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；接收所述模型端发送的模型提示响应；基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。2.如权利要求1所述的攻击防御方法，其特征在于，所述基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施的步骤之前还包括：根据所述生成式大模型中的模型配置参数、数据属性参数和工具配置参数，生成提取信息攻击识别参数；基于预设的识别算法，根据所述提取信息攻击识别参数进行规则生成，获取提取信息攻击识别规则。3.如权利要求1所述的攻击防御方法，其特征在于，所述基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施的步骤包括：根据所述模型端的接口响应格式，对所述模型提示响应的响应消息体进行解析，获取响应消息体参数；基于所述提取信息攻击识别规则，对所述响应消息体参数进行攻击识别，获取提取信息攻击识别结果；基于预设的防御策略，根据所述提取信息攻击识别结果采取对应的防御措施。4.如权利要求3所述的攻击防御方法，其特征在于，所述基于所述提取信息攻击识别规则，对所述响应消息体参数进行攻击识别，获取提取信息攻击识别结果的步骤包括：若所述响应消息体参数中包含模型配置参数，则得到所述提取信息攻击识别结果中包含模型配置注入攻击；若所述响应消息体参数中包含数据属性参数，则得到所述提取信息攻击识别结果中包含数据属性注入攻击；若所述响应消息体参数中包含工具配置参数，则得到所述提取信息攻击识别结果中包含工具配置注入攻击。5.如权利要求4所述的攻击防御方法，其特征在于，所述基于预设的防御策略，根据所述提取信息攻击识别结果采取对应的防御措施的步骤包括：若所述提取信息攻击识别结果中包含模型配置注入攻击，则对所述模型配置参数对应的模型配置信息进行过滤，并限制所述用户的模型配置访问权限，以对所述模型配置注入攻击进行防御；若所述提取信息攻击识别结果中包含数据属性注入攻击，则对所述数据属性参数对应的数据属性信息进行过滤，以对所述数据属性注入攻击进行防御；若所述提取信息攻击识别结果中包含工具配置注入攻击，则对所述工具配置参数对应的工具配置信息进行过滤，并限制所述用户的工具配置访问权限及外部接口访问权限，以对所述工具配置注入攻击进行防御。6.一种攻击防御方法，其特征在于，所述攻击防御方法应用于模型端，包括以下步骤：接收网络端发送的用户提示请求，所述用户提示请求为所述网络端在接收用户输入的用户提示文本之后，根据所述用户提示文本生成；将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；发送所述模型提示响应至所述网络端，由所述网络端基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。7.如权利要求6所述的攻击防御方法，其特征在于，所述接收网络端发送的用户提示请求的步骤之后还包括：基于所述提取信息攻击识别规则，对所述用户提示请求的请求消息体进行攻击识别，获取提取信息注入攻击参数；根据所述提取信息注入攻击参数，对所述请求消息体进行过滤，以对所述提取信息注入攻击参数对应的注入攻击进行防御。8.一种攻击防御装置，其特征在于，所述装置包括：文本接收模块，用于接收用户输入的用户提示文本；请求发送模块，用于根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；响应接收模块，用于接收所述模型端发送的模型提示响应；攻击防御模块，用于基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。9.一种终端设备，其特征在于，所述终端设备包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的攻击防御程序，所述攻击防御程序配置为实现如权利要求1至7中任一项所述的攻击防御方法的步骤。10.一种存储介质，其特征在于，所述存储介质上存储有攻击防御程序，所述攻击防御程序被处理器执行时实现如权利要求1至7任一项所述的攻击防御方法的步骤。
说明书desc
技术领域本发明涉及信息安全技术领域，尤其涉及一种攻击防御方法、装置、终端设备以及存储介质。背景技术随着人工智能的发展，生成式大模型作为信息安全的一大分支，其应用也越来越广泛，用户可以通过发送提示请求向生成式大模型提供的输入，以引导模型生成特定的回应或输出。由于生成式大模型的响应方式、使用的数据以及可供使用的外部API和工具等信息可能包含敏感信息，攻击者可能通过特制的即时注入攻击即在模型推理过程中实时注入恶意输入，影响模型的输出结果来提取这些信息，从而进行进一步的攻击和侦察活动。但是，在目前的生成式大模型注入攻击防御场景中通常通过对用户发送的提示或输出中的单词和短语进行语法检查过滤以及在模型响应时添加噪声来防御，而由于用户发送提示的格式和用语不固定，无法准确识别用户意图，导致攻击识别的误报率高，并不适用于针对提取信息类型的注入攻击进行防御的应用场景。上述内容仅用于辅助理解本发明的技术方案，并不代表承认上述内容是现有技术。发明内容本申请的主要目的在于提供一种攻击防御方法、装置、终端设备以及存储介质，旨在实现对生成式大模型注入攻击防御场景中提取信息注入攻击的防御。为实现上述目的，本申请提供一种攻击防御方法，所述攻击防御方法应用于网络端，包括以下步骤：接收用户输入的用户提示文本；根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；接收所述模型端发送的模型提示响应；基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。可选地，所述基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施的步骤之前还包括：根据所述生成式大模型中的模型配置参数、数据属性参数和工具配置参数，生成提取信息攻击识别参数；基于预设的识别算法，根据所述提取信息攻击识别参数进行规则生成，获取提取信息攻击识别规则。可选地，所述基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施的步骤包括：根据所述模型端的接口响应格式，对所述模型提示响应的响应消息体进行解析，获取响应消息体参数；基于所述提取信息攻击识别规则，对所述响应消息体参数进行攻击识别，获取提取信息攻击识别结果；基于预设的防御策略，根据所述提取信息攻击识别结果采取对应的防御措施。可选地，所述基于所述提取信息攻击识别规则，对所述响应消息体参数进行攻击识别，获取提取信息攻击识别结果的步骤包括：若所述响应消息体参数中包含模型配置参数，则得到所述提取信息攻击识别结果中包含模型配置注入攻击；若所述响应消息体参数中包含数据属性参数，则得到所述提取信息攻击识别结果中包含数据属性注入攻击；若所述响应消息体参数中包含工具配置参数，则得到所述提取信息攻击识别结果中包含工具配置注入攻击。可选地，所述基于预设的防御策略，根据所述提取信息攻击识别结果采取对应的防御措施的步骤包括：若所述提取信息攻击识别结果中包含模型配置注入攻击，则对所述模型配置参数对应的模型配置信息进行过滤，并限制所述用户的模型配置访问权限，以对所述模型配置注入攻击进行防御；若所述提取信息攻击识别结果中包含数据属性注入攻击，则对所述数据属性参数对应的数据属性信息进行过滤，以对所述数据属性注入攻击进行防御；若所述提取信息攻击识别结果中包含工具配置注入攻击，则对所述工具配置参数对应的工具配置信息进行过滤，并限制所述用户的工具配置访问权限及外部接口访问权限，以对所述工具配置注入攻击进行防御。可选地，所述攻击防御方法应用于模型端，包括以下步骤：接收网络端发送的用户提示请求，所述用户提示请求为所述网络端在接收用户输入的用户提示文本之后，根据所述用户提示文本生成；将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；发送所述模型提示响应至所述网络端，由所述网络端基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。可选地，所述接收网络端发送的用户提示请求的步骤之后还包括：基于所述提取信息攻击识别规则，对所述用户提示请求的请求消息体进行攻击识别，获取提取信息注入攻击参数；根据所述提取信息注入攻击参数，对所述请求消息体进行过滤，以对所述提取信息注入攻击参数对应的注入攻击进行防御。本申请实施例还提出一种攻击防御装置，所述攻击防御装置包括：文本接收模块，用于接收用户输入的用户提示文本；请求发送模块，用于根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；响应接收模块，用于接收所述模型端发送的模型提示响应；攻击防御模块，用于基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。本申请实施例还提出一种终端设备，所述终端设备包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的攻击防御程序，所述攻击防御程序被所述处理器执行时实现如上所述的攻击防御方法的步骤。本申请实施例还提出一种计算机可读存储介质，所述计算机可读存储介质上存储有攻击防御程序，所述攻击防御程序被处理器执行时实现如上所述的攻击防御方法的步骤。本申请实施例提出的攻击防御方法、装置、终端设备以及存储介质，接收用户输入的用户提示文本；根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；接收所述模型端发送的模型提示响应；基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。本发明通过网络端接收用户输入的用户提示文本，根据用户提示文本生成用户提示请求并发送至模型端，由模型端将用户提示请求输入生成式大模型中进行提示应答后，再将提示应答得到的模型提示响应发送到网络端，由网络端利用提取信息攻击识别结果和模型提示响应攻击识别得到提取信息攻击识别结果，并根据提取信息攻击识别结果采取对应的防御措施，实现了对生成式大模型注入攻击防御场景中提取信息注入攻击的防御，提高了对提取信息攻击识别的准确性以及生成式大模型应答的安全性。附图说明图1是本申请攻击防御装置所属终端设备的功能模块示意图；图2为本申请攻击防御方法第一示例性实施例的流程示意图；图3为本申请攻击防御方法第二示例性实施例的流程示意图；图4为本申请攻击防御方法第三示例性实施例的流程示意图；图5为本申请攻击防御方法第四示例性实施例的流程示意图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。本申请实施例的主要解决方案是：接收用户输入的用户提示文本；根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；接收所述模型端发送的模型提示响应；基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。本发明通过网络端接收用户输入的用户提示文本，根据用户提示文本生成用户提示请求并发送至模型端，由模型端将用户提示请求输入生成式大模型中进行提示应答后，再将提示应答得到的模型提示响应发送到网络端，由网络端利用提取信息攻击识别结果和模型提示响应攻击识别得到提取信息攻击识别结果，并根据提取信息攻击识别结果采取对应的防御措施，实现了对生成式大模型注入攻击防御场景中提取信息注入攻击的防御，提高了对提取信息攻击识别的准确性以及生成式大模型应答的安全性。本申请实施例考虑到，相关技术方案通过对用户发送的提示或输出中的单词和短语进行语法检查过滤以及在模型响应时添加噪声来防御，而由于用户发送提示的格式和用语不固定，无法准确识别用户意图，导致攻击识别的误报率高，并不适用于针对提取信息类型的注入攻击进行防御的应用场景。基于此，本申请实施例提出一种解决方案，实现了针对生成式大模型实施快速信息提取攻击的防御方法，提高了对提取信息攻击识别的准确性以及生成式大模型应答的安全性，保护系统免受提取信息攻击的威胁。具体地，参照图1，图1为本申请攻击防御装置所属终端设备的功能模块示意图。该攻击防御装置可以为独立于终端设备的、能够进行攻击防御的装置，其可以通过硬件或者软件的形式承载于终端设备上。该终端设备可以为手机、平板电脑等具有攻击防御功能的智能移动设备，还可以为具有攻击防御功能的固定终端设备或服务器等。在本实施例中，该攻击防御装置所属终端设备至少包括输出模块110、处理器120、存储器130以及通信模块140。存储器130中存储有操作系统以及攻击防御程序，攻击防御装置可以将接收到的和处理的数据信息存储于该存储器130中；输出模块110可为显示屏、扬声器等。通信模块140可以包括WIFI模块、移动通信模块以及蓝牙模块等，通过通信模块140与外部设备或服务器进行通信。其中，存储器130中的攻击防御程序被处理器执行时实现以下步骤：接收用户输入的用户提示文本；根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；接收所述模型端发送的模型提示响应；基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。进一步地，存储器130中的攻击防御程序被处理器执行时还实现以下步骤：根据所述生成式大模型中的模型配置参数、数据属性参数和工具配置参数，生成提取信息攻击识别参数；基于预设的识别算法，根据所述提取信息攻击识别参数进行规则生成，获取提取信息攻击识别规则。进一步地，存储器130中的攻击防御程序被处理器执行时还实现以下步骤：根据所述模型端的接口响应格式，对所述模型提示响应的响应消息体进行解析，获取响应消息体参数；基于所述提取信息攻击识别规则，对所述响应消息体参数进行攻击识别，获取提取信息攻击识别结果；基于预设的防御策略，根据所述提取信息攻击识别结果采取对应的防御措施。进一步地，存储器130中的攻击防御程序被处理器执行时还实现以下步骤：若所述响应消息体参数中包含模型配置参数，则得到所述提取信息攻击识别结果中包含模型配置注入攻击；若所述响应消息体参数中包含数据属性参数，则得到所述提取信息攻击识别结果中包含数据属性注入攻击；若所述响应消息体参数中包含工具配置参数，则得到所述提取信息攻击识别结果中包含工具配置注入攻击。进一步地，存储器130中的攻击防御程序被处理器执行时还实现以下步骤：若所述提取信息攻击识别结果中包含模型配置注入攻击，则对所述模型配置参数对应的模型配置信息进行过滤，并限制所述用户的模型配置访问权限，以对所述模型配置注入攻击进行防御；若所述提取信息攻击识别结果中包含数据属性注入攻击，则对所述数据属性参数对应的数据属性信息进行过滤，以对所述数据属性注入攻击进行防御；若所述提取信息攻击识别结果中包含工具配置注入攻击，则对所述工具配置参数对应的工具配置信息进行过滤，并限制所述用户的工具配置访问权限及外部接口访问权限，以对所述工具配置注入攻击进行防御。进一步地，存储器130中的攻击防御程序被处理器执行时还实现以下步骤：接收网络端发送的用户提示请求，所述用户提示请求为所述网络端在接收用户输入的用户提示文本之后，根据所述用户提示文本生成；将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；发送所述模型提示响应至所述网络端，由所述网络端基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。进一步地，存储器130中的攻击防御程序被处理器执行时还实现以下步骤：基于所述提取信息攻击识别规则，对所述用户提示请求的请求消息体进行攻击识别，获取提取信息注入攻击参数；根据所述提取信息注入攻击参数，对所述请求消息体进行过滤，以对所述提取信息注入攻击参数对应的注入攻击进行防御。本实施例通过上述方案，具体通过接收用户输入的用户提示文本；根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；接收所述模型端发送的模型提示响应；基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。通过网络端接收用户输入的用户提示文本，根据用户提示文本生成用户提示请求并发送至模型端，由模型端将用户提示请求输入生成式大模型中进行提示应答后，再将提示应答得到的模型提示响应发送到网络端，由网络端利用提取信息攻击识别结果和模型提示响应攻击识别得到提取信息攻击识别结果，并根据提取信息攻击识别结果采取对应的防御措施，实现了对生成式大模型注入攻击防御场景中提取信息注入攻击的防御，提高了对提取信息攻击识别的准确性以及生成式大模型应答的安全性。基于上述终端设备架构但不限于上述架构，提出本申请方法实施例。参照图2，图2为本申请攻击防御方法第一示例性实施例的流程示意图。所述攻击防御方法应用于网络端，包括以下步骤：步骤S10：接收用户输入的用户提示文本。本实施例方法的执行主体可以是一种攻击防御装置，也可以是一种攻击防御终端设备或服务器，本实施例以攻击防御装置进行举例，该攻击防御装置可以集成在具有数据处理功能终端设备上。网络端接收用户输入的用户提示文本。其中，所述用户提示文本是用户向生成式大模型提问的内容，用户可以通过各种方式输入文本，如文字输入、语音输入等。步骤S20：根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应。为了将用户的问题传递给预设的生成式大模型，以便模型能够理解并生成相应的回答，网络端根据接收到的用户提示文本，生成一个用户的提示请求，再将用户提示请求发送到模型端，由模型端接收到网络端发送的用户提示请求后，将用户提示请求输入到预先设置的生成式大模型中进行提示应答，得到模型的提示响应。其中，所述用户提示请求除了包含用户提示文本的请求参数内容，如通过URL路径的查询字符串、请求头和请求体等，还可以包含用户本次对话的对话历史和环境设置等内容以及待识别的提取信息类型的注入攻击相关参数，如敏感数据相关信息、模型配置信息和工具配置信息的请求参数，这些参数是攻击者主要侦察的对象。步骤S30：接收所述模型端发送的模型提示响应。在模型端完成提示应答之后，网络端接收到模型端发送的模型提示响应。其中，所述模型提示响应除了包含了生成式大模型对用户提示的处理结果内容，即模型输出的回答或响应文本等响应体参数，还可能包含其他相关信息，如请求ID、请求时间戳、模型版本号等元数据信息，以及敏感数据相关信息、模型配置信息和工具配置信息等待识别的响应参数。步骤S40：基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。网络端使用预先设定的提取信息攻击识别规则对接收到的模型提示响应进行攻击识别，根据攻击识别的结果采取对应的防御措施。其中，所述提取信息攻击识别规则是基于生成式大模型生成的，网络端会根据提取信息攻击识别规则判断模型提示响应是否存在潜在的攻击行为。更具体地，在一个基于生成式大模型的对话系统中，用户提示请求通常包含用户的问题或指令，而模型提示响应则是系统根据问题生成的回答。其中，用户提示请求和模型提示响应的内容是根据具体应用场景和需求而定的。用户提示请求作为输入被发送到模型端，模型端对其进行处理后生成模型提示响应，然后将响应发送回网络端。用户提示请求提供了用户的问题或请求内容，而模型提示响应是模型对用户提示进行处理后得到的回答或响应。网络端接收到模型提示响应后可以进一步处理，例如进行攻击识别和防御等操作。本实施例通过上述方案，具体通过接收用户输入的用户提示文本；根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；接收所述模型端发送的模型提示响应；基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。本发明通过网络端接收用户输入的用户提示文本，根据用户提示文本生成用户提示请求并发送至模型端，由模型端将用户提示请求输入生成式大模型中进行提示应答后，再将提示应答得到的模型提示响应发送到网络端，由网络端利用提取信息攻击识别结果和模型提示响应攻击识别得到提取信息攻击识别结果，并根据提取信息攻击识别结果采取对应的防御措施，实现了对生成式大模型注入攻击防御场景中提取信息注入攻击的防御，提高了对提取信息攻击识别的准确性以及生成式大模型应答的安全性。参照图3，图3为本发明攻击防御方法第二示例性实施例的流程示意图。基于第一实施例，提出本申请第二实施例，本申请第二实施例与第一实施例的区别在于：在本实施例中，所述基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施的步骤之前还包括：步骤S401：根据所述生成式大模型中的模型配置参数、数据属性参数和工具配置参数，生成提取信息攻击识别参数；步骤S402：基于预设的识别算法，根据所述提取信息攻击识别参数进行规则生成，获取提取信息攻击识别规则。具体地，为了生成攻击识别所需的提取信息攻击识别规则，首先，根据所述生成式大模型中的模型配置参数、模型相关的数据属性参数和模型调用的工具配置参数，得到用于提取信息攻击识别的参数。其中，所述提取信息攻击识别参数包括但不限于生成式大模型的模型配置参数、模型相关数据参数和模型调用的工具配置参数这三种用于识别提取信息攻击的参数。模型的配置参数包括模型类型、模型架构、模型训练方式等，可以帮助识别出使用过于简单或者不安全的机器学习模型的情况。模型相关的数据参数包括输入数据和输出数据的格式、预处理和后处理的方式等。模型调用工具配置参数包括模型调用接口的配置、调用频率限制的设置、认证和加密的方式等。最后，基于预先设定的识别算法，利用提取信息攻击参数进行规则生成，得到提取信息攻击识别规则。其中，所述提取信息攻击识别规则可以是根据提取信息攻击参数作为识别算法的关键字生成的攻击识别规则，所述提取信息攻击识别规则还可以是基于特定的文本分析技术、机器学习算法或深度学习模型等，通过分析训练数据集中的正常和攻击性文本样本，学习到不同类型的攻击模式和特征，并据此生成相应的攻击识别规则。可以根据请求消息体或响应消息体的特征、模式和上下文进行设计，以便系统能够准确判断模型提示响应是否包含潜在的攻击行为。本实施例通过上述方案，具体通过根据预设的模型配置参数、数据属性参数和工具配置参数，生成提取信息攻击识别参数；基于预设的识别算法，根据所述提取信息攻击识别参数进行规则生成，获取提取信息攻击识别规则。可以利用提取信息攻击识别规则帮助网络端识别模型提示响应中是否存在潜在的攻击行为，进而增强安全性和可靠性。参照图4，图4为本发明攻击防御方法第三示例性实施例的流程示意图。基于第二实施例，提出本申请第三实施例，本申请第三实施例与第二实施例的区别在于：在本实施例中，所述基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施的步骤包括：步骤S403：根据所述模型端的接口响应格式，对所述模型提示响应的响应消息体进行解析，获取响应消息体参数；步骤S404：基于所述提取信息攻击识别规则，对所述响应消息体参数进行攻击识别，获取提取信息攻击识别结果；步骤S405：基于预设的防御策略，根据所述提取信息攻击识别结果采取对应的防御措施。具体地，首先，网络端接收到模型端发送的模型提示响应后，根据模型端的接口响应格式对响应消息体进行解析，获取响应消息体参数。其中，网络端会分析模型端的接口响应格式确定响应消息体的格式，对响应消息体进行解析处理，从而得到响应消息体的具体参数。然后，网络端基于提取信息攻击识别规则，对响应消息体参数进行攻击识别，得到提取信息攻击识别结果。其中，网络端会使用预设的提取信息攻击识别规则，对解析得到的响应消息体参数进行分析和判断，以确定是否存在潜在的提取信息攻击行为，并生成相应的识别结果。最后，网络端根据提取信息攻击识别结果采取对应的防御措施，基于预设的防御策略进行处理。其中，网络端会根据提取信息攻击识别的结果，按照预设的防御策略，采取相应的防御措施，例如拦截恶意请求、记录攻击信息、触发报警机制等。进一步地，作为一种实施方式，所述基于所述提取信息攻击识别规则，对所述响应消息体参数进行攻击识别，获取提取信息攻击识别结果的步骤包括：步骤S4041：若所述响应消息体参数中包含模型配置参数，则得到所述提取信息攻击识别结果中包含模型配置注入攻击；步骤S4042：若所述响应消息体参数中包含数据属性参数，则得到所述提取信息攻击识别结果中包含数据属性注入攻击；步骤S4043：若所述响应消息体参数中包含工具配置参数，则得到所述提取信息攻击识别结果中包含工具配置注入攻击。具体地，首先，如果响应消息体参数中包含模型配置参数，网络端识别到模型配置注入攻击。其中，所述模型配置注入攻击是指攻击者通过获取模型的配置参数进行注入攻击的行为，可以通过检查模型配置参数的合法性、访问权限、比对与预设配置的差异等方式来判断是否存在模型配置类型的提取信息攻击。然后，如果响应消息体参数中包含数据属性参数，网络端识别到数据属性注入攻击。其中，所述数据属性注入攻击是指攻击者通过获取模型相关的数据属性参数进行注入攻击的行为，可以通过验证数据属性参数的合法性、访问权限、检查与预期数据属性的一致性等方式来判断是否存在数据属性类型的提取信息攻击。最后，如果响应消息体参数中包含模型调用工具的配置参数，网络端识别到工具配置注入攻击。其中，所述工具配置注入攻击是指攻击者通过获取模型调用的工具配置参数来进行注入攻击的行为，可以通过验证工具配置参数的合法性、访问权限、比对与预设配置的差异等方式来判断是否存在工具配置类型的提取信息攻击。所述提取信息攻击识别参数可以包括生成式大模型的模型配置参数、模型相关的数据参数和模型调用的工具配置参数等。进一步地，作为一种实施方式，所述基于预设的防御策略，根据所述提取信息攻击识别结果采取对应的防御措施的步骤包括：步骤S4051：若所述提取信息攻击识别结果中包含模型配置注入攻击，则对所述模型配置参数对应的模型配置信息进行过滤，并限制所述用户的模型配置访问权限，以对所述模型配置注入攻击进行防御；步骤S4052：若所述提取信息攻击识别结果中包含数据属性注入攻击，则对所述数据属性参数对应的数据属性信息进行过滤，以对所述数据属性注入攻击进行防御；步骤S4053：若所述提取信息攻击识别结果中包含工具配置注入攻击，则对所述工具配置参数对应的工具配置信息进行过滤，并限制所述用户的工具配置访问权限及外部接口访问权限，以对所述工具配置注入攻击进行防御。具体地，首先，如果提取信息攻击识别结果中包含模型配置注入攻击，网络端可以采取过滤响应消息体中的模型配置信息以及限制用户的模型配置访问权限等防御措施。其中，网络端在识别到模型配置注入攻击时，能够通过限制模型配置信息的外发和用户对模型配置的访问权限进行针对性防御，避免提取模型配置信息的注入攻击。然后，如果提取信息攻击识别结果中包含数据属性注入攻击，网络端可以采取过滤响应消息体中的数据属性信息的防御措施。其中，网络端在识别到数据属性注入攻击时，能够通过限制模型数据相关属性信息的外发进行针对性防御，避免提取数据相关信息的注入攻击。最后，如果提取信息攻击识别结果中包含工具配置注入攻击，网络端可以采取过滤响应消息体中的模型调用工具的配置信息以及限制用户对模型调用的工具相关配置的访问权限及外部接口访问权限等防御措施。其中，网络端在识别到工具配置注入攻击时，限制工具配置信息的外发和用户对工具配置的访问权限进行针对性防御，避免提取工具配置信息的注入攻击。更具体地，所述网络端可以是部署在应用程序或浏览器与生成式大模型之间的网络设备，如网络防火墙，以openai提供的补全接口为例说明应用程序访问ChatGPT以及获取ChatGPT应答内容的过程：得到的提取响应为：{ "id": "cmpl-uqkvlQyYK7bGYrRHQ0eXlWi7", "object": "text_completion","created": 1589478378, "model": "text-davinci-003", "choices": , "usage": { "prompt_tokens": 5, "completion_tokens": 7, "total_tokens": 12 } }其中，在发送用户提示请求后，openai的补全接口会返回一个JSON格式的响应。响应中包含以下信息："id"：生成的文本完成任务的唯一标识符。"object"：标识响应的对象类型，这里是"text_completion"。"created"：生成文本完成任务的时间戳。"model"：指定使用的模型，这里是"text-davinci-003"，代表openai对话API中的模型。"choices"：包含生成的文本及其他相关信息的数组。"text"：生成的文本内容，这里是"

This is indeed a test"。"index"：生成的文本在候选项中的索引。"logprobs"：生成文本的日志概率，可以用于进一步分析。"finish_reason"：生成文本的完成原因，这里是"length"，表示达到了指定的最大token数。"usage"：包含与请求相关的用量信息。"prompt_tokens"：用于生成文本的提示内容的token数。"completion_tokens"：生成的文本的token数。"total_tokens"：用于生成文本的总token数。其中，"text-davinci-003"为本次应答过程使用的指定模型，攻击者在提取到该指定模型的相关配置信息时，能够针对该模型的缺陷以及配置进行注入攻击。另外，攻击者可以通过快速提取信息攻击方式进行攻击，系统提示可以包含专有信息，这些信息决定了生成式大模型的响应方式、使用的数据以及可供使用的外部API和工具。通过特制的即时注入攻击提取这些信息可能是侦察的重要步骤。快速提取信息攻击，要求必须有响应信息，因此解析并扫描响应消息体中的内容，凡是涉及到大模型的配置信息、使用的数据相关信息以及调用的工具信息，则认为遭受到快速信息提取攻击，根据防御策略的配置，实施日志记录、关键字过滤、响应信息丢弃、证据信息留存等防御措施。本实施例通过上述方案，具体通过根据所述模型端的接口响应格式，对所述模型提示响应的响应消息体进行解析，获取响应消息体参数；基于所述提取信息攻击识别规则，对所述响应消息体参数进行攻击识别，获取提取信息攻击识别结果；基于预设的防御策略，根据所述提取信息攻击识别结果采取对应的防御措施。可以帮助网络端及时发现并应对各种提取信息攻击行为，保障模型、工具及其相关数据的安全性。参照图5，图5为本发明攻击防御方法第四示例性实施例的流程示意图。基于第三实施例，提出本申请第四实施例，本申请第三实施例与第四实施例的区别在于：在本实施例中，所述攻击防御方法应用于模型端，包括以下步骤：步骤S50：接收网络端发送的用户提示请求，所述用户提示请求为所述网络端在接收用户输入的用户提示文本之后，根据所述用户提示文本生成；步骤S60：将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；步骤S70：发送所述模型提示响应至所述网络端，由所述网络端基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。具体地，首先，模型端接收网络端发送的用户提示请求。其中，所述用户提示请求是在网络端接收到用户输入的提示文本后生成的，用户提示请求中包含用户提示文本的内容。然后，模型端将接收到的用户提示请求输入到预设的生成式大模型中进行应答，得到模型的提示响应。其中，生成式大模型会根据用户提示请求生成模型提示响应，模型提示响应中可以包含模型的应答文本，作为模型对用户提示的回应。最后，模型端将模型提示响应发送回网络端，由网络端基于预先设定的提取信息攻击识别规则对模型提示响应进行攻击识别，通过分析模型提示响应，网络端可以判断是否存在提取信息攻击。根据提取信息攻击识别结果，网络端会采取相应的防御措施，具体的防御措施可能包括过滤、修改或者拒绝返回的模型提示响应，以确保系统的安全性和防范恶意攻击。进一步地，作为一种实施方式，所述接收网络端发送的用户提示请求的步骤之后还包括：步骤S501：基于所述提取信息攻击识别规则，对所述用户提示请求的请求消息体进行攻击识别，获取提取信息注入攻击参数；步骤S502：根据所述提取信息注入攻击参数，对所述请求消息体进行过滤，以对所述提取信息注入攻击参数对应的注入攻击进行防御。具体地，首先，模型端基于提取信息攻击识别规则对用户提示请求的请求消息体进行攻击识别，得到提取信息注入攻击对应的参数。其中，模型端会根据预设的规则，检查用户提示请求中的消息体，以确定是否存在提取信息注入的攻击参数，如模型的配置参数、模型相关的数据参数和模型调用工具配置参数等。最后，根据提取信息注入攻击对应的参数对请求消息体进行过滤，以防御相应的注入攻击。其中，具体的过滤过程可以包括过滤掉或修改请求消息体中的恶意注入参数，进而确保用户提示请求的安全性和有效性。更具体地，得到的提取响应对应的请求包括：curl https://api.openai.com/v1/completions  -H "Content-Type:application/json"  -H "Authorization: Bearer $OPENAI_API_KEY"  -d '{ "model": "text-davinci-003", "prompt": "Say this is a test", "max_tokens": 7,"temperature": 0 }'其中，该用户提示请求代表使用curl命令发送请求到https://api.openai.com/v1/completions，即openai的API接口，其中包含以下参数："Content-Type: application/json"：指定请求的内容类型为JSON格式。"Authorization: Bearer $OPENAI_API_KEY"：使用用户的open API密钥进行身份验证。"-d '{ "model": "text-davinci-003", "prompt": "Say this is a test", "max_tokens": 7, "temperature": 0 }'"：指定请求的主体部分，包括以下参数："model"：指定使用的模型，这里是"text-davinci-003"。"prompt"：指定对话的提示内容，这里是"Say this is a test"。"max_tokens"：指定生成的文本长度，这里是7。"temperature"：指定生成文本的多样性程度，0表示完全确定性的输出。可以通过检查和过滤请求体中的提示内容来防范这类攻击，但来自用户的提示格式不固定，可以通过识别用户提示请求中对于模型的配置参数、模型相关的数据参数和模型调用工具配置参数等请求参数，进而确定该请求为提取信息注入攻击，可以通过过滤这些请求参数来进行防御。本实施例通过上述方案，具体通过接收网络端发送的用户提示请求，所述用户提示请求为所述网络端在接收用户输入的用户提示文本之后，根据所述用户提示文本生成；将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；发送所述模型提示响应至所述网络端，由所述网络端基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。提供了有效抵御注入攻击的方法，保护系统免受提取信息攻击的威胁。此外，本申请实施例还提出一种攻击防御装置，所述攻击防御装置包括：文本接收模块，用于接收用户输入的用户提示文本；请求发送模块，用于根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；响应接收模块，用于接收所述模型端发送的模型提示响应；攻击防御模块，用于基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。本实施例实现攻击防御的原理及实施过程，请参照上述各实施例，在此不再赘述。此外，本申请实施例还提出一种终端设备，所述终端设备包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的攻击防御程序，所述攻击防御程序被所述处理器执行时实现如上所述的攻击防御方法的步骤。由于本攻击防御程序被处理器执行时，采用了前述所有实施例的全部技术方案，因此至少具有前述所有实施例的全部技术方案所带来的所有有益效果，在此不再一一赘述。此外，本申请实施例还提出一种计算机可读存储介质，所述计算机可读存储介质上存储有攻击防御程序，所述攻击防御程序被处理器执行时实现如上所述的攻击防御方法的步骤。由于本攻击防御程序被处理器执行时，采用了前述所有实施例的全部技术方案，因此至少具有前述所有实施例的全部技术方案所带来的所有有益效果，在此不再一一赘述。相比现有技术，本申请实施例提出的攻击防御方法、装置、终端设备以及存储介质，通过接收用户输入的用户提示文本；根据所述用户提示文本，生成用户提示请求并发送至模型端，由所述模型端将所述用户提示请求输入到预设的生成式大模型中进行提示应答，获取模型提示响应；接收所述模型端发送的模型提示响应；基于预设的提取信息攻击识别规则，根据所述模型提示响应进行攻击识别，获取提取信息攻击识别结果，并根据所述提取信息攻击识别结果采取对应的防御措施，所述提取信息攻击识别规则基于所述生成式大模型进行规则生成得到。本发明通过网络端接收用户输入的用户提示文本，根据用户提示文本生成用户提示请求并发送至模型端，由模型端将用户提示请求输入生成式大模型中进行提示应答后，再将提示应答得到的模型提示响应发送到网络端，由网络端利用提取信息攻击识别结果和模型提示响应攻击识别得到提取信息攻击识别结果，并根据提取信息攻击识别结果采取对应的防御措施，实现了对生成式大模型注入攻击防御场景中提取信息注入攻击的防御，提高了对提取信息攻击识别的准确性以及生成式大模型应答的安全性。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在如上所述的一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
