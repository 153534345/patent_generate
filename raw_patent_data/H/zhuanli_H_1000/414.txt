标题title
一种分布式光伏电站状态预测方法及系统
摘要abst
本发明公开了一种分布式光伏电站状态预测方法及系统，涉及光伏电站检测技术领域，包括收集场站中并网柜的历史运行数据，建立第一预测模型；根据第一预测模型和数据集，动态调整时间阈值；结合第一预测模型，构建第二预测模型以及第三预测模型；根据三个模型的输出，集成判断逻辑，预测电站运行状态。本发明引入动态时间阈值调整模块，使得系统可以不断自我优化和校准，提高鲁棒性，避免环境变化带来的误报风险，显著提高可靠性。构建通信、发电、跳闸多个模型以及集成判断规则，可以实现电站核心指标的主动监测，而不仅是被动报警，更加及时预警风险。
权利要求书clms
1.一种分布式光伏电站状态预测方法，其特征在于：包括，收集场站中并网柜的历史运行数据，建立第一预测模型；根据第一预测模型和数据集，动态调整时间阈值；结合第一预测模型，构建第二预测模型和第三预测模型；根据所述第一预测模型、第二预测模型和第三预测模型的输出结果，集成判断逻辑，预测电站运行状态。2.如权利要求1所述的分布式光伏电站状态预测方法，其特征在于：所述第一预测模型如下式所示：；其中，为t时刻输入到LSTM的信号特征，/＞为在t时刻的隐状态值，W为权重矩阵，/＞为注意力权重系数，St为加权融合后的输入特征，Uit为中间状态变量，Uw为注意力模型中的注意力向量；基于注意力机制的LSTM的单元状态更新如下式所示：；其中，c为单元状态，为激活函数，bi为输入门i的偏置项。3.如权利要求2所述的分布式光伏电站状态预测方法，其特征在于：所述第一预测模型还包括构建主分支-专家分支的多路结构，主分支网络学习整体时间序列规律：；其中，为主网络在t时刻的隐状态向量，/＞为主网络在前一时刻的隐状态向量，xt为原始输入特征；根据故障类型定义M个专家子网络：；其中，为第m个专家网络在t时刻的隐状态向量，/＞第m个专家网络在前一时刻的隐状态，m为专家分支的索引，从1到M，M为专家子网络的总数；学习每个专家对当前事实的关联权重：；其中，是第m个专家子网络的权重，MLP为多层感知机，用于提取专家特征；将所述主分支网络与所述专家子网络的关联权重加权结合进行集成预测：；其中，w0为主网络权重，为最终预测输出。4.如权利要求1所述的分布式光伏电站状态预测方法，其特征在于：所述动态调整时间阈值包括常规场景下阈值调整和特定场景下阈值调整，所述常规场景下阈值调整包括，若验证集上出现串扰噪声导致模型误报率超过8%，则减小时间阈值的值为70%，并设定当前值为时间阈值，使用时间阈值重新针对验证集进行重新测试，若模型误报率低于5%，则表明当前时间阈值符合要求，沿用当前时间阈值；若模型误报率超过5%但小于8%，则表明当前时间阈值还不符合5%，减少时间阈值的值为80%，并设定当前值为时间阈值；使用时间阈值对验证集进行测试，直至模型误报率低于5%；所述特定场景下阈值调整包括严寒冰雪覆盖场景和夏季高温场景；其中，所述严寒冰雪覆盖场景中，设置冰雪覆盖场景的环境参数，若验证集在模型中的精度持续低于90%，则表明严寒天气中，使得并网柜通讯效率降低，增加Δt的值为时间阈值的120%，并设置时间阈值为当前值；若验证集在模型的中的精度低于95%但高于90%，则表明时间阈值依旧无法满足整体模型，增加Δt的值为时间阈值的110%，并设置时间阈值为当前值，并根据精度范围，进一步缓慢增加时间阈值，若验证集在模型中的精度高于95%，则表明当前值符合要求；所述夏季高温场景下，设置高温场景的环境参数，若验证集在模型中的召回率下降到75%低于正常水平的80%，则增加时间阈值的值为150%，并设置当前值为时间阈值，若验证集在模型中的召回率高于75%但低于80%，表示时间阈值无法满足整体模型，增加时间阈值的值为125%，并设置时间阈值为当前值，并根据返回缓慢增加时间阈值，若验证集在模型中的召回率高于80%，则表明当前值符合要求。5.如权利要求4所述的分布式光伏电站状态预测方法，其特征在于：所述第二预测模型如下式所示：；其中，w为权重向量，x为输入的特征向量，b为偏执项；采用损失函数正则化线性回归模型，防止过拟合：；其中，表示预测值与真实值之间的平方根误差之和，/＞表示权重wi的正则化方向，用于控制复杂度，/＞为正则化系数。6.如权利要求5所述的分布式光伏电站状态预测方法，其特征在于：所述第三预测模型包括，利用小波变换进行信号分析，提取反映发电情况的特征：；其中，X为原始功率信号，x为离散let变换系数，为母小波，j0为尺度函数；构建基于关联规则的第三预测模型：；其中，X和Y分别为输入和输出，minsup和minconf为支持度和置信度阈值；利用DS证据理论进行多源异构信息融合：；其中，Bel为信任函数，Bj为子模型输出，N表示子模型或信息源的个数，mj表示对第j个子模型或信息源输出的概率质量。7.如权利要求6所述的分布式光伏电站状态预测方法，其特征在于：所述集成判断逻辑包括：若第一预测模型输出的序列中，某一日期超过半数的通信状态异常，则给出当前日期电站通讯管理机离线告警，电站通信异常，若某一日期全部通信异常，则给出当前日期电站全部通信管理机离线告警，电站通信异常，若某一日期超过半数的通信状态正常，且超过80%预测的间隔时间小于时间序列，则动态调整时间序列并重新判断；若时间阈值修改后判断正常，则将第一预测模型的输出序列中的某一日期对应的功率特征值输入第二预测模型；若第二预测模型某一日期预测超过80%的并网柜发电异常，则当前日期预测电站未发电，给出电站处于停机状态告警；若第二预测模型某一日期预测的发电正常，且当前日期第一正常，则进一步，将当前日期的功率特征值输入第三预测模型，预测当前日期并网柜跳闸情况，若第三预测模型输出的跳闸概率超过0.8，则表明当前并网柜会跳闸，若输出的跳闸概率超过0.8的并网柜超过总数的80%，则预测电站跳闸，若没有超过总数的80%，且当前日期第一预测模型正常，发电情况正常，则预测当前日期电站正常运行。8.一种分布式光伏电站状态预测系统，基于权利要求1~7任一所述的分布式光伏电站状态预测方法，其特征在于：包括，第一预测模型构建模块，用于根据历史通信状态和环境数据，采用注意力LSTM模型预测未来时间段的并网柜的通信状态；动态调整模块，用于根据验证集的数据，监测通信状态预测模型的性能，动态调整时间阈值，优化模型的判断；第二预测模型构建模块，用于根据历史功率数据，构建线性回归模型，预测并网柜和电站的发电情况；第三预测模型构建模块，用于根据历史跳闸报告和保护动作数据，构建基于关联规则和DS证据理论的模型，预测跳闸概率；集成判断模块，用于集成3个模型的输出，设定逻辑判断规则，预测电站的综合运行状态。9.一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，其特征在于：所述处理器执行所述计算机程序时实现权利要求1~7任一所述的分布式光伏电站状态预测方法的步骤。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于：所述计算机程序被处理器执行时实现权利要求1~7任一所述的分布式光伏电站状态预测方法的步骤。
说明书desc
技术领域本发明涉及光伏电站检测技术领域，特别是一种分布式光伏电站状态预测方法及系统。背景技术随着能源技术的发展，光伏发电技术在转化效率以及成本等方面已经相对成熟，其具有绿色、无污染、无多余噪声、取之不尽用之不竭等特点越来越受到人们的重视。我国土地辽阔，是光伏发电技术运用的理想场所。这就使得我国光伏电站装机容量每年持续增长，位居全球第一。发展光伏发电技术的同时，对于运维的压力也变得更加巨大，在现有光伏电站检测中，存在一些潜在的缺点和挑战，信延迟可能会影响实时性，这在需要迅速响应的情况下可能成为问题，在运行过程中，某一组件的故障可能会影响整个电站的运行，通过上述问题，研究出一种分布式光伏电站状态预测方法及系统解决该问题，通过该算法，企业可以实时监测光伏电站中的问题，并且算法能够实现自动化生成告警，提高其运行效率和可靠性，降低运营成本，有助于更好地利用太阳能资源，推动可再生能源的发展。这将对电站的经济和环境可持续性产生积极影响。发明内容鉴于现有的光伏电站检测技术中存在的问题，提出了本发明。因此，本发明所要解决的问题在于无法对于电站通信状态、功率变化等实时监测，无法自动化告警和预测，使的运维人员及时进行维修。为解决上述技术问题，本发明提供如下技术方案：第一方面，本发明实施例提供了一种分布式光伏电站状态预测方法，其包括：收集场站中并网柜的历史运行数据，建立第一预测模型；根据第一预测模型和数据集，动态调整时间阈值；结合第一预测模型，构建第二预测模型和第三预测模型；根据所述第一预测模型、第二预测模型和第三预测模型的输出结果，集成判断逻辑，预测电站运行状态。作为本发明所述分布式光伏电站状态预测方法的一种优选方案，其中：所述第一预测模型如下式所示：；其中，为t时刻输入到LSTM的信号特征，/＞为在t时刻的隐状态值，W为权重矩阵，/＞为注意力权重系数，St为加权融合后的输入特征，Uit为中间状态变量，Uw为注意力模型中的注意力向量；基于注意力机制的LSTM的单元状态更新如下式所示：；其中，c为单元状态，为激活函数，bi为输入门i的偏置项。作为本发明所述分布式光伏电站状态预测方法的一种优选方案，其中：所述第一预测模型还包括构建主分支-专家分支的多路结构，主分支网络学习整体时间序列规律：；其中，为主网络在t时刻的隐状态向量，/＞为主网络在前一时刻的隐状态向量，xt为原始输入特征；根据故障类型定义M个专家子网络：；其中，为第m个专家网络在t时刻的隐状态向量，/＞第m个专家网络在前一时刻的隐状态，m为专家分支的索引，从1到M，M为专家子网络的总数；学习每个专家对当前事实的关联权重：；其中，是第m个专家子网络的权重，MLP为多层感知机，用于提取专家特征；将所述主分支网络与所述专家子网络的关联权重加权结合进行集成预测：；其中，w0为主网络权重，为最终预测输出。作为本发明所述分布式光伏电站状态预测方法的一种优选方案，其中：所述动态调整时间阈值包括常规场景下阈值调整和特定场景下阈值调整，所述常规场景下阈值调整包括，若验证集上出现串扰噪声导致模型误报率超过8%，则减小时间阈值的值为70%，并设定当前值为时间阈值，使用时间阈值重新针对验证集进行重新测试，若模型误报率低于5%，则表明当前时间阈值符合要求，沿用当前时间阈值；若模型误报率超过5%但小于8%，则表明当前时间阈值还不符合5%，减少时间阈值的值为80%，并设定当前值为时间阈值；使用时间阈值对验证集进行测试，直至模型误报率低于5%；所述特定场景下阈值调整包括严寒冰雪覆盖场景和夏季高温场景；其中，所述严寒冰雪覆盖场景中，设置冰雪覆盖场景的环境参数，若验证集在模型中的精度持续低于90%，则表明严寒天气中，使得并网柜通讯效率降低，增加Δt的值为时间阈值的120%，并设置时间阈值为当前值；若验证集在模型的中的精度低于95%但高于90%，则表明时间阈值依旧无法满足整体模型，增加Δt的值为时间阈值的110%，并设置时间阈值为当前值，并根据精度范围，进一步缓慢增加时间阈值，若验证集在模型中的精度高于95%，则表明当前值符合要求；所述夏季高温场景下，设置高温场景的环境参数，若验证集在模型中的召回率下降到75%低于正常水平的80%，则增加时间阈值的值为150%，并设置当前值为时间阈值，若验证集在模型中的召回率高于75%但低于80%，表示时间阈值无法满足整体模型，增加时间阈值的值为125%，并设置时间阈值为当前值，并根据返回缓慢增加时间阈值，若验证集在模型中的召回率高于80%，则表明当前值符合要求。作为本发明所述分布式光伏电站状态预测方法的一种优选方案，其中：所述第二预测模型如下式所示：；其中，w为权重向量，x为输入的特征向量，b为偏执项。采用损失函数正则化线性回归模型，防止过拟合：；其中，表示预测值与真实值之间的平方根误差之和，表示权重wi的正则化方向，用于控制复杂度，/＞为正则化系数。作为本发明所述分布式光伏电站状态预测方法的一种优选方案，其中：所述第三预测模型包括，利用小波变换进行信号分析，提取反映发电情况的特征：；其中，X为原始功率信号，x为离散let变换系数，为母小波，j0为尺度函数；构建基于关联规则的第三预测模型：；其中，X和Y分别为输入和输出，minsup和minconf为支持度和置信度阈值；利用DS证据理论进行多源异构信息融合：；其中，Bel为信任函数，Bj为子模型输出，N表示子模型或信息源的个数，mj表示对第j个子模型或信息源输出的基本概率质量。作为本发明所述分布式光伏电站状态预测方法的一种优选方案，其中：所述集成判断逻辑包括：若第一预测模型输出的序列中，某一日期超过半数的通信状态异常，则给出当前日期电站通讯管理机离线告警，电站通信异常，若某一日期全部通信异常，则给出当前日期电站全部通信管理机离线告警，电站通信异常，若某一日期超过半数的通信状态正常，且超过80%预测的间隔时间小于时间序列，则动态调整时间序列并重新判断；若时间阈值修改后判断正常，则将第一预测模型的输出序列中的某一日期对应的功率特征值输入第二预测模型；若第二预测模型某一日期预测超过80%的并网柜发电异常，则当前日期预测电站未发电，给出电站处于停机状态告警；若第二预测模型某一日期预测的发电正常，且当前日期第一正常，则进一步，将当前日期的功率特征值输入第三预测模型，预测当前日期并网柜跳闸情况，若第三预测模型输出的跳闸概率超过0.8，则表明当前并网柜会跳闸，若输出的跳闸概率超过0.8的并网柜超过总数的80%，则预测电站跳闸，若没有超过总数的80%，且当前日期第一预测模型正常，发电情况正常，则预测当前日期电站正常运行。第二方面，本发明实施例提供了一种分布式光伏电站状态预测系统，其包括：第一预测模型构建模块，用于根据历史通信状态和环境数据，采用注意力LSTM模型预测未来时间段内并网柜的通信状态；动态时间阈值调整模块，用于根据验证集的数据，监测通信状态预测模型的性能，动态调整时间阈值，优化模型的判断；第二预测模型构建模块，用于根据历史功率数据，构建线性回归模型，预测并网柜和电站的发电情况；第三情况预测模型构建模块，用于根据历史跳闸报告和保护动作数据，构建基于关联规则和DS证据理论的模型，预测跳闸概率；电站运行状态预测集成判断模块，用于集成3个模型的输出，设定逻辑判断规则，预测电站的综合运行状态。第三方面，本发明实施例提供了一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，其中：所述处理器执行所述计算机程序时实现上述的分布式光伏电站状态预测方法的任一步骤。第四方面，本发明实施例提供了一种计算机可读存储介质，其上存储有计算机程序，其中：所述计算机程序被处理器执行时实现上述的分布式光伏电站状态预测方法的任一步骤。本发明有益效果为可以实时检测和预测光伏电站的功率变化情况，进而判断是否存在组件故障，并尽早定位故障发生的位置，以便及时维修和替换受损组件。通过对功率输出的分析，可以评估电站的发电效率、光伏组件的寿命等关键指标，并提供相应的优化建议，比如调整组件布局、清洁维护等，以提高光伏电站的整体性能。引入动态时间阈值调整模块，使得系统可以不断自我优化和校准，提高鲁棒性，避免环境变化带来的误报风险，显著提高可靠性。构建通信、发电、跳闸多个模型以及集成判断规则，可以实现电站核心指标的主动监测，而不仅是被动报警，更加及时预警风险。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它的附图。其中：图1为分布式光伏电站状态预测方法的实时检测逻辑图。图2为分布式光伏电站状态预测方法的第一预测模型逻辑图。图3为分布式光伏电站状态预测方法的第二预测模型逻辑图。图4为分布式光伏电站状态预测方法的第三预测模型逻辑图。具体实施方式为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合说明书附图对本发明的具体实施方式做详细的说明，显然所描述的实施例是本发明的一部分实施例，而不是全部实施例。基于本发明中的实施例，本领域普通人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明的保护的范围。在下面的描述中阐述了很多具体细节以便于充分理解本发明，但是本发明还可以采用其他不同于在此描述的其它方式来实施，本领域技术人员可以在不违背本发明内涵的情况下做类似推广，因此本发明不受下面公开的具体实施例的限制。其次，此处所称的“一个实施例”或“实施例”是指可包含于本发明至少一个实现方式中的特定特征、结构或特性。在本说明书中不同地方出现的“在一个实施例中”并非均指同一个实施例，也不是单独的或选择性的与其他实施例互相排斥的实施例。本发明结合示意图进行详细描述，在详述本发明实施例时，为便于说明，表示器件结构的剖面图会不依一般比例作局部放大，而且所述示意图只是示例，其在此不应限制本发明保护的范围。此外，在实际制作中应包含长度、宽度及深度的三维空间尺寸。同时在本发明的描述中，需要说明的是，术语中的“上、下、内和外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，术语“第一、第二或第三”仅用于描述目的，而不能理解为指示或暗示相对重要性。本发明中除非另有明确的规定和限定，术语“安装、相连、连接”应做广义理解，例如：可以是固定连接、可拆卸连接或一体式连接；同样可以是机械连接、电连接或直接连接，也可以通过中间媒介间接相连，也可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。实施例1参照图1~图4，为本发明第一个实施例，该实施例提供了一种分布式光伏电站状态预测方法，包括：S1：收集场站中并网柜的历史运行数据，建立第一预测模型。收集场站中N个并网柜的历史通信状态、环境数据作为数据训练，并针对收集到的数据采用时间序列方式进行预处理。进一步的，采用LSTM模型，并在其基础上，增加注意力机制。让模型自动学习不同信号的重要性权重，提升准确度。从而能够在使用阶段根据实时并网柜预测未来某一时间段的并网柜在通信状态。进一步的，设t时刻的输入特征向量为隐状态为/＞,在此基础之上引入注意力机制，加入注意力机制处理输入序列时关注不同部分的机制。这样的模型在处理序列数据时通常能够捕捉到更复杂的依赖关系，具体公式表示如下：；其中，为t时刻输入到LSTM的信号特征，/＞为在t时刻的隐状态值，W为权重矩阵，/＞为注意力权重系数，St为加权融合后的输入特征，Uit为中间状态变量，Uw为注意力模型中的注意力向量。进一步的，基于注意力机制的LSTM的单元状态更新具体为：；其中，c为单元状态，为激活函数，bi为输入门i的偏置项。进一步的，在网络结构上，构建一个主分支-专家分支的多路结构，主分支学习整体规律，专家分支针对不同类型故障进行细化建模，最后集成预测；其中，主分支网络学习整体时间序列规律：；其中，为主网络在t时刻的隐状态向量，/＞为主网络在前一时刻的隐状态向量，xt为原始输入特征，LSTM为上述模型。进一步的，根据故障类型定义M个专家子网络，然后根据每个故障类型进行细化建模，具体如下：；其中，为第m个专家网络在t时刻的隐状态向量，/＞第m个专家网络在前一时刻的隐状态，m为专家分支的索引，从1到M，M为专家子网络的总数。学习每个专家对当前事实的关联权重：；其中，是第m个专家子网络的权重，MLP为多层感知机，用于提取专家特征。将主分支网络与专家预测的关联权重加权结合进行集成预测：；其中，w0为主网络权重，为最终预测输出。这样主分支捕捉整体规律，专家分支进行细化建模，最后通过可学习的软权重集成，既保证整体性又兼顾个性化。模型表达能力比单一LSTM结构强很多。进一步的，基础判断第一的逻辑为：若第一测点的值为“1”，则表明通信“异常”，并给出“数据异常”告警；若为“0”，则表明该并网柜通信“正常”，记录实时功率P1。S2：根据第一预测模型和数据集，动态调整时间阈值。从历史数据中截取2个月的数据作为验证集，包含各并网柜的功率、通信状态、环境数据，根据先前的领域知识或者数据分析确定一个初始的时间阈值，初始阈值为1300秒，用于开始模型的运行。在实时运行中，定期监测模型的性能，特别是在验证集上进行评估。使用模型的输出结果与实际数据进行比较，从而进行时间阈值的动态修改，使其能够为下一步进行准确的判断。若验证集上出现串扰噪声导致模型误报率超过8%，则减小时间阈值的值为70%，并设定当前值为时间阈值，使用该阈值重新针对验证集进行重新测试，若模型误报率低于5%，则表明当前值符合要求，沿用当前值。若模型误报率超过5%但小于8%，则表明当前值接近符合阈值，减少时间阈值的值为80%，并设定当前值为时间阈值。使用该阈值对验证集进行测试，直至误报率低于5%。其中，当验证集上的误报率超过 8% 时，说明模型在验证集上的性能不符合要求，误报的情况比较严重；如果误报率超过 8%，就减小时间阈值的值为当前时间阈值的 70%。这意味着减小模型对时间上的变化的敏感性，使得模型在检测阶段更加保守；当模型误报率在 5% 到 8% 之间时，表明当前时间阈值接近符合要求，但还有一些过度敏感，设置时间阈值的值为当前时间阈值的 80%，减少敏感度，后续进行进一步缩小，直至得到符合标准的阈值。进一步的，并网柜的通信状态受到环境影响。设置严寒天气冰雪覆盖场景的环境参数，若验证集在模型中的精度持续低于90%，则表明严寒天气中，使得并网柜通讯效率降低，增加Δt的值为时间阈值的120%，并设置时间阈值为当前值。若验证集在模型的中的精度低于95%但高于90%，则表明该阈值依旧无法满足整体模型，增加Δt的值为时间阈值的110%，并设置时间阈值为当前值，并根据精度范围，进一步缓慢增加时间阈值，若验证集在模型中的精度高于95%，则表明当前值符合要求。设置夏季高温场景的环境参数，若验证集在模型中的召回率下降到75%低于正常水平的80%，则增加时间阈值的值为150%，并设置当前值为时间阈值，若验证集在模型中的召回率高于75%但低于80%，表示该时间阈值无法满足整体模型，增加时间阈值的值为125%，并设置时间阈值为当前值，并根据返回缓慢增加时间阈值，若验证集在模型中的召回率高于80%，则表明当前值符合要求。以上举例相应故障下，以及相应环境下的针对时间阈值的选择，根据上述相关规则，综合选择相应时间阈值，并根据时间阈值的设置判断是否进行下一步预测或判断。动态时间阈值的选择，能够根据相应环境，不同故障选择具体的时间阈值，进一步优化整体发明的预测和判断精度。S3：结合第一预测模型，构建第二预测模型以及第三预测模型。根据S2设置的时间阈值，根据并网柜状态预测模型的输出计算出当前时间点t1与并网柜状态预测模型开始的时间点t0的差值Δt，当Δt大于等于时间阈值时，计算并网柜预测模型的昨日平均功率avgyP1，截至当前的平均功率avgtP1，最近20分钟的平均功率avgnP1。若小于则不进行操作。根据收集历史功率数据、日平均功率数据、环境数据作为训练数据，建立多元线性回归模型，输入特征包括P1, avgyP1, avgtP1等。将特征进行傅里叶变换，提取频域信息，根据提取的频域信息，构建多项式组合特征：/＞。根据得到的频域信息和多项式组合特征构建回归模型。该回归模型引入注意力机制进行特征加权：；得到最终预测为：；其中，w为权重向量，x为输入的特征向量，b为偏执项。进一步的，采用损失函数正则化线性回归模型，防止过拟合：；其中，表示预测值与真实值之间的平方根误差之和，表示权重wi的正则化向，用于控制复杂度，/＞为正则化系数。其简化的判断逻辑为：若并网柜状态为“并网柜状态正常”，当P1不等于0且avgyP1不等于0，则表明该并网柜“正常发电”；当P1等于0且avgyP1不等于0，则表明该并网柜“未发电”。若所有并网柜均未发电则表明“电站未发电”。进一步的，构建第三预测模型。从电站的故障报告系统中导出历史N年的所有跳闸故障报告。报告中应当包含发生跳闸的确切时间、涉及的设备、跳闸原因等信息。对这些跳闸故障报告进行聚类，得到代表性的几类跳闸模式。这是模型的训练标签。从电站的智能终端IED中获取跳闸前在保护装置上记录的最后N个运维周期的保护动作数据。包括电流、电压等参数。清洗掉正常运行的保护动作数据，只保留故障发生前的有效特征数据，并按时间关联跳闸报告和保护动作数据，形成输入特征和输出标签的匹配训练数据，构建训练数据统一格式：{输入特征1，输入特征2,...输入特征n},{跳闸标签}。进一步的，利用小波变换进行信号分析，提取反映发电情况的特征：；其中，X为原始功率信号，x为离散let变换系数，为母小波，j0为尺度函数。进一步的，构建基于关联规则的第三预测模型：其中，X和Y分别为输入和输出，minsup和minconf为支持度和置信度阈值。支持度和置信度阈值的选择对于模型的性能至关重要。可以通过交叉验证或者基于实际问题的先验知识来调整这些参数。根据升降电压、频率等特征构建关联规则，实时预测跳闸概率，再根据关联规则，利用DS证据理论进行多源异构信息融合：；其中，Bel为信任函数，Bj为子模型输出，N表示子模型或信息源的个数，mj表示对第j个子模型或信息源输出的基本概率质量。DS证据理论可以处理不确定性，但需要注意确保子模型的不确定性能够被合理地估计并传递给集成模型。S4：根据所述第一预测模型、第二预测模型和第三预测模型的输出结果，集成判断逻辑，预测电站运行状态。将训练好的模型集成，输入当前一段时间的运行数据，给出未来某一时间段内电站内各个重要模块的运行状态，进而判断整体电站的运行状态，第一预测模型，通过预测电站中n个并网柜状态，按照序列预测不同的并网柜的通信状态，根据状态进而计算间隔时间，并按照下一步进行操作。其中，第一输出的为按照时间、序号、对应时间和序号的通信状态以及相应功率等特征值，进一步，将通信正常且大于时间序列的并网柜通信值输入第二预测模型中，按照时间以及正常的并网柜序号输出并网柜发电情况，若某一日期预测超过80%的并网柜发电异常，则当前日期预测电站未发电，并输出整合序列结果。按照第一输出的序列中的特征值，进一步输入第三预测模型，预测某一日期并网柜的跳闸情况，输出为按照时间，序号对应的并网柜为跳闸情况的概率，若当前概率超过0.8，则预测当前并网柜在当前日期会出现跳闸。进一步的，预测电站运行状态，即：若第一预测模型输出的序列中，某一日期超过半数的通信状态异常，则给出当前日期电站通讯管理机离线告警，电站通信异常，若某一日期全部通信异常，则给出当前日期电站全部通信管理机离线告警，电站通信异常，若某一日期超过半数的通信状态正常，且超过80%预测的间隔时间小于时间序列，则动态调整时间序列并重新判断；若时间阈值修改后判断正常，则将第一预测模型的输出序列中的某一日期对应的功率特征值输入第二预测模型；若第二预测模型某一日期预测超过80%的并网柜发电异常，则当前日期预测电站未发电，给出电站处于停机状态告警；若第二预测模型某一日期预测的发电正常，且当前日期第一正常，则进一步，将当前日期的功率特征值输入第三预测模型，预测当前日期并网柜跳闸情况，若第三预测模型输出的跳闸概率超过0.8，则表明当前并网柜会跳闸，若输出的跳闸概率超过0.8的并网柜超过总数的80%，则预测电站跳闸，若没有超过总数的80%，且当前日期第一预测模型正常，发电情况正常，则预测当前日期电站正常运行。若某一日期通信状态正常，且该日期发电模型输出判断正常，但该日期第三预测模型输出的跳闸概率超过0.8且超过总数的80%，则表明该日期电站跳闸。若某一日期通信状态正常，但时间差值超过80%小于等于时间阈值，则停止预测，进一步训练时间阈值，并重新判断，直至时间阈值正常。若某一日期通信状态异常，则无需进行下一步预测，判断该日期电站通信状态异常。若某一日期通信状态正常，该日期发电正常，并且第三预测模型正常，则表明该日期电站正常，输出各模型中该日期异常的并网柜序号。若某一日期通信状态正常，该日期发电异常，且第三预测模型输出正常，则表明该日期电站发电异常，输出异常发电日期并网柜参数。若某一日期通信状态正常，该日期发电正常，但第三预测模型输出异常，则表明该日期电站跳闸，输出该日期跳闸的并网柜信息。若某一日期通信状态正常，该日期发电异常且第三预测模型输出异常，则表明该日期电站不发电，输出该日期发电异常和跳闸的并网柜信息。需说明的，电厂正常运行中，电站状态判断逻辑如下所示：步骤1. 读取该场站n个第一的测点值并记录当前时间点t0，判断各第一及场站通信状态。其中，若第一测点的值为“1”，则表明通信“异常”，并给出“数据异常”告警；若为“0”，则表明该并网柜通信“正常”，记录实时功率P1。若所有第一均异常，则给出“电站所有通讯管理机离线”预警。步骤2.计算当前时间点t1与步骤1所述时间点t0的差值Δt。步骤3. 当Δt大于等于时间阈值时， 计算昨日平均功率avgyP1，截至当前今天的平均功率avgtP1，最近20分钟的平均功率avgnP1。步骤4. 根据P1、avgyP1和avgtP1，判断并网柜及电站发电情况。若P1等于avgyP1或P1等于avgtP1，则表明“并网柜状态未知”；若P1不等于avgyP1且P1不等于avgtP1，则表明该“并网柜状态正常”。若并网柜状态为“并网柜状态正常”，当P1不等于0且avgyP1不等于0，则表明该并网柜“正常发电”；当P1等于0且avgyP1不等于0，则表明该并网柜“未发电”。若所有并网柜均未发电则表明“电站未发电”。步骤5. 根据P1，avgnP1，判断并网柜及电站跳闸情况。若P1等于avgnP1，则表明“并网柜状态未知”。若P1不等于avgnP1，则表明“并网柜状态正常”。若并网柜状态为“并网柜状态正常”，当P1不等于0且avgnP1不等于0，则表明“并网柜未跳闸”；若P1等于0且avgyP1不等于0，则表明“并网柜跳闸”。若所有并网柜均跳闸则表明“电站跳闸”。需说明的，时间阈值，按照某一固定周期，和环境因素控制，调整，调整逻辑参照S2。更进一步，根据三个模型综合预测电站运行状态，最终输出的序列为按照时间戳排序的电站状态，以及异常并网柜信息，电站管理人员可根据信息进行检查或更换异常设备等。进一步的，本实施例还提供一种分布式光伏电站状态预测系统，包括：第一预测模型构建模块，用于根据历史通信状态和环境数据，采用注意力LSTM模型预测未来时间段内并网柜的通信状态；动态时间阈值调整模块，用于根据验证集的数据，监测通信状态预测模型的性能，动态调整时间阈值，优化模型的判断；第二预测模型构建模块，用于根据历史功率等数据，构建线性回归模型，预测并网柜和电站的发电情况；第三情况预测模型构建模块，用于根据历史跳闸报告和保护动作数据，构建基于关联规则和DS证据理论的模型，预测跳闸概率；电站运行状态预测集成判断模块，用于集成3个模型的输出，设定逻辑判断规则，预测电站的综合运行状态。本实施例还提供一种计算机设备，适用于分布式光伏电站状态预测方法的情况，包括存储器和处理器；存储器用于存储计算机可执行指令，处理器用于执行计算机可执行指令，实现如上述实施例提出的分布式光伏电站状态预测方法。该计算机设备可以是终端，该计算机设备包括通过系统总线连接的处理器、存储器、通信接口、显示屏和输入装置。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的通信接口用于与外部的终端进行有线或无线方式的通信，无线方式可通过WIFI、运营商网络、NFC或其他技术实现。该计算机设备的显示屏可以是液晶显示屏或者电子墨水显示屏，该计算机设备的输入装置可以是显示屏上覆盖的触摸层，也可以是计算机设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本实施例还提供一种存储介质，其上存储有计算机程序，该程序被处理器执行时实现如上述实施例提出的实现分布式光伏电站状态预测方法。本实施例提出的存储介质与上述实施例提出的数据存储方法属于同一发明构思，未在本实施例中详尽描述的技术细节可参见上述实施例，并且本实施例与上述实施例具有相同的有益效果。综上，本发明可以实时检测和预测光伏电站的功率变化情况，进而判断是否存在组件故障，并尽早定位故障发生的位置，以便及时维修和替换受损组件。通过对功率输出的分析，可以评估电站的发电效率、光伏组件的寿命等关键指标，并提供相应的优化建议，比如调整组件布局、清洁维护等，以提高光伏电站的整体性能。引入动态时间阈值调整模块，使得系统可以不断自我优化和校准，提高鲁棒性，避免环境变化带来的误报风险，显著提高可靠性。构建通信、发电、跳闸多个模型以及集成判断规则，可以实现电站核心指标的主动监测，而不仅是被动报警，更加及时预警风险。实施例2参照图1~图4，为本发明第二个实施例，该实施例提供了一种分布式光伏电站状态预测方法，为了验证本发明的有益效果，通过经济效益计算和仿真实验进行科学论证。通过截取某日并网柜1与并网柜2的相关数据，具体数据内容如下：并网柜1通信状态：正常；并网柜2通信状态：中断；电站通信状态：正常；记录时间t0：2023-08-15 10:00 AM；当前时间 t1：2023-08-15 10:30 AM；阈值 Δt：30分钟；当前功率 P1：350 kW；昨日平均功率 avgyP1：400 kW；今天平均功率 avgtP1：380 kW；最近20分钟平均功率 avgnP1：360 kW；功率跳闸阈值：300 kW；对此算法在计算机中使用debug将步骤一步一步展现，已验证此算法步骤逻辑是否有误，算法效果呈现是否完整，具体如下：由数据可知并网柜1通信状态为正常，并网柜2通信状态为中断，则电站通信状态为正常；计算时间差Δt：记录时间 t0 是2023-08-15 10:00 AM，当前时间 t1 是2023-08-15 10:30 AM，时间差Δt = t1 - t0 = 10:30 AM - 10:00 AM = 30分钟，根据计算的时间差判断是否大于等于阈值，可知大于阈值符合要求进入下一步。提取功率数据，当前功率 P1 = 350 kW，昨日平均功率 avgyP1 = 400 kW，今天平均功率 avgtP1 = 380 kW，最近20分钟平均功率 avgnP1 = 360 kW。根据当前功率 P1、昨日平均功率 avgyP1 和今天平均功率 avgtP1，电站发电状态被判断为正常，因为当前功率处于昨日和今天的平均功率之间；根据当前功率 P1 和最近20分钟平均功率avgnP1，跳闸状态被判断为正常，因为当前功率高于跳闸阈值 300 kW，最终可知电站和并网柜在此时处于正常运行状态，未出现问题或异常情况。同时，从监测频率、灵活性等各个方面与现有技术对比从而验证此算法的优势，具体如表1所示。表1 算法与现有技术对比表应说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，可以对本发明的技术方案进行修改或者等同替换，而不脱离本发明技术方案的精神和范围，其均应涵盖在本发明的权利要求范围当中。
