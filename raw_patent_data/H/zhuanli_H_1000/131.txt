标题title
一种低抖动时钟分频实现电路
摘要abst
本发明公开了一种低抖动时钟分频实现电路，利用外部时钟与各级分频时钟之间的相位关系，将外部时钟作为开关使能信号来控制各级分频时钟的传输，解除了输出分频时钟与内部分频时钟边沿抖动的关联性，实现了低抖动分频输出的效果，包括至少两级触发器，在每一级触发器的时钟输入端上连接有一个反相器；每一级触发器的数据输入端与该级触发器的反相输出端短接，前一级触发器的正相输出端与后一级触发器时钟输入端上连接的反相器的输入端相连接，第一级触发器的时钟输入端上连接的反相器接入外部时钟；每一级触发器的正相输出端还通过一个反相器连接一个传输门，传输门的输出经过至少一级反相器输出得到低抖动的分频时钟。
权利要求书clms
1.一种低抖动时钟分频实现电路，其特征在于：包括N级触发器，在每一级触发器的时钟输入端上连接有一个反相器；每一级触发器的数据输入端与该级触发器的反相输出端短接，前一级触发器的正相输出端与后一级触发器时钟输入端上连接的反相器的输入端相连接，第一级触发器的时钟输入端上连接的反相器接入外部时钟。2.根据权利要求1所述的一种低抖动时钟分频实现电路，其特征在于：每一级触发器的正相输出端还通过一个反相器连接一个传输门，传输门的输出经过至少一级反相器输出得到低抖动的分频时钟。3.根据权利要求2所述的一种低抖动时钟分频实现电路，其特征在于：所述传输门的输出上连接有三级反相器。4.根据权利要求2所述的一种低抖动时钟分频实现电路，其特征在于：所述传输门的时钟信号为外部时钟和外部时钟经反相器后的反相外部时钟。5.根据权利要求4所述的一种低抖动时钟分频实现电路，其特征在于：所述传输门由NMOS管和PMOS管构成，NMOS管的源极和PMOS管的漏极共接且接入前一级触发器正相输出端输出经反相器反相后的信号；NMOS管的栅极接入外部时钟，NMOS管的漏极和PMOS管的源极共接且作为传输门的输出端，所述外部时钟经反相器后的反相外部时钟接入PMOS管的栅极。6.根据权利要求1或2或3或4或5所述的一种低抖动时钟分频实现电路，其特征在于：所述N为大于等于2的自然数。7.根据权利要求1或2或3或4或5所述的一种低抖动时钟分频实现电路，其特征在于：所述触发器采用D触发器或T触发器。
说明书desc
技术领域本发明涉及集成电路技术等领域，具体的说，是一种低抖动时钟分频实现电路。背景技术高速ADC在实际使用时往往输入带宽也很高，通常为采样频率的1.5倍以上。这种高输入频率的情况对采样时钟的抖动更为敏感，越大的抖动导致ADC采样时引入的孔径误差越大。高速ADC的采样时钟通常为外部高频时钟经过本地分频电路得到。除外部时钟本身的抖动外，分频电路引入的抖动同样十分关键。最常见的分频电路实现方式为多级D触发器级联，每级D触发器输出相应的2^N分频时钟。因此，分频倍数越高，分频路径上包含的D触发器越多，每级D触发器累加到输出时钟的抖动越大。一种降低抖动的方式为优化D触发器，动态D触发器往往比静态D触发器引入的抖动要小。然而，相对于直接调用标准单元库中的静态D触发器，优化动态D触发器增加了设计难度，而且动态D触发器本身也会引入抖动。发明内容本发明的目的在于提供一种低抖动时钟分频实现电路，利用外部时钟与各级分频时钟之间的相位关系，将外部时钟作为开关使能信号来控制各级分频时钟的传输，解除了输出分频时钟与内部分频时钟边沿抖动的关联性，实现了低抖动分频输出的效果。本发明通过下述技术方案实现：一种低抖动时钟分频实现电路，包括N级触发器，在每一级触发器的时钟输入端上连接有一个反相器；每一级触发器的数据输入端与该级触发器的反相输出端短接，前一级触发器的正相输出端与后一级触发器时钟输入端上连接的反相器的输入端相连接，第一级触发器的时钟输入端上连接的反相器接入外部时钟。进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：每一级触发器的正相输出端还通过一个反相器连接一个传输门，传输门的输出经过至少一级反相器输出得到低抖动的分频时钟。进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述传输门的输出上连接有三级反相器，但不限于此。进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述传输门的时钟信号为外部时钟和外部时钟经反相器后的反相外部时钟。进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述传输门由NMOS管和PMOS管构成，NMOS管的源极和PMOS管的漏极共接且接入前一级触发器正相输出端输出经反相器反相后的信号；NMOS管的栅极接入外部时钟，NMOS管的漏极和PMOS管的源极共接且作为传输门的输出端，所述外部时钟经反相器后的反相外部时钟接入PMOS管的栅极。进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述N为大于等于2的自然数。进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述触发器采用D触发器或T触发器等。本发明与现有技术相比，具有以下优点及有益效果：本发明利用外部时钟与各级分频时钟之间的相位关系，将外部时钟作为开关使能信号来控制各级分频时钟的传输，解除了输出分频时钟与内部分频时钟边沿抖动的关联性，实现了低抖动分频输出的效果。本发明在几乎没有额外硬件开销的情况下实现了除外部时钟本身抖动外，几乎不引入其它抖动的优化，极大程度上降低了设计难度。本发明有效解决了高速ADC采样时钟产生电路引入的额外时钟抖动带来的性能恶化问题。附图说明图1为本发明的电路原理图。图2为本发明的电路原理图。图3为各级分频时钟产生和触发的时序关系图。具体实施方式下面结合实施例对本发明作进一步地详细说明，但本发明的实施方式不限于此。为使本发明实施方式的目的、技术方案和优点更加清楚，下面将结合本发明实施方式中的附图，对本发明实施方式中的技术方案进行清楚、完整地描述，显然，所描述的实施方式是本发明一部分实施方式，而不是全部的实施方式。基于本发明中的实施方式，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施方式，都属于本发明保护的范围。因此，以下对在附图中提供的本发明的实施方式的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施方式。基于本发明中的实施方式，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施方式，都属于本发明保护的范围。在本发明的描述中，需要理解的是，术语“中心”、“纵向”、“横向”、“长度”、“宽度”、“厚度”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”、“内”、“外”、“顺时针”、“逆时针”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的设备或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本发明的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。在本发明中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”、“固定”等术语应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或成一体；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通或两个元件的相互作用关系。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。在本发明中，除非另有明确的规定和限定，第一特征在第二特征之“上”或之“下”可以包括第一和第二特征直接接触，也可以包括第一和第二特征不是直接接触而是通过它们之间的另外的特征接触。而且，第一特征在第二特征“之上”、“上方”和“上面”包括第一特征在第二特征正上方和斜上方，或仅仅表示第一特征水平高度高于第二特征。第一特征在第二特征“之下”、“下方”和“下面”包括第一特征在第二特征正下方和斜下方，或仅仅表示第一特征水平高度小于第二特征。实施例1：本发明设计出一种低抖动时钟分频实现电路，利用外部时钟与各级分频时钟之间的相位关系，将外部时钟作为开关使能信号来控制各级分频时钟的传输，解除了输出分频时钟与内部分频时钟边沿抖动的关联性，实现了低抖动分频输出的效果，包括N级触发器，在每一级触发器的时钟输入端上连接有一个反相器；每一级触发器的数据输入端与该级触发器的反相输出端短接，前一级触发器的正相输出端与后一级触发器时钟输入端上连接的反相器的输入端相连接，第一级触发器的时钟输入端上连接的反相器接入外部时钟。作为优选的设计方案，该低抖动时钟分频实现电路包括至少两级触发器，在每一级触发器的时钟输入端上连接有一个反相器，且在连接时反相器的输出端接入该级触发器的时钟输入端；每一级触发器的数据输入端与该级触发器的反相输出端短接，前一级触发器的正相输出端与后一级触发器时钟输入端上连接的反相器的输入端相连接作为后一级触发器时钟输入端上连接的反相器的输入），第一级触发器的时钟输入端上连接的反相器接入的信号为外部时钟信号。工作时，第一级的外部时钟信号经过触发器二分频形成内部分频时钟信号，该内部分频时钟信号经过一个反相器后又将作为下一级触发器时钟输入端的时钟输入信号，后续的电路以此类推。实施例2：本实施例是在上述实施例的基础上进一步优化，与前述技术方案相同之处在此不再赘述，进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：每一级触发器的正相输出端还通过一个反相器连接一个传输门，传输门的输出经过至少一级反相器输出得到低抖动的分频时钟。实施例3：本实施例是在上述任一实施例的基础上进一步优化，与前述技术方案相同之处在此不再赘述，进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述传输门的输出上连接有三级反相器，亦可为四级反相器或五级反相器，但不限于此，具体根据输出时钟相位和驱动能力的要求而定。实施例4：本实施例是在上述任一实施例的基础上进一步优化，与前述技术方案相同之处在此不再赘述，进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述传输门的时钟信号为外部时钟和外部时钟经反相器后的反相外部时钟。实施例5：本实施例是在上述任一实施例的基础上进一步优化，与前述技术方案相同之处在此不再赘述，进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述传输门由NMOS管和PMOS管构成，NMOS管的源极和PMOS管的漏极共接且接入前一级触发器正相输出端输出经反相器反相后的信号；NMOS管的栅极接入外部时钟，NMOS管的漏极和PMOS管的源极共接且作为传输门的输出端，所述外部时钟经反相器后的反相外部时钟接入PMOS管的栅极。实施例6：本实施例是在上述任一实施例的基础上进一步优化，与前述技术方案相同之处在此不再赘述，进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述N为大于等于2的自然数。实施例7：本实施例是在上述任一实施例的基础上进一步优化，与前述技术方案相同之处在此不再赘述，进一步为更好地实现本发明所述的一种低抖动时钟分频实现电路，特别采用下述设置方式：所述触发器采用D触发器或T触发器等，当采用其他触发器时，其连接方式与D触发器相同。实施例8：一种低抖动时钟分频实现电路，如图1、图2所示，包括N级触发器，在每一级D触发器的时钟输入端上连接有一个反相器；每一级D触发器的输入端与该级D触发器的反相输出端短接，前一级D触发器的正相输出端与后一级D触发器时钟输入端上连接的反相器的输入端相连接，第一级D触发器的时钟输入端上连接的反相器接入外部时钟；每一级D触发器的正相输出端还通过一个反相器连接一个传输门，传输门的输出经过三级反相器的输出作为反相器INV2的输入，反相器INV2的输出作为反相器INV3的输入，反相器INV3的输出作为反相器INV4的输入）输出得到低抖动的分频时钟。其中，传输门TG0由NMOS管和PMOS管构成，NMOS管的源极和PMOS管的漏极共接且接入前一级触发器正相输出端输出经反相器反相后的信号；NMOS管的栅极接入外部时钟，NMOS管的漏极和PMOS管的源极共接且作为传输门TG0的输出端，外部时钟经反相器后的反相外部时钟接入PMOS管的栅极。结合图3所示，假设所有时钟的初始值均为“0”电平。首先，外部时钟clk_in在第一个下降沿到来时触发了第一级D触发器DFF1，使其正相输出Q从初始态“0”电平跳变到“1”电平，此后该电平维持不变。而后，在外部时钟clk_in第二个下降沿到来时再一次触发第一级D触发器DFF1，使其正相输出Q从“1”电平跳变到“0”电平，此后该电平维持不变，直到外部时钟clk_in下一个下降沿到来触发其正相输出Q发生跳变。第一级D触发器DFF1的正相输出Q即是相对于外部时钟clk_in的二分频时钟clk_div2。二分频时钟clk_div2同时作为第二级D触发器DFF2的输入时钟，其工作机制与上述第一级D触发器DFF1的机制相同，第二级D触发器DFF2的正相输出时钟clk_div4即是相对于clk_div2的二分频时钟，也是相对于外部时钟clk_in的四分频时钟。后级D触发器DFF3~DFFN的工作机制以此类推，其输出时钟分别是相对于外部时钟clk_in的8~2^N分频时钟。在外部时钟clk_in为“1”电平时，传输门TG0导通，将各级输出分频时钟clk_div2^N经过三级反相器后送出，也就是低抖动的分频时钟clk_div2^N_lj，即外部时钟clk_in的上升沿触发了clk_div2^N_lj的跳变。由于各级D触发器本身会贡献抖动，因此随着分频倍数的增加，外部时钟clk_in经过的级联D触发器数量增多，导致各级D触发器引入的抖动会累加到最终的内部分频时钟clk_div2^N中，这是传统分频电路产生额外抖动的主要原因。而在本发明中，外部时钟clk_in在每一次“1”电平期间，内部分频时钟clk_div2^N都是处于稳定的“0”或“1”状态，因此clk_div2^N_lj的抖动与clk_div2^N本身的抖动无关，而只与外部时钟clk_in上升沿的抖动相关，即各级D触发器均不会对clk_div2^N_lj贡献额外的抖动。上述clk_in下降沿触发D触发器、上升沿开启传输门TG0的方式仅是举例说明，而并不是对于保护范围的限定，也就是说clk_in上升沿触发D触发器、下降沿开启传输门TG0的方式仍在本发明的保护范围之内。以上所述，仅是本发明的较佳实施例，并非对本发明做任何形式上的限制，凡是依据本发明的技术实质对以上实施例所作的任何简单修改、等同变化，均落入本发明的保护范围之内。
