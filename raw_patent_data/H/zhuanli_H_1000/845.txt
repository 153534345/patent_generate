标题title
一种自主系统定位方法、装置、计算机设备及存储介质
摘要abst
本发明公开了一种自主系统定位方法、装置、计算机设备及存储介质。自主系统定位方法包括对自主系统的惯性测量数据进行状态预测以及运动补偿，并得到包含构造点的点云；将采集的超宽带数据和激光雷达特征点时间对齐和空间对齐，并记录与激光雷达特征点相对应的位置信息；基于超宽带数据补偿沿预定方向维度的激光雷达误差；计算当前迭代轮次中各个构造点的状态量预测值与各个构造点所属平面的测量值之间的残差；根据残差调整IESKF的迭代权重，并基于调整后的IESKF匹配构造点云并更新地图点。本发明利用IESKF将激光雷达特征点与IMU数据和超宽带数据进行融合，引入超宽带数据来补偿沿预定方向维度的激光雷达误差并在卡尔曼增益公式部分进行调整，提高了室内定位的性能。
权利要求书clms
1.一种自主系统定位方法，所述自主系统具有超宽带定位模块，其特征在于，包括：获取所述自主系统的惯性测量数据和点云，且基于运动学模型对所述惯性测量数据做前向传播和后向传播；其中，所述点云包括由激光雷达所返回的点的测量角度和距离构成的空间点；按照所述前向传播后得到的数据对所述自主系统进行状态预测，以及按照所述后向传播后得到的数据对所述自主系统进行运动补偿，且基于所述运动补偿矫正所述点云并得到包含构造点的点云；采集与所述惯性测量数据时间同步的超宽带数据，将所述超宽带数据和激光雷达特征点进行时间对齐和空间对齐，并记录与所述激光雷达特征点相对应的位置信息；基于所述超宽带数据补偿沿预定方向维度的激光雷达误差；计算当前迭代轮次中各个构造点的状态量预测值与各个构造点所属平面的测量值之间的残差；根据所述残差调整误差迭代卡尔曼滤波器的迭代权重，并基于调整后的迭代权重匹配构造点云并更新地图点。2.根据权利要求1所述的自主系统定位方法，其特征在于，所述基于运动学模型对所述惯性测量数据做前向传播和后向传播的步骤包括：对所述惯性测量数据积分后做前向传播，得到所述自主系统的状态量预测值和噪声估计值；通过迭代扩展卡尔曼滤波器将惯性测量数据、超宽带数据和激光雷达特征点进行多源数据融合，以对所述自主系统的位置和姿态进行同时估计。3.根据权利要求2所述的自主系统定位方法，其特征在于，所述按照所述后向传播后得到的数据对所述自主系统进行运动补偿的步骤包括：对所述惯性测量数据做后向传播，且在后向传播过程补偿第一扫描时间和第二扫描时间之间的运动畸变。4.根据权利要求3所述的自主系统定位方法，其特征在于，在基于运动学模型对所述惯性测量数据做前向传播和后向传播之前，还包括：将所述惯性测量数据中的第一个IMU帧作为全局坐标系；在全局坐标系确定后计算激光雷达特征点和惯性测量数据之间的外参；相应地，所述按照所述前向传播后得到的数据对所述自主系统进行状态预测的步骤包括：利用运动学模型且基于激光雷达特征点和惯性测量之间的所述外参对所述自主系统进行状态预测。5.根据权利要求1所述的自主系统定位方法，其特征在于，所述按照所述后向传播后得到的数据对所述自主系统进行运动补偿的步骤包括：通过对惯性测量数据做后向传播，并利用插值近似得到姿态关系修正当前帧内各时刻的点云结果。6.根据权利要求1所述的自主系统定位方法，其特征在于，所述基于所述超宽带数据补偿沿预定方向维度的激光雷达误差的步骤包括：通过所述超宽带数据沿室内弱特征环境退化方向距离的测量数据，计算得到激光雷达在预定方向上的偏差。7.根据权利要求2所述的自主系统定位方法，其特征在于，所述基于调整后的迭代扩展卡尔曼滤波器匹配所述构造点云并更新地图点的步骤包括：采用增量KD树数据结构且基于调整后的迭代扩展卡尔曼滤波器匹配所述构造点云并更新地图点。8.一种自主系统定位装置，所述自主系统具有超宽带定位模块，其特征在于，包括：数据获取模块，用于获取所述自主系统的惯性测量数据和点云，且基于运动学模型对所述惯性测量数据做前向传播和后向传播；其中，所述点云包括由激光雷达所返回的点的测量角度和距离构成的空间点；数据处理模块，用于按照所述前向传播后得到的数据对所述自主系统进行状态预测，以及按照所述后向传播后得到的数据对所述自主系统进行运动补偿，且基于所述运动补偿矫正点云并得到包含构造点的点云；数据测量模块，用于采集与所述惯性测量数据时间同步的超宽带数据，将所述超宽带数据和激光雷达特征点进行时间对齐和空间对齐，并记录与所述激光雷达特征点相对应的位置信息；所述数据处理模块，还用于基于所述超宽带数据补偿沿预定方向维度的激光雷达误差；所述数据处理模块，还用于计算当前迭代轮次中各个构造点的状态量预测值与各个构造点所属平面的测量值之间的残差；定位模块，用于根据所述残差调整误差迭代卡尔曼滤波器的迭代权重，并基于调整后的迭代权重匹配所述构造点云并更新地图点。9.一种计算机设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至7中任一项所述的方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述程序被处理器执行时实现如权利要求1至7中任一项所述的方法。
说明书desc
技术领域本发明涉及自主系统定位领域，尤其涉及一种自主系统定位方法、装置、计算机设备及存储介质。背景技术自主系统通常是指，通过融合人工智能、机电控制、计算机、通信、材料等多种先进技术，进行自我操作或管理而不需要人工干预的人造系统。自主系统是能够持续监视自身状态，并根据内部或外部事件自动调整其状态和执行操作以满足预定目标的系统。随着自主系统这一技术在航拍、物流、农业等领域中日益广泛的应用，自主定位也将面临巨大挑战，尤其是在诸如隧道、矿井、城市峡谷等弱特征环境下，自主系统定位性能会受到严重影响。由于传统的自主系统定位方法主要依赖于GPS，因此在室内、室外等GPS信号弱或者无法接收GPS信号的弱特征环境下，容易导致自主系统基于GPS定位的精度和可靠性下降。有鉴于此，研究人员有必要探索出新的定位方法，以提高自主系统在各种环境下的性能。发明内容本发明要解决的技术问题是：传统的自主系统定位方法，在室内、室外等GPS信号弱或者无法接收GPS信号的弱特征环境下，容易导致自主系统基于GPS定位的精度和可靠性下降。为解决上述技术问题，本发明提供了一种自主系统定位方法，所述自主系统具有超宽带定位模块，包括：获取所述自主系统的惯性测量数据和点云，且基于运动学模型对所述惯性测量数据做前向传播和后向传播；其中，所述点云包括由激光雷达所返回的点的测量角度和距离构成的空间点；按照所述前向传播后得到的数据对所述自主系统进行状态预测，以及按照所述后向传播后得到的数据对所述自主系统进行运动补偿，且基于所述运动补偿矫正点云并得到包含构造点的点云；采集与所述惯性测量数据时间同步的超宽带数据，将所述超宽带数据和激光雷达特征点进行时间对齐和空间对齐，并记录与所述激光雷达特征点相对应的位置信息；基于所述超宽带数据补偿沿预定方向维度的激光雷达误差；计算当前迭代轮次中各个构造点的状态量预测值与各个构造点所属平面的测量值之间的残差；根据所述残差调整误差迭代卡尔曼滤波器的迭代权重，并基于调整后的迭代权重匹配所述构造点云并更新地图点。可选地，所述基于运动学模型对所述惯性测量数据做前向传播和后向传播的步骤包括：对所述惯性测量数据积分后做前向传播，得到所述自主系统的状态量预测值和噪声估计值；通过迭代扩展卡尔曼滤波器将惯性测量数据、超宽带数据和激光雷达特征点进行多源数据融合，以对所述自主系统的位置和姿态进行同时估计。可选地，所述基于所述后向传播数据对状态预测的结果进行运动补偿的步骤包括：对所述惯性测量数据做后向传播，且在后向传播过程补偿第一扫描时间和第二扫描时间之间的运动畸变。可选地，在基于运动学模型对所述惯性测量数据做前向传播和后向传播之前，还包括：将所述惯性测量数据中的第一个IMU帧作为全局坐标系；在全局坐标系确定后计算激光雷达特征点和惯性测量数据之间的外参；相应地，所述按照所述前向传播后得到的数据对所述自主系统进行状态预测的步骤包括：利用运动学模型且基于激光雷达特征点和惯性测量之间的所述外参对所述自主系统进行状态预测。可选地，所述按照所述后向传播后得到的数据对所述自主系统进行运动补偿的步骤包括：通过对惯性测量数据做后向传播，并利用插值近似得到姿态关系修正当前帧内各时刻的点云结果。可选地，所述基于所述超宽带数据补偿沿预定方向维度的激光雷达误差的步骤包括：通过所述超宽带数据沿室内弱特征环境退化方向距离的测量数据，计算得到激光雷达在预定方向上的偏差。可选地，所述基于调整后的迭代权重匹配所述构造点云并更新地图点的步骤包括：采用增量KD树数据结构且基于调整后的迭代扩展卡尔曼滤波器匹配所述构造点云并更新地图点。为解决上述技术问题，本发明提供了一种自主系统定位装置，所述自主系统具有超宽带定位模块，包括：数据获取模块，用于获取所述自主系统的惯性测量数据和点云，且基于运动学模型对所述惯性测量数据做前向传播和后向传播；其中，所述点云包括由激光雷达所返回的点的测量角度和距离构成的空间点；数据处理模块，用于按照所述前向传播后得到的数据对所述自主系统进行状态预测，以及按照所述后向传播后得到的数据对所述自主系统进行运动补偿，且基于所述运动补偿矫正点云并得到包含构造点的点云；数据测量模块，用于采集与所述惯性测量数据时间同步的超宽带数据，将所述超宽带数据和激光雷达特征点进行时间对齐和空间对齐，并记录与所述激光雷达特征点相对应的位置信息；所述数据处理模块，还用于基于所述超宽带数据补偿沿预定方向维度的激光雷达误差；所述数据处理模块，还用于计算当前迭代轮次中各个构造点的状态量预测值与各个构造点所属平面的测量值之间的残差；定位模块，用于根据所述残差调整误差迭代卡尔曼滤波器的迭代权重，并基于调整后的迭代权重匹配所述构造点云并更新地图点。为解决上述技术问题，本发明提供了一种计算机设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述的方法。为解决上述技术问题，本发明提供了一种计算机可读存储介质，其上存储有计算机程序，所述程序被处理器执行时实现上述的方法。本发明提供的自主定位方法，提出了一种基于IESKF的框架，引入了超宽带数据以适用室内室外等GPS信号弱或无GPS信号的环境，通过融合惯性测量单元数据、超宽带数据和激光雷达特征点这三个影响因子进行自主系统定位和地图更新，实现了数据的多源融合，从而提高了自主系统基于GPS定位的精度和可靠性。此外，本发明采用了增量KD树数据结构，降低了计算复杂度。并且，还通过隧道环境 的无人机自主定位实验，验证了本发明所提供的定位方案对室内室外等弱特征环境下定位精度的有效提升。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的自主系统定位方法的一种流程图；图2为本发明实施例提供的超宽带基站的一种锚点设置方式；图3为本发明实施例提供的超宽带基站的另一种锚点设置方式；图4为本发明实施例提供的弱环境下分别应用本申请自主系统定位方法与传统定位方法的试验结果对比图；图5为本发明实施例提供的自主系统定位装置的一种结构图；图6为本发明提供的一种计算机设备的结构图；图7为本发明实施例提供的姿态标定器安装示意图；图8为本发明实施例提供的真值测量示意图；图9为本发明实施例提供的试验建图效果示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在对本发明提供的自主系统定位方案进行说明之前，先对本发明中出现的几个概念做个简要说明。具体如下：IMU是一种测量物体加速度和角速度的传感器，可以提供高频率的姿态信息。UWB可以实现高精度的距离测量，适用于室内室外等GPS信号弱或者无法接收GPS信号的环境。LiDAR是一种向被测目标发射探测信号，然后测量反射或散射信号的到达时间、强弱程度等参数，以确定目标的距离、方位、运动状态及表面光学特性的雷达系统；激光雷达可以提供高精度的地面特征点云，用于建立环境地图和障碍物检测。传统的自主系统定位方案中，在室内、室外等GPS信号弱或者无法接收GPS信号的弱特征环境下，容易导致自主系统基于GPS定位的精度和可靠性下降。为解决上述问题，本发明提供了一种自主系统定位方法、装置、计算机设备以及存储介质。下面对本发明实施例提供自主系统定位方法进行说明。实施例一如图1所示，为本发明实施例提供的自主系统定位方法的一种流程图，所述自主系统具有超宽带定位模块，该方法可以包括以下步骤：步骤S101：获取所述自主系统的惯性测量数据和点云，且基于运动学模型对所述惯性测量数据做前向传播和后向传播。其中，所述点云包括由激光雷达所返回的点的测量角度和距离构成的空间点。具体而言，在获取到惯性测量数据和点云后，可以利用运动学算法构建模型，且将惯性测量数据作为输入，每帧均利用所构建的模型进行前向传播和后向传播。本发明基于运动学模型对惯性测量数据进行处理，包括对惯性测量数据进行前向传播和后向传播。在本发明的一种实现方式中，可以基于运动学模型对所述惯性测量数据做前向传播和后向传播，具体可以包括以下步骤：对所述惯性测量数据积分后做前向传播，得到所述自主系统的状态量预测值和噪声估计值；通过迭代扩展卡尔曼滤波器将惯性测量数据、超宽带数据和激光雷达特征点进行多源数据融合，以对所述自主系统的位置和姿态进行同时估计，弥补了激光雷达在室内弱环境特征中定位精度不足的问题。需要说明的是，上述提及的迭代扩展卡尔曼滤波器仅为本发明的一种具体实现方式，在基于运动学模型对惯性测量数据进行前向传播与后向传播时，并不局限于上述一种实现方式，任何可行的实现方式均可以应用于本发明。一种实现方式中，在基于运动学模型对所述惯性测量数据做前向传播和后向传播之前，还包括：将所述惯性测量数据中的第一个IMU帧作为全局坐标系；在全局坐标系确定后，通过表达式表示激光雷达特征点和惯性测量数据之间的外参，其中/＞表示雷达相对于惯性测量单元的姿态，/＞表示雷达相对于惯性里程计的位置，通过表达式/＞表示惯性测量数据与首帧数据之间的当前位置姿态，其中/＞表示惯性测量单元相对于首帧的姿态，而/＞表示惯性测量单元相对于首帧的位置；一种实现方式中，所述按照所述前向传播后得到的数据对所述自主系统进行状态预测的步骤包括：利用运动学模型且基于激光雷达特征点和惯性测量数据之间的所述外参对所述自主系统进行状态预测。具体地，将第一个IMU帧作为全局坐标系，并将表示LiDAR和IMU之间的外参。步骤S102：按照所述前向传播后得到的数据对所述自主系统进行状态预测，以及按照所述后向传播后得到的数据对所述自主系统进行运动补偿，且基于所述运动补偿矫正点云并得到包含构造点的点云。需要说明的是，点云是指目标表面特性的点集合。可以包括以下几种应用情形：根据激光测量原理得到的点云，包括三维坐标和激光反射强度；根据摄影测量原理得到的点云，包括三维坐标和颜色信息；结合激光测量和摄影测量原理得到点云，包括三维坐标、激光反射强度和颜色信息。然而，不论是那种情形，在获取物体表面每个采样点的空间坐标后，得到的都是点集合，称之为“点云”。可以理解的是，步骤S102利用后向传播后得到的数据进行运动补偿，并基于该运动补偿对点云中各点所在集合的元素数值进行矫正，并将矫正后的点所在的集合作为点云中的构造点，从而得到包含构造点的点云。一种实现方式中，对所述惯性测量数据做后向传播，且在后向传播过程补偿第一扫描时间和第二扫描时间之间的运动畸变，从而基于所述后向传播数据对状态预测的结果进行运动补偿。一种实现方式中，通过对惯性测量数据做后向传播，并利用插值近似得到姿态关系修正该帧内各时刻的点云结果。下面对惯性测量单元IMU的传播过程进行说明：前向传播过程：假设在融合最后一个激光雷达扫描后的最佳状态估计为/＞，其协方差矩阵为/＞。在收到惯性测量单元IMU结果时进行前向传播。具体而言，通过将过程噪声/＞设为零，对角速度和线加速度积分。按照迭代扩展卡尔曼滤波的前向部分计算其最可能的第一轮状态估计和此估计对应各量的协方差/＞。通过将过程噪声/＞设为零，并根据卡尔曼滤波中的前向过程计算得到预测过程噪声矩阵。后向传播过程：为了补偿时间和时间/＞之间的运动畸变，进行向后传播，即，从上一时刻状态量/＞和从当前先验状态/＞得到状态量对姿态做匀速变化假设下插值，其中/＞表示其中各状态量对应加法逻辑，因其中部分状态量属于/＞李代数范畴，不同于如速度、位置、线性加速度等加法逻辑，而/＞表示插值点距离当前时刻/＞的间隔，而表达式/＞则代表运动学关系，指当前时刻位姿/＞、当前时刻假设在间隔内保持不变的输入/＞、以及噪声为/＞条件下状态的导数。向后传播的频率与特征点的频率相同，通常远高于IMU的采样率。对于在两个IMU测量之间采样的所有特征点，故使用左侧的IMU测量作为向后传播的输入。反向传播将产生一个相对姿态，介于时间和扫描结束时间/＞之间：，其中/＞表示相对于当前帧/＞时刻IMU坐标系的第/＞个插值点时刻的插值推算的姿态，而/＞则表示相对于当前帧/＞时刻的IMU坐标系的第/＞个插值点时刻的插值推算的位置。这个相对姿态使我们能够将局部测量/＞投影到扫描结束的测量/＞上。步骤S103：采集与所述惯性测量数据时间同步的超宽带数据，将所述超宽带数据和所述激光雷达特征点进行时间对齐和空间对齐，并记录与激光雷达特征点相对应的位置信息。可以理解的是，将所述超宽带数据和激光雷达特征点进行时间对齐和空间对齐，确保两个数据源的时间戳和坐标系相匹配。一种具体实现方式中，锚点布设可以有多种形式，本发明对此不做限定，例如，可以设置为四基站，直接输出解算退化方向沿线结果，也可以仅设置一个基站，并通过单基站计算距离，得到距离通过已知较为精确的两方向估计进行退化方向沿线测量。记录下室内的超宽带定位模块测量的距离测量数据，同时收集激光雷达特征点。在预定方向内收集高精度的超宽带定位模块测量的距离测量数据，并记录下与激光雷达特征点对应的位置信息。在同一时间段内，同时收集激光雷达特征点。将超宽带数据和激光雷达特征点进行时间对齐和空间对齐，确保两个数据源的时间戳和坐标系相匹配。通过在观测方程中加入超宽带定位模块对沿室内弱特征环境中退化方向距离的测量数据从而推断出激光雷达在室内退化方向上的偏差，并对其进行矫正。需要说明的是，对于收集超宽带定位模块测量的距离测量数据，可沿预定方向收集，例如可以在室内退化沿线方向收集，当然，“室内退化沿线方向”仅仅是本发明给出的一种优选实现方式，本发明并不限定该预定方向具体为何种方向，本领域技术人员需要根据实际应用具体情况进行确定。其他雷达点云的观测量为：假设当前迭代更新中状态的估计为/＞，当/＞，，将每个测量的LiDAR点/＞投影到全局坐标系中/＞，其中/＞表示每个测量得到的LiDAR点投影到全局坐标系中的位置信息，并在由ikd-Tree表示的地图中搜索其最近的5个点。然后，找到的最近邻点用于拟合具有法向量/＞和质心/＞的局部小平面块。此外，通过在/＞处对测量方程进行一阶近似来近似测量方程。/＞称为残差，用来表征被推断位于该平面上的点在当前位姿下并没有投影位于平面上，该过程所包含的误差，组成该残差的主要部分是姿态错误带来的平面不重合，除此以外有测量过程噪声作用。步骤S104：基于所述超宽带数据补偿沿预定方向维度的激光雷达误差。一种实现方式中，通过所述超宽带数据沿室内弱特征环境退化方向距离的测量数据，计算得到激光雷达在预定方向上的偏差。步骤S105：计算当前迭代轮次中各个构造点的状态量预测值与各个构造点所属平面的测量值之间的残差。步骤S106：根据所述残差调整误差迭代卡尔曼滤波器的迭代权重，并基于调整后的迭代权重匹配所述构造点云并更新地图点。一种实现方式中，可以采用增量KD树数据结构且基于调整后的迭代扩展卡尔曼滤波器匹配所述构造点云并更新地图点。地图点被组织成一个ikd-Tree，该树通过以里程计速率合并点云的新扫描来动态增长。为了防止地图的大小不受约束，只保留激光雷达当前位置周围长度为L的大局部区域内的地图点在ikd-Tree上。地图区域初始化为长度为L的立方体，以初始激光雷达位置为中心。假设激光雷达的检测区域是一个以激光雷达当前位置为中心的检测球。假设探测球半径为/＞，其中r为激光雷达视场范围，/＞为大于1的松弛参数。当激光雷达移动到检测球接触地图边界的新位置/＞时，地图区域向增加激光雷达检测区域与接触边界的距离的方向移动。将地图区域移动的距离设置为常数/＞，其中/＞表示移动距离。在新地图区域和旧地图区域之间的减法区域中的所有点将通过逐框删除操作从ikd-Tree中删除。需要说明的是，室内、室外等GPS信号弱或者无法接收GPS信号的弱特征环境下，由于隧道、矿井、城市峡谷等特殊环境下，人工封闭环境通常地形复杂，且退化方向特征较少，LiDAR数据的获取和处理可能会受到限制，导致自主定位，从而导致相关全局或部分地图的建立和障碍物的检测的精度下降，因此，传统的自主系统定位方法，在弱特征环境下容易导致自主系统基于GPS定位的精度和可靠性下降。而本发明提供的自主系统定位方法提出了一种基于IESKF的框架，引入了超宽带数据以适用室内室外等GPS信号弱或无GPS信号的环境，通过融合惯性测量数据、超宽带数据和激光雷达特征点这三个影响因子进行自主系统定位和地图更新，实现了数据的多源融合，从而提高了自主系统基于GPS定位的精度和可靠性。而且，IESKF将惯性测量数据和激光雷达特征点进行信息融合，实现了对自主系统位置和姿态的同时估计，有利于提高定位性能。此外，本发明采用了增量KD树数据结构，降低了计算复杂度。并且，还通过隧道环境的无人机自主定位实验，如图4所示，验证了本发明所提供的定位方案对室内室外等弱特征环境下定位精度的有效提升。需要说明的是，本发明提供了一种利用迭代扩展卡尔曼滤波器将激光雷达特征点与惯性测量数据和超宽带数据进行融合的定位方法，该方法基于FAST-LIO2的框架，在激光雷达扫描过程中，通过惯性测量单元IMU的前向传播来预测状态并后向做点云运动补偿，本发明引入超宽带数据来补偿沿预定方向维度的激光雷达误差并在卡尔曼增益公式部分进行调整，以调整各项观测的权重，有效提高预定方向精度。实施例二图5为本发明实施例提供的自主定位装置的一种结构图，对应于上述的自主系统定位方法，为解决上述技术问题，本发明提供了一种自主系统定位装置，所述自主系统具有超宽带定位模块，该装置包括：数据获取模块210，用于获取所述自主系统的惯性测量数据和点云，且基于运动学模型对所述惯性测量数据做前向传播和后向传播；其中，所述点云包括由激光雷达所返回的点的测量角度和距离构成的空间点；数据处理模块220，用于按照所述前向传播后得到的数据对所述自主系统进行状态预测，以及按照所述后向传播后得到的数据对所述自主系统进行运动补偿，且基于所述运动补偿矫正点云并得到包含构造点的点云；数据测量模块230，用于采集与所述惯性测量数据时间同步的超宽带数据，将所述超宽带数据和所述激光雷达特征点进行时间对齐和空间对齐，并记录与激光雷达特征点相对应的位置信息；所述数据处理模块220，还用于基于所述超宽带数据补偿沿预定方向维度的激光雷达误差；所述数据处理模块220，还用于计算当前迭代轮次中各个构造点的状态量预测值与各个构造点所属平面的测量值之间的残差；定位模块240，用于根据所述残差调整误差迭代卡尔曼滤波器的迭代权重，并基于调整后的迭代权重匹配所述构造点云并更新地图点。本发明提供的自主系统定位装置，基于IESKF的框架，且引入了超宽带数据以适用室内室外等GPS信号弱或无GPS信号的环境，通过融合惯性测量数据、超宽带数据和激光雷达特征点这三个影响因子进行自主系统定位和地图更新，实现了数据的多源融合，从而提高了自主系统基于GPS定位的精度和可靠性。而且，IESKF将惯性测量数据和激光雷达特征点进行信息融合，实现了对自主系统位置和姿态的同时估计，有利于提高定位性能。此外，本发明采用了增量KD树数据结构，降低了计算复杂度。并且，还通过隧道环境的无人机自主定位实验，验证了本发明所提供的定位方案对室内室外等弱特征环境下定位精度的有效提升。实施例三为解决上述技术问题，本发明提供了一种计算机设备，如图6所示，包括存储器310、处理器320及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上所述的方法。所述计算机设备可以是桌上型计算机、笔记本、掌上电脑及云端服务器等计算设备。所述计算机设备可包括，但不仅限于处理器320、存储器310。本领域技术人员可以理解，图6仅仅是计算机设备的示例，并不构成对计算机设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如所述计算机设备还可以包括输入输出设备、网络接入设备、总线等。所称处理器320可以是中央处理单元，还可以是其它通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其它可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。所述存储器310可以是所述计算机设备的内部存储单元，例如计算机设备的硬盘或内存。所述存储器310也可以是计算机设备的外部存储设备，例如所述计算机设备上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，所述存储器310还可以既包括所述计算机设备的内部存储单元也包括外部存储设备。所述存储器310用于存储所述计算机程序以及所述计算机设备所需的其它程序和数据。所述存储器310还可以用于暂时地存储已经输出或者将要输出的数据。实施例四本申请实施例还提供了一种计算机可读存储介质，该计算机可读存储介质可以是上述实施例中的存储器中所包含的计算机可读存储介质；也可以是单独存在、未装配入计算机设备中的计算机可读存储介质。所述计算机可读存储介质存储有一个或者一个以上计算机程序，所述程序被处理器执行时实现上述所述的方法。所述集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请实现上述实施例方法中的全部或部分流程，也可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个方法实施例的步骤。其中，所述计算机程序包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U 盘、移动硬盘、磁碟、光盘、计算机存储器310、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，所述计算机可读介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如在某些司法管辖区，根据立法和专利实践，计算机可读介质不包括电载波信号和电信信号。实施例五下面以“隧道”这一弱环境特征为例，对本发明提供的应用于自主系统定位方法进行详细说明。步骤1、使用全站仪对隧道起始端和末端坐标进行测量。具体地，分别在隧道末端走道边缘架设标靶，通过全站仪测量标靶所处位置的坐标，通过获得的隧道起始端和末端坐标，经过数据处理后得到隧道方向矢量。步骤2、将超宽带基站固定于起点附近，使用全站仪测量其坐标；锚点布设方式参见图2和图3。步骤3、在雷达起始点安装标定架，例如，针对图2中的锚点设置方式而言，可以通过测量四个角点的靶标位置，计算起点的位置和姿态以及终点的位置。具体方案如下：制作如图7中所示的定位装置标定架，采用工字型结构钢，并通过3D打印制作了此工字钢与雷达冠部的连接机构。利用雷达上部散热片的楔形结构将其卡入与之固定，利用打印件的特异卡槽、螺孔以及固定板将工字钢固定在槽内，从而实现整个结构的稳定。利用雷达图纸所提供的信息，粘贴下部两标定靶在两侧竖钢同一水平高度，通过取均值得到雷达中心的全站仪系起点坐标。上侧两个靶标安装在工字钢的两竖钢的上边缘中心。通过四点理论共面的已知条件，利用平面矢量叉乘得出其x轴方向，通过两个竖钢上下靶标的矢量归一化平均得出其z轴方向，通过左上和右上连线矢量与左下和右下的矢量归一化平均后算出其y轴方向，最后用单位矢量的叉乘关系，验证三轴两两垂直度。确认无误后通过坐标转换得到初始姿态矩阵，初始位置原点即上述的雷达中心。终点位置也通过类似起点位置的方法得到，因无需计算终点位置的姿态，故只需要测量下侧两个靶标的位置，然后通过取连线中点得到雷达中心的全站仪系坐标，此即终点坐标。步骤4、在雷达设备顶部安装超宽带定位模块后，持定位装置移动，并记录下ROS数据集rosbag。步骤5、测量终点位置的坐标，具体测量方案如下：建立全站仪坐标系。实验场地中选取一视野良好，地势平坦的位置安装全站仪，调平全站仪后，使用卷尺测量仪器高度，在全站仪上输入仪器高度。此时激光对点器在地面的激光脚点，即为全站仪坐标器原点。在隧道中任意位置安装棱镜，全站仪对准棱镜位置，将当前全站仪角度置零。全站仪标定基站位。首先在基站中心位置贴反光贴，让全站仪镜头对准反光贴中心，使用全站仪在起始位置使用坐标测量模式测量坐标，记为基站坐标。进行终点坐标测量方案。由于全站仪在起点处无法直接观察终点位置，所以选择多个中继点间接测量终点坐标。如图7所示，测量中继点坐标以及对齐坐标系的方式如下：1）在中继点处上方安装棱镜，测量棱镜高度，在全站仪中设置棱镜高度，全站仪对准棱镜中心，使用坐标测量模式即可测量棱镜所在地面点的三维坐标。2）在中继点附近设置一反光贴，使用全站仪测量反光贴坐标。3）使用反光贴和棱镜坐标计算角度a。4）将全站仪移动到棱镜所在位置，调平全站仪，激光对点器对准中继点；全站仪对准反光贴，将当前全站仪角度设为a，则当前中继点坐标轴和原坐标轴平行。从中继点测量的坐标加上原坐标系下中继点的坐标即为原始全站仪坐标系下的坐标。按此方法中继，即可间接测量终点坐标，请参见图8。步骤6、运行程序，查看记录结果。请参见图4，上述测量结果表明，本发明提供的自主系统定位精度有较大幅度提高，具体可以将偏差30 m控制在5 cm内。测试建图结果如图9所示，可以发现在该算法下建图结果没有重影和叠合，定位结果与真值可参见图4，图4中虚线表示全站仪测量参考终点，而实线表示里程计换算结果，从图4可以看出二者精度相差5 cm。需要说明的是，对于系统或装置实施例而言，由于其基本相似于方法实施例，所以描述得比较简单，相关之处参见方法实施例的部分说明即可。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将所述装置的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。实施例中的各功能单元、模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中，上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。另外，各功能单元、模块的具体名称也只是为了便于相互区分，并不用于限制本申请的保护范围。上述系统中单元、模块的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。应当理解，在本申请说明书中所使用的术语仅仅是出于描述特定实施例的目的而并不意在限制本申请。如在本申请说明书和所附权利要求书中所使用的那样，除非上下文清楚地指明其它情况，否则单数形式的“一”、“一个”及“该”意在包括复数形式。还应当理解，在本申请说明书和所附权利要求书中使用的术语“和/或”是指相关联列出的项中的一个或多个的任何组合以及所有可能组合，并且包括这些组合。如在本说明书和所附权利要求书中所使用的那样，术语“如果”可以依据上下文被解释为“当...时”或“一旦”或“响应于确定”或“响应于检测到”。类似地，短语“如果确定”或“如果检测到所描述条件或事件”可以依据上下文被解释为意指“一旦确定”或“响应于确定”或“一旦检测到所描述条件或事件”或“响应于检测到所描述条件或事件”。虽然本发明所公开的实施方式如上，但所述的内容只是为了便于理解本发明而采用的实施方式，并非用以限定本发明。任何本发明所属技术领域内的技术人员，在不脱离本发明所公开的精神和范围的前提下，可以在实施的形式上及细节上作任何的修改与变化，但本发明的保护范围，仍须以所附的权利要求书所界定的范围为准。
