标题title
一种燃料电池系统控制方法和装置
摘要abst
本申请提供一种燃料电池系统控制方法和装置，涉及燃料电池技术领域，在该方法中，燃料电池控制装置获取历史构建数据构建燃料电池性能模型；并通过该模型依据车辆在行驶过程中的实时获取运行状态数据和路径预测数据得到车辆在预设时间段内的动力需求曲线，进而确定车辆的变化输出模式和燃料电池的输出控制策略。该方法可以依据车辆的历史运行环境数据预测未来一段时间内的动力需求曲线，进而确定当前更适合车辆的变化输出模式和输出控制策略，使燃料电池系统的实际输出更贴合车辆动力需求，从而降低燃料电池系统负荷变化。
权利要求书clms
1.一种燃料电池系统控制方法，其特征在于，包括：获取构建数据，所述构建数据包括车辆导航数据、相关动力学数据和通过微机电系统采集到的燃料电池的实时参数，所述实时参数为实时获取的可以对燃料电池性能产生影响的参数；依据所述构建数据构建燃料电池性能模型；获取车辆在行驶过程中的运行状态数据和路径预测数据，所述运行状态数据包括所述燃料电池的实时参数，所述路径预测数据可以依据所述车辆导航数据确定；将所述运行状态数据和所述路径预测数据输入到所述燃料电池性能模型中，得到所述车辆在预设时间段内的动力需求曲线；依据所述动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合所述动力需求曲线的变化输出模式，所述车辆的燃料电池系统包括多个逻辑群组，每个逻辑群组包括多个不同结构规格的燃料电池模块，所述变化输出模式包括串联结构、并联结构和混合结构；依据所述动力需求曲线和变化输出模式确定所述燃料电池的输出控制策略，所述输出控制策略包括车辆的所述变化输出模式以及在所述变化输出模式下所述燃料电池系统的发电功率。2.根据权利要求1所述的方法，其特征在于，所述获取构建数据的步骤，具体包括：通过车辆导航系统实时获取车辆导航数据；通过微机电系统实时获取燃料电池的实时参数和车辆相关动力学数据；记录预设时间范围以内的所述车辆导航数据、所述实时参数和所述车辆相关动力学数据，得到构建数据。3.根据权利要求1所述的方法，其特征在于，在所述依据所述动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合所述动力需求曲线的变化输出模式的步骤之前，还包括：设定所述变化输出模式的最小切换时间间隔；当检测到所述变化输出模式的时间间隔超过所述最小切换时间间隔后，允许对所述变化输出模式进行切换。4.根据权利要求1所述的方法，其特征在于，所述依据所述动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合所述动力需求曲线的变化输出模式的步骤，具体包括：依据所述动力需求曲线确定未来各时刻车辆的发电功率需求；依据所述发电功率需求确定所述燃料电池系统中各个燃料电池模块之间的拓扑结构；依据所述拓扑结构调整所述燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合所述动力需求曲线的变化输出模式。5.根据权利要求1所述的方法，其特征在于，所述依据所述动力需求曲线和变化输出模式确定所述燃料电池的输出控制策略的步骤，具体包括：确定所述动力需求曲线在预设时间段内对应的燃料电池系统的目标发电功率；依据所述目标发电功率、预设时间段和变化输出模式确定所述燃料电池系统的发电功率调节速度和范围，得到输出控制策略；依据所述输出控制策略控制所述燃料电池系统调节发电功率。6.根据权利要求5所述的方法，其特征在于，在所述依据所述输出控制策略控制所述燃料电池系统调节发电功率的步骤之后，还包括：当检测到所述燃料电池系统的发电功率大于所述车辆的需求功率时，将所述燃料电池系统产生的多余的能量存储到能量缓存装置中，所述能量缓存装置与所述燃料电池系统相连；当检测到所述燃料电池系统的发电功率小于所述车辆的需求功率时，优先使用所述能量缓存装置为所述车辆供能。7.根据权利要求1所述的方法，其特征在于，在所述获取所述车辆在行驶过程中的运行状态数据和路径预测数据的步骤之后，还包括：对所述燃料电池的实时参数进行分析，识别出存在微型损伤或异常情况的单个燃料电池；向电池管理系统发送指令，控制所述电池管理系统隔离所述单个燃料电池。8.一种燃料电池控制装置，其特征在于，包括：数据获取模块，用于获取构建数据，所述构建数据包括车辆导航数据、相关动力学数据和通过微机电系统采集到的燃料电池的实时参数，所述实时参数为实时获取的可以对燃料电池性能产生影响的参数；模型构建模块，用于依据所述构建数据构建燃料电池性能模型；实时监测模块，用于获取车辆在行驶过程中的运行状态数据和路径预测数据，所述运行状态数据包括所述燃料电池的实时参数，所述路径预测数据可以依据所述车辆导航数据确定；动力需求计算模块，用于将所述运行状态数据和路径预测数据输入到所述燃料电池性能模型中，得到所述车辆在预设时间段内的动力需求曲线；变化输出模式确定模块，用于依据所述动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合所述动力需求曲线的变化输出模式，所述车辆的燃料电池系统包括多个逻辑群组，每个逻辑群组包括多个不同结构规格的燃料电池模块，所述变化输出模式包括串联结构、并联结构和混合结构；控制策略确定模块，用于依据所述动力需求曲线和变化输出模式确定所述燃料电池的输出控制策略，所述输出控制策略包括车辆的变化输出模式以及在所述变化输出模式下所述燃料电池系统的发电功率。9.一种燃料电池控制装置，其特征在于，包括：一个或多个处理器和存储器；所述存储器与所述一个或多个处理器耦合，所述存储器用于存储计算机程序代码，所述计算机程序代码包括计算机指令，所述一个或多个处理器调用所述计算机指令以使得所述燃料电池控制装置执行如权利要求1-7中任一项所述的方法。10.一种计算机可读存储介质，包括指令，其特征在于，当所述指令在燃料电池控制装置上运行时，使得所述燃料电池控制装置执行如权利要求1-7中任一项所述的方法。
说明书desc
技术领域本申请涉及燃料电池技术领域，尤其涉及一种燃料电池系统控制方法和装置。背景技术燃料电池是一种利用氢气和氧气作为燃料来产生电能的设备。因为燃料电池通过化学反应将氢气和氧气转化为电能和水，不产生二氧化碳等有害气体，是一种清洁能源技术。目前，使用燃料电池提供动力的汽车逐渐增多，燃料电池通过化学反应直接将燃料的化学能转换为电能，与燃油车相比，燃料电池车可以利用氢作为燃料，在运行过程中不产生废气，是一种真正意义上的洁净能源车型。此外，燃料电池系统寿命长，只需要定期补充氢燃料就可以持续工作，这给使用者带来了更高的便利性，将会成为今后推广电动汽车的重要方向之一。然而，车辆在运行的过程中，可能遇到各种复杂情况，尤其在需要急刹车和急加速的情况下，需要车辆的燃料电池系统具有较高的响应性，快速调整燃料电池的负荷，但燃料电池负荷变化较大对燃料电池电堆的性能有着不小的冲击，影响燃料电池的使用寿命。发明内容本申请提供了一种燃料电池系统控制方法和装置，可以依据车辆的历史运行环境数据预测未来一段时间内的动力需求曲线，进而确定当前更适合车辆的变化输出模式和输出控制策略，使燃料电池系统的实际输出更贴合车辆动力需求，从而降低燃料电池系统负荷变化，减小对燃料电池的使用寿命的影响。第一方面，本申请提供一种燃料电池系统控制方法，包括：获取构建数据，该构建数据包括车辆导航数据、相关动力学数据和通过微机电系统采集到的燃料电池的实时参数，该实时参数为实时获取的可以对燃料电池性能产生影响的参数；依据该构建数据构建燃料电池性能模型；获取车辆在行驶过程中的运行状态数据和路径预测数据，该运行状态数据包括该燃料电池的实时参数，该路径预测数据可以依据该车辆导航数据确定；将该运行状态数据和路径预测数据输入到该燃料电池性能模型中，得到该车辆在预设时间段内的动力需求曲线；依据该动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合该动力需求曲线的变化输出模式，该车辆的燃料电池系统包括多个逻辑群组，每个逻辑群组包括多个不同结构规格的燃料电池模块，该变化输出模式包括串联结构、并联结构和混合结构；依据该动力需求曲线和变化输出模式确定该燃料电池的输出控制策略，该输出控制策略包括车辆的变化输出模式以及在该变化输出模式下该燃料电池系统的发电功率。通过上述实施例，燃料电池控制装置可以获取构建数据，如车辆导航数据、燃料电池实时参数等，构建燃料电池性能模型。然后将实时获取的车辆运行状态数据和路径预测数据输入到模型中计算得到未来一段时间内的动力需求曲线。进而确定输出模式和输出控制策略。使得车辆可以在行驶过程中依据运行环境数据预测未来一段时间内的动力需求曲线，从而确定当前更适合车辆的变化输出模式和输出控制策略，使燃料电池系统的实际输出更贴合车辆动力需求，从而降低燃料电池系统负荷变化，减小对燃料电池的使用寿命的影响。在一些实施例中，该获取构建数据的步骤，具体包括：通过车辆导航系统实时获取车辆导航数据；通过微机电系统实时获取燃料电池的实时参数和车辆相关动力学数据；记录预设时间范围以内的该车辆导航数据、实时参数和车辆相关动力学数据，得到构建数据。通过上述实施例，燃料电池控制装置可以通过车辆导航系统和微机电系统实时获取车辆各项运行数据，并依据一定时间范围内记录的车辆各项运行数据得到燃料电池性能模型的构建数据集，同时保证了该构建数据集的实时性，提高了燃料电池性能模型的准确度。在一些实施例中，在该依据该动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合该动力需求曲线的变化输出模式的步骤之前，还包括：设定该变化输出模式的最小切换时间间隔；当检测到该变化输出模式的时间间隔超过该最小切换时间间隔后，允许对该变化输出模式进行切换。通过上述实施例，燃料电池控制装置可以设置变化输出模式的最小切换时间间隔，使得只有在检测到模式切换时间间隔大于最小切换时间间隔后，才允许对模式进行切换。可以避免由于短时功率波动而频繁切换模式，从而减轻给燃料电池系统带来的负担，降低过度切换对燃料电池系统寿命的不利影响。在一些实施例中，该依据该动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合该动力需求曲线的变化输出模式的步骤，具体包括：依据该动力需求曲线确定未来各时刻车辆的发电功率需求；依据该发电功率需求确定该燃料电池系统中各个燃料电池模块之间的拓扑结构；依据该拓扑结构调整该燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合该动力需求曲线的变化输出模式。通过上述实施例，燃料电池控制装置可以根据动力需求曲线确定未来各时刻车辆的发电功率需求，进而确定燃料电池模块之间的连接拓扑结构并调整各组模块的连接位置，得到符合动力需求曲线的变化输出模式。依据车辆的动力需求曲线确定并调整出最优的变化输出模式。从而有效实现了对车辆的动力需求跟踪，尽可能保障输出的效率和稳定性，从而降低了频繁负载波动对燃料电池系统的不良影响。在一些实施例中，该依据该动力需求曲线和变化输出模式确定该燃料电池的输出控制策略的步骤，具体包括：确定该动力需求曲线在预设时间段内对应的燃料电池系统的目标发电功率；依据该目标发电功率、预设时间段和变化输出模式确定该燃料电池系统的发电功率调节速度和范围，得到输出控制策略；依据该输出控制策略控制该燃料电池系统调节发电功率。通过上述实施例，燃料电池控制装置可以根据动力需求曲线确定目标发电功率、进而再依据预设时间段和变化输出模式得到系统功率调节速度和范围，形成输出控制策略。使得输出控制策略与车辆的动力需求更适配。在一些实施例中，其特征在于，在该依据该输出控制策略控制该燃料电池系统调节发电功率的步骤之后，还包括：当检测到该燃料电池系统的发电功率大于该车辆的需求功率时，将该燃料电池系统产生的多余的能量存储到能量缓存装置中，该能量缓存装置与该燃料电池系统相连；当检测到该燃料电池系统的发电功率小于该车辆的需求功率时，优先使用能量缓存装置为该车辆供能。通过上述实施例，燃料电池控制装置可以在检测到燃料电池系统产生较多的电能时，将多余的电能储存到与系统连接的能量缓存装置中。并在检测到燃料电池系统产生的电能不足时，优先从该能量缓存装置获取电能供给车辆。实现了系统输出的多余电能的有效再利用，在保证动力需求的同时，最大限度提高了系统的能源利用率。在一些实施例中，在该获取该车辆在行驶过程中的运行状态数据和路径预测数据的步骤之后，还包括：对该燃料电池的实时参数进行分析，识别出存在微型损伤或异常情况的单个燃料电池；向电池管理系统发送指令，控制该电池管理系统隔离该单个燃料电池。通过上述实施例，燃料电池控制装置可以对燃料电池系统进行实时监控，并在识别出单个燃料电池存在损伤或异常情况后，发送指令实现该单个燃料电池的隔离。从而更好降低单个电池损坏对燃料电池整体性能的不利影响。第二方面，本申请提供一种燃料电池控制装置，包括：数据获取模块，用于获取构建数据，该构建数据包括车辆导航数据、相关动力学数据和通过微机电系统采集到的燃料电池的实时参数，该实时参数为实时获取的可以对燃料电池性能产生影响的参数；模型构建模块，用于依据该构建数据构建燃料电池性能模型；实时监测模块，用于获取该车辆在行驶过程中的运行状态数据和路径预测数据，该运行状态数据包括该燃料电池的实时参数，该路径预测数据可以依据该车辆导航数据确定；动力需求计算模块，用于将该运行状态数据和路径预测数据输入到该燃料电池性能模型中，得到该车辆在预设时间段内的动力需求曲线；变化输出模式确定模块，用于依据该动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合该动力需求曲线的变化输出模式，该车辆的燃料电池系统包括多个逻辑群组，每个逻辑群组包括多个不同结构规格的燃料电池模块，该变化输出模式包括串联结构、并联结构和混合结构；控制策略确定模块，用于依据该动力需求曲线和变化输出模式确定该燃料电池的输出控制策略，该输出控制策略包括车辆的变化输出模式以及在该变化输出模式下该燃料电池系统的发电功率。本申请提供的一种燃料电池控制装置可以实现上述实施例提供的一种燃料电池系统控制方法，此处不再赘述。第三方面，本申请实施例提供了一种燃料电池控制装置，该燃料电池控制装置包括：一个或多个处理器和存储器；该存储器与该一个或多个处理器耦合，该存储器用于存储计算机程序代码，该计算机程序代码包括计算机指令，该一个或多个处理器调用该计算机指令以使得该燃料电池控制装置可以实现上述实施例提供的一种燃料电池系统控制方法，此处不再赘述。第四方面，本申请实施例提供一种计算机可读存储介质，包括指令，当上述指令在燃料电池控制装置上运行时，使得上述燃料电池控制装置可以实现上述实施例提供的一种燃料电池系统控制方法，此处不再赘述。本申请实施例中提供的一个或多个技术方案，至少具有如下技术效果或优点：1、燃料电池控制装置可以获取构建数据，如车辆导航数据、燃料电池实时参数等，构建燃料电池性能模型。然后将实时获取的车辆运行状态数据和路径预测数据输入到模型中计算得到未来一段时间内的动力需求曲线。进而确定输出模式和输出控制策略。使得车辆可以在行驶过程中依据运行环境数据预测未来一段时间内的动力需求曲线，从而确定当前更适合车辆的变化输出模式和输出控制策略，使燃料电池系统的实际输出更贴合车辆动力需求，从而降低燃料电池系统负荷变化。2、燃料电池控制装置可以根据动力需求曲线确定未来各时刻车辆的发电功率需求，进而确定燃料电池模块之间的连接拓扑结构并调整各组模块的连接位置，得到符合动力需求曲线的变化输出模式。从而有效实现了对车辆的动力需求跟踪，尽可能保障输出的效率和稳定性，从而降低了频繁负载波动对燃料电池系统的不良影响。此外，还可以根据动力需求曲线确定目标发电功率、进而再依据预设时间段和变化输出模式得到系统功率调节速度和范围，形成输出控制策略。使得输出控制策略与车辆的动力需求更适配。3、燃料电池控制装置可以设置变化输出模式的最小切换时间间隔，使得只有在检测到模式切换时间间隔大于最小切换时间间隔后，才允许对模式进行切换。可以避免由于短时功率波动而频繁切换模式，从而减轻给燃料电池系统带来的负担，降低过度切换对燃料电池系统寿命的不利影响。还可以在检测到燃料电池系统产生较多的电能时，将多余的电能储存到与系统连接的能量缓存装置中。并在检测到燃料电池系统产生的电能不足时，优先从该能量缓存装置获取电能供给车辆。实现了系统输出的多余电能的有效再利用，在保证动力需求的同时，最大限度提高了系统的能源利用率。此外，燃料电池控制装置可以对燃料电池系统进行实时监控，并在识别出单个燃料电池存在损伤或异常情况后，发送指令实现该单个燃料电池的隔离。从而更好降低单个电池损坏对燃料电池整体性能的不利影响。附图说明图1是本申请实施例中一种燃料电池系统控制方法的一个流程示意图；图2是本申请实施例中一种燃料电池系统控制方法的另一个流程示意图；图3是本申请实施例中燃料电池控制装置的一种功能模块结构示意图；图4是本申请实施例中燃料电池控制装置的内部计算机系统的结构示意图。具体实施方式本申请以下实施例中所使用的术语只是为了描述特定实施例的目的，而并非旨在作为对本申请的限制。如在本申请的说明书和所附权利要求书中所使用的那样，单数表达形式“一个”、“一种”、“所述”、“上述”、“该”和“这一”旨在也包括复数表达形式，除非其上下文中明确地有相反指示。还应当理解，本申请中使用的术语“和/或”是指包含一个或多个所列出项目的任何或所有可能组合。以下，术语“第一”、“第二”仅用于描述目的，而不能理解为暗示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征，在本申请实施例的描述中，除非另有说明，“多个”的含义是两个或两个以上。为便于理解，下面介绍本申请实施例的应用场景以及现有技术的缺陷。例如，某电动汽车公司正在研发一款以氢燃料电池提供能源的汽车。这款车需要在崎岖的山区公路和田野间频繁进行急加速、减速以及爬坡等复杂动态操作。但现有技术提供的燃料电池系统本身对频繁变化负载响应较弱，无法适应这种复杂场景下不断变化的动力需求，不仅给驾驶带来不便，也会缩短系统使用寿命。如何使电池系统输出更匹配需求变化，使燃料电池系统的实际输出更贴合车辆动力需求，从而降低燃料电池系统负荷变化，成为紧迫需解决的问题。而采用本申请实施例中的一种燃料电池系统控制方法和装置，可以依据车辆的运行环境数据预测未来一段时间内的动力需求曲线，从而确定当前更适合车辆的变化输出模式和输出控制策略，使燃料电池系统的实际输出更贴合车辆动力需求，从而降低燃料电池系统负荷变化。下面介绍使用了本申请中一种燃料电池系统控制方法的场景。例如，该电动汽车公司使用了本申请提供的一种燃料电池系统控制方法，通过微机电系统和导航系统采集的车辆运行数据构建燃料电池性能模型，在车辆运行中，将实时采集的车辆运行数据和导航信息输入燃料电池性能模型中可以预测随后一段时间内车辆的动力需求曲线变化，然后依据该动力需求变化曲线调整电池组内模块的拓扑连接方式，和燃料电池系统的发电功率，实现发电功率与车辆的动力需求相匹配，从而降低燃料电池系统负荷变化，延长了燃料电池系统的使用寿命。为便于理解，下面结合上述场景，对本实施例提供的一种燃料电池系统控制方法进行流程叙述。请参阅图1，为本申请实施例中一种燃料电池系统控制方法的一个流程示意图。S101、获取构建数据。燃料电池控制装置获取构建数据，其中，构建数据包括车辆导航数据、相关动力学数据和通过微机电系统采集到的燃料电池的实时参数，该实时参数为实时获取的可以对燃料电池性能产生影响的参数。具体地，燃料电池控制装置与MEMS传感器相连，通过各类传感器实时获取燃料电池系统的温度、压力、电压、电流等实时参数信息，从而对燃料电池系统的工作状态进行实时监测。与此同时，燃料电池控制装置还可以通过MEMS的传感器获取车辆速度、加速度、转向角度、负载情况等车辆的相关动力学数据。此外，燃料电池控制装置还可以与车辆搭载的导航系统建立连接，实时获取车辆当前位置、目的地、行驶路线、交通状况等信息车辆导航数据。燃料电池控制装置将上述实时获取的构建数据保存到数据库中，在需要时可以直接从数据库中对该构建数据进行调用。需要说明的是，MEMS包括多个各类型的传感器，该传感器包括但不限于温度传感器、压力传感器、速度传感器和加速度传感器等可以获取燃料电池系统的实时参数和车辆的相关动力学数据的各种类型的传感器，此处不作限定。S102、依据构建数据构建燃料电池性能模型。具体地，燃料电池控制装置在车辆行驶的过程中会选取一定时间范围内的构建数据进行特征提取，构建训练数据集，使用深度学习算法对该训练数据集进行训练，建立燃料电池系统在不同参数和环境下，输出电流和电压等电性能之间的非线性映射关系，进而构建出燃料电池性能模型。将车辆行驶中的燃料电池系统的实时参数和车辆导航数据输入该燃料电池性能模型，计算得到未来各个时间节点下的理论需求电量和动力需求曲线。需要说明的是，燃料电池控制装置选取的构建数据是以当前时间为起点，一定时间范围内的历史构建数据，且该历史构建数据都是在车辆运行过程中采集并记录的数据。S103、获取车辆在行驶过程中的运行状态数据和路径预测数据。燃料电池控制装置获取车辆在行驶过程中的运行状态数据和路径预测数据，其中，运行状态数据包括燃料电池的实时参数，该路径预测数据可以依据车辆导航数据确定。具体地，燃料电池控制装置通过MEMS传感器实时获取燃料电池系统的温度、压力、电压、电流等实时参数信息，从而对燃料电池系统的工作状态进行实时监测。与此同时，燃料电池控制装置还可以通过MEMS传感器获取车辆速度、加速度、转向角度、负载情况等车辆的相关动力学数据。此外，燃料电池控制装置还可以与车辆搭载的导航系统建立连接，实时获取车辆当前位置、目的地、行驶路线、交通状况等信息车辆导航数据。上述实时参数信息和车辆导航数据共同组成了车辆在行驶过程中的运行状态数据，而燃料电池控制装置也可以直接通过车辆导航数据确定路径预测数据。S104、将运行状态数据和路径预测数据输入到燃料电池性能模型中，得到车辆在预设时间段内的动力需求曲线。燃料电池控制装置将车辆行驶中的燃料电池系统的运行状态数据和路径预测数据输入该燃料电池性能模型，计算得到未来预设时间范围内各个时间节点下的理论需求电量和动力需求曲线。S105、依据动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合动力需求曲线的变化输出模式。燃料电池控制装置依据动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合动力需求曲线的变化输出模式，其中，该车辆的燃料电池系统包括多个逻辑群组，每个逻辑群组包括多个不同结构规格的燃料电池模块，该变化输出模式包括串联结构、并联结构和混合结构。具体地，燃料电池控制装置依据动力需求曲线确定最近的预设时间段内的理论需求电量和动力需求曲线段，进而确定该预设时间段内的燃料电池系统的发电功率，进而确定与该发电功率相适应的燃料电池系统的各逻辑组群中每个模块的拓扑位置，并按照该拓扑位置调整燃料电池系统中各逻辑组群中每个模块的拓扑结构，从而得到适合动力需求曲线的变化输出模式。例如，车辆依据车辆导航数据确定车辆即将先后经过高速公路和城市过渡区，燃料电池控制装置依据动力需求曲线确定未来预设时间段内需要燃料电池系统先在高速公路段保持较高的发电功率，然后在城市过渡段保持平稳且较低发电功率，则燃料电池控制装置会调整模块连接方式，将燃料电池系统中各逻辑组群中每个模块的拓扑结构转换为并联结构，提高燃料电池系统的极限输出，并缓慢提升燃料电池系统的发电功率，在检测到车辆即将出高速公路段进入城市过渡区时，将燃料电池系统中各逻辑组群中每个模块的拓扑结构从并联结构切换为串联结构，以保证燃料电池系统在城市过渡区时可以以较低功率进行平稳输出。从而满足在复杂环境下的动态功率需求。可以理解的是，由于不同的燃料电池模块可以具有不同的规格和性能，所以通过可编程开关将它们连接在一起，形成多个逻辑组群。这些组群可以根据车辆的动力需求曲线，由燃料电池控制装置实时调整各个模块的拓扑结构，以实现不同的输出模式。比如，当需要更大功率输出时，燃料电池控制装置可以将多个燃料电池模块并联连接，以增加总功率输出；当需要更高的电压输出时，燃料电池控制装置可以将多个燃料电池模块串联连接，以增加总电压输出。S106、依据动力需求曲线和变化输出模式确定燃料电池的输出控制策略。燃料电池控制装置依据动力需求曲线和变化输出模式确定燃料电池的输出控制策略，该输出控制策略包括车辆的变化输出模式以及在该变化输出模式下燃料电池系统的发电功率。具体地，燃料电池控制装置在确定车辆的动力需求曲线和燃料电池的变化输出模式后，依据该动力需求曲线确定未来预设时间段内每个时间节点的燃料电池系统的理论发电功率，得到该燃料电池的输出控制策略，并依据该输出控制策略调整燃料电池系统的发电功率。通过上述实施例，燃料电池控制装置可以获取构建数据，如车辆导航数据、燃料电池实时参数等，构建燃料电池性能模型。然后将实时获取的车辆运行状态数据和路径预测数据输入到模型中计算得到未来一段时间内的动力需求曲线。进而确定输出模式和输出控制策略。使得车辆可以在行驶过程中依据运行环境数据预测未来一段时间内的动力需求曲线，从而确定当前更适合车辆的变化输出模式和输出控制策略，使燃料电池系统的实际输出更贴合车辆动力需求，从而降低燃料电池系统负荷变化。下面对本实施提供的一种燃料电池系统控制方法进行进一步的更具体的流程叙述。请参阅图2，为本申请实施例中一种燃料电池系统控制方法的另一个流程示意图。S201、通过车辆导航系统实时获取车辆导航数据，通过微机电系统实时获取燃料电池的实时参数和车辆相关动力学数据。车辆上搭载了车辆导航系统和微机电系统，其中微机电系统包括多个多类型的传感器，可以实时获取燃料电池的实时参数和车辆的相关动力学数据。燃料电池控制装置与该车辆导航系统和微机电系统建立连接，实时获取车辆导航系统确定的车辆导航数据和微机电系统确定的燃料电池的实时参数和车辆相关动力学数据，并将该车辆导航数据、燃料电池的实时参数和车辆相关动力学数据保存到数据库中，方便后续进行数据调用。S202、记录预设时间范围以内的车辆导航数据、实时参数和车辆相关动力学数据，得到构建数据，并依据构建数据构建燃料电池性能模型。燃料电池控制装置从数据库中选择预设时间范围以内的车辆导航数据、燃料电池的实时参数和车辆相关动力学数据组成构建数据，对构建数据进行特征提取，构建训练数据集，并使用深度学习算法对该训练数据集进行训练，建立燃料电池系统在不同参数和环境下，输出电流和电压等电性能之间的非线性映射关系，进而构建出燃料电池性能模型。S203、获取车辆在行驶过程中的运行状态数据和路径预测数据。本步骤与步骤S103相同，此处不再赘述。S204、对燃料电池的实时参数进行分析，当识别出存在微型损伤或异常情况的单个燃料电池时，向电池管理系统发送指令，控制电池管理系统隔离单个燃料电池。燃料电池控制装置通过微机电系统实时监测燃料电池的实时参数，该实时参数包括但不限于单体电池的温度、压力、电压和电流等数据信息，燃料电池控制装置通过监测该实时参数中是否存在异常数据来判断是否存在微型损伤或异常情况的单个燃料电池。具体的，若检测到该实时参数中存在异常数据，则确定该异常数据对应的单个燃料电池存在微型损伤或异常情况，则燃料电池控制装置立即向车辆的电池管理系统发送指令，隔离受影响的该单个燃料电池，以防止损伤扩散到整个电池组。此外，燃料电池控制装置在识别出存在微型损伤或异常情况的单个燃料电池并对该单个燃料电池进行隔离后，还可以通过控制相应的装置来进行局部结构的修复，比如使用电流或其他方式对局部损伤进行修复，此处不作限定。S205、将运行状态数据和路径预测数据输入到燃料电池性能模型中，得到车辆在预设时间段内的动力需求曲线。本步骤与步骤S104相同，此处不再赘述。S206、依据动力需求曲线确定未来各时刻车辆的发电功率需求，进而确定燃料电池系统中各个燃料电池模块之间的拓扑结构，进而确定变化输出模式。具体地，燃料电池控制装置依据动力需求曲线确定最近的预设时间段内的理论需求电量和动力需求曲线段，进而确定该预设时间段内的燃料电池系统的发电功率，进而确定与该发电功率相适应的燃料电池系统的各逻辑组群中每个模块的拓扑位置，并按照该拓扑位置调整燃料电池系统中各逻辑组群中每个模块的拓扑结构，从而得到适合动力需求曲线的变化输出模式。S207、确定动力需求曲线在预设时间段内对应的燃料电池系统的目标发电功率。燃料电池控制装置在得到动力需求曲线后，确定预设时间段内该动力需求曲线对应的燃料电池的理论发电功率，并将该理论发电功率设置为燃料电池系统的目标发电功率。需要说明的是，该预设时间一般是以车辆的当前时间作为该预设时间段的起点，该预设时间段的大小可以依据车辆燃料电池系统的性能来确定，车辆燃料电池系统的性能越好，则该预设时间段越小，反之，车辆燃料电池系统的性能越差，则该预设时间段越大。此外，燃料电池控制装置通过调节燃料电池系统的发电功率到达目标发电功率，是为了依据预测的后续车辆的动力需求提前调节燃料电池的发电功率，使得该燃料电池有充足的时间可以进行缓慢的调节，从而在一定程度上防止因为车辆动力需求的突变造成的燃料电池系统的发电功率的突变，使得燃料电池系统的负荷突然发生较大变化，会对燃料电池电堆的性能有着不小的冲击，从而缩减了燃料电池的使用寿命。S208、依据目标发电功率、预设时间段和变化输出模式确定燃料电池系统的发电功率调节速度和范围，得到输出控制策略。燃料电池控制装置依据车辆的目标发电功率、预设时间段和变化输出模式确定燃料电池系统的发电功率调节速度和范围，其中，不同变化输出模式对应的燃料电池系统的发电功率的可调节范围是不同的，例如在并联模式下，燃料电池系统可以进行极限输出，其发电功率的最大值要大于串联模式下燃料电池系统的发电功率的最大值。其次，车辆的动力需求曲线预估了未来预设时间段内车辆对动力需求的变化趋势，依据该变化趋势可以选择相应的发电功率调节速度，以匹配车辆的动力需求。例如，通过动力需求曲线确定未来预设时间段内预估的发电功率的变化率，依据该变化率确定燃料电池发电功率的调节速度。其中，发电功率的变化率与调节速度成正比关系，但是该调节速度不可以超过最大速度阈值，该最大速度阈值与该燃料电池系统的性能有关，该燃料电池系统的性能越强，该最大速度阈值越大，反之，该燃料电池系统的性能越差，该最大速度阈值越小。S209、当检测到燃料电池系统的发电功率大于车辆的需求功率时，将燃料电池系统产生的多余的能量存储到能量缓存装置中。燃料电池系统与能量缓存装置相连接，该能量缓存装置存储将燃料电池产生的多余的电能，并可以将存储的电能在车辆动力不足时提供给车辆。可以理解的是，由于燃料电池控制装置可以预估未来预设时间段内车辆的动力需求，并依据该动力需求提前调节燃料电池系统的发电功率，因此，当燃料电池系统提前提升发电功率时，燃料电池系统的发电功率大于车辆的需求功率，会产生多余的电能，并将该多余的电能存储到该能量缓存装置中，在一定程度上降低了能量的浪费。S210、当检测到燃料电池系统的发电功率小于车辆的需求功率时，优先使用能量缓存装置为车辆供能。可以理解的是，由于燃料电池控制装置可以预估未来预设时间段内车辆的动力需求，并依据该动力需求提前调节燃料电池系统的发电功率，因此，当燃料电池系统提前降低发电功率时，燃料电池系统的发电功率小于车辆的需求功率，可能会造成车辆的动力不足，此时，将能量缓存装置中存储的多余的电能和燃料电池系统同时为车辆提供电能，从而在一定程度上弥补了可能存在的动力不足。当然，在车辆行驶的过程中，当检测到燃料电池系统的发电功率小于车辆的需求功率时，可以控制能量缓存装置为车辆提供额外能量，从而降低燃料电池系统的发电功率的变化幅度，延长了燃料电池的使用寿命。S211、当检测到变化输出模式的时间间隔超过最小切换时间间隔后，允许对变化输出模式进行切换。具体地，燃料电池控制装置可以设定变化输出模式的最小切换时间间隔；当检测到变化输出模式的时间间隔超过最小切换时间间隔后，允许对变化输出模式进行切换。可以避免由于短时功率波动而频繁切换模式，从而减轻给燃料电池系统带来的负担，降低过度切换对燃料电池系统寿命的不利影响。例如，用户通过燃料电池控制装置设定该变化输出模式的最小切换时间间隔为10s，但是在第一次对该变化输出模式后，经过7s该燃料电池控制装置依据动力需求曲线确定需要再次对该变化输出模式进行切换，但是由于此时的时间间隔为7s，小于该最小切换时间间隔10s，所以不授权对该变化输出模式进行切换。但是当在经过3s后，该燃料电池控制装置依然检测到需要对该变化输出模式进行切换，则授权对该变化输出模式进行切换。本申请实施例中提供的一种燃料电池系统控制方法，具有如下有益效果：通过上述技术方案，燃料电池控制装置可以获取构建数据，如车辆导航数据、燃料电池实时参数等，构建燃料电池性能模型。然后将实时获取的车辆运行状态数据和路径预测数据输入到模型中计算得到未来一段时间内的动力需求曲线。进而确定输出模式和输出控制策略。使得车辆可以在行驶过程中依据运行环境数据预测未来一段时间内的动力需求曲线，从而确定当前更适合车辆的变化输出模式和输出控制策略，使燃料电池系统的实际输出更贴合车辆动力需求，从而降低燃料电池系统负荷变化。通过上述技术方案，燃料电池控制装置可以根据动力需求曲线确定未来各时刻车辆的发电功率需求，进而确定燃料电池模块之间的连接拓扑结构并调整各组模块的连接位置，得到符合动力需求曲线的变化输出模式。从而有效实现了对车辆的动力需求跟踪，尽可能保障输出的效率和稳定性，从而降低了频繁负载波动对燃料电池系统的不良影响。此外，还可以根据动力需求曲线确定目标发电功率、进而再依据预设时间段和变化输出模式得到系统功率调节速度和范围，形成输出控制策略。使得输出控制策略与车辆的动力需求更适配。通过上述技术方案，燃料电池控制装置可以设置变化输出模式的最小切换时间间隔，使得只有在检测到模式切换时间间隔大于最小切换时间间隔后，才允许对模式进行切换。可以避免由于短时功率波动而频繁切换模式，从而减轻给燃料电池系统带来的负担，降低过度切换对燃料电池系统寿命的不利影响。还可以在检测到燃料电池系统产生较多的电能时，将多余的电能储存到与系统连接的能量缓存装置中。并在检测到燃料电池系统产生的电能不足时，优先从该能量缓存装置获取电能供给车辆。实现了系统输出的多余电能的有效再利用，在保证动力需求的同时，最大限度提高了系统的能源利用率。此外，燃料电池控制装置可以对燃料电池系统进行实时监控，并在识别出单个燃料电池存在损伤或异常情况后，发送指令实现该单个燃料电池的隔离。从而更好降低单个电池损坏对燃料电池整体性能的不利影响。下面对本申请实施例提供的一种燃料电池控制装置进行描述，该燃料电池控制装置可以实现上述一种燃料电池系统控制方法，具体如图3所示，是本申请实施例中燃料电池控制装置的一个模块结构示意图，具体包括：数据获取模块301，用于获取构建数据，该构建数据包括车辆导航数据、相关动力学数据和通过微机电系统采集到的燃料电池的实时参数，该实时参数为实时获取的可以对燃料电池性能产生影响的参数；模型构建模块302，用于依据该构建数据构建燃料电池性能模型；实时监测模块303，用于获取该车辆在行驶过程中的运行状态数据和路径预测数据，该运行状态数据包括该燃料电池的实时参数，该路径预测数据可以依据该车辆导航数据确定；动力需求计算模块304，用于将该实时环境数据和路径预测数据输入到该燃料电池性能模型中，得到该车辆在预设时间段内的动力需求曲线；变化输出模式确定模块305，用于依据该动力需求曲线实时调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合该动力需求曲线的变化输出模式，该车辆的燃料电池系统包括多个逻辑群组，每个逻辑群组包括多个不同结构规格的燃料电池模块，该变化输出模式包括串联结构、并联结构和混合结构；控制策略确定模块306，用于依据该动力需求曲线和变化输出模式确定该燃料电池的输出控制策略，该输出控制策略包括车辆的变化输出模式以及在该变化输出模式下该燃料电池系统的发电功率。在一些实施例中，上述数据获取模块301还包括：导航数据获取单元，用于通过车辆导航系统实时获取车辆导航数据；构建数据确定单元，用于通过微机电系统实时获取燃料电池的实时参数和车辆相关动力学数据；记录预设时间范围以内的车辆导航数据、实时参数和车辆相关动力学数据，得到构建数据。在一些实施例中，上述变化输出模式确定模块305还包括：发电功率确定单元，用于依据动力需求曲线确定未来各时刻车辆的发电功率需求；拓扑结构确认单元，用于依据发电功率需求确定燃料电池系统中各个燃料电池模块之间的拓扑结构；依据拓扑结构调整燃料电池系统的各逻辑组群中每个模块的拓扑位置，得到适合动力需求曲线的变化输出模式。在一些实施例中，上述控制策略确定模块306还包括：目标发电功率确定单元，用于确定动力需求曲线在预设时间段内对应的燃料电池系统的目标发电功率；发电功率调整单元，用于依据目标发电功率、预设时间段和变化输出模式确定燃料电池系统的发电功率调节速度和范围，得到输出控制策略；依据输出控制策略控制燃料电池系统调节发电功率。在一些实施例中，上述燃料电池控制装置还包括：时间间隔设定模块，用于设定变化输出模式的最小切换时间间隔；当检测到变化输出模式的时间间隔超过最小切换时间间隔后，允许对变化输出模式进行切换；能量缓存调节模块，用于当检测到燃料电池系统的发电功率大于车辆的需求功率时，将燃料电池系统产生的多余的能量存储到能量缓存装置中，该能量缓存装置与燃料电池系统相连；当检测到燃料电池系统的发电功率小于车辆的需求功率时，优先使用能量缓存装置为车辆供能；故障隔离模块，用于对燃料电池的实时参数进行分析，识别出存在微型损伤或异常情况的单个燃料电池；向电池管理系统发送指令，控制电池管理系统隔离该单个燃料电池。本发明实施例的燃料电池控制装置为电子设备，图4示出了适于用来实现本发明实施例的电子设备的架构示意图。需要说明的是，图4示出的电子设备仅是一个示例，不应对本发明实施例的功能和使用范围带来任何限制。本领域普通技术人员可以理解，上述实施例的各种方法中的全部或部分步骤可以通过指令来完成，或通过指令控制相关的硬件来完成，该指令可以存储于计算机可读存储介质中，并由处理器进行加载和执行。本实施例的电子设备包括存储介质和处理器，其中，存储介质中存储有多条指令，该指令能够被处理器进行加载，以执行本发明实施例所提供方法的任一步骤。具体地，存储介质和处理器之间直接或间接地电性连接，以实现数据的传输或交互。例如，这些元件相互之间可以通过一条或者多条信号线电性连接。存储介质中存储有实现数据访问控制方法的计算机执行指令，包括至少一个可以软件或固件的形式存储于存储介质中的软件功能模块，处理器通过运行存储在存储介质内的软件程序以及模块，从而执行各种功能应用以及数据处理。存储介质可以是，但不限于，随机存取存储介质，只读存储介质，可编程只读存储介质，可擦除只读存储介质，电可擦除只读存储介质等。其中，存储介质用于存储程序，处理器在接收到执行指令后，执行程序。进一步地，上述存储介质内的软件程序以及模块还可包括操作系统，其可包括各种用于管理系统任务的软件组件和/或驱动，并可与各种硬件或软件组件相互通信，从而提供其他软件组件的运行环境。处理器可以是一种集成电路芯片，具有信号的处理能力。上述的处理器可以是通用处理器，包括中央处理器、网络处理器等，其可以实现或者执行本实施例中公开的各方法、步骤及逻辑流程框图。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。由于该存储介质中所存储的指令，可以执行本发明实施例所提供的任一方法中的步骤，因此，可以实现本发明实施例所提供的任一方法的有益效果，详见前面的实施例，在此不再赘述。以上所述，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应该以权利要求的保护范围为准。
