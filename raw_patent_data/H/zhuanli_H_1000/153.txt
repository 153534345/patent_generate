标题title
一种ANPC型三电平变换器控制方法及控制器
摘要abst
本申请的实施例涉及电力电子技术领域，并提供一种ANPC型三电平变换器控制方法及控制器，控制方法包括根据获取直流母线上的中点电压实时值和预设中点电压值，确定所述中点电压实时值的波动趋势；根据所述中点电压实时值的波动趋势，确定各相的调制波；根据各相的调制波、上载波和下载波，确定各相的驱动信号和各相的驱动互补信号；根据各相的驱动信号和各相的驱动互补信号，控制各相的开关管。本申请具有全功率因数范围内中点电压控制和较低的开关损耗的效果。
权利要求书clms
1.一种ANPC型三电平变换器控制方法，其特征在于，包括：根据获取直流母线上的中点电压实时值和预设中点电压值，确定所述中点电压实时值的波动趋势，其中，所述中点电压实时值为ANPC型三电平变换器内的ANPC三电平电路中的直流母线的电压值；根据所述中点电压实时值的波动趋势，确定各相的调制波；根据各相的所述调制波、上载波和下载波，确定各相的驱动信号和各相的驱动互补信号；根据各相的所述驱动信号和各相的所述驱动互补信号，控制所述ANPC三电平电路上各相的开关管。2.如权利要求1所述的ANPC型三电平变换器控制方法，其特征在于，所述根据所述中点电压实时值的波动趋势，确定各相的调制波包括：根据所述波动趋势，确定对应的零序分量和调制策略；根据确定的所述调制策略、对应的所述零序分量和各相的初始调制波，确定各相的调制波。3.如权利要求2所述的ANPC型三电平变换器控制方法，其特征在于，所述根据所述波动趋势，确定对应的零序分量和调制策略；根据确定的所述调制策略、对应的所述零序分量和各相的初始调制波，确定各相的调制波包括：在所述中点电压实时值相对于所述预设中点电压值的波动值小于预设波动值的情况下，根据第一零序分量和各相的初始调制波，确定各相的单调制波，其中，所述单调制波包括上调制波和下调制波；在所述波动值大于或等于所述预设波动值的情况下，根据所述第一零序分量、第二零序分量和各相的初始调制波，确定各相的双调制波，其中，所述双调制波包括上调制波和下调制波。4.如权利要求3所述的ANPC型三电平变换器控制方法，其特征在于，所述根据各相的所述调制波、上载波和下载波，确定各相的驱动信号和各相的驱动互补信号包括：将各相的所述上调制波和所述上载波比较，得到对应相的上驱动信号和上驱动互补信号；将各相的所述下调制波和所述下载波比较，得到对应相的下驱动信号和下驱动互补信号；在所述初始调制波大于零情况下，将各相的所述下调制波与所述下载波比较，得到对应相的中驱动信号和中驱动互补信号；在所述初始调制波小于零情况下，将各相的所述上调制波与所述上载波比较，得到对应相的所述中驱动信号和所述中驱动互补信号。5.如权利要求4所述的ANPC型三电平变换器控制方法，其特征在于，所述ANPC三电平电路的至少部分相中包括上桥臂、中桥臂和下桥臂，所述上桥臂包括第一开关管和第五开关管，所述中桥臂包括第二开关管和第三开关管，所述下桥臂包括第四开关管和第六开关管；所述根据各相的所述驱动信号和各相的所述驱动互补信号，控制所述ANPC三电平电路上各相的开关管包括：根据所述上驱动信号，控制所述上桥臂内的所述第一开关管；根据所述上驱动互补信号，控制所述上桥臂内的所述第五开关管；根据所述中驱动信号，控制所述中桥臂内的所述第二开关管；根据所述中驱动互补信号，控制所述中桥臂内的所述第三开关管；根据所述下驱动信号，控制所述下桥臂内的所述第四开关管；根据所述下驱动互补信号，控制所述下桥臂内的所述第六开关管。6.如权利要求3所述的ANPC型三电平变换器控制方法，其特征在于，所述根据所述波动趋势，确定对应的零序分量和调制策略之前，还包括：根据所述初始调制波，确定零序分量；根据双载波上下层叠原理，确定上载波和下载波。7.如权利要求6所述的ANPC型三电平变换器控制方法，其特征在于，所述根据所述初始调制波，确定零序分量包括：根据所述初始调制波，得到初始调制波最大值和初始调制波最小值；所述第一零序分量为；所述第二零序分量为；其中，为所述初始调制波最大值，/＞为所述初始调制波最小值。8.如权利要求7所述的ANPC型三电平变换器控制方法，其特征在于，所述在所述中点电压实时值相对于所述预设中点电压值的波动值小于预设波动值的情况下，根据第一零序分量和各相的初始调制波，确定各相的单调制波包括：所述单调制波的所述上调制波为 ，/＞；所述单调制波的所述下调制波为，/＞；其中，为所述初始调制波，/＞为所述第一零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。9.如权利要求7所述的ANPC型三电平变换器控制方法，其特征在于，所述在所述波动值大于或等于所述预设波动值的情况下，根据所述第一零序分量、第二零序分量和各相的初始调制波，确定各相的双调制波包括：所述双调制波的所述上调制波为，/＞；所述双调制波的所述下调制波为，/＞；其中，为所述初始调制波，/＞为所述第一零序分量，/＞为所述第二零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。10.如权利要求6所述的ANPC型三电平变换器控制方法，其特征在于，所述根据所述初始调制波，确定零序分量包括：根据所述初始调制波和预设边界，得到所述初始调制波到所述预设边界的距离，所述初始调制波到所述预设边界的距离包括上边界距离和下边界距离；根据所述上边界距离和所述下边界距离，确定所述第一零序分量；根据所述初始调制波，得到初始调制波最大值和初始调制波最小值；根据所述初始调制波最大值和所述初始调制波最小值，确定所述第二零序分量。11.如权利要求10所述的ANPC型三电平变换器控制方法，其特征在于，所述根据所述初始调制波和预设边界，得到所述初始调制波到所述预设边界的距离包括：所述上边界距离为，/＞；所述下边界距离为，/＞；其中，为所述初始调制波，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。12.如权利要求10所述的ANPC型三电平变换器控制方法，其特征在于，所述根据所述初始调制波和预设边界，得到所述初始调制波到所述预设边界的距离包括：所述上边界距离和所述下边界距离/＞分别为/＞，/＞；其中，为所述初始调制波，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。13.如权利要求11或12所述的ANPC型三电平变换器控制方法，其特征在于，所述根据所述上边界距离和所述下边界距离，确定所述第一零序分量包括：所述第一零序分量为，其中，/＞为所述上边界距离，/＞为所述下边界距离，并且当/＞取/＞时，/＞的符号为正，当/＞取/＞时，/＞的符号为负。14.如权利要求13所述的ANPC型三电平变换器控制方法，其特征在于，所述在所述中点电压实时值相对于所述预设中点电压值的波动值小于预设波动值的情况下，根据第一零序分量和各相的初始调制波，确定各相的单调制波包括：所述单调制波的所述上调制波为 ，/＞；所述单调制波的所述下调制波为，/＞；其中，为所述初始调制波，/＞为所述第一零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。15.一种控制器，其特征在于，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，当所述处理器执行所述计算机程序时，实现如权利要求1-14任一项所述的ANPC型三电平变换器控制方法。
说明书desc
技术领域本申请涉及电力电子技术的领域，尤其是涉及一种ANPC型三电平变换器控制方法及控制器。背景技术目前ANPC型三电平变换器，相较于NPC型变换器，使用全控性器件替代钳位二极管可产生冗余零电压状态，在环流过程中通过对冗余零电压状态的合理切换可调节功率器件的损耗分布，进而实现结温的平衡。相关技术中，对ANPC型三电平变换器进行控制，通常采用单调制波载波调制或者双调制波载波调制得到开关管的驱动信号。但是单调制波载波调制受限于系统功率因数和调制度，只能在一定范围内抑制直流母线波形波动；双调制波载波调制虽然可以实现全功率因数范围内抑制中点电压低频波动，但是双调制波载波调制的开关频率是单调制波载波调制的开关频率的4/3倍，开关管损耗增大，效率减小。然而，发明人认识到，在实际使用中，想要在同一个ANPC型三电平变换器中同时兼顾两种调制策略的优点，若沿用相关技术中的控制方法，就需要修改驱动信号之间的互补逻辑，为实现改变后的驱动信号的控制逻辑，就需要相应地改动ANPC型三电平变换器内的硬件结构，操作复杂且更迭成本较高。发明内容本申请一个或者多个实施例提供一种ANPC型三电平变换器控制方法及控制器，以解决或者至少部分上缓解相关技术中在同一个ANPC型三电平变换器上兼顾两种调制策略，操作复杂且更迭成本较高的问题。本申请的第一方面，提供一种ANPC型三电平变换器控制方法，采用如下的技术方案：一种ANPC型三电平变换器控制方法包括：根据获取直流母线上的中点电压实时值和预设中点电压值，确定所述中点电压实时值的波动趋势，其中，所述中点电压实时值为ANPC型三电平变换器内的ANPC三电平电路中的直流母线的电压值。根据所述中点电压实时值的波动趋势，确定各相的调制波。根据各相的所述调制波、上载波和下载波，确定各相的驱动信号和各相的驱动互补信号。根据各相的所述驱动信号和各相的所述驱动互补信号，控制所述ANPC三电平电路上各相的开关管。通过采用上述技术方案，通过采集获取直流母线上的中点电压实时值和预设中点电压值，对直流母线上的中点电压进行实时监控，确定所述中点电压实时值的波动趋势；预设中点电压值为变换器无电压波动的理想状态下计算出的理论值，以预设中点电压值为基准，判断中点电压实时值的波动情况；当此时中点电压波动较小时，可以采用单调制波调制策略对中点电压的波动进行抑制，当中点电压波动较大时，单调制波调制策略不能对中点电压的波动起到很好的抑制效果，此时切换调制策略，采用双调制波调制策略，实现全功率因数范围内抑制中点电压低频波动，从而根据中点电压实时值的波动情况，能够确定各相的调制波。根据各相的调制波、上载波和下载波，得到各相的驱动信号和各相的驱动互补信号；根据各相的驱动信号和各相的驱动互补信号，控制ANPC三电平电路上各相的开关管，保证同一桥臂上的两个开关管不会同时开通，实现两个开关管交替开通的状态，减少单个开关管持续导通时间，降低开关管损耗。当中点电压实时值从较大波动减小至较小波动时，控制策略会再次切换至单调制波调制策略，此时开关管的开关频率减小，开关管损耗降低，开关管能够得以及时散热，降低开关管损坏和出现故障的概率。上述方法不需要更改变换器内部的硬件结构，在保持驱动信号的互补逻辑的情况下，在一个变换器中同时兼顾两种调制策略，实现全功率因数范围内中点电压控制和较低的开关损耗。在其中一个实施例中，所述根据所述中点电压实时值的波动趋势，确定各相的调制波包括：根据所述波动趋势，确定对应的零序分量和调制策略。根据确定的所述调制策略、对应的所述零序分量和各相的初始调制波，确定各相的调制波。其中一个实施例中，所述根据所述波动趋势，确定对应的零序分量和调制策略；根据确定的所述调制策略、对应的所述零序分量和各相的初始调制波，确定各相的调制波包括：在所述中点电压实时值相对于所述预设中点电压值的波动值小于预设波动值的情况下，根据第一零序分量和各相的初始调制波，确定各相的单调制波，其中，所述单调制波包括上调制波和下调制波。在所述波动值大于或等于所述预设波动值的情况下，根据所述第一零序分量、第二零序分量和各相的初始调制波，确定各相的双调制波，其中，所述双调制波包括上调制波和下调制波。在其中一个实施例中，所述根据各相的所述调制波、上载波和下载波，确定各相的驱动信号和各相的驱动互补信号包括：将各相的所述上调制波和所述上载波比较，得到对应相的上驱动信号和上驱动互补信号。将各相的所述下调制波和所述下载波比较，得到对应相的下驱动信号和下驱动互补信号。在所述初始调制波大于零情况下，将各相的所述下调制波与所述下载波比较，得到对应相的中驱动信号和中驱动互补信号。在所述初始调制波小于零情况下，将各相的所述上调制波与所述上载波比较，得到对应相的所述中驱动信号和所述中驱动互补信号。在其中一个实施例中，所述ANPC三电平电路的至少部分相中包括上桥臂、中桥臂和下桥臂，所述上桥臂包括第一开关管和第五开关管，所述中桥臂包括第二开关管和第三开关管，所述下桥臂包括第四开关管和第六开关管。所述根据各相的所述驱动信号和各相的所述驱动互补信号，控制所述ANPC三电平电路上各相的开关管包括：根据所述上驱动信号，控制所述上桥臂内的所述第一开关管。根据所述上驱动互补信号，控制所述上桥臂内的所述第五开关管。根据所述中驱动信号，控制所述中桥臂内的所述第二开关管。根据所述中驱动互补信号，控制所述中桥臂内的所述第三开关管。根据所述下驱动信号，控制所述下桥臂内的所述第四开关管。根据所述下驱动互补信号，控制所述下桥臂内的所述第六开关管。在其中一个实施例中，所述根据所述波动趋势，确定对应的零序分量和调制策略之前，还包括：根据所述初始调制波，确定零序分量。根据双载波上下层叠原理，确定上载波和下载波。在其中一个实施例中，所述根据所述初始调制波，确定零序分量包括：根据所述初始调制波，得到初始调制波最大值和初始调制波最小值。所述第一零序分量为。所述第二零序分量为。其中，为所述初始调制波最大值，/＞为所述初始调制波最小值。在其中一个实施例中，所述在所述中点电压实时值相对于所述预设中点电压值的波动值小于预设波动值的情况下，根据第一零序分量和各相的初始调制波，确定各相的单调制波包括：所述单调制波的所述上调制波为，/＞。所述单调制波的所述下调制波为，/＞。其中，为所述初始调制波，/＞为所述第一零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。在其中一个实施例中，所述在所述波动值大于或等于所述预设波动值的情况下，根据所述第一零序分量、第二零序分量和各相的初始调制波，确定各相的双调制波包括：所述双调制波的所述上调制波为，/＞。所述双调制波的所述下调制波为，/＞。其中，为所述初始调制波，/＞为所述第一零序分量，/＞为所述第二零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。在其中一个实施例中，所述根据所述初始调制波，确定零序分量包括：根据所述初始调制波和预设边界，得到所述初始调制波到所述预设边界的距离，所述初始调制波到所述预设边界的距离包括上边界距离和下边界距离。根据所述上边界距离和所述下边界距离，确定所述第一零序分量。根据所述初始调制波，得到初始调制波最大值和初始调制波最小值。根据所述初始调制波最大值和所述初始调制波最小值，确定所述第二零序分量。在其中一个实施例中，所述根据所述初始调制波和预设边界，得到所述初始调制波到所述预设边界的距离包括：所述上边界距离为，/＞。所述下边界距离为，/＞。其中，为所述初始调制波，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。在其中一个实施例中，所述根据所述初始调制波和预设边界，得到所述初始调制波到所述预设边界的距离包括：所述上边界距离和所述下边界距离/＞分别为/＞，/＞。其中，为所述初始调制波，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。在其中一个实施例中，所述根据所述上边界距离和所述下边界距离，确定所述第一零序分量包括：所述第一零序分量为，其中，/＞为所述上边界距离，/＞为所述下边界距离，并且当/＞取/＞时，/＞的符号为正，当/＞取/＞时，/＞的符号为负。在其中一个实施例中，所述在所述中点电压实时值相对于所述预设中点电压值的波动值小于预设波动值的情况下，根据第一零序分量和各相的初始调制波，确定各相的单调制波包括：所述单调制波的所述上调制波为，/＞。所述单调制波的所述下调制波为，/＞。其中，为所述初始调制波，/＞为所述第一零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。本申请的第二方面，提供一种控制器，采用如下的技术方案：一种控制器，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，当所述处理器执行所述计算机程序时，实现如上所述的ANPC型三电平变换器控制方法。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对实施例的附图做简单的介绍，显而易见地，下面描述中的附图仅仅涉及本申请的一些实施例，而非对本申请的限制。图1为相关技术中ANPC型三电平变换器内ANPC三电平电路一相桥臂的结构示意图。图2为根据本申请一些实施方式的一种ANPC型三电平变换器控制方法流程示意图。图3为根据本申请一些实施方式的一种驱动信号生成流程示意图。图4为根据本申请一些实施方式的采用第一种单调制波对应生成的信号波形示意图。图5为图4中A部分的放大示意图。图6为根据本申请一些实施方式的一种采用双调制波对应生成的信号波形示意图。图7为根据本申请一些实施方式的采用第二种单调制波对应生成的信号波形示意图。图8为根据本申请一些实施方式的采用第三种单调制波对应生成的信号波形示意图。图9为根据本申请一些实施方式的一种控制器的结构示意图。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合显示出根据本申请的多个实施方式的附图，对本申请实施方式中的技术方案进行清楚、完整地描述，应当可以理解的是，所描述的实施方式仅是本申请的一部分实施方式，而不是全部的实施方式。基于本申请中记载的实施方式，本领域普通技术人员在不用花费创造性劳动的前提下所获得的所有其他实施方式，都将属于本申请保护的范围。除非另有定义，本申请所使用的所有的技术和科学术语与属于本申请的技术领域的技术人员通常理解的含义相同；本申请中在申请的说明书中所使用的术语只是为了描述具体的实施方式的目的，不是旨在于限制本申请；本申请的说明书和权利要求书及上述附图说明中的术语“包括”、“包含”、“有”、“具有”、“含有”、“含”等为开放式的用词。因此，“包括”、“包含”、“有”例如一个或多个步骤或元件的一种方法或装置，其具有一个或多个步骤或元件，但不限于仅具有这一个或多个元件。本申请的说明书和权利要求书或上述附图中的术语“第一”、“第二”等是用于区别不同对象，而不是用于描述特定顺序或主次关系。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本申请的描述中，除非另有说明，“多个”的含义是两个或两个以上。在本申请的描述中，需要说明的是，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”、“附接”应做广义理解，例如，可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本申请中的具体含义。在本申请中提及“实施方式”意味着，结合实施方式描述的特定特征、结构或特性可以包含在本申请的至少一个实施方式中。在说明书中的各个位置出现该短语并不一定均是指相同的实施方式，也不是与其它实施方式互斥的独立的或备选的实施方式。本领域技术人员显式地和隐式地理解的是，本申请所描述的实施方式可以与其它实施方式相结合。如上所述，应当强调，当在本说明书中使用术语“包括/包含”时，用于明确表明表示所述特征、整数、步骤或组件的存在，但不排除存在或添加一个或更多个其他特征、整数、步骤、部件或成组的特征、整数、步骤、部件。如本申请所用，单数形式“一个”、“一”和“该”也包括复数形式，除非上下文另有明确指示。本说明书中的用词“一”、“一个”可以表示一个，但也可与“至少一个”或“一个或多个”的含义一致。术语“约”一般表示提及的数值加上或减去10％，或更具体地是加上或减去5％。在权利要求书中使用的术语“或”，除非明确表示其仅指可替代的方案，否则其表示“和/或”的意思。本申请中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本申请中字符“/”，一般表示前后关联对象是一种“或”的关系。图1为相关技术中ANPC型三电平变换器内ANPC三电平电路一相桥臂的结构示意图，所述ANPC三电平电路中包括三相，分别为a相、b相和c相，三相结构相同，图1中仅示出了a相的桥臂结构，每一相包括上桥臂、中桥臂、下桥臂和第一电容器C1和第二电容器C2，第一电容器C1的一端和第二电容器C2的一端相连，所述第一电容C1和所述第二电容C2的连接点为直流母线的中点O，所述上桥臂的一端和下桥臂的一端相连，所述第一桥臂和第二桥臂的连接点记为第一连接点，所述直流母线的中点O与第一连接点相连，所述上桥臂的另一端和所述第一电容器C1的另一端相连，所述下桥臂的另一端和所述第二电容器C2的另一端相连，所述上桥臂、下桥臂和中桥臂中均包括两个开关管，所述中桥臂的一端连接至上桥臂中两个开关管之间，所述中桥臂的另一端连接至下桥臂中两个开关管之间，所述中桥臂的两个开挂管之间设置第二连接点，所述第二连接点为对应相的交流输出端。所述上桥臂包括第一开关管S1和第五开关管S5，所述中桥臂包括第二开关管S2和第三开关管S3，所述下桥臂包括第四开关管S4和第六开关管S6。图2为根据本申请一些实施方式的一种ANPC型三电平变换器控制方法流程示意图。本申请的一个或者多个实施例公开一种ANPC型三电平变换器控制方法。参照图2，ANPC型三电平变换器控制方法包括：S1：根据获取直流母线上的中点电压实时值和预设中点电压值，确定所述中点电压实时值的波动趋势，其中，所述中点电压实时值为ANPC型三电平变换器内的ANPC三电平电路中的直流母线上的中点电压实时值。实时采集获取直流母线上中点处的中点电压实时值，以便于监控中点电压的波动情况，根据中点电压的波动情况切换不同的控制策略。S2：根据所述中点电压实时值的波动趋势，确定各相的调制波；具体地，从图1中可以看出，第一电容器C1上的电压为第一电压V1，第二电容器C2上的电压为第二电压V2，理想情况下，ANPC型三电平变换器的三相电压无波动，每一相预设中点电压值为/2，以预设中点电压值为基准，分析中点电压实时值的波动情况。中点电压实时值的波动情况可以是围绕预设中点电压值上下振荡的幅度，可以是中点电压实时值相对于中点电压实时值的增长趋势或者下降趋势的快慢，还可以是中点电压实时值偏离中点电压实时值的距离等等，当中点电压实时值的振荡幅度过大、增长趋势或者下降趋势过快，或者偏离距离过大等情况时，可以生成双调制波，当中点电压实时值的振荡幅度较小、增长趋势或者下降趋势较慢，或者偏离距离不大等情况时，可以生成单调制波，根据中点电压实时值的波动情况，生成不同的调制波。S3：根据各相的所述调制波、上载波和下载波，确定各相的驱动信号和各相的驱动互补信号。具体地，例如各相的调制波可以分为上载波和下载波，上调制波与上载波相比较，得到上驱动信号，并依据上驱动信号，得到上驱动互补信号，驱动信号和驱动互补信号之间互补，两者为一组控制信号，用于控制同一桥臂上的两个开关管，采用上驱动信号和上驱动互补信号控制上桥臂中的两个开关管。S4：根据各相的所述驱动信号和各相的所述驱动互补信号，控制所述ANPC三电平电路上各相的开关管。具体地，例如上驱动信号和上驱动互补信号，控制上桥臂中的第一开关管和第五开关管，这样能够保证同一桥臂上的两个开关管不会同时开通，实现两个开关管交替开通的状态。通过采集获取直流母线上的中点电压实时值和预设中点电压值，对直流母线上的中点电压进行实时监控，确定所述中点电压实时值的波动趋势；预设中点电压值为变换器无电压波动的理想状态下计算出的理论值，以预设中点电压值为基准，判断中点电压实时值的波动情况；当此时中点电压波动较小时，可以采用单调制波调制策略对中点电压的波动进行抑制，当中点电压波动较大时，单调制波调制策略不能对中点电压的波动起到很好的抑制效果，此时切换调制策略，采用双调制波调制策略，实现全功率因数范围内抑制中点电压低频波动，从而根据中点电压实时值的波动情况，能够确定各相的调制波。根据各相的调制波、上载波和下载波，得到各相的驱动信号和各相的驱动互补信号；根据各相的驱动信号和各相的驱动互补信号，控制ANPC三电平电路上各相的开关管，保证同一桥臂上的两个开关管不会同时开通，实现两个开关管交替开通的状态，减少单个开关管持续导通时间，降低开关管损耗。当中点电压实时值从较大波动减小至较小波动时，控制策略会再次切换至单调制波调制策略，此时开关管的开关频率减小，开关管损耗降低，开关管能够得以及时散热，降低开关管损坏和出现故障的概率。上述方法不需要更改变换器内部的硬件结构，在保持驱动信号的互补逻辑的情况下，在一个变换器中同时兼顾两种调制策略，实现全功率因数范围内中点电压控制和较低的开关损耗。在一些实施例中，所述根据所述中点电压实时值的波动趋势，确定各相的调制波包括：根据所述波动趋势，确定对应的零序分量和调制策略。具体地，如上所述，中点电压实时值的波动情况可以是围绕预设中点电压值上下振荡的幅度，可以是中点电压实时值相对于中点电压实时值的增长趋势或者下降趋势的快慢，还可以是中点电压实时值偏离中点电压实时值的距离等等。当中点电压实时值的振荡幅度过大、增长趋势或者下降趋势过快、偏离距离过大等情况时，可以选择双调制波调制策略，同时确定双调制波调制策略采用的零序分量；当中点电压实时值的振荡幅度较小、增长趋势或者下降趋势较慢、偏离距离不大等情况时，可以选择单调制波调制策略，同时确定单调制波调制策略采用的零序分量。根据确定的所述调制策略、对应的所述零序分量和各相的初始调制波，确定各相的调制波。具体地，当调制策略不同时，根据对应的零序分量和初始调制波变换生成的各相的调制波也不同，例如单调制波调制策略下，生成的单调制波是由一条连续的初始调制波偏移对应的零序分量之后分割形成的；但是双调制波调制策略下，生成的双调制波是初始调制波分别偏移不同的零序分量之后形成的两条不同的调制波。不同的调制策略适用于中点电压实时值的不同波动趋势，从而实现ANPC三电平电路兼顾两种调制策略，即实现全功率因数范围内中点电压控制，还具有较低的开关损耗。在一些实施例中，所述根据所述波动趋势，确定对应的零序分量和调制策略；根据确定的所述调制策略、对应的所述零序分量和各相的初始调制波，确定各相的调制波包括：分析所述中点电压实时值相对于所述预设中点电压值的波动值。具体地，以预设中点电压值为基准，分析中点电压实时值的波动情况，其中波动值为中点电压实时值偏离预设中点电压值的绝对值。判断所述波动值是否大于或等于预设波动值。当所述波动值小于预设波动值时，根据第一零序分量和各相的初始调制波，确定各相的单调制波，其中，所述单调制波包括上调制波和下调制波。具体地，所述预设波动值可以设置为10V，当所述波动值小于预设波动值时，说明此时中点电压实时值波动较小，采用单调制波调制策略就能够实现中点电压波动抑制，并且电路中开关管的开关频率不高，开关管损耗较小，先分析出单调制波的上调制波和下调制波，从而根据单调制波确定出驱动信号。在所述波动值大于或等于所述预设波动值的情况下，根据所述第一零序分量、第二零序分量和各相的初始调制波，确定各相的双调制波，其中，所述双调制波包括上调制波和下调制波。具体地，当所述波动值大于或等于预设波动值时，说明此时中点电压实时值波动较大，此时采用单调制波的上调制波和下调制波确定驱动信号，其对中点电压波动的抑制效果不理想，此时需要更换调制策略，选择双调制波调制策略，根据双调制波的上调制波和下调制波，确定驱动信号，此时虽然开关管的开关频率有所增加，开关管损耗增大，但是双调制波调制策略对中点电压的波动抑制效果较好，并且能够实现全功率因数范围内抑制中点电压低频波动，当中点电压的波动值减小至小于预设波动值时，控制策略会再次切换至单调制波调制策略，此时开关管的开关频率减小，开关管损耗降低，开关管能够得以及时散热，降低开关管损坏和出现故障的概率。在本实施例中，当波动值小于预设波动值时，说明此时中点电压波动较小，可以采用单调制波调制策略对中点电压的波动进行抑制，根据第一零序分量和各相的初始调制波，确定各相的单调制波，其中，单调制波包括上调制波和下调制波；当波动值大于或等于预设波动值时，说明此时中点电压波动较大，单调制波调制策略不能对中点电压的波动起到很好的抑制效果，此时切换调制策略，采用双调制波调制策略，根据所述第一零序分量、第二零序分量和各相的初始调制波，确定各相的双调制波，其中，双调制波包括上调制波和下调制波；实现全功率因数范围内抑制中点电压低频波动。当中点电压的波动值从高位减小至小于预设波动值时，控制策略会再次切换至单调制波调制策略，此时开关管的开关频率减小，开关管损耗降低，开关管能够得以及时散热，降低开关管损坏和出现故障的概率。在一些实施例中，如图3，所述根据各相的所述调制波、上载波和下载波，确定各相的驱动信号和各相的驱动互补信号包括：S30：将各相的所述上调制波和所述上载波比较，得到对应相的上驱动信号和上驱动互补信号。S31：将各相的所述下调制波和所述下载波比较，得到对应相的下驱动信号和下驱动互补信号。S32：判断所述初始调制波是否大于零。S33：在所述初始调制波大于零情况下，将各相的所述下调制波与所述下载波比较，得到对应相的中驱动信号和中驱动互补信号。S34：在所述初始调制波小于零情况下，将各相的所述上调制波与所述上载波比较，得到对应相的所述中驱动信号和所述中驱动互补信号，其中，所述驱动信号包括所述上驱动信号、所述下驱动信号和所述中驱动信号，所述驱动互补信号包括所述上驱动互补信号、所述下驱动互补信号和所述中驱动互补信号。在至少一个实施例中，调制波处于载波之上的波段，对应输出高电平；调制波处于载波之下的波段，对应输出低电平。通过将上/下调制波与上/下载波进行比较，生成对应的驱动信号和驱动互补信号。另外对于中驱动信号的生成，需要根据初始调制波的大小，分段输出，不同大小的初始调制波，采用的调制波和载波不同，从而输出构成最终的驱动信号。通过将三个桥臂的驱动信号分别输出，实现对三个桥臂的互补控制。在一些实施例中，所述根据各相的所述驱动信号和各相的所述驱动互补信号，控制所述ANPC三电平电路上各相的开关管包括：根据所述上驱动信号，控制所述上桥臂内的所述第一开关管。根据所述上驱动互补信号，控制所述上桥臂内的所述第五开关管。根据所述中驱动信号，控制所述中桥臂内的所述第二开关管。根据所述中驱动互补信号，控制所述中桥臂内的所述第三开关管。根据所述下驱动信号，控制所述下桥臂内的所述第四开关管。根据所述下驱动互补信号，控制所述下桥臂内的所述第六开关管。在至少一个实施例中，如图4所示为采用一种单调制波对应生成的信号波形示意图，图中示出了六个开关管的驱动信号波形。从图中可以看出，第一开关管S1的驱动信号与开关管S5的驱动信号互补，如果将第一开关管S1的驱动信号称为上驱动信号，相应地，可以将第五开关管S5的驱动信号称为上驱动互补信号。类似的，可以看出第二开关管S2和第三开关管S3的驱动信号互补，第四开关管S4和第六开关管S6的驱动信号互补，互补的驱动信号能够确保同一桥臂中的两个开关管不同时导通，两个开关管交替导通，降低单个开关管的导通时间，让单个开关管能够得到及时散热。另外，需要说明的是，图4中较粗的黑实线是由于横坐标单位距离较小，波形聚合在一起形成的黑粗实线，放大之后为类似如图5所示的波形图，其具体波形可以是如图5所示的高低电平规律分布的规律波形，也可以是高低电平之间间距和持续时长不等的不规律波形。在一些实施例中，所述根据所述波动趋势，确定对应的零序分量和调制策略之前，还包括：根据所述初始调制波，确定零序分量。在至少一个实施例中，所述初始调制载波可以选用正弦调制波，三相正弦调制波为，其中，/＞为调制比，ωt为基波角频率，/＞、/＞和/＞分别表示a相、b相和c相的正弦调制波，由表达式可知，任意两相调制波的相位相差120°。根据双载波上下层叠原理，确定上载波和下载波。其中双载波上下层叠原理是将一个载波沿着纵坐标上下平移，形成另一个载波，两个载波称为双载波，由此可知，双载波中两个载波的频率相同。在一些实施例中，所述根据所述初始调制波，确定零序分量包括：根据所述初始调制波，得到初始调制波最大值和初始调制波最小值。所述第一零序分量为；所述第二零序分量为；其中，/＞为所述初始调制波最大值，/＞为所述初始调制波最小值。所述在所述中点电压实时值相对于所述预设中点电压值的波动值小于预设波动值的情况下，根据第一零序分量和各相的初始调制波，确定各相的单调制波包括：所述单调制波的所述上调制波为，/＞。所述单调制波的所述下调制波为，/＞。其中，为所述初始调制波，/＞为所述第一零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。在至少一个实施例中，此时根据上述单调制波形成的驱动信号如图4所示，此时使用形成的驱动信号和驱动互补信号控制开关管，能够对中点电压的波动形成很好的抑制效果，第二开关管和第三开关管控制上桥臂和下桥臂的整体通断，第一开关管和第五开关管控制上桥臂的通断，第四开关管和第六开关管控制下桥臂的通断，由图4可以看出，第二开关管和第三开关管的切换频率较低，进而使得上桥臂和下桥臂的通断切换频次相对较低，使得从交流输出端得到质量较高的电能。单调制波调制策略开关管频率低，输出电流电能质量高，同时可以变换其他调制方式的空间大，另外还可以快速地改变注入的零序分量，从而实现不同控制需求。在一些实施例中，所述在所述波动值大于或等于所述预设波动值的情况下，根据所述第一零序分量、第二零序分量和各相的初始调制波，确定各相的双调制波包括：所述双调制波的所述上调制波为，/＞。所述双调制波的所述下调制波为，/＞。其中，为所述初始调制波，/＞为所述第一零序分量，/＞为所述第二零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。/＞在至少一个实施例中，采用上述双调制波生成的驱动信号如图6所示，实现全功率因数范围内抑制中点电压低频波动。从波形图中可以看出，第二开关管和第三开关管的切换频率较低，使得从交流输出端得到质量较高的电能。在一些实施例中，所述根据所述初始调制波，确定零序分量包括：根据所述初始调制波和预设边界，得到所述初始调制波到所述预设边界的距离，所述初始调制波到所述预设边界的距离包括上边界距离和下边界距离。根据所述上边界距离和所述下边界距离，确定所述第一零序分量。根据所述初始调制波，得到初始调制波最大值和初始调制波最小值。根据所述初始调制波最大值和所述初始调制波最小值，确定所述第二零序分量。在至少一个实施例中，所述初始调制载波可以选用正弦调制波，三相正弦调制波为，其中，/＞为调制比，ωt为基波角频率，/＞、/＞和/＞分别表示a相、b相和c相的正弦调制波，由表达式可知，任意两相调制波的相位相差120°。所述预设边界可以设置为±1，其中上边界为1，下边界为-1。在一些实施例中，所述根据所述初始调制波和预设边界，得到所述初始调制波到所述预设边界的距离包括：所述上边界距离为，/＞。所述下边界距离为，/＞。其中，为所述初始调制波，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。所述根据所述上边界距离和所述下边界距离，确定所述第一零序分量包括：所述第一零序分量为，其中，/＞为所述上边界距离，/＞为所述下边界距离，并且当/＞取/＞时，/＞的符号为正，当/＞取/＞时，/＞的符号为负。在一些实施例中，所述在所述中点电压实时值相对于所述预设中点电压值的波动值小于预设波动值的情况下，根据第一零序分量和各相的初始调制波，确定各相的单调制波包括：所述单调制波的所述上调制波为，/＞。所述单调制波的所述下调制波为，/＞。其中，为所述初始调制波，/＞为所述第一零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。/＞在至少一个实施例中，采用如上所述的单调制波得到的驱动信号和驱动互补信号的波形如图7所示，图7与图4相比，第二开关管和第三开关管的控制切换频率没有变化，但是第一开关管和第五开关管，第四开关管和第六开关管的控制切换频率增加，一方面使得开关管的导通和关断时间变短，导致开关管的导通和关断损耗减小，从而提高了电路的效率；但是另一方面开关管切换频率增加，开关管的开关损耗也会增大，输出波形中的谐波增多，导致输出波形可能失真，降低了电能输出的质量。因此图7所采用的单调制波生成的驱动信号与图4所采用的单调制波生成的驱动信号相比，驱动信号控制开关管会在一定程度上提高电路的效率，但相应地也会降低电路输出的电能质量。在一些实施例中，所述根据所述初始调制波和预设边界，得到所述初始调制波到所述预设边界的距离包括：所述上边界距离和所述下边界距离/＞分别为/＞，/＞。其中，为所述初始调制波，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。所述根据所述上边界距离和所述下边界距离，确定所述第一零序分量包括：所述第一零序分量为，其中，/＞为所述上边界距离，/＞为所述下边界距离，并且当/＞取/＞时，/＞的符号为正，当/＞取/＞时，/＞的符号为负。在一些实施例中，所述在所述中点电压实时值相对于所述预设中点电压值的波动值小于预设波动值的情况下，根据第一零序分量和各相的初始调制波，确定各相的单调制波包括：所述单调制波的所述上调制波为，/＞。所述单调制波的所述下调制波为，/＞。其中，为所述初始调制波，/＞为所述第一零序分量，x表示x相，a、b和c分别表示所述ANPC三电平电路中的a相、b相和c相。在至少一个实施例中，采用如上所述的单调制波得到的驱动信号和驱动互补信号的波形如图8所示，图8与图7相比，较为明显的，第二开关管和第三开关管的控制切换频率增大，并且第一开关管和第五开关管的控制切换频率也有所增大，使得开关管的通断状态改变频率进一步增加，一方面开关管切换频率增加使得开关管的导通和关断时间变短，导致开关管的导通和关断损耗减小，从而提高了电路的效率；但是另一方面开关管切换频率增加，开关管的开关损耗也会增大，输出波形中的谐波增多，导致输出波形可能失真，降低了电能输出的质量。因此图8所采用的单调制波生成的驱动信号与图7所采用的单调制波生成的驱动信号相比，驱动信号控制开关管会进一步提高电路的效率，降低电路输出的电能质量。因此，虽然增大开关频率可以提高ANPC型三电平电路的效率，但也会对电能输出的质量产生不利影响。在实际应用中，需要在效率和输出质量之间进行权衡，选择合适的单调制波生成开关频率。在一些实施例中，所述在所述波动值大于或等于所述预设波动值的情况下，根据所述第一零序分量、第二零序分量和各相的初始调制波，确定各相的双调制波包括：所述双调制波的所述上调制波和所述下调制波/＞分别为：，/＞。其中，为所述初始调制波，并且当确定所述双调制波的所述上调制波时，将所述初始调制波最小值/＞作为所述第二零序分量。当确定所述双调制波的所述下调制波时，将所述初始调制波最大值/＞作为所述第二零序分量。本申请的一个或者多个实施例的有益效果为：在保持驱动信号互补逻辑下，在一个变换器中能同时使用单调制波载波调制和双调制波载波调制。依据中点电压波动的幅值变化，分别选择两种调制方式，从而能够在不改变硬件连接和死区补偿、窄脉冲限制的控制逻辑下，快速切换单调制波载波调制和双调制波载波调制，实现全功率因数范围内中点电压控制和较低的开关损耗。本申请一个或者多个实施例还公开一种控制器。参照图9，所述控制器包括存储器100、处理器200以及存储在所述存储器100中并可在所述处理器200上运行的计算机程序，当所述处理器200执行所述计算机程序时，实现如上所述的ANPC型三电平变换器控制方法。在该控制器执行ANPC型三电平变换器控制方法时，能够通过采集获取直流母线上的中点电压实时值，对直流母线上的中点电压进行实时监控；分析中点电压实时值相对于预设中点电压值的波动值，预设中点电压值为变换器无电压波动的理想状态下计算出的理论值，以预设中点电压值为基准，判断中点电压实时值的波动情况；当波动值小于预设波动值时，说明此时中点电压波动较小，可以采用单调制波调制策略对中点电压的波动进行抑制，根据第一零序分量和各相的初始调制波，确定各相的单调制波，其中，单调制波包括上调制波和下调制波；当波动值大于或等于预设波动值时，说明此时中点电压波动较大，单调制波调制策略不能对中点电压的波动起到很好的抑制效果，此时切换调制策略，采用双调制波调制策略，根据所述第一零序分量、第二零序分量和各相的初始调制波，确定各相的双调制波，其中，双调制波包括上调制波和下调制波；实现全功率因数范围内抑制中点电压低频波动。根据各相的上调制波、各相的下调制波、上载波和下载波，得到各相的驱动信号和各相的驱动互补信号；根据各相的驱动信号和各相的驱动互补信号，控制ANPC三电平电路上各相的开关管，保证同一桥臂上的两个开关管不会同时开通，实现两个开关管交替开通的状态，减少单个开关管持续导通时间，降低开关管损耗。当中点电压的波动值从高位减小至小于预设波动值时，控制策略会再次切换至单调制波调制策略，此时开关管的开关频率减小，开关管损耗降低，开关管能够得以及时散热，降低开关管损坏和出现故障的概率。上述方法不需要更改变换器内部的硬件结构，在保持驱动信号的互补逻辑的情况下，同时兼顾两种调制策略，实现全功率因数范围内中点电压控制和较低的开关损耗。以上描述了本申请的基本原理、主要特征和本申请的优点。本行业的技术人员应该了解，本申请不受上述实施例的限制，上述实施例和说明书中描述的只是本申请的原理，在不脱离本申请精神和范围的前提下本申请还会有各种变化和改进，这些变化和改进都落入要求保护的本申请的范围内。本申请要求的保护范围由所附的权利要求书及其等同物界定。
