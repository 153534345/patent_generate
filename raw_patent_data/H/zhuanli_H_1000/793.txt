标题title
无刷直流电机控制系统及方法
摘要abst
本发明提供一种无刷直流电机控制方法，包括以下步骤：S1、设置主动续流时间；S2、控制无刷直流电机的换相，获取无刷直流电机换相时三相逆变电路中悬空相的续电流方向；S3、根据悬空相的续电流方向，控制悬空相中的一个开关管导通以进行主动续流，开关管的导通时长为主动续流时间；S4、主动续流时间结束后，采样悬空相中的电流信号，根据电流信号调整主动续流时间的时长，在下次主动续流时采用更新后的主动续流时间作为开关管的导通时长。根据本申请提供的控制方法，在每一换相扇区仅进行一次续电流采样，无需监测完整的续流过程，可以降低对采样设备的采样精度、采样频率等要求，使主动续流控制方案具有可实现性和工程意义。
权利要求书clms
1.一种无刷直流电机控制方法，用于控制无刷直流电机换相，所述无刷直流电机包括三相绕组，所述三相绕组分别与三相逆变电路的各相输出端电连接，其特征在于，所述方法包括以下步骤：步骤S1、设置主动续流时间；步骤S2、通过控制所述三相逆变电路中的开关管实现所述无刷直流电机的换相，获取所述无刷直流电机换相时所述三相逆变电路中悬空相的续电流方向；步骤S3、根据所述悬空相的续电流方向，控制所述悬空相中的一个开关管导通以进行主动续流，所述开关管的导通时长为所述主动续流时间；步骤S4、所述主动续流时间结束后，采样所述悬空相中的电流信号，根据所述电流信号调整所述主动续流时间的时长，对所述主动续流时间进行更新，在下次主动续流时采用更新后的所述主动续流时间作为所述开关管的导通时长。2.根据权利要求1所述的无刷直流电机控制方法，其特征在于，所述步骤S3中，若续电流从所述悬空相对应相的绕组中流向所述悬空相，则控制所述悬空相中的位于上半桥臂的开关管导通，位于下半桥臂的开关管关断，若续电流从所述悬空相流向与所述悬空相对应的绕组，则控制所述悬空相中的位于下半桥臂的开关管导通，位于上半桥臂的开关管关断。3.根据权利要求1所述的无刷直流电机控制方法，其特征在于，所述步骤S4中，包括：将所述电流信号与预设期望值相比，获得主动续流偏差，响应于所述主动续流偏差大于0，则控制所述主动续流时间延长，响应于所述主动续流偏差小于0，则控制所述主动续流时间缩短。4.根据权利要求3所述的无刷直流电机控制方法，其特征在于，所述步骤S4中，采用增量式PI控制的方式调节所述主动续流时间。5.根据权利要求3所述的无刷直流电机控制方法，其特征在于，所述步骤S4中，采用固定增量的方式调节所述主动续流时间。6.一种无刷直流电机控制系统，用于控制无刷直流电机，所述无刷直流电机包括三相绕组，所述三相绕组分别与三相逆变电路的各相输出端电连接，其特征在于，所述无刷直流电机控制系统包括：换相控制模块，所述换相控制模块用于控制所述三相逆变电路中的开关管实现所述无刷直流电机的换相；续电流方向获取模块，用于获取所述无刷直流电机换相时所述三相逆变电路中悬空相的续电流方向；主动续流控制模块，用于根据所述悬空相的续电流方向，控制所述悬空相中的一个开关管导通以进行主动续流，所述开关管的导通时长为主动续流时间；相电流检测模块，用于在所述悬空相中开关管的导通时长结束后，采样所述悬空相中的电流信号；续流时长控制模块，用于设置主动续流时间的初始值，并且，所述续流时长控制模块还用于根据所述悬空相中的所述电流信号调整所述主动续流时间的时长，对所述主动续流时间进行更新，在下次主动续流时采用更新后的所述主动续流时间作为所述开关管的导通时长。7.根据权利要求6所述的无刷直流电机控制系统，其特征在于，所述主动续流控制模块响应于续电流从所述悬空相对应相的绕组中流向所述悬空相，控制所述悬空相中的位于上半桥臂的开关管导通，位于下半桥臂的开关管关断，所述主动续流控制模块响应于续电流从所述悬空相流向与所述悬空相对应的绕组，控制所述悬空相中的位于下半桥臂的开关管导通，位于上半桥臂的开关管关断。8.根据权利要求7所述的无刷直流电机控制系统，其特征在于，所述续流时长控制模块将所述电流信号与预设期望值相比，获得主动续流偏差，响应于所述主动续流偏差大于0，则控制所述主动续流时间延长，响应于所述主动续流偏差小于0，则控制所述主动续流时间缩短。9.根据权利要求8所述的无刷直流电机控制系统，其特征在于，所述续流时长控制模块采用增量式PI控制的方式调节所述主动续流时间，或者，采用固定增量的方式调节所述主动续流时间。10.根据权利要求6所述的无刷直流电机控制系统，其特征在于，所述相电流检测模块包括至少一个采样电阻，所述采样电阻设置于所述三相逆变电路的桥臂中，或者，所述采样电阻设置于所述三相逆变电路的桥臂输出端与所述无刷直流电机的对应绕组之间。
说明书desc
技术领域本申请涉及电机运行控制技术领域，尤其涉及一种无刷直流电机控制系统及方法。背景技术目前，在无刷直流电机控制领域，普遍采用两两导通的控制方案，即电机三相中的两相导通，一相悬空，以此形成六个扇区，进行循环切换，称之为换相。无刷直流电机控制器，一般根据检测的转子角度，或者反电动势过零点延迟30°电角度，控制逻辑开关管的开关状态，来实现换相控制。在每次换相过程中，电机中的某一相，从导通状态变成悬空状态，但因电机定子电感的存在，相电流不会突变为零，而是沿着之前路径进行续流，直到一定时间后电流逐步降为零。通常，会自动打开悬空相开关管的并联体二极管，并沿着此路径续流，称之为换相被动续流。然而，上述续流过程中，MOS的体二极管因其导通阻抗大，远超正常运行时的MOS导通阻抗，容易发热严重，尤其是大负载阶段，续流电流大、续流角宽，极容易导致器件过热，寿命减少甚至损坏。在相关技术中，存在在续流阶段主动开启悬空相对应桥臂的MOS使电流沿着MOS导通路径续流，进而减少热耗的主动续流方案。然而，目前的主动续流控制方案，普遍需要在续流过程中，不断实时检测该续流电流或者电压信号，直到续流结束，或者直接通过理论计算出续流时长。这些方法对控制器的检测要求过高，检测过程过长，且过度依赖当前的检测结果，极其容易受干扰，不具有真正的可实现性和工程意义。发明内容本申请的目的在于提供一种技术方案，解决相关技术中存在的无刷直流电机换相控制时主动续流方案依赖于检测精度导致难以实施的问题。为了解决上述问题，本申请提供了一种无刷直流电机控制方法，用于控制无刷直流电机换相，无刷直流电机包括三相绕组，三相绕组分别与三相逆变电路的各相输出端电连接，方法包括以下步骤：步骤S1、设置主动续流时间；步骤S2、通过控制三相逆变电路中的开关管实现无刷直流电机的换相，获取无刷直流电机换相时三相逆变电路中悬空相的续电流方向；步骤S3、根据悬空相的续电流方向，控制悬空相中的一个开关管导通以进行主动续流，开关管的导通时长为主动续流时间；步骤S4、主动续流时间结束后，采样悬空相中的电流信号，根据电流信号调整主动续流时间的时长，对主动续流时间进行更新，在下次主动续流时采用更新后的主动续流时间作为开关管的导通时长。进一步的，步骤S3中，若续电流从悬空相对应相的绕组中流向悬空相，则控制悬空相中的位于上半桥臂的开关管导通，位于下半桥臂的开关管关断，若续电流从悬空相流向与悬空相对应的绕组，则控制悬空相中的位于下半桥臂的开关管导通，位于上半桥臂的开关管关断。进一步的，步骤S4中，包括：将电流信号与预设期望值相比，获得主动续流偏差，响应于主动续流偏差大于0，则控制主动续流时间延长，响应于主动续流偏差小于0，则控制主动续流时间缩短。进一步的，步骤S4中，采用增量式PI控制的方式调节主动续流时间。进一步的，步骤S4中，采用固定增量的方式调节主动续流时间。本申请还提供一种无刷直流电机控制系统，用于控制无刷直流电机，无刷直流电机包括三相绕组，三相绕组分别与三相逆变电路的各相输出端电连接，无刷直流电机控制系统包括：换相控制模块，换相控制模块用于控制三相逆变电路中的开关管实现无刷直流电机的换相；续电流方向获取模块，用于获取无刷直流电机换相时三相逆变电路中悬空相的续电流方向；主动续流控制模块，用于根据悬空相的续电流方向，控制悬空相中的一个开关管导通以进行主动续流，开关管的导通时长为主动续流时间；相电流检测模块，用于在悬空相中开关管的导通时长结束后，采样悬空相中的电流信号；续流时长控制模块，用于设置主动续流时间的初始值，并且，续流时长控制模块还用于根据悬空相中的电流信号调整主动续流时间的时长，对主动续流时间进行更新，在下次主动续流时采用更新后的主动续流时间作为开关管的导通时长。进一步的，主动续流控制模块响应于续电流从悬空相对应相的绕组中流向悬空相，控制悬空相中的位于上半桥臂的开关管导通，位于下半桥臂的开关管关断，主动续流控制模块响应于续电流从悬空相流向与悬空相对应的绕组，控制悬空相中的位于下半桥臂的开关管导通，位于上半桥臂的开关管关断。进一步的，续流时长控制模块将电流信号与预设期望值相比，获得主动续流偏差，响应于主动续流偏差大于0，则控制主动续流时间延长，响应于主动续流偏差小于0，则控制主动续流时间缩短。进一步的，续流时长控制模块采用增量式PI控制的方式调节主动续流时间，或者，采用固定增量的方式调节主动续流时间。进一步的，相电流检测模块包括至少一个采样电阻，采样电阻设置于三相逆变电路的桥臂中，或者，采样电阻设置于三相逆变电路的桥臂输出端与无刷直流电机的对应绕组之间。综上，本申请提供的控制方法在每一换相扇区仅进行一次续电流采样，无需监测完整的续流过程，可以降低对采样设备的采样精度、采样频率等要求，使主动续流控制方案具有可实现性和工程意义。并且，本申请提供的控制方法通过不断调整主动续流时间以使主动续流结束后悬空相中的续电流逼近期望值，通过这种方式，可以评估电机的整体运行情况，有效的降低单次异常对主动续流的干扰，能自动适应不同电机和工况下的相电流续流时长，省去复杂的评估过程，极具实现价值。附图说明图1为本申请实施例提供的无刷直流电机控制方法流程图；图2为本申请实施例提供的三相逆变电路与电机绕组的示意图；图3为本申请实施例提供的第一种采样检测方案示意图；图4为本申请实施例提供的第二种采样检测方案示意图；图5为本申请实施例提供的无刷直流电机控制系统示意图。具体实施方式以下将结合附图所示的具体实施方式对本申请进行详细描述，但这些实施方式并不限制本申请，本领域的普通技术人员根据这些实施方式所做出的结构、方法、或功能上的变换均包含在本申请的保护范围内。如图1所示，本申请实施例提供一种无刷直流电机控制方法，用于控制无刷直流电机换相，无刷直流电机包括三相绕组，三相绕组分别与三相逆变电路的各相输出端电连接，方法包括以下步骤：步骤S1、设置主动续流时间；步骤S2、通过控制三相逆变电路中的开关管实现无刷直流电机的换相，获取无刷直流电机换相时三相逆变电路中悬空相的续电流方向；步骤S3、根据悬空相的续电流方向，控制悬空相中的一个开关管导通以进行主动续流，开关管的导通时长为主动续流时间；步骤S4、悬空相中开关管的导通时长结束后，采样悬空相中的电流信号，根据电流信号调整主动续流时间的时长，对主动续流时间进行更新，在下次主动续流时采用更新后的主动续流时间作为开关管的导通时长。具体的，无刷直流电机控制通常采用两两导通的控制方式，即，通过控制三相电路中的各相桥臂的开关管，使电机三相绕组中的两相导通，一相悬空。为了便于说明，本申请实施例中将三相电路中对应电机悬空绕组的一相桥臂称为悬空相。在无刷直流电机换相时，根据本申请实施例提供的控制方法，根据悬空相中的续电流方向控制悬空相中的一个开关管导通以进行主动续流，使得悬空相中的续电流在开关管的MOS管中流通，从而可以降低甚至消除续电流从开关管的续流二极管中流通的时间，从而可以降低续流阶段续流二极管的发热状况，延长开关管的使用寿命。此外，本申请提供的控制方法设置有主动续流时间，仅在主动续流时间结束后触发检测悬空相中的电流信号，根据此电流信号可以评估主动续流结束后悬空相中的续流状况，进而对下次的主动续流时间进行调整。根据以上说明，本申请提供的控制方法在每一换相扇区仅进行一次续电流采样，无需监测完整的续流过程，可以降低对采样设备的采样精度、采样频率等要求。并且，本申请提供的控制方法通过不断调整主动续流时间以使主动续流结束后悬空相中的续电流逼近期望值，通过这种方式，可以评估电机的整体运行情况，有效的降低单次异常对主动续流的干扰，能自动适应不同电机和工况下的相电流续流时长，省去复杂的评估过程，极具实用价值。作为一种可选的实现方式，步骤S3中，若续电流从悬空相对应相的绕组中流向悬空相，则控制悬空相中的位于上半桥臂的开关管导通，位于下半桥臂的开关管关断，若续电流从悬空相流向与悬空相对应的绕组，则控制悬空相中的位于下半桥臂的开关管导通，位于上半桥臂的开关管关断。为了进一步说明本申请实施例提供的无刷直流电机控制方法，以下将结合具体的电路结构对本申请提供的控制方法进行说明。如图2所示，其示出了三相逆变电路与电机绕组的示意图。根据图2所示的三相逆变电路与电机绕组，可以获得如表1所示的扇区切换的各相开关状态。表1据表1可知，电机位于扇区I时，相电流从A相绕组流向C相绕组，悬空绕组为B相绕组。当电机按照Ⅵ→Ⅰ→Ⅱ的次序进行换相时，电机按照逆时针旋转，定义此时电机的旋转方向为电机正转，当电机按照Ⅱ→Ⅰ→Ⅵ的次序进行换相时，电机按照顺时针旋转，定义此时的电机旋转方向为电机反转。为了便于说明，本申请实施例中将续电流从悬空相对应相的绕组中流向悬空相定义为电流流出相线，将续电流从悬空相流向与悬空相对应的绕组定义为电流流入相线。续电流的方向可以通过公式表示。；式中，dir表示换相时续电流方向。作为一种可选的实现方式，续电流方向可以根据无刷直流电机所处扇区和旋转方向，通过查表获得。具体的，如表2所示。表2如表2所示，若电机按照Ⅵ→Ⅰ→Ⅱ的次序进行换相，则查询表2可知，在无刷直流电机切换为扇区I时，在相电流的续流阶段，续电流方向为电流流出相线，可以表示为。根据以上说明，根据无刷直流电机所处扇区和旋转方向可以较容易的获得续电流方向。作为另一种可选的实现方式，也可以通过实时检测相电流直接获取相电流续流方向。本申请通过驱动桥臂中的开关管来控制无刷直流电机换相。为了便于说明，驱动开关管的信号可以通过公式表示。；式中，Bsw表示三相逆变电路的桥臂控制信号。对于三相逆变电路，包括三个桥臂，任一相桥臂由两个串接的开关管构成，两个串接的开关管的连接点为该相桥臂的桥臂输出端， “上桥臂开”是指该相桥臂中位于直流侧正极与桥臂输出端之间的开关管导通，“上桥臂关”是指该相桥臂中位于直流侧正极与桥臂输出端之间的开关管断开。同理，“下桥臂开”是指该相桥臂中位于直流侧负极与桥臂输出端之间的开关管导通，“下桥臂关”是指该相桥臂中位于直流侧负极与桥臂输出端之间的开关管断开。根据本申请实施例提供的无刷直流电机的控制方法，可知，对于悬空相在主动续流阶段的驱动信号可以通过公式表示：；需要说明的是，本申请实施例中，将无刷直流电机换相后主动开启悬空相中的开关管至悬空相中开关管关闭的阶段定义为主动续流阶段。以无刷直流电机从扇区Ⅵ→Ⅰ为例。在无刷直流电机处于扇区Ⅵ的阶段，三相逆变电路中的A相上桥臂开关管AH和B相下桥臂开关管BL导通，C相中的上下桥臂开关管均关断。当无刷直流电机从扇区Ⅵ切换至Ⅰ，此时，A相上桥臂开关管AH和C相下桥臂开关管CL导通，B相下桥臂开关管关断，由于电流不能突变，B相续流，且B相续电流流出相线，即，。根据本申请实施例提供的控制方法，在电机换相后加入主动续流阶段，结合公式，可知，在主动续流阶段，悬空相B相的驱动信号表示为/＞，因此，控制B相的上桥臂开关管BH导通，导通时长为主动续流时间。作为一种可选的实现方式，步骤S4中，包括：将电流信号与预设期望值相比，获得主动续流偏差，响应于主动续流偏差大于0，则控制主动续流时间延长，响应于主动续流偏差小于0，则控制主动续流时间缩短。容易理解的，也可以采集悬空相中的电压信号，以电压信号来表征主动续流偏差。具体的，预设期望值可以设置为趋于或等于0。在主动续流结束阶段采样悬空相的续电流，计算主动续流偏差，主动续流偏差可以通过公式表示。；式中，err表示主动续流偏差，Ifw表示续电流值，dir表示续电流的极性，续电流的极性定义与相电流的电流方向定义保持一致，Iref表示预设期望值。主动续流偏差err，可以计算得到下一个换相周期的主动续流时间，主动续流时间可以通过公式表示。；式中，表示第n+1个换相周期时的主动续流时间，f表示续流迭代函数。根据以上说明，由最新的主动续流时间由通过迭代更新获得。主动续流时长的初值可取零或者一个趋于0的小值。作为一种可选的实现方式，主动续流时长的初值可根据经验进行选择，以快速逼近系统的实际续流时长。需要说明的是，主动续流时长，必须进行约束，即不可超过上限，即，。上限可选固定值，也可选择60°或者30°电角度所对应的时长，这完全可根据实际调整。以选择60°电角度所对应的时长作为上限固定值为例，可以通过公式表示。；式中，表示电机电转速，/＞表示对应60度电角度的时长。作为一种可选的实现方式，可以采用增量式PI控制的方式调节主动续流时间。则续流迭代函数f可以通过公式表示。；式中，kp表示比例控制系数，ki表示积分控制系数，err表示主动续流偏差，errlst表示上一周期的主动续流偏差。kp≥0，ki≥0。作为另一种可选的实现方式，步骤S4中，还可以采用固定增量的方式调节主动续流时间。则续流迭代函数f可以通过公式表示。；式中，k表示主动续流时长变化系数。根据以上说明，本申请提供的控制方法在主动续流偏差大于零时，将在下一个周期，继续增大主动续流时间，反之，减小主动续流时间。通过这种方式，不断调整主动续流时间，使得续电流尽可能少的通过续流二极管，从而降低开关管的发热状况，延长开关管的使用寿命。作为一种可选的实现方式，在迭代计算主动续流时间前，还可以先对主动续流偏差进行归一化处理以提高通用性。主动续流偏差的归一化处理可以通过公式表示。；式中，Ipu表示基准电流，基准电流可选当前的电机相电流值、电机额定电流值、或者换相前相电流值等，在此不做限制。需要说明的是，由于续流时长变化过大，不便于评估其结果的合理性，可选择换相续流角度来替代主动续流时间。则可以将主动续流迭代公式转变为公式：；式中，、/＞，分别表示第n个周期、第n+1个周期的换相续流角。不失一般性，其换相续流角度合理范围有：/＞。结合当前电机电转速，计算得到主动续流时长，稳定之后即是电机动力系统的实际换相续流时长：/＞；式中，表示当前电机电转速，/＞表示第n+1个周期的换相续流角度。作为一种可选的实现方式，步骤S4中，可以通过在三相逆变电路的桥臂中设置采样电阻以采集悬空相中的电流信号。或者，可以在三相逆变电路的桥臂输出端与无刷直流电机的对应绕组之间设置采样电阻以采样悬空相中的电流信号。以在三相逆变电路的桥臂中设置采样电阻为例，采样电阻可以设置在三相逆变电路的下桥臂中。如图3所示，可以在三相逆变电路的三相桥臂输出端与无刷直流电机的对应绕组之间设置采样电阻以采样悬空相中的电流信号。根据该采样方案，在任意换相阶段，主动续流结束后触发的悬空相采样均有效。为了便于说明，本申请实施例中，将主动续流结束后触发的采样有效表示为，将主动续流结束后触发的采样无效表示为/＞。即，对于分别在三相逆变电路的三相桥臂输出端与无刷直流电机的对应绕组之间设置采样电阻以采样悬空相中的电流信号的采样检测方案，任意换相阶段，主动续流结束后的采样均有效，可以表示为：。作为另一种可选的实现方式，可以在三相逆变电路的其中两相桥臂输出端与无刷直流电机的对应绕组之间分别设置采样电阻以采样悬空相中的电流信号。以A相、B相采样，C相不采样为例，任意换相阶段，主动续流结束后触发的采样均有效，但C相电流由其他两相电流获取，C相电流/＞表示如下：。作为另一种可选的实现方式，可以在三相逆变电路的其中一相桥臂输出端与无刷直流电机的对应绕组之间设置采样电阻以采样悬空相中的电流信号。以仅对A相采样为例，则只有悬空相为A相时，其主动续流结束后的电流采样才有效，即只有1/3的换相时刻有效，采样数据有效可以有如下描述：；本申请实施例提供的控制方法中，根据悬空相采样方案的不同，选择对应的判断策略以判定采样电阻采样得的电流信号是否有效。作为一种可选的实现方式，可以在三相桥臂中分别设置采样电阻。如图4所示，分别在三相逆变电路的三相下桥臂中设置采样电阻，则只有主动开启为悬空相下桥臂时，其主动续流结束采样才有效，故只有1/2的换相时刻有效，采样数据有效可以有如下描述：；作为另一种可选的实现方式，可以在三相逆变电路中的其中两相下桥臂中设置采样电阻，以A相、B相采样，C相不采样为例，则只有悬空相为A、B且下桥臂续流时，主动续流结束采样有效，故1/3的时刻有效，采样数据有效可以有如下描述：；式中，Phs表示悬空相。作为另一种可选的实现方式，可以在三相逆变电路中的其中一相下桥臂中设置采样电阻。以A相采样为例，则只有悬空相为A相且下桥臂续流时，主动续流结束时采样有效，故1/6时刻有效，采样数据有效可以有如下描述：。容易理解的，也可以选择上桥臂三相采样方式，与下桥臂采样效果类似，只是在时主动续流结束的电流采样才有效，在此不再进行赘述。基于上述的采样有效标志，执行不同的步骤：时，直接丢弃当前换相采样数据，进入下一个换相周期。时，更新续流电流/＞和偏差/＞，进入S4执行主动续流时长更新计算，悬空相的电流信号表示如下：；根据本申请实施例提供的无刷直流电机控制方法，在每一换相阶段中，仅在主动续流结束后触发一次采样，无需监测完整的续流过程，可以降低对采样设备的采样精度、采样频率等要求。并且，本申请提供的控制方法通过不断调整主动续流时间以使主动续流结束后悬空相中的续电流逼近期望值，通过这种方式，可以评估电机的整体运行情况，有效的降低单次异常对主动续流的干扰，能自动适应不同电机和工况下的相电流续流时长，省去复杂的评估过程，极具实现价值。本申请还提供一种无刷直流电机控制系统100，用于控制无刷直流电机，无刷直流电机包括三相绕组，三相绕组分别与三相逆变电路的各相输出端电连接。如图5所示，无刷直流电机控制系统100包括：换相控制模块11、续电流方向获取模块12、主动续流控制模块13、相电流检测模块14以及续流时长控制模块15。本申请实施例提供的无刷直流电机控制系统100采用本申请实施例提供的无刷直流电机控制方法。具体的，换相控制模块11用于控制三相逆变电路中的开关管实现无刷直流电机的换相；续电流方向获取模块12用于获取无刷直流电机换相时三相逆变电路中悬空相的续电流方向；主动续流控制模块13用于根据悬空相的续电流方向，控制悬空相中的一个开关管导通以进行主动续流，开关管的导通时长为主动续流时间；相电流检测模块14用于在悬空相中开关管的导通时长结束后，采样悬空相中的电流信号；续流时长控制模块15用于设置主动续流时间的初始值，并且，续流时长控制模块15还用于根据悬空相中的电流信号调整主动续流时间的时长，对主动续流时间进行更新，在下次主动续流时采用更新后的主动续流时间作为开关管的导通时长。主动续流控制模块13响应于续电流从悬空相对应相的绕组中流向悬空相，控制悬空相中的位于上半桥臂的开关管导通，位于下半桥臂的开关管关断；主动续流控制模块13响应于续电流从悬空相流向与悬空相对应的绕组，控制悬空相中的位于下半桥臂的开关管导通，位于上半桥臂的开关管关断。续流时长控制模块15将电流信号与预设期望值相比，获得主动续流偏差，响应于主动续流偏差大于0，则控制主动续流时间延长，响应于主动续流偏差小于0，则控制主动续流时间缩短。续流时长控制模块15采用增量式PI控制的方式调节主动续流时间，或者，采用固定增量的方式调节主动续流时间。相电流检测模块14包括至少一个采样电阻，采样电阻设置于三相逆变电路的桥臂中，或者，采样电阻设置于三相逆变电路的桥臂输出端与无刷直流电机的对应绕组之间。根据以上说明，本申请提供的控制系统在每一换相扇区仅进行一次续电流采样，无需监测完整的续流过程，可以降低对采样设备的采样精度、采样频率等要求。并且，本申请提供的控制系统通过不断调整主动续流时间以使主动续流结束后悬空相中的续电流逼近期望值，通过这种方式，可以评估电机的整体运行情况，有效的降低单次异常对主动续流的干扰，能自动适应不同电机和工况下的相电流续流时长，省去复杂的评估过程，极具实现价值。以上所揭露的仅为本申请的较佳实施例而已，然其并非用以限定本申请之权利范围，本领域普通技术人员可以理解：在不脱离本申请及所附的权利要求的精神和范围内，改变、修饰、替代、组合、简化，均应为等效的置换方式，仍属于发明所涵盖的范围。
