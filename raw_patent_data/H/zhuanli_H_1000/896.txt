标题title
一种基于数据价值阈值的虚拟电厂并行控制方法
摘要abst
本发明涉及一种基于数据价值阈值的虚拟电厂并行控制方法，属于虚拟电厂领域。本发明方法将虚拟电厂并行控制中心作为联邦学习的服务器、将多个虚拟电厂代理商分别作为联邦学习的客户端进行模型迭代训练；在训练时使用改进了二阶动量项的Adam算法中训练LSTM模型；在传递参数时使用差分隐私技术对参数加噪后进行参数传递；在计算全局梯度时使用改进的加权聚合算法计算全局梯度；基于数据资产价值和资产价值阈值判断联邦学习的收敛条件，最后基于训练结果对各虚拟电厂代理商进行并行调节控制。本发明方法可以不损失模型训练精度的情况下确保共享模型的安全性和隐私性提升效率，为虚拟电厂优化调度提供隐私保护，提高企业决策效率和生产效率。
权利要求书clms
1.一种基于数据价值阈值的虚拟电厂并行控制方法，其特征在于，将虚拟电厂并行控制中心作为联邦学习的服务器、将多个虚拟电厂代理商分别作为联邦学习的客户端进行模型迭代训练，基于训练结果对各所述虚拟电厂代理商进行并行调节控制，在每一轮迭代中包括如下步骤：各所述代理商分别将能源数据作为输入、将相应的灵活性需求作为收敛目标，基于各客户端模型参数初始值进行训练得到各客户端模型参数和预测的灵活性调节能力；各所述代理商将所述预测的灵活性调节能力和所述模型参数上传给所述控制中心；所述控制中心对各所述模型参数进行加权聚合计算得到全局梯度作为新一轮迭代的各客户端模型参数初始值下发给各所述代理商；所述控制中心基于各所述预测的灵活性调节能力和相应的能源数据计算数据资产价值，基于所述数据资产价值和资产价值阈值判断是否满足迭代终止条件，若是，则终止，若否，则重新开始下一轮迭代。2.根据权利要求1所述的并行控制方法，其特征在于，所述客户端模型采用LSTM模型，采用改进的Adam算法对所述客户端模型进行训练。3.根据权利要求2所述的并行控制方法，其特征在于，所述改进的Adam算法包括对二阶动量项进行改进，所述对二阶动量项进行改进包括：基于上一轮迭代的二阶动量值、二阶矩估计的指数衰减率、一次动量项和交叉熵梯度值得到改进的二阶动量项，计算方法为：；其中，为第/＞次迭代的改进的二阶动量项；角标/＞表示迭代次数；/＞表示Adam算法中二阶矩估计的指数衰减率；/＞表示第/＞次迭代的一次动量项；/＞表示第/＞次迭代的二阶动量项；/＞为第/＞次迭代的交叉熵梯度值。4.根据权利要求1-3任一项所述的并行控制方法，其特征在于，所述各所述代理商将所述预测的灵活性调节能力和所述模型参数上传给所述控制中心包括：使用差分隐私对所述模型参数加噪得到带噪声参数后上传给所述控制中心；所述控制中心对各所述模型参数进行加权聚合计算包括所述控制中心对各所述带噪声参数进行加权聚合计算。5.根据权利要求4所述的并行控制方法，其特征在于，所述对各所述带噪声参数进行加权聚合计算包括：基于各所述带噪声参数计算各所述代理商的参数相似度值；基于各所述代理商的所述预测的灵活性调节能力和实际的灵活性调节能力计算各所述代理商的模型准确性值；基于各所述参数相似度值和各所述模型准确度值进行加权聚合计算，得到全局梯度。6.根据权利要求5所述的并行控制方法，其特征在于，所述加权聚合计算的公式为：；其中，表示全局梯度；N为所述代理商即客户端的个数；/＞表示第i个所述代理商的所述带噪声参数；/＞表示第i个所述代理商的参数相似度值；/＞表示第i个所述代理商的模型准确性值；/＞表示第i个所述代理商本地训练数据集规模；m表示所属有所述代理商本地训练数据集规模之和。7.根据权利要求6所述的并行控制方法，其特征在于，所述相似度值的计算方法为：。8.根据权利要求6所述的并行控制方法，其特征在于，所述控制中心基于各所述预测的灵活性调节能力和相应的能源数据计算数据价值，基于所述数据价值和价值阈值判断是否满足迭代终止条件包括：所述控制中心基于各所述预测的灵活性调节能力和相应的能源数据计算所有虚拟电厂的成本和收益；基于所述成本和收益计算所述数据资产价值；基于所述数据资产价值和资产价值阈值判断是否满足终止条件：如果所述数据资产价值大于等于所述资产价值阈值，则满足终止条件，否则不满足。9.根据权利要求8所述的并行控制方法，其特征在于，所述基于所述成本和收益计算所述数据资产价值表示为：；其中，和/＞分别为所述成本和收益，/＞和/＞分别为成本和收益的权重系数，K为数据质量系数。10.根据权利要求1所述的并行控制方法，其特征在于，所述基于训练结果对各所述虚拟电厂代理商进行调节控制包括：基于训练终止时各所述虚拟电厂代理商的预测的灵活性调节能力，对各所述虚拟电厂代理商进行调节控制。
说明书desc
技术领域本发明属于虚拟电厂领域，尤其涉及一种基于数据价值阈值的虚拟电厂并行控制方法。背景技术能源数据涉及电力、煤炭、石油等不同领域的数据，普遍存在的问题是能源机构将自身拥有的数据作为战略性资源，企业不愿进行数据共享与交易，能源数据停留在拥有者内部，能源数据的数据共享可具有一定障碍。隐私计算技术为能源数据企业协作开辟了新的模式，相比传统的数据协作方式，隐私计算可以使能源数据可用不可见，在保护数据隐私及安全的同时，为机器学习等数据与知识价值发现创造更好的数据环境。但隐私计算作为一种密码学、数论、博弈论和计算机科学等涉及多学科交叉融合和衍生的方法与技术，在新型电力系统的实际应用中存在一定的困难。在当前新型电力系统的实际应用中，虚拟电厂对规模化分布式资源进行聚合，是提高新型电力系统灵活运行性能与新能源消纳能力的重要技术手段。在配电网络中，由于通信手段的限制，大量的分布式机组聚合到同一虚拟电厂会造成信息拥堵，调控困难等情况，从而虚拟电厂通常以集群形式出现，因此对虚拟电厂集群中各虚拟电厂的并行协调控制是一个需要解决的重要问题，在现有的虚拟电厂的能源调度领域，还没有有效通过隐私计算保护企业数据同时基于虚拟电厂的能源数据做出决策，对虚拟电厂进行调度控制的方法。发明内容鉴于上述的分析，本发明旨在提供一种基于数据价值阈值的虚拟电厂并行控制方法，将虚拟电厂并行控制中心作为联邦学习的服务器、将多个虚拟电厂代理商分别作为联邦学习的客户端进行模型迭代训练，基于训练结果对各所述虚拟电厂代理商进行并行调节控制，在每一轮迭代中包括如下步骤：各所述代理商分别将能源数据作为输入、将相应的灵活性需求作为收敛目标，基于各客户端模型参数初始值进行训练得到各客户端模型参数和预测的灵活性调节能力；各所述代理商将所述预测的灵活性调节能力和所述模型参数上传给所述控制中心；所述控制中心对各所述模型参数进行加权聚合计算得到全局梯度作为新一轮迭代的各客户端模型参数初始值下发给各所述代理商；所述控制中心基于各所述预测的灵活性调节能力和相应的能源数据计算数据资产价值，基于所述数据资产价值和资产价值阈值判断是否满足迭代终止条件，若是，则终止，若否，则重新开始下一轮迭代。进一步的，所述客户端模型采用LSTM模型，采用改进的Adam算法对所述客户端模型进行训练。进一步的，所述改进的Adam算法包括对二阶动量项进行改进，所述对二阶动量项进行改进包括：基于上一轮迭代的二阶动量值、二阶矩估计的指数衰减率、一次动量项和交叉熵梯度值得到改进的二阶动量项，计算方法为：；其中，为第/＞次迭代的改进的二阶动量项；角标/＞表示迭代次数；/＞表示Adam算法中二阶矩估计的指数衰减率；/＞表示第/＞次迭代的一次动量项；/＞表示第次迭代的二阶动量项；/＞为第/＞次迭代的交叉熵梯度值。进一步的，所述各所述代理商将所述预测的灵活性调节能力和所述模型参数上传给所述控制中心包括：使用差分隐私对所述模型参数加噪得到带噪声参数后上传给所述控制中心；所述控制中心对各所述模型参数进行加权聚合计算包括所述控制中心对各所述带噪声参数进行加权聚合计算。进一步的，所述对各所述带噪声参数进行加权聚合计算包括：基于各所述带噪声参数计算各所述代理商的参数相似度值；基于各所述代理商的所述预测的灵活性调节能力和实际的灵活性调节能力计算各所述代理商的模型准确性值；基于各所述参数相似度值和各所述模型准确度值进行加权聚合计算，得到全局梯度。进一步的，所述加权聚合计算的公式为：；其中，表示全局梯度；N为所述代理商即客户端的个数；/＞表示第i个所述代理商的所述带噪声参数；/＞表示第i个所述代理商的参数相似度值；/＞表示第i个所述代理商的模型准确性值；/＞表示第i个所述代理商本地训练数据集规模；m表示所属有所述代理商本地训练数据集规模之和。进一步的，所述相似度值的计算方法为：。进一步的，所述控制中心基于各所述预测的灵活性调节能力和相应的能源数据计算数据价值，基于所述数据价值和价值阈值判断是否满足迭代终止条件包括：所述控制中心基于各所述预测的灵活性调节能力和相应的能源数据计算所有虚拟电厂的成本和收益；基于所述成本和收益计算所述数据资产价值；基于所述数据资产价值和资产价值阈值判断是否满足终止条件：如果所述数据资产价值大于等于所述资产价值阈值，则满足终止条件，否则不满足。进一步的，所述基于所述成本和收益计算所述数据资产价值表示为：；其中，和/＞分别为所述成本和收益，/＞和/＞分别为成本和收益的权重系数，K为数据质量系数。进一步的，所述基于训练结果对各所述虚拟电厂代理商进行调节控制包括：基于训练终止时各所述虚拟电厂代理商的灵活性调节能力，对各所述虚拟电厂代理商进行调节控制。本发明至少可以实现下述之一的有益效果：通过对于虚拟电厂并行控制中心和多个虚拟电厂代理商进行联邦学习的迭代训练，基于各虚拟电厂的能源数据和各个虚拟电厂能够提供的调节能力计算出所有虚拟电厂的成本和收益，进而计算出数据资产价值，经过多次迭代训练计算出满足收敛条件的较优数据资产价值，最终得到优化的全局模型和各个虚拟电厂能够提供的灵活性调节能力，基于各虚拟电厂的灵活性调节能力并对各虚拟电厂进行并行控制，实现在保证收益情况下的电力系统的能源优化调节。本发明方法在传统的联邦学习基础上进行改进，通过数据聚合得到的数据资产价值，最终得到调节控制方案，能够提高企业的决策效率，实现企业对于大数据资产的价值评价能力和企业进行大数据交易和大数据投资时的经济性，提升能源数据聚合效率。通过改进Adam算法的二阶动量项，在客户端的模型训练时使用改进的Adam算法进行蓄积能量，能够解决Adam算法在训练时收敛速度慢的问题，提升客户端模型训练效率，增强了算法在复杂环境下的鲁棒性能。通过采用差分隐私技术对客户端共享参数添加噪声进行加密，不仅能够量化隐私保护的强度，还将添加噪声的过程分布在每个虚拟电厂代理商设备上，使虚拟电厂代理商设备能够单独对隐私信息进行噪声注入，而无需依赖可信的第三方；基于差分隐私本身具有的顺序合成性与平行合成性的特点，将本地化差分隐私应用于能源大数据聚合过程中；可以在不损失模型训练精度的情况下确保共享模型的安全性和隐私性提升效率，为虚拟电厂优化调度提供隐私保护。本发明的其他特征和优点将在随后的说明书中阐述，并且，部分优点可从说明书中变得显而易见，或者通过实施本发明而了解。本发明的目的和其他优点可通过说明书、权利要求书以及附图中所特别指出的内容中来实现和获得。附图说明附图仅用于示出具体实施例的目的，而并不认为是对本发明的限制，在整个附图中，相同的参考符号表示相同的部件；图1为本发明方法流程图；图2为本发明模型训练结构图；图3为本发明LSTM结构图。具体实施方式下面结合附图来具体描述本发明的优选实施例，其中，附图构成本申请一部分，并与本发明的实施例一起用于阐释本发明的原理，并非用于限定本发明的范围。方法实施例本发明的一个具体实施例，公开一种基于数据价值阈值的虚拟电厂并行控制方法，将虚拟电厂并行控制中心作为联邦学习的服务器、将多个虚拟电厂代理商分别作为联邦学习的客户端进行模型迭代训练，基于训练结果对各所述虚拟电厂代理商进行调节控制，在每一轮迭代中包括如下步骤：步骤S01、各所述代理商分别将采集的能源数据作为输入、将相应的灵活性需求作为收敛目标，基于各客户端模型参数初始值进行训练得到各客户端模型参数和灵活性调节能力；步骤S02、各所述代理商将所述预测结果和所述模型参数上传给所述控制中心；步骤S03、所述控制中心对各所述模型参数进行加权聚合计算得到全局梯度作为新一轮迭代的各客户端模型参数初始值下发给各所述代理商；步骤S04、所述控制中心基于各所述预测的灵活性调节能力和相应的能源数据计算数据资产价值，基于所述数据资产价值和资产价值阈值判断是否满足迭代终止条件，若是，则终止，若否，则重新开始下一轮迭代。进一步的，基于训练终止时各所述虚拟电厂代理商的灵活性调节能力，对各所述虚拟电厂代理商进行调节控制。本实施例，通过对于虚拟电厂并行控制中心和多个虚拟电厂代理商进行联邦学习的迭代训练，基于各虚拟电厂采集的能源数据和各个虚拟电厂预测能够提供的灵活性调节能力计算出所有虚拟电厂的成本和收益，进而经过多次迭代计算出满足收敛条件的较优数据资产价值，最终得到优化的全局模型和各个虚拟电厂能够提供的灵活性调节能力，基于各虚拟电厂的灵活性调节能力并对各虚拟电厂进行并行控制，实现在保证收益情况下的电力系统的能源优化调节，能够提高企业的决策效率，提升能源数据聚合效率。在本发明的一个实施例中，在开始联邦学习的模型迭代训练之前，虚拟电厂并行控制中心根据生产需要选择区域内能够提供灵活性调节的虚拟电厂代理商作为参与模型训练的客户端，并向各客户端下发相应的灵活性需求。需要说明的是，在电力系统中，所述预测的灵活性调节能力指灵活性发电资源对于电力系统的不确定性的调节能力，灵活性发电资源示例性的包括分布式发电资源、储能资源等。虚拟电厂并行控制中心根据生产需要向各客户端下发相应的灵活性需求。在本发明的一个实施例中，各虚拟电厂代理商采集本虚拟电厂的能源数据，并进行预处理得到预处理后的能源数据。具体的，各虚拟电厂的所述能源数据包括分布式电源出力信息、电动汽车出力信息、储能出力信息、负荷出力信息和能源转换设备出力信息中的一种或多种。示例性的，各虚拟电厂的所述能源数据表示为：；；；；；其中，为分布式电源l的出力信息集合，/＞为电动汽车l在t时段的出力信息；/＞为电动汽车m的充放电信息集合，/＞为电动汽车m在t时段的充放电信息；/＞为储能n的充放能信息集合，/＞为储能n在t时段的充放能信息；/＞为负荷i的负荷需求信息集合，/＞为负荷i在t时段的负荷需求信息；/＞为能源转换设备j的出力信息集合，/＞为能源转换设备j在t时段的出力信息。需要说明的是，上述分布式电源、电动骑车、储能、负荷和能源转换设备中每种设备可以包含多个类型，在每一时间段采集的数据包含功率、运行状态等信息。示例性的，分布式电源包含风、光等多种类型，即,L为虚拟电厂区域内分布式电源类型总数；每个时间段采集数据对应功率，运行状态，爬坡能力，可调节容量等，即，/＞、/＞、/＞、/＞分别为分布式电源l在t时间段对应的功率，运行状态，爬坡能力，可调节容量等信息。具体的，对能源数据进行预处理包括异常数据处理、数据归一化处理和特征相关性分析。进一步的，使用Savitzky-Golay滤波器中进行异常数据处理，去掉数据中偏差较大的数据或者缺省数据等异常数据值。具体的，使用Savitzky-Golay滤波器时，对于所采集的能源数据中同一资源的同一类数据在时间维度上分布的一组数据进行异常数据处理。示例性的，将分布式电源l在一段时间内的功率数据作为一组数据，使用Savitzky-Golay滤波器进行异常数据处理。进一步的， Savitzky-Golay滤波器进行异常数据处理实现数据去噪的公式为：；其中，，/＞为平滑滤波后、前的数据；/＞为时间窗口大小；H为归一化常数；hi为确认时间窗口大小后确定的系数。进一步的，进行了异常数据处理后的能源数据进行归一化处理，用于防止不同类型数据之间量纲和数量级差别对数据处理结果造成的影响，防止模型训练过程中产生“梯度爆炸”现象，提升数据训练模型的效果。具体的，使用最大最小值法对数值型数据进行归一化处理，公式为：；其中，为归一化数据，/＞为原始数值型数据，min和max分别表示最小值和最大值。进一步的，对归一化后的能源数据进行特征相关性分析，包括使用模糊熵法计算能源数据中两个序列之间的相关程度；基于模糊熵参数阈值筛选相关程度高于所述阈值的序列；所有筛选后的数据序列构成预处理后能源数据。需要说明的是，通过特征相关性分析可以降低用于模型训练的能源数据的特征复杂度，在保证保留有效信息的同时一定程度上缩短模型训练时间。进一步的，以下对模糊熵法进行说明：对于一组长度为的数据集/＞进行相空间重构，得到数据序列Y为：，其中，/＞为嵌入维数，为均值；定义两个数据序列与/＞之间的距离为：；引入模糊隶属函数，利用模糊函数计算数据序列与/＞之间的相似度：，其中，/＞为相似容限度，n为数据维度，/＞，且/＞；定义函数：；对于有限长的数据序列，模糊熵估计为：。在本发明的一个实施例中，各虚拟电厂代理商分别使用预处理后的能源数据作为客户端模型输入数据进行迭代训练。以下对每一轮迭代训练的步骤01-步骤S04进行具体说明。步骤S01、各虚拟电厂代理商分别使用预处理后的能源数据作为输入，将相应的灵活性需求作为输出的收敛目标，基于各客户端模型参数初始值进行训练得到各客户端模型参数和预测灵活性调节能力。具体的，所述客户端模型采用LSTM模型，采用改进的Adam算法对所述客户端模型进行训练。具体的，各虚拟电厂代理商分别使用预处理后的能源数据作为输入，将相应的灵活性需求作为收敛目标，基于各客户端模型参数初始值进行训练，通过调整客户端模型参数，使模型输出尽可能接近所述灵活性需求，在训练完成时，使用训练好的模型基于所输入的能源数据和调整后的客户端模型参数得到该虚拟电厂代理商能够提供的灵活性调节能力。即，所述训练过程即该虚拟电厂代理商对该虚拟电厂的能源进行规划得到尽可能优的灵活性调节能力的过程。其中在初始迭代时，各客户端模型参数初始值为LSTM模型随机预设参数。具体的，各虚拟电厂代理商训练客户端模型时，根据各个设备的运行情况、可调节容量等信息选择本地能源数据的子集运行训练模型。LSTM神经网络由3个主要的控制门组成，主要为输入门、遗忘门/＞、输出门/＞。网络在t时刻的输入为/＞，输出为/＞，候选状态为/＞，记忆状态为/＞。LSTM根据上一时刻的输出和当前时刻的输入及当前的隐藏层状态，并且通过输入门、遗忘门、输出门来控制和更新当前隐藏层的状态，最后将更新结果输出。；；；；；其中，、/＞、/＞和/＞分别表示遗忘门、输出门、记忆状态和输出门的权重矩阵，、/＞、/＞和/＞分别表示对应的偏置向量，/＞表示激活函数。进一步的，在训练过程中，采取自适应矩估计优化算法，该方法结合了Momentum法和RMSProp法，通过计算梯度的一阶矩估计和二阶矩估计而为不同的参数设计独立的自适应性学习率。进一步的，第次迭代的一次动量项/＞和二阶动量项/＞的表达式分别为：；；其中，为第/＞次迭代的交叉熵梯度值，参数/＞，/＞分别代表一阶矩估计和二阶矩估计的指数衰减率。进一步的，针对Adam算法收敛速度慢的问题，本实施例采用改进的二阶动量项：；其中，为第/＞次迭代的改进的二阶动量项；角标/＞表示迭代次数；/＞表示Adam算法中二阶矩估计的指数衰减率；/＞表示第/＞次迭代的一次动量项；/＞表示第/＞次迭代的二阶动量项；/＞为第/＞次迭代的交叉熵梯度值。需要说明的是，采用改进的二阶动量项的Adam方法在没有添加额外参数的前提下，加强了相邻两个梯度之间各参数之间的联系，即一阶动量、二阶动量和梯度的关系，使得预测的下一个梯度能够达到快速收敛的效果；相邻两梯度之间的紧密联系，不会出现网络过拟合的情况，损失函数朝着有利的方向发展，同时也增强了算法在复杂环境下的鲁棒性能。进一步的，为消除初始偏差，会对和/＞进行偏差修正，每一步都需要更新参数/＞的取值，其更新表达式为：；；；其中，表示当前参数梯度的无偏一阶矩估计值；/＞为当前参数梯度的无偏二阶矩估计值；/＞代表学习率，表示参数空间的有效步长。进一步的，各虚拟电厂代理商采用改进的Adam算法对所述客户端模型进行训练，在预设的客户端迭代次数内，得到训练好的各客户端模型参数。步骤S02、各所述代理商将所述预测的灵活性调节能力和所述模型参数上传给所述控制中心。具体的，使用差分隐私对所述模型参数加噪得到带噪声参数后上传给所述控制中心，如图2所示。具体的，设为随机优化算法，为满足/＞差分隐私，则有：；其中，表示概率分布，即在随机优化算法控制下隐私泄露风险；/＞是参数集的真子集，相差一个数据；/＞表示算法/＞可能输出的结果集合；/＞表示不可区分度，/＞越大表示算法的隐私程度越高。进一步的，为了使模型参数满足差分隐私，对所述模型参数添加Laplace噪声，计算式为：；其中，表示服从Laplace分布的噪声，噪声参数为/＞。具体的，在所述每个代理商分别对模型参数添加一定量的噪声，使得所述控制中心收集到的数据整体满足，即满足条件：；其中，表示添加到第/＞个代理商的模型参数中的噪声。进一步的，加噪各客户端训练好的模型参数表达式为：；其中,N为参与训练的虚拟电厂代理商数量；W表示模型参数集合；表示第i个虚拟电厂代理商的客户端模型参数。步骤S03、所述控制中心对各所述模型参数进行加权聚合计算得到全局梯度作为新一轮迭代的各客户端模型参数初始值下发给各所述代理商。具体的，所述控制中心对各所述模型参数进行加权聚合计算包括所述控制中心对各所述带噪声参数进行加权聚合计算，包括：基于各所述带噪声参数计算各所述代理商的参数相似度值；基于各所述代理商的所述客户端模型预测结果和相应的灵活性需求计算各所述代理商的模型准确性值；基于各所述参数相似度值和各所述模型准确度值进行加权聚合计算，得到全局梯度。进一步的，通过计算参数与其余参数/＞之间的距离之和来衡量相似度，对于相似度越高的参数，其梯度更新方向偏差越低，使得模型散度减小，参与聚合的权重越大，从而保障联邦学习的性能，所述各所述代理商的参数相似度值的计算方法为：；其中，表示第i个所述代理商的参数相似度值。进一步的，通过各客户端模型的预测灵活性调节能力与实际灵活性调节能力之间的差值与实际值之间的比值来衡量客户端训练模型的准确性。准确性越高，说明该客户端训练效果更优，对应的参数权重越高，从而提高整体训练模型的准确度。所述模型准确性值的计算方法为：；其中，表示各客户端模型的所述预测灵活性调节能力，/＞表示所述实际灵活性调节能力。所述实际灵活性调节能力基于相应虚拟电厂历史实际调节出力确定。进一步的，所述加权聚合计算的公式为：；其中，表示全局梯度；N为所述代理商即客户端的个数；/＞表示第i个所述代理商的所述带噪声参数；/＞表示第i个所述代理商的参数相似度值；/＞表示第i个所述代理商的模型准确性值；/＞表示第i个所述代理商本地训练数据集规模；m表示所属有所述代理商本地训练数据集规模之和。进一步的，所述控制中心使用差分隐私对全局梯度进行加噪,将加噪后的发送给虚拟电厂代理商。各虚拟电厂代理商收到更新后的全局梯度后，加载至各客户端模型上，作为新一轮迭代的各客户端模型参数初始值。步骤S04、所述控制中心基于各所述预测的灵活性调节能力和相应的能源数据计算数据资产价值，基于所述数据资产价值和资产价值阈值判断是否满足迭代终止条件，若是，则终止，若否，则重新开始下一轮迭代。具体的，所述控制中心基于各所述预测的灵活性调节能力和相应的能源数据计算所有虚拟电厂的成本和收益；基于所述成本和收益计算所述数据资产价值；基于所述数据资产价值和资产价值阈值判断是否满足终止条件：如果所述数据资产价值大于等于所述资产价值阈值，则满足终止条件，迭代终止；否则不满足终止条件，重新开始下一轮迭代。需要说明的是，由于各客户端训练过程即相应虚拟电厂代理商对该虚拟电厂的能源进行规划得到尽可能优的灵活性调节能力的过程，因此，对应于各所述预测的灵活性调节能力，各虚拟电厂代理商基于相应的能源数据，根据规划，计算提供各所述预测的灵活性调节能力的成本和收益/＞。其中，计算成本和收益的方法为本领域惯用手段，本发明不进行讨论。进一步的，基于所述成本和收益计算所述数据资产价值，计算公式为：；其中，和/＞分别为成本法和收益法的权重系数，K为数据质量系数，由常用的数据质量评价标准计算。进一步的，基于所述数据资产价值P和资产价值阈值判断是否满足终止条件：如果/＞，则满足终止条件，迭代终止；否则不满足终止条件，重新开始下一轮迭代。其中，资产价值阈值为期望价值阈值，由虚拟电厂控制中心基于灵活性调节需求和成本/收益的历史数据设定。本实施例，公开了一种基于数据价值阈值的虚拟电厂并行控制方法，通过对于虚拟电厂并行控制中心和多个虚拟电厂代理商进行联邦学习的迭代训练，得到优化的全局模型和各个虚拟电厂能够提供的灵活性调节能力，实现对各虚拟电厂的并行控制，能够提高企业的决策效率，实现企业对于大数据资产的价值评价能力和企业进行大数据交易和大数据投资时的经济性，提升能源数据聚合效率。通过改进Adam算法的二阶动量项，在客户端的模型训练时使用改进的Adam算法进行蓄积能量，能够解决Adam算法在训练时收敛速度慢的问题，提升客户端模型训练效率，增强了算法在复杂环境下的鲁棒性能。通过采用差分隐私技术对客户端共享参数添加噪声进行加密，不仅能够量化隐私保护的强度，还将添加噪声的过程分布在每个虚拟电厂代理商设备上，使虚拟电厂代理商设备能够单独对隐私信息进行噪声注入，而无需依赖可信的第三方；基于差分隐私本身具有的顺序合成性与平行合成性的特点，将本地化差分隐私应用于能源大数据聚合过程中；可以在不损失模型训练精度的情况下确保共享模型的安全性和隐私性提升效率，为虚拟电厂优化调度提供隐私保护。以上所述，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。
