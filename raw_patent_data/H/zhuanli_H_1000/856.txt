标题title
排斥机构的控制电路系统及金属探测仪
摘要abst
本公开实施例中的排斥机构的控制电路系统及金属探测仪，电路包括：驱动触发器、驱动控制电路、驱动锁控电路及逻辑运算电路；所述控制电路系统包括第一和第二驱动控制器分别对应对排斥机构的启动和关闭的驱动；所述驱动锁控电路包括第一和第二延时控制器，输出相应第一和第二延时控制信号，经所述逻辑运算电路同金属探测信号逻辑运算以控制第一、第二驱动控制电路，实现在排斥机构由金属探测信号触发的启动和关闭动作发生时，在基于两个延时控制信号在逻辑运算中对金属探测信号实现预设时长的屏蔽实现对驱动控制电路封锁。从而能全部隔离了电磁阀反向电势干扰，排斥机构可以正常工作，提升产品可靠性。
权利要求书clms
1.一种排斥机构的控制电路系统，其特征在于，应用于金属探测仪，用于控制电磁阀驱动排斥机构动作；所述控制电路系统包括：驱动触发器，连接电磁阀，用于输出驱动信号；在所述驱动信号为第一电平时，能设置电磁阀处于第一状态以驱动排斥机构启动；在所述驱动信号为与第一电平反相的第二电平时，能设置电磁阀处于第二状态以驱动排斥机构关闭；驱动控制电路，包括：第一驱动控制器，连接所述驱动触发器，用于响应于控制信号，通过驱动触发器驱动电磁阀处于第一状态；第二驱动控制器，用于响应于控制信号，控制驱动触发器驱动电磁阀处于第二状态；驱动锁控电路，包括：第一延时控制器，连接所述驱动触发器，用于响应于所述驱动信号产生第二电平至第一电平的第一信号沿，输出对应排斥机构的启动后锁定时长的第一延时控制信号；第二延时控制器，连接所述驱动触发器，用于响应于所述驱动信号产生与所述第一信号沿相反的第二信号沿，输出对应排斥机构的关闭后锁定时长的第二延时控制信号；逻辑运算电路，连接所述驱动锁控电路、所述第一驱动控制器和第二驱动控制器、以及用于接收金属探测信号的触发信号端，用于响应于所述第一延时控制信号、第二延时控制信号及金属探测信号，对第一延时控制信号、第二延时控制信号及金属探测信号进行逻辑运算，以得到对第一驱动控制器和第二驱动控制器的控制信号；所述逻辑运算用于在电磁阀处于第一状态后的第一预设时长内屏蔽所述金属探测信号对所述控制信号的影响，以及用于在电磁阀处于第二状态后的第二预设时长内屏蔽所述金属探测信号对所述控制信号的影响，实现对所述驱动控制电路在所述第一预设时长及第二预设时长内的封锁。2.根据权利要求1所述的控制电路系统，其特征在于，所述驱动触发器包括：时钟端、第一控制端、第二控制端、第三控制端、第一输出端、及第二输出端；所述第二输出端为第一输出端的反相端，所述第一输出端连接至电磁阀；所述第二输出端连接至所述第一延时控制器的第一触发端、以及经反相器连接所述第二延时控制器的第二触发端，所述第一触发端和第二触发端为第一电平至第二电平的信号沿有效；所述第一控制端接第二电平，所述第二控制端连接所述第二驱动控制器的输出端；所述第三控制端连接第一电平；当所述第一控制端和第二控制端为相反电平时，令所述第一输出端维持输出第二电平；所述第一控制端和第二控制端为相同电平时，所述第一输出端在时钟信号的每个预设信号沿到来时跟随第三控制端输出第一电平；所述时钟端连接所述第一驱动控制器的输出端，用于以第一驱动控制器的输出作为时钟信号。3.根据权利要求1所述的控制电路系统，其特征在于，所述第一驱动控制器和第二驱动控制器均为具有单稳态模式的信号触发器，所述信号触发器包括：单稳态触发第一端，用于基于所述控制信号的预设信号沿设置所述信号触发器处于单稳态模式；延时端、及公共端，所述延时端经电阻单元连接所述公共端；其中，所述信号触发器在所述单稳态模式下，基于所述电阻单元的电阻值设置输出的振荡信号的脉冲宽度，所述脉冲宽度用于确定驱动所述排斥机构启动或关闭动作发生前的时长。4.根据权利要求3所述的控制电路系统，其特征在于，所述电阻单元包括电位器。5.根据权利要求3所述的控制电路系统，其特征在于，所述信号触发器具有能与所述单稳态模式切换的非稳态模式，所述信号触发器包括：非稳态触发第一端、及非稳态触发第二端，在分别施加有第一电平和第二电平时，设置所述信号触发器处于非稳态模式；频率端，经电容单元连接所述公共端；其中，所述信号触发器在所述非稳态模式下，基于所述电容单元的电容值设置输出的振荡信号的频率。6.根据权利要求1所述的控制电路系统，其特征在于，所述第一延时控制器和第二延时控制器均为具有单稳态的定时器；所述定时器包括：电源端、接地端、触发端、开路集电端、阈值电压端、输出端、重置端、及控制电压端；所述触发端，基于第一电平至第二电平的信号沿触发；所述接地端接地；所述电源端连接电源电压及所述重置端，且所述电源端经第一电阻连接到开路集电端、以及经第二电阻连接到所述触发端；所述开路集电端、及阈值电压端相连并经第一电容接地；所述控制电压端经第二电容接地，具有基于所述电源端的电源电压分压得到控制电压；其中，在所述触发端触发时，令所述输出端输出第一电平以封锁所述驱动控制电路，且令所述第一电容获得充电以升高所述阈值电压端的电压；所述定时器基于所述阈值电压端的电压与所述控制电压进行比较；当所述阈值电源端在预设时长后的电压达到所述控制电压时，令所述输出端输出第二电平以解锁所述驱动控制电路；其中，所述预设时长基于所述第一电阻的阻值和第一电容的容值所确定。7.根据权利要求1所述的控制电路系统，其特征在于，所述逻辑运算电路包括：第一逻辑运算单元，基于所述对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号之间的逻辑运算生成封锁控制信号；第二逻辑运算单元，基于所述封锁控制信号和金属探测信号之间的逻辑运算生成所述控制信号；其中，所述第一逻辑运算单元基于对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号为相同低电平，输出未屏蔽所述金属探测信号的电平值的封锁控制信号至第二逻辑运算单元，以及基于对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号为相反电平，输出能屏蔽所述金属探测信号的电平值的封锁控制信号至第二逻辑运算单元。8.根据权利要求7所述的控制电路系统，其特征在于，所述第一逻辑运算单元基于所述对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号之间的与非计算得到封锁控制信号；所述第二逻辑运算单元基于所述封锁控制信号和金属探测信号之间的与非计算得到控制信号。9.根据权利要求1所述的控制电路系统，其特征在于，所述逻辑运算电路包括：第一反相器，其输入端连接在所述第一延时控制器的输出端，用于输出第一延时控制信号的反相信号；第二反相器，其输入端连接在所述第二延时控制器的输出端，用于输出第二延时控制信号的反相信号；第一与非门，其两个输入端分别连接所述第一反相器和第二反相器的输出端；第三反相器，其输入端连接所述第一与非门的输出端；第二与非门，其两个输入端分别连接所述第三反相器的输出端和触发信号端；第四反相器，其输入端连接所述第二与非门的输出端，其输出端输出所述控制信号。10.一种金属探测仪，其特征在于，包括：如权利要求1至9中任一项所述的控制电路系统。
说明书desc
技术领域本公开涉及电磁探测技术领域，尤其涉及排斥机构的控制电路系统及相应探测设备。背景技术在金属探测仪的一些应用场景中，当检测到金属异物时便会通过排斥机构将金属异物排斥掉。而这种排斥机构是由仪器发出排斥信号驱动电磁阀，带动气缸以驱使排斥机构动作，从而达到去除金属异物目的。由于金属探测仪极为灵敏，当电磁阀吸合、释放时会产生一反向电势，这个电势非常大，远大于金属探测信号的正常电压，从而被引入到金属探测仪会引起排斥机构多次反复执行排斥动作。甚至形成较长时间振荡，导致使排斥机构无法正常工作。为解决这个问题，通常采用以下方法：1、在控制触点加阻容吸收模块；2、在驱动功放管加续流二极管；3、降低仪器灵敏度；然而，以上方式只能降低电磁阀反向电势影响，而不能完全解决问题。发明内容鉴于以上所述现有技术的缺点，本公开的目的在于提供排斥机构的控制电路系统及金属探测仪，解决相关技术中的问题。本公开第一方面提供一种排斥机构的控制电路系统，应用于金属探测仪，用于控制电磁阀驱动排斥机构动作；所述控制电路系统包括：驱动触发器，连接电磁阀，用于输出驱动信号；在所述驱动信号为第一电平时，能设置电磁阀处于第一状态以驱动排斥机构启动；在所述驱动信号为与第一电平反相的第二电平时，能设置电磁阀处于第二状态以驱动排斥机构关闭；驱动控制电路，包括：第一驱动控制器，连接所述驱动触发器，用于响应于控制信号，通过驱动触发器驱动电磁阀处于第一状态；第二驱动控制器，用于响应于控制信号，控制驱动触发器驱动电磁阀处于第二状态；驱动锁控电路，包括：第一延时控制器，连接所述驱动触发器，用于响应于所述驱动信号产生第二电平至第一电平的第一信号沿，输出对应排斥机构的启动后锁定时长的第一延时控制信号；第二延时控制器，连接所述驱动触发器，用于响应于所述驱动信号产生与所述第一信号沿相反的第二信号沿，输出对应排斥机构的关闭后锁定时长的第二延时控制信号；逻辑运算电路，连接所述驱动锁控电路、所述第一驱动控制器和第二驱动控制器、以及用于接收金属探测信号的触发信号端，用于响应于所述第一延时控制信号、第二延时控制信号及金属探测信号，对第一延时控制信号、第二延时控制信号及金属探测信号进行逻辑运算，以得到对第一驱动控制器和第二驱动控制器的控制信号；所述逻辑运算用于在电磁阀处于第一状态后的第一预设时长内屏蔽所述金属探测信号对所述控制信号的影响，以及用于在电磁阀处于第二状态后的第二预设时长内屏蔽所述金属探测信号对所述控制信号的影响，实现对所述驱动控制电路在所述第一预设时长及第二预设时长内的封锁。在第一方面的实施例中，所述驱动触发器包括：时钟端、第一控制端、第二控制端、第三控制端、第一输出端、及第二输出端；所述第二输出端为第一输出端的反相端，所述第一输出端连接至电磁阀；所述第二输出端连接至所述第一延时控制器的第一触发端、以及经反相器连接所述第二延时控制器的第二触发端，所述第一触发端和第二触发端为第一电平至第二电平的信号沿有效；所述第一控制端接第二电平，所述第二控制端连接所述第二驱动控制器的输出端；所述第三控制端连接第一电平；当所述第一控制端和第二控制端为相反电平时，令所述第一输出端维持输出第二电平；所述第一控制端和第二控制端为相同电平时，所述第一输出端在时钟信号的每个预设信号沿到来时跟随第三控制端输出第一电平；所述时钟端连接所述第一驱动控制器的输出端，用于以第一驱动控制器的输出作为时钟信号。在第一方面的实施例中，所述第一驱动控制器和第二驱动控制器均为具有单稳态模式的信号触发器，所述信号触发器包括：单稳态触发第一端，用于基于所述控制信号的预设信号沿设置所述信号触发器处于单稳态模式；延时端、及公共端，所述延时端经电阻单元连接所述公共端；其中，所述信号触发器在所述单稳态模式下，基于所述电阻单元的电阻值设置输出的振荡信号的脉冲宽度，所述脉冲宽度用于确定驱动所述排斥机构启动或关闭动作发生前的时长。在第一方面的实施例中，所述电阻单元包括电位器。在第一方面的实施例中，所述信号触发器具有能与所述单稳态模式切换的非稳态模式，所述信号触发器包括：非稳态触发第一端、及非稳态触发第二端，在分别施加有第一电平和第二电平时，设置所述信号触发器处于非稳态模式；频率端，经电容单元连接所述公共端；其中，所述信号触发器在所述非稳态模式下，基于所述电容单元的电容值设置输出的振荡信号的频率。在第一方面的实施例中，所述第一延时控制器和第二延时控制器均为具有单稳态的定时器；所述定时器包括：电源端、接地端、触发端、开路集电端、阈值电压端、输出端、重置端、及控制电压端；所述触发端，基于第一电平至第二电平的信号沿触发；所述接地端接地；所述电源端连接电源电压及所述重置端，且所述电源端经第一电阻连接到开路集电端、以及经第二电阻连接到所述触发端；所述开路集电端、及阈值电压端相连并经第一电容接地；所述控制电压端经第二电容接地，具有基于所述电源端的电源电压分压得到控制电压；其中，在所述触发端触发时，令所述输出端输出第一电平以封锁所述驱动控制电路，且令所述第一电容获得充电以升高所述阈值电压端的电压；所述定时器基于所述阈值电压端的电压与所述控制电压进行比较；当所述阈值电源端在预设时长后的电压达到所述控制电压时，令所述输出端输出第二电平以解锁所述驱动控制电路；其中，所述预设时长基于所述第一电阻的阻值和第一电容的容值所确定。在第一方面的实施例中，所述逻辑运算电路包括：第一逻辑运算单元，基于所述对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号之间的逻辑运算生成封锁控制信号；第二逻辑运算单元，基于所述封锁控制信号和金属探测信号之间的逻辑运算生成所述控制信号；其中，所述第一逻辑运算单元基于对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号为相同低电平，输出未屏蔽所述金属探测信号的电平值的封锁控制信号至第二逻辑运算单元，以及基于对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号为相反电平，输出能屏蔽所述金属探测信号的电平值的封锁控制信号至第二逻辑运算单元。在第一方面的实施例中，所述第一逻辑运算单元基于所述对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号之间的与非计算得到封锁控制信号；所述第二逻辑运算单元基于所述封锁控制信号和金属探测信号之间的与非计算得到控制信号。在第一方面的实施例中，所述逻辑运算电路包括：第一反相器，其输入端连接在所述第一延时控制器的输出端，用于输出第一延时控制信号的反相信号；第二反相器，其输入端连接在所述第二延时控制器的输出端，用于输出第二延时控制信号的反相信号；第一与非门，其两个输入端分别连接所述第一反相器和第二反相器的输出端；第三反相器，其输入端连接所述第一与非门的输出端；第二与非门，其两个输入端分别连接所述第三反相器的输出端和触发信号端；第四反相器，其输入端连接所述第二与非门的输出端，其输出端输出所述控制信号。本公开第二方面提供一种金属探测仪，包括：如第一方面中任一项所述的控制电路系统。如上所述，本公开实施例中的排斥机构的控制电路系统及金属探测仪，电路包括：驱动触发器、驱动控制电路、驱动锁控电路及逻辑运算电路；所述控制电路系统包括第一和第二驱动控制器分别对应对排斥机构的启动和关闭的驱动；所述驱动锁控电路包括第一和第二延时控制器，输出相应第一和第二延时控制信号，经所述逻辑运算电路同金属探测信号逻辑运算以控制第一、第二驱动控制电路，实现在排斥机构由金属探测信号触发的启动和关闭动作发生时，在基于两个延时控制信号在逻辑运算中对金属探测信号实现预设时长的屏蔽实现对驱动控制电路封锁。从而能全部隔离了电磁阀反向电势干扰，排斥机构可以正常工作，提升产品可靠性。附图说明图1展示本公开一实施例中驱动控制电路的电路模块示意图。图2展示本公开一实施例中驱动触发器的端口示意图。图3展示本公开一实施例中信号触发器的端口示意图。图4展示本公开一实施例中定时器的端口示意图。图5展示本公开一实施例中逻辑运算电路的电路原理示意图。图6展示本公开一实施例中驱动控制电路的电路原理示意图。具体实施方式以下通过特定的具体示例说明本公开的实施方式，本领域技术人员可由本公开所揭露的消息轻易地了解本公开的其他优点与功效。本公开还可以通过另外不同的具体实施方式加以实施或应用模块，本公开中的各项细节也可以根据不同观点与应用模块，在没有背离本公开的精神下进行各种修饰或改变。需说明的是，在不冲突的情况下，本公开中的实施例及实施例中的特征可以相互组合。下面以附图为参考，针对本公开的实施例进行详细说明，以便本公开所属技术领域的技术人员能够容易地实施。本公开可以以多种不同形态体现，并不限定于此处说明的实施例。在本公开的表示中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的表示意指结合该实施例或示例表示的具体特征、结构、材料或者特点包括于本公开的至少一个实施例或示例中。而且，表示的具体特征、结构、材料或者特点可以在任一个或一组实施例或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本公开中表示的不同实施例或示例以及不同实施例或示例的特征进行结合和组合。此外，术语“第一”、“第二”仅用于表示目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或隐含地包括至少一个该特征。在本公开的表示中，“一组”的含义是两个或两个以上，除非另有明确具体的限定。为了明确说明本公开，省略与说明无关的器件，对于通篇说明书中相同或类似的构成要素，赋予了相同的参照符号。在通篇说明书中，当说某器件与另一器件“连接”时，这不仅包括“直接连接”的情形，也包括在其中间把其它元件置于其间而“间接连接”的情形。另外，当说某种器件“包括”某种构成要素时，只要没有特别相反的记载，则并非将其它构成要素排除在外，而是意味着可以还包括其它构成要素。虽然在一些示例中术语第一、第二等在本文中用来表示各种元件，但是这些元件不应当被这些术语限制。这些术语仅用来将一个元件与另一个元件进行区分。例如，第一接口及第二接口等表示。再者，如同在本文中所使用的，单数形式“一”、“一个”和“该”旨在也包括复数形式，除非上下文中有相反的指示。应当进一步理解，术语“包含”、“包括”表明存在所述的特征、步骤、操作、元件、模块、项目、种类、和/或组，但不排除一个或一组其他特征、步骤、操作、元件、模块、项目、种类、和/或组的存在、出现或添加。此处使用的术语“或”和“和/或”被解释为包括性的，或意味着任一个或任何组合。因此，“A、B或C”或者“A、B和/或C”意味着“以下任一个：A；B；C；A和B；A和C；B和C；A、B和C”。仅当元件、功能、步骤或操作的组合在某些方式下内在地互相排斥时，才会出现该定义的例外。此处使用的专业术语只用于言及特定实施例，并非意在限定本公开。此处使用的单数形态，只要语句未明确表示出与之相反的意义，那么还包括复数形态。在说明书中使用的“包括”的意义是把特定特性、区域、整数、步骤、作业、要素及/或成份具体化，并非排除其它特性、区域、整数、步骤、作业、要素及/或成份的存在或附加。虽然未不同地定义，但包括此处使用的技术术语及科学术语，所有术语均包括一与本公开所属技术领域的技术人员一般理解的意义相同的意义。普通使用的字典中定义的术语追加解释为包括一与相关技术文献和当前提示的消息相符的意义，只要未进行定义，不得过度解释为理想的或非常公式性的意义。目前，在一些场景下，会利用金属探测仪检测金属异物，并由检测到金属异物触发控制电磁阀驱动排斥机构将金属异物排斥掉。然而，由于电磁阀在吸合和释放时会产生远大于金属探测信号的正常电压，会被探测灵敏的金属探测仪检测到，而导致驱动排斥多次反复执行排斥动作，甚至无法正常工作。通常采用的解决此问题的多种方式，只能降低该反向电势的影响，并不能完全解决该反向电势的问题。电磁阀反向电势影响主要在于释放电磁阀时，会产生反向电势，从而产生干扰。鉴于此，申请人在深入研究该技术问题之后，提出解决该技术问题的发明思想，在释放电磁阀时，可以抢先封住驱动控制电路预设时长，使之不接受下一个干扰信号，从而切断电磁阀干扰通路。由此，本公开实施例中提供一种排斥机构的控制电路系统，以解决相关技术中的问题。如图1所示，展示本公开一实施例中的排斥机构的控制电路系统的模块示意图。所述驱动控制电路应用于金属探测仪，用于控制电磁阀驱动排斥机构动作。在图1中，所述控制电路系统包括：驱动触发器10、驱动控制电路11、驱动锁控电路12、以及逻辑运算电路13。所述驱动触发器10连接电磁阀14，用于输出驱动信号。在所述驱动信号为第一电平时，能设置电磁阀14处于第一状态以驱动排斥机构15启动。在所述驱动信号为与第一电平反相的第二电平时，能设置电磁阀14处于第二状态以驱动排斥机构15关闭。示例性地，所述第一电平可以为高电平，所述第二电平可以为低电平。当然，在其它实施例中也可以进行变化，在具体实现上的差异在于增加反相器。所述驱动控制电路11包括第一驱动控制器111和第二驱动控制器112。所述第一驱动控制器111连接所述驱动触发器10，用于响应于控制信号，通过驱动触发器10驱动电磁阀14处于第一状态。示例性地，所述第一状态可以是吸合状态，电磁阀14吸合状态下，可以驱动排斥机构15启动，执行排斥动作。所述第二驱动控制器112，用于响应于控制信号，控制驱动触发器10驱动电磁阀14处于第二状态。示例性地，所述第二状态可以是释放状态，电磁阀14释放状态下，可以驱动排斥机构15关闭，停止排斥动作。所述驱动锁控电路12包括第一延时控制器121和第二延时控制器122。所述第一延时控制器121连接所述驱动触发器10，用于响应于所述驱动信号产生第二电平至第一电平的第一信号沿，输出对应排斥机构15的启动后锁定时长的第一延时控制信号。例如，所述第一延时控制器121基于驱动信号为下降沿，触发输出所述第一延时控制信号。所述第二延时控制器122，连接所述驱动触发器10，用于响应于所述驱动信号产生与所述第一信号沿相反的第二信号沿，输出对应排斥机构15的关闭后锁定时长的第二延时控制信号。例如，所述第二延时控制器122基于驱动信号为上升沿，触发输出所述第二延时控制信号。其中，可以通过一个反相器A来对所述驱动信号进行反相，以将驱动信号及其反相信号分别输入到第一延时控制器121和第二延时控制器122。所述逻辑运算电路13，连接所述驱动锁控电路12、所述第一驱动控制器111和第二驱动控制器112、以及用于接收金属探测信号的触发信号端，用于响应于所述第一延时控制信号、第二延时控制信号及金属探测信号，对第一延时控制信号、第二延时控制信号及金属探测信号进行逻辑运算，以得到对第一驱动控制器111和第二驱动控制器112的控制信号。其中，所述逻辑运算可以形成在电磁阀14处于第一状态后的第一预设时长内屏蔽所述金属探测信号对所述控制信号的影响，以及形成在电磁阀14处于第二状态后的第二预设时长内屏蔽所述金属探测信号对所述控制信号的影响，实现所述驱动控制电路11在所述第一预设时长或第二预设时长内的封锁。所述第一预设时长可以由所述第一延时控制器121利用第一延时控制信号来提供，所述第二预设时长可以由所述第二延时控制器122利用第二延时控制信号来提供。例如，第一动作延时信号中某个脉冲上升沿之后维持“1”信号值的时间来作为所述第一预设时长等。示例性地，所述第一预设时长和第二预设时长可以在1.5秒~2秒，可以根据电磁阀14动作时的反向电势的维持时间来设置。在一些实施例中，所述屏蔽所述金属探测信号的实现方式，比如将根据第一动作延时信号和第二动作延时信号逻辑运算得到封锁控制信号，将封锁控制信号与所述金属探测信号进行例如“与”运算，如果封锁控制信号在预设时长中维持为0，则金属探测信号无论是0或1，都会被屏蔽，也就能避免金属探测信号因为所述反向电势的波动对于控制信号在第一预设时长和第二预设时长内的影响，以对驱动控制电路11在驱动排斥机构15启动或关闭动作之后的两个预设时长内屏蔽所述金属探测信号的影响，即封锁驱动控制电路11。以下说明各电路部件可能的实现示例。如图2所示，展示本公开实施例中驱动触发器的电路结构示意图。在图2中，所述驱动触发器20包括：时钟端21、第一控制端22、第二控制端23、第三控制端24、第一输出端25、及第二输出端26。所述第二输出端26为第一输出端25的反相端，所述第一输出端25连接至电磁阀。所述第二输出端26连接至所述第一延时控制器的第一触发端、以及经反相器连接所述第二延时控制器的第二触发端，所述第一触发端和第二触发端为第一电平至第二电平的信号沿有效。所述第一控制端22接第二电平，所述第二控制端23连接所述第二驱动控制器的输出端。所述第三控制端24连接第一电平。当所述第一控制端22和第二控制端23为相反电平时，令所述第一输出端25维持输出第二电平；当所述第一控制端22和第二控制端23为相同电平时，所述第一输出端25在时钟信号的每个预设信号沿到来时跟随第三控制端24输出第一电平。所述时钟端21连接所述第一驱动控制器的输出端，用于以第一驱动控制器的输出作为时钟信号。示例性地，所述驱动触发器20可以例如为D触发器。进一步可选地，所述驱动触发器20可以为例如CD4013型号的芯片中的一个D触发器，1脚为Q端作为第一输出端25，2脚为Q非端作为第二输出端26，3脚为clk端即时钟端21，4脚为R端即第二控制端23，5脚为D端接电压源VDD即第三控制端24，6脚为S端即第一控制端22，14脚为电源端接VDD。当R端与S端不同时，即R为1，S为0，则Q维持0输出，Q非维持1输出；当R端与S端相同为0时，Q端跟随D端输出1，Q反相端输出0。但是，需要特别说明的是，以D触发器实现所述驱动触发器20只是一种示例，在其它实施例中，本领域技术人员可以根据实际需求进行选择，并非以此为限。在一些实施例中，所述第一驱动控制器和第二驱动控制器均为具有单稳态模式的信号触发器。如图3所示，展示本公开一实施例中所述信号触发器的结构示意图。所述信号触发器30包括：单稳态触发第一端31，用于基于所述控制信号的预设信号沿设置所述信号触发器30处于单稳态模式；延时端32、及公共端33，所述延时端32经电阻单元34连接所述公共端33；以及输出端39。其中，所述信号触发器30在所述单稳态模式下，基于所述电阻单元34的电阻值设置输出的振荡信号的脉冲宽度，所述脉冲宽度用于确定驱动所述排斥机构启动或关闭动作发生前的时长。进一步可选地，所述电阻单元34包括电位器，从而能使所述时长可调。在进一步实施例中，所述信号触发器30可以具有能与所述单稳态模式切换的非稳态模式，所述信号触发器30包括：非稳态触发第一端35、及非稳态触发第二端36，在分别施加有第一电平和第二电平时，设置所述信号触发器30处于非稳态模式；频率端37，经电容单元38连接所述公共端33；其中，所述信号触发器30在所述非稳态模式下，基于所述电容单元38的电容值设置输出的振荡信号的频率。在一些实施例中，所述信号触发器30可例如为芯片型号CD4047的多谐信号触发器30实现，其8脚Trigger+作为单稳态触发第一端31，6脚Trigger-可作为单稳态触发第二端可接地；其2脚Rtc端可作为所述延时端32，3脚RCtc端可作为所述公共端33，两者之间连接所述电阻单元34；其5脚ASTBLE端可作为非稳态触发第一端35、及6脚ASTBLE非端可作为非稳态触发第二端36；其1脚CTc端可作为所述频率端37，经电容单元38连接3脚。在本公开实施例中，可以将由CD4047实现的U1、U2接成单稳态模式以分别实现第一驱动控制器和第二驱动控制器，U1通过Q非输出端连接到驱动触发器的时钟端，U2通过Q非输出端连接到驱动触发器的第二控制端。需说明的是，U1、U2由CD4047的多谐信号振荡器实现只是一种示例，在其它实施例中也可以由其它的可以配置输出信号脉宽的信号触发器型号实现，并非以此为限。在一些实施例中，所述第一延时控制器和第二延时控制器均为具有单稳态的定时器。如图4所示，展示本公开一实施例中所述定时器的结构示意图。所述定时器40包括：电源端41、接地端42、触发端43、开路集电端44、阈值电压端45、输出端46、重置端47、及控制电压端48。所述触发端43，基于第一电平至第二电平的信号沿触发，即例如下降沿有效。所述接地端42接地。所述电源端41连接电源电压及所述重置端47，且所述电源端41经第一电阻49连接到开路集电端44、以及经第二电阻410连接到所述触发端43。所述开路集电端44、及阈值电压端45相连并经第一电容411接地；所述控制电压端48经第二电容412接地，具有基于所述电源端41的电源电压分压得到控制电压。在所述触发端43触发时，令所述定时器40的输出端46且令所述第一电容411获得充电以升高所述阈值电压端45的电压。所述定时器40内可包含比较器，基于所述阈值电压端45的电压与所述控制电压进行比较。当所述阈值电源端41在预设时长后的电压达到所述控制电压时，令所述输出端46输出第二电平以解锁所述驱动控制电路；其中，所述预设时长基于所述第一电阻49的阻值和第一电容411的容值所确定。所述预设时长即对应之前描述的第一延时控制器的第一预设时长和第一延时控制器的第二预设时长，可例如在1.5秒~2秒。在一些实施例中，所述定时器可例如由7555定时器芯片实现。1脚为GND即接地端42，2脚为TR非即低电平的触发端43，3脚为输出端46，4脚为RESET即重置端47，5脚为CONT即控制电压端48，6脚为TH端即阈值电压端45，7脚为DIS即开路集电端44，8脚为VDD即电源端41。7555按图4中连接以形成定时器，以设置所述第一预设时长和第二预设时长。在一些实施例中，所述逻辑运算电路包括：第一逻辑运算单元和第二逻辑运算单元。所述第一逻辑运算单元基于所述对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号之间的逻辑运算生成封锁控制信号。所述第二逻辑运算单元，基于所述封锁控制信号和金属探测信号之间的逻辑运算生成所述控制信号。其中，所述第一逻辑运算单元基于对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号为相同低电平，相同电平可对应于所述排斥机构，输出未屏蔽所述金属探测信号的电平值的封锁控制信号至第二逻辑运算单元，以及基于对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号为相反电平，输出能屏蔽所述金属探测信号的电平值的封锁控制信号至第二逻辑运算单元。所述逻辑运算为布尔逻辑运算，包括例如与、或、非、与非、或非、异或等。在一些实施例中，所述第一逻辑运算单元基于所述对应排斥机构启动后锁定时长的第一延时控制信号和第二延时控制信号之间的与非计算得到封锁控制信号。所述第二逻辑运算单元基于所述封锁控制信号和金属探测信号之间的与非计算得到控制信号。作为示例，可以参考图5所示，展示本公开一实施例中逻辑运算电路的结构示意图。所述逻辑运算电路50包括：第一反相器51、第二反相器52、第一与非门53、第三反相器54、第二与非门55、及第四反相器56。第一反相器51，其输入端连接在所述第一延时控制器的输出端，用于输出第一延时控制信号的反相信号。第二反相器52，其输入端连接在所述第二延时控制器的输出端，用于输出第二延时控制信号的反相信号。第一与非门53，其两个输入端分别连接所述第一反相器51和第二反相器52的输出端。第三反相器54，其输入端连接所述第一与非门53的输出端，其输出端可以输出所述封锁控制信号。第二与非门55，其两个输入端分别连接所述第三反相器54的输出端和触发信号端。第四反相器56，其输入端连接所述第二与非门55的输出端，其输出端输出所述控制信号。根据以上逻辑结构可知，当未探测到金属时候，金属探测信号电平为0，对应排斥机构未启动；驱动触发器的反相输出端电平未变化，第一延时控制器和第二延时控制器均不会被触发，第一延时控制信号和第二延时控制信号为相同0，经第一反相器51和第二反相器52输出均为1；第一与非门53以2个1为输入，则输出0；经第三反相器54输出1作为封锁控制信号，与金属探测信号一并输入到第二与非门55，此时封锁控制信号的电平值1未能对金属探测信号起到屏蔽作用。反之，当探测到金属时候，金属探测信号电平从0变化到1，驱动触发器的输出端从0变化为1，反相输出从1变化为0形成下降沿；或者继续变化为探测不到金属时，金属探测信号电平从1变化到0，驱动触发器的输出端从1变化为0，反相输出从0变化为1形成上升沿。由于第一延时控制器和第二延时控制器是基于驱动触发器的反相输出端的不同信号沿启动，则当发生以上两种情形时，第一延时控制信号和第二延时控制信号的电平值会不同，比如第一延时控制信号为1，第二延时控制信号为0。由此，基于两个输入电平不同，第一与非门53都会输出1；经第三反相器54输出0作为封锁控制信号，与金属探测信号一并输入到第二与非门55，此时封锁控制信号的电平值0能对金属探测信号起到屏蔽作用，且由第一延时控制信号和第二延时控制信号中电平为1的所维持的第一/第二预设时长来控制。其中，第一延时控制信号1时，对应为由排斥机构启动事件触发第一延时控制器所形成的输出；第二延时控制信号1时，对应为由排斥机构关闭事件触发第二延时控制器所形成的输出。如图6所示，展示本公开一实施例中驱动控制电路的电路原理示意图。在图6示例中，示例性地展示驱动触发器为U3，第一驱动控制器为U1，第二驱动控制器为U2，第一延时控制器为U4，第二延时控制器为U5,，第一反相器为U6B，第二反相器为U6C，第一与非门为U7A，第三反相器为U7B，第二与非门为U7C，第四反相器为U7D。其它示例性地，U1和U2中C2、C1为双极性电容，正极连接公共端3脚RCtc，负极连接1脚CTc，TRG负即Trigger-同MR、ASTBLE一并接地，ASTBLE非接VDD；U4和U5的第一电容C10和C5选择为双极性电容，正极连接DIS端和TH端，负极接地。U1、U2分别使用的电阻单元中包含电位器VR1和VR2。U3的Q端经R3连接到N晶体管Q1的基极，Q1的集电极接VDD，发射极经反接二极管D1到地，Q1起到功率及电流放大作用，发射极连接继电器K1的线圈，以通过输出电流控制K1的开关切换，RC为阻容以用于吸收反相电流，J1为接口供连接电磁阀。U3的Q非端经反相器U6A及电容C8连接到U5的触发端，以及经电容C3连接到U4的触发端，可以在Q端电平变化时，对U4、U5提供相反信号沿。反相器U6A、U6B、U6C、U7B、U7D可以由与非门的两个输入端相连所形成。整体性地说明电路原理。电路中U1是控制排斥机构多长时间以后打开，U2是控制排斥机构多长时间以后关闭，U3是触发排斥机构打开与关闭的，U4结合U6与U7的作用是控制排斥机构打开也就是电磁阀吸合后的第一预设时长内封住驱动控制电路，U5的作用是控制排斥机构关闭也就是电磁阀释放后的第二预设时长内封住驱动控制电路，这两个预设时长可以都是1.5~2秒。当未检测到金属，对应的电路中金属探测信号为低电平，U7C的8脚位低电平，而此时U5和U4的输出端都为低电平，经过U6B和U6C与非门后都变为高电平，两个高电平经过U7A与非门之后U7A的3脚输出是低电平，再经过U7B反向变为高电平，此时U7C的两个输入端8脚为低电平，9脚为高电平，所以U7C的10脚输出为高电平，然后经过U7D的反向变为低电平，这个时候U1和U2都不触发，所以排斥机构不动作。当探测到金属，对应的电路中金属探测信号为高电平，U7C的8脚位高电平，而此时一开始U5和U4的输出端都为低电平，经过U6B和U6C与非门后都变为高电平，两个高电平经过U7A与非门之后U7A的3脚输出是低电平，再经过U7B反向变为高电平，此时U7C的两个输入端8脚为高电平，9脚为高电平，所以U7C的10脚输出为低电平，然后经过U7D的反向变为高电平，这个时候U1和U2都触发，U1触发排斥机构开始动作电磁阀吸合，U3A的2脚输出由高电平变为低电平，这个信号触发了U4工作，此时U4的3脚输出变为高电平，经过U6B反向，U6B的4脚变为低电平，而此时无论U5是否有输出信号，也就是无论U6C的10脚是高电平或是低电平，U7A的3脚输出都是高电平，再经过U7B反向U7B的4脚输出为低电平，因此此时无论是否有反向电势引起的触发信号，也就是无论U7C的8脚时高电平或者低电平，U7C的10脚输出都一定是高电平，然后经过U7D的反向U7D的11脚输出为低电平，那么U1和U2都不工作，所以此时即使因为电磁阀吸合产生反向电势引起触发信号，但是都不会触发排斥机构。当U2的11脚输出维持一段时间后，输出信号恢复，此时排斥机构关闭，电磁阀释放，U3A的2脚输出由低电平变为高电平，经过U6A反向，这个信号触发了U5工作，此时U5的3脚输出变为高电平，经过U6C反向，U6C的10脚变为低电平，而此时无论U4是否有输出信号，U6B的4脚无论是高电平或是低电平，U7A的3脚输出都是高电平，再经过U7B反向变为U7B的4脚输出为低电平，因此此时无论是否有反向电势引起的触发信号，也就是无论U7C的8脚时高电平或者低电平，U7C的10脚输出都一定是高电平，然后经过U7D的反向变为低电平，U1和U2都不工作，所以此时即使因为电磁阀释放产生反向电势引起触发信号，但是都不会触发排斥机构。由此，可以实现在驱动排斥机构启动或关闭时，对电磁阀切换不同状态下的反向电势进行一定预设时长的屏蔽，从而有效避免了排斥机构的异常动作。本公开再一实施例中还可以提供一种金属探测仪，包括：如以上任一实施例中所述的排斥机构的控制电路系统。综上所述，本公开实施例中的排斥机构的控制电路系统及金属探测仪，电路包括：驱动触发器、驱动控制电路、驱动锁控电路及逻辑运算电路；所述控制电路系统包括第一和第二驱动控制器分别对应对排斥机构的启动和关闭的驱动；所述驱动锁控电路包括第一和第二延时控制器，输出相应第一和第二延时控制信号，经所述逻辑运算电路同金属探测信号逻辑运算以控制第一、第二驱动控制电路，实现在排斥机构由金属探测信号触发的启动和关闭动作发生时，在基于两个延时控制信号在逻辑运算中对金属探测信号实现预设时长的屏蔽实现对驱动控制电路封锁。从而能全部隔离了电磁阀反向电势干扰，排斥机构可以正常工作，提升产品可靠性。上述实施例仅例示性说明本公开的原理及其功效，而非用于限制本公开。任何熟悉此技术的人士皆可在不违背本公开的精神及范畴下，对上述实施例进行修饰或改变。因此，举凡所属技术领域中包括一通常知识者在未脱离本公开所揭示的精神与技术思想下所完成的一切等效修饰或改变，仍应由本公开的权利要求所涵盖。
