标题title
一种短信通道智能化自适应选择方法
摘要abst
本发明涉及信息通信技术领域，具体涉及一种短信通道智能化自适应选择方法。该方法包括：获取短信通道中短信的文本数据；计算短信中字符的关联性，并获取字符的关键度；根据字符的关键度获取字符串必要性，获取短信中的字符串；对字符串和字符进行敏感词匹配获取最大匹配度，根据最大匹配度聚类判断匹配成功或失败的字符串，以此获取短信的初始敏感度；根据短信语句中字符串的关联性、关键度、最大匹配度获取语句的敏感相似度；并以此获取短信的语境敏感度，根据语境敏感度获取实际敏感度，并由此获取短信通道的历史发送成功率和短信通道的质量评估值，完成短信通道选择。本发明通过考虑字符的敏感性优化了短信通道的选择，提高了发送成功率。
权利要求书clms
1.一种短信通道智能化自适应选择方法，其特征在于，该方法包括以下步骤：获取短信通道中短信的文本数据；所述短信的文本数据为若干字符构成；通过GloVe词向量模型获取短信中任意两个字符的关联性；根据短信中字符出现的频率以及字符之间的关联性获取字符的关键度；根据字符之间的关联性和字符之间的关键度差异获取字符之间的字符串必要性，并根据字符串必要性将短信分割为若干字符和字符串；预设敏感词汇库，使用Trie树保存敏感词汇库中的敏感词汇；将短信分割后的字符和字符串都记为标准字符串，根据标准字符串与Trie树中的敏感词汇的匹配获取标准字符串的最大匹配度，并基于所有标准字符串的最大匹配度将标准字符串分类；根据标准字符串的分类结果以及标准字符串的最大匹配度获取短信的初始敏感度；根据短信中标点符号将短信划分为若干语句；根据语句之间标准字符串的关联性，标准字符串的最大匹配度差异和标准字符串的关键度获取语句之间的敏感相似度；根据语句中匹配成功的标准字符串的数量、标准字符串之间的距离以及语句之间的敏感相似度获取短信的语境敏感度，将短信的语境敏感度和初始敏感度的乘积记为短信的实际敏感度；根据短信的实际敏感度及短信通道发送的短信数量获取短信通道的历史发送成功率；根据短信通道的历史发送成功率、短信通道的带宽、短信的发送时间和接收时间获取短信通道的质量评估值；并基于短信通道的质量评估值选择短信通道，完成短信发送。2.如权利要求1所述的一种短信通道智能化自适应选择方法，其特征在于，所述根据短信中字符出现的频率以及字符之间的关联性获取字符的关键度的方法为：将短信中任意一个字符记为目标字符，将目标字符与短信中其余任意一个字符的关联性记为第一关联性；将目标字符在短信中的频次与短信中所有字符的数量的比值作为目标字符出现的频率，将目标字符与短信中其余所有字符的第一关联性的累加和记为第一和值，将第一和值与目标字符出现的频率的乘积记为目标字符的关键度。3.如权利要求2所述的一种短信通道智能化自适应选择方法，其特征在于，所述根据字符之间的关联性和字符之间的关键度差异获取字符之间的字符串必要性，并根据字符串必要性将短信分割为若干字符和字符串的方法为：将目标字符相邻的上一个字符和相邻的下一个字符记为目标字符的邻近字符；计算目标字符和目标字符的邻近字符的关键度的差值绝对值，将所述差值绝对值记为第一绝对值；将目标字符和目标字符的邻近字符的关联性记为第二关联性；将第一绝对值和第二关联性的比值记为第一比值；将第一比值取负号使用预设指数函数计算获取目标字符和目标字符的邻近字符的字符串必要性；当字符串必要性大于等于预设阈值时，将目标字符和目标字符的邻近字符看做一个字符串；对于短信中的每个字符与其的邻近字符计算字符串必要性，并判断字符与其邻近字符是否为一个字符串，若一个字符与其两个邻近字符的字符串必要性都大于预设阈值，则此三个字符为一个字符串。4.如权利要求1所述的一种短信通道智能化自适应选择方法，其特征在于，所述根据标准字符串与Trie树中的敏感词汇的匹配获取标准字符串的最大匹配度的方法为：将标准字符串与Trie树中的每一个敏感词汇计算匹配度；所述匹配度的计算法方法为：若标准字符串的当前字符与敏感词汇中相同位置的字符为同一个字符，且当前字符之前的所有字符都与敏感词汇相同位置的字符相同，则匹配度加一，从标准字符串的第一个字符开始遍历和敏感词汇对比，直到相同位置标准字符串和敏感词汇的字符不同位置，由此获取了标准字符串的匹配度；将标准字符串和Trie树中所有敏感词汇的匹配度的最大值记为标准字符串的最大匹配度。5.如权利要求1所述的一种短信通道智能化自适应选择方法，其特征在于，所述基于所有标准字符串的最大匹配度将标准字符串分类的方法为：对所有标准字符串使用K-means聚类算法聚类，聚类的类别设置为2，聚类的距离为标准字符串之间的最大匹配度的差值绝对值，将所有标准字符串分为两类；计算每一类所有标准字符串的最大匹配值的均值，将其中最大的均值对应的类簇记为第一类簇，第一类簇为匹配成功的标准字符串；将其中最小的均值对应的类簇记为第二类簇，第一类簇为匹配失败的标准字符串。6.如权利要求1所述的一种短信通道智能化自适应选择方法，其特征在于，所述根据标准字符串的分类结果以及标准字符串的最大匹配度构建短信的初始敏感度的方法为：对于一条短信，将短信中所有字符的数量与匹配失败的字符的数量的差值记为第一差值，将第一差值与短信中所有字符的数量记为第一成功比；若标准字符串为字符串，则其关键度为字符串中所有字符的关键度的均值；将每个匹配成功的标准字符串的关键度与其最大匹配度的乘积记为第一成功乘积；将所有匹配成功的第一成功乘积的累加和与第一成功比的乘积作为短信的初始敏感度。7.如权利要求1所述的一种短信通道智能化自适应选择方法，其特征在于，所述根据语句之间标准字符串的关联性，标准字符串的最大匹配度差异和标准字符串的关键度获取语句之间的敏感相似度的方法为：式中，表示第/＞个标准字符串与第/＞个标准字符串的关联性，/＞表示第/＞个标准字符串的最大匹配度，/＞表示第/＞个标准字符串的最大匹配度，/＞表示第/＞个标准字符串的关键度，/＞表示第/＞个标准字符串的关键度，/＞表示最小值函数，/＞表示语句/＞中匹配成功的标准字符串的数量，/＞表示语句/＞中匹配成功的标准字符串的数量，/＞表示语句/＞和语句/＞的敏感相似度，/＞表示极小正数；所述标准字符串的关联性同样使用GloVe词向量模型获取。8.如权利要求1所述的一种短信通道智能化自适应选择方法，其特征在于，所述根据语句中匹配成功的标准字符串的数量、标准字符串之间的距离以及语句之间的敏感相似度获取短信的语境敏感度的方法为：将任意一个语句记为目标语句，将目标语句和其余语句的敏感相似度的最大值记为目标语句的最大敏感相似度；对于目标语句中任意一个标准字符串与其余标准字符串的距离的最小值记为任意一个标准字符串的最小邻近距离；将目标语句中所有标准字符串的最大邻近距离的倒数的累加和记为第一距离和，目标语句的最大敏感相似度、匹配成功的标准字符串的数量、第一距离和的乘积记为第一敏感值；将短信中所有语句的第一敏感值的累加值作为短信的语境敏感度。9.如权利要求1所述的一种短信通道智能化自适应选择方法，其特征在于，所述根据短信的实际敏感度及短信通道发送的短信数量获取短信通道的历史发送成功率的方法为：对于每个短信通道，将短信通道中发送成功的历史短信的数量与发送的所有历史短信的数量的比值记为第二成功比；将短信通道中发送失败的历史短信的实际敏感度的累加和与第二成功比的乘积进行归一化，所述归一化值为短信通道的历史发送成功率。10.如权利要求1所述的一种短信通道智能化自适应选择方法，其特征在于，所述根据短信通道的历史发送成功率、短信通道的带宽、短信的发送时间和接收时间获取短信通道的质量评估值的方法为：式中，表示短信通道的历史发送成功率，/＞表示短信通道的带宽容量，/＞表示短信通道的第v条历史短信的接收时间，/＞表示短信通道的第v条历史短信的发送时间，/＞表示短信通道所发送的历史短信的数量，/＞表示短信通道中发送失败的历史短信的数量，/＞表示以自然常数为底的指数函数，/＞表示短信通道的质量评估值。
说明书desc
技术领域本发明涉及信息通信技术领域，具体涉及一种短信通道智能化自适应选择方法。背景技术短信的应用已经融入到人们的生活各种场景中，生活中，网上购物，消费提醒离不开短信；工作中，注册账号，客户维护离不开短信，其实无论是什么公司，都是需要短信、语音电话类配合为用户提供通知服务的，而无论是短信，还是语音，都需要运营商的接口提供，服务商的开发服务的。而在在运维领域，短信通道质量直接影响着企业的服务质量。在短信市场中，多数短信服务商是资源售卖型，而非技术服务型，研究数据表明，单条短信通道的成功率在93%左右，而一旦短信通道堵塞，失败率高达20%或者更糟。故在收到短信请求时，通过对短信通道的监控自适应选择合适的短信通道，可以有效的提高短信的发送效率。发明内容为了解决选择错误的短信通道导致短信发送效率低的技术问题，本发明提供了一种短信通道智能化自适应选择方法，所采用的技术方案具体如下：本发明提出了一种短信通道智能化自适应选择方法，该方法包括以下步骤：获取短信通道中短信的文本数据；所述短信的文本数据为若干字符构成；通过GloVe词向量模型获取短信中任意两个字符的关联性；根据短信中字符出现的频率以及字符之间的关联性获取字符的关键度；根据字符之间的关联性和字符之间的关键度差异获取字符之间的字符串必要性，并根据字符串必要性将短信分割为若干字符和字符串；预设敏感词汇库，使用Trie树保存敏感词汇库中的敏感词汇；将短信分割后的字符和字符串都记为标准字符串，根据标准字符串与Trie树中的敏感词汇的匹配获取标准字符串的最大匹配度，并基于所有标准字符串的最大匹配度将标准字符串分类；根据标准字符串的分类结果以及标准字符串的最大匹配度获取短信的初始敏感度；根据短信中标点符号将短信划分为若干语句；根据语句之间标准字符串的关联性，标准字符串的最大匹配度差异和标准字符串的关键度获取语句之间的敏感相似度；根据语句中匹配成功的标准字符串的数量、标准字符串之间的距离以及语句之间的敏感相似度获取短信的语境敏感度，将短信的语境敏感度和初始敏感度的乘积记为短信的实际敏感度；根据短信的实际敏感度及短信通道发送的短信数量获取短信通道的历史发送成功率；根据短信通道的历史发送成功率、短信通道的带宽、短信的发送时间和接收时间获取短信通道的质量评估值；并基于短信通道的质量评估值选择短信通道，完成短信发送。优选的，所述根据短信中字符出现的频率以及字符之间的关联性获取字符的关键度的方法为：将短信中任意一个字符记为目标字符，将目标字符与短信中其余任意一个字符的关联性记为第一关联性；将目标字符在短信中的频次与短信中所有字符的数量的比值作为目标字符出现的频率，将目标字符与短信中其余所有字符的第一关联性的累加和记为第一和值，将第一和值与目标字符出现的频率的乘积记为目标字符的关键度。优选的，所述根据字符之间的关联性和字符之间的关键度差异获取字符之间的字符串必要性，并根据字符串必要性将短信分割为若干字符和字符串的方法为：将目标字符相邻的上一个字符和相邻的下一个字符记为目标字符的邻近字符；计算目标字符和目标字符的邻近字符的关键度的差值绝对值，将所述差值绝对值记为第一绝对值；将目标字符和目标字符的邻近字符的关联性记为第二关联性；将第一绝对值和第二关联性的比值记为第一比值；将第一比值取负号使用预设指数函数计算获取目标字符和目标字符的邻近字符的字符串必要性；当字符串必要性大于等于预设阈值时，将目标字符和目标字符的邻近字符看做一个字符串；对于短信中的每个字符与其的邻近字符计算字符串必要性，并判断字符与其邻近字符是否为一个字符串，若一个字符与其两个邻近字符的字符串必要性都大于预设阈值，则此三个字符为一个字符串。优选的，所述根据标准字符串与Trie树中的敏感词汇的匹配获取标准字符串的最大匹配度的方法为：将标准字符串与Trie树中的每一个敏感词汇计算匹配度；所述匹配度的计算法方法为：若标准字符串的当前字符与敏感词汇中相同位置的字符为同一个字符，且当前字符之前的所有字符都与敏感词汇相同位置的字符相同，则匹配度加一，从标准字符串的第一个字符开始遍历和敏感词汇对比，直到相同位置标准字符串和敏感词汇的字符不同位置，由此获取了标准字符串的匹配度；将标准字符串和Trie树中所有敏感词汇的匹配度的最大值记为标准字符串的最大匹配度。优选的，所述基于所有标准字符串的最大匹配度将标准字符串分类的方法为：对所有标准字符串使用K-means聚类算法聚类，聚类的类别设置为2，聚类的距离为标准字符串之间的最大匹配度的差值绝对值，将所有标准字符串分为两类；计算每一类所有标准字符串的最大匹配值的均值，将其中最大的均值对应的类簇记为第一类簇，第一类簇为匹配成功的标准字符串；将其中最小的均值对应的类簇记为第二类簇，第一类簇为匹配失败的标准字符串。优选的，所述根据标准字符串的分类结果以及标准字符串的最大匹配度构建短信的初始敏感度的方法为：对于一条短信，将短信中所有字符的数量与匹配失败的字符的数量的差值记为第一差值，将第一差值与短信中所有字符的数量记为第一成功比；若标准字符串为字符串，则其关键度为字符串中所有字符的关键度的均值；将每个匹配成功的标准字符串的关键度与其最大匹配度的乘积记为第一成功乘积；将所有匹配成功的第一成功乘积的累加和与第一成功比的乘积作为短信的初始敏感度。优选的，所述根据语句之间标准字符串的关联性，标准字符串的最大匹配度差异和标准字符串的关键度获取语句之间的敏感相似度的方法为：式中，表示第/＞个标准字符串与第/＞个标准字符串的关联性，/＞表示第/＞个标准字符串的最大匹配度，/＞表示第/＞个标准字符串的最大匹配度，/＞表示第个标准字符串的关键度，/＞表示第/＞个标准字符串的关键度，/＞表示最小值函数，表示语句/＞中匹配成功的标准字符串的数量，/＞表示语句/＞中匹配成功的标准字符串的数量，/＞表示语句/＞和语句/＞的敏感相似度，/＞表示极小正数；所述标准字符串的关联性同样使用GloVe词向量模型获取。优选的，所述根据语句中匹配成功的标准字符串的数量、标准字符串之间的距离以及语句之间的敏感相似度获取短信的语境敏感度的方法为：将任意一个语句记为目标语句，将目标语句和其余语句的敏感相似度的最大值记为目标语句的最大敏感相似度；对于目标语句中任意一个标准字符串与其余标准字符串的距离的最小值记为任意一个标准字符串的最小邻近距离；将目标语句中所有标准字符串的最大邻近距离的倒数的累加和记为第一距离和，目标语句的最大敏感相似度、匹配成功的标准字符串的数量、第一距离和的乘积记为第一敏感值；将短信中所有语句的第一敏感值的累加值作为短信的语境敏感度。优选的，所述根据短信的实际敏感度及短信通道发送的短信数量获取短信通道的历史发送成功率的方法为：对于每个短信通道，将短信通道中发送成功的历史短信的数量与发送的所有历史短信的数量的比值记为第二成功比；将短信通道中发送失败的历史短信的实际敏感度的累加和与第二成功比的乘积进行归一化，所述归一化值为短信通道的历史发送成功率。优选的，所述根据短信通道的历史发送成功率、短信通道的带宽、短信的发送时间和接收时间获取短信通道的质量评估值的方法为：式中，表示短信通道的历史发送成功率，/＞表示短信通道的带宽容量，/＞表示短信通道的第v条历史短信的接收时间，/＞表示短信通道的第v条历史短信的发送时间，/＞表示短信通道所发送的历史短信的数量，/＞表示短信通道中发送失败的历史短信的数量，/＞表示以自然常数为底的指数函数，/＞表示短信通道的质量评估值。本发明具有如下有益效果：本发明首先考虑到除了短信通道本身堵塞的影响会影响短信发送成功率，短信中的敏感词汇也会导致短信的发送成功率变化，因此基于短信的敏感词汇对短信发送的成功率进行优化。而在对敏感词进行计算时，考虑到字符和字符串对应不同的敏感词，因此对字符和字符串进行分开就按，通过字符的关联性和关键度获取字符串必要性判断字符串；将字符串和敏感词匹配获取匹配成功的字符串和匹配失败的字符串，基于此获取短信的初始敏感度；之后又考虑到不同字符串在不同语境下可能会有不同的意思，因此除了字符串本身的敏感性还需要结合语境分析，因此结合语境获取了实际敏感度，基于实际敏感度对短信通道中历史短信计算获取短信通道的质量评估值，根据评估值选择短信通道。通过此方法，每次发送短信时，对短信通道计算一次，短信通道会有不同的质量评估值，完成自适应短信通道的选择，提高了发送成功率。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例所提供的一种短信通道智能化自适应选择方法流程图；图2为本发明一个实施例所提供的一种短信通道智能化自适应选择方法实施流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种短信通道智能化自适应选择方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。一种短信通道智能化自适应选择方法实施例：下面结合附图具体的说明本发明所提供的一种短信通道智能化自适应选择方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种短信通道智能化自适应选择方法流程图，该方法包括以下步骤：步骤S001，获取发送短信的文本数据。统计可以使用的所有短信通道，获取短信通道中所发送的所有短信，其中所发送的短信包括发送成功的短信和发送失败的短信，统计所发送短信的文本数据。至此，获取了短信通道中所发送短信的文本数据。步骤S002，计算短信中字符之间的关联性，并通过字符之间的关联性获取字符的关键度。通过词向量模型获取字符之间的关联性，通过字符之间的关联性和字符出现的频率获取字符的关键度，通过字符的关键度和字符间的关联性即可判断是否存在字符串，保证对所有字符串进行分析。由于传统的短信通道评价往往是通过获取短信通道的历史发送成功率与当前短信通道的空闲资源而对短信通道进行评估再选择最优的短信通道进行发送。然而短信通道所拥有的资源是动态变化的，短信通道越堵塞，其实时的短信发送成功率就越小，且短信通道的发送成功率也在一定程度上受到短信的文本数据的影响。例如，若短信的文本数据中存在过多的敏感词，短信就存在发送失败的可能性，同时短信也可能因为一方被拉黑等现象的存在而导致短信发送失败。即这些短信实际的发送失败的原因不是短信通道的质量原因，故直接通过短信的发送成功率进行评估时，其实际评估效果较差。对于短信中所包含的文本数据，使用GloVe词向量模型获取文本数据中不同字符的关联性。GloVe是一种基于全局词频统计的词向量模型，其使用全局统计信息来学习词向量，利用共现矩阵来捕捉字符之间的关联性GL。GloVe词向量模型与共现矩阵为公知手段，此处不再赘述。由此获取短信的文本数据中任意两个字符的关联性。对于每条短信，计算每条短信中同一个字符出现的频次，将短信中任意一个字符记为目标字符，计算目标字符和其余字符的关联性，基于每条短信中目标字符出现的频次以及目标字符间的关联性构建目标字符对应的关键度，公式如下：式中，表示字符w出现的频次，/＞表示短信A中的字符的数量，/＞表示字符w和第i个字符的关联性，/＞表示字符w的关键度。其中字符w表示为目标字符。其中字符w和其余字符的关联性越大，频率越高，说明该字符在短信A中所蕴含的信息越重要，字符的关键度越大；字符w和其余字符的关联性越小，频率越高，说明该字符在短信A中所蕴含的信息越不重要，字符的关键度越小。至此，获取了字符的关键度。步骤S003，根据字符的关键度获取字符串必要性，获取短信中的字符串；对字符串和字符进行敏感词匹配获取最大匹配度，根据最大匹配度聚类判断匹配成功或失败的字符串，以此获取短信的初始敏感度。根据字符的关键度和字符之间的关联性获取若干字符串，对于每个字符串与敏感词库构成的数结构匹配构建每条短信的敏感度，敏感度会影响短信的发送成功率，通过敏感度对发送成功率的影响，提高了短信通道选择的准确性。由于敏感词既有字符也有字符串的形式，即敏感词存在一个字符的也存在多个字符的；因此本实施例通过字符的关键度和字符之间的关联性对短信中的字符进行自适应划分，将短信分割为多个字符和字符串。对于目标字符，将目标字符相邻的上一个字符和相邻的下一个字符记为目标字符的邻近字符，对于每个目标字符的邻近字符，根据邻近字符和目标字符的关联性以及邻近字符和目标字符的关键度获取邻近字符和目标字符之间的字符串必要性，公式如下：式中，表示字符w的关键度，/＞表示字符b的关键度，/＞表示字符b和字符w的关联性，/＞表示以自然常数为底的指数函数，/＞表示字符w和字符b之间的字符必要性，所述字符w为目标字符，字符b为目标字符的邻近字符。其中，关联性越大，字符之间越有可能构成字符串，关键度差异越小，字符之间越有可能构成字符串，因此关键度差异和关联性的比值越小，两个字符越有可能组合为字符串，两个字符之间的字符串必要性越大。在本实施例中设置必要性阈值为0.75，若字符串必要性大于等于必要性阈值，则认为两个字符串组合为字符串，若字符串必要性小于必要性阈值，则连个字符未组合为字符串。若两个字符组合为一个字符串后，两个字符中的另外一个字符与其另一个邻近字符组合为一个字符串，即同一个字符与其相邻两个字符都组合为一个字符串时，则三个字符为一个字符串。对于短信中的所有字符进行上述组合，直到每个字符都与相邻字符组合，如此将短信分割为若干字符和字符串。根据先验知识获取短信服务商预设的敏感词汇库，敏感词汇库中包含若干词汇；将敏感词汇库中的所有词汇或单个字符构建一个Trie树，通过Trie树完成短信的文本数据与敏感词汇之间的匹配。Trie树是一种多叉树结构，每个节点表示一个字符，一个字符从根节点到叶子节点的路径组合形成一个完整的敏感词汇。将短信分割后的所有字符与字符串统称为标准字符串，将标准字符串与Trie树中每个敏感词汇进行匹配，获取标准字符串与每个敏感词汇的匹配度，从中选取最大值记为标准字符串的最大匹配度。其中匹配度的获取方法为，标准字符串和敏感词汇中的每个字符按照顺序匹配，若按照顺序可以，匹配度加一，直到第一次相同位置不同值的字符停止匹配。例如：标准字符串为abcde，敏感词汇为abcte，标准字符串和敏感词汇按照顺序相同的字符为abc，第四个字符不相同，因此停止匹配，匹配度为3。对于短信中的所有标准字符串，使用K-means聚类算法进行聚类，聚类的类别设置为2，聚类距离为标准字符串之间的最大匹配度的差值绝对值，由此将短信中的标准字符串分为两类，分别计算两个类簇的所有标准字符串的最大匹配值的均值，将最大匹配值的均值大的类簇记为第一类簇，将最大匹配值的均值小的类簇记为第二类簇，则第一类簇为匹配成功的标准字符串，第二类簇为匹配失败的标准字符串。基于短信中标准字符串的匹配结果以及标准字符串的关键度构建短信的敏感度，公式如下：式中，表示短信A中的字符个数，/＞表示短信A中未匹配成功的字符的数量，/＞表示匹配成功的第p个标准字符串的关键度，/＞表示匹配成功的第p个标准字符串的最大匹配度，/＞表示第一类簇中标准字符串的数量，/＞表示短信A的敏感度，将此时计算的敏感度记为初始敏感度。其中标准字符串的关键度为标准字符串所包含的所有字符的关键度的均值；短信的敏感度越大，说明短信中蕴含敏感词汇的数量越多，可能性越大，其越有可能因为敏感词汇的原因导致短信发送不成功。至此，获取了每条短信的初始敏感度。步骤S004，根据短信语句中字符串的关联性、关键度、最大匹配度获取语句的敏感相似度；并以此获取短信的语境敏感度，根据语境敏感度获取实际敏感度，并由此获取短信通道的历史发送成功率。由于同一个字符在不同语境下往往具有不同的意义，因此直接对文本数据进行匹配进而获取其敏感度，未考虑文本数据在不同语境下的含义，进而会将具有正常含义的文本数据误判为敏感数据，导致其敏感度的实际精度较低。基于此，本实施例通过对短信的文本数据的整体语句进行分析，构建短信的语境敏感度。通过正则表达式的匹配算法识别短信中的空格字符和标点字符，通过短信中的空格字符和标点字符将短信内容分割为不同的语句，将短信中的第一个字符到第一个空格字符或标点字符中的所有字符作为第一语句，将第一语句后的第一个字符到下一个空格字符或标点字符中的所有字符作为第二语句，依此类推，将短信分割为若干语句。而短信中的敏感词汇往往会出现在短信的不同语句中看，故通过短信内标准字符串与敏感词汇的匹配度分布状况以及不同语句内容之间的相似性构建短信所对应的语境敏感度；此处以短信A为例，获取短信A中的所有语句，根据不同语句中标准字符串的关联性、标准字符串的数量以及标准字符串的最大匹配度差异获取语句之间的敏感相似度，公式如下：式中，表示第/＞个标准字符串与第/＞个标准字符串的关联性，/＞表示第/＞个标准字符串的最大匹配度，/＞表示第/＞个标准字符串的最大匹配度，/＞表示第个标准字符串的关键度，/＞表示第/＞个标准字符串的关键度，/＞表示最小值函数，表示语句/＞中匹配成功的标准字符串的数量，/＞表示语句/＞中匹配成功的标准字符串的数量，/＞表示语句/＞和语句/＞的敏感相似度，/＞表示极小正数。所述标准字符串的关联性同样使用GloVe词向量模型获取。当两个语句的标准字符串的关联性越大，语句的敏感相似度越大，标准字符串的最大匹配度差异越小，两个语句的敏感相似度越大，且当标准字符串的关键度越小，说明标准字符串的信息越不重要，其与匹配度差异的乘积对整个语句匹配的影响越小，关键度越大，说明越不可能为敏感词汇，其敏感相似度也就越小。将任意一个语句记为目标语句，计算目标语句与其余所有语句的敏感相似度，将其中的最大值记为目标语句的最大敏感相似度；将语句中匹配成功的任意一个标准字符串记为第一标准字符串，获取每个语句中第一标准字符串与同一个语句中其余匹配成功的标准字符串的距离，将其中最小值作为第一标准字符串的最小邻近距离。根据所有目标语句中匹配成功的标准字符串的数量、目标语句的最大敏感相似度以及目标语句中每个标准字符串的最小邻近距离获取短信的语境敏感度，公式如下：式中，表示第c个语句中匹配成功的标准字符串的数量，/＞表示第c个语句的最大敏感相似度，/＞表示第c个语句中第x个标准字符串的最小邻近距离，/＞表示短信的语境敏感度。将短信的初始敏感度和短信的语境敏感度的乘积作为短信的实际敏感度。对于每个短信通道中的所有短信，无论是发送成功的短信还是发送失败的短信都有相应的实际敏感度，根据发送失败的短信的数量以及其对应的实际敏感度获取短信通道的历史发送成功率，公式如下：式中，表示短信通道所发送的历史短信的数量，/＞表示短信通道中发送失败的历史短信的数量，/＞表示第u条发送失败的历史短信的实际敏感度，/＞表示短信通道的历史发送成功率，/＞表示线性归一化函数。其中表示的是短信通道发送成功的短信的比例，其越高，短信通道的历史发送成功率越高，/＞表示了发送失败短信的实际敏感度的和，该值越大，说明发送短信失败的原因是由于敏感词的影响，而非短信通道的影响，因此该值越大，短信通道的历史发送成功率越高。至此，获取了短信通道的历史发送成功率。步骤S005，根据短信通道的历史发送成功率获取短信通道的质量评估值，完成短信通道的自适应选择。获取短信通道的带宽容量以及短信发送成功时短信的发送时间和接收时间，根据短信通道的历史发送成功率、短信通道的带宽容量以及短信发送成功时短信的发送时间和接收时间获取短信通道的质量评估值，公式如下：式中，表示短信通道的历史发送成功率，/＞表示短信通道的带宽容量，/＞表示短信通道的第v条历史短信的接收时间，/＞表示短信通道的第v条历史短信的发送时间，/＞表示短信通道所发送的历史短信的数量，/＞表示短信通道中发送失败的历史短信的数量，/＞表示以自然常数为底的指数函数，/＞表示短信通道的质量评估值。短信通道的质量评估值是实时变化的，历史中每多一条短信，历史评估值就会发生变化，因此当短信服务商接收到短信请求时，选取实时短信通道质量评估值最大所对应的短信通道完成短信的发送，提高了短信服务的效率，降低了短信内容出现丢失的可能性，保证了短信的成功发送，短信通道自适应选择的实施流程图如图2所示。需要说明的是：上述本发明实施例先后顺序仅仅为了描述，不代表实施例的优劣。在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。
