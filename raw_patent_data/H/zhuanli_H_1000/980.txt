标题title
一种基于物联网的LED灯控制方法及系统
摘要abst
本发明提供了一种基于物联网的LED灯控制方法及系统，涉及LED灯控制技术领域，在目标区域内的用户许可的前提下，进行图像采集，输入图像分割模型内获得多个分割结果，获得多个用户区域图像，进行预处理并输入用户识别模型内，获得多个用户识别结果，统计多个总用户数量信息，输入显示持续时间数据库内，获得多个显示时间分析结果，通过物联网控制LED显示屏，对多个显示方案进行显示。本发明解决了目前的LED显示屏控制方法为按照预设的频率更换广告进行显示，使得无法根据不同人群进行针对性的广告显示投放，导致广告投放效果差的技术问题，实现了针对不同类别用户的数量设置不同类型广告的显示持续时间，进而提升广告投放效果。
权利要求书clms
1.一种基于物联网的LED灯控制方法，其特征在于，所述方法应用于一基于物联网的LED灯控制系统，所述系统包括基于物联网的信息采集模块、控制分析模块和LED显示屏，所述信息采集模块内包括多个图像采集装置，所述方法包括：在目标区域内的用户许可的前提下，通过所述多个图像采集装置，对所述目标区域内多个采样区域内的用户进行图像采集，获得多个采集图像；将所述多个采集图像输入基于语义分割构建的图像分割模型内，获得多个分割结果，其中，每个分割结果内包括用户区域和背景区域，所述图像分割模型包括多个图像分割单元；按照所述多个分割结果，分别对所述多个采集图像进行用户区域的划分，获得多个用户区域图像；对所述多个用户区域图像进行预处理，并输入用户识别模型内，进行不同类别用户的识别，获得多个用户识别结果，其中，每个用户识别结果内包括多种用户类别的多个数量信息，并统计获得所述多种用户类别的多个总用户数量信息；将所述多个总用户数量信息输入所述控制分析模块内的显示持续时间数据库内，获得多个显示时间分析结果；按照所述多个显示时间分析结果，通过物联网控制所述LED显示屏，对所述多种用户类别对应的多个显示方案进行显示。2.根据权利要求1所述的方法，其特征在于，将所述多个采集图像输入基于语义分割构建的图像分割模型内，获得多个分割结果，包括：根据所述多个采样区域在历史时间内采集获得的多个历史图像集合，进行图像分割和像素标记，获得多个历史分割结果集合；分别采用所述多个历史图像集合和所述多个历史分割结果集合作为构建数据，构建所述多个采样区域对应的所述多个图像分割单元；将所述多个采集图像分别输入对应的所述多个图像分割单元内，获得所述多个分割结果。3.根据权利要求2所述的方法，其特征在于，分别采用所述多个历史图像集合和所述多个历史分割结果集合作为构建数据，构建所述多个采样区域对应的所述多个图像分割单元；基于语义分割，构建所述多个采样区域内第一采样区域对应的第一图像分割单元；采用所述多个历史图像集合和所述多个历史分割结果集合中，所述第一采样区域的第一历史图像集合和第一历史分割结果集合作为第一构建数据集，对所述第一图像分割单元进行监督训练，根据实际输出和预期输出的误差，对所述第一图像分割单元的网络参数进行更新，直到达到收敛条件；对所述第一图像分割单元进行验证和测试，在符合预设条件的情况下，获得所述第一图像分割单元；继续构建获得其他的多个图像分割单元。4.根据权利要求1所述的方法，其特征在于，对所述多个用户区域图像进行预处理，并输入用户识别模型内，进行不同类别用户的识别，获得多个用户识别结果，包括：根据所述多个采样区域在历史时间内采集并进行图像分割和预处理获得的多个历史用户区域图像集合；分别对所述多个历史用户区域图像集合内的历史用户区域图像进行所述多种用户类别数量的识别，获得多个历史用户识别结果集合；采用所述多个历史用户区域图像集合和所述多个历史用户识别结果集合，构建所述用户识别模型内的多个用户识别单元，获得所述用户识别模型，所述多个用户识别单元与所述多个采样区域对应；对所述多个用户区域图像进行预处理，并输入所述多个用户识别单元内，获得所述多个用户识别结果。5.根据权利要求4所述的方法，其特征在于，采用所述多个历史用户区域图像集合和所述多个历史用户识别结果集合，构建所述用户识别模型内的多个用户识别单元，包括：基于卷积神经网络，构建所述多个用户识别单元中的第一用户识别单元的网络结构；采用所述多个历史用户区域图像集合和所述多个历史用户识别结果集合内的第一历史用户区域图像集合和第一历史用户识别结果集合，对所述第一用户识别单元进行监督训练，根据实际输出和预期输出的误差，对所述第一用户识别单元的网络参数进行更新，直到达到收敛条件；对所述第一用户识别单元进行验证和测试，若满足预设条件，则获得所述第一用户识别单元；继续构建获得其他的多个用户识别单元。6.根据权利要求1所述的方法，其特征在于，将所述多个总用户数量信息输入所述控制分析模块内的显示持续时间数据库内，获得多个显示时间分析结果，包括：获取所述多个采样区域在预设时间周期内，所述多种用户类别的平均数量；获取预设显示时间；获取样本总用户数量信息集合，并根据所述样本总用户数量信息集合内的多个样本总用户数量信息和所述平均数量的比值，对所述预设显示时间进行调整，获得样本显示时间分析结果集合；采用所述样本总用户数量信息集合和所述样本显示时间分析结果集合，构建所述显示持续时间数据库；将所述多个总用户数量信息输入所述显示持续时间数据库内，获得所述多个显示时间分析结果。7.根据权利要求6所述的方法，其特征在于，采用所述样本总用户数量信息集合和所述样本显示时间分析结果集合，构建所述显示持续时间数据库；构建所述样本总用户数量信息集合内多个样本总用户数量信息和所述样本显示时间分析结果集合内多个样本显示时间分析结果的映射关系；根据所述映射关系，获得所述显示持续时间数据库。8.一种基于物联网的LED灯控制系统，其特征在于，所述系统包括基于物联网的信息采集模块、控制分析模块和LED显示屏，所述信息采集模块内包括多个图像采集装置，所述系统包括：图像采集模块，所述图像采集模块用于在目标区域内的用户许可的前提下，通过所述多个图像采集装置，对所述目标区域内多个采样区域内的用户进行图像采集，获得多个采集图像；图像分割模块，所述图像分割模块用于将所述多个采集图像输入基于语义分割构建的图像分割模型内，获得多个分割结果，其中，每个分割结果内包括用户区域和背景区域，所述图像分割模型包括多个图像分割单元；区域划分模块，所述区域划分模块用于按照所述多个分割结果，分别对所述多个采集图像进行用户区域的划分，获得多个用户区域图像；用户识别模块，所述用户识别模块用于对所述多个用户区域图像进行预处理，并输入用户识别模型内，进行不同类别用户的识别，获得多个用户识别结果，其中，每个用户识别结果内包括多种用户类别的多个数量信息，并统计获得所述多种用户类别的多个总用户数量信息；数据分析模块，所述数据分析模块用于将所述多个总用户数量信息输入所述控制分析模块内的显示持续时间数据库内，获得多个显示时间分析结果；方案显示模块，所述方案显示模块用于按照所述多个显示时间分析结果，通过物联网控制所述LED显示屏，对所述多种用户类别对应的多个显示方案进行显示。
说明书desc
技术领域本发明涉及LED灯控制技术领域，具体涉及一种基于物联网的LED灯控制方法及系统。背景技术LED显示屏广告投放是一种数字化广告投放方式，通过在LED显示屏上展示静态或动态广告内容，实现对目标受众的宣传推广，与传统的广告媒介相比，LED显示屏广告具有亮度高、可视距离远、灵活性强、更新快速等优势，逐渐成为现代城市商业中的重要广告形式。而现今常用的LED显示屏控制方法还存在着一定的弊端，对于LED显示屏的显示控制还存在着一定的可提升空间。发明内容本申请实施例提供了一种基于物联网的LED灯控制方法及系统，用于针对解决目前的LED显示屏控制方法为按照预设的频率更换广告进行显示，使得无法根据不同人群进行针对性的广告显示投放，导致广告投放效果差的技术问题。鉴于上述问题，本申请实施例提供了一种基于物联网的LED灯控制方法及系统。第一方面，本申请实施例提供了一种基于物联网的LED灯控制方法，所述方法包括：在目标区域内的用户许可的前提下，通过所述多个图像采集装置，对所述目标区域内多个采样区域内的用户进行图像采集，获得多个采集图像；将所述多个采集图像输入基于语义分割构建的图像分割模型内，获得多个分割结果，其中，每个分割结果内包括用户区域和背景区域，所述图像分割模型包括多个图像分割单元；按照所述多个分割结果，分别对所述多个采集图像进行用户区域的划分，获得多个用户区域图像；对所述多个用户区域图像进行预处理，并输入用户识别模型内，进行不同类别用户的识别，获得多个用户识别结果，其中，每个用户识别结果内包括多种用户类别的多个数量信息，并统计获得所述多种用户类别的多个总用户数量信息；将所述多个总用户数量信息输入所述控制分析模块内的显示持续时间数据库内，获得多个显示时间分析结果；按照所述多个显示时间分析结果，通过物联网控制所述LED显示屏，对所述多种用户类别对应的多个显示方案进行显示。第二方面，本申请实施例提供了一种基于物联网的LED灯控制系统，所述系统包括：图像采集模块，所述图像采集模块用于在目标区域内的用户许可的前提下，通过所述多个图像采集装置，对所述目标区域内多个采样区域内的用户进行图像采集，获得多个采集图像；图像分割模块，所述图像分割模块用于将所述多个采集图像输入基于语义分割构建的图像分割模型内，获得多个分割结果，其中，每个分割结果内包括用户区域和背景区域，所述图像分割模型包括多个图像分割单元；区域划分模块，所述区域划分模块用于按照所述多个分割结果，分别对所述多个采集图像进行用户区域的划分，获得多个用户区域图像；用户识别模块，所述用户识别模块用于对所述多个用户区域图像进行预处理，并输入用户识别模型内，进行不同类别用户的识别，获得多个用户识别结果，其中，每个用户识别结果内包括多种用户类别的多个数量信息，并统计获得所述多种用户类别的多个总用户数量信息；数据分析模块，所述数据分析模块用于将所述多个总用户数量信息输入所述控制分析模块内的显示持续时间数据库内，获得多个显示时间分析结果；方案显示模块，所述方案显示模块用于按照所述多个显示时间分析结果，通过物联网控制所述LED显示屏，对所述多种用户类别对应的多个显示方案进行显示。本申请实施例中提供的一个或多个技术方案，至少具有如下技术效果或优点：本申请实施例提供的一种基于物联网的LED灯控制方法，涉及LED灯控制技术领域，在目标区域内的用户许可的前提下，进行图像采集，输入图像分割模型内获得多个分割结果，分别对多个采集图像进行划分获得多个用户区域图像，进行预处理并输入用户识别模型内，获得多个用户识别结果，统计多个总用户数量信息，输入显示持续时间数据库内，获得多个显示时间分析结果，按照多个显示时间分析结果，通过物联网控制LED显示屏，对多种用户类别对应的多个显示方案进行显示。解决了目前的LED显示屏控制方法为按照预设的频率更换广告进行显示，使得无法根据不同人群进行针对性的广告显示投放，导致广告投放效果差的技术问题，实现了针对不同类别用户的数量，设置不同类型广告的显示持续时间，调整广告的切换时间，进而提升广告投放效果。上述说明仅是本申请技术方案的概述，为了能够更清楚了解本申请的技术手段，而可依照说明书的内容予以实施，并且为了让本申请的上述和其它目的、特征和优点能够更明显易懂，以下特举本申请的具体实施方式。附图说明图1为本申请实施例提供了一种基于物联网的LED灯控制方法流程示意图；图2为本申请实施例提供了一种基于物联网的LED灯控制方法中获得多个分割结果流程示意图；图3为本申请实施例提供了一种基于物联网的LED灯控制方法中获得多个用户识别结果流程示意图；图4为本申请实施例提供了一种基于物联网的LED灯控制系统结构示意图。附图标记说明：图像采集模块10，图像分割模块20，区域划分模块30，用户识别模块40，数据分析模块50，方案显示模块60。具体实施方式本申请实施例通过提供一种基于物联网的LED灯控制方法，用于针对解决目前的LED显示屏控制方法为按照预设的频率更换广告进行显示，使得无法根据不同人群进行针对性的广告显示投放，导致广告投放效果差的技术问题。实施例一如图1所示，本申请实施例提供了一种基于物联网的LED灯控制方法，所述方法应用于一基于物联网的LED灯控制系统，所述系统包括基于物联网的信息采集模块、控制分析模块和LED显示屏，所述信息采集模块内包括多个图像采集装置，所述方法包括：步骤S100：在目标区域内的用户许可的前提下，通过所述多个图像采集装置，对所述目标区域内多个采样区域内的用户进行图像采集，获得多个采集图像；具体而言，本申请实施例提供的一种基于物联网的LED灯控制方法应用于一基于物联网的LED灯控制系统，所述系统包括基于物联网的信息采集模块、控制分析模块和LED显示屏，所述信息采集模块内包括多个图像采集装置，所述图像采集装置用于对目标区域内多个采样区域内的用户进行图像采集。在进行图像采集前，通过签署协议、悬挂告示牌等方式确保已经获得了目标区域内用户的许可，例如可以设置前方进入监控区域的标示，或者签订用户协议之类的，并且不会收集作为他处。采样区域为能够观看到LED显示屏的区域，在目标区域内的多个采样区域设置多个图像采集装置，如摄像头，将这些图像采集装置分布在合适的位置，以确保对整个区域的有效监控，同时，要考虑到避免造成用户的不便和隐私泄露。在满足前提条件的情况下，启动图像采集装置对目标区域内的用户进行图像采集，实时采集视频流或连续的静态图像，获得多个采集图像。通过以上步骤实现了对目标区域内用户的实时监控与智能控制，为后续进行LED灯控制打下基础。步骤S200：将所述多个采集图像输入基于语义分割构建的图像分割模型内，获得多个分割结果，其中，每个分割结果内包括用户区域和背景区域，所述图像分割模型包括多个图像分割单元；进一步而言，如图2所示，本申请步骤S200还包括：步骤S210：根据所述多个采样区域在历史时间内采集获得的多个历史图像集合，进行图像分割和像素标记，获得多个历史分割结果集合；步骤S220：分别采用所述多个历史图像集合和所述多个历史分割结果集合作为构建数据，构建所述多个采样区域对应的所述多个图像分割单元；步骤S230：将所述多个采集图像分别输入对应的所述多个图像分割单元内，获得所述多个分割结果。具体而言，从多个采样区域收集在历史时间内采集获得的图像数据，获得多个历史图像集合，针对每个历史图像集合中的图像，进行图像分割，图像分割的目的是将图像中的用户区域与背景区域分离，示例性地，对输入图像进行预处理，以减少噪声和不相关信息，预处理方法包括灰度化、滤波等，灰度化可以将彩色图像转换为灰度图像，简化处理过程，滤波有助于消除图像中的噪声，使边缘检测结果更加准确，通过计算图像中像素的梯度来检测边缘，梯度较大的区域表示边缘，得到边缘检测结果。进行边缘连接和形状提取，以此将连接好的边缘转换为物体区域，实现将边缘信息转换为物体分割结果。对分割后的图像进行像素级别的标记，包括为每个像素分配一个类别标签，如包括人像的用户区域、包括背景的背景区域，将标记好的像素级别的分割结果与对应的历史图像数据进行配对，形成多个历史分割结果集合，其中，每个历史分割结果内包括用户区域和背景区域。利用每个采样区域的数据集，对应的历史图像集合和历史分割结果集合进行训练，训练过程中，根据实际输出和预期输出的误差，对模型的参数进行调整，如采用随机梯度下降或其他优化算法进行优化，当每个采样区域的图像分割单元在验证集上达到预设条件时，完成构建过程，获得所述多个图像分割单元。获取所述多个采集图像对应的采样区域，并将每个采样区域的图像输入到相应的图像分割单元中，对于每个图像分割单元，根据输入的采集图像计算分割结果，分割结果包括用户区域和背景区域，将每个图像分割单元得到的分割结果输出，获得所述多个分割结果。进一步而言，本申请步骤S220还包括：步骤S221：基于语义分割，构建所述多个采样区域内第一采样区域对应的第一图像分割单元；步骤S222：采用所述多个历史图像集合和所述多个历史分割结果集合中，所述第一采样区域的第一历史图像集合和第一历史分割结果集合作为第一构建数据集，对所述第一图像分割单元进行监督训练，根据实际输出和预期输出的误差，对所述第一图像分割单元的网络参数进行更新，直到达到收敛条件；步骤S223：对所述第一图像分割单元进行验证和测试，在符合预设条件的情况下，获得所述第一图像分割单元；步骤S224：继续构建获得其他的多个图像分割单元。具体而言，语义分割是计算机视觉领域中的一种图像处理技术，其目标是将输入图像中的每个像素分配给一个特定的类别，简而言之，语义分割是对图像中的各个像素进行分类的过程，与传统的图像分类不同，语义分割不仅关注图像整体的类别信息，还关注像素级别的细节信息。基于语义分割，构建多个采样区域内第一采样区域对应的第一图像分割单元，第一图像分割单元的输入为第一采样区域的第一采集图像，输出为对应的第一分割结果，包括用户区域和背景区域。第一图像分割单元内包括卷积层、池化层和全连接层等网络层。将第一采样区域的第一历史图像集合与对应的第一历史分割结果集合进行配对，作为第一构建数据集，按照一定比例将其划分为训练集、验证集和测试集，示例性地，训练集、验证集和测试集分别为70％、15％、15％。在训练过程中，将每个训练图像输入到第一图像分割单元中，获得实际输出，将实际输出与预期输出进行比较，计算误差。根据计算出的误差，使用优化算法，如梯度下降法，对第一图像分割单元的网络参数进行更新，进行多次迭代，直到达到预设的收敛条件，其中，收敛条件可以是训练误差达到某个阈值、训练次数达到某个上限或验证集上的性能不再提高等，如训练误差达到5％以下。使用验证集监控模型性能并防止过拟合，使用测试集评估第一图像分割单元的泛化性能，将测试图像输入到第一图像分割单元中，获得分割结果，将分割结果与测试集的真实分割结果进行比较，计算相应的性能指标。在验证和测试过程中，如果第一图像分割单元的性能满足预设条件，如预设条件为准确率达到95％，则判定该图像分割单元是有效的，获得所述第一图像分割单元。基于相同的构建方法，采用其他的历史图像集合和历史分割结果集合作为构建数据集，构建获得其他的多个图像分割单元。步骤S300：按照所述多个分割结果，分别对所述多个采集图像进行用户区域的划分，获得多个用户区域图像；具体而言，对于每个分割结果，将用户区域和背景区域用不同的序号或颜色进行标记，以便于区分，根据标记的用户区域和背景区域，将每个采集图像中的用户区域提取出来，示例性地，将用户区域保留为原始像素值，而将背景区域设置为透明或某个固定的背景颜色。将提取出的用户区域与原始采集图像进行叠加，生成多个用户区域图像，这些图像仅显示用户区域，背景区域被替换为透明或固定的背景颜色。步骤S400：对所述多个用户区域图像进行预处理，并输入用户识别模型内，进行不同类别用户的识别，获得多个用户识别结果，其中，每个用户识别结果内包括多种用户类别的多个数量信息，并统计获得所述多种用户类别的多个总用户数量信息；进一步而言，如图3所示，本申请步骤S400还包括：步骤S410：根据所述多个采样区域在历史时间内采集并进行图像分割和预处理获得的多个历史用户区域图像集合；步骤S420：分别对所述多个历史用户区域图像集合内的历史用户区域图像进行所述多种用户类别数量的识别，获得多个历史用户识别结果集合；步骤S430：采用所述多个历史用户区域图像集合和所述多个历史用户识别结果集合，构建所述用户识别模型内的多个用户识别单元，获得所述用户识别模型，所述多个用户识别单元与所述多个采样区域对应；步骤S440：对所述多个用户区域图像进行预处理，并输入所述多个用户识别单元内，获得所述多个用户识别结果。具体而言，对历史时间内多个采样区域内采集的多个历史采集图像进行图像分割，利用已训练好的图像分割模型将用户区域和背景区域进行分离，获得多个历史分割结果，根据历史分割结果，从每个历史采集图像中提取用户区域，生成多个历史用户区域图像集合，其中，每个历史用户区域图像集合与其采样区域对应。对于第一采样区域的第一历史用户区域图像集合，其中的多个历史用户区域图像，识别每个历史用户区域图像内不同用户的数量，例如成年女性的数量、男性的数量、婴幼儿的数量、青少年的数量等，加和多个历史用户区域图像，获得多个总用户数量信息，即第一区域历史时间内的总成年女性的数量、总男性的数量、总婴幼儿的数量、总青少年的数量等，作为第一历史用户识别结果集合。以同样的方法对其他采样区域的历史图像进行识别，获得多个历史用户识别结果集合。基于卷积神经网络，分别构建所述多个用户识别单元中的网络结构，采用所述多个历史用户区域图像集合和所述多个历史用户识别结果集合对所述多个用户识别单元进行训练、验证和测试，获得满足预设条件的多个用户识别单元，将训练好的多个用户识别单元整合成一个完整的用户识别模型，这个模型包含与采样区域数量相等的用户识别单元，并且所述多个用户识别单元与所述多个采样区域对应。对多个用户区域图像进行预处理，以将它们输入到用户识别单元中，预处理操作包括缩放、裁剪、灰度化、归一化等，以便使图像适应模型的输入要求并提高模型性能。将预处理后的用户区域图像输入到相应的用户识别单元中，即将每个用户区域图像输入到与其对应的采样区域相关联的用户识别单元中，通过用户识别单元识别出图像中不同类别用户的数量，将这些数量信息作为用户识别结果输出，获得多个用户识别单元的多个用户识别结果，其中，多个用户识别结果与多个采样区域对应。进一步而言，本申请步骤S430还包括：步骤S431：基于卷积神经网络，构建所述多个用户识别单元中的第一用户识别单元的网络结构；步骤S432：采用所述多个历史用户区域图像集合和所述多个历史用户识别结果集合内的第一历史用户区域图像集合和第一历史用户识别结果集合，对所述第一用户识别单元进行监督训练，根据实际输出和预期输出的误差，对所述第一用户识别单元的网络参数进行更新，直到达到收敛条件；步骤S433：对所述第一用户识别单元进行验证和测试，若满足预设条件，则获得所述第一用户识别单元；步骤S434：继续构建获得其他的多个用户识别单元。具体而言，卷积神经网络是一种专门用于处理具有类似网格结构数据的深度学习模型，这类数据包括图像、视频等，其中每个像素都与相邻像素具有空间关联，CNN通过学习局部特征来捕捉这种空间关联，并且在层与层之间共享权重，大大减少了计算和参数数量，从而降低了训练过程中的计算复杂度。对于第一采样区域，采用第一历史用户区域图像集合和第一历史用户识别结果集合作为训练数据集，并将其分割为训练集、验证集和测试集，示例性地，分割比例采用8:1:1，其中，训练集用于训练用户识别单元；验证集用于调整模型参数和避免过拟合；测试集用于评估模型性能。基于卷积神经网络，构建第一用户识别单元的网络结构，使用分割好的训练集和验证集对第一用户识别单元进行训练和验证，在训练过程中，根据验证集上的性能调整模型参数，以获得最佳性能，使用测试集进行性能评估，通过比较实际输出和预期输出，确保用户识别单元的性能满足预设条件，示例性地，设置预设条件为准确率达到95％，若满足预设条件，则获得所述第一用户识别单元，采用相同的方法继续构建获得其他的多个用户识别单元，并且所述多个用户识别单元与所述多个采样区域对应。步骤S500：将所述多个总用户数量信息输入所述控制分析模块内的显示持续时间数据库内，获得多个显示时间分析结果；进一步而言，本申请步骤S500还包括：步骤S510：获取所述多个采样区域在预设时间周期内，所述多种用户类别的平均数量；步骤S520：获取预设显示时间；步骤S530：获取样本总用户数量信息集合，并根据所述样本总用户数量信息集合内的多个样本总用户数量信息和所述平均数量的比值，对所述预设显示时间进行调整，获得样本显示时间分析结果集合；步骤S540：采用所述样本总用户数量信息集合和所述样本显示时间分析结果集合，构建所述显示持续时间数据库；步骤S550：将所述多个总用户数量信息输入所述显示持续时间数据库内，获得所述多个显示时间分析结果。具体而言，确定一个预设时间周期，例如一天、一周或一个月，这个时间周期可以根据实际场景和需求进行选择。在预设时间周期内，收集每个采样区域的用户类别数量信息，对于每个用户类别，分别计算在预设时间周期内的平均数量，所述多种用户类别的平均数量。预设显示时间指在LED显示屏上显示某一内容的预设时间长度，这个时间长度可以由LED显示屏的控制系统或者用户根据需要设置。获取样本总用户数量信息集合，该集合包括在预设时间周期内每个采样区域内各类别用户数量的总和，将每个样本总用户数量信息除以对应用户类别在预设时间周期内的平均数量，得到每个样本总用户数量信息的比值，将所述预设显示时间乘以每个样本总用户数量信息的比值，得到调整后的样本显示时间分析结果集合。所述样本显示时间分析结果集合表征每种广告的持续时间，当一个区域内一种类别用户的数量越多，则针对该类别用户的展示内容持续时间越长。根据所述样本总用户数量信息集合和所述样本显示时间分析结果集合及其映射关系，构建所述显示持续时间数据库，这样，当用户数量信息输入时，可以根据该信息在数据库中查找相应的显示时间分析结果。将所述多个总用户数量信息分别输入所述显示持续时间数据库内，通过数据库查询语句，将所需查询的总用户数量信息作为查询条件，根据映射关系，从数据库中获取对应的显示时间分析结果，获得所述多个显示时间分析结果。进一步而言，本申请步骤S540还包括：步骤S541：构建所述样本总用户数量信息集合内多个样本总用户数量信息和所述样本显示时间分析结果集合内多个样本显示时间分析结果的映射关系；步骤S542：根据所述映射关系，获得所述显示持续时间数据库。具体而言，通过将样本总用户数量信息集合内的多个样本总用户数量信息和样本显示时间分析结果集合内的多个样本显示时间分析结果进行匹配和映射，建立它们之间的关系。例如采用线性插值法来拟合出它们之间的函数关系，示例性地，根据样本总用户数量信息集合内多个样本总用户数量信息和样本显示时间分析结果集合内多个样本显示时间分析结果的映射关系，构建数据点集合{,......}，其中，xi表示样本总用户数量信息，yi表示样本显示时间分析结果，n为样本总数量，对数据点集合进行排序，以确保数据点按照x的升序排列，对于给定的总用户数量信息x0，找到数据点集合中x0的两个邻近数据点，使得它们分别为和，并且x0位于之间，使用线性插值公式计算x0对应的显示时间分析结果y0，得到y0＝yi+*/，以此将样本总用户数量信息集合内多个样本总用户数量信息和样本显示时间分析结果集合内多个样本显示时间分析结果之间的函数关系拟合成一条连续的直线，通过这条直线，可以在显示持续时间数据库内快速地查找并获取任意一个总用户数量所对应的推荐显示时间。根据所述映射关系，将所述样本总用户数量信息集合内的多个样本总用户数量信息和所述样本显示时间分析结果集合内的多个样本显示时间分析结果存储在一个数据库内，以实现快速查找和获取。步骤S600：按照所述多个显示时间分析结果，通过物联网控制所述LED显示屏，对所述多种用户类别对应的多个显示方案进行显示。具体而言，获取多种用户类别对应的多个显示方案，比如针对成年女性的广告、针对成年男性的广告、针对婴幼儿的广告、针对青少年的广告、针对情侣的广告、针对家人的广告，对其预先进行标记，例如美妆广告-针对成年女性，西装广告-针对男性，纸尿裤广告-针对婴幼儿等等。根据多个显示时间分析结果和多种用户类别对应的多个显示方案，确定每个显示方案应该持续显示的时间，通过物联网控制LED显示屏，针对不同类别用户的数量，设置不同类型广告的显示持续时间，调整广告的切换时间，提升广告投放效果。综上所述，本申请实施例所提供的一种基于物联网的LED灯控制方法及系统具有如下技术效果：在目标区域内的用户许可的前提下，进行图像采集，输入图像分割模型内获得多个分割结果，分别对多个采集图像进行划分获得多个用户区域图像，进行预处理并输入用户识别模型内，获得多个用户识别结果，统计多个总用户数量信息，输入显示持续时间数据库内，获得多个显示时间分析结果，按照多个显示时间分析结果，通过物联网控制LED显示屏，对多种用户类别对应的多个显示方案进行显示。解决了目前的LED显示屏控制方法为按照预设的频率更换广告进行显示，使得无法根据不同人群进行针对性的广告显示投放，导致广告投放效果差的技术问题，实现了针对不同类别用户的数量，设置不同类型广告的显示持续时间，调整广告的切换时间，进而提升广告投放效果。实施例二基于与前述实施例中一种基于物联网的LED灯控制方法相同的发明构思，如图4所示，本申请提供了一种基于物联网的LED灯控制系统，所述系统包括基于物联网的信息采集模块、控制分析模块和LED显示屏，所述信息采集模块内包括多个图像采集装置，所述系统包括：图像采集模块10，所述图像采集模块10用于在目标区域内的用户许可的前提下，通过所述多个图像采集装置，对所述目标区域内多个采样区域内的用户进行图像采集，获得多个采集图像；图像分割模块20，所述图像分割模块20用于将所述多个采集图像输入基于语义分割构建的图像分割模型内，获得多个分割结果，其中，每个分割结果内包括用户区域和背景区域，所述图像分割模型包括多个图像分割单元；区域划分模块30，所述区域划分模块30用于按照所述多个分割结果，分别对所述多个采集图像进行用户区域的划分，获得多个用户区域图像；用户识别模块40，所述用户识别模块40用于对所述多个用户区域图像进行预处理，并输入用户识别模型内，进行不同类别用户的识别，获得多个用户识别结果，其中，每个用户识别结果内包括多种用户类别的多个数量信息，并统计获得所述多种用户类别的多个总用户数量信息；数据分析模块50，所述数据分析模块50用于将所述多个总用户数量信息输入所述控制分析模块内的显示持续时间数据库内，获得多个显示时间分析结果；方案显示模块60，所述方案显示模块60用于按照所述多个显示时间分析结果，通过物联网控制所述LED显示屏，对所述多种用户类别对应的多个显示方案进行显示。进一步而言，所述系统还包括：像素标记模块，用于根据所述多个采样区域在历史时间内采集获得的多个历史图像集合，进行图像分割和像素标记，获得多个历史分割结果集合；单元构建模块，用于分别采用所述多个历史图像集合和所述多个历史分割结果集合作为构建数据，构建所述多个采样区域对应的所述多个图像分割单元；分割结果获取模块，用于将所述多个采集图像分别输入对应的所述多个图像分割单元内，获得所述多个分割结果。进一步而言，所述系统还包括：第一单元构建模块，用于基于语义分割，构建所述多个采样区域内第一采样区域对应的第一图像分割单元；监督训练模块，用于采用所述多个历史图像集合和所述多个历史分割结果集合中，所述第一采样区域的第一历史图像集合和第一历史分割结果集合作为第一构建数据集，对所述第一图像分割单元进行监督训练，根据实际输出和预期输出的误差，对所述第一图像分割单元的网络参数进行更新，直到达到收敛条件；验证测试模块，用于对所述第一图像分割单元进行验证和测试，在符合预设条件的情况下，获得所述第一图像分割单元；多个单元构建模块，用于继续构建获得其他的多个图像分割单元。进一步而言，所述系统还包括：历史图像采集模块，用于根据所述多个采样区域在历史时间内采集并进行图像分割和预处理获得的多个历史用户区域图像集合；历史图像识别模块，用于分别对所述多个历史用户区域图像集合内的历史用户区域图像进行所述多种用户类别数量的识别，获得多个历史用户识别结果集合；用户识别模型构建模块，用于采用所述多个历史用户区域图像集合和所述多个历史用户识别结果集合，构建所述用户识别模型内的多个用户识别单元，获得所述用户识别模型，所述多个用户识别单元与所述多个采样区域对应；预处理模块，用于对所述多个用户区域图像进行预处理，并输入所述多个用户识别单元内，获得所述多个用户识别结果。进一步而言，所述系统还包括：网络结构构建模块，用于基于卷积神经网络，构建所述多个用户识别单元中的第一用户识别单元的网络结构；更新模块，用于采用所述多个历史用户区域图像集合和所述多个历史用户识别结果集合内的第一历史用户区域图像集合和第一历史用户识别结果集合，对所述第一用户识别单元进行监督训练，根据实际输出和预期输出的误差，对所述第一用户识别单元的网络参数进行更新，直到达到收敛条件；验证和测试模块，用于对所述第一用户识别单元进行验证和测试，若满足预设条件，则获得所述第一用户识别单元；用户识别单元构建模块，用于继续构建获得其他的多个用户识别单元。进一步而言，所述系统还包括：平均数量获取模块，用于获取所述多个采样区域在预设时间周期内，所述多种用户类别的平均数量；预设显示时间获取模块，用于获取预设显示时间；调整模块，用于获取样本总用户数量信息集合，并根据所述样本总用户数量信息集合内的多个样本总用户数量信息和所述平均数量的比值，对所述预设显示时间进行调整，获得样本显示时间分析结果集合；数据库构建模块，用于采用所述样本总用户数量信息集合和所述样本显示时间分析结果集合，构建所述显示持续时间数据库；分析结果获取模块，用于将所述多个总用户数量信息输入所述显示持续时间数据库内，获得所述多个显示时间分析结果。进一步而言，所述系统还包括：映射关系构建模块，用于构建所述样本总用户数量信息集合内多个样本总用户数量信息和所述样本显示时间分析结果集合内多个样本显示时间分析结果的映射关系；数据库获取模块，用于根据所述映射关系，获得所述显示持续时间数据库。本说明书通过前述对一种基于物联网的LED灯控制方法的详细描述，本领域技术人员可以清楚的知道本实施例中一种基于物联网的LED灯控制方法及系统，对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本申请。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本申请的精神或范围的情况下，在其它实施例中实现。因此，本申请将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
