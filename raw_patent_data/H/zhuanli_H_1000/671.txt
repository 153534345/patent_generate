标题title
一种电视导播控制方法及装置
摘要abst
本发明提供一种电视导播控制方法及装置。所述方法包括：从矩阵类设备的输出通道中划分出数量相等的两组通道，分别为PVW预播组和PGM播出组；分别获取PVW预播组和PGM播出组的输出通道或显示窗口当前时刻切选的输入通道ID，并将所述ID分别存入缓存列表A、B；通过将PVW预播组和/或PGM播出组的输出通道或显示窗口依次切选缓存列表A和/或B中的ID对应的输入通道，实现PVW预播组和PGM播出组的通道互换功能、单向复制功能和指令撤回功能。本发明与自带PVW预播和PGM播出功能的现有设备相比，PVW、PGM播出通道数量由个位数提升至两位数或以上，节约了设备和人力成本，提升了多通道视频直播的显示效果。
权利要求书clms
1.一种电视导播控制方法，其特征在于，包括以下步骤：从矩阵类设备的输出通道中划分出数量相等的两组通道，分别为用于试播、预播多通道选切图像的PVW预播组和用于直接播出多通道选切图像的PGM播出组；分别获取PVW预播组和PGM播出组的输出通道或显示窗口当前时刻切选的输入通道ID，并将所述ID分别存入缓存列表A、B；通过将PVW预播组和/或PGM播出组的输出通道或显示窗口依次切选缓存列表A和/或B中的ID对应的输入通道，实现PVW预播组和PGM播出组的通道互换功能、单向复制功能和指令撤回功能。2.根据权利要求1所述的电视导播控制方法，其特征在于，PVW预播组和PGM播出组的最大通道数大于10。3.根据权利要求1所述的电视导播控制方法，其特征在于，实现通道互换功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。4.根据权利要求1所述的电视导播控制方法，其特征在于，实现单向复制功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；或，将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。5.根据权利要求1所述的电视导播控制方法，其特征在于，实现指令撤回功能的方法，包括在执行完通道互换和/或单向复制后执行的以下步骤：将PGM播出组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道。6.一种电视导播控制装置，其特征在于，包括：通道划分模块，用于从矩阵类设备的输出通道中划分出数量相等的两组通道，分别为用于试播、预播多通道选切图像的PVW预播组和用于直接播出多通道选切图像的PGM播出组；状态获取模块，用于分别获取PVW预播组和PGM播出组的输出通道或显示窗口当前时刻切选的输入通道ID，并将所述ID分别存入缓存列表A、B；导播控制模块，用于通过将PVW预播组和/或PGM播出组的输出通道或显示窗口依次切选缓存列表A和/或B中的ID对应的输入通道，实现PVW预播组和PGM播出组的通道互换功能、单向复制功能和指令撤回功能。7.根据权利要求6所述的电视导播控制装置，其特征在于，PVW预播组和PGM播出组的最大通道数大于10。8.根据权利要求6所述的电视导播控制装置，其特征在于，实现通道互换功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。9.根据权利要求6所述的电视导播控制装置，其特征在于，实现单向复制功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；或，将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。10.根据权利要求6所述的电视导播控制装置，其特征在于，实现指令撤回功能的方法，包括在执行完通道互换和/或单向复制后执行的以下步骤：将PGM播出组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道。
说明书desc
技术领域本发明属于电视导播技术领域，具体涉及一种基于PVM预播组和PGM播出组的电视导播控制方法及装置。背景技术直播任务一般采用多台摄像设备拍摄，使得节目具有多角度、多景别的特点，表现得更全面，更好看。导播就是负责从多路信号中选择一路信号播出到指定通道，是完成直播任务的核心。随着广播电视技术的飞速发展，信息通信手段的逐步完善，监控及便携摄像设备的普及，极大地丰富了直播任务的信息来源。而采用一个画面的电视直播方式，很难全面地展示直播场景的各个重要事件，海量的直播视频信息经导播系统挑选取舍后，往往顾此失彼，丢失了很多重要且精彩的多角度直播视频内容，难以满足观众的个性化、多样化和全面视角需求。近年来，在直播过程中播出画中画、多画面分隔图像、甚至直播时跨频道播出同一事件不同视角视频的情况越来越普遍。特别是在指挥、展示、会议、安防、模拟仿真等领域，在采用大屏幕显示系统的指挥中心、指挥所，根据导播需求的不同，需同时显示同一直播事件的多个不同拍摄角度视频，实现对直播内容的全面掌控，满足一些高级别的会议直播、军演直播等任务要求。不管是采用画中画、多画面分隔图像、还是多通道播出，都会给导播系统带来极大的挑战，由原来视频信号的多入一出方式变为多入多出方式，数倍增加了直播任务中导播系统的工作量。导播系统一般采用以下三种工作模式：一是多个操控单元协作的导播工作模式。导播系统内设置多个独立的导播单元，共享整个导播系统所有的输入视频信号，根据直播需求从中挑选适合的视频信号播出到不同的显示通道。这种模式的不足是对设备、人力和空间需求较大；另外对播出视频内容的掌控，主要依靠操管人员的个人素质和发挥，存在反应速度慢和具有一定的失误率等问题。二是按程序预案执行的导播工作模式。根据导播方案，按照时间节点，制作多条多通道计划任务，然后按程序、按时间逐条执行，实现同时刻将多路视频播出到不同的显示通道。这种模式的不足是程序固化不可轻易变更，对无预案、未进行推演、内容不可控的突发直播事件，导播效果并不理想。三是采用预播出的导播工作模式。通过特技机、选切台、拼接融合处理器等设备，完成其PVW预播、PGM主播的1键对换，实现同时刻将多路视频播出到不同的显示通道。这种模式的不足是系统设备组成和操控复杂度较高。发明内容为了解决现有技术中存在的上述问题，本发明提供一种电视导播控制方法及装置。为了实现上述目的，本发明采用以下技术方案。第一方面，本发明提供一种电视导播控制方法，包括以下步骤：从矩阵类设备的输出通道中划分出数量相等的两组通道，分别为用于试播、预播多通道选切图像的PVW预播组和用于直接播出多通道选切图像的PGM播出组；分别获取PVW预播组和PGM播出组的输出通道或显示窗口当前时刻切选的输入通道ID，并将所述ID分别存入缓存列表A、B；通过将PVW预播组和/或PGM播出组的输出通道或显示窗口依次切选缓存列表A和/或B中的ID对应的输入通道，实现PVW预播组和PGM播出组的通道互换功能、单向复制功能和指令撤回功能。进一步地，PVW预播组和PGM播出组的最大通道数大于10。进一步地，实现通道互换功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。进一步地，实现单向复制功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；或，将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。进一步地，实现指令撤回功能的方法，包括在执行完通道互换和/或单向复制后执行的以下步骤：将PGM播出组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道。第二方面，本发明提供一种电视导播控制装置，包括：通道划分模块，用于从矩阵类设备的输出通道中划分出数量相等的两组通道，分别为用于试播、预播多通道选切图像的PVW预播组和用于直接播出多通道选切图像的PGM播出组；状态获取模块，用于分别获取PVW预播组和PGM播出组的输出通道或显示窗口当前时刻切选的输入通道ID，并将所述ID分别存入缓存列表A、B；导播控制模块，用于通过将PVW预播组和/或PGM播出组的输出通道或显示窗口依次切选缓存列表A和/或B中的ID对应的输入通道，实现PVW预播组和PGM播出组的通道互换功能、单向复制功能和指令撤回功能。进一步地，PVW预播组和PGM播出组的最大通道数大于10。进一步地，实现通道互换功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。进一步地，实现单向复制功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；或，将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。进一步地，实现指令撤回功能的方法，包括在执行完通道互换和/或单向复制后执行的以下步骤：将PGM播出组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道。与现有技术相比，本发明具有以下有益效果。本发明通过实时监控矩阵类设备的工作状态，划分部分输出通道为PVW预播组和PGM播出组，将两组输出对应的输入通道缓存后互换的方法，实现了多通道输出信号的预播和一键整体播出；可使操作人员可以在不修改当前多通道直播内容的空闲时段，准备下一节点播出的多通道视频内容，减小了操作人员的瞬时工作量；可使少量的操作人员同时操控数十路通道的播出节目整体播出，避免了多终端协作带来的播出信息先后时机不一致导致的脱节现象。相较采用特技机、选切台等自带PVW预播和PGM播出功能的设备，PVW、PGM播出通道数量由个位数提升至两位数或以上，节约了设备和人力成本，提升了多通道视频直播的显示效果。附图说明图1为本发明实施例一种电视导播控制方法的流程图。图2为本发明实施例涉及的硬件构架示意图。图3为本发明实施例一种电视导播控制装置的方框图。具体实施方式为使本发明的目的、技术方案及优点更加清楚、明白，以下结合附图及具体实施方式对本发明作进一步说明。显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。图1为本发明实施例一种电视导播控制方法的流程图，包括以下步骤：步骤101，从矩阵类设备的输出通道中划分出数量相等的两组通道，分别为用于试播、预播多通道选切图像的PVW预播组和用于直接播出多通道选切图像的PGM播出组；步骤102，分别获取PVW预播组和PGM播出组的输出通道或显示窗口当前时刻切选的输入通道ID，并将所述ID分别存入缓存列表A、B；步骤103，通过将PVW预播组和/或PGM播出组的输出通道或显示窗口依次切选缓存列表A和/或B中的ID对应的输入通道，实现PVW预播组和PGM播出组的通道互换功能、单向复制功能和指令撤回功能。本实施例提供一种电视导播控制方法，所述方法涉及的硬件架构示意图如图2所示，所述硬件架构主要由中控设备和矩阵类设备构成。中控设备具有控制指令发出功能、设备回令接收功能，可采用PLC可编程控制器或服务器、工作站等设备，通过网口或串口与被控矩阵类设备相连。矩阵类设备是通过阵列切换的方法将m路视频或音频信号任意输出至n路监控设备上的电子装置，可以是矩阵、拼接器或分布式编解码器等设备。矩阵类设备具有控制指令执行功能、状态查询功能。矩阵的输出或拼接设备的输出窗口分为数量相等的两部分，分别为PVW预播组和PGM播出组，并对其输入、输出通道进行统一编号。本实施例中，步骤101主要用于划分PVW预播组和PGM播出组。本实施例从矩阵类设备的输出通道中划分出一部分通道，并分成数量相等的两组，分别定义为PVW预播组和PGM播出组。PVW预播组用于试播、预播多通道选切图像，PGM播出组用于直接播出多通道选切图像。本实施例中，步骤102主要用于获取PVW预播组和PGM播出组的输出通道或显示窗口当前时刻切选的输入通道ID，并将所述ID分别存入缓存列表A、B。为了便于控制，已为矩阵类设备的输入、输出通道设置了唯一的ID，通过执行设备状态获取指令和通道查询指令，可方便地获取每个设备的ID。比如，可通过周期性发送整机查询指令，获取回令中所有输出通道或窗口ID当前时刻与输入信号通道ID的对应关系；也可采用监视回执指令方式，部分设备具有指令执行结果回执功能，持续接收设备发出的回执指令，即可获取其输出与输入ID的对应关系；还可采用记录发出指令方式，通过记录中控系统所有发出的指令方式，获取其输出与输入ID的对应关系。本实施例中，步骤103主要用于实现通道互换功能、单向复制功能和指令撤回功能。通道互换是指PVW预播组和PGM播出组的播出内容互换；单向复制是指使PGM播出组播出PVW预播组播出的内容，或使PVW预播组播出PGM播出组播出的内容；指令撤回功能是在执行过通道互换指令或单向复制指令后，使PVW预播组或PVW预播组还原播放执行通道互换指令或单向复制指令前的播出内容。本实施例通过将PVW预播组和/或PGM播出组的输出通道或显示窗口依次切选缓存列表A和/或B中的ID对应的输入通道，实现PVW预播组和PGM播出组的通道互换功能、单向复制功能和指令撤回功能。实际上就是通过PVW预播组和PGM播出组与缓存列表A、B的排列组合，实现上述三种功能。作为一可选实施例，PVW预播组和PGM播出组的最大通道数大于10。本实施例给出了PVW预播组和PGM播出组的最大通道数。采用特技机、选切台等自带PVW预播和PGM播出功能的现有技术设备，PVW、PGM播出通道的数量为个位数，而本实施例PVW预播组和PGM播出组的最大通道数可提升至两位数或以上，具体数量取决于矩阵类设备划定为PVW、PGM的输出通道数量，节约了设备和人力成本，提升了多通道视频直播的显示效果。作为一可选实施例，实现通道互换功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。本实施例给出了实现通道互换功能的一种技术方案。通道互换即PVW预播组和PGM播出组的播出内容互换。假设PVW预播组的输出通道或显示窗口为ID，当前时刻所有播出或显示的输入通道为ID，且已存入缓存列表A；假设PGM播出组的输出通道或显示窗口为ID，当前时刻所有播出或显示的输入通道为，且已存入缓存列表B。中控设备发送通道互换指令给矩阵类设备后，将PGM播出组的输出通道或显示窗口，依次切选列表A中的输入通道ID，将PVW预播组的输出通道或显示窗口，依次切选列表B中的输入通道ID，便实现了两个播出组间多个通道输出或显示信号的互换。作为一可选实施例，实现单向复制功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；或，将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。本实施例给出了实现单向复制功能的一种技术方案。单向复制是指使PGM播出组播出PVW预播组播出的内容，或使PVW预播组播出PGM播出组播出的内容。假设PVW预播组的输出通道或显示窗口为ID，当前时刻所有播出或显示的输入通道为ID，且已存入缓存列表A。当中控设备发送由PVW向PGM的单向复制指令给矩阵类设备后，将PGM播出组的输出通道或显示窗口，依次切选列表A中的输入通道ID，便实现了由PVW向PGM的单向复制。或者，假设PGM播出组的输出通道或显示窗口为ID，当前时刻所有播出或显示的输入通道为，且已存入缓存列表B。当中控设备发送由PGM向PVW的单向复制指令给矩阵类设备后，将PVW预播组的输出通道或显示窗口，依次切选列表B中的输入通道ID，便实现了由PGM向PVW的单向复制。作为一可选实施例，实现指令撤回功能的方法，包括在执行完通道互换和/或单向复制后执行的以下步骤：将PGM播出组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道。本实施例给出了实现指令撤回功能的一种技术方案。指令撤回功能是在执行过通道互换指令或单向复制指令后，使PVW预播组或PVW预播组还原播放执行通道互换指令或单向复制指令前的播出内容。导播系统一般是依据导播方案或导播计划完成任务，将整个流程按时序分解为多个操控步骤，每个操控步骤都可通过中控系统编辑为一个计划任务指令，实现多个输出通道显示内容的整体更换。但当直播中出现不可预料的突发情况时，就不能够继续按照线性的计划任务逐步执行，如直播事件的既定顺序发生改变，就需要跳步或倒序执行预设步骤指令。例如，场地D1的直播事件本已结束，导播系统已切选下个场地D2的其它事件；这时场地D1又出现新的热点，需要立即复原场地D1相关信息的播出；或者D2场地信号突然中断，需要转回D1场景救场；又或者出现人员操作时失误的情况。这时就需要指令撤回功能，因矩阵类设备输入通道数量大，多通道播出时整体倒回到上一步的播出内容，仅靠人工操作耗时长、易出错，所以需要多通道播出信息的整体撤回功能。当中控设备发送撤回指令给矩阵类设备后，将PGM播出组的输出通道或显示窗口，依次切选列表B中的输入通道ID；或将PVW预播组的输出通道或显示窗口，依次切选列表A中的输入通道ID，即可实现指令撤回功能。图3为本发明实施例一种电视导播控制装置的组成示意图，所述装置包括：通道划分模块11，用于从矩阵类设备的输出通道中划分出数量相等的两组通道，分别为用于试播、预播多通道选切图像的PVW预播组和用于直接播出多通道选切图像的PGM播出组；状态获取模块12，用于分别获取PVW预播组和PGM播出组的输出通道或显示窗口当前时刻切选的输入通道ID，并将所述ID分别存入缓存列表A、B；导播控制模块13，用于通过将PVW预播组和/或PGM播出组的输出通道或显示窗口依次切选缓存列表A和/或B中的ID对应的输入通道，实现PVW预播组和PGM播出组的通道互换功能、单向复制功能和指令撤回功能。本实施例的装置，可以用于执行图1所示方法实施例的技术方案，其实现原理和技术效果类似，此处不再赘述。后面的实施例也是如此，均不再展开说明。作为一可选实施例，PVW预播组和PGM播出组的最大通道数大于10。作为一可选实施例，实现通道互换功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。作为一可选实施例，实现单向复制功能的方法包括：将PGM播出组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道；或，将PVW预播组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道。作为一可选实施例，实现指令撤回功能的方法，包括在执行完通道互换和/或单向复制后执行的以下步骤：将PGM播出组的输出通道或显示窗口依次切选缓存列表B中的ID对应的输入通道；将PVW预播组的输出通道或显示窗口依次切选缓存列表A中的ID对应的输入通道。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
