标题title
一种通信链路的切换方法、图传设备及无人机
摘要abst
本申请实施例提供一种通信链路的切换方法、图传设备及无人机，该方法包括：在第一预设时间段内，周期性地获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值；根据第一信号强度值，确定第一信号强度基准值；根据第一信号强度基准值和预设信号强度阶梯值，确定与第一信号强度基准值对应的第一信号强度阈值；获取第一天线的第二信号强度值；若第二信号强度值小于第一信号强度阈值，则通过射频开关将工作的第一天线切换到与射频开关相连的第二天线，这样，可以在多个天线中选择最优的未被遮挡的天线，即信号强度值最高的天线进行数据传输，提高数据传输效率。
权利要求书clms
1.一种通信链路的切换方法，其特征在于，应用于机体高度大于预设值的无人机，所述无人机上设置有射频开关和天线，所述射频开关与一组天线相连，所述天线对称设置在无人机上，所述方法包括：在第一预设时间段内，周期性地获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值；根据所述第一信号强度值，确定第一信号强度基准值；根据所述第一信号强度基准值和预设信号强度阶梯值，确定与所述第一信号强度基准值对应的第一信号强度阈值；获取所述第一天线的第二信号强度值；若所述第二信号强度值小于所述第一信号强度阈值，则通过所述射频开关将工作的所述第一天线切换到与所述射频开关相连的第二天线。2.根据权利要求1所述的通信链路的切换方法，其特征在于，所述根据所述第一信号强度值，确定第一信号强度基准值，包括：在第一预设时间段内，获取无人机上的与射频开关相连的工作的第一天线的当前周期的初始信号强度值；获取下一周期的信号强度值；若所述下一周期的信号强度值大于所述初始信号强度值，则将所述下一周期的信号强度值确定为所述第一信号强度基准值；或者若所述下一周期的信号强度值小于或等于所述初始信号强度值，则将所述初始信号强度值确定为所述第一信号强度基准值。3.根据权利要求1所述的通信链路的切换方法，其特征在于，所述方法还包括：获取将第一天线切换到第二天线之前的最后一次的第三信号强度值；在将工作的所述第一天线切换到第二天线的情况下，在第二预设时间段内，获取第二天线的第四信号强度值；若所述第四信号强度值小于所述第三信号强度值，则通过所述射频开关将所述第二天线切回至所述第一天线。4.根据权利要求3所述的通信链路的切换方法，其特征在于，所述方法还包括：若所述第四信号强度值大于或等于所述第三信号强度值，则获取第二天线的第五信号强度值；根据所述第五信号强度值，确定与所述第五信号强度值对应的第二信号强度基准值；根据所述第二信号强度基准值和所述预设信号强度阶梯值，确定与所述第二信号强度基准值对应的第二信号强度阈值；获取第二天线的第六信号强度值；若所述第六信号强度值小于所述第二信号强度阈值，则通过所述射频开关将工作的所述第二天线切换到与所述射频开关相连的第一天线。5.根据权利要求1所述的通信链路的切换方法，其特征在于，所述预设信号强度阶梯值为1 dB ~30dB。6.根据权利要求3所述的通信链路的切换方法，其特征在于，所述第一预设时间段大于所述第二预设时间段。7.一种图传设备，其特征在于，应用于机体高度大于预设值的无人机，所述无人机上设置有射频开关和天线，所述射频开关与一组天线相连，所述天线对称设置在无人机上，至少包括处理模块和传输模块，其中，所述处理模块与所述传输模块相连，所述处理模块用于执行如权利要求1-6中任意一项权利要求所述的通信链路的切换方法；所述传输模块至少包括射频收发单元，所述射频收发单元与所述处理模块相连。8.根据权利要求7所述的图传设备，其特征在于，所述天线内置固定在无人机的非金属结构体上，或外置在到无人机金属体的预设距离的位置上，图传天线距离机身外围金属体的距离为5mm~15cm。9.一种无人机，其特征在于，所述无人机的机体高度大于预设值，所述无人机上设置有射频开关和天线，所述射频开关与一组天线相连，所述天线对称设置在所述无人机的机身对侧上，用于执行权利要求1-6中任意一项权利要求所述的通信链路的切换方法。10.根据权利要求9所述的无人机，其特征在于，所述无人机还包括第三天线或第四天线，所述第三天线位于所述无人机的机身顶部，所述第四天线位于所述无人机的机身底部。
说明书desc
技术领域本申请涉及通信技术领域，具体而言，涉及一种通信链路的切换方法、图传设备及无人机。背景技术无人机上设置有图传系统，该图传系统是采用无人机所搭载的摄像机拍摄视频数据，并用无线传输的方式实时将采集的视频数据传送到终端设备，例如，采用OFDM、WIFI技术等进行数据传输。目前，无人机设置有图传天线，图传天线大多布局在机腿、机臂端或机身底部，来降低金属机身对天线的遮挡。针对有些机体较高的无人机，图传天线又无法布局在顶部或底部时，机体部分金属成分比较多，容易对图传天线造成遮挡，导致图像数据传输效率不高，如何提高图传天线的传输效率是目前急需解决的问题。发明内容本申请的目的在于提供一种通信链路的切换方法、图传设备及无人机，通过本申请的实施例的技术方案，在第一预设时间段内，获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值；根据所述第一信号强度值，确定第一信号强度基准值；根据所述第一信号强度基准值和预设信号强度阶梯值，确定与所述第一信号强度基准值对应的第一信号强度阈值；获取所述第一天线的第二信号强度值；若所述第二信号强度值小于所述第一信号强度阈值，则通过所述射频开关将工作的所述第一天线切换到与所述射频开关相连的第二天线；本申请实施例通过在无人机安装射频开关，采集第一预设时间段内，无人机上的与射频开关相连的工作天线的最强信号强度值，并根据该最强信号强度值和预设信号强度阶梯值，确定与最强信号强度值对应的信号强度阈值，若后续获取到的信号强度值大于或等于信号强度阈值，则继续使用该工作天线进行数据传输，若后续获取到的信号强度值小于信号强度阈值，则通过射频开关进行天线切换，这样，可以在多个天线中选择最优的未被遮挡的天线，始终保持在信号强度值高的天线进行数据传输，提高数据传输效率。第一方面，本申请提供了一种通信链路的切换方法，应用于机体高度大于预设值的无人机，所述无人机上设置有射频开关和天线，所述射频开关与一组天线相连，所述天线对称设置在无人机上，所述方法包括：在第一预设时间段内，周期性地获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值；根据所述第一信号强度值，确定第一信号强度基准值；根据所述第一信号强度基准值和预设信号强度阶梯值，确定与所述第一信号强度基准值对应的第一信号强度阈值；获取所述第一天线的第二信号强度值；若所述第二信号强度值小于所述第一信号强度阈值，则通过所述射频开关将工作的所述第一天线切换到与所述射频开关相连的第二天线。本申请通过在无人机安装射频开关，采集第一预设时间段内，无人机上的与射频开关相连的工作天线的最强信号强度值，并根据该最强信号强度值和预设信号强度阶梯值，确定与最强信号强度值对应的信号强度阈值，若后续获取到的信号强度值大于或等于信号强度阈值，则继续使用该工作天线进行数据传输，若后续获取到的信号强度值小于信号强度阈值，则通过射频开关进行天线切换，这样，可以在多个天线中选择最优的未被遮挡的天线，始终保持在信号强度值高的天线进行数据传输，提高数据传输效率。可选地，所述在第一预设时间段内，获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值，包括：在第一预设时间段内，获取无人机上的与射频开关相连的工作的第一天线的当前周期的初始信号强度值；获取下一周期的信号强度值；若所述下一周期的信号强度值大于所述初始信号强度值，则将所述下一周期的信号强度值确定为所述第一信号强度基准值；或者若所述下一周期的信号强度值小于或等于所述初始信号强度值，则将所述初始信号强度值确定为所述第一信号强度基准值。可选地，所述方法还包括：获取将第一天线切换到第二天线之前的最后一次的第三信号强度值；在将工作的所述第一天线切换到第二天线的情况下，在第二预设时间段内，获取第二天线的第四信号强度值；若所述第四信号强度值小于所述第三信号强度值，则通过所述射频开关将所述第二天线切回至所述第一天线。可选地，所述方法还包括：若所述第四信号强度值大于或等于所述第三信号强度值，则获取第二天线的第五信号强度值；根据所述第五信号强度值，确定与所述第五信号强度值对应的第二信号强度基准值；根据所述第二信号强度基准值和所述预设信号强度阶梯值，确定与所述第二信号强度基准值对应的第二信号强度阈值；获取第二天线的第六信号强度值；若所述第六信号强度值小于所述第二信号强度阈值，则通过所述射频开关将工作的所述第二天线切换到与所述射频开关相连的第一天线。可选地，所述预设信号强度阶梯值为1 dB ~30dB。可选地，所述第一预设时间段大于所述第二预设时间段。第二方面，本申请提供了一种图传设备，应用于机体高度大于预设值的无人机，所述无人机上设置有射频开关和天线，所述射频开关与一组天线相连，所述天线对称设置在无人机的机身对侧上，至少包括处理模块和传输模块，其中，所述处理模块与所述传输模块相连，所述处理模块用于执行第一方面所述的任意一项通信链路的切换方法；所述传输模块至少包括射频收发单元，所述射频收发单元与所述处理模块相连。可选地，所述无人机还包括第三天线或第四天线，所述第三天线位于所述无人机的机身顶部，所述第四天线位于所述无人机的机身底部。可选地，所述天线内置固定在无人机的非金属结构体上，或外置在到无人机金属体的预设距离的位置上，图传天线距离机身外围金属体的距离为5mm~15cm。本申请实施例通过在无人机安装射频开关，在第一预设时间段内，周期性地获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值；根据所述第一信号强度值，确定第一信号强度基准值；根据所述第一信号强度基准值和预设信号强度阶梯值，确定与所述第一信号强度基准值对应的第一信号强度阈值；获取所述第一天线的第二信号强度值；若所述第二信号强度值小于所述第一信号强度阈值，则通过所述射频开关将工作的所述第一天线切换到与所述射频开关相连的第二天线。这样，可以在多个天线中选择最优的未被遮挡的天线进行数据传输，提高数据传输效率。第三方面，本申请提供一种无人机，所述无人机的机体高度大于预设值，所述无人机上设置有射频开关和天线，所述射频开关与一组天线相连，所述天线对称设置在所述无人机上，用于执行如第一方面任一实施例所述的通信链路的切换方法。可选地，所述无人机的机身高度为5cm~100cm。附图说明为了更清楚地说明本申请的一些实施例的技术方案，下面将对本申请的一些实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本申请实施例提供的一种通信链路的切换方法的流程示意图；图2为本申请实施例提供的近机身的四天线结构示意图；图3为本申请实施例提供的近机身的三天线结构示意图；图4为本申请实施例提供的近机身的三天线结构示意图；图5为本申请实施例提供的四天线的图传设备的结构示意图；图6为本申请实施例提供的三天线的图传设备的结构示意图。具体实施方式下面将结合本申请的一些实施例中的附图，对本申请的一些实施例中的技术方案进行描述。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。同时，在本申请的描述中，术语“第一”、“第二”等仅用于区分描述，而不能理解为指示或暗示相对重要性。无人机上设置有图传系统，该图传系统是采用无人机所搭载的摄像机拍摄视频数据，并用无线传输的方式实时将采集的视频数据传送到终端设备，例如，采用OFDM、WIFI技术等进行数据传输。目前，无人机设置有图传天线，图传天线大多布局在机腿、机臂端或机身底部，来降低金属机身对天线的遮挡。针对有些机体较高的无人机，图传天线又无法布局在顶部或底部时，机体部分金属成分比较多，容易对图传天线造成遮挡，导致图像数据传输效率不高，鉴于此，本申请的一些实施例提供了一种通信链路的切换方法，应用于机体高度大于预设值的无人机，无人机上设置有射频开关和天线，射频开关与一组天线相连，天线对称设置在无人机上，该方法包括：在第一预设时间段内，周期性地获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值；根据第一信号强度值，确定第一信号强度基准值；根据第一信号强度基准值和预设信号强度阶梯值，确定与第一信号强度基准值对应的第一信号强度阈值；获取第一天线的第二信号强度值；若第二信号强度值小于第一信号强度阈值，则通过射频开关将工作的第一天线切换到与射频开关相连的第二天线，通过获取一段时间内的最强的信号强度值，然后根据该最强的信号强度值和预设信号强度阶梯值计算与最强的信号强度值对应的信号强度阈值，并根据该最强的信号强度值和对应的信号强度阈值，对后续获取到的信号强度值进行判断，若后续获取到的信号强度值小于信号强度阈值，则通过射频开关对工作天线进行切换，这样，可以在多个天线中选择最优的未被遮挡的天线，即信号强度值最高的天线进行数据传输，提高数据传输效率。如图1所示，本申请的实施例提供了一种通信链路的切换方法，应用于机体高度大于预设值的无人机，无人机上设置有射频开关和天线，射频开关与一组天线相连，天线对称设置在无人机上，该方法包括：S101、在第一预设时间段内，周期性地获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值；具体地，本申请实施例中的无人机的机体高度大于预设值，无人机上设置有射频开关和多组天线，每一个射频开关和一组天线相连，多组天线对称布置。例如，在无人机上安装多个天线和射频开关，每个射频开关与多个天线相连，例如，天线的数量可以是4个或6个，可以根据需求进行设定，多个可以是两个及两个以上。无人机上的图传设备每隔第一预设时间段内，周期性地获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值，即RSSI值。S102、根据第一信号强度值，确定第一信号强度基准值；具体地，图传设备在第一预设时间段内，不断地获取到第一信号强度值，然后对接收到的前后的第一信号强度值进行比较，将信号强度值较强的信号作为第一信号强度基准值。示例性地，在采用与射频开关相连的天线A1的传输过程中，在第一预设时间段内，获取前一时刻的第一信号强度值-45，接收后一时刻的第一信号强度值-42，由于-45小于-42，则将-42作为第一信号强度基准值。S103、根据第一信号强度基准值和预设信号强度阶梯值，确定与第一信号强度基准值对应的第一信号强度阈值；具体地，图传设备上预先设置有预设信号强度阶梯值，根据第一信号强度基准值和预设信号强度阶梯值，计算与第一信号强度基准值对应的第一信号强度阈值。示例性地，图传设备获得第一信号强度基准值-35，预设信号强度阶梯值为6，根据第一信号强度基准值和预设信号强度阶梯值，计算第一信号强度阈值，-35-6=-41，即得到第一信号强度基准值和第一信号强度阈值的对应关系，也就是说信号强度基准值和信号强度阈值是成对出现的。S104、获取第一天线的第二信号强度值；S105、若第二信号强度值小于第一信号强度阈值，则通过射频开关将工作的第一天线切换到与射频开关相连的第二天线。具体地，图传设备获取第一天线的第二信号强度值，将第二信号强度值和第一信号强度阈值进行比较，若第二信号强度值大于或等于第一信号强度阈值，则继续使用该天线进行数据传输，若第二信号强度值小于第一信号强度阈值，说明该天线的信号变弱，则通过射频开关将工作的第一天线切换到与射频开关相连的第二天线。图传设备在每个时间周期内，周期性地获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值，根据不断刷新的信号强度值确定信号强度基准值，进而根据信号强度基准值和预设信号强度阶梯值，确定与信号强度基准值对应的信号强度阈值，若后续的信号强度值小于该信号强度值，则进行天线切换，若大于信号强度值，则继续在原来的天线进行数据传输。本申请实施例在无人机安装射频开关，采集第一预设时间段内，无人机上的与射频开关相连的工作天线的第一信号强度值，并根据该第一信号强度值确定第一信号强度基准值，然后根据第一信号强度基准值和预设信号强度阶梯值，确定与第一信号强度基准值对应的第一信号强度阈值，若后续获取到的信号强度值大于或等于第一信号强度阈值，则继续使用该工作天线进行数据传输，若后续获取到的信号强度值小于第一信号强度阈值，则通过射频开关进行天线切换，这样，可以在多个天线中选择最优的未被遮挡的天线，始终保持在信号强度值高的天线进行数据传输，提高数据传输效率。本申请又一实施例对上述实施例提供的通信链路的切换方法做进一步补充说明。可选地，在第一预设时间段内，获取无人机上的与射频开关相连的工作的第一天线的第一信号强度值，包括：在第一预设时间段内，获取无人机上的与射频开关相连的工作的第一天线的当前周期的初始信号强度值；获取下一周期的信号强度值；若下一周期的信号强度值大于初始信号强度值，则将下一周期的信号强度值确定为第一信号强度基准值；或者若下一周期的信号强度值小于或等于初始信号强度值，则将初始信号强度值确定为第一信号强度基准值。具体地，本申请实施例中，无人机开始工作后，图传系统即图传设备会设定一个轮询周期T1即第一预设时间段，在每个T1周期内，首先图传系统会捕捉到射频开关相连的工作天线A1的RSSI值即下一周期的信号强度值，并与上个周期的RSSI值即初始信号强度值进行对比，RSSI较大值确定为第一信号强度基准值。进一步地，图传设备根据第一信号强度基准值和预设信号强度阈值计算第一信号强度阈值，预设信号强度阈值为目标信号强度值与信号阶梯值的差值，若该天线在某个T1周期监测到的信号强度值小于第一信号强度阈值，则切换到与射频开关相连的另一个天线A2，并在T2周期内获取到A2天线上的RSSI值，与A1天线上的最后一个周期的RSSI值进行对比，如果A2天线上的RSSI值较大，则目标信号强度更新为RSSI较大值，阈值也同步更新，开关将保持在A2天线上继续周期性地工作，直至某个T1周期的信号强度值小于信号强度阈值，启动开关切换；如果A2上的RSSI值较小，则射频开关将再次切换回到A1天线，则目标信号强度更新为RSSI较大值，阈值也同步更新，射频开关保持在A1天线上继续周期性地工作，直至某个T1周期的信号强度值小于信号强度阈值，启动开关切换。示例性地，如图2所示，无人机图传设备上可以安装有两个射频开关或一个射频开关，例如包括射频开关1和射频开关2，射频开关1连接天线A1和天线A2，射频开关2连接天线B1和天线B2，无人机开始上电后，射频开关1连接天线A1，射频开关2连接天线B1，在第一预设时间段内，图传设备获取天线A1的初始信号强度值和天线B1的初始信号强度值。在下一个时间周期内，无人机图传设备获取射频开关1相连的第一天线的第一信号强度值，例如，第一天线为A1，并与上一个周期内的信号强度值进行对比，信号强度较大者确定为第一信号强度基准值，然后根据第一信号强度基准值和预设信号强度阶梯值，确定与第一信号强度基准值对应的第一信号强度阈值。无人机图传设备获取射频开关2相连的第一天线的初始信号强度值，例如，第一天线为B1，然后再获取下一周期的信号强度值，并在初始信号强度值和下一周期的信号强度值中选择一个较大值，将较大值确定为第一信号强度阈值，根据第一信号强度基准值和预设信号强度阶梯值，确定与第一信号强度基准值对应的第一信号强度阈值。可选地，该方法还包括：获取将第一天线切换到第二天线之前的最后一次的第三信号强度值；在将工作的第一天线切换到第二天线的情况下，在第二预设时间段内，获取第二天线的第四信号强度值；若第四信号强度值小于第三信号强度值，则通过射频开关将第二天线切回至第一天线。本申请通过第二天线的当前信号强度值和射频开关切换前获取到的第一天线的最后一次信号强度值，在第二天线的当前信号强度值大于或等于射频开关切换前获取到的第一天线的最后一次信号强度值时，则采用第二天线继续进行数据传输，则需要实时监测第二天线的信号强度值，在判断第二天线的信号强度值小于预设信号强度阈值的情况下，再进行天线切换，这样可以实时保证采用信号强度高的天线进行数据传输。可选地，该方法还包括：若第四信号强度值大于或等于第三信号强度值，则获取第二天线的第五信号强度值；根据第五信号强度值，确定与第五信号强度值对应的第二信号强度基准值；根据第二信号强度基准值和预设信号强度阶梯值，确定与第二信号强度基准值对应的第二信号强度阈值；获取第二天线的第六信号强度值；若第六信号强度值小于第二信号强度阈值，则通过射频开关将工作的第二天线切换到与射频开关相连的第一天线。可选地，预设信号强度阶梯值为1 dB ~30dB。可选地，第一预设时间段大于第二预设时间段。具体地，在采用第二天线A2作为目标传输天线进行数据传输的过程中，实时获取第二天线A2的第四信号强度值，并对第二天线A2的第四信号强度值和第三信号强度值进行比较，若第四信号强度值小于第三信号强度值，则通过射频开关将第二天线切回至第一天线；若第二天线A2的第四信号强度值大于或等于第三信号强度值，则获取第二天线的第五信号强度值；根据第五信号强度值，确定与第五信号强度值对应的第二信号强度基准值；根据第二信号强度基准值和预设信号强度阶梯值，确定与第二信号强度基准值对应的第二信号强度阈值；获取第二天线的第六信号强度值；若第六信号强度值小于第二信号强度阈值，则通过射频开关将工作的第二天线切换到与射频开关相连的第一天线。若第二天线A2的信号强度值小于第二信号强度阈值，则从第二天线A2切换至第一天线A1，即若某一个天线的信号强度值减弱后，则进行天线的切换，选择信号强度值更高的天线进行数据传输，从而提高数据传输效率。本申请实施例通过在采用第二天线进行数据传输的过程中，对第二天线的信号强度值进行实时监测，若小于第二信号强度阈值，则从第二天线切换到第一天线，这样，可以实时保证采用信号强度高的天线进行数据传输，提高数据传输效率。本申请实施例通过判断第二天线A2的信号强度值小于前一个天线的最后一次的信号强度值，将天线切回至第一天线A1从而保证时刻采用信号强度值强的天线进行数据传输。具体地，在获取目标信号强度值的过程中，通常是采用当前周期的信号强度值与上一个周期的信号强度进行对比，或者，可以是当前周期的信号强度值和下一个周期的信号强度值进行对比，假设信号强度阶梯值为6dB，若当前周期的信号强度基准值为-78，上一个周期的信号强度值为-82，说明当前周期的信号强度值大于上一个周期的信号强度值，则将当前周期的信号强度值确定为信号强度基准值，信号强度阈值为-84，下一周期的信号强度值将分为三种情况：第一种情况，若下一周期的信号强度值为-83，介于信号强度基准值与信号强度阈值之间，则射频开关继续在该天线上工作；第二种情况，若下一周期的信号强度值为-75，高于信号强度基准值-78，则-75更新为信号强度基准值，信号强度阈值更新为-81，射频开关继续在该天线上工作；第三种情况，若下一周期的信号强度值为-85，则该值小于-84的信号强度阈值，射频开关将进行天线切换，切换后首先保持第二个预设时间段，并采集到当前天线的信号强度值，如果该信号强度值为-90，则射频开关将切回原天线继续工作，如果射频开关切换到另一个天线后的第二预设时间段获取到的信号强度值为-80，大于开关切换前的天线的最后一个周期内的信号强度值-85，则信号强度基准值更新为-80，信号强度阈值更新为-86，开关将在切换后的天线上继续按照第一预设时间段的周期进行工作，直至某个周期内的信号强度值小于信号强度阈值，射频开关将再次切换。图5为本申请实施例提供的图传设备的结构示意图，如图5所示，无人机布局4个天线，如图2所示，无人机机身的一个对侧布局天线A1和天线A2，另一个对侧布局天线为天线B1和天线B2，其中，天线A1和天线A2关于机身对称，天线B1和天线B2也关于机身对称，这4个天线既可以布局在两个机臂之间的4个区域里，也可以布局在4个机臂的下方，或者4个机臂的上方，或者与4个机臂交叉布局，无人机机身从俯视图看可以是圆形或长方形，图2中是显示圆形的，可选地，天线A1、天线A2、天线B2和天线B1互相呈90度布置。天线A1和天线A2在水平或竖直方向上保持一定距离，天线B1和天线B2天线在水平或竖直方向上保持一定距离，其中，天线A1和天线A2共用射频开关1，天线B1和天线B2共用射频开关2。该图传设备包括SOC芯片，该SOC芯片分别与射频发射/接收模块1和射频发射/接收模块2相连，射频发射/接收模块1通过双工器1与射频开关1相连，射频开关1分别与天线A1和天线A2相连；射频发射/接收模块2通过双工器2与射频开关2相连，射频开关2分别与天线B1和天线B2相连。由于对侧的两个天线呈现180度，因此当某时刻天线A1被机身遮挡时，天线A2是不会被遮挡的，图传系统会在B2天线上工作；当某时刻天线B1被机身遮挡时，天线B2是不会被遮挡的，图传系统会在天线B2两个同侧天线上工作。图传系统总是会选择两个性能较好的天线参与信号的发射与接收，提升图传效果。图6为本申请实施例提供的又一图传设备的结构示意图，如图6所示，无人机上布局3个天线，机身附近的两个面分别布局天线A1、天线A2，还可以在无人机的顶部设置天线C，A1和A2可以布局在两侧的两机臂之间的区域里，也可以布局在每侧的其中一个机臂的下方，或者2个机臂的上方，或者与2个机臂交叉布局，如图3所示，在无人机底部设置有天线D，如图4所示，其中天线A1和天线A2位于机身的对侧，其中，天线A1和天线A2共用一个射频开关1。该图传设备包括SOC芯片，该SOC芯片分别与射频发射/接收模块1和射频发射/接收模块2相连，射频发射/接收模块1通过双工器1与射频开关1相连，射频开关1分别与天线A1和天线A2相连；射频发射/接收模块2通过双工器2与射频开关2相连，射频开关2分别与天线C或天线D相连。无人机上的设置的3个天线，图传系统选择A1与A2信号较强的天线，并与底部天线D或顶部天线C一起参与图传信号的发射与接收，通过图传设备的切换策略，图传系统选择信号强度值最强的图传天线参与信号的发射与接收。当然，与发射/接收模块相比，接收模块需要的射频器件较少，空间也较小，可以结合硬件和结构的空间选择上述其中一个方案进行布局。本申请实施例提供了一种图传设备，应用于机体高度大于预设值的无人机，无人机上设置有射频开关和天线，射频开关与一组天线相连，天线对称设置在无人机上，至少包括处理模块和传输模块，其中，处理模块与传输模块相连，处理模块用于执行第一方面的任意一项通信链路的切换方法；传输模块至少包括射频收发单元，射频收发单元与处理模块相连。无人机还包括第三天线或第四天线，第三天线位于无人机的机身顶部，第四天线位于无人机的机身底部。具体地，无人机的图传系统包含一颗具有AI功能的SOC图像处理芯片，SOC芯片连接有两条或者4条通讯链路。其中发射/接收链路通常包括射频发射/接收模块、双工器和天线，每个射频发射/接收模块通常包括射频收发器芯片、PA、LNA、发射/接收切换开关、滤波器等，天线前面各有一个双工器，双工器的作用是针对多频率使用的天线，选择其中一种频率工作，如果通讯链路只有一个工作频段，则链路中不需要双工器；即若天线的工作频段为多频段，分频器可用来分频，例如天线支持2.4G和5.8G的工作频段，在进行数据传输的过程中，分频器可用于选择需要的工作频段。若天线的工作频段为单频段，则在传输链路中则不需要增加双工器。MIMO，RSSI值通常是以负数dBm表示，RSSI的绝对值越小，代表信号接收强度越强。针对图传天线被遮挡的情况，首先需要在机身附近布局3个或4个天线。其中不同位置的两个天线可以共接一个射频开关，通常射频开关的切换速度在0.1毫秒内。具体地，随着图传距离的变化，天线的RSSI值会不断变化，通常距离越远，RSSI值越弱。无人机开始工作后，图传系统会设定一个周期T1，在每个T1周期内，图传系统会捕捉到每个射频开关上工作天线的RSSI值，并和上一个T1周期的RSSI值进行对比，RSSI较大者更新为目标信号强度，信号强度阈值更新为目标信号强度与信号强度阶梯值的差值，一旦后面某个T1周期的RSSI值小于信号强度阈值，则启动开关切换，开关会在新天线上保持周期T2，并在T2周期内捕捉到当前天线的RSSI值，如果该值弱于切换前在原天线上的查询的最后一次RSSI值，则天线会继续切换回原天线工作，如果该信号强度值强于切换前查询到的最后一次的RSSI值，则开关会继续在该天线上工作若干个T1周期，期间图传系统会根据每个T1周期的RSSI值与前个周期的RSSI值进行比较，将RSSI较大者更新为目标信号强度，信号强度阈值更新为目标信号强度与信号强度阶梯值的差值，一旦后面某个T1周期的RSSI值小于信号强度阈值，则继续进行开关切换。直至RSSI值越来越弱，最后图传断联。可选地，天线至少包括硬质PCB板天线、柔性板天线或者铜管及弹簧组成的棒状天线中的一种。可选地，天线内置固定在无人机的非金属结构体上，或外置在到无人机金属体的预设距离的位置上，图传天线距离机身外围金属体的距离为5mm~15cm。本申请实施例中涉及到的图传天线可以是硬质PCB板天线，也可以是柔性板天线，还可以是铜管及弹簧组成的棒状天线。其中，图传天线可以内置固定在机身的非金属结构体上，也可以外置，与机身保持一定的距离。本申请提供一种无人机，无人机的机体高度大于预设值，无人机上设置有射频开关和天线，射频开关与一组天线相连，天线对称设置在无人机上，用于执行如上述的通信链路的切换方法。其中，无人机的机身高度为5cm~100cm。本申请实施例中的通信链路的切换方法适用于机身高度在5cm~100cm的无人机结构。本申请实施例中的图传天线工作频段有840~960MHz、1.4GHz、2.4GHz和5.8GHz。本申请实施例中采用特殊的图传天线布局，配合射频开关的切换策略，上述几种方案下的通信链路自适应切换方法可以保证飞机上至少有两个信号强的图传天线参与地面端的信号连接，实现最优通信端切换，消除或降低遮挡影响，保证了传输的质量，提升了图传效果。关于本实施例中的装置，其中各个模块执行操作的具体方式已经在有关该方法的实施例中进行了详细描述，此处将不做详细阐述说明。需要说明的是，本实施例中各可实施的方式可以单独实施，也可以在不冲突的情况下以任意组合方式结合实施本申请不做限定。以上仅为本申请的实施例而已，并不用于限制本申请的保护范围，对于本领域的技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。以上，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应所述以权利要求的保护范围为准。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。
