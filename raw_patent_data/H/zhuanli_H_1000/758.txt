标题title
一种基于数字和模拟混合跳频的FH-OFDM系统及方法
摘要abst
本发明公开了一种基于数字和模拟混合跳频的FH‑OFDM系统及方法，属于无线通信技术领域，所述系统包括：跳频序列发生器、信道编码模块、调制模块、子载波映射模块、逆傅里叶变换模块、加循环前缀模块、数模转换模块、锁相环电路以及混频器；其中，所述跳频序列发生器用于生成跳频图样和两路跳频控制信号，其中一路控制信号通过子载波映射模块实现子载波间隔整数倍的频率调制，另一路控制信号通过控制锁相环电路，利用混频器实现预设范围内频率调制。利用本发明可实现低复杂度、大带宽、高跳速的跳频通信，同时由于数模混合的跳频时隙为非均匀时间间隔，进一步提高了跳频系统的安全性。
权利要求书clms
1.一种基于数字和模拟混合跳频的FH-OFDM系统，其特征在于，包括：跳频序列发生器、信道编码模块、调制模块、子载波映射模块、逆傅里叶变换模块、加循环前缀模块、数模转换模块、锁相环电路以及混频器；其中，所述跳频序列发生器用于在数字域和模拟域实现跳频；所述信道编码模块用于对接收到的信源信息进行编码；所述调制模块用于将所述信道编码模块输出的码字转换为调制符号；所述子载波映射模块用于采用集中式映射方式，根据所述跳频序列发生器的控制信号，将所述调制模块输出的调制符号映射到不同的子载波区间；所述逆傅里叶变换模块用于对所述子载波映射模块输出的子载波映射结果做逆傅里叶变换，实现正交频分复用OFDM符号调制；所述加循环前缀模块用于将所述逆傅里叶变换模块输出的调制后的OFDM符号的尾部的信号复制到符号的头部；所述数模转换模块用于将所述加循环前缀模块输出的OFDM数字信号转换为模拟信号，得到基带OFDM信号；所述锁相环电路用于根据跳频序列发生器的控制信号，生成本地载波信号；所述混频器用于将所述数模转换模块输出的基带OFDM信号与所述锁相环电路产生的本地载波信号相乘，实现信号的频率调制。2.如权利要求1所述的基于数字和模拟混合跳频的FH-OFDM系统，其特征在于，所述跳频序列发生器具体用于：生成跳频图样和两路跳频控制信号，其中一路控制信号通过所述子载波映射模块实现子载波间隔整数倍的频率调制，另一路控制信号通过控制所述锁相环电路，利用所述混频器实现预设范围内频率调制。3.如权利要求1所述的基于数字和模拟混合跳频的FH-OFDM系统，其特征在于，生成跳频图样和两路跳频控制信号，其中一路控制信号通过所述子载波映射模块实现子载波间隔整数倍的频率调制，另一路控制信号通过控制所述锁相环电路，利用所述混频器实现预设范围内频率调制的过程，包括：步骤1：在t＝0起始时刻，跳频序列发生器产生随机序列其中，ri表示随机序列R中的元素，i＝0,1,…,Q-1；Q为预设值；步骤2：根据当前时刻t的随机序列R，截取锁相环电路控制序列根据/＞计算载波信号的索引值为/＞控制所述锁相环电路输出频率为f的载波信号；步骤3：根据当前时刻t的随机序列R，截取子载波映射模块的控制序列根据/＞计算子载波的偏移值b；如果/＞则如果/＞首先对/＞逐位取反得到此时/＞其中，ri表示当前时刻t的随机序列R中的元素，i＝0,1,…,M-1,M,M+1,…,Q-1；M为预设值；/＞表示取反后的值，j＝M,M+1,…,Q-1；步骤4：子载波映射过程中，对于Ndata个有效的数据子载波根据步骤3中计算得到的子载波偏移值b，将其映射到Nfft个逆傅里叶变换输入信号/＞上；对于b＝0时，得到/＞其中：其中，xi表示第i个有效的数据子载波，i＝1,2,…,Ndata；yp表示第p个逆傅里叶变换输入信号，p＝1,2,…,Nfft；当b≥0时，y＝y·Pb；当b＜0时，y＝{Pb·{y}T}T；其中，{·}T表示对矩阵或向量的转置运算，P是一个Nfft×Nfft维的单位循环移位矩阵：步骤5：对步骤4得到的y作逆傅里叶变换运算，即可在数字域完成b·Δf的频率调制；其中，Δf为子载波间隔；步骤6：令t＝t+1，计算下一时刻的随机序列，并转入步骤2。4.如权利要求1所述的基于数字和模拟混合跳频的FH-OFDM系统，其特征在于，所述基于数字和模拟混合跳频的FH-OFDM系统采用的跳频时隙/帧结构包括模拟跳帧结构和数字跳帧结构；其中，模拟跳帧结构由锁相环切换时间、自动增益控制保护时间、同步序列和数据载荷组成，其中，锁相环切换时间用于锁相环频率转换过程中环路的重新入锁所需的保护时间；自动增益控制保护时间是自动增益控制调整接收信号幅度达到稳定所需的时间；同步序列用于跳频系统的同步；数据载荷是帧结构中传输的有效OFDM数据；数字跳帧结构由自动增益控制保护时间、同步序列和数据载荷组成。5.一种利用如权利要求1～4任一项所述的基于数字和模拟混合跳频的FH-OFDM系统实现的自适应跳频方法，其特征在于，所述自适应跳频方法包括：通过跳频序列发生器在数字域和模拟域实现跳频；通过信道编码模块对接收到的信源信息进行编码；通过调制模块将所述信道编码模块输出的码字转换为调制符号；通过子载波映射模块采用集中式映射方式，根据所述跳频序列发生器的控制信号，将所述调制模块输出的调制符号映射到不同的子载波区间；通过逆傅里叶变换模块对所述子载波映射模块输出的子载波映射结果做逆傅里叶变换，实现正交频分复用OFDM符号调制；通过加循环前缀模块将所述逆傅里叶变换模块输出的调制后的OFDM符号的尾部的信号复制到符号的头部；通过数模转换模块将所述加循环前缀模块输出的OFDM数字信号转换为模拟信号，得到基带OFDM信号；通过锁相环电路，根据跳频序列发生器的控制信号，生成本地载波信号；通过混频器将所述数模转换模块输出的基带OFDM信号与所述锁相环电路产生的本地载波信号相乘，实现信号的频率调制。6.如权利要求5所述的自适应跳频方法，其特征在于，所述通过跳频序列发生器在数字域和模拟域实现跳频，包括：通过跳频序列发生器生成跳频图样和两路跳频控制信号，其中一路控制信号通过所述子载波映射模块实现子载波间隔整数倍的频率调制，另一路控制信号通过控制所述锁相环电路，利用所述混频器实现预设范围内频率调制。7.如权利要求5所述的自适应跳频方法，其特征在于，通过跳频序列发生器生成跳频图样和两路跳频控制信号，其中一路控制信号通过所述子载波映射模块实现子载波间隔整数倍的频率调制，另一路控制信号通过控制所述锁相环电路，利用所述混频器实现预设范围内频率调制的过程，包括：步骤1：在t＝0起始时刻，跳频序列发生器产生随机序列其中，ri表示随机序列R中的元素，i＝0,1,…,Q-1；Q为预设值；步骤2：根据当前时刻t的随机序列R，截取锁相环电路控制序列根据/＞计算载波信号的索引值为/＞控制所述锁相环电路输出频率为f的载波信号；步骤3：根据当前时刻t的随机序列R，截取子载波映射模块的控制序列根据/＞计算子载波的偏移值b；如果/＞则如果/＞首先对/＞逐位取反得到此时/＞其中，ri表示当前时刻t的随机序列R中的元素，i＝0,1,…,M-1,M,M+1,…,Q-1；M为预设值；/＞表示rj取反后的值，j＝M,M+1,…,Q-1；步骤4：子载波映射过程中，对于Ndata个有效的数据子载波根据步骤3中计算得到的子载波偏移值b，将其映射到Nfft个逆傅里叶变换输入信号/＞上；对于b＝0时，得到/＞其中：其中，xi表示第i个有效的数据子载波，i＝1,2,…,Ndata；yp表示第p个逆傅里叶变换输入信号，p＝1,2,…,Nfft；当b≥0时，y＝y·Pb；当b＜0时，y＝{Pb·{y}T}T；其中，{·}T表示对矩阵或向量的转置运算，P是一个Nfft×Nfft维的单位循环移位矩阵：步骤5：对步骤4得到的y作逆傅里叶变换运算，即可在数字域完成b·Δf的频率调制；其中，Δf为子载波间隔；步骤6：令t＝t+1，计算下一时刻的随机序列，并转入步骤2。8.如权利要求5所述的自适应跳频方法，其特征在于，所述自适应跳频方法采用的跳频时隙/帧结构包括模拟跳帧结构和数字跳帧结构；其中，模拟跳帧结构由锁相环切换时间、自动增益控制保护时间、同步序列和数据载荷组成，其中，锁相环切换时间用于锁相环频率转换过程中环路的重新入锁所需的保护时间；自动增益控制保护时间是自动增益控制调整接收信号幅度达到稳定所需的时间；同步序列用于跳频系统的同步；数据载荷是帧结构中传输的有效OFDM数据；数字跳帧结构由自动增益控制保护时间、同步序列和数据载荷组成。
说明书desc
技术领域本发明涉及无线通信技术领域，特别是指一种基于数字和模拟混合跳频的跳频-正交频分复用系统及方法。背景技术跳频技术是一种载波频率按照一定的跳频图样在频带范围内随机变化的通信系统，具有抗干扰、抗衰落、保密性强等特点。正交频分复用则是通过将高速传输的数据流进行串并转换，增加符号持续时间，从而有效对抗多径效应导致的码间串扰和频率选择性衰落。同时，OFDM具有频谱效率高的优点，因而被广泛应用于复杂信道环境下的高速信息传输。在城市作战场景下，受到大型建筑物等的影响，无线通信信号极易被遮挡。同时，战场复杂电磁环境中存在有意或无意的干扰，会对无线传输的可靠性产生极大的影响。为了提高通信系统的传输能力，将跳频与OFDM技术结合在一起，不仅具有较强的抗干扰能力，还能提高无线通信系统的信道容量和传输效率，在未来的无线电通信和保密通信中具有广泛的应用。由于跳频通信系统的抗干扰性，主要是通过频点的快速变化躲避恶意干扰，即使部分频点被干扰了通信系统依然能够有效工作。因此，跳频速率和跳频图样的随机性成为衡量跳频系统抗干扰能力的重要指标，高跳速、大带宽的跳频系统可有效提高通信系统的抗干扰性能。传统基于锁相环具有输出频率范围广、频率上限高等特点，但频率转换过程中需要环路的重新入锁，转换速度较慢；直接数字频率合成方式具有频率切换快、分辨率高等特点，但可支持的频率范围较窄。综上所述，结合FH-OFDM系统特点设计一种可支持大带宽、快速切频的跳频方法具有重要的应用价值。目前，现有技术如下：现有技术一，提出一种基于双连接的跳频方法，通过发送端和接收端天线提前进行换频操作，降低频率切换引入的时间开销，提高跳频速率。这种方法可实现大带宽的快速跳频，但在实现过程中需要两套射频前端和天线，系统复杂度和成本较高。现有技术二，采用PLL+DDS结合的跳频方法，可实现高分辨率、大带宽的频率跳变，但主要是针对传统的单载波通信系统。上述两种方案，采用了不同的策略去降低频率切换引入的时间开销，但均具有一定的局限性。发明内容本发明提供了一种基于数字和模拟混合跳频的FH-OFDM系统及方法，以解决现有技术所存在的系统复杂度和成本较高，应用场景单一的技术问题。为解决上述技术问题，本发明提供了如下技术方案：一方面，本发明提供了一种基于数字和模拟混合跳频的FH-OFDM系统，所述基于数字和模拟混合跳频的FH-OFDM系统包括：跳频序列发生器、信道编码模块、调制模块、子载波映射模块、逆傅里叶变换模块、加循环前缀模块、数模转换模块、锁相环电路以及混频器；其中，所述跳频序列发生器用于在数字域和模拟域实现跳频；所述信道编码模块用于对接收到的信源信息进行编码；所述调制模块用于将所述信道编码模块输出的码字转换为调制符号；所述子载波映射模块用于采用集中式映射方式，根据所述跳频序列发生器的控制信号，将所述调制模块输出的调制符号映射到不同的子载波区间；所述逆傅里叶变换模块用于对所述子载波映射模块输出的子载波映射结果做逆傅里叶变换，实现正交频分复用OFDM符号调制；所述加循环前缀模块用于将所述逆傅里叶变换模块输出的调制后的OFDM符号的尾部的信号复制到符号的头部；所述数模转换模块用于将所述加循环前缀模块输出的OFDM数字信号转换为模拟信号，得到基带OFDM信号；所述锁相环电路用于根据跳频序列发生器的控制信号，生成本地载波信号；所述混频器用于将所述数模转换模块输出的基带OFDM信号与所述锁相环电路产生的本地载波信号相乘，实现信号的频率调制。进一步地，所述跳频序列发生器具体用于：生成跳频图样和两路跳频控制信号，其中一路控制信号通过所述子载波映射模块实现子载波间隔整数倍的频率调制，另一路控制信号通过控制所述锁相环电路，利用所述混频器实现预设范围内频率调制。进一步地，所述生成跳频图样和两路跳频控制信号，其中一路控制信号通过所述子载波映射模块实现子载波间隔整数倍的频率调制，另一路控制信号通过控制所述锁相环电路，利用所述混频器实现预设范围内频率调制的过程包括：步骤1：在t＝0起始时刻，跳频序列发生器产生随机序列其中，ri表示随机序列R中的元素，i＝0,1,…,Q-1；Q为预设值；步骤2：根据当前时刻t的随机序列R，截取所述锁相环电路控制序列根据/＞计算载波信号的索引值为/＞控制所述锁相环电路输出频率为f的载波信号；步骤3：根据当前时刻t的随机序列R，截取子载波映射模块的控制序列根据/＞计算子载波的偏移值b；如果/＞则如果/＞首先对/＞逐位取反得到此时/＞其中，ri表示当前时刻t的随机序列R中的元素，i＝0,1,…,M-1,M,M+1,…,Q-1；M为预设值；/＞表示rj取反后的值，j＝M,M+1,…,Q-1；步骤4：子载波映射过程中，对于Ndata个有效的数据子载波根据步骤3中计算得到的子载波偏移值b，将其映射到Nfft个逆傅里叶变换输入信号上；对于b＝0时，得到/＞其中：其中，xi表示第i个有效的数据子载波，i＝1,2,…,Ndata；yp表示第p个逆傅里叶变换输入信号，p＝1,2,…,Nfft；当b≥0时，y＝y·Pb；当b＜0时，y＝{Pb·{y}T}T；其中，{·}T表示对矩阵或向量的转置运算，P是一个Nfft×Nfft维的单位循环移位矩阵：步骤5：对步骤4得到的y作逆傅里叶变换运算，即可在数字域完成b·Δf的频率调制；其中，Δf为子载波间隔；步骤6：令t＝t+1，计算下一时刻的随机序列，并转入步骤2。进一步地，所述基于数字和模拟混合跳频的FH-OFDM系统采用的跳频时隙/帧结构包括模拟跳帧结构和数字跳帧结构；其中，模拟跳帧结构由锁相环切换时间、自动增益控制保护时间、同步序列和数据载荷组成，其中，锁相环切换时间用于锁相环频率转换过程中环路的重新入锁所需的保护时间；自动增益控制保护时间是自动增益控制调整接收信号幅度达到稳定所需的时间；同步序列用于跳频系统的同步；数据载荷是帧结构中传输的有效OFDM数据；数字跳帧结构由自动增益控制保护时间、同步序列和数据载荷组成。另一方面，本发明还提供了一种利用上述的基于数字和模拟混合跳频的FH-OFDM系统实现的自适应跳频方法，所述自适应跳频方法包括：通过跳频序列发生器在数字域和模拟域实现跳频；通过信道编码模块对接收到的信源信息进行编码；通过调制模块将所述信道编码模块输出的码字转换为调制符号；通过子载波映射模块采用集中式映射方式，根据所述跳频序列发生器的控制信号，将所述调制模块输出的调制符号映射到不同的子载波区间；通过逆傅里叶变换模块对所述子载波映射模块输出的子载波映射结果做逆傅里叶变换，实现正交频分复用OFDM符号调制；通过加循环前缀模块将所述逆傅里叶变换模块输出的调制后的OFDM符号的尾部的信号复制到符号的头部；通过数模转换模块将所述加循环前缀模块输出的OFDM数字信号转换为模拟信号，得到基带OFDM信号；通过锁相环电路，根据跳频序列发生器的控制信号，生成本地载波信号；通过混频器将所述数模转换模块输出的基带OFDM信号与所述锁相环电路产生的本地载波信号相乘，实现信号的频率调制。进一步地，所述通过跳频序列发生器在数字域和模拟域实现跳频，包括：通过跳频序列发生器生成跳频图样和两路跳频控制信号，其中一路控制信号通过所述子载波映射模块实现子载波间隔整数倍的频率调制，另一路控制信号通过控制所述锁相环电路，利用所述混频器实现预设范围内频率调制。进一步地，所述通过跳频序列发生器生成跳频图样和两路跳频控制信号，其中一路控制信号通过所述子载波映射模块实现子载波间隔整数倍的频率调制，另一路控制信号通过控制所述锁相环电路，利用所述混频器实现预设范围内频率调制的过程，包括：步骤1：在t＝0起始时刻，跳频序列发生器产生随机序列其中，ri表示随机序列R中的元素，i＝0,1,…,Q-1；Q为预设值；步骤2：根据当前时刻t的随机序列R，截取所述锁相环电路控制序列根据/＞计算载波信号的索引值为/＞控制所述锁相环电路输出频率为f的载波信号；步骤3：根据当前时刻t的随机序列R，截取子载波映射模块的控制序列根据/＞计算子载波的偏移值b；如果/＞则如果/＞首先对/＞逐位取反得到此时/＞其中，ri表示当前时刻t的随机序列R中的元素，i＝0,1,…,M-1,M,M+1,…,Q-1；M为预设值；/＞表示rj取反后的值，j＝M,M+1,…,Q-1；步骤4：子载波映射过程中，对于Ndata个有效的数据子载波根据步骤3中计算得到的子载波偏移值b，将其映射到Nfft个逆傅里叶变换输入信号上；对于b＝0时，得到/＞其中：其中，xi表示第i个有效的数据子载波，i＝1,2,…,Ndata；yp表示第p个逆傅里叶变换输入信号，p＝1,2,…,Nfft；当b≥0时，y＝y·Pb；当b＜0时，y＝{Pb·{y}T}T；其中，{·}T表示对矩阵或向量的转置运算，P是一个Nfft×Nfft维的单位循环移位矩阵：步骤5：对步骤4得到的y作逆傅里叶变换运算，即可在数字域完成b·f的频率调制；其中，Δf为子载波间隔；步骤6：令t＝t+1，计算下一时刻的随机序列，并转入步骤2。进一步地，所述自适应跳频方法采用的跳频时隙/帧结构包括模拟跳帧结构和数字跳帧结构；其中，模拟跳帧结构由锁相环切换时间、自动增益控制保护时间、同步序列和数据载荷组成，其中，锁相环切换时间用于锁相环频率转换过程中环路的重新入锁所需的保护时间；自动增益控制保护时间是自动增益控制调整接收信号幅度达到稳定所需的时间；同步序列用于跳频系统的同步；数据载荷是帧结构中传输的有效OFDM数据；数字跳帧结构由自动增益控制保护时间、同步序列和数据载荷组成。再一方面，本发明还提供了一种电子设备，其包括处理器和存储器；其中，存储器中存储有至少一条指令，所述指令由处理器加载并执行，以实现上述方法。又一方面，本发明还提供了一种计算机可读存储介质，所述存储介质中存储有至少一条指令，所述指令由处理器加载并执行，以实现上述方法。本发明提供的技术方案带来的有益效果至少包括：本发明针对FH-OFDM系统中，基于PLL的模拟跳频切换时间较大且基于DDS方法的数字跳频可支持的频率范围较窄的问题，提出了一种基于数字和模拟混合跳频的FH-OFDM系统及基于数模混合的FH-OFDM跳频方法。通过控制子载波映射模块实现子载波间隔整数倍的频率调制，同时通过控制PLL，利用模拟混频器实现大范围内频率调制。采用数模混合跳频方法，可减少PLL切换时间开销，并提高跳频系统的安全性，实现低复杂、大带宽、快速切频。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的基于数字和模拟混合跳频的FH-OFDM系统的结构组成示意图；图2是本发明实施例提供的模拟跳帧结构示意图；图3是本发明实施例提供的数字跳帧结构示意图；图4是本发明实施例提供的电子设备的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明实施方式作进一步地详细描述。首先，需要说明的是，在本发明实施例中，“示例地”、“例如”等词用于表示作例子、例证或说明。本发明中被描述为“示例”的任何实施例或设计方案不应被解释为比其它实施例或设计方案更优选或更具优势。确切而言，使用“示例地”一词旨在以具体方式呈现概念。此外，在本发明实施例中，“和/或”所表达的含义可以是两者都有，或者可以是两者任选其一。而且，在本发明实施例中，“图像”，“图片”有时可以混用，应当指出的是，在不强调其区别时，其所要表达的含义是一致的。此外，在本发明实施例中，有时候下标可能会笔误为非下标的形式，在不强调其区别时，其所要表达的含义是一致的。本实施例提供了一种基于数字和模拟混合跳频的FH-OFDM系统，在FH-OFMD系统中，采用子载波和PLL分别实现数字和模拟跳频的方法，利用跳频生成器生成两路跳频控制信号，分别控制子载波映射模块实现数字跳频和PLL实现模拟跳频。具体地，该FH-OFDM系统如图1所示，包括：跳频序列发生器、信道编码模块、调制模块、子载波映射模块、逆傅里叶变换IFFT模块、加循环前缀模块CP、数模转换DA模块、锁相环PLL电路以及混频器；其中，所述跳频序列发生器是该系统不同于传统OFDM系统的核心组成，用于在数字域和模拟域实现跳频；具体为：跳频序列发生器生成跳频图样和两路跳频控制信号，一路控制信号通过子载波映射模块实现子载波间隔整数倍的频率调制，一路信号通过控制PLL电路，利用模拟混频器，实现大范围内频率调制；所述信道编码模块用于对接收到的信源信息进行编码，提高通信系统的纠错能力；所述调制模块可采用相移键控PSK、正交振幅调制QAM、幅移键控和相移键控APSK等多种调制方式，用于将信道编码模块输出的码字转换为调制符号；所述子载波映射模块可采用集中式映射方式，用于根据所述跳频序列发生器的控制信号，将所述调制模块输出的调制符号映射到不同的子载波区间；所述逆傅里叶变换IFFT模块用于对所述子载波映射模块输出的子载波映射结果做逆傅里叶变换，实现正交频分复用OFDM符号调制；所述加循环前缀CP模块用于将所述逆傅里叶变换模块输出的调制后的OFDM符号的尾部的信号复制到符号的头部，对抗多径引起的符号间干扰；所述数模转换DA模块用于将所述加循环前缀模块输出的OFDM数字信号转换为模拟信号，得到基带OFDM信号；锁相环PLL电路用于根据跳频序列发生器的控制信号，生成本地载波信号；所述混频器用于将所述数模转换模块输出的基带OFDM信号与所述锁相环PLL电路产生的本地载波信号相乘，实现信号的频率调制。基于上述，本实施例提出一种使用跳频序列发生器在数字域和模拟域实现跳频的方法。对于子载波间隔为Δf，有效数据子载波数为Ndata的OFDM信号带宽为Δf·Ndata，采用Nfft点IFFT实现OFDM符号调制时，信号采样率为fs＝Δf·Nfft。基于上述OFDM信号进行跳频通信时，考虑跳频序列发生器产生了Q比特的随机序列R＝{r0,r1,…,rQ-1}，对应的可用频率数最大为2Q个。可将R分成长度为两段RO＝{r0,r1,…rM-1}和RI＝{rM,rM+1,…rQ-1}，其中，RO用于控制PLL，实现大范围的频率切换；RI用于控制子载波映射，实现小范围内的频率切换。相应地，通过PLL可在频率集{f,f,}内选择产生不同的本地载波信号。跳频的具体实现过程如下：步骤1：在t＝0起始时刻，跳频序列发生器产生随机序列其中，ri表示随机序列R中的元素，i＝0,1,…,Q-1；Q为预设值；步骤2：根据当前时刻t的随机序列R，截取PLL控制序列根据/＞计算载波信号的索引值为/＞控制PLL输出频率为f的载波信号；步骤3：根据当前时刻t的随机序列R，截取子载波映射模块的控制序列根据/＞计算子载波的偏移值b；如果/＞则如果/＞首先对/＞逐位取反得到此时/＞其中，ri表示当前时刻t的随机序列R中的元素，i＝0,1,…,M-1,M,M+1,…,Q-1；M为预设值；/＞表示rj取反后的值，j＝M,M+1,…,Q-1；步骤4：子载波映射过程中，对于Ndata个有效的数据子载波根据步骤3中计算得到的子载波偏移值b，将其映射到Nfft个逆傅里叶变换输入信号上；对于b＝0时，得到/＞其中：其中，xi表示第i个有效的数据子载波，i＝1,2,…,Ndata；yp表示第p个逆傅里叶变换输入信号，p＝1,2,…,Nfft；当b≥0时，y＝y·Pb；当b＜0时，y＝{Pb·{y}T}T；其中，{·}T表示对矩阵或向量的转置运算，P是一个Nfft×Nfft维的单位循环移位矩阵：步骤5：对步骤4得到的y作逆傅里叶变换运算，即可在数字域完成b·Δf的频率调制；其中，Δf为子载波间隔；步骤6：令t＝t+1，计算下一时刻的跳频控制序列，并转入步骤2。进一步地，本实施例还提供了一种适用于数模混合跳频的时隙/帧结构设计。具体地，本实施例的模拟跳帧具体构成部分如图2所示，由PLL切换时间、AGC保护时间、同步序列和数据载荷组成，其中，PLL切换时间用于PLL频率转换过程中环路的重新入锁所需的保护时间。AGC保护时间是自动增益控制调整接收信号幅度达到稳定所需的时间。同步序列用于跳频系统的同步。数据载荷是帧结构中传输的有效OFDM数据。本实施例的数字跳采用DDS方式实现跳频，与模拟跳相比可不需要PLL切换的时间开销，其具体构成部分如图3所示，仅由AGC保护时间、同步序列和数据载荷组成。下面，以m序列为跳频序列发生器生成的随机序列为例，对本实施例的方法进行应用说明；其中，m序列即最长线性反馈移位寄存器，由带线性反馈的移位寄存器产生，每个m序列的生成由对应的特征多项式确定，具体形式如下：f＝C0x0+C1x1+C2x2+…+Cnxn其中，Cq为各个寄存器的反馈系数，q＝0,1,…,n；n为寄存器数量；x为输入。本实施例根据上式采用8级m序列发生器，具体生成多项式如下：f＝1+x2+x3+x4+x8通过此m序列发生器，可以简单地产生8比特的随机序列R＝{r0,r1,…,r7}，对应的可用频率数最大为28-1个。本方法跳频的具体步骤如下：步骤1：在t＝0起始时刻，跳频序列发生器产生随机序列R＝{0,0,0,0,0,0,0,1}；步骤2：根据当前时刻t的随机序列R，截取PLL控制序列根据/＞计算载波信号的索引值为/＞控制PLL输出频率为f的载波信号；步骤3：根据当前时刻t的随机序列R，截取子载波映射的控制序列根据/＞计算子载波的偏移值b。如果/＞则/＞如果/＞首先对/＞逐位取反得到/＞此时/＞步骤4：子载波映射过程中，对于Ndata＝720个有效的数据子载波{x1,x2,…,x720}。根据步骤3中计算得到的子载波偏移值b，将其映射到Nfft＝4096个IFFT输入信号y＝{y1,y2,…,y4096}上。对于b＝0时，得到其中：当b≥0时，y＝y·Pb；当b＜0时，y＝{Pb·{y}T}T。其中{·}T表示对矩阵或向量的转置运算，P是一个N4096×N4096维的单位循环移位矩阵：步骤5：对步骤4得到的y作IFFT运算，即可在数字域完成b·Δf的频率调制；步骤6：令t＝t+1，计算下一时刻的跳频控制序列，并转入步骤2。综上，本实施例提供了一种基于数字和模拟混合跳频的FH-OFDM系统，并提供了一种自适应跳频方法，给出了一种利用子载波映射和PLL分别实现数字和模拟跳频的方法，并给出了相应的跳频时隙设计，以及接收机的跳频同步方法。利用该方法可以实现低复杂度、大带宽、高跳速的跳频通信，同时由于数模混合的跳频时隙为非均匀时间间隔，进一步提高了跳频系统的安全性。进一步地，本实施例还提供了一种电子设备，如图4所示，该电子设备包括：处理器和存储器；其中，所述处理器与所述存储器可以通过通信总线连接；所述存储器中存储有至少一条指令，所述指令由所述处理器加载并执行，以实现上述的方法。此外，所述电子设备还可以包括收发器，所述处理器与所述收发器可以通过通信总线连接，所述收发器用于与其它设备进行通信。下面，结合图4对该电子设备的各个构成部件进行具体的介绍：其中，处理器是电子设备的控制中心，所述电子设备可以包括多个处理器，这些处理器中的每一个可以是一个单核处理器，也可以是一个多核处理器。这里的处理器可以是一个处理器，也可以是多个处理元件的统称。例如，处理器是一个或多个中央处理器，也可以是其他通用处理器、特定集成电路，或者是被配置成实施本发明实施例的一个或多个集成电路，例如：一个或多个微处理器，或，一个或者多个现场可编程门阵列，或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者也可以是任何常规的处理器等。处理器可以通过运行或执行存储在存储器内的软件程序，以及调用存储在存储器内的数据，执行所述电子设备的各种功能。在具体的实现中，作为一种实施例，所述处理器可以包括一个或多个CPU，例如图4中所示出的CPU0和CPU1，当然，此仅为示例性说明。所述存储器用于存储执行本发明方案的软件程序，并由所述处理器来控制执行，具体实现方式可以参考上述方法实施例，此处不再赘述。可选地，所述存储器可以是只读存储器或可存储静态信息和指令的其他类型的静态存储设备，随机存取存储器或者可存储信息和指令的其他类型的动态存储设备，也可以是电可擦可编程只读存储器、只读光盘或其他光盘存储、光碟存储、磁盘存储介质或者其他磁存储设备、或者能够用于携带或存储具有指令或数据结构形式的期望的程序代码并能够由计算机存取的任何其他介质，但不限于此。存储器可以和处理器集成在一起，也可以独立存在，并通过所述电子设备的接口电路与处理器耦合，本发明实施例对此不作具体限定。所述收发器可以包括接收器和发送器。其中，所述接收器用于实现接收功能，所述发送器用于实现发送功能。所述收发器可以和所述处理器集成在一起，也可以独立存在，并通过所述电子设备的接口电路与所述处理器耦合，本发明实施例对此不作具体限定。此外，需要说明的是，图4中示出的所述电子设备的结构并不构成对该设备的限定，实际的设备可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。此外，该电子设备在执行上述第一实施例的方法时所实现的技术效果可以参考上述第一实施例所述的技术效果，故，此处不再赘述。进一步地，本实施例还提供一种计算机可读存储介质，其中存储有至少一条指令，所述指令由处理器加载并执行，以实现上述的方法。其中，该计算机可读存储介质可以是ROM、随机存取存储器、CD-ROM、磁带、软盘和光数据存储设备等。其内存储的指令可由终端中的处理器加载并执行上述方法。此外，需要说明的是，本发明可提供为方法、装置或计算机程序产品。因此，本发明实施例可采用完全或部分硬件实施例、完全或部分软件实施例或结合软件和硬件方面的实施例的形式。而且，当使用软件实现时，本发明实施例可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。所述计算机程序产品包括一个或多个计算机指令或计算机程序。在计算机上加载或执行所述计算机指令或计算机程序时，全部或部分地产生按照本发明实施例所述的流程或功能。所述计算机可以为通用计算机、专用计算机、计算机网络、或者其他可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一个计算机可读存储介质传输，例如，所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可用介质集合的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质、光介质、或者半导体介质。半导体介质可以是固态硬盘。本发明实施例是参照根据本发明实施例的方法、终端设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、嵌入式处理机或其他可编程数据处理终端设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理终端设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理终端设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理终端设备上，使得在计算机或其他可编程终端设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程终端设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。还需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者终端设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者终端设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者终端设备中还存在另外的相同要素。此外，术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况，其中A，B可以是单数或者复数。另外，本文中字符“/”，一般表示前后关联对象是一种“或”的关系，但也可能表示的是一种“和/或”的关系，具体可参考前后文进行理解。“至少一个”是指一个或者多个，“多个”是指两个或两个以上。“以下至少一项”或类似表达，是指的这些项中的任意组合，包括单项或复数项的任意组合。例如，a,b或c中的至少一项，可以表示：a,b,c,a-b,a-c,b-c,或a-b-c，其中，a,b,c可以是单个，也可以是多个。此外，可以理解的是，在本发明的各种实施例中，上述各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。在本发明所提供的几个实施例中，应该理解到，所揭露的设备、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，功能模块/单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个设备，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。所述方法如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或光盘等各种可以存储程序代码的介质。最后需要说明的是，以上所述是本发明优选实施方式，应当指出，尽管已描述了本发明优选实施例，但对于本技术领域的技术人员来说，一旦得知了本发明的基本创造性概念，在不脱离本发明所述原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本发明的保护范围。所以，所附权利要求意欲解释为包括优选实施例以及落入本发明实施例范围的所有变更和修改。
