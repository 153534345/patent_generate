标题title
一种TDS的有效性测试方法、装置、电子设备及存储介质
摘要abst
本公开提供了一种TDS的有效性测试方法、装置、电子设备及存储介质，其特征在于，应用于测试机，所述方法包括：启动并获取第一测试数据；关机；重启并加载可信设备设置TDS；通过所述TDS获取所述第一测试数据和第二测试数据；所述第二测试数据是对所述第一测试数据执行测试用例后更新的第一测试数据；通过所述TDS比较所述第一测试数据和所述第二测试数据确定入侵结果；比较所述入侵结果和所述测试用例对应的预期结果，若二者一致则确定所述TDS有效。
权利要求书clms
1.一种TDS的有效性测试方法，其特征在于，应用于测试机，所述方法包括：启动并获取第一测试数据；关机；重启并加载可信设备设置TDS；通过所述TDS获取所述第一测试数据和第二测试数据；所述第二测试数据是对所述第一测试数据执行测试用例后更新的第一测试数据；通过所述TDS比较所述第一测试数据和所述第二测试数据确定入侵结果；比较所述入侵结果和所述测试用例对应的预期结果，若二者一致则确定所述TDS有效。2.根据权利要求1所述的方法，其特征在于，所述测试用例用于对所述第一测试数据中的特定的数据进行更新。3.根据权利要求1所述的方法，其特征在于，所述第一测试数据包括所述测试机的以下数据：CPU电压数据、固态硬盘数据、BIOS版本信息以及基本设置数据；所述获取第一测试数据，包括：加载管理引擎，通过所述管理引擎获取所述第一测试数据。4.根据权利要求3所述的方法，其特征在于，所述获取第一测试数据后，该方法还包括：通过所述管理引擎保存所述第一测试数据；所述通过所述TDS获取所述第一测试数据和第二测试数据，包括：加载所述管理引擎，通过所述管理引擎获取所述第二测试数据；通过所述TDS从所述管理引擎获取所述第一测试数据和所述第二测试数据。5.根据权利要求1所述的方法，其特征在于，所述第一测试数据包括：所述测试机的序列号、HASH值以及公钥；所述获取第一测试数据，包括：加载管理引擎，通过所述管理引擎获取所述测试机的软件数据和硬件数据，所述硬件数据包括所述测试机的序列号；加载TDS，通过所述TDS从所述管理引擎获取所述测试机的软件数据和硬件数据并加密生成所述HASH值；通过可信平台模块TPM获取所述测试机的主板硬件数据并加密生成所述公钥。6.根据权利要求5所述的方法，其特征在于，获取到所述第一测试数据后，还包括：将所述第一测试数据发送给第一服务器，以使数据处理装置从所述第一服务器获取所述第一测试数据，对所述第一测试数据执行所述测试用例后得到所述第二测试数据，并将所述第二测试数据存储在第二服务器。7.根据权利要求6所述的方法，其特征在于，所述通过所述TDS获取所述第一测试数据和第二测试数据，包括：通过所述TDS从所述第一服务器获取所述第一测试数据，从所述第二服务器获取所述第二测试数据。8.根据权利要求1所述的方法，其特征在于，若所述入侵结果和所述测试用例对应的预期结果不一致，该方法还包括：确定所述TDS无效；输出所述入侵结果的故障代码，根据所述故障代码在代码库中查询故障原因。9.一种TDS的有效性测试装置，其特征在于，应用于测试机，所述装置包括：启动模块，用于启动所述测试机；获取模块，用于在所述测试机启动后获取第一测试数据；关机模块，用于在所述获取到所述第一测试数据后，关闭所述测试机；所述启动模块，还用于重启所述测试机；TDS模块，用于在所述测试机重启后加载可信设备设置TDS；所述获取模块，还用于通过所述TDS获取所述第一测试数据和第二测试数据；所述第二测试数据是对所述第一测试数据执行测试用例后更新的第一测试数据；确定模块，用于通过所述TDS比较所述第一测试数据和所述第二测试数据确定入侵结果；判断模块，用于比较所述入侵结果和所述测试用例对应的预期结果，若二者一致则确定所述TDS有效。10.一种电子设备，其特征在于，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-8中任一项所述的方法。11.一种存储有计算机指令的非瞬时计算机可读存储介质，其特征在于，所述计算机指令用于使所述计算机执行根据权利要求1-8中任一项所述的方法。
说明书desc
技术领域本公开涉及计算机技术领域，尤其涉及一种TDS的有效性测试方法、装置、电子设备及存储介质。背景技术近几年，为了满足不同客户的特殊软件需求出现了客制化订单，例如X rite、L3、TDS、Glance等都是客制化订单中常见的特殊软件项目。其中有些软件与电脑的底层硬件绑定，例如，TDS软件与Intel vpro CPU芯片绑定，为CPU芯片上的TDS提供软件接口。TDS软件提供一个保护电脑安全数据的可信安全平台，能够通过检测机箱入侵、对固件或BIOS配置所做的更改、存储驱动器更换、在传输过程中启动或破坏加密数据等其他更改确定电脑是否被篡改，确保机器从工厂出货到用户整个过程配置数据完全获得保护。以加入TDS软件项目的客制化订单为例，从订单创建到出货的流程如下：首先根据客户的特殊需求创建计划并进行可行性研究，在评估通过后进行软件项目的发布，随后将软件加入物料清单中并生成特殊订单号，最后由出货系统进行出货。然而在整个客制化订单创建和自动化的出货流程中，均未有对TDS的软硬件与基本输入输出系统、固态硬盘、管理引擎、CPU等等硬件或软件进行搭配性或兼容性测试，因此无法证明客制化电脑的TDS对数据保护和入侵鉴别功能的有效性，导致在出货后的客制化电脑在无接触的情况下仍出现“设备被入侵”的情况。发明内容本公开提供了一种TDS的有效性测试方法、装置、电子设备及存储介质，以至少解决现有技术中存在的以上技术问题。根据本公开的第一方面，提供了一种TDS的有效性测试方法，其特征在于，应用于测试机，所述方法包括：启动并获取第一测试数据；关机；重启并加载可信设备设置TDS；通过所述TDS获取所述第一测试数据和第二测试数据；所述第二测试数据是对所述第一测试数据执行测试用例后更新的第一测试数据；通过所述TDS比较所述第一测试数据和所述第二测试数据确定入侵结果；比较所述入侵结果和所述测试用例对应的预期结果，若二者一致则确定所述TDS有效。在一可实施方式中，所述测试用例用于对所述第一测试数据中的特定的数据进行更新。在一可实施方式中，所述第一测试数据包括所述测试机的以下数据：CPU电压数据、固态硬盘数据、BIOS版本信息以及基本设置数据；所述获取第一测试数据，包括：加载管理引擎，通过所述管理引擎获取所述第一测试数据。在一可实施方式中，所述获取第一测试数据后，该方法还包括：通过所述管理引擎保存所述第一测试数据；所述通过所述TDS获取所述第一测试数据和第二测试数据，包括：加载所述管理引擎，通过所述管理引擎获取所述第二测试数据；通过所述TDS从所述管理引擎获取所述第一测试数据和所述第二测试数据。在一可实施方式中，所述第一测试数据包括：所述测试机的序列号、HASH值以及公钥；所述获取第一测试数据，包括：加载管理引擎，通过所述管理引擎获取所述测试机的软件数据和硬件数据，所述硬件数据包括所述测试机的序列号；加载TDS，通过所述TDS从所述管理引擎获取所述测试机的软件数据和硬件数据并加密生成所述HASH值；通过可信平台模块TPM获取所述测试机的主板硬件数据并加密生成所述公钥。在一可实施方式中，获取到所述第一测试数据后，还包括：将所述第一测试数据发送给第一服务器，以使数据处理装置从所述第一服务器获取所述第一测试数据，对所述第一测试数据执行所述测试用例后得到所述第二测试数据，并将所述第二测试数据存储在第二服务器。在一可实施方式中，所述通过所述TDS获取所述第一测试数据和第二测试数据，包括：通过所述TDS从所述第一服务器获取所述第一测试数据，从所述第二服务器获取所述第二测试数据。在一可实施方式中，若所述入侵结果和所述测试用例对应的预期结果不一致，该方法还包括：确定所述TDS无效；输出所述入侵结果的故障代码，根据所述故障代码在代码库中查询故障原因。根据本公开的第二方面，提供了一种TDS的有效性测试装置，其特征在于，应用于测试机，所述装置包括：启动模块，用于启动所述测试机；获取模块，用于在所述测试机启动后获取第一测试数据；关机模块，用于在所述获取到所述第一测试数据后，关闭所述测试机；所述启动模块，还用于重启所述测试机；TDS模块，用于在所述测试机重启后加载可信设备设置TDS；所述获取模块，还用于通过所述TDS获取所述第一测试数据和第二测试数据；所述第二测试数据是对所述第一测试数据执行测试用例后更新的第一测试数据；确定模块，用于通过所述TDS比较所述第一测试数据和所述第二测试数据确定入侵结果；判断模块，用于比较所述入侵结果和所述测试用例对应的预期结果，若二者一致则确定所述TDS有效。根据本公开的第三方面，提供了一种电子设备，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行本公开所述TDS的有效性测试方法。根据本公开的第四方面，提供了一种存储有计算机指令的非瞬时计算机可读存储介质，所述计算机指令用于使所述计算机执行本公开所述TDS的有效性测试方法。本公开的一种TDS的有效性测试方法、装置、电子设备及存储介质，应用于测试机中。首先，启动测试机并获取第一测试数据后进行关机。在重启测试机后加载TDS，通过TDS获取第一测试数据和第二测试数据，而第二测试数据是执行测试用例后更新的第一测试数据。再利用TDS比较第一测试数据和第二测试数据是否一致得到入侵结果。如此，若入侵结果与前述测试用例的预期结果一致，则证明测试机中的TDS有效。由此，通过上述的测试方法能够证明客制化电脑中TDS的数据保护和入侵鉴别功能的有效性以及与电脑软硬件的搭配性和兼容性，以保证到达用户手中时电脑中TDS能够安全有效地运行。应当理解，本部分所描述的内容并非旨在标识本公开的实施例的关键或重要特征，也不用于限制本公开的范围。本公开的其它特征将通过以下的说明书而变得容易理解。附图说明通过参考附图阅读下文的详细描述，本公开示例性实施方式的上述以及其他目的、特征和优点将变得易于理解。在附图中，以示例性而非限制性的方式示出了本公开的若干实施方式，其中：在附图中，相同或对应的标号表示相同或对应的部分。图1示出了本公开一实施例TDS的有效性测试方法的实现流程示意图；图2示出了本公开一实施例获取第一测试数据和第二测试数据方法的实现流程示意图；图3示出了本公开一实施例获取第一测试数据方法的实现流程示意图；图4示出了本公开一实施例在确定TDS故障原因的实现流程示意图；图5示出了本公开一实施例的TDS有效性测试装置的示意图；图6示出了本公开另一实施例的TDS有效性测试装置的示意图；图7示出了本公开又一实施例的TDS有效性测试装置的示意图；图8示出了本公开一实施例的一种实现TDS有效性测试方法的电子设备的组成结构示意图。具体实施方式为使本公开的目的、特征、优点能够更加的明显和易懂，下面将结合本公开实施例中的附图，对本公开实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本公开一部分实施例，而非全部实施例。基于本公开中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本公开保护的范围。本公开提供了一种TDS的有效性测试方法，应用于测试机，如图1所示，该方法包括：步骤101：启动并获取第一测试数据。在本示例中，首次开机启动时，测试机中需运行虚拟机并在虚拟机中加载操作系统的预安装环境。由于在计算机初始化阶段，所有软件或硬件都需要在操作系统的预安装环境下运行，例如TDS等，因此需要运行虚拟机加载操作系统的预安装环境。虚拟机指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的、虚拟的计算机系统。步骤102：关机。步骤103：重启并加载可信设备设置TDS。在本示例中，在重启测试机之后加载TDS之前，需要通过BIOS芯片检测TDS是否处于可启用状态。基本输入输出系统的芯片中保存着计算机最重要的基本输入输出的程序、开机后的自检程序以及系统自启动程序。BIOS在本次开机后会运行自检程序对重启后的CPU、主板、键盘等等所有的硬件进行上电自检，确保计算机系统处于正常的运作状态。其中，当BIOS的自检程序检测到CPU中的TDS处于不可启用的状态时，则会自动调整TDS状态至可启用，随后可加载TDS。步骤104：通过TDS获取第一测试数据和第二测试数据；第二测试数据是对第一测试数据执行测试用例后更新的第一测试数据。测试用例是指为实施测试而向测试系统提供的输入数据、测试操作或各种环境设置以及预期结果的一个特定的集合。步骤105：通过TDS比较第一测试数据和第二测试数据确定入侵结果。在通过TDS比较分析第一测试数据与对应的第二测试数据时，若测试数据更新前后一致，则表示测试机“未被入侵”，否则表示该测试机“被入侵”。最后以代码的形式将入侵结果记录在健康报告中，通过TDS的软件接口以用户界面的形式显示健康报告。步骤106：比较入侵结果和测试用例对应的预期结果，若二者一致则确定TDS有效。本公开提供了一种TDS的有效性测试方法，应用于测试机中。首先，启动测试机并获取第一测试数据后进行关机。在重启测试机后加载TDS，通过TDS获取第一测试数据和第二测试数据，而第二测试数据是执行测试用例后更新的第一测试数据。再利用TDS比较第一测试数据和第二测试数据是否一致得到入侵结果。如此，若入侵结果与前述测试用例的预期结果一致，则证明测试机中的TDS有效。由此，通过上述的测试方法能够证明客制化电脑中TDS的数据保护和入侵鉴别功能的有效性以及与电脑软硬件的搭配性和兼容性，以保证到达用户手中时电脑中TDS能够安全有效地运行。在一个示例中，测试用例用于对第一测试数据中的特定的数据进行更新。对第一测试数据中的一个特定的数据执行相应的测试用例进行更新，即每次TDS的有效性测试只能进行一个测试用例，将更新后的第一测试数据作为第二测试数据。在一个示例中，上述第一测试数据包括测试机的以下数据：CPU电压数据、固态硬盘数据、BIOS版本信息以及基本设置数据。在本示例中，上述步骤101，获取该第一测试数据的实现过程，包括：加载管理引擎，通过管理引擎获取第一测试数据。管理引擎是一种独立于CPU、BIOS和操作系统的嵌入式微处理器，能与BIOS、底层固件、操作系统、CPU等进行信息交互，以让计算机系统达到最高性能和最协调的效用。管理引擎接口驱动是一种操作系统和硬件进行相互通信的特殊程序，用于控制计算机中的其他硬件开启和工作，例如TDS、管理引擎。在计算机系统初始化的阶段，完成加载操作系统的预安装环境后，通过管理引擎接口驱动控制管理引擎从计算机系统的闪存中加载其代码，使得管理引擎可以在主操作系统启动之前启动。启动后的管理引擎从BIOS芯片、固态硬盘、CPU等收集第一测试数据，其中包括CPU电压数据、固态硬盘数据、BIOS版本信息以及基本设置数据等。在一个示例中，当第一测试数据是：CPU电压数据、固态硬盘数据、BIOS版本信息以及基本设置数据的情况下，在获取上述第一测试数据后，该测试方法还包括：通过管理引擎保存第一测试数据。在本示例中，管理引擎将第一测试数据以快照的方式保存在计算机系统的闪存中。闪存是一种电可擦除可编程只读存储器，具有非易失、允许多次擦或写等特性，方便第一测试数据的写入、擦除与存储，并且即使断电关机保存的数据也不会丢失。在一个示例中，上述步骤104中，通过TDS获取第一测试数据和第二测试数据的实现过程，如图2所示，包括：步骤201：加载管理引擎，通过管理引擎获取第二测试数据。在本示例中，第二测试数据是对第一测试数据执行测试用例后更新的第一测试数据，其中，可用于更新第一测试数据的测试用例包括以下几种：以更新CPU电压数据为例，测试机的后盖有一轻触开关与主板的引脚连接，当测试机的后盖被拆除时，轻触开关被开启与其连接主板引脚上的电压产生变化，CPU抓取电压变化的数据并记录。此外，可以通过更换固态硬盘的方式更新固态硬盘数据；也可以在测试机的主板上重新烧录BIOS芯片更新BIOS版本信息；还可以是在测试机上插入U盘，U盘中运行修改BIOS芯片中基本设置信息的代码，实现基本设置信息的更新。步骤202：通过TDS从管理引擎获取第一测试数据和第二测试数据。由于第一测试数据是保存在闪存中，即便是断电关机也不会消失，因此重启后，可以通过TDS从管理引擎获取第一测试数据和第二测试数据。在一个示例中，上述第一测试数据包括：测试机的序列号、HASH值以及公钥。上述步骤101，获取该第一测试数据的实现过程，如图3所示，包括：步骤301：加载管理引擎，通过管理引擎获取测试机的软件数据和硬件数据，硬件数据包括测试机的序列号。需要注意的是，管理引擎获取的是整个测试机中所有的软件数据和硬件数据。序列号是一种电子产品或软件的全球唯一标识码，常用于防伪。而在本公开中，测试机的序列号用于TDS的有效性测试。步骤302：加载TDS，通过TDS从管理引擎获取测试机的软件数据和硬件数据并加密生成HASH值。HASH值是指散列函数把任意长度的输入变换成固定长度的输出，该输出是散列值又称哈希值。在本公开中，TDS的加密工具采用的HASH函数是SHA-256，软件数据和硬件数据经过该函数加密后产生一个HASH值。此外，由于管理引擎是以快照的方式对测试机的软件数据和硬件数据进行保存，因此软件数据中还记录了快照保存时间。即便是相同的软件数据和硬件数据由于前后快照保存时间的不同，由TDS加密产生的HASH值也不相同。因此，TDS利用HASH值的唯一性以及不可逆性，对计算机的软件数据和硬件数据进行加密保护。而本公开则利用TDS产生的HASH值进行TDS的有效性测试。需要注意的是，TDS对从管理引擎获取到的测试机的软件数据和硬件数据仅进行加密处理并不进行存储，因此在断电关机后TDS中的所有数据会被自动清除，因而在重启加载TDS后需要重新获取数据。步骤303：通过可信平台模块TPM获取测试机的主板硬件数据并加密生成公钥。可信平台模块是集成于计算机系统最底层的一个安全可信的硬件平台，可以独立进行密钥生成、加解密的装置，内部拥有独立的处理器和存储单元，为计算机提供加密和安全认证服务。需要注意的是，由于TPM芯片设置在计算机主板上，因此与上述步骤301获取整个测试机中所有的硬件数据不同，TPM芯片只获取主板上硬件的数据进行加密。主板上的硬件主要包括CPU、北桥、南桥、硬盘、BIOS芯片等等。其中，CPU与北桥相连，北桥与南桥直接相连，南桥分别与BIOS芯片、TPM芯片通过LPC总线直接相连，TPM芯片获取主板上这些硬件的数据，采用非对称加密算法产生一对公开密钥和私有密钥，非对称加密算法参考的密钥规范是ECC_NIST_P256。通常地，私钥都存储在TPM芯片的存储单元中，而公钥可向外界公开，因此可利用公钥和私钥实现TPM的认证功能，解封上述加密的主板上硬件的数据。而在本公开中则利用TPM产生的公钥进行TDS的有效性测试。在本示例中，需先进行步骤301通过管理引擎获取测试机的序列号，随后再进行步骤302通过TDS获取HASH值。但对于步骤303通过TPM获取公钥，可以与步骤301和步骤302同时进行；也可以是先进行步骤303，再进行步骤301和步骤302；还可以是先进行步骤301和步骤302，再进行步骤303，本公开对此不做限制。在一个示例中，当获取第一测试数据是测试机的序列号、HASH值以及公钥情况下，在上述获取第一测试数据后，该测试方法还包括：将第一测试数据发送给第一服务器，以使数据处理装置从第一服务器获取第一测试数据，对第一测试数据执行测试用例后得到第二测试数据，并将第二测试数据存储在第二服务器。在本示例中，通过TDS能直接将HASH值和测试机的序列号传输至第一服务器中进行保存，而公钥由TPM生成，不能通过TDS进行传输保存，因此公钥需要通过USB数据线进行传输保存在第一服务器中。而第二测试数据是对第一测试数据执行测试用例后更新的第一测试数据，第二测试数据保存在第二服务器中。第一测试数据的更新方式可以是根据测试用例编写测试脚本，数据处理装置从第一服务器获取第一测试数据后，对第一测试数据执行测试脚本可实现第一测试数据的修改得到第二测试数据，随后将第二测试数据保存至第二服务器。在本示例中，每次测试的测试脚本仅能实现对HASH值、测试机的序列号、公钥这三者中任一指定数据进行修改。例如，数据处理装置运行的测试脚本仅能对测试机的序列号进行更新，将更新后测试机的序列号与HASH值、公钥作为第二测试数据，然后数据处理装置连接网络访问第二服务器，并将第二测试数据传输至第二服务器进行保存。其中，第一服务器是用于保存第一测试数据的服务器。优选的，第一服务器可以是CPP2服务器。第二服务器是专门用于保存第二测试数据的服务器。优选的，第二服务器可以是HAS服务器。在一个示例中，上述步骤105中，通过TDS获取第一测试数据和第二测试数据的实现过程，包括：通过TDS从第一服务器获取第一测试数据，从第二服务器获取第二测试数据。测试机通过TDS可以直接访问第一服务器获取第一测试数据，但访问第二服务器则需要连接网络，因此，在TDS从第二服务器获取第二测试数据之前，测试机需要启动操作系统并在设定时间之内连接至第二服务器。当BIOS的自检程序运行结束后，BIOS会继续运行系统自启动程序启动操作系统。在操作系统中，测试机可根据提供的虚拟专用网络的账号和密码连接VPN访问第二服务器，成功连接第二服务器后则表示测试机可以进行数据安全的验证以及对加密数据进行解封，随后便可通过TDS获取第二测试数据。但若没有满足设定时间之内连接到VPN这个必要条件，则在测试过程中会显示异常进行报错。优选的，设定时间为一个小时。在一个示例中，若入侵结果和测试用例对应的预期结果不一致，如图4所示，该方法还包括：步骤401：确定TDS无效。步骤402：输出入侵结果的故障代码，根据故障代码在代码库中查询故障原因。在代码库中查询故障代码对应的故障原因，并在分析和解决故障问题后重新进行测试，直至本次测试通过证明TDS是有效的。具体地，通过以下示例对测试结果为TDS有效和TDS无效的情况进行举例说明：在一个示例中，若执行的测试用例是修改TDS产生的HASH值，则预期结果应当是第一HASH值和第二HASH值不匹配、即测试机“被入侵”，若健康报告中对应入侵结果的代码指示TDS对应的第一HASH值和第二HASH值不匹配、即测试机“被入侵”，那么入侵结果与预期结果一致，由此证明TDS有效。在一个示例中，若执行的测试用例是修改测试机的序列号，则预期结果应当是第一测试机的序列号与第二测试机的序列号不一致、即测试机“被入侵”，若健康报告中入侵结果的代码指示第一测试机的序列号与第二测试机的序列号一致、即测试机“未被入侵”，那么入侵结果与预期结果不一致，由此证明TDS无效。在一个示例中，若执行的测试用例为重新烧录BIOS芯片，那么BIOS的版本被更新，则预期结果应当是BIOS的第一版本信息和第二版本信息不一致、即测试机“被入侵”，若健康报告中入侵结果的代码指示BIOS的第一版本信息和第二版本信息一致、但第一公钥与第二公钥不一致，即测试机仍“被入侵”，那么入侵结果与预期结果仍不一致，由此证明TDS无效。在一个示例中，若执行的测试用例没有破坏任一数据，则预期结果是测试机“未被入侵”。若经过实际测试后在TDS输出的健康报告中，显示的入侵结果是测试机“被入侵”，并且在健康报告中入侵结果的代码指示第一CPU电压数据与第二CPU电压数据不一致，因此入侵结果与预期结果不一致，由此证明TDS无效。在一项TDS的有效性测试通过后，进行下一个测试用例的测试，直至所有的测试均通过，以此证明TDS是有效的。将完成测试的各个软件和硬件项目加入物料清单生成客制化订单的特殊订单号，即可进行正常的自动化出货。在一个示例中，为了实现上述TDS的有效性测试方法，本公开还提供了一种TDS的有效性测试装置，应用于测试机，如图5所示，该装置包括：启动模块501，用于启动测试机；获取模块502，用于在启动测试机后获取第一测试数据；关机模块503，用于在获取到第一测试数据后，关闭测试机；启动模块501，还用于重启测试机；TDS模块504，用于在测试机重启后加载可信设备设置TDS；获取模块502，还用于通过TDS获取第一测试数据和第二测试数据；第二测试数据是对第一测试数据执行测试用例后更新的第一测试数据；确定模块505，用于通过TDS比较第一测试数据和第二测试数据确定入侵结果；判断模块506，用于比较入侵结果和测试用例对应的预期结果，若二者一致则确定TDS有效。在一个示例中，如图6所示，该测试装置中还包括管理引擎507，当获取的第一测试数据包括测试机的以下数据：CPU电压数据、固态硬盘数据、BIOS版本信息以及基本设置数据时，获取模块502从管理引擎507中获取该第一测试数据。其中，加载管理引擎507，并通过管理引擎507获取第一测试数据。在一个示例中，在获取第一测试数据后，管理引擎507还用于保存第一测试数据。在本示例中，在通过TDS获取第一测试数据和第二测试数据时，加载管理引擎507，并通过管理引擎507获取第二测试数据；获取模块502，还用于通过TDS从管理引擎507获取第一测试数据和第二测试数据。在一个示例中，如图7所示，该测试装置中还包括TPM模块508。在获取的第一测试数据为测试机的序列号、HASH值以及公钥时，获取模块502从管理引擎507、TDS模块504以及TPM模块508中收集获取该第一测试数据。其中，加载管理引擎507，通过管理引擎507获取测试机的软件数据和硬件数据，硬件数据包括测试机的序列号；TDS模块504，用于加载TDS，通过TDS从管理引擎507获取测试机的软件数据和硬件数据并加密生成HASH值；TPM模块508，用于通过可信平台模块TPM获取测试机的主板硬件数据并加密生成公钥。在一个示例中，如图7所示，该测试装置还包括数据传输模块509，用于将第一测试数据发送给第一服务器，以使数据处理装置从第一服务器获取第一测试数据，对第一测试数据执行测试用例后得到第二测试数据，并将第二测试数据存储在第二服务器。在一个示例中，通过TDS获取第一测试数据和第二测试数据时，获取模块502还用于通过TDS从第一服务器获取第一测试数据，从第二服务器获取第二测试数据。在一个示例中，如图6和图7所示，该装置还包括故障查询模块510。若入侵结果和测试用例对应的预期结果不一致时，判断模块506还用于确定TDS无效；同时，故障查询模块510用于输出入侵结果的故障代码，根据故障代码在代码库中查询故障原因。本公开的一种TDS的有效性测试装置，应用于测试机中。首先，启动测试机并获取第一测试数据后进行关机。在重启测试机后加载TDS，通过TDS获取第一测试数据和第二测试数据，而第二测试数据是执行测试用例后更新的第一测试数据。再利用TDS比较第一测试数据和第二测试数据是否一致得到入侵结果。如此，若入侵结果与前述测试用例的预期结果一致，则证明测试机中的TDS有效。由此，通过上述的测试装置能够证明客制化电脑中TDS的数据保护和入侵鉴别功能的有效性以及与电脑软硬件的搭配性和兼容性，以保证到达用户手中时电脑中TDS能够安全有效地运行。根据本公开的实施例，本公开还提供了一种电子设备和一种可读存储介质。图8示出了可以用来实施本公开的实施例的示例电子设备600的示意性框图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本公开的实现。如图8所示，设备600包括计算单元601，其可以根据存储在只读存储器602中的计算机程序或者从存储单元608加载到随机访问存储器603中的计算机程序，来执行各种适当的动作和处理。在RAM 603中，还可存储设备600操作所需的各种程序和数据。计算单元601、ROM 602以及RAM 603通过总线604彼此相连。输入/输出接口605也连接至总线604。设备600中的多个部件连接至I/O接口605，包括：输入单元606，例如键盘、鼠标等；输出单元607，例如各种类型的显示器、扬声器等；存储单元608，例如磁盘、光盘等；以及通信单元609，例如网卡、调制解调器、无线通信收发机等。通信单元609允许设备600通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。计算单元601可以是各种具有处理和计算能力的通用和/或专用处理组件。计算单元601的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的计算单元、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。计算单元601执行上文所描述的各个方法和处理，例如TDS的有效性测试方法。例如，在一些实施例中，TDS的有效性测试方法可被实现为计算机软件程序，其被有形地包含于机器可读介质，例如存储单元608。在一些实施例中，计算机程序的部分或者全部可以经由ROM 602和/或通信单元609而被载入和/或安装到设备600上。当计算机程序加载到RAM 603并由计算单元601执行时，可以执行上文描述的TDS的有效性测试方法的一个或多个步骤。备选地，在其他实施例中，计算单元601可以通过其他任何适当的方式而被配置为执行TDS的有效性测试方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本公开的方法的程序代码可以采用一个或多个编程语言的任何组合来编写。这些程序代码可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器或控制器，使得程序代码当由处理器或控制器执行时使流程图和/或框图中所规定的功能/操作被实施。程序代码可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本公开的上下文中，机器可读介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的程序。机器可读介质可以是机器可读信号介质或机器可读储存介质。机器可读介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在计算机上实施此处描述的系统和技术，该计算机具有：用于向用户显示信息的显示装置或者LCD监视器）；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给计算机。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网和互联网。计算机系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，也可以为分布式系统的服务器，或者是结合了区块链的服务器。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发公开中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本公开公开的技术方案所期望的结果，本文在此不进行限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或隐含地包括至少一个该特征。在本公开的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。以上所述，仅为本公开的具体实施方式，但本公开的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本公开揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本公开的保护范围之内。因此，本公开的保护范围应以所述权利要求的保护范围为准。
