标题title
确定用于样本扫描的焦点设置
摘要abst
本发明提供用于确定用于样本扫描的焦点设置的方法及系统。一种方法包含使用由输出获取子系统在样本上扫描的一或多个预聚焦条带中产生的输出，产生焦点图，界定为最佳焦点的值，作为所述样本上的位置的函数，所述输出获取子系统经配置以引导能量到样本，从所述样本检测能量，且响应于所述所检测能量产生输出。所述方法还包含对所述焦点图进行内插以产生焦点设置用于在过程期间对所述样本执行扫描及存储所述所产生焦点设置的信息用于在所述过程期间对所述样本执行的所述扫描中使用。
权利要求书clms
1.一种经配置用于确定用于样本扫描的焦点设置的系统，其包括：输出获取子系统，其经配置以将能量引导到样本以检测来自所述样本的能量，且响应于所述所检测的能量而产生输出；及一或多个计算机子系统，其经配置用于：使用由所述输出获取子系统在所述样本上扫描的一或多个预聚焦条带中产生的所述输出，产生焦点图，界定为最佳焦点的值，作为所述样本上的位置的函数；对所述焦点图进行内插以产生焦点设置用于在过程期间对所述样本执行的扫描；及存储所述所产生焦点设置的信息用于在所述过程期间对所述样本执行的所述扫描中使用。2.根据权利要求1所述的系统，其中所述样本包括在其上形成有3D NAND结构的晶片。3.根据权利要求1所述的系统，其中所述输出包括所述样本的图像。4.根据权利要求1所述的系统，其中所述一或多个预聚焦条带相对于所述样本在不同z位置处扫描。5.根据权利要求1所述的系统，其中所述一或多个预聚焦条带经预界定为所述样本上的完全重叠区域。6.根据权利要求1所述的系统，其中在含有预定图案化特征的预界定关注区域中扫描所述一或多个预聚焦条带。7.根据权利要求1所述的系统，其中产生所述焦点图包括：根据所述一或多个预聚焦条带内的x及y位置来确定聚焦度量，且其中确定在所述x及y位置中的一者处的所述聚焦度量包括：从所述x及y位置中的所述一者处的所述一或多个预聚焦条带中产生的所述所有输出确定所述聚焦度量。8.根据权利要求1所述的系统，其中产生所述焦点图包括：根据所述一或多个预聚焦条带内的x及y位置来确定聚焦度量，其中所述聚焦度量包括粗略z聚焦测量，且其中产生所述焦点图进一步包括：将所述粗略z焦点测量拟合到多项式；估计所述多项式的峰值处的所述x及y位置处的最佳焦点；及在所述一或多个预聚焦条带内的x及y位置处从所述最佳焦点，在样本计划中产生所述x及y位置的所述焦点图用于在所述过程期间对所述样本执行的所述扫描。9.根据权利要求8所述的系统，其中在所述过程期间执行产生所述焦点图、对所述焦点图进行内插及存储所述信息，且分别针对在所述过程期间对所述样本执行的所述扫描中的第一及第二条带予以执行，其中在所述第二条带之前扫描所述第一条带，且其中所述一或多个计算机子系统进一步经配置用于基于估计对所述第一条带执行的所述最佳焦点的结果来确定对所述第二条带扫描的所述一或多个预聚焦条带的一或多个参数。10.根据权利要求1所述的系统，其中所述内插包括内插所述焦点图以产生针对在所述过程期间对所述样本执行的扫描的完整样本计划的所述焦点设置。11.根据权利要求1所述的系统，其中基于在所述扫描之前确定的所述所产生焦点设置，在所述过程期间对所述样本执行所述扫描，且其中所述所产生焦点设置在所述扫描期间不改变。12.根据权利要求1所述的系统，其中在所述过程期间对所述样本执行的所述扫描不包括所述输出获取子系统的自动聚焦。13.根据权利要求1所述的系统，其中在所述过程期间对所述样本执行的所述扫描中，所述一或多个预聚焦条带位于第一条带内，且其中在对所述样本执行的所述过程期间执行产生所述焦点图、对所述焦点图进行内插及存储所述信息。14.根据权利要求1所述的系统，其中在所述过程期间执行产生所述焦点图、对所述焦点图进行内插及存储所述信息，且分别针对在所述过程期间对所述样本执行所述扫描中的第一及第二条带予以执行，且其中在所述第二条带之前扫描所述第一条带。15.根据权利要求14所述的系统，其中用于为所述第一条带产生所述焦点图的所述一或多个预聚焦条带的数目大于用于为所述第二条带产生所述焦点图的所述一或多个预聚焦条带的数目。16.根据权利要求14所述的系统，其中所述一或多个计算机子系统进一步经配置用于基于针对所述第一条带产生的所述焦点设置来确定针对所述第二条带对所述样本扫描的所述一或多个预聚焦条带的一或多个参数。17.根据权利要求1所述的系统，其中所述输出获取子系统进一步经配置用于在所述过程期间利用所述所产生焦点设置来对所述样本执行所述扫描，且其中所述一或多个计算机子系统进一步经配置用于在所述扫描期间施加样本表面轮廓到所述所产生焦点设置，借此确定在所述过程期间用于所述样本的所述扫描的最终焦点设置。18.根据权利要求1所述的系统，其中所述一或多个计算机子系统进一步经配置用于基于所述所产生焦点设置来确定所述样本的一或多个特征。19.根据权利要求18所述的系统，其中所述一或多个计算机子系统进一步经配置用于基于所述样本的所述所确定一或多个特征来确定对所述样本执行的制造工艺的一或多个参数的一或多个改变。20.根据权利要求19所述的系统，其中所述过程是包括检测所述样本上的缺陷的检验过程，且其中所述一或多个计算机子系统进一步经配置用于基于所述样本的所述所确定一或多个特征结合通过所述检验过程产生的所述所检测缺陷的信息来确定所述一或多个变化。21.根据权利要求1所述的系统，其中所述过程是检验过程。22.根据权利要求1所述的系统，其中引导到所述样本的所述能量包括光，且其中从所述样本检测的所述能量包括光。23.一种非暂时性计算机可读媒体，其存储在计算机系统上可执行的程序指令用于执行用于确定用于样本扫描的焦点设置的计算机实施方法，其中所述计算机实施方法包括：使用由输出获取子系统在对样本扫描的一或多个预聚焦条带中产生的输出，产生焦点图，界定为最佳焦点的值，作为所述样本上的位置的函数，所述输出获取子系统经配置以将能量引导到样本，检测来自所述样本的能量，且响应于所述所检测能量产生输出；对所述焦点图进行内插以产生焦点设置用于在过程期间对所述样本执行扫描；及存储用于所述所产生焦点设置的信息用于在所述过程期间对所述样本执行的所述扫描中使用，其中所述产生、内插及存储由耦合到所述输出获取子系统的计算机系统执行。24.一种用于确定用于样本扫描的焦点设置的计算机实施方法，其包括：使用由输出获取子系统在对样本扫描的一或多个预聚焦条带中产生的输出，产生焦点图，界定为最佳焦点的值，作为所述样本上的位置的函数，所述输出获取子系统经配置以将能量引导到样本，检测来自所述样本的能量，且响应于所述所检测能量产生输出；对所述焦点图进行内插以产生焦点设置用于在过程期间对所述样本执行扫描；及存储用于所述所产生焦点设置的信息用于在所述过程期间对所述样本执行的所述扫描中使用，其中所述产生、内插及存储由耦合到所述输出获取子系统的一或多个计算机子系统执行。
说明书desc
技术领域本发明大体上涉及用于确定用于样本扫描的焦点设置的方法及系统。背景技术以下描述及实例不凭借其包含在此节中而认为是现有技术。制造半导体装置通常包含使用大量半导体制造工艺处理衬底以形成半导体装置的各种特征及多个层级。例如，光刻技术为涉及将图案从光罩转印到布置于半导体晶片上的光致抗蚀剂的半导体制造工艺。半导体制造工艺的额外实例包含化学机械抛光、蚀刻、沉积及离子植入。多个半导体装置可在单个半导体晶片上的布置中制造且接着被分成个别半导体装置。在半导体制造过程期间，在各种步骤中使用检验过程以检测晶片上的缺陷以促进所述制造工艺中的更高良率且因此促进更高利润。检验总是制造半导体装置的重要部分。然而，当半导体装置的尺寸减少时，因为更小的缺陷可引起所述装置发生故障，所以对于成功制造可接受的半导体装置，检验甚至变得更重要。缺陷重检通常涉及重新检测如通过检验过程检测的缺陷且使用高倍光学系统或扫描电子显微镜以更高分辨率产生有关缺陷的额外信息。因此，缺陷重检在晶片上的离散位置处执行，其中已通过检验检测缺陷。通过缺陷重检产生的缺陷的更高分辨率数据更适于确定缺陷的属性，例如轮廓、粗糙度、更准确大小信息等。在半导体制造过程期间的各个步骤还使用计量过程以监测及控制过程。计量过程与检验过程的不同之处在于，与在晶片上检测缺陷的检验过程不同，计量过程用于测量无法使用当前使用的检验工具确定的晶片的一或多个特征。例如，计量过程用于测量晶片的一或多个特征，例如在过程期间形成在晶片上的特征的尺寸，使得可从一或多个特征确定工艺的性能。另外，如果晶片的一或多个特性是不可接受特性的预定范围)，那么可使用晶片的一或多个特性的测量来改变所述工艺的一或多个参数，使得通过所述工艺制造的额外晶片具有可接受特性。计量过程与缺陷重检过程的不同之处还在于，与在其中缺陷重检中重新检验通过检验检测的缺陷的缺陷重检过程不同，计量过程可在未检测缺陷的位置处执行。换句话说，与缺陷重检不同，在晶片上执行计量过程的位置可独立于在晶片上执行的检验过程的结果。特定来说，可独立于检验结果选择执行计量过程的位置。另外，由于可独立于检验结果来选择执行计量的晶片上的位置，因此与其中待执行缺陷重检的晶片上的位置不可经确定直到产生用于晶片的检验结果且可用的缺陷重检不同，在已对晶片执行检验过程之前可确定执行计量过程的位置。可显著影响质量控制类型过程的性能的参数中的一者是执行样本扫描或测量的工具的焦点。换句话说，如果系统在扫描或测量期间碰巧失焦，那么从所述扫描或测量期间产生的输出确定的样本的任何特性将不如系统在所述扫描或测量期间聚焦时准确。即使在测量或扫描之前将工具聚焦，当工具扫描样本或在样本上的其它位置处执行测量时，工具也会偏离焦点。特定来说，本文中所描述的样本可能大体上不平坦，及/或样本的平坦度可跨样本变化。例如，样本上的工艺变化可在晶片扫描或测量期间引起相对较大聚焦跟踪误差。另外，本文中所描述的一些样本可包含可由工具使用的光穿透的层及/或可包含包括图案化特征的层，所述图案化特征优选位于样本的最上表面下方。例如，一些系统在大体上较大Z 3D检验内可能对聚焦深度几乎没有控制。因此，此类系统的自动聚焦元件有时将跟踪所需顶表面且有时其将跟踪下伏结构中的特征，导致顶表面失焦。因此，在不知道扫描或测量期间工具的焦平面相对于样本的位置的情况下，扫描或测量期间产生的输出可经误解，可为无用的或会导致从输出产生的结果不准确。据此，开发不具有上述缺点中的一或多者的用于确定用于样本扫描的焦点设置的系统及/或方法将是有利的。发明内容各种实施例的以下描述绝不以任何方式解释为限制所附权利要求的标的物。一个实施例涉及一种系统，所述系统经配置用于确定用于样本扫描的焦点设置。所述系统包含输出获取子系统，所述输出获取子系统经配置以将能量引导到样本，检测来自所述样本的能量，且响应于所述所检测的能量而产生输出。所述系统还包含一或多个计算机子系统，所述计算机子系统经配置用于使用由所述输出获取子系统在所述样本上扫描的一或多个预聚焦条带中产生的所述输出，产生焦点图，界定为最佳焦点的值，作为所述样本上的位置的函数。所述一或多个计算机子系统还经配置用于对所述焦点图进行内插以产生焦点设置用于在过程期间对所述样本执行的扫描。另外，所述一或多个计算机子系统经配置用于存储所述所产生焦点设置的信息用于在所述过程期间对所述样本执行的所述扫描中使用。所述系统可如本文中所描述而进一步配置。另一实施例涉及一种用于确定用于样本扫描的焦点设置的计算机实施方法。所述方法包含使用由输出获取子系统在样本上扫描的一或多个预聚焦条带中产生的输出，产生焦点图，界定为最佳焦点的值，作为所述样本上的位置的函数，所述输出获取子系统经配置以引导能量到样本，从所述样本检测能量，且响应于所述所检测能量产生输出。所述方法还包含对所述焦点图进行内插以产生焦点设置用于在过程期间对所述样本执行的扫描。另外，所述方法包含存储所述所产生焦点设置的信息用于在所述过程期间对所述样本执行的所述扫描中使用。产生、内插及存储步骤由耦合到所述输出获取子系统的一或多个计算机子系统执行。上文所描述的方法的步骤中的每一者可如本文中进一步描述那样执行。上文所描述的方法可包含本文中所描述的任何其它方法的任何其它步骤。上文所描述的方法可使用本文中所描述的系统中的任一者执行。额外实施例涉及非暂时性计算机可读媒体，其存储可在计算机系统上执行的程序指令用于执行用于确定焦点设置在样本扫描中的使用的计算机实施方法。所述计算机实施方法包含上文所描述的方法的步骤。所述计算机可读媒体可如本文所描述而进一步配置。所述计算机实施方法的步骤可如本文所进一步描述而执行。另外，所述计算机实施方法可包含本文中所描述的任何其它方法的任何其它步骤。附图说明在阅读以下详细描述及在参考附图之后将明白本发明的其它目的及优点，其中：图1是说明如本文中所描述而配置的系统的实施例的侧视图的示意图；图2是说明在过程期间对样本执行的扫描中的条带的一个实例的平面图的示意图；图3是说明在过程期间对样本执行的扫描中的条带的一个实例的平面图及条带中的一者中的预聚焦条带的一个实施例的示意图；图4是说明在样本上形成的图案化特征的一个实例的侧视图及预聚焦条带相对于样本的不同z位置的一个实施例的示意图；图5及6是说明可执行用于确定用于样本扫描的焦点设置的步骤的实施例的流程图；及图7是说明非暂时性计算机可读媒体的一个实施例的框图，所述非暂时性计算机可读媒体存储在计算机系统上可执行的程序指令用于执行本文中所描述的计算机实施方法中的一或多者。虽然本发明易于以各种修改及替代形式呈现，但其特定实施例通过实例的方式在图中展示且将在本文中详细描述。然而，应了解所述图及其详细描述并非旨在将本发明限于所公开的特定形式，恰相反，本发明旨在涵盖落于如通过所附权利要求所界定的本发明的精神及范围内的全部修改、等效物及替代。具体实施方式如本发明中所使用的术语“设计”、“设计数据”及“设计信息”一般意指IC的物理设计及通过复杂模拟或简单几何及布尔运算从所述物理设计导出的数据。另外，由光罩检验系统获取的光罩的图像及/或其衍生物可用作为用于所述设计的“代理”或“若干代理”。此光罩图像或其衍生物可充当本文所描述的任意实施例中的设计布局的使用设计的替代。设计可包含在2009年8月4日授予扎法尔等人的共同拥有的第7,570,796号美国专利及在2010年3月9日授予库尔卡尼等人的第7,676,077号中描述的任何其它设计数据或设计数据代理专利，所述专利案的内容以引用的方式并入，如在本文中完全阐述。另外，设计数据可为标准单元库数据、集成式布局数据、一或多层的设计数据、设计数据的衍生物及全部或部分芯片设计数据。然而，一般来说，不能通过利用晶片检验系统对晶片进行成像来产生设计信息或数据。例如，在晶片上形成的设计图案可能无法准确地表示晶片的设计且晶片检验系统可能无法以足够分辨率产生在晶片上形成的设计图案的图像，使得所述图像可用于确定有关晶片设计的信息。因此，一般来说，不能使用物理晶片来产生设计信息或设计数据。另外，本文中所描述的“设计”及“设计数据”的指由半导体装置设计者在设计过程中产生的信息及数据且因此可在对任何物理晶片进行印刷设计之前很好地用于本文中所描述的实施例中。现转到附图，应注意图不按比例绘制。特定来说，图的一些元件的比例非常夸大以强调元件的特性。还应注意图未按相同比例绘制。可类似地配置的多于一个图中展示的元件已使用相同元件符号指示。除非本文中另有规定，否则所描述及展示的元件中的任一者可包含任何适合可购得的元件。一个实施例涉及一种系统，所述系统经配置用于确定用于样本扫描的焦点设置。在一个实施例中，样本是晶片。晶片可包含半导体技术中已知的任何晶片。尽管本文中可针对一或多个晶片描述一些实施例，但所述实施例不限于可使用其样本。例如，本文中所描述的实施例可用于样本，例如光罩、平板、个人计算机电路板及其它半导体样本。在一个实施例中，样本包含在其上形成有三维NAND结构的晶片。3D NAND是类型的非易失性快闪存储器，其包含多层存储器单元的垂直堆叠。例如，3D NAND的结构通常包含由交替导电层及绝缘层形成的硅位单元栅极，所述交替导电层及绝缘层形成于晶片上且由一或多个高纵横比结构隔开，例如由如同氮化硅及形成于硅上的通道的材料形成的电荷陷阱。存储器单元的垂直堆叠使3D NAND结构具有其3D质量。尽管本文中一些实施例可描述为用于或经配置用于3DNAND结构或晶片，但本文中所描述的实施例可用于确定任何样本扫描的焦点设置，包含其中样本的特性使得在扫描期间保持聚焦状态困难的那些扫描。如文中所使用，术语“HAR结构”是指特征为在下一代装置中纵横比超过10:1且可高达100:1的任何结构。HAR结构通常包含硬掩模层在2012年8月7日颁发给刘的第8,237,213号美国专利案，其以如同全文引用的方式并入本文中)以促进HAR的蚀刻工艺。除了垂直NAND或兆兆位单元阵列晶体管结构之外，本文中所描述的实施例也可用于其它HAR结构，其中光进入所述结构是检验及/或计量限制因子。例如，动态随机存取存储器包含一些此类结构，其中蚀刻到衬底中的深沟槽或孔的深度导致在检验或计量期间保持聚焦状态的问题。本文中所描述的实施例提供自动聚焦方法及系统，其可用于在3D NAND检验期间改进对样本的预选表面或平面的聚焦跟踪。归因于工艺变化的组合，导致自动聚焦z位置产生偏差以及跟踪3D结构内更深的特征，因此此类半导体装置的3D性质通常导致对现有自动聚焦的误差跟踪。所得不聚焦图像导致晶片检验期间缺少关注的缺陷。缓解此问题的唯一现有方法是在不同焦点偏移处扫描晶片，导致处理量下降且在每一偏移处产生新缺陷数量。相反，本文中所描述的实施例可使用在每一检验之前获取的基于图像的焦点图，以通过从在不同z位置拍摄的图像序列明确估计顶表面的最佳焦点来校正以上自动聚焦跟踪误差。接着在晶片检验期间应用焦点图，使得整个经检验区域的检验图像始终聚焦。实施例使得能够进行检验、计量、膜及成分计量)及具有HAR结构、TCAT等)的半导体装置的其它质量控制过程，且更一般来说，对于复杂装置来说，归因于此类结构难以在此类样本的扫描期间保持聚焦状态而对检验、光学计量等具有挑战性。所述系统包含输出获取子系统，所述输出获取子系统经配置以将能量引导到样本，检测来自样本的能量，且响应于所检测的能量产生输出。在图1中展示此系统的一个实施例。在此实施例中，引导到样本的能量包含光，且从样本检测的能量包含光。如图1中所展示，输出获取子系统10包含经配置以将光引导到样本14的照明子系统。在图1中所展示的实施例中，照明子系统包含两个照明通道，一个经配置以按第一入射角将光引导到样本且另一个经配置以按第二AOI将光引导到样本。另外，如图1中所展示，第一AOI是正常AOI，且第二AOI是倾斜AOI。尽管在图1中展示两个照明通道及两个AOI，但输出获取子系统可包含任意合适数目个照明通道，所述照明通道经配置以按任意合适数目个AOI将能量引导到样本。照明通道中的每一者包含至少一个光源。例如，如图1中所展示，第一照明通道包含光源16。来自光源16的光经引导通过光学元件18且接着通过透镜20到分束器21，分束器21将光引导到透镜22。透镜22以垂直入射角将光引导到样本14。第二照明通道包含光源24。来自光源24的光经引导通过光学元件26且接着通过透镜28，透镜28以倾斜AOI将光引导到样本14。以此方式，在一个实施例中，第一AOI包含正常AOI，且第二AOI包含倾斜AOI。倾斜AOI可包含任何合适倾斜AOI且可取决于样本的特性而变化。第一AOI及第二AOI还可包含不同范围的AOI。例如，第一AOI可包含一定范围的AOI或包含在第一AOI范围中，且第二AOI可包含不同范围的AOI或包含在第二AOI范围中。AOI的第一范围及第二范围可为离散的且彼此互斥。然而，不同范围的AOI不必彼此互斥。例如，通过改变照明通道中的一或多者的一或多个元件的位置及/或改变照明子系统的一或多个元件的一或多个参数，可将光引导到样本的AOI与图1中所展示的AOI可改变。例如，在另一实施例中，第一AOI及第二AOI包含不同倾斜AOI。在一个此实施例中，包含光源16的照明通道的参数可经改变，使得其以倾斜AOI而非如图1中所展示的正常AOI将光引导到样本。在另一此实施例中，包含光源24的照明通道可经配置，使得其在一个时间以一个倾斜AOI且以另一时间以另一倾斜AOI将光引导到样本。照明子系统可经配置以在不同时间以不同AOI将光引导到样本。例如，在一个实施例中，照明子系统经配置以在样本的第一扫描中以第一AOI将光引导到样本且在样本的第二扫描中以第二AOI将光引导到样本。可如本文中进一步所描述来执行第一扫描及第二扫描。在一个此实施例中，图1中所展示的照明通道中的一者用于第一扫描，且图1中所展示的照明通道的另一者用于第二扫描。然而，相同照明通道可用于第一及第二扫描，其中在扫描之间改变照明通道的一或多个参数以借此改变照明通道的AOI。在一些例子中，照明子系统可经配置以按第一AOI及第二AOI同时将光引导到样本。例如，如果将光同时以不同AOI引导到样本，那么以不同AOI引导到样本的光的一或多个特性可不同，使得在检测器处由将样本在不同AOI处的照明所得的光彼此区分开。在一个此实例中，图1中所展示的照明通道中的一者可经配置用于以第一波长范围进行照明，且照明通道的另一者可经配置用于以不同于第一波长范围的第二波长范围进行照明。不同照明通道也可或替代地经配置用于具有不同偏振的照明。在一个实施例中，第一AOI及第二AOI包含不同极角及相同一或多个方位角。例如，光可在相同入射平面中且以不同极角引导到样本。在图1中所展示的实施例中，两个照明通道可经配置以在相同入射平面中将光引导到样本。以第一AOI及第二AOI引导到样本的光也可以相同一个方位角及/或相同方位角范围引导到样本。在任何情况下，不同AOI可仅在极角上不同。在另一实施例中，相对于样本上的图案化特征，以第一AOI及第二AOI引导到样本的光的入射平面经定向为在0度与180度之间的角度。例如，入射光的平面不必垂直于样本上的图案化特征定向，而是可在任何方向定向。在另一例子中，照明子系统可仅包含一个光源且来自光源的光可由照明子系统的一或多个光学元件分离成不同光学路径。接着可将不同光学路径中的每一者中的光以不同AOI引导到样本。替代地，照明子系统可仅包含一个照明通道，且照明通道可经配置以在不同时间以不同AOI将光引导到样本。照明子系统可具有本技术中已知的任何其它合适配置用于将具有不同或相同特性的光循序或同时以不同AOI引导到样本。光源16及/或光源24可包含宽带等离子体光源。以此方式，由光源产生且经引导到样本的光可包含宽带光。然而，光源可包含任何其它合适光源，例如激光器，其可包含本技术中已知的任何合适激光器且可经配置以产生处于本技术中已知的任何合适波长的光。另外，激光器可经配置以产生单色或接近单色的光。以此方式，激光器可为窄带激光器。光源还可包含产生多个离散波长或波频的光的多色光源。光源16及24还可包含不同类型的光源及/或具有相同或不同配置的光源。光学元件18及26可包含光学元件，例如偏振组件、光谱滤波器、空间滤波器、反射光学元件、变迹器、孔径及其类似者，其可包含本技术中已知的任何此类合适光学元件。光学元件18及26可为不同类型的光学元件及/或可具有相同或不同配置。尽管透镜20、22及26在图1中展示为单个折射光学元件，但实际上，透镜20、22及26中的每一者可包含多个折射及/或反射光学元件，其组合地从光学元件到样本聚焦光。分束器21可包含本领域中已知的任何合适分束器。图1中所展示且在本文中所描述的照明子系统可包含任何其它合适光学元件。输出获取子系统还可包含扫描子系统，所述扫描子系统经配置以使光在样本上扫描。例如，输出获取子系统可包含在扫描期间将样本14安置于其上的载物台30。扫描子系统可包含任何合适机械及/或机器人组合件，其可经配置以移动样本，使得可在样本上扫描光。另外或替代地，输出获取子系统可经配置使得输出获取子系统的一或多个光学元件执行对样本上的光的一些扫描。可以任何合适方式在样本上扫描光。检测子系统包含一或多个检测通道。一或多个检测通道中的每一者包含检测器，所述检测器经配置以检测归因于样本的照明而来自样本的光且响应于所检测的光而产生输出。例如，图1中所展示的检测子系统包含两个检测通道，一个由收集器32、元件34及检测器36形成且另一个由收集器38、元件40及检测器42形成。如图1中所展示，两个检测通道经配置以收集及检测处于不同收集角度的光。在一个实施例中，归因于以第一AOI及/或第二AOI引导到样本的光而由检测子系统检测的光包含镜面反射光。例如，在一些例子中，两个检测通道经配置以检测镜面反射光。特定来说，包含检测器36的检测通道可经配置以检测由以正常AOI的照明引起的镜面反射光，且包含检测器42的检测通道可经配置以检测由以倾斜AOI的照明引起的镜面反射光。以类似方式，检测通道中的一者可经配置以检测由以一个倾斜AOI的照明引起的光，且另一检测通道可经配置以检测由以不同倾斜AOI的照明引起的光。以此方式，不同检测通道可经配置以分别检测由以不同AOI的照明引起的光，而不管那些AOI为何。在另一实施例中，不同检测通道可经配置以检测归因于分别用不同AOI照明样本而从样本散射的光。尽管图1展示包含两个检测通道的输出获取子系统的实施例，但输出获取子系统可包含不同数目个检测通道。例如，一个检测通道可经配置以在第一扫描中检测由以一个AOI的照明引起的光且接着在第二扫描中检测由以另一AOI的照明引起的光。尽管在图1中将收集器中的每一者展示为单个折射光学元件，但收集器中的每一者可包含一或多个折射光学元件及/或一或多个反射光学元件。元件34及40可包含任何合适光学元件，例如偏振组件、光谱滤波器、空间滤波器、反射光学元件、孔及其类似者，其可包含本技术中已知的任何此类合适光学元件。元件34及40可包含不同类型的元件及/或可具有相同或不同配置。检测器36及42可包含不同类型的检测器及/或可具有相同或不同配置。检测器可包含光电倍增管、电荷耦合装置、时延积分相机或本技术中已知的任何其它合适检测器。检测器还可包含非成像检测器或成像检测器。如果检测器是非成像检测器，那么检测器中的每一者可经配置以检测光的某些特性，但可不经配置以根据成像平面内的位置来检测此类特性。因而，由输出获取子系统的检测通道中的每一者中包含的检测器中的每一者产生的输出可为信号或数据，而并非图像信号或图像数据。在此类例子中，计算机子系统可经配置以从检测器的非成像输出产生样本的图像。然而，在其它例子中，检测器可经配置为成像检测器，其经配置以产生成像信号或图像数据。因此，系统可经配置以按多种方式产生本文中所描述的输出。注意，本文提供图1以大体上说明可包含在本文中所描述的系统实施例中的输出获取子系统的配置。显然，如在设计商业系统时通常执行那样，本文中所描述的输出获取子系统布置可经改变以优化系统的性能。另外，本文中所描述的系统可使用现有系统来实施，例如可从加利福尼亚州米尔皮塔斯市的科磊公司商购的28xx及29xx系列检验工具。针对一些此类系统，本文中所描述的方法可作为系统的任选功能提供。替代地，本文中所描述的系统可“从头开始”设计以提供全新系统。系统的计算机子系统44可以任何合适方式耦合到输出获取子系统的检测器，使得计算机子系统可在样本的扫描期间接收由检测器产生的输出。计算机子系统44可经配置以使用如本文中所描述的检测器的输出及本文中进一步描述的任何其它功能来执行多种功能。此计算机子系统可如本文中所描述进一步配置。此计算机子系统在本文中也可指称计算机系统。本文中所描述的计算机子系统或系统中的每一者可采取各种形式，包含个人计算机系统、图像计算机、大型计算机系统、工作站、网络装置、因特网装置或其它装置。一般来说，术语“计算机系统”可广义地界定为涵盖具有一或多个处理器的任何装置，其执行来自存储器媒体的指令。计算机子系统或系统还可包含本技术中已知的任何合适处理器，例如并行处理器。另外，计算机子系统或系统可包含具有高速处理及软件的计算机载物台，作为独立或联网工具。如果系统包含多于一个计算机子系统，那么不同计算机子系统可彼此耦合，使得可在计算机子系统之间发送图像、数据、信息、指令等，如本文中进一步所描述。例如，计算机子系统44可通过任何合适传输媒体耦合到计算机子系统46，所述传输媒体可包含本技术中已知的任何合适有线及/或无线传输媒体。此类计算机子系统中的两者或更多者也可由共享计算机可读存储媒体有效耦合。计算机子系统44及/或46还可包含或经配置为经配置用于执行本文中进一步所描述的一或多个功能的一或多个“虚拟”系统。2012年2月28日授予巴斯卡尔等人的共同转让第8,126,255号美国专利案及2015年12月29日授予达菲等人的共同转让第9,222,895号美国专利案中描述配置为“虚拟”检验系统的系统及方法，其以如同全文引用的方式并入本文中。本文中所描述的实施例可如这些专利中所描述那样进一步配置。例如，本文中所描述的一或多个计算机子系统可如这些专利中所描述进一步配置。如上文进一步提及，输出获取子系统可经配置以按多种模式为样本产生输出。一般来说，“模式”可由用于产生样本的输出的输出获取子系统的参数值界定。因此，对于输出获取子系统的成像参数中的至少一者，不同模式的值可不同。例如，不同模式可使用不同波长的光用于照明。如针对不同模式的本文中进一步所描述，模式在照明波长上可不同。在另一实施例中，不同模式使用输出获取子系统的不同照明通道。例如，如上文所提及，输出获取子系统可包含多于一个照明通道。因而，不同照明通道可用于不同模式。本文中所描述的输出获取子系统可经配置为检验子系统。如果是此情况，那么计算机子系统可经配置以如上文所描述从输出获取子系统接收输出且可经配置以如本文中进一步所描述的基于输出检测样本上的缺陷。本文中所描述的输出获取子系统可经配置为另一类型的半导体相关过程/质量控制类型的系统，例如缺陷重检系统及计量系统。例如，本文中所描述及在图1中所展示的输出获取子系统的实施例可在一或多个参数中修改以取决于其将被使用的应用来提供不同输出产生能力。在一个实施例中，输出获取子系统经配置为缺陷重检子系统。在另一实施例中，输出获取子系统经配置为计量子系统。例如，图1中所展示的输出获取子系统可经配置以具有更高分辨率，如果其将被用于缺陷重检或计量而非用于检验。换句话说，图1中所展示的输出获取子系统的实施例描述用于输出获取子系统的一些一般及各种配置，其可以所属领域的技术人员将明白的多种方式定制以产生具有或多或少适于不同应用的不同能力的输出获取子系统。一或多个计算机子系统经配置用于使用由输出获取子系统在样本上扫描的一或多个预聚焦条带中产生的输出来产生焦点图，界定为最佳焦点的值，作为样本上的位置的函数。例如，焦点图产生可包含根据检验样本计划在样本上扫描一或多个预聚焦条带。图2说明检验样本计划的一个实例。在此实例中，可在由箭头204所说明的方向上在多个条带202a到202h中扫描晶片200。尽管在图2中展示样本、条带及扫描方向的一个实例，但本文中所描述的实施例仅限于此样本、条带及扫描方向。相反，本文中所描述的实施例可用于本文中所描述的样本中的任一者，且任何扫描样本计划可用于任何过程。如图3中所展示，在条带202a中，一或多个预聚焦条带300可在方向302上扫描。如图3中所展示，一或多个预聚焦条带可显著小于其所在位置的检验条带320。如本文中所描述，可确定预聚焦条带在检验条带内的尺寸及位置。方向302可与方向204相同。以此方式，即使在与图2及3中所展示的方向不同的方向上扫描检验条带，也可在与检验条带相同的方向上扫描预聚焦条带。可在扫描条带中的每一者用于检验之前在检验条带202a到202h中的每一者中扫描预聚焦条带。针对任何一个条带扫描的预聚焦条带的参数可不同或相同且可如本文中进一步所描述那样确定。在一个实施例中，输出包含样本的图像。以此方式，本文中所描述的实施例可经配置用于基于图像的自动聚焦应用。另外，本文中所描述的实施例可与使用宽带光的输出获取子系统一起使用。以此方式，本文中所描述的实施例可经配置用于基于BBP图像的自动聚焦应用。另外，本文中所描述的实施例可经配置以使用基于图像的焦点估计来在晶片检验之前产生受检验区域的准确焦点图。在另一实施例中，一或多个预聚焦条带经界定为样本上完全重叠的区域。例如，如图3中所展示，一或多个预聚焦条带300位于样本上的相同区域内。换句话说，可针对检验条带内的每一预聚焦条带扫描样本上相同、完全重叠的区域。将预聚焦条带界定为样本上完全重叠的区域是可期望的，因为优选地，预聚焦条带产生样本上相同x、y位置的数据，所述数据可如本文中所描述共同用于确定x、y位置中的每一者处的最佳焦点。在额外实施例中，在含有预定图案化特征的预界定关注区域中扫描一或多个预聚焦条带。例如，预界定关注区域优选地包含用于焦点估计的明确界定的表面特征图像。预定图案化特征可取决于为其确定焦点设置的样本而变化。例如，在3D NAND晶片的情况下，可将关注区域放置于含有表示优选在扫描期间保持恒定焦点的区域的3D NAND线空间结构的检验区域中。在本技术中通常指称“关注区域”是样本上出于检验目的而感兴趣的区域。有时，关注区域用于区分样本上经检验的区域及样本上在检验过程中未被检验的区域。另外，关注区域有时用于区分样本上使用一或多个不同参数进行检验的区域。例如，如果样本的第一区域比样本上的第二区域更关键，那么可以比第二区域更高的灵敏度来检验第一区域，使得以更高灵敏度来检测第一区域中的缺陷。可以类似方式在关注区域之间改变检验过程的其它参数。在一些实施例中，在相对于样本的不同z位置处扫描一或多个预聚焦条带。例如，可在一或多个z位置处获取一或多个预聚焦条带以捕获跨预聚焦条带区域在本文中所描述的预界定关注区域内)焦点的可变性。相对于样本在不同z位置的一或多个预聚焦条带的一个实例在图4中所展示。如图4中所展示，在样本400上形成图案化特征402。图4中仅出于说明性目的展示图案化特征402且不意味着展示具有任何特定尺寸、相对于彼此的空间关系或数目的图案化特征。换句话说，本文中所描述的实施例不限于具有任何特定特征的图案化特征，尽管本文中所描述的实施例特别适于本文中所描述的图案化特征类型。如图4中进一步所展示，可在相对于样本的不同z位置处扫描一或多个预聚焦条带404a到404e。尽管在图4中展示特定数目个预聚焦条带，但本文中所描述的实施例不限于此图中所展示的预聚焦条带的数目。可以任何合适方式确定z位置，例如，基于最佳焦点位置可在其处的最佳猜测。可基于先前对相同类型的其它样本的扫描、对其它类似样本的扫描、理论估计等来确定最佳猜测。可在图5中所展示的数据收集阶段500期间在样本上扫描一或多个预聚焦条带。例如，如图5中所展示，数据收集阶段可包含使用密集z样本进行预训练，如步骤506中所展示。预训练可包含用密集z样本预训练直通聚焦曲线。直通聚焦曲线是焦点度量值与密集z或粗略z的曲线图。数据收集阶段还可包含确定条带布局，如步骤508中所展示。确定条带布局可包含确定用于扫描样本上的预聚焦条带的输出获取子系统的一或多个参数的特性，例如，像素大小、波长、灰度、成像类型等。如步骤510中所展示，数据收集阶段还可包含确定从步骤508中确定的条带布局信息针对一或多个预聚焦条带的x、y采样计划。可以任何合适方式来确定针对一或多个预聚焦条带的采样计划。在一些实施例中，预聚焦条带采样计划可与检验采样计划相同。然而，预聚焦条带采样计划可比检验采样计划稀疏且可基于各种信息确定。数据收集阶段还可包含如步骤512中所展示以3到5个聚焦偏移值进行条带化以产生输出的一或多个预聚焦条带。如本文中进一步所描述，可在步骤512中执行扫描预聚焦条带。在步骤512中执行的条带化还可包含记录作为x的函数的z载物台位置的读数。在进一步实施例中，产生焦点图包含根据一或多个预聚焦条带内的x及y位置确定聚焦度量，且确定在x及y位置中的一者处的聚焦度量包含从x及y位置中的一者处的一或多个预聚焦条带中产生的所有输出确定聚焦度量。例如，可针对每一z图像集以x中大致0.3um间距及y中每一1k子条带的中心计算聚焦度量。每条带的子条带的数目可取决于检测器配置及像素高度如何垂直分解为作业。在一个实例中，对于4k到8k个像素的总条带高度，可存在4到8个子条带。这些测量可为一种粗略z测量。在另一实施例中，产生焦点图包含根据一或多个预聚焦条带内的x及y位置确定聚焦度量，聚焦度量包含粗略z聚焦测量，且产生焦点图包含拟合粗略z聚焦测量到多项式、估计在多项式峰值处x及y位置的最佳焦点及产生样本计划中x及y位置的焦点图用于在一或多个预聚焦条带内的x及y位置处从最佳焦点在过程期间对样本执行扫描。例如，计算机子系统可经配置用于将聚焦度量从一组z值拟合到多项式以估计半导体检验及本文中所描述的其它应用中的最佳焦点。在一个此实施例中，接着如上文所描述可确定的粗略z焦点度量测量的每一x、y位置可拟合到多项式且在多项式的峰值处估计最佳焦点。测量拟合的多项式可包含任何合适多项式，例如二阶拋物线或高斯。接着，可将最佳焦点处的z值用于为检验样本计划中的每一x、y产生焦点校正图。这些步骤可在图5中所展示的误差图产生阶段502期间执行。例如，如步骤514中所展示，误差图产生阶段可包含找到最佳焦平面，其可如上文所描述而执行。在一个此实例中，步骤514可包含将来自数据收集阶段的数据拟合到直通焦点曲线并找到最佳焦平面。另外，如步骤516中所展示，误差图产生阶段可包含产生离散二维图，其可如上文所描述而执行。一或多个计算机子系统还经配置用于内插焦点图以产生用于在过程期间对样本执行的扫描的焦点设置。例如，如图5中所展示，在误差图产生阶段期间，一或多个计算机子系统可从在步骤516中产生的离散2D图产生内插2D图518。误差产生阶段还可包含转换2D图，如步骤520中所展示，其可包含将内插2D图转换成信息、数据、指令等，其可由系统使用以在样本的扫描期间控制输出获取子系统的焦点。例如，可将内插2D图转换成实际z载物台位置读数。在一个实施例中，内插包含内插焦点图以产生用于在过程期间对样本执行的扫描的完整样本计划的焦点设置。例如，可对如上文所描述产生的焦点图进行内插以提供跨检验样本计划的估计值。换句话说，即使可使用小于检验条带的预聚焦条带来执行数据收集阶段，也可对焦点图进行内插以产生整个检验条带的焦点设置。特定来说，给定样本上印刷区域的重复性质以及计算机子系统可能可获得的额外信息，可为跨大于数据收集阶段使用的样本区域的扫描产生焦点设置。可使用任何适当功能、算法、计算等以本技术中已知的任何合适方式来执行焦点图的内插。一或多个计算机子系统进一步经配置用于存储所产生焦点设置的信息用于在过程期间对样本执行的扫描中。接着可将所产生焦点设置用作检验、计量等期间的条带轨迹。“条带轨迹”通常可界定为沿扫描方向的z位置的预定集合。在标准自动对焦中，有一个控制z的伺服回路。相反，在本文中所描述的实施例中，预焦点图最佳焦点z值可在没有反馈的情况下加载到载物台高度电机。例如，在图5中所展示的误差校正阶段504期间，计算机子系统可存储输出，如步骤522中所展示，所述输出可包含转换2D图及本文中所描述的其它步骤中的任一者的任何输出。通过在数据库中或以本文中所描述的另一方式保存输出，可在步骤522中存储输出。误差校正阶段还可包含在过程期间扫描样本，如步骤514中所展示。在一个此实例中，实施例可将所存储信息用于所产生焦点设置来控制图1中所展示的系统的自动聚焦子系统100。自动聚焦子系统100可包含任何合适机械、机器人、计算机硬件及/或软件等组件，所述组件可用于改变样本相对于输出获取子系统组件的z位置或反之亦然。以此方式，可基于在步骤522中存储的输出来控制样本相对于输出获取子系统的z位置。例如，如图1中所展示，计算机子系统44及/或46可如上文所描述耦合到自动聚焦子系统100，使得计算机子系统使自动聚焦子系统基于所产生的焦点设置来移动扫描子系统的载物台30。替代地，计算机子系统可不控制自动聚焦子系统，而可简单地将所产生焦点设置发送到自动聚焦子系统，所述自动聚焦子系统接着基于所产生焦点设置来控制载物台的位置。替代地或另外，自动聚焦子系统可类似地耦合到子系统10的输出获取组件且经配置以基于所产生焦点设置来改变输出获取组件相对于样本的位置。自动聚焦子系统也可为上文所描述的扫描子系统的一体部分或可为与其耦合的单独组件。自动聚焦子系统还可包含任何合适可商购自动聚焦子系统，例如基于伺服控制的光学系统的自动聚焦系统。可如本文中所描述确定焦点设置，其取决于期望用于样本的扫描的焦平面之处。例如，本文中所描述的大多数过程的最佳焦点可在样本的最上表面以确保对最上表面上的缺陷的最高灵敏度或确保对最上表面上的图案化特征的测量的最高灵敏度。然而，与其它者相比，不同焦平面可能更适合某些扫描。例如，在一些情况下，DOI可位于图案化特征的底部处及/或样本的最上面。在此情况下，最佳焦点可在样本的最上表面下方及/或在图案化特征的底部处或附近。在一个此实例中，缺陷可在任何级别上发生且随着深度的增加，缺陷通常变得更难检测。当自动聚焦特征聚焦在特定光学模式的最清晰图案的固定平面上时，可通过应用固定聚焦偏移来确定不同深度。最佳焦点的固定平面可为顶表面或如果波长穿透以使下伏图案成像更清晰，那么所述平面可更深。图6说明可由本文中所描述的实施例执行用于焦点图产生的步骤的另一实施例。在此焦点图产生的阶段1中，对配方中的下一个Zci执行步骤，其中Zc是预聚焦条带的z值且i大于或等于3。在此焦点图产生的阶段2中，那么对预测下一个Zci执行所述步骤。如步骤600中所展示，焦点图产生可包含以z＝Zci扫描第一预聚焦条带，其可如本文中所描述而执行。可将在所述扫描中产生的输出发送到IMC 602。IMC 602可创建作业并将其提交给Leaf fm 604。作业输入图像可包含一或多个焦点区域或带有If的图像。对于每一焦点区域，作业输出可为fm，其中fm＝任何焦点图像区域If的焦点度量。作业参数可含有每一焦点区域的x、y、z。IMC从条带中的每一焦点区域将Czi返回到系统控制计算机606。SCC跟踪Cz1…zi阵列，其中Cz1…zi＝在3到5点处的粗略焦点测量，其可包含为每一连续条带填充阵列。换句话说，SCC可从图像计算机收集聚焦度量数据且执行本文中进一步所描述的拟合/内插及焦点图产生。如步骤608中所展示，可用输入Cz1…zi执行聚焦拟合以计算聚焦Zf或预测下一个条带Zc+1。预测下一个条带的概念是，如果无法计算最佳焦点，那么粗略z值可能不在聚焦范围内且可在下一个条带中智慧地重试不同z值。在实施方案中，可通过从聚焦曲线外推没有峰值来执行预测下一个条带。计算Zf可包含拟合到多项式，如本文中进一步所描述。聚焦拟合可输出Zf及Zc+1。接着，一或多个计算机子系统可确定Zf是否良好，如步骤610中所展示。如果Zf确定为良好，那么在完成样本的粗略图之后，一或多个计算机子系统可执行焦点图内插，如步骤612中所展示。在此步骤中，一或多个计算机子系统可为少于所有检验条带计算焦点图且接着使用所述内插对焦点图进行内插用于检验条带，而无需在其它检验条带中执行任何粗略聚焦测量。在一个此实例中，可平均每个子条带的所有粗略数据以获得条带值且接着对x进行内插以从粗略x位置出发关注区域到x上的连续图。如果确定Zf不好，那么可使用Zc+1重新执行步骤600。接着，一或多个计算机子系统可存储并应用焦点图Fmap＝焦点图，用于检验或为其产生焦点图的另一过程。接着，在检验或其它过程期间，输出获取子系统可沿x条带改变所有z位置。在一个实施例中，在过程期间执行产生焦点图、内插焦点图及存储信息且分别针对在过程期间对样本执行的扫描中的第一条带及第二条带予以执行，在第二条带之前扫描第一条带，且一或多个计算机子系统经配置用于基于估计对第一条带执行的最佳焦点的结果，确定为第二条带扫描的一或多个预聚焦条的一或多个参数。例如，本文中所描述的实施例可经配置用于将先前条带前馈作为下一条带的起始z值且接着需要较少z幅来估计随后条带中的最佳焦点。先前条带的最佳z轨迹的前馈有助于确保将下一个条带的最佳焦点保持在粗略测量范围内。在一些实施例中，基于在扫描之前确定的所产生焦点设置，在过程期间在样本上执行扫描，且所产生焦点设置在扫描期间不改变。换句话说，一旦如本文中所描述确定所产生焦点设置，那么无需对焦点设置进行任何动态或实时改变。特定来说，本文中所描述的实施例可用于可靠地估计扫描的整个样本计划的最佳焦点设置，借此有效地消除在扫描期间的测量及改变焦点设置，其应减少扫描所需的时间及资源。在另一实施例中，在过程期间在样本上执行的扫描不包含输出获取子系统的自动聚焦。例如，在过程期间执行样本扫描的系统及方法可使用在过程期间如本文中所描述产生的焦点图来代替传统自动聚焦方法及系统。以此方式，尽管自动聚焦子系统可基于所产生焦点设置用于在扫描期间相对于样本调整输出获取子系统的焦点设置，但自动聚焦子系统通过对系统进行任何额外测量及调整无需实时做任何自动对焦。以此方式，可在扫描之前建立自动焦点图且接着在不调整自动焦点图中的焦点设置的情况下使用自动焦点图。在额外实施例中，一或多个预聚焦条带在过程期间在对样本执行的扫描中位于第一条带内，且在过程期间对样本执行产生焦点图、内插焦点图及存储信息。例如，在一些实施例中，所述过程可包含对扫描中的第一条带中的一或多个预聚焦条带执行扫描。接着可基于那些预聚焦条带的扫描结果来确定整个扫描的焦点设置。以此方式，一或多个预聚焦条带可仅位于所述过程中扫描的第一条带中。另外，一或多个预聚焦条带可仅针对执行所述过程的每个样本在第一条带中进行扫描。换句话说，作为对多个样本执行的过程的部分，可在第一样本上的第一条带中扫描一或多个预聚焦条带且接着可使用由如本文中所描述的那些扫描产生的焦点设置来执行对第一样本的扫描，且接着可对其它样本中的每一者重复所述过程。以此方式，可分别从每一样本的第一条带中的预聚焦条带为每一样本的整个扫描独立且单独产生焦点设置。在进一步实施例中，在所述过程期间执行产生焦点图、内插焦点图及存储信息且分别针对在所述过程期间对样本执行的扫描中的第一条带及第二条带予以执行，且在第二条带之前扫描第一条带。以此方式，本文中所描述的步骤可针对样本上的不同条带单独且独立执行。例如，样本上的第一条带中的一或多个预聚焦条带可用于产生整个第一条带的焦点设置，样本上的第二条带中的一或多个预聚焦条带可用于产生整个第二条带的焦点设置等。以此方式，可在扫描中的每一条带之前执行预聚焦条带扫描以为每一条带产生独立焦点设置图。如本文中进一步所描述，可以其它方式执行为每一条带产生焦点设置。在一个此实施例中，用于为第一条带产生焦点图的一或多个预聚焦条带的数目大于用于为第二条带产生焦点图的一或多个预聚焦条带的数目。例如，本文中所描述的实施例可经配置以在第一条带中使用一或多个额外组z值以确保准确最佳焦点。在扫描中的第一条带中使用更多预聚焦条带可为有利的，因为在最佳焦点设置下，样本之间变化可能大于样本内部变化。换句话说，即使已知将在过程中扫描的类似样本或相同类型的样本的焦点设置，归因于对样本执行的过程中的变化，焦点设置在样本之间也会相对较大地变化。因此，大量预聚焦条带对于第一条带可为有利的以确保可为第一条带找到准确最佳焦点设置。然而，一旦使用第一条带中的预聚焦条带找到最佳焦点设置，那么在第二条带中可能需要较少预聚焦条带，因为焦点设置可在相同样本上的条带之间变化不大。另外，如本文中进一步所描述，可将在一个条带中使用预聚焦条带产生的结果前馈到相同样本上的其它条带中的预聚焦条带中。以此方式，基于在一个条带中使用预聚焦条带产生的结果，可确定例如在另一随后条带中的预聚焦条带的数目的参数。在此另一实施例中，一或多个计算机子系统经配置用于基于针对第一条带产生的焦点设置来确定在样本上扫描的用于第二条带的一或多个预聚焦条带的一或多个参数。例如，本文中所描述的实施例可经配置用于将先前条带的轨迹前馈作为下一条带的起始z值且接着需要更少z个预聚焦条带来估计最佳焦点。在额外实例中，计算机子系统可经配置用于从多项式粗略z拟合演算法的自适应前馈用于更佳估计初始z轨迹，例如，如果测量与标称z显著偏差，那么可从随后条带移除此偏差。在进一步实施例中，输出获取子系统经配置用于在过程期间利用所产生焦点设置对样本执行扫描，且一或多个计算机子系统经配置用于在扫描期间将样本表面轮廓应用于所产生焦点设置，借此确定在过程期间用于样本扫描的最终焦点设置。例如，本文中所描述的实施例可经配置用于将实时晶片表面轮廓应用于粗略z条带以校正晶片卡盘表面中的趋势。晶片表面轮廓可为卡盘表面的预界定功能。系统可周期性地运行校准以确定此预界定功能以协助将粗略z预映射保持于最佳焦点捕获内。确定预界定功能可在预映像粗略z聚焦扫描期间执行。将样本表面轮廓应用于所产生焦点设置可包含将表面轮廓添加到默认z且前馈轨迹。计算机子系统可经配置以将用于所产生焦点设置的信息存储在配方中或通过产生用于将执行样本扫描的过程的配方来存储。如本文所使用的术语“配方”通常可界定为一组指令，所述指令可由工具用来对样本执行过程。以此方式，产生配方可包含产生关于将如何执行过程的信息，接着所述信息可用于产生用于执行所述过程的指令。由计算机子系统存储的用于所产生焦点设置的信息可包含可用于使所产生焦点设置在扫描期间应用于输出获取子系统及/或扫描子系统的任何信息。经存储的用于所产生焦点设置的信息也可包含实际产生焦点设置本身及/或用于使所产生焦点设置在扫描期间应用的任何指令。计算机子系统可经配置用于将用于所产生焦点设置的信息存储在任何合适计算机可读存储媒体中。所述信息可与本文中所描述的结果中的任一者一起存储且可以本技术中已知的任何方式存储。所述存储媒体可包含本文中所描述的任何存储媒体或本技术中已知的任何其它合适存储媒体。在信息经存储之后，信息可在存储媒体中存取且可由本文中所描述的方法或系统实施例中的任一者使用，经格式化用于显示给用户，由另一软件模块、方法或系统等使用。例如，本文中所描述的实施例可产生或修改检验配方以包含所产生焦点设置。接着，所产生或修改检验配方可由系统或方法存储及使用以检验样本或其它样本以借此产生样本或其它样本的信息。在一个实施例中，一或多个计算机子系统经配置用于基于所产生焦点设置来确定样本的一或多个特征。例如，焦点图本身可保存关于样本的有价值信息。在一个此实例中，所产生焦点设置可响应于样本的一或多个特性变化，例如膜的厚度或样本上的图案化特征作为样本位置的函数。特定来说，由于所产生焦点设置响应于样本表面或特征相对于输出获取子系统的焦平面的位置，因此所产生焦点设置还响应于样本表面或样本上的特征的z位置的变化。在一个此实例中，所产生焦点设置可响应于样本的最上表面的z位置的变化或作为样本上的位置的函数而形成样本的最上表面的图案化特征、膜等的其它特性。当所需聚焦位置在样本的最上表面下方时，所产生焦点设置可类似地响应于样本的特性。所产生焦点设置可由计算机子系统用于在全局及局部两者确定样本的各种特征。因此，所产生焦点设置可用作样本的一或多个特征的度量，其可由一或多个计算机子系统用于本文中进一步所描述的其它步骤。接着，本文中所描述的系统或另一系统或方法可使用所存储信息来执行样本的扫描且从扫描输出确定关于样本的信息。取决于对样本执行的过程，所确定信息可包含缺陷信息、图案化特征测量及其类似者。检验、缺陷重检及计量过程可包含本技术中已知的任何此类合适过程。由系统为此类过程产生的输出可包含任何合适结果，例如标准检验结果文件，其为可从科磊公司商购的一些检验工具输出的一种类型的检验结果文件、标准计量结果文件、标准缺陷重检结果文件等。所述系统还可经配置用于基于为样本确定的信息来执行一或多个功能。此类功能包含改变他反馈或前馈方式对样本执行或将执行的工艺。例如，本文中所描述的虚拟系统及其它计算机子系统可经配置以确定对如本文中所描述的在经检验样本上执行的工艺及/或将基于所检测缺陷的对样本执行的工艺的一或多个改变。对工艺的改变可包含对工艺的一或多个参数的任何合适改变。本文中所描述的虚拟系统及/或其它计算机子系统优选地确定那些改变，使得可减少或防止在其上执行经修改工艺的其它样本上的缺陷，可在对样本执行的另一工艺中校正或消除所述缺陷，可在对样本执行的另一工艺中补偿缺陷等。本文中所描述的虚拟系统及其它计算机子系统可以本技术中已知的任何合适方式来确定此类变化。接着可将那些改变发送到虚拟系统或本文中所描述的其它计算机子系统及半导体制造系统可存取的半导体制造系统或存储媒体。半导体制造系统可为或可不为本文中所描述的系统实施例的部分。例如，本文中所描述的虚拟系统及其它计算机子系统可经由一或多个共同元件耦合到半导体制造系统。所述半导体制造系统可包含本技术中已知的任何半导体制造系统，例如光刻工具、蚀刻工具、化学机械抛光工具、沉积工具及其类似者。在一个实施例中，一或多个计算机子系统经配置用于基于样本的所确定一或多个特征来确定对样本上执行的制造工艺的一或多个参数的一或多个改变。例如，如上文进一步所描述，所产生焦点设置可由一或多个计算机子系统用于确定样本的一或多个特征。接着，那些特征可由计算机子系统用于确定制造工艺的参数的改变，例如上文所描述的那些。在一个此实例中，如果特征指示跨样本的图案化特征的厚度存在变化，那么所述变化可用于确定用于在样本上形成图案化特征的工艺的参数的变化，例如光刻工艺、蚀刻工艺、CMP工艺等。另外，可使用本技术已知的任何合适算法、关系、函数等来确定制造工艺的参数的变化。一或多个计算机子系统还可响应于样本的特征来确定应改变哪个或哪些工艺。换句话说，计算机子系统可响应于所确定特征来确定对样本执行的一或多个工艺的改变。以此方式，可保存关于样本的有价值信息的焦点图本身可用于控制用于制造样本的工艺。以类似方式，焦点图可用于确定尚未对样本执行的工艺的一或多个改变，以改变或补偿从焦点图确定的样本的特征。此类工艺可包含修复工艺及随后制造工艺，其在其正常及通常操作中可改变样本的所确定特征。在一个实施例中，所述过程是检验过程。可以任何合适方式执行检验过程。例如，一般来说，术语“检验过程”在本文中用于指代在样本上检测缺陷的过程。可以各种不同方式来执行检测样本上的缺陷，包含，例如，将阈值与检验工具或系统为样本产生的输出进行比较或应用阈值及确定具有高于阈值的值的任何输出对应于潜在缺陷或缺陷候选者，且不具有高于阈值的值的任何输出不对应于潜在缺陷或缺陷候选者。在一些实施例中，所述过程是检验过程，其包含检测样本上的缺陷，且一或多个计算机子系统经配置用于基于样本的所确定一或多个特征结合用于由检验过程产生的缺陷检测的信息来确定一或多个变化。例如，如上文所描述，焦点图本身可用于确定关于样本的信息，且可将关于样本的信息与缺陷检验结果结合使用以便控制用于制造样本的工艺。一或多个计算机子系统可使用从所产生的焦点设置为样本确定的特征及所检测的缺陷的信息来确定制造工艺的参数的变化，如上文进一步所描述。用于所检测缺陷的信息可包含本文中所描述或本技术中已知的此类信息中的任一者。在一个此实例中，样本的特征与所检测缺陷中的一或多者之间可能存在某种关系及/或所检测缺陷的一或多者可独立于从所产生焦点设置确定的特征。以此方式，所确定样本特征及所检测缺陷可具有共同或相关原因或可具有单独、不相关原因。因而，可有利地响应于所确定的特征结合所检测缺陷来确定制造工艺的参数的变化，使得可准确地识别及校正任何非所要特征的原因及所检测缺陷。在另一实施例中，所述过程是计量过程。例如，可使用本文中进一步所描述的系统中的一者来执行计量过程。可以本技术中已知的任何合适方式来执行计量过程。在另一实施例中，所述过程是缺陷重检过程，其可以本技术中已知的任何合适方式来执行。与用于确定用于样本扫描的焦点设置的其它方法及系统相比，本文中所描述的实施例具有许多优点。例如，本文中所描述的实施例有利地使用本文中所描述的输出来测量及估计最佳焦点。另外，本文中所描述的实施例有利地使用图像中的特征以提供最佳焦点的可靠且可重复估计。可根据本文中所描述的任何其它实施例进一步配置系统的实施例中的每一者。另一实施例涉及一种用于确定用于样本扫描的焦点设置的计算机实施方法。所述方法包含使用由如本文中所描述而配置的输出获取子系统在样本上扫描的一或多个预聚焦条带中产生的输出，产生焦点图，经界定为最佳焦点值，作为所述样本上的位置的函数。所述方法还包含对所述焦点图进行内插以产生焦点设置用于在过程期间对所述样本执行的扫描。所述方法进一步包含存储用于所产生焦点设置的信息用于在过程期间对样本执行的扫描中。产生、内插及存储由耦合到输出获取子系统的一或多个计算机子系统执行。计算机子系统可如本文中所描述进一步配置。所述方法的步骤中的每一者可如本文中进一步描述执行。所述方法还可包含可由本文中所描述的输出获取子系统、计算机子系统及/或系统执行的任何其它步骤。可由本文中所描述的系统实施例中的任一者来执行上文所描述的方法。额外实施例涉及一种非暂时性计算机可读媒体，其存储在计算机系统上可执行的程序指令用于执行计算机实施方法，所述方法用于确定用于样本扫描的焦点设置。此实施例在图7中展示。特定来说，如图7中中所展示，非暂时性计算机可读媒体700包含可在计算机系统704上执行的程序指令702。所述计算机实施方法可包含本文中所描述的任何方法的任何步骤。实施例如本文中所描述的那些方法的方法的程序指令702可存储在计算机可读媒体700上。所述计算机可读媒体可为存储媒体。可以各种方式中的任一者实施所述程序指令，其包含基于过程的技术、基于组件的技术及/或面向对象技术。例如，根据需要，可使用ActiveX控件、C++对象、JavaBeans、微软基础类库、SSE或其它技术或方法来实施程序指令。可根据本文中所描述的实施例中的任一者来配置计算机系统704。由于此描述，所属领域的技术人员当明白本发明的各种方面的进一步修改及替代实施例。例如，提供用于确定用于样本扫描的焦点设置的方法及系统。据此，此描述仅解释为阐释性的且出于教示所属领域的技术人员实施本发明的一般方式。应明白本文中所展示且描述的本发明的形式应被视作当前优选实施例。元件及材料可替代本文中所说明及描述的所述元件及材料，可颠倒零件及过程，且可独立地利用本发明的特定特征，所属领域的技术人员在获得本发明的此描述的优点之后当明白上述所有。可在本文所描述的元件中进行改变而不会背离如在所附权利要求书中所描述的本发明的精神及范围。
