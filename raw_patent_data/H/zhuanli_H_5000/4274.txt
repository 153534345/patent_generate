标题title
增益控制方法、装置、增益控制器及信号接收端
摘要abst
本发明涉及卫星通信技术领域，提供了一种增益控制方法、装置、增益控制器及信号接收端，所述方法包括：检测模数转换芯片当前输出的能量，并对当前输出的能量进行平滑滤波处理，得到第一信号能量；根据第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整值，再根据预设调整步进确定每个调整周期的调整次数；在调整周期内、按照预设时间间隔和调整次数向增益放大器输入预设步进值，以使增益放大器调整增益，预设步进值为增益放大器每次增益调整使用的调整值。本发明使卫星信号接收端在接收不同功率的突发信号时不会互相影响，且在增益调整过中不会影响解调性能。
权利要求书clms
1.一种增益控制方法，其特征在于，应用于增益控制器，所述增益控制器与增益放大器电连接，所述增益放大器与模数转换芯片电连接，所述方法包括：步骤S100，检测所述模数转换芯片当前输出的能量，并对所述模数转换芯片当前输出的能量进行平滑滤波处理，得到第一信号能量，所述模数转换芯片当前输入的信号为所述增益放大器对当前接收的输入信号进行增益处理后的信号；步骤S110，根据所述第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数，所述预设步进值为所述增益放大器每次进行增益调整的调整值；步骤S120，若所述第一信号能量满足预设调整条件，则在所述调整周期内、按照所述预设增益调整的时间间隔和所述调整次数向所述增益放大器输入所述预设步进值，以使所述增益放大器在所述调整周期内、对当前接收的输入信号进行所述调整次数的增益调整，每次增益调整的调整值为所述预设步进值。2.如权利要求1所述的增益控制方法，其特征在于，所述根据所述第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数的步骤包括：子步骤S1101，根据所述第一信号能量及所述预设能量门限，确定增益调整量；子步骤S1102，将所述增益调整量和所述预设步进值的比值，作为所述调整次数；子步骤S1103，将所述调整次数和所述预设增益调整的时间间隔的乘积，作为调整持续时长；子步骤S1104，根据所述调整持续时长及所述时间窗口长度，确定所述调整周期，其中，所述调整周期大于所述调整持续时长与所述时间窗口长度之和。3.如权利要求2所述的增益控制方法，其特征在于，所述预设能量门限包括预设噪声能量门限及预设信号能量门限，所述根据所述第一信号能量及所述预设能量门限，确定增益调整量的步骤包括：若所述第一信号能量小于所述预设噪声能量门限，则将预设噪声能量门限作为参考门限；若所述第一信号能量大于所述预设噪声能量门限、且与所述预设噪声能量门限之差大于预设值，则将预设信号能量门限作为参考门限；计算所述第一信号能量与所述参考门限之间的差值；根据所述差值和所述参考门限，确定所述增益调整量。4.如权利要求3所述的增益控制方法，其特征在于，所述根据所述差值和所述参考门限，确定所述增益调整量的步骤包括：根据所述差值及所述参考门限，利用公式计算所述增益调整量，其中，为所述增益调整量，为所述差值，为所述参考门限。5.如权利要求1所述的增益控制方法，其特征在于，所述预设能量门限包括预设噪声能量门限，所述根据所述第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数的步骤之前，包括：步骤S200，检测所述增益放大器未接收到信号，并且所述增益放大器使用最大增益时，所述模数转换芯片当前输出的能量，并将所述模数转换芯片当前输出的能量进行平滑滤波处理，得到第二信号能量；步骤S210，将所述第二信号能量与预设倍数的乘积，作为所述预设噪声能量门限。6.如权利要求1所述的增益控制方法，其特征在于，所述预设能量门限还包括预设信号能量门限，所述根据所述第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数的步骤之前，包括：步骤S300，检测所述增益放大器接收到预设信号时，所述模数转换芯片当前输出的能量，并将所述模数转换芯片当前输出的能量进行平滑滤波处理，得到第三信号能量，其中，所述预设信号为使所述模数转换芯片当前输出的第三信号的幅值在预设幅值范围内，所述预设幅值范围根据所述模数转换芯片的数据位宽确定；步骤S310，将所述第三信号能量作为所述预设信号能量门限。7.如权利要求1所述的增益控制方法，其特征在于，所述预设能量门限包括预设噪声能量门限及预设信号能量门限，所述若所述第一信号能量满足预设调整条件，则在所述调整周期内、按照所述预设增益调整的时间间隔和所述调整次数向所述增益放大器输入所述预设步进值，以使所述增益放大器在所述调整周期内、对当前接收的输入信号进行所述调整次数的增益调整的步骤之前，包括：若所述第一信号能量在所述预设噪声能量门限的第一预设范围内或者在所述预设信号能量门限的第二预设范围内，则判定所述第一信号能量不满足预设调整条件；若所述第一信号能量不在所述第一预设范围内、且不在所述第二预设范围内，则判定所述第一信号能量满足预设调整条件。8.一种增益控制装置，其特征在于，应用于增益控制器，所述增益控制器与增益放大器电连接，所述增益放大器与模数转换芯片电连接，所述装置包括：检测模块，用于检测所述模数转换芯片当前输出的能量，并对所述模数转换芯片当前输出的能量进行平滑滤波处理，得到第一信号能量，所述模数转换芯片当前输入的信号为所述增益放大器对当前接收的输入信号进行增益处理后的信号；确定模块，用于根据所述第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数，所述预设步进值为所述增益放大器每次进行增益调整的调整值；调整模块，用于若所述第一信号能量满足预设调整条件，则在所述调整周期内、按照所述预设增益调整的时间间隔和所述调整次数向所述增益放大器输入所述预设步进值，以使所述增益放大器在所述调整周期内、对接收的输入信号进行所述调整次数的增益调整，每次增益调整的调整值为所述预设步进值。9.一种增益控制器，其特征在于，用于实现如权利要求1~7任一项所述的增益控制方法。10.一种信号接收端，其特征在于，所述信号接收端包括如权利要求9所述的增益控制器。
说明书desc
技术领域本发明涉及卫星通信技术领域，具体而言，涉及一种增益控制方法、装置、增益控制器及信号接收端。背景技术卫星信号接收端接收到的模拟信号能量极小，且信号能量变化范围大，需增益放大器对模拟信号进行放大后，才能进行成功采集和处理。利用现有技术中对于增益放大器进行增益调整时，通常采用模数转换芯片对卫星信号接收端接收的模拟信号进行转换后信号的能量最大值作为增益调整的参考，将能量最大值调整到设定的理想能量值附近。当卫星信号接收端接收到的突发信号无时间规律，且突发信号间的能量差异较大时，基于模数转换芯片转换后的信号的能量最大值进行增益调整后，不同能量的突发信号会相互影响，卫星信号接收端仍然很难接收到能量较小的突发信号。发明内容本发明的目的在于提供了一种增益控制方法、装置、增益控制器及信号接收端，其能够对增益进行更合理的调整，使卫星信号接收端在接收不同功率的突发信号时不会互相影响，卫星信号接收端即使在突发信号的能量较小的情况下也能正常接收到信号，且在增益调整过中不会影响解调性能。为了实现上述目的，本发明实施例采用的技术方案如下：第一方面，本发明实施例提供了一种增益控制方法，应用于增益控制器，所述增益控制器与增益放大器电连接，所述增益放大器与模数转换芯片电连接，所述方法包括：检测所述模数转换芯片当前输出的能量，并对所述模数转换芯片当前输出的能量进行平滑滤波处理，得到第一信号能量，所述模数转换芯片当前输入的信号为所述增益放大器对当前接收的输入信号进行增益处理后的信号；根据所述第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数，所述预设步进值为所述增益放大器每次进行增益调整的调整值；若所述第一信号能量满足预设调整条件，则在所述调整周期内、按照所述预设增益调整的时间间隔和所述调整次数向所述增益放大器输入所述预设步进值，以使所述增益放大器在所述调整周期内、对当前接收的输入信号进行所述调整次数的增益调整，每次增益调整的调整值为所述预设步进值。可选地，所述根据所述第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数的步骤包括：根据所述第一信号能量及所述预设能量门限，确定增益调整量；将所述增益调整量和所述预设步进值的比值，作为所述调整次数；将所述调整次数和所述预设增益调整的时间间隔的乘积，作为调整持续时长；根据所述调整持续时长及所述时间窗口长度，确定所述调整周期，其中，所述调整周期大于所述持续时长与所述时间窗口长度之和。可选地，所述预设能量门限包括预设噪声能量门限及预设信号能量门限，所述根据所述第一信号能量及所述预设能量门限，确定增益调整量的步骤包括：若所述第一信号能量小于所述预设噪声能量门限，则将预设噪声能量门限作为参考门限；若所述第一信号能量大于所述预设噪声能量门限、且与所述预设噪声能量门限之差大于预设值，则将预设信号能量门限作为参考门限；计算所述第一信号能量与所述参考门限之间的差值；根据所述差值和所述参考门限，确定所述增益调整量。可选地，所述根据所述差值和所述参考门限，确定所述增益调整量的步骤包括：根据所述差值及所述参考门限，利用公式计算所述增益调整量，其中，为所述增益调整量，为所述差值，为所述参考门限。可选地，所述预设能量门限包括预设噪声能量门限，所述方法还包括：检测所述增益放大器未接收到信号，并且所述增益放大器使用最大增益时，所述模数转换芯片当前输出的能量，并将所述模数转换芯片当前输出的能量进行平滑滤波处理，得到第二信号能量；将所述第二信号能量与预设倍数的乘积，作为所述预设噪声能量门限。可选地，所述预设能量门限还包括预设信号能量门限，所述方法还包括：检测所述增益放大器接收到预设信号时，所述模数转换芯片当前输出的能量，并将所述模数转换芯片当前输出的能量进行平滑滤波处理，得到第三信号能量，其中，所述预设信号为使所述模数转换芯片当前输出的第三信号的幅值在预设幅值范围内，所述预设幅值范围根据所述模数转换芯片的数据位宽确定；将所述第三信号能量作为所述预设信号能量门限。可选地，所述预设能量门限包括预设噪声能量门限及预设信号能量门限，所述方法还包括：若所述第一信号能量在所述预设噪声能量门限的第一预设范围内或者在所述预设信号能量门限的第二预设范围内，则判定所述第一信号能量不满足预设调整条件；若所述第一信号能量不在所述第一预设范围内、且不在所述第二预设范围内，则判定所述第一信号能量满足预设调整条件。第二方面，本发明实施例提供了一种增益控制装置，应用于增益控制器，所述增益控制器与增益放大器电连接，所述增益放大器与模数转换芯片电连接，所述装置包括：检测模块，用于检测所述模数转换芯片当前输出的第一信号的能量，并对所述模数转换芯片当前输出的能量进行平滑滤波处理，得到第一信号能量，所述模数转换芯片当前输入的信号为所述增益放大器对当前接收的输入信号进行增益处理后的信号；确定模块，用于根据所述第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数，所述预设步进值为所述增益放大器每次进行增益调整的调整值；调整模块，用于若所述第一信号能量满足预设调整条件，则在所述调整周期内、按照所述预设增益调整的时间间隔和所述调整次数向所述增益放大器输入所述预设步进值，以使所述增益放大器在所述调整周期内、对接收的输入信号进行所述调整次数的增益调整，每次增益调整的调整值为所述预设步进值。第三方面，本发明实施例提供了一种增益控制器，实现如上述第一方面所述的增益控制方法。第四方面，本发明实施例提供了一种信号接收端，所述卫星信号接收端包括上述第三方面所述的增益控制器。相对于现有技术，本发明实施例提供的增益控制方法、装置、增益控制器及信号接收端，通过第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，使得确定出的调整周期和调整次数更合理，再在调整周期内、按照预设增益调整的时间间隔和调整次数向增益放大器输入预设步进值，以使增益放大器在调整周期内、对接收的输入信号进行调整次数的增益调整，每次增益调整的调整值为预设步进值，最终使得增益的调整也更合理，使卫星信号接收端在接收不同功率的突发信号时不会互相影响，卫星信号接收端即使在突发信号的能量较小的情况下也能正常接收到信号，且在增益调整过中不会影响解调性能。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本发明实施例提供的信号接收端的结构示意图。图2为本发明实施例提供的增益控制方法的流程示例图一。图3为本发明实施例提供的时间周期和预设增益调整的时间间隔之间的关系示例图。图4为本发明实施例提供的增益控制方法的流程示例图二。图5为本发明实施例提供的增益控制方法的流程示例图三。图6为本发明实施例提供的增益控制方法的流程示例图四。图7为本发明实施例提供的第一信号能量波动范围的示例图。图8为本发明实施例提供的增益控制装置的方框示例图。图标：10-信号接收端；11-增益放大器；12-模数转换芯片；13-增益控制器。100-增益控制装置；110-检测模块；120-确定模块；130-调整模块。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。需要说明的是，在不冲突的情况下，本发明的实施例中的特征可以相互结合。卫星突发通信系统中，卫星信号接收端接收到的模拟信号是来自不同站点的突发信号。由于各个站点发射的突发信号之间的能量存在差异，且在站点成功接入系统前，接收端对突发信号的能量未知的缘故，使得卫星信号接收端成功接收并解调各站点的突发信号对卫星信号接收端的可调增益放大器控制过程要求高。可调增益放大器使用的增益值大小，直接影响模数转换芯片采集模拟信号的能量或幅度，进而影响后级处理的性能。现有技术中，对增益放大器的调整方式为：采用模数转换芯片转换后信号的能量最大值作为可调增益放大器调整的参考，将能量最大值调整到设定的理想能量值附近。然而，当接收信道中接收到的突发无时间规律，且突发间的能量差异较大的信号时，卫星信号接收端很难接收到其中能量较小的突发信号。有鉴于此，本发明实施例提供了一种增益控制方法、装置、增益控制器及信号接收端，其能够对增益进行更合理的调整，使卫星信号接收端在接收不同功率的突发信号时不会互相影响，卫星信号接收端即使在突发信号的能量较小的情况下也能正常接收到信号，且在增益调整过中不会影响解调性能，下面将对其进行详细描述。请参考图1，图1为本发明实施例提供的信号接收端10的结构示意图，信号接收端10可以是用于接收信号的信号接收器，可以是卫星信号接收端，信号接收端10包括增益放大器11、模数转换芯片12及增益控制器13。增益放大器11，可以为模拟信号增益放大器AGC，用于对模拟信号进行能量放大或缩小。模数转换芯片12，用于将时间连续、幅值也连续的模拟信号转换为时间离散、幅值也离散的数字信号，也称为ADC器件。增益控制器13，可以由数字处理芯片实现，用于根据ADC转换后的数字采样信号的能量，控制可调增益放大器进行放大或缩小，已使得输入ADC芯片的模拟信号的幅度能最大限度的利用ADC动态范围。在本实施例中，增益控制器13在控制可调增益放大器进行放大或缩小之前，还需要首先对ADC转换后的数字采样信号的能量进行平滑滤波，通过检测ADC转换后的数字采样信号的每个采样点的能量，再对各采样点能量进行平滑滤波处理。其中，采样点能量计算可采用方法或其他方法，其中，p表示功率，i表示信号实部，q表示信号虚部，平滑滤波可采用滑动窗平均法或其他方法，得到平滑滤波之后的信号的能量后，再确定调整周期和调整次数，最后按照调整周期和调整次数进行调整，以便实现增益放大器11增益的合理调整。需要说明的是，作为一种具体实现方式，增益控制器可以采用一个可编程逻辑阵列FPGA器件实现，该数字芯片实现滤波和调整周期和调整次数的计算以及控制增益放大器进行增益调整，作为另一种具体实现方式，增益控制器13中滤波的处理和调整周期和调整次数的计算采用可以不同的硬件处理，增益控制器13可以包括滤波器和计算周期和次数的计算芯片，滤波器和计算芯片通信连接，以便可以将滤波器滤波处理后的信号作为计算芯片的输入，进行调整周期和调整次数的计算。在图1的基础上，本发明实施例提供了一种应用于图1中增益控制器13的增益控制方法，请参照图2，图2为本发明实施例提供的增益控制方法的流程示例图一，该方法包括以下步骤：步骤S100，检测模数转换芯片当前输出的能量，并对模数转换芯片当前输出的能量进行平滑滤波处理，得到第一信号能量，模数转换芯片当前输入的信号为增益放大器对当前接收的输入信号进行增益处理后的信号。在本实施例中，增益放大器根据增益控制器的输出对当前接收的信号进行增益处理，增益处理包括增益放大和增益缩小。增益控制器的输出是根据最近一次增益控制器计算出的增益周期、增益次数及增益调整量控制的，然后将处理后的信号发送至模数转换芯片，将该信号转换成数字信号，增益控制器将该数字信号进行平滑滤波，然后再基于该数字信号计算调整周期和调整次数，根据调整周期和调整次数控制增益放大器对当前接收的输入信号进行增益处理。步骤S110，根据第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数，预设步进值为增益放大器每次进行增益调整的调整值。在本实施例中，预设调整条件用于表征第一信号能量是否需要调整的条件，例如，第一信号能量在预设区间内是不需要调整的，此时第一信号能量不满足预设调整条件；第一信号能量不在预设区间内，且与预设能量门限之间差值满足预设差值范围，此时第一信号能量满足预设调整条件。在本实施例中，预设能量门限用于确定第一信号能量允许波动的范围，若第一信号能量偏离预设能量门限不在可接受的波动范围内，则需要对第一信号能量进行调整，否则不需要调整。在本实施例中，为了使增益调整不影响解调性能，预设增益调整的时间间隔可以设置为大于或者等于当前通信符号速率下纠错码持续时间的1/x，由此可以保证最坏场景下，单个纠错码帧内功率调整波动小于1dB，x由模拟增益放大器的一次可以调整的最小值决定，例如，一次调整的最小值为0.25dB，则x=1dB/0.25dB。在本实施例中，预设步进值为增益控制器控制增益放大器每次调整的值，预设步进值通常为增益控制器预设的参数，可以是增益控制器一次调整的最小值，该参数通常和增益控制器及增益放大器的具体硬件相关，增益控制器可以在一个调整周期内多次调整增益放大器，每一调整预设步进值。在本实施例中，平滑滤波采用的时间窗口长度用于表征进行平滑滤波运算时，参与平滑运算的采样点数总和的持续时间，单个采样点持续时间为采样周期。在本实施例中，调整周期是本次对增益放大器进行增益调整的时间跨度，调整次数为调整周期内需要调整的次数，需要说明的是，在调整周期内，按照调整次数进行调整时，在调整周期尚未结束时，已经进行了调整次数的调整，此时在本调整周期内不再进行调整，直至下一个调整周期到来时继续按照最近一次计算出的调整周期和调整次数进行调整，例如，调整周期为10秒，调整次数为6次，预设时间间隔为1秒，则调整周期的第6秒结束时已经调整了6次，则此后一直到10秒期间不再进行增益调整。步骤S120，若第一信号能量满足预设调整条件，则在调整周期内、按照预设增益调整的时间间隔和调整次数向增益放大器输入预设步进值，以使增益放大器在调整周期内、对当前接收的输入信号进行调整次数的增益调整，每次增益调整的调整值为预设步进值。在本实施例中，增益控制器将预设步进值输入至增益放大器，并且按照预设增益调整的时间间隔和调整次数将预设步进值输入至增益放大器。在调整周期内，每隔预设增益调整的时间间隔对增益放大器调整一次，每次调整预设步进值，直至调整次数达到调整次数。请参照图3，图3为本发明实施例提供的时间周期和预设时间间隔之间的关系示例图。本发明实施例提供的上述方法，通过根据第一信号能量、预设能量门限、预设时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定合理的调整周期和调整次数，最终使得增益调整更合理，尤其是当不同功率的突发信号同时接入信号接收端，增益放大器会同时收到不同功率的突发信号，上述方法使卫星信号接收端在接收不同功率的突发信号时不会互相影响，卫星信号接收端即使在突发信号的能量较小的情况下也能正常接收到信号，且在增益调整过中不会影响解调性能。需要说明的是，尤其是通过上述方法能够实现增益放大器的合理增益调整的同时，也不会影响通信质量。在图2的基础上，本发明实施例还提供了一种确定调整周期和调整次数的具体实现方式，请参照图4，图4为本发明实施例提供的增益控制方法的流程示例图二，步骤S110包括以下子步骤：子步骤S1101，根据第一信号能量及预设能量门限，确定增益调整量。在本实施例中，为了更准确地确定增益调整量，预设能量门限包括预设噪声能量门限及预设信号能量门限，由于第一信号能量可能比较接近于预设噪声能量门限，也可能比较接近于预设信号能量门限，为了使增益调整量更合理，根据第一信号能量与预设噪声能量门限和预设信号能量门限的相对值，确定参考门限，参考门限为计算增益调整量时的门限，为预设噪声能量门限和预设信号能量门限中的一个。根据第一信号能量及预设能量门限确定增益调整量的具体方式可以是：首先，若第一信号能量小于预设噪声能量门限，则将预设噪声能量门限作为参考门限。其次，若第一信号能量大于预设噪声能量门限、且与预设噪声能量门限之差大于预设值，则将预设信号能量门限作为参考门限。在本实施例中，预设值可以根据实际需要进行设置，例如，预设值设置为1dB。第三，计算第一信号能量与参考门限之间的差值。第四，根据差值和参考门限，确定增益调整量。在本实施例中，根据差值及参考门限，利用公式计算增益调整量，其中，为增益调整量，为差值，为参考门限。需要说明的是，增益调整量可以为正值也可以为负值，当为正值时，意味着需要减小增益放大器的增益，为负值时，意味着需要增大增益放大器的增益。本发明实施例通过根据第一信号能量的具体情况，为其选择合适的参考门限，使得计算出的增益调整量更合理，进而使得调整周期和调整次数也更合理，最终使得增益调整更合理。需要说明的是，作为一种具体实现方式，在确定增益调整量之后，为便于使用查找表实现能量差值对应到增益调整量，可设定最大调整量，例如3dB，即若计算出的增益调整量大于最大调整量，就将最大调整量作为增益调整量，若计算出的增益调整量小于或者等于最大调整量，则以计算出的值作为增益调整量。子步骤S1102，将增益调整量和预设步进值的比值，作为调整次数。在本实施例中，作为一种具体计算方式，调整次数可以根据公式计算得到，其中，N为次数，G为增益调整量，step为预设步进值，通常情况下，step可以设置为增益放大器的最小步进值，既增益放大器一次可以调节的最小值，例如，最小步进值为0.25dB。子步骤S1103，将调整次数和预设增益调整的时间间隔的乘积，作为调整持续时长。子步骤S1104，根据调整持续时长及时间窗口长度，确定调整周期，其中，调整周期大于持续时长与时间窗口长度之和。在本实施例中，之所以将调整周期设置为大于持续时长与时间窗口长度之和，主要是可以既保证本次调整周期内完成增益调整，又保证在下次增益调整周期时间到来前已经成功获取到当前次调整后的信号能量。在本实施例中，考虑到具体实现的简洁性，作为一种较优的实现方式，也可以不用每次调整时都重新确定调整周期，而是在增益控制器设计时，按照预设最大增益调整量计算出最大调整次数，再根据最大调整次数和预设增益调整的时间间隔计算出最大持续时长，最后再根据最大持续时长及时间窗口长度确定调整周期，每个调整周期都会计算增益调整量及调整次数，若本周期计算出的增益调整量大于预设最大增益调整量，则用预设最大增益调整量作为本周期的增益调整量，否则就按照实际计算出的增益调整量在调整周期内按照调整次数和预设步进值进行增益调整。在本实施例中，为了使预设噪声能量门限的设置更合理，本发明实施例还提供了一种确定预设噪声能量门限的具体实现方式，请参照图5，图5为本发明实施例提供的增益控制方法的流程示例图三，该方法还包括以下步骤：步骤S200，检测增益放大器未接收到信号，并且增益放大器使用最大增益时，模数转换芯片当前输出的能量，并将模数转换芯片当前输出的能量进行平滑滤波处理，得到第二信号能量。在本实施例中，第二信号能量为增益放大器没有输入信号，并且增益放大器使用最大增益时，对模数转换芯片当前输出的信号的能量进行平滑滤波处理后的信号的能量。增益放大器的最大增益是增益放大器支持的最大增益，是增益放大器的固有特征，与增益放大器的硬件相关。步骤S210，将第二信号能量与预设倍数的乘积，作为预设噪声能量门限。在本实施例中，预设倍数可以根据需要进行设置，例如，预设倍数设置为4。在本实施例中，为了使预设能量门限的设置更合理，本发明实施例还提供了一种确定预设能量门限的具体实现方式，请参照图6，图6为本发明实施例提供的增益控制方法的流程示例图三，该方法还包括以下步骤：步骤S300，检测增益放大器接收到预设信号时，模数转换芯片当前输出的能量，并将模数转换芯片当前输出的能量进行平滑滤波处理，得到第三信号能量，其中，预设信号为使模数转换芯片当前输出的第三信号的幅值在预设幅值范围内，预设幅值范围根据模数转换芯片的数据位宽确定。在本实施例中，模数转换芯片的数据位宽是模数转换芯片的参数，采用不同的硬件实现模数转换芯片，其数据位宽也可以不同。预设幅值范围可以是模数转换芯片的数据位宽-2得到。即第三信号的幅值为模数转换芯片的数据位宽-2，或者在模数转换芯片的数据位宽-2的差值的预设浮动区间。步骤S310，将第三信号能量作为预设信号能量门限。需要说明的是，步骤S200~步骤S201和步骤S300~步骤S301可以分别一先一后执行，也可以同时执行，但是步骤S200~步骤S201和步骤S300~步骤S301均需要在步骤S110之前执行。在本实施例中，为了避免不必要的调整操作，也为了避免频繁调整引起的信号波动过大，本发明实施例分别为噪声能量门限和预设信号能量门限设置了预设范围，若第一信号能量在这两个预设范围内中的任一预设范围内波动，则不进行增益调整，基于此，本发明实施例还提供了一种判断第一信号能量是否满足预设调整条件的具体实现方式，至少包括以下几种情况：若第一信号能量在预设噪声能量门限的第一预设范围内或者在预设信号能量门限的第二预设范围内，则判定第一信号能量不满足预设调整条件。在本实施例中，第一预设范围是允许第一信号能量在预设噪声能量门限上下波动的范围，第二预设范围是允许第一信号能量在预设信号能量门限上下波动的范围，第一预设范围和第二预设范围可以相同，也可以不同，具体可以根据实际场景进行设置，例如，第一预设范围设置在预设噪声能量门限的±0.5dB，第二预设范围设置在预设信号能量门限的±0.5dB。请参照图7，图7为本发明实施例提供的第一信号能量波动范围的示例图，图7中的信号能量曲线是第一信号的信号能量曲线。若第一信号能量不在第一预设范围内、且不在第二预设范围，则判定第一信号能量满足预设调整条件。为了执行上述实施例及各个可能的实施方式中的相应步骤，下面给出一种增益控制装置100的实现方式。请参照图8，图8出了本发明实施例提供的增益控制装置100的方框示意图。需要说明的是，本实施例所提供的增益控制装置100，其基本原理及产生的技术效果和上述实施例相同，为简要描述，本实施例部分未提及指出。增益控制装置100包括检测模块110、确定模块120及调整模块130。检测模块110，用于检测模数转换芯片当前输出的能量，并对模数转换芯片当前输出的能量进行平滑滤波处理，得到第一信号能量，模数转换芯片当前输入的信号为增益放大器对当前接收的输入信号进行增益处理后的信号；确定模块120，根据第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数，预设步进值为所述增益放大器每次进行增益调整的调整值；可选地，确定模块120具体用于：根据第一信号能量及预设能量门限，确定增益调整量；将增益调整量和预设步进值的比值，作为调整次数；将调整次数和预设增益调整的时间间隔的乘积，作为调整持续时长；根据所述调整持续时长及所述时间窗口长度，确定所述调整周期，其中，所述调整周期大于所述调整持续时长与所述时间窗口长度之和。可选地，所述预设能量门限包括预设噪声能量门限及预设信号能量门限，确定模块120用于根据第一信号能量及预设能量门限，确定增益调整量时，具体用于：若第一信号能量小于预设噪声能量门限，则将预设噪声能量门限作为参考门限；若第一信号能量大于预设噪声能量门限、且与预设噪声能量门限之差大于预设值，则将预设信号能量门限作为参考门限；计算第一信号能量与参考门限之间的差值；根据差值和参考门限，确定增益调整量。可选地，确定模块120根据差值和参考门限，确定增益调整量时，具体用于：根据差值及参考门限，利用公式计算增益调整量，其中，为增益调整量，为差值，为参考门限。可选地，预设能量门限包括预设噪声能量门限，确定模块120在用于根据第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数之前，具体还用于：检测增益放大器未接收到信号，并且增益放大器使用最大增益时，所述模数转换芯片当前输出的能量，并将模数转换芯片当前输出的能量进行平滑滤波处理，得到第二信号能量；将第二信号能量与预设倍数的乘积，作为预设噪声能量门限。可选地，预设能量门限还包括预设信号能量门限，确定模块120在用于根据第一信号能量、预设能量门限、预设增益调整的时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数之前，具体还用于：检测增益放大器接收到预设信号时，模数转换芯片当前输出的能量，并将模数转换芯片当前的能量进行平滑滤波处理，得到第三信号能量，其中，预设信号为使模数转换芯片当前输出的第三信号的幅值在预设幅值范围内，预设幅值范围根据模数转换芯片的数据位宽确定；将第三信号能量作为预设信号能量门限。可选地，预设能量门限包括预设噪声能量门限及预设信号能量门限，确定模块120在用于若第一信号能量满足预设调整条件，则在调整周期内、按照预设增益调整的时间间隔和调整次数向增益放大器输入预设步进值，以使增益放大器在调整周期内、对当前接收的输入信号进行调整次数的增益调整之前，具体还用于：若第一信号能量在预设噪声能量门限的第一预设范围内或者在预设信号能量门限的第二预设范围内，则判定第一信号能量不满足预设调整条件；若第一信号能量不在第一预设范围内、且不在第二预设范围内，则判定第一信号能量满足预设调整条件。调整模块130，若第一信号能量满足预设调整条件，则在调整周期内、按照预设增益调整的时间间隔和调整次数向增益放大器输入预设步进值，以使增益放大器在调整周期内、对接收的输入信号进行调整次数的增益调整，每次增益调整的调整值为预设步进值。综上所述，本发明实施例提供了一种增益控制方法、装置、增益控制器及信号接收端，应用于增益控制器，增益控制器与增益放大器电连接，增益放大器与模数转换芯片电连接，所述方法包括：检测模数转换芯片当前输出的能量，并对模数转换芯片当前输出的能量进行平滑滤波处理，得到第一信号能量，模数转换芯片当前输入的信号为增益放大器对当前接收的输入信号进行增益处理后的信号；根据第一信号能量、预设能量门限、预设增益调整时间间隔、预设步进值及平滑滤波采用的时间窗口长度，确定调整周期和调整次数，预设步进值为增益放大器每次进行增益调整的调整值；若第一信号能量满足预设调整条件，则在调整周期内、按照预设增益调整的时间间隔和调整次数向增益放大器输入预设步进值，以使增益放大器在调整周期内、对接收的信号进行调整次数的增益调整，每次增益调整的调整值为预设步进值。相对于现有技术，本发明实施例，首先，利用第一信号能量、预设能量门限、预设时间间隔、预设步进值及平滑滤波采用的时间窗口长度，能够更合理的确定调整周期和调整次数，然后，使增益放大器按照调整周期和调整次数，每次调整预设步进值，使得增益的调整也更合理，最终实现卫星信号接收端在接收不同功率的突发信号时不会互相影响，并且即使在突发信号的能量较小的情况下也能正常接收到信号，同时增益调整过程中不会影响解调性能。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
