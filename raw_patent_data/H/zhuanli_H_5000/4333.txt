标题title
文件传输方法及装置
摘要abst
本申请提供一种文件传输方法及装置，文件传输方法包括：从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件，所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件；基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件，系统之间文件传输的成功率。
权利要求书clms
1.一种文件传输方法，其特征在于，应用于第一系统，包括：从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件，所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件；基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件。2.根据权利要求1所述的文件传输方法，其特征在于，还包括：在所述目标文件发送完成的情况下，向所述第二系统发送重命名指令，并基于所述目标文件的信息更新第一消息队列；所述第一消息队列用于存储第一系统已发送完成的文件的信息，所述重命名指令用于指示所述第二系统将所述目标文件的临时文件名修改为正式文件名，所述目标文件的信息包括目标文件的正式文件名、临时文件名和文件大小以及接收所述目标文件的第二系统的信息。3.根据权利要求1所述的文件传输方法，其特征在于，所述从第二消息队列中获取目标文件的信息，包括：确定是否存在待发送文件；在不存在所述待发送文件的情况下，从第二消息队列中的至少一个发送失败文件的信息中获取目标文件的信息。4.一种文件传输方法，其特征在于，应用于第二系统，包括：从第一消息队列中获取目标文件的信息；确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致；在所述第一文件的信息与目标文件的信息一致的情况下，确定所述目标文件为所述第一文件；或者，在所述第一文件的信息与目标文件的信息不一致的情况下，基于所述目标文件的信息更新第二消息队列。5.根据权利要求4所述的文件传输方法，其特征在于，所述目标文件的信息包括所述目标文件的正式文件名、所述目标文件的临时文件名、所述目标文件的文件大小以及接收所述目标文件的第二系统的信息；所述确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致，包括：确定所述第一文件的文件名是否和所述正式文件名或者临时文件名相同；在所述第一文件的文件名与所述正式文件名和所述临时文件名均不相同的情况下，确定接收到的第一文件的信息和所述目标文件的信息不一致；或者，在所述第一文件的文件名与所述正式文件名相同或者与所述临时文件名相同的情况下，确定所述第一文件的文件大小与所述目标文件的文件大小是否一致；在所述第一文件的文件大小与所述目标文件的文件大小一致的情况下，确定接收到的第一文件的信息和所述目标文件的信息一致；或者，在所述第一文件的文件大小与所述目标文件的文件大小不一致的情况下，确定接收到的第一文件的信息和所述目标文件的信息不一致。6.一种文件传输装置，其特征在于，包括：文件确定模块，用于从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件，所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件；文件发送模块，用于基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件。7.一种文件传输装置，其特征在于，包括：信息确定模块，用于从第一消息队列中获取目标文件的信息；判断模块，用于确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致；处理模块，用于在所述第一文件的信息与目标文件的信息一致的情况下，确定所述目标文件为所述第一文件；或者，在所述第一文件的信息与目标文件的信息不一致的情况下，基于所述目标文件的信息更新第二消息队列。8.一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1至3任一项所述文件传输方法，或者实现如权利要求4至5任一项所述文件传输方法。9.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至3任一项所述文件传输方法，或者实现如权利要求4至5任一项所述文件传输方法。10.一种计算机程序产品，包括计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至3任一项所述文件传输方法，或者实现如权利要求4至5任一项所述文件传输方法。
说明书desc
技术领域本申请涉及通信技术领域，尤其涉及一种文件传输方法及装置。背景技术目前，存在大量需要以文件作为交易载体的业务场景，例如银行系统进行交易处理的场景：企业给员工大批量开卡、代发工资采用文本、报表文件传输给报表系统展示等等，此类场景需要在各银行系统进行文件传输完成交易载体的交互。由于发送文件的系统也称源系统与接收文件的系统也称目标系统在文件处理时多数为异步，即源系统发送文件和目标系统获取文件进行处理这两个动作存在交叉的情况，无法保证源系统完成文件传输后目标系统再对该文件进行处理，进而导致文件传输不成功。发明内容本申请提供一种文件传输方法及装置，用以解决现有技术中文件传输不成功的缺陷，实现提高文件传输的成功率。本申请提供一种文件传输方法，应用于第一系统，包括：从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件，所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件；基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件。根据本申请提供的一种文件传输方法，还包括：在所述目标文件发送完成的情况下，向所述第二系统发送重命名指令，并基于所述目标文件的信息更新第一消息队列；所述第一消息队列用于存储第一系统已发送完成的文件的信息，所述重命名指令用于指示所述第二系统将所述目标文件的临时文件名修改为正式文件名，所述目标文件的信息包括目标文件的正式文件名、临时文件名和文件大小以及接收所述目标文件的第二系统的信息。根据本申请提供的一种文件传输方法，所述从第二消息队列中获取目标文件的信息，包括：确定是否存在待发送文件；在不存在所述待发送文件的情况下，从第二消息队列中的至少一个发送失败文件的信息中获取目标文件的信息。本申请还提供一种文件传输方法，应用于第二系统，包括：从第一消息队列中获取目标文件的信息；确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致；在所述第一文件的信息与目标文件的信息一致的情况下，确定所述目标文件为所述第一文件；或者，在所述第一文件的信息与目标文件的信息不一致的情况下，基于所述目标文件的信息更新第二消息队列。根据本申请提供的一种文件传输方法，所述目标文件的信息包括所述目标文件的正式文件名、所述目标文件的临时文件名、所述目标文件的文件大小以及接收所述目标文件的第二系统的信息；所述确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致，包括：确定所述第一文件的文件名是否和所述正式文件名或者临时文件名相同；在所述第一文件的文件名与所述正式文件名和所述临时文件名均不相同的情况下，确定接收到的第一文件的信息和所述目标文件的信息不一致；或者，在所述第一文件的文件名与所述正式文件名相同或者与所述临时文件名相同的情况下，确定所述第一文件的文件大小与所述目标文件的文件大小是否一致；在所述第一文件的文件大小与所述目标文件的文件大小一致的情况下，确定接收到的第一文件的信息和所述目标文件的信息一致；或者，在所述第一文件的文件大小与所述目标文件的文件大小不一致的情况下，确定接收到的第一文件的信息和所述目标文件的信息不一致。本申请提供一种文件传输方装置，包括：文件确定模块，用于从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件，所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件；文件发送模块，用于基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件。本申请还提供一种文件传输装置，包括：信息确定模块，用于从第一消息队列中获取目标文件的信息；判断模块，用于确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致；处理模块，用于在所述第一文件的信息与目标文件的信息一致的情况下，确定所述目标文件为所述第一文件；或者，在所述第一文件的信息与目标文件的信息不一致的情况下，基于所述目标文件的信息更新第二消息队列。本申请还提供一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如上述任一种所述文件传输方法。本申请还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现如上述任一种所述文件传输方法。本申请还提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现如上述任一种所述文件传输方法。本申请提供的文件传输方法及装置，通过使用第二消息队列存储第一系统已发送但是接收文件的系统未接收到的文件，基于第二消息队列确定待发送的目标文件，基于目标文件的临时文件名，向接收所述目标文件的第二系统发送该目标文件，实现了发送失败文件的重发，提高了系统之间文件传输的成功率。附图说明为了更清楚地说明本申请或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请提供的文件传输方法的流程示意图之一；图2是本申请提供的文件传输方法的流程示意图之二；图3是本申请提供的文件传输方法的流程示意图之三；图4是本申请提供的文件传输装置的结构示意图之一；图5是本申请提供的文件传输装置的结构示意图之二；图6是本申请提供的电子设备的结构示意图。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合本申请中的附图，对本申请中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。图1是本申请实施例提供的文件传输方法的流程示意图之一，如图1所示，文件传输方法包括：步骤100和步骤101。需要说明的是，本方法应用于第一系统。步骤100、从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件。所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件。文件发送方即第一系统和文件接收方即第二系统均可以访问第二消息队列。第一系统从第二消息队列中获取信息，第二系统将文件的信息存储至第二消息队列。可以理解的是，第一系统是消息的发送方，第一系统已发送并不代表发送成功，可能因为会网络故障导致第一系统发送的文件与消息的接收方即第二系统接收到的文件不一致，也就是说第二系统未接收到第一系统发送的文件。在一些实施例中，先确定是否存在待发送文件。在存在所述待发送文件的情况下，确定目标文件为所述待发送文件；或者，在不存在所述待发送文件的情况下，从第二消息队列中的至少一个发送失败文件的信息中获取目标文件的信息。可选地，待发送文件是根据第一系统的发送任务确定的，在第一系统存在发送任务的情况下，优先进行发送任务中的待发送文件的发送。在不存在所述待发送文件的情况下，再从第二消息队列中确定出一个发送失败文件作为目标文件，对该发送失败文件进行重新发送。第一发送失败文件是第二消息队列中的任意一个发送失败文件。本申请实施例提供的文件传输方法，先确定是否存在待发送文件，在存在待发送文件的情况下，优先对待发送文件进行发送，在不存在待发送文件的情况下，从第二消息队列中确定第一发送失败文件进行发送，在进行文件重发的同时，不会占用第一系统的网络资源，不会影响第一系统原始的待发送文件的传输效率。步骤101、基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件。文件传输过程中，文件的发送系统也称源系统或者第一系统将文件分解为多段报文，通过文件传输协议与文件的接收方也称目标系统或者第二系统进行多次网络交互，每次网络交互传输一段报文，将文件以多段报文的形式写入目标系统的文件服务器。目标系统即第二系统获取文件进行处理时直接根据文件名规则进行获取，为保证文件不会在未传输完成的情况下被目标系统提前处理，源系统即第一系统在发起文件传输时先以临时文件名进行传输，临时文件名和正式文件名不相同，待传输完成后，再重命名为正式文件名。本申请提供的文件传输方法，通过使用第二消息队列存储第一系统已发送但是接收文件的系统未接收到的文件，基于第二消息队列确定待发送的目标文件，基于目标文件的临时文件名，向接收所述目标文件的第二系统发送该目标文件，实现了发送失败文件的重发，提高了系统之间文件传输的成功率。在一些实施例中，文件传输方法，还包括：在所述目标文件发送完成的情况下，向所述第二系统发送重命名指令，并基于所述目标文件的信息更新第一消息队列。所述第一消息队列用于存储第一系统已发送完成的文件的信息，所述重命名指令用于指示所述第二系统将所述目标文件的临时文件名修改为正式文件名，所述目标文件的信息包括目标文件的正式文件名、临时文件名和文件大小以及接收所述目标文件的第二系统的信息。可选地，第一消息队列中存储的是发送方已经发送的文件信息。文件发送方即第一系统和文件接收方即第二系统均可以访问第一消息队列。第一系统将文件的信息存储至第一消息队列，第二系统从第一消息队列中读取文件的信息。第一系统在目标文件发送完成的情况下，基于目标文件的信息更新第一消息队列，以供文件接收方即第二系统从所述第一消息队列中获取目标文件的信息，并确定接收到的所述第一系统发送的第一文件的信息和所述目标文件的信息是否一致。也就是说，文件接收方会首先获取第一消息队列中的文件信息，再与实际接收到的文件进行比对。如果比对结果一致，则文件接收方正常处理该文件，如果比对结果不一致，则文件接收方将该文件的信息加入第二消息队列中，以供文件发送方即第一系统基于第二消息队列，对该目标文件的内容进行重发。目标文件的信息包括目标文件的正式文件名和临时文件名，也就是说，无论重命名是否成功，第二系统均可以根据第一消息队列中文件的信息，确定与接收到的第一系统发送的文件的信息是否一致。本申请提供的文件传输方法，在目标文件发送完成的情况下，向所述第二系统发送重命名指令，并基于所述目标文件的信息更新第一消息队列，以供第二系统基于第一消息队列确定第一系统发送的文件信息与第二系统接收到的文件信息是否一致，进而第二系统可以将不一致的文件的信息加入第二消息队列，使第一系统对该不一致的文件信息进行重传，提高文件传输的成功率。图2是本申请实施例提供的文件传输方法的流程示意图之二，如图2所示。文件传输方法包括：步骤200、步骤201、步骤202、步骤203、步骤204和步骤205。步骤200、步骤201、步骤202、步骤203、步骤204和步骤205的执行主体为第一系统。步骤200、第一系统确定是否存在待发送文件。步骤201、在存在待发送文件的情况下，直接发送该待发送文件；在不存在待发送文件的情况下，从第二消息队列中读取需要重新发送的文件，发送该需要重新发送的文件。需要说明的是，发送文件的过程都是基于文件的临时文件名进行发送的。步骤202、确定传输过程是否成功。步骤203、在传输不成功的情况下，将该文件重新置为待发送状态。步骤204、在传输成功的情况下，通过向第二系统的文件服务器发送重命名请求，将临时文件名重命名为正式文件名。需要说明的是，步骤202和步骤203只执行一项。步骤205、将文件的信息异步写入第一消息队列，文件的信息包括文件大小和文件名信息。如图2所示，文件传输方法还包括：步骤206、步骤207、步骤208和步骤209。步骤206、步骤207、步骤208和步骤209的执行主体为第二系统。步骤206、第二系统同步读取第一消息队列中的文件信息，确定待处理的目标文件。步骤207、确定第二系统服务器中是否存在该目标文件。步骤208、如果服务器中有该目标文件，则对该目标文件进行处理。步骤209、如果服务器中有该目标文件，则将目标文件的信息写入第二消息队列中。需要说明的是，步骤208和步骤209只执行一项。现有技术中，在重命名为正式文件名时可能因为网络异常导致源系统无法判断文件是否真正重命名成功，具体包括以下两种情况。情况1：重命名指令已发送，且目标系统服务器上的临时文件名重命名为正式文件名成功，但源系统未收到网络层成功的指令。情况2：重命名指令已发送，目标系统服务器上的临时文件名重命名为正式文件名失败，但源系统未收到网络层返回重命名失败的指令。本申请实施例中，源系统将文件内的数据内容传输完成后进行重命名为目标文件名时不识别重命名结果默认重命名成功解决了文件传输过程中可能出现的情况2，确保文件可以成功传输。本申请实施例提供的文件传输方法，设置了两个消息队列，通过使用第二消息队列存储第一系统已发送但是接收文件的系统未接收到的文件，基于第二消息队列确定待发送的目标文件，基于目标文件的临时文件名，向接收所述目标文件的第二系统发送该目标文件，实现了发送失败文件的重发，提高了系统之间文件传输的成功率，此外，第一系统在目标文件发送完成的情况下，基于目标文件的信息更新第一消息队列，以供第二系统基于第一消息队列确定第一系统发送的文件信息与第二系统接收到的文件信息是否一致，进而第二系统可以将不一致的文件的信息加入第二消息队列，使第一系统对该不一致的文件信息进行重传，提高文件传输的成功率。图3是本申请实施例提供的文件传输方法的流程示意图之三，如图3所示，文件传输方法包括：步骤300、步骤301和步骤302。步骤300、从第一消息队列中获取目标文件的信息。可选地，第一消息队列中的文件信息是在第一系统向第二系统发送文件完成的情况下，写入第一消息队列中的。在一些实施例中，目标文件的信息包括所述目标文件的正式文件名、所述目标文件的临时文件名、所述目标文件的文件大小以及接收所述目标文件的第二系统的信息。步骤301、确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致。在一些实施例中，步骤301包括：确定所述第一文件的文件名是否和所述正式文件名或者临时文件名相同；在所述第一文件的文件名与所述正式文件名和所述临时文件名均不相同的情况下，确定接收到的第一文件的信息和所述目标文件的信息不一致；或者，在所述第一文件的文件名与所述正式文件名相同或者与所述临时文件名相同的情况下，确定所述第一文件的文件大小与所述目标文件的文件大小是否一致；在所述第一文件的文件大小与所述目标文件的文件大小一致的情况下，确定接收到的第一文件的信息和所述目标文件的信息一致；或者，在所述第一文件的文件大小与所述目标文件的文件大小不一致的情况下，确定接收到的第一文件的信息和所述目标文件的信息不一致。可选地，先确认第一文件和目标文件的文件名是否一致，在文件名一致的情况下，再确认第一文件和目标文件的大小是否一致，如果文件的大小一致则认为接收到的第一文件的信息和目标文件的信息一致。第一文件和目标文件的文件名一致，存在两种情况：一、第一文件的文件名与目标文件的正式文件名相同；二、第一文件的文件名与目标文件的临时文件名相同。步骤302、在所述第一文件的信息与目标文件的信息一致的情况下，确定所述目标文件为所述第一文件；或者，在所述第一文件的信息与目标文件的信息不一致的情况下，基于所述目标文件的信息更新第二消息队列。在第一文件的信息与目标文件的信息一致的情况下，确定目标文件为第一文件，对目标文件进行后续的处理。例如基于接收到的工资信息表进行代发工资，基于人员资料表进行批量开卡等等。如果第一文件的信息与目标文件的信息不一致，则基于目标文件的信息更新第二消息队列，以供第一系统获取第二消息队列中的目标文件的信息，对目标文件进行重发。本申请实施例提供的文件传输方法，第二系统基于第一消息队列确定第一系统发送的文件信息与第二系统接收到的文件信息是否一致，进而第二系统可以将不一致的文件的信息加入第二消息队列，使第一系统对该不一致的文件信息进行重传，提高文件传输的成功率。下面对本申请提供的文件传输装置进行描述，下文描述的文件传输装置与上文描述的文件传输方法可相互对应参照。如图4所示，文件传输装置400，包括：文件确定模块410和文件发送模块420。文件确定模块410，用于从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件，所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件；文件发送模块420，用于基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件。可选地，文件传输装置400，还包括：更新模块，用于在所述目标文件发送完成的情况下，向所述第二系统发送重命名指令，并基于所述目标文件的信息更新第一消息队列；所述第一消息队列用于存储第一系统已发送完成的文件的信息，所述重命名指令用于指示所述第二系统将所述目标文件的临时文件名修改为正式文件名，所述目标文件的信息包括目标文件的正式文件名、临时文件名和文件大小以及接收所述目标文件的第二系统的信息。可选地，所述从第二消息队列中获取目标文件的信息，包括：确定是否存在待发送文件；在不存在所述待发送文件的情况下，从第二消息队列中的至少一个发送失败文件的信息中获取目标文件的信息。如图5所示，文件传输装置500，包括：信息确定模块510、判断模块520和处理模块530。信息确定模块510，用于从第一消息队列中获取目标文件的信息；判断模块520，用于确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致；处理模块530，用于在所述第一文件的信息与目标文件的信息一致的情况下，确定所述目标文件为所述第一文件；或者，在所述第一文件的信息与目标文件的信息不一致的情况下，基于所述目标文件的信息更新第二消息队列。可选地，所述目标文件的信息包括所述目标文件的正式文件名、所述目标文件的临时文件名、所述目标文件的文件大小以及接收所述目标文件的第二系统的信息；所述确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致，包括：确定所述第一文件的文件名是否和所述正式文件名或者临时文件名相同；在所述第一文件的文件名与所述正式文件名和所述临时文件名均不相同的情况下，确定接收到的第一文件的信息和所述目标文件的信息不一致；或者，在所述第一文件的文件名与所述正式文件名相同或者与所述临时文件名相同的情况下，确定所述第一文件的文件大小与所述目标文件的文件大小是否一致；在所述第一文件的文件大小与所述目标文件的文件大小一致的情况下，确定接收到的第一文件的信息和所述目标文件的信息一致；或者，在所述第一文件的文件大小与所述目标文件的文件大小不一致的情况下，确定接收到的第一文件的信息和所述目标文件的信息不一致。在此需要说明的是，本申请实施例提供的上述装置，能够实现上述方法实施例所实现的所有方法步骤，且能够达到相同的技术效果，在此不再对本实施例中与方法实施例相同的部分及有益效果进行具体赘述。图6示例了一种电子设备的实体结构示意图，如图6所示，该电子设备可以包括：处理器610、通信接口620、存储器630和通信总线640，其中，处理器610，通信接口620，存储器630通过通信总线640完成相互间的通信。处理器610可以调用存储器630中的逻辑指令，以执行文件传输方法，该方法应用于第一系统，包括：从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件，所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件；基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件。或者，该方法应用于第二系统，包括：从第一消息队列中获取目标文件的信息；确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致；在所述第一文件的信息与目标文件的信息一致的情况下，确定所述目标文件为所述第一文件；或者，在所述第一文件的信息与目标文件的信息不一致的情况下，基于所述目标文件的信息更新第二消息队列。此外，上述的存储器630中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。另一方面，本申请还提供一种计算机程序产品，所述计算机程序产品包括计算机程序，计算机程序可存储在非暂态计算机可读存储介质上，所述计算机程序被处理器执行时，计算机能够执行上述各方法所提供的文件传输方法，该方法应用于第一系统，包括：从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件，所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件；基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件。或者，该方法应用于第二系统，包括：从第一消息队列中获取目标文件的信息；确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致；在所述第一文件的信息与目标文件的信息一致的情况下，确定所述目标文件为所述第一文件；或者，在所述第一文件的信息与目标文件的信息不一致的情况下，基于所述目标文件的信息更新第二消息队列。又一方面，本申请还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现以执行上述各方法提供的文件传输方法，该方法应用于第一系统，包括：从第二消息队列中获取目标文件的信息，并基于所述目标文件的信息确定目标文件，所述第二消息队列中包括发送失败文件的信息，所述发送失败文件为所述第一系统已发送且接收所述发送失败文件的系统未接收到的文件；基于所述目标文件的临时文件名，向接收所述目标文件的第二系统发送所述目标文件。或者，该方法应用于第二系统，包括：从第一消息队列中获取目标文件的信息；确定接收到的第一系统发送的第一文件的信息和所述目标文件的信息是否一致；在所述第一文件的信息与目标文件的信息一致的情况下，确定所述目标文件为所述第一文件；或者，在所述第一文件的信息与目标文件的信息不一致的情况下，基于所述目标文件的信息更新第二消息队列。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的方法。最后应说明的是：以上实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的精神和范围。
