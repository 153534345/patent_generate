标题title
一种基于曲面悬臂结构定向能量沉积制造方法及产品
摘要abst
本发明属于増材制造相关技术领域，并具体公开了一种基于曲面悬臂结构定向能量沉积制造方法及产品。该方法包括下列步骤：S1获取待成形悬臂结构的切片层和填充轨迹，设定成形轮廓上的轮廓点和填充轨迹上的轨迹点的加工朝向；S2旋转待成形悬臂结构所在的母体模型，使得当前待加工的轮廓点或轨迹点的加工朝向为打印头的初始设定方向，即竖直向上方向，按照所述加工朝向依次对所述轮廓点和轨迹点进行打印，实现在成形轮廓的基础上进行轨迹填充，完成单个切片层的打印成形，逐层成形每个切片层即可获得所需的悬臂结构。通过本发明，实现悬臂结构的成形，成形过程打印头朝向变化平稳，成形质量和精度高。
权利要求书clms
1.一种基于曲面悬臂结构的定向能量沉积制造方法，其特征在于，该方法包括下列步骤：S1对待成形悬臂结构进行切片获得多个切片层和每个切片层内的成形轮廓，规划每个切片层内的填充轨迹，以此获得每个切片层内成形轮廓上的轮廓点和填充轨迹上的轨迹点，对于所述轨迹点，设定该轨迹点所在填充轨迹处的法向为其加工朝向；对于所述轮廓点，判断该轮廓点是否为悬出点，若为悬出点，设定该悬出点对应的悬出向量为其加工朝向，若为非悬出点，设定该非悬出点所在成形轮廓处的法向为其加工朝向；S2旋转待成形悬臂结构的母体模型，使得当前待加工的轮廓点或轨迹点的加工朝向为打印头的初始设定方向，即竖直向上方向，按照所述加工朝向依次对所述轮廓点和轨迹点进行打印，实现单个切片层中成形轮廓和填充轨迹的依次成形，逐层成形每个切片层即可获得所需的悬臂结构。2.如权利要求1所述的一种基于曲面悬臂结构的定向能量沉积制造方法，其特征在于，在步骤S2中，在打印所述轮廓点时，还需对轮廓点按照下列方式优化：对于所有轮廓点，计算每个轮廓点对应的悬出距离，当多个相邻的轮廓点的悬出距离值均满足预设要求时，打印该多个相邻的轮廓点，剩余的轮廓点不予打印。3.如权利要求2所述的一种基于曲面悬臂结构的定向能量沉积制造方法，其特征在于，所述多个相邻的轮廓点的悬出距离值均满足预设要求中，所述预设要求是指：多个相邻的轮廓点的悬出距离值均大于预设值，且该多个相邻的轮廓点的连线长度大于预设长度。4.如权利要求2所述的一种基于曲面悬臂结构的定向能量沉积制造方法，其特征在于，所述悬出距离按照下列方式计算：对于轮廓点K0，将该轮廓点K0沿其法向向该轮廓点K0所在切片层的上一层切片层投影，获得投影点K1，在该投影点所处切片层内获取与该投影点K1距离最近的点R，当轮廓点为悬出点时，悬出距离为点R与投影点K1之间的距离，否者，悬出距离为点R与投影点K1之间的距离的相反数。5.如权利要求1所述的一种基于曲面悬臂结构的定向能量沉积制造方法，其特征在于，在步骤S2中，按照所述加工朝向依次对所述轮廓点和轨迹点进行打印前，对于所述轮廓点，还需将每个轮廓点的所述加工朝向向成形轮廓外侧旋转角度以此获得新的加工朝向，该新的加工朝向作为该轮廓点的加工方向，避免打印所述轮廓点时，成形材料向成形轮廓外流淌，其中，6.如权利要求1所述的一种基于曲面悬臂结构的定向能量沉积制造方法，其特征在于，在步骤S1中，轮廓点和轨迹点的加工朝向设定后，还需分别对成形轮廓和填充轨迹的加工朝向进行平滑处理，二者进行平滑处理方法相同，对于成形轮廓加工朝向平滑处理按照下列方式进行：将所有轮廓点的加工朝向的模长均设定为1，方向为加工朝向，以此建立每个轮廓点对应的加工朝向向量，对于轮廓点Q，计算与轮廓点Q前后相邻的两个轮廓点的加工朝向向量的和向量，该和向量设定为轮廓点Q新的加工朝向，依次处理所有的轮廓点，即实现成形轮廓加工朝向的平滑处理。7.如权利要求1所述的一种基于曲面悬臂结构的定向能量沉积制造方法，其特征在于，在步骤S1中，所述悬出点是指：第i个切片层成形轮廓上的点P0，将该P0点沿该点处的法向向第i-1个切片层投影，获得的投影点P1，当P1在第i-1个切片层的成形轮廓外时，P0点为悬出点，其中，i为大于1的整数，当i＝1时第i个切片层中的所有点均不是悬出点。8.如权利要求7所述的一种基于曲面悬臂结构的多自由度定向能量沉积制造方法，其特征在于，所述悬出向量是指：在投影点P1所在的切片层中获取与该投影点P1距离最近的点q，由点q指向悬出点P0的向量即为悬出向量。9.如权利要求1所述的一种基于曲面悬臂结构的定向能量沉积制造方法，其特征在于，在步骤S2中，旋转所述母体模型使得当前待加工的轮廓点或轨迹点的加工朝向为打印头的初始设定方向时，当加工朝向与打印头的初始设定方向的夹角大于所述转台的旋转行程时；或者，当初始加工加工朝向为打印头的初始设定方向后，打印头调整其旋转角度超过其自身行程范围时，还需调整所述加工朝向，使得带动所述母体模型旋转的转台和打印头旋转时均在各自的行程范围内。10.一种按照权利要求1-9任一项所述的制造方法制造获得的产品。
说明书desc
技术领域本发明属于増材制造相关技术领域，更具体地，涉及一种基于曲面悬臂结构定向能量沉积制造方法及产品。背景技术基于曲面的金属悬臂式结构的制造难度极大，用传统制造方法如铸造、锻造，由于需要开模，成本较高，而用定向能量沉积工艺，可大幅度降低成本。定向能量沉积工艺是唯一可通过多轴联动、无支撑地制造基于曲面的金属悬臂结构的增材制造方法。然而，该方法仍面临诸多难题，具体如下：悬臂结构如何成形？如何保证成形精度和成形过程的平稳运行？对于上述技术难题，现有的成形方法很难满足实际成形要求，因此，急需一种悬臂式结构的定向能量沉积方法能解决上述加工中的难题。发明内容针对现有技术的以上缺陷或改进需求，本发明提供了一种基于曲面悬臂结构定向能量沉积制造方法及产品，通过将单个切片层内的打印区域划分为成形轮廓和填充轨迹，然后分别对对填充轨迹上的轨迹点和成形轮廓上的悬出点和非悬出点的加工朝向进行区别设定，最后依次成形轮廓点和轨迹点，先沉积悬臂结构的轮廓，然后以轮廓为基础进行填充轨迹的打印，以此实现悬臂结构的成形，该方法成形过程平稳，获得的产品加工精度高。为实现上述目的，按照本发明的一个方面，提供了一种基于曲面悬臂结构的定向能量沉积制造方法，该方法包括下列步骤：S1对待成形悬臂结构进行切片获得多个切片层和每个切片层内的成形轮廓，规划每个切片层内的填充轨迹，以此获得每个切片层内成形轮廓上的轮廓点和填充轨迹上的轨迹点，按照下列方式设定所述轮廓点和轨迹点的加工朝向；对于所述轨迹点，设定该轨迹点所在填充轨迹处的法向为其加工朝向；对于所述轮廓点，判断该轮廓点是否为悬出点，若为悬出点，设定该悬出点对应的悬出向量为其加工朝向，若为非悬出点，设定该非悬出点所在成形轮廓处的法向为其加工朝向；S2旋转待成形悬臂结构所在的母体模型，使得当前待加工的轮廓点或轨迹点的加工朝向为打印头的初始设定方向，即竖直向上方向，按照所述加工朝向依次对所述轮廓点和轨迹点进行打印，实现单个切片层中成形轮廓和填充轨迹的依次成形，逐层成形每个切片层即可获得所需的悬臂结构。进一步优选地，在步骤S2中，在打印所述轮廓点时，还需对轮廓点按照下列方式优化：对于所有轮廓点，计算每个轮廓点对应的悬出距离，当多个相邻的轮廓点的悬出距离值均满足预设要求时，打印该多个相邻的轮廓点，剩余的轮廓点不予打印。进一步优选地，所述多个相邻的轮廓点的悬出距离值均满足预设要求中，所述预设要求是指：多个相邻的轮廓点的悬出距离值均大于预设值，且该多个相邻的轮廓点的连线长度大于预设长度。进一步优选地，所述悬出距离按照下列方式计算：对于轮廓点K0，将该轮廓点K0沿其法向向该轮廓点K0所在切片层的上一层切片层投影，获得投影点K1，在该投影点所处切片层内获取与该投影点K1距离最近的点R，当轮廓点为悬出点时，悬出距离为点R与投影点K1之间的距离，否者，悬出距离为点R与投影点K1之间的距离的相反数。进一步优选地，在步骤S2中，按照所述加工朝向依次对所述轮廓点和轨迹点进行打印前，对于所述轮廓点，还需将每个轮廓点的所述加工朝向向成形轮廓外侧旋转角度以此获得新的加工朝向，该新的加工朝向作为该轮廓点的加工方向，避免打印所述轮廓点时，成形材料向成形轮廓外流淌，其中，进一步优选地，在步骤S1中，轮廓点和轨迹点的加工朝向设定后，还需分别对成形轮廓和填充轨迹的加工朝向进行平滑处理，二者进行平滑处理方法相同，对于成形轮廓加工朝向平滑处理按照下列方式进行：将所有轮廓点的加工朝向的模长均设定为1，方向为加工朝向，以此建立每个轮廓点对应的加工朝向向量，对于轮廓点Q，计算与轮廓点Q前后相邻的两个轮廓点的加工朝向向量的和向量，该和向量设定为轮廓点Q新的加工朝向，依次处理所有的轮廓点，即实现成形轮廓加工朝向的平滑处理。进一步优选地，在步骤S1中，所述悬出点是指：第i个切片层成形轮廓上的点P0，将该P0点沿该点处的法向向第i-1个切片层投影，获得的投影点P1，当P1在第i-1个切片层的成形轮廓外时，P0点为悬出点，其中，i为大于1的整数，当i＝1时第i个切片层中的所有点均不是悬出点。进一步优选地，在步骤S2中，旋转所述母体模型使得当前待加工的轮廓点或轨迹点的加工朝向为打印头的初始设定方向时，当加工朝向与打印头的初始设定方向的夹角大于所述转台的旋转行程时；或者，当初始加工加工朝向为打印头的初始设定方向后，打印头调整其旋转角度超过其自身行程范围时，还需调整所述加工朝向，使得带动所述母体模型旋转的转台和打印头旋转时均在各自的行程范围内。按照本发明的另一个方面，提供了一种上述所述的制造方法制造获得的产品。总体而言，通过本发明所构思的以上技术方案与现有技术相比，具备下列有益效果：1.本发明提出一种基于曲面的悬臂结构的多自由度定向能量沉积制造方法，通过将单个切片层内的打印区域划分为成形轮廓和填充轨迹，然后分别对对填充轨迹上的轨迹点和成形轮廓上的悬出点和非悬出点的加工朝向进行区别设定，最后依次成形轮廓点和轨迹点，先沉积悬臂结构的轮廓，然后以轮廓为基础进行填充轨迹的打印，通过该方式进行定向能量沉积获得的产品精度高；2.本发明中在打印轮廓点时通过对轮廓点的打印进行优化，选择悬出距离和相邻的悬出点连线的长度均满足要求的轮廓点，一方面避免悬出距离太短形成飞溅，另一方面避免打印悬出段长度过短形成凸起；3.本发明中设定轮廓点上的打印朝向时，将加工朝向向成形轮廓外偏转，打印头在加工该轮廓点时，避免打印材料向成形轮廓内流淌，进而提高打印质量和精度；4.本发明中通过对打印时成形轮廓和填充轨迹加工朝向进行平滑处理，使得所有轮廓点和轨迹点在打印时，打印头的加工朝向变化也平稳，进而避免打印中打印头方向突变，使得加工过程平稳过渡，提高加工精度。附图说明图1是按照本发明的优选实施例所构建的待成形悬臂结构桨叶的三维模型结构示意图；图2是按照本发明的优选实施例所构建的桨叶切片后获得的切片层即填充轨迹示意图，其中，是单个桨叶的切片层和填充轨迹示意图，是椎体模型上多个桨叶的切片层和填充轨迹示意图；图3是按照本发明的优选实施例所构建的悬出点、悬出向量和悬出距离的示意图；图4是按照本发明的优选实施例所构建的轮廓点打印头朝向设定的示意图；图5是按照本发明的优选实施例所构建的旋转椎体模型准备打印时的位置变换示意图；图6是按照本发明的优选实施例所构建的加工朝向平滑处理的示意图；图7是按照本发明的优选实施例所构建的轮廓点与悬出距离的关系图；图8是按照本发明的优选实施例所构建的轮廓优化示意图，其中，是在椎体模型上的两层切片层的成形轮廓示意图，是成形轮廓上多个悬出段的示意图，是优化后获得的待打印悬出段；图9是按照本发明的优选实施例所构建的按照填充轨迹和轮廓点打印获得的桨叶示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。此外，下面所描述的本发明各个实施方式中所涉及到的技术特征只要彼此之间未构成冲突就可以相互组合。一种基于曲面悬臂结构定向能量沉积制造方法，其中的悬臂结构是设置在母体模型上，悬臂结构的成形需要在母体模型上进行，悬臂结构的成形包括如下步骤：曲面轨迹规划：对悬臂结构进行等距曲面切片，生成层层堆叠的曲面轮廓与其曲面填充轨迹。设定轨迹点加工朝向：给曲面轮廓与填充轨迹的所有轨迹点设定加工朝向。对于填充轨迹点，将其所处曲面的法向作为其加工朝向。对于轮廓点，确定该点是否为悬出点，若为悬出点，则将悬出向量作为该点的加工朝向；否则，将其所处曲面的法向作为其加工朝向。设定打印头朝向：打印头的初始方向为竖直向上，对于填充轨迹点，打印时，打印头的朝向为加工朝向；对于轮廓点，将需将该轮廓点的加工朝向绕轮廓的切向向外旋转角度旋转后获得形的加工朝向为打印头打印该轮廓点时的朝向。旋转母体模型所在的转台，悬臂结构的位置发生变化，旋转过程中使得轨迹点加工朝向在变位后竖直朝上；同时旋转打印头所在变位器，使其达到设定的打印朝向。然而，在实际制造过程中，变位器存在变位角度限制，须适当偏转轨迹点加工朝向以及打印头设定朝向，使得变位角度在限制范围内。另外，须对所有轨迹点加工朝向以及打印头设定朝向进行平滑处理，使得连续变位过程更加平顺。对于填充轨迹，按照填充轨迹进行打印，对于轮廓点，该将轮廓点优化后进行打印，逐个切片层打印后，最终完成悬臂结构的制造。进一步的，在步骤中，所述悬出点、悬出距离、悬出向量的定义分别如下：悬出点：给定曲面轨迹上一点p0，沿其面法向向前一层曲面投影至点p1，若p1处于前一层曲面轮廓外，则确定p0为悬出点，否则为非悬出点。注意，当p0处于第一层曲面，则为非悬出点。悬出距离：给定曲面轨迹上一点p0，沿其面法向向前一层曲面投影至点p1，在前一层曲面轮廓上寻找距p1最近的点q，将这两点的间距|p1q|作为p0的悬出距离的绝对值。当p0为悬出点时，悬出距离取正值；否则，悬出距离取0或负值。悬出向量：给定曲面轨迹上一点p0，沿其面法向向前一层曲面投影至点p1，在前一层曲面轮廓上寻找距p1最近的点q，将向量qp0作为p0的悬出向量。进一步地，在步骤中，旋转转台，使得母体模型位置发生变化时，适当偏转轨迹点加工朝向以及打印头设定朝向，使得变位角度在限制范围内，具体为，通过轨迹点加工朝向计算工件变位器分别绕T1与T2的旋转角TA与TC，若TA大于绕T1的最大旋转角TAmax，则将轨迹点加工朝向在其与T2所形成的平面上向T2偏转一定角度θ1＝TA-TAmax，若TC大于绕T2的最大旋转角TCmax，则将轨迹点加工朝向在其与T1所形成的平面上向T1偏转一定角度θ2＝TC-TCmax；通过打印头设定朝向计算打印头变位器绕R1与R2的旋转角RX与RY，若超出变位器行程，处理方法同上。进一步地，对所有轨迹点加工朝向以及打印头设定朝向进行平滑处理，进行一次平滑处理的方法为，首先对所有轨迹点加工朝向与打印头设定朝向标准化，使模长为1；然后，对任一点，用前后两点朝向的和向量作为其新朝向，用前后两点打印头朝向的和向量作为打印头新朝向。可进行多次平滑处理。进一步地，在步骤中，轮廓的悬出段上所有点都为悬出点，即悬出距离大于0，在实际制造中，须根据悬出距离大小筛选悬出点，只有悬出距离大于某一设定值，才能将该点作为悬出段的一点。另外，由于悬出段可能存在多条，且有的悬出段较短，需要为最终沉积的悬出段设定最短长度。下面结合具体的实施例进一步说明本发明。如图1所示，图中待成形的部分是基于锥面的单个大倾斜角桨叶，制造平台为用来安放椎体模型的两轴转台以及用来安装打印头的六轴机器臂，转台包括两个旋转自由度，旋转轴T1与T2，该T1与T2分别与工件坐标系的X轴与Z轴平行；打印头所在变位器包括五个自由度，即两个旋转自由度和三个平移自由度，旋转轴R1与R2分别与打印头坐标系的X轴与Y轴平行，打印头的三个平移自由度，平移方向分别与打印头坐标系的X轴、Y轴与Z轴平行。上述桨叶的成形具体步骤如下：S1对桨叶进行曲面轨迹规划。此时曲面为锥面，因而对桨叶进行等距锥面切片，生成层层堆叠的锥面轮廓与其锥面填充轨迹，如图2中和所示的切片层和填充轨迹的示意图。S2设定轨迹点加工朝向。给锥面轮廓与填充轨迹的所有轨迹点设定加工朝向。对于填充轨迹点，将其所处曲面的法向作为其加工朝向。对于轮廓点，确定该点是否为相对前一层轮廓的悬出点，分析其相对于前一层曲面轮廓的悬出距离与悬出向量。若为悬出点，则将悬出向量作为该点的加工朝向；否则将其所处曲面的法向作为其加工朝向。悬出点、悬出距离与悬出向量的定义如下：如图3所示，对轨迹上任一点p0，根据其面法向量，计算该点在上一层曲面切片的投影点p1，若该投影点处于上一层轮廓的外侧，则p0为悬出点。寻找上一层轮廓上离p1最近的一点q，线段qp1的长度为悬出距离，向量qp0为悬出向量。S3设定打印头朝向。打印头的初始方向为竖直向上，对于填充轨迹点，旋转转台，使得打印头的初始方向与加工朝向；如图4所示，对于轮廓点，将加工朝向绕轮廓切向t向外旋转一定角度获得新的打印头朝向，本实施例中取20度。如图5所示，旋转椎体模型所在的转台，使得任一轨迹点p加工朝向u在变位后竖直朝上，变位后p到达pt；同时旋转打印头所在变位器，使其达到设定加工朝向。然而，在实际制造过程中，变位器存在变位角度限制，须适当偏转轨迹点加工朝向以及打印头设定朝向，使得变位角度在限制范围内。例如，本实例两轴转台的T1轴存在角度限位，旋转角TA不得超过90度。若根据点p的加工朝向u计算的TA大于90度，则将轨迹点加工朝向在其与T2所形成的平面上向T2偏转一定角度θ＝TA-90，得到向量u′，作为点p的新朝向。如图6所示，对所有轨迹点加工朝向以及打印头设定朝向进行平滑处理，使得连续变位过程更加平顺。如图6所示，对一条轨迹path进行一次平滑处理的方法为，首先对所有轨迹点{pi}的加工朝向与打印头设定朝向标准化，使模长为1；然后，对任一点，用前后两点朝向vi-1与vi+1的和向量代替原有朝向vi，用前后两点打印头朝向的和向量作为打印头新朝向；可进行多次平滑处理。S5基于曲面的悬臂结构的多自由度定向能量沉积制造策略：对每一层轨迹，包括轮廓与填充轨迹，对于填充轨迹，按照填充轨迹打印，对于轮廓点，按照下列方式进行打印：计算所有轮廓点的悬出距离，根据悬出距离大小筛选轮廓点，只有悬出距离大于某一设定值dmin，才能将该点作为悬出段的一点。本实施例中，如图7所示，只有在悬出距离大于1mm时，才将该点作为悬出段的一点；只有悬出段长度大于10mm时，才作为最终需要沉积的悬出段。如图8中为前两层轨迹的曲面轮廓；图8中为所有悬出点，包括A段、B段和C段，在筛选悬出点以及悬出段后，悬出段A、B由于长度小于10而去掉，悬出段C上距离小于悬出距离1mm的选出点被去掉，剩下图8中最终的悬出段D。采用上述方式打印，获得最终的桨叶，如图9是按照所有层的悬出段与填充轨迹打印后获得的桨叶。本领域的技术人员容易理解，以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
