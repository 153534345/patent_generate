标题title
PCB设备数据传送方法、装置、计算机设备及存储介质
摘要abst
本发明涉及PCB设备通信领域，公开了一种PCB设备数据传送方法、装置、计算机设备及存储介质，其方法包括：接收远程控制设备发送的带有结构查询标识的第一请求；第一请求包括子项结构数据项；获取与子项结构数据项匹配的PCB设备结构信息，将PCB设备结构信息写入带有结构查询标识的第一响应消息；PCB设备结构信息包括多个组件以及相应的组件地址，组件包括用于控制设备动作的方法以及相应的方法地址、用于表示组件参数的数据项以及相应的数据项地址；将第一响应消息返回给远程控制设备。本发明可以提高远程控制设备与PCB设备之间的交互效率。
权利要求书clms
1.一种PCB设备数据传送方法，应用于远程控制设备与PCB设备之间，其特征在于，包括：接收所述远程控制设备发送的带有结构查询标识的第一请求；所述第一请求包括子项结构数据项；获取与所述子项结构数据项匹配的PCB设备结构信息，将所述PCB设备结构信息写入带有所述结构查询标识的第一响应消息；所述PCB设备结构信息包括多个组件以及相应的组件地址，所述组件包括用于控制设备动作的方法以及相应的方法地址、用于表示组件参数的数据项以及相应的数据项地址；将所述第一响应消息返回给所述远程控制设备。2.如权利要求1所述的PCB设备数据传送方法，其特征在于，所述将所述第一响应消息返回给所述远程控制设备之后，还包括：接收所述远程控制设备发送的带有远程控制标识的第二请求；所述第二请求包括动作数据项；所述动作数据项基于所述PCB设备结构信息生成；解析并执行所述动作数据项，生成执行结果，将所述执行结果写入带有所述远程控制标识的第二响应消息；将所述第二响应消息返回给所述远程控制设备。3.如权利要求1所述的PCB设备数据传送方法，其特征在于，所述将所述第一响应消息返回给所述远程控制设备之后，还包括：接收所述远程控制设备发送的带有参数集推送标识的第三请求；所述第三请求包括参数集数据项；解析所述参数集数据项并验证所述参数集数据项是否处于预设范围内，在所述参数集数据项处于预设范围内时，根据所述参数集数据项更新PCB的控制参数，并生成带有所述参数集推送标识的第三响应消息；将所述第三响应消息返回给所述远程控制设备。4.如权利要求1所述的PCB设备数据传送方法，其特征在于，所述接收远程控制设备发送的带有结构查询标识的第一请求之前，还包括：接收所述远程控制设备发送的带有连接标识的连接请求；所述连接请求包括连接参数数据项；解析并验证所述连接参数数据项，以生成本地连接信息；根据所述本地连接信息建立与所述远程控制设备的通信连接。5.如权利要求4所述的PCB设备数据传送方法，其特征在于，所述本地连接信息包括远端访问权限信息；所述解析并验证所述连接参数数据项，以生成本地连接信息，包括：从所述连接参数数据项提取鉴权参数；根据预设校验规则对所述鉴权参数进行校验；若所述鉴权参数通过校验，根据所述鉴权参数生成所述远端访问权限信息；和/或，所述本地连接信息包括本地连接参数信息；所述解析并验证所述连接参数数据项，以生成本地连接信息，包括：从所述连接参数数据项提取连接参数；判断所述连接参数是否符合当前PCB设备的连接规范；若所述连接参数符合当前PCB设备的连接规范，根据所述连接参数生成所述本地连接参数信息。6.如权利要求5所述的PCB设备数据传送方法，其特征在于，所述获取与所述子项结构数据项匹配的PCB设备结构信息，包括：查询与所述子项结构数据项对应的子项地址；根据所述远端访问权限信息判断所述子项地址是否合法；若所述子项地址合法，则根据所述子项地址生成所述PCB设备结构信息。7.如权利要求1所述的PCB设备数据传送方法，其特征在于，所述将所述第一响应消息返回给所述远程控制设备之后，还包括：接收所述远程控制设备发送的带有数据项订阅标识的第四请求；所述第四请求包括目标地址；所述PCB设备结构信息包括所述目标地址；根据所述目标地址生成所述订阅事项，并生成订阅结果，将所述订阅结果写入带有所述数据项订阅标识的第四响应消息；将所述第四响应消息返回给所述远程控制设备。8.一种PCB设备数据传送装置，其特征在于，包括：第一请求模块，用于接收远程控制设备发送的带有结构查询标识的第一请求；所述第一请求包括子项结构数据项；第一响应模块，用于获取与所述子项结构数据项匹配的PCB设备结构信息，将所述PCB设备结构信息写入带有所述结构查询标识的第一响应消息；所述PCB设备结构信息包括多个组件以及相应的组件地址，所述组件包括用于控制设备动作的方法以及相应的方法地址、用于表示组件参数的数据项以及相应的数据项地址；第一响应返回模块，用于将所述第一响应消息返回给所述远程控制设备。9.一种计算机设备，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机可读指令，其特征在于，所述处理器执行所述计算机可读指令时实现如权利要求1至7中任一项所述PCB设备数据传送方法。10.一个或多个存储有计算机可读指令的可读存储介质，所述计算机可读指令被一个或多个处理器执行时，使得所述一个或多个处理器执行如权利要求1至7中任一项所述PCB设备数据传送方法。
说明书desc
技术领域本发明涉及PCB设备通信领域，尤其涉及一种PCB设备数据传送方法、装置、计算机设备及存储介质。背景技术现有技术中，不同PCB设备具有不同的功能。远程控制设备在连接PCB设备时，需要根据PCB设备的需求进行二次定制。例如，在新增某一功能时，需要对该功能进行定制化配置，一方面导致通讯不稳定，使得PCB设备与远程控制设备之间的传送效率较低，另一方面会增加开发的成本。发明内容基于此，有必要针对上述技术问题，提供一种PCB设备数据传送方法、装置、计算机设备及存储介质，以提高PCB设备与远程控制设备之间的传送效率。一种PCB设备数据传送方法，包括：接收所述远程控制设备发送的带有结构查询标识的第一请求；所述第一请求包括子项结构数据项；获取与所述子项结构数据项匹配的PCB设备结构信息，将所述PCB设备结构信息写入带有所述结构查询标识的第一响应消息；所述PCB设备结构信息包括多个组件以及相应的组件地址，所述组件包括用于控制设备动作的方法以及相应的方法地址、用于表示组件参数的数据项以及相应的数据项地址；将所述第一响应消息返回给所述远程控制设备。一种PCB设备数据传送装置，包括：第一请求模块，用于接收远程控制设备发送的带有结构查询标识的第一请求；所述第一请求包括子项结构数据项；第一响应模块，用于获取与所述子项结构数据项匹配的PCB设备结构信息，将所述PCB设备结构信息写入带有所述结构查询标识的第一响应消息；所述PCB设备结构信息包括多个组件以及相应的组件地址，所述组件包括用于控制设备动作的方法以及相应的方法地址、用于表示组件参数的数据项以及相应的数据项地址；第一响应返回模块，用于将所述第一响应消息返回给所述远程控制设备。一种计算机设备，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机可读指令，所述处理器执行所述计算机可读指令时实现上述PCB设备数据传送方法。一个或多个存储有计算机可读指令的可读存储介质，所述计算机可读指令被一个或多个处理器执行时，使得所述一个或多个处理器执行如上述PCB设备数据传送方法。上述PCB设备数据传送方法、装置、计算机设备及存储介质，通过使用带有结构查询请求的请求和消息传送PCB设备结构信息，远程控制设备可以直接读取PCB设备结构信息，使得远程控制设备可基于PCB设备结构信息对PCB设备的动作进行控制或者组件参数进行配置，无须二次定制，大大提高了远程控制设备与PCB设备之间的交互效率，同时避免了二次开发，节省了成本。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例的描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是本发明一实施例中PCB设备数据传送方法的一应用环境示意图；图2是本发明一实施例中信息模型与PCB设备之间的关联示意图；图3是本发明一实施例中PCB设备数据传送方法的一流程示意图；图4是本发明一实施例中第一请求的数据结构；图5是本发明一实施例中第一响应消息的数据结构；图6是本发明一实施例中第二请求的数据结构；图7是本发明一实施例中第二响应消息的数据结构；图8是本发明一实施例中连接请求的数据结构；图9是本发明一实施例中第三请求的数据结构；图10是本发明一实施例中第三响应消息的数据结构；图11是本发明一实施例中第四请求的数据结构；图12是本发明一实施例中第四响应消息的数据结构；图13是本发明一实施例中PCB设备数据传送装置的一结构示意图；图14是本发明一实施例中计算机设备的一示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本实施例提供的PCB设备数据传送方法，可应用在如图1的应用环境中，其中，客户端与服务端进行通信。其中，客户端可以是各种PCB加工设备。服务端可以用独立的服务器或者是多个服务器组成的服务器集群来实现。远程控制设备和PCB设备之间的通信数据使用同一种信息模型。该信息模型用于描述PCB设备的基本数据结构和信息特征。信息模型提供了一种设备与远端之间，或设备与设备之间约定的一种数据交互的模型格式。该信息模型可表现为远程控制设备构建设备、方法、数据项的树形结构模型，以加快PCB设备与远程控制设备之间的沟通效率。具体地，用信息模型去描述PCB设备，是用信息结构体描述PCB设备，用协议将其数据化，远程控制设备在获取这些数据后，依据其信息结构体，快速全面还原设备的组成结构或控制功能，以方便远端快速实现设备监控及远程控制等功能。信息模型用来描述不同设备的基本数据结构和信息特征，该模型使用基本的节点对设备进行设计建模，定义数据和设备结构基本关系。如图2所示，PCB钻孔设备的各个组件、各组件的元器件、传感器等组合布局与信息模型形成逻辑对应关系，不同的设备可以依据其设备特点设计不同的组件单元，以满足PCB设备加工过程中各工序段的设计需求。图2的示例中，PCB设备结构信息包括PCB板材、加工程序、传感器、设备基础信息、运动部件、当前参数集信息、控制接口等组件。组件可以是虚拟的功能模块、也可以是设备本身的结构。外部为具有圆形倒角的方框的表示为方法。方法是控制设备动作的实例表达。外部为椭圆框的表示为数据项。数据项可以表示为组件的参数。不管是PCB设备、数据项、方法还是组件，均有对应的地址，从而远程控制设备在调用相应的目标对象时，均可通过地址进行调用。例如，定义PCB设备的地址是123，控制接口的地址为1234，加载参数集的地址为1344，加载参数集对应的参数地址是1600。远程控制设备需要调用加载参数集的参数时，可以通过类似访问目录的方式去找到对应的参数，例如通过以下地址：123/1234/1344/1600即可获取到加载参数集对应的参数地址。在一实施例中，如图3所示，提供一种PCB设备数据传送方法，以该方法应用在图1中的客户端为例进行说明，包括如下步骤S10-S30。S10、接收远程控制设备发送的带有结构查询标识的第一请求；所述第一请求包括子项结构数据项；S20、获取与所述子项结构数据项匹配的PCB设备结构信息，将所述PCB设备结构信息写入带有所述结构查询标识的第一响应消息；所述PCB设备结构信息包括多个组件以及相应的组件地址，所述组件包括用于控制设备动作的方法以及相应的方法地址、用于表示组件参数的数据项以及相应的数据项地址；S30、将所述第一响应消息返回给所述远程控制设备。可理解地，远程控制设备可以是设备自动化管理系统，PCB设备可以是激光钻孔设备、激光切割设备、激光成像设备等。第一请求指的是远程控制设备向PCB设备发送的用于获取PCB设备结构信息的请求。如图4所示，图4为一示例中第一请求的数据结构。结构查询标识为第一请求的统一标识，如可以表示为“C2F1”。在第一请求中，包含了符合信息模型要求的子项结构数据项。在一些示例中，子项结构数据项可表示为“IncludeChildren”。可以根据实际需要设置子项结构数据项。若“IncludeChildren”为“Yes”，则匹配到的PCB设备结构信息包含该PCB设备下所有组件及组件下所有子组件子数据项等的结构及数据信息。若“IncludeChildren”为“No”，则匹配到的PCB设备结构信息仅包含该PCB设备下所有组件的结构及数据信息，不涉及组件下所有子组件子数据项的结构及数据信息。PCB设备结构信息包括PCB板材、加工程序、传感器、设备基础信息、运动部件、当前参数集信息、控制接口等组件。组件可以是虚拟的功能模块、也可以是设备本身的结构。外部为具有圆形倒角的方框的表示为方法。方法是控制设备动作的实例表达。外部为椭圆框的表示为数据项。数据项可以表示为组件的参数。不管是PCB设备、数据项、方法还是组件，均有对应的地址，从而远程控制设备在调用相应的目标对象时，均可通过地址进行调用。在获得PCB设备结构信息之后，可以将PCB设备结构信息写入带有结构查询标识的第一响应消息。如图5所示，图5为一示例中第一响应消息的数据结构。在生成第一响应消息之后，可以将第一响应消息返回给远程控制设备。远程控制设备可以对第一响应消息进行解析，获得PCB设备结构信息。本实施例通过使用带有结构查询请求的请求和消息传送PCB设备结构信息，远程控制设备可以直接读取PCB设备结构信息，使得远程控制设备可基于PCB设备结构信息对PCB设备的动作进行控制或者组件参数进行配置，无须二次定制，大大提高了远程控制设备与PCB设备之间的交互效率，同时避免了二次开发，节省了成本。可选的，步骤S30之后，即所述将所述第一响应消息返回给所述远程控制设备之后，还包括：S40、接收所述远程控制设备发送的带有远程控制标识的第二请求；所述第二请求包括动作数据项；所述动作数据项基于所述PCB设备结构信息而生成；S50、解析并执行所述动作数据项，生成执行结果，将所述执行结果写入带有所述远程控制标识的第二响应消息；S60、将所述第二响应消息返回给所述远程控制设备。可理解地，第二请求指的是远程控制设备向PCB设备发送的用于实现远程控制的请求。如图6所示，图6为一示例中第二请求的数据结构。远程控制标识为第二请求的统一标识，如可以表示为“C6F1”。在第二请求中，包含了符合信息模型要求的动作数据项。在一些示例中，动作数据项包括动作地址、动作名称和输入参数。可以根据实际需要设置动作数据项。动作数据项可用于定义了PCB设备的功能动作，如开始、结束等，也可用于定义加工参数，如电流、电压等。在获得动作数据项之后，PCB设备从动作数据项解析出相应的动作，并执行该动作，生成执行结果。PCB设备也可从动作数据项解析出相应的加工参数，PCB设备可根据所述加工参数对设备的相应参数执行配置，并然后将执行结果写入带有远程控制标识的第二响应消息。如图7所示，图7为一示例中第二响应消息的数据结构。在生成第二响应消息之后，可以将第二响应消息返回给远程控制设备。远程控制设备可以根据第二响应消息获得动作数据项的执行结果。本实施例中，通过使用远程控制标识的请求传送动作数据项，这些P动作数据项在PCB设备上执行，实现了对PCB设备的远程控制，大大提高了远程控制设备与PCB设备之间的交互效率。可选的，步骤S10之前，即所述接收远程控制设备发送的带有结构查询标识的第一请求之前，还包括：S11、接收所述远程控制设备发送的带有连接标识的连接请求；所述连接请求包括连接参数数据项；S12、解析并验证所述连接参数数据项，以生成本地连接信息；S13、根据所述本地连接信息建立与所述远程控制设备的通信连接。可理解地，连接请求指的是远程控制设备向PCB设备发送的用于建立通信通道的请求。如图8所示，图8为一示例中连接请求的数据结构。连接标识为连接请求的统一标识，如可以表示为“C1F1”。在连接请求中，包含了符合信息模型要求的连接参数数据项。在一些示例中，连接参数数据项包括超时时间、心跳周期、重发次数、鉴权参数等。可以根据实际需要设置连接参数数据项。连接参数数据项定义了连接参数和鉴权参数。在获得连接参数数据项之后，PCB设备从连接参数数据项解析出相应的本地连接信息，并存储在本地。可以根据本地连接信息建立与远程控制设备的通信连接。在生成本地连接信息的同时，可以同时生成相应的连接响应消息，然后将连接响应消息返回给远程控制设备，以使远程控制设备获得与PCB设备的连接结果。本实施例中，通过使用符合信息模型要求的连接参数数据项，建立了与PCB设备的通信连接，大大提高了远程控制设备与PCB设备之间的交互效率。可选的，所述本地连接信息包括远端访问权限信息；步骤S12，即所述解析并验证所述连接参数数据项，以生成本地连接信息，包括：S121、从所述连接参数数据项提取鉴权参数；S122、根据预设校验规则对所述鉴权参数进行校验；S123、若所述鉴权参数通过校验，根据所述鉴权参数生成所述远端访问权限信息。可理解地，鉴权参数可以是激活码以及PCB设备的功能权限参数。每一PCB设备可以设置唯一的激活码。预设校验规则可以根据实际需要进行设置。如，预设校验规则可以是验证鉴权参数中的激活码是否正确。若鉴权参数通过校验，则根据鉴权参数中的功能权限参数生成远程控制设备的远端访问权限信息。若鉴权参数未通过校验，则生成“激活码错误”的连接响应消息，并返回给远程控制设备。本实施例通过鉴权参数的校验，可以提高PCB设备的安全性。可选的，所述本地连接信息包括本地连接参数信息；步骤S12，即所述解析并验证所述连接参数数据项，以生成本地连接信息，包括：S124、从所述连接参数数据项提取连接参数；S125、判断所述连接参数是否符合当前PCB设备的连接规范；S126、若所述连接参数符合当前PCB设备的连接规范，根据所述连接参数生成所述本地连接参数信息。可理解地，连接参数可以是超时时间、心跳周期、重发次数等。不同PCB设备有不同的连接规范。例如，某PCB设备支持的最高重连频次为1次/秒，若连接参数中的重连频次为5次/秒，则连接参数不符合当前PCB设备的连接规范；若连接参数中的重连频次为0.1次/秒，则连接参数符合当前PCB设备的连接规范。若连接参数符合当前PCB设备的连接规范，则根据连接参数生成用于与远程控制设备保持连接的本地连接参数信息。若连接参数不符合当前PCB设备的连接规范，则生成“连接参数错误”的连接响应消息，并返回给远程控制设备。本实施例通过连接参数的校验，可以保证PCB设备与远程控制设备之间的连接稳定性。可选的，步骤S20，即所述获取与所述子项结构数据项匹配的PCB设备结构信息，包括：S201、查询与所述子项结构数据项对应的子项地址；S202、根据所述远端访问权限信息判断所述子项地址是否合法；S203、若所述子项地址合法，则根据所述子项地址生成所述PCB设备结构信息。可理解地，解析PCB设备结构信息时，可以查询每一子项结构数据项的子项地址。远端访问权限信息定义了远程控制终端可访问的地址。若子项地址属于远程控制终端可访问的地址，则判定子项地址合法。若子项地址不属于远程控制终端可访问的地址，则判定子项地址不合法。在子项地址合法时，可以根据子项地址生成PCB设备结构信息，然后返回给远程控制设备。在子项地址不合法时，则不将该子项地址加入PCB设备结构信息。本实施例中，通过远端访问权限信息对子项地址进行合法性判断，可以防止远程控制设备越权访问。可选的，步骤S30之后，即所述将所述第一响应消息返回给所述远程控制设备之后，还包括：S31、接收所述远程控制设备发送的带有参数集推送标识的第三请求；所述第三请求包括参数集数据项；S32、解析所述参数集数据项并验证所述参数集数据项是否处于可控范围内，在所述参数集数据项处于可控范围时，根据所述参数集数据项更新PCB的控制参数，并生成带有所述参数集推送标识的第三响应消息；S33、将所述第三响应消息返回给所述远程控制设备。可理解地，第三请求指的是远程控制设备向PCB设备发送的用于实现参数集推送的请求。如图9所示，图9为一示例中第三请求的数据结构。参数集推送标识为第三请求的统一标识，如可以表示为“C8F3”。在第三请求中，包含了符合信息模型要求的参数集数据项。在一些示例中，参数集数据项包括参数集编号、参数集列表、加载当前参数集等。可以根据实际需要设置参数集数据项。在一些示例中，参数集指的是PCB产品加工过程中一组或多组参数集。如某一加工流程所涉及的温度、压力等。在获得参数集数据项之后，PCB设备可以验证参数集数据项是否处于相应的可控范围之内。可控范围由PCB设备的额定参数确定，随着设备的不同而发生变化。例如，PCB设备的最大加热温度为70℃，则可控范围为＜70℃；若参数集数据项中的加热温度为60℃，此时，参数集数据项处于可控范围之内。若参数集数据项处于可控范围之内，则可以根据参数集数据项对PCB设备自身的加工参数进行更新，更新完毕后生成成功结果。可以将成功结果写入带有参数集推送标识的第三响应消息。如图10所示，图10为一示例中第三响应消息的数据结构。若参数集数据项处于可控范围之外，则生成失败结果，并将失败结果写入带有参数集推送标识的第三响应消息。例如，PCB设备的最大加热温度为70℃，参数集中的加热温度为80℃，此时，无法实现参数集的加热温度，因而，参数集数据项处于可控范围之外。在生成第三响应消息之后，可以将第三响应消息返回给远程控制设备。远程控制设备可以根据第三响应消息获得参数集推送结果。本实施例中对参数集数据项进行验证，可以减少参数报错。可选的，步骤S30之后，即所述将所述第一响应消息返回给所述远程控制设备之后，还包括：S34、接收所述远程控制设备发送的带有数据项订阅标识的第四请求；所述第四请求包括目标地址；所述PCB设备结构信息包括所述目标地址；S35、根据所述目标地址生成所述订阅事项，并生成订阅结果，将所述订阅结果写入带有所述数据项订阅标识的第四响应消息；S36、将所述第四响应消息返回给所述远程控制设备。可理解地，第四请求指的是远程控制设备向PCB设备发送的用于实现数据项订阅的请求。如图11所示，图11为一示例中第四请求的数据结构。数据项订阅标识为第四请求的统一标识，如可以表示为“C3F2”。在第四请求中，包含了符合信息模型要求的目标地址。在获得目标地址之后，PCB设备根据目标地址生成订阅事项，并生成订阅结果。可以将订阅结果写入带有数据项订阅标识的第四响应消息。如图12所示，图12为一示例中第四响应消息的数据结构。在生成第四响应消息之后，可以将第四响应消息返回给远程控制设备。远程控制设备可以根据第四响应消息获得订阅结果。在订阅成功的情况下，PCB设备定时将目标地址采集的设备数据发送给远程控制设备。本实施例中，通过发送的带有数据项订阅标识且包含目标地址的第四请求；根据目标地址生成订阅事项，通过订阅事项，可以定期将目标地址监测到的数据发送给远程控制设备，进而实现了远程控制设备对目标地址的订阅。应理解，上述实施例中各步骤的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。在一实施例中，提供一种PCB设备数据传送装置，该PCB设备数据传送装置与上述实施例中PCB设备数据传送方法一一对应。如图13所示，该PCB设备数据传送装置包括第一请求模块10、第一响应模块20和第一响应返回模块30。各功能模块详细说明如下：第一请求模块10，用于接收远程控制设备发送的带有结构查询标识的第一请求；所述第一请求包括子项结构数据项；第一响应模块20，用于获取与所述子项结构数据项匹配的PCB设备结构信息，将所述PCB设备结构信息写入带有所述结构查询标识的第一响应消息；所述PCB设备结构信息包括多个组件以及相应的组件地址，所述组件包括用于控制设备动作的方法以及相应的方法地址、用于表示组件参数的数据项以及相应的数据项地址；第一响应返回模块30，用于将所述第一响应消息返回给所述远程控制设备。可选的，PCB设备数据传送装置还包括：第二请求模块，用于接收所述远程控制设备发送的带有远程控制标识的第二请求；所述第二请求包括动作数据项；所述动作数据项基于所述PCB设备结构信息而生成；第二响应模块，用于解析并执行所述动作数据项，生成执行结果，将所述执行结果写入带有所述远程控制标识的第二响应消息；第二响应返回模块，用于将所述第二响应消息返回给所述远程控制设备。可选的，PCB设备数据传送装置还包括：第三请求模块，用于接收所述远程控制设备发送的带有参数集推送标识的第三请求；所述第三请求包括参数集数据项；第三响应模块，用于解析所述参数集数据项并验证所述参数集数据项是否处于预设范围内，在所述参数集数据项处于预设范围内时，根据所述参数集数据项更新PCB的控制参数，并生成带有所述参数集推送标识的第三响应消息；第三响应返回模块，用于将所述第三响应消息返回给所述远程控制设备。可选的，PCB设备数据传送装置还包括：连接模块，用于接收所述远程控制设备发送的带有连接标识的连接请求；所述连接请求包括连接参数数据项；生成本地连接信息模块，用于解析并验证所述连接参数数据项，以生成本地连接信息；建立连接模块，用于根据所述本地连接信息建立与所述远程控制设备的通信连接。可选的，所述本地连接信息包括远端访问权限信息；所述生成本地连接信息模块包括：提取鉴权参数单元，用于从所述连接参数数据项提取鉴权参数；鉴权参数校验单元，用于根据预设校验规则对所述鉴权参数进行校验；生成远端访问权限信息单元，用于若所述鉴权参数通过校验，根据所述鉴权参数生成所述远端访问权限信息。可选的，所述本地连接信息包括本地连接参数信息；所述生成本地连接信息模块包括：提取连接参数单元，用于从所述连接参数数据项提取连接参数；连接规范判断单元，用于判断所述连接参数是否符合当前PCB设备的连接规范；生成本地连接参数信息单元，用于若所述连接参数符合当前PCB设备的连接规范，根据所述连接参数生成所述本地连接参数信息。可选的，第一响应模块20包括：查询子项地址单元，用于查询与所述子项结构数据项对应的子项地址；合法判断单元，用于根据所述远端访问权限信息判断所述子项地址是否合法；生成PCB设备结构信息单元，用于若所述子项地址合法，则根据所述子项地址生成所述PCB设备结构信息。可选的，PCB设备数据传送装置还包括：第四请求模块，用于接收所述远程控制设备发送的带有数据项订阅标识的第四请求；所述第四请求包括目标地址；所述PCB设备结构信息包括所述目标地址；第四响应模块，用于根据所述目标地址生成所述订阅事项，并生成订阅结果，将所述订阅结果写入带有所述数据项订阅标识的第四响应消息；第四响应返回模块，用于将所述第四响应消息返回给所述远程控制设备。关于PCB设备数据传送装置的具体限定可以参见上文中对于PCB设备数据传送方法的限定，在此不再赘述。上述PCB设备数据传送装置中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。在一个实施例中，提供了一种计算机设备，该计算机设备可以是终端，其内部结构图可以如图14所示。该计算机设备包括通过系统总线连接的处理器、存储器、网络接口、显示屏和输入装置。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括可读存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机可读指令。该内存储器为可读存储介质中的操作系统和计算机可读指令的运行提供环境。该计算机设备的网络接口用于与外部服务器通过网络连接通信。该计算机可读指令被处理器执行时以实现一种PCB设备数据传送方法。本实施例所提供的可读存储介质包括非易失性可读存储介质和易失性可读存储介质。在一个实施例中，提供了一种计算机设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机可读指令，处理器执行计算机可读指令时实现以下步骤：接收所述远程控制设备发送的带有结构查询标识的第一请求；所述第一请求包括子项结构数据项；获取与所述子项结构数据项匹配的PCB设备结构信息，将所述PCB设备结构信息写入带有所述结构查询标识的第一响应消息；所述PCB设备结构信息包括多个组件以及相应的组件地址，所述组件包括用于控制设备动作的方法以及相应的方法地址、用于表示组件参数的数据项以及相应的数据项地址；将所述第一响应消息返回给所述远程控制设备。在一个实施例中，提供了一个或多个存储有计算机可读指令的计算机可读存储介质，本实施例所提供的可读存储介质包括非易失性可读存储介质和易失性可读存储介质。可读存储介质上存储有计算机可读指令，计算机可读指令被一个或多个处理器执行时实现以下步骤：接收所述远程控制设备发送的带有结构查询标识的第一请求；所述第一请求包括子项结构数据项；获取与所述子项结构数据项匹配的PCB设备结构信息，将所述PCB设备结构信息写入带有所述结构查询标识的第一响应消息；所述PCB设备结构信息包括多个组件以及相应的组件地址，所述组件包括用于控制设备动作的方法以及相应的方法地址、用于表示组件参数的数据项以及相应的数据项地址；将所述第一响应消息返回给所述远程控制设备。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机可读指令来指令相关的硬件来完成，所述的计算机可读指令可存储于一非易失性可读取存储介质或易失性可读存储介质中，该计算机可读指令在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将所述装置的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。以上所述实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围，均应包含在本发明的保护范围之内。
