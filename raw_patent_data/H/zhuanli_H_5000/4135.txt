标题title
一种视频信号处理方法及装置
摘要abst
本申请为一种视频信号处理方法及装置，提供了一种饱和度调整的方法，包括：根据至少一个饱和度调整参数，确定色彩信号的一个基色分量的饱和度调整因子，其中，所述饱和度参数包括：参考显示设备最大亮度值、源最大亮度值、目标显示设备最大亮度值和饱和度调节强度；基于所述色彩信号的多个基色分量的最大值和所述一个基色分量的饱和度调整因子，对所述一个基色分量进行调整。
权利要求书clms
1.一种饱和度调整的方法，其特征在于，包括：根据至少一个饱和度调整参数，确定色彩信号的一个基色分量的饱和度调整因子，其中，所述饱和度参数包括：参考显示设备最大亮度值、源最大亮度值、目标显示设备最大亮度值和饱和度调节强度；基于所述色彩信号的多个基色分量的最大值和所述一个基色分量的饱和度调整因子，对所述一个基色分量进行调整。2.根据权利要求1所述的方法，其特征在于，所述色彩信号为RGB信号，所述基于所述色彩信号的多个基色分量的最大值和所述一个基色分量的饱和度调整因子，对所述一个基色分量进行调整，包括：基于所述RGB信号中的红、绿、蓝分量中的最大值和所述R、G、B分量中的一个所对应的饱和度调整因子，对所述R、G、B分量中的一个进行所述调整。3.根据权利要求1或2所述的方法，其特征在于，所述R、G、B分量根据如下公式进行所述调整：其中，Rin,Gin,Bin分别为所述RGB信号中的R、G、B分量，MAX为取最大值的函数，WR,WG,WB分别为所述R、G、B分量所对应的饱和度调整因子，Rout,Gout,Bout分别为所述调整后的R、G、B分量。4.根据权利要求3所述的方法，其特征在于，还包括：根据第一校正强度因子对所述R、G、B分量进行调整；对应的，所述R、G、B分量根据如下公式进行所述调整：其中，C1为所述第一校正强度因子。5.根据权利要求4所述的方法，其特征在于，所述第一校正强度因子根据解码元数据获得，或者，根据所述元数据所携带的信息计算获得。6.根据权利要求1至5任一项所述的方法，其特征在于，所述色彩信号为进行动态范围调整后的待显示信号。7.根据权利要求2至6任一项所述的方法，其特征在于，所述饱和度调整因子根据如下公式获得：其中，Nin为Rin,Gin,Bin中的一个，WN为Nin代表的基色分量所对应的饱和度调整因子。8.根据权利要求5至7任一项所述的方法，其特征在于，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据预设值确定，或者，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据解码所述元数据确定。9.根据权利要求8所述的方法，其特征在于，所述饱和度调节强度为0.8。10.根据权利要求1至9任一项所述的方法，其特征在于，所述目标显示设备最大亮度值根据目标显示设备的参数获得。11.根据权利要求1至10任一项所述的方法，其特征在于，当所述色彩信号为非RGB信号时，在所述根据至少一个饱和度调整参数，确定色彩信号的一个基色分量的饱和度调整因子之前，还包括：将所述非RGB信号转换为RGB信号，以作为所述色彩信号。12.一种饱和度调整的装置，其特征在于，包括：计算模块，用于根据至少一个饱和度调整参数，确定色彩信号的一个基色分量的饱和度调整因子，其中，所述饱和度参数包括：参考显示设备最大亮度值、源最大亮度值、目标显示设备最大亮度值和饱和度调节强度；转换模块，用于基于所述色彩信号的多个基色分量的最大值和所述一个基色分量的饱和度调整因子，对所述一个基色分量进行调整。13.根据权利要求12所述的装置，其特征在于，所述色彩信号为RGB信号，所述转换模块具体用于：基于所述RGB信号中的红、绿、蓝分量中的最大值和所述R、G、B分量中的一个所对应的饱和度调整因子，对所述R、G、B分量中的一个进行所述调整。14.根据权利要求12或13所述的装置，其特征在于，所述R、G、B分量根据如下公式进行所述调整：其中，Rin,Gin,Bin分别为所述RGB信号中的R、G、B分量，MAX为取最大值的函数，WR,WG,WB分别为所述R、G、B分量所对应的饱和度调整因子，Rout,Gout,Bout分别为所述调整后的R、G、B分量。15.根据权利要求14所述的装置，其特征在于，所述转换模块还用于：根据第一校正强度因子对所述R、G、B分量进行调整；对应的，所述R、G、B分量根据如下公式进行所述调整：其中，C1为所述第一校正强度因子。16.根据权利要求15所述的装置，其特征在于，所述第一校正强度因子根据解码元数据获得，或者，根据所述元数据所携带的信息计算获得。17.根据权利要求12至15任一项所述的装置，其特征在于，所述色彩信号为进行动态范围调整后的待显示信号。18.根据权利要求13至17任一项所述的装置，其特征在于，所述饱和度调整因子根据如下公式获得：其中，Nin为Rin,Gin,Bin中的一个，WN为Nin代表的基色分量所对应的饱和度调整因子。19.根据权利要求16至18任一项所述的装置，其特征在于，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据预设值确定，或者，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据解码所述元数据确定。20.根据权利要求19所述的装置，其特征在于，所述饱和度调节强度为0.8。21.根据权利要求12至20任一项所述的装置，其特征在于，所述目标显示设备最大亮度值根据目标显示设备的参数获得。22.根据权利要求12至21任一项所述的装置，其特征在于，当所述色彩信号为非RGB信号时，所述计算模块还用于：将所述非RGB信号转换为RGB信号，以作为所述色彩信号。23.一种图像处理设备，其特征在于，包括：相互耦合的非易失性存储器和处理器，所述处理器调用存储在所述存储器中的程序代码以执行如权利要求1-11中任一项所述的方法。24.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机程序，当其在处理器上运行时，实现权利要求1-11中任一项所述的方法。
说明书desc
本申请是分案申请，原申请的申请号是201910999369.0，原申请日是2019年10月18日、原申请的全部内容通过引用结合在本申请中。技术领域本申请涉及显示技术领域，尤其涉及一种视频信号处理方法及装置。背景技术高动态范围是最近几年视频行业的出现的热门技术，也是未来视频行业发展的方向。相比于传统的标准动态范围视频信号，HDR视频信号动态范围更大，亮度更高。但大量现有显示设备达不到HDR视频信号的亮度，因此HDR视频信号在显示时，需要根据显示设备能力对HDR信号进行亮度映射处理，使其适合在当前设备上显示；基于红-绿-蓝空间的HDR信号亮度处理方法是较为常用的一种方法，在实际显示设备中有着广泛应用。典型HDR视频处理流程包括：前处理、编码、解码、后处理。HDR视频输入，经过光电转换函数、色彩空间转换、浮点转定点、4:4:4到4:2:0下采样处理、4:2:0编码器编码，得到码流，码流通过4:2:0解码器解码、4:2:0到4:4:4上采样、定点转浮点、色彩空间转换、电光转换函数处理，得到最终输出的HDR视频。转换函数的作用是对HDR源进行非线性转换。由于HDR视频最终需要被量化为整数比特的数据再进行编码，考虑到HDR的动态范围远大于整数比特的数据，若直接进行线性量化会导致HDR源的信息有极大的损失。因此，转换函数主要目的是通过非线性转换将需要重点保护的亮度段保护起来。基色信号，为真实世界的光信号，可以用“L”或者“E”表示，一般记录着对应于特定基色分量的数值，通常与光强度成正比。图像的基色信号可以用真实的亮度来表示，也可以用归一化的亮度来表示，比如按照最大亮度10000尼特，归一化为最大亮度为1。基色信号经过转换处理得到的处理后的图像信息为图像的数字表达值，其值归一化到。可以用“L′”或“E′”表示，通常用于表示非线性颜色值。通过光电转换函数对基色信号进行光电转换得到处理后的图像信息，光电转换函数转换得到的处理后的图像信息可以包括R、G、B以及Y等基色。通过电光转换函数对输入的图像信息进行电光转换得到输出的基色信号，该处理后输出的基色信号为还原的真实世界的光信号。光电转换函数OETF)有时也称作光电转移函数，光电转移曲线；电光转换函数EOTF有时也称作电光转移函数，电光转移曲线。用于动态范围调整的光电转移曲线和电光转移曲线也可以称为色调映射曲线。浮点转定点有时候也叫做量化，定点转浮点有时候也叫做反量化。在一种现有技术中的光电转换函数是根据人眼的亮度感知模型所提出的。该光电转换函数可以为：R′＝PQ_TF))G′＝PQ_TF))B′＝PQ_TF))其中m1＝0.1593017578125，m2＝78.84375，c1＝0.8359375，c2＝18.8515625，c3＝18.6875。从高动态范围到低动态范围的tone-mapping过程引起图像/视频局部亮度的变化。局部亮度的变化会引起人眼视觉感知上的饱和度和色温变化，从而引起图像/视频在tone-mapping过程前后视觉上的差异性。发明内容本申请提供一种视频信号处理方法及装置，用以解决色调映射造成的前后视觉差异性的问题。在本申请实施例的第一方面，提供了一种饱和度调整的方法，包括：根据至少一个饱和度调整参数，确定色彩信号的一个基色分量的饱和度调整因子，其中，所述饱和度参数包括：参考显示设备最大亮度值、源最大亮度值、目标显示设备最大亮度值和饱和度调节强度；基于所述色彩信号的多个基色分量的最大值和所述一个基色分量的饱和度调整因子，对所述一个基色分量进行调整。与现有技术相比，对待处理的色彩信号中的一个基色信号进行饱和度调整时，同时考虑其他分量的信号，考虑了不同分量间的联系，提高了饱和度调整的效果。在一种可行的实施方式中，所述色彩信号为RGB信号，所述基于所述色彩信号的多个基色分量的最大值和所述一个基色分量的饱和度调整因子，对所述一个基色分量进行调整，包括：基于所述RGB信号中的红、绿、蓝分量中的最大值和所述R、G、B分量中的一个所对应的饱和度调整因子，对所述R、G、B分量中的一个进行所述调整。应理解，本申请实施例的方法，也可以用于其他颜色空间，例如，YCbCr空间，YUV空间等。在一种可行的实施方式中，所述R、G、B分量根据如下公式进行所述调整：其中，Rin，Gin，Bin分别为所述RGB信号中的R、G、B分量，MAX为取最大值的函数，WR，WG，WB分别为所述R、G、B分量所对应的饱和度调整因子，Rout，Gout，Bout分别为所述调整后的R、G、B分量。作为一个具体的实施例，在对待处理的色彩信号中的一个基色分量进行饱和度调整时，同时考虑了多个不同分量间的最大值对当前分量饱和度调整的影响，提高了处理效果。在一种可行的实施方式中，还包括：根据第一校正强度因子对所述R、G、B分量进行调整；对应的，所述R、G、B分量根据如下公式进行所述调整：其中，C1为所述第一校正强度因子。通过引入校正强度因子，进一步提高了饱和度调整的准确度，提高了饱和度调整的效果。在一种可行的实施方式中，所述第一校正强度因子根据解码元数据获得，或者，根据所述元数据所携带的信息计算获得。在一种可行的实施方式中，所述色彩信号为进行动态范围调整后的待显示信号。在一种可行的实施方式中，所述饱和度调整因子根据如下公式获得：其中，Nin为Rin，Gin，Bin中的一个，WN为Nin代表的基色分量所对应的饱和度调整因子。根据实际待处理色彩信号以及显示设备的特性来确定合适的饱和度调整因子。应理解，饱和度调整因子的确定方法可以有多种，本申请实施例不作限定。在一种可行的实施方式中，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据预设值确定，或者，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据解码所述元数据确定。在一种可行的实施方式中，所述饱和度调节强度为0.8。在一种可行的实施方式中，所述目标显示设备最大亮度值根据目标显示设备的参数获得。在一种可行的实施方式中，当所述色彩信号为非RGB信号时，在所述根据至少一个饱和度调整参数，确定色彩信号的一个基色分量的饱和度调整因子之前，还包括：将所述非RGB信号转换为RGB信号，以作为所述色彩信号。本申请实施例在直接应用于其他色彩空间的信号的同时，还可以将其他色彩空间的信号转换为RGB信号进行处理。在本申请实施例的第二方面，提供了一种饱和度调整的装置，包括：计算模块，用于根据至少一个饱和度调整参数，确定色彩信号的一个基色分量的饱和度调整因子，其中，所述饱和度参数包括：参考显示设备最大亮度值、源最大亮度值、目标显示设备最大亮度值和饱和度调节强度；转换模块，用于基于所述色彩信号的多个基色分量的最大值和所述一个基色分量的饱和度调整因子，对所述一个基色分量进行调整。在一种可行的实施方式中，所述色彩信号为RGB信号，所述转换模块具体用于：基于所述RGB信号中的红、绿、蓝分量中的最大值和所述R、G、B分量中的一个所对应的饱和度调整因子，对所述R、G、B分量中的一个进行所述调整。在一种可行的实施方式中，所述R、G、B分量根据如下公式进行所述调整：其中，Rin，Gin，Bin分别为所述RGB信号中的R、G、B分量，MAX为取最大值的函数，WR，WG，WB分别为所述R、G、B分量所对应的饱和度调整因子，Rout，Gout，Bout分别为所述调整后的R、G、B分量。在一种可行的实施方式中，所述转换模块还用于：根据第一校正强度因子对所述R、G、B分量进行调整；对应的，所述R、G、B分量根据如下公式进行所述调整：其中，C1为所述第一校正强度因子。在一种可行的实施方式中，所述第一校正强度因子根据解码元数据获得，或者，根据所述元数据所携带的信息计算获得。在一种可行的实施方式中，所述色彩信号为进行动态范围调整后的待显示信号。在一种可行的实施方式中，所述饱和度调整因子根据如下公式获得：其中，Nin为Rin，Gin，Bin中的一个，WN为Nin代表的基色分量所对应的饱和度调整因子。在一种可行的实施方式中，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据预设值确定，或者，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据解码所述元数据确定。在一种可行的实施方式中，所述饱和度调节强度为0.8。在一种可行的实施方式中，所述目标显示设备最大亮度值根据目标显示设备的参数获得。在一种可行的实施方式中，当所述色彩信号为非RGB信号时，所述计算模块还用于：将所述非RGB信号转换为RGB信号，以作为所述色彩信号。在本申请实施例的第三方面，提供了一种色度调整的方法，包括：根据参考显示设备最大亮度值和/或源最大亮度值，确定色彩信号的色度分量的色彩调整系数；基于所述色彩调整系数对所述色彩信号的色度分量进行调整。在本申请实施例中，根据参考显示设备和/或信号源的特性来确定色彩信号的色彩调整系数，能够取得更好的色度分量的调节效果。在一种可行的实施方式中，所述色彩调整系数根据如下公式获得：其中，S为所述色彩调整系数，A为调整范围系数，B为强度范围系数，C2为第二校正强度因子，Yin为所述色彩信号的亮度分量值，f为x在0到1区间的单调递增函数，SatR1为第一饱和度调整系数。示例性的，上述公式可简化为：其中，SatR1为0.8。在一种可行的实施方式中，所述色彩调整系数根据如下公式获得：其中，g为x在0到1区间的单调递增函数，SatR2为第二饱和度调整系数。在一种可行的实施方式中，RML，SML，A，B，C2，SatR1和SatR2中的至少一个根据解码元数据获得，或者，根据所述元数据所携带的信息计算获得。在一种可行的实施方式中，所述参考显示设备最大亮度值和/或所述源最大亮度值根据预设值确定，或者，根据解码所述元数据确定。在一种可行的实施方式中，A为预设值，且0＜A≤1。示例性的，A可以取0.1、0.3、1/3、0.4、0.5、0.6、2/3、0.7、0.8或者0.9。在一种可行的实施方式中，B为预设值，且0＜B≤1。示例性的，B可以取0.1、0.2、0.3、0.4、0.5、0.6、0.7、0.8、0.9或者1.0。在一种可行的实施方式中，B根据所述源最大亮度值和目标显示设备最大亮度值确定。在一种可行的实施方式中，B为SML与TML的比值。在一种可行的实施方式中，SatR1和SatR2分别为预设值，且0＜SatR1≤1，0＜SatR2≤1。示例性的，SatR1和SatR2可以取0.3、0.4、0.5、0.6、0.7、0.8或者0.9。在一种可行的实施方式中，SatR1+SatR2≤l。在一种可行的实施方式中，f＝x。在一种可行的实施方式中，g＝x。在一种可行的实施方式中，f＝xN，其中，N＞0。在一种可行的实施方式中，g＝xM，其中，M＞0。在一种可行的实施方式中，g＝const，其中，const为常数。示例性的，const可以取0、0.3、0.4、0.5、0.6、0.7、0.8、0.9或者1.0。在一种可行的实施方式中，所述色度分量根据如下公式进行调整：C′b＝Cb·SC′r＝Cr·S其中，Cb，Cr为所述色彩信号调整前的色度分量，C′b，C′r为所述色彩信号调整后的色度分量。在本申请实施例的第四方面，提供了一种色度调整的装置，包括：计算模块，用于根据参考显示设备最大亮度值和/或源最大亮度值，确定色彩信号的色度分量的色彩调整系数；转换模块，用于基于所述色彩调整系数对所述色彩信号的色度分量进行调整。在一种可行的实施方式中，所述色彩调整系数根据如下公式获得：其中，S为所述色彩调整系数，A为调整范围系数，B为强度范围系数，C2为第二校正强度因子，Yin为所述色彩信号的亮度分量值，f为x在0到1区间的单调递增函数，SatR1为第一饱和度调整系数。示例性的，上述公式可简化为：其中，SatR1为0.8。在一种可行的实施方式中，所述色彩调整系数根据如下公式获得：其中，g为x在0到1区间的单调递增函数，SatR2为第二饱和度调整系数。在一种可行的实施方式中，RML，SML，A，B，C2，SatR1和SatR2中的至少一个根据解码元数据获得，或者，根据所述元数据所携带的信息计算获得。在一种可行的实施方式中，所述参考显示设备最大亮度值和/或所述源最大亮度值根据预设值确定，或者，根据解码所述元数据确定。在一种可行的实施方式中，A为预设值，且0＜A≤1。示例性的，A可以取0.1、0.3、1/3、0.4、0.5、0.6、2/3、0.7、0.8或者0.9。在一种可行的实施方式中，B为预设值，且0＜B≤1。示例性的，B可以取0.1、0.2、0.3、0.4、0.5、0.6、0.7、0.8、0.9或者1.0。在一种可行的实施方式中，B根据所述源最大亮度值和目标显示设备最大亮度值确定。在一种可行的实施方式中，B为SML与TML的比值。在一种可行的实施方式中，SatR1和SatR2分别为预设值，且0＜SatR1≤1，0＜SatR2≤1。示例性的，SatR1和SatR2可以取0.3、0.4、0.5、0.6、0.7、0.8或者0.9。在一种可行的实施方式中，SatR1+SatR2≤1。在一种可行的实施方式中，f＝x。在一种可行的实施方式中，g＝x。在一种可行的实施方式中，f＝xN，其中，N＞0。在一种可行的实施方式中，g＝xM，其中，M＞0。在一种可行的实施方式中，g＝const，其中，const为常数。示例性的，const可以取0、0.3、0.4、0.5、0.6、0.7、0.8、0.9或者1.0。在一种可行的实施方式中，所述色度分量根据如下公式进行调整：C′b＝Cb·SC′r＝Cr·S其中，Cb，Cr为所述色彩信号调整前的色度分量，C′b，C′r为所述色彩信号调整后的色度分量。在本申请实施例的第五方面，提供了一种图像处理设备，包括：相互耦合的非易失性存储器和处理器，所述处理器调用存储在所述存储器中的程序代码以执行如第一方面或第三方面所述的方法。在本申请实施例的第六方面，提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，当其在处理器上运行时，实现第一方面或第三方面所述的方法。在本申请实施例的第七方面，提供了一种视频信号处理装置，该装置包括处理器和存储器，该存储器用于存储必要的指令和数据，该处理器调用该存储器中的指令以实现第一方面所述或第三方面的方法。在本申请实施例的第八方面，提供了一种计算机程序产品，包括计算机程序，该计算机程序在某一计算机或处理器上执行时，将会使所述计算机或处理器实现第一方面或第三方面所述的方法。应当理解的是，本申请的第二、四至八方面与本申请的第一、三方面的技术方案一致，各可行的实施方式所取得的有益效果相似，不再赘述。附图说明图1-a为本申请实施例提供的一种示例性的PQ EOTF曲线的示意图；图1-b为本申请实施例提供的一种示例性的PQ EOTF-1曲线的示意图；图2-a为本申请实施例提供的一种示例性的HLG OETF曲线的示意图；图2-b为本申请实施例提供的一种示例性的HLG OETF-1曲线的示意图；图3-a为本申请实施例提供的一种示例性的视频信号处理系统的架构示意图；图3-b为本申请实施例提供的另一种示例性的视频信号处理系统的架构示意图；图3-c为本申请实施例提供的一种示例性的视频信号处理装置的结构示意图；图4为本申请实施例提供的一种应用图像信号转换的系统架构的示意图；图5为本申请实施例提供的一种示例性的视频信号处理方法的流程示意图；图6为本申请实施例提供的另一种示例性的视频信号处理方法的流程示意图；图7为本申请实施例提供的一种示例性的视频信号处理装置的结构示意图；图8为本申请实施例提供的又一种示例性的视频信号处理方法的流程示意图；图9为本申请实施例提供的另一种示例性的视频信号处理装置的结构示意图；图10为本申请实施例提供的又一种示例性的视频信号处理装置的结构示意图。具体实施方式为了使本申请的目的、技术方案和优点更加清楚，下面将结合附图对本申请作进一步地详细描述。本申请涉及的词语“至少一个”，是指一个，或一个以上，即包括一个、两个、三个及以上；“多个”，是指两个，或两个以上，即包括两个、三个及以上。首先，为了便于理解本申请实施例，对本申请实施例涉及的一些概念或术语进行解释。基色值：一个对应于特定图像基色分量的数值。数字编码值：一个图像信号的数字表达值，数字编码值用于表示非线性基色值。线性基色值：线性的基色值，与光强度成正比，在一种可选的情况中，其值应归一化到，简称E。非线性基色值：非线性的基色值，是图像信息的归一化数字表达值，与数字编码值成正比，在一种可选的情况中，其值应归一化到，简称E′。电光转移函数：一种从非线性基色值到线性基色值之间的转换关系。光电转移函数：一种从线性基色值到非线性基色值之间的转换关系。元数据：视频信号中携带的描述视频源信息的数据。动态元数据：与每帧图像相关联的元数据，该元数据随画面不同而改变。静态元数据：与图像序列相关联的元数据，该元数据在图像序列内保持不变。亮度信号：表示非线性基色信号的组合，符号为Y′。亮度映射：源图像的亮度映射到目标系统的亮度。显示适配：对视频信号进行处理，以适配目标显示器的显示特性。源图像：HDR前处理阶段输入的图像。主控监视器：视频信号在编辑制作时使用的参考显示器，用来确定视频编辑制作的效果；线性场景光信号：HDR视频技术中以内容为场景光的HDR视频信号，指的是相机/摄像头传感器捕获到的场景光，一般为相对值；线性场景光信号经过HLG编码之后得到HLG信号，HLG信号为一种场景光信号，HLG信号是非线性的；场景光信号一般需要经过OOTF转换成显示光信号在显示设备上显示；线性显示光信号：HDR视频技术中以内容为显示光的HDR视频信号，指的是显示设备上发出的显示光，一般为绝对值，单位nits；线性显示光信号经过PQ编码之后得到PQ信号，PQ信号为一种显示光信号，PQ信号为非线性信号；显示光信号一般标准按照其绝对值亮度在显示设备上显示；光-光转换曲线：视频技术中将一种光信号转换成另外一种光信号的曲线；动态范围：视频信号中最大亮度与最小亮度的比值；亮度-色度-色度，亮色分离视频信号的三个分量；感知量化：一种HDR标准，也是一种HDR转换方程，PQ根据人的视觉能力决定。显示设备显示的视频信号通常为PQ编码格式的视频信号。PQ EOTF曲线：将PQ编码的电信号转换成线性光信号，单位nits；转换公式为：其中，E′为输入电信号，取值范围；固定参数值如下：m1＝2610/16384＝0.1593017578125；m2＝2523/4096x128＝78.84375；c1＝3424/4096＝0.8359375＝c3-c2+1；c2＝2413/4096x32＝18.8515625；c3＝2392/4096x32＝18.6875；PQ EOTF曲线如图1-a所示：输入是范围的电信号，输出是nits的线性光信号；PQ EOTF-1曲线：PQ EOTF的逆曲线；物理含义是将nits的线性光信号转换成PQ编码的电信号；转换公式为：PQ EOTF-1曲线如图1-b所示：输入是nits的线性光信号，输出是范围的电信号；色域：某个色彩空间包含颜色的范围，相关色域标准有BT.709，BT.2020。混合对数伽马：一种HDR标准，照相机、摄影机、图像传感器或其他种类的图像采集设备采集到的视频信号是HLG编码格式的视频信号。HLG OETF曲线：对线性场景光信号进行HLG编码转换成非线性电信号的曲线，转换公式如下所示：其中E是输入线性场景光信号，范围；E′是输出非线性电信号，范围；固定参数a＝0.17883277，b＝0.28466892，c＝0.55991073，如图2-a所示，为HLGOETF曲线的一种示例图。HLG OETF-1曲线：HLG OETF的逆曲线，将HLG编码的非线性电信号的转换成线性场景光信号，示例性的，转换公式如下所示：如图2-b所示，为HLG OETF-1曲线的一种示例图，其中E′是输入的非线性电信号，范围；E是输出的线性场景光信号，范围。线性空间：本申请中线性空间指的是线性光信号所在的空间；非线性空间：本申请中非线性空间指的是将线性光信号利用非线性曲线进行转换后所在的空间；HDR常用的非线性曲线有PQ EOTF-1曲线、HLG OETF曲线等，SDR常用的非线性曲线有伽马曲线；一般认为线性光信号经过上述非线性曲线编码之后，相对于人眼是视觉线性的。应当理解，非线性空间可以认为是视觉线性空间。伽马校正：伽马校正是对图像进行非线性色调编辑的方法，可以检出图像信号中的深色部分和浅色部分，并使两者比例增大，从而提高图像对比度效果。目前的显示屏、摄影胶片和许多电子照相机的光电转换特性均可以是非线性的。这些非线性部件的输出与输入之间的关系可以用一个幂函数来表示，即：输出＝γ。设备输出的色彩值进行非线性转换是由于人类的视觉系统不是线性的，人类是通过比较来感知视觉刺激。外界以一定的比例加强刺激，对人来说，这个刺激才是均匀增长的。因此，对人类的感知来说，以等比数列增加的物理量，是均匀的。为了将输入的颜色按照人类视觉规律进行显示，需要经过上述幂函数形式的非线性转换，将线性的色彩值转换为非线性的色彩值。gamma的取值γ可以是根据色彩空间的光电转换曲线确定的。色彩空间：颜色可以是眼睛对于不同频率的光线的不同感受，也可以表示客观存在的不同频率的光。色彩空间是人们建立起用来表示色彩的坐标系统所定义的色彩范围。色域与色彩模型一起定义一个色彩空间。其中，色彩模型是用一组颜色成分表示颜色的抽象数学模型。色彩模型例如可以包括三原色光模式、印刷四色模式。色域是指一个系统能够产生的颜色的总合。示例性的，Adobe RGB和sRGB是两个基于RGB模型的不同的色彩空间。每台设备例如显示器或打印机都有自己的色彩空间，且只能生成其色域内的颜色。将图像从一台设备移至另一台设备时，由于每台设备按照自己的色彩空间转换并显示RGB或CMYK，图像在不同的设备上的颜色可能会发生变化。本申请实施例所涉及的RGB空间，是指使用红、绿、蓝三原色的亮度来定量表示视频信号的空间；YCC空间是本申请中表示亮色分离的颜色空间，YCC空间视频信号的三个分量分别代表亮度-色度-色度，常见的YCC空间视频信号有YUV、YCbCr、ICtCp等。本申请实施例提供一种视频信号处理方法和装置，根据该方法，能够补偿待处理视频信号进行tone-mapping产生的饱和度变化，缓解色调漂移现象。下面，结合附图对本申请实施例进行详细说明。首先，介绍本申请实施例提供的视频信号处理系统，然后分别介绍本申请实施例提供的视频信号处理装置，最后介绍本申请实施例提供的视频信号处理方法的具体实现方式。如图3-a所示，本申请实施例提供的视频信号处理系统100可以包括视频信号源101以及本申请实施例提供的视频信号处理装置102。其中，视频信号源101用于将待处理视频信号输入视频信号处理装置102，视频信号处理装置102用于对待处理视频信号根据本申请实施例提供的视频信号处理方法进行处理。在一种可选的情况中，如图1所示的视频信号处理装置102可具备显示功能，则本申请实施例提供的视频信号处理系统100还可将经过视频信号处理的视频信号进行显示，此时无须将经过处理的视频信号输出至显示设备，此时视频信号处理装置102可以是电视机或具备视频信号处理功能的显示器等显示设备。如图3-b所示的另一种视频信号处理系统100的结构中，该系统100还包括显示设备103，这里的显示设备103可以是具备显示功能的设备，例如电视机、显示器，也可以是显示屏，显示设备103用于接收视频信号处理装置102传输的视频信号以及对接收的视频信号进行显示。这里的视频信号处理装置102可以是播放设备，例如机顶盒等。以上举例的视频信号处理系统100中，若视频信号源101产生的待处理视频信号是尚未经过RGB空间亮度映射的HDR信号，该信号可在视频信号处理装置102中通过本申请实施例提供的视频信号处理方法进行处理，此时视频信号处理装置102可具备针对HDR信号的RGB空间亮度映射功能；若视频信号源101产生的待处理的视频信号，可以是已经过RGB空间亮度映射的视频信号，例如可以是本申请实施例中涉及的已经过RGB空间亮度映射并进行色彩空间转换至非线性NTFL1空间的视频信号，该信号经过视频信号处理装置102进行色彩饱和度补偿。在本申请的实施中，视频信号从YUV空间转换到RGB空间，或者从RGB空间转换到YUV空间，可采用现有技术中的标准转换流程。具体来说，本申请实施例提供的视频信号处理装置102可具备如图3-c所示的结构，可见，视频信号处理装置102可包括处理单元301，该处理单元301可以用于实现本申请实施例提供的视频信号处理方法中涉及的步骤，例如，确定与待处理视频信号的初始亮度值对应的饱和度调节因子以及基于饱和度调节因子，调节待处理视频信号的色度值等。示例性的，视频信号处理装置102还可以包括存储单元302，其中存储有计算机程序、指令和数据，存储单元302可以与处理单元301耦合，用于支持处理单元301调用存储单元302中的计算机程序、指令以实现本申请实施例提供的视频信号处理方法中涉及的步骤，另外，存储单元302还可以用于存储数据。在本申请的各个实施例中，耦合是指通过特定方式的相互联系，包括直接相连或通过其他设备间接相连。例如可以通过各类接口、传输线或总线等耦合。示例性的，视频信号处理装置102还可以包括发送单元303和/或接收单元304，其中，发送单元303可用于输出处理后的视频信号，接收单元304可以接收视频信号源101产生的待处理的视频信号。示例性的，发送单元303和/或接收单元304可以为视频信号接口，如高清晰度多媒体接口。示例性的，视频信号处理装置102还可以包括显示单元305，例如显示屏，用于将处理后的视频信号进行显示。图4示例性地介绍了本申请实施例所应用于的系统架构。在一种可行的实施方式中，前端设备完成高动态HDR内容的制作，通过传输层将视频源数据以及元数据传输到显示端，根据不同的显示设备的显示能力，显示端将接收到的视频源数据转换为显示设备适配的显示图像。应理解，图4中的“低动态HDR”和“低动态SDR”中的“低动态”是相对于前端产生的高动态HDR内容而言。还应理解，在不同的实施例中，显示设备可以具有比前端产生的HDR内容更高动态范围的显示能力，其适配显示的过程同样可以应用于本系统架构，本申请不作限定。本申请实施例中的动态范围转换模块，示例性的，可以存在于机顶盒、电视显示器、移动终端显示器以及网络直播、网络视频应用等的视频转换设备中。更具体的，该模块在机顶盒、电视显示器、移动终端显示器中可以以芯片的形态存在，在网络直播、网络视频应用等的视频转换设备中可以以软件程序的形态存在。图5是本申请实施例中提供的一种图像信号转换处理方法的流程示意图。如图5所示的实施例中的图像信号转换处理方法至少可以包括：S501，接收包含源图像信号数据以及元数据的码流。一般地，源图像信号数据和元数据均以码流的形式进行传输。该码流在视频内容制作端通过对图像数据、辅助信息进行编码获得，并在显示端通过解码，有损或无损地还原为源图像信号数据以及元数据。源图像信号数据可以为像素数据，元数据可以包括视频源数据的格式以及涉及HDR视频处理的各项参数，例如，动态范围转换模型中的参数。应理解，本申请实施例对源图像信号数据的格式不做限定，示例性的，可以是YUV颜色空间的数据，也可以是RGB颜色空间的数据，可以是8比特的数据，也可以是10比特，或者12比特的数据。还应理解，本申请实施例，对元数据的格式不做限定，示例性的，可以是标准ST2094-40包含直方图信息和tone-mapping曲线参数信息，也可以是标准ST2094-10包含tone-mapping曲线参数信息。元数据可以是动态元数据，也可以是静态元数据，或者同时包括静态元数据和动态元数据。在本申请实施例中接收到的源图像信号数据可以是光信号，也可以是电信号，本申请对此不作限定。S502，根据预设的动态范围转换模型，将解码所述码流得到的色彩信号进行动态范围转换以适配显示设备。本申请实施例中可以应用现有技术中的动态范围转换模型以及相应的tone-mapping处理方法，不作限定。示例性的，动态范围转换模型，也可以称为动态范围转换函数，动态范围转换曲线，光电转换函数等，可以为：其中，L为所述待处理色彩信号的一个基色分量的基色值，L′为处理后的所述一个基色分量的基色值，即待显示色彩信号，k1，k2，k3，a，b，m，n以及p为模型参数。S503，对动态范围转换后的色彩信号的色彩饱和度进行调整。具体实施方式结合图6来具体说明。S504，在显示设备上显示上述色彩饱和度调整后的色彩信号。应理解，在获得色彩饱和度调整后的色彩信号之后，并且在显示之前，还可以对色彩饱和度调整后的色彩信号进行色域变换、去噪处理、锐化处理等一项或多项图像处理过程，本申请对此不作限定。图6是本申请实施例中提供的另一种图像信号转换处理方法的流程示意图。如图6所示的实施例是对图5中步骤S503的具体实施方式的说明，至少可以包括：S601，确定饱和度调整参数。在本申请实施例中饱和度调整参数用于确定饱和度调整因子。示例性的，所述饱和度调整参数包括：参考显示设备最大亮度值、源最大亮度值、目标显示设备最大亮度值和饱和度调节强度。不妨分别对上述饱和度调整参数的确定方式进行说明：参考显示设备最大亮度值：参考显示设备，例如上文提到的主控监视器。在一种可行的实施方式中，其最大亮度值为视频内容制作端和显示端均知晓的预设值。在另一种可行的实施方式中，其最大亮度值以静态元数据或动态元数据的形式传输到显示端，显示端通过解码元数据获知其取值。应理解，有些参考显示设备可以动态地调整最大亮度值，对应于不同的像素点可以调节不同的最大亮度值，因此，本申请实施例并不限定于所有像素使用相同的RML。源最大亮度值：源最大亮度值是源图像信号的最大亮度值。在一种可行的实施方式中，源最大亮度值为视频内容制作端和显示端均知晓的预设值，示例性的，源最大亮度值可以为10000nit。在另一种可行的实施方式中，源最大亮度值以静态元数据或动态元数据的形式传输到显示端，显示端通过解码元数据获知其取值。示例性的，在一种可行的实施方式中，SML的数值取自源图像信号的所有有效像素的最大基色值中的最大值。目标显示设备最大亮度值：目标显示设备是本申请实施例中步骤S504中的显示设备。目标显示设备的最大显示能力可以根据目标显示设备的参数获得，或者可以根据生产制作商提供的产品信息获得。目标显示设备的最小显示能力，通常为0nit，也可以为1nit，本申请对此不作限定。应理解，和RML相类似的，本申请实施例并不限定于所有像素点使用相同的TML。饱和度调整调节强度：饱和度调整调节强度反映了视频内容制作端对饱和度的调节强度。在一种可行的实施方式中，饱和度调整调节强度为视频内容制作端和显示端均知晓的预设值。在另一种可行的实施方式中，饱和度调整调节强度以静态元数据或动态元数据的形式传输到显示端，显示端通过解码元数据获知其取值。示例性的，SatR可以取0.8。应理解，本申请实施例并不限定于所有像素点使用相同的SatR。S602，可选的，当待处理的色彩信号为非RGB空间信号时，将L转换为RGB空间信号的值，对应的，L’也为RGB空间信号的值。应理解，本申请实施例同样可以应用于其它色彩空间的调整，不作限定。S603，根据至少一个饱和度调整参数，确定色彩信号的一个基色分量的饱和度调整因子。不妨设，Nin代表步骤S502中的L，示例性的，Nin可以为Rin，Gin，Bin中的任意一个。WN为Nin所代表的基色分量的饱和度调整因子，即用于调节待处理色彩信号的R分量的饱和度调整因子为WR，即用于调节待处理色彩信号的G分量的饱和度调整因子为WG，即用于调节待处理色彩信号的B分量的饱和度调整因子为WB。在一种可行的实施方式中，所述饱和度调整因子根据如下公式获得：饱和度调整因子还可以通过其他公式确定，本申请实施例不作限定。示例性的，饱和度调整因子的确定方式还包括：示例1：示例2：其中，f1为经过和的连续曲线，f2为经过和的连续曲线。示例3：其中，f1为经过的连续曲线，f2为经过的连续曲线。示例4：其中，f1为经过的连续单调递增曲线，f2为经过和的连续单调递增曲线。示例5：其中，f1为经过的连续单调递增曲线，f2为经过的连续单调递增曲线，f1和f2不相同。示例6：其中，f1为经过的连续单调递增曲线。示例：7：其中，f2为经过的连续单调递增曲线。示例8：应理解，本申请实施例对上述示例2-7中的函数f1和/或f2不做限定。示例性的，示例1可以作为示例2-7中任意一种确定方式的具体化实施例。例如，示例1等同于示例2，当示例2中的时。并且，显然，此函数满足f1为经过和的连续曲线，f2为经过和的连续曲线。S604，基于所述色彩信号的多个基色分量的最大值和所述一个基色分量的饱和度调整因子，对所述一个基色分量进行调整。当色彩信号为RGB信号时，该步骤即为基于所述RGB信号中的红、绿、蓝分量中的最大值和所述R、G、B分量中的一个所对应的饱和度调整因子，对所述R、G、B分量中的一个进行所述调整。在一个具体的实施例中，所述R、G、B分量根据如下公式进行所述调整：其中，Rin，Gin，Bin分别为所述RGB信号中的R、G、B分量，MAX为取最大值的函数，WR，WG，WB分别为所述R、G、B分量所对应的饱和度调整因子，Rout，Gout，Bout分别为所述调整后的R、G、B分量。在另一个具体的实施例中，还包括：根据第一校正强度因子对所述R、G、B分量进行调整。对应的，所述R、G、B分量根据如下公式进行所述调整：其中，C1为所述第一校正强度因子。在一种可行的实施方式中，所述第一校正强度因子根据解码元数据获得，即所述第一校正强度因子的数值携带于元数据中。在另一种可行的实施方式中，基于所述元数据所携带的信息，进行计算，从而获得所述第一校正强度因子。示例性的，可以解码元数据中的color_saturation_gain0或color_saturation_gain1的语法元素，得到的值除以15，以获得所述第一校正强度因子的数值。S605，可选的，将饱和度调整后的色彩信号进行归一化。即把线性域的RGB信号进行归一化。归一化处理的过程示例性的，可以根据ST 2084，2014-SMPTE标准所规定的过程转换为非线性的PQ信号值的过程来完成，不再赘述。同时，本申请实施例对归一化处理的过程不作限定。S606，可选的，将PQ域的RGB信号转成YCbCr信号进行色彩调整。应理解，也可以将PQ域的RGB信号转成其他亮度-色度-色度格式的信号，本申请实施例不做限定。示例性的，可以将Rec.ITU-R BT.2020-2格式的RGB色彩信号转成YCbCr格式的色彩信号：然后，根据所述目标显示设备最大亮度值和所述饱和度调整因子，确定色彩调整系数。在一种可行的实施方式中，所述色彩调整系数，根据如下公式获得：其中，S为所述色彩调整系数，A为调整范围系数，C2为第二校正强度因子，Yin为所述亮度-色度-色度信号的亮度分量值，A为小于1且大于0的有理数。在另一种可行的实施方式中，所述色彩调整系数，根据如下公式获得：其中，C3为第三校正强度因子，Yorg为经过tone-mapping之前的解码所述码流得到的色彩信号的Y分量的数值。C2和C3的获取方式和C1类似，不再赘述。A可以根据预设值确定，或者，可以根据解码所述元数据确定。在一种可行的实施方式中，A取值为2/3。在另一种可行的实施方式中，确定RGB信号的像素点中至少两个基色分量小于或等于TML的像素点集合，从该像素点集合中确定亮度分量值最大的像素点，并将该最大亮度值作为A。在另一种可行的实施方式中，所述色彩调整系数，根据如下公式获得：其中，fl为经过和的连续曲线。示例性的，即上文中确定色彩调整系数的公式为本实施方式的一个具体实施例。在一些可行的实施方式中，用于确定饱和度调整因子的SatR和确定色彩调整系数的SatR的取值可以不同，即在确定色彩调整系数之前可以对SatR进行调整。示例性的，可以将SatR的取值从0.8调整为1。当色彩调整系数确定以后，根据所述色彩调整系数对所述亮度-色度-色度信号的色度分量进行调整。示例性的，调整后的YCbCr格式的彩色信号为：C′b＝Cb·SC′r＝Cr·S其中，YCbCr格式的彩色信号的亮度分量不需要进行调整，即Y’＝Yin，Cb，Cr分别为调整前的YCbCr格式的彩色信号的色度分量，C′b，C′r分别为调整后的YCbCr格式的彩色信号的色度分量。应理解，色彩调整系数S，也可以用于对非tone-mapping之后的信号，进行调整，本申请不作限定。S607，可选的，将色彩调整后的信号最终转换成适配显示的信号格式。应理解，在另一些实施例中，可选步骤S605-S607会作为步骤S504之前的对待显示信号进行后处理的一部分。图7是本申请实施例中提供的一种图像信号转换处理装置的结构示意图，其中本发明实施例提供的图像信号转换处理装置可以用以实施本发明结合图5或图6介绍的图像信号转换处理方法实施例中的部分或全部流程。图7所示的一种饱和度调整的装置700，包括：计算模块701，用于根据至少一个饱和度调整参数，确定色彩信号的一个基色分量的饱和度调整因子，其中，所述饱和度参数包括：参考显示设备最大亮度值、源最大亮度值、目标显示设备最大亮度值和饱和度调节强度；转换模块702，用于基于所述色彩信号的多个基色分量的最大值和所述一个基色分量的饱和度调整因子，对所述一个基色分量进行调整。在一种可行的实施方式中，所述色彩信号为RGB信号，所述转换模块702具体用于：基于所述RGB信号中的红、绿、蓝分量中的最大值和所述R、G、B分量中的一个所对应的饱和度调整因子，对所述R、G、B分量中的一个进行所述调整。在一种可行的实施方式中，所述R、G、B分量根据如下公式进行所述调整：其中，Rin，Gin，Bin分别为所述RGB信号中的R、G、B分量，MAX为取最大值的函数，WR，WG，WB分别为所述R、G、B分量所对应的饱和度调整因子，Rout，Gout，Bout分别为所述调整后的R、G、B分量。在一种可行的实施方式中，所述转换模块701还用于：根据第一校正强度因子对所述R、G、B分量进行调整；对应的，所述R、G、B分量根据如下公式进行所述调整：其中，C1为所述第一校正强度因子。在一种可行的实施方式中，所述第一校正强度因子根据解码元数据获得，或者，根据所述元数据所携带的信息计算获得。在一种可行的实施方式中，所述色彩信号为进行动态范围调整后的待显示信号。在一种可行的实施方式中，所述饱和度调整因子根据如下公式获得：其中，Nin为Rin，Gin，Bin中的一个，WN为Nin代表的基色分量所对应的饱和度调整因子。在一种可行的实施方式中，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据预设值确定，或者，所述参考显示设备最大亮度值、所述源最大亮度值和所述饱和度调节强度中的至少一个根据解码所述元数据确定。在一种可行的实施方式中，所述饱和度调节强度为0.8。在一种可行的实施方式中，所述目标显示设备最大亮度值根据目标显示设备的参数获得。在一种可行的实施方式中，当所述色彩信号为非RGB信号时，所述计算模块还用于：将所述非RGB信号转换为RGB信号，以作为所述色彩信号。图8是本申请实施例中提供的另一种图像信号转换处理方法的流程示意图。具体的，如图8所示的是一种色度调整的方法。不妨设，该色度调整位于tone-mapping的步骤之后，待处理帧的图像信号在tone-mapping之前为RGB色彩空间的R、G、B，待处理帧的图像信号在tone-mapping之后为RGB色彩空间的Rt、Gt、Bt，则：待处理帧的图像信号在tone-mapping之前对应的YCbCr空间的信号可以通过如下公式获得：其中，Yin，Cbin，Cr_in分别为待处理帧的图像信号在YCbCr空间的亮度、第一色度和第二色度分量。待处理帧的图像信号在tone-mapping之后对应的YCbCr空间的信号可以通过如下公式获得：其中，Y，Cb，Cr分别为待处理帧的图像信号在YCbCr空间的亮度、第一色度和第二色度分量。应理解，在本申请实施例中，色彩空间的转换遵循ITU-BT2020的标准，将Rec.ITU-RBT.2020-2格式的RGB色彩信号转成YCbCr格式的色彩信号。对应其他色彩空间的转换方法也可以应用于本申请实施例，不作限定。S801，计算色彩调整系数。在一种可行的实施方式中，根据参考显示设备最大亮度值和/或源最大亮度值，确定色彩信号的色度分量的色彩调整系数。在一种可行的实施方式中，所述色彩调整系数根据如下公式获得：其中，S为所述色彩调整系数，A为调整范围系数，B为强度范围系数，C2为第二校正强度因子，Yin为所述色彩信号的亮度分量值，f为x在0到1区间的单调递增函数，SatR1为第一饱和度调整系数。在另一种可行的实施方式中，所述色彩调整系数根据如下公式获得：其中，S为所述色彩调整系数，A为调整范围系数，B为强度范围系数，C2为第二校正强度因子，Yin为所述色彩信号的亮度分量值，f为x在0到1区间的单调递增函数，SatR1为第一饱和度调整系数，g为x在0到1区间的单调递增函数，SatR2为第二饱和度调整系数。在另一种可行的实施方式中，所述色彩调整系数根据如下公式获得：其中，S为所述色彩调整系数，A为调整范围系数，B为强度范围系数，C2为第二校正强度因子，Yin为所述色彩信号的亮度分量值，f为x在0到1区间的单调递增函数，SatR1为第一饱和度调整系数，SatR2为第二饱和度调整系数，const为常数。在一种可行的实施方式中，RML，SML，A，B，C2，SatR1和SatR2中的至少一个根据解码元数据获得，或者，根据所述元数据所携带的信息计算获得。应理解，上述参数可以全部由一种获得方式获得，也可以分别根据不同的获得方式获得。在一种可行的实施方式中，A为预设值，且0＜A≤1。示例性的，A可以取0.1、0.3、1/3、0.4、0.5、0.6、2/3、0.7、0.8或者0.9。在另一种可行的实施方式中，A根据源图像信号的特性计算获得，具体的：S91，计算待处理色彩信号所在的一个像素集合内的像素的最大基色值。该像素集合可以为待处理色彩信号所在的一个图像帧，或者一段图像序列等。不妨设RGB信号的R、G、B分量中的最大值为最大基色值。对于每个像素集合中的像素，均获取其最大基色值。在不同的实施例中，替代性的，还可以获取一个像素的R、G、B分量中的最小值或中间值等。S92，从S91的像素集合中筛选最大基色值大于RML的像素，从而得到像素子集。S93，对像素子集内的像素的亮度值进行累积直方图的统计。确定目标亮度值Th，使目标亮度值满足，使从0到目标亮度值的累积像素数目达到像素子集内总数目的预设比例值，示例性的，该预设比例值可以为10％、20％、30％、40％或50％。S94，根据目标亮度值确定A，其中：当Th/RML＜TML/RML时，A＝TML/RML；当Th/RML＞TT时，A＝TT；否则，A＝Th/RML；TT为预设值，示例性的，TT为0.1、0.3、1/3、0.4、0.5、0.6、2/3、0.7、0.8或者0.9。在一种可行的实施方式中，B为预设值，且0＜B≤1。示例性的，B可以取0.1、0.2、0.3、0.4、0.5、0.6、0.7、0.8、0.9或者1.0。在一种可行的实施方式中，B根据所述源最大亮度值和目标显示设备最大亮度值确定。示例性的，B＝SML/TML。在另一种可行的实施方式中，B根据多个图像帧的源最大亮度值和TML确定。示例性的，B＝∑Wi×SMLi/TML。其中，i为多个图像帧中每一帧的索引，Wi为第i帧的系数值。在一种可行的实施方式中，SatR1和SatR2分别为预设值，且0＜SatR1≤1，0＜SatR2≤1。示例性的，SatR1和SatR2可以取0.3、0.4、0.5、0.6、0.7、0.8或者0.9。在一种可行的实施方式中，SatR1+SatR2≤1。在一种可行的实施方式中，SatR1和SatR2根据源图像信号的特性计算获得。示例性的，可以根据待处理图像信号所在的图像帧、多个图像帧中的全部或部分像素的基色信号的特性确定。在一种可行的实施方式中，f＝x。在一种可行的实施方式中，g＝x。在一种可行的实施方式中，f＝xN，其中，N＞0。在一种可行的实施方式中，g＝xM，其中，M＞0。在一种可行的实施方式中，示例性的，const可以取0、0.3、0.4、0.5、0.6、0.7、0.8、0.9或者1.0。在一个具体的实施例中，不妨设色彩调整系数根据如下公式获得：其中，C1，C2，RML，SML根据解码元数据获得，SatR取0.8，A＝TML/RML。示例性的，从元数据中可以解码语法元素color_saturation_gain1，color_saturation_gain2，从而计算C1和C2的值。C1＝color_saturation_gain1/15C2＝color_saturation_gain2/15S802，基于所述色彩调整系数对所述色彩信号的色度分量进行调整。示例性的，色度分量Cb和Cr乘以相同的色彩调整系数，以实现对色度分量的调整。Y′＝YC′b＝Cb·SC′r＝Cr·S其中，Y′，C′b，C′r为调整后的色度分量。显然，亮度分量在调整前后不发生变化。S803，可选的，将调整后的色彩信号从YCbCr色彩空间转换回RGB色彩空间。S804，可选的，反归一化上述转换后的RGB信号从PQ域至线性域。图9是本申请实施例中提供的一种图像信号转换处理装置的结构示意图，其中本发明实施例提供的图像信号转换处理装置可以用以实施本发明结合图8介绍的图像信号转换处理方法实施例中的部分或全部流程。图9所示的一种色度调整的装置900，包括：计算模块901，用于根据参考显示设备最大亮度值和/或源最大亮度值，确定色彩信号的色度分量的色彩调整系数；转换模块902，用于基于所述色彩调整系数对所述色彩信号的色度分量进行调整。在一种可行的实施方式中，所述色彩调整系数根据如下公式获得：其中，S为所述色彩调整系数，A为调整范围系数，B为强度范围系数，C2为第二校正强度因子，Yin为所述色彩信号的亮度分量值，f为x在0到1区间的单调递增函数，SatR1为第一饱和度调整系数。示例性的，上述公式可简化为：其中，SatR1为0.8。在一种可行的实施方式中，所述色彩调整系数根据如下公式获得：其中，g为x在0到1区间的单调递增函数，SatR2为第二饱和度调整系数。在一种可行的实施方式中，RML，SML，A，B，C2，SatR1和SatR2中的至少一个根据解码元数据获得，或者，根据所述元数据所携带的信息计算获得。在一种可行的实施方式中，所述参考显示设备最大亮度值和/或所述源最大亮度值根据预设值确定，或者，根据解码所述元数据确定。在一种可行的实施方式中，A为预设值，且0＜A≤1。示例性的，A可以取0.1、0.3、1/3、0.4、0.5、0.6、2/3、0.7、0.8或者0.9。在一种可行的实施方式中，B为预设值，且0＜B≤1。示例性的，B可以取0.1、0.2、0.3、0.4、0.5、0.6、0.7、0.8、0.9或者1.0。在一种可行的实施方式中，B根据所述源最大亮度值和目标显示设备最大亮度值确定。在一种可行的实施方式中，B为SML与TML的比值。在一种可行的实施方式中，SatR1和SatR2分别为预设值，且0＜SatR1≤1，0＜SatR2≤1。示例性的，SatR1和SatR2可以取0.3、0.4、0.5、0.6、0.7、0.8或者0.9。在一种可行的实施方式中，SatR1+SatR2≤1。在一种可行的实施方式中，f＝x。在一种可行的实施方式中，g＝x。在一种可行的实施方式中，f＝xN，其中，N＞0。在一种可行的实施方式中，g＝xM，其中，M＞0。在一种可行的实施方式中，g＝const，其中，const为常数。示例性的，const可以取0、0.3、0.4、0.5、0.6、0.7、0.8、0.9或者1.0。在一种可行的实施方式中，所述色度分量根据如下公式进行调整：C′b＝Cb·SC′r＝Cr·S其中，Cb，Cr为所述色彩信号调整前的色度分量，C′b，C′r为所述色彩信号调整后的色度分量。图10是本申请实施例中提供的一种终端设备的结构示意图。如图10所示，该终端设备1000可以包括：处理器1001、存储器1002、输入装置1003、以及输出装置1004。处理器1001连接到存储器1002、输入装置1003以及输出装置1004，例如处理器1001可以通过总线连接到存储器1002、输入装置1003以及输出装置1004。其中，处理器1001可以是中央处理器，网络处理器等。存储器1002可以包括易失性存储器，例如随机存取存储器；存储器也可以包括非易失性存储器，例如只读存储器，快闪存储器，硬盘或固态硬盘；存储器还可以包括上述种类的存储器的组合。处理器1001用于执行图5、图6或图8介绍的图像信号转换处理方法实施例中的部分或全部流程。应理解，本申请实施例中提及的处理器可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。还应理解，本申请实施例中提及的存储器可以是易失性存储器或非易失性存储器，或可包括易失性和非易失性存储器两者。其中，非易失性存储器可以是只读存储器、可编程只读存储器、可擦除可编程只读存储器、电可擦除可编程只读存储器或闪存。易失性存储器可以是随机存取存储器，其用作外部高速缓存。通过示例性但不是限制性说明，许多形式的RAM可用，例如静态随机存取存储器、动态随机存取存储器、同步动态随机存取存储器、双倍数据速率同步动态随机存取存储器、增强型同步动态随机存取存储器、同步连接动态随机存取存储器和直接内存总线随机存取存储器。应注意，本文描述的存储器、存储单元包括但不限于这些和任意其它适合类型的存储器。还应理解，本文中涉及的第一、第二以及各种数字编号仅为描述方便进行的区分，并不用来限制本申请的范围。本申请中，“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B的情况，其中A，B可以是单数或者复数。字符“/”一般表示前后关联对象是一种“或”的关系。本申请中，“至少一个”是指一个或者多个，“多个”是指两个或两个以上。“以下至少一项”或其类似表达，是指的这些项中的任意组合，包括单项或复数项的任意组合。例如，“a,b,或c中的至少一项”，或，“a,b,和c中的至少一项”，均可以表示：a,b,c,a-b,a-c,b-c,或a-b-c，其中a,b,c分别可以是单个，也可以是多个。应理解，在本申请的各种实施例中，上述各过程的序号的大小并不意味着执行顺序的先后，部分或全部步骤可以并行执行或先后执行，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本申请实施例的实施过程构成任何限定。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本申请的范围。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统、装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本申请所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。本申请各方法实施例之间相关部分可以相互参考；各装置实施例所提供的装置用于执行对应的方法实施例所提供的方法，故各装置实施例可以参考相关的方法实施例中的相关部分进行理解。本申请各装置实施例中给出的装置结构图仅示出了对应的装置的简化设计。在实际应用中，该装置可以包含任意数量的发射器，接收器，处理器，存储器等，以实现本申请各装置实施例中该装置所执行的功能或操作，而所有可以实现本申请的装置都在本申请的保护范围之内。本申请各实施例中提供的消息/帧/指示信息、模块或单元等的名称仅为示例，可以使用其他名称，只要消息/帧/指示信息、模块或单元等的作用相同即可。在本申请实施例中使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本发明。在本申请实施例和所附权利要求书中所使用的单数形式的“一种”、“所述”和“该”也旨在包括多数形式，除非上下文清楚地表示其他含义。还应当理解，本文中使用的术语“和/或”是指并包含一个或多个相关联的列出项目的任何或所有可能组合。本文中字符“/”，一般表示前后关联对象是一种“或”的关系；若字符“/”出现于本文涉及的公式中，一般表示公式中“/”之前出现的对象除以“/”之后出现的对象；若字符“^”出现于本文涉及的公式中，一般表示乘方运算。取决于语境，如在此所使用的词语“如果”或“若”可以被解释成为“在……时”或“当……时”或“响应于确定”或“响应于检测”。类似地，取决于语境，短语“如果确定”或“如果检测”可以被解释成为“当确定时”或“响应于确定”或“当检测时”或“响应于检测”。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分步骤是可以通过程序来指令相关硬件来完成，所述的程序可以存储于一个设备的可读存储介质中，该程序在执行时，包括上述全部或部分步骤，所述的存储介质，如：FLASH、EEPROM等。以上所述的具体实施方式，对本发明的目的、技术方案和有益效果进行了进一步详细说明，可以理解的是，上述实施例是示例性的，不能理解为对本发明的限制，本领域的普通技术人员在本发明的范围内可以对上述实施例进行变化、修改、替换和变型。
