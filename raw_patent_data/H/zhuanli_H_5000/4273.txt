标题title
一种基于5G多量纲的网络流量配置方法、系统及装置
摘要abst
本发明公开了一种基于5G多量纲的网络流量配置方法，涉及移动通信领域，特别涉及一种基于5G多量纲的网络流量配置方法、系统及装置；通过确定用户的业务场景，根据确定的业务场景配置对应的QoS模板；并根据所述用户的级别信息在所述QoS模板中确定对应的GBR配置，根据所述GBR配置为所述用户分配对应的网络流量；实现了以动态方式下发不同的QoS策略，根据不同的业务场景，配置相应的QoS模板，用户在触发业务时，通过向签约数据仓库查询是否为订阅用户，符合条件就执行下发相应的策略配置；可以依据网络的情况，实现基于区域、建立业务专载通道等多种QoS保障，更加灵活地调度实施差异化的业务服务质量保障。
权利要求书clms
1.一种基于5G多量纲的网络流量配置方法，其特征在于，包括以下步骤：确定用户的业务场景；根据确定的业务场景配置对应的QoS模板；通过调取签约数据仓库中的订阅用户信息，确定所述用户的级别信息；根据所述用户的级别信息在所述QoS模板中确定对应的GBR配置，并根据所述GBR配置为所述用户分配对应的网络流量；其中，所述GBR配置包括：当网络拥堵时，根据所述用户的级别信息对所述用户的网络流量进行加速或限速。2.根据权利要求1所述的一种基于5G多量纲的网络流量配置方法，其特征在于，对所述用户的网络流量进行加速或限速，包括以下步骤：确定所述用户的业务场景对应的业务类别，并对所述业务类别进行判断，判断为限速业务或加速业务。3.根据权利要求2所述的一种基于5G多量纲的网络流量配置方法，其特征在于，若判断为加速业务，则包括以下加速判断步骤：根据用户的IP地址，确定用户所在的地市信息；根据所述地市信息判断用户是否处于管控地市，若是，不对所述加速业务进行加速；若否，生成加速请求。4.根据权利要求3所述的一种基于5G多量纲的网络流量配置方法，其特征在于，所述加速判断步骤还包括以下步骤：计算加速请求时间差：根据用户的加速日志，获取用户上一次加速时发送的加速请求的时间；计算本次加速请求与所述上一次加速时发送的加速请求的时间差；判断所述加速请求时间差是否大于设定的时间差阈值，若是，发起加速。5.根据权利要求2所述的一种基于5G多量纲的网络流量配置方法，其特征在于，若判断为限速业务，则包括以下限速判断步骤：根据用户的限速日志，判断用户限速次数是否大于等于设定的日限速次数阈值，若是，不对所述用户进行限速。6.根据权利要求2或5所述的一种基于5G多量纲的网络流量配置方法，其特征在于，若判断为限速业务，则包括以下限速判断步骤：根据用户的IP地址，确定用户所在的小区，并获取所述小区的日限速人数；判断所述日限速人数是否大于等于设定的日限速人数阈值，若是，不对所述用户进行限速。7.一种采用权利要求1至6任一项所述的一种基于5G多量纲的网络流量配置方法的流量配置装置，其特征在于，包括：业务识别模块、模板设定模块、用户识别模块和配置模块；所述业务识别模块用于识别业务场景以及业务场景对应的业务类别；所述模板设定模块预存储有QoS模板以及和所述QoS模板对应的GBR配置；所述用户识别模块用于识别用户的级别信息；所述配置模块用于根据所述用户的级别信息在所述QoS模板中确定对应的GBR配置，并根据所述GBR配置为所述用户分配对应的网络流量。8.一种基于5G多量纲的网络流量配置系统，采用PCC架构，其特征在于，所述PCC架构包括PCF，所述PCF内置有权利要求7所述的流量配置装置。9.一种计算设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机指令，其特征在于，所述处理器执行所述指令时实现权利要求1至6任意一项所述方法的步骤。10.一种计算机可读存储介质，其存储有计算机指令，其特征在于，该指令被处理器执行时实现权利要求1至6任意一项所述方法的步骤。
说明书desc
技术领域本发明涉及移动通信领域，特别涉及一种基于5G多量纲的网络流量配置方法、系统及装置。背景技术随着5G技术的发展和应用，5G技术的高速率、低时延、大连接的特性使得5G将赋能更多的垂直行业，同时人口红利已逐渐消失，因此，未来5G运营模式会和现在4G运营模式有较大差别。在技术方面，设备商与运营商应持续加大研发投入，促进5G技术不断发展。在成本方面，运营商应以用户为导向，分阶段精准部署与维护优化，提升基站利用率。在应用方面，运营商应采取价值经营，推广C端应用，主导CT方案与IT方案融合，促进早期5G行业应用规模商用，加速虚拟专网成熟，促进行业应用发展。PCC是一组移动通信内部的策略控制和计费的网元。在5G核心网架构中，PCC架构的核心控制网元是PCF ；PCF负责各类策略的生成及下发，而AMF、SMF负责将用户的签约信息，以及网络、UE的实时状态上报给PCF，PCF会综合AMF、SMF上报的信息及运营商策略下发最终的策略。在现有技术中，基于PCC的QoS方案，主要是为不同用户或同一用户的不同业务提供差异化服务，本质上是定义优先级抢占资源，无法提供确切的保障；即便采用GBR业务，在网络极度拥塞的情况下，也是无法保障业务体验的。发明内容本发明的目的在于避免现有技术中的不足之处而提供一种能够在流量拥堵时，即能满足差异化服务的同时也能保障各用户的业务体验的网络流量配置方法。本发明的目的通过以下技术方案实现：因此，根据本发明公开的一个方面，提供了一种基于5G多量纲的网络流量配置方法，其特征在于，包括以下步骤：确定用户的业务场景；根据确定的业务场景配置对应的QoS模板；通过调取签约数据仓库中的订阅用户信息，确定用户的级别信息；根据用户的级别信息在QoS模板中确定对应的GBR配置，并根据GBR配置为用户分配对应的网络流量；其中，GBR配置包括：当网络拥堵时，根据用户的级别信息对用户的网络流量进行加速或限速。具体的，对用户的网络流量进行加速或限速，包括以下步骤：确定用户的业务场景对应的业务类别，并对业务类别进行判断，判断为限速业务或加速业务。更具体的，若判断为加速业务，则包括以下加速判断步骤：根据用户的IP地址，确定用户所在的地市信息；根据地市信息判断用户是否处于管控地市，若是，不对加速业务进行加速；若否，生成加速请求。更具体的，加速判断步骤还包括以下步骤：计算加速请求时间差：根据用户的加速日志，获取用户上一次加速时发送的加速请求的时间；计算本次加速请求与上一次加速时发送的加速请求的时间差；判断加速请求时间差是否大于设定的时间差阈值，若是，发起加速。另一具体的，若判断为限速业务，则包括以下限速判断步骤：根据用户的限速日志，判断用户限速次数是否大于等于设定的日限速次数阈值，若是，不对用户进行限速。额外的，若判断为限速业务，则包括以下限速判断步骤：根据用户的IP地址，确定用户所在的小区，并获取小区的日限速人数；判断日限速人数是否大于等于设定的日限速人数阈值，若是，不对用户进行限速。根据本发明公开的另一个方面，提供了一种基于5G多量纲的网络流量配置方法的流量配置装置，包括：业务识别模块、模板设定模块、用户识别模块和配置模块；业务识别模块用于识别业务场景以及业务场景对应的业务类别；模板设定模块预存储有QoS模板以及和QoS模板对应的GBR配置；用户识别模块用于识别用户的级别信息；配置模块用于根据用户的级别信息在QoS模板中确定对应的GBR配置，并根据GBR配置为用户分配对应的网络流量。根据本发明公开的再一方面，提供了一种基于5G多量纲的网络流量配置系统，采用PCC架构， PCC架构包括PCF，PCF内置有上述的一种流量配置装置。根据本发明公开的再一方面，提供了一种计算设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机指令，处理器执行指令时实现如上一种基于5G多量纲的网络流量配置方法的步骤。根据本发明公开的另一方面，提供了一种计算机可读存储介质，其存储有计算机指令，该指令被处理器执行时实现如上一种基于5G多量纲的网络流量配置方法的步骤。本发明的有益效果：一种基于5G多量纲的网络流量配置方法，通过确定用户的业务场景，根据确定的业务场景配置对应的QoS模板；通过调取签约数据仓库中的订阅用户信息，确定用户的级别信息；并根据用户的级别信息在QoS模板中确定对应的GBR配置，并根据GBR配置为用户分配对应的网络流量；实现了以动态方式下发不同的QoS策略，根据不同的业务场景，配置相应的QoS模板，用户在触发业务时，通过向签约数据仓库查询是否为订阅用户，符合条件就执行下发相应的策略配置；可以依据网络的情况，实现基于区域、建立业务专载通道等多种QoS保障，更加灵活地调度实施差异化的业务服务质量保障。附图说明通过结合附图对于本发明公开的示例性实施例进行描述，可以更好地理解本发明，在附图中：图1所示的是根据本发明公开实施例的一种基于5G多量纲的网络流量配置方法示意性流程图；图2所示的是根据本发明公开实施例的一种流量配置装置的程序模块示意图；图3所示的是根据本发明公开实施例的计算设备的硬件结构示意图；图4所示的是根据本发明公开实施例的PCC架构示意图；图5所示的是根据本发明公开实施例的一种基于5G多量纲的网络流量配置系统的网络架构图。具体实施方式以下将描述本发明的具体实施方式，需要指出的是，在这些实施方式的具体描述过程中，为了进行简明扼要的描述，本说明书不可能对实际的实施方式的所有特征均作详尽的描述。应当可以理解的是，在任意一种实施方式的实际实施过程中，正如在任意一个工程项目或者设计项目的过程中，为了实现开发者的具体目标，为了满足系统相关的或者商业相关的限制，常常会做出各种各样的具体决策，而这也会从一种实施方式到另一种实施方式之间发生改变。此外，还可以理解的是，虽然这种开发过程中所作出的努力可能是复杂并且冗长的，然而对于与本发明公开的内容相关的本领域的普通技术人员而言，在本发明揭露的技术内容的基础上进行的一些设计，制造或者生产等变更只是常规的技术手段，不应当理解为本发明的内容不充分。除非另作定义，权利要求书和说明书中使用的技术术语或者科学术语应当为本发明所属技术领域内具有一般技能的人士所理解的通常意义。本发明专利申请说明书以及权利要求书中使用的“第一”、“第二”以及类似的词语并不表示任何顺序、数量或者重要性，而只是用来区分不同的组成部分。“一个”或者“一”等类似词语并不表示数量限制，而是表示存在至少一个。“包括”或者“包含”等类似的词语意指出现在“包括”或者“包含”前面的元件或者物件涵盖出现在“包括”或者“包含”后面列举的元件或者物件及其等同元件，并不排除其他元件或者物件。“连接”或者“相连”等类似的词语并非限定于物理的或者机械的连接，也不限于是直接的还是间接的连接。实施例一请参阅图1，本实施例提出一种基于5G多量纲的网络流量配置方法，其特征在于，包括以下步骤：S1：确定用户的业务场景；S2：根据确定的业务场景配置对应的QoS模板；S3：通过调取签约数据仓库中的订阅用户信息，确定用户的级别信息；S4：根据用户的级别信息在QoS模板中确定对应的GBR配置，并根据GBR配置为用户分配对应的网络流量；其中，GBR配置包括：当网络拥堵时，根据用户的级别信息对用户的网络流量进行加速或限速。具体的，当占用的PRB大于80%且CCE小于400W时，判断为网络拥堵。在本实施例中，通过在 HSS中定义QoS模板，配置较高等级的 ARP和QCI  参数用于定义了GBR Bear在资源充足的条件下，能够达到的速率上限。第一GBR设置为一级阶梯，借助GBR承载的调度优先级，仅配置较小的GBR，确保网络拥塞时，网络优先满足此部分群人的业务需求，而后利用剩余资源满足其他普通用户业务需求。第一GBR可以设置为最小值，例如可以设置为1kbps，借助GBR承载的调度优先级为用户提供服务。MBR设置为用户套餐速率上限。第二GBR设置为二级阶梯，用于分配第一保障性专载QCI，并配置较大的GBR，确保网络拥塞时，网络优先满足此部分群人的业务需求，而后利用剩余资源满足其他普通用户业务需求。第二GBR设置可以根据业务体验设置，可以设置为50kbps，保障用户能够流畅的收发微信短信，也可以设置为2Mbps，保障用户能够流畅的观看标清视频。第二GBR设置越大，单位区域内可接纳的高端用户数越少。MBR设置为用户套餐速率上限。第三GBR设置为二级阶梯，用于分配第二保障性专载QCI，并配置较大的GBR，对应设置的MBR略大于第三GBR，避免部分厂家调度原因导致其他用户体验变差。第四GBR设置为二级阶梯，用于分配第三保障性专载QCI，并配置与业务匹配的GBR，确保网络拥塞时，网络保障此部分群人的业务需求。其中，速率大于MBR的业务不能提供服务。其中，用户级别包括：普通用户、第一级用户、第二级用户和第三级用户；第一GBR，第二GBR、第三GBR和第四GBR分别对应普通用户、第一级用户、第二级用户和第三级用户。根据不同的业务质量场景，在PCF中配置相应的QoS和GBR模板，用户在触发业务时，通过 PCF向UDR 查询是否为订阅用户，符合条件就由 PCF 来执行下发相应的策略配置。通过动态方式可以依据网络的情况，实现基于区域、建立业务专载通道等多种QoS及加速保障，更加灵活地调度实施差异化的业务服务质量保障。具体的，上述步骤S4中，对用户的网络流量进行加速或限速，包括以下步骤：确定用户的业务场景对应的业务类别，并对业务类别进行判断，判断为限速业务或加速业务。进一步的，在上述步骤S4中，根据当前时间、业务类型、用户的级别信息以及IP地址判断是否发起加速；或者，根据应用类型、用户的级别信息、日限速次数和小区日限速人数判断是否发起限速。若判断为加速业务，则包括以下加速判断步骤：S10：根据用户的级别信息，判断用户是否为允许进行加速的用户，若是，进入下一步；若否，不对加速业务进行加速；S11：判断当前是否为加速时段，若是，进入下一步骤；若否，不对加速业务进行加速；S12：根据用户的IP地址，确定用户所在的地市信息；S13：根据地市信息判断用户是否处于管控地市，若是，不对加速业务进行加速；若否，生成加速请求；S14：计算加速请求时间差：根据用户的加速日志，获取用户上一次加速时发送的加速请求的时间；计算本次加速请求与上一次加速时发送的加速请求的时间差；S15：判断加速请求时间差是否大于设定的时间差阈值，若是，发起加速；具体的，若加速请求的时间差小于20S，则判断为请求过于频繁，不对加速业务进行加速；若加速请求的时间差大于20S且小于2760S，判断用户处于加速状态，不对用户进行新的操作；若加速请求的时间差大于当小于2760S，发起加速；更具体的，通过配置与用户级别对应的保障性专载QCI，实现加速；S16：根据步骤S15的判断结果，更新用户的加速日志。若判断为限速业务，则包括以下限速判断步骤：S20：根据用户的级别信息，判断用户是否为允许进行限速的用户，若是，进入下一步；若否，不对限速业务进行限速；S21：根据用户的限速日志，判断用户限速次数是否大于等于设定的日限速次数阈值，若是，不对用户进行限速；若否，进入下一步骤；S22：根据用户的IP地址，确定用户所在的小区，并获取小区的日限速人数；S23：判断日限速人数是否大于等于设定的日限速人数阈值，若是，不对用户进行限速，若否，发起限速；S24：根据步骤S23的判断结果，更新用户的限速日志。请继续参阅图2，示出了一种流量配置装置，在本实施例中，一种流量配置装置可以包括或被分割成一个或多个程序模块，一个或者多个程序模块被存储于存储介质中，并由一个或多个处理器所执行，以完成本发明，并可实现上述的一种基于5G多量纲的网络流量配置方法。本发明所称的程序模块是指能够完成特定功能的一系列计算机程序指令段，比程序本身更适合于描述一种流量配置装置在存储介质中的执行过程。以下描述将具体介绍本实施例各程序模块的功能：业务识别模块用于识别业务场景以及业务场景对应的业务类别。模板设定模块预存储有QoS模板以及和QoS模板对应的GBR配置。用户识别模块用于识别用户的级别信息。配置模块用于根据用户的级别信息在QoS模板中确定对应的GBR配置，并根据GBR配置以及当前的网络状态下发对应的执行指令，为用户分配对应的网络流量。一种基于5G多量纲的网络流量配置系统，采用PCC架构， PCC架构包括PCF，PCF内置有上述的一种流量配置装置。具体的，如图4所示，该PCC架构中，还包括以下功能模块：应用功能、网络数据分析功能、统一数据存储、网络开放功能、计费功能、接入和移动管理功能、会话管理功能及用户平面功能。如图5所示，在本实施例中，具体的网络流量配置流程如下：1. 用户通过APP跳转到智能加速APP的加速界面，针对指定应用请求加速；2.智能加速APP向BOSS发起鉴权信息，BOSS确认用户是否订购加速业务，鉴权不通过，则跳转到订购界面；鉴权通过，则通知智能加速APP允许用户加速；3.智能加速APP通过公网向加速控制系统AAC发起加速请求，携带用户需要被加速TCP业务流和用户参数；4.加速控制系统AAC执行RESTful转RX转换，再发送DRA，由DRA通过会话绑定功能转发到用户所在的PCRF；5. 加速控制系统AAC平台通过查询UPF获取用户所在的PCRF，通过DRA，转到归属地PCRF进行专载建立；6.PCRF根据加速控制系统AAC上报信息计算加速策略，下发Gx消息携带QCI=3ARPMBRGBR等带宽规则到 UPF对用户需要加速业务流进行专载保障；7.通过UPF、Enode-B和终端相互协商确认，最终针对用户指定业务完成QCI=3的专载资源加速管道建立；8.实现用户指定业务的低时延保障。本实施例还提供一种计算设备，如可以执行程序的智能手机、平板电脑、笔记本电脑、台式计算机、机架式服务器、刀片式服务器、塔式服务器或机柜式服务器等。本实施例的计算设备20至少包括但不限于：可通过系统总线相互通信连接的存储器21、处理器22，如图3所示。需要指出的是，图3仅示出了具有组件21-22的计算设备20，但是应理解的是，并不要求实施所有示出的组件，可以替代的实施更多或者更少的组件。本实施例中，存储器21包括闪存、硬盘、多媒体卡、卡型存储器、随机访问存储器、静态随机访问存储器、只读存储器、电可擦除可编程只读存储器、可编程只读存储器、磁性存储器、磁盘、光盘等。在一些实施例中，存储器21可以是计算设备20的内部存储单元，例如该计算设备20的硬盘或内存。在另一些实施例中，存储器21也可以是计算设备20的外部存储设备，例如该计算设备20上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。当然，存储器21还可以既包括计算设备20的内部存储单元也包括其外部存储设备。本实施例中，存储器21通常用于存储安装于计算设备20的操作系统和各类应用软件，例如实施例一的一种流量配置装置的程序代码等。此外，存储器21还可以用于暂时地存储已经输出或者将要输出的各类数据。处理器22在一些实施例中可以是中央处理器、控制器、微控制器、微处理器、或其他数据处理芯片。该处理器22通常用于控制计算设备20的总体操作。本实施例中，处理器22用于运行存储器21中存储的程序代码或者处理数据，例如运行一种流量配置装置，以实现实施例一的一种基于5G多量纲的网络流量配置方法。本实施例还提供一种计算机可读存储介质，如闪存、硬盘、多媒体卡、卡型存储器、随机访问存储器、静态随机访问存储器、只读存储器、电可擦除可编程只读存储器、可编程只读存储器、磁性存储器、磁盘、光盘、服务器、App应用商城等等，其上存储有计算机程序，程序被处理器执行时实现相应功能。本实施例的计算机可读存储介质用于存储一种流量配置装置，被处理器执行时实现实施例一的一种基于5G多量纲的网络流量配置方法。综上所述，根据示例性实施例，本发明通过GBR结合QCI的组合方案实现差异化用户体验，依据QoS的调度机制，设计根据用户等级的带宽调度优先级机制，对于有限的高端用户提供优质服务，提供极速上网服务，保障用户的体验速率，同时，可通过限制同一区域的高端用户总数，而在一定程度上优化用户时延，且现有的设备可支持相关的配置，优化成本低。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。流程图中或在此以其它方式描述的任何过程或方法描述可以被理解为，表示包括一个或更多个用于实现特定逻辑功能或过程的步骤的可执行指令的代码的模块、片段或部分，并且本发明的优选实施方式的范围包括另外的实现，其中可以不按所示出或讨论的顺序，包括根据所涉及的功能按基本同时的方式或按相反的顺序，来执行功能，这应被本发明的实施例所属技术领域的技术人员所理解。本技术领域的普通技术人员可以理解，实现上述实施例方法携带的全部或部分步骤是可以通过程序来指令相关的硬件完成，所述的程序可以存储于一种计算机可读介质中，该程序在执行时，包括方法实施例的步骤之一或其组合。在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
