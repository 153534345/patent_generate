标题title
一种实现PCDN资源管理的方法和装置
摘要abst
本发明公开一种实现PCDN资源管理的方法和装置,涉及网络资源管理技术领域；资源供应商可通过登录边缘计算服务平台绑定设备信息，运维人员可通过登录边缘计算管理平台获取设备信息，远程操作设备安装操作系统，搭建边缘节点。边缘节点搭建成功后，资源供应商可登录边缘计算服务平台获取管理设备服务，如监测设备运行状态，查看流量统计及接收告警通知等，便于资源供应商实时感知设备异常，以达到快速故障恢复的效果。同时，运维人员可登录边缘计算管理平台管理边缘节点操作系统，处理边缘节点流量统计，监控边缘节点运行状态，操作边缘节点操作系统升级及故障修复等，减少人工运维成本，提升运维质量及效率，规避运维误操作风险。
权利要求书clms
1.一种实现PCDN资源管理的方法，其特征是通过边缘计算服务平台将资源供应商绑定设备信息，通过边缘计算管理平台获取所述设备信息，并远程操控设备根据设备搭建边缘节点，安装边缘节点操作系统，所述边缘节点操作系统基于Archlinux，所述边缘节点操作系统将内核以及modules、firmware和initramfs打包成单一squash文件,通过选择不同的squashfs文件作为内核容器实现多版本系统共存,同时将所述边缘节点操作系统的其他文件打包成单一erofs文件,通过选择不同的erofs文件作为所述边缘节点操作系统根目录实现多版本系统共存，通过边缘计算服务平台提供给资源供应商管理设备的服务，所述边缘计算服务平台前端主体以React为框架,后端主体以SpringCloud为框架，使用GraphQL语言进行前后端通信，通过边缘计算管理平台管理设备的所述边缘节点操作系统，并进行流量管理、告警管理、业务资源管理及边缘网络节点管理，所述边缘计算管理平台前端主体以vue为框架,后端主体以SpringCloud为框架,使用GraphQL语言进行前后端通信。2.根据权利要求1所述的一种实现PCDN资源管理的方法，其特征是所述使用数据中台作为所述边缘计算服务平台与所述边缘计算管理平台的中继，并将采集的数据推送至分布式订阅消息平台，同时将所有数据持久化存储在时序数据库中。3.根据权利要求1或2所述的一种实现PCDN资源管理的方法，其特征是所述通过边缘计算管理平台进行流量管理，包括：对所述边缘节点操作系统上报的实时流量进行多维度汇算，提供实时、历史时间维度查询，提供不同业务等级查询以及提供不同数据颗粒度查询。4.根据权利要求1或2所述的一种实现PCDN资源管理的方法，其特征是所述通过边缘计算管理平台进行告警管理，包括：接收所述边缘节点操作系统上报至分布式消息订阅平台的采集数据，基于相应资源类型的告警模板，处理采集数据，触发告警及恢复告警通知，同时支持多种通知方式。5.根据权利要求1或2所述的一种实现PCDN资源管理的方法，其特征是所述边缘计算管理平台根据告警管理进行设备修复，包括：根据边缘节点操作系统上报至分布式消息订阅平台的采集数据，基于相应资源类型的告警模板，处理采集数据，触发告警及恢复告警通知给告警接收人，并将告警及恢复告警信息发送给边缘计算服务平台，边缘计算服务平台依据设备的唯一标识，匹配到资源供应商，通知设备的资源供应商，修复设备故障。6.根据权利要求1或2所述的一种实现PCDN资源管理的方法，其特征是所述通过边缘计算管理平台进行业务资源管理，包括：进行资源供应商信息管理，进行业务方信息管理，进行平台账号权限管理。7.根据权利要求1或2所述的一种实现PCDN资源管理的方法，其特征是所述通过边缘计算管理平台进行边缘网络节点管理，包括：查看边缘网络节点的网络状态，查看边缘网络节点的流量状态，查看业务容器的运行状态，执行容器调度命令，创建磁盘拓扑，定制化生成操作系统镜像，监控边缘节点运行状态，操作边缘节点操作系统升级及故障修复。8.根据权利要求1或2所述的一种实现PCDN资源管理的方法，其特征是所述通过边缘计算服务平台提供给资源供应商管理设备的服务，包括：登录设备服务，绑定设备信息，修改设备信息，监测设备运行状态，查看流量统计及接收告警通知。9.一种实现PCDN资源管理的装置，其特征是包括：至少一个存储器和至少一个处理器；所述至少一个存储器，用于存储机器可读程序；所述至少一个处理器，用于调用所述机器可读程序，执行权利要求1至8中任一项所述的一种实现PCDN资源管理的方法。
说明书desc
技术领域本发明公开一种方法和装置,涉及网络资源管理技术领域，具体地说是一种实现PCDN资源管理的方法和装置。背景技术PCDN，又为P2P内容分发网络，英文名为P2PCDN。PCDN是以P2P技术为基础，通过挖掘利用电信边缘网络海量碎片化闲置资源而构建的低成本高品质内容分发网络服务。客户通过集成PCDN SDK接入该服务后能获得等同或略高于CDN的分发质量，同时显著降低分发成本。适用于视频点播、直播、大文件下载等业务场景。目前，行业正常的工作模式，是PCDN服务供应商购买资源供应商的设备资源，使用设备的CPU、内存、硬盘和带宽等资源，并通过带宽流量占用情况进行付费结算。PCDN服务供应商，一般会对接多家资源供应商的设备资源，但这些资源的有效管理仍面临一些问题，如资源供应商是多家，硬件设备运行环境复杂多变，设备运行状态不可控；设备流量是否被PCDN服务供应商独占，无法被监控；资源供应商与PCDN服务供应商只能线下沟通设备信息、设备状态及设备跑量信息等，无法形成设备在线管理，资源供应商无法实时查看设备状态及流量等；每个节点规模较小，整个边缘网络节点较为分散，且需要管理的设备多，人工运维成本很高且操作风险较高，难以被追踪等。目前的PCDN管理难以实现资源供应商和PCDN服务供应商的协同一致性，资源供应商无法进行设备管理及流量监控，边缘节点缺少设备监控，无法及时感知设备告警，人工运维成本很高，导致PCDN资源管理不够高效。发明内容本发明针对现有技术的问题，提供一种实现PCDN资源管理的方法和装置，通过边缘计算服务平台和边缘计算管理平台的协同调用，数据共享，匹配不同角色需求，实现从资源供应商到PCDN服务供应商的端到端闭环管控，极大减少人工运维成本。本发明提出的具体方案是：本发明提供一种实现PCDN资源管理的方法，通过边缘计算服务平台将资源供应商绑定设备信息，通过边缘计算管理平台获取所述设备信息，并远程操控设备根据设备搭建边缘节点，安装边缘节点操作系统，所述边缘节点操作系统基于Archlinux，所述边缘节点操作系统将内核以及modules、firmware和initramfs打包成单一squash文件,通过选择不同的squashfs文件作为内核容器实现多版本系统共存,同时将所述边缘节点操作系统的其他文件打包成单一erofs文件,通过选择不同的erofs文件作为所述边缘节点操作系统根目录实现多版本系统共存，通过边缘计算服务平台提供给资源供应商管理设备的服务，所述边缘计算服务平台前端主体以React为框架,后端主体以SpringCloud为框架，使用GraphQL语言进行前后端通信，通过边缘计算管理平台管理设备的所述边缘节点操作系统，并进行流量管理、告警管理、业务资源管理及边缘网络节点管理，所述边缘计算管理平台前端主体以vue为框架,后端主体以SpringCloud为框架,使用GraphQL语言进行前后端通信。进一步地，所述的一种实现PCDN资源管理的方法中所述使用数据中台作为所述边缘计算服务平台与所述边缘计算管理平台的中继，并将采集的数据推送至分布式订阅消息平台，同时将所有数据持久化存储在时序数据库中。进一步地，所述的一种实现PCDN资源管理的方法中所述通过边缘计算管理平台进行流量管理，包括：对所述边缘节点操作系统上报的实时流量进行多维度汇算，提供实时、历史时间维度查询，提供不同业务等级查询以及提供不同数据颗粒度查询。进一步地，所述的一种实现PCDN资源管理的方法中所述所述通过边缘计算管理平台进行告警管理，包括：接收所述边缘节点操作系统上报至分布式消息订阅平台的采集数据，基于相应资源类型的告警模板，处理采集数据，触发告警及恢复告警通知，同时支持多种通知方式。进一步地，所述的一种实现PCDN资源管理的方法中所述边缘计算管理平台根据告警管理进行设备修复，包括：根据边缘节点操作系统上报至分布式消息订阅平台的采集数据，基于相应资源类型的告警模板，处理采集数据，触发告警及恢复告警通知给告警接收人，并将告警及恢复告警信息发送给边缘计算服务平台，边缘计算服务平台依据设备的唯一标识，匹配到资源供应商，通知设备的资源供应商，修复设备故障。进一步地，所述的一种实现PCDN资源管理的方法中所述通过边缘计算管理平台进行业务资源管理，包括：进行资源供应商信息管理，进行业务方信息管理，进行平台账号权限管理。进一步地，所述的一种实现PCDN资源管理的方法中所述通过边缘计算管理平台进行边缘网络节点管理，包括：查看边缘网络节点的网络状态，查看边缘网络节点的流量状态，查看业务容器的运行状态，执行容器调度命令，创建磁盘拓扑，定制化生成操作系统镜像，监控边缘节点运行状态，操作边缘节点操作系统升级及故障修复。进一步地，所述的一种实现PCDN资源管理的方法中所述通过边缘计算服务平台提供给资源供应商管理设备的服务，包括：登录设备服务，绑定设备信息，修改设备信息，监测设备运行状态，查看流量统计及接收告警通知。本发明还提供一种实现PCDN资源管理的装置，包括：至少一个存储器和至少一个处理器；所述至少一个存储器，用于存储机器可读程序；所述至少一个处理器，用于调用所述机器可读程序，执行所述的一种实现PCDN资源管理的方法。本发明的有益之处是：本发明提供一种实现PCDN资源管理的方法，用于在P2P内容分发网络领域，可以快速化、标准化搭建边缘节点，在降低带宽成本的同时，提升网络服务质量，规避运维风险，实现大型边缘网络的高效管理。其中资源供应商可通过登录边缘计算服务平台绑定设备信息，运维人员可通过登录边缘计算管理平台获取设备信息，远程操作设备安装操作系统，搭建边缘节点。边缘节点搭建成功后，资源供应商可登录边缘计算服务平台获取管理设备服务，如监测设备运行状态，查看流量统计及接收告警通知等，便于资源供应商实时感知设备异常，以达到快速故障恢复的效果。同时，运维人员可登录边缘计算管理平台管理边缘节点操作系统，处理边缘节点流量统计，监控边缘节点运行状态，操作边缘节点操作系统升级及故障修复等，减少人工运维成本，提升运维质量及效率，规避运维误操作风险。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明方法中边缘节点搭建流程示意图。图2是本发明系统架构应用示意图。图3是本发明方法数据交互示意图。具体实施方式下面结合附图和具体实施例对本发明作进一步说明，以使本领域的技术人员可以更好地理解本发明并能予以实施，但所举实施例不作为对本发明的限定。本发明提供一种实现PCDN资源管理的方法，通过边缘计算服务平台将资源供应商绑定设备信息，通过边缘计算管理平台获取所述设备信息，并远程操控设备根据设备搭建边缘节点，安装边缘节点操作系统，所述边缘节点操作系统基于Archlinux，所述边缘节点操作系统将内核以及modules、firmware和initramfs打包成单一squash文件,通过选择不同的squashfs文件作为内核容器实现多版本系统共存,同时将所述边缘节点操作系统的其他文件打包成单一erofs文件,通过选择不同的erofs文件作为所述边缘节点操作系统根目录实现多版本系统共存，通过边缘计算服务平台提供给资源供应商管理设备的服务，所述边缘计算服务平台前端主体以React为框架,后端主体以SpringCloud为框架，使用GraphQL语言进行前后端通信，通过边缘计算管理平台管理设备的所述边缘节点操作系统，并进行流量管理、告警管理、业务资源管理及边缘网络节点管理，所述边缘计算管理平台前端主体以vue为框架,后端主体以SpringCloud为框架,使用GraphQL语言进行前后端通信。本发明方法通过边缘计算服务平台和边缘计算管理平台的协同调用，数据共享，匹配不同角色需求，实现从资源供应商到PCDN服务供应商的端到端闭环管控，极大减少人工运维成本。具体应用中，在本发明的一些实施例中，进行PCDN资源管理时，搭建所述边缘计算服务平台，为边缘计算资源供应商门户应用，前端主体以React为框架,后端主体以SpringCloud为框架，使用GraphQL作为前后端通信时的数据描述语言,减少前后端开发人员沟通成本,并为后续版本演进提供基础，资源供应商可登录边缘计算服务平台管理设备，监测设备运行状态，查看流量统计及接收告警通知等，便于资源供应商实时感知设备异常，以达到快速故障恢复的效果。搭建所述边缘计算管理平台为边缘节点管理门户，前端主体以vue为框架,后端主体以SpringCloud为框架,使用GraphQL作为前后端通信时的数据描述语言。运维人员可登录边缘计算管理平台操作边缘设备，进行流量管理，告警管理，边缘设备操作系统升级及故障修复等，减少人工运维成本，提升运维质量及效率，规避运维误操作风险。所述所述边缘计算服务平台和所述边缘计算管理平台进行交互，通过边缘计算服务平台将资源供应商绑定设备信息，通过边缘计算管理平台获取所述设备信息，并远程操控设备根据设备搭建边缘节点，安装边缘节点操作系统，所述边缘节点操作系统基于Archlinux，将内核以及modules,firmware,initramfs等启动相关模块打包成单一Squash文件。在Bootloader中,通过选择不同的squashfs文件作为内核容器实现多版本共存。同时将系统其他文件打包成单一Erofs,在initramfs中通过选择不同的erofs文件作为系统根目录的方式,实现多版本系统共存。进一步地，可以利用数据中台作为连接边缘节点，即边缘计算管理平台和边缘计算服务平台的中继，可以使用Thingsboard作为中间件,将采集数据推送至分布式订阅消息平台，同时将所有数据持久化存储在时序数据库中。使用Thingsboard作为服务端消息通信和数据采集实现,数据存储在时序数据库中。边缘节点操作系统运行在边缘设备上，为边缘CDN业务提供了运行时基础，同时为无人值守实现了OTA，容器化调度,业务流量统计等功能。进一步地，所述的一种实现PCDN资源管理的方法中所述通过边缘计算管理平台进行流量管理，包括：对所述边缘节点操作系统上报的实时流量进行多维度汇算，提供实时、历史时间维度查询，提供不同业务等级查询以及提供不同数据颗粒度查询。进一步地，所述的一种实现PCDN资源管理的方法中所述通过边缘计算管理平台进行告警管理，包括：接收所述边缘节点操作系统上报至分布式消息订阅平台的采集数据，基于相应资源类型的告警模板，处理采集数据，触发告警及恢复告警通知，同时支持多种通知方式。进一步地，所述的一种实现PCDN资源管理的方法中所述边缘计算管理平台根据告警管理进行设备修复，包括：根据边缘节点操作系统上报至分布式消息订阅平台的采集数据，基于相应资源类型的告警模板，处理采集数据，触发告警及恢复告警通知给告警接收人，并将告警及恢复告警信息发送给边缘计算服务平台，边缘计算服务平台依据设备的唯一标识，匹配到资源供应商，通知设备的资源供应商，修复设备故障。进一步地，所述的一种实现PCDN资源管理的方法中所述通过边缘计算管理平台进行业务资源管理，包括：进行资源供应商信息管理，进行业务方信息管理，进行平台账号权限管理。进一步地，所述的一种实现PCDN资源管理的方法中所述通过边缘计算管理平台进行边缘网络节点管理，包括：查看边缘网络节点的网络状态，查看边缘网络节点的流量状态，查看业务容器的运行状态，执行容器调度命令，创建磁盘拓扑，定制化生成操作系统镜像，监控边缘节点运行状态，操作边缘节点操作系统升级及故障修复。进一步地，所述的一种实现PCDN资源管理的方法中所述通过边缘计算服务平台提供给资源供应商管理设备的服务，包括：登录设备服务，绑定设备信息，修改设备信息，监测设备运行状态，查看流量统计及接收告警通知。基于上述实施，具体指出PCDN资源高效管理方法可以包括以下执行步骤：步骤001：资源供应商注册/登录边缘计算服务平台绑定设备信息。步骤002：运维人员登录边缘计算管理平台获取设备信息。步骤003：运维人员远程操作设备安装操作系统，具体地，可使用边缘节点操作系统平台系统安装器功能，将一切配置在系统生成时期完成，减少运行时配置，保证每个边缘节点操作系统状态一致，操作系统安装成功后，将设备作为边缘节点注册到对应的边缘计算网关，完成边缘节点搭建。步骤004：边缘节点搭建成功后，通过容器化部署业务，减少环境差异性影响，保证系统状态可靠，减少人工运维，同时，使用Thingsboard作为服务端消息通信和数据采集实现，数据通过MQTT/HTTP上传到Thingsboard,基于Thingsboard将需要的数据发送到分布式消息订阅平台,供边缘计算管理平台告警模块消费，并且将所有数据落盘到时序数据库做持久化存储。步骤005：边缘计算管理平台接收边缘节点操作系统上报至分布式消息订阅平台的采集数据，基于相应资源类型的告警模板，处理采集数据，触发告警及恢复告警通知给告警接收人，同时将告警及恢复告警信息发送给边缘计算服务平台，边缘计算服务平台依据设备唯一标识，匹配到资源供应商，将通知发送至设备资源供应商，以便快速故障修复。所述资源类型包括但不限于设备状态、线路延迟、线路丢包率、线路上行速度、系统篡改及设备存储利用率等。所述告警通知方式包括但不限于微信，企业微信和短信等。步骤006：边缘计算管理平台设置调度任务，定时获取时序数据库边缘节点流量数据，对流量数据进行多维度汇算，提供实时、历史等时间维度查询，提供客户、设备和业务等不同业务等级查询，同时提供5分钟及日95峰值不同数据颗粒度查询。所述不同维度及颗粒度统计，主要用于解决不同资源供应商对PCDN网络流量定义的差异性，能满足多种流量统计付费方式。所述不同维度及颗粒度统计，也便于PCDN服务供应商和资源供应商快速分析边缘网络或边缘节点的运行情况。步骤007：运维人员可登录边缘计算管理平台管理业务资源，包括但不限于：资源供应商信息管理，业务方信息管理，平台账号权限管理，告警模板管理等。步骤008：运维人员可登录边缘计算管理平台管理边缘网络节点，包括但不限于：查看节点网络状态，查看节点流量状态，查看业务容器运行状态，执行容器调度命令，创建磁盘拓扑，定制化生成操作系统镜像，监控边缘节点运行状态，操作边缘节点操作系统升级及故障修复等，减少人工运维成本，提升运维质量及效率，规避运维误操作风险。步骤009：资源供应商可登录边缘计算服务平台，包括但不限于：绑定设备信息，修改设备信息，监测设备运行状态，查看流量统计及接收告警通知等，便于资源供应商实时感知设备异常，以达到快速故障恢复的效果。上述本发明方法以边缘节点操作系统为技术底座，组建大规模边缘网络，实现对边缘节点、资源供应商和PCDN服务供应商的高效管理，在降低70％运维工作量，降低50％的带宽成本的同时,提升网络服务质量，实现百万级在线设备稳定可靠。本发明还提供一种实现PCDN资源管理的装置，包括：至少一个存储器和至少一个处理器；所述至少一个存储器，用于存储机器可读程序；所述至少一个处理器，用于调用所述机器可读程序，执行所述的一种实现PCDN资源管理的方法。上述装置内的处理器的信息交互、执行过程等内容，由于与本发明方法实施例基于同一构思，具体内容可参见本发明方法实施例中的叙述，此处不再赘述。同样地，本发明装置可以用于在P2P内容分发网络领域，可以快速化、标准化搭建边缘节点，在降低带宽成本的同时，提升网络服务质量，规避运维风险，实现大型边缘网络的高效管理。其中资源供应商可通过登录边缘计算服务平台绑定设备信息，运维人员可通过登录边缘计算管理平台获取设备信息，远程操作设备安装操作系统，搭建边缘节点。边缘节点搭建成功后，资源供应商可登录边缘计算服务平台获取管理设备服务，如监测设备运行状态，查看流量统计及接收告警通知等，便于资源供应商实时感知设备异常，以达到快速故障恢复的效果。同时，运维人员可登录边缘计算管理平台管理边缘节点操作系统，处理边缘节点流量统计，监控边缘节点运行状态，操作边缘节点操作系统升级及故障修复等，减少人工运维成本，提升运维质量及效率，规避运维误操作风险。需要说明的是，上述各流程和各装置中不是所有的步骤和模块都是必须的，可以根据实际的需要忽略某些步骤或模块。各步骤的执行顺序不是固定的，可以根据需要进行调整。上述各实施例中描述的系统结构可以是物理结构，也可以是逻辑结构，即，有些模块可能由同一物理实体实现，或者，有些模块可能分由多个物理实体实现，或者，可以由多个独立设备中的某些部件共同实现。以上所述实施例仅是为充分说明本发明而所举的较佳的实施例，本发明的保护范围不限于此。本技术领域的技术人员在本发明基础上所作的等同替代或变换，均在本发明的保护范围之内。本发明的保护范围以权利要求书为准。
