标题title
一种寻找跨域路径的计算方法和装置
摘要abst
本发明公开了一种寻找跨域路径的计算方法和装置，计算方法包括：寻找源网元所在单域到宿网元所在单域的第一路径，将所述第一路径上的各个单域中的网元和路径组成网络拓扑；按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑；裁剪后合并所述网络拓扑中的剩余网元形成所述源网元至所述宿网元的跨域寻路矩阵，在所述跨域寻路矩阵中，计算得到所述源网元到所述宿网元的最短路径。本发明提供了在全局拓扑矩阵上获取跨域最短路径的方法，通过采用裁剪寻路矩阵的方法裁剪网络拓扑中的网元，解决了单域路由拼接无法高效得到跨域最短路径的问题，且提高了寻路效率，使得单域不感知跨域业务，方便了单域业务和跨域业务的管理。
权利要求书clms
1.一种寻找跨域路径的计算方法，其特征在于，计算方法包括：寻找源网元所在单域到宿网元所在单域的第一路径，将所述第一路径上的各个单域中的网元和路径组成网络拓扑；按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑；裁剪后合并所述网络拓扑中的剩余网元形成所述源网元至所述宿网元的跨域寻路矩阵，在所述跨域寻路矩阵中，计算得到所述源网元到所述宿网元的最短路径。2.如权利要求1所述的寻找跨域路径的计算方法，其特征在于，所述寻找源网元所在单域到宿网元所在单域的第一路径，将所述第一路径上的各个单域中的网元和路径组成网络拓扑，具体方法包括：以源网元所在单域为源域，以所述宿网元所在的单域为宿域，所述源域与所述宿域之间的单域为中间域，寻找所述源域经过所述中间域到达所述宿域的第一路径；所述第一路径上所述源域、所述宿域和所述中间域中的网元以及域间连纤构成所述网络拓扑，根据所述源网元、所述宿网元和所述中间域中的边界网元和按照所述单域内层级分布的交点网元裁剪所述网络拓扑，所述边界网元至少同时与两个相邻单域内的网元存在连纤，所述交点网元至少同时与两个相邻层级内的网元存在连纤，其中，单域的层级分为：接入层、汇聚层和核心层。3.如权利要求2所述的寻找跨域路径的计算方法，其特征在于，所述根据所述源网元、所述宿网元和所述中间域中的边界网元和按照所述单域内层级分布的交点网元裁剪所述网络拓扑，方法包括：若所述源网元处于所述源域的接入层，和/或，所述宿网元处于所述宿域中的接入层时，保留源网元和宿网元，将位于所述源域、所述宿域和所述中间域中核心层的所述边界网元保留；所述边界网元遍历所属单域内核心层的其余网元，判断所述边界网元与所属单域内核心层的其余网元是否存在路径，若存在路径，记录路径上的连纤，保留路径上的相应网元。4.如权利要求3所述的寻找跨域路径的计算方法，其特征在于，所述判断所述边界网元与所属单域内核心层的其余网元是否存在路径，方法还包括：若所述边界网元与所属单域内核心层的其余网元之间不存在路径，和/或，所述边界网元遍历到所述交点网元，所述边界网元停止遍历，并且裁剪与所述边界网元和所述交点网元不存在路径的网元。5.如权利要求4所述的寻找跨域路径的计算方法，其特征在于，所述裁剪与所述交点网元不存在路径的网元，方法包括：由所述交点网元向所述边界网元进行回溯，在回溯路径上对每个网元进行保留标记，回溯完成后，在与所述边界网元存在路径的网元中，若网元没有所述保留标记，则裁剪，若有保留标记，则保留。6.如权利要求3所述的寻找跨域路径的计算方法，其特征在于，所述按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑，方法还包括：将所述源域和所述宿域中位于接入层的其余网元进行裁剪，所述源域和所述宿域中位于汇聚层的网元保留，所述源域和所述宿域中位于汇聚层和核心层的交点网元保留；将所述中间域中位于核心层的边界网元以及位于汇聚层和核心层的交点网元保留，裁剪掉所述中间域中位于接入层的网元和汇聚层的其他网元。7.如权利要求2所述的寻找跨域路径的计算方法，其特征在于，所述按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑，方法还包括：若所述源网元处于所述源域的汇聚层，和/或，所述宿网元处于所述宿域中的汇聚层时，剪裁所述源域和所述宿域的接入层的所有网元和连纤，保留所述源域和所述宿域中核心层和汇聚层的网元和连纤。8.如权利要求2所述的寻找跨域路径的计算方法，其特征在于，所述按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑，方法还包括：若所述源网元处于所述源域的核心层，和/或，所述宿网元处于所述宿域中的核心层时，剪裁所述源域和所述宿域中位于接入层和汇聚层的所有网元和连纤，保留所述源域和所述宿域的核心层网元，保留所述源域和所述宿域的核心层与汇聚层的交点网元，以及所述源域和所述宿域的核心层网元与所述交点网元的连纤。9.如权利要求1所述的寻找跨域路径的计算方法，其特征在于，方法还包括：在所述源网元到所述宿网元的最短路径中，若业务端部接口类型不对称时，在所述业务端部接口上新建虚拟接口，所述虚拟接口与所述业务端部的接口的类型一致，同时所述虚拟接口与相邻的所述业务端部接口建立连纤，以便利用所述虚拟接口将所述业务端部的接口类型进行两端对称。10.一种寻找跨域路径的计算装置，其特征在于，装置包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述处理器设置为执行权利要求1-9任一所述的寻找跨域路径的计算方法。
说明书desc
技术领域本发明属于电信传输网的网络管控技术领域，更具体地，涉及一种寻找跨域路径的计算方法和装置。背景技术随着电信传输网的集约化的不断推进，电信运营商要求将省内各地市独立管理的网络管控系统集中到省中心机房，由一套网络管控系统进行统一管理，从而达到节省硬件资源、网络资源、人力资源等运维成本的目的。以前省内各地市独立部署网络管控系统，各地市的网络作为独立的单域进行管理；各地市独立地使用网络管控系统配置自己单域内的业务，为单域业务；与此同时，各地市单域之间也需要配置业务来提供地市之间数据的流通，这种业务称为跨域业务。在跨域业务管理过程中，网络管控系统存在的问题如下：一是各地市只在单域内进行了寻路，然后简单拼接单域路由形成跨域业务的路由，没有跨域层面上的端到端路由选择算法；各单域内最短路径之和并非跨域的端到端最短路径。实际上是局部最优解和全局最优解的问题，多个局部最优解之和无法保证是全局最优解的，原因是全局最优可以综合考虑多个局部数据，找到局部最优无法找到的解。而求全局最优解的问题在于算法效率。二是配置跨域业务时，一般是由各地市独立配置单域业务，然后在单域的边界点进行对通，在网络管控系统层面没有进行统一的端到端管理；三是跨域业务在单域内没有统一的模型，例如一端是用户侧接口，一端是网络侧接口，或者两端都是NNI，与普通单域业务的区别很大，不易管理。跨域业务会造成单域业务一端是UNI、一端是NNI或者两端都是NNI，这样的业务实际上在单域内是不完整的。鉴于此，克服该现有技术所存在的缺陷是本技术领域亟待解决的问题。发明内容针对现有技术的以上缺陷或改进需求，本发明提供了一种寻找跨域路径的计算方法和装置，其目的在于通过网络拓扑寻找跨域业务源端到宿端之间的最短路径，由此解决目前通过拼接单域路由的最短路径后得到跨域最短路由路径时效率低下、计算复杂的技术问题。作为对上述方案进一步的完善和补充，本发明还包括以下附加技术特征。为实现上述目的，按照本发明的一个方面，提供了一种寻找跨域路径的计算方法，方法包括：寻找源网元所在单域到宿网元所在单域的第一路径，将所述第一路径上的各个单域中的网元和路径组成网络拓扑；按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑；裁剪后合并所述网络拓扑中的剩余网元形成所述源网元至所述宿网元的跨域寻路矩阵，在所述跨域寻路矩阵中，计算得到所述源网元到所述宿网元的最短路径。优选地，所述寻找源网元所在单域到宿网元所在单域的第一路径，将所述第一路径上的各个单域中的网元和路径组成网络拓扑，具体方法包括：以源网元所在单域为源域，以所述宿网元所在的单域为宿域，所述源域与所述宿域之间的单域为中间域，寻找所述源域经过所述中间域到达所述宿域的第一路径；所述第一路径上所述源域、所述宿域和所述中间域中的网元以及域间连纤构成所述网络拓扑，根据所述源网元、所述宿网元和所述中间域中的边界网元和按照所述单域内层级分布的交点网元裁剪所述网络拓扑，所述边界网元至少同时与两个相邻单域内的网元存在连纤，所述交点网元至少同时与两个相邻层级内的网元存在连纤，其中，单域的层级分为：接入层、汇聚层和核心层。优选地，所述根据所述源网元、所述宿网元和所述中间域中的边界网元和按照所述单域内层级分布的交点网元裁剪所述网络拓扑，方法包括：若所述源网元处于所述源域的接入层，和/或，所述宿网元处于所述宿域中的接入层时，保留源网元和宿网元，将位于所述源域、所述宿域和所述中间域中核心层的所述边界网元保留；所述边界网元遍历所属单域内核心层的其余网元，判断所述边界网元与所属单域内核心层的其余网元是否存在路径，若存在路径，记录路径上的连纤，保留路径上的相应网元。优选地，所述判断所述边界网元与所属单域内核心层的其余网元是否存在路径，方法还包括：若所述边界网元与所属单域内核心层的其余网元之间不存在路径，和/或，所述边界网元遍历到所述交点网元，所述边界网元停止遍历，并且裁剪与所述边界网元和所述交点网元不存在路径的网元。优选地，所述裁剪与所述交点网元不存在路径的网元，方法包括：由所述交点网元向所述边界网元进行回溯，在回溯路径上对每个网元进行保留标记，回溯完成后，在与所述边界网元存在路径的网元中，若网元没有所述保留标记，则裁剪，若有保留标记，则保留。优选地，所述按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑，方法还包括：将所述源域和所述宿域中位于接入层的其余网元进行裁剪，所述源域和所述宿域中位于汇聚层的网元保留，所述源域和所述宿域中位于汇聚层和核心层的交点网元保留；将所述中间域中位于核心层的边界网元以及位于汇聚层和核心层的交点网元保留，裁剪掉所述中间域中位于接入层的网元和汇聚层的其他网元。优选地，所述按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑，方法还包括：若所述源网元处于所述源域的汇聚层，和/或，所述宿网元处于所述宿域中的汇聚层时，剪裁所述源域和所述宿域的接入层的所有网元和连纤，保留所述源域和所述宿域中核心层和汇聚层的网元和连纤。优选地，所述按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑，方法还包括：若所述源网元处于所述源域的核心层，和/或，所述宿网元处于所述宿域中的核心层时，剪裁所述源域和所述宿域中位于接入层和汇聚层的所有网元和连纤，保留所述源域和所述宿域的核心层网元，保留所述源域和所述宿域的核心层与汇聚层的交点网元，以及所述源域和所述宿域的核心层网元与所述交点网元的连纤。优选地，方法还包括：在所述源网元到所述宿网元的最短路径中，若业务端部接口类型不对称时，在所述业务端部接口上新建虚拟接口，所述虚拟接口与所述业务端部的接口的类型一致，同时所述虚拟接口与相邻的所述业务端部接口建立连纤，以便利用所述虚拟接口将所述业务端部的接口类型进行两端对称。按照本发明的另一方面，提供了一种寻找跨域路径的计算装置，装置包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述处理器设置为执行第一方面所述的寻找跨域路径的计算方法。总体而言，通过本发明所构思的以上技术方案与现有技术相比，具有如下有益效果：本发明提供了在全局拓扑矩阵上获取跨域最短路径的方法，通过采用裁剪寻路矩阵的方法裁剪网络拓扑中的网元，解决了单域路由拼接无法高效得到跨域最短路径的问题，且提高了寻路效率，使得单域不感知跨域业务，方便了单域业务和跨域业务的管理。附图说明图1是本实施例一中提供的一种寻找跨域路径的计算方法流程图；图2是本实施例一中提供的裁剪网络拓扑的方法流程图；图3是本实施例一中网络拓扑的示意图；图4是本实施例一中网络拓扑裁剪后的示意图；图5是本实施例一中网络拓扑裁剪后的示意图；图6是本实施例一中网络拓扑裁剪后的示意图；图7是本实施例一中新建虚拟端口的示意图；图8是本实施例二中提供的一种跨域寻找路径的计算装置示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。此外，下面所描述的本发明各个实施方式中所涉及到的技术特征只要彼此之间未构成冲突就可以相互组合。在本发明的描述中，术语“内”、“外”、“纵向”、“横向”、“上”、“下”、“顶”、“底”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明而不是要求本发明必须以特定的方位构造和操作，因此不应当理解为对本发明的限制。在本发明中，除非另有明确的规定和限定，第一特征在第二特征之“上”或之“下”可以包括第一和第二特征直接接触，也可以包括第一和第二特征不是直接接触而是通过它们之间的另外的特征接触。而且，第一特征在第二特征“之上”、“上方”和“上面”包括第一特征在第二特征正上方和斜上方，或仅仅表示第一特征水平高度高于第二特征。第一特征在第二特征“之下”、“下方”和“下面”包括第一特征在第二特征正下方和斜下方，或仅仅表示第一特征水平高度小于第二特征。实施例一：本实施例一提供一种寻找跨域路径的计算方法，如图1所示，方法包括以下步骤：S101:寻找源网元所在单域到宿网元所在单域的第一路径，将所述第一路径上的各个单域中的网元和路径组成网络拓扑。以源网元所在单域为源域，以宿网元所在的单域为宿域，源域与宿域之间的单域为中间域，寻找源域经过中间域到达宿域的第一路径；第一路径上源域、宿域和中间域中的网元以及域间连纤构成网络拓扑，按照源网元、宿网元和中间域中的边界网元分别位于所属单域的层级裁剪网络拓扑，边界网元至少同时与两个单域存在连纤，其中，单域的层级分为：接入层、汇聚层和核心层。S102:按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑。裁剪所述网络拓扑，裁剪后合并所述网络拓扑中的剩余网元形成所述源网元至所述宿网元的跨域寻路矩阵。若所述源网元处于所述源域的接入层，且所述宿网元处于所述宿域中的接入层时，保留源网元和宿网元，将位于所述源网元、所述宿网元和所述中间域中核心层的所述边界网元保留，判断位于所述源网元、所述宿网元和所述中间域中核心层的其余网元是否与所述边界网元之间存在连纤，若存在连纤，则保留，若不存在连纤，则裁剪。若所述源网元处于所述源域的汇聚层，且所述宿网元处于所述宿域中的汇聚层时，剪裁源域接入层所有网元和连纤，剪裁宿域接入层所有网元和连纤，保留源域和宿域其他网元和连纤。若所述源网元处于所述源域的核心层，且所述宿网元处于所述宿域中的核心层时，剪裁源域接入层、汇聚层所有网元和连纤，剪裁宿域接入层、汇聚层所有网元和连纤，保留源域和宿域核心层网元和连纤。注意，位于核心层和汇聚层的交点网元需要保留。S103:裁剪后合并所述网络拓扑中的剩余网元形成所述源网元至所述宿网元的跨域寻路矩阵，在所述跨域寻路矩阵中，计算得到所述源网元到所述宿网元的最短路径。将网络拓扑中各个单域的不必要的网元裁减掉之后，合并剩余网元形成源网元至宿网元的跨域寻路矩阵，在跨域寻路矩阵中计算得到源网元到宿网元的最短路径。源网元至宿网元的跨域最短路径计算方法，解决单域路由拼接无法高效得到跨域最短路径的问题，且采用了寻路矩阵裁剪的方法提高了寻路效率；本方法提供跨域业务在单域内作为普通单域业务管理的方法，使得单域不感知跨域业务，方便了单域业务的管理，且建立了跨域业务的端到端业务模型，方便了跨域业务的端到端管理，同时解决了单域最短路径拼接的跨域路径无法保证是全局最短路径的问题。本实施例一中，为了在单域中以网络拓扑的分层结构裁剪网元以提高源网元至宿网元之间各个单域内网元和连纤的选择效率，结合本发明实施例，还存在一种优选的实现方案，具体的，所述寻找源网元所在单域到宿网元所在单域的第一路径，将所述第一路径上的各个单域中的网元和连纤组成网络拓扑，具体方法包括：以源网元所在单域为源域，以所述宿网元所在的单域为宿域，所述源域与所述宿域之间的单域为中间域，寻找所述源域经过所述中间域到达所述宿域的第一路径；所述第一路径上所述源域、所述宿域和所述中间域中的网元以及域间连纤构成所述网络拓扑，根据所述源网元、所述宿网元和所述中间域中的边界网元和按照所述单域内层级分布的交点网元裁剪所述网络拓扑，所述边界网元至少同时与两个相邻单域内的网元存在连纤，所述交点网元至少同时与两个相邻层级内的网元存在连纤，其中，单域的层级分为：接入层、汇聚层和核心层。单域的层级按照三层网络结构分为接入层、汇聚层和核心层，三层网络架构设计的网络层次分别为：核心层、汇聚层、接入层。核心层是网络的枢纽中心，重要性突出。核心层设备采用双机冗余热备份是非常必要的，也可以使用负载均衡功能，来改善网络性能。网络的控制功能最好尽量少在骨干层上实施。核心层一直被认为是所有流量的最终承受者和汇聚者，所以对核心层的设计以及网络设备的要求十分严格。核心层设备将占投资的主要部分。汇聚层是在工作站接入核心层前先做汇聚，以减轻核心层设备的负荷。汇聚层必须能够处理来自接入层设备的所有通信量，并提供到核心层的上行路径，因此汇聚层交换机与接入层交换机比较，需要更高的性能，更少的接口和更高的交换速率。汇聚层具有实施策略、安全、工作组接入、虚拟局域网之间的路由、源地址或目的地址过滤等多种功能。接入层是允许终端用户连接到网络，因此接入层交换机具有低成本和高端口密度特性。接入层是最终用户与网络的接口，接入层为用户提供了在本地网段访问应用系统的能力，主要解决相邻用户之间的互访需求，并且为这些访问提供足够的带宽，接入层还应当适当负责一些用户管理功能以及用户信息收集工作。本实施例一中，为了提高源网元与宿网元之间的寻路效率，结合本发明实施例，还存在一种优选的实现方案，具体的，所述按照各个单域中的网元分别位于所属单域的层级以及连纤裁剪所述网络拓扑，如图2所示，方法包括以下步骤：S201:若所述源网元处于所述源域的接入层，和/或，所述宿网元处于所述宿域中的接入层时，保留源网元和宿网元，将位于所述源域、所述宿域和所述中间域中核心层的所述边界网元保留。如图3所示，假设源域为A域，源网元为接入层的A8，宿域为C域，宿网元为接入层的C8，中间域为B域，边界网元为A2、B1、B2和C1，交点网元为A3、A4、A5、B3、B4、B5、C3、C4和C5，首先保留A8、C8、A2、B1、B2和C1。S202:所述边界网元遍历所属单域内核心层的其余网元，判断所述边界网元与所属单域内核心层的其余网元是否存在路径，若存在路径，记录路径上的连纤，保留路径上的相应网元。如图3所示，A域、B域和C域中的所有网元和它们之间的连纤，构成各个单域内的寻路矩阵。将寻路矩阵划分为接入层、汇聚层、核心层，对各层网元以及网元之间的路径建立寻路子矩阵。A域建立的接入层子矩阵包含A5、A7和A8网元以及相互之间的路径；汇聚层子矩阵包含A3、A4、A6网元以及相互之间的路径；核心层子矩阵包含A1、A2、A9至A15网元以及相互之间的路径。B域建立的接入域子矩阵包含B5、B7、B8网元以及相互之间的路径；汇聚域子矩阵包含B3、B4、B6网元以及相互之间的路径；核心域子矩阵包含B1和B2网元以及相互之间的路径。C域建立的接入域子矩阵包含C5、C7、C8网元以及相互之间的路径；汇聚域子矩阵包含C3、C4、C6网元以及相互之间的路径；核心域子矩阵包含C1和C2网元以及相互之间的路径。例如A域内的边界网元有A2和A3，A2位于核心层中，A3位于核心层和汇聚层的相交处，从A2开始遍历A域核心层的其余网元，判断是否存在路径，A9、A10、A11、A12、A13和A14与边界网元A2之间存在路径，记录路径上的连纤并保留网元A9、A10、A11、A12、A13和A14。本实施例一中，为了将源域、宿域和中间域中核心层的交点网元保留，结合本发明实施例，还存在一种优选的实现方案，具体的，如图3所示，所述判断所述边界网元与所属单域内核心层的其余网元是否存在路径，方法还包括以下步骤：S203:若所述边界网元与所属单域内核心层的其余网元之间不存在路径，和/或，所述边界网元遍历到所述交点网元，所述边界网元停止遍历，并且裁剪与所述边界网元和所述交点网元不存在路径的网元。如图4所示，边界网元A2遍历A域核心层的其余网元后，边界网元A2与A15之间不存在连纤，边界网元A2停止遍历，A15被裁剪，并且在边界网元A2遍历到A域的交点网元A3时，边界网元A2也停止遍历，记录边界网元A2到边界网元A3连纤的路径以及路径上的网元。本实施例一中，为了裁剪掉位于交点网元和边界网元路径之外的网元，以提高源网元与宿网元之间的寻路效率，结合本发明实施例，还存在一种优选的实现方案，具体的，所述裁剪与所述交点网元不存在路径的网元，方法包括：S204:由所述交点网元向所述边界网元进行回溯，在回溯路径上对每个网元进行保留标记，回溯完成后，在与所述边界网元存在路径的网元中，若网元没有所述保留标记，则裁剪，若有保留标记，则保留。如图3所示，在边界网元A2到交点网元A3连纤的路径中，由交点网元A3向边界网元A2进行回溯，在回溯路径上对网元A13、A11、A10、A9进行保留标记，在S202步骤保留的网元中A9、A10、A11、A12、A13和A14，裁剪掉A12和A14。本实施例一中，为了进一步提高网络拓扑中的寻路效率，结合本发明实施例，还存在一种优选的实现方案，具体的，所述按照各个单域中的网元分别位于所属单域的层级以及路径裁剪所述网络拓扑，方法还包括以下步骤：S205:将所述源域和所述宿域中位于接入层的其余网元进行裁剪，所述源域和所述宿域中位于汇聚层的网元保留，所述源域和所述宿域中位于汇聚层和核心层的交点网元保留。如图4所示，A域接入层的A5和A7网元进行裁剪，C域接入层的C5和C7网元进行裁剪，A域和C域位于汇聚层的网元保留。S206:将所述中间域中位于核心层的边界网元以及位于汇聚层和核心层的交点网元保留，裁剪掉所述中间域中位于接入层的网元和汇聚层的其他网元。如图4所示，中间域的B域中保留边界网元B1和B2、交点网元B3和B4，裁剪B5、B6、B7和B8。S207:合并网络拓扑中的剩余网元形成源网元至宿网元的跨域寻路矩阵，在跨域寻路矩阵中，计算得到源网元到宿网元的最短路径。图4为合并网络拓扑中的剩余网元形成的跨域寻路矩阵，在跨域寻路矩阵中再计算得到源网元到宿网元的最短路径。本实施例一中，为了适应源网元、宿网元位于所属单域汇聚层的裁剪情况，结合本发明实施例，还存在一种优选的实现方案，具体的，所述按照各个单域中的网元分别位于所属单域的层级以及连纤裁剪所述网络拓扑，方法还包括：若所述源网元处于所述源域的汇聚层，和/或，所述宿网元处于所述宿域中的汇聚层时，剪裁所述源域和所述宿域的接入层的所有网元和连纤，保留所述源域和所述宿域中核心层和汇聚层的网元和连纤。假如源网元为A域的A3，宿网元为C域的C3，剪裁A域和C域接入层的网元和连纤，裁剪后的跨域寻路矩阵如图5所示。其中，A15与A域中的其他网元均不存在连纤，将A15进行裁剪。在跨域寻路矩阵中再计算得到源网元到宿网元的最短路径。由于源网元A3和宿网元C3已经是汇聚层网元，无需再到接入层的网元然后再上汇聚层，因此剪裁源域和宿域接入层的所有网元和连纤。本实施例一中，为了适应源网元、宿网元位于所属单域核心层的裁剪情况，结合本发明实施例，还存在一种优选的实现方案，具体的，所述按照各个单域中的网元分别位于所属单域的层级以及连纤裁剪所述网络拓扑，方法包括：若所述源网元处于所述源域的核心层，和/或，所述宿网元处于所述宿域中的核心层时，剪裁所述源域和所述宿域中位于接入层和汇聚层的所有网元和连纤，保留所述源域和所述宿域的核心层网元，保留所述源域和所述宿域的核心层与汇聚层的交点网元，以及所述源域和所述宿域的核心层网元与所述交点网元的连纤。假如源网元为A域的A1，宿网元为C域的C1，剪裁A域和C域中位于接入层和汇聚层的所有网元和连纤，裁剪后的跨域寻路矩阵如图6所示。其中，A15与A域中的其他网元均不存在连纤，将A15进行裁剪。在跨域寻路矩阵中再计算得到源网元到宿网元的最短路径。由于源网元A1和宿网元C1已经是核心层网元，无需下到汇聚层甚至接入层再上到汇聚层和核心层，因此剪裁源域和宿域中位于接入层和汇聚层的所有网元和连纤。保留所述源域和所述宿域的核心层网元以及核心层与汇聚层的交点网元A3、A4、C3和C4，以及所述源域和所述宿域的核心层网元与所述交点网元的连纤。如果源网元和宿网元没有同时位于核心层、汇聚层或接入层时，例如源网元为A8，宿网元为C2时，源网元A8就按照源网元在接入层剪裁，C2就按照宿网元在核心层剪裁，裁剪步骤如上述。本实施例一中，为了解决在两端端口类型不对称时进行寻路的情况，结合本发明实施例，还存在一种优选的实现方案，具体的，如图7所示，方法还包括：在所述源网元到所述宿网元的最短路径中，若业务端部接口类型不对称时，在所述业务端部接口上新建虚拟接口，所述虚拟接口与所述业务端部的接口的类型一致，同时所述虚拟接口与相邻的所述业务端部接口建立连纤，以便利用所述虚拟接口将所述业务端部的接口类型进行两端对称。如图7所示，从网元A1的UNI配置一条跨域业务Business-1到网元C2的UNI，假设经过以上的寻路步骤后，路径为LK1＝。此Business-1在各单域内均有单域业务与之对应，设域A、B、C内的单域业务分别为Business-1-A、Business-1-B、Business-1-C，则Business-1可以表示为Business-1＝，此时可以从图7中看出各单域业务端口并不对称。例如单域业务Business-1-A，其路径LA1一端是源网元A1的UNI，一端是出边界点网元A2；出边界点网元A2由于是连纤端，没有UNI只有NNI；此时在出边界点网元A2的接口处新建虚拟接口，且虚拟接口的端口类型与源网元A1的端口类型对称，均为UNI，同时新设虚连纤Link-AB-1，以保证Business-1-A业务端口类型的对称性。例如单域业务Business-1-B，其路径LB1两端都是边界点，入边界点B1和出边界点B2，端口类型为NNI；此时在B1端和B2端的接口处新建虚拟接口，虚拟接口的端口类型与源网元A1的端口类型对称，均为UNI，同时虚拟接口与A域以及C域业务端部接口建立虚拟连纤与A域以及C域建立跨域联系，同时保证了Business-1-B业务端口类型的对称性。例如单域业务Business-1-C，其路径LC1一端是宿网元C2的UNI，一端是入边界点网元C1；入边界点网元C1由于是连纤端，没有UNI只有NNI；此时在入边界点网元C1的接口处新建虚拟接口，且虚拟接口的端口类型与宿网元C2的端口类型对称，均为UNI，同时新设虚连纤Link-BC-1，以保证Business-1-C业务端口类型的对称性。实施例二：本实施例二提供一种寻找跨域路径的计算装置，装置包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述处理器设置为执行实施例一所述的寻找跨域路径的计算方法。本实施例二中，寻找跨域路径的计算装置包括一个或多个处理器21以及存储器22。其中，图8中以一个处理器21为例。处理器21和存储器22可以通过总线或者其他方式连接，图8中以通过总线连接为例。存储器22作为一种非易失性计算机可读存储介质，可用于存储非易失性软件程序和非易失性计算机可执行程序，如实施例一中的寻找跨域路径的计算方法。处理器21通过运行存储在存储器22中的非易失性软件程序和指令，从而执行寻找跨域路径的计算装置。存储器22可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他非易失性固态存储器件。在一些实施例中，存储器22可选包括相对于处理器21远程设置的存储器，这些远程存储器可以通过网络连接至处理器21。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。所述程序指令/模块存储在所述存储器22中，当被所述一个或者多个处理器21执行时，执行上述实施例一寻找跨域路径的计算方法，例如，执行以上描述的图1和图2所示的各个步骤。值得说明的是，上述装置和系统内的模块、单元之间的信息交互、执行过程等内容，由于与本发明的处理方法实施例基于同一构思，具体内容可参见本发明方法实施例中的叙述，此处不再赘述。本领域普通技术人员可以理解实施例的各种方法中的全部或部分步骤是可以通过程序来指令相关的硬件来完成，该程序可以存储于一计算机可读存储介质中，存储介质可以包括：只读存储器、随机存取存储器、磁盘或光盘等。本领域的技术人员容易理解，以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
