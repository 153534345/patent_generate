标题title
一种基于实时信息的城市电网电动汽车协同调控方法及系统
摘要abst
一种基于实时信息的城市电网电动汽车协同调控方法及系统，方法包括：首先开发参数化聚合EV充电模型，使用能量边界来表示充电灵活性，其次利用优劣解距离方法对接入电网电动汽车的充电优先级进行排序，最后以日前调度结果为参考，建立日内有功出力修正量偏差平方和最小的目标函数，基于充电优先级实现电动汽车充电功率分配。本发明提出的基于实时信息的城市电网电动汽车协同调控方法及系统，可对电动汽车聚合群体的充电需求、能量边界进行分析，减少电动汽车出行不确定性对日前调度计划的影响。
权利要求书clms
1.一种基于实时信息的城市电网电动汽车协同调控方法，其特征在于，所述协同调控方法为：具体包括以下步骤：步骤1，采集历史电动汽车快速充电与慢速充电时的能量变化；步骤2，根据日前电动汽车预测信息，生成单个电动汽车的能量边界，聚合单个电动汽车的能量边界得到电动汽车聚合群体的能量边界，并基于采集的电动汽车实时信息，得到电动汽车群体的实际能量边界；步骤3，根据步骤2确定的电动汽车聚合群体的能量边界，以电动车群体总负荷曲线波动最小作为日前调度的优化目标，得到日前调度计划Pplan；步骤4，利用聚合充电功率分布和日前调度计划建立目标函数；步骤5，计算单个电动汽车每个属性的正理想解和负理想解其中，单个电动汽车的属性包括：剩余充电量，已停留时间，剩余充电时间；步骤6，通过计算电动汽车属性的取值与正负理想解之间的距离计算充电优先级并进行电动汽车功率分配。2.根据权利要求1所述的基于实时信息的城市电网电动汽车协同调控方法，其特征在于，在所述步骤1和3中，所采集的历史数据以及实时信息包括电动汽车电池容量，充电桩在充电时间内的效率。3.根据权利要求1所述的基于实时信息的城市电网电动汽车协同调控方法，其特征在于，步骤2中，单个电动汽车快速充电过程的能量上边界满足如下关系式：单个电动汽车慢速充电过程的能量下边界满足如下关系式：式中，表示第i辆电动汽车的电池容量，ηc表示充电桩效率，Prated表示单个电动汽车的额定功率，ΔT表示充电过程的时长，t表示当前时刻，表示电动汽车离开时需要的电池容量，表示电动汽车离开时间，单个电动汽车的能量上边界和能量下边界之间的空间中，以任一单调非递减曲线表征了单个电动汽车的充电解决方案。4.根据权利要求3所述的基于实时信息的城市电网电动汽车协同调控方法，其特征在于，步骤2中，电动汽车聚合群体的能量边界满足如下关系式：式中，表示第i辆电动汽车的能量上边界，表示第i辆电动汽车的能量下边界，ta,min表示每个时间间隔，a＝0,1…d，td,max表示第d个时间间隔，Nt表示所有电动汽车的总数；电动汽车聚合群体的能量上边界E+即为能量下边界E-即为电动汽车聚合群体的能量上边界和能量下边界之间的空间中，以任一单调非递减曲线表征了电动汽车聚合群体的充电解决方案。5.根据权利要求4所述基于实时信息的城市电网电动汽车协同调控方法，其特征在于，在步骤3中，以电动汽车聚合群体的能量上边界和能量下边界之间的空间中的任一单调非递减曲线E表征电动汽车聚合群体的充电解决方案，并且电动汽车聚合群体充电功率分布满足如下关系式：式中，P表示电动汽车聚合群体充电功率分布，E表示单调非递减曲线上t时刻对应的数值，t0表示聚合充电的初始时刻，t0+H表示聚合充电的结束时刻。6.根据权利要求5所述的基于实时信息的城市电网电动汽车协同调控方法，其特征在于，步骤4中，目标函数为：利用每一时间间隔内电动汽车聚合群体充电功率分布以及日前调度计划的差值平方和得到电动汽车聚合群体的充电功率。7.根据权利要求6所述的基于实时信息的城市电网电动汽车协同调控方法，其特征在于，在步骤5中，根据单个电动汽车的当前SOC和电动汽车离开时的期望SOC，结合电池容量计算剩余充电量：ai,1＝×E式中，ai,1表示剩余充电量指标，SOCi,except表示第i辆电动汽车开始时刻的期望SOC，SOCi,now表示第i辆电动汽车的当前SOC，E表示电动汽车的能量功率；根据单个电动汽车的当前时间和到达时间，计算已停留时间：ai,2＝t-tarrival式中，ai,2表示已停留时间指标，tarrival表示电动汽车的到达时间；根据单个电动汽车的当前时间和预计离开时间，计算剩余充电时间：ai,3＝tleave-t式中，ai,3表示剩余充电时间指标，tleave表示电动汽车的预计离开时间。8.根据权利要求7所述的基于实时信息的城市电网电动汽车协同调控方法，其特征在于，正理想解与负理想解分别满足如下关系式：式中，表示正理想解与单个电动汽车的第j个属性的最大值有关，表示正理想解与单个电动汽车的第j个属性的最小值有关；N表示任一属性的取值的总个数；C表示规范加权矩阵，C＝WBW为权重向量，根据指标的重要程度进行赋值。9.根据权利要求8所述的基于实时信息的城市电网电动汽车协同调控方法，其特征在于，在步骤6中，分别计算电动汽车的第i个属性的取值与正理想解之间的距离以及电动汽车第i个属性与负理想解之间的距离：式中，表示电动汽车第i个属性与其对应正理想解之间的距离；表示电动汽车第i个属性与其对应负理想解之间的距离；M表示所有属性的总数，在本发明中M的值为3。10.根据权利要求9所述的基于实时信息的城市电网电动汽车协同调控方法，其特征在于，以如下关系式计算电动汽车的充电优先级：以如下关系式基于充电优先级的功率分配：。11.基于权利要求1-10任意一项所述的实时信息的城市电网电动汽车协同调控方法而实现的基于实时信息的城市电网电动汽车协同调控系统，其特征在于，所述协同调控系统包括数据采集模块、电动汽车聚合群体的能量边界计算模块、日前调度计划模块、目标函数构建模块、正负理想求解模块以及功率分配模块；所述数据采集模块采集的数据包括电动汽车电池容量，充电桩在充电时间内的效率，并将采集的数据输入至电动汽车聚合群体的能量边界计算模块；电动汽车聚合群体的能量边界计算模块根据接受的数据计算单个电动汽车的能量边界数值后再计算聚合群体的能量边界数值，并将计算结果输入至日前调度计划模块；日前调度计划模块根据边界数值制定日前调度计划，并将制定好的计划输入至目标函数构建模块；目标函数构建模块根据日前调度计划模块输入的结果构建目标函数，并将目标函数输入至正负理想求解模块；正负理想求解模块计算正负理想解，并将求得的解值输入至功率分配模块；功率分配模块根据计算电动汽车充电优先级，并根据充电优先级对电动汽车进行充电。
说明书desc
技术领域本发明属于电力系优化运行领域，具体涉及一种基于实时信息的城市电网电动汽车协同调控方法及系统。背景技术规模化电动汽车既可作为用户侧的柔性负荷，又可作为分布式储能资源，协同调节电网用电负荷，削峰填谷，为电网提供辅助服务。电动汽车规模化接入具备的随机性、波动性、移动性导致城市电网运行方式多变、局部设备负载加重以及供电能力不足等问题日益突出。原有电网集中调度、直接控制、“日前-时前-实时”的传统模式难以适应规模化电动汽车接入的需求，需要根据电动汽车实时信息对电网调度日前计划进行修正，以支撑城市电网电动汽车协同调控，从而进一步提升城市电网调控能力，促进“双碳”目标的实现。发明内容为解决现有技术中存在的不足，本发明的目的在于，提供一种基于实时信息的城市电网电动汽车协同调控方法及系统。本发明采用如下的技术方案：一种基于实时信息的城市电网电动汽车协同调控方法，所述基于实时信息的城市电网电动汽车协同调控方法具体包括以下步骤：步骤1，采集历史电动汽车快速充电与慢速充电时的能量变化；步骤2，根据日前电动汽车预测信息，生成单个电动汽车的能量边界，聚合单个电动汽车的能量边界得到电动汽车聚合群体的能量边界，并基于采集的电动汽车实时信息，得到电动汽车群体的实际能量边界；步骤3，根据步骤2确定的电动汽车聚合群体的能量边界，以电动车群体总负荷曲线波动最小作为日前调度的优化目标，得到日前调度计划Pplan；步骤4，利用聚合充电功率分布和日前调度计划建立目标函数；步骤5，计算单个电动汽车每个属性的正理想解和负理想解其中，单个电动汽车的属性包括：剩余充电量，已停留时间，剩余充电时间；步骤6，通过计算电动汽车属性的取值与正负理想解之间的距离计算充电优先级并进行电动汽车功率分配。在所述步骤1和3中，所采集的历史数据以及实时信息包括电动汽车电池容量，充电桩在充电时间内的效率。步骤2中，单个电动汽车快速充电过程的能量上边界满足如下关系式：单个电动汽车慢速充电过程的能量下边界满足如下关系式：式中，表示第i辆电动汽车的电池容量，ηc表示充电桩效率，Prated表示单个电动汽车的额定功率，ΔT表示充电过程的时长，t表示当前时刻，表示电动汽车离开时需要的电池容量，表示电动汽车离开时间，单个电动汽车的能量上边界和能量下边界之间的空间中，以任一单调非递减曲线表征了单个电动汽车的充电解决方案。步骤2中，电动汽车聚合群体的能量边界满足如下关系式：式中，表示第i辆电动汽车的能量上边界，表示第i辆电动汽车的能量下边界，ta,min表示每个时间间隔，a＝0,1…d，td,max表示第d个时间间隔，Nt表示所有电动汽车的总数；电动汽车聚合群体的能量上边界E+即为能量下边界E-即为电动汽车聚合群体的能量上边界和能量下边界之间的空间中，以任一单调非递减曲线表征了电动汽车聚合群体的充电解决方案。在步骤3中，以电动汽车聚合群体的能量上边界和能量下边界之间的空间中的任一单调非递减曲线E表征电动汽车聚合群体的充电解决方案，并且电动汽车聚合群体充电功率分布满足如下关系式：式中，P表示电动汽车聚合群体充电功率分布，E表示单调非递减曲线上t时刻对应的数值，t0表示聚合充电的初始时刻，t0+H表示聚合充电的结束时刻。步骤4中，目标函数为：利用每一时间间隔内电动汽车聚合群体充电功率分布以及日前调度计划的差值平方和得到电动汽车聚合群体的充电功率。在步骤5中，根据单个电动汽车的当前SOC和电动汽车离开时的期望SOC，结合电池容量计算剩余充电量：ai,1＝×E式中，ai,1表示剩余充电量指标，SOCi,except表示第i辆电动汽车开始时刻的期望SOC，SOCi,now表示第i辆电动汽车的当前SOC，E表示电动汽车的能量功率；根据单个电动汽车的当前时间和到达时间，计算已停留时间：ai,2＝t-tarrival式中，ai,2表示已停留时间指标，tarrival表示电动汽车的到达时间；根据单个电动汽车的当前时间和预计离开时间，计算剩余充电时间：ai,3＝tleave-t式中，ai,3表示剩余充电时间指标，tleave表示电动汽车的预计离开时间。正理想解与负理想解分别满足如下关系式：式中，表示正理想解与单个电动汽车的第j个属性的最大值有关，表示正理想解与单个电动汽车的第j个属性的最小值有关；N表示任一属性的取值的总个数；C表示规范加权矩阵，C＝WBW为权重向量，根据指标的重要程度进行赋值。在步骤6中，分别计算电动汽车的第i个属性的取值与正理想解之间的距离以及电动汽车第i个属性与负理想解之间的距离：式中，表示电动汽车第i个属性与其对应正理想解之间的距离；表示电动汽车第i个属性与其对应负理想解之间的距离；M表示所有属性的总数，在本发明中M的值为3。以如下关系式计算电动汽车的充电优先级：以如下关系式基于充电优先级的功率分配：本发明还公开了基于实时信息的城市电网电动汽车协同调控系统，包括数据采集模块、电动汽车聚合群体的能量边界计算模块、日前调度计划模块、目标函数构建模块、正负理想求解模块以及功率分配模块；数据采集模块采集的数据包括电动汽车电池容量，充电桩在充电时间内的效率，并将采集的数据输入至电动汽车聚合群体的能量边界计算模块；电动汽车聚合群体的能量边界计算模块根据接受的数据计算单个电动汽车的能量边界数值后再计算聚合群体的能量边界数值，并将计算结果输入至日前调度计划模块；日前调度计划模块根据边界数值制定日前调度计划，并将制定好的计划输入至目标函数构建模块；目标函数构建模块根据日前调度计划模块输入的结果构建目标函数，并将目标函数输入至正负理想求解模块；正负理想求解模块计算正负理想解，并将求得的解值输入至功率分配模块；功率分配模块根据计算电动汽车充电优先级，并根据充电优先级对电动汽车进行充电。本发明的有益效果在于，与现有技术相比，提出了一个基于实时信息的参数化聚合EV充电模型，使用能量边界来表示充电灵活性；利用优劣解距离方法对接入电网电动汽车的充电优先级进行排序，在减少电动汽车出行不确定性对日前调度计划影响的同时，实现日内有功出力修正量偏差平方和最小。提高了原本日前优化的精度，加入了日内即实时优化的成分，节约了调度时间的同时提高了实时性与准确性。附图说明图1为本发明的基于实时信息的城市电网电动汽车协同调控方法的步骤框图；图2为本发明一实施中日前电动汽车群体能量边界及调度计划；图3为本发明一实施中基于实时信息的调度计划修正。具体实施方式下面结合附图对本申请作进一步描述。以下实施例仅用于更加清楚地说明本发明的技术方案，而不能以此来限制本申请的保护范围。如图1所示，本发明公开了一种基于实时信息的城市电网电动汽车协同调控方法及系统，具体方法为：先通过计算历史能量边界得到日前调度计划，然后基于实时信息再次得到电动汽车日内有功出力目标函数，计算正负理想解，最后进行功率分配；该电动汽车协同调控方法包括如下步骤：步骤1，采集电动汽车快速充电与慢速充电时的能量数据变化；所采集的能量包括电动汽车电池容量，充电桩在充电时间内的效率；步骤2，根据日前电动汽车预测信息，生成单个电动汽车的能量边界，聚合群体的能量边界并基于实时信息，得到电动汽车群体的实际能量边界：在本实施例中，电动汽车预测信息为充电桩效率、充电过程时长以及电动汽车离开充电桩时需要的电池容量。表示单个电动汽车快速充电过程的能量上边界：表示单个电动汽车慢速充电过程的能量下边界：其中表示第i辆电动汽车的电池容量，ηc表示充电桩效率，Prated表示单个电动汽车的额定功率，ΔT表示充电过程的时长，t表示当前时刻，表示电动汽车离开充电桩时需要的电池容量，表示离开时间。上下能量边界之间的空间表征了EV充电的灵活性，中间的任何单调非递减曲线代表了EV可能的充电解决方案。生成电动汽车聚合群体的能量边界其中，表示第i辆电动汽车的能量上边界，表示第i辆电动汽车的能量下边界，ta,min表示每个时间间隔，a＝0,1…d，td,max表示所有时间间隔总数，Nt表示所有电动汽车的总和；电动汽车聚合群体的能量上边界E+即为能量下边界E-即为步骤3：根据步骤2确定的能量边界，以总负荷曲线波动最小作为日前调度的优化目标：其中，PL为在时间段t内的常规负荷值；P表示聚合充电功率值；Pav为每日平均负荷值；ta,min表示每个时间间隔，a＝0,1…d,td,max表示所有时间间隔总数；介于两者之间的任何单调非递减曲线E代表可能解决方案，并且聚合充电功率分布可归纳为：其中，P表示聚合充电功率值，E表示单调非递减曲线上t时刻对应的数值；t0表示聚合充电的初始时刻，t0+H表示聚合充电的结束时刻。采用灰狼算法进行求解，得到最优的日前调度计划Pplan。本领域的技术人员可以根据实际情况确定聚合充电功率分布的求取方法，本实施例提出的仅为一优选方式，不能成为对本发明保护范围的必然限制。步骤4：建立日内有功出力实际值和调度计划偏差平方和最小的目标函数：从而得到基于实际信息的每一时间间隔内的电动汽车群体的充电功率。其中，ta,min表示每个时间间隔，a＝0,1…d,td,max表示所有时间间隔总数，P表示聚合充电功率分布；步骤5：对每一个时间间隔，基于实时信息，计算以下3个属性，具体过程如下：根据当前SOC，离开时的期望SOC，电池容量计算剩余充电量指标a1：ai,1＝×E其中，SOCi,except表示第i辆电动汽车开始时刻的期望SOC，SOCi,now表示第i辆电动汽车当前时刻的期望SOC；E表示电动汽车的能量功率；根据当前时间和到达时间，计算已停留时间指标a2：ai,2＝t-tarrival其中，tarrival表示电动汽车到达时刻；根据当前时间和预计离开时间，计算剩余充电时间指标a3：ai,3＝tleave-t其中，tleave表示电动汽车离开时刻；构建已停N辆电动汽车的属性评估矩阵A对矩阵A进行标准化、归一化处理，得到矩阵B根据不同指标的重要程度，确定权重向量WW＝{w1,w2,w3}从而得到规范加权矩阵C计算电动汽车每个属性的正/负理想解，确定每个属性的正理想解和负理想解本领域技术人员可以根据实际情况确定属性个数与具体内容，以上给出的仅为一具体实施例，不能成为对本发明保护范围的必然限制。其中，表示正理想解取决于该属性的最大值，表示正理想解取决于该属性的最小值；N表示电动汽车数量；j表示属性个数；步骤6：计算充电优先级并进行电动汽车功率分配；计算基于充电电动汽车与正理想解之间的距离以及电动汽车与负理想解之间的距离：M表示所有属性的总数；计算电动汽车的充电优先级：基于充电优先级的功率分配：本发明还公开了一种基于实时信息的城市电网电动汽车协同调控系统，包括数据采集模块、电动汽车聚合群体的能量边界计算模块、日前调度计划模块、目标函数构建模块、正负理想求解模块以及功率分配模块；数据采集模块采集的数据包括电动汽车电池容量，充电桩在充电时间内的效率，并将采集的数据输入至电动汽车聚合群体的能量边界计算模块；电动汽车聚合群体的能量边界计算模块根据接受的数据计算电动汽车聚合群体的能量边界数值，并将计算结果输入至日前调度计划模块；日前调度计划模块根据边界数值制定日前调度计划，并将制定好的计划输入至目标函数构建模块；目标函数构建模块根据日前调度计划模块输入的结果构建目标函数，并将目标函数输入至正负理想求解模块；正负理想求解模块计算正负理想解，并将求得的解值输入至功率分配模块；功率分配模块计算电动汽车充电优先级，并根据充电优先级对电动汽车进行充电。因此，本发明进行日前优化，得到日前调度计划，然后基于实时信息再次得到电动汽车聚合曲线，进行日内优化对调度曲线进行调整，最后进行功率分配。本发明的研究重点是基于实时信息的城市电网电动汽车协同调控方法，目的是充电站内的日优化曲线和日前调度曲线偏差最小。如图2所示，模拟充电站内到达100辆电动汽车数据作为日前调度的预测信息，选取一条能量曲线作为日前调度的优化结果。在日内滚动优化时，由于电动汽车实际到达信息和预测信息之间的误差，日前调度计划无法满足用户的需求，因此需要对其进行调整。运用本文提出的协同调控方法后的调度计划修正如图3所示，以日内有功出力实际值和调度计划的偏差平方和最小为目标函数，基于电动汽车汽车的实时信息对充电功率进行调整，利用充电优先级实现电动汽车充电功率的分配。本发明申请人结合说明书附图对本发明的实施示例做了详细的说明与描述，但是本领域技术人员应该理解，以上实施示例仅为本发明的优选实施方案，详尽的说明只是为了帮助读者更好地理解本发明精神，而并非对本发明保护范围的限制，相反，任何基于本发明的发明精神所作的任何改进或修饰都应当落在本发明的保护范围之内。
