标题title
图像获取方法、装置、移动终端以及存储介质
摘要abst
本申请提供一种图像获取方法、装置、移动终端以及存储介质，通过外置摄像设备获取第一实时图像帧，并将第一实时图像帧保存至图像队列中，响应设备切换操作，从图像队列中获取第一实时图像帧，并将第一实时图像帧作为输出数据进行显示，实现持续通过外置摄像设备进行第一实时图像帧采集，在获取到设备切换操作时，从图像队列中即时获取第一实时图像帧并进行显示，避免摄像设备切换耗时而造成的卡顿或黑屏，实现快速切换不同的摄像设备。
权利要求书clms
1.一种图像获取方法，其特征在于，包括：通过外置摄像设备获取第一实时图像帧，并将所述第一实时图像帧保存至图像队列中；响应设备切换操作，从所述图像队列中获取所述第一实时图像帧，并将所述第一实时图像帧作为输出数据进行显示。2.根据权利要求1所述的方法，其特征在于，所述通过外置摄像设备获取第一实时图像帧之前，还包括：响应摄像触发操作，获取所述外置摄像设备的设备状态；若所述外置摄像设备的设备状态为连接状态，则启动所述外置摄像设备。3.根据权利要求2所述的方法，其特征在于，所述获取所述外置摄像设备的设备状态之前，还包括：启动本地摄像设备，通过所述本地摄像设备获取第二实时图像帧；将所述第二实时图像帧作为输出数据进行显示。4.根据权利要求3所述的方法，其特征在于，所述将所述第二实时图像帧作为输出数据进行显示，包括：将所述第二实时图像帧作为输出数据在图像浏览界面中进行显示；所述启动所述外置摄像设备之后，还包括：在所述图像浏览界面中，显示摄像设备切换控件。5.根据权利要求1所述的方法，其特征在于，所述通过外置摄像设备获取第一实时图像帧之前，还包括：接收外置摄像设备的接入信息；响应所述接入信息，获取本地摄像设备的设备状态；若所述本地摄像设备的设备状态为运行状态，则启动所述外置摄像设备。6.根据权利要求1所述的方法，其特征在于，所述将所述第一实时图像帧保存至图像队列中之后，还包括：在图像浏览界面中的图像显示子窗口中对所述第一实时图像帧进行显示。7.根据权利要求6所述的方法，其特征在于，所述将所述第一实时图像帧作为输出数据进行显示，包括：将所述第一实时图像帧从所述图像显示子窗口切换至所述图像浏览界面中进行显示，并将所述第一实时图像帧作为输出数据发送至服务器。8.一种图像获取装置，其特征在于，所述装置包括：图像获取模块，用于通过外置摄像设备获取第一实时图像帧，并将所述第一实时图像帧保存至图像队列中；切换操作模块，用于响应设备切换操作，从所述图像队列中获取所述第一实时图像帧，并将所述第一实时图像帧作为输出数据进行显示。9.一种移动终端，其特征在于，所述移动终端包括：一个或多个处理器；存储器；以及一个或多个应用程序，其中所述一个或多个应用程序被存储于所述存储器中，并配置为由所述处理器执行以实现权利要求1至7中任一项所述的图像获取方法。10.一种计算机可读存储介质，其特征在于，其上存储有计算机程序，所述计算机程序被处理器进行加载，以执行权利要求1至7任一项所述的图像获取方法中的步骤。
说明书desc
技术领域本申请涉及图像处理技术领域，具体涉及一种图像获取方法、装置、移动终端以及计算机可读存储介质。背景技术随着电子技术的不断发展，现有的移动终端大部分已配置有摄像头，用户可以通过移动终端进行视频通话、视频直播等活动。然而，单一的移动终端难以满足多角度摄像的需求，例如：在进行视频直播时，既需要通过移动终端拍摄主播画面，还需要拍摄产品画面，且在视频直播过程中需要在两个画面中不断切换。因此，在多角度摄像的拍摄过程中需要移动终端与其他摄像设备进行协同拍摄，但从移动终端摄像头切换到另一摄像设备的过程中容易出现画面跳变、拍摄画面不流畅的情况。发明内容基于此，有必要针对上述技术问题，提供一种图像获取方法、装置、移动终端以及存储介质，用以提高摄像设备切换过程中的画面流畅性。第一方面，本申请提供一种图像获取方法，该方法包括：通过外置摄像设备获取第一实时图像帧，并将第一实时图像帧保存至图像队列中；响应设备切换操作，从图像队列中获取第一实时图像帧，并将第一实时图像帧作为输出数据进行显示。在本申请一些实施例中，通过外置摄像设备获取第一实时图像帧之前，还包括：响应摄像触发操作，获取外置摄像设备的设备状态；若外置摄像设备的设备状态为连接状态，则启动外置摄像设备。在本申请一些实施例中，获取外置摄像设备的设备状态之前，还包括：启动本地摄像设备，通过本地摄像设备获取第二实时图像帧；将第二实时图像帧作为输出数据进行显示。在本申请一些实施例中，将第二实时图像帧作为输出数据进行显示，包括：将第二实时图像帧作为输出数据在图像浏览界面中进行显示；启动外置摄像设备之后，还包括：在图像浏览界面中，显示摄像设备切换控件。在本申请一些实施例中，通过外置摄像设备获取第一实时图像帧之前，还包括：接收外置摄像设备的接入信息；响应接入信息，获取本地摄像设备的设备状态；若本地摄像设备的设备状态为运行状态，则启动外置摄像设备。在本申请一些实施例中，将第一实时图像帧保存至图像队列中之后，还包括：在图像浏览界面中的图像显示子窗口中对第一实时图像帧进行显示。在本申请一些实施例中，将第一实时图像帧作为输出数据进行显示，包括：将第一实时图像帧从图像显示子窗口切换至图像浏览界面中进行显示，并将第一实时图像帧作为输出数据发送至服务器。第二方面，本申请提供一种图像获取装置，装置包括：图像获取模块，用于通过外置摄像设备获取第一实时图像帧，并将第一实时图像帧保存至图像队列中；切换操作模块，用于响应设备切换操作，从图像队列中获取第一实时图像帧，并将第一实时图像帧作为输出数据进行显示。第三方面，本申请还提供一种移动终端，该移动终端包括：一个或多个处理器；存储器；以及一个或多个应用程序，其中一个或多个应用程序被存储于存储器中，并配置为由处理器执行以实现的图像获取方法。第四方面，本申请还提供一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器进行加载，以执行的图像获取方法中的步骤。第五方面，本申请实施例提供一种计算机程序产品或计算机程序，该计算机程序产品或计算机程序包括计算机指令，该计算机指令存储在计算机可读存储介质中。计算机设备的处理器从计算机可读存储介质读取该计算机指令，处理器执行该计算机指令，使得该计算机设备执行上述第一方面提供的方法。上述图像获取方法、装置、移动终端以及存储介质，通过外置摄像设备获取第一实时图像帧，并将第一实时图像帧保存至图像队列中，响应设备切换操作，从图像队列中获取第一实时图像帧，并将第一实时图像帧作为输出数据进行显示，实现持续通过外置摄像设备进行第一实时图像帧采集，在获取到设备切换操作时，从图像队列中即时获取第一实时图像帧并进行显示，避免摄像设备切换耗时而造成的卡顿或黑屏，实现快速切换不同的摄像设备。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请实施例中图像获取方法的应用场景示意图；图2是本申请实施例中图像获取方法的流程示意图；图3是本申请实施例中启动外置摄像设备步骤的流程示意图；图4是本申请实施例中显示第二实时图像帧步骤的流程示意图；图5是本申请实施例中图像浏览界面以及摄像设备切换控件的示意图；图6是本申请实施例中另一个启动外置摄像设备步骤的流程示意图；图7是本申请实施例中显示第一实时图像帧步骤的流程示意图；图8是本申请实施例中图像显示子窗口的示意图；图9是本申请实施例中图像获取方法的应用场景示意图；图10是本申请实施例中另一个图像获取方法的应用场景示意图；图11是本申请实施例中图像获取装置的结构示意图；图12是本申请实施例中计算机设备的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。在本申请的描述中，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个特征。在本申请的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。在本申请的描述中，“例如”一词用来表示“用作例子、例证或说明”。本申请中被描述为“例如”的任何实施例不一定被解释为比其它实施例更优选或更具优势。为了使本领域任何技术人员能够实现和使用本发明，给出了以下描述。在以下描述中，为了解释的目的而列出了细节。应当明白的是，本领域普通技术人员可以认识到，在不使用这些特定细节的情况下也可以实现本发明。在其它实例中，不会对公知的结构和过程进行详细阐述，以避免不必要的细节使本发明的描述变得晦涩。因此，本发明并非旨在限于所示的实施例，而是与符合本申请所公开的原理和特征的最广范围相一致。本申请实施例提供的图像获取方法，可以应用于如图1所示的图像获取系统中。其中，该图像获取系统包括终端110和外置摄像设备120，终端110具体可以是手机、平板电脑、笔记本电脑等中的一种；外置摄像设备120是设置有成像设备的设备。外置摄像设备120可与终端110进行连接，例如可以是通过通用串行总线技术进行连接。本领域技术人员可以理解，图1中示出的应用环境，仅仅是与本申请方案一种应用场景，并不构成对本申请方案应用场景的限定，其他的应用环境还可以包括比图1中所示更多或更少的计算机设备，例如图1中仅示出1个外置摄像设备120，可以理解的，该图像获取系统还可以包括一个或多个其他外置摄像设备120，具体此处不作限定。还需说明的是，图1所示图像获取系统的场景示意图仅仅是一个示例，本发明实施例描述的图像获取系统以及场景是为了更加清楚的说明本发明实施例的技术方案，并不构成对于本发明实施例提供的技术方案的限定，本领域普通技术人员可知，随着图像获取系统的演变和新业务场景的出现，本发明实施例提供的技术方案对于类似的技术问题，同样适用。参阅图2，本申请实施例提供了一种图像获取方法，主要以该方法应用于上述图1中的终端110来举例说明，该方法包括步骤S201至S202，具体如下：S201，通过外置摄像设备获取第一实时图像帧，并将第一实时图像帧保存至图像队列中。其中，外置摄像设备是指与终端连接的摄像设备，可以是通过USB与终端连接的摄像头或带有摄像功能的设备。例如，外置摄像设备可以通过USB OTG技术实现与终端的连接并进行数据交换。需要说明的是，外置摄像设备的数量可以是一个，也可以为多个。其中，第一实时图像帧是指外置摄像设备拍摄得到的实时数据帧；具体地，第一实时图像帧可以是外置摄像设备拍摄得到的视频数据流。其中，图像队列用于缓存图像帧，图像队列与外置摄像设备是一一对应的。例如，当外置摄像设备的数量为多个时，图像队列的数据与外置摄像设备的数量是一致的。具体地，外置摄像设备实时采集其图像采集视野范围内的图像作为第一实时图像帧，并将该第一实时图像帧发送到终端，终端获取到第一实时图像帧后，将该第一实时图像帧保存到对应的图像队列中。在一个实施例中，如图3所示，在执行步骤201之前，还可以执行步骤S203和S204，具体如下：S203，响应摄像触发操作，获取外置摄像设备的设备状态；S204，若外置摄像设备的设备状态为连接状态，则启动外置摄像设备。其中，摄像触发操作是用于触发终端基于目标应用程序开启摄像功能的操作。具体地，目标应用程序终端可提供用于触发终端开启摄像功能的控件，摄像触发操作具体可以是作用于控件的触摸操作、光标操作、按键操作等，摄像触发操作也可以是语音操作等，在此不做限定。例如，目标应用程序为终端对应应用系统的相机应用，用户可通过终端在目标应用程序中触发相机应用，终端接收到该摄像触发操作，开启终端的相关摄像设备进行拍照；又例如，目标应用程序为聊天应用，聊天应用提供的视频通话功能，用户可通过终端在目标应用程序中触发视频通话功能，终端接收到该摄像触发操作，开启终端的相关摄像设备进行摄像，以实现与其他终端进行视频通话；再例如，目标应用程序为直播应用，直播应用中提供视频直播功能，用户可通过终端在目标应用程序中触发视频直播功能，开启终端的相关摄像设备进行摄像，以进行实时直播。其中，外置摄像设备的设备状态包括连接状态以及断开状态。可以理解的是，连接状态是指外置摄像设备与终端已建立连接，即当前终端连接有外置摄像设备，断开状态是指外置摄像设备与终端未建立连接，即当前终端并未与任何外置摄像设备建立连接。具体地，在接收到用户触发的摄像触发操作，终端检测外置摄像设备的设备状态，以判断是否存在外置摄像设备，当外置摄像设备的设备状态为连接状态，即终端当前连接有外置摄像设备，则启动该外置摄像设备。本实施例为启动外置摄像设备的一种触发方式，在本触发方式中，终端接收到摄像触发操作后，响应该摄像触发操作开启摄像功能，同时检测是否存在外置摄像设备，当存在到外置摄像设备，则直接启动外置摄像设备进行第一实时图像帧采集，便于后续获取到设备切换操作时，可即时获取第一实时图像帧并进行显示，避免摄像设备切换耗时而造成的卡顿或黑屏，实现快速切换不同的摄像设备。进一步地，在一个实施例中，参见图4，在执行启动外置摄像设备之前，还可以执行步骤S2031，具体如下：启动本地摄像设备，通过本地摄像设备获取第二实时图像帧；将第二实时图像帧作为输出数据进行显示。其中，本地摄像设备是指终端预置的摄像设备；第二实时图像帧是本地摄像设备所拍摄得到的实时数据帧，具体地，第二实时图像帧可以是本地摄像设备拍摄得到的视频数据流。具体地，在接收到用户触发的摄像触发操作，终端启动本地摄像设备，本地摄像设备实时采集其图像采集视野范围内的图像作为第二实时图像帧，并将第二实时图像帧作为输出数据由终端进行显示。可以理解的是，在接收到用户触发的摄像触发操作，终端一方面开启本地摄像设备实时采集第二实时图像帧，并将第二实时图像帧作为输出数据，进行输出显示，同时，终端检测外置摄像设备的设备状态，当外置摄像设备的设备状态为连接状态时，通过外置摄像设备采集第一实时图像帧，将第一实时图像帧存储到图像序列中，以便后续调用。在一些实施例中，将第二实时图像帧作为输出数据由终端进行显示，具体可以包括：将第二实时图像帧作为输出数据在图像浏览界面中进行显示。其中，图像浏览界面是指目标应用程序提供的应用界面，用于显示摄像设备拍摄到的图像帧。例如，目标应用程序为终端对应应用系统的相机应用，接收到摄像触发操作后，启动本地摄像设备获取第二实时图像帧，并将第二实时图像帧作为预览图像，显示到相机应用显示的预览框中。进一步地，在一些实施例中，将第二实时图像帧作为输出数据由终端进行显示，可以包括：将第二实时图像帧作为输出数据在图像浏览界面中进行显示的同时，由终端将第二实时图像帧作为视频数据流发送至服务器中，由服务器将第二实时视频帧发送至其他终端以实现不同的应用功能。例如，目标应用程序为聊天应用，接收到摄像触发操作后，开启聊天应用的视频通话功能，启动本地摄像设备获取第二实时图像帧，第二实时图像帧作为视频通话的视频数据流，终端一方面可以将第二实时图像帧显示到聊天应用的本地视频浏览窗口内，另一方面将该第二实时图像帧作为发送至视频通话服务器中，由视频通话服务器将第二实时图像帧作为视频数据流发送至其他视频通话参与方对应的终端。又例如，目标应用程序为直播应用，接收到摄像触发操作后，开启直播应用的直播功能，启动本地摄像设备获取第二实时图像帧，第二实时图像帧作为直播视频数据流，终端一方面可以将第二实时图像帧显示到直播应用的直播窗口内，另一方面将该第二实时图像帧发送至直播服务器中，由直播服务器将第二实时图像帧作为直播视频数据流发送至直播观看方对应的终端。在一个实施例中，将第二实时图像帧作为输出数据进行显示，包括：将第二实时图像帧作为输出数据在图像浏览界面中进行显示；启动外置摄像设备之后，还包括：在图像浏览界面中，显示摄像设备切换控件。其中，图像浏览界面是指目标应用程序提供的应用界面，用于显示摄像设备拍摄到的图像帧。摄像设备切换控件为目标应用程序提供的用于触发切换摄像设备的控件，可用于触发本地摄像设备与外置摄像设备间的切换、或者不同外置摄像设备间的切换。以目标应用程序为相机应用为例，参见图5，图5示出了本申请实施例中图像浏览界面以及摄像设备切换控件的示意图。具体地，终端开启本地摄像设备实时采集第二实时图像帧，并将第二实时图像帧作为输出数据，在图像浏览界面对第二实时图像帧进行显示，并在检测到外置摄像设备的设备状态为连接状态后，开启外置摄像设备的同时，在图像浏览界面中显示摄像设备切换控件。可以理解的是，在触发摄像设备切换控件后，图像浏览界面对第二实时图像帧进行显示可以切换为对外置摄像设备所拍摄的第一实时图像帧进行显示。在一个实施例中，如图6所示，在执行步骤201之前，还可以执行步骤S203和S204，具体如下：S206，接收外置摄像设备的接入信息；S207，响应接入信息，获取本地摄像设备的设备状态；S208，若本地摄像设备的设备状态为运行状态，则启动外置摄像设备。其中，接入信息是指外置摄像设备与终端建立连接时触发的信息。其中，本地摄像设备的设备状态包括运行状态以及非运行状态；当本地摄像设备的设备状态为运行状态，即摄像功能开启，当前终端通过本地摄像设备采集图像；当本地摄像设备的设备状态为非运行状态，即摄像功能关闭。具体地，当外置摄像设备与终端建立连接，建立连接的操作触发接入信息，终端响应该触发信息，检测本地摄像设备的设备状态，以确认本地摄像设备是否为运行状态，当本地摄像设备的设备状态为运行状态，则直接启动外置摄像设备。本实施例为启动外置摄像设备的另一种触发方式，在本触发方式中，终端对应的目标应用程序已开启摄像功能，当前正通过本地摄像设备采集第二实时图像帧。此时，获取到外置摄像设备与终端建立连接的接入信息，则直接启动外置摄像设备进行第一实时图像帧采集，便于后续获取到设备切换操作时，可即时获取第一实时图像帧并进行显示，避免摄像设备切换耗时而造成的卡顿或黑屏，实现快速切换不同的摄像设备。S202，响应设备切换操作，从图像队列中获取第一实时图像帧，并将第一实时图像帧作为输出数据进行显示。其中，设备切换操作用于切换摄像设备，如本地摄像设备与外置摄像设备间的切换、或者不同外置摄像设备间的切换；设备切换操作可以是基于摄像设备切换控件的触发操作，也可以是语音触发操作，在此不进行限定。具体地，用户可通过终端在目标应用程序中触发切换摄像设备，终端在获取到设备切换操作后，响应设备切换操作从图像队列中获取通过外置摄像设备拍摄的第一实时图像帧，并将第一实时图像帧作为输出数据进行显示。进一步地，当外置摄像设备的数量为多个时，设备切换操作可包括外置摄像设备的标识信息；终端在获取到设备切换操作后，响应该设备切换操作，确定外置摄像设备的标识信息，进而从标识信息所标识的目标外置摄像设备对应的图像队列中，获取通过目标外置摄像设备拍摄的第一实时图像帧，并将该第一实时图像帧作为输出数据进行显示。其中，将第一实时图像帧作为输出数据进行显示，具体可以是将第一实时图像帧作为输出数据在图像浏览界面中进行显示。例如，目标应用程序为终端对应应用系统的相机应用，接收到设备切换操作后，从图像队列中获取通过外置摄像设备拍摄的第一实时图像帧，并将第一实时图像帧替换原本的预览图像帧，显示到相机应用的预览框中。进一步地，将第一实时图像帧作为输出数据进行显示，还可以是将第一实时图像帧作为输出数据在图像浏览界面中进行显示的同时，由终端将第一实时图像帧发送至服务器中，由服务器将第一实时视频帧发送至其他终端以实现不同的应用功能，实现数据流的替换。例如，目标应用程序为聊天应用，接收到设备切换操作后，从图像队列中获取通过外置摄像设备拍摄的第一实时图像帧，将第一实时图像帧替换原本的视频数据流，作为视频通话的视频数据流，一方面可以将第一实时图像帧显示到聊天应用的本地视频浏览窗口内，另一方面将该第一实时图像帧发送至视频通话服务器中，由视频通话服务器将第一实时图像帧作为视频数据流发送至其他视频通话参与方对应的终端，实现视频数据流的替换。又例如，目标应用程序为直播应用，接收到设备切换操作后，从图像队列中获取通过外置摄像设备拍摄的第一实时图像帧，将第一实时图像帧替换原本的视频数据流，作为直播视频数据流，一方面可以将第一实时图像帧显示到直播应用的直播窗口内，另一方面将该第一实时图像帧发送至直播服务器中，由直播服务器将第一实时图像帧作为直播视频数据流发送至直播观看方对应的终端，实现视频数据流的替换。在一个实施例中，参见图7，执行将第一实时图像帧保存至图像队列中之后，还可以执行步骤S209，具体如下：S209，在图像浏览界面中的图像显示子窗口中对第一实时图像帧进行显示。其中，图像显示子窗口是在图像浏览界面中另外开设的窗口，参见图8，图8示出了本申请实施例中的图像显示子窗口的示意图。具体地，外置摄像设备采集到第一实时图像帧后，终端将第一实时图像帧存储到图像队列的同时，还通过图像浏览界面中的图像显示子窗口对第一实时图像帧进行显示。可以理解的是，图像浏览界面显示的是其他摄像设备所采集的实时图像帧，例如，可以是本地摄像设备的第二实时图像帧；此外，图像浏览界面所显示的实时图像帧作为输出数据，可用于由终端发送至服务器中，由服务器将其发送至其他终端以实现不同的应用功能。进一步地，图像显示子窗口与外置摄像设备一一对应，如，外置摄像设备的数量为多个时，图像显示子窗口的数量与外置摄像设备的数量一致。在一个实施例中，当图像显示子窗口的数量为多个时，设备切换操作可以是作用于图像显示子窗口的触发操作，用户可通过终端在目标应用程序对应的界面中，触发某个图像显示子窗口以触发切换摄像设备，终端在获取到设备切换操作后，通过设备切换操作携带的位置信息，确定用户所选择的图像显示子窗口，进而从图像显示子窗口所显示的第一实时图像帧对应的图像队列中，获取通过外置摄像设备拍摄的第一实时图像帧，并将第一实时图像帧作为输出数据进行显示。在一个实施例中，步骤S202将第一实时图像帧作为输出数据进行显示，具体包括：将第一实时图像帧从图像显示子窗口切换至图像浏览界面中进行显示，并将第一实时图像帧作为输出数据发送至服务器。具体地，终端在接收到设备切换操作后，响应该设备切换操作，将第一实时图像帧作为输出数据，在图像浏览界面中进行显示，同时，终端还将第一实时图像帧发送至服务器中，由服务器将第一实时视频帧发送至其他终端以实现不同的应用功能，实现将图像浏览界面与图像显示子窗口所显示的视频流数据进行切换，以及输出数据的替换。可以理解的是，终端还可以将原本在图像浏览界面中显示的实时图像帧切换至图像显示子窗口中进行显示。上述图像获取方法中，通过外置摄像设备获取第一实时图像帧，并将第一实时图像帧保存至图像队列中，响应设备切换操作，从图像队列中获取第一实时图像帧，并将第一实时图像帧作为输出数据进行显示，实现持续通过外置摄像设备进行第一实时图像帧采集，在获取到设备切换操作时，从图像队列中即时获取第一实时图像帧并进行显示，避免摄像设备切换耗时而造成的卡顿或黑屏，实现快速切换不同的摄像设备。以下结合具体的应用场景对上述实施例进行进一步说明。具体地，在一些应用程序中需要调用摄像设备进行图像或视频拍摄，并基于所拍摄的图像或视频以向用户提供服务，例如，在相机应用程序，终端通过摄像设备拍摄图像，又例如，在聊天应用程序中，终端设备通过调用摄像设备拍摄实时视频以实现视频通话功能，等。结合图1，终端110上安装有目标应用程序，该目标应用程序包括有需要调用摄像设备进行图像或视频拍摄以进行相关服务的功能，例如该目标应用程序可以是相机应用、聊天应用、直播应用等，在此不做出具体限定。参见图9，以目标应用程序为相机应用为例，终端110事先与外置摄像设备120连接，用户基于终端110进行摄像触发操作以触发打开相机应用。终端110响应摄像触发操作开启本地摄像设备，并通过本地摄像设备获取第二实时图像帧，将第二实时图像帧作为输出数据在图像浏览界面中进行显示。同时，终端110检测外置摄像设备的设备状态，由于终端110事先与外置摄像设备120连接，此时，外置摄像设备的设备状态为连接状态，终端110开启外置摄像设备120，通过外置摄像设备获取第一实时图像帧，并将第一实时图像帧保存至图像队列中。此外，终端110还在图像浏览界面中显示摄像设备切换控件。当接收到用户针对摄像设备切换控件的设备切换操作，从图像队列中获取第一实时图像帧，并将第一实时图像帧替换第二实时图像帧，作为输出数据在图像浏览界面进行显示。参见图10，以目标应用程序为直播应用为例，终端110事先与两个外置摄像设备120，例如包括外置摄像设备以及外置摄像设备。用户基于终端110进行摄像触发操作以触发打开直播应用中的直播功能。终端110响应摄像触发操作开启本地摄像设备，并通过本地摄像设备获取第二实时图像帧，将第二实时图像帧作为输出数据在图像浏览界面中进行显示，并将第二实时图像帧发送至直播服务器中，由直播服务器将第二实时视频帧发送至至直播观看方对应的终端。同时，终端110检测外置摄像设备的设备状态，由于终端110事先与两个外置摄像设备120连接，此时，外置摄像设备以及外置摄像设备的设备状态均为连接状态，终端110启动所连接的外置摄像设备以及外置摄像设备，通过外置摄像设备以及外置摄像设备分别获取第一实时图像帧以及第一实时图像帧，并将第一实时图像帧保存至与外置摄像设备对应的图像队列中，将第一实时图像帧保存至与外置摄像设备对应的图像队列。此外，终端110还在图像浏览界面中开设图像显示子窗口以及图像显示子窗口，并在图像显示子窗口中分别对第一实时图像帧以及第一实时图像帧进行显示，如图10所示。当接收到用户基于图像显示子窗口触发的设备切换操作，图像显示子窗口显示的是第一实时图像帧，终端从对应的外置摄像设备的图像队列中获取第一实时图像帧，并将第一实时图像帧作为输出数据，替换第二实时图像帧在图像浏览界面进行显示，并将第二实时图像帧替换为第一实时图像帧发送至至直播服务器中，由直播服务器将第一实时图像帧发送至至直播观看方对应的终端。此时，第二实时图像帧切换至图像显示子窗口中进行显示。以目标应用程序为聊天应用为例，终端110未事先与外置摄像设备120连接，用户基于终端110进行摄像触发操作以触发打开聊天应用的视频聊天功能。终端110响应摄像触发操作开启本地摄像设备，并通过本地摄像设备获取第二实时图像帧，将第二实时图像帧作为输出数据在图像浏览界面中进行显示，同时将第二实时图像帧发送至视频通话服务器中，由视频通话服务器将第二实时图像帧发送至其他视频通话参与方对应的终端。此时，用户将外置设备120通过USB接入终端110中，终端110检测到外置摄像设备的连接状态，终端110响应该接入信息，获取本地摄像设备的设备状态；由于本地摄像设备的设备状态为运行状态，终端110直接启动外置摄像设备120，通过外置摄像设备获取第一实时图像帧，并将第一实时图像帧保存至图像队列中。当接收到用户触发的设备切换操作，从图像队列中获取第一实时图像帧，并将第一实时图像帧作为输出数据，替换第二实时图像帧在图像浏览界面进行显示，同时将第二实时图像帧切换为第一实时图像帧发送至视频通话服务器中，由视频通话服务器将第一实时图像帧发送至其他视频通话参与方对应的终端。为了更好实施本申请实施例提供的图像获取方法，在本申请实施例所提图像获取方法的基础之上，本申请实施例中还提供一种图像获取装置，如图11所示，图像获取装置1100包括：图像获取模块1101，用于通过外置摄像设备获取第一实时图像帧，并将第一实时图像帧保存至图像队列中；切换操作模块1102，用于响应设备切换操作，从图像队列中获取第一实时图像帧，并将第一实时图像帧作为输出数据进行显示。在本申请一些实施例中，图像获取装置还包括设备开启模块，用于响应摄像触发操作，获取外置摄像设备的设备状态；若外置摄像设备的设备状态为连接状态，则启动外置摄像设备。在本申请一些实施例中，设备开启模块还用于启动本地摄像设备，通过本地摄像设备获取第二实时图像帧；将第二实时图像帧作为输出数据进行显示。在本申请一些实施例中，设备开启模块还用于将第二实时图像帧作为输出数据在图像浏览界面中进行显示；在图像浏览界面中，显示摄像设备切换控件。在本申请一些实施例中，设备开启模块还用于接收外置摄像设备的接入信息；响应接入信息，获取本地摄像设备的设备状态；若本地摄像设备的设备状态为运行状态，则启动外置摄像设备。在本申请一些实施例中，图像获取模块还用于在图像浏览界面中的图像显示子窗口中对第一实时图像帧进行显示。在本申请一些实施例中，切换操作模块，用于将第一实时图像帧从图像显示子窗口切换至图像浏览界面中进行显示，并将第一实时图像帧作为输出数据发送至服务器。在本申请一些实施例中，图像获取装置1100可以实现为一种计算机程序的形式，计算机程序可在如图12所示的计算机设备上运行。计算机设备的存储器中可存储组成该图像获取装置1100的各个程序模块，比如，图9所示的图像获取模块1101以及切换操作模块1102。各个程序模块构成的计算机程序使得处理器执行本说明书中描述的本申请各个实施例的图像获取方法中的步骤。例如，图12所示的计算机设备可以通过如图11所示的图像获取装置1100中的图像获取模块1101执行步骤S201。计算机设备可通过切换操作模块1102执行步骤S202。该计算机设备包括通过系统总线连接的处理器、存储器和网络接口。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质和内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的网络接口用于与外部的计算机设备通过网络连接通信。该计算机程序被处理器执行时以实现一种图像获取方法。本领域技术人员可以理解，图12中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在本申请一些实施例中，提供了一种计算机设备，包括一个或多个处理器；存储器；以及一个或多个应用程序，其中所述一个或多个应用程序被存储于所述存储器中，并配置为由所述处理器执行上述图像获取方法的步骤。此处图像获取方法的步骤可以是上述各个实施例的图像获取方法中的步骤。在本申请一些实施例中，提供了一种计算机可读存储介质，存储有计算机程序，计算机程序被处理器进行加载，使得处理器执行上述图像获取方法的步骤。此处图像获取方法的步骤可以是上述各个实施例的图像获取方法中的步骤。本邻域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存或光存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器。作为说明而非局限，RAM可以是多种形式，如静态随机存取存储器或动态随机存取存储器等。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上对本申请实施例所提供的一种图像获取方法、装置、计算机设备以及存储介质进行了详细介绍，本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本发明的限制。
