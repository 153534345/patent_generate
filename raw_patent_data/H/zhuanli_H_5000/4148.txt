标题title
一种地址管理方法、装置、设备及系统
摘要abst
本申请提供的一种地址管理方法、装置、设备及系统，包括：获取会话管理功能SMF发送给用户平面功能UPF的地址分配应答消息；其中，地址分配应答消息为SMF根据接收到的无线终端发送的地址分配请求返回的应答消息；通过深度数据包检测DPI解码，对地址分配应答消息进行解码，以获取地址分配应答消息中分配给无线终端的IP地址和后挂终端的IP地址段；后挂终端为挂载在无线终端下的终端；根据无线终端的IP地址，并采用配置信息传输协议，与无线终端建立连接，并将后挂终端的IP地址段通过UPF发送给无线终端，以使无线终端根据IP地址段配置后挂终端的IP地址池。解决了人工查看并下载IP地址段而导致的效率低易出错的问题。
权利要求书clms
1.一种地址管理方法，其特征在于，包括：获取会话管理功能SMF发送给用户平面功能UPF的地址分配应答消息；其中，所述地址分配应答消息为所述SMF根据接收到的无线终端发送的地址分配请求返回的应答消息；通过深度数据包检测DPI解码，对所述地址分配应答消息进行解码，以获取所述地址分配应答消息中分配给所述无线终端的IP地址和后挂终端的IP地址段；所述后挂终端为挂载在所述无线终端下的终端；根据所述无线终端的IP地址，并采用配置信息传输协议，与所述无线终端建立连接，并将所述后挂终端的IP地址段通过所述UPF发送给所述无线终端，以使所述无线终端根据所述IP地址段配置所述后挂终端的IP地址池。2.根据权利要求1所述的地址管理方法，其特征在于，所述获取SMF发送给UPF的地址分配应答消息，包括：从SMF与UPF之间连接的交换机或者分光器中获取复制后的地址分配应答消息。3.根据权利要求1所述的地址管理方法，其特征在于，所述通过DPI解码，对所述地址分配应答消息进行解码，以获取所述地址分配应答消息中分配给所述无线终端的IP地址和后挂终端的IP地址段，包括：从所述地址分配应答消息中获取与PFCP协议匹配的数据包；根据所述与PFCP协议匹配的数据包的包头中的消息类型，获取所述数据包中的PFCP会话建立请求消息；从所述PFCP会话建立请求消息中提取UE IP address字段和Frame route字段，以将所述UE IP address字段作为无线终端的IP地址，并将所述Frame route字段作为后挂终端的IP地址段。4.根据权利要求1所述的地址管理方法，其特征在于，所述根据所述无线终端的IP地址，并采用配置信息传输协议，与所述无线终端建立连接，并将所述后挂终端的IP地址段通过所述UPF发送给所述无线终端，以使所述无线终端根据所述IP地址段配置所述后挂终端的IP地址池，包括：根据所述无线终端的IP地址，与所述无线终端建立TCP连接，并查询获取所述无线终端的ACS URL值；根据所述无线终端的ACS URL值，向所述无线终端发送设置参数值请求，所述设置参数值请求包括所述后挂终端的IP地址段，以供所述无线终端根据所述设置参数值请求中的所述后挂终端的IP地址段配置所述后挂终端的IP地址池。5.一种地址管理装置，其特征在于，包括：获取模块，用于获取会话管理功能SMF发送给用户平面功能UPF的地址分配应答消息；其中，所述地址分配应答消息为所述SMF根据接收到的无线终端发送的地址分配请求返回的应答消息；解码模块，用于通过深度数据包检测DPI解码，对所述地址分配应答消息进行解码，以获取所述地址分配应答消息中分配给所述无线终端的IP地址和后挂终端的IP地址段；所述后挂终端为挂载在所述无线终端下的终端；处理模块，用于根据所述无线终端的IP地址，并采用配置信息传输协议，与所述无线终端建立连接，并将所述后挂终端的IP地址段通过所述UPF发送给所述无线终端，以使所述无线终端根据所述IP地址段配置所述后挂终端的IP地址池。6.根据权利要求5所述的地址管理装置，其特征在于，所述获取模块，具体用于：从SMF与UPF之间连接的交换机或者分光器中获取复制后的地址分配应答消息。7.根据权利要求5所述的地址管理装置，其特征在于，所述解码模块，具体用于：从所述地址分配应答消息中获取与PFCP协议匹配的数据包；根据所述与PFCP协议匹配的数据包的包头中的消息类型，获取所述数据包中的PFCP会话建立请求消息；从所述PFCP会话建立请求消息中提取UE IP address字段和Frame route字段，以将所述UE IP address字段作为无线终端的IP地址，并将所述Frame route字段作为后挂终端的IP地址段。8.根据权利要求5所述的地址管理装置，其特征在于，所述处理模块，具体用于：根据所述无线终端的IP地址，与所述无线终端建立TCP连接，并查询获取所述无线终端的ACS URL值；根据所述无线终端的ACS URL值，向所述无线终端发送设置参数值请求，所述设置参数值请求包括所述后挂终端的IP地址段，以供所述无线终端根据所述设置参数值请求中的所述后挂终端的IP地址段配置所述后挂终端的IP地址池。9.一种电子设备，其特征在于，包括：处理器，存储器，通信接口；所述存储器用于存储所述处理器的可执行指令；其中，所述处理器配置为经由执行所述可执行指令来执行权利要求1至4中任一项所述的地址管理方法。10.一种网络侧服务系统，其特征在于，包括：如权利要求5-9中任一项所述的地址管理装置，AAA服务器，SMF，UPF，以及交换机或分光器；其中，所述交换机或分光器位于SMF与UPF之间，所述交换机或分光器的接收端口通过光纤与所述SMF连接，所述交换机或分光器的输出端口分别通过光纤与所述UPF和所述地址管理装置连接。11.一种通信系统，其特征在于，包括：如权利要求10所述的网络侧服务系统、无线终端以及后挂终端；其中，所述无线终端分别与所述UPF以及所述后挂终端通信连接。
说明书desc
技术领域本申请涉及通信技术领域，尤其涉及一种地址管理方法、装置、设备及系统。背景技术当前，后路由技术广泛应用，在一个可以接入移动通信网络的无线终端下挂载多个没有移动通信网络接入能力的后挂终端。无线终端通过核心网网元会话管理功能向验证、授权和记账服务器或动态主机配置协议服务器发起为其后挂终端分配IP地址段的请求，并根据该请求，为后挂终端配置IP地址池，即可使后挂终端与网络侧服务器通信，实现数据业务。以AAA服务器为后挂终端分配IP地址段为例，无线终端必须知晓AAA服务器为后挂终端分配的IP地址段，才能为后挂终端配置IP地址池。目前，AAA服务器只能将为后挂终端分配的IP地址段依次传输至SMF和用户平面功能，以用于后续业务数据处理。若是无线终端需要获知为后挂终端分配的IP地址段，需要用户通过无线终端访问AAA服务器并查看其上的配置文件，从配置文件中找到AAA服务器为后挂终端分配的IP地址段，并手动下载该IP地址段至该无线终端。但是，这种方式不仅效率低，而且极容易出现差错，一旦用户错将为其它终端分配的IP地址段下载至无线终端，使无线终端根据错误的IP地址段配置后挂终端的IP地址池，导致后挂终端的IP地址池与UPF保存的AAA服务器实际分配给后挂终端的IP地址段不符，就会造成UPF无法在数据业务的实现过程中找到后挂终端，后挂终端也就无法与网络侧服务器通信，进而实现数据业务。发明内容本申请提供一种地址管理方法、装置、设备及系统，用于解决现有技术中用户通过无线终端访问并查看AAA服务器上的配置文件，手动下载从配置文件中找到的为后挂终端分配的IP地址段的方式的效率低，以及极易出错的问题。第一方面，本申请提供一种地址管理方法，包括：获取会话管理功能SMF发送给用户平面功能UPF的地址分配应答消息；其中，所述地址分配应答消息为所述SMF根据接收到的无线终端发送的地址分配请求返回的应答消息；通过深度数据包检测DPI解码，对所述地址分配应答消息进行解码，以获取所述地址分配应答消息中分配给所述无线终端的IP地址和后挂终端的IP地址段；所述后挂终端为挂载在所述无线终端下的终端；根据所述无线终端的IP地址，并采用配置信息传输协议，与所述无线终端建立连接，并将所述后挂终端的IP地址段通过所述UPF发送给所述无线终端，以使所述无线终端根据所述IP地址段配置所述后挂终端的IP地址池。在一种具体实施方式中，所述获取SMF发送给UPF的地址分配应答消息，包括：从SMF与UPF之间连接的交换机或者分光器中获取复制后的地址分配应答消息。在一种具体实施方式中，所述通过DPI解码，对所述地址分配应答消息进行解码，以获取所述地址分配应答消息中分配给所述无线终端的IP地址和后挂终端的IP地址段，包括：从所述地址分配应答消息中获取与PFCP协议匹配的数据包；根据所述与PFCP协议匹配的数据包的包头中的消息类型，获取所述数据包中的PFCP会话建立请求消息；从所述PFCP会话建立请求消息中提取UE IP address字段和Frame route字段，以将所述UE IPaddress字段作为无线终端的IP地址，并将所述Frame route字段作为后挂终端的IP地址段。在一种具体实施方式中，所述根据所述无线终端的IP地址，并采用配置信息传输协议，与所述无线终端建立连接，并将所述后挂终端的IP地址段通过所述UPF发送给所述无线终端，以使所述无线终端根据所述IP地址段配置所述后挂终端的IP地址池，包括：根据所述无线终端的IP地址，与所述无线终端建立TCP连接，并查询获取所述无线终端的ACS URL值；根据所述无线终端的ACS URL值，向所述无线终端发送设置参数值请求，所述设置参数值请求包括所述后挂终端的IP地址段，以供所述无线终端根据所述设置参数值请求中的所述后挂终端的IP地址段配置所述后挂终端的IP地址池。第二方面，本申请提供一种地址管理装置，包括：获取模块，用于获取会话管理功能SMF发送给用户平面功能UPF的地址分配应答消息；其中，所述地址分配应答消息为所述SMF根据接收到的无线终端发送的地址分配请求返回的应答消息；解码模块，用于通过深度数据包检测DPI解码，对所述地址分配应答消息进行解码，以获取所述地址分配应答消息中分配给所述无线终端的IP地址和后挂终端的IP地址段；所述后挂终端为挂载在所述无线终端下的终端；处理模块，用于根据所述无线终端的IP地址，并采用配置信息传输协议，与所述无线终端建立连接，并将所述后挂终端的IP地址段通过所述UPF发送给所述无线终端，以使所述无线终端根据所述IP地址段配置所述后挂终端的IP地址池。在一种具体实施方式中，所述获取模块，具体用于：从SMF与UPF之间连接的交换机或者分光器中获取复制后的地址分配应答消息。在一种具体实施方式中，所述解码模块，具体用于：从所述地址分配应答消息中获取与PFCP协议匹配的数据包；根据所述与PFCP协议匹配的数据包的包头中的消息类型，获取所述数据包中的PFCP会话建立请求消息；从所述PFCP会话建立请求消息中提取UE IPaddress字段和Frame route字段，以将所述UE IP address字段作为无线终端的IP地址，并将所述Frame route字段作为后挂终端的IP地址段。在一种具体实施方式中，所述处理模块，具体用于：根据所述无线终端的IP地址，与所述无线终端建立TCP连接，并查询获取所述无线终端的ACS URL值；根据所述无线终端的ACS URL值，向所述无线终端发送设置参数值请求，所述设置参数值请求包括所述后挂终端的IP地址段，以供所述无线终端根据所述设置参数值请求中的所述后挂终端的IP地址段配置所述后挂终端的IP地址池。第三方面，本申请提供一种电子设备，包括：处理器，存储器，通信接口；所述存储器用于存储所述处理器的可执行指令；其中，所述处理器配置为经由执行所述可执行指令来执行第一方面所述的地址管理方法。第四方面，本申请提供一种网络侧服务系统，包括：如第二方面或第三方面所述的地址管理装置，AAA服务器，SMF，UPF，以及交换机或分光器；其中，所述交换机或分光器位于SMF与UPF之间，所述交换机或分光器的接收端口通过光纤与所述SMF连接，所述交换机或分光器的输出端口分别通过光纤与所述UPF和所述地址管理装置连接。第五方面，本申请提供一种通信系统，包括：如第四方面所述的网络侧服务系统、无线终端以及后挂终端；其中，所述无线终端分别与所述UPF以及所述后挂终端通信连接。本申请提供一种地址管理方法、装置、设备及系统，获取SMF发送给UPF的地址分配应答消息；通过DPI解码，对该地址分配应答消息进行解码，以获取该地址分配应答消息中分配给该无线终端的IP地址和后挂终端的IP地址段；根据该无线终端的IP地址，并采用配置信息传输协议，与该无线终端建立连接，并将该后挂终端的IP地址段通过该UPF发送给该无线终端，以使该无线终端根据该IP地址段配置该后挂终端的IP地址池。相较于现有技术采用人工手段查看和下载后挂终端的IP地址段，本申请可以从SMF发送给UPF地址分配应答消息时获取该地址分配应答消息，并对该地址分配应答消息进行解码，以获取无线终端的IP地址和后挂终端的IP地址段，并通过UPF发送给该无线终端，从而解决了人工查看并下载IP地址段而导致的效率低，且易下载错误的问题，进而有效地提高了IP地址段获取和使用的效率，也进一步保证了后挂终端与网络侧服务器之间数据业务的成功实现。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本申请提供的一种通信系统架构示意图；图2为本申请提供的一种地址管理方法实施例一的流程示意图；图3为本申请提供的一种地址管理方法实施例二的流程示意图；图4为本申请提供的一种地址管理方法实施例三的流程示意图；图5为自动配置服务器通过UPF将IP地址段发送给用户驻地设备的信令流程示意图；图6为本申请提供的一种地址管理装置实施例的结构示意图；图7为本申请提供的一种电子设备的结构示意图；图8为本申请提供的一种网络侧服务系统的结构示意图。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在根据本实施例的启示下作出的所有其他实施例，都属于本申请保护的范围。本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”“第四”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本申请的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。首先对本申请所涉及的名词进行解释：IP地址池：即IP地址段。后挂终端的IP地址池由无线终端配置。无线终端为后挂终端配置的IP地址池必须与AAA服务器或DHCP服务器为后挂终端分配的IP地址段一致，才能实现后挂终端与网络侧服务器的通信。现有技术中，为了给后挂终端申请IP地址段，无线终端向核心网网元SMF发起激活请求。SMF收到激活请求后，从核心网网元统一数据管理功能UDM获取该无线终端的签约信息，签约信息包括该无线终端是否有权限后挂终端，该无线终端的IP地址分配方式以及后挂终端的IP地址池获取方式。SMF结合签约信息向AAA服务器发起IP地址分配请求，IP地址分配请求包括请求分配无线终端的IP地址和后挂终端的IP地址段。AAA服务器响应SMF的请求，将为无线终端分配的IP地址和为后挂终端分配的IP地址段携带在响应信息中发送给SMF。SMF收到AAA服务器的响应消息后，将无线终端的IP地址及后挂终端的IP地址段通知核心网网元UPF。UPF保存该无线终端的IP地址及后挂终端的IP地址段，以便在后续的数据业务中找到后挂终端。现有技术中，用户需要通过无线终端访问AAA服务器并查看其上的配置文件，以从配置文件中找到AAA服务器为后挂终端分配的IP地址段，并手动下载该IP地址段至该无线终端。这种方式不仅效率很低，而且极易出错。一旦将错误的IP地址段下载至该无线终端，无线终端根据错误的IP地址段配置后挂终端的IP地址池，导致后挂终端的IP地址池与UPF保存的IP地址段不一致，将会造成后挂终端与网络侧服务器的通信失败。基于上述技术问题，本申请的发明构思在于：如何使得无线终端能够自动，且准确得获取AAA服务器为后挂终端分配的IP地址段，以有效地提高地址分配和使用的效率。本申请提供的地址管理方法，可以适用于图1所示的通信系统架构示意图。如图1所示，该通信系统包括：AAA服务器，核心网网元SMF，核心网网元UPF，地址管理装置，交换机，无线终端和多个后挂终端。AAA服务器响应SMF的IP地址分配请求，将为无线终端分配的IP地址和为后挂终端分配的IP地址段携带在响应信息中发送给SMF。SMF收到AAA服务器的响应消息后，将无线终端的IP地址及后挂终端的IP地址段通知UPF。交换机位于SMF与UPF之间，通过光纤分别与SMF和UPF连接。交换机可以获取SMF发送给UPF的无线终端的IP地址及后挂终端的IP地址段，并发送给地址管理装置。地址管理装置通过UPF，将无线终端的IP地址及后挂终端的IP地址段发送给无线终端，以使无线终端根据IP地址段配置后挂终端的IP地址池。另外，该通信系统还可以包括分光器，以替代该交换机。其中，分光器位于SMF与UPF之间，通过光纤分别与SMF和UPF连接。分光器可以获取SMF发送给UPF的无线终端的IP地址及后挂终端的IP地址段，并发送给地址管理装置。该通信系统还可以包括DHCP服务器以替代AAA服务器，从而SMF可以向DHCP服务器发起IP地址分配请求。DHCP服务器响应SMF的请求，将为无线终端分配IP地址和为后挂终端分配IP地址段携带在响应信息中发送给SMF。下面，通过具体实施例对本申请的技术方案进行详细说明。需要说明的是，下面这几个具体的实施例可以相互结合，对于相同或相似的概念或过程可能在某些实施例中不再赘述。图2为本申请提供的一种地址管理方法实施例一的流程示意图。参见图2，该地址管理方法具体包括以下步骤：步骤S201：获取会话管理功能SMF发送给用户平面功能UPF的地址分配应答消息；其中，该地址分配应答消息为SMF根据接收到的无线终端发送的地址分配请求返回的应答消息。在本实施例中，SMF收到AAA服务器针对IP地址分配请求的响应消息后，将携带有无线终端的IP地址及后挂终端的IP地址段的地址分配应答消息发送给UPF。地址管理装置可以获取该地址分配应答消息。步骤S202：通过深度数据包检测DPI解码，对该地址分配应答消息进行解码，以获取该地址分配应答消息中分配给该无线终端的IP地址和后挂终端的IP地址段。后挂终端为挂载在无线终端下的终端。DPI解码，即深度数据包检测，是一种数据报文过滤技术。相对普通的报文解析，DPI解码除了可以分析数据报文的源地址、目的地址、源端口、目的端口和协议类型外，还可以识别各种应用类型及其内容。当IP数据包、TCP/UDP数据流通过基于DPI技术的报文解析系统时，该系统通过深入读取IP报文所载荷的内容来对应用层信息进行重组，从而得到整个应用程序的内容。在本实施例中，地址管理装置对获取到的地址分配应答消息进行DPI解码，即可得到无线终端的IP地址和后挂终端的IP地址段。步骤S203：根据该无线终端的IP地址，并采用配置信息传输协议，与该无线终端建立连接，并将该后挂终端的IP地址段通过该UPF发送给该无线终端，以使该无线终端根据该IP地址段配置该后挂终端的IP地址池。在本实施例中，地址管理装置根据无线终端的IP地址，采用与无线终端协商好的配置信息传输协议，与无线终端建立连接。在与无线终端建立连接之后，地址管理装置将后挂终端的IP地址段通过UPF发送给该无线终端。在本实施例中，无线终端根据该IP地址段配置该后挂终端的IP地址池。具体地，后挂终端可以通过动态主机配置协议动态地向无线终端获取IP地址。无线终端也可以建立IP地址池与各个后挂终端的匹配关系表，采用静态分配的方式将IP地址分配给对应的后挂终端。在本实施例中，地址管理装置获取SMF发送给UPF的地址分配应答消息；通过DPI解码，对该地址分配应答消息进行解码，以获取该地址分配应答消息中分配给该无线终端的IP地址和后挂终端的IP地址段；根据该无线终端的IP地址，并采用配置信息传输协议，与该无线终端建立连接，并将该后挂终端的IP地址段通过该UPF发送给该无线终端，以使该无线终端根据该IP地址段配置该后挂终端的IP地址池。相较于现有技术采用人工手段查看和下载后挂终端的IP地址段，本申请可以从SMF发送给UPF地址分配应答消息时获取该地址分配应答消息，并对该地址分配应答消息进行解码，以获取无线终端的IP地址和后挂终端的IP地址段，并通过UPF发送给该无线终端，从而解决了人工查看并下载IP地址段而导致的效率低，且易下载错误的问题，进而有效地提高了IP地址段获取和使用的效率，也进一步保证了后挂终端与网络侧服务器之间数据业务的成功实现。图3为本申请提供的一种地址管理方法实施例二的流程示意图。在上述图2所示实施例的基础上，参见图3，上述步骤S201的一种具体实现方式为：步骤S301：从SMF与UPF之间连接的交换机或者分光器中获取复制后的地址分配应答消息。在本实施例中，SMF与UPF之间设置有交换机或分光器。地址管理装置通过在SMF与UPF之间连接的交换机或分光器，获取SMF发送给UPF的地址分配应答消息。交换机或分光器将从接收端口获取的SMF发送UPF的地址分配应答消息进行复制，通过输出端口发送给地址管理装置。在上述图2所示实施例的基础上，参见图3，上述步骤S202的一种具体实现方式为：步骤S302：从该地址分配应答消息中获取与PFCP协议匹配的数据包。步骤S303：根据该与PFCP协议匹配的数据包的包头中的消息类型，获取该数据包中的PFCP会话建立请求消息。步骤S304：从该PFCP会话建立请求消息中提取UE IP address字段和Frame route字段，以将UE IP address字段作为无线终端的IP地址，并将Frame route字段作为后挂终端的IP地址段。分组交换控制协议，用于定义UPF对协议数据单元进行标识、转发、缓存、标记、报告和多接入的方式。具体地，PFCP协议可参考3GPP TS29.244。在本实施例中，地址管理装置从地址分配应答消息中获取与PFCP协议匹配的数据包，并根据PFCP协议对数据包进行解码。具体地，根据数据包包头中的消息类型，过滤出PFCP会话建立请求消息，即，若Message Type＝50，则表明该消息为PFCP会话建立请求消息。PFCP消息字段为多层次结构，地址管理装置根据PFCP会话建立请求消息的格式，在对应位置提取出UE IP address字段和Frame route字段。具体提取字段为：PFCPSession Establishment Request-＞Create PDR-＞PDI-＞UE IP Address；PFCP SessionEstablishment Request-＞Create PDR-＞PDI-＞Frame Route。在本实施例中，地址管理装置将UE IP address字段作为无线终端的IP地址，将Frame route字段作为后挂终端的IP地址段。在本实施例中，通过交换机或者分光器复制地址分配应答消息，并通过DPI解码对地址分配应答消息进行解码，具体为从地址分配应答消息中获取与PFCP协议匹配的数据包，根据数据包包头中的消息类型，过滤出PFCP会话建立请求消息，并根据PFCP会话建立请求消息的格式，在对应位置提取出相关字段作为无线终端的IP地址和后挂终端的IP地址段。相较于现有技术通过人工手段查看和下载后挂终端的IP地址段，本申请复制地址分配应答消息并进行解码，实现了自动获取无线终端的IP地址和后挂终端的IP地址段，进一步提高了IP地址段获取和使用的效率，保证了后挂终端与网络侧服务器之间数据业务的成功实现。图4为本申请提供的一种地址管理方法实施例三的流程示意图。在上述图2或者图3所示实施例的基础上，参见图4，上述步骤S203的一种具体实现方式为：步骤S401：根据该无线终端的IP地址，与该无线终端建立TCP连接，并查询获取该无线终端的ACS URL值。步骤S402：根据该无线终端的ACS URL值，向该无线终端发送设置参数值请求，该设置参数值请求包括该后挂终端的IP地址段，以供该无线终端根据该设置参数值请求中的该后挂终端的IP地址段配置该后挂终端的IP地址池。在本实施例中，地址管理装置根据无线终端的IP地址，采用与无线终端协商好的配置信息传输协议，与无线终端建立连接。具体地，可以采用TR069协议。在TR069协议下，地址管理装置为自动配置服务器，无线终端为用户驻地设备。图5为自动配置服务器通过UPF将IP地址段发送给用户驻地设备的信令流程示意图。如图5所示，该发送信令流程具体包括：ACS与CPE之间建立TCP连接。安全套接字协议初始化，建立安全机制。CPE发送Inform报文，通知ACS要求建立连接。如果CPE通过ACS的认证，ACS会返回Inform响应报文，连接建立。ACS查询CPE上设置的ACS URL的值。CPE把获取到的ACS URL的值回复给ACS。ACS发起设置参数值请求，要求修改该CPE的IP地址池。其中，该设置参数值请求中携带参数列表，其中携带后挂终端的IP地址段，该参数列表可以是一个name-value的键值对数组，例如，其中IP_Pool为CPE上的IP地址池参数名，10.0.0.0/24为IP地址段。CPE设置IP地址池成功，给ACS发送响应报文。在本实施例中，地址管理装置根据无线终端的IP地址，采用与无线终端协商好的配置信息传输协议，与无线终端建立连接，根据查询获取的该无线终端的ACS URL值，向该无线终端发送携带有后挂终端的IP地址段的设置参数值请求。相较于现有技术通过人工手段查看和下载后挂终端的IP地址段，本申请通过向无线终端发送携带有后挂终端的IP地址段的设置参数值请求，实现了自动将后挂终端的IP地址段传输给无线终端，进一步提高了IP地址段获取和使用的效率，保证了后挂终端与网络侧服务器之间数据业务的成功实现。图6为本申请提供的一种地址管理装置实施例的结构示意图。如图6所示，该地址管理装置60包括：获取模块61，解码模块62，处理模块63。其中，获取模块61用于获取会话管理功能SMF发送给用户平面功能UPF的地址分配应答消息；其中，该地址分配应答消息为SMF根据接收到的无线终端发送的地址分配请求返回的应答消息。解码模块62用于通过深度数据包检测DPI解码，对该地址分配应答消息进行解码，以获取该地址分配应答消息中分配给该无线终端的IP地址和后挂终端的IP地址段；该后挂终端为挂载在该无线终端下的终端。处理模块63用于根据该无线终端的IP地址，并采用配置信息传输协议，与该无线终端建立连接，并将该后挂终端的IP地址段通过UPF发送给该无线终端，以使该无线终端根据该IP地址段配置该后挂终端的IP地址池。本申请实施例提供的地址管理装置可以执行上述方法实施例所示的技术方案，其实现原理以及有益效果类似，此处不再进行赘述。在一种可能的实施方案中，获取模块61具体用于从SMF与UPF之间连接的交换机或者分光器中获取复制后的地址分配应答消息。本申请实施例提供的地址管理装置可以执行上述方法实施例所示的技术方案，其实现原理以及有益效果类似，此处不再进行赘述。在一种可能的实施方案中，解码模块62具体用于从该地址分配应答消息中获取与PFCP协议匹配的数据包；根据该与PFCP协议匹配的数据包的包头中的消息类型，获取该数据包中的PFCP会话建立请求消息；从该PFCP会话建立请求消息中提取UE IP address字段和Frame route字段，以将UE IP address字段作为无线终端的IP地址，并将Frame route字段作为后挂终端的IP地址段。本申请实施例提供的地址管理装置可以执行上述方法实施例所示的技术方案，其实现原理以及有益效果类似，此处不再进行赘述。在一种可能的实施方案中，处理模块63具体用于根据该无线终端的IP地址，与该无线终端建立TCP连接，并查询获取该无线终端的ACS URL值；根据该无线终端的ACS URL值，向该无线终端发送设置参数值请求，该设置参数值请求包括该后挂终端的IP地址段，以供该无线终端根据该设置参数值请求中的该后挂终端的IP地址段配置该后挂终端的IP地址池。本申请实施例提供的地址管理装置可以执行上述方法实施例所示的技术方案，其实现原理以及有益效果类似，此处不再进行赘述。图7为本申请提供的一种电子设备的结构示意图。如图7所示，该电子设备70包括处理器71，存储器72，以及通信接口73。其中，存储器72用于存储处理器71的可执行指令；处理器71配置为经由执行可执行指令来执行前述任一方法实施例中的技术方案。可选的，存储器72既可以是独立的，也可以跟处理器71集成在一起。可选的，当存储器72是独立于处理器71之外的器件时，电子设备70还可以包括：总线74，用于将上述器件连接起来。该电子设备用于执行前述任一方法实施例中的技术方案，其实现原理和技术效果类似，在此不再赘述。图8为本申请提供的一种网络侧服务系统的结构示意图。如图8所示，该网络侧服务系统，包括地址管理装置，AAA服务器，核心网网元SMF，核心网网元UPF以及交换机或分光器。该交换机位于SMF与UPF之间，该交换机的接收端口通过光纤与SMF连接，该交换机的输出端口分别通过光纤与UPF和地址管理装置连接；该分光器位于SMF与UPF之间，该分光器的接收端口通过光纤与SMF连接，该分光器的输出端口分别通过光纤与UPF和地址管理装置连接。本领域普通技术人员可以理解：实现上述各方法实施例的全部或部分步骤可以通过程序指令相关的硬件来完成。前述的程序可以存储于一计算机可读取存储介质中。该程序在执行时，执行包括上述各方法实施例的步骤；而前述的存储介质包括：ROM、RAM、磁碟或者光盘等各种可以存储程序代码的介质。最后应说明的是：以上各实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述各实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或对其中部分或全部技术特征进行等同替换；而这些修改或替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围。
