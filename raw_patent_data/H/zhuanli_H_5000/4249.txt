标题title
基于禁忌搜索与深度稳定学习的光伏区域预测方法及装置
摘要abst
本发明提出一种基于禁忌搜索与深度稳定学习的光伏区域预测方法及装置，包括：S1、获取历史数据集：S2、气象预测模型订正：S3、聚类：根据出力相关性将所有分布式光伏站点划定为不同的区域；S4、建立转换模型：采用深度稳定学习网络，对每个区域建立气象‑光伏转换模型；S5、使用禁忌搜索算法得到优化的气象‑光伏转换模型；S6、进行区域分布式光伏的功率预测。本发明针对分布式光伏进行区域整体功率预测，可以体现各分布式光伏所在地的不同气象时序特征，可以有效避免集中式光伏和分布式光伏出力效率随着天气和使用寿命不同而不同的情况，可以有效地提升预测模型的稳定性和准确性。
权利要求书clms
1.一种基于禁忌搜索与深度稳定学习的光伏区域预测方法，其特征在于，包括：S1、获取历史数据集：所述历史数据集包括各分布式光伏站点的气象实测数据、相应时刻的各分布式光伏站点的气象预测数据、相应时刻的各分布式光伏站点的光伏实发功率数据；S2、气象预测模型订正：使用所述气象实测数据，对各分布式光伏站点的气象预测模型进行模型订正，进而得到各分布式光伏站点的订正后的气象预测数据；S3、聚类：使用KNN聚类算法，基于光伏实发功率对各分布式光伏站点进行出力相关性的聚类分析，根据出力相关性将所有分布式光伏站点划定为不同的区域；S4、建立转换模型：使用所述区域内各分布式光伏站点的气象预测数据和光伏实发功率数据，采用深度稳定学习网络，对每个区域建立气象-光伏转换模型；S5、使用禁忌搜索算法进行参数搜寻，调节气象-光伏转换模型参数，得到优化的气象-光伏转换模型；S6、使用步骤S2得到的订正后的气象预测数据，与步骤S5得到的优化的气象-光伏转换模型，进行区域分布式光伏的功率预测。2.根据权利要求1所述的基于禁忌搜索与深度稳定学习的光伏区域预测方法，其特征在于，步骤S4中建立转换模型的具体步骤包括：S401、提取气象预测数据中的气象要素，所述气象要素包括风速、风向、温度、湿度、压强、辐照度；S402、将所述区域内的各分布式光伏站点气象预测数据中提取的气象要素数据，以并行的方式，跟光伏实发功率数据进行建模。3.根据权利要求1所述的基于禁忌搜索与深度稳定学习的光伏区域预测方法，其特征在于，步骤S5中所述禁忌搜索算法，调节的是气象-光伏转换模型的误差函数中的输入层和隐含层的连接权重、隐含层和输出层的连接权重、隐含层的阈值和输出层的阈值。4.一种基于禁忌搜索与深度稳定学习的光伏区域预测装置，其特征在于，包括：获取模块，用于获取历史数据集，所述历史数据集包括各分布式光伏站点的气象实测数据、相应时刻的各分布式光伏站点的气象预测数据、相应时刻的各分布式光伏站点的光伏实发功率数据；订正模块，用于气象预测模型订正；使用所述气象实测数据，对各分布式光伏站点的气象预测模型进行模型订正，进而得到各分布式光伏站点的订正后的气象预测数据；聚类模块，用于使用KNN聚类算法，基于光伏实发功率对各分布式光伏站点进行出力相关性的聚类分析，根据出力相关性将所有分布式光伏站点划定为不同的区域；建模模块，用于建立转换模型；使用所述区域内各分布式光伏站点的气象预测数据和光伏实发功率数据，采用深度稳定学习网络，对每个区域建立气象-光伏转换模型；参数优化模块，用于使用禁忌搜索算法进行参数搜寻，调节气象-光伏转换模型参数，得到优化的气象-光伏转换模型；预测模块，用于使用订正模块得到的订正后的气象预测数据，与参数优化模块得到的优化的气象-光伏转换模型，进行区域分布式光伏的功率预测。5.根据权利要求4所述的基于禁忌搜索与深度稳定学习的光伏区域预测装置，其特征在于，建模模块包括：气象要素提取单元，用于提取气象预测数据中的气象要素，所述气象要素包括风速、风向、温度、湿度、压强、辐照度；建模单元，用于将所述区域内的各分布式光伏站点气象预测数据中提取的气象要素数据，以并行的方式，跟光伏实发功率数据进行建模。6.根据权利要求4所述的基于禁忌搜索与深度稳定学习的光伏区域预测装置，其特征在于，参数优化模块中所述禁忌搜索算法调节的是气象-光伏转换模型的误差函数中的输入层和隐含层的连接权重、隐含层和输出层的连接权重、隐含层的阈值和输出层的阈值。
说明书desc
技术领域本发明属于新能源电力技术领域，特别是涉及到一种基于禁忌搜索与深度稳定学习的光伏区域预测方法及装置。背景技术随着分布式光伏并网容量迅速增加，准确有效地对区域内分布式光伏电站出力进行预测，可以帮助电力系统调度人员做出有效决策，维持电网平衡；同时，也可以为电力市场调节和光伏发电功率交易提供可靠依据。目前光伏分布式受到数据采集和传输的问题影响，预测多采用集中式光伏预测折算的方式进行，即：在建立分布式模型时，针对部分样板站点进行统一建模，并使用气象数据进行气象-功率转换计算。计算完样板站点的出力后，再对整体区域进行统一折算。由于气象数据有时序性，因此对光伏出力影响较大的因素，例如云层厚度、辐照度等，变化都是随着地理位置的不同而不一致的。在预测区域光伏出力数据时，使用样板站点较难完全体现区域内光伏出力的个体特征，进行预测折算会出现一些时序性偏差，进而影响分布式光伏的预测准确度。采用集中式预测折算的方式虽然可以缓解上述问题，但是由于集中式光伏的出力效率和分布式光伏的出力效率相差较大，且在不同的气象条件下两者出力效率更是相差甚远。因此，采用集中式功率预测折算的方式进行分布式区域预测得到的预测精度也不尽如人意。发明内容本发明提出一种基于禁忌搜索与深度稳定学习的光伏区域预测方法及装置，针对分布式光伏进行区域整体功率预测，可以体现各分布式光伏所在地的不同气象时序特征，可以缓解采用样板点预测折算方式出现的时序性偏差。同时，采用分布式光伏数据直接进行预测模型训练，可以有效避免集中式光伏和分布式光伏出力效率随着天气和使用寿命不同而不同的情况，可以有效地提升预测模型的稳定性和准确性。为达到上述目的，本发明的技术方案是这样实现的：一种基于禁忌搜索与深度稳定学习的光伏区域预测方法，包括：S1、获取历史数据集：所述历史数据集包括各分布式光伏站点的气象实测数据、相应时刻的各分布式光伏站点的气象预测数据、相应时刻的各分布式光伏站点的光伏实发功率数据；所述历史数据集可以通过气象实测数据中的的辐照度与光伏实发功率的正比关系，进行实发功率的异常数据剔除；S2、气象预测模型订正：使用所述气象实测数据，对各分布式光伏站点的气象预测模型进行模型订正，进而得到各分布式光伏站点的订正后的气象预测数据；S3、聚类：使用KNN聚类算法，基于光伏实发功率对各分布式光伏站点进行出力相关性的聚类分析，根据出力相关性将所有分布式光伏站点划定为不同的区域；S4、建立转换模型：使用所述区域内各分布式光伏站点的气象预测数据和光伏实发功率数据，采用深度稳定学习网络，对每个区域建立气象-光伏转换模型；S5、使用禁忌搜索算法进行参数搜寻，调节气象-光伏转换模型参数，得到优化的气象-光伏转换模型；S6、使用步骤S2得到的订正后的气象预测数据，与步骤S5得到的优化的气象-光伏转换模型，进行区域分布式光伏的功率预测。进一步的，步骤S4中建立转换模型的具体步骤包括：S401、提取气象预测数据中的气象要素，所述气象要素包括风速、风向、温度、湿度、压强、辐照度；这些气象要素属于本质特征，可以根据其物理含义，确定相互之间没有相关性。S402、将所述区域内的各分布式光伏站点气象预测数据中提取的气象要素数据，以并行的方式，跟光伏实发功率数据进行建模。这样可以满足深度稳定学习的数据量需求。其中，由于场站位置相距较近，辐照度、湿度、压强和温度数据会有一定的相关性，但是此类数据又体现了各场站之间位置的差异，因此在建模的时候是不做相关性处理的。进一步的，步骤S5中所述禁忌搜索算法，调节的是气象-光伏转换模型的误差函数中的输入层和隐含层的连接权重、隐含层和输出层的连接权重、隐含层的阈值和输出层的阈值。本发明另一方面还提供了一种基于禁忌搜索与深度稳定学习的光伏区域预测装置，包括：获取模块，用于获取历史数据集，所述历史数据集包括各分布式光伏站点的气象实测数据、相应时刻的各分布式光伏站点的气象预测数据、相应时刻的各分布式光伏站点的光伏实发功率数据；所述历史数据集可以通过气象实测数据中的的辐照度与光伏实发功率的正比关系，进行实发功率的异常数据剔除；订正模块，用于气象预测模型订正；使用所述气象实测数据，对各分布式光伏站点的气象预测模型进行模型订正，进而得到各分布式光伏站点的订正后的气象预测数据；聚类模块，用于使用KNN聚类算法，基于光伏实发功率对各分布式光伏站点进行出力相关性的聚类分析，根据出力相关性将所有分布式光伏站点划定为不同的区域；建模模块，用于建立转换模型；使用所述区域内各分布式光伏站点的气象预测数据和光伏实发功率数据，采用深度稳定学习网络，对每个区域建立气象-光伏转换模型；参数优化模块，用于使用禁忌搜索算法进行参数搜寻，调节气象-光伏转换模型参数，得到优化的气象-光伏转换模型；预测模块，用于使用订正模块得到的订正后的气象预测数据，与参数优化模块得到的优化的气象-光伏转换模型，进行区域分布式光伏的功率预测。进一步的，建模模块包括：气象要素提取单元，用于提取气象预测数据中的气象要素，所述气象要素包括风速、风向、温度、湿度、压强、辐照度；这些气象要素属于本质特征，可以根据其物理含义，确定相互之间没有相关性。建模单元，用于将所述区域内的各分布式光伏站点气象预测数据中提取的气象要素数据，以并行的方式，跟光伏实发功率数据进行建模。这样可以满足深度稳定学习的数据量需求。其中，由于场站位置相距较近，辐照度、湿度、压强和温度数据会有一定的相关性，但是此类数据又体现了各场站之间位置的差异，因此在建模的时候是不做相关性处理的。进一步的，参数优化模块中所述禁忌搜索算法调节的是气象-光伏转换模型的误差函数中的输入层和隐含层的连接权重、隐含层和输出层的连接权重、隐含层的阈值和输出层的阈值。与现有技术相比，本发明具有如下的有益效果：1、本发明通过聚类划分区域，并且对区域光伏直接进行预测，可以有效避开进行折算时气象时序性和发电效率不一致导致的预测偏差，提高区域光伏预测的准确性；2. 本发明对于建模采用深度稳定学习的概念，可以缓解训练集和测试集数据分布不一致导致的模型预测效果不好的问题；3、本发明采用禁忌搜索算法优化深度稳定学习算法建模的参数，提高了气象-光伏转换模型运行效率及预测精度；4、本发明建立的气象-光伏转换模型可以更好地表征区域内各场站站点的气象特征，同时可以更方便地进行特征工程和特征衍生。最为重要的一点是深度稳定学习可以保证在光伏出力特性随季节变化后，所述模型也可以较精准地对光伏出力进行预测。附图说明图1是本发明实施例的流程示意图；图2是本发明实施例的功率曲线对比图。具体实施方式需要说明的是，在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。实施例：1、在分布式光伏站点获取气象采集站得到的气象实测数据，并获取相应时刻的各站点的气象预测数据、光伏实发功率数据等历史数据集，通过气象实测数据中的辐照度与光伏实发功率的正比关系，进行发电异常数据剔除。2、使用气象采集站获得的气象实测数据，对各站点气象数据的气象模型进行模型订正，进而得到订正后的各站点气象预测数据。所述模型订正是指使用离线的气象实测数据，对于产生离线气象预测数据的模型进行特征优化和超参数优化，让气象预测数据模型得到的结果，与离线的气象实测数据更为接近，从而达到模型订正的效果。3、使用KNN聚类算法，对不同区域的分布式光伏站点出力进行聚类分析，具体为根据分布式光伏站点实际的发电情况，进行出力相关性的聚类分析。因为光伏发电出力，在晴天的时候比较稳定，但是在多云天或者阴天的时候，会有一些波动，而这些波动就是寻找相关性的最好的标志。出力相关性的聚类分析过程为：先分析各站点与周边站点的出力相关性系数，然后将出力相关性系数大的站点聚成相同的类。利用KNN算法，确定如何判定相关性系数的大小；将原大区域按照聚类分析的结果进行重新划分，以保证划分的区域内的光伏出力相关性；具体划分过程为：1）分析分布式光伏各个站点的实发出力的数据，根据数据相关性划定区域；2）在每个划定的区域内选定一个样板站，并确定为该区域的代表站；3）将剩余数据的站点依次放入原大区域内，在原大区域内找到对于剩余数据站点的区域近邻，并将剩余数据站点划分到该近邻的区域。4、使用划分的区域内各站点的气象预测数据和同区域的分布式光伏站点实发功率数据，采用深度稳定学习的方法，对该区域建立气象-光转换模型；对于光伏建模的气象预测数据，一般包含6个气象要素：风速、风向、温度、湿度、压强、辐照度，这些特征属于本质特征。同时，这些数据特征可以根据其物理含义，确定相互之间没有相关性。在建模的过程中，将划分的区域内的各站点的气象要素，以并行的方式，跟光伏实发功率数据进行建模，这样可以满足深度稳定学习的数据量需求。由于站点位置相距较近，辐照度、湿度、压强和温度数据会有一定的相关性，但是此类数据又体现了各站点之间位置的差异，因此在建模的时候是不做相关性处理的。而且6个气象要素的物理含义各异，所以没有针对各项数据进行额外的特征工程处理。其中，所述并行的方式，是指各站点在同一时间的气象预测数据并列作为输入特征。这样可以让算法提取到各站点的气象数据特征，同时也可以为特征工程和特征衍生提供方便。另外，建模所使用的光伏实发功率数据，是指该区域内的所有站点的光伏实发功率和，保证建模后在预测的时候，可以得到该区域的光伏功率预测结果。5、在采用深度稳定学习的过程中，可以使用禁忌搜索算法进行参数搜寻，调节参数来保证深度稳定学习得到最好的算法模型；假设深度学习网络的误差函数是f=f，其中，Wh、Wo、θh、θo分别表示输入层和隐含层的连接权重、隐含层和输出层的连接权重、隐含层的阈值和输出层的阈值。对网络的优化就是求min f的过程。为叙述方便，用Δ来表示。步骤、初始化Δ。具体方法是为Δ的每个分量赋一个较小的随机数，记为Δinitial；步骤、Δbest目前为止搜索导的最优解，Δnow表示当前解，令Δbest=Δnow，并将Δnow存储在禁忌表里；步骤、产生Δinitial的一个邻域解Δnew，计算f和f；步骤、若f连续多次没有改变，则终止算法并输出结果，否则继续下面的步骤；步骤、若f＜ f，则Δbest=Δnew，Δnow=Δnew，Δnew进入禁忌表，表内存储的点顺序后移，即禁忌表被更新；若f≧f，判断Δnew是否被禁忌，如果Δnew在禁忌表中某存储点的给定邻域里，表示Δnew被禁忌，则重新产生一个邻域解向量Δnew；如果Δnew没有被禁忌，则Δnow=Δnew，同时更新禁忌表；步骤、产生Δnow的一个邻域解Δnew，转步骤；训练结束时，得到训练好的权重向量Wh、Wo以及阈值向量θh、θo。6、使用步骤2中得到的订正后的区域内各站点的气象数据，与步骤5中得到的气象-光转换模型，进行区域分布式光伏的功率预测。本发明所述方法具体应用案例如图2所示，图2为某地市的光伏功率曲线图，包括实发功率曲线、旧的传统方法预测功率曲线，新的本发明所述方法预测功率曲线；同旧方法相比，本发明的新方法预测精度由89.98%提升到了97.72%。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
