标题title
一种智能PDU输出控制系统及方法
摘要abst
本发明提供一种智能PDU输出控制系统及方法，属于服务器测试技术领域，所述系统包括智能交换机模块和若干供电输出模块；各供电输出模块均包括控制单元、智能继电器模组以及供电输出接口；智能继电器模组包括继电器和侦测告警单元；各控制单元与同一供电输出模块的继电器及侦测告警单元均连接，继电器与同一供电输出模块的供电输出接口连接；智能交换机模块与各供电输出模块的控制单元均连接，并为各控制单元分配不同的加密IP；各控制单元控制侦测告警单元检测对应继电器是否可正常吸合，并在继电器无法正常吸合时，进行告警。本发明实现单独对供电输出接口的控制，实现继电器吸合有效性的检测，提供测试安全性以及出现问题时的问题定位效率。
权利要求书clms
1.一种智能PDU输出控制系统，其特征在于，包括智能交换机模块和若干供电输出模块；各供电输出模块均包括控制单元、智能继电器模组以及供电输出接口；智能继电器模组包括继电器和侦测告警单元；各控制单元与同一供电输出模块的继电器及侦测告警单元均连接，继电器与同一供电输出模块的供电输出接口连接；智能交换机模块与各供电输出模块的控制单元均连接，并为各控制单元分配不同的加密IP；各控制单元控制侦测告警单元检测对应继电器是否可正常吸合，并在继电器无法正常吸合时，进行告警。2.如权利要求1所述的智能PDU输出控制系统，其特征在于，智能交换机模块采用智能Mini交换机系统。3.如权利要求1所述的智能PDU输出控制系统，其特征在于，每个供电输出模块设有网口；智能交换机模块通过网口为各控制单元分配不同的加密IP。4.如权利要求1所述的智能PDU输出控制系统，其特征在于，继电器包括铁芯、触点支撑杆、连接触点对和动作触点；触点支撑杆第一端与供电输出接口所在回路连接，连接触点对的一个触点设置在触点支撑杆第二端，连接触点对的另一个触点与供电输出接口所在回路连接；侦测告警单元包括红外光源、光敏二极管和报警装置；连接触点对设置在红外光源与光敏二极管之间；光敏二极管与报警装置串联；报警装置与控制单元连接；当连接触点对断开时，光敏二极管接收到红外光源发射的红外光，从而导通，触发报警装置；当连接触点对闭合时，光敏二极管与红外光源之间隔离，光敏二极管不导通，报警装置不工作。5.如权利要求4所述的智能PDU输出控制系统，其特征在于，铁芯上缠绕有线圈，线圈的两端与控制单元连接；触点支撑杆第一端处设有活动端子，并通过活动端子与供电输出接口所在回路连接；动作触点设置触点支撑杆中部的下端，并与铁芯位置对应；触点支撑杆中部的上端设有弹簧，且弹簧与动作触点位置对应；控制单元控制线圈通电，铁芯通过动作触点将触点支撑杆吸下，连接触点闭合。6.一种基于上述权利要求1-5任一项的智能PDU输出控制方法，其特征在于，包括如下步骤：S1.智能交换机模块向各供电输出模块的控制单元分配不同的加密IP；S2.各控制单元分别监控所在供电输出模块的智能继电器模组，判断各智能继电器模组的继电器是否可正常吸合，并在继电器无法正常吸合时，通过对应侦测告警单元进行告警。7.如权利要求6所述的智能PDU输出控制方法，其特征在于，步骤S1具体步骤如下：S11.智能交换机模块获取供电输出模块的数量；S12.智能交换机模块获取各供电输出模块的控制单元的网口，并通过网口为每个控制单元分配不同的加密IP。8.如权利要求7所述的智能PDU输出控制方法，其特征在于，步骤S2具体步骤如下：S21.控制单元控制所在供电输出模块的继电器闭合；S22.控制单元通过对应侦测告警单元检测继电器是否可正常闭合，并在继电器无法闭合时，进行告警。9.如权利要求8所述的智能PDU输出控制方法，其特征在于，步骤S21具体步骤如下：S211.控制单元控制继电器的线圈通电；S212.铁芯通过动作触点将触点支撑杆吸下，连接触点对闭合。10.如权利要求9所述的智能PDU输出控制方法，其特征在于，步骤S22具体步骤如下：S221.判断报警装置是否发出警报；若是，进入步骤S222；若否，判定继电器吸合动作成功，继电器正常，结束；S222.判定光敏二极管接收到红外光源发射的红外光，进而判定连接触点未闭合，继电器吸合动作失败；S223.控制单元判断是否首次继电器吸合失败；若是，返回步骤S221；若否，进入步骤S224；S224.控制单元判定对应继电器损坏或寿命截止，并通过网口向智能交换机模块申请更换智能继电器模组，结束。
说明书desc
技术领域本发明属于服务器测试技术领域，具体涉及一种智能PDU输出控制系统及方法。背景技术伴随云计算应用的发展，服务器应用到各个领域，对服务器稳定性及可靠性要求越来越高。AC循环测试和DC循环测试作为服务器稳定性和可靠性测试的基础项目，是各服务器机型的必测项目。单纯的ACDC源价格过高，现有的AC循环测试和DC循环测试为了提高测试效率，降低测试投入，普遍使用智能PDU进行输入电源的开关控制，但是智能PDU的部分继电器有接通和断开的寿命限制，超过限制后如果未及时更换继电器则容易出现概率性无法吸合问题，影响测试结果的判定，也会增加额外的问题处理投入。再者，智能PDU的每个IP没有秘钥，测试过程中会存在被人更改的风险，影响测试进度和结果。此为现有技术的不足，因此，针对现有技术中的上述缺陷，提供一种智能PDU输出控制系统及方法，是非常有必要的。发明内容针对现有技术的上述服务器AC循环测试及DC循环测试过程中智能PDU的继电器过寿命无法识别，以及每个端口输出容易被他人更改的缺陷，本发明提供一种智能PDU输出控制系统及方法，以解决上述技术问题。第一方面，本发明提供一种智能PDU输出控制系统，包括智能交换机模块和若干供电输出模块；各供电输出模块均包括控制单元、智能继电器模组以及供电输出接口；智能继电器模组包括继电器和侦测告警单元；各控制单元与同一供电输出模块的继电器及侦测告警单元均连接，继电器与同一供电输出模块的供电输出接口连接；智能交换机模块与各供电输出模块的控制单元均连接，并为各控制单元分配不同的加密IP；各控制单元控制侦测告警单元检测对应继电器是否可正常吸合，并在继电器无法正常吸合时，进行告警。进一步地，智能交换机模块采用智能Mini交换机系统。进一步地，每个供电输出模块设有网口；智能交换机模块通过网口为各控制单元分配不同的加密IP。传统的智能PDU通一个网口控制所有供电输出模块的输出和关闭，一个PDU上只能有一种操控，每个供电输出模块的开关时间都是相同的，如果需要差异化测试就需要多个PDU支持；本发明增加了智能PDU使用的灵活性及安全性，通过智能交换机模块针对各供电输出接口旁的网口进行IP的分配，每个IP的网络可以通过控制单元控制继电器和侦测告警单元，同时也可进行用户IP加密信息使用，同一个PDU可以多人多测试参数同时操作，互不影响。进一步地，继电器包括铁芯、触点支撑杆、连接触点对和动作触点；触点支撑杆第一端与供电输出接口所在回路连接，连接触点对的一个触点设置在触点支撑杆第二端，连接触点对的另一个触点与供电输出接口所在回路连接；侦测告警单元包括红外光源、光敏二极管和报警装置；连接触点对设置在红外光源与光敏二极管之间；光敏二极管与报警装置串联；报警装置与控制单元连接；当连接触点对断开时，光敏二极管接收到红外光源发射的红外光，从而导通，触发报警装置；当连接触点对闭合时，光敏二极管与红外光源之间隔离，光敏二极管不导通，报警装置不工作。控制单元会采集继电器吸合信息，如果发现继电器吸合异常，则会控制报警装置用于异常现象的告警，在告警后会去尝试继电器的重新闭合，这样测试出现的问题可以全过程记录，避免后续反复的复现查找。红外光源与光敏二极管可采用同一个直流供电电源，也可使用各自的直流供电电源。进一步地，铁芯上缠绕有线圈，线圈的两端与控制单元连接；触点支撑杆第一端处设有活动端子，并通过活动端子与供电输出接口所在回路连接；动作触点设置触点支撑杆中部的下端，并与铁芯位置对应；触点支撑杆中部的上端设有弹簧，且弹簧与动作触点位置对应；控制单元控制线圈通电，铁芯通过动作触点将触点支撑杆吸下，连接触点对闭对合。控制单元可以控制线圈的通电与断开，从而控制继电器的铁芯将触点支撑杆吸下与松开；活动端子与弹簧的配合使得触点支撑杆的动作得以实现，触点支撑杆可以绕活动端子转动，触点支撑杆为电性导体，实现连接触点对闭合时，对供电输出接口向外供电的控制。第二方面，本发明提供一种基于上述第一方面的智能PDU输出控制方法，包括如下步骤：S1.智能交换机模块向各供电输出模块的控制单元分配不同的加密IP；S2.各控制单元分别监控所在供电输出模块的智能继电器模组，判断各智能继电器模组的继电器是否可正常吸合，并在继电器无法正常吸合时，通过对应侦测告警单元进行告警。进一步地，步骤S1具体步骤如下：S11.智能交换机模块获取供电输出模块的数量；S12.智能交换机模块获取各供电输出模块的控制单元的网口，并通过网口为每个控制单元分配不同的加密IP。进一步地，步骤S2具体步骤如下：S21.控制单元控制所在供电输出模块的继电器闭合；S22.控制单元通过对应侦测告警单元检测继电器是否可正常闭合，并在继电器无法闭合时，进行告警。控制单元可对各供电输出模块的网口单独进行控制，从而实现各供电输出接口的单独控制。进一步地，步骤S21具体步骤如下：S211.控制单元控制继电器的线圈通电；S212.铁芯通过动作触点将触点支撑杆吸下，连接触点对闭合。正常情况下，线圈通电，继电器将吸合，连接触点会对闭合。进一步地，步骤S22具体步骤如下：S221.判断报警装置是否发出警报；若是，进入步骤S222；若否，判定继电器吸合动作成功，继电器正常，结束；S222.判定光敏二极管接收到红外光源发射的红外光，进而判定连接触点未闭合，继电器吸合动作失败；S223.控制单元判断是否首次继电器吸合失败；若是，返回步骤S221；若否，进入步骤S224；S224.控制单元判定对应继电器损坏或寿命截止，并通过网口向智能交换机模块申请更换智能继电器模组，结束。红外光源不停向外发射红外光，连接触点对不闭合时，光敏二极管可接收到红外光，从而导通，报警装置所在回路导通，进行报警；当连接触点对闭合时，红外光源发出红外光被阻挡，无法被光敏二极管接收到，因而，光敏二极管不导通，报警装置所在回路无法导通，不进行报警。本发明的有益效果在于：本发明提供的智能PDU输出控制系统及方法，通过智能交换机模块为每个控制单元分配独立的加密IP，实现单独对供电输出接口的控制，并保障操作不被修改，实现继电器吸合有效性的检测，有效解决服务器AC及DC循环测试时继电器过寿命无法识别及每个端口输出容易被他人更改的问题，提供测试安全性以及出现问题时的问题定位效率。此外，本发明设计原理可靠，结构简单，具有非常广泛的应用前景。由此可见，本发明与现有技术相比，具有突出的实质性特点和显著的进步，其实施的有益效果也是显而易见的。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，对于本领域普通技术人员而言，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明的智能PDU输出控制系统连接示意图。图2是本发明的智能PDU输出控制系统的智能继电器模组的结构示意图。图3是本发明的智能PDU输出控制方法实施例3的流程示意图。图4是本发明的智能PDU输出控制方法实施例4及实施例5的流程示意图。图中，1-智能交换机模块；2-控制单元；3-网口；4-智能继电器模组；5-供电输出接口；6-继电器；6.1-铁芯；6.2-触点支撑杆；7-侦测告警单元；7.1-红外光源；7.2-光敏二极管；7.3-报警装置；8-继电器；9-活动端子；10-弹簧；P-连接触点对；A-动作触点。具体实施方式为了使本技术领域的人员更好地理解本发明中的技术方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。实施例1：如图1所示，本发明提供一种智能PDU输出控制系统，包括智能交换机模块1和若干供电输出模块8；各供电输出模块8均包括控制单元2、智能继电器模组4以及供电输出接口5；智能继电器模组2包括继电器6和侦测告警单元7；各控制单元2与同一供电输出模块8的继电器8及侦测告警单元7均连接，继电器6与同一供电输出模块8的供电输出接口5连接；智能交换机模块1与各供电输出模块的控制单元2均连接，并为各控制单元2分配不同的加密IP；各控制单元2控制侦测告警单元7检测对应继电器6是否可正常吸合，并在继电器6无法正常吸合时，进行告警。本发明提供的智能PDU输出控制系统，通过智能交换机模块为每个控制单元分配独立的加密IP，实现单独对供电输出接口的控制，并保障操作不被修改，实现继电器吸合有效性的检测，有效解决服务器AC及DC循环测试时继电器过寿命无法识别及每个端口输出容易被他人更改的问题，提供测试安全性以及出现问题时的问题定位效率。实施例2：如图1所示，本发明提供一种智能PDU输出控制系统，包括智能交换机模块1和若干供电输出模块8；智能交换机模块1采用智能Mini交换机系统；各供电输出模块8均包括控制单元2、智能继电器模组4以及供电输出接口5；智能继电器模组2包括继电器6和侦测告警单元7；各控制单元2与同一供电输出模块8的继电器8及侦测告警单元7均连接，继电器6与同一供电输出模块8的供电输出接口5连接；智能交换机模块1与各供电输出模块的控制单元2均连接，并为各控制单元2分配不同的加密IP；每个供电输出模块8设有网口3；智能交换机模块1通过网口3为各控制单元2分配不同的加密IP；各控制单元2控制侦测告警单元7检测对应继电器6是否可正常吸合，并在继电器6无法正常吸合时，进行告警；如图2所示，继电器6包括铁芯6.1、触点支撑杆6.2、连接触点对P和动作触点A；触点支撑杆6.2第一端与供电输出接口5所在回路连接，连接触点对P的一个触点设置在触点支撑杆6.2第二端，连接触点对P的另一个触点与供电输出接口5所在回路连接；侦测告警单元7包括红外光源7.1、光敏二极管7.2和报警装置7.3；连接触点对9设置在红外光源7.1与光敏二极管7.2之间；光敏二极管7.2与报警装置7.3串联；报警装置7.3与控制单元2连接；当连接触点对9断开时，光敏二极管7.2接收到红外光源7.1发射的红外光，从而导通，触发报警装置7.3；当连接触点对9闭合时，光敏二极管7.2与红外光源7.1之间隔离，光敏二极管7.2不导通，报警装置7.3不工作；铁芯6.1上缠绕有线圈，线圈的两端与控制单元2连接；触点支撑杆6.2第一端处设有活动端子9，并通过活动端子9与供电输出接口5所在回路连接；动作触点A设置触点支撑杆6.2中部的下端，并与铁芯6.1位置对应；触点支撑杆6.2中部的上端设有弹簧10，且弹簧10与动作触点A位置对应；控制单元2控制线圈通电，铁芯6.1通过动作触点A将触点支撑杆6.2吸下，连接触点P闭合。传统的智能PDU通一个网口控制所有供电输出模块的输出和关闭，一个PDU上只能有一种操控，每个供电输出模块的开关时间都是相同的，如果需要差异化测试就需要多个PDU支持；本发明增加了智能PDU使用的灵活性及安全性，通过智能交换机模块1针对各供电输出接口5旁的网口3进行IP的分配，每个IP的网络可以通过控制单元2控制继电器6和侦测告警单元7，同时也可进行用户IP加密信息使用，同一个PDU可以多人多测试参数同时操作，互不影响；控制单元2会采集继电器6吸合信息，如果发现继电器6吸合异常，则会控制报警装置7.3用于异常现象的告警，在告警后会去尝试继电器6的重新闭合，这样测试出现的问题可以全过程记录，避免后续反复的复现查找。红外光源7.1与光敏二极管7.2可采用同一个直流供电电源，也可使用各自的直流供电电源。实施例3：如图3所示，本发明提供一种基于上述实施例1或实施例2的智能PDU输出控制方法，包括如下步骤：S1.智能交换机模块向各供电输出模块的控制单元分配不同的加密IP；S2.各控制单元分别监控所在供电输出模块的智能继电器模组，判断各智能继电器模组的继电器是否可正常吸合，并在继电器无法正常吸合时，通过对应侦测告警单元进行告警。本发明提供的智能PDU输出控制方法，通过智能交换机模块为每个控制单元分配独立的加密IP，实现单独对供电输出接口的控制，并保障操作不被修改，实现继电器吸合有效性的检测，有效解决服务器AC及DC循环测试时继电器过寿命无法识别及每个端口输出容易被他人更改的问题，提供测试安全性以及出现问题时的问题定位效率。实施例4：如图3和图4所示，本发明提供一种智能PDU输出控制方法，包括如下步骤：S1.智能交换机模块向各供电输出模块的控制单元分配不同的加密IP；具体步骤如下：S11.智能交换机模块获取供电输出模块的数量；S12.智能交换机模块获取各供电输出模块的控制单元的网口，并通过网口为每个控制单元分配不同的加密IP；S2.各控制单元分别监控所在供电输出模块的智能继电器模组，判断各智能继电器模组的继电器是否可正常吸合，并在继电器无法正常吸合时，通过对应侦测告警单元进行告警；具体步骤如下：S21.控制单元控制所在供电输出模块的继电器闭合；S22.控制单元通过对应侦测告警单元检测继电器是否可正常闭合，并在继电器无法闭合时，进行告警。实施例5：如图3及图4所示，本发明提供一种智能PDU输出控制方法，包括如下步骤：S1.智能交换机模块向各供电输出模块的控制单元分配不同的加密IP；具体步骤如下：S11.智能交换机模块获取供电输出模块的数量；S12.智能交换机模块获取各供电输出模块的控制单元的网口，并通过网口为每个控制单元分配不同的加密IP；S2.各控制单元分别监控所在供电输出模块的智能继电器模组，判断各智能继电器模组的继电器是否可正常吸合，并在继电器无法正常吸合时，通过对应侦测告警单元进行告警；具体步骤如下：S21.控制单元控制所在供电输出模块的继电器闭合；具体步骤如下：S211.控制单元控制继电器的线圈通电；S212.铁芯通过动作触点将触点支撑杆吸下，连接触点对闭合；正常情况下，线圈通电，继电器将吸合，连接触点会对闭合；S22.控制单元通过对应侦测告警单元检测继电器是否可正常闭合，并在继电器无法闭合时，进行告警；控制单元可对各供电输出模块的网口单独进行控制，从而实现各供电输出接口的单独控制；具体步骤如下：S221.判断报警装置是否发出警报；若是，进入步骤S222；若否，判定继电器吸合动作成功，继电器正常，结束；S222.判定光敏二极管接收到红外光源发射的红外光，进而判定连接触点未闭合，继电器吸合动作失败；S223.控制单元判断是否首次继电器吸合失败；若是，返回步骤S221；若否，进入步骤S224；S224.控制单元判定对应继电器损坏或寿命截止，并通过网口向智能交换机模块申请更换智能继电器模组，结束；红外光源不停向外发射红外光，连接触点对不闭合时，光敏二极管可接收到红外光，从而导通，报警装置所在回路导通，进行报警；当连接触点对闭合时，红外光源发出红外光被阻挡，无法被光敏二极管接收到，因而，光敏二极管不导通，报警装置所在回路无法导通，不进行报警。尽管通过参考附图并结合优选实施例的方式对本发明进行了详细描述，但本发明并不限于此。在不脱离本发明的精神和实质的前提下，本领域普通技术人员可以对本发明的实施例进行各种等效的修改或替换，而这些修改或替换都应在本发明的涵盖范围内/任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
