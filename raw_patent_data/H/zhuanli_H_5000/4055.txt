标题title
基于车辆动作类型和次数的场景复杂度评价方法
摘要abst
本发明公开了一种基于车辆动作类型和次数的场景复杂度评价方法，包括以下步骤，S1、测试车辆以最短时间行驶通过待评价场景；S2、通过读取测试车辆的CAN总线信号，获取并记录测试车辆行驶过程中的油门踏板信号、刹车信号、转向信号以及车速信号；S3、根据S2所述信号得到车辆进行加速动作、减速动作、转向动作、加速同时伴随转向动作以及减速同时伴随转向动作的场景切片；S4、对S3中的不同场景切片进行复杂度评分，将各场景切片的复杂度评分累加得到待评价场景的复杂度总评分。该方法无需增加额外传感元件以获取场景信息，实现了对场景复杂度的量化、全面的评价。
权利要求书clms
1.基于车辆动作类型和次数的场景复杂度评价方法，其特征在于：包括以下步骤，S1、测试车辆以最短时间行驶通过待评价场景；S2、通过读取测试车辆的CAN总线信号，获取并记录测试车辆行驶过程中的油门踏板信号、刹车信号、转向信号以及车速信号；S3、根据S2所述信号得到车辆进行加速动作、减速动作、转向动作、加速同时伴随转向动作以及减速同时伴随转向动作的场景切片；S4、对S3中的不同场景切片进行复杂度评分，将各场景切片的复杂度评分累加得到待评价场景的复杂度总评分。2.根据权利要求1所述的基于车辆动作类型和次数的场景复杂度评价方法，其特征在于：各加速动作的场景切片对应的复杂度总评分Facc计算如下，上式中，nacc为测试车辆仅作出踩踏油门踏板动作的次数；为单次加速动作的场景切片对应的复杂度评分，计算如下，上式中，vel1i为第i次测试车辆仅踩踏油门踏板时的车辆速度，单位为m/s，Gasi为第i次测试车辆仅踩踏油门踏板时的油门踏板深度，单位为％。3.根据权利要求1所述的基于车辆动作类型和次数的场景复杂度评价方法，其特征在于：各减速动作的场景切片对应的复杂度总评分Fdec计算如下，上式中，ndec为测试车辆仅作出踩踏制动踏板动作的次数；为单次减速动作的场景切片对应的复杂度评分，计算如下，上式中，vel2i为第i次测试车辆仅踩踏制动踏板时的车辆速度，单位为m/s，Brakei为第i次测试车辆仅踩踏制动踏板时的深度，单位为％。4.根据权利要求1所述的基于车辆动作类型和次数的场景复杂度评价方法，其特征在于：各转向动作的场景切片对应的复杂度总评分Fsteer计算如下，上式中，nsteer为测试车辆仅作出转向动作的次数，为单次转向动作的场景切片对应的复杂度评分，计算如下，上式中，vel3i为第i次测试车辆仅转动方向盘时的车辆速度，单位为m/s，steeri为第i次测试车辆仅转动方向盘时的方向盘转角。5.根据权利要求1所述的基于车辆动作类型和次数的场景复杂度评价方法，其特征在于：各加速同时伴随转向动作对应的场景复杂度评分Facc&amp;steer计算如下，上式中，nacc&amp;steer为测试车辆同时作出加速和转向动作的次数，为单次加速同时伴随转向动作的场景切片对应的复杂度评分，计算如下，上式中，acc&amp;steer_veli为第i次测试车辆同时加速和转向时的车辆速度，单位为m/s，acc&amp;steer_steeri为第i次测试车辆同时加速和转向时的方向盘转角，acc&amp;steer_Gasi为第i次测试车辆同时加速和转向时的油门踏板深度，单位为％。6.根据权利要求1所述的基于车辆动作类型和次数的场景复杂度评价方法，其特征在于：各减速同时伴随转向动作对应的场景复杂度评分Fdec&amp;steer计算如下，上式中，ndec&amp;steer为测试车辆同时作出减速和转向动作的次数，为单次减速同时伴随转向动作的场景切片对应的复杂度评分，计算如下，上式中，dec&amp;steer_veli为第i次测试车辆同时减速和转向时的车辆速度，单位为m/s，dec&amp;steer_steeri为第i次测试车辆同时减速和转向时的方向盘转角，dec&amp;steer_Brakei为第i次测试车辆同时减速和转向时的制动踏板深度，单位为％。7.一种用于实现权利要求1-6任一所述基于车辆动作类型和次数的场景复杂度评价方法的基于车辆动作类型和次数的场景复杂度评价装置，其特征在于：包括，信号获取模块，用于获取测试车辆的油门踏板信号、刹车信号、转向信号以及车速信号；动作识别模块，用于根据信号获取模块获取的信号进行动作识别，并对各动作进行场景切片；评分模块，用于对各场景切片进行复杂度评分。8.一种计算机设备，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，其特征在于：所述处理器执行所述计算机程序时实现权利要求1-6任一项所述基于车辆动作类型和次数的场景复杂度评价方法的步骤。9.一种计算机可读存储介质，其上存储有计算机程序，其特征在于：所述计算机程序被处理器执行时实现权利要求1-6任一项所述基于车辆动作类型和次数的场景复杂度评价方法的步骤。10.一种汽车，其特征在于：所述汽车采用权利要求1-6任一项所述基于车辆动作类型和次数的场景复杂度评价方法的步骤。
说明书desc
技术领域本发明涉及驾驶场景评价领域，具体涉及一种基于车辆动作类型和次数的场景复杂度评价方法。背景技术一现有技术公开了以下内容：一种面向无人车智能评估的交通场景复杂度计算方法，包括以下步骤：1)通过激光点云数据信息计算交通元素的复杂度；2)从道路类型、场景内容及场景条件三个不同的角度对具有感知数据注释的场景数据进行量化描述，场景条件的描述向量利用程度型向量进行表示；3)由拓扑关系提取交通元素拓扑关系有向图，构建拓扑关系描述矩阵，计算拓扑结构描述矩阵的特征向量；4)计算道路的复杂度；5)将交通元素的复杂度与道路的复杂度进行加权求和，得交通场景的复杂度，该方法能够全面、定量的评估交通场景对无人驾驶环境感知算法挑战的难易程度。该现有技术只对道路拓扑结构进行了重构并以静态场景机型场景复杂度计算，缺少对动态交通环境影响的考量。另一现有技术公开了以下内容：自动驾驶车辆环境认知能力评价方法、设备及存储介质，涉及自动驾驶领域。通过获取待分级的交通场景数据，交通场景数据包括交通场景的二维图像数据和/或三维点云数据；通过交通场景复杂度分类模型对交通场景数据进行处理，以根据交通场景数据提取特征向量，对交通场景数据进行分级得到对应的目标复杂度等级；根据交通场景数据以及目标复杂度等级评价自动驾驶车辆的环境认知能力。本申请通过交通复杂度分类模型可对任意的包括二维图像数据和/或三维点云数据的交通场景数据进行复杂度分级，适用于各种交通场景数据，复杂度分级准确、区分度好，能够更准确的基于交通场景数据以及其复杂度等级评价自动驾驶车辆的环境认知能力。上述的现有技术通过对道路结构和动态交通的考量进行场景复杂度的评价，但是道路结构和动态交通分别是怎样影响到行驶车辆，以及每一个影响元素对行驶车辆造成的复杂度没有进行定量的评价，所以在评价场景复杂度层面是不完整、不够准确的。发明内容本发明的目的在于提供一种基于车辆动作类型和次数的场景复杂度评价方法，以实现对驾驶场景复杂度的定量、全面的评价。为解决上述技术问题，本发明提供了一种技术方案：基于车辆动作类型和次数的场景复杂度评价方法包括以下步骤，S1、测试车辆以最短时间行驶通过待评价场景；S2、通过读取测试车辆的CAN总线信号，获取并记录测试车辆行驶过程中的油门踏板信号、刹车信号、转向信号以及车速信号；S3、根据S2所述信号得到车辆进行加速动作、减速动作、转向动作、加速同时伴随转向动作以及减速同时伴随转向动作的场景切片；S4、对S3中的不同场景切片进行复杂度评分，将各场景切片的复杂度评分累加得到待评价场景的复杂度总评分。按上述方案，各加速动作的场景切片对应的复杂度总评分Facc计算如下，上式中，nacc为测试车辆仅作出踩踏油门踏板动作的次数；为单次加速动作的场景切片对应的复杂度评分，计算如下，上式中，vel1i为第i次测试车辆仅踩踏油门踏板时的车辆速度，单位为m/s，Gasi为第i次测试车辆仅踩踏油门踏板时的油门踏板深度，单位为％。按上述方案，各减速动作的场景切片对应的复杂度总评分Fdec计算如下，上式中，ndec为测试车辆仅作出踩踏制动踏板动作的次数；为单次减速动作的场景切片对应的复杂度评分，计算如下，上式中，vel2i为第i次测试车辆仅踩踏制动踏板时的车辆速度，单位为m/s，Brakei为第i次测试车辆仅踩踏制动踏板时的深度，单位为％。按上述方案，各转向动作的场景切片对应的复杂度总评分Fsteer计算如下，上式中，nsteer为测试车辆仅作出转向动作的次数，为单次转向动作的场景切片对应的复杂度评分，计算如下，上式中，vel3i为第i次测试车辆仅转动方向盘时的车辆速度，单位为m/s，steeri为第i次测试车辆仅转动方向盘时的方向盘转角。按上述方案，各加速同时伴随转向动作对应的场景复杂度评分Facc&amp;steer计算如下，上式中，nacc&amp;steer为测试车辆同时作出加速和转向动作的次数，为单次加速同时伴随转向动作的场景切片对应的复杂度评分，计算如下，上式中，acc&amp;steer_veli为第i次测试车辆同时加速和转向时的车辆速度，单位为m/s，acc&amp;steer_steeri为第i次测试车辆同时加速和转向时的方向盘转角，acc&amp;steer_Gasi为第i次测试车辆同时加速和转向时的油门踏板深度，单位为％。按上述方案，各减速同时伴随转向动作对应的场景复杂度评分Fdec&amp;steer计算如下，上式中，ndec&amp;steer为测试车辆同时作出减速和转向动作的次数，为单次减速同时伴随转向动作的场景切片对应的复杂度评分，计算如下，上式中，dec&amp;steer_veli为第i次测试车辆同时减速和转向时的车辆速度，单位为m/s，dec&amp;steer_steeri为第i次测试车辆同时减速和转向时的方向盘转角，dec&amp;steer_Brakei为第i次测试车辆同时减速和转向时的制动踏板深度，单位为％。一种用于实现上文所述基于车辆动作类型和次数的场景复杂度评价方法的基于车辆动作类型和次数的场景复杂度评价装置，包括，信号获取模块，用于获取测试车辆的油门踏板信号、刹车信号、转向信号以及车速信号；动作识别模块，用于根据信号获取模块获取的信号进行动作识别，并对各动作进行场景切片；评分模块，用于对各场景切片进行复杂度评分。一种计算机设备，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上文所述基于车辆动作类型和次数的场景复杂度评价方法的步骤。一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上文所述基于车辆动作类型和次数的场景复杂度评价方法的步骤。一种汽车，所述汽车采用上文所述基于车辆动作类型和次数的场景复杂度评价方法的步骤。本发明的有益效果是：通过获取车辆的控制信号对车辆的动作场景进行判断和切片，并通过各场景切片进行复杂度评价，将所有场景切片的复杂度评价至累加得到场景的复杂度总评分。该方法仅需获取车辆自身信号，而不必增加外部传感元件以获取场景信息，实现了场景复杂度的多维度、全面、量化的评价。附图说明图1为本发明一实施例的基于车辆动作类型和次数的场景复杂度评价方法的流程示意图。具体实施方式为使本公开实施例的目的、技术方案和优点更加清楚，下面将结合本公开实施例的附图，对本公开实施例的技术方案进行清楚、完整地描述。显然，所描述的实施例是本公开的一部分实施例，而不是全部的实施例。基于所描述的本公开的实施例，本领域普通技术人员在无需创造性劳动的前提下所获得的所有其他实施例，都属于本公开保护的范围。参见图1，基于车辆动作类型和次数的场景复杂度评价方法包括以下步骤，S1、测试车辆以最短时间行驶通过待评价场景；S2、通过读取测试车辆的CAN总线信号，获取并记录测试车辆行驶过程中的油门踏板信号、刹车信号、转向信号以及车速信号；S3、根据S2所述信号得到车辆进行加速动作、减速动作、转向动作、加速同时伴随转向动作以及减速同时伴随转向动作的场景切片；S4、对S3中的不同场景切片进行复杂度评分，将各场景切片的复杂度评分累加得到待评价场景的复杂度总评分。上述测试车辆由优秀驾驶模型进行驾驶，所述优秀驾驶模型包括具有丰富驾驶经验的司机以及无人驾驶系统。进一步地，各加速动作的场景切片对应的复杂度总评分Facc计算如下，上式中，nacc为测试车辆仅作出踩踏油门踏板动作的次数；为单次加速动作的场景切片对应的复杂度评分，计算如下，上式中，vel1i为第i次测试车辆仅踩踏油门踏板时的车辆速度，单位为m/s，Gasi为第i次测试车辆仅踩踏油门踏板时的油门踏板深度，单位为％。进一步地，各减速动作的场景切片对应的复杂度总评分Fdec计算如下，上式中，ndec为测试车辆仅作出踩踏制动踏板动作的次数；为单次减速动作的场景切片对应的复杂度评分，计算如下，上式中，vel2i为第i次测试车辆仅踩踏制动踏板时的车辆速度，单位为m/s，Brakei为第i次测试车辆仅踩踏制动踏板时的深度，单位为％。进一步地，各转向动作的场景切片对应的复杂度总评分Fsteer计算如下，上式中，nsteer为测试车辆仅作出转向动作的次数，为单次转向动作的场景切片对应的复杂度评分，计算如下，上式中，vel3i为第i次测试车辆仅转动方向盘时的车辆速度，单位为m/s，steeri为第i次测试车辆仅转动方向盘时的方向盘转角。进一步地，各加速同时伴随转向动作对应的场景复杂度评分Facc&amp;steer计算如下，上式中，nacc&amp;steer为测试车辆同时作出加速和转向动作的次数，为单次加速同时伴随转向动作的场景切片对应的复杂度评分，计算如下，上式中，acc&amp;steer_veli为第i次测试车辆同时加速和转向时的车辆速度，单位为m/s，acc&amp;steer_steeri为第i次测试车辆同时加速和转向时的方向盘转角，acc&amp;steer_Gasi为第i次测试车辆同时加速和转向时的油门踏板深度，单位为％。进一步地，各减速同时伴随转向动作对应的场景复杂度评分Fdec&amp;steer计算如下，上式中，ndec&amp;steer为测试车辆同时作出减速和转向动作的次数，为单次减速同时伴随转向动作的场景切片对应的复杂度评分，计算如下，上式中，dec&amp;steer_veli为第i次测试车辆同时减速和转向时的车辆速度，单位为m/s，dec&amp;steer_steeri为第i次测试车辆同时减速和转向时的方向盘转角，dec&amp;steer_Brakei为第i次测试车辆同时减速和转向时的制动踏板深度，单位为％。一种用于实现上文所述基于车辆动作类型和次数的场景复杂度评价方法的基于车辆动作类型和次数的场景复杂度评价装置，包括，信号获取模块，用于获取测试车辆的油门踏板信号、刹车信号、转向信号以及车速信号；动作识别模块，用于根据信号获取模块获取的信号进行动作识别，并对各动作进行场景切片；评分模块，用于对各场景切片进行复杂度评分。一种计算机设备，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上文所述基于车辆动作类型和次数的场景复杂度评价方法的步骤。一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上文所述基于车辆动作类型和次数的场景复杂度评价方法的步骤。一种汽车，所述汽车采用上文所述基于车辆动作类型和次数的场景复杂度评价方法的步骤。以上所述仅为本发明的实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其它相关的技术领域，均同理包括在本发明的专利保护范围内。
