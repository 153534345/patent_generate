标题title
一种基于联盟区块链的装备质量信息管控框架
摘要abst
本发明公开了一种基于联盟区块链的装备质量信息管控框架，由感知层、数据层、网络层、共识层、合约层和应用层组成，框架节点部署主要依托MCS原有“云‑边‑端”架构进行。采用多链、多共识，结合三种网络状态，为用户终端访问控制、质量数据共享、质量信息存证、人工智能模型参数存证等提供了一种基于区块链的可信解决方案，能够适应恶劣通信环境对感知、协同、决策、时延、存储等方面的要求。
权利要求书clms
1.一种基于联盟区块链的装备质量信息管控框架，其特征在于，由感知层、数据层、网络层、共识层、合约层和应用层组成，框架节点部署主要依托MCS原有“云-边-端”架构进行，其中：感知层，主要担负周边环境的原始数据采集，作为后续相关模型运行训练、数据上链存储和传输的来源；包含智能穿戴设备、无人机、位姿监测脚垫、移动工作台、心律测试设备和智能指挥终端；数据层，是一个不可篡改、具有分布式特性的数据库，承担框架中数据存储的功能，利用非对称加密和哈希函数等密码学算法保证分布式数据库中数据信息的不可篡改和可追溯性；包括区块、哈希函数、非对称加密、Merkle树、数字签名和数字证书；网络层，主要面向战术边缘云的网络架构，其中包含远程云、本地微云、移动自组织云和节点部署，其本质是P2P网络；共识层，即共识算法，目的是让网络中各节点达成分布式一致性，以确保全网记账的有序可靠；选用PBFT和Raft两种共识算法，在不同业务和网络情况下视情应用；合约层，主要包括各种脚本和代码、智能合约和算法，能够实现业务逻辑编程；通过设置约束条件，在无需第三方背书情况下即可实现业务的处理；应用层，包括四方面场景业务，一是访问控制，即对各类用户对系统资源的访问权限进行分离；二是战场数据共享，即终端在本地微云或移动自组织云下进行数据共享；三是信息存证，即对终端装备质量信息进行存证；四是模型参数存证，即对AI算法模型的训练过程参数进行存证；不同场景业务通过构建多链实现隔离。
说明书desc
技术领域本发明属于网络技术领域，具体涉及一种基于联盟区块链的装备质量信息管控框架。背景技术随着未来越来越多的传感器等信息化装备通过物联网技术互连，其所生成的大量数据需要通过云计算来处理，从而为装备提供智能。在传统的云计算中，必须将所有数据上载到集中式服务器，并且在计算之后，需要将结果发送回传感器和设备。边缘计算会将数据计算或存储迁移到战场附近的网络“边缘”。与传统的云服务相比，分布式结构可以平衡网络流量并避免物联网网络中的流量峰值，减少边缘/云服务器与最终用户之间的传输延迟，并减少实时物联网应用的响应时间。此外还可以延长电池供电受限装备的寿命。在装备质量信息管理中，要提升响应速度和信息处理能力，提高边缘端的信息处理和控制能力是必然要求。边缘网络是由静态节点和移动节点组成的高度动态的异构环境，具有远离云中心，计算能力与通信资源受限，环境动态变化等特点。面向物联网边缘的移动云服务模型如图1所示，自下而上分为移动自组织云、本地微云和远程云三层架构，其中，移动自组织云和本地微云之间是战术移动网，本地微云和远程云之间是移动核心网。其基本过程为：①当网络状况良好时，边缘节点通过无线基站将计算任务卸载到远程云服务器中，实现移动云计算；②当处于DIL环境时，则利用距离战场边缘较近的本地微云节点进行本地云计算或进行移动云计算的预处理、缓存和调度等；③当与本地微云连接受限或其负载过重时，边缘节点通过自组织云的方式进行实时本地计算。目前的MCS模型结合边缘架构、指控和功能架构进行了设计，主要针对物联网恶劣通信环境的边缘信息交换和处理能力的提升，但并没有涉及信息安全、存证溯源、信息共享等机制。发明内容针对上述MCS模型存在的缺陷或不足，本发明的目的在于，提供一种基于联盟区块链的装备质量信息管控框架。为了实现上述任务，本发明采取如下的技术解决方案：一种基于联盟区块链的装备质量信息管控框架，其特征在于，由感知层、数据层、网络层、共识层、合约层和应用层组成，框架节点部署主要依托MCS 原有“云-边-端”架构进行，其中：感知层，主要担负周边环境的原始数据采集，作为后续相关模型运行训练、数据上链存储和传输的来源；包含智能穿戴设备、无人机、位姿监测脚垫、移动工作台、心律测试设备和智能指挥终端；数据层，是一个不可篡改、具有分布式特性的数据库，承担框架中数据存储的功能，利用非对称加密和哈希函数等密码学算法保证分布式数据库中数据信息的不可篡改和可追溯性；包括区块、哈希函数、非对称加密、Merkle树、数字签名和数字证书；网络层，主要面向战术边缘云的网络架构，其中包含远程云、本地微云、移动自组织云和节点部署，其本质是P2P网络；共识层，即共识算法，目的是让网络中各节点达成分布式一致性，以确保全网记账的有序可靠；选用PBFT和Raft两种共识算法，在不同业务和网络情况下视情应用；合约层，主要包括各种脚本和代码、智能合约和算法，能够实现业务逻辑编程；通过设置约束条件，在无需第三方背书情况下即可实现业务的处理；应用层，包括四方面场景业务，一是访问控制，即对各类用户对系统资源的访问权限进行分离；二是数据共享，即终端在本地微云或移动自组织云下进行数据共享；三是信息存证，即对终端装备质量信息进行存证；四是模型参数存证，即对AI算法模型的训练过程参数进行存证；不同场景业务通过构建多链实现隔离。本发明的基于联盟区块链的装备质量信息管控框架，采用多链、多共识，结合三种网络状态，为用户终端访问控制、质量数据共享、质量信息存证、人工智能模型参数存证等提供了一种基于区块链的可信解决方案，能够适应恶劣通信环境对感知、协同、决策、时延、存储等方面的要求。附图说明图1是面向物联网边缘的移动云服务模型示意图；图2是本发明的基于联盟区块链的装备质量信息管控框架总体结构示意图；图3是节点部署关系示意图；图4是访问控制流程图；图5是质量数据共享流程图；图6是信息存证流程图；图7是模型参数存证流程图。以下结合附图和实施例对本发明做进一步的详细说明。具体实施方式本实施例给出一种基于联盟区块链的装备质量信息管控框架，结合MCS 架构，依托联盟区块链技术，进行了联盟链框架构建，充分弥补了MCS的安全性不足。以下是详细的实施过程。1、框架结构本实施例给出的基于联盟区块链的装备质量信息管控框架结构，分为六层结构：感知层、数据层、网络层、共识层、合约层和应用层。其中：①感知层主要担负周边环境的原始数据采集，作为后续相关模型运行训练、数据上链存储和传输的来源。主要包含智能穿戴设备、无人机、位姿监测脚垫、移动工作台、心律测试设备和智能指挥终端。值得注意的是，感知层并非系统所有输入数据的来源，如访问控制过程。②数据层核心是一个不可篡改、具有分布式等特性的数据库，承担框架中数据存储的功能，利用非对称加密和哈希函数等密码学算法保证分布式数据库中数据信息的不可篡改和可追溯性；包括区块、哈希函数、非对称加密、Merkle树、数字签名和数字证书。③网络层主要面向战术边缘云的网络架构，其中包含远程云、本地微云、移动自组织云和节点部署，其本质是P2P网络；④共识层即共识算法，目的是让网络中各节点达成分布式一致性，以此确保全网记账的有序可靠。选用PBFT和Raft两种共识算法，在不同业务和网络情况下视情应用。⑤合约层主要包括各种脚本、智能合约和算法，能够实现业务逻辑的编程实现。通过设置约束条件，在无需第三方背书情况下即可实现业务的处理。⑥应用层包括四方面场景业务：一是访问控制，即对各类用户对系统资源的访问权限进行分离；二是数据共享，即终端在本地微云或移动自组织云下进行数据共享；三是信息存证，即对终端装备质量信息进行存证；四是模型参数存证，即对AI算法模型的训练过程参数进行存证。不同场景业务通过构建多链实现隔离。框架节点部署主要依托MCS原有“云-边-端”架构进行。主要从以下四个方面进行详细说明：一是就硬件部署层面而言，架构分为三层：远程云服务器、本地微云服务器和物联网终端，如图3所示。本地微云服务器和终端装备均位于边缘，远程云服务器位于远离网络边缘的位置。二是就公钥基础设施层面而言，由于联盟链节点需准入的特点和用户数据保密的现实情况，需要在架构中部署公钥基础设施，包括证书颁发机构 、密钥管理中心、证书撤销列表等，其部署应当在安全性最高的远程云服务器，虽然导致了一定的中心化，但对于联盟链的管理和系统安全性而言是有益的。三是就共识节点层面而言，无论是应用PBFT还是Raft算法，远程云服务器、本地微云服务器和物联网终端等各个节点都是对等的，其各个节点在战术移动云中均显示为虚拟对等节点，负责分布式一致性的达成，如图3 所示。而当终端装备与本地微云服务器断连处于移动自组织云时，图中标注的移动云则对应变为移动自组织云，此时为减轻通信占用，信息存证链等部分业务链新区块生成处于挂起状态；其余业务链则在移动自组织网络中进行运行，新区块的生成和上链不受影响。四是就节点类型层面而言，分为全节点和轻节点。其中，轻量级终端装备属于轻节点，每当有区块出现在网络便下载区块头，使用分布式哈希表来追踪前缀节点。这样可以大大减轻其存储和通信压力。全节点布置在性能较高的物联网装备、远程云和本地微云服务器等，对所有区块链数据进行同步。为应对存储问题，全节点中非服务器节点在某些业务链中将在进行全量数据验证及同步后舍弃原始数据，仅对区块头进行存储，如信息存证链等。2、共识算法在P2P网络中，共识算法的作用就是使系统中所有的节点达成共识。其面向分布式节点达成一致的过程，最终结果是共识达成的稳定状态。PBFT算法可以在保证活性和安全性的前提下提供/3的容错性。 Raft算法则是对Paxos算法的一种易于理解的实现。PBFT算法的提出主要是为了解决拜占庭将军问题，即节点可能作恶的情况，为此通过三阶段协议，以提升通信复杂度为代价换取容忍拜占庭节点的能力；而Raft算法则为传统分布式一致性算法，其只能应对节点故障的情况，而对于作恶节点则不具备容忍能力。其特点对比如表1所示。根据不同业务分离为不同的业务链，其对共识的选用也存在差别。如对于访问控制链和存证链而言，安全性要求较高、业务数据量小、通信频次较低，适用于PBFT算法；对于质量数据共享链而言，其一是数据量大和节点数量多，适合通信复杂度低的算法；其二是数据均为通用数据，其安全性要求低于专业数据；其三是数据要求即时共享，对延迟和TPS要求较高，因此适用于Raft算法。表1：PBFT和Raft共识特性面向物联网的联盟链一方面是网络封闭，物联网传感器网络与公网隔绝，攻击者无法在公网上访问主节点服务器，从而无法使用公网电脑对主节点服务器发起远程攻击；另一方面，远程云服务器和本地微云服务器设加密链路，数据多节点备份存储，数据不可篡改。对于目前常见的针对区块链的攻击方式，本实施例给出的基于联盟区块链的装备质量信息管控框架，能够进行抵御，如在女巫攻击中，少数节点通过伪造或盗用身份伪装成大量节点进行攻击。通过在安全环境下建立PKI体系，对节点进入进行监管和认证，能够有效防范女巫攻击。其他安全防范措施见表2。表2：安全防范措施3、业务流程本实施例的基于联盟区块链的装备质量信息管控框架，采用多链来划分不同业务，一方面可以满足复杂业务，另一方面可以增加框架的拓展性。下面对所提四类业务流程进行说明。访问控制流程装备质量数据等信息需要依据指挥员和其他人员的身份、等级等进行区分。访问控制基本原则是：指挥人员访问权限高于其他人员、上一级访问权限高于下一级人员、不同分组对于现场环境和态势等信息的访问权限分离。如图4所示，访问控制策略以智能合约的形式存储于联盟链中，当指挥员或其他人员需要对某一资源进行访问时，需要首先进行身份认证，同时运行访问控制合约，确认节点是否获得相应资源的权限；而后终端将其访问信息在共识节点群中进行广播，随下一次区块生成更新加入访问控制链中。访问控制合约分布式存储于边缘终端装备中，可以防范恶意节点对其进行篡改。若节点遭受攻击，试图篡改访问控制合约，获取更高级资源的访问权限从而获取云中存储的大量机密信息，则其发布篡改后合约时将因无法被共识节点群接受而失败。质量数据共享质量数据共享的数据主要包括两类：一是通用质量数据，其原数据将在质量数据共享链中进行存储。由于区块链去中心化、多方维护的性质，其数据在上链过程中天然地被网络边缘所有终端所共享。二是专用质量数据，以多单元、多方联合行动产生的质量数据为主。构建质量数据共享链，主要解决三个方面的问题：①提升数据质量。实际应用中数据来源多元，特别是联合行动中，各方需要共享装备质量数据，难以保证数据的准确性和可信度；②追踪数据用途。对于数据的使用情况和过程难以把控；③量化数据贡献。在多方联合行动中，各方的数据贡献难以量化，难以对数据共享进行激励。如图5所示，当各终端装备采集或生成相应信息后，在网络中进行广播，其余各终端收到信息后进行验证，而后通过显示层应用进行展示，同时记账节点进行区块生成和上链。在上链过程中，仅对原数据的数字摘要和数据使用日志进行上链。通过对现场数据进行记录和可信存储，能够确保共享数据不受篡改、数据调用可追踪、数据贡献可量化，对行动的质量数据溯源、复盘、考评激励等具有积极作用。信息存证流程信息存证主要涉及执行任务所有装备质量信息的存证。在网络边缘下，节点的通信成为主要瓶颈，因此，信息存证链出块间隔T设置较长，且仅当连接到本地微云服务器时进行新区块的生成，以减少节点间因信息存证所产生的通信需求。如图6所示，装备质量信息记录由终端按固定周期T采集，依据时间周期内的通信情况和坐标进行记录，并存储于本地。在到达区块生成前的T-T0+tn时刻后，在网络内进行广播，各终端节点对记录进行验证，并仅将记录哈希存储于本地；本地微云服务器则对原数据进行存储，以此降低终端节点的存储压力。若在T-T0时刻终端与本地微云服务器断开连接，则顺延至下一周期。其中，T0为预估区块上链时长参数，tn为广播延时参数，n为终端节点序号，以此避免网络拥塞。在接入移动核心网的条件下，本地微云服务器将存证信息在远程云进行备份。各终端节点仅保存本节点存证信息及区块头部，并删除aT周期前的记录以释放存储。若在未备份情况下本地微云服务器数据损坏或丢失，则由服务器向终端节点重新请求数据，并在连接远程云后结合上次备份数据恢复信息存证链完整数据。模型参数存证在行动中，装备质量动态分析模型、现场装备态势分析模型等模型在终端装备上运行，为行动提供即时可靠的装备情报信息，辅助指挥和行动。因此，模型的安全性和准确性对行动至关重要。初始模型在联合建模过程中，一旦某一终端出现故障或遭受入侵，整体模型将由于不准确或误导性的输入数据产生污染，影响后续模型的精确度。通过区块链将每轮训练中的梯度参数、历史数据等进行存证，可以避免本地云服务器中心化存储所带来的篡改、丢失等问题，确保算法模型的参数不可篡改、可追溯。在全局模型已受污染的情况下能够溯源受污染数据源，并恢复健康精准的作战算法模型。如图7所示，在网络边缘的算法模型构建中，首先由远程云服务器或本地微云服务器向终端下发初始模型，而后各终端结合训练或者任务中获得的数据对初始模型进行本地训练，以减少网络边缘恶劣通信环境下的数据传输量。在服务器和各终端每一轮迭代算法模型时，将进行模型参数的上链存证。上链的数据包括输入数据的数字指纹、模型版本号、终端代码、训练结果梯度数据等。由于无法从数字指纹和梯度数据中恢复出原始数据，故在终端丢失、遭受入侵或通信受监听情况下仍能保证总体装备质量数据的安全。另外，通过参数存证能够建立装备质量模型构建过程贡献量化标准，激励促进各分队使用移动终端采集有效数据，加快总体模型的构建、提升模型训练的质量。综上所述，本实施例给出的基于联盟区块链的装备质量信息管控框架，采用多链、多共识，结合三种网络状态，为用户终端访问控制、质量数据共享、质量信息存证、人工智能模型参数存证等提供了一种基于区块链的可信解决方案，能够适应恶劣通信环境对感知、协同、决策、时延、存储等方面的要求。
