标题title
量子密钥分发业务的多协议翻译方法及相关设备
摘要abst
本申请提供一种量子密钥分发业务的多协议翻译方法及相关设备；所述方法包括：基于正在进行的QKD业务，在拓扑网络中查询业务路径，确定该业务路径上的各节点、节点之间的链路实时信息；确定实时采用的QKD协议和可支持的其他全部QKD协议；查询第一量子密钥成码率；根据链路实时信息和第一量子密钥成码率，为该QKD协议设置翻译模式，并确定各节点间支持的多个第一候选互联模式；设置翻译误差计算模型；在QKD业务提出时变需求时，根据时变需求在全部第一候选互联模式中确定多个第二候选互联模式，并查找全部候选密钥中继模式组合，计算每个候选密钥中继模式组合的翻译误差，并确定目标密钥中继模式组合以执行多协议翻译。
权利要求书clms
1.一种量子密钥分发业务的多协议翻译方法，包括：基于正在进行的量子密钥分发QKD业务，在拓扑网络中查询所述QKD业务的业务路径，确定该业务路径上的各节点、所述节点之间的链路实时信息；确定各所述节点之间实时采用的QKD协议和可支持的其他全部所述QKD协议；查询全部所述QKD协议的第一量子密钥成码率；对于每个所述QKD协议，根据所述链路实时信息和所述第一量子密钥成码率，为该QKD协议设置翻译模式，根据所述翻译模式确定各所述节点间支持的多个第一候选互联模式；利用所述第一量子密钥成码率设置翻译误差计算模型；在所述QKD业务提出时变需求时，根据所述时变需求在全部所述第一候选互联模式中确定多个第二候选互联模式，基于所述第二候选互联模式为执行多协议翻译查找全部候选密钥中继模式组合，利用所述翻译误差计算模型计算每个所述候选密钥中继模式组合的翻译误差，根据所述翻译误差确定目标密钥中继模式组合，并根据所述目标密钥中继模式组合执行所述多协议翻译。2.根据权利要求1所述的方法，其特征在于，所述确定该业务路径上的各节点、所述节点之间的链路实时信息，包括：在所述业务路径上，确定各所述节点的类型，其中，所述类型包括源QKD节点、宿QKD节点、可信中继和不可信中继；所述链路实时信息为各所述节点之间的链路性能。3.根据权利要求2所述的方法，其特征在于，所述根据所述链路实时信息和所述第一量子密钥成码率，为该QKD协议设置翻译模式，包括：基于相同的所述链路性能下，响应于该QKD协议执行正向翻译时和执行逆向翻译时，所述第一量子成码率均大于等于所述成码率阈值，将所述翻译模式设置为所述双向翻译模式；响应于该QKD协议仅在执行正向翻译时，所述第一量子成码率大于等于所述成码率阈值，或/和仅在执行逆向翻译时，所述第一量子成码率大于等于所述成码率阈值，将该QKD协议的所述翻译模式设置为单向翻译模式。4.根据权利要求3所述的方法，其特征在于，所述利用所述第一量子密钥成码率设置翻译误差计算模型，包括：获取所述第一量子密钥成码率和第二量子密钥成码率的差值；利用所述差值与所述第二量子密钥成码率设计所述翻译误差计算模型；其中，所述第二量子密钥成码率根据所述QKD业务提出的所述时变需求确定。5.根据权利要求4所述的方法，其特征在于，所述在所述QKD业务提出时变需求时，根据所述时变需求在全部所述第一候选互联模式中确定多个第二候选互联模式，基于所述第二候选互联模式为执行多协议翻译查找全部候选密钥中继模式组合，包括：基于所述时变需求，获取节点需求；基于多个所述第一候选互联模式，得到多个预备密钥中继模式组合，其中，每个所述预备密钥中继模式组合包括：参与所述QKD业务的全部第一候选互联模式，与每个所述第一候选互联模式配合的所述中继节点；从全部所述第一候选互联模式中剔除不符合所述节点需求的所述第一候选互联模式，得到多个第二候选互联模式；将所述第二候选互联模式对应的所述预备密钥中继模式组合作为所述候选密钥中继模式组合。6.根据权利要求4所述的方法，其特征在于，所述根据所述翻译误差确定目标密钥中继模式组合，包括：响应于确定所述候选密钥中继模式组合的所述翻译误差小于0，将该候选密钥中继模式组合从多个所述候选密钥中继模式组合中去除；在剩余全部所述候选密钥中继模式组合中选取所述翻译误差最小的所述候选密钥中继模式组合作为所述目标密钥中继模式组合。7.根据权利要求1所述的方法，其特征在于，还包括：响应于确定所述多协议翻译成功执行，对所述QKD业务的相关信息进行更新。8.一种量子密钥分发业务的多协议翻译装置，包括：QKD业务信息查询模块，被配置为：基于正在进行的量子密钥分发QKD业务，在拓扑网络中查询所述QKD业务的业务路径，确定该业务路径上的各节点、所述节点之间的链路实时信息；确定各所述节点之间实时采用的QKD协议和可支持的其他全部所述QKD协议；查询全部所述QKD协议的第一量子密钥成码率；多协议翻译标准设置模块，被配置为：对于每个所述QKD协议，根据所述链路实时信息和所述第一量子密钥成码率，为该QKD协议设置翻译模式，根据所述翻译模式确定各所述节点间支持的多个第一候选互联模式；利用所述第一量子密钥成码率设置翻译误差计算模型；多协议翻译执行模块，被配置为：在所述QKD业务提出时变需求时，根据所述时变需求在全部所述第一候选互联模式中确定多个第二候选互联模式，基于所述第二候选互联模式为执行多协议翻译查找全部候选密钥中继模式组合，利用所述翻译误差计算模型计算每个所述候选密钥中继模式组合的翻译误差，根据所述翻译误差确定目标密钥中继模式组合，并根据所述目标密钥中继模式组合执行所述多协议翻译。9.一种电子设备，包括存储器、处理器及存储在所述存储器上并可由所述处理器执行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至7中任意一项所述的方法。10.一种非暂态计算机可读存储介质，其特征在于，所述非暂态计算机可读存储介质存储计算机指令，所述计算机指令用于使计算机执行根据权利要求1至7中任一项所述的方法。
说明书desc
技术领域本申请的实施例涉及量子通信技术领域，尤其涉及一种量子密钥分发业务的多协议翻译方法及相关设备。背景技术在相关的量子密钥分发的技术中，往往采取单协议，并在拓扑网络中执行与该单协议相关的一种互联模式，而在实际通信中，QKD业务往往会在执行中提出一定的时变需求，单协议所局限的一种互联模式下，经常无法及时有效地适配QKD业务的时变需求。基于此，需要一种能够及时响应QKD业务时变需求的方案。发明内容有鉴于此，本申请的目的在于提出一种量子密钥分发业务的多协议翻译方法及相关设备。基于上述目的，本申请提供了一种量子密钥分发业务的多协翻译方法，包括：基于正在进行的量子密钥分发QKD业务，在拓扑网络中查询所述QKD业务的业务路径，确定该业务路径上的各节点、所述节点之间的链路实时信息；确定各所述节点之间实时采用的QKD协议和可支持的其他全部所述QKD协议；查询全部所述QKD协议的第一量子密钥成码率；对于每个所述QKD协议，根据所述链路实时信息和所述第一量子密钥成码率，为该QKD协议设置翻译模式，根据所述翻译模式确定各所述节点间支持的多个第一候选互联模式；利用所述第一量子密钥成码率设置翻译误差计算模型；在所述QKD业务提出时变需求时，根据所述时变需求在全部所述第一候选互联模式中确定多个第二候选互联模式，基于所述第二候选互联模式为执行多协议翻译查找全部候选密钥中继模式组合，利用所述翻译误差计算模型计算每个所述候选密钥中继模式组合的翻译误差，根据所述翻译误差确定目标密钥中继模式组合，并根据所述目标密钥中继模式组合执行所述多协议翻译。进一步地，所述确定该业务路径上的各节点、所述节点之间的链路实时信息，包括：在所述业务路径上，确定各所述节点的类型，其中，所述类型包括源QKD节点、宿QKD节点、可信中继和不可信中继；所述链路实时信息为各所述节点之间的链路性能。进一步地，所述根据所述链路实时信息和所述第一量子密钥成码率，为该QKD协议设置翻译模式，包括：基于相同的所述链路性能下，响应于该QKD协议执行正向翻译时和执行逆向翻译时，所述第一量子成码率均大于等于所述成码率阈值，将所述翻译模式设置为所述双向翻译模式；响应于该QKD协议仅在执行正向翻译时，所述第一量子成码率大于等于所述成码率阈值，或/和仅在执行逆向翻译时，所述第一量子成码率大于等于所述成码率阈值，将该QKD协议的所述翻译模式设置为单向翻译模式。进一步地，所述利用所述第一量子密钥成码率设置翻译误差计算模型，包括：获取所述第一量子密钥成码率和第二量子密钥成码率的差值；利用所述差值与所述第二量子密钥成码率设计所述翻译误差计算模型；其中，所述第二量子密钥成码率根据所述QKD业务提出的所述时变需求确定。进一步地，所述在所述QKD业务提出时变需求时，根据所述时变需求在全部所述第一候选互联模式中确定多个第二候选互联模式，基于所述第二候选互联模式为执行多协议翻译查找全部候选密钥中继模式组合，包括：基于所述时变需求，获取节点需求；基于多个所述第一候选互联模式，得到多个预备密钥中继模式组合，其中，每个所述预备密钥中继模式组合包括：参与所述QKD业务的全部第一候选互联模式，与每个所述第一候选互联模式配合的所述中继节点；从全部所述第一候选互联模式中剔除不符合所述节点需求的所述第一候选互联模式，得到多个第二候选互联模式；将所述第二候选互联模式对应的所述预备密钥中继模式组合作为所述候选密钥中继模式组合。进一步地，所述根据所述翻译误差确定目标密钥中继模式组合，包括：响应于确定所述候选密钥中继模式组合的所述翻译误差小于0，将该候选密钥中继模式组合从多个所述候选密钥中继模式组合中去除；在剩余全部所述候选密钥中继模式组合中选取所述翻译误差最小的所述候选密钥中继模式组合作为所述目标密钥中继模式组合。进一步地，本方法还包括：响应于确定所述多协议翻译成功执行，对所述QKD业务的相关信息进行更新。基于同一发明构思，本申请还提供了一种量子密钥分发业务的多协议翻译装置，包括：QKD业务信息查询模块，被配置为：基于正在进行的量子密钥分发QKD业务，在拓扑网络中查询所述QKD业务的业务路径，确定该业务路径上的各节点、所述节点之间的链路实时信息；确定各所述节点之间实时采用的QKD协议和可支持的其他全部所述QKD协议；查询全部所述QKD协议的第一量子密钥成码率；多协议翻译标准设置模块，被配置为：对于每个所述QKD协议，根据所述链路实时信息和所述第一量子密钥成码率，为该QKD协议设置翻译模式，根据所述翻译模式确定各所述节点间支持的多个第一候选互联模式；利用所述第一量子密钥成码率设置翻译误差计算模型；多协议翻译执行模块，被配置为：在所述QKD业务提出时变需求时，根据所述时变需求在全部所述第一候选互联模式中确定多个第二候选互联模式，基于所述第二候选互联模式为执行多协议翻译查找全部候选密钥中继模式组合，利用所述翻译误差计算模型计算每个所述候选密钥中继模式组合的翻译误差，根据所述翻译误差确定目标密钥中继模式组合，并根据所述目标密钥中继模式组合执行所述多协议翻译。基于同一发明构思，本申请还提供了一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如上任意一项所述的一种量子密钥分发业务的多协议翻译方法。基于同一发明构思，本申请还提供了一种非暂态计算机可读存储介质，其中，所述非暂态计算机可读存储介质存储计算机指令，所述计算机指令用于使所述计算机执行如上述一种量子密钥分发业务的多协议翻译方法。从上面所述可以看出，本申请提供的一种量子密钥分发业务的多协议翻译方法及相关设备，基于不同的QKD协议，综合考虑了不同QKD协议下的适配，依靠查询到的节点、链路量子密钥成码率和所支持的QKD协议等信息来进行多协议翻译标准的设置，并通过将不同的互联模式和QKD协议进行组合，得到多种密钥中继模式组合，并设计了翻译误差百分比计算模型，使得确定的密钥中继模式组合，在全部可能性中成为解决时变需求的最有效的方案，实现了及时有效地应对QKD业务的时变需求。附图说明为了更清楚地说明本申请或相关技术中的技术方案，下面将对实施例或相关技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例的量子密钥分发业务的多协议翻译方法的流程图；图2为本申请实施例的量子密钥分发业务的多协议翻译装置模块示意图；图3为本申请实施例量子密钥分发业务的多协议翻译的子步骤示意图；图4A为本申请中量子密钥分发业务的多协议翻译的实施例第一子图；图4B为本申请中量子密钥分发业务的多协议翻译的实施例第二子图；图5为本申请实施例的电子设备结构示意图。具体实施方式为使本申请的目的、技术方案和优点更加清楚明白，以下结合具体实施例，并参照附图，对本申请进一步详细说明。需要说明的是，除非另外定义，本申请的实施例使用的技术术语或者科学术语应当为本申请所属领域内具有一般技能的人士所理解的通常意义。本申请的实施例中使用的“第一”、“第二”以及类似的词语并不表示任何顺序、数量或者重要性，而只是用来区分不同的组成部分。“包括”或者“包含”等类似的词语意指出现该词前面的元件或者物件涵盖出现在该词后面列举的元件或者物件及其等同，而不排除其他元件或者物件。如背景技术部分所述，相关的量子密钥分发业务的多协议翻译方法还难以满足实际通讯的需要。申请人在实现本申请的过程中发现，相关的量子密钥分发业务的多协议翻译方法存在的主要问题在于：QKD的通信网络中，往往采取单协议，并在拓扑网络中执行与该单协议相关的一种互联模式，而在实际通信中，QKD业务往往会在执行中提出一定的时变需求，单协议所局限的一种互联模式下，经常无法及时有效地适配QKD业务的时变需求。可以理解，该方法可以通过任何具有计算、处理能力的装置、设备、平台、设备集群来执行。以下，通过具体的实施例，来详细说明本申请的技术方法。参考图1，本申请一个实施例的量子密钥分发业务的多协议翻译方法，包括以下步骤：步骤S101、基于正在进行的量子密钥分发QKD业务，在拓扑网络中查询所述QKD业务的业务路径，确定该业务路径上的各节点、所述节点之间的链路实时信息；确定各所述节点之间实时采用的QKD协议和可支持的其他全部所述QKD协议；查询全部所述QKD协议的第一量子密钥成码率。在本申请的实施例中，基于已经存在并正在执行的单协议下的QKD业务来实施多协议翻译方法，并结合图2和图3所示，来详细说明本申请的量子密钥分发业务的多协议翻译方法。在上述设定下，首先执行图3中步骤S101中的子步骤S1.1查询业务路径。具体地，图2所示，令多协议翻译装置总控模块204控制QKD业务信息查询模块201中的路径查询单元，在QKD的拓扑网络中查询上述QKD业务的业务路径，其中，多协议翻译装置总控模块204的部署方式为独立于QKD的拓扑网络的集中式控制部署，并且控制QKD业务信息查询模块201、多协议翻译标准设置模块202和多协议翻译执行模块203。其中，以图4A和图4B示出的多协议翻译实例作为具体示例，其中，图4A为单协议下的QKD业务示例，已存在的QKD业务将密钥由用户1发送至用户2，其业务路径为：由源QKD节点发送至宿QKD节点，经过中继节点A和中继节点B，并且在此时该QKD业务的量子密钥成码率为80kbps；图4B表示基于与图4A相同的相关节点，并对同一业务路径下的同一QKD业务所提出的时变需求执行多协议翻译后的示意图。在本实施例中，源QKD节点、宿QKD节点、中继节点也均统称为节点，并且中继节点也可简称为中继，并包括可信中继节点和不可信中继节点，也可分别简称为可信中继和不可信中继，并且将上述不同节点作为节点的类型。进一步地，基于上述确定的业务路径，执行子步骤S1.2查询节点和链路实时信息。具体地，令QKD业务信息查询模块201中的节点和链路查询单元查询QKD业务路径中的各个节点和链路实时信息。其中包括：查询各个节点的节点类型、节点设备和链路性能等。如图4A所示，中继节点A和中继节点B均为可信中继；表示为在单协议下的4个节点间的3条链路长度均为80km。进一步地，执行子步骤S1.3查询实时采用的QKD协议，并执行子步骤S1.4查询各个节点间可支持的QKD协议，在本实施例中QKD协议也可简称为协议。在本实施例中，各个节点间可支持的QKD协议从表1中的各类QKD协议中查找，其中，表1所示的各类QKD协议仅为示例，在实际操作中，也可以涉及其他的QKD协议。表1.QKD协议种类协议互联模式BB84发送端→接收端E91接收端←发送端→接收端BBM92接收端←发送端→接收端GG02发送端→接收端DPS发送端→接收端诱骗态发送端→接收端COW发送端→接收端MDI发送端→接收端←发送端TF发送端→接收端←发送端具体地，令QKD业务信息查询模块201中的协议查询单元对QKD业务的业务路径执行上述的查询操作。在图4A的示例中，所查询到的实时采用的QKD协议为BB84协议。进一步地，查询到的该QKD业务中各个节点间可支持的QKD协议包括：源QKD节点、中继节点A和中继节点B可支持：BB84协议、COW协议、MDI协议和TF协议；中继节点A、中继节点B和宿QKD节点可支持：BB84协议、COW协议、DPS协议和BBM92协议。其中各个节点可支持的协议由节点设备和该节点本身的属性决定。进一步地，执行子步骤S1.5查询实时量子密钥成码率和支持的量子密钥成码率，在本实施例中量子密钥成码率也可简称为成码率。在本实施例中将QKD协议所支持的量子密钥成码率定义为第一量子密钥成码率，将下述QKD业务在时变需求中所提出的量子密钥成码率的需求定义为第二量子密钥成码率。具体地，令QKD业务信息查询模块201中的密钥查询单元对该业务路径在当下实时采用的第一量子密钥成码率进行查询；并基于QKD业务各个节点间所支持的QKD协议，对各个QKD协议的第一量子密钥成码率进行查询。在图4A的示例中，该业务路径实时采用的BB84协议的第一量子密钥成码率为80kbps。基于上述的各个节点所支持的QKD协议，所查询到的各个QKD协议可支持的第一量子密钥成码率分别为：BB84协议支持80kbps、COW协议支持100kbps、DPS协议支持85kbps、MDI协议支持90kbps、TF协议支持120kbps，以及，BBM92协议支持10kbps。其中，第一量子密钥成码率作为节点运行QKD协议时的自身属性，受链路长度、节点设备的性能和协议类型的影响，在本实施例中，上述的第一量子密钥成码率所对应的链路长度为80km。步骤S102、对于每个所述QKD协议，根据所述链路实时信息和所述第一量子密钥成码率，为该QKD协议设置翻译模式，根据所述翻译模式确定各所述节点间支持的多个第一候选互联模式；利用所述第一量子密钥成码率设置翻译误差计算模型。在本申请的实施例中，基于上述所查询到的QKD业务的相关信息，为QKD业务设置多协议翻译标准。首先，根据图3所示，执行子步骤S2.1为QKD协议设置翻译模式。具体地，令图2中的多协议翻译标准设置模块202中的QKD协议设置单元为上述涉及的QKD协议设置翻译模式，其中，翻译模式包括单向翻译和双向翻译。双向翻译定义为可以由一种QKD协议翻译为另一种QKD协议，翻译方向也可以将以上两种QKD协议对调，进行逆向翻译，而单向翻译则定义为只能由一种QKD协议翻译为另一种QKD协议，无法进行逆向翻译。其中，该QKD协议能否进行双向翻译由包括链路长度和链路损耗等条件在内的链路性能决定。在本实施例中所述的无法进行逆向翻译的QKD协议定义为，由于受到链路性能的限制，在其进行逆向翻译时，该QKD协议的第一量子密钥成码率过低，而导致QKD协议无法使用在QKD业务中。基于上述因素，在本实施例中可以预设成码率阈值，该成码率阈值可以根据该正在运行的QKD业务的成码率需求进行预设。进一步地，对于以上全部节点所支持的每一个QKD协议，在相同的链路性能条件下，当该QKD协议执行正向翻译和逆向翻译时，其第一量子成码率均大于等于上述预设的成码率阈值，则认为该QKD协议可以设置为双向翻译模式。当该QKD协议仅仅在执行正向翻译时，其第一量子成码率大于等于上述预设的成码率阈值，或者仅仅在执行逆向翻译时，其第一量子成码率大于等于上述预设的成码率阈值，则认为该QKD协议不支持双向翻译模式，可以将其设置为单向翻译模式。在图4A的示例中，基于同一端到端用户通信链路的链路性能，并根据每个协议的第一量子密钥成码率，由QKD协议设置单元将BB84协议、COW协议、DPS协议、MDI协议、TF协议设置为双向翻译模式；将BBM92协议设置为单向翻译模式。进一步地，执行子步骤S2.2确定第一候选互联模式。具体地，令图2中的多协议翻译标准设置模块202中的互联模式设置单元根据上述设定的翻译模式，以及各个协议所支持的互联模式，确定各个节点之间所支持的互联模式，并将其作为各个节点之间的第一候选互联模式。在本实施例中，如表1所示，互联模式可以包括：“发送端→接收端”、“发送端→接收端←发送端”和“接收端←发送端→接收端”三种互联模式。在图4A的示例中，根据表1所示，互联模式设置单元根据上述设置的翻译模式，将QKD业务路径上源QKD节点、中继节点A和中继节点B之间设置为可以支持“发送端→接收端”和“发送端→接收端←发送端”的互联模式，中继节点A和中继节点B之间设置为可以支持“发送端→接收端”的互联模式。进一步地，执行子步骤S2.3设置翻译误差百分比计算模型。具体地，令图2中的多协议翻译标准设置模块202中的翻译误差计算模型设置单元设置如下所示的翻译误差计算公式：其中，γ表示翻译误差，Ra表示QKD协议的第一量子密钥成码率，Rb表示在该QKD业务提出时变需求时，所要求的第二量子密钥成码率。步骤S103、在所述QKD业务提出时变需求时，根据所述时变需求在全部所述第一候选互联模式中确定多个第二候选互联模式，基于所述第二候选互联模式为执行多协议翻译查找全部候选密钥中继模式组合，利用所述翻译误差计算模型计算每个所述候选密钥中继模式组合的翻译误差，根据所述翻译误差确定目标密钥中继模式组合，并根据所述目标密钥中继模式组合执行所述多协议翻译。在本申请的实施例中，基于上述查询到的QKD业务的信息，以及设置的多协议翻译标准，可以在QKD业务提出时变需求时，执行多协议翻译。首先，执行子步骤S3.1查询QKD业务的时变需求。具体地，令图2中的多协议翻译执行模块203中的需求查询单元周期性地，或非周期性地对正在执行的QKD业务进行时变需求的查询，以及时获取相关信息。其中，时变需求的相关信息可以包括：端到端的第二量子密钥成码率的需求，中继节点的需求等。在图4A的示例中，当QKD业务提出时变需求时，由需求查询单元查询到达的时变需求：将端到端的第二量子密钥成码率的需求提升12.5％，并在中继节点需求中提出将可信中继节点的数量减少50％。进一步地，执行子步骤S3.2确定节点间的第二候选互联模式。具体地，令图2中的多协议翻译执行模块203中的模式选择单元基于各个节点所支持的QKD协议，将不同的第一候选互联模式与各个中继节点组合，得到多种可被支持执行的密钥中继模式组合，并作为预备密钥中继模式组合。进一步地，根据上述的可信中继节点的数量需求，在预备密钥中继模式组合中，将不符合可信中继节点需求的第一候选互联模式去除，得到第二候选互联模式，并在下述的子步骤S3.3中，确定由第二候选互联模式参与的候选密钥中继模式组合。或者，根据可信中继节点需求逐一确定符合该需求的预备密钥中继模式组合，将得到的可满足中继节点需求的密钥中继模式组合作为候选密钥中继模式组合，在该候选密钥中继模式组合中，确定参与配合执行QKD业务的互联模式，并作为第二候选互联模式。在图4A的示例中，基于将可信中继节点的数量减少50％，也即需要将中继节点A和中继节点B中至少1个作为不可信中继节点，因此，需要“发送端→接收端”和“发送端→接收端←发送端”互联模式的参与，并将以上两种互联模式确定为第二候选互联模式。进一步地，执行子步骤S3.3查找候选密钥中继模式组合。具体地，令图2中的多协议翻译执行模块203中的组合查找单元逐一确定上述的候选密钥中继模式组合。其中，子步骤S3.2和子步骤S3.3在本实施例中的顺序仅仅是示例性的，不代表实际执行的先后顺序，在一些实施例中，可以将子步骤S3.2和子步骤S3.3进行合并，并且，模式选择单元和组合查找单元在一些实施例中，也可以合并为一个子单元以执行子步骤S3.2和子步骤S3.3。在图4A的示例中，基于上述确定的第二候选互联模式，可以确定候选密钥中继模式组合包括以下6种组合方式：涉及3个节点的MDI协议与涉及2节点的COW协议执行时变需求下的QKD业务；涉及3个节点的TF协议与涉及2个节点的COW协议执行时变需求下的QKD业务；涉及3个节点的MDI协议与涉及2个节点的DPS协议执行时变需求下的QKD业务；涉及3个节点的TF协议与涉及2个节点的DPS协议执行时变需求下的QKD业务；涉及3个节点的MDI协议与涉及2个节点的BB84协议执行时变需求下的QKD业务；涉及3个节点的TF协议与涉及2个节点的BB84协议执行时变需求下的QKD业务。进一步地，执行子步骤3.4判断组合是否存在。具体地，令图2中的多协议翻译执行模块203中的判断单元对子步骤S3.2和子步骤S3.3的执行结果进行判断，以确定是否存在符合要求的候选密钥中继模式组合。当存在符合要求的候选密钥中继模式组合，则进一步地执行下述的子步骤S3.5；若不存在，则多协议翻译失败，也即该QKD业务的时变需求无法满足。在图4A的示例中，基于上述确定的候选密钥中继模式组合，可以得知，存在符合要求的候选密钥中继模式组合，并可以进一步执行子步骤S3.5.进一步地，执行子步骤S3.5计算翻译误差百分比。具体地，令图2中的多协议翻译执行模块203中的误差计算单元，根据上述设置的翻译误差计算模型，对全部候选密钥模式中继组合逐一进行翻译误差的计算，并得到计算结果。在图4A的示例中，基于上述得到的6种候选密钥中继模式组合，进行逐一计算后，得到每个组合的翻译误差百分比为：涉及3个节点的MDI协议与涉及2节点的COW协议执行时变需求下的QKD业务：0％；涉及3个节点的TF协议与涉及2个节点的COW协议执行时变需求下的QKD业务：11％；涉及3个节点的MDI协议与涉及2个节点的DPS协议执行时变需求下的QKD业务：-5.5％；涉及3个节点的TF协议与涉及2个节点的DPS协议执行时变需求下的QKD业务：-5.5％；涉及3个节点的MDI协议与涉及2个节点的BB84协议执行时变需求下的QKD业务：-11％；涉及3个节点的TF协议与涉及2个节点的BB84协议执行时变需求下的QKD业务：-11％。进一步地，执行子步骤S3.6翻译误差百分比判定。具体地，令图2中的多协议翻译执行模块203中以上述相同的判断单元，对以上的翻译误差进行判定。首先，将翻译误差百分比小于0的候选密钥中继模式组合剔除，并在保留的翻译误差百分比大于等于0的多个候选密钥中继模式组合中选择翻译误差百分比最小的。若在候选密钥中继模式组合中不存在大于等于0的翻译误差，则判定多协议翻译失败，也即该QKD业务的时变需求无法满足。进一步地，执行子步骤S3.7确定目标密钥中继模式组合。具体地，令图2中的多协议翻译执行模块203中翻译选择单元将上述确定的翻译误差百分比计算结果最小的，且非小于0的，确定为目标密钥中继模式组合。在图4A的示例中，将涉及3个节点的MDI协议与涉及2节点的COW协议作为目标密钥中继模式组合，得到如图4B中所示的协议执行方式，其中，中继节点A作为不可信中继，中继节点B作为可信中继。进一步地，执行子步骤S3.8执行多协议翻译。具体地，令图2中的多协议翻译执行模块203中协议翻译单元利用上述确定的目标密钥中继模式组合进行多协议翻译。进一步地，执行子步骤S3.9更新QKD业务状态。具体地，当上述多协议翻译的操作成功执行后，令图2中的多协议翻译执行模块203中更新单元对QKD业务的相关状态信息进行更新。可见，本申请的实施例的量子密钥分发业务的多协议翻译方法，基于不同的QKD协议，综合考虑了不同QKD协议下的适配，依靠查询到的节点、链路量子密钥成码率和所支持的QKD协议等信息来进行多协议翻译标准的设置，并通过将不同的互联模式和QKD协议进行组合，得到多种密钥中继模式组合，并设计了翻译误差百分比计算模型，使得确定的密钥中继模式组合，在全部可能性中成为解决时变需求的最有效的方案，实现了及时有效地应对QKD业务的时变需求。需要说明的是，本申请的实施例的方法可以由单个设备执行，例如一台计算机或服务器等。本实施例的方法也可以应用于分布式场景下，由多台设备相互配合来完成。在这种分布式场景的情况下，这多台设备中的一台设备可以只执行本申请的实施例的方法中的某一个或多个步骤，这多台设备相互之间会进行交互以完成所述的方法。需要说明的是，上述对本申请的一些实施例进行了描述。其它实施例在所附权利要求书的范围内。在一些情况下，在权利要求书中记载的动作或步骤可以按照不同于上述实施例中的顺序来执行并且仍然可以实现期望的结果。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。基于同一发明构思，与上述任意实施例方法相对应的，本申请的实施例还提供了一种量子密钥分发业务的多协议翻译装置。参考图2，所述量子密钥分发业务的多协议翻译装置，包括：QKD业务信息查询模块201、多协议翻译标准设置模块202、多协议翻译执行模块203和多协议翻译装置总控模块204。其中，QKD业务信息查询模块201、多协议翻译标准设置模块202、多协议翻译执行模块203均由多协议翻译装置总控模块204控制。其中，QKD业务信息查询模块201，被配置为：基于正在进行的量子密钥分发QKD业务，在拓扑网络中查询所述QKD业务的业务路径，确定该业务路径上的各节点、所述节点之间的链路实时信息；确定各所述节点之间实时采用的QKD协议和可支持的其他全部所述QKD协议；查询全部所述QKD协议的第一量子密钥成码率。其中，QKD业务信息查询模块201包括：路径查询单元、节点和链路查询单元、协议查询单元和密钥查询单元。多协议翻译标准设置模块202，被配置为：对于每个所述QKD协议，根据所述链路实时信息和所述第一量子密钥成码率，为该QKD协议设置翻译模式，根据所述翻译模式确定各所述节点间支持的多个第一候选互联模式；利用所述第一量子密钥成码率设置翻译误差计算模型。其中，多协议翻译标准设置模块202包括：QKD协议设置单元、互联模式设置单元和翻译误差计算模型设置单元。多协议翻译执行模块203，被配置为：在所述QKD业务提出时变需求时，根据所述时变需求在全部所述第一候选互联模式中确定多个第二候选互联模式，基于所述第二候选互联模式为执行多协议翻译查找全部候选密钥中继模式组合，利用所述翻译误差计算模型计算每个所述候选密钥中继模式组合的翻译误差，根据所述翻译误差确定目标密钥中继模式组合，并根据所述目标密钥中继模式组合执行所述多协议翻译。其中，多协议翻译执行模块203包括：需求查询单元、模式选择单元、组合查找单元、判断单元、误差计算单元、翻译选择单元、协议翻译单元和更新单元。为了描述的方便，描述以上装置时以功能分为各种模块分别描述。当然，在实施本申请的实施例时可以把各模块的功能在同一个或多个软件和/或硬件中实现。上述实施例的装置用于实现前述任一实施例中相应的量子密钥分发业务的多协议翻译方法，并且具有相应的方法实施例的有益效果，在此不再赘述。基于同一发明构思，与上述任意实施例方法相对应的，本申请的实施例还提供了一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如上任意一实施例所述的量子密钥分发业务的多协议翻译方法。图5示出了本实施例所提供的一种更为具体的电子设备硬件结构示意图，该设备可以包括：处理器1010、存储器1020、输入/输出接口1030、通信接口1040和总线1050。其中处理器1010、存储器1020、输入/输出接口1030和通信接口1040通过总线1050实现彼此之间在设备内部的通信连接。处理器1010可以采用通用的CPU、微处理器、应用专用集成电路、或者一个或多个集成电路等方式实现，用于执行相关程序，以实现本申请实施例所提供的技术方案。存储器1020可以采用ROM、RAM、静态存储设备、动态存储设备等形式实现。存储器1020可以存储操作系统和其他应用程序，在通过软件或者固件来实现本申请实施例所提供的技术方案时，相关的程序代码保存在存储器1020中，并由处理器1010来调用执行。输入/输出接口1030用于连接输入/输出模块，以实现信息输入及输出。输入/输出模块可以作为组件配置在设备中，也可以外接于设备以提供相应功能。其中输入设备可以包括键盘、鼠标、触摸屏、麦克风、各类传感器等，输出设备可以包括显示器、扬声器、振动器、指示灯等。通信接口1040用于连接通信模块，以实现本设备与其他设备的通信交互。其中通信模块可以通过有线方式实现通信，也可以通过无线方式实现通信。总线1050包括一通路，在设备的各个组件之间传输信息。需要说明的是，尽管上述设备仅示出了处理器1010、存储器1020、输入/输出接口1030、通信接口1040以及总线1050，但是在具体实施过程中，该设备还可以包括实现正常运行所必需的其他组件。此外，本领域的技术人员可以理解的是，上述设备中也可以仅包含实现本申请实施例方案所必需的组件，而不必包含图中所示的全部组件。上述实施例的装置用于实现前述任一实施例中相应的量子密钥分发业务的多协议翻译方法，并且具有相应的方法实施例的有益效果，在此不再赘述。基于同一发明构思，与上述任意实施例方法相对应的，本申请还提供了一种非暂态计算机可读存储介质，所述非暂态计算机可读存储介质存储计算机指令，所述计算机指令用于使所述计算机执行如上任一实施例所述的量子密钥分发业务的多协议翻译方法。本实施例的计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。上述实施例的存储介质存储的计算机指令用于使所述计算机执行如上任一实施例所述的量子密钥分发业务的多协议翻译方法，并且具有相应的方法实施例的有益效果，在此不再赘述。所属领域的普通技术人员应当理解：以上任何实施例的讨论仅为示例性的，并非旨在暗示本申请的范围被限于这些例子；在本申请的思路下，以上实施例或者不同实施例中的技术特征之间也可以进行组合，步骤可以以任意顺序实现，并存在如上所述的本申请的实施例的不同方面的许多其它变化，为了简明它们没有在细节中提供。另外，为简化说明和讨论，并且为了不会使本申请的实施例难以理解，在所提供的附图中可以示出或可以不示出与集成电路芯片和其它部件的公知的电源/接地连接。此外，可以以框图的形式示出装置，以便避免使本申请的实施例难以理解，并且这也考虑了以下事实，即关于这些框图装置的实施方式的细节是高度取决于将要实施本申请的实施例的平台的。在阐述了具体细节以描述本申请的示例性实施例的情况下，对本领域技术人员来说显而易见的是，可以在没有这些具体细节的情况下或者这些具体细节有变化的情况下实施本申请的实施例。因此，这些描述应被认为是说明性的而不是限制性的。尽管已经结合了本申请的具体实施例对本申请进行了描述，但是根据前面的描述，这些实施例的很多替换、修改和变型对本领域普通技术人员来说将是显而易见的。例如，其它存储器架构)可以使用所讨论的实施例。本申请的实施例旨在涵盖落入所附权利要求的宽泛范围之内的所有这样的替换、修改和变型。因此，凡在本申请的实施例的精神和原则之内，所做的任何省略、修改、等同替换、改进等，均应包含在本申请的保护范围之内。
