标题title
一种数据传输方法、装置、电子设备及存储介质
摘要abst
本发明实施例涉及一种数据传输方法、装置、电子设备及存储介质，包括：当检测到目标监测模式的目标触发操作时，确定所监测模式对应的目标监测参数的第一目标标识；将第一目标标识发送至下位机；在每个通信周期内，接收下位机返回的目标监测参数对应的目标参数数据，目标参数数据由下位机根据第一目标标识所确定的。由此，减少了带宽的占用，且不影响数据传输的通信周期，保证了传输数据和传输频率同时满足监测需求，避免了增大物理带宽带来的额外成本，增强了可扩展性。
权利要求书clms
1.一种数据传输方法，其特征在于，应用于上位机，所述方法包括：当检测到目标监测模式的目标触发操作时，确定所述目标监测模式对应的目标监测参数的第一目标标识；将所述第一目标标识发送至下位机；在每个通信周期内，接收所述下位机返回的所述目标监测参数对应的目标参数数据，所述目标参数数据由所述下位机根据所述第一目标标识所确定的。2.根据权利要求1所述的方法，其特征在于，所述确定所述目标监测模式对应的目标监测参数的第一目标标识，包括：从第一关联关系中确定所述目标监测模式对应的目标监测参数，所述第一关联关系中存储有多组监测模式与监测参数的对应关系；从第二关联关系中确定所述目标监测参数对应的第一目标标识，所述第二关联关系中存储有多组所述监测参数与标识的对应关系。3.根据权利要求1所述的方法，其特征在于，所述将所述第一目标标识发送至所述下位机，包括：生成所述第一目标标识对应的目标数据包；确定所述目标数据包的目标数据量和带宽阈值；当所述目标数据量大于所述带宽阈值时，将所述目标数据包进行拆分处理，得到至少两个子数据包；将所述至少两个子数据包依次发送至所述下位机，以使得所述下位机将所述至少两个子数据包组合成所述目标数据包，并对所述目标数据包进行解包处理，得到所述第一目标标识；当所述目标数据量小于或等于所述带宽阈值时，将所述目标数据包发送至所述下位机，以使得所述下位机对所述目标数据包进行解包处理，得到所述第一目标标识。4.根据权利要求1所述的方法，其特征在于，在执行将所述第一目标标识发送至所述下位机步骤之后，所述方法，还包括：针对每个所述通信周期，当未接收到所述下位机返回的所述目标参数数据的连续时长超过预设时长阈值时，则进行告警提示；或，针对每个所述通信周期，当未接收到所述下位机返回的所述目标参数数据的连续次数超过预设次数阈值时，则进行告警提示。5.根据权利要求1所述的方法，其特征在于，所述方法，还包括：接收所述下位机发送的目标请求，所述目标请求中携带有所述下位机对应的第二目标标识；当预设标识集中存储有所述第二目标标识时，则与所述下位机建立通信连接，所述上位机中存储有所述预设标识集；在与所述下位机建立通信连接后，执行当检测到目标监测模式的目标触发操作时，确定所述目标监测模式对应的目标监测参数的第一目标标识步骤。6.一种数据传输方法，其特征在于，应用于下位机，所述方法包括：接收上位机发送的目标监测模式对应的目标监测参数的第一目标标识；在每个通信周期内，根据所述第一目标标识，确定所述目标监测参数对应的目标参数数据；在每个所述通信周期内，将所述目标参数数据发送至所述上位机。7.根据权利要求6所述的方法，其特征在于，所述确定所述目标监测参数对应的目标参数数据，包括：从第三关联关系中确定所述第一目标标识对应的目标存储地址，所述第三关联关系中存储有多组标识与存储地址的对应关系；在每个通信周期内，根据所述目标存储地址，确定所述目标监测参数对应的目标参数数据。8.一种数据传输装置，其特征在于，包括：第一确定模块，用于当检测到目标监测模式的目标触发操作时，确定所述目标监测模式对应的目标监测参数的第一目标标识；第一发送模块，用于将所述第一目标标识发送至下位机；第一接收模块，用于在每个通信周期内，接收所述下位机返回的所述目标监测参数对应的目标参数数据，所述目标参数数据由所述下位机根据所述第一目标标识所确定的。9.一种数据传输装置，其特征在于，包括：第二接收模块，用于接收上位机发送的目标监测模式对应的目标监测参数的第一目标标识；第二确定模块，用于在每个通信周期内，根据所述第一目标标识，确定所述目标监测参数对应的目标参数数据；第二发送模块，用于在每个通信周期内，将所述目标参数数据发送至所述上位机。10.一种电子设备，其特征在于，包括：处理器和存储器，所述处理器用于执行所述存储器中存储的数据传输程序，以实现权利要求1～5或6～7中任一项所述的数据传输方法。11.一种存储介质，其特征在于，所述存储介质存储有一个或者多个程序，所述一个或者多个程序可被一个或者多个处理器执行，以实现权利要求1～5或6～7中任一项所述的数据传输方法。
说明书desc
技术领域本发明实施例涉及通信技术领域，尤其涉及一种数据传输方法、装置、电子设备及存储介质。背景技术机床实时监测系统在运行过程中需要不断接收机床上各个传感器反馈的数据，机床实时监测系统通常具有数据传输量大、传输频率高的特点。目前，相关技术中，为了实现机床实时监测系统中大量数据的传输，第一种方式是通过改进硬件基础的方式增大带宽，但这种方式必然会导致成本增加，而且后续带宽需求超过当前带宽时又要再次改动硬件，可扩展性差；第二种方式是将单次传输的完整数据报拆分成满足带宽的大小，但这种方式又会降低传输频率，影响机床实时监测系统的实时性。发明内容鉴于此，为解决现有技术机床实时监测系统进行数据传输存在着可扩展性差和实时性差的技术问题，本发明实施例提供一种数据传输方法、装置、电子设备及存储介质。第一方面，本发明实施例提供一种数据传输方法，应用于上位机，所述方法包括：当检测到目标监测模式的目标触发操作时，确定所述目标监测模式对应的目标监测参数的第一目标标识；将所述第一目标标识发送至下位机；在每个通信周期内，接收所述下位机返回的所述目标监测参数对应的目标参数数据，所述目标参数数据由所述下位机根据所述第一目标标识所确定的。在一个可选的实施方式中，所述确定所述目标监测模式对应的目标监测参数的第一目标标识，包括：从第一关联关系中确定所述目标监测模式对应的目标监测参数，所述第一关联关系中存储有多组监测模式与监测参数的对应关系；从第二关联关系中确定所述目标监测参数对应的第一目标标识，所述第二关联关系中存储有多组所述监测参数与标识的对应关系。在一个可选的实施方式中，所述将所述第一目标标识发送至所述下位机，包括：生成所述第一目标标识对应的目标数据包；确定所述目标数据包的目标数据量和带宽阈值；当所述目标数据量大于所述带宽阈值时，将所述目标数据包进行拆分处理，得到至少两个子数据包；将所述至少两个子数据包依次发送至所述下位机，以使得所述下位机将所述至少两个子数据包组合成所述目标数据包，并对所述目标数据包进行解包处理，得到所述第一目标标识；当所述目标数据量小于或等于所述带宽阈值时，将所述目标数据包发送至所述下位机，以使得所述下位机对所述目标数据包进行解包处理，得到所述第一目标标识。在一个可选的实施方式中，在执行将所述第一目标标识发送至所述下位机步骤之后，所述方法，还包括：针对每个所述通信周期，当未接收到所述下位机返回的所述目标参数数据的连续时长超过预设时长阈值时，则进行告警提示；或，针对每个所述通信周期，当未接收到所述下位机返回的所述目标参数数据的连续次数超过预设次数阈值时，则进行告警提示。在一个可选的实施方式中，所述方法，还包括：接收所述下位机发送的目标请求，所述目标请求中携带有所述下位机对应的第二目标标识；当预设标识集中存储有所述第二目标标识时，则与所述下位机建立通信连接，所述上位机中存储有所述预设标识集；在与所述下位机建立通信连接后，执行当检测到目标监测模式的目标触发操作时，确定所述目标监测模式对应的目标监测参数的第一目标标识步骤。第二方面，本发明实施例提供一种数据传输方法，应用于下位机，所述方法包括：接收上位机发送的目标监测模式对应的目标监测参数的第一目标标识；在每个通信周期内，根据所述第一目标标识，确定所述目标监测参数对应的目标参数数据；在每个所述通信周期内，将所述目标参数数据发送至所述上位机。在一个可选的实施方式中，所述确定所述目标监测参数对应的目标参数数据，包括：从第三关联关系中确定所述第一目标标识对应的目标存储地址，所述第三关联关系中存储有多组标识与存储地址的对应关系；在每个通信周期内，根据所述目标存储地址，确定所述目标监测参数对应的目标参数数据。第三方面，本发明实施例提供一种数据传输装置，包括：第一确定模块，用于当检测到目标监测模式的目标触发操作时，确定所述目标监测模式对应的目标监测参数的第一目标标识；第一发送模块，用于将所述第一目标标识发送至下位机；第一接收模块，用于在每个通信周期内，接收所述下位机返回的所述目标监测参数对应的目标参数数据，所述目标参数数据由所述下位机根据所述第一目标标识所确定的。第四方面，本发明实施例提供一种数据传输装置，包括：第二接收模块，用于接收上位机发送的目标监测模式对应的目标监测参数的第一目标标识；第二确定模块，用于在每个通信周期内，根据所述第一目标标识，确定所述目标监测参数对应的目标参数数据；第二发送模块，用于在每个通信周期内，将所述目标参数数据发送至所述上位机。第五方面，本发明实施例提供一种电子设备，包括：处理器和存储器，所述处理器用于执行所述存储器中存储的数据传输程序，以实现如上所述的数据传输方法。第六方面，本发明实施例提供一种存储介质，所述存储介质存储有一个或者多个程序，所述一个或者多个程序可被一个或者多个处理器执行，以实现如上所述的数据传输方法。本发明实施例提供的一种数据传输方法，包括：当检测到目标监测模式的目标触发操作时，确定所监测模式对应的目标监测参数的第一目标标识；将第一目标标识发送至下位机；在每个通信周期内，接收下位机返回的目标监测参数对应的目标参数数据，目标参数数据由下位机根据第一目标标识所确定的。通过上述方式，本发明实施例根据当前所选择的监测模式，动态调整下位机所要传输的数据，不能被用户直接或间接观测到的数据则不进行传输，减少了带宽的占用，且不影响数据传输的通信周期，保证了传输数据和传输频率同时满足监测需求，避免了增大物理带宽带来的额外成本，增强了可扩展性。附图说明图1为本发明实施例提供的一个机床实时监测系统的结构示意图；图2为本发明实施例提供的一个数据传输方法的流程示意图；图3为本发明实施例提供的另一个数据传输方法的流程示意图；图4为本发明实施例提供的又一个数据传输方法的流程示意图；图5为本发明实施例提供的一个数据传输装置的结构示意图；图6为本发明实施例提供的另一个数据传输装置的结构示意图；图7为本发明实施例提供的一个电子设备的结构示意图；以上附图中：10、上位机；20、下位机；101、第一确定模块；102、第一发送模块；103、第一接收模块；201、第二接收模块；202、第二确定模块；203、第二发送模块；500、电子设备；501、处理器；502、存储器；5021、操作系统；5022、应用程序；503、用户接口；504、网络接口；505、总线系统。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。为便于对本发明实施例的理解，下面将结合附图以具体实施例做进一步的解释说明，实施例并不构成对本发明实施例的限定。参考图1，图1为本发明实施例提供的一个机床实时监测系统的结构示意图。本发明实施例提供的一种机床实时监测系统包括：上位机10和下位机20，上位机10与下位机20之间进行双工通信，上位机10与下位机20之间可通过有线通信模块或无线通信模块连接，其中，有线通信模块包括RS485通信模块和RS232通信模块，无线通信模块包括wifi通信模块和蓝牙通信模块。上位机10和下位机20之间的具体通信方式可根据实际需要进行选择，本实施例中在此不做具体的限定。上位机10具体可指显示终端、电脑等，下位机20具体可指控制器。下位机20用于进行机床上的数据采集，上位机10用于数据分析和监测，并对采集到的数据进行分析或可视化处理。数据从上位机10发送至下位机20称为下传，数据从下位机20发送至上位机10称为上传。在本实施例中，为了保证传输数据和传输频率同时满足机床实时监测系统的监测需求，上位机10当检测到目标监测模式的目标出发操作时，确定目标监测模式对应的目标监测参数的第一目标标识；上位机10将第一目标标识发送至下位机20；在每个通信周期内，下位机20根据第一目标标识，确定目标监测参数对应的目标参数数据；在每个通信周期内，下位机20将目标参数数据发送至上位机10。参考图2，图2为本发明实施例提供的一个数据传输方法的流程示意图。本发明实施例提供的一种数据传输方法，应用于上位机10，包括如下步骤：S101：当检测到目标监测模式的目标触发操作时，确定目标监测模式对应的目标监测参数的第一目标标识。其中，上位机中预存储有多个监测模式，例如，刀具位置监测模式、速度监测模式和I/O监测模式等，监测模式可根据实际需要进行设置，本实施例在此不做具体的限定。上位机的显示界面中显示有与每个监测模式对应的显示控件，以供用户在显示界面选择相应的监测模式。目标触发操作既可以是目标监测模式的触摸操作，也可以是目标监测模式的点击操作。在同一时刻，上位机只能对一种监测模式下的目标监测参数的目标参数数据进行监测。本实施例中，每一种监测模式都对应有相应的监测参数，一种监测模式对应有一个监测参数，或一种监测模式对应有至少两个监测参数。例如，针对于刀具位置监测模式，该模式对应的监测参数包括x轴伺服反馈位置、y轴伺服反馈位置和z轴伺服反馈位置等。每一种监测模式与监测参数的对应关系可根据实际需要进行设置，本实施例中不做具体的限定。每一个监测参数都对应有唯一标识，在用户想要查看或分析目标监测模式对应的目标监测参数的目标参数数据时，只需在上位机的显示界面点击或触摸目标监测模式对应的目标显示控件，上位机在检测目标监测模式的目标触发操作时，自动确定目标监测模式对应的目标监测参数的第一目标标识，并将第一目标标识发送至下位机，以使得下位机返回目标监测参数对应的目标参数数据，从而实现了目标监测模式下的目标监测参数的实时监测。本实施例中，可通过如下方式确定目标监测模式对应的目标监测参数的第一目标标识，具体如下：从第一关联关系中确定目标监测模式对应的目标监测参数，第一关联关系中存储有多组监测模式与监测参数的对应关系；从第二关联关系中确定目标监测参数对应的第一目标标识，第二关联关系中存储有多组监测参数与标识的对应关系。其中，第一关联关系和第二关联关系均存储于上位机中，且第一关联关系和第二关联关系可根据实际需要进行更新。第一关联关系和第二关联关系既可以通过上位机的显示界面进行更新，也可以修改逻辑代码进行更新，第一关联关系和第二关联关系的更新方法可根据实际需要进行选择，本实施例中不做具体的限定。标识为监测参数的唯一标识，本实施例中标识由参数类型号和数据序号组成，例如，针对x轴伺服反馈位置这一监测参数，其类型号为0x45，数据序号为0，则该监测参数的标识为0x450；针对x轴光栅反馈位置这一监测参数，其类型号为0x46，数据序号为0，则该监测参数的标识为0x460。不同监测参数的标识的表示形式具体可参考表1所示，表1为不同监测参数与标识的对应关系。表1不同监测参数与标识的对应关系在S101步骤之前，本发明实施例提供的一种数据传输方法，还包括：接收下位机发送的目标请求，目标请求中携带有下位机对应的第二目标标识；当预设标识集中存储有第二目标标识时，则与下位机建立通信连接，上位机中存储有预设标识集；在与下位机建立通信连接后，执行当检测到目标监测模式的目标触发操作时，确定目标监测模式对应的目标监测参数的目标标识步骤。其中，为了保证上位机与下位机之间的通信安全，在下位机与上位机建立通信连接之前，上位机需对下位机的身份进行校验，当校验成功后，上位机与下位机建立通信连接，以执行后续的S101步骤。S102：将第一目标标识发送至下位机。其中，上位机既可以通过有线通信模块将第一目标标识发送至下位机，上位机也可以通过无线通信模块将第一目标标识发送至下位机。在将第一目标标识发送至下位机之前，上位机按照预设规则生成第一目标标识对应的目标数据包。在生成第一目标标识对应的目标数据包之后，将目标数据包发送至下位机，以使得下位机对目标数据包进行解析得到第一目标标识。S103：在每个通信周期内，接收下位机返回的目标监测参数对应的目标参数数据，目标参数数据由下位机根据第一目标标识所确定的。其中，当上位机将第一目标标识发送至下位机后，下位机将第一目标标识进行存储，在每个通信周期内，下位机根据第一目标标识确定目标监测参数对应的目标参数数据，并将目标参数数据发送至上位机。通信周期可根据实际需要进行设置，本实施例对此不做具体的限定，例如通信周期可为30秒、1分钟等。本实施例中，当下位机根据第一目标标识确定目标参数数据后，下位机将目标参数数据构建成数据报，并将数据报发送至上位机。在本实施例中，S103步骤中在生成第一目标标识对应的目标数据包之后，本实施例提供的一种数据传输方法，还包括：确定目标数据包的目标数据量和带宽阈值；当目标数据量大于带宽阈值时，将目标数据包进行拆分处理，得到至少两个子数据包；将至少两个子数据包依次发送至下位机，以使得下位机将至少两个子数据包组合成目标数据包，并对目标数据包进行解包处理，得到第一目标标识；当目标数据量小于或等于带宽阈值时，将目标数据包发送至下位机，以使得下位机对所述目标数据包进行解包处理，得到第一目标标识。其中，需要说明的是，带宽阈值具体指总带宽减去上传数据所占用的带宽。例如，总带宽为300kb，上传数据所占用的带宽为200kb，则带宽阈值为100kb。本实施例中，在将目标数据包发送至下位机时，为避免下传数据所需的带宽不足，在目标数据包的目标数据量大于带宽阈值时，上位机可按照预设规则对目标数据包进行拆分处理，得到至少两个子数据包，将至少两个子数据包依次进行下发至下位机。本实施例中，拆分处理所得到的每个子数据包的大小既可以相同，也可以不同，子数据包的大小与预设规则对应。本实施例中，将目标数据包进行拆分后下发，虽然一定程度上会使得下位机接收到的第一目标标识有一定延迟，但不会影响下位机将所确定的目标参数数据发送至上位机，仍能满足机床实时监测系统的监测需要。本实施例中，在执行将第一目标标识发送至下位机步骤之后，本实施例提供的一种数据传输方法，还包括：针对每个通信周期，当未接收到下位机返回的目标参数数据的连续时长超过预设时长阈值时，则进行告警提示；或，针对每个通信周期，当未接收到下位机返回的目标参数数据的连续次数超过预设次数阈值时，则进行告警提示。其中，预设时长阈值和预设次数阈值可根据实际需要进行设置，本实施例对此不做具体的限定。例如，预设时长阈值可为20秒、30秒等，预设次数阈值可为4次、5次等。在S103步骤之后，在每个通信周期内，当上位机接收到目标参数数据后，对目标参数数据进行数据分析或将目标参数数据显示于目标界面上，从而实现了目标监测模式下的目标监测参数对应的目标参数数据的监测。本实施例中，当上位机接收到下位机发送的数据报之后，对数据报进行解析，以获取到目标监测参数对应的目标参数数据。本实施例提供的一种数据传输方法，根据当前所选择的监测模式，动态调整下位机所要传输的数据，不能被用户直接或间接观测到的数据则不进行传输，减少了带宽的占用，且不影响数据传输的通信周期，保证了传输数据和传输频率同时满足监测需求，避免了增大物理带宽带来的额外成本，增强了可扩展性。参考图3，图3为本发明实施例提供的另一个数据传输方法的流程示意图。本发明实施例提供的一种数据传输方法，应用于下位机，包括如下步骤：S201：接收上位机发送的目标监测模式对应的目标监测参数的第一目标标识。其中，上位机在检测到目标监测模式的目标触发操作时，确定目标监测模式对应的目标监测参数的第一目标标识。本实施例中，目标监测模式对应的目标监测参数的第一目标标识的确定方式如上述S101步骤所述，本实施例在此不做赘述。需要说明的是，在S201步骤之前，本实施例提供的一种数据传输方法，还包括：向上位机发送目标请求，以使得上位机判断预设标识集中是否存在目标请求对应的第二目标标识，目标请求中携带有下位机对应的第二目标标识；当上位机判断预设标识集中存在第二目标标识后，上位机与下位机建立通信连接。其中，为了保证上位机与下位机之间的通信安全，在下位机与上位机建立通信连接之前，上位机需对下位机的身份进行校验，当校验成功后，上位机与下位机建立通信连接，以执行S201步骤。本实施例中，S201步骤中，还包括：当接收到第一目标标识对应的目标数据包时，下位机对目标数据包进行解包处理，得到第一目标标识；当依次接收到目标数据包对应的至少两个子数据包后，下位机将至少两个子数据包组合成目标数据包，并对目标数据包进行解包处理，得到第一目标标识。S202：在每个通信周期内，根据第一目标标识，确定目标监测参数对应的目标参数数据。本实施例中，可通过如下方式确定目标监测参数对应的目标参数数据，具体如下：从第三关联关系中确定第一目标标识对应的目标存储地址，第三关联关系中存储有多组标识与存储地址的对应关系；在每个通信周期内，根据目标存储地址，确定目标监测参数对应的目标参数数据。本实施例中，第三关联关系存储于下位机中，第三关联关系可根据实际需要进行更新。第三关联关系既可以通过上位机的显示界面进行更新，也可以修改逻辑代码进行更新，第三关联关系的更新方法可根据实际需要进行选择，本实施例中不做具体的限定。目标存储地址即为数据的存储地址，目标存储地址中的数据实时更新，每一存储地址对应有一种参数数据，所以，当确定了目标存储地址后，即可获取到目标存储地址下的目标参数数据，该目标参数数据即为目标监测参数对应的目标参数数据。S203：在每个通信周期内，将目标参数数据发送至上位机。本实施例提供的一种数据传输方法，根据当前所选择的监测模式，动态调整下位机所要传输的数据，不能被用户直接或间接观测到的数据则不进行传输，减少了带宽的占用，且不影响数据传输的通信周期，保证了传输数据和传输频率同时满足监测需求，避免了增大物理带宽带来的额外成本，增强了可扩展性。下面作为一个示例，参考图4，具体介绍一个上位机与下位机的通信流程，具体如下：当上位机和下位机建立通信连接后，上位机实时对监测模式进行检测，当检测到目标监测模式的目标触发操作后，根据第一关联关系和第二关联关系确定目标监测模式对应的目标监测参数的第一目标标识；生成第一目标标识对应的目标数据包，并将目标数据包发送至下位机；下位机对接收到的目标数据包进行解析得到第一目标标识；下位机在每个通信周期内根据第三关联关系和第一目标标识确定目标监测参数对应的目标参数数据；下位机在每个通信周期内构建目标参数数据对应的数据报，并将数据报发送至上位机；上位机对接收到的数据报进行解析后，获取到目标参数数据。参考图5，本发明实施例提供了一个数据传输装置的结构示意图。本发明实施例提供的一种数据传输装置，包括第一确定模块101、第一发送模块102、第一接收模块103，第一确定模块101用于当检测到目标监测模式的目标触发操作时，确定目标监测模式对应的目标监测参数的第一目标标识；第一发送模块102用于将第一目标标识发送至下位机；第一接收模块103，用于在每个通信周期内，接收下位机返回的目标监测参数对应的目标参数数据，目标参数数据由下位机根据第一目标标识所确定的。本实施例中，第一确定模块101，还用于：从第一关联关系中确定目标监测模式对应的目标监测参数，第一关联关系中存储有多组监测模式与监测参数的对应关系；从第二关联关系中确定目标监测参数对应的第一目标标识，第二关联关系中存储有多组监测参数与标识的对应关系。本实施例中，第一发送模块102还用于：生成第一目标标识对应的目标数据包；确定目标数据包的目标数据量和带宽阈值；当目标数据量大于带宽阈值时，将目标数据包进行拆分处理，得到至少两个子数据包；将至少两个子数据包依次发送至下位机，以使得下位机将至少两个子数据包组合成目标数据包，并对目标数据包进行解包处理，得到第一目标标识；当目标数据量小于或等于带宽阈值时，将目标数据包发送至下位机，以使得下位机对目标数据包进行解包处理，得到第一目标标识。本实施例提供的一种数据传输装置，还包括：告警模块，告警模块用于：针对每个通信周期，当未接收到下位机返回的目标参数数据的连续时长超过预设时长阈值时，则进行告警提示；或，针对每个通信周期，当未接收到下位机返回的目标参数数据的连续次数超过预设次数阈值时，则进行告警提示。本实施例提供的一种数据传输装置，还包括：建立模块，建立模块用于：接收下位机发送的目标请求，目标请求中携带有下位机对应的第二目标标识；当预设标识集中存储有第二目标标识时，则与下位机建立通信连接，上位机中存储有预设标识集；在与下位机建立通信连接后，执行第一确定模块101。本实施例提供的一种数据传输装置，根据当前所选择的监测模式，动态调整下位机所要传输的数据，不能被用户直接或间接观测到的数据则不进行传输，减少了带宽的占用，且不影响数据传输的通信周期，保证了传输数据和传输频率同时满足监测需求，避免了增大物理带宽带来的额外成本，增强了可扩展性。参考图6，本发明实施例提供了另一个数据传输装置的结构示意图。本发明实施例提供的一种数据传输装置，包括：第二接收模块201、第二确定模块202和第二发送模块203，第二接收模块201用于接收上位机发送的目标监测模式对应的目标监测参数的第一目标标识；第二确定模块202用于在每个通信周期内，根据第一目标标识，确定目标监测参数对应的目标参数数据；第二发送模块203用于在每个通信周期内，将目标参数数据发送至上位机。本实施例中的第二确定模块202，还用于：从第三关联关系中确定第一目标标识对应的目标存储地址，第三关联关系中存储有多组标识与存储地址的对应关系；在每个通信周期内，根据目标存储地址，确定目标监测参数对应的目标参数数据。本实施例提供的一种数据传输装置，根据当前所选择的监测模式，动态调整下位机所要传输的数据，不能被用户直接或间接观测到的数据则不进行传输，减少了带宽的占用，且不影响数据传输的通信周期，保证了传输数据和传输频率同时满足监测需求，避免了增大物理带宽带来的额外成本，增强了可扩展性。图7为本发明实施例提供的一种的电子设备的结构示意图，图7所示的电子设备500包括：至少一个处理器501、存储器502、至少一个网络接口504和其他用户接口503。电子设备500中的各个组件通过总线系统505耦合在一起。可理解，总线系统505用于实现这些组件之间的连接通信。总线系统505除包括数据总线之外，还包括电源总线、控制总线和状态信号总线。但是为了清楚说明起见，在图7中将各种总线都标为总线系统505。其中，用户接口503可以包括显示器、键盘或者点击设备、触感板或者触摸屏等。可以理解，本发明实施例中的存储器502可以是易失性存储器或非易失性存储器，或可包括易失性和非易失性存储器两者。其中，非易失性存储器可以是只读存储器、可编程只读存储器、可擦除可编程只读存储器、电可擦除可编程只读存储器或闪存。易失性存储器可以是随机存取存储器，其用作外部高速缓存。通过示例性但不是限制性说明，许多形式的RAM可用，例如静态随机存取存储器、动态随机存取存储器、同步动态随机存取存储器、双倍数据速率同步动态随机存取存储器、增强型同步动态随机存取存储器、同步连接动态随机存取存储器和直接内存总线随机存取存储器。本文描述的存储器502旨在包括但不限于这些和任意其它适合类型的存储器。在一些实施方式中，存储器502存储了如下的元素，可执行单元或者数据结构，或者他们的子集，或者他们的扩展集：操作系统5021和应用程序5022。其中，操作系统5021，包含各种系统程序，例如框架层、核心库层、驱动层等，用于实现各种基础业务以及处理基于硬件的任务。应用程序5022，包含各种应用程序，例如媒体播放器、浏览器等，用于实现各种应用业务。实现本发明实施例方法的程序可以包含在应用程序5022中。在本发明实施例中，通过调用存储器502存储的程序或指令，具体的，可以是应用程序5022中存储的程序或指令，处理器501用于执行各方法实施例所提供的方法步骤，例如包括：当检测到目标监测模式的目标触发操作时，确定所监测模式对应的目标监测参数的第一目标标识；将第一目标标识发送至下位机；在每个通信周期内，接收下位机返回的目标监测参数对应的目标参数数据，目标参数数据由下位机根据第一目标标识所确定的。或，接收上位机发送的目标监测模式对应的目标监测参数的第一目标标识；在每个通信周期内，根据第一目标标识，确定目标监测参数对应的目标参数数据；在每个通信周期内，将目标参数数据发送至上位机。上述本发明实施例揭示的方法可以应用于处理器501中，或者由处理器501实现。处理器501可能是一种集成电路芯片，具有信号的处理能力。在实现过程中，上述方法的各步骤可以通过处理器501中的硬件的集成逻辑电路或者软件形式的指令完成。上述的处理器501可以是通用处理器、数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。可以实现或者执行本发明实施例中的公开的各方法、步骤及逻辑框图。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合本发明实施例所公开的方法的步骤可以直接体现为硬件译码处理器执行完成，或者用译码处理器中的硬件及软件单元组合执行完成。软件单元可以位于随机存储器，闪存、只读存储器，可编程只读存储器或者电可擦写可编程存储器、寄存器等本领域成熟的存储介质中。该存储介质位于存储器502，处理器501读取存储器502中的信息，结合其硬件完成上述方法的步骤。可以理解的是，本文描述的这些实施例可以用硬件、软件、固件、中间件、微码或其组合来实现。对于硬件实现，处理单元可以实现在一个或多个专用集成电路、数字信号处理器、数字信号处理设备、可编程逻辑设备、现场可编程门阵列、通用处理器、控制器、微控制器、微处理器、用于执行本申请所述功能的其它电子单元或其组合中。对于软件实现，可通过执行本文所述功能的单元来实现本文所述的技术。软件代码可存储在存储器中并通过处理器执行。存储器可以在处理器中或在处理器外部实现。本实施例提供的电子设备可以是如图7中所示的电子设备，可执行如图2-4中数据传输方法的所有步骤，进而实现图2-4所示数据传输方法的技术效果，具体请参照图2-4相关描述，为简洁描述，在此不作赘述。本发明实施例还提供了一种存储介质。这里的存储介质存储有一个或者多个程序。其中，存储介质可以包括易失性存储器，例如随机存取存储器；存储器也可以包括非易失性存储器，例如只读存储器、快闪存储器、硬盘或固态硬盘；存储器还可以包括上述种类的存储器的组合。当存储介质中一个或者多个程序可被一个或者多个处理器执行，以实现上述在数据传输设备侧执行的数据传输方法。所述处理器用于执行存储器中存储的数据传输程序，以实现以下在数据传输设备侧执行的数据传输方法的步骤：当检测到目标监测模式的目标触发操作时，确定所监测模式对应的目标监测参数的第一目标标识；将第一目标标识发送至下位机；在每个通信周期内，接收下位机返回的目标监测参数对应的目标参数数据，目标参数数据由下位机根据第一目标标识所确定的。或，接收上位机发送的目标监测模式对应的目标监测参数的第一目标标识；在每个通信周期内，根据第一目标标识，确定目标监测参数对应的目标参数数据；在每个通信周期内，将目标参数数据发送至上位机。专业人员应该还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。结合本文中所公开的实施例描述的方法或算法的步骤可以用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。以上所述的具体实施方式，对本发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施方式而已，并不用于限定本发明的保护范围，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
