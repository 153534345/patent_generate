标题title
车端控制器的远程调试方法、装置、系统和车辆
摘要abst
本发明提供一种车端控制器的远程调试方法、装置、系统和车辆。所述车端控制器的远程调试方法，包括如下过程：接收调试指令，所述调试指令通过调试设备发出；将所述调试指令发送给对应的车端控制器，以使所述车端控制器获取与所述调试指令对应的运行数据；接收所述运行数据，并将所述运行数据发送至所述调试设备，从而完成所述调试指令对应的远程调试。本发明车端控制器的远程调试方法、装置、系统和车辆，实时性与灵活性均较高，不仅能让研发人员通过远程方式灵活的随意输入调试指令，而且能实时的看到系统运行的结果，方便其做进一步的交互调试。
权利要求书clms
1.一种车端控制器的远程调试方法，其特征在于，包括如下过程：接收调试指令，所述调试指令通过调试设备发出；将所述调试指令发送给对应的车端控制器，以使所述车端控制器获取与所述调试指令对应的运行数据；接收所述运行数据，并将所述运行数据发送至所述调试设备，从而完成所述调试指令对应的远程调试。2.根据权利要求1所述的远程调试方法，其特征在于，将所述调试指令发送给对应的车端控制器包括：基于消息队列遥测传输协议部署云端服务器和调试窗口，并设置云端服务器和调试窗口之间的订阅主题；建立与车端控制器、云端服务器及调试设备上调试窗口间的数据通道，使所述调试窗口能与所述车端控制器进行数据交互；通过所述订阅主题，将所述调试指令转发至车端控制器。3.根据权利要求2所述的远程调试方法，其特征在于，建立与所述车端控制器之间的数据通道，包括：与所述车端控制器通过以太网连接，并通过异步消息队列或数据分发服务建立数据通道。4.根据权利要求2所述的远程调试方法，其特征在于，通过所述订阅主题，将所述调试指令转发至车端控制器，包括：接收所述云端服务器转发的所述调试指令，并识别所述调试指令对应的所述车端控制器，将所述调试信息转发给对应的所述车端控制器。5.根据权利要求4所述的远程调试方法，其特征在于，所述识别所述调试指令对应的所述车端控制器的过程包括：根据所述调试指令内的执行方属性，识别对应的所述车端控制器。6.根据权利要求4或5所述的远程调试方法，其特征在于，所述识别所述调试指令对应的所述车端控制器的过程包括：所述车端控制器接收所述调试指令；判断其执行方属性是否与自己控制器名称匹配；若是，则执行所述调试指令；若否，则不执行所述调试指令。7.根据权利要求6所述的远程调试方法，其特征在于，所述执行所述调试指令的过程包括：所述车端控制器从所述调试指令内提取并执行相应的检测指令，并保存所述检测指令的执行数据，以周期性的发送所述执行数据。8.根据权利要求1所述的远程调试方法，其特征在于，所述运行数据包括运行结果和/或运行日志。9.一种车端控制器的远程调试方法，其特征在于，包括：接收车载娱乐信息系统车机端发送的调试指令，所述调试指令通过调试设备发送至所述车载娱乐信息系统车机端，并由所述车载娱乐信息系统车机端进行转发；获取与所述调试指令对应的运行数据；将所述运行数据发送至所述车载娱乐信息系统车机端，以使所述车载娱乐信息系统车机端将所述运行数据转发至所述调试设备，从而完成调试指令对应的远程调试。10.一种远程调试装置，其特征在于，包括：第一接收模块，用于接收调试指令；转发模块，用于将所述调试指令转发至车端控制器，以使所述车端控制器获取与所述调试指令对应的运行数据；第二接收模块，用于接收所述运行数据，并将所述运行数据发送至所述调试设备，从而完成所述调试指令对应的远程调试。11.一种车端控制器的远程调试系统，其特征在于，包括：调试设备，其上设置有信息收发模块；车载娱乐信息系统车机端，设置于对应车辆上，其上设置有远程调试转发模块；车端控制器，设置于对应车辆上，其上设置有远程调试执行模块，其中，所述信息收发模块发送调试指令至所述远程调试转发模块，所述远程调试转发模块将所述调试指令转发至对应的所述远程调试执行模块，所述远程调试执行模块接收并运行所述调试指令，并将运行数据发回至所述远程调试转发模块；所述远程调试转发模块将所述调试结果发送至所述信息收发模块。12.一种车辆，包括车载娱乐信息系统车机端，其特征在于，所述车载娱乐信息系统车机端包括有远程调试转发模块；所述车辆的至少一个车端控制器包括有远程调试执行模块，在远程调试的过程中，所述车载娱乐信息系统车机端和至少一个所述车端控制器通讯连接，以执行权利要求1至9中任一项所述的远程调试方法。13.一种电子设备，其特征在于，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述电子设备实现如权利要求1至9中任一项所述的远程调试方法。14.一种计算机可读存储介质，其特征在于，其上存储有计算机可读指令，当所述计算机可读指令被计算机的处理器执行时，使计算机执行权利要求1至9中任一项所述的远程调试方法。
说明书desc
技术领域本申请涉及车辆检测技术领域，具体涉及一种车端控制器的远程调试方法、装置、系统、车辆、电子设备和计算机可读存储介质。背景技术随着车辆智能化的发展，车辆上的车端控制器也越来越多，例如有纯电动汽车的整车控制器、电机控制器、汽油车的整车控制、混合动力控制器、自动变速箱控制器，这些车端控制器在车辆上发挥着重大的作用，任一车端控制器出现异常，都会造成车辆无法正常使用。目前排查车端控制器问题的方式主要有两种：到现场去通过诊断仪查错误码；远程拉取对应的车端控制器的日志文件进行分析排查。这两种方式实时性及灵活性都有不足。因此需要提供车端控制器的远程调试方法、装置、系统和车辆，以灵活快速的进行车端控制器的调试。发明内容鉴于以上所述现有技术的缺点，本发明提供一种车端控制器的远程调试方法、装置、系统、车辆、电子设备和计算机可读存储介质，以灵活快速的进行车端控制器的远程调试。本发明提供一种车端控制器的远程调试方法，包括如下过程：接收调试指令，所述调试指令通过调试设备发出；将所述调试指令发送给对应的车端控制器，以使所述车端控制器获取与所述调试指令对应的运行数据；接收所述运行数据，并将所述运行数据发送至所述调试设备，从而完成所述调试指令对应的远程调试。在本发明远程调试方法一实施例中，将所述调试指令发送给对应的车端控制器包括：基于消息队列遥测传输协议部署云端服务器和调试窗口，并设置云端服务器和调试窗口之间的订阅主题；建立与车端控制器、云端服务器及调试设备上调试窗口间的数据通道，使所述调试窗口能与所述车端控制器进行数据交互；通过所述订阅主题，将所述调试指令转发至车端控制器。在本发明远程调试方法一实施例中，建立与所述车端控制器之间的数据通道，包括：与所述车端控制器通过以太网连接，并通过异步消息队列或数据分发服务建立数据通道。在本发明远程调试方法一实施例中，通过所述订阅主题，将所述调试指令转发至车端控制器，包括：接收所述云端服务器转发的所述调试指令，并识别所述调试指令对应的所述车端控制器，将所述调试信息转发给对应的所述车端控制器。在本发明远程调试方法一实施例中，所述识别所述调试指令对应的所述车端控制器的过程包括：根据所述调试指令内的执行方属性，识别对应的所述车端控制器。在本发明远程调试方法一实施例中，所述识别所述调试指令对应的所述车端控制器的过程包括：所述车端控制器接收所述调试指令；判断其执行方属性是否与自己控制器名称匹配；若是，则执行所述调试指令；若否，则不执行所述调试指令。在本发明远程调试方法一实施例中，所述执行所述调试指令的过程包括：所述车端控制器从所述调试指令内提取并执行相应的检测指令，并保存所述检测指令的执行数据，以周期性的发送所述执行数据。在本发明远程调试方法一实施例中，所述运行数据包括运行结果和/或运行日志。本发明还提供一种车端控制器的远程调试方法，包括：接收车载娱乐信息系统车机端发送的调试指令，所述调试指令通过调试设备发送至所述车载娱乐信息系统车机端，并由所述车载娱乐信息系统车机端进行转发；获取与所述调试指令对应的运行数据；将所述运行数据发送至所述车载娱乐信息系统车机端，以使所述车载娱乐信息系统车机端将所述运行数据转发至所述调试设备，从而完成调试指令对应的远程调试。本发明还提供一种远程调试装置，包括：第一接收模块，用于接收调试指令；转发模块，用于将所述调试指令转发至车端控制器，以使所述车端控制器获取与所述调试指令对应的运行数据；第二接收模块，用于接收所述运行数据，并将所述运行数据发送至所述调试设备，从而完成所述调试指令对应的远程调试。本发明还提供一种车端控制器的远程调试系统，包括：调试设备，其上设置有信息收发模块；车载娱乐信息系统车机端，设置于对应车辆上，其上设置有远程调试转发模块；车端控制器，设置于对应车辆上，其上设置有远程调试执行模块，其中，所述信息收发模块发送调试指令至所述远程调试转发模块，所述远程调试转发模块将所述调试指令转发至对应的所述远程调试执行模块，所述远程调试执行模块接收并运行所述调试指令，并将运行数据发回至所述远程调试转发模块；所述远程调试转发模块将所述调试结果发送至所述信息收发模块。本发明还提供一种车辆，包括车载娱乐信息系统车机端，所述车载娱乐信息系统车机端包括有远程调试转发模块；所述车辆的至少一个车端控制器包括有远程调试执行模块，在远程调试的过程中，所述车载娱乐信息系统车机端和至少一个所述车端控制器通讯连接，以执行上述任意任一项所述的远程调试方法。本发明还提供一种电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述电子设备实现上述任一项所述的远程调试方法。本发明还提供一种计算机可读存储介质，其上存储有计算机可读指令，当所述计算机可读指令被计算机的处理器执行时，使计算机执行上述任一项所述的远程调试方法。一种车端控制器的远程调试方法、装置、系统、车辆、电子设备和计算机可读存储介质，实时性与灵活性均较高，相比于传统的通过远程控制拉取终端日志到后台再解析，该发明不仅能让研发人员通过远程方式灵活的随意输入调试指令，而且能实时的看到系统运行的结果，方便其做进一步的交互调试。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本申请。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本申请的实施例，并与说明书一起用于解释本申请的原理。显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术者来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。在附图中：图1是本申请的一示例性实施例中远程调试系统的示意图；图2是本申请的一示例性实施例示出的调试系统的连接示意图；图3是本申请的另一示例性实施例示出的调试系统的连接示意图；图4是一示例性实施例示出的远程调试方法的流程示意图；图5是一示例性实施例示出的远程调试方法的进一步流程示意图；图6是本申请的另一示例性实施例中车端控制器接收调试指令的逻辑图；图7是本申请的一示例性实施例示出的远程调试装置示意图；图8是本申请的另一示例性实施例中远程调试系统的示意图；图9是用来实现本申请实施例的电子设备的计算机系统的结构示意图。具体实施方式以下将参照附图和优选实施例来说明本发明的实施方式，本领域技术人员可由本说明书中所揭露的内容轻易地了解本发明的其他优点与功效。本发明还可以通过另外不同的具体实施方式加以实施或应用，本说明书中的各项细节也可以基于不同观点与应用，在没有背离本发明的精神下进行各种修饰或改变。应当理解，优选实施例仅为了说明本发明，而不是为了限制本发明的保护范围。需要说明的是，以下实施例中所提供的图示仅以示意方式说明本发明的基本构想，遂图式中仅显示与本发明中有关的组件而非按照实际实施时的组件数目、形状及尺寸绘制，其实际实施时各组件的型态、数量及比例可为一种随意的改变，且其组件布局型态也可能更为复杂。在下文描述中，探讨了大量细节，以提供对本发明实施例的更透彻的解释，然而，对本领域技术人员来说，可以在没有这些具体细节的情况下实施本发明的实施例是显而易见的，在其他实施例中，以方框图的形式而不是以细节的形式来示出公知的结构和设备，以避免使本发明的实施例难以理解。图1是本申请的一示例性实施例中远程调试系统的示意图。请参阅图1，现有车辆的车载娱乐信息系统车机端210是集成于车辆200中控台的一台智能多媒体设备，随着车辆智能化的发展，现有车载娱乐信息系统车机端210的功能较多，除了基本的CD/收音机，GPS导航，蓝牙，USB/AUX，发展趋势呈智能化、网络化发展，Wi-Fi，WCDMA也逐步得到应用。车载娱乐信息系统车机端210已不再是高配车专有的配置，未来可能会是标准配置，可谓市场巨大，因此本申请中利用现有车载娱乐信息系统车机端210提供车端控制器220的远程调试方法、装置、系统和车辆，以灵活快速的进行车端控制器220的远程调试。图2是本申请的一示例性实施例示出的调试系统的连接示意图；本发明远程调试方法在调试设备100与车辆的车载娱乐信息系统车机端210、以及至少一个车端控制器220之间进行。车载娱乐信息系统车机端210和至少一个车端控制器220安装在车辆上，该远程调试方法可以使调试设备100与车辆200的车载娱乐信息系统车机端210建立通讯，并通过车载娱乐信息系统车机端210与对应车端控制器220之间的通讯连接来进行车端控制器220的远程调试或故障诊断。图4为本申请的流程示意图。请参阅图2和图4，本发明提供一种车端控制器的远程调试方法，包括如下过程：S410:接收调试指令，所述调试指令通过调试设备发出。在此步骤中，调试设备100远程发出调试指令。所述调试指令根据调试操作人员的请求生成，且调试指令的具体格式不受限定，可以是压缩格式也可以是非压缩格式；对应车辆200的车载娱乐信息系统车机端210接收所述调试指令。所述车载娱乐信息系统车机端210可以采用多种方式接收所述调试设备100发送的调试指令。例如，传输控制协议套接字传输方式；又如，超文本传输方式；再如，消息队列遥测传输方式。可以理解的是，在实际应用中，还可以通过其他的方式接收，此处不再一一赘述。S420:将所述调试指令发送给对应的车端控制器，以使所述车端控制器获取与所述调试指令对应的运行数据。在此步骤中，所述车载娱乐信息系统车机端210将所述调试指令转发给对应的车端控制器220，对应的所述车端控制器220接收并执行所述车载娱乐信息系统车机端210转发的所述调试指令，并将相应的运行数据发回至所述车载娱乐信息系统车机端210。所述车载娱乐信息系统车机端210可以采用多种方式将所述调试指令发送至对应的所述车端控制器220。例如，以太网连接方式、传输控制协议套接字传输方式；又如，超文本传输方式；再如，消息队列遥测传输方式。可以理解的是，在实际应用中，还可以通过其他的方式传输，此处不再一一赘述。S430:接收所述运行数据，并将所述运行数据发送至所述调试设备，从而完成所述调试指令对应的远程调试。在此步骤中，所述车载娱乐信息系统车机端210接收所述车端控制器220发送的所述执行数据，并将所述运行数据转发给所述调试设备100。运行数据的格式不受限定，可以压缩格式也可以为非压缩格式，有时为了能够实现较大数据量的信息传输，所述车端控制器发送的运行结果可能是压缩格式的。在本发明一实施例中，所述车载娱乐信息系统车机端210接收压缩格式的调试数据，并将所述压缩格式的运行数据转发给所述调试设备100，并由所述调试设备解压后查看或分析。图3是本申请的另一示例性实施例示出的调试系统的连接示意图。请参阅图3，于本发明远程调试方法一实施例中，所述车载娱乐信息系统车机端210与所述调试设备100通过消息队列遥测传输服务器300建立通讯，以实现对所述调试指令和所述运行数据的转发。消息队列遥测传输协议是ISO标准下基于发布/订阅范式的消息协议。它是为硬件连接网络不可靠的情况下所专门设计的一种轻量、简单、开放的订阅式数据传输协议。消息队列遥测传输协议能够实现即时通讯，且该协议支持所有平台，几乎可以把所有联网物品和外部连接起来。消息队列遥测传输协议可以使用发布/订阅消息模式，提供一对多的消息发布，并能够解除应用程序耦合，相对于其他协议，开发更简单；并且消息队列遥测传输协议工作在TCP/IP协议上，并由TCP/IP协议提供稳定的网络连接，网络连接更加稳定。另外消息队列遥测传输协议为小型传输，开销很小，协议交换最小化，以降低网络流量。同时消息队列遥测传输协议的服务端程序已经非常成熟，PHP，JAVA，Python，C，C#等系统语言都可以来向消息队列遥测传输发送相关消息，相对于其它传输技术也容易于实现，并且消息队列遥测传输的源代码开放，也进一步推动了消息队列遥测传输的发展，百度云、阿里云、中国移动等几乎所有的开放性物联网平台都支持消息队列遥测传输。图5是一示例性实施例示出的远程调试方法的进一步流程示意图。请参阅图5，在步骤S420中将所述调试指令发送给对应的车端控制器包括：S510:基于消息队列遥测传输协议部署云端服务器和调试窗口，并设置云端服务器和调试窗口之间的订阅主题。在此步骤中，在采用消息队列遥测传输协议传输之前，先在云端部署消息队列遥测传输的服务器，并先让其运行。调试设备订阅“home/garden/receive”主题，并连接消息队列遥测传输服务器。具体地，在调试设备上部署一个消息队列遥测传输的开源调试窗口，通过本地证书、ID配置连接消息队列遥测传输服务器，设置“home/garden/receive”的订阅主题，并通过移动网络连接消息队列遥测传输服务器。车载娱乐信息系统车机端订阅“home/garden/send”主题，并连接消息队列遥测传输服务器。具体地，在车载娱乐信息系统车机端开发集成一个远程调试转发模块，车载娱乐信息系统车机端通过本地证书、ID配置连接消息队列遥测传输服务器，订阅“home/garden/send”主题，并对消息队列遥测传输服务器返回“home/garden/send”为主题的消息，并通过移动网络连接到消息队列遥测传输服务器，由此，调试设备与车载娱乐信息系统车机端210建立实时的通讯连接。S520：建立与车端控制器、云端服务器及调试设备上调试窗口间的数据通道，使所述调试窗口能与所述车端控制器进行数据交互。具体地，于本发明远程调试方法一实施例中，所述车端控制器与所述车载娱乐信息系统车机端通过以太网连接，并通过异步消息队列或数据分发服务建立数据通道。异步消息队列是一个简单好用的传输方式，它使得编程更加简单、简洁和性能更高。而数据分发服务能保障数据进行实时、高效、灵活地分发，可满足各种分布式实时通信应用需求。数据通道建立后，在远程调试的过程中，所述车端控制器可以通过所述车载娱乐信息系统车机端的转发，实时接收并执行所述调试设备发送的所述调试指令，并将对应的所述运行数据通过所述车载娱乐信息系统车机端实时转发给所述调试设备。S530：通过所述订阅主题，将所述调试指令转发至车端控制器。在本步骤中调试设备发送{Domain：xx控制器，Cmd:指令}格式，且以“home/garden/send”为主题的linux调试消息给消息队列遥测传输服务器。消息队列遥测传输服务器接收到调试设备发送的{Domain：xx控制器，Cmd:指令}格式，且以“home/garden/send”为主题的linux调试消息后，将其保存至消息队列遥测传输的发送服务器，消息队列遥测传输的服务器将其发送给车载娱乐信息系统车机端。车载娱乐信息系统车机端接收到调试消息后，根据调试消息中Domain的属性，将消息转发给对应的车端控制器。具体地，在车载娱乐信息系统车机端接收到{Domain：xx控制器，Cmd:指令}格式，且以“home/garden/send”为主题的linux时，根据Domain属性，将调试指令转给对应的车端控制器。本申请中，调试设备可以仅对某一特定车端传感器进行调试，例如在车载娱乐信息系统车机端210的远程调试转发模块中直接设置成只针对某一车端传感器的定向连接通道，但考虑到车辆200内具有较多的车端控制器，为了实现功能的集成性，于本发明远程调试方法一实施例中，所述车载娱乐信息系统车机端可以对一个或多个车端控制器转发调试指令，例如在本申请一实施例中，车载娱乐信息系统车机端可以对整车控制器、电机控制器、混合动力控制器、自动变速箱控制器的一个或多个进行调试指令的转发，在步骤S530中，所述车载娱乐信息系统车机端通过所述订阅主题，将所述调试指令转发至车端控制器还包括：所述车载娱乐信息系统车机端接收所述云端服务器转发的所述调试指令，并识别所述调试指令对应的所述车端控制器，并将所述调试信息转发给对应的所述车端控制器。本申请中，车载娱乐信息系统车机端识别所述调试指令对应的所述车端控制器的过程，可以为由车载娱乐信息系统车机端发起的主动识别过程，例如，于本发明远程调试方法一实施例中，所述车载娱乐信息系统车机端根据所述调试指令内的执行方属性，识别对应的所述车端控制器，并通过以太网将该调试指令发送给对应的所述车端控制器，对应的所述车端控制器在接收到所述调试指令后提取相应的指令后直接执行。上述车载娱乐信息系统车机端识别所述调试指令对应的所述车端控制器的过程，可以为主动识别过程也可以为由对应的车端控制器发起的被动识别过程，于本发明远程调试方法一实施例中，所述车载娱乐信息系统车机端接收到所述调试设备的所述调试指令后，进行所述调试指令的不定向转发，每一所述车端控制器接收到所述车载娱乐信息系统车机端转发的所述调试指令，并判断其执行方属性是否与自己控制器名称匹配，若是，则执行所述调试指令，若否，则不执行所述调试指令。在本申请一实施例中，上述主动识别过程和所述被动识别过程可以同时存在，上述车载娱乐信息系统车机端识别所述调试指令对应的所述车端控制器的过程，既包括主动识别的过程又包括被动识别的过程。例如，于本发明远程调试方法一实施例中，所述车载娱乐信息系统车机端根据所述调试指令内的执行方属性，识别对应的所述车端控制器，并通过以太网将该调试指令发送给对应的所述车端控制器，对应的所述车端控制器在接收到所述调试指令后，判断其执行方属性是否与自己控制器名称匹配，若是，则执行所述调试指令，若否，则不执行所述调试指令。该种设置方式的准确性会相对较高。于本发明远程调试方法一实施例中，在步骤S430中，所述执行所述调试指令包括：所述车端控制器从所述调试指令内提取并执行相应的检测指令，并保存所述检测指令的执行数据，以周期性的发送所述执行数据。在执行所述调试指令的过程中，所述车端控制器在判断调试指令的执行方属性与自己控制器名称匹配后，从所述调试指令内提取并执行相应的检测指令，即对应的所述车端控制器将所述调试指令做去头处理并执行对应的调试指令，并将所述检测指令的执行数据保存至所述车端控制器的缓冲寄存器，以周期性的把所述缓冲寄存器内的执行数据发送给所述车载娱乐信息系统车机端，供所述车载娱乐信息系统车机端转发给所述调试设备。图6是本申请的另一示例性实施例中车端控制器接收调试指令的逻辑图。具体地，请参阅图6，在本申请一实施例中，在步骤S610中，车端控制器接收车载娱乐信息系统车机端发来的消息，并通过步骤S620判断Domain属性是否与自己控制器名称匹配，若匹配，则执行步骤S630，进一步调试消息，做去头处理，并执行cmd后面的linux指令，执行完成后进入步骤S640。在步骤S640中，车端控制器接收执行结果，并将执行结果存入的缓冲寄存器，并进入步骤S650。在步骤S650中，车端控制器周期的把发送缓冲寄存器里的运行数据发送给IVI车机端，以供IVI车机端转发给调试设备进行查看和分析。本申请中的运行数据的格式和类型可以不受限定，于本发明远程调试方法一实施例中，所述运行数据只包括运行结果，于本发明远程调试方法一实施例中所述运行数据仅包括运行日志，而本实施例中，所述运行数据同时包括运行结果和运行日志。这样调试设备可以更加全面的对车端控制器进行分析，以准确的确定故障的类型。在本申请远程调试方法一实施例中，调试过程如下：在调试设备的调试窗口，输入以{Domain：xx控制器，Cmd:指令}格式，以“home/garden/send”为主题的linux调试消息，如“{Domain：xx控制器，Cmd:logcat|powerMgr”}，消息队列遥测传输服务器接收上述调试消息后，转发给车载娱乐信息系统车机端，车载娱乐信息系统车机端根据Domain属性通过数据通道转发给对应的车端控制器，车端控制器的远程调试执行模块接收后，截取cmd：后的指令，用popen或execl在本地执行“logcat|powerMgr”，将运行的数据传给车载娱乐信息系统车机端，车载娱乐信息系统车机端将执行数据以“home/garden/receive”主题放入消息队列遥测传输的发送服务器，消息队列遥测传输的发送服务器周期性的将发送服务器里的消息再转给调试设备，如此便完成了远程调试的一次交互。图7是本申请的一示例性实施例示出的远程调试装置示意图。请参阅图7，本发明还提供一种远程调试装置，包括：第一接收模块211、转发模块212和第二接收模块213。第一接收模块211设置于车载娱乐信息系统车机端210上，用于接收调试设备发出的调试指令。调试设备发送{Domain：xx控制器，Cmd:指令}格式，且以“home/garden/send”为主题的linux调试消息给消息队列遥测传输服务器。消息队列遥测传输服务器接收到调试设备发送的{Domain：xx控制器，Cmd:指令}格式，且以“home/garden/send”为主题的linux调试消息后，将其保存至消息队列遥测传输的发送服务器，消息队列遥测传输的服务器将其发送给车载娱乐信息系统车机端的第一接收模块211。转发模块212设置于车载娱乐信息系统车机端210上，并用于将所述调试指令转发至车端控制器220，以使所述车端控制器220获取与所述调试指令对应的运行数据；在车载娱乐信息系统车机端210接收到{Domain：xx控制器，Cmd:指令}格式，且以“home/garden/send”为主题的linux时，根据Domain属性，通过转发模块212将调试指令转给对应的车端控制器220。第二接收模块213设置于所述车载娱乐信息系统车机端210上，并用于接收所述运行数据，并将所述运行数据发送至所述调试设备100，从而完成所述调试指令对应的远程调试。车端控制器220将运行的数据传给车载娱乐信息系统车机端210，车载娱乐信息系统车机端210的第二接收模块213接收所述执行数据，并将执行数据以“home/garden/receive”主题放入消息队列遥测传输的发送服务器，消息队列遥测传输的发送服务器周期性的将发送服务器里的消息再转给调试设备，调试设备接收反馈显示，并将结果显示或打印出，以供操作人员查看或分析，操作人员也可以根据反馈结果进行下一轮调试指令的输入工作，如此便完成了远程调试的一次交互。图8是本申请的另一示例性实施例中远程调试系统的示意图。请参阅图8，本发明还提供一种车端控制器的远程调试方法，包括：S810：接收车载娱乐信息系统车机端发送的调试指令，所述调试指令通过调试设备发送至所述车载娱乐信息系统车机端，并由所述车载娱乐信息系统车机端进行转发。在本步骤中，所述车端控制器与所述车载娱乐信息系统车机端通过以太网连接，并通过异步消息队列或数据分发服务建立数据通道。具体地，调试设备发送{Domain：xx控制器，Cmd:指令}格式，且以“home/garden/send”为主题的linux调试消息给消息队列遥测传输服务器。消息队列遥测传输服务器接收到调试设备发送的{Domain：xx控制器，Cmd:指令}格式，且以“home/garden/send”为主题的linux调试消息后，将其保存至消息队列遥测传输的发送服务器，消息队列遥测传输的服务器将其发送给车载娱乐信息系统车机端。车载娱乐信息系统车机端接收到调试消息后，根据调试消息中Domain的属性，将消息转发给对应的车端控制器。S820：获取与所述调试指令对应的运行数据；具体地，在车端控制器上开发集成一个远程调试执行模块，在接收到车载娱乐信息系统车机端转发的消息时，所述车端控制器判断该消息内的Domain属性是否为本控制器命名，如果不是，则丢弃；如果是，则执行Cmd:后面的linux调试指令。S830：将所述运行数据发送至所述车载娱乐信息系统车机端，以使所述车载娱乐信息系统车机端将所述运行数据转发至所述调试设备，从而完成调试指令对应的远程调试。本步骤中，车端控制器的远程调试执行模块接收调试指令后，截取cmd：后的指令，用popen或execl在本地执行“logcat|powerMgr”，将运行的数据传给车载娱乐信息系统车机端，车载娱乐信息系统车机端将执行数据以“home/garden/receive”主题放入消息队列遥测传输的发送服务器，消息队列遥测传输的发送服务器周期性的将发送服务器里的消息再转给调试设备，如此便完成了远程调试的一次交互。图1是本申请的一示例性实施例中远程调试系统的示意图。本发明还提供一种车端控制器的远程调试系统，该远程调试系统在调试设备100与车辆200之间进行上述远程任一实施中所述的远程调试方法。车辆200上安装有车载娱乐信息系统车机端210和至少一个车端控制器220，该远程调试系统可以使调试设备100与车辆200的车载娱乐信息系统车机端210建立通讯，并通过车载娱乐信息系统车机端210与对应车端控制器220之间的通讯连接来进行车端控制器220的远程调试或故障诊断。图2是本申请的一示例性实施例示出的调试系统的连接示意图。请参阅图2，该远程调试系统包括：调试设备100、车载娱乐信息系统车机端210和对应的车端控制器220。调试设备100上设置有信息收发模块；车载娱乐信息系统车机端210设置于对应车辆上，其上设置有远程调试转发模块；车端控制器220设置于对应车辆上，其上设置有远程调试执行模块。其中，所述调试设备100内的所述信息收发模块、所述车载娱乐信息系统车机端210内的所述远程调试转发模块，以及所述车端控制器220上的所述远程调试执行模块相互配合，以实现上述任意一实施例中所述的远程调试方法。在本发明调试系统一实施例中，所述信息收发模块发送调试指令至所述远程调试转发模块，所述远程调试转发模块将所述调试指令转发至对应的所述远程调试执行模块，所述远程调试执行模块接收并运行所述调试指令，并将运行数据发回至所述远程调试转发模块；所述远程调试转发模块将所述调试结果发送至所述信息收发模块。图3是本申请的另一示例性实施例示出的远程调试系统的连接示意图。请参阅图3，于本发明远程调试系统一实施例中，所述调试设备100内的信息收发模块与消息队列遥测传输服务器300移动网络连接，以发送调试指令和接收车端控制器的运行数据。所述车载娱乐信息系统车机端210的远程调试转发模块也与消息队列遥测传输服务器300移动网络连接，以接收所述调试指令并转发所述车端控制器的运行数据。所述车载娱乐信息系统车机端210的远程调试转发模块在接收到消息队列遥测传输服务器300发送的调试指令后，识别所述调试指令对应的所述车端控制器220，从而将所述调试信息转发给所述车端控制器220。图6是本申请的另一示例性实施例中车端控制器接收调试指令的逻辑图。请参阅图6，于本发明远程调试系统一实施例中，对应的所述车端控制器上的所述远程调试执行模块接收所述车载娱乐信息系统车机端转发的所述调试指令，并判断其执行方属性是否与自己控制器名称匹配，若是，则执行所述调试指令，若否，则不执行所述调试指令。具体地，在步骤S610中，车端控制器的远程调试执行模块接收IVI车机端发来的消息，并通过步骤S620判断Domain属性是否与自己控制器名称匹配，若匹配，则执行步骤S630，进一步调试消息，做去头处理，并执行cmd后面的linux指令，执行完成后进入步骤S640。在步骤S640中，车端控制器接收执行结果，并将执行结果存入的缓冲寄存器，并进入步骤S650。在步骤S650中，车端控制器周期的把发送缓冲寄存器里的运行数据发送给IVI车机端，以供IVI车机端转发给调试设备进行查看和分析。请参阅图1，本发明还提供一种车辆200，该车辆200包括有车载娱乐信息系统车机端210，车载娱乐信息系统车机端210设置于该车辆200的座舱内，例如可以集成设置于车辆的中控台内。所述车载娱乐信息系统车机端210包括有远程调试转发模块；所述车辆的至少一个车端控制器220包括有远程调试执行模块，在远程调试的过程中，所述车载娱乐信息系统车机端210和至少一个所述车端控制器220通讯连接，以与调试设备100共同执行上述任一项所述的远程调试方法。需要说明的是，该车辆出来包括上述结构外，还包括常规车辆的底盘、发动机、车身和电气设备。底盘是支撑、安装汽车发动机及其各部件的总成，形成车辆的整体造型，并接受发动机的动力，使汽车产生运动，保证正常行驶。底盘包括传动系统、行驶系统、转向系统和制动系统。发动机是车辆的动力装置，具体包括：曲柄连杆机构、配气机构、冷却系统、燃料供给系统、润滑系统、点火系统、起动系统。车身安装在底盘的车架上，用以驾驶员、旅客乘坐或装载货物。轿车、客车的车身一般是整体结构，货车车身一般是由驾驶室和货箱两部分组成。电气设备由电源和用电设备两大部分组成。电源包括蓄电池和发电机；用电设备包括发动机的起动系、汽油机的点火系和其它用电装置。上述各个装置和系统具体可参照现有结构，不再一一展开说明。所述调试设备100可以为笔记本电脑、台式电脑、PAD中的任意一种，所述调试设备包括有信息收发模块；所述信息收发模块与车辆的车载娱乐信息系统车机端之间通讯连接，以实现上述任一项所述的远程调试方法。本申请的实施例还提供了一种电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行时，使得所述电子设备实现上述各个实施例中提供的远程调试方法。图9示出了适于用来实现本申请实施例的电子设备的计算机系统的结构示意图。需要说明的是，图9示出的电子设备的计算机系统900仅是一个示例，不应对本申请实施例的功能和使用范围带来任何限制。如图9所示，计算机系统900包括中央处理单元901，其可以根据存储在只读存储器902中的程序或者从储存部分908加载到随机访问存储器903中的程序而执行各种适当的动作和处理，例如执行上述实施例中所述的方法。在RAM 903中，还存储有系统操作所需的各种程序和数据。CPU 901、ROM 902以及RAM 903通过总线904彼此相连。输入/输出接口905也连接至总线904。以下部件连接至I/O接口905：包括键盘、鼠标等的输入部分906；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分907；包括硬盘等的储存部分908；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分909。通信部分909经由诸如因特网的网络执行通信处理。驱动器910也根据需要连接至I/O接口905。可拆卸介质911，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器910上，以便于从其上读出的计算机程序根据需要被安装入储存部分908。特别地，根据本申请的实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本申请的实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的计算机程序。在这样的实施例中，该计算机程序可以通过通信部分909从网络上被下载和安装，和/或从可拆卸介质911被安装。在该计算机程序被中央处理单元901执行时，执行本申请的系统中限定的各种功能。需要说明的是，本申请实施例所示的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、闪存、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本申请中，计算机可读的信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的计算机程序。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读的信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的计算机程序可以用任何适当的介质传输，包括但不限于：无线、有线等等，或者上述的任意合适的组合。本发明车端控制器的远程调试方法、系统及车辆和调试设备，实时性与灵活性均较高，且可覆盖车内所有以太网连接的控制器，相比于传统的通过远程控制拉取终端日志到后台再解析，该发明不仅能让研发人员通过远程方式灵活的随意输入调试指令，更能实时的看到系统运行的结果，方便其做进一步的交互调试。附图中的流程图和框图，图示了按照本申请各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。其中，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，上述模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图或流程图中的每个方框、以及框图或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本申请实施例中所涉及到的单元可以通过软件的方式实现，也可以通过硬件的方式来实现，所描述的单元也可以设置在处理器中。其中，这些单元的名称在某种情况下并不构成对该单元本身的限定。上述实施例仅示例性说明本发明的原理及其功效，而非用于限制本发明。任何熟悉此技术的人士皆可在不违背本发明的精神及范畴下，对上述实施例进行修饰或改变。因此，但凡所属技术领域中具有通常知识者在未脱离本发明所揭示的精神与技术思想下所完成的一切等效修饰或改变，仍应由本发明的权利要求所涵盖。
