标题title
一种自适应多地形电动爬楼轮椅
摘要abst
本发明涉及一种自适应多地形电动爬楼轮椅，包括架体、座椅，还包括驱动桥、模块轮胎、驱动电机、减速器、蓄电池、行星轮、倾角传感器和主控单片机，本发明结构新颖，较履带式爬楼轮椅而言，更加轻巧灵活，便于批量生产与使用；本发明采用了模块化的设计适用于不同规格的楼梯以及多种地形，采用倾角反馈设计可以使得使用者在轮椅运行过程中始终保持平稳地运动。
权利要求书clms
1.一种自适应多地形电动爬楼轮椅，包括架体、座椅，所述的座椅设在架体上；其特征在于：还包括驱动桥、模块轮胎、驱动电机、蓄电池、行星轮、倾角传感器和主控单片机，所述的驱动桥枢接在架体下部，驱动桥两端分别通过法兰联轴器连接有模块轮胎；驱动电机设在架体下部，与驱动桥传动连接；倾角传感器和主控单片机设在架体上，倾角传感器位于座椅底部中心，主控单片机分别与倾角传感器和驱动电机电连接；蓄电池设在架体下部，与驱动电机、模块轮胎、倾角传感器和主控单片机电连接；行星轮设在架体下部，位于模块轮胎后部；所述的模块轮胎包括固定轮毂、电动推杆、橡胶块、绝对值编码器和推杆单片机，所述的固定轮毂的内侧与法兰盘连接，通过法兰盘与驱动桥相连；固定轮毂的周圈等间距、等夹角设置有数个电动推杆，电动推杆的固定端与固定轮毂相连，电动推杆的活动杆外端设有橡胶块；绝对值编码器和推杆单片机设在固定轮毂的外侧，并与主控单片机电连接，推杆单片机还与每个电动推杆电连接。2.根据权利要求1所述的一种自适应多地形电动爬楼轮椅，其特征在于：所述的行星轮包括三角轮轴和三个小轮，三角轮轴中间通过枢轴与架体枢接，三个小轮分别枢接在三角轮轴的三个顶点。3.根据权利要求1所述的一种自适应多地形电动爬楼轮椅，其特征在于：每个电动推杆上分别设有H桥电路，推杆单片机通过H桥电路与电动推杆的电机相连。4.根据权利要求1所述的一种自适应多地形电动爬楼轮椅，其特征在于：所述的驱动桥与模块轮胎之间设有导电滑环，导电滑环两端分别与蓄电池和模块轮胎上的推杆单片机和电动推杆相连。5.根据权利要求1所述的一种自适应多地形电动爬楼轮椅，其特征在于：座椅侧边的架体上还设有血氧检测装置和温度检查装置，血氧检测装置和温度检查装置分别与主控单片机电连接。6.根据权利要求1所述的一种自适应多地形电动爬楼轮椅，其特征在于：轮椅的控制方法如下：在轮椅上楼或下楼过程中，同时进行两项反馈调节判据的检测——触地推杆判断和轮椅整体偏移角判断；触地推杆判断：将每个模块轮胎的n个电动推杆以1-n编号，把橡胶块与相连的电动推杆视为一个整体，由于上楼或下楼过程中，与楼梯接触的电动推杆在某一角度范围内，处于该角度范围内的推杆即为触地推杆，根据绝对值编码器所测得的模块轮胎转动的角度，对应找出此时触地的电动推杆；轮椅整体偏移角判断：设轮椅座椅倾斜角度θ与楼梯角度θ0，台阶高宽比为若θ-θ0＜Δ则为正变化，若θ-θ0＞Δ则为负变化，Δ是角度浮动误差范围；将与地面接触的电动推杆根据与地面接触的位置分为前支撑杆1、后支撑杆2和后支撑杆3；上楼梯时，当模块轮胎接触到带有坡度的台阶时，轮椅整体会发生倾角偏移，当倾角传感器接收到轮椅的倾角变化后，通过主控单片机进行信号处理，当倾角发生正变化时，通过推杆单片机控制前支撑杆1缩短，后支撑杆2和后支撑杆3伸长；发生负变化时，前支撑杆1伸长，后支撑杆2缩短；下楼梯时则反向控制；电动推杆内的霍尔元件测出推杆在任意时刻的伸缩距离，并将数据传递给推杆单片机，推杆单片机处理推杆的受力数据及伸缩距离数据，根据运动模型判断下一时刻推杆需要伸缩的距离，并将该距离转化为H桥电路控制的电流通断时间和电流方向，最终达到按需控制电动推杆伸缩距离和方向；推杆单片机协调处理多杆数据并协调控制多杆，最终达到适应楼梯的形状，通过模块轮胎进行滚动上下楼；建立所述的运动模型：上楼梯时，以模块轮胎轮心从一个固定杆旋转中心的正上方到下一个固定杆旋转中心的正上方为一个周期区间，所述的固定杆为所有电动推杆中和地面没有发生相对滑动的一杆；通过设定轮椅的大致重心和驱动电机扭矩从而实现模块轮胎向前转动时前支撑杆1脱离地面，后支撑杆2正好以l0接触地面，即在周期的起始位置的固定杆交替，即从前支撑杆1作为固定杆变为后支撑杆2作为固定杆，整个上楼过程就呈现了一种周期性变化；在一个周期中，要满足一个固定条件，即在一个周期开始时电动推杆第一次接触楼梯必须满足l0为一个固定长度：其中，d为楼梯的长度，l0为电动推杆第一次接触楼梯面时的长度，θ′表示相邻两电动推杆的夹角；固定杆的实时长度模型为：l表示固定杆的实时长度，θ0表示楼梯的倾斜角度，Δθ表示固定杆在一个周期中的增角，h为台阶高度，d为台阶长度；下楼梯时，过程取逆；模型的优化：引入轮胎的转速ω和时间t，由公式：和公式：联合解出：scos＝lsinΔθ求导：解得：ν0为轮心的速度，s为在一个周期中轮心的运动距离；取ω分别为不同值进行对比，得到不同转动角速度下轮心速度的变化情况，确定一个速度和上坡效率相对最优的转速ω，进而控制驱动电机转动。
说明书desc
技术领域本发明涉及一种轮椅，特别涉及一种自适应多地形电动爬楼轮椅。背景技术随着人口老龄化问题日益严重，老年人以及腿脚不便的人群上楼或在室外遇到楼梯的情况下，能上楼爬楼的轮椅在辅助该群体出行中将发挥越来越大的价值。目前，常用的电动爬楼轮椅有：轮组式爬楼轮椅、履带式爬楼轮椅、腿足式爬楼轮椅、复合式爬楼轮椅等。然而，轮组式爬楼轮椅上下楼梯过程中，重心起伏较大，一般需要依靠他人或楼梯护栏辅助才能完成爬楼过程，对不同几何形状楼梯的适应性也较差。履带式爬楼轮椅机构较重，灵活性差，对楼梯台阶边缘产生较大压力，容易发生侧翻问题。腿足式爬楼轮椅能量利用率低，移动缓慢。基于上述考量，希望设计出一款可以保持重心稳定，适用于多种地形，运动灵活的电动爬楼轮椅。发明内容为了解决上述技术问题，本发明提供一种自适应多地形电动爬楼轮椅，包括架体、座椅，所述的座椅设在架体上；还包括驱动桥、模块轮胎、驱动电机、减速器、蓄电池、行星轮、倾角传感器和主控单片机，所述的驱动桥枢接在架体下部，驱动桥两端分别通过法兰联轴器连接有模块轮胎，驱动电机设在架体下部，与驱动桥通过减速器及传动部件传动连接；倾角传感器和主控单片机设在架体上，倾角传感器位于座椅底部中心，主控单片机分别与倾角传感器和驱动电机电连接；蓄电池设在架体下部，与驱动电机、模块轮胎和主控单片机电连接；行星轮设在架体下部，位于模块轮胎后部；所述的模块轮胎包括固定轮毂、电动推杆、橡胶块、绝对值编码器和推杆单片机，所述的固定轮毂的内侧与法兰盘连接，通过法兰盘与驱动桥相连；固定轮毂的周圈等间距、等夹角设置有数个电动推杆，电动推杆的固定端与固定轮毂相连，电动推杆的活动杆外端设有橡胶块；绝对值编码器和推杆单片机设在固定轮毂的外侧，并与主控单片机电连接，推杆单片机还与每个电动推杆电连接，推杆单片机通过将绝对值编码器检测轮子的角位移数据与模型对比，判断出正在与楼梯发生接触的电动推杆，同时推杆单片机控制每个电动推杆的伸缩。所述的行星轮包括三角轮轴和三个小轮，三角轮轴中间通过枢轴与架体枢接，三个小轮分别枢接在三角轮轴的三个顶点。每个电动推杆上分别设有H桥电路，推杆单片机通过H桥电路与电动推杆的电机相连，推杆单片机依据轮椅整体倾角的变化通过H桥电路以控制电动推杆电机电流的正反向和通断时间，进而控制电动推杆的伸缩与停止。所述的驱动桥与模块轮胎之间设有导电滑环，导电滑环两端分别与蓄电池和模块轮胎上的推杆单片机和电动推杆相连，通过蓄电池为模块轮胎上的推杆单片机和电动推杆供电。座椅侧边的架体上还设有血氧检测装置和温度检查装置，血氧检测装置和温度检查装置分别与主控单片机电连接。控制方法如下：在轮椅上楼或下楼过程中，同时进行两项反馈调节判据的检测——触地推杆判断和轮椅整体偏移角判断；触地推杆判断：将每个模块轮胎的n个电动推杆以1-n编号，把橡胶块与相连的电动推杆视为一个整体，由于上楼或下楼过程中，与楼梯接触的电动推杆在某一角度范围内，处于该角度范围内的推杆即为触地推杆，根据绝对值编码器所测得的模块轮胎转动的角度，对应找出此时触地的电动推杆；轮椅整体偏移角判断：设轮椅座椅倾斜角度θ与楼梯角度θ0，台阶高宽比为若θ-θ0＜Δ则为正变化，若θ-θ0＞Δ则为负变化，Δ是角度浮动误差范围；将与地面接触的电动推杆根据与地面接触的位置分为前支撑杆1、后支撑杆2和后支撑杆3；上楼梯时，当模块轮胎接触到带有坡度的台阶时，轮椅整体会发生倾角偏移，当倾角传感器接收到轮椅的倾角变化后，通过主控单片机进行信号处理，当倾角发生正变化时，通过推杆单片机控制前支撑杆1缩短，后支撑杆2和后支撑杆3伸长；发生负变化时，前支撑杆1伸长，后支撑杆2缩短；下楼梯时则反向控制，以此来保证轮椅整体在上楼或下楼过程中始终不发生较大的倾角变化，保证上楼或下楼过程中的平稳安全；电动推杆内的霍尔元件测出推杆在任意时刻的伸缩距离，并将数据传递给推杆单片机，推杆单片机处理推杆的受力数据及伸缩距离数据，根据运动模型判断下一时刻推杆需要伸缩的距离，并将该距离转化为H桥电路控制的电流通断时间和电流方向，最终达到按需控制电动推杆伸缩距离和方向。推杆单片机协调处理多杆数据并协调控制多杆，最终达到适应楼梯的形状，通过模块轮胎进行滚动上下楼；建立运动模型：上楼梯时，以模块轮胎轮心从一个固定杆旋转中心的正上方到下一个固定杆旋转中心的正上方为一个周期区间，所述的固定杆为所有电动推杆中和地面没有发生相对滑动的一杆；通过设定轮椅的大致重心和驱动电机扭矩从而实现模块轮胎向前转动时前支撑杆1脱离地面，后支撑杆2正好以l0接触地面，即在周期的起始位置的固定杆交替，即从前支撑杆1作为固定杆变为后支撑杆2作为固定杆，整个上楼过程就呈现了一种周期性变化；在一个周期中，要满足一个固定条件，即在一个周期开始时电动推杆第一次接触楼梯必须满足l0为一个固定长度：其中，d为楼梯的长度，l0为电动推杆第一次接触楼梯面时的长度，θ′表示相邻两电动推杆的夹角；固定杆的实时长度模型为：l表示固定杆的实时长度，θ0表示楼梯的倾斜角度，Δθ表示固定杆在一个周期中的增角，h为台阶高度，d为台阶长度；下楼梯时，过程取逆；模型的优化：由于控制电动推杆是通过时间和对应杆伸长量来实现的，所以必须引入轮胎的转速ω和时间t，由于驱动电机转速一定时，轮心速度变化越小，越稳定，但同时也会使上楼的效率降低；由公式：和公式：联合解出：scos＝lsinΔθ求导：解得：ν0为轮心的速度，s为在一个周期中轮心的运动距离；取ω分别为不同值进行研究，得到不同转动角速度下轮心速度的变化情况，确定一个速度和上坡效率相对最优的转速ω，进而控制驱动电机转动。本发明的有益效果：本发明结构新颖，较履带式爬楼轮椅而言，更加轻巧灵活，便于批量生产与使用；本发明采用了模块化的设计适用于不同规格的楼梯以及多种地形，采用倾角反馈设计可以使得使用者在轮椅运行过程中始终保持平稳地运动。附图说明图1为本发明整体结构示意图；图2为本发明分解结构示意图；图3为本发明模块轮胎分解结构示意图；图4为本发明电动推杆结构示意图；图5为本发明血氧检测装置和温度检查装置示意图；图6为本发明轮椅上楼控制方法逻辑示意图；图7为本发明模块轮胎上楼原理示意图；图8为本发明电动推杆长度与角度变化曲线示意图；图9为本发明电动推杆运动状态示意图；图10为本发明电动推杆在不同起始位置的运动情况示意图；图11为本发明不同转动角速度下轮心速度的变化示意图；1、架体 2、座椅 3、驱动桥 4、模块轮胎；401、固定轮毂 402、电动推杆 403、橡胶块 404、绝对值编码器 405、推杆单片机406、法兰盘 407、保护壳 408、H桥电路 409、活动杆；5、驱动电机 6、蓄电池 7、行星轮；701、三角轮轴 702、小轮；8、倾角传感器 9、主控单片机 10、轮胎罩 11、导电滑环 12、血氧检测装置 13、温度检查装置。具体实施方式请参阅图1-11所示：本发明提供一种自适应多地形电动爬楼轮椅，包括轮椅架体1、座椅2，所述的座椅2设在架体1上；还包括驱动桥3、模块轮胎4、驱动电机5、减速器、蓄电池6、行星轮7、倾角传感器8和主控单片机9，所述的驱动桥3枢接在架体1下部，驱动桥3两端分别通过法兰联轴器连接有模块轮胎4，驱动电机5设在架体1下部，与驱动桥3通过减速器及传动部件传动连接；倾角传感器8和主控单片机9设在架体1上，倾角传感器8位于座椅2底部中心，主控单片机9分别与倾角传感器8和驱动电机5电连接，主控单片机9用来汇总所有数据并进行控制运算；蓄电池6设在架体1下部，与驱动电机5、模块轮胎4和主控单片机9电连接；行星轮7设在架体1下部，位于模块轮胎4后部；架体1两侧设有轮胎罩10，轮胎罩10设在模块轮胎4上方，起保护作用；所述的模块轮胎4包括固定轮毂401、电动推杆402、橡胶块403、绝对值编码器404和推杆单片机405，所述的固定轮毂401的内侧与法兰盘406连接，通过法兰盘406与驱动桥3相连；固定轮毂401的周圈等间距、等夹角设置有10个电动推杆402，电动推杆402的固定端设有凸块，固定轮毂401的周圈设有插孔，电动推杆402通过凸块插入固定轮毂401的插孔并通过螺栓固定使电动推杆402与固定轮毂401相连，电动推杆402的活动杆409外端设有橡胶块403；绝对值编码器404和推杆单片机405设在保护壳407内，保护壳407固定在与固定轮毂401外侧相连的法兰盘406上，绝对值编码器404和推杆单片机405与主控单片机9电连接，推杆单片机405还与每个电动推杆402电连接，推杆单片机405通过将绝对值编码器404检测轮子的角位移数据与模型对比，判断出正在与楼梯发生接触的电动推杆402，同时推杆单片机405控制每个电动推杆402的伸缩。每个电动推杆402上分别设有H桥电路408，推杆单片机405通过H桥电路408与电动推杆402的电机相连，推杆单片机405依据轮椅整体倾角的变化通过H桥电路408以控制电动推杆402电机电流的正反向和通断时间，进而控制电动推杆402的伸缩与停止。所述的驱动桥3与模块轮胎4之间设有导电滑环11，导电滑环11两端分别与蓄电池6和模块轮胎4上的推杆单片机405和电动推杆402相连，通过蓄电池6为模块轮胎4上的推杆单片机405和电动推杆402供电。所述的行星轮7包括三角轮轴701和三个小轮702，三角轮轴701中间通过枢轴与架体1后部的支杆枢接，三个小轮702分别枢接在三角轮轴701的三个顶点。座椅2侧边的架体1上还设有血氧检测装置12和温度检查装置13，血氧检测装置12和温度检查装置13分别与主控单片机9电连接，用于检测使用者的血氧及温度。控制方法如下：在轮椅上楼或下楼过程中，同时进行两项反馈调节判据的检测——触地推杆判断和轮椅整体偏移角判断，如图6所示；触地推杆判断：将每个模块轮胎4的10个电动推杆402以1-10编号，把橡胶块403与相连的电动推杆402视为一个整体，由于上楼或下楼过程中，与楼梯接触的电动推杆402在某一角度范围内，处于该角度范围内的推杆即为触地推杆，根据绝对值编码器404所测得的模块轮胎4转动的角度，对应找出此时触地的电动推杆402；若N号杆在触地角度范围内，则N号杆通电伸缩；M号杆未在触地角度范围内，则M号杆保持原长。轮椅整体偏移角判断：如图7所示，设轮椅座椅2倾斜角度θ与楼梯角度θ0，台阶高宽比为若θ-θ0＜Δ则为正变化，若θ-θ0＞Δ则为负变化，Δ是角度浮动误差范围；将与地面接触的电动推杆402根据与地面接触的位置分为前支撑杆1、后支撑杆2和后支撑杆3；上楼梯时，当模块轮胎4接触到带有坡度的台阶时，轮椅整体会发生倾角偏移，当倾角传感器8接收到轮椅的倾角变化后，通过主控单片机9进行信号处理，当倾角发生正变化时，通过推杆单片机405控制前支撑杆1缩短，后支撑杆2和后支撑杆3伸长；发生负变化时，前支撑杆1伸长，后支撑杆2缩短；下楼梯时则反向控制，以此来保证轮椅整体在上楼或下楼过程中始终不发生较大的倾角变化，保证上楼或下楼过程中的平稳安全；电动推杆402内的霍尔元件测出推杆在任意时刻的伸缩距离，并将数据传递给推杆单片机405，推杆单片机405处理推杆的受力数据及伸缩距离数据，根据运动模型判断下一时刻推杆需要伸缩的距离，并将该距离转化为H桥电路408控制的电流通断时间和电流方向，最终达到按需控制电动推杆402伸缩距离和方向。推杆单片机405协调处理多杆数据并协调控制多杆，最终达到适应楼梯的形状，通过模块轮胎4进行滚动上下楼；驱动电机5的参数：驱动电机5的参数设定主要以下式为依据：Fk＝μmg其中，Fk为轮毂电机的总牵引力,μ为轮毂电机与地面的摩擦系数，P为轮毂电机总功率；根据设计要求，轮椅最大速度为v＝1.5m/s，摩擦系数μ取0.2，驱动电机5的效率η取0.8，初步确定轮椅电机的总功率为：建立运动模型：为了更好地解决自适应多地形电动爬楼轮椅上下楼这一复杂问题，本发明提出了一个简易并且适用性极广的模块轮胎4运动模型；上楼梯时：1、对于整个过程，可以只研究模块轮胎4，因如果模块轮胎4的轮心保持在同一斜直线上前进，那么整个轮椅的重心也基本在同一斜直线上运动；2、在模块轮胎4上楼时，缩短过程尽可能提前，因为越提前变化，系统灵敏度越高，调稳能力就越强；3、当模块轮胎4将要跨过一个台阶时，固定杆将要伸长，以使轮心抬高，即重心抬高；4、模块轮胎4在上一个规格相同的楼梯时轮子中每个电动推杆402的伸缩都是几乎满足一个固定变化；5、不考虑电动推杆402上的橡胶块403对整个过程的影响，因为在固定杆转动的过程中，有橡胶块403对电动推杆402的延长线交于一点几乎无影响，所以当电动推杆402抓地时，固定杆可简化成一条线段；6、假设在整个过程中，没有外界的剧烈扰动，没有人为施加外力，并且楼梯规整，轮子上楼过程中具有良好的抓地力。以模块轮胎4轮心从一个固定杆旋转中心的正上方到下一个固定杆旋转中心的正上方为一个周期区间，如图9；通过设定轮椅的大致重心和驱动电机5扭矩从而实现模块轮胎4向前转动时前支撑杆1脱离地面，后支撑杆2正好以l0接触地面，即在周期的起始位置的固定杆交替，即从前支撑杆1作为固定杆变为后支撑杆2作为固定杆，整个上楼过程就呈现了一种周期性变化；在一个周期中，要满足一个固定条件，即在一个周期开始时电动推杆402第一次接触楼梯必须满足l0为一个固定长度：其中，d为楼梯的长度，l0为电动推杆402第一次接触楼梯面时的长度，θ′表示相邻两电动推杆402的夹角；由几何关系易知，此时满足三角形occ’与三角形o’c’c”全等，于是，整个上楼过程就呈现了一种周期性变化。当周期开始时：我们可以通过设定轮椅的大致重心和驱动电机5扭矩从而实现再向下转动时前支撑杆1脱离地面，前支撑杆2正好以l0接触地面，此时就实现了在周期的起始位置的固定杆交替，即从前支撑杆1作为固定杆变为前支撑杆2作为固定杆。在周期中时：首先分析前支撑杆1：前支撑杆1离开地面后以杆自身的最快收缩速度进行收缩，收缩到l0这个长度，以满足前支撑杆1作为下一个固定杆的条件；然后分析前支撑杆2：前支撑杆2此时作为固定杆走完整个固定杆的周期。在三角形oo’c’中，由正弦定理得：其中θ0表示楼梯的倾斜角度，Δθ表示固定杆在一个周期中的增角，lm表示杆与楼梯面保持垂直的长度，l表示固定杆的实时长度，h表示楼梯的高度，d为台阶长度；于是求得固定杆的实时长度模型为：如果设台阶高度h为150mm，台阶长度d为260mm，并且固定点c为台阶长度的中点，两伸缩杆的角度θ′为36度，于是得到伸缩杆l与角度变化曲线如图8所示；周期结束时：前支撑杆2将开始脱离地面，同时前支撑杆3作为下一个固定杆并与这一个周期中的前支撑杆2运动状态相同，如此循环。该模型适用于轮椅上楼的任何初始状态，即固定点c点是可以在楼梯长度的任意位置活动，如图10所示。由于几何层面上的周期起始状态处处相等，所以可以满足在任意位置上楼时的任何所施加的参数都相等，这样就大大减轻了算法负担，同时也提高了在发生突发情况时的适应能力；该模型可以适用于不同类型的台阶：根据台阶的h和d的变化，求出固定杆的伸长量和对应增加角的关系即可；该模型同时也适用于下楼时的情况，即该过程取逆；绝对值编码器404和倾角传感器8与电动推杆402之间的反馈调节使所有杆在上楼时实现连续性变化为最优情况。对模型的优化和改进：由于控制电动推杆402是通过时间和对应杆伸长量来实现的，所以必须引入轮胎的转速ω和时间t，由于驱动电机5转速一定时，轮心速度变化越小，越稳定，但同时也会使上楼的效率降低；在图9中的三角形oo’c’几何关系中，得公式：和前面所推出的公式：联合解出：scos＝lsinΔθ求导：解得：ν0为轮心的速度，s为在一个周期中轮心的运动距离；分别取ω为0.1rad/s、0.15rad/s、0.05rad/s进行研究，得到不同转动角速度下轮心速度的变化情况，如图11所示，确定一个速度和上坡效率相对最优的转速ω，ω取0.1rad/s,此时速度变化不大，并且速度足够大，较为合理，进而控制驱动电机5转动。
