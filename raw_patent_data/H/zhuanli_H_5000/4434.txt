标题title
一种设备定位方法、装置以及介质
摘要abst
本申请涉及通信技术领域，公开了一种设备定位方法，通过获取设备的标志信息确认需要定位的目标设备，并通过在线状态的判断确保目标设备和处理器能够实现通讯，然后发送定位指令至目标设备使其发出提示信号。相对于当前技术中，需要技术人员根据目标设备的序列号以及型号等信息对设备进行比对以定位目标设备，采用本技术方案，利用上位机向目标设备发送定位指令，目标设备接收到指令后发出醒目的提示信号，使得技术人员能够直观、便捷的发现目标设备，实现对目标设备的定位，提高了目标设备定位的便捷性。此外，本申请还公开了一种设备定位装置和介质，与设备定位方法相对应，效果同上。
权利要求书clms
1.一种设备定位方法，其特征在于，包括：获取设备的标志信息；根据预设的对应关系确认所述标志信息对应的目标设备；判断所述目标设备的在线状态是否为在线；若在线，则发送定位指令至所述目标设备，以使所述目标设备发出提示信号；若不在线，则获取所述目标设备的端口信息，加载与所述端口信息对应的驱动以使所述目标设备在线；向所述目标设备发送握手指令；若在阈值时间内接收到所述目标设备返回的应答信息，则进入所述发送定位指令至所述目标设备的步骤；若在所述阈值时间内没有接收到所述应答信息，则发送报警信号。2.根据权利要求1所述的设备定位方法，其特征在于，所述提示信号包括：画面显示的提示信号、和/或指示灯闪烁的提示信号、和/或蜂鸣器鸣叫的提示信号。3.根据权利要求2所述的设备定位方法，其特征在于，所述提示信号为指示灯闪烁，则所述目标设备发出所述提示信号的电路包括：第一电阻、指示灯、MCU；其中，所述MCU的GPIO口连接所述指示灯的阴极，所述指示灯的阳极连接所述第一电阻的第一端，所述第一电阻的第二端连接电源。4.根据权利要求2所述的设备定位方法，其特征在于，所述提示信号为蜂鸣器蜂鸣，则所述目标设备发出所述提示信号的电路包括：第二电阻、三极管、蜂鸣器、MCU；其中，所述第二电阻的第一端连接所述MCU的PWM口，所述第二电阻的第二端连接所述三极管的基极，所述三极管的集电极连接所述蜂鸣器的第一端，所述蜂鸣器的第二端连接电源，所述三极管的发射极接地或电源负极。5.根据权利要求2所述的设备定位方法，其特征在于，所述提示信号为画面显示，所述目标设备发出提示信号包括：所述目标设备控制显示设备启动并发送预设图形至所述显示设备。6.根据权利要求1所述的设备定位方法，其特征在于，在所述根据所述标志信息发送定位指令至所述目标设备的步骤之后，还包括：接收所述目标设备返还的用于表征定位成功的信息。7.根据权利要求6所述的设备定位方法，其特征在于，还包括；接收所述目标设备返回的用于表征终止定位的信息。8.一种设备定位装置，其特征在于，包括：获取模块，用于获取设备的标志信息；确认模块，用于根据预设的对应关系确认所述标志信息对应的目标设备；处理模块，用于判断所述目标设备的在线状态是否为在线；若在线，则发送定位指令至所述目标设备，以使所述目标设备发出提示信号；若不在线，则获取所述目标设备的端口信息，加载与所述端口信息对应的驱动以使所述目标设备在线；向所述目标设备发送握手指令；若在阈值时间内接收到所述目标设备返回的应答信息，则进入所述发送定位指令至所述目标设备的步骤；若在所述阈值时间内没有接收到所述应答信息，则发送报警信号。9.一种设备定位装置，其特征在于，包括存储器，用于存储计算机程序；处理器，用于执行所述计算机程序时实现如权利要求1至7任意一项所述的设备定位方法的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1至7任意一项所述的设备定位方法的步骤。
说明书desc
技术领域本申请涉及通信技术领域，特别是涉及一种设备定位方法、装置以及介质。背景技术在很多科技类企业产线或数据维护中心，会有大量仪表设备堆叠在机架或工作台等位置，跟一台或多台程控主机电脑相连。当技术人员需要寻找一台仪表设备进行维护等操作时，往往面临很难快速找到目标设备的难题。当前技术中，用户通常会根据设备的序列号及产品型号，在机架或工作台里逐个进行比对，以找出目标设备。但是该方法费时费力，无法满足产线的需求效率，并且在部分场合会受空间所限无法执行操作。由此可见，如何在大量的设备中快速便捷的找到目标设备是本领域技术人员亟待解决的问题。发明内容本申请的目的是提供一种设备定位方法、装置以及介质，用于在大量的设备中快速便捷的找到目标设备。为解决上述技术问题，本申请提供一种设备定位方法，包括：获取设备的标志信息；根据预设的对应关系确认所述标志信息对应的目标设备；判断所述目标设备的在线状态是否为在线；若在线，则发送定位指令至所述目标设备，以使所述目标设备发出提示信号；若不在线，则获取所述目标设备的端口信息，加载与所述端口信息对应的驱动以使所述目标设备在线；向所述目标设备发送握手指令；若在阈值时间内接收到所述目标设备返回的应答信息，则进入所述发送定位指令至所述目标设备的步骤；若在所述阈值时间内没有接收到所述应答信息，则发送报警信号。优选的，所述提示信号包括：画面显示的提示信号、和/或指示灯闪烁的提示信号、和/或蜂鸣器鸣叫的提示信号。优选的，所述提示信号为指示灯闪烁，则所述目标设备发出所述提示信号的电路包括：第一电阻、指示灯、MCU；其中，所述MCU的GPIO口连接所述指示灯的阴极，所述指示灯的阳极连接所述第一电阻的第一端，所述第一电阻的第二端连接电源。优选的，所述提示信号为蜂鸣器蜂鸣，则所述目标设备发出所述提示信号的电路包括：第二电阻、三极管、蜂鸣器、MCU；其中，所述第二电阻的第一端连接所述MCU的PWM口，所述第二电阻的第二端连接所述三极管的基极，所述三极管的集电极连接所述蜂鸣器的第一端，所述蜂鸣器的第二端连接电源，所述三极管的发射极接地或电源负极。优选的，所述提示信号为画面显示，所述目标设备发出提示信号包括：所述目标设备控制显示设备启动并发送预设图形至所述显示设备。优选的，在所述根据所述标志信息发送定位指令至所述目标设备的步骤之后，还包括：接收所述目标设备返还的用于表征定位成功的信息。优选的，还包括；接收所述目标设备返回的用于表征终止定位的信息。为解决上述技术问题，本申请还提供一种设备定位装置，该装置包括：获取模块，用于获取设备的标志信息；确认模块，用于根据预设的对应关系确认所述标志信息对应的目标设备；处理模块，用于判断所述目标设备的在线状态是否为在线；若在线，则发送定位指令至所述目标设备，以使所述目标设备发出提示信号；若不在线，则获取所述目标设备的端口信息，加载与所述端口信息对应的驱动以使所述目标设备在线；向所述目标设备发送握手指令；若在阈值时间内接收到所述目标设备返回的应答信息，则进入所述发送定位指令至所述目标设备的步骤；若在所述阈值时间内没有接收到所述应答信息，则发送报警信号。为解决上述技术问题，本申请还提供另一种设备定位装置，包括存储器，用于存储计算机程序；处理器，用于执行所述计算机程序时实现如上述的设备定位方法的步骤。为解决上述是技术问题，本申请还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如上述的设备定位方法的步骤。本申请所提供的设备定位方法，通过获取设备的标志信息确认需要定位的目标设备，并通过在线状态的判断确保目标设备和处理器能够实现通讯，然后发送定位指令至目标设备使其发出提示信号。相对于当前技术中，需要技术人员根据目标设备的序列号以及型号等信息对设备进行比对以定位目标设备，采用本技术方案，利用上位机向目标设备发送定位指令，目标设备接收到指令后发出醒目的提示信号，使得技术人员能够直观、便捷的发现目标设备，实现对目标设备的定位，提高了目标设备定位的便捷性。此外，本申请所提供的设备定位装置和介质与设备定位方法相对应，效果同上。附图说明为了更清楚地说明本申请实施例，下面将对实施例中所需要使用的附图做简单的介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例提供的一种设备定位方法的流程图；图2为本申请实施例提供的一种目标设备发出提示信号的电路图；图3为本申请实施例提供的另一种目标设备发出提示信号的电路图；图4为本申请实施例提供的一种设备定位装置的结构图；图5为本申请实施例提供的另一种设备定位装置的结构图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下，所获得的所有其他实施例，都属于本申请保护范围。本申请的核心是提供一种设备定位方法、装置以及介质，用于在大量的设备中快速便捷的找到目标设备。为了使本技术领域的人员更好地理解本申请方案，下面结合附图和具体实施方式对本申请作进一步的详细说明。图1为本申请实施例提供的一种设备定位方法的流程图，如图1所示，该方法包括：S10：获取设备的标志信息。S11：根据预设的对应关系确认标志信息对应的目标设备。S12：判断目标设备的在线状态是否为在线，若在线，则进入步骤S13，若不在线，则进入步骤S14。S13：发送定位指令至目标设备，以使目标设备发出提示信号。S14：获取目标设备的端口信息，加载与端口信息对应的驱动以使目标设备在线，向目标设备发送握手指令。S15：判断在阈值时间内是否接收到目标设备返回的应答信息，若是，则进入步骤S13。若否，则进入步骤S16。S16：发送报警信号。在步骤S10和步骤S11中，标志信息代表着每一个仪表设备独特的记号，其可以是仪表设备的型号，可以是序列号，可以是各设备和上位机连接的排列号。通过该标志信息，技术人员和上位机能够确认需要进行定位的目标设备。在具体实施中，该标志信息应当是技术人员在上位机的操作界面上选择或输入的信息。在上位机的操作界面上可以显示有和上位机连接的全部仪表设备的标志信息，以供技术人员选择，或者可以是由技术人员通过鼠标键盘、或触摸屏输入目标设备的标志信息。可以理解的是，本申请提供的设备定位方法需要使用上位机向目标设备发送定位信息，因此就需要保证目标设备与上位机建立了连接，目标设备能够被上位机选择。需要说明的是，在执行本申请提供的方法之前，上位机已经和各设备建立了连接，在连接后即可获取到与各设备连接端口的端口信息。在本实施例中通过调用上位机的数据库即可获取到目标设备的端口信息。在步骤S12中，上位机通过判断目标设备的在线状态，在目标设备不在线时，根据目标设备对应端口的端口信息，加载对应的驱动使目标设备在线，通过保证目标设备的在线状态，确保上位机能够向目标设备发送定位指令。在本实施例中，目标设备在接收到定位指令后，会发成提示信号。其中，提示信号是一种醒目的信号，能够吸引技术人员的注意，在具体实施中，其可以是指示灯、蜂鸣器等形式。本实施例中的目标设备在接收到定位信息后会发出提示信号，但是目标设备具体发出何种形式的提示信号可以根据目标设备的硬件结构进行选择。比如目标设备中存在多个信号灯，则此目标设备的提示信号可以是指示灯常亮、闪烁的形式。比如目标设备中存在蜂鸣器，则此目标设备的提示信号就可以是蜂鸣器鸣叫的方式。在具体实施中，各设备上的提示信号可以是依托与该设备的硬件结构，也可以是通过后续集成的方式增加设备的部件，可以理解的是，相对于前者，后者会造成资源和成本的浪费。因此，在本实施例中，目标设备发出的提示信号是依托于目标设备的硬件结构的，当然，提示信号并不局限于一种或两种，其也可以是多种提示信号并存。比如其可以同时控制指示灯闪烁、蜂鸣器鸣叫，以及通过显示设备显示画面。可以理解的是，在本实施例中，目标设备发出何种提示信号是由目标设备决定的，因此，虽然目标设备可能不同，但上位机发送至目标设备的定位信息可以相同，当然也可以不同。本申请实施例提供的设备定位方法，通过获取设备的标志信息确认需要定位的目标设备，并通过在线状态的判断确保目标设备和处理器能够实现通讯，然后发送定位指令至目标设备使其发出提示信号。相对于当前技术中，需要技术人员根据目标设备的序列号以及型号等信息对设备进行比对以定位目标设备，采用本技术方案，利用上位机向目标设备发送定位指令，目标设备接收到指令后发出醒目的提示信号，使得技术人员能够直观、便捷的发现目标设备，实现对目标设备的定位，提高了目标设备定位的便捷性。在具体实施中，上位机不但需要向目标设备发送指令，同时也需要接收目标设备返回的一些信息，因此需要保障上位机和目标设备的双向通讯。在上述实施例的基础上，在本实施例中，在加载与端口信息对应的驱动以使目标设备在线的步骤之后，还包括：向目标设备发送握手指令并接收目标设备返回的应答信息。本申请实施例提供的设备定位方法，上位机通过向目标设备发送握手指令并接收目标设备返回的应答信息，实现对上位机和目标设备双向通讯的测试，保证通讯的进行。在具体实施中，如果上位机在发出握手指令后没有接收到应答信息，或者接收时间过长，表明上位机和目标设备的连接存在故障。在本实施例中，设备定位方法还包括：若在发送握手指令后的阈值时间内没有接收到应答信息，则发送报警信号。本实施例通过增加报警信号，上位机在阈值时间内没有接收到应答信息时发出报警，使技术人员及时排查故障，避免延误目标设备的定位。上述实施例中并没有对提示信号的类型进行限定，本实施例提供几种具体的提示信号。在本实施例中，提示信号包括：画面显示的提示信号、和/或指示灯闪烁的提示信号、和/或蜂鸣器鸣叫的提示信号。可以理解的是，一个目标设备中的提示信号可以有一种或者多种，本实施例提供了3种类型，目标设备可以根据自身的硬件结构选择合适的提示信号，当目标设备具有显示屏时，提示信号可以是画面显示，当具有指示灯时可以是控制指示灯常亮或者闪烁，当具有蜂鸣器时可以控制蜂鸣器鸣叫。本实施例提供了多种提示信号的种类，使目标设备可以根据自身结构选择合适的提示方式提示技术人员目标设备的定位。在上述实施例的基础上，图2为本申请实施例提供的一种目标设备发出提示信号的电路图，如图2所示，提示信号为指示灯LED闪烁，则目标设备发出提示信号的电路包括：第一电阻R1、指示灯LED、MCU；其中，MCU的GPIO口连接指示灯LED的阴极，指示灯LED的阳极连接第一电阻R1的第一端，第一电阻R1的第二端连接电源。如图2所示，目标设备的MCU的GPIO口输出低电平时，即可驱动LED点亮，反之则熄灭，目标设备可以通过控制输出高低电平实现控制指示灯LED的闪烁，其中，第一电阻R1起到限流作用。当然，在其他实施例中，也可以控制指示灯LED常亮作为提示信号。同样的，图3为本申请实施例提供的另一种目标设备发出提示信号的电路图，当目标设备具有蜂鸣器H时，如图3所示，目标设备发出提示信号的电路包括：第二电阻R2、三极管Q1、蜂鸣器H、MCU；其中，第二电阻R2的第一端连接MCU的PWM口，第二电阻R2的第二端连接三极管Q1的基极，三极管Q1的集电极连接蜂鸣器H的第一端，蜂鸣器H的第二端连接电源，三极管Q1的发射极接地或电源负极。目标设备的MCU可以利用内置的PWM端口，提供脉宽可调的连续输出脉冲，经过第二电阻R2限流后流入后级的三极管，使得电路导通，驱动蜂鸣器H发出提示音，实现对目标设备定位的提示。本实施例提供的设备定位方法，提供了一种目标设备发出指示灯闪烁的提示信号或蜂鸣器鸣叫的提示信号的具体电路图，实现对目标设备的定位。同样的，当提示信号为画面显示时，目标设备发出提示信号包括：目标设备控制显示设备启动并发送预设图形至显示设备。在本实施例中，当目标设备为具有显示设备的设备时，可以通过显示设备发出提示信号。此时的提示信号可以是文字、视频、图形等形式。在本实施例中，以预先设置的图形进行提示，以使运维人员通过预设图形定位目标设备。在具体实施中，技术人员在上位机上进行操作，当目标设备和上位机之间的距离过远时，目标设备发出的提示信号可能并不能使技术人员及时发现。因此，在本实施例中，在根据标志信息发送定位指令至目标设备的步骤之后，还包括：接收目标设备返还的用于表征定位成功的信息。本实施例提供的设备定位方法，目标设备在发出提示信号后会向上位机返还用于表征定位成功的信息。上位机在接收到该信息后可以在显示设备中展示给技术人员，使技术人员即可前往目标设备的存放处定位目标设备。采用本技术方案，避免了由于现场环境嘈杂，或者目标设备和技术人员间距离过远导致不能知晓目标设备是否已经发出了提示信号。在具体实施中，当技术人员发现了目标设备的定位后即可停止目标设备发出的提示信号。当上位机和目标设备距离过远时，上位机处的技术人员并不能知晓目标设备处的技术人员是否停止了提示信号。因此，在上述实施例的基础上，在本实施例中，还包括：接收目标设备返回的用于表征终止定位的信息。本实施例提供的设备定位方法，上位机接收目标设备返回的终止定位的信息，使上位机处的技术人员及时知晓目标设备的提示信号已停止，目标设备的定位已终止。在上述实施例中，对于设备定位方法进行了详细描述，本申请还提供设备定位装置对应的实施例。需要说明的是，本申请从两个角度对装置部分的实施例进行描述，一种是基于功能模块的角度，另一种是基于硬件的角度。图4为本申请实施例提供的一种设备定位装置的结构图，如图4所示，该装置包括：获取模块10，用于获取设备的标志信息；确认模块11，用于根据预设的对应关系确认所述标志信息对应的目标设备；处理模块12，用于判断所述目标设备的在线状态是否为在线；若在线，则发送定位指令至所述目标设备，以使所述目标设备发出提示信号；若不在线，则获取目标设备的端口信息，加载与端口信息对应的驱动以使目标设备在线；向目标设备发送握手指令；若在阈值时间内接收到目标设备返回的应答信息，则进入发送定位指令至目标设备的步骤；若在阈值时间内没有接收到应答信息，则发送报警信号。由于装置部分的实施例与方法部分的实施例相互对应，因此装置部分的实施例请参见方法部分的实施例的描述，这里暂不赘述。本申请实施例提供的设备定位装置，通过获取设备的标志信息确认需要定位的目标设备，并通过在线状态的判断确保目标设备和处理器能够实现通讯，然后发送定位指令至目标设备使其发出提示信号。相对于当前技术中，需要技术人员根据目标设备的序列号以及型号等信息对设备进行比对以定位目标设备，采用本技术方案，利用上位机向目标设备发送定位指令，目标设备接收到指令后发出醒目的提示信号，使得技术人员能够直观、便捷的发现目标设备，实现对目标设备的定位，提高了目标设备定位的便捷性。图5为本申请实施例提供的另一种设备定位装置的结构图，如图5所示，该装置包括：存储器20，用于存储计算机程序；处理器21，用于执行计算机程序时实现如上述实施例设备定位方法的步骤。本实施例提供的设备定位装置可以包括但不限于智能手机、平板电脑、笔记本电脑或台式电脑等。其中，处理器21可以包括一个或多个处理核心，比如4核心处理器、8核心处理器等。处理器21可以采用数字信号处理器、现场可编程门阵列、可编程逻辑阵列中的至少一种硬件形式来实现。处理器21也可以包括主处理器和协处理器，主处理器是用于对在唤醒状态下的数据进行处理的处理器，也称中央处理器；协处理器是用于对在待机状态下的数据进行处理的低功耗处理器。在一些实施例中，处理器21可以集成有图像处理器，GPU用于负责显示屏所需要显示的内容的渲染和绘制。一些实施例中，处理器21还可以包括人工智能处理器，该AI处理器用于处理有关机器学习的计算操作。存储器20可以包括一个或多个计算机可读存储介质，该计算机可读存储介质可以是非暂态的。存储器20还可以包括高速随机存取存储器，以及非易失性存储器，比如一个或多个磁盘存储设备、闪存存储设备。本实施例中，存储器20至少用于存储以下计算机程序201，其中，该计算机程序被处理器21加载并执行之后，能够实现前述任一实施例公开的设备定位方法的相关步骤。另外，存储器20所存储的资源还可以包括操作系统202和数据203等，存储方式可以是短暂存储或者永久存储。其中，操作系统202可以包括Windows、Unix、Linux等。数据203可以包括但不限于标志信息、端口信息等。在一些实施例中，设备定位装置还可以包括有显示屏22、输入输出接口23、通信接口24、电源25以及通信总线26。本领域技术人员可以理解，图5中示出的结构并不构成对设备定位装置的限定，可以包括比图示更多或更少的组件。本申请实施例提供的设备定位装置，包括存储器和处理器，处理器在执行存储器存储的程序时，能够实现如下方法：获取设备的标志信息；根据预设的对应关系确认标志信息对应的目标设备；判断目标设备的在线状态是否为在线；若在线，则发送定位指令至目标设备，以使目标设备发出提示信号；若不在线，则获取目标设备的端口信息，加载与端口信息对应的驱动以使目标设备在线，向目标设备发送握手指令；若在阈值时间内接收到目标设备返回的应答信息，则进入发送定位指令至目标设备的步骤；若在阈值时间内没有接收到应答信息，则发送报警信号。本申请实施例提供的设备定位装置，通过获取设备的标志信息确认需要定位的目标设备，并通过在线状态的判断确保目标设备和处理器能够实现通讯，然后发送定位指令至目标设备使其发出提示信号。相对于当前技术中，需要技术人员根据目标设备的序列号以及型号等信息对设备进行比对以定位目标设备，采用本技术方案，利用上位机向目标设备发送定位指令，目标设备接收到指令后发出醒目的提示信号，使得技术人员能够直观、便捷的发现目标设备，实现对目标设备的定位，提高了目标设备定位的便捷性。最后，本申请还提供一种计算机可读存储介质对应的实施例。计算机可读存储介质上存储有计算机程序，计算机程序被处理器执行时实现如上述方法实施例中记载的步骤。可以理解的是，如果上述实施例中的方法以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上对本申请所提供的设备定位方法、装置以及介质进行了详细介绍。说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以对本申请进行若干改进和修饰，这些改进和修饰也落入本申请权利要求的保护范围内。还需要说明的是，在本说明书中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。
