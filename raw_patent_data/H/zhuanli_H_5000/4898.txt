标题title
一种固件升级方法、装置以及计算机可读存储介质
摘要abst
本说明书提供一种固件升级方法、装置以及计算机可读存储介质，涉及通信技术领域。一种固件升级方法，应用于服务器中的BMC，包括：接收终端所发送的升级请求；根据升级请求，获取服务器中所包含的待升级组件的组件信息；生成配置文件，其中，配置文件中包含有待升级组件的组件信息；向终端发送配置文件。通过上述方法可以减少针对组件进行固件升级时所消耗的时间。
权利要求书clms
1.一种固件升级方法，其特征在于，应用于服务器中的基板管理控制器BMC，包括：接收终端所发送的升级请求；根据所述升级请求，获取所述服务器中所包含的待升级组件的组件信息；生成配置文件，其中，所述配置文件中包含有待升级组件的组件信息；向所述终端发送所述配置文件。2.根据权利要求1所述的方法，其特征在于，根据所述升级请求，获取所述服务器中所包含的待升级组件的组件信息，包括：根据所述升级请求，确定所述服务器中所包含的可升级组件；向所述终端发送所述可升级组件的标识，以使所述终端在显示界面上展示所述可升级组件；接收所述终端基于所述显示界面所选择的组件；获取与所选择的组件相匹配的可升级组件的组件信息作为待升级组件的组件信息。3.根据权利要求1所述的方法，其特征在于，在向所述终端发送所述配置文件之后，还包括：接收所述终端基于所述配置文件所获取的固件升级包，其中，所述固件升级包中所包含的固件升级文件与所述配置文件中的待升级组件相对应；对所述固件升级包进行解析，并基于解析获得的固件升级文件对所述服务器的待升级组件进行升级。4.一种固件升级方法，其特征在于，应用于资源服务器，包括：接收所述终端发送的配置文件；对所述配置文件进行解析，获取所述配置文件所包含有待升级组件的组件信息；根据所述待升级组件的组件信息查找资源库，确定所述待升级组件的组件信息所对应的固件升级文件；生成固件升级包，其中，所述固件升级包中所包含从所述资源库中所确定的固件升级文件；将所述固件升级包发送给所述终端。5.一种固件升级装置，其特征在于，应用于服务器中的BMC，包括：接收单元，用于接收终端所发送的升级请求；获取单元，用于根据所述升级请求，获取所述服务器中所包含的待升级组件的组件信息；生成单元，用于生成配置文件，其中，所述配置文件中包含有待升级组件的组件信息；发送单元，用于向所述终端发送所述配置文件。6.根据权利要求5所述的装置，其特征在于，获取单元，包括：确定模块和获取模块；所述确定模块，用于根据所述升级请求，确定所述服务器中所包含的可升级组件；所述发送单元，还用于向所述终端发送所述可升级组件的标识，以使所述终端在显示界面上展示所述可升级组件；所述接收单元，还用于接收所述终端基于所述显示界面所选择的组件；所述获取模块，用于获取与所选择的组件相匹配的可升级组件的组件信息作为待升级组件的组件信息。7.根据权利要求5所述的装置，其特征在于，还包括升级单元；所述接收单元，还用于接收所述终端基于所述配置文件所获取的固件升级包，其中，所述固件升级包中所包含的固件升级文件与所述配置文件中的待升级组件相对应；所述升级单元，用于对所述固件升级包进行解析，并基于解析获得的固件升级文件对所述服务器的待升级组件进行升级。8.一种固件升级装置，其特征在于，应用于资源服务器，包括：接收单元，用于接收所述终端发送的配置文件；解析单元，用于对所述配置文件进行解析，获取所述配置文件所包含有待升级组件的组件信息；查找单元，用于根据所述待升级组件的组件信息查找资源库，确定所述待升级组件的组件信息所对应的固件升级文件；生成单元，用于生成固件升级包，其中，所述固件升级包中所包含从所述资源库中所确定的固件升级文件；发送单元，用于将所述固件升级包发送给所述终端。9.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质内存储有计算机程序，所述计算机程序被处理器执行时实现权利要求1-3任一项所述的方法步骤或权利要求4所述的方法步骤。
说明书desc
技术领域本说明书涉及通信技术领域，尤其涉及一种固件升级方法、装置以及计算机可读存储介质。背景技术为了满足不同类型的业务需求，服务器的功能在不断的扩展和完善，服务器的组件也越来越多，如显卡、硬盘、网卡、电源等。这些组件可能来自不同的厂家，并且型号也不尽相同。在使用过程中可以对服务器中的组件进行升级，以提高服务器的性能、可靠性、稳定性等。按照传统的方式对服务器上的组件进行升级的话，用户需要收集待升级组件的厂家以及型号等信息，然后根据收集到的信息依次配套的固件，在存在较多组件的情况下，需要消耗大量的时间。发明内容为克服相关技术中存在的问题，本说明书提供了一种固件升级方法、装置以及计算机可读存储介质。结合本说明书实施方式的第一方面，本申请提供了一种固件升级方法，应用于服务器中的BMC，包括：接收终端所发送的升级请求；根据升级请求，获取服务器中所包含的待升级组件的组件信息；生成配置文件，其中，配置文件中包含有待升级组件的组件信息；向终端发送配置文件。可选的，根据升级请求，获取服务器中所包含的待升级组件的组件信息，包括：根据升级请求，确定服务器中所包含的可升级组件；向终端发送可升级组件的标识，以使终端在显示界面上展示可升级组件的组件信息；接收终端基于显示界面所选择的组件；获取与所选择的组件相匹配的可升级组件的组件信息作为待升级组件的组件信息。可选的，在向终端发送配置文件之后，还包括：接收终端基于配置文件所获取的固件升级包，其中，固件升级包中所包含的固件升级文件与配置文件中的待升级组件相对应；对固件升级包进行解析，并基于解析获得的固件升级文件对服务器的待升级组件进行升级。结合本说明书实施方式的第二方面，本申请提供了一种固件升级方法，应用于资源服务器，包括：接收终端发送的配置文件；对配置文件进行解析，获取配置文件所包含有待升级组件的组件信息；根据待升级组件的组件信息查找资源库，确定待升级组件的组件信息所对应的固件升级文件；生成固件升级包，其中，固件升级包中所包含从资源库中所确定的固件升级文件；将固件升级包发送给终端。结合本说明书实施方式的第三方面，本申请提供了一种固件升级装置，应用于服务器中的BMC，包括：接收单元，用于接收终端所发送的升级请求；获取单元，用于根据升级请求，获取服务器中所包含的待升级组件的组件信息；生成单元，用于生成配置文件，其中，配置文件中包含有待升级组件的组件信息；发送单元，用于向终端发送配置文件。可选的，获取单元，包括：确定模块和获取模块；确定模块，用于根据升级请求，确定服务器中所包含的可升级组件；发送单元，还用于向终端发送可升级组件的标识，以使终端在显示界面上展示可升级组件；接收单元，还用于接收终端基于显示界面所选择的组件；获取模块，用于获取与所选择的组件相匹配的可升级组件的组件信息作为待升级组件的组件信息。可选的，该装置，还包括升级单元；接收单元，还用于接收终端基于配置文件所获取的固件升级包，其中，固件升级包中所包含的固件升级文件与配置文件中的待升级组件相对应；升级单元，用于对固件升级包进行解析，并基于解析获得的固件升级文件对服务器的待升级组件进行升级。结合本说明书实施方式的第四方面，本申请提供了一种固件升级装置，应用于资源服务器，包括：接收单元，用于接收终端发送的配置文件；解析单元，用于对配置文件进行解析，获取配置文件所包含有待升级组件的组件信息；查找单元，用于根据待升级组件的组件信息查找资源库，确定待升级组件的组件信息所对应的固件升级文件；生成单元，用于生成固件升级包，其中，固件升级包中所包含从资源库中所确定的固件升级文件；发送单元，用于将固件升级包发送给终端。结合本说明书实施方式的第五方面，本申请提供了一种计算机可读存储介质，计算机可读存储介质内存储有计算机程序，计算机程序被处理器执行时实现上述任一项的方法步骤。本说明书的实施方式提供的技术方案可以包括以下有益效果：本说明书实施方式中，在接收到终端发送的升级请求后，从服务器中获取到待升级组件的组件信息，并生成包含这些组件信息的配置文件，并将配置文件返回给终端，终端在接收到配置文件后可以通过在资源服务器中上传该配置文件使资源服务器根据配置文件自动生成包含待升级组件的固件升级包，避免了用户手动选择需要进行升级的固件升级文件，提升了服务器的固件升级文件升级效率。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本说明书。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本说明书的实施方式，并与说明书一起用于解释本说明书的原理。图1是本申请所涉及的一种固件升级方法的流程图，其中，该方法应用于服务器的BMC；图2是本申请所涉及的一种固件升级方法的流程图，其中，该方法应用于资源服务器；图3是本申请的实施方式所涉及的一种固件升级方法所适用的网络结构示意图；图4是本申请的实施方式所涉及的一种固件升级方法的流程图；图5是本申请的实施方式所涉及的一种固件升级方法中终端上所展示的管理系统的界面示意图；图6是本申请所涉及的一种固件升级装置的结构示意图，其中，该方法应用于服务器的BMC；图7是本申请所涉及的一种固件升级装置的结构示意图，其中，该方法应用于资源服务器。具体实施方式这里将详细地对示例性实施方式进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施方式中所描述的实施方式并不代表与本说明书相一致的所有实施方式。本申请提供了一种固件升级方法，应用于服务器中的BMC，如图1所示，包括：S100、接收终端所发送的升级请求。在服务器中设置有主板，在主板上设置有处理器以及BMC，该BMC可以用于对服务器中的硬件和软件进行监控，并通过内置于BMC内的管理系统，实现对外的显示和管理。S101、根据升级请求，获取服务器中所包含的待升级组件的组件信息。该待升级组件指默认的需要升级的组件或者用户选定的组件，包括但不限于线卡、硬盘、网卡、电源和BIOS等。S102、生成配置文件。其中，配置文件中包含有待升级组件的组件信息，即该组件信息可以包含有待升级组件的槽位号、组件类型以及产品类型等用于实现组件的固件升级所需要的信息。S103、向终端发送配置文件。该终端一般指用于访问BMC内置的管理系统的设备，通过网络向服务器的BMC发送访问请求，可以获得管理系统并进行显示和操作。该终端可以为移动终端、PC和PDA等设备。可选的，步骤S101、根据升级请求，获取服务器中所包含的待升级组件的组件信息，包括：S101A、根据升级请求，确定服务器中所包含的可升级组件。S101B、向终端发送可升级组件的标识，以使终端在显示界面上展示可升级组件。S101C、接收终端基于显示界面所选择的组件。S101D、获取与所选择的组件相匹配的可升级组件的组件信息作为待升级组件的组件信息。可选的，在步骤S103、向终端发送配置文件之后，还包括：S104、接收终端基于配置文件所获取的固件升级包。其中，固件升级包中所包含的固件升级文件与配置文件中的待升级组件相对应。S105、对固件升级包进行解析，并基于解析获得的固件升级文件对服务器的待升级组件进行升级。相对应的，本申请提供了一种固件升级方法，应用于资源服务器，如图2所示，包括：S200、接收终端发送的配置文件。该资源服务器中可以设置有资源库，在该资源库中存储有各产品类型和各组件类型所需要的固件升级文件。S201、对配置文件进行解析，获取配置文件所包含有待升级组件的组件信息。在资源服务器获取到配置文件后，可以对该配置文件进行解析，从中读取出待升级组件的组件信息。S202、根据待升级组件的组件信息查找资源库，确定待升级组件的组件信息所对应的固件升级文件。通过组件信息，资源服务器可以在资源库中进行查找，以确定出待升级组件的组件信息所对应的固件升级文件S203、生成固件升级包。其中，固件升级包中所包含从资源库中所确定的固件升级文件；S204、将固件升级包发送给终端。本说明书实施方式中，在接收到终端发送的升级请求后，从服务器中获取到待升级组件的组件信息，并生成包含这些组件信息的配置文件，并将配置文件返回给终端，终端在接收到配置文件后可以通过在资源服务器中上传该配置文件使资源服务器根据配置文件自动生成包含待升级组件的固件升级包，避免了用户手动选择需要进行升级的固件升级文件，提升了服务器的固件升级效率。下面结合一个具体的实施方式对本申请所涉及的固件升级方法进行说明，如图3所示，在固件升级系统中包含有资源服务器、待升级的服务器、终端以及用于实现资源服务器、待升级的服务器和终端之间网络连接的网络设备。其中，一台终端可以管理多台服务器，即服务器1和服务器2，下面以通过终端对服务器1进行固件升级为例进行描述。一种固件升级方法，如图4所示，包括：S1、终端向服务器的BMC发送访问请求。终端与服务器的BMC之间的通信可以是基于IPMI协议的通信。在IPMI协议中，终端和BMC之间的通信可以分为请求与响应。一般来说，由终端向BMC发起请求，再由BMC针对该请求进行响应。比如，上述的访问请求以及下述的升级请求等。S2、服务器的BMC将所存储的管理系统发送给终端。S3、终端获取该管理系统并进行显示。管理系统以系统文件的形式存储在BMC的存储器中，在BMC接收到访问请求后，可以从存储器中读取系统文件并携带至访问响应中发送至终端。终端在接收到系统文件后，在其屏幕上进行显示。在返回系统文件后，BMC也可以获取服务器中所有可升级组件的组件信息，这样一来，即可以在终端上显示的管理系统上展示服务器中所包含的组件的组件信息，比如可以包含有组件所安装的槽位的槽位号、组件类型以及产品类型，还可以包含有厂商类型等等。当然，在步骤S1～S3的过程中，也可以不携带组件信息。S4、终端向服务器的BMC发送升级请求。S5、BMC确定服务器中所有可升级组件。S6、BMC将可升级组件的标识发送至终端。可升级组件的标识可以携带至升级响应中发送至终端。S7、终端在显示屏上显示可升级组件。在终端接收BMC所发送的可升级组件的标识后，可以在显示屏上进行显示，如图5所示，用户可以通过在终端上的操作，选定一些可升级组件进行升级，在管理系统中显示出服务器包含四个组件，即组件1：显卡，组件2：网卡，组件3：硬盘，组件4：电源。比如，用户可以在终端所显示的管理系统中选择组件1以及组件2进行升级，其中，在图5中黑色框表示被用户选中的组件，白色框表示未被用户选中的组件。S8、终端向BMC发送待升级组件的标识。终端和BMC之间可以约定升级认定请求，该请求可以携带待升级组件的标识。需要说明的是，待升级组件即用户在终端上所选定的可升级组件。S9、BMC接收到的待升级组件的标识后，获取与所选择的组件相匹配的待升级组件的组件信息。该组件信息即为待升级组件的组件信息。S10、BMC将待升级组件的组件信息进行整合，生成配置文件。该配置文件中包含有待升级组件的组件信息，即组件1和组件2的组件信息，分别包含有槽位号、组件类型以及产品类型。S11、BMC将生成的配置文件发送至终端。S12、终端将接收到该配置文件发送至资源服务器。用户可以通过手动的方式访问资源服务器，也可以通过自动的方式将该配置文件发送至资源服务器。S13、资源服务器接收到配置文件后进行解析，获取该配置文件中所携带的待升级组件的组件信息。S14、资源服务器基于待升级组件的组件信息，在资源库中进行查找，确定出组件信息所对应的固件升级文件。资源服务器基于组件1和组件2相关的组件信息，在资源库中进行查找，确定与组件1和组件2相关的固件，该固件指服务器中组件的驱动程序，而确定出的固件即可以理解为是对服务器中已经执行的驱动程序进行升级的固件升级文件。S15、资源服务器在获取到待升级组件的固件后，对固件进行打包，生成固件升级包。在该固件升级包中可以包含有所有待升级组件的固件升级文件。S16、资源服务器将固件升级包发送给终端。在步骤S14中，当资源库中可能存在没有查找到的固件的情况下，资源服务器在向终端发送固件升级包时，还可以告知存在未查找到的固件升级文件，并可以告知终端哪些固件升级文件未被找到。S17、终端将固件升级包发送至BMC。S18、BMC对固件升级包进行解析，并基于解析出的固件升级文件对服务器中的组件进行升级。通过上述方式，用户可以在终端上所显示的管理系统中进行选择，并通过与服务器的BMC之间的交互，以使BMC获知待升级组件的标识。BMC基于获取的标识确定出组件信息，并生成配置文件发送给终端。终端基于这一配置文件，可以通过资源服务器直接获取到需要升级的组件的固件升级包，用户可以直接通过该固件升级包为服务器中的组件进行升级，从而节省了用户手动查找固件升级文件所消耗的时间，并且避免了选择错误时出现的不能升级的情况。本申请提供了一种固件升级装置，应用于服务器中的BMC，如图6所示，包括：接收单元，用于接收终端所发送的升级请求；获取单元，用于根据升级请求，获取服务器中所包含的待升级组件的组件信息；生成单元，用于生成配置文件，其中，配置文件中包含有待升级组件的组件信息；发送单元，用于向终端发送配置文件。可选的，获取单元，包括：确定模块和获取模块；确定模块，用于根据升级请求，确定服务器中所包含的可升级组件；发送单元，还用于向终端发送可升级组件的标识，以使终端在显示界面上展示可升级组件；接收单元，还用于接收终端基于显示界面所选择的组件；获取模块，用于获取与所选择的组件相匹配的可升级组件的组件信息作为待升级组件的组件信息。可选的，该装置，还包括升级单元；接收单元，还用于接收终端基于配置文件所获取的固件升级包，其中，固件升级包中所包含的固件升级文件与配置文件中的待升级组件相对应；升级单元，用于对固件升级包进行解析，并基于解析获得的固件升级文件对服务器的待升级组件进行升级。相对应的，本申请提供了一种固件升级装置，应用于资源服务器，如图7所示，包括：接收单元，用于接收终端发送的配置文件；解析单元，用于对配置文件进行解析，获取配置文件所包含有待升级组件的组件信息；查找单元，用于根据待升级组件的组件信息查找资源库，确定待升级组件的组件信息所对应的固件升级文件；生成单元，用于生成固件升级包，其中，固件升级包中所包含从资源库中所确定的固件升级文件；发送单元，用于将固件升级包发送给终端。相对应的，本申请提供了一种计算机可读存储介质，计算机可读存储介质内存储有计算机程序，计算机程序被处理器执行时实现上述任一项的方法步骤。本说明书的实施方式提供的技术方案可以包括以下有益效果：本说明书实施方式中，在接收到终端发送的升级请求后，从服务器中获取到待升级组件的组件信息，并生成包含这些组件信息的配置文件，并将配置文件返回给终端，终端在接收到配置文件后可以通过在资源服务器中上传该配置文件使资源服务器根据配置文件自动生成包含待升级组件的固件升级包，避免了用户手动选择需要进行升级的固件升级文件，提升了服务器的固件升级效率。应当理解的是，本说明书并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。以上所述仅为本说明书的较佳实施方式而已，并不用以限制本说明书，凡在本说明书的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本说明书保护的范围之内。
