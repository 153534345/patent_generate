标题title
一种天线切换方法以及相关设备
摘要abst
本申请实施例公开了一种天线切换方法，用于移动通信网络。第一通信设备根据空口传输信息确定第一天线标识，第一通信设备向数字开关发送该第一天线标识，数字开关根据该第一天线标识将第二开关状态切换为第一开关状态，第一开关状态表示在第一时间单元内第二通信设备与第一天线通信，第二开关状态表示在第二时间单元内第二通信设备与第二天线通信。
权利要求书clms
1.一种天线切换的方法，其特征在于，包括：第一通信设备根据空口传输信息确定第一天线标识，所述第一天线标识对应第一开关状态，所述第一开关状态表示在第一时间单元内第二通信设备与第一天线通信；所述第一通信设备向数字开关发送所述第一天线标识，所述第一天线标识用于指示所述数字开关将第二开关状态切换为所述第一开关状态，所述第二开关状态表示在第二时间单元内所述第二通信设备与第二天线通信，所述第二通信设备用于处理所述第一通信设备的信号。2.根据权利要求1所述的方法，其特征在于，所述第一通信设备向数字开关发送所述第一天线标识之后，所述方法还包括：所述第一通信设备的控制模块向所述第一通信设备的基带模块发送所述第一天线标识对应的扇区信息；所述第一通信设备的基带模块向所述扇区信息对应的天线发送业务数据，或者，所述第一通信设备的基带模块接收所述扇区信息对应的天线收到的业务数据。3.根据权利要求1所述的方法，其特征在于，所述第一时间单元包括符号、时隙SLOT、子帧、帧或传输时间间隔TTI，所述第二时间单元包括符号、时隙SLOT、子帧、帧或传输时间间隔TTI。4.根据权利要求1至3中任一项所述的方法，其特征在于，所述第一通信设备根据空口传输信息确定第一天线标识之前，所述方法还包括：所述第一通信设备将第一网络设备中的多个扇区组成小区；所述第一通信设备为所述小区中的每个扇区分配独立的同步信号和物理广播信道块SSB，所述每个扇区对应一个天线编号，所述小区包括第一天线对应的扇区和第二天线对应的扇区；所述第一通信设备根据空口传输信息确定第一天线标识包括：当所述空口传输信息为所述SSB的业务数据，所述第一通信设备将所述SSB的编号、所述SSB对应的天线编号或所述SSB对应的扇区编号中的至少一种作为所述第一天线标识。5.根据权利要求1至3中任一项所述的方法，其特征在于，所述第一通信设备根据空口传输信息确定第一天线标识包括：若所述空口传输信息为单个扇区的业务数据，则所述第一通信设备将所述单个扇区的扇区编号或所述单个扇区对应的天线编号作为所述第一天线标识。6.根据权利要求1至3中任一项所述的方法，其特征在于，所述第一通信设备在第一时间单元内根据空口传输信息确定第一天线标识包括：若所述空口传输信息为多个扇区的业务数据，则所述第一通信设备根据所述多个扇区的业务数据的优先级确定扇区编号；所述第一通信设备将所述扇区编号或所述扇区编号对应的天线编号作为所述第一天线标识。7.根据权利要求1至3中任一项所述的方法，其特征在于，所述第一通信设备根据空口传输信息确定第一天线标识包括：若所述空口传输信息不存在业务数据，所述第一通信设备将天线编号集合中任意一个天线编号或所述任意一个天线编号对应的扇区编号作为所述第一天线标识，所述天线编号集合包括K个天线对应的编号，所述K为大于或等于2的整数。8.一种天线切换方法，其特征在于，包括：数字开关接收第一通信设备发送的第一天线标识，所述第一天线标识对应第一开关状态，所述第一开关状态表示第一时间单元内第二通信设备与第一天线通信；所述数字开关根据所述第一天线标识将第二开关状态切换为所述第一开关状态，所述第二开关状态表示第二时间单元内所述第二通信设备与第二天线通信，所述第二通信设备用于处理所述第一通信设备的信号。9.根据权利要求8所述的方法，其特征在于，所述数字开关包括切换开关，且所述切换开关的数量大于等于所述第二通信设备的通道数量；所述数字开关接收第一通信设备发送的第一天线标识，包括：所述数字开关通过所述切换开关接收所述第一通信设备发送的第一天线标识；所述数字开关根据所述第一天线标识将第二开关状态切换为所述第一开关状态，包括：所述数字开关通过所述切换开关根据所述第一天线标识将第二开关状态切换为所述第一开关状态。10.一种第一通信设备，其特征在于，包括确定单元，用于根据空口传输信息确定第一天线标识，所述第一天线标识对应第一开关状态，所述第一开关状态表示在第一时间单元内第二通信设备与第一天线通信；发送单元，用于向数字开关发送所述第一天线标识，所述第一天线标识用于所述数字开关将第二开关状态切换为所述第一开关状态，所述第二开关状态表示在第二时间单元内所述第二通信设备与第二天线通信，所述第二通信设备用于处理所述第一通信设备的信号。11.根据权利要求10所述的第一通信设备，其特征在于，所述发送单元还用于：向所述第一通信设备的基带模块发送所述第一天线标识对应的扇区信息；向所述扇区信息对应的天线发送业务数据，或者，接收所述扇区信息对应的天线收到的业务数据。12.根据权利要求10至11中任一项所述的第一通信设备，其特征在于，所述确定单元还用于：将第一网络设备中的多个扇区组成小区；为所述小区中的每个扇区分配独立的同步信号和物理广播信道块SSB，所述每个扇区对应一个天线编号，所述小区包括第一天线对应的扇区和第二天线对应的扇区；所述确定单元具体用于：当所述空口传输信息为所述SSB的业务数据，将所述SSB的编号、所述SSB对应的扇区编号或所述SSB对应的天线编号作为所述第一天线标识。13.根据权利要求10至11中任一项所述的第一通信设备，其特征在于，所述确定单元具体用于：若所述空口传输信息为单个扇区的业务数据，则将所述单个扇区的扇区编号或所述单个扇区对应的天线编号作为所述第一天线标识。14.根据权利要求10至11中任一项所述的第一通信设备，其特征在于，所述确定单元具体用于：若所述空口传输信息为多个扇区的业务数据，则根据所述多个扇区的业务数据的优先级确定扇区编号；将所述扇区编号或所述扇区编号对应的天线编号作为所述第一天线标识。15.根据权利要求10至11中任一项所述的第一通信设备，其特征在于，所述确定单元具体用于：若所述空口传输信息不存在业务数据，则将天线编号集合中任意一个天线编号或所述任意一个天线编号对应的扇区编号作为所述第一天线标识，所述天线编号集合包括K个天线对应的编号，所述K为大于或等于2的整数。16.一种数字开关，其特征在于，包括：接收单元，用于接收第一通信设备发送的第一天线标识，所述第一天线标识对应第一开关状态，所述第一开关状态表示第一时间单元内第二通信设备与第一天线通信；处理单元，用于根据所述第一天线标识将第二开关状态切换为所述第一开关状态，所述第二开关状态表示第二时间单元内所述第二通信设备与第二天线通信，所述第二通信设备用于处理所述第一通信设备的信号。17.根据权利要求16所述的数字开关，其特征在于，所述数字开关包括切换开关，且所述切换开关的数量大于等于所述第二通信设备的通道数量；所述接收单元具体用于通过所述切换开关接收所述第一通信设备发送的第一天线标识；所述处理单元具体用于通过所述切换开关根据所述第一天线标识将第二开关状态切换为所述第一开关状态。18.一种第一通信设备，其特征在于，包括：处理器，所述处理器与存储器耦合，所述存储器用于存储程序或指令，当所述程序或指令被所述处理器执行时，使得所述装置第一通信设备执行如上权利要求1至7中任一项所述的方法。19.一种数字开关，其特征在于，包括：处理器，所述处理器与存储器耦合，所述存储器用于存储程序或指令，当所述程序或指令被所述处理器执行时，使得所述装置数字开关执行如上权利要求8或9所述的方法。20.一种天线，其特征在于，所述天线包括上述权利要求19中所述的数字开关。21.一种第二通信设备，其特征在于，所述第二通信设备包括上述权利要求19中所述的数字开关。22.一种通信系统，其特征在于，所述通信系统包括第一通信设备和数字开关；所述第一通信设备用于执行上述权利要求1至7中任一项所述的方法；所述数字开关用于执行上述权利要求8或9所述的方法。23.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中保存有程序，当所述计算机执行所述程序时，执行如权利要求1至9中任一项所述的方法。24.一种计算机程序产品，其特征在于，当所述计算机程序产品在计算机上执行时，所述计算机执行如权利要求1至9中任一项所述的方法。
说明书desc
技术领域本申请实施例涉及通信领域，尤其涉及一种天线切换方法。背景技术移动通信网络对于满足人民生活，促进本地经济与社会发展有重要的价值和意义。当前的移动通信网络系统中，一个基站系统主要由基带单元、射频拉远单元、天线组成，BBU主要负责信号的基带处理，RRU主要负责射频处理，天线主要负责辐射和接收无线电波。当前移动通信网络的覆盖率并没有达到百分之百，特别是在深山旅游区、偏远公路、森林、大农场、小农庄等区域，在这些地方，虽然多个天线可以实现更大范围的移动网络覆盖，但是由于这些地方人口稀少，话务量极低，在很多时刻，一个基站系统的多个天线中只有一个天线需要发送或者接收数据。现有技术中单个RRU只能支持单个天线,每个天线对应一个扇区，在保证扇区信号覆盖的情况下，需要增加一定的天线数量，增加天线数量也会相应增加RRU设备的数量，显然，要保证在这些话务量极低的偏远地区的信号能够覆盖情况下，单基站多扇区定向覆盖造成了RRU设备成本增加，而由于极低的话务量，RRU设备会经常处于空闲状态，造成了RRU设备资源的浪费。发明内容本申请实施例第一方面提供了一种天线切换方法，本申请实施例的方法可以由第一通信设备实现，也可以由第一通信设备中的芯片或处理器实现，本申请实施例以第一通信设备为例进行介绍，包括：第一通信设备根据空口传输信息确定第一天线标识，该第一天线标识对应第一开关状态，第一开关状态表示数字开关在第一时间单元内连通第二通信设备与第一天线，所以在第一开关状态下，第二通信设备可以与第一天线通信。第一通信设备向数字开关发送第一天线标识，该第一天线标识指示数字开关将第二开关状态切换为第一开关状态，第二开关状态表示在第二时间单元内第二通信设备与第二天线连通，第二开关状态下第二通信设备可以与第二天线通信，第二通信设备用于处理第一通信设备的信号，第一时间单元出现在第二时间单元之后。本申请实施例中，数字开关根据第一通信设备发送的第一天线标识，将第二通信设备的通道由第二天线切换为第一天线，这样多个天线可以在单个第二通信设备的通道上切换，同样信号覆盖的情况下减少了第二通信设备设备的数量，从而有效降低了第二通信设备设备成本，提升了第二通信设备设备资源的利用率。一种可能的实施方式中，第一通信设备向数字开关发送第一天线标识之后，第一通信设备的控制模块向第一通信设备的基带模块发送第一天线标识对应的扇区信息，扇区信息包括扇区编号，扇区编号与天线编号存在对应关系。第一通信设备的基带模块向该扇区信息对应的天线发送业务数据，或者，第一通信设备的基带模块接收扇区信息对应的天线收到的业务数据。本申请实施例中，第一通信设备的控制模块将数字开关所连接的天线对应的扇区信息发送给第一通信设备的基带模块，以使得第一通信设备的基带模块传输上行或下行业务数据，第一通信设备的控制模块向第一通信设备的基带模块发送扇区信息，提升了天线切换方案的可实现性。一种可能实施方式中，时间单元包括符号、时隙SLOT、子帧、帧或传输时间间隔TTI。本申请实施例中，符号是在第5代移动通信技术新空口网络和第4代移动通信技术长期演进系统中信号调制的基本时间单位，在NR网络中，时隙SLOT作为数据调度的最小时间单位，在LTE网络LTE网络LTE网络中，子帧作为数据调度的最小时间单位，本申请实施例可以应用于多种移动通信网络系统，提升了方案是适用性。一种可能实施方式中，在第五代移动通信NR网络下，第一通信设备根据空口传输信息确定第一天线标识之前，第一通信设备将第一网络设备中的多个扇区组成小区，第一通信设备为小区中的每个扇区分配同步信号和物理广播信道块SSB，每个扇区对应一个天线编号，小区包括第一天线对应的扇区和第二天线对应的扇区。当空口传输信息为SSB的业务数据，第一通信设备将SSB的编号、SSB编号对应的扇区编号或SSB对应的天线编号中的至少一种作为第一天线标识。本申请实施例中，第一通信设备将多个扇区组成同一个小区，并为每面天线对应的扇区单独分配一个SSB，在每个天线需要发送SSB的符号时，将第二通信设备的通道切换到对应的天线上去，本申请实施例中单个第二通信设备可以同时支持多个扇区正常工作，提高了第二通信设备的利用率。一种可能实施方式中，第一通信设备根据空口传输信息确定第一天线标识时，若空口传输信息为单个扇区的业务数据，则第一通信设备将单个扇区的扇区编号或者单个扇区对应的天线编号作为第一天线标识。一种可能的实施方式中，第一通信设备在第一时间单元内根据空口传输信息确定第一天线标识时，若空口传输信息为多个扇区的业务数据，则第一通信设备根据多个扇区的业务数据的优先级确定扇区编号，第一通信设备将扇区编号或者扇区编号对应的天线编号作为第一天线标识。本申请实施例中，空口传输信息为多扇区业务数据时，第一通信设备会根据多个扇区中的业务数据的优先级确定第一天线标识，实现了第一网络设备系统传输价值的最大化。一种可能的实施方式中，第一通信设备根据空口传输信息确定第一天线标识时，若空口传输信息不存在业务数据，第一通信设备将天线编号集合中任意一个天线编号或该天线编号对应的扇区编号作为第一天线标识，天线编号集合包括K个天线对应的编号，K为大于或等于2的整数。本申请实施例中，空口传输信息不存在要传输的业务数据时，第一通信设备将天线编号集合中任意一个作为第一天线标识，具体的，第一通信设备可以将上一个时间单元内的天线编号作为第一天线标识，当第一通信设备将上一个时间单元内的天线编号作为第一天线标识时，第一通信设备的控制控制模块可以不用执行任何指令，进一步降低的第一网络设备系统的功耗。本申请实施例第二方面提供了一种天线切换方法，包括：数字开关接收第一通信设备发送的第一天线标识，第一天线标识可以是第一天线的天线编号、第一天线对应的扇区编号或第一天线对应的SSB编号中的至少一种。第一天线标识对应第一开关状态，该第一开关状态表示第一时间单元内第二通信设备与第一天线通信。其中，第一天线标识对应第一开关状态，可以理解为，根据第一天线标识可以确定出将第一天线标识对应的第一天线与第二通信设备进行通信。数字开关根据第一天线标识将第二开关状态切换为第一开关状态，第二开关状态表示第二时间单元内第二通信设备与第二天线通信，第一时间单元出现在第二时间单元之后。本申请实施例中数字开关可以根据第一通信设备送的第一天线标识进行天线切换，实现了一个第二通信设备在多面天线之间的时分复用，从一个第二通信设备可以支持多扇区，提升了第二通信设备的利用率，减少了第二通信设备的数量，降低了第一网络设备系统的成本。一种可能的实施方式中，数字开关中包含至少一个切换开关，切换开关的数量大于等于第二通信设备的通道数，数字开关通过切换开关接收第一通信设备发送的天线标识，其中数字开关中的不同切换开关接收到天线标识可以相同，也可以不同，数字开关中的每一个切换开关根据接收到的天线标识独立进行天线切换。本申请实施例第三方面提供了一种第一通信设备，包括：确定单元，用于根据空口传输信息确定第一天线标识，第一天线标识对应第一开关状态，第一开关状态表示在第一时间单元内第二通信设备与第一天线通信。发送单元，用于向数字开关发送第一天线标识，第一天线标识用于数字开关将第二开关状态切换为第一开关状态，第二开关状态表示在第二时间单元内第二通信设备与第二天线通信，第一时间单元出现在第二时间单元之后。一种可能的实施方式中，发送单元还用于向第一通信设备的基带模块发送第一天线标识对应的扇区信息。发送单元还用于向扇区信息对应的天线发送业务数据，或者，接收扇区信息对应的天线收到的业务数据。一种可能的实施方式中，确定单元还用于将第一网络设备中的多个扇区组成小区，为小区中的每个扇区分配独立的同步信号和物理广播信道块SSB，其中每个扇区对应一个天线编号，小区包括第一天线对应的扇区和第二天线对应的扇区。一种可能的实施方式中，确定单元具体用于，当空口传输信息为SSB的业务数据，将SSB的编号、SSB对应的扇区编号或者SSB对应的天线编号作为第一天线标识。一种可能的实施方式中，确定单元具体用于若空口传输信息为单个扇区的业务数据，则将单个扇区的扇区编号或单个扇区对应的天线编号作为第一天线标识。一种可能的实施方式中，确定单元具体用于若空口传输信息为多个扇区的业务数据，则根据多个扇区的业务数据的优先级确定扇区编号，并将扇区编号或者扇区编号对应的天线编号作为第一天线标识。一种可能的实施方式中，确定单元具体用于若空口传输信息不存在业务数据，则将天线编号集合中任意一个天线编号或该天线编号对应的扇区编号作为第一天线标识，天线编号集合包括K个天线对应的编号，K为大于或等于2的整数。本申请实施例第四方面提供了一种数字开关，包括：接收单元，用于接收第一通信设备发送的第一天线标识，第一天线标识对应第一开关状态，第一开关状态表示第一时间单元内第二通信设备与第一天线通信。处理单元，用于根据第一天线标识将第二开关状态切换为第一开关状态，第二开关状态表示第二时间单元内第二通信设备与第二天线通信，第一时间单元出现在第二时间单元之后。一种可能的实施方式中，数字开关包括至少一个切换开关，切换开关的数量大于等于第二通信设备的通道数量，接收单元具体用于通过切换开关接收第一通信设备发送的第一天线标识，处理单元具体用于通过切换开关根据第一天线标识将第二开关状态切换为第一开关状态。本申请实施例第五方面提供了一种第一通信设备，包括：处理器和通信接口，该处理器用于执行指令，使得该第一通信设备执行上述第一方面或第一方面任一种可选方式所提供的方法，通信接口用于接收或发送报文。第五方面提供的第一通信设备的具体细节可参见上述第一方面或第一方面任一种可选方式，此处不再赘述。本申请实施例第六方面提供了一种数字开关，包括：处理器和通信接口，该处理器用于执行指令，使得该数字开关执行上述第二方面或第二方面任一种可选方式所提供的方法，通信接口用于接收或发送报文。第六方面提供的数字开关包括至少一个切换开关，切换开关用于根据第一天线标识将第二天线通道切换为第一天线通道，切换开关的数量大于等于第二通信设备的通道数量第六方面提供的数字开关的具体细节可参见上述第二方面或第二方面任一种可选方式，此处不再赘述。本申请实施例第七方面提供了一种天线，该天线包括上述第四方面的数字开关或第六方面提供的数字开关。本申请实施例第八方面提供了一种第二通信设备，该第二通信设备包括上述第四方面的数字开关或第六方面提供的数字开关。本申请实施例第九方面提供了一种第一网络设备系统，该第一网络设备系统包括上述第三方面的第一通信设备、第五方面的第一通信设备、第四方面的数字开关或第六方面的数字开关。其中，第一网络设备系统中第一通信设备的具体细节可参见上述第一方面或第一方面任一种可选方式，此处不再赘述。其中，第一网络设备系统中数字开关的具体细节可参见上述第二方面或第二方面任一种可选方式，此处不再赘述。本申请实施例第十方面提供了一种计算机可读存储介质，计算机可读存储介质中保存有程序，当计算机执行所述程序时，执行第一方面或第一方面任一种可选方式所提供的方法。本申请实施例第十一方面提供了一种计算机可读存储介质，计算机可读存储介质中保存有程序，当计算机执行所述程序时，执行第二方面或第二方面任一种可选方式所提供的方法。本申请实施例第十二方面提供了一种计算机程序产品，当计算机程序产品在计算机上执行时，计算机执行第一方面或第一方面任一种可选方式所提供的方法。本申请实施例第十三方面提供了一种计算机程序产品，当计算机程序产品在计算机上执行时，计算机执行第二方面或第二方面任一种可选方式所提供的方法。本申请实施例第十四方面提供了一种芯片，当该芯片在设备上运行时，使得设备执行上述第一方面或第一方面任一种可选方式所提供的方法。本申请实施例第十五方面提供了一种芯片，当该芯片在设备上运行时，使得设备执行上述第二方面或第二方面任一种可选方式所提供的方法。附图说明图1为本申请实施例中的基站系统结构示意图；图2为本申请实施例中的另一种基站系统示意图；图3为本申请实施例中的一种天线切换的方法示意图；图4为本申请实施例中的另一种基站系统示意图；图5为本申请实施例中的另一种基站系统示意图；图6为本申请实施例中的另一种基站系统示意图；图7为本申请实施例中的另一种基站系统示意图；图8为本申请实施例提供的一种通信设备的结构示意图；图9为本申请实施例提供的另一种通信设备的结构示意图；图10为本申请实施例提供的另一种通信设备的结构示意图；图11为本申请实施例提供的另一种通信设备的结构示意图；图12为本申请实施例提供的一种网络系统的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”、“第四”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的实施例能够以除了在这里图示或描述的内容以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。在本申请实施例中，“示例性的”或者“例如”等词用于表示作例子、例证或说明。本申请实施例中被描述为“示例性的”或者“例如”的任何实施例或设计方案不应被解释为比其它实施例或设计方案更优选或更具优势。确切而言，使用“示例性的”或者“例如”等词旨在以具体方式呈现相关概念。以下，对本申请中的部分用语进行解释说明，以便于本领域技术人员理解。基站，也称基站收发台，用于通过空中接口传送业务和信令，是网络中将终端接入到无线网络的部分。一个典型基站通常由基带单元BBU、射频拉远单元RRU和天线三部分组成。基带单元是分布式基站的组成部分，主要完成信号的基带处理，以及提供传输管理及接口，管理无线资源，提供时钟信号等功能，基带处理包括信道编解码、调制解调等。射频拉远单元是分布式基站的组成部分，主要完成信号的无线处理，包括中频处理、射频处理、双工等功能。中频处理包括数字同向正交调制解调、上下变频、数模/模数转换。天线是一种电磁能量转换装置，其基本功能是辐射和接收无线电波。发射时，把高频电流转换为电磁波，接收时，把电磁波转换为高频电流。扇区是一个空间区域，每一面天线覆盖的一片区域就是一个扇区。小区是采用基站识别码或全球小区识别码进行标识的无线覆盖的区域。请参阅图1，图1示出了一个典型的基站系统结构，其中包括基带单元BBU、射频拉远单元RRU和天线。图1中基带单元BBU与RRU1和RRU2相连接，RRU1与天线1之间有两条传输通道分别为通道1和通道2，RRU2与天线2之间也有两条传输通道。可以理解的是，本申请实施例中一个BBU也可以与两个以上RRU相连接，每个RRU对应一个天线，每个RRU的通道端口与天线端口相连接，RRU和天线之间可以有多条通道。本申请实施例中的基站系统包括BBU、RRU、数字开关和天线四个部分组成，下面对本申请实施例中的基站系统进行介绍：请参阅图2，图2示出了本申请实施例中的基站系统。该基站系统包括BBU、RRU、数字开关和N面天线，其中RRU通过数字开关同时连接N面天线，每面天线负责覆盖一个扇区。图2中RRU有M个通道，“T/RX 1”为RRU的第一个通道端口，“T/RX M”为RRU的第M个通道端口。天线有M个端口，数字开关中集成M个切换开关，其中每个切换开关采用1对N的连接关系，第k个切换开关负责连接RRU中的第k个通道,以及天线1至天线N中第k个端口。在任意时刻，第k个切换开关只允许RRU中的第k个通道与某一个天线的第k个端口处于有效连接状态，第k个通道与其他天线的第k个端口都处于断开状态，其中1≤k≤M。本申请实施例中数字开关包括至少一个切换开关，每个切换开关中，RRU通道与各天线端口之间的通断状态切换开关控制，切换开关根据BBU的控制模块发送的标识进行天线的切换。BBU的控制模块根据空口传输信息确定该标识。RRU通道与各天线之间通过数字开关中的切换开关进行切换，RRU的每一个通道都会对应一个数字开关中的切换开关，其中每个切换开关的开关状态是BBU的控制模块独立控制的，可以相同，也可以不相同，具体此处不作限定。例如在同一个时间单元，RRU中的“T/RX 1”通道与天线1中的端口1通过数字开关中的切换开关1连接，而RRU中的“T/RX 2”通道与天线2中的端口2通过数字开关中的切换开关2连接，此时数字开关中的切换开关1和切换开关2分别连接了不同的天线。请参阅图3，本申请实施例中的天线切换方法的流程包括：S301、第一通信设备根据空口传输信息确定第一天线标识；本申请实施例中的第一通信设备可以多种通信设备，例如可以是BBU,可以是有源天线单元的物理层处理模块，具体此处不做限定。本申请实施例中的第二通信设备可以是多种通信设备，例如可以是RRU，也可以是AAU的部分模块，具体此处不做限定。下面以基带单元BBU作为第一通信设备，射频拉远单元RRU作为第二通信设备，由BBU、数字开关和RRU组成的基站作为第一网络设备介绍本申请实施例提供的天线切换方法：BBU根据空口传输信息确定第一天线标识，该第一天线标识对应第一开关状态，第一开关状态表示在第一时间单元内RRU与第一天线通信。BBU根据空口传输信息确定第一天线标识包括多种情况,下面分别进行说明：1、BBU将天线编号或者扇区编号作为第一天线标识。在一个示例中，BBU在一个时间单元内扫描所有待发送或者待接收数据的扇区，然后根据时分复用算法确定出一个扇区作为该时间单元内所要连接的扇区，BBU将该扇区的扇区编号，或者该扇区对应的天线编号作为第一天线标识。此时，第一开关状态表示在该时间单元内RRU与该扇区对应的天线处于连接状态，RRU可以与该扇区对应的天线通信。在另一个示例中，基带单元BBU中的控制模块扫描在第一时间单元内需要接收或发送的业务数据所对应的扇区编号，再根据时分复用算法确定出一个扇区编号，该扇区编号所对应的天线为第一时间单元内RRU所要连接的天线，BBU将该天线的天线编号确定为第一天线标识。此时，第一开关状态表示RRU在该时间单元内与该天线处于连接状态，RRU可以与该扇区对应的天线通信。在另一个示例中，基带单元BBU中的控制模块扫描在第一时间单元内需要接收或发送的业务数据所对应的扇区编号，再根据时分复用算法确定出一个扇区编号，BBU将该扇区编号确定为第一天线标识。此时，第一开关状态表示RRU在该时间单元内与时分复用算法确定的扇区所对应的天线处于连接状态，RRU可以与该扇区对应的天线通信。本申请实施例中的时分复用算法包括以下多种情况，下面分别进行说明：如果在一个时间单元内空口传输信息为单个扇区的业务数据，即BBU在该时间单元内所需要发送或接收的业务数据为单个扇区的业务数据，那么BBU将该扇区的扇区编号作为第一天线标识，或者BBU将该扇区所对应的天线编号作为第一天线标识。如果在一个时间单元内空口传输信息为多个扇区的业务数据，即BBU所需要发送或接收的业务数据为多个扇区的业务数据，则BBU需要将根据多个扇区的业务数据的优先级确定第一天线标识，具体的，BBU的控制模块可以将多个扇区的业务数据中业务优先最高的业务数据所在的扇区作为该时间单元内RRU所要连接的扇区，BBU将该该扇区的扇区编号作为第一天线标识，或者BBU将该扇区对应的天线编号作为第一天线标识。本申请实施例中，BBU可以根据所需要发送或接收的业务数据的优先级选择对应的扇区编号作为目标扇区编号，BBU从而控制RRU设备资源能够分配给优先级高的业务数据对应的天线，从而将基站系统的RRU设备价值最大化，提高了基站系统的效率。如果在一个时间单元内空口传输信息为空白信息，即BBU没有所需待发送或者待接收的业务数据，则BBU选择天线集合中所有天线编号中的任意一个天线编号、任意一个天线编号对应扇区编号作为第一天线标识。本申请实施例中，若第一时间单元内BBU没有所需要发送的业务数据，BBU将天线编号集合中任意一个作为第一天线标识，例如，BBU可以将上一个时间单元内的天线编号作为第一天线标识，当BBU将上一个时间单元内的天线编号作为第一天线标识时，BBU的控制控制模块可以不用执行任何指令，进一步降低的基站系统的功耗。2、BBU将SSB编号、天线编号或扇区编号作为第一天线标识。在新空口网络下，BBU根据空口传输信息确定第一天线标识之前，BBU将基站中的多个扇区组成小区,BBU为小区中的每个扇区分配独立的同步信号和物理广播信道块，每个扇区对应一个天线编号，该小区包括第一天线对应的扇区和第二天线对应的扇区。BBU根据空口传输信息确定第一天线标识，当空口传输信息为SSB的业务数据，BBU将SSB的编号、SSB对应的天线编号或SSB对应的扇区编号中的至少一种作为第一天线标识。在一个示例中，BBU将基站中的多个扇区组成一个小区，该小区包括了第一天线对应的扇区和第二天线对应的扇区，BBU为每一个扇区分配独立的SSB，每个扇区对应一个天线编号，由于SSB编号、扇区编号和天线编号存在对应关系，空口传输信息可以是单个SSB的业务数据，也可是多个SSB的业务数据，还可以是不存在业务数据的空白信息具体此处不做限定。请参阅表1，表1示出了BBU为扇区分配SSB后天线编号、扇区编号和SSB编号之间的对应关系，例如，SSB0对应扇区编号1、对应天线编号1。表1天线编号扇区编号SSB编号11SSB022SSB1………NNSSB如果空口传输信息为SSB的业务数据，BBU根据时分复用算法将SSB的业务数据对应的SSB编号、SSB对应扇区编号或者SSB对应的天线编号的确定为第一天线标识。具体的，BBU根据时分复用算法确定第一天线标识的过程，与空口传输信息为扇区的业务数据时确定第一天线标识的过程类似，此处不再赘述。本申请实施例中提供的天线切换方法将多个天线对应的扇区和成一个小区，并且对每面天线对应的扇区分配SSB。一个小区中包含多个扇区，每个扇区对应一个天线，相较于单小区对应的单扇区的模式，本申请实施例提供的天线切换方法让单个小区下的多个天线时分复用，实现了更加灵活的小区覆盖。本申请实施例中第一天线标识可以指示数字开切换RRU与不同天线的连接，第一天线标识可以是该天线的天线编号，也可以是该天线对应的扇区的扇区编号或与该天线对应的SSB编号，具体此处不做限定。本申请实施例中空口传输信息包括在该时间单元内待发送或者待接收数据，空口传输信息可以是单个扇区的业务数据，也可以是多个扇区的业务数据，还可以是不存在业务数据的空白信息，具体此处不做限定。本申请实施例中BBU也可以根据空口传输信息生成第一天线标识，具体的，BBU在一个时间单元内扫描待发送或者待接收的业务数据，BBU根据该时间单元内待发送或者待接收的业务数据所在的扇区生成一个扇区编号或者天线编号作为第一天线标识，该扇区编号或天线编号对应该时间单元内待发送或者待接收的业务数据所在的扇区。S302、第一通信设备向数字开关发送第一天线标识；BBU向数字开关发送第一天线标识。第一天线标识用于指示数字开关将第二开关状态切换为第一开关状态，第二开关状态表示在第二时间单元内所述RRU与第二天线通信。数字开关包括至少一个切换开关，切换开关的数量大于等于所述RRU的通道数量,数字开关通过切换开关接收BBU发送的第一天线标识，数字开关通过切换开关根据第一天线标识将第二开关状态切换为第一开关状态。BBU向数字开关发送第一天线标识包括以下多种示例：在一个示例中，BBU的控制模块向数字开关中第一天线标识所对应的切换开关发送第一天线标识，由于数字开关中的每一个切换开关都会对应一个天线标识，不同的切换开关之间可以独立控制，也可以协同控制，具体此处不做限定。在每一个时间单元内，不同切换开关之间的状态可以相同，也可以不同。可以理解的是，如果单个天线标识对应RRU的单条收发通道和单个天线的收发通道，BBU的控制模块实现对数字开关中的切换开关独立控制。如果单个天线标识对应RRU的多条收发通道和多个天线的收发通道，BBU的控制模块实现对数字开关中的切换开关的协同控制。在另一个示例中，BBU的控制模块可以直接向数字开关发送第一天线标识，也可以通过RRU向数字开关发送第一天线标识，具体此处不作限定。可以理解的是，BBU可以通过单独的数字开关控制通道向数字开关发送第一天线标识，也可以通过当前时间单元内RRU与数字开关连接数据收发通道，向数字开关发送第一天线标识，具体此处不做限定。BBU的控制模块向数字开关发送第一天线标识之后，BBU的控制模块将第一天线标识对应的扇区信息发送给BBU的基带模块，下面结合图2说明：在一个示例中，BBU的控制模块向数字开关发送第一天线标识之后，BBU的控制模块将第一天线标识对应的扇区编号发送给BBU的基带模块，该扇区编号的传输方向为从BBU的控制模块A到BBU的基带模块B。本申请实施例中的扇区信息包括了扇区编号、天线编号和SSB编号。BBU的基带模块向第一天线标识对应的天线传输业务数据，该业务数据包括上行数据和下行数据。BBU的基带模块向扇区信息对应的天线发送业务数据，或者，BBU的基带模块接收扇区信息对应的天线收到的业务数据。下面结合图2举例说明：请参阅图2，BBU的基带单元获取到扇区编号之后，BBU的基带模块可以与扇区编号对应的天线传输上行数据，上行数据的传输方向为从BBU的基带模块B，经过RRU的收发通道C和数字开关的切换开关D，到天线端口E，此过程BBU的基带模块向扇区信息对应的天线发送业务数据。请参阅图2，BBU的控制模块也可以与扇区编号对应的天线传输下行数据，下行数据输出方向为从天线端口E，经过数字开关的切换开关D和RRU的收发通道C，到BBU的基带模块B，此过程BBU的基带模块接收扇区信息对应的天线收到的业务数据。S303、数字开关根据第一天线标识将第二开关状态切换为第一开关状态；数字开关接收到BBU的控制模块发送的第一天线标识，该第一天线标识可以让数字开关在一个时间单元内切换至RRU所要连接的天线。数字开关中包含至少一个切换开关，数字开关中的一个或多个切换开关根据第一天线标识从第二开关状态切换为第一开关状态，第一开关状态对应第一时间单元内RRU通过切换开关与天线的连接状态，第二开关状态对应第二时间单元内RRU通过切换开关与天线的连接状态。例如,第一开关状态下RRU在第一时间单元内通过切换开关第一天线连接，第二开关状态为RRU在第二时间单元内通过切换开关第二天线连接。具体的，数字开关根据第一天线标识将第二开关状态切换为第一开关状态可以理解为RRU由第二时间单元内与第二天线通信切换为在第一时间单元内与第一天线通信，可以理解的是，第二时间单元为第一时间单元之后的一个时间单元，例如，第一时间单元对应于时隙SLOT1，第二时间单元对应于时隙SLOT2。在一个示例中，第一开关状态下数字开关的切换开关将RRU与第一天线连接，此时RRU与第一天线可以处于通信状态。第二开关状态下数字开关的切换开关将RRU与第二天线连接，此时RRU与第二天线可以处于通信状态。当时间单元由第二时间单元到第一时间单元，数字开关中的切换开关也由第二开关状态切换为第一开关状态，此时，RRU与第二天线通信切换为与第一天线通信。本申请实施例中，数字开关根据基带单元发送的天线标识，将射频拉远单元RRU的通道连接的天线切换为该天线标识对应的天线，这样多个天线可以在单个RRU的通道上切换，从而实现了RRU设备资源的在不同时间单元的分配复用，同样信号覆盖的情况下减少了RRU设备的数量，从而有效降低了RRU设备成本，提升了RRU设备资源的利用率。可以理解的是，本申请实施例中切换方法可以支持2个以上天线之间的切换，具体切换过程与2个天线之间的切换类似，此处不再赘述。请参阅图4，图4示出了3个天线的基站系统结构示意图。若第二时间单元内下行业务数据的传输方向为从BBU基带模块402，经过RRU的T/RX1通道403和切换开关404，到天线端口406。切换开关404接收BBU的发动的第天线标识之后，切换开关404由第二开关状态切换为第一开关状态，则在第一时间单元内，下行业务数据的传输方向为从BBU基带模块402，经过RRU T/RX1通道403和切换开关404到天线端口405。本申请实施例中的时间单元包括符号、时隙SLOT、子帧、帧或传输时间间隔TTI，符号是NR网络和LTE网络中信号调制的基本时间单位，在NR网络中，时隙SLOT作为数据调度的最小时间单位，在LTE网络中，子帧作为数据调度的最小时间单位。本申请实施例可以应用于多种无线移动网络之中，包括全球移动通讯系统、通用移动通讯系统、长期演进、新空口网络，具体此处不做限定。下面以第五代移动通信技术NR网络为例介绍本申请实施例提供的天线切换方法，包括：请参阅表2，表2举例了NR网络系统中单个RRU连接2面天线时的切换过程，其中该系统的SSB的扫描周期为10SLOT。在SLOT0和SLOT10的时间单元中，每个SLOT又分为两个部分，若BBU在一个SLOT的前半个SLOT内需要发送SSB0的业务数据，在一个SLOT的后半个SLOT内需要发送SSB1的业务数据,则在SLOT0的前半SLOT内，BBU向数字开关中的切换开关发送SSB0对应的天线编号1，在SLOT0的后半SLOT内，BBU向数字开关中的切换开关发送SSB1对应的天线编号2，切换开关接收到对应的天线编号之后，将RRU与天线编号对应的天线连接。可以理解的是，在一个SLOT有14个符号，空口传输信息并不限定为前半个SLOT下的符号内发送SSB0的业务数据,后半个SLOT下的符号内发送SSB1的业务数据,空口传输信息也可以是一个SLOT下的特定的几个符号内发送SSB的业务数据，则切换开关在这些符号内切换为该SSB对应的天线编号。请参阅表2，在SLOT1、SLOT5、SLOT18、SLOT20内，空口传输信息为扇区1的业务数据，则切换开关连接天线编号1，在SLOT3、SLOT12、SLOT13内，空口传输信息为扇区2的业务数据，则切换开关连接天线编号2，在其他SLOT内，空口传输信息不存在，则BBU向切换开关从所有天线编号发送任意一个天线编号，该天线编号可以与上一时间单元内的天线编号相同，例如，在SLOT8内，切换开关所连接的天线编号为与SLOT内连接的天线编号相同，均为天线编号1。表2下面以第4代移动通信技术LTE网络为例介绍本申请实施例提供的天线切换方法，包括：本申请实施例中基站系统每一个天线对应一个扇区，每个子帧内BBU向数字开关中的切开关发送根据空口传输信息确定的天线编号。请参阅表3，表3举例了4G LTE网络系统中单个RRU连接2面天线时的切换过程，在子帧0、子帧1、子帧5、子帧18、子帧20内，空口传输信息为扇区1的业务数据，则切换开关连接天线编号1，在子帧3、子帧10、子帧12、子帧13内，空口传输信息为扇区2的业务数据，则切换开关连接天线编号2，在其他子帧内，空口传输信息不存在，则BBU向切换开关从所有天线编号发送任意天线编号，该天线编号可以与上一时间单元内的天线编号相同，也可以不同，具体此处不做限定。表3本申请实施例中数字开关的数字开关可以是一个独立的设备，也可作为RRU中的一个模块，还可以作为天线中的一个数字开关模块,具体此不做限定。请参阅图5，图5为一种基站系统的架构示意图，其中数字开关作为一个独立的设备与RRU和天线1、天线2以及天线3相连接，RRU的每一个收发通道都通过该数字开关设备与3个天线连接，该数字开关接收来接BBU的切换指令，从而实现在三个天线之间切换与RRU的连接。请参阅图6，图6为另一种基站系统的架构示意图，其中数字开关作为一个模块集成在RRU中，天线1、天线2以及天线3与RRU中的数字开关连接，RRU中的数字开关接收来接BBU的切换指令，从而实现在三个天线之间切换与RRU的连接。请参阅图7，图7为另一种基站系统的架构示意图，其中数字开关作为一个模块集成在天线中，具体可以集成在基站多个天线中的任意一个天线之中，具体此处不做限定。图7中天线1和天线3与天线2中的数字开关相连接，天线2中的数字开关接收来接BBU的切换指令，从而实现在三个天线之间切换与RRU的连接。以上介绍本申请实施例中的天线切换方法，下面以基带单元BBU作为第一通信设备，RRU作为第二通信设备，以BBU、数字开关和RRU组成的基站作为第一网络设备介绍本申请实施例中的装置：请参阅图8，图8为本申请实施例中的BBU的一个示意图，本申请实施例BBU装置的一个实施例包括：确定单元801，用于根据空口传输信息确定第一天线标识，该第一天线标识对应第一开关状态，第一开关状态表示在第一时间单元内射频拉远单元RRU与第一天线通信；发送单元802，用于向数字开关发送第一天线标识，第一天线标识用于数字开关将第二开关状态切换为第一开关状态，第二开关状态表示在第二时间单元内RRU与第二天线通信，第一时间单元出现在第二时间单元之后。在本申请一些可选的实施例中，确定单元801，还用于：向BBU的基带模块发送第一天线标识对应的扇区信息；向扇区信息对应的天线发送业务数据，或者，接收扇区信息对应的天线收到的业务数据。在本申请一些可选的实施例中，确定单元801，还用于：将基站中的多个扇区组成小区；为小区中的每个扇区分配独立的同步信号和物理广播信道块SSB，每个扇区对应一个天线编号，小区包括第一天线对应的扇区和第二天线对应的扇区；在本申请一些可选的实施例中，确定单元801具体用于：当空口传输信息为SSB的业务数据，将SSB的编号、SSB对应的扇区编号或SSB对应的天线编号作为第一天线标识。在本申请一些可选的实施例中，确定单元801具体用于：若空口传输信息为单个扇区的业务数据，则将单个扇区的扇区编号或单个扇区对应的天线编号作为第一天线标识。在本申请一些可选的实施例中，确定单元801具体用于：若口传输信息为多个扇区的业务数据，则根据多个扇区的业务数据的优先级确定扇区编号；将扇区编号或扇区编号对应的天线编号作为第一天线标识。在本申请一些可选的实施例中，确定单元801具体用于：若空口传输信息不存在业务数据，则将天线编号集合中任意一个天线编号或该天线编号对应的扇区编号作为第一天线标识，天线编号集合包括K个天线对应的编号，K为大于或等于2的整数。请参阅图9，图9为本申请实施例中的数字开关的一个示意图，本申请实施例BBU装置的一个实施例包括：接收单元901，用于接收基带单元BBU发送的第一天线标识，第一天线标识对应第一开关状态，第一开关状态表示第一时间单元内射频拉远单元RRU与第一天线通信；处理单元902，用于根据第一天线标识将第二开关状态切换为第一开关状态，第二开关状态表示第二时间单元内RRU与第二天线通信，第一时间单元出现在第二时间单元之后。在本申请一些可选的实施例中，数字开关包括至少一个切换开关，且切换开关的数量大于等于RRU的通道数量；在本申请一些可选的实施例中，接收单元901具体用于通过切换开关接收BBU发送的第一天线标识；在本申请一些可选的实施例中，处理单元902具体用于通过切换开关根据第一天线标识将第二开关状态切换为第一开关状态。请参阅图10，图10是本申请实施例提供的一种BBU结构示意图，该BBU1000可以包括一个或一个以上中央处理器1001和存储器1005，该存储器1005中存储有一个或一个以上的应用程序或数据。其中，存储器1005可以是易失性存储或持久存储。存储在存储器1005的程序可以包括一个或一个以上模块，每个模块可以包括对服务器中的一系列指令操作。更进一步地，中央处理器1001可以设置为与存储器1005通信，在BBU1000上执行存储器1005中的一系列指令操作。BBU1000还可以包括一个或一个以上电源1002，一个或一个以上有线或无线网络接口1003，一个或一个以上输入输出接口1004，和/或，一个或一个以上操作系统，例如Windows ServerTM，Mac OS XTM，UnixTM,LinuxTM，FreeBSDTM等。BBU 1000可以执行前述图1至图7所示实施例中BBU所执行的操作，具体此处不再赘述。请参阅图11，图11为一种可能的数字开关的结构示意图。该数字开关包括处理器1101、存储器1102。该处理器1101、存储器1102通过线路相互连接。其中，存储器1102用于存储程序指令和数据。需要说明的是，处理器1101用于执行上述图3所示步骤中根据天线标识切换开关状态的操作。本申请实施例还提供一种数字处理芯片。该数字处理芯片中集成了用于实现上述处理器1101的功能的电路和一个或者多个接口。当该数字处理芯片中集成了存储器时，该数字处理芯片可以完成前述实施例中的任一个或多个实施例的方法步骤。当该数字处理芯片中未集成存储器时，可以通过接口与外置的存储器连接。该数字处理芯片根据外置的存储器中存储的程序代码来实现上述实施例中光传输设备执行的动作。请参阅图12，本申请实施例提供了一种网络系统1200，系统1200包括：BBU1201和数字开关1202。可选的，BBU1201为如BBU800或BBU1000，数字开关1202为数字开关900或数字开关1100。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统，装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本申请所提供的几个实施例中，应该理解到，所揭露的系统，装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。
