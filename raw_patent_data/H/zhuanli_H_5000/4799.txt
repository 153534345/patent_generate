标题title
信息采集方法、系统、路侧系统及存储介质
摘要abst
本申请涉及一种信息采集方法、系统、路侧系统及存储介质，该方法包括：当目标路侧单元处于在线状态时，从目标路侧单元获取异常信息；当目标路侧单元处于离线状态，且同一目标区域中的边缘计算单元处于在线状态时，则通过边缘计算单元从目标路侧单元获取异常信息；当目标路侧单元处于离线状态，且同一目标区域中的边缘计算单元处于离线状态时，则通过辅助路侧单元从目标路侧单元获取异常信息。该方法应用于路侧系统，路侧系统包括云端管控平台，以及与云端管控平台通信的路侧单元、边缘计算单元、运维服务器，解决了相关技术中存在的路侧单元故障时需要现场访问来进行异常日志或抓包数据的采集的问题。
权利要求书clms
1.一种信息采集方法，应用于路侧系统，所述路侧系统包括云端管控平台，以及与所述云端管控平台通信的路侧单元、边缘计算单元、运维服务器，其中，作为信息采集对象的目标路侧单元与同一目标区域中的所述边缘计算单元通信，并与相邻区域中的辅助路侧单元通信，所述运维服务器用于通过所述云端管控平台获取所述目标路侧单元的异常信息；其特征在于，所述方法包括：当所述目标路侧单元处于在线状态时，从所述目标路侧单元获取所述异常信息；当所述目标路侧单元处于离线状态，且同一目标区域中的所述边缘计算单元处于在线状态时，则通过所述边缘计算单元从所述目标路侧单元获取所述异常信息；当所述目标路侧单元处于离线状态，且同一目标区域中的所述边缘计算单元处于离线状态时，则通过所述辅助路侧单元从所述目标路侧单元获取所述异常信息。2.根据权利要求1所述的方法，其特征在于，所述当所述目标路侧单元处于在线状态时，从所述目标路侧单元获取所述异常信息包括：在所述云端管控平台与所述目标路侧单元之间建立第一反向SSH隧道；基于所述第一反向SSH隧道获取所述异常信息。3.根据权利要求1所述的方法，其特征在于，所述通过所述边缘计算单元从所述目标路侧单元获取所述异常信息包括：在所述目标路侧单元与所述边缘计算单元之间建立第二反向SSH隧道；在所述边缘计算单元与所述云端管控平台之间建立第三反向SSH隧道；基于所述第二反向SSH隧道和第三反向SSH隧道获取所述异常信息。4.根据权利要求1所述的方法，其特征在于，所述通过所述辅助路侧单元从所述目标路侧单元获取所述异常信息包括：所述辅助路侧单元通过PC5空口获取所述目标路侧单元的所述异常信息；在所述辅助路侧单元与所述云端管控平台之间建立第四反向SSH隧道；基于所述第四反向SSH隧道获取所述异常信息。5.根据权利要求4所述的方法，其特征在于，所述辅助路侧单元通过PC5空口获取所述目标路侧单元的所述异常信息包括：向所述辅助路侧单元发送所述目标路侧单元的设备信息和获取所述异常信息的指令；所述辅助路侧单元通过PC5空口广播请求信息，并获取所述目标路侧单元的响应信息，所述请求信息和响应信息均包括所述辅助路侧单元与所述目标路侧单元的设备信息；所述响应信息还包括所述目标路侧单元的异常信息。6.根据权利要求2所述的方法，其特征在于，所述云端管控平台包括SSH代理服务器，所述在所述云端管控平台与所述目标路侧单元之间建立第一反向SSH隧道，基于所述第一反向SSH隧道获取所述异常信息包括：向所述目标路侧单元发送所述SSH代理服务器的配置信息，并开启所述SSH代理服务器的反向穿透功能；所述配置信息包括所述SSH代理服务器的IP地址、侦听端口和空闲端口；将所述目标路侧单元的本地侦听端口与所述空闲端口绑定；所述运维服务器通过所述空闲端口与所述SSH代理服务器连接。7.根据权利要求1所述的方法，其特征在于，所述方法还包括：将所述目标路侧单元注册在所述云端管控平台中，并获取所述目标路侧单元的设备信息；所述目标路侧单元基于所述设备信息创建无线热点；向所述目标路侧单元发送SSH公钥私钥对；基于所述SSH公钥私钥对完成所述目标路侧单元的SSH登录认证。8.一种信息采集系统，应用于路侧系统，所述路侧系统包括云端管控平台，以及与所述云端管控平台通信的路侧单元、边缘计算单元、运维服务器，其中，作为信息采集对象的目标路侧单元与同一目标区域中的所述边缘计算单元通信，并与相邻区域中的辅助路侧单元通信，所述运维服务器用于通过所述云端管控平台获取所述目标路侧单元的异常信息；其特征在于，所述信息采集系统包括：第一获取模块，用于当所述目标路侧单元处于在线状态时，从所述目标路侧单元获取所述异常信息；第二获取模块，用于当所述目标路侧单元处于离线状态，且同一目标区域中的所述边缘计算单元处于在线状态时，通过所述边缘计算单元从所述目标路侧单元获取所述异常信息；第三获取模块，用于当所述目标路侧单元处于离线状态，且同一目标区域中的所述边缘计算单元处于离线状态时，通过所述辅助路侧单元从所述目标路侧单元获取所述异常信息。9.一种路侧系统，其特征在于，包括云端管控平台、路侧单元、边缘计算单元、运维服务器；其中，所述云端管控平台，与所述路侧单元、边缘计算单元、运维服务器通信；所述路侧单元包括目标路侧单元和辅助路侧单元，所述目标路侧单元与相邻区域中的所述辅助路侧单元通信；所述边缘计算单元，与同一目标区域中的所述目标路侧单元通信；所述运维服务器，通过权利要求1～7任一项所述的信息采集方法获取所述目标路侧单元的异常信息。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至7中任一项所述的信息采集方法的步骤。
说明书desc
技术领域本申请涉及车用通信技术领域，特别是涉及一种信息采集方法、系统、路侧系统及存储介质。背景技术车用无线通信技术是车辆与一切事物相连接的新一代信息通信技术。路侧单元是车用无线通信技术业务场景中的关键设备，通常通过PC5及Uu通信方式将信息传输至车辆和云端，以实现车速引导、限速预警、拥堵提醒等应用。路侧单元的部署环境通常是一个目标区域内包括一台路侧单元和多台边缘计算单元，边缘计算单元负责将前端采集的感知数据融合并发送给路侧单元，路侧单元负责将感知数据通过PC5空口发送给周围车辆的车载单元模块，实现车路协同交互，并采用边缘部署统一上云方案，实现车路云一体化。路侧单元在应用场景中处于局域网环境下，在设备需要调试或出现故障时运维人员无法直接远程访问，通常需要前往现场访问路侧单元的设备后台来进行异常日志或抓包数据的采集，需要耗费较多时间与人力。如何在路侧单元设备出现问题时方便运维人员快速搜集设备异常信息，成为亟待解决的问题。对此，相关技术中还没有提出有效的解决方案。发明内容在本实施例中提供了一种信息采集方法、系统、路侧系统及存储介质，以解决相关技术中存在的路侧单元故障时需要现场访问来进行异常日志或抓包数据的采集的问题。第一个方面，在本实施例中提供了一种信息采集方法，应用于路侧系统，所述路侧系统包括云端管控平台，以及与所述云端管控平台通信的路侧单元、边缘计算单元、运维服务器，其中，作为信息采集对象的目标路侧单元与同一目标区域中的所述边缘计算单元通信，并与相邻区域中的辅助路侧单元通信，所述运维服务器用于通过所述云端管控平台获取所述目标路侧单元的异常信息；所述方法包括：当所述目标路侧单元处于在线状态时，从所述目标路侧单元获取所述异常信息；当所述目标路侧单元处于离线状态，且同一目标区域中的所述边缘计算单元处于在线状态时，则通过所述边缘计算单元从所述目标路侧单元获取所述异常信息；当所述目标路侧单元处于离线状态，且同一目标区域中的所述边缘计算单元处于离线状态时，则通过所述辅助路侧单元从所述目标路侧单元获取所述异常信息。在其中的一些实施例中，所述当所述目标路侧单元处于在线状态时，从所述目标路侧单元获取所述异常信息包括：在所述云端管控平台与所述目标路侧单元之间建立第一反向SSH隧道；基于所述第一反向SSH隧道获取所述异常信息。在其中的一些实施例中，所述通过所述边缘计算单元从所述目标路侧单元获取所述异常信息包括：在所述目标路侧单元与所述边缘计算单元之间建立第二反向SSH隧道；在所述边缘计算单元与所述云端管控平台之间建立第三反向SSH隧道；基于所述第二反向SSH隧道和第三反向SSH隧道获取所述异常信息。在其中的一些实施例中，所述通过所述辅助路侧单元从所述目标路侧单元获取所述异常信息包括：所述辅助路侧单元通过PC5空口获取所述目标路侧单元的所述异常信息；在所述辅助路侧单元与所述云端管控平台之间建立第四反向SSH隧道；基于所述第四反向SSH隧道获取所述异常信息。在其中的一些实施例中，所述辅助路侧单元通过PC5空口获取所述目标路侧单元的所述异常信息包括：向所述辅助路侧单元发送所述目标路侧单元的设备信息和获取所述异常信息的指令；所述辅助路侧单元通过PC5空口广播请求信息，并获取所述目标路侧单元的响应信息，所述请求信息和响应信息均包括所述辅助路侧单元与所述目标路侧单元的设备信息；所述响应信息还包括所述目标路侧单元的异常信息。在其中的一些实施例中，所述云端管控平台包括SSH代理服务器，所述在所述云端管控平台与所述目标路侧单元之间建立第一反向SSH隧道，基于所述第一反向SSH隧道获取所述异常信息包括：向所述目标路侧单元发送所述SSH代理服务器的配置信息，并开启所述SSH代理服务器的反向穿透功能；所述配置信息包括所述SSH代理服务器的IP地址、侦听端口和空闲端口；将所述目标路侧单元的本地侦听端口与所述空闲端口绑定；所述运维服务器通过所述空闲端口与所述SSH代理服务器连接。在其中的一些实施例中，所述信息采集方法还包括：将所述目标路侧单元注册在所述云端管控平台中，并获取所述目标路侧单元的设备信息；所述目标路侧单元基于所述设备信息创建无线热点；向所述目标路侧单元发送SSH公钥私钥对；基于所述SSH公钥私钥对完成所述目标路侧单元的SSH登录认证。第二个方面，在本实施例中提供了一种信息采集系统，应用于路侧系统，所述路侧系统包括云端管控平台，以及与所述云端管控平台通信的路侧单元、边缘计算单元、运维服务器，其中，作为信息采集对象的目标路侧单元与同一目标区域中的所述边缘计算单元通信，并与相邻区域中的辅助路侧单元通信，所述运维服务器用于通过所述云端管控平台获取所述目标路侧单元的异常信息；所述信息采集系统包括：第一获取模块，用于当所述目标路侧单元处于在线状态时，从所述目标路侧单元获取所述异常信息；第二获取模块，用于当所述目标路侧单元处于离线状态，且同一目标区域中的所述边缘计算单元处于在线状态时，通过所述边缘计算单元从所述目标路侧单元获取所述异常信息；第三获取模块，用于当所述目标路侧单元处于离线状态，且同一目标区域中的所述边缘计算单元处于离线状态时，通过所述辅助路侧单元从所述目标路侧单元获取所述异常信息。第三个方面，在本实施例中提供了一种路侧系统，包括云端管控平台、路侧单元、边缘计算单元、运维服务器；其中，所述云端管控平台，与所述路侧单元、边缘计算单元、运维服务器通信；所述路侧单元包括目标路侧单元和辅助路侧单元，所述目标路侧单元与相邻区域中的所述辅助路侧单元通信；所述边缘计算单元，与同一目标区域中的所述目标路侧单元通信；所述运维服务器，通过上述第一个方面所述的信息采集方法获取所述目标路侧单元的异常信息。第四个方面，在本实施例中提供了一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上述第一个方面所述的信息采集方法。与相关技术相比，在本实施例中提供的信息采集方法，应用于路侧系统以获取目标路侧单元的异常信息，路侧系统包括云端管控平台，以及与云端管控平台通信的路侧单元、边缘计算单元、运维服务器；当需要进行信息采集的目标路侧单元在线时，运维服务器通过云端管控平台从目标路侧单元获取异常信息；当目标路侧单元离线且与该目标路侧单元在同一目标区域内的边缘计算单元在线时，由于该边缘计算单元与该目标路侧单元通信连接，因此运维服务器通过云端管控平台连接边缘计算单元，再通过边缘计算单元连接目标路侧单元获取异常信息；当该目标路侧单元离线且同一目标区域内的边缘计算单元也离线时，由于该目标路侧单元与相邻区域的辅助路侧单元通信，运维服务器通过云端管控平台连接该辅助路侧单元获取异常信息；即运维服务器通过远程连接，收集目标路侧单元的异常信息，解决了相关技术中存在的路侧单元故障时需要现场访问来进行异常日志或抓包数据的采集的问题。本申请的一个或多个实施例的细节在以下附图和描述中提出，以使本申请的其他特征、目的和优点更加简明易懂。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1是本实施例的信息采集方法的应用系统示意图；图2是本实施例的信息采集方法的流程图；图3是本实施例的通过边缘计算单元的信息采集方法的流程图；图4是本实施例的通过辅助路侧单元的信息采集方法的流程图；图5是本实施例的辅助路侧单元通过PC5空口获取异常信息的流程图；图6是本实施例的通过SSH代理服务器建立第一反向SSH隧道的流程图；图7是本优选实施例的信息采集方法的流程图；图8是本实施例的信息采集系统的结构框图。具体实施方式为更清楚地理解本申请的目的、技术方案和优点，下面结合附图和实施例，对本申请进行了描述和说明。除另作定义外，本申请所涉及的技术术语或者科学术语应具有本申请所属技术领域具备一般技能的人所理解的一般含义。在本申请中的“一”、“一个”、“一种”、“该”、“这些”等类似的词并不表示数量上的限制，它们可以是单数或者复数。在本申请中所涉及的术语“包括”、“包含”、“具有”及其任何变体，其目的是涵盖不排他的包含；例如，包含一系列步骤或模块的过程、方法和系统、产品或设备并未限定于列出的步骤或模块，而可包括未列出的步骤或模块，或者可包括这些过程、方法、产品或设备固有的其他步骤或模块。在本申请中所涉及的“连接”、“相连”、“耦接”等类似的词语并不限定于物理的或机械连接，而可以包括电气连接，无论是直接连接还是间接连接。在本申请中所涉及的“多个”是指两个或两个以上。“和/或”描述关联对象的关联关系，表示可以存在三种关系，例如，“A和/或B”可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。通常情况下，字符“/”表示前后关联的对象是一种“或”的关系。在本申请中所涉及的术语“第一”、“第二”、“第三”等，只是对相似对象进行区分，并不代表针对对象的特定排序。在本实施例中提供的方法实施例可以在终端、计算机、服务器或者类似的运算装置中执行，例如在本实施例中的运维服务器中执行。运行该方法实施例的运维服务器，或其他终端、计算机等可以包括一个或多个处理器和用于存储数据的存储器，以及用于通信功能的传输设备。可选地，还可以包括输入输出设备。存储器可用于存储计算机程序，例如，应用软件的软件程序以及模块，如本发明实施例中的信息采集方法对应的计算机程序，处理器通过运行存储在存储器内的计算机程序，从而执行各种功能应用以及数据处理，即实现上述的方法。存储器可包括高速随机存储器，还可包括非易失性存储器，如一个或者多个磁性存储装置、闪存、或者其他非易失性固态存储器。在一些实例中，存储器可进一步包括相对于处理器远程设置的存储器，这些远程存储器可以通过网络连接至运维服务器，或其他终端、计算机等。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。传输设备用于经由一个网络接收或者发送数据。上述的网络具体实例可包括运维服务器，或其他终端、计算机的通信供应商提供的无线网络。在一个实例中，传输设备包括一个网络适配器，其可通过基站与其他网络设备相连从而可与互联网进行通讯。在一个实例中，传输设备可以为射频模块，其用于通过无线方式与互联网进行通讯。图1是本实施例的信息采集方法应用的路侧系统示意图。如图1所示，本实施例中的路侧系统包括云端管控平台102、路侧单元101、边缘计算单元104和运维服务器103。其中，云端管控平台102负责路侧设备基础配置和安全配置的管控，边缘计算单元104负责前端采集的感知数据融合并通过路侧单元发送给车载单元，路侧单元101负责将感知数据发送给周围车辆的车载单元模块，实现车路协同交互。运维服务器103负责采集路侧单元104的异常信息。路侧设备的部署环境通常按照区域进行划分，一个区域内通常有一台路侧单元101与多台边缘计算单元104，云端管控平台102可以管控多个区域。图1中示出了两个区域105，每个区域105内有一台路侧单元101和一台边缘计算单元104，本领域普通技术人员可以理解，图1所示的连接仅为示意，其并不对路侧系统的构成造成限制。例如，目标区域105、路侧单元101和边缘计算单元104还可包括比图1中所示更多或者更少的数量，或者具有与图1所示出的不同配置。请参阅图1所示，云端管控平台102与运维服务器103、路侧单元101、边缘计算单元104通信。该通信方式通常为以太网通信，也可以是其他通信方式。路侧单元101与同一区域105中的边缘计算单元104通信，例如可以为WIFI通信，或其他无线通信方式。路侧单元101与相邻区域105中的路侧单元101通信，例如通过PC5空口通信。以上通信方式不做限制，以满足通信需求为准。作为信息采集对象的目标路侧单元可以是路侧系统中任意一个路侧单元101，目标路侧单元所在的区域为目标区域，与目标区域相邻的区域中的路侧单元101为辅助路侧单元。在本实施例中提供了一种信息采集方法，该方法应用于路侧系统。图2是本实施例的方法的流程图。如图2所示，该流程包括如下步骤：步骤S201，当目标路侧单元处于在线状态时，从该目标路侧单元获取异常信息。目标路侧单元是运维服务器需要采集信息的路侧单元。目标路侧单元的在线或离线状态，是指该目标路侧单元是否与云端管控平台保持通信连接。由于目标路侧单元与运维服务器没有直接通信连接，因此运维服务器无法直接访问目标路侧单元，但正常情况下两者都与云端管控平台有通信连接。当目标路侧单元与云端管控平台保持通信连接时，运维服务器先访问云端管控平台，然后通过云端管控平台访问目标路侧单元，获取异常信息。步骤S202，当目标路侧单元处于离线状态，且同一目标区域中的边缘计算单元处于在线状态时，则通过边缘计算单元从目标路侧单元获取异常信息。在实际应用场景中，目标路侧单元可能处于网络异常状态，无法与云端管控平台建立通信连接，此时需要确定与该目标路侧单元同属于一个目标区域中的边缘计算单元是否在线，即与云端管控平台是否正常通信。如果目标区域中有正常在线的边缘计算单元，那么运维服务器可以先访问云端管控平台，然后通过云端管控平台访问该边缘计算单元，再通过该边缘计算单元与目标路侧单元之间的通信连接访问目标路侧单元，获取异常信息。步骤S203，当目标路侧单元处于离线状态，且同一目标区域中的边缘计算单元处于离线状态时，则通过辅助路侧单元从目标路侧单元获取异常信息。如果在步骤S202中已确认目标路侧单元处于离线状态，且目标区域中的边缘计算单元也处于离线状态，那么还可以先确认与目标区域相邻的区域中的辅助路侧单元是否处于在线状态，如果处于在线状态，运维服务器可以先访问云端管控平台，然后通过云端管控平台访问该辅助路侧单元，再通过该辅助路侧单元与目标路侧单元之间的通信连接获取目标路侧单元的异常信息。通过上述步骤S201至S203，本实施例提供的信息采集方法通过确定目标路侧单元与云端管控平台的连接状态，根据该连接状态确定是否能直接通过目标路侧单元获取异常信息；在目标路侧单元离线状态下，确定边缘计算单元以及辅助路侧单元的在线情况，分别通过不同的路径获取异常信息。即运维服务器通过与云端管控平台的远程连接，在不同情况下通过不同路径收集目标路侧单元的异常信息，解决了相关技术中存在的路侧单元故障时需要现场访问来进行异常日志或抓包数据的采集的问题。在其中的一些实施例中，涉及当目标路侧单元处于在线状态时，从目标路侧单元获取异常信息的具体方法。可选的，该信息采集方法包括：在云端管控平台与目标路侧单元之间建立第一反向SSH隧道；基于第一反向SSH隧道获取异常信息。当运维服务器需要和目标路侧单元建立连接时，可以使用多种不同方式，本实施例提供的方法是通过在云端管控平台与目标路侧单元之间建立第一反向SSH隧道的方式进行连接。SSH是一种网络协议，用于加密两台计算机之间的通信，并支持各种身份验证机制，可以对操作者进行认证和授权。SSH还可以作为加密通信的中介，充当两台设备之间的通信加密跳板，使得原本不加密的通信变成加密通信，该功能称为端口转发，又称SSH隧道。第一反向SSH隧道是将云端管控平台作为中介，通过云端管控平台将建立第一反向SSH隧道所需的配置信息发送给目标路侧单元，并开启反向SSH内网穿透功能。目标路侧单元根据该配置信息建立第一反向SSH隧道，运维人员通过运维服务器的SSH客户端远程连接云端管控平台，并连接目标路侧单元，执行设备异常信息的采集工作。本实施例提供的信息采集方法通过在云端管控平台与目标路侧单元之间建立第一反向SSH隧道，建立云端管控平台与目标路侧单元之间的加密连接，保证了云端管控平台与目标路侧单元的数据传输的安全性，将云端管控平台接收到的访问请求通过第一反向SSH隧道转发到目标路侧单元，从而建立运维服务器与该目标路侧单元的通信连接，为运维服务器的信息采集提供了访问通道。在其中的一些实施例中，可以通过边缘计算单元从目标路侧单元获取异常信息。图3是本实施例的通过边缘计算单元的信息采集方法的流程图。如图3所示，该流程包括如下步骤：步骤S301，在目标路侧单元与边缘计算单元之间建立第二反向SSH隧道。由于目标路侧单元在网络异常状态下无法与云端管控平台建立通信连接，而与该目标路侧单元同属于一个目标区域中的边缘计算单元与云端管控平台可以正常通信，因此云端管控平台将目标路侧单元的设备信息发送给该边缘计算单元，本实施例中的设备信息为注册在云端管控平台中的设备编码值，该设备编码值与注册的路侧单元、边缘计算单元等设备一一对应。边缘计算单元可以根据该设备信息找到对应的目标路侧单元。本实施例中，边缘计算单元与该目标路侧单元通过WIFI无线通信。该边缘计算单元将WIFI无线模组设置为Managed终端模式，选择该设备信息对应的无线热点进行连接，建立与目标路侧单元的无线数据传输隧道。该边缘计算单元向目标路侧单元发送自身的IP地址、自身的SSHD服务侦听端口和空闲端口，该IP地址可通过无线网卡获取，并开启边缘计算单元的反向SSH内网穿透功能，目标路侧单元将本地SSHD服务侦听端口与该边缘计算单元的空闲端口绑定，形成端口映射，通过该无线数据传输隧道与该边缘计算单元建立起第二反向SSH隧道。步骤S302，在边缘计算单元与云端管控平台之间建立第三反向SSH隧道。云端管控平台除了发送目标路侧单元的设备信息，还将建立第三反向SSH隧道所需的配置信息发送给该边缘计算单元。与建立第一反向SSH隧道的过程类似，该边缘计算单元根据该配置信息与云端管控平台建立第三反向SSH隧道，其中，该边缘计算单元的本地SSHD服务侦听端口选择为下发给目标路侧单元的空闲端口。步骤S303，基于第二反向SSH隧道和第三反向SSH隧道获取异常信息。通过第二反向SSH隧道，建立了边缘计算单元的空闲端口与目标路侧单元的SSHD服务侦听端口的端口映射；通过第三反向隧道，建立了云端管控平台与边缘计算单元的SSHD服务侦听端口的端口映射，其中边缘计算单元的SSHD服务侦听端口就是边缘计算单元的空闲端口，这样就建立了从云端管控平台到目标路侧单元的SSHD服务侦听端口的两级反向SSH隧道，运维人员通过运维服务器的SSH客户端远程连接云端管控平台，通过两级反向SSH隧道连接目标路侧单元，执行设备异常信息的采集工作。本实施例提供的信息采集方法通过建立从云端管控平台到目标路侧单元的SSHD服务侦听端口的两级反向SSH隧道，通过边缘计算单元的转接建立云端管控平台与目标路侧单元之间的加密连接，将云端管控平台接收到的访问请求转发到目标路侧单元，从而在目标路侧单元离线情况下建立运维服务器与该目标路侧单元的通信连接，为运维服务器的信息采集提供了访问通道。在其中的一些实施例中，还涉及通过辅助路侧单元从目标路侧单元获取异常信息。图4是本实施例的通过辅助路侧单元的信息采集方法的流程图。如图4所示，该流程包括如下步骤：步骤S401，辅助路侧单元通过PC5空口获取目标路侧单元的异常信息。不同区域的路侧单元之间，通常可以通过PC5进行点对点的直接通信。PC5是V2X通信场景中使用的一种通信接口，通过直连、广播、网络调度的形式可以实现低时延、高容量、高可靠的通信，无论是否有蜂窝网络的覆盖，均可以采用PC5进行V2X通信。在目标路侧单元离线，且目标区域内的边缘计算单元也离线的情况下，在接收到运维服务器对目标路侧单元的异常信息采集请求后，可以确认该目标路侧单元所在目标区域的相邻区域中的辅助路侧单元是否在线，如果在线，云端管控平台可以向该辅助路侧单元下发收集设备异常信息命令，辅助路侧单元根据该命令与目标路侧单元通过PC5空口广播通信，获取目标路侧单元的异常信息，并缓存在辅助路侧单元中。步骤S402，在辅助路侧单元与云端管控平台之间建立第四反向SSH隧道。与建立第一反向SSH隧道的过程相似，云端管控平台将建立第四反向SSH隧道所需的配置信息发送给该辅助路侧单元，并开启反向SSH内网穿透功能。辅助路侧单元根据该配置信息建立第四反向SSH隧道。步骤S403，基于第四反向SSH隧道获取该异常信息。运维人员通过运维服务器的SSH客户端远程连接云端管控平台，并通过第四反向SSH隧道反向登录辅助路侧单元，执行目标路侧单元的异常信息的采集工作。本实施例提供的信息采集方法通过建立从辅助路侧单元到目标路侧单元的PC5空口广播通道，然后建立从云端管控平台到辅助路侧单元的反向SSH隧道，将云端管控平台接收到的访问请求转发到辅助路侧单元，并将目标路侧单元的异常信息通过PC5空口广播发送到辅助路侧单元中缓存，从而在目标区域内的目标路侧单元、边缘计算单元离线情况下通过辅助路侧单元为运维服务器的信息采集提供了另一种可行方式。在其中的一些实施例中，涉及辅助路侧单元通过PC5空口获取目标路侧单元的异常信息的流程。可选的，图5是本实施例的辅助路侧单元通过PC5空口获取异常信息的流程图。如图5所示，该流程包括如下步骤：步骤S501，向辅助路侧单元发送目标路侧单元的设备信息和获取该异常信息的指令。云端管控平台向辅助路侧单元下发采集设备异常信息命令，并提供目标路侧单元的设备信息，该设备信息可以为设备编码值，辅助路侧单元可以根据该设备信息找到对应的目标路侧单元。步骤S502，辅助路侧单元通过PC5空口广播请求信息，并获取该目标路侧单元的响应信息，该请求信息和响应信息均包括辅助路侧单元与目标路侧单元的设备信息；响应信息还包括目标路侧单元的异常信息。辅助路侧单元通过5G通信模组的PC5空口向外广播请求信息，该请求信息的内容为获取设备的异常信息，该请求携带了目标路侧单元的设备编码值和自身的设备编码值。目标路侧单元接收到该请求信息，核对请求信息中的目标路侧单元的设备编码值与自身的设备编码值一致后，获取本地内存中的异常信息，并添加请求方的辅助路侧单元的设备编码值和自身的设备编码值，构建成响应消息，也同样通过5G通信模组的PC5空口向外广播。辅助路侧单元接收到响应信息，核对响应信息中的请求方的辅助路侧单元的设备编码值与自身的设备编码值一致后，将接收到的设备异常信息进行本地缓存，运维人员可通过第四反向SSH隧道登录辅助路侧单元采集相关异常信息。本实施例提供的信息采集方法提供了辅助路侧单元与目标路侧单元的通信命令与设备的可访问地址，实现了将目标路侧单元的异常信息发给辅助路侧单元，为目标路侧单元与辅助路侧单元通过PC5空口广播通信提供了具体实施方式。在其中的一些实施例中，涉及云端管控平台与目标路侧单元之间建立第一反向SSH隧道的流程。云端管控平台包括SSH代理服务器，可通过SSH代理服务器与目标路侧单元建立第一反向SSH隧道，基于第一反向SSH隧道获取异常信息。图6是本实施例的通过SSH代理服务器建立第一反向SSH隧道的流程图。如图6所示，该流程包括如下步骤：步骤S601，向目标路侧单元发送SSH代理服务器的配置信息，并开启SSH代理服务器的反向穿透功能；配置信息包括SSH代理服务器的IP地址、侦听端口和空闲端口；运维服务器需要采集目标路侧单元的异常信息时，通过云端管控平台向目标路侧单元下发SSH代理服务器的IP地址、SSHD服务侦听端口和空闲端口，并使能反向SSH内网穿透功能，并在云端管控平台侧与目标路侧单元的唯一的设备编码值绑定。步骤S602，将目标路侧单元的本地侦听端口与空闲端口绑定；目标路侧单元将本地SSHD服务侦听端口与SSH代理服务器的空闲端口绑定，形成端口映射，建立起目标路侧单元与SSH代理服务器的第一反向SSH隧道。步骤S603，运维服务器通过该空闲端口与SSH代理服务器连接。运维人员可以通过运维服务器的SSH客户端工具远程连接SSH代理服务器，连接端口为目标路侧单元所绑定的SSH代理服务器空闲端口，至此运维人员即可反向SSH登录目标路侧单元，并在目标路侧单元后台执行异常信息收集工作。本实施例提供的信息采集方法通过云端管控平台中设置的SSH代理服务器与目标路侧单元建立第一反向SSH隧道，提供了建立反向SSH隧道所需的配置信息具体内容和端口映射方法，为建立第一反向SSH隧道提供了具体实施方法。在其中的一些实施例中，可选的，该信息采集方法还包括：将目标路侧单元注册在云端管控平台中，并获取目标路侧单元的设备信息；目标路侧单元基于设备信息创建无线热点；向目标路侧单元发送SSH公钥私钥对；基于该SSH公钥私钥对完成目标路侧单元的SSH登录认证。同一个V2X系统中的各个路侧单元需要通过云端管控平台进行管理，因此路侧单元可以通过向云端管控平台注册的方式，获取各自唯一的设备信息，该设备信息可以为设备编码值。各路侧单元可以基于该唯一的设备信息创建对应的无线热点，热点的密钥为该设备信息。通过建立无线热点，每一个区域中的路侧单元都可以与该区域中的边缘计算单元形成一个局域网。注册成功后，云端管控平台向各路侧单元下发SSH公钥私钥对，可以使用RSA或DSA等非对称加密算法，用于SSH无密码安全认证登录，以增加通过反向SSH隧道进行通信的安全性。下面通过优选实施例对本实施例进行描述和说明。本优选实施例的信息采集方法应用于路侧系统，该路侧系统包括云端管控平台，以及与云端管控平台通过有线网络通信的路侧单元、边缘计算单元、运维服务器。云端管控平台包括数据交互中心、安全服务中心和SSH代理服务器。路侧单元和边缘计算单元均包括SSH服务套件，SSH服务套件是实现SSH安全协议的工具包，包括SSH客户端连接工具和SSHD服务端侦听工具，客户端登录服务端采用基于密钥的安全验证，保证数据传输的安全性也避免采用口令的安全验证方式需在网络上传送口令信息。运维服务器通过SSH客户端远程连接云端SSH代理服务器，SSH客户端可以使用XShell，Securecrt,Mobaxterm等工具。其中，作为信息采集对象的目标路侧单元与同一目标区域中的边缘计算单元通过WIFI通信，并与相邻区域中的辅助路侧单元通过PC5空口通信，运维服务器用于通过云端管控平台获取目标路侧单元的异常信息。图7是本优选实施例的信息采集方法的流程图。如图7所示，该流程包括如下步骤：步骤S701，多个区域内的路侧单元和边缘计算单元向云端管控平台的数据交互中心注册，获取唯一的设备编码值。步骤S702，路侧单元基于设备编码值创建对应的无线热点，热点密钥为设备编码值。步骤S703，云端管控平台通过安全服务中心向各路侧单元和边缘计算单元下发SSH公钥私钥对，用于SSH无密码安全认证登录。步骤S704，确定目标路侧单元是否处于在线状态。步骤S705，在目标路侧单元在线的情况下，向目标路侧单元发送SSH代理服务器的配置信息，并开启SSH代理服务器的反向穿透功能；配置信息包括SSH代理服务器的IP地址、侦听端口和空闲端口。步骤S706，将目标路侧单元的本地侦听端口与该空闲端口绑定，建立SSH代理服务器与目标路侧单元的第一反向SSH隧道。目标路侧单元通过SSH服务套件中的autossh工具将本地SSHD服务侦听端口与SSH代理服务器的空闲端口绑定，形成端口映射，并通过平台下发的SSH公钥私钥对完成SSH登录认证，建立起内网目标路侧单元与公网SSH代理服务器的内网穿透隧道，即第一反向SSH隧道。且autossh工具可通过连接状态监听端口监测数据交互链路，当连接中断时自动重连以保障链路通畅性。实现该步骤的命令示例如下：autossh-M a-NR 0.0.0.0:b:localhost:c user@d-p e其中：a：连接状态监听端口；b：SSH代理服务器的空闲端口；c：本地SSHD服务侦听端口；d：SSH代理服务器IP地址；e：SSH代理服务器的SSHD服务侦听端口。其中本地SSHD服务侦听端口可使用SSH协议规定的默认值22或通过云端管控平台数据交互中心下发的配置进行更改，云端SSH代理服务器的SSHD配置文件中需将GatewayPorts置成yes以支持代理端口全网卡侦听。步骤S707，运维服务器通过该空闲端口与SSH代理服务器连接，反向登录目标路侧单元。运维人员通过内网运维服务器的SSH客户端工具远程连接公网SSH代理服务器，连接端口为目标路侧单元所对应的SSH代理服务器空闲端口，至此运维人员即可在内网环境反向SSH登录同处于其它内网环境的目标路侧单元，并在目标路侧单元后台执行设备异常信息收集工作。步骤S708，在目标路侧单元离线的情况下，确定目标路侧单元同一目标区域中的边缘计算单元是否处于在线状态。步骤S709，在边缘计算单元在线的情况下，向该边缘计算单元发送目标路侧单元的设备编码值，建立该边缘计算单元与目标路侧单元的第二反向SSH隧道。该边缘计算单元将WIFI无线模组设置为Managed终端模式，选择目标路侧单元的设备编码值对应的无线热点进行连接，建立起无线数据传输隧道，并向目标路侧单元下发无线网卡获取到的IP地址、自身SSHD服务侦听端口和空闲端口并使能反向SSH内网穿透功能，使得目标路侧单元通过无线数据传输隧道与边缘计算单元建立起第二反向SSH内网穿透隧道。步骤S710，在边缘计算单元与SSH代理服务器之间建立第三反向SSH隧道，其中边缘计算单元的SSHD服务侦听端口选择为下发给目标路侧单元的空闲端口。步骤S711，运维服务器通过第二反向SSH隧道和第三反向SSH隧道反向登录目标路侧单元。步骤S712，在边缘计算单元离线的情况下，向辅助路侧单元发送目标路侧单元的设备信息和获取异常信息的指令，设备信息即设备编码值。步骤S713，辅助路侧单元通过PC5空口广播请求信息，并获取该目标路侧单元的响应信息，该请求信息和响应信息均包括辅助路侧单元与目标路侧单元的设备信息；响应信息还包括目标路侧单元的异常信息。消息内容可通过SSH公钥私钥对进行消息摘要认证以避免第三方中间设备异常攻击。目标路侧单元接收到请求信息后，需要核对信息中的请求对象设备编码值与自身一致后，获取本地内存中的异常信息并添加请求方的辅助路侧单元设备编码值和自身设备编码值，构建成响应消息，也同样通过5G通信模组的PC5空口向外广播。辅助路侧单元将接收到的设备异常信息进行本地缓存。步骤S714，在辅助路侧单元与SSH代理服务器之间建立第四反向SSH隧道。步骤S715，运维服务器通过第四反向SSH反向登录辅助路侧单元。步骤S716，运维服务器获得目标路侧单元的异常信息。通过上述步骤S701至S716，通过确定目标路侧单元与云端管控平台的连接状态，根据该连接状态确定获取异常信息的不同路径。在每一种路径中都提供了建立云端管控平台与目标路侧单元之间通信的方法，使得运维服务器能够通过建立反向SSH隧道以及其他通信方式互相结合的方式获得目标路侧单元的异常信息，解决了相关技术中存在的路侧单元故障时需要现场访问来进行异常日志或抓包数据的采集的问题。需要说明的是，在上述流程中或者附图的流程图中示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤。在一些实施例中，本申请还提供了一种信息采集系统，应用于路侧系统，该路侧系统包括云端管控平台，以及与云端管控平台通信的路侧单元、边缘计算单元、运维服务器，其中，作为信息采集对象的目标路侧单元与同一目标区域中的边缘计算单元通信，并与相邻区域中的辅助路侧单元通信，运维服务器用于通过云端管控平台获取目标路侧单元的异常信息。该信息采集系统用于实现上述实施例及优选实施方式，已经进行过说明的不再赘述。以下所使用的术语“模块”、“单元”、“子单元”等可以实现预定功能的软件和/或硬件的组合。在一些实施例中，图8是本实施例的信息采集系统的结构框图，如图8所示，该系统包括：第一获取模块81、第二获取模块82和第三获取模块83。第一获取模块81，用于当目标路侧单元处于在线状态时，从目标路侧单元获取异常信息。第二获取模块82，用于当目标路侧单元处于离线状态，且同一目标区域中的边缘计算单元处于在线状态时，通过边缘计算单元从目标路侧单元获取异常信息。第三获取模块83，用于当目标路侧单元处于离线状态，且同一目标区域中的边缘计算单元处于离线状态时，通过辅助路侧单元从目标路侧单元获取异常信息。本实施例中提供的信息采集系统，当目标路侧单元在线时通过第一获取模块81从目标路侧单元获取异常信息；当目标路侧单元离线且与该目标路侧单元在同一目标区域内的边缘计算单元在线时，通过第二获取模块82连接边缘计算单元，再通过边缘计算单元连接目标路侧单元获取异常信息；当该目标路侧单元离线且同一目标区域内的边缘计算单元也离线时，通过第三获取模块83连接该辅助路侧单元获取异常信息。在路侧系统中的路侧单元和边缘计算单元与云端管控平台的不同连接情况下，使运维服务器可以通过不同路径的远程连接，采集目标路侧单元的异常信息，解决了相关技术中存在的路侧单元故障时需要现场访问来进行异常日志或抓包数据的采集的问题。在一些实施例中，第一获取模块81包括第一隧道构建单元，第一隧道构建单元用于在云端管控平台与目标路侧单元之间建立第一反向SSH隧道。第一隧道构建单元建立了云端管控平台与目标路侧单元之间的加密连接，保证了数据传输的安全性，建立运维服务器与该目标路侧单元的通信连接，为运维服务器的信息采集提供了访问通道。在一些实施例中，第二获取模块82包括第二隧道构建单元和第三隧道构建单元，第二隧道构建单元用于在目标路侧单元与边缘计算单元之间建立第二反向SSH隧道，第三隧道构建单元用于在边缘计算单元与云端管控平台之间建立第三反向SSH隧道。第二隧道构建单元和第三隧道构建单元建立了从云端管控平台到目标路侧单元的SSHD服务侦听端口的两级反向SSH隧道，在目标路侧单元离线情况下建立运维服务器与该目标路侧单元的通信连接，为运维服务器的信息采集提供了访问通道。在一些实施例中，第三获取模块83包括第四隧道建立单元和PC5通信单元，PC5通信单元用于通过PC5空口获取目标路侧单元的异常信息并存储在辅助路侧单元上；第四隧道建立单元用于在辅助路侧单元与云端管控平台之间建立第四反向SSH隧道。在目标区域内的目标路侧单元、边缘计算单元离线情况下，第四隧道建立单元和PC5通信单元通过辅助路侧单元的转接，为运维服务器的信息采集提供了另一种可行方式。需要说明的是，上述各个模块可以是功能模块也可以是程序模块，既可以通过软件来实现，也可以通过硬件来实现。对于通过硬件来实现的模块而言，上述各个模块可以位于同一处理器中；或者上述各个模块还可以按照任意组合的形式分别位于不同的处理器中。在本实施例中还提供了一种路侧系统，该路侧系统包括云端管控平台、路侧单元、边缘计算单元、运维服务器，其中，云端管控平台，与路侧单元、边缘计算单元、运维服务器通信；路侧单元包括目标路侧单元和辅助路侧单元，目标路侧单元与相邻区域中的辅助路侧单元通信；边缘计算单元，与同一目标区域中的目标路侧单元通信；运维服务器，通过上述实施例的任意一种信息采集方法获取目标路侧单元的异常信息。本实施例中的路侧系统，通过建立云端管控平台、路侧单元、边缘计算单元、运维服务器之间的通信连接，为运维服务器通过云端管控平台采集目标路侧单元的异常信息提供了不同的方式，解决了相关技术中存在的路侧单元故障时需要现场访问来进行异常日志或抓包数据的采集的问题。此外，结合上述实施例中提供的信息采集方法，在本实施例中还可以提供一种存储介质来实现。该存储介质上存储有计算机程序；该计算机程序被处理器执行时实现上述实施例中的任意一种信息采集方法。需要说明的是，在本实施例中的具体示例可以参考上述实施例及可选实施方式中所描述的示例，在本实施例中不再赘述。应该明白的是，这里描述的具体实施例只是用来解释这个应用，而不是用来对它进行限定。根据本申请提供的实施例，本领域普通技术人员在不进行创造性劳动的情况下得到的所有其它实施例，均属本申请保护范围。显然，附图只是本申请的一些例子或实施例，对本领域的普通技术人员来说，也可以根据这些附图将本申请适用于其他类似情况，但无需付出创造性劳动。另外，可以理解的是，尽管在此开发过程中所做的工作可能是复杂和漫长的，但是，对于本领域的普通技术人员来说，根据本申请披露的技术内容进行的某些设计、制造或生产等更改仅是常规的技术手段，不应被视为本申请公开的内容不足。“实施例”一词在本申请中指的是结合实施例描述的具体特征、结构或特性可以包括在本申请的至少一个实施例中。该短语出现在说明书中的各个位置并不一定意味着相同的实施例，也不意味着与其它实施例相互排斥而具有独立性或可供选择。本领域的普通技术人员能够清楚或隐含地理解的是，本申请中描述的实施例在没有冲突的情况下，可以与其它实施例结合。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对专利保护范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请的保护范围应以所附权利要求为准。
