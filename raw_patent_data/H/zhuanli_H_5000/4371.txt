标题title
一种基于异构数据链的一体化IP组网方法
摘要abst
本发明公开了一种基于异构数据链的一体化IP组网方法，具体涉及军用无线通信业务技术领域，该方法设计了上行流量管理模块、数据路由模块、拓扑管理模块、上行安全管理模块、下行安全管理模块和下行流量管理模块，其中，拓扑管理模块根据网络消息进行拓扑图、路由表的管理，数据路由模块对上行业务数据进行数据路由，给出下一跳路由节点以及本节点所使用的数据链类型。与现有技术相比，本发明能够提升作战网络的整体通信能力、包括网络的健壮性以及通信的效能范围，该方法解决了异构数据链的互连互通问题，基于异构数据链建立了网络层的组网和通信能力，广泛适用于现代联合作战背景下的作战单元。
权利要求书clms
1.一种基于异构数据链的一体化IP组网方法，其特征在于，设计了上行流量管理模块、数据路由模块、拓扑管理模块、上行安全管理模块、下行安全管理模块和下行流量管理模块，其中：所述上行流量管理模块基于下行安全管理模块的转发数据，对上行业务数据进行多优先级的流量控制；所述数据路由模块基于上行流量管理模块的数据，对上行业务数据进行数据路由、并给出下一跳路由节点以及本节点所使用的数据链类型；所述拓扑管理模块基于上行流量管理模块的入网控制数据和下行安全管理模块的网络消息，进行拓扑图、路由表的管理；所述上行安全管理模块基于数据路由模块的数据和拓扑管理模块的网络消息，对上行业务数据进行数据加密；所述下行安全管理模块对下行业务数据进行安全验证；所述下行流量管理模块基于拓扑管理模块的网络状态数据和下行安全管理模块的数据，对下行业务数据进行流量控制。2.根据权利要求1所述的基于异构数据链的一体化IP组网方法，其特征在于，所述上行流量管理模块实现的QoS使用Best Effort模型，采用三个FIFO队列实现，上行流量管理模块接收到待发数据后根据数据的传输要求计算出优先级，再根据优先级存入对应的FIFO队列中，FIFO队列按先进先出的原则调度，队列满后，后续报文被丢弃。3.根据权利要求1所述的基于异构数据链的一体化IP组网方法，其特征在于，所述下行流量管理模块采用单个FIFO队列进行下行数据的临时存储，同时将转发数据转至上行流量管理模块。4.根据权利要求1所述的基于异构数据链的一体化IP组网方法，其特征在于，所述数据路由模块包括如下工作流程：判断本节点各数据链的当前拥塞状态，在不拥塞时按照优先级从高到低从各级缓存中取缓存的待发数据进行路由，路由时将节点ID映射为IP地址进行处理，在路由成功后对于无法支持IP地址的数据链，将下一跳IP地址反映射为该数据链支持的ID形式。5.根据权利要求4所述的基于异构数据链的一体化IP组网方法，其特征在于，所述数据路由模块在路由时考虑了数据链的全向和定向传输能力，当待发数据的发送方式为广播，则优先选择全向数据链对应的路由表进行路由，若全向数据链无法覆盖网络内所有节点，则对剩余未覆盖的节点进行点播发送，即使用定向数据链对应的路由表再次进行路由；当待发数据的发送方式为点播，则优先选择定向数据链对应的路由表进行路由，若路由成功，则将待发数据转至上行安全管理模块进行处理。6.根据权利要求1所述的基于异构数据链的一体化IP组网方法，其特征在于，所述拓扑管理模块包括如下工作流程：拓扑管理模块在初始化时获取本节点的数据链配置，若接收到本地入网控制指令，则根据使用的身份认证算法生成身份认证消息，通过本节点的数据链发送出去；其他节点接收到身份认证消息后，在拓扑管理模块进行身份认证，认证通过则更新拓扑图，并将拓扑图向邻节点发送；认证未通过则进行人工验证；本模块接收到拓扑消息后，与本地拓扑图比较，若相同则已收敛，然后更新路由表，包括单链路由表和综合路由表；否则更新本地拓扑图，再将拓扑图向邻节点发送；同时，拓扑管理模块定时向网络内其他节点发送链路消息，本节点根据接收到的最新的其他节点的链路消息的时间来判断其他节点是否断网。7.根据权利要求1所述的基于异构数据链的一体化IP组网方法，其特征在于，所述上行安全管理模块包括如下工作流程：当路由结果中的数据链支持自定义报文时，对上行业务数据进行数据加密，否则不加密；对业务消息使用数字签名进行加密，对除业务消息以外的消息不做特殊处理。8.根据权利要求1所述的基于异构数据链的一体化IP组网方法，其特征在于，所述下行安全管理模块包括如下工作流程：下行安全管理模块接收到下行数据链的消息后，经过网络防火墙进行数据筛选后，对身份认证、链路以及拓扑消息，直接转至拓扑管理模块处理；对于业务消息，经过数字签名验证后，将验证通过的数据转至下行流量管理模块处理。
说明书desc
技术领域本发明涉及军用无线通信业务技术领域，特别涉及一种基于异构数据链的一体化IP组网方法。背景技术随着军用无线通信技术的发展，形成了适用于不同作战单元和不同业务功能的具有不同能力的数据链。传统的数据链只具备本类型数据链的网络层及其以下功能，无法进行异构数据链之间的直接互通。对于现代联合作战背景下的作战单元，如何基于异构数据链形成一体化的网络能力成为急需解决的问题。发明内容面对上述技术背景，本发明提出了一种基于异构数据链的一体化IP组网方法，能够提升作战网络的整体通信能力、包括网络的健壮性以及通信的效能范围，该方法解决了异构数据链的互连互通问题，基于异构数据链建立了网络层的组网和通信能力，广泛适用于现代联合作战背景下的作战单元。为达到上述目的，本发明的实施例采用如下技术方案：一种基于异构数据链的一体化IP组网方法，其特征在于，设计了上行流量管理模块、数据路由模块、拓扑管理模块、上行安全管理模块、下行安全管理模块和下行流量管理模块，其中：所述上行流量管理模块对本节点待发送的以及下行安全管理模块输出的转发的业务数据进行多优先级的流量控制；所述数据路由模块基于上行流量管理模块的数据，对上行业务数据进行数据路由、并给出下一跳路由节点以及本节点所使用的数据链类型；所述拓扑管理模块基于上行流量管理模块的入网控制数据和下行安全管理模块的网络消息，进行拓扑图、路由表的管理；所述上行安全管理模块基于数据路由模块的数据和拓扑管理模块的网络消息，对上行业务数据进行数据加密；所述下行安全管理模块对下行业务数据进行安全验证；所述下行流量管理模块基于拓扑管理模块的网络状态数据和下行安全管理模块的数据，对下行业务数据进行流量控制。优选的，所述上行流量管理模块实现的QoS使用Best Effort模型，采用三个FIFO队列实现，上行流量管理模块接收到待发数据后根据数据的传输要求计算出优先级，再根据优先级存入对应的FIFO队列中，FIFO队列按先进先出的原则调度，队列满后，后续报文被丢弃。优选的，所述下行流量管理模块采用单个FIFO队列进行下行数据的临时存储，同时将转发数据转至上行流量管理模块。优选的，所述数据路由模块包括如下工作流程：判断本节点各数据链的当前拥塞状态，在不拥塞时按照优先级从高到低从各级缓存中取缓存的待发数据进行路由，路由时将节点ID映射为IP地址进行处理，在路由成功后对于无法支持IP地址的数据链，将下一跳IP地址反映射为该数据链支持的ID形式。优选的，所述数据路由模块在路由时考虑了数据链的全向和定向传输能力，当待发数据的发送方式为广播，则优先选择全向数据链对应的路由表进行路由，若全向数据链无法覆盖网络内所有节点，则对剩余未覆盖的节点进行点播发送，即使用定向数据链对应的路由表再次进行路由；当待发数据的发送方式为点播，则优先选择定向数据链对应的路由表进行路由，若路由成功，则将待发数据转至上行安全管理模块进行处理。优选的，所述拓扑管理模块包括如下工作流程：拓扑管理模块在初始化时获取本节点的数据链配置，若接收到本地入网控制指令，则根据使用的身份认证算法生成身份认证消息，通过本节点的数据链发送出去；其他节点接收到身份认证消息后，在拓扑管理模块进行身份认证，认证通过则更新拓扑图，并将拓扑图向邻节点发送；认证未通过则进行人工验证；本模块接收到拓扑消息后，与本地拓扑图比较，若相同则已收敛，然后更新路由表，包括单链路由表和综合路由表；否则更新本地拓扑图，再将拓扑图向邻节点发送；同时，拓扑管理模块定时向网络内其他节点发送链路消息，本节点根据接收到的最新的其他节点的链路消息的时间来判断其他节点是否断网。优选的，所述上行安全管理模块包括如下工作流程：当路由结果中的数据链支持自定义报文时，对上行业务数据进行数据加密，否则不加密；对业务消息使用数字签名进行加密，对除业务消息以外的消息不做特殊处理。优选的，所述下行安全管理模块包括如下工作流程：下行安全管理模块接收到下行数据链的消息后，经过网络防火墙进行数据筛选后，对身份认证、链路以及拓扑消息，直接转至拓扑管理模块处理；对于业务消息，经过数字签名验证后，将验证通过的数据转至下行流量管理模块处理。本发明提出的基于异构数据链的一体化IP组网方法具有以下有益效果：本发明能够提升作战网络的整体通信能力、包括网络的健壮性以及通信的效能范围，该方法解决了异构数据链的互连互通问题，基于异构数据链建立了网络层的组网和通信能力，广泛适用于现代联合作战背景下的作战单元，其中：1)在无需对异构数据链进行改造的情况下，采用组网中间件软件实现对数据链能力的集成。2)在对作战服务仅需少量甚至无需改动的情况下，采用集成中间件软件实现对信息的集成。3)入网身份验证通过后，使用去除对角线的上三角或下三角矩阵来描述网络拓扑，矩阵中每个元素采用二进制位表征链路的状态，每一位代表一种指定的数据链。4)拓扑图仅向邻节点分发，接收到的拓扑图与本地拓扑图一致时认为收敛，则不再向邻节点分发。5)针对不同类型数据链有不同特性，采用了单链路由表，即对作战节点装载的各数据链都单独生成路由表；针对可能存在的跨数据链数据传输，采用了综合路由表。6)对于支持自定义报文且传输带宽较高的数据链，融入了虚拟IP机制，即在报文头中加入虚拟IP地址，用于数据路由；对于报文或传输带宽较低的数据链，使用其原有源和目标地址的表示方式。7)支持广播和点播数据传输模式，广播模式下优先使用全向数据链，点播模式下优先使用定向数据链。附图说明图1为本发明的软件架构图；图2为本发明中上行流量管理模块的处理流程图；图3为本发明中上行流量管理模块中优先级判决的子处理流程图；图4为本发明中上行流量管理模块中多优先级队列调度的子处理流程图；图5为本发明中下行流量管理模块的处理流程图；图6为本发明中数据路由模块的处理流程图；图7为本发明中数据路由模块中端到端路由的子处理流程图；图8为本发明中拓扑管理模块的处理流程图；图9为本发明中上行安全管理模块的处理流程图；图10为本发明中下行安全管理模块的处理流程图。具体实施方式在本发明的描述中，需要理解的是，术语“中心”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本发明的描述中，除非另有说明，“多个”的含义是两个或两个以上。根据附图1至10所示，对本发明进行进一步说明：本实施例中，该基于异构数据链的一体化IP组网方法中，设计了上行流量管理模块、数据路由模块、拓扑管理模块、上行安全管理模块、下行安全管理模块和下行流量管理模块，如图1所示，上行流量管理模块基于下行安全管理模块的转发数据，对上行业务数据进行多优先级的流量控制；数据路由模块基于上行流量管理模块的数据，对上行业务数据进行数据路由、并给出下一跳路由节点以及本节点所使用的数据链类型；拓扑管理模块基于上行流量管理模块的入网控制数据和下行安全管理模块的网络消息，进行拓扑图、路由表的管理；上行安全管理模块基于数据路由模块的数据和拓扑管理模块的网络消息，对上行业务数据进行数据加密；下行安全管理模块对下行业务数据进行安全验证；下行流量管理模块基于拓扑管理模块的网络状态数据和下行安全管理模块的数据，对下行业务数据进行流量控制。如图2所示，上行流量管理模块实现的QoS使用Best Effort模型，采用三个FIFO队列实现，上行流量管理模块接收到待发数据后根据数据的传输要求计算出优先级，再根据优先级存入对应的FIFO队列中，FIFO队列按先进先出的原则调度，队列满后，后续报文被丢弃，图2中S100的优先级判决流程如图3所示，图2中S200的多优先级队列调度算法的处理流程如图4所示。如图5所示，下行流量管理模块采用单个FIFO队列进行下行数据的临时存储，同时将转发数据转至上行流量管理模块。如图6所示，S300调用的单帧数据路由模块包括如下工作流程：判断本节点各数据链的当前拥塞状态，在不拥塞时按照优先级从高到低从各级缓存中取缓存的待发数据进行路由，路由时将节点ID映射为IP地址进行处理，在路由成功后对于无法支持IP地址的数据链，将下一跳IP地址反映射为该数据链支持的ID形式。需要说明的是，上述流程中基于广播地址进行“广播判决”，“全向链广播覆盖计算”为根据全向链路由表查找所有可路由的无需转发的目的节点。本实施例中，S400对应的端到端路由模块处理流程如图7所示，数据路由模块在路由时考虑了数据链的全向和定向传输能力，当待发数据的发送方式为广播，则优先选择全向数据链对应的路由表进行路由，若全向数据链无法覆盖网络内所有节点，则对剩余未覆盖的节点进行点播发送，即使用定向数据链对应的路由表再次进行路由；当待发数据的发送方式为点播，则优先选择定向数据链对应的路由表进行路由，若路由成功，则将待发数据转至上行安全管理模块进行处理。如图8所示，拓扑管理模块包括如下工作流程：拓扑管理模块在初始化时获取本节点的数据链配置，若接收到本地入网控制指令，则根据使用的身份认证算法生成身份认证消息，通过本节点的数据链发送出去；其他节点接收到身份认证消息后，在拓扑管理模块进行身份认证，认证通过则更新拓扑图，并将拓扑图向邻节点发送；认证未通过则进行人工验证；本模块接收到拓扑消息后，与本地拓扑图比较，若相同则已收敛，然后更新路由表，包括单链路由表和综合路由表；否则更新本地拓扑图，再将拓扑图向邻节点发送；同时，拓扑管理模块定时向网络内其他节点发送链路消息，本节点根据接收到的最新的其他节点的链路消息的时间来判断其他节点是否断网。需要说明的是，本流程中“身份认证算法”采用了基于哈希的身份认证算法。如图9所示，S500对应的上行安全管理的处理流程中，当路由结果中的数据链支持自定义报文时，对上行业务数据进行数据加密，否则不加密；对业务消息使用数字签名进行加密，对除业务消息以外的消息不做特殊处理。具体的，本流程中“增加数字签名”采用了AES加密算法、基于MD5散列函数的信息摘要生成方法。如图10所示，下行安全管理模块包括如下工作流程：下行安全管理模块接收到下行数据链的消息后，经过网络防火墙进行数据筛选后，对身份认证、链路以及拓扑消息，直接转至拓扑管理模块处理；对于业务消息，经过数字签名验证后，将验证通过的数据转至下行流量管理模块处理。具体的，本流程中“数字签名验证”采用了AES解密算法、基于MD5散列函数的信息摘要生成方法。需要进一步说明的是，本发明能够提升作战网络的整体通信能力、包括网络的健壮性以及通信的效能范围，该方法解决了异构数据链的互连互通问题，基于异构数据链建立了网络层的组网和通信能力，广泛适用于现代联合作战背景下的作战单元。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
