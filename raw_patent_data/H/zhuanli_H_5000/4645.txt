标题title
步进电动机驱动装置
摘要abst
本发明的目的在于精细地控制步进电动机。步进电动机驱动装置包括：具有转子、定子和向所述定子产生磁力的线圈的步进电动机；输出包含间歇性输出的多个部分信号的驱动信号的驱动电路；检测在所述部分信号被输出后在所述线圈中产生的感应电流的检测电路；和对所述驱动电路进行控制的控制部，所述驱动电路对所述线圈输出所述驱动信号中包含的任意的部分信号，并根据在该部分信号被输出后在所述线圈中产生的感应电流的变化，对所述线圈输出下一个部分信号，所述控制部基于所述多个部分信号的间隔，决定所述步进电动机的控制方式，基于所述决定的控制方式控制所述驱动电路。
权利要求书clms
1.一种步进电动机驱动装置，其特征在于，包括：步进电动机，其包括被磁化为具有2个以上的极的转子、对所述转子传递磁力的定子和向所述定子产生磁力的线圈；驱动电路，其输出包含间歇性输出的多个部分信号的驱动信号；检测电路，其检测在所述部分信号被输出后在所述线圈中产生的感应电流；和控制部，其对所述驱动电路进行控制，其中，所述驱动电路对所述线圈输出所述驱动信号中包含的任意的部分信号，并根据在该部分信号被输出后在所述线圈中产生的感应电流的变化，对所述线圈输出下一个部分信号，所述控制部基于所述多个部分信号的信号间隔，控制所述驱动电路对所述步进电动机的输出。2.如权利要求1所述的步进电动机驱动装置，其特征在于：所述驱动电路在所述部分信号被输出后检测到小于阈值的感应电流时，对所述线圈输出下一个部分信号。3.如权利要求2所述的步进电动机驱动装置，其特征在于：所述阈值大于0。4.如权利要求2或3所述的步进电动机驱动装置，其特征在于：所述控制部，根据从对所述线圈输出所述多个部分信号中的任意的部分信号起至输出下一个部分信号为止的信号间隔是否超过判断阈值，来判断所述转子是否旋转了1步，在判断为所述转子旋转了1步的情况下，阻止所述下一个部分信号的输出，并结束所述驱动信号的输出。5.如权利要求4所述的步进电动机驱动装置，其特征在于：还包括响应检测脉冲输出部，其在所述部分信号被输出后依次输出1个或多个响应检测脉冲，所述驱动电路在所述响应检测脉冲的输出期间内所述线圈中产生的感应电流小于所述阈值的情况下，对所述线圈输出下一个部分信号，所述控制部，根据对所述线圈输出所述多个部分信号中的任意的部分信号后输出的所述响应检测脉冲的个数是否超过判断阈值，来判断所述转子是否旋转了1步。6.如权利要求5所述的步进电动机驱动装置，其特征在于：所述控制部基于所述驱动信号输出结束为止输出的部分信号的个数，改变下一个要输出的驱动信号的强度。7.如权利要求5或6所述的步进电动机驱动装置，其特征在于：所述驱动电路根据已输出的部分信号的个数，改变所述阈值或改变对小于所述阈值的感应电流进行检测的间隔。8.如权利要求1～3中的任一项所述的步进电动机驱动装置，其特征在于：所述控制部基于所述多个部分信号的信号间隔，判断所述转子的相位是否为预期的相位，所述控制部，在所述相位为预期的相位的情况下通过第一驱动方式进行控制，其中在第一驱动方式中，所述驱动电路输出用于使所述转子在反方向上旋转1步的后续驱动信号，并且，在所述相位与所述预期的相位不同的情况下，通过与所述第一驱动方式不同的第二驱动方式，以限制所述转子的旋转的方式进行控制。9.如权利要求8所述的步进电动机驱动装置，其特征在于：所述驱动信号在规定的输出期间输出，所述控制部基于所述输出期间内输出的所述部分信号的个数，判断所述转子的相位是否为预期的相位。10.如权利要求8所述的步进电动机驱动装置，其特征在于：所述控制部基于规定次序的部分信号的输出时间，判断所述转子的相位是否为预期的相位。11.如权利要求8所述的步进电动机驱动装置，其特征在于：还包括响应检测脉冲输出部，其在所述部分信号被输出后依次输出1个或多个响应检测脉冲，所述驱动电路在所述响应检测脉冲的输出期间内所述线圈中产生的感应电流小于所述阈值的情况下，对所述线圈输出下一个部分信号，所述控制部基于所述输出的响应检测脉冲的个数，判断所述转子的相位是否为预期的相位。12.如权利要求8～11中的任一项所述的步进电动机驱动装置，其特征在于：所述多个部分信号中的第一个部分信号比其他部分信号长。13.如权利要求8～11中的任一项所述的步进电动机驱动装置，其特征在于：所述控制部在每次输出所述部分信号时增大所述阈值。14.如权利要求8～10中的任一项所述的步进电动机驱动装置，其特征在于：还包括响应检测脉冲输出部，其在所述部分信号被输出后依次输出1个或多个响应检测脉冲，所述检测电路检测在响应检测脉冲的输出期间内所述线圈中产生的感应电流是否小于所述阈值，所述响应检测脉冲输出部根据刚输出的部分信号的次序，改变要输出的所述响应检测脉冲的间隔或宽度。15.如权利要求8～11中的任一项所述的步进电动机驱动装置，其特征在于：所述控制部在所述判断的相位与所述预期的相位不同的情况下，使所述驱动电路输出预备驱动信号，该预备驱动信号用于在所述转子为同相的情况下使该转子在反方向上旋转1步。16.如权利要求8～11中的任一项所述的步进电动机驱动装置，其特征在于：所述控制部在所述判断的相位与所述预期的相位不同的情况下，使所述驱动电路对所述线圈的2个端子中的与输出所述后续驱动信号的端子相反的端子，输出预备驱动信号。17.如权利要求15或16所述的步进电动机驱动装置，其特征在于：所述预备驱动信号使所述转子产生的驱动力比所述后续驱动信号小。18.如权利要求8～11中的任一项所述的步进电动机驱动装置，其特征在于：所述控制部在所述判断的相位与所述预期的相位不同的情况下，进行控制以使得所述驱动电路不对所述线圈输出用于驱动所述转子的信号。19.如权利要求1～18中的任一项所述的步进电动机驱动装置，其特征在于：还包括旋转检测脉冲输出部，其在所述驱动信号的输出结束后，依次输出多个旋转检测脉冲，所述控制部基于所述旋转检测脉冲的输出期间内所述线圈中产生的感应电流，来判断所述转子是否旋转了1步，所述响应检测脉冲的输出间隔比所述旋转检测脉冲的输出间隔小。20.一种步进电动机驱动装置，其特征在于，包括：步进电动机，其包括被磁化为具有2个以上的极的转子、对所述转子传递磁力的定子和向所述定子产生磁力的线圈；驱动电路，其对所述线圈输出用于使所述转子在反方向上旋转的一连串的驱动信号；和控制部，其对所述驱动电路进行控制，其中，所述控制部检测在所述驱动信号被输出后所述转子是否在反方向上旋转了1步，所述驱动电路，在检测到所述反方向的1步旋转的情况下，对所述线圈输出促进所述转子的所述旋转的第一收敛信号，在没有检测到所述反方向的旋转的情况下，对所述线圈输出抑制所述转子的旋转的第二收敛信号。21.如权利要求20所述的步进电动机驱动装置，其特征在于：所述驱动电路，在检测到所述反方向的1步旋转的情况下，对所述线圈的一端输出促进所述转子的所述旋转的第一收敛信号，在没有检测到所述反方向的旋转的情况下，对所述线圈的另一端输出抑制所述转子的旋转的第二收敛信号。
说明书desc
技术领域本发明涉及步进电动机驱动装置。背景技术在例如具备模拟显示机构的电子钟表中，为了驱动指针而设有半圈半圈地旋转的步进电动机。步进电动机的控制装置测量在输出了用于使转子旋转的驱动信号后在线圈中产生的感应电流，根据测得的感应电流改变电动机控制的模式。此处，驱动信号由单个脉冲或某极性的多个脉冲构成。由此，步进电动机能够根据其状况被适当地驱动。此外，为了削减电力消耗，存在反复地在输出部分脉冲后测量感应电流，并在感应电流小于规定的值时输出下一部分脉冲的控制方法。专利文献1公开了，在施加大致一定的电压的期间T1之后检测出上限以上的电流值时使线圈短路，当达到下限时重新励磁，并在电流值从上限到达下限花费的时间超过阈值的情况下判断为前进了1步，停止励磁。专利文献2和3公开了，在施加单脉冲之后，在电动机的线圈中流动的电流值下降至基准值Iref时，向线圈输出下一单脉冲，通过反复进行此动作至经过规定的时间，由此来节约电力。现有技术文献专利文献专利文献1：日本特公平2-33108号公报专利文献2：日本专利第2739259号说明书专利文献3：日本专利第2913307号说明书发明内容发明要解决的技术问题但是，如果受到如电池电压大幅变化等干扰，会发生例如无法旋转的状态持续出现，或在与原来的旋转方向相反的方向旋转等异常动作。本发明是鉴于上述问题而完成的，其目的在于，提供一种即使受到干扰也能够稳定地旋转的步进电动机驱动装置。解决问题的技术手段为了解决上述问题，本发明的步进电动机驱动装置采用下述记载的结构。一种步进电动机驱动装置，包括：步进电动机，其包括被磁化为具有2个以上的极的转子、对所述转子传递磁力的定子和向所述定子产生磁力的线圈；驱动电路，其输出包含间歇性输出的多个部分信号的驱动信号；检测电路，其检测在所述部分信号被输出后在所述线圈中产生的感应电流；和控制部，其对所述驱动电路进行控制，其中，所述驱动电路对所述线圈输出所述驱动信号中包含的任意的部分信号，并根据在该部分信号被输出后在所述线圈中产生的感应电流的变化，对所述线圈输出下一个部分信号，所述控制部基于所述多个部分信号的信号间隔，控制所述驱动电路对所述步进电动机的输出。在中，所述驱动电路在所述部分信号被输出后检测到小于阈值的感应电流时，对所述线圈输出下一个部分信号。在中，所述阈值大于0。在或中，所述控制部根据从对所述线圈输出所述多个部分信号中的任意的部分信号起至输出下一个部分信号为止的信号间隔是否超过判断阈值，来判断所述转子是否旋转了1步，在判断为所述转子旋转了1步的情况下，阻止所述下一个部分信号的输出，并结束所述驱动信号的输出。在中，还包括响应检测脉冲输出部，其在所述部分信号被输出后依次输出1个或多个响应检测脉冲，所述驱动电路在所述响应检测脉冲的输出期间内所述线圈中产生的感应电流小于所述阈值的情况下，对所述线圈输出下一个部分信号，所述控制部，根据对所述线圈输出所述多个部分信号中的任意的部分信号后输出的所述响应检测脉冲的个数是否超过判断阈值，来判断所述转子是否旋转了1步。在中，所述控制部基于所述驱动信号输出结束为止输出的部分信号的个数，改变下一个要输出的驱动信号的强度。在或中，所述驱动电路根据已输出的部分信号的个数，改变所述阈值或改变对小于所述阈值的感应电流进行检测的间隔。在至的任一项中，所述控制部基于所述多个部分信号的信号间隔，判断所述转子的相位是否为预期的相位，所述控制部，在所述相位为预期的相位的情况下通过第一驱动方式进行控制，其中在第一驱动方式中，所述驱动电路输出用于使所述转子在反方向上旋转1步的后续驱动信号，并且，在所述相位与所述预期的相位不同的情况下，通过与所述第一驱动方式不同的第二驱动方式，以限制所述转子的旋转的方式进行控制。在中，所述驱动信号在规定的输出期间输出，所述控制部基于所述输出期间内输出的所述部分信号的个数，判断所述转子的相位是否为预期的相位。在中，所述控制部基于规定次序的部分信号的输出时间，判断所述转子的相位是否为预期的相位。在中，还包括响应检测脉冲输出部，其在所述部分信号被输出后依次输出1个或多个响应检测脉冲，所述驱动电路在所述响应检测脉冲的输出期间内所述线圈中产生的感应电流小于所述阈值的情况下，对所述线圈输出下一个部分信号，所述控制部基于所述输出的响应检测脉冲的个数，判断所述转子的相位是否为预期的相位。在至的任一项中，所述多个部分信号中的第一个部分信号比其他部分信号长。在至的任一项中，所述控制部在每次输出所述部分信号时增大所述阈值。在至的任一项中，还包括响应检测脉冲输出部，其在所述部分信号被输出后依次输出1个或多个响应检测脉冲，所述检测电路检测在响应检测脉冲的输出期间内所述线圈中产生的感应电流是否小于所述阈值，所述响应检测脉冲输出部根据刚输出的部分信号的次序，改变要输出的所述响应检测脉冲的间隔或宽度。在至的任一项中，所述控制部在所述判断的相位与所述预期的相位不同的情况下，使所述驱动电路输出预备驱动信号，该预备驱动信号用于在所述转子为同相的情况下使该转子在反方向上旋转1步。在至的任一项中，所述控制部在所述判断的相位与所述预期的相位不同的情况下，使所述驱动电路对所述线圈的2个端子中的与输出所述后续驱动信号的端子相反的端子，输出预备驱动信号。在或中，所述预备驱动信号使所述转子产生的驱动力比所述后续驱动信号小。在至的任一项中，所述控制部在所述判断的相位与所述预期的相位不同的情况下，进行控制以使得所述驱动电路不对所述线圈输出用于驱动所述转子的信号。在至的任一项中，还包括旋转检测脉冲输出部，其在所述驱动信号的输出结束后，依次输出多个旋转检测脉冲，所述控制部基于所述旋转检测脉冲的输出期间内所述线圈中产生的感应电流，来判断所述转子是否旋转了1步，所述响应检测脉冲的输出间隔比所述旋转检测脉冲的输出间隔小。一种步进电动机驱动装置，包括：步进电动机，其包括被磁化为具有2个以上的极的转子、对所述转子传递磁力的定子和向所述定子产生磁力的线圈；驱动电路，其对所述线圈输出用于使所述转子在反方向上旋转的一连串的驱动信号；和控制部，其对所述驱动电路进行控制，其中，所述控制部检测在所述驱动信号被输出后所述转子是否在反方向上旋转了1步，所述驱动电路，在检测到所述反方向的1步旋转的情况下，对所述线圈输出促进所述转子的所述旋转的第一收敛信号，在没有检测到所述反方向的旋转的情况下，对所述线圈输出抑制所述转子的旋转的第二收敛信号。在中，所述驱动电路在检测到所述反方向的1步旋转的情况下，对所述线圈的一端输出促进所述转子的所述旋转的第一收敛信号，在没有检测到所述反方向的旋转的情况下，对所述线圈的另一端输出抑制所述转子的旋转的第二收敛信号。发明效果采用本发明，即使受到干扰，步进电动机也能够相比与现有技术稳定地旋转。附图说明图1是表示第一实施方式的电子表的一个例子的平面图。图2是表示第一实施方式的电子表的电路结构的一个例子的框图。图3是表示在正转1步时输出的信号的一个例子的波形图。图4是表示正转中的感应电流、端子O1、O2的电压的波形图的一个例子的图。图5是表示在正转时输出的脉冲的另一个例子的波形图。图6是表示正转中的感应电流、端子O1、O2的电压的波形图的一个例子的图。图7是表示正转中的处理的一个例子的流程图。图8是表示正转中的处理的一个例子的流程图。图9是说明驱动等级的变化的图。图10是表示电子表的电路结构的变形例的框图。图11是表示在正转1步时输出的信号的一个例子的波形图。图12是表示在正转1步时输出的信号的另一个例子的波形图。图13是表示正转中的处理的另一个例子的流程图。图14是表示正转中的处理的另一个例子的流程图。图15是表示第二实施方式的电子表的电路结构的一个例子的框图。图16是说明同相的情况下的转子的旋转的图。图17是表示反相的情况下的转子的动作的图。图18是表示反转中的处理的一个例子的流程图。图19是表示反转中的处理的一个例子的流程图。图20是表示在同相且转子正常反向旋转的情况下输出的脉冲的一个例子的波形图。图21是表示感应电流、端子O1、O2的电压的波形图的一个例子的图。图22是表示在转子为反相的情况下输出的脉冲的一个例子的图。图23是表示感应电流、端子O1、O2的电压的波形图的一个例子的图。图24是表示在旋转检测中判断为未旋转的情况下输出的脉冲的一个例子的图。图25是表示感应电流、端子O1、O2的电压的波形图的一个例子的图。图26是表示在被误判断为未旋转的情况下输出的脉冲的一个例子的图。图27是表示感应电流、端子O1、O2的电压的波形图的一个例子的图。图28是说明相位判断的另一个例子的图。图29是说明相位判断的另一个例子的图。图30是说明相位判断的另一个例子的图。图31是表示在正转1步时输出的信号的另一个例子的波形图。图32是表示在反相的情况下输出的信号的一个例子的图。图33是表示在反相的情况下输出的信号的一个例子的图。图34是表示在反相的情况下输出的信号的一个例子的图。图35是表示基于图32、33所示的信号实现的转子的动作的图。具体实施方式以下，基于附图对本发明的实施方式进行详细说明。以下说明将本发明应用于便携式的电子表1的情况。在第一实施方式中，说明将本发明应用于步进电动机20的正转控制的电子表1。图1是表示第一实施方式的电子表1的一个例子的平面图，图2是概略地表示电子表1的电路结构的图。电子表1是模拟显示方式的电子表。电子表1包括表盘51、时针52a、分针52b、秒针52c、电动机控制部2、电源3、步进电动机20和未图示的齿轮系。电源3例如包含二次电池。步进电动机20具有1个线圈21、转子22和定子23a、23b。转子22中被磁化有N极和S极这两个极。也可以在转子22磁化更多的极。定子23a、23b隔着转子22相对。线圈21产生与流动的电流相应的磁力。从线圈21的一端和另一端产生的磁力分别被传递至定子23a、23b。步进电动机20与齿轮系机械连接，通过齿轮系驱动时针52a、分针52b和秒针52c等指针。在图2的电动机控制部2，主要记载了使步进电动机正转时所需的结构。电动机控制部2包括振荡电路11、分频电路12、驱动脉冲计数电路30、驱动脉冲生成电路31、响应检测脉冲生成电路32、旋转检测脉冲生成电路34、校正驱动脉冲生成电路35、选择器6、驱动器电路7、响应检测电路41和旋转检测电路42。电动机控制部2例如由包含微控制器的集成电路实现。振荡电路11通过石英振荡器输出规定的时钟信号。时钟信号被输入分频电路12。分频电路12将时钟信号分频，由分频电路12分频后的时钟信号被输入驱动脉冲生成电路31、响应检测脉冲生成电路32、旋转检测脉冲生成电路34和校正驱动脉冲生成电路35。驱动脉冲生成电路31为了使线圈21产生规定极性的磁场，而生成并输出间歇性输出的多个部分驱动脉冲i。驱动脉冲计数电路30在1步的驱动中，对部分驱动脉冲i的输出次数进行计数。响应检测脉冲生成电路32在从输出一个部分驱动脉冲i至输出下一个部分驱动脉冲i的期间，或者输出最后的部分驱动脉冲i之后，生成并输出用于检测因转子22的运动而在线圈21中产生的感应电流的响应检测脉冲Si。旋转检测脉冲生成电路34生成并输出用于判断转子22是否旋转了1步的旋转检测脉冲Ska、Skb。校正驱动脉冲生成电路35在没有判断为转子22旋转了1步的情况下，生成并输出用于强制地使转子22旋转的校正脉冲。部分驱动脉冲i、响应检测脉冲Si、旋转检测脉冲Ska、Skb、校正脉冲被输入到选择器6。选择器6基于电动机控制部2中包含的逻辑电路、微控制器的控制，向驱动器电路7输出这些脉冲中的任一个脉冲。驱动器电路7向步进电动机20的线圈21的端子O1、O2供给与从选择器6输入的部分驱动脉冲i对应的部分驱动信号Di，或者与校正脉冲对应的校正信号，对步进电动机20进行驱动。驱动器电路7输出的信号的波形的上升沿、下降沿的定时与输入到驱动器电路7的脉冲大致相同。此处，用于使转子22旋转1步的驱动信号由一连串的多个部分驱动信号构成。一个驱动信号中包含的多个部分驱动信号的极性相同。驱动器电路7通过电动机控制部2的控制，根据部分驱动信号输出后在线圈21中产生的感应电动势的变化，向线圈21输出下一个部分驱动信号。此外，驱动器电路7在从选择器6输入了响应检测脉冲Si时，通过控制设置在线圈21与响应检测电路41之间的开关，使在线圈21的O1端子、O2端子产生的感应电流输入响应检测电路41。驱动器电路7在从选择器6输入了旋转检测脉冲Ska、Skb时，通过控制设置在线圈21与旋转检测电路42之间的开关，使在线圈21的O1端子、O2端子产生的感应电流输入旋转检测电路42。响应检测电路41是在响应检测脉冲Si被输入驱动器电路7时检测在线圈21中产生的感应电流的电路。响应检测电路41例如包含比较器，基于检测电阻检测是否产生了超过确定的阈值iVt的感应电流。此处，阈值iVt大于0。旋转检测电路42是旋转检测脉冲Ska、Skb被输入驱动器电路7时检测在线圈21中产生的感应电流的电路。旋转检测电路42例如包含比较器，基于检测电阻检测是否产生了超过阈值kaVt、kbVt的感应电流。此外，旋转检测电路42基于检测到的感应电流判断转子22是否已向下一步旋转。旋转检测电路42在判断为未反向旋转的情况下，控制选择器6将校正脉冲输入驱动器电路7。接着，对使步进电动机20的转子22正转的控制进行说明。图3是表示正转1步时输出的信号的一个例子的波形图。在图3中，记载有分别施加在端子O1、O2上的信号以及表示响应检测脉冲Si和旋转检测脉冲Ska、Skb的输出定时的线。该表示定时的线在与时间轴交叉的方向延伸，其长度表示该定时的感应电流的值。此外，按每1步切换从端子O1输出的信号的波形与从端子O2输出的信号的波形。图4是表示正转中的感应电流、端子O1、O2的电压的波形图的一个例子的图。图3的端子O2的部分驱动信号Di1与在图4的端子O2的电压中记载的脉冲对应，图3的响应检测脉冲Si和旋转检测脉冲Ska、Skb的长度与在它们的定时对图4的感应电流的大小进行取样而得到的值对应。图3、4是转子22正常地正转的情况下的例子。驱动期间Ti相当于输出驱动信号的期间，在驱动期间Ti的期间输出多个部分驱动信号Di1。各个部分驱动信号Di1产生与转子22的磁极相斥的方向的磁力，使转子22在正转的方向旋转少许。另外，部分驱动信号Di1的各个脉冲的输出期间为0.375ms。除此以外，还存在更长的0.5ms输出期间的部分驱动信号Di2。通过使驱动脉冲生成电路31根据旋转的状况等有选择地输出部分驱动脉冲i1、部分驱动脉冲i2，驱动器电路7能够向端子O1、O2供给部分驱动信号Di1和部分驱动信号Di2中的一者。在部分驱动信号Di1输出之后输出响应检测脉冲Si。直到通过响应检测脉冲Si而检测出大小低于阈值iVt的感应电流为止，反复输出下一个响应检测脉冲Si。响应检测脉冲Si和旋转检测脉冲Ska、Skb的脉冲宽度为15.625us。从响应检测脉冲Si被检测出起，至输出后续的下一个响应检测脉冲Si为止的间隔为0.125ms。当响应检测电路41检测出感应电流的值的大小低于阈值iVt、且未满足驱动期间Ti的结束条件时，驱动器电路7输出下一个部分驱动信号Di1。驱动期间Ti的结束条件是判断转子22是否旋转了1步的条件，指的是通过响应检测脉冲Si检测出的感应电流的大小未低于阈值iVt的状态连续出现4次的情况。当满足结束条件时，不输出下一个部分驱动信号Di，并且驱动信号的输出也结束。当驱动期间Ti结束时，接着向端子O1、O2输出旋转检测脉冲Ska、Skb。通过旋转检测脉冲Ska、Skb，旋转检测电路42更精密地判断转子22是否旋转了1步。在图3的例子中，第一个旋转检测脉冲Ska在驱动期间Ti结束起0.25ms后输出，以后的旋转检测脉冲Ska的输出间隔为0.5ms，第一个旋转检测脉冲Skb在驱动期间Ti结束起0.5ms后输出，以后的旋转检测脉冲的输出间隔为0.5ms。例如，在通过这些旋转检测脉冲Ska，4次以上未检测出大于阈值kaVt的感应电流，并且，之后通过输出的旋转检测脉冲Skb，3次以上检测出大于阈值kbVt的感应电流的情况下，旋转检测电路42判断为转子22旋转了1步。在部分驱动信号Di1的期间输出的响应检测脉冲Si的检测间隔，小于旋转检测脉冲Ska、Skb的输出间隔。通过收窄响应检测脉冲Si的检测间隔，不容易受到因该响应检测脉冲Si引起的电磁制动，感应电流变得更大。由此能够提高感应电流的检测灵敏度。另外，基于旋转检测脉冲Ska和旋转检测脉冲Skb的判断也可以仅进行其任一者。通过进行两者能够提高旋转检测的可靠性。图5是表示正转时输出的脉冲的另一个例子的波形图。图5是电池电压暂时降低的情况下的例子。图6是表示正转中的感应电流、端子O1、O2的电压的波形图的一个例子的图。图5、6是虽然通过响应检测脉冲Si检测出的感应电流满足驱动期间Ti的结束条件，但实际上并没有旋转的情况下的例子。即，本来应该输出部分驱动信号Di直至能够旋转，但是通过响应检测脉冲Si在过早的阶段误判断为旋转，从而提前中止驱动期间Ti的情况。在这种情况下，通过旋转检测脉冲Ska、Skb检测出的感应电流不满足检测出旋转的条件，因此判断为未旋转。另外，也可以随着部分驱动脉冲i的增加，通过改变检测电阻等来降低判断感应电流是否低于阈值iVt时的检测灵敏度。由此，在过早的阶段误判断为旋转的可能性变小。在图3至6的例子中，在从输出部分驱动信号Di1起至输出下一个部分驱动信号Di1为止的间隔超过规定的阈值的情况下，结束驱动信号的输出。更宽泛地说，电动机控制部2根据信号间隔改变控制方式。由于能够一边输出驱动信号一边调整驱动信号的输出期间，所以始终能够以一定的驱动力旋转。此外，通过在驱动期间Ti结束后追加基于旋转检测脉冲Ska和旋转检测脉冲Skb的旋转判断，例如能够抑制因电源电压的变动等导致未能成功旋转1步的现象。接下来，对正转时的控制进一步进行说明。图7、8是表示正转中的处理的一个例子的流程图。图8是记载图7的步骤S101的处理的图。图7所示的处理在每次使转子22正转1步时执行。此外，图7、8所示的处理可以由电子表1中包含的微控制器控制驱动脉冲生成电路31、响应检测脉冲生成电路32、旋转检测脉冲生成电路34、校正驱动脉冲生成电路35、旋转检测电路42、响应检测电路41等来执行。首先，电动机控制部2为了输出正转的驱动信号而执行以下的处理。另外，在以下的处理之前重置驱动脉冲计数电路30的计数。电动机控制部2使驱动脉冲生成电路31开始生成并输出部分驱动脉冲i。此处，被输入了部分驱动脉冲i的驱动器电路7向线圈21输出部分驱动信号Di1或Di2。此时，驱动脉冲计数电路30对部分驱动脉冲i的输出次数进行计数。此外，在该部分驱动脉冲i的输出期间且从驱动期间Ti开始起未经过最大驱动期间的情况下，电动机控制部2反复进行从步骤S152起的处理直到部分驱动脉冲i的输出结束为止。利用最大驱动期间，能够防止部分驱动脉冲i的输出次数无止境地增加直到能够驱动为止。另外，在从驱动期间Ti开始起经过了最大驱动期间的情况下，预料到驱动力不足从而不能旋转，因此由校正驱动脉冲生成电路35生成校正脉冲，经由选择器6输入了校正脉冲的驱动器电路7输出强制地使转子22旋转的校正信号。校正信号包含5ms的信号和其后的10ms的斩波信号。斩波信号的占空比为16/32，斩波信号中包含的脉冲的期间为0.25ms。在部分驱动信号Di输出开始起32ms后输出。并且，提升下一步的驱动等级，使得将输出部分驱动信号Di2。然后结束正转1步的旋转。当部分驱动脉冲i输出结束时，响应检测脉冲生成电路32输出响应检测脉冲Si，响应检测电路41检测响应检测脉冲Si中的感应电流是否为阈值iVt以下，并判断响应检测脉冲Si的输出次数是否为4次。在响应检测脉冲Si的输出次数为4次的情况下，电动机控制部2结束驱动信号的输出，转移至步骤S103以后的处理。在响应检测脉冲Si的输出次数少于4次的情况下，电动机控制部2判断从驱动期间Ti开始起是否经过了最大驱动期间。在经过了最大驱动期间的情况下执行步骤S154以后的处理。判断从驱动期间Ti开始起是否经过了最大驱动期间。在未经过最大驱动期间的情况下，判断通过响应检测脉冲Si检测出的感应电流是否小于阈值iVt。在感应电流小于阈值iVt的情况下，为了输出下一个部分驱动脉冲i而执行步骤S151以后的处理。另一方面，在感应电流为阈值iVt以上的情况下，为了输出下一个响应检测脉冲Si而执行步骤S156以后的处理。此处，响应检测脉冲Si的输出次数表示在其前后输出的部分驱动信号Di1的信号间隔。由此，基于响应检测脉冲Si的输出次数的判断，也可以说是基于部分驱动信号Di1的信号间隔进行判断。当驱动期间Ti结束时，旋转检测脉冲生成电路34在规定的定时输出旋转检测脉冲Ska、Skb，旋转检测电路42根据基于其输出检测出的感应电动势来判断转子22是否旋转了1步。判断条件如图3、4所说明的那样。在判断为转子22未旋转1步的情况下，校正驱动脉冲生成电路35生成校正驱动脉冲，驱动器电路7接受校正驱动脉冲而向线圈21输出校正信号，并且电动机控制部2提升下一步的驱动等级。此处，提升驱动等级是指，设定成使得驱动器电路7基于驱动脉冲生成电路31的输出而输出部分驱动信号Di2。当驱动等级提升时，驱动信号对步进电动机20的驱动力变高，当驱动等级降低时，驱动信号对步进电动机20的驱动力变低。在判断为转子22旋转了1步的情况下，电动机控制部2基于驱动期间Ti中输出的部分驱动脉冲i的个数决定下一步的驱动等级。更具体而言，在部分驱动脉冲i的输出数小于6个的情况下，降低下一步的驱动等级，在部分驱动脉冲i的输出数为6个以上且小于8个的情况下，维持下一步的驱动等级。在部分驱动脉冲i的输出数为8个以上的情况下，提升下一步的驱动等级。这样，当电源电压下降时，由于事先提升了驱动等级，如图5、6所示那样的、驱动期间Ti提前中止的旋转的可能性变低。此外，因电池电压升高导致过大的驱动力造成异常动作，以及旋转检测脉冲Ska和旋转检测脉冲Skb不再能够跟随感应电流波形那样的可能性也变低。图9是说明驱动等级的变化的图。在期间aa、bb供给常规的电源电压2.0V，之后在期间cc电源电压降低至1.6V，部分驱动信号Di1的输出次数变成8次以上，因此在下一期间dd驱动等级升高，输出部分驱动信号Di2，在期间ee电源电压返回2.0V，部分驱动信号Di2的输出次数变成小于6次，因此在下一期间ff驱动等级下降，输出部分驱动信号Di1。通过不仅进行驱动期间Ti的长度调整，而且还进行部分驱动信号Di1、Di2的切换，能够应对更大范围的环境变化，能够始终以稳定的驱动力进行旋转。此外，部分驱动信号Di1、Di2此处按2种进行了说明，不过当然也可以为3种以上。能够针对电源电压的变动进行细致的驱动力的切换控制。除此以外，驱动等级的切换按每1步进行判断，不过例如也可以在旋转2步、3步之后，根据是否每一步都符合规定的驱动等级切换条件来进行驱动等级的切换判断。由于在电源电压比较稳定的状态下切换驱动力，所以能够减小因电波表接收电波时等电源电压大幅变动的状态和电源噪声等导致误切换驱动等级，从而导致耗电量增大、变得不再能跟踪旋转检测脉冲等的可能性。通过图7、8所示的处理，能够利用与图3、4一起说明的方法来更细致地控制步进电动机20。另外，虽然根据部分驱动脉冲i的输出数进行驱动等级的切换，不过随着部分驱动脉冲i的输出数增加，响应检测脉冲Si的输出数也增加，因此也可以根据响应检测脉冲Si的输出数进行驱动等级的切换。另外，虽然在部分驱动信号Di1和部分驱动信号Di2中，各自的一个个脉冲的输出期间是相同的，不过也可以随着部分驱动信号增加而增大脉冲的宽度。通过增大脉冲的宽度能够缩短驱动期间Ti，对高速走针是有效的。以下，针对第一实施方式的变形例，主要对不同点进行说明。在该变形例中，与以上的例子不同，在输出部分驱动信号Di1之前输出先行部分信号Dj1或Dj2。图10是表示电子表的电路结构的变形例的框图。在该变形例中，相对于图2的例子添加了先行驱动脉冲生成电路33，并且驱动脉冲生成电路31和响应检测电路41的动作不同。图11是表示在正转时输出的信号的一个例子的波形图。图12是表示在正转1步时输出的信号的另一个例子的波形图，其是表示在驱动等级比图11的例子高时输出的信号的波形图。图11、12对应于图3，记载有分别施加在端子O1、O2上的信号以及表示响应检测脉冲Si和旋转检测脉冲Sk的输出定时的线。在图11、12所示的例子中，在输出驱动信号的驱动期间Ti，依次输出先行部分信号Dj1和Dj2中的一者和多个部分驱动信号Di1。先行部分信号Dj1是每隔0.5ms输出的0.375ms宽的2个脉冲，其在驱动等级低的情况下输出。先行部分信号Dj2是在1.0ms期间输出的脉冲，其在驱动等级高的情况下输出。在图11和图12的例子中，在输出先行部分信号Dj1或Dj2之后立即输出响应检测脉冲Si并检测感应电流。这是因为，存在因先行部分信号Dj1或Dj2导致转子22旋转的可能性。此外，鉴于存在旋转的可能性，如图11中可看到的那样，先行部分信号Dj1采用具有斩波休止期间和后续的驱动脉冲输出期间的斩波脉冲结构。其目的是，无论输出先行部分信号Dj1和先行部分信号Dj2这2个驱动等级的哪个等级，都使响应检测脉冲Si的输出开始定时相同。即，在假定先行部分信号Dj1的斩波脉冲中仅具有驱动脉冲输出期间和后续的斩波休止期间的情况下，由于在输出先行部分信号Dj1之后立即会因转子旋转而产生感应电流，所以为了检测感应电流，不得不将响应检测脉冲Si的输出开始定时提前。这种情况下，就需要使响应检测脉冲Si的输出开始定时按先行部分信号Dj1与先行部分信号Dj2而不同。驱动期间Ti的结束条件与图3、4相同，是输出4次响应检测脉冲Si。另一方面，当通过先行部分信号Dj1或Dj2后的响应检测脉冲Si检测出感应电流低于阈值iVt时，接下来输出部分驱动信号Di1，之后的动作与图3、4的例子相同。另外，先行部分信号Dj1、Dj2也可以与图11、12不同。只要先行部分信号Dj2的脉冲施加期间比先行部分信号Dj1长即可。例如，也可以如图31所示那样，在切换驱动等级时并不切换先行部分信号Dj的所有脉冲而是只切换一部分脉冲。在图31的例子中，先行部分信号Dj2包含0.5ms宽的脉冲和其后输出的0.375ms宽的脉冲。此外，此处说明的是使用2种部分驱动信号Dj1、Dj2的例子，当然也可以使用3种以上。例如，在存在3个驱动等级的情况下，可以按驱动等级由低到高的顺序，使部分驱动信号依次为每隔0.5ms输出的0.25ms宽的2个脉冲、0.375ms宽的2个脉冲、0.5ms宽的2个脉冲。驱动等级的切换也可以不按每1步进行判断，而是例如在旋转2步、3步之后，判断驱动等级是否切换。接着，进一步说明正转时的控制。图13、14是表示正转中的处理的另一个例子的流程图，是对应于图7、8的图。在以下的说明中，对与图7、8的共同点省略说明。图13、14所示的处理由电动机控制部2中包含的微控制器控制驱动脉冲生成电路31、响应检测脉冲生成电路32、先行驱动脉冲生成电路33、旋转检测脉冲生成电路34、校正驱动脉冲生成电路35、旋转检测电路42、响应检测电路41等来执行。首先，电动机控制部2输出用于正转的驱动信号中的先行部分信号Dj1或Dj2。然后，为了输出后续的驱动信号执行图14所示的处理。图14是记载了图13的步骤S202的处理的图。首先，响应检测脉冲生成电路32输出响应检测脉冲Si，响应检测电路41检测响应检测脉冲Si中的感应电流是否为阈值iVt以下，并判断响应检测脉冲Si的输出次数是否为4次。在响应检测脉冲Si的输出次数为4次的情况下，电动机控制部2结束驱动信号的输出，转移至步骤S203以后的处理。在响应检测脉冲Si的输出次数少于4次的情况下，电动机控制部2判断从驱动期间Ti开始起是否经过了最大驱动期间。在经过了最大驱动期间的情况下，校正驱动脉冲生成电路35生成校正脉冲，经由选择器6输入了校正脉冲的驱动器电路7输出强制地使转子22旋转的校正信号。并且，提升下一步的驱动等级，使得将输出先行部分信号Dj2。然后结束正转1步的旋转。另一方面，在未经过最大驱动期间的情况下，电动机控制部2判断通过响应检测脉冲Si检测出的感应电流是否小于阈值iVt。在感应电流小于阈值iVt的情况下，使驱动脉冲生成电路31开始输出部分驱动脉冲i。另一方面，在感应电流为阈值iVt以上的情况下，为了输出下一个响应检测脉冲Si而执行步骤S251以后的处理。然后，在该部分驱动脉冲i的输出期间，除了从驱动期间Ti开始起已经过最大驱动期间的情况以外，电动机控制部2在部分驱动脉冲i的输出结束之前反复进行步骤S258的处理来进行待机。另外，在从驱动期间Ti开始起经过了最大驱动期间的情况下，执行步骤S254以后的处理。当驱动期间Ti结束时，旋转检测脉冲生成电路34在规定的定时输出旋转检测脉冲Ska、Skb，根据基于其输出检测出的感应电动势来判断转子22是否旋转了1步。判断条件与使用图3、4说明的相同。在判断为转子22未旋转1步的情况下，输出校正信号，并且电动机控制部2提升下一步的驱动等级。这种情况下，设定成使得驱动器电路7基于先行驱动脉冲生成电路33的输出而输出先行部分信号Dj2。在判断为转子22旋转了1步的情况下，电动机控制部2决定下一步的驱动等级。更具体而言，在部分驱动脉冲i的输出数小于4个的情况下，提升下一步的驱动等级，在部分驱动脉冲i的输出数为4个以上且小于6个的情况下，维持下一步的驱动等级。在部分驱动脉冲i的输出数为6个以上的情况下，降低下一步的驱动等级。通过图13、14所示的处理，能够实现图11、12中记载的信号的输出。第一实施方式及其变形例中设想的是1步1秒的走针方式，但也可以应用于64Hz走针等高速走针。也可以在达到要输出校正脉冲的条件时为了确保该校正脉冲的输出期间，而暂时降低到16Hz这样的速度。另外，脉冲形状、判断个数等只是一个例子，应该根据电动机来适当设定。在第二实施方式中，说明将本发明应用于步进电动机20的反转控制的电子表1。图15是概略地表示第二实施方式的电子表1的电路结构的图。外形因为与第一实施方式相同所以省略说明。电子表1包括图1所示的指针等、电动机控制部2、电源3、步进电动机20和未图示的齿轮系。电源3、步进电动机20、齿轮系以及图1所示的指针等与第一实施方式相同，因此省略说明。在图15的电动机控制部2，主要记载了使步进电动机反转时所需的结构。电动机控制部2包括振荡电路11、分频电路12、驱动脉冲计数电路70、第一驱动脉冲生成电路71、响应检测脉冲生成电路72、第二驱动脉冲生成电路73、旋转检测脉冲生成电路74、第三驱动脉冲生成电路75、第四驱动脉冲生成电路76、旋转收敛脉冲生成电路77、选择器6、驱动器电路7、响应检测电路81和旋转检测电路82。电动机控制部2例如由包含微控制器的集成电路实现。振荡电路11、分频电路12与第一实施方式相同。由分频电路12分频后的时钟信号被输入第一驱动脉冲生成电路71、响应检测脉冲生成电路72、第二驱动脉冲生成电路73、旋转检测脉冲生成电路74、第三驱动脉冲生成电路75、第四驱动脉冲生成电路76和旋转收敛脉冲生成电路77。第一驱动脉冲生成电路71为了使线圈21产生规定极性的磁场，而生成并输出间歇性输出的多个部分驱动脉冲m。响应检测脉冲生成电路72在从输出一个部分驱动脉冲m至输出下一个部分驱动脉冲m的期间，或者输出最后的部分驱动脉冲m之后，生成并输出用于检测因转子22的运动而产生的感应电流的响应检测脉冲Sm。驱动脉冲计数电路70在1步的驱动中，对部分驱动脉冲m的输出次数进行计数。电动机控制部2基于一连串的部分驱动脉冲m的输出间隔，判断电动机控制部2假定的相位与转子22的相位是否相同。以下，将相位相同的情况记作同相，将相位相反的情况记作反相。第二驱动脉冲生成电路73在电动机控制部2假定的相位与转子22的相位相同的情况下，生成并输出第二驱动脉冲b。响应于第二驱动脉冲b，驱动器电路7输出使转子22反向旋转的第二驱动信号B。旋转检测脉冲生成电路74在第二驱动脉冲b输出之后，生成并输出用于判断转子22是否在反方向旋转了1步的旋转检测脉冲Sk。第三驱动脉冲生成电路75在电动机控制部2假定的相位与转子22的相位相反的情况下，生成并输出第三驱动脉冲c。第三驱动脉冲c作为多个脉冲输出。第三驱动脉冲c的详细情况后述。第四驱动脉冲生成电路76生成并输出第四驱动脉冲d。第四驱动脉冲d是用于对转子22传递比第二驱动脉冲b强的驱动力的脉冲，是仅限于电源电压急剧降低等存在较大干扰的情况下输出的脉冲。第四驱动脉冲d作为多个脉冲输出。第四驱动脉冲d的详细情况后述。旋转收敛脉冲生成电路77输出旋转收敛脉冲s。旋转收敛脉冲s由不会旋转1步的程度的驱动力小的脉冲构成。在旋转检测脉冲Sk结束后，基于是否作出了旋转判断来切换脉冲输出。如果在转子22的旋转未结束的状态下输出以后的脉冲，则容易造成一次性走2步等异常走针。旋转收敛脉冲s是用于防止异常走针的脉冲，是具有如下作用的脉冲：在旋转检测脉冲Sk结束后作出了旋转判断的情况下，即能够旋转的情况下，促进转子22的旋转，反之，在旋转检测脉冲Sk结束后判断为不能旋转的情况下，即未能旋转的情况下，抑制转子22的旋转，使其尽早返回静止位置。由于能够在转子的旋转已收敛的状态下输出下一步的脉冲，所以能够实现稳定的高速走针。而且，旋转收敛脉冲优选不是1个脉冲而是2个以上的斩波脉冲。通过采用2个以上的斩波脉冲，可抑制的时间宽度得到增大，即使转子22的驱动力有一定程度的变动也能够应对。当然还可以应用于第一实施方式。频率选择电路79用于选择1步的期间，即，从用于反向旋转1步的电动机控制部2的动作开始起，至下一步中用于反向旋转1步的电动机控制部2的动作开始为止的期间。作为1步的期间，频率选择电路79选择作为其倒数的驱动频率。部分驱动脉冲m、响应检测脉冲Sm、第二驱动脉冲b、旋转检测脉冲Sk、第三驱动脉冲c、第四驱动脉冲d、旋转收敛脉冲s被输入到选择器6。选择器6基于电动机控制部2中包含的逻辑电路、微控制器的控制，向驱动器电路7输出这些脉冲中的任一个脉冲。驱动器电路7向步进电动机20的线圈21的端子O1、O2供给部分驱动信号Dm、第二驱动信号B、第三驱动信号C、第四驱动信号D、旋转收敛信号S。部分驱动信号Dm、第二驱动信号B、第三驱动信号C、第四驱动信号D、旋转收敛信号S分别响应于从选择器6输入的部分驱动脉冲m、第二驱动脉冲b、第三驱动脉冲c、第四驱动脉冲d、旋转收敛脉冲s而输出。此处，使转子22反向旋转1步时输出的驱动信号由一连串的部分驱动信号Dm构成。一个驱动信号中包含的多个部分驱动信号Dm的极性相同。此外，驱动器电路7在从选择器6输入了响应检测脉冲Sm时，通过控制设置在线圈21与响应检测电路41之间的开关，使在线圈21的O1端子、O2端子产生的感应电流输入响应检测电路41。驱动器电路7在从选择器6输入了旋转检测脉冲Sk时，通过控制设置在线圈21与旋转检测电路42之间的开关，使在线圈21的O1端子、O2端子产生的感应电流输入旋转检测电路42。响应检测电路81是在响应检测脉冲Sm被输入驱动器电路7时检测在线圈21中产生的感应电流的电路。响应检测电路41例如包含比较器，基于检测电阻检测是否产生了超过确定的阈值mVt的感应电流。旋转检测电路82是在旋转检测脉冲Sk被输入驱动器电路7时检测在线圈21中产生的感应电流的电路。旋转检测电路42例如包含比较器，基于检测电阻检测是否产生了超过阈值kVt的感应电流。此外，旋转检测电路42基于检测到的感应电流判断转子22是否在反方向旋转了1步。旋转检测电路42在判断为未旋转的情况下，控制选择器6向驱动器电路7输入用于强制旋转的脉冲。其动作的详细情况后述。接着，对本发明的实施方式的步进电动机20反转时的动作的概要进行说明。图16是说明同相的情况下的转子22的旋转的图，表示了转子22的状态的变化。直线L表示在线圈21未产生磁力的情况下转子22因磁铁的保持力而静止的位置。直线L的延伸方向是使连接定子23a、23b的线向正转方向旋转了j°的方向。转子22静止的位置是转子22在驱动脉冲输出后一边衰减一边自由振动时的中心，以下记作“稳定位置”。步进电动机20的1步对应于转子22旋转半圈，转子22每旋转半圈到达稳定位置。时间T11是初始状态，转子22静止在稳定位置。在时间T12，基于多个部分驱动脉冲m，向线圈21输入了包含多个部分驱动信号Dm的第一驱动信号A。线圈21经由定子23a、23b对转子22传递第一极性的磁力。通过第一极性的磁力，在同相的情况下转子22的磁极与定子23a、23b相斥。由此，转子22向正转方向旋转少许。此处，基于多个部分驱动信号Dm的信号间隔，判断转子22是同相还是反相。在图16的例子中判断为同相。当判断为同相时，在时间T13向驱动器电路7输入第二驱动脉冲b，对线圈21供给使转子22向下一步反向旋转的第二驱动信号B。如此，在线圈21产生与第一极性相反的第二极性的磁力，其磁力被传递到转子22。通过第二极性的磁力，在时间T13且同相的情况下转子22的磁极与定子23a、23b相吸引。通过第二极性的磁力，转子22向反转方向旋转，在惯性和磁铁的保持力的作用下反转至下一步的稳定位置，最终静止在下一步的稳定位置。由于转子22的极性反转，在之后进一步反向旋转1步时，从线圈21供给与前步相反极性的磁力。即，与正转一样，按每1步切换从端子O1输出的信号的波形与从端子O2输出的信号的波形。图17是表示反相的情况下的转子22的动作的图。时间T21是初始状态，转子22静止在稳定位置。此处，令根据电动机控制部2的动作所预料的相位为图16的时间T11的状态，时间T21的转子22的相位与根据电动机控制部2的动作所预料的相位相反。在时间T22，基于多个部分驱动脉冲m，向线圈21输入包含多个部分驱动信号Dm的第一驱动信号A。线圈21经由定子23a、23b对转子22传递第一极性的磁力。第一极性与同相的情况下相同，不过因为在时间T22转子22为反相，所以在第一极性的情况下转子22的磁极与定子23a、23b相吸引，转子22向反转方向旋转少许。此处，基于多个部分驱动信号Dm的信号间隔，判断转子22是同相还是反相。此处判断为转子22的相位为反相。接着，在判断为反相的情况下向驱动器电路7输入第三驱动脉冲c，向线圈21输入第三驱动信号C。此处，以在转子22为反相的情况下使得转子22不会向正方向旋转1步的方式来控制。于是，转子22最终向与供给第一驱动信号A之前相同的稳定位置旋转。另外，第三驱动脉冲c的占空比被设定为，在原本为同相却判断为反相的情况下，产生能够使转子22向反方向旋转1步的程度的驱动力。接着，进一步对反向旋转时的控制进行详细说明。图18、19是表示反转中的处理的一个例子的流程图。图19是更详细地记载了图18的步骤S301和S311的图。图18所示的处理在每次使转子22反向旋转1步时执行。此外，图18、19所示的处理由电子表1中包含的微控制器控制第一驱动脉冲生成电路71、响应检测脉冲生成电路72、第二驱动脉冲生成电路73、旋转检测脉冲生成电路74、第三驱动脉冲生成电路75、第四驱动脉冲生成电路76、旋转收敛脉冲生成电路77、响应检测电路81、旋转检测电路82等来执行。首先，电动机控制部2为了向线圈21输出第一驱动信号A而执行以下的处理。第一驱动信号A包含与多个部分驱动脉冲m对应的多个部分驱动信号Dm。另外，在以下的处理之前重置驱动脉冲计数电路70的计数。电动机控制部2使第一驱动脉冲生成电路71开始生成并输出多个部分驱动脉冲m。此处，被输入了部分驱动脉冲m的驱动器电路7向线圈21输出部分驱动信号Dm。此时，驱动脉冲计数电路30对部分驱动脉冲m的输出次数进行计数。此外，在该部分驱动脉冲m的输出期间且从第一驱动信号A开始起未经过输出期间的情况下，电动机控制部2反复进行从步骤S352起的处理直到部分驱动脉冲m的输出结束为止。此处，在从第一驱动信号A开始起经过了输出期间的情况下，电动机控制部2结束用于输出第一驱动信号A的处理。此外，即使部分驱动脉冲m的输出结束，在该第一驱动信号A的输出中已经输出了第四个部分驱动脉冲m的情况下，将转移至步骤S353，电动机控制部2待机直至已经过输出期间。在部分驱动脉冲m的输出结束，且已经输出的部分驱动脉冲m的个数为3以下的情况下，响应检测脉冲生成电路72输出响应检测脉冲Sm，响应检测电路81检测响应检测脉冲Sm的输出定时处的感应电流是否为阈值mVt以下。此处，在从第一驱动信号A开始起已经过输出期间的情况下，电动机控制部2结束用于输出第一驱动信号A的处理，在从第一驱动信号A开始起未经过输出期间的情况下，进一步判断通过响应检测脉冲Sm检测的感应电流是否小于阈值mVt。在感应电流小于阈值mVt的情况下，为了输出下一个部分驱动脉冲m而执行步骤S351以后的处理。另一方面，在感应电流为阈值mVt以上的情况下，为了输出下一个响应检测脉冲Sm而执行步骤S355以后的处理。当图19所示的处理结束时，电动机控制部2基于所输出的部分驱动脉冲m的信号间隔，判断电动机控制部2假定的相位与转子22的实际的相位是否相同。更具体而言，电动机控制部2判断由驱动脉冲计数电路70计得的部分驱动脉冲m的个数是否为3个以下。在部分驱动脉冲m的个数为3个以下的情况下，判断为假定的相位与转子22的实际的相位不同，第三驱动脉冲生成电路75输出第三驱动脉冲c，驱动器电路7接受该驱动脉冲而输出第三驱动信号C。此外，频率选择电路79选择16Hz作为下一步开始前的驱动频率。另外，与同相且正常地反向旋转的情况相比，使驱动频率降低，延长1步的期间。即，反相虽然是通常不容易发生的状态，但需要在下一步恢复为同相状态，以能够可靠地旋转。为了在下一步开始前确保转子22可靠地静止的状态，使下一步开始前的期间与同相且正常地反向旋转的情况相比足够长。另一方面，在部分驱动脉冲m的个数超过3个的情况下，判断为假定的相位与转子22的实际的相位相同，第二驱动脉冲生成电路73输出第二驱动脉冲b，驱动器电路7接受该驱动脉冲输出第二驱动信号B。此处，由于第一驱动信号A的输出期间固定，因此在该输出期间内输出的部分驱动脉冲m的个数表示部分驱动脉冲m的信号间隔。由此，基于部分驱动脉冲m的个数的判断，也可以说是基于部分驱动脉冲m的信号间隔进行判断。旋转检测脉冲生成电路34在规定的定时输出旋转检测脉冲Sk，旋转检测电路82根据基于其输出检测出的感应电动势来判断转子22是否反向旋转了1步。更具体而言，在3次输出的旋转检测脉冲Sk中，如果全部3次旋转检测脉冲Sk的感应电动势均大于阈值kVt，则判断为旋转检测电路82已在反方向旋转。在判断为已反向旋转的情况下，旋转收敛脉冲生成电路77输出旋转收敛脉冲s，驱动器电路7输出旋转收敛信号S。旋转收敛信号S以能够使转子22尽早返回静止位置的方式，被输出到端子O1、O2中的一个。进一步，频率选择电路79选择64Hz作为驱动频率。另一方面，在判断为未反向旋转的情况下，旋转收敛脉冲生成电路77输出旋转收敛脉冲s，驱动器电路7输出旋转收敛信号S。其中，旋转收敛信号S被输出到端子O1、O2之中的、与步骤S308中被施加的端子不同的端子。这是因为，在发生了反向旋转的情况下与未反向旋转的情况下，转子21的极性不同，因此使转子22的旋转收敛所需的信号的极性也需要改变。当转子22的旋转已被旋转收敛信号S抑制时，电动机控制部2再次输出第一驱动信号A。该动作与步骤S301相同因此省略说明。然后，电动机控制部2判断由驱动脉冲计数电路70计得的部分驱动脉冲m的个数是否为3个以下。在部分驱动脉冲m的个数超过3个的情况下，判断为同相，为了使转子22更可靠地旋转，第四驱动脉冲生成电路76生成并输出第四驱动脉冲d，驱动器电路7向线圈21输出第四驱动信号D。而且，由于所需时间长，需要延长下一步开始前的时间，频率选择电路79选择8Hz作为驱动频率。另一方面，在部分驱动脉冲m的个数为3个以下的情况下，判断为反相，第三驱动脉冲生成电路75输出第三驱动脉冲c，驱动器电路7接受该驱动脉冲输出第三驱动信号C。此外，频率选择电路79选择16Hz作为下一步开始前的驱动频率。图20是表示同相且转子22正常地反向旋转的情况下输出的脉冲的一个例子的波形图。图21是表示感应电流、端子O1、O2的电压的波形图的一个例子的图，是表示输入了图20所示的脉冲的情况下的例子的图。在图20、21的例子中，在第一驱动信号A的输出期间Ta的期间，向线圈21施加4个部分驱动信号Dm。在同相的情况下，转子22因部分驱动信号Dm而在正转方向上运动，因此转子22从静止位置起的旋转移动量变大，在部分驱动信号Dm的施加结束后，由于转子22受磁铁的保持力而返回原来的方向的快速动作，感应电流迅速下降。因此，在检测到比阈值mVt低的感应电流之前输出的响应检测脉冲Sm的个数少，部分驱动脉冲m和部分驱动信号Dm的信号间隔窄。因此，输出期间Ta中输出的部分驱动信号Dm的个数变多。在图18的步骤S302，利用该原理检测转子22是否为同相。电动机控制部2根据信号间隔判断是否为同相，根据其判断结果改变控制方式。在第一驱动信号A的输出期间Ta，部分驱动脉冲m和响应于该部分驱动脉冲m输出的多个部分驱动信号Dm各自的脉冲宽度，随它们的每次输出而变短。在该例子中，输出期间Ta为2.25ms，第一至第四的多个部分驱动信号Dm的脉冲宽度分别为0.5ms、0.375ms、0.25ms、0.125ms。由此，能够利用前半程输出的脉冲加大从静止位置起的转子22的移动量，并且利用后半程输出的脉冲，能够容易地检测部分驱动信号Dm的信号间隔的差异，将其作为部分驱动信号Dm的变化，能够使部分驱动信号Dm的信号间隔在同相与反相时不同，使得相位判断变得容易。另外，也可以例如使第二个以后的部分驱动信号Dm的脉冲宽度相同，在抗干扰性强的电动机的情况下，也可以使所有的脉冲宽度都相同。此外，部分驱动脉冲m的脉冲形状也可以根据电源电压变化。例如在电源电压为常规的情况下采用上述的脉冲宽度，在电压更低的情况下，第一至第四的多个部分驱动信号Dm的脉冲宽度可以分别为0.75ms、0.625ms、0.5ms、0.375ms。此外，也可以在输出第一个部分驱动脉冲m之前或之后，设定输出固定的脉冲的期间。响应检测脉冲Sm的间隔为0.125ms，脉冲宽度为15.625us。在图20、21的例子中，判断为同相，输出第二驱动信号B。第二驱动信号B的脉冲宽度为1.5ms。并且，3个旋转检测脉冲Sk按检测间隔0.5ms输出，在步骤S307判断为转子在反方向旋转了1步。在其3ms后输出旋转收敛信号S。旋转收敛信号的输出开始定时可以在作出旋转判断时与作出未旋转判断时不同。旋转收敛信号S是占空比为8/32的斩波脉冲组，在本实施方式的例子中，在输出期间Ts输出的斩波脉冲的个数为2个。旋转收敛信号S是强度为独自只能产生无法使转子22旋转的程度的驱动力的信号。通过在输出用于使转子22旋转的信号之后输出的旋转收敛信号S，能够更快地抑制转子22的振动等运动。图22是表示转子22为反相的情况下输出的脉冲的一个例子的波形图。图23是表示感应电流、端子O1、O2的电压的波形图的一个例子的图，是表示输入了图22所示的脉冲的情况下的例子的图。在图20、21的例子中，在第一驱动信号A的输出期间Ta的期间，向线圈21施加了3个部分驱动信号Dm。在反相的情况下，由于转子22因部分驱动信号Dm而在反转方向上运动，因此之后转子22要返回稳定位置的运动变得迟缓。由此，与同相的情况相比感应电流更慢地下降。因此，在检测到比阈值mVt低的感应电流之前输出的响应检测脉冲Sm的个数变多，部分驱动脉冲m和部分驱动信号Dm的信号间隔变宽，部分驱动信号Dm的个数变多。在图22、23的例子中，在步骤S302判断为同相，在输出期间Tc输出第三驱动信号C。第三驱动信号C是占空比16/32的斩波脉冲组。各个斩波脉冲的宽度为0.125ms，输出期间Tc为1.5ms。第三驱动信号C比第二驱动信号B驱动力弱，其驱动力被设定成，在反相的情况下转子22绝不会误向正方向旋转，在同相的情况下转子22会一定程度地旋转。由此，防止在反相的情况下误向正方向旋转，并且将虽然实际上同相却判断为反相的情况下的影响抑制在最小限度。此外，第三驱动信号C可以如图32、33所示那样对与图20的第二驱动信号B相反的端子输出，也可以如图34所示那样不输出。在图20的例子中，对线圈20的端子O1、O2中与第一驱动信号A不同的端子O1输出第二驱动信号B，在图32、33的例子中，第三驱动信号C对与第一驱动信号A相同的端子O2输出。第三驱动信号C的极性与第二驱动信号B相反。图35是表示基于图32、33所示的信号实现的转子22的旋转的一个例子的图。通过将第三驱动信号C输出到相反的端子，起到将转子22拉回静止位置那样的作用。由此，抑制在反相的情况下误发生正转的现象，不易产生持续出现反相状态等异常走针。如果如图34所示那样没有驱动信号C，则具有能够相应地提前输出下一步，能够更高速地走针的优点。图24是表示在旋转检测中判断为未旋转的情况下输出的脉冲的一个例子的图。图25是表示感应电流、端子O1、O2的电压的波形图的一个例子的图，是表示输入了图24所示的脉冲的情况下的例子的图。图24、25表示虽然判断为同相，但是由于电源电压降低等导致不能在反方向上旋转的情况下的例子。在该例子中，在输出第二驱动信号B之后的、基于3次旋转检测脉冲Sk判断感应电流的定时，未能测量到2次以上超过阈值kVt的感应电流，因此判断为未旋转，对与图20的例子相反的端子输出旋转收敛信号S。在抑制了转子22的动作之后，在输出最初的第一驱动信号A的部分驱动信号Dm起32ms后再次输出第一驱动信号A的部分驱动信号Dm，在此处判断为同相。之后，为了更可靠地使转子22向反方向旋转，输出第四驱动信号D。第四驱动信号D的输出期间分为输出期间Tda和输出期间Tdb。在输出期间Tda，对与第二驱动信号B相同的端子输出脉冲宽度为2.5ms的信号。在输出期间Tdb，在2.5ms的休息期间之后，对与输出期间Tda不同的端子输出5.0ms的脉冲及其之后的10ms的斩波脉冲组。斩波脉冲组的占空比为16/32，斩波脉冲宽度为0.25ms。输出期间Tda中输出的脉冲是能够可靠地旋转的驱动力大的脉冲。但是存在因电源电压等干扰而过度旋转的可能性。由此，在输出期间Tda之后准备了输出期间Tdb输出的脉冲，其作用是，在因电池电压降低导致驱动力低的情况下起到旋转的作用，在过度旋转等情况下具有抑制转子22的旋转的作用。根据该结构，平时能够抑制电力并且高速走针，而在电池电压降低的情况下也能够使转子22可靠地旋转。图26是表示误判断为未旋转的情况下输出的脉冲的一个例子的图。图27是表示感应电流、端子O1、O2的电压的波形图的一个例子的图，是表示输入了图26所示的脉冲的情况下的例子的图。图26、27是原本为同相，在旋转检测中判断为未旋转但实际上发生了旋转的情况下的例子。尤其在因为电源电压高、驱动力过剩导致不能跟踪旋转检测脉冲Sk的情况下，会成为该模式。在图26、27的例子中，由于在输出旋转收敛信号S的时刻正在旋转，因此在第二次的第一驱动信号A的输出期间Ta实质上为反相的状态。在这样的情况下也能够检测出反相，通过第三驱动信号C来阻止误向正方向旋转。这样，能够仅根据第二次的输出期间Ta的部分驱动信号Dm的输出进行反相判断，因此在出现旋转判断错误的情况下也能够容易应对。第一驱动信号A中的同相、反相，也可以利用与以上说明的方法不同的方法来判断。图28是说明相位判断的另一个例子的图。在图28的例子中，驱动脉冲计数电路70对基准时间Tr前输出的部分驱动信号Dm的个数r1和基准时间Tr后输出的部分驱动信号Dm的个数r2进行计数，电动机控制部2基于r1与r2之差判断转子22是同相还是反相。所输出的部分驱动信号Dm的特性与以上说明的相同。在图28的例子中，在基准时间Tr之前，在同相的情况下输出3个部分驱动信号Dm，在反相的情况下输出2个部分驱动信号Dm。另一方面，在基准时间Tr之后仅输出1个部分驱动信号Dm。因此，同相的情况下为＝2，反相的情况下为＝1。因此，电动机控制部2能够通过判断是否为1以下，来判断是同相还是反相。此外，驱动脉冲计数电路70也可以代替部分驱动脉冲m的个数，对输出期间Ta中输出的响应检测脉冲Sm的个数进行计数。在这种情况下，电动机控制部2可以在响应检测脉冲Sm的个数例如为8个以上的情况下判断为反相，在小于8个的情况下为判断同相。当然，也可以基于基准时间Tr前输出的响应检测脉冲Sm的个数来判断是否是同相，还可以根据实际的步进电动机20等的状况变更各种参数。图29是说明相位判断的另一个例子的图。图29的例子是输出期间Ta可变，输出期间Ta中输出的部分驱动信号Dm的个数固定的情况下的例子。电动机控制部2根据特定的部分驱动信号Dm的输出时间判断是否为同相。在图29的例子中，电动机控制部2设置作为阈值的基准时间Tr，根据开始输出第四个部分驱动信号Dm的时间是否早于基准时间Tr来判断是否为同相。例如，如果开始输出第四个部分驱动信号Dm的时间比基准时间Tr早则判断为同相，而在开始输出第四个部分驱动信号Dm的时间比基准时间Tr晚的情况下判断为反相。在图28、29说明的判断中，也可以与以上说明的例子同样地，基于部分驱动脉冲m的信号间隔进行判断。图30是说明相位判断的另一个例子的图。在图30的例子中，响应检测脉冲生成电路72根据响应检测脉冲Sm的输出次数使检测间隔变化。响应检测脉冲生成电路72使响应检测脉冲Sm与其下一个响应检测脉冲Sm的间隔随着输出次数增加而变大。例如，初次的响应检测脉冲Sm输出为止的检测间隔为0.125ms，之后，第二次的响应检测脉冲Sm输出为止的检测间隔为0.25ms，之后，第三次的响应检测脉冲Sm输出为止的检测间隔为0.5ms。如此，在感应电流的衰减缓慢的情况下检测该感应电流的定时变得更慢。因此在同相的情况下与反相的情况下，部分驱动信号Dm的信号间隔之差变大，能够更可靠地检测出相位的差异。另外，该例中通过响应检测脉冲Sm降低感应电流的检测灵敏度。也可以代替检测间隔，使响应检测脉冲生成电路72输出的响应检测脉冲Sm的脉冲宽度随着输出次数增加而变窄。例如，可以使第一至第三个响应检测脉冲Sm的脉冲宽度为62.5us、31.25us、15.625us，并使第四个以后的脉冲宽度固定。此外，也可以使响应检测电路81判断感应电流的阈值mVt随着响应检测脉冲Sm的输出次数的增加而变大。例如，可以使与第一至第三个响应检测脉冲Sm对应的阈值mVt为电源电压的4/8、5/8、6/8。另外，本发明的各实施方式中表示的结构图、电路图、波形图等并不限定于此，只要满足本发明的技术思想就能够任意地变更。
