标题title
基于联盟链的视频签约方法、装置和系统
摘要abst
本发明提供一种基于联盟链的视频签约方法、装置和系统，涉及区块链技术领域。该基于联盟链的视频签约方法应用于联盟链网络，包括：接收来自联盟链网络的视频发起端的视频数据，根据视频数据中的时间戳确定缺失数据；根据缺失数据对应的接收端IP地址确定相邻IP地址；根据缺失数据从相邻IP地址的视频帧池中查找同类数据，根据同类数据和视频数据生成完整视频数据；根据预设时间段从完整视频数据中提取目标视频数据，按照时间戳对目标视频数据进行排序后展示以进行视频签约。本发明可以解决线上签约的要求，降低网络安全风险。
权利要求书clms
1.一种基于联盟链的视频签约方法，其特征在于，所述视频通信方法应用于联盟链网络，包括：接收来自所述联盟链网络的视频发起端的视频数据，根据所述视频数据中的时间戳确定缺失数据；根据所述缺失数据对应的接收端IP地址确定相邻IP地址；根据所述缺失数据从所述相邻IP地址的视频帧池中查找同类数据，根据所述同类数据和所述视频数据生成完整视频数据；根据预设时间段从所述完整视频数据中提取目标视频数据，按照所述时间戳对所述目标视频数据进行排序后展示以进行视频签约。2.根据权利要求1所述的视频签约方法，其特征在于，还包括：接收来自所述视频发起端的完整性告警数据，根据所述完整性告警数据中的IP地址和时间戳定位损坏数据；对所述损坏数据进行修复，反馈修复信息至所述视频发起端和第三方视频端。3.根据权利要求2所述的视频签约方法，其特征在于，还包括：接收来自所述视频发起端的安全性告警数据；其中，所述安全性告警数据由所述视频发起端根据预设IP地址对所述视频数据对应的发起端IP地址进行检查生成；删除所述安全性告警数据中的问题IP地址对应的视频数据。4.一种基于联盟链的视频签约装置，其特征在于，所述视频通信装置应用于联盟链网络，包括：缺失数据确定模块，用于接收来自所述联盟链网络的视频发起端的视频数据，根据所述视频数据中的时间戳确定缺失数据；相邻IP地址确定模块，用于根据所述缺失数据对应的接收端IP地址确定相邻IP地址；完整视频数据模块，用于根据所述缺失数据从所述相邻IP地址的视频帧池中查找同类数据，根据所述同类数据和所述视频数据生成完整视频数据；视频签约模块，用于根据预设时间段从所述完整视频数据中提取目标视频数据，按照所述时间戳对所述目标视频数据进行排序后展示以进行视频签约。5.根据权利要求4所述的视频签约装置，其特征在于，还包括：损坏数据定位模块，用于接收来自所述视频发起端的完整性告警数据，根据所述完整性告警数据中的IP地址和时间戳定位损坏数据；修复模块，用于对所述损坏数据进行修复，反馈修复信息至所述视频发起端和第三方视频端。6.根据权利要求5所述的视频签约装置，其特征在于，还包括：告警数据接收模块，用于接收来自所述视频发起端的安全性告警数据；其中，所述安全性告警数据由所述视频发起端根据预设IP地址对所述视频数据对应的发起端IP地址进行检查生成；删除模块，用于删除所述安全性告警数据中的问题IP地址对应的视频数据。7.一种计算机设备，包括存储器、处理器及存储在存储器上并在处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至3任一项所述的视频签约方法的步骤。8.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至3任一项所述的视频签约方法的步骤。9.一种计算机程序产品，包括计算机程序/指令，其特征在于，所述计算机程序/指令被处理器执行时实现权利要求1至3任一项所述的视频签约方法的步骤。10.一种基于联盟链的视频签约系统，其特征在于，包括：权利要求4-6任一权利要求所述的视频签约装置；以及视频发起端，用于发送视频数据至所述视频签约装置；其中，所述视频签约装置和所述视频发起端构成联盟链网络。
说明书desc
技术领域本发明涉及区块链技术领域，具体地，涉及一种基于联盟链的视频签约方法、装置和 系统。背景技术随着时代科技的发展进步，全球化程度逐步加深，人们远距离办公、求学的场景逐渐 增多，迫使人们寻求一种安全、防篡改且高效的通讯方式。其中，金融类签约对安全、保密、防篡改要求更高，大量金融交易只允许线下网点面对面办理，这使得追踪者可以通过追踪信息传输的路径来拦截信息，带来了安全问题，由此产生了保障信息传输路径绝对安全的迫切需求。发明内容本发明实施例的主要目的在于提供一种基于联盟链的视频签约方法、装置和系统，以 解决线上签约的要求，降低网络安全风险。为了实现上述目的，本发明实施例提供一种基于联盟链的视频签约方法，应用于联盟 链网络，包括：接收来自联盟链网络的视频发起端的视频数据，根据视频数据中的时间戳确定缺失数 据；根据缺失数据对应的接收端IP地址确定相邻IP地址；根据缺失数据从相邻IP地址的视频帧池中查找同类数据，根据同类数据和视频数据生 成完整视频数据；根据预设时间段从完整视频数据中提取目标视频数据，按照时间戳对目标视频数据进 行排序后展示以进行视频签约。在其中一种实施例中，还包括：接收来自视频发起端的完整性告警数据，根据完整性告警数据中的IP地址和时间戳定 位损坏数据；对损坏数据进行修复，反馈修复信息至视频发起端和第三方视频端。在其中一种实施例中，还包括：接收来自视频发起端的安全性告警数据；其中，安全性告警数据由视频发起端根据预 设IP地址对视频数据对应的发起端IP地址进行检查生成；删除安全性告警数据中的问题IP地址对应的视频数据。本发明实施例还提供一种基于联盟链的视频签约装置，应用于联盟链网络，包括：缺失数据确定模块，用于接收来自联盟链网络的视频发起端的视频数据，根据视频数 据中的时间戳确定缺失数据；相邻IP地址确定模块，用于根据缺失数据对应的接收端IP地址确定相邻IP地址；完整视频数据模块，用于根据缺失数据从相邻IP地址的视频帧池中查找同类数据，根 据同类数据和视频数据生成完整视频数据；视频签约模块，用于根据预设时间段从完整视频数据中提取目标视频数据，按照时间 戳对目标视频数据进行排序后展示以进行视频签约。在其中一种实施例中，还包括：损坏数据定位模块，用于接收来自视频发起端的完整性告警数据，根据完整性告警数 据中的IP地址和时间戳定位损坏数据；修复模块，用于对损坏数据进行修复，反馈修复信息至视频发起端和第三方视频端。在其中一种实施例中，还包括：告警数据接收模块，用于接收来自视频发起端的安全性告警数据；其中，安全性告警 数据由视频发起端根据预设IP地址对视频数据对应的发起端IP地址进行检查生成；删除模块，用于删除安全性告警数据中的问题IP地址对应的视频数据。本发明实施例还提供一种计算机设备，包括存储器、处理器及存储在存储器上并在处 理器上运行的计算机程序，处理器执行计算机程序时实现所述的基于联盟链的视频签约方 法的步骤。本发明实施例还提供一种计算机可读存储介质，其上存储有计算机程序，计算机程序 被处理器执行时实现所述的基于联盟链的视频签约方法的步骤。本发明实施例还提供一种计算机程序产品，包括计算机程序/指令，计算机程序/指令 被处理器执行时实现所述的基于联盟链的视频签约方法的步骤。本发明实施例还提供一种视频签约系统，包括：如上所述的视频签约装置；以及视频发起端，用于发送视频数据至视频签约装置；其中，视频签约装置和视频发起端构成联盟链网络。本发明实施例的基于联盟链的视频签约方法、装置和系统先根据视频数据中的时间戳 确定缺失数据以根据对应的接收端IP地址确定相邻IP地址，再根据缺失数据从相邻IP地址 的视频帧池中查找同类数据，根据同类数据和视频数据生成完整视频数据，最后根据预设 时间段从完整视频数据中提取目标视频数据，按照时间戳对目标视频数据进行排序后展示 以进行视频签约，可以解决线上签约的要求，降低网络安全风险。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例描述中所 需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施 例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图 获得其他的附图。图1是本发明实施例中基于联盟链的视频签约方法的流程图；图2是本发明实施例中基于联盟链的视频签约装置的结构框图；图3是本发明实施例中计算机设备的结构框图；图4是本发明实施例中基于联盟链的视频签约系统的示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地 描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本 发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实 施例，都属于本发明保护的范围。本领域技术人员知道，本发明的实施方式可以实现为一种系统、装置、设备、方法或 计算机程序产品。因此，本公开可以具体实现为以下形式，即：完全的硬件、完全的软件，或者硬件和软件结合的形式。本申请技术方案中对数据的获取、存储、使用、处理等均符合国家法律法规的相关规 定。鉴于传统方式下的信息传输方式带来了安全问题，本发明实施例提供一种基于联盟链 的视频签约方法、装置和系统，利用区块链具有去中心化、不可篡改、全程留痕、可以追 溯、集体维护和公开透明等特点为线上办理交易提供一种可行性通道。区块链在通信领域的全新应用可以完全改变信息传输的渠道，从根本上解决信息传递 的路径安全问题。区块链核验、发送等数据交流过程采用先进的加密技术。这种技术不 仅确保了数据的来源正确，也确保了数据在中间过程不被人拦截和篡改。区块链系统之所 以能降低传统网络安全风险，就是因为它解除了对中间方的需求。用户可以利用区块链与 金融机构取得视频联系，远程视频形式完成本人确认，同时利用区块链传输特定文件并达 成协议签署，通过区块链的防篡改技术保证签署的有效性和防篡改。本发明涉及的术语解释如下：区块链：区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。它本质上是一个去中心化的数据库，底层技术是一串使用密码学方法相关联产生的数据块，每一个数据块中包含了一批次网络交易的信息，用于验证其信息的有效性和生成下一个区块。作为高耗能系统，为维护区块链的真实 性和完整性，每秒运算可达七万亿次，因此需要大量硬件和能源进行支撑。通过分布式协议，区块链技术的通信网络能在不到十秒钟实现通信建立，通信协议将 使用分片技术进行开发，优化加载时间，区块链技术还在通信网络分散性和安全性等方面 有众多明显的优势，例如：1、区块链技术的通信不会被防火墙阻拦，因为每个用户和每次谈话是与众不同的会 话，能无限制地访问世界上任何地方，这对于实现保密通信是十分有用的。2、区块链技术具有用户控制的记录存储，存在不可篡改的特性，令协议在签署过程 中无法修改。3、区块链技术可以针对每次会话、消息和文件进行高级加密。以下结合附图对本发明进行详细说明。图1是本发明实施例中基于联盟链的视频签约方法的流程图。如图1所示，基于联盟链 的视频签约方法应用于联盟链网络，包括：S101：接收来自联盟链网络的视频发起端的视频数据，根据视频数据中的时间戳确定 缺失数据。执行S101时，各个用户的现场摄像机对 应各自的IP地址。在视频签约过程中，某一用户的多目摄像机实时采集该用户的视频，不 同IP地址的摄像机采集到的视频数据上传至联盟链。上送的视频数据至少包含两部分：一部分是各路摄像机的IP地址，另一部分是创建的 时间戳，最终上送所有摄像机IP地址加上时间戳的哈希函数值，即hash。需要关注的是，可以将该哈希值放置于合约层中的 访问受限区域，这样能有限制地获取数据，有效保护各路摄像机IP地址和时间戳不会被篡 改。同一用户的各个摄像机IP地址均可创建属于自己的一条视频区块链，例如“摄像机IP X”代表IP为X的摄像机所创建的视频区块链，且指向同一视频区块链节点。 每一摄像机IP对应的区块链上的头部区块具有相似结构，即指向iniBlock的指针、摄像机IP 和时间戳，该摄像机所采集的后续视频数据可以据此挂到对应视频区块链上。视频数据包 含摄像机的IP地址、时间戳、帧数据长度和帧数据。例如，摄像机IP X创建的视频区块链 为。视频数据模块获取到N路摄像机传来的视频数据后，将对每一路的视频数据的安全性 进行检测分析，避免因网络问题、恶意篡改等原因造成视频数据全部丢失或关键帧错乱。视频签约启动后会源源不断地往联盟链中推送视频流，通过安全性检测的视频数据被 视频接收端节点放在本地的视频帧池里，按照时间戳先后顺序排列，这是为了能够及时检 测到是否有视频数据丢失，防止后期无法恢复视频，特别是丢失了关键帧。由于P2P网络 可能会存在延时，所以可能会出现后续时间的视频数据先到节点的情况，这些视频数据会 被暂时放入视频帧孤儿池。视频数据模块会根据视频数据中的时间戳确定缺失数据：如果 长时间未收到缺失的视频数据，那么视频数据模块会确定该视频数据为缺失数据。在执行S101之前，还包括：提议响应：签约业务发起端节点发起视频签约提议，区块链的各节点进行反馈。 各节点包括视频签约业务中的各个相关方。对应于本发明而言，用户或业务人员作为视频 签约的提议方，在用户界面输入所需信息并进行发起视频签约操作。构建联盟链：确定视频签约业务所涉的至少两个用户以构建联盟链。区块链中涉及该签约的相关方都会受到提议申请，当搜集到所涉相关方全部响应后， 为各方构建联盟链。需要注意的是，联盟链仅为反馈的用户构建，后续签约过程中所有信 息均基于该链进行传输、加载和存储，未参与的其他节点无法获取本次视频签约业务的相 关信息。联盟链可以为各用户配置单独的通道，具体而言，本发明支持为用户所用的多目摄像 设备配置单独的通道，从而实现多视频源的备份，避免视频数据缺失和被篡改等情况。例 如，以各用户信息和摄像机IP为一组信息集合，为每组信息集合生成新 的通道配置文件，然后根据该通道配置文件创建仅供各用户所属摄像机进行通信的通道， 各用户通过该通道进行视频数据的交互，从而为各用户形成一条新的联盟链。其中，数据 均通过加密发送、解密加载，保障交互安全。区块链上的各用户通过部署在所处现场环境中的摄像机采集视频图像数据并上传至 联盟链内。例如，视频发起端和视频接收端是联盟链中的不同节点，它们共同构成P2P远 程视频签约网络。视频数据源是由架设在各节点现场环境里的摄像机获取，产生的视频数 据将会发送给视频发起端和视频接收端。S102：根据缺失数据对应的接收端IP地址确定相邻IP地址。具体实施时，每次收到各个摄像机IP独立传送来的视频帧数据后，首先要检查视频数 据的安全性，防止有损坏数据或恶意非法数据进入区块链网络，检查通过的视频数据会放 入视频帧池，同时从视频帧池里面按照视频产生的先后顺序提取若干视频帧来构建视频区 块，并等待被记入视频区块链。本发明采用工作量证明机制来公平竞争记账权，获得记账 权的节点有权提议自己构建的视频区块写入视频区块链，将这个 视频区块广播给其他节点，由其他节点验证后同步到各自本地的视频区 块链上，从而实现全网视频数据的同步。当某IP地址下的视频数据全部丢失时，执行S102 和S103，从同一用户的其他IP摄像机同步视频数据解决。如果某IP地址下的视频关键帧错乱，将启动检测视频数据的合法性和完整性。一实施例中，检测视频数据的完整性的流程如下：接收来自视频发起端的完整性告警数据，根据完整性告警数据中的IP地址和时间戳定 位损坏数据；对损坏数据进行修复，反馈修复信息至视频发起端和第三方视频端。具体实施时，视频数据模块分析数据完整性后，依据预设条件结合实际情况对联盟链 发起风险提示，告警模块响应该提议记录坏帧标识信息，为所在链的用户名下所有的摄像 机发送风险提示。收到告警信息的节点根据摄像机IP地址和时间戳在本地视频帧池里定位 该视频数据，将通过安全性检测的视频数据恢复至坏帧节点，并将修复信息反馈至告警模 块，删除告警模块中的坏帧信息标识。一实施例中，检测视频数据的合法性的流程如下：接收来自视频发起端的安全性告警数据，删除安全性告警数据中的问题IP地址对应的 视频数据。其中，安全性告警数据由视频发起端根据预设IP地址对视频数据对应的发起端IP地址 进行检查生成。合法性表示该视频数据是否来源于合法的摄像机，即检查视频数据里的摄像机IP是否 属于智能合约中设置的摄像机IP地址，并丢弃问题IP地址上送的视频数据。S103：根据缺失数据从相邻IP地址的视频帧池中查找同类数据，根据同类数据和视频 数据生成完整视频数据。S104：根据预设时间段从完整视频数据中提取目标视频数据，按照时间戳对目标视频 数据进行排序后展示以进行视频签约。当视频签约正常进行时，视频发起端上传的视频数据经由解密和加载处理后发送至联 盟链上的其余节点，例如视频接收端。视频接收端自动核对需要提取的视频所属的摄像机 IP地址和时间范围，遍历视频区块链上的区块，通过匹配各个区块的时间戳来找到相应的 时间段，然后提取该时间段内存储在各个区块里的视频数据，按时间顺序恢复成原始视频， 展示在终端界面上，完成一次完整的视频数据传输。签约业务相关的视频数据会写入联盟链。如果一段时间内区块链上的用户节点都收到 坏帧数据或都没收到视频数据，则向所有用户节点提示签约风险，直到风险消失才可继续 签约，保证了远程视频签约的安全性。图1所示的基于联盟链的视频签约方法的执行主体可以为视频接收端。由图1所示的流 程可知，本发明实施例的基于联盟链的视频签约方法先根据视频数据中的时间戳确定缺失 数据以根据对应的接收端IP地址确定相邻IP地址，再根据缺失数据从相邻IP地址的视频帧 池中查找同类数据，根据同类数据和视频数据生成完整视频数据，最后根据预设时间段从 完整视频数据中提取目标视频数据，按照时间戳对目标视频数据进行排序后展示以进行视 频签约，可以解决线上签约的要求，降低网络安全风险。基于同一发明构思，本发明实施例还提供了一种基于联盟链的视频签约装置，由于该 装置解决问题的原理与基于联盟链的视频签约方法相似，因此该装置的实施可以参见方法 的实施，重复之处不再赘述。图2是本发明实施例中基于联盟链的视频签约装置的结构框图。如图2所示，基于联 盟链的视频签约装置应用于联盟链网络，包括：缺失数据确定模块，用于接收来自联盟链网络的视频发起端的视频数据，根据视频数 据中的时间戳确定缺失数据；相邻IP地址确定模块，用于根据缺失数据对应的接收端IP地址确定相邻IP地址；完整视频数据模块，用于根据缺失数据从相邻IP地址的视频帧池中查找同类数据，根 据同类数据和视频数据生成完整视频数据；视频签约模块，用于根据预设时间段从完整视频数据中提取目标视频数据，按照时间 戳对目标视频数据进行排序后展示以进行视频签约。在其中一种实施例中，还包括：损坏数据定位模块，用于接收来自视频发起端的完整性告警数据，根据完整性告警数 据中的IP地址和时间戳定位损坏数据；修复模块，用于对损坏数据进行修复，反馈修复信息至视频发起端和第三方视频端。在其中一种实施例中，还包括：告警数据接收模块，用于接收来自视频发起端的安全性告警数据；其中，安全性告警 数据由视频发起端根据预设IP地址对视频数据对应的发起端IP地址进行检查生成；删除模块，用于删除安全性告警数据中的问题IP地址对应的视频数据。在实际应用中，基于联盟链的视频签约装置包括：响应模块，用于反馈签约业务发起端发起的签约业务的提议，获取区块链的各节点对 该提议的反馈。构链模块，用于根据反馈确定业务的至少两个用户，并为至少两个用户构建联盟链。视频数据模块，包括缺失数据确定模块、相邻IP地址确定模块、完整视频数据模块、 视频签约模块和损坏数据定位模块，用于对产生的视频数据的进行实时分析和监测，将修 复确认后的完整视频数据传至联盟链，供链上其他用户获取视频消息。告警模块，包括修复模块、告警数据接收模块和删除模块，用于响应签约业务中视频 类信息安全性、一致性出现的风险信息，并对用户不同IP地址下的摄像机发布修复指令， 或者对联盟链的所有用户发布风险提示。综上，本发明实施例的基于联盟链的视频签约装置先根据视频数据中的时间戳确定缺 失数据以根据对应的接收端IP地址确定相邻IP地址，再根据缺失数据从相邻IP地址的视频 帧池中查找同类数据，根据同类数据和视频数据生成完整视频数据，最后根据预设时间段 从完整视频数据中提取目标视频数据，按照时间戳对目标视频数据进行排序后展示以进行 视频签约，可以解决线上签约的要求，降低网络安全风险。本发明实施例还提供能够实现上述实施例中的基于联盟链的视频签约方法中全部步 骤的一种计算机设备的具体实施方式。图3是本发明实施例中计算机设备的结构框图，参 见图3，所述计算机设备具体包括如下内容：处理器301和存储器302。所述处理器301用于调用所述存储器302中的计算机程序，所述处理器执行所述计算机 程序时实现上述实施例中的基于联盟链的视频签约方法中的全部步骤，例如，所述处理器 执行所述计算机程序时实现下述步骤：接收来自联盟链网络的视频发起端的视频数据，根据视频数据中的时间戳确定缺失数 据；根据缺失数据对应的接收端IP地址确定相邻IP地址；根据缺失数据从相邻IP地址的视频帧池中查找同类数据，根据同类数据和视频数据生 成完整视频数据；根据预设时间段从完整视频数据中提取目标视频数据，按照时间戳对目标视频数据进 行排序后展示以进行视频签约。综上，本发明实施例的计算机设备先根据视频数据中的时间戳确定缺失数据以根据对 应的接收端IP地址确定相邻IP地址，再根据缺失数据从相邻IP地址的视频帧池中查找同类 数据，根据同类数据和视频数据生成完整视频数据，最后根据预设时间段从完整视频数据 中提取目标视频数据，按照时间戳对目标视频数据进行排序后展示以进行视频签约，可以 解决线上签约的要求，降低网络安全风险。本发明实施例还提供能够实现上述实施例中的基于联盟链的视频签约方法中全部步 骤的一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，该计算机 程序被处理器执行时实现上述实施例中的基于联盟链的视频签约方法的全部步骤，例如， 所述处理器执行所述计算机程序时实现下述步骤：接收来自联盟链网络的视频发起端的视频数据，根据视频数据中的时间戳确定缺失数 据；根据缺失数据对应的接收端IP地址确定相邻IP地址；根据缺失数据从相邻IP地址的视频帧池中查找同类数据，根据同类数据和视频数据生 成完整视频数据；根据预设时间段从完整视频数据中提取目标视频数据，按照时间戳对目标视频数据进 行排序后展示以进行视频签约。综上，本发明实施例的计算机可读存储介质先根据视频数据中的时间戳确定缺失数据 以根据对应的接收端IP地址确定相邻IP地址，再根据缺失数据从相邻IP地址的视频帧池中 查找同类数据，根据同类数据和视频数据生成完整视频数据，最后根据预设时间段从完整 视频数据中提取目标视频数据，按照时间戳对目标视频数据进行排序后展示以进行视频签 约，可以解决线上签约的要求，降低网络安全风险。本发明实施例还提供能够实现上述实施例中的基于联盟链的视频签约方法中全部步 骤的一种计算机程序产品，所述计算机程序产品包括计算机程序/指令，该计算机程序/指 令被处理器执行时实现上述实施例中的基于联盟链的视频签约方法的全部步骤，例如，所 述处理器执行所述计算机程序时实现下述步骤：接收来自联盟链网络的视频发起端的视频数据，根据视频数据中的时间戳确定缺失数 据；根据缺失数据对应的接收端IP地址确定相邻IP地址；根据缺失数据从相邻IP地址的视频帧池中查找同类数据，根据同类数据和视频数据生 成完整视频数据；根据预设时间段从完整视频数据中提取目标视频数据，按照时间戳对目标视频数据进 行排序后展示以进行视频签约。综上，本发明实施例的计算机程序产品先根据视频数据中的时间戳确定缺失数据以根 据对应的接收端IP地址确定相邻IP地址，再根据缺失数据从相邻IP地址的视频帧池中查找 同类数据，根据同类数据和视频数据生成完整视频数据，最后根据预设时间段从完整视频 数据中提取目标视频数据，按照时间戳对目标视频数据进行排序后展示以进行视频签约， 可以解决线上签约的要求，降低网络安全风险。基于同一发明构思，本发明实施例还提供了一种基于联盟链的视频签约系统，由于该 系统解决问题的原理与基于联盟链的视频签约方法相似，因此该系统的实施可以参见方法 的实施，重复之处不再赘述。图4是本发明实施例中基于联盟链的视频签约系统的示意图。如图4所示，基于联盟链 的视频签约系统包括：如上所述的视频签约装置；以及视频发起端，用于发送视频数据至视频签约装置；其中，视频签约装置和视频发起端构成联盟链网络。本发明实施例的基于联盟链的视频签约系统的具体工作流程如下：1、视频发起端发送视频数据至视频接收端。2、视频接收端根据视频数据中的时间戳确定缺失数据。3、视频接收端根据缺失数据对应的接收端IP地址确定相邻IP地址。4、视频接收端根据缺失数据从相邻IP地址的视频帧池中查找同类数据，根据同类数据 和视频数据生成完整视频数据；5、视频发起端发送完整性告警数据至视频接收端。6、视频接收端根据完整性告警数据中的IP地址和时间戳定位损坏数据。7、视频接收端对损坏数据进行修复，反馈修复信息至视频发起端和第三方视频端。8、视频发起端根据预设IP地址对视频数据对应的发起端IP地址进行检查生成安全性告 警数据，发送安全性告警数据至视频接收端。9、视频接收端删除安全性告警数据中的问题IP地址对应的视频数据、10、视频接收端根据预设时间段从完整视频数据中提取目标视频数据，按照时间戳对 目标视频数据进行排序后展示以进行视频签约。综上，本发明实施例的基于联盟链的视频签约系统针对需要多用户共同完成的远程视 频签约业务，可以解决异地签约的问题。多方的参与、确定过程无需人工沟通，在降低人 工成本的前提下提高了各相关方的沟通效率。此外，本发明通过为视频签约的各方构建的 联盟链将该视频签约所涉的合约和视频数据进行存储，保证了视频签约信息可追溯、可篡 改以及视频签约过程的安全性、可靠性，实现了一种具备公信力的签约途径。以上所述的具体实施例，对本发明的目的、技术方案和有益效果进行了进一步详细说 明，所应理解的是，以上所述仅为本发明的具体实施例而已，并不用于限定本发明的保护 范围，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在 本发明的保护范围之内。本领域技术人员还可以了解到本发明实施例列出的各种说明性逻辑块，单元，和步骤可以通过电子硬件、电脑软件，或两者的结合进行实现。为 清楚展示硬件和软件的可替换性，上述的各种说明性部件，单元和步骤已经通用地描述了它们的功能。这样的功能是通过硬件还是软 件来实现取决于特定的应用和整个系统的设计要求。本领域技术人员可以对于每种特定的 应用，可以使用各种方法实现所述的功能，但这种实现不应被理解为超出本发明实施例保 护的范围。本发明实施例中所描述的各种说明性的逻辑块，或单元，或装置都可以通过通用处理 器，数字信号处理器，专用集成电路，现场可编程门阵列或其它可编程逻辑装置， 离散门或晶体管逻辑，离散硬件部件，或上述任何组合的设计来实现或操作所描述的功能。 通用处理器可以为微处理器，可选地，该通用处理器也可以为任何传统的处理器、控制器、 微控制器或状态机。处理器也可以通过计算装置的组合来实现，例如数字信号处理器和微 处理器，多个微处理器，一个或多个微处理器联合一个数字信号处理器核，或任何其它类 似的配置来实现。本发明实施例中所描述的方法或算法的步骤可以直接嵌入硬件、处理器执行的软件模 块、或者这两者的结合。软件模块可以存储于RAM存储器、闪存、ROM存储器、EPROM 存储器、EEPROM存储器、寄存器、硬盘、可移动磁盘、CD-ROM或本领域中其它任意形 式的存储媒介中。示例性地，存储媒介可以与处理器连接，以使得处理器可以从存储媒介 中读取信息，并可以向存储媒介存写信息。可选地，存储媒介还可以集成到处理器中。处 理器和存储媒介可以设置于ASIC中，ASIC可以设置于用户终端中。可选地，处理器和存 储媒介也可以设置于用户终端中的不同的部件中。在一个或多个示例性的设计中，本发明实施例所描述的上述功能可以在硬件、软件、 固件或这三者的任意组合来实现。如果在软件中实现，这些功能可以存储与电脑可读的媒 介上，或以一个或多个指令或代码形式传输于电脑可读的媒介上。电脑可读媒介包括电脑 存储媒介和便于使得让电脑程序从一个地方转移到其它地方的通信媒介。存储媒介可以是 任何通用或特殊电脑可以接入访问的可用媒体。例如，这样的电脑可读媒体可以包括但不 限于RAM、ROM、EEPROM、CD-ROM或其它光盘存储、磁盘存储或其它磁性存储装置， 或其它任何可以用于承载或存储以指令或数据结构和其它可被通用或特殊电脑、或通用或特殊处理器读取形式的程序代码的媒介。此外，任何连接都可以被适当地定义为电脑可读媒介，例如，如果软件是从一个网站站点、服务器或其它远程资源通过一个同轴电缆、光 纤电缆、双绞线、数字用户线或以例如红外、无线和微波等无线方式传输的也被 包含在所定义的电脑可读媒介中。所述的碟片和磁盘包括压缩磁盘、镭射 盘、光盘、DVD、软盘和蓝光光盘，磁盘通常以磁性复制数据，而碟片通常以激光进行光 学复制数据。上述的组合也可以包含在电脑可读媒介中。
