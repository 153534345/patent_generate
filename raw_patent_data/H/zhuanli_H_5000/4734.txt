标题title
直播间人数统计方法及装置
摘要abst
本申请提供直播间人数统计方法及装置，其中所述直播间人数统计方法包括：获取多个刷量房间中每个刷量房间对应的房间属性信息；根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合；根据多个所述访问用户集合确定异常用户集合；根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。通过反向查询刷量房间的访问用户集合，根据访问用户集合确定异常用户集合，根据异常用户集合去除刷量用户人数，从而获得直播间的真实访问人数，并且可以在以后的人数统计中，自动丢弃异常用户集合中的心跳人数，实现了实时去除刷量人数，保证了每个直播间人气数据的正确性。
权利要求书clms
1.一种直播间人数统计方法，其特征在于，包括：获取多个刷量房间中每个刷量房间对应的房间属性信息；根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合；根据多个所述访问用户集合确定异常用户集合；根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。2.如权利要求1所述的直播间人数统计方法，其特征在于，根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合，包括：确定目标刷量房间；根据所述目标刷量房间的房间属性信息在访问用户数据库中获取所述目标刷量房间对应的访问用户集合。3.如权利要求1所述的直播间人数统计方法，其特征在于，根据多个所述访问用户集合确定异常用户集合，包括：在多个所述访问用户集合中确定至少两个待处理访问用户集合；确定至少两个待处理访问用户集合的交集，并根据所述交集确定异常用户集合，其中，异常用户集合中包括有异常操作的用户。4.如权利要求3所述的直播间人数统计方法，其特征在于，确定至少两个待处理访问用户集合的交集，并根据所述交集确定异常用户集合，包括：根据每个待处理访问用户集合获取每个所述待处理访问用户集合对应的用户属性信息集合；确定每个待处理访问用户集合的用户属性信息集合的交集，确定异常用户属性信息集合；根据所述异常用户属性信息集合确定异常用户集合。5.如权利要求1所述的直播间人数统计方法，其特征在于，在根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数之前，还包括：根据所述异常用户集合获取异常用户数。6.如权利要求5所述的直播间人数统计方法，其特征在于，根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数，包括：确定目标刷量房间，根据所述目标刷量房间对应的访问用户集合获取所述目标刷量房间的访问用户数；根据所述访问用户数和所述异常用户数统计目标刷量房间对应的真实用户数。7.如权利要求1所述的直播间人数统计方法，其特征在于，获取至少两个刷量房间的房间属性信息之前，还包括：根据预设防刷规则确定至少两个刷量房间。8.如权利要求7所述的直播间人数统计方法，其特征在于，所述方法还包括：根据所述异常用户集合获取待确认刷量房间集合；根据所述待确认刷量房间集合调整所述预设防刷规则。9.如权利要求8所述的直播间人数统计方法，其特征在于，根据所述异常用户集合获取待确认刷量房间集合，包括：根据所述异常用户集合获取待审核房间集合；在所述待审核房间集合中确定目标待审核房间；判断所述至少两个刷量房间中是否包括所述目标待审核房间；若否，则将所述目标待审核房间添加至待确认刷量房间集合；若是，则所述目标待审核房间为刷量房间。10.如权利要求9所述的直播间人数统计方法，其特征在于，根据所述异常用户集合获取待审核房间集合，包括：在所述异常用户集合中确定目标异常用户；获取所述目标异常用户的目标访问信息；根据每个异常用户对应的目标访问信息获取待审核房间集合。11.如权利要求1所述的直播间人数统计方法，其特征在于，所述房间属性信息包括房间标识信息、房间互动信息。12.一种直播间人数统计装置，其特征在于，包括：获取模块，被配置为获取多个刷量房间中每个刷量房间对应的房间属性信息；第一确定模块，被配置为根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合；第二确定模块，被配置为根据多个所述访问用户集合确定异常用户集合；统计模块，被配置为根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。13.一种计算设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机指令，其特征在于，所述处理器执行所述计算机指令时实现权利要求1-11任意一项所述方法的步骤。14.一种计算机可读存储介质，其存储有计算机指令，其特征在于，该计算机指令被处理器执行时实现权利要求1-11任意一项所述方法的步骤。
说明书desc
技术领域本申请涉及网络直播技术领域，特别涉及一种直播间人数统计方法。本申请同时涉及一种直播间人数统计装置，一种计算设备，以及一种计算机可读存储介质。背景技术随着网络通信技术的进步和宽带网络的提速，直播得到了越来越多的发展和应用。在现有直播体系中，人气是用于直播平台各个房间排名的重要指标，一般而言人气越高，排名越靠前，主播越有可能被用户观看。人气计算中直播间实时观看人数是关键一环，而一些主播为了提高人气，会通过非法手段模拟观看直播间，伪造直播间的在线观看人数，即通过刷量提高人气排名。在正常房间中的访问人数即为真实人数，但在刷量房间中，访问人数不是真实人数，目前可以通过防刷策略确定出刷量房间，但是在确定出刷量房间之后，无法获得刷量房间的真实人数。因此，如何确保直播间人气数据的正确性是目前亟需解决的问题。发明内容有鉴于此，本申请实施例提供了一种直播间人数统计方法。本申请同时涉及一种直播间人数统计装置，一种计算设备，以及一种计算机可读存储介质，以解决现有技术中存在的无法准确的获取直播间观看人数的问题。根据本申请实施例的第一方面，提供了一种直播间人数统计方法，包括：获取多个刷量房间中每个刷量房间对应的房间属性信息；根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合；根据多个所述访问用户集合确定异常用户集合；根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。根据本申请实施例的第二方面，提供了一种直播间人数统计装置，包括：获取模块，被配置为获取多个刷量房间中每个刷量房间对应的房间属性信息；第一确定模块，被配置为根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合；第二确定模块，被配置为根据多个所述访问用户集合确定异常用户集合；统计模块，被配置为根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。根据本申请实施例的第三方面，提供了一种计算设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机指令，所述处理器执行所述计算机指令时实现所述直播间人数统计方法的步骤。根据本申请实施例的第四方面，提供了一种计算机可读存储介质，其存储有计算机指令，该计算机指令被处理器执行时实现所述直播间人数统计方法的步骤。本申请提供的直播间人数统计方法，包括：获取多个刷量房间中每个刷量房间对应的房间属性信息；根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合；根据多个所述访问用户集合确定异常用户集合；根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。本申请一实施例实现了通过获取至少两个刷量房间的房间属性信息，根据每个刷量房间的房间属性信息确定每个刷量房间对应的访问用户集合，根据每个刷量房间的访问用户集合确定出异常用户集合，确定出异常用户集合之后，可以根据每个刷量房间对应的访问用户集合和异常用户集合统计每个刷量房间对应的真实用户数，并且可以在以后的人数统计中，自动丢弃异常用户集合中的心跳人数，实现了实时去除刷量人数，保证了直播间人气数据的正确性。附图说明图1是本申请一实施例提供的一种直播间人数统计方法的流程图；图2是本申请一实施例提供的一种应用于统计在线真实人数的直播间人数统计方法的处理流程图；图3是本申请一实施例提供的一种直播间人数统计装置的结构示意图；图4是本申请一实施例提供的一种计算设备的结构框图。具体实施方式在下面的描述中阐述了很多具体细节以便于充分理解本申请。但是本申请能够以很多不同于在此描述的其它方式来实施，本领域技术人员可以在不违背本申请内涵的情况下做类似推广，因此本申请不受下面公开的具体实施的限制。在本申请一个或多个实施例中使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本申请一个或多个实施例。在本申请一个或多个实施例和所附权利要求书中所使用的单数形式的“一种”、“所述”和“该”也旨在包括多数形式，除非上下文清楚地表示其他含义。还应当理解，本申请一个或多个实施例中使用的术语“和/或”是指并包含一个或多个相关联的列出项目的任何或所有可能组合。应当理解，尽管在本申请一个或多个实施例中可能采用术语第一、第二等来描述各种信息，但这些信息不应限于这些术语。这些术语仅用来将同一类型的信息彼此区分开。例如，在不脱离本申请一个或多个实施例范围的情况下，第一也可以被称为第二，类似地，第二也可以被称为第一。取决于语境，如在此所使用的词语“如果”可以被解释成为“在……时”或“当……时”或“响应于确定”。首先，对本申请一个或多个实施例涉及的名词术语进行解释。直播人气：综合观看人数、弹幕连接数、礼物数等按照一定比例算出的数值，用于在直播平台按照人气的高低进行排名。直播人数：实时观看直播间的真实人数。刷量：通过模拟正常用户访问，产生大量虚假观看的情况，即通过非法手段模拟观看直播间。刷量房间：通过非法手段产生大量虚假人气的直播间，刷量房间中有许多非法用户通过非法手段为刷量房间产生大量观看人数、弹幕等虚假数据。异常用户：通过非法手段为直播间刷取大量虚假人气信息、弹幕信息的用户。防刷：通过技术手段，识别非法访问的请求，即识别刷量的黑名单地址的访问请求，并拒绝该非法请求。心跳汇总服务：实时汇总每个直播间的心跳信息，心跳信息可以是直播间的观看人数、直播间的弹幕数等信息。由于心跳汇总服务只做一件事情就是汇总每个房间的心跳信息，所以心跳汇总服务可以做到实时汇总。在现有直播体系中，直播间人数是衡量直播间人气的重要参数之一，直播间人气可用于对直播平台房间排名。一般而言，人气越高排名越靠前，主播越有可能被用户观看，因此，直播间的观看人数对于该直播间尤为重要。一般的用户观看直播间的流程为：用户点击自己想要观看的直播间，选择进入直播间，客户端向直播平台的调度服务请求播放地址，拿到播放地址后开始为用户播放该直播间的直播内容。此后，客户端在后台定时的向直播平台的数据库上报播放日志，播放日志的具体信息包括：直播间标识信息+用户标识信息+其他信息，同时客户端也会向直播平台的心跳汇总服务定时上报心跳信息，心跳信息包括：房间标识信息+用户标识信息。心跳汇总服务基于每个观看用户客户端上报的心跳信息，可以实时汇总每个直播间的观看人数信息。由于目前有部分非法人员通过模拟正常用户访问，为刷量房间产生大量虚假观看的情况，以此获取非法利益。因此，现在很多直播平台都有各自的防刷策略来统计直播间真实人数，例如，一般都会基于IP的防刷，利用播放器的播放日志，全盘统计所有IP出现的次数，在同一IP出现的次数超过预设频率的情况下，即将该IP设置为非法IP，该IP的用户为异常用户，在下一次该IP上报人数心跳信息时，心跳汇总服务默认选择丢弃该人数，不进行人数统计以起到防刷的作用。但是，上述防刷策略具有以下几点弊端：误伤概率大：很多小区/学校/大型办公楼的出口IP是固定的一个或者多个，因此很容易出现IP访问过多，即IP超过预设频率的情况。针对性低：由于上述防刷策略是从全盘的角度统计IP的出现次数，在非法人员拥有多个IP且访问频率低的情况下，这些非法IP很容易出现的次数达不到很高的频率，会出现漏判的情况，如果降低预设频率又容易出现误伤的情况。延迟性高：播放日志并不是实时上报的，因为播放日志只是用来分析数据，对实时性要求不高，所以允许客户端可以延迟上报。接收播放日志的数据库由于接收的播放日志或者信息上报非常多，一般都是n+1的形式，即在第n天上报，数据库进行日志的分类处理后，在第n+1天才可以查询到相关业务的播放日志。基于此在本申请中，提供了一种直播间人数统计方法，用于解决上述防刷策略的问题。本申请同时涉及一种直播间人数统计装置，一种计算设备，以及一种计算机可读存储介质，在下面的实施例中逐一进行详细说明。图1示出了根据本申请一实施例提供的一种直播间人数统计方法的流程图，具体包括以下步骤：步骤102：获取多个刷量房间中每个刷量房间对应的房间属性信息。其中，房间属性信息可以理解为每个直播间对应的属性信息，房间属性信息可以是直播间的房间标识，例如直播间的房间号、直播间的主播ID等，房间属性信息还可以包括直播间的当前观看人数、弹幕数等信息。在本申请一具体实施例中，确定出刷量房间有100个，获取这100个刷量房间的房间号。为了确定出异常用户，需要先确定出当前线上的所有刷量房间，具体地，获取至少两个刷量房间的房间属性信息之前，还包括：根据预设防刷规则确定至少两个刷量房间。其中，预设防刷规则可以理解为用于判断一个直播间是否为刷量房间的规则，根据预设防刷规则可以精准地确定直播间是否刷量，刷量房间可以理解为通过非法手段产生大量虚假观看人数的直播房间。在实际应用中，一个直播平台中可能有许多直播间通过非法技术手段产生大量虚假观看人数，可以通过预设防刷规则对直播平台中的每个直播间都进行判断，筛选出刷量房间。预设防刷规则可以是从多维度判断直播间是否为刷量房间，例如，可以综合目标直播间的弹幕连接数、关注数等维度的参数来判断。判断直播间是否为刷量房间的方法有很多种，本申请在此不作具体限制，可根据实际情况选择相应的防刷规则。在本申请一具体实施例中，当前直播平台中有1000个直播间正在直播，通过每个直播间的弹幕连接数、关注数等参数计算出每个直播间对应的刷量分值，若当前直播间的刷量分值超过预设分值，则判断当前直播间为刷量房间；相应地，若当前直播间的刷量分值未超过预设分值，则判断当前直播间为正常房间。通过预设防刷规则最终判断出当前直播平台的1000个直播间中，有400个直播间为刷量房间。步骤104：根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合。其中，访问用户集合可以理解为观看直播间的用户集合，访问用户集合中的用户可能有正常用户也可能有刷量用户，访问用户集合中可以包括有用户的ID、用户名、用户IP等。访问用户集合可以是正在直播的直播间的在线观看用户的集合，也可以是获取当前直播间的预设历史时间段内的历史观看用户的集合。在实际应用中，根据当前直播间的房间属性信息可以从直播平台的数据库中获取到当前直播间的历史访问用户集合，若当前直播间正在直播也可以获取到当前正在观看的访问用户集合。需要注意的是，为了保证后续判断的准确性，在访问用户集合为历史访问用户集合的情况下，应该统一获取每个刷量房间的历史访问用户集合；在访问用户集合为在线访问用户集合的情况下，应该统一获取每个刷量房间的在线访问用户集合。在本申请一具体实施例中，沿用上例，根据400个刷量房间各自的房间号，在直播平台中的数据库中查找每个刷量房间过去7天内的所有访问用户ID，根据每个刷量房间的所有的访问用户ID，生成每个刷量房间各自对应的访问用户集合。在本申请另一具体实施例中，沿用上例，根据400个刷量房间各自的房间号，获取到每个正在直播的刷量房间的当前在线观看用户ID，根据每个刷量房间的当前在线观看用户ID，生成每个刷量房间各自对应的访问用户集合。具体地，根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合，包括：确定目标刷量房间；根据所述目标刷量房间的房间属性信息在访问用户数据库中获取所述目标刷量房间对应的访问用户集合。其中，目标刷量房间可以理解为在所有刷量房间中选择出的一个刷量房间。访问用户数据库可以理解为直播平台中存储用户数据的数据库，数据库中可以按照每个直播间的房间属性信息分别将每个直播间的相关信息进行存储。例如，按照每个直播间的房间号，依次存储各自的直播观看人数、直播弹幕数、礼物数等。在实际应用中，在确定访问用户集合中，由于存在许多刷量房间，因而需要进行逐个处理确定。首先在众多刷量房间中确定出目标刷量房间，在根据目标刷量房间的房间属性信息确定出目标刷量房间对应的访问用户集合。再选择下一个刷量房间作为目标刷量房间，依次进行相同的处理操作，直到确定出每个刷量房间各自对应的访问用户集合。在本申请一具体实施例中，沿用上例，在400个刷量房间中确定出一个目标刷量房间A，根据目标刷量房间A的房间号在直播平台的访问用户数据库中获取目标刷量房间A对应的访问用户集合，访问用户集合中为目标刷量房间A过去3天的访问用户集合，相应地，获取每个刷量房间各自对应的访问用户集合，其中，获取每个目标刷量房间的访问用户集合可以并行处理以提高处理效率。在本申请另一具体实施例中，沿用上例，在400个刷量房间中确定出一个目标刷量房间A，获取目标刷量房间A的当前在线观看用户信息，并生成目标刷量房间A对应的访问用户集合。步骤106：根据多个所述访问用户集合确定异常用户集合。其中，异常用户集合可以理解为刷量用户的集合，异常用户集合中可以包括有异常用户的用户名、用户ID、用户IP等。在实际应用中，在多个刷量房间的访问用户集合中必然存在异常用户，根据至少两个刷量房间对应的访问用户集合可以确定出异常用户集合。具体地，确定异常用户集合之前，需要判断访问用户集合中的每个访问用户是否为异常用户，可以根据异常用户的访问频率确定，访问频率可以是用户访问次数除以刷量房间数，在访问用户的访问频率超过预设访问频率时，则确定当前访问用户为异常用户，反之则为正常用户。例如，刷量房间数为100，访问用户A的访问次数为25，访问用户A的访问频率为25％，没有超过预设访问频率30％，则访问用户A为正常用户；访问用户B的访问次数40，访问用户B的访问频率为40％，超过预设访问频率30％，则访问用户B为异常用户。在本申请一具体实施例中，沿用上例，目前有400个刷量房间以及每个刷量房间对应的访问用户集合，确定每个访问用户集合中的访问用户的访问频率，判断每个访问用户的访问频率是否超过预设访问频率20％，将超过预设访问频率的访问用户添加至异常用户集合中。具体地，根据多个所述访问用户集合确定异常用户集合，包括：在多个所述访问用户集合中确定至少两个待处理访问用户集合；确定至少两个待处理访问用户集合的交集，并根据所述交集确定异常用户集合，其中异常用户集合中包括有异常操作的用户。其中，在多个所述访问用户集合中确定至少两个待处理访问用户集合可以理解为在所有访问用户集合中确定出至少两个刷量房间的目标访问用户集合，例如在100个刷量房间的访问用户集合中确定出20个待处理访问用户集合，需要注意的是待处理访问用户集合的数量可以与刷量房间的访问用户集合总数相等，即100个刷量房间中可以确定出100个待处理访问用户集合。确定每个待处理访问用户集合的交集可以理解为判断哪些用户均看过这些待处理访问用户集合对应的刷量房间。在实际应用中，确定至少两个待处理访问用户集合的交集的目的是根据交集确定出异常用户集合，求交集的原因是：每个异常用户在一个直播平台进行刷量时必然不会只接收一个主播或一个直播间的刷量订单，一个异常用户会对多个直播间进行刷量。由于每个异常用户的服务器均是固定不变且服务器本身不会随意改变，因此每个异常用户的出口IP也是固定不变的，很容易出现同一个IP访问多个房间的情况。在本申请一具体实施例中，沿用上例，在400个访问用户集合中确定出100个待处理访问用户集合，根据100个待处理访问用户集合找出这个100个刷量房间对应的访问用户集合的交集，交集中有10个用户IP，这10个IP对应的用户在过去3天内均访问过这100个刷量房间，则将这10个用户IP作为异常IP，生成一个异常用户集合。在实际应用中，也可以在多个刷量房间的访问用户集合中确定出一定数量的待处理访问用户集合，在这些待处理访问用户集合中，查找每个用户访问这些待处理访问用户集合对应的刷量房间的次数超过预设次数。预设次数可以根据刷量房间的数量设定。例如，待处理访问用户集合对应的刷量房间为100个，则预设次数可以设置为刷量房间数量的10％，即预设次数为10次。由于是在待处理访问用户集合中筛选异常用户集合，因此相较于全盘统计异常用户误伤概率低、针对性强。在本申请一具体实施例中，在400个刷量房间对应的访问用户集合中确定出100个待处理访问用户集合之后，针对每个待处理访问用户集合里的每个用户，查询每个用户访问这100个待处理访问用户集合对应的刷量房间中的直播间的次数，用户A访问这100个刷量房间中的直播间的次数为20次，超过预设次数10次，则用户A为异常用户，依次完成对每个用户的检测以筛选出异常用户，并生成异常用户集合。在访问用户集合中为用户名、用户ID的情况下，需要根据用户名和/或用户ID获取到每个用户对应的用户属性信息集合。具体地，确定至少两个待处理访问用户集合的交集，并根据所述交集确定异常用户集合，包括：根据每个待处理访问用户集合获取每个所述待处理访问用户集合对应的用户属性信息集合；确定每个待处理访问用户集合的用户属性信息集合的交集，确定异常用户属性信息集合；根据所述异常用户属性信息集合确定异常用户集合。其中，用户属性信息集合可以理解为包含每个用户对应的属性信息的集合，用户属性信息集合里可以包括有用户IP、用户发送弹幕数、用户发送礼物数等信息。在实际应用中，根据每个房间属性信息可以在访问用户数据库中获取到每个房间的访问用户，即在获取到每个房间访问用户的用户名的情况下，需要根据每个访问用户的用户名，获取到每个访问用户对应的用户IP。在本申请一具体实施例中，沿用上例，确定出100个待处理访问用户集合之后，根据100个待处理访问用户集合获取到每个待处理访问用户集合对应的刷量房间的用户属性信息集合，用户属性信息集合中包括有每个访问用户的访问IP，根据每个刷量房间对应的用户属性信息集合确定出包含有异常用户IP的异常用户属性信息集合，根据异常用户属性信息集合确定包含有用户ID和/或用户名的异常用户集合。步骤108：根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。其中，真实用户数可以理解为观看直播间的真实人数，真实用户数可以是访问用户集合中的用户数量减去存在的异常用户数量。真实用户数可以是刷量房间过去n天的真实观看人数，也可以是刷量房间当前正在观看的真实观看人数。在实际应用中，每个刷量房间的访问用户集合中必然有异常用户，这些异常用户通过非法技术手段模拟正常用户观看，为刷量房间提供大量虚假的观看人数，因此为了保证每个刷量房间的观看人数的真实性，可以通过每个刷量房间对应的访问用户集合和异常用户集合统计每个刷量房间对应的真实观看人数。例如，访问用户集合中有100个用户，异常用户集合中有20个用户，这20个异常用户都在访问用户集合中，则真实观看人数为80。在本申请一具体实施例中，沿用上例，根据100个刷量房间对应的访问用户集合和异常用户集合统计该100个刷量房间对应的真实用户数。具体地，在根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数之前，还包括：根据所述异常用户集合获取异常用户数。其中，异常用户数可以理解为根据异常用户集合统计出的异常用户数量。在实际应用中，异常用户集合中可能包括有用户ID、用户名、用户IP等，则可以根据异常用户集合统计出异常用户的数量。在本申请一具体实施例中，沿用上例，在根据每个刷量房间对应的访问用户集合和异常用户集合统计每个刷量房间对应的真实用户数之前，需要根据异常用户集合获取到这100个刷量房间的异常用户数量，异常用户数量为20。在根据异常用户集合获取异常用户数之后，则需要根据每个刷量房间对应的访问用户集合获取每个刷量房间对应的访问用户数，具体地，根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数，包括：确定目标刷量房间，根据所述目标刷量房间对应的访问用户集合获取所述目标刷量房间的访问用户数；根据所述访问用户数和所述异常用户数统计目标刷量房间对应的真实用户数。其中，目标刷量房间可以理解为在多个刷量房间中确定出的一个目标房间，针对该目标刷量房间进行进一步的处理。访问用户数可以理解为访问目标刷量房间的总人数，总人数中包括有正常用户的观看人数和异常用户的刷量人数。在实际应用中，每个刷量房间的访问用户集合中包括有正常用户的用户信息和异常用户的用户信息，根据访问用户集合获取的访问用户数为正常用户加上异常用户数，因而可以根据访问用户数和异常用户数统计出每个刷量房间的真实用户数。在本申请一具体实施例中，沿用上例，在100个刷量房间中确定出目标刷量房间R1，根据目标刷量房间R1对应的访问用户集合获取目标刷量房间R1对应的访问数100，根据访问用户数和异常用户数统计出目标刷量房间对应的真实用户数80。具体地，根据所述访问用户数和所述异常用户数统计目标刷量房间对应的真实用户数，包括：根据所述访问用户数和所述异常用户数统计目标刷量房间对应的目标异常用户数；根据所述访问用户数和所述目标异常用户数统计目标刷量房间对应的真实用户数。其中，目标异常用户数可以理解为观看目标刷量房间的异常用户数量，在实际应用中，异常用户集合中的每个异常用户可能没有访问过每个刷量房间，因此，在统计目标刷量房间的真实用户数之前，需要确定目标刷量房间中有多少异常用户。例如，访问用户集合中有100个用户，异常用户集合中有20个用户，但是只有10个异常用户在访问用户集合中，则真实观看人数为90。在本申请一具体实施例中，沿用上例，确定目标刷量房间R1的访问用户数为100，确定异常用户数20人中只有5人在访问用户数中，因此，目标刷量房间R1的真实用户数为95。在实际应用中，获取到异常用户数之后可以将异常用户数以及异常用户集合发送至直播平台的心跳汇总服务，在直播平台汇总出本次确定的刷量房间之外的直播间的人数时，可以直接忽略异常用户集合中异常用户上报的心跳，从而准确地统计其他直播间的人数，起到防刷的作用，并且无需再次进行直播间是否刷量的判断。在上述直播间人数统计方法中，刷量房间是根据预设防刷规则确定的，由于预设防刷规则本身是人为设定的，因此会有一些漏判的刷量房间。基于刷量用户会访问多个直播间进行刷量的现象，可以根据异常用户集合在直播平台的访问用户数据库中查询到每个异常用户的访问记录，根据访问记录可以获取到每个异常用户访问过哪些直播间，生成一个列表，判断列表中的直播间是否为我们已经确定的刷量房间，若是，则不做处理；若否，则将其添加至疑似刷量房间列表中。具体地，所述方法还包括：根据所述异常用户集合获取待确认刷量房间集合；根据所述待确认刷量房间集合调整所述预设防刷规则。其中，待确认刷量房间集合可以理解为疑似刷量房间集合，即待确认这些房间是否为刷量房间。预设防刷规则是用于判断当前直播间是否为刷量房间的规则，调整预设防刷规则可以理解为调整预设防刷规则中的预设标准值，在当前直播间的疑似值大于预设标准值时，确定当前直播间为刷量房间；在当前直播间的疑似值小于或等于预设标准值时，确定当前直播间为正常房间。在实际应用中，在获取异常用户集合之后，还可以相应的调整判断直播间是否为刷量房间的预设防刷规则，使得根据预设防刷规则能够更准确的判断出刷量房间。在本申请一具体实施例中，沿用上例，根据异常用户集合中的20名异常用户，获取这20名异常用户的访问记录从而确定待确认刷量房间集合，待确认刷量房间集合中有1000个待确认刷量房间，根据待确认刷量房间集合调整预设防刷规则。具体地，根据所述异常用户集合获取待确认刷量房间集合，包括：根据所述异常用户集合获取待审核房间集合；在所述待审核房间集合中确定目标待审核房间；判断所述至少两个刷量房间中是否包括所述目标待审核房间；若否，则将所述目标待审核房间添加至待确认刷量房间集合；若是，则所述目标待审核房间为刷量房间。其中，待审核房间集合可以理解为所有异常用户访问的房间集合，待审核房间集合中的直播间中可能有已确定为刷量的刷量房间和待确定的未知房间。在实际应用中，根据异常用户集合获取所有异常用户的访问房间集合，该集合即为待审核房间集合，根据待审核房间集合中的直播间确定是否有漏判的情况发生。在本申请一具体实施例中，沿用上例，根据异常用户集合获取待审核房间集合，在待审核房间集合中确定出目标待审核房间R2，判断目标待审核房间R2是否在之前的刷量房间集合中，判断结果为在，则说明目标待审核房间R2为已经确认的刷量房间。在本申请另一具体实施例中，沿用上例，根据异常用户集合获取待审核房间集合，在待审核房间集合中确定出目标待审核房间R2，判断目标待审核房间R2是否在之前的刷量房间集合中，判断结果为不在，则说明目标待审核房间R2有可能是未检测到的刷量房间也有可能是正常房间。具体地，根据所述异常用户集合获取待审核房间集合，包括：在所述异常用户集合中确定目标异常用户；获取所述目标异常用户的目标访问信息；根据每个异常用户对应的目标访问信息获取待审核房间集合。其中，目标异常用户可以理解为在异常用户集合中选择出的一个异常用户，目标异常用户为接下来的处理对象，目标访问信息可以理解为目标异常用户的访问记录，访问信息中可以包括有访问时间、访问地址等信息。在实际应用中，针对异常用户集合中的每一个异常用户进行处理，选择出异常用户集合中的目标异常用户，根据目标异常用户的访问信息，以此类推获取每个异常用户的访问信息，待审核房间集合可以是所有异常用户根据预设时间确定出的访问房间集合。例如，预设时间为3天，则获取所有异常用户过去3天的访问房间集合，确定待审核房间集合。可以根据每个异常用户的访问信息获得各自的待审核房间子集合，最后汇总生成待审核房间集合，也可以先汇总每个异常用户的访问信息，根据总的访问信息确定待审核房间集合。在本申请一具体实施例中，在异常用户集合中确定目标异常用户A，获取目标异常用户A的目标访问信息，根据目标访问信息可以获取到目标异常用户的待审核房间子集合，获取到每个异常用户的待审核房间子集合，根据每个待审核房间子集合生成待审核房间集合。在本申请另一具体实施例中，沿用上例，在异常用户集合中确定目标异常用户A，获取目标异常用户A的目标访问信息，并确定下一个目标异常用户，获取对应的目标访问信息，根据每个异常用户对应的目标访问信息汇总成总访问信息，根据总访问信息确定待审核房间信息。本申请提供的一种直播间人数统计方法，包括：获取多个刷量房间中每个刷量房间对应的房间属性信息；根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合；根据多个所述访问用户集合确定异常用户集合；根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。通过获取至少两个刷量房间的房间属性信息，根据每个刷量房间的房间属性信息确定每个刷量房间对应的访问用户集合，根据每个刷量房间的访问用户集合确定出异常用户集合，确定出异常用户集合之后，可以根据每个刷量房间对应的访问用户集合和异常用户集合统计每个刷量房间对应的真实用户数，并且可以在以后的人数统计中，自动丢弃异常用户集合中的心跳人数，实现了实时去除刷量人数，保证了直播间人气数据的正确性。并且，还可以动态调整预设防刷规则，提高判断刷量房间数量，减少对刷量房间的漏判。下述结合附图2，以本申请提供的直播间人数统计方法在统计在线真实人数的应用为例，对所述直播间人数统计方法进行进一步说明。其中，图2示出了本申请一实施例提供的一种应用于统计在线真实人数的直播间人数统计方法的处理流程图，具体包括以下步骤：步骤202：根据预设防刷规则确定500个刷量房间。在本申请一具体实施例中，根据预设的防刷规则确定出直播平台中当前正在直播的直播间中有500个刷量房间。步骤204：获取500个刷量房间的房间属性信息。在本申请一具体实施例中，沿用上例，获取500个刷量房间的房间ID。步骤206：根据每个房间属性信息确定每个刷量房间对应的访问用户集合。在本申请一具体实施例中，沿用上例，根据每个刷量房间的房间ID确定出每个刷量房间对应的访问用户集合。步骤208：在500个刷量房间中确定至少两个待处理访问用户集合，确定每个待处理访问用户集合的交集，并根据交集确定异常用户集合。在本申请一具体实施例中，沿用上例，在500个刷量房间中确定出500个待处理访问用户集合，确定这500个刷量房间的待处理访问用户集合的交集，求交集的结果为异常用户集合。步骤210：根据异常用户集合获取异常用户数，确定目标刷量房间，根据目标刷量房间对应的访问用户集合获取目标刷量房间的访问用户数，根据访问用户数和所述异常用户数统计目标刷量房间对应的真实用户数。在本申请一具体实施例中，沿用上例，根据异常用户集合确定出异常用户数为100，在500个刷量房间中确定目标刷量房间m1，获取目标刷量房间m1的在线观看人数为1500，根据访问用户数和异常用户数统计出目标刷量房间对应的在线真实观看人数为1400。步骤212：根据异常用户集合获取待确认刷量房间集合，根据待确认刷量房间集合调整所述预设防刷规则。在本申请一具体实施例中，沿用上例，根据异常用户集合获取待确认刷量房间集合，判断待确认刷量房间集合中的每个直播间是否为已经确定的刷量房间，若待确认刷量房间集合中都是刷量房间，则不调整预设防刷规则；若待确认刷量房间中有未确认的疑似刷量房间，则根据疑似刷量房间集合调低预设防刷规则中的预设标准分。本申请提供的一种应用于统计在线真实人数的直播间人数统计方法，包括：根据预设防刷规则确定500个刷量房间；获取500个刷量房间的房间属性信息；在500个刷量房间中确定至少两个待处理访问用户集合，确定每个待处理访问用户集合的交集，并根据交集确定异常用户集合；根据异常用户集合获取异常用户数，确定目标刷量房间，根据目标刷量房间对应的访问用户集合获取目标刷量房间的访问用户数，根据访问用户数和所述异常用户数统计目标刷量房间对应的真实用户数；根据异常用户集合获取待确认刷量房间集合，根据待确认刷量房间集合调整所述预设防刷规则。通过预设防刷规则确定刷量房间，根据刷量房间反向查询所有刷量房间的访问用户集合，求取至少两个访问用户集合的交集，获取异常用户集合，根据异常用户集合实时去除刷量用户人数，获得每个直播间的真实访问人数，并且动态调整预设防刷规则的标准，从而能够更加准确的判断直播间是否为刷量房间。与上述方法实施例相对应，本申请还提供了直播间人数统计装置实施例，图3示出了本申请一实施例提供的一种直播间人数统计装置的结构示意图。如图3所示，该装置包括：获取模块302，被配置为获取多个刷量房间中每个刷量房间对应的房间属性信息；第一确定模块304，被配置为根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合；第二确定模块306，被配置为根据多个所述访问用户集合确定异常用户集合；统计模块308，被配置为根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。可选地，所述第一确定模块304，进一步被配置为：确定目标刷量房间；根据所述目标刷量房间的房间属性信息在访问用户数据库中获取所述目标刷量房间对应的访问用户集合。可选地，所述第二确定模块306，进一步被配置为：在多个所述访问用户集合中确定至少两个待处理访问用户集合；确定至少两个待处理访问用户集合的交集，并根据所述交集确定异常用户集合，其中异常用户集合中包括有异常操作的用户。可选地，所述第二确定模块306，进一步被配置为：根据每个待处理访问用户集合获取每个所述待处理访问用户集合对应的用户属性信息集合；确定每个待处理访问用户集合的用户属性信息集合的交集，确定异常用户属性信息集合；根据所述异常用户属性信息集合确定异常用户集合。可选地，所述统计模块308，还被配置为：根据所述异常用户集合获取异常用户数。可选地，所述统计模块308，进一步被配置为：确定目标刷量房间，根据所述目标刷量房间对应的访问用户集合获取所述目标刷量房间的访问用户数；根据所述访问用户数和所述异常用户数统计目标刷量房间对应的真实用户数。可选地，所述获取模块302，还被配置为：根据预设防刷规则确定至少两个刷量房间。可选地，所述装置还包括：调整模块，被配置为根据所述异常用户集合获取待确认刷量房间集合；根据所述待确认刷量房间集合调整所述预设防刷规则。可选地，所述调整模块，还被配置为：根据所述异常用户集合获取待审核房间集合；在所述待审核房间集合中确定目标待审核房间；判断所述至少两个刷量房间中是否包括所述目标待审核房间；若否，则将所述目标待审核房间添加至待确认刷量房间集合；若是，则所述目标待审核房间为刷量房间。可选地，所述调整模块，还被配置为：在所述异常用户集合中确定目标异常用户；获取所述目标异常用户的目标访问信息；根据每个异常用户对应的目标访问信息获取待审核房间集合。本申请提供的一种直播间人数统计装置，包括：获取模块，被配置为获取多个刷量房间中每个刷量房间对应的房间属性信息；第一确定模块，被配置为根据所述房间属性信息确定所述每个刷量房间对应的访问用户集合；第二确定模块，被配置为根据多个所述访问用户集合确定异常用户集合；统计模块，被配置为根据每个刷量房间对应的访问用户集合和所述异常用户集合统计每个刷量房间对应的真实用户数。通过获取至少两个刷量房间的房间属性信息，根据每个刷量房间的房间属性信息确定每个刷量房间对应的访问用户集合，根据每个刷量房间的访问用户集合确定出异常用户集合，确定出异常用户集合之后，可以根据每个刷量房间对应的访问用户集合和异常用户集合统计每个刷量房间对应的真实用户数，并且可以在以后的人数统计中，自动丢弃异常用户集合中的心跳人数，实现了实时去除刷量人数，保证了直播间人气数据的正确性。上述为本实施例的一种直播间人数统计装置的示意性方案。需要说明的是，该直播间人数统计装置的技术方案与上述的直播间人数统计方法的技术方案属于同一构思，直播间人数统计装置的技术方案未详细描述的细节内容，均可以参见上述直播间人数统计方法的技术方案的描述。图4示出了根据本申请一实施例提供的一种计算设备400的结构框图。该计算设备400的部件包括但不限于存储器410和处理器420。处理器420与存储器410通过总线430相连接，数据库450用于保存数据。计算设备400还包括接入设备440，接入设备440使得计算设备400能够经由一个或多个网络460通信。这些网络的示例包括公用交换电话网、局域网、广域网、个域网或诸如因特网的通信网络的组合。接入设备440可以包括有线或无线的任何类型的网络接口)中的一个或多个，诸如IEEE802.11无线局域网无线接口、全球微波互联接入接口、以太网接口、通用串行总线接口、蜂窝网络接口、蓝牙接口、近场通信接口，等等。在本申请的一个实施例中，计算设备400的上述部件以及图4中未示出的其他部件也可以彼此相连接，例如通过总线。应当理解，图4所示的计算设备结构框图仅仅是出于示例的目的，而不是对本申请范围的限制。本领域技术人员可以根据需要，增添或替换其他部件。计算设备400可以是任何类型的静止或移动计算设备，包括移动计算机或移动计算设备、移动电话、可佩戴的计算设备或其他类型的移动设备，或者诸如台式计算机或PC的静止计算设备。计算设备400还可以是移动式或静止式的服务器。其中，处理器420执行所述计算机指令时实现所述的直播间人数统计方法的步骤。上述为本实施例的一种计算设备的示意性方案。需要说明的是，该计算设备的技术方案与上述的直播间人数统计方法的技术方案属于同一构思，计算设备的技术方案未详细描述的细节内容，均可以参见上述直播间人数统计方法的技术方案的描述。本申请一实施例还提供一种计算机可读存储介质，其存储有计算机指令，该计算机指令被处理器执行时实现如前所述直播间人数统计方法的步骤。上述为本实施例的一种计算机可读存储介质的示意性方案。需要说明的是，该存储介质的技术方案与上述的直播间人数统计方法的技术方案属于同一构思，存储介质的技术方案未详细描述的细节内容，均可以参见上述直播间人数统计方法的技术方案的描述。上述对本申请特定实施例进行了描述。其它实施例在所附权利要求书的范围内。在一些情况下，在权利要求书中记载的动作或步骤可以按照不同于实施例中的顺序来执行并且仍然可以实现期望的结果。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。所述计算机指令包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，所述计算机可读介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如在某些司法管辖区，根据立法和专利实践，计算机可读介质不包括电载波信号和电信信号。需要说明的是，对于前述的各方法实施例，为了简便描述，故将其都表述为一系列的动作组合，但是本领域技术人员应该知悉，本申请并不受所描述的动作顺序的限制，因为依据本申请，某些步骤可以采用其它顺序或者同时进行。其次，本领域技术人员也应该知悉，说明书中所描述的实施例均属于优选实施例，所涉及的动作和模块并不一定都是本申请所必须的。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其它实施例的相关描述。以上公开的本申请优选实施例只是用于帮助阐述本申请。可选实施例并没有详尽叙述所有的细节，也不限制该发明仅为所述的具体实施方式。显然，根据本申请的内容，可作很多的修改和变化。本申请选取并具体描述这些实施例，是为了更好地解释本申请的原理和实际应用，从而使所属技术领域技术人员能很好地理解和利用本申请。本申请仅受权利要求书及其全部范围和等效物的限制。
