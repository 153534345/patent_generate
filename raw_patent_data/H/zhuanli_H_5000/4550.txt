标题title
传输网络拓扑图的呈现方法、装置、设备及存储介质
摘要abst
本发明公开了一种传输网络拓扑图的呈现方法、装置、设备及存储介质，该方法包括：当检测到网络故障时，提取与该网络故障对应的多条传输线路数据；根据该多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局；其中，站点的类型包括接入类型、汇聚类型以及骨干类型；遍历该棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短；在遍历完成后，调整得到最优棋盘布局，根据该最优棋盘布局呈现对应该网络故障的传输网络拓扑图。本发明方案，可由网络故障自动触发呈现该故障对应的传输网络拓扑图，便于快速的进行故障排查。
权利要求书clms
1.一种传输网络拓扑图的呈现方法，包括：当检测到网络故障时，提取与所述网络故障对应的多条传输线路数据；根据所述多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局；其中，站点的类型包括接入类型、汇聚类型以及骨干类型；遍历所述棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短；在遍历完成后，调整得到最优棋盘布局，根据所述最优棋盘布局呈现对应所述网络故障的传输网络拓扑图。2.根据权利要求1所述的方法，其中，所述根据所述多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局进一步包括：在绘制任一传输线路数据中包含的站点的坐标位置时，根据该传输线路数据中各个站点所处的传输排序位置，确定各个站点所在的目标层；针对各个站点，在该站点所在的目标层对应的水平线上，从起始坐标开始以预设步长依次判断各个坐标是否已绘制有其它站点，将该站点绘制在首个判定出未绘制有其它站点的坐标位置。3.根据权利要求2所述的方法，其中，每一层中的站点的纵坐标相同。4.根据权利要求1-3任一项所述的方法，其中，所述根据所述最优棋盘布局呈现对应所述网络故障的传输网络拓扑图具体为：针对所述最优棋盘布局中包括的各个接入环，绘制云站点，并将所述云站点连接至该接入环所接入的汇聚站点和/或骨干站点；建立该云站点与接入环的关联，并隐藏该接入环中的接入站点及其连接关系，得到简化后的最优棋盘布局；将所述简化后的最优棋盘布局作为对应所述网络故障的传输网络拓扑图进行呈现。5.根据权利要求4所述的方法，其中，在所述将所述简化后的最优棋盘布局作为对应所述网络故障的传输网络拓扑图进行呈现之后，所述方法还包括：检测对任一云站点的触发操作，若检测到，将该云站点关联的接入环以及该接入环上联的完整传输链路进行呈现。6.根据权利要求1所述的方法，其中，所述网络故障为多个基站退服；所述根据所述最优棋盘布局呈现对应所述网络故障的传输网络拓扑图进一步包括：判断所述多个基站中汇聚在同一区县的基站比例是否超过预设比例；若是，则剔除未汇聚在该区县的基站，得到剩余基站；将剩余基站关联至PTN段，将最优棋盘布局中该关联的PTN段进行去重处理，留下一份PTN段；获取该一份PTN段关联的传输网元，将最优棋盘布局中该关联的传输网元进行去重处理，留下一份网元；获取该一份网元的端口信息，将最优棋盘布局中该端口信息进行去重处理，留下一份端口数据，最终形成对应所述网络故障的告警区域拓扑图。7.根据权利要求6所述的方法，其中，在所述形成对应所述网络故障的告警区域拓扑图之后，所述方法还包括：获取网元和/或端口的告警信息，若所述告警信息中存在网元脱管告警，则在所述告警区域拓扑图中对应站点的位置进行告警标识并进行呈现；若所述告警信息中存在端口告警，则在所述告警区域拓扑图的相应端口及其连线处进行告警标识并进行呈现。8.一种传输网络拓扑图的呈现装置，包括：提取模块，适于当检测到网络故障时，提取与所述网络故障对应的多条传输线路数据；布局模块，适于根据所述多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局；其中，站点的类型包括接入类型、汇聚类型以及骨干类型；调整模块，适于遍历所述棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短；呈现模块，适于在遍历完成后，调整得到最优棋盘布局，根据所述最优棋盘布局呈现对应所述网络故障的传输网络拓扑图。9.一种计算设备，包括：处理器、存储器、通信接口和通信总线，所述处理器、所述存储器和所述通信接口通过所述通信总线完成相互间的通信；所述存储器用于存放至少一可执行指令，所述可执行指令使所述处理器执行如权利要求1-7中任一项所述的传输网络拓扑图的呈现方法对应的操作。10.一种计算机存储介质，所述存储介质中存储有至少一可执行指令，所述可执行指令使处理器执行如权利要求1-7中任一项所述的传输网络拓扑图的呈现方法对应的操作。
说明书desc
技术领域本发明涉及传输网络技术领域，具体涉及一种传输网络拓扑图的呈现方法、装置、设备及存储介质。背景技术传输即通过光纤、有线等介质进行光或电信号的传送的过程，传输通过不同方式、设备以及不同的传输介质组合形成一个传输网。在通信网络中，传输网作为一个基础网络，在信息传送过程中有着举足轻重的地位。随着通信技术的不断发展，业务量爆炸性的增长，传输网络技术不断革新，网络覆盖范围越来越广泛，对于通信质量的要求也越来越高。因此，在发生传输故障时，如何更快速高效得解决故障成了至关重要的问题。网络拓扑指的是各个网元之间相互连接的布局，是一种真实的排列方式或者含逻辑性的虚拟排列方式。用户通过基站、OLT等设备，将信息数据传输至接入层，再由接入层关联传输至汇聚层，最后汇聚层传输至骨干层，由此实现信息的互通。PTN和OTN是两种常见的传输网络，PTN主要应用于接入层、汇聚层以及骨干层，用作数据业务的传输，调度小颗粒业务；OTN主要应用于汇聚层、骨干层，大幅度降低光纤占用率，提高业务调度灵敏度。PTN和OTN在通信网络中起着重要的作用，一旦出现网络故障，将造成严重影响。在现有技术中，传输网络故障的排查主要通过以下方式实现：图1示出了基站告警时的关系图，如图1所示，当发生中断类故障时，基站发出告警，厂家网管监控到告警，同步关联将告警呈现至综合告警平台，监控人员通过综合告警平台发现告警并进行后续处理。图2示出了告警判断的流程示意图，如图2所示，综合告警平台发布基站告警，监控人员在综合资管平台获取对应告警的基站、电路、传输段落、传输网元等相关信息，在综合告警平台中寻找对应告警并判断告警的强相关性，找到强相关告警后判断故障原因。根据资管平台获取的信息，监管人员先从整体拓扑图中筛选，由市级向区级、区级向街道等逐级缩小，直至范围无法再缩小。然后通过综合资管提供的线路段落信息进行逐一排查，将每个段落与告警进行关联匹配，一一排除非强相关的故障段落，直至排查出与告警强相关的段落，最后确认故障原因，进行调度安排。然而，发明人在实施本发明实施例的过程中发现，上述现有的排查方式至少存在如下缺陷：一个网元设备可能关联一个子设备，也可能关联十个子设备，甚至可能关联几十个子设备，以此类推，相关联的子设备也可能同时关联其他多个设备。其次，该网元设备与多个设备组合形成一个环路，由于关联子设备众多，该网元存在于多个环路之中，整体网络关系十分的复杂。当出现故障时，监控人员首先需要获取相关联的故障信息，再根据获得的信息对每条环路进行排查，确认故障环路，然后对故障环路中的每个设备进行逐个排查，排除非强相关的故障段落，最终执行十分困难。发明内容鉴于上述问题，提出了本发明实施例以便提供一种克服上述问题或者至少部分地解决上述问题的传输网络拓扑图的呈现方法、装置、设备及存储介质。根据本发明实施例的一个方面，提供了一种传输网络拓扑图的呈现方法，包括：当检测到网络故障时，提取与所述网络故障对应的多条传输线路数据；根据所述多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局；其中，站点的类型包括接入类型、汇聚类型以及骨干类型；遍历所述棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短；在遍历完成后，调整得到最优棋盘布局，根据所述最优棋盘布局呈现对应所述网络故障的传输网络拓扑图。根据本发明实施例的另一方面，提供了一种传输网络拓扑图的呈现装置，包括：提取模块，适于当检测到网络故障时，提取与所述网络故障对应的多条传输线路数据；布局模块，适于根据所述多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局；其中，站点的类型包括接入类型、汇聚类型以及骨干类型；调整模块，适于遍历所述棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短；呈现模块，适于在遍历完成后，调整得到最优棋盘布局，根据所述最优棋盘布局呈现对应所述网络故障的传输网络拓扑图。根据本发明实施例的又一方面，提供了一种计算设备，包括：处理器、存储器、通信接口和通信总线，所述处理器、所述存储器和所述通信接口通过所述通信总线完成相互间的通信；所述存储器用于存放至少一可执行指令，所述可执行指令使所述处理器执行上述传输网络拓扑图的呈现方法对应的操作。根据本发明实施例的再一方面，提供了一种计算机存储介质，所述存储介质中存储有至少一可执行指令，所述可执行指令使处理器执行如上述传输网络拓扑图的呈现方法对应的操作。根据本发明实施例的传输网络拓扑图的呈现方法、装置、设备及存储介质，当检测到网络故障时，提取该网络故障对应的多条传输线路数据，对多条传输线路数据中涉及的站点和传输关系进行棋盘布局，在棋盘中绘制得到初始的站点位置以及连接关系；然后，以最短距离为目标分别调整每层的站点位置，并在所有层调整完毕后得到最优棋盘布局，根据该最优棋盘布局呈现传输网络拓扑图，以便进行故障分析。由此可见，本发明方案，可通过网络故障自动触发进行布局和呈现，展现出连线简洁清晰的传输网络拓扑图，进而便于进行故障分析定位，降低故障定位的难度，提高定位效率。上述说明仅是本发明实施例技术方案的概述，为了能够更清楚了解本发明实施例的技术手段，而可依照说明书的内容予以实施，并且为了让本发明实施例的上述和其它目的、特征和优点能够更明显易懂，以下特举本发明实施例的具体实施方式。附图说明通过阅读下文优选实施方式的详细描述，各种其他的优点和益处对于本领域普通技术人员将变得清楚明了。附图仅用于示出优选实施方式的目的，而并不认为是对本发明实施例的限制。而且在整个附图中，用相同的参考符号表示相同的部件。在附图中：图1示出了基站告警时的关系图；图2示出了告警判断的流程示意图；图3示出了本发明实施例提供的传输网络拓扑图的呈现方法的流程图；图4示出了本发明另一个实施例提供的传输网络拓扑图的呈现方法的流程图；图5示出了本发明一个具体示例中在经过最短距离调整后得到的最优棋盘布局的示意图；图6示出了本发明一个具体示例中将告警区域拓扑图中的端口告警对应的连线置为深色后示意图；图7示出了本发明实施例提供的传输网络拓扑图的呈现装置的结构示意图；图8示出了本发明实施例提供的计算设备的结构示意图。具体实施方式下面将参照附图更详细地描述本发明的示例性实施例。虽然附图中显示了本发明的示例性实施例，然而应当理解，可以以各种形式实现本发明而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更透彻地理解本发明，并且能够将本发明的范围完整的传达给本领域的技术人员。图3示出了本发明实施例提供的传输网络拓扑图的呈现方法的流程图，该方法应用于传输网络故障时的拓扑呈现，以便于进行故障排查，该方法可由任意具有数据处理能力的计算设备来执行，该计算设备与综合告警平台和综合资管平台进行通信，分别获取告警信息和传输网络的原始数据。如图3所示，该方法包括以下步骤：步骤S310：当检测到网络故障时，提取与该网络故障对应的多条传输线路数据。具体地，当接收到从综合告警平台发送来的故障告警消息后，从综合资管平台获取对应该告警的基站、电路、传输段落、传输网元等相关数据，并进行集成处理后从中提取出多条传输线路数据，其中，传输线路数据是指表示信号的传输路线的数据，其中包括传输经过的站点以及站点之间的传输关系。举例来说，若有10个基站退服，则通常可提取出20条传输线路数据，其中每个基站的信号在传输网中都会有正在使用的传输线路和备用的传输线路，其中1条传输线路数据为A-＞B-＞C-＞D-＞E，A、B、C、D以及E分别为该传输线路数据中涉及的站点，A-＞B表示传输关系为由A站点到B站点传输。步骤S320：根据该多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局。其中，站点的类型可以直接从传输网元数据中查询到，传输网元数据中记录有站点名称及其类型，例如，记录有A站点为接入站点。具体地，对传输线路数据中涉及的站点进行类型赋值，其中，类型包括接入类型、汇聚类型以及骨干类型。然后，进行棋盘布局，棋盘布局主要是将多条传输线路数据中涉及的站点确定在棋盘中的相应坐标位置，并将具有传输关系的站点之间进行连线。进一步的，在确定各个站点的坐标位置的过程中，需要首先依据传输关系确定出站点所属的层，然后将同一层的站点确定在棋盘中的同一水平位置，以符合站点分层的特点。步骤S330：遍历该棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短。在绘制完棋盘布局后，依次遍历每一层的站点，调整站点的坐标位置，其中，在调整坐标位置的过程中，站点之间的连线关系也会随之调整，以确保调整后的棋盘布局中的连线关系依然与初始的传输关系相一致。以及，调整主要通过交换改成中站点的位置来实现，在针对每一层的站点进行调整时，其目标是使调整后，棋盘中所有连接关系的连线距离之和最短，在每一层调整完毕后，则调整另一层，直至遍历完所有层。经过上述调整，可以使棋盘布局中的连线更为清晰，可以尽量避免连线交叉或者长距离的连线。步骤S340：在遍历完成后，调整得到最优棋盘布局，根据该最优棋盘布局呈现对应该网络故障的传输网络拓扑图。遍历完成后，则得到最优棋盘布局，在一些可选的实施例中，可直接将该最优棋盘布局作为对应网络故障的传输网络拓扑进行呈现，以便查看该与网络故障相关的所有站点及其连接关系；或者，在另一些可选的实施例中，可通过对最优棋盘布局进行处理后，仅将其中部分站点及其连接关系进行呈现，例如，仅将骨干层和汇聚层的部分进行呈现，或者仅呈现网络故障的发生点的部分，以提高呈现的针对性。无论是上述何种呈现方式，都可以清晰的呈现与故障相关的传输网络拓扑，有利于进行故障分析。根据本实施例提供的传输网络拓扑图的呈现方法，当检测到网络故障时，提取该网络故障对应的多条传输线路数据，对多条传输线路数据中涉及的站点和传输关系进行棋盘布局，在棋盘中绘制得到初始的站点位置以及连接关系；然后，以最短距离为目标分别调整每层的站点位置，并在所有层调整完毕后得到最优棋盘布局，根据该最优棋盘布局呈现传输网络拓扑图，以便进行故障分析。由此可见，本实施例方案，可通过网络故障自动触发进行布局和呈现，展现出连线简洁清晰的传输网络拓扑图，进而便于进行故障分析定位，降低故障定位的难度，提高定位效率。图4示出了本发明另一个实施例提供的传输网络拓扑图的呈现方法的流程图。该本实施例中，可以进一步准确呈现告警区域的拓扑图以及具体的故障。如图4所示，该方法包括以下步骤：步骤S410：当检测到网络故障时，提取与该网络故障对应的多条传输线路数据。步骤S420：根据该多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局；其中，站点的类型包括接入类型、汇聚类型以及骨干类型。其中，在绘制棋盘布局的过程中，每一层中的站点的纵坐标相同，即同一层的站点绘制在同一高度位置。具体地，在绘制任一传输线路数据中包含的站点的坐标位置时，根据该传输线路数据中各个站点所处的传输排序位置，确定各个站点所在的目标层，在该传输线路数据中，针对任一类型的站点，按照该类型的站点的传输关系由后至前的顺序确定该类型中各个站点所在的层依次由高至低排列，这样就可以确定出该传输线路数据中该类型的每个站点所属的层，即目标层，其它类型的站点也同样确定；然后，针对各个站点，在该站点所在的目标层对应的水平线上，从起始坐标开始以预设步长依次判断各个坐标是否已绘制有其它站点，将该站点绘制在首个判定出未绘制有其它站点的坐标位置，即在同一水平线上由左至右依次排列属于该层的站点，使站点之间不存在位置重叠。在一些具体的实施方式中，可通过如下方式避免位置重叠：通过全局变量判断二维坐标是否存在，若存在则对该二维坐标x添加一个偏移量重复判断,直至无重复坐标则确定出坐标位置。以传输线路数据A-＞B-＞C-＞D-＞E为例，若其中D和E为骨干类站点，则按照传输关系由后至前的顺序，将D站点的目标层确定为骨干站点的第一层，如y＝0的层，以及将E站点的目标层确定为骨干站点的第二层，如y＝-1的层，则首先在确定D站点的坐标位置时，从开始判断，若存在其它站点，则判断点，依次类推，直至确定出未被占用的坐标位置，则确定为D站点的坐标位置，同理，对于E站点，则从开始判断，直至确定出未被占用的坐标位置，则确定为E站点的坐标位置。至此，需要说明的是，实际中，多条传输线路数据中会涉及到相同的站点，对于已经绘制过的站点，当再次遇到时，不必按照上述确定目标层以及确定坐标位置的方式再次进行绘制，而只需绘制传输关系绘制新的连线即可。例如，另一条传输线路数据中存在F-＞E的传输关系，则其中的E站点可延用前文举例中确定的坐标位置，而无需重复绘制，只需在绘制F站点后，新增E和F的连线即可。进一步的，在实际实施过程中，按照不同数据布局方式将数据进行处理，不同布局方式采用不同的前端可视化框架。分层布局使用蚂蚁金服的antv/g6可视化框架，主要应用于不同环路节点间的布局；不分层布局则采用vis.js框架，进行physics配置，主要应用于同一环路中节点间的布局。另外，在本发明的一些可选的实施例中，在目标层中确定站点位置的过程中，除按照同一坐标位置是否存在站点的方式外，还需进一步考虑到同一层中站点之间的传输关系，将具有传输关系的站点放置在相邻的位置，以便减少后续调整时的工作量。前端布局整体采用棋盘格布局算法，通过棋盘格进行排列布局，清晰展示骨干层、汇聚层、接入层中相同环路以及不同环路之间的连接关系。计算所有节点之间的排斥力，它随着节点之间距离的增大而减小；接着计算图中有边相连的节点间的吸引力，它随着节点间距离的增大而增大；最后计算吸引力和排斥力之和，通过最大位移限制节点移动的距离，通过多次迭代，直到整个布局呈棋盘样式，逐渐趋于稳定。棋盘型布局算法结合环型布局算法和树型布局算法的特点，首先以其中某一节点数目最多的环路为基准，再确定根节点坐标，其余环路则以基准环路为中心向外发散分层次排列。步骤S430：遍历该棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短。在每一层中，通过不断的交换任意两个站点的坐标位置，并计算交换后棋盘布局中所有连接关系的连线距离之和，若该连线距离之和相较于交换前的连线距离之和变小，则确认交换，然后选择其他任意两个站点进行位置交换，并重复前述步骤；若变大，则撤销此次交换，然后选择其他任意两个站点进行位置交换，并重复前述步骤。直至该层的所有任意两个站点遍历完成，则该层的调整完成，然后依次调整其他层的。图5示出了本发明一个具体示例中在经过最短距离调整后得到的最优棋盘布局的示意图。如图5所示，仅示出了骨干站点和汇聚站点，通过最短距离算法，使各站点间距离之和最短，例如，假设距离Dis，若i为节点a1b1，则与a1b1关联的站点距离为Dis；若i为节点a6b1，则与a6b1关联的站点距离为Dis，n为同环路各站点间的距离，n≧1且n为整数，则在对b1层中的站点位置进行调整的过程中，最短距离和为Dismin+Dismin+n。步骤S440：在遍历完成后，调整得到最优棋盘布局，根据该最优棋盘布局得到对应该网络故障的告警区域拓扑图。其中，告警区域拓扑图是指故障所在区域的拓扑图。在形成告警区域拓扑图后可直接展示，或者也可经过下文步骤S450的处理后再展示。具体地，通过对前述得到的最优棋盘布局进行去重处理后，则可得到告警区域拓扑图。下面以本发明实施例的一种典型应用场景，机网络故障为多个基站退服的场景，来说明该形成告警区域拓扑图的过程：针对多基站退服的故障，在得到最优棋盘布局后，判断该多个基站中汇聚在同一区县的基站比例是否超过预设比例；若是，则剔除未汇聚在该区县的基站，得到剩余基站，例如，75％以上退服基站汇聚在一个区县，则将未汇聚在内的退服基站剔除后进入下一步；将剩余基站关联至PTN段，将最优棋盘布局中该关联的PTN段进行去重处理，留下一份PTN段，其中，基站与PTN段的关系如下：基站-同源双宿电路-伪线-隧道-PTN段；获取该一份PTN段关联的传输网元，将最优棋盘布局中该关联的传输网元进行去重处理，留下一份网元，其中，PTN段由两个端口信息拼接而成，可以关联到A-Z两端网元信息；获取该一份网元的端口信息，将最优棋盘布局中该端口信息进行去重处理，留下一份端口数据，即将所有A-Z端获取到后进行去重，最终形成对应该网络故障的告警区域拓扑图，其中，将网元信息打点在图上，将设备级别是本地接入的放置在下层，本地汇聚的放置在中层，本地骨干的放置在上层。然后将具有PTN端互联的网元连接起来，形成故障告警拓扑图。步骤S450：获取网元和/或端口的告警信息，若该告警信息中存在网元脱管告警，则在该告警区域拓扑图中对应站点的位置进行告警标识并进行呈现；若该告警信息中存在端口告警，则在该告警区域拓扑图的相应端口及其连线处进行告警标识并进行呈现。将告警区域拓扑图中的站点以及端口匹配告警信息，自动核查网元脱管告警ETH_LOS/ETH_LINK_DOWN，假如存在网元脱管告警，则工具自动将对应的站点进行标识，例如，将站点置灰；如果存在端口告警，则自动将该端口所在一侧站点以及连线进行标识，例如将连线置红。图6示出了本发明一个具体示例中将告警区域拓扑图中的端口告警对应的连线置为深色后示意图。如图6所示，长乐连瓶窑连余杭2的连线为深色。经过上述步骤S440和S450，可以进一步将端口和/或站点的告警在拓扑图中标识出来，即可直接将故障原因直接呈现出来，便于快速定位故障并进行处理。另外，在本发明的另一些可选的实施例中，在根据该最优棋盘布局呈现对应该网络故障的传输网络拓扑图的过程中，为了简化呈现的拓扑图的复杂度，针对该最优棋盘布局中包括的各个接入环，绘制云站点，并将该云站点连接至该接入环所接入的汇聚站点和/或骨干站点；建立该云站点与接入环的关联，并隐藏该接入环中的接入站点及其连接关系，得到简化后的最优棋盘布局；将该简化后的最优棋盘布局作为对应该网络故障的传输网络拓扑图进行呈现。换言之，在简化后的最优棋盘布局中，以云站点来替换每个接入环中的接入站点的接入站点及其连接关系进行显示，而实际中接入环涉及的站点数量众多，若全部显示会显得凌乱，通过云站点来替换，可以提高显示的简洁度；并且，对于批量基站退服类似的批量网络故障，其故障原因通常出现在骨干层和/或汇聚层中，通过这种显示方式也完全可以满足故障定位的需求。以及，在这些可选的实施例中，在该将该简化后的最优棋盘布局作为对应该网络故障的传输网络拓扑图进行呈现之后，检测对任一云站点的触发操作，若检测到，将该云站点关联的接入环以及该接入环上联的完整传输链路进行呈现，其中，完整传输链路是指由该接入环向上传输至核心网所要经过的链路。通过这种方式，在存在显示需求时，才将该云站点替换显示的接入环的细节部分显示出来，实现有针对性的显示。根据本实施例提供的传输网络拓扑图的呈现方法，利用拓扑自动生成算法，简化了全业务网络拓扑图，仅自动生成网络故障对应的拓扑图，使复杂的网络关系简单化，解决了人工排查困难的问题；同时自动化的预处理判断，并将故障原因在拓扑图中进行标识，解放了大量劳动力的同时，同时大大提高了故障判断的正确率，以及故障的处理效率，使原先故障处理的耗时缩短至几分钟，实现了故障处理的及时性，保障了业务的畅通。图7示出了本发明实施例提供的传输网络拓扑图的呈现装置的结构示意图。如图7所示，该装置包括：提取模块710，适于当检测到网络故障时，提取与所述网络故障对应的多条传输线路数据；布局模块720，适于根据所述多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局；其中，站点的类型包括接入类型、汇聚类型以及骨干类型；调整模块730，适于遍历所述棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短；呈现模块740，适于在遍历完成后，调整得到最优棋盘布局，根据所述最优棋盘布局呈现对应所述网络故障的传输网络拓扑图。在一种可选的方式中，布局模块进一步适于：在绘制任一传输线路数据中包含的站点的坐标位置时，根据该传输线路数据中各个站点所处的传输排序位置，确定各个站点所在的目标层；针对各个站点，在该站点所在的目标层对应的水平线上，从起始坐标开始以预设步长依次判断各个坐标是否已绘制有其它站点，将该站点绘制在首个判定出未绘制有其它站点的坐标位置。在一种可选的方式中，每一层中的站点的纵坐标相同。在一种可选的方式中，呈现模块进一步适于：针对所述最优棋盘布局中包括的各个接入环，绘制云站点，并将所述云站点连接至该接入环所接入的汇聚站点和/或骨干站点；建立该云站点与接入环的关联，并隐藏该接入环中的接入站点及其连接关系，得到简化后的最优棋盘布局；将所述简化后的最优棋盘布局作为对应所述网络故障的传输网络拓扑图进行呈现。在一种可选的方式中，呈现模块进一步适于：检测对任一云站点的触发操作，若检测到，将该云站点关联的接入环以及该接入环上联的完整传输链路进行呈现。在一种可选的方式中，所述网络故障为多个基站退服；呈现模块进一步适于：判断所述多个基站中汇聚在同一区县的基站比例是否超过预设比例；若是，则剔除未汇聚在该区县的基站，得到剩余基站；将剩余基站关联至PTN段，将最优棋盘布局中该关联的PTN段进行去重处理，留下一份PTN段；获取该一份PTN段关联的传输网元，将最优棋盘布局中该关联的传输网元进行去重处理，留下一份网元；获取该一份网元的端口信息，将最优棋盘布局中该端口信息进行去重处理，留下一份端口数据，最终形成对应所述网络故障的告警区域拓扑图。在一种可选的方式中，呈现模块进一步适于：获取网元和/或端口的告警信息，若所述告警信息中存在网元脱管告警，则在所述告警区域拓扑图中对应站点的位置进行告警标识并进行呈现；若所述告警信息中存在端口告警，则在所述告警区域拓扑图的相应端口及其连线处进行告警标识并进行呈现。本发明实施例提供了一种非易失性计算机存储介质，所述计算机存储介质存储有至少一可执行指令，该计算机可执行指令可执行上述任意方法实施例中的传输网络拓扑图的呈现方法。可执行指令具体可以用于使得处理器执行以下操作：当检测到网络故障时，提取与所述网络故障对应的多条传输线路数据；根据所述多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局；其中，站点的类型包括接入类型、汇聚类型以及骨干类型；遍历所述棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短；在遍历完成后，调整得到最优棋盘布局，根据所述最优棋盘布局呈现对应所述网络故障的传输网络拓扑图。在一种可选的方式中，所述可执行指令进一步使所述处理器执行以下操作：在绘制任一传输线路数据中包含的站点的坐标位置时，根据该传输线路数据中各个站点所处的传输排序位置，确定各个站点所在的目标层；针对各个站点，在该站点所在的目标层对应的水平线上，从起始坐标开始以预设步长依次判断各个坐标是否已绘制有其它站点，将该站点绘制在首个判定出未绘制有其它站点的坐标位置。在一种可选的方式中，每一层中的站点的纵坐标相同。在一种可选的方式中，所述可执行指令进一步使所述处理器执行以下操作：针对所述最优棋盘布局中包括的各个接入环，绘制云站点，并将所述云站点连接至该接入环所接入的汇聚站点和/或骨干站点；建立该云站点与接入环的关联，并隐藏该接入环中的接入站点及其连接关系，得到简化后的最优棋盘布局；将所述简化后的最优棋盘布局作为对应所述网络故障的传输网络拓扑图进行呈现。在一种可选的方式中，所述可执行指令进一步使所述处理器执行以下操作：检测对任一云站点的触发操作，若检测到，将该云站点关联的接入环以及该接入环上联的完整传输链路进行呈现。在一种可选的方式中，所述网络故障为多个基站退服；所述可执行指令进一步使所述处理器执行以下操作：判断所述多个基站中汇聚在同一区县的基站比例是否超过预设比例；若是，则剔除未汇聚在该区县的基站，得到剩余基站；将剩余基站关联至PTN段，将最优棋盘布局中该关联的PTN段进行去重处理，留下一份PTN段；获取该一份PTN段关联的传输网元，将最优棋盘布局中该关联的传输网元进行去重处理，留下一份网元；获取该一份网元的端口信息，将最优棋盘布局中该端口信息进行去重处理，留下一份端口数据，最终形成对应所述网络故障的告警区域拓扑图。在一种可选的方式中，所述可执行指令进一步使所述处理器执行以下操作：获取网元和/或端口的告警信息，若所述告警信息中存在网元脱管告警，则在所述告警区域拓扑图中对应站点的位置进行告警标识并进行呈现；若所述告警信息中存在端口告警，则在所述告警区域拓扑图的相应端口及其连线处进行告警标识并进行呈现。图8示出了本发明实施例提供的计算设备的结构示意图，本发明具体实施例并不对计算设备的具体实现做限定。如图8所示，该计算设备可以包括：处理器802、通信接口804、存储器806、以及通信总线808。其中：处理器802、通信接口804、以及存储器806通过通信总线808完成相互间的通信。通信接口804，用于与其它设备比如客户端或其它服务器等的网元通信。处理器802，用于执行程序810，具体可以执行上述用于计算设备的传输网络拓扑图的呈现方法实施例中的相关步骤。具体地，程序810可以包括程序代码，该程序代码包括计算机操作指令。处理器802可能是中央处理器CPU，或者是特定集成电路ASIC，或者是被配置成实施本发明实施例的一个或多个集成电路。计算设备包括的一个或多个处理器，可以是同一类型的处理器，如一个或多个CPU；也可以是不同类型的处理器，如一个或多个CPU以及一个或多个ASIC。存储器806，用于存放程序810。存储器806可能包含高速RAM存储器，也可能还包括非易失性存储器，例如至少一个磁盘存储器。程序810具体可以用于使得处理器802执行以下操作：当检测到网络故障时，提取与所述网络故障对应的多条传输线路数据；根据所述多条传输线路数据中站点之间的传输关系以及站点的类型，绘制包含多个站点的坐标位置及其连接关系的棋盘布局；其中，站点的类型包括接入类型、汇聚类型以及骨干类型；遍历所述棋盘布局中的每一层中的站点，调整该层中站点的坐标位置，使调整后的棋盘布局中所有连接关系的连线距离之和最短；在遍历完成后，调整得到最优棋盘布局，根据所述最优棋盘布局呈现对应所述网络故障的传输网络拓扑图。在一种可选的方式中，所述程序810进一步使所述处理器802执行以下操作：在绘制任一传输线路数据中包含的站点的坐标位置时，根据该传输线路数据中各个站点所处的传输排序位置，确定各个站点所在的目标层；针对各个站点，在该站点所在的目标层对应的水平线上，从起始坐标开始以预设步长依次判断各个坐标是否已绘制有其它站点，将该站点绘制在首个判定出未绘制有其它站点的坐标位置。在一种可选的方式中，每一层中的站点的纵坐标相同。在一种可选的方式中，所述程序810进一步使所述处理器802执行以下操作：针对所述最优棋盘布局中包括的各个接入环，绘制云站点，并将所述云站点连接至该接入环所接入的汇聚站点和/或骨干站点；建立该云站点与接入环的关联，并隐藏该接入环中的接入站点及其连接关系，得到简化后的最优棋盘布局；将所述简化后的最优棋盘布局作为对应所述网络故障的传输网络拓扑图进行呈现。在一种可选的方式中，所述程序810进一步使所述处理器802执行以下操作：检测对任一云站点的触发操作，若检测到，将该云站点关联的接入环以及该接入环上联的完整传输链路进行呈现。在一种可选的方式中，所述网络故障为多个基站退服；所述程序810进一步使所述处理器802执行以下操作：判断所述多个基站中汇聚在同一区县的基站比例是否超过预设比例；若是，则剔除未汇聚在该区县的基站，得到剩余基站；将剩余基站关联至PTN段，将最优棋盘布局中该关联的PTN段进行去重处理，留下一份PTN段；获取该一份PTN段关联的传输网元，将最优棋盘布局中该关联的传输网元进行去重处理，留下一份网元；获取该一份网元的端口信息，将最优棋盘布局中该端口信息进行去重处理，留下一份端口数据，最终形成对应所述网络故障的告警区域拓扑图。在一种可选的方式中，所述程序810进一步使所述处理器802执行以下操作：获取网元和/或端口的告警信息，若所述告警信息中存在网元脱管告警，则在所述告警区域拓扑图中对应站点的位置进行告警标识并进行呈现；若所述告警信息中存在端口告警，则在所述告警区域拓扑图的相应端口及其连线处进行告警标识并进行呈现。在此提供的算法或显示不与任何特定计算机、虚拟系统或者其它设备固有相关。各种通用系统也可以与基于在此的示教一起使用。根据上面的描述，构造这类系统所要求的结构是显而易见的。此外，本发明实施例也不针对任何特定编程语言。应当明白，可以利用各种编程语言实现在此描述的本发明实施例的内容，并且上面对特定语言所做的描述是为了披露本发明实施例的最佳实施方式。在此处所提供的说明书中，说明了大量具体细节。然而，能够理解，本发明的实施例可以在没有这些具体细节的情况下实践。在一些实例中，并未详细示出公知的方法、结构和技术，以便不模糊对本说明书的理解。类似地，应当理解，为了精简本发明实施例并帮助理解各个发明方面中的一个或多个，在上面对本发明的示例性实施例的描述中，本发明实施例的各个特征有时被一起分组到单个实施例、图、或者对其的描述中。然而，并不应将该公开的方法解释成反映如下意图：即所要求保护的本发明实施例要求比在每个权利要求中所明确记载的特征更多的特征。更确切地说，如下面的权利要求书所反映的那样，发明方面在于少于前面公开的单个实施例的所有特征。因此，遵循具体实施方式的权利要求书由此明确地并入该具体实施方式，其中每个权利要求本身都作为本发明的单独实施例。本领域那些技术人员可以理解，可以对实施例中的设备中的模块进行自适应性地改变并且把它们设置在与该实施例不同的一个或多个设备中。可以把实施例中的模块或单元或组件组合成一个模块或单元或组件，以及此外可以把它们分成多个子模块或子单元或子组件。除了这样的特征和/或过程或者单元中的至少一些是相互排斥之外，可以采用任何组合对本说明书中公开的所有特征以及如此公开的任何方法或者设备的所有过程或单元进行组合。除非另外明确陈述，本说明书中公开的每个特征可以由提供相同、等同或相似目的的替代特征来代替。此外，本领域的技术人员能够理解，尽管在此的一些实施例包括其它实施例中所包括的某些特征而不是其它特征，但是不同实施例的特征的组合意味着处于本发明的范围之内并且形成不同的实施例。例如，在下面的权利要求书中，所要求保护的实施例的任意之一都可以以任意的组合方式来使用。本发明的各个部件实施例可以以硬件实现，或者以在一个或者多个处理器上运行的软件模块实现，或者以它们的组合实现。本领域的技术人员应当理解，可以在实践中使用微处理器或者数字信号处理器来实现根据本发明实施例的一些或者全部部件的一些或者全部功能。本发明实施例还可以实现为用于执行这里所描述的方法的一部分或者全部的设备或者装置程序。这样的实现本发明实施例的程序可以存储在计算机可读介质上，或者可以具有一个或者多个信号的形式。这样的信号可以从因特网网站上下载得到，或者在载体信号上提供，或者以任何其他形式提供。应该注意的是上述实施例对本发明实施例进行说明而不是对本发明进行限制，并且本领域技术人员在不脱离所附权利要求的范围的情况下可设计出替换实施例。在权利要求中，不应将位于括号之间的任何参考符号构造成对权利要求的限制。单词“包含”不排除存在未列在权利要求中的元件或步骤。位于元件之前的单词“一”或“一个”不排除存在多个这样的元件。本发明实施例可以借助于包括有若干不同元件的硬件以及借助于适当编程的计算机来实现。在列举了若干装置的单元权利要求中，这些装置中的若干个可以是通过同一个硬件项来具体体现。单词第一、第二、以及第三等的使用不表示任何顺序。可将这些单词解释为名称。上述实施例中的步骤，除有特殊说明外，不应理解为对执行顺序的限定。
