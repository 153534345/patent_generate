标题title
一种基于视频流行度先验预测的边缘缓存优化方法
摘要abst
本发明涉及计算机应用技术领域，尤其涉及一种基于视频流行度先验预测的边缘缓存优化方法；所述方法包括通过上传视频时的文本信息，提取出视频关键词，然后通过视频关键词的相关性去找到其相关的视频，利用相关视频的流行度，综合估计待预测视频的流行度；将视频与不同基站下用户的兴趣进行匹配，以此建立不同基站下全局的用户兴趣值，针对不同的视频流行度在不同基站下的用户感兴趣值不同，结合用户获取时延进行缓存决策，通过建立时延最小优化问题并求解，从而实现最大化资源的同时减小用户的获取时延；使得本发明能够有效对边缘缓存进行优化。
权利要求书clms
1.一种基于视频流行度先验预测的边缘缓存优化方法，其特征在于，包括如下步骤：从源服务器获取用户终端上传的视频以及对应的文本信息，所述上传视频包括用户终端刚上传的待预测视频以及流行度已经平稳的视频；从所述文本信息中提取出视频关键词，并利用词向量模型提取出视频关键词的词向量；计算待预测视频与非该用户上传的已平稳视频的词向量相似度，选择该词向量相似度最高的若干个视频作为待预测视频的第一相关视频，并将用户最近发布的第二相关视频和非该用户上传的第一相关视频的流行度特征分别求和后求平均，将取平均的特征作为待预测视频的流行度；从基站获取用户终端的信息，根据用户的浏览历史提取出用户的兴趣关键词，并利用词向量模型提取出兴趣关键词的词向量；计算用户终端的兴趣关键词与视频关键词之间的词向量相似度，并根据该词向量相似度结果标记出有效用户，即标记用户对不同视频是否感兴趣；将所述待预测视频的流行度与用户对该待预测视频的兴趣值乘积作为基站的缓存收益值，将用户对待预测视频的兴趣值作为核心网的缓存收益值；利用缓存节点的资源限制以及缓存收益值构建出缓存决策模型，利用缓存决策模型执行视频缓存，所述缓存节点包括基站和核心网。2.根据权利要求1所述的一种基于视频流行度先验预测的边缘缓存优化方法，其特征在于，从所述文本信息中提取出视频关键词包括提取出摘要、简介、标签、作者评语和作者粉丝数量，将标签作为第一视频关键词，将其余信息进行去扰处理，将去扰处理后的摘要、简介、作者评语和作者粉丝数量信息生成一个长文本；对该长文本进行关键词提取，提取出若干第二视频关键词。3.根据权利要求1所述的一种基于视频流行度先验预测的边缘缓存优化方法，其特征在于，所述根据用户的浏览历史提取出用户的兴趣关键词包括抽取出用户浏览历史中的所有的文本信息，即浏览视频的标题、简介文字描述，将所有的文本信息整合一个文档中，利用TextRank算法提取出兴趣关键词，并将兴趣关键词的个数控制在5～10个。4.根据权利要求1所述的一种基于视频流行度先验预测的边缘缓存优化方法，其特征在于，用户终端的兴趣关键词与视频关键词之间的词向量相似度的计算公式表示为：其中，表示用户终端的兴趣关键词与视频关键词之间的词向量相似度，useri表示用户终端的编号，videoj表示视频的编号，KW为视频videoj的视频关键词集，表示视频关键词的词向量，KW为用户useri的兴趣关键词集，表示兴趣关键词的词向量，Z为用户兴趣集中兴趣关键词总数，K为视频关键词总数。5.根据权利要求1所述的一种基于视频流行度先验预测的边缘缓存优化方法，其特征在于，所述用户对该待预测视频的兴趣值表示为：其中，表示视频videoj在基站BSi的用户兴趣值，表示用户终端的兴趣关键词与视频关键词之间的词向量相似度，usert表示在基站BSi的用户终端的编号，videoj表示视频的编号，表示用户usert的标记值，当当6.根据权利要求1所述的一种基于视频流行度先验预测的边缘缓存优化方法，其特征在于，所述缓存决策模型包括基站和核心网在同一时刻只能有一处缓存备份，从基站获取的时延记为c0，基站到核心网之间的时延记为c1，用户到服务器之间的时延记为c；用户请求资源时，首先从基站获取，若基站处无缓存，则从核心网处获取；若核心网处无缓存，则从源服务器获取，记缓存决策在基站的标记值为记缓存决策在核心网处的标记值为当视频videoj缓存在基站时，基站不缓存视频videoj时，当视频videoj缓存在核心网处时核心网不缓存视频videoj缓存时，从源服务器获取记为根据缓存节点的资源限制以及缓存收益值构建出缓存决策的链路代价函数，在最小化链路代价的前提下，确定出缓存决策。7.根据权利要求6所述的一种基于视频流行度先验预测的边缘缓存优化方法，其特征在于，所述缓存决策的链路代价函数表示为：s.t.C1:C2:C3:C4:其中，K表示视频文件的总数，其中n表示表示基站的总数，Qi表示基站BSi的容量大小，M表示EPC的容量大小，fj表示视频videoj的占用空间大小；并通过最小化求解得出缓存决策的值；表示基站BSi缓存视频videoj的收益值；表示视频videoj的流行度；表示视频videoj在基站BSi的用户兴趣值；表示基站EPC缓存视频videoj的收益值；对于下一个缓存视频videonext，当基站和EPC处的缓存容量已满或无法在不清理空间情况下再缓存视频videonext时替换规则如下：先将最小缓存收益视频移除，若空间还不够则继续此操作。
说明书desc
技术领域本发明涉及计算机应用技术领域，尤其涉及一种基于视频流行度先验预测的边缘缓存优化方法。背景技术光网络的高带宽、低时延、低能耗等优势是部署移动边缘计算的最佳选择，借助MEC技术，可以将内容分发网络和MEC结合并下沉到靠近用户侧的边缘节点，以满足VR、4K高清视频等业务对带宽和时延的需求。随着缓存节点的进一步下沉，缓存架构的变化导致传统方法并不能完全适用。此外，现有缓存策略建立在已知的视频内容热度排名基础上，这使得决定缓存在用户请求一段之后，这可能会错过最佳的缓存时机。发明内容基于现有技术存在的问题，本发明提出了基于视频流行度先验预测的边缘缓存优化方法，利用与已发布视频相关的视频流行度来预测待发布视频的流行度，在视频上传后立即预测待发布视频的流行度，然后主动的将视频分发到合适的缓存节点。在对视频进行分发时，通过计算用户兴趣和视频内容之间的相关性，结合缓存节点的资源限制构建优化时延目标，以此减少用户访问时延，提高缓存命中率。本发明设计一种基于视频流行度先验预测的边缘缓存优化方法。通过先验视频流行度预测方法在视频上传前预测视频的流行度，然后根据基站下用户的兴趣与视频流内容的匹配，结合缓存节点的缓存资源限制，以及用户到不同缓存节点的时延，综合考虑缓存决策，具体的通过建立资源约束最小化时延的情况下，进行缓存决策。包括：一种基于视频流行度先验预测的边缘缓存优化方法，所述方法包括：从源服务器获取用户终端上传的视频以及对应的文本信息，所述上传视频包括用户终端刚上传的待预测视频以及流行度已经平稳的视频；从所述文本信息中提取出视频关键词，并利用词向量模型提取出视频关键词的词向量；计算待预测视频与非该用户上传的已平稳视频的词向量相似度，选择该词向量相似度最高的若干个视频作为待预测视频的第一相关视频，并将用户最近发布的第二相关视频和非该用户上传的第一相关视频的流行度特征分别求和后求平均，将取平均的特征作为待预测视频的流行度；从基站获取用户终端的信息，根据用户的浏览历史提取出用户的兴趣关键词，并利用词向量模型提取出兴趣关键词的词向量；计算用户终端的兴趣关键词与视频关键词之间的词向量相似度，并根据该词向量相似度结果标记出有效用户，即标记用户对不同视频是否感兴趣；将所述待预测视频的流行度与用户对该待预测视频的兴趣值乘积作为基站的缓存收益值，将用户对待预测视频的兴趣值作为核心网的缓存收益值；利用缓存节点的资源限制以及缓存收益值构建出缓存决策模型，利用缓存决策模型执行视频缓存，所述缓存节点包括基站和核心网。本发明的有益效果：1、本发明从视频内容和视频作者两个维度出发，结合视频的文本信息来选择出相关视频，利用词向量的全匹配方式来预测出视频的流行度，能够解决没有历史数据的视频数据的有效预测。2、本发明通过预测得到的视频流行度结合用户兴趣度来计算得到缓存节点的缓存收益值，并利用缓存节点的资源限制以及缓存收益值构建出缓存决策模型，根据缓存节点的资源限制以及缓存收益值构建出缓存决策的链路代价函数，在最小化链路代价的前提下，确定出缓存决策，通过实验仿真表明，本发明提出的方法在缓存节点容量相同的情况下缓存命中率比常用的LRU算法多0～5％。附图说明图1是本发明实施例中基于视频流行度先验预测的边缘缓存框架图；图2是本发明实施例中基于视频流行度先验预测的边缘缓存优化方法流程图。图3是本发明实施例中基于视频流行度先验预测的边缘缓存优化方法与LRU算法的对比图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在整个边缘缓存的场景下，用户终端具有上传视频的功能，所有视频上传过程中默认保存在源服务器中，视频上传完成后，由源服务器主动分发到边缘节点，或者用户请求过程中通过检测是否需要将用户请求的视频在边缘节点备份，边缘节点是对靠近用户终端处的具有缓存功能的设备节点的统称，本发明中的边缘节点主要包括基站BS和核心网EPC，而在目前的边缘缓存场景中，主要是建立在已知的视频内容热度排名基础上，这使得决定缓存在用户请求一段之后，这可能会错过最佳的缓存时机。基于上述问题分析，本发明构建的基于视频流行度先验预测的缓存优化方法总体框架见图1所示，包括源服务器、基站、核心网以及视频上传者多种实体，视频上传者向源服务器上传视频，通过主动缓存的方式缓存到核心网中，如果核心网中无法缓存，则会继续结合用户信息和视频信息将上传视频缓存在基站中。具体的，首先，对用户终端即作者上传的视频流行度进行预测，具体的对待上传视频的文本特征提取，包括摘要、简介、标签、作者评语、作者粉丝数量，收集作者最近上传视频的流行度数值特征，包括播放数、转发数、收藏数等数值；然后对于标签直接作为关键词，对于摘要、简介、作者评语等长文本进行预处理，包括去掉停顿词、表情、符号等干扰信息，将取出干扰后的信息合并在同一个文本中并进行关键词提取，得到关键词后，利用word2vec进行词向量化处理，将词向量相似度最高的前若干个视频作为相关视频，并将相关视频的数值特征均值作为待预测视频的流行度。缓存优化的过程包括通过基站获取用户的信息，并结合用户的浏览历史提取出用户的兴趣关键词，计算用户的兴趣关键词和视频关键词之间的相似度，标记出有效用户的数量，统计不同视频在不同缓存节点的用户感兴趣值，结合缓存点资源限制和视频流行度进行缓存决策。图2是本发明实施例中一种基于视频流行度先验预测的边缘缓存优化方法流程图，如图2所示，所述方法包括：101、从源服务器获取用户终端上传的视频以及对应的文本信息，所述上传视频包括用户终端刚上传的待预测视频以及流行度已经平稳的视频；在本发明实施例中，用户终端会向源服务器上传视频以及对应的文本信息，这里的上传视频包括用户终端刚上传的待预测视频以及流行度已经平稳的视频，也就是说既包括已经缓存发布的视频，即流行度稳定的已缓存视频，也包括待发布的视频即待预测视频，这里的文本信息可以包括视频的摘要、简介、标签、作者评语、作者粉丝数量等等，还可以包括视频作者的基本信息。在本发明实施例中，，特别的需要对视频作者最近上传的视频进行数据收集，包括但不限于播放数、转发数、收藏数等数值。102、从所述文本信息中提取出视频关键词，并利用词向量模型提取出视频关键词的词向量；在本发明实施例中，需要将这些文本信息中分别提取出摘要、简介、标签、作者评语和作者粉丝数量，将标签作为第一视频关键词，将其余信息进行去扰处理，将去扰处理后的摘要、简介、作者评语和作者粉丝数量信息生成一个长文本；对该长文本进行关键词提取，提取出若干第二视频关键词。可以理解的是，在本发明实施例中，视频关键词可以有多个，标签只是其中之一，摘要等长文本中也可以提取出关键词，只是标签本身就属于词组以及用户上传时会指定标签是已经提炼过一次的结果故而直接当作关键词之一。提取关键词后，可以采用词向量模型对关键词进行词向量化处理，常见的词向量模型可以是word2vec、glove、ELMo以及BERT等模型，本发明对此不作具体的限定。103、计算待预测视频与非该用户上传的已平稳视频的词向量相似度，选择该词向量相似度最高的若干个视频作为待预测视频的第一相关视频，并将用户最近发布的第二相关视频和非该用户上传的第一相关视频的流行度特征分别求和后求平均，将取平均的特征作为待预测视频的流行度；在本发明实施例中，从用户维度和内容维度分别找出待预测视频的相关视频，利用相关视频的流行度均值作为当前待预测视频的流行度均值，从而进行对应的缓存优化；本发明中，将待预测视频和已缓存视频的词向量都提取出来后，会将待预测视频分别与已缓存视频的词向量进行相似度比较，从中选择出词向量相似度最高的前15个视频作为待预测视频的第一相关视频，这些相关视频基本上能够反映待预测视频的流行度，但是为了保证待预测视频的流行度的平稳性和准确性，本发明还取了用户最近发布的10个视频作为第二相关视频；这里本发明取这25个视频的流行度均值作为待预测视频的流行度。在本发明优选实施例中，考虑到视频作者的视频发布会带来粉丝增长，而粉丝数量也是影响播放量因素之一，为了降低粉丝数变动的影响，因此本发明中第二相关视频的数量小于第一相关视频的数量，并且第二相关视频的数量最好小于10。104、从基站获取用户终端的信息，并根据用户的浏览历史提取出用户的兴趣关键词，并利用词向量模型提取出兴趣关键词的词向量；在本发明实施例中，通过基站获取用户的信息，并结合用户的浏览历史提取出用户的兴趣关键词，记用户的兴趣集为KWuser，其中为基站BSi下的用户集，用户个数就是基站登记的移动设备数。在本发明实施例中，本发明将抽取出用户浏览历史中的所有的文本信息，即浏览视频的标题、简介文字描述，将所有的文本信息整合一个文档中，利用TextRank算法提取出兴趣关键词，并将兴趣关键词的个数控制在5～10个。与步骤102类似，本发明实施例也对浏览历史做相同的处理，提取出用户的兴趣关键词，例如“喜剧电影”，“娱乐新闻”等等；将这些兴趣关键词同样采用词向量模型进行词向量化处理，常见的词向量模型可以是word2vec、glove、ELMo以及BERT等模型，本发明对此不作具体的限定。105、计算用户终端的兴趣关键词与视频关键词之间的词向量相似度，并根据该词向量相似度结果标记出有效用户，即标记用户对不同视频是否感兴趣；在本发明实施例中，记视频videoj与用户useri的关键词之间的相似度值为计算时采用余弦相似度计算方式，如下：其中，表示用户终端的兴趣关键词与视频关键词之间的词向量相似度，useri表示用户终端的编号，videoj表示视频的编号，KW为视频videoj的视频关键词集，表示视频关键词的词向量，KW为用户useri的兴趣关键词集，表示兴趣关键词的词向量，Z为用户兴趣集中兴趣关键词总数，K为视频关键词总数。在一些优选实施例中，为了方便后续计算，本发明实施例还对这些关键词集合进行归一化处理。标记有效用户的数量，记用户useri的有效标志值为标记方式为：当用户的兴趣关键词和视频的关键词之间的相似度值小于0.5则认为用户不感兴趣记为0，反之记为1，即：通过上述标记方式，就能够确定用户对视频是否感兴趣，并可以得出对应的兴趣值，记视频videoj在基站BSi的兴趣值为计算方式：其中，表示视频videoj在基站BSi的用户兴趣值，表示用户终端的兴趣关键词与视频关键词之间的词向量相似度，usert表示在基站BSi的用户终端的编号，videoj表示视频的编号，表示用户usert的标记值，当当106、将所述待预测视频的流行度与用户对该待预测视频的兴趣值乘积作为基站的缓存收益值，将用户对待预测视频的兴趣值作为核心网的缓存收益值；在本发明实施例中，对于每个视频在特定基站定义一个缓存收益值在EPC处的缓存收益值为缓存收益值主要描述该视频在基站下的实际流行度，计算公式如下:在本发明实施例中，该缓存收益值可以用于在当前基站的存储空间满时，进行缓存替换，若待缓存视频的收益值大于当前基站缓存中最小的收益值时，进行缓存替换。107、利用缓存节点的资源限制以及缓存收益值构建出缓存决策模型，利用缓存决策模型执行视频缓存，所述缓存节点包括基站和核心网。在本发明实施例中，基站和核心网在同一时刻只能有一处缓存备份，从基站获取的时延记为c0，基站到核心网之间的时延记为c1，用户到服务器之间的时延记为c；用户请求资源时，首先从基站获取，若基站处无缓存，则从核心网处获取；若核心网处无缓存，则从源服务器获取，记缓存决策在基站的标记值为记缓存决策在核心网处的标记值为当视频videoj缓存在基站时，基站不缓存视频videoj时，当视频videoj缓存在核心网处时核心网不缓存视频videoj缓存时，从源服务器获取记为根据缓存节点的资源限制以及缓存收益值构建出缓存决策的链路代价函数，在最小化链路代价的前提下，确定出缓存决策。所述链路代价函数是一个全局的效用值，计算公式如下：s.t.C1：C2：C3：C4：其中，K表示视频文件的总数，其中n表示表示基站的总数，Qi表示基站BSi的容量大小，M表示EPC的容量大小，fj表示视频videoj的占用空间大小；并通过最小化求解得出缓存决策的值；表示基站BSi缓存视频videoj的收益值；表示视频videoj的流行度；表示视频videoj在基站BSi的用户兴趣值；表示基站EPC缓存视频videoj的收益值；并通过最小化求解得出缓存决策的值。对于下一个缓存视频videonext，当基站和EPC处的缓存容量已满或无法在不清理空间情况下再缓存视频videonext时替换规则如下：先将最小缓存收益视频移除，若空间还不够则继续此操作。通过上述实施例，可以有效实现边缘缓存优化，其中，对于Utility的最小化求解方式，本领域技术人员可以选择现有的任何优化求解方式，本发明对此不作具体的限定。图3是本发明实施例中基于视频流行度先验预测的边缘缓存优化方法与LRU算法的对比图；如图3所示，随着缓存容量的增加，本发明的请求命中率明显优于传统的LRU算法。在本发明的描述中，需要理解的是，术语“同轴”、“底部”、“一端”、“顶部”、“中部”、“另一端”、“上”、“一侧”、“顶部”、“内”、“外”、“前部”、“中央”、“两端”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。在本发明中，除非另有明确的规定和限定，术语“安装”、“设置”、“连接”、“固定”、“旋转”等术语应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或成一体；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通或两个元件的相互作用关系，除非另有明确的限定，对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。尽管已经示出和描述了本发明的实施例，对于本领域的普通技术人员而言，可以理解在不脱离本发明的原理和精神的情况下可以对这些实施例进行多种变化、修改、替换和变型，本发明的范围由所附权利要求及其等同物限定。
