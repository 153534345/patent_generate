标题title
一种空间复用方法及第一设备
摘要abst
本申请提供一种空间复用方法及第一设备，该方法可适用于支持EHT或802.11be标准的WLAN系统。该方法包括：接收由第二设备发送的物理层协议数据单元PPDU，该PPDU的带宽包括多个20兆赫兹MHz子信道；进行OBSS PD空间复用，其中，该接收的PPDU的第一信号强度水平小于OBSS PD水平，该第一信号强度水平的单位为分贝毫瓦dBm/20MHz。可见，基于本申请提供的方法，在第一设备无法接收PPDU整个带宽所有20MHz子信道，或存在前导码打孔，或无法获取完整的前导码打孔信息时，依然可以成功测量信号强度水平，增加可以进行OBSS PD空间复用的可行场景，提升整个系统的吞吐率。
权利要求书clms
1.一种空间复用方法，其特征在于，所述方法包括：第一设备接收由第二设备发送的物理层协议数据单元PPDU，所述PPDU的带宽包括多个20兆赫兹MHz子信道；所述第一设备进行重叠基本服务集包识别OBSS PD空间复用，其中，所述第一设备接收的所述PPDU的第一信号强度水平小于OBSS PD水平，所述第一信号强度水平的单位为分贝毫瓦dBm/20MHz，所述第一信号强度水平基于所述PPDU中多个未打孔的20MHz子信道的信号强度测量结果得到。2.根据权利要求1所述的方法，其特征在于，所述多个未打孔的20MHz子信道位于主信道。3.根据权利要求1或2所述的方法，其特征在于，所述第一信号强度水平为对所述PPDU中多个未打孔的20MHz子信道的信号强度测量结果进行归一化得到。4.根据权利要求3所述的方法，其特征在于，Rx_PWRdBm/20MHz＝Rx_PWRnonpunc-measured，total-10×log10Nnonpunc-measured；其中，所述Rx_PWRdBm/20MHz为所述第一信号强度水平，所述Rx_PWRnonpunc-measured，total为所述PPDU中多个未打孔的20MHz子信道的信号强度测量结果之和，所述Nnonpunc-measured为所测量的所述多个未打孔的20MHz子信道的子信道数量。5.根据权利要求1～4中任意一项所述的方法，其特征在于，OBSS_PDlevel≤max))其中，所述OBSS_PDlevel为所述OBSS PD水平，所述OBSS_PDmin和所述OBSS_PDmax分别为所述OBSS_PDlevel的最小值和最大值，所述TX_PWRref为参考功率，所述TX_PWR为所述第二设备发送PPDU时的发送功率。6.根据权利要求1～5中任意一项所述的方法，其特征在于，所述第一信号强度水平为对所述PPDU中的以下一个或多个字段的信号强度进行测量得到：传统-短训练字段L-STF字段、传统-长训练字段L-LTF字段、物理层同步PHY SYNC字段、短同步shortSYNC字段或长物理层同步Long PHY SYNC字段。7.一种第一设备，其特征在于，所述第一设备包括：通信单元，用于接收由第二设备发送的物理层协议数据单元PPDU，所述PPDU的带宽包括多个20兆赫兹MHz子信道；所述通信单元，还用于进行重叠基本服务集包识别OBSS PD空间复用，其中，所述第一设备接收的所述PPDU的第一信号强度水平小于OBSS PD水平，所述第一信号强度水平的单位为分贝毫瓦dBm/20MHz，所述第一信号强度水平基于所述PPDU中多个未打孔的20MHz子信道的信号强度测量结果得到。8.根据权利要求7所述的第一设备，其特征在于，所述多个未打孔的20MHz子信道位于主信道。9.根据权利要求7或8所述的第一设备，其特征在于，所述第一信号强度水平为对所述PPDU中多个未打孔的20MHz子信道的信号强度测量结果进行归一化得到。10.根据权利要求9所述的第一设备，其特征在于，Rx_PWRdBm/20MHz＝Rx_PWRnonpunc-measured，total-10×log10Nnonpunc-measured；其中，所述Rx_PWRdBm/20MHz为所述第一信号强度水平，所述Rx_PWRnonpunc-measured，total为所述PPDU中多个未打孔的20MHz子信道的信号强度测量结果之和，所述Nnonpunc-measured为所测量的所述多个未打孔的20MHz子信道的子信道数量。11.根据权利要求7～10中任意一项所述的第一设备，其特征在于，OBSS_PDlevel≤max))其中，所述OBSS_PDlevel为所述OBSS PD水平，所述OBSS_PDmin和所述OBSS_PDmax分别为所述OBSS_PDlevel的最小值和最大值，所述TX_PWRref为参考功率，所述TX_PWR为所述第二设备发送PPDU时的发送功率。12.根据权利要求7～11中任意一项所述的第一设备，其特征在于，所述第一信号强度水平为对所述PPDU中的以下一个或多个字段的信号强度进行测量得到：传统-短训练字段L-STF字段、传统-长训练字段L-LTF字段、物理层同步PHY SYNC字段、短同步shortSYNC字段或长物理层同步Long PHY SYNC字段。13.一种第一设备，其特征在于，所述第一设备包括处理器、存储器和收发器，所述存储器用于存储计算机程序，所述收发器用于收发数据，所述处理器用于执行所述存储器所存储的计算机程序，以实现如权利要求1～6中任一项所述的方法。14.一种芯片，其特征在于，所述芯片包括处理器和接口，所述处理器和所述接口耦合；所述接口用于接收或输出信号，所述处理器用于执行代码指令，以使权利要求1～6中任一项所述的方法被执行。15.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机可执行指令，所述计算机可执行指令在被所述计算机调用时用于使所述计算机执行上述权利要求1-6中任一项所述的方法。16.一种计算机程序产品，其特征在于，所述计算机程序产品包括：计算机程序代码，所述计算机程序代码被计算机运行时，使得所述计算机执行权利要求1-6中任一项所述的方法。
说明书desc
本申请是分案申请，原申请的申请号是202210164137.5，原申请日是2022年02月22日，原申请的全部内容通过引用结合在本申请中。技术领域本申请涉及通信技术领域，尤其涉及一种空间复用方法及第一设备。背景技术无线局域网标准发展至今已历经多代，包括802.11a/b/g、802.11n、802.11ac、802.11ax以及现在正在讨论中的802.11be等。其中，802.11n标准称为高吞吐率，802.11ac标准称为非常高吞吐率，802.11ax标准称为HE，802.11be标准称为EHT。802.11ax的WLAN设备，如接入点和站点，只能支持半双工传输，即在同一个频谱宽度或者信道上，只能有一个设备发送信息，其他设备只能接收信号而无法发送，以避免对当前发送设备的干扰。但随着WLAN设备的密度越来越高，一个基本服务集与另一个BSS重叠的情况越来越普遍，即重叠基本服务集的情况越来越普遍。如果采用传统方法，则传输效率会非常低。针对这种情况，802.11ax提出了空间复用的方法，通过自适应调整发送功率，使得处于重叠基本服务集中的设备能够同时传输，提升了传输效率。例如，假设BSS1包括AP1和多个STA1。BSS2包括AP2和STA2。BSS2是BSS1的OBSS。如果AP1向STA1传输PPDU1。由于BSS1和BSS2的基本服务区存在部分重叠，AP2也可以接收到AP1发送的PPDU1。在基于OBSS数据包识别的空间复用方法中，AP2可以进行OBSS PD空间复用的要求之一是AP2接收到的PPDU1在整个带宽上的信号强度水平小于OBSS PD水平。然而，现有的带宽上的信号强度水平判断是否进行OBSS PD空间复用的技术，会导致AP2在无法接收PPDU1整个带宽的所有20MHz子信道，或者PPDU1存在前导码打孔，或者AP2无法获取到PPDU1完整的前导码打孔信息时，无法判断是否进行OBSS PD空间复用，降低了整个系统的吞吐率。发明内容本申请实施例提供一种空间复用方法及第一设备，能够增加可进行OBSS PD空间复用的可行场景，有利于提升整个系统的吞吐率。第一方面，本申请提供了一种空间复用方法，该方法包括：第一设备接收由第二设备发送的物理层协议数据单元PPDU，该PPDU的带宽包括多个20兆赫兹MHz子信道；第一设备进行重叠基本服务集包识别OBSS PD空间复用，其中，该第一设备接收的PPDU的第一信号强度水平小于OBSS PD水平，该第一信号强度水平的单位为分贝毫瓦dBm/20MHz。可见，在第一方面所描述的方法中，第一设备测量的是单位为dBm/20MHz的PPDU的第一信号强度水平，在第一空间设备无法接收PPDU整个带宽所有20MHz子信道，或者存在前导码打孔，或者无法获取完整的前导码打孔信息时，相对于基于整个带宽测量信号强度水平的技术在这些场景下都无法工作或实施而言，本申请实施例基于20MHz粒度测量的信号强度水平，在这些场景下都可以实施，从而增加可以进行OBSS PD空间复用的可行场景，提升整个系统的吞吐率。在一种可能的实现中，第一信号强度水平基于PPDU中多个未打孔的20MHz子信道的信号强度测量结果得到。如果通过对多个20MHz子信道的信号强度测量结果进行归一化处理，来得到第一信号强度水平，假设该多个20MHz子信道中包括打孔的20MHz，打孔的20MHz子信道上可能无能量进行传输，那么会使得到的第一信号强度水平不准确。或者，打孔上的20MHz子信道可能存在其他信号或者干扰，这也使得无法准确测量第一信号强度水平，所以需要排除打孔的20MHz子信道，以提高确定的第一信号强度水平的准确性，以便能够准确地触发第一设备进行OBSS PD空间复用。可选的，该多个未打孔的20MHz子信道位于主信道。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度水平。可选的，上述多个未打孔的20MHz子信道也可以为标准提前规定的PPDU不会被打孔的20MHz子信道。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度水平。可选的，第一设备确定可以先获取PPDU的打孔信息，基于该打孔信息确定PPDU中哪些20MHz子信道为未打孔的子信道，再对PPDU中未打孔的20MHz子信道的信号强度进行测量。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度水平。可选的，第一设备也可以通过盲检来确定哪些20MHz子信道为未打孔的子信道，再对PPDU中未打孔的20MHz子信道的信号强度进行测量。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度水平。可选的，上述多个未打孔的20MHz子信道为第一设备工作的多个20MHz信道。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度水平。可选的，第一信号强度水平为对PPDU中该多个未打孔的20MHz子信道的信号强度测量结果进行归一化得到。基于该可能的实现方式，能够使确定的第一信号强度水平更加准确。基于该可选的方式，能够对PPDU中该多个未打孔的20MHz子信道的信号强度测量结果进行归一化，单位为dBm/20MHz的PPDU的第一信号强度水平，从而得到能够将有利于减小OBSS_PDlevel的计算复杂度。可选的，Rx_PWRdBm/20MHz＝Rx_PWRnonpunc-measured.total-10×log10Nnonpunc-measured；其中，该Rx_PWRdBm/20MHz为第一信号强度水平，该Rx_PWRnonpunc-meastred，total为上述PPDU中多个未打孔的20MHz子信道的信号强度测量结果之和，该Nnonpunc-measured为所测量的多个未打孔的20MHz子信道的子信道数量。在一种可能的实现中，第一信号强度水平基于PPDU中一个未打孔的20MHz子信道的信号强度测量结果得到，该一个未打孔的20MHz子信道为主20MHz信道。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度水平。在一种可能的实现中，第一信号强度水平基于PPDU中一个未打孔的20MHz子信道的信号强度测量结果得到，该一个未打孔的20MHz子信道为标准提前规定的PPDU不会被打孔的一个20MHz子信道。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度水平。在一种可能的实现中，第一信号强度水平基于PPDU中一个未打孔的20MHz子信道的信号强度测量结果得到，该一个未打孔的20MHz子信道为第一设备工作的一个20MHz信道。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度水平。在一种可能的实现中，OBSS_PDlevel≤max))其中，该OBSS_PDlevei为OBSS PD水平，该OBSS_PDmin和该OBSS_PDmax分别为OBSS_PDlevel的最小值和最大值，该TX_PWRref为参考功率，该TX_PWR为第二设备发送PPDU时的发送功率。基于该可能的实现方式，由于第一信号强度是在PPDU的一个未打孔20MHz上测量得到，或者，第一信号强度是对PPDU的多个未打孔20MHz上的信号测量结果归一化得到的，即第一信号强度单位为分贝毫瓦dBm/20MHz，并且由于OBSS_PDmin和OBSS_PDmax的单位也为dBm/20MHz，因此针对不同的PPDU的带宽，无需对OBSS_PDlevel再进一步归一化，有利于减小OBSS_PDlevel的计算复杂度。第二方面，本申请提供了一种第一设备，该第一设备可执行第一方面的方法。该第一设备的功能可以通过硬件实现，也可以通过硬件执行相应的软件实现。该硬件或软件包括一个或多个与上述功能相对应的单元或模块。该单元或模块可以是软件和/或硬件。该通信装置执行的操作及有益效果可以参见上述第一方面的方法以及有益效果。第三方面，本申请提供了一种第一设备，该第一设备包括处理器、存储器和收发器，存储器用于存储计算机程序，收发器用于收发数据，处理器用于执行存储器所存储的计算机程序，以实现如第一方面的方法。第四方面，本申请提供了一种芯片，该芯片包括处理器和接口，该处理器和该接口耦合；该接口用于接收或输出信号，该处理器用于执行代码指令，以使第一方面的方法被执行。第五方面，本申请提供了一种计算机可读存储介质，计算机可读存储介质中存储有计算机可执行指令，计算机可执行指令在被计算机调用时用于使计算机执行上述第一方面的方法。第六方面，本申请提供一种包括指令的计算机程序产品，计算机程序产品包括：计算机程序代码，计算机程序代码被计算机运行时，使得计算机执行第一方面的方法。附图说明图1为本申请提供的一种系统架构的示意图；图2和图2为本申请提供的一种第一设备所工作的频带和第二设备所工作的频带不完全重叠的示意图；图3为本申请提供的一种空间复用方法的示意图；图4为本申请提供的一种PPDU传输的示意图；图5为本申请提供的一种主信道的示意图；图6为本申请提供的一种通信装置的结构示意图；图7为本申请提供的另一种通信装置的结构示意图；图8为本申请提供的一种芯片装置的结构示意图。具体实施方式下面结合附图对本申请具体实施例作进一步的详细描述。本发明的说明书和权利要求书及所述附图中的术语“第一”、“第二”、“第三”和“第四”等是用于区别不同对象，而不是用于描述特定顺序。此外，术语“包括”和“具有”以及它们任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其它步骤或单元。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本发明的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。“多个”是指两个或两个以上。“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。本申请实施例提供了一种空间复用方法及第一设备。本申请实施例提供的该方法应用于无线通信系统中。该无线通信系统可以为无线局域网或蜂窝网，该方法可以由无线通信系统中的第一设备或第一设备中的芯片或处理器实现。在该无线局域网中，该第一设备支持采用IEEE 802.11系列协议进行通信，IEEE 802.11系列协议包括：802.11be，802.11ax，或802.11a/b/g/n/ac。下面先对本申请实施例可应用的系统架构进行说明：请参见图1，图1是本申请实施例提供的一种系统架构的示意图。如图1所示，该系统架构包括BSS1和BSS2。BSS1包括AP1和多个STA1。BSS2包括AP2和STA2。如果一个与站点不相关联的基本服务集跟与站点相关联的BSS工作在同一频带上，并且该不相关联的BSS在相关联的BSS的基本服务区内，则不相关联的BSS即称为该站点的OBSS。因此，如图1所示，BSS1和BSS2互为OBSS，即BSS2是BSS1的OBSS，BSS1是BSS2的OBSS。由于BSS1和BSS2的基本服务区存在部分重叠，如图1所示，当位于同一个BSS1内的AP1与STA1进行数据传输时，位于另一个BSS2的AP2可以接收到AP1和STA1发送的信息。同理，当位于同一个BSS2内的AP2与STA2进行数据传输时，位于另一个BSS1的AP1可以接收到AP2和STA2发送的信息。其中，AP可以为终端设备进入有线网络的AP，主要部署于家庭、大楼内部以及园区内部，典型覆盖半径为几十米至上百米，当然，也可以部署于户外。AP相当于一个连接有线网和无线网的桥梁，主要作用是将各个无线网络客户端连接到一起，然后将无线网络接入以太网。具体的，AP可以是带有无线保真芯片的终端设备或者网络设备。AP可以为支持802.11be制式的设备。AP也可以为支持802.11ax、802.11ac、802.11n、802.11g、802.11b及802.11a等多种当前以及未来的802.11家族的无线局域网制式的设备。STA也可以称为非接入点站点，为描述方便，后文以STA为例进行说明。STA可以为无线通讯芯片、无线传感器或无线通信终端等。例如，STA可以为支持WiFi通讯功能的移动电话、支持WiFi通讯功能的平板电脑、支持WiFi通讯功能的机顶盒、支持WiFi通讯功能的智能电视、支持WiFi通讯功能的智能可穿戴设备、支持WiFi通讯功能的车载通信设备和支持WiFi通讯功能的计算机等等。可选地，STA可以支持802.11be制式。STA也可以支持802.11ax、802.11ac、802.11n、802.11g、802.11b及802.11a等多种当前以及未来的802.11家族的无线局域网制式。例如，AP和STA可以是应用于车联网中设备，物联网中的物联网节点、传感器等，智慧家居中的智能摄像头，智能遥控器，智能水表电表等，以及智慧城市中的传感器等。应当理解，图1仅出于说明目的示出了两个AP和三个STA。本公开的实施例可以扩展到应用于其他数量的AP，这些AP可以与任意适当数量的其他设备通信。如果AP1向STA1传输PPDU1。由于BSS1和BSS2的基本服务区存在部分重叠，AP2也可以接收到AP1发送的PPDU1。一种基于OBSS数据包识别的空间复用方法中，AP2可以进行OBSSPD空间复用的要求之一是AP2接收到的PPDU1在整个带宽上的信号强度水平小于OBSS PD水平。其中，OBSS PD水平可以由以下公式决定：其中，OBSS_PDlevel为OBSS PD水平。OBSS_PDmin和OBSS_PDmax分别为OBSS_PDlevel的最小值和最大值，由标准预先规定或者由AP来指示。TX_PWRref为参考功率，对于STA来讲是21dBm，对于AP来讲，基于不同的情况，分为21dBm或25dBm。TX_PWR为AP2发送PPDU时的发送功率。PPDU_BW为AP2接收到的PPDU1的整个带宽。如图2和图2所示，第一设备工作的频带与第一设备接收的PPDU的带宽范围不完全重叠时，那么第一设备在接收到第二设备发送的PPDU时，无法获取PPDU的整个带宽的信号强度水平。并且在PPDU存在前导码打孔，或者第一设备无法获取第一设备完整的前导码打孔信息时，也无法获取PPDU的整个带宽的信号强度水平。在这几种情况下，由于AP2无法成功测量到PPDU1在整个带宽上的信号强度水平，会导致AP2无法判断是否进行OBSSPD空间复用，降低了整个系统的吞吐率。由此，本公开的实施例提出了一种改进的空间复用方法。下面对本申请实施例提供的空间复用方法进行详细说明：请参见图3，图3是本申请实施例提供的一种空间复用方法的流程示意图。如图3所示，该空间复用方法包括如下步骤301和步骤302，图3所示的方法执行主体可以为第一设备。或者，图3所示的方法执行主体可以为第一设备中的芯片。图3以第一设备为执行主体为例进行说明。值得一提的是，本申请实施例所涉及的第一设备可以是图1所示的AP2或STA2，后文所涉及的第一设备可以是图1所示的AP1或STA1。其中：301、第二设备向第一设备发送PPDU，该PPDU的带宽包括多个20MHz子信道。相应地，第一设备可接收由第二设备发送的该PPDU。其中，该第二设备可以是一个设备，也可以是多个设备。该多个第二设备可以同时发送一个PPDU，也可以分别发送多个PPDU。例如，如图4所示，假设第二设备包括AP1和STA1，第一设备为AP2。1.AP1可以向STA1发送PPDU1。2.AP2也可以接收到PPDU1。AP2接收到AP1发送的PPDU1之后，识别该PPDU1是来自OBSS的。触发OBSS PD空间机制，以最大发送功率1，进行回退过程，回退计数器的值开始减少，直到PPDU1接收结束。3.STA1可以向AP1发送PPDU2。4.AP2也可以接收到PPDU2。AP2接收到STA1发送的PPDU2之后，触发OBSS PD空间复用机制，以最大发送功率2，进行回退过程。AP2接收到AP1发送的PPDU1之后，还可检测PPDU1的第一信号强度1，以确定AP2是否可进行OBSS PD空间复用。AP2接收STA1发送的PPDU2之后，还可检测PPDU2的第一信号强度2，以确定AP2是否可进行OBSS PD空间复用。如果PPDU1的第一信号强度1小于OBSS PD水平1，并且PPDU2的第一信号强度2小于OBSS PD水平2，则在回退计数器到0以后，AP2利用最大发送功率1和最大发送功率2的最小值发送PPDU3，以进行OBSS PD空间复用。302、第一设备进行OBSS PD空间复用，其中，第一设备接收的PPDU的第一信号强度水平小于OBSS PD水平，该第一信号强度水平的单位为分贝毫瓦dBm/20MHz。其中，第一信号强度水平的单位为dBm/20MHz的含义是以第一信号强度水平以20MHz为粒度，例如第一信号强度水平是单个20MHz上测量得到的信号强度水平，或者第一信号强度水平是将多个20MHz的信号强度测量结果以20MHz为单位进行归一化进行处理后得到的值。本申请实施例中，第一设备在接收到由第二设备发送的PPDU之后，可对该PPDU的第一信号强度水平进行测量。PPDU可以包括以下一个或多个用于决定物理层清空信道接入指示的字段：L-STF字段、L-LTF字段、物理层同步字段、短同步字段或长物理层同步字段。第一设备可以测量PPDU中一个或多个用于决定物理层清空信道接入指示的字段的信号强度，以确定单位为dBm/20MHz的第一信号强度水平。andwhich is used to determine PHY-CCA.indication，is below the non-SRG OBSS PDlevel.)在第一设备确定单位为dBm/20MHz第一信号强度水平之后，在该PPDU的第一信号强度水平小于OBSS PD水平的情况下，第一设备才可以进行OBSS PD空间复用。在该PPDU的第一信号强度水平大于或等于OBSS PD水平的情况下，第一设备不可以进行OBSS PD空间复用。其中，OBSS PD水平的单位也为dBm/20MHz。在图3所描述的方法中，第一设备测量的是单位为dBm/20MHz的PPDU的第一信号强度水平，在第一空间设备无法接收PPDU整个带宽所有20MHz子信道，或者存在前导码打孔，或者无法获取完整的前导码打孔信息时，依然可以成功测量到PPDU的信号强度水平，相对于基于整个带宽测量信号强度水平的技术在这些场景下都无法工作或实施而言，本申请实施例基于20MHz粒度测量的信号强度水平，在这些场景下都可以实施，从而增加可以进行OBSS PD空间复用的可行场景，提升整个系统的吞吐率。并且，11be标准采用了逐个20MHz进行物理层清空信道接入指示检测决定信道闲忙的机制，而第一信号强度水平也是基于对一个或多个20MHz子信道进行测量得到，因此，图3所描述的方法，兼容11be标准。在一种可能的实现中，发送所述PPDU的带宽包括多个20MHz子信道，该多个20MHz子信道均未被打孔，第一信道强度水平基于PPDU中该多个20MHz子信道的信号强度测量得到。在一种可能的实现中，第一信号强度水平基于PPDU中多个未打孔的20MHz子信道的信号强度测量结果得到。在该可能的实现中，第一设备具体可以对PPDU中多个未打孔的20MHz子信道上的用于决定物理层清空信道接入指示的字段的信号强度进行测量，以得到PPDU中多个未打孔的20MHz子信道的信号强度测量结果。其中，该多个未打孔的20MHz子信道可以是PPDU中全部或部分未打孔的20MHz子信道。例如，假设第一设备接收到的PPDU的带宽为160MHz，该PPDU具有6个未打孔的20MHz子信道，第一设备在其工作的80MHz中接收到了该PPDU的3个未打孔的20MHz子信道，则第一设备可对接收到的这3个未打孔的20MHz子信道的信号强度进行测量。或者，第一设备可对接收到的这3个未打孔的20MHz子信道中的部分子信道的信号强度进行测量。如果通过对多个20MHz子信道的信号强度测量结果进行归一化处理，来得到第一信号强度水平，假设该多个20MHz子信道中包括打孔的20MHz，打孔的20MHz子信道上可能无能量进行传输，那么会使得到的第一信号强度水平不准确。或者，打孔上的20MHz子信道可能存在其他信号或者干扰，这也使得无法准确测量第一信号强度水平，所以需要排除打孔的20MHz子信道，以便能够准确地触发第一设备进行OBSS PD空间复用。在上述公式中，OBSS_PDlevel是相对PPDU1的整个带宽的一个阈值。在决定OBSS_PDlevel时，在公式的最后的+log10，是针对PPDU1的带宽大于20MHz时进行的归一化处理，即通过+log10可使公式的右侧的值是相对PPDU1的整个带宽的。该归一化没有考虑前导码打孔。举个例子，比如PPDU1带宽是80MHz，如果其中一个20MHz子信道进行了前导码打孔，4个20MHz子信道中有3个20MHz子信道有能量进行传输，1个20MHz子信道被打孔打掉了，则需要归一化的子信道数是3，而不是4。显然在这个示例中，公式中归一化的子信道数是4。因此，公式，导致无法准确地触发AP2进行OBSS PD空间复用。另外，公式存在错误，在log前边应该乘以10。可选的，第一信号强度水平为对PPDU中多个未打孔的20MHz子信道的信号强度测量结果进行归一化得到。基于该可能的实现方式，能够使确定的第一信号强度水平更加准确。可选的，第一信号强度水平满足以下公式：Rx_PWRdBm/20MHz＝Rx_PWRnonpunc-measured，total-10×log10Nnonpunc-measured其中，Rx_PWRdBm/20MHz为第一信号强度水平，Rx_PWRnonpunc-measured，total为PPDU中多个未打孔的20MHz子信道的信号强度测量结果之和，Nnonpunc-measured为所测量的多个未打孔的20MHz子信道的子信道数量。例如，假设第一信号强度水平基于PPDU中未打孔的20MHz子信道1和20MHz子信道2的信号强度测量结果得到。未打孔的20MHz子信道1的信号强度测量结果为10dBm/20MHz，未打孔的20MHz子信道2的信号强度测量结果为20dBm/20MHz，则Rx_PWRnonpunc-measured，total为30dBm/20MHz。Nnonpunc-measured为2个。进行OBSS PD空间复用传输的条件也可以依托各个公式进行推导，比如另外一种进行OBSS PD空间复用传输的条件可以是满足以下公式：可选的，第一设备确定可以先获取PPDU的打孔信息，基于该打孔信息确定PPDU中哪些20MHz子信道为未打孔的子信道，再对PPDU中未打孔的20MHz子信道的信号强度进行测量。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度。例如，上述PPDU为HE MU PPDU时，HEMUPPDU的打孔信息，可以在HEMUPPDU中的带宽字段中隐含携带，携带部分打孔信息，无法提供整个带宽的打孔信息。在HE SUPPDU，HE TB PPDU中不携带打孔信息。上述PPDU为EHT MU PPDU时，在EHT MU PPDU的non-OFDMA传输中，EHT MU PPDU的U-SIG字段中的打孔信道信息字段中存在整个带宽的打孔信息。上述PPDU为EHT MU PPDU时，在EHT MU PPDU的OFDMA传输中，EHTMUPPDU的U-SIG字段中的打孔信道信息字段存在所在80MHz频域子块中的打孔信息，EHT MU PPDU的EHT-SIG字段中存在整个带宽的打孔信息。上述PPDU为信标帧时，在信标帧中存在无效的子信道比特位图，用于指示一些必须打孔的子信道信息。可选的，第一设备也可以通过盲检来确定哪些20MHz子信道为未打孔的子信道，再对PPDU中未打孔的20MHz子信道的信号强度进行测量。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度。可选的，上述多个未打孔的20MHz子信道位于主信道。该主信道可以为主20MHz信道或主40MHz信道或主80MHz信道或主160MHz信道。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度。其中，主20MHz信道可以为整个带宽中的任意一个，不存在固定的关系。以带宽为320MHz为例，如图5所示，包含主20MHz信道的40MHz信道被称作主40MHz信道。包含主20MHz信道的80MHz信道被称作主80MHz信道。包含主20MHz信道的160MHz信道被称作主160MHz信道。可选的，上述多个未打孔的20MHz子信道也可以为标准提前规定的PPDU不会被打孔的20MHz子信道。基于该可选的方式，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度。可选的，上述多个未打孔的20MHz子信道为第一设备工作的多个20MHz信道。基于该可选的方式，能够使测量得到到第一信号强度水平更加准确。例如，假设第一设备接收到的PPDU的带宽为160MHz，该PPDU具有6个未打孔的20MHz子信道，第一设备在其工作的80MHz中接收到了该PPDU的3个未打孔的20MHz子信道，则第一设备可对接收到的这3个未打孔的20MHz子信道的信号强度进行测量。或者，第一设备可对接收到的这3个未打孔的20MHz子信道中的部分子信道的信号强度进行测量。在一种可能的实现中，第一信号强度水平基于PPDU中一个未打孔的20MHz子信道的信号强度测量结果得到，该一个未打孔的20MHz子信道为主20MHz信道。由于主20MHz信道不会被打孔，通过对主20MHz信道进行测量，以得到第一信号强度水平，在存在PPDU前导码打孔的情况下，第一设备能够准确/可行的获取第一信号强度。在一种可能的实现中，第一信号强度水平基于PPDU中一个未打孔的20MHz子信道的信号强度测量结果得到，该一个未打孔的20MHz子信道为标准提前规定的PPDU不会被打孔的一个20MHz子信道。在一种可能的实现中，第一信号强度水平基于PPDU中一个未打孔的20MHz子信道的信号强度测量结果得到，该一个未打孔的20MHz子信道为第一设备工作的一个20MHz信道。本申请实施例中，具体在哪些未打孔的20MHz子信道上进行信号强度测量，取决于具体实现，本申请实施例不做限定。在一种可能的实现中，OBSS PD水平满足以下公式：OBSS_PDlevel≤max))其中，OBSS_PDlevel为OBSS PD水平。OBSS_PDmin和OBSS_PDmax分别为OBSS_PDlevel的最小值和最大值，由标准预先规定或者由AP来指示。TX_PWRref为参考功率，对于STA来讲是21dBm，对于AP来讲，基于不同的情况，分为21dBm或25dBm。TX_PWR为第一设备发送PPDU时的发送功率。基于该可能的实现方式，由于第一信号强度是在PPDU的一个未打孔20MHz上测量得到，或者，第一信号强度是对PPDU的多个未打孔20MHz上的信号测量结果归一化得到的，即第一信号强度单位为分贝毫瓦dBm/20MHz，并且由于OBSS_PDmin和OBSS_PDmax的单位也为dBm/20MHz，因此针对不同的PPDU的带宽，无需对OBSS_PDlevel再进一步归一化，有利于减小OBSS_PDlevel的计算复杂度。在一种可能的实现中，TX_PWR满足以下公式：其中，公式中的OBSS_PDlevel是本发明方案中定义的单位是dBm/20MHz的OBSS_PDlevel。这里需要指出，在无限制的情况下，发送设备也要遵循法规限制的最大发送功率。需要指出，OBSSPD空间复用又可以细分为non-SRGOBSSPDlevel和SRGOBSSPDlevel两种。针对是否组建SRGroup，采用不同的OBSPDlevel。但其传输流程基本一致，都可以采用以上的方法。需要指出，本申请所有的实施例中，以单位带宽为20MHz为示例性为例说明，第一信号强度水平的单位为dBm/20MHz。若单位带宽为其他大小，比如XMHz，则本申请所有实施例中的第一信号强度水平的单位可以同步替换为dBm/XMHz。比如对于11ah标准，X＝2MHz；对于11ad/ay标准，X＝2160MHz。请参见图6，图6示出了本申请实施例的一种通信装置的结构示意图。图6所示的通信装置可以用于执行上述图3所描述的方法实施例中第一设备的部分或全部功能。该装置可以是第一设备，也可以是第一设备中的装置，或者是能够和第一设备匹配使用的装置。其中，该通信装置还可以为芯片系统。图6所示的通信装置可以包括通信单元601和处理单元602。其中，处理单元602，用于进行数据处理。通信单元601集成有接收单元和发送单元。通信单元601也可以称为收发单元。或者，也可将通信单元601拆分为接收单元和发送单元。其中：通信单元601，用于接收由第二设备发送的物理层协议数据单元PPDU，PPDU的带宽包括多个20兆赫兹MHz子信道；通信单元601，还用于进行重叠基本服务集包识别OBSS PD空间复用，其中，第一设备接收的PPDU的第一信号强度水平小于OBSS PD水平，第一信号强度水平的单位为分贝毫瓦dBm/20MHz。在一种可能的实现中，第一信号强度水平基于PPDU中多个未打孔的20MHz子信道的信号强度测量结果得到。在一种可能的实现中，多个未打孔的20MHz子信道位于主信道。在一种可能的实现中，第一信号强度水平为对PPDU中多个未打孔的20MHz子信道的信号强度测量结果进行归一化得到。在一种可能的实现中，Rx_PWRdBm/20MHz＝Rx_PWRnonpunc-measured，total-10×log10Nnonpunc-measured；其中，Rx_PWRdBm/20MHz为第一信号强度水平，Rx_PWRnonpunc-measured，total为PPDU中多个未打孔的20MHz子信道的信号强度测量结果之和，Nnonpunc-measured为所测量的多个未打孔的20MHz子信道的子信道数量。在一种可能的实现中，第一信号强度水平基于PPDU中一个未打孔的20MHz子信道的信号强度测量结果得到，一个未打孔的20MHz子信道为主20MHz信道或者为第一设备工作的一个20MHz信道。在一种可能的实现中，OBSS_PDlevel≤max))其中，OBSS_PDlevel为OBSS PD水平，OBSS_PDmin和OBSS_PDmax分别为OBSS_PDlevel的最小值和最大值，TX_PWRref为参考功率，TX_PWR为第二设备发送PPDU时的发送功率。图7给出了一种通信装置的结构示意图。所述通信装置700可以是上述方法实施例中的第一设备，还可以是支持第一设备实现上述方法的芯片、芯片系统、或处理器等。该通信装置可用于实现上述方法实施例中描述的方法，具体可以参见上述方法实施例中的说明。所述通信装置700可以包括一个或多个处理器701。所述处理器701可以是通用处理器或者专用处理器等。例如可以是基带处理器或中央处理器。基带处理器可以用于对通信协议以及通信数据进行处理，中央处理器可以用于对通信装置进行控制，执行软件程序，处理软件程序的数据。可选的，所述通信装置700中可以包括一个或多个存储器702，其上可以存有指令704，所述指令可在所述处理器701上被运行，使得所述通信装置700执行上述方法实施例中描述的方法。可选的，所述存储器702中还可以存储有数据。所述处理器701和存储器702可以单独设置，也可以集成在一起。可选的，所述通信装置700还可以包括收发器705、天线706。所述收发器705可以称为收发单元、收发机、或收发电路等，用于实现收发功能。收发器705可以包括接收器和发送器，接收器可以称为接收机或接收电路等，用于实现接收功能；发送器可以称为发送机或发送电路等，用于实现发送功能。其中，图6所示的处理单元602可以为处理器701。通信单元601可以为收发器705。所述通信装置700为第一设备：处理器701用于执行上述方法实施例中第一设备的数据处理操作。收发器705用于执行上述方法实施例中第一设备的数据收发操作。例如，收发器705可用于执行图3中第一设备的数据收发操作。另一种可能的设计中，处理器701中可以包括用于实现接收和发送功能的收发器。例如该收发器可以是收发电路，或者是接口，或者是接口电路。用于实现接收和发送功能的收发电路、接口或接口电路可以是分开的，也可以集成在一起。上述收发电路、接口或接口电路可以用于代码/数据的读写，或者，上述收发电路、接口或接口电路可以用于信号的传输或传递。又一种可能的设计中，可选的，处理器701可以存有指令703，指令703在处理器701上运行，可使得所述通信装置700执行上述方法实施例中描述的方法。指令703可能固化在处理器701中，该种情况下，处理器701可能由硬件实现。又一种可能的设计中，通信装置700可以包括电路，所述电路可以实现前述方法实施例中发送或接收或者通信的功能。本申请实施例中描述的处理器和收发器可实现在集成电路、模拟IC、射频集成电路RFIC、混合信号IC、专用集成电路、印刷电路板、电子设备等上。该处理器和收发器也可以用各种IC工艺技术来制造，例如互补金属氧化物半导体、N型金属氧化物半导体、P型金属氧化物半导体、双极结型晶体管、双极CMOS、硅锗、砷化镓等。以上实施例描述中的通信装置可以是第一设备，但本申请实施例中描述的通信装置的范围并不限于此，而且通信装置的结构可以不受图7的限制。通信装置可以是独立的设备或者可以是较大设备的一部分。例如所述通信装置可以是：独立的集成电路IC，或芯片，或，芯片系统或子系统；具有一个或多个IC的集合，可选的，该IC集合也可以包括用于存储数据，指令的存储部件；ASIC，例如调制解调器；可嵌入在其他设备内的模块；接收机、终端、智能终端、蜂窝电话、无线设备、手持机、移动单元、车载设备、网络设备、云设备、人工智能设备等等；其他等等。对于通信装置可以是芯片或芯片系统的情况，可参见图8所示的芯片的结构示意图。图8所示的芯片800包括处理器801、接口802。可选的，还可包括存储器803。其中，处理器801的数量可以是一个或多个，接口802的数量可以是多个。一种设计中，对于芯片用于实现本申请实施例中第一终端设备的功能的情况：所述接口802，用于接收或输出信号；例如，接口802可用于执行图3中第一设备的信号接收或输出操作。所述处理器801，用于执行第一设备的数据处理操作。可以理解的是，本申请实施例中的一些可选的特征，在某些场景下，可以不依赖于其他特征，比如其当前所基于的方案，而独立实施，解决相应的技术问题，达到相应的效果，也可以在某些场景下，依据需求与其他特征进行结合。相应的，本申请实施例中给出的通信装置也可以相应的实现这些特征或功能，在此不予赘述。应理解，本申请实施例中的处理器可以是一种集成电路芯片，具有信号的处理能力。在实现过程中，上述方法实施例的各步骤可以通过处理器中的硬件的集成逻辑电路或者软件形式的指令完成。上述的处理器可以是通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其它可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。可以理解，本申请实施例中的存储器可以是易失性存储器或非易失性存储器，或可包括易失性和非易失性存储器两者。其中，非易失性存储器可以是只读存储器、可编程只读存储器、可擦除可编程只读存储器、电可擦除可编程只读存储器或闪存。易失性存储器可以是随机存取存储器，其用作外部高速缓存。通过示例性但不是限制性说明，许多形式的RAM可用，例如静态随机存取存储器、动态随机存取存储器、同步动态随机存取存储器、双倍数据速率同步动态随机存取存储器、增强型同步动态随机存取存储器、同步连接动态随机存取存储器和直接内存总线随机存取存储器。应注意，本文描述的系统和方法的存储器旨在包括但不限于这些和任意其它适合类型的存储器。本申请还提供了一种计算机可读介质，存储介质中存储有计算机程序或指令，当计算机程序或指令被通信装置执行时，实现上述任一方法实施例的功能。本申请还提供了一种包括指令的计算机程序产品，当计算机读取并执行计算机程序产品时，使得计算机实现上述任一方法实施例的功能。上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机指令时，全部或部分地产生按照本申请实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一个计算机可读存储介质传输，例如，所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线)或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质、光介质)、或者半导体介质)等。以上所述，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以所述权利要求的保护范围为准。
