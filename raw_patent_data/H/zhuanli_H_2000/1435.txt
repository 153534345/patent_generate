标题title
数据处理方法、装置、设备及可读存储介质
摘要abst
本发明公开了一种基于分层链网络的数据处理方法、装置、设备及可读存储介质，包括：将第一子链区块以及区块执行结果写入第一子链中；将第一子链区块以及区块执行结果发送至调度节点，以使调度节点将第一子链区块以及区块执行结果发送至第一验证节点集群；第一子链区块对应的第一区块信息用于在第一验证节点集群生成的验证结果为共识通过时，被打包至共识节点集群所生成的区块中；当共识网络对应的主链中，存储有包含第一区块信息的区块时，确定第一子链区块属于主链已验证的区块。采用本发明，可以减少分层链网络中子链共识的技术与资源负担，降低共识网络对子链数据正确性的验证难度。
权利要求书clms
1.一种基于分层链网络的数据处理方法，所述分层链网络包括共识网络和第一业务网络；所述共识网络包含调度节点、第一验证节点集群和共识节点集群；所述第一业务网络独立于所述共识网络；所述方法由计算机设备执行；所述方法包括：在获取到所述第一业务网络中的业务节点发送的业务数据时，将所述业务数据打包进第一子链区块中，执行所述第一子链区块，得到区块执行结果；将所述第一子链区块以及所述区块执行结果写入所述第一业务网络对应的第一子链中；将所述第一子链区块以及所述区块执行结果发送至所述调度节点，以使所述调度节点将所述第一子链区块以及所述区块执行结果发送至所述第一验证节点集群；所述第一验证节点集群用于对所述第一子链区块以及所述区块执行结果进行共识验证；所述第一子链区块对应的第一区块信息用于在所述共识验证的验证结果为共识通过时，被打包至所述共识节点集群所生成的区块中；当所述共识网络的主链中存储有包含所述第一区块信息的区块时，确定所述第一子链中的所述第一子链区块属于所述主链已验证的区块。2.根据权利要求1所述的方法，其特征在于，还包括：接收所述共识网络对应的主链区块，在所述共识网络对应的主链中同步所述主链区块；所述主链区块为通过所述共识节点集群共识的区块；若在所述主链区块中查找到所述第一区块信息，则确定所述共识网络对应的主链中，存储有包含所述第一区块信息的区块；若在所述主链区块中未查找到所述第一区块信息，则确定所述共识网络对应的主链中，未存储有包含所述第一区块信息的区块。3.根据权利要求2所述的方法，其特征在于，还包括：若未在所述主链区块中获取到合并共识数据，则确定在所述主链区块中未查找到所述第一区块信息；所述合并共识数据包括所述分层链网络包含的一个或多个业务网络分别对应的子链区块的区块信息。4.根据权利要求2或3所述的方法，其特征在于，还包括：若在所述主链区块中获取到合并共识数据，则对所述合并共识数据进行区块信息查找；若未在所述合并共识数据中查找到所述第一区块信息，则确定在所述主链区块中未查找到所述第一区块信息；若在所述合并共识数据中查找到所述第一区块信息，则确定在所述主链区块中查找到所述第一区块信息。5.根据权利要求4所述的方法，其特征在于，所述第一区块信息包括所述第一子链区块对应的第一区块哈希；所述合并共识数据包括默克尔树以及子链位图；所述默克尔树是所述共识节点集群根据验证结果为共识通过的一个或多个子链区块分别对应的区块哈希所生成的；所述子链位图包含所述分层链网络包含的每个子链对应的子链标识以及每个子链标识对应的标记状态；一个子链标识用于唯一标识一个子链；所述对所述合并共识数据进行区块信息查找，包括：若通过所述子链位图确定目标子链标识对应的标记状态为未标记状态，确定未在所述合并共识数据中查找到所述第一区块信息；所述目标子链标识为所述第一子链对应的子链标识；若通过所述子链位图确定所述目标子链标识对应的标记状态为已标记状态，则从所述默克尔树中获取与所述目标子链标识关联的K个默克尔树节点哈希，K为正整数；根据所述K个默克尔树节点哈希以及所述默克尔树对应的默克尔树根哈希对所述第一区块哈希进行默克尔节点验证，得到验证结果；若所述验证结果为验证通过结果，则确定在所述合并共识数据中查找到所述第一区块信息；若所述验证结果为验证不通过结果，则确定未在所述合并共识数据中查找到所述第一区块信息。6.根据权利要求5所述的方法，其特征在于，所述根据所述K个默克尔树节点哈希以及所述默克尔树对应的默克尔树根对所述第一区块哈希进行默克尔节点验证，得到验证结果，包括：根据所述K个默克尔树节点哈希在所述默克尔树中所对应的树节点位置，顺序获取第i个默克尔树节点哈希；i为小于或等于K的正整数；对第i个默克尔树节点哈希与第i-1个验证哈希进行哈希运算，得到第i个验证哈希，直到获取到第K个验证哈希时，对第K个验证哈希与所述默克尔树根哈希进行比对；i为1时，第i-1个验证哈希为所述第一区块哈希；若所述第K个验证哈希与所述默克尔树根哈希不相同，则确定验证结果为验证不通过结果；若所述第K个验证哈希与所述默克尔树根哈希相同，则确定验证结果为验证通过结果。7.一种基于分层链网络的数据处理方法，其特征在于，所述分层链网络包括共识网络和第一业务网络；所述共识网络包含第一验证节点集群和共识节点集群；所述第一业务网络独立于所述共识网络；所述方法由计算机设备执行；所述方法包括：接收第一子链区块以及所述第一子链区块所对应的区块执行结果；所述第一子链区块是所述第一业务网络中的账本服务节点根据所述第一业务网络中的业务节点发送的业务数据打包生成的；所述区块执行结果是所述账本服务节点执行所述第一子链区块后得到的；在所述共识网络中确定与所述第一业务网络对应的第一子链关联的所述第一验证节点集群；将所述第一子链区块以及所述第一子链区块所对应的区块执行结果发送至所述第一验证节点集群，以使所述第一验证节点集群对所述第一子链区块以及所述区块执行结果进行共识验证；所述第一子链区块对应的第一区块信息用于在所述共识验证的验证结果为共识通过时，被打包至所述共识节点集群所生成的区块中。8.根据权利要求7所述的方法，其特征在于，所述共识网络还包含验证节点集群；所述第一验证节点集群属于所述验证节点集群；所述在所述共识网络中确定与所述第一业务网络对应的第一子链关联的所述第一验证节点集群，包括：获取子链验证映射表；所述子链验证映射表包含一个或多个子链标识以及每个子链标识关联的验证节点；每个验证节点均属于所述验证节点集群；一个验证节点关联的子链标识的数量为一个或多个；将所述子链验证映射表中，与所述第一子链对应的第一子链标识关联的验证节点确定为第一验证节点集群。9.根据权利要求7或8所述的方法，其特征在于，所述验证节点集群包含第一验证节点；所述第一验证节点在子链验证映射表关联H个子链标识，H为正整数；所述方法还包括：获取所述第一验证节点发送的在共识运行周期内的算力资源占用信息；若所述算力资源占用信息超过第一算力阈值，则从所述H个子链标识中获取目标子链标识；在所述验证节点集群中选择第二验证节点；所述第二验证节点在所述共识运行周期内的算力资源占用信息低于第二算力阈值；所述第一算力阈值大于所述第二算力阈值；在所述子链验证映射表中，将所述目标子链标识关联的所述第一验证节点更新为所述第二验证节点。10.根据权利要求7所述的方法，其特征在于，所述分层链网络还包括第二业务网络；所述第二业务网络独立于所述共识网络；所述方法还包括：接收针对所述第二业务网络的验证节点集群分配请求；所述验证节点集群分配请求包含所述第二业务网络对应的第二子链对应的第二子链标识；根据所述验证节点集群分配请求，确定节点分配数量；从所述验证节点集群中选择所述节点分配数量所对应的验证节点，作为第二验证节点集群；在子链验证映射表中，记录所述第二子链标识与所述第二验证节点集群的关联关系。11.一种基于分层链网络的数据处理方法，其特征在于，所述分层链网络包括共识网络和第一业务网络；所述共识网络包含第一验证节点集群和共识节点集群；所述第一业务网络独立于所述共识网络；所述方法由计算机设备执行；所述方法包括：接收所述第一验证节点集群发送的验证结果；所述验证结果是所述第一验证节点集群对第一子链区块以及区块执行结果进行共识验证后得到的；所述第一子链区块是所述第一业务网络中的账本服务节点根据所述第一业务网络中的业务节点发送的业务数据打包生成的；所述区块执行结果是所述账本服务节点执行所述第一子链区块后得到的；若所述验证结果为共识通过，则将所述第一子链区块对应的第一区块信息添加至待打包区块信息集合；根据所述待打包区块信息集合生成合并共识数据；将所述合并共识数据打包至主链区块，向所述共识节点集群发起针对所述主链区块的共识请求，以使所述共识节点集群根据所述共识请求对所述主链区块进行区块共识，得到共识结果；若所述共识结果为共识通过，将所述主链区块写入所述共识网络对应的主链中。12.根据权利要求11所述的方法，其特征在于，所述待打包区块信息集合包括M个区块哈希，M为正整数；所述M个区块哈希包括第一区块哈希；所述第一区块哈希属于所述第一区块信息；所述M个区块哈希分别对应的子链标识不同；一个子链标识用于唯一标识一个业务网络所对应的子链；每个业务网络均属于所述分层链网络；所述根据所述待打包区块信息集合生成合并共识数据，包括：根据所述M个区块信息分别对应的子链标识生成子链位图；根据所述M个区块信息分别对应的子链标识在所述子链位图中的位置顺序，生成所述M个区块信息对应的默克尔树；所述默克尔树包括默克尔树根；根据所述子链位图和所述默克尔树根生成合并共识数据。13.根据权利要求12所述的方法，其特征在于，所述分层链网络包含N个业务网络，N为大于或等于M的正整数；所述M个区块哈希分别对应的业务网络属于所述N个业务网络；所述根据所述M个区块信息分别对应的子链标识生成子链位图，包括：获取初始子链位图；所述初始子链位图包含所述N个业务网络分别对应的子链标识以及每个子链标识对应的标记状态；所述初始子链位图中的每个子链标识对应的标记状态均为未标记状态；将所述初始子链位图中，所述M个区块信息分别对应的子链标识对应的标记状态均更新为已标记状态，得到子链位图。14.根据权利要求11-13任一项所述的方法，其特征在于，还包括：接收针对第一子链的数据查询请求；所述第一子链为所述第一子链区块所对应的子链；所述数据查询请求包含所述第一子链对应的第一子链标识；根据所述第一子链标识确定查询验证节点，向所述查询验证节点转发所述数据查询请求；所述查询验证节点属于所述第一验证节点集群；所述第一验证节点集群中的验证节点均存储有所述第一子链；接收所述查询验证节点根据所述数据查询请求返回的数据查询结果。15.一种基于分层链网络的数据处理装置，其特征在于，所述分层链网络包括共识网络和第一业务网络；所述共识网络包含调度节点、第一验证节点集群和共识节点集群；所述第一业务网络独立于所述共识网络；所述装置由计算机设备运行；所述装置包括：获取模块，用于在获取到所述第一业务网络中的业务节点发送的业务数据时，将所述业务数据打包进第一子链区块中，执行所述第一子链区块，得到区块执行结果；第一写入模块，用于将所述第一子链区块以及所述区块执行结果写入所述第一业务网络对应的第一子链中；第一发送模块，用于将所述第一子链区块以及所述区块执行结果发送至所述调度节点，以使所述调度节点将所述第一子链区块以及所述区块执行结果发送至所述第一验证节点集群；所述第一验证节点集群用于对所述第一子链区块以及所述区块执行结果进行共识验证；所述第一子链区块对应的第一区块信息用于在所述共识验证的验证结果为共识通过时，被打包至所述共识节点集群所生成的区块中；第一确定模块，用于当所述共识网络对应的主链中，存储有包含所述第一区块信息的区块时，确定所述第一子链中的所述第一子链区块属于所述主链已验证的区块。16.一种基于分层链网络的数据处理装置，其特征在于，所述分层链网络包括共识网络和第一业务网络；所述共识网络包含第一验证节点集群和共识节点集群；所述第一业务网络独立于所述共识网络；所述装置由计算机设备运行；所述装置包括：第一接收模块，用于接收第一子链区块以及所述第一子链区块所对应的区块执行结果；所述第一子链区块是所述第一业务网络中的账本服务节点根据所述第一业务网络中的业务节点发送的业务数据打包生成的；所述区块执行结果是所述账本服务节点执行所述第一子链区块后得到的；第二确定模块，用于在所述共识网络中确定与所述第一业务网络对应的第一子链关联的所述第一验证节点集群；第二发送模块，用于将所述第一子链区块以及所述第一子链区块所对应的区块执行结果发送至所述第一验证节点集群，以使所述第一验证节点集群对所述第一子链区块以及所述区块执行结果进行共识验证；所述第一子链区块对应的第一区块信息用于在所述共识验证的验证结果为共识通过时，被打包至所述共识节点集群所生成的区块中。17.一种基于分层链网络的数据处理装置，其特征在于，所述分层链网络包括共识网络和第一业务网络；所述共识网络包含第一验证节点集群和共识节点集群；所述第一业务网络独立于所述共识网络；所述装置由计算机设备运行；所述装置包括：第二接收模块，用于接收所述第一验证节点集群发送的验证结果；所述验证结果是所述第一验证节点集群对第一子链区块以及区块执行结果进行共识验证后得到的；所述第一子链区块是所述第一业务网络中的账本服务节点根据所述第一业务网络中的业务节点发送的业务数据打包生成的；所述区块执行结果是所述账本服务节点执行所述第一子链区块后得到的；添加模块，用于若所述验证结果为共识通过，则将所述第一子链区块对应的第一区块信息添加至待打包区块信息集合；生成模块，用于根据所述待打包区块信息集合生成合并共识数据；共识模块，用于将所述合并共识数据打包至主链区块，向所述共识节点集群发起针对所述主链区块的共识请求，以使所述共识节点集群根据所述共识请求对所述主链区块进行区块共识，得到共识结果；第二写入模块，用于若所述共识结果为共识通过，将所述主链区块写入所述共识网络对应的主链中。18.一种计算机设备，其特征在于，包括：处理器、存储器以及网络接口；所述处理器与所述存储器、所述网络接口相连，其中，所述网络接口用于提供数据通信功能，所述存储器用于存储程序代码，所述处理器用于调用所述程序代码，以执行权利要求1-14任一项所述的方法。19.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机程序，所述计算机程序适于由处理器加载并执行权利要求1-14任一项所述的方法。20.一种计算机程序产品，包括计算机程序/指令，其特征在于，所述计算机程序/指令被处理器执行时，可以执行权利要求1-14任一项所述的方法。
说明书desc
技术领域本申请涉及计算机技术领域，尤其涉及一种基于分层链网络的数据处理方法、装置、设备及可读存储介质。背景技术在一些分层区块链对应的网络架构中，通常可以包括一个或多个业务网络以及核心共识网络。其中，每个业务网络可以独立运行一个局部共识网络，该局部共识网络用于处理对应业务网络中的业务节点发送的业务数据，例如，对业务数据进行区块打包，并将打包的区块写入局部共识网络所维护的子链中。其中，核心共识网络用于运行核心主链，是整个区块链网络对应的主链服务，业务网络对应的子链创建时，相关信息均会被记录在核心主链中。发明人在实践中发现，在现有的分层区块链的局部共识模式下，当有新的业务网络接入时，需要其自行组建一个新的局部共识网络，这个架构对于分层区块链中的业务方来说，有较大的资源负担和技术负担。此外，核心共识网络验证从局部共识网络中返回的数据的正确性也较为困难，需要设法去信任数据转发中继，或者去信任局部共识网络中的所有验证者，核心共识网络对于局部共识数据错误或作恶的担忧较大。发明内容本申请实施例提供了一种基于分层链网络的数据处理方法、装置、设备及可读存储介质，可以减少分层链网络中子链共识的技术与资源负担，降低共识网络对子链数据正确性的验证难度。本申请实施例一方面提供了一种基于分层链网络的数据处理方法，分层链网络包括共识网络和第一业务网络；共识网络包含调度节点、第一验证节点集群和共识节点集群；第一业务网络独立于共识网络；方法由计算机设备执行；方法包括：在获取到第一业务网络中的业务节点发送的业务数据时，将业务数据打包进第一子链区块中，执行第一子链区块，得到区块执行结果；将第一子链区块以及区块执行结果写入第一业务网络对应的第一子链中；将第一子链区块以及区块执行结果发送至调度节点，以使调度节点将第一子链区块以及区块执行结果发送至第一验证节点集群；第一验证节点集群用于对第一子链区块以及区块执行结果进行共识验证；第一子链区块对应的第一区块信息用于在共识验证的验证结果为共识通过时，被打包至共识节点集群所生成的区块中；当共识网络对应的主链中，存储有包含第一区块信息的区块时，确定第一子链中的第一子链区块属于主链已验证的区块。本申请实施例一方面提供了一种基于分层链网络的数据处理方法，分层链网络包括共识网络和第一业务网络；共识网络包含第一验证节点集群和共识节点集群；第一业务网络独立于共识网络；方法由计算机设备执行；方法包括：接收第一子链区块以及第一子链区块所对应的区块执行结果；第一子链区块是第一业务网络中的账本服务节点根据第一业务网络中的业务节点发送的业务数据打包生成的；区块执行结果是账本服务节点执行第一子链区块后得到的；在共识网络中确定与第一业务网络对应的第一子链关联的第一验证节点集群；将第一子链区块以及第一子链区块所对应的区块执行结果发送至第一验证节点集群，以使第一验证节点集群对第一子链区块以及区块执行结果进行共识验证；第一子链区块对应的第一区块信息用于在共识验证的验证结果为共识通过时，被打包至共识节点集群所生成的区块中。本申请实施例一方面提供了一种基于分层链网络的数据处理方法，分层链网络包括共识网络和第一业务网络；共识网络包含第一验证节点集群和共识节点集群；第一业务网络独立于共识网络；方法由计算机设备执行；方法包括：接收第一验证节点集群发送的验证结果；验证结果是第一验证节点集群对第一子链区块以及区块执行结果进行共识验证后得到的；第一子链区块是第一业务网络中的账本服务节点根据第一业务网络中的业务节点发送的业务数据打包生成的；区块执行结果是账本服务节点执行第一子链区块后得到的；若验证结果为共识通过，则将第一子链区块对应的第一区块信息添加至待打包区块信息集合；根据待打包区块信息集合生成合并共识数据；将合并共识数据打包至主链区块，向共识节点集群发起针对主链区块的共识请求，以使共识节点集群根据共识请求对主链区块进行区块共识，得到共识结果；若共识结果为共识通过，将主链区块写入共识网络对应的主链中。本申请实施例一方面提供了一种基于分层链网络的数据处理装置，分层链网络包括共识网络和第一业务网络；共识网络包含调度节点、第一验证节点集群和共识节点集群；第一业务网络独立于共识网络；装置由计算机设备运行；装置包括：获取模块，用于在获取到第一业务网络中的业务节点发送的业务数据时，将业务数据打包进第一子链区块中，执行第一子链区块，得到区块执行结果；第一写入模块，用于将第一子链区块以及区块执行结果写入第一业务网络对应的第一子链中；第一发送模块，用于将第一子链区块以及区块执行结果发送至调度节点，以使调度节点将第一子链区块以及区块执行结果发送至第一验证节点集群；第一验证节点集群用于对第一子链区块以及区块执行结果进行共识验证；第一子链区块对应的第一区块信息用于在共识验证的验证结果为共识通过时，被打包至共识节点集群所生成的区块中；第一确定模块，用于当共识网络对应的主链中，存储有包含第一区块信息的区块时，确定第一子链中的第一子链区块属于主链已验证的区块。其中，上述数据处理装置，还包括：区块接收模块，用于接收共识网络对应的主链区块，在共识网络对应的主链中同步主链区块；主链区块为通过共识节点集群共识的区块；第一区块确定模块，用于若在主链区块中查找到第一区块信息，则确定共识网络对应的主链中，存储有包含第一区块信息的区块；第二区块确定模块，用于若在主链区块中未查找到第一区块信息，则确定共识网络对应的主链中，未存储有包含第一区块信息的区块。其中，上述数据处理装置，还包括：数据获取模块，用于若未在主链区块中获取到合并共识数据，则确定在主链区块中未查找到第一区块信息；合并共识数据包括分层链网络包含的一个或多个业务网络分别对应的子链区块的区块信息。其中，上述数据处理装置，还包括：查找模块，用于若在主链区块中获取到合并共识数据，则对合并共识数据进行区块信息查找；信息确定模块，用于若未在合并共识数据中查找到第一区块信息，则确定在主链区块中未查找到第一区块信息；信息确定模块，还用于若在合并共识数据中查找到第一区块信息，则确定在主链区块中查找到第一区块信息。其中，第一区块信息包括第一子链区块对应的第一区块哈希；合并共识数据包括默克尔树以及子链位图；默克尔树是共识节点集群根据验证结果为共识通过的一个或多个子链区块分别对应的区块哈希所生成的；子链位图包含分层链网络包含的每个子链对应的子链标识以及每个子链标识对应的标记状态；一个子链标识用于唯一标识一个子链；查找模块，包括：第一确定单元，用于若通过子链位图确定目标子链标识对应的标记状态为未标记状态，确定未在合并共识数据中查找到第一区块信息；目标子链标识为所述第一子链对应的子链标识；哈希获取单元，用于若通过子链位图确定目标子链标识对应的标记状态为已标记状态，则从默克尔树中获取与目标子链标识关联的K个默克尔树节点哈希，K为正整数；哈希验证单元，用于根据K个默克尔树节点哈希以及默克尔树对应的默克尔树根哈希对第一区块哈希进行默克尔节点验证，得到验证结果；第二确定单元，用于若验证结果为验证通过结果，则确定在合并共识数据中查找到第一区块信息；第二确定单元，还用于若验证结果为验证不通过结果，则确定未在合并共识数据中查找到第一区块信息。其中，哈希验证单元具体用于根据K个默克尔树节点哈希在默克尔树中所对应的树节点位置，顺序获取第i个默克尔树节点哈希；i为小于或等于K的正整数；对第i个默克尔树节点哈希与第i-1个验证哈希进行哈希运算，得到第i个验证哈希，直到获取到第K个验证哈希时，对第K个验证哈希与默克尔树根哈希进行比对；i为1时，第i-1个验证哈希为第一区块哈希；若第K个验证哈希与默克尔树根哈希不相同，则确定验证结果为验证不通过结果；若第K个验证哈希与默克尔树根哈希相同，则确定验证结果为验证通过结果。本申请实施例一方面提供了一种基于分层链网络的数据处理装置，分层链网络包括共识网络和第一业务网络；共识网络包含第一验证节点集群和共识节点集群；第一业务网络独立于共识网络；装置由计算机设备运行；装置包括：第一接收模块，用于接收第一子链区块以及第一子链区块所对应的区块执行结果；第一子链区块是第一业务网络中的账本服务节点根据第一业务网络中的业务节点发送的业务数据打包生成的；区块执行结果是账本服务节点执行第一子链区块后得到的；第二确定模块，用于在共识网络中确定与第一业务网络对应的第一子链关联的第一验证节点集群；第二发送模块，用于将第一子链区块以及第一子链区块所对应的区块执行结果发送至第一验证节点集群，以使第一验证节点集群对第一子链区块以及区块执行结果进行共识验证；第一子链区块对应的第一区块信息用于在共识验证的验证结果为共识通过时，被打包至共识节点集群所生成的区块中。其中，共识网络还包含验证节点集群；第一验证节点集群属于验证节点集群；第二确定模块，包括：表获取单元，用于获取子链验证映射表；子链验证映射表包含一个或多个子链标识以及每个子链标识关联的验证节点；每个验证节点均属于验证节点集群；一个验证节点关联的子链标识的数量为一个或多个；集群确定单元，用于将子链验证映射表中，与第一子链对应的第一子链标识关联的验证节点确定为第一验证节点集群。其中，验证节点集群包含第一验证节点；第一验证节点在子链验证映射表关联H个子链标识，H为正整数；上述数据处理装置，还包括：节点调度模块，用于获取第一验证节点发送的在共识运行周期内的算力资源占用信息；节点调度模块，还用于若算力资源占用信息超过第一算力阈值，则从H个子链标识中获取目标子链标识；节点调度模块，还用于在验证节点集群中选择第二验证节点；第二验证节点在共识运行周期内的算力资源占用信息低于第二算力阈值；第一算力阈值大于第二算力阈值；节点调度模块，还用于在子链验证映射表中，将目标子链标识关联的第一验证节点更新为第二验证节点。其中，分层链网络还包括第二业务网络；第二业务网络独立于共识网络；上述数据处理装置，还包括：节点分配模块，用于接收针对第二业务网络的验证节点集群分配请求；验证节点集群分配请求包含第二业务网络对应的第二子链对应的第二子链标识；节点分配模块，还用于根据验证节点集群分配请求，确定节点分配数量；节点分配模块，还用于从验证节点集群中选择节点分配数量所对应的验证节点，作为第二验证节点集群；节点分配模块，还用于在子链验证映射表中，记录第二子链标识与第二验证节点集群的关联关系。本申请实施例一方面提供了一种基于分层链网络的数据处理装置，分层链网络包括共识网络和第一业务网络；共识网络包含第一验证节点集群和共识节点集群；第一业务网络独立于共识网络；装置由计算机设备运行；装置包括：第二接收模块，用于接收第一验证节点集群发送的验证结果；验证结果是第一验证节点集群对第一子链区块以及区块执行结果进行共识验证后得到的；第一子链区块是第一业务网络中的账本服务节点根据第一业务网络中的业务节点发送的业务数据打包生成的；区块执行结果是账本服务节点执行第一子链区块后得到的；添加模块，用于若验证结果为共识通过，则将第一子链区块对应的第一区块信息添加至待打包区块信息集合；生成模块，用于根据待打包区块信息集合生成合并共识数据；共识模块，用于将合并共识数据打包至主链区块，向共识节点集群发起针对主链区块的共识请求，以使共识节点集群根据共识请求对主链区块进行区块共识，得到共识结果；第二写入模块，用于若共识结果为共识通过，将主链区块写入共识网络对应的主链中。其中，待打包区块信息集合包括M个区块哈希，M为正整数；M个区块哈希包括第一区块哈希；第一区块哈希属于第一区块信息；M个区块哈希分别对应的子链标识不同；一个子链标识用于唯一标识一个业务网络所对应的子链；每个业务网络均属于分层链网络；生成模块，包括：位图生成单元，用于根据M个区块信息分别对应的子链标识生成子链位图；树生成单元，用于根据M个区块信息分别对应的子链标识在子链位图中的位置顺序，生成M个区块信息对应的默克尔树；默克尔树包括默克尔树根；数据生成单元，用于根据子链位图和默克尔树根生成合并共识数据。其中，分层链网络包含N个业务网络，N为大于或等于M的正整数；M个区块哈希分别对应的业务网络属于N个业务网络；位图生成单元，包括：图获取子单元，用于获取初始子链位图；初始子链位图包含N个业务网络分别对应的子链标识以及每个子链标识对应的标记状态；初始子链位图中的每个子链标识对应的标记状态均为未标记状态；图更新子单元，用于将初始子链位图中，M个区块信息分别对应的子链标识对应的标记状态均更新为标记状态，得到子链位图。其中，上述数据处理装置，还包括：子链数据查询模块，用于接收针对第一子链的数据查询请求；第一子链为第一子链区块所对应的子链；数据查询请求包含第一子链对应的第一子链标识；子链数据查询模块，还用于根据第一子链标识确定查询验证节点，向查询验证节点转发数据查询请求；查询验证节点属于第一验证节点集群；第一验证节点集群中的验证节点均存储有第一子链；子链数据查询模块，还用于接收查询验证节点根据数据查询请求返回的数据查询结果。本申请实施例一方面提供了一种计算机设备，包括：处理器、存储器、网络接口；上述处理器与上述存储器、上述网络接口相连，其中，上述网络接口用于提供数据通信网元，上述存储器用于存储计算机程序，上述处理器用于调用上述计算机程序，以执行本申请实施例中的方法。本申请实施例一方面提供了一种计算机可读存储介质，上述计算机可读存储介质中存储有计算机程序，上述计算机程序适于由处理器加载并执行本申请实施例中的方法。本申请实施例一方面提供了一种计算机程序产品或计算机程序，该计算机程序产品或计算机程序包括计算机指令，该计算机指令存储在计算机可读存储介质中，计算机设备的处理器从计算机可读存储介质读取该计算机指令，处理器执行该计算机指令，使得该计算机设备执行本申请实施例中的方法。在本申请实施例中，第一业务网络对应的子链区块的共识验证统一交由共识网络中的第一验证节点集群完成，不再需要第一业务网络自行组建共识网络，可以减少分层链网络中子链共识的技术与资源负担，此外，子链区块对应的区块信息需要被记录在主链，子链区块的正确性可以直接通过主链中的区块信息进行验证，可以降低共识网络对子链数据正确性的验证难度。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请实施例提供的一种区块链网络的分层结构示意图；图2是本申请实施例提供的一种分层链网络的结构示意图；图3是本申请实施例提供的一种基于分层链网络的数据处理方法的流程示意图；图4是本申请实施例提供的一种主链区块的数据结构示意图；图5是本申请实施例提供的一种默克尔节点验证的示意图；图6是本申请实施例提供的另一种基于分层链网络的数据处理方法的流程示意图；图7是本申请实施例提供的又一种基于分层链网络的数据处理方法的流程示意图；图8是本申请实施例提供的一种基于分层链网络的数据处理装置的结构示意图；图9是本申请实施例提供的另一种基于分层链网络的数据处理装置的结构示意图；图10是本申请实施例提供的又一种基于分层链网络的数据处理装置的结构示意图；图11是本申请实施例提供的一种计算机设备的结构示意图；图12是本申请实施例提供的一种基于分层链网络的数据处理系统。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。请参见图1，图1是本申请实施例提供的一种区块链网络的分层结构示意图。如图1所示的分层结构应用于区块链电子票据系统，在该区块链电子票据系统所对应的区块链网络中，包含部署在公网中的业务网络、和部署在私有云中的共识网络。如图1所示，这里的业务网络可以为图1所示的业务网络100a，且这里的共识网络可以为图1所示的共识网络200a。在如图1所示的业务网络100a中，部署有多个业务节点，这里的多个业务节点具体可以包含图1所示的业务节点110a、业务节点110b、业务节点110c、业务节点110d、业务节点110e、业务节点110f、业务节点110g、…、业务节点110n。其中，需要注意的是，这里将不对部署在该业务网络100a中的业务节点的数量进行限定。如图1所示，对于运行在该业务网络100a中的各个业务节点而言，均可以通过网络通信的形式访问上述共识网络，这里将不对各业务对象通过相应业务节点访问到的共识网络的数量进行限定。应当理解，在如图1所示的共识网络200a中，部署有多个共识节点，这里的多个共识节点具体可以包含图1所示的共识节点11a、共识节点11b、共识节点11c和共识节点11d。需要注意的是，这里不对部署在该共识网络200a中的共识节点的数量进行限定。此外，如图1所示，对于运行在该共识网络200a中的多个共识节点而言，共同维护的区块链具体为图1所示的区块链11e。为便于理解，本申请实施例可以将位于上述区块链电子票据系统中的业务节点和共识节点统称为区块链节点，并可以将参与构成上述区块链电子票据系统的共识网络200a称为核心共识网络，并可以将上述核心共识网络中的各个节点统称为核心节点或核心共识节点。可以理解的是，在上述区块链电子票据系统中，业务网络与核心共识网络之间可以通过路由边界进行交互，由于核心共识网络处于相对安全的私有云中，其互相访问本就有共识机制保证安全，不需要额外加入身份管理和网络控制。而业务节点处于公共网络中，可能会被其他不确定的网络终端访问，因此业务节点以及其他可能的节点接入核心共识网络中的行为需要被严格控制。应当理解，本申请实施例所涉及的区块链是一种分布式数据存储、点对点传输、共识机制以及加密算法等计算机技术的新型应用模式，主要用于对数据按时间顺序进行整理，并加密成账本，使其不可被篡改和伪造，同时可进行数据的验证、存储和更新。区块链本质上是一个去中心化的数据库，该数据库中的每个节点均存储一条相同的区块链。比如，共识网络200a中的每个节点上所存储的区块链均为区块链11e，这里的区块链11e也可以称为上述区块链电子票据系统中的主链，该共识网络200a也可以称为核心共识网络，可以利用该核心共识网络中的共识机制将在这些共识节点中所选取的某个共识节点作为核心共识节点。在上述区块链电子票据系统中，核心节点可以负责对应区块链所在的核心共识网络中的共识，也就是说核心节点可以为对应区块链所在核心共识网络中的共识节点。对于上述核心共识网络而言，将核心共识网络中的业务数据写入对应区块链账本的具体过程可以为，用户客户端发送业务数据至某个业务节点，随后该业务数据以接力棒的方式在上述区块链网络内的业务网络中的业务节点之间传递，直到上述区块链网络内的核心共识网络中的共识节点收到该业务数据，此时，共识节点再将该业务数据打包进区块，以便于后续可以与其他共识节点之间进行共识，从而可以在共识通过后，将共识通过的区块写入自己所在核心共识网络的分布式数据库。其中，可以理解的是，在上述区块链电子票据系统中，可以在核心共识网络的区块链上部署智能合约，该智能合约在区块链电子票据系统中可以理解为是一种由各区块链节点执行的代码，通过该智能合约可以执行任意逻辑并得到结果。比如，用户可以通过用户客户端发起一个交易业务请求的方式，调用相应核心共识网络的区块链上已经部署的智能合约。具体的，业务网络中的业务节点可以将该业务请求发送至相应核心共识网络中的共识节点，以通过相应核心共识网络的链入口对该发送业务请求的用户进行身份鉴权，且在身份鉴权成功时允许将该用户所发送的业务请求发送至相应核心共识网络中的其他共识节点，以调用这些共识节点中运行的智能合约执行该用户所请求的业务。应当理解，在上述核心共识网络的区块链上可以部署一个或多个智能合约，这些智能合约可以通过合约调用地址、合约标识号或合约名称来进行区分，而用户客户端发起的业务请求中，也可以携带智能合约的合约调用地址或者合约标识号或合约名称，以此指定需要运行的智能合约。应当理解，在上述区块链电子票据系统中，共识网络中的任意两个区块链节点之间可以形成点对点网络，该点对点网络所采用的协议是一个运行在传输控制协议协议之上的应用层协议。在分布式系统中，任何设备如服务器、终端等都可以加入而成为区块链节点，其中，每个区块链节点均可以包括硬件层、中间层、操作系统层和应用层。进一步的，在上述区块链网络的分层结构的基础上，本申请实施例还提供一种分层链网络，该分层链网络包括一个或多个包含账本服务节点的业务网络和共识网络。其中，共识网络独立于一个或多个业务网络，共识网络包括共识节点集群和验证节点集群。其中，账本服务节点用于维护子链，验证节点集群用于完成对不同子链的去中心化验证，共识节点集群用于维护主链。账本服务节点可以位于上述图1所示的业务网络中，子链也可以称为局部子链、局部共识子链、局部链等。共识网络中的共识节点集群以及验证节点集群可以位于上述图1所示的共识网络中，主链也可以称为全局共识链、核心链、核心共识链、核心主链等等。可以理解的是，该共识网络下可以对应一个或多个用于处理区域性业务的账本服务节点，即共识网络对应的账本服务节点的数量可以为一个或多个，也就是主链下的子链的数量可以为一个或多个，每个账本服务节点可以用于处理一个区域下的业务节点所提交的业务数据，不同账本服务节点可以用于处理相应区域下的业务节点所提交的业务数据，共识网络可以用于处理全局性的业务数据以及验证节点集群提交的针对子链区块的合并共识请求。应当理解，在该分层链网络所维护的分层链中，一个子链上通常只存储有与该子链相关联的业务数据，即不同区域内的业务节点所关联的业务数据存储在不同的子链上。例如，在上述电子票据系统中，共识网络可以用于进行全局性的票据业务处理，并且，在该共识网络下可以针对多个区域分别部署一个子链，每个账本服务节点可以用于与相应区域内的业务节点进行数据交互，进行区域内的业务处理，如每个账本服务节点可以用于处理每个区域内的征信业务、票据红冲业务等等。该用于进行省级区域内的业务处理的账本服务节点也可以称为省级局部账本服务节点，该省级局部账本服务节点所处的业务环境中的业务节点所构成的网络可以称为省级局部业务网络，该省级局部账本服务节点所维护的子链可以称为省级局部子链。为便于理解，请参见图2，图2是本申请实施例提供的一种分层链网络的结构示意图。如图2所示，该分层链网络中，可以包括业务网络201、业务网络202以及共识网络203。其中，业务网络201与业务网络202之间对应的区域或者业务环境可以不同，其均属于上述图1所示的业务网络，应当理解，该分层链网络中还可以包含其他的业务网络。其中，业务网络201中部署有账本服务节点21，账本服务节点21中可以集成安装有主链SPV账本以及轻量级子链引擎，其中，主链SPV账本用于完成主链账本的同步和与主链的相关交互，轻量级子链引擎可以看成是一个单机的区块链生成服务，可以用于维护局部子链，并对相应区域内的业务节点提交的业务数据进行处理。可以理解的是，在该分层链网络中，可以包括一个或者多个业务网络，每个业务网络中均部署有一个账本服务节点，该账本服务节点用于进行相应区域的业务数据的处理，此处仅以业务环境A对应的业务网络201和其包含的账本服务节点21作为示例进行描述，其他业务环境对应的业务网络以及账本服务节点，如业务环境B对应的业务网络202以及其包含的账本服务节点22，可以参照该业务网络201以及账本服务节点21的相关描述，此处不做赘述。如图2所示，共识网络203中的共识节点集群23可以用于维护分层链中的主链，并进行全局性的业务处理，如进行全局性的电子票据业务处理，该共识节点集群23中可以包括多个共识节点，例如图2所示的共识节点23a、共识节点23b、共识节点23c、共识节点23d。共识网络203中的验证节点集群24可以用于帮助子链进行共识验证，该验证节点集群24中可以包括多个验证节点，例如图2所示的验证节点24a、验证节点24b、验证节点24c、验证节点24d。需要说明的是，验证节点集群24中包含的验证节点数量足够多时，可以为多个业务网络对应的子链做共识验证，此时，可以在共识网络203中部署调度节点25，该调度节点25用于对大量的验证节点进行调度。验证节点集群24中的验证节点可以检测不同的子链账本，即不同的验证节点可以负责不同子链的共识验证，当验证节点的算力资源足够时，也可以负责多个子链的共识验证，例如图2所示的验证节点24a可以检测A子链账本和B子链账本，验证节点24c可以检测A子链账本和C子链账本，也就是说，验证节点24a需要负责A子链和B子链的共识验证，验证节点24c需要负责A子链和C子链的共识验证。其中，A子链可以是对应业务网络201对应的子链，B子链可以是业务网络202对应的子链，C子链可以是其他业务网络对应的子链。可以理解，负责同一个子链的共识验证的验证节点可以组成该子链对应的验证节点集群，例如图2所示的验证节点24a、验证节点24b以及验证节点24c均可以属于A子链对应的验证节点集群。可以理解的是，业务网络包含的账本服务节点所维护的子链可以在共识网络所维护的主链上进行注册，从而可以得到由该注册成功的业务网络和共识网络所构成的分层链网络。可以理解的是，在主链上注册子链时，业务对象可以向核心共识节点发送针对子链的注册业务数据和配置业务数据，以激活账本服务节点，并可以在账本服务节点上创建子链中的创世区块以启动子链，从而完成子链的创建。账本服务节点可以从主链上同步写入有注册业务数据的目标共识区块，该注册业务数据是指向核心共识节点申请注册子链的业务数据，目标共识区块中还包含注册业务数据对应的配置业务数据，该配置业务数据携带有子链的链标识和子链上的创世区块的配置信息，然后从目标共识区块中获取配置信息，在对配置信息进行信息验证成功后，在账本服务节点中创建创世区块，并基于创世区块启动子链。在第一次启动子链时，还需要为该子链分配对应的验证节点集群，共识网络中的调度节点在接收到携带有子链的链标识的验证节点集群分配请求后，会在验证节点集群中选择部分验证节点作为该子链对应的验证节点集群。可以理解的是，账本服务节点21可以与共识网络203之间可以进行数据交互，从而可以在该账本服务节点与共识网络相互协作的前提下，构造一个安全且高效的业务流系统。可以理解的是，基于该分层链网络的结构的电子票据系统，可以有助于层级化地业务治理，可以保障各区域相对独立地运行本区域级别的业务，也不需要把整个业务联盟的流量全部汇集到全局共识链。在起到数据隔离、业务隐私隔离、合法合规的前提下，能够保障全局共识网络不需要承载大量的细分业务，专注于关键任务和全局治理。可以理解的是，提交至账本服务节点的业务数据不会转发到共识网络中的共识节点集群，而是只需要在账本服务节点中进行局部的打包进行子链区块中，然后被账本服务节点执行后写入账本服务节点中的子链中。不过，此时子链区块对应的子链区块是不被主链所认可的，即可以认为其还不够可靠，子链区块还需要在共识网络中对应的验证节点集群中进行共识验证，在验证节点集群对子链区块的共识通过后，该验证节点集群可以向共识节点集群提交携带子链区块的区块信息和子链共识结果的合并共识请求，与主链一起进行合并共识出块，即由共识节点集群在确定子链共识结果为共识通过结果时，将该子链区块对应的区块信息打包至共识节点集群所生成的区块中。例如，账本服务节点21可以执行基于电子票据进行抽奖的业务，在账本服务节点21在接收到相应区域内的业务节点提交的抽奖业务数据后，账本服务节点21不会将每个抽奖业务数据转发至共识网络中的共识节点集群，而是自主地进行抽奖业务数据的处理，然后先将对应的抽奖结果写入子链中，但此时的抽奖结果还不被主链认可，账本服务节点21还需要将包含抽奖业务数据的子链区块以及区块执行结果发送至调度节点25，由调度节点25将子链区块以及区块执行结果发送至账本服务节点21对应的验证节点集群，由验证节点集群完成对子链区块以及区块执行结果对应的区块链共识，再子链共识结果为共识通过结果时，将子链区块对应的区块信息提交至共识节点集群，与主链中的区块一起进行合并共识。当主链中存储有包含该子链区块的区块信息的区块时，可以认为抽奖结果被主链认可，即可信。可以理解的是，在该分层链网络中，业务网络201可以与共识网络202之间可以通过省级主链SPV节点进行数据交互。在该多层区块链网络中，可以包括多个省级主链SPV节点，各个省级主链SPV节点的角色、数据和权限是完全相同的，如可以包括2个省级主链SPV节点，以表示服务双活。例如，省级主链SPV节点可以将共识网络中202所维护的主链的账本数据同步至业务网络201中的账本服务节点21，以便于账本服务节点21可以基于主链的账本数据进行业务处理以及确认子链中的子链区块是否被主链验证。另外，可以将账本服务节点21所连接的省级主链SPV节点26a以及核心网络入口204称为业务网络201与共识网络203之间的分层链通道，此时可以认为业务网络201与共识网络203之间通过分层链通道进行数据交互。可以理解的是，省级主链SPV节点也可以接收各个业务对象通过用户客户端提交的核心业务数据，例如业务对象在需要对子链进行归档时可以提交用于指示对子链上的区块数据进行归档的归档配置业务数据，进而省级主链SPV节点可以将接收到的核心业务数据转发到共识网络入口204，以便于该共识网络入口204可以将接收到的核心业务数据转发至用于处理该业务数据的核心共识节点，例如图2中的核心共识节点23a、核心共识节点23b、核心共识节点23c等等。此外，省级主链SPV节点还可以接收账本服务节点发送的子链区块以及区块执行结果，并将账本服务节点发送的子链区块以及区块执行结果转发至共识网络入口204，以便于共识网络入口204可以将接收到的子链区块以及区块执行结果转发至调度节点25，再由调度节点25将子链区块以及区块执行结果发送至相应的验证节点集群中进行区块链共识，得到子链共识结果，在子链共识结果为共识通过时，再将子链区块对应的区块信息发送至核心共识节点，使得核心共识节点可以将该子链区块对应的区块信息上链至主链。可以理解的是，该分层链网络中的业务节点可以为SPV节点，如图2中的业务网络201中包含的业务SPV节点27a、27b、27c。业务网络201中的业务节点可以与账本服务节点21进行数据交互以进行区域性的业务处理。例如，账本服务节点21可以接收业务SPV节点发送的针对子链的业务数据，进而账本服务节点21验证接收到的业务数据的合法性，并对验证通过的业务数据进行打包执行，以实现将业务数据上链至该子链。其中，可以理解的是，SPV节点一般会与邻近节点的连接中设置BoomFilter，例如，省级主链SPV节点的邻近节点为共识网络中的核心共识节点，业务SPV节点的邻近节点为账本服务节点。当邻近节点看到一个业务数据与SPV节点的BoomFilter condition符合的话，他就会用merkleblock消息给该SPV节点发送一个区块；其中，merkleblock消息包含了BlockHead和一个连接到该业务数据的Merkle Root的一个Merkle路径；SPV节点可以利用该merkle路径把业务数据和包含业务数据的区块联系起来，并用BlockHead来校验包含该业务数据的区块是在区块链上的且已经过了多少确认的。这两个验证可以证明该业务数据是存在于区块链上的，SPV节点可以从邻近节点中同步到相应的业务数据。基于上述描述，本申请实施例提出一种基于分层链网络的数据处理方案，能够在分层链网络的基础架构中，在第一业务网络中部署账本服务节点，进而可以由账本服务节点在获取到第一业务网络中的业务节点发送的业务数据时，将业务数据打包进第一子链区块中，执行第一子链区块，得到区块执行结果，然后将第一子链区块以及区块执行结果写入第一业务网络对应的第一子链中，再将第一子链区块以及区块执行结果发送至共识网络中的调度节点，调度节点会将第一子链区块以及区块执行结果发送至共识网络中的第一验证节点集群，第一验证节点集群会对第一子链区块以及区块执行结果进行区块链共识，得到子链共识结果，再将子链共识结果以及第一子链区块对应的第一区块信息一起发送至共识网络中的共识节点集群，共识节点集群会在确定子链共识结果为共识通过结果时，将第一区块信息打包至新的区块中一起写入主链，当共识网络对应的主链中，存储有包含第一区块信息的区块时，确定第一子链中的第一子链区块属于主链已验证的区块。采用本方案，可以减少分层链网络中子链共识的技术与资源负担，降低共识网络对子链数据正确性的验证难度。其中，可以理解的是，本申请实施例所涉及的节点可以是服务器，也可以是终端设备，还可以是其他进行数据处理的设备，此处不做限制。其中，服务器可以是独立的物理服务器，也可以是多个物理服务器构成的服务器集群或者分布式系统，还可以是提供云服务、云数据库、云计算、云函数、云存储、网络服务、云通信、中间件服务、域名服务、安全服务、CDN、以及大数据和人工智能平台等基础云计算服务的云服务器，此处不做限制。上述终端设备包括但不限于手机、电脑、智能语音交互设备、智能家电、车载终端、飞行器、智能音箱、智能家电等。需要说明的是，本申请实施例中的节点在获取业务对象的数据时，可以显示提示界面或者弹窗，该提示界面或者弹窗用于提示业务对象当前正在搜集对象标识、企业的人员信息、企业的客户信息等数据，仅仅在获取到业务对象对该提示界面或者弹窗发出确认操作后，开始执行数据获取的相关的步骤，否则结束。此外，可以理解的是，在本申请的具体实施方式中，可能涉及到用户、企业、机构等业务对象的业务数据，当本申请以上实施例运用到具体产品或技术中时，需要获得用户、企业、机构等业务对象的许可或同意，且相关数据的收集、使用和处理需要遵守相关地区的相关法律法规和标准。可以理解，上述场景仅是作为示例，并不构成对于本申请实施例提供的技术方案的应用场景的限定，本申请的技术方案还可应用于其他场景。例如，本领域普通技术人员可知，随着系统架构的演变和新业务场景的出现，本申请实施例提供的技术方案对于类似的技术问题，同样适用。基于上述的描述，本申请实施例提出一种基于分层链网络的数据处理方法。请参见图3，图3是本申请实施例提供的一种基于分层链网络的数据处理方法的流程示意图。其中，分层链网络包括共识网络和第一业务网络；共识网络包含调度节点、第一验证节点集群和共识节点集群；第一业务网络独立于共识网络；第一业务网络与共识网络通过第一分层链通道进行数据交互；该方法由计算机设备执行；其中，计算机设备可以是第一业务网络中的账本服务节点；该基于分层链的数据处理方法至少可以包括以下步骤S101-步骤S104：步骤S101，在获取到第一业务网络中的业务节点发送的业务数据时，将所述业务数据打包进第一子链区块中，执行所述第一子链区块，得到区块执行结果。具体的，业务数据是指用于传递业务信息的数据；区块是在区块链网络上承载业务数据的数据包，是一种被标记上时间戳和之前一个区块的哈希值的数据结构，区块经过网络的共识机制验证并确定区块中的业务数据；第一子链区块则是指计算机设备生成的用于承载第一业务网络中的业务数据的数据包。具体的，第一子链区块中可以包含一个或多个业务数据，每个业务数据中可以携带有智能合约的标识号或名称，计算机设备执行第一子链区块的一个可行过程，可以是：遍历读取第一子链区块包含的每个业务数据，根据每个业务数据包含的智能合约的标识号或名称，来运行对应的智能合约，从而得到该业务数据对应的执行结果，遍历结束，则代表第一子链区块执行完成，计算机设备会将第一子链区块包含的所有业务数据对应的执行结果，确定为区块执行结果。具体的，计算机设备中可以集成安装有轻量级子链引擎，轻量级子链引擎可以看成是一个单机的区块链生成服务或者区块链生成组件，其可以实现处理智能合约和区块链上的逻辑执行、管理区块链上的数据存储和检索以及处理区块链网络中的通信和数据传输等功能，可以理解，具体的引擎组成和功能取决于所使用的区块链技术和设计，本申请在此不作限定。计算机设备可以通过轻量级子链引擎接受第一业务网络中各个业务节点发送的业务数据，然后根据业务数据构建成新的子链区块，并进行执行。步骤S102，将所述第一子链区块以及所述区块执行结果写入所述第一业务网络对应的第一子链中。具体的，第一子链是指第一业务网络对应的区块链，可以理解，第一子链仅用于存储第一业务网络中业务节点发送的业务数据。具体的，计算机设备集成安装有轻量级子链引擎时，可以通过轻量级子链引擎将第一子链区块以及区块执行结果写入第一子链中。步骤S103，将所述第一子链区块以及所述区块执行结果发送至调度节点，以使所述调度节点将所述第一子链区块以及所述区块执行结果发送至第一验证节点集群；所述第一验证节点集群用于对所述第一子链区块以及所述区块执行结果进行共识验证；所述第一子链区块对应的第一区块信息用于在所述共识验证的验证结果为共识通过时，被打包至共识节点集群所生成的区块中。具体的，在分层链网络中，共识网络与第一业务网络是两个独立的网络，其中，共识网络可以部署在私有云中，第一业务网络可以部署在公网中，共识网络与第一业务网络可以通过第一分层链通道进行数据交互。其中，第一分层链通道可以包含跨链中继和共识网络对应的核心网络入口，跨链中继是指可以实现数据转发的设备，如上述图2所示的主链SPV节点26a，如图2所示的第一分层链通道是指主链SPV节点26a以及核心网络入口构成的数据转发通道。具体的，共识网络中可以包含有一个验证节点集群，该验证节点集群中可以包含有大量的验证节点，验证节点集群用于帮助分层链网络中的所有业务网络分别对应的子链进行共识验证。可以理解，不同的子链可以对应的不同的验证节点，同一个子链对应的验证节点构成该子链对应的验证节点集群。也就是说，第一验证节点集群可以属于该验证节点集群，如果该分层链网络中还包含第二业务网络，则该验证节点集群还可以包含与第二业务网络对应的第二子链对应的第二验证节点集群。此外，需要说明的是，一个验证节点如果算力资源足够，可以负责多个子链的共识验证，例如，验证节点A可以负责第一子链和第二子链的共识验证，则验证节点A可以既属于第一验证节点集群，也属于第二验证节点集群。可以理解，验证节点集群化的方式可以保证算力集中安全地管理，同时一个大的验证者集群可以为子链做共识计算，节约了业务网络中的子链的共识算力，以及简化了其需要多节点共识的部署架构。具体的，调度节点用于对共识网络中的验证节点集群进行调度，例如，将接收的第一子链区块以及其对应的区块执行结果发送至第一子链对应的第一验证节点集群。第一验证节点集群接收到第一子链区块以及区块执行结果后，会对第一子链区块以及区块执行结果进行共识验证，得到验证结果，然后，第一验证节点集群会将共识验证的验证结果和第一子链区块对应的第一区块信息发送至共识节点集群。其中，第一子链区块对应的第一区块信息可以是用于标识第一子链区块的相关信息，如，第一子链区块包含的区块头信息，或者是第一子链区块对应的区块哈希，这里可以根据实际情况选择，本申请在此不作限制。具体的，第一验证节点集群对第一子链区块以及区块执行结果进行共识验证的一个可行实施过程，可以为：第一验证节点集群可以对第一子链区块以及区块执行结果进行验证以及BFT共识投票，得到共识投票结果。其中，BFT 共识是试图让 N 个验证节点就一个无限增长的提案序列达成一致的机制。具体的，当第一验证节点集群得到第一子链区块以及区块执行结果的验证结果后，第一验证节点集群需要将子链共识结果以及第一子链区块对应的第一区块信息发往共识节点集群，和主链一起进行合并共识出块，即在验证结果为共识通过时，共识节点集群会将第一子链区块对应的第一区块信息打包至共识节点集群所生成的区块中。其中， 将第一子链区块对应的第一区块信息打包至共识节点集群所生成的区块中可以是，根据第一区块信息生成合并共识数据，然后将合并共识数据添加至新的区块中。共识节点集群除了对生成的新的区块中的主链业务数据和区块头信息进行校验外，还要对合并共识数据进行校验，都通过才能投出赞同票，当赞同票数量达到目标数量时，才能确定新的区块共识通过，才能将新的区块写入主链中。可以理解，该新的区块中会包含有合并共识数据，而合并共识数据中包含有第一区块信息，即新的区块中会包含第一区块信息。步骤S104，当共识网络对应的主链中，存储有包含所述第一区块信息的区块时，确定所述第一子链中的所述第一子链区块属于所述主链已验证的区块。具体的，计算机设备将第一子链区块写入第一子链与共识网络中的第一验证节点集群对第一子链区块进行区块链共识的过程可以是异步进行的。不过，在本申请中，第一子链区块被写入第一子链，但第一子链区块对应的第一区块信息还未被写入主链时，可以认为第一子链区块还未被主链验证，即此时第一子链区块对应的区块执行结果未被主链承认，可以认为其是不可靠的。当共识网络对应的主链中，存储有包含第一区块信息的区块时，可以认为第一子链区块经过了主链的验证，此时可以认为第一子链区块对应的区块执行结果是可靠的。可选的，计算机设备中也可以存储有一条共识网络对应的主链，每当主链中有新的区块通过共识，不仅共识节点会将新的区块添加至本地存储的主链中，计算机设备也会通过第一分层链通道同步该新的区块，然后写入自己存储的主链中。可选的，计算机设备中可以集成安装有主链SPV账本模块，该主链SPV账本模块主要相当于SPV的功能，用于完成与主链账本的同步和与主链的相关交互。此外，主链SPV账本模块与上述轻量级子链引擎两个模块可以共同组成一个局部共识账本组织服务，当第一业务网络中的任一节点集成安装有局部共识账本组织服务时，可以认为该节点是本申请实施例所述的计算机设备。可选的，计算机设备在接收共识网络对应的主链区块后，可以在共识网络对应的主链中同步主链区块，即将接收到的主链区块写入自己存储的主链中。其中，主链区块为通过共识节点集群共识的区块。然后，每当计算机设备接收到新的主链区块时，计算机设备均需要验证新写入的主链区块中是否存储有与第一子链相关的子链区块的区块信息。以第一子链区块对应的第一区块信息为例，计算机设备可以对主链区块进行数据查找，得到区块查找结果；若区块查找结果指示在主链区块中查找到第一区块信息，则确定共识网络对应的主链中，存储有包含第一区块信息的区块；若区块查找结果指示在主链区块中未查找到第一区块信息，则确定共识网络对应的主链中，未存储有包含第一区块信息的区块。其中，数据查找是指确定主链区块中是否包含有第一区块信息。可以理解，当计算机设备确定共识网络对应的主链中，存储有包含第一区块信息的区块时，可以确定第一子链区块以及对应的区块执行结果被主链所验证，均是可信的，不再需要额外进行验证，节省了对第一子链区块以及对应的区块执行结果的验证成本和验证时间。具体的，上述对主链区块进行数据查找，得到区块查找结果的一个可行实施过程，可以为：遍历主链区块所包含的业务数据；若未在主链区块中获取到合并共识数据，则确定针对主链区块的区块查找结果指示在主链区块中未查找到第一区块信息；若在主链区块中获取到合并共识数据，则对合并共识数据进行数据查找；若未在合并共识数据中查找到第一区块信息，则确定区块查找结果指示在主链区块中未查找到第一区块信息；若在合并共识数据中查找到第一区块信息，则确定区块查找结果指示在主链区块中查找到第一区块信息。其中，合并共识数据是一种基于合并出块技术所生成的数据，合并共识数据中可以包括分层链网络包含的一个或多个业务网络分别对应的子链区块的区块信息。可以理解，如果未在主链中查找到合并共识数据，则可以认为生成该主链区块时，共识节点集群并没有将任何的子链区块的区块信息写入主链区块，此时可以直接确定主链区块中未包含有第一区块信息；但是如果在主链中查找到合并共识数据，也不能直接确定主链区块中包含有第一区块信息，因为该条合并共识数据有可能是共识节点集群根据接收到的其他业务网络对应的子链区块的区块信息生成的，因此还需要对合并共识数据进行数据查找，即验证合并共识数据中是否包含有第一区块信息。可以理解，先确定主链区块包含的业务数据中是否包含为合并共识数据的业务数据，可以快速确定主链区块中是否包含有区块信息，因为只有合并共识数据中才包含有区块信息，在确定主链区块中包含合并共识数据后，在对合并共识数据进行详细查找，而不必对每个业务数据进行详细查找，可以加快对第一区块信息的查找速度。具体的，合并出块技术是一种将花在保护一条区块链上的工作量复用、同时保护另一条区块链的技术，此时两条区块链的 PoW使用同一种区块头哈希函数，为便于理解合并出块技术，假设有一条主链B以及一条次级链 S。hB 和hS 分别是B和 S 的两个新区块的区块头，H 是任意一种密码学哈希函数。在生成区块的时候，合并出块的节点必须在建构 hB 的模板时使之明确指向 H ，然后在出块的时候，尝试找出一个 nonce 值，使得 hB 的工作量证明可以满足主链B对应的区块链网络的难度要求，跟只生成主链B的区块没有什么区别。但是，如果节点找到一个主链B的新区块头，其工作量满足次级链的难度要求，那么这个 hB、hS 以及一些额外的区块头关联信息，就成为次级链的一个有效的工作量证明。完整的合并出块生成的新区块中可以包含这个工作量证明以及其他专属于这条链的数据。这个区块会发到次级区块链的网络中，添加到次级区块链上。有了合并出块技术，一份力气就可以创建两种不同的工作量证明。不过，本申请中，合并出块时不是基于算力，而是在BFT共识的基础上进行合并，但区块头中字段的改造方式是类似的。可以理解，合并共识数据与主链区块包含的主链业务数据对应的数据结构有所不同，因此先在主链区块中查找出合并共识数据，比起在主链区块包含的每一条业务数据中逐个查找第一区块信息，查找速度要快的多。为便于理解，请一并参见图4，图4是本申请实施例提供的一种主链区块的数据结构示意图。如图4所示，主链区块40包含的业务数据默克尔树根41是基于合并共识数据42、业务数据43a、…、业务数据43b、业务数据43n所生成的业务数据默克尔树的根节点哈希值。其中，业务数据43a、…、业务数据43b、业务数据43n均为共识网络接收到的核心业务数据，即针对主链的正常业务数据。其中，默克尔树又称哈希树，是一种用做快速归纳和校验大规模数据完整性的树形数据结构，MerkleTree的叶子节点是数据块的哈希，因此，合并共识数据42、业务数据43a、…、业务数据43b、业务数据43n对应的哈希才是业务数据默克尔树对应的叶子节点，非叶子节点的哈希是根据它下面所有叶子节点值哈希计算得到，如图4所示，默克尔树节点哈希44是对合并共识数据42对应的哈希以及业务数据43a对应的哈希进行哈希计算得到的哈希，默克尔树节点哈希45是对业务数据43b对应的哈希以及业务数据43n对应的哈希进行哈希计算得到的哈希，业务数据默克尔树根41则是对默克尔树节点哈希44以及默克尔树节点哈希45进行哈希计算得到的哈希。合并共识数据42是一种特殊的业务数据，其可以包含一个coinbase字段，因此也可称其为coinbase。可以理解，coinbase的最终输出将在其脚本中包含一个 OP_RETURN 的操作码，其跟着的就是默克尔树根以及子链位图。其中，默克尔树根是共识节点集群根据验证结果为共识通过的一个或多个子链区块分别对应的区块哈希所生成的默克尔树的根节点哈希值。其中，子链位图包含分层链网络包含的每个子链对应的子链标识以及每个子链对应的标记状态，若子链对应的子链状态处于标记状态，则表征默克尔树的生成有涉及该子链对应的子链区块；若子链对应的子链状态处于未标记状态，则表征默克尔树的生成与该子链对应的子链区块无关。如图4所示，合并共识数据42的脚本中包含有默克尔树根46，该默克尔树根46可以是基于子链区块47a、子链区块47b、子链区块47c以及子链区块47d分别对应的区块哈希所生成的，其中，子链区块47a可以是第1子链上的子链区块W，子链区块47b可以是第4子链上的子链区块X，子链区块47c可以是第5子链上的子链区块Y，子链区块47d可以是第7子链上的子链区块Z。此外，合并共识数据42中还包含有辅助证明子链位图，如图4所示，子链位图中表示了1-8…的数字，分别代表了子链标识为1、2、3…的子链，这些子链在注册启动的时候就确定了唯一的子链标识，在分层链网络包含多个子链，且多个子链的子链区块均需要进行合并共识时，子链位图用于表示合并共识数据42中包含了哪些子链的子链区块的区块信息。如图4所示，通过子链位图可知，1、4、5、7子链标识处于已标记状态，表示合并共识数据42中包含有第1子链、第4子链、第4子链以及第7子链上的子链区块分别对应的区块信息。具体的，由上述可知，第一区块信息包括第一子链区块的第一区块哈希；合并共识数据包括默克尔树以及子链位图。其中，默克尔树，可以是辅助证明默克尔树，用于验证合并共识数据包含有哪些子链区块的区块哈希，其是共识节点集群根据验证结果为共识通过的一个或多个子链区块分别对应的区块哈希所生成的。需要说明的是，本申请所有实施例中所提到的默克尔树如果没有其他说明，均可以是辅助证明默克尔树。子链位图包含分层链网络包含的每个子链对应的子链标识以及每个子链标识对应的标记状态；一个子链标识用于唯一标识一个子链。那么对合并共识数据进行数据查找的一个可行实施过程，可以具体概括为：若通过子链位图确定目标子链标识对应的标记状态为未标记状态，则确定未在合并共识数据中查找到第一区块信息；目标子链标识为第一子链标识对应的子链标识；若通过子链位图确定目标子链标识对应的标记状态为已标记状态，则从默克尔树中获取与目标子链标识关联的K个默克尔树节点哈希，K为正整数；根据K个默克尔树节点哈希以及默克尔树对应的默克尔树根哈希对第一区块哈希进行默克尔节点验证，得到验证结果；若验证结果为验证通过结果，则确定在合并共识数据中查找到第一区块信息；若验证结果为验证不通过结果，则确定未在合并共识数据中查找到第一区块信息。具体的，上述根据K个默克尔树节点哈希以及默克尔树对应的默克尔树根对第一区块哈希进行默克尔节点验证，得到验证结果的一个可行实施过程，可以为：根据K个默克尔树节点哈希在默克尔树中所对应的树节点位置，顺序获取第i个默克尔树节点哈希；i为小于或等于K的正整数；对第i个默克尔树节点哈希与第i-1个验证哈希进行哈希运算，得到第i个验证哈希，直到获取到第K个验证哈希时，对第K个验证哈希与默克尔树根哈希进行比对；i为1时，第i-1个验证哈希为第一区块哈希；若第K个验证哈希与默克尔树根哈希不相同，则确定验证结果为验证不通过结果；若第K个验证哈希与默克尔树根哈希相同，则确定验证结果为验证通过结果。为便于理解上述默克尔节点验证的过程，请一并参见图5，图5是本申请实施例提供的一种默克尔节点验证的示意图。如图5所示，假设H0为需要验证的第一区块哈希，H0对应的子链为第5子链，账本服务节点可以先查询第5子链对应的子链标识5在子链位图中处于已标记状态的子链标识中的位置，确定子链标识5处于第三顺位，说明在默克尔树51中位于第三顺位的叶子节点52为第5子链对应的叶子节点，此时可以将能与叶子节点52一起构成默克尔树根节点55的默克尔树51中的树节点确定为目标节点，即叶子节点53以及默克尔树节点54，可以理解，根据叶子节点52、叶子节点53以及默克尔树节点54分别对应的哈希，可以计算得到默克尔树根节点55对应的哈希，因此，此时账本服务节点获取的K个默克尔树节点哈希就为叶子节点53对应的哈希H3，默克尔树节点54对应的哈希H5。然后，账本服务节点可以将待验证的第一区块哈希H0与哈希H3进行哈希运算，得到验证哈希HK1，然后将哈希H5与待验证哈希HK1进行哈希运算，得到待验证哈希HK2，然后，账本服务节点可以对待验证哈希HK2与默克尔树根节点55对应的默克尔树根哈希H7进行比对，若HK2=H7，则说明默克尔验证通过；若HK2≠H7，则说明默克尔验证不通过。通过本申请实施例提供的方法，业务网络对应的子链区块的共识验证统一交由共识网络中的第一验证节点集群完成，不再需要业务网络自行组建局部共识网络，可以减少分层链网络中子链共识的技术与资源负担，此外，子链区块对应的区块信息需要被记录在主链，子链区块的正确性可以直接通过主链中的区块信息进行验证，可以降低共识网络对子链数据正确性的验证难度。基于上述的描述，本申请实施例提出一种基于分层链网络的数据处理方法。请参见图6，图6是本申请实施例提供的另一种基于分层链网络的数据处理方法的流程示意图。其中，分层链网络包括共识网络和第一业务网络；共识网络包含第一验证节点集群和共识节点集群；第一业务网络独立于共识网络；该方法由计算机设备执行；其中，计算机设备可以是共识网络中的调度节点；该基于分层链网络的数据处理方法至少可以包括以下步骤S201-步骤S203：步骤S201，接收第一子链区块以及所述第一子链区块所对应的区块执行结果；所述第一子链区块是第一业务网络中的账本服务节点根据所述第一业务网络中的业务节点发送的业务数据打包生成的；所述区块执行结果是所述账本服务节点执行所述第一子链区块后得到的。具体的，第一子链区块以及第一子链区块所对应的区块执行结果是第一业务网络中的账本服务节点通过第一分层链通道发送至计算机设备的，该发送过程以及第一子链区块的打包与执行过程可以参见上述图3所对应实施例中步骤S101-步骤S103的具体描述，这里不再进行赘述。步骤S202，在共识网络中确定与所述第一业务网络对应的第一子链关联的第一验证节点集群。具体的，在实际应用中，分层链网络中可以包含一个或多个业务网络，每个业务网络都需要对应有一个验证节点集群，因此，在共识网络中可以集中部署有大量用于帮助子链进行区块链共识的验证节点，所有的验证节点构成一个验证节点集群。在第一子链注册时，计算机设备可以从验证节点集群中选择部分验证节点，来帮助第一子链进行区块链共识，被选择出的部分验证节点就为第一子链对应的第一验证节点集群，也就是说，第一验证节点集群属于验证节点集群。具体的，在共识网络中确定与第一业务网络对应的第一子链关联的第一验证节点集群的一个可行实施过程，可以为：获取子链验证映射表；将子链验证映射表中，与第一子链对应的第一子链标识关联的验证节点确定为第一验证节点集群。其中，子链验证映射表包含一个或多个子链标识以及每个子链标识关联的验证节点；每个验证节点均属于共识网络包含的验证节点集群；一个验证节点关联的子链标识的数量为一个或多个。为便于理解，请参见下述表1，表1是本申请实施例提供的一种子链验证映射表的示例。如表1所示：表1如表1所示，同一个验证节点可以关联有一个或多个子链标识，因此，可以理解，同一个验证节点可以属于不同业务网络关联的验证节点集群。可选的，验证节点集群包含第一验证节点；第一验证节点在子链验证映射表关联H个子链标识，H为正整数；则计算机设备可以获取第一验证节点发送的在共识运行周期内的算力资源占用信息；若算力资源占用信息超过第一算力阈值，则从H个子链标识中获取目标子链标识；在验证节点集群中选择第二验证节点；第二验证节点在共识运行周期内的算力资源占用信息低于第二算力阈值；第一算力阈值大于第二算力阈值；在子链验证映射表中，将目标子链标识关联的第一验证节点更新为第二验证节点。其中，共识运行周期可以是预先设定的时间段，如一天、两小时等等，可以根据实际情况先确定，本申请在此不作限制。其中，算力资源占用信息是第一验证节点在进行子链的区块链共识时，所占用的算力资源的量化指标信息。其中，量化指标信息可以包括中央处理器算力信息、图形处理器算力信息、内存使用信息、网络带宽使用信息、磁盘读写能力信息等多个指标信息中的一个或多个指标信息。其中，第一算力阈值可以包括多个指标信息对应的上限值，当某项指标信息超过其对应的上限值时，可以认为算力资源占用过多，第一验证节点将处于忙碌状态，部分与区块链共识相关联的待处理任务可能需要等待。例如，算力资源占用信息包含内存使用信息这一指标信息时，第一算力阈值应当包括内存使用信息对应的上限值，例如为66%，如果内存使用信息超过66%，说明第一验证节点的内存使用过多。因此，此时可以从第一验证节点需要完成的H个子链的区块链共识任务中，调度出部分子链的区块链共识任务给较为空闲的第二验证节点来完成，从而避免由于验证节点的算力不足而导致的子链的区块链共识的时间过长的问题。可选的，分层链网络还包括第二业务网络；第二业务网络独立于共识网络；则计算机设备可以接收针对第二业务网络的验证节点集群分配请求；验证节点集群分配请求包含第二业务网络对应的第二子链对应的第二子链标识；根据验证节点集群分配请求，确定节点分配数量；从验证节点集群中选择节点分配数量所对应的验证节点，作为第二验证节点集群；在子链验证映射表中，记录第二子链标识与第二验证节点集群的关联关系。步骤S203，将所述第一子链区块以及所述第一子链区块所对应的区块执行结果发送至所述第一验证节点集群，以使所述第一验证节点集群对所述第一子链区块以及所述区块执行结果进行共识验证；所述第一子链区块对应的第一区块信息用于在所述共识验证的验证结果为共识通过时，被打包至共识节点集群所生成的区块中。具体的，第一验证节点集群在完成对第一子链区块以及所述区块执行结果进行区块链共识后，可以将得到的子链共识结果发送至共识节点集群，共识节点集群会根据子链共识结果对第一区块信息与主链中的核心业务数据进行合并出块，具体实现可以参见下述图7所对应实施例中步骤S301-步骤S305的描述。其中，共识验证可以是BFT共识投票，或者其他的共识投票，本申请在此不作限制。采用本申请实施例提供的方法，通过验证节点集群化的方式来完成分层链网络包含的一个或多个子链对应的区块链共识，验证节点集群化的方式可以保证算力集中安全地管理，同时一个大的验证者集群可以为多个子链做共识计算，节约了业务网络中的子链的共识算力，以及简化了其需要多节点共识的部署架构。基于上述的描述，本申请实施例提出一种基于分层链网络的数据处理方法。请参见图7，图7是本申请实施例提供的又一种基于分层链网络的数据处理方法的流程示意图。其中，分层链网络包括共识网络和第一业务网络；共识网络包含第一验证节点集群和共识节点集群；第一业务网络独立于共识网络；该方法由计算机设备执行，其中，计算机设备可以是共识网络中的共识节点；该基于分层链的数据处理方法至少可以包括以下步骤S301-步骤S305：步骤S301，接收第一验证节点集群发送的验证结果；所述验证结果是所述第一验证节点集群对第一子链区块以及区块执行结果进行共识验证后得到的；所述第一子链区块是第一业务网络中的账本服务节点根据所述第一业务网络中的业务节点发送的业务数据打包生成的；所述区块执行结果是所述账本服务节点执行所述第一子链区块后得到的。具体的，第一子链区块以及区块执行结果的生成可以参见上述图3所对应实施例中步骤S101-步骤S103的描述，这里不再进行赘述。步骤S302，若所述验证结果为共识通过，则将所述第一子链区块对应的第一区块信息添加至待打包区块信息集合。具体的，当分层链网络中包含多个业务网络时，待打包区块信息集合中可以包含多个业务网络对应的子链区块对应的区块信息。步骤S303，根据所述待打包区块信息集合生成合并共识数据。具体的，待打包区块信息集合包括M个区块哈希，M为正整数；M个区块哈希包括第一区块哈希；第一区块哈希属于第一区块信息；M个区块哈希分别对应的子链标识不同；一个子链标识用于唯一标识一个业务网络所对应的子链；每个业务网络均属于分层链网络；则根据待打包区块信息集合生成合并共识数据的一个可行实施过程，可以为：根据M个区块信息分别对应的子链标识生成子链位图；根据M个区块信息分别对应的子链标识在子链位图中的位置顺序，生成M个区块信息对应的默克尔树；默克尔树包括默克尔树根；根据子链位图和默克尔树根生成合并共识数据。其中，合并共识数据的结构以及生成过程可以参见上述图4所对应实施例中的合并共识数据42的结构以及生成过程，这里不再进行赘述。具体的，分层链网络包含N个业务网络，N为大于或等于M的正整数；M个区块哈希分别对应的业务网络属于N个业务网络；则根据M个区块信息分别对应的子链标识生成子链位图的一个可行实施过程，可以为：获取初始子链位图；初始子链位图包含N个业务网络分别对应的子链标识以及每个子链标识对应的标记状态；初始子链位图中的每个子链标识对应的标记状态均为未标记状态；将初始子链位图中，M个区块信息分别对应的子链标识对应的标记状态均更新为标记状态，得到子链位图。可以理解，通过预先配置初始子链位图，可以减少每次新建子链位图时对分层链网络包含的业务网络的数量以及对应子链标识的确定，从而加快子链位图的生成速度。步骤S304，将所述合并共识数据打包至主链区块，向共识节点集群发起针对所述主链区块的共识请求，以使所述共识节点集群根据所述共识请求对所述主链区块进行区块共识，得到共识结果。具体的，共识节点集群在对主链区块进行区块链共识的时候，除了对于主链区块中的主链业务数据和区块头信息进行校验外，还要对合并共识数据进行校验，都通过校验才能投出同意共识的赞同票。步骤S305，若所述共识结果为共识通过，将所述主链区块写入共识网络对应的主链中。可选的，计算机设备为共识节点时，可以接收针对第一子链的数据查询请求；第一子链为第一子链区块所对应的子链；数据查询请求包含第一子链对应的第一子链标识；根据第一子链标识确定查询验证节点，向查询验证节点转发数据查询请求；查询验证节点属于第一验证节点集群；第一验证节点集群中的验证节点均存储有第一子链；接收查询验证节点根据数据查询请求返回的数据查询结果。可以理解，共识网络中的共识节点不用包含有第一子链相关的账本数据的，如果需要查询第一子链的账本数据，则共识节点可以从第一子链关联的查询验证节点中同步，可以减少共识节点的存储压力。采用本申请实施例提供的方法，通过引入合并出块技术，将子链的区块链共识的数据确认和检验能力，提升到共识网络中，且实现主链与各个子链区块之间的强绑定关系，能够做到：在共识网络中集中验证者数量计算能力，保证每个子链的共识足够去中心化，且大量的共识和计算过程不需要在业务网络中完成；通过区块绑定增强了全网络多链的正确性，所有子链的账本正确性均可以从主链出发完成验证，节省了主链验证子链区块正确性的时间。请参见图8，图8是本申请实施例提供的一种基于分层链网络的数据处理装置的结构示意图。其中，该基于分层链网络的数据处理装置1可以是运行于计算机设备的一个计算机程序，例如该基于分层链网络的数据处理装置1为一个应用软件；可以理解的是，该基于分层链网络的数据处理装置1可以用于执行本申请实施例提供的基于分层链网络的数据处理方法中的相应步骤。如图8所示，该基于分层链网络的数据处理装置1可以包括：获取模块11、第一写入模块12、第一发送模块13以及第一确定模块14。获取模块11，用于在获取到第一业务网络中的业务节点发送的业务数据时，将业务数据打包进第一子链区块中，执行第一子链区块，得到区块执行结果；第一写入模块12，用于将第一子链区块以及区块执行结果写入第一业务网络对应的第一子链中；第一发送模块13，用于将第一子链区块以及区块执行结果发送至调度节点，以使调度节点将第一子链区块以及区块执行结果发送至第一验证节点集群；第一验证节点集群用于对第一子链区块以及区块执行结果进行共识验证；第一子链区块对应的第一区块信息用于在共识验证的验证结果为共识通过时，被打包至共识节点集群所生成的区块中；第一确定模块14，用于当共识网络对应的主链中，存储有包含第一区块信息的区块时，确定第一子链中的第一子链区块属于主链已验证的区块。其中，获取模块11、第一写入模块12、第一发送模块13以及第一确定模块14的具体实现方式可以参见上述图3所对应实施例中对步骤S101-步骤S104的具体描述，这里不再进行赘述。其中，上述数据处理装置1，还包括：区块接收模块15、第一区块确定模块16以及第二区块确定模块17。区块接收模块15，用于接收共识网络对应的主链区块，在共识网络对应的主链中同步主链区块；主链区块为通过共识节点集群共识的区块；第一区块确定模块16，用于若在主链区块中查找到第一区块信息，则确定共识网络对应的主链中，存储有包含第一区块信息的区块；第二区块确定模块17，用于若在主链区块中未查找到第一区块信息，则确定共识网络对应的主链中，未存储有包含第一区块信息的区块。其中，区块接收模块15、第一区块确定模块16以及第二区块确定模块17的具体实现方式可以参见上述图3所对应实施例中对步骤S101-步骤S104的可选描述，这里不再进行赘述。其中，上述数据处理装置，还包括：数据获取模块18。数据获取模块18，用于若未在主链区块中获取到合并共识数据，则确定在主链区块中未查找到第一区块信息；合并共识数据包括分层链网络包含的一个或多个业务网络分别对应的子链区块的区块信息。其中，数据获取模块18的具体实现方式可以参见上述图3所对应实施例中对步骤S104的可选描述，这里不再进行赘述。其中，上述数据处理装置，还包括：查找模块19以及确定模块110。查找模块19，用于若在主链区块中获取到合并共识数据，则对合并共识数据进行区块信息查找；信息确定模块110，用于若未在合并共识数据中查找到第一区块信息，则确定在主链区块中未查找到第一区块信息；信息确定模块110，还用于若在合并共识数据中查找到第一区块信息，则确定在主链区块中查找到第一区块信息。其中，查找模块19以及确定模块110的具体实现方式可以参见上述图3所对应实施例中对步骤S104的可选描述，这里不再进行赘述。其中，第一区块信息包括第一子链区块对应的第一区块哈希；合并共识数据包括默克尔树以及子链位图；默克尔树是共识节点集群根据共识结果为共识通过结果的一个或多个子链区块分别对应的区块哈希所生成的；子链位图包含分层链网络包含的每个子链对应的子链标识以及每个子链标识对应的标记状态；一个子链标识用于唯一标识一个子链；查找模块19，包括：第一确定单元191、哈希获取单元192、哈希验证单元193以及第二确定单元194。第一确定单元191，用于若通过子链位图确定目标子链标识对应的标记状态为未标记状态，确定未在合并共识数据中查找到第一区块信息；目标子链标识为所述第一子链对应的子链标识；哈希获取单元192，用于若通过子链位图确定目标子链标识对应的标记状态为已标记状态，则从默克尔树中获取与目标子链标识关联的K个默克尔树节点哈希，K为正整数；哈希验证单元193，用于根据K个默克尔树节点哈希以及默克尔树对应的默克尔树根哈希对第一区块哈希进行默克尔节点验证，得到验证结果；第二确定单元194，用于若验证结果为验证通过结果，则确定在合并共识数据中查找到第一区块信息；第二确定单元194，还用于若验证结果为验证不通过结果，则确定未在合并共识数据中查找到第一区块信息。其中，第一确定单元191、哈希获取单元192、哈希验证单元193以及第二确定单元194的具体实现方式可以参见上述图3所对应实施例中对步骤S104的可选描述，这里不再进行赘述。其中，哈希验证单元193具体用于根据K个默克尔树节点哈希在默克尔树中所对应的树节点位置，顺序获取第i个默克尔树节点哈希；i为小于或等于K的正整数；对第i个默克尔树节点哈希与第i-1个验证哈希进行哈希运算，得到第i个验证哈希，直到获取到第K个验证哈希时，对第K个验证哈希与默克尔树根哈希进行比对；i为1时，第i-1个验证哈希为第一区块哈希；若第K个验证哈希与默克尔树根哈希不相同，则确定验证结果为验证不通过结果；若第K个验证哈希与默克尔树根哈希相同，则确定验证结果为验证通过结果。进一步地，请参见图9，图9是本申请实施例提供的另一种基于分层链网络的数据处理装置的结构示意图。其中，该基于分层链网络的数据处理装置2可以是运行于计算机设备的一个计算机程序，例如该基于分层链网络的数据处理装置2为一个应用软件；可以理解的是，该基于分层链网络的数据处理装置1可以用于执行本申请实施例提供的基于分层链网络的数据处理方法中的相应步骤。如图9所示，该基于分层链网络的数据处理装置2可以包括：第一接收模块21、第二确定模块22以及第二发送模块23。第一接收模块21，用于接收第一子链区块以及第一子链区块所对应的区块执行结果；第一子链区块是第一业务网络中的账本服务节点根据第一业务网络中的业务节点发送的业务数据打包生成的；区块执行结果是账本服务节点执行第一子链区块后得到的；第二确定模块22，用于在共识网络中确定与第一业务网络对应的第一子链关联的第一验证节点集群；第二发送模块23，用于将第一子链区块以及第一子链区块所对应的区块执行结果发送至第一验证节点集群，以使第一验证节点集群对第一子链区块以及区块执行结果进行共识验证；第一子链区块对应的第一区块信息用于在共识验证的验证结果为共识通过时，被打包至共识节点集群所生成的区块中。其中，第一接收模块21、第二确定模块22以及第二发送模块23的具体实现方式可以参见上述图6所对应实施例中对步骤S201-步骤S203的具体描述，这里不再进行赘述。其中，共识网络还包含验证节点集群；第一验证节点集群属于验证节点集群；第二确定模块22，包括：表获取单元221以及集群确定单元222。表获取单元221，用于获取子链验证映射表；子链验证映射表包含一个或多个子链标识以及每个子链标识关联的验证节点；每个验证节点均属于验证节点集群；一个验证节点关联的子链标识的数量为一个或多个；集群确定单元222，用于将子链验证映射表中，与第一子链对应的第一子链标识关联的验证节点确定为第一验证节点集群。其中，表获取单元221以及集群确定单元222的具体实现方式可以参见上述图6所对应实施例中对步骤S202的具体描述，这里不再进行赘述。其中，验证节点集群包含第一验证节点；第一验证节点在子链验证映射表关联H个子链标识，H为正整数；上述数据处理装置2，还包括：节点调度模块24。节点调度模块24，用于获取第一验证节点发送的在共识运行周期内的算力资源占用信息；节点调度模块24，还用于若算力资源占用信息超过第一算力阈值，则从H个子链标识中获取目标子链标识；节点调度模块24，还用于在验证节点集群中选择第二验证节点；第二验证节点在共识运行周期内的算力资源占用信息低于第二算力阈值；第一算力阈值大于第二算力阈值；节点调度模块24，还用于在子链验证映射表中，将目标子链标识关联的第一验证节点更新为第二验证节点。其中，节点调度模块24的具体实现方式可以参见上述图6所对应实施例中对步骤S202的可选描述，这里不再进行赘述。其中，分层链对应的分层链网络还包括第二业务网络；第二业务网络独立于共识网络；上述数据处理装置2，还包括：节点分配模块25。节点分配模块25，用于通过第二分层链通道接收针对第二业务网络的验证节点集群分配请求；验证节点集群分配请求包含第二业务网络对应的第二子链对应的第二子链标识；节点分配模块25，还用于根据验证节点集群分配请求，确定节点分配数量；节点分配模块25，还用于从验证节点集群中选择节点分配数量所对应的验证节点，作为第二验证节点集群；节点分配模块25，还用于在子链验证映射表中，记录第二子链标识与第二验证节点集群的关联关系。其中，节点分配模块25的具体实现方式可以参见上述图6所对应实施例中对步骤S202的可选描述，这里不再进行赘述。请参见图10，图10是本申请实施例提供的又一种基于分层链网络的数据处理装置的结构示意图。其中，该基于分层链网络的数据处理装置3可以是运行于计算机设备的一个计算机程序，例如该基于分层链网络的数据处理装置3为一个应用软件；可以理解的是，该基于分层链网络的数据处理装置3可以用于执行本申请实施例提供的基于分层链网络的数据处理方法中的相应步骤。如图10所示，该基于分层链网络的数据处理装置3可以包括：第二接收模块31、添加模块32、生成模块33、共识模块34以及第二写入模块35。第二接收模块31，用于接收第一验证节点集群发送的验证结果；验证结果是第一验证节点集群对第一子链区块以及区块执行结果进行共识验证后得到的；第一子链区块是第一业务网络中的账本服务节点根据第一业务网络中的业务节点发送的业务数据打包生成的；区块执行结果是账本服务节点执行第一子链区块后得到的；添加模块32，用于若验证结果为共识通过，则将第一子链区块对应的第一区块信息添加至待打包区块信息集合；生成模块33，用于根据待打包区块信息集合生成合并共识数据；共识模块34，用于将合并共识数据打包至主链区块，向共识节点集群发起针对主链区块的共识请求，以使共识节点集群根据共识请求对主链区块进行区块链共识，得到共识结果；第二写入模块35，用于若共识结果为共识通过，将主链区块写入共识网络对应的主链中。其中，第二接收模块31、添加模块32、生成模块33、共识模块34以及第二写入模块35的具体实现方式可以参见上述图7所对应实施例中对步骤S301-步骤S305的具体描述，这里不再进行赘述。其中，待打包区块信息集合包括M个区块哈希，M为正整数；M个区块哈希包括第一区块哈希；第一区块哈希属于第一区块信息；M个区块哈希分别对应的子链标识不同；一个子链标识用于唯一标识一个业务网络所对应的子链；每个业务网络均属于分层链网络；生成模块33，包括：位图生成单元331、树生成单元332以及数据生成单元333。位图生成单元331，用于根据M个区块信息分别对应的子链标识生成子链位图；树生成单元332，用于根据M个区块信息分别对应的子链标识在子链位图中的位置顺序，生成M个区块信息对应的默克尔树；默克尔树包括默克尔树根；数据生成单元333，用于根据子链位图和默克尔树根生成合并共识数据。其中，位图生成单元331、树生成单元332以及数据生成单元333的具体实现方式可以参见上述图7所对应实施例中对步骤S303的具体描述，这里不再进行赘述。其中，分层链网络包含N个业务网络，N为大于或等于M的正整数；M个区块哈希分别对应的业务网络属于N个业务网络；位图生成单元331，包括：图获取子单元3311以及图更新子单元3312。图获取子单元3311，用于获取初始子链位图；初始子链位图包含N个业务网络分别对应的子链标识以及每个子链标识对应的标记状态；初始子链位图中的每个子链标识对应的标记状态均为未标记状态；图更新子单元3312，用于将初始子链位图中，M个区块信息分别对应的子链标识对应的标记状态均更新为标记状态，得到子链位图。其中，图获取子单元3311以及图更新子单元3312的具体实现方式可以参见上述图7所对应实施例中对步骤S303的具体描述，这里不再进行赘述。其中，上述数据处理装置3，还包括：子链数据查询模块36。子链数据查询模块36，用于接收针对第一子链的数据查询请求；第一子链为第一子链区块所对应的子链；数据查询请求包含第一子链对应的第一子链标识；子链数据查询模块36，还用于根据第一子链标识确定查询验证节点，向查询验证节点转发数据查询请求；查询验证节点属于第一验证节点集群；第一验证节点集群中的验证节点均存储有第一子链；子链数据查询模块36，还用于接收查询验证节点根据数据查询请求返回的数据查询结果。其中，子链数据查询模块36的具体实现方式可以参见上述图7所对应实施例中对步骤S305的可选描述，这里不再进行赘述。请参见图11，图11是本申请实施例提供的一种计算机设备的结构示意图。如图11所示，上述任一实施例中的数据处理装置可以应用于计算机设备1000，该计算机设备1000可以包括：处理器1001，网络接口1004和存储器1005，此外，上述计算机设备1000还可以包括：用户接口1003，和至少一个通信总线1002。其中，通信总线1002用于实现这些组件之间的连接通信。其中，用户接口1003可以包括显示屏、键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口。存储器1005可以是高速RAM存储器，也可以是非不稳定的存储器，例如至少一个磁盘存储器。存储器1005可选的还可以是至少一个位于远离前述处理器1001的存储装置。如图11所示，作为一种计算机可读存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及设备控制应用程序。在如图11所示的计算机设备1000中，网络接口1004可提供网络通讯网元；而用户接口1003主要用于为用户提供输入的接口；而处理器1001可以用于调用存储器1005中存储的设备控制应用程序，以实现前文图3、图6、图7任一个所对应实施例中对该数据处理方法的描述，在此不再赘述。另外，对采用相同方法的有益效果描述，也不再进行赘述。此外，这里需要指出的是：本申请实施例还提供了一种计算机可读存储介质，且上述计算机可读存储介质中存储有前文提及的数据处理装置1所执行的计算机程序，且上述计算机程序包括程序指令，当上述处理器执行上述程序指令时，能够执行前文图3、图6、图7任一个所对应实施例中对上述数据处理方法的描述，因此，这里将不再进行赘述。另外，对采用相同方法的有益效果描述，也不再进行赘述。对于本申请所涉及的计算机可读存储介质实施例中未披露的技术细节，请参照本申请方法实施例的描述。上述计算机可读存储介质可以是前述任一实施例提供的数据处理装置或者上述计算机设备的内部存储单元，例如计算机设备的硬盘或内存。该计算机可读存储介质也可以是该计算机设备的外部存储设备，例如该计算机设备上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，该计算机可读存储介质还可以既包括该计算机设备的内部存储单元也包括外部存储设备。该计算机可读存储介质用于存储该计算机程序以及该计算机设备所需的其他程序和数据。该计算机可读存储介质还可以用于暂时地存储已经输出或者将要输出的数据。此外，这里需要指出的是：本申请实施例还提供了一种计算机程序产品或计算机程序，该计算机程序产品或计算机程序包括计算机指令，该计算机指令存储在计算机可读存储介质中。计算机设备的处理器从计算机可读存储介质读取该计算机指令，处理器执行该计算机指令，使得该计算机设备执行前文图3、图6、图7任一个所对应实施例提供的方法。请参见图12，图12是本申请实施例提供的一种基于分层链网络的数据处理系统。如图12所示，该数据处理系统2000可以包括账本服务设备2001、调度设备2002以及共识设备2003。其中，上述图8所对应实施例中的数据处理装置1可以应用于账本服务设备2001，账本服务设备2001可以是前文图3所对应实施例中所述的计算机设备，可以用于执行前文图3所对应实施例对该数据处理方法的描述，其结构可以参见上述图11所对应实施例中的计算机设备，在此不再赘述。其中，上述图9所对应实施例中的数据处理装置2可以应用于调度设备2002，调度设备2002可以是前文图6所对应实施例中所述的计算机设备，可以用于执行前文图6所对应实施例对该数据处理方法的描述，其结构可以参见上述图11所对应实施例中的计算机设备，在此不再赘述。其中，上述图10所对应实施例中的数据处理装置3可以应用于共识设备2003，共识设备2003可以是前文图7所对应实施例中所述的计算机设备，可以用于执行前文图7所对应实施例对该数据处理方法的描述，其结构可以参见上述图11所对应实施例中的计算机设备，在此不再赘述。另外，采用相同方法的有益效果描述，也不再进行赘述。在如图12所示的数据处理系统2000中，账本服务设备2001可以位于分层链网络中的业务网络中，调度设备2002以及共识设备2003可以位于分层链网络中的共识网络中，账本服务设备2001与调度设备2002之间可以通过分层链通道进行通信，调度设备2002与共识设备2003同位于共识网络中，可以直接通过网络连接进行通信。本申请实施例的说明书和权利要求书及附图中的术语“第一”、“第二”等是用于区别不同对象，而非用于描述特定顺序。此外，术语“包括”以及它们任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、装置、产品或设备没有限定于已列出的步骤或模块，而是可选地还包括没有列出的步骤或模块，或可选地还包括对于这些过程、方法、装置、产品或设备固有的其他步骤单元。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照网元一般性地描述了各示例的组成及步骤。这些网元究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的网元，但是这种实现不应认为超出本申请的范围。以上所揭露的仅为本申请较佳实施例而已，当然不能以此来限定本申请之权利范围，因此依本申请权利要求所作的等同变化，仍属本申请所涵盖的范围。
