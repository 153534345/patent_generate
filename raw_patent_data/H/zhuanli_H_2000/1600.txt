标题title
一种消除阳光干扰的铁路车辆图像采集方法及系统
摘要abst
本发明的一种消除阳光干扰的铁路车辆图像采集方法及系统，涉及一种消除图像干扰的处理方法和系统。目的是为了解决现有图像采集模块中，过宽的滤光片带宽会导致抗阳光干扰的性能减弱，会对图像产生较大的阳光干扰的问题，其中方法具体步骤如下：步骤一、以设定的频闪频率生成和关闭条形的锁定波长激光；步骤二、以2倍的频闪频率对相机视野内物体进行拍摄得到待处理图像；待处理图像中包括多组数据，每组数据中均包括有光数据和对应的无光数据；步骤三、对待处理图像进行处理，使每组数据中的有光数据减去无光数据得到有效数据，保留有效数据并删除无光数据，得到消除阳光干扰的图像；有光数据、无光数据和有效数据均为相应的像素值。
权利要求书clms
1.一种消除阳光干扰的铁路车辆图像采集方法，其特征在于，具体步骤如下：步骤一、以设定的频闪频率生成和关闭条形的锁定波长激光；步骤二、以2倍的频闪频率对相机视野内物体进行拍摄得到待处理图像；所述待处理图像中包括多组数据，每组数据中均包括有光数据和对应的无光数据；所述以2倍的频闪频率进行拍摄为：于锁定波长激光的补偿下拍摄相机视野内物体的一行图像，得到一组数据中的有光数据；再于锁定波长激光关闭时拍摄相机视野内物体的同一行图像，得到一组数据中的无光数据；步骤三、对所述待处理图像进行处理，使每组数据中的有光数据减去无光数据得到有效数据，保留有效数据并删除无光数据，得到消除阳光干扰的图像；所述有光数据、无光数据和有效数据均为相应的像素值。2.根据权利要求1所述的一种消除阳光干扰的铁路车辆图像采集方法，其特征在于，锁定波长激光的波长为808±0.5nm，光功率为20w。3.根据权利要求2所述的一种消除阳光干扰的铁路车辆图像采集方法，其特征在于，步骤一中包括：步骤一一、以设定的频闪频率生成和关闭锁定波长激光；步骤一二、将锁定波长激光整形为条形。4.根据权利要求3所述的一种消除阳光干扰的铁路车辆图像采集方法，其特征在于，步骤一中还包括：通过温度控制稳定锁定波长激光输出的波长及功率。5.根据权利要求4所述的一种消除阳光干扰的铁路车辆图像采集方法，其特征在于，步骤三中，消除阳光干扰的图像的行数为待处理图像的行数的一半。6.一种消除阳光干扰的铁路车辆图像采集系统，其特征在于，包括：脉冲锁波激光光源、线阵相机和图像处理单元；所述脉冲锁波激光光源，用于以设定的频闪频率生成和关闭条形的锁定波长激光；所述线阵相机，用于以2倍的频闪频率对相机视野内物体进行拍摄得到待处理图像；所述待处理图像中包括多组数据，每组数据中均包括有光数据和对应的无光数据；所述以2倍的频闪频率进行拍摄为：于锁定波长激光的补偿下拍摄相机视野内物体的一行图像，得到一组数据中的有光数据；再于锁定波长激光关闭时拍摄相机视野内物体的同一行图像，得到一组数据中的无光数据；图像处理单元，对所述待处理图像进行处理，使每组数据中的有光数据减去无光数据得到有效数据，保留有效数据并删除无光数据，得到消除阳光干扰的图像；所述有光数据、无光数据和有效数据均为相应的像素值。7.根据权利要求6所述的一种消除阳光干扰的铁路车辆图像采集系统，其特征在于，所述脉冲锁波激光光源生成的锁定波长激光的波长为808±0.5nm，光功率为20w。8.根据权利要求7所述的一种消除阳光干扰的铁路车辆图像采集系统，其特征在于，所述脉冲锁波激光光源包括脉冲锁波激光器和激光整形棱镜；所述脉冲锁波激光器，用于以设定的频闪频率生成和关闭锁定波长激光；所述激光整形棱镜，用于将锁定波长激光整形为条形。9.根据权利要求8所述的一种消除阳光干扰的铁路车辆图像采集系统，其特征在于，还包括温控装置；所述温控装置，用于通过温度控制稳定锁定波长激光输出的波长及功率。10.根据权利要求9所述的一种消除阳光干扰的铁路车辆图像采集系统，其特征在于，图像处理单元所处理得到的消除阳光干扰的图像的行数为待处理图像的行数的一半。
说明书desc
技术领域本发明涉及一种消除图像干扰的处理方法和系统。背景技术现有技术的线阵图像采集模块主要由相机、滤光片、镜头、激光器组成，相机拍照时由激光器提供光源补偿，由于激光器的波长存在误差，且波长会随着温度漂移，所以对应线阵相机的滤光片带宽不可过窄，但过宽的滤光片带宽会导致抗阳光干扰的性能减弱，在室外铁路轨边阳光正对线阵相机或稍偏时会对图像产生较大的阳光干扰。发明内容本发明的目的是为了解决现有图像采集模块中，过宽的滤光片带宽会导致抗阳光干扰的性能减弱，会对图像产生较大的阳光干扰的问题，提供了一种消除阳光干扰的铁路车辆图像采集方法及系统。本发明提供一种消除阳光干扰的铁路车辆图像采集方法，具体步骤如下：步骤一、以设定的频闪频率生成和关闭条形的锁定波长激光；步骤二、以2倍的频闪频率对相机视野内物体进行拍摄得到待处理图像；待处理图像中包括多组数据，每组数据中均包括有光数据和对应的无光数据；以2倍的频闪频率进行拍摄为：于锁定波长激光的补偿下拍摄相机视野内物体的一行图像，得到一组数据中的有光数据；再于锁定波长激光关闭时拍摄相机视野内物体的同一行图像，得到一组数据中的无光数据；步骤三、对待处理图像进行处理，使每组数据中的有光数据减去无光数据得到有效数据，保留有效数据并删除无光数据，得到消除阳光干扰的图像；有光数据、无光数据和有效数据均为相应的像素值。进一步地，锁定波长激光的波长为808±0.5nm，光功率为20w。进一步地，步骤一中包括：步骤一一、以设定的频闪频率生成和关闭锁定波长激光；步骤一二、将锁定波长激光整形为条形。进一步地，步骤一中还包括：通过温度控制稳定锁定波长激光输出的波长及功率。进一步地，步骤三中，消除阳光干扰的图像的行数为待处理图像的行数的一半。本发明的还提供一种消除阳光干扰的铁路车辆图像采集系统，包括：脉冲锁波激光光源、线阵相机和图像处理单元；脉冲锁波激光光源，用于以设定的频闪频率生成和关闭条形的锁定波长激光；线阵相机，用于以2倍的频闪频率对相机视野内物体进行拍摄得到待处理图像；待处理图像中包括多组数据，每组数据中均包括有光数据和对应的无光数据；以2倍的频闪频率进行拍摄为：于锁定波长激光的补偿下拍摄相机视野内物体的一行图像，得到一组数据中的有光数据；再于锁定波长激光关闭时拍摄相机视野内物体的同一行图像，得到一组数据中的无光数据；图像处理单元，对待处理图像进行处理，使每组数据中的有光数据减去无光数据得到有效数据，保留有效数据并删除无光数据，得到消除阳光干扰的图像；有光数据、无光数据和有效数据均为相应的像素值。进一步地，脉冲锁波激光光源生成的锁定波长激光的波长为808±0.5nm，光功率为20w。进一步地，脉冲锁波激光光源包括脉冲锁波激光器和激光整形棱镜；脉冲锁波激光器，用于以设定的频闪频率生成和关闭锁定波长激光；激光整形棱镜，用于将锁定波长激光整形为条形。进一步地，还包括温控装置；温控装置，用于通过温度控制稳定锁定波长激光输出的波长及功率。进一步地，图像处理单元所处理得到的消除阳光干扰的图像的行数为待处理图像的行数的一半。本发明的有益效果是：1、图像采集的方式改为频闪拍摄，相机拍摄频率为激光器频闪频率2倍，采集到的图像为有光数据和无光数据相间的图像，可以使用有光数据和无光数据相间的图像消除阳光干扰，得到无阳光干扰的图像。2、本发明中使用的线阵相机可以是任意的，只负责采集图像不负责处理图像，图像处理可以在上位机中完成。可用于室外轨边列车周身2D图像采集。附图说明图1为待处理图像；图2为消除阳光干扰的图像；图3为消除阳光干扰的铁路车辆图像采集系统的结构示意图。图4为待处理图像的原理示意图；图5为对待处理图像进行处理的原理示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。需要说明的是，在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。下面结合附图和具体实施例对本发明作进一步说明，但不作为本发明的限定。具体实施方式一本实施方式的一种消除阳光干扰的铁路车辆图像采集方法，具体步骤如下：步骤一、以设定的频闪频率生成和关闭条形的锁定波长激光；步骤二、以2倍的频闪频率对相机视野内物体进行拍摄得到待处理图像；待处理图像中包括多组数据，每组数据中均包括有光数据和对应的无光数据；以2倍的频闪频率进行拍摄为：于锁定波长激光的补偿下拍摄相机视野内物体的一行图像，得到一组数据中的有光数据；再于锁定波长激光关闭时拍摄相机视野内物体的同一行图像，得到一组数据中的无光数据；步骤三、对待处理图像进行处理，使每组数据中的有光数据减去无光数据得到有效数据，保留有效数据并删除无光数据，得到消除阳光干扰的图像；有光数据、无光数据和有效数据均为相应的像素值。具体实施方式二本实施方式是对实施方式以的进一步说明，本实施方式中，锁定波长激光的波长为808±0.5nm，光功率为20w。本实施方式的其他技术特征与实施方式一完全相同。具体实施方式三本实施方式是对实施方式二的进一步说明，本实施方式中，步骤一中包括：步骤一一、以设定的频闪频率生成和关闭锁定波长激光；步骤一二、将锁定波长激光整形为条形。本实施方式的其他技术特征与实施方式二完全相同。具体实施方式四本实施方式是对实施方式三的进一步说明，本实施方式中，步骤一中还包括：通过温度控制稳定锁定波长激光输出的波长及功率。本实施方式的其他技术特征与实施方式三完全相同。具体实施方式五本实施方式是对实施方式四的进一步说明，本实施方式中，步骤三中，消除阳光干扰的图像的行数为待处理图像的行数的一半。本实施方式的其他技术特征与实施方式四完全相同。具体实施方式六本实施很是的一种消除阳光干扰的图像采集系统，包括：脉冲锁波激光光源、线阵相机2和图像处理单元3；脉冲锁波激光光源，用于以设定的频闪频率生成和关闭条形的锁定波长激光；线阵相机2，用于以2倍的频闪频率对相机视野内物体进行拍摄得到待处理图像；待处理图像中包括多组数据，每组数据中均包括有光数据和对应的无光数据；以2倍的频闪频率进行拍摄为：于锁定波长激光的补偿下拍摄相机视野内物体的一行图像，得到一组数据中的有光数据；再于锁定波长激光关闭时拍摄相机视野内物体的同一行图像，得到一组数据中的无光数据；图像处理单元3，对待处理图像进行处理，使每组数据中的有光数据减去无光数据得到有效数据，保留有效数据并删除无光数据，得到消除阳光干扰的图像；有光数据、无光数据和有效数据均为相应的像素值。具体实施方式七本实施方式是对实施方式六的进一步说明，本实施方式中，脉冲锁波激光光源生成的锁定波长激光的波长为808±0.5nm，光功率为20w。本实施方式的其他技术特征与实施方式六完全相同。具体实施方式八本实施方式是对实施方式七的进一步说明，本实施方式中，脉冲锁波激光光源包括脉冲锁波激光器1-1和激光整形棱镜1-2；脉冲锁波激光器1-1，用于以设定的频闪频率生成和关闭锁定波长激光；激光整形棱镜1-2，用于将锁定波长激光整形为条形。本实施方式的其他技术特征与实施方式七完全相同。具体实施方式九本实施方式是对实施方式八的进一步说明，本实施方式中，还包括温控装置4；温控装置4，用于通过温度控制稳定锁定波长激光输出的波长及功率。本实施方式的其他技术特征与实施方式八完全相同。具体实施方式十本实施方式是对实施方式九的进一步说明，本实施方式中，图像处理单元3所处理得到的消除阳光干扰的图像的行数为待处理图像的行数的一半。本实施方式的其他技术特征与实施方式九完全相同。具体实施例本发明采用脉冲锁波激光，激光器脉冲频率满足相机需求，且激光器带有温控装置4，使激光输出的波长及功率更稳定。使用脉冲锁波激光作为补偿光源，相机采集图像方法为光源开启时采一次图像，光源关闭时再采集一次图像，使得相机拍摄频率是激光器脉冲频率的2倍，从而得到一张有光数据和无光数据相间的图像，如图1所示，右侧光柱为阳光干扰，无论是否开光，都会一直存在，左侧数字1和2为有光数据和无光数据相间。经过软件处理，将有光数据线n与相邻的无光数据线n进行像素值做差，做差的目的就是将阳光去除，留下有效的图像信息，右侧光柱像素值做差得到0，左侧数字1和2像素值做差不受影响，得到无阳光干扰的图像，如图2所示。如图3所示，其中光纤6用于传输激光，且可以很长，脉冲锁波激光器1-1波长为808±0.5nm，光功率为20w；滤光片5的中心波长808nm，带宽5nm，光由脉冲锁波激光器1发出，经光纤6传输，再由激光整形棱镜1-2整形后给线阵相机2提供光源补偿。相机采集图像方法为光源开启时采一次图像，光源关闭时再采集一次图像，使得相机拍摄频率是激光器脉冲频率的2倍，从而得到一张如图4所示的有光数据和无光数据相间的图像，图像尺寸大小为1024*2800。使用上位机软件算法，将有光数据线n与相邻的无光数据线n进行像素值做差，做差的目的就是将阳光去除，留下有效的图像信息，得到无阳光干扰的图像。虽然在本文中参照了特定的实施方式来描述本发明，但是应该理解的是，这些实施例仅仅是本发明的原理和应用的示例。因此应该理解的是，可以对示例性的实施例进行许多修改，并且可以设计出其他的布置，只要不偏离所附权利要求所限定的本发明的精神和范围。应该理解的是，可以通过不同于原始权利要求所描述的方式来结合不同的从属权利要求和本文中的特征。还可以理解的是，结合单独实施例所描述的特征可以使用在其他实施例中。
