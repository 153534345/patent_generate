标题title
一种过零检测电路和开关电源
摘要abst
本发明实施例公开一种过零检测电路和开关电源，该电路包括反馈电路、镜像电路、负载电路以及比较电路，该过零检测电路在输出比较信号时，通过失调电压补偿过零检测电路中的延迟，该失调电压与输出电压或者与输出、输入电压正相关，其跟随输出电压的变化而变化，使得对过零检测电路的延迟的补偿跟随输出电压的变化而变化，进而保证输出电压或输出、输入电压变化时，能够精准控制上位管或下位管关闭，减小能量损失。
权利要求书clms
1.一种过零检测电路，应用于开关电源，其特征在于，所述开关电源包括上位管、下位管以及电感，其中，所述上位管、所述下位管以及所述电感的共同连接点为开关节点，所述过零检测电路包括：反馈电路、镜像电路、负载电路以及比较电路；所述反馈电路包括用于接入采样电压的采样输入端，连接至所述镜像电路的输入端的采样输出端，其中，所述采样电压为采样所述开关电源的输出电压的电压或采样所述开关电源的输出、输入电压的电压，所述反馈电路用于生成并从所述采样输出端输出与所述采样电压正相关的反馈电流；所述镜像电路还包括连接至所述比较电路的第一输入端以及所述负载电路的第一端的输出端，所述镜像电路用于镜像所述反馈电流以生成失调电流，并输出所述失调电流；所述负载电路还包括连接至所述开关电源的开关节点的电压的第二端，所述负载电路用于将所述失调电流转换成与所述采样电压正相关的失调电压，以使所述失调电压加载于所述比较电路的第一输入端；所述比较电路还包括接地或接所述输出电压的第二输入端以及用于接入所述开关电源的控制信号的控制端，所述比较电路用于根据所述开关节点的电压、所述失调电压以及地或根据所述开关节点的电压、所述失调电压以及所述输出电压生成比较信号，以在所述控制信号的控制下，输出所述比较信号。2.根据权利要求1所述的过零检测电路，其特征在于，所述反馈电路包括运算放大器以及电流生成模块；若所述采样电压为采样所述输出电压的电压，所述运算放大器的第一同相输入端为所述采样输入端，所述运算放大器还包括连接至所述电流生成模块的钳位端的第一反相输入端以及连接至所述电流生成模块的控制端的输出端，所述运算放大器用于将所述电流生成模块的钳位端的电压钳位至所述采样电压；所述电流生成模块还包括所述采样输出端，所述电流生成模块用于生成并从所述采样输出端输出与所述采样电压正相关的反馈电流。3.根据权利要求2所述的过零检测电路，其特征在于，所述镜像电路包括第一MOS管与第二MOS管；所述第一MOS管的栅极与所述第二MOS管的栅极的共同连接点为所述镜像电路的输入端，所述第一MOS管的栅极还与其源极连接，所述第二MOS管的源极为所述镜像电路的输出端，所述第一MOS管的源极与所述第二MOS管的源极共同连接至直流电源。4.根据权利要求3所述的过零检测电路，其特征在于，若所述采样电压为采样所述开关电源的输出、输入电压的电压，则所述运算放大器的第二反相输入端与所述运算放大器的第一反相输入端均为所述采样输入端，所述运算放大器的第二反相输入端用于接入采样所述开关电源的输入电压的电压，所述运算放大器的第一同相输入端用于接入采样所述开关电源的输出电压的电压。5.根据权利要求4所述的过零检测电路，其特征在于，所述镜像电路还包括第三MOS管与第四MOS管；所述第三MOS管的栅极、所述第四MOS管的源极、所述第四MOS管的栅极共同连接至所述第二MOS管的源极，所述第四MOS管的源极为所述采样输出端。6.根据权利要求2-5任一项所述的过零检测电路，其特征在于，所述电流生成模块包括第五MOS管与第一电阻；所述第五MOS管的栅极为所述电流生成模块的控制端，所述第五MOS管的源极为所述采样输出端，所述第一电阻与所述第五MOS管的漏极的共同连接点为所述电流生成模块的钳位端。7.根据权利要求1-5任一项所述的过零检测电路，其特征在于，所述负载电路包括第二电阻；所述第二电阻的一端为所述负载电路的第一端，所述第二电阻的另一端为所述负载电路的第二端。8.根据权利要求1-5任一项所述的过零检测电路，其特征在于，所述比较电路包括比较器以及与门；所述比较器包括所述第一输入端、所述第二输入端以及连接至所述与门的第一输入端的输出端，所述比较器用于根据所述开关节点的电压、所述失调电压以及地或根据所述开关节点的电压、所述失调电压以及所述输出电压生成比较信号；所述与门包括用于接入所述控制信号的第二输入端以及用于输出所述比较信号的输出端，所述与门用于控制所述比较信号的输出。9.根据权利要求8所述的过零检测电路，其特征在于，若所述采样电压为采样所述开关电源的输出电压的电压，所述控制信号为用于控制所述开关电源的下位管导通的信号；若所述采样电压为采样所述开关电源的输出、输入电压的电压，所述控制信号为用于控制所述开关电源的上位管导通的信号。10.一种开关电源，其特征在于，所述开关电源包括电感、上位管、下位管以及如权利要求1-9任一项所述的过零检测电路。
说明书desc
技术领域本发明涉及过零比较领域，特别是涉及一种过零检测电路和开关电源。背景技术在开关电源工作中，上位管和下位管均需在电感电流为零时，控制上位管或下位管关闭，以防止能量损失，得到最高的效率。上位管与下位管的共同连接点为开关节点，过零检测电路通过运放比较开关节点的电压和地，或者通过运放比较开关节点的电压和输出电压，以输出对应的比较结果，通过比较结果确定电感电流是否为零。而为了消除过零检测电路中运放的延迟，目前的过零检测电路在运放的输入端加入固定失调电压以补偿延迟，但当开关电源的输出电压或者输出、输入电压变化时，固定失调电压无法完全消除延迟，导致比较结果输出滞后，进而无法精准控制下位管或上位管关闭，造成能量损失。发明内容本发明实施例旨在提供一种过零检测电路和开关电源，其能够使得失调电压跟随输出电压或输出、输入电压的改变而改变，以消除比较器延迟，进而精准控制上位管或下位管关闭，减小能量损失。为解决上述技术问题，本发明实施例提供以下技术方案：在第一方面，本发明实施例提供一种过零检测电路，应用于开关电源，所述过零检测电路包括：反馈电路、镜像电路、负载电路以及比较电路；所述反馈电路包括用于接入采样电压的采样输入端，连接至所述镜像电路的输入端的采样输出端，其中，所述采样电压为采样所述开关电源的输出电压的电压或采样所述开关电源的输出、输入电压的电压，所述反馈电路用于生成并从所述采样输出端输出与所述采样电压正相关的反馈电流；所述镜像电路还包括连接至所述比较电路的第一输入端以及所述负载电路的第一端的输出端，所述镜像电路用于镜像所述反馈电流以生成失调电流，并输出所述失调电流；所述负载电路还包括连接至所述开关电源的开关节点的电压的第二端，所述负载电路用于将所述失调电流转换成与所述采样电压正相关的失调电压，以使所述失调电压加载于所述比较电路的第一输入端；所述比较电路还包括接地或接所述输出电压的第二输入端以及用于接入所述开关电源的控制信号的控制端，所述比较电路用于根据所述开关节点的电压、所述失调电压以及地或根据所述所述开关节点的电压、所述失调电压以及所述输出电压生成比较信号，以在所述控制信号的控制下，输出所述比较信号。在一些实施例中，所述反馈电路包括运算放大器以及电流生成模块；若所述采样电压为采样所述输出电压的电压，所述运算放大器的第一同相输入端为所述采样输入端，所述运算放大器还包括连接至所述电流生成模块的钳位端的第一反相输入端以及连接至所述电流生成模块的控制端的输出端，所述运算放大器用于将所述电流生成模块的钳位端的电压钳位至所述采样电压；所述电流生成模块还包括所述采样输出端，所述电流生成模块用于生成并从所述采样输出端输出与所述采样电压正相关的反馈电流。在一些实施例中，所述镜像电路包括第一MOS管与第二MOS管；所述第一MOS管的栅极与所述第二MOS管的栅极的共同连接点为所述镜像电路的输入端，所述第一MOS管的栅极还与其源极连接，所述第二MOS管的源极为所述镜像电路的输出端，所述第一MOS管的源极与所述第二MOS管的源极共同连接至直流电源。在一些实施例中，若所述采样电压为采样所述开关电源的输出、输入电压的电压，则所述运算放大器的第二反相输入端与所述运算放大器的第一反相输入端均为所述采样输入端，所述运算放大器的第二反相输入端用于接入采样所述开关电源的输入电压的电压，所述运算放大器的第一同相输入端用于接入采样所述开关电源的输出电压的电压。在一些实施例中，所述镜像电路还包括第三MOS管与第四MOS管；所述第三MOS管的栅极、所述第四MOS管的源极、所述第四MOS管的栅极共同连接至所述第二MOS管的源极，所述第四MOS管的源极为所述采样输出端。在一些实施例中，所述电流生成模块包括第五MOS管与第一电阻；所述第五MOS管的栅极为所述电流生成模块的控制端，所述第五MOS管的源极为所述采样输出端，所述第一电阻与所述第五MOS管的漏极的共同连接点为所述电流生成模块的钳位端。在一些实施例中，所述负载电路包括第二电阻；所述第二电阻的一端为所述负载电路的第一端，所述第二电阻的另一端为所述负载电路的第二端。在一些实施例中，所述比较电路包括比较器以及与门；所述比较器包括所述第一输入端、所述第二输入端以及连接至所述与门的第一输入端的输出端，所述比较器用于根据所述开关节点的电压、所述失调电压以及地或根据所述开关节点的电压、所述失调电压以及所述输出电压生成比较信号；所述与门包括用于接入所述控制信号的第二输入端以及用于输出所述比较信号的输出端，所述与门用于控制所述比较信号的输出。在一些实施例中，若所述采样电压为采样所述开关电源的输出电压的电压，所述控制信号为用于控制所述开关电源的下位管导通的信号；若所述采样电压为采样所述开关电源的输出、输入电压的电压，所述控制信号为用于控制所述开关电源的上位管导通的信号。在第二方面，本发明实施例提供一种开关电源，所述开关电源包括电感、上位管、下位管以及如上所述的过零检测电路。在本发明各个实施例中，该过零检测电路包括反馈电路、镜像电路、负载电路以及比较电路，其中，反馈电路用于接入采样电压，采样电压为采样开关电源的输出电压的电压，或者为采样开关电源的输出、输入电压的电压，反馈电路再生成并输出与采样电压正相关的反馈电流，然后镜像电路镜像反馈电流以生成失调电流，并输出该失调电流，该失调电流作用于负载电路的第一端，且负载电路将失调电流转换成与采样电压正相关的失调电压，以使得失调电压加载于比较电路的第一输入端，比较电路根据开关节点的电压、失调电压以及地生成比较信号，或者根据开关节点的电压、失调电压以及输出电压生成比较信号，以在控制信号的控制下输出比较信号。因此，该过零检测电路在输出比较信号时，通过失调电压补偿过零检测电路中的延迟，同时，相对于固定的失调电压补偿，该失调电压与输出电压或者与输出、输入电压正相关，其跟随输出电压的变化而变化，进而使得对过零检测电路的延迟的补偿跟随输出电压的变化而变化，进而保证输出电压或输出、输入电压变化时，能够精准控制上位管或下位管关闭，减小能量损失。附图说明一个或多个实施例通过与之对应的附图中的图片进行示例性说明，这些示例性说明并不构成对实施例的限定，附图中具有相同参考数字标号的元件表示为类似的元件，除非有特别申明，附图中的图不构成比例限制。图1是本发明实施例提供的其中一种开关电源的结构示意图；图2是本发明实施例提供的其中一种开关电源的结构示意图；图3是本发明实施例提供的其中一种过零检测电路的结构示意图；图4是本发明实施例提供的其中一种过零检测电路的电路结构示意图；图5是本发明实施例提供的其中一种过零检测电路的电路结构示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。请参阅图1，图1是本发明实施例提供的一种开关电源的结构示意图。该开关电源包括电感L、上位管MH、下位管ML，上位管MH为功率管，下位管ML为同步管。该开关电源还包括信号控制单元，信号控制单元用于输出控制信号，该控制信号为PWM信号，信号控制单元的两个输出端分别连接上位管MH的控制端和下位管ML的控制端，信号控制单元通过控制信号分别控制上位管MH和下位管ML的导通或截止。上位管MH的输入端接输入电压VIN，上位管MH和下位管ML的共同连接点为开关节点SW，相应的负载回路包括电感L以及电容Cout，电感L与电容Cout的共同连接点用于输出输出电压Vout，电容Cout负端与下位管ML的下端共地，开关节点SW的电压VSW也就是电感L的电压。该开关电源具有两种工作模式：连接导通模式和不连续导通模式。以BUCK为例，在不连续导通模式下，需要采用过零检测电路来检测电感L电流是否过零，当检测到电感L电流为零时，则关断下位管ML，从而减少功耗以提高效率。一般通过过零检测电路比较开关节点SW的电压VSW和地PGND来实现判断电感L电流方向，过零检测电路的正相输入端连接开关节点SW，反相端接地，输出端连接信号控制单元的输入端。具体地，在开关电源下位管工作周期中，如果开关节点SW的电压VSW高于PGND，则代表电感L电流方向发生反相，电流从开关节点SW流到PGND，造成能量损失。因此，当过零检测电路检测到开关节点SW的电压VSW过零时，表征电感L电流方向发生反相，则信号控制单元根据过零检测电路输出的比较结果控制下位管ML关闭，以防止能量损失。过零检测电路包括运放comp，当开关节点SW的电压VSW高于PGND时，运放comp输出的比较信号ZCD为高电平信号，但由于运放comp存在延迟，比较信号ZCD会延迟Tdelay才输出高电平信号。为了消除延时，现有技术一般在过零检测电路的输入端加入固定失调电压以补偿延迟，在运放comp的正向输入端加入固定失调电压Vos,此时，当开关节点SW的电压VSW大于Vos时，比较信号ZCD再经过一个Tdelay就能输出高电平信号。但此种方法只适用于某一固定输出电压的情况，当开关电源输出电压变化时，开关节点SW的电压VSW大于Vos，经过一个Tdelay，开关节点SW的电压VSW仍然会高于PGND，需延迟一段时间，比较信号ZCD才会输出高电平信号。同样地，如图2所示，在BOOST开关电源中，对于上位管MH的控制，也是通过过零检测电路输出的比较结果控制上位管MH的关闭，以防止能量损失。BOOST开关电源中当开关电源输出、输入电压变化时，电感电流下降斜率均会变化，固定的失调电压Vos无法完全消除比较器的延迟，进而无法精确控制上位管在电感电流为零时关闭。因此，本发明实施例提供一种过零检测电路，其能够使得失调电压跟随输出电压的改变而改变，以消除比较器延迟，进而精准控制下位管或上位管的关闭，减小能量损失。具体地，如图3所示，本发明实施例提供一种过零检测电路的结构示意图，如图3所示，该过零检测电路100包括反馈电路10、镜像电路20、负载电路30以及比较电路40。其中，反馈电路10包括用于接入采样电压的采样输入端，连接至所述镜像电路20的输入端的采样输出端。所述镜像电路20还包括连接至所述比较电路40的第一输入端以及所述负载电路30的第一端的输出端。采样电压为采样开关电源的输出电压的电压，或者为采样开关电源的输出、输入电压的电压。采样电压与输出电压正相关，或者与输出、输入电压正相关，相关系数与采样系数相关。反馈电路10将根据采样电压生成反馈电流，并从采样输出端输出该反馈电流，且该反馈电流与采样电压正相关，即与输出电压正相关。该反馈电流作用于镜像电路20的输入端，镜像电路20镜像所述反馈电流以生成失调电流，并从其输出端输出该失调电流。失调电流与反馈电流的比值跟镜像电路20的镜像比例相关，若镜像电路20的镜像比例为1:1，则失调电流与反馈电流相同，若镜像电路20的镜像比例为1:2，则失调电流与反馈电流的比例为1:2，具体的镜像比例可以根据需要而设置，本发明实施例中不做限制。失调电流作用于负载电路30的第一端，负载电路30将失调电流转换成与采样电压正相关的失调电压。同时，负载电路30的第一端还与比较电路40的第一输入端连接，则该失调电压加载于比较电路40的第一输入端。负载电路30还包括连接至所述开关电源的节点SW的第二端，则比较电路40的第一输入端的电压为失调电压与开关电源的开关节点SW的电压VSW之和。比较电路40还包括接地或接所述输出电压的第二输入端以及用于接入所述开关电源的控制信号的控制端。控制信号为信号控制单元输出的用于控制下位管ML工作状态的PWM波，当PWM波的占空比表征下位管ML的导通时间，当PWM波为高电平信号时，比较电路40输出比较信号ZCD。若控制下位管的关闭，则比较电路40将开关节点SW的电压、失调电压与地进行比较，输出比较信号，当开关节点SW的电压为零时，比较信号为高电平信号，使得信号控制单元控制下位管关闭。失调电压与输出电压正相关，能够抵消比较电路40延迟造成的电感电流变化量，能够保证无论输出电压如何变化，当开关节点SW的电压为零时，比较信号输出高电平信号，使得信号控制单元能够精准控制下位管关闭，即下位管关闭时的电感电流始终为0。若控制上位管的关闭，比较电路40将开关节点SW的电压、失调电压与地进行比较，输出比较信号，当开关节点SW的电压为零时，此时比较信号为高电平信号，使得信号控制单元控制上位管关闭。失调电压与输出电压正相关，能够抵消比较电路40延迟造成的电感电流变化量，能够保证无论输出电压如何变化，当开关节点SW的电压为零时，比较信号输出高电平信号，使得信号控制单元精准控制上位管关闭，即上位管关闭时的电感电流始终为0。信号控制单元根据该比较信号ZCD控制上位管MH或下位管ML的关闭，当比较信号ZCD为高电平信号时，信号控制单元控制上位管MH或下位管ML关闭。同时，失调电压已对比较电路40进行了延时补偿，且相对于固定的失调电压补偿，该失调电压与采样电压正相关，采样电压又与输出电压Vout正相关，相关系数与采样系数相关，即失调电压跟随输出电压Vout的改变而改变，使得比较信号能够在电感L电流为零时，精准输出高电平信号，完全消除延时，进而使得信号控制单元能够精准控制上位管MH或下位管ML关闭，减小能量损失。综上所述，该过零检测电路在输出比较信号时，通过失调电压补偿过零检测电路中的延迟，同时，相对于固定的失调电压补偿，该失调电压与输出电压正相关，其根据不同的输出电压而自动跟随，进而能够更加精准控制上位管或下位管关闭，减小能量损失。请参阅图4，图4是本发明实施例提供的一种过零检测电路的结构示意图，如图4所示，该反馈电路10包括运算放大器A0以及电流生成模块12。其中，所述运算放大器A0的第一同相输入端为所述采样输入端，所述运算放大器A0还包括连接至所述电流生成模块12的钳位端的第一反相输入端以及连接至所述电流生成模块12的控制端的输出端，所述电流生成模块12还包括所述采样输出端。在本发明实施例中，开关电源为BUCK电源，采样电压为采样输出电压的电压，若采样系数为K，则采样电压为K*Vout，即运算放大器A0的第一同相输入端的电压为K*Vout。运算放大器A0将电流生成模块12的钳位端的电压VFB钳位至采样电压。电流生成模块12生成并从采样输出端输出与采样电压正相关的反馈电流。具体地，如图4所示，电流生成模块12包括第五MOS管M5与第一电阻R1。所述第五MOS管M5的栅极为所述电流生成模块12的控制端，所述第五MOS管M5的源极为所述采样输出端，所述第一电阻R1与所述第五MOS管M5的漏极的共同连接点为所述电流生成模块12的钳位端。运算放大器A0的输出信号控制第五MOS管M5的状态，当钳位端的电压VFB为K*Vout时，流过第一电阻R1的反馈电流为K*Vout/R1,该反馈电流经第五MOS管M5流进镜像电路20的输入端，以使镜像电路20根据该反馈电流生成失调电流。如图4所示，镜像电路20包括第一MOS管M1与第二MOS管M2。其中，所述第一MOS管M1的栅极与所述第二MOS管M2的栅极的共同连接点为所述镜像电路20的输入端，所述第一MOS管M1的栅极还与其源极连接，所述第二MOS管M2的源极为所述镜像电路20的输出端，所述第一MOS管M1的源极与所述第二MOS管M2的源极共同连接至直流电源。所述负载电路30包括第二电阻R2，所述第二电阻R2的一端为所述负载电路30的第一端，所述第二电阻R2的另一端为所述负载电路30的第二端。所述比较电路40包括比较器comp以及与门AG，所述比较器comp包括所述第一输入端、所述第二输入端以及连接至所述与门AG的第一输入端的输出端，所述与门AG包括用于接入所述控制信号的第二输入端以及用于输出所述比较信号的输出端。流过第一MOS管M1的电流为反馈电流I1，若第一MOS管M1与第二MOS管M2的镜像比例为1:1，则从第二MOS管M2的源极流出的失调电流I2与I1相同，均为K*Vout/R1，该失调电流作用于第二电阻R2的一端，失调电流作用于该第二电阻R2，在第二电阻R2的一端生成失调电压，通过第二电阻R2与失调电流的乘积获得失调电压的数值，即失调电压Vos=I2*R2=R2*K*Vout/R1。该失调电压作用于比较器comp的同相输入端，开关电源的节点SW的电压也经第二电阻R2作用于比较器comp的同相输入端，比较器comp的反相输入端接地。当PWM波为1，开关电源的下位管ML导通期间，失调电压与开关电源的节点SW的电压均作用于比较器comp的同相输入端，比较器comp将失调电压、节点SW的电压与地进行比较，经过与门AG输出比较信号ZCD。该失调电压是跟随输出电压变化而变化的动态电压，其用于抵消比较器comp的延迟。此时节点SW的电压=-IL*Rdson_ls，IL为流过电感的电流，Rdson_ls为下位管ML导通时的阻值，比较器comp的延迟为Rdson_ls *Td*Vout/L，其中，Td为比较器comp的延时时间。则为了保证下位管ML关闭时，电感电流为0，则使得失调电压能够抵消比较器comp的延迟，即Vos=R2*K*Vout/R1=Rdson_ls *Td*Vout/L，则可以得到R2/R1=Td*Rdson_ls/，当节点SW的电压大于-Vos后，经过Tdelay后输出比较信号ZCD为高电平，此时节点SW的电压刚好为0，对应没有产生任何负向电流。因此，无论输出电压Vout如何变化，失调电压都跟随输出电压Vout的变化而变化，对比较电路40进行补偿，且能够完全消除延迟，进而能够精准控制下位管ML，避免能量损失。请参阅图5，图5是本发明实施例提供的另一过零检测电路的电路结构示意图，图5的实施例与图4的实施例的区别在于运算放大器的连接方式以及镜像电路20的组成和连接方式。图4中的过零检测电路用于BOOST开关电源中，用于控制上位管MH的关闭，以减小能量损失。具体地，所述运算放大器A0的第二反相输入端与所述运算放大器A0的第一反相输入端均为所述采样输入端，所述运算放大器A0的第二反相输入端用于接入采样所述开关电源的输入电压Vin的电压，所述运算放大器A0的第一同相输入端用于接入采样所述开关电源的输出电压Vout的电压。若采样系数为K，则采样电压为K*，产生的反馈电流I1=K*/R1，该反馈电流流入镜像电路20的输入端。镜像电路20还包括第三MOS管与第四MOS管，所述第三MOS管的栅极、所述第四MOS管的源极、所述第四MOS管的栅极共同连接至所述第二MOS管M2的源极，所述第四MOS管的源极为所述采样输出端。若镜像比例为1:1，则失调电流I2=I1，该失调电流作用于第二电阻R2的一端，失调电流作用于该第二电阻R2，在第二电阻R2的一端生成失调电压，通过第二电阻R2与失调电流的乘积获得失调电压的数值，即失调电压Vos=I2*R2=R2*K*/R1。该失调电压作用于比较器comp的反相输入端，开关电源的开关节点SW的电压也经第二电阻R2作用于比较器comp的反相输入端，比较器comp的同相输入端接输出电压Vout。当PWM波为1，开关电源的上位管ML导通期间，失调电压与开关电源的开关节点SW的电压均作用于比较器comp的反相输入端，比较器comp将失调电压、开关节点SW的电压与输出电压Vout进行比较，经过与门AG输出比较信号ZCD。该失调电压是跟随输出电压变化而变化的动态电压，其用于抵消比较器comp的延迟。此时，比较器comp的反相输入端的电压为VSW-Vos，开关节点SW的电压=Vout+IL*Rdson_hs，IL为流过电感的电流，Rdson_hs为上位管导通时的阻值，比较器comp的延迟为Rdson_hs *Td*/L，其中，Td为比较器comp的延时时间。则为了保证上位管关闭时，电感电流为0，则使得失调电压能够抵消比较器comp的延迟，即Vos=R2*K*/R1=Rdson_hs *Td*/L，则可以得到R2/R1=Td*Rdson_hs/，则能保证在不同输入输出电压下，上位管关闭时，电感电流值始终为零。因此，无论输出电压与输入电压如何变化，失调电压都跟随输出电压与输入电压的变化而变化，对比较电路进行补偿，且能够完全消除延迟，进而能够精准控制上位管，避免能量损失。综上所述，该过零检测电路在输出比较信号时，通过失调电压补偿过零检测电路中的延迟，同时，相对于固定的失调电压补偿，该失调电压与输出电压或者与输出、输入电压正相关，其跟随输出电压的变化而变化，进而使得对过零检测电路的延迟的补偿跟随输出电压的变化而变化，进而保证输出电压或者输出、输入电压变化时，能够精准控制上位管或下位管关闭，减小能量损失。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；在本发明的思路下，以上实施例或者不同实施例中的技术特征之间也可以进行组合，步骤可以以任意顺序实现，并存在如上所述的本发明的不同方面的许多其它变化，为了简明，它们没有在细节中提供；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围。
