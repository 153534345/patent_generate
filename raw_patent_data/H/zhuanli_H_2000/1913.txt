标题title
模数转换器校准方法、装置、存储介质及芯片
摘要abst
本公开涉及集成电路设计领域，具体涉及一种模数转换器校准方法、装置、存储介质及芯片，对模数转换器进行校准，从而提高其转换精度，该方法包括：获取第一待测数据以及第一输出数据，第一输出数据为目标模数转换器根据第一待测数据进行模数转换后输出的数据；对第一待测数据中的每个数据赋予加权因子，根据赋予加权因子后的第一待测数据和第一输出数据得到初始校准值；根据初始校准值对第一输出数据进行校准，得到第一校准数据；获取第一校准数据与第一待测数据之间的第一误差值，根据第一误差值确定第一目标待测数据；根据第一目标待测数据以及对应第一目标待测数据的第一目标输出数据得到第一目标校准值。
权利要求书clms
1.一种模数转换器校准方法，其特征在于，所述方法包括：获取第一待测数据以及第一输出数据，所述第一输出数据为目标模数转换器根据所述第一待测数据进行模数转换后输出的数据；对所述第一待测数据中的每个数据赋予加权因子，根据赋予加权因子后的第一待测数据和所述第一输出数据得到初始校准值；根据所述初始校准值对所述第一输出数据进行校准，得到第一校准数据；获取所述第一校准数据与所述第一待测数据之间的第一误差值，根据所述第一误差值确定第一目标待测数据；根据所述第一目标待测数据以及对应所述第一目标待测数据的第一目标输出数据得到第一目标校准值，所述第一目标校准值用于对所述目标模数转换器进行校准。2.根据权利要求1所述的模数转换器校准方法，其特征在于，所述模数转换器校准方法还包括：获取第二待测数据以及第二输出数据，所述第二待测数据包括目标模数转换器的输入数据中除所述第一待测数据之外的剩余输入数据中的任意数据，所述第二输出数据为所述目标模数转换器根据所述第二待测数据进行模数转换后输出的数据；根据所述第一目标校准值对所述第二输出数据进行校准，得到第二校准数据；获取所述第二校准数据与所述第二待测数据之间的第二误差值，根据所述第二误差值确定第二目标待测数据；根据所述第二目标待测数据以及对应所述第二目标待测数据的第二目标输出数据得到第二目标校准值，该第二目标校准值用于对所述目标模数转换器进行再次校准。3.根据权利要求1所述的模数转换器校准方法，其特征在于，所述模数转换器校准方法还包括：循环执行所述获取第一待测数据以及第一输出数据至所述获取所述第一校准数据与所述第一待测数据之间的第一误差值，根据所述第一误差值确定第一目标待测数据的步骤，并将每次获取到的第一目标待测数据与预设精度要求以及预设成本要求进行匹配，得到匹配结果，直到得到满足所述预设精度要求以及所述预设成本要求的第一目标待测数据；所述根据所述第一目标待测数据以及对应所述第一目标待测数据的第一目标输出数据得到第一目标校准值，包括：根据满足所述预设精度要求以及所述预设成本要求的第一目标待测数据以及对应所述第一目标待测数据的第一目标输出数据得到第一目标校准值。4.根据权利要求3所述的模数转换器校准方法，其特征在于，所述模数转换器校准方法还包括：根据最近一次得到的所述匹配结果调整下一次循环获取的第一待测数据的数据个数；其中，在所述匹配结果为满足所述预设精度要求且不满足预设成本要求的情况下，减小下一次循环获取的第一待测数据的数据个数；或者，在所述匹配结果为不满足所述预设精度要求的情况下，增加下一次循环获取的第一待测数据的数据个数。5.根据权利要求1所述的模数转换器校准方法，其特征在于，所述加权因子通过以下公式得到：W=）]2；其中，W表征加权因子，X表征第一待测数据，i表征数据个数，diag表征对角矩阵。6.根据权利要求1所述的模数转换器校准方法，其特征在于，所述初始校准值通过以下公式得到：θ=-1ATWY；其中，θ表征初始校准值，θ=T，k表征增益误差，b表征偏置误差，A表征根据第一待测数据确定的测试数据，W表征加权因子，Y表征第一输出数据。7.根据权利要求1所述的模数转换器校准方法，其特征在于，校准后的目标模数转换器的传输特性包括：Y=kX+b+N，其中，Y表征第一目标输出数据，X表征第一目标待测数据，i表征目标数据个数，k表征增益误差，b表征偏置误差，N表征噪声向量。8.一种模数转换器校准装置，其特征在于，所述装置包括：获取模块，被配置为获取第一待测数据以及第一输出数据，所述第一输出数据为目标模数转换器根据所述第一待测数据进行模数转换后输出的数据；第一执行模块，被配置为对所述第一待测数据中的每个数据赋予加权因子，根据赋予加权因子后的第一待测数据和所述第一输出数据得到初始校准值；校准模块，被配置为根据所述初始校准值对所述第一输出数据进行校准，得到第一校准数据；调整模块，被配置为获取所述第一校准数据与所述第一待测数据之间的第一误差值，根据所述第一误差值确定第一目标待测数据；第二执行模块，被配置为根据所述第一目标待测数据以及对应所述第一目标待测数据的第一目标输出数据得到第一目标校准值，所述第一目标校准值用于对所述目标模数转换器进行校准。9.一种非临时性计算机可读存储介质，其上存储有计算机程序，其特征在于，该计算机程序被处理器执行时实现权利要求1-7中任一项所述方法的步骤。10.一种芯片，其特征在于，包括：存储器，其上存储有计算机程序；处理器，用于执行所述存储器中的所述计算机程序，以实现权利要求1-7中任一项所述方法的步骤。
说明书desc
技术领域本公开涉及集成电路设计领域，具体地，涉及一种模数转换器校准方法、装置、存储介质及芯片。背景技术模数转换器，是指将连续变量的模拟信号转换为离散的数字信号的器件，ADC可将模拟信号转换为表示一定比例电压值的数字信号。如光伏用宽带电力线载波通信芯片，需要精确测量温度、电压、电流等信号，可通过ADC将这些模拟信号转换成方便计算、存储的数字信号。而ADC在实际应用过程中，存在偏置误差、增益误差和非线性误差，导致ADC的转换结果不准确，随着对ADC转换结果的高预设精度要求，相关技术中主要从硬件层面改善ADC校准的精度，导致ADC仍然存在一致性不高、精度较差、校准方法自动化程度低、校准方法存在人为因素等技术问题。发明内容本公开的目的是提供一种模数转换器校准方法、装置、存储介质及芯片，对模数转换器进行校准，从而提高其转换精度。为了实现上述目的，第一方面，本公开提供一种模数转换器校准方法，所述方法包括：获取第一待测数据以及第一输出数据，所述第一输出数据为目标模数转换器根据所述第一待测数据进行模数转换后输出的数据；对所述第一待测数据中的每个数据赋予加权因子，根据赋予加权因子后的待测数据和所述第一输出数据得到初始校准值；根据所述初始校准值对所述第一输出数据进行校准，得到第一校准数据；获取所述第一校准数据与所述第一待测数据之间的第一误差值，根据所述第一误差值确定第一目标待测数据；根据所述第一目标待测数据以及对应所述第一目标待测数据的第一目标输出数据得到第一目标校准值，所述第一目标校准值用于对所述目标模数转换器进行校准。可选地，所述模数转换器校准方法还包括：获取第二待测数据以及第二输出数据，所述第二待测数据包括目标模数转换器的输入数据中除所述待测数据之外的剩余输入数据中的任意数据，所述第二输出数据为所述目标模数转换器根据所述第二待测数据进行模数转换后输出的数据；根据所述第一目标校准值对所述第二输出数据进行校准，得到第二校准数据；获取所述第二校准数据与所述第二待测数据之间的第二误差值，根据所述第二误差值确定第二目标待测数据；根据所述第二目标待测数据以及对应所述第二目标待测数据的第二目标输出数据得到第二目标校准值，该第二目标校准值用于对所述目标模数转换器进行再次校准。可选地，所述模数转换器校准方法还包括：循环执行所述获取第一待测数据以及第一输出数据至所述获取所述第一校准数据与所述第一待测数据之间的第一误差值，根据所述第一误差值确定第一目标待测数据的步骤，并将每次获取到的第一目标待测数据与预设精度要求以及预设成本要求进行匹配，得到匹配结果，直到得到满足所述预设精度要求以及所述预设成本要求的第一目标待测数据；所述根据所述第一目标待测数据以及对应所述第一目标待测数据的第一目标输出数据得到第一目标校准值，包括：根据满足所述预设精度要求以及所述预设成本要求的第一目标待测数据以及对应所述第一目标待测数据的第一目标输出数据得到第一目标校准值。可选地，所述模数转换器校准方法还包括：根据最近一次得到的所述匹配结果调整下一次循环获取的第一待测数据的数据个数；其中，在所述匹配结果为满足所述预设精度要求且所述不满足预设成本要求的情况下，减小下一次循环获取的第一待测数据的数据个数；或者，在所述匹配结果为不满足所述预设精度要求的情况下，增加下一次循环获取的第一待测数据的数据个数。可选地，所述加权因子通过以下公式得到：W=）]2；其中，W表征加权因子，X表征第一待测数据，i表征数据个数，diag表征对角矩阵。可选地，所述初始校准值通过以下公式得到：θ=-1ATWY；其中，θ表征初始校准值，θ=T，k表征增益误差，b表征偏置误差，A表征根据第一待测数据确定的测试数据，W表征加权因子，Y表征第一输出数据。可选地，校准后的目标模数转换器的传输特性包括：Y=kX+b+N，其中，Y表征第一目标输出数据，X表征第一目标待测数据，i表征目标数据个数，k表征增益误差，b表征偏置误差，N表征噪声向量。第二方面，本公开提供一种模数转换器校准装置，所述装置包括：获取模块，被配置为获取第一待测数据以及第一输出数据，所述第一输出数据为目标模数转换器根据所述第一待测数据进行模数转换后输出的数据；第一执行模块，被配置为对所述第一待测数据中的每个数据赋予加权因子，根据赋予加权因子后的第一待测数据和所述第一输出数据得到初始校准值；校准模块，被配置为根据所述初始校准值对所述第一输出数据进行校准，得到第一校准数据；调整模块，被配置为获取所述第一校准数据与所述第一待测数据之间的第一误差值，根据所述第一误差值确定第一目标待测数据；第二执行模块，被配置为根据所述第一目标待测数据以及对应所述第一目标待测数据的第一目标输出数据得到第一目标校准值，所述第一目标校准值用于对所述目标模数转换器进行校准。第三方面，本公开提供一种非临时性计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现第一方面所述方法的步骤。第四方面，本公开提供一种芯片，包括：存储器，其上存储有计算机程序；处理器，用于执行所述存储器中的所述计算机程序，以实现第一方面所述方法的步骤。通过上述技术方案，对第一待测数据中的每个数据赋予加权因子，根据赋予加权因子后的第一待测数据和第一输出数据得到初始校准值，提高了ADC的相对精度，根据初始校准值对第一输出数据进行校准，得到第一校准数据；根据第一校准数据与第一待测数据之间的第一误差值，确定第一目标待测数据，第一目标待测数据为同时满足ADC的校准预设成本要求和校准预设精度要求的待测数据，根据第一目标待测数据以及对应第一目标待测数据的第一目标输出数据得到第一目标校准值，以根据第一目标校准值对目标模数转换器校准，整个校准过程无需人为干涉，实现对模数转换器的自动化校准，且校准精度高。本公开的其他特征和优点将在随后的具体实施方式部分予以详细说明。附图说明附图是用来提供对本公开的进一步理解，并且构成说明书的一部分，与下面的具体实施方式一起用于解释本公开，但并不构成对本公开的限制。在附图中：图1是根据本公开示例性实施例示出的一种模数转换器校准方法的流程图。图2是根据本公开示例性实施例示出的一种模数转换器校准方法的另一流程图。图3是根据本公开示例性实施例示出的一种模数转换器校准方法的又一流程图。图4a是根据本公开示例性实施例示出的一种模数转换器校准方法的校准效果图。图4b是根据本公开示例性实施例示出的一种模数转换器校准方法的另一校准效果图。图5是根据本公开示例性实施例示出的一种模数转换器校准装置的框图。图6是根据本公开示例性实施例示出的一种芯片的框图。具体实施方式以下结合附图对本公开的具体实施方式进行详细说明。应当理解的是，此处所描述的具体实施方式仅用于说明和解释本公开，并不用于限制本公开。需要说明的是，本公开中所有获取待测数据的动作都是在遵照所在地国家相应的数据保护法规政策的前提下，并获得由相应装置所有者给予授权的情况下进行的。正如背景技术所言，相关技术主要从硬件层面改善ADC校准的精度，导致ADC仍然存在一致性不高、精度较差、校准方法自动化程度低、校准方法存在人为因素等技术问题。除此之外，相关技术中还通过采用误差平方和最小思想，保证ADC的输入数据在满幅度附近的误差绝对值满足绝对预设精度要求，但在ADC的输入数据在零附近的情况下，若误差绝对值满足绝对精度，会导致ADC的输入数据中数值小的数据的相对误差百分比很大，从而导致ADC的校准结果不可靠。有鉴于此，本公开提供一种模数转换器校准方法、装置、存储介质及芯片，可根据适合的第一待测数据得到出模数转换器的第一目标校准值，整个校准过程无需人为干涉，实现对模数转换器的自动化校准，且获取过程中对第一待测数据中的每个数据赋予加权因子，提高了模数转换器的相对精度，进一步提高了模数转换器的校准精度。图1根据本公开示例性实施例示出的一种模数转换器校准方法的流程图，参见图1，该模数转换器校准方法可以包括以下步骤：在步骤S11中，获取第一待测数据以及第一输出数据，第一输出数据为目标模数转换器根据第一待测数据进行模数转换后输出的数据。其中，取目标模数转换器可进行模数转换的数据中的部分数据作为第一待测数据，第一待测数据的数据个数小于目标模数转换器可输入的最大数据个数，以通过少量的数据对目标模数转换器进行校准，从而缩短校准时长，降低校准成本，提高校准速度。示例地，目标模数转换器可输入的最大数据个数为1024的情况下，第一待测数据的数据个数可以为小于1024的任意数据个数，如，第一待测数据的数据个数可以为6、10、20等。在步骤S12中，对第一待测数据中的每个数据赋予加权因子，根据赋予加权因子后的第一待测数据和第一输出数据得到初始校准值。其中，可以采用最小二乘法根据赋予加权因子后的第一待测数据和第一输出数据，计算得到初始校准值，也可以采用加权最小二乘法根据赋予加权因子后的第一待测数据和第一输出数据，计算得到初始校准值。示例地，ADC的理想传输特性为Y=X，其中Y表征ADC的理想输出数据，X表征ADC的输入数据，但ADC在实际运行过程中存在偏置误差b和增益误差k，即ADC的实际传输特征为Y=kX+b；偏置误差是指ADC在零输入时，其转换函数和理想直线的差；增益误差是指ADC的实际传输特性曲线和理想传输特性曲线的偏差程度。本公开将ADC的偏置误差和增益误差定义为校准值。在步骤S13中，根据初始校准值对第一输出数据进行校准，得到第一校准数据。其中，ADC在实际运行过程中受偏置误差和增益误差的影响，其输出的对应原始输入数据的输出数据在一定范围内波动，因此，ADC根据第一输出数据和初始校准值反向推倒得到的第一校准数据与原始输入数据存在误差。示例地，将X输入到目标模数转换器中，目标模数转换器输出Y，根据Y和所述目标模数转换器的初始校准值θ反向推导得到X`，X与X`存在误差。在步骤S14中，获取第一校准数据与第一待测数据之间的第一误差值，根据第一误差值确定第一目标待测数据。其中，根据第一误差与预设精度要求和预设成本要求的关系，从对第一待测数据的数据个数进行调整，从而确定第一目标待测数据。在步骤S15中，根据第一目标待测数据以及对应第一目标待测数据的第一目标输出数据得到第一目标校准值，第一目标校准值用于对目标模数转换器进行校准。本公开通过少量的数据对目标模数转换器进行校准，从而缩短校准时长，降低校准成本，提高校准速度；对第一待测数据中的每个数据赋予加权因子，从而提高目标模数转换器的相对精度；根据第一误差值与预设精度要求和预设成本要求的关系，从对第一待测数据的数据个数进行调整，确定第一目标待测数据，保证了校准结果的可靠性，整个校准过程无需人为干涉，实现对模数转换器的自动化校准。为了便于本领域技术人员更加理解本公开提供的模数转换器校准方法，下面对该模数转换器校准方法的相关步骤进行详细举例说明。在一可行的实施例中，模数转换器校准方法还包括：循环执行获取第一待测数据以及第一输出数据至获取所述第一校准数据与第一待测数据之间的第一误差值，根据第一误差值确定第一目标待测数据的步骤，并将每次获取到的第一目标待测数据与预设精度要求以及预设成本要求进行匹配，得到匹配结果，直到得到满足预设精度要求以及预设成本要求的第一目标待测数据。其中，第一待测数据的数据长度随着循环的次数发生变化，下一次循环获取的第一待测数据与上一次循环的第一待测数据不同。在步骤S15中，根据第一目标待测数据以及对应第一目标待测数据的第一目标输出数据得到第一目标校准值，包括：根据满足预设精度要求以及预设成本要求的第一目标待测数据以及对应第一目标待测数据的第一目标输出数据得到第一目标校准值。其中，预设精度要求可根据目标模数转换器的校准精度需求进行预设，可以为误差阈值，也可以为误差区间。其中目标模数转换器的校准精度与待测数据的个数成正比，待测数据的数据个数越多，校准精度越高，待测数据的数据个数越少，校准精度越低。示例地，在预设精度要求为误差阈值的情况下，将误差值与预设精度要求进行匹配包括：判断误差值是否小于或等于误差阈值；在预设精度要求为误差区间的情况下，将误差值与预设精度要求进行匹配包括：判断误差值是否处于误差区间内。其中，预设成本要求可以根据目标模数转换器的校准成本进行预设，可以为成本阈值，也可以为成本区间。其中目标模数转换器的校准成本与待测数据的数据个数成正比，待测数据的数据个数越多，校准成本越高，待测数据的数据个数越少，校准成本越低。示例地，在预设成本要求为成本阈值的情况下，将误差值与预设成本要求进行匹配包括：确定对应误差值的校准成本，判断该校准成本是否小于或等于成本阈值；在预设成本要求为成本区间的情况下，将误差值与预设成本要求进行匹配包括：确定对应误差值的校准成本，判断该校准成本是否处于成本区间内。本公开通过预设精度要求和预设成本要求对误差值进行限定，从而对待测数据的数据个数进行调整，保证了根据目标待测数据得到的目标校准值的准确性和可靠性。在一可行的实施例中，模数转换器校准方法还可以包括：根据最近一次得到的匹配结果调整下一次循环获取的第一待测数据的数据个数；其中，在匹配结果为满足预设精度要求且不满足预设成本要求的情况下，减小下一次循环获取的第一待测数据的数据个数。示例地，预设精度要求为误差阈值，预设成本要求为成本阈值，匹配结果为误差值小于或等于误差阈值，且对应误差值的校准成本大于成本阈值的情况下，从上一次获取的第一待测数据选取部分待测数据作为下一次循环获取的第一待测数据，从而减小对应误差值的校准成本。或者，在匹配结果为不满足预设精度要求的情况下，增加下一次循环获取的第一待测数据的数据个数。示例地，预设精度要求为误差阈值，预设成本要求为成本阈值，匹配结果为误差值大于误差阈值的情况下，在上一次获取的第一待测数据基础上增加新的待测数据作为下一次循环获取的第一待测数据，从而减小误差值。本公开在匹配结果为不满足预设精度要求的情况下，从上一次获取的第一待测数据选取部分待测数据作为下一次循环获取的第一待测数据，从而确定出满足预设精度要求的待测数据，进而在上一次获取的第一待测数据基础上增加新的待测数据作为下一次循环获取的第一待测数据，直至确定出同时满足预设精度要求和预设成本要求的第一目标待测数据。在一可行的实施例中，第一待测数据的加权因子通过以下公式得到：W=）]2；其中，W表征加权因子，X表征第一待测数据，i表征数据个数，diag表征对角矩阵。其中，加权因子与第一待测数据中数据的数值大小成反比，第一待测数据中数据的数值越大，该数据的加权因子越小；第一待测数据中数据的数值越小，该数据的加权因子越大。示例地，在第一待测数据X为X的情况下，数据1的加权因子W=2，数据2的加权因子W=2，数据5的加权因子W=2，数据6的加权因子W=2，数据8的加权因子W=2，数据9的加权因子W=2。本公开通过对第一待测数据中数值小的数据赋予较大的加权因子，对第一待测数据中数值大的数据赋予较小的加权因子，从而避免模数转换器的输入数据中数值小的数据的相对误差百分比过大，提高了模数转换器的相对精度。在一可行的实施例中，初始校准值通过以下公式得到：θ=-1ATWY；其中，θ表征初始校准值，θ=T，k表征增益误差，b表征偏置误差，A表征根据第一待测数据确定的测试数据，W表征加权因子，Y表征第一输出数据。其中，因为考虑了偏置误差b，为了保证方程可以正常运行，需在待测数据X中增加列向量1，从而确定对应待测数据X的测试数据A=、1]。示例地，在待测数据X为的情况下，对应待测数据的测试数据为，简化为、1]。本公开通过第一待测数据、第一输出数据以及模数转换器的传输特征，计算得到该模数转换器的初始校准值。举例说明，第一待测数据X为T，第一输出数据Y为T，测试误差引入噪声向量N，N为T，该模数转换器的传输特征为：，简化为：Y=kX+b+N。为了对增益误差k、偏置误差b进行估算，假设增益误差k、偏置误差b的参数向量为校准值θ，得到θ=T，则模数转换器的实际传输特性为Y=Aθ+N。其中，A和Y已知，在N为高斯白噪声的情况下，为了估算θ，得到代价函数：I=，将W=）]2代入代价函数得到I=TW。对代价函数进行简化，得到θ=-1ATWY。其中，本公开不对模数转换器的传输特性进行限定，基于加权最小二乘法对模数转换器的输入数据分别赋予加权因子实现对模数转换器的校准均在本公开的保护范围内。示例地，在模数转换器的理想传输特性为Y=k1X2+k2X的情况下，通过本公开提供的模数转换器校准方法进行校准，得到模数转换器的实际传输特性为Y=k1X2+k2X+b。在一可行的实施例中，校准后的目标模数转换器的传输特性包括：Y=kX+b+N，其中，Y表征第一目标输出数据，X表征第一目标待测数据，i表征目标数据个数，k表征增益误差，b表征偏置误差，N表征噪声向量。示例地，在第一目标校准值包括增益误差k以及偏置误差b的情况下，目标模数转换器可以通过以下公式进行校准：Y=kX+b+N，其中，Y表征目标模数转换器的输出数据，X表征输入至目标模数转换器的待测数据，i表征待测数据的数据个数，k表征增益误差，b表征偏置误差，N表征噪声向量。在一可行的实施例中，参见图2，该模数转换器校准方法还可以包括以下步骤：在步骤S21中，获取第二待测数据以及第二输出数据，第二待测数据包括目标模数转换器的输入数据中除第一待测数据之外的剩余输入数据中的任意数据，第二输出数据为目标模数转换器根据第二待测数据进行模数转换后输出的数据。其中，为确定出第一目标待测数据，在循环过程中会获取多个第一待测数据，第二待测数据与多个第一待测数据均不同，第二待测数据包括目标模数转换器的输入数据中除多个第一待测数据之外的剩余输入数据中的任意数据。示例地，获取第二待测数据X和第二输出数据Y，在目标模数转换器的输入数据有1024个数据且第一待测数据X中i为6的情况下，X包括在XT的基础上增加输入数据中除XT以外的剩余输入数据中的任意数据，例如XT。在步骤S22中，根据第一目标校准值对第二输出数据进行校准，得到第二校准数据。其中，第一目标校准值同样可通过以下公式得到：θ1=-1A1TW1Y1；其中，θ1表征第一目标校准值，θ1=T，k表征增益误差，b表征偏置误差，A1表征根据第一目标待测数据确定的测试数据，W1表征加权因子，Y1表征第一输出数据。其中，第一目标待测数据中每个数据得加权因子通过以下公式得到：W1=）]2；其中，W1表征加权因子，X表征第一目标待测数据，diag表征对角矩阵。示例地，将X输入到目标模数转换器中，目标模数转换器输出Y，根据Y和目标模数转换器的第一目标校准值θ1反向推导得到X`，X与X`存在误差。在步骤S23中，获取第二校准数据与第二待测数据之间的第二误差值，根据第二误差值确定第二目标待测数据。示例地，循环执行获取第二待测数据以及第二输出数据至获取第二校准数据与第二待测数据之间的第二误差值，根据第二误差值确定第二目标待测数据的步骤，并将每次获取到的第二目标待测数据与预设精度要求以及预设成本要求进行匹配，得到匹配结果，直到得到满足预设精度要求以及预设成本要求的第二目标待测数据。在步骤S24中，根据第二目标待测数据以及对应第二目标待测数据的第二目标输出数据得到第二目标校准值，该第二目标校准值用于对目标模数转换器进行再次校准。示例地，根据最近的一次匹配结果调整下一次循环获取的第二待测数据的数据个数，在匹配结果为满足预设精度要求且不满足预设成本要求的情况下，减小下一次循环获取的第一待测数据的数据个数；在匹配结果为不满足预设精度要求的情况下，增加下一次循环获取的第一待测数据的数据个数。本公开通过包括目标模数转换器的输入数据中除待测数据以外的剩余数据的任意数据的第二待测数据，对根据第一待测数据确定的第一目标校准值进行校验，并在在第一目标校准值不满足预设精度要求或满足预设精度要求不满足预设成本要求的情况下，调整第一待测数据，直至得到满足预设精度要求和预设成本要求的第二目标数据，从而提高了目标模数转换器的准确性与可靠性。举例说明，参见图3，本公开提供的模数转换器校准方法可以包括以下步骤：在步骤S31中，获取输入至待校准ADC的第一待测数据X，第一待测数据的数据个数为i。在步骤S32中，获取待校准ADC根据第一待测数据X输出的第一输出数据Y。在步骤S33中，根据X和Y计算得到初始校准值θ。在步骤S34中，根据初始校准值θ对Y进行校准，得到第一校准数据X`。在步骤S35中，获取第一待测数据X和第一校准数据X`的第一误差，判断第一误差与预设精度要求和预设成本要求的关系。在第一误差不满足预设精度要求的情况下，增加i，并返回执行步骤S31。在第一误差满足预设精度要求且不满足预设成本要求的情况下，减小i，并返回执行步骤S31。在步骤S36中，在第一误差同时满足预设精度要求和预设成本要求的情况下，获取第二待测数据X，以及待校准ADC根据第二待测数据X输出的输出数据Y，第二待测数据X的数据个数为j，j包括除i以外的任一数据个数。在步骤S37中，根据初始校准值θ对Y进行校准，得到第二校准数据X`。在步骤S38中，获取第二待测数据X和第二校准数据X`的第二误差值，判断所述第二误差值与预设精度要求和预设成本要求的关系。在第二误差不满足预设精度要求的情况下，增加i，并返回执行步骤S31。在第二误差满足预设精度要求且不满足预设成本要求的情况下，减小i，并返回执行步骤S31。在步骤S39中，在第二误差值同时满足预设精度要求和预设成本要求的情况下，确定本次循环的第一待测数据X为第一目标待测数据。在步骤S310中，根据第一目标待测数据X以及对应X的Y计算得到第一目标校准值θ1。其中，参见图4a，在步骤S33和步骤S310中若通过最小二乘法进行校准，则校准后的模数转换器在输入数据的数值较小时，对应的误差值控制在2.5%以内。参见图4b，在步骤S33和步骤S310中若通过加权最小二乘法进行校准，则校准后的模数转换器在输入数据的数值较小时，对应的误差值可控制在0.3%以内。可见通过加权最小二乘法进行校准的效果更好。本公开通过对待校准ADC的第一待测数据的数据个数进行控制，可得到同时满足预设成本要求和预设精度要求的第一目标待测数据，通过对待校准ADC的输入数据中数值大的数据赋予较小加权因子，数值小的数据赋予较大的加权因子，从而提高校准后的ADC的相对精度，采用加权最小二乘法进行校准，增大了校准结果的可靠性，根据第二目标待测数据和对应第二目标待测数据的第二输出数据得到第二目标校准值，从而根据第二目标校准值对待校准ADC再次进行校准。整个过程无需人为干涉，且无需对硬件进行改进，实现了ADC的自动校准。基于同一发明构思，本公开还提供一种模数转换器校准装置，参见图5，该模数转换器校准装置500包括获取模块501、第一执行模块502、校准模块503、调整模块504以及第二执行模块505。其中，获取模块501，被配置为获取第一待测数据以及第一输出数据，第一输出数据为目标模数转换器根据第一待测数据进行模数转换后输出的数据。第一执行模块502，被配置为对第一待测数据中的每个数据赋予加权因子，根据赋予加权因子后的第一待测数据和第一输出数据得到初始校准值。校准模块503，被配置为根据初始校准值对第一输出数据进行校准，得到第一校准数据。调整模块504，被配置为获取第一校准数据与第一待测数据之间的第一误差值，根据第一误差值确定第一目标待测数据。第二执行模块505，被配置为根据第一目标待测数据以及对应第一目标待测数据的第一目标输出数据得到第一目标校准值，第一目标校准值用于对目标模数转换器进行校准。本公开通过少量的数据对目标模数转换器进行校准，从而缩短校准时长，降低校准成本，提高校准速度；对第一待测数据中的每个数据赋予加权因子，从而提高目标模数转换器的相对精度；根据第一误差值与预设精度要求和预设成本要求的关系，从对第一待测数据的数据个数进行调整，确定第一目标待测数据，保证了校准结果的可靠性，整个校准过程无需人为干涉，实现对模数转换器的自动化校准。进一步的，获取模块501，还被配置为获取第二待测数据以及第二输出数据，第二待测数据包括目标模数转换器的输入数据中除待测数据之外的剩余输入数据中的任意数据，第二输出数据为目标模数转换器根据第二待测数据进行模数转换后输出的数据。校准模块503，还被配置为根据第一目标校准值对第二输出数据进行校准，得到第二校准数据。调整模块504，还被配置为获取第二校准数据与所述第二待测数据之间的第二误差值，根据第二误差值确定第二目标待测数据；第二执行模块505，被配置为根据第二目标待测数据以及对应第二目标待测数据的第二目标输出数据得到第二目标校准值，该第二目标校准值用于对目标模数转换器进行再次校准。进一步的，获取模块501至调整模块504循环执行获取第一待测数据以及第一输出数据至获取第一校准数据与第一待测数据之间的第一误差值，根据第一误差值确定第一目标待测数据的步骤，并将每次获取到的第一目标待测数据与预设精度要求以及预设成本要求进行匹配，得到匹配结果，直到得到满足预设精度要求以及预设成本要求的第一目标待测数据；调整模块504，被配置为根据满足所述预设精度要求以及所述预设成本要求的第一目标待测数据以及对应所述第一目标待测数据的第一目标输出数据得到第一目标校准值。进一步的，调整模块504，被配置为根据最近一次得到的所述匹配结果调整下一次循环获取的第一待测数据的数据个数；其中，在匹配结果为满足预设精度要求且不满足预设成本要求的情况下，减小下一次循环获取的第一待测数据的数据个数；或者，在匹配结果为不满足预设精度要求的情况下，增加下一次循环获取的第一待测数据的数据个数。进一步的，第一执行模块502，被配置为执行以下步骤得到加权因子：W=）]2；其中，W表征加权因子，X表征第一待测数据，i表征数据个数，diag表征对角矩阵。进一步的，第一执行模块502，被配置为执行以下步骤得到初始校准值：θ=-1ATWY；其中，θ表征初始校准值，θ=T，k表征增益误差，b表征偏置误差，A表征根据第一待测数据确定的测试数据，W表征加权因子，Y表征第一输出数据。进一步的，校准后的目标模数转换器的传输特征包括：Y=kX+b+N，其中，Y表征第一目标输出数据，X表征第一目标待测数据，i表征目标数据个数，i表征数据个数，k表征增益误差，b表征偏置误差，N表征噪声向量。关于上述实施例中的模数转换器校准装置500，其中各个模块执行操作的具体方式已经在有关该方法的实施例中进行了详细描述，此处将不做详细阐述说明。基于同一发明构思，本公开还提供一种芯片，该芯片包括：存储器，其上存储有计算机程序；处理器，用于执行存储器中的计算机程序，以实现上述的模数转换器校准方法的步骤。本公开通过少量的数据对目标模数转换器进行校准，从而缩短校准时长，降低校准成本，提高校准速度；对待测数据中的每个数据赋予加权因子，从而提高目标模数转换器的相对精度；根据第一误差值与预设精度要求和预设成本要求的关系，从对待测数据的数据个数进行调整，确定目标待测数据，保证了校准结果的可靠性，整个校准过程无需人为干涉，实现对模数转换器的自动化校准。图6是根据一示例性实施例示出的一种芯片600的框图，参照图6，芯片600包括处理器622，其数量可以为一个或多个，以及存储器632，用于存储可由处理器622执行的计算机程序。存储器632中存储的计算机程序可以包括一个或一个以上的每一个对应于一组指令的模块。此外，处理器622可以被配置为执行该计算机程序，以执行上述的模数转换器校准方法。另外，芯片600还可以包括电源组件626和通信组件650，该电源组件626可以被配置为执行芯片600的电源管理，该通信组件650可以被配置为实现芯片600的通信，例如，有线或无线通信。此外，该芯片600还可以包括输入/输出接口658。芯片600可以操作基于存储在存储器632的操作系统。在另一示例性实施例中，还提供了一种包括程序指令的计算机可读存储介质，该程序指令被处理器执行时实现上述的模数转换器校准方法的步骤。例如，该非临时性计算机可读存储介质可以为上述包括程序指令的存储器632，上述程序指令可由芯片600的处理器622执行以完成上述的模数转换器校准方法。在另一示例性实施例中，还提供一种计算机程序产品，该计算机程序产品包含能够由可编程的装置执行的计算机程序，该计算机程序具有当由该可编程的装置执行时用于执行上述的模数转换器校准方法的代码部分。以上结合附图详细描述了本公开的优选实施方式，但是，本公开并不限于上述实施方式中的具体细节，在本公开的技术构思范围内，可以对本公开的技术方案进行多种简单变型，这些简单变型均属于本公开的保护范围。另外需要说明的是，在上述具体实施方式中所描述的各个具体技术特征，在不矛盾的情况下，可以通过任何合适的方式进行组合。为了避免不必要的重复，本公开对各种可能的组合方式不再另行说明。此外，本公开的各种不同的实施方式之间也可以进行任意组合，只要其不违背本公开的思想，其同样应当视为本公开所公开的内容。
