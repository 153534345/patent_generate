标题title
一种雷达信号的检测方法、装置、电子设备及存储介质
摘要abst
本公开提供了一种雷达信号的检测方法、装置、电子设备及存储介质，通过在待测WiFi信号所包含的目标脉冲信号中，筛选非有效OFDM帧且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号；当有效雷达信号大于预设数量阈值时，确定有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将有效雷达信号确定为目标雷达信号。可以有效降低由邻信道或同信道干扰造成的雷达脉冲虚警率，提升雷达信号检测的准确性。
权利要求书clms
1.一种雷达信号的检测方法，其特征在于，包括：获取待测WiFi信号所包含的目标脉冲信号；在所述目标脉冲信号中，筛选非有效OFDM帧且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号；当所述有效雷达信号大于预设数量阈值时，确定所述有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将所述有效雷达信号确定为目标雷达信号。2.根据权利要求1所述的方法，其特征在于，基于以下步骤获取所述目标脉冲信号：获取所述待测WiFi信号对应的平均信号功率，确定在预设差分间隔之间所述平均信号功率对应的功率差；根据所述功率差在所述待测WiFi信号中检测脉冲上升沿与对应的脉冲下降沿，确定所述脉冲上升沿与所述脉冲下降沿对应的目标脉冲信号。3.根据权利要求2所述的方法，其特征在于，所述根据所述功率差在所述待测WiFi信号中检测脉冲上升沿与对应的脉冲下降沿，确定所述脉冲上升沿与所述脉冲下降沿对应的目标脉冲信号，具体包括：根据所述功率差，确定在所述待测WiFi信号中出现的所述脉冲上升沿与所述脉冲下降沿，并记录对应的上升沿检测状态与下降沿检测状态；确定所述脉冲上升沿对应的上升沿时间，以及所述脉冲下降沿对应的下降沿时间；在所述下降沿检测状态下，若所述下降沿时间大于所述上升沿时间，且前一所述检测状态为所述上升沿检测状态，则所述脉冲上升沿与所述脉冲下降沿对应；将所述脉冲上升沿与所述脉冲下降沿之间的脉冲信号确定为所述目标脉冲信号。4.根据权利要求2所述的方法，其特征在于，在所述根据所述功率差在所述待测WiFi信号中检测脉冲上升沿与对应的脉冲下降沿，确定所述脉冲上升沿与所述脉冲下降沿对应的目标脉冲信号同时，所述方法还包括：针对所述目标脉冲信号进行同步处理，确定所述待测WiFi信号中，所述目标脉冲信号与本地同步序列之间的同步状态信息。5.根据权利要求4所述的方法，其特征在于，所述在所述目标脉冲信号中，筛选非有效OFDM帧且脉宽、功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号具体包括：针对每个所述目标脉冲信号，根据所述同步状态信息，确定该目标脉冲信号是否为非有效OFDM帧；若是，则确定对应的所述脉冲功率是否大于预设的功率阈值；若否，则丢弃该目标脉冲信号；若是，则确定该目标脉冲信号对应的所述脉宽是否处于预设的脉宽阈值下限以及脉宽阈值上限之间；若否，则丢弃该目标脉冲信号；若是，则确定该目标脉冲信号对应的所述峰值平均功率比是否处于预设的峰值平均功率比范围；若否；则丢弃该目标脉冲信号；若是，则确定该目标脉冲信号为所述有效雷达信号；若否，则丢弃该目标脉冲信号。6.根据权利要求2所述的方法，其特征在于，所述获取待测WiFi信号对应的平均信号功率，具体包括：根据预设的采样率针对所述待测WiFi信号进行下采样，获取基带数据；按照预设的滑动窗口，确定所述滑动窗口内的数据点对应的采样信号功率；确定所述采样信号功率对应的累加值，根据所述累加值以及所述滑动窗口的长度，确定所述平均信号功率。7.根据权利要求1所述的方法，其特征在于，基于以下步骤确定所述峰值平均功率比：确定所述目标脉冲信号内的脉冲内峰值功率以及脉冲内平均功率；将所述脉冲内峰值功率与所述脉冲内平均功率之间的差值确定为所述峰值平均功率比。8.一种雷达信号的检测装置，其特征在于，包括：获取模块，用于获取待测WiFi信号所包含的目标脉冲信号；雷达信号筛选模块，用于在所述目标脉冲信号中，筛选非有效OFDM帧，且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号；雷达信号确定模块，用于当所述有效雷达信号大于预设数量阈值时，确定所述有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将所述有效雷达信号确定为目标雷达信号。9.一种电子设备，其特征在于，包括：处理器、存储器和总线，所述存储器存储有所述处理器可执行的机器可读指令，当电子设备运行时，所述处理器与所述存储器之间通过总线通信，所述机器可读指令被所述处理器执行时执行如权利要求1至7中任一项所述的雷达信号的检测方法的步骤。10.一种计算机可读存储介质，其特征在于，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器运行时执行如权利要求1至7中任一项所述的雷达信号的检测方法的步骤。
说明书desc
技术领域本公开涉及无线局域网技术领域，具体而言，涉及一种雷达信号的检测方法、装置、电子设备及存储介质。背景技术随着无线局域网技术的发展，无线局域网逐步从2.4GHz信道向5GHz信道演进。无线局域网可以使用U-NII-1，U-NII-2A、U-NII-2C以及U-NII-3频段传输数据，由于U-NII-2A频段及U-NII-2C频段同样用于军用和气象雷达系统，为了避免无线局域网通信对军用和气象雷达系统的干扰，使用U-NII-2A频段和U-NII-2C频段的无线局域网产品需要支持动态频率选择机制。动态频率选择机制能够检测当前工作信道是否存在雷达信号，并动态引导无线局域网设备切换到另一条信道，避免对军用和气象雷达系统的干扰。目前，在无线局域网实际使用过程中，由于网络设置不当等因素，非常有可能遭遇来自邻信道或同信道的干扰，导致部分OFDM帧无法被成功识别，进而无法判定为有效的OFDM帧。而无法被识别为有效OFDM帧的信号在特征参数与雷达信号相匹配时，则极有可能被误判为雷达脉冲，出现雷达信号的虚警，针对无线局域网中接收到的雷达信号的检测准确率较低，影响无线局域网的工作性能及效率。发明内容本公开实施例至少提供一种雷达信号的检测方法、装置、电子设备及存储介质，可以有效降低由邻信道或同信道干扰造成的雷达脉冲虚警率，提升雷达信号检测的准确性。本公开实施例提供了一种雷达信号的检测方法，包括：获取待测WiFi信号所包含的目标脉冲信号；在所述目标脉冲信号中，筛选非有效OFDM帧且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号；当所述有效雷达信号大于预设数量阈值时，确定所述有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将所述有效雷达信号确定为目标雷达信号。一种可选的实施方式中，基于以下步骤获取所述目标脉冲信号：获取所述待测WiFi信号对应的平均信号功率，确定在预设差分间隔之间所述平均信号功率对应的功率差；根据所述功率差在所述待测WiFi信号中检测脉冲上升沿与对应的脉冲下降沿，确定所述脉冲上升沿与所述脉冲下降沿对应的目标脉冲信号；一种可选的实施方式中，所述根据所述功率差在所述待测WiFi信号中检测脉冲上升沿与对应的脉冲下降沿，确定所述脉冲上升沿与所述脉冲下降沿对应的目标脉冲信号，具体包括：根据所述功率差，确定在所述待测WiFi信号中出现的所述脉冲上升沿与所述脉冲下降沿，并记录对应的上升沿检测状态与下降沿检测状态；确定所述脉冲上升沿对应的上升沿时间，以及所述脉冲下降沿对应的下降沿时间；在所述下降沿检测状态下，若所述下降沿时间大于所述上升沿时间，且前一所述检测状态为所述上升沿检测状态，则所述脉冲上升沿与所述脉冲下降沿对应；将所述脉冲上升沿与所述脉冲下降沿之间的脉冲信号确定为所述目标脉冲信号。一种可选的实施方式中，在所述根据所述功率差在所述待测WiFi信号中检测脉冲上升沿与对应的脉冲下降沿，确定所述脉冲上升沿与所述脉冲下降沿对应的目标脉冲信号同时，所述方法还包括：针对所述目标脉冲信号进行同步处理，确定所述待测WiFi信号中，所述目标脉冲信号与本地同步序列之间的同步状态信息。一种可选的实施方式中，所述在所述目标脉冲信号中，筛选非有效OFDM帧且脉宽、功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号具体包括：针对每个所述目标脉冲信号，根据所述同步状态信息，确定该目标脉冲信号是否为非有效OFDM帧；若是，则确定对应的所述脉冲功率是否大于预设的功率阈值；若否，则丢弃该目标脉冲信号；若是，则确定该目标脉冲信号对应的所述脉宽是否处于预设的脉宽阈值下限以及脉宽阈值上限之间；若否，则丢弃该目标脉冲信号；若是，则确定该目标脉冲信号对应的所述峰值平均功率比是否处于预设的峰值平均功率比范围；若否；则丢弃该目标脉冲信号；若是，则确定该目标脉冲信号为所述有效雷达信号；若否，则丢弃该目标脉冲信号。一种可选的实施方式中，所述获取待测WiFi信号对应的平均信号功率，具体包括：根据预设的采样率针对所述待测WiFi信号进行下采样，获取基带数据；按照预设的滑动窗口，确定所述滑动窗口内的数据点对应的采样信号功率；确定所述采样信号功率对应的累加值，根据所述累加值以及所述滑动窗口的长度，确定所述平均信号功率。一种可选的实施方式中，基于以下步骤确定所述峰值平均功率比：确定所述目标脉冲信号内的脉冲内峰值功率以及脉冲内平均功率；将所述脉冲内峰值功率与所述脉冲内平均功率之间的差值确定为所述峰值平均功率比。本公开实施例还提供一种雷达信号的检测装置，包括：获取模块，用于获取待测WiFi信号所包含的目标脉冲信号；雷达信号筛选模块，用于在所述目标脉冲信号中，筛选非有效OFDM帧，且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号；雷达信号确定模块，用于当所述有效雷达信号大于预设数量阈值时，确定所述有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将所述有效雷达信号确定为目标雷达信号。本公开实施例还提供一种电子设备，包括：处理器、存储器和总线，所述存储器存储有所述处理器可执行的机器可读指令，当电子设备运行时，所述处理器与所述存储器之间通过总线通信，所述机器可读指令被所述处理器执行时执行上述雷达信号的检测方法，或上述雷达信号的检测方法中任一种可能的实施方式中的步骤。本公开实施例还提供一种计算机可读存储介质，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器运行时执行上述雷达信号的检测方法，或上述雷达信号的检测方法中任一种可能的实施方式中的步骤。本公开实施例还提供一种计算机程序产品，包括计算机程序/指令，该计算机程序、指令被处理器执行时实现上述雷达信号的检测方法，或上述雷达信号的检测方法中任一种可能的实施方式中的步骤。本公开实施例提供的一种雷达信号的检测方法、装置、电子设备及存储介质，通过在待测WiFi信号所包含的目标脉冲信号中，筛选非有效OFDM帧且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号；当有效雷达信号大于预设数量阈值时，确定有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将有效雷达信号确定为目标雷达信号。可以有效降低由邻信道或同信道干扰造成的雷达脉冲虚警率，提升雷达信号检测的准确性。为使本公开的上述目的、特征和优点能更明显易懂，下文特举较佳实施例，并配合所附附图，作详细说明如下。附图说明为了更清楚地说明本公开实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，此处的附图被并入说明书中并构成本说明书中的一部分，这些附图示出了符合本公开的实施例，并与说明书一起用于说明本公开的技术方案。应当理解，以下附图仅示出了本公开的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1示出了本公开实施例所提供的一种无线局域网雷达检测系统的示意图；图2示出了本公开实施例所提供的一种雷达信号的检测方法的流程图；图3示出了本公开实施例所提供的一种雷达信号的检测装置的示意图；图4示出了本公开实施例所提供的一种电子设备的示意图。具体实施方式为使本公开实施例的目的、技术方案和优点更加清楚，下面将结合本公开实施例中附图，对本公开实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本公开一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本公开实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本公开的实施例的详细描述并非旨在限制要求保护的本公开的范围，而是仅仅表示本公开的选定实施例。基于本公开的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本公开保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。本文中术语“和/或”，仅仅是描述一种关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中术语“至少一种”表示多种中的任意一种或多种中的至少两种的任意组合，例如，包括A、B、C中的至少一种，可以表示包括从A、B和C构成的集合中选择的任意一个或多个元素。经研究发现，目前，在无线局域网实际使用过程中，由于网络设置不当等因素，非常有可能遭遇来自邻信道或同信道的干扰，导致部分OFDM帧无法被成功识别，进而无法判定为有效的OFDM帧。而无法被识别为有效OFDM帧的信号在特征参数与雷达信号相匹配时，则极有可能被误判为雷达脉冲，出现雷达信号的虚警，针对无线局域网中接收到的雷达信号的检测准确率较低，影响无线局域网的工作性能及效率。基于上述研究，本公开提供了一种雷达信号的检测方法、装置、电子设备及存储介质，通过在待测WiFi信号所包含的目标脉冲信号中，筛选非有效OFDM帧且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号；当有效雷达信号大于预设数量阈值时，确定有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将有效雷达信号确定为目标雷达信号。可以有效降低由邻信道或同信道干扰造成的雷达脉冲虚警率，提升雷达信号检测的准确性。为便于对本实施例进行理解，首先对本公开实施例所公开的一种雷达信号的检测方法进行详细介绍，本公开实施例所提供的雷达信号的检测方法可以应用于无线局域网雷达检测系统中的雷达检测模块，参见图1所示，为本公开实施例提供的一种无线局域网雷达检测系统的示意图。如图1所示，雷达检测模块位于WIFI接收器内，并与自动增益控制模块、同步模块及空闲信道评估模块进行信息交互。WIFI接收模块与雷达检测功能相关的部分包括天线、射频模块、模数转换模块、滤波模块、自动增益控制模块、同步模块、空闲信道评估模块及雷达检测模块等。具体的，天线用于接收无线局域网WIFI信号；射频模块，用于将WIFI射频信号下变频到基带，完成信号的滤波及放大；ADC模块，用于将模拟信号转换为数字信号；滤波模块，用于在数字域对下变频后的基带信号进行数字滤波及下采样等处理；自动增益控制模块，用于实现对射频模块增益的自动控制，使到达接收模块的模拟信号功率处于合适的功率区间；同步模块，用于完成对接收信号的同步处理，判定是否为有效WIFI数据包；空闲信道评估模块，用于对信道空闲状态进行检测，并对WIFI接收模块的状态进行控制；雷达检测模块用于实现对无线局域网内雷达信号的检测。参见图2所示，为本公开实施例提供的一种雷达信号的检测方法的流程图，所述方法包括步骤S101~S103，其中：S101、获取待测WiFi信号所包含的目标脉冲信号。在具体实施中，雷达检测模块从自动增益控制模块读取针对接收到的待测WiFi信号计算得到的平均信号功率，并将该平均信号功率存入至信号功率缓存器中，之后，针对存储于信号功率缓存器中的平均信号功率，计算相隔预设差分间隔的平均信号功率之间的功率差。这里，相隔预设差分间隔的平均信号功率之间的功率差可以通过如下公式进行计算：其中，代表相隔预设差分间隔的平均信号功率之间的功率差；/＞代表n时刻的平均信号功率；/＞代表与n时刻相隔预设差分间隔的平均信号功率；/＞代表预设差分间隔。其中，预设差分间隔与雷达脉冲边沿过渡带的长度有关，可根据实际情况进行选择，预设差分间隔长度需覆盖雷达脉冲信号上升沿及下降沿过渡带的长度，包括但不限于8，16，32，64等2的幂次，优选的为32。具体的，获取平均信号功率的方式可以为：根据预设的采样率针对所述待测WiFi信号进行下采样，获取基带数据；按照预设的滑动窗口，确定所述滑动窗口内的数据点对应的采样信号功率；确定所述采样信号功率对应的累加值，根据所述累加值以及所述滑动窗口的长度，确定所述平均信号功率。需要说明的是，考虑到对DFS测试标准中超短雷达脉冲信号的检测要求，为减小功率估计误差，优选的采用滤波模块下采样到20Msps采样率的基带数据。其中，预设的滑动窗口的长度可根据实际信号处理时钟频率进行设置，包括但不限于8，16，32，64等2的幂次，优选的为8个数据点。需要说明的是，平均信号功率仅在自动增益控制模块锁定一段时间，状态稳定后开始计算，并随平均功率计算值对应输出功率有效信号。作为一种可能的实施方式，n时刻采样信号功率可以通过如下公式进行计算：其中，代表n时刻的采样信号功率；/＞代表n时刻滤波及下采样后的基带数据；/＞代表基带数据的实部；/＞代表基带数据的虚部。这里，当滑动窗口的长度为8个数据点时，平均信号功率可以根据如下公式进行计算：其中，代表n时刻的平均信号功率；/＞代表滑动窗口中数据点对应的采样信号功率。可选的，该平均功率计算可以使用滑动窗口内的数据点滑窗进行累加实现，降低电路实现复杂度，以滑动窗口长度8个数据点为例，平均信号功率的计算方式如下式所示：其中，代表n时刻滑动窗口内8个数据点采样信号功率的累加值；代表n-1时刻滑动窗口内8个数据点采样信号功率的累加值；/＞代表n时刻的采样信号功率；/＞代表滑动窗口起始点前一时刻的采样信号功率。需要说明的是，当累加数据大于滑动窗口长度后，输出功率值有效。进一步的，通过以下公式将平均信号功率转换为对数值：其中，代表n时刻平均信号功率的对数值；/＞代表n时刻的平均信号功率；G代表射频模块的增益，C代表射频及数字域处理的补偿系数。这里，将数字域功率计算值折算到天线端口，转换到以dBm为单位的功率数据，并将功率值存入雷达检测模块的信号功率缓存器中。需要说明的是，所需信号功率缓存器长度与雷达脉冲信号上升沿及下降沿过渡带的长度有关，信号功率缓存器长度需覆盖雷达脉冲信号上升沿及下降沿过渡带的长度，可根据实际情况进行调整，可选的，信号功率缓存器长度可选择为8，16，32，64等2的幂次，优选的为32。作为另一种可能的实施方式，雷达检测模块还可以从自动增益控制模块读取当前计算得到的区间峰值信号功率及功率有效信号等信息，并同时记录自动增益控制模块的锁定状态、自动增益控制模块的增益等信息；从同步模块读取当前接收信号同步状态等信息。这里，区间峰值信号功率可以通过如下公式进行计算：其中，代表n时刻的区间峰值信号功率；/＞代表n时刻的采样信号功率；/＞代表区间起始时刻的采样信号功率。可选的，该区间峰值信号功率可以使用逐点滑动实现，降低电路实现复杂度，如下式所示：其中，代表n时刻存储于区间峰值信号功率的转存寄存器内的峰值信号功率值；/＞代表n-1时刻存储于区间峰值信号功率的转存寄存器内的峰值信号功率值；/＞代表n时刻的采样信号功率。这里，使用转存寄存器作为中间变量，逐点比较/＞与/＞转存寄存器的大小，选择较大的值对/＞转存寄存器进行更新。需要说明的是，每当n为8的整数倍，即时，将/＞寄存器的值传递给/＞区间峰值信号功率寄存器，并将/＞转存寄存器清零，可通过如下公式表示：这样，通过增加中间转存寄存器，将电路复杂度降低，并保持区间峰值功率与平均功率输出的同步，即计算平均功率与区间峰值功率的采样信号功率信息数据相同。进一步的，通过如下公式将n时刻的区间峰值信号功率转换为对数值：其中，代表n时刻的区间峰值信号功率的对数值；/＞代表n时刻的区间峰值信号功率；G代表射频模块的增益；C代表射频及数字域处理的补偿系数。这里，将区间峰值功率值存入雷达检测模块的峰值功率缓存器中。作为另一种可能的实施方式，在步骤S101同时，还可以进行：判断当前自动增益控制模块是否锁定，若已锁定，则判断当前自动增益控制模块输出功率是否有效，若功率有效，则进行步骤S1011，否则返回步骤S101。具体的，通过以下步骤S1011在待测WiFi信号中检测目标脉冲信号，获取所述待测WiFi信号对应的平均信号功率，确定在预设差分间隔之间所述平均信号功率对应的功率差；根据所述功率差在所述待测WiFi信号中检测脉冲上升沿与对应的脉冲下降沿，确定所述脉冲上升沿与所述脉冲下降沿对应的目标脉冲信号。在具体实施中，通过如下步骤1-步骤4在待测WiFi信号中检测脉冲上升沿与对应的脉冲下降沿：步骤1、根据功率差，确定在待测WiFi信号中出现的脉冲上升沿与脉冲下降沿，并记录对应的上升沿检测状态与下降沿检测状态。步骤2、确定脉冲上升沿对应的上升沿时间，以及脉冲下降沿对应的下降沿时间。步骤3、在下降沿检测状态下，若下降沿时间大于上升沿时间，且前一检测状态为上升沿检测状态，则脉冲上升沿与脉冲下降沿对应。步骤4、将脉冲上升沿与脉冲下降沿之间的脉冲信号确定为目标脉冲信号。具体的，将功率差与预设的上升沿阈值比较，若功率差大于上升沿阈值，则检测到脉冲上升沿；将功率差与预设的下降沿阈值比较，若功率差小于下降沿阈值，则检测到脉冲下降沿。其中，上升沿阈值及下降沿阈值可以根据实际情况设置，包括但不限于10 dB -20dB，优选的为12 dB -14 dB。进一步的，若功率差大于上升沿阈值，记录检测到上升沿的上升沿时间，并开始计算脉冲功率和脉冲峰值平均功率比，更新边沿检测寄存器状态为上升沿检测状态并将其存入边沿检测状态缓存器中。其中，边沿检测状态缓存器的长度可根据实际情况进行调整，包括但不限于8，16，32，64等2的幂次，优选的为8。这里，如果当前边沿检测寄存器状态表示处于上升沿检测状态，则开始进行脉冲内功率累加，直到检测到脉冲下降沿时停止，如下式所示：其中，代表脉冲内功率累加值；/＞代表n时刻平均信号功率的对数值。需要说明的是，同时更新脉冲内峰值功率值，如下式所示：其中，代表以对数表示的自动增益控制模块输出的区间峰值功率值；/＞代表以对数表示的脉冲内峰值功率值，比较及更新过程直到检测到脉冲下降沿时停止。进一步的，若功率差小于下降沿阈值，记录检测到下降沿的时间，更新边沿检测寄存器状态为下降沿检测状态，并将其存入边沿检测状态缓存器中。如果下降沿时间大于上升沿时间，同时当前处于下降沿检测状态下，且边沿检测状态缓存器中前一个检测到的边沿状态为上升沿检测状态，说明检测到一对上升沿和下降沿，即一个目标脉冲信号。作为一种可能的实施方式，在步骤S102同时，还可以进行如下步骤1-步骤2：步骤1、针对目标脉冲信号进行同步处理，确定待测信号中，目标脉冲信号与本地同步序列之间的同步状态信息。步骤2、根据同步状态信息，确定目标脉冲信号是否为有效OFDM信号；若是，则丢弃该目标脉冲信号。在具体实施中，根据同步模块提供的状态信息判断检测到的脉冲信号是否为有效的OFDM信号，如果同步模块已与检测到的脉冲信号同步上，说明该脉冲信号为有效的OFDM信号，此时将检测到的该脉冲信号丢弃。如果同步模块并未与检测到的脉冲信号同步上，说明检测到的脉冲信号是潜在的雷达脉冲信号。S102、在所述目标脉冲信号中，筛选非有效OFDM信号且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号。在具体实施中，OFDM波形的一个典型特征是高峰值平均功率比，而典型的单频或扫频雷达信号的峰值平均功率比PAPR相比OFDM信号低。雷达信号的峰值平均功率比PAPR主要集中在0dB-3dB之间，OFDM信号峰值平均功率比PAPR主要集中在8.5dB-12dB之间，因此，可以利用该特征实现OFDM信号与雷达信号的高效可靠区分，大幅降低由邻信道或同信道干扰造成的虚警。这里，步骤S103可以通过如下步骤1-步骤4实现：步骤1、针对每个目标脉冲信号，确定该目标脉冲信号对应的脉冲功率是否大于预设的功率阈值。步骤2、若是，则确定该目标脉冲信号对应的脉宽是否处于预设的脉宽阈值下限以及脉宽阈值上限之间；若否，则丢弃该目标脉冲信号。步骤3、若是，则确定该目标脉冲信号对应的峰值平均功率比是否处于预设的峰值平均功率比范围；若否，则丢弃该目标脉冲信号。步骤4、若是，则确定该目标脉冲信号为有效雷达信号；若否，则丢弃该目标脉冲信号。在具体实施中，首先，判断检测到的脉冲功率是否大于功率阈值，根据DFS测试标准，雷达信号的检测阈值为-62dBm或-64dBm，考虑到实际估计中的误差并预留一定余量，该阈值可根据实际情况进行设置。优选的，功率阈值为-66dBm ~ -64dBm。当检测到的脉冲功率大于功率阈值时，说明检测到的脉冲信号是潜在的雷达脉冲信号，否则将检测到的脉冲信号丢弃。其次，判定检测到的脉冲信号脉宽是否满足脉宽阈值，即脉宽是否在脉宽阈值下限及脉宽阈值上限之间，脉宽阈值下限及脉宽阈值上限可根据DFS测试标准进行设置。其中，脉宽阈值下限及脉宽阈值上限之间可以设置两个区间，一个是短脉冲区间，另一个是长脉冲区间，考虑到实际检测过程中的误差，该门限可根据实际情况进行设置。优选的，短脉冲区间，长脉冲区间。当检测到的脉冲信号脉宽在短脉冲区间或长脉冲区间时，说明检测到的脉冲信号是潜在的雷达脉冲信号，否则，将检测到的脉冲信号丢弃。最后，判定检测到的脉冲峰值平均功率比是否满足峰值平均功率比阈值，该阈值可根据实际检测情况进行设置，可选的，峰值平均功率比阈值可设置在3dB-8.5dB之间。优选的，为减小虚警概率优选脉冲峰值平均功率比阈值为5dB。当脉冲峰值平均功率比小于或等于脉冲峰值平均功率比阈值时，说明检测到的脉冲信号为潜在的雷达脉冲信号。当脉冲峰值平均功率比大于脉冲峰值平均功率比阈值时，说明检测到的脉冲信号可能是由于OFDM信号造成的虚警，将检测到的脉冲信号丢弃。需要说明的是，若检测到的脉冲信号满足以上所有要求，则认定为一个有效的雷达脉冲信号，若不满足以上任一要求，则返回步骤S101，继续进行数据读取。作为一种可能的实施方式，通过如下公式计算目标脉冲信号对应的脉宽：其中，代表目标脉冲信号对应的脉宽；/＞代表检测到下降沿的时间；代表检测到上升沿的时间。作为一种可能的实施方式，通过如下公式计算脉冲功率，首先将脉冲内功率累加值转换为线性值：其中，代表脉冲内功率累加值；/＞代表脉冲内功率累加值对应的线性值。进一步的，根据转换为线性值的脉冲内功率累加值与脉宽之间的商值确定为脉冲信号内的平均功率，如下式所示：其中，代表脉冲信号内的平均功率；/＞代表脉冲内功率累加值对应的线性值；/＞代表目标脉冲信号对应的脉宽；/＞代表脉冲信号内的平均功率对应的对数值。作为一种可能的实施方式，确定目标脉冲信号内的脉冲内峰值功率以及脉冲内平均功率；将脉冲内峰值功率与脉冲内平均功率之间的差值确定为峰值平均功率比，如下式所示：其中，代表脉冲内峰值平均功率比，单位为dB；/＞代表以对数表示的脉冲内峰值功率值；/＞代表以对数表示的脉冲内平均功率值。进一步的，将检测到的有效雷达信号存入雷达脉冲模块有效雷达脉冲缓存器中。该缓存器的长度可根据实际情况进行设置，包括但不限于16，32，64等2的幂次，优选的，长度为32。S103、当所述有效雷达信号大于预设数量阈值时，确定所述有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将所述有效雷达信号确定为目标雷达信号。在具体实施中，判断是否检测到足够预设数量的有效雷达信号，有效雷达信号大于预设数量阈值时，对检测到的雷达脉冲进行脉冲重复频率检测，判断检测到的脉冲重复频率是否满足DFS测试标准雷达信号参数的要求。其中，预设数量阈值可根据脉宽区间及标准中每突发脉冲数分段进行设置，优选的预设数量阈值为5。这里，脉冲重复频率可以通过如下公式计算：其中，代表脉冲重复间隔；/＞代表脉冲n的起始时间；代表脉冲n-1的起始时间。这里PRI的单位为us，PRF代表脉冲重复频率，单位为Hz。可选的，也可选择使用快速傅里叶变换、离散傅里叶变换等频域分析方法进行脉冲重复频率的估计。进一步的，判断检测到的脉冲重复频率是否满足DFS测试标准雷达信号参数的要求，根据DFS测试标准，可以对计算得到的脉冲重复频率PRF分为四个区间进行判定，四个区间分别为300Hz以下，1200Hz以上，300Hz-400Hz及400Hz-1200Hz。对于脉冲重复频率在300Hz-400Hz及400Hz-1200Hz之间的信号存在两种可能的情况，即恒定脉冲重复频率雷达信号和交错脉冲重复频率雷达信号，需要分别进行判定。如果检测到的脉冲重复频率满足DFS测试标准取值范围输出检测到雷达信号指示字。作为一种可能的实施方式，WIFI接收机天线数量可以为2，4，6，8等，当WIFI接收机天线数量为多根时，雷达检测模块从自动增益控制模块、同步模块、空闲信道评估模块读取状态信息，每个射频链路会计算得到一个平均信号功率和区间峰值信号功率。示例性的，当天线数量为两个时，雷达检测模块获得的平均信号功率为和/＞，区间峰值信号功率为/＞和/＞，下标1和2分别指代天线1和天线2。/＞进一步的，在计算功率差的过程中，选取高功率链路计算相隔预设差分间隔的平均功率的功率差。具体的，如果大于/＞，则使用天线1射频链路计算功率差，否则使用天线2链路计算功率差，如下式所示。其中，代表功率差；/＞代表n时刻高功率链路的平均信号功率；/＞代表与n时刻相隔预设差分间隔，高功率链路的平均信号功率；/＞代表预设差分间隔；high_idx代表高功率链路。进一步的，由于双天线接收模式对于雷达脉冲信号检测可能存在最多3dB信噪比的损失，上升沿阈值及下降沿阈值的选择区间变更为7dB -17dB，本实例中优选为9dB -11dB。这里，从检测到上升沿时刻开始进行脉冲内功率累加，累加的功率值来自于高功率链路，直到检测到脉冲下降沿时停止，如下式所示：其中，代表脉冲内功率累加值；/＞代表n时刻高功率链路平均信号功率的对数值。需要说明的是，在检测到上升沿时刻开始同时更新脉冲内峰值功率值，如下式所示：其中，代表脉冲内峰值功率值；/＞代表高功率链路的区间峰值功率值，比较及更新过程直到检测到脉冲下降沿时停止。进一步的，由于双天线接收模式对于雷达脉冲信号检测可能存在最多3dB信噪比的损失，针对脉冲功率的功率阈值修改为-69dBm ~ -67dBm。本公开实施例提供的一种雷达信号的检测方法，通过获取待测WiFi信号对应的平均信号功率和区间峰值功率，确定在预设差分间隔之间平均信号功率对应的功率差；根据功率差在待测WiFi信号中检测脉冲上升沿与对应的脉冲下降沿，确定脉冲上升沿与脉冲下降沿对应的目标脉冲信号；在目标脉冲信号中，筛选非有效OFDM帧且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号；当有效雷达信号大于预设数量阈值时，确定有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将有效雷达信号确定为目标雷达信号。可以有效降低由邻信道或同信道干扰造成的雷达脉冲虚警率，提升雷达信号检测的准确性。本领域技术人员可以理解，在具体实施方式的上述方法中，各步骤的撰写顺序并不意味着严格的执行顺序而对实施过程构成任何限定，各步骤的具体执行顺序应当以其功能和可能的内在逻辑确定。基于同一发明构思，本公开实施例中还提供了与雷达信号的检测方法对应的雷达信号的检测装置，由于本公开实施例中的装置解决问题的原理与本公开实施例上述雷达信号的检测方法相似，因此装置的实施可以参见方法的实施，重复之处不再赘述。请参阅图3，图3为本公开实施例提供的一种雷达信号的检测装置的示意图。如图3中所示，本公开实施例提供的雷达信号的检测装置300包括：获取模块310，用于获取待测WiFi信号所包含的目标脉冲信号。雷达信号筛选模块320，用于在所述目标脉冲信号中，筛选非有效OFDM帧，且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号。雷达信号确定模块330，用于当所述有效雷达信号大于预设数量阈值时，确定所述有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将所述有效雷达信号确定为目标雷达信号。关于装置中的各模块的处理流程、以及各模块之间的交互流程的描述可以参照上述方法实施例中的相关说明，这里不再详述。本公开实施例提供的一种雷达信号的检测装置，通过在待测WiFi信号所包含的目标脉冲信号中，筛选非有效OFDM帧且脉宽、脉冲功率以及峰值平均功率比均处于对应的预设取值范围的有效雷达信号；当有效雷达信号大于预设数量阈值时，确定有效雷达信号对应的脉冲重复频率是否符合预设的动态频率选择测试标准，若符合，则将有效雷达信号确定为目标雷达信号。可以有效降低由邻信道或同信道干扰造成的雷达脉冲虚警率，提升雷达信号检测的准确性。对应于图2中的雷达信号的检测方法，本公开实施例还提供了一种电子设备400，如图4所示，为本公开实施例提供的电子设备400结构示意图，包括：处理器41、存储器42、和总线43；存储器42用于存储执行指令，包括内存421和外部存储器422；这里的内存421也称内存储器，用于暂时存放处理器41中的运算数据，以及与硬盘等外部存储器422交换的数据，处理器41通过内存421与外部存储器422进行数据交换，当所述电子设备400运行时，所述处理器41与所述存储器42之间通过总线43通信，使得所述处理器41执行图2中的雷达信号的检测方法的步骤。本公开实施例还提供一种计算机可读存储介质，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器运行时执行上述方法实施例中所述的雷达信号的检测方法的步骤。其中，该存储介质可以是易失性或非易失的计算机可读取存储介质。本公开实施例还提供一种计算机程序产品，该计算机程序产品包括有计算机指令，所述计算机指令被处理器执行时可以执行上述方法实施例中所述的雷达信号的检测方法的步骤，具体可参见上述方法实施例，在此不再赘述。其中，上述计算机程序产品可以具体通过硬件、软件或其结合的方式实现。在一个可选实施例中，所述计算机程序产品具体体现为计算机存储介质，在另一个可选实施例中，计算机程序产品具体体现为软件产品，例如软件开发包等等。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统和装置的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本公开所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，又例如，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些通信接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本公开各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个处理器可执行的非易失的计算机可读取存储介质中。基于这样的理解，本公开的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本公开各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。最后应说明的是：以上所述实施例，仅为本公开的具体实施方式，用以说明本公开的技术方案，而非对其限制，本公开的保护范围并不局限于此，尽管参照前述实施例对本公开进行了详细的说明，本领域的普通技术人员应当理解：任何熟悉本技术领域的技术人员在本公开揭露的技术范围内，其依然可以对前述实施例所记载的技术方案进行修改或可轻易想到变化，或者对其中部分技术特征进行等同替换；而这些修改、变化或者替换，并不使相应技术方案的本质脱离本公开实施例技术方案的精神和范围，都应涵盖在本公开的保护范围之内。因此，本公开的保护范围应所述以权利要求的保护范围为准。
