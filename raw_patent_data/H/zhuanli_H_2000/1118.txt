标题title
一种BTM抗干扰性能自动化测试系统及方法
摘要abst
本发明公开了一种BTM抗干扰性能自动化测试系统及方法，涉及自动化测试技术领域，包括：自动化测试模块根据测试案例生成参数信息，并控制信号产生与报文编码模块生成模拟干扰信号和模拟应答器信号，同时接收BTM设备的报文接收情况信息，在遍历完所有测试案例时对所有测试案例结果统计分析并进行性能评估；信号产生与报文编码模块根据参数信息生成模拟干扰信号和模拟应答器信号，并叠加模拟干扰信号和模拟应答器信号生成多种组合信号测试后发送至BTM设备。本发明可根据需求进行自动化闭环测试，针对现场实际故障场景进行模拟实验，模拟生产现场干扰信号进行问题复现，为有效解决现场问题提供有效的数据支撑，进而优化既有BTM设备。
权利要求书clms
1.一种BTM抗干扰性能自动化测试系统，其特征在于，包括：自动化测试模块，信号产生与报文编码模块，BTM设备；所述自动化测试模块根据测试案例生成参数信息，并控制所述信号产生与报文编码模块生成模拟干扰信号和模拟应答器信号，同时接收所述BTM设备的报文接收情况信息，在遍历完所有测试案例时对所有测试案例结果统计分析并进行性能评估；所述信号产生与报文编码模块根据所述参数信息生成模拟干扰信号和模拟应答器信号，并叠加所述模拟干扰信号和所述模拟应答器信号生成多种组合信号，对所述组合信号进行测试后，发送至所述BTM设备。2.根据权利要求1所述的一种BTM抗干扰性能自动化测试系统，其特征在于，所述自动化测试模块包括测试控制处理模块、主机接口单元、信号发生控制模块和报文信息控制模块；所述测试控制处理模块用于获取测试案例，对测试案例进行参数配置，并将参数信息通过所述信号发生控制模块和所述报文信息控制模块分别发送至所述信号产生与报文编码模块；所述信号发生控制模块用于控制所述信号产生与报文编码模块生成模拟干扰信号；所述报文信息控制模块用于生成多条应答器报文的用户数据包并按一定时间间隔发送给所述信号产生与报文编码模块，同时控制所述信号产生与报文编码模块生成模拟应答器信号；所述主机接口单元用于接收所述BTM设备的报文接收情况信息并反馈给所述测试控制处理模块进行分析。3.根据权利要求2所述的一种BTM抗干扰性能自动化测试系统，其特征在于，所述参数信息包括干扰信号参数和应答器报文信号参数；所述干扰信号参数通过所述信号发生控制模块传输到所述信号产生与报文编码模块；所述应答器报文信号参数通过所述报文信息控制模块传输到所述信号产生与报文编码模块。4.根据权利要求2所述的一种BTM抗干扰性能自动化测试系统，其特征在于，所述测试控制处理模块包括测试案例库、参数配置单元和测试结果记录单元；所述测试案例库用于获取并存储测试案例；所述参数配置单元用于根据测试内容和场景对所述测试案例进行参数配置并将参数信息分别发送至信号控制模块和报文信息控制模块；所述测试结果记录单元用于实时处理测试结果，评估所述BTM设备的抗干扰性能。5.根据权利要求3所述的一种BTM抗干扰性能自动化测试系统，其特征在于，所述信号产生与报文编码模块包括：信号生成单元、报文编码处理单元、合路器和参考环；所述信号生成单元用于根据所述干扰信号参数生成模拟干扰信号；所述报文编码处理单元用于根据所述应答器报文信号参数生成模拟应答器信号；所述合路器用于将所述模拟干扰信号和所述模拟应答器信号进行合并，生成组合信号；所述参考环用于发射上行链路模拟信号，将所述组合信号发送至所述BTM设备。6.根据权利要求5所述的一种BTM抗干扰性能自动化测试系统，其特征在于，所述信号生成单元为信号发生器，所述报文编码处理单元为发码器。7.根据权利要求1所述的一种BTM抗干扰性能自动化测试系统，其特征在于，所述BTM设备包括BTM天线和BTM测试主机，所述BTM天线接收组合信号并发送给所述BTM测试主机进行解调和译码处理，并将报文接收情况信息输出。8.一种BTM抗干扰性能自动化测试方法，应用于权利要求1-7任一项所述的一种BTM抗干扰性能自动化测试系统，其特征在于，具体步骤如下：确定测试案例；判断测试案例是否遍历完；若否，生成控制操作指令，控制生成模拟干扰信号和模拟应答器信号；接收测试案例的测试结果并存储；若是，对所有干扰测试案例的测试结果统计分析并进行性能评估。
说明书desc
技术领域本发明涉及自动化测试技术领域，更具体的说是涉及一种BTM抗干扰性能自动化测试系统及方法。背景技术应答器传输模块是用于车-地间数据传输的车载设备，处理与应答器间的上行链路和下行链路的信号和报文，并与列车车载核心设备通信。BTM设备由BTM主机和车载天线两部分组成。整个车载设备系统结构如图1所示。BTM主要用于对应答器报文的接收、滤波、数字解调与处理以及相关数据的传输。BTM通过接口“A”向下发送27.095MHz能量激活应答器，接收地面应答器发送的上行链路信号并解析应答器报文。BTM主机可通过接口“B”与列控车载设备连接，周期接收列控车载设备发送的位置与速度信息，同时将接收到的应答器报文信息发送给列控车载设备。随着高速铁路的快速发展，应答器传输模块得到了大量应用，发挥着越来越重要的作用，但在列车高速运行条件下，因应答器传输模块问题影响列车正常运行的现象偶有发生，如在现场应用实践中偶尔有应答器数据不能得到正常接收的故障发生，特别是在车速更高、干扰更大、环境恶劣、过弯道或有摇摆时发生故障的概率更高。此外，我国高速铁路遍布从东北高寒到海南亚热带、从新疆沙漠到西藏高原的辽阔地域，应答器传输模块面临着冰雪覆盖、高热潮湿、高原冻土、黄沙覆盖以及各种电磁干扰的复杂条件，在高速铁路运行过程中，对BTM的应用提出了极高的要求，需要针对应答器传输模块在各种复杂条件下的测试技术进行深入研究，尤其是应答器传输模块的抗干扰性能测试技术研究。因此，如何提供一种BTM抗干扰性能自动化测试系统及方法，利用现场采集的干扰信号或自动生成的干扰信号对BTM进行自动化的抗干扰能力测试，优化现有的BTM设备是本领域技术人员亟需解决的问题。发明内容有鉴于此，本发明提供了一种BTM抗干扰性能自动化测试系统及方法，可根据需求进行自动化闭环测试，案例自动测试、模拟信号自动生成、测试结果自动记录，减少大量人工操作流程；可针对现场实际故障场景进行模拟实验，模拟生产现场干扰信号进行问题复现，为有效解决现场问题提供有效的数据支撑，进而优化既有BTM设备。为了实现上述目的，本发明采用如下技术方案：一种BTM抗干扰性能自动化测试系统，包括：自动化测试模块，信号产生与报文编码模块，BTM设备；所述自动化测试模块根据测试案例生成参数信息，并控制所述信号产生与报文编码模块生成模拟干扰信号和模拟应答器信号，同时接收所述BTM设备的报文接收情况信息，在遍历完所有测试案例时对所有测试案例结果统计分析并进行性能评估；所述信号产生与报文编码模块根据所述参数信息生成模拟干扰信号和模拟应答器信号，并叠加所述模拟干扰信号和所述模拟应答器信号生成多种组合信号，对所述组合信号进行测试后，发送至所述BTM设备。优选的，所述自动化测试模块包括测试控制处理模块、主机接口单元、信号发生控制模块和报文信息控制模块；所述测试控制处理模块用于获取测试案例，对测试案例进行参数配置，并将参数信息通过所述信号发生控制模块和所述报文信息控制模块分别发送至所述信号产生与报文编码模块；所述信号发生控制模块用于控制所述信号产生与报文编码模块生成模拟干扰信号；生成的模拟干扰信号为测试案例所需的干扰信号，包括控制干扰信号类型、信号强度、干扰信号持续时间和发送间隔时间等，生成模拟现场环境的干扰信号。所述报文信息控制模块用于生成多条应答器报文的用户数据包并按一定时间间隔发送给所述信号产生与报文编码模块，同时控制所述信号产生与报文编码模块生成模拟应答器信号；生成的模拟应答器信号为测试案例所需的模拟应答器信号，包括控制应答器信号数据报文内容、中心频率、调制频率、传输速率、发送持续时间、发送间隔时间等，生成模拟不同列车运行状态下的应答器报文。所述主机接口单元用于接收所述BTM设备的报文接收情况信息并反馈给所述测试控制处理模块进行分析。优选的，所述参数信息包括干扰信号参数和应答器报文信号参数；所述干扰信号参数通过所述信号发生控制模块传输到所述信号产生与报文编码模块；所述应答器报文信号参数通过所述报文信息控制模块传输到所述信号产生与报文编码模块。优选的，所述测试控制处理模块包括测试案例库、参数配置单元和测试结果记录单元；所述测试案例库用于获取并存储测试案例；所述参数配置单元用于根据测试内容和场景对所述测试案例进行参数配置并将参数信息分别发送至信号控制模块和报文信息控制模块；所述测试结果记录单元用于实时处理测试结果，评估所述BTM设备的抗干扰性能。优选的，所述信号产生与报文编码模块包括：信号生成单元、报文编码处理单元、合路器和参考环；所述信号生成单元用于根据所述干扰信号参数生成模拟干扰信号；所述报文编码处理单元用于根据所述应答器报文信号参数生成模拟应答器信号；所述合路器用于将所述模拟干扰信号和所述模拟应答器信号进行合并，生成组合信号；所述参考环用于发射上行链路模拟信号，将所述组合信号发送至所述BTM设备。优选的，所述信号生成单元为信号发生器，所述报文编码处理单元为发码器。优选的，所述BTM设备包括BTM天线和BTM测试主机，所述BTM天线接收组合信号并发送给所述BTM测试主机进行解调和译码处理，并将报文接收情况信息输出。优选的，一种BTM抗干扰性能自动化测试方法，具体步骤如下：确定测试案例；判断测试案例是否遍历完；若否，生成控制操作指令，控制生成模拟干扰信号和模拟应答器信号；接收测试案例的测试结果并存储；若是，对所有干扰测试案例的测试结果统计分析并进行性能评估。经由上述的技术方案可知，与现有技术相比，本发明公开提供了一种BTM抗干扰性能自动化测试系统，包括：自动化测试模块，信号产生与报文编码模块，BTM设备；自动化测试模块根据测试案例生成参数信息，并控制信号产生与报文编码模块生成模拟干扰信号和模拟应答器信号，同时接收BTM设备的报文接收情况信息，在遍历完所有测试案例时对所有测试案例结果统计分析并进行性能评估；信号产生与报文编码模块根据参数信息生成模拟干扰信号和模拟应答器信号，并叠加模拟干扰信号和模拟应答器信号生成多种组合信号测试后发送至BTM设备。本发明具有如下有益效果：可根据需求进行自动化闭环测试，案例自动测试、模拟信号自动生成以及测试结果自动记录，减少大量人工操作流程，系统设备集成度高，应用场景广泛；干扰信号可自主控制，以不同类型、不同强度干扰信号与应答器信号叠加，评估BTM设备在不同信噪比场景下的抗干扰性能；可针对现场实际故障场景进行模拟实验，模拟列车运行通过速度，模拟生成现场干扰信号进行问题复现，为有效解决现场问题提供有效的数据支撑，进而优化既有应答器传输系统设备。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为背景技术的整个车载设备系统结构示意图；图2为本发明提供的BTM抗干扰性能自动化测试系统结构示意图；图3为本发明提供的BTM抗干扰性能自动化测试流程图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明实施例公开了一种BTM抗干扰性能自动化测试系统，如图2所示，包括：自动化测试模块，信号产生与报文编码模块，BTM设备；所述自动化测试模块根据测试案例生成参数信息，并控制所述信号产生与报文编码模块生成模拟干扰信号和模拟应答器信号，同时接收所述BTM设备的报文接收情况信息，在遍历完所有测试案例时对所有测试案例结果统计分析并进行性能评估；所述信号产生与报文编码模块根据所述参数信息生成模拟干扰信号和模拟应答器信号，并叠加所述模拟干扰信号和所述模拟应答器信号生成多种组合信号，对所述组合信号进行测试后，发送至所述BTM设备。具体的，所述自动化测试模块包括测试控制处理模块、主机接口单元、信号发生控制模块和报文信息控制模块；所述测试控制处理模块用于获取测试案例，对测试案例进行参数配置，并将参数信息通过所述信号发生控制模块和所述报文信息控制模块分别发送至所述信号产生与报文编码模块；所述信号发生控制模块用于控制所述信号产生与报文编码模块生成模拟干扰信号；生成的模拟干扰信号为测试案例所需的干扰信号，包括控制干扰信号类型、信号强度、干扰信号持续时间和发送间隔时间等，生成模拟现场环境的干扰信号。所述报文信息控制模块用于生成多条应答器报文的用户数据包并按一定时间间隔发送给所述信号产生与报文编码模块，同时控制所述信号产生与报文编码模块生成模拟应答器信号；生成的模拟应答器信号为测试案例所需的模拟应答器信号，包括控制应答器信号数据报文内容、中心频率、调制频率、传输速率、发送持续时间、发送间隔时间等，生成模拟不同列车运行状态下的应答器报文。所述主机接口单元用于接收所述BTM设备的报文接收情况信息并反馈给所述测试控制处理模块进行分析。具体的，所述参数信息包括干扰信号参数和应答器报文信号参数；所述干扰信号参数通过所述信号发生控制模块传输到所述信号产生与报文编码模块；所述应答器报文信号参数通过所述报文信息控制模块传输到所述信号产生与报文编码模块。具体的，所述测试控制处理模块包括测试案例库、参数配置单元和测试结果记录单元；所述测试案例库用于获取并存储测试案例；所述参数配置单元用于根据测试内容和场景对所述测试案例进行参数配置并将参数信息分别发送至信号控制模块和报文信息控制模块；所述测试结果记录单元用于实时处理测试结果，评估所述BTM设备的抗干扰性能。在本发明的一个具体实施例中，本发明根据测试内容和场景进行相应配置实现自动化测试。测试案例库提前编写确认存储在系统中，测试前首先通过参数配置单元进行参数配置，包括测试时间、报文发送持续时间、报文发送间隔时间、测试内容和场景等参数项，根据所选参数从测试案例库中选择对应的测试案例，作为待测试案例。开始测试时根据选出的测试案例列表按顺序进行自动遍历，逐个依次测试，本条案例测试完成接收到结果反馈后自动进行下一条案例测试。每一条案例测试时根据测试案例生成相应命令语句，包括干扰信号类型、信号强度、干扰信号持续时间和发送间隔时间，以及应答器报文信号数据内容、发送持续时间和发送间隔时间等信息指令，分别发送给信号发生控制模块和报文信息控制模块。报文信息控制模块根据测试用例场景和用例，生成多条应答器报文的用户数据包，按一定时间间隔依次发送给报文编码处理单元。信号发生控制模块可根据测试内容和场景，控制信号生成单元生成相应的模拟干扰信号，以生成各种场景需求的模拟噪声信号，例如高斯白噪声、现场环境采集的干扰信号等，若为现场采集的干扰信号，可直接将干扰信号数据导入通过信号生成单元输出，应答器报文信号通过报文编码处理单元调制后输出，模拟干扰信号与模拟应答器信号经过合路器将两路模拟信号合并，生成组合信号，所述组合信号用于模拟现场环境的应答器报文信号，并将所述组合信号发送给参考环进行测试。具体的，主机接口单元包括驱动软件适配接口、通信协议和时间里程模块间通信接口等，实现BTM设备与测试系统的实时数据交互功能，并将BTM测试主机接收报文参数数据显示存储并发送给测试控制处理模块进行统计分析。在本发明的一个具体实施例中，主机接口单元记录BTM测试主机接收报文情况的相关参数，包括有效字节数、误码率等信息，测试结果参数反馈给测试控制处理模块中的测试结果记录单元进行实时记录存储和处理，测试结果记录单元对所有案例测试结果进行统计分析，测试结束后对统计结果进行分析，评估BTM测试主机的抗干扰性能，得到定量的分析结果。具体的，所述信号产生与报文编码模块包括：信号生成单元、报文编码处理单元、合路器和参考环；所述信号生成单元用于根据所述干扰信号参数生成模拟干扰信号；所述报文编码处理单元用于根据所述应答器报文信号参数生成模拟应答器信号；所述合路器用于将所述模拟干扰信号和所述模拟应答器信号进行合并，生成组合信号；所述参考环用于发射上行链路模拟信号，将所述组合信号发送至所述BTM设备。在本发明的一个具体实施例中，信号生成单元为实际产生信号的装置，包括多个信号发生器、衰减器、放大器和电缆等，根据信号发生控制模块的配置产生相应的模拟干扰信号，发送给合路器；信号发生器还可以连接信号分析仪实时观测信号参数。报文编码处理单元为发码板，报文信息控制模块根据测试案例场景和案例，生成多条应答器报文的用户数据包，并按一定时间间隔依次发送给发码板，发码板根据用户数据包的内容进行应答器报文的编码，编码后将应答器报文进行FSK调制生成对应频率的FSK信号，对FSK信号进行放大、D-A转换、滤波等处理后生成模拟应答器信号；模拟干扰信号与模拟干扰信号组合可以模拟现场环境的应答器信号。模拟干扰信号和模拟应答器信号经过合路器将两路模拟信号合并后发送给参考环，参考环将带有干扰信号的应答器报文模拟信号发射给BTM天线。具体的，所述BTM设备包括BTM天线和BTM测试主机，所述BTM天线接收组合信号并发送给所述BTM测试主机进行解调和译码处理，并将报文接收情况信息输出。在本发明的一个具体实施例中，BTM天线接收到模拟信号之后传送给BTM测试主机进行解调、译码处理后，得到相应报文数据。其中解调过程为：组合信号送到两路带通滤波器中，将滤出不同的高频信号通过包络检波器进行处理，提取包络，通过抽样判决器进行判决分析，通过基带数字信号进行解调；译码过程：对数字信号进行CRC校验和数据同步校验，判断为有效报文后进行起始位判断、恢复信息长度、反转换和解扰等过程后输出报文信息。一种BTM抗干扰性能自动化测试方法，如图3所示，具体步骤如下：确定测试案例；判断测试案例是否遍历完；若否，生成控制操作指令，控制生成模拟干扰信号和模拟应答器信号；具体的，由信号发生控制模块生成干扰信号的控制指令，控制信号发生器生成相应的模拟干扰信号；由报文信息控制模块生成控制应答器报文信号的控制指令，控制发码器生成相应的模拟应答器信号。接收测试案例的测试结果并存储；具体的，将模拟干扰信号和模拟应答器信号一起发送至合路器进行叠加生成组合信号，并将组合信号发送至参考环进行测试后发送至BTM设备，通过主机接口单元获取BTM设备的报文信号接收情况并分析生成测试结果反馈至测试控制处理模块存储。若是，对所有干扰测试案例的测试结果统计分析并进行性能评估。具体的，当测试案例是遍历完之后，由测试控制处理模块中的测试结果记录单元进行实时记录存储和处理，并对所有测试案例的测试结果进行统计分析，测试结束后对统计结果进行分析，评估BTM测试主机的抗干扰性能。在本发明的一个具体实施例中，测试控制处理模块存储测试案例库，现场采集到的干扰信号可直接存储在测试案例库中，按场景编号顺序进行命名。开始测试前首先进行参数配置，包括测试时间、报文发送持续时间、报文发送间隔时间、测试内容和场景等参数项，并从测试案例库中选择测试案例，开始测试后按顺序对所选测试案例逐个测试，每个测试案例都有对应的干扰信号参数和应答器报文信号参数，其中干扰信号参数包括干扰信号类型、信号强度、干扰信号持续时间、发送间隔时间等参数，这些参数信息发送给信号发生器产生对应的模拟干扰信号，应答器报文信号参数包括数据报文内容、中心频率、调制频率、传输速率、发送持续时间、发送间隔时间等参数；这些参数发送给发码板产生模拟应答器信号，模拟干扰信号和模拟应答器信号发送给合路器进行信号叠加生成组合信号，并将组合信号发送参考环测试后发射给BTM天线，由BTM天线传输给BTM测试主机，主机接口单元记录BTM测试主机接收报文情况的相关参数，包括字节数、误码率等信息，并将测试结果参数反馈给测试控制处理模块中的测试结果记录单元进行实时记录存储和处理，同时测试控制处理模块自动进行下一条案例的测试。测试结束后测试结果记录单元对所有案例测试结果进行统计分析，测试结束后对统计结果进行分析，评估BTM测试主机的抗干扰性能。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本发明。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本发明的精神或范围的情况下，在其它实施例中实现。因此，本发明将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
