标题title
基于人工智能的建筑工地安全风险智能评估方法及系统
摘要abst
本发明涉及图像处理技术领域，具体涉及基于人工智能的建筑工地安全风险智能评估方法及系统，包括：采集建筑工地灰度图像，根据建筑工地灰度图像的梯度幅值直方图获取多个分割阈值，进而得到多个边缘二值图像，将边缘二值图像中的边缘像素点映射到霍夫空间，根据霍夫空间中的高亮点获取建筑工地灰度图像中每个像素点的重要度，根据重要度获取每个像素点的邻域像素点相对于每个像素点的滤波权重，进而对每个像素点进行滤波，得到滤波图像，对滤波图像进行压缩传输，云平台根据压缩结果进行安全风险评估。本发明对于重要特征的保留程度大，对于非重要特征的保留程度小，提高了压缩效率的同时避免了重要特征的丢失，确保了安全风险评估结果的准确性。
权利要求书clms
1.基于人工智能的建筑工地安全风险智能评估方法，其特征在于，该方法包括以下步骤：采集建筑工地灰度图像；获取建筑工地灰度图像中每个像素点的梯度幅值，绘制梯度幅值直方图；根据梯度幅值直方图获取多个分割阈值；获取每个分割阈值对应的边缘二值图像；根据边缘二值图像中的边缘像素点获取建筑工地灰度图像中每个像素点的多个目标边缘图像；将每个边缘二值图像中边缘像素点映射分别到霍夫空间；根据建筑工地灰度图像中每个像素点的所有目标边缘图像对应的霍夫空间中的高亮点获取建筑工地灰度图像中每个像素点的重要度；根据每个像素点的重要度获取每个像素点的邻域像素点相对于每个像素点的滤波权重；根据滤波权重对每个像素点进行滤波，得到滤波图像；对滤波图像进行压缩，得到压缩结果；将压缩结果传输至云平台；云平台根据压缩结果进行安全风险评估。2.根据权利要求1所述的基于人工智能的建筑工地安全风险智能评估方法，其特征在于，所述根据梯度幅值直方图获取多个分割阈值，包括的具体步骤如下：获取建筑工地灰度图像中所有像素点的梯度幅值的均值，作为第一阈值；对梯度幅值直方图进行平滑处理，绘制梯度幅值直方图的平滑曲线，计算平滑曲线上每个梯度幅值对应的点的切线的斜率，作为每个梯度幅值的斜率，将所有梯度幅值的斜率构成斜率序列；获取斜率序列中相邻两个斜率的差值的绝对值，作为相邻两个斜率对应的两个梯度幅值中第二个梯度幅值的斜率变化度；获取斜率变化度最大的梯度幅值，作为第二阈值；将第一阈值、第二阈值以及第一阈值和第二阈值之间的每个梯度幅值分别作为一个分割阈值。3.根据权利要求1所述的基于人工智能的建筑工地安全风险智能评估方法，其特征在于，所述获取每个分割阈值对应的边缘二值图像，包括的具体步骤如下：将任意一个分割阈值作为目标分割阈值，将梯度幅值大于或等于目标分割阈值的像素点作为边缘像素点，将梯度幅值小于目标分割阈值的像素点作为背景像素点；将边缘像素点的灰度值置为1，将背景像素点的灰度值置为0，得到目标分割阈值对应的边缘二值图像；获取每个分割阈值对应的边缘二值图像。4.根据权利要求1所述的基于人工智能的建筑工地安全风险智能评估方法，其特征在于，所述根据边缘二值图像中的边缘像素点获取建筑工地灰度图像中每个像素点的多个目标边缘图像，包括的具体步骤如下：对于建筑工地灰度图像中每个像素点来说，若像素点在一个边缘二值图像中为边缘像素点，则将该边缘二值图像作为像素点的目标边缘图像；获取建筑工地灰度图像中每个像素点的所有目标边缘图像。5.根据权利要求1所述的基于人工智能的建筑工地安全风险智能评估方法，其特征在于，所述根据建筑工地灰度图像中每个像素点的所有目标边缘图像对应的霍夫空间中的高亮点获取建筑工地灰度图像中每个像素点的重要度，包括的具体步骤如下：获取建筑工地灰度图像中的第i个像素点的重要性：其中，mi为建筑工地灰度图像中第i个像素点的重要性；ci为建筑工地灰度图像中第i个像素点的所有目标边缘图像的个数；ni,k为建筑工地灰度图像中第i个像素点在第i个像素点的第k个目标边缘图像的霍夫空间中对应的曲线上高亮点的个数；li,k,j为建筑工地灰度图像中第i个像素点在第i个像素点的第k个目标边缘图像的霍夫空间中对应的曲线上第j个高亮点的亮度值；max为最大值函数；获取建筑工地灰度图像中所有像素点的重要性，对建筑工地灰度图像中每个像素点的重要性进行线性归一化，将每个像素点线性归一化后的重要性作为每个像素点的重要度。6.根据权利要求1所述的基于人工智能的建筑工地安全风险智能评估方法，其特征在于，所述根据每个像素点的重要度获取每个像素点的邻域像素点相对于每个像素点的滤波权重，包括的具体步骤如下：其中ai,u为建筑工地灰度图像中第i个像素点的第u个邻域像素点相对于第i个像素点的滤波权重；Mi为建筑工地灰度图像中第i个像素点的重要度；M'i,u为建筑工地灰度图像中第i个像素点的第u个邻域像素点的重要度；exp为以自然常数为底的指数函数；||为绝对值符号；vi为建筑工地灰度图像中第i个像素点的邻域像素点的个数。7.根据权利要求1所述的基于人工智能的建筑工地安全风险智能评估方法，其特征在于，所述根据滤波权重对每个像素点进行滤波，得到滤波图像，包括的具体步骤如下：获取建筑工地灰度图像中的第i个像素点滤波之后的灰度值：其中，di为建筑工地灰度图像中第i个像素点滤波之后的灰度值；fi为建筑工地灰度图像中第i个像素点的灰度值；Mi为建筑工地灰度图像中第i个像素点的重要度；ai,u为建筑工地灰度图像中第i个像素点的第u个邻域像素点相对于第i个像素点的滤波权重；f'i,u为建筑工地灰度图像中第i个像素点的第u个邻域像素点的滤波权重；vi为建筑工地灰度图像中第i个像素点的邻域像素点的个数；为四舍五入取整符号；获取建筑工地灰度图像中的每个像素点滤波之后的灰度值；将所有像素点滤波后的灰度值构成滤波图像。8.基于人工智能的建筑工地安全风险智能评估系统，其特征在于，所述系统包括：图像采集模块，采集建筑工地灰度图像；重要度获取模块，获取建筑工地灰度图像中每个像素点的梯度幅值，绘制梯度幅值直方图；根据梯度幅值直方图获取多个分割阈值；获取每个分割阈值对应的边缘二值图像；根据边缘二值图像中的边缘像素点获取建筑工地灰度图像中每个像素点的多个目标边缘图像；将每个边缘二值图像中边缘像素点映射分别到霍夫空间；根据建筑工地灰度图像中每个像素点的所有目标边缘图像对应的霍夫空间中的高亮点获取建筑工地灰度图像中每个像素点的重要度；滤波模块，根据每个像素点的重要度获取每个像素点的邻域像素点相对于每个像素点的滤波权重；根据滤波权重对每个像素点进行滤波，得到滤波图像；压缩传输模块，对滤波图像进行压缩，得到压缩结果；将压缩结果传输至云平台；安全风险评估模块，云平台根据压缩结果进行安全风险评估。
说明书desc
技术领域本发明涉及图像处理技术领域，具体涉及基于人工智能的建筑工地安全风险智能评估方法及系统。背景技术建筑工程指通过对各类房屋建筑及其附属设施的建造和与其配套的线路、管道、设备的安装活动所形成的工程实体。建筑工程监理过程中，常需要安装监控装置，以便使用者根据实时监控图像及时掌握建筑工程的现场状况，了解施工现场安全风险情况，并做好施工状况数据储存管理，以便后续评价。建筑工地的实时监控图像需要传输至云平台利用云平台部署的安全模型进行安全风险评估，为了提高传输效率，通常要对实时监控图像进行压缩。常用的压缩方式有无损压缩和有损压缩，前者对全部图像信息进行压缩，信息数据量大，传输效率低；后者对图像进行有损压缩，容易造成重要信息的丢失，因此需要一种压缩效率高且重要信息损失程度小的压缩方法。发明内容本发明提供基于人工智能的建筑工地安全风险智能评估方法及系统，以解决现有的问题。本发明的基于人工智能的建筑工地安全风险智能评估方法采用如下技术方案：本发明一个实施例提供了基于人工智能的建筑工地安全风险智能评估方法，该方法包括以下步骤：采集建筑工地灰度图像；获取建筑工地灰度图像中每个像素点的梯度幅值，绘制梯度幅值直方图；根据梯度幅值直方图获取多个分割阈值；获取每个分割阈值对应的边缘二值图像；根据边缘二值图像中的边缘像素点获取建筑工地灰度图像中每个像素点的多个目标边缘图像；将每个边缘二值图像中边缘像素点映射分别到霍夫空间；根据建筑工地灰度图像中每个像素点的所有目标边缘图像对应的霍夫空间中的高亮点获取建筑工地灰度图像中每个像素点的重要度；根据每个像素点的重要度获取每个像素点的邻域像素点相对于每个像素点的滤波权重；根据滤波权重对每个像素点进行滤波，得到滤波图像；对滤波图像进行压缩，得到压缩结果；将压缩结果传输至云平台；云平台根据压缩结果进行安全风险评估。优选的，所述根据梯度幅值直方图获取多个分割阈值，包括的具体步骤如下：获取建筑工地灰度图像中所有像素点的梯度幅值的均值，作为第一阈值；对梯度幅值直方图进行平滑处理，绘制梯度幅值直方图的平滑曲线，计算平滑曲线上每个梯度幅值对应的点的切线的斜率，作为每个梯度幅值的斜率，将所有梯度幅值的斜率构成斜率序列；获取斜率序列中相邻两个斜率的差值的绝对值，作为相邻两个斜率对应的两个梯度幅值中第二个梯度幅值的斜率变化度；获取斜率变化度最大的梯度幅值，作为第二阈值；将第一阈值、第二阈值以及第一阈值和第二阈值之间的每个梯度幅值分别作为一个分割阈值。优选的，所述获取每个分割阈值对应的边缘二值图像，包括的具体步骤如下：将任意一个分割阈值作为目标分割阈值，将梯度幅值大于或等于目标分割阈值的像素点作为边缘像素点，将梯度幅值小于目标分割阈值的像素点作为背景像素点；将边缘像素点的灰度值置为1，将背景像素点的灰度值置为0，得到目标分割阈值对应的边缘二值图像；获取每个分割阈值对应的边缘二值图像。优选的，所述根据边缘二值图像中的边缘像素点获取建筑工地灰度图像中每个像素点的多个目标边缘图像，包括的具体步骤如下：对于建筑工地灰度图像中每个像素点来说，若像素点在一个边缘二值图像中为边缘像素点，则将该边缘二值图像作为像素点的目标边缘图像；获取建筑工地灰度图像中每个像素点的所有目标边缘图像。优选的，所述根据建筑工地灰度图像中每个像素点的所有目标边缘图像对应的霍夫空间中的高亮点获取建筑工地灰度图像中每个像素点的重要度，包括的具体步骤如下：获取建筑工地灰度图像中的第i个像素点的重要性：其中，mi为建筑工地灰度图像中第i个像素点的重要性；ci为建筑工地灰度图像中第i个像素点的所有目标边缘图像的个数；ni，k为建筑工地灰度图像中第i个像素点在第i个像素点的第k个目标边缘图像的霍夫空间中对应的曲线上高亮点的个数；li，k，j为建筑工地灰度图像中第i个像素点在第i个像素点的第k个目标边缘图像的霍夫空间中对应的曲线上第j个高亮点的亮度值；max为最大值函数；获取建筑工地灰度图像中所有像素点的重要性，对建筑工地灰度图像中每个像素点的重要性进行线性归一化，将每个像素点线性归一化后的重要性作为每个像素点的重要度。优选的，所述根据每个像素点的重要度获取每个像素点的邻域像素点相对于每个像素点的滤波权重，包括的具体步骤如下：其中ai，u为建筑工地灰度图像中第i个像素点的第u个邻域像素点相对于第i个像素点的滤波权重；Mi为建筑工地灰度图像中第i个像素点的重要度；M′i，u为建筑工地灰度图像中第i个像素点的第u个邻域像素点的重要度；exp为以自然常数为底的指数函数；||为绝对值符号；vi为建筑工地灰度图像中第i个像素点的邻域像素点的个数。优选的，所述根据滤波权重对每个像素点进行滤波，得到滤波图像，包括的具体步骤如下：获取建筑工地灰度图像中的第i个像素点滤波之后的灰度值：其中，di为建筑工地灰度图像中第i个像素点滤波之后的灰度值；fi为建筑工地灰度图像中第i个像素点的灰度值；Mi为建筑工地灰度图像中第i个像素点的重要度；ai，u为建筑工地灰度图像中第i个像素点的第u个邻域像素点相对于第i个像素点的滤波权重；f′i，u为建筑工地灰度图像中第i个像素点的第u个邻域像素点的滤波权重；vi为建筑工地灰度图像中第i个像素点的邻域像素点的个数；为四舍五入取整符号；获取建筑工地灰度图像中的每个像素点滤波之后的灰度值；将所有像素点滤波后的灰度值构成滤波图像。本发明另一个实施例提出基于人工智能的建筑工地安全风险智能评估系统，所述系统包括：图像采集模块，采集建筑工地灰度图像；重要度获取模块，获取建筑工地灰度图像中每个像素点的梯度幅值，绘制梯度幅值直方图；根据梯度幅值直方图获取多个分割阈值；获取每个分割阈值对应的边缘二值图像；根据边缘二值图像中的边缘像素点获取建筑工地灰度图像中每个像素点的多个目标边缘图像；将每个边缘二值图像中边缘像素点映射分别到霍夫空间；根据建筑工地灰度图像中每个像素点的所有目标边缘图像对应的霍夫空间中的高亮点获取建筑工地灰度图像中每个像素点的重要度；滤波模块，根据每个像素点的重要度获取每个像素点的邻域像素点相对于每个像素点的滤波权重；根据滤波权重对每个像素点进行滤波，得到滤波图像；压缩传输模块，对滤波图像进行压缩，得到压缩结果；将压缩结果传输至云平台；安全风险评估模块，云平台根据压缩结果进行安全风险评估。本发明的技术方案的有益效果是：传统的边缘检测方法受人为设置的阈值的影响，获取的边缘准确率低，当阈值设置较大时，可能导致部分边缘无法被检测出来，但阈值设置较小时，可能导致部分非边缘被误检测出来。本发明通过获取不同的分割阈值，结合所有分割阈值下同一个像素点在霍夫空间中的表现，获取该像素点的重要度，使得像素点的重要度可准确的反映像素点为墙体、地基、钢筋等重要特征的边缘或拐点的概率，相较于传统的边缘检测方法，结果更加准确；本发明结合重要度对每个像素点进行自适应滤波，在滤波过程中既考虑了像素点自身的重要度大小，又兼顾了邻域像素点的重要度的影响，确保了墙体、地基、钢筋的边缘或拐角等重要特征的像素点较大程度保留，对于其余非重要特征的像素点滤波程度大，使得非重要特征的像素点滤波后与邻域像素点的灰度值相同或相近，较大程度增加了数据的冗余度。利用现有的压缩方法对滤波图像进行压缩时压缩效率更高，同时避免了重要特征的丢失，后续基于滤波图像进行安全风险评估时更加关注重要特征，确保了安全风险评估更加准确高效。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明的基于人工智能的建筑工地安全风险智能评估方法的步骤流程图；图2为建筑工地灰度图像；图3为本发明的基于人工智能的建筑工地安全风险智能评估系统的结构框图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的基于人工智能的建筑工地安全风险智能评估方法，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的基于人工智能的建筑工地安全风险智能评估方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的基于人工智能的建筑工地安全风险智能评估方法的步骤流程图，该方法包括以下步骤：S001.采集建筑工地施工现场监控图像，获取建筑工地灰度图像。通过部署在建筑工地的监控摄像头实时采集施工现场的监控图像。为了便于后续处理，对采集的施工现场的监控图像进行灰度化，将灰度化的结果记为建筑工地灰度图像，参见图2。至此，获取了建筑工地灰度图像。S002.获取建筑工地灰度图像中每个像素点的重要度。需要说明的是，建筑工地灰度图像需要实时传输至建筑安全云平台进行安全评估，为了提高传输效率，需要对建筑工地灰度图像进行压缩。无损压缩对图像全部信息进行编码压缩，压缩数据冗余大，压缩效果有限，传输的效率慢。因此本发明通过有损压缩对建筑工地灰度图像进行压缩传输。有损压缩会造成图像中一部分信息的丢失，建筑工地施工过程中墙体、地基、钢筋等铺设不当是造成安全隐患的主要问题之一，因此建筑工地灰度图像中墙体、地基、钢筋等为重要的特征，在进行有损压缩时，对于重要特征的损失程度需要尽可能降到最低，以确保后续进行安全评估的准确性。由于墙体、地址、钢筋等边缘通常呈直线状，因此本发明实施例结合霍夫空间直线检测的方法获取建筑工地灰度图像中每个像素点的重要度，以便后续结合重要度对建筑工地灰度图像进行压缩。在本发明实施例中，利用Sobel算子获取建筑工地灰度图像中每个像素点的梯度幅值，统计每种梯度幅值对应的像素点个数，以梯度幅值为横轴，像素点个数为纵轴，绘制梯度幅值直方图。需要说明的是，梯度幅值越小，对应的像素点越不可能为建筑工地灰度图像中的边缘，即越不可能为墙体、地基、钢筋的边缘以及拐角。梯度幅值越大，对应的像素点越可能为建筑工地灰度图像中的边缘，即越可能为墙体、地基、钢筋的边缘以及拐角等。因此需要对梯度幅值直方图进行分割，获取可能为建筑工地灰度图像中的边缘的像素点对应的梯度幅值。在本发明实施例中，获取建筑工地灰度图像中所有像素点的梯度幅值的均值，作为第一阈值。对梯度幅值直方图进行平滑处理，绘制梯度幅值直方图的平滑曲线，计算平滑曲线上每个梯度幅值对应的点的切线的斜率，构成斜率序列。斜率序列中每个斜率对应一个梯度幅值。获取斜率序列中相邻两个斜率的差值的绝对值，作为此相邻两个斜率对应的两个梯度幅值中第二个梯度幅值的斜率变化度。获取斜率变化度最大的梯度幅值，作为第二阈值。需要说明的是，由于建筑工地灰度图像中处于每个图像特征内部的像素点占大部分，且梯度幅值较小，如墙体上的像素点、地基内部的像素点等，处于每个图像特征边缘的像素点占少部分，且梯度幅值较大，如墙体边缘像素点、地基边缘像素点等，因此建筑工地灰度图像的梯度幅值直方图呈现左侧高，右侧低的特征，而斜率变化度最大的梯度幅值为梯度幅值直方图中的拐点，拐点可能为边缘和非边缘的分界点。而建筑工地灰度图像中所有像素点的梯度幅值的均值也可能为边缘和非边缘的分界点，为了避免人为设置阈值区分边缘和非边缘，可根据斜率变化度最大的梯度幅值以及建筑工地灰度图像中所有像素点的梯度幅值的均值设置多个分割阈值，结合不同分割阈值下各个像素点的特征获取各个像素点的重要度。在本发明实施例中，将第一阈值、第二阈值以及第一阈值和第二阈值之间的每个梯度幅值分别作为一个分割阈值。将任意一个分割阈值作为目标分割阈值，将梯度幅值大于或等于目标分割阈值的像素点作为边缘像素点，将梯度幅值小于目标分割阈值的像素点作为背景像素点。将边缘像素点的灰度值置为1，将背景像素点的灰度值置为0，得到目标分割阈值对应的边缘二值图像。同理，获取每个分割阈值对应的边缘二值图像。利用霍夫直线检测的方法将每个边缘二值图像中边缘像素点映射分别到霍夫空间，霍夫空间中每条曲线对应边缘二值图像中每个边缘像素点，霍夫空间中的每个高亮点对应边缘二值图像中边缘像素点形成的一条直线。对于建筑工地灰度图像中每个像素点来说，若该像素点在一个边缘二值图像中为边缘像素点，则将该边缘二值图像作为该像素点的目标边缘图像，如此可得到建筑工地灰度图像中每个像素点的所有目标边缘图像。根据建筑工地灰度图像中每个像素点的所有目标边缘图像对应的霍夫空间中的高亮点获取建筑工地灰度图像中每个像素点的重要性：其中，mi为建筑工地灰度图像中第i个像素点的重要性；ci为建筑工地灰度图像中第i个像素点的所有目标边缘图像的个数；ni,k为建筑工地灰度图像中第i个像素点在其第k个目标边缘图像的霍夫空间中对应的曲线上高亮点的个数；li,k,j为建筑工地灰度图像中第i个像素点在其第k个目标边缘图像的霍夫空间中对应的曲线上第j个高亮点的亮度值；max为最大值函数；当像素点在其目标边缘图像的霍夫空间中对应的曲线上高亮点的亮度值越大，说明该高亮点越可能为目标边缘图像中边缘像素点形成的一条直线，即越可能为建筑工地灰度图像中墙体、地基、钢筋的边缘；当像素点在其目标边缘图像的霍夫空间中对应的曲线上高亮点的个数越多，说明目标边缘图像中经过该像素点的直线越多，则该像素点越可能为目标边缘图像中多条之间的交点，即该像素点越可能为建筑工地灰度图像中墙体、地基、钢筋的拐角；当像素点对应的目标边缘图像越多，说明该像素点的梯度幅值较大，该像素点在建筑工地灰度图像中为明显的特征，则该像素点越可能为墙体、地基、钢筋的边缘或拐角；因此当像素点对应的目标边缘图像越多，且在每个目标边缘图像的霍夫空间中对应的曲线上高亮点的个数越多，高亮点的亮度值越大时，该像素点越可能建筑工地上墙体、地基、钢筋的边缘或拐角等重要特征，此时该像素点的重要性越大；当像素点对应的目标边缘图像为0或像素点在其所有目标边缘图像的霍夫空间中对应的曲线上高亮点的个数都为0时，为了避免后续结合像素点的重要性对像素点进行滤波时像素点自身的滤波权重为0导致滤波异常，本发明实施例通过max最大值函数在1和/＞中选择较大的数值作为像素点的重要性。对建筑工地灰度图像中每个像素点的重要性进行线性归一化，将每个像素点线性归一化后的重要性作为每个像素点的重要度。至此，获取了建筑工地灰度图像中每个像素点的重要度。需要说明的是，传统的边缘检测方法受人为设置的阈值的影响，获取的边缘准确率低，当阈值设置较大时，可能导致部分边缘无法被检测出来，但阈值设置较小时，可能导致部分非边缘被误检测出来。本发明实施例通过获取不同的分割阈值，结合所有分割阈值下同一个像素点在霍夫空间中的表现，获取该像素点的重要度，使得像素点的重要度可准确的反映像素点为墙体、地基、钢筋等重要特征的边缘或拐点的概率，相较于传统的边缘检测方法，结果更加准确。后续根据像素点的重要度对建筑工地灰度图像进行压缩时，对于重要特征的保留程度越大，对于非重要特征的保留程度越小，提高了压缩效率的同时避免了重要特征的丢失。S003.根据每个像素点的重要度对建筑工地灰度图像进行滤波。需要说明的是，对于非重要特征的像素点，可对其进行平滑，将其转换为与邻域像素点灰度值相同的像素点，增加建筑工地灰度图像中数据的冗余度，提高压缩效率。而通过滤波可使得像素点与邻域像素点的灰度值相同或相近。当像素点的重要度越大，该像素点越可能建筑工地上墙体、地基、钢筋的边缘或拐角等重要特征，需要重点保留，对该像素点进行滤波时需要减少邻域像素点对该像素点的平滑程度。当像素点的重要度越小，该像素点越不可能为建筑工地上墙体、地基、钢筋的边缘或拐角等重要特征，无需重点保留，对该像素点进行滤波时可增大邻域像素点对该像素点的平滑程度，使得平滑之后该像素点与邻域像素点更为相似，提高数据的冗余度，使得后续对滤波图像的压缩效率更高。在本发明实施例中，获取每个像素点的邻域像素点相对于该像素点的滤波权重：其中ai，u为建筑工地灰度图像中第i个像素点的第u个邻域像素点相对于第i个像素点的滤波权重；Mi为建筑工地灰度图像中第i个像素点的重要度；M′i，u为建筑工地灰度图像中第i个像素点的第u个邻域像素点的重要度；exp为以自然常数为底的指数函数；||为绝对值符号；vi为建筑工地灰度图像中第i个像素点的邻域像素点的个数，本发明实施例为八邻域，因此vi＝8，在其他实施例中，实施人员可根据实际实施情况设置邻域大小；将作为第i个像素点的所有邻域像素点的总的滤波权重，当第i个像素点的重要度越大时，其邻域像素点的滤波权重越小，后续滤波时，邻域像素点对该像素点的平滑程度越小，当第i个像素点的重要度越小时，其邻域像素点的滤波权重越大，后续滤波时，邻域像素点对该像素点的平滑程度越大；表示第i个像素点与其第u个邻域像素点的重要度差值在第i个像素点与所有邻域像素点的重要度差值中的相对大小，乘以第i个像素点的所有邻域像素点的总的滤波权重，表示按照相对大小为每个邻域像素点分配滤波权重，当第i个像素点与其第u个邻域像素点的重要度差值相对越小时，第i个像素点与其第u个邻域像素点越可能表示建筑工地灰度图像同一个特征，此时第u个邻域像素点的滤波权重相对其余邻域像素点的滤波权重较大；当第i个像素点与其第u个邻域像素点的重要度差值相对越大时，第i个像素点与其第u个邻域像素点越不可能表示建筑工地灰度图像同一个特征，此时第u个邻域像素点的滤波权重相对其余邻域像素点的滤波权重较小。根据每个像素点的重要度以及对每个像素点进行滤波时邻域像素点的滤波权重对每个像素点进行滤波，获取每个像素点滤波之后的灰度值：其中，di为建筑工地灰度图像中第i个像素点滤波之后的灰度值；fi为建筑工地灰度图像中第i个像素点的灰度值；Mi为建筑工地灰度图像中第i个像素点的重要度；ai，u为建筑工地灰度图像中第i个像素点的第u个邻域像素点相对于第i个像素点的滤波权重；f′i，u为建筑工地灰度图像中第i个像素点的第u个邻域像素点的滤波权重；vi为建筑工地灰度图像中第i个像素点的邻域像素点的个数；为四舍五入取整符号；将像素点的重要度作为其自身的滤波权重，当像素点的重要度越大时，其自身的滤波权重越大，其邻域像素点的滤波权重越小，滤波后该像素点改变的程度越小，保留的程度越大，对于该像素点的滤波程度越小。当像素点的重要度越小时，其自身的滤波权重越小，其邻域像素点的滤波权重越大，滤波后该像素点的改变的程度越大，越接近于其邻域像素点的灰度，对于该像素点的滤波程度越大，即滤波后对于建筑工地灰度图像中墙体、地基、钢筋的边缘或拐角等重要特征保留的程度大，对于其余不重要的特征保留程度小。至此，获取了建筑工地灰度图像中每个像素点滤波后的灰度值。将所有像素点滤波后的灰度值构成滤波图像。S004.对滤波图像进行压缩传输以及安全风险评估。需要说明的是，通过获取建筑工地灰度图像中每个像素点的重要度，结合重要度对每个像素点进行自适应滤波，确保了墙体、地基、钢筋的边缘或拐角等重要特征的像素点较大程度保留，对于其余非重要特征的像素点滤波程度大，非重要特征的像素点滤波后与邻域像素点的灰度值相同或相近，较大程度增加了数据的冗余度。利用现有的压缩方法对滤波图像进行压缩时压缩效率更高。在本发明实施例中，统计滤波图像中每种灰度值出现的频率，根据频率利用香农-范诺编码对滤波图像进行压缩，得到压缩结果。在其他实施例中，实施人员也可采用霍夫曼编码、算术编码等熵编码的方法对滤波图像进行压缩。将压缩结果传输至建筑安全云平台，建筑安全云平台对压缩结果进行解压，得到滤波图像，利用部署在建筑安全云平台的安全模型对滤波图像进行安全评估，获取安全风险情况，结合安全风险情况通知相关工作人员及时处理各种突发情况。通过以上步骤，完成了建筑工地安全风险评估。请参阅图3，其示出了本发明一个实施例所提供的基于人工智能的建筑工地安全风险智能评估系统的结构框图，该系统包括：图像采集模块S101，采集建筑工地灰度图像；重要度获取模块S102，获取建筑工地灰度图像中每个像素点的梯度幅值，绘制梯度幅值直方图；根据梯度幅值直方图获取多个分割阈值；获取每个分割阈值对应的边缘二值图像；根据边缘二值图像中的边缘像素点获取建筑工地灰度图像中每个像素点的多个目标边缘图像；将每个边缘二值图像中边缘像素点映射分别到霍夫空间；根据建筑工地灰度图像中每个像素点的所有目标边缘图像对应的霍夫空间中的高亮点获取建筑工地灰度图像中每个像素点的重要度；滤波模块S103，根据每个像素点的重要度获取每个像素点的邻域像素点相对于每个像素点的滤波权重；根据滤波权重对每个像素点进行滤波，得到滤波图像；压缩传输模块S104，对滤波图像进行压缩，得到压缩结果；将压缩结果传输至云平台；安全风险评估模块S105，云平台根据压缩结果进行安全风险评估。本发明实施例通过获取不同的分割阈值，结合所有分割阈值下同一个像素点在霍夫空间中的表现，获取该像素点的重要度，使得像素点的重要度可准确的反映像素点为墙体、地基、钢筋等重要特征的边缘或拐点的概率，相较于传统的边缘检测方法，结果更加准确；本发明实施例结合重要度对每个像素点进行自适应滤波，在滤波过程中既考虑了像素点自身的重要度大小，又兼顾了邻域像素点的重要度的影响，确保了墙体、地基、钢筋的边缘或拐角等重要特征的像素点较大程度保留，对于其余非重要特征的像素点滤波程度大，使得非重要特征的像素点滤波后与邻域像素点的灰度值相同或相近，较大程度增加了数据的冗余度。利用现有的压缩方法对滤波图像进行压缩时压缩效率更高，同时避免了重要特征的丢失，后续基于滤波图像进行安全风险评估时更加关注重要特征，确保了安全风险评估更加准确高效。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
