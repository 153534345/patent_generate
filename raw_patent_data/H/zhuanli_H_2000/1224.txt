标题title
一种水风光互补运行方法、装置、计算机设备及存储介质
摘要abst
本发明涉及水风光出力调度技术领域，公开了一种水风光互补运行方法、装置、计算机设备及存储介质，获取水电站的第一出力数据集；基于初始水电临界出力和风光出力，对水电站在每个预设时间段内的水风光进行互补调节，得到水电站的第二出力数据集；基于第一出力数据集和第二出力数据集，对水电站在预设时间范围内的水风光进行互补调节，得到水电站的目标水电出力；基于目标水电出力，经过预设计算方法，得到水库的目标水量；基于目标水电出力和目标水量确定水电站的水风光互补运行结果。本发明在考虑水电平衡的基础上同时兼顾了风光出力的最大消纳利用率和电站水量在预设时间范围内的平衡，同时考虑了水电站水量的合理规划，保持了水量平衡。
权利要求书clms
1.一种水风光互补运行方法，用于水电站，所述水电站与水库连接；其特征在于，所述方法包括：获取所述水电站的第一出力数据集，所述第一出力数据集包括所述水电站在预设时间范围内每个预设时间段内的初始水电临界出力、风光出力和第一水电出力；基于所述初始水电临界出力和所述风光出力，对所述水电站在每个所述预设时间段内的水风光进行互补调节，得到所述水电站的第二出力数据集；基于所述第一出力数据集和所述第二出力数据集，对所述水电站在所述预设时间范围内的水风光进行互补调节，得到所述水电站的目标水电出力；基于所述目标水电出力，经过预设计算方法，得到所述水库的目标水量；基于所述目标水电出力和所述目标水量确定所述水电站的水风光互补运行结果。2.根据权利要求1所述的方法，其特征在于，所述第二出力数据集包括所述水电站在所述预设时间范围内第一出力、第二出力、第二水电出力和目标水电临界出力；基于所述第一出力数据集和所述第二出力数据集，对所述水电站在所述预设时间范围内的水风光进行互补调节，得到所述水电站的目标水电出力，包括：将所述第一出力和所述第二出力进行比对；当所述第一出力小于所述第二出力时，将所述第一水电出力和所述初始水电临界出力进行比对，得到第一比对结果；根据所述第一比对结果确定所述目标水电出力。3.根据权利要求2所述的方法，其特征在于，根据所述第一比对结果确定所述目标水电出力，包括：当所述第一水电出力大于所述初始水电临界出力时，基于所述初始水电临界出力确定所述目标水电出力；当所述第一水电出力小于所述初始水电临界出力时，基于所述第一水电出力、所述第二水电出力和所述目标水电临界出力确定所述目标水电出力。4.根据权利要求2所述的方法，其特征在于，将所述第一出力和所述第二出力进行比对之后，所述方法还包括：当所述第一出力大于所述第二出力时，将所述第一水电出力和所述初始水电临界出力进行比对，得到第二比对结果；根据所述第二比对结果确定所述目标水电出力。5.根据权利要求4所述的方法，其特征在于，根据所述第二比对结果确定所述目标水电出力，包括：当所述第一水电出力小于所述初始水电临界出力时，基于所述初始水电临界出力确定所述目标水电出力；当所述第一水电出力大于所述初始水电临界出力时，基于所述第一水电出力、所述第二水电出力和所述目标水电临界出力确定所述目标水电出力。6.根据权利要求1所述的方法，其特征在于，基于所述目标水电出力，经过预设计算方法，得到所述水库的目标水量，包括：获取所述水库的平均耗水率和第一水量；基于所述平均耗水率、所述目标水电出力和所述第一水量，经过所述预设计算方法，得到所述水库的目标水量。7.根据权利要求6所述的方法，其特征在于，基于所述平均耗水率、所述目标水电出力和所述第一水量，经过所述预设计算方法，得到所述水库的目标水量，包括：基于所述目标水电出力计算所述水电站的目标电量；基于所述目标电量和所述平均耗水率计算所述水电站的第二水量；基于所述第一水量和所述第二水量，确定所述水库的目标水量。8.根据权利要求1所述的方法，其特征在于，基于所述目标水电出力和所述目标水量确定所述水电站的水风光互补运行结果，包括：获取所述水库的水库库容；将所述目标水量分别与所述水库库容和预设阈值进行比对，得到第三比对结果；基于所述第三比对结果和所述目标水电出力，确定所述水电站的水风光互补运行结果。9.根据权利要求8所述的方法，其特征在于，基于所述第三比对结果和所述目标水电出力，确定所述水电站的水风光互补运行结果，包括：当所述目标水量大于所述预设阈值且小于所述水库库容时，所述水电站基于所述目标水电出力运行，并得到所述水风光互补运行结果。10.根据权利要求8所述的方法，其特征在于，基于所述第三比对结果和所述目标水电出力，确定所述水电站的水风光互补运行结果，还包括：当所述目标水量小于所述预设阈值或所述目标水量大于所述水库库容时，重复获取所述水电站的第一出力数据集的步骤至基于所述目标水电出力，经过预设计算方法，得到所述水库的目标水量的步骤，直至得到的所述目标水量大于所述预设阈值且小于所述水库库容时停止，并得到所述水风光互补运行结果。11.一种水风光互补运行装置，用于水电站，所述水电站与水库连接；其特征在于，所述装置包括：获取模块，用于获取所述水电站的第一出力数据集，所述第一出力数据集包括所述水电站在预设时间范围内每个预设时间段内的初始水电临界出力、风光出力和第一水电出力；第一互补调节模块，用于基于所述初始水电临界出力和所述风光出力，对所述水电站在每个所述预设时间段内的水风光进行互补调节，得到所述水电站的第二出力数据集；第二互补调节模块，用于基于所述第一出力数据集和所述第二出力数据集，对所述水电站在所述预设时间范围内的水风光进行互补调节，得到所述水电站的目标水电出力；计算模块，用于基于所述目标水电出力，经过预设计算方法，得到所述水库的目标水量；确定模块，用于基于所述目标水电出力和所述目标水量确定所述水电站的水风光互补运行结果。12.根据权利要求11所述的装置，其特征在于，所述第二出力数据集包括所述水电站在所述预设时间范围内第一出力、第二出力、第二水电出力和目标水电临界出力；所述第一互补调节模块，包括：第一比对单元，用于将所述第一出力和所述第二出力进行比对；第二比对单元，用于当所述第一出力小于所述第二出力时，将所述第一水电出力和所述初始水电临界出力进行比对，得到第一比对结果；第一确定单元，用于根据所述第一比对结果确定所述目标水电出力。13.根据权利要求12所述的装置，其特征在于，所述第一确定单元，包括：第一确定子单元，用于当所述第一水电出力大于所述初始水电临界出力时，基于所述初始水电临界出力确定所述目标水电出力；第二确定子单元，用于当所述第一水电出力小于所述初始水电临界出力时，基于所述第一水电出力、所述第二水电出力和所述目标水电临界出力确定所述目标水电出力。14.一种计算机设备，其特征在于，包括：存储器和处理器，所述存储器和所述处理器之间互相通信连接，所述存储器中存储有计算机指令，所述处理器通过执行所述计算机指令，从而执行权利要求1至10中任一项所述的水风光互补运行方法。15.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机指令，所述计算机指令用于使计算机执行权利要求1至10中任一项所述的水风光互补运行方法。
说明书desc
技术领域本发明涉及水风光出力调度技术领域，具体涉及一种水风光互补运行方法、装置、计算机设备及存储介质。背景技术水能、太阳能光伏均为清洁能源，水电出力受天然来水差异的影响，表现为丰水期出力大、枯水期出力小的特性。光伏出力因季节更替、云层厚度和天气变化等因素存在“间歇性、随机性和波动性”等人为不可控的特性，对电力系统的安全和稳定运行造成不利影响，还会在光伏发电高峰时段，因富余光电无法储存而出现大量弃光现象。因此，要利用水电和光伏的特性，进行水风光互补调度，以实现在尽可能小影响水电效益情况下提高光伏消纳率。目前，水风光互补调度为在追求光伏电量的月最大消纳利用率时，进行日水电出力调节，增加或减小水电出力至每日的临界出力，但是在调节日水电出力时并没有同时考虑电站水量的合理规划，例如发电用水因机组效率降低、水头损失而增大，可能造成出库流量始终大于实测入库流量，造成水库水量不平衡，影响下游水库的正常运行，甚至危及电站的经济效益和安全生产。发明内容有鉴于此，本发明提供了一种水风光互补运行方法、装置、计算机设备及存储介质，以解决现有技术中进行水风光互补调度时没有同时考虑电站水量的合理规划导致水库水量不平衡，影响下游水库的正常运行，甚至危及电站的经济效益和安全生产的问题。第一方面，本发明提供了一种水风光互补运行方法，用于水电站，水电站与水库连接；该水风光互补运行方法包括：获取水电站的第一出力数据集，第一出力数据集包括水电站在预设时间范围内每个预设时间段内的初始水电临界出力、风光出力和第一水电出力；基于初始水电临界出力和风光出力，对水电站在每个预设时间段内的水风光进行互补调节，得到水电站的第二出力数据集；基于第一出力数据集和第二出力数据集，对水电站在预设时间范围内的水风光进行互补调节，得到水电站的目标水电出力；基于目标水电出力，经过预设计算方法，得到水库的目标水量；基于目标水电出力和目标水量确定水电站的水风光互补运行结果。本发明提供的水风光互补运行方法，利用第一出力数据集和第二出力数据集进行水风光互补调节，在考虑水电平衡的基础上同时兼顾了风光出力的最大消纳利用率和电站水量在预设时间范围内的平衡；进一步，根据目标水电出力确定目标水量，并进一步确定水电站的水风光互补运行结果，考虑了水电站水量的合理规划，保持了水量平衡。因此，通过实施本发明，保证了水电站的正常运行，能够较好的满足生产需要。在一种可选的实施方式中，第二出力数据集包括水电站在预设时间范围内第一出力、第二出力、第二水电出力和目标水电临界出力；基于第一出力数据集和第二出力数据集，对水电站在预设时间范围内的水风光进行互补调节，得到水电站的目标水电出力，包括：将第一出力和第二出力进行比对；当第一出力小于第二出力时，将第一水电出力和初始水电临界出力进行比对，得到第一比对结果；根据第一比对结果确定目标水电出力。本发明利用第一出力数据集和第二出力数据集进行水风光互补调节，在考虑水电平衡的基础上同时兼顾了风光出力的最大消纳利用率和电站水量在预设时间范围内的平衡。在一种可选的实施方式中，根据第一比对结果确定目标水电出力，包括：当第一水电出力大于初始水电临界出力时，基于初始水电临界出力确定目标水电出力；当第一水电出力小于初始水电临界出力时，基于第一水电出力、第二水电出力和目标水电临界出力确定目标水电出力。本发明根据水电处理平衡确定目标水电出力，可以在保证水电平衡的基础上保证风光出力的最大消纳利用率和电站水量在预设时间范围内的平衡。在一种可选的实施方式中，将第一出力和第二出力进行比对之后，方法还包括：当第一出力大于第二出力时，将第一水电出力和初始水电临界出力进行比对，得到第二比对结果；根据第二比对结果确定目标水电出力。在一种可选的实施方式中，根据第二比对结果确定目标水电出力，包括：当第一水电出力小于初始水电临界出力时，基于初始水电临界出力确定目标水电出力；当第一水电出力大于初始水电临界出力时，基于第一水电出力、第二水电出力和目标水电临界出力确定目标水电出力。在一种可选的实施方式中，基于目标水电出力，经过预设计算方法，得到水库的目标水量，包括：获取水库的平均耗水率和第一水量；基于平均耗水率、目标水电出力和第一水量，经过预设计算方法，得到水库的目标水量。本发明根据目标水电出力确定目标水量，考虑了水电站水量的合理规划，保持了水量平衡。在一种可选的实施方式中，基于平均耗水率、目标水电出力和第一水量，经过预设计算方法，得到水库的目标水量，包括：基于目标水电出力计算水电站的目标电量；基于目标电量和平均耗水率计算水电站的第二水量；基于第一水量和第二水量，确定水库的目标水量。在一种可选的实施方式中，基于目标水电出力和目标水量确定水电站的水风光互补运行结果，包括：获取水库的水库库容；将目标水量分别与水库库容和预设阈值进行比对，得到第三比对结果；基于第三比对结果和目标水电出力，确定水电站的水风光互补运行结果。本发明根据目标水电出力和目标水量确定水电站的水风光互补运行结果，保证了水电站的正常运行，能够较好的满足生产需要。在一种可选的实施方式中，基于第三比对结果和目标水电出力，确定水电站的水风光互补运行结果，包括：当目标水量大于预设阈值且小于水库库容时，水电站基于目标水电出力运行，并得到水风光互补运行结果。在一种可选的实施方式中，基于第三比对结果和目标水电出力，确定水电站的水风光互补运行结果，还包括：当目标水量小于预设阈值或目标水量大于水库库容时，重复获取水电站的第一出力数据集的步骤至基于目标水电出力，经过预设计算方法，得到水库的目标水量的步骤，直至得到的目标水量大于预设阈值且小于水库库容时停止，并得到水风光互补运行结果。第二方面，本发明提供了一种水风光互补运行装置，用于水电站，水电站与水库连接；该水风光互补运行装置包括：获取模块，用于获取水电站的第一出力数据集，第一出力数据集包括水电站在预设时间范围内每个预设时间段内的初始水电临界出力、风光出力和第一水电出力；第一互补调节模块，用于基于初始水电临界出力和风光出力，对水电站在每个预设时间段内的水风光进行互补调节，得到水电站的第二出力数据集；第二互补调节模块，用于基于第一出力数据集和第二出力数据集，对水电站在预设时间范围内的水风光进行互补调节，得到水电站的目标水电出力；计算模块，用于基于目标水电出力，经过预设计算方法，得到水库的目标水量；确定模块，用于基于目标水电出力和目标水量确定水电站的水风光互补运行结果。在一种可选的实施方式中，第二出力数据集包括水电站在预设时间范围内第一出力、第二出力、第二水电出力和目标水电临界出力；第一互补调节模块，包括：第一比对单元，用于将第一出力和第二出力进行比对；第二比对单元，用于当第一出力小于第二出力时，将第一水电出力和初始水电临界出力进行比对，得到第一比对结果；第一确定单元，用于根据第一比对结果确定目标水电出力。在一种可选的实施方式中，第一确定单元，包括：第一确定子单元，用于当第一水电出力大于初始水电临界出力时，基于初始水电临界出力确定目标水电出力；第二确定子单元，用于当第一水电出力小于初始水电临界出力时，基于第一水电出力、第二水电出力和目标水电临界出力确定目标水电出力。第三方面，本发明提供了一种计算机设备，包括：存储器和处理器，存储器和处理器之间互相通信连接，存储器中存储有计算机指令，处理器通过执行计算机指令，从而执行上述第一方面或其对应的任一实施方式的水风光互补运行方法。第四方面，本发明提供了一种计算机可读存储介质，该计算机可读存储介质上存储有计算机指令，计算机指令用于使计算机执行上述第一方面或其对应的任一实施方式的水风光互补运行方法。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是根据本发明实施例的水风光互补运行方法的流程示意图；图2是根据本发明实施例的另一水风光互补运行方法的流程示意图；图3是根据本发明实施例的又一水风光互补运行方法的流程示意图；图4是根据本发明实施例的考虑电力平衡和水量月平衡相结合的月内水风光互补运行方法的流程示意图；图5是根据本发明实施例的水风光月内互补调节流程示意图；图6是根据本发明实施例的水风光互补运行装置的结构框图；图7是本发明实施例的计算机设备的硬件结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明实施例提供了一种水风光互补运行方法，通过在考虑水电平衡的基础上同时兼顾了风光出力的最大消纳利用率和电站水量在预设时间范围内的平衡，并进一步考虑了水电站水量的合理规划以达到保持水量平衡，保证水电站的正常运行能够较好的满足生产需要的效果。根据本发明实施例，提供了一种水风光互补运行方法实施例，需要说明的是，在附图的流程图示出的步骤可以在诸如一组计算机可执行指令的计算机系统中执行，并且，虽然在流程图中示出了逻辑顺序，但是在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤。在本实施例中提供了一种水风光互补运行方法，可用于水电站，且水电站与水库连接。图1是根据本发明实施例的水风光互补运行方法的流程图，如图1所示，该流程包括如下步骤：步骤S101，获取水电站的第一出力数据集。其中，第一出力数据集可以包括水电站在预设时间范围内每个预设时间段内的初始水电临界出力、风光出力和第一水电出力。本实施例中预设时间范围为一个月，每个预设时间段为一个月内的每一天。进一步，第一水电出力表示当月内每日的原始水电出力；初始水电临界出力可以根据当月内的每日的水电总需调和水电总可调情况确定月内的每日的梯级出力下限，即初始水电临界出力。其中，水电总需调是为了保证不产生弃风弃光，在水风光合计出力超过通道的时段需要降低的梯级水电出力，即水电可以降低的出力下限。水电总可调为通道剩余出力空间和梯级水电剩余出力空间的较小值，即水电可以增加的出力上限。步骤S102，基于初始水电临界出力和风光出力，对水电站在每个预设时间段内的水风光进行互补调节，得到水电站的第二出力数据集。其中，第二出力数据集可以包括水电站在预设时间范围内第一出力、第二出力、第二水电出力和目标水电临界出力。进一步，第一出力表示水电站在预设时间范围内的水电总需调；第二出力表示水电站在预设时间范围内的水电总可调；第二水电出力表示当日可以增加或减少的水电出力值；目标水电临界出力表示水电站在当日修正后的水电临界出力。具体地，根据每日内的初始水电临界出力和风光出力，以尽可能小影响水电效益情况下提高风电和光伏的消纳率为目标，对日内水风光进行互补调节，可以得到水电站日内互补的第二出力数据集。其中，当第二出力数据集中水电总可调等于水电总需调时，日内水电可以加大出力的总和与水电需要减小出力的总和恰好相等。既不会产生弃光，又不会浪费水电的可调节能力。当水电总可调大于水电总需调时，通过改变水电出力，可以把水光叠加出力超过通道而弃掉的那一部分光伏出力完全消纳。此时通过日内互补调节便可以把光伏完全消纳，光伏的消纳率达到100%。当水电总可调小于水电总需调时，通过对水电出力过程进行调整，可以消纳掉一部分原来要弃掉的光伏出力，但仍有一部分超通道的光伏出力需要弃掉，此时通过日内互补调节不能把光伏出力完全消纳，当日的光伏消纳率达不到100%，需要继续进行月内的水光互补。步骤S103，基于第一出力数据集和第二出力数据集，对水电站在预设时间范围内的水风光进行互补调节，得到水电站的目标水电出力。具体地，利用第一出力数据集和第二出力数据集继续对水电站在预设时间范围内的水风光进行互补调节，可以实现风光出力的最大消纳利用率在预设时间范围内的平衡，并得到对应的水电站的目标水电出力。步骤S104，基于目标水电出力，经过预设计算方法，得到水库的目标水量。具体地，根据水电站的目标水电出力可以计算得到与水电站连接的水库的目标水量。步骤S105，基于目标水电出力和目标水量确定水电站的水风光互补运行结果。具体地，利用目标水电出力和目标水量可以确定得到水电站的水风光互补运行结果，考虑了水电站水量的合理规划，保持了水量平衡，进一步，保证了水电站的正常运行，能够较好的满足生产需要。本实施例提供的水风光互补运行方法，利用第一出力数据集和第二出力数据集进行水风光互补调节，在考虑水电平衡的基础上同时兼顾了风光出力的最大消纳利用率和电站水量在预设时间范围内的平衡；进一步，根据目标水电出力确定目标水量，并进一步确定水电站的水风光互补运行结果，考虑了水电站水量的合理规划，保持了水量平衡。因此，通过实施本发明，保证了水电站的正常运行，能够较好的满足生产需要。在本实施例中提供了一种水风光互补运行方法，可用于水电站，且水电站与水库连接。图2是根据本发明实施例的水风光互补运行方法的流程图，如图2所示，该流程包括如下步骤：步骤S201，获取水电站的第一出力数据集。详细请参见图1所示实施例的步骤S101，在此不再赘述。步骤S202，基于初始水电临界出力和风光出力，对水电站在每个预设时间段内的水风光进行互补调节，得到水电站的第二出力数据集。详细请参见图1所示实施例的步骤S102，在此不再赘述。步骤S203，基于第一出力数据集和第二出力数据集，对水电站在预设时间范围内的水风光进行互补调节，得到水电站的目标水电出力。具体地，上述步骤S203包括：步骤S2031，将第一出力和第二出力进行比对。具体地，将表示水电总需调的第一出力与表示水电总可调的第二出力进行比对。步骤S2032，当第一出力小于第二出力时，将第一水电出力和初始水电临界出力进行比对，得到第一比对结果。具体地，当第一出力小于第二出力，即水电总需调小于水电总可调时，继续将当日的原水电出力和当日的初始水电临界出力进行比对。步骤S2033，根据第一比对结果确定目标水电出力。具体地，根据当日的原水电出力与初始水电临界出力的比对结果可以进一步确定水电站的目标水电出力。在一些可选的实施方式中，上述步骤S2033包括：步骤a1，当第一水电出力大于初始水电临界出力时，基于初始水电临界出力确定目标水电出力。步骤a2，当第一水电出力小于初始水电临界出力时，基于第一水电出力、第二水电出力和目标水电临界出力确定目标水电出力。具体地，如果水电总需调小于水电总可调，说明在月互补之后，风光出力可以被完全消纳。此时，如果当日的第一水电出力大于初始水电临界出力，则当日的原水电出力即第一水电出力减小，此时，以当日的水电临界出力即初始水电临界出力作为当日的月内互补后的日均水电出力，即目标水电出力，如下关系式所示：式中：表示水电需降低出力天数/＞中第/＞天月互补后的梯级出力，即目标水电出力；/＞水电需降低出力天数中第/＞天的临界出力，即初始水电临界出力。当第一水电出力小于初始水电临界出力时，当日的原水电出力即第一水电出力增加，此时，以当日的原水电出力即第一水电出力+min{水电可以增加的出力值即第二水电出力，修正后的水电临界出力值即目标水电临界出力}的值作为当日的月内互补后的日均水电出力，即目标水电出力，如下关系式所示：式中：表示水电可增加出力天数/＞中第/＞天月互补后的梯级出力，即目标水电出力；/＞表示水电可增加出力天数中第/＞天的原梯级出力，即第一水电出力；/＞表示第/＞天水电可以增加的出力值即第二水电出力，如下关系式所示：式中：表示修正后的临界出力，即目标水电临界出力，可以通过如下关系式迭代计算得到：式中：表示月内可以增加出力的总天数；/＞表示第/＞天水电需要减少的出力值。进一步，上述步骤S2031之后，步骤S203还包括：步骤S2034，当第一出力大于第二出力时，将第一水电出力和初始水电临界出力进行比对，得到第二比对结果。具体地，当第一出力大于第二出力，即水电总需调大于水电总可调时，继续将当日的原水电出力和当日的初始水电临界出力进行比对。步骤S2035，根据第二比对结果确定目标水电出力。具体地，根据当日的原水电出力与初始水电临界出力的比对结果可以进一步确定水电站的目标水电出力。在一些可选的实施方式中，上述步骤S2035包括：步骤b1，当第一水电出力小于初始水电临界出力时，基于初始水电临界出力确定目标水电出力。步骤b2，当第一水电出力大于初始水电临界出力时，基于第一水电出力、第二水电出力和目标水电临界出力确定目标水电出力。具体地，如果水电总需调大于水电总可调，说明当月风光出力不能被完全消纳。此时，如果第一水电出力小于初始水电临界出力，则当日的原水电出力即第一水电出力增加，此时，将当日的水电临界出力即初始水电临界出力作为当日的月内互补后的日均水电出力，即目标水电出力，如下关系式所示：式中：表示水电可增加出力天数中第/＞天的临界出力，即初始水电临界出力。如果第一水电出力大于初始水电临界出力时，当日的原水电出力即第一水电出力减小，此时，以当日的原水电出力即第一水电出力+min{水电可以减小的出力值即第二水电出力，修正后的水电临界出力值即目标水电临界出力}的值作为当日的月内互补后的日均水电出力，即目标水电出力，如下关系式所示：式中：表示水电需降低出力天数/＞中第/＞天月互补后的梯级出力，即目标水电出力；/＞表示水电需降低出力天数中第/＞天的原梯级出力，即第一水电出力；/＞表示第/＞天水电需要减少的出力值即第二水电出力，如下关系式所示：式中：表示修正后的临界出力，即目标水电临界出力，可以通过如下关系式迭代计算得到：步骤S204，基于目标水电出力，经过预设计算方法，得到水库的目标水量。详细请参见图1所示实施例的步骤S104，在此不再赘述。步骤S205，基于目标水电出力和目标水量确定水电站的水风光互补运行结果。详细请参见图1所示实施例的步骤S105，在此不再赘述。本实施例提供的水风光互补运行方法，利用第一出力数据集和第二出力数据集进行水风光互补调节，在考虑水电平衡的基础上同时兼顾了风光出力的最大消纳利用率和电站水量在预设时间范围内的平衡。在本实施例中提供了一种水风光互补运行方法，可用于水电站，且水电站与水库连接。图3是根据本发明实施例的水风光互补运行方法的流程图，如图3所示，该流程包括如下步骤：步骤S301，获取水电站的第一出力数据集。详细请参见图1所示实施例的步骤S101，在此不再赘述。步骤S302，基于初始水电临界出力和风光出力，对水电站在每个预设时间段内的水风光进行互补调节，得到水电站的第二出力数据集。详细请参见图1所示实施例的步骤S102，在此不再赘述。步骤S303，基于第一出力数据集和第二出力数据集，对水电站在预设时间范围内的水风光进行互补调节，得到水电站的目标水电出力。详细请参见图2所示实施例的步骤S203，在此不再赘述。步骤S304，基于目标水电出力，经过预设计算方法，得到水库的目标水量。具体地，上述步骤S304包括：步骤S3041，获取水库的平均耗水率和第一水量。其中，第一水量表示水库每天的来水量。其中，/＞为1到30的整数。步骤S3042，基于平均耗水率、目标水电出力和第一水量，经过预设计算方法，得到水库的目标水量。具体地，根据水库的平均耗水率、目标水电出力和水库每天的来水量，可以计算得到水库目标水量。在一些可选的实施方式中，上述步骤S3042包括：步骤c1，基于目标水电出力计算水电站的目标电量。步骤c1，基于目标电量和平均耗水率计算水电站的第二水量。步骤c3，基于第一水量和第二水量，确定水库的目标水量。首先，利用如下关系式计算水电站的目标电量E：E=目标水电出力*24小时其次，利用如下关系式计算水电站每日的耗水量，即第二水量：最后，根据水库第一天的来水量即水量起始水量、水库每天的来水量即第一水量/＞和水电站每日的耗水量，可以确定水库的目标数量。步骤S305，基于目标水电出力和目标水量确定水电站的水风光互补运行结果。具体地，上述步骤S305包括：步骤S3051，获取水库的水库库容。具体地，获取水库的水库库容。步骤S3052，将目标水量分别与水库库容和预设阈值进行比对，得到第三比对结果。为保证水库的水量平衡，每天还必须满足：水量在0和水库库容V水库库容之间，具体情况如下关系式：具体地，将目标水量分别与水库库容和预设阈值0进行比对，可以确定水库的水量是否平衡。步骤S3053，基于第三比对结果和目标水电出力，确定水电站的水风光互补运行结果。具体地，在水库水量平衡结果的基础上结合目标水电出力，可以得到水电站的水风光互补运行结果。在一些可选的实施方式中，上述步骤S3053包括：步骤d1，当目标水量大于预设阈值且小于水库库容时，水电站基于目标水电出力运行，并得到水风光互补运行结果。步骤d2，当目标水量小于预设阈值或目标水量大于水库库容时，重复获取水电站的第一出力数据集的步骤至基于目标水电出力，经过预设计算方法，得到水库的目标水量的步骤，直至得到的目标水量大于预设阈值且小于水库库容时停止，并得到水风光互补运行结果。具体地，当目标水量大于预设阈值且小于水库库容时，表示水库水量达到平衡，此时，水电站可以直接基于目标水电出力运行，并得到对应的水风光互补运行结果。当目标水量小于预设阈值或目标水量大于水库库容时，表示水库水量未达到平衡，此时，重复步骤S301至步骤S304，直至得到的目标水量大于预设阈值且小于水库库容即水库水量达到平衡时停止，并利用该目标水量对应的目标水电出力运行水电站，并得到对应的水风光互补运行结果。本实施例提供的水风光互补运行方法，根据目标水电出力确定目标水量，并进一步确定水电站的水风光互补运行结果，考虑了水电站水量的合理规划，保持了水量平衡。因此，通过实施本发明，保证了水电站的正常运行，能够较好的满足生产需要。在一实例中，提供一种考虑电力平衡和水量月平衡相结合的月内水风光互补运行方法，如图4所示，包括：1、根据当月内的每日的水电总需调等于水电总可调情况，确定月内的每日的水电临界出力；2、根据每日的风光出力和每日的水电临界出力，以尽可能小影响水电效益情况下提高风电和光伏的消纳率为目标，对日内水风光进行互补调节，获得日内互补的水电出力；3、根据月总需调、月总可调、当日的原水电出力、当日的水电临界出力、水电可以增加的出力值、修正之后的当日水电临界出力进行月互补调节获得当日的月内互补后的日均水电出力，如图5所示；4、根据月内互补后的日均水电出力得到每日的耗水量，根据每日的耗水量、第一天起始水库的水量、水库每天的来水量，计算水库的每一天的水库的水量；5、判断水库每天水量是否在0和水库库容之间；如果是，则结束，如果否则进入起始步骤。在本实施例中还提供了一种水风光互补运行装置，该装置用于实现上述实施例及优选实施方式，已经进行过说明的不再赘述。如以下所使用的，术语“模块”可以实现预定功能的软件和/或硬件的组合。尽管以下实施例所描述的装置较佳地以软件来实现，但是硬件，或者软件和硬件的组合的实现也是可能并被构想的。本实施例提供一种水风光互补运行装置，用于水电站，水电站与水库连接；如图6所示，包括：获取模块601，用于获取水电站的第一出力数据集，第一出力数据集包括水电站在预设时间范围内每个预设时间段内的初始水电临界出力、风光出力和第一水电出力。第一互补调节模块602，用于基于初始水电临界出力和风光出力，对水电站在每个预设时间段内的水风光进行互补调节，得到水电站的第二出力数据集。第二互补调节模块603，用于基于第一出力数据集和第二出力数据集，对水电站在预设时间范围内的水风光进行互补调节，得到水电站的目标水电出力。计算模块604，用于基于目标水电出力，经过预设计算方法，得到水库的目标水量。确定模块605，用于基于目标水电出力和目标水量确定水电站的水风光互补运行结果。在一些可选的实施方式中，第二出力数据集包括水电站在预设时间范围内第一出力、第二出力、第二水电出力和目标水电临界出力；第一互补调节模块602包括：第一比对单元，用于将第一出力和第二出力进行比对。第二比对单元，用于当第一出力小于第二出力时，将第一水电出力和初始水电临界出力进行比对，得到第一比对结果。第一确定单元，用于根据第一比对结果确定目标水电出力。在一些可选的实施方式中，第一确定单元，包括。第一确定子单元，用于当第一水电出力大于初始水电临界出力时，基于初始水电临界出力确定目标水电出力。第二确定子单元，用于当第一水电出力小于初始水电临界出力时，基于第一水电出力、第二水电出力和目标水电临界出力确定目标水电出力。在一些可选的实施方式中，第一互补调节模块602还包括：第三比对单元，用于当第一出力大于第二出力时，将第一水电出力和初始水电临界出力进行比对，得到第二比对结果。第二确定单元，用于根据第二比对结果确定目标水电出力。在一些可选的实施方式中，第二确定单元包括：第三确定子单元，用于当第一水电出力小于初始水电临界出力时，基于初始水电临界出力确定目标水电出力。第四确定子单元，用于当第一水电出力大于初始水电临界出力时，基于第一水电出力、第二水电出力和目标水电临界出力确定目标水电出力。在一些可选的实施方式中，计算模块604包括：第一获取单元，用于获取水库的平均耗水率和第一水量。计算单元，用于基于平均耗水率、目标水电出力和第一水量，经过预设计算方法，得到水库的目标水量。在一些可选的实施方式中，计算单元包括：第一计算子单元，用于基于目标水电出力计算水电站的目标电量。第二计算子单元，用于基于目标电量和平均耗水率计算水电站的第二水量。第五确定子单元，用于基于第一水量和第二水量，确定水库的目标水量。在一些可选的实施方式中，确定模块605包括：第二获取单元，用于获取水库的水库库容。第四比对单元，用于将目标水量分别与水库库容和预设阈值进行比对，得到第三比对结果。第三确定单元，用于基于第三比对结果和目标水电出力，确定水电站的水风光互补运行结果。在一些可选的实施方式中，第三确定单元包括：运行子单元，用于当目标水量大于预设阈值且小于水库库容时，水电站基于目标水电出力运行，并得到水风光互补运行结果。在一些可选的实施方式中，第三确定单元还包括：重复子单元，用于当目标水量小于预设阈值或目标水量大于水库库容时，重复获取水电站的第一出力数据集的步骤至基于目标水电出力，经过预设计算方法，得到水库的目标水量的步骤，直至得到的目标水量大于预设阈值且小于水库库容时停止，并得到水风光互补运行结果。上述各个模块和单元的更进一步的功能描述与上述对应实施例相同，在此不再赘述。本实施例中的水风光互补运行装置是以功能单元的形式来呈现，这里的单元是指ASIC电路，执行一个或多个软件或固定程序的处理器和存储器，和/或其他可以提供上述功能的器件。本发明实施例还提供一种计算机设备，具有上述图6所示的水风光互补运行装置。请参阅图7，图7是本发明可选实施例提供的一种计算机设备的结构示意图，如图7所示，该计算机设备包括：一个或多个处理器10、存储器20，以及用于连接各部件的接口，包括高速接口和低速接口。各个部件利用不同的总线互相通信连接，并且可以被安装在公共主板上或者根据需要以其它方式安装。处理器可以对在计算机设备内执行的指令进行处理，包括存储在存储器中或者存储器上以在外部输入/输出装置上显示GUI的图形信息的指令。在一些可选的实施方式中，若需要，可以将多个处理器和/或多条总线与多个存储器和多个存储器一起使用。同样，可以连接多个计算机设备，各个设备提供部分必要的操作。图7中以一个处理器10为例。处理器10可以是中央处理器，网络处理器或其组合。其中，处理器10还可以进一步包括硬件芯片。上述硬件芯片可以是专用集成电路，可编程逻辑器件或其组合。上述可编程逻辑器件可以是复杂可编程逻辑器件，现场可编程逻辑门阵列，通用阵列逻辑或其任意组合。其中，存储器20存储有可由至少一个处理器10执行的指令，以使至少一个处理器10执行实现上述实施例示出的方法。存储器20可以包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需要的应用程序；存储数据区可存储根据计算机设备的使用所创建的数据等。此外，存储器20可以包括高速随机存取存储器，还可以包括非瞬时存储器，例如至少一个磁盘存储器件、闪存器件、或其他非瞬时固态存储器件。在一些可选的实施方式中，存储器20可选包括相对于处理器10远程设置的存储器，这些远程存储器可以通过网络连接至该计算机设备。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。存储器20可以包括易失性存储器，例如，随机存取存储器；存储器也可以包括非易失性存储器，例如，快闪存储器，硬盘或固态硬盘；存储器20还可以包括上述种类的存储器的组合。该计算机设备还包括通信接口30，用于该计算机设备与其他设备或通信网络通信。本发明实施例还提供了一种计算机可读存储介质，上述根据本发明实施例的方法可在硬件、固件中实现，或者被实现为可记录在存储介质，或者被实现通过网络下载的原始存储在远程存储介质或非暂时机器可读存储介质中并将被存储在本地存储介质中的计算机代码，从而在此描述的方法可被存储在使用通用计算机、专用处理器或者可编程或专用硬件的存储介质上的这样的软件处理。其中，存储介质可为磁碟、光盘、只读存储记忆体、随机存储记忆体、快闪存储器、硬盘或固态硬盘等；进一步地，存储介质还可以包括上述种类的存储器的组合。可以理解，计算机、处理器、微处理器控制器或可编程硬件包括可存储或接收软件或计算机代码的存储组件，当软件或计算机代码被计算机、处理器或硬件访问且执行时，实现上述实施例示出的方法。虽然结合附图描述了本发明的实施例，但是本领域技术人员可以在不脱离本发明的精神和范围的情况下做出各种修改和变型，这样的修改和变型均落入由所附权利要求所限定的范围之内。
