标题title
跨网络的数据传输方法、装置和存储介质及电子设备
摘要abst
本申请公开了一种跨网络的数据传输方法、装置和存储介质及电子设备。其中，该方法包括：获取第一目标网络的数据传输配置；通过中继转发功能进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输；通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输，通过信令转发代理组件和信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输，可应用于智慧交通场景。本申请解决了跨网络的数据传输效率较低的技术问题。
权利要求书clms
1.一种跨网络的数据传输方法，其特征在于，包括：获取第一目标网络的数据传输配置，其中，所述第一目标网络中部署有流媒体服务器，所述数据传输配置用于配置媒体数据的中继转发功能；在所述数据传输配置指示所述第一目标网络支持所述中继转发功能的情况下，通过所述中继转发功能进行所述第一目标网络与第二目标网络之间的媒体数据传输，以及通过所述流媒体服务器上部署的信令转发代理组件和所述第二目标网络中部署的信令转发服务组件进行所述第一目标网络与所述第二目标网络之间的信令数据传输；在所述数据传输配置指示所述第一目标网络未支持所述中继转发功能的情况下，通过所述流媒体服务器上部署的媒体转发代理组件和所述第二目标网络中部署的媒体转发服务组件进行所述第一目标网络与所述第二目标网络之间的媒体数据传输，以及通过所述信令转发代理组件和所述信令转发服务组件进行所述第一目标网络与第二目标网络之间的信令数据传输。2.根据权利要求1所述的方法，其特征在于，所述通过所述中继转发功能进行所述第一目标网络与第二目标网络之间的媒体数据传输，包括：建立所述流媒体服务器与所述第二目标网络中部署的中继转发服务组件之间的通信连接；利用所述通信连接，将目标媒体数据传输至所述中继转发服务组件，其中，所述目标媒体数据为所述第一目标网络中的媒体数据。3.根据权利要求2所述的方法，其特征在于，在所述利用所述通信连接，将目标媒体数据传输至所述中继转发服务组件之后，所述方法还包括：接收所述第二目标网络返回的第一传输结果，其中，所述第一传输结果为所述目标媒体数据的传输结果；在所述第一传输结果指示所述目标媒体数据的传输异常的情况下，通过所述媒体转发代理组件和所述媒体转发服务组件进行所述目标媒体数据的二次传输。4.根据权利要求1所述的方法，其特征在于，在所述通过所述流媒体服务器上部署的信令转发代理组件和所述第二目标网络中部署的信令转发服务组件进行所述第一目标网络与所述第二目标网络之间的信令数据传输之前，所述方法还包括：建立所述信令转发代理组件与所述信令转发服务组件之间的TCP通道；通过所述TCP通道，获取所述信令转发服务组件发送至所述信令转发代理组件的信令访问请求，其中，所述信令访问请求为所述第二目标网络中的第一终端向所述信令转发服务组件发送的请求；将所述信令访问请求发送至所述流媒体服务器的信令通信端口，其中，所述信令通信端口与所述第一目标网络的信令数据来源建立有数据传输连接；通过所述媒体通信端口获取所述信令访问请求对应的请求响应数据，其中，所述请求响应数据包括目标信令数据；通过所述TCP通道，将所述目标信令数据发送至所述信令转发服务组件，并由所述信令转发服务组件将所述目标信令数据转发至所述第一终端。5.根据权利要求1所述的方法，其特征在于，在所述通过所述流媒体服务器上部署的媒体转发代理组件和所述第二目标网络中部署的媒体转发服务组件进行所述第一目标网络与所述第二目标网络之间的媒体数据传输之前，所述方法还包括：建立所述媒体转发代理组件与所述媒体转发服务组件之间的UDP通道；通过所述UDP通道，获取所述媒体转发服务组件发送至所述媒体转发代理组件的媒体访问请求，其中，所述媒体访问请求为所述第二目标网络中的第二终端向所述媒体转发服务组件发送的请求；将所述媒体访问请求发送至所述流媒体服务器的媒体通信端口，其中，所述媒体通信端口与所述第一目标网络的媒体数据来源建立有数据传输连接；通过所述媒体通信端口获取所述媒体访问请求对应的请求响应数据，其中，所述请求响应数据包括目标媒体数据；通过所述UDP通道，将所述目标媒体数据发送至所述媒体转发服务组件，并由所述媒体转发服务组件将所述目标媒体数据转发至所述第二终端。6.根据权利要求1至5中任一项所述的方法，其特征在于，所述获取第一目标网络的数据传输配置，包括：在所述数据传输配置指示所述第一目标网络未支持所述中继转发功能、且所述流媒体服务器与所述第二目标网络之间无法进行点对点的媒体数据传输的情况下，调整所述数据传输配置，设置所述第一目标网络支持所述中继转发功能。7.根据权利要求1至5中任一项所述的方法，其特征在于，在所述通过所述流媒体服务器上部署的媒体转发代理组件和所述第二目标网络中部署的媒体转发服务组件进行所述第一目标网络与所述第二目标网络之间的媒体数据传输之后，所述方法还包括：接收所述第二目标网络返回的第二传输结果，其中，所述第二传输结果为所述第一目标网络与所述第二目标网络之间的媒体数据的传输结果；在所述第二传输结果指示所述第一目标网络与所述第二目标网络之间的媒体数据的传输异常的情况下，调整所述数据传输配置，设置所述第一目标网络支持所述中继转发功能。8.一种跨网络的数据传输装置，其特征在于，包括：第一获取单元，用于获取第一目标网络的数据传输配置，其中，所述第一目标网络中部署有流媒体服务器，所述数据传输配置用于配置媒体数据的中继转发功能；第一传输单元，用于在所述数据传输配置指示所述第一目标网络支持所述中继转发功能的情况下，通过所述中继转发功能进行所述第一目标网络与第二目标网络之间的媒体数据传输，以及通过所述流媒体服务器上部署的信令转发代理组件和所述第二目标网络中部署的信令转发服务组件进行所述第一目标网络与所述第二目标网络之间的信令数据传输；第二传输单元，用于在所述数据传输配置指示所述第一目标网络未支持所述中继转发功能的情况下，通过所述流媒体服务器上部署的媒体转发代理组件和所述第二目标网络中部署的媒体转发服务组件进行所述第一目标网络与所述第二目标网络之间的媒体数据传输，以及通过所述信令转发代理组件和所述信令转发服务组件进行所述第一目标网络与第二目标网络之间的信令数据传输。9.一种计算机可读的存储介质，其特征在于，所述计算机可读的存储介质包括存储的程序，其中，所述程序被电子设备运行时执行所述权利要求1至7任一项中所述的方法。10.一种计算机程序产品，包括计算机程序/指令，其特征在于，该计算机程序/指令被处理器执行时实现权利要求1至7任一项中所述方法的步骤。11.一种电子设备，包括存储器和处理器，其特征在于，所述存储器中存储有计算机程序，所述处理器被设置为通过所述计算机程序执行所述权利要求1至7任一项中所述的方法。
说明书desc
技术领域本申请涉及计算机领域，具体而言，涉及一种跨网络的数据传输方法、装置和存储介质及电子设备。背景技术在跨网络的数据传输场景中，通常会分别在不同的网络环境部署多套流媒体服务器，再利用多套流媒体服务器进行数据的接收和推送，但多套流媒体服务器之间需要在网络的应用层做流媒体的传输，会增加流媒体传输到大网终端用户的时延，进而导致跨网络的数据传输效率较低的问题出现。因此，存在跨网络的数据传输效率较低的问题。针对上述的问题，目前尚未提出有效的解决方案。发明内容本申请实施例提供了一种跨网络的数据传输方法、装置和存储介质及电子设备，以至少解决跨网络的数据传输效率较低的技术问题。根据本申请实施例的一个方面，提供了一种跨网络的数据传输方法，包括：获取第一目标网络的数据传输配置，其中，上述第一目标网络中部署有流媒体服务器，上述数据传输配置用于配置媒体数据的中继转发功能；在上述数据传输配置指示上述第一目标网络支持上述中继转发功能的情况下，通过上述中继转发功能进行上述第一目标网络与第二目标网络之间的媒体数据传输，以及通过上述流媒体服务器上部署的信令转发代理组件和上述第二目标网络中部署的信令转发服务组件进行上述第一目标网络与上述第二目标网络之间的信令数据传输；在上述数据传输配置指示上述第一目标网络未支持上述中继转发功能的情况下，通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输，以及通过上述信令转发代理组件和上述信令转发服务组件进行上述第一目标网络与第二目标网络之间的信令数据传输。根据本申请实施例的另一方面，还提供了一种跨网络的数据传输装置，包括：第一获取单元，用于获取第一目标网络的数据传输配置，其中，上述第一目标网络中部署有流媒体服务器，上述数据传输配置用于配置媒体数据的中继转发功能；第一传输单元，用于在上述数据传输配置指示上述第一目标网络支持上述中继转发功能的情况下，通过上述中继转发功能进行上述第一目标网络与第二目标网络之间的媒体数据传输，以及通过上述流媒体服务器上部署的信令转发代理组件和上述第二目标网络中部署的信令转发服务组件进行上述第一目标网络与上述第二目标网络之间的信令数据传输；第二传输单元，用于在上述数据传输配置指示上述第一目标网络未支持上述中继转发功能的情况下，通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输，以及通过上述信令转发代理组件和上述信令转发服务组件进行上述第一目标网络与第二目标网络之间的信令数据传输。作为一种可选的方案，上述第一传输单元，包括：建立模块，用于建立上述流媒体服务器与上述第二目标网络中部署的中继转发服务组件之间的通信连接；第一传输模块，用于利用上述通信连接，将目标媒体数据传输至上述中继转发服务组件，其中，上述目标媒体数据为上述第一目标网络中的媒体数据。作为一种可选的方案，上述装置还包括：接收模块，用于在上述利用上述通信连接，将目标媒体数据传输至上述中继转发服务组件之后，接收上述第二目标网络返回的第一传输结果，其中，上述第一传输结果为上述目标媒体数据的传输结果；第二传输模块，用于在上述利用上述通信连接，将目标媒体数据传输至上述中继转发服务组件之后，在上述第一传输结果指示上述目标媒体数据的传输异常的情况下，通过上述媒体转发代理组件和上述媒体转发服务组件进行上述目标媒体数据的二次传输。作为一种可选的方案，上述装置还包括：第一建立单元，用于在上述通过上述流媒体服务器上部署的信令转发代理组件和上述第二目标网络中部署的信令转发服务组件进行上述第一目标网络与上述第二目标网络之间的信令数据传输之前，建立上述信令转发代理组件与上述信令转发服务组件之间的TCP通道；第二获取单元，用于在上述通过上述流媒体服务器上部署的信令转发代理组件和上述第二目标网络中部署的信令转发服务组件进行上述第一目标网络与上述第二目标网络之间的信令数据传输之前，通过上述TCP通道，获取上述信令转发服务组件发送至上述信令转发代理组件的信令访问请求，其中，上述信令访问请求为上述第二目标网络中的第一终端向上述信令转发服务组件发送的请求；第一发送单元，用于在上述通过上述流媒体服务器上部署的信令转发代理组件和上述第二目标网络中部署的信令转发服务组件进行上述第一目标网络与上述第二目标网络之间的信令数据传输之前，将上述信令访问请求发送至上述流媒体服务器的信令通信端口，其中，上述信令通信端口与上述第一目标网络的信令数据来源建立有数据传输连接；第三获取单元，用于在上述通过上述流媒体服务器上部署的信令转发代理组件和上述第二目标网络中部署的信令转发服务组件进行上述第一目标网络与上述第二目标网络之间的信令数据传输之前，通过上述媒体通信端口获取上述信令访问请求对应的请求响应数据，其中，上述请求响应数据包括目标信令数据；第二发送单元，用于在上述通过上述流媒体服务器上部署的信令转发代理组件和上述第二目标网络中部署的信令转发服务组件进行上述第一目标网络与上述第二目标网络之间的信令数据传输之前，通过上述TCP通道，将上述目标信令数据发送至上述信令转发服务组件，并由上述信令转发服务组件将上述目标信令数据转发至上述第一终端。作为一种可选的方案，上述装置还包括：第二建立单元，用于在上述通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输之前，建立上述媒体转发代理组件与上述媒体转发服务组件之间的UDP通道；第三获取单元，用于在上述通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输之前，通过上述UDP通道，获取上述媒体转发服务组件发送至上述媒体转发代理组件的媒体访问请求，其中，上述媒体访问请求为上述第二目标网络中的第二终端向上述媒体转发服务组件发送的请求；第三发送单元，用于在上述通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输之前，将上述媒体访问请求发送至上述流媒体服务器的媒体通信端口，其中，上述媒体通信端口与上述第一目标网络的媒体数据来源建立有数据传输连接；第四获取单元，用于在上述通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输之前，通过上述媒体通信端口获取上述媒体访问请求对应的请求响应数据，其中，上述请求响应数据包括目标媒体数据；第四发送单元，用于在上述通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输之前，通过上述UDP通道，将上述目标媒体数据发送至上述媒体转发服务组件，并由上述媒体转发服务组件将上述目标媒体数据转发至上述第二终端。作为一种可选的方案，上述第一获取单元，包括：设置模块，用于在上述数据传输配置指示上述第一目标网络未支持上述中继转发功能、且上述流媒体服务器与上述第二目标网络之间无法进行点对点的媒体数据传输的情况下，调整上述数据传输配置，设置上述第一目标网络支持上述中继转发功能。作为一种可选的方案，上述装置还包括：接收单元，用于在上述通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输之后，接收上述第二目标网络返回的第二传输结果，其中，上述第二传输结果为上述第一目标网络与上述第二目标网络之间的媒体数据的传输结果；设置单元，用于在上述通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输之后，在上述第二传输结果指示上述第一目标网络与上述第二目标网络之间的媒体数据的传输异常的情况下，调整上述数据传输配置，设置上述第一目标网络支持上述中继转发功能。根据本申请实施例的又一个方面，提供一种计算机程序产品或计算机程序，该计算机程序产品或计算机程序包括计算机指令，该计算机指令存储在计算机可读存储介质中。计算机设备的处理器从计算机可读存储介质读取该计算机指令，处理器执行该计算机指令，使得该计算机设备执行如以上跨网络的数据传输方法。根据本申请实施例的又一方面，还提供了一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其中，上述处理器通过计算机程序执行上述的跨网络的数据传输方法。在本申请实施例中，获取第一目标网络的数据传输配置，其中，上述第一目标网络中部署有流媒体服务器，上述数据传输配置用于配置媒体数据的中继转发功能；在上述数据传输配置指示上述第一目标网络支持上述中继转发功能的情况下，通过上述中继转发功能进行上述第一目标网络与第二目标网络之间的媒体数据传输，以及通过上述流媒体服务器上部署的信令转发代理组件和上述第二目标网络中部署的信令转发服务组件进行上述第一目标网络与上述第二目标网络之间的信令数据传输；在上述数据传输配置指示上述第一目标网络未支持上述中继转发功能的情况下，通过上述流媒体服务器上部署的媒体转发代理组件和上述第二目标网络中部署的媒体转发服务组件进行上述第一目标网络与上述第二目标网络之间的媒体数据传输，以及通过上述信令转发代理组件和上述信令转发服务组件进行上述第一目标网络与第二目标网络之间的信令数据传输。在进行第一目标网络和第二目标网络之间跨网络的数据传输过程中，无需部署两套流媒体服务器，仅需支持中继转发功能的一套流媒体服务器即可实现跨网络的数据传输过程，而对于不支持中继转发功能的流媒体服务器，本实施例也通过部署在不同目标网络中的组件，仍是以一套流媒体服务器实现了跨网络的数据传输，进而达到了减少跨网络的数据传输过程中流媒体服务器的数量的目的，从而实现了提高跨网络的数据传输效率的技术效果，进而解决了跨网络的数据传输效率较低的技术问题。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1是根据本申请实施例的一种可选的跨网络的数据传输方法的应用环境的示意图；图2是根据本申请实施例的一种可选的跨网络的数据传输方法的流程的示意图；图3是根据本申请实施例的一种可选的跨网络的数据传输方法的示意图；图4是根据本申请实施例的另一种可选的跨网络的数据传输方法的示意图；图5是根据本申请实施例的另一种可选的跨网络的数据传输方法的示意图；图6是根据本申请实施例的另一种可选的跨网络的数据传输方法的示意图；图7是根据本申请实施例的另一种可选的跨网络的数据传输方法的示意图；图8是根据本申请实施例的一种可选的跨网络的数据传输装置的示意图；图9是根据本申请实施例的一种可选的电子设备的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本申请方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分的实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本申请保护的范围。需要说明的是，本申请的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本申请的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。为方便理解，对下述名词进行解释：NAT：NAT全称为Network Address Translation，是指网络地址转换。通常情况下，每个设备都有自己的IP地址，但在大多数家庭或企业网络中，只有一个公共IP地址可用于连接互联网。为了让多个设备共享这个公共IP地址，NAT将网络包的源IP地址和端口转换为公共IP地址和端口，然后在公共网络中传输，然后再将其转换回本地IP地址和端口。这样，多个设备就可以通过一个公共IP地址与互联网通信，从而减少了IP地址的使用，降低了网络成本。但是，NAT也带来了一些限制，例如在两个处于NAT后的设备之间通信时可能需要使用TURN等技术来穿越NAT限制。webrtc：webrtc全称为Web Real-Time Communication，是一个基于网页浏览器之间实现实时音视频通信的开放源代码项目。它提供了一组JavaScript API，可以在不需要任何浏览器插件或第三方软件的情况下，实现点对点的音视频通信、数据传输和屏幕共享等功能。webrtc技术已经被广泛应用于在线会议、在线教育、远程医疗、在线游戏等领域。ICE：ICE全称为Interactive Connectivity Establishment，是webrtc中用于建立点对点通信连接的一种技术。它利用多种技术，包括STUN、TURN和SDP等，来解决网络中的NAT穿越、防火墙和其他网络障碍问题，从而实现webrtc应用程序之间的实时通信。通过使用ICE技术，webrtc可以以最佳的方式选择最佳的传输路径，从而实现更好的音视频通信质量和更低的延迟。TURN：TURN全称为Traversal Using Relay NAT，是一种用于穿越NAT的技术。在网络通信中，如果两个设备都处于一个NAT之后，它们之间的通信可能会受到限制，因为NAT会将发送方的IP地址和端口转换为其他公共IP地址和端口，接收方需要知道这些信息才能正确地返回响应。TURN技术通过在公共互联网上设置中继转发服务组件，将通信流量转发到需要通信的设备上，从而克服了这个问题。TURN通常与STUN技术一起使用，以提高NAT穿越的可靠性和效率，使webrtc应用程序之间的实时通信更加稳定和高效。智能交通系统又称智能运输系统，是将先进的科学技术有效地综合运用于交通运输、服务控制和车辆制造，加强车辆、道路、使用者三者之间的联系，从而形成一种保障安全、提高效率、改善环境、节约能源的综合运输系统。或者；智能车路协同系统，简称车路协同系统，是智能交通系统的一个发展方向。车路协同系统是采用先进的无线通信和新一代互联网等技术，全方位实施车车、车路动态实时信息交互，并在全时空动态交通信息采集与融合的基础上开展车辆主动安全控制和道路协同管理，充分实现人车路的有效协同，保证交通安全，提高通行效率，从而形成的安全、高效和环保的道路交通系统。根据本申请实施例的一个方面，提供了一种跨网络的数据传输方法，可选地，作为一种可选的实施方式，上述跨网络的数据传输方法可以但不限于应用于如图1所示的环境中。其中，可以但不限于包括用户设备102以及服务器112，该用户设备102上可以但不限于包括显示器104、处理器106及存储器108，该服务器112包括数据库114以及处理引擎116，服务器112可以但不限为第一目标网络中部署的流媒体服务器，网络110可以但不限为第二目标网络。具体过程可如下步骤：步骤S102，用户设备102数据访问请求，其中， 数据访问请求用于请求访问第一目标网络中的流媒体数据；步骤S104-S106，通过网络110将数据访问请求发送至服务器112，其中，数据访问请求携带有信令数据，如目标地址、通信方式等，以告知服务器112需要进行何种操作，而信令数据的传输方式，可以但不限以第一目标网络的数据传输配置决定，如数据传输配置指示第一目标网络支持中继转发功能的情况下，通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输；再如数据传输配置指示第一目标网络未支持中继转发功能的情况下，通过信令转发代理组件和信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输；步骤S108，服务器112通过处理引擎116响应数据访问请求，以获取访问数据，其中，访问数据中携带有媒体数据；步骤S110-S112，通过网络110将访问数据发送至用户设备102，用户设备102通过处理器106将访问数据显示在显示器104，并将上述访问数据存储在存储器108，其中，媒体数据的传输方式，可以但不限以第一目标网络的数据传输配置决定，如数据传输配置指示第一目标网络支持中继转发功能的情况下，通过中继转发功能进行第一目标网络与第二目标网络之间的媒体数据传输；再如数据传输配置指示第一目标网络未支持中继转发功能的情况下，通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输。除图1示出的示例之外，上述步骤可以由用户设备或服务器独立完成，或由用户设备和服务器共同协作完成。该用户设备102包括但不限于手机、电脑、智能语音交互设备、智能家电、车载终端、飞行器、智能交通系统、智能车路协同系统等，本申请并不限制用户设备102的具体实现方式。服务器112可以是单个的服务器或者是多个服务器组成的服务器集群，也可以是云服务器。本发明实施例可应用于各种场景，包括但不限于云技术、人工智能、智慧交通、辅助驾驶等。可选地，作为一种可选的实施方式，如图2所示，跨网络的数据传输方法可以由电子设备执行，如图1所示的用户设备或服务器，具体步骤包括：S202，获取第一目标网络的数据传输配置，其中，第一目标网络中部署有流媒体服务器，数据传输配置用于配置媒体数据的中继转发功能；S204，在数据传输配置指示第一目标网络支持中继转发功能的情况下，通过中继转发功能进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输；S206，在数据传输配置指示第一目标网络未支持中继转发功能的情况下，通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过信令转发代理组件和信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输。可选地，在本实施例中，上述跨网络的数据传输方法可以但不限于应用在视频传输和访问场景。视频传输和访问是工业互联网应用中最常见的业务场景之一。然而，工业互联网场景中，网络拓扑环境比较复杂，存在多个子网和大网，而客户的需求也是多种多样。典型的场景需求是，为了保证视频传输的实时性和可靠性，工业互联网用户需要在5G专网内部署流媒体服务器，然后根据业务需要由5G专网终端将采集到的视频流推送到流媒体服务器，其它终端通过webrtc技术来获取实时的视频流，这些终端可能与5G专网位于同一个子网内，也可能位于子网外的大网或者其它子网，其中，webrtc技术是一种开放标准的实时通信技术，用于在Web浏览器之间实现音频、视频和数据的传输和交互。它允许开发者通过简单的JavaScript API，在浏览器中构建实时通信功能，而无需使用插件或第三方软件。为了解决大网内的终端或者其它子网内的终端也能访问到视频流，常规的解决方案是在大网中部署一个新的流媒体服务，然后由子网内的流媒体服务器继续作为客户端将接收到的流媒体推送给大网的流媒体服务，然后大网内的终端或者其它子网内的终端，通过访问大网的流媒体服务来获取视频流。可以看到，整个系统需要构建两套流媒体服务器，实施成本比较高。同时，由于流媒体服务器之间存在媒体的级联，会极大地增加大网和其它子网终端获取到的流媒体服务的时延级网络服务质量。此外，两套流媒体服务器之间需要在网络的应用层做流媒体的传输，会增加流媒体传输到大网终端用户的时延，降低了视频传输和访问效率。而在本实施例中，基于webrtc的流媒体服务访问通常分为信令传输和媒体传输两类。信令传输通常基于传输控制协议来进行，而为了提升实时性，媒体传输通常采用用户数据报协议来进行。进一步通过在子网的流媒体服务器上部署一个本地的TCP转发代理和在大网上部署TCP转发服务，来实现了webrtc信令的跨网传输和交互。以及，通过在子网的流媒体服务器上部署一个本地的UDP转发代理和在大网上部署UDP转发服务，来实现了webrtc媒体的跨网传输。可选地，在本实施例中，第一目标网络、第二目标网络可以但不限用于举例说明本实施例是用于不同网络环境之间的数据传输，但并不对网络数量进行限定。换言之，本实施例还可以但不限用于至少两个及以上的网络之间的数据传输。可选地，在本实施例中，第一目标网络中部署有流媒体服务器，其中，流媒体服务器可以但不限是用于提供流媒体内容传输的服务器，可以但不限用于存储、管理和分发流媒体内容，以满足用户对即时播放和连续传输的需求。可选地，在本实施例中，数据传输配置用于配置媒体数据的中继转发功能，其中，中继转发功能可以但不限是网络通信功能，用于解决在面临网络地址转换或防火墙等限制时无法直接建立点对点连接的问题。当设备之间无法直接建立通信连接时，可以通过开启中继转发功能进行数据传输，具体的例如设置中继转发服务组件来传递数据，其中，中继转发服务组件作为一个第三方中介，在设备之间扮演着消息传递的角色。通信双方将数据发送到中继转发服务组件，然后由中继转发服务组件将数据转发给目标设备。进一步举例说明，可选地通过中继转发功能进行第一目标网络与第二目标网络之间的媒体数据传输，如通过中继转发功能穿越NAT，在私有网络中的设备能够与公网上的设备直接通信，而不受NAT的限制。具体的，通过在NAT设备上设置端口映射规则，将公网IP地址和端口映射到私网中的特定设备和端口上；再如使用UPnP协议与NAT设备进行通信，并自动创建必要的端口映射；再如使用位于公网上的中间服务器或中继来进行通信。设备之间通过连接到中继转发服务组件进行数据交换，该服务器负责转发数据到目标设备；再如使用ICE，以寻找可行的路由路径来穿越NAT并建立点对点连接。ICE可以尝试直接连接、使用STUN服务器或使用TURN服务器等方式来实现NAT穿越。可选地，在本实施例中，媒体数据与信令数据在通信系统中起到不同的作用，其中，媒体数据负责传输实际的音频、视频、图像等内容，直接呈现给用户；而信令数据则用于控制各种通信操作，使通信过程顺利进行。具体的，媒体数据指的是在通信过程中传输的音频、视频、图像等媒体内容，可以但不限包括人们所能感知和理解的实际语音、图像和视频等数据。例如，在电话通话中，对话双方传输的声音就是媒体数据；而在视频通话中，传输的图像和声音都属于媒体数据。而信令数据指的是用于建立、控制和维护通信会话的辅助信息，可以但不限用于管理通信过程中的呼叫设置、连接建立、用户身份验证、设备寻址和功能协商等操作。其中，信令数据包含了必要的指令和参数，用于确保通信系统正确地处理和路由媒体数据。例如，在电话通话中，信令数据用于指示呼叫发起、呼叫接听、挂断等操作。此外，可选地媒体数据和信令数据通常以不同的方式进行传输和处理，如媒体数据通常需要较高的带宽和实时性，以确保媒体内容的流畅传输；而信令数据则更注重准确和可靠性，在通信系统中进行命令与控制的交换。进而在本实施例中，也使用了适配媒体数据和信令数据的不同数据传输方式。可选地，在本实施例中，通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输，其中，信令转发代理组件和信令转发服务组件可以但不限是在通信系统中用于处理信令传输和路由的两个关键组件，两个关键组件结合起来，构成了信令转发系统的关键部分。信令转发代理组件通过接收和转发信令消息，实现了不同网络或协议之间的互联互通；而信令转发服务组件则负责对接收到的信令进行处理和转发管理，确保信令传输的可靠性和正确性。具体的，信令转发代理组件位于通信网络中，作为中间层，负责接收和转发信令消息，可以连接不同协议或网络环境下的信令系统，起到协议转换和接口适配的作用。信令转发代理组件接收来自客户端设备或其他服务器的信令请求，对信令内容进行解析，并根据一定的规则将信令转发给相应的目标设备或服务器。这样，不同网络或协议之间的信令就能够进行交互和转发，实现跨网络的通信。而信令转发服务组件则提供了信令转发的具体功能和服务，建立在信令转发代理组件之上，负责处理接收到的信令请求，并根据预先定义的策略和路由规则进行信令转发。该组件通常还包含管理和控制逻辑，可以进行信令的鉴权、身份验证、会话管理等操作。信令转发服务组件的主要目标是确保信令能够按照正确的路径和流程被转发，以满足通信系统的需求。可选地，在本实施例中，通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输，其中，媒体转发代理组件和媒体转发服务组件是用于处理媒体数据传输和路由的两个关键组件，者两个关键组件结合起来，构成了媒体转发系统的关键部分。媒体转发代理组件通过接收和转发媒体数据流，实现了不同网络或协议之间的互联互通；而媒体转发服务组件则负责对接收到的媒体数据进行处理和转发管理，确保媒体传输的可靠性和正确性。具体的，媒体转发代理组件位于通信网络中，作为中间层，负责接收和转发媒体数据流，可以连接不同协议或网络环境下的媒体系统，实现媒体数据的格式转换和接口适配。媒体转发代理组件接收来自客户端设备或其他服务器的媒体数据流，对媒体数据进行解析，并根据一定的规则将媒体数据转发给相应的目标设备或服务器。这样，不同网络或协议之间的媒体数据就能够进行交互和转发，实现跨网络的媒体传输。媒体转发服务组件则提供了媒体数据转发的具体功能和服务，建立在媒体转发代理组件之上，负责处理接收到的媒体数据流，并根据预先定义的策略和路由规则进行媒体传输。该组件通常还包含管理和控制逻辑，可以进行媒体的鉴权、身份验证、会话管理等操作。媒体转发服务组件的主要目标是确保媒体数据能够按照正确的路径和流程被转发，以满足通信系统的需求。需要说明的是，在进行第一目标网络和第二目标网络之间跨网络的数据传输过程中，无需部署两套流媒体服务器，仅需支持中继转发功能的一套流媒体服务器即可实现跨网络的数据传输过程，而对于不支持中继转发功能的流媒体服务器，本实施例也通过部署在不同目标网络中的组件，仍是以一套流媒体服务器实现了跨网络的数据传输，进而减少了跨网络的数据传输过程中，参与数据传输的流媒体服务器数量，从而减少流媒体传输到大网终端用户的时延，实现了提高跨网络的数据传输效率的技术效果。进一步举例说明，可选的例如图3所示，假设流媒体服务器304获取到客户端B触发的数据访问请求，进一步流媒体服务器304响应该数据访问请求，获取第一目标网络302的数据传输配置，其中，第一目标网络302中部署有流媒体服务器304，数据传输配置用于配置媒体数据的中继转发功能；在数据传输配置指示第一目标网络302支持中继转发功能的情况下，通过中继转发功能进行第一目标网络302与第二目标网络306之间的媒体数据传输，以及通过流媒体服务器304上部署的信令转发代理组件和第二目标网络306中部署的信令转发服务组件进行第一目标网络302与第二目标网络306之间的信令数据传输，其中，媒体数据可以但不限为媒体终端提供的访问数据，且该媒体数据还可以但不限由流媒体服务器304转发至客户端A上进行显示；在数据传输配置指示第一目标网络302未支持中继转发功能的情况下，通过流媒体服务器304上部署的媒体转发代理组件和第二目标网络306中部署的媒体转发服务组件进行第一目标网络302与第二目标网络306之间的媒体数据传输，以及通过信令转发代理组件和信令转发服务组件进行第一目标网络302与第二目标网络306之间的信令数据传输。通过本申请提供的实施例，获取第一目标网络的数据传输配置，其中，第一目标网络中部署有流媒体服务器，数据传输配置用于配置媒体数据的中继转发功能；在数据传输配置指示第一目标网络支持中继转发功能的情况下，通过中继转发功能进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输；在数据传输配置指示第一目标网络未支持中继转发功能的情况下，通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过信令转发代理组件和信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输。在进行第一目标网络和第二目标网络之间跨网络的数据传输过程中，无需部署两套流媒体服务器，仅需支持中继转发功能的一套流媒体服务器即可实现跨网络的数据传输过程，而对于不支持中继转发功能的流媒体服务器，本实施例也通过部署在不同目标网络中的组件，仍是以一套流媒体服务器实现了跨网络的数据传输，进而达到了减少跨网络的数据传输过程中流媒体服务器的数量的目的，从而实现了提高跨网络的数据传输效率的技术效果。作为一种可选的方案，通过中继转发功能进行第一目标网络与第二目标网络之间的媒体数据传输，包括：S1-1，建立流媒体服务器与第二目标网络中部署的中继转发服务组件之间的通信连接；S1-2，利用通信连接，将目标媒体数据传输至中继转发服务组件，其中，目标媒体数据为第一目标网络中的媒体数据。可选地，在本实施例中，中继转发服务组件可以但不限作为中间节点，接收来自客户端或服务器的数据，并将其转发给目标服务器或其他客户端。进一步举例说明，可选地例如当客户端由于存在防火墙、网络地址转换或其他安全机制而无法直接连接目标服务器时，可以通过中继转发服务组件进行转发，实现穿越防火墙等限制。中继转发服务组件还可以对传输的数据进行加密，确保数据在传输过程中的安全性。同时，中继转发服务组件还可以隐藏客户端的真实IP地址，提供一定程度的隐私保护。中继转发服务组件还可以作为负载均衡器，将客户端请求分发到多个目标服务器上，以提高系统的整体性能和可靠性。中继转发服务组件还可以提供匿名访问服务，用户可以通过该中继转发服务组件浏览网络资源，同时隐藏自身的身份信息。需要说明的是，为提高媒体数据的传输稳定性，在数据传输配置指示第一目标网络支持中继转发功能的情况下，建立流媒体服务器与第二目标网络中部署的中继转发服务组件之间的通信连接，并利用通信连接，将目标媒体数据传输至中继转发服务组件。进一步举例说明，可选的例如图4所示，第二目标网络402与第二目标网络406之间跨网络的数据传输，由信令转发代理组件、信令转发服务组件，以及中继转发服务组件实现。具体的，第二目标网络402与第二目标网络406之间的信令数据传输，由信令转发代理组件与信令转发服务组件之间的通信连接实现，而第二目标网络402与第二目标网络406之间的媒体数据传输，则由流媒体服务器与第二目标网络406中部署的中继转发服务组件之间的通信连接实现。通过本申请提供的实施例，建立流媒体服务器与第二目标网络中部署的中继转发服务组件之间的通信连接；利用通信连接，将目标媒体数据传输至中继转发服务组件，其中，目标媒体数据为第一目标网络中的媒体数据，进而实现了提高媒体数据的传输稳定性的技术效果。作为一种可选的方案，在利用通信连接，将目标媒体数据传输至中继转发服务组件之后，方法还包括：S2-1，接收第二目标网络返回的第一传输结果，其中，第一传输结果为目标媒体数据的传输结果；S2-2，在第一传输结果指示目标媒体数据的传输异常的情况下，通过媒体转发代理组件和媒体转发服务组件进行目标媒体数据的二次传输。需要说明的是，为提高媒体数据的传输成功率，在媒体数据的传输异常的情况下，通过媒体转发代理组件和媒体转发服务组件进行媒体数据的二次传输，以避免因中继转发服务组件的异常情况，而导致媒体数据的传输失败。通过本申请提供的实施例，接收第二目标网络返回的第一传输结果，其中，第一传输结果为目标媒体数据的传输结果；在第一传输结果指示目标媒体数据的传输异常的情况下，通过媒体转发代理组件和媒体转发服务组件进行目标媒体数据的二次传输，进而达到了避免因中继转发服务组件的异常情况，而导致媒体数据的传输失败的目的，从而实现了提高媒体数据的传输成功率的技术效果。作为一种可选的方案，在通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输之前，方法还包括：S3-1，建立信令转发代理组件与信令转发服务组件之间的TCP通道；S3-2，通过TCP通道，获取信令转发服务组件发送至信令转发代理组件的信令访问请求，其中，信令访问请求为第二目标网络中的第一终端向信令转发服务组件发送的请求；S3-3，将信令访问请求发送至流媒体服务器的信令通信端口，其中，信令通信端口与第一目标网络的信令数据来源建立有数据传输连接；S3-4，通过媒体通信端口获取信令访问请求对应的请求响应数据，其中，请求响应数据包括目标信令数据；S3-5，通过TCP通道，将目标信令数据发送至信令转发服务组件，并由信令转发服务组件将目标信令数据转发至第一终端。可选地，在本实施例中，TCP通道可以但不限指的是使用TCP协议进行通信的通道或连接。需要说明的是，TCP通过采用确认机制、序号和校验和等方式，确保数据可靠地从发送方传输到接收方，如果出现丢包或错误，会重新发送数据，以保证数据的完整性和正确性，进而通过TCP通道，将目标信令数据发送至信令转发服务组件，并由信令转发服务组件将目标信令数据转发至第一终端，可提高数据传输的稳定性。通过本申请提供的实施例，建立信令转发代理组件与信令转发服务组件之间的TCP通道；通过TCP通道，获取信令转发服务组件发送至信令转发代理组件的信令访问请求，其中，信令访问请求为第二目标网络中的第一终端向信令转发服务组件发送的请求；将信令访问请求发送至流媒体服务器的信令通信端口，其中，信令通信端口与第一目标网络的信令数据来源建立有数据传输连接；通过媒体通信端口获取信令访问请求对应的请求响应数据，其中，请求响应数据包括目标信令数据；通过TCP通道，将目标信令数据发送至信令转发服务组件，并由信令转发服务组件将目标信令数据转发至第一终端，进而实现了提高数据传输的稳定性的技术效果。作为一种可选的方案，在通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输之前，方法还包括：S4-1，建立媒体转发代理组件与媒体转发服务组件之间的UDP通道；S4-2，通过UDP通道，获取媒体转发服务组件发送至媒体转发代理组件的媒体访问请求，其中，媒体访问请求为第二目标网络中的第二终端向媒体转发服务组件发送的请求；S4-3，将媒体访问请求发送至流媒体服务器的媒体通信端口，其中，媒体通信端口与第一目标网络的媒体数据来源建立有数据传输连接；S4-4，通过媒体通信端口获取媒体访问请求对应的请求响应数据，其中，请求响应数据包括目标媒体数据；S4-5，通过UDP通道，将目标媒体数据发送至媒体转发服务组件，并由媒体转发服务组件将目标媒体数据转发至第二终端。可选地，在本实施例中，UDP通道可以但不限是使用用户数据报协议进行数据传输的一种通信方式。在UDP通道中，数据被分割为用户数据报，每个用户数据报都包含了源端口号和目标端口号等信息，用于标识数据的发送和接收方。UDP通道适用于需要快速传输且对数据可靠性要求较低的应用场景，例如音频、视频流传输、实时游戏等。需要说明的是，UDP通道没有TCP的拥塞控制和流量控制机制，可以实现更高的传输效率，进而通过UDP通道，将目标媒体数据发送至媒体转发服务组件，并由媒体转发服务组件将目标媒体数据转发至第二终端，可提高数据传输的效率。通过本申请提供的实施例，建立媒体转发代理组件与媒体转发服务组件之间的UDP通道；通过UDP通道，获取媒体转发服务组件发送至媒体转发代理组件的媒体访问请求，其中，媒体访问请求为第二目标网络中的第二终端向媒体转发服务组件发送的请求；将媒体访问请求发送至流媒体服务器的媒体通信端口，其中，媒体通信端口与第一目标网络的媒体数据来源建立有数据传输连接；通过媒体通信端口获取媒体访问请求对应的请求响应数据，其中，请求响应数据包括目标媒体数据；通过UDP通道，将目标媒体数据发送至媒体转发服务组件，并由媒体转发服务组件将目标媒体数据转发至第二终端，进而实现了提高数据传输的效率的技术效果。作为一种可选的方案，获取第一目标网络的数据传输配置，包括：在数据传输配置指示第一目标网络未支持中继转发功能、且流媒体服务器与第二目标网络之间无法进行点对点的媒体数据传输的情况下，调整数据传输配置，设置第一目标网络支持中继转发功能。需要说明的是，为避免因无法直接建立点对点连接的情况，而导致数据无法顺利传输的问题发生，在数据传输配置指示第一目标网络未支持中继转发功能、且流媒体服务器与第二目标网络之间无法进行点对点的媒体数据传输的情况下，调整数据传输配置，设置第一目标网络支持中继转发功能，以保证数据的顺利传输，提高数据传输的稳定性。通过本申请提供的实施例，在数据传输配置指示第一目标网络未支持中继转发功能、且流媒体服务器与第二目标网络之间无法进行点对点的媒体数据传输的情况下，调整数据传输配置，设置第一目标网络支持中继转发功能，进而达到了避免因无法直接建立点对点连接的情况，而导致数据无法顺利传输的问题发生的目的，从而实现了提高数据传输的稳定性的技术效果。作为一种可选的方案，在通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输之后，方法还包括：S5-1，接收第二目标网络返回的第二传输结果，其中，第二传输结果为第一目标网络与第二目标网络之间的媒体数据的传输结果；S5-2，在第二传输结果指示第一目标网络与第二目标网络之间的媒体数据的传输异常的情况下，调整数据传输配置，设置第一目标网络支持中继转发功能。需要说明的是，为提高媒体数据的传输成功率，在第一目标网络与第二目标网络之间的媒体数据的传输异常的情况下，调整数据传输配置，设置第一目标网络支持中继转发功能，并通过中继转发功能进行二次传输，以避免因中继转发服务组件的异常情况，而导致媒体数据的传输失败。通过本申请提供的实施例，接收第二目标网络返回的第二传输结果，其中，第二传输结果为第一目标网络与第二目标网络之间的媒体数据的传输结果；在第二传输结果指示第一目标网络与第二目标网络之间的媒体数据的传输异常的情况下，调整数据传输配置，设置第一目标网络支持中继转发功能，进而达到了避免因中继转发服务组件的异常情况，而导致媒体数据的传输失败的目的，从而实现了提高媒体数据的传输成功率的技术效果。作为一种可选的方案，为方便理解，将上述跨网络的数据传输方法应用在基于webrtc的流媒体服务跨网访问场景，本实施例不仅可以用于5G专网内的基于webrtc的流媒体服务跨网访问，同样也适用于跨网场景，包括固定网络内的内网和外网以及位于同一个大网内的两个子网之间的webrtc流媒体跨网访问。可选地，在本实施例中，如图5所示的系统框架，由支持ICE TURN功能的流媒体服务器、基于TCP的信令转发代理、基于TCP的信令转发服务以及ICE TURN服务组成。可选地，在本实施例中，流媒体服务器不支持ICE TURN功能，但是其媒体服务端口是固定的UDP端口，此时，如图6所示的系统框架，由流媒体服务器、基于TCP的信令转发代理、基于UDP的媒体转发代理、基于TCP的信令转发服务和基于UDP的媒体转发服务组成。其中，流媒体服务器部署在子网内，提供webrtc的流媒体访问能力；基于TCP的信令转发代理，和流媒体服务器部署在一起，主要功能是将大网上TCP的信令转发服务送过来的webrtc访问请求本地发送给流媒体服务器，同时将响应园路返回给大网上TCP的信令转发服务；基于TCP的信令转发服务，部署在大网上，主要功能是将大网内终端发送的webrtc访问请求转发给子网内的TCP转发代理，并在接收到响应之后返回给大网的终端；基于UDP的媒体转发代理，负责将流媒体固定端口发送过来的UDP包转发给大网的UDP媒体转发服务，同时将大网上发送过来的UDP数据并转发给流媒体服务器的固定端口；基于UDP的媒体转发服务，负责接收子网内UDP媒体转发代理发送过来的UDP媒体包，并转发给大网内终端。同时将大网内终端发出的UDP包转发给子网内的UDP转发代理；ICE TURN媒体转发服务，是部署在大网上的标准的ICE NAT穿越组件，仅对支持ICE TURN的流媒体服务有效。用于webrtc的媒体NAT穿越。可选地，在本实施例中，对于支持ICE-TURN的流媒体服务器和不支持ICE-TURN但媒体端口固定的流媒体服务器，端到端的业务流程如图7所示，位于内网的TCP信令转发代理主动建立和大网的TCP信令转发服务之间的TCP连接；位于内网的UDP媒体转发代理主动建立和大网的UDP信令转发服务之间的UDP通道；大网的PC终端向TCP信令转发服务发送webrtc的流媒体访问请求；TCP信令转发服务将请求转发给内网的TCP信令转发代理；TCP信令转发代理把请求转发给流媒体服务器的webrtc服务端口；媒体服务器把webrtc请求的响应发送给TCP信令转发代理；TCP信令转发代理把响应转发给大网的TCP信令转发服务；TCP信令转发服务把响应转发给大网的PC终端；重复上述过程，完成webrtc的信令交互过程，完成会话的建立；流媒体服务器开始发送UDP的媒体包给UDP媒体转发代理；UDP媒体转发代理把UDP的媒体包转发给UDP媒体转发服务；UDP媒体转发服务把UDP的媒体包发送给PC终端；之后，PC终端持续接收UDP的媒体包，获取到了流媒体服务。可选地，在本实施例中，本实施例是以解耦形式来实现流媒体服务的跨网访问能力，也可以把本实施例中的TCP信令代理和UDP媒体代理作为流媒体服务的功能，集成到流媒体服务软件中；另外，本实施例实现的流媒服务跨网访问方案不仅适用于webrtc的流媒体访问协议，同样适用于其它基于TCP和UDP的流媒体传输协议，包括并不限于实时消息传输协议、基于HTTP协议的动态流媒体传输和HTTP直播流等；本实施例中子网和大网是相对的概念，子网可以是5G专网，也可以是普通的有线或者无线局域网；大网可以是局域网，也可以是英特网。只要在网络拓扑上存在跨网络的流媒体访问，均可采用本实施例来实现。需要说明的是，本实施例提出了一种跨网络的流媒体服务访问实现方法。实现了一种轻量化、性能高效的流媒体跨网访问方法。首先，相较于常规的流媒体级联方案，本实施例提出了一种基于IP传输层数据转发的实现方法，简单、高效，并且具有普适性；其次，本实施例利用部署在内网流媒体服务器上的TCP转发代理和部署在大网的TCP转发服务来实现流媒体信令的跨网访问；最后，利用部署在内网流媒体服务器上的UDP转发代理和部署在大网的UDP转发服务来实现流媒体服务媒体面数据的跨网传输。通过本申请提供的实施例相对于传统的流媒体服务器级联方案，本实施例利用IP传输层的TCP和UDP转发实现了简单、高效的流媒体跨网访问，降低了webrtc流媒体跨网访问的系统构建复杂度，从而使得方案更加具备成本优势；本实施例基于IP传输层的TCP和UDP转发实现了跨网的流媒体服务访问，提供高性能的可跨网webrtc流媒体访问能力，提升了外网用户基于webrtc获取流媒体服务的用户体验；实际验证测试，本实施例中在大网上部署的webrtc信令与媒体转发服务，比常规的流媒体服务器内存占用降低90%以上，而CPU降低50%以上。本实施例实现的流媒服务跨网访问方案不仅适用于webrtc的流媒体访问协议，同样适用其它包括并不限于RTMP、HTTP-FLV和HLS等其它流媒体访问协议，具有广泛的普适性。可以理解的是，在本申请的具体实施方式中，涉及到用户信息等相关的数据，当本申请以上实施例运用到具体产品或技术中时，需要获得用户许可或者同意，且相关数据的收集、使用和处理需要遵守相关国家和地区的相关法律法规和标准。需要说明的是，对于前述的各方法实施例，为了简单描述，故将其都表述为一系列的动作组合，但是本领域技术人员应该知悉，本申请并不受所描述的动作顺序的限制，因为依据本申请，某些步骤可以采用其他顺序或者同时进行。其次，本领域技术人员也应该知悉，说明书中所描述的实施例均属于优选实施例，所涉及的动作和模块并不一定是本申请所必须的。根据本申请实施例的另一个方面，还提供了一种用于实施上述跨网络的数据传输方法的跨网络的数据传输装置。如图8所示，该装置包括：第一获取单元802，用于获取第一目标网络的数据传输配置，其中，第一目标网络中部署有流媒体服务器，数据传输配置用于配置媒体数据的中继转发功能；第一传输单元804，用于在数据传输配置指示第一目标网络支持中继转发功能的情况下，通过中继转发功能进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输；第二传输单元806，用于在数据传输配置指示第一目标网络未支持中继转发功能的情况下，通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过信令转发代理组件和信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输。具体实施例可以参考上述跨网络的数据传输装置中所示示例，本示例中在此不再赘述。作为一种可选的方案，第一传输单元804，包括：建立模块，用于建立流媒体服务器与第二目标网络中部署的中继转发服务组件之间的通信连接；第一传输模块，用于利用通信连接，将目标媒体数据传输至中继转发服务组件，其中，目标媒体数据为第一目标网络中的媒体数据。具体实施例可以参考上述跨网络的数据传输方法中所示示例，本示例中在此不再赘述。作为一种可选的方案，装置还包括：接收模块，用于在利用通信连接，将目标媒体数据传输至中继转发服务组件之后，接收第二目标网络返回的第一传输结果，其中，第一传输结果为目标媒体数据的传输结果；第二传输模块，用于在利用通信连接，将目标媒体数据传输至中继转发服务组件之后，在第一传输结果指示目标媒体数据的传输异常的情况下，通过媒体转发代理组件和媒体转发服务组件进行目标媒体数据的二次传输。具体实施例可以参考上述跨网络的数据传输方法中所示示例，本示例中在此不再赘述。作为一种可选的方案，装置还包括：第一建立单元，用于在通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输之前，建立信令转发代理组件与信令转发服务组件之间的TCP通道；第二获取单元，用于在通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输之前，通过TCP通道，获取信令转发服务组件发送至信令转发代理组件的信令访问请求，其中，信令访问请求为第二目标网络中的第一终端向信令转发服务组件发送的请求；第一发送单元，用于在通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输之前，将信令访问请求发送至流媒体服务器的信令通信端口，其中，信令通信端口与第一目标网络的信令数据来源建立有数据传输连接；第三获取单元，用于在通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输之前，通过媒体通信端口获取信令访问请求对应的请求响应数据，其中，请求响应数据包括目标信令数据；第二发送单元，用于在通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输之前，通过TCP通道，将目标信令数据发送至信令转发服务组件，并由信令转发服务组件将目标信令数据转发至第一终端。具体实施例可以参考上述跨网络的数据传输方法中所示示例，本示例中在此不再赘述。作为一种可选的方案，装置还包括：第二建立单元，用于在通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输之前，建立媒体转发代理组件与媒体转发服务组件之间的UDP通道；第三获取单元，用于在通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输之前，通过UDP通道，获取媒体转发服务组件发送至媒体转发代理组件的媒体访问请求，其中，媒体访问请求为第二目标网络中的第二终端向媒体转发服务组件发送的请求；第三发送单元，用于在通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输之前，将媒体访问请求发送至流媒体服务器的媒体通信端口，其中，媒体通信端口与第一目标网络的媒体数据来源建立有数据传输连接；第四获取单元，用于在通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输之前，通过媒体通信端口获取媒体访问请求对应的请求响应数据，其中，请求响应数据包括目标媒体数据；第四发送单元，用于在通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输之前，通过UDP通道，将目标媒体数据发送至媒体转发服务组件，并由媒体转发服务组件将目标媒体数据转发至第二终端。具体实施例可以参考上述跨网络的数据传输方法中所示示例，本示例中在此不再赘述。作为一种可选的方案，第一获取单元802，包括：设置模块，用于在数据传输配置指示第一目标网络未支持中继转发功能、且流媒体服务器与第二目标网络之间无法进行点对点的媒体数据传输的情况下，调整数据传输配置，设置第一目标网络支持中继转发功能。具体实施例可以参考上述跨网络的数据传输方法中所示示例，本示例中在此不再赘述。作为一种可选的方案，装置还包括：接收单元，用于在通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输之后，接收第二目标网络返回的第二传输结果，其中，第二传输结果为第一目标网络与第二目标网络之间的媒体数据的传输结果；设置单元，用于在通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输之后，在第二传输结果指示第一目标网络与第二目标网络之间的媒体数据的传输异常的情况下，调整数据传输配置，设置第一目标网络支持中继转发功能。具体实施例可以参考上述跨网络的数据传输方法中所示示例，本示例中在此不再赘述。根据本申请实施例的又一个方面，还提供了一种用于实施上述跨网络的数据传输方法的电子设备，该电子设备可以但不限于为图1中所示的用户设备102或服务器112，本实施例以电子设备为用户设备102为例说明，进一步如图9所示，该电子设备包括存储器902和处理器904，该存储器902中存储有计算机程序，该处理器904被设置为通过计算机程序执行上述任一项方法实施例中的步骤。可选地，在本实施例中，上述电子设备可以位于计算机网络的多个网络设备中的至少一个网络设备。可选地，在本实施例中，上述处理器可以被设置为通过计算机程序执行以下步骤：S1，获取第一目标网络的数据传输配置，其中，第一目标网络中部署有流媒体服务器，数据传输配置用于配置媒体数据的中继转发功能；S2，在数据传输配置指示第一目标网络支持中继转发功能的情况下，通过中继转发功能进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输；S3，在数据传输配置指示第一目标网络未支持中继转发功能的情况下，通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过信令转发代理组件和信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输。可选地，本领域普通技术人员可以理解，图9所示的结构仅为示意，图9其并不对上述电子设备的结构造成限定。例如，电子设备还可包括比图9中所示更多或者更少的组件，或者具有与图9所示不同的配置。其中，存储器902可用于存储软件程序以及模块，如本申请实施例中的跨网络的数据传输方法和装置对应的程序指令/模块，处理器904通过运行存储在存储器902内的软件程序以及模块，从而执行各种功能应用以及数据处理，即实现上述的跨网络的数据传输方法。存储器902可包括高速随机存储器，还可以包括非易失性存储器，如一个或者多个磁性存储装置、闪存、或者其他非易失性固态存储器。在一些实例中，存储器902可进一步包括相对于处理器904远程设置的存储器，这些远程存储器可以通过网络连接至电子设备。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。其中，存储器902具体可以但不限于用于存储数据传输配置、媒体数据以及信令数据等信息。作为一种示例，如图9所示，上述存储器902中可以但不限于包括上述跨网络的数据传输装置中的第一获取单元802、第一传输单元804及第二传输单元806。此外，还可以包括但不限于上述跨网络的数据传输装置中的其他模块单元，本示例中不再赘述。可选地，上述的传输装置906用于经由一个网络接收或者发送数据。上述的网络具体实例可包括有线网络及无线网络。在一个实例中，传输装置906包括一个网络适配器，其可通过网线与其他网络设备与路由器相连从而可与互联网或局域网进行通讯。在一个实例中，传输装置906为射频模块，其用于通过无线方式与互联网进行通讯。此外，上述电子设备还包括：显示器908，用于显示上述数据传输配置、媒体数据以及信令数据等信息；和连接总线910，用于连接上述电子设备中的各个模块部件。在其他实施例中，上述用户设备或者服务器可以是一个分布式系统中的一个节点，其中，该分布式系统可以为区块链系统，该区块链系统可以是由该多个节点通过网络通信的形式连接形成的分布式系统。其中，节点之间可以组成点对点网络，任意形式的计算设备，比如服务器、用户设备等电子设备都可以通过加入该点对点网络而成为该区块链系统中的一个节点。根据本申请的一个方面，提供了一种计算机程序产品，该计算机程序产品包括计算机程序/指令，该计算机程序/指令包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信部分从网络中被下载和安装，和/或从可拆卸介质被安装。在该计算机程序被中央处理器执行时，执行本申请实施例提供的各种功能。上述本申请实施例序号仅仅为了描述，不代表实施例的优劣。需要说明的是，电子设备的计算机系统仅是一个示例，不应对本申请实施例的功能和使用范围带来任何限制。计算机系统包括中央处理器，其可以根据存储在只读存储器中的程序或者从存储部分加载到随机访问存储器中的程序而执行各种适当的动作和处理。在随机访问存储器中，还存储有系统操作所需的各种程序和数据。中央处理器、在只读存储器以及随机访问存储器通过总线彼此相连。输入/输出接口也连接至总线。以下部件连接至输入/输出接口：包括键盘、鼠标等的输入部分；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分；包括硬盘等的存储部分；以及包括诸如局域网卡、调制解调器等的网络接口卡的通信部分。通信部分经由诸如因特网的网络执行通信处理。驱动器也根据需要连接至输入/输出接口。可拆卸介质，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器上，以便于从其上读出的计算机程序根据需要被安装入存储部分。特别地，根据本申请的实施例，各个方法流程图中所描述的过程可以被实现为计算机软件程序。例如，本申请的实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信部分从网络中被下载和安装，和/或从可拆卸介质被安装。在该计算机程序被中央处理器执行时，执行本申请的系统中限定的各种功能。根据本申请的一个方面，提供了一种计算机可读存储介质，计算机设备的处理器从计算机可读存储介质读取该计算机指令，处理器执行该计算机指令，使得该计算机设备执行上述各种可选实现方式中提供的方法。可选地，在本实施例中，上述计算机可读的存储介质可以被设置为存储用于执行以下步骤的计算机程序：S1，获取第一目标网络的数据传输配置，其中，第一目标网络中部署有流媒体服务器，数据传输配置用于配置媒体数据的中继转发功能；S2，在数据传输配置指示第一目标网络支持中继转发功能的情况下，通过中继转发功能进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过流媒体服务器上部署的信令转发代理组件和第二目标网络中部署的信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输；S3，在数据传输配置指示第一目标网络未支持中继转发功能的情况下，通过流媒体服务器上部署的媒体转发代理组件和第二目标网络中部署的媒体转发服务组件进行第一目标网络与第二目标网络之间的媒体数据传输，以及通过信令转发代理组件和信令转发服务组件进行第一目标网络与第二目标网络之间的信令数据传输。可选地，在本实施例中，本领域普通技术人员可以理解上述实施例的各种方法中的全部或部分步骤是可以通过程序来指令电子设备相关的硬件来完成，该程序可以存储于一计算机可读存储介质中，存储介质可以包括：闪存盘、只读存储器、随机存取器、磁盘或光盘等。上述本申请实施例序号仅仅为了描述，不代表实施例的优劣。上述实施例中的集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在上述计算机可读取的存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在存储介质中，包括若干指令用以使得一台或多台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。在本申请的上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其他实施例的相关描述。在本申请所提供的几个实施例中，应该理解到，所揭露的用户设备，可通过其它的方式实现。其中，以上所描述的装置实施例仅仅是示意性的，例如所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，单元或模块的间接耦合或通信连接，可以是电性或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。以上所述仅是本申请的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本申请的保护范围。
