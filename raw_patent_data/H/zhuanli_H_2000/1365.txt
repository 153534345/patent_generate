标题title
一种复杂场景下接收天线接收功率的计算方法
摘要abst
本发明公开了一种复杂场景下接收天线接收功率的计算方法，包括以下步骤：S1.设定飞行编队与舰船的复杂动态仿真场景；S2.计算功率衰减差值与天线增益S3.计算在复杂动态仿真场景下接收天线接收功率。本发明能够在复杂场景下解构出指标作为指标分解的输入即接收天线接收功率，为电磁兼容性指标如何分配提供有力支撑，为进一步的电磁兼容性评估提供了有利条件。
权利要求书clms
1.一种复杂场景下接收天线接收功率的计算方法，其特征在于：包括以下步骤：S1.设定飞行编队与舰船的复杂动态仿真场景；S2.计算功率衰减差值与天线增益；S3.计算在复杂动态仿真场景下接收天线接收功率。2.根据权利要求1所述的一种复杂场景下接收天线接收功率的计算方法，其特征在于：所述步骤S1包括：S101.将复杂动态仿真场景左下角设为坐标原点，对应坐标为，单位为km，场景的右上角的坐标为/＞，其中L表示场景右上角的横坐标，/＞表示场景右上角的纵坐标；单位为km，建立直角坐标系；其中，固定舰船位置/＞，单位为km，其中，/＞表示舰船位置的横坐标，/＞表示舰船位置的纵坐标；编队无人机为/＞，M为无人机数量，默认编号为i的无人机的初始位置坐标/＞，其中/＞表示无人机的初始位置横坐标，/＞表示无人机的初始位置纵坐标，单位为km；编队无人机逐渐靠近舰船的过程中，通过匀速的方式靠近，其中编号为i的无人机接近舰船的速度由界面设为/＞；S102. 编号为i的无人机从初始位置接近舰船的位置/＞的过程，轨迹的方向表示为：/＞；/＞，/＞计算公式如下所示：从初始位置到达目标的距离为：/＞，单位为km，则有经历的总时间/＞，单位为/＞，其中所述目标即为舰船；找到所有到达目标经历的最长时间/＞，/＞，得到时间序列长度为：/＞，/＞为仿真时间步进，通过预先设置得到；将无人机/＞从0时刻到达目标过程的所有时间按照时间步进划分成相同时间段的/＞序列，每个时刻对应的编号为i的无人机的j序列对应时刻/＞位置坐标/＞：S103. 在直角坐标系下，在i号无人机在时刻的接收天线所处位置为/＞，舰船发射天线所处为位置/＞，无人机位置矢量为/＞, 舰船位置矢量为/＞；则无人机位置相对舰船位置的方位角由下面公式进行计算：舰船位置相对无人机位置的方位角由下面公式进行计算：其中，为将矢量变为复数/＞再取幅角的公式，结果取弧度值；为弧度转角度的系数；/＞，/＞、/＞表示X轴和Y轴方向的单位向量；其中，表示：以舰船/＞为中心，无人机位置/＞所在方向与X轴的夹角；表示：以无人机/＞为中心，舰船所在位置/＞所在方向与X轴的夹角；表示：波束起始指向位置角，默认为0，由用户设置得到，单位为度。3.根据权利要求2所述的一种复杂场景下接收天线接收功率的计算方法，其特征在于：所述步骤S2包括：S201.由用户设置当前计算频率，单位为MHz；并指定发射机的中心频率处的最大输出功率/＞，单位dBm；在数据库中提前录入发射机和接收机的工作中心频率/＞，单位为MHz；S202.构建发射机频响模型：以中心频率为中心，预先设置多个频点，并从小到大依次排列记为fT1，fT2,…,fT2K+1，其中2K+1表示设置的频点个数K为正整数，其中fTk表示第k个频点；其中/＞，并且为每一个频点设置一个发射功率减少值，分别记为valT1，valT2,…, valT2K+1；其中，2K+1个频点中，任意两个相邻的频点形成一个带宽；判断用户设置当前计算频率落入的带宽，计算发射功率减少量/＞：设用户设置的频率F落入的带宽为fTk~fTk+1，对应的发射功率减少值为valTk~valTk+1，则发射功率的减小量为：S203. 构建接收机频响模型：以中心频率为中心，预先设置多个频点，并从小到大依次排列记为fR1，fR2,…,fR2K+1，其中2K+1表示设置的频点个数K为正整数，其中fRk表示第k个频点；其中/＞，并且为每一个频点设置一个接收功率减少值，分别记为valR1，valR2,…, valR2K+1；其中，2K+1个频点中，任意两个相邻的频点形成一个带宽；判断用户设置当前计算频率落入的带宽，计算接收功率减少量/＞：设用户设置的频率F落入的带宽为fRk~fRk+1，对应的接收功率减少值为valRk~valRk+1，则接收功率的减小量为：S204.计算天线增益时要考虑全向天线和定向天线两种分类情况：当天线为全向天线时，波束增益为0dB；当天线为定向天线时，定向天线采用的波束是扫描状态，即随时间周期旋转，波束扫描一周的时间为/＞，单位为秒，则波束扫描的角速度/＞；则有每秒波束扫描的角度为/＞弧度；仿真时间步长为/＞秒，则有如果仿真时间步进一步，波束扫描在该仿真时间步长内共转动/＞弧度；进而可以得到/＞时刻的波束扫描对准的角度位置为；其中，/＞为角度转弧度的系数；/＞表示波束扫描当前时刻波束中心对准的角度，单位为弧度；由于天线为定向天线，天线增益采用分级波束宽度模型进行标定，即：用户指定电磁波束以最高增益开始分别下降3dB的波束宽度，下降NdB的波束宽度/＞；由波束中心对准的角度、波束宽度/＞和无人机位置相对舰船位置的方位角/＞通过线性插值计算天线的归一化增益/＞，得到满足/＞条件的I值，得到/＞对应的归一化增益为/＞，/＞对应的归一化增益为/＞，则有天线的归一化增益/＞：其中，电磁波束以最高增益开始下降I dB的波束宽度；如果没有满足条件的I，则天线的归一化增益，其中/＞为天线杂散增益值，也称为噪底。4.根据权利要求3所述的一种复杂场景下接收天线接收功率的计算方法，其特征在于：所述步骤S3包括：S301. 计算自由空间电波传播损耗，用户设定仿真步进时间，默认为1秒；则每步仿真，编号为i的无人机接近舰船的距离为；时间序列i下的状态参量为：则由下式计算得出自由空间电波传播损耗其中表示工作频率，单位：MHz；/＞表示收发天线间的距离，单位：kmS302.无人机编队和舰船都装载定向天线，根据所装载的天线从数据库中调用对应电磁场数据，定向天线的归一化增益计算公式如下：根据去发射机增益数据中取得发射机最大增益/＞，根据发射天线的扫描周期计算的发射天线的归一化增益/＞，计算得到发射机的实际增益为/＞；根据去接收机增益数据中取得发射机最大增益/＞，根据发射天线的扫描周期计算的接收天线的归一化增益/＞，计算得到接收机的实际增益为/＞；S303.由S202与S203得到发射机发射功率减小值与接收机幅度衰减值/＞，得到实际输出功率/＞，单位dBm；S304.计算相距为r的发射天线与接收天线间的功率关系如下公式：其中：：发射天线发射功率，单位：W；：发射天线在接收天线位置处波束的发射增益，单位：1；：发射天线所在接收天线方向处的接收天线波束的接收天线增益，单位：1；：工作频率对应的波长，单位：m；：接收天线接收功率，单位：W；：收发天线间的距离，单位：m；将上述公式转化为dB，则有：其中，：发射天线发射功率，单位：dBm；：接收天线接收功率，单位：dBm；：发射天线在接收天线位置处波束的发射增益，单位：dB；：发射天线所在接收天线方向处的接收天线波束的接收天线增益，单位：dB；：自由空间电波传播损耗；将上述计算得到的、/＞、/＞、/＞和/＞代入相距为/＞的发射天线与接收天线间的功率关系，得到/＞，单位为dBm，完成整个过程的计算。
说明书desc
技术领域本发明涉及电磁波领域，特别是涉及一种复杂场景下接收天线接收功率的计算方法。背景技术大型装备电磁兼容设计阶段的指标分解过程中，常常需要将外部复杂电磁环境作为解构为指标作为电磁兼容指标自顶向下分解的输入依据。但目前而言，外部电磁环境场景复杂多变，导致没有比较好的分析预测手段；而装备与装备之间复杂交互电磁场景在未来战场变得越发重要，对这种复杂动态场景交互电磁兼容设计指标如何分解有更为迫切的需求，特别是需要一种在这种复杂场景下能够计算接收天线接收功率的方法。发明内容本发明的目的在于克服现有技术的不足，提供一种复杂场景下接收天线接收功率的计算方法，能够在复杂动态电磁环境中计算出接收天线接收功率这一重要电磁兼容性指标，可作为指标分解的输入之一。本发明的目的是通过以下技术方案来实现的：一种复杂场景下接收天线接收功率的计算方法，包括以下步骤：S1.设定飞行编队与舰船的复杂动态仿真场景；S2.计算功率衰减差值与天线增益；S3.计算在复杂动态仿真场景下接收天线接收功率。本发明的有益效果是：本发明能够在复杂动态电磁环境中计算出接收天线接收功率这一重要电磁兼容性指标，可作为指标分解的输入之一，以此为依据可以对接收机天线是否受扰进行评估，在次阶段可以有助于选择频段，分配系统的参数，确定系统EMI规范，判别潜在的缺陷和问题范围。附图说明图1为本发明的方法流程图；图2为一种飞行编队与舰船复杂动态场景设定示意图；图3为飞行编队与舰船坐标系以及方向角计算示意图；图4为发射机频响模型理论示意图；图5为接收机频响模型理论示意图；图6为天线增益的分级波束宽度模型示意图。具体实施方式下面结合附图进一步详细描述本发明的技术方案，但本发明的保护范围不局限于以下所述。如图1所示，一种复杂场景下接收天线接收功率的计算方法，其特征在于：包括以下步骤：S1. 设定飞行编队与舰船的复杂动态仿真场景；S101. 如图2所示该复杂动态仿真场景左下角为坐标原点，对应坐标为，单位为km，场景的右上角的坐标为/＞，建立直角坐标系，其中L表示场景右上角的横坐标，/＞表示场景右上角的纵坐标；单位为km；其中，固定舰船位置/＞，单位为km，其中，/＞表示舰船位置的横坐标，/＞表示舰船位置的纵坐标；编队无人机/＞，M为无人机数量，默认编号为i的无人机的初始位置坐标/＞，其中/＞表示无人机的初始位置横坐标，/＞表示无人机的初始位置纵坐标，单位为km；编队无人机逐渐靠近舰船的过程，匀速靠近，其中编号为i的无人机接近舰船的速度由界面设为/＞；S102. 编号为i的无人机从初始位置接近舰船的位置/＞的过程，轨迹的方向表示为：/＞；/＞，/＞计算公式如下所示：从初始位置到达目标的距离为：/＞，单位为km，则有经历的总时间/＞，单位为/＞，其中，所述目标即为舰船；找到所有到达目标经历的最长时间/＞，/＞，得到时间序列长度为：/＞，为仿真时间步进，可以通过用户预先设置得到，默认1S。将无人机/＞从0时刻到达目标过程的所有时间按照时间步进/＞划分成相同时间段的/＞序列，每个时刻对应的编号为i的无人机的j序列对应时刻/＞位置坐标/＞：S103. 在直角坐标系下，在i号无人机在时刻的接收天线所处位置为，舰船发射天线所处为位置/＞，设/＞、/＞表示X轴和Y轴方向的单位向量，无人机位置矢量为/＞, 舰船位置矢量为/＞，如图3所示。则无人机位置相对舰船位置的方位角由下面公式进行计算：舰船位置相对无人机位置的方位角由下面公式进行计算：其中，为将矢量变为复数/＞再取幅角的公式，结果取弧度值。/＞为弧度转角度的系数；/＞。其中，表示：以舰船/＞为中心，无人机位置/＞所在方向与X轴的夹角；表示：以无人机/＞为中心，舰船所在位置/＞所在方向与X轴的夹角；表示：波束起始指向位置角，默认为0，由用户设置得到，单位为度；S2. 计算功率衰减差值与天线增益；S201.由用户设置当前计算频率，单位为MHz；并指定发射机的中心频率处的最大输出功率/＞，单位dBm；发射机和接收机的工作中心频率/＞为数据库中提前录入，单位为MHz；S202.以中心频率为中心，预先设置多个频点，并从小到大依次排列记为fT1，fT2,…,fT2K+1，其中2K+1表示设置的频点个数K为正整数，其中fTk表示第k个频点；其中，并且为每一个频点设置一个发射功率减少值，分别记为valT1，valT2,…,valT2K+1；其中，2K+1个频点中，任意两个相邻的频点形成一个带宽；判断用户设置当前计算频率落入的带宽，计算发射功率减少量/＞：设用户设置的频率F落入的带宽为fTk~fTk+1，对应的发射功率减少值为valTk~valTk+1，则发射功率的减小量为：如图4所示，在本申请的实施例中，发射机频响模型用来描述发射功率随频率变化关系，在中心频率之外发射功率在不同的带宽有不同的衰减变化，根据调制方式的不同会有不同的变化，选定调制方式后，可以按顺序预先测试得到各个带宽上下限频点以及对应的发射功率减少值，在本申请中，根据测试结果预先设置/标定各个频点处的发射功率减小值供后续使用，，判断当前计算频率/＞落入那个带宽，得到满足条件的频率区间为，记录频率freq1对应发射功率减少值为val1，频率freq2对应发射功率减少值为val2，得到发射功率减少量/＞，单位为dBm；S203.以中心频率为中心，预先设置多个频点，并从小到大依次排列记为fR1，fR2,…,fR2K+1，其中2K+1表示设置的频点个数K为正整数，其中fRk表示第k个频点；其中，并且为每一个频点设置一个接收功率减少值，分别记为valR1，valR2,…,valR2K+1；其中，2K+1个频点中，任意两个相邻的频点形成一个带宽；判断用户设置当前计算频率落入的带宽，计算接收功率减少量/＞：设用户设置的频率F落入的带宽为fRk~fRk+1，对应的接收功率减少值为valRk~valRk+1，则接收功率的减小量为：如图5所示，在本申请的实施例中，接收机频响模型用来描述接收功率随频率变化关系，在中心频率之外接收功率在不同的带宽有不同的衰减变化，根据调制方式的不同会有不同的变化，选定调制方式后，可以按顺序预先测试得到各个带宽上下限频点以及对应的接收功率减少值，在本申请中，根据测试结果预先设置/标定各个频点处的接收功率减小值供后续使用，，判断当前计算频率/＞落入那个带宽，得到满足条件的频率区间为，记录频率freq1对应接收功率衰减值为val1，频率freq2对应接收功率衰减值为val2，得到接收功率衰减量/＞，单位为dBm；S204.计算天线增益时要考虑全向天线和定向天线两种分类情况：当天线为全向天线时，波束增益为0dB；当天线为定向天线时，定向天线采用的波束是扫描状态，即随时间周期旋转，波束扫描一周的时间为/＞，单位为秒，则波束扫描的角速度/＞；则有每秒波束扫描的角度为/＞弧度；仿真时间步长为/＞秒，则有如果仿真时间步进一步，波束扫描在该仿真时间步长内共转动/＞弧度；进而可以得到/＞时刻的波束扫描对准的角度位置为/＞；其中，/＞为角度转弧度的系数；/＞表示波束扫描当前时刻波束中心对准的角度，单位为弧度。由于天线为定向天线，天线增益采用分级波束宽度模型进行标定，即：用户指定电磁波束以最高增益开始分别下降3dB的波束宽度，下降NdB的波束宽度/＞，如图6所示。由波束中心对准的角度/＞、波束宽度/＞和无人机位置相对舰船位置的方位角/＞可以通过线性插值计算天线的归一化增益/＞，得到满足/＞条件的I，得到/＞对应的归一化增益为/＞，/＞对应的归一化增益为/＞，则有天线的归一化增益/＞：其中，电磁波束以最高增益开始下降I dB的波束宽度；特殊情况：如果没有满足条件的I，则天线的归一化增益/＞，其中/＞为天线杂散增益值，也称为噪底，属于天线本身的特征参数，在本申请中为已知值。S3.计算在该仿真场景下接收天线接收功率。S301. 计算自由空间电波传播损耗，用户设定仿真步进时间，默认为1秒；则每步仿真，编号为i的无人机接近舰船的距离为；由前文可知能得到时间序列i下的状态参量为：则由下式可计算得出自由空间电波传播损耗其中：工作频率；/＞：收发天线间的距离S302. 无人机编队和舰船都装载定向天线，根据所装载的天线可从数据库中调用对应电磁场数据，由前文可知定向天线的归一化增益计算公式如下：根据去发射机增益数据中中取得发射机最大增益/＞，根据发射天线的扫描周期计算的发射天线的归一化增益/＞，计算得到发射机的实际增益为。根据去接收机增益数据中中取得发射机最大增益/＞，根据接收天线的扫描周期计算的接收天线的归一化增益/＞，计算得到接收机的实际增益为。S303.由S202与S203得到发射机发射功率减小值与接收机幅度衰减值/＞，得到实际输出功率/＞，单位dBm；S304.计算相距为r的发射天线与接收天线间的功率关系如下公式：其中：：发射天线发射功率，单位：W；：发射天线在接收天线位置处波束的发射增益，单位：1；：发射天线所在接收天线方向处的接收天线波束的接收天线增益，单位：1；：工作频率对应的波长，单位：m；：接收天线接收功率，单位：W；：收发天线间的距离，单位：m；将上述公式转化为dB，则有：其中，：发射天线发射功率，单位：dBm；：接收天线接收功率，单位：dBm；：发射天线在接收天线位置处波束的发射增益，单位：dB；：发射天线所在接收天线方向处的接收天线波束的接收天线增益，单位：dB；：自由空间电波传播损耗；将上述计算得到的、/＞、/＞、/＞和 /＞代入相距为/＞的发射天线与接收天线间的功率关系，得到/＞，单位为dBm，完成整个过程的计算。在本申请的实施例中，以无人机编队和舰船复杂动态交互场景为实例，以用户设置以及天线电磁模型数据库为输入，计算得到舰船接收天线接收功率，以此为依据对天线是否受扰进行评估，根据评估结果来选择频段，分配系统的参数，确定系统EMI规范，判别潜在的缺陷和问题范围。以上所述是本发明的优选实施方式，应当理解本发明并非局限于本文所披露的形式，不应该看作是对其他实施例的排除，而可用于其他组合、修改和环境，并能够在本文所述构想范围内，通过上述教导或相关领域的技术或知识进行改动。而本领域人员所进行的改动和变化不脱离本发明的精神和范围，则都应在本发明所附权利要求的保护范围内。
