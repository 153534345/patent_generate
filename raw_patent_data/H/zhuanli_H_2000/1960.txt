标题title
一种基于Wi-Fi的跌倒定位联合检测方法、装置和系统
摘要abst
本发明涉及一种基于Wi‑Fi的跌倒定位联合检测方法，包括以下步骤：获取CSI数据并对CSI数据进行特征提取，得到跌倒特征向量和定位特征向量；通过跌倒检测模型识别所述跌倒特征向量所对应的跌倒类标签；根据所述跌倒类标签判断跌倒是否发生；若跌倒类标签为0，则判断跌倒未发生；若跌倒类标签为1，则判断跌倒发生，并通过定位模型将定位特征向量与一预设区域相匹配，将匹配到的预设区域作为定位结果；所述预设区域，是指构建定位模型所采用的CSI数据样本所划分出来的区域。这种跌倒定位联合检测方法，不需要任何穿戴设备即可实现跌倒检测，并且能够检测跌倒发生的位置，以较低的成本实现较准确的跌倒定位联合检测效果。
权利要求书clms
1.一种基于Wi-Fi的跌倒定位联合检测方法，包括以下步骤：S1，获取CSI数据并对所述CSI数据进行特征提取，得到跌倒特征向量和定位特征向量；S2，通过SVM跌倒检测模型识别所述跌倒特征向量所对应的跌倒类标签；所述跌倒类标签为0或1；S3，根据所述跌倒类标签判断跌倒是否发生；若跌倒类标签为0，则判断跌倒未发生；若跌倒类标签为1，则判断跌倒发生，执行步骤S4；S4，通过SVM定位模型将定位特征向量与一预设区域相匹配，将匹配到的预设区域作为定位结果；所述预设区域为通过CSI数据样本所划分出来的区域。2.根据权利要求1所述的基于Wi-Fi的跌倒定位联合检测方法，其特征在于：所述步骤S2具体包括以下步骤：记所述跌倒特征向量为，其维数为/＞；所述SVM跌倒检测模型包括一个将第一特征空间分割成两个区域的第一超平面；第一超平面方程为，其中/＞为/＞维向量，/＞为决定第一超平面方向的法向量，/＞为的转置矩阵，/＞为位移项；将跌倒特征向量代入至第一超平面方程，根据代入计算得到的值判断跌倒特征向量在第一特征空间中的所属区域，即/＞，式中/＞表示跌倒特征向量/＞的所在区域，/＞为符号函数；将跌倒特征向量在第一特征空间中的所属区域作为该跌倒特征向量所对应的跌倒类标签。3.根据权利要求2所述的基于Wi-Fi的跌倒定位联合检测方法，其特征在于：所述步骤S4具体包括以下步骤：记所述定位特征向量为，其维数为/＞；记所述预设区域的数量为k；所述SVM定位模型包括k-1个将第二特征空间分割成k个区域的第二超平面；第二超平面方程为，其中/＞为/＞维向量，/＞为决定第二超平面方向的法向量，/＞为的转置矩阵，/＞为位移项；/＞为1到k-1之间的整数，表示k-1个第二超平面方程中的第i个方程；将定位特征向量分别代入至每个第二超平面方程中，根据代入计算得到的值判断定位特征向量在第二特征空间中的所属区域；即/＞，式中/＞表示定位特征向量/＞的相对于第/＞个第二超平面的所属区域，/＞为符号函数；综合定位特征向量代入至每个第二超平面方程计算得到的/＞的值，判断定位特征向量在第二特征空间中的所属区域；将定位特征向量在第二特征空间中的所属区域，作为该定位特征向量所对应的定位类标签；所述定位类标签为1到k之间的整数，表示该CSI数据与第几个预设区域相匹配。4.根据权利要求3所述的基于Wi-Fi的跌倒定位联合检测方法，其特征在于：所述SVM跌倒检测模型通过以下步骤构建：S21，采集若干个CSI数据样本；这些CSI数据样本既包括跌倒样本又包括非跌倒样本；S22，对CSI数据样本进行预处理和特征提取，得到个用于跌倒检测的特征值，这些特征值组成/＞维的跌倒特征向量；将1作为跌倒样本的跌倒特征向量所对应的跌倒类标签，将0作为非跌倒样本的跌倒特征向量所对应的跌倒类标签；S23，将CSI数据样本按一定的比例随机分为训练集和测试集；S24，判断训练集的跌倒特征向量是否线性可分；所述线性可分是指训练集的跌倒特征向量能够被一个超平面分为两类；如果是，则将训练集的跌倒特征向量作为映射跌倒特征向量；如果不是，则对训练集跌倒特征向量做第一变换，使之映射到另一个高维空间，转化为可以被一个超平面分为两类的映射跌倒特征向量；S25，根据映射跌倒特征向量及其跌倒类标签，构造一个超平面方程，使这一个超平面能够将第一特征空间分割成两个区域，并且对映射跌倒特征向量的跌倒分类正确率在一定容许范围内；所述跌倒分类正确率是指，将跌倒特征向量代入至所述超平面方程，根据代入计算得到的值判断跌倒特征向量在第一特征空间中的所属区域，所得到的预测跌倒类标签与真实跌倒类标签相比的正确率；S26，将测试集的跌倒特征向量代入S25构造的超平面方程，根据代入方程计算得到的值判断测试集的跌倒特征向量在第一特征空间中所属的区域，得到测试集的预测跌倒类标签；将测试集的预测跌倒类标签与真实跌倒类标签比较，得到本次构造的超平面方程的测试集跌倒分类正确率；S27，回到步骤S23，重新选择训练集和测试集来构造超平面方程，重复若干次；比较每次生成的超平面方程的测试集跌倒分类正确率，选择测试集跌倒分类正确率最高的那个超平面方程作为第一超平面方程。5.根据权利要求4所述的基于Wi-Fi的跌倒定位联合检测方法，其特征在于：所述SVM定位模型通过以下方法构建：S41，将室内空间划分为k个预设区域，在每个预设区域都采集若干个CSI定位数据样本；S42，对CSI定位数据样本进行预处理和特征提取，得到个用于定位的特征值；这些特征值组成/＞维的定位特征向量；将CSI定位数据样本对应的预设区域作为定位特征向量的定位类标签；S43，将CSI定位数据样本按一定的比例随机分为训练集和测试集；S44，判断训练集的定位特征向量是否线性可分；所述线性可分是指训练集的定位特征向量能够被k-1个超平面分为k类；如果是，则将训练集的定位特征向量作为映射定位特征向量；如果不是，则对训练集的定位特征向量做第二变换，使之映射到另一个高维空间，转化为可以被k-1个超平面分为k类的映射定位特征向量；S45，根据映射定位特征向量及其定位类标签，构造k-1个超平面方程，使这k-1个超平面能够将第二特征空间分割成k个区域，并且对映射定位特征向量的定位分类正确率在一定容许范围内；所述定位分类正确率是指，将定位特征向量代入至k-1个超平面方程，根据代入计算得到的值判断定位特征向量在第二特征空间中的所属区域，所得到的预测定位类标签与真实定位类标签相比的正确率；S46，将测试集的定位特征向量代入S45构造的k-1个超平面方程，根据代入计算得到的值判断测试集的定位特征向量在第二特征空间中所属的区域，得到测试集的预测定位类标签；将测试集的预测定位类标签与真实定位类标签比较，得到本次构造的超平面方程的测试集定位分类正确率；S47，回到步骤S43，重新选择训练集和测试集来构造超平面方程，重复若干次；比较每次生成的超平面方程的测试集定位分类正确率，选择测试集定位分类正确率最高的那组超平面方程作为第二超平面方程。6.根据权利要求5所述的基于Wi-Fi的跌倒定位联合检测方法，其特征在于：所述步骤S1具体包括以下步骤：S11，获取CSI数据；S12，对CSI数据进行特征提取，得到若干个特征值；S13，将若干个特征值分为用于跌倒检测的特征值和用于定位的特征值；其中用于跌倒检测的特征值组成跌倒特征向量，用于定位的特征值组成定位特征向量。7.根据权利要求6所述的基于Wi-Fi的跌倒定位联合检测方法，其特征在于：所述步骤S12具体包括以下步骤：S121，对CSI数据进行时域特征提取，得到时域特征值；所述时域特征值包括时域幅值均值、能量/＞、幅值极差间隔/＞、幅值差/＞、裕度因子/＞、信号速度变化率/＞、相位均值/＞、相位标准差/＞、相位极差间隔/＞和相位差/＞；S122，对CSI数据进行频域特征提取，得到频域特征值；所述频域特征值包括频域幅值平均值、频域标准差/＞、频域最大值/＞和频域偏度系数/＞；所述CSI数据为若干个CSI数据包；一个CSI数据包的内容为一个p×N的矩阵：其中，表示第/＞条链路的第/＞个子载波数据；所述子载波数据是一个复数，包括幅值数据和相位数据；所有子载波的幅值数据组成CSI幅值数据；所有子载波的相位数据组成CSI相位数据；所述步骤S121包括以下步骤：S121a，计算CSI幅值数据的时域幅值均值；所述时域幅值均值/＞的计算公式为：，其中/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞为数据包的个数；S121b，计算CSI幅值数据的能量；所述能量/＞的计算公式为：/＞，其中为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞为数据包的个数；S121c，计算CSI幅值数据的幅值极差间隔；所述幅值极差间隔/＞的计算公式为：，式中/＞为最大的幅值数据对应的数据包数，/＞为最小的幅值数据对应的数据包数；S121d，计算CSI幅值数据的幅值差；所述幅值差/＞是指不同链路的子载波幅值数据的差，其计算公式为：，式中/＞表示链路编号，/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据；S121e，计算CSI幅值数据的裕度因子；所述裕度因子/＞的计算公式为：，式中方根幅值/＞；其中/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞为数据包的个数；S121f：计算CSI幅值数据的信号速度变化率；所述信号速度变化率/＞的计算公式为：，式中/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞；/＞为数据包个数；/＞为采样周期，即相邻数据包所对应采样时间点的间隔；S121g：计算CSI相位数据的相位均值；所述相位均值/＞的计算公式为：，其中/＞为第/＞个数据包的CSI相位数据矩阵第/＞行第/＞列的子载波相位数据，/＞为数据包的个数；S121h：计算CSI相位数据的相位标准差；所述相位标准差/＞的计算公式为：，其中/＞为第/＞个数据包的CSI相位数据矩阵第/＞行第/＞列的子载波相位数据，/＞为数据包的个数，/＞为相位均值；S121i，计算CSI相位数据的相位极差间隔；所述相位极差间隔/＞的计算公式为：，其中/＞为最大的相位数据对应的数据包数，/＞为最小的相位数据对应的数据包数；S121j，计算CSI幅值数据的相位差；所述相位差/＞是指不同链路的子载波相位数据的差，其计算公式为：，式中/＞表示链路编号，/＞为第/＞个数据包的CSI相位数据矩阵第/＞行第/＞列的子载波相位数据；所述步骤S122包括以下步骤：S112a，对CSI数据做点数为的快速傅里叶变换，得到/＞个频率响应矩阵；然后提取出个代表低频分量的频率响应矩阵，组成低频频率响应矩阵；记号/＞表示第/＞个低频频率响应矩阵第/＞行第/＞列的频率响应幅值数据；k为1到/＞之间的整数；/＞小于或等于/＞；S112b，根据低频频率响应矩阵计算频域幅值平均值；所述频域幅值平均值/＞的计算公式为：/＞，式中/＞表示第k个低频频率响应矩阵第/＞行第/＞列的频率响应幅值数据，/＞为低频频率响应矩阵的个数；S112c，根据低频频率响应矩阵计算频域标准差；所述频域标准差/＞的计算公式为：，式中/＞表示第k个低频频率响应矩阵第/＞行第/＞列的频率响应幅值数据，/＞为低频频率响应矩阵的个数，/＞为频域幅值平均值；S112d，根据低频频率响应矩阵计算频域最大值；所述频域最大值的计算公式为：；所述频域最大值矩阵中第/＞行第/＞列的元素/＞等于第/＞行第/＞列的元素/＞在/＞个低频频率响应矩阵中的最大值；S112e，根据低频频率响应矩阵计算频域偏度系数；所述偏度系数/＞的计算公式为：，其中/＞表示第k个低频频率响应矩阵第/＞行第/＞列的频率响应幅值，/＞为频域最大值，/＞为频域幅值平均值，/＞为频域标准差，/＞为低频频率响应矩阵的个数。8.根据权利要求7所述的基于Wi-Fi的跌倒定位联合检测方法，其特征在于：在所述步骤S11和步骤S12之间还包括步骤；对CSI数据进行滤波去噪，得到滤波CSI数据，具体包括以下步骤：对CSI相位数据进行线性去噪，得到线性去噪的CSI相位数据矩阵；对CSI幅值数据和线性去噪的CSI相位数据进行异常值去除，得到异常值去除的CSI数据；对异常值去除的CSI数据进行巴特沃斯低通滤波，得到滤波CSI数据；所述步骤S12为对滤波CSI数据进行特征提取，得到若干个特征值。9.一种基于Wi-Fi的跌倒定位联合检测装置，包括预处理模块、SVM跌倒检测模型、判断模块和SVM定位模型；所述预处理模块，用于获取CSI数据并对CSI数据进行特征提取，得到跌倒特征向量和定位特征向量；所述SVM跌倒检测模型，用于识别所述跌倒特征向量所对应的跌倒类标签；所述跌倒类标签为0或1；所述判断模块，用于根据所述跌倒类标签判断跌倒是否发生；若跌倒类标签为0，则判断跌倒未发生；若跌倒类标签为1，则判断跌倒发生，调用所述SVM定位模型；所述SVM定位模型，用于将定位特征向量与一预设区域相匹配，将匹配到的预设区域作为定位结果；所述预设区域，是指构建SVM定位模型所采用的CSI数据样本所划分出来的区域。10.一种基于Wi-Fi的跌倒定位联合检测系统，包括Wi-Fi设备、无线网卡和跌倒定位联合检测装置；所述Wi-Fi设备固定设置在室内某处，发射Wi-Fi信号；所述无线网卡固定设置在室内某处，接收Wi-Fi信号并进行解调，将解调得到的CSI数据包发送给所述跌倒定位联合检测装置；所述跌倒定位联合检测装置，包括预处理模块、SVM跌倒检测模型、判断模块和SVM定位模型；所述预处理模块，用于获取CSI数据并对CSI数据进行特征提取，得到跌倒特征向量和定位特征向量；所述SVM跌倒检测模型，用于识别所述跌倒特征向量所对应的跌倒类标签；所述跌倒类标签为0或1；所述判断模块，用于根据所述跌倒类标签判断跌倒是否发生；若跌倒类标签为0，则判断跌倒未发生；若跌倒类标签为1，则判断跌倒发生，调用所述SVM定位模型；所述SVM定位模型，用于将定位特征向量与一预设区域相匹配，将匹配到的预设区域作为定位结果；所述预设区域，是指构建SVM定位模型所采用的CSI数据样本所划分出来的区域。
说明书desc
技术领域本发明涉及数据处理技术领域，特别是涉及一种基于Wi-Fi的跌倒定位联合检测方法、装置和系统。背景技术跌倒事件对老年人的生理健康和心理健康都损害巨大。研究表明，跌倒后的医疗结果很大程度上取决于反应和抢救的时间，跌倒后延迟治疗会大大增加死亡风险。因此及时、自动地检测跌倒事件是否发生有可能挽救老年人的生命。现有技术中，检测跌倒事件是否发生的常规手段是让老人佩戴可穿戴智能设备；可穿戴智能设备上设有加速度传感器，通过加速度传感器来判断老人的运动状态，从而检测跌倒事件是否发生。发明内容基于此，本发明的目的在于，提供一种基于Wi-Fi的跌倒定位联合检测方法和装置，其具有无需佩戴任何设备即可实现跌倒检测，并且能够检测跌倒发生的位置的优点。一种基于Wi-Fi的跌倒定位联合检测方法，包括以下步骤：S1，获取CSI数据并对CSI数据进行特征提取，得到跌倒特征向量和定位特征向量；S2，通过SVM跌倒检测模型识别所述跌倒特征向量所对应的跌倒类标签；所述跌倒类标签为0或1；S3，根据所述跌倒类标签判断跌倒是否发生；若跌倒类标签为0，则判断跌倒未发生；若跌倒类标签为1，则判断跌倒发生，执行步骤S4；S4，通过SVM定位模型将定位特征向量与一预设区域相匹配，将匹配到的预设区域作为定位结果；所述预设区域，是指构建SVM定位模型所采用的CSI数据样本所划分出来的区域。这种基于Wi-Fi的跌倒定位联合检测方法，不需要任何穿戴设备即可实现跌倒检测，并且能够检测跌倒发生的位置，以较低的成本实现较准确的跌倒定位联合检测效果。进一步地，通过SVM跌倒检测模型识别所述跌倒特征向量所对应的跌倒类标签，具体包括以下步骤：记所述跌倒特征向量为，其维数为/＞；所述SVM跌倒检测模型包括一个将第一特征空间分割成两个区域的第一超平面；第一超平面方程为，其中/＞为/＞维向量，/＞为决定第一超平面方向的法向量，为/＞的转置矩阵，/＞为位移项；将跌倒特征向量代入至第一超平面方程，根据代入计算得到的值判断跌倒特征向量在第一特征空间中的所属区域，即/＞，式中/＞表示跌倒特征向量/＞的所在区域，/＞为符号函数；将跌倒特征向量在第一特征空间中的所属区域作为该跌倒特征向量所对应的跌倒类标签。进一步地，通过SVM定位模型将定位特征向量与一预设区域相匹配，具体包括以下步骤：记所述定位特征向量为，其维数为/＞；记所述预设区域的数量为k；所述SVM定位模型包括k-1个将第二特征空间分割成k个区域的第二超平面；第二超平面方程为，其中/＞为/＞维向量，/＞为决定第二超平面方向的法向量，为/＞的转置矩阵，/＞为位移项；/＞为1到k-1之间的整数，表示k-1个第二超平面方程中的第i个方程；将定位特征向量分别代入至每个第二超平面方程中，根据代入计算得到的值判断定位特征向量在第二特征空间中的所属区域；即/＞，式中/＞表示定位特征向量/＞的相对于第/＞个第二超平面的所属区域，/＞为符号函数；综合定位特征向量/＞代入至每个第二超平面方程计算得到的/＞的值，判断定位特征向量在第二特征空间中的所属区域；将定位特征向量在第二特征空间中的所属区域，作为该定位特征向量所对应的定位类标签；所述定位类标签为1到k之间的整数，表示该CSI数据与第几个预设区域相匹配。进一步地，所述SVM跌倒检测模型，通过以下步骤构建：S21，采集若干个CSI数据样本；这些CSI数据样本既包括跌倒样本又包括非跌倒样本；S22，对CSI数据样本进行预处理和特征提取，得到个用于跌倒检测的特征值，这些特征值组成/＞维的跌倒特征向量；将1作为跌倒样本的跌倒特征向量所对应的跌倒类标签，将0作为非跌倒样本的跌倒特征向量所对应的跌倒类标签；S23，将CSI数据样本按一定的比例随机分为训练集和测试集；S24，判断训练集的跌倒特征向量是否线性可分；所述线性可分是指训练集的跌倒特征向量能够被一个超平面分为两类；如果是，则将训练集的跌倒特征向量作为映射跌倒特征向量；如果不是，则对训练集跌倒特征向量做第一变换，使之映射到另一个高维空间，转化为可以被一个超平面分为两类的映射跌倒特征向量；S25，根据映射跌倒特征向量及其跌倒类标签，构造一个超平面方程，使这一个超平面能够将第一特征空间分割成两个区域，并且对映射跌倒特征向量的跌倒分类正确率在一定容许范围内；所述跌倒分类正确率是指，将跌倒特征向量代入至所述超平面方程，根据代入计算得到的值判断跌倒特征向量在第一特征空间中的所属区域，所得到的预测跌倒类标签与真实跌倒类标签相比的正确率；S26，将测试集的跌倒特征向量代入S25构造的超平面方程，根据代入方程计算得到的值判断测试集的跌倒特征向量在特征空间中所属的区域，得到测试集的预测跌倒类标签；将测试集的预测跌倒类标签与真实跌倒类标签比较，得到本次构造的超平面方程的测试集跌倒分类正确率；S27，回到步骤S23，重新选择训练集和测试集来构造超平面方程，重复若干次；比较每次生成的超平面方程的测试集跌倒分类正确率，选择测试集跌倒分类正确率最高的那个超平面方程作为第一超平面方程。进一步地，所述SVM定位模型通过以下方法构建：S41，将室内空间划分为k个预设区域，在每个预设区域都采集若干个CSI定位数据样本；S42，对CSI定位数据样本进行预处理和特征提取，得到个用于定位的特征值；这些特征值组成/＞维的定位特征向量；将CSI定位数据样本对应的预设区域作为定位特征向量的定位类标签；S43，将CSI定位数据样本按一定的比例随机分为训练集和测试集；S44，判断训练集的定位特征向量是否线性可分；所述线性可分是指训练集的定位特征向量能够被k-1个超平面分为k类；如果是，则将训练集的定位特征向量作为映射定位特征向量；如果不是，则对训练集的定位特征向量做第二变换，使之映射到另一个高维空间，转化为可以被k-1个超平面分为k类的映射定位特征向量；S45，根据映射定位特征向量及其定位类标签，构造k-1个超平面方程，使这k-1个超平面能够将第二特征空间分割成k个区域，并且对映射定位特征向量的定位分类正确率在一定容许范围内；所述定位分类正确率是指，将定位特征向量代入至k-1个超平面方程，根据代入计算得到的值判断定位特征向量在第二特征空间中的所属区域，所得到的预测定位类标签与真实定位类标签相比的正确率；S46，将测试集的定位特征向量代入S45构造的k-1个超平面方程，根据代入计算得到的值判断测试集的定位特征向量在第二特征空间中所属的区域，得到测试集的预测定位类标签；将测试集的预测定位类标签与真实定位类标签比较，得到本次构造的超平面方程的测试集定位分类正确率；S47，回到步骤S43，重新选择训练集和测试集来构造超平面方程，重复若干次；比较每次生成的超平面方程的测试集定位分类正确率，选择测试集定位分类正确率最高的那组超平面方程作为第二超平面方程。进一步地，所述S1具体包括以下步骤：S11，获取CSI数据；S12，对CSI数据进行特征提取，得到若干个特征值；S13，将若干个特征值分为用于跌倒检测的特征值和用于定位的特征值；其中用于跌倒检测的特征值组成跌倒特征向量，用于定位的特征值组成定位特征向量；进一步地，所述S12具体包括以下步骤：S121，对CSI数据进行时域特征提取，得到时域特征值；所述时域特征值包括时域幅值均值、能量/＞、幅值极差间隔/＞、幅值差/＞、裕度因子/＞、信号速度变化率/＞、相位均值/＞、相位标准差/＞、相位极差间隔/＞和相位差/＞；S122，对CSI数据进行频域特征提取，得到频域特征值；所述频域特征值包括频域幅值平均值、频域标准差/＞、频域最大值/＞和频域偏度系数/＞；所述CSI数据为若干个CSI数据包；一个CSI数据包的内容为一个p×N的矩阵：其中，表示第/＞条链路的第/＞个子载波数据；所述子载波数据是一个复数，包括幅值数据和相位数据；所有子载波的幅值数据组成CSI幅值数据；所有子载波的相位数据组成CSI相位数据；所述步骤S121，还包括以下步骤：S121a，计算CSI幅值数据的时域幅值均值；所述时域幅值均值/＞的计算公式为：，其中/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞为数据包的个数；S121b，计算CSI幅值数据的能量；所述能量/＞的计算公式为：/＞，其中/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞为数据包的个数；S121c，计算CSI幅值数据的幅值极差间隔；所述幅值极差间隔/＞的计算公式为：，式中/＞为最大的幅值数据对应的数据包数，/＞为最小的幅值数据对应的数据包数；S121d，计算CSI幅值数据的幅值差；所述幅值差/＞是指不同链路的子载波幅值数据的差，其计算公式为：，式中/＞表示链路编号，/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据；S121e，计算CSI幅值数据的裕度因子；所述裕度因子/＞的计算公式为：，式中方根幅值/＞；其中/＞为第个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞为数据包的个数；S121f：计算CSI幅值数据的信号速度变化率；所述信号速度变化率/＞的计算公式为：，式中/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞；/＞为数据包个数；/＞为采样周期，即相邻数据包所对应采样时间点的间隔；S121g：计算CSI相位数据的相位均值；所述相位均值/＞的计算公式为：，其中/＞为第/＞个数据包的CSI相位数据矩阵第/＞行第/＞列的子载波相位数据，/＞为数据包的个数；S121h：计算CSI相位数据的相位标准差；所述相位标准差/＞的计算公式为：，其中/＞为第/＞个数据包的CSI相位数据矩阵第/＞行第/＞列的子载波相位数据，/＞为数据包的个数，/＞为相位均值；S121i，计算CSI相位数据的相位极差间隔；所述相位极差间隔/＞的计算公式为：，其中/＞为最大的相位数据对应的数据包数，/＞为最小的相位数据对应的数据包数；S121j，计算CSI幅值数据的相位差；所述相位差/＞是指不同链路的子载波相位数据的差，其计算公式为：，式中/＞表示链路编号，/＞为第/＞个数据包的CSI相位数据矩阵第/＞行第/＞列的子载波相位数据；所述步骤S122，还包括以下步骤：S112a，对CSI数据做点数为的快速傅里叶变换，得到/＞个频率响应矩阵；然后提取出/＞个代表低频分量的频率响应矩阵，组成低频频率响应矩阵；记号/＞表示第/＞个低频频率响应矩阵第/＞行第/＞列的频率响应幅值数据；k为1到/＞之间的整数；/＞小于或等于/＞；S112b，根据低频频率响应矩阵计算频域幅值平均值；所述频域幅值平均值/＞的计算公式为：/＞，式中/＞表示第k个低频频率响应矩阵第/＞行第/＞列的频率响应幅值数据，/＞为低频频率响应矩阵的个数；S112c，根据低频频率响应矩阵计算频域标准差；所述频域标准差/＞的计算公式为：，式中/＞表示第k个低频频率响应矩阵第/＞行第/＞列的频率响应幅值数据，/＞为低频频率响应矩阵的个数，/＞为频域幅值平均值；S112d，根据低频频率响应矩阵计算频域最大值；所述频域最大值的计算公式为：；所述频域最大值矩阵中第/＞行第/＞列的元素/＞等于第/＞行第/＞列的元素/＞在/＞个低频频率响应矩阵中的最大值；S112e，根据低频频率响应矩阵计算频域偏度系数；所述偏度系数/＞的计算公式为：，其中/＞表示第k个低频频率响应矩阵第/＞行第/＞列的频率响应幅值，/＞为频域最大值，/＞为频域幅值平均值，为频域标准差，/＞为低频频率响应矩阵的个数。进一步地，所述基于Wi-Fi的跌倒定位联合检测方法，还包括步骤S14：对CSI数据进行滤波去噪，得到滤波CSI数据；所述步骤S14位于所述步骤S11之后、步骤S12之前；步骤S12变为：对滤波CSI数据进行特征提取，得到若干个特征值；所述步骤S14，具体包括以下步骤：S14a，对CSI相位数据进行线性去噪，得到线性去噪的CSI相位数据矩阵；S14b，对CSI幅值数据和线性去噪的CSI相位数据进行异常值去除，得到异常值去除的CSI数据；S14c，对异常值去除的CSI数据进行巴特沃斯低通滤波，得到滤波CSI数据。一种基于Wi-Fi的跌倒定位联合检测装置，包括预处理模块、SVM跌倒检测模型、判断模块和SVM定位模型。所述预处理模块，用于获取CSI数据并对CSI数据进行特征提取，得到跌倒特征向量和定位特征向量；所述SVM跌倒检测模型，用于识别所述跌倒特征向量所对应的跌倒类标签；所述跌倒类标签为0或1；所述判断模块，用于根据所述跌倒类标签判断跌倒是否发生；若跌倒类标签为0，则判断跌倒未发生；若跌倒类标签为1，则判断跌倒发生，调用所述SVM定位模型；所述SVM定位模型，用于将定位特征向量与一预设区域相匹配，将匹配到的预设区域作为定位结果；所述预设区域，是指构建SVM定位模型所采用的CSI数据样本所划分出来的区域。进一步地，所述预处理模块包括数据采集单元、特征提取单元和特征向量提取单元。所述数据采集单元，用于获取CSI数据；所述特征提取单元，用于对CSI数据进行特征提取，得到若干个特征值；所述特征向量提取单元，用于将若干个特征值分为用于跌倒检测的特征值和用于定位的特征值；其中用于跌倒检测的特征值组成跌倒特征向量，用于定位的特征值组成定位特征向量。一种基于Wi-Fi的跌倒定位联合检测系统，包括Wi-Fi设备、无线网卡和跌倒定位联合检测装置；所述Wi-Fi设备固定设置在室内某处，发射Wi-Fi信号；所述无线网卡固定设置在室内某处，接收Wi-Fi信号并进行解调，将解调得到的CSI数据包发送给上述的任一基于Wi-Fi的跌倒定位联合检测装置。为了更好地理解和实施，下面结合附图详细说明本发明。附图说明图1为本发明实施例的一种基于Wi-Fi的跌倒定位联合检测系统示意图；图2为本发明实施例的一种基于Wi-Fi的跌倒定位联合检测装置示意图；图3为本发明实施例的一种基于Wi-Fi的跌倒定位联合检测方法流程图；图4为本发明实施例中一条链路的30个子载波的CSI幅值数据示意图；图5为本发明实施例中进行线性去噪前的CSI相位数据示意图；图6为本发明实施例中线性去噪的CSI相位数据示意图；图7为本发明实施例中异常值去除的CSI数据和滤波CSI数据示意图；图8为本发明实施例中室内空间区域划分示意图；图9为本发明实施例中SVM定位模型的分类准确率示意图；图10为本发明实施例中的跌倒定位联合检测方法的预测正确率示意图。具体实施方式为Wi-Fi信号的信道状态信息CSI承载着丰富的特征。对CSI数据进行滤波处理和特征提取，得到的特征值可以用于识别室内环境的变化。在无线通信领域，CSI是指通信链路的信道属性，描述了信号在每条传输路径上的衰弱因子，比如信号散射，环境衰弱，距离衰减等信息。基于802 .11n协议的Wi-Fi技术采用MIMO-OFDM系统，利用华盛顿大学的Daniel Halperin提供的工具软件，可以获取一个无线通信信道中的30个子载波；最后可以得到规范化的CSI数据矩阵，该CSI数据矩阵的每一行有30个元素，每个元素表示一个子载波数据；该CSI数据矩阵的不同列表示不同的链路。由于Wi-Fi设备已经在居民生活中的各种场所都得到了普及，本发明的方案考虑利用Wi-Fi信号来进行跌倒检测而不需要再引入额外的设备。这种基于Wi-Fi跌倒检测方法只需要在室内设置一台发射Wi-Fi信号的Wi-Fi设备，和接收Wi-Fi信号的无线网卡，通过分析无线网卡接收到的信号数据，即可完成跌倒检测，无需强制要求老人佩戴可穿戴智能设备。本发明通过Wi-Fi信号的CSI数据来实现跌倒检测，首先要采集CSI数据，然后对CSI数据进行预处理和特征提取，根据提取出来的特征值来判断跌倒是否发生；若跌倒发生，则进一步判断跌倒发生的位置。基于上述技术构思，这种跌倒定位联合检测方法包括数据采集和预处理、跌倒检测和室内定位两大模块，其中跌倒检测和室内定位还涉及到分类模型的构建问题。请参阅图1、图2和图3，图1为本发明实施例的一种基于Wi-Fi的跌倒定位联合检测系统示意图；图2为本发明实施例的跌倒定位联合检测装置示意图；图3为本发明实施例的一种基于Wi-Fi的跌倒定位联合检测方法流程图。本发明的一种基于Wi-Fi的跌倒定位联合检测系统，包括Wi-Fi设备、无线网卡和跌倒定位联合检测装置；所述Wi-Fi设备固定设置在室内某处，发射Wi-Fi信号；所述无线网卡固定设置在室内某处，接收Wi-Fi信号并进行解调，将解调得到的CSI数据包发送给跌倒定位联合检测装置；所述跌倒定位联合检测装置接收CSI数据包，并根据CSI数据包判断跌倒是否发生，若跌倒发生则继续判断跌倒发生的位置。所述跌倒定位联合检测装置包括预处理模块1、SVM跌倒检测模型2、判断模块3和SVM定位模型4。所述预处理模块1，用于执行步骤S1：获取CSI数据并对CSI数据进行特征提取，得到跌倒特征向量和定位特征向量；所述SVM跌倒检测模型2，用于执行步骤S2：识别所述跌倒特征向量所对应的跌倒类标签；所述跌倒类标签为0或1。所述判断模块3，用于执行步骤S3：根据所述跌倒类标签判断跌倒是否发生；若跌倒类标签为0，则判断跌倒未发生；若跌倒类标签为1，则判断跌倒发生，并调用SVM定位模型4。所述SVM定位模型4，用于执行步骤S4：将定位特征向量与一预设区域相匹配，将匹配到的预设区域作为定位结果；所述预设区域，是指构建SVM定位模型所采用的CSI数据样本所划分出来的区域。预处理部分所述预处理模块1包括数据采集单元11、特征提取单元12和特征向量提取单元13。所述数据采集单元11，用于执行步骤S11：获取CSI数据。所述特征提取单元12，用于执行步骤S12：对CSI数据进行特征提取，得到若干个特征值。所述特征向量提取单元13，用于执行步骤S13：将若干个特征值分为用于跌倒检测的特征值和用于定位的特征值；其中用于跌倒检测的特征值组成跌倒特征向量，用于定位的特征值组成定位特征向量。具体地，S11所述的CSI数据是指无线网卡发送的CSI数据包；一个CSI数据包的内容为一个p×N的矩阵：其中，表示第/＞条链路的第/＞个子载波数据；所述子载波数据是一个复数，包括幅值数据和相位数据；所有幅值数据组成CSI幅值数据；所有相位数据组成CSI相位数据。请参阅图4，图4本发明实施例中一条链路的30个子载波的CSI幅值数据示意图。该p×N的矩阵的每一行表示一条链路上不同的子载波数据，不同行表示不同的链路；共有p条链路，每条链路有N个子载波。链路是指一个发射天线与一个接收天线之间的连接，在本实施例中，所述无线网卡有三个接收天线，Wi-Fi设备有一个发射天线，所以链路数量p=3。子载波数量由调制方法确定，在本实施例中，子载波数量N=30。所以本实施例中一个CSI数据包的内容为一个3×30的矩阵。本实施例设定一次采集时长为6s，无线网卡发包频率为100包/s，采集一次得到600个CSI数据包。具体地，所述特征提取单元12还包括时域特征提取单元121和频域特征提取单元122。所述时域特征提取单元121用于执行步骤S121：对CSI数据进行时域特征提取，得到时域特征值；所述时域特征值包括时域幅值均值、能量/＞、幅值极差间隔/＞、幅值差/＞、裕度因子/＞、信号速度变化率/＞、相位均值/＞、相位标准差/＞、相位极差间隔/＞和相位差/＞。所述时域特征提取单元121还包括时域幅值均值计算单元121a、能量计算单元121b、幅值极差间隔计算单元121c、幅值差计算单元121d、裕度因子计算单元121e、信号速度变化率计算单元121f、相位均值计算单元121g、相位标准差计算单元121h、相位极差间隔计算单元121i和相位差计算单元121j。所述时域幅值均值计算单元121a用于执行步骤S121a：计算CSI幅值数据的时域幅值均值；所述时域幅值均值/＞的计算公式为：，其中/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波的幅值数据，/＞为数据包的个数。在本实施例中，一个数据包的CSI幅值数据矩阵为一个3×30的矩阵，对600个数据包的CSI幅值数据矩阵中的每一个子载波幅值数据都计算其时域幅值均值，得到一个3×30的时域幅值均值矩阵。所述能量计算单元121b用于执行步骤S121b：计算CSI幅值数据的能量；所述能量的计算公式为：，其中/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞为数据包的个数。在本实施例中，一个数据包的CSI幅值数据矩阵为一个3×30的矩阵，对600个数据包的CSI幅值数据矩阵中的每一个子载波幅值数据都计算其能量，得到一个3×30的能量矩阵。所述幅值极差间隔计算单元121c用于执行步骤S121c：计算CSI幅值数据的幅值极差间隔；所述幅值极差间隔/＞的计算公式为：，式中/＞为最大的幅值数据对应的数据包数，/＞为最小的幅值数据对应的数据包数。例如，假设对于第1链路的第20个子载波数据而言，其幅值最大值出现在第500个数据包，其幅值最小值出现在第100个数据包，则其极差间隔T=400，幅值极差间隔矩阵第1行第20列的数值为400。在本实施例中，一个数据包的CSI幅值数据矩阵为一个3×30的矩阵，对600个数据包的CSI幅值数据矩阵中的每一个子载波幅值数据都计算其极差间隔T，得到一个3×30的极差间隔矩阵。所述幅值差计算单元121d用于执行步骤S121d，计算CSI幅值数据的幅值差；所述幅值差/＞是指不同链路的子载波幅值数据的差，其计算公式为：，式中/＞表示链路编号，/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据。由于不同链路的CSI数据来自不同位置的接收天线，链路之间的幅值差能够体现出接收天线的位置差异，提取幅值差能够有效用于定位。在本实施例中，链路数量p=3，3条链路两两组合，共得到3组幅值差，包括第1条链路与第2条链路的幅值差、第1条链路与第3条链路的幅值差，和第2条链路与第3条链路的幅值差。所述裕度因子计算单元121e用于执行步骤S121e：计算CSI幅值数据的裕度因子；所述裕度因子/＞的计算公式为：，式中方根幅值/＞；其中/＞为第个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞为数据包的个数。裕度因子是信号峰值与方根幅值的比值，表示了信号在传输过程中的稳定性和可靠性。人体动作变化时的环境与静态环境相比，两者的裕度因子有较明显的差异，可作为人体动作发生变化的指标之一。在本实施例中，一个数据包的CSI幅值数据矩阵为一个3×30的矩阵，对600个数据包的CSI幅值数据矩阵中的每一个子载波幅值数据都计算其裕度因子，得到一个3×30的裕度因子矩阵。所述信号速度变化率计算单元121f用于执行步骤S121f：计算CSI幅值数据的信号速度变化率；所述信号速度变化率/＞的计算公式为：，式中/＞为第/＞个数据包的CSI幅值数据矩阵第/＞行第/＞列的子载波幅值数据，/＞；/＞为数据包个数；/＞为采样周期，即相邻数据包所对应采样时间点的间隔。由于跌倒信号是离散、不规律的，想要确切的判断波形突变正好对应实际环境的变化，本发明引入了一个全新的变量：信号速度变化率。信号速度变化率是指把子载波数据按照时间划分成若干组，每一个时间段都包含若干数据，计算在每一个时间段内的CSI数据的幅值变化率，将每个时间段的幅值变化率进行迭代比较提取最大值，所取得的最大的幅值变化率即为信号突变最剧烈的强度，实际物理意义为信号波动快慢的最大值，这个最大值所对应时间点反映跌倒事件发生的时间点。在本实施例中，数据包个数=600，采样频率为100包/s，即采样周期/＞=0.01s；对600个数据包的CSI幅值数据矩阵中的每一个子载波幅值数据都计算信号速度变化率，得到599个3×30的信号速度变化率矩阵。所述相位均值计算单元121g用于执行步骤S121g：计算CSI相位数据的相位均值；所述相位均值/＞的计算公式为：，其中/＞为第/＞个数据包的CSI相位数据矩阵第/＞行第/＞列的子载波相位数据，/＞为数据包的个数。在本实施例中，一个数据包的CSI相位数据矩阵为一个3×30的矩阵，对600个数据包的CSI相位数据矩阵中的每一个子载波相位数据都计算其相位均值，得到一个3×30的相位均值矩阵。所述相位标准差计算单元121h用于执行步骤S121h：计算CSI相位数据的相位标准差；所述相位标准差/＞的计算公式为：，其中/＞为第/＞个数据包的CSI相位数据矩阵第/＞行第/＞列的子载波相位数据，/＞为数据包的个数，/＞为相位均值。在本实施例中，一个数据包的CSI相位数据矩阵为一个3×30的矩阵，对600个数据包的CSI相位数据矩阵中的每一个子载波相位数据都计算其相位标准差，得到一个3×30的相位标准差矩阵。所述相位极差间隔计算单元121i用于执行步骤S121i：计算CSI相位数据的相位极差间隔；所述相位极差间隔/＞的计算公式为：，其中/＞为最大的相位数据对应的数据包数，/＞为最小的相位数据对应的数据包数。例如，假设对于第1链路的第20个子载波数据而言，其相位最大值出现在第200个数据包，其相位最小值出现在第500个数据包，则其相位极差间隔N=300，相位极差间隔矩阵第1行第20列的数值为300。在本实施例中，一个数据包的CSI相位数据矩阵为一个3×30的矩阵，对600个数据包的CSI相位数据矩阵中的每一个子载波相位数据都计算其相位极差间隔T，得到一个3×30的相位极差间隔矩阵。所述相位差计算单元121j用于执行步骤S121j：计算CSI幅值数据的相位差；所述相位差/＞是指不同链路的子载波相位数据的差，其计算公式为：，式中/＞表示链路编号，/＞为第/＞个数据包的CSI相位数据矩阵第/＞行第/＞列的子载波相位数据。由于不同链路的CSI数据来自不同位置的接收天线，链路之间的相位差能够体现出接收天线的位置差异，提取相位差能够有效用于定位。在本实施例中，链路数量p=3，3条链路两两组合，共得到3组相位差，包括第1条链路与第2条链路的相位差、第1条链路与第3条链路的相位差，和第2条链路与第3条链路的相位差。所述频域特征提取单元122用于执行步骤S122：对CSI数据进行频域特征提取，得到频域特征值；所述频域特征值包括频域幅值平均值、频域标准差/＞、频域最大值/＞和频域偏度系数/＞。所述频域特征提取单元122还包括频率响应计算单元112a、频域幅值平均值计算单元112b、频域标准差计算单元112c、频域最大值计算单元112d和频域偏度系数计算单元112e。所述频率响应计算单元112a用于执行步骤S112a：对CSI数据做点数为的快速傅里叶变换，得到/＞个频率响应矩阵；然后提取出/＞个代表低频分量的频率响应矩阵，组成低频频率响应矩阵；记号/＞表示第/＞个低频频率响应矩阵第/＞行第/＞列的频率响应幅值数据；k为1到/＞之间的整数；/＞小于或等于/＞。由于不同的数据包表示不同的时间点，对于第个数据包的p×N的CSI数据矩阵中的第/＞行第/＞列的元素/＞而言，/＞=1到/＞所对应的/＞组成一个长度为/＞的时域信号序列；对这个时域信号序列做点数为/＞的快速傅里叶变换，得到一个长度为/＞的频域信号序列/＞。对个数据包的p×N的CSI数据矩阵中的每一行每一列的元素/＞组成的长度为/＞的时域信号序列都进行上述点数为/＞快速傅里叶变换，得到p*N个长度为/＞的频域信号序列/＞，将这些频率信号序列按照对应的/＞在原p×N的CSI数据矩阵的排列位置进行排列，得到/＞个p×N的频率响应矩阵。在本实施例中，数据包个数/＞=600，快速傅里叶变换点数/＞=64，链路数量p=3，子载波数量N=30；对600个数据包的滤波CSI数据做点数为64的快速傅里叶变换，得到64个3×30的频率响应矩阵。由于人体动作信号频率集中在低频，高频部分多是与有用信号无关的噪声，因此还需要从个频率响应矩阵中提取出/＞个代表低频成分的频率响应矩阵。在本实施例中，/＞=25；在64个3×30频率响应矩阵中，提取第2个至第26个频率响应矩阵，一共25个频率响应矩阵，组成低频频率响应矩阵，进行后续频率特征提取；这25个低频频率响应矩阵，代表CSI信号频率在0.2Hz到10Hz之间的低频分量；记号/＞表示第k个低频频率响应矩阵第i行第j列的频率响应幅值数据。所述频域幅值平均值计算单元112b用于执行步骤S112b：根据低频频率响应矩阵计算频域幅值平均值；所述频域幅值平均值/＞的计算公式为：/＞，式中表示第k个低频频率响应矩阵第/＞行第/＞列的频率响应幅值数据，/＞为低频频率响应矩阵的个数。在本实施例中，低频频率响应矩阵的个数=25，25个3×30低频频率响应矩阵计算频域幅值平均值后得到一个3×30的频域幅值平均值矩阵。所述频域标准差计算单元112c用于执行步骤S112c：根据低频频率响应矩阵计算频域标准差；所述频域标准差/＞的计算公式为：，式中/＞表示第k个低频频率响应矩阵第/＞行第/＞列的频率响应幅值数据，/＞为低频频率响应矩阵的个数，/＞为频域幅值平均值。频域标准差是以重心频率为中心的惯性半径。若重心附近的频谱幅值较大，则频率标准差较小；若重心附近的频谱较小，则频率标准差较大。频域标准差描述了功率谱能量分布的分散程度。在本实施例中，低频频率响应矩阵的个数=25，25个3×30频率响应矩阵计算频域标准差后得到一个3×30的频域标准差矩阵。所述频域最大值计算单元112d用于执行步骤S112d：根据低频频率响应矩阵计算频域最大值；所述频域最大值的计算公式为：/＞；所述频域最大值矩阵中第/＞行第/＞列的元素/＞等于第/＞行第/＞列的元素/＞在/＞个低频频率响应矩阵中的最大值。在本实施例中，25个3×30低频频率响应矩阵计算频域最大值后得到一个3×30的频域最大值矩阵。所述频域偏度系数计算单元112e用于执行步骤S112e：根据低频频率响应矩阵计算频域偏度系数；所述偏度系数/＞的计算公式为：，其中/＞表示第k个低频频率响应矩阵第/＞行第/＞列的频率响应幅值，/＞为频域最大值，/＞为频域幅值平均值，为频域标准差，/＞为低频频率响应矩阵的个数。偏度系数衡量了数据集的对称程度。偏度系数越接近0，说明数据集越对称；系数越远离0，则说明数据集越不对称。如果偏度系数为正，则表明数据在右边更为分散，若为负的，则说明数据集左侧更为分散。人体动作的不同会导致频域上的数据对称程度产生差异，可以作为人体动作分类的依据。在本实施例中，25个3×30的低频频率响应矩阵计算偏度系数后得到一个3×30的偏度系数矩阵。所述特征向量提取单元13，用于执行步骤S13：将若干个特征值分为用于跌倒检测的特征值和用于定位的特征值；其中用于跌倒检测的特征值组成跌倒特征向量，用于定位的特征值组成定位特征向量；记跌倒特征向量为，维数为/＞；记定位特征向量为/＞，维数为。另外，为了改善特征提取的效果，所述预处理模块1还包括滤波单元；所述滤波单元用于在特征提取单元12执行步骤S12之前执行步骤：对CSI数据进行滤波去噪，得到滤波CSI数据；所述特征提取单元12执行的步骤S12为：对滤波CSI数据进行特征提取，得到若干个特征值。具体地，所述滤波单元还包括线性去噪单元、异常值去除单元和巴特沃斯滤波单元。所述线性去噪单元用于执行步骤：对CSI相位数据进行线性去噪，得到线性去噪的CSI相位数据矩阵。记CSI相位数据矩阵的某个链路的第个子载波的相位为/＞，则有/＞，式中/＞为测量相位，/＞为真实相位；/＞为接收机与发送机之间的时间偏移，/＞为未知相位偏移，Z为测量过程的噪声；/＞为第/＞路子载波的子载波编号值；在2.4G情况下即标准带宽为20MHz下，30个子载波对应的子载波编号分别为-28，-26，-24，...，-4，-2，-1，1，3，5，...，25，27，28；在5G情况下即标准带宽为40MHz下，30个子载波对应的子载波编号分别为-58，-54，-50，-46，...，46，50，54，58；/＞为快速傅里叶变换的点数。在本实施例中，基于 IEEE802.11n 标准，快速傅里叶变换的点数/＞为64。为了消除与/＞的影响，定义两个量a与b：/＞假设子载波的中心频率是对称的，而且相邻子载波之间的相位相差也较小，因此可认为整个频段内所有子载波相加之和为0，即有，则/＞可以表示为从测得的相位中减去线性误差项/＞，移除消除来自时钟同步误差/＞和未知常数β的随机相位偏移，进一步得到最终较为可靠的真实相位的线性组合形式，即所述即为CSI相位数据矩阵中的一个子载波相位数据/＞经过线性去噪后的得到的相位数据。对CSI相位数据矩阵中的每个子载波相位数据都进行上述线性去噪，即可得到线性去噪的CSI相位数据矩阵。请参阅图5和图6，图5为本发明实施例中进行线性去噪前的CSI相位数据示意图，图6为本发明实施例中线性去噪的CSI相位数据示意图。所述异常值去除单元用于执行步骤：对CSI幅值数据和线性去噪的CSI相位数据进行异常值去除，得到异常值去除的CSI数据；所述异常值去除的CSI数据，包括异常值去除的CSI幅值数据和异常值去除的CSI相位数据。所述异常值去除，采用基于决策的Hampel异常判别法，将落在有效区间之外的数据值视作异常干扰。其中，/＞表示的是测量数据的中位数，/＞表示的是测量数据的绝对中位偏差。Hampel异常判别法根据设定的阈值T和窗口大小w，在数据序列中滑动窗口，遍历每个窗口中的数据点，计算它与该窗口中的中位数之间的绝对偏差/＞，如果该偏差超过了阈值T，则认为该数据点是异常值。对于被识别为异常值的数据点，以该窗口数据的中位数/＞来代替它们。所述巴特沃斯滤波单元用于执行步骤：对异常值去除的CSI数据进行巴特沃斯低通滤波，得到滤波CSI数据；所述滤波CSI数据，包括CSI幅值数据和CSI相位数据。这一步是为了进一步对数据进行降噪处理。巴特沃斯滤波器的阶数和截止频率根据实际滤波效果确定。请参阅图7，图7为本发明实施例中异常值去除的CSI数据和滤波CSI数据示意图。跌倒定位联合检测部分发明人设想，跌倒定位联合检测方法应该实现以下功能：根据Wi-Fi信号的CSI数据判断跌倒是否发生，若跌倒发生，则进一步判断跌倒发生的位置，输出“跌倒发生”以及发生跌倒的室内区域编号。因此，该跌倒定位联合检测方法包括跌倒检测方法和室内定位方法。室内定位方法应该实现：根据CSI数据所提取出来的特征值，来预测该CSI数据采集自室内哪个区域。如果将室内定位方法看作一个黑箱，那么这个黑箱的输入是CSI数据所提取出来的特征值，输出是室内区域所对应的类标签。这样室内定位问题就转化为分类问题。与室内定位方法的技术构思相同，跌倒检测方法也是根据CSI数据所提取出来的特征值，来预测该CSI数据样本是否属于跌倒样本；如果该CSI数据样本属于跌倒样本，那么其对应的类标签为1；如果该CSI数据样本不属于跌倒样本，那么其对应的类标签为0。如果将跌倒检测方法看作一个黑箱，那么该黑箱的输入是CSI数据所提取出来的特征值，输出是表示该样本是否属于跌倒样本的预测跌倒类标签。这样跌倒检测问题就转化为二分类问题。SVM算法可以完成根据特征值进行分类的任务。SVM算法的技术构思是：输入个/＞维的特征向量，预设这/＞个特征向量应该被分为/＞个类；这些/＞维的特征向量在/＞维特征空间中对应着一个点；如果能找到/＞个/＞维的超平面，将/＞维空间分割成/＞个区域，那么通过计算特征向量在/＞维特征空间中的位置位于哪些超平面之间，就能判断出该特征向量应该被分为哪一类。因此根据已知的特征向量及其类标签寻找超平面的过程，就是构建SVM模型的过程。SVM模型将特征向量代入进超平面方程，判断特征向量位于n维特征空间中的哪个区域，从而预测特征向量所对应的类标签的过程，就是分类过程。所述SVM跌倒检测模型2，用于执行步骤S2：识别所述跌倒特征向量所对应的跌倒类标签；所述跌倒类标签为0或1。具体地，所述SVM跌倒检测模型识别所述跌倒特征向量所对应的跌倒类标签，具体包括以下步骤：所述SVM跌倒检测模型包括一个将特征空间分割成两个区域的第一超平面；所述第一超平面用方程表示为，其中/＞为/＞维向量，/＞为决定超平面方向的法向量，/＞为/＞的转置矩阵，/＞为位移项；将跌倒特征向量代入至第一超平面的方程中，根据代入方程计算得到的值判断跌倒特征向量在特征空间中的所属区域，即/＞，式中/＞表示跌倒特征向量/＞的所在区域，/＞为符号函数；将跌倒特征向量在特征空间中的所属区域作为该跌倒特征向量所对应的跌倒类标签；所述跌倒类标签为0或1。具体地，所述SVM跌倒检测模型通过以下方法构建：S21，采集若干个CSI数据样本；这些CSI数据样本既包括跌倒样本又包括非跌倒样本；S22，对CSI数据样本进行预处理和特征提取，得到个用于跌倒检测的特征值，这些特征值组成/＞维的跌倒特征向量；将1作为跌倒样本的跌倒特征向量所对应的跌倒类标签，将0作为非跌倒样本的跌倒特征向量所对应的跌倒类标签；S23，将CSI数据样本按一定的比例随机分为训练集和测试集；S24，判断训练集的跌倒特征向量是否线性可分；所述线性可分是指训练集的跌倒特征向量能够被一个超平面分为两类；如果是，则将训练集的跌倒特征向量作为映射跌倒特征向量；如果不是，则对训练集跌倒特征向量做第一变换，使之映射到另一个高维空间，转化为可以被一个超平面分为两类的映射跌倒特征向量；S25，根据映射跌倒特征向量及其跌倒类标签，构造一个超平面方程，使这一个超平面能够将第一特征空间分割成两个区域，并且对映射跌倒特征向量的跌倒分类正确率在一定容许范围内；所述跌倒分类正确率是指，将跌倒特征向量代入至所述超平面方程，根据代入计算得到的值判断跌倒特征向量在第一特征空间中的所属区域，所得到的预测跌倒类标签与真实跌倒类标签相比的正确率；S26，将测试集的跌倒特征向量代入S25构造的超平面方程，根据代入方程计算得到的值判断测试集的跌倒特征向量在特征空间中所属的区域，得到测试集的预测跌倒类标签；将测试集的预测跌倒类标签与真实跌倒类标签比较，得到本次构造的超平面方程的测试集跌倒分类正确率；S27，回到步骤S23，重新选择训练集和测试集来构造超平面方程，重复若干次；比较每次生成的超平面方程的测试集跌倒分类正确率，选择测试集跌倒分类正确率最高的那个超平面方程作为第一超平面方程。所述判断模块3，用于执行步骤S3：根据所述跌倒类标签判断跌倒是否发生；若跌倒类标签为0，则判断跌倒未发生；若跌倒类标签为1，则判断跌倒发生，并调用SVM定位模型4。所述SVM定位模型4，用于执行步骤S4：将定位特征向量与一预设区域相匹配，将匹配到的预设区域作为定位结果；所述预设区域，是指构建SVM定位模型所采用的CSI数据样本所划分出来的区域；记所述预设区域的数量为k。具体地，通过SVM定位模型将定位特征向量与一预设区域相匹配，具体包括以下步骤：所述SVM定位模型包括k-1个将特征空间分割成k个区域的第二超平面；所述第二超平面用方程表示为，其中/＞为/＞维向量，/＞为决定超平面方向的法向量，为/＞的转置矩阵，/＞为位移项；/＞为1到k-1之间的整数，表示k-1个第二超平面方程中的第i个方程；将定位特征向量分别代入至每个第二超平面的方程中，根据代入计算得到的值判断定位特征向量在第二特征空间中的所属区域；即/＞，式中/＞表示定位特征向量/＞的相对于第/＞个第二超平面的所属区域，/＞为符号函数；综合定位特征向量/＞代入至每个第二超平面方程计算得到的/＞的值，判断定位特征向量在第二特征空间中的所属区域；将定位特征向量在第二特征空间中的所属区域，作为该定位特征向量所对应的定位类标签；所述定位类标签为1到k之间的整数，表示该CSI数据与第几个预设区域相匹配。具体地，所述SVM定位模型通过以下方法构建：S41，将室内空间划分为k个预设区域，在每个预设区域都采集若干个CSI定位数据样本；S42，对CSI定位数据样本进行预处理和特征提取，得到个用于定位的特征值；这些特征值组成/＞维的定位特征向量；将CSI定位数据样本对应的预设区域作为定位特征向量的定位类标签；S43，将CSI定位数据样本按一定的比例随机分为训练集和测试集；S44，判断训练集的定位特征向量是否线性可分；所述线性可分是指训练集的定位特征向量能够被k-1个超平面分为k类；如果是，则将训练集的定位特征向量作为映射定位特征向量；如果不是，则对训练集的定位特征向量做第二变换，使之映射到另一个高维空间，转化为可以被k-1个超平面分为k类的映射定位特征向量；S45，根据映射定位特征向量及其定位类标签，构造k-1个超平面方程，使这k-1个超平面能够将第二特征空间分割成k个区域，并且对映射定位特征向量的定位分类正确率在一定容许范围内；所述定位分类正确率是指，将定位特征向量代入至k-1个超平面方程，根据代入计算得到的值判断定位特征向量在第二特征空间中的所属区域，所得到的预测定位类标签与真实定位类标签相比的正确率；S46，将测试集的定位特征向量代入S45构造的k-1个超平面方程，根据代入计算得到的值判断测试集的定位特征向量在第二特征空间中所属的区域，得到测试集的预测定位类标签；将测试集的预测定位类标签与真实定位类标签比较，得到本次构造的超平面方程的测试集定位分类正确率；S47，回到步骤S43，重新选择训练集和测试集来构造超平面方程，重复若干次；比较每次生成的超平面方程的测试集定位分类正确率，选择测试集定位分类正确率最高的那组超平面方程作为第二超平面方程。进一步地，用于跌倒检测的特征值包括幅值均值、能量/＞、幅值极差间隔/＞、裕度因子/＞、信号速度变化率/＞、相位均值/＞、相位标准差/＞、相位极差间隔/＞、频域幅值平均值、频域标准差/＞、频域最大值/＞和频域偏度系数/＞；跌倒特征向量的维数/＞=12。本实施例中，5名实验人员在9个区域采集两种动作对应的CSI数据，每个动作各采集30个数据样本。一次采集时长为6s，无线网卡发包频率为100包/s。因此，对每个实验人员来说，共采集了9*2*30=540个样本；5个实验人员对应540*5=2700个样本；每个样本有600个数据包，共有600*2700=1620000个数据包。每个数据包包括一个3×30的CSI数据矩阵。进一步地，用于定位的特征值包括幅值差和相位差/＞；定位特征向量的维数/＞=2。进一步地，对特征向量做变换，使之映射到另一个高维空间，转化为可以被k-1个超平面分为k类的映射特征向量的方法，还包括以下步骤：利用RBF核函数将定位特征向量映射到高维空间，转化为线性可分的映射定位特征向量；RBF核函数用式子表示为，式中/＞为核函数参数，控制了核函数的宽度。/＞越大，表示核函数的宽度越小，模型越复杂，但也可能导致过拟合；/＞越小，表示核函数的宽度越大，模型越简单，但也可能导致欠拟合。构建SVM定位模型时，所述特征向量为定位特征向量，所述映射特征向量为映射定位特征向量；构建SVM跌倒检测模型时，所述特征向量为跌倒检测向量，分类数量k=2，所述映射特征向量为映射跌倒特征向量。进一步地，根据映射特征向量及其类标签，构造超平面方程的方法，还包括以下步骤：用拉格朗日乘子法将构造超平面方程的规划问题转化为对偶最优化问题，然后用序列最小最优化算法求解对偶问题。构造超平面方程的约束条件是使超平面距离不同区域边缘特征向量的距离最小，这是一个具有线性约束的凸二次规划问题，因此可以用拉格朗日乘子法将构造超平面方程的规划问题转化为对偶最优化问题。由于构造超平面方程的约束条件并不要求每个特征向量都被严格地分在正确的一类，对于分类正确率有一定容许范围，因此构造约束条件涉及惩罚参数；惩罚参数/＞越大，表示对错误分类的惩罚越大，即容许范围越小，模型越倾向于拟合训练数据，但也可能导致过拟合；惩罚参数/＞越小，表示对误分类的容忍度越高，模型越倾向于泛化，但也可能导致欠拟合。用网格搜索法条件调节参数和/＞。给定参数/＞的范围为/＞，变化步长为/＞；参数的范围为/＞，变化步长为/＞；令/＞，/＞，/＞，/＞，针对每对参数/＞进行训练，取效果最好的一对参数作为最优参数。构建SVM定位模型时，所述映射特征向量为映射定位特征向量；构建SVM跌倒检测模型时，所述映射特征向量为映射跌倒特征向量。在本实施例中，室内空间被划分为如图8所示的9个区域，5个实验人员在每个区域都采集60个CSI数据样本，共2700个样本。每个样本包括600个数据包。对600个数据包的CSI数据进行特征值提取。由于600个数据包的后半部分包括跌倒信号，而跌倒信号对定位没有帮助，因此只选取了前100个数据包进行定位特征值提取；用于定位的特征值包括幅值差和相位差/＞，组成二维的定位特征向量。本实施例中，S23和S43所述的训练集和测试集的比例均为7：3，即1890个样本用于构建模型，810个样本用于测试模型的分类正确率。本实施例构建的SVM定位模型的分类正确率如图9所示，其每个区域的定位正确率都达到了90%以上。跌倒定位联合检测的预测正确率如图10所示，跌倒定位联合检测的正确率达到94%以上。基于同一发明构思，本申请还提供一种电子设备，可以是服务器、台式计算设备或移动计算设备等终端设备。该设备包括一个或多个处理器和存储器，其中处理器用于执行程序实现本发明实施例的跌倒定位联合检测方法；存储器用于存储可由所述处理器执行的计算机程序。基于同一发明构思，本申请还提供一种计算机可读存储介质，与前述跌倒定位联合检测方法的实施例相对应，所述计算机可读存储介质其上存储有计算机程序，该程序被处理器执行时实现上述任一实施例所记载的跌倒定位联合检测方法的步骤。本申请可采用在一个或多个其中包含有程序代码的存储介质上实施的计算机程序产品的形式。计算机可用存储介质包括永久性和非永久性、可移动和非可移动媒体，可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括但不限于：相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。以上所述实施例仅表达了本发明的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干变形和改进，则本发明也意图包含这些改动和变形。
