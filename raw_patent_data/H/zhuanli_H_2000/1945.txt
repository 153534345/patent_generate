标题title
基于小程序的登录方法、装置、介质及计算机设备
摘要abst
本发明涉及基于小程序的登录方法技术领域，提供基于小程序的登录方法、装置、介质及计算机设备，生成登录入口并将登录入口显示在第一网络设备的显示界面上，登录入口包括小程序码的二维码；检测是否有第二网络设备发送的登录请求信号；若获取登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备调用小程序码对应的小程序；验证小程序是否为静默登录，若是，则获取该小程序的登录授权码；发送登录授权码至第一网络设备和第二网络设备，通过小程序静默登录状态直接完成PC端和移动端的同时登录，提升使用便利性，兼顾登录安全性。且小程序可智能进行自动显示切换及请求显示切换，节省网络设备的资源，提高用户体验。
权利要求书clms
1.一种基于小程序的登录方法，其特征在于，所述方法包括：生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；若获取到登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证所述小程序是否为静默登录，若是，则获取该小程序的登录授权码；发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录；且小程序由第一显示界面自动切换至第二显示界面。2.根据权利要求1所述的基于小程序的登录方法，其特征在于，所述发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录，且小程序由第一显示界面自动切换至第二显示界面后，还包括：判断第一网络设备与第二网络设备的相对位置是否大于预设阈值，若大于所述预设阈值，且检测到第一网络设备在预设时间段内无操作，则将小程序向服务器发送界面切换请求，并根据所述服务器返回信息切换至第三界面。3.根据权利要求2所述的基于小程序的登录方法，其特征在于，所述判断第一网络设备与第二网络设备的相对位置是否大于预设阈值，包括：所述第二网络设备监测所述第一网络设备的无线信号；若监测到的第一网络设备的无线信号强度低于预设值，则判断所述第一网络设备与第二网络设备的相对位置大于预设阈值；和/或，检测所述第二网络设备的网络状态信息；若所述第二网络设备的网络由第一网络切换为第二网络，则判断所述第一网络设备与第二网络设备的相对位置大于预设阈值。4.根据权利要求1所述的基于小程序的登录方法，其特征在于，所述生成登录入口并将登录入口显示在第一网络设备的显示界面上的步骤包括：通过小程序端创建待通过的小程序码；当获取第一网络设备的显示界面打开的网页创建信号时，发送小程序请求指令至宿主服务器，所述小程序请求指令包括待通过的小程序码及小程序登录态，所述小程序请求指令用于请求宿主服务器获取小程序码，所述宿主服务器为第二网络设备的宿主程序的供应服务器；若小程序请求指令通过，则发送小程序码至第一网络设备，并在第一网络设备的显示界面上生成登录入口，所述登录入口包括含有小程序码的二维码；或，若小程序请求指令通过，则生成登录入口，所述登录入口包括含有小程序码的二维码，发送登录入口至第一网络设备并在第一网络设备的显示界面上显示。5.根据权利要求1所述的基于小程序的登录方法，其特征在于，所述方法还包括：在所述第一网络设备的网页上生产登录入口，所述二维码关联不重复的senceID；检测是否有第二网络设备发送的登录请求信号，登录请求信号包括senceID及unionID，所述unionID为第二网络设备通过宿主程序扫描所述二维码时，所述小程序静默读取到的宿主程序的ID；若检测到所述登录请求信号，则验证所述unionID是否为静默登录,若是静默登录，则将所述senseID和所述unionID进行映射绑定；并基于所述senseID和所述unionID生成登录授权码，将所述登录授权码同时发送所述第一网络设备和所述第二网络设备。6.根据权利要求1所述的基于小程序的登录方法，其特征在于：所述小程序端静默读取当前宿主程序用户的unionID的步骤包括：小程序端通过 wx.login + code2Session 获取到该用户 UnionID，或，小程序端调用当前宿主程序用户的云函数，通过云函数的Cloud.getWXContext 获取 UnionID。7.根据权利要求1所述的基于小程序的登录方法，其特征在于：同一所述宿主程序的移动应用账号、网站应用账号及小程序账号具有相同的unionID。8.一种基因小程序的登录装置，其特征在于，包括：显示模块，用于生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；登录请求模块，用于检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；调用模块，用于若获取到登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证模块，用于验证所述小程序是否为静默登录,若是，则获取该小程序的登录授权码；登录模块，用于同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录。9.一种计算机可读存储介质，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行如权利要求1至7中任一项所述方法的步骤。10.一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行如权利要求1至7中任一项所述方法的步骤。
说明书desc
技术领域本发明涉及基于小程序的登录方法技术领域，尤其涉及一种基于小程序的登录方法、装置、介质及计算机设备。背景技术在PC端用户登录网站时，需要登录账号密码进行验证登录，现有方案中，PC端用户登录网站时，可记录用户在指定PC端的地址并在客户允许状态下，将已登录的用户信息设置为静默登录，即，用户在下次登录同一PC端的同一网站时，可自动登录。但是，PC端的使用环境复杂，在需要增加PC端的使用安全性时，通常不允许客户静默登录，这无疑增加了用户登录的操作步骤；并且现有技术中通常情况下小程序显示较为固定，在使用小程序进行PC登录时，小程序不能智能的与PC联动切换，用户体验不佳，如何兼顾用户登录便利性、保证用户登录安全性及提升用户的体验，是噬待解决的PC端用户登录问题。发明内容基于此，有必要针对上述问题，提出了一种基于小程序的登录方法。一种基于小程序的登录方法，所述方法包括：生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；若获取登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证所述小程序是否为静默登录，若是，则获取该小程序的登录授权码；同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录，且小程序由第一显示界面自动切换至第二显示界面。进一步地，所述发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录，且小程序由第一显示界面自动切换至第二显示界面之后，还包括：判断第一网络设备与第二网络设备的相对位置是否大于预设阈值，若大于所述预设阈值，且检测到第一网络设备在预设时间段内无操作，则将小程序向服务器发送界面切换请求，并根据所述服务器返回信息切换至第三界面。进一步地，所述判断第一网络设备与第二网络设备的相对位置是否大于预设阈值，包括：所述第二网络设备监测所述第一网络设备的无线信号；若监测到的所述第一网络设备无线信号强度低于预设值，则则判断所述第一网络设备与第二网络设备的相对位置大于预设阈值；和/或，检测所述第二网络设备的网络状态信息；若所述第二网络设备的网络由第一网络切换为第二网络，则判断所述第一网络设备与第二网络设备的相对位置大于预设阈值。进一步的，所述生成登录入口并将登录入口显示在第一网络设备的显示界面上的步骤包括：通过小程序端创建待通过的小程序码；当获取第一网络设备的显示界面打开的网页创建信号时，发送小程序码请求指令至宿主服务器，所述小程序请求指令包括待通过的小程序码及小程序登录态，所述小程序请求指令用于请求宿主服务器获取小程序码，所述宿主服务器为第二网络设备的宿主程序的供应服务器；若小程序请求指令通过，则发送小程序码至第一网络设备，并在第一网络设备的显示界面上生成登录入口，所述登录入口包括含有小程序码的二维码；或，若小程序请求指令通过，则生成登录入口，所述登录入口包括含有小程序码的二维码，发送登录入口至第一网络设备并在第一网络设备的显示界面上显示。进一步的，所述方法还包括：在所述第一网络设备的网页上生产登录入口，所述二维码关联不重复的senceID；检测是否有第二网络设备发送的登录请求信号，登录请求信号包括senceID及unionID，所述unionID为第二网络设备通过宿主程序扫描所述二维码时，所述小程序静默读取到的宿主程序的ID；若检测到所述登录请求信号，则验证所述unionID是否为静默登录,若是静默登录，则将所述senseID和所述unionID进行映射绑定；并基于所述senseID和所述unionID生成登录授权码，将所述登录授权码同时发送所述第一网络设备和所述第二网络设备。进一步的，所述小程序端静默读取当前宿主程序用户的unionID的步骤包括：小程序端通过 wx.login + code2Session 获取到该用户 UnionID，或，小程序端调用当前宿主程序用户的云函数，通过云函数的Cloud.getWXContext 获取 UnionID。进一步的，同一所述宿主程序的移动应用账号、网站应用账号及小程序账号具有相同的UnionID。一种基因小程序的登录装置，包括：显示模块，用于生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；登录请求模块，用于检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；调用模块，用于若获取到登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证模块，用于验证所述小程序是否为静默登录,若是，则获取该小程序的登录授权码；登录模块，用于同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录；小程序切换模块，用于在登录模块完成第一网络设备和第二网络设备的同时登录后，将小程序由基本版切换至简洁版。一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行以下步骤：生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；若获取登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证所述小程序是否为静默登录，若是，则获取该小程序的登录授权码；同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录，且小程序由基本版切换至简洁版。一种计算机可读存储介质，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行以下步骤：生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；若获取登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证所述小程序是否为静默登录，若是，则获取该小程序的登录授权码；同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录，且小程序由基本版切换至简洁版。本方案提供的基于小程序的登录方法，在需要登录的PC端的显示界面，如网站页面上显示含有小程序码的二维码登录入口，用户在打开网站时即可看到登录入口，用户通过其移动端扫描二维码登录入口，并发送登录请求信号至开发服务器，开发服务器获取登录请求信号时发送小程序调用信号至移动端，由于移动端是用小程序的宿主程序进行的扫描动作，因此，小程序的宿主程序在获得小程序调用信号时，可通过小程序调用信号调用小程序码对应的小程序，验证小程序的登录状态是否为静默登录，若是，则可获取小程序的登录授权码，若否，则可弹出登录授权的窗口，引导客户完成登录授权，由于开发者服务器在此步骤已获取登录授权码，因此，开发者服务器将登录授权码同时发送给PC端和移动端时，即可完成PC端和移动端的同时登录，不仅兼顾了PC端登录便利性和安全性，还可以在移动端扫描PC端的登录窗口时，通过小程序静默登录状态直接完成PC端和移动端的同时登录，极大提升了用户使用的便利性，且由于用户使用移动端的小程序进行登录，也兼顾了登录的安全性。进一步地，本申请通过对小程序设置多个版本，当用户通过第二网络设备扫描第一网络设备上的二维码，完成第一网络设备和第二网络设备的同时登录后，小程序可以智能进行自动显示切换及请求显示切换，以此可以减轻网络设备的负荷，节省网络设备的资源，使其可以更加流畅的运行其他应用；而当判断第一网络设备与第二网络设备的相对位置大于阈值，且第一网络设备在预设时间段内无操作时，则将小程序切换至复制版，以便用户能够继续浏览内容，极大地提高了用户体验。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。其中：图1为一个实施例中基于小程序的登录方法的应用环境图；图2为一个实施例中基于小程序的登录方法的流程图；图3为一个实施例中基于小程序的登录装置的结构框图；图4为一个实施例中计算机设备的结构框图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。图1为一个实施例基于小程序的登录方法应用环境图。参照图1，该基于小程序的登录方法方法应用于基于小程序的登录系统。本实施例解决的技术问题是：在PC端用户登录网站时，需要登录账号密码进行验证登录，现有方案中，PC端用户登录网站时，可记录用户在指定PC端的地址并在客户允许状态下，将已登录的用户信息设置为静默登录，即，用户在下次登录同一PC端的同一网站时，可自动登录。但是，PC端的使用环境复杂，在需要增加PC端的使用安全性时，通常不允许客户静默登录，这无疑增加了用户登录的复杂性，如何兼顾用户登录便利性和保证用户登录安全性，是噬待解决的PC端用户登录问题。一种基于小程序的登录方法，如图2所示，所述方法包括：生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；若获取登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证所述小程序是否为静默登录，若是，则获取该小程序的登录授权码；同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录，且小程序由第一界面直接自动切换为第二界面。具体的，所述第一网络设备为PC设备，所述PC设备通过显示屏的网页登录界面显示登录入口，所述第二网络设备为第二网络设备。本申请通过验证第二网络设备的小程序为静默登陆，以实现第一网络设备的便捷登录，使得用户能够在使用第二网络设备扫描登录二维码之后，进行无感登录，提高用户体验。并且，在完成第一网络设备和第二网络设备的同时登录之后，将小程序由基本版切换至简洁版。可以理解的是，当用户使用第二网络设备扫描第一网络设备上的二维码时，其目的是为了使用第二网络设备，在此基础上，若第一网络设备上的小程序仍然保持基本版，其会占用较多的第一网络设备的CPU资源以及当前网络资源，造成资源的浪费。本实施例中，通过将小程序由基本版切换至简洁版，以节约资源，避免不必要的资源浪费。具体地，小程序的基本版可以理解为一般情况下用户直接通过第二网络设备打开小程序所使用的版本，其包括有小程序为一般用户开发的完整功能，可以提供完整的服务。进一步地，小程序第一界面为基本版界面，第二界面为简洁版界面。小程序基本版可以包括用户基本信息、会员信息、会员续订、余额管理、余额充值等功能的版本，及包括相应的搜索功能，以满足用户的基本操作需求。而小程序的简洁版可以为包含用户基本信息、会员信息、会员续订、余额管理、余额充值等功能的版本，以便用户能够实现在第二网络设备上更加方便实现的操作，例如会员续订、余额充值等需要移动支付的操作。简洁版小程序可以不提供搜索功能以及完整内容的浏览，或者可以仅提供部分内容的浏览，例如：用户收藏、用户浏览历史或者热门内容等，以减少其所需要与服务器通讯的内容。本实施例通过将小程序设置有基本版以及简洁版，在用户直接通过第二网络设备打开小程序时可以调用基本版小程序，以便用户使用其基本完整功能；当通过第二网络设备扫描第一网络设备的登录二维码时，将小程序直接自动切换为简洁版，使得用户可以使用第一网络设备进行内容的浏览，并且通过第二网络设备进行会员管理，快捷充值续订，提高了用户的工作效率；并且减少了不必要的通信资源浪费，使得第二网络设备可以有更多的资源运行其他应用。具体的，所述第二网络设备的宿主程序包括：微信程序、支付宝程序、微博程序、QQ、百度程序。进一步的，所述发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录，且小程序切换至简洁版之后，还包括：判断第一网络设备与第二网络设备的相对位置是否大于阈值，若大于，且第一网络设备在预设时间段内无操作，则将小程序向服务器发送界面切换请求，并根据所述服务器返回信息切换至第三界面。具体地，所述第三界面为复制版。具体地，使用第二网络设备进行扫码登录时，该第二网络设备与第一网络设备处于较近的距离，通常处于同一个空间内。当用户扫码登录后，会使用第一网络设备进行内容的浏览。然而，在浏览的过程中，用户由于主观或者客观因素，需要离开当前空间时，其没有办法继续浏览第二网络设备上的内容。在本实施例中，在完成第一网络设备和第二网络设备的同时登录，且小程序切换至简洁版之后，对第一网络设备与第二网络设备的相对位置进行判断，当检测到二者相对位置超过一定阈值时，说明二者相距较远；并且，在预设时间段内用户未对第一网络设备进行操作，则说明用户已经原来第一网络设备且无需使用第一网络设备。此时，第二网络设备上的小程序由简洁版切换至复制版，其可以显示第一网络设备最后浏览的内容以及位置，以便用户可以通过第二网络设备对该内容进行继续浏览。可以理解的是，小程序的复制版可以为定制版本，当切换至该版本时，其可以向服务器发送一个复制请求，服务器接收到复制请求后，通过第一网络设备获取用户最后的浏览内容以及浏览位置，并将相关信息发送至小程序，使得小程序直接可以显示用户最后的浏览内容和位置，以便用户继续浏览该内容。通过对小程序版本的按需切换，既提高了资源利用率，又提高了用户体验。进一步的，所述判断第一网络设备与第二网络设备的相对位置是否大于阈值，包括：通过检测第一网络设备和/或第二网络设备的状态信息进行判定。在一个实施例中，可以通过所述第二网络设备监测所述第一网络设备的无线信号；若监测到的所述第一网络设备无线信号强度低于预设值，则则判断所述第一网络设备与第二网络设备的相对位置大于预设阈值。具体地，通过检测第一网络设备和第二网络设备的相对状态信息进行判定。第二网络设备在对第一网络设备上显示的二维码进行扫描时，向服务器同步请求第一网络设备的MAC地址以及其无线设备的MAC地址，该无线设备可以为蓝牙、无线网卡或其他可发射和接收无线信号的无线设备，在此不做具体限定，服务器接收到该请求后由第一网络设备获取相关信息，并返回至第二网络设备。第二网络设备接收到上述信息后，通过对应的无线设备对第一网络设备发射出的无线信号进行监测，当监测到第一网络设备发射出的无线信号信号强度低于第一阈值时，则可以确定第一网络设备和第二网络设备的相对位置距离较远。在本实施例中，当服务器请求第一网络设备的MAC地址以及其无线设备的MAC地址时，服务器会同时获取第一网络设备的无线设备是否开启，若未开启，则同步推送一条提示或者指令，用于提醒用户开启第一网络设备的无线设备，以便第二网络设备可以搜索到第一网络设备的无线设备发射出的无线信号。在另一个实施例中，可以检测所述第二网络设备的网络状态信息；若所述第二网络设备的网络由第一网络切换为第二网络，则判断所述第一网络设备与第二网络设备的相对位置大于预设阈值。具体地，第二网络设备通过检测其自身的状态信息以判断第一网络设备与第二网络设备的相对位置。第二网络设备在扫描第一网络设备显示的二维码时，所述登录的小程序记录下当前自身的第一网络信息。若第二网络设备通过无线网络接入，该网络信息可包括：无线网络的相关信息，例如，无线网络ssid、网络频带、IP地址、信号强度等信息；若第二网络设备通过蜂窝数据接入网络，该网络信息可包括：IP地址以及基站相关信息，其中基站相关信息包括位置区域、基站编号、基站信号强度、扇区号、小区号。在获取到第二网络设备的网络信息后，对其进行监测，若IP地址、基站编号、扇区号、小区号等信息发生变化，则说明第二网络设备发生了较大的位置变化，即变换为第二网络信息，此时小程序可以确定第一网络设备和第二网络设备的相对位置距离较远，结合用户对第一网络设备的操作情况，可以对小程序向服务器发送版本进行切换请求，服务器则获取第一网络设备当前正在显示的内容及当前浏览位置，复制所述显示内容及当前浏览位置发送给所述小程序，此时小程序切换为第三界面显示所述复制内容并展示当前浏览位置，以便用户继续在第二网络设备上浏览第一设备当前展示的内容。具体的，所述生成登录入口并将登录入口显示在第一网络设备的显示界面上的步骤包括：通过小程序端创建待通过的小程序码；当获取第一网络设备的显示界面打开的网页创建信号时，发送小程序码请求指令至宿主服务器，所述小程序请求指令包括待通过的小程序码及小程序登录态，所述小程序请求指令用于请求宿主服务器获取小程序码，所述宿主服务器为第二网络设备的宿主程序的供应服务器；若小程序请求指令通过，则发送小程序码至第一网络设备，并在第一网络设备的显示界面上生成登录入口，所述登录入口包括含有小程序码的二维码，所述二维码的有效期为5-15分钟；或，若小程序请求指令通过，则生成登录入口，所述登录入口包括含有小程序码的二维码，发送登录入口至第一网络设备并在第一网络设备的显示界面上显示，所述二维码的有效期为5-15分钟。进一步地，所述方法还包括：在所述第一网络设备的网页上生产登录入口，所述二维码关联不重复的senceID；检测是否有第二网络设备发送的登录请求信号，登录请求信号包括senceID及unionID，所述unionID为第二网络设备通过宿主程序扫描所述二维码时，所述小程序静默读取到的宿主程序的ID；若检测到所述登录请求信号，则验证所述unionID是否为静默登录,若是静默登录，则将所述senseID和所述unionID进行映射绑定；并基于所述senseID和所述unionID生成登录授权码，将所述登录授权码同时发送所述第一网络设备和所述第二网络设备。具体包括：在PC设备的网页上生产登录入口，将登录入口显示在PC设备的网页上，所述登录入口包括含有小程序码的二维码，在所述二维码内生成不重复的senceID，所述PC设备的网页持续与开发服务器交互并判断senceID是否映射出了用户；检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述二维码的触发信号，所述触发信号为宿主程序扫码并通过小程序端读取到senceID后产生的信号，同时小程序端静默读取当前宿主程序用户的unionID，登录请求信号包括senceID及unionID；若获取登录请求信号，发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序，小程序调用信号包括senceID及unionID；验证所述小程序是否为静默登录,包括：验证unionID在用户数据库中是否有唯一对应账号，若有唯一对应账号，则确认小程序为静默登录，若无唯一对应账号，则发送授权引导页面至PC设备的网页；若小程序是静默登录，则unionID满足对应合法唯一用户账号，更新senceID并映射出合法用户，获取该小程序的登录授权码；同时发送登录授权码至PC设备和第二网络设备，PC设备获取senceID状态更新信号，并根据更新后senceID对应的用户账号和登录Token，完成PC设备的登录，第二网络设备获取senceID状态更新信号，根据更新后senceID对应的用户账号和登录Token，完成第二网络设备的登录。具体的，所述小程序端静默读取当前宿主程序用户的unionID的步骤包括：小程序端通过 wx.login + code2Session 获取到该用户 UnionID，或，小程序端调用当前宿主程序用户的云函数，通过云函数的Cloud.getWXContext 获取 UnionID。具体的，同一所述宿主程序的移动应用账号、网站应用账号及小程序账号具有相同的UnionID。本方案提供的基于小程序的登录方法，在需要登录的PC端的显示界面，如网站页面上显示含有小程序码的二维码登录入口，用户在打开网站时即可看到登录入口，用户通过其移动端扫描二维码登录入口，并发送登录请求信号至开发服务器，开发服务器获取登录请求信号时发送小程序调用信号至移动端，由于移动端是用小程序的宿主程序进行的扫描动作，因此，小程序的宿主程序在获得小程序调用信号时，可通过小程序调用信号调用小程序码对应的小程序，验证小程序的登录状态是否为静默登录，若是，则可获取小程序的登录授权码，若否，则可弹出登录授权的窗口，引导客户完成登录授权，由于开发者服务器在此步骤已获取登录授权码，因此，开发者服务器将登录授权码同时发送给PC端和移动端时，即可完成PC端和移动端的同时登录，不仅兼顾了PC端登录便利性和安全性，还可以在移动端扫描PC端的登录窗口时，通过小程序静默登录状态直接完成PC端和移动端的同时登录，极大提升了用户使用的便利性，且由于用户使用移动端的小程序进行登录，也兼顾了登录的安全性。本实施例提供一种基因小程序的登录装置，如图3所示，包括：显示模块，用于生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；登录请求模块，用于检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；调用模块，用于若获取登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证模块，用于验证所述小程序是否为静默登录,若是，则获取该小程序的登录授权码；登录模块，用于同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录。在一个实施例中，提供了一种基因小程序的登录方法。该方法既可以应用于终端，也可以应用于服务器，本实施例以应用于终端举例说明。该基因小程序的登录方法具体包括如下步骤：生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；若获取登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证所述小程序是否为静默登录，若是，则获取该小程序的登录授权码；同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录。本方案提供的基于小程序的登录方法，在需要登录的PC端的显示界面，如网站页面上显示含有小程序码的二维码登录入口，用户在打开网站时即可看到登录入口，用户通过其移动端扫描二维码登录入口，并发送登录请求信号至开发服务器，开发服务器获取登录请求信号时发送小程序调用信号至移动端，由于移动端是用小程序的宿主程序进行的扫描动作，因此，小程序的宿主程序在获得小程序调用信号时，可通过小程序调用信号调用小程序码对应的小程序，验证小程序的登录状态是否为静默登录，若是，则可获取小程序的登录授权码，若否，则可弹出登录授权的窗口，引导客户完成登录授权，由于开发者服务器在此步骤已获取登录授权码，因此，开发者服务器将登录授权码同时发送给PC端和移动端时，即可完成PC端和移动端的同时登录，不仅兼顾了PC端登录便利性和安全性，还可以在移动端扫描PC端的登录窗口时，通过小程序静默登录状态直接完成PC端和移动端的同时登录，极大提升了用户使用的便利性，且由于用户使用移动端的小程序进行登录，也兼顾了登录的安全性。图4示出了一个实施例中计算机设备的内部结构图。该计算机设备具体可以是终端，也可以是服务器。如图4所示，该计算机设备包括通过系统总线连接的处理器、存储器和网络接口。其中，存储器包括非易失性存储介质和内存储器。该计算机设备的非易失性存储介质存储有操作系统，还可存储有计算机程序，该计算机程序被处理器执行时，可使得处理器实现基于小程序的登录方法。该内存储器中也可储存有计算机程序，该计算机程序被处理器执行时，可使得处理器执行基于小程序的登录方法。本领域技术人员可以理解，图4中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提出了一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行以下步骤：生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；若获取登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证所述小程序是否为静默登录，若是，则获取该小程序的登录授权码；同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录。在一个实施例中，提出了一种计算机可读存储介质，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行以下步骤：生成登录入口并将登录入口显示在第一网络设备的显示界面上，所述登录入口包括含有小程序码的二维码；检测是否有第二网络设备发送的登录请求信号，所述登录请求信号为第二网络设备通过宿主程序扫描所述登录入口的触发信号；若获取登录请求信号，则发送小程序调用信号至第二网络设备，第二网络设备通过小程序调用信号向宿主程序调用小程序码对应的小程序，所述宿主程序为小程序的宿主环境程序；验证所述小程序是否为静默登录，若是，则获取该小程序的登录授权码；同时发送登录授权码至第一网络设备和第二网络设备，完成第一网络设备和第二网络设备的同时登录。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一非易失性计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路 DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本申请专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
