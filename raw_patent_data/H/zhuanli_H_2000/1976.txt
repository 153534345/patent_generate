标题title
用于光伏并网断路器的漏电流保护方法及漏电流保护系统
摘要abst
本发明提供一种用于光伏并网断路器的漏电流保护方法及漏电流保护系统，其中，所述漏电流保护方法，包括以下具体步骤：在光伏并网断路器的开关处于合位时，计算瞬时漏电流；根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令；控制所述光伏并网断路器执行所述执行指令；其中，所述当前档位为所述漏电流动作档位组中的档位，以此实现了一种基于漏电流动作档位组生成执行指令，提高光伏并网断路器可靠性的漏电流保护技术方案。
权利要求书clms
1.一种用于光伏并网断路器的漏电流保护方法，其特征在于，包括以下具体步骤：在光伏并网断路器的开关处于合位时，计算瞬时漏电流；根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令；控制所述光伏并网断路器执行所述执行指令；其中，所述当前档位为所述漏电流动作档位组中的档位。2.根据权利要求1所述的漏电流保护方法，其特征在于，根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令，包括以下具体步骤：根据所述光伏并网断路器当前档位的档位值，获取预设的漏电流动作档位组中与所述档位值对应档位的上限值，得到动作值；匹配所述瞬时漏电流与所述动作值，得到第一匹配结果；根据所述第一匹配结果，生成执行指令。3.根据权利要求2所述的漏电流保护方法，其特征在于，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：当所述第一匹配结果为所述瞬时漏电流在第一预设时长内持续高于所述动作值时，生成跳闸指令，并将所述跳闸指令作为执行指令。4.根据权利要求2所述的漏电流保护方法，其特征在于，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：当所述第一匹配结果为所述瞬时漏电流未在第一预设时长内持续高于所述动作值时，根据所述瞬时漏电流，计算第一间隔时长内的漏电流均值；根据所述漏电流均值和所述预设的漏电流动作档位组，生成第一调档指令，并将所述第一调档指令作为执行指令。5.根据权利要求2所述的漏电流保护方法，其特征在于，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：获取所述光伏并网断路器的开关本次合位的持续时间，得到合位持续时间；当所述合位持续时间大于第二预设时长，且所述第一匹配结果为所述瞬时漏电流未在第一预设时长内持续高于所述动作值时，根据所述瞬时漏电流，计算第一间隔时长内的漏电流均值；根据所述漏电流均值和所述预设的漏电流动作档位组，生成第二调档指令，并将所述第二调档指令作为执行指令。6.根据权利要求3所述的漏电流保护方法，其特征在于，在控制所述光伏并网断路器执行所述执行指令后，还包括以下具体步骤：匹配所述档位值与所述漏电流动作档位组中最高档位的档位值，得到第二匹配结果；当所述第二匹配结果为所述档位值小于所述最高档位的档位值时，根据所述第一预设时长内的瞬时漏电流，计算所述第一预设时长内的最大剩余电流；根据所述最大剩余电流值、所述最高档位的动作值、所述漏电流动作档位组中各档的浮动值，更新所述档位值，生成第一重合闸指令；控制所述光伏并网断路器执行所述第一重合闸指令。7.根据权利要求3所述的漏电流保护方法，其特征在于，在控制所述光伏并网断路器执行所述执行指令后，还包括以下具体步骤：根据所述跳闸指令的上一次执行时间，计算跳闸间隔时间；当所述跳闸间隔时间大于预设时间间隔时，匹配所述档位值与所述漏电流动作档位组中最高档位的档位值，得到第三匹配结果；当所述第三匹配结果为所述档位值小于所述最高档位的档位值时，根据所述第一预设时长内的瞬时漏电流，计算所述第一预设时长内的最大剩余电流；根据所述最大剩余电流值、所述最高档位的动作值、所述漏电流动作档位组中各档的浮动值，更新所述档位值，生成第二重合闸指令；控制所述光伏并网断路器执行所述第二重合闸指令。8.根据权利要求1所述的漏电流保护方法，其特征在于，在所述漏电流动作档位组的每两个相邻的档位之间，低档位的动作值不小于高档位的返回值，低档位的动作值小于高档位的动作值，低档位的返回值小于高档位的返回值。9.根据权利要求1所述的漏电流保护方法，其特征在于，在根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令前，还包括以下具体步骤：获取所述瞬时漏电流对应的剩余电流向量值和电压向量；根据所述光伏并网断路器当前档位的档位值，获取预设的漏电流动作档位组中比当前档位低一档的档位的动作值，得到低档位动作值；根据所述剩余电流向量值、低档位动作值、所述剩余电流向量值与电压向量的夹角，确定第一调档指令；根据所述剩余电流向量值和所述光伏并网断路器当前档位的动作值，确定第二调档指令；根据所述第一调档指令和所述第二调档指令，调整所述光伏并网断路器的当前档位，得到新的所述光伏并网断路器当前档位的档位值。10.一种用于光伏并网断路器的漏电流保护系统，其特征在于，包括：计算模块，用于在光伏并网断路器的开关处于合位时，计算瞬时漏电流；执行指令生成模块，用于根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令；执行模块，用于控制所述光伏并网断路器执行所述执行指令；其中，所述当前档位为所述漏电流动作档位组中的档位。
说明书desc
技术领域本发明涉及电力系统自动化及保护控制领域，尤其涉及一种用于光伏并网断路器的漏电流保护方法及漏电流保护系统。背景技术目前，屋顶光伏等低压小容量光伏装机工程正越来越多的投入使用，配电网的电源结构从原来的单一电源辐射状向多电源辐射式发展，光伏的接入深刻地改变了配电网的电源结构，并且逆变器工作时的电流波形并不是标准的正弦波，这使得配电网传统的AC型漏电保护的性能受到了挑战。现有低压多采用AC型漏电保护器，检测到漏电流大于30mA时需在100ms内跳开。逆变器工作时电流不是标准的正弦波，常态工作时，会感应出一定量的漏电流，这会导致原有的漏电保护器误跳；且配电网结构由传统的单一电源变为了多电源结构，漏电流提供者从原来的主网电源变为现在的主网电源和光伏电源，且光伏侧漏电流有明显的弱馈特性，发生触电事故时，光伏侧漏保只有当主网侧漏保跳开后才能感受到故障，会导致光伏侧漏保晚跳，增加触电事故。因此，需找出一种尽可能可靠的适用于光伏并网断路器的漏电流保护实现方法，一方面能躲过逆变器工作时的常态工作电流，另一方面能在发生触电事故时尽快跳开，提升保护的速动性。发明内容为解决上述技术问题，本发明提供了一种用于光伏并网断路器的漏电流保护方法及漏电流保护系统，通过基于漏电流动作档位组生成执行指令，提高了光伏并网断路器的可靠性。本发明提供一种用于光伏并网断路器的漏电流保护方法，包括以下具体步骤：在光伏并网断路器的开关处于合位时，计算瞬时漏电流；根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令；控制所述光伏并网断路器执行所述执行指令；其中，所述当前档位为所述漏电流动作档位组中的档位。进一步地，根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令，包括以下具体步骤：根据所述光伏并网断路器当前档位的档位值，获取预设的漏电流动作档位组中与所述档位值对应档位的上限值，得到动作值；匹配所述瞬时漏电流与所述动作值，得到第一匹配结果；根据所述第一匹配结果，生成执行指令。进一步地，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：当所述第一匹配结果为所述瞬时漏电流在第一预设时长内持续高于所述动作值时，生成跳闸指令，并将所述跳闸指令作为执行指令。进一步地，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：当所述第一匹配结果为所述瞬时漏电流未在第一预设时长内持续高于所述动作值时，根据所述瞬时漏电流，计算第一间隔时长内的漏电流均值；根据所述漏电流均值和所述预设的漏电流动作档位组，生成第一调档指令，并将所述第一调档指令作为执行指令。进一步地，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：获取所述光伏并网断路器的开关本次合位的持续时间，得到合位持续时间；当所述合位持续时间大于第二预设时长，且所述第一匹配结果为所述瞬时漏电流未在第一预设时长内持续高于所述动作值时，根据所述瞬时漏电流，计算第一间隔时长内的漏电流均值；根据所述漏电流均值和所述预设的漏电流动作档位组，生成第二调档指令，并将所述第二调档指令作为执行指令。进一步地，在控制所述光伏并网断路器执行所述执行指令后，还包括以下具体步骤：匹配所述档位值与所述漏电流动作档位组中最高档位的档位值，得到第二匹配结果；当所述第二匹配结果为所述档位值小于所述最高档位的档位值时，根据所述第一预设时长内的瞬时漏电流，计算所述第一预设时长内的最大剩余电流；根据所述最大剩余电流值、所述最高档位的动作值、所述漏电流动作档位组中各档的浮动值，更新所述档位值，生成第一重合闸指令；控制所述光伏并网断路器执行所述第一重合闸指令。进一步地，在控制所述光伏并网断路器执行所述执行指令后，还包括以下具体步骤：根据所述跳闸指令的上一次执行时间，计算跳闸间隔时间；当所述跳闸间隔时间大于预设时间间隔时，匹配所述档位值与所述漏电流动作档位组中最高档位的档位值，得到第三匹配结果；当所述第三匹配结果为所述档位值小于所述最高档位的档位值时，根据所述第一预设时长内的瞬时漏电流，计算所述第一预设时长内的最大剩余电流；根据所述最大剩余电流值、所述最高档位的动作值、所述漏电流动作档位组中各档的浮动值，更新所述档位值，生成第二重合闸指令；控制所述光伏并网断路器执行所述第二重合闸指令。进一步地，在所述漏电流动作档位组的每两个相邻的档位之间，低档位的动作值不小于高档位的返回值，低档位的动作值小于高档位的动作值，低档位的返回值小于高档位的返回值。进一步地，在根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令前，还包括以下具体步骤：获取所述瞬时漏电流对应的剩余电流向量值和电压向量；根据所述光伏并网断路器当前档位的档位值，获取预设的漏电流动作档位组中比当前档位低一档的档位的动作值，得到低档位动作值；根据所述剩余电流向量值、低档位动作值、所述剩余电流向量值与电压向量的夹角，确定第一调档指令；根据所述剩余电流向量值和所述光伏并网断路器当前档位的动作值，确定第二调档指令；根据所述第一调档指令和所述第二调档指令，调整所述光伏并网断路器的当前档位，得到新的所述光伏并网断路器当前档位的档位值。本申请还提供一种用于光伏并网断路器的漏电流保护系统，包括：计算模块，用于在光伏并网断路器的开关处于合位时，计算瞬时漏电流；执行指令生成模块，用于根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令；执行模块，用于控制所述光伏并网断路器执行所述执行指令；其中，所述当前档位为所述漏电流动作档位组中的档位。本发明提供的技术方案至少具有以下有益效果：通过计算光伏并网断路器的开关处于合位时的瞬时漏电流，并基于瞬时漏电流、多个档位构成的漏电流动作档位组、光伏并网断路器当前档位的档位值进行相应的数据处理，可以根据实际工作情况灵活生成执行指令，提高了光伏并网断路器的可靠性。附图说明图1为本发明提供的一种用于光伏并网断路器的漏电流保护方法的流程图；图2为本发明提供的一种用于光伏并网断路器的漏电流保护系统的示意图。具体实施方式为了加深对本发明的理解，下面将结合附图和实施例对本发明做进一步详细描述，该实施例仅用于解释本发明，并不对本发明的保护范围构成限定。请参照图1，本发明提供一种用于光伏并网断路器的漏电流保护方法，包括以下具体步骤：S100：在光伏并网断路器的开关处于合位时，计算瞬时漏电流；S200：根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令；S300：控制所述光伏并网断路器执行所述执行指令；其中，所述当前档位为所述漏电流动作档位组中的档位。本实施例中，漏电流保护方法在光伏并网断路器中通过软件程序控制实现，无需对硬件改造，改造成本小。对于采用AC型漏电保护器的传统场景，需要用光伏并网断路器替换AC型漏电保护器后才可以实施本申请中的技术方案。本申请中的光伏并网断路器具有漏电保护功能，光伏并网断路器中的漏电流动作档位组是由多个漏电流动作档位组成的组合，每个漏电流动作档位均包括上限值和下限值。上限值用动作值表示，下限值用返回值表示。每个漏电流动作档位均对应一个档位值，用于表示光伏并网断路器的档位，档位值可以用整数表示，如：档位值为1表示光伏并网断路器的1档位，档位值为2表示光伏并网断路器的2档位，档位值为3表示光伏并网断路器的3档位，以此类推，进行相应档位值的设置。根据实际需要，本申请中的档位值也可以用字母或者其他符号表示。需要指出的是，本申请中的瞬时漏电流为动态值，不同时间计算得到的瞬时漏电流可能会因工作环境的不同而不同。本申请中的执行指令用于控制光伏并网断路器执行相应的操作，如跳闸、重合闸或者合闸状态的保持等。在一种具体的实施方式中，光伏并网断路器的当前档位为漏电流动作档位组中的某一档位，光伏并网断路器的开关处于合位状态，光伏并网断路器中有电流通过，通过实时计算瞬时漏电流，可以得到不同时间点的多个瞬时漏电流。此时，可以对计算得到的瞬时漏电流、漏电流动作档位组中设置的各个档位的上限值和下限值以及光伏并网断路器当前档位的档位值进行相应的数据处理，判断当前的瞬时漏电流是否符合安全标准，以此生成相应的如跳闸、调档或者状态保持等执行指令，光伏并网断路器根据执行指令进行跳闸、调档或者状态保持等操作。进一步地，根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令，包括以下具体步骤：S201：根据所述光伏并网断路器当前档位的档位值，获取预设的漏电流动作档位组中与所述档位值对应档位的上限值，得到动作值；S202：匹配所述瞬时漏电流与所述动作值，得到第一匹配结果；S203：根据所述第一匹配结果，生成执行指令。本实施例中，瞬时漏电流与当前档位的动作值进行匹配，匹配结果即第一匹配结果符合相应条件时生成对应的执行指令。比如：如果瞬时漏电流超过当前档位动作值时，生成断路器跳开的跳闸指令，光伏并网断路器根据跳闸指令执行相应的跳闸操作。在一种具体的实施方式中，假设光伏并网断路器的当前档位为3档，动作值为100mA，返回值为50mA。当计算得到的瞬时漏电流为150mA-160mA之间的值时，匹配到此时的瞬时漏电流大于3档100mA的动作值，生成跳闸指令，光伏并网断路器执行跳闸操作；当计算得到的瞬时漏电流为小于等于3档100mA的动作值时，不生成跳闸指令，进一步对瞬时漏电流进行分析，生成其他类型的执行指令。进一步地，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：当所述第一匹配结果为所述瞬时漏电流在第一预设时长内持续高于所述动作值时，生成跳闸指令，并将所述跳闸指令作为执行指令。本实施例中，第一预设时长可以理解为越线阈值时间。瞬时漏电流超过当前档位动作值且持续一定时间时，生成用于控制断路器跳开的跳闸指令，光伏并网断路器根据跳闸指令执行相应的跳闸操作。在一种具体的实施方式中，假设光伏并网断路器的当前档位为3档，动作值为100mA，返回值为50mA，越线阈值时间为30s。当计算得到的瞬时漏电流为150mA-160mA之间的值且持续达30s时，生成跳闸指令，光伏并网断路器执行跳闸操作进一步地，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：当所述第一匹配结果为所述瞬时漏电流未在第一预设时长内持续高于所述动作值时，根据所述瞬时漏电流，计算第一间隔时长内的漏电流均值；根据所述漏电流均值和所述预设的漏电流动作档位组，生成第一调档指令，并将所述第一调档指令作为执行指令。本实施例中，根据瞬时漏电流计算预设时间段内的漏电流均值，根据漏电流均值可以动态调整光伏并网断路器的档位值，以此动态调整当前档位的动作值，以便动态调整漏保的动作门槛。在一种具体的实施方式中，第一间隔时长设置为1分钟，光伏并网断路器的开关处于合位且瞬时漏电流未在第一预设时长内持续高于当前档位的动作值。此时，根据瞬时漏电流计算1分钟内的漏电流均值，获取预设的漏电流动作档位组中当前档位的返回值和动作值，同时获取预设的漏电流动作档位组中比当前档位低一档的返回值。如果漏电流均值大于当前档位的返回值且小于当前档位的动作值，且维持1分钟，则生成用于控制档位上浮一档的第一调档指令，第一调档指令作为执行指令，光伏并网断路器根据该执行指令将档位提升一档，依次类推，重新执行漏电流保护方法直至最高一档。如果漏电流均值小于比当前档位低一档的返回值，且维持1分钟，则生成用于控制档位下浮一档的第一调档指令，第一调档指令作为执行指令，光伏并网断路器根据该执行指令将档位下降一档，依次类推，重新执行漏电流保护方法直至最低一档。进一步地，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：获取所述光伏并网断路器的开关本次合位的持续时间，得到合位持续时间；当所述合位持续时间大于第二预设时长，且所述第一匹配结果为所述瞬时漏电流未在第一预设时长内持续高于所述动作值时，根据所述瞬时漏电流，计算第一间隔时长内的漏电流均值；根据所述漏电流均值和所述预设的漏电流动作档位组，生成第二调档指令，并将所述第二调档指令作为执行指令。本实施例中，通过获取光伏并网断路器的开关进入本次合位状态的持续时间，并在一定时间内保持档位不变，可以降低逆变器开机漏电流对漏电流均值计算的影响。在一种具体的实施方式中，第一预设时长设置为30s，第二预设时长设置为5分钟，第一间隔时长设置为1分钟。在光伏并网断路器合闸或者重合闸后，将档位固定保持5分钟，可以躲过逆变器开机时的瞬态漏电流，在此期间，档位不再变化。在光伏并网断路器的开关处于合位，合位持续时间大于5分钟，且瞬时漏电流未在30s内持续高于当前档位的动作值时，可以根据瞬时漏电流计算1分钟内的漏电流均值，获取预设的漏电流动作档位组中当前档位的返回值和动作值，同时获取预设的漏电流动作档位组中比当前档位低一档的返回值。如果漏电流均值大于当前档位的返回值且小于当前档位的动作值，且维持1分钟，则生成用于控制档位上浮一档的第二调档指令，第二调档指令作为执行指令，光伏并网断路器根据该执行指令将档位提升一档，依次类推，重新执行漏电流保护方法直至最高一档。如果漏电流均值小于比当前档位低一档的返回值，且维持1分钟，则生成用于控制档位下浮一档的第二调档指令，第二调档指令作为执行指令，光伏并网断路器根据该执行指令将档位下降一档，依次类推，重新执行漏电流保护方法直至最低一档。通过一段时间内的正常漏电流均值及漏电流动作档位组中返回值和动作值，动态调整漏电流门槛，可以躲过逆变器工作时的稳态漏电流。进一步地，在控制所述光伏并网断路器执行所述执行指令后，还包括以下具体步骤：匹配所述档位值与所述漏电流动作档位组中最高档位的档位值，得到第二匹配结果；当所述第二匹配结果为所述档位值小于所述最高档位的档位值时，根据所述第一预设时长内的瞬时漏电流，计算所述第一预设时长内的最大剩余电流；根据所述最大剩余电流值、所述最高档位的动作值、所述漏电流动作档位组中各档的浮动值，更新所述档位值，生成第一重合闸指令；控制所述光伏并网断路器执行所述第一重合闸指令。本实施例中，在光伏并网断路器执行跳闸指令后，通过匹配光伏并网断路器当前档位的档位值与漏电流动作档位组中最高档位的档位值，确定当前档位是否为最高档。若跳闸时的当前档位已至最高档，则报重合闸失败，不再重合闸。若光伏并网断路器当前档位的档位值小于最高档位的档位值，找出跳闸时第一预设时长内的最大剩余电流。漏电流动作档位组中各档的浮动值可以由各档位的动作值和返回值之差计算得到。当最大剩余电流大于某档的浮动值且小于该档的动作值时，可以将档位上浮至该档的上一档，以更新当前档位的档位值；当最大剩余电流大于最高档位的动作值时，可以将档位调整至最高档，以更新当前档位的档位值。更新档位值后，当前档位的动作值和返回值均同步更新为新档位的动作值和返回值，此时，便可以生成用于控制重新合闸的第一重合闸指令，以此控制光伏并网断路器进行重合闸操作。进一步地，在控制所述光伏并网断路器执行所述执行指令后，还包括以下具体步骤：根据所述跳闸指令的上一次执行时间，计算跳闸间隔时间；当所述跳闸间隔时间大于预设时间间隔时，匹配所述档位值与所述漏电流动作档位组中最高档位的档位值，得到第三匹配结果；当所述第三匹配结果为所述档位值小于所述最高档位的档位值时，根据所述第一预设时长内的瞬时漏电流，计算所述第一预设时长内的最大剩余电流；根据所述最大剩余电流值、所述最高档位的动作值、所述漏电流动作档位组中各档的浮动值，更新所述档位值，生成第二重合闸指令；控制所述光伏并网断路器执行所述第二重合闸指令。本实施例中，通过计算跳闸间隔时间，确定是否属于短时间内频繁跳闸，在确定为非频繁短时间内跳闸时，进行相应的重合闸处理，以此减少对光伏并网断路器等器件的损害。在一种具体的实施方式中，这里的预设时间间隔可以设置为5s。如果在重合闸5s开关再次跳开，则报重合闸失败，不再重合闸。在光伏并网断路器执行跳闸指令后，如果不是5s内再次跳闸的情况，则通过匹配光伏并网断路器当前档位的档位值与漏电流动作档位组中最高档位的档位值，确定当前档位是否为最高档。若跳闸时的当前档位已至最高档，则报重合闸失败，不再重合闸。若光伏并网断路器当前档位的档位值小于最高档位的档位值，找出跳闸时第一预设时长内的最大剩余电流。漏电流动作档位组中各档的浮动值可以由各档位的动作值和返回值之差计算得到。当最大剩余电流大于某档的浮动值且小于该档的动作值时，可以将档位上浮至该档的上一档，以更新当前档位的档位值；当最大剩余电流大于最高档位的动作值时，可以将档位调整至最高档，以更新当前档位的档位值。更新档位值后，当前档位的动作值和返回值均同步更新为新档位的动作值和返回值，此时，便可以生成用于重新合闸的第二重合闸指令，以此控制光伏并网断路器进行重合闸操作。进一步地，在所述漏电流动作档位组的每两个相邻的档位之间，低档位的动作值不小于高档位的返回值，低档位的动作值小于高档位的动作值，低档位的返回值小于高档位的返回值。本实施例中，漏电流动作档位组中的相邻预设档位之间不存在断点，各档位不连续可调。优选地，漏电流动作档位组中至少存在一对相邻的档位，其中低档位的动作值大于高档位的返回值。在一种具体的实施方式中，漏电流动作档位组包括n个漏电流动作档位，档位不连续可调，n为正整数。在n设置为7时，档位定值可以按照如下表1进行设置。表1：在表1中，档位表示对应的档位值，动作值表示对应档位的上限值，返回值表示对应档位的下限值，单位均为mA。进一步地，在根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令前，还包括以下具体步骤：获取所述瞬时漏电流对应的剩余电流向量值和电压向量；根据所述光伏并网断路器当前档位的档位值，获取预设的漏电流动作档位组中比当前档位低一档的档位的动作值，得到低档位动作值；根据所述剩余电流向量值、低档位动作值、所述剩余电流向量值与电压向量的夹角，确定第一调档指令；根据所述剩余电流向量值和所述光伏并网断路器当前档位的动作值，确定第二调档指令；根据所述第一调档指令和所述第二调档指令，调整所述光伏并网断路器的当前档位，得到新的所述光伏并网断路器当前档位的档位值。本实施例中，增加了方向元件，设置了漏电流灵敏I段和漏电流灵敏II段两段保护。通过带方向的漏电流灵敏I段，提高反方向发生故障时进行动作的灵敏度，缩短触电事故发生时的切除时间即跳闸时间；通过不带方向的漏电流灵敏II段，保证正向发生故障时的切除可靠性即跳闸可靠性。这里的方向元件可以理解为一个功能模块，通过软件程序配合相应算法实现。根据所述剩余电流向量值、低档位动作值、所述剩余电流向量值与电压向量的夹角，确定第一调档指令的步骤可以理解为通过漏电流灵敏I段生成一种调档指令的过程。根据所述剩余电流向量值和所述光伏并网断路器当前档位的动作值，确定第二调档指令的步骤可以理解为通过漏电流灵敏II段生成另一种调档指令的过程。在一种具体的实施方式中，假设光伏并网断路器发生正向漏保动作时为该断路器下游发生漏电事故，光伏并网断路器发生反向漏保动作时为该断路器上游发送漏电事故。这里的漏保动作可以理解为光伏并网断路器执行跳闸操作。在具体实施时，漏电流灵敏I段的动作判断逻辑公式如下：式中，表示检测到的剩余电流向量值；Iset-1表示比光伏并网断路器当前档位低一档的档位的动作值，即低档位动作值；T表示越限持续时间；Tset表示时间定值；θ表示漏保灵敏角，A相时可以取180度，B相时可以取60度，C相时可以取-60度；α表示角度阈值，可以取30度；/＞表示检测到的电压向量。时间定值Tset表示预设的时间阈值。在漏电流灵敏I段中，如果剩余电流向量值的绝对值大于低档位动作值Iset-1，越限持续时间T大于时间定值Tset，当检测到漏保电流与电压夹角落到动作角度灵敏区间后，漏保档位下降1档，以次提高了光伏并网断路器应对反向漏保故障时的灵敏度。在具体实施时，漏电流灵敏II段的动作判断逻辑公式如下：式中，表示检测到的剩余电流向量值；Iset表示当前漏保档位动作值，即光伏并网断路器当前档位的动作值；T表示越限持续时间；Tset表示时间定值。时间定值Tset表示预设的时间阈值。在漏电流灵敏II段中，不检测漏保电流方向，如果剩余电流向量值的绝对值大于光伏并网断路器当前档位的动作值Iset，且越限持续时间T大于时间定值Tset，则生成用于将光伏并网断路器的当前档位提升1档的第二调档指令，以此提高了光伏并网断路器应对正向漏保故障时的可靠度。请参照图2，本申请还提供一种用于光伏并网断路器的漏电流保护系统100，包括：计算模块11，用于在光伏并网断路器的开关处于合位时，计算瞬时漏电流；执行指令生成模块12，用于根据所述瞬时漏电流、预设的漏电流动作档位组、所述光伏并网断路器当前档位的档位值，生成执行指令；执行模块13，用于控制所述光伏并网断路器执行所述执行指令；其中，所述当前档位为所述漏电流动作档位组中的档位。进一步地，所述执行指令生成模块12具体用于：根据所述光伏并网断路器当前档位的档位值，获取预设的漏电流动作档位组中与所述档位值对应档位的上限值，得到动作值；匹配所述瞬时漏电流与所述动作值，得到第一匹配结果；根据所述第一匹配结果，生成执行指令。进一步地，所述执行指令生成模块12中，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：当所述第一匹配结果为所述瞬时漏电流在第一预设时长内持续高于所述动作值时，生成跳闸指令，并将所述跳闸指令作为执行指令。进一步地，所述执行指令生成模块12中，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：当所述第一匹配结果为所述瞬时漏电流未在第一预设时长内持续高于所述动作值时，根据所述瞬时漏电流，计算第一间隔时长内的漏电流均值；根据所述漏电流均值和所述预设的漏电流动作档位组，生成第一调档指令，并将所述第一调档指令作为执行指令。进一步地，所述执行指令生成模块12中，根据所述第一匹配结果，生成执行指令，包括以下具体步骤：获取所述光伏并网断路器的开关本次合位的持续时间，得到合位持续时间；当所述合位持续时间大于第二预设时长，且所述第一匹配结果为所述瞬时漏电流未在第一预设时长内持续高于所述动作值时，根据所述瞬时漏电流，计算第一间隔时长内的漏电流均值；根据所述漏电流均值和所述预设的漏电流动作档位组，生成第二调档指令，并将所述第二调档指令作为执行指令。进一步地，所述漏电流保护系统100还包括第一重合闸模块，用于在执行模块13运行后，执行以下具体步骤：匹配所述档位值与所述漏电流动作档位组中最高档位的档位值，得到第二匹配结果；当所述第二匹配结果为所述档位值小于所述最高档位的档位值时，根据所述第一预设时长内的瞬时漏电流，计算所述第一预设时长内的最大剩余电流；根据所述最大剩余电流值、所述最高档位的动作值、所述漏电流动作档位组中各档的浮动值，更新所述档位值，生成第一重合闸指令；控制所述光伏并网断路器执行所述第一重合闸指令。进一步地，所述漏电流保护系统100还包括第二重合闸模块，用于在执行模块13运行后，执行以下具体步骤：根据所述跳闸指令的上一次执行时间，计算跳闸间隔时间；当所述跳闸间隔时间大于预设时间间隔时，匹配所述档位值与所述漏电流动作档位组中最高档位的档位值，得到第三匹配结果；当所述第三匹配结果为所述档位值小于所述最高档位的档位值时，根据所述第一预设时长内的瞬时漏电流，计算所述第一预设时长内的最大剩余电流；根据所述最大剩余电流值、所述最高档位的动作值、所述漏电流动作档位组中各档的浮动值，更新所述档位值，生成第二重合闸指令；控制所述光伏并网断路器执行所述第二重合闸指令。进一步地，在所述执行指令生成模块12中，在所述漏电流动作档位组的每两个相邻的档位之间，低档位的动作值不小于高档位的返回值，低档位的动作值小于高档位的动作值，低档位的返回值小于高档位的返回值。进一步地，所述漏电流保护系统100还包括灵敏调整模块，用于在执行指令生成模块12运行前，执行以下具体步骤：获取所述瞬时漏电流对应的剩余电流向量值和电压向量；根据所述光伏并网断路器当前档位的档位值，获取预设的漏电流动作档位组中比当前档位低一档的档位的动作值，得到低档位动作值；根据所述剩余电流向量值、低档位动作值、所述剩余电流向量值与电压向量的夹角，确定第一调档指令；根据所述剩余电流向量值和所述光伏并网断路器当前档位的动作值，确定第二调档指令；根据所述第一调档指令和所述第二调档指令，调整所述光伏并网断路器的当前档位，得到新的所述光伏并网断路器当前档位的档位值。上述实施例不应以任何方式限制本发明，凡采用等同替换或等效转换的方式获得的技术方案均落在本发明的保护范围内。
