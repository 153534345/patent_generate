标题title
控制器局域网络检测系统、检测方法及制动系统
摘要abst
本发明揭示了一种控制器局域网络检测系统，包括：CAN总线；若干节点设备，每一所述节点设备分别包括第一接口组及第二接口组，每组第一接口组分别设有第一开关触点；若干节点设备相互串联地并接于所述CAN总线，且包括首位节点设备和末位节点设备；首位节点设备通过其第一接口组连接至CAN总线，末位节点设备通过其第二接口组连接至CAN总线，末位节点设备的第二接口组设有第二开关触点；中央控制器，配置为控制第一开关触点和第二开关触点的开合状态，根据CAN总线上节点反馈信号中的节电设备在线数量，确定故障线路；提高检测故障电路的效率；所有节点设备可投切至非故障线路，不影响正常通讯。
权利要求书clms
1.一种控制器局域网络检测系统，其特征在于，包括：CAN总线；若干节点设备，每一所述节点设备分别包括第一接口组及第二接口组，每组所述第一接口组分别设有第一开关触点；所述若干节点设备相互串联地并接于所述CAN总线，且包括首位节点设备和末位节点设备；所述首位节点设备通过其第一接口组连接至所述CAN总线，所述末位节点设备通过其第二接口组连接至所述CAN总线，所述末位节点设备的第二接口组设有第二开关触点；中央控制器，配置为控制所述第一开关触点和所述第二开关触点的开合状态，根据所述CAN总线上节点反馈信号中的节点设备在线数量，确定故障线路。2.根据权利要求1所述的控制器局域网络检测系统，其特征在于，所述节点设备包括高边通信端和低边通信端，所述第一接口组包括第一高边接口和第一低边接口，所述第二接口组包括第二高边接口和第二低边接口；所述高边通信端分别连接所述第一高边接口和所述第二高边接口，所述低边通信端分别连接所述第一低边接口和所述第二低边接口。3.根据权利要求1所述的控制器局域网络检测系统，其特征在于，所述节点设备包括设置于所述首位节点设备和所述末位节点设备之间且依次排列的若干中间节点设备；每个所述中间节点设备通过其第一接口组连接至前一中间节点设备的第二接口组，且通过其第二接口组连接至后一中间节点设备的第一接口组。4.根据权利要求1所述的控制器局域网络检测系统，其特征在于，所述第一开关触点为常闭触点，所述第二开关触点为常开触点；在第一状态时，所述第一开关触点和所述第二开关触点保持；在第二状态时，所述第二开关触点闭合，且第一开关触点至少部分打开。5.根据权利要求1所述的控制器局域网络检测系统，其特征在于，所述若干节点设备分别形成若干节点设备组，每一组节点设备组分别包括所述首位节点设备和所述末位节点设备；分属于同一节点设备组的若干节点设备靠近设置，且安装于同一电气控制柜中。6.根据权利要求1所述的控制器局域网络检测系统，其特征在于，所述中央控制器配置为：确定未接收到反馈信号的若干个掉线节点设备，控制对应于所述掉线节点设备的第一开关触点打开，控制所述末位节点设备的第二开关触点闭合，并通过所述末位节点设备的第二接口组，更新并根据来自所述掉线节点设备的节点反馈信号，确定故障线路。7.根据权利要求6所述的控制器局域网络检测系统，其特征在于，所述中央控制器配置为：控制对应所述末位节点设备的第一开关触点闭合，更新所述节点反馈信号，并在所述节点反馈信号指示位于所述末位节点设备之前的第一掉线节点设备上线时，判定所述第一掉线节点设备与所述末位节点设备间线路正常。8.根据权利要求7所述的控制器局域网络检测系统，其特征在于，所述中央控制器配置为：依次闭合对应于所述第一掉线节点设备的第一开关触点，以及位于所述第一掉线节点设备之前的其他掉线节点设备的第一开关触点，根据其他掉线节点设备上线与否，判断该其他掉线节点设备与所述第一掉线节点设备之间线路是否故障。9.根据权利要求6所述的控制器局域网络检测系统，其特征在于，所述中央控制器配置为：控制位于第二掉线节点设备之后的所有第一开关触点闭合，更新所述节点反馈信号，并在所述节点反馈信号指示所述第二掉线节点设备仍未上线时，判定该第二掉线节点设备与所述末位节点设备间线路故障。10.一种控制器局域网络检测方法，其特征在于，所述控制器局域网络检测方法搭载于权利要求1-5任一项所述的中央控制器中，包括以下步骤：S1：确定未接收到反馈信号的若干个掉线节点设备，并控制对应于所述掉线节点设备的所有第一开关触点打开，控制所述末位节点设备的第二开关触点闭合；S2：更新来自所述掉线节点设备的节点反馈信号，根据掉线节点设备响应情况，确定故障线路；11.根据权利要求10所述的控制器局域网络检测方法，其特征在于，所述方法具体包括：S11：控制对应于所述末位节点设备的第一开关触点闭合，保持对应于掉线节点设备的所有第一开关触点打开；S21：更新来自所述掉线节点设备的节点反馈信号，判断位于所述末位节点设备之前的第一掉线节点设备是否上线；若是，则跳转S22A：判定所述第一掉线节点设备与所述末位节点设备间线路正常；若否，则跳转S22B：判定所述第一掉线节点设备与所述末位节点设备间线路故障。12.根据权利要求11所述的控制器局域网络检测方法，其特征在于，在所述S22A或所述S22B之后，所述控制器局域网络检测方法还包括：S23：依次闭合对应于所述第一掉线节点设备的第一开关触点，以及位于所述第一掉线节点设备之前的其他掉线节点设备的第一开关触点，重复所述S21至所述S22B，判断该其他掉线节点设备与其后一掉线节点设备之间线路是否故障。13.根据权利要求10所述的控制器局域网络检测方法，其特征在于，所述S1具体包括：确定未接收到反馈信号的若干个掉线节点设备，控制对应于所述掉线节点设备的所有第一开关触点打开，控制所述末位节点设备的第二开关触点闭合，并控制对应于所述末位节点设备和所有掉线节点设备的第一开关触点由后向前依次闭合；或者，确定未接收到反馈信号的若干个掉线节点设备，控制所述末位节点设备的第二开关触点和第一开关触点闭合，并控制所有掉线节点设备的第一开关触点由前向后依次打开。14.一种制动系统，其特征在于，具有权利要求1-9任一所述的控制器局域网络检测系统。
说明书desc
技术领域本发明涉及制动系统技术领域，尤其涉及一种控制器局域网络检测系统、检测方法及一种制动系统。背景技术现有制动系统的CAN网络中：首末端的节点设备上设置终端电阻，相邻节点设备之间通过CAN总线通讯，而CAN总线的接线经过节点设备，从而导致当某一节点设备发生故障时，整个网络无法运行；常规方式中，若列车若出现了非节点故障的CAN总线通讯故障，直接利用CAN控制器自带的总线恢复逻辑复位，但该方式难以精确地对故障点进行判别。发明内容本发明的目的之一在于提供一种控制器局域网络检测系统，以解决现有技术中CAN通讯出现非节点故障时难以判别故障点的技术问题。本发明的目的之一在于提供一种控制器局域网络检测方法。本发明的目的之一在于提供一种制动系统。为实现上述发明目的之一，本发明一实施方式提供一种控制器局域网络检测系统，其包括：CAN总线；若干节点设备，每一所述节点设备分别包括第一接口组及第二接口组，每组所述第一接口组分别设有第一开关触点；所述若干节点设备相互串联地并接于所述CAN总线，且包括首位节点设备和末位节点设备；所述首位节点设备通过其第一接口组连接至所述CAN总线，所述末位节点设备通过其第二接口组连接至所述CAN总线，所述末位节点设备的第二接口组设有第二开关触点；中央控制器，配置为控制所述第一开关触点和所述第二开关触点的开合状态，根据所述CAN总线上节点反馈信号中的节点设备在线数量，确定故障线路。作为本发明一实施方式的进一步改进，所述节点设备包括高边通信端和低边通信端，所述第一接口组包括第一高边接口和第一低边接口，所述第二接口组包括第二高边接口和第二低边接口；所述高边通信端分别连接所述第一高边接口和所述第二高边接口，所述低边通信端分别连接所述第一低边接口和所述第二低边接口。作为本发明一实施方式的进一步改进，所述节点设备包括设置于所述首位节点设备和所述末位节点设备之间且依次排列的若干中间节点设备；每个所述中间节点设备通过其第一接口组连接至前一中间节点设备的第二接口组，且通过其第二接口组连接至后一中间节点设备的第一接口组。作为本发明一实施方式的进一步改进，所述第一开关触点为常闭触点，所述第二开关触点为常开触点；在第一状态时，所述第一开关触点和所述第二开关触点保持；在第二状态时，所述第二开关触点闭合，且第一开关触点至少部分打开。作为本发明一实施方式的进一步改进，所述若干节点设备分别形成若干节点设备组，每一组节点设备组分别包括所述首位节点设备和所述末位节点设备；分属于同一节点设备组的若干节点设备靠近设置，且安装于同一电气控制柜中。作为本发明一实施方式的进一步改进，所述中央控制器配置为：确定未接收到反馈信号的若干个掉线节点设备，控制对应于所述掉线节点设备的所有第一开关触点打开，控制所述末位节点设备的第二开关触点闭合，并通过所述末位节点设备的第二接口组，更新并根据来自所述掉线节点设备的节点反馈信号，确定故障线路。作为本发明一实施方式的进一步改进，所述中央控制器配置为：控制所述末位节点设备的第一开关触点闭合，更新所述节点反馈信号，并在所述节点反馈信号指示位于所述末位节点设备之前的第一掉线节点设备上线时，判定所述第一掉线节点设备与所述末位节点设备间线路正常。作为本发明一实施方式的进一步改进，所述中央控制器配置为：依次闭合所述第一掉线节点设备之前的其他掉线节点设备的第一开关触点，根据其他掉线节点设备上线与否，判断该其他掉线节点设备与所述第一掉线节点设备之间线路是否故障。作为本发明一实施方式的进一步改进，所述中央控制器配置为：控制位于所述末位节点设备之前的掉线节点设备的第一开关触点闭合，更新所述节点反馈信号，并在所述节点反馈信号指示该掉线节点设备仍未上线时，判定该掉线节点设备与所述末位节点设备间线路故障。为实现上述发明目的之一，本发明一实施方式提供一种控制器局域网络检测方法，所述控制器局域网络检测方法搭载于上述中央控制器中，包括以下步骤：S1：确定未接收到反馈信号的若干个掉线节点设备，并控制对应于所述掉线节点设备的所有第一开关触点打开，控制所述末位节点设备的第二开关触点闭合；S2：更新来自所述掉线节点设备的节点反馈信号，根据掉线节点设备响应情况，确定故障线路。作为本发明一实施方式的进一步改进，所述方法具体包括：S11：控制对应于所述末位节点设备的第一开关触点闭合，保持对应于掉线节点设备的所有第一开关触点打开；S21：更新来自所述掉线节点设备的节点反馈信号，判断位于所述末位节点设备之前的第一掉线节点设备是否上线；若是，则跳转S22A：判定所述第一掉线节点设备与所述末位节点设备间线路正常；若否，则跳转S22B：判定所述第一掉线节点设备与所述末位节点设备间线路故障。作为本发明一实施方式的进一步改进，在所述S22A或所述S22B之后，所述控制器局域网络检测方法还包括：S23：依次闭合对应于所述第一掉线节点设备的第一开关触点，以及位于所述第一掉线节点设备之前的其他掉线节点设备的第一开关触点，重复所述S21至所述S22B，判断该其他掉线节点设备与其后一掉线节点设备之间线路是否故障。作为本发明一实施方式的进一步改进，所述S1具体包括：确定未接收到反馈信号的若干个掉线节点设备，控制对应于所述掉线节点设备的所有第一开关触点打开，控制所述末位节点设备的第二开关触点闭合，并控制对应于所述末位节点设备和所有掉线节点设备的第一开关触点由后向前依次闭合；或者，确定未接收到反馈信号的若干个掉线节点设备，控制所述末位节点设备的第二开关触点和第一开关触点闭合，并控制所有掉线节点设备的第一开关触点由前向后依次打开。为实现上述发明目的之一，本发明一实施方式提供一种制动系统，具有上述任一实施方式所述的控制器局域网络检测系统。与现有技术相比，本发明提供了一种控制器局域网络，通过中央控制器控制第一开关触点和第二开关触点，使得节点设备依次投切至不同电路，直至检测出故障线路位置，提高检测故障电路的效率；并使得所有节点设备投切至非故障线路，在未检修故障线路的状态下不影响正常通讯。附图说明图1是本发明一实施方式中控制器局域网络检测系统的电路结构示意图。图2是本发明一实施方式中单个节点设备的电路结构示意图。图3是本发明一实施方式中末位节点设备的电路结构示意图。图4是本发明一实施方式中控制器局域网络检测系统的部分装置结构示意图。图5是本发明一实施方式中控制器局域网络检测方法的步骤流程图。图6是本发明一实施方式中控制器局域网络检测方法中具体判断方法的步骤流程图。具体实施方式以下将结合附图所示的具体实施方式对本发明进行详细描述。但这些实施方式并不限制本发明，本领域的普通技术人员根据这些实施方式所做出的结构、方法、或功能上的变换均包含在本发明的保护范围内。需要说明的是，术语“包括”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。此外，术语“第一”、“第二”、“第三”、“第四”等仅用于描述目的，而不能理解为指示或暗示相对重要性。请参见图1所示，为本发明所提供的一种控制器局域网络检测系统。控制器局域网络检测系统包括中央控制器、CAN总线、终端电阻R以及若干节点设备N。CAN总线包括CAN_H线路和CAN_L线路，终端电阻R连接在CAN总线的两端，若干节点设备N接入CAN总线以实现信号互通。优选地，参见图2-3所示，每一所述节点设备N分别包括第一接口组CAN-1及第二接口组CAN-2，每组所述第一接口组CAN-1分别设有第一开关触点K1；所述若干节点设备N相互串联地并接于所述CAN总线，且包括首位节点设备N1和末位节点设备Nn；所述首位节点设备N1通过其第一接口组CAN-1连接至所述CAN总线，所述末位节点设备Nn通过其第二接口组CAN-2连接至所述CAN总线，所述末位节点设备Nn的第二接口组CAN-2设有第二开关触点K2。可以理解地，上文描述及图2、图3示出的内容仅作为通用配置，结合到图1提供的实施例，相互串联地并接于CAN总线的若干节点设备N，可以是CAN总线上所接所有节点设备中的部分。例如，在图1示出的实施方式中，具有上述连接关系的节点设备形成第一节点设备组N1，其中包括第一首位节点设备N1a和第一末位节点设备N1c，分别作为该组的首位节点设备N1和末位节点设备Nn。对应地，第一首位节点设备N1a、第一末位节点设备N1c可以包括第一接口组can-1、第二接口组can-2，第一首位节点设备N1a可以对应包括第一开关触点K1a，第一末位节点设备N1c可以对应包括第二开关触点K2。优选地，中央控制器，配置为控制所述第一开关触点K1和所述第二开关触点K2的开合状态，根据所述CAN总线上节点反馈信号中的节点设备N在线数量，确定故障线路。所述中央控制器统一控制节点设备N的第一开关触点K1和第二开关触点K2的开合，还可以使得节点设备N投切至非故障线路，在未完成检修故障线路的情况下实现通讯正常。例如，若图1中的第一首位节点设备N1a与CAN总线之间的线路发生故障，可以通过控制第一首位节点设备的第一开关触点K1a断开，控制位于第一首位节点设备N1a之后的其他节点设备的第一开关触点K1闭合，且控制第一末位节点设备N1c的第二开关触点K2闭合，使第一节点设备组N1尝试恢复通信。继续如图2所示，优选地，所述节点设备N包括高边通信端H和低边通信端L，所述第一接口组CAN-1包括第一高边接口CAN_H-1和第一低边接口CAN_L-1，所述第二接口组CAN-2包括第二高边接口CAN_H-2和第二低边接口CAN_L-2；所述高边通信端H分别连接所述第一高边接口CAN_H-1和所述第二高边接口CAN_H-2，所述低边通信端L分别连接所述第一低边接口CAN_L-1和所述第二低边接口CAN_L-2。所述高边通信端H对应连接至所述CAN_H线路，所述低边通信端L对应连接至所述CAN_L线路。可以理解的，所述第一高边接口CAN_H-1和所述第二高边接口CAN_H-2也连接至所述CAN_H线路，所述第一低边接口CAN_L-1和所述第二低边接口CAN_L-2也连接至所述CAN_L线路。对应图1所示，较佳实施例中，第一首位节点设备N1a、第一中间节点设备N1b及第一末位节点设备N1c的第一端口组can-1均包括第一高边接口和第一低边接口；第一首位节点设备N1a、第一中间节点设备N1b及第一末位节点设备N1c的第二端口组can-2包括第二高边接口和第二低边接口。第一首位节点设备N1a包括连接至CAN_H线路的第一首位高边通信端H1a和连接至CAN_L线路的第一首位低边通信端L1a；同理，第一中间节点设备N1b具有相应的第一中间高边通信端H1b及第一中间低边通信端L1b，第一末位节点设备N1c具有相应的第一末位高边通信端H1c及第一末位低边通信端L1c。第一首位高边通信端H1a、第一中间高边通信端H1b及第一末位高边通信端H1c均包括第一高边接口和第二高边接口，第一首位低边通信端L1a、第一中间低边通信端L1b及第一末位低边通信端L1c包括第一低边接口和第二低边接口。具体地，参图1、图4所示，较佳实施例中，第一端口组can-1的第一高边接口和第二高边接口位于同一线缆，第二端口组can-2第一高边接口和第二高边接口位于同一线缆。优选地，所述节点设备N包括设置于所述首位节点设备N1和所述末位节点设备Nn之间且依次排列的若干中间节点设备；每个所述中间节点设备通过其第一接口组CAN-1连接至前一中间节点设备的第二接口组CAN-2，且通过其第二接口组CAN-2连接至后一中间节点设备的第一接口组CAN-1。结合图1所示，第一中间节点设备N1b可以通过其第一接口组can-1连接至相邻且位于其前方的第一首位节点设备N1a的第二接口组can-2处，第一中间节点设备N1b还可以通过其第二接口组can-2连接至相邻且位于其前方的第一末位节点设备N1c的第一接口组can-1处。继续如图2和图3所示，可以理解的是，节点设备N包括至少两个节点设备，分别为首位节点设备N1、末位节点设备Nn以及更多中间节点设备，“n”并非固定值，仅表示节点设备的编号。具体地，所述首位节点设备N1、所述中间节点设备以及所述末位节点设备Nn通过第一接口组CAN-1和第二接口组CAN-2彼此串联，且通过所述首位节点设备N1的第一接口组CAN-1连接CAN总线，通过末位节点设备Nn的第二接口组CAN-2连接CAN总线。如此，形成所述“相互串联且并接于所述CAN总线”的结构。优选地，所述第一开关触点K1为常闭触点，所述第二开关触点K2为常开触点；在第一状态时，所述第一开关触点K1和所述第二开关触点K2保持；在第二状态时，所述第二开关触点K2闭合，且第一开关触点K1至少部分打开。具体地，所述第一开关触点K1和第二开关触点K2分别连接有继电器C，由继电器C控制开关状态。优选地，继电器C受控于所述中央控制器。具体地，在第一状态时，可以是通讯正常时，中央控制器控制所有第一开关触点K1保持闭合，所述首位节点设备N1、所述中间节点设备以及所述末位节点设备Nn接入CAN总线进行信息互通。第二开关触点K2保持打开，末位节点设备Nn的第二接口组CAN-2与CAN总线为断连状态。如此，能够防止末位节点设备Nn通过两组接口组同时接入CAN总线，造成信号干扰。上述过程，可以定义为节点设备N以拟排列方向接入CAN总线。在第二状态时，可以是通讯故障时，中央控制器控制第二开关触点K2闭合，导通末位节点设备Nn的第二接口组CAN-2与CAN总线，同时，可以控制至少部分第一开关触点K1打开，保持部分第一开关触点K1闭合。如此可以使得与末位节点设备Nn相连且位于其后方所有第一开关触点K1均闭合的节点设备N以顺排列方向接入CAN总线。以图1示出的实施例为例，若第一首位节点设备N1a处出现故障，可以打开第一首位节点设备N1a的第一开关触点K1a，闭合第一末位节点设备N1c的第一开关触点K1c以及第二开关触点K2，使得第一中间节点设备N1b依次通过第一末位节点设备N1c的第一接口组can-1和第二接口组can-2，接入CAN总线。优选地，所述若干节点设备N分别形成若干节点设备组N0、N1、N2，每一组节点设备组N0、N1、N2分别包括所述首位节点设备N1和所述末位节点设备Nn；分属于同一节点设备组的若干节点设备靠近设置，且安装于同一电气控制柜中。所述一组节点设备N1安装距离较近，安装于同一电气控制柜中，方便实现统一连接，统一控制。结合图1及图4所示，一组节点设备组N1中，包括第一首位节点设备N1a、第一中间节点设备N1b以及第一末位节点设备N1c，且安装于同一电气控制柜内。较佳实施例中，第一中间节点设备N1b具有与第一首位节点设备N1a相同的结构，第一末位节点设备N1c与第一首位节点设备N1a的区别仅在于第一末位节点设备N1c的第二端口组can-2设有第二开关触点K2。具体地，第一首位节点设备N1a的第一组端口can-1连接CAN总线，第一首位节点设备N1a的第二组端口can-2连接第一中间节点设备N1b的第一组端口can-1，第一中间节点设备N1b的第二组端口can-1连接第一末位节点设备N1c的第一组端口can-1，第一末位节点设备N1c的第二组端口can-2连接CAN总线。通讯正常时，第一首位节点设备N1a、第一中间节点设备N1b以及第一末位节点设备N1c彼此导通并与CAN总线正常通讯，第一末位节点设备N1c的第二组端口can-2与CAN总线断连。优选地，所述中央控制器配置为：确定未接收到反馈信号的若干个掉线节点设备，控制对应于所述掉线节点设备的第一开关触点K1选择性打开，控制所述末位节点设备Nn的第二开关触点K1闭合，并通过所述末位节点设备Nn的第二接口组CAN-2，更新并根据来自所述掉线节点设备的节点反馈信号，确定故障线路。对应图1中，中央控制器未接受到第一中间节点设备N1b掉线和第一末位节点设备N1c的反馈信号，中央控制器确定第一中间节点设备N1b和第一末位节点设备N1c均为掉线节点设备，中央控制器控制第一中间节点设备N1b的的第一开关触点K1b和第一末位节点设备N1c的第一开关触点K1c选择性打开，控制第一末位节点设备N1c的第二开关触点K2闭合接入CAN总线，中央控制器可以更新来自第一中间节点设备N1b和第一末位节点设备N1c的反馈信号，从而确定故障线路。优选地，所述中央控制器配置为：控制对应所述末位节点设备Nn的第一开关触点闭合，更新所述节点反馈信号，并在所述节点反馈信号指示位于所述末位节点设备Nn之前的第一掉线节点设备上线时，判定所述第一掉线节点设备与所述末位节点设备Nn间线路正常。对应图1中，控制第一末位节点设备N1c的第一开关触点K1c闭合，所述第一中间节点设备N1b即对应所述末位节点设备之前的第一掉线节点设备，中央控制器接收到来自第一中间节点设备N1b的反馈信号，认为第一中间节点设备N1b上线，进而判断第一中间节点设备N1b与第一末位节点设备N1c间线路正常。优选地，所述中央控制器配置为：依次闭合对应于所述第一掉线节点设备的第一开关触点，以及位于所述第一掉线节点设备之前的其他掉线节点设备的第一开关触点，根据其他掉线节点设备上线与否，判断该其他掉线节点设备与所述第一掉线节点设备之间线路是否故障。对应图1中，所述中央控制器首先闭合第一末位节点设备N1c的第一开关触点K1c，在第一中间节点设备N1b上线时判定第一中间节点设备N1b与第一末位节点设备N1c之间线路正常，接着再闭合所述第一中间节点设备N1b的第一开关触点K1b，根据第一首位节点设备N1a的上线与否，判断第一首位节点设备N1a与第一中间节点设备N1b之间是否故障。当然，也可以继续闭合第一首位节点设备N1a的第一开关触点K1a，来判断第一首位节点设备N1a的第一接口组can-1与CAN总线之间是否存在线路故障。但可以理解地，该步骤并非必要，因为在仅闭合第一首位节点设备N1a的第一开关触点K1a而断开其他开关触点时，即可完成类似效果的测试。换言之，本发明的有益效果更体现与对节点设备之间线路是否故障的判断。其他实施例中，包括更多节点设备时或者掉线节点设备更多时，比如本实施例中，位于第一首位节点设备N1a之前更多的掉线节点设备，中央控制器便会依次往前控制掉线节点设备的第一开关触点闭合，根据掉线节点设备的上线情况，判断线路故障。所述中央控制器配置为：控制位于第二掉线节点设备之后的所有第一开关触点闭合，更新所述节点反馈信号，并在所述节点反馈信号指示所述第二掉线节点设备仍未上线时，判定所述第二掉线节点设备与所述末位节点设备间Nn线路故障。此处，第二掉线节点设备并不代表某一具体的节点设备。所述第二掉线节点设备与所述末位节点设备间线路故障，可以表征整条线路中至少有部分发生故障；在一种实施例中，发生故障的最有可能是位于所述第二掉线节点设备与所述末位节点设备间，且与第二掉线节点设备直接相连的线路。具体地，对应图1中，第一首位节点设备N1a的第一接口组can-1线路故障，导致第一首位节点设备N1a、第一中间节点设备N1b及第一末位节点设备N1c均掉线，中央控制器控制第一首位节点设备N1a之后的所有第一开关触点闭合，此时若第一首位节点设备N1a仍未上线，判断第一首位节点设备N1a至第一末位节点设备N1c之间存在线路故障；并且，在一种实施方式中，若第一末位节点设备N1c的第一开关触点K1c闭合且第一中间节点设备N1b能够完成正常通讯，则可以判定与第一首位节点设备N1a直接相连、位于第一首位节点设备N1a与第一中间节点设备N1b的线路故障。对应图1中，第一首位节点设备N1a的第一接口组can-1线路故障，但是在判断线路故障过程中，第一首位节点设备N1a的第一开关触点K1a保持打开，而第一中间节点设备N1b的第一开关触点K1b、第一末位节点设备N1c的第一开关触点K1c闭合且能够完成正常通讯。进而，所述第一首位节点设备N1a通过第二接口组can-2，连通第一中间节点设备N1b和第一末位节点设备N1c，进而接入CAN总线，所述一组节点设备通过投切电路，实现了正常通讯。本申请还公开了一种检测系统实际应用中的具体结构，结合图1和图4所示，一组节点设备N1包括第一首位节点设备N1a、第一中间节点设备N1b及第一末位节点设备N1c安装于同一电气控制柜中且通过第一线缆101相连，第一线缆101连接上述第一端口组can-1或第二端口组can-2，实现节点设备之间的串联。第一首位节点设备N1a及第一末位节点设备N1c通过第二线缆102连接至CAN总线，第二线缆102连接至CAN总线的一端为第二接头12。每一节点设备设有第一接头11，第一接头11集成每一节点设备的第一端口组can-1和第二端口组can-2，即，每个节点设备的第一端口组can-1和第二端口组can-2位于第一接头11内。每一节点设备内部集成了CAN接口A，继电器C，第一开关触点K1和/或第二开关触点K2。参图5所示，本申请还包括一种控制器局域网络检测方法，所述控制器局域网络检测方法搭载于所述的中央控制器中，包括以下步骤：S1：确定未接收到反馈信号的若干个掉线节点设备，并控制对应于所述掉线节点设备的第一开关触点K1选择性打开，控制所述末位节点设备的第二开关触点K2闭合。S2：更新来自所述掉线节点设备的节点反馈信号，根据掉线节点设备响应情况，确定故障线路。对应图1中，中央控制器未接受到第一中间节点设备N1b掉线和第一末位节点设备N1c的反馈信号，中央控制器确定第一中间节点设备N1b和第一末位节点设备N1c均为掉线节点设备，中央控制器控制第一中间节点设备N1b的的第一开关触点K1b和第一末位节点设备N1c的第一开关触点K1c选择性打开，控制第一末位节点设备N1c的第二开关触点K2闭合接入CAN总线，中央控制器可以更新来自第一中间节点设备N1b和第一末位节点设备N1c的反馈信号，从而确定故障线路。优选地，所述检测方法包括S11：控制对应于所述末位节点设备Nn的第一开关触点闭合K1，保持对应于掉线节点设备的所有第一开关触点K1打开。对应图1中，控制第一末位节点设备N1c的第一开关触点K1c闭合，保持第一中间节点设备N1b的的第一开关触点K1b打开。S21：更新来自所述掉线节点设备的节点反馈信号，判断位于所述末位节点设备Nn之前的第一掉线节点设备是否上线；若是，则跳转S22A：判定所述第一掉线节点设备与所述末位节点设备Nn间线路正常。对应图1中，所述第一掉线节点设备即为第一中间节点设备N1b，中央控制器接受到来自第一中间节点设备N1b的反馈信号，判断第一中间节点设备N1b与第一末位节点设备N1c间线路正常。若否，则跳转S22B：判定所述第一掉线节点设备与所述末位节点设备Nn间线路故障；对应图1中，中央控制器若仍未接受到来自第一中间节点设备N1b的反馈信号，判断第一中间节点设备N1b与第一末位节点设备N1c间线路故障。在所述S22A或所述S22B之后，所述控制器局域网络检测方法还包括：S23：依次闭合对应于所述第一掉线节点设备的第一开关触点K1，以及位于所述第一掉线节点设备之前的其他掉线节点设备的第一开关触点K1，重复所述S21至所述S22B，判断该其他掉线节点设备与其后一掉线节点设备之间线路是否故障。对应图1中，所述中央控制器首先闭合第一中间节点设备N1b的第一开关触点K1c，在第一首位节点设备N1a上线时，判定第一首位节点设备N1a与第一中间节点设备N1b之间线路正常，接着再闭合所述第一首位节点设备N1a的第一开关触点K1a，此处假设第一首位节点设备N1a之前还有更多其他掉线节点设备，根据更多其他掉线节点设备的上线与否，判断更多其他掉线节点设备与第一首位节点设备N1a之间是否故障。其他实施例中，包括更多节点设备时或者掉线节点设备更多时，比如本实施例中，位于第一首位节点设备N1a之前更多的掉线节点设备，中央控制器便会依次往前控制第一首位节点设备N1a及之后的掉线节点设备的第一开关触点K1闭合，根据掉线节点设备的上线情况，判断线路故障。此处，“其他掉线节点设备”并不代表某一具体的节点设备。所述“其他掉线节点设备”与所述末位节点设备间线路故障，可以表征整条线路中至少有部分发生故障；在一种实施例中，发生故障的最有可能是位于“其他掉线节点设备”与其后一掉线节点设备之间，且与“其他掉线节点设备”直接相连的线路。优选地，S1具体包括：确定未接收到反馈信号的若干个掉线节点设备，控制对应于所述掉线节点设备的所有第一开关触点K1打开，控制所述末位节点设备Nn的第二开关触点K2闭合，并控制对应于所述末位节点设备Nn和所有掉线节点设备的第一开关触点K1由后向前依次闭合；或者，确定未接收到反馈信号的若干个掉线节点设备，控制所述末位节点设备Nn的第二开关触点K2和第一开关触点K1闭合，并控制所有掉线节点设备的第一开关触点由前向后依次打开。具体第一实施方式中，中央控制器以周期为T的频率向各节点设备发出自检信号。节点设备N均连接正常，能够正常接收到中央控制器发出的自检信号，并做出正确反馈。当经过特定时间后，由于第一中间节点设备N1b线路故障，第一中间节点设备N1b、第一末位节点设备N1c无法接收中央控制器的自检信号,确定为掉线节点设备，控制第一中间节点设备N1b的第一开关触点K1b和第一末位节点设备N1c的第一开关触点K1c转为常开触点，断开原连接。第一首位节点设备N1a仍然在线，保持原状态。或者另一种实施方式，控制所述第一末位节点设备N1c的第二开关触点K2和第一开关触点K1c闭合，并控制第一中间节点设备N1b的第一开关触点K1b和第一末位节点设备N1c的第一开关触点K1c由前向后依次打开。接上述第一实施方式中，中央控制器在2T之内未收到第一中间节点设备N1b和第一末位节点设备N1c的反馈信号，会发出报警信号，提示操作人员CAN网络出现通讯故障。此时，作为并接的第一末位节点设备N1c的第二开关触点K2转为常闭触点，将其重新接入网络。第一末位节点设备N1c能够再次接收到中央控制器发出的自检信号，并正确反馈。中央控制器重新计算更够响应自检信号的节点设备数量，发现仍有连接丢失的节点，则触发第一末位节点设备N1c的第一开关触点K1c闭合，使其再次转为常闭触点。此时，第一中间节点设备N1b通过末位节点设备N1c的第一开关触点K1c也重新接入网络，能够再次接收到中央控制器发出的自检信号，并做出正确反馈。若，第一中间节点设备N1b，可以是更多的中间节点设备，未接入网络，可以判断第一中间节点设备N1b与末位节点设备N1c之间存在线路故障。闭合位于第一中间节点设备N1b之前的其他掉线设备的第一开关触点，根据更新的反馈信号，判断第一中间节点设备N1b与其他掉线设备是否线路故障。中央控制器再次重新计算能够响应自检信号的节点设备，发现所有节点都已能够正常反馈自检信号，说明通过线路切换，节点网络功能已恢复正常，则保持第一中间节点设备N1b的第一开关触点K1b为断开状态。此时线路故障点也已找到，即第一中间节点设备N1b与其前一位节点设备的接线回路故障，该信息可通过中央控制器与报警信息一同告知检修人员。所述故障点检修完成后，所述中央控制器实现复位功能，恢复故障检测之前的电路连接。同时报警信息消除。本申请还包括一种制动系统，具有上述的控制器局域网络检测系统且应用上述控制器局域网络检测方法。综上，本申请通过中央控制器控制第一开关触点K1、第二开关触点K2的开合状态，使得节点设备依次投切至不同电路，直至检测出故障线路位置,提高检测故障线路的效率；通过投切电路，使得在故障线路未检修状态下，也能实现节点设备通讯正常。应当理解，虽然本说明书按照实施方式加以描述，但并非每个实施方式仅包含一个独立的技术方案，说明书的这种叙述方式仅仅是为清楚起见，本领域技术人员应当将说明书作为一个整体，各实施方式中的技术方案也可以经适当组合，形成本领域技术人员可以理解的其他实施方式。上文所列出的一系列的详细说明仅仅是针对本发明的可行性实施方式的具体说明，它们并非用以限制本发明的保护范围，凡未脱离本发明技艺精神所作的等效实施方式或变更均应包含在本发明的保护范围之内。
