标题title
一种公共区域免布线广播方法及系统
摘要abst
本发明涉及无线通信技术领域，公开一种公共区域免布线广播方法及系统，该方法包括：广播发送侧获取欲发送的数据信息，并生成声波文件，将声波文件通过超声波通信方式发送至广播接收侧；广播接收侧接收声波文件，对声波文件进行分析，获取声波文件中的指令信息、配置信息和语音信息；根据配置信息，确定需要播放的目标功放设备，并将语音信息和指令信息发送至目标功放设备，促使目标功放设备根据指令信息广播播报语音信息。本发明减少或免除扬声器布线工作，降低了施工期的人工和材料成本，减少了调试和验证的时间。同时，因为避免了连线和分区，提供的广播内容传输方法为各扬声器可以同时播放不同内容提供了方案。
权利要求书clms
1.一种公共区域免布线广播方法，其特征在于，用于安装于公共区域的广播发送侧和广播接收侧；包括以下步骤：广播发送侧获取欲发送的数据信息，并生成声波文件，将所述声波文件通过超声波通信方式发送至广播接收侧，其中，所述声波文件包括指令信息、配置信息和语音信息；所述广播接收侧接收所述声波文件，并对所述声波文件进行分析，获取所述声波文件中的指令信息、配置信息和语音信息；所述广播接收侧根据所述配置信息，确定需要播放的目标功放设备，并将所述语音信息和所述指令信息发送至所述目标功放设备，促使所述目标功放设备根据所述指令信息广播播报所述语音信息。2.根据权利要求1所述的一种公共区域免布线广播方法，其特征在于，所述公共区域为城市轨道交通站，所述广播发送侧为设置于所述城市轨道交通站控制室的广播发送终端，所述广播接收侧为设置于城市轨道交通站内屏蔽门上方的超声波发生器和广播播放终端。3.根据权利要求2所述的一种公共区域免布线广播方法，其特征在于，所述超声波发生器和所述广播播放终端通过所述屏蔽门电路进行供电。4.根据权利要求1所述的一种公共区域免布线广播方法，其特征在于，广播发送侧获取欲发送的数据信息，并生成声波文件包括：广播发送侧获取欲发送的数据信息，对所述数据信息进行转换处理，得到预定大小的数据块；并将所述数据块进行编码转换，生成声波文件。5.根据权利要求1所述的一种公共区域免布线广播方法，其特征在于，所述超声波通信方式的频率为40KHz，每个频率之间的间隔为10Hz，且所述超声波通信方式为超声波依次传递方式。6.根据权利要求2所述的一种公共区域免布线广播方法，其特征在于，在所述广播接收侧根据所述配置信息，确定需要播放的目标功放设备时，广播播放终端根据所述配置信息在所述声波文件中获取对应的所述语音信息和所述指令信息，并控制自身的功放设备根据所述指令信息播放所述语音信息。7.根据权利要求1所述的一种公共区域免布线广播方法，其特征在于，还包括：在所述广播接收侧接收所述声波文件时，对所述声波文件进行数据校验，并在数据校验通过的情况下，存储所述声波文件；在数据校验不通过的情况下，获取相邻节点同频率的声波文件作为自身的声波文件。8.一种公共区域免布线广播系统，其特征在于，应用于城市轨道交通站，包括：广播发送终端，安装于所述城市轨道交通站控制室，用于获取欲发送的数据信息，生成声波文件，所述声波文件包括指令信息、配置信息和语音信息；超声波发生器，安装于城市轨道交通站内屏蔽门上方，用于通过超声波通信方式发送所述声波文件；广播播放终端，安装于城市轨道交通站内屏蔽门上方，用于接收侧接收所述声波文件，并对所述声波文件进行分析，获取所述声波文件中的指令信息、配置信息和语音信息；根据所述配置信息，确定需要播放的目标功放设备，并将所述语音信息和所述指令信息发送至所述目标功放设备，促使所述目标功放设备根据所述指令信息广播播报所述语音信息。
说明书desc
技术领域本发明涉及无线通信技术领域，特别涉及一种公共区域免布线广播方法及系统。背景技术广播系统作为城市轨道交通行车组织的必要手段，是保证安全运营的重要系统之一。主要作用体现在对乘客进行广播，通知列车到站、离站、线路换乘、首末班时间表、列车延误、站内情况、广告宣传等信息，或播放音乐改善候车环境以及应急情况下通知广播等。地铁车站站内广播扬声器在站内安装施工过程中，需要进行大量连接线布置，由于连接线较多会引发现场调试工作量较大，如单一扬声器播放存在问题除了需要检查扬声器本身问题外，还可能涉及到线路排查工作，调试，维护成本较高。而在运营期，地铁车站站内广播扬声器受限于功放分区数量，需将多个扬声器串行接入到同一分区内，同一分区内扬声器无法在同一时间内播放不同的内容，即无法实现定制化播放的需求，无法实现智能化自定义广播。早晚高峰人员疏解和引导必须使用人工指引，无法进一步实现无人化和少人化的智能引导。发明内容本发明提供了一种公共区域免布线广播方法及系统，以解决现有技术中的上述相关技术问题。根据本发明的第一方面，提供了一种公共区域免布线广播方法，用于安装于公共区域的广播发送侧和广播接收侧。其中，所述公共区域免布线广播方法，包括：广播发送侧获取欲发送的数据信息，并生成声波文件，将所述声波文件通过超声波通信方式发送至广播接收侧，其中，所述声波文件包括指令信息、配置信息和语音信息；所述广播接收侧接收所述声波文件，并对所述声波文件进行分析，获取所述声波文件中的指令信息、配置信息和语音信息；所述广播接收侧根据所述配置信息，确定需要播放的目标功放设备，并将所述语音信息和所述指令信息发送至所述目标功放设备，促使所述目标功放设备根据所述指令信息广播播报所述语音信息。其中，所述公共区域为城市轨道交通站，所述广播发送侧为设置于所述城市轨道交通站控制室的广播发送终端，所述广播接收侧为设置于城市轨道交通站内屏蔽门上方的超声波发生器和广播播放终端。其中，所述超声波发生器和所述广播播放终端通过所述屏蔽门电路进行供电。其中，广播发送侧获取欲发送的数据信息，并生成声波文件包括：广播发送侧获取欲发送的数据信息，对所述数据信息进行转换处理，得到预定大小的数据块；并将所述数据块进行编码转换，生成声波文件。其中，所述预定大小为128字节。其中，在对所述数据块进行编码转换时，以16个工作频率对应16个编码，并通过该16个工作频率以16进制方式进行编码。其中，所述超声波通信方式的频率为40KHz，每个频率之间的间隔为10Hz，且所述超声波通信方式为超声波依次传递方式。其中，在所述广播接收侧根据所述配置信息，确定需要播放的目标功放设备时，广播播放终端根据所述配置信息在所述声波文件中获取对应的所述语音信息和所述指令信息，并控制自身的功放设备根据所述指令信息播放所述语音信息。其中，所述公共区域免布线广播方法，还包括：在所述广播接收侧接收所述声波文件时，对所述声波文件进行数据校验，并在数据校验通过的情况下，存储所述声波文件；在数据校验不通过的情况下，获取相邻节点同频率的声波文件作为自身的声波文件。根据本发明实施例的第二方面，提供了一种公共区域免布线广播系统，用于城市轨道交通站。其中，所述公共区域免布线广播系统，包括：广播发送终端，安装于所述城市轨道交通站控制室，用于获取欲发送的数据信息，生成声波文件，所述声波文件包括指令信息、配置信息和语音信息；超声波发生器，安装于城市轨道交通站内屏蔽门上方，用于通过超声波通信方式发送所述声波文件；广播播放终端，安装于城市轨道交通站内屏蔽门上方，用于接收侧接收所述声波文件，并对所述声波文件进行分析，获取所述声波文件中的指令信息、配置信息和语音信息；根据所述配置信息，确定需要播放的目标功放设备，并将所述语音信息和所述指令信息发送至所述目标功放设备，促使所述目标功放设备根据所述指令信息广播播报所述语音信息。其中，所述超声波发生器和所述广播播放终端通过所述屏蔽门电路进行供电。其中，在广播发送终端获取欲发送的数据信息，生成声波文件时，对所述数据信息进行转换处理，得到预定大小的数据块；并将所述数据块进行编码转换，生成声波文件。其中，所述预定大小为128字节。其中，在对所述数据块进行编码转换时，以16个工作频率对应16个编码，并通过该16个工作频率以16进制方式进行编码。其中，所述超声波通信方式的频率为40KHz，每个频率之间的间隔为10Hz，且所述超声波通信方式为超声波依次传递方式。其中，在所述广播接收侧根据所述配置信息，确定需要播放的目标功放设备时，广播播放终端根据所述配置信息在所述声波文件中获取对应的所述语音信息和所述指令信息，并控制自身的功放设备根据所述指令信息播放所述语音信息。其中，在所述广播接收侧接收所述声波文件时，对所述声波文件进行数据校验，并在数据校验通过的情况下，存储所述声波文件；在数据校验不通过的情况下，获取相邻节点同频率的声波文件作为自身的声波文件。本发明提供的技术方案可以包括以下有益效果：本发明减少或免除扬声器布线工作，降低了施工期的人工和材料成本，减少了调试和验证的时间。同时，因为避免了连线和分区，提供的广播内容传输方法为各扬声器可以同时播放不同内容提供了方案，借此可以进一步实现站内智能化广播。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本发明。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本发明的实施例，并与说明书一起用于解释本发明的原理。图1是根据一示例性实施例示出的一种公共区域免布线广播方法的流程示意图；图2是根据一示例性实施例示出的一种公共区域免布线广播系统的结构示意图；图3是根据一示例性实施例示出的计算机设备的结构示意图。具体实施方式以下描述和附图充分地示出本文的具体实施方案，以使本领域的技术人员能够实践它们。一些实施方案的部分和特征可以被包括在或替换其他实施方案的部分和特征。本文的实施方案的范围包括权利要求书的整个范围，以及权利要求书的所有可获得的等同物。本文中，术语“第一”、“第二”等仅被用来将一个元素与另一个元素区分开来，而不要求或者暗示这些元素之间存在任何实际的关系或者顺序。实际上第一元素也能够被称为第二元素，反之亦然。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的结构、装置或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种结构、装置或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的结构、装置或者设备中还存在另外的相同要素。本文中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。本文中的术语“纵向”、“横向”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本文和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。在本文的描述中，除非另有规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是机械连接或电连接，也可以是两个元件内部的连通，可以是直接相连，也可以通过中间媒介间接相连，对于本领域的普通技术人员而言，可以根据具体情况理解上述术语的具体含义。本文中，除非另有说明，术语“多个”表示两个或两个以上。本文中，字符“/”表示前后对象是一种“或”的关系。例如，A/B表示：A或B。本文中，术语“和/或”是一种描述对象的关联关系，表示可以存在三种关系。例如，A和/或B，表示：A或B，或，A和B这三种关系。应该理解的是，虽然流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，图中的至少一部分步骤可以包括多个子步骤或者多个阶段，这些子步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些子步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤的子步骤或者阶段的至少一部分轮流或者交替地执行。本申请的装置或系统中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。在不冲突的情况下，本发明中的实施例及实施例中的特征可以相互组合。图1示出了本发明的一种公共区域免布线广播方法的一个实施例。在该可选实施例中，所述公共区域免布线广播方法用于安装于公共区域的广播发送侧和广播接收侧，包括：步骤S101，广播发送侧获取欲发送的数据信息，并生成声波文件，将所述声波文件通过超声波通信方式发送至广播接收侧，其中，所述声波文件包括指令信息、配置信息和语音信息；步骤S103，所述广播接收侧接收所述声波文件，并对所述声波文件进行分析，获取所述声波文件中的指令信息、配置信息和语音信息；步骤S105，所述广播接收侧根据所述配置信息，确定需要播放的目标功放设备，并将所述语音信息和所述指令信息发送至所述目标功放设备，促使所述目标功放设备根据所述指令信息广播播报所述语音信息。在该可选实施例中，在广播发送侧获取欲发送的数据信息，生成声波文件时，可对所述数据信息进行转换处理，得到预定大小的数据块；并将所述数据块进行编码转换，生成声波文件。具体的，可将所述数据信息分割成若干个128字节的数据块，在分割完成后，对每个数据块计算校验和，在校验和与数据信息大小一致后，将数据块进行16进制编码，以16个工作频率对应0-F共16个编码，并转化为对应频率的声波文件。而由于每个数据库均为128字节，且是通过16进制进行编码，进而在生成声波文件时，能够快速且高频率的得到声波文件。当然，在实际应用时，也可根据实际需求，采用其他声波生成方式来形成声波文件。只要实现将数据信息进行声波转换即可。在该可选实施例中，声波文件频率以超声波依次传递方式进行传输，而在传输时最低频率默认为40KHz，且每个频率间有固定间隔，间隔可配置，默认为10Hz，人耳可听范围20Hz-20KHz，因此，选择可听范围两倍的高频可避免不同频率切换时产生的噪声被人耳捕捉。此外，在该可选实施例中，由于广播播放终端有若干个，且分别设置在对应的屏蔽门节点上，而超声波发生器一般是一侧只设置一个，因此，在根据配置信息，发送语音信息时，操作具体如下：在所述广播接收侧根据所述配置信息，确定需要播放的目标功放设备时，广播播放终端根据所述配置信息在所述声波文件中获取对应的所述语音信息和所述指令信息，并控制自身的功放设备根据所述指令信息播放所述语音信息。在该可选实施例中，在所述广播接收侧接收所述声波文件时，对所述声波文件进行数据校验，并在数据校验通过的情况下，存储所述声波文件；在数据校验不通过的情况下，获取相邻节点同频率的声波文件作为自身的声波文件。图2示出了本发明的一种公共区域免布线广播系统的一个实施例。在该可选实施例中，所述公共区域免布线广播系统用于城市轨道交通站，包括：广播发送终端201，安装于所述城市轨道交通站控制室，用于获取欲发送的数据信息，生成声波文件；超声波发生器203，安装于城市轨道交通站内屏蔽门上方，用于通过超声波通信方式发送所述声波文件；广播播放终端205，安装于城市轨道交通站内屏蔽门上方，用于接收侧接收所述声波文件，并对所述声波文件进行分析，获取所述声波文件中的指令信息、配置信息和语音信息；根据所述配置信息，确定需要播放的目标功放设备，并将所述语音信息和所述指令信息发送至所述目标功放设备，促使所述目标功放设备根据所述指令信息广播播报所述语音信息。在该可选实施例中，所述超声波发生器203和所述广播播放终端205通过所述屏蔽门电路进行供电。而所述声波文件包括指令信息、配置信息和语音信息。而在广播发送终端201获取欲发送的数据信息，生成声波文件时，则可对所述数据信息进行转换处理，得到预定大小的数据块；并将所述数据块进行编码转换，生成声波文件。具体的，可将所述数据信息分割成若干个128字节的数据块，在分割完成后，对每个数据块计算校验和，在校验和与数据信息大小一致后，将数据块进行16进制编码，以16个工作频率对应0-F共16个编码，并转化为对应频率的声波文件。而由于每个数据库均为128字节，且是通过16进制进行编码，进而在生成声波文件时，能够快速且高频率的得到声波文件。当然，在实际应用时，也可根据实际需求，采用其他声波生成方式来形成声波文件。只要实现将数据信息进行声波转换即可。在该可选实施例中，声波文件频率以超声波依次传递方式进行传输，而在传输时最低频率默认为40KHz，且每个频率间有固定间隔，间隔可配置，默认为10Hz，人耳可听范围20Hz-20KHz，因此，选择可听范围两倍的高频可避免不同频率切换时产生的噪声被人耳捕捉。同样的，由于广播播放终端205有若干个，且分别设置在对应的屏蔽门节点上，而超声波发生器203一般是一侧只设置一个，因此，在根据配置信息，发送语音信息时，操作具体如下：在所述广播接收侧根据所述配置信息，确定需要播放的目标功放设备时，广播播放终端205根据所述配置信息在所述声波文件中获取对应的所述语音信息和所述指令信息，并控制自身的功放设备根据所述指令信息播放所述语音信息。在该可选实施例中，在广播播放终端205接收所述声波文件时，对所述声波文件进行数据校验，并在数据校验通过的情况下，存储所述声波文件；在数据校验不通过的情况下，获取相邻节点同频率的声波文件作为自身的声波文件。图3示出了本发明的一种计算机设备的一个实施例。该计算机设备可以是服务器，该计算机设备包括通过系统总线连接的处理器、存储器和网络接口。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统、计算机程序和数据库。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的数据库用于存储静态信息和动态信息数据。该计算机设备的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时以实现上述方法实施例中的步骤。本领域技术人员可以理解，图3中示出的结构，仅仅是与本发明方案相关的部分结构的框图，并不构成对本发明方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，还提供了一种计算机设备，包括存储器和处理器，存储器中存储有计算机程序，该处理器执行计算机程序时实现上述方法实施例中的步骤。在一个实施例中，提供了一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现上述方法实施例中的步骤。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本发明所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存或光存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器。作为说明而非局限，RAM可以是多种形式，比如静态随机存取存储器或动态随机存取存储器等。本发明并不局限于上面已经描述并在附图中示出的结构，并且可以在不脱离其范围进行各种修改和改变。本发明的范围仅由所附的权利要求来限制。
