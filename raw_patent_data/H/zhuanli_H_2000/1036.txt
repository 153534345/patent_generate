标题title
一种阵列传感器的测量方法
摘要abst
本发明公开了一种阵列传感器的测量方法，属于传感器测量技术领域，包括处理单元，所述的处理单元用于接收传感器阵列数据，对数据进行打包和融合，所述的传感器阵列数据与数据传输通道进行连接，数据传输通道通过控制时钟同步信号SYNC对传感器阵列上的数据进行获取和传输，数据传输通道通过对数据对齐，发送给处理单元；传感器阵列数据通过处理单元处理后，进行融合算法和校准算法，得到数据输出结果。发明通过数据融合算法提高测量数据的精度，降低了数据采集的后处理成本，通过数据校准算法，满足不同环境下的测量需求，提高了测量效率。
权利要求书clms
1.一种阵列传感器的测量方法，包括处理单元，其特征在于：所述的处理单元用于接收传感器阵列数据，对数据进行打包和融合，所述的传感器阵列数据与数据传输通道进行连接，数据传输通道通过控制时钟同步信号SYNC对传感器阵列上的数据进行获取和传输，数据传输通道通过对数据对齐，发送给处理单元；传感器阵列数据通过处理单元处理后，进行融合算法处理和校准算法数据修正处理后，得到数据输出结果。2.根据权利要求1所述的一种阵列传感器的测量方法，其特征在于：所述的数据传输通道用于控制传感器阵列测量的物理量的传输时刻，对当前时刻下的所有传感器测到的物理量的值实现同步发送。3.根据权利要求1所述的一种阵列传感器的测量方法，其特征在于：所述的处理单元对传感器阵列数据处理的步骤包括，通过数据传输通道获取阵列数据源，阵列数据源按数据传送格式进行数据打包，数据包的头部设置有阵列数据的个数信息，数据包的尾部包含校验值；对数据包的值进行滤波处理，对数据进行融合和校准，产生数据输出。4.根据权利要求1所述的一种阵列传感器的测量方法，其特征在于：所述的通过融合算法和校准算法得到输出结果的步骤包括，对数据包的值进行滤波初始化，对滤波后的数据进行下一时刻预测值计算并按时间节点更新预测值信息；获取下一时刻的实际测量值，对实际测量值进行正确性和有效性检查，确认无误后进行测量更新、相关矩阵更新；得到测量更新后，计算后验估计。5.根据权利要求4所述的一种阵列传感器的测量方法，其特征在于：所述的后验估计为融合算法的输出值，对融合算法的输出值输入到PSO算法中，PSO算法的种群中的个体，对融合算法输出值进行分组，经过混合优化算法，得到进化的个体，对进化的个体进行解码处理，解码后的数据应用适应度函数和评价机制，通过使用读函数和评价机制更新混合优化算法参数。6.根据权利要求4所述的一种阵列传感器的测量方法，其特征在于：所述的融合算法对传感器阵列测量的数据误差进行多维度补偿，包括温度补偿、数据方向矫正、正交矫正、零偏补偿。7.根据权利要求1所述的一种阵列传感器的测量方法，其特征在于：所述的传感器矩阵包括多个同类别传感器，传感器测量的物理量一致，通过设置传感器的型号改变测量精度，每个传感器支持外部触发，包括上升沿和下降沿触发，外部触发引号驱动传感器阵列发送测量的物理量数据。8.根据权利要求5所述的一种阵列传感器的测量方法，其特征在于：所述的PSO算法种群中的个体，在不同的环境条件下，设置不同的分组情况。
说明书desc
技术领域本发明涉及传感器测量技术领域，特别涉及一种阵列传感器的测量方法。背景技术传感器广泛应用在工业、航空航天、军事、消费电子等等诸多行业，其特点在于，可将所需的测量物理量信号，转换测量成所需的电信号，在高精密测量领域或超高精密测量领域，使用单个传感器的成本非常高，尤其是对于要综合成本和性能的需求的情况下，难以满足要求。现有技术下，为保证矩阵式传感器测量的实时性，即同一时刻测量得到不同传感器的物理量测量值，时间同步方法必须保证在同一时刻通知多个传感器，并同步接收多个传感器的测量数据，以保证测量数据的实时性。如公开号为CN113776708A的中国发明专利一种多传感器并联式力值测量方法，通过对输出力值进行选择，与单个力传感器测量范围进行匹配，利用测试压力机对单个力传感器进行施压，计算形变高度和受压力，计算传感器的系数，力传感器设置有四五六个，分布均匀，虽然该专利能够对多个进行并联测量，但是没有办法保证数据的同步和准确。发明内容针对上述技术问题，本发明公开了一种阵列传感器的测量方法，包括处理单元，所述的处理单元用于接收传感器阵列数据，对数据进行打包和融合，所述的传感器阵列数据与数据传输通道进行连接，数据传输通道通过控制时钟同步信号SYNC对传感器阵列上的数据进行获取和传输，数据传输通道通过对数据对齐，发送给处理单元；传感器阵列数据通过处理单元处理后，进行融合算法处理和校准算法数据修正处理后，得到数据输出结果。进一步的，所述的数据传输通道用于控制传感器阵列测量的物理量的传输时刻，对当前时刻下的所有传感器测到的物理量的值实现同步发送。进一步的，所述的处理单元对传感器阵列数据处理的步骤包括，通过数据传输通道获取阵列数据源，阵列数据源按数据传送格式进行数据打包，数据包的头部设置有阵列数据的个数信息，数据包的尾部包含校验值；对数据包的值进行滤波处理，对数据进行融合和校准，产生数据输出。进一步的，所述的通过融合算法和校准算法得到输出结果的步骤包括，对数据包的值进行滤波初始化，对滤波后的数据进行下一时刻预测值计算并按时间节点更新预测值信息；获取下一时刻的实际测量值，对实际测量值进行正确性和有效性检查，确认无误后进行测量更新、相关矩阵更新；得到测量更新后，计算后验估计。进一步的，所述的后验估计为融合算法的输出值，对融合算法的出数值输入到PSO算法中，PSO算法的种群中的个体，对融合算法输出值进行分组，经过混合优化算法，得到进化的个体，对进化的个体进行解码处理，解码后的数据应用适应度函数和评价机制，通过使用读函数和评价机制更新混合优化算法参数。进一步的，所述的融合算法对传感器阵列测量的数据误差进行多维度补偿，包括温度补偿、数据方向矫正、正交矫正、零偏补偿。进一步的，所述的传感器矩阵包括多个同类别传感器，传感器测量的物理量一致，通过设置传感器的型号改变测量精度，每个传感器支持外部触发，包括上升沿和下降沿触发，外部触发引号驱动传感器阵列发送测量的物理量数据。进一步的，所述的PSO算法种群中的个体，在不同的环境条件下，设置不同的分组情况。本发明与现有技术相比的有益效果是：本发明通过设置数据传输通道和控制时钟信号对传感器阵列采集的数据进行对齐发送，保证测量数据的实时性；本发明通过数据融合算法提高测量数据的精度，降低了数据采集的后处理成本，通过数据校准算法，满足不同环境下的测量需求，提高了测量效率。附图说明图1为本发明传感器阵列传输数据的示例性框图。图2为本发明处理单元对数据处理的一个示例性步骤。图3为本发明进行融合算法的一个示例性流程图。图4为本发明采用粒子群优化算法的示例性框图。具体实施方式实施例：如图1所示的为传感器阵列将采集到的数据传输给处理单元的示例性框图，其中处理单元具有浮点处理单元FPU、随机存储器RAM空间大于128K Bytes、程序存储ROM空间大于256K Bytes的微控制器MCU或者FPGA/SOC等芯片，处理单元用于接收传感器阵列数据，对数据进行打包和融合，传感器阵列数据与数据传输通道进行连接，数据传输通道通过控制时钟同步信号SYNC对传感器阵列上的数据进行获取和传输，数据传输通道通过对数据对齐，发送给处理单元；一种实施方式是利用处理单元芯片所带有的DMA作为数据传输通道，对数据进行传输。数据传输通道用于控制传感器阵列测量的物理量的传输时刻，对当前时刻下的所有传感器测到的物理量的值实现同步发送。处理单元对传感器阵列数据处理的步骤包括，通过数据传输通道获取阵列数据源，阵列数据源按数据传送格式进行数据打包，数据包的头部设置有阵列数据的个数信息，数据包的尾部包含校验值；对数据包的值进行滤波处理，进行融合算法处理和校准算法数据修正处理后，得到数据输出结果。以下进行一个示例性说明：处理单元初始化，并开启定时器，当PPS信号上升沿产生时，处理单元读取定时器计数值，产生时刻记为T0，并发送SYNC信号，传感器在收到SYNC信号后，即进入中断处理程序，传感器在其中断处理程序中输出测量的数据，处理单元接收传感器阵列的数据，并读取定时器计数值，接收数据时刻，记为T1,ΔT = T1-T0,即为与PPS产生时刻的时间差，ΔT用作算法的时间同步。传感器阵列数据通过处理单元处理后，进行融合算法和校准算法，得到数据输出结果；本实施例中采用PSO粒子群优化算法进行融合和校准，通过融合算法和校准算法得到输出结果的步骤包括，对数据包的值进行滤波初始化，对滤波后的数据进行下一时刻预测值计算并按时间节点更新预测值信息；获取下一时刻的实际测量值，对实际测量值进行正确性和有效性检查，确认无误后进行测量更新、相关矩阵更新；得到测量更新后，计算后验估计。后验估计为融合算法的输出值，对测量更新后的传感器数据输入到PSO算法中，融合算法的输出值为POS算法的种群中的个体，对融合算法输出值进行分组，经过混合优化算法，得到进化的个体，对进化的个体进行解码处理，解码后的数据应用适应度函数和评价机制，通过使用读函数和评价机制更新混合优化算法参数。经过多轮迭代后，校准算法将输出最优解，即校准后的数据输出。PSO算法种群中的个体，在不同的环境条件下，设置不同的分组情况。融合算法对传感器阵列测量的数据误差进行多维度补偿，包括温度补偿、数据方向矫正、正交矫正、零偏补偿。传感器矩阵包括多个同类别传感器，传感器测量的物理量一致，通过设置传感器的型号改变测量精度，每个传感器支持外部触发，包括上升沿和下降沿触发，外部触发引号驱动传感器阵列发送测量的物理量数据。
