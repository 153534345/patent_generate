标题title
数模转换器校准方法、装置和显示设备
摘要abst
本发明涉及电数字数据处理技术领域，本发明实施例公开了一种数模转换器校准方法、装置和显示设备，其中所述方法包括：向待校准DAC输入第一类型校准序列；将所述待校准DAC输出的模拟信号转换为第一数字信号；根据所述第一类型校准序列的各个数值和所述第一数字信号的各个数值之间的第一差值得到静态误差；向所述待校准DAC输入第二类型校准序列；将所述待校准DAC输出的模拟信号转换为第二数字信号；根据所述第二类型校准序列的各个数值、所述第二数字信号的各个数值以及对应的所述静态误差之间的第二差值得到动态误差，使DAC得到准确的模拟输出值，解决了DAC模拟输出精度不高的问题，满足了高精度数模转换应用场景的需求。
权利要求书clms
1.一种数模转换器校准方法，其特征在于，包括：向待校准DAC输入第一类型校准序列，所述第一类型校准序列的相邻两个数值之间的差值小于预定阈值；将所述待校准DAC输出的模拟信号转换为第一数字信号；根据所述第一类型校准序列的各个数值和所述第一数字信号的各个数值之间的第一差值得到静态误差；向所述待校准DAC输入第二类型校准序列，所述第二类型校准序列的相邻两个数值之间的差值不断变化；将所述待校准DAC输出的模拟信号转换为第二数字信号；根据所述第二类型校准序列的各个数值、所述第二数字信号的各个数值以及对应的所述静态误差之间的第二差值得到动态误差。2.根据权利要求1所述的方法，其特征在于，所述第一类型校准序列包括所述待校准DAC的输入量程范围内的最小值到最大值的递增序列；或者所述第一类型校准序列包括所述待校准DAC的输入量程范围内的最大值到最小值的递减序列。3.根据权利要求2所述的方法，其特征在于，所述递增序列为等步长递增序列，所述步长小于或等于所述预定阈值；或者所述递减序列为等步长递减序列，所述步长小于或等于所述预定阈值。4.根据权利要求1所述的方法，其特征在于，在根据所述第一类型校准序列的各个数值和所述第一数字信号的各个数值之间的第一差值得到静态误差之后，还包括：向所述待校准DAC输入第一调整序列，所述第一调整序列为所述第一类型校准序列中的各个数值与对应的所述静态误差的叠加值；将所述待校准DAC的输出转换为第三数字信号；获取所述第一调整序列的各个数值与所述第三数字信号的各个数值之间的第三差值；当存在超过预期范围的第三差值时，将所述第三差值叠加至对应的所述静态误差以更新所述静态误差，并重复所述向所述待校准DAC输入第一调整序列，至所述获取所述第一调整序列的各个数值与所述第三数字信号的各个数值之间的第三差值的步骤，直至所述待校准DAC的所有输入值所得到的第三差值都在所述预期范围内，以得到静态误差表。5.根据权利要求2所述的方法，其特征在于，所述第二类型校准序列的相邻两个数值之间的差值覆盖所述待校准DAC的输入量程范围的最大值的负值至所述待校准DAC的输入量程范围的最大值之间的所有数值。6.根据权利要求5所述的方法，其特征在于，所述第二类型校准序列包括第一子校准序列和第二子校准序列，其中，所述第一子校准序列包括所述待校准DAC的输入量程范围内的最小值与所述递增序列或所述递减序列中的各个数值交替的序列；所述第二子校准序列包括所述待校准DAC的输入量程范围内的最大值与所述递增序列或所述递减序列中的各个数值交替的序列。7.根据权利要求1-6中任一项所述的方法，其特征在于，在根据所述第二类型校准序列的各个数值、所述第二数字信号的各个数值以及对应的所述静态误差之间的第二差值得到动态误差之后，还包括：生成伪随机数序列；获取所述伪随机数序列的各个数值对应的所述静态误差和所述动态误差；向所述待校准DAC输入第二调整序列，所述第二调整序列为所述伪随机数序列的各个数值与对应的所述静态误差和所述动态误差的叠加值；将所述待校准DAC的输出转换为第四数字信号；获取所述第二调整序列的各个数值与所述第四数字信号的各个数值之间的第四差值；当存在超过预期范围的第四差值时，获取所述第四差值与对应的所述静态误差之间的第五差值，并以所述第五差值与对应的所述动态误差的平均值更新所述动态误差，并重复所述生成伪随机数序列，至所述获取所述第二调整序列的各个数值与所述第四数字信号的各个数值之间的第四差值的步骤，直至所述待校准DAC的所有输入值所得到的第四差值都在所述预期范围内，以得到动态误差表。8.一种数模转换器校准装置，其特征在于，包括：控制器，与至少一个待校准DAC的输入端连接，用于向至少一个所述待校准DAC输入第一类型校准序列和第二类型校准序列，所述第一类型校准序列的相邻两个数值之间的差值小于预定阈值，所述第二类型校准序列的相邻两个数值之间的差值不断变化；ADC，与至少一个所述待校准DAC的输出端连接，用于将所述待校准DAC对应于所述第一类型校准序列输出的模拟信号转换为第一数字信号，将所述待校准DAC对应于所述第二类型校准序列输出的模拟信号转换为第二数字信号，并将所述第一数字信号和所述第二数字信号发送至所述控制器；所述控制器还用于根据所述第一类型校准序列的各个数值和所述第一数字信号的各个数值之间的第一差值得到对应的所述待校准DAC的静态误差，并且根据所述第二类型校准序列的各个数值、所述第二数字信号的各个数值以及对应的所述静态误差之间的第二差值得到对应的所述待校准DAC的动态误差。9.根据权利要求8所述的数模转换器校准装置，其特征在于，所述待校准DAC为多个，所述数模转换器校准装置还包括：多路选择器，所述多路选择器的输入端分别与各个所述待校准DAC的输出端连接，所述多路选择器的输出端与所述ADC的输入端连接；所述控制器还用于分别向各个所述待校准DAC输入第一类型校准序列和第二类型校准序列，并控制所述多路选择器按预定顺序选择各个所述待校准DAC向所述ADC输出。10.一种显示设备，其特征在于，包括：像素阵列，所述像素阵列被划分为至少一个像素子阵列；至少一个DAC，各个所述DAC与各个所述像素子阵列一一对应，用于接收数字信号并转换为模拟信号输出至对应的所述像素子阵列；根据权利要求8或9所述的数模转换器校准装置，用于对各个所述DAC输出的所述模拟信号进行校准。
说明书desc
技术领域本发明涉及电数字数据处理技术领域，具体涉及一种数模转换器校准方法、装置和显示设备。背景技术在诸如微显示设备等显示设备中，需要使用数模转换器对像素数据逐个进行处理，将像素数据转换为模拟信号，然后输出给像素阵列，从而在显示设备的显示屏上显示出期望的图像。对于分辨率较高的微显示设备，受制于视频接口带宽，往往会将像素阵列分为两块甚至更多块，各块像素阵列用单独的DAC来做像素数据的数模转换。理想的DAC是一个线性系统，输出的模拟信号与数字信号线性对应，但实际的DAC是一个非线性系统，由于系统设计、工艺偏差、温度和噪声干扰等因素，会使不同的DAC的传输特性有偏差，从而造成各块像素阵列在显示效果上有色差，给用户带来不好的使用体验。发明内容有鉴于此，本发明实施例提供了一种数模转换器校准方法、装置和显示设备，以解决现有技术中显示设备在显示效果上有色差的技术问题。根据第一方面，本发明实施例提供了一种数模转换器校准方法，包括：向待校准DAC输入第一类型校准序列，所述第一类型校准序列的相邻两个数值之间的差值小于预定阈值；将所述待校准DAC输出的模拟信号转换为第一数字信号；根据所述第一类型校准序列的各个数值和所述第一数字信号的各个数值之间的第一差值得到静态误差；向所述待校准DAC输入第二类型校准序列，所述第二类型校准序列的相邻两个数值之间的差值不断变化；将所述待校准DAC输出的模拟信号转换为第二数字信号；根据所述第二类型校准序列的各个数值、所述第二数字信号的各个数值以及对应的所述静态误差之间的第二差值得到动态误差。可选地，所述第一类型校准序列包括所述待校准DAC的输入量程范围内的最小值到最大值的递增序列；或者所述第一类型校准序列包括所述待校准DAC的输入量程范围内的最大值到最小值的递减序列。可选地，所述递增序列为等步长递增序列，所述步长小于或等于所述预定阈值；或者所述递减序列为等步长递减序列，所述步长小于或等于所述预定阈值。可选地，在根据所述第一类型校准序列的各个数值和所述第一数字信号的各个数值之间的第一差值得到静态误差之后，还包括：向所述待校准DAC输入第一调整序列，所述第一调整序列为所述第一类型校准序列中的各个数值与对应的所述静态误差的叠加值；将所述待校准DAC的输出转换为第三数字信号；获取所述第一调整序列的各个数值与所述第三数字信号的各个数值之间的第三差值；当存在超过预期范围的第三差值时，将所述第三差值叠加至对应的所述静态误差以更新所述静态误差，并重复所述向所述待校准DAC输入第一调整序列，至所述获取所述第一调整序列的各个数值与所述第三数字信号的各个数值之间的第三差值的步骤，直至所述待校准DAC的所有输入值所得到的第三差值都在所述预期范围内，以得到静态误差表。可选地，所述第二类型校准序列的相邻两个数值之间的差值覆盖所述待校准DAC的输入量程范围的最大值的负值至所述待校准DAC的输入量程范围的最大值之间的所有数值。可选地，所述第二类型校准序列包括第一子校准序列和第二子校准序列，其中，所述第一子校准序列包括所述待校准DAC的输入量程范围内的最小值与所述递增序列或所述递减序列中的各个数值交替的序列；所述第二子校准序列包括所述待校准DAC的输入量程范围内的最大值与所述递增序列或所述递减序列中的各个数值交替的序列。可选地，在根据所述第二类型校准序列的各个数值、所述第二数字信号的各个数值以及对应的所述静态误差之间的第二差值得到动态误差之后，还包括：生成伪随机数序列；获取所述伪随机数序列的各个数值对应的所述静态误差和所述动态误差；向所述待校准DAC输入第二调整序列，所述第二调整序列为所述伪随机数序列的各个数值与对应的所述静态误差和所述动态误差的叠加值；将所述待校准DAC的输出转换为第四数字信号；获取所述第二调整序列的各个数值与所述第四数字信号的各个数值之间的第四差值；当存在超过预期范围的第四差值时，获取所述第四差值与对应的所述静态误差之间的第五差值，并以所述第五差值与对应的所述动态误差的平均值更新所述动态误差，并重复所述生成伪随机数序列，至所述获取所述第二调整序列的各个数值与所述第四数字信号的各个数值之间的第四差值的步骤，直至所述待校准DAC的所有输入值所得到的第四差值都在所述预期范围内，以得到动态误差表。根据第二方面，本发明实施例提供了一种数模转换器校准装置，包括：控制器，与至少一个待校准DAC的输入端连接，用于向至少一个所述待校准DAC输入第一类型校准序列和第二类型校准序列，所述第一类型校准序列的相邻两个数值之间的差值小于预定阈值，所述第二类型校准序列的相邻两个数值之间的差值不断变化；ADC，与至少一个所述待校准DAC的输出端连接，用于将所述待校准DAC对应于所述第一类型校准序列输出的模拟信号转换为第一数字信号，将所述待校准DAC对应于所述第二类型校准序列输出的模拟信号转换为第二数字信号，并将所述第一数字信号和所述第二数字信号发送至所述控制器；所述控制器还用于根据所述第一类型校准序列的各个数值和所述第一数字信号的各个数值之间的第一差值得到对应的所述待校准DAC的静态误差，并且根据所述第二类型校准序列的各个数值、所述第二数字信号的各个数值以及对应的所述静态误差之间的第二差值得到对应的所述待校准DAC的动态误差。可选地，所述待校准DAC为多个，所述数模转换器校准装置还包括：多路选择器，所述多路选择器的输入端分别与各个所述待校准DAC的输出端连接，所述多路选择器的输出端与所述ADC的输入端连接；所述控制器还用于分别向各个所述待校准DAC输入第一类型校准序列和第二类型校准序列，并控制所述多路选择器按预定顺序选择各个所述待校准DAC向所述ADC输出。根据第三方面，本发明实施例提供了一种显示设备，包括：像素阵列，所述像素阵列被划分为至少一个像素子阵列；至少一个DAC，各个所述DAC与各个所述像素子阵列一一对应，用于接收数字信号并转换为模拟信号输出至对应的所述像素子阵列；根据上述第二方面中任一项的数模转换器校准装置，用于对各个所述DAC输出的所述模拟信号进行校准。在本发明实施例的DAC校准方法和装置中，通过第一类型校准序列来得到静态误差，通过第二类型校准序列来得到动态误差，分别采用不同针对性的校准序列来得到静态和动态误差，从而使得DAC得到准确的模拟输出值，能够满足高精度数模转换应用场景的需求。在本发明实施例的显示设备中，通过采用上述数模转换器校准装置，数模转换器获取到各个DAC的当前输入数据时，根据当前输入数据在各个DAC的静态误差表中查找对应的静态误差，并跟前一输入数据与当前输入数据之间的差值，在各个DAC的动态误差表中查找对应的动态误差，然后向各个DAC输入对应的当前输入数据与查表得到的对应的静态误差、动态误差的叠加值，从而能够使得各个像素子阵列的显示效果一致，提升用户的使用体验。附图说明通过参考附图会更加清楚的理解本发明的特征和优点，附图是示意性的而不应理解为对本发明进行任何限制，在附图中：图1示出了根据本发明实施例的数模转换器校准方法的流程图。图2示出了根据本发明实施例的数模转换器校准装置的示意图。图3示出了根据本发明实施例的数模转换器校准方法中查表得到最终误差的示意图。图4示出了根据本发明另一实施例的数模转换器校准方法的流程图。图5示出了根据本发明实施例的数模转换方法的流程图。图6示出了根据本发明另一实施例的数模转换器校准装置的示意图。图7示出了根据本发明实施例的显示设备的示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。如上文所述，由于不同的数模转换器之间存在传输特性偏差，会导致诸如微显示设备等显示设备的各块像素阵列的显示效果存在色差，给用户带来不好的使用体验，因此需要对各个DAC进行校准，从而可以使得显示设备的各块像素阵列的显示效果一致。相关技术中的一种数模转换器校准方法通过外置数字电路和查找表来进行DAC误差补偿，其利用伪随机数来作为校准序列，然而这种校准方法没有对历史动态误差进行针对性处理，DAC校准误差仍然较大，无法满足诸如微显示设备等高精度场景的需求。如图1所示，本发明实施例提供了一种数模转换器校准方法，该方法应用于待校准的DAC，该方法可以包括如下步骤：S10. 向待校准DAC输入第一类型校准序列，该第一类型校准序列的相邻两个数值之间的差值小于预定阈值。在本实施例中，该第一类型校准序列作为DAC的静态误差的获取依据，该第一类型校准序列可以是随机生成的数字信号，但需要满足相邻数值之间的差值小于预定阈值。本领域技术人员可以根据实际情况合理设定该预定阈值，以避免引入大的动态误差。可选地，相邻数值之间的差值为一固定值，从而该第一类型校准序列成为等差数列，便于该第一类型校准序列的生成。在本发明实施例的一些可选实施方式中，该第一类型校准序列可以包括待校准DAC的输入量程范围内的最小值到最大值的递增序列，也可以包括待校准DAC的输入量程范围内的最大值到最小值的递减序列。上述递增或递减序列可以为等步长序列或不等步长序列，优选地，上述递增或递减序列为等步长序列，且步长小于或等于该预定阈值。举例来说，假如DAC的输入量程范围为0至255，第一类型校准序列的最小值可以为0，最大值可以为255，该第一类型校准序列例如可以是{0,1,2…,254,255}，或者也可以是{255,254,253…,1,0}，上述递增或递减序列的步长可以为1，也可以为其他小于该预定阈值的值。当步长为1时，DAC前后输入值之间的差异很小，因此可以忽略动态误差，可以由第一类型校准序列得到静态误差。更普遍地，待校准DAC的输入量程范围内的最大值为Vmax，最小值为Vmin，步长为δ，则该第一类型校准序列可以包括：{ Vmin，Vmin+δ，Vmin+2δ，…，Vmax}；或者{ Vmax，Vmax-δ，Vmax-2δ，…，Vmin }。如图2所示，该第一类型校准序列可以由控制器11生成，输入到待校准DAC12的输入端，待校准DAC12将该第一类型校准序列转换为模拟信号，从输出端输出。S20. 将待校准DAC输出的模拟信号转换为第一数字信号。继续如图2所示，可以通过模数转换器13的输入端与待校准DAC12的输出端连接，ADC13对DAC12输出的模拟信号进行模数转换，从而ADC13的输出端输出模数转换后的第一数字信号。S30. 根据第一类型校准序列的各个数值和第一数字信号的各个数值之间的第一差值得到静态误差。在本实施例中，由于第一类型校准序列的相邻数值之间的差值小于预定阈值，即待校准DAC12的相邻输入值之间的变化很小，从而可以忽略动态误差，第一类型校准序列的各个数值和第一数字信号的各个数值之间的第一差值即可以认为是静态误差。在本步骤中，最终得到的是一个静态误差表，即对应于不同的输入范围的不同静态误差。仍以DAC的输入量程范围为0至255为例，若步长为1，则每个输入值都可以对应一个静态误差，例如当输入值为i时，对应的静态误差为ESi。若步长为5，则每5个输入值对应一个静态误差，例如输入值为2时，落入到输入值0至4的静态范围内，则对应的静态误差为该静态范围所对应的静态误差。从而可以通过查表得到输入量程范围内不同的输入值所对应的静态误差。如图2所示，控制器11可以将该静态误差存入查找表14中，查找表14可以外置于控制器11，也可以设置于控制器11内。S40. 向待校准DAC输入第二类型校准序列，该第二类型校准序列的相邻两个数值之间的差值不断变化。在本实施例中，该第二类型校准序列作为待校准DAC的动态误差的获取依据，该第二类型校准序列可以是随机生成的数字信号，但需要满足相邻两个数值之间的差值不断变化。需要说明的是，动态误差与前一输入值与当前输入值之间的差值相关，前一输入值与当前输入值之间的差值可以为正数，也可以为负数，相对应地，动态误差可以分为正动态误差和负动态误差。由于本实施例中第二类型校准序列的相邻两个数值之间的差值不断变化，从而可以获取到前一输入值与当前输入值之间的差值为各种数值情况下的动态误差。在本发明实施例的一些可选实施方式中，第二类型校准序列的相邻两个数值之间的差值需要覆盖Vmin-Vmax至Vmax-Vmin之间的所有数值。当Vmin=0时，第二类型校准序列的相邻两个数值之间的差值覆盖待校准DAC的输入量程范围的最大值的负值至待校准DAC的输入量程范围的最大值之间的所有数值，即-Vmax至Vmax之间的所有数值。在本发明实施例的另一些可选实施方式中，第二类型校准序列可以包括第一子校准序列和第二子校准序列，其中第一子校准序列包括待校准DAC的输入量程范围内的最小值与上述递增序列或递减序列中的各个数值交替的序列；第二子校准序列包括待校准DAC的输入量程范围内的最大值与上述递增序列或递减序列中的各个数值交替的序列。仍以DAC的输入量程范围为0至255，递增或递减序列的步长为1为例，第一子校准序列可以包括{0,1,0,2,0,3,0,4…,0,254,0,255}；或者第一子校准序列可以包括{0,255,0,254,0,253,0,252…,0,2,0,1}。第二子校准序列可以包括{255,0,255,1,255,2,255,3…255,253,255,254}；或者第二子校准序列可以包括{255,254,255,253,255,252,255,251…255,1,255,0}。通过第一子校准序列和第二子校准序列就可以实现相邻两个数值之间的差值覆盖-255至255之间的所有数值。更普遍地，待校准DAC的输入量程范围内的最大值为Vmax，最小值为Vmin，步长为δ，则该第一子校准序列可以包括：{ Vmin，Vmin+δ，Vmin，Vmin+2δ，…，Vmin，Vmax }；或者{ Vmin，Vmax，Vmin，Vmax-δ，Vmin，Vmax-2δ，…，Vmin，Vmin+δ}。该第二子校准序列可以包括：{ Vmax，Vmin，Vmax，Vmin+δ，Vmax，Vmin+2δ，…，Vmax，Vmax-δ}；或者 { Vmax，Vmax-δ，Vmax，Vmax-2δ，…，Vmax，Vmin }。采用这样的第二类型校准序列能够得到DAC的输入量程范围内前后输入值所有差值情况下的动态误差，有助于后续的校准。S50.将待校准DAC输出的模拟信号转换为第二数字信号。同样地，可以通过ADC13的输入端与待校准DAC12的输出端连接，ADC13的输出端输出模数转换后的第二数字信号。S60. 根据第二类型校准序列的各个数值、第二数字信号的各个数值以及对应的静态误差之间的第二差值得到动态误差。在本步骤中，由于第二类型校准序列的相邻两个数值之间的差值不断变化，能够得到前一输入值与当前输入值之间的不同差值范围所对应的动态误差，最终得到的是一个动态误差表。仍以DAC的输入量程范围为0至255为例，若步长为1，则每个差值都可以对应一个静态误差，例如当前一输入值与当前输入值之间的差值为i时，动态误差为EDi。同样地，当步长大于1时，需要看前后输入值之间的差值所落入的动态范围，从而可以通过查表得到不同的前后输入值之间的差值所对应的动态误差。如图2所示，控制器11可以将该动态误差表存入查找表14中。在得到了静态误差表和动态误差表之后，当DAC12接收到当前输入数据时，如图3所示，控制器12会根据当前输入数据所落入的静态范围查表得到对应的静态误差，并根据当前输入数据与前一输入数据之间的差值所落入的动态范围，查表得到所对应的动态误差，并将查表得到的静态误差与动态误差叠加得到最终误差，再然后将当前输入数据与该最终误差叠加，并将叠加值输入值DAC12，由此DAC12能够输出得到校准后的模拟输出值。在本发明实施例的DAC校准方法中，通过第一类型校准序列来得到静态误差，通过第二类型校准序列来得到动态误差，分别采用不同针对性的校准序列来得到静态和动态误差，从而使得DAC得到准确的模拟输出值，能够满足高精度数模转换应用场景的需求。本发明另一实施例提供了一种DAC校准方法，该方法应用于待校准的DAC，如图4所示，该方法可以包括如下步骤：S10. 向待校准DAC输入第一类型校准序列，该第一类型校准序列的相邻两个数值之间的差值小于预定阈值。具体内容可以参考上文中的相应描述。S20. 将待校准DAC输出的模拟信号转换为第一数字信号。具体内容可以参考上文中的相应描述。S30. 根据第一类型校准序列的各个数值和第一数字信号的各个数值之间的第一差值得到静态误差。具体内容可以参考上文中的相应描述。S31. 向待校准DAC输入第一调整序列，第一调整序列为第一类型校准序列中的各个数值与对应的静态误差的叠加值。如上文所述，通过步骤S30可以得到各个输入值对应的静态误差，然而此时得到的静态误差可能并不准确，需要对静态误差进行调整。第一调整序列为对第一类型校准序列按照步骤S30得到的静态误差进行补偿后得到的序列，如果步骤S30得到的静态误差是准确的，DAC12的输出模拟信号再经ADC13转换为的数字信号与第一调整序列之间的差值应当落在预期范围之内。若差值落在预期范围之外，则说明该静态误差不准确，需要进一步的调整。S32. 将待校准DAC的输出转换为第三数字信号。同样地，该步骤通过ADC13来完成。S33. 获取第一调整序列的各个数值与第三数字信号的各个数值之间的第三差值。S34. 判断是否存在超过预期范围的第三差值。当第三差值未超过预期范围时，说明对应的静态误差是恰当的，无需进行调整，进入到步骤S40。而当第三差值超过预期范围时，说明对应的静态误差不恰当，需要再次进行调整，此时执行步骤S35。S35. 将第三差值叠加至对应的静态误差以更新静态误差，并返回至S31，重复执行S31至S34的步骤，直至待校准DAC的所有输入值所得到的第三差值都在预期范围内，以得到更为准确的静态误差表，进入到步骤S40。通过上述步骤S31至S35，不断对静态误差进行调整直至待校准DAC的输出值达到预期，提高了DAC校准的准确性。S40. 向待校准DAC输入第二类型校准序列，该第二类型校准序列的相邻两个数值之间的差值不断变化。具体内容可以参考上文中的相应描述。S50. 将待校准DAC输出的模拟信号转换为第二数字信号。具体内容可以参考上文中的相应描述。S60. 根据第二类型校准序列的各个数值、第二数字信号的各个数值以及对应的静态误差之间的第二差值得到动态误差。具体内容可以参考上文中的相应描述。S61. 生成伪随机数序列。该伪随机数序列的各个数值的范围处于待校准DAC的输入量程范围内。S62. 获取伪随机数序列的各个数值对应的静态误差和动态误差。如上文所述，可以根据待校准DAC的当前输入值，查表得到对应的静态误差，并根据前一输入值与当前输入值之间的差值，查表得到对应的动态误差。S63. 向待校准DAC输入第二调整序列，该第二调整序列为该伪随机数序列的各个数值与对应的静态误差和动态误差的叠加值。也就是说，在本步骤中利用所得到的静态误差和动态误差，对待校准DAC的输入值进行补偿。如果当前得到的静态误差和动态误差是准确的，DAC12的输出模拟信号再经ADC13转换为的数字信号与第二调整序列之间的差值应当落在预期范围之内。若差值落在预期范围之外，由于已经通过重复执行步骤S31至S34的步骤对静态误差进行了调整，因此可以认为当前的动态误差不准确，需要进一步的调整。S64. 将待校准DAC的输出转换为第四数字信号。同样地，该步骤通过ADC13来完成。S65. 获取第二调整序列的各个数值与第四数字信号的各个数值之间的第四差值。S66. 判断是否存在超过预期范围的第四差值。当第四差值未超过预期范围时，说明对应的动态误差是恰当的，无需进行调整。而当第四差值超过预期范围时，说明对应的动态误差不恰当，需要再次进行调整，此时执行步骤S67。S67. 获取第四差值与对应的静态误差之间的第五差值，并以第五差值与对应的动态误差的平均值更新动态误差，并返回至S61，重复执行S61至S66的步骤，直至待校准DAC的所有输入值所得到的第四差值都在预期范围内，以得到更为准确的动态误差表。通过上述步骤S61至S67，不断对动态误差进行调整直至待校准DAC的输出值达到预期，提高了DAC校准的准确性。与前一实施例不同的是，在本实施例中，通过第一调整序列来对静态误差进行调整，通过第二调整序列对动态误差进行调整，提高了静态误差和动态误差的准确性，从而进一步提高了DAC校正的准确性。在通过上文所述的实施例得到更为准确的静态误差表和动态误差表之后，就可以利用该静态误差表和动态误差表，对DAC的输入数据提前进行补偿，从而得到准确的模拟信号。因此，本发明实施例还提供了一种数模转换方法，如图5所示，该方法可以包括如下步骤：S101. 获取待校准DAC的当前输入数据。S102. 查找当前输入数据对应的静态误差。S103. 根据前一输入数据与当前输入数据之间的差值，查找当前输入数据对应的动态误差；其中，所述静态误差和所述动态误差通过上文实施例中所述的数模转换校准方法得到。S104. 向待校准DAC输入当前输入数据与查找得到的静态误差、动态误差的叠加值。相应地，本发明实施例还提供了一种数模转换器校准装置，继续如图2所示，该数模转换器校准装置可以包括控制器11和ADC13。控制器11与待校准DAC12的输入端连接，用于向待校准DAC12输入第一类型校准序列和第二类型校准序列，该第一类型校准序列的相邻两个数值之间的差值小于预定阈值，该第二类型校准序列的相邻两个数值之间的差值不断变化。关于第一类型校准序列和第二类型校准序列的进一步详细描述可以参见上文方法实施例中的相应描述，此处不再赘述。ADC13与待校准DAC12的输出端连接，用于将待校准DAC12对应于第一类型校准序列输出的模拟信号转换为第一数字信号，将待校准DAC12对应于第二类型校准序列输出的模拟信号转换为第二数字信号，并将第一数字信号和第二数字信号发送至控制器11。控制器11还用于根据第一类型校准序列的各个数值和第一数字信号的各个数值之间的第一差值得到静态误差，并且根据第二类型校准序列的各个数值、第二数字信号的各个数值以及对应的静态误差之间的第二差值得到动态误差。关于静态误差和动态误差的进一步详细描述可以参见上文方法实施例中的相应描述，此处不再赘述。在本发明实施例的数模转换器校准装置中，利用控制器11向待校准DAC12输出第一类型校准序列来得到静态误差，利用控制器11向待校准DAC12输出第二类型校准序列来得到动态误差，分别采用不同针对性的校准序列来得到静态和动态误差，从而使得DAC得到准确的模拟输出值，能够满足高精度数模转换应用场景的需求。如上文所述，对于分辨率较高的显示设备，尤其是微显示设备，受制于视频接口带宽，往往会将像素阵列分为两块甚至更多块，各块像素阵列用单独的DAC来做像素数据的数模转换，因此需要对多个DAC进行校准。为满足此要求，本发明另一实施例提供了一种数模转换器校准装置，如图6所示，该数模转换器校准装置可以包括控制器21、多路选择器24和ADC23。控制器21与多个待校准DAC的输入端连接，用于分别向各个待校准DAC输入第一类型校准序列和第二类型校准序列，第一类型校准序列的相邻两个数值之间的差值小于预定阈值，第二类型校准序列的相邻两个数值之间的差值不断变化。为简化起见，图6的示例中仅示出了两个待校准DAC22a和22b，本领域技术人员应当理解，更多个待校准DAC也是可行的。控制器21可以向各个待校准DAC输入相同数字信号，也可以输入不同数字信号。当然，为了使得各个待校准DAC的一致性更好，在一些可选实施方式中，控制器21向各个待校准DAC输入相同数字信号，也即控制器21向各个待校准DAC输入相同的第一类型校准序列和相同的第二类型校准序列。关于第一类型校准序列和第二类型校准序列的进一步详细描述可以参见上文方法实施例中的相应描述，此处不再赘述。多路选择器24的输入端分别与各个待校准DAC的输出端连接，多路选择器24的输出端与ADC23的输入端连接。也即ADC23通过多路选择器24与各个待校准DAC的输出端连接。控制器21还用于向多路选择器24的选通控制端发送选通控制信号，控制多路选择器24按预定顺序选择各个待校准DAC向ADC23输出。也即ADC23按照预定顺序接收各个待校准DAC输出的模拟信号，并将所接收到的模拟信号转换为数字信号。ADC23通过多路选择器24与各个待校准DAC的输出端连接，用于将各个待校准DAC对应于第一类型校准序列输出的模拟信号转换为第一数字信号，将待校准DAC对应于第二类型校准序列输出的模拟信号转换为第二数字信号，并将第一数字信号和第二数字信号发送至所述控制器。控制器21还用于根据第一类型校准序列的各个数值和第一数字信号的各个数值之间的第一差值得到对应的待校准DAC的静态误差，并且根据第二类型校准序列的各个数值、第二数字信号的各个数值以及对应的静态误差之间的第二差值得到对应的待校准DAC的动态误差。例如，控制器21选通待校准DAC22a输出时，此时得到待校准DAC22a的静态误差或动态误差，并将其存储至对应于待校准DAC22a的静态或动态误差表中；控制器21选通待校准DAC22b输出时，此时得到待校准DAC22b的静态误差或动态误差，并将其存储至对应于待校准DAC22b的静态或动态误差表中。关于静态误差和动态误差的进一步详细描述可以参见上文方法实施例中的相应描述，此处不再赘述。与前一实施例不同的是，本实施例中的数模转换器校准装置能够同时对多个待校准DAC进行校准，能够满足分辨率较高的显示设备，尤其是微显示设备的应用场景需求。相应地，本发明实施例还提供了一种显示设备，该显示设备例如可以为高分辨率的微显示设备，如图7所示，该显示设备可以包括像素阵列31、至少一个DAC以及数模转换器校准装置32。像素阵列31被划分为至少一个像素子阵列，图7中示出了n个像素子阵列，n大于或等于1。各个DAC与各个像素子阵列一一对应，用于接收数字信号并转换为模拟信号输出至对应的像素子阵列，图7中示出了n个DAC分别与n个像素子阵列对应连接。数模转换器校准装置32用于对各个DAC输出的模拟信号进行校准，该数模转换器校准装置32例如可以是图2或图6所示的实施例中的数模转换器校准装置。数模转换器校准装置32在得到各个DAC的动态误差和静态误差之后，即可以对各个DAC的模拟输出进行校准。具体来说，数模转换器32获取到各个DAC的当前输入数据时，根据当前输入数据在DAC1的静态误差表中查找对应的静态误差，并跟前一输入数据与当前输入数据之间的差值，在DAC1的动态误差表中查找对应的动态误差，然后向DAC1输入当前输入数据与查表得到的静态误差、动态误差的叠加值。对于DAC2、DAC3……、DACn都执行相同的操作，从而能够使得各个像素子阵列的显示效果一致，提高用户的使用体验。虽然结合附图描述了本发明的实施例，但是本领域技术人员可以在不脱离本发明的精神和范围的情况下作出各种修改和变型，这样的修改和变型均落入由所附权利要求所限定的范围之内。
