标题title
码本选择方法、装置、存储介质及处理器
摘要abst
本发明提供一种码本选择方法、装置、存储介质及处理器，属于通信技术领域。所述码本选择方法包括：获取天线信息和信道估计值；根据所述天线信息得到二维过采样DFT矩阵；在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；最后根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。大大降低了计算量，提升了TYPEII码本的选择效率，从而大大降低了码本选择的复杂度，有效降低用户终端或是基站的处理功耗，且计算过程易于工程实现。
权利要求书clms
1.一种码本选择方法，其特征在于，包括：获取天线信息和信道估计值；根据所述天线信息得到二维过采样DFT矩阵；在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。2.根据权利要求1所述的码本选择方法，其特征在于，所述右矩阵为对所述信道估计值进行奇异值分解得到。3.根据权利要求1所述的码本选择方法，其特征在于，所述以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值，包括：以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式；将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式；计算得到所述右矩阵在所述合并矩阵中的基底上的投影的最大值。4.根据权利要求3所述的码本选择方法，其特征在于，所述以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式，包括：以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，建立线性方程BC=V，其中，B为所选取的多个正交的基底所组成的矩阵，C为线性组合时的加权值，V为信道估计值的右矩阵；根据所述线性方程，以确定矩阵B中的基础元素为目标，得到求取二范数平方的最小值的公式。5.根据权利要求3所述的码本选择方法，其特征在于，所述将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式，包括：将所述求取二范数平方的最小值的公式中的求取二范数平方转换为求迹运算，得到求取所述右矩阵在基底上的投影的最大值的公式。6.根据权利要求1所述的码本选择方法，其特征在于，所述天线信息包括水平过采样率和垂直过采样率；所述根据所述天线信息得到二维过采样DFT矩阵，包括：分别根据所述水平过采样率和垂直过采样率对天线进行相应的过采样，得到二维过采样DFT矩阵。7.根据权利要求1所述的码本选择方法，其特征在于，所述根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本，包括：根据所述右矩阵在基底上的投影的最大值，得到对应的基底；根据对应的基底，确定得到TYPEII码本。8.一种码本选择装置，其特征在于，包括：获取模块，用于获取天线信息和信道估计值；采样模块，用于根据所述天线信息得到二维过采样DFT矩阵；选取模块，用于在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；计算模块，用于以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；确定模块，用于根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。9.根据权利要求8所述的码本选择装置，其特征在于，所述右矩阵为对所述信道估计值进行奇异值分解得到。10.根据权利要求8所述的码本选择装置，其特征在于，所述计算模块包括：构建单元，用于以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式；转换单元，用于将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式；投影计算单元，用于计算得到所述右矩阵在所述合并矩阵中的基底上的投影的最大值。11.一种处理器，其特征在于，被配置成执行根据权利要求1至7中任一项所述的码本选择方法。12.一种机器可读存储介质，该机器可读存储介质上存储有指令，其特征在于，该指令在被处理器执行时使得所述处理器被配置成执行根据权利要求1至7中任一项所述的码本选择方法。
说明书desc
技术领域本发明涉及通信技术领域，具体地涉及一种码本选择方法、一种码本选择装置、一种机器可读存储介质及一种处理器。背景技术第五代移动通信技术采用了大规模天线进行发送以提高系统频谱效率。其中，为了提升用户终端的速率需要对发送信号进行波束赋形。目前波束赋形常常使用预编码技术，其主要是对信道空间水平方向和垂直方向进行有限数量的分割，然后分别对水平天线和垂直天线进行过采样，形成PMI物理码本模型，从而形成对整个信道空间的细化实现更好的方向指向。具体可在收发两端都存储相同的码本集合，接收端根据信道衰落信息和当前接收的信号，按照一定的准则选择最合适的预编码矩阵，并将预编码矩阵的标识通过反馈链路给发送端，如此即可实现预编码技术。终端可通过上行信道反馈预编码矩阵指示至基站，从而使基站可以根据终端反馈的PMI从基站侧的预编码码本集合中选择合适的预编码矩阵来进行预编码，以利于下行数据传输。目前常常采用TYPEII码本进行PMI反馈，为了起到波束赋形的作用，就需要选择出合适的TYPEII码本，现有TYPEII码本的选择方式是通过求二范数平方的最小值以确认所选择的正交基底及加权系数，这种选择方式的计算量相当大，导致用户终端或是基站的功耗较大，处理效率低下。发明内容本发明实施例的目的是提供一种码本选择方法、一种码本选择装置、一种机器可读存储介质及一种处理器，该码本选择方法大大降低了计算量，提升了TYPEII码本的选择效率，从而大大降低了码本选择的复杂度，有效降低用户终端或是基站的处理功耗，且计算过程易于工程实现。为了实现上述目的，本申请第一方面提供一种码本选择方法，包括：获取天线信息和信道估计值；根据所述天线信息得到二维过采样DFT矩阵；在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。在本申请实施例中，所述右矩阵为对所述信道估计值进行奇异值分解得到。在本申请实施例中，所述以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值，包括：以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式；将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式；计算得到所述右矩阵在所述合并矩阵中的基底上的投影的最大值。在本申请实施例中，所述以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式，包括：以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，建立线性方程BC=V，其中，B为所选取的多个正交的基底所组成的矩阵，C为线性组合时的加权值，V为信道估计值的右矩阵；根据所述线性方程，以确定矩阵B中的基础元素为目标，得到求取二范数平方的最小值的公式。在本申请实施例中，所述将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式，包括：将所述求取二范数平方的最小值的公式中的求取二范数平方转换为求迹运算，得到求取所述右矩阵在基底上的投影的最大值的公式。在本申请实施例中，所述天线信息包括水平过采样率和垂直过采样率；所述根据所述天线信息得到二维过采样DFT矩阵，包括：分别根据所述水平过采样率和垂直过采样率对天线进行相应的过采样，得到二维过采样DFT矩阵。在本申请实施例中，所述根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本，包括：根据所述右矩阵在基底上的投影的最大值，得到对应的基底；根据对应的基底，确定得到TYPEII码本。本申请第二方面提供一种码本选择装置，包括：获取模块，用于获取天线信息和信道估计值；采样模块，用于根据所述天线信息得到二维过采样DFT矩阵；选取模块，用于在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；计算模块，用于以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；确定模块，用于根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。在本申请实施例中，所述右矩阵为对所述信道估计值进行奇异值分解得到。在本申请实施例中，所述计算模块包括：构建单元，用于以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式；转换单元，用于将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式；投影计算单元，用于计算得到所述右矩阵在所述合并矩阵中的基底上的投影的最大值。本申请第三方面提供一种处理器，被配置成执行上述的码本选择方法。本申请第四方面提供一种机器可读存储介质，该机器可读存储介质上存储有指令，该指令在被处理器执行时使得所述处理器被配置成执行上述的码本选择方法。通过上述技术方案，通过求取右矩阵在基底上的投影的最大值以得到TYPEII码本，求取右矩阵在基底上的投影的最大值的过程循环次数变为水平过采样率和垂直过采样率的乘积，相比于现有技术中通过求二范数平方的最小值以确认所选择的正交基底及加权系数得到TYPEII码本，大大降低了计算量，提升了TYPEII码本的选择效率，从而大大降低了码本选择的复杂度，有效降低用户终端或是基站的处理功耗，且计算过程易于工程实现。本发明实施例的其它特征和优点将在随后的具体实施方式部分予以详细说明。附图说明附图是用来提供对本发明实施例的进一步理解，并且构成说明书的一部分，与下面的具体实施方式一起用于解释本发明实施例，但并不构成对本发明实施例的限制。在附图中：图1示意性示出了根据本申请实施例的一种码本选择方法流程示意图；图2示意性示出了根据本申请实施例的天线面板示意图；图3示意性示出了根据本申请实施例的采样后的天线面板示意图；图4示意性示出了根据本申请实施例的一种码本选择装置结构框图；图5示意性示出了根据本申请实施例的设备的内部结构图。附图标记说明410-获取模块；420-采样模块；430-选取模块；440-计算模块；450-确定模块；A01-处理器；A02-网络接口；A03-内存储器；A04-显示屏；A05-输入装置；A06-非易失性存储介质；B01-操作系统；B02-计算机程序。具体实施方式以下结合附图对本发明实施例的具体实施方式进行详细说明。应当理解的是，此处所描述的具体实施方式仅用于说明和解释本发明实施例，并不用于限制本发明实施例。请参看图1，图1示意性示出了根据本申请实施例的一种码本选择方法流程示意图。提供一种码本选择方法，需要说明的是，该码本选择方法可以是运用于基站侧也可以是用于用户终端侧。为了便于对方案进行说明，本实施例中主要以用于用户终端为例进行说明。本实施例提供一种码本选择方法，包括以下步骤：步骤210：获取天线信息和信道估计值；在本实施例中，所述天线信息包括水平天线数、垂直天线数、水平过采样率、垂直过采样率、水平和垂直天线端口的分布等，上述获取可以是通过信道状态信息参考信号得到。所述信道估计值可以是由CSI-RS信道估计得到。需要说明的是，本实施例提供的码本选择方法适用于任何CSI-RS端口数以及任何水平和垂直过采样率。步骤220：根据所述天线信息得到二维过采样DFT矩阵；其中，所述天线信息包括水平过采样率和垂直过采样率；所述根据所述天线信息得到二维过采样DFT矩阵，包括：分别根据所述水平过采样率和垂直过采样率对天线进行相应的过采样，得到二维过采样DFT矩阵。在本实施例中，预编码技术主要是对信道空间水平方向和垂直方向进行有限数量的分割，然后分别对水平天线和垂直天线进行过采样，形成PMI物理码本模型，从而形成对整个信道空间的细化实现更好的方向指向。PMI物理码本模型中包含PMI的预编码矩阵，PMI的预编码矩阵由基于二维过采样离散傅里叶变换矩阵的波束格栅构成，其中的每一个元素为波束，2D-DFT用于描述这样的beam。码本中的每个元素对应一个预编码矩阵，用户终端只需要反馈预编码矩阵的索引，即可表示相关信道描述。对于水平天线数为，垂直天线数为/＞，水平过采样率为/＞，垂直过采样率为/＞这样的PMI物理码本模型，如图2所示，/＞代表水平方向天线数目，/＞代表垂直方向天线数目，因此这个面板上的双极化天线数量为/＞，而CSI-RS的天线端口数量为/＞。为了实现在空间中很多个beam或者方向，在原有/＞个天线的面板上，继续做进一步的精细化划分，请参看图3，这里对水平和垂直方向进行过采样，即分别对水平天线数为/＞进行/＞过采样，对垂直天线数为/＞进行/＞过采样，从而将水平方向划分为/＞份，把垂直方向划分为/＞份，得到二维过采样DFT矩阵，这样就可以得到颗粒度更小的beam，实现更好的方向性。其中，过采样率/＞和/＞的值越大，beam的精度越高。其中每个beam用2D-DFT表示/＞：总共有个向量。步骤230：在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；在本实施例中，对于TYPEII码本需要在所有的beam中选择L个正交基底来进行线性合并，以逼近信道估计值H进行奇异值分解的右矩阵V。合并矩阵可以表示为：其中，为线性合并系数，/＞为正交基底，/＞为合并矩阵。写成矩阵的形式为：，其中，B的维度为，C的维度为/＞，/＞为层数。步骤240：以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；在一些实施例中，所述右矩阵为对所述信道估计值进行奇异值分解得到。所述信道估计值可以表示为：其中，为信道估计值，/＞为所述信道估计值进行奇异值分解得到左矩阵，/＞为所述信道估计值进行奇异值分解得到右矩阵，/＞为奇异值，/＞为层数。为了便于到右矩阵在基底上的投影的最大值，可以通过求取二范数平方的最小值转换为求取右矩阵在基底上的投影的最大值，具体包括以下步骤：首先，以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式，具体包括以下过程：第一步，以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，建立线性方程BC=V，其中，B为所选取的多个正交的基底所组成的矩阵，C为线性组合时的加权值，V为信道估计值的右矩阵；第二步，根据所述线性方程，以确定矩阵B中的基础元素为目标，得到求取二范数平方的最小值的公式。在本实施例中，由DFT矩阵的性质及所选的L个正交基底可知，其中，/＞为单位矩阵。为了满足合并矩阵逼近所述信道估计值的右矩阵的约束条件，可以令BC=V，然后两边乘于得到/＞，即为/＞。进一步为了确定基础元素beam 即/＞，则需要确定/＞，即得到求二范数平方的最小值的公式。然后，将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式；其中，为了方便计算，可以对矩阵进行求迹运算，具体可以是将所述求取二范数平方的最小值的公式中的求取二范数平方转换为求迹运算，得到求取所述右矩阵在基底上的投影的最大值的公式。具体转换过程如下：因为，由于/＞，上式可变为：其中，，则上式，令，则：/＞；因此，求等价于求/＞，又因为：，因此，/＞变成求/＞最大值。又因为：则求最大值变为求取/＞的最大值，即求/＞在/＞上的投影最大值，从而将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式。最后，计算得到所述右矩阵在所述合并矩阵中的基底上的投影的最大值。在本实施例中，通过计算右矩阵在所述合并矩阵中的各个基底上的投影，然后从中得到最大的投影，即得到右矩阵在所述合并矩阵中的基底上的投影的最大值。通过上面的推算过程可以知道该方法把内层循环去除，直接变成V在L个基底上的投影，把循环次数从/＞降到/＞，大大提升了用户终端或基站选择TYPEII码本的效率，以及降低了终端的功耗，易于工程实现。步骤250：根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。具体可以是根据所述右矩阵在基底上的投影的最大值，得到对应的基底；然后根据对应的基底，确定得到TYPEII码本。上述实现过程中，通过获取天线信息和信道估计值；根据所述天线信息得到二维过采样DFT矩阵；在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；最后根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。通过求取右矩阵在基底上的投影的最大值以得到TYPEII码本，求取右矩阵在基底上的投影的最大值的过程循环次数变为水平过采样率和垂直过采样率的乘积，即为，相比于现有技术中通过求二范数平方的最小值以确认所选择的正交基底及加权系数得到TYPEII码本，大大降低了计算量，提升了TYPEII码本的选择效率，从而大大降低了码本选择的复杂度，有效降低用户终端或是基站的处理功耗，且计算过程易于工程实现。下面以具体例子说明本发明相对于现有技术，可以大大降低计算量。例如：CSI-RS发送的水平天线数，垂直天线数/＞，则总的天线端口为32，对应的水平和垂直的过采样率分别为/＞和/＞，选取的正交基底数L=4，波束赋形流数/＞。通过CSI-RS得到的信道估计值为/＞，维度为2/＞32 。对信道估计值进行SVD分解：得到右矩阵维度为32/＞2。这时如果直接采用求解/＞，则外循环次数/＞，内循环次数为/＞，总的循环次数为16/＞1820=29120。而采用本实施例的码本选择方法，即求V在/＞上的投影最大值，只有外层循环/＞，大大降低了运算量，提升了TYPEII码本的选择效率。例如：CSI-RS发送的水平天线数，垂直天线数/＞，则总的天线端口为16，对应的水平和垂直的过采样率分别为/＞和/＞，选取的正交基底数L=4，波束赋形流数/＞。通过CSI-RS得到的信道估计值为/＞，维度为1/＞32 。对信道估计值/＞进行SVD分解：得到右矩阵维度为32/＞1。这时如果直接采用求解/＞，则外循环次数/＞，内循环次数为/＞，总的循环次数为16/＞70=1120。而采用本实施例的码本选择方法，即求V在/＞上的投影最大值，只有外层循环/＞，大大降低了运算量，提升了TYPEII码本的选择效率。图1为一个实施例中码本选择方法的流程示意图。应该理解的是，虽然图1的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，图1中的至少一部分步骤可以包括多个子步骤或者多个阶段，这些子步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些子步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤的子步骤或者阶段的至少一部分轮流或者交替地执行。请参看图4，本发明实施例提供了一种码本选择装置，包括获取模块410、采样模块420、选取模块430、计算模块440和确定模块450，其中：获取模块410，用于获取天线信息和信道估计值；采样模块420，用于根据所述天线信息得到二维过采样DFT矩阵；选取模块430，用于在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；计算模块440，用于以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；确定模块450，用于根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。其中，所述右矩阵为对所述信道估计值进行奇异值分解得到。其中，所述计算模块440包括：构建单元，用于以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式；转换单元，用于将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式；投影计算单元，用于计算得到所述右矩阵在所述合并矩阵中的基底上的投影的最大值。上述实现过程中，通过获取模块410获取天线信息和信道估计值；采样模块420根据所述天线信息得到二维过采样DFT矩阵；选取模块430在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；计算模块440以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；确定模块450根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。通过求取右矩阵在基底上的投影的最大值以得到TYPEII码本，求取右矩阵在基底上的投影的最大值的过程循环次数变为水平过采样率和垂直过采样率的乘积，相比于现有技术中通过求二范数平方的最小值以确认所选择的正交基底及加权系数得到TYPEII码本，大大降低了计算量，提升了TYPEII码本的选择效率，从而大大降低了码本选择的复杂度，有效降低用户终端或是基站的处理功耗，且计算过程易于工程实现。所述码本选择装置包括处理器和存储器，上述获取模块410、采样模块420、选取模块430、计算模块440和确定模块450等均作为程序单元存储在存储器中，由处理器执行存储在存储器中的上述程序单元来实现相应的功能。处理器中包含内核，由内核去存储器中调取相应的程序单元。内核可以设置一个或以上，通过调整内核参数来降低计算量，提升TYPEII码本的选择效率。存储器可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存，存储器包括至少一个存储芯片。本发明实施例提供了一种存储介质，其上存储有程序，该程序被处理器执行时实现所述码本选择方法。本发明实施例提供了一种处理器，所述处理器用于运行程序，其中，所述程序运行时执行所述码本选择方法。在一个实施例中，提供了一种计算机设备，该计算机设备可以是终端，其内部结构图可以如图5所示。该计算机设备包括通过系统总线连接的处理器A01、网络接口A02、显示屏A04、输入装置A05和存储器。其中，该计算机设备的处理器A01用于提供计算和控制能力。该计算机设备的存储器包括内存储器A03和非易失性存储介质A06。该非易失性存储介质A06存储有操作系统B01和计算机程序B02。该内存储器A03为非易失性存储介质A06中的操作系统B01和计算机程序B02的运行提供环境。该计算机设备的网络接口A02用于与外部的终端通过网络连接通信。该计算机程序被处理器A01执行时以实现一种码本选择方法。该计算机设备的显示屏A04可以是液晶显示屏或者电子墨水显示屏，该计算机设备的输入装置A05可以是显示屏上覆盖的触摸层，也可以是计算机设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图5中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，本申请提供的码本选择装置可以实现为一种计算机程序的形式，计算机程序可在如图5所示的计算机设备上运行。计算机设备的存储器中可存储组成该码本选择装置的各个程序模块，比如，图4所示的获取模块410、采样模块420、选取模块430、计算模块440和确定模块450。各个程序模块构成的计算机程序使得处理器执行本说明书中描述的本申请各个实施例的码本选择方法中的步骤。图5所示的计算机设备可以通过如图4所示的码本选择装置中的获取模块410执行步骤210、采样模块420执行步骤220、选取模块430执行步骤230、计算模块440执行步骤240和确定模块450执行步骤250。本申请实施例提供了一种设备，设备包括处理器、存储器及存储在存储器上并可在处理器上运行的程序，处理器执行程序时实现以下步骤：获取天线信息和信道估计值；根据所述天线信息得到二维过采样DFT矩阵；在所述二维过采样DFT矩阵中选出多个正交的基底进行线性合并，得到合并矩阵；以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值；其中，所述基底为所述合并矩阵中的各个基底；根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本。在一个实施例中，所述右矩阵为对所述信道估计值进行奇异值分解得到。在一个实施例中，所述以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，计算出所述右矩阵在基底上的投影的最大值，包括：以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式；将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式；计算得到所述右矩阵在所述合并矩阵中的基底上的投影的最大值。在一个实施例中，所述以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，构建求取二范数平方的最小值的公式，包括：以所述合并矩阵逼近所述信道估计值的右矩阵为约束条件，建立线性方程BC=V，其中，B为所选取的多个正交的基底所组成的矩阵，C为线性组合时的加权值，V为信道估计值的右矩阵；根据所述线性方程，以确定矩阵B中的基础元素为目标，得到求取二范数平方的最小值的公式。在一个实施例中，所述将所述求取二范数平方的最小值的公式转换为求取所述右矩阵在基底上的投影的最大值的公式，包括：将所述求取二范数平方的最小值的公式中的求取二范数平方转换为求迹运算，得到求取所述右矩阵在基底上的投影的最大值的公式。在一个实施例中，所述天线信息包括水平过采样率和垂直过采样率；所述根据所述天线信息得到二维过采样DFT矩阵，包括：分别根据所述水平过采样率和垂直过采样率对天线进行相应的过采样，得到二维过采样DFT矩阵。在一个实施例中，所述根据所述右矩阵在基底上的投影的最大值，确定得到TYPEII码本，包括：根据所述右矩阵在基底上的投影的最大值，得到对应的基底；根据对应的基底，确定得到TYPEII码本。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和／或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。在一个典型的配置中，计算设备包括一个或多个处理器 、输入/输出接口、网络接口和内存。存储器可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存。存储器是计算机可读介质的示例。计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存 、静态随机存取存储器 、动态随机存取存储器 、其他类型的随机存取存储器 、只读存储器 、电可擦除可编程只读存储器 、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘  或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体 ，如调制的数据信号和载波。还需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、商品或者设备中还存在另外的相同要素。以上仅为本申请的实施例而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
