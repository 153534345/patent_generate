标题title
面向用户隐私数据的数据处理方法和数据处理设备
摘要abst
本申请公开面向用户隐私数据的数据处理方法和数据处理设备，涉及数据处理领域，基于数据接入引擎接收终端设备采集的隐私数据，通过数据存储引擎将隐私数据分类存储到存储介质中；通过服务接入引擎接收数据中心的服务请求指令，确定数据中心的请求权限和请求的目标数据类型；通过数据存储引擎从本地存储介质中读取目标隐私数据，通过数据保护引擎进行脱敏转换，将其转换成不可获取原始信息的加密数据；通过服务接入引擎将生成的加密数据发送回数据中心。该方案将隐私数据本地化，在厂商需要隐私数据进行个性化分析推荐时，在本地对隐私数据进行加密转化处理后返回厂商，避免厂商直接获取隐私数据造成隐私泄露，提高数据安全性。
权利要求书clms
1.一种面向用户隐私数据的数据处理方法，其特征在于，包括：基于各终端设备建立的通讯协议采集和生成用户的隐私数据，并将所述隐私数据分类存储至本地的存储介质中；其中，采集隐私数据和存储过程为单向传输；接收数据中心的服务请求指令，确定所述数据中心的请求权限和请求的目标数据类型；其中，不同数据中心对应不同的平台服务商；从本地存储介质中读取目标隐私数据，根据所述服务请求指令指示的隐私计算类型对所述目标隐私数据进行脱敏转换，将其转换成不可获取原始信息的加密数据；当隐私计算类型为一类计算类型时，直接将所述目标隐私数据进行脱敏转化；当隐私计算类型为二类计算类型时，通过所述数据中心下发的计算模型对所述目标隐私数据进行处理和脱敏转化；其中，一类计算类型包含的计算内容由数据中心执行，二类计算类型包含的计算内容由本地执行；将生成的所述加密数据发送回所述数据中心。2.根据权利要求1所述的面向用户隐私数据的数据处理方法，其特征在于，当所述数据中心具有对所述目标隐私数据的请求权限时，确定所述数据中心对所述目标数据执行的隐私计算内容；当隐私计算内容指示对向量执行处理时，将其确定为第一计算类型；当隐私计算内容指示对模型数据执行处理时，将其确定为二类计算类型；隐私计算内容基于厂商提供的个性化功能确定，不同的个性化功能所收集的隐私数据内容和对隐私数据的计算方式各不相同。3.根据权利要求2所述的面向用户隐私数据的数据处理方法，其特征在于，当隐私计算内容为一类计算类型时，脱敏转换包括：基于计算内容所需的目标维度信息对所述目标隐私数据进行向量提取，获得包含目标维度信息的第一向量数据；根据和所述数据中心约定的加密参数对所述第一向量数据进行同态加密，获得一类加密向量；当隐私计算内容为二类计算类型时，脱敏转换包括：直接将模型计算结果进行同态加密，获得二类加密模型数据。4.根据权利要求1所述的面向用户隐私数据的数据处理方法，其特征在于，用户端具有对所述隐私数据的控制权限，当接收发起数据申请请求时，基于用户端的操作权限和数据申请请求确定调用的目标隐私数据；对所述目标隐私数据进行数据加密，并发送回用户端，用户端基于接收并解密获取未经转化的目标隐私数据，并执行相关操作。5.根据权利要求1-4任一所述的面向用户隐私数据的数据处理方法，其特征在于，当隐私数据是大语言模型训练的语料数据，在接收到数据中心的服务请求指令并确定目标语料后，通过公共词元token字典将所述目标语料翻译为公共token ID；当所述公共token字典中不含翻译所述目标语料的token ID时，基于所述目标语料赋予领域token ID，并根据所述数据中心生成领域token 字典，将所述领域token ID加入其中；通过所述公共token ID和/或所述领域token ID形成token ID流，并反馈至所述数据中心。6.一种面向用户隐私数据的数据处理设备，其特征在于，所述设备基于CSP架构搭建，包括：数据接入引擎，内置通讯接口/协议，用于接收各终端设备采集和生成的隐私数据；数据存储引擎，和所述数据接入引擎之间建立单向传输连接，将所述隐私数据进行分类存储到对应存储介质中；服务接入引擎，与各数据中心建立通讯连接，接收所述数据中心发起的服务请求指令，并将本地化处理的加密数据发送回所述数据中心；数据保护引擎，与所述服务接入引擎之间建立交互，接收所述服务接入引擎转发的所述服务请求指令，根据所述服务请求指令指示的隐私计算类型对所述目标隐私数据进行脱敏转换，将其转换成不可获取原始信息的加密数据，以及将所述加密数据发送回数据中心；其中，当隐私计算类型为一类计算类型时，直接将所述目标隐私数据进行脱敏转化；当隐私计算类型为二类计算类型时，通过所述数据中心下发的计算模型对所述目标隐私数据进行处理和脱敏转化；一类计算类型包含的计算内容由数据中心执行，二类计算类型包含的计算内容由本地执行，不同数据中心对应不同平台服务商，用户端是控制各终端设备采集隐私数据的设备；存储介质，通过传输接口/协议与所述数据存储引擎连接，存储各终端设备采集的隐私数据和存储参数。7.根据权利要求6所述的面向用户隐私数据的数据处理设备，其特征在于，所述服务接入引擎内置与所述数据中心通讯的客户端，通过客户端接收所述服务请求指令；所述服务请求指令包括计算申请，计算申请基于所述数据中心发起，用于调取所述目标隐私数据并进行隐私计算；其中，客户端和所述数据中心为一一对应。8.根据权利要求7所述的面向用户隐私数据的数据处理设备，其特征在于，所述服务接入引擎内置的客户端和用户端之间进行数据通讯，基于用户端的控制指令进行数据管理，所述数据保护引擎由用户端控制，并根据指令控制对各终端设备的存储容量、存储位置和控制参数进行配置与管理。9.根据权利要求7所述的面向用户隐私数据的数据处理设备，其特征在于，所述数据保护引擎包含有算法库，其中存储有执行脱敏转换的算法；所述服务接入引擎存储包含各数据中心的模型库，其中存储有对隐私数据进行个性化分析的计算模型；当所述服务请求指令为所述数据中心发起的计算申请，且确定隐私计算内容为一类计算类型时，通过对应算法对所述目标隐私数据进行向量提取和加密；当确定隐私计算内容为二类计算类型时，从模型库选取计算模型进行模型计算；当模型库中不含执行二类计算类型的计算模型时，向所述数据中心发送模型请求并添加至模型库。
说明书desc
技术领域本申请实施例涉及数据处理领域，特别涉及一种面向用户隐私数据的数据处理方法和数据处理设备。背景技术随着互联网的飞速发展，基于用户服务的各种APP产生了大量用户隐私数据，这些隐私数据的收集及计算服务均由厂家提供。例如APP帐号和配置的相关数据信息存储在APP服务商的数据中心中。虽然服务商向用户承诺保护用户隐私，当这种数据存储方式的安全性主要取决于服务商对用户数据的重视程度，在服务商因管理不善时就会造成隐私数据泄露。此外，边缘设备在数据收集阶段也可能面临数据泄露风险。例如黑客攻击、存储涉及第三方、管理人员人为泄露等因素，数据中心数据安全系统建设及维护成本较大，大部分厂家实际上并无能力提供承诺的数据隐私保护。边缘设备提供商在收集用户数据的同时，虽然提供原始数据的隐私保护，但会利用这些数据进行机器学习，导致训练出的公共模型为他人提供服务时泄露客户隐私数据信息，此隐患尤其在GPT等生成模型中表现明显。用户数据在厂家之间不共用，导致边缘收集信息的设备过配，用户使用成本增多，小厂商部分优质产品由于生态链不完善而无法有效提供优质服务。当然，在客户因担心隐私问题而拒绝提供隐私数据时，服务商则全无法对客户提供任何个性化服务。发明内容本发明提供一种面向用户隐私数据的数据处理方法和数据处理设备，解决用户隐私被泄露的风险，提高用户隐私数据安全性及完善服务商的生态链及智能化服务。一方面，本申请提供一种面向用户隐私数据的数据处理方法，包括：基于各终端设备建立的通讯协议采集和生成用户的隐私数据，并将所述隐私数据分类存储至本地的存储介质中；其中，采集隐私数据和存储过程为单向传输；接收数据中心的服务请求指令，确定所述数据中心的请求权限和请求的目标数据类型；其中，不同数据中心对应不同的平台服务商；从本地存储介质中读取目标隐私数据，根据所述服务请求指令指示的隐私计算类型对所述目标隐私数据进行脱敏转换，将其转换成不可获取原始信息的加密数据；当隐私计算类型为一类计算类型时，直接将所述目标隐私数据进行脱敏转化，当隐私计算类型为二类计算类型时，通过所述数据中心下发的计算模型对所述目标隐私数据进行处理和脱敏转化；其中，一类计算类型包含的计算内容由数据中心执行，二类计算类型包含的计算内容由本地执行；将生成的所述加密数据发送回所述数据中心。另一方面，本申请提供一种面向用户隐私数据的数据处理设备，应用于面向用户隐私数据的数据处理方法，所述设备基于CSP架构搭建，包括：数据接入引擎，内置通讯接口/协议，用于接收各终端设备采集和生成的隐私数据；数据存储引擎，和所述数据接入引擎之间建立单向传输连接，将所述隐私数据进行分类存储到对应存储介质中；服务接入引擎，与各数据中心建立通讯连接，接收所述数据中心发起的服务请求指令，并将本地化处理的加密数据发送回所述数据中心；数据保护引擎，与所述服务接入引擎之间建立交互，接收所述服务接入引擎转发的所述服务请求指令，根据所述服务请求指令指示的隐私计算类型对所述目标隐私数据进行脱敏转换，将其转换成不可获取原始信息的加密数据，以及将所述加密数据发送回数据中心；其中，当隐私计算类型为一类计算类型时，直接将所述目标隐私数据进行脱敏转化；当隐私计算类型为二类计算类型时，通过所述数据中心下发的计算模型对所述目标隐私数据进行处理和脱敏转化；一类计算类型包含的计算内容由数据中心执行，二类计算类型包含的计算内容由本地执行，不同数据中心对应不同平台服务商，用户端是控制各终端设备采集隐私数据的设备；存储介质，通过传输接口/协议与所述数据存储引擎连接，存储各终端设备采集的隐私数据和存储参数。本申请实施例提供的技术方案带来的有益效果至少包括：将隐私数据存储到本地设备的方式，可以在服务商需要调取用户隐私数据的情况下，向该数据处理设备发送请求，然后在本地提前对隐私数据进行隐私数据转换，转换后通过服务接入引擎将结果返回给数据中心，而数据中心可以基于该加密数据进行个性化推荐，该加密数据不仅可以适用于数据中心进行个性化推荐，由不可从中直接获取原始信息，自然就无法直接获取隐私内容。这一过程杜绝了厂商直接接入用户隐私数据的情况，用户也可以放心给厂商调取或申请隐私数据进行个性化分析的权限。从厂商角度来说，可以进一步完善生态链，有针对性的为用户提供个性化智能服务，从用户角度来说，将隐私数据本地化存储和处理，杜绝隐私数据上云公开给服务商，降低隐私数据泄露的风险，且能够享受个性化服务。附图说明图1是本申请实施例提供的面向用户隐私数据的数据处理设备的结构图；图2是另一实施例提供的面向用户隐私数据的数据处理设备的结构图；图3 是本申请实施例提供的是面向用户隐私数据的数据处理方法的流程图。具体实施方式为使本申请的目的、技术方案和优点更加清楚，下面将结合附图对本申请实施方式作进一步地详细描述。在本文中提及的“多个”是指两个或两个以上。“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。在本文中提及的“多个”是指两个或两个以上。“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。图1是本申请实施例提供的面向用户隐私数据的数据处理设备的结构图；该数据处理设备基于CSP架构设计，而该CSP架构可基于FPGA实现，也可基于此架构设计SoC。具体包括如下：数据接入引擎，数据接入引擎内置有支持各种主流通讯接口/协议，如以太网、WIFI、蓝牙和ZigBee等，通过这些接主流通讯接口/协议收各个终端设备采集和生成的隐私数据。终端设备可以包含多个，如办公室环境或家庭环境下各种音频监测和视频监测设备等，当然终端设备不局限于单一传感器设备，还可以是智能手机、手环、可穿戴设备等智能产品，这些智能产品在用户授权的情况下采集对应的隐私数据，如使用习惯、睡眠习惯、浏览记录和帐号密码等等。数据存储引擎，采集的隐私数据属于敏感数据，且是各个厂商针对用户个人定制个性化智能服务所必须的数据，例如根据购物网站的浏览记录推荐相关产品，或根据睡眠情况指定作息时间等。传统的智能化服务提供商需要搜集这些隐私数据到数据中心，然后对这些隐私数据进行分析后提出针对性的智能化服务。当在隐私保护大当其道的前提下，绝大部分用户隐私数据在服务商处都被不同程度的泄露，这就导致一部分看中个人隐私的人拒绝向终端设备开放监测权限，这一点在智能手机和移动穿戴产品和物联网IOT设备上体现尤为明显。基于此，本申请在CSP架构上增设了数据存储引擎和大容量存储介质，存储介质和数据存储引擎之间通过传输接口/协议连接，数据接入引擎接收隐私数据后传输到数据存储引擎，数据存储引擎调用存储介质进行数据本地化存储。管理的存储介质包括emmc、机械盘、固态盘以及通过NVMe-of等协议进行传输的大容量存储设备。存储介质中的隐私数据存储空间、分类和数据管理由数据保护引擎进行统一调度和管理，数据保护中心的控制权限由用户端控制，根据接收的指令控制对各终端设备的存储容量、存储位置和控制参数进行配置与调配。特别需要说明的是，数据接入引擎和数据存储引擎之间是严格单向传输的，也就是数据从数据接入引擎流向数据存储引擎，这一目的是为了避免终端设备在无意授权或恶意读取存储介质中的隐私数据，避免离线端造成数据泄露。单向传输连接可使用任意的单向传输设备实现，具体本实施例不进行限定。如图1中所述，数据处理设备的服务接入引擎接入各个数据中心，不同数据中心对应不同APP程序/平台服务商，提供不同个性化智能服务。服务接入引擎通过与各数据中心建立通讯，接收各个数据中心发起的服务请求指令，以及将本地化处理的加密数据发送指定的数据中心。加密数据的实现过程参见后续实施例。数据保护引擎与控制和服务接入引擎之间建立交互，接收服务接入引擎转发的服务请求指令，并根据获取数据存储引擎调用的目标隐私数据进行脱敏转换，以及将转换的加密数据转送至用户端或服务接入引擎。数据中心和服务商是一一对应关系，用户端是控制各终端设备采集隐私数据的设备，例如PC机或手机等控制设备。其中，当隐私计算类型为一类计算类型时，直接将目标隐私数据进行脱敏转化；当隐私计算类型为二类计算类型时，通过数据中心下发的计算模型对目标隐私数据进行处理和脱敏转化。这种将隐私数据存储到本地设备的方式，可以在服务商需要调取用户隐私数据的情况下，向该数据处理设备发送请求，然后在本地提前对隐私数据进行隐私数据转换，转换后通过服务接入引擎将结果返回给数据中心，而数据中心可以基于该加密数据进行个性化推荐，该加密数据不仅可以适用于数据中心进行个性化推荐，由不可从中直接获取原始信息，自然就无法直接获取隐私内容。这一过程杜绝了厂商直接接入用户隐私数据的情况，用户也可以放心给厂商调取或申请隐私数据进行个性化分析的权限。从厂商角度来说，可以进一步完善生态链，有针对性的为用户提供个性化智能服务，从用户角度来说，将隐私数据本地化存储和处理，杜绝隐私数据上云公开给服务商，降低隐私数据泄露的风险，且能够享受个性化服务。图2是另一实施例提供的面向用户隐私数据的数据处理设备的结构图，主要针对数据中心发起不同类型的服务请求指令时，对隐私数据的具体处理内容。在包含图1中服务接入引擎、数据接入引擎、数据存储引擎和数据保护引擎的基础上，在服务接入引擎内置与数据中心通讯的客户端，通过客户端接收服务请求指令。该客户端是在用户使用智能化产品且厂商授权情况下安装的，该客户端的安装打通本设备和厂商的数据中心，实现为用户提供特定的智能服务。服务请求指令包括隐私计算申请，该申请基于数据中心发起，用于调取目标隐私数据并进行隐私计算，即为提供个性化服务时需要对隐私数据进行数据分析。对于由数据中心发起的针对隐私计算的服务请求指令，例如调取用户睡眠数据和心率脉搏数据等，为用户合理推荐作息时间和饮食等服务，就需要从储存介质里调取相关的睡眠数据、心率数据和脉搏数据等。针对这些隐私数据的分析，数据保护引擎中内置有算法库，包含对各种类型隐私数据进行向量提取的算法，提取的向量数据中包含数据中心进行数据分析所必须的一些目标维度信息，该向量数据可以发送到数据中心，由数据中心进行后续分析，而无需将原始音视频和其他类型的隐私数据直接发送到厂商。这类直接利用提取的向量进行分析计算的请求称为一类计算类型。可选的，算法库中还可以包含有加密算法，对转化后的向量进行加密，具体的加密算法和加密参数和厂商提前约定，目标隐私数据进行加密转换后得到加密数据，再由服务接入引擎的客户端返回到数据中心进行数据分析。当然，对于一些敏感且重要的隐私数据，或者无法通过提取向量后分析的隐私数据，或提取后信息丢失导致分析精度不够的特殊数据，为了提供满足只能服务需求而后不直接上传隐私数据，本申请在服务接入引擎设置有针对厂商设置的模型库，用于存放一些运算隐私数据的计算模型。该计算模型可以是在处理具体隐私计算时从数据中心下发。数据保护引擎通过计算模型对目标隐私数据进行处理，也就是将数据分析步骤下沉到本地设备上，数据中心根据计算模型的分析结果作后续处理。这类利用模型计算结果进行后续分析计算的请求称为二类计算类型，二类计算类型相较于一类计算类型在处理过程上更复杂，一类计算类型的请求只需要在本地提取向量即可，而二类计算类型的请求需要本地设备提供更多的算力，在本地进行隐私数据处理，向数据中心返回简单的模型数据即可，这种处理模式即满足厂商数据分析的要求，也不会泄露用户隐私数据。可选的，本申请实施例中的数据处理设备还可以用于大语言模型的语料分析，如文心一言和ChatGPT等具备即时对话问答的大语言模型。对于厂商而言，为了更好的让大语言模型为特定用户或用户群体服务，需要使用语料数据进行训练而调整模型。对于用户而言，大语言模型的训练需要极高算力，必须借助数据中心的算力。面向隐私数据计算的CSP架构支持此功能在保护原始隐私数据的情况下进行。如图2所示，不同客户端还内置有公共token字典，数据保护引擎内置各数据中心的领域token 字典。公共token字典中包含用于翻译公共语料的公共token ID，将公共语料翻译为公共token ID。领域token 字典包含用于翻译领域语料的领域token ID，将领域语料翻译为领域token ID，邻域token字典是用户私有数据形成的字典。公共语料和领域语料即表示为通用语言和专业技术语言相关的数据信息，这样语料是训练大语言模型训练必须的隐私数据。其中，数据中心和领域token 字典为一一对应关系，不同的数据中心建立的公共token字典、领域token ID字典和领域token ID可以不相同。服务接入引擎中的使用控制权在数据中心，数据中心可以根据需求对模型库和公共token 字典进行管理，如定期清除数据和升级，适配最新收集的语料库及训练成果，领域token 字典升级由数据保护引擎进行，添加最新语料-ID条目、完善已有字典ID对应语料信息的同时保护原始数据。此外，数据保护引擎还和用户端之间建立通讯连接，基于用户端的控制指令进行数据管理。该数据保护引擎的控制权限在用户端，其根据用户端的指令控制对各终端设备的存储容量、存储位置和控制参数进行配置与管理。该数据保护引擎基于用户端的数据申请指令调取目标隐私数据并进行相关操作，而后数据保护引擎将用户调取的隐私数据和反馈数据等直接通过协议发送到用户端。该过程具体可以包括隐私数据查看、删除和编辑等操作。在一些实施例中，该CSP架构构建的数据处理设备主要存储隐私数据，对其进行各种AI计算及pre/post数据处理运算，此外还包括脱敏转换和本地化数据处理等步骤，所以在CSP架构上还增设了计算加速引擎。计算加速引擎集成常用计算加速核如神经网络计算加速核、数据库加速核、压缩/解压加速核、加密/解密加速核以及通用计算核等，可支持常用AI计算及pre/post数据处理运算等，该加速引擎在数据保护引擎执行相关数据处理过程中被调用，加快数据处理，提高响应速度。针对该面向隐私数据计算的CSP架构和数据处理设备，本申请提供一种面向用户隐私数据的数据处理方法，如图3所示，是面向用户隐私数据的数据处理方法的流程图，具体包括如下步骤：步骤301，基于数据接入引擎和各终端设备建立的通讯协议采集和生成用户的隐私数据，并通过数据存储引擎将隐私数据分类存储至本地的存储介质中。数据接入引擎连接若干终端设备，接收的数据通过数据存储引擎进行分类存储，且数据接入引擎和数据存储引擎之间为单向传输过程。步骤302，通过服务接入引擎接收数据中心的服务请求指令，确定服务请求指令的请求权限和请求的目标数据类型。请求权限用于验证该数据中心是否被用户端授权调取隐私数据，只有在用户端授权的情况下才进行后续步骤，目标数据类型用于确定具体需要的隐私数据和存储位置。步骤303，通过数据存储引擎从本地存储介质中读取目标隐私数据，并通过调用数据保护引擎进行脱敏转换，将其转换成不可获取原始信息的加密数据。本地存储介质根据服务请求指令指示的隐私计算类型来选择具体的脱敏转化过程。脱敏转换步骤在本地设备进行，转换后的加密数据是包含厂商或数据中心进行个性化分析所必须维度信息的数据，直接根据该加密数据已不可获取原始数据信息，从源头保护数据。步骤304，通过服务接入引擎将生成的加密数据发送回数据中心。这种隐私数据不上云处理的方式可以更好地保护隐私，避免因厂商管理不善导致泄密。而脱敏转换可以将数据进一步加密，用户端可以放心提供厂商对隐私数据的调取权限，体验不同终端设备的个性化服务。对于数据中心发送的服务请求指令，具体还需根据实际隐私计算内容判断对目标隐私数据进行具体的隐私转换方式。因为不同的厂商提供的个性化服务并不相容，且不同的个性化功能所收集的隐私数据内容和对隐私数据的计算方式也不尽不相同。而且，只有在数据中心被授权的情况下才会判断后续的计算类型。当隐私计算内容指示对向量执行处理时，将其确定为第一计算类型；当隐私计算内容指示对模型数据执行处理时，将其确定为二类计算类型。根据计算类型划分，一类计算类型对应的计算内容是返回数据中心基于返回的向量数据执行相关操作，二类计算类型对应的计算内容是使用本地计算模型对目标隐私数据进行计算，而后将模型数据返回数据中心。具体可以根据向量提取操作来确定，向量提取是快速提取有用维度信息的一种方法，根据具体个性化服务确定，而对于一些不使用向量提取的隐私数据则采用本地化分析的策略。具体一类和二类计算类型的判定可以由数据中心发送服务请求指令时指定或由本地设备根据经验确定。当确定隐私计算类型为一类计算类型时，基于计算内容确定和读取相关的目标隐私数据，并直接对目标隐私数据进行脱敏转换。在一种可能的实施方式中，脱敏转换包括向量提取和同态加密，在通过数据存储引擎调取目标隐私数据后，数据保护引擎基于计算所需的目标维度信息对目标隐私数据进行向量提取，获得包含目标维度信息的第一向量数据。然后再根据和数据中心约定的加密参数对第一向量数据进行同态加密，获得一类加密向量。向量提取和同态加密的具体算法及参数从数据保护引擎的算法库中获取。需要说明的是，如果数据使用普通加密算法加密后，使用数据需要先解密；如果数据使用同态加密算法加密，数据是可以在不解密的情况下进行计算的所以普通算法加密数据传输是为了防止传输链路上泄露数据，而同态加密算法加密数据是根本上杜绝接收的人获知加密前数据。当确定隐私计算类型为二类计算类型时，数据保护引擎基于所需的计算内容确定和读取目标隐私数据，通过服务接入引擎向数据中心请求计算模型，在数据中心下发处理二类计算对应的计算模型后，基于该计算模型对目标隐私数据进行模型计算，并对模型计算结果，也就是模型数据进行脱敏转换。可选的，当数据中心在服务接入引擎设置模型库时，可以从模型库中寻找目标计算模型，当不存在目标计算模型时，再请求数据中心下发并存入到模型库中。需要说明的是，服务接入引擎的控制权限由厂商控制，包括对客户端的升级及模型库的管理和维护。在一种可能的实施方式中，在数据保护引擎使用完目标计算模型后，由服务接入引擎控制其删除，避免泄露厂商的技术。特写说明的是，对于数据保护引擎在进行隐私数据处理时，考虑到AI计算和一些模型计算，还需要调度计算加速引擎进行加速处理，处理一些神经网络加速运算、压缩和解压缩运算、以及加密解密运算等。下面以一些实施例进行说明该面向隐私数据计算的CSP架构和数据处理方法和设备用于实时监测场景的应用。1，远程用户端发出数据查询申请到服务接入引擎中服务商的客户端；2，服务商的客户端发送数据读取命令到数据保护引擎；3，数据保护引擎调用数据存储引擎读取目标隐私数据；4，数据保护引擎调用计算加速引擎，对目标数据引擎进行加密转化；5，数据保护引擎将加密数据转发到用户端。对于一类计算类型执行的具体过程包括如下步骤：1，服务商服务端发申请到CSP架构设备中的客户端；2，客户端转发命令到数据保护引擎；3，数据保护引擎通过数据存储引擎调取目标隐私数据；4，数据保护引擎调用计算加速引擎对目标隐私数据进行向量计算；5，数据保护引擎对第一向量数据进行加密保护后通过服务接入引擎回传数据中心；6，数据中心进行模型训练；7，数据中心将训练好的AI模型下发到终端设备，为用户提供智能化服务。对于二类计算类型执行的具体过程包括如下步骤：1，数据中心下发计算模型和算法到服务接入引擎；2，通过客户端转发到数据保护引擎；3，数据保护引擎加载计算模型及算法参数，并调用计算加速引擎进行分析计算；4，数据保护引擎返回模型计算结果embedding到客户端，并回传数据中心；5，数据中心根据embedding进行召回计算；6，数据中心为用户提供个性化推荐服务。推荐服务是互联网厂商最具商业价值的业务之一，面向隐私数据计算的CSP架构可以把基于用户浏览习惯的推荐扩展到基于用户生活习惯的推荐，同时保证用户数据隐私。如根据用户活动、睡眠等信息分析健康状态并推荐相应提升策略及产品，根据用户驾驶习惯分析并推荐驾驶策略，根据用户日常交谈信息分析并推荐近期关注的产品。上述流程中embedding的计算利用了多个维度数据，如图像信息、时间信息、语音信息、健康状态信息、天气信息、动作信息等，embedding计算在基于面向隐私数据计算的CSP架构的设备中进行，服务商可以不获取隐私数据的情况下，为用户进行精准推荐。当然也可以不上传embedding table，本地分析提供数据分析与预测服务，如分析行为习惯预测一段时间内的动作预设置设备，可以冬天自动提前预热新能源车，预开启卫生间热风，动态调整环境参数改善睡眠质量等。本申请实施例提供的方法还可以用于大语言模型，大语言模型基于大量语料训练实现AI智能，这也导致较多设备窃取用户隐私的情况，当数据中心作为大语言模型收集隐私信息时，采取以下方案：在接收到数据中心的服务请求指令并确定目标语料后，通过公共词元token字典将目标语料翻译为公共token ID，也就是公共词元ID流；当公共token字典中不含翻译目标语料的token ID时，基于目标语料赋予领域token ID，并根据数据中心生成领域token 字典，将领域token ID加入其中；通过公共token ID和/或领域token ID形成token ID流，并反馈至数据中心；数据中心根据token ID流训练特定领域生成模型，为用户提供AI生成服务。公共语料是上述token转ID的过程就是把一段正式数据转成ID编号的过程。如把“我是”的ID是0x0001，“中国人”的ID是0x0002，则“我是中国人”这句话上传为0x00010002。转token ID流的过程即为隐私转化的过程，和向量提取类似，可选的，该token ID流还可以进一步加密后发送给数据中心。Token是文本中的最小单位，Token 可以被理解为文本中的最小单位。在英文中，一个 token 可以是一个单词，也可以是一个标点符号。在中文中，通常以字或词作为token。ChatGPT 将输入文本拆分成一个个 token，使模型能够对其进行处理和理解。基于此种流程，可不提供原始领域数据的情况下使用服务商提供的AI计算能力，防止内部通过运营商或者通过训练出的模型泄露形式。送上所述，本申请实施例提供的方法带来的技术效果包括如下：1)从源头保护数据隐私，减少原始数据流经节点和经手管理主体，减轻泄露隐患；2)减少网络数据传输，减轻带宽建设带来的成本压力，同时减低服务延时，提高服务质量；3)数据多设备/服务商共享，降低数据收集终端建设成本，同时允许用户使用不在生态链之内的小厂某项优质服务；4)打破数据隐私保护对厂家信用的完全依赖，数据采集终端与服务提供商分离，排除未经允许的后台传输可能；5)为用户和厂家之间建立隐私数据保护可信保障，保护隐私数据同时享受优质的AI服务。以上对本发明的较佳实施例进行了描述；需要理解的是，本发明并不局限于上述特定实施方式，其中未尽详细描述的设备和结构应该理解为用本领域中的普通方式予以实施；任何熟悉本领域的技术人员，在不脱离本发明技术方案作出许多可能的变动和修饰，或修改为等同变化的等效实施例，这并不影响本发明的实质内容；因此，凡是未脱离本发明技术方案的内容，依据本发明的技术实质对以上实施例所做的任何简单修改、等同变化及修饰，均仍属于本发明技术方案保护的范围内。
