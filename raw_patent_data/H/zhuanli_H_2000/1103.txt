标题title
场景触发方法、系统、电子设备及计算机存储介质
摘要abst
本发明涉及计算机技术领域，提供一种场景触发方法、系统、电子设备及计算机存储介质，该方法包括：响应场景触发请求，将场景触发标签发送至用户终端；接收用户终端发送的终端数据；基于终端数据和场景触发标签，确定用户终端的目标执行场景，基于终端数据确定用户终端在目标执行场景中的场景联动情景；解析出响应的场景触发指令中的选定场景，基于选定场景触发目标联动情景。本发明通过场景触发标签实现场景触发，不需要安装App和控制面板交互，提高了场景触发的便捷性。同时，只需要通过终端数据确定用户终端的场景联动情景，再通过场景触发指令中的选定场景触发目标联动情景，不需要重新设置一个新的场景，提高了场景触发的灵活性。
权利要求书clms
1.一种场景触发方法，其特征在于，包括：响应用户终端发送的场景触发请求，并基于所述场景触发请求将场景触发标签发送至所述用户终端；接收所述用户终端发送的终端数据；所述终端数据是所述用户终端触发所述场景触发标签后发送的数据；基于所述终端数据和所述场景触发标签，确定所述用户终端的目标执行场景，并基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景；响应所述用户终端发送的场景触发指令，解析出所述场景触发指令中的选定场景，并基于所述选定场景触发所述场景联动情景中的目标联动情景。2.根据权利要求1所述的场景触发方法，其特征在于，所述基于所述选定场景触发所述场景联动情景中的目标联动情景，包括：将所述选定场景在所述场景联动情景中进行场景匹配，确定所述场景联动情景中是否存与所述选定场景匹配的联动情景；若确定所述场景联动情景中存在与所述选定场景匹配的联动情景，则将与所述选定场景匹配的联动情景，确定为所述目标联动情景。3.根据权利要求1所述的场景触发方法，其特征在于，所述终端数据包括用户信息、终端设备信息、加密密文数据和场景触发数据；所述加密密文数据和所述场景触发数据是所述用户终端扫描所述场景触发标签得到的数据，所述用户信息和所述终端设备信息为所述用户终端自身携带的数据；所述基于所述终端数据和所述场景触发标签，确定所述用户终端的目标执行场景，包括：将所述用户信息在预设信息列表中进行信息匹配，确定所述预设信息列表中是否存在所述用户信息；若确定所述预设信息列表中存在所述用户信息，则基于所述加密密文数据对所述场景触发数据进行解密，确定出所有的场景；基于所述终端设备信息和第一预设等级映射表，确定出所述用户终端的场景触发等级，并根据所述场景触发等级在所有的场景中，匹配出所述用户终端的目标执行场景；所述第一预设等级映射表为终端设备信息与场景等级之间的关联关系映射表。4.根据权利要求3所述的场景触发方法，其特征在于，所述基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景，包括：基于所述终端设备信息和第二预设等级映射表，确定出所述用户终端的场景联动等级；所述第二预设等级映射表为终端设备信息与场景联动等级之间的关联关系映射表；根据所述场景联动等级过滤所述目标执行场景中目标执行设备，得到所述用户终端的场景联动情景。5.根据权利要求3所述的场景触发方法，其特征在于，所述终端设备信息包括终端网际互连协议IP地址和终端物理MAC地址；所述基于所述终端设备信息和第一预设等级映射表，确定出所述用户终端的场景触发等级，包括：基于所述终端网际互连协议IP地址或所述终端物理MAC地址，在所述第一预设等级映射表中进行匹配，得到所述用户终端的场景触发等级。6.根据权利要求1所述的场景触发方法，其特征在于，所述响应用户终端发送的场景触发请求之前，还包括：接收主设备录入的场景信息以及所述场景信息的场景联动信息；对所述场景信息及其场景联动信息进行信息加密，得到场景触发数据，并将所述场景触发数据及其加密密文数据进行标签化处理，得到所述场景触发标签。7.根据权利要求1至6任一项所述的场景触发方法，其特征在于，所述场景触发标签包括二维码场景触发标签和近地通信NFC场景触发标签。8.一种场景触发系统，其特征在于，包括：发送模块，用于响应用户终端发送的场景触发请求，并基于所述场景触发请求将场景触发标签发送至所述用户终端；接收模块，用于接收所述用户终端发送的终端数据；所述终端数据是所述用户终端触发所述场景触发标签后发送的数据；确定模块，用于基于所述终端数据确定所述用户终端的目标执行场景，并基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景；场景触发模块，用于响应所述用户终端发送的场景触发指令，解析出所述场景触发指令中的选定场景，并基于所述选定场景触发所述场景联动情景中的目标联动情景。9.一种电子设备，所述电子设备包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，处理器执行计算机程序时实现权利要求1至7任一项所述的场景触发方法。10.一种非暂态计算机可读存储介质，所述非暂态计算机可读存储介质包括计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至7任一项所述的场景触发方法。
说明书desc
技术领域本发明涉及计算机技术领域，尤其涉及一种场景触发方法、系统、电子设备及计算机存储介质。背景技术传统的智能家居控制系统通常由主设备和子设备组成，其中主设备负责整个系统的管理和控制，子设备负责信息反馈和命令执行。场景一般指给一组智能家居设置预设动作。例如用户设置了“回家”场景，该场景预设灯打开、空调打开等预设动作。用户操作“回家”场景时，即可一次操控到多个设备。然而，用户往往需要通过安装特定应用程序App或控制面板设备才能与主设备进行交互，进而达到控制场景的目的。因此，有访客想控制一些场景时，也需要先安装App或者找到控制面板，导致了场景触发的便捷性低。同时，传统的智能家居控制方法中，往往只能支持场景下设备的预设动作全部触发或者不触发，导致了场景触发的灵活性低。发明内容本发明提供一种场景触发方法、系统、电子设备及计算机存储介质，旨在提高场景触发的便捷性和灵活性。第一方面，本发明提供一种场景触发方法，包括：响应用户终端发送的场景触发请求，并基于所述场景触发请求将场景触发标签发送至所述用户终端；接收所述用户终端发送的终端数据；所述终端数据是所述用户终端触发所述场景触发标签后发送的数据；基于所述终端数据和所述场景触发标签，确定所述用户终端的目标执行场景，并基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景；响应所述用户终端发送的场景触发指令，解析出所述场景触发指令中的选定场景，并基于所述选定场景触发所述场景联动情景中的目标联动情景。在一个实施例中，所述基于所述选定场景触发所述场景联动情景中的目标联动情景，包括：将所述选定场景在所述场景联动情景中进行场景匹配，确定所述场景联动情景中是否存与所述选定场景匹配的联动情景；若确定所述场景联动情景中存在与所述选定场景匹配的联动情景，则将与所述选定场景匹配的联动情景，确定为所述目标联动情景。所述终端数据包括用户信息、终端设备信息、加密密文数据和场景触发数据；所述加密密文数据和所述场景触发数据是所述用户终端扫描所述场景触发标签得到的数据，所述用户信息和所述终端设备信息为所述用户终端自身携带的数据；在一个实施例中，所述基于所述终端数据和所述场景触发标签，确定所述用户终端的目标执行场景，包括：将所述用户信息在预设信息列表中进行信息匹配，确定所述预设信息列表中是否存在所述用户信息；若确定所述预设信息列表中存在所述用户信息，则基于所述加密密文数据对所述场景触发数据进行解密，确定出所有的场景；基于所述终端设备信息和第一预设等级映射表，确定出所述用户终端的场景触发等级，并根据所述场景触发等级在所有的场景中，匹配出所述用户终端的目标执行场景；所述第一预设等级映射表为终端设备信息与场景等级之间的关联关系映射表。在一个实施例中，所述基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景，包括：基于所述终端设备信息和第二预设等级映射表，确定出所述用户终端的场景联动等级；所述第二预设等级映射表为终端设备信息与场景联动等级之间的关联关系映射表；根据所述场景联动等级过滤所述目标执行场景中目标执行设备，得到所述用户终端的场景联动情景。所述终端设备信息包括终端网际互连协议IP地址和终端物理MAC地址；在一个实施例中，所述基于所述终端设备信息和第一预设等级映射表，确定出所述用户终端的场景触发等级，包括：基于所述终端网际互连协议IP地址或所述终端物理MAC地址，在所述第一预设等级映射表中进行匹配，得到所述用户终端的场景触发等级。在一个实施例中，所述响应用户终端发送的场景触发请求之前，还包括：接收主设备录入的场景信息以及所述场景信息的场景联动信息；对所述场景信息及其场景联动信息进行信息加密，得到场景触发数据，并将所述场景触发数据及其加密密文数据进行标签化处理，得到所述场景触发标签。所述场景触发标签包括二维码场景触发标签和近地通信NFC场景触发标签。第二方面，本发明提供一种场景触发系统，包括：发送模块，用于响应用户终端发送的场景触发请求，并基于所述场景触发请求将场景触发标签发送至所述用户终端；接收模块，用于接收所述用户终端发送的终端数据；所述终端数据是所述用户终端触发所述场景触发标签后发送的数据；确定模块，用于基于所述终端数据确定所述用户终端的目标执行场景，并基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景；场景触发模块，用于响应所述用户终端发送的场景触发指令，解析出所述场景触发指令中的选定场景，并基于所述选定场景触发所述场景联动情景中的目标联动情景。第三方面，本发明还提供一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现第一方面所述场景触发方法。第四方面，本发明还提供一种非暂态计算机可读存储介质，非暂态计算机可读存储介质包括计算机程序，所述计算机程序被所述处理器执行时实现第一方面所述场景触发方法。本发明提供的场景触发方法、系统、电子设备及计算机存储介质，响应用户终端发送的场景触发请求，并基于场景触发请求将场景触发标签发送至用户终端；接收用户终端发送的终端数据；基于终端数据和场景触发标签，确定用户终端的目标执行场景，并基于终端数据确定用户终端在目标执行场景中的场景联动情景；响应用户终端发送的场景触发指令，解析出场景触发指令中的选定场景，并基于选定场景触发场景联动情景中的目标联动情景。在场景触发的过程中，直接通过场景触发标签实现场景触发，不需要安装App，也不需要控制面板交互，提高了场景触发的便捷性。同时，在场景触发的过程中，只需要通过终端数据确定用户终端的目标执行场景和目标执行场景中的场景联动情景，再通过场景触发指令中的选定场景触发场景联动情景中的目标联动情景，不需要重新设置一个新的场景，提高了场景触发的灵活性。附图说明为了更清楚地说明本发明的技术方案，下面将对实施例或现有技术描述中所需使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明提供的场景触发方法的流程示意图；图2是本发明提供的场景触发方法的整体方案流程图；图3是本发明提供的场景触发系统的结构示意图；图4是本发明提供的电子设备的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合本发明中的附图，对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明实施例提供了场景触发方法的实施例，需要说明的是，虽然在流程图中示出了逻辑顺序，但是在某些数据下，可以以不同于此处的顺序完成所示出或描述的步骤。参照图1，图1是本发明提供的场景触发方法的流程示意图。本发明实施例提供的场景触发方法包括：步骤101，响应用户终端发送的场景触发请求，并基于所述场景触发请求将场景触发标签发送至所述用户终端。需要说明的是，本发明实施例以场景触发系统作为执行主体，场景触发系统可以理解为一种智能家居控制系统，智能家居控制系统包括主设备和子设备，主设备负责整个系统的管理和控制，子设备负责信息反馈和命令执行。具体地，用户在需要进行场景触发时，需要通过用户终端向智能家居控制系统发送场景触发请求，智能家居控制系统的主设备响应用户终端发送的场景触发请求，并将智能家居控制系统中的场景触发标签发送至用户终端。需要说明的是，场景触发是指通过识别用户的行为或者环境信息，自动触发相应的场景或者操作，从而提高用户的交互效率和用户体验，主要应用在智能家居、智能办公、智能交通等领域中。在一实施例中，传统场景触发应用在智能家居领域时，用户可以通过应用程序App或者控制面板对智能家居系统发出场景触发请求，场景触发请求包含了触发场景的信息，可以实现控制家庭中的灯光、电器、窗帘等家居，当用户选择执行的触发场景是回家场景时，智能家居系统会自动打开家庭中的所有灯光、电视机和窗帘。需要进一步说明的是，场景触发标签是智能家居控制系统在用户触发场景之前，根据接收到的场景触发信息生成的标签。在一实施例中，场景触发标签包括二维码场景触发标签和近地通信场景触发标签，二维码场景触发标签和近地通信NFC场景触发标签都是用于信息传输的技术，终端设备可以通过扫描二维码或者使用NFC功能读取信息，实现智能家居控制系统和用户终端之间的通信和交互。步骤102，接收所述用户终端发送的终端数据；步骤103，基于所述终端数据和所述场景触发标签，确定所述用户终端的目标执行场景，并基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景；具体地，用户终端接收到智能家居控制系统发送的场景触发标签后，扫描场景触发标签，读取出场景触发标签中的数据信息，在一实施例中，场景触发标签以二维码场景触发标签进行举例说明。因此可以理解为，用户终端接收到智能家居控制系统发送的二维码场景触发标签后，扫描二维码场景触发标签，读取二维码场景触发标签中的数据信息，需要说明的是，二维码场景触发标签是智能家居控制系统中通过加密密文数据和场景触发数据进行标签化处理得到的，因此，用户终端扫描二维码场景触发标签得到的数据信息即为加密密文数据和场景触发数据。进一步地，用户终端根据读取到的二维码场景触发标签中的加密密文数据和场景触发数据，将用户终端的用户信息和终端设备信息，以及扫描二维码场景触发标签得到的加密密文数据和场景触发数据进行打包，得到终端数据，并将终端数据发送至智能家居控制系统。需要说明的是，用户信息和终端设备信息为用户终端自身携带的数据，在一实施例中，用户信息可为用户身份标识信息，终端设备信息可为终端网际互连协议地址和终端物理地址。进一步地，智能家居控制系统接收到终端数据后，根据终端数据确定用户终端的目标执行场景。进一步地，智能家居控制系统根据终端数据确定目标执行场景中的场景联动情景。需要说明的是，场景联动情景是指在特定的场景下，智能控制系统可以根据接收到的终端数据自动执行一系列相关联的操作，以实现特定的功能来满足用户的需求。因此可以理解为，智能家居控制系统根据用户信息、终端设备信息、加密密文数据、场景触发数据和场景触发标签，确定用户终端的目标执行场景和目标执行场景中的场景联动情景。步骤104，响应所述用户终端发送的场景触发指令，解析出所述场景触发指令中的选定场景，并基于所述选定场景触发所述场景联动情景中的目标联动情景。需要说明的是，用户终端将终端数据发送至智能家居控制系统的同时，也会发送场景触发指令，场景触发指令是用户在用户终端中选定所要触发的场景生成的指令。因此，智能家居控制系统接收到用户终端发送的场景触发指令后，响应用户终端发送的场景触发指令，解析出场景触发指令中的选定场景。进一步地，智能家居控制系统根据场景触发指令中的选定场景，确定出场景联动情景中的目标联动情景，并触发场景联动情景中的目标联动情景。需要说明的是，在另一实施例中，智能家居控制系统在确定出场景联动情景后，将场景联动情景发送至用户终端，用户在用户终端中根据场景联动情景选择所需要执行的场景，因此可以理解为，场景触发指令中携带有用户根据场景联动情景选择所需要执行的场景，智能家居控制系统根据用户选择所需要执行的场景触发场景联动情景。如，智能家居控制系统确定出用户终端A的场景联动情景为场景1，场景2和场景3，并将场景1，场景2和场景3发送至用户终端。用户在用户终端中根据场景1，场景2和场景3选择所需要执行的场景为场景2，因此，智能家居控制系统触发场景2中的场景联动情景。本发明提供的场景触发方法、响应用户终端发送的场景触发请求，并基于场景触发请求将场景触发标签发送至用户终端；接收用户终端发送的终端数据；基于终端数据和场景触发标签，确定用户终端的目标执行场景，并基于终端数据确定用户终端在目标执行场景中的场景联动情景；响应用户终端发送的场景触发指令，解析出场景触发指令中的选定场景，并基于选定场景触发场景联动情景中的目标联动情景。在场景触发的过程中，直接通过场景触发标签实现场景触发，不需要安装App，也不需要控制面板交互，提高了场景触发的便捷性。同时，在场景触发的过程中，只需要通过终端数据确定用户终端的目标执行场景和目标执行场景中的场景联动情景，再通过场景触发指令中的选定场景触发场景联动情景中的目标联动情景，不需要重新设置一个新的场景，提高了场景触发的灵活性。进一步地，基于步骤101记载的响应用户终端发送的场景触发请求之前，还包括：接收主设备录入的场景信息以及所述场景信息的场景联动信息；对所述场景信息及其场景联动信息进行信息加密，得到场景触发数据，并将所述场景触发数据及其加密密文数据进行标签化处理，得到所述场景触发标签。具体地，用户管理员在进行场景触发管理时，需要通过用户管理员终端在智能家居控制系统的主设备中录入场景信息和场景信息中的场景联动信息。进一步地，智能家居控制系统接收到主设备录入的场景信息和场景信息中的场景联动信息后，将场景信息和场景信息中的场景联动信息存储至智能家居控制系统的数据库中。需要说明的是，场景信息包括场景名称，场景联动信息包括联动设备和联动动作，场景联动信息需要具备逻辑性和合理性，以确保能够在场景联动中实现预期的效果。在一实施例中，用户管理员通过用户管理员终端在智能家居控制系统的主设备中录入场景信息及其场景联动信息，用户管理员预先设置了两个场景分别为场景1和场景2。场景1的场景名称为回家场景，因此，场景1的场景联动情景可以为打开客厅灯+打开厨房灯+打开客厅空气净化器。场景2的场景名称为离家场景，因此，场景2的场景联动情景可以为关闭所有设备。进一步地，智能家居控制系统通过对称加密算法利用加密密文数据对存储至智能家居控制系统的数据库中的场景信息和场景信息中的场景联动信息进行加密，得到场景触发数据。进一步地，智能家居控制系统将加密后的场景触发数据进行标签化处理，得到场景触发标签。需要说明的是，标签化处理包括二维码标签化处理和近地通信NFC标签化处理。因此可以理解为，智能家居控制系统将加密后的场景触发数据进行标签化处理，得到二维码场景触发标签，或者近地通信NFC场景触发标签。当用户终端发送场景触发请求给智能家居控制系统时，系统会将场景触发标签作为响应数据发送回用户终端，用以实现智能家居控制系统和用户终端之间的通信和交互。在场景触发的过程中，直接通过场景触发标签实现场景触发，不需要安装App，也不需要控制面板交互，提高了场景触发的便捷性。需要说明的是，传统场景下生成的场景触发数据通常采用明文存储，也就是说将场景触发数据以普通文本形式存储在计算机中或其他设备中，使得所有人都可以读取和理解场景触发数据，这种存储方式会容易受到黑客对控制系统的攻击和非法访问，从而给控制系统带来安全隐患。在本实施例中，通过对称加密算法利用加密密文数据对智能家居控制系统的数据库中的场景信息和场景信息中的场景联动信息进行加密，得到场景触发数据，并将加密后的场景触发数据进行标签化处理得到场景触发标签，这种非明文存储方式可以使智能控制系统避免安全隐患。用户终端扫描并读取二维码场景触发标签或者近地通信NFC场景触发标签的数据时，会携带加密密文数据访问统一的入口，在该入口处进行解密操作，并对用户身份进行验证，以确保只有授权用户可以访问预先设置的场景触发数据。进一步地，步骤103基于所述终端数据和所述场景触发标签，确定所述用户终端的目标执行场景，包括：将所述用户信息在预设信息列表中进行信息匹配，确定所述预设信息列表中是否存在所述用户信息；若确定所述预设信息列表中存在所述用户信息，则基于所述加密密文数据对所述场景触发数据进行解密，确定出所有的场景；基于所述终端设备信息和第一预设等级映射表，确定出所述用户终端的场景触发等级，并根据所述场景触发等级在所有的场景中，匹配出所述用户终端的目标执行场景。具体地，用户管理员在进行场景触发管理时，需要通过用户管理员终端在智能家居控制系统的主设备中预先设置预设信息列表，将能够授权使用的用户信息预先录入到预设信息列表中。进一步地，智能家居控制系统接收到主设备预先设置的预设信息列表后，将预设信息列表存储至智能家居控制系统的数据库中。进一步地，智能家居控制系统接收到用户终端发送的终端数据后，将终端数据中的用户信息，在预设信息列表中进行信息匹配，确定预设信息列表中是否存在用户信息。需要说明的是，用户信息是指用户在使用产品或服务过程中产生的个人信息，主要涉及到各种应用程序中的个人身份验证，通常地，用户信息会采用用户ID信息方式储存，用户ID信息是指用户在一个系统中被分配的唯一标识符，用于标识和区分不同的用户，用户ID信息经常被用于用户登录、账号注册以及跟踪用户行为。进一步地，若确定预设信息列表中不存在用户信息，也就是说明用户信息并没有被授权，智能家居控制系统则返回场景触发失败提示信息至用户终端。进一步地，若确定预设信息列表中存在用户信息，也就是说明用户信息被授权了，智能家居控制系统则利用加密密文数据将场景触发数据进行解密，确定出智能家居控制系统中所有的场景，以及场景中的场景联动情景。需要说明的是，加密密文数据是一种参数，它是在明文转换为密文或将密文转换为明文的算法中输入的参数。进一步地，智能家居控制系统根据终端数据中的终端设备信息，在第一预设等级映射表中进行等级匹配，确定出用户终端的场景触发等级，其中，第一预设等级映射表是用户管理员通过用户管理员终端在智能家居控制系统的主设备中预先设置，并被智能家居控制系统存储至智能家居控制系统的数据库中的。需要说明的是，第一预设等级映射表是终端设备信息与场景等级之间的关联关系映射表。在一实施例中，第一预设等级映射表为{终端设备信息1-＞A；终端设备信息2-＞A，终端设备信息3-＞B}，即终端设备信息1和终端设备信息2的场景触发等级为A级，终端设备信息3的场景触发等级为B级。进一步地需要说明的是，终端设备信息包括终端网际互连协议IP地址和终端物理MAC地址，其中，终端网际互连协议IP地址和终端物理MAC地址是指网络设备在出厂时预设的唯一标识，是用来识别网络设备的地址，以确保数据能够被正确的发送和接收。因此可以理解为，智能家居控制系统根据用户终端的终端IP地址或者终端MAC地址，在第一预设等级映射表中进行匹配，确定出用户终端的场景触发等级，根据场景触发等级在所有场景中进行匹配，匹配出用户终端的目标执行场景。需要说明的是，在进行场景触发的过程中，通常地，根据不同的用户采用分级授权方式来给予不同的权限，分级授权是指将组织中的不同级别员工授权获得不同的访问权限，使得员工只能访问他们的工作岗位所需的信息和资源，而不能访问不必要的信息和资源，从而确保数据的安全性和减少数据泄露的风险。在一实施例中，智能家居控制系统中有回家场景1和回家场景2，回家场景1的场景触发等级为A，回家场景1的场景联动情景为打开客厅所有的设备。回家场景2的场景触发等级为B。预设信息列表为：主人用户1和主人用户2，对应的用户信息为用户ID1和用户ID2，父母用户3和父母用户4，对应的用户信息为用户ID3和用户ID4，朋友用户5至朋友用户7，对应的用户信息为用户ID5至用户ID7。因此，预设信息列表如表1：表1 预设信息列表第一预设等级映射表为：主人用户1和主人用户2，对应的终端设备信息为终端IP地址1和终端IP地址2，对应的场景触发等级为A级。父母用户3和父母用户4，对应的终端设备信息为终端IP地址3和终端IP地址4，对应的场景触发等级为A级。朋友用户5至朋友用户7，对应的终端设备信息为终端IP地址5至终端IP地址7，对应的场景触发等级为B级。因此，第一预设等级映射表如表2：表2 第一预设等级映射表用户终端A发送终端数据的用户信息为用户ID3，终端设备信息为终端IP地址3。智能家居控制系统根据用户ID3在预设信息列表中进行匹配，确定存在用户ID3。智能家居控制系统再根据终端IP地址3在第一预设等级映射表中匹配，得到用户终端A的场景触发等级为A。因此，智能家居控制系统确定用户终端A的目标执行场景为回家场景1。用户终端B发送的用户信息为用户ID8，终端设备信息为终端IP地址8，智能家居控制系统根据用户ID8在预设信息列表中进行匹配，确定不存在用户ID8，则返回场景触发失败提示信息至用户终端B。进一步地，步骤103所述基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景，包括：基于所述终端设备信息和第二预设等级映射表，确定出所述用户终端的场景联动等级；根据所述场景联动等级过滤所述目标执行场景中目标执行设备，得到所述用户终端的场景联动情景。具体地，智能家居控制系统根据终端数据中的终端设备信息，在第二预设等级映射表中进行等级匹配，确定出用户终端的场景联动等级，其中，第二预设等级映射表是用户管理员通过用户管理员终端在智能家居控制系统的主设备中预先设置，并被智能家居控制系统存储至智能家居控制系统的数据库中的。需要说明的是，第二预设等级映射表为终端设备信息与场景联动等级之间的关联关系映射表，终端设备信息包括终端网际互连协议IP地址和终端物理MAC地址。在一实施例中，第二预设等级映射表为{终端设备信息1-＞A1；终端设备信息2-＞A2；终端设备信息3-＞B1}，即终端设备信息1的场景联动等级为A1级，终端设备信息2的场景联动等级为A2级，终端设备信息3的场景联动等级为B1级。因此可以理解为，在基于第一预设等级映射表匹配到的用户终端的目标执行场景后，智能家居控制系统根据用户终端的终端IP地址或者终端MAC地址，在第二预设等级映射表中进行等级匹配，确定出用户终端的场景联动等级，根据场景联动等级过滤掉目标执行场景中的目标执行设备，并确定用户终端的场景联动情景。在场景触发的过程中，通过终端数据确定用户终端的目标执行场景，以及通过终端数据确定目标执行场景中的场景联动情景，不需要重新设置一个新的场景，提高了场景触发的灵活性。在一实施例中，智能家居控制系统中有回家场景1和回家场景2，回家场景1的场景触发等级为A，回家场景1包括场景联动情景1.1和场景联动情景1.2，场景联动情景1.1为打开客厅所有的设备+打开主卧灯+打开客厅空气净化器，对应的场景联动等级为A1，场景联动情景1.2为打开客厅所有的设备+打开客厅空气净化器，对应的场景联动等级为A2。回家场景2的场景触发等级为B，回家场景2包括场景联动情景2.1和场景联动情景2.2，场景联动情景2.1为打开客厅灯+打开客厅空气净化器，对应的场景联动等级为B1，场景联动情景2.2为打开门口灯+打开客厅空气净化器，对应的场景联动等级为B2。第二预设等级映射表为：主人用户1和主人用户2，对应的终端设备信息为终端IP地址1和终端IP地址2，对应的场景联动等级为A1级。父母用户3和父母用户4，对应的终端设备信息为终端IP地址3和终端IP地址4，对应的场景联动等级为A2级。朋友用户5对应的终端设备信息为终端IP地址5，对应的场景联动等级为B1级，朋友用户6和朋友用户7，对应的终端设备信息为终端IP地址6和终端IP地址7，对应的场景联动等级为B2级。因此，第二预设等级映射表如表3：表3 第二预设等级映射表基于上述表1预设信息列表和表2第一预设等级映射表，智能家居控制系统确定用户终端A发送终端数据的用户信息为用户ID1，终端设备信息为终端IP地址1，根据终端IP地址1在第一预设等级映射表中进行匹配，确定用户终端A的场景触发等级为A，即用户终端A的目标执行场景为回家场景1。智能家居控制系统根据终端IP地址1在第二预设等级映射表中匹配，得到用户终端A的场景联动等级为A1，即用户终端A的场景联动情景为打开客厅所有的设备+打开主卧灯+打开客厅空气净化器。智能家居控制系统确定用户终端B发送终端数据的用户信息为用户ID3，终端设备信息为终端IP地址3，根据终端IP地址3在第一预设等级映射表中进行匹配，确定用户终端B的场景触发等级为A，即用户终端B的目标执行场景为回家场景1。智能家居控制系统根据终端IP地址3在第二预设等级映射表中匹配，得到用户终端B的场景联动等级为A2，即用户终端B的场景联动情景为打开客厅所有的设备+打开客厅空气净化器。智能家居控制系统确定用户终端C发送终端数据的用户信息为用户ID5，终端设备信息为终端IP地址5，根据终端IP地址5在第一预设等级映射表中进行匹配，确定用户终端C的场景触发等级为B，即用户终端C的目标执行场景为回家场景2。智能家居控制系统根据终端IP地址5在第二预设等级映射表中匹配，得到用户终端C的场景联动等级为B1，即用户终端C的场景联动情景为打开客厅灯+打开客厅空气净化器。因此，智能家居控制系统确定用户终端A的场景联动情景为打开客厅所有的设备+打开主卧灯+打开客厅空气净化器，用户终端B的场景联动情景为打开客厅所有的设备+打开客厅空气净化器，用户终端C的场景联动情景为打开客厅灯+打开客厅空气净化器。进一步地，基于步骤104记载的基于所述选定场景触发所述场景联动情景中的目标联动情景，包括：将所述选定场景在所述场景联动情景中进行场景匹配，确定所述场景联动情景中是否存与所述选定场景匹配的联动情景；若确定所述场景联动情景中存在与所述选定场景匹配的联动情景，则将与所述选定场景匹配的联动情景，确定为所述目标联动情景。具体地，智能家居控制系统将选定场景在场景联动情景中进行场景匹配，确定场景联动情景中是否存在与选定场景匹配的联动情景。进一步地，若确定场景联动情景中存在与选定场景匹配的联动情景，智能家居控制系统则将与选定场景匹配的联动情景，确定为目标联动情景，并触发目标联动情景。进一步地，若确定场景联动情景中存在与选定场景匹配的联动情景，智能家居控制系统则返回场景触发失败提示信息至用户终端。在一实施例中，智能家居控制系统确定出用户终端A的场景联动情景为场景1，场景2和场景3，若用户终端A发送场景触发指令中的选定场景为场景1，智能家居控制系统则触发场景1中的场景联动情景。若用户终端A发送场景触发指令中的选定场景为场景4，智能家居控制系统则返回场景触发失败提示信息至用户终端A。进一步地，参照图2，图2是本发明提供的场景触发方法的整体方案流程图，在一实施例中，以用户终端扫描二维码触发标签后进行场景选定为举例说明，本发明实施例提供的场景触发方法的整体过程可以理解为：用户管理员通过用户管理员终端将场景信息和场景信息中的场景联动信息预先录入智能家居控制系统的主设备中。智能家居控制系统接收到主设备录入的场景信息和场景信息中的场景联动信息后，将场景信息和场景信息中的场景联动信息存储至智能家居控制系统的数据库中。进一步地，用户管理员通过用户管理员终端在智能家居控制系统的主设备中预先设置预设信息列表，将能够授权使用的用户信息预先录入到预设信息列表中。进一步地，智能家居控制系统接收到主设备预先设置的预设信息列表后，将预设信息列表存储至智能家居控制系统的数据库中。进一步地，用户管理员通过用户管理员终端在智能家居控制系统的主设备中预先设置第一预设等级映射表，第一预设等级映射表是终端设备信息与场景等级之间的关联关系映射表，终端设备信息包括终端网际互连协议IP地址和终端物理MAC地址。基于预先设置的第一预设等级映射表，用户管理员通过用户管理员终端在智能家居控制系统的主设备中预先设置了第二预设等级映射表，第二预设等级映射表为终端设备信息与场景联动等级之间的关联关系映射表，终端设备信息包括终端网际互连协议IP地址和终端物理MAC地址。进一步地，智能家居控制系统接收到主设备预先设置的第一预设等级映射表和第二预设等级映射表后，将第一预设等级映射表和第二预设等级映射表存储至智能家居控制系统的数据库中。进一步地，智能家居控制系统将场景信息和场景信息中的场景联动信息存储至智能家居控制系统的数据库后，通过对称加密算法利用加密密文数据对存储至智能家居控制系统的数据库中的场景信息和场景信息中的场景联动信息进行加密，得到场景触发数据。进一步地，智能家居控制系统将加密后的场景触发数据进行标签化处理，得到二维码场景触发标签。因此，通过使用二维码场景触发标签，可以实现对场景和场景联动情景的触发设置用户使用权限。进一步地，用户终端扫描并读取二维码场景触发标签中的数据后进行场景选定，并将终端数据和场景触发指令发送至智能家居控制系统，其中，场景触发指令中携带有选定场景。智能家居控制系统接收到用户终端发送的终端数据后，将终端数据中的用户信息，在预设信息列表中进行信息匹配，确定预设信息列表中是否存在用户信息。进一步地，若确定预设信息列表中不存在用户信息，也就是说明用户信息并没有被授权，智能家居控制系统则返回场景触发失败提示信息至用户的终端设备。进一步地，若确定预设信息列表中存在用户信息，也就是说明用户信息被授权了，智能家居控制系统则利用加密密文数据将二维码数据或近地通信NFC数据进行解密操作，从而确定出智能家居控制系统中所有的场景信息和场景信息中的场景联动信息。进一步地，智能家居控制系统根据用户终端的终端IP地址或者终端MAC地址，在第一预设等级映射表中进行匹配，确定出用户终端的场景触发等级，根据场景触发等级在所有场景中进行匹配，匹配出用户终端的目标执行场景。进一步地，智能家居控制系统根据用户终端的终端IP地址或者终端MAC地址，在第二预设等级映射表中进行匹配，确定出用户终端的场景联动等级，基于第一预设等级映射表匹配得到目标执行场景，根据场景联动等级过滤掉目标执行场景中的目标执行设备，并确定用户终端的场景联动情景。进一步地，智能家居控制系统将选定场景在场景联动情景中进行场景匹配，确定场景联动情景是否存在与选定场景匹配的联动情景。若确定场景联动情景存在与选定场景匹配的联动情景，智能家居控制系统则将与选定场景匹配的联动情景确定为目标联动情景，并触发该目标联动情景。若确定场景联动情景不存在与选定场景匹配的联动情景，智能家居控制系统则返回场景触发失败提示信息至用户终端。进一步地，本发明提供的场景触发系统与本发明提供的场景触发方法互对应参照。图3所示，图3是本发明提供的场景触发系统的结构示意图，场景触发系统包括：发送模块301，用于响应用户终端发送的场景触发请求，并基于所述场景触发请求将场景触发标签发送至所述用户终端；接收模块302，用于接收所述用户终端发送的终端数据；所述终端数据是所述用户终端触发所述场景触发标签后发送的数据；确定模块303，用于基于所述终端数据确定所述用户终端的目标执行场景，并基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景；场景触发模块304，用于响应所述用户终端发送的场景触发指令，解析出所述场景触发指令中的选定场景，并基于所述选定场景触发所述场景联动情景中的目标联动情景。进一步地，场景触发模块304还用于：将所述选定场景在所述场景联动情景中进行场景匹配，确定所述场景联动情景中是否存与所述选定场景匹配的联动情景；若确定所述场景联动情景中存在与所述选定场景匹配的联动情景，则将与所述选定场景匹配的联动情景，确定为所述目标联动情景。进一步地，确定模块303用于：将所述用户信息在预设信息列表中进行信息匹配，确定所述预设信息列表中是否存在所述用户信息；若确定所述预设信息列表中存在所述用户信息，则基于所述加密密文数据对所述场景触发数据进行解密，确定出所有的场景；基于所述终端设备信息和第一预设等级映射表，确定出所述用户终端的场景触发等级，并根据所述场景触发等级在所有的场景中，匹配出所述用户终端的目标执行场景。进一步地，确定模块303用于：基于所述终端设备信息和第二预设等级映射表，确定出所述用户终端的场景联动等级；根据所述场景联动等级过滤所述目标执行场景中目标执行设备，得到所述用户终端的场景联动情景。进一步地，确定模块303还用于：基于所述终端网际互连协议IP地址或所述终端物理MAC地址，在所述第一预设等级映射表中进行匹配，得到所述用户终端的场景触发等级。进一步地，场景触发系统还用于：接收主设备录入的场景信息以及所述场景信息的场景联动信息；对所述场景信息及其场景联动信息进行信息加密，得到场景触发数据，并将所述场景触发数据及其加密密文数据进行标签化处理，得到所述场景触发标签。本发明提供的场景触发系统的具体实施例与场景触发方法各实施例基本相同，在此不作赘述。图4示例了一种电子设备的实体结构示意图，如图4所示，电子设备可以包括：处理器410、通信接口420、存储器430和通信总线440，其中，处理器410，通信接口420，存储器430通过通信总线440完成相互间的通信。处理器410可以调用存储器430中的逻辑指令，以执行场景触发方法，该方法包括：响应用户终端发送的场景触发请求，并基于所述场景触发请求将场景触发标签发送至所述用户终端；接收所述用户终端发送的终端数据；所述终端数据是所述用户终端触发所述场景触发标签后发送的数据；基于所述终端数据和所述场景触发标签，确定所述用户终端的目标执行场景，并基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景；响应所述用户终端发送的场景触发指令，解析出所述场景触发指令中的选定场景，并基于所述选定场景触发所述场景联动情景中的目标联动情景。此外，上述的存储器430中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。另一方面，本发明还提供一种计算机程序产品，计算机程序产品包括存储在非暂态计算机可读存储介质上的计算机程序，计算机程序包括程序指令，当程序指令被计算机执行时，计算机能够执行上述各方法所提供的场景触发方法，该方法包括：响应用户终端发送的场景触发请求，并基于所述场景触发请求将场景触发标签发送至所述用户终端；接收所述用户终端发送的终端数据；所述终端数据是所述用户终端触发所述场景触发标签后发送的数据；基于所述终端数据和所述场景触发标签，确定所述用户终端的目标执行场景，并基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景；响应所述用户终端发送的场景触发指令，解析出所述场景触发指令中的选定场景，并基于所述选定场景触发所述场景联动情景中的目标联动情景。又一方面，本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现以执行上述各提供的场景触发方法，该方法包括：响应用户终端发送的场景触发请求，并基于所述场景触发请求将场景触发标签发送至所述用户终端；接收所述用户终端发送的终端数据；所述终端数据是所述用户终端触发所述场景触发标签后发送的数据；基于所述终端数据和所述场景触发标签，确定所述用户终端的目标执行场景，并基于所述终端数据确定所述用户终端在所述目标执行场景中的场景联动情景；响应所述用户终端发送的场景触发指令，解析出所述场景触发指令中的选定场景，并基于所述选定场景触发所述场景联动情景中的目标联动情景。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的方法。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
