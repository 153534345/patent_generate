标题title
芯片、测试机台、芯片内部比较器的校准方法及相关设备
摘要abst
本发明适用于芯片工艺技术领域，尤其涉及一种芯片、测试机台、芯片内部比较器的校准方法及相关设备。本发明提出了一种基于芯片内部电路实现的比较器校准方法以及对应的芯片及测试机台，本发明的校准方法中测试机台与芯片通信的内容少、通信时间短，并且，基于顺序遍历的逻辑实现的校准方案不仅能够减少芯片内部电路的开发负担，还能够提高校准准确度、缩短校准时间。
权利要求书clms
1.一种芯片，可由一个测试机台进行比较器校准，其特征在于，所述芯片包括比较模块、开关模块、控制模块，所述比较模块包括待校准的比较器，所述比较模块的输入端连接所述开关模块，所述比较模块的输出端连接所述控制模块，其中：所述开关模块用于获取校准开始信号，并根据所述校准开始信号将所述比较器的输入端进行短路连接，以及根据校准完成信号将比较器的输入端进行开路连接；其中，所述校准开始信号为所述测试机台发出，所述校准完成信号由所述控制模块在所述比较器的输出发生翻转时产生；所述控制模块用于将芯片的寄存器值进行遍历输出至所述比较器，并判断所述寄存器值是否使所述比较器的输出发生翻转：若是，则释放所述校准完成信号至所述开关模块和所述测试机台，并保存使所述比较器的输出发生翻转的所述寄存器值，以完成所述比较器的校准；若否，则持续进行所述寄存器值的遍历输出；所述比较模块用于根据所述寄存器值调整所述比较器的偏差值。2.如权利要求1所述的芯片，其特征在于，所述开关模块为开路连接时，所述比较器的输出保持不变。3.如权利要求1所述的芯片，其特征在于，所述开关模块为MOS管，所述MOS管的源极、漏极分别连接所述比较器的输入端，所述MOS管的栅极连接所述控制模块的输出端。4.如权利要求1所述的芯片，其特征在于，所述控制模块包含第一输出端和第二输出端，所述第一输出端连接所述开关模块以传输所述校准完成信号，所述第二输出端连接所述比较模块以传输所述寄存器值。5.一种测试机台，用于对芯片中的比较器进行校准，其特征在于，所述测试机台包括机台通讯模块，所述机台通信模块用于根据指令发出校准开始信号至所述芯片，并接收所述芯片返回的校准结束信号。6.一种芯片内部比较器的校准系统，其特征在于，所述校准系统包括如权利要求1-4任一项所述的芯片及如权利要求5所述的测试机台。7.一种芯片内部比较器的校准方法，所述校准方法基于权利要求1-4任一项所述的芯片实现，其特征在于，所述校准方法包括以下步骤：S11、在芯片的开关模块中接收所述校准开始信号，并将比较器的输入端进行短路连接；S12、在芯片的控制模块中将芯片的寄存器值进行遍历输出至所述比较器；S13、在芯片的控制模块中判断所述寄存器值是否使所述比较器的输出发生翻转：若是，则释放校准完成信号，并执行步骤S14，若否，返回步骤S12；S14、在芯片的控制模块中终止所述寄存器值的遍历输出，根据所述校准完成信号将比较器的输入端进行开路连接，并保存使所述比较器的输出发生翻转的所述寄存器值，以完成所述比较器的校准。8.一种芯片内部比较器的校准方法，所述校准方法基于权利要求5所述的测试机台实现，其特征在于，所述校准方法包括以下步骤：S21、在测试机台的机台通信模块中输入指令，以向包含待校准比较器的芯片发出校准开始信号，以开始参数校准；S22、通过所述机台通信模块接收校准结束信号，并结束参数校准，所述校准结束信号为所述比较器校准完成时发出。9.一种计算机设备，其特征在于，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如权利要求7或8所述的芯片内部比较器的校准方法中的步骤。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求7或8所述的芯片内部比较器的校准方法中的步骤。
说明书desc
技术领域本发明适用于芯片工艺技术领域，尤其涉及一种芯片、测试机台、芯片内部比较器的校准方法及相关设备。背景技术由于晶圆制造时，尺寸、掺杂浓度等的偏差，芯片等集成电路被制造出来后，内部的差分对管可能存在一定的失配，导致比较器出现一定的偏差。在部分高精度要求的芯片中，为使产品的参数性能达到预期且具备良好的一致性，在出货前需要进行比较器的校准。校准的原理是加入一个可以人为调节的阈值偏差，通过这个阈值偏差抵消制造中产生的实际偏差。相关技术一般是在芯片内部将比较器的两个输入脚短起来，然后在外部测试机台以一定逻辑来操作芯片的寄存器来调整阈值偏差，再依据比较器输出的翻转情况来确定是否校准完成，如图1所示。基于图1的校准环境，相关技术通常使用以下两种方式进行比较器校准：一、从外部测试机台操作芯片寄存器的逻辑是遍历，通过操作寄存器的值，使其从全0遍历到全1，并每次确定比较器输出，当比较器输出翻转后中止遍历。二、述机台操作IC寄存器的逻辑是“二分法”，机台根据比较器输出的翻转情况，决定寄存器每个bit是0还是1。这个做法大大缩短了测试时间，寄存器有几个bit就调整几次寄存器。然而，上述方法具有以下问题：对于方式一，由于芯片夹具和机台之间有很长的软排线连接，容易被干扰，所以通信速率不会很高，并且遍历操作有大量的修改寄存器的通信过程，5bit寄存器最差情况需要32次修改寄存器的通信，平均情况也需要16次通信，寄存器每增加1bit，通信时间都会成倍增长，此外，IO端口也是通过很长路径连接到机台的，为了保证结果准确，相关技术需要加入一段防抖时间，单次防抖时间固定，总防抖时间和寄存器调整次数成正比，因此寄存器每增加1bit，总防抖时间也会成倍增长；对于方式二，由于芯片的比较器往往有一定滞回的特性，在二分法中是依靠比较器来回翻转来确定每个寄存器bit的值的，这就导致最后得出的值未必是期望的比较器刚刚翻转的阈值，因此造成了偏差，在一些滞回做得比较大的比较器上，这个偏差甚至可以高达有十多个step。因此，有必要提出一种新的芯片比较器的校准系统和方法来解决上述问题。发明内容本发明提供一种芯片、测试机台、芯片内部比较器的校准方法及相关设备，旨在解决现有技术对于芯片内部比较器校准的方法受限于排线连接及二分遍历逻辑导致的等待时间长、通信时间长的技术问题。第一方面，本发明实施例提供一种芯片，可由一个测试机台进行比较器校准，所述芯片包括比较模块、开关模块、控制模块，所述比较模块包括待校准的比较器，所述比较模块的输入端连接所述开关模块，所述比较模块的输出端连接所述控制模块，其中：所述开关模块用于获取校准开始信号，并根据所述校准开始信号将所述比较器的输入端进行短路连接，以及根据校准完成信号将比较器的输入端进行开路连接；其中，所述校准开始信号为所述测试机台发出，所述校准完成信号由所述控制模块在所述比较器的输出发生翻转时产生；所述控制模块用于将芯片的寄存器值进行遍历输出至所述比较器，并判断所述寄存器值是否使所述比较器的输出发生翻转：若是，则释放所述校准完成信号至所述开关模块和所述测试机台，并保存使所述比较器的输出发生翻转的所述寄存器值，以完成所述比较器的校准；若否，则持续进行所述寄存器值的遍历输出；所述比较模块用于根据所述寄存器值调整所述比较器的偏差值。更进一步地，所述开关模块为开路连接时，所述比较器的输出保持不变。更进一步地，所述开关模块为MOS管，所述MOS管的源极、漏极分别连接所述比较器的输入端，所述MOS管的栅极连接所述控制模块的输出端。更进一步地，所述控制模块包含第一输出端和第二输出端，所述第一输出端连接所述开关模块以传输所述校准完成信号，所述第二输出端连接所述比较模块以传输所述寄存器值。第二方面，本发明实施例还提供一种测试机台，用于对芯片中的比较器进行校准，所述测试机台包括机台通讯模块，所述机台通信模块用于根据指令发出校准开始信号至所述芯片，并接收所述芯片返回的校准结束信号。第三方面，本发明实施例还提供一种芯片内部比较器的校准系统，所述校准系统包括如上任一项所述的芯片及测试机台。第四方面，本发明实施例还提供一种芯片内部比较器的校准方法，所述校准方法基于如上任一项所述的芯片实现，所述校准方法包括以下步骤：S11、在芯片的开关模块中接收所述校准开始信号，并将比较器的输入端进行短路连接；S12、在芯片的控制模块中将芯片的寄存器值进行遍历输出至所述比较器；S13、在芯片的控制模块中判断所述寄存器值是否使所述比较器的输出发生翻转：若是，则释放校准完成信号，并执行步骤S14，若否，返回步骤S12；S14、在芯片的控制模块中终止所述寄存器值的遍历输出，根据所述校准完成信号将比较器的输入端进行开路连接，并保存使所述比较器的输出发生翻转的所述寄存器值，以完成所述比较器的校准。第五方面，本发明实施例还提供一种芯片内部比较器的校准方法，所述校准方法基于如上所述的测试机台实现，所述校准方法包括以下步骤：S21、在测试机台的机台通信模块中输入指令，以向包含待校准比较器的芯片发出校准开始信号，以开始参数校准；S22、通过所述机台通信模块接收校准结束信号，并结束参数校准，所述校准结束信号为所述比较器校准完成时发出。第六方面，本发明实施例还提供一种计算机设备，包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上任一项所述的芯片内部比较器的校准方法中的步骤。第七方面，本发明实施例还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如上任一项所述的芯片内部比较器的校准方法中的步骤。本发明所达到的有益效果，在于提出了一种基于芯片内部电路实现的比较器校准方法以及对应的芯片及测试机台，本发明的校准方法中测试机台与芯片通信的内容少、通信时间短，并且，基于顺序遍历的逻辑实现的校准方案不仅能够减少芯片内部电路的开发负担，还能够提高校准准确度、缩短校准时间。附图说明图1是现有技术实现芯片内部比较器校准的示意图；图2是本发明实施例提供的芯片内部比较器的校准系统的结构示意图；图3是本发明实施例提供的芯片内部比较器的校准方法的步骤流程示意图；图4是本发明实施例提供的另一种芯片内部比较器的校准方法的步骤流程示意图图5是本发明实施例提供的计算机设备的结构示意图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。实施例一本发明实施例提供一种芯片100，可由一个测试机台200进行比较器校准，所述芯片100包括比较模块101、开关模块102、控制模块103，所述比较模块101包括待校准的比较器，所述比较模块101的输入端连接所述开关模块102，所述比较模块101的输出端连接所述控制模块103，其中：所述开关模块102用于获取校准开始信号，并根据所述校准开始信号将所述比较器的输入端进行短路连接，以及根据校准完成信号将比较器的输入端进行开路连接；其中，所述校准开始信号为所述测试机台200发出，所述校准完成信号由所述控制模块103在所述比较器的输出发生翻转时产生；所述控制模块103用于将芯片的寄存器值进行遍历输出至所述比较器，并判断所述寄存器值是否使所述比较器的输出发生翻转：若是，则释放所述校准完成信号至所述开关模块102和所述测试机台200，并保存使所述比较器的输出发生翻转的所述寄存器值，以完成所述比较器的校准；若否，则持续进行所述寄存器值的遍历输出；所述比较模块101用于根据所述寄存器值调整所述比较器的偏差值。更进一步地，所述开关模块102为开路连接时，所述比较器的输出保持不变。更进一步地，所述开关模块102为MOS管，所述MOS管的源极、漏极分别连接所述比较器的输入端，所述MOS管的栅极连接所述控制模块103的输出端。本发明实施例中，除了所述开关模块102为具体的结构外，比较模块101和控制模块103可以通过复用结构来实现，从而节省硬件资源。更进一步地，所述控制模块103包含第一输出端和第二输出端，所述第一输出端连接所述开关模块102以传输所述校准完成信号，所述第二输出端连接所述比较模块101以传输所述寄存器值。具体的，在本发明实施例中对于需要校准的比较器，只需要由控制模块103确定寄存器值来进行循环的比较，因此在实际实施过程中，如果电路结构可以实现，本发明实施例提供的芯片100也可以同时进行多个比较器校准的流程。实施例二本发明实施例还提供一种测试机台200，用于对芯片中的比较器进行校准，所述测试机台200包括机台通讯模块201，所述机台通信模块201用于根据指令发出校准开始信号至所述芯片100，并接收所述芯片100返回的校准结束信号。实施例三本发明实施例还提供一种芯片内部比较器的校准系统300，请参照图2，图2是本发明实施例提供的芯片内部比较器的校准系统300的结构示意图，所述校准系统包括如上实施例所述的芯片100及测试机台200。本发明实施例中所述的芯片内部比较器的校准系统300中，芯片100及测试机台200之间通过一个传输通道来传输校准开始信号和校准结束信号，而校准开始信号和校准结束信号是与比较器校准的准确度无关的，由于这个传输在只在校准开始、结束的一瞬间完成，使得该过程所造成的通信时间是可以忽略的，并且相较于现有技术，可以避免长排线在此的数据干扰，减少了校准时间，并简化了校准的实现流程。实施例四本发明实施例还提供一种芯片内部比较器的校准方法，请参照图3，图3是本发明实施例提供的芯片内部比较器的校准方法的步骤流程示意图，所述校准方法基于如上任一项所述的芯片100实现，所述校准方法包括以下步骤：S11、在芯片100的开关模块102中接收所述校准开始信号，并将比较器的输入端进行短路连接；S12、在芯片100的控制模块103中将芯片的寄存器值进行遍历输出至所述比较器；S13、在芯片100的控制模块103中判断所述寄存器值是否使所述比较器的输出发生翻转：若是，则释放校准完成信号，并执行步骤S14，若否，返回步骤S12；S14、在芯片100的控制模块103中终止所述寄存器值的遍历输出，根据所述校准完成信号将比较器的输入端进行开路连接，并保存使所述比较器的输出发生翻转的所述寄存器值，以完成所述比较器的校准。步骤S13中，由于采用了遍历输出寄存器值的方式，使得比较器的阈值达到正好能让输出翻转的时候，使比较器输出翻转，此时即完成了比较器的校准。实施例五本发明实施例还提供一种芯片内部比较器的校准方法，请参照图4，图4是本发明实施例提供的另一种芯片内部比较器的校准方法的步骤流程示意图，所述校准方法基于如上所述的测试机台200实现，所述校准方法包括以下步骤：S21、在测试机台200的机台通信模块201中输入指令，以向包含待校准比较器的芯片发出校准开始信号，以开始参数校准；S22、通过所述机台通信模块201接收校准结束信号，并结束参数校准，所述校准结束信号为所述比较器校准完成时发出。本发明所达到的有益效果，在于提出了一种基于芯片内部电路实现的比较器校准方法以及对应的芯片及测试机台，本发明的校准方法中测试机台与芯片通信的内容少、通信时间短，并且，基于顺序遍历的逻辑实现的校准方案不仅能够减少芯片内部电路的开发负担，还能够提高校准准确度、缩短校准时间。实施例六本发明实施例还提供一种计算机设备，请参照图5，图5是本发明实施例提供的计算机设备的结构示意图，包括：存储器401、处理器402及存储在所述存储器401上并可在所述处理器402上运行的计算机程序，所述处理器执行所述计算机程序时实现如上实施例四或五中任意一项所述的芯片内部比较器的校准方法中的步骤，且能实现同样的技术效果，参上述实施例中的描述，此处不再赘述。实施例七本发明实施例还提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如上实施例四或五所述的芯片内部比较器的校准方法中的步骤，且能实现同样的技术效果，参上述实施例中的描述，此处不再赘述。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，所述的存储介质可为磁碟、光盘、只读存储记忆体或随机存取存储器等。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者装置不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者装置所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者装置中还存在另外的相同要素。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端执行本发明各个实施例所述的方法。上面结合附图对本发明的实施例进行了描述，所揭露的仅为本发明较佳实施例而已，但是本发明并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本发明的启示下，在不脱离本发明宗旨和权利要求所保护的范围情况下，还可做出很多形式用等同变化，均属于本发明的保护之内。
