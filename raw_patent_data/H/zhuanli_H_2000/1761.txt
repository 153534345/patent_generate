标题title
一种园区碳排放量在线监测方法及系统
摘要abst
本发明涉及数据处理技术领域，具体涉及一种园区碳排放量在线监测方法及系统，包括：将所有设备的时序序列划分为若干个子序列；根据子序列的欧式范数计算改进的子序列范数距离；通过子序列和改进的子序列度范数距离得到每子序列的最近邻子序列；根据子序列的用电负荷数据和不同时刻得到最近邻子序列斜率；根据不同设备的用电负荷数据量计算初始权重；根据最近邻子序列斜率和排列熵计算每个设备的用电负荷数据的权重校正因子；根据权重校正因子和初始权重计算优化权重，根据优化权重获得整个园区的用电负荷总量和预测实时用电负荷状态。本发明可以保留用电设备的用电负荷数据的优化，避免在用电负荷数据融合过程中的数据丢失。
权利要求书clms
1.一种园区碳排放量在线监测方法，其特征在于，该方法包括以下步骤：采集不同设备的用电负荷数据；对于所有设备的用电负荷时序序列，按照固定窗口长度划分为若干个子序列；根据任意两个子序列的范数距离和数据偏差计算改进的子序列范数距离；根据改进的子序列范数距离确定每个子序列的最近邻子序列；根据最近邻子序列的斜率获得优化权重，根据优化权重和每个设备的用电负荷数据获得整个园区的用电负荷总量；最后根据整个园区的用电负荷总量通过隐马尔可夫模型预测实时用电负荷状态。2.根据权利要求1所述一种园区碳排放量在线监测方法，其特征在于，所述对于所有设备的用电负荷时序序列，按照固定窗口长度划分为若干个子序列，包括的具体步骤如下：每个设备的时序序列长通过预设的数据窗口长度划分为子序列；对于所有设备的时序序列按照数据窗口长度划分为若干个子序列，在无法以数据窗口长度L划分时序序列时，对最后一个子序列进行删除。3.根据权利要求1所述一种园区碳排放量在线监测方法，其特征在于，所述任意两个子序列的范数距离的获取方法如下：；表示第/＞个设备时序序列中的第/＞个子序列，/＞表示第/＞个用电设备时序序列中的第/＞个子序列，/＞表示子序列之间的范数距离，/＞表示对子序列中所有的数值进行线性归一化，/＞表示/＞与/＞之间欧氏范数。4.根据权利要求1所述一种园区碳排放量在线监测方法，其特征在于，所述数据偏差的获取方法如下：；表示任意两个子序列之间的数据偏差程度，/＞表示任意两个子序列之间/＞过程中的相位差数量, /＞表示以自然常数为底的指数函数。5.根据权利要求1所述一种园区碳排放量在线监测方法，其特征在于，所述根据任意两个子序列的范数距离和数据偏差计算改进的子序列范数距离，包括的具体公式如下：；表示子序列之间的范数距离，/＞表示第n1个设备的第m1个子序列，/＞表示第n1个设备的第m1个子序列在第n2个设备的最近邻子序列，/＞表示/＞与/＞之间的数据偏差程度，/＞表示子序列/＞与/＞之间的改进的子序列距离度量。6.根据权利要求1所述一种园区碳排放量在线监测方法，其特征在于，所述最近邻子序列的斜率的获取方法如下：；；；表示每个数据为中心的长度为/＞的时间窗口，/＞表示第/＞个设备中的第/＞个子序列中的第/＞个用电负荷，/＞表示第/＞个子序列在第/＞个设备中的最近邻子序列中的第q个用电负荷，且/＞，/＞表示第/＞个设备中的第/＞个子序列的起始时刻，/＞表示第m1个子序列在第n2个设备中的最近邻子序列的起始时刻，/＞表示第n1个设备中的m1个子序列在第n2个设备中的最近邻子序列的斜率，/＞表示斜率在/＞轴的变化, /＞表示斜率在/＞轴的变化。7.根据权利要求1所述一种园区碳排放量在线监测方法，其特征在于，所述根据改进的子序列范数距离确定每个子序列的最近邻子序列，包括的具体步骤如下：对于任意设备时序序列中的每个子序列，通过子序列用电负荷数据的欧氏范数确定与其他设备中的改进后的子序列范数距离最小的子序列，记为每个子序列的最近邻子序列。8.根据权利要求1所述一种园区碳排放量在线监测方法，其特征在于，所述根据最近邻子序列的斜率获得优化权重，根据优化权重和每个设备的用电负荷数据获得整个园区的用电负荷总量，包括的具体步骤如下：根据最近邻子序列的斜率获得每个设备的规律性以及每个设备的平均斜率，根据所述规律性和所述平均斜率获得优化权重的具体公式为：；表示第/＞1个设备的第/＞个时刻的用电负荷数据，/＞表示第/＞1个设备的第/＞个时刻的初始权重；N表示设备的总数，exp表示以自然常数为底的指数函数；；表示园区中第/＞个设备的规律性，/＞表示园区中第/＞个设备的平均斜率，/＞表示第/＞个设备的权重校正因子；将权重校正因子和初始权重的乘积记为优化权重；；表示第/＞个设备第t时刻的优化权重，/＞表示第/＞个设备第/＞时刻的用电负荷数据，/＞表示所有设备在第t时刻用电负荷的总量。9.根据权利要求8所述一种园区碳排放量在线监测方法，其特征在于，所述根据最近邻子序列的斜率获得每个设备的规律性以及每个设备的平均斜率，包括的具体步骤如下：将第n1个设备中的所有子序列分别在所有其他设备中的最近邻子序列的斜率记为第n1个设备的斜率序列，将第n1个设备的斜率序列的排列熵记为第n1个设备的规律性，将第n1个设备的斜率序列的平均值/＞记为第n1个设备的平均斜率。10.一种园区碳排放量在线监测系统，其特征在于，该系统包括以下模块：数据采集模块，用于采集不同设备的所有用电负荷数据；数据处理模块，对于所有设备的时序序列，按照固定窗口长度划分为若干个子序列；根据任意两个子序列的范数距离和数据偏差计算改进的子序列范数距离；根据改进的子序列范数距离确定每个子序列的最近邻子序列；根据最近邻子序列的斜率获得优化权重，根据优化权重和每个设备的用电负荷数据获得整个园区的用电负荷总量；数据应用预测模块，根据整个园区的用电负荷总量通过隐马尔可夫模型预测实时用电负荷状态。
说明书desc
技术领域本发明涉及电子数据处理技术领域，具体涉及一种园区碳排放量在线监测方法及系统。背景技术园区碳排放量在线监测是指利用各种传感器、设备和软件等，实时监测和分析园区内各种设备和设施的二氧化碳排放情况，帮助企业更好地了解自身碳排放情况，制定科学的减排措施并评估其效果。在园区碳排放量在线监测系统中，包括了碳排放量计算模型、智能电网监控系统、远程监控系统与智慧建筑管理系统。其中智能电网监控系统，即为通过每个园区用电设备的用电监测数据，根据园区储能单元中的用电负荷数据的储电量进行预测与优化控制，保证园区中的用电设备最大程度的消耗可再生的电储能能源，从而实现减排的目标，综上智能电网监控系统需要对用碳排放强度监测数据进行预测与优化调控，本实施中下文将园区用电设备简记为设备。在用电负荷数据预测的过程中，需要通过采集到的历史数据建立隐马尔可夫模型，通过隐马尔可夫模型预测隐藏状态序列，从而获取到设备的负荷预测与电储能状态的预测。在建立隐马尔可夫模型时，因为需要对时序序列中每一个数据对应的隐藏状态进行隐藏状态序列的预测，所以在获取时序序列后需要对每一个数据获取其对应的隐藏状态，分为高负荷、中负荷或低负荷，如果需要进一步对数据的状态进行划分，如不同的高中低负荷还有其各自对应的波动状态，如上升，下降等趋势状态，但是现有在对数据的状态进行划分时，由于每个用电设备的用电负荷数据中的一些数据存在周期变化，直接采用均值融合后的用电负荷数据进行状态划分会存在判断不准确的问题。发明内容本发明提供一种园区碳排放量在线监测方法及系统，以解决现有的问题。本发明的一种园区碳排放量在线监测方法及系统采用如下技术方案：一方面，本发明一个实施例提供了一种园区碳排放量在线监测方法，该方法包括以下步骤：采集不同设备的用电负荷数据；对于所有设备的用电负荷时序序列，按照固定窗口长度划分为若干个子序列；根据任意两个子序列的范数距离和数据偏差计算改进的子序列范数距离；根据改进的子序列范数距离确定每个子序列的最近邻子序列；根据最近邻子序列的斜率获得优化权重，根据优化权重和每个设备的用电负荷数据获得整个园区的用电负荷总量；最后根据整个园区的用电负荷总量通过隐马尔可夫模型预测实时用电负荷状态。优选的，所述对于所有设备的用电负荷时序序列，按照固定窗口长度划分为若干个子序列，包括的具体步骤如下：每个设备的时序序列长通过预设的数据窗口长度划分为子序列；对于所有设备的时序序列按照数据窗口长度划分为若干个子序列，在无法以数据窗口长度L划分时序序列时，对最后一个子序列进行删除。优选的，所述任意两个子序列的范数距离的获取方法如下：；表示第个设备时序序列中的第个子序列，表示第个用电设备时序序列中的第个子序列，表示子序列之间的范数距离，表示对子序列中所有的数值进行线性归一化，表示与之间欧氏范数。优选的，所述数据偏差的获取方法如下：；表示任意两个子序列之间的数据偏差程度，表示任意两个子序列之间过程中的相位差数量, 表示以自然常数为底的指数函数。优选的，所述根据任意两个子序列的范数距离和数据偏差计算改进的子序列范数距离，包括的具体公式如下：；表示子序列之间的范数距离，表示第n1个设备的第m1个子序列，表示第n1个设备的第m1个子序列在第n2个设备的最近邻子序列，表示与之间的数据偏差程度，表示子序列与之间的改进的子序列距离度量。优选的，所述最近邻子序列的斜率的获取方法如下：；；；表示每个数据为中心的长度为的时间窗口，表示第个设备中的第个子序列中的第个用电负荷，表示第个子序列在第个设备中的最近邻子序列中的第q个用电负荷，且，表示第个设备中的第个子序列的起始时刻，表示第m1个子序列在第n2个设备中的最近邻子序列的起始时刻，表示第n1个设备中的m1个子序列在第n2个设备中的最近邻子序列的斜率，表示斜率在轴的变化, 表示斜率在轴的变化。优选的，所述根据改进的子序列范数距离确定每个子序列的最近邻子序列，包括的具体步骤如下：对于任意设备时序序列中的每个子序列，通过子序列用电负荷数据的欧氏范数确定与其他设备中的改进后的子序列范数距离最小的子序列，记为每个子序列的最近邻子序列。优选的，所述根据最近邻子序列的斜率获得优化权重，根据优化权重和每个设备的用电负荷数据获得整个园区的用电负荷总量，包括的具体步骤如下：根据最近邻子序列的斜率获得每个设备的规律性以及每个设备的平均斜率，根据所述规律性和所述平均斜率获得优化权重的具体公式为：；表示第1个设备的第个时刻的用电负荷数据，表示第1个设备的第个时刻的初始权重；N表示设备的总数，exp表示以自然常数为底的指数函数。；表示园区中第个设备的规律性，表示园区中第个设备的平均斜率，表示第个设备的权重校正因子；将权重校正因子和初始权重的乘积记为优化权重。；表示第个设备第t时刻的优化权重，表示第个设备第时刻的用电负荷数据，表示所有设备在第t时刻用电负荷的总量。优选的，所述根据最近邻子序列的斜率获得每个设备的规律性以及每个设备的平均斜率，包括的具体步骤如下：将第n1个设备中的所有子序列分别在所有其他设备中的最近邻子序列的斜率记为第n1个设备的斜率序列，将第n1个设备的斜率序列的排列熵记为第n1个设备的规律性，将第n1个设备的斜率序列的平均值记为第n1个设备的平均斜率。另一方面，一种园区碳排放量在线监测系统，该系统包括以下模块：数据采集模块，用于采集不同设备的所有用电负荷数据；数据处理模块，对于所有设备的时序序列，按照固定窗口长度划分为若干个子序列；根据任意两个子序列的范数距离和数据偏差计算改进的子序列范数距离；根据改进的子序列范数距离确定每个子序列的最近邻子序列；根据最近邻子序列的斜率获得优化权重，根据优化权重和每个设备的用电负荷数据获得整个园区的用电负荷总量；数据应用预测模块，根据整个园区的用电负荷总量通过隐马尔可夫模型预测实时用电负荷状态；本发明的技术方案的有益效果是：基于本发明所述的通过园区内所有用电设备之间的相关性进行多时序数据融合过程中的融合权重的优化，相较于传统的均值融合，可以保证在融合过程中对于重要用电设备的信息的保留，避免在融合过程中因为均值导致的当前用电负荷数据低的设备将整体的用电负荷数据变化拉低，同时也可以避免不同用电设备的用电高峰差异被消除的问题。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明一种园区碳排放量在线监测方法及系统的步骤流程图；图2为时序序列划分子序列设计意图，其中为设备1的用电负荷随时间的变化图，为设备2的用电负荷随时间的变化图，为设备3的用电负荷随时间的变化图；图3为用电负荷数据的变化趋势；图4为调整延迟时间达到的数据长度。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种园区碳排放量在线监测方法及系统，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例；此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种园区碳排放量在线监测方法及系统的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种园区碳排放量在线监测方法的步骤流程图，该方法包括以下步骤：步骤S001：通过设备配电系统得到不同设备的所有用电负荷数据序列。在设备配电系统中，采集每一个设备的每个时刻用电负荷数据，不同设备的所有时刻的用电负荷数据构成每一个设备用电负荷时序序列，简记为时序序列；在此需要说明的是，本实施中所述的时序序列为设备的历史时序序列，即设备当前时刻之前时刻的耗电功率数据组成的时序序列。步骤S002：对于所有设备的时序序列按照数据窗口长度划分为若干个子序列。在获取到所有设备的时序序列之后，根据所需用于设备用电负荷数据预测模型提取的历史数据进行分析，在本实施中将当前时刻采集需要计算所有时刻数据记为历史数据。每个设备的时序序列长通过设定的数据窗口长度划分为子序列，本实施例以进行说明。对于所有设备的时序序列按照数据窗口长度划分为若干个子序列，其中子序列的用电负荷数据记为用电负荷；在无法以数据窗口长度L划分时序序列时，对最后一个子序列进行删除，为保证全部设备时序序列的子序列数量相同，选取时序序列中子序列最少数量作为所有时序序列的数量进行计算。步骤S003：通过设备的时序序列中子序列间的形态差异对子序列的距离范数进行优化，获取子序列之间的规律性。如图2是时序序列划分子序列示例，其中为设备1的用电负荷随时间的变化图，为设备2的用电负荷随时间的变化图，为设备3的用电负荷随时间的变化图；划分子序列之后，即可判断子序列是否为最小数据范数距离的子序列。具体的操作如下：对于任意设备时序序列中的每个子序列，与其他设备的任意时序序列的所有子序列进行比较；对于任意设备时序序列中的每个子序列，通过子序列用电负荷的欧氏范数确定与其他设备中的欧氏范数最小的子序列，即最近邻子序列。在步骤S002过程中通过子序列之间的距离范数进行衡量，这个过程可以看作是在高尺度下的匹配过程，但是单独的欧氏范数并无法衡量两个子序列之间的欧氏范数；并且在实际场景中，设备的用电负荷数据的范围不同，如一个设备的用电负荷数据的范围为，另一个设备的用电负荷数据范围为，此时两个设备之间的用电负荷数据范围差异比较大，那么在子序列之间计算距离范数时出现用电负荷不能一一对应，那么最近邻子序列的判断就会出现错误，从而无法通过子序列之间的欧氏范数判断设备之间子序列的规律性。所以，为了保证不同设备的时序序列的子序列之间最近邻子序列判断准确，就需要在衡量子序列的过程中通过归一化计算欧氏范数。通过对不同设备之间子序列的欧氏范数进行调整，从而更准确的得到所有子序列的最近邻子序列。对于第个设备的时序序列中的第个子序列进行归一化度量，并计算每两个子序列之间的距离范数：；表示第个设备时序序列中的第个子序列，表示第个用电设备时序序列中的第个子序列，表示子序列之间的距离范数，表示第个用电设备的负荷时序序列中的第个子序列中所有的数值对每一个数据线性归一化，所述的线性归一化方法可以为，表示与之间欧氏范数。在获取到不同设备每两个子序列之间的距离范数后，可通过对子序列之间的距离范数，从而使得子序列之间的距离范数可以表示二者的特征差异。但是在优化过程中子序列的数据窗口长度通过固定长度划分，所以子序列之间规律性的判断上就会存在偏差程度。正常来讲，最邻近子序列会被划分为不同的子序列，那么子序列之间的对应关系就会存有偏差程度，在子序列计算距离度量时，可以通过子序列中数据的动态时间规整的匹配关系在子序列中进行数据规律性的度量。在两个待对比的子序列中，通过可以消除两种用电设备在用电负荷数据数量级上的差异，在此基础上，通过子序列中数据的匹配数据偏差程度进行数据距离度量，可以通过对应关系的数据偏差程度对该子序列之间对应关系的连线斜率进行优化。当子序列中数据的偏差越大则说明子序列之间的形态差异越大，那么在最近邻子序列的距离度量过程中，就需要增大距离。对于匹配中的子序列之间的用电负荷对应关系偏差程度，可以通过匹配过程中的相位差数量进行度量。对于子序列之间的数据偏差程度：；表示与之间的数据偏差程度，表示与之间过程中的相位差数量， 表示以自然常数为底的指数函数。需要说明的是，在DTW算法中，相位差数量是指两个时序序列在对齐过程中，对应位置的时间差的绝对值之和。改进的子序列距离范数：；表示第个设备的时序序列中的第个子序列，表示第个设备的时序序列中的第个子序列表示与之间的数据偏差程度。表示子序列与之间的子序列范数距离。步骤S004：通过不同设备的子序列之间的距离范数获取设备用电负荷数据的规律性，并进行所有设备用电负荷数据融合。在获取园区中所有设备的时序序列后，即需对设备之间的时序序列进行分析，对于不同的时刻，根据每个设备的时序特征确定每个时刻的不同初始权重。示例，对于园区中的路灯设备，具有固定的用电时间，那么根据路灯固定点亮时间的周期来讲，在路灯即将关闭时，路灯设备的用电负荷数据在多维数据融合中是不重要的，即需要降低初始权重。对于在数据融合过程中，首先需要确定设备之间的规律性，根据设备的相关性进行初始权重的分配。获取到准确的不同设备间的规律性之后，即可在每个时刻的用电负荷数据量数值的基础上，根据设备间的相关性获取当前时刻用于状态划分的权重，并根据用电负荷数据量进行设备用电负荷数据状态的确定。在获取到子序列之间的距离度量之后，可以确定子序列的最邻近子序列，并确定最近邻子序列之间的斜率，通过两个设备的时序序列中的全部子序列对应关系的斜率序列进行对应关系规律性的度量，并在度量中通过子序列中对应的数据偏差程度进行所获规律程度的优化；对于获取的子序列对应关系，通过当前设备的时序序列与其他设备时序序列之间子序列连线进行斜率计算。获取第个设备第个子序列，获取第个子序列在第个设备中的最近邻子序列，且，对于两个子序列的多个用电负荷数据之间的斜率:；；；表示每个数据为中心的长度为1的时间窗口，表示第个设备中的第个子序列中的第个用电负荷数据，表示第个子序列在第个设备中的最近邻子序列的第个用电负荷数据，且，表示第个设备中的第个子序列的起始时刻，表示第m1个子序列在第n2个设备中的最近邻子序列的起始时刻，表示两个子序列的用电负荷之间的斜率，表示斜率在轴的变化，，表示斜率在轴的变化。至此，上述根据第n1个设备中的m1个子序列在第n2个设备中的最近邻子序列获得了一个斜率，那么同理，分别根据第n1个设备中的所有子序列在所有其他设备中的最近邻子序列即可获得多个斜率，这些斜率构成了第n1个设备的斜率序列；假设有N个设备，每个对应M个子序列，那么获得的M×个斜率构成个了第n1个设备的斜率序列。在图3中可以看出上方的数据与下方数据之间存在着相似变化趋势。但是因为子序列是按照固定长度进行划分的。那么在计算排列熵的过程中就会出现差异，这时，通过调整延迟时间以达到图4所示的数据长度。本实施通过设定斜率序列的窗口大小为，延迟时间为进行排列熵的计算；在进行排列熵的计算过程中，通过作为根据子序列进行更新的延迟时间参数；对于计算排列熵的方式为现有计算方式，获取第n1个设备的排列熵和斜率序列的平均斜率，其中对于第个设备，通过该设备与所有其他设备之间的排列熵计算线性归一化后的值，记为第n1个设备的规律性。通过不同设备的子序列之间的排列熵计算设备用电负荷数据的规律程度，并进行多设备用电负荷数据融合。在获取到设备的规律性之后，即可根据规律性与规律性对应的平均斜率进行用电负荷数据的相关性的度量；两个设备中子序列对应的规律性越高，则说明二者的相关性越高；但是在多设备用电负荷数据融合的过程中需要进一步确定二者的正相关或是负相关，或是用电负荷数据中呈现完全相反的情况；在园区中晚上的路灯与白天的设备的用电负荷数据是相似的，但是二者一个是在白天，一个是在晚上，所以二者的用电负荷在子序列规律性是较高的；所以两者之间的斜率在融合时可以通过数值大小将另一个设备的权重进行降低；根据这两种用电设备，还有其他的设备与二者存在着不同的规律程度与平均对应斜率，所以可以通过这两个参数对园区中所有设备的用电负荷数据进行融合权重分配。对于不同设备的时序序列，需要通过子序列之间的最近邻关系进行判断时序序列设备用电负荷数据的规律性，当任意两个设备的时序序列的子序列之间存在规律性，那么对于这两个设备的时序序列在数据融合的过程中可以根据规律性进行权重的划分。对于基础的权重，可以通过在每一时刻，各个设备的用电负荷数据赋予权重，通过将每一个设备数值都通过该设备的全部数值进行线性归一化，获取对于每一时刻不同设备的初始权重：；表示第1个设备的第个时刻的用电负荷数据，表示第1个设备的第个时刻的初始权重，表示设备的总个数。在任意时刻中，通过每个设备的平均规律性与平均斜率计算每个设备的权重校正因子：；表示园区中设备的总数量，表示园区中以第个设备为中心确定的其他设备与子序列规律性，表示园区中以第个设备为中心确定的其他设备，与子序列对应关系获取到的第个用电设备的用电负荷数据与其他设备的平均斜率，表示以自然常数为底的指数函数，表示第个设备的权重校正因子。在上式中，对于每一个设备在数据融合中的权重优化因子，通过以每一个设备为中心判断的其他设备与其子序列之间的对应关系的规律性进行衡量；当一个设备与其他设备的相关性越高时，则说明该设备的数据更重要，所以应该在数值的基础上进行权重的增加，从而保证数据融合对于园区设备用电负荷数据状态预测的准确性。并在规律性的基础上加入时序序列之间的平均斜率的计算，使得平均斜率越高的数据的校正因子越大。基于上式所述的通过园区内所有设备之间的相关性进行多时序序列融合过程中的融合权重的优化，相较于传统的均值融合，可以保证在融合过程中对于重要用电设备的信息的保留，避免在融合过程中因为均值导致的当前用电负荷数据低的设备将整体的用电负荷数据变化拉低，同时也可以避免不同设备的用电高峰差异被消除的问题。在获取到每个设备的权重校正因子之后，通过该校正因子对初始权重进行优化：；表示第个设备第t时刻的初始权重，表示第个设备的权重校正因子，表示第个设备第t时刻的优化权重。在获取到优化后的融合权重之后，对于所有设备的时序序列，通过优化权重计算所有设备的时序序列：；表示第个设备第t时刻的优化权重，表示第个设备第时刻的用电负荷数据，表示所有设备在第t时刻用电负荷数据的总量，即为任意时刻融合后的园区整体时序序列。步骤S005：通过隐马尔可夫模型与实时设备用电负荷数据监测数据进行用电状态预测，并以此进行电储能单元的配电调控。在获取到融合后的园区内设备的用电负荷数据时序序列之后，根据当前园区内电储能单元的储电量与可承受负荷对设备整体的时序序列进行状态确定，获取到每个历史时序序列中每个数据的负荷状态，将每一个数据划分为：高负荷，中负荷，低负荷。在确定时序序列中每时刻的园区设备的负荷状态之后，获取时序序列中的状态转移矩阵，发射概率矩阵，并以此获取当前时序序列的隐马尔可夫模型，对于实时采集到的设备用电负荷数据，对于隐马尔可夫预测模型，通过维特比算法获取到最有可能的状态序列作为园区设备的用电负荷数据预测结果。在获取到用电负荷数据预测结果之后即可以根据预测结果对园区内设备的配电进行最优调控，从而保证对园区中电储能单元与可再生能源的利用达到最大化并且保证园区中各设备的用电负荷数据稳定。本实施例提供一种园区碳排放量在线监测系统，该系统包括以下模块：数据采集模块，用于采集不同设备的所有用电负荷数据；数据处理模块，对于所有设备的时序序列，按照固定窗口长度划分为若干个子序列；根据任意两个子序列的范数距离和数据偏差计算改进的子序列范数距离；根据改进的子序列范数距离确定每个子序列的最近邻子序列；根据最近邻子序列的斜率获得优化权重，根据优化权重和每个设备的用电负荷数据获得整个园区的用电负荷总量；数据应用预测模块，根据整个园区的用电负荷总量通过隐马尔可夫模型预测实时用电负荷状态。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
