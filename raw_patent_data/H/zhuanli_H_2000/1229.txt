标题title
贴片机的贴片方法、装置、设备及存储介质
摘要abst
本发明涉及贴片自动化领域，公开了一种贴片机的贴片方法、装置、设备及存储介质。该方法包括：接收BOM表，其中，BOM表包括：物料名称、物料编码；获取贴片物料坐标表，根据物料名称，将BOM表与贴片物料坐标表进行匹配合并处理，生成组合表；基于组合表中的物料编码，对物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果；当抓取结果为抓取成功时，则根据组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于物料坐标上。在本发明实施例中，解决了BOM表、坐标文件的格式与贴片机不匹配导致操作人员进行大量手工调整的技术问题。
权利要求书clms
1.一种贴片机的贴片方法，其特征在于，包括步骤：接收BOM表，其中，所述BOM表包括：物料名称、物料编码；获取贴片物料坐标表，根据所述物料名称，将所述BOM表与所述贴片物料坐标表进行匹配合并处理，生成组合表；基于所述组合表中的物料编码，对所述物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果；当所述抓取结果为抓取成功时，则根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上。2.根据权利要求1所述的贴片机的贴片方法，其特征在于，所述根据所述物料名称，将所述BOM表与所述贴片物料坐标表进行匹配合并处理，生成组合表包括：根据所述物料名称，在所述贴片物料坐标表匹配出目标数组；抓取所述BOM表中所述物料名称对应的BOM数组；将所述目标数组和所述BOM数组进行合并处理，生成组合表。3.根据权利要求2所述的贴片机的贴片方法，其特征在于，所述将所述目标数组和所述BOM数组进行合并处理，生成组合表包括：将所述目标数组、所述BOM数组进行拼接处理，生成拼接数组；对所述拼接数组中的元素进行物料名称的去重处理，生成去重拼接数组；将所述去重拼接数组填充进入预置组合表框架，生成组合表。4.根据权利要求3所述的贴片机的贴片方法，其特征在于，所述将所述去重拼接数组填充进入预置组合表框架，生成组合表包括：基于键值数据结构的键索引匹配，将所述去重拼接数组的值写入预置组合表框架中，生成组合表。5.根据权利要求1所述的贴片机的贴片方法，其特征在于，所述基于所述组合表中的物料编码，对所述物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果包括：基于所述组合表中的物料编码，开启所述物料编码对应编号工位的取料装置；在预设监控时长内，判断贴片物料是否触发磁力感应；若触发磁力感应，则将抓取成功写入预置结果框架中，生成贴片物料的抓取结果；若未触发磁力感应，则将抓取失败写入预置结果框架中，生成贴片物料的抓取结果。6.根据权利要求1所述的贴片机的贴片方法，其特征在于，所述根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上包括：根据所述组合表中物料编码对应的物料坐标，控制贴片机本体在预置XY滑轨平台上的位置移动至所述物料坐标处；控制贴片机本体将抓取到的贴片物料放置于所述物料坐标上。7.根据权利要求1所述的贴片机的贴片方法，其特征在于，在所述根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上之后，还包括：将所述物料坐标设置为禁止重复贴片坐标。8.一种贴片机的贴片装置，其特征在于，所述贴片机的贴片装置包括：接收模块，用于接收BOM表，其中，所述BOM表包括：物料名称、物料编码；匹配合并模块，用于获取贴片物料坐标表，根据所述物料名称，将所述BOM表与所述贴片物料坐标表进行匹配合并处理，生成组合表；取料模块，用于基于所述组合表中的物料编码，对所述物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果；放置模块，用于当所述抓取结果为抓取成功时，则根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上。9.一种贴片机的贴片设备，其特征在于，所述贴片机的贴片设备包括：存储器和至少一个处理器，所述存储器中存储有指令，所述存储器和所述至少一个处理器通过线路互连；所述至少一个处理器调用所述存储器中的所述指令，以使得所述贴片机的贴片设备执行如权利要求1-7中任一项所述的贴片机的贴片方法。10.一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-7中任一项所述的贴片机的贴片方法。
说明书desc
技术领域本发明涉及贴片自动化领域，尤其涉及一种贴片机的贴片方法、装置、设备及存储介质。背景技术当前，贴片机涉及有多个技术，如电子元器件识别技术，贴片机需要准确识别各种电子元器件，因此需要掌握图像处理、模式识别和人工智能等相关技术。贴片机还涉及精密控制技术，贴片机需要实现高速、精准的运动控制，因此需要熟悉伺服控制、运动规划和PID控制等技术。因此贴片机是多个精密技术的组合，并且贴片机需要与其他设备进行数据交换和控制命令传输，因此涉及各种通信协议和接口技术，如RS-232、TCP/IP、CAN总线等。在制造业中，贴片机要进行贴片，需要操作人员输入BOM表进行贴片，由于供应商提供BOM表的格式差别巨大，每次都要操作人员自己手动改变BOM格式以满足贴片机对于格式要求，并且BOM表的设置坐标文件是供应商另外提供，给操作人员在第一次实验时经常需要花费几个小时进行校验，给操作人员带来巨大工作量。因此，针对BOM表、坐标文件的格式与贴片机不匹配导致操作人员进行大量手工调整的技术问题，需要一种技术解决当前问题。发明内容本发明的主要目的在于解决BOM表、坐标文件的格式与贴片机不匹配导致操作人员进行大量手工调整的技术问题。本发明第一方面提供了一种贴片机的贴片方法，包括步骤：接收BOM表，其中，所述BOM表包括：物料名称、物料编码；获取贴片物料坐标表，根据所述物料名称，将所述BOM表与所述贴片物料坐标表进行匹配合并处理，生成组合表；基于所述组合表中的物料编码，对所述物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果；当所述抓取结果为抓取成功时，则根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上。可选的，在本发明第一方面的第一种实现方式中，所述根据所述物料名称，将所述BOM表与所述贴片物料坐标表进行匹配合并处理，生成组合表包括：根据所述物料名称，在所述贴片物料坐标表匹配出目标数组；抓取所述BOM表中所述物料名称对应的BOM数组；将所述目标数组和所述BOM数组进行合并处理，生成组合表。可选的，在本发明第一方面的第二种实现方式中，所述将所述目标数组和所述BOM数组进行合并处理，生成组合表包括：将所述目标数组、所述BOM数组进行拼接处理，生成拼接数组；对所述拼接数组中的元素进行物料名称的去重处理，生成去重拼接数组；将所述去重拼接数组填充进入预置组合表框架，生成组合表。可选的，在本发明第一方面的第三种实现方式中，所述将所述去重拼接数组填充进入预置组合表框架，生成组合表包括：基于键值数据结构的键索引匹配，将所述去重拼接数组的值写入预置组合表框架中，生成组合表。可选的，在本发明第一方面的第四种实现方式中，所述基于所述组合表中的物料编码，对所述物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果包括：基于所述组合表中的物料编码，开启所述物料编码对应编号工位的取料装置；在预设监控时长内，判断贴片物料是否触发磁力感应；若触发磁力感应，则将抓取成功写入预置结果框架中，生成贴片物料的抓取结果；若未触发磁力感应，则将抓取失败写入预置结果框架中，生成贴片物料的抓取结果。可选的，在本发明第一方面的第五种实现方式中，所述根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上包括：根据所述组合表中物料编码对应的物料坐标，控制贴片机本体在预置XY滑轨平台上的位置移动至所述物料坐标处；控制贴片机本体将抓取到的贴片物料放置于所述物料坐标上。可选的，在本发明第一方面的第六种实现方式中，在所述根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上之后，还包括：将所述物料坐标设置为禁止重复贴片坐标。本发明第二方面提供了一种贴片机的贴片装置，所述贴片机的贴片装置包括：接收模块，用于接收BOM表，其中，所述BOM表包括：物料名称、物料编码；匹配合并模块，用于获取贴片物料坐标表，根据所述物料名称，将所述BOM表与所述贴片物料坐标表进行匹配合并处理，生成组合表；取料模块，用于基于所述组合表中的物料编码，对所述物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果；放置模块，用于当所述抓取结果为抓取成功时，则根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上。本发明第三方面提供了一种贴片机的贴片设备，包括：存储器和至少一个处理器，所述存储器中存储有指令，所述存储器和所述至少一个处理器通过线路互连；所述至少一个处理器调用所述存储器中的所述指令，以使得所述贴片机的贴片设备执行上述的贴片机的贴片方法。本发明的第四方面提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有指令，当其在计算机上运行时，使得计算机执行上述的贴片机的贴片方法。在本发明实施例，通过BOM表和坐标文件的格式规范的内容匹配，利用物料名称的唯一属性，将BOM表和坐标文件进行编排对应组合，生成组合表。再利用组合表作为贴片机驱动贴片的基础，解决了BOM表、坐标文件的格式与贴片机不匹配导致操作人员进行大量手工调整的技术问题。附图说明图1为本发明实施例中贴片机的贴片方法的一个实施例示意图；图2为本发明实施例中贴片机的贴片装置的一个实施例示意图；图3为本发明实施例中贴片机的贴片装置的另一个实施例示意图；图4为本发明实施例中贴片机的贴片设备的一个实施例示意图。具体实施方式本发明实施例提供了一种贴片机的贴片方法、装置、设备及存储介质。本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”、“第四”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的实施例能够以除了在这里图示或描述的内容以外的顺序实施。此外，术语“包括”或“具有”及其任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。为便于理解，下面对本发明实施例的具体流程进行描述，请参阅图1，本发明实施例中贴片机的贴片方法的一个实施例包括：101、接收BOM表，其中，所述BOM表包括：物料名称、物料编码；在本实施例中，可以接收一个如下的BOM表，包含有物料名称、物料编码以及数量等信息。在这个BOM表中，除了物料名称和物料编码之外，还包括制造商、封装类型和数量等信息。每个元器件都有一个编号或序号，用于区分不同的元器件。例如，“微控制器”对应序号为1，“继电器”对应序号为2。此外，BOM表还包含元器件的封装类型和数量信息。封装类型表示元器件的物理尺寸和形状，决定了其能否安装在特定的PCB板上。数量表示该元器件在整个产品中需要使用的数量。表1、BOM表示例102、获取贴片物料坐标表，根据所述物料名称，将所述BOM表与所述贴片物料坐标表进行匹配合并处理，生成组合表；在本实施例中，在这个贴片物料坐标表中，根据BOM表的序号对应每个元器件，并且为每个元器件分配了一个唯一的坐标位置。例如，“微控制器”对应序号1并且位于坐标X=10.0mm，坐标Y=20.0mm的位置。通过根据BOM表列出的元器件类型和数量，以及PCB板上每个元器件所需的坐标位置信息，可以创建一个完整的贴片机程序文件，用于自动安装电子元器件。表2、贴片物料坐标表示例因为，供应商的物料编码与贴片机使用的物料编码两者不同，实际上只有物料名称是存在统一处理，只能依据物料名称，将BOM表与贴片物料坐标表进行组合，生成一个贴片机可以执行的内容。进一步的，在102步骤可以执行以下步骤：1021、根据所述物料名称，在所述贴片物料坐标表匹配出目标数组；1022、抓取所述BOM表中所述物料名称对应的BOM数组；1023、将所述目标数组和所述BOM数组进行合并处理，生成组合表。在1021-1023步骤中，使用“微控制器”在所述贴片物料坐标表匹配出目标数组，在BOM表中所述物料名称对应的BOM数组为。将所述目标数组和所述BOM数组进行合并处理，得到，生成组合表的其中一行，将物料1-6进行组合生成组合表。进一步的，在1023可以执行以下步骤：10231、将所述目标数组、所述BOM数组进行拼接处理，生成拼接数组；10232、对所述拼接数组中的元素进行物料名称的去重处理，生成去重拼接数组；10233、将所述去重拼接数组填充进入预置组合表框架，生成组合表。在10231-10233步骤中，将所述目标数组、所述BOM数组进行拼接处理，生成拼接数组，对拼接数组进行物料名称重复去重得到去重拼接数组。然后按照物料名称、物料编码、封装类型、坐标X、坐标Y填充进入预置组合表框架，生成组合表。具体的，在10233可以执行以下步骤：102331、基于键值数据结构的键索引匹配，将所述去重拼接数组的值写入预置组合表框架中，生成组合表。在本实施例中，基于k-v键值的匹配方式，将键索引：物料编码，重拼接数组的值“STC89C5”写入预置组合表框架的“物料编码”中，逐个填写生成组合表。103、基于所述组合表中的物料编码，对所述物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果；在本实施例中，物料编码“STC89C5”在贴片机上设置进料的编号工位12，对编号工位12进行取料处理，取料可以采取吸取物料，或者机械运动卡扣进料方式，进料取料结构非本申请重点在此不做赘述，基于抓取动作可以获取反馈出的贴片物料的抓取结果。进一步的，在103可以执行以下步骤：1031、基于所述组合表中的物料编码，开启所述物料编码对应编号工位的取料装置；1032、在预设监控时长内，判断贴片物料是否触发磁力感应；1033、若触发磁力感应，则将抓取成功写入预置结果框架中，生成贴片物料的抓取结果；1034、若未触发磁力感应，则将抓取失败写入预置结果框架中，生成贴片物料的抓取结果。在1031-1034步骤中，物料编码“STC89C5”在贴片机上设置进料的编号工位12，对编号工位12进行取料处理，在最终反馈位置设置磁力传感器，如果磁力传感器感应到磁力变化触发了磁力感应，则将抓取成功写入预置结果框架中，生成贴片物料的抓取结果。如果没有触发磁力感应，则将抓取失败写入预置结果框架中，生成贴片物料的抓取结果。104、当所述抓取结果为抓取成功时，则根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上。在本实施例中，坐标X：10.0，坐标Y：20.0为物料编码“STC89C5”的物料坐标，将已经获得微控制器贴片物料放置于X：10.0，坐标Y：20物料坐标上。进一步的，在104可以执行以下步骤：1041、根据所述组合表中物料编码对应的物料坐标，控制贴片机本体在预置XY滑轨平台上的位置移动至所述物料坐标处；1042、控制贴片机本体将抓取到的贴片物料放置于所述物料坐标上。在1041-1042步骤中，贴片机本体为带有机器安装焊枪的机器安装在XY滑轨平台上，可以移动到XY滑轨平台的任一坐标，而贴片机本体基于物料坐标X：10.0，坐标Y：20.0的进行移动，调整XY滑轨平台的X轴滑轨和Y轴滑轨实现移动，最后由贴片机本体将抓取到的贴片物料放置于所述物料坐标上。进一步的，在104之后还可以执行以下步骤：105、将所述物料坐标设置为禁止重复贴片坐标。在本实施例中，禁止同一个坐标出现两次贴片操作，将所述物料坐标设置为禁止重复贴片坐标，只有在下一个PCB板上贴片机才会更新。在本发明实施例，通过BOM表和坐标文件的格式规范的内容匹配，利用物料名称的唯一属性，将BOM表和坐标文件进行编排对应组合，生成组合表。再利用组合表作为贴片机驱动贴片的基础，解决了BOM表、坐标文件的格式与贴片机不匹配导致操作人员进行大量手工调整的技术问题。上面对本发明实施例中贴片机的贴片方法进行了描述，下面对本发明实施例中贴片机的贴片装置进行描述，请参阅图2，本发明实施例中贴片机的贴片装置一个实施例，所述贴片机的贴片装置包括：接收模块201，用于接收BOM表，其中，所述BOM表包括：物料名称、物料编码；匹配合并模块202，用于获取贴片物料坐标表，根据所述物料名称，将所述BOM表与所述贴片物料坐标表进行匹配合并处理，生成组合表；取料模块203，用于基于所述组合表中的物料编码，对所述物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果；放置模块204，用于当所述抓取结果为抓取成功时，则根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上。在本发明实施例，通过BOM表和坐标文件的格式规范的内容匹配，利用物料名称的唯一属性，将BOM表和坐标文件进行编排对应组合，生成组合表。再利用组合表作为贴片机驱动贴片的基础，解决了BOM表、坐标文件的格式与贴片机不匹配导致操作人员进行大量手工调整的技术问题。请参阅图3，本发明实施例中贴片机的贴片装置的另一个实施例，所述贴片机的贴片装置包括：接收模块201，用于接收BOM表，其中，所述BOM表包括：物料名称、物料编码；匹配合并模块202，用于获取贴片物料坐标表，根据所述物料名称，将所述BOM表与所述贴片物料坐标表进行匹配合并处理，生成组合表；取料模块203，用于基于所述组合表中的物料编码，对所述物料编码对应的编号工位进行取料处理，得到贴片物料的抓取结果；放置模块204，用于当所述抓取结果为抓取成功时，则根据所述组合表中物料编码对应的物料坐标，将抓取到的贴片物料放置于所述物料坐标上。其中，所述匹配合并模块202包括：匹配单元2021，用于根据所述物料名称，在所述贴片物料坐标表匹配出目标数组；抓取单元2022，用于抓取所述BOM表中所述物料名称对应的BOM数组；合并单元2023，用于将所述目标数组和所述BOM数组进行合并处理，生成组合表。其中，所述合并单元2023具体用于：将所述目标数组、所述BOM数组进行拼接处理，生成拼接数组；对所述拼接数组中的元素进行物料名称的去重处理，生成去重拼接数组；将所述去重拼接数组填充进入预置组合表框架，生成组合表。其中，所述合并单元2023还可以具体用于：基于键值数据结构的键索引匹配，将所述去重拼接数组的值写入预置组合表框架中，生成组合表。其中，所述取料模块203具体用于：基于所述组合表中的物料编码，开启所述物料编码对应编号工位的取料装置；在预设监控时长内，判断贴片物料是否触发磁力感应；若触发磁力感应，则将抓取成功写入预置结果框架中，生成贴片物料的抓取结果；若未触发磁力感应，则将抓取失败写入预置结果框架中，生成贴片物料的抓取结果。其中，所述放置模块204具体用于：根据所述组合表中物料编码对应的物料坐标，控制贴片机本体在预置XY滑轨平台上的位置移动至所述物料坐标处；控制贴片机本体将抓取到的贴片物料放置于所述物料坐标上。其中，所述贴片机的贴片装置还包括设置模块205，所述设置模块205具体用于：将所述物料坐标设置为禁止重复贴片坐标。在本发明实施例，通过BOM表和坐标文件的格式规范的内容匹配，利用物料名称的唯一属性，将BOM表和坐标文件进行编排对应组合，生成组合表。再利用组合表作为贴片机驱动贴片的基础，解决了BOM表、坐标文件的格式与贴片机不匹配导致操作人员进行大量手工调整的技术问题。上面图2和图3从模块化功能实体的角度对本发明实施例中的贴片机的贴片装置进行详细描述，下面从硬件处理的角度对本发明实施例中贴片机的贴片设备进行详细描述。图4是本发明实施例提供的一种贴片机的贴片设备的结构示意图，该贴片机的贴片设备400可因配置或性能不同而产生比较大的差异，可以包括一个或一个以上处理器410和存储器420，一个或一个以上存储应用程序433或数据432的存储介质430。其中，存储器420和存储介质430可以是短暂存储或持久存储。存储在存储介质430的程序可以包括一个或一个以上模块，每个模块可以包括对贴片机的贴片设备400中的一系列指令操作。更进一步地，处理器410可以设置为与存储介质430通信，在贴片机的贴片设备400上执行存储介质430中的一系列指令操作。基于贴片机的贴片设备400还可以包括一个或一个以上电源440，一个或一个以上有线或无线网络接口450，一个或一个以上输入输出接口460，和/或，一个或一个以上操作系统431，例如Windows Serve，Mac OS X，Unix，Linux，FreeBSD等等。本领域技术人员可以理解，图4示出的贴片机的贴片设备结构并不构成对基于贴片机的贴片设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。本发明还提供一种计算机可读存储介质，该计算机可读存储介质可以为非易失性计算机可读存储介质，该计算机可读存储介质也可以为易失性计算机可读存储介质，所述计算机可读存储介质中存储有指令，当所述指令在计算机上运行时，使得计算机执行所述贴片机的贴片方法的步骤。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统或装置、单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
