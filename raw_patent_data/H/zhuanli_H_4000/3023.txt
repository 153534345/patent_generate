标题title
一种车载通信系统、方法、设备及存储介质
摘要abst
本发明公开了一种车载通信系统、方法、设备及存储介质，所述系统包括车载单元与转发模块，且车载单元与所述转发模块通过网络连接；车载单元用于与外界设备进行消息收发；转发模块用于接收车载单元与外界设备的消息，并进行消息的转发。本发明公开的车载通信系统，利用转发模块为车载单元OBU提供辅助，提高了车载通信的通信范围和通信可靠性，且设备部署简单，调试与维护门槛低。
权利要求书clms
1.一种车载通信系统，其特征在于，所述系统包括车载单元与转发模块，且所述车载单元与所述转发模块通过网络连接；所述车载单元用于与外界设备进行消息收发；所述转发模块用于接收所述车载单元与所述外界设备的消息，并进行消息的转发。2.根据权利要求1所述的系统，其特征在于，所述车载单元与所述转发模块之间的网络连接方式包括以太网连接与无线连接。3.根据权利要求1所述的系统，其特征在于，所述转发模块具体用于：当接收到所述车载单元发送的第一消息时，将所述第一消息转发给所述外界设备；当接收到所述外界设备发送的第二消息时，将所述第二消息转发给所述车载单元。4.根据权利要求3所述的系统，其特征在于，所述车载单元具体用于：在向所述外界设备发送所述第一消息时，将所述第一消息发送给所述转发模块；接收所述外界设备与所述转发模块发送的所述第二消息。5.根据权利要求1所述的系统，其特征在于，所述外界设备包括路侧单元与他车车载单元。6.一种车载通信方法，其特征在于，所述方法应用于车载通信系统，所述车载通信系统包括车载单元与转发模块，所述方法包括：通过所述车载单元与外界设备进行消息收发；通过所述转发模块接收所述车载单元与所述外界设备的消息，并进行消息的转发。7.根据权利要求6所述的方法，其特征在于，通过所述车载单元与外界设备进行消息收发，包括：在向所述外界设备发送第一消息时，通过所述车载单元将所述第一消息发送给所述转发模块；通过所述车载单元接收所述外界设备与所述转发模块发送的第二消息。8.根据权利要求7所述的方法，其特征在于，通过所述转发模块接收所述车载单元与所述外界设备的消息，并进行消息的转发，包括：当接收到所述车载单元发送的第一消息时，通过所述转发模块将所述第一消息转发给所述外界设备；当接收到所述外界设备发送的第二消息时，通过所述转发模块将所述第二消息转发给所述车载单元。9.一种电子设备，其特征在于，所述电子设备包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求6-8中任一项所述的车载通信方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于使处理器执行时实现权利要求6-8中任一项所述的车载通信方法。
说明书desc
技术领域本发明涉及车联网技术领域，尤其涉及一种车载通信系统，方法、设备及存储介质。背景技术到目前为止，OBU作为C-V2X技术的车载单元，与路侧单元RSU构成车与外界事物连接的重要枢纽，OBU基于V2X协议与外界通讯，辅助智能网联汽车实现超视距感知、实时交通信息共享等，助力车辆安全驾驶。由于不同车型在后装OBU设备时有不同的选型和安装方案，导致天线的后向覆盖不均或射频线过长造成的线损严重，造成OBU通信性能表现不佳，对OBU设备正常工作造成影响。尤其在遇到超长宽体车辆、特种车辆作业编队这类V2X场景应用时需要提供通讯保障，而在以上场景中却存在V2X消息通信性能表现较差，丢包情况较为严重，具体来说原因有几下几点：V2X通信频率是5.9GHz，通信频率高，易被遮挡，线损大；OBU设备单鲨鱼鳍天线前后覆盖不均时，会造成较为严重的遮挡；在大型车辆上采用双鲨鱼鳍天线方案，但一端射频线过长会造成射频损耗严重，有比较大的线损。发明内容本发明提供了一种车载通信系统、方法、设备及存储介质，以解决现有车载通信中车载单元通信能力不足的问题。根据本发明的一方面，提供了一种车载通信系统，包括车载单元与转发模块，且所述车载单元与所述转发模块通过网络连接；所述车载单元用于与外界设备进行消息收发；所述转发模块用于接收所述车载单元与所述外界设备的消息，并进行消息的转发。可选的，所述车载单元与所述转发模块之间的网络连接方式包括以太网连接与无线连接。可选的，所述转发模块具体用于：当接收到所述车载单元发送的第一消息时，将所述第一消息转发给所述外界设备；当接收到所述外界设备发送的第二消息时，将所述第二消息转发给所述车载单元。可选的，所述车载单元具体用于：在向所述外界设备发送所述第一消息时，将所述第一消息发送给所述转发模块；接收所述外界设备与所述转发模块发送的所述第二消息。可选的，所述外界设备包括路侧单元与他车车载单元。根据本发明的另一方面，提供了一种车载通信方法，所述方法应用于本发明任一实施例所述的车载通信系统，包括：通过所述车载单元与所述外界设备进行消息收发；通过所述转发模块接收所述车载单元与所述外界设备的消息，并进行消息的转发。进一步地，通过所述车载单元与所述外界设备进行消息收发，包括：在向所述外界设备发送所述第一消息时，通过所述车载单元将所述第一消息发送给所述转发模块；通过所述车载单元接收所述外界设备与所述转发模块发送的所述第二消息。进一步地，通过所述转发模块接收所述车载单元与所述外界设备的消息，并进行消息的转发，包括：当接收到所述车载单元发送的第一消息时，通过所述转发模块将所述第一消息转发给所述外界设备；当接收到所述外界设备发送的第二消息时，通过所述转发模块将所述第二消息转发给所述车载单元。根据本发明的另一方面，提供了一种电子设备，所述电子设备包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行本发明任一实施例所述的车载通信方法。根据本发明的另一方面，提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于使处理器执行时实现本发明任一实施例所述的车载通信方法。本发明实施例提供的车载通信系统包括车载单元与转发模块，且车载单元与所述转发模块通过网络连接；车载单元用于与外界设备进行消息收发；转发模块用于接收车载单元与外界设备的消息，并进行消息的转发。本发明公开的车载通信系统，利用转发模块为车载单元OBU提供辅助，提高了车载通信的通信范围和通信可靠性，且设备部署简单，调试与维护门槛低。应当理解，本部分所描述的内容并非旨在标识本发明的实施例的关键或重要特征，也不用于限制本发明的范围。本发明的其它特征将通过以下的说明书而变得容易理解。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是根据本发明实施例一提供的一种车载通信系统的结构示意图；图2是根据本发明实施例一提供的一种车载通信系统与外界信息交互的示意图；图3是根据本发明实施例一提供的一种设备安装方式的示意图；图4是根据本发明实施例二提供的一种车载通信方法的流程图；图5是实现本发明实施例三的车载通信方法的电子设备的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本发明方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分的实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及它们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。实施例一图1为本发明实施例一提供的一种车载通信系统的结构示意图，本实施例可适用于利用V2X技术进行车辆通信的情况，该车载通信系统可以采用硬件和/或软件的形式实现。如图1所示，该系统包括车载单元110和转发模块120，且车载单元110与转发模块120通过网络连接。V2X意为vehicle to everything，即车对外界的信息交换。车联网通过整合全球定位系统导航技术、车对车交流技术、无线通信及远程感应技术奠定了新的汽车技术发展方向，实现了手动驾驶和自动驾驶的兼容。其中，C-V2X是Cellular-Vehicle toEverything蜂窝车联网的简称，其宗旨是让交通参与者们通过现代通信技术互联互通。车载单元是采用DSRC技术与RSU进行通讯的微波装置。在V2X方案中OBU就是集C-V2X、高精度定位、4G/5G通信等多功能V2X的智能车载终端，面向智能网联汽车、智慧交通领域，具有车路协同、智能计算、远程交互等功能，基于C-V2X协议栈与高级辅助驾驶ADAS、自动驾驶ADS深度融合，可以提供丰富的交通效率及安全等服务，满足高速公路场景下车辆主动安全，效率提升等需求，并支持拓展其他场景应用，满足对C-V2X技术在车联网IoV领域的应用需求。转发模块120是一个于车载单元110之间存在网络连接的V2X信号双向透传转发模块，用于弥补车载单元110的后向通信的缺陷。车载单元110用于与外界设备进行消息收发。转发模块120用于接收车载单元110与外界设备的消息，并进行消息的转发。在本实施例中，车载单元110作为主设备，与外界设备进行消息收发，而转发模块120作为从设备，可以对车载单元110的通信能力起到辅助作用。优选的，转发模块120具备基础的V2X通信能力，支持数据的无损透传转发，并将数据时延控制在1ms。可选的，车载单元110与转发模块120之间的网络连接方式包括以太网连接与无线连接。具体的，车载单元110与转发模块120之间可以通过网线的方式进行信息收发，没有射频馈线，天线线束损耗几乎为零，因此可实现无损转发，最大程度提升通信效果。连接方面，转发模块120支持UDP网络通讯，可以令车载单元110为服务器，端口号为11262。网络连接可以分为以太网连接和无线连接两种方式：a.以太网连接。令车载单元110的网口默认地址为192.168.20.224，此种连接方式需要将转发模块120的IP地址设置为192.168.20.X，X为无IP地址冲突的1-254之间的数值，成功连接之后即可开始数据传输。b.无线连接。令车载单元110自带WiFi热点，其SSID与车载单元110的设备序列号相关，为CWAVEB+6位数字，车载单元110的网口默认地址为192.168.20.224，则无线热点的IP可以是192.168.10.224。在车载单元110与转发模块120的通信中，所有数据可以按照大端传输，设备间交互的主要透传帧数据类型为byte数据，长度为2字节，第一字节表示主命令，第二字节为命令子类型，如下表1所示。对于主命令，消息方向只针对车载单元110组透传帧，方便转发模块120区分上下行数据；而当转发模块120发送透传帧及命令帧时，均不区分，默认低半字节为0。表1 透传帧类型表可选的，转发模块120具体用于：当接收到车载单元110发送的第一消息时，将第一消息转发给外界设备；当接收到外界设备发送的第二消息时，将第二消息转发给车载单元110。可选的，车载单元110具体用于：在向外界设备发送第一消息时，将第一消息发送给转发模块120；接收外界设备与转发模块120发送的第二消息。可选的，外界设备包括路侧单元与他车车载单元。其中，第一消息为车载单元110发送，外界设备接收的消息，第二消息为外界设备发送，车载单元110接收的消息。图2为本发明实施例提供的一种车载通信系统与外界信息交互的示意图，如图所示，车载单元110作为与外界设备进行信息交互的主设备，转发模块120作为从设备。当车载单元110在自己进行消息广播的时候，也会将广播数据，即第一消息给转发模块120一份，由其进行透传转发；当转发模块120接收到他车OBU或路侧单元RSU的广播消息时，也会进行透传转发给其关联的本系统中的车载单元110。转发模块120本身不对接收到的消息做任何处理，包括但不限于：事件判断、消息验签等，也不对消息本身的安全负责，单纯做双向转发透传即可。具体的，在传输主要命令帧时转发模块120与车载单元110之间的处理流程如下：1、请求/取消帧此帧为转发模块120主动发送给车载单元110，车载单元110无需回复。其处理流程表述如下： 转发模块120连接车载单元110成功后，向车载单元110发送请求转发数据指令； 车载单元110收到指令后，按请求的参数发送消息给转发模块120； 转发模块120接收车载单元110发送的数据； 转发模块120取消车载单元110的消息转发功能，车载单元110停止向转发模块120发送消息。2、透传数据帧转发模块120已通过请求指令开启车载单元110的消息转发功能。车载单元110通过透传数据帧将上下行数据转发给转发模块120，供转发模块120将其转发到外界设备。优选地，考虑V2X通信是采用广播的方式，因此转发模块120与车载单元110之间的关联采用网线方式，即可做到减少关联成本及降低错误的可能性。安装时只需从车载点烟器或其他供电处引出车载单元110及转发模块120的供电线，使用时从车载单元110引出一根网线，接入电源板，电源板输出只有一根网线与转发模块120连接来满足通信和供电的需要。当车辆在执行紧急任务或车辆在进行特种作业编队时，车载单元110搭配转发模块120，通过信息的双向透传，实现每条消息的2次收发，可以尽可能降低消息接收的丢包率，满足车辆特种作业对消息收发可靠和完整的要求。图3为本发明实施例提供的一种设备安装方式的示意图，如图所示，针对超长宽体车辆，可以在车尾加装转发模块，只用一根网线与自车车载单元相连，无需增设外置天线，没有射频馈线，线束损耗为零，在最简的安装要求下，可最大化提升通信距离和效果。本发明实施例公开的车载通信系统，包括车载单元与转发模块，且车载单元与所述转发模块通过网络连接；车载单元用于与外界设备进行消息收发；转发模块用于接收车载单元与外界设备的消息，并进行消息的转发。本发明公开的车载通信系统，利用转发模块为车载单元OBU提供辅助，提高了车载通信的通信范围和通信可靠性，且设备部署简单，调试与维护门槛低。实施例二图4为本发明实施例二提供了一种车载通信方法的流程图，该方法可以由本发明任一实施例所述的车载通信系统来执行。如图4所示，该方法包括：S210、通过车载单元与外界设备进行消息收发。在本实施例中，车载单元可以作为车载通信系统中的主设备，完成与外界设备的消息收发功能，可以采用DSRC技术与RSU进行通讯，具有车路协同、智能计算、远程交互等功能。S220、通过转发模块接收车载单元与外界设备的消息，并进行消息的转发。在本实施例中，转发模块可以作为车载通信系统中的从设备，对车载单元进行辅助，解决车载单元的通信能力不足问题。进一步地，通过车载单元与外界设备进行消息收发的方式可以是：在向外界设备发送第一消息时，通过车载单元将第一消息发送给转发模块；通过车载单元接收外界设备与转发模块发送的第二消息。进一步地，通过转发模块接收车载单元与外界设备的消息，并进行消息的转发的方式可以是：当接收到车载单元发送的第一消息时，通过转发模块将第一消息转发给外界设备；当接收到外界设备发送的第二消息时，通过转发模块将第二消息转发给车载单元。其中，第一消息为车载单元发送，外界设备接收的消息，第二消息为外界设备发送，车载单元接收的消息。可选的，车载单元作为与外界设备进行信息交互的主设备，转发模块作为从设备。当车载单元在自己进行消息广播的时候，也会将广播数据，即第一消息给转发模块一份，由其进行透传转发；当转发模块接收到他车OBU或路侧单元RSU的广播消息时，也会进行透传转发给其关联的本系统中的车载单元。转发模块本身不对接收到的消息做任何处理，包括但不限于：事件判断、消息验签等，也不对消息本身的安全负责，单纯做双向转发透传即可。本发明实施例所提供的车载通信方法可由本发明任意实施例所提供的车载通信系统执行，具备车载通信系统相应的功能模块和有益效果。实施例三图5示出了可以用来实施本发明的实施例的电子设备10的结构示意图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、服务器、刀片式服务器、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本发明的实现。如图5所示，电子设备10包括至少一个处理器11，以及与至少一个处理器11通信连接的存储器，如只读存储器12、随机访问存储器13等，其中，存储器存储有可被至少一个处理器执行的计算机程序，处理器11可以根据存储在只读存储器12中的计算机程序或者从存储单元18加载到随机访问存储器13中的计算机程序，来执行各种适当的动作和处理。在RAM 13中，还可存储电子设备10操作所需的各种程序和数据。处理器11、ROM 12以及RAM 13通过总线14彼此相连。输入/输出接口15也连接至总线14。电子设备10中的多个部件连接至I/O接口15，包括：输入单元16，例如键盘、鼠标等；输出单元17，例如各种类型的显示器、扬声器等；存储单元18，例如磁盘、光盘等；以及通信单元19，例如网卡、调制解调器、无线通信收发机等。通信单元19允许电子设备10通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。处理器11可以是各种具有处理和计算能力的通用和/或专用处理组件。处理器11的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的处理器、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。处理器11执行上文所描述的各个方法和处理，例如车载通信方法。在一些实施例中，车载通信方法可被实现为计算机程序，其被有形地包含于计算机可读存储介质，例如存储单元18。在一些实施例中，计算机程序的部分或者全部可以经由ROM 12和/或通信单元19而被载入和/或安装到电子设备10上。当计算机程序加载到RAM 13并由处理器11执行时，可以执行上文描述的车载通信的一个或多个步骤。备选地，在其他实施例中，处理器11可以通过其他任何适当的方式而被配置为执行车载通信方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本发明的方法的计算机程序可以采用一个或多个编程语言的任何组合来编写。这些计算机程序可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器，使得计算机程序当由处理器执行时使流程图和/或框图中所规定的功能/操作被实施。计算机程序可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本发明的上下文中，计算机可读存储介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的计算机程序。计算机可读存储介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。备选地，计算机可读存储介质可以是机器可读信号介质。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在电子设备上实施此处描述的系统和技术，该电子设备具有：用于向用户显示信息的显示装置或者LCD监视器）；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给电子设备。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网、区块链网络和互联网。计算系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，又称为云计算服务器或云主机，是云计算服务体系中的一项主机产品，以解决了传统物理主机与VPS服务中，存在的管理难度大，业务扩展性弱的缺陷。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发明中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本发明的技术方案所期望的结果，本文在此不进行限制。上述具体实施方式，并不构成对本发明保护范围的限制。本领域技术人员应该明白的是，根据设计要求和其他因素，可以进行各种修改、组合、子组合和替代。任何在本发明的精神和原则之内所作的修改、等同替换和改进等，均应包含在本发明保护范围之内。
