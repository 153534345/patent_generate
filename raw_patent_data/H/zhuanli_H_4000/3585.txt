标题title
隐私数据处理系统、方法、装置、计算机设备及存储介质
摘要abst
本发明实施例公开了一种隐私数据处理系统、方法、装置、计算机设备及存储介质，所述隐私数据处理系统用于处理fabric区块链的隐私数据，所述隐私数据处理系统包括客户端、计算集群、背书集群和业务集群；客户端向计算集群发送业务请求，计算集群根据业务请求处理对应的初始隐私数据，得到带有TEE签名的加密数据包；客户端将加密数据包转发到背书集群中，背书集群根据预设背书策略对目标数据进行背书，得到背书结果；客户端将背书结果转发到业务集群后，业务集群存储对应的加密数据包。本发明采用将计算节点、背书节点和业务节点角色分离的方式，能够更灵活的配置各节点角色，使计算节点不再受限于业务属性，可以根据需要进行灵活扩展。
权利要求书clms
1.一种隐私数据处理系统，其特征在于，用于处理fabric区块链的隐私数据，所述隐私数据处理系统包括：客户端、计算集群、背书集群和业务集群；所述客户端用于向所述计算集群发送业务请求；所述计算集群用于根据所述业务请求处理对应的初始隐私数据，以得到目标数据，其中，所述目标数据包括加密数据包和TEE签名；所述客户端还用于接收所述计算集群返回的所述目标数据，并向所述背书集群发送所述目标数据；所述背书集群用于根据预设背书策略对所述目标数据进行背书处理，以得到与所述目标数据对应的背书结果，所述背书结果包括所述目标数据和背书签名；所述客户端用于接收所述背书集群返回的所述背书结果，并向所述业务集群发送所述背书结果；所述业务集群用于根据所述背书结果存储所述目标数据。2.根据权利要求1所述的隐私数据处理系统，其特征在于，所述计算集群包括至少一个计算节点，所述业务集群包括至少一个业务节点，所述计算节点包括TEE环境；所述计算节点用于从所述业务请求对应的业务节点获取初始隐私数据；对所述初始隐私数据进行预设计算处理，以得到目标隐私数据；在TEE环境中对所述目标隐私数据进行数据加密，以得到所述目标数据。3.根据权利要求2所述的隐私数据处理系统，其特征在于，若所述业务节点为密文数据存储模式，所述计算节点用于从所述业务节点获取所述初始隐私数据；若所述业务节点为明文数据存储模式，所述计算节点用于与所述业务节点建立加密通道后，从所述业务节点获取所述初始隐私数据。4.根据权利要求1所述的隐私数据处理系统，其特征在于，所述背书集群包括至少一个背书节点；所述背书节点用于验证所述目标数据中的TEE签名；若所述目标数据验证通过，所述背书节点用于根据预设背书策略对所述目标数据进行背书处理；若所述目标数据验证不通过，所述背书节点用于向所述客户端发送所述TEE签名的验证失败结果。5.根据权利要求4所述的隐私数据处理系统，其特征在于，所述业务集群包括至少一个业务节点；所述业务节点用于验证所述背书结果中的背书签名；若所述背书结果验证通过，所述业务节点用于在本地存储所述加密数据包；若所述背书结果验证不通过，所述业务节点用于向所述客户端发送所述背书签名的验证失败结果。6.根据权利要求1所述的隐私数据处理系统，其特征在于，所述客户端具体用于基于预设的TEE加密规则对所述业务请求进行加密处理，以得到加密请求；所述计算集群具体用于接收所述客户端发送的所述加密请求，并在TEE环境中对所述加密请求进行解密，以得到所述业务请求。7.一种隐私数据处理方法，其特征在于，应用于前述权利要求1-6任一项所述的隐私数据处理系统的客户端，所述隐私数据处理系统还包括计算集群、背书集群以及业务集群，所述隐私数据处理方法包括：向所述计算集群发送业务请求，以使所述计算集群根据所述业务请求处理对应的初始隐私数据；接收所述计算集群返回的目标数据，其中，所述目标数据包括加密数据包和TEE签名；向所述背书集群发送所述目标数据，以使所述背书集群根据预设背书策略对所述目标数据进行背书处理；接收所述背书集群返回的背书结果，所述背书结果包括所述目标数据和背书签名；向所述业务集群发送所述背书结果，以使所述业务集群根据所述背书结果存储所述目标数据。8.一种隐私数据处理装置，其特征在于，应用于前述权利要求1-6任一项所述的隐私数据处理系统的客户端，所述隐私数据处理系统还包括计算集群、背书集群以及业务集群，所述隐私数据处理装置包括：第一发送模块，用于向所述计算集群发送业务请求，以使所述计算集群根据所述业务请求处理对应的初始隐私数据；第一接收模块，用于接收所述计算集群返回的目标数据，其中，所述目标数据包括加密数据包和TEE签名；第二发送模块，用于向所述背书集群发送所述目标数据，以使所述背书集群根据预设背书策略对所述目标数据进行背书处理；第二接收模块，用于接收所述背书集群返回的背书结果，所述背书结果包括所述目标数据和背书签名；第三发送模块，用于向所述业务集群发送所述背书结果，以使所述业务集群根据所述背书结果存储所述目标数据。9.一种计算机设备，其特征在于，所述计算机设备包括：权利要求1-6任一项所述的隐私数据处理系统、处理器和存储器，所述存储器存储有计算机程序，所述计算机程序在所述处理器上运行时执行权利要求7所述的隐私数据处理方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机程序，所述计算机程序在处理器上运行时执行权利要求7所述的隐私数据处理方法。
说明书desc
技术领域本发明涉及隐私数据处理领域，尤其涉及一种隐私数据处理系统、方法、装置、计算机设备及存储介质。背景技术在现有Fabric区块链的隐私数据存储方案中，用户通过客户端向背书节点发送业务请求后，背书节点会根据业务请求中的合约和参数计算数据库中的明文数据，并生成计算结果；对计算结果中的隐私数据进行hash替换后，背书节点进行背书签名，生成背书结果，将所述背书结果返回给客户端后，客户端将所述背书结果发送给各业务节点，背书节点将隐私数据发送给各业务节点。在现有方案中，背书节点会获取和业务请求相关的全部隐私数据，背书节点同时做计算和背书，这使得背书节点的数量受业务限制，对背书节点的配置不够灵活，计算节点和业务节点会发生重叠，无法对计算节点进行扩展。发明内容为了解决上述技术问题，本申请实施例提供了一种隐私数据处理系统、方法、装置、计算机设备及存储介质，具体方案如下：第一方面，本申请实施例提供了一种隐私数据处理系统，用于处理fabric区块链的隐私数据，所述隐私数据处理系统包括：客户端、计算集群、背书集群和业务集群；所述客户端用于向所述计算集群发送业务请求；所述计算集群用于根据所述业务请求处理对应的初始隐私数据，以得到目标数据，其中，所述目标数据包括加密数据包和TEE签名；所述客户端还用于接收所述计算集群返回的所述目标数据，并向所述背书集群发送所述目标数据；所述背书集群用于根据预设背书策略对所述目标数据进行背书处理，以得到与所述目标数据对应的背书结果，所述背书结果包括所述目标数据和背书签名；所述客户端用于接收所述背书集群返回的所述背书结果，并向所述业务集群发送所述背书结果；所述业务集群用于根据所述背书结果存储所述目标数据。根据本申请实施例的一种具体实施方式，所述计算集群包括至少一个计算节点，所述业务集群包括至少一个业务节点，所述计算节点包括TEE环境；所述计算节点用于从所述业务请求对应的业务节点获取初始隐私数据；对所述初始隐私数据进行预设计算处理，以得到目标隐私数据；在TEE环境中对所述目标隐私数据进行数据加密，以得到所述目标数据。根据本申请实施例的一种具体实施方式，若所述业务节点为密文数据存储模式，所述计算节点用于从所述业务节点获取所述初始隐私数据；若所述业务节点为明文数据存储模式，所述计算节点用于与所述业务节点建立加密通道后，从所述业务节点获取所述初始隐私数据。根据本申请实施例的一种具体实施方式，所述背书集群包括至少一个背书节点；所述背书节点用于验证所述目标数据中的TEE签名；若所述目标数据验证通过，所述背书节点用于根据预设背书策略对所述目标数据进行背书处理；若所述目标数据验证不通过，所述背书节点用于向所述客户端发送所述TEE签名的验证失败结果。根据本申请实施例的一种具体实施方式，所述业务集群包括至少一个业务节点；所述业务节点用于验证所述背书结果中的背书签名；若所述背书结果验证通过，所述业务节点用于在本地存储所述加密数据包；若所述背书结果验证不通过，所述业务节点用于向所述客户端发送所述背书签名的验证失败结果。根据本申请实施例的一种具体实施方式，所述客户端具体用于基于预设的TEE加密规则对所述业务请求进行加密处理，以得到加密请求；所述计算集群具体用于接收所述客户端发送的所述加密请求，并在TEE环境中对所述加密请求进行解密，以得到所述业务请求。第二方面，本申请实施例提供了一种隐私数据处理方法，应用于前述第一方面及第一方面任一实施例所述的隐私数据处理系统的客户端，所述隐私数据处理系统还包括计算集群、背书集群以及业务集群，所述隐私数据处理方法包括：向所述计算集群发送业务请求，以使所述计算集群根据所述业务请求处理对应的初始隐私数据；接收所述计算集群返回的目标数据，其中，所述目标数据包括加密数据包和TEE签名；向所述背书集群发送所述目标数据，以使所述背书集群根据预设背书策略对所述目标数据进行背书处理；接收所述背书集群返回的背书结果，所述背书结果包括所述目标数据和背书签名；向所述业务集群发送所述背书结果，以使所述业务集群根据所述背书结果存储所述目标数据。第三方面，本申请实施例提供了一种隐私数据处理装置，应用于前述第一方面及第一方面任一实施例所述的隐私数据处理系统的客户端，所述隐私数据处理系统还包括计算集群、背书集群以及业务集群，所述隐私数据处理装置包括：第一发送模块，用于向所述计算集群发送业务请求，以使所述计算集群根据所述业务请求处理对应的初始隐私数据；第一接收模块，用于接收所述计算集群返回的目标数据，其中，所述目标数据包括加密数据包和TEE签名；第二发送模块，用于向所述背书集群发送所述目标数据，以使所述背书集群根据预设背书策略对所述目标数据进行背书处理；第二接收模块，用于接收所述背书集群返回的背书结果，所述背书结果包括所述目标数据和背书签名；第三发送模块，用于向所述业务集群发送所述背书结果，以使所述业务集群根据所述背书结果存储所述目标数据。第四方面，本申请实施例提供了一种计算机设备，所述计算机设备包括：前述第一方面及第一方面任一实施例所述的隐私数据处理系统、处理器和存储器，所述存储器存储有计算机程序，所述计算机程序在所述处理器上运行时执行第二方面所述的隐私数据处理方法。第五方面，本申请实施例提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，所述计算机程序在处理器上运行时执行前述第一方面及第一方面任一实施例所述的隐私数据处理方法。本申请实施例提供了一种隐私数据处理系统、方法、装置、计算机设备及存储介质，所述隐私数据处理系统用于处理fabric区块链的隐私数据，所述隐私数据处理系统包括客户端、计算集群、背书集群和业务集群；客户端向计算集群发送业务请求，计算集群根据所述业务请求处理对应的初始隐私数据，得到包括加密数据包和TEE签名的目标数据；客户端将所述目标数据转发到背书集群中，背书集群根据预设背书策略对目标数据进行背书，得到背书结果；客户端将所述背书结果转发到业务集群后，业务集群存储对应的加密数据包，本发明采用将计算节点、业务节点和背书节点角色分离的方式，能够更灵活的配置各节点角色，使计算节点不再受限于业务属性，可以根据需要对计算节点和背书节点进行灵活扩展。附图说明为了更清楚地说明本发明的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对本发明保护范围的限定。在各个附图中，类似的构成部分采用类似的编号。图1示出了本申请实施例提供的一种隐私数据存储系统的系统模块示意图；图2示出了本申请实施例提供的一种隐私数据存储系统的系统交互示意图；图3示出了本申请实施例提供的一种隐私数据存储方法的方法流程示意图；图4示出了本申请实施例提供的一种隐私数据存储装置的装置模块示意图。附图标记汇总：隐私数据处理系统-100；客户端-110；计算集群-120；背书集群-130；业务集群-140；隐私数据处理装置-400；第一发送模块-401；第一接收模块-402；第二发送模块-403；第二接收模块-404；第三发送模块-405。具体实施方式下面将结合本发明实施例中附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。在下文中，可在本发明的各种实施例中使用的术语“包括”、“具有”及其同源词仅意在表示特定特征、数字、步骤、操作、元件、组件或前述项的组合，并且不应被理解为首先排除一个或更多个其它特征、数字、步骤、操作、元件、组件或前述项的组合的存在或增加一个或更多个特征、数字、步骤、操作、元件、组件或前述项的组合的可能性。此外，术语“第一”、“第二”、“第三”等仅用于区分描述，而不能理解为指示或暗示相对重要性。除非另有限定，否则在这里使用的所有术语具有与本发明的各种实施例所属领域普通技术人员通常理解的含义相同的含义。所述术语将被解释为具有与在相关技术领域中的语境含义相同的含义并且将不被解释为具有理想化的含义或过于正式的含义，除非在本发明的各种实施例中被清楚地限定。参考图1，为本申请实施例提供的一种隐私数据处理系统100的系统模块示意图，本申请实施例提供的隐私数据处理系统100，用于处理fabric区块链的隐私数据，如图1所示，所述隐私数据处理系统100包括：客户端110、计算集群120、背书集群130和业务集群140；所述客户端110用于向所述计算集群120发送业务请求；所述计算集群120用于根据所述业务请求处理对应的初始隐私数据，以得到目标数据，其中，所述目标数据包括加密数据包和TEE签名；所述客户端110还用于接收所述计算集群120返回的所述目标数据，并向所述背书集群130发送所述目标数据；所述背书集群130用于根据预设背书策略对所述目标数据进行背书处理，以得到与所述目标数据对应的背书结果，所述背书结果包括所述目标数据以及背书签名；所述客户端110用于接收所述背书集群130返回的所述背书结果，并向所述业务集群140发送所述背书结果；所述业务集群140用于根据所述背书结果存储所述目标数据。具体的，本实施例提出的隐私数据处理系统100为一种fabric区块链架构，将隐私数据处理系统100中各节点的角色划分为客户端110、计算集群120、背书集群130和业务集群140。所述客户端110为区块链架构中进行数据通信的用户节点，用户可以通过所述用户节点向计算集群120发送预设的业务请求，例如查询产品价格、筛选产品规格等。在本实施例中，业务请求的具体内容可以根据实际应用场景进行自适应替换，此处不作限定。所述计算集群120包括预设数量的计算节点，其中，所述计算节点用于对区块链中的明文数据或密文数据进行预设计算处理和预设加密处理。具体的，所述预设计算处理包括增加、删除、修改和删除等，预设计算处理的具体执行过程可以在业务请求的合约中进行限定，所述计算节点用于执行计算功能。具体的，所述计算节点中还包括可信执行环境，所述计算节点可以通过远程验证的方式从预设密钥分发服务器中获取所述可信执行环境的相关密钥，并根据所述相关密钥对数据进行加密。所述相关密钥可以为TEE提供的一对非对称密钥，例如可信执行环境私钥和可信执行环境公钥。所述预设密钥分发服务器可以为密钥分发中心，也可以为其它用于生成密钥的服务器，此处不作限定。本实施例中的计算节点在获取业务请求后，从与业务请求相关的业务节点获取相应的初始隐私数据，并根据业务请求中包括的预设合约和参数对所述初始隐私数据进行计算处理，能够得到相应的目标隐私数据。再根据TEE提供的验证密钥对所述目标隐私数据进行加密和TEE签名，就可以得到具有加密数据包和TEE签名的目标数据。其中，TEE签名可以为计算节点通过远程验证方式获得的可信执行环境私钥。所述背书集群130包括预设数量的背书节点，其中，所述背书节点用于对客户端110发送的数据进行背书，以得到具有背书签名的背书结果。具体的，在本实施例中，所述背书节点的选择可以为区块链的普通节点，根据业务节点的内容在普通节点中设置相应的背书策略，就可以得到处理所述目标数据的背书节点。在实际应用过程中，背书是指验证业务请求是否有效并声明业务请求合法的业务节点或不合法的业务节点的处理动作。背书签名用于指示目标数据是否有效，并指示客户端110将背书结果发送至对应的业务节点进行后续处理。所述业务集群140包括预设数量的业务节点，其中，所述业务节点为参与隐私数据存储和交互的节点，每一业务节点中存储有与对应交易业务相关的数据内容。在具体实施例中，所述业务节点也可以称为账本节点。所述业务节点用于接收客户端110转发的背书结果，并对背书签名进行验证，验证背书签名有效后，将经过计算节点加密的数据存储在账本中。具体的，所述计算节点的数量、所述背书节点的数量以及所述业务节点的数量均可以根据实际应用场景中隐私数据处理系统100的区块链规模进行确定，本实施例不对预设数量作具体限定。需知的，所述隐私数据处理系统100同时包括至少一个计算节点、至少一个背书节点和至少一个业务节点。图2为本申请实施例提供的一种隐私数据处理系统100的系统交互示意图，图2中的实线表示经过中间节点，依次发送到对应节点的通信过程，虚线表示不经过中间节点，直接发送到对应节点的通信过程。如图2所示，本实施例提出的隐私数据处理系统100包括TEE，具体的，所述计算集群120中包括TEE，从而能够在TEE的基础上获取隐私数据，并对隐私数据进行计算和加密。用户可以通过客户端110向所述计算集群120发送预设的业务请求，在发送过程中需要根据TEE环境的通道规则进行加密解密处理。根据本申请实施例的一种具体实施方式，所述客户端110具体用于基于预设的TEE加密规则对所述业务请求进行加密处理，以得到加密请求；所述计算集群120具体用于接收所述客户端110发送的所述加密请求，并在TEE环境中对所述加密请求进行解密，以得到所述业务请求。在具体实施例中，客户端110在向所述计算集群120发送业务请求前，客户端110会根据当前业务请求生成对应的交易密钥。另外，客户端110还会通过远程验证的方式获取TEE提供的信封密钥公钥。在发送过程中，客户端110会先通过所述交易密钥对当前业务请求进行交易加密，再通过所述信封密钥公钥对所述交易密钥进行加密，并将加密后的业务请求和交易密钥组装为加密请求。所述计算集群120中的各计算节点会通过远程验证的方式获取TEE提供的信封密钥私钥以及数据加密密钥。客户端110向所述计算集群120发送加密请求，所述计算集群120相关的计算节点会通过信封密钥私钥对所述加密请求进行解密，从而可以得到对应的交易密钥和加密后的业务请求，再次对加密后的业务请求进行解密，就可以得到对应的当前业务请求。具体的，所述交易密钥和所述数据加密密钥为对称密钥，所述信封密钥公私钥为非对称密钥。在实际应用中，上述密钥可以被替换为其它类型的对称密钥和非对称密钥。通过在计算集群120的各计算节点中架设TEE的方式，能够有效保证计算节点在进行计算处理和加密处理时的安全性，保障用户的数据安全。进一步的，客户端110在发送业务请求时，提前获取TEE提供的信封密钥公钥，能够保证业务请求能够准确的到达计算节点，并实现计算节点和背书节点的隔离。根据本申请实施例的一种具体实施方式，所述计算集群120包括至少一个计算节点，所述业务集群140包括至少一个业务节点，所述计算节点包括TEE环境；所述计算节点用于从所述业务请求对应的业务节点获取初始隐私数据；对所述初始隐私数据进行预设计算处理，以得到目标隐私数据；在TEE环境中对所述目标隐私数据进行数据加密，以得到所述目标数据。在具体实施例中，所述计算集群120中可以只包括一个计算节点，也可以同时包括多个计算节点，计算集群120中的计算节点数量根据实际应用过程中的隐私数据处理系统100的区块链架构大小进行决定，此处不作限定。客户端110发送的业务请求中，在合约中预设了待获取的初始隐私数据、计算规则以及数据存储的模式，计算节点在解密得到客户端110发送的业务请求后，根据业务请求中包括的预设合约和参数，从业务集群140中对应的业务节点处获取初始隐私数据。具体的，在进行计算过程中，所述计算集群120可以调用多个计算节点来处理同一个业务请求，也可以使用同一个计算节点来处理多个业务请求，计算节点的具体工作方式可以根据实际应用需求进行自适应调整，此处不作限定。所述计算节点在获取相应的初始隐私数据后，根据业务请求的合约中包括的计算规则对初始隐私数据进行计算，并得到相应的目标隐私数据。具体的，所述计算规则为用户提前在业务请求的合约中限定的处理规则，可以根据实际应用需求进行自适应调整，此处不作具体限定。所述计算节点在得到对应的目标隐私数据后，根据TEE提供的数据加密密钥对所述目标隐私数据进行加密处理，从而得到对应的加密数据包。具体的，所述数据加密密钥为一种对称密钥，除计算节点外的其它节点在得到所述加密数据包后，可以通过远程验证的方式从密钥分发服务器获取所述数据加密密钥到TEE中，从而可以在TEE中使用所述数据加密密钥解密所述加密数据包，以得到相关的目标隐私数据。需知的，在本实施例中，所述业务节点需要查看存储在本地的加密数据包时，需要在TEE环境内对所述加密数据包进行解密，以得到对应的隐私数据的明文内容。具体的，所述背书节点和所述业务节点中均可以根据实际应用场景配置相应的TEE，从而能够在TEE中对加密数据包进行解密，以获取与业务请求对应的隐私数据的明文内容。根据本申请实施例的一种具体实施方式，若所述业务节点为密文数据存储模式，所述计算节点用于从所述业务节点获取所述初始隐私数据；若所述业务节点为明文数据存储模式，所述计算节点用于与TEE环境建立加密通道后，从所述业务节点获取所述初始隐私数据。在具体实施例中，所述计算节点从所述业务节点中获取初始隐私数据时，根据解密后的业务请求来判断对应业务节点的存储模式。具体的，所述业务节点的存储模式包括密文数据存储模式和明文数据存储模式。当所述业务节点为密文数据存储模式时，所述业务节点中存储的隐私数据均为加密状态下的数据，所述业务节点需要在TEE中对密文数据进行解密后，才可以使用所述隐私数据。所述业务节点发送的初始隐私数据是处于加密状态下的，所述业务节点直接向所述计算节点发送初始隐私数据。当所述业务节点为明文数据存储模式时，所述业务节点中存储的隐私数据均为明文状态下的数据，所述业务节点可以直接使用所述隐私数据。所述业务节点发送的初始隐私数据是处于明文状态下的，所述计算节点中包括TEE环境，所述业务节点需要先和TEE环境建立加密通道，才能够将所述隐私数据发送至所述计算节点。在本实施例中，计算节点通过配置TEE环境，实现了计算节点和业务节点之间的角色分离，计算节点可以灵活的进行水平扩展，计算节点和业务节点之间不再根据业务关系进行绑定，可以通过任一计算节点与任一业务节点之间建立加密通道的方式，从所述业务节点中获取隐私数据。根据本申请实施例的一种具体实施方式，所述背书集群130包括至少一个背书节点；所述背书节点用于验证所述目标数据中的TEE签名；若所述目标数据验证通过，所述背书节点用于根据预设背书策略对所述目标数据进行背书处理；若所述目标数据验证不通过，所述背书节点用于向所述客户端110发送所述TEE签名的验证失败结果。在具体实施例中，所述背书节点的数量根据业务节点中的业务内容而适应性变化，背书节点中提前预设有相应的背书策略，具体的，同一业务节点可以对应多个背书节点的背书策略。具体的，每一背书节点在进行背书时，会指定目标数据对应的业务节点。并在背书签名中对所述对应的业务节点进行声明。在本实施例中，所述背书节点接收到的目标数据均为加密后的隐私数据。背书节点在接收所述目标数据后，基于所述可信执行环境公钥对所述目标数据中的TEE签名进行验证。若所述目标数据的TEE签名属于有效签名，所述目标数据验证通过，则说明所述目标数据是对应当前业务请求的有效数据，所述背书节点对所述目标数据进行背书。若所述目标签名属于无效签名或所述目标数据不具备TEE签名，所述目标数据验证不通过，则说明所述目标数据并非对应当前业务请求的数据，所述背书节点不处理所述目标数据，并向客户端110返回验证失败结果。本实施例通过在计算节点中配置TEE，并在计算节点中对所有计算结果进行加密处理，以得到目标数据，即包括TEE签名的加密数据包。计算节点将所述目标数据返回客户端后，所述背书节点和所述业务节点接收到的数据均为加密后的目标数据。在背书过程中所述背书节点不获取加密数据的明文数据内容，实现了计算节点、背书节点、业务节点之间的角色分离，具体体现在，计算节点和业务节点为参与隐私数据处理的区块链节点，背书节点为不参与隐私数据处理的区块链节点。背书节点不参与数据的计算以及隐私数据的处理，从而使用户能够更加灵活的配置背书节点的背书策略，并有效避免了数据泄露的风险。根据本申请实施例的一种具体实施方式，所述业务集群140包括至少一个业务节点；所述业务节点用于验证所述背书结果中的背书签名；若所述背书结果验证通过，所述业务节点用于在本地存储所述加密数据包；若所述背书结果验证不通过，所述业务节点用于向所述客户端110发送所述背书签名的验证失败结果。具体的，业务节点的数量和背书节点的数量之间存在限制关系，背书节点的数量由业务节点的数量进行确定。在具体实施例中，每一背书节点可以设置一个固定的背书策略，而同一业务节点可以对应多个背书节点，因此，所述背书节点的数量会大于或等于业务节点的数量。当所述客户端110将背书结果发送至业务集群140中对应的部分业务节点后，各业务节点会针对每一背书结果的背书签名进行验证，验证背书签名指示的业务节点是否和当前业务节点一致，当所述背书签名指示的业务节点和当前业务节点一致时，所述背书结果验证通过，所述当前业务节点将所述加密数据包存储在业务节点本地。当所述背书签名指示的业务节点和当前业务节点不一致，所述背书节点结束本次业务交易并向所述客户端110反馈验证失败结果。本实施例提出的隐私数据处理系统100，通过在fabric区块链技术中使用TEE环境的方式，将集成的背书节点拆分为计算节点和背书节点，其中，计算节点用于对数据进行计算和加密处理，背书节点仅用于对TEE签名进行验证，并在验证通过后对加密的隐私数据进行背书签名，在背书过程中，背书节点始终不获取隐私数据的数据内容，从而能够实现背书节点和业务节点的分离。用户可以灵活的配置背书节点的背书策略，或选择和业务不相关的节点作为背书节点，从而能够减小业务节点执行业务请求时的负担。参考图3，为本申请实施例提供的一种隐私数据处理方法的方法流程示意图，本实施例提供的隐私数据方法，应用于前述实施例中的隐私数据系统的客户端110，所述隐私数据处理系统还包括计算集群、背书集群以及业务集群，如图3所示，所述隐私数据处理方法包括：步骤S301，向所述计算集群发送业务请求，以使所述计算集群根据所述业务请求处理对应的初始隐私数据；步骤S302，接收所述计算集群返回的目标数据，其中，所述目标数据包括加密数据包和TEE签名；步骤S303，向所述背书集群发送所述目标数据，以使所述背书集群根据预设背书策略对所述目标数据进行背书处理；步骤S304，接收所述背书集群返回的背书结果，所述背书结果包括所述目标数据和背书签名；步骤S305，向所述业务集群发送所述背书结果，以使所述业务集群根据所述背书结果存储所述目标数据。在具体实施例中，隐私数据处理系统的具体结构参考上述系统实施例中的描述，此处不再赘述。如图2和图3所示，客户端110在执行一次业务请求的过程中，会分别和计算集群120、背书集群130以及业务集群140进行数据通信。具体的，客户端110与各集群的通信过程可以参考上述系统实施例中的通信过程，此处不一一赘述。具体的，客户端110向计算集群120发送业务请求前，会先根据对应交易业务自生成一个交易密钥，并根据所述交易密钥对业务请求进行加密。需知的，每一业务请求均具有唯一对应的交易密钥。所述客户端110对所述业务请求进行加密后，会基于TEE加密通道将所述加密后的业务请求发送至所述计算集群120，以供所述计算集群120根据业务请求进行数据处理。所述客户端110接收所述计算集群120返回的目标数据后，会对所述计算集群120返回的目标数据进行分类处理，将属于同一业务请求的目标数据整合后，集中发送给所述背书集群130，以供所述背书集群130对目标数据进行背书。所述客户端110接收所述背书集群130返回的背书结果后，同样可以根据业务请求对所述背书结果进行分类，将属于同一业务的背书结果集中发送给业务集群140，以供所述业务集群140对加密隐私数据进行存储。本实施例提供的隐私数据处理方法，能够采用更加灵活的背书策略，将隐私数据分别分发给不同的节点进行处理，能够有效提高fabric区块链隐私数据处理的效率。参考图4，为本申请实施例提供的一种隐私数据处理装置400的装置模块示意图，本实施例提供的隐私数据处理装置400，应用于前述实施例中的隐私数据系统的客户端，所述隐私数据处理系统还包括计算集群、背书集群以及业务集群，如图4所示，所述隐私数据处理装置400包括：第一发送模块401用于向所述计算集群发送业务请求，以使所述计算集群根据所述业务请求处理对应的初始隐私数据；第一接收模块402，用于接收所述计算集群返回的目标数据，其中，所述目标数据包括加密数据包和TEE签名；第二发送模块403，用于向所述背书集群发送所述目标数据，以使所述背书集群根据预设背书策略对所述目标数据进行背书处理；第二接收模块404，用于接收所述背书集群返回的背书结果，所述背书结果包括所述目标数据和背书签名；第三发送模块405，用于向所述业务集群发送所述背书结果，以使所述业务集群根据所述背书结果存储所述目标数据。另外，本申请实施例还提供的一种计算机设备，所述计算机设备包括：前述实施例中的隐私数据处理系统、处理器和存储器，所述存储器存储有计算机程序，所述计算机程序在所述处理器上运行时执行实施例中的隐私数据处理方法。本申请实施例提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，所述计算机程序在处理器上运行时执行前述实施例中的隐私数据处理方法。综上所述，本申请实施例提供了一种隐私数据处理系统、方法、装置、计算机设备及存储介质，本申请提供的隐私数据处理系统，在计算节点中配置可信执行环境，有效将计算节点和背书节点分离，从而能够便于计算节点和背书节点的水平扩展。背书节点在处理过程中不对数据内容进行解密，从而实现背书节点与业务节点的分离，使得背书节点的配置更加灵活，有效提高了fabric区块链隐私数据的处理效率。另外，上述实施例中提到的隐私数据处理装置、计算机设备及计算机可读存储介质的具体实施过程，可以参见上述方法实施例的具体实施过程，在此不再一一赘述。在本申请所提供的几个实施例中，应该理解到，所揭露的装置和方法，也可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，附图中的流程图和结构图显示了根据本发明的多个实施例的装置、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在作为替换的实现方式中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，结构图和/或流程图中的每个方框、以及结构图和/或流程图中的方框的组合，可以用执行规定的功能或动作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。另外，在本发明各个实施例中的各功能模块或集群可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或更多个模块集成形成一个独立的部分。所述功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。
