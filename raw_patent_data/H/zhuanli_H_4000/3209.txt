标题title
一种基于方向约束的路由方法、装置及电子设备
摘要abst
本申请提供一种基于方向约束的路由方法、装置及电子设备，该方法包括：初始化低轨卫星网络的运行周期、时间片及时间片对应的星间链路度量值变化函数；判断每个时间片内的星间链路度量值是否随时间不断变化，若不随时间不断变化，则以固定的常数值作为星间链路度量值，若随时间不断变化，则根据星间链路度量值变化函数，确定当前时间片对应的链路度量值；基于低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，所有最少跳数方向形成最少跳数路径矩阵；在最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值，生成路由表，直至时间片达到时间片总数及运行周期达到运行周期总数为止。该方案效率高，耗时短。
权利要求书clms
1.一种基于方向约束的路由方法，其特征在于，所述方法包括：初始化低轨卫星网络的运行周期、时间片及时间片对应的星间链路度量值变化函数；所述低轨卫星网络包括若干卫星，每颗卫星对应一个卫星节点；判断每个所述时间片内的星间链路度量值是否随时间不断变化，若不随时间不断变化，则以固定的常数值作为所述星间链路度量值，若随时间不断变化，则根据所述星间链路度量值变化函数，确定当前时间片对应的链路度量值；基于所述低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，所有所述最少跳数方向形成最少跳数路径矩阵；最少跳数方向包括垂直方向的跳数和水平方向的跳数；在所述最少跳数路径矩阵范围内，基于所述当前时间片对应的链路度量值，生成路由表，直至时间片达到时间片总数及运行周期达到运行周期总数为止。2.根据权利要求1所述的方法，其特征在于，所述低轨卫星网络包括N＝P×S颗卫星，其中，P是轨道的数量，S是每个轨道上的卫星的数量；根据所述低轨卫星网络的拓扑的初始情况定义每颗卫星对应的卫星虚拟节点的编号为，其中，表示为第p个轨道上的第s颗卫星，其中p∈，s∈；每颗卫星在同一轨道上有两颗邻居卫星，由两条同轨星间链路相连，每颗卫星在相邻轨道上有两个邻居卫星，由两条轨间星间链路相连。3.根据权利要求2所述的方法，其特征在于，所述低轨卫星网络的运行周期数为m，所述低轨卫星网络的运行周期内分为n个时间片，每个所述时间片内的所述低轨卫星网络的拓扑是固定的。4.根据权利要求3所述的方法，其特征在于，所述根据所述星间链路度量值的变化函数，确定当前时间片对应的链路度量值，包括：根据所述当前时间片及对应的所述星间链路度量值的变化函数，计算所述当前时间片内每条链路度量值的数学期望；将所述数学期望作为所述当前时间片对应的链路度量值。5.根据权利要求4所述的方法，其特征在于，所述时间片ti内的星间链路度量值的变化函数ci，满足：x≤ci≤y，ny≤x，其中y与x分别是所述变化函数的上下限；或，满足：其中n＝P+S-2，P与S分别为所述低轨卫星网络的轨道的数量及每个轨道上的卫星的数量，为任意两卫星节点之间的最少跳数路径pm的平均链路度量值的数学期望，为任意两卫星节点之间的不是最少跳数路径po的平均链路度量值的数学期望。6.根据权利要求1-5任一项所述的方法，其特征在于，所述基于所述低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，包括：判断所述当前卫星节点与所述目的卫星节点是否在同一半球，若所述当前卫星节点与所述目的卫星节点在同一半球，则最少垂直方向跳数nv＝sc-sd，最少水平方向跳数为nh＝pc-pd；若所述当前卫星节点与所述目的卫星节点不在同一半球，则最少垂直方向跳数nv＝sd-sc，最少水平方向跳数为nh＝pc-pc；判断nv是否大于0，若nv＞0，则当前卫星节点到目的卫星节点的垂直搜索方向为北且跳数为|nv|，若nv≤0，则当前卫星节点到目的卫星节点的垂直搜索方向为南且跳数为|nv|；判断nh是否大于0，若nh＞0，则当前卫星节点到目的卫星节点的水平搜索方向为东且跳数为|nh|，若nh≤0，则当前卫星节点到目的卫星节点的水平搜索方向为西且跳数为|nh|。7.根据权利要求1-5任一项所述的方法，其特征在于，所述在所述最少跳数路径矩阵范围内，基于所述当前时间片对应的链路度量值，生成路由表，包括：所述当前卫星节点在所述最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值变化函数以及所述当前卫星节点到其他目的卫星节点的最小累计链路度量值的递归方程，并行计算东北、东南、西北和西南四个方向域中所述当前卫星节点到其他目的卫星节点的最短路径，再合并四个方向域的结果，生成所述路由表。8.根据权利要求7所述的方法，其特征在于，所述当前卫星节点到其他目的卫星节点的最小累计链路度量值的递归方程，包括：f＝min{f+weight,f+weight}其中，v,h分别表示为当前卫星节点到目的卫星节点的垂直距离和水平距离；根据网格状的卫星拓扑特征，设当前卫星节点坐标为，目的卫星节点坐标为；设f表示为从当前卫星节点出发，移动至目的卫星节点的链路累计度量值最小值；weight表示为目的卫星节点水平方向的链路度量值；weight表示为目的卫星节点垂直方向的链路度量值。9.一种基于方向约束的路由装置，其特征在于，所述装置包括：初始化模块，用于初始化低轨卫星网络的运行周期、时间片及时间片对应的星间链路度量值变化函数；所述低轨卫星网络包括若干卫星，每颗卫星对应一个卫星节点；处理模块，用于判断每个所述时间片内的星间链路度量值是否随时间不断变化，若不随时间不断变化，则以固定的常数值作为所述星间链路度量值，若随时间不断变化，则根据所述星间链路度量值变化函数，确定当前时间片对应的链路度量值；确定模块，用于基于所述低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，所有所述最少跳数方向形成最少跳数路径矩阵；最少跳数方向包括垂直方向的跳数和水平方向的跳数；生成模块，用于在所述最少跳数路径矩阵范围内，基于所述当前时间片对应的链路度量值，生成路由表，直至时间片达到时间片总数及运行周期达到运行周期总数为止。10.一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1-8中任一所述的基于方向约束的路由方法。
说明书desc
技术领域本发明属于卫星通信技术领域，特别涉及一种基于方向约束的路由方法、装置及电子设备。背景技术近年来，地面网络基础设施迅速发展，但仍存在一些部署限制。首先，考虑到投资收益率，地面网络基础设施更倾向于部署在人口稠密的地区。然而，超过70％的地球表面被水覆盖。即使在陆地上，大多数人生活在拥挤的城市，在偏远地区部署地面网络基础设施似乎成本效益较低。与高轨和中轨卫星网络相比，低轨卫星网络具有全球覆盖和超低延迟的优点，被认为是地面网络的理想补充。例如，低轨卫星网络自1997年以来一直在地球表明提供语音和数据覆盖。星链计划发射40000颗低成本、宽带的低轨卫星，以承载回程和互联网流量。提供低延迟和可靠服务质量的低轨卫星网络正变得越来越重要。低轨卫星网络面临的一个挑战是如何设计一种高效的路由算法。在典型的网格状的低轨卫星星座中，由于天线跟踪系统的限制，低轨卫星网络的拓扑结构在星座运动过程中会发生周期性的变化。因此，现有的大多数工作利用了拓扑快照时间片的方法，将星座运动的完整时间段被划分为多个时间片。在每个时间片中，星座拓扑保持不变，并且应用经典的最短路径树生成的算法来导出该时间片的瞬时路由表快照。然而，直接应用以Dijkstra算法为主的最短路径树生成算法，其计算效率较低，一方面，这将耗尽有限的的卫星间链路带宽资源；另一方面，当网络拓扑因故障而发生变化时，路由计算耗时较长，收敛时间延长，导致数据流失效。基于以上的讨论，迫切需要一个高效的低轨卫星网络路由方案。发明内容本说明书实施例的目的是提供一种基于方向约束的路由方法、装置及电子设备。为解决上述技术问题，本申请实施例通过以下方式实现的：第一方面，本申请提供一种基于方向约束的路由方法，该方法包括：初始化低轨卫星网络的运行周期、时间片及时间片对应的星间链路度量值变化函数；低轨卫星网络包括若干卫星，每颗卫星对应一个卫星节点；判断每个时间片内的星间链路度量值是否随时间不断变化，若不随时间不断变化，则以固定的常数值作为星间链路度量值，若随时间不断变化，则根据星间链路度量值变化函数，确定当前时间片对应的链路度量值；基于低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，所有最少跳数方向形成最少跳数路径矩阵；最少跳数方向包括垂直方向的跳数和水平方向的跳数；在最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值，生成路由表，直至时间片达到时间片总数及运行周期达到运行周期总数为止。在其中一个实施例中，低轨卫星网络包括N＝P×S颗卫星，其中，P是轨道的数量，S是每个轨道上的卫星的数量；根据低轨卫星网络的拓扑的初始情况定义每颗卫星对应的卫星虚拟节点的编号为，其中，表示为第p个轨道上的第s颗卫星，其中p∈，s∈；每颗卫星在同一轨道上有两颗邻居卫星，由两条同轨星间链路相连，每颗卫星在相邻轨道上有两个邻居卫星，由两条轨间星间链路相连。在其中一个实施例中，低轨卫星网络的运行周期数为m，低轨卫星网络的运行周期内分为n个时间片，每个时间片内的低轨卫星网络的拓扑是固定的。在其中一个实施例中，根据星间链路度量值的变化函数，确定当前时间片对应的链路度量值，包括：根据当前时间片及对应的星间链路度量值的变化函数，计算当前时间片内每条链路度量值的数学期望；将数学期望作为当前时间片对应的链路度量值。在其中一个实施例中，时间片ti内的星间链路度量值的变化函数ci，满足：x≤ci≤y，ny≤x，其中y与x分别是变化函数的上下限；或，满足：其中n＝P+S-2，P与S分别为低轨卫星网络的轨道的数量及每个轨道上的卫星的数量，为任意两卫星节点之间的最少跳数路径pm的平均链路度量值的数学期望，为任意两卫星节点之间的不是最少跳数路径po的平均链路度量值的数学期望。在其中一个实施例中，基于低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，包括：判断当前卫星节点与目的卫星节点是否在同一半球，若当前卫星节点与目的卫星节点在同一半球，则最少垂直方向跳数nv＝sc-sd，最少水平方向跳数为nh＝pc-pd；若当前卫星节点与目的卫星节点不在同一半球，则最少垂直方向跳数nv＝sd-sc，最少水平方向跳数为nh＝pc-pc；判断nv是否大于0，若nv＞0，则当前卫星节点到目的卫星节点的垂直搜索方向为北且跳数为|nv|，若nv≤0，则当前卫星节点到目的卫星节点的垂直搜索方向为南且跳数为|nv|；判断nh是否大于0，若nh＞0，则当前卫星节点到目的卫星节点的水平搜索方向为东且跳数为|nh|，若nh≤0，则当前卫星节点到目的卫星节点的水平搜索方向为西且跳数为|nh|。在其中一个实施例中，在最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值，生成路由表，包括：当前卫星节点在最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值变化函数以及当前卫星节点到其他目的卫星节点的最小累计链路度量值的递归方程，并行计算东北、东南、西北和西南四个方向域中当前卫星节点到其他目的卫星节点的最短路径，再合并四个方向域的结果，生成路由表。在其中一个实施例中，当前卫星节点到其他目的卫星节点的最小累计链路度量值的递归方程，包括：f＝min{f+weight,f+weight}其中，v,h分别表示为当前卫星节点到目的卫星节点的垂直距离和水平距离；根据网格状的卫星拓扑特征，设当前卫星节点坐标为，目的卫星节点坐标为；设f表示为从当前卫星节点出发，移动至目的卫星节点的链路累计度量值最小值；weight表示为目的卫星节点水平方向的链路度量值；weight表示为目的卫星节点垂直方向的链路度量值。第二方面，本申请提供一种基于方向约束的路由装置，该装置包括：初始化模块，用于初始化低轨卫星网络的运行周期、时间片及时间片对应的星间链路度量值变化函数；低轨卫星网络包括若干卫星，每颗卫星对应一个卫星节点；处理模块，用于判断每个时间片内的星间链路度量值是否随时间不断变化，若不随时间不断变化，则以固定的常数值作为星间链路度量值，若随时间不断变化，则根据星间链路度量值变化函数，确定当前时间片对应的链路度量值；确定模块，用于基于低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，所有最少跳数方向形成最少跳数路径矩阵；最少跳数方向包括垂直方向的跳数和水平方向的跳数；生成模块，用于在最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值，生成路由表，直至时间片达到时间片总数及运行周期达到运行周期总数为止。第三方面，本申请提供一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，处理器执行程序时实现如第一方面的基于方向约束的路由方法。由以上本说明书实施例提供的技术方案可见，该方案：可用于计算一个时间片的链路度量值固定不变和随时间不断变化的两种场景。若当前时间片的链路度量值随时间不断变化，则以其数学期望作为链路度量值，否则以其固定的常数值作为链路度量值，可靠性高，适应性强。利用网格状的低轨卫星网络的拓扑特征，在给定每条星间链路度量值时，根据到达目的卫星节点与源卫星节点的位置相对性，限定垂直和水平搜索方向及其跳数；该方法能够压缩最优路径的搜索空间，从而缩短生成最优路径的时间。该算法的时间复杂度只与当前源节点到目的卫星节点的最少垂直与水平方向跳数有关，与Dijkstra算法相比，其计算复杂度可以显著降低。可以在星间链路发生故障导致网络拓扑变化的场景下快速计算最优路径，保障网络的可靠性，可快速收敛，恢复受影响的数据流。是分布式的，允许每颗卫星独立地计算到其他卫星的最短路径树而互不影响。可进一步用于可并行快速路由方法计算由当前卫星节点到其他所有节点的最短路径树。具体地，从当前卫星节点出发，可从东北、东南、西北、西南四个方向并行计算到达四个方向域中的节点的最短路径，再将四个方向的结果进行合并即可得到最终结果，无额外合并开销。附图说明为了更清楚地说明本说明书实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本说明书中记载的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本申请提供的基于方向约束的路由方法的流程示意图；图2为本申请提供的低轨卫星网络的建模示意图；图3为本申请提供的低轨卫星网络的应用示例图；图4为本申请提供的星间链路度量值随时间变化的变化函数曲线示意图；图5为本申请提供的结果评估图；图6为本申请提供的基于方向约束的路由装置的结构示意图；图7为本申请提供的电子设备的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本说明书中的技术方案，下面将结合本说明书实施例中的附图，对本说明书实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本说明书一部分实施例，而不是全部的实施例。基于本说明书中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都应当属于本说明书保护的范围。以下描述中，为了说明而不是为了限定，提出了诸如特定系统结构、技术之类的具体细节，以便透彻理解本申请实施例。然而，本领域的技术人员应当清楚，在没有这些具体细节的其它实施例中也可以实现本申请。在其它情况中，省略对众所周知的系统、装置、电路以及方法的详细说明，以免不必要的细节妨碍本申请的描述。在不背离本申请的范围或精神的情况下，可对本申请说明书的具体实施方式做多种改进和变化，这对本领域技术人员而言是显而易见的。由本申请的说明书得到的其他实施方式对技术人员而言是显而易见得的。本申请说明书和实施例仅是示例性的。关于本文中所使用的“包含”、“包括”、“具有”、“含有”等等，均为开放性的用语，即意指包含但不限于。本申请中的“份”如无特别说明，均按质量份计。下面结合附图和实施例对本发明进一步详细说明。参照图1，其示出了适用于本申请实施例提供的基于方向约束的路由方法的流程示意图。如图1所示，基于方向约束的路由方法，可以包括：S110、初始化低轨卫星网络的运行周期、时间片及时间片对应的星间链路度量值变化函数；低轨卫星网络包括若干卫星，每颗卫星对应一个卫星节点。其中，低轨卫星网络可以为沃克型的网格状的网络，该网络中每颗卫星虚拟节点根据当前所处的经纬度给定编号。一个实施例中，如图2所示，网格状的低轨卫星网络可以包括N＝P×S颗卫星，其中，P是轨道的数量，S是每个轨道上的卫星的数量；根据低轨卫星网络的拓扑的初始情况定义每颗卫星对应的卫星虚拟节点的编号为其中，表示为第p个轨道上的第s颗卫星，其中p∈，s∈；每颗卫星在同一轨道上有两颗邻居卫星，由两条同轨星间链路相连，每颗卫星在相邻轨道上有两个邻居卫星，由两条轨间星间链路相连。示例性的，轨道高度设定为780km，轨道倾角设定为45°。一个实施例中，低轨卫星网络的运行周期数为m，低轨卫星网络的运行周期内分为n个时间片，每个时间片内的低轨卫星网络的拓扑是固定的。地面基站利用低轨卫星网络的周期性运动的可预测特性，计算低轨卫星网络在一个周期内的虚拟拓扑快照集并发送给卫星节点。给定低轨卫星网络在一个运行周期内的拓扑快照变化时间集T＝{t1,t2,…,tn}，n为一个周期内的拓扑快照总个数，即一个运行周期划分为n个时间片；每个时间片ti内的拓扑可以用一个快照来表示，即每个时间片内的低轨卫星网络的拓扑是固定的，而链路的连接或断开仅在时间片分割点发生。任意一个时间片ti内的星间链路度量值是固定的常量或者是动态变化的，其随着时间t变化的星间链路度量值变化函数为ci，低轨卫星网络在一个运行周期内的链路度量值变化时间集为C＝{c1,c2,…,cn}。初始化低轨卫星网络的运行周期j＝1，其中，j∈，时间片t＝t1以及时间片对应的星间链路度量值变化函数c＝c1。S120、判断每个时间片内的星间链路度量值是否随时间不断变化，若不随时间不断变化，则以固定的常数值作为星间链路度量值，若随时间不断变化，则根据星间链路度量值变化函数，确定当前时间片对应的链路度量值。一个实施例中，根据星间链路度量值的变化函数，确定当前时间片对应的链路度量值，包括：根据当前时间片及对应的星间链路度量值的变化函数，计算当前时间片内每条链路度量值的数学期望；将数学期望作为当前时间片对应的链路度量值。具体的，每个时间片内的星间链路度量可以是固定的常数值，也可以是随时间不断变化的。判断当前时间片的链路度量值是否随时间不断变化，若否，则取其固定的常数值作为其链路度量值，若是，则根据当前时间片ti及对应的链路度量值变化函数ci，计算该时间片内每条链路度量值的数学期望，并以该数学期望作为该链路在该时间片内的链路度量值。可选的，时间片ti内的星间链路度量值的变化函数ci，满足：x≤ci≤y，ny≤x，其中y与x分别是变化函数的上下限；或，满足：其中n＝P+S-2，P与S分别为低轨卫星网络的轨道的数量及每个轨道上的卫星的数量，为任意两卫星节点之间的最少跳数路径pm的平均链路度量值的数学期望，为任意两卫星节点之间的不是最少跳数路径po的平均链路度量值的数学期望。可以理解的，该变化函数可以包括但不限于：非周期函数比如随机函数以及周期函数比如三角函数，或者类似的非周期与周期函数等。S130、基于低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，所有最少跳数方向形成最少跳数路径矩阵；最少跳数方向包括垂直方向的跳数和水平方向的跳数。其中，基于低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，可以包括：判断当前卫星节点与目的卫星节点是否在同一半球，若当前卫星节点与目的卫星节点在同一半球，则最少垂直方向跳数nv＝sc-sd，最少水平方向跳数为nh＝pc-pd；若当前卫星节点与目的卫星节点不在同一半球，则最少垂直方向跳数nv＝sd-sc，最少水平方向跳数为nh＝pc-pc；判断nv是否大于0，若nv＞0，则当前卫星节点到目的卫星节点的垂直搜索方向为北且跳数为|nv|，若nv≤0，则当前卫星节点到目的卫星节点的垂直搜索方向为南且跳数为|nv|；判断nh是否大于0，若nh＞0，则当前卫星节点到目的卫星节点的水平搜索方向为东且跳数为|nh|，若nh≤0，则当前卫星节点到目的卫星节点的水平搜索方向为西且跳数为|nh|。具体的，该步骤是计算当前卫星节点到目的卫星节点最优路径。利用网格状的低轨卫星网络的拓扑特征，当前卫星根据与目的卫星节点的位置相对性，限定垂直和水平搜索方向及其最少跳数nv和nh。当前卫星节点首先判断与目的卫星节点是否在同一半球:如果pc≤S/2，pd≤S/2，或pc＞S/2，pd＞S/2，则称当前卫星节点和目的卫星节点在同一半球，反之，则称当前卫星节点和目的卫星节点不在同一半球；若当前卫星节点和目的卫星节点在同一半球，则最少垂直方向跳数nv＝sc-sd，最少水平方向跳数为nh＝pc-pd，反之，则最少垂直方向跳数nv＝sd-sc，最少水平方向跳数为nh＝pc-pc；判断nv是否大于0，若是，则当前卫星节点到目的卫星节点的垂直搜索方向为北且跳数为|nv|，反之，则当前卫星节点到目的卫星节点的垂直搜索方向为南且跳数为|nv|；判断nh是否大于0，若是，则当前卫星节点到目的卫星节点的水平搜索方向为东且跳数为|nh|，反之，则当前卫星节点到目的卫星节点的水平搜索方向为西且跳数为|nh|。S140、在最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值，生成路由表，直至时间片达到时间片总数及运行周期达到运行周期总数为止。其中，在最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值，生成路由表，包括：当前卫星节点在最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值变化函数以及当前卫星节点到其他目的卫星节点的最小累计链路度量值的递归方程，并行计算东北、东南、西北和西南四个方向域中当前卫星节点到其他目的卫星节点的最短路径，再合并四个方向域的结果，生成路由表。其中，当前卫星节点到其他目的卫星节点的最小累计链路度量值的递归方程，包括：f＝min{f+weight,f+weight}其中，v,h分别表示为当前卫星节点到目的卫星节点的垂直距离和水平距离；根据网格状的卫星拓扑特征，可设当前卫星节点坐标为，目的卫星节点坐标为；设f表示为从当前卫星节点出发，移动至目的卫星节点的链路累计度量值最小值；weight表示为目的卫星节点)水平方向的链路度量值；weight表示为目的卫星节点)垂直方向的链路度量值。具体的，该步骤利用网格状的低轨卫星网络的拓扑特征，在给定每条星间链路度量值情况下，根据所要到达的目的卫星节点与源卫星节点的位置相对性，限定垂直和水平搜索方向及其最少跳数，从当前卫星节点出发，可从东北、东南、西北、西南四个方向递归式地并行计算到达四个方向域中的节点的最短路径，再将四个方向的结果进行合并即可得到最终结果，无额外合并开销。其中，设f表示为从当前卫星节点出发，移动至目的卫星节点的链路累计度量值最小值，weight和weight分别表示为目的卫星节点)水平方向和垂直方向的链路度量值。该方法不仅能够压缩最优路径的搜索空间而且可以并行计算，从而缩短生成最优路径的时间。该算法的时间复杂度只与当前源节点到目的节点的最少垂直与水平方向跳数有关，与Dijkstra算法相比，其计算复杂度可以显著降低。判断时间片ti是否等于tn，若否，则ti＝ti+1，返回步骤S120，反之，则判断运行周期j是否等于运行周期总数m，若否，ti＝ti+1，j＝j+1，返回步骤S120，反之，结束。本实施例中，从当前卫星节点出发，可从东北、东南、西北、西南四个方向并行计算到达四个方向域中的目的卫星节点的最短路径，再将四个方向的结果进行合并即可得到最终结果，无额外合并开销。如图3所示，低轨卫星网络模型设定为具有N＝70×70＝4900颗的网格状的低轨卫星网络，其中，每一个时间片内所有星间链路度量值随时间t动态变化的变化函数c，如图4所示。继续参照图3，图中当前卫星节点为，首先计算每一个时间片内的每条链路度量值的数学期望，并将其作为该链路在该时间片内的链路度量值，其次再利用网格状的低轨卫星网络的拓扑特征并根据所要到达的目的卫星节点的位置相对性，划定到达其他所有节点的东北、东南、西北和西南四个方向域，从而压缩最优路径的搜索空间，并采用并行迭代的快速路由方式计算到四个方向域中的节点的最短路径，最后将四个方向域进行合并即可得到最终结果，无额外合并开销。参照图5，本申请技术的效果展示图，分为以下三个步骤。网络初始化：基于卫星工具包构成了一个网格状的N＝70×70＝4900颗卫星的低轨卫星网络，该卫星网络由70个轨道组成，每个轨道上有70颗卫星；卫星绕地球的周期大约需要6900秒，极地区域边界被设为±70°，高度为780km，倾角为45°；星间链路的度量值随时间变化函数参照图4。通过和使用二叉堆数据结构的Dijkstra算法进行对比，展现本申请算法在最短路径数生成时间上的优势。最短路径树生成时间的比较本申请提出的算法是分布式的，允许每个卫星节点独立地计算到其他卫星的最短路径树而互不影响。因此，本申请可并行快速计算任意两节点间的最短路径。如图5所示，其显示了本申请与使用二叉堆数据结构的Dijkstra算法在并行与非并行两种情况下的最短路径树的平均生成时间对比。在非并行的情况下，Dijkstra算法在最短路径树的平均生成时间为12.40ms，而本申请仅为0.40ms，所用的生成时间仅为Dijkstra算法的1/31；在并行的情况下，Dijkstra算法在最短路径树的平均生成时间为13.60ms，而本申请仅为0.20ms，所用的生成时间仅为Dijkstra算法的1/68。因此，本申请的最短路径树的生成时间要大大优于Dijkstra算法，尤其在使用了并行模式后，效果更加明显。时间复杂度分析本申请的时间复杂度为O：本申请需要遍历整个低轨卫星网络，需要使用O时间，P，S分别为低轨卫星网络的轨道数以及每个轨道上的卫星数；而在使用二叉堆的情况下，Dijkstra算法的时间复杂度为Olog)，其中V为低轨卫星网络的节点数，即V＝P×S；E为低轨卫星网络的星间链路的数目，即E＝×S+P×。本申请实施例提供的基于方向约束的路由方法，可用于计算一个时间片的链路度量值固定不变和随时间不断变化的两种场景。若当前时间片的链路度量值随时间不断变化，则以其数学期望作为链路度量值，否则以其固定的常数值作为链路度量值，可靠性高，适应性强。本申请实施例提供的基于方向约束的路由方法，该方法利用网格状的低轨卫星网络的拓扑特征，在给定每条星间链路度量值时，根据到达目的卫星节点与源卫星节点的位置相对性，限定垂直和水平搜索方向及其跳数；该方法能够压缩最优路径的搜索空间，从而缩短生成最优路径的时间。该算法的时间复杂度只与当前源节点到目的卫星节点的最少垂直与水平方向跳数有关，与Dijkstra算法相比，其计算复杂度可以显著降低。本申请实施例提供的基于方向约束的路由方法，可以在星间链路发生故障导致网络拓扑变化的场景下快速计算最优路径，保障网络的可靠性，可快速收敛，恢复受影响的数据流。本申请实施例提供的基于方向约束的路由方法是分布式的，允许每颗卫星独立地计算到其他卫星的最短路径树而互不影响。本申请实施例提供的基于方向约束的路由方法，可进一步用于可并行快速路由方法计算由当前卫星节点到其他所有节点的最短路径树。具体地，从当前卫星节点出发，可从东北、东南、西北、西南四个方向并行计算到达四个方向域中的节点的最短路径，再将四个方向的结果进行合并即可得到最终结果，无额外合并开销。参照图6，其示出了根据本申请一个实施例描述的基于方向约束的路由装置的结构示意图。如图6所示，基于方向约束的路由装置600，可以包括：初始化模块610，用于初始化低轨卫星网络的运行周期、时间片及时间片对应的星间链路度量值变化函数；低轨卫星网络包括若干卫星，每颗卫星对应一个卫星节点；处理模块620，用于判断每个时间片内的星间链路度量值是否随时间不断变化，若不随时间不断变化，则以固定的常数值作为星间链路度量值，若随时间不断变化，则根据星间链路度量值变化函数，确定当前时间片对应的链路度量值；确定模块630，用于基于低轨卫星网络的拓扑特征，确定当前卫星节点到目的卫星节点之间的最少跳数方向，所有最少跳数方向形成最少跳数路径矩阵；最少跳数方向包括垂直方向的跳数和水平方向的跳数；生成模块640，用于在最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值，生成路由表，直至时间片达到时间片总数及运行周期达到运行周期总数为止。可选的，低轨卫星网络包括N＝P×S颗卫星，其中，P是轨道的数量，S是每个轨道上的卫星的数量；根据低轨卫星网络的拓扑的初始情况定义每颗卫星对应的卫星虚拟节点的编号为，其中，表示为第p个轨道上的第s颗卫星，其中p∈，s∈；每颗卫星在同一轨道上有两颗邻居卫星，由两条同轨星间链路相连，每颗卫星在相邻轨道上有两个邻居卫星，由两条轨间星间链路相连。可选的，低轨卫星网络的运行周期数为m，低轨卫星网络的运行周期内分为n个时间片，每个时间片内的低轨卫星网络的拓扑是固定的。可选的，处理模块620还用于：根据当前时间片及对应的星间链路度量值的变化函数，计算当前时间片内每条链路度量值的数学期望；将数学期望作为当前时间片对应的链路度量值。可选的，时间片ti内的星间链路度量值的变化函数ci，满足：x≤ci≤y，ny≤x，其中y与x分别是变化函数的上下限；或，满足：其中n＝P+S-2，P与S分别为低轨卫星网络的轨道的数量及每个轨道上的卫星的数量，为任意两卫星节点之间的最少跳数路径pm的平均链路度量值的数学期望，为任意两卫星节点之间的不是最少跳数路径po的平均链路度量值的数学期望。可选的，确定模块630还用于：判断当前卫星节点与目的卫星节点是否在同一半球，若当前卫星节点与目的卫星节点在同一半球，则最少垂直方向跳数nv＝sc-sd，最少水平方向跳数为nh＝pc-pd；若当前卫星节点与目的卫星节点不在同一半球，则最少垂直方向跳数nv＝sd-sc，最少水平方向跳数为nh＝pc-pc；判断nv是否大于0，若nv＞0，则当前卫星节点到目的卫星节点的垂直搜索方向为北且跳数为|nv|，若nv≤0，则当前卫星节点到目的卫星节点的垂直搜索方向为南且跳数为|nv|；判断nh是否大于0，若nh＞0，则当前卫星节点到目的卫星节点的水平搜索方向为东且跳数为|nh|，若nh≤0，则当前卫星节点到目的卫星节点的水平搜索方向为西且跳数为|nh|。可选的，生成模块640还用于：所述当前卫星节点在所述最少跳数路径矩阵范围内，基于当前时间片对应的链路度量值变化函数以及所述当前卫星节点到其他目的卫星节点的最小累计链路度量值的递归方程，并行计算东北、东南、西北和西南四个方向域中所述当前卫星节点到其他目的卫星节点的最短路径，再合并四个方向域的结果，生成所述路由表。可选的，当前卫星节点到其他目的卫星节点的最小累计链路度量值的递归方程，包括：f＝min{f+weight,f+weight}其中，v,h分别表示为当前卫星节点到目的卫星节点的垂直距离和水平距离；根据网格状的卫星拓扑特征，设当前卫星节点坐标为，目的卫星节点坐标为；设f表示为从当前卫星节点出发，移动至目的卫星节点的链路累计度量值最小值；weight表示为目的卫星节点水平方向的链路度量值；weight表示为目的卫星节点垂直方向的链路度量值。本实施例提供的一种基于方向约束的路由装置，可以执行上述方法的实施例，其实现原理和技术效果类似，在此不再赘述。图7为本发明实施例提供的一种电子设备的结构示意图。如图7所示，示出了适于用来实现本申请实施例的电子设备700的结构示意图。如图7所示，电子设备700包括中央处理单元701，其可以根据存储在只读存储器702中的程序或者从存储部分708加载到随机访问存储器703中的程序而执行各种适当的动作和处理。在RAM 703中，还存储有设备700操作所需的各种程序和数据。CPU 701、ROM 702以及RAM 703通过总线704彼此相连。输入/输出接口705也连接至总线704。以下部件连接至I/O接口705：包括键盘、鼠标等的输入部分706；包括诸如阴极射线管、液晶显示器等以及扬声器等的输出部分707；包括硬盘等的存储部分708；以及包括诸如LAN卡、调制解调器等的网络接口卡的通信部分709。通信部分709经由诸如因特网的网络执行通信处理。驱动器710也根据需要连接至I/O接口706。可拆卸介质711，诸如磁盘、光盘、磁光盘、半导体存储器等等，根据需要安装在驱动器710上，以便于从其上读出的计算机程序根据需要被安装入存储部分708。特别地，根据本公开的实施例，上文参考图1描述的过程可以被实现为计算机软件程序。例如，本公开的实施例包括一种计算机程序产品，其包括有形地包含在机器可读介质上的计算机程序，计算机程序包含用于执行上述基于方向约束的路由方法的程序代码。在这样的实施例中，该计算机程序可以通过通信部分709从网络上被下载和安装，和/或从可拆卸介质711被安装。附图中的流程图和框图，图示了按照本发明各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，前述模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本申请实施例中所涉及到的单元或模块可以通过软件的方式实现，也可以通过硬件的方式来实现。所描述的单元或模块也可以设置在处理器中。这些单元或模块的名称在某种情况下并不构成对该单元或模块本身的限定。上述实施例阐明的系统、装置、模块或单元，具体可以由计算机芯片或实体实现，或者由具有某种功能的产品来实现。一种典型的实现设备为计算机。具体的，计算机例如可以为个人计算机、笔记本电脑、行动电话、智能电话、个人数字助理、媒体播放器、导航设备、电子邮件设备、游戏控制台、平板计算机、可穿戴设备或者这些设备中的任何设备的组合。作为另一方面，本申请还提供了一种存储介质，该存储介质可以是上述实施例中前述装置中所包含的存储介质；也可以是单独存在，未装配入设备中的存储介质。存储介质存储有一个或者一个以上程序，前述程序被一个或者一个以上的处理器用来执行描述于本申请的基于方向约束的路由方法。存储介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体，如调制的数据信号和载波。需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、商品或者设备中还存在另外的相同要素。本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于系统实施例而言，由于其基本相似于方法实施例，所以描述的比较简单，相关之处参见方法实施例的部分说明即可。
