标题title
一种多通道多相数字波束形成方法及装置
摘要abst
本发明公开了一种多通道多相数字波束形成方法及装置，包括以下步骤：S1.预先配置时延滤波系数存储表；S2.计算滤波器系数和加权系数；S3.对多相信号进行加权合成和滤波处理，形成多相数字波束。本发明在输入信号的数据速率发生变化时，可以在不改变处理架构的情况下，通过改变信号相数，完成不同采样率下的信号加权合成功能；并基于多相FIR滤波技术，提出了一种可灵活适配多种输入信号相数的分数倍时延处理架构。
权利要求书clms
1.一种多通道多相数字波束形成方法，其特征在于：包括以下步骤：S1.预先配置时延滤波系数存储表；S2.确定滤波器系数和加权系数；S3.对多相信号进行加权合成和滤波处理，形成多相数字波束。2.根据权利要求1所述的一种多通道多相数字波束形成方法，其特征在于：步骤S1中预先配置的时延滤波系数存储表包括多个时延滤波器参数；每一个时延滤波器参数均包括：滤波器时延和对应的时延滤波系数；所述滤波器的时延以采样点个数为单位，滤波器时延范围在-0.5*sPath～0.5*sPath个采样点之间，其中sPath为预设的信号最大相数。3.根据权利要求1所述的一种多通道多相数字波束形成方法，其特征在于：所述步骤S2在时延滤波系数存储表确定后，首先确定信号相数，然后进行加权系数与时延滤波器系数的配置，具体包括：S201.假设处理时钟频率为fclk，当输入信号采样率fs超过处理时钟频率fclk时，将信号分为多相，确定信号相数：信号相数＝fs/fclk其中信号采样率fs是时钟频率为fclk的整数倍；S202.设相控阵天线的全阵包含多个子阵，每一子阵包含多个阵元，根据相控阵天线的子阵排布计算时延，并从时延滤波系数存储表中选取对应的滤波器系数:A1、对于任一子阵，计算子阵参考点到全阵参考点时延t1：以全阵参考点为原点建立直角坐标系，时延t1的计算公式为：所述子阵参考点为子阵中任意一点，全阵参考点在相控阵天线的中心；d0,1,d0,2,d0,3:为子阵参考点的xyz坐标，c为光速，θ:波束指向方位角,波束指向俯仰角；将时延t1分解为以下三项：t1＝N/fclk+τ1+δt其中，N＝floor，floor表示向下取整；τ1＝floor/Δτ)，其中Δτ计算方式为Δτ＝sPath/N_filter，N_filter为时延滤波器储存个数δt＝t1-N/fclk-τ1从时延滤波系数存储表中查找滤波器时延τ1对应的时延滤波系数，作为当前子阵配置的时延滤波系数；A2、对于每一个子阵，重复执行步骤A1，完成每一个子阵时延滤波系数的配置；S203.根据波束指向、阵列天线排布与信号相数以及标校通道相位计算加权系数：B1、首先计算全阵上第i个阵元到全阵参考点时延t2，以全阵参考点为原点建立直角坐标系，时延t2的计算公式为：其中，d1,1,d1,2,d1,3:为阵元点的xyz坐标，c为光速，θ:波束指向方位角,波束指向俯仰角；计算τ2＝t2-N/fclk-τ1计算相位：p＝2πfτ2其中，f为载频频率；计算第i个阵元的加权系数：ωi＝REi+jREi＝cosIMi＝sin其中，φi为第i个阵元的已知通道相位，也叫第i个阵元的标校通道相位；B2、在i＝1,2,…,K时，重复执行步骤B1，得到各个阵元的加权系数ω1,ω2,…,ωK，其中K表示阵元的数目。4.根据权利要求1所述的一种多通道多相数字波束形成方法，其特征在于：所述步骤S3包括：S301.对于多相信号中的每一相信号，通过功分器将其分为K个通道的信号，记为x1,x2,…,xK，其中xi表示第i个通道的信号，将K个通道的信号x1,x2,…,xK与加权系数ω1,ω2,…,ωK相乘，得到K个通道的信号加权结果x1*ω1,x2*ω2,…,xK*ωK；S302.取出各相信号中第i个通道的加权结果xi*ωi，并将取出的加权结果相加，得到第i个通道的多相数字波束，然后利用加权系数ωi对应阵元所在子阵的时延滤波系数，对第i个通道的多相数字波束进行时延滤波处理；S303.在i＝1,2,…,K，重复步骤S302,共得到K个时延滤波处理后的多相数字波束。5.一种多通道多相数字波束形成装置，采用权利要求1～4中任意一项所述的方法，其特征在于：包括：滤波系数存储表配置单元，用于预先配置时延滤波系数存储表；系数计算单元，用于计算滤波器系数和加权系数；多相数字波束形成单元，用于对多相信号进行加权合成和滤波处理，形成多相数字波束。
说明书desc
技术领域本发明属于通信系统数字信号处理领域，具体涉及一种多通道多相数字波束形成装置。背景技术数字波束形成时面临多种采样率适配需求，当阵列信号的采样率超过处理时钟的频率时，将很难进行灵活准确的信号采样，对数字波束的形成带来了诸多不便。发明内容本发明的目的在于克服现有技术的不足，提供一种多通道多相数字波束形成方法及装置，在输入信号的数据速率发生变化时并超过处理时钟的频率时，可以在不改变处理架构的情况下，通过改变信号相数，完成不同采样率下的信号加权合成功能。本发明的目的是通过以下技术方案来实现的：一种多通道多相数字波束形成方法，包括以下步骤：S1.预先配置时延滤波系数存储表；S2.计算滤波器系数和加权系数；S3.对多相信号进行加权合成和滤波处理，形成多相数字波束。步骤S1中预先配置的时延滤波系数存储表包括多个时延滤波器参数；每一个时延滤波器参数均包括：滤波器时延和对应的时延滤波系数；所述滤波器的时延以采样点个数为单位，滤波器时延范围在-0.5*sPath～0.5*sPath个采样点之间，其中sPath为预设的信号最大相数。优选地，滤波器阶数可根据实际工程精度需求制定，例如，取31阶或15阶；时延滤波系数储存个数根据实际使用时孔径渡越条件和硬件内存大小制定，例如，4相信号对应取256个。所述步骤S2在时延滤波系数存储表确定后，首先确定信号相数，然后进行加权系数与时延滤波器系数的配置，具体包括：S201.假设处理时钟频率为fclk，当输入信号采样率fs超过处理时钟频率fclk时，将信号分为多相，确定信号相数：信号相数＝fs/fclk其中信号采样率fs是时钟频率为fclk的整数倍；S202.设相控阵天线的全阵包含多个子阵，每一子阵包含多个阵元，根据相控阵天线的子阵排布计算时延，并从时延滤波系数存储表中选取对应的滤波器系数:A1、对于任一子阵，计算子阵参考点到全阵参考点时延t1：以全阵参考点为原点建立直角坐标系，时延t1的计算公式为：所述子阵参考点为子阵中任意一点，全阵参考点在相控阵天线的中心；d0,1,d0,2,d0,3:为子阵参考点的xyz坐标，c为光速，θ:波束指向方位角,波束指向俯仰角；将时延t1分解为以下三项：t1＝N/fclk+τ1+δt其中，N＝floor，floor表示向下取整；τ1＝floor/Δτ)，其中Δτ计算方式为Δτ＝sPath/N_filter，N_filter为时延滤波器储存个数δt＝t1-N/fclk-τ1从时延滤波系数存储表中查找滤波器时延τ1对应的时延滤波系数，作为当前子阵配置的时延滤波系数；A2、对于每一个子阵，重复执行步骤A1，完成每一个子阵时延滤波系数的配置；S203.根据波束指向、阵列天线排布与信号相数以及标校通道相位计算加权系数：B1、首先计算全阵上第i个阵元到全阵参考点时延t2，以全阵参考点为原点建立直角坐标系，时延t2的计算公式为：其中，d1,1,d1,2,d1,3:为阵元点的xyz坐标，c为光速，θ:波束指向方位角,波束指向俯仰角；计算τ2＝t2-N/fclk-τ1计算相位：p＝2πfτ2其中，f为载频频率；计算第i个阵元的加权系数：ωi＝REi+jREi＝cosIMi＝sin其中，φi为第i个阵元的已知通道相位，也叫第i个阵元的标校通道相位；B2、在i＝1,2,…,K时，重复执行步骤B1，得到各个阵元的加权系数ω1,ω2,…,ωK，其中K表示阵元的数目。所述步骤S3包括：S301.对于多相信号中的每一相信号，通过功分器将其分为K个通道的信号，记为x1,x2,…,xK，其中xi表示第i个通道的信号，将K个通道的信号x1,x2,…,xK与加权系数ω1,ω2,…,ωK相乘，得到K个通道的信号加权结果x1*ω1,x2*ω2,…,xK*ωK；S302.取出各相信号中第i个通道的加权结果xi*ωi，并将取出的加权结果相加，得到第i个通道的多相数字波束，然后利用加权系数ωi对应阵元所在子阵的时延滤波系数，对第i个通道的多相数字波束进行时延滤波处理；S303.在i＝1,2,…,K，重复步骤S302,共得到K个时延滤波处理后的多相数字波束。一种多通道多相数字波束形成装置，包括：滤波系数存储表配置单元，用于预先配置时延滤波系数存储表；系数计算单元，用于计算滤波器系数和加权系数；多相数字波束形成单元，用于对多相信号进行加权合成和滤波处理，形成多相数字波束。本发明的有益效果是：本发明在输入信号的数据速率发生变化时，可以在不改变处理架构的情况下，通过改变信号相数，完成不同采样率下的信号加权合成功能，并可灵活适配多种输入信号相数的时延滤波处理。附图说明图1为本发明的方法流程图；图2为实施例中的阵元示意图。具体实施方式下面结合附图进一步详细描述本发明的技术方案，但本发明的保护范围不局限于以下所述。如图1所示，一种多通道多相数字波束形成方法，包括以下步骤：S1.预先配置时延滤波系数存储表阵列信号合成时，子阵级信号的时延处理由时延滤波器完成，其滤波系数需根据实际工程应用情况进行预先存储。实际工程应用情况包括信号最大带宽、阵列孔径等，根据上述实际工程条件计算阵列信号合成时的最大时延范围、群时延带内波动、时延量化间隔，从而确定时延滤波系数存储表。本发明采用的滤波器抽头个数为32个，滤波器系数设计可考虑加窗法和最大平坦法，需要根据不同应用场景进行选择，如下表所示。表1 不同时延滤波方法特点及性能对比表配置的时延滤波系数存储表包括多个时延滤波器参数；每一个时延滤波器参数均包括：滤波器时延和对应的时延滤波系数；所述滤波器的时延以采样点个数为单位，滤波器时延范围在-0.5*sPath～0.5*sPath个采样点之间，其中sPath为预设的信号最大相数。S2.配置加权系数与滤波器系数时延滤波系数存储表确定后，进行阵列信号合成的参数配置，包括信号相数、加权系数与时延滤波器系数。假设处理时钟是fclk，当输入信号采样率超过处理时钟频率时，将信号分为多相，确定信号相数；同时根据波束指向、阵列天线排布与信号相数以及标校通道相位计算加权系数；并根据子阵排布与信号相数计算时延量，并从滤波系数存储表中选取合适的滤波器系数。S3.对多相信号进行加权合成和滤波处理，形成多相数字波束。一种多通道多相数字波束形成装置，包括：滤波系数存储表配置单元，用于预先配置时延滤波系数存储表；系数计算单元，用于计算滤波器系数和加权系数；多相数字波束形成单元，用于对多相信号进行加权合成和滤波处理，形成多相数字波束。在本申请的实施例中，采样钟fclk＝240MHz，相控阵天线中以16阵元组成一个子阵，考虑2子阵共32阵元的2相信号输入，阵列形式考虑最大口径13米，单波束中不同子阵到达远场目标的距离差不超过10米。阵元间距为d＝6.5mm，子阵间间距D＝100mm，阵元图如图2所示；在配置加权系数与滤波器系数时的具体过程如下：假设处理时钟频率为fclk，当输入信号采样率fs超过处理时钟频率fclk时，将信号分为多相，确定信号相数：信号相数＝fs/fclk其中信号采样率fs是时钟频率为fclk的整数倍；S202.设相控阵天线的全阵包含多个子阵，每一子阵包含多个阵元，根据相控阵天线的子阵排布计算时延，并从时延滤波系数存储表中选取对应的滤波器系数:A1、对于任一子阵，计算子阵参考点到全阵参考点时延t1：以全阵参考点为原点建立直角坐标系，时延t1的计算公式为：所述子阵参考点为子阵中任意一点，全阵参考点在相控阵天线的中心；d0,1,d0,2,d0,3:为子阵参考点的xyz坐标，c为光速，θ:波束指向方位角,波束指向俯仰角；将时延t1分解为以下三项：t1＝N/fclk+τ1+δt其中，N＝floor，floor表示向下取整；τ1＝floor/Δτ)，其中Δτ计算方式为Δτ＝sPath/N_filter，N_filter为时延滤波器储存个数δt＝t1-N/fclk-τ1从时延滤波系数存储表中查找滤波器时延τ1对应的时延滤波系数，作为当前子阵配置的时延滤波系数；A2、对于每一个子阵，重复执行步骤A1，完成每一个子阵时延滤波系数的配置；S203.根据波束指向、阵列天线排布与信号相数以及标校通道相位计算加权系数：B1、首先计算全阵上第i个阵元到全阵参考点时延t2，以全阵参考点为原点建立直角坐标系，时延t2的计算公式为：其中，d1,1,d1,2,d1,3:为阵元点的xyz坐标，c为光速，θ:波束指向方位角,波束指向俯仰角；计算τ2＝t2-N/fclk-τ1计算相位：p＝2πfτ2其中，f为载频频率；计算第i个阵元的加权系数：ωi＝REi+jREi＝cosIMi＝sin其中，φi为第i个阵元的已知通道相位，也叫第i个阵元的标校通道相位；B2、在i＝1,2,…,K时，重复执行步骤B1，得到各个阵元的加权系数ω1,ω2,…,ωK，其中K表示阵元的数目。在对多相信号进行加权合成和滤波处理，形成多相数字波束时，具体过程如下：S301.对于多相信号中的每一相信号，通过功分器将其分为K个通道的信号，记为x1,x2,…,xK，其中xi表示第i个通道的信号，将K个通道的信号x1,x2,…,xK与加权系数ω1,ω2,…,ωK相乘，得到K个通道的信号加权结果x1*ω1,x2*ω2,…,xK*ωK；S302.取出各相信号中第i个通道的加权结果xi*ωi，并将取出的加权结果相加，得到第i个通道的多相数字波束，然后利用加权系数ωi对应阵元所在子阵的时延滤波系数，对第i个通道的多相数字波束进行时延滤波处理；S303.在i＝1,2,…,K，重复步骤S302,共得到K个时延滤波处理后的多相数字波束。上述说明示出并描述了本发明的一个优选实施例，但如前所述，应当理解本发明并非局限于本文所披露的形式，不应看作是对其他实施例的排除，而可用于各种其他组合、修改和环境，并能够在本文所述发明构想范围内，通过上述教导或相关领域的技术或知识进行改动。而本领域人员所进行的改动和变化不脱离本发明的精神和范围，则都应在本发明所附权利要求的保护范围内。
