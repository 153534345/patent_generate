标题title
认证方法、装置、服务器及存储介质
摘要abst
本申请涉及认证方法、装置、服务器及存储介质。所述方法包括：接收第一计算设备发送的可信认证请求，所述可信认证请求携带有第一计算设备和第二计算设备的设备标识；根据第一计算设备和第二计算设备的设备标识，获取所述第一计算设备和所述第二计算设备的设备信息；根据所述第一计算设备和所述第二计算设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证；根据所述第一计算设备和所述第二计算设备的可信认证的结果，向所述第一计算设备和所述第二计算设备返回认证结果。本方案，引入可信管理中心，为需要进行双向认证的计算设备进行基于可信计算的认证，避免在计算设备非法篡改或软硬件升级后的可能的异常报错，提高效率。
权利要求书clms
1.一种认证方法，应用于可信管理中心，其特征在于，所述方法包括：接收第一计算设备发送的可信认证请求，所述可信认证请求为第二计算设备向所述第一计算设备发送认证请求后由所述第一计算设备向所述可信管理中心发送的认证请求，携带有所述第一计算设备和所述第二计算设备的设备标识；根据所述第一计算设备和所述第二计算设备的设备标识，获取所述第一计算设备和所述第二计算设备的设备信息；根据所述第一计算设备和所述第二计算设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证；根据所述第一计算设备和所述第二计算设备的可信认证的结果，向所述第一计算设备和所述第二计算设备返回认证结果。2.根据权利要求1所述的认证方法，其特征在于，在获取所述第一计算设备和所述第二计算设备的设备信息之前，所述方法还包括：判断所述第一计算设备和所述第二计算设备是否预先注册，若所述第一计算设备和所述第二计算设备至少有其中之一未预先注册，则向所述第一计算设备和所述第二计算设备返回认证失败的消息。3.根据权利要求1所述的认证方法，其特征在于，所述方法还包括：接收所述第一计算设备的第一注册请求，所述第一注册请求中携带有所述第一计算设备的设备信息，以及根据所述第一计算设备的设备信息计算所述第一计算设备对应的第一安全特征值，并进行存储；所述方法还包括：接收所述第二计算设备的第二注册请求，所述第二注册请求中携带有所述第二计算设备的设备信息，以及根据所述第二计算设备的设备信息计算所述第二计算设备对应的第二安全特征值，并进行存储。4.根据权利要求3所述的认证方法，其特征在于，所述方法还包括：接收所述第一计算设备的第一更新请求，所述第一更新请求中指定所述第一计算设备待更新的设备信息，判断所述第一计算设备是否注册到所述可信管理中心，若未注册，则对所述第一更新请求不作响应，若已注册，则根据更新后的第一计算设备的设备信息对所述第一安全特征值进行更新；和/或所述方法还包括：接收所述第二计算设备的第二更新请求，所述第二更新请求中指定所述第二计算设备待更新的设备信息，判断所述第二计算设备是否注册到所述可信管理中心，若未注册，则对所述第二更新请求不作响应，若已注册，则根据更新后的第二计算设备的设备信息对所述第二安全特征值进行更新。5.根据权利要求4所述的认证方法，其特征在于，根据更新后的第一计算设备的设备信息对所述第一安全特征值进行更新之前，还包括：对所述第一计算设备待更新的设备信息进行可信判断，若可信判断结果为不通过，则将所述第一计算设备标记为不可信设备，并提示更新部分不可信；和/或根据更新后的第二计算设备的设备信息对所述第二安全特征值进行更新之前，还包括：对所述第二计算设备待更新的设备信息进行可信判断，若可信判断结果为不通过，则将所述第二计算设备标记为不可信设备，并提示更新部分不可信。6.根据权利要求3所述的认证方法，其特征在于，所述根据所述第一计算设备和所述第二设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证，包括：根据所述第一计算设备的设备信息进行计算，得到所述第一计算设备对应的实时安全特征值，将所述第一计算设备对应的实时安全特征值与存储的第一安全特征值进行对比，若匹配，则所述第一计算设备通过可信认证，否则所述第一计算设备未通过可信认证；以及根据所述第二计算设备的设备信息进行计算，得到所述第二计算设备对应的实时安全特征值，将所述第二计算设备对应的实时安全特征值与存储的第二安全特征值进行对比，若匹配，则所述第二计算设备通过可信认证，否则所述第二计算设备未通过可信认证。7.根据权利要求6所述的认证方法，其特征在于，所述方法包括：在所述第一计算设备和所述第二计算设备都通过可信认证时，分别向所述第一计算设备和所述第二计算设备发送认证通过的消息，以供所述第一计算设备和所述第二计算设备分别将对方标记为已通过可信管理中心认证的设备。8.一种认证装置，其特征在于，包括：可信认证请求接收单元，用于接收第一计算设备发送的可信认证请求，所述可信认证请求为第二计算设备向所述第一计算设备发送认证请求后由所述第一计算设备向所述可信管理中心发送的认证请求，携带有所述第一计算设备和所述第二计算设备的设备标识；设备信息获取单元，用于根据所述第一计算设备和所述第二计算设备的设备标识，获取所述第一计算设备和所述第二计算设备的设备信息；可信认证单元，用于根据所述第一计算设备和所述第二计算设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证；结果返回单元，用于根据所述第一计算设备和所述第二计算设备的可信认证的结果，向所述第一计算设备和所述第二计算设备返回认证结果。9.根据权利要求8所述的认证装置，其特征在于，包括：判断单元，用于判断所述第一计算设备和所述第二计算设备是否预先注册，若所述第一计算设备和所述第二计算设备至少有其中之一未预先注册，则向所述第一计算设备和所述第二计算设备返回认证失败的消息。10.根据权利要求8所述的认证装置，其特征在于，还包括注册单元，用于接收所述第一计算设备的第一注册请求，所述第一注册请求中携带有所述第一计算设备的设备信息，以及根据所述第一计算设备的设备信息计算所述第一计算设备对应的第一安全特征值，并进行存储；以及用于接收所述第二计算设备的第二注册请求，所述第二注册请求中携带有所述第二计算设备的设备信息，以及根据所述第二计算设备的设备信息计算所述第二计算设备对应的第二安全特征值，并进行存储。11.根据权利要求10所述的认证装置，其特征在于，还包括更新监控单元；所述更新监控单元，用于接收所述第一计算设备的第一更新请求，所述第一更新请求中指定所述第一计算设备待更新的设备信息，判断所述第一计算设备是否注册到所述可信管理中心，若未注册，则对所述第一更新请求不作响应，若已注册，则根据更新后的第一计算设备的设备信息对所述第一安全特征值进行更新；或者用于接收所述第二计算设备的第二更新请求，所述第二更新请求中指定所述第二计算设备待更新的设备信息，判断所述第二计算设备是否注册到所述可信管理中心，若未注册，则对所述第二更新请求不作响应，若已注册，则根据更新后的第二计算设备的设备信息对所述第二安全特征值进行更新。12.根据权利要求11所述的认证装置，其特征在于，所述更新监控单元，用于对所述第一计算设备待更新的设备信息进行可信判断，若未通过可信判断，则将所述第一计算设备标记为不可信设备，并提示更新部分不可信；或者用于对所述第二计算设备待更新的设备信息进行可信判断，若未通过可信判断，则将所述第二计算设备标记为不可信设备，并提示更新部分不可信。13.根据权利要求10所述的认证装置，其特征在于，所述可信认证单元，用于根据所述第一计算设备的设备信息进行计算，得到所述第一计算设备对应的实时安全特征值，将所述第一计算设备对应的实时安全特征值与存储的第一安全特征值进行对比，若匹配，则所述第一计算设备通过可信认证，否则所述第一计算设备未通过可信认证；以及用于根据所述第二计算设备的设备信息进行计算，得到所述第二计算设备对应的实时安全特征值，将所述第二计算设备对应的实时安全特征值与存储的第二安全特征值进行对比，若匹配，则所述第二计算设备通过可信认证，否则所述第二计算设备未通过可信认证。14.根据权利要求13所述的认证装置，其特征在于，所述结果返回单元，用于在所述第一计算设备和所述第二计算设备都通过可信认证时，分别向所述第一计算设备和所述第二计算设备发送认证通过的消息，以供所述第一计算设备和所述第二计算设备分别将对方标记为已通过可信管理中心认证的设备。15.一种服务器，其特征在于，包括权利要求8至14任一项所述的认证装置。16.一种计算机可读存储介质，其特征在于，所述存储介质包括存储的程序，在所述程序运行时控制所述存储介质所在设备执行权利要求1至7任意一项所述的通信方法。
说明书desc
技术领域本发明涉及计算机技术领域，尤其涉及一种认证方法、装置、服务器及存储介质。背景技术目前，在一些网络化的企业办公环境下，多台主机和至少一台文印设备可以建立网络连接，主机可以与文印设备之间进行通信，例如主机可以将打印数据发送给文印设备，使文印设备执行打印作业。在现有技术中，主机和文印设备在通信前需要进行双向认证，只有在通过认证后，主机和文印设备才可以正常通信。然而，本申请的发明人在研究中发现，一方面，由于主机和/或文印设备的软硬件存在被非法篡改的可能性，当软硬件被篡改后的主机和文印设备在进行双向认证时，可能会出现认证结果异常的情况，另一方面，主机和文印设备都需要不定期地进行软硬件的更新，而更新后的主机或文印设备在进行认证时，也可能会出现认证结果异常的场景，这种异常报错会降低主机或文印设备的工作效率。发明内容本发明实施例提供认证方法、装置、服务器及存储介质，引入可信管理中心，为需要进行双向认证的计算设备进行基于可信计算的认证，避免在计算设备软硬件篡改或升级后可能存在的异常报错，提高工作效率。第一方面，本申请提供一种认证方法，应用于可信管理中心，所述方法包括：接收第一计算设备发送的可信认证请求，所述可信认证请求为第二计算设备向所述第一计算设备发送认证请求后由所述第一计算设备向所述可信管理中心发送的认证请求，携带有所述第一计算设备和所述第二计算设备的设备标识；根据所述第一计算设备和所述第二计算设备的设备标识，获取所述第一计算设备和所述第二计算设备的设备信息；根据所述第一计算设备和所述第二计算设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证；根据所述第一计算设备和所述第二计算设备的可信认证的结果，向所述第一计算设备和所述第二计算设备返回认证结果。结合第一方面，在一种可行的实现方式中，在获取所述第一计算设备和所述第二计算设备的设备信息之前，所述方法还包括：判断所述第一计算设备和所述第二计算设备是否预先注册，若所述第一计算设备和所述第二计算设备至少有其中之一未预先注册，则向所述第一计算设备和所述第二计算设备返回认证失败的消息。结合第一方面，在一种可行的实现方式中，所述方法还包括：接收所述第一计算设备的第一注册请求，所述第一注册请求中携带有所述第一计算设备的设备信息，以及根据所述第一计算设备的设备信息计算所述第一计算设备对应的第一安全特征值，并进行存储；所述方法还包括：接收所述第二计算设备的第二注册请求，所述第二注册请求中携带有所述第二计算设备的设备信息，以及根据所述第二计算设备的设备信息计算所述第二计算设备对应的第二安全特征值，并进行存储。结合第一方面，在一种可行的实现方式中，所述方法还包括：接收所述第一计算设备的第一更新请求，所述第一更新请求中指定所述第一计算设备待更新的设备信息，判断所述第一计算设备是否注册到所述可信管理中心，若未注册，则对所述第一更新请求不作响应，若已注册，则根据更新后的第一计算设备的设备信息对所述第一安全特征值进行更新；和/或所述方法还包括：接收所述第二计算设备的第二更新请求，所述第二更新请求中指定所述第二计算设备待更新的设备信息，判断所述第二计算设备是否注册到所述可信管理中心，若未注册，则对所述第二更新请求不作响应，若已注册，则根据更新后的第二计算设备的设备信息对所述第二安全特征值进行更新。结合第一方面，在一种可行的实现方式中，根据更新后的第一计算设备的设备信息对所述第一安全特征值进行更新之前，还包括：对所述第一计算设备待更新的设备信息进行可信判断，若可信判断结果为不通过，则将所述第一计算设备标记为不可信设备，并提示更新部分不可信；和/或根据更新后的第二计算设备的设备信息对所述第二安全特征值进行更新之前，还包括：对所述第二计算设备待更新的设备信息进行可信判断，若可信判断结果为不通过，则将所述第二计算设备标记为不可信设备，并提示更新部分不可信。结合第一方面，在一种可行的实现方式中，所述根据所述第一计算设备和所述第二设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证，包括：根据所述第一计算设备的设备信息进行计算，得到所述第一计算设备对应的实时安全特征值，将所述第一计算设备对应的实时安全特征值与存储的第一安全特征值进行对比，若匹配，则所述第一计算设备通过可信认证，否则所述第一计算设备未通过可信认证；以及根据所述第二计算设备的设备信息进行计算，得到所述第二计算设备对应的实时安全特征值，将所述第二计算设备对应的实时安全特征值与存储的第二安全特征值进行对比，若匹配，则所述第二计算设备通过可信认证，否则所述第二计算设备未通过可信认证。结合第一方面，在一种可行的实现方式中，所述方法包括：在所述第一计算设备和所述第二计算设备都通过可信认证时，分别向所述第一计算设备和所述第二计算设备发送认证通过的消息，以供所述第一计算设备和所述第二计算设备分别将对方标记为已通过可信管理中心认证的设备。第二方面，本申请提供一种认证装置，包括：可信认证请求接收单元，用于接收第一计算设备发送的可信认证请求，所述可信认证请求为第二计算设备向所述第一计算设备发送认证请求后由所述第一计算设备向所述可信管理中心发送的认证请求，携带有所述第一计算设备和所述第二计算设备的设备标识；设备信息获取单元，用于根据所述第一计算设备和所述第二计算设备的设备标识，获取所述第一计算设备和所述第二计算设备的设备信息；可信认证单元，用于根据所述第一计算设备和所述第二计算设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证；结果返回单元，用于根据所述第一计算设备和所述第二计算设备的可信认证的结果，向所述第一计算设备和所述第二计算设备返回认证结果。结合第二方面，在一种可行的实现方式中，包括：判断单元，用于判断所述第一计算设备和所述第二计算设备是否预先注册，若所述第一计算设备和所述第二计算设备至少有其中之一未预先注册，则向所述第一计算设备和所述第二计算设备返回认证失败的消息。结合第二方面，在一种可行的实现方式中，还包括注册单元，用于接收所述第一计算设备的第一注册请求，所述第一注册请求中携带有所述第一计算设备的设备信息，以及根据所述第一计算设备的设备信息计算所述第一计算设备对应的第一安全特征值，并进行存储；以及用于接收所述第二计算设备的第二注册请求，所述第二注册请求中携带有所述第二计算设备的设备信息，以及根据所述第二计算设备的设备信息计算所述第二计算设备对应的第二安全特征值，并进行存储。结合第二方面，在一种可行的实现方式中，还包括更新监控单元；所述更新监控单元，用于接收所述第一计算设备的第一更新请求，所述第一更新请求中指定所述第一计算设备待更新的设备信息，判断所述第一计算设备是否注册到所述可信管理中心，若未注册，则对所述第一更新请求不作响应，若已注册，则根据更新后的第一计算设备的设备信息对所述第一安全特征值进行更新；或者用于接收所述第二计算设备的第二更新请求，所述第二更新请求中指定所述第二计算设备待更新的设备信息，判断所述第二计算设备是否注册到所述可信管理中心，若未注册，则对所述第二更新请求不作响应，若已注册，则根据更新后的第二计算设备的设备信息对所述第二安全特征值进行更新。结合第二方面，在一种可行的实现方式中，所述更新监控单元，用于对所述第一计算设备待更新的设备信息进行可信判断，若可信判断结果为不通过，则将所述第一计算设备标记为不可信设备，并提示更新部分不可信；或者用于对所述第二计算设备待更新的设备信息进行可信判断，若可信判断结果为不通过，则将所述第二计算设备标记为不可信设备，并提示更新部分不可信。结合第二方面，在一种可行的实现方式中，所述可信认证单元，用于根据所述第一计算设备的设备信息进行计算，得到所述第一计算设备对应的实时安全特征值，将所述第一计算设备对应的实时安全特征值与存储的第一安全特征值进行对比，若匹配，则所述第一计算设备通过可信认证，否则所述第一计算设备未通过可信认证；以及用于根据所述第二计算设备的设备信息进行计算，得到所述第二计算设备对应的实时安全特征值，将所述第二计算设备对应的实时安全特征值与存储的第二安全特征值进行对比，若匹配，则所述第二计算设备通过可信认证，否则所述第二计算设备未通过可信认证。结合第二方面，在一种可行的实现方式中，所述结果返回单元，用于在所述第一计算设备和所述第二计算设备都通过可信认证时，分别向所述第一计算设备和所述第二计算设备发送认证通过的消息，以供所述第一计算设备和所述第二计算设备分别将对方标记为已通过可信管理中心认证的设备。第三方面，本申请提供一种服务器，其特征在于，包括上述第二方面所述的认证装置。第四方面，本申请提供一种计算机可读存储介质，所述存储介质包括存储的程序，在所述程序运行时控制所述存储介质所在设备执行上述第一方面所述的认证方法。本申请实施例提供的认证方法及装置，接收可信认证请求，解析其中的第一计算设备和第二计算设备的设备标识，进而获取第一计算设备和第二计算设备的设备信息，并根据第一计算设备和第二计算设备的设备信息进行可信认证，并分别向第一计算设备和第二计算设备返回认证结果，避免了现有技术只依靠第一计算设备和第二计算设备进行双向认证，在第一计算设备或第二计算设备软硬件篡改或升级后可能出现认证的异常报错的情形，提升工作效率。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是本申请实施例所涉及的应用环境示意图；图2是本申请实施例提供的一种认证方法的流程示意图；图3是本申请的一个实施例中第一计算设备注册到可信管理中心的流程示意图；图4是本申请的一个实施例中第一计算设备进行更新的流程示意图；图5是本申请一个实施例中第一计算设备接收第二计算设备的数据后进行处理的流程示意图；图6是本申请一个实施例中的认证装置的功能框图；图7是本申请又一个实施例中的认证装置的功能框图；图8是本申请实施例中提供的服务器的结构示意图。具体实施方式为了更好的理解本发明的技术方案，下面结合附图对本发明实施例进行详细描述。应当明确，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。在本发明实施例中使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本发明。在本发明实施例和所附权利要求书中所使用的单数形式的“一种”、“所述”和“该”也旨在包括多数形式，除非上下文清楚地表示其它含义。应当理解，本文中使用的术语“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中字符“/”，一般表示前后关联对象是一种“或”的关系。应当理解，尽管在本发明实施例中可能采用术语第一、第二、第三等来描述终端，但这些终端不应限于这些术语。这些术语仅用来将终端彼此区分开。例如，在不脱离本发明实施例范围的情况下，第一终端也可以被称为第二终端，类似地，第二终端也可以被称为第一终端。取决于语境，如在此所使用的词语“如果”可以被解释成为“在……时”或“当……时”或“响应于确定”或“响应于检测”。类似地，取决于语境，短语“如果确定”或“如果检测”可以被解释成为“当确定时”或“响应于确定”或“当检测时”或“响应于检测”。参见图1，为本申请实施例所涉及的应用环境示意图。在本申请的应用环境中，涉及一种网络系统，包括：可信管理中心100、第一计算设备101和第二计算设备102。可信管理中心100、第一计算设备101、第二计算设备102可以通过网络互联。所述的网络可以是局域网或互联网等等。可信管理中心100，可以但不限于是服务器。所述的服务器可以单台服务器，也可以是多台服务器互联组成的云服务器。可信管理中心100可以统一管理网络中带有可信计算功能的设备，例如控制设备的数据的收发，检测各个设备的可信性，修改各个设备的安全策略等。可信管理中心100本身也具有可信计算模块，具备可信计算功能。网络中的第一计算设备101和第二计算设备102也支持可信计算功能。第一计算设备101和第二计算设备102可以是各种计算机设备。在本申请优选的实施例中，第一计算设备101和第二计算设备102的其中之一可以是文印设备，例如打印机、复印机等等，而另一设备为通用的计算机，这样主机和文印设备可以双向通信，实现打印、复印、图像扫描等作业。在现有技术中，第一计算设备101和第二计算设备102在进行有效通信前需要进行双向认证，即第一计算设备101和第二计算设备102互相存储有对方认证需要的数据，例如安全证书等等。在某些场景下，由于第一计算设备101或第二计算设备102由于被非法篡改，或者需要进行软硬件的更新，就会造成存储的数据的变化，这时在双向认证时就可能会产生异常报错，从而降低工作效率。本申请实施例中，引入可信管理中心100进行认证。第一计算设备101和第二计算设备102都可以预先注册到可信管理中心100。第一计算设备101和第二计算设备102也都可以独立地进行软硬件的更新。本申请的技术方案，也可以避免在任一计算设备更新后的认证的异常报错的现象。参见图2，为本申请一个实施例中的认证方法。本申请实施例的认证方法应用于可信管理中心。本申请实施例中的认证方法，包括：S10，接收第一计算设备发送的可信认证请求，所述可信认证请求为第二计算设备向所述第一计算设备发送认证请求后由所述第一计算设备向所述可信管理中心发送的认证请求，携带有所述第一计算设备和所述第二计算设备的设备标识；S20，根据所述第一计算设备和所述第二计算设备的设备标识，获取所述第一计算设备和所述第二计算设备的设备信息；S30，根据所述第一计算设备和所述第二计算设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证；S40，根据所述第一计算设备和所述第二计算设备的可信认证的结果，向所述第一计算设备和所述第二计算设备返回认证结果。本申请实施例提供的认证方法，接收可信认证请求，解析其中的第一计算设备和第二计算设备的设备标识，进而获取第一计算设备和第二计算设备的设备信息，并根据第一计算设备和第二计算设备的设备信息进行可信认证，并分别向第一计算设备和第二计算设备返回认证结果，避免了现有技术只依靠第一计算设备和第二计算设备进行双向认证，在第一计算设备或第二计算设备软硬件篡改或升级后可能出现认证的异常报错的情形，提升工作效率。下面在本申请的一个更为详细的实施例中，对上述流程进行描述。S10，接收第一计算设备发送的可信认证请求，所述可信认证请求为第二计算设备向所述第一计算设备发送认证请求后由所述第一计算设备向所述可信管理中心发送的认证请求，携带有所述第一计算设备和所述第二计算设备的设备标识。具体的，在本申请实施例中，是以第二计算设备102向第一计算设备101发送认证请求，再由第一计算设备101向可信管理中心100发送可信认证请求为例，在其它的场景中，还可以反过来，即第一计算设备101向第二计算设备102发送认证请求，再由第二计算设备102向可信管理中心100发送可信认证请求。在本申请实施例中，第一计算设备101可以但不限于一种文印设备，而第二计算设备102是主机。可选的，在其它场景中，第一计算设备101可以是主机，而第二计算设备102是文印设备。在本申请的实施例中，第一计算设备101在接收到第二计算设备102的认证请求后，转而向可信管理中心100发送可信认证请求，使可信管理中心100同时对第一计算设备101和第二计算设备102进行可信认证。在可信认证请求中，携带由第一计算设备101和第二计算设备102的设备标识，例如设备名称、ID、网络地址、硬件编号等等。在本申请的实施例中，第一计算设备101和第二计算设备102需要预先注册到可信管理中心100，才可以使可信管理中心100对第一计算设备101和第二计算设备102进行可信认证。如图3所示，为第一计算设备101注册到可信管理中心100的流程示意图。第二计算设备102注册到可信管理中心100的流程与此相似，在本申请中将不再重复描述。具体的，第一计算设备101注册到可信管理中心100的流程，包括：步骤31，可信管理中心100接收第一计算设备101的第一注册请求，进行解析，获取第一计算设备101的设备信息。其中所述的设备信息可以是各种软硬件信息，例如第一计算设备101上软件程序保存的地址，第一计算设备101中的硬件设备的唯一标识等等。对于软件程序，可信管理中心100还可以根据其保存的地址，读取到更为详细的内容，以进一步进行可信计算。步骤32，可信管理中心100根据第一计算设备101的设备信息计算第一计算设备101对应的安全特征值，并进行存储。具体的，对于硬件信息，可信管理中心100可以根据硬件设备的唯一标识进行可信计算，得到对应的安全特征值，对于软件信息，可信管理中心100可以根据其存储的位置，读取更为详细的内容再进行可信计算，也可得到对应的安全特征值。可信管理中心100将第一计算设备101的安全特征值存储到预设的存储区中，从而完成第一计算设备101的注册。在本申请的步骤S10之后，可信管理中心100，根据第一计算设备101和第二计算设备102的设备标识，判断第一计算设备101和第二计算设备102是否预先注册，若第一计算设备101和第二计算设备102至少有其中之一未预先注册，则向第一计算设备101和第二计算设备102返回认证失败的消息。若可信管理中心100根据第一计算设备101和第二计算设备102的设备标识，判定第一计算设备101和第二计算设备102都已经注册时，继续执行步骤S20。S20，根据所述第一计算设备和所述第二计算设备的设备标识，获取所述第一计算设备和所述第二计算设备的设备信息。具体的，可信管理中心100可以通过网络通信，根据第一计算设备101和第二计算设备102的设备标识，获取第一计算设备101和第二计算设备102的设备信息。S30，根据所述第一计算设备和所述第二计算设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证。具体的，可信管理中心100，根据所述第一计算设备101的设备信息进行计算，得到所述第一计算设备101对应的实时安全特征值，将所述第一计算设备101对应的实时安全特征值与存储的第一安全特征值进行对比，若匹配，则所述第一计算设备101通过可信认证，否则所述第一计算设备101未通过可信认证。相类似的，可信管理中心100，根据所述第二计算设备102的设备信息进行计算，得到所述第二计算设备102对应的实时安全特征值，将所述第二计算设备102对应的实时安全特征值与存储的第二安全特征值进行对比，若匹配，则所述第二计算设备102通过可信认证，否则所述第二计算设备102未通过可信认证。在本申请的实施例中，第一计算设备101和第二计算设备102在注册后，可以未进行任何软硬件的更新，则在可信管理中心100存储的第一安全特征值和第二安全特征值都可以保持基准值不变。在本申请的实施例中，第一计算设备101和第二计算设备102的至少其中之一，也可以进行软硬件的更新，在更新后，对应的安全特征值需要进行对应的更新。如图4为例，为第一计算设备101进行更新的流程示意图。可信管理中心100在第一计算设备101更新时的处理流程包括：步骤41，可信管理中心100接收第一计算设备101发送的第一更新请求。第一更新请求中指定第一计算设备101待更新的设备信息。步骤42，可信管理中心100判断第一计算设备101是否已经注册。若否，执行步骤43，若是执行步骤44。步骤43，可信管理中心100不作响应。步骤44，可信管理中心100解析更新请求，得到指定的待更新的设备信息。步骤45，可信管理中心100判断待更新的设备信息是否通过可信判断。若否，执行步骤46，若是，执行步骤47。步骤46，可信管理中心100将第一计算设备101标记为不可信设备，并提示更新部分不可信。步骤47，可信管理中心100根据更新后的第一计算设备的设备信息对第一安全特征值进行更新。在本申请的实施例中，第二计算设备102的更新流程与上述流程类似，在此不作重复描述。容易理解，不论第一计算设备101还是第二计算设备102进行软硬件的更新，只要更新的软硬件信息是可信的，第一计算设备101或第二计算设备102的安全特征值会进行对应的更新，并存储在可信管理中心100的存储区中，这样在更新后也会通过可信认证，从而可以保证在双向认证的过程中避免异常报错的情形。S40，根据所述第一计算设备和所述第二计算设备的可信认证的结果，向所述第一计算设备和所述第二计算设备返回认证结果。在本申请的实施例中，在所述第一计算设备和所述第二计算设备都通过可信认证时，分别向所述第一计算设备和所述第二计算设备发送认证通过的消息，以供所述第一计算设备和所述第二计算设备分别将对方存储为已通过认证的设备。在可信管理中心100向第一计算设备101和第二计算设备102返回认证结果时，后续第一计算设备101和第二计算设备102的通信流程如图5所示。在本实施例中，是以第一计算设备101接收第二计算设备102发送的数据为例，在其它场景中，也可以是反向的流程，此处就不作重复描述，第二计算设备102接收第一计算设备101的数据后的处理，可以参照图5进行理解。具体的，在图5中，其流程包括：步骤51，第一计算设备101接收第二计算设备102发送的数据。步骤52，第一计算设备101判断第二计算设备102是否通过认证。具体的，若第二计算设备102已经预先通过可信管理中心100的可信认证，第一计算设备101会将第二计算设备102的设备信息存储在本地，从而便于第一计算设备101进行判断。若判断为是，执行步骤53，若判断为否，执行步骤54。步骤53，第一计算设备101根据第二计算设备102发送的数据的数据类型，进行对应的响应。具体的，即在本申请实施例中，第一计算设备101和第二计算设备102都通过可信认证后，可以进行有效的通信。例如，文印设备可以对主机发送的打印数据执行打印作业。步骤54，第一计算设备101判断第二计算设备102发送的数据是否是认证请求。若判断为否，执行步骤55，若判断为是，执行步骤56。步骤55，第一计算设备101不作响应。步骤56，第一计算设备101向可信管理中心100发送可信认证请求。具体的，第一计算设备101向可信管理中心100发送可信认证请求，可信管理中心的处理流程可以参照S10～S40。参见图6，在本申请的一个实施例中提供了一种认证装置。所述认证装置可以以硬件或软件的方式实现于可信管理中心中，所述认证装置600，包括：可信认证请求接收单元601，用于接收第一计算设备发送的可信认证请求，所述可信认证请求为第二计算设备向所述第一计算设备发送认证请求后由所述第一计算设备向所述可信管理中心发送的认证请求，携带有所述第一计算设备和所述第二计算设备的设备标识；设备信息获取单元602，用于根据所述第一计算设备和所述第二计算设备的设备标识，获取所述第一计算设备和所述第二计算设备的设备信息；可信认证单元603，用于根据所述第一计算设备和所述第二计算设备的设备信息，分别对第一计算设备和所述第二计算设备进行可信认证；结果返回单元604，用于根据所述第一计算设备和所述第二计算设备的可信认证的结果，向所述第一计算设备和所述第二计算设备返回认证结果。本申请实施例提供的认证装置，接收可信认证请求，解析其中的第一计算设备和第二计算设备的设备标识，进而获取第一计算设备和第二计算设备的设备信息，并根据第一计算设备和第二计算设备的设备信息进行可信认证，并分别向第一计算设备和第二计算设备返回认证结果，避免了现有技术只依靠第一计算设备和第二计算设备进行双向认证，在第一计算设备或第二计算设备软硬件篡改或升级后可能出现认证的异常报错的情形，提升工作效率。如图7，为本申请实施例提供的另一种认证装置600。所述认证装置600，包括：可信认证请求接收单元601、设备信息获取单元602、可信认证单元603和结果返回单元604。所述认证装置600，还包括判断单元605，用于判断所述第一计算设备和所述第二计算设备是否预先注册，若所述第一计算设备和所述第二计算设备至少有其中之一未预先注册，则向所述第一计算设备和所述第二计算设备返回认证失败的消息。所述认证装置600，还包括注册单元606，用于接收所述第一计算设备的第一注册请求，所述第一注册请求中携带有所述第一计算设备的设备信息，以及根据所述第一计算设备的设备信息计算所述第一计算设备对应的第一安全特征值，并进行存储；以及用于接收所述第二计算设备的第二注册请求，所述第二注册请求中携带有所述第二计算设备的设备信息，以及根据所述第二计算设备的设备信息计算所述第二计算设备对应的第一安全特征值，并进行存储。所述认证装置600，还包括更新监控单元607。所述更新监控单元607，用于接收所述第一计算设备的第一更新请求，所述第一更新请求中指定所述第一计算设备待更新的设备信息，判断所述第一计算设备是否注册到所述可信管理中心，若未注册，则对所述第一更新请求不作响应，若已注册，则根据更新后的第一计算设备的设备信息对所述第一安全特征值进行更新；或者所述更新监控单元607，用于接收所述第二计算设备的第二更新请求，所述第二更新请求中指定所述第二计算设备待更新的设备信息，判断所述第二计算设备是否注册到所述可信管理中心，若未注册，则对所述第二更新请求不作响应，若已注册，则根据更新后的第二计算设备的设备信息对所述第二安全特征值进行更新。本申请实施例中的认证装置100，可以应用于服务器中，以实现前述实施例中的认证方法。在本申请的另一方面，本申请实施例还提供了一种计算机可读存储介质，存储介质包括存储的程序，其中，在程序运行时控制存储介质所在设备执行上述的认证方法。在本申请的又一方面，本申请实施例还提供一种服务器，本申请实施例提供的服务器可以应用于实现可信管理中心。图8是本申请实施例提供的一种服务器的示意图。如图8所示，该实施例的服务器800包括：处理器801、存储器802以及存储在存储器中并可在处理器801上运行的计算机程序803，处理器801执行计算机程序803时实现实施例中的认证方法，为避免重复，此处不一一赘述。或者，该计算机程序被处理器801执行时实现实施例中认证装置中各模型中/单元的功能，为避免重复，此处不一一赘述。服务器800可以是单台服务器或云端服务器等计算设备。计算机设备可包括，但不仅限于，处理器801、存储器802。本领域技术人员可以理解，图8仅仅是服务器800的示例，并不构成对服务器800的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如服务器还可以包括输入输出设备、网络接入设备、总线等。所称处理器801可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。存储器802可以是服务器800的内部存储单元，例如服务器800的硬盘或内存。存储器802也可以是图像形成设备800的外部存储设备，例如服务器800上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，存储器802还可以既包括服务器800的内部存储单元也包括外部存储设备。存储器802用于存储计算机程序以及服务器所需的其他程序和数据。存储器802还可以用于暂时地存储已经输出或者将要输出的数据。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统，装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本发明所提供的几个实施例中，应该理解到，所揭露的系统，装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，上述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。上述以软件功能单元的形式实现的集成的单元，可以存储在一个计算机可读取存储介质中。上述软件功能单元存储在一个存储介质中，包括若干指令用以使得一台计算机装置或处理器执行本发明各个实施例上述方法的部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上上述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明保护的范围之内。
