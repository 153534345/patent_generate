标题title
基于用户行为的云桌面资源配置方法、系统及存储介质
摘要abst
本发明公开了一种基于用户行为的云桌面资源配置方法，该方法包括获取发送登录请求的目标客户端的历史操作信息；根据所述历史操作信息确定目标待分配资源；将所述目标待分配资源分配至所述目标客户端对应的目标虚拟机中，并将所述目标虚拟机对应的云桌面发送至所述目标客户端。本发明还公开了一种基于用户行为的云桌面资源配置系统及存储介质，本发明通过根据目标客户端的历史操作信息确定目标待分配资源，进而将目标待分配资源分配至所述目标客户端对应的虚拟机，实现了资源的有需分配，提高了资源的利用率。
权利要求书clms
1.一种基于用户行为的云桌面资源配置方法，其特征在于，所述基于用户行为的云桌面资源配置方法的步骤包括：获取发送登录请求的目标客户端的历史操作信息；根据所述历史操作信息确定目标待分配资源；将所述目标待分配资源分配至所述目标客户端对应的目标虚拟机中，并将所述目标虚拟机对应的云桌面发送至所述目标客户端。2.如权利要求1所述的基于用户行为的云桌面资源配置方法，其特征在于，所述根据所述历史操作信息确定目标待分配资源的步骤包括：获取可分配资源；根据所述历史操作信息确定目标云桌面类型以及待分配资源；根据所述可分配资源、所述目标云桌面类型以及所述待分配资源确定所述目标待分配资源。3.如权利要求2所述的基于用户行为的云桌面资源配置方法，其特征在于，所述历史操作信息包括历史资源利用率以及历史用户行为数据，所述根据所述历史操作信息确定目标云桌面类型以及待分配资源的步骤包括：提取所述历史操作信息中的特征数据，所述特征数据包括历史资源利用率、单次使用时长，业务类型、实际业务并发量、实际业务响应时间以及性能需求信息；根据预设计算公式确定所述特征数据的计算结果；根据所述计算结果与预设分配等级区间确定所述目标客户端的分配等级；根据所述分配等级确定所述目标云桌面类型以及待分配资源。4.如权利要求2所述的基于用户行为的云桌面资源配置方法，其特征在于，所述获取可分配资源的步骤包括：获取已分配资源的其他客户端的用户行为数据和已分配资源以及当前可用资源；根据所述用户行为数据确定所述其他客户端的当前资源利用率，其中，所述当前资源利用率根据使用时长、CPU占用率以及内存占用率的至少一种确定；根据所述当前资源利用率、所述已分配资源以及所述当前可用资源确定可分配资源。5.如权利要求4所述的基于用户行为的云桌面资源配置方法，其特征在于，所述根据所述当前资源利用率、所述已分配资源以及所述当前可用资源确定可分配资源的步骤包括：在所述其他客户端的当前资源利用率小于或等于预设资源利用率时，根据所述当前资源利用率确定可回收资源；根据所述可回收资源以及所述当前可用资源确定所述可分配资源。6.如权利要求1-5任一项所述的基于用户行为的云桌面资源配置方法，其特征在于，所述根据所述可分配资源、所述目标云桌面类型以及所述待分配资源确定所述目标待分配资源的步骤包括：根据所述目标云桌面类型确定目标虚拟机以及根据所述历史操作信息确定发送登录请求的目标客户端的业务参数阈值；根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果；在所述压力测试结果满足预设条件时，将所述待分配资源确定为所述目标待分配资源。7.如权利要求6所述的基于用户行为的云桌面资源配置方法，其特征在于，所述根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果的步骤之后，还包括：在所述压力测试结果不满足预设条件时，调整所述待分配资源，并返回执行根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果的步骤。8.如权利要求2所述的基于用户行为的云桌面资源配置方法，其特征在于，所述根据预设计算公式确定所述特征数据的计算结果的步骤包括：确定所述历史资源利用率的平均历史资源利用率以及第一系数，所述单次使用时长的第二系数以及调节参数，所述业务类型对应的第三系数以及所述业务类型对应的相关性系数，所述实际业务并发量对应的第四系数以及预设业务并发量，所述实际业务响应时间对应的第五系数、预设业务响应时间以及预设比例，以及所述性能需求信息的第六系数；根据所述平均历史资源利用率与所述第一系数确定第一数值；根据所述第二系数与所述单次使用时长的乘积结果与所述调节参数进行相加后的结果确定第二数值；根据所述业务类型的相关性系数与所述第三系数的乘积确定第三数值；根据所述实际业务并发量和预设业务并发量之间的业务并发量差值与所述第四系数的乘积确定第四数值；获取所述实际业务响应时间与预设业务响应时间的比例与预设比例的差值，将所述差值与预设比例的求和结果与所述第五系数的乘积确定第五数值；获取所述性能需求信息中的业务并发量与所述实际业务并发量的第一差值以及所述性能需求信息中的业务响应时间与所述实际业务响应时间的第二差值，将所述第一差值、所述第二差值以及所述第六系数进行累乘后得到的结果确定为第六数值；将所述第一数值、第二数值、第三数值、第四数值、第五数值以及第六数值进行累加后得到所述计算结果。9.一种基于用户行为的云桌面资源配置系统，其特征在于，所述基于用户行为的云桌面资源配置系统包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的基于用户行为的云桌面资源配置程序，所述基于用户行为的云桌面资源配置程序被所述处理器执行时实现如权利要求1至8中任一项所述的基于用户行为的云桌面资源配置方法的步骤。10.一种存储介质，其特征在于，所述存储介质上存储有基于用户行为的云桌面资源配置程序，所述基于用户行为的云桌面资源配置程序被处理器执行时实现如权利要求1至8中任一项所述的基于用户行为的云桌面资源配置方法的步骤。
说明书desc
技术领域本发明涉及云桌面管理技术领域，尤其涉及基于用户行为的云桌面资源配置方法、系统及存储介质。背景技术云桌面又称桌面虚拟化、云电脑，是替代传统电脑的一种新模式；采用云桌面后，用户无需再购买电脑主机，主机所包含的CPU、内存、硬盘、网卡等组件全部在后端的服务器中虚拟出来，单台高性能服务器可以虚拟1-50台不等的虚拟主机；前端设备目前主流的是采用瘦客户机连接显示器和键鼠，用户安装客户端后通过特有的通信协议访问后端服务器上的虚拟机主机来实现交互式操作，达到与电脑一致的体验效果；同时，云桌面不仅支持用于替换传统电脑，还支持手机、平板等其他智能设备在互联网上访问，也是目前移动办公的最新解决方案。在构思及实现本申请过程中，发明人发现至少存在如下问题：现有的服务器匹配多个云桌面，在为各个云桌面分配资源时，因不存在良好的资源分配方式，无法兼顾所有的云桌面客户端，容易导致存在高资源需求的客户端无法获取足够资源，而不存在高资源需要的客户端浪费了过多资源，降低了资源的利用率。上述内容仅用于辅助理解本发明的技术方案，并不代表承认上述内容是现有技术。发明内容本发明的主要目的在于提供一种基于用户行为的云桌面资源配置方法、系统及存储介质，旨在解决云桌面的资源分配无法兼顾各个虚拟机的资源需求，导致资源利用率降低的问题。为实现上述目的，本发明提供一种基于用户行为的云桌面资源配置方法，所述基于用户行为的云桌面资源配置方法的步骤包括：获取发送登录请求的目标客户端的历史操作信息；根据所述历史操作信息确定目标待分配资源；将所述目标待分配资源分配至所述目标客户端对应的目标虚拟机中，并将所述目标虚拟机对应的云桌面发送至所述目标客户端。可选地，所述根据所述历史操作信息确定目标待分配资源的步骤包括：获取可分配资源；根据所述历史操作信息确定目标云桌面类型以及待分配资源；根据所述可分配资源、所述目标云桌面类型以及所述待分配资源确定所述目标待分配资源。可选地，所述历史操作信息包括历史资源利用率以及历史用户行为数据，所述历史操作信息包括历史资源利用率以及历史用户行为数据，所述根据所述历史操作信息确定目标云桌面类型以及待分配资源的步骤包括：提取所述历史操作信息中的特征数据，所述特征数据包括历史资源利用率、单次使用时长，业务类型、实际业务并发量、实际业务响应时间以及性能需求信息；根据预设计算公式确定所述特征数据的计算结果；根据所述计算结果与预设分配等级区间确定所述目标客户端的分配等级；根据所述分配等级确定所述目标云桌面类型以及待分配资源。可选地，所述获取可分配资源的步骤包括：获取已分配资源的其他客户端的用户行为数据和已分配资源以及当前可用资源；根据所述用户行为数据确定所述其他客户端的当前资源利用率，其中，所述当前资源利用率根据使用时长、CPU占用率以及内存占用率的至少一种确定；根据所述当前资源利用率、所述已分配资源以及所述当前可用资源确定可分配资源。可选地，所述根据所述当前资源利用率、所述已分配资源以及所述当前可用资源确定可分配资源的步骤包括：在所述其他客户端的当前资源利用率小于或等于预设资源利用率时，根据所述当前资源利用率确定可回收资源；根据所述可回收资源以及所述当前可用资源确定所述可分配资源。可选地，所述根据所述可分配资源、所述目标云桌面类型以及所述待分配资源确定所述目标待分配资源的步骤包括：根据所述目标云桌面类型确定目标虚拟机以及根据所述历史操作信息确定发送登录请求的目标客户端的业务参数阈值；根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果；在所述压力测试结果满足预设条件时，将所述待分配资源确定为所述目标待分配资源。可选地，所述根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果的步骤之后，还包括：在所述压力测试结果不满足预设条件时，调整所述待分配资源，并返回执行根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果的步骤。可选地，所述根据预设计算公式确定所述特征数据的计算结果的步骤包括：确定所述历史资源利用率的平均历史资源利用率以及第一系数，所述单次使用时长的第二系数以及调节参数，所述业务类型对应的第三系数以及所述业务类型对应的相关性系数，所述实际业务并发量对应的第四系数以及预设业务并发量，所述实际业务响应时间对应的第五系数、预设业务响应时间以及预设比例，以及所述性能需求信息的第六系数；根据所述平均历史资源利用率与所述第一系数确定第一数值；根据所述第二系数与所述单次使用时长的乘积结果与所述调节参数进行相加后的结果确定第二数值；根据所述业务类型的相关性系数与所述第三系数的乘积确定第三数值；根据所述实际业务并发量和预设业务并发量之间的业务并发量差值与所述第四系数的乘积确定第四数值；获取所述实际业务响应时间与预设响应时间的比例与预设比例的差值，将所述差值与预设比例的求和结果与所述第五系数的乘积确定第五数值；获取所述性能需求信息中的业务并发量与所述实际业务并发量的第一差值以及所述性能需求信息中的业务响应时间与所述实际业务响应时间的第二差值，将所述第一差值、所述第二差值以及所述第六系数进行累乘后得到的结果确定为第六数值；将所述第一数值、第二数值、第三数值、第四数值、第五数值以及第六数值进行累加后得到所述计算结果。此外，为实现上述目的，本发明还提供一种基于用户行为的云桌面资源配置系统，所述基于用户行为的云桌面资源配置系统包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的基于用户行为的云桌面资源配置程序，所述基于用户行为的云桌面资源配置程序被所述处理器执行时实现如上所述的基于用户行为的云桌面资源配置方法的步骤。此外，为实现上述目的，本发明还提供一种存储介质，所述存储介质上存储有基于用户行为的云桌面资源配置程序，所述基于用户行为的云桌面资源配置程序被处理器执行时实现如上所述的基于用户行为的云桌面资源配置方法的步骤。本发明实施例提出的一种基于用户行为的云桌面资源配置方法、系统及存储介质，通过获取发送登录请求的目标客户端的历史操作信息；根据所述历史操作信息确定目标待分配资源；将所述目标待分配资源分配至所述目标客户端对应的目标虚拟机中，并将所述目标虚拟机对应的云桌面发送至所述目标客户端，通过上述方式实现了资源根据客户端的需求有需分配，提高了资源的利用率。附图说明图1是本发明实施例方案涉及的硬件运行环境的终端结构示意图；图2为本发明基于用户行为的云桌面资源配置方法第一实施例的流程示意图；图3为本发明基于用户行为的云桌面资源配置方法第一实施例步骤S20的细化流程示意图；图4为本发明基于用户行为的云桌面资源配置方法第一实施例步骤S22的细化流程示意图；图5为本发明基于用户行为的云桌面资源配置方法第二实施例步骤S21的细化流程示意图；图6为本发明基于用户行为的云桌面资源配置方法第二实施例步骤S213的细化流程示意图；图7为本发明基于用户行为的云桌面资源配置方法第三实施例步骤S23的细化流程示意图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。本发明实施例的主要解决方案是：获取发送登录请求的目标客户端的历史操作信息；根据所述历史操作信息确定目标待分配资源；将所述目标待分配资源分配至所述目标客户端对应的目标虚拟机中，并将所述目标虚拟机对应的云桌面发送至所述目标客户端。如图1所示，图1是本发明实施例方案涉及的硬件运行环境的终端结构示意图。本发明实施例终端可以是PC，也可以是智能手机、平板电脑等终端设备。如图1所示，该终端可以包括：处理器1001，例如CPU，网络接口1004，用户接口1003，存储器1005，通信总线1002。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如键盘，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口。存储器1005可以是高速RAM存储器，也可以是稳定的存储器，例如磁盘存储器。存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图1中示出的终端结构并不构成对终端的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如图1所示，作为一种计算机存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及基于用户行为的云桌面资源配置程序。在图1所示的终端中，网络接口1004主要用于连接后台服务器，与后台服务器进行数据通信；用户接口1003主要用于连接客户端，与客户端进行数据通信；而处理器1001可以用于调用存储器1005中存储的基于用户行为的云桌面资源配置程序，并执行以下操作：获取发送登录请求的目标客户端的历史操作信息；根据所述历史操作信息确定目标待分配资源；将所述目标待分配资源分配至所述目标客户端对应的目标虚拟机中，并将所述目标虚拟机对应的云桌面发送至所述目标客户端。进一步地，处理器1001可以调用存储器1005中存储的基于用户行为的云桌面资源配置程序，还执行以下操作：获取可分配资源；根据所述历史操作信息确定目标云桌面类型以及待分配资源；根据所述可分配资源、所述目标云桌面类型以及所述待分配资源确定所述目标待分配资源。进一步地，处理器1001可以调用存储器1005中存储的基于用户行为的云桌面资源配置程序，还执行以下操作：提取所述历史操作信息中的特征数据，所述特征数据包括历史资源利用率、单次使用时长，业务类型、实际业务并发量、实际业务响应时间以及性能需求信息；根据预设计算公式确定所述特征数据的计算结果；根据所述计算结果与预设分配等级区间确定所述目标客户端的分配等级；根据所述分配等级确定所述目标云桌面类型以及待分配资源。进一步地，处理器1001可以调用存储器1005中存储的基于用户行为的云桌面资源配置程序，还执行以下操作：获取已分配资源的其他客户端的用户行为数据和已分配资源以及当前可用资源；根据所述用户行为数据确定所述其他客户端的当前资源利用率，其中，所述当前资源利用率根据使用时长、CPU占用率以及内存占用率的至少一种确定；根据所述当前资源利用率、所述已分配资源以及所述当前可用资源确定可分配资源。进一步地，处理器1001可以调用存储器1005中存储的基于用户行为的云桌面资源配置程序，还执行以下操作：在所述其他客户端的当前资源利用率小于或等于预设资源利用率时，根据所述当前资源利用率确定可回收资源；根据所述可回收资源以及所述当前可用资源确定所述可分配资源。进一步地，处理器1001可以调用存储器1005中存储的基于用户行为的云桌面资源配置程序，还执行以下操作：根据所述目标云桌面类型确定目标虚拟机以及根据所述历史操作信息确定发送登录请求的目标客户端的业务参数阈值；根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果；在所述压力测试结果满足预设条件时，将所述待分配资源确定为所述目标待分配资源。进一步地，处理器1001可以调用存储器1005中存储的基于用户行为的云桌面资源配置程序，还执行以下操作：在所述压力测试结果不满足预设条件时，调整所述待分配资源，并返回执行根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果的步骤。进一步地，处理器1001可以调用存储器1005中存储的基于用户行为的云桌面资源配置程序，还执行以下操作：确定所述历史资源利用率的平均历史资源利用率以及第一系数，所述单次使用时长的第二系数以及调节参数，所述业务类型对应的第三系数以及所述业务类型对应的相关性系数，所述实际业务并发量对应的第四系数以及预设业务并发量，所述实际业务响应时间对应的第五系数、预设业务响应时间以及预设比例，以及所述性能需求信息的第六系数；根据所述平均历史资源利用率与所述第一系数确定第一数值；根据所述第二系数与所述单次使用时长的乘积结果与所述调节参数进行相加后的结果确定第二数值；根据所述业务类型的相关性系数与所述第三系数的乘积确定第三数值；根据所述实际业务并发量和预设业务并发量之间的业务并发量差值与所述第四系数的乘积确定第四数值；获取所述实际业务响应时间与预设业务响应时间的比例与预设比例的差值，将所述差值与预设比例的求和结果与所述第五系数的乘积确定第五数值；获取所述性能需求信息中的业务并发量与所述实际业务并发量的第一差值以及所述性能需求信息中的业务响应时间与所述实际业务响应时间的第二差值，将所述第一差值、所述第二差值以及所述第六系数进行累乘后得到的结果确定为第六数值；将所述第一数值、第二数值、第三数值、第四数值、第五数值以及第六数值进行累加后得到所述计算结果。第一实施例参照图2，本发明基于用户行为的云桌面资源配置方法第一实施例提供一种基于用户行为的云桌面资源配置方法，所述基于用户行为的云桌面资源配置方法包括：步骤S10，获取发送登录请求的目标客户端的历史操作信息；步骤S20，根据所述历史操作信息确定目标待分配资源；步骤S30，将所述目标待分配资源分配至所述目标客户端对应的目标虚拟机中，并将所述目标虚拟机对应的云桌面发送至所述目标客户端。在本实施例中，应用于基于用户行为的云桌面资源配置系统，所述历史操作信息包括但不限于业务类型，应用软件，单次使用时长，使用频率，资源利用率，业务并发量、业务响应时间以及性能需求信息的至少一种，所述历史操作信息用于表示所述目标客户端在发送登录请求之前的每次历史操作信息，例如，所述业务类型包括所述目标客户端在每次使用云桌面的业务类型，所述应用软件包括所述目标客户端在每次使用云桌面的应用软件，所述单次使用时长包括所述目标客户端在每次使用云桌面的使用时长。可选地，在获取所述历史操作信息后，根据所述历史操作信息确定目标待分配资源，所述目标待分配资源包括但不限于CPU资源，GPU资源、内存资源，算力资源，系统盘资源、网络资源。可选地，为了使所述目标待分配资源可以满足用户使用云桌面时的资源需求，所述根据所述历史操作信息确定目标待分配资源的方式可以包括：根据所述历史操作信息中的各个数据确定各个数据对应的待分配资源，比对各个待分配资源，将最高的待分配资源确定为所述目标待分配资源，例如不同的应用软件对应不同的云桌面资源，示例性地，若所述应用软件的类型的为办公类应用，该办公类应用所需的资源较少，则办公类应用对应的待分配资源较少；若所述应用软件的类型的为游戏类应用，游戏类应用所需的资源较高，则游戏类应用对应的待分配资源较高。可选地，所述根据所述历史操作信息确定目标待分配资源的方式还可以包括：根据所述历史操作信息中各个数据进行评分，并获取各个数据的权重，根据各个数据的评分以及权重进行加权求和，以获取所述历史操作信息对应的评分，根据所述评分确定所述目标客户端的等级，根据所述等级确定所述目标待分配资源，可选地，所述云桌面管理设备存储了评分与等级的映射关系以及等级与所述目标待分配资源的映射关系，评分越高，等级越高，目标待分配资源越高。可选地，所述根据所述历史操作信息确定目标待分配资源的方式还可以包括根据当前的可分配资源以及所述历史操作信息确定，所述可分配资源为剩余的资源，所述可分配资源可以根据总资源与已分配资源的差值确定。参照图3，图3示出了根据所述历史操作信息以及所述可分配资源确定目标待分配资源的具体实施方式，所述S20包括：步骤S21，获取可分配资源；步骤S22，根据所述历史操作信息确定目标云桌面类型以及待分配资源；步骤S23，根据所述可分配资源、所述目标云桌面类型以及所述待分配资源确定所述目标待分配资源。可选地，所述可分配资源可根据总资源与已分配资源确定。可选地，参照图4，所述S22包括：步骤S221，提取所述历史操作信息中的特征数据，所述特征数据包括历史资源利用率、单次使用时长，业务类型、实际业务并发量、实际业务响应时间以及性能需求信息；步骤S222，根据预设计算公式确定所述特征数据的计算结果；步骤S223，根据所述计算结果与预设分配等级区间确定所述目标客户端的分配等级；步骤S224，根据所述分配等级确定所述目标云桌面类型以及待分配资源。可选地，所述历史操作信息包括历史资源利用率以及历史用户行为数据，所述特征数据包括历史资源利用率、单次使用时长，业务类型、实际业务并发量、实际业务响应时间以及性能需求信息，在本申请实施例中，所述特征数据包括根据所述历史操作信息进行分析以及转化确定的数值化的数据。可选地，在获取所述特征数据后，根据预设计算公式确定所述特征数据的计算结果，还可以包括对所述特征数据进行筛选，保留有效的特征数据，剔除无效的特征数据，其中，所述有效的特征数据包括与待分配资源的大小的相关性大于或等于预设阈值的特征数据，所述无效的特征数据包括与待分配资源的大小的相关性小于预设阈值的特征数据，可以地，利用预设算法计算出各个特征数据与待分配资源的相关性，并筛选出所述特征数据中超出预设阈值的特征数据，所述预设算法包括皮尔逊相关系数算法。可选地，在获取所述特征数据后，根据预设计算公式确定所述特征数据的计算结果前，还可以包括对所述特征数据进行归一化处理。可选地，所述根据预设计算公式确定所述特征数据的计算结果的步骤包括：确定所述历史资源利用率的平均历史资源利用率以及第一系数，所述单次使用时长的第二系数以及调节参数，所述业务类型对应的第三系数以及所述业务类型对应的相关性系数，所述实际业务并发量对应的第四系数以及预设业务并发量，所述实际业务响应时间对应的第五系数、预设业务响应时间以及预设比例，以及所述性能需求信息的第六系数；根据所述平均历史资源利用率与所述第一系数确定第一数值；根据所述第二系数与所述单次使用时长的乘积结果与所述调节参数进行相加后的结果确定第二数值；根据所述业务类型的相关性系数与所述第三系数的乘积确定第三数值；根据所述实际业务并发量和预设业务并发量之间的业务并发量差值与所述第四系数的乘积确定第四数值；获取所述实际业务响应时间与预设业务响应时间的比例与预设比例的差值，将所述差值与预设比例的求和结果与所述第五系数的乘积确定第五数值；获取所述性能需求信息中的业务并发量与所述实际业务并发量的第一差值以及所述性能需求信息中的业务响应时间与所述实际业务响应时间的第二差值，将所述第一差值、所述第二差值以及所述第六系数进行累乘后得到的结果确定为第六数值；将所述第一数值、第二数值、第三数值、第四数值、第五数值以及第六数值进行累加后得到所述计算结果。可选地，所述预设计算公式如下所示：N1＝K1；N2＝K2；N3＝K3；N4＝K4；N5＝K5；N6＝K6；N＝N1+N2+N3+N3+N5+N6。其中，K1，K2，K3...K6分别为第一系数，第二系数，第三系数，....，第六系数，A1，A2...An为所述历史资源利用率，T1，T2...Tn为所述单次使用时长，b为所述单次使用时长对应的调节参数，B1，B2...Bn为所述业务类型的相关性系数，不同的业务类型对应的相关性系数不同，C1，C2...Cn为所述实际业务并发量，C为所述预设业务并发量；，D1，D2...Dn为所述实际业务响应时间，C为所述预设响应时间，m为预设比例；E11，E21，…En1为所述性能需求信息的业务并发量，E12，E22，...En2为所述性能需求信息的业务响应时间：N为所述计算结果。可选地，根据所述预设计算公式得到所述计算结果后，获取预设分配等级区间，各个预设分配等级区间对应不同的分配等级，将所述计算结果与各个预设分配等级区间进行匹配，以确定所述计算结果对应的目标预设分配等级区间，根据所述目标预设分配等级区间确定所述分配等级。可选地，在确定所述分配等级后，根据所述分配等级确定所述目标云桌面类型以及待分配资源，其中，不同的分配等级对应不同的目标云桌面类型，不同的云桌面类型也可以对应不同的待分配资源，不同的分配等级对应不同的待分配资源，在一实施例中，所述云桌面管理设备预存储了分配等级与目标云桌面类型的对应关系、分配等级与所述待分配资源的对应关系，在实际确定所述分配等级后，根据所述分配等级确定所述云桌面类型以及所述待分配资源。可选地，不同的云桌面类型可用于表示不同的资源需求，在确定所述分配等级对应的云桌面类型后，可根据所述云桌面类型确定所述待分配资源，可选地，不同的云桌面类型还可以包括配置不同的应用程序，在确定所述分配等级后，根据所述分配等级确定目标客户端待使用的应用程序，将包括待使用的应用程序的云桌面类型确定所述分配等级对应的云桌面类型，可选地，不同的云桌面类型还可以包括配置不同的操作系统。可选地，所述待分配资源用于表示配置所述目标客户端的虚拟机的资源，分配等级越高，代表目标客户端的资源需求越高，待分配资源越多，例如，分配等级包括第一等级，第二等级，第三等级，第一等级最高，第一等级对应第一资源，第二等级对应第二资源，第三等级对应第四资源，第一资源高于第二资源，第二资源高于第三资源。可选地，在确定所述可分配资源、云桌面类型以及所述待分配资源后，根据所述可分配资源、云桌面类型以及所述待分配资源确定目标待分配资源。具体地，可比对所述待分配资源与所述可分配资源的大小，在所述待分配资源的大小小于或等于所述可分配资源的大小时，将所述待分配资源确定为所述目标待分配资源，在所述待分配资源的大小大于所述可分配资源的大小，扩充所述可分配资源的大小，以使所述可分配资源的大小大于或等于所述可分配资源的大小，将扩充后的所述可分配资源确定为所述目标待分配资源。可选地，在又一实施例中，还可以根据所述目标云桌面类型确定所述目标云桌面类型对应的桌面云资源，比对所述桌面云资源与待分配资源的大小，在所述桌面云资源的大小大于或等于所述待分配资源的大小时，将所述桌面云资源确定为所述目标待分配资源，在所述桌面云资源的大小小于或等于所述待分配资源的大小时，将所述待分配资源确定为所述目标待分配资源。可选地，在又一实施例中，还可以根据所述目标云桌面类型确定所述目标云桌面类型对应的桌面云资源，分别比对所述桌面云资源，所述待分配资源，所述可分配资源两两之间的大小，在所述桌面云资源以及所述待分配资源均小于或等于所述可分配资源时，根据所述桌面云资源以及所述待分配资源的大小关系将较大的资源确定为所述目标待分配资源；在所述桌面云资源以及所述待分配资源均大于所述可分配资源时，根据所述桌面云资源以及所述待分配资源的大小关系将较大的资源确定为扩充后的可分配资源，将扩充后的可分配资源确定为所述目标待分配资源；在所述桌面云资源以及所述待分配资源存在一个资源大小大于所述可分配资源的大小时，将大于所述可分配资源的资源确定为扩充后的所述可分配资源，将扩充后的所述可分配资源确定为所述目标待分配资源。可选地，在确定所述目标待分配资源后，将所述目标待分配资源分配至所述目标客户端对应的目标虚拟机中，其中，所述目标虚拟机根据所述目标云桌面类型确定，将所述目标虚拟机对应的云桌面发送至所述目标客户端。在本申请实施例中，通过获取目标客户端的历史操作信息，并提取所述历史操作信息中的特征数据，所述特征数据包括历史资源利用率、单次使用时长，使用频率，业务类型、实际业务并发量、实际业务响应时间以及性能需求信息的至少一种，根据所述特征数据以及预设计算公式确定计算结果，根据所述计算结果以及预设分配等级区间确定分配等级，根据所述分配等级确定目标云桌面类型以及待分配资源，进而根据当前的可分配资源、所述目标云桌面类型以及所述待分配资源确定所述目标客户端的目标待分配资源，进而将所述目标待分配资源配置至所述目标客户端对应的目标虚拟机中，并将所述目标虚拟机对应的云桌面发送至所述目标客户端，以供所述目标客户端根据所述目标待分配资源以及所述云桌面执行相应业务，本申请实施例通过历史操作信息为虚拟机配置合适的资源，解决了分配资源的浪费以及分配资源过少，影响用户体验的问题，从而提高了资源的利用率。第二实施例参照图5，所述步骤S21包括：步骤S211，获取已分配资源的其他客户端的用户行为数据和已分配资源以及当前可用资源；步骤S212，根据所述用户行为数据确定所述其他客户端的当前资源利用率，其中，所述当前资源利用率根据使用时长、CPU占用率以及内存占用率的至少一种确定；步骤S213，根据所述当前资源利用率、所述已分配资源以及所述当前可用资源确定可分配资源。可选地，所述用户行为数据包括已分配资源的除所述目标虚拟机以外的其他虚拟机对应的其他客户端的当前用户行为数据，所述已分配资源包括为所述其他虚拟机配置的资源，所述当前可用资源包括当前剩余资源，当前剩余资源的大小等于总资源与所述已分配资源的差值。可选地，根据所述用户行为数据确定所述其他客户端的当前资源利用率，其中，所述当前资源利用率根据使用时长、CPU占用率以及内存占用率的至少一种确定，具体地，所述使用时长根据所述其他客户端使用虚拟机的起始时间点至当前时间点确定，所述CPU占用率可以根据预设周期内每个采样时刻及其对应的CPU占用率确定；也可以根据预设周期内每个采样时刻及其对应的CPU占用率的平均CPU占用率确定，即每个采样时刻对应的CPU占用率数值相加，除以采样时刻的个数；还可以根据预设周期内各个采样时刻的CPU占用率中的最大CPU占用率确定。所述内存占用率可以根据预设周期内每个采样时刻及其对应的内存占用率确定；也可以根据预设周期内每个采样时刻及其对应的内存占用率的平均内存占用率确定，即每个采样时刻对应的内存占用率数值相加，除以采样时刻的个数；还可以根据预设周期内各个采样时刻的内存占用率中的最大内存占用率确定。可选地，根据使用时长、CPU占用率以及内存占用率的至少一种确定所述当前资源率的方式包括获取空闲时长，根据所述空闲时长以及所述使用时长的比值确定虚拟机利用率，所述空闲时长为虚拟机处于空闲状态下的时长，确定虚拟机利用率、CPU占用率以及内存占用率分别对应的权重，根据所述权重以及虚拟机利用率、CPU占用率以及内存占用率进行加权求和得到求和后的计算结果，将所述计算结果确定为所述当前资源利用率。可选地，在确定各个其他客户端的资源利用率后，根据所述当前资源利用率、所述已分配资源以及所述当前可用资源确定可分配资源。可选地，参照图6，所述S213包括：步骤S24，在所述其他客户端的当前资源利用率小于或等于预设资源利用率时，根据所述当前资源利用率确定可回收资源；步骤S25，根据所述可回收资源以及所述当前可用资源确定所述可分配资源。可选地，在确定各个其他客户端的当前资源利用率后，将所述当前资利用率与预设资源利用率进行比对，在所述当前资源利用率小于或等于所述预设资源利用率时，确定分配至所述其他客户端的虚拟机的已分配资源超出所述其他客户端的资源需求量，为了避免资源被浪费，根据所述当前资源利用率确定可回收资源，其中，确定可回收资源的方式包括确定所述其他客户端的应分配资源，根据所述其他客户端对应的已分配资源以及所述应分配资源的资源差值确定所述可回收资源，其中，所述应分配资源可以根据所述其他客户端的当前资源利用率确定，还可以提取所述用户行为数据中的特征数据，所述特征数据包括资源利用率、使用时长，业务类型、业务并发量、业务响应时间以及性能需求信息，根据预设计算公式计算出所述其他客户端的计算结果，根据计算得出的计算结果确定所述其他客户端的分配等级，根据所述分配等级确定所述其他客户端的应分配资源。可选地，在确定所述可回收资源后，根据所述可回收资源以及所述当前可用资源确定所述可分配资源，其中，所述可分配资源的大小等于所述可回收资源与所述当前可用资源的资源总和的大小。可选地，在又一实施例中，在所述当前资源利用率大于所述预设资源利用率时，可增大为所述其他客户端分配的资源，以实时调整其他客户端的分配的资源，以提高资源的资源利用率。可选地，基于第一实施例，根据所述可分配资源、所述目标云桌面类型以及所述待分配资源确定所述目标待分配资源时，会出现待分配资源或所述目标云桌面类型的桌面云资源超出所述可分配资源的情况，在所述待分配资源或所述目标云桌面类型的桌面云资源超出所述可分配资源时，扩充所述可分配资源，将扩充后的可分配资源作为目标待分配资源分配至所述目标客户端的目标虚拟机中，其中，扩充所述可分配资源的方式包括：获取已分配资源的其他客户端的用户行为数据，根据所述用户行为数据确定各个其他客户端的资源利用率，并筛选出资源利用率小于或等于预设资源利用率的目标其他客户端，提取目标其他客户端的用户行为数据中的特征数据，根据预设计算公式得到所述目标其他客户端对应的计算结果，根据所述计算结果确定所述目标其他客户端的分配等级，根据所述分配资源确定所述目标其他客户端的应分配资源，根据所述目标其他客户端的应分配资源以及所述目标其他客户端的已分配资源确定可回收资源，根据所述可回收资源扩充所述可分配资源。可选地，在又一实施例中，获取可分配资源的方式还可以包括实时检测其他客户端的用户行为数据，根据所述用户行为数据实时检测所述其他客户端的应分配资源，并基于所述应分配资源以及已分配资源调整为所述其他客户端配置的资源，调整的方式包括增大分配的资源以及减少分配的资源，在所述应分配资源大于所述已分配资源时，减少分配的资源，即回收部分资源，在所述应分配资源小于所述已分配资源，增大分配的资源，即为所述其他客户端分配的资源的大小等于所述应分配资源。在本申请实施例中，通过检测其他客户端的用户行为数据，根据所述用户行为数据确定其他客户端的资源利用率，在确定所述资源利用率小于或等于预设资源利用率，根据其他客户端的用户行为数据确定其他客户端的应分配资源，根据应分配资源以及已分配资源确定可回收资源，并将所述可回收资源进行回收，以扩充可分配资源，将扩充后的所述可分配资源确定为所述可分配资源；在确定所述资源利用率大于或等于预设资源利用率时，可根据其他客户端的用户行为数据确定应分配资源，并根据所述应分配资源以及所述已分配资源为所述其他客户端的虚拟机配置更多的资源，本申请实施例通过实时检测其他客户端的用户行为数据，并根据用户行为数据实时调整已分配资源的其他客户端的资源，避免了资源的浪费，以及满足各个客户端的资源需求，从而提高了资源利用率。第三实施例基于第一实施例以及第二实施例，本申请实施例还提出基于用户行为的云桌面资源配置方法第三实施例，参照图7，所述S23包括：步骤S231，根据所述目标云桌面类型确定目标虚拟机以及根据所述历史操作信息确定发送登录请求的目标客户端的业务参数阈值；步骤S232，根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果；步骤S233，在所述压力测试结果满足预设条件时，将所述待分配资源确定为所述目标待分配资源。步骤S234，在所述压力测试结果不满足预设条件时，调整所述待分配资源，并返回执行根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果的步骤。在本申请实施例中，所述目标虚拟机为所述目标客户端对应的虚拟机，所述业务参数阈值可根据所述历史操作信息确定，所述业务参数阈值包括预设并发数量，预设业务响应时间以及预设响应正确率的至少一种，其中，所述预设业务并发数量根据所述目标客户端之前使用虚拟机的最高业务并发数量确定，所述预设业务并发数量还可以根据所述目标客户端之前使用虚拟机的业务并发数量的平均业务并发数量确定；所述业务响应时间根据所述目标客户端之前使用虚拟机时的最短业务响应时间确定，还可以根据所述目标客户端之前使用虚拟机的平均业务响应时间确定；所述预设响应正确率根据所述目标客户端之前使用虚拟机时的最高响应正确率确定，还可以根据所述目标客户端之前使用虚拟机的平均响应正确率确定。可选地，所述业务参数阈值还可以根据所述目标客户端的业务请求信息确定，所述业务请求信息包括业务并发量、业务响应时间、响应正确率，在获取所述业务请求信息后，将所述业务请求信息确定为所述业务参数阈值。可选地，为了进一步的提高虚拟机的性能，本申请实施例在确定所述待分配资源后，根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果，具体地，根据预设业务并发数量对所述目标虚拟机进行压力测试，以获取所述目标虚拟机在所述预设业务并发数量下的业务响应时间以及响应正确率，以判断所述目标虚拟机在所述预设业务并发数量下的业务响应时间以及响应正确率是否满足预设条件，若满足预设条件，则所述待分配资源可以满足用户的性能需求，若不满足预设条件，则确定所述待分配资源无法满足用户的性能需求或所述待分配资源满足用户的性能需求但造成资源的浪费，此时需要提高或减少待分配资源。可选地，所述预设条件包括预设业务响应时间以及所述预设响应正确率，可以理解的是，所述预设条件根据所述业务参数阈值确定，所述压力测试结果包括所述目标虚拟机在所述预设业务并发数量下的业务响应时间以及响应正确率，在获取所述压力测试结果后，判断所述压力测试结果是否满足预设条件，在所述压力测试结果满足所述预设条件时，将所述可分配资源确定所述目标待分配资源，在所述压力测试结果不满足所述预设条件时，调整所述可分配资源，并返回执行根据所述业务参数阈值以及所述待分配资源对所述目标虚拟机执行压力测试，以获取所述目标虚拟机的压力测试结果的步骤，直至所述目标虚拟机在所述待分配资源下进行压力测试时的压力测试结果满足所述预设条件，其中，可选地，在所述压力测试结果不满足所述预设条件时，调整所述可分配资源的方式包括增大所述待分配资源或减少待分配资源。可选地，在又一实施例中，所述预设条件还可以包括所述目标虚拟机的预设资源利用率，所述压力测试结果包括所述目标虚拟机的资源利用率，在所述资源利用率小于所述预设资源利用率时，确定所述压力测试结果不满足预设条件，则增大所述待分配资源或减少所述待分配资源。可选地，在所述压力测试结果不满足所述预设条件时，证明所述预设计算公式计算得出的所述分配等级以及根据所述分配等级确定待分配资源出现误差，此时，在将待分配资源进行不断调整后，直至压力测试结果满足预设条件时，可根据最后一次调整得到的待分配资源修正所述预设计算公式，和/或根据最后一次调整得到的待分配资源修正所述预设分配等级区间，和/或根据所述最后一次调整得到的待分配资源修正所述分配等级与待分配资源的对应关系，以供所述预设计算公式根据最后一次调整得到的待分配资源进行不断调整，以提高预设计算公式的准确率。可选地，修正所述预设计算公式的方式包括修正所述第一系数，第二系数，第三系数，第四系数，第五系数以及第六系数，还可以包括修正所述单次使用时长的调节参数，还可以包括修正所述业务类型对应的相关性系数，还可以包括修正预设业务并发量，还可以包括修正预设业务响应时间以及预设比例。在本申请实施例中，在获取所述待分配资源后，根据所述目标客户端的历史操作信息确定业务参数阈值，根据所述待分配资源以及所述业务参数阈值对所述目标客户端对应的目标虚拟机进行压力测试，以判断为所述目标虚拟机配置所述待分配资源后，所述目标虚拟机的压力测试结果是否满足预设条件，若是，将所述待分配资源确定为所述目标待分配资源，并将所述目标待分配资源分配至所述目标虚拟机中，若否，调整所述待分配资源，并根据调整后的待分配资源继续对所述目标虚拟机进行压力测试，直至所述目标虚拟机在调整后的待分配的资源的情况下进行压力测试的压力测试结果满足预设条件，并将最后一次调整得到的待分配资源确定为所述目标待分配资源，同时，根据最后一次调整得到的待分配资源修正所述预设计算公式，和/或根据最后一次调整得到的待分配资源修正所述预设分配等级区间，和/或根据所述最后一次调整得到的待分配资源修正所述分配等级与待分配资源的对应关系，以供所述预设计算公式根据最后一次调整得到的待分配资源进行不断调整，以提高预设计算公式的准确率，从而提高了分配资源的准确性以及利用率。此外，本发明实施例还提出一种计算机可读存储介质，所述计算机可读存储介质上存储有基于用户行为的云桌面资源配置程序，所述基于用户行为的云桌面资源配置程序被处理器执行时实现如上所述的各个实施例的步骤。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在如上所述的一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
