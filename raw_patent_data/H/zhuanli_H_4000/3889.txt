标题title
一种城市配电网与流域水系网灵活性联动运行方法
摘要abst
本发明公开了一种城市配电网与流域水系网灵活性联动运行方法，本发明能够实施泵站灵活性资源参与的电‑水能流交互式优化，充分挖掘流域水系网的灵活性潜力提升电网运行灵活性，以实现城市配电网与流域水系网灵活性联动运行；具体的，本发明分别构建了流域水系网水力能流优化模型和城市配电网电力能流优化模型，将泵站负荷作为灵活性资源参与配电网运行调度；即本发明通过电‑水能流交互式优化能够有效利用泵站负荷的时空灵活性以减小电网负荷峰谷差，从而实现流域水系网辅助配电网安全运行；即本发明能够评估并量化电驱排灌泵站负荷的时空灵活性资源，从而解决城市配电网与流域水系网灵活性联动运行的问题。
权利要求书clms
1.一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，包括：基于圣维南非线性双曲偏微分方程组建立流域水系网动态运行模型；基于流域水系网动态运行模型建立河道湖泊蓄水模型；基于流域水系网动态运行模型和配电网交流潮流线性化模型建立排灌泵站功率-流量运行模型以耦合城市配电网和流域水系网运行模型；利用泰勒展开式构建水位-功率复合灵敏度矩阵以反映流域水系网各节点水位及流量的变化量与泵站功率增量之间的数学关系；基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法以量化泵站负荷的时变可调功率域：获取泵站的时变可调功率域，预估泵站负荷的最大可调功率范围，依次计算水位-功率复合灵敏度及其修正量，将可调功率域进行修正，直至没有水位越限；分别构建城市配电网电力能流优化模型与流域水系网水力能流优化模型，结合多维分段线性方法将非凸非线性水力能流优化问题转化为易求解的混合整数线性规划问题；基于城市配电网和流域水系网运行模型、泵站负荷的时变可调功率域、基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法、城市配电网电力能流优化模型与流域水系网水力能流优化模型，实施泵站灵活性资源参与的电-水能流交互式优化，以实现城市配电网与流域水系网灵活性联动运行。2.根据权利要求1所述的一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，所述基于圣维南非线性双曲偏微分方程组建立流域水系网动态运行模型，包括：通过沿渠道方向的圣维南非线性双曲偏微分方程组刻画河道水位和流量水力状态，以得到质量守恒方程和动量守恒方程，其中，所述质量守恒方程为：所述动量守恒方程为： 其中，所述动量守恒方程满足：式中，为时间；为沿河道轴向坐标；为流量；为水流横截面积；为降雨强度；为河道水位；为重力加速度；为河床坡度；为河道摩阻；为曼宁系数；为河道湿周；为降雨强度。3.根据权利要求2所述的一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，所述通过沿渠道方向的圣维南非线性双曲偏微分方程组刻画河道水位和流量水力状态，以得到质量守恒方程和动量守恒方程，之后还包括：将所述质量守恒方程简化为：将所述动量守恒方程简化为：式中，H为河流深度，为河流宽度，A为河流横截面积，且有，且满足，V表示河道水流速度，为河道湿周，且满足，q表示河道单位宽度的流量，且满足，为河道流量；采用Preissmann四点隐式格式得到圣维南非线性双曲偏微分方程组的近似离散形式；将连续时空域以空间步长和时间步长划分为均匀矩形网格，其中，L为河道长度，T为时间范围上界，矩形网格上各点的编号为，n为时间节点编号，j为空间节点编号，，且表示时间节点编号集合，，且表示空间节点编号集合，且满足： ；将公式和公式在时间和空间上离散，以得到如下代数方程：式中，表示权重系数，用来确保无条件稳定，的取值范围为，当时，Preissmann四点隐式格式为无条件稳定；为空间节点j+1及时间节点n+1处的河道水位；为空间节点j及时间节点n+1处的河道水位；为空间节点j+1及时间节点n+1处的河道单位宽度流量；为空间节点j及时间节点n+1处的河道单位宽度流量；为空间节点j及时间节点n处的河道单位宽度流量；为空间节点j+1及时间节点n+1处的河道降雨强度；为空间节点j及时间节点n+1处的河道降雨强度；为空间节点j+1及时间节点n+1处的根据公式 定义的I值；为空间节点j及时间节点n+1处的根据公式 定义的R值；为空间节点j及时间节点n处的河道宽度；对流域水系网内的每条河道实施公式-公式表示的时空离散过程；确定一组初始条件和边界条件以保证时空离散的代数方程组的封闭性和解唯一性；其中，通过水文站观测到初始时段的河道水位和流速分布：河道上下游边界条件如下所示： 式中，表示河道I在空间节点j及时间节点n的水位，表示河道I在空间节点j及时间节点n的流量；表示河道I在空间节点j的初始水位；表示河道I在空间节点j的初始流量；为河道集合；为河道I在沿渠道方向x处给定的初始水位，为河道I在沿渠道方向x处给定的初始流量；为河道I的上边界条件，为河道I的下游边界条件，，且为河道I的空间节点编号集合，为河道I的空间节点编号最大值；将河道的流量和水位限制在一个预设允许范围内，如下式所示： 式中，为河道I的河宽，为河道I的流量的上边界，为河道I的水位的上边界，为河道I的流量的下边界，为河道I的水位的下边界；其中，在河道水流交汇节点z处，所有河道的水位均相等，即满足如下公式： 根据质量守恒定理得到节点流入量等于节点流出量，即满足如下公式： 式中，Z为流域水系网的交汇点集合；表示水流流入交汇节点z的河道集合，表示水流流出交汇节点z的河道集合；为n时刻泵站k的流量；为连接在交汇点z的泵站集合；为给定值，表示n时刻泵站k抽水，表示n时刻泵站k排水；m为河道编号索引；Z为流域水系网的交汇点集合；为n时刻河道m下游端的单位宽度流量，也即河道m在空间节点Jm及时间节点n处的单位宽度流量；为河道m的河宽；为河道i的河宽；为n时刻河道i上游端的单位宽度流量。4.根据权利要求3所述的一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，所述基于流域水系网动态运行模型建立河道湖泊蓄水模型，包括：将n时刻河道I的蓄水体积表示为： 其中，河道蓄水状态应限制在预设范围内，故满足： 式中，表示河道I在空间节点j及时间节点n的水位；为河道I的河宽；为河道I的最小蓄水体积，为河道I的最大蓄水体积；为河道I的最大空间节点编号；获取每时段湖泊排水量和水位的关系式： 获取湖泊的当前容积关系： 获取湖泊安全运行约束关系： 式中，为湖泊的面积；为n时刻湖泊的水位；表示湖泊的径流系数；为湖泊的集水面积；为n时刻湖泊k的蓄水量；为湖泊蓄水量的下限，和为湖泊蓄水量的上限；为湖泊集合；表示与湖泊相连接的泵站集合；为n时刻泵站i的流量；为n时刻湖泊k位置处的降雨强度；为n时刻泵站i的运行状态。5.根据权利要求4所述的一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，所述基于流域水系网动态运行模型和配电网交流潮流线性化模型建立排灌泵站功率-流量运行模型以耦合城市配电网和流域水系网运行模型，包括：基于流域水系网动态运行模型建立配电网交流潮流线性化模型以表征电网线路功率运行约束、发电机运行约束和节点有功平衡运行约束，其中，支路的有功潮流为： 支路的有功潮流为： 式中，表示线路的电阻，表示线路的电抗；表示由母线流向到母线的有功功率，表示由母线流向到母线的无功功率；为母线的相角；为母线的电压幅值；为母线的相角；为母线的电压幅值；，表示配电网的时间节点编号集合；其中，支路潮流和电压幅值满足如下安全约束：式中，为线路的容量；为母线允许的最小电压，为母线允许的最大电压；获取分布式发电机的输出功率限制： 获取分布式发电机的爬坡限制： 获取分布式发电机的容量限制： 获取节点功率平衡公式：式中，为时刻分布式发电机g发出的有功功率，为时刻分布式发电机g发出的无功功率；表示分布式发电机g的输出功率的允许上界，表示分布式发电机g的输出功率的允许下界表示分布式发电机g的爬坡率的允许上界，和表示分布式发电机g的爬坡率的允许下界；为发电机集合；为连接电网母线j的发电机集合；为连接在母线j上的泵站集合；为电网母线集合；表示功率流入母线j的线路集合；表示功率流出母线j的线路集合；表示母线j上除排水泵站负荷外的有功负荷，分别表示母线j上除排水泵站负荷外的无功负荷；为配电网对于泵站p的灵活性功率利用量；为分布式发电机g的最大容量约束；为n时刻电网线路jk上传输的有功功率；为n时刻电网线路ij上传输的无功功率；为n时刻泵站p的有功负荷；为n时刻电网线路ij上传输的有功功率。6.根据权利要求5所述的一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，所述基于流域水系网动态运行模型和配电网交流潮流线性化模型建立排灌泵站功率-流量运行模型以耦合城市配电网和流域水系网运行模型，还包括：获取河道和湖泊节点泵站的功率-流量关系： 获取泵站运行功率限制公式：获取泵站无功功率需求约束： 式中，为流域水系网的泵站集合；为泵站i的耗电功率；为泵站i的无功功率需求；为泵站i的运行效率；为泵站i的最大爬坡功率；表示泵站i的水头；为水的密度；为泵站i的最小流量，为泵站i的最大流量；为泵站i的功率因数。7.根据权利要求6所述的一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，所述利用泰勒展开式构建水位-功率复合灵敏度矩阵以反映流域水系网各节点水位及流量的变化量与泵站功率增量之间的数学关系，包括：将公式和公式扩展为： 式中，为定义的函数统称，的下标1和2表示选用或，表示n时刻调整泵站功率后节点j处水位的变化量；为河道在空间节点j及时间节点n的水位，表示n时刻调整泵站功率后节点j处流量的变化量；为河道在空间节点j及时间节点n的流量；获取n时刻单一河道在不同扰动下的灵敏度矩阵： 式中，为灵敏度系数矩阵；表示节点水位和流量的变化量矩阵，和中元素值为常数，且矩阵中的元素值分别等于水位和流量在n时刻的偏导值，的元素为函数f1及f2时空差分结果与的乘积；a0、b0和F1由上游边界条件决定，c2J、d2J和F2J由下游边界条件决定；其中，所述元素值由如下公式得到： 根据公式和公式得到泵站运行功率灵敏度与其所在河道节点流量灵敏度的关系，其中，公式为： 公式为： 式中，PI为与河道I相连的泵站编号；表示或对的偏导数，表示n时刻与河道I相连的泵站功率，表示n时刻与河道I相连的泵站流量，为与河道I相连的泵站水头，为与河道I相连的泵站效率；将所述公式和所述公式代入所述灵敏度矩阵，以将灵敏度系数矩阵扩展为矩阵，从而将单一河道的水位-功率复合灵敏度矩阵表示为： 式中，为河道I的灵敏度系数扩展矩阵；为河道I的节点水位和流量的变化量扩展矩阵，当前时刻的常数矩阵，的元素为函数f1及f2时空差分结果与的乘积；表示位于河道I上游的泵站功率增量，表示位于河道I下游的泵站功率增量；；表示位于河道I上游的泵站流量；表示位于河道I下游的泵站流量；表示位于河道I上游的泵站功率；表示位于河道I下游的泵站流量；将流域水系网内所有河道的灵敏度矩阵进行组合，得到流域水系网的水位-功率复合灵敏度矩阵： 式中，为河道I的灵敏度系数扩展矩阵；为河道I的，表示节点水位和流量的变化量扩展矩阵；为河道I的F矩阵；I*为流域水系网的总河道数。8.根据权利要求7所述的一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，所述获取泵站的时变可调功率域，包括：将n时刻泵站i的时变可调功率域表示为： 式中，表示泵站i的运行功率上限，表示泵站i的运行功率下限；表示河道i或湖泊i的基准蓄水量；表示泵站i的基础运行功耗；为在灵活性供应期间泵站负荷能增加或减少的功率，为n时刻泵站i的时变可调功率可行域；表示实数集合；为湖泊最小容积；为湖泊最大容积；为n时刻湖泊基准蓄水量；为与河道i或湖泊i相连的泵站功率；为在灵活性供应期间与河道i或湖泊i相连泵站负荷能增加或减少的功率；为与湖泊i相连泵站的集合；为与河道i相连泵站的集合；与河道i或湖泊i相连泵站的集合；为河道最小蓄水量；为河道i的最大蓄水量；为n时刻河道i的基准蓄水量；所述预估泵站负荷的最大可调功率范围，包括：通过基础场景下的流域水系网优化调度得到泵站负荷的基准能耗，并预估泵站负荷的最大可调功率范围；所述将可调功率域进行修正，直至没有水位越限；包括：将柔性排涝泵站负荷的时变可调功率域表示为如下式：式中，表示可调功率域上限列向量，表示可调功率域下限列向量；上限列向量为正值时，表示本时刻增加泵站的功耗抽排雨水；下限列向量为负值时，表示降低泵站功率和在河道或湖泊中存蓄雨水；为n时刻泵站i的真实时变可调功率可行域；为n时刻泵站i的近似时变可调功率域；为忽略高阶项后与真实时变可调功率域的差值。9.根据权利要求8所述的一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，所述分别构建城市配电网电力能流优化模型与流域水系网水力能流优化模型，结合多维分段线性方法将非凸非线性水力能流优化问题转化为易求解的混合整数线性规划问题，包括：对流域水系网中分散分布的泵站群进行协同滚动优化调度，其中，根据未来时刻降雨预测的不确定性生成多个随机场景，流域水系网水力能流优化目标旨在最小化泵站群运行成本，所述运行成本包括泵站群用电成本及未来场景下泵站群的期望运行成本，且流域水系网水力能流优化模型为：s.t. 公式-公式，公式-公式式中，为n时刻的泵站群运行成本；为场景s下n时刻的泵站群运行成本；n0为优化起始时刻；为随机场景总数；为滚动时间窗口长度；表示场景相关发生概率，且满足：；为n时刻的配电网的售电电价；构建配电网电力能流优化模型，以当前时刻运行成本最小为目标，利用泵站负荷的灵活性资源优化电网潮流及各发电机运行功率，其中，所述运行成本包括从上级电网购电的费用，发电机运行成本、流域水系网灵活性资源的激励成本以及售电收益，所述配电网电力能流优化模型为： 式中，为n时刻上级电网电价，为n时刻配电网从上级电网的购电量，为n时刻配电网的灵活性资源激励价格，为发电机g的成本系数，为n时刻泵站i提供的可调功率域下界，为n时刻泵站i提供的可调功率域上界，为引入的辅助变量；为n时刻配电网制定的泵站i功率调整量。10.根据权利要求9所述的一种城市配电网与流域水系网灵活性联动运行方法，其特征在于，所述基于城市配电网和流域水系网运行模型、泵站负荷的时变可调功率域、城市配电网电力能流优化模型与流域水系网水力能流优化模型，实施泵站灵活性资源参与的电-水能流交互式优化，以实现城市配电网与流域水系网灵活性联动运行，包括：对城市配电网和流域水系网运行模型进行初始化设置：令当前调度时刻n=1，调度周期为24h，将各河道的设置为100m，将各河道的统一设置为1h；于城市配电网和流域水系网运行模型输入参数，其中，所述参数包括：流域水系网拓扑信息、各河道宽度和长度，n-1时刻流域水系网各河道的节点水位和流量、n-1时刻泵站的运行状态及功率、配电网拓扑信息、各节点负荷信息和配电网内各分布式发电机在n-1时刻的运行状态及功率，其中，和作为流域水系网的初始条件；基于流域水系网水力能流优化模型，优化当前时刻的泵站运行功率及流域水系网各河道水力能流状态，以得到各泵站当前调度时刻的最优运行功率；基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法计算各泵站的时变可调灵活功率域，并将流域水系网各泵站的及时变可调灵活功率域传送给配电网；基于配电网电力能流优化模型，优化计算得到配电网所需的流域水系网各泵站灵活性功率值，将其传送至各泵站，并向流域水系网各泵站支付激励费用；基于流域水系网水力能流优化模型，接收配电网提供的灵活性功率需求量信息，将各泵站功率由调整为 ，以进行流域水系网水力能流计算，从而更新n时刻流域水系网各节点的水位和流量状态信息；判断所述交互式优化是否结束：令n=n+1，判断是否满足：，若是，再次执行所述于城市配电网和流域水系网运行模型输入参数，及之后的步骤，若否，结束所述交互式优化。
说明书desc
技术领域本发明涉及配电网技术领域，具体涉及一种城市配电网与流域水系网灵活性联动运行方法。背景技术电驱排灌泵站是将电能转化为水能进行排灌或供水的流域水系网重要提水设施。国际能源署报道称全球4%的发电量被流域水系网的泵站负荷消耗，电驱排灌泵设备用电量约占流域水系网总负荷的90%，故城市配电网与流域水系网紧密耦合形成电-水互联网络。为避免降雨天气下支流河道出现溢流，泵站用电负荷在短时期内显著增长。尤其在降雨频发的夏季，泵站激增负荷与空调集群用电高峰期相互重叠，拉大了配电系统负荷峰谷，给配电系统的安全经济运行及负荷削峰带来显著挑战。流域水系网具有天然蓄水能力，可将雨水暂时储存在河湖内，并且泵站可将支流河道的部分盈余水体提前抽排至主河道，从而泵站负荷能够在电网负荷高峰期削减或转移至负荷低谷期。因此，流域水系网能够为配电网运行提供丰富的灵活性资源以缓解电网负荷高峰期供能压力，通过城市配电网与流域水系网灵活性联动运行优化能够实现流域水系网辅助配电网削峰填谷及供需动态平衡。流域水系网能够依托河湖的天然蓄水能力为电驱泵站提供排水时空灵活性，向配电网提供丰富可调的低成本灵活性资源。但是受流域水系网动态特性及降雨时空分布不均的影响，泵站功率增量对河道水位及流量的影响难以精确量化，电驱泵站的时空灵活性评估困难。此外，流域水系网的复杂水动力特性由非线性双曲偏微分方程组表征，导致流域水系网的水力能流优化模型中含有大量的非线性偏微分约束，造成优化模型高维非线性，难以利用现有优化算法求解。因此本领域亟需一种城市配电网与流域水系网灵活性联动运行方案，以评估并量化电驱排灌泵站负荷的时空灵活性资源，并在此基础上通过计算电-水最优能流来充分发挥流域水系网的灵活性调节能力，从而缓解配电系统高峰时期供电压力，辅助配电网安全经济运行。发明内容本发明的主要目的是提供一种城市配电网与流域水系网灵活性联动运行方法，旨在解决亟需一种城市配电网与流域水系网灵活性联动运行方案，以评估并量化电驱排灌泵站负荷的时空灵活性资源的问题。本发明提出的技术方案为：一种城市配电网与流域水系网灵活性联动运行方法，包括：基于圣维南非线性双曲偏微分方程组建立流域水系网动态运行模型；基于流域水系网动态运行模型建立河道湖泊蓄水模型；基于流域水系网动态运行模型和配电网交流潮流线性化模型建立排灌泵站功率-流量运行模型以耦合城市配电网和流域水系网运行模型；利用泰勒展开式构建水位-功率复合灵敏度矩阵以反映流域水系网各节点水位及流量的变化量与泵站功率增量之间的数学关系；基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法以量化泵站负荷的时变可调功率域：获取泵站的时变可调功率域，预估泵站负荷的最大可调功率范围，依次计算水位-功率复合灵敏度及其修正量，将可调功率域进行修正，直至没有水位越限；分别构建城市配电网电力能流优化模型与流域水系网水力能流优化模型，结合多维分段线性方法将非凸非线性水力能流优化问题转化为易求解的混合整数线性规划问题；基于城市配电网和流域水系网运行模型、泵站负荷的时变可调功率域、基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法、城市配电网电力能流优化模型与流域水系网水力能流优化模型，实施泵站灵活性资源参与的电-水能流交互式优化，以实现城市配电网与流域水系网灵活性联动运行。优选的，所述基于圣维南非线性双曲偏微分方程组建立流域水系网动态运行模型，包括：通过沿渠道方向的圣维南非线性双曲偏微分方程组刻画河道水位和流量水力状态，以得到质量守恒方程和动量守恒方程，其中，所述质量守恒方程为：所述动量守恒方程为：其中，所述动量守恒方程满足：式中，为时间；为沿河道轴向坐标；为流量；为水流横截面积；为降雨强度；为河道水位；为重力加速度；为河床坡度；为河道摩阻；为曼宁系数；为河道湿周；为降雨强度。优选的，所述通过沿渠道方向的圣维南非线性双曲偏微分方程组刻画河道水位和流量水力状态，以得到质量守恒方程和动量守恒方程，之后还包括：将所述质量守恒方程简化为：将所述动量守恒方程简化为：式中，H为河流深度，为河流宽度，A为河流横截面积，且有，且满足，V表示河道水流速度，为河道湿周，且满足，q表示河道单位宽度的流量，且满足，为河道流量；采用Preissmann四点隐式格式得到圣维南非线性双曲偏微分方程组的近似离散形式；将连续时空域以空间步长和时间步长划分为均匀矩形网格，其中，L为河道长度，T为时间范围上界，矩形网格上各点的编号为，n为时间节点编号，j为空间节点编号，，且表示时间节点编号集合，，且表示空间节点编号集合，且满足： ；将公式和公式在时间和空间上离散，以得到如下代数方程：式中，表示权重系数，用来确保无条件稳定，的取值范围为，当时，Preissmann四点隐式格式为无条件稳定；为空间节点j+1及时间节点n+1处的河道水位；为空间节点j及时间节点n+1处的河道水位；为空间节点j+1及时间节点n+1处的河道单位宽度流量；为空间节点j及时间节点n+1处的河道单位宽度流量；为空间节点j及时间节点n处的河道单位宽度流量；为空间节点j+1及时间节点n+1处的河道降雨强度；为空间节点j及时间节点n+1处的河道降雨强度；为空间节点j+1及时间节点n+1处的根据公式 定义的I值；为空间节点j及时间节点n+1处的根据公式定义的R值；为空间节点j及时间节点n处的河道宽度；对流域水系网内的每条河道实施公式-公式表示的时空离散过程；确定一组初始条件和边界条件以保证时空离散的代数方程组的封闭性和解唯一性；其中，通过水文站观测到初始时段的河道水位和流速分布：河道上下游边界条件如下所示：式中，表示河道I在空间节点j及时间节点n的水位，表示河道I在空间节点j及时间节点n的流量； 表示河道I在空间节点j的初始水位；表示河道I在空间节点j的初始流量；为河道集合；为河道I在沿渠道方向x处给定的初始水位，为河道I在沿渠道方向x处给定的初始流量；为河道I的上边界条件，为河道I的下游边界条件，，且为河道I的空间节点编号集合，为河道I的空间节点编号最大值；将河道的流量和水位限制在一个预设允许范围内，如下式所示： 式中，为河道I的河宽，为河道I的流量的上边界，为河道I的水位的上边界，为河道I的流量的下边界，为河道I的水位的下边界；其中，在河道水流交汇节点z处，所有河道的水位均相等，即满足如下公式： 根据质量守恒定理得到节点流入量等于节点流出量，即满足如下公式： 式中，Z为流域水系网的交汇点集合；表示水流流入交汇节点z的河道集合，表示水流流出交汇节点z的河道集合；为n时刻泵站k的流量；为连接在交汇点z的泵站集合；为给定值，表示n时刻泵站k抽水，表示n时刻泵站k排水；m为河道编号索引；Z为流域水系网的交汇点集合；为n时刻河道m下游端的单位宽度流量，也即河道m在空间节点Jm及时间节点n处的单位宽度流量；为河道m的河宽；为河道i的河宽；为n时刻河道i上游端的单位宽度流量。优选的，所述基于流域水系网动态运行模型建立河道湖泊蓄水模型，包括：将n时刻河道I的蓄水体积表示为： 其中，河道蓄水状态应限制在预设范围内，故满足： 式中，表示河道I在空间节点j及时间节点n的水位；为河道I的河宽；为河道I的最小蓄水体积，为河道I的最大蓄水体积；为河道I的最大空间节点编号；获取每时段湖泊排水量和水位的关系式： 获取湖泊的当前容积关系： 获取湖泊安全运行约束关系： 式中，为湖泊的面积；为n时刻湖泊的水位；表示湖泊的径流系数；为湖泊的集水面积；为n时刻湖泊k的蓄水量；为湖泊蓄水量的下限，和为湖泊蓄水量的上限；为湖泊集合；表示与湖泊相连接的泵站集合；为n时刻泵站i的流量；为n时刻湖泊k位置处的降雨强度；为n时刻泵站i的运行状态。优选的，所述基于流域水系网动态运行模型和配电网交流潮流线性化模型建立排灌泵站功率-流量运行模型以耦合城市配电网和流域水系网运行模型，包括：基于流域水系网动态运行模型建立配电网交流潮流线性化模型以表征电网线路功率运行约束、发电机运行约束和节点有功平衡运行约束，其中，支路的有功潮流为： 支路的有功潮流为： 式中，表示线路的电阻，表示线路的电抗；表示由母线流向到母线的有功功率，表示由母线流向到母线的无功功率；为母线的相角；为母线的电压幅值；为母线的相角；为母线的电压幅值；，表示配电网的时间节点编号集合；其中，支路潮流和电压幅值满足如下安全约束：式中，为线路的容量；为母线允许的最小电压，为母线允许的最大电压；获取分布式发电机的输出功率限制： 获取分布式发电机的爬坡限制： 获取分布式发电机的容量限制： 获取节点功率平衡公式：式中，为时刻分布式发电机g发出的有功功率，为时刻分布式发电机g发出的无功功率；表示分布式发电机g的输出功率的允许上界，表示分布式发电机g的输出功率的允许下界表示分布式发电机g的爬坡率的允许上界，和表示分布式发电机g的爬坡率的允许下界；为发电机集合；为连接电网母线j的发电机集合；为连接在母线j上的泵站集合；为电网母线集合；表示功率流入母线j的线路集合；表示功率流出母线j的线路集合；表示母线j上除排水泵站负荷外的有功负荷，分别表示母线j上除排水泵站负荷外的无功负荷；为配电网对于泵站p的灵活性功率利用量；为分布式发电机g的最大容量约束；为n时刻电网线路jk上传输的有功功率；为n时刻电网线路ij上传输的无功功率；为n时刻泵站p的有功负荷；为n时刻电网线路ij上传输的有功功率。优选的，所述基于流域水系网动态运行模型和配电网交流潮流线性化模型建立排灌泵站功率-流量运行模型以耦合城市配电网和流域水系网运行模型，还包括：获取河道和湖泊节点泵站的功率-流量关系： 获取泵站运行功率限制公式：获取泵站无功功率需求约束： 式中，为流域水系网的泵站集合；为泵站i的耗电功率；为泵站i的无功功率需求；为泵站i的运行效率；为泵站i的最大爬坡功率；表示泵站i的水头；为水的密度；为泵站i的最小流量，为泵站i的最大流量；为泵站i的功率因数。优选的，所述利用泰勒展开式构建水位-功率复合灵敏度矩阵以反映流域水系网各节点水位及流量的变化量与泵站功率增量之间的数学关系，包括：将公式和公式扩展为： 式中，为定义的函数统称，的下标1和2表示选用或，表示n时刻调整泵站功率后节点j处水位的变化量；为河道在空间节点j及时间节点n的水位，表示n时刻调整泵站功率后节点j处流量的变化量；为河道在空间节点j及时间节点n的流量；获取n时刻单一河道在不同扰动下的灵敏度矩阵： 式中，为灵敏度系数矩阵；表示节点水位和流量的变化量矩阵，和中元素值为常数，且矩阵中的元素值分别等于水位和流量在n时刻的偏导值，的元素为函数f1及f2时空差分结果与的乘积；a0、b0和F1由上游边界条件决定，c2J、d2J和F2J由下游边界条件决定；其中，所述元素值由如下公式得到： 根据公式和公式得到泵站运行功率灵敏度与其所在河道节点流量灵敏度的关系，其中，公式为： 公式为： 式中，PI为与河道I相连的泵站编号；表示或对的偏导数，表示n时刻与河道I相连的泵站功率，表示n时刻与河道I相连的泵站流量，为与河道I相连的泵站水头，为与河道I相连的泵站效率；将所述公式和所述公式代入所述灵敏度矩阵，以将灵敏度系数矩阵扩展为矩阵 ，从而将单一河道的水位-功率复合灵敏度矩阵表示为： 式中，为河道I的灵敏度系数扩展矩阵；为河道I的节点水位和流量的变化量扩展矩阵，当前时刻的常数矩阵，的元素为函数f1及f2时空差分结果与的乘积；表示位于河道I上游的泵站功率增量，表示位于河道I下游的泵站功率增量；表示位于河道I上游的泵站流量；表示位于河道I下游的泵站流量；表示位于河道I上游的泵站功率；表示位于河道I下游的泵站流量；将流域水系网内所有河道的灵敏度矩阵进行组合，得到流域水系网的水位-功率复合灵敏度矩阵： 式中，为河道I的灵敏度系数扩展矩阵；为河道I的，表示节点水位和流量的变化量扩展矩阵；为河道I的F矩阵；I*为流域水系网的总河道数。优选的，所述获取泵站的时变可调功率域，包括：将n时刻泵站i的时变可调功率域表示为：式中，表示泵站i的运行功率上限，表示泵站i的运行功率下限；表示河道i或湖泊i的基准蓄水量；表示泵站i的基础运行功耗；为在灵活性供应期间泵站负荷能增加或减少的功率，为n时刻泵站i的时变可调功率可行域；表示实数集合；为湖泊最小容积；为湖泊最大容积；为n时刻湖泊基准蓄水量；为与河道i或湖泊i相连的泵站功率；为在灵活性供应期间与河道i或湖泊i相连泵站负荷能增加或减少的功率；为与湖泊i相连泵站的集合；为与河道i相连泵站的集合；与河道i或湖泊i相连泵站的集合；为河道最小蓄水量；为河道i的最大蓄水量；为n时刻河道i的基准蓄水量；所述预估泵站负荷的最大可调功率范围，包括：通过基础场景下的流域水系网优化调度得到泵站负荷的基准能耗，并预估泵站负荷的最大可调功率范围；所述将可调功率域进行修正，直至没有水位越限，包括：将柔性排涝泵站负荷的时变可调功率域表示为如下式：式中，表示可调功率域上限列向量，表示可调功率域下限列向量；上限列向量为正值时，表示本时刻增加泵站的功耗抽排雨水；下限列向量为负值时，表示降低泵站功率和在河道或湖泊中存蓄雨水；为n时刻泵站i的真实时变可调功率可行域；为n时刻泵站i的近似时变可调功率域；为忽略高阶项后与真实时变可调功率域的差值。优选的，所述分别构建城市配电网电力能流优化模型与流域水系网水力能流优化模型，结合多维分段线性方法将非凸非线性水力能流优化问题转化为易求解的混合整数线性规划问题，包括：对流域水系网中分散分布的泵站群进行协同滚动优化调度，其中，根据未来时刻降雨预测的不确定性生成多个随机场景，流域水系网水力能流优化目标旨在最小化泵站群运行成本，所述运行成本包括泵站群用电成本及未来场景下泵站群的期望运行成本，且流域水系网水力能流优化模型为：  s.t. 公式-公式，公式-公式式中，为n时刻的泵站群运行成本；为场景s下n时刻的泵站群运行成本；n0为优化起始时刻；为随机场景总数；为滚动时间窗口长度；表示场景相关发生概率，且满足：；为n时刻的配电网的售电电价；构建配电网电力能流优化模型，以当前时刻运行成本最小为目标，利用泵站负荷的灵活性资源优化电网潮流及各发电机运行功率，其中，所述运行成本包括从上级电网购电的费用，发电机运行成本、流域水系网灵活性资源的激励成本以及售电收益，所述配电网电力能流优化模型为： 式中，为n时刻上级电网电价，为n时刻配电网从上级电网的购电量，为n时刻配电网的灵活性资源激励价格，为发电机g的成本系数，为n时刻泵站i提供的可调功率域下界，为n时刻泵站i提供的可调功率域上界，为引入的辅助变量；为n时刻配电网制定的泵站i功率调整量。优选的，所述基于城市配电网和流域水系网运行模型、泵站负荷的时变可调功率域、城市配电网电力能流优化模型与流域水系网水力能流优化模型，实施泵站灵活性资源参与的电-水能流交互式优化，以实现城市配电网与流域水系网灵活性联动运行，包括：对城市配电网和流域水系网运行模型进行初始化设置：令当前调度时刻n=1，调度周期为24h，将各河道的设置为100m，将各河道的统一设置为1h；于城市配电网和流域水系网运行模型输入参数，其中，所述参数包括：流域水系网拓扑信息、各河道宽度和长度，n-1时刻流域水系网各河道的节点水位和流量、n-1时刻泵站的运行状态及功率、配电网拓扑信息、各节点负荷信息和配电网内各分布式发电机在n-1时刻的运行状态及功率，其中，和作为流域水系网的初始条件；基于流域水系网水力能流优化模型，优化当前时刻的泵站运行功率及流域水系网各河道水力能流状态，以得到各泵站当前调度时刻的最优运行功率；基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法计算各泵站的时变可调灵活功率域，并将流域水系网各泵站的及时变可调灵活功率域传送给配电网；基于配电网电力能流优化模型，优化计算得到配电网所需的流域水系网各泵站灵活性功率值，将其传送至各泵站，并向流域水系网各泵站支付激励费用；基于流域水系网水力能流优化模型，接收配电网提供的灵活性功率需求量信息，将各泵站功率由调整为，以进行流域水系网水力能流计算，从而更新n时刻流域水系网各节点的水位和流量状态信息；判断所述交互式优化是否结束：令n=n+1，判断是否满足：，若是，再次执行所述于城市配电网和流域水系网运行模型输入参数，及之后的步骤，若否，结束所述交互式优化。通过上述技术方案，能实现以下有益效果：本发明能够实施泵站灵活性资源参与的电-水能流交互式优化，充分挖掘流域水系网的灵活性潜力提升电网运行灵活性，以实现城市配电网与流域水系网灵活性联动运行；具体的，本发明分别构建了流域水系网水力能流优化模型和城市配电网电力能流优化模型，将泵站负荷作为灵活性资源参与配电网运行调度；即本发明通过电-水能流交互式优化能够有效利用泵站负荷的时空灵活性以减小电网负荷峰谷差，从而实现流域水系网辅助配电网安全运行；即本发明能够评估并量化电驱排灌泵站负荷的时空灵活性资源，从而解决城市配电网与流域水系网灵活性联动运行的问题。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图示出的结构获得其他的附图。图1为本发明提出的一种城市配电网与流域水系网灵活性联动运行方法第一实施例的流程图；图2为本发明提出的一种城市配电网与流域水系网灵活性联动运行方法第九实施例中多维分段线性方法示意图；图3为本发明提出的一种城市配电网与流域水系网灵活性联动运行方法第十实施例中流域水系网内泵站负荷的总可调功率域结果示意图；图4为本发明提出的一种城市配电网与流域水系网灵活性联动运行方法第十实施例中流域水系网内各河道水位变化情况。具体实施方式应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。本发明提出一种城市配电网与流域水系网灵活性联动运行方法。如附图1所示，在本发明提出的一种城市配电网与流域水系网灵活性联动运行方法的第一实施例中，本实施例包括如下步骤：步骤S110：基于圣维南非线性双曲偏微分方程组建立流域水系网动态运行模型。具体的，这里的圣维南非线性双曲偏微分方程组即为水动力偏微分方程组。步骤S120：基于流域水系网动态运行模型建立河道湖泊蓄水模型。步骤S130：基于流域水系网动态运行模型和配电网交流潮流线性化模型建立排灌泵站功率-流量运行模型以耦合城市配电网和流域水系网运行模型。步骤S140：利用泰勒展开式构建水位-功率复合灵敏度矩阵以反映流域水系网各节点水位及流量的变化量与泵站功率增量之间的数学关系。步骤S150：基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法以量化泵站负荷的时变可调功率域：获取泵站的时变可调功率域，预估泵站负荷的最大可调功率范围，依次计算水位-功率复合灵敏度及其修正量，将可调功率域进行修正，直至没有水位越限。步骤S160：分别构建城市配电网电力能流优化模型与流域水系网水力能流优化模型，结合多维分段线性方法将非凸非线性水力能流优化问题转化为易求解的混合整数线性规划问题。步骤S170：基于城市配电网和流域水系网运行模型、泵站负荷的时变可调功率域、基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法、城市配电网电力能流优化模型与流域水系网水力能流优化模型，实施泵站灵活性资源参与的电-水能流交互式优化，以实现城市配电网与流域水系网灵活性联动运行。具体的，首先，根据当前调度时刻流域水系网各节点水位和流量等输入信息，进行流域水系网水力能流优化。对优化后的各泵站进行灵活性评估，计算各泵站的可调灵活功率域；然后，将各泵站负荷及其可调灵活功率域信息传送给配电网，配电网进行电力潮流优化并将各泵站所在节点的灵活性功率需求量信息传送至各泵站；最后，流域水系网的各泵站根据配电网提供的信息，调整泵站负荷，再次进行水力能流优化，并更新优化后的流域水系网各节点水位和流量状态信息作为下一调度时段的输入信息。本发明能够实施泵站灵活性资源参与的电-水能流交互式优化，充分挖掘流域水系网的灵活性潜力提升电网运行灵活性，以实现城市配电网与流域水系网灵活性联动运行；具体的，本发明分别构建了以泵站运行成本最小为目标的流域水系网水力能流优化模型和以总运行成本最小为目标的城市配电网电力能流优化模型，将泵站负荷作为灵活性资源参与配电网运行调度，配电网根据所需的灵活性功率量向泵站支付激励费用；即本发明通过电-水能流交互式优化能够有效利用泵站负荷的时空灵活性以减小电网负荷峰谷差，从而实现流域水系网辅助配电网安全经济运行；即本发明能够评估并量化电驱排灌泵站负荷的时空灵活性资源，从而解决城市配电网与流域水系网灵活性联动运行的问题。此外，本发明提出了流域水系网的水位-泵站功率复合灵敏度矩阵及泵站时空灵活性评估方法。基于圣维南双曲偏微分方程组建立了降雨天气下河道水力非均匀非恒定动态模型，可以表征河道水体在电驱泵站和降雨影响下的水动力渐变演化动态特征，在此基础上推导了反映流域水系网节点水位增量与泵站功率注入调整量耦合关系的水位-功率复合灵敏度矩阵，建立了基于复合灵敏度矩阵的泵站时空灵活性评估方法，可以计算出各时刻流域水系网泵站负荷的时变可调功率域。此外，本发明还提出了流域水系网水力能流非线性优化模型的线性化方法。采用Preissmann四点隐式差分格式将水动力偏微分约束近似离散为非线性等式约束，结合多维分段线性化方法将非线性等式约束转化为一系列线性等式约束，从而将流域水系网水力能流非线性优化问题转化为易求解的混合整数线性规划问题，降低优化模型求解难度并提高求解效率。在本发明提出的一种城市配电网与流域水系网灵活性联动运行方法的第二实施例中，基于第一实施例，步骤S110，包括如下步骤：步骤S210：通过沿渠道方向的圣维南非线性双曲偏微分方程组刻画河道水位和流量水力状态，以得到质量守恒方程和动量守恒方程，其中，所述质量守恒方程为：所述动量守恒方程为：其中，所述动量守恒方程满足：式中，为时间；为沿河道轴向坐标；为流量；为水流横截面积；为降雨强度；为河道水位；为重力加速度；为河床坡度；为河道摩阻；为曼宁系数；为河道湿周；为降雨强度。具体的，与电力潮流不同，水力潮流是具有慢动态特性的非均匀渐变流体。在本发明提出的一种城市配电网与流域水系网灵活性联动运行方法的第三实施例中，基于第二实施例，步骤S210，之后还包括如下步骤：步骤S310：将所述质量守恒方程简化为：步骤S320：将所述动量守恒方程简化为：式中，H为河流深度，为河流宽度，A为河流横截面积，且有，且满足，V表示河道水流速度，为河道湿周，且满足，q表示河道单位宽度的流量，且满足，为河道流量。具体的，河道宽度沿水流方向的变化十分微小，河道可视为一个具有矩形横截面的棱柱通道。此外，河道的平均坡度很小，可以被统一设置。步骤S330：采用Preissmann四点隐式格式得到圣维南非线性双曲偏微分方程组的近似离散形式。具体的，需要注意的是，公式和公式是非线性双曲偏微分方程，其解析解无法得到。步骤S340：将连续时空域以空间步长和时间步长划分为均匀矩形网格，其中，L为河道长度，T为时间范围上界，矩形网格上各点的编号为，n为时间节点编号，j为空间节点编号，，且表示时间节点编号集合，，且表示空间节点编号集合，且满足；步骤S350：将公式和公式在时间和空间上离散，以得到如下代数方程：具体的，上述公式中的“:=”相当于定义函数f1为： ，而不是将其视为约束，仅仅是为了定义函数f1；同理，f2也是如此。上式中，表示权重系数，用来确保无条件稳定，的取值范围为，当时，Preissmann四点隐式格式为无条件稳定；为空间节点j+1及时间节点n+1处的河道水位；为空间节点j及时间节点n+1处的河道水位；为空间节点j+1及时间节点n+1处的河道单位宽度流量；为空间节点j及时间节点n+1处的河道单位宽度流量；为空间节点j及时间节点n处的河道单位宽度流量；为空间节点j+1及时间节点n+1处的河道降雨强度；为空间节点j及时间节点n+1处的河道降雨强度；为空间节点j+1及时间节点n+1处的根据公式 定义的I值；为空间节点j及时间节点n+1处的根据公式 定义的R值；为空间节点j及时间节点n处的河道宽度。步骤S360：对流域水系网内的每条河道实施公式-公式表示的时空离散过程。步骤S370：确定一组初始条件和边界条件以保证时空离散的代数方程组的封闭性和解唯一性。具体的，除了公式-外，还需确定一组初始条件和边界条件以保证代数方程组的封闭性和解唯一性。其中，通过水文站观测到初始时段的河道水位和流速分布：河道上下游边界条件如下所示：式中，表示河道I在空间节点j及时间节点n的水位，表示河道I在空间节点j及时间节点n的流量； 表示河道I在空间节点j的初始水位；表示河道I在空间节点j的初始流量；为河道集合；为河道I在沿渠道方向x处给定的初始水位，为河道I在沿渠道方向x处给定的初始流量；为河道I的上边界条件，为河道I的下游边界条件，，且为河道I的空间节点编号集合，为河道I的空间节点编号最大值。步骤S380：将河道的流量和水位限制在一个预设允许范围内，如下式所示： 式中，为河道I的河宽，为河道I的流量的上边界，为河道I的水位的上边界，为河道I的流量的下边界，为河道I的水位的下边界。具体的，出于对流域水系网生态和运行规则的考虑，将河道的流量和水位限制在一个预设允许范围内。其中，在河道水流交汇节点z处，所有河道的水位均相等，即满足如下公式： 步骤S390：根据质量守恒定理得到节点流入量等于节点流出量，即满足如下公式： 式中，Z为流域水系网的交汇点集合；表示水流流入交汇节点z的河道集合，表示水流流出交汇节点z的河道集合；为n时刻泵站k的流量；为连接在交汇点z的泵站集合；为给定值，表示n时刻泵站k抽水，表示n时刻泵站k排水；m为河道编号索引；Z为流域水系网的交汇点集合；为n时刻河道m下游端的单位宽度流量，也即河道m在空间节点Jm及时间节点n处的单位宽度流量；为河道m的河宽；为河道i的河宽；为n时刻河道i上游端的单位宽度流量。在本发明提出的一种城市配电网与流域水系网灵活性联动运行方法的第四实施例中，基于第三实施例，步骤S120，包括如下步骤：步骤S401：将时刻河道的蓄水体积表示为： 具体的，降雨天气下湖泊和河道可以作为雨水的中间存储设施。其中，河道蓄水状态应限制在预设范围内，故满足： 式中，表示河道I在空间节点j及时间节点n的水位；为河道I的河宽；为河道I的最小蓄水体积，为河道I的最大蓄水体积；为河道I的最大空间节点编号。步骤S402：获取每时段湖泊排水量和水位的关系式： 步骤S403：获取湖泊的当前容积关系： 步骤S404：获取湖泊安全运行约束关系： 式中，为湖泊的面积；为n时刻湖泊的水位；表示湖泊的径流系数；为湖泊的集水面积；为n时刻湖泊k的蓄水量；为湖泊蓄水量的下限，和为湖泊蓄水量的上限；为湖泊集合；表示与湖泊相连接的泵站集合；为n时刻泵站i的流量；为n时刻湖泊k位置处的降雨强度；为n时刻泵站i的运行状态，与公式中的一样，只是下标k换成了i。在本发明提出的一种城市配电网与流域水系网灵活性联动运行方法的第五实施例中，基于第四实施例，步骤S130，包括如下步骤：步骤S501：基于流域水系网动态运行模型建立配电网交流潮流线性化模型以表征电网线路功率运行约束、发电机运行约束和节点有功平衡运行约束，其中，支路的有功潮流为： 支路的有功潮流为： 式中，表示线路的电阻，表示线路的电抗；表示由母线流向到母线的有功功率，表示由母线流向到母线的无功功率；为母线的相角；为母线的电压幅值；为母线的相角；为母线的电压幅值；，表示配电网时间节点编号集合；其中，支路潮流和电压幅值满足如下安全约束：式中，为线路的容量；为母线允许的最小电压，为母线允许的最大电压；步骤S502：获取分布式发电机的输出功率限制： 步骤S503：获取分布式发电机的爬坡限制： 步骤S504：获取分布式发电机的容量限制： 步骤S505：获取节点功率平衡公式：式中，为时刻分布式发电机g发出的有功功率，为时刻分布式发电机g发出的无功功率；表示分布式发电机g的输出功率的允许上界，表示分布式发电机g的输出功率的允许下界表示分布式发电机g的爬坡率的允许上界，和表示分布式发电机g的爬坡率的允许下界；为发电机集合；为连接电网母线j的发电机集合；为连接在母线j上的泵站集合；为电网母线集合；表示功率流入母线j的线路集合；表示功率流出母线j的线路集合；表示母线上除排水泵站负荷外的有功负荷，分别表示母线上除排水泵站负荷外的无功负荷；为配电网对于泵站p的灵活性功率利用量；为分布式发电机g的最大容量约束；为n时刻电网线路jk上传输的有功功率；为n时刻电网线路ij上传输的无功功率；为n时刻泵站p的有功负荷；为n时刻电网线路ij上传输的有功功率。在本发明提出的的一种城市配电网与流域水系网灵活性联动运行方法的第六实施例中，基于第五实施例，步骤S130，还包括如下步骤：步骤S601：获取河道和湖泊节点泵站的功率-流量关系： 步骤S602：获取泵站运行功率限制公式：步骤S603：获取泵站无功功率需求约束： 式中，为流域水系网的泵站集合；为泵站i的耗电功率；为泵站i的无功功率需求；为泵站i的运行效率；为泵站i的最大爬坡功率；表示泵站i的水头；为水的密度；为泵站i的最小流量，为泵站i的最大流量；为泵站i的功率因数。在本发明提出的一种城市配电网与流域水系网灵活性联动运行方法的第七实施例中，基于第六实施例，步骤S140，包括如下步骤：步骤S701：将公式和公式扩展为： 式中，为定义的函数统称，的下标1和2表示选用或，表示n时刻调整泵站功率后节点j处水位的变化量；为河道在空间节点j及时间节点n的水位，表示n时刻调整泵站功率后节点j处流量的变化量；为河道在空间节点j及时间节点n的流量；在公式中已有定义，在公式中已有定义。具体的，改变排灌泵站运行功率将导致流域水系网各节点水位和流量发生变化，可能造成河道水力状态量违反流域水系网水力约束。因此，为量化排灌泵站功率增量对河道水力动态特性的影响，利用忽略高阶非线性项的泰勒展开式进行流域水系网灵敏度分析。为表达简洁，本实施例中忽略河道下标I，针对单一河道阐述水位-功率复合灵敏度矩阵构建过程，所提方法可推广至所有流域水系网内的所有河道。一般地，对于连接数个泵站的一条河道，将其在泵站所在位置分为多个河道。因此，对于流域水系网内的河道，泵站位于其首端或者末端。步骤S702：获取n时刻单一河道在不同扰动下的灵敏度矩阵：式中，为灵敏度系数矩阵；表示节点水位和流量的变化量矩阵，和中元素值为常数，且矩阵中的元素值分别等于水位和流量在n时刻的偏导值，的元素为函数f1及f2时空差分结果与的乘积；a0、b0和F1由上游边界条件决定，c2J、d2J和F2J由下游边界条件决定，剩余的元素值由公式中a2j-2、a2j-1等偏导公式计算得到；元素值a下标为奇数时表示其由f1对n时刻空间点j-1的水位求偏导得到，元素值a下标为偶数时表示其由f2对n时刻j-1空间点的水位求偏导得到，元素值b下标为奇数时表示其由f1对n时刻空间点j-1的流量求偏导得到，元素值b下标为偶数时表示其由f2对n时刻j-1空间点的流量求偏导得到；元素值c下标为奇数时表示其由f1对n时刻空间点j的水位求偏导得到，元素值c下标为偶数时表示其由f2对n时刻j空间点的水位求偏导得到；元素值d下标为奇数时表示其由f1对n时刻空间点j的流量求偏导得到，元素值d下标为偶数时表示其由f2对n时刻j空间点的流量求偏导得到；元素值F下标为偶数时表示其由f1对空间点j-1的水位的时空差分结果乘以得到，元素值F下标为奇数时表示其由f2 对空间点j-1的时空差分结果乘以得到。其中，所述元素值由如下公式得到： 步骤S703：根据公式和公式得到泵站运行功率灵敏度与其所在河道节点流量灵敏度的关系，其中，公式为： 公式为： 式中，PI为与河道I相连的泵站编号；表示或对的偏导数，表示n时刻与河道I相连的泵站功率，表示n时刻与河道I相连的泵站流量，为与河道I相连的泵站水头，为与河道I相连的泵站效率。步骤S704：将所述公式和所述公式代入所述灵敏度矩阵，以将灵敏度系数矩阵扩展为矩阵，从而将单一河道的水位-功率复合灵敏度矩阵表示为： 式中，上述公式省略了标号n；为河道I的灵敏度系数扩展矩阵；为河道I的节点水位和流量的变化量扩展矩阵，当前时刻的常数矩阵，的元素为函数f1及f2时空差分结果与的乘积；表示位于河道I上游的泵站功率增量，表示位于河道I下游的泵站功率增量；具体的，矩阵中元素除首尾两项由边界条件确定外，其他偶数项由式的时空差分结果乘得到，其他奇数项由式的时空差分结果乘得到。具体的，上述公式中：；表示位于河道I上游的泵站流量；表示位于河道I下游的泵站流量；表示位于河道I上游的泵站功率；表示位于河道I下游的泵站流量。步骤S705：将流域水系网内所有河道的灵敏度矩阵进行组合，得到流域水系网的水位-功率复合灵敏度矩阵： 式中，为河道I的灵敏度系数扩展矩阵；为河道I的，表示节点水位和流量的变化量扩展矩阵；为河道I的F矩阵；I*为流域水系网的总河道数。具体的，流域水系网中分布大量河道，其蓄水能力与排水泵站相结合可为配电网提供丰富的灵活性资源。在本发明提出的一种城市配电网与流域水系网灵活性联动运行方法的第八实施例中，基于第七实施例，步骤S150中的所述获取泵站的时变可调功率域的步骤，包括如下步骤：步骤S801：将n时刻泵站i的时变可调功率域表示为：式中，表示泵站i的运行功率上限，表示泵站i的运行功率下限；表示河道i或湖泊i的基准蓄水量；表示泵站i的基础运行功耗；为在灵活性供应期间泵站负荷能增加或减少的功率，为n时刻泵站i的时变可调功率可行域；表示实数集合；为湖泊最小容积；为湖泊最大容积；为n时刻湖泊基准蓄水量；为与河道i或湖泊i相连的泵站功率；为在灵活性供应期间与河道i或湖泊i相连泵站负荷能增加或减少的功率；为与湖泊i相连泵站的集合；为与河道i相连泵站的集合；与河道i或湖泊i相连泵站的集合；为河道最小蓄水量；为河道i的最大蓄水量；为n时刻河道i的基准蓄水量。具体的，流域水系网的泵站负荷可以为配电网提供灵活性资源，泵站的运行功率调整量应当根据配电网的灵活性资源需求信号进行调整。为表征流域水系网的灵活性，定义基础场景：在不考虑流域水系网向配电网提供灵活性时，流域水系网运行只为了排出多余的雨水，可以在此种场景下对泵站基准功率进行上下调整，最大调整范围即为时变可调功率域。时变可调功率域需满足最大和最小蓄水能力、爬坡率以及泵站负荷的功率限制。河道各节点水位随泵站运行功率的变化而变化，直接影响河道和湖泊的蓄水量，反过来影响泵站负荷的时空灵活性。因此，本发明提出一种基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法评估并计算泵站负荷的是时变可调灵活性功率域。步骤S150中的所述预估泵站负荷的最大可调功率范围的步骤，包括如下步骤：步骤S802：通过基础场景下的流域水系网优化调度得到泵站负荷的基准能耗，并预估泵站负荷的最大可调功率范围。步骤S150中的所述将可调功率域进行修正，直至没有水位越限的步骤，包括如下步骤：步骤S803：将柔性排涝泵站负荷的时变可调功率域表示为如下式：式中，表示可调功率域上限列向量，表示可调功率域下限列向量；上限列向量为正值时，表示本时刻增加泵站的功耗抽排雨水；下限列向量为负值时，表示降低泵站功率和在河道或湖泊中存蓄雨水，此外，由于忽略了公式的高阶项，应当预留一定的可调功率，通常参考运行状态按照经验而定；为n时刻泵站i的真实时变可调功率可行域；为n时刻泵站i的近似时变可调功率域；为忽略高阶项后与真实时变可调功率域的差值。在本发明提出的一种城市配电网与流域水系网灵活性联动运行方法的第九实施例中，基于第八实施例，步骤S160，包括如下步骤：步骤S901：对流域水系网中分散分布的泵站群进行协同滚动优化调度，其中，根据未来时刻降雨预测的不确定性生成多个随机场景，流域水系网水力能流优化目标旨在最小化泵站群运行成本，所述运行成本包括泵站群用电成本及未来场景下泵站群的期望运行成本，且流域水系网水力能流优化模型为：  s.t. 公式-公式，公式-公式式中，为n时刻的泵站群运行成本；为场景s下n时刻的泵站群运行成本；n0为优化起始时刻；为随机场景总数；为滚动时间窗口长度； 表示场景相关发生概率，且满足：；为n时刻的配电网的售电电价。步骤S902：构建配电网电力能流优化模型，以当前时刻运行成本最小为目标，利用泵站负荷的灵活性资源优化电网潮流及各发电机运行功率，其中，所述运行成本包括从上级电网购电的费用，发电机运行成本、流域水系网灵活性资源的激励成本以及售电收益，所述配电网电力能流优化模型为： 式中，为n时刻上级电网电价，为n时刻配电网从上级电网的购电量，为n时刻配电网的灵活性资源激励价格，为发电机g的成本系数，为n时刻泵站i提供的可调功率域下界，为n时刻泵站i提供的可调功率域上界，为引入的辅助变量；为n时刻配电网制定的泵站i功率调整量。步骤S903：采用多维分段线性方法分别将公式和公式转换为一组线性约束；多维分段线性方法示意图如附图2所示。为简洁起见，以下在详细阐述如何进行多维分段线性过程中忽略了变量和的上标n。附图2中，的取值范围和的取值范围分别被和 分为段和段，其中为的最大值，为的最大值。从而公式和公式的定义域被划分为由多个矩形组成的矩形网格，其中矩形的顶点分别表示为、，对每个矩形的顶点都定义一组连续变量；每个矩形又可分为两个三角形，0-1变量和用来表示取值点是否落在右上和左下的三角形内；和用于表示线性近似的和；因此，约束公式-转化为线性约束公式-：具体的，为矩形网格点处的连续变量；为取值范围的第k个分段点；为用来近似替代而引入的辅助变量；为用来近似替代而引入的辅助变量；为取值范围的第m个分段点；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形；为矩形网格点处的连续变量；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形；为矩形网格点处的连续变量；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形；为矩形网格点处的连续变量；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为矩形网格点处的连续变量；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形；为矩形网格点处的连续变量；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的上半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形；为0-1变量，对应于矩形网格中以点为左上角顶点的矩形的下半部分三角形。在本发明提出的一种城市配电网与流域水系网灵活性联动运行方法的第十实施例中，基于第九实施例，步骤S170，包括如下步骤：步骤S1010：对城市配电网和流域水系网运行模型进行初始化设置：令当前调度时刻n=1，调度周期为24h，将各河道的 设置为100m，将各河道的 统一设置为1h。具体的，各河道的还可以设置为500m或1km。步骤S1020：于城市配电网和流域水系网运行模型输入参数，其中，所述参数包括：流域水系网拓扑信息、各河道宽度和长度，n-1时刻流域水系网各河道的节点水位和流量、n-1时刻泵站的运行状态及功率、配电网拓扑信息、各节点负荷信息和配电网内各分布式发电机在n-1时刻的运行状态及功率，其中，和作为流域水系网的初始条件。步骤S1030：基于流域水系网水力能流优化模型，优化当前时刻的泵站运行功率及流域水系网各河道水力能流状态，以得到各泵站当前调度时刻的最优运行功率。步骤S1040：基于水位-功率复合灵敏度矩阵的泵站灵活性评估方法计算各泵站的时变可调灵活功率域，并将流域水系网各泵站的及时变可调灵活功率域传送给配电网。步骤S1050：基于配电网电力能流优化模型，优化计算得到配电网所需的流域水系网各泵站灵活性功率值，将其传送至各泵站，并向流域水系网各泵站支付激励费用。步骤S1060：基于流域水系网水力能流优化模型，接收配电网提供的灵活性功率需求量信息，将各泵站功率由调整为，以进行流域水系网水力能流计算，从而更新n时刻流域水系网各节点的水位和流量状态信息。步骤S1070：判断所述交互式优化是否结束：令n=n+1，判断是否满足：，若是，再次执行所述于城市配电网和流域水系网运行模型输入参数，及之后的步骤，若否，结束所述交互式优化。具体的，基于上述实施例的步骤所提到的所述模型及方法用于城市配电网与流域水系网的灵活性评估与最优能流计算，将第一实施例所示的流程步骤在Python中编程实现，最终流域水系网内泵站负荷的总可调功率域结果如图3所示，流域水系网内各河道水位变化情况如图4所示；附图4中的Hmax为最大水位。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端执行本发明各个实施例所述的方法。上面结合附图对本发明的实施例进行了描述，但是本发明并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本发明的启示下，在不脱离本发明宗旨和权利要求所保护的范围情况下，还可做出很多形式，这些均属于本发明的保护之内。
