标题title
账号登录态的设置方法、服务器、电子设备及存储介质
摘要abst
本公开是关于一种账号登录态的设置方法、服务器、电子设备及计算机可读存储介质，涉及互联网技术领域，该方法包括：压测服务器获取针对账号的登录态的验证请求；对验证请求、访问控制服务头信息、固定令牌、合法性标识和账号身份参数进行验证；若对验证请求、访问控制服务头信息、固定令牌、合法性标识和账号身份参数进行验证的结果均为验证通过，则将账号的登录态设置为有效。这样，针对所有的账号都采用同一个固定令牌进行业务压测，不需要针对每个账号分别分配一一对应的令牌，所以就不需要生成所有账号的令牌的token文件，解决了token文件占用大量存储空间的问题，以及，大大提高了整体压测进度和效率，以及，避免了在分配时占用大量带宽。
权利要求书clms
1.一种账号登录态的设置方法，其特征在于，所述方法应于压测服务器，包括：获取针对账号的登录态的验证请求；所述验证请求包括已生成的访问控制服务头信息和令牌信息，所述令牌信息包括预设的固定令牌、用于表征所述账号是否合法的合法性标识，以及所述账号的账号身份参数；所述访问控制服务头信息用于表征所述账号的登录权限；对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证；若对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证的结果均为验证通过，则将所述账号的登录态设置为有效。2.根据权利要求1所述的账号登录态的设置方法，其特征在于，所述对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证，包括：检测所述访问控制服务头信息是否为预设的目标访问控制服务头信息；若所述访问控制服务头信息为所述目标访问控制服务头信息，则检测所述验证请求是否来自预设的目标对象；若所述验证请求来自所述目标对象，则检测所述合法性标识是否为预设的目标合法性标识；若所述合法性标识为所述目标合法性标识，则检测所述账号身份参数是否合法；若所述账号身份参数合法，则检测所述固定令牌是否在有效期内；若所述固定令牌在有效期内，则验证通过。3.根据权利要求2所述的账号登录态的设置方法，其特征在于，所述检测所述合法性标识是否为预设的目标合法性标识，包括：对所述验证请求中的令牌信息进行解密，得到所述账号的合法性标识；所述合法性标识为用于表征所述账号合法的第一标识，或，用于表征所述账号不合法的第二标识；若所述合法性标识为所述第一标识，则所述合法性标识为预设的目标合法性标识；若所述合法性标识为所述第二标识，则所述合法性标识不为预设的目标合法性标识。4.根据权利要求2所述的账号登录态的设置方法，其特征在于，所述检测所述账号身份参数是否合法，包括：检测所述账号身份参数是否属于预设的身份参数区间；若所述账号身份参数属于所述身份参数区间，则所述账号身份参数合法；若所述账号身份参数不属于所述身份参数区间，则所述账号身份参数不合法。5.根据权利要求1所述的账号登录态的设置方法，其特征在于，还包括：检测是否需要对所述固定令牌进行更新；若需要对所述固定令牌进行更新，则对所述固定令牌进行更新，得到更新后的固定令牌；将所述更新后的固定令牌进行存储。6.根据权利要求5所述的账号登录态的设备方法，其特征在于，所述检测是否需要对所述固定令牌进行更新，包括：检测所述固定令牌的有效期是否结束；若所述有效期结束，则需要对所述固定令牌进行更新。7.一种压测服务器，其特征在于，包括：业务服务模块，被配置为获取针对账号的登录态的验证请求；所述验证请求包括已生成的访问控制服务头信息和令牌信息，所述令牌信息包括预设的固定令牌、用于表征所述账号是否合法的合法性标识，以及所述账号的账号身份参数；所述访问控制服务头信息用于表征所述账号的登录权限；；验证软件开发工具包，被配置为对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证；以及，若对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证的结果均为验证通过，则将所述账号的登录态设置为有效。8.一种电子设备，其特征在于，包括：处理器、存储器及存储在所述存储器上并能够在所述处理器上运行的计算机程序，所述计算机程序被所述处理器执行时实现如权利要求1～6中任一项所述的账号登录态的设置方法。9.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储计算机程序，所述计算机程序被处理器执行时实现如权利要求1～6中任一项所述的账号登录态的设置方法。10.一种计算机程序产品，包括计算机程序或计算机指令，其特征在于，所述计算机程序或计算机指令被处理器执行时实现如权利要求1～6中任一项所述的账号登录态的设置方法。
说明书desc
技术领域本公开涉及服务端的技术领域，尤其涉及一种账号登录态的设置方法、服务器、电子设备及计算机可读存储介质。背景技术目前，在大多数业务场景中，都需要为账号设置登录态，比如，业务压测；其中，登录态用于表示所述账号是否登录成功。相关技术中，为了给业务压测中的账号设置登录态，需要设置压测专用token，该token是将真实token和新增的非加密的压测字段进行加密，加密后再携带特殊的前后缀标识生成，一个压测专用token对应一个账号的登录态。但是，这种方法需要预先设置专用的压测token申请平台。当需要进行业务压测时，平台需要申请所有帐号的token文件，并存储在平台上，在正常情况下，几千万帐号的token文件会占用至少10G甚至更多的存储空间。然后，平台会将token文件按照业务的要求拆分到不同的压测机器上，但是，由于token文件巨大，导致需要花费大量时间对token文件进行拆分，而且，拆分完成后需要将不同文件配送到不同的压测机器上，再由各个压测机器根据拆分后的token文件确定出账号的登录态，导致平台在配送拆分后的token文件的过程中耗时多、排队久，从而影响业务的整体压测进度和效率。发明内容为克服相关技术中存在的问题，本公开提供一种账号登录态的设置方法、服务器、电子设备及计算机可读存储介质。本公开的技术方案如下。根据本公开实施例的第一方面，提供一种账号登录态的设置方法，包括：获取针对账号的登录态的验证请求；所述验证请求包括已生成的访问控制服务头信息和令牌信息，所述令牌信息包括预设的固定令牌、用于表征所述账号是否合法的合法性标识，以及所述账号的账号身份参数；所述访问控制服务头信息用于表征所述账号的登录权限；对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证；若对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证的结果均为验证通过，则将所述账号的登录态设置为有效。可选的，所述对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证，包括：检测所述访问控制服务头信息是否为预设的目标访问控制服务头信息；若所述访问控制服务头信息为所述目标访问控制服务头信息，则检测所述验证请求是否来自预设的目标对象；若所述验证请求来自所述目标对象，则检测所述合法性标识是否为预设的目标合法性标识；若所述合法性标识为所述目标合法性标识，则检测所述账号身份参数是否合法；若所述账号身份参数合法，则检测所述固定令牌是否在有效期内；若所述固定令牌在有效期内，则验证通过。可选的，所述检测所述合法性标识是否为预设的目标合法性标识，包括：对所述验证请求中的令牌信息进行解密，得到所述账号的合法性标识；所述合法性标识为用于表征所述账号合法的第一标识，或，用于表征所述账号不合法的第二标识；若所述合法性标识为所述第一标识，则所述合法性标识为预设的目标合法性标识；若所述合法性标识为所述第二标识，则所述合法性标识不为预设的目标合法性标识。可选的，所述检测所述账号身份参数是否合法，包括：检测所述账号身份参数是否属于预设的身份参数区间；若所述账号身份参数属于所述身份参数区间，则所述账号身份参数合法；若所述账号身份参数不属于所述身份参数区间，则所述账号身份参数不合法。可选的，还包括：检测是否需要对所述固定令牌进行更新；若需要对所述固定令牌进行更新，则对所述固定令牌进行更新，得到更新后的固定令牌；将所述更新后的固定令牌进行存储。可选的，所述检测是否需要对所述固定令牌进行更新，包括：检测所述固定令牌的有效期是否结束；若所述有效期结束，则需要对所述固定令牌进行更新。可选的，所述压测服务器中设置有压测平台、业务服务模块和验证软件开发工具包；所述压测平台用于生成所述验证请求，以及，将所述验证请求发送至所述业务服务模块；所述业务服务模块用于获取所述验证请求，还用于调用所述验证软件开发工具包对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证，以及，将所述账号的登录态设置为有效。可选的，所述压测平台生成所述验证请求，包括：所述压测平台响应于所述账号的登录请求，获取所述账号的登录权限、所述账号的账号身份参数和预设的固定令牌；基于所述账号的登录权限生成访问控制服务头信息，以及，基于所述账号身份参数、所述固定令牌和所述合法性标识生成令牌信息；基于所述访问控制服务头信息和所述令牌信息生成验证请求。可选的，所述将所述验证请求发送至所述业务服务模块，包括：采用所述固定令牌向所述业务服务模块请求业务服务接口；通过所述业务服务接口将所述验证请求发送至所述业务服务模块。根据本公开实施例的第二方面，提供一种压测服务器，包括：业务服务模块，被配置为获取针对账号的登录态的验证请求；所述验证请求包括已生成的访问控制服务头信息和令牌信息，所述令牌信息包括预设的固定令牌、用于表征所述账号是否合法的合法性标识，以及所述账号的账号身份参数；所述访问控制服务头信息用于表征所述账号的登录权限；验证软件开发工具包，被配置为对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证；以及，若对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证的结果均为验证通过，则将所述账号的登录态设置为有效。可选的，所述验证软件开发工具包，包括：第一检测子模块，被配置为检测所述访问控制服务头信息是否为预设的目标访问控制服务头信息；第二检测子模块，被配置为若所述访问控制服务头信息为所述目标访问控制服务头信息，则检测所述验证请求是否来自预设的目标对象；第三检测子模块，被配置为若所述验证请求来自所述目标对象，则检测所述合法性标识是否为预设的目标合法性标识；第四检测子模块，被配置为若所述合法性标识为所述目标合法性标识，则检测所述账号身份参数是否合法；第五检测子模块，被配置为若所述账号身份参数合法，则检测所述固定令牌是否在有效期内；判定子模块，被配置为若所述固定令牌在有效期内，则验证通过。可选的，所述第三检测子模块，具体被配置为：对所述验证请求中的令牌信息进行解密，得到所述账号的合法性标识；所述合法性标识为用于表征所述账号合法的第一标识，或，用于表征所述账号不合法的第二标识；若所述合法性标识为所述第一标识，则所述合法性标识为预设的目标合法性标识；若所述合法性标识为所述第二标识，则所述合法性标识不为预设的目标合法性标识。可选的，所述第四检测子模块，具体被配置为：检测所述账号身份参数是否属于预设的身份参数区间；若所述账号身份参数属于所述身份参数区间，则所述账号身份参数合法；若所述账号身份参数不属于所述身份参数区间，则所述账号身份参数不合法。可选的，还包括更新检测模块，被配置为：检测是否需要对所述固定令牌进行更新；为若需要对所述固定令牌进行更新，则对所述固定令牌进行更新，得到更新后的固定令牌；将所述更新后的固定令牌进行存储。可选的，所述更新检测模块，具体被配置为：检测所述固定令牌的有效期是否结束；若所述有效期结束，则需要对所述固定令牌进行更新。可选的，所述压测服务器中还设置有压测平台；所述压测平台用于生成所述验证请求，以及，将所述验证请求发送至所述业务服务模块。可选的，所述压测平台，具体被配置为：响应于所述账号的登录请求，获取所述账号的登录权限、所述账号的账号身份参数和预设的固定令牌；基于所述账号的登录权限生成访问控制服务头信息，以及，基于所述账号身份参数、所述固定令牌和所述合法性标识生成令牌信息；基于所述访问控制服务头信息和所述令牌信息生成验证请求。可选的，所述压测平台，具体还被配置为：采用所述固定令牌向所述业务服务模块请求业务服务接口；通过所述业务服务接口将所述验证请求发送至所述业务服务模块。根据本公开实施例的第三方面，提供一种电子设备，包括：处理器；用于存储处理器可执行指令的存储器；其中，所述处理器被配置为执行所述指令，以实现如第一方面的账号登录态的设置方法。根据本公开实施例的第四方面，提供一种计算机可读存储介质，当所述存储介质中的指令由移动终端的处理器执行时，使得电子设备能够执行如第一方面的账号登录态的设置方法。根据本公开实施例的第五方面，提供一种计算机程序产品，该计算机程序产品包括计算机程序或计算机指令，该计算机程序或计算机指令被处理器执行时实现如第一方面的账号登录态的设置方法。本公开的实施例提供的技术方案可以包括以下有益效果：压测服务器获取针对账号的登录态的验证请求；所述验证请求包括已生成的访问控制服务头信息和令牌信息，所述令牌信息包括预设的固定令牌、用于表征所述账号是否合法的合法性标识，以及所述账号的账号身份参数；所述访问控制服务头信息用于表征所述账号的登录权限；然后对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证；若对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证的结果均为验证通过，则将所述账号的登录态设置为有效。这样，针对所有的账号都采用同一个固定令牌进行业务压测，不需要针对每个账号分别分配一一对应的令牌，所以就不需要生成所有账号的令牌的token文件，解决了token文件占用大量存储空间的问题。而且，由于不需要生成token文件，所以，也不需要对token文件进行拆分，这样，既避免了拆分任务，又不需要将拆分的各个token文件进行分配，大大提高了整体压测进度和效率，以及，避免了在分配时占用大量带宽。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本公开。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本发明的实施例，并与说明书一起用于解释本发明的原理。图1是根据一示例性实施例示出的一种账号登录态的设置方法的流程图。图2是根据一示例性实施例示出的压测服务器的架构图。图3是根据一示例性实施例示出的一种账号登录态的设置方法的时序图。图4是根据一示例性实施例示出的一种压测服务器的框图。图5是根据一示例性实施例示出的一种装置的框图。具体实施方式这里将详细地对示例性实施例进行说明，其示例表示在附图中。下面的描述涉及附图时，除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本发明相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本发明的一些方面相一致的装置和方法的例子。图1是根据一示例性实施例示出的一种账号登录态的设置方法的流程图，如图1所示，账号登录态的设置方法用于压测服务器中，压测服务器可以是用于对访问业务的账号的登录态进行设置的服务器。所述方法包括以下步骤。在步骤S11中，获取针对账号的登录态的验证请求；所述验证请求包括已生成的访问控制服务头信息和令牌信息，所述令牌信息包括预设的固定令牌、用于表征所述账号是否合法的合法性标识，以及所述账号的账号身份参数；所述访问控制服务头信息用于表征所述账号的登录权限。压测服务器可以获取针对账号的登录态的验证请求，该验证请求用于验证该账号的登录态是否有效，如果登录态有效，则允许账号登录，如果登录态无效，则不允许账号登录。其中，验证请求包括已生成的访问控制服务头信息和令牌信息。令牌信息包括预设的固定令牌、用于表征账号是否合法的合法性标识，以及账号的账号身份参数；访问控制服务头信息用于表征账号的登录权限，也就是表示该账号有没有登录的权限。其中，固定令牌为在某个时间段内所使用的一个令牌，即，在任一时刻，固定令牌是唯一的，所有账号都采用该固定令牌进行压测。比如，需要对3000万个账号进行压测，那么，在任一时刻对3000万个账号进行压测时，都是采用同一个压测token。这样，就不需要生成所有账号的token文件，解决了token文件占用大量存储空间的问题。而且，由于不需要生成token文件，所以，也不需要对token文件进行拆分，这样，既避免了拆分任务，又不需要将拆分的各个token文件进行分配，大大提高了整体压测进度和效率，以及，避免了在分配时占用大量带宽。需要说明的是，固定令牌是可更新的，也就是说，不同的时刻，对应的固定令牌可能是不一样的，但是，在任一时刻，固定令牌是唯一的，不会出现任一时刻存在两个固定令牌。当然，在进行第一次压测之前，可以预设一个固定令牌，然后在一段时间后对固定令牌进行更新；也可以不预设固定令牌，在第一次压测时随机生成一个固定令牌进行压测，然后在一段时间后对固定令牌进行更新；还可以采用其它方式，在实际应用中，可以根据实际需求进行设置，本实施例对此不作限制。在本发明实施例中，图2示出了压测服务器的架构图，所述压测服务器中设置有压测平台、业务服务模块、验证软件开发工具包和更新服务模块；所述压测平台用于生成所述验证请求，以及，将所述验证请求发送至所述业务服务模块；所述业务服务模块用于获取所述验证请求，还用于调用所述验证软件开发工具包对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证，以及，将所述账号的登录态设置为有效；所述更新服务模块用于检测是否需要更新固定令牌，以及，对固定令牌进行更新。具体而言，压测服务器中可以设置有压测平台、业务服务模块和验证SDK。其中，压测平台可以获取账号的登录请求、基于登录请求生成验证请求，以及，将验证请求发送至业务服务模块。在本发明实施例中，所述压测平台生成所述验证请求，包括：所述压测平台响应于所述账号的登录请求，获取所述账号的登录权限、所述账号的账号身份参数和预设的固定令牌；基于所述账号的登录权限生成访问控制服务头信息，以及，基于所述账号身份参数、所述固定令牌和所述合法性标识生成令牌信息；基于所述访问控制服务头信息和所述令牌信息生成验证请求。具体而言，用户在终端的应用程序中采用账号发起登录请求，终端将登录请求发送至服务器中的压测平台，压测平台接收到登录请求后，提取出登录请求中的账号，再获取该账号的登录权限、账号身份参数和预设的固定令牌。其中，账号身份参数包括但不限于账号ID；预设的固定令牌可以存储在服务器中；终端与压测服务器可以采用分布式C/S架构，这样能够分布部署和使用，有利于维护管理。而且，压测服务器可以提供API供终端进行接入。进一步，当登录权限为允许登录时，压测平台采用账号的登录权限生成ACS头信息，以及，采用账号身份参数、固定令牌和合法性标识生成令牌信息，然后将ACS头信息和令牌信息封装，生成验证请求，并将验证请求发送至业务服务模块。在本发明实施例中，所述将所述验证请求发送至所述业务服务模块，包括：采用所述固定令牌向所述业务服务模块请求业务服务接口；通过所述业务服务接口将所述验证请求发送至所述业务服务模块。具体而言，压测服务器中可以设置多个业务服务模块，每个业务服务模块对应一个业务服务，账号访问哪个业务，验证请求就可以将验证请求发送至对应的业务服务模块。在发送验证请求时，压测平台可以采用获取到的固定令牌向账号访问的业务服务模块请求业务服务接口，请求成功后，即可通过该接口将验证请求发送至对应的业务服务模块。业务服务模块获取到验证请求后，可以调用验证软件开发工具包对验证请求、ACS头信息、固定令牌、合法性标识和账号身份参数进行验证。在步骤S12中，对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证。业务服务模块在获取到验证请求后，即可对验证请求、ACS头信息、固定令牌、合法性标识和账号身份参数分别进行验证，具体的，可以调用验证SDK对验证请求、ACS头信息、固定令牌、合法性标识和账号身份参数分别进行验证。在本发明实施例中，所述对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证，包括：检测所述访问控制服务头信息是否为预设的目标访问控制服务头信息；若所述访问控制服务头信息为所述目标访问控制服务头信息，则检测所述验证请求是否来自预设的目标对象；若所述验证请求来自所述目标对象，则检测所述合法性标识是否为预设的目标合法性标识；若所述合法性标识为所述目标合法性标识，则检测所述账号身份参数是否合法；若所述账号身份参数合法，则检测所述固定令牌是否在有效期内；若所述固定令牌在有效期内，则验证通过。具体而言，验证SDK可以检测验证请求中的ACS头信息是否为预设的目标ACS头信息。若为目标ACS头信息，则进一步检测验证请求是否来自预设的目标对象，在本发明实施例中，目标对象可以是压测平台；若不为目标ACS头信息，则检测不通过，结束流程。若检测到验证请求是来自目标对象，则进一步检测合法性标识是否为预设的目标合法性标识；若检测到验证请求不是来自目标对象，则检测不通过，结束流程。若检测到合法性标识是目标合法性标识，则进一步检测账号身份参数是否合法；若检测到合法性标识不是目标合法性标识，则检测不通过，结束流程。若检测到账号身份参数是合法的，则进一步检测固定令牌是否在有效期内；若检测到账号身份参数是不合法的，则检测不通过，结束流程。若检测到固定令牌在有效期内，则检测通过；若检测到固定令牌不在有效期内，则检测不通过，结束流程。其中，在验证之前，可以预设固定令牌的有效期，这样，在验证时，可以检测固定令牌的有效期是否到期，若没有到期，则固定令牌在有效期内，若已经到期，则固定令牌不在有效期内。在本发明实施例中，所述检测所述合法性标识是否为预设的目标合法性标识，包括：对所述验证请求中的令牌信息进行解密，得到所述账号的合法性标识；所述合法性标识为用于表征所述账号合法的第一标识，或，用于表征所述账号不合法的第二标识；若所述合法性标识为所述第一标识，则所述合法性标识为预设的目标合法性标识；若所述合法性标识为所述第二标识，则所述合法性标识不为预设的目标合法性标识。具体而言，压测平台在生成令牌信息时，可以设置账号的合法性标识，用于标记账号是否合法，账号与合法性标识的对应关系可以预先设置。比如，预先设置账号的合法性标识为1时账号合法，账号的合法性标识为0时账号不合法。那么，压测平台在生成令牌信息时，可以将合法性标识设置为1，然后基于合法性标识生成令牌信息。验证SDK对合法性标识进行检测时，可以提取出令牌信息中的合法性标识，若合法性标识为表示合法的第一标识，则合法性标识为预设的目标合法性标识，若合法性标识为表示不合法的第二标识，则合法性标识不为预设的目标合法性标识。需要说明的是，除了可以采用第一标识表示合法，第二标识表示不合法之外，也可以采用第二标识表示合法，第一标识表示不合法，还可以采用其它方式表示合法和不合法，在实际应用中，可以根据实际需求进行设置，本实施例对此不作限制。在本发明实施例中，所述检测所述账号身份参数是否合法，包括：检测所述账号身份参数是否属于预设的身份参数区间；若所述账号身份参数属于所述身份参数区间，则所述账号身份参数合法；若所述账号身份参数不属于所述身份参数区间，则所述账号身份参数不合法。具体而言，在检测之前可以预设账号身份参数的参数区间，在检测时，验证SDK可以检测账号身份参数是否属于该参数区间，若账号身份参数属于该区间，则该账号身份参数合法，若账号身份参数不属于该区间，则该账号身份参数不合法。比如，预设的参数区间为，在检测时，验证SDK检测账号身份参数是否属于该区间即可。这样，通过检测验证请求是否来自目标对象、合法性标识是否为预设的目标合法性标识、账号身份参数是否合法、固定令牌是否在有效期内的多维度的检测方式提高了压测过程的安全性。在步骤S13中，若对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证的结果均为验证通过，则将所述账号的登录态设置为有效。具体而言，当对验证请求、ACS头信息、固定令牌、合法性标识和账号身份参数进行验证的结果均为验证通过时，即可将账号的登录态设置为有效。其中，登录态可以表示账号是否登录成功，登录态有效则表示账号登录成功，登录态无效则表示账号登录失败；当对上述各项进行验证的结果中至少一个为验证不通过，即可将账号的登录态设置为无效。在本发明实施例中，在步骤S13之后，还可以包括：检测是否需要对所述固定令牌进行更新；若需要对所述固定令牌进行更新，则对所述固定令牌进行更新，得到更新后的固定令牌；将所述更新后的固定令牌进行存储。具体而言，如果只使用唯一一个固定令牌对验证请求、ACS头信息、固定令牌、合法性标识和账号身份参数进行验证，那么这种方式能够防止外部人员，但是防不住内部人员，也就是说，如果内部人员有意获取，还是能够拿到部分数据，当固定令牌成了唯一值，那么泄露的风险就越大，所以固定令牌需要在一定有效期，只在一段时间内是生效。因此，可以检测是否需要对固定令牌进行更新，若是，则对固定令牌进行更新，得到更新后的固定令牌，并将更新后的固定令牌进行存储。这样，通过更新固定令牌的方式，可以防止内部人员有间获取数据，进一步提高了压测的安全性。在本发明实施例中，所述检测是否需要对所述固定令牌进行更新，包括：检测所述固定令牌的有效期是否结束；若所述有效期结束，则需要对所述固定令牌进行更新。具体而言，检测是否需要对固定令牌进行更新时，可以检测固定令牌的有效期是否结束，如果有效期结束，那么就需要对固定令牌进行更新。还可以基于时间间隔进行检测。具体的，获取固定令牌最后一次的更新时间节点，然后检测该更新时间节点与当前时间节点的时间间隔是否超过间隔阈值，若超过了间隔阈值，则对鉴权参数进行更新，得到更新后的鉴权参数。也可以基于计时器进行检测。具体的，可以预先设置一个计时器，在每次更新完鉴权参数后启动计时器，这样，检测计时器是否计时完成即可，若计时完成，则对鉴权参数进行更新，若计时未完成，则不对鉴权参数进行更新。当然，还可以采用其它方式来检测是否需要对鉴权参数进行更新，在实际应用中，可以根据实际需求进行设置，本实施例对此不作限制。进一步，压测服务器中可以设置更新服务模块，更新服务模块用于检测是否需要更新固定令牌，以及，对固定令牌进行更新。在对固定令牌更新完成之后，可以将更新后的固定令牌存储至服务器的存储器中，然后，通知压测平台固定令牌已经更新完成，压测平台即可获取更新后的固定令牌。为方便理解，图3示出了本发明实施例的时序图。具体包括：1)压测平台响应于账号的登录请求生成ACS头信息和令牌信息；2)压测平台基于基于访问控制服务头信息和令牌信息生成验证请求，并将验证请求发送至业务服务模块；3)业务服务模块调用验证SDK；4)验证SDK检测ACS头信息是否为目标ACS头信息，若是，执行5)，若否，流程结束；5)验证SDK检测验证请求是否来自目标对象，若是，执行6)，若否，流程结束；6)验证SDK检测合法性标识是否为预设的目标合法性标识，若是，执行7)，若否，流程结束；7)验证SDK检测账号身份参数是否合法，若是，执行8)，若否，流程结束；8)验证SDK检测固定令牌是否在有效期内，若是，执行9)，若否，流程结束；9)验证SDK将账号的登录态设置为有效，并将登录态反馈至业务服务模块；10)更新服务模块检测是否需要对固定令牌进行更新；11)若需要对固定令牌进行更新，则更新服务模块对固定令牌进行更新，得到更新后的固定令牌；12)通知压测平台固定令牌更新完成；13)压测平台获取更新后的固定令牌。在本实施例中，压测服务器获取针对账号的登录态的验证请求；所述验证请求包括已生成的访问控制服务头信息和令牌信息，所述令牌信息包括预设的固定令牌、用于表征所述账号是否合法的合法性标识，以及所述账号的账号身份参数；所述访问控制服务头信息用于表征所述账号的登录权限；然后对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证；若对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证的结果均为验证通过，则将所述账号的登录态设置为有效。这样，针对所有的账号都采用同一个固定令牌进行业务压测，不需要针对每个账号分别分配一一对应的令牌，所以就不需要生成所有账号的令牌的token文件，解决了token文件占用大量存储空间的问题。而且，由于不需要生成token文件，所以，也不需要对token文件进行拆分，这样，既避免了拆分任务，又不需要将拆分的各个token文件进行分配，大大提高了整体压测进度和效率，以及，避免了在分配时占用大量带宽。图4是根据一示例性实施例示出的一种压测服务器框图。参照图4，该服务器包括业务服务模块411和验证软件开发工具包412。该业务服务模块411被配置为获取针对账号的登录态的验证请求；所述验证请求包括已生成的访问控制服务头信息和令牌信息，所述令牌信息包括预设的固定令牌、用于表征所述账号是否合法的合法性标识，以及所述账号的账号身份参数；所述访问控制服务头信息用于表征所述账号的登录权限；该验证软件开发工具包412被配置为对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证；以及，若对所述验证请求、所述访问控制服务头信息、所述固定令牌、所述合法性标识和所述账号身份参数进行验证的结果均为验证通过，则将所述账号的登录态设置为有效。在本发明实施例中，所述验证软件开发工具包，包括：第一检测子模块，被配置为检测所述访问控制服务头信息是否为预设的目标访问控制服务头信息；第二检测子模块，被配置为若所述访问控制服务头信息为所述目标访问控制服务头信息，则检测所述验证请求是否来自预设的目标对象；第三检测子模块，被配置为若所述验证请求来自所述目标对象，则检测所述合法性标识是否为预设的目标合法性标识；第四检测子模块，被配置为若所述合法性标识为所述目标合法性标识，则检测所述账号身份参数是否合法；第五检测子模块，被配置为若所述账号身份参数合法，则检测所述固定令牌是否在有效期内；判定子模块，被配置为若所述固定令牌在有效期内，则验证通过。在本发明实施例中，所述第三检测子模块，具体被配置为：对所述验证请求中的令牌信息进行解密，得到所述账号的合法性标识；所述合法性标识为用于表征所述账号合法的第一标识，或，用于表征所述账号不合法的第二标识；若所述合法性标识为所述第一标识，则所述合法性标识为预设的目标合法性标识；若所述合法性标识为所述第二标识，则所述合法性标识不为预设的目标合法性标识。在本发明实施例中，所述第四检测子模块，具体被配置为：检测所述账号身份参数是否属于预设的身份参数区间；若所述账号身份参数属于所述身份参数区间，则所述账号身份参数合法；若所述账号身份参数不属于所述身份参数区间，则所述账号身份参数不合法。在本发明实施例中，还包括更新检测模块，被配置为：检测是否需要对所述固定令牌进行更新；为若需要对所述固定令牌进行更新，则对所述固定令牌进行更新，得到更新后的固定令牌；将所述更新后的固定令牌进行存储。在本发明实施例中，所述更新检测模块，具体被配置为：检测所述固定令牌的有效期是否结束；若所述有效期结束，则需要对所述固定令牌进行更新。在本发明实施例中，所述压测服务器中还设置有压测平台；所述压测平台用于生成所述验证请求，以及，将所述验证请求发送至所述业务服务模块。在本发明实施例中，所述压测平台，具体被配置为：响应于所述账号的登录请求，获取所述账号的登录权限、所述账号的账号身份参数和预设的固定令牌；基于所述账号的登录权限生成访问控制服务头信息，以及，基于所述账号身份参数、所述固定令牌和所述合法性标识生成令牌信息；基于所述访问控制服务头信息和所述令牌信息生成验证请求。在本发明实施例中，所述压测平台，具体还被配置为：采用所述固定令牌向所述业务服务模块请求业务服务接口；通过所述业务服务接口将所述验证请求发送至所述业务服务模块。关于上述实施例中的装置，其中各个模块执行操作的具体方式已经在有关该方法的实施例中进行了详细描述，此处将不做详细阐述说明。图5是根据一示例性实施例示出的一种用于业务压测的装置500的框图。例如，装置500可以被提供为一服务器。参照图5，装置500包括处理组件522，其进一步包括一个或多个处理器，以及由存储器532所代表的存储器资源，用于存储可由处理组件522的执行的指令，例如应用程序。存储器532中存储的应用程序可以包括一个或一个以上的每一个对应于一组指令的模块。此外，处理组件522被配置为执行指令，以执行上述方法业务压测。装置500还可以包括一个电源组件526被配置为执行装置500的电源管理，一个有线或无线网络接口550被配置为将装置500连接到网络，和一个输入输出接口558。装置500可以操作基于存储在存储器532的操作系统，例如Windows ServerTM，Mac OS XTM，UnixTM,LinuxTM，FreeBSDTM或类似。本领域技术人员在考虑说明书及实践这里公开的发明后，将容易想到本发明的其它实施方案。本申请旨在涵盖本发明的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本发明的一般性原理并包括本公开未公开的本技术领域中的公知常识或惯用技术手段。说明书和实施例仅被视为示例性的，本发明的真正范围和精神由下面的权利要求指出。应当理解的是，本发明并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。本发明的范围仅由所附的权利要求来限制。
