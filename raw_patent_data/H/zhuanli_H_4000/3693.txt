标题title
多链路块确认方法、装置及存储介质
摘要abst
本发明公开了一种多链路块确认方法、装置及存储介质。所述方法包括：发送BA request消息，所述BA request消息中包含参数BAR type和BAR information；接收BA消息，所述BA消息中包含参数BA type和BA information。在BAR type和BA type中包含多链路模式Multi‑Link，并设置对应的BAR information和BA information；或者在BA request消息和BA消息中包含表示请求在一个块确认中报告的多条链路的信息的参数Multi‑Link‑list。本发明通过使用多链路块确认的方法，两条及以上的链路上不再需要每条链路上都发送块确认消息，在一条链路上进行块确认反馈，避免了BA接收不同步，导致对接收状态的错误判断，从而错误的重发数据包，避免了对无线资源的浪费。
权利要求书clms
1.一种多链路块确认方法，其特征在于，所述方法包括：发送BA request消息，所述BA request消息中包含参数BAR type和BAR information，其中，BAR type表示块确认请求类型，BARinformation表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BAR information包含参数BA starting sequence number和Link ID，其中，BA starting sequence number表示起始连续数据包的序列号，LinkID表示需要报告数据包接收状态的链路标识；接收BA消息，所述BA消息中包含参数BA type和BA information，其中，BA type表示块确认类型，BAinformation表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BAinformation包含起始连续数据包的序列号和用于指示接收到的数据包的数组。2.根据权利要求1所述的一种多链路块确认方法，其特征在于，Link ID为以下格式中的一种：数字、字符串、字符串加数字、链路信息元和预设值，所述链路信息元中包含参数TxSTAAddress和Rx STAAddress，或包含参数Non-AP STAAddress和AP STAAddress，TxSTAAddress表示发送方STA的地址，Rx STAAddress表示接收方STA的地址，Non-APSTAAddress表示终端设备逻辑实体的地址，AP STAAddress表示接入设备逻辑实体的地址，Link ID为预设值时表示需要报告所有链路的数据包接收状态，或表示需要报告所有在ADDBA response消息中确认的链路的数据包接收状态。3.一种多链路块确认方法，其特征在于，所述方法包括：发送BA request消息，所述BA request消息中包含参数BAR type、BAR information和Multi-Link-list，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；接收BA消息，所述BA消息中包含参数BA type、BA information和Multi-Link-list，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数。4.根据权利要求3所述的一种多链路块确认方法，其特征在于，Multi-Link-list为预设值或包含两个以上LinkID，LinkID表示需要报告数据包接收状态的链路标识，且Link ID为以下格式中的一种：数字、字符串、字符串加数字、链路信息元和预设值，所述链路信息元中包含参数TxSTAAddress和Rx STAAddress，或包含参数Non-AP STAAddress和APSTAAddress，TxSTAAddress表示发送方STA的地址，Rx STAAddress表示接收方STA的地址，Non-AP STAAddress表示终端设备逻辑实体的地址，AP STAAddress表示接入设备逻辑实体的地址，Multi-Link-list为预设值时表示需要报告所有链路的数据包接收状态，或表示需要报告所有在ADDBA response消息中确认的链路的数据包接收状态。5.一种多链路块确认方法，其特征在于，所述方法包括：接收BA request消息，所述BA request消息中包含参数BAR type和BAR information，其中，BAR type表示块确认请求类型，BARinformation表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BAR information包含参数BA starting sequence number和Link ID，其中，BA starting sequence number表示起始连续数据包的序列号，LinkID表示需要报告数据包接收状态的链路标识；发送BA消息，所述BA消息中包含参数BA type和BA information，其中，BA type表示块确认类型，BAinformation表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BAinformation包含起始连续数据包的序列号和用于指示接收到的数据包的数组。6.根据权利要求5所述的一种多链路块确认方法，其特征在于，Link ID为以下格式中的一种：数字、字符串、字符串加数字、链路信息元和预设值，所述链路信息元中包含参数TxSTAAddress和Rx STAAddress，或包含参数Non-AP STAAddress和AP STAAddress，TxSTAAddress表示发送方STA的地址，Rx STAAddress表示接收方STA的地址，Non-APSTAAddress表示终端设备逻辑实体的地址，AP STAAddress表示接入设备逻辑实体的地址，Link ID为预设值时表示需要报告所有链路的数据包接收状态，或表示需要报告所有在ADDBA response消息中确认的链路的数据包接收状态。7.根据权利要求6所述的一种多链路块确认方法，其特征在于，在接收BA request消息之后，且在发送BA消息之前，所述方法还包括：如果BA request消息中BAR type指示为Multi-Link，则读取BAR information中的LinkID，根据LinkID确定对应的逻辑实体，然后根据所有LinkID对应的逻辑实体上成功接收到的数据包序列号和BARinformation中的BA starting sequence number确定报告的数据包接收状态，并设置BA type指示为Multi-Link。8.根据权利要求7所述的一种多链路块确认方法，其特征在于，所述根据LinkID确定对应的逻辑实体包括：如果Link ID是数字、字符串、或者字符串加数字，则查询本地与该Link ID对应的逻辑实体的标识或地址便可确认对应的逻辑实体；如果Link ID是链路信息元，则根据RXSTAAddress的值确定对应的逻辑实体，或者根据接收方STA的属性查看Non-AP STAAddress或AP STAAddress的值确定对应的逻辑实体。9.根据权利要求5所述的一种多链路块确认方法，其特征在于，在接收BA request消息之后，且在发送BA消息之前，所述方法还包括：当BA request消息中BAR type指示为Multi-Link时，在ADDBA response消息中确认的链路中选择一条链路或在所有链路中选择一条链路发送BA消息。10.一种多链路块确认方法，其特征在于，所述方法包括：接收BA request消息，所述BA request消息中包含参数BAR type、BAR information和Multi-Link-list，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；发送BA消息，所述BA消息中包含参数BA type、BA information和Multi-Link-list，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数。11.根据权利要求10所述的一种多链路块确认方法，其特征在于，Multi-Link-list包含两个以上LinkID，LinkID表示需要报告数据包接收状态的链路标识，且Link ID为以下格式中的一种：数字、字符串、字符串加数字、链路信息元和预设值，所述链路信息元中包含参数TxSTAAddress和Rx STAAddress，或包含参数Non-AP STAAddress和AP STAAddress，TxSTAAddress表示发送方STA的地址，Rx STAAddress表示接收方STA的地址，Non-APSTAAddress表示终端设备逻辑实体的地址，AP STAAddress表示接入设备逻辑实体的地址，Link ID为预设值时表示需要报告所有链路的数据包接收状态，或表示需要报告所有在ADDBA response消息中确认的链路的数据包接收状态。12.根据权利要求11所述的一种多链路块确认方法，其特征在于，在接收BA request消息之后，且在发送BA消息之前，所述方法还包括：根据Link ID确定对应的逻辑实体，然后根据所有Link ID对应的逻辑实体上成功接收到的数据包序列号和BARinformation确定报告的数据包接收状态。13.根据权利要求12所述的一种多链路块确认方法，其特征在于，所述根据LinkID确定对应的逻辑实体包括：如果Link ID是数字、字符串、或者字符串加数字，则查询本地与该Link ID对应的逻辑实体的标识或地址便可确认对应的逻辑实体；如果Link ID是链路信息元，则根据RXSTAAddress的值确定对应的逻辑实体，或者根据接收方STA的属性查看Non-AP STAAddress或AP STAAddress的值确定对应的逻辑实体。14.根据权利要求10所述的一种多链路块确认方法，其特征在于，在接收BA request消息之后，且在发送BA消息之前，所述方法还包括：在ADDBA response消息中确认的链路中选择一条链路或在所有链路中选择一条链路发送BA消息。15.一种多链路块确认装置，其特征在于，所述装置包括：发起方通信模块一，用于发送BA request消息，所述BA request消息中包含参数BARtype和BAR information，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BAR information包含参数BA starting sequence number和LinkID，其中，BA startingsequence number表示起始连续数据包的序列号，LinkID表示需要报告数据包接收状态的链路标识；发起方通信模块二，用于接收BA消息，所述BA消息中包含参数BA type和BAinformation，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BA information包含起始连续数据包的序列号和用于指示接收到的数据包的数组。16.一种多链路块确认装置，其特征在于，所述装置包括：发起方通信模块一，用于发送BA request消息，所述BA request消息中包含参数BARtype、BAR information和Multi-Link-list，其中，BAR type表示块确认请求类型，BARinformation表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；发起方通信模块二，用于接收BA消息，所述BA消息中包含参数BA type、BAinformation和Multi-Link-list，其中，BA type表示块确认类型，BAinformation表示块确认类型对应的参数。17.一种多链路块确认装置，其特征在于，所述装置包括：接收方通信模块一，用于接收BA request消息，所述BA request消息中包含参数BARtype和BAR information，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BAR information包含参数BA starting sequence number和LinkID，其中，BA startingsequence number表示起始连续数据包的序列号，LinkID表示需要报告数据包接收状态的链路标识；接收方通信模块二，用于发送BA消息，所述BA消息中包含参数BA type和BAinformation，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BA information包含起始连续数据包的序列号和用于指示接收到的数据包的数组。18.一种多链路块确认装置，其特征在于，所述装置包括：接收方通信模块一，用于接收BA request消息，所述BA request消息中包含参数BARtype、BAR information和Multi-Link-list，其中，BAR type表示块确认请求类型，BARinformation表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；接收方通信模块二，用于发送BA消息，所述BA消息中包含参数BA type、BAinformation和Multi-Link-list，其中，BA type表示块确认类型，BAinformation表示块确认类型对应的参数。19.一种多链路块确认装置，其特征在于，所述装置包括处理器和存储器，所述存储器中存储有至少一条指令、至少一段程序代码、代码集或指令集，所述至少一条指令、至少一段程序代码、代码集或指令集由所述处理器加载并执行，以实现如权利要求1-14中任一项所述的多链路块确认方法。20.一种计算机可读存储介质，其特征在于，所述可读存储介质中存储有至少一条指令、至少一段程序代码、代码集或指令集，所述至少一条指令、至少一段程序代码、代码集或指令集由处理器加载并执行，以实现如权利要求1-14中任一项所述的多链路块确认方法。
说明书desc
技术领域本发明涉及无线通信领域，尤其涉及一种多链路块确认方法、装置及存储介质。背景技术在802.11系统中，接入设备和终端设备在内部都部署有MAC层和PHY层，其中MAC层的主要功能有信道管理、连接管理、服务质量管理、功率控制和时间同步等，PHY层的主要功能有调制、编码和传输等。MAC层和PHY层在概念上都包括分别称为媒体接入层管理实体MLME和物理层管理实体PLME的管理实体。这些实体提供了低层管理服务接口，通过这些接口可以调用低层管理功能。为了提供正确的MAC操作，每个设备中都有一个高层管理实体，如SME，SME表示在MAC层之上的高层管理实体，是一个独立于层的实体，它位于单独的管理平面中。SME的作用：通常，该实体负责诸如从各种层管理实体收集与层相关的状态之类的功能，类似地，其还会设置特定于层的参数值。SME通常代表一般的系统管理实体执行此类功能。各个层之间通过定义的原语进行交互。802.11be网络，也称为Extremely High Throughput网络，通过一系列系统特性和多种机制增强功能以实现极高的吞吐量。随着无线局域网的使用持续增长，对于在许多环境中提供无线数据服务越来越重要。特别是，视频流量将继续是许多WLAN部署中的主要流量类型。由于出现了4k和8k视频，这些应用的吞吐量要求正在不断发展。诸如虚拟现实或增强现实、游戏、远程办公室和云计算之类的新型高吞吐量，低延迟应用程序将会激增。鉴于这些应用程序的高吞吐量和严格的实时延迟要求，用户期望通过WLAN支持其应用程序时，吞吐量更高，可靠性更高，延迟和抖动更少，电源效率更高。用户期望改进与时敏网络的集成，以支持异构以太网和无线LAN上的应用程序。802.11be网络旨在通过进一步提高总吞吐量和降低延迟来确保WLAN的竞争力，同时确保与旧版技术标准向后兼容和共存。在2.4GHz，5GHz和6GHz频段运行的802.11兼容设备。发明内容在802.11网络中，为了保障网络的可靠性，发送方每发送一个数据包，接收方都需要给发送方返回一个ACK消息，用于告诉发送方是否正确接收到该数据包。随着网络数据速率的提高，网络允许发送方发送多个数据包之后，接收方对这多个数据包进行反馈，这样针对多个数据包进行反馈的消息称为Block ACK，即块确认方式。两个终端之间要使用块确认方式，必须首先在双方之间建立块确认协议。在多链路的操作场景中，多链路终端设备与多链路接入设备之间有独立的链路，按照现有技术实施，每条链路上都需要独立的进行块确认协议建立过程，而实际上对于多链路终端来说，除了支持不同的链路上可以独立的进行不同的业务，也可以支持在不同的链路上进行相同的业务，也就是说可以支持同一个TID的数据包在多条链路上都进行数据传输，那么接收和发送的物理实体就一个，也就是数据包的分发主体只有一个，在两个链路上分别反馈ACK就需要将数据包严格的进行划分之后再分发到各个链路上进行发送，相比于传统的单链路块确认增加了数据发送和接收管理的复杂度，容易造成数据丢失或数据重复，因此传统的块确认协议建立的方式无法满足多链路场景下的需求。有鉴于此，本发明实施例提供一种多链路块确认方法、装置及存储介质。第一方面，本发明实施例提供一种多链路块确认方法，所述方法包括：发送BA request消息，所述BA request消息中包含参数BAR type和BARinformation，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BARinformation包含参数BA starting sequence number和Link ID，其中，BA startingsequence number表示起始连续数据包的序列号，Link ID表示需要报告数据包接收状态的链路标识；接收BA消息，所述BA消息中包含参数BA type和BA information，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BA information包含起始连续数据包的序列号和用于指示接收到的数据包的数组。第二方面，本发明实施例提供一种多链路块确认方法，所述方法包括：发送BA request消息，所述BA request消息中包含参数BAR type、BARinformation和Multi-Link-list，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；接收BA消息，所述BA消息中包含参数BA type、BA information和Multi-Link-list，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数。第三方面，本发明实施例提供一种多链路块确认方法，所述方法包括：接收BA request消息，所述BA request消息中包含参数BAR type和BARinformation，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BARinformation包含参数BA starting sequence number和Link ID，其中，BA startingsequence number表示起始连续数据包的序列号，Link ID表示需要报告数据包接收状态的链路标识；发送BA消息，所述BA消息中包含参数BA type和BA information，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BA information包含起始连续数据包的序列号和用于指示接收到的数据包的数组。第四方面，本发明实施例提供一种多链路块确认方法，所述方法包括：接收BA request消息，所述BA request消息中包含参数BAR type、BARinformation和Multi-Link-list，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；发送BA消息，所述BA消息中包含参数BA type、BA information和Multi-Link-list，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数。第五方面，本发明实施例提供一种多链路块确认装置，所述装置包括：发起方通信模块一，用于发送BA request消息，所述BA request消息中包含参数BAR type和BAR information，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BAR information包含参数BA starting sequence number和Link ID，其中，BAstarting sequence number表示起始连续数据包的序列号，Link ID表示需要报告数据包接收状态的链路标识；发起方通信模块二，用于接收BA消息，所述BA消息中包含参数BA type和BAinformation，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BA information包含起始连续数据包的序列号和用于指示接收到的数据包的数组。第六方面，本发明实施例提供一种多链路块确认装置，所述装置包括：发起方通信模块一，用于发送BA request消息，所述BA request消息中包含参数BAR type、BAR information和Multi-Link-list，其中，BAR type表示块确认请求类型，BARinformation表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；发起方通信模块二，用于接收BA消息，所述BA消息中包含参数BA type、BAinformation和Multi-Link-list，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数。第七方面，本发明实施例提供一种多链路块确认装置，所述装置包括：接收方通信模块一，用于接收BA request消息，所述BA request消息中包含参数BAR type和BAR information，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BAR information包含参数BA starting sequence number和Link ID，其中，BAstarting sequence number表示起始连续数据包的序列号，Link ID表示需要报告数据包接收状态的链路标识；接收方通信模块二，用于发送BA消息，所述BA消息中包含参数BA type和BAinformation，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BA information包含起始连续数据包的序列号和用于指示接收到的数据包的数组。第八方面，本发明实施例提供一种多链路块确认装置，所述装置包括：接收方通信模块一，用于接收BA request消息，所述BA request消息中包含参数BAR type、BAR information和Multi-Link-list，其中，BAR type表示块确认请求类型，BARinformation表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；接收方通信模块二，用于发送BA消息，所述BA消息中包含参数BA type、BAinformation和Multi-Link-list，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数。第九方面，本发明实施例提供一种多链路块确认装置，所述装置包括处理器和存储器，所述存储器中存储有至少一条指令、至少一段程序代码、代码集或指令集，所述至少一条指令、至少一段程序代码、代码集或指令集由所述处理器加载并执行，以实现如第一方面至第四方面中任一方面所述的多链路块确认方法。第十方面，本发明实施例提供一种计算机可读存储介质，所述可读存储介质中存储有至少一条指令、至少一段程序代码、代码集或指令集，所述至少一条指令、至少一段程序代码、代码集或指令集由处理器加载并执行，以实现如第一方面至第四方面中任一方面所述的多链路块确认方法。需要说明的是，第五方面所述的装置用于执行上述第一方面提供的方法，第六方面所述的装置用于执行上述第二方面提供的方法，第七方面所述的装置用于执行上述第三方面提供的方法，第八方面所述的装置用于执行上述第四方面提供的方法，第九方面所述的装置和第十方面所述的可读存储介质用于执行上述第一方面至第四方面中任一方面提供的方法，因此可以达到与第一方面至第四方面中任一方面所述的方法相同的有益效果，本发明实施例不再一一赘述。本发明支持在多链路场景下灵活的反馈方式，通过使用多链路块确认的方法，两条及以上的链路上不再需要每条链路上都发送块确认消息，在一条链路上进行块确认反馈，避免了块确认BA接收不同步，导致对接收状态的错误判断，从而错误的重发数据包，避免了对无线资源的浪费。具体实施方式为了使本技术领域的人员更好地理解本发明中的技术方案，下面将对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。此外，虽然本发明中公开内容按照示范性一个或几个实例来介绍，但应理解，可以就这些公开内容的各个方面也可以单独构成一个完整技术方案。在不冲突的情况下，下述的实施例及实施例中的特征可以相互组合。在本发明实施例中，“示例地”、“例如”等词用于表示作例子、例证或说明。本发明中被描述为“示例”的任何实施例或设计方案不应被解释为比其它实施例或设计方案更优选或更具优势。确切而言，使用示例的一词旨在以具体方式呈现概念。除非另外定义，本发明使用的技术术语或者科学术语应当为本发明所属领域内具有一般技能的人士所理解的通常意义。本发明中使用的“第一”、“第二”以及类似的词语并不表示任何顺序、数量或者重要性，而是仅用于区分描述，且对应术语的含义可以相同也可以不同。“包括”或者“包含”等类似的词语意指出现该词前面的元件或者物件涵盖出现在该词后面列举的元件或者物件及其等同，而不排除其他元件或者物件。本发明实施例中，多链路设备中包含有多个逻辑实体，每个逻辑实体分别通过一条链路进行数据传输，每个逻辑实体均包含有独立的数据收发模块。传统的单链路设备只有一个逻辑实体，并且只有一个MAC地址，而多链路设备有一个MAC地址，隶属于多链路设备的每一个逻辑实体都有一个MAC地址，例如一个多链路设备运行有3个逻辑实体，则在这个物理设备上有4个MAC地址，一个是多链路设备的，三个逻辑实体各有一个MAC地址。在本发明实施例中，连续发送多个数据包的逻辑实体称为发送方STA，接收数据包的对等逻辑实体称为接收方STA。连续发送表示每个数据包发送完毕后不用等待接收到接收方的ACK后，才发送下一个数据包。在本发明实施例中，把多链路设备之间在不同链路上共享数据包接收状态的块确认方式称为多链路块确认，多链路设备之间建立的块确认协议称为多链路块确认协议，多链路设备上的多个逻辑实体共享同一个多链路块确认协议，也就是说多条链路只建立一个多链路块确认协议。本发明实施例中，多链路块确认方法包括以下内容：1.发送方STA发送ADDBA request消息给接收方STA，请求进行块确认操作。2.接收方STA发送ADDBA response消息给发送方STA，指示接受或拒绝块确认操作；如果是接受块确认操作，则发送方STA和接收方STA之间建立了块确认操作协议；否则，未建立块确认操作协议。3.在建立块确认操作协议，发送方STA获得发送时机后，发送方STA可以连续发送多个数据包给接收方STA，在多个数据包发送完毕后，发送块确认请求BA request消息给接收方STA，示例地，BA request消息中包含的参数如表1所示。表1参数说明BAR type块确认请求类型BAR information块确认请求类型对应的参数其中，BAR type类型及对应的参数设置示例如表2。表2当发送方STA隶属于多链路设备时，可以请求接收方STA只报告当前链路上的数据包接收状态，由此可以设置BAR type为Compressed，也可以请求接收方STA报告其他链路上的数据包接收状态，由此可以设置BAR type为Multi-Link，在BAR information中指示需要获取的其他链路的信息。当BAR type是Multi-Link时，BAR information包含的参数示例如表3所示。表3BAR information可以包含一个或两个以上Link ID。其中，Link ID可以是数字、字符串或字符串加数字，也可以是由表4或表5中所示参数构成的链路信息元：表4TxSTAAddressRx STAAddress发送方STA的地址接收方STA的地址表5Non-AP STAAddressAP STAAddress终端设备逻辑实体的地址与终端设备连接的接入设备逻辑实体的地址此外，也可以将Link ID设置为0或某一个特定的值，表示需要报告所有的链路的数据包接收状态；或表示需要报告所有在ADDBA response消息中确认的链路的数据包接收状态。4.接收方STA接收到BA request消息后，按照BAR type指示的类型和BARinformation中的序列号信息报告数据包接收状态：如果消息中BAR type指示为Compressed或Multi-TID，则根据接收方STA当前成功接收到的数据包和BA starting sequence number确定报告的数据包接收状态；如果消息中BAR type指示为Multi-Link，则读取BAR information中的Link ID，根据Link ID确定对应的逻辑实体，根据所有Link ID对应的逻辑实体上成功接收到的数据包序列号和BAR information中的BA starting sequence number确定报告的数据包接收状态，并设置BA type指示为Multi-Link。例如链路1成功接收到的数据包序列号为14,15,18,19,20，链路2成功接收到的数据包序列号为11,12,21,22,23，接收到的BA startingsequence number为16，则报告18,19,20，21,22,23成功接收。示例地，上述根据Link ID确定对应的逻辑实体的方法包括：如果Link ID是数字、字符串、或者字符串加数字，则查询本地与该Link ID对应的逻辑实体的标识或地址便可确认对应的逻辑实体，如果Link ID是上述的链路信息元，则根据RX STAAddress的值确定对应的逻辑实体，或者根据接收方STA的属性查看Non-AP STAAddress或APSTAAddress的值确定对应的逻辑实体。5.接收方STA将所有指定链路上的数据包接收状态包含在块确认BA消息中发送给发送方STA，示例地，BA消息中包含的参数如表6所示。表6参数说明BA type块确认类型BA information块确认类型对应的参数其中，BA type类型及对应的参数设置示例如表7。表7BAbitmap即一个数组，通过数组值为0或1，与起始连续数据包的序列号一起可以解析出哪些数据包被接收方STA成功接收。可选地，当BA request消息中BAR type指示为Multi-Link时，接收方STA所属多链路设备可以使用ADDBA response消息中确认的链路或所有链路中任何一条链路上的逻辑实体发送BA消息，而不仅仅是与发送方STA对等的接收方STA发送BA消息。6.发送方STA接收到BA消息后，根据BA starting sequence number和BA bitmap确定已被接收方STA成功接收的数据包，对比当前发送窗口，如果有未成功被接收方STA接收到的数据包，则重发该数据包。在另一实施例中，上述实施例的步骤3中，在建立块确认操作协议，发送方STA获得发送时机后，发送方STA可以连续发送多个数据包给接收方STA，在多个数据包发送完毕后，发送BA request消息给接收方STA，BA request消息中包含的参数示例如表8所示。表8当BA request消息中不包含参数Multi-Link-list时，BA request消息指示单链路模式，否则，BA request消息指示多链路模式。其中，BAR type类型及对应的参数设置示例如表9。表9Link ID可以是数字、字符串或字符串加数字，也可以是由表10或表11中所示参数构成的链路信息元：表10TxSTAAddressRx STAAddress发送方STA的地址接收方STA的地址表11Non-AP STAAddressAP STAAddress终端设备逻辑实体的地址与终端设备连接的接入设备逻辑实体的地址此外，也可以将Multi-Link-list设置为0或某一个特定的值，表示需要报告所有的链路的数据包接收状态；或表示需要报告所有在ADDBA response消息中确认的链路的数据包接收状态。上述实施例的步骤4中，接收方STA接收到BA request消息后，按照BAR type指示的类型和BAR information中的序列号信息报告数据包接收状态：如果BA request消息指示多链路模式，则根据Link ID确定对应的逻辑实体，然后根据所有Link ID对应的逻辑实体上成功接收到的数据包序列号和BAR information确定报告的数据包接收状态。例如链路1成功接收到的数据包序列号为14,15,18,19,20，链路2成功接收到的数据包序列号为11,12,21,22,23，接收到的起始连续数据包的序列号为16，则报告18,19,20，21,22,23成功接收；否则，根据接收方STA当前成功接收到的数据包和BAR information确定报告的数据包接收状态。示例地，上述根据Link ID确定对应的逻辑实体包括：如果Link ID是数字、字符串、或者字符串加数字，则查询本地与该Link ID对应的逻辑实体的标识或地址便可确认对应的逻辑实体，如果Link ID是上述的链路信息元，则根据RX STAAddress的值确定对应的逻辑实体，或者根据接收方STA的属性查看Non-AP STAAddress或APSTAAddress的值确定对应的逻辑实体。上述实施例的步骤5中，接收方STA将所有指定链路上的数据包接收状态包含在块确认BA消息中发送给发送方STA，示例地，BA消息中包含的参数如表12所示。表12其中，BA type类型及对应的参数设置示例如表13。表13BAbitmap即一个数组，通过数组值为0或1，与起始连续数据包的序列号一起可以解析出哪些数据包被接收方STA成功接收。可选地，当BA request消息指示为多链路模式时，接收方STA所属多链路设备可以使用ADDBA response消息中确认的链路或所有链路中任何一条链路上的逻辑实体发送BA消息，而不仅仅是与发送方STA对等的接收方STA发送BA消息。该实施例的其他内容与上一实施例相同，这里不再赘述。与上一实施例相比，该实施例在多链路模式下仍然可以选择使用不同的BA type，形成更灵活的组合。本发明实施例中，基于与上述一种多链路块确认方法同样的发明构思，本发明实施例还提供了一种多链路块确认装置，所述装置包括：发起方通信模块一，用于发送BA request消息，所述BA request消息中包含参数BAR type和BAR information，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BAR information包含参数BA starting sequence number和Link ID，其中，BAstarting sequence number表示起始连续数据包的序列号，Link ID表示需要报告数据包接收状态的链路标识；发起方通信模块二，用于接收BA消息，所述BA消息中包含参数BA type和BAinformation，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BA information包含起始连续数据包的序列号和用于指示接收到的数据包的数组。另一种多链路块确认装置，所述装置包括：发起方通信模块一，用于发送BA request消息，所述BA request消息中包含参数BAR type、BAR information和Multi-Link-list，其中，BAR type表示块确认请求类型，BARinformation表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；发起方通信模块二，用于接收BA消息，所述BA消息中包含参数BA type、BAinformation和Multi-Link-list，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数。又一种多链路块确认装置，所述装置包括：接收方通信模块一，用于接收BA request消息，所述BA request消息中包含参数BAR type和BAR information，其中，BAR type表示块确认请求类型，BAR information表示块确认请求类型对应的参数，块确认请求类型包括多链路模式Multi-Link，对应Multi-Link的BAR information包含参数BA starting sequence number和Link ID，其中，BAstarting sequence number表示起始连续数据包的序列号，Link ID表示需要报告数据包接收状态的链路标识；接收方通信模块二，用于发送BA消息，所述BA消息中包含参数BA type和BAinformation，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数，块确认类型包括多链路模式Multi-Link，对应Multi-Link的BA information包含起始连续数据包的序列号和用于指示接收到的数据包的数组。又一种多链路块确认装置，所述装置包括：接收方通信模块一，用于接收BA request消息，所述BA request消息中包含参数BAR type、BAR information和Multi-Link-list，其中，BAR type表示块确认请求类型，BARinformation表示块确认请求类型对应的参数，Multi-Link-list表示请求在一个块确认中报告的多条链路的信息；接收方通信模块二，用于发送BA消息，所述BA消息中包含参数BA type、BAinformation和Multi-Link-list，其中，BA type表示块确认类型，BA information表示块确认类型对应的参数。本发明实施例中，基于与上述一种多链路块确认方法同样的发明构思，本发明实施例还提供了一种多链路块确认装置，所述装置包括处理器和存储器，所述存储器中存储有至少一条指令、至少一段程序代码、代码集或指令集，所述至少一条指令、至少一段程序代码、代码集或指令集由所述处理器加载并执行，以实现上述实施例涉及的多链路块确认方法。此外，本发明实施例还提供一种计算机可读存储介质，所述可读存储介质中存储有至少一条指令、至少一段程序代码、代码集或指令集，所述至少一条指令、至少一段程序代码、代码集或指令集由处理器加载并执行，以实现上述实施例涉及的多链路块确认方法。应理解，在本发明的各种实施例中，上述各过程的序号的大小并不意味着执行顺序的先后，部分或全部步骤可以并行执行或先后执行，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统、装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本发明所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个模块或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。所述作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上模块集成在一个单元中。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、ROM、RAM)磁碟或者光盘等各种可以存储程序代码的介质。在本发明实施例中使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本发明。在本发明实施例和所附权利要求书中所使用的单数形式的“一种”、“所述”和“该”也旨在包括多数形式，除非上下文清楚地表示其他含义。还应当理解，本文中使用的术语“和/或”是指并包含一个或多个相关联的列出项目的任何或所有可能组合。本文中字符“/”，一般表示前后关联对象是一种“或”的关系。取决于语境，如在此所使用的词语“如果”或“若”可以被解释成为“在……时”或“当……时”或“响应于确定”或“响应于检测”。类似地，取决于语境，短语“如果确定”或“如果检测”可以被解释成为“当确定时”或“响应于确定”或“当检测时”或“响应于检测”。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
