标题title
一种全景视频中无规则遮挡的修复方法及装置
摘要abst
本申请公开了一种全景视频中无规则遮挡的修复方法及装置，通过筛选出全景视频中的存在无规则遮挡区域的视频帧，从而实现全景视频中存在无规则遮挡区域的视频帧的筛选，以实现精准修复，降低修复的数量，并且根据视频帧的上一视频帧和下一视频帧，修复视频帧中的遮挡区域，从而可以脱离人为操作，实现自动化修复全景视频，并且利用需要修复的视频帧的上一帧和下一帧进行当前帧的修复，即利用邻近帧修复当前帧，以保证修复得到的当前帧的真实性和准确性。
权利要求书clms
1.一种全景视频中无规则遮挡的修复方法，其特征在于，包括：筛选出所述全景视频中的存在无规则遮挡区域的视频帧；以及根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域。2.根据权利要求1所述的全景视频中无规则遮挡的修复方法，其特征在于，所述筛选出所述全景视频中的存在无规则遮挡区域的视频帧包括：解码所述全景视频，以得到多帧图像；以前置帧为基计算得到所述多帧图像的正向光流图；以后置帧为基计算得到所述多帧图像的反向光流图；以及根据所述正向光流图和所述反向光流图，筛选出所述多帧图像中存在无规则遮挡区域的视频帧。3.根据权利要求2所述的全景视频中无规则遮挡的修复方法，其特征在于，所述根据所述正向光流图和所述反向光流图，筛选出所述多帧图像中存在无规则遮挡区域的视频帧包括：确定所述正向光流图和所述反向光流图中空洞区域存在交集的视频帧作为所述存在无规则遮挡区域的视频帧。4.根据权利要求1所述的全景视频中无规则遮挡的修复方法，其特征在于，所述筛选出所述全景视频中的存在无规则遮挡区域的视频帧包括：解码所述全景视频，以得到多帧图像；分别计算所述多帧图像中的每帧图像与对应的前一帧图像、后一帧图像之间的相似度；以及确定所述相似度小于预设的相似度阈值的图像为所述存在无规则遮挡区域的视频帧。5.根据权利要求1所述的全景视频中无规则遮挡的修复方法，其特征在于，在所述筛选出所述全景视频中的存在无规则遮挡区域的视频帧之后，所述全景视频中无规则遮挡的修复方法还包括：将所述视频帧转换为灰度图像；对所述灰度图像进行二值化处理；以及对二值化处理后的所述灰度图像进行边缘检测，以得到待修复区域；其中，所述根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域包括：根据所述视频帧的上一视频帧和下一视频帧，修复所述待修复区域。6.根据权利要求5所述的全景视频中无规则遮挡的修复方法，其特征在于，所述对二值化处理后的所述灰度图像进行边缘检测，以得到待修复区域包括：计算得到二值化处理后的所述灰度图像的外接正方形；以所述外接正方形的中心为圆点、所述外接正方形的对角线长度为初始直径向外扩张，得到灰度值一致的连通区域；以及将所述连通区域内和所述连通区域外的灰度值分别设置为不同值，以得到所述待修复区域。7.根据权利要求6所述的全景视频中无规则遮挡的修复方法，其特征在于，所述以所述外接正方形的中心为圆点、所述外接正方形的对角线长度为初始直径向外扩张，得到灰度值一致的连通区域包括：以所述外接正方形的中心为圆点、所述外接正方形的对角线长度为初始直径和预设的扩展步长向外扩张，得到灰度值一致的最大连通区域。8.根据权利要求1所述的全景视频中无规则遮挡的修复方法，其特征在于，所述根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域包括：将所述视频帧、所述视频帧的上一视频帧和所述视频帧的下一视频帧输入神经网络模型，以得到目标区域数据。9.根据权利要求8所述的全景视频中无规则遮挡的修复方法，其特征在于，所述根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域还包括：计算所述目标区域数据对应的中心点；以及由所述中心点开始根据梯度一致原则将所述目标区域数据融入所述视频帧中以得到修复后的所述视频帧。10.一种全景视频中无规则遮挡的修复装置，其特征在于，包括：筛选模块，用于筛选出所述全景视频中的存在无规则遮挡区域的视频帧；以及修复模块，用于根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域。
说明书desc
技术领域本申请涉及视频图像的修复技术领域，具体涉及一种全景视频中无规则遮挡的修复方法及装置。背景技术随着VR技术的不断发展，VR全景视频也越来越为人们所采用。户外场景通常使用直升机挂载球机设备来拍摄连续的长镜头素材，然而由于VR全景视频在拍摄的过程中由于视角或其他的原因可能导致这种航拍方式易出现偶发性的、无规则的遮挡物。无规则指的是遮挡物本身归属类型未知、出现位置未知。遮挡物的出现会导致成片观影欠佳，突兀感强烈。为了解决该问题，可以对图像进行修复，在实际的后期修复方案实施中，全景视频由于存在非线性畸变，而传统修复方法基本上是在无畸变或畸变很小的情况下进行的，这一特殊性导致全景视频相较于无畸变视频而言，修复难度更高、对修复参与人员和修复方法的要求也较之更高。发明内容为了解决上述技术问题，提出了本申请。本申请的实施例提供了一种全景视频中无规则遮挡的修复方法及装置，解决了上述技术问题。根据本申请的一个方面，提供了一种全景视频中无规则遮挡的修复方法，包括：筛选出所述全景视频中的存在无规则遮挡区域的视频帧；以及根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域。在一实施例中，所述筛选出所述全景视频中的存在无规则遮挡区域的视频帧包括：解码所述全景视频，以得到多帧图像；以前置帧为基计算得到所述多帧图像的正向光流图；以后置帧为基计算得到所述多帧图像的反向光流图；以及根据所述正向光流图和所述反向光流图，筛选出所述多帧图像中存在无规则遮挡区域的视频帧。在一实施例中，所述根据所述正向光流图和所述反向光流图，筛选出所述多帧图像中存在无规则遮挡区域的视频帧包括：确定所述正向光流图和所述反向光流图中空洞区域存在交集的视频帧作为所述存在无规则遮挡区域的视频帧。在一实施例中，所述筛选出所述全景视频中的存在无规则遮挡区域的视频帧包括：解码所述全景视频，以得到多帧图像；分别计算所述多帧图像中的每帧图像与对应的前一帧图像、后一帧图像之间的相似度；以及确定所述相似度小于预设的相似度阈值的图像为所述存在无规则遮挡区域的视频帧。在一实施例中，在所述筛选出所述全景视频中的存在无规则遮挡区域的视频帧之后，所述全景视频中无规则遮挡的修复方法还包括：将所述视频帧转换为灰度图像；对所述灰度图像进行二值化处理；以及对二值化处理后的所述灰度图像进行边缘检测，以得到待修复区域；其中，所述根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域包括：根据所述视频帧的上一视频帧和下一视频帧，修复所述待修复区域。在一实施例中，所述对二值化处理后的所述灰度图像进行边缘检测，以得到待修复区域包括：计算得到二值化处理后的所述灰度图像的外接正方形；以所述外接正方形的中心为圆点、所述外接正方形的对角线长度为初始直径向外扩张，得到灰度值一致的连通区域；以及将所述连通区域内和所述连通区域外的灰度值分别设置为不同值，以得到所述待修复区域。在一实施例中，所述以所述外接正方形的中心为圆点、所述外接正方形的对角线长度为初始直径向外扩张，得到灰度值一致的连通区域包括：以所述外接正方形的中心为圆点、所述外接正方形的对角线长度为初始直径和预设的扩展步长向外扩张，得到灰度值一致的最大连通区域。在一实施例中，所述根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域包括：将所述视频帧、所述视频帧的上一视频帧和所述视频帧的下一视频帧输入神经网络模型，以得到目标区域数据。在一实施例中，所述根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域还包括：计算所述目标区域数据对应的中心点；以及由所述中心点开始根据梯度一致原则将所述目标区域数据融入所述视频帧中以得到修复后的所述视频帧。根据本申请的另一个方面，提供了一种全景视频中无规则遮挡的修复装置，包括：筛选模块，用于筛选出所述全景视频中的存在无规则遮挡区域的视频帧；以及修复模块，用于根据所述视频帧的上一视频帧和下一视频帧，修复所述视频帧中的遮挡区域。本申请提供的一种全景视频中无规则遮挡的修复方法及装置，通过筛选出全景视频中的存在无规则遮挡区域的视频帧，从而实现全景视频中存在无规则遮挡区域的视频帧的筛选，以实现精准修复，降低修复的数量，并且根据视频帧的上一视频帧和下一视频帧，修复视频帧中的遮挡区域，从而可以脱离人为操作，实现自动化修复全景视频，并且利用需要修复的视频帧的上一帧和下一帧进行当前帧的修复，即利用邻近帧修复当前帧，以保证修复得到的当前帧的真实性和准确性。附图说明通过结合附图对本申请实施例进行更详细的描述，本申请的上述以及其他目的、特征和优势将变得更加明显。附图用来提供对本申请实施例的进一步理解，并且构成说明书的一部分，与本申请实施例一起用于解释本申请，并不构成对本申请的限制。在附图中，相同的参考标号通常代表相同部件或步骤。图1是本申请一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。图2是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。图3是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。图4是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。图5是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。图6是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。图7是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。图8是本申请一示例性实施例提供的一种全景视频中无规则遮挡的修复装置的结构示意图。图9是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复装置的结构示意图。图10是本申请一示例性实施例提供的电子设备的结构图。具体实施方式下面，将参考附图详细地描述根据本申请的示例实施例。显然，所描述的实施例仅仅是本申请的一部分实施例，而不是本申请的全部实施例，应理解，本申请不受这里描述的示例实施例的限制。视频遮挡检测的方法可以有三种：一是基于特征的目标检测方法，这种方法的缺点比较明显，即检测目标的类别必须是已知的。二是基于观察的内容感知方法，这种方法最直接的方式是通过人眼来辨别未知出现的遮挡物，但这意味着需要大量的人工介入。三是以上两种方法的混合，先借助观察来确定遮挡物的类别然后通过特征法来确定遮挡物的位置，但是在大多数情况下遮挡物的类别通常是不常见的或者是由于运动模糊导致遮挡物类别的不可用，这意味着无论是手工特征提取方法或者基于学习的特征提取方法都存在问题。图像的遮挡去除通常有三种思路：一是通过空域信息，基于内容识别或近似匹配来寻找图像中相似的patch用于填充遮挡区域，这种方法适用于遮挡出现在规则物体或弱纹理上，但patch大小和相似区域的选择需要人工介入，同时遮挡区域有时具有空域唯一性；二是通过时域信息，思路与空域方法相似，区别是基于上下文特征匹配来寻找用于填充的内容，在一定程度上解决空域搜索范围小的问题，但仍需要人工介入；三是通过遮挡区域的邻近区域来创建纹理信息，这种方法适用于遮挡区域很小的情况下，遮挡区域较大后很容易出现失真现象。为了克服上述技术的难点，本申请提出了一种全景视频中无规则遮挡的修复方法及装置，利用算法筛选存在无规则遮挡区域的图像，并采用相邻帧图像进行修复，不仅可以不用人工介入，而且还可以修复得到较为准确的图像。下面结合附图具体说明本申请的实施方式。图1是本申请一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。如图1所示，该全景视频中无规则遮挡的修复方法包括如下步骤：步骤110：筛选出全景视频中的存在无规则遮挡区域的视频帧。无规则遮挡是指遮挡区域在图像帧序列上均出现或连续性出现，但出现位置在相邻帧中不存在重叠现象，或者是遮挡区域在图像帧序列中间隔出现，如某一帧存在遮挡，其前后帧不存在遮挡。通过无规则遮挡的特征筛选出全景视频中存在无规则遮挡区域的视频帧，以获知需要修复的视频帧。步骤120：根据视频帧的上一视频帧和下一视频帧，修复视频帧中的遮挡区域。在检测出包含无规则遮挡区域的视频帧后，选取该视频帧以及该视频帧的相关帧作为输入，通过基于光流数据提取方法，在输入中提取该视频帧缺少的数据生成合成帧，然后将对应无规则遮挡区域的提取生成数据融合到该视频帧中，来完成该视频帧的无规则遮挡区域的修复。本申请提供的一种全景视频中无规则遮挡的修复方法，通过筛选出全景视频中的存在无规则遮挡区域的视频帧，从而实现全景视频中存在无规则遮挡区域的视频帧的筛选，以实现精准修复，降低修复的数量，并且根据视频帧的上一视频帧和下一视频帧，修复视频帧中的遮挡区域，从而可以脱离人为操作，实现自动化修复全景视频，并且利用需要修复的视频帧的上一帧和下一帧进行当前帧的修复，即利用邻近帧修复当前帧，以保证修复得到的当前帧的真实性和准确性。图2是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。如图2所示，上述步骤110可以包括：步骤111：解码全景视频，以得到多帧图像。启动无规则遮挡区域检测，首先将所选视频解码成图像帧序列，并通过场景检测将图像帧序列分组为集合V{V1,…,Vx,…,Vmax}，Vx表示第x组，其中没组包含多帧图像。步骤112：以前置帧为基计算得到多帧图像的正向光流图。步骤113：以后置帧为基计算得到多帧图像的反向光流图。依次对V中每一组进行操作，以Vx{I1,…,Ii,…Imax}为例，后续均与Vx类似。首先从Vx中选取Ii帧和Ii+1帧，计算出Ii帧到Ii+1帧的光流Fi-＞i+1并以前置帧为基，得到正向光流uv图Gi-＞i+1。同时计算出Ii+1帧到Ii帧的光流Fi+1-＞i并以后置帧为基，得到反向光流uv图Gi+1-＞i。步骤114：根据正向光流图和反向光流图，筛选出多帧图像中存在无规则遮挡区域的视频帧。在一实施例中，步骤114的具体实现方式可以是：确定正向光流图和反向光流图中空洞区域存在交集的视频帧作为存在无规则遮挡区域的视频帧。通过比较光流uv图Gi-＞i+1和Gi+1-＞i的空洞分布，计算Gi-＞i+1和Gi+1-＞i的空洞的交集区域，得到初步筛选的疑似包含遮挡区域的帧集合S。图3是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。如图3所示，上述步骤110可以包括：步骤115：解码全景视频，以得到多帧图像。步骤115与上述步骤111类似，此处不再赘述。并且，步骤115可以与步骤111为同一步骤。步骤116：分别计算多帧图像中的每帧图像与对应的前一帧图像、后一帧图像之间的相似度。其中，每帧图像可以是该多帧图像，也可以是经过上述步骤111-步骤114筛选之后得到的图像。从帧集合S中依次选取一帧图像Ii以及对应帧序列Vx中的帧Ii-1和Ii+1，然后对帧Ii包含的空洞区域进行扩张，扩张大小为原来的3到4倍，得到检测区域Pi,将检测区域Pi应用到帧Ii-1和Ii+1相同的区域得到检测区域Pi-1和Pi+1，接着分别计算出Pi和Pi-1的SSIM值以及Pi和Pi+1的SSIM值。步骤117：确定相似度小于预设的相似度阈值的图像为存在无规则遮挡区域的视频帧。当相似度小于预设的相似度阈值时说明该图像中存在无规则遮挡区域，例如如果Pi和Pi-1的SSIM值以及Pi和Pi+1的SSIM值都大于0.9，则从帧集合S剔除该帧，得到最终包含遮挡区域的帧集合Sfinal。图4是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。如图4所示，在步骤110之后，上述全景视频中无规则遮挡的修复方法还可以包括：步骤130：将视频帧转换为灰度图像。依次从帧集合Sfinal选取一帧图像Ii，然后将图像Ii转换为灰度图。步骤140：对灰度图像进行二值化处理。通过设置阈值将灰度图二值化处理，以得到二值化图像。步骤150：对二值化处理后的灰度图像进行边缘检测，以得到待修复区域。接着使用Canny算子进行边缘检测，通过形态学闭运算来平滑像素边缘，以得到待修复区域。对应的，步骤120调整为：根据视频帧的上一视频帧和下一视频帧，修复待修复区域。图5是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。如图5所示，上述步骤150可以包括：步骤151：计算得到二值化处理后的灰度图像的外接正方形。由于遮挡空洞区域是真实遮挡区域的子集，所以需要扩张空洞区域才能到达真实遮挡区域。先计算图像Ii中空洞区域的无偏斜的外接正方形。步骤152：以外接正方形的中心为圆点、外接正方形的对角线长度为初始直径向外扩张，得到灰度值一致的连通区域。在一实施例中，步骤152的具体实现方式可以是：以外接正方形的中心为圆点、外接正方形的对角线长度为初始直径和预设的扩展步长向外扩张，得到灰度值一致的最大连通区域。具体的，取外接正方形的中心作为圆点，正方形对角线长度为初始直径，以round*0.004)个像素的增长速度寻找区域内的最大连通域，如果该连通域包含Ii中空洞区域，则选择该连通域作为最终的无规则遮挡物的轮廓边缘Oi。步骤153：将连通区域内和连通区域外的灰度值分别设置为不同值，以得到待修复区域。将Oi膨胀round*0.004)个像素后，将区域内部置为1，区域外部置为0，生成圈出无规则遮挡物的mask图像。图6是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。如图6所示，上述步骤120可以包括：步骤121：将视频帧、视频帧的上一视频帧和视频帧的下一视频帧输入神经网络模型，以得到目标区域数据。依次从帧集合Sfinal中选取一帧图像Ii以及对应的Maski，并从帧序列Vx中选取其对应的前后帧Ii-1和Ii+1，使用训练好的用于对目标修复区域数据生成的神经网络模型生成目标区域数据Rig。图7是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复方法的流程示意图。如图7所示，上述步骤120还可以包括：步骤122：计算目标区域数据对应的中心点。步骤123：由中心点开始根据梯度一致原则将目标区域数据融入视频帧中以得到修复后的视频帧。首先计算出Maski的中心，然后通过梯度一致性方法将生成数据Rig融合到原始帧Ii的无规则遮挡区域中。图8是本申请一示例性实施例提供的一种全景视频中无规则遮挡的修复装置的结构示意图。如图8所示，该全景视频中无规则遮挡的修复装置80包括：筛选模块81，用于筛选出全景视频中的存在无规则遮挡区域的视频帧；以及修复模块82，用于根据视频帧的上一视频帧和下一视频帧，修复视频帧中的遮挡区域。本申请提供的一种全景视频中无规则遮挡的修复装置，通过筛选模块81筛选出全景视频中的存在无规则遮挡区域的视频帧，从而实现全景视频中存在无规则遮挡区域的视频帧的筛选，以实现精准修复，降低修复的数量，并且修复模块82根据视频帧的上一视频帧和下一视频帧，修复视频帧中的遮挡区域，从而可以脱离人为操作，实现自动化修复全景视频，并且利用需要修复的视频帧的上一帧和下一帧进行当前帧的修复，即利用邻近帧修复当前帧，以保证修复得到的当前帧的真实性和准确性。图9是本申请另一示例性实施例提供的一种全景视频中无规则遮挡的修复装置的结构示意图。如图9所示，该筛选模块81可以包括：解码单元811，用于解码全景视频，以得到多帧图像；正向计算单元812，用于以前置帧为基计算得到多帧图像的正向光流图；反向计算单元813，用于以后置帧为基计算得到多帧图像的反向光流图；初筛单元814，用于根据正向光流图和反向光流图，筛选出多帧图像中存在无规则遮挡区域的视频帧。在一实施例中，该交集计算单元814可以进一步配置为：确定正向光流图和反向光流图中空洞区域存在交集的视频帧作为存在无规则遮挡区域的视频帧。在一实施例中，如图9所示，该筛选模块81还可以包括：相似计算单元815，用于分别计算多帧图像中的每帧图像与对应的前一帧图像、后一帧图像之间的相似度；复筛单元816，用于确定相似度小于预设的相似度阈值的图像为存在无规则遮挡区域的视频帧。在一实施例中，如图9所示，该全景视频中无规则遮挡的修复装置80还可以包括：灰度处理模块83，用于将视频帧转换为灰度图像；二值处理模块84，用于对灰度图像进行二值化处理；边缘检测模块85，用于对二值化处理后的灰度图像进行边缘检测，以得到待修复区域。对应的，该修复模块82配置为：根据视频帧的上一视频帧和下一视频帧，修复待修复区域。在一实施例中，如图9所示，该边缘检测模块85可以包括：方形计算单元851，用于计算得到二值化处理后的灰度图像的外接正方形；扩张单元852，用于以外接正方形的中心为圆点、外接正方形的对角线长度为初始直径向外扩张，得到灰度值一致的连通区域；灰度设置单元853，用于将连通区域内和连通区域外的灰度值分别设置为不同值，以得到待修复区域。在一实施例中，扩张单元852可以配置为：以外接正方形的中心为圆点、外接正方形的对角线长度为初始直径和预设的扩展步长向外扩张，得到灰度值一致的最大连通区域。在一实施例中，如图9所示，该修复模块82可以包括：目标数据计算单元821，用于将视频帧、视频帧的上一视频帧和视频帧的下一视频帧输入神经网络模型，以得到目标区域数据。在一实施例中，如图9所示，该修复模块82还可以包括：中心点计算单元822，用于计算目标区域数据对应的中心点；数据融入单元823，用于由中心点开始根据梯度一致原则将目标区域数据融入视频帧中以得到修复后的视频帧。下面，参考图10来描述根据本申请实施例的电子设备。该电子设备可以是第一设备和第二设备中的任一个或两者、或与它们独立的单机设备，该单机设备可以与第一设备和第二设备进行通信，以从它们接收所采集到的输入信号。图10图示了根据本申请实施例的电子设备的框图。如图10所示，电子设备10包括一个或多个处理器11和存储器12。处理器11可以是中央处理单元或者具有数据处理能力和/或指令执行能力的其他形式的处理单元，并且可以控制电子设备10中的其他组件以执行期望的功能。存储器12可以包括一个或多个计算机程序产品，所述计算机程序产品可以包括各种形式的计算机可读存储介质，例如易失性存储器和/或非易失性存储器。所述易失性存储器例如可以包括随机存取存储器和/或高速缓冲存储器等。所述非易失性存储器例如可以包括只读存储器、硬盘、闪存等。在所述计算机可读存储介质上可以存储一个或多个计算机程序指令，处理器11可以运行所述程序指令，以实现上文所述的本申请的各个实施例的全景视频中无规则遮挡的修复方法以及/或者其他期望的功能。在所述计算机可读存储介质中还可以存储诸如输入信号、信号分量、噪声分量等各种内容。在一个示例中，电子设备10还可以包括：输入装置13和输出装置14，这些组件通过总线系统和/或其他形式的连接机构互连。在该电子设备是单机设备时，该输入装置13可以是通信网络连接器，用于从第一设备和第二设备接收所采集的输入信号。此外，该输入设备13还可以包括例如键盘、鼠标等等。该输出装置14可以向外部输出各种信息，包括确定出的距离信息、方向信息等。该输出设备14可以包括例如显示器、扬声器、打印机、以及通信网络及其所连接的远程输出设备等等。当然，为了简化，图10中仅示出了该电子设备10中与本申请有关的组件中的一些，省略了诸如总线、输入/输出接口等等的组件。除此之外，根据具体应用情况，电子设备10还可以包括任何其他适当的组件。除了上述方法和设备以外，本申请的实施例还可以是计算机程序产品，其包括计算机程序指令，所述计算机程序指令在被处理器运行时使得所述处理器执行本说明书上述“示例性方法”部分中描述的根据本申请各种实施例的全景视频中无规则遮挡的修复方法中的步骤。所述计算机程序产品可以以一种或多种程序设计语言的任意组合来编写用于执行本申请实施例操作的程序代码，所述程序设计语言包括面向对象的程序设计语言，诸如Java、C++等，还包括常规的过程式程序设计语言，诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算设备上执行、部分地在用户设备上执行、作为一个独立的软件包执行、部分在用户计算设备上部分在远程计算设备上执行、或者完全在远程计算设备或服务器上执行。此外，本申请的实施例还可以是计算机可读存储介质，其上存储有计算机程序指令，所述计算机程序指令在被处理器运行时使得所述处理器执行本说明书上述“示例性方法”部分中描述的根据本申请各种实施例的全景视频中无规则遮挡的修复方法中的步骤。所述计算机可读存储介质可以采用一个或多个可读介质的任意组合。可读介质可以是可读信号介质或者可读存储介质。可读存储介质例如可以包括但不限于电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。以上结合具体实施例描述了本申请的基本原理，但是，需要指出的是，在本申请中提及的优点、优势、效果等仅是示例而非限制，不能认为这些优点、优势、效果等是本申请的各个实施例必须具备的。另外，上述公开的具体细节仅是为了示例的作用和便于理解的作用，而非限制，上述细节并不限制本申请为必须采用上述具体的细节来实现。本申请中涉及的器件、装置、设备、系统的方框图仅作为例示性的例子并且不意图要求或暗示必须按照方框图示出的方式进行连接、布置、配置。如本领域技术人员将认识到的，可以按任意方式连接、布置、配置这些器件、装置、设备、系统。诸如“包括”、“包含”、“具有”等等的词语是开放性词汇，指“包括但不限于”，且可与其互换使用。这里所使用的词汇“或”和“和”指词汇“和/或”，且可与其互换使用，除非上下文明确指示不是如此。这里所使用的词汇“诸如”指词组“诸如但不限于”，且可与其互换使用。还需要指出的是，在本申请的装置、设备和方法中，各部件或各步骤是可以分解和/或重新组合的。这些分解和/或重新组合应视为本申请的等效方案。提供所公开的方面的以上描述以使本领域的任何技术人员能够做出或者使用本申请。对这些方面的各种修改对于本领域技术人员而言是非常显而易见的，并且在此定义的一般原理可以应用于其他方面而不脱离本申请的范围。因此，本申请不意图被限制到在此示出的方面，而是按照与在此公开的原理和新颖的特征一致的最宽范围。为了例示和描述的目的已经给出了以上描述。此外，此描述不意图将本申请的实施例限制到在此公开的形式。尽管以上已经讨论了多个示例方面和实施例，但是本领域技术人员将认识到其某些变型、修改、改变、添加和子组合。
