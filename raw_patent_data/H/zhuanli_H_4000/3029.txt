标题title
端口连接关系的确定方法、装置、设备及存储介质
摘要abst
本发明提供一种端口连接关系的确定方法、装置、设备及存储介质，涉及通信领域，用于确定端口的连接关系，包括端口连接关系的确定装置获取多个待检测端口在同一时间段的流速信息，流速信息包括采集时刻以及待检测端口在采集时刻对应的传输数据的流速；并根据多个待检测端口在同一时间段的流速信息，生成多个时间序列曲线；其中，一个待检测端口在同一时间段的流速信息对应一个时间序列曲线，时间序列曲线用于表征待检测端口传输数据的流速。进一步的，端口连接关系的确定装置在多个时间序列曲线中存在两个时间序列曲线在同一坐标系下之间的距离小于预设阈值的情况下，确定两个时间序列曲线分别对应的待检测端口之间存在连接关系。
权利要求书clms
1.一种端口连接关系的确定方法，其特征在于，所述方法包括：获取多个待检测端口在同一时间段的流速信息，所述流速信息包括采集时刻以及待检测端口在所述采集时刻对应的传输数据的流速；根据多个待检测端口在所述同一时间段的所述流速信息，生成多个时间序列曲线；一个待检测端口在所述同一时间段的所述流速信息对应一个时间序列曲线，所述时间序列曲线用于表征待检测端口传输数据的流速；在所述多个时间序列曲线中存在两个时间序列曲线在同一坐标系下之间的距离小于预设阈值的情况下，确定所述两个时间序列曲线分别对应的待检测端口之间存在连接关系。2.根据权利要求1所述的确定方法，其特征在于，所述方法还包括：确定第一流速和第二流速的差值，所述第一流速为第一时间序列曲线上的任意一个流速信息的流速，所述第二流速为第二时间序列曲线上的任意一个流速信息的流速，所述第一时间序列曲线和所述第二时间序列曲线为所述多个时间序列曲线中的任意两个时间序列曲线；根据所述第一时间序列曲线上的每个流速分别与所述第二时间序列曲线上的每个流速的差值，确定最佳路径；所述最佳路径经过的差值之和为所有路径经过的差值之和中的最小值；确定所述最佳路径经过的差值对应的目标流速信息对，所述目标流速信息对包括计算所述最佳路径经过的差值的两个流速所属的流速信息；基于所述目标流速信息对，确定所述第一时间序列曲线与所述第二时间序列曲线之间的距离。3.根据权利要求2所述的确定方法，其特征在于，所述确定最佳路径，还包括：对于所述第一流速和所述第二流速，确定第一差值、第二差值、第三差值；所述第一差值为所述第二流速与第三流速的目标差值，所述第三流速为所述第一时间序列曲线上所述第一流速的采集时刻的上一采集时刻对应的流速；所述第二差值为所述第一流速与第四流速的目标差值，所述第四流速为所述第二时间序列曲线上所述第二流速的采集时刻的上一采集时刻对应的流速；所述第三差值为所述第三流速与所述第四流速的目标差值；将所述第一差值、所述第二差值、所述第三差值中的最小值，与所述第一流速和所述第二流速的差值的和确定为所述第一流速和所述第二流速的目标差值；根据所述第一时间序列曲线上的每个流速分别与所述第二时间序列曲线上的每个流速的目标差值，确定最佳路径；所述最佳路径经过的目标差值之和为所有路径经过的目标差值之和中的最小值。4.根据权利要求1所述的确定方法，其特征在于，所述方法还包括：确定第一子曲线与第二子曲线之间的距离；所述第一子曲线为第三时间序列曲线在预设采集时刻的子曲线，所述第三时间序列曲线为所述多个时间序列曲线中的任意一个，所述第二子曲线为所述多个时间序列曲线中除所述第三时间序列曲线外其他时间序列曲线在所述预设采集时刻的子曲线，所述预设采集时刻为所述同一时间段中的部分采集时刻；在存在多个距离的情况下，将与所述第一子曲线距离最大的子曲线从所述第二子曲线中删除，以更新所述第二子曲线，并基于预设增量增加所述预设采集时刻的时刻数量，以更新所述预设采集时刻，直至确定存在一个距离；在存在一个距离的情况下，将存在的距离对应的所述第二子曲线所属的时间序列曲线确定为第四时间序列曲线；确定所述第三时间序列曲线与所述第四时间序列曲线分别对应的待检测端口存在连接关系。5.根据权利要求4所述的确定方法，其特征在于，所述预设采集时刻为所述同一时间段内包括的采集时刻在前的一半采集时刻。6.一种端口连接关系的确定装置，其特征在于，包括获取单元、生成单元以及确定单元；所述获取单元，用于获取多个待检测端口在同一时间段的流速信息，所述流速信息包括采集时刻以及待检测端口在所述采集时刻对应的传输数据的流速；所述生成单元，用于根据多个待检测端口在所述同一时间段的所述流速信息，生成多个时间序列曲线；一个待检测端口在所述同一时间段的所述流速信息对应一个时间序列曲线，所述时间序列曲线用于表征待检测端口传输数据的流速；所述确定单元，用于在所述多个时间序列曲线中存在两个时间序列曲线在同一坐标系下之间的距离小于预设阈值的情况下，确定所述两个时间序列曲线分别对应的待检测端口之间存在连接关系。7.根据权利要求6所述的确定装置，其特征在于，所述确定单元，还用于确定第一流速和第二流速的差值，所述第一流速为第一时间序列曲线上的任意一个流速信息的流速，所述第二流速为第二时间序列曲线上的任意一个流速信息的流速，所述第一时间序列曲线和所述第二时间序列曲线为所述多个时间序列曲线中的任意两个时间序列曲线；所述确定单元，还用于根据所述第一时间序列曲线上的每个流速分别与所述第二时间序列曲线上的每个流速的差值，确定最佳路径；所述最佳路径经过的差值之和为所有路径经过的差值之和中的最小值；所述确定单元，还用于确定所述最佳路径经过的差值对应的目标流速信息对，所述目标流速信息对包括计算所述最佳路径经过的差值的两个流速所属的流速信息；所述确定单元，还用于基于所述目标流速信息对，确定所述第一时间序列曲线与所述第二时间序列曲线之间的距离。8.根据权利要求7所述的确定装置，其特征在于，所述确定单元，还用于对于所述第一流速和所述第二流速，确定第一差值、第二差值、第三差值；所述第一差值为所述第二流速与第三流速的目标差值，所述第三流速为所述第一时间序列曲线上所述第一流速的采集时刻的上一采集时刻对应的流速；所述第二差值为所述第一流速与第四流速的目标差值，所述第四流速为所述第二时间序列曲线上所述第二流速的采集时刻的上一采集时刻对应的流速；所述第三差值为所述第三流速与所述第四流速的目标差值；所述确定单元，还用于将所述第一差值、所述第二差值、所述第三差值中的最小值，与所述第一流速和所述第二流速的差值的和确定为所述第一流速和所述第二流速的目标差值；所述确定单元，还用于根据所述第一时间序列曲线上的每个流速分别与所述第二时间序列曲线上的每个流速的目标差值，确定最佳路径；所述最佳路径经过的目标差值之和为所有路径经过的目标差值之和中的最小值。9.根据权利要求6所述的确定装置，其特征在于，所述确定装置还包括处理单元，所述确定单元，还用于确定第一子曲线与第二子曲线之间的距离；所述第一子曲线为第三时间序列曲线在预设采集时刻的子曲线，所述第三时间序列曲线为所述多个时间序列曲线中的任意一个，所述第二子曲线为所述多个时间序列曲线中除所述第三时间序列曲线外其他时间序列曲线在所述预设采集时刻的子曲线，所述预设采集时刻为所述同一时间段中的部分采集时刻；所述处理单元，用于在存在多个距离的情况下，将与所述第一子曲线距离最大的子曲线从所述第二子曲线中删除，以更新所述第二子曲线，并基于预设增量增加所述预设采集时刻的时刻数量，以更新所述预设采集时刻，直至确定存在一个距离；所述确定单元，还用于在存在一个距离的情况下，将存在的距离对应的所述第二子曲线所属的时间序列曲线确定为第四时间序列曲线；所述确定单元，还用于确定所述第三时间序列曲线与所述第四时间序列曲线分别对应的待检测端口存在连接关系。10.根据权利要求9所述的确定装置，其特征在于，所述预设采集时刻为所述同一时间段内包括的采集时刻在前的一半采集时刻。11.一种端口连接关系的确定设备，其特征在于，包括存储器和处理器；所述存储器和所述处理器耦合；所述存储器用于存储计算机程序代码，所述计算机程序代码包括计算机指令；当所述处理器执行所述计算机指令时，所述端口连接关系的确定设备执行如权利要求1-5中任意一项所述的端口连接关系的确定方法。12.一种计算机可读存储介质，所述计算机可读存储介质中存储有指令，其特征在于，当所述指令在端口连接关系的确定设备上运行时，使得所述端口连接关系的确定设备执行如权利要求1-5中任意一项所述的端口连接关系的确定方法。
说明书desc
技术领域本发明涉及通信领域，尤其涉及一种端口连接关系的确定方法、装置、设备及存储介质。背景技术网络拓扑是指一个通信网络内，各个网络节点之间端口的连接关系，这些网络节点包括路由器、交换机、网桥、集线器及终端主机等等。根据各网络节点之间端口的连接关系信息，能够有效的帮助管理员进行网络故障定位和性能分析。目前，通常采用人工匹配的方法或者基于网际互联协议地址匹配的方法来确定网络节点之间端口的连接关系。其中，采用人工匹配的方法工作量较大，且光模块开关对网络业务存在一定的影响；基于IP地址匹配则对两端设备的IP地址配置规则存在一定要求，只有两端设备的IP地址按照规则配置才可使用该方法，且在一些较大的网络架构中，地址解析协议表中的记录会不断的更新，将无法包含网络中所有的交换路由设备。上述两种方法的适用性较差，且存在一定的弊端，无法很好应用于在大多数的网络中确定各网络节点之间端口的连接关系。发明内容本发明提供一种端口连接关系的确定方法、装置、设备及存储介质，用于在多种网络架构下，确定网络中各设备端口之间的连接关系。为了达到上述目的，本发明采用如下技术方案：第一方面，提供一种端口连接关系的确定方法，该方法包括：端口连接关系的确定装置获取多个待检测端口在同一时间段的流速信息，流速信息包括采集时刻以及待检测端口在采集时刻对应的传输数据的流速；并根据多个待检测端口在同一时间段的流速信息，生成多个时间序列曲线；一个待检测端口在同一时间段的流速信息对应一个时间序列曲线，时间序列曲线用于表征待检测端口传输数据的流速。进一步的，端口连接关系的确定装置在多个时间序列曲线中存在两个时间序列曲线在同一坐标系下之间的距离小于预设阈值的情况下，确定两个时间序列曲线分别对应的待检测端口之间存在连接关系。在本发明提供的端口连接关系的确定方法中，通过确定用于表征端口传输数据的流速的时间序列曲线之间的距离，来确定存在连接关系的端口，不受端口所处的网络影响，能够适用于大多数的网络中，确定端口之间的连接关系。一种可能的设计中，上述确定方法还包括端口连接关系的确定装置确定第一流速和第二流速的差值，第一流速为第一时间序列曲线上的任意一个流速信息的流速，第二流速为第二时间序列曲线上的任意一个流速信息的流速，第一时间序列曲线和第二时间序列曲线为多个时间序列曲线中的任意两个时间序列曲线。进一步的，端口连接关系的确定装置根据第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的差值，确定最佳路径；最佳路径经过的差值之和为所有路径经过的差值之和中的最小值；并确定最佳路径经过的差值对应的目标流速信息对，目标流速信息对包括计算最佳路径经过的差值的两个流速所属的流速信息；最后，端口连接关系的确定装置基于目标流速信息对，确定第一时间序列曲线与第二时间序列曲线之间的距离。该设计中通过两条时间序列曲线上的流速信息，能够使得在后续确定时间序列曲线之间距离时，确定到的距离为两条时间序列曲线之间的最短距离。一种可能的设计中，上述确定最佳路径还包括端口连接关系的确定装置对于第一流速和第二流速，确定第一差值、第二差值、第三差值；其中，第一差值为第二流速与第三流速的目标差值，第三流速为第一时间序列曲线上第一流速的采集时刻的上一采集时刻对应的流速；第二差值为第一流速与第四流速的目标差值，第四流速为第二时间序列曲线上第二流速的采集时刻的上一采集时刻对应的流速；第三差值为第三流速与第四流速的目标差值；并将第一差值、第二差值、第三差值中的最小值，与第一流速和第二流速的差值的和确定为第一流速和第二流速的目标差值。进一步的，端口连接关系的确定装置根据第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的目标差值，确定最佳路径；最佳路径经过的目标差值之和为所有路径经过的目标差值之和中的最小值。该设计中提供了一种确定最佳路径的更准确的方法，能够使得确定到的两条曲线之间的最短距离更加准确。一种可能的设计中，上述端口连接关系的确定方法还包括：端口连接关系的确定装置确定第一子曲线与第二子曲线之间的距离；其中，第一子曲线为第三时间序列曲线在预设采集时刻的子曲线，第三时间序列曲线为多个时间序列曲线中的任意一个，第二子曲线为多个时间序列曲线中除第三时间序列曲线外其他时间序列曲线在预设采集时刻的子曲线，预设采集时刻为同一时间段中的部分采集时刻。进一步的，在存在多个距离的情况下，端口连接关系的确定装置将与第一子曲线距离最大的子曲线从第二子曲线中删除，以更新第二子曲线，并基于预设增量增加预设采集时刻的时刻数量，以更新预设采集时刻，直至确定存在一个距离；并在存在一个距离的情况下，将存在的距离对应的第二子曲线所属的时间序列曲线确定为第四时间序列曲线。进一步的，端口连接关系的确定装置确定第三时间序列曲线与第四时间序列曲线分别对应的待检测端口存在连接关系。该设计中实现了通过计算较少的数据，即可确定时间序列曲线对应的端口是否存在连接关系，节约了端口连接关系的确定装置的计算资源。一种可能的设计中，上述预设采集时刻为同一时间段内包括的采集时刻在前的一半采集时刻。该设计中通过一半的采集时刻的数据来保障确定时间序列曲线之间距离的准确性。第二方面，提供一种端口连接关系的确定装置，包括获取单元、生成单元以及确定单元。获取单元用于获取多个待检测端口在同一时间段的流速信息，流速信息包括采集时刻以及待检测端口在采集时刻对应的传输数据的流速。生成单元用于根据多个待检测端口在同一时间段的流速信息，生成多个时间序列曲线；一个待检测端口在同一时间段的流速信息对应一个时间序列曲线，时间序列曲线用于表征待检测端口传输数据的流速。确定单元用于在多个时间序列曲线中存在两个时间序列曲线在同一坐标系下之间的距离小于预设阈值的情况下，确定两个时间序列曲线分别对应的待检测端口之间存在连接关系。一种可能的设计中，上述确定单元还用于确定第一流速和第二流速的差值，第一流速为第一时间序列曲线上的任意一个流速信息的流速，第二流速为第二时间序列曲线上的任意一个流速信息的流速，第一时间序列曲线和第二时间序列曲线为多个时间序列曲线中的任意两个时间序列曲线。确定单元还用于根据第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的差值，确定最佳路径；最佳路径经过的差值之和为所有路径经过的差值之和中的最小值。确定单元还用于确定最佳路径经过的差值对应的目标流速信息对，目标流速信息对包括计算最佳路径经过的差值的两个流速所属的流速信息。确定单元还用于基于目标流速信息对，确定第一时间序列曲线与第二时间序列曲线之间的距离。一种可能的设计中，上述确定单元还用于对于第一流速和第二流速，确定第一差值、第二差值、第三差值；其中，第一差值为第二流速与第三流速的目标差值，第三流速为第一时间序列曲线上第一流速的采集时刻的上一采集时刻对应的流速；第二差值为第一流速与第四流速的目标差值，第四流速为第二时间序列曲线上第二流速的采集时刻的上一采集时刻对应的流速；第三差值为第三流速与第四流速的目标差值。确定单元还用于将第一差值、第二差值、第三差值中的最小值，与第一流速和第二流速的差值的和确定为第一流速和第二流速的目标差值。确定单元，还用于根据第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的目标差值，确定最佳路径；最佳路径经过的目标差值之和为所有路径经过的目标差值之和中的最小值。一种可能的设计中，上述端口连接关系的确定装置还包括处理单元。确定单元还用于确定第一子曲线与第二子曲线之间的距离；第一子曲线为第三时间序列曲线在预设采集时刻的子曲线，第三时间序列曲线为多个时间序列曲线中的任意一个，第二子曲线为多个时间序列曲线中除第三时间序列曲线外其他时间序列曲线在预设采集时刻的子曲线，预设采集时刻为同一时间段中的部分采集时刻。处理单元用于在存在多个距离的情况下，将与第一子曲线距离最大的子曲线从第二子曲线中删除，以更新第二子曲线，并基于预设增量增加预设采集时刻的时刻数量，以更新预设采集时刻，直至确定存在一个距离。确定单元还用于在存在一个距离的情况下，将存在的距离对应的第二子曲线所属的时间序列曲线确定为第四时间序列曲线。确定单元还用于确定第三时间序列曲线与第四时间序列曲线分别对应的待检测端口存在连接关系。一种可能的设计中，预设采集时刻为同一时间段内包括的采集时刻在前的一半采集时刻。第三方面，提供了一种端口连接关系的确定设备，该端口连接关系的确定设备包括存储器和处理器；存储器和处理器耦合，该存储器用于存储计算机程序代码，该计算机程序代码包括计算机指令，当处理器执行该计算机指令时，该端口连接关系的确定设备执行如第一方面或其任一种可能的设计提供的端口连接关系的确定方法。第四方面，提供了一种计算机可读存储介质，计算机可读存储介质中存储有指令，当指令在端口连接关系的确定设备上运行时，使得该端口连接关系的确定设备执行如第一方面或其任一种可能的实现方式提供的端口连接关系的确定方法。附图说明图1为本发明的实施例提供的一种通信系统结构示意图；图2为本发明的实施例提供的一种端口连接关系的确定方法流程示意图一；图3为本发明的实施例提供的一种端口连接关系的确定方法流程示意图二；图4为本发明的实施例提供的一种差值计算示意图；图5为本发明的实施例提供的一种端口连接关系的确定方法流程示意图三；图6为本发明的实施例提供的一种目标差值计算示意图；图7为本发明的实施例提供的一种端口连接关系的确定方法流程示意图四；图8为本发明的实施例提供的一种端口连接关系的确定装置结构示意图；图9为本发明的实施例提供的一种端口连接关系的确定设备结构示意图一；图10为本发明的实施例提供的一种端口连接关系的确定设备结构示意图二。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行描述。在本发明实施例中，“示例性的”或者“例如”等词用于表示作例子、例证或说明。本发明实施例中被描述为“示例性的”或者“例如”的任何实施例或设计方案不应被解释为比其它实施例或设计方案更优选或更具优势。确切而言，使用“示例性的”或者“例如”等词旨在以具体方式呈现相关概念。在本发明的描述中，除非另有说明，“/”表示“或”的意思，例如，A/B可以表示A或B。本文中的“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。此外，“至少一个”“多个”是指两个或两个以上。“第一”、“第二”等字样并不对数量和执行次序进行限定，并且“第一”、“第二”等字样也并不限定一定不同。在现有技术中，采用人工匹配的方法工作量较大，且光模块开关对网络业务存在一定的影响；基于IP地址匹配则对两端设备的IP地址配置规则存在一定要求，只有两端设备的IP地址按照规则配置才可使用该方法，两种确定拓扑关系的方法适用性较差，无法很好应用于在大多数的网络中确定各网络节点之间端口的连接关系。本发明提出一种端口连接关系的确定方法、装置、设备及存储介质，端口连接关系的确定装置获取多个待检测端口在同一时间段的流速信息，流速信息包括采集时刻以及待检测端口在采集时刻对应的传输数据的流速；并根据第一待检测端口在同一时间段的流速信息，生成第一待检测端口的时间序列曲线，得到多个时间序列曲线；第一待检测端口为多个待检测端口中的任意一个，时间序列曲线用于表征待检测端口传输数据的流速变化。进一步的，端口连接关系的确定装置在多个时间序列曲线中存在两个时间序列曲线之间的距离小于预设阈值的情况下，确定两个时间序列曲线分别对应的待检测端口之间存在连接关系。在本发明提供的端口连接关系的确定方法中，通过确定用于表征端口传输数据的流速的时间序列曲线之间的距离，来确定存在连接关系的端口，不受端口所处的网络影响，能够适用于大多数的网络中，确定端口之间的连接关系。图1示出了一种通信系统，本发明实施例提供的端口连接关系的确定发方法可以适用于如图1所示的通信系统10，用于确定通信系统10中各设备之间的端口连接关系。如图1所示，通信系统10中包括端口连接关系的确定装置11、第一网络设备12以及第二网络设备13。其中，端口连接关系的确定装置11分别与第一网络设备12以及第二网络设备13连接，第一网络设备12还与第二网络设备13连接，上述连接关系中，可以采用有线方式连接，也可以采用无线方式连接，本发明实施例对此不作限定。需要说明的，第一网络设备12以及第二网络设备13可以为接入层网络设备，也可以为汇聚层网络设备，还可以一个为接入层网络设备，一个为汇聚层网设备，本发明实施例对此不作限定。图1中示例性示出的第一网络设备12以及第二网络设备13，不构成对网络设备的数量限定。端口连接关系的确定装置11可以用于获取第一网络设备12各端口以及第二网络设备13各端口的流速信息，并基于获取到的流速信息生成用于表征端口传输数据的流速变化的时间序列曲线。端口连接关系的确定装置11还可以用于根据生成的时间序列曲线之间的距离，确定第一网络设备12以及第二网络设备13中存在连接关系的端口。图2是根据一些示例性实施例示出的一种端口连接关系的确定方法的流程示意图。在一些实施例中，上述端口连接关系的确定方法可以应用到如图1所示的通信系统10中的端口连接关系的确定装置11。以下，本发明实施例以端口连接关系的确定方法应用于端口连接关系的确定装置11为例，对上述端口连接关系的确定方法进行说明。如图2所示，本发明实施例提供的端口连接关系的确定方法，包括下述S201-S204。S201、端口连接关系的确定装置获取多个待检测端口在同一时间段的流速信息。其中，流速信息包括采集时刻以及待检测端口在采集时刻对应的传输数据的流速；作为一种可能的实现方式，端口连接关系的确定装置采集所有待检测端口的流速信息，并根据流速信息中包括的采集时刻，确定所有待检测端口存在流速信息的同一时间段。进一步的，端口连接关系的确定装置根据每个待检测端口的流速信息，以及同一时间段，确定多个待检测端口在同一时间段的流速信息。在一些实施例中，端口连接关系的确定装置从所有待检测端口获取端口的流速信息，并分别以每个待检测端口的名称为每个待检测端口导出的流速信息表格命名。进一步的，端口连接关系的确定装置将每个表格中的流速信息在每个表格中按流速信息的时间从小到大的顺行排序，确定每个待检测端口导出的流速信息的时间的最大值与最小值，并将所有最小值中的最大值确定为同一时间段的起始时刻，将所有最大值中的最小值确定为同一时间段的终止时刻，得到同一时间段，以及同一时间段内各个待检测端口的流速信息。示例性的，若多个待检测端口分别为A、B、C以及D，获取到的端口的流速信息分别记载在表格eA、eB、eC以及eD，每个待检测端口的流速信息中的最小值和最大值，分别为eAmin、eAmax，eBmin、eBmax，eCmin、eCmax以及eDmin、eDmax，若多个待检测端口的最小值满足eAmin＜eCmin＜eDmin＜eBmin，各个待检测端口的最大值满足eCmax＜eBmax＜eDmax＜eAmax，则端口连接关系的确定装置确定同一时间段为。在一些实施例中，在端口连接关系的确定装置确定同一时间段后，确定各个待检测端口在同一时间段内的流速信息，还包括：端口连接关系的确定装置基于同一时间段建立表格eX，其中，eX表格中以eBmin为起点，eCmax为终点，每间隔n分钟设置采集时刻。进一步的，端口连接关系的确定装置将从每个待检测端口导出流速信息表格与eX表格进行匹配，得到每个待检测端口在同一时间段内的流速信息，如eXA、eXB、eXC以及eXD。在一些实施例中，由于端口连接关系的确定装置采集到的待检测端口的流速信息的时间与同一时间段内的采集时刻存在不同的情况，端口连接关系的确定装置将采集时刻缺少的流速，以及包含异常字符的流速，通过预设流速进行替换。需要说明的，预设流速可以为0，还可以为当前待检测端口在同一时间段内的平均流速，本发明实施例对此不作具体限定。S202、端口连接关系的确定装置根据多个待检测端口在同一时间段的流速信息，生成多个时间序列曲线。其中，一个待检测端口在同一时间段的流速信息对应一个时间序列曲线，时间序列曲线用于表征待检测端口传输数据的流速。作为一种可能的实现方式，端口连接关系的确定装置将多个待检测端口在同一时间段的流速信息中的时间确定为横坐标，将多个待检测端口在同一时间段的流速信息中的流速确定为纵坐标，从而生成多个待检测端口中，每个待检测端口流速信息对应的时间序列曲线。S203、端口连接关系的确定装置确定多个时间序列曲线中时间序列曲线在同一坐标系下之间的距离小于预设阈值的两个时间序列曲线。作为一种可能的实现方式，端口连接关系的确定装置从多个时间序列曲线中任意选择一个时间序列曲线，并在同一坐标系下分别计算多个时间序列曲线中的其他时间序列曲线与选择的时间序列曲线之间的距离，将距离小于预设阈值的时间序列曲线与选择的时间序列曲线确定为时间序列曲线之间的距离小于预设阈值的两个时间序列曲线。进一步的，端口连接关系的确定装置将多个时间序列曲线分别遍历一遍，直至确定出所有两两匹配的时间序列曲线。需要说明的，预设阈值可以由端口连接关系的确定装置的运维人员，预先在端口连接关系的确定装置中设置，本发明实施例不作限定。例如，若确定时间序列曲线的距离为欧式距离，则预设阈值为与欧式距离对应的阈值；若确定时间序列曲线的距离为曼哈顿距离，则预设阈值为与曼哈顿距离对应的阈值。S204、在多个时间序列曲线中存在两个时间序列曲线在同一坐标系下之间的距离小于预设阈值的情况下，端口连接关系的确定装置确定两个时间序列曲线分别对应的待检测端口之间存在连接关系。作为一种可能的实现方式，端口连接关系的确定装置根据在上述步骤S203中确定到的距离小于预设阈值的时间序列曲线，将距离小于预设阈值的两个时间序列曲线对应的待检测端口存在连接关系。可以理解的，存在连接关系的待检测端口由于直接相连，不会对数据进行处理，所以存在连接关系的待检测端口之间的流速基本一致，这样一来，当用于表征待检测端口传输数据的流速变化的时间序列曲线之间的距离小于预设阈值时，确定待检测端口之间存在连接关系。由于本发明实施例提供的端口连接关系的确定方法是根据待检测端口的流速信息确定，所以无论待检测端口所属的设备，无论在何种网络架构下，均能完成待检测端口连接关系的确定。在一种设计中，在确定两个时间序列曲线之间的距离时，可能会由于端口连接关系的确定装置所采集到的流速信息的时间未对齐，导致确定到的距离不是最短距离，影响对于待检测端口连接关系的确定，如图3所示，本发明实施例提供的端口连接关系的确定方法还包括S301-S305。S301、端口连接关系的确定装置确定第一流速和第二流速的差值。其中，第一流速为第一时间序列曲线上的任意一个流速信息的流速，第二流速为第二时间序列曲线上的任意一个流速信息的流速，第一时间序列曲线和第二时间序列曲线为多个时间序列曲线中的任意两个时间序列曲线。作为一种可能的实现方式，端口连接关系的确定装置从多个时间序列曲线中任意选择两个时间序列曲线，分别为第一时间序列曲线以及第二时间序列曲线。进一步的，端口连接关系的确定装置分别从第一时间序列曲线上任意选择一个流速为第一流速，从第二时间序列曲线上任意选择一个流速为第二流速，计算第一流速和第二流速的差值。需要说明的，在上述计算第一流速和第二流速的差值时，若得到的差值为负数，则将差值的绝对值确定为第一流速和第二流速的差值。S302、端口连接关系的确定装置确定第一时间序列曲线上每个流速分别与第二时间序列曲线上的每个流速的差值。作为一种可能的实现方式，端口连接关系的确定装置从第一时间序列曲线上的第一个流速开始，分别与第二时间序列曲线上的每个流速计算差值，直至计算完第一时间序列曲线上的最后一个流速与第二时间序列曲线上的最后一个流速的差值，得到第一时间序列曲线上每个流速分别与第二时间序列曲线上的每个流速的差值。示例性的，若第一时间序列曲线上的流速按照时间顺序排列为A：，第二时间序列曲线上的流速按照时间顺序排列为B：，则第一时间序列曲线上每个流速分别与第二时间序列曲线上的每个流速的差值可以如图4所示。S303、端口连接关系的确定装置根据第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的差值，确定最佳路径。其中，最佳路径经过的差值之和为所有路径经过的差值之和中的最小值。作为一种可能的实现方式，端口连接关系的确定装置确定第一时间序列曲线上第一个流速与第二时间序列曲线上第一个流速的差值，到第一时间序列曲线上最后一个流速与第二时间序列曲线最后一个流速的差值之间的所有路径，即从如图4所示的所有差值中，从左下角0到右上角4的所有路径。进一步的，端口连接关系的确定装置从确定到的所有路径中确定路径上的值的和最小的路径为最佳路径。示例性的，以X表示图4中横坐标为n，纵坐标为m的差值，例如，横坐标为2，纵坐标为3可以表示为X，X所表示的差值为1。X-＞X的路径可以为X-＞X-＞X-＞X-＞X，还可以为X-＞X-＞X-＞X-＞X-＞X-＞X-＞X，即只要可以从X出发，经过相邻的X能够到达X则为所需要确定的路径，表示为X-＞X-＞X。进一步的，端口连接关系的确定装置确定X-＞X-＞X中所有路径的差值的和，将差值的和最小的路径确定为最佳路径，例如，如图4所示，所有路径的差值的和最小为9，对应的路径为X-＞X-＞X-＞X-＞X-＞X-＞X，则将该路径确定为最佳路径。S304、端口连接关系的确定装置确定最佳路径经过的差值对应的目标流速信息对。其中，目标流速信息对包括计算最佳路径经过的差值的两个流速所属的流速信息。作为一种可能的实现方式，端口连接关系的确定装置基于在上述步骤S303中确定到的最佳路径，确定最佳路径经过的差值，并进一步的将差值对应的流速所属的流速信息确定为目标流速信息对。示例性的，如图4所示，端口连接关系的确定装置确定到的最佳路径为X-＞X-＞X-＞X-＞X-＞X-＞X，则对应的目标流速信息对分别为：第一时间序列曲线上的第一个流速信息与第二时间序列曲线上的第一个流速信息、第一时间序列曲线上的第二个流速信息与第二时间序列曲线上的第二个流速信息、第一时间序列曲线上的第二个流速信息与第二时间序列曲线上的第三个流速信息、第一时间序列曲线上的第二个流速信息与第二时间序列曲线上的第四个流速信息、第一时间序列曲线上的第三个流速信息与第二时间序列曲线上的第五个流速信息、第一时间序列曲线上的第三个流速信息与第三时间序列曲线上的第五个流速信息、第一时间序列曲线上的第五个流速信息与第二时间序列曲线上的第五个流速信息。S305、端口连接关系的确定装置基于目标流速信息对，确定第一时间序列曲线与第二时间序列曲线之间的距离。作为一种可能的实现方式，端口连接关系的确定装置将目标流速信息对的流速之间的差值，确定为目标流速信息对之间的距离。进一步的，端口连接关系的确定装置将所有目标流速信息对的流速之间的差值的和，确定为第一时间序列曲线与第二时间序列曲线之间的距离。示例性的，若确定到的目标流速信息对分别为：、、、、、、，则第一时间序列曲线与第二时间序列曲线之间的距离为L＝|a1-b1|+|a2-b2|+|a3-b2|+|a4-b2|+|a5-b3|+|a5-b4|+|a5-b5|。在一些实施例中，根据目标流速信息对确定第一时间序列曲线与第二时间序列曲线之间的距离，还可以采用其他计算距离的方法，仅需要在将距离与预设阈值比较时，调整预设阈值即可，本发明实施例对此不作限定。示例性的，第一时间序列曲线与第二时间序列曲线之间的距离还可以为其中，k为第一时间序列曲线与第二时间序列曲线总点数-1。可以理解的，待检测端口对应时间序列曲线用于表征待检测端口传输数据的流速变化，即时间序列曲线之间的距离与待检测端口的流速成正相关，故当根据待检测端口的流速确定出的最佳路径，同样为确定时间序列曲线之间的距离的最佳路径，进而可以通过最佳路径确定出两个时间序列曲线之间的最小距离。在一种设计中，为了更准确的确定最佳路径，如图5所示，本发明实施例提供的端口连接关系的确定方法还包括S401-S404。S401、对于第一流速和第二流速，端口连接关系的确定装置确定第一差值、第二差值、第三差值。其中，第一差值为第二流速与第三流速的目标差值，第三流速为第一时间序列曲线上第一流速的采集时刻的上一采集时刻对应的流速；第二差值为第一流速与第四流速的目标差值，第四流速为第二时间序列曲线上第二流速的采集时刻的上一采集时刻对应的流速；第三差值为第三流速与第四流速的目标差值。需要说明的，在第一流速为第一时间序列曲线的第一个流速信息对应的流速的情况下，由于第一流速为第一时间序列曲线上的第一个采集时刻对应的流速，在前的采集时刻没有流速信息，即没有第三流速，故端口连接关系的确定装置确定不存在第一差值以及第三差值；在第二流速为第二时间序列曲线的第一个流速信息对应的流速的情况下，由于第二流速为第二时间序列曲线上的第一个采集时刻对应的流速，在前的采集时刻没有流速信息，即没有第四流速，故端口连接关系的确定装置确定不存在第二差值以及第三差值。S402、端口连接关系的确定装置将第一差值、第二差值、第三差值中的最小值，与第一流速和第二流速的差值的和确定为第一流速和第二流速的目标差值。作为一种可能的实现方式，端口连接关系的确定装置首先确定在第一流速为第一时间序列曲线上的第一个流速信息，以及第二流速为第二时间序列曲线上的第一个流速信息的情况下，第一流速和第二流速的目标差值。进一步的，端口连接关系的确定装置确定在第二流速为第二时间序列曲线上的第一个流速信息的情况下，按照采集时刻的采集顺序，依次计算在第一时间序列曲线上的，每次增加一个采集时刻的第一流速与第二流速的目标差值；以及在第一流速为第一时间序列曲线上的第一个流速信息的情况下，按照采集时刻的采集顺序，依次计算在第二时间序列曲线上的，每次增加一个采集时刻的第二流速与第一流速的目标差值。最后，端口连接关系的确定装置按照采集时刻的顺序，依次计算第一时间序列曲线上的每个采集时刻的流速与第二时间序列曲线上的每个时刻的流速之间的目标差值。示例性的，若第一时间序列曲线上的流速按照时间顺序排列为，第二时间序列曲线上的流速按照时间顺序排列为，则第一时间序列曲线上每个流速分别与第二时间序列曲线上的每个流速的目标差值可以如图6所示。示例性的，设函数y为需要计算的目标差值，函数x为第一流速与第二流速之间的实际差值，则函数y可以如下公式所示：y＝min，y，y)+x其中，i为横坐标值，j为纵坐标值。需要说明的，在i＝1，j＝1的情况下，y＝x；在i＝1的情况下，y＝y+x；在j＝1的情况下，y＝y+x。其中，在i＝1，j＝1时，即表示确定第一时间序列曲线上第一个流速与第二时间序列曲线第一个流速之间的目标差值，由于在该情况下，不存在第一差值、第二差值以及第三差值，则目标差值等于流速之间的实际差值。在i＝1的情况下，即表示确定第一时间序列曲线上第一个流速与第二时间序列曲线上每一个流速之间的目标差值，由于在该情况下，不存在第一差值和第三差值，则目标差值等于流速之间的差值与第二差值的和。在j＝1的情况下，即表示确定第二时间序列曲线上第一个流速与第一时间序列曲线上每一个流速之间的目标差值，由于在该情况下，不存在第二差值和第三差值，则目标差值等于流速之间的差值与第一差值的和。在i≠1，j≠1的情况下，端口连接关系的确定装置根据在前计算的目标差值，将第一差值、第二差值以及第三差值中的最小值，与流速之间的差值求和，得到目标差值。S403、端口连接关系的确定装置确定第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的目标差值。作为一种可能的实现方式，端口连接关系的确定装置根据上述S402中记载的确定目标差值的方法，确定第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的目标差值。S404、端口连接关系的确定装置根据第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的目标差值，确定最佳路径。其中，最佳路径经过的目标差值之和为所有路径经过的目标差值之和中的最小值。作为一种可能的实现方式，端口连接关系的确定装置确定第一时间序列曲线上第一个流速与第二时间序列曲线上第一个流速的目标差值，到第一时间序列曲线上最后一个流速与第二时间序列曲线最后一个流速的目标差值之间的所有路径，即从如图6所示的所有差值中，从左下角0到右上角9的所有路径。进一步的，端口连接关系的确定装置从确定到的所有路径中确定路径上的值的和最小的路径为最佳路径。作为一种可能的实现方式，端口连接关系的确定装置确定第一时间序列曲线上第一个流速与第二时间序列曲线上第一个流速的目标差值，到第一时间序列曲线上最后一个流速与第二时间序列曲线最后一个流速的目标差值之间的所有路径，即从如图6所示的所有差值中，从左下角0到右上角9的所有路径。进一步的，端口连接关系的确定装置从第一时间序列曲线上最后一个流速与第二时间序列曲线最后一个流速的目标差值，回溯确定目标差值所需的目标差值，直至确定到第一时间序列曲线上第一个流速与第二时间序列曲线上第一个流速的目标差值，所经过的目标差值即为最佳路径。需要说明的，由于在确定目标差值的过程中，需要以在前的相邻的目标差值为基础确定，故可以从y回溯，得到y计算所需的目标差值，进一步基于该目标差值确定路径上前一个目标差值，直至y，回溯过程中所经过的目标差值即为最佳路径。在一种设计中，为了节约确定待检测端口的连接关系时的计算资源，如图7所示，本发明实施例提供的端口连接关系的确定方法还包括S501-S506。S501、端口连接关系的确定装置确定第一子曲线和第二子曲线之间的距离。其中，第一子曲线为第三时间序列曲线在预设采集时刻的子曲线，第三时间序列曲线为多个时间序列曲线中的任意一个，第二子曲线为多个时间序列曲线中除第三时间序列曲线外其他时间序列曲线在预设采集时刻的子曲线，预设采集时刻为同一时间段中的部分采集时刻。需要说明的，预设采集时刻可以由端口连接关系的确定装置的运维人员，预先在端口连接关系的确定装置中设置。在一些实施例中，为了提高确定到的距离的准确性，同时兼顾节约计算资源，预设采集时刻为同一时间段内包括的采集时刻在前的一半采集时刻。作为一种可能的实现方式，端口连接关系的确定装置根据第一子曲线和第二子曲线上的流速信息对应的横纵坐标，确定第一子曲线和第二子曲线之间的距离。需要说明的，端口连接关系的确定装置确定的第一子曲线和第二子曲线之间的距离可以为：第一子曲线和第二子曲线上对应的点之间的曼哈顿距离、欧式距离以及切比雪夫距离等，本发明实施例对此不作限定。示例性的，多个时间序列曲线包括L1、L2、L3、…、Ln，每一个时间序列曲线上有m个点Klx0、Klx1、Klx2、…Klxm，以取所时间序列曲线的前半段为例，若第一子曲线为L1在预设采集时刻的子曲线，则第二子曲线为多个时间序列曲线中，除L1以外的L2、L3、…、Ln在预设采集时刻的子曲线，进一步的，依次计算L1上Klx0、Klx1、Klx2、…KLxm/2，与L2、L3、…、Ln上Klx0、Klx1、Klx2、…KLxm/2的距离，得到第一子曲线与第二子曲线之间的距离。S502、端口连接关系的确定装置确定计算得到的距离的数量。作为一种可能的实现方式，端口连接关系的确定装置在每确定到第一子曲线与第二子曲线中的一个子曲线的距离后，计数加一，在确定完第二子曲线中所有的子曲线后，得到距离的数量。S503、在存在多个距离的情况下，端口连接关系的确定装置将与第一子曲线距离最大的子曲线从第二子曲线中删除，以更新第二子曲线，直至确定存在一个距离。作为一种可能的实现方式，端口连接关系的确定装置在确定到存在多个距离的情况下，进一步确定所有距离中最大的距离，并将最大的距离对应的子曲线，从第二子曲线中删除，以得到更新后的第二子曲线，直到端口连接关系的确定装置在确定到仅存在一个距离后，停止从第二子曲线中删除最大的距离对应的子曲线。S504、在存在多个距离的情况下，端口连接关系的确定装置基于预设增量增加预设采集时刻的时刻数量，以更新预设采集时刻，直至确定存在一个距离。作为一种可能的实现方式，端口连接关系的确定装置在得到更新后的第二子曲线的情况下，进一步基于预设增量增加预设采集时刻的时刻数量，以得到更新后的预设采集时刻，直到端口连接关系的确定装置在确定到仅存在一个距离后，停止基于预设增量更新预设采集时刻。需要说明的，预设采集时刻可以由端口连接关系的确定装置的运维人员，预先在端口连接关系的确定装置中设置，本发明实施例对此不作限定。示例性的，预设增量可以为1个采集时刻。S505、端口连接关系的确定装置在存在一个距离的情况下，将存在的距离对应的第二子曲线所属的时间序列曲线确定为第四时间序列曲线。示例性的，若多个时间序列曲线包括L1、L2、L3以及L4，L1在预设采集时刻t的子曲线l1为第一子曲线，L2、L3以及L4在预设采集时刻t的子曲线l2、l3、l4为第二子曲线，端口连接关系的确定装置别确定l1与l2、l3以及l4之间的距离分别为A2、A3以及A4，且A3＞A2＞A4，则端口连接关系的确定装置将距离最大的A3对应的子曲线l3从第二子曲线中删除，得到更新后的第二子曲线l2以及l4，并在预设增量为x个采集时刻的情况下，更新预设采集时刻t为t+x。进一步的，端口连接关系的确定装置确定L1在预设采集时刻t+x的子曲线为l1a，L2以及L4在预设采集时刻t+x的子曲线分别为l2a和l3a，并确定l1a与l2a以及l4a之间的距离分别为B2、以及B4，且B4＞B2,则端口连接关系的确定装置将距离最大的B4对应的子曲线l4a从第二子曲线中删除，得到更新后的第二子曲线l2a，并更新预设采集时刻t为t+2x。在进一步的，在确定第一子曲线和第二子曲线距离时，由于第二子曲线中仅剩下L2在预设采集时刻t+2x的子曲线l2b，则最终得到一个距离C2。端口连接关系的确定装置在确定存在一个距离的情况下，将存在的距离对应的第二子曲线l2a所属的时间序列曲线L2确定为第四时间序列曲线。S506、端口连接关系的确定装置确定第三时间序列曲线与第四时间序列曲线分别对应的待检测端口存在连接关系。可以理解的，由于第四时间序列曲线与第三时间序列曲线，在多个时间序列曲线中为距离最小的两条曲线，故确定第三时间序列曲线与第四时间序列曲线分别对应的待检测端口存在连接关系。在本发明提供的端口连接关系的确定方法中，通过确定用于表征端口传输数据的流速的时间序列曲线之间的距离，来确定存在连接关系的端口，不受端口所处的网络影响，能够适用于大多数的网络中，确定端口之间的连接关系。上述主要从方法的角度对本发明实施例提供的方案进行了介绍。为了实现上述功能，其包含了执行各个功能相应的硬件结构和/或软件模块。本领域技术人员应该很容易意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，本发明实施例能够以硬件或硬件和计算机软件的结合形式来实现。某个功能究竟以硬件还是计算机软件驱动硬件的方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。本发明实施例可以根据上述方法示例对用户设备进行功能模块的划分，例如，可以对应各个功能划分各个功能模块，也可以将两个或两个以上的功能集成在一个处理模块中。上述集成的模块既可以采用硬件的形式实现，也可以采用软件功能模块的形式实现。可选的，本发明实施例中对模块的划分是示意性的，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。图8为本发明实施例提供的一种端口连接关系的确定装置的结构示意图。该端口连接关系的确定装置用于执行上述端口连接关系的确定方法。如图8所示，该端口连接关系的确定装置60包括获取单元601、生成单元602、确定单元603以及处理单元604。获取单元601，用于获取多个待检测端口在同一时间段的流速信息。其中，流速信息包括采集时刻以及待检测端口在采集时刻对应的传输数据的流速。例如，如图2所示，获取单元601可以用于执行S201。生成单元602，用于根据多个待检测端口在同一时间段的流速信息，生成多个时间序列曲线。一个待检测端口在同一时间段的流速信息对应一个时间序列曲线，时间序列曲线用于表征待检测端口传输数据的流速。例如，如图2所示，生成单元602可以用于执行S202。确定单元603，用于在多个时间序列曲线中存在两个时间序列曲线在同一坐标系下之间的距离小于预设阈值的情况下，确定两个时间序列曲线分别对应的待检测端口之间存在连接关系。例如，如图2所示，确定单元603可以用于执行S204。可选的，如图8所示，本发明实施例提供的端口连接关系的确定装置60中，确定单元603，还用于确定第一流速和第二流速的差值。其中，第一流速为第一时间序列曲线上的任意一个流速信息的流速，第二流速为第二时间序列曲线上的任意一个流速信息的流速，第一时间序列曲线和第二时间序列曲线为多个时间序列曲线中的任意两个时间序列曲线。例如，如图3所示，确定单元603可以用于执行S301。确定单元603，还用于根据第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的差值，确定最佳路径。其中，最佳路径经过的差值之和为所有路径经过的差值之和中的最小值。例如，如图3所示，确定单元603可以用于执行S303。确定单元603，还用于确定最佳路径经过的差值对应的目标流速信息对，目标流速信息对包括计算最佳路径经过的差值的两个流速所属的流速信息。例如，如图3所示，确定单元603可以用于执行S304。确定单元603，还用于基于目标流速信息对，确定第一时间序列曲线与第二时间序列曲线之间的距离。例如，如图3所示，确定单元603可以用于执行S305。可选的，如图8所示，本发明实施例提供的端口连接关系的确定装置60中，确定单元603，还用于对于第一流速和第二流速，确定第一差值、第二差值、第三差值。其中，第一差值为第二流速与第三流速的目标差值，第三流速为第一时间序列曲线上第一流速的采集时刻的上一采集时刻对应的流速；第二差值为第一流速与第四流速的目标差值，第四流速为第二时间序列曲线上第二流速的采集时刻的上一采集时刻对应的流速；第三差值为第三流速与第四流速的目标差值。例如，如图5所示，确定单元603可以用于执行S401。确定单元603，还用于将第一差值、第二差值、第三差值中的最小值，与第一流速和第二流速的差值的和确定为第一流速和第二流速的目标差值。例如，如图5所示，确定单元603可以用于执行S402。确定单元603，还用于根据第一时间序列曲线上的每个流速分别与第二时间序列曲线上的每个流速的目标差值，确定最佳路径。其中，最佳路径经过的目标差值之和为所有路径经过的目标差值之和中的最小值。例如，如图5所示，确定单元603可以用于执行S404。可选的，如图8所示，本发明实施例提供的端口连接关系的确定装置60中，还包括处理单元604。确定单元603，还用于确定第一子曲线与第二子曲线之间的距离；第一子曲线为第三时间序列曲线在预设采集时刻的子曲线，第三时间序列曲线为多个时间序列曲线中的任意一个，第二子曲线为多个时间序列曲线中除第三时间序列曲线外其他时间序列曲线在预设采集时刻的子曲线，预设采集时刻为同一时间段中的部分采集时刻。例如，如图7所示，确定单元603可以用于执行S501。处理单元604，用于在存在多个距离的情况下，将与第一子曲线距离最大的子曲线从第二子曲线中删除，以更新第二子曲线，并基于预设增量增加预设采集时刻的时刻数量，以更新预设采集时刻，直至确定存在一个距离。例如，如图7所示，处理单元604可以用于执行S502、S503。确定单元603，还用于在存在一个距离的情况下，将存在的距离对应的第二子曲线所属的时间序列曲线确定为第四时间序列曲线。例如，如图7所示，确定单元603可以用于执行S504。确定单元603，还用于确定第三时间序列曲线与第四时间序列曲线分别对应的待检测端口存在连接关系。例如，如图7所示，确定单元603可以用于执行S505。可选的，如图8所示，本发明实施例提供的端口连接关系的确定装置60中，预设采集时刻为同一时间段内包括的采集时刻在前的一半采集时刻。在采用硬件的形式实现上述集成的模块的功能的情况下，本发明实施例提供了一种端口连接关系的确定设备的一种可能的结构示意图。该端口连接关系的确定设备用于执行上述实施例中端口连接关系的确定装置执行的端口连接关系的确定方法。如图9所示，该端口连接关系的确定设备70包括处理器701，存储器702以及总线703。处理器701与存储器702之间可以通过总线703连接。处理器701是端口连接关系的确定设备的控制中心，可以是一个处理器，也可以是多个处理元件的统称。例如，处理器701可以是一个通用中央处理单元，也可以是其他通用处理器等。其中，通用处理器可以是微处理器或者是任何常规的处理器等。作为一种实施例，处理器701可以包括一个或多个CPU，例如图9中所示的CPU 0和CPU 1。存储器702可以是只读存储器或可存储静态信息和指令的其他类型的静态存储设备，随机存取存储器或者可存储信息和指令的其他类型的动态存储设备，也可以是电可擦可编程只读存储器、磁盘存储介质或者其他磁存储设备、或者能够用于携带或存储具有指令或数据结构形式的期望的程序代码并能够由计算机存取的任何其他介质，但不限于此。作为一种可能的实现方式，存储器702可以独立于处理器701存在，存储器702可以通过总线703与处理器701相连接，用于存储指令或者程序代码。处理器701调用并执行存储器702中存储的指令或程序代码时，能够实现本发明实施例提供的端口连接关系的确定方法。另一种可能的实现方式中，存储器702也可以和处理器701集成在一起。总线703，可以是工业标准体系结构总线、外围设备互连总线或扩展工业标准体系结构总线等。该总线可以分为地址总线、数据总线、控制总线等。为便于表示，图9中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。需要指出的是，图9示出的结构并不构成对该端口连接关系的确定设备70的限定。除图9所示部件之外，该端口连接关系的确定设备70可以包括比图9示更多或更少的部件，或者组合某些部件，或者不同的部件布置。作为一个示例，结合图8，端口连接关系的确定装置60中的获取单元601、生成单元602、确定单元603以及处理单元604实现的功能与图9中的处理器701的功能相同。可选的，如图9所示，本发明实施例提供的端口连接关系的确定设备还可以包括通信接口704。通信接口704，用于与其他设备通过通信网络连接。该通信网络可以是以太网，无线接入网，无线局域网等。通信接口704可以包括用于接收数据的获取单元，以及用于发送数据的发送单元。在一种设计中，本发明实施例提供的端口连接关系的确定设备中，通信接口还可以集成在处理器中。图10示出了本发明实施例中端口连接关系的确定设备的另一种硬件结构。如图10所示，端口连接关系的确定设备80可以包括处理器801以及通信接口802。处理器801与通信接口802耦合。处理器801的功能可以参考上述处理器701的描述。此外，处理器801还具备存储功能，可以参考上述存储器702的功能。通信接口802用于为处理器801提供数据。该通信接口802可以是端口连接关系的确定设备的内部接口，也可以是端口连接关系的确定设备对外的接口。需要指出的是，图10中示出的结构并不构成对端口连接关系的确定设备的限定，除图10所示部件之外，该端口连接关系的确定设备80可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。通过以上的实施方式的描述，所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，仅以上述各功能单元的划分进行举例说明。在实际应用中，可以根据需要而将上述功能分配由不同的功能单元完成，即将装置的内部结构划分成不同的功能单元，以完成以上描述的全部或者部分功能。上述描述的系统，装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。本发明实施例还提供一种计算机可读存储介质，计算机可读存储介质中存储有指令，当计算机执行该指令时，该计算机执行上述方法实施例所示的方法流程中的各个步骤。本发明的实施例提供一种包含指令的计算机程序产品，当指令在计算机上运行时，使得计算机执行上述方法实施例中的端口连接关系的确定方法。其中，计算机可读存储介质，例如可以是但不限于电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘。随机存取存储器、只读存储器、可擦式可编程只读存储器、寄存器、硬盘、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的人以合适的组合、或者本领域数值的任何其他形式的计算机可读存储介质。一种示例性的存储介质耦合至处理器，从而使处理器能够从该存储介质读取信息，且可向该存储介质写入信息。当然，存储介质也可以是处理器的组成部分。处理器和存储介质可以位于特定用途集成电路中。在本发明实施例中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。由于本发明的实施例中的装置、设备计算机可读存储介质、计算机程序产品可以应用于上述方法，因此，其所能获得的技术效果也可参考上述方法实施例，本发明实施例在此不再赘述。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何在本发明揭露的技术范围内的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应该以权利要求的保护范围为准。
