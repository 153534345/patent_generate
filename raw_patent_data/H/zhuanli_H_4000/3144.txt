标题title
交换机配置方法、装置、电子设备及存储介质
摘要abst
本公开关于一种交换机配置方法、装置、电子设备及存储介质。该方法包括：接收到交换机配置信息，确定待配置的目标交换业务；获取所述目标交换业务对应的目标配置方式；调用所述目标配置方式匹配的目标接口，将所述交换机配置信息写入所述可编程交换机的交换芯片中。根据本公开提供的技术方案，可以提升可编程交换机的配置灵活性和可扩展性。
权利要求书clms
1.一种交换机配置方法，其特征在于，包括：接收到交换机配置信息，确定待配置的目标交换业务；获取所述目标交换业务对应的目标配置方式；调用所述目标配置方式匹配的目标接口，将所述交换机配置信息写入可编程交换机的交换芯片中。2.根据权利要求1所述的方法，其特征在于，所述获取所述目标交换业务对应的目标配置方式，包括：确定所述目标交换业务对应的目标业务类型；根据所述目标业务类型，确定所述目标交换业务对应的所述目标配置方式。3.根据权利要求2所述的方法，其特征在于，所述目标业务类型为预设业务类型中的一种，所述预设业务类型包括基本业务类型和扩展业务类型；所述根据所述目标业务类型，确定所述目标交换业务对应的所述目标配置方式，包括：在所述目标业务类型为所述基本业务类型的情况下，确定所述目标配置方式为基于交换机抽象接口的配置方式；在所述目标业务类型为所述扩展业务类型的情况下，确定所述目标配置方式为远程调用配置方式。4.根据权利要求2或3所述的方法，其特征在于，所述确定所述目标交换业务对应的目标业务类型，包括：获取预设业务集合，所述预设业务集合为所述基本业务类型对应的交换业务集合和/或所述扩展业务类型对应的交换业务集合；将所述目标交换业务与所述预设业务集合进行匹配处理，得到匹配结果；根据所述匹配结果，确定所述目标交换业务对应的所述目标业务类型。5.根据权利要求4所述的方法，其特征在于，所述方法还包括：响应于交换业务更新请求，获取待更新交换业务以及所述待更新交换业务的业务类型；基于所述待更新交换业务，更新所述待更新交换业务的业务类型对应的交换业务集合。6.根据权利要求5任一项所述的方法，其特征在于，所述方法还包括：在所述目标配置方式为基于交换机抽象接口的配置方式的情况下，确定所述目标接口为所述交换机抽象接口；在所述目标配置方式为所述远程调用配置方式的情况下，确定所述目标接口为远程过程调用接口。7.根据权利要求1所述的方法，其特征在于，所述响应于交换机配置信息，确定待配置的目标交换业务，包括：从所述交换机配置信息中提取交换业务标识信息；获取所述交换业务标识信息对应的所述目标交换业务。8.一种交换机配置装置，其特征在于，包括：目标交换业务确定模块，被配置为执行接收到交换机配置信息，确定待配置的目标交换业务；配置方式获取模块，被配置为执行获取所述目标交换业务对应的目标配置方式；配置模块，被配置为执行调用所述目标配置方式匹配的目标接口，将所述交换机配置信息写入所述可编程交换机的交换芯片中。9.一种电子设备，其特征在于，包括：处理器；用于存储所述处理器可执行指令的存储器；其中，所述处理器被配置为执行所述指令，以实现如权利要求1至7中任一项所述的交换机配置方法。10.一种计算机可读存储介质，其特征在于，当所述计算机可读存储介质中的指令由电子设备的处理器执行时，使得所述电子设备能够执行如权利要求1至7中任一项所述的交换机配置方法。11.一种计算机程序产品，包括计算机指令，其特征在于，所述计算机指令被处理器执行时实现权利要求1至7中任一项所述的交换机配置方法。
说明书desc
技术领域本公开涉及通信技术领域，尤其涉及一种交换机配置方法、装置、电子设备及存储介质。背景技术传统交换机的数据平面由固定交换业务的组件组成，数据报文进入数据平面后，会按照顺序经过相应流水线，整个流程冗长且不灵活。基于此，提出了可编程交换机，可编程交换机中的交换芯片支持可编程，使得数据报文在数据平面中的流转方式可以通过编程语言控制，具有极强的灵活性。相关技术中，在当前的可编程交换机设计中，数据报文在数据平面通过查表进行转发，数据平面上的这些表项由控制平面操作。实现这些操作的方式有基于SDK、基于交换机抽象接口等方式，但这些方式的使用较单一固定，导致可编程交换机的管控不灵活；且在面对不同厂商的交换芯片时，适配工作量均较大，导致交换业务的更新迭代较慢，即交换业务的配置效率较低。发明内容本公开提供一种交换机配置方法、装置、电子设备及存储介质。本公开的技术方案如下：根据本公开实施例的第一方面，提供一种交换机方法，包括：接收到交换机配置信息，确定待配置的目标交换业务；获取所述目标交换业务对应的目标配置方式；调用所述目标配置方式匹配的目标接口，将所述交换机配置信息写入所述可编程交换机的交换芯片中。在一种可能的实现方式中，所述获取所述目标交换业务对应的目标配置方式，包括：确定所述目标交换业务对应的目标业务类型；根据所述目标业务类型，确定对应的所述目标配置方式。在一种可能的实现方式中，所述目标业务类型为预设业务类型中的一种，所述预设业务类型包括基本业务类型和扩展业务类型；所述根据所述目标业务类型，确定对应的所述目标配置方式，包括：在所述目标业务类型为所述基本业务类型的情况下，确定所述目标配置方式为基于交换机抽象接口的配置方式；在所述目标业务类型为所述扩展业务类型的情况下，确定所述目标配置方式为远程调用配置方式。在一种可能的实现方式中，所述确定所述目标交换业务对应的目标业务类型，包括：获取预设业务集合，所述预设业务集合为所述基本业务类型对应的交换业务集合和/或所述扩展业务类型对应的交换业务集合；将所述目标交换业务与所述预设业务集合进行匹配处理，得到匹配结果；根据所述匹配结果，确定所述目标交换业务对应的所述目标业务类型。在一种可能的实现方式中，所述方法还包括：响应于交换业务更新请求，获取待更新交换业务以及所述待更新交换业务的业务类型；基于所述待更新交换业务，更新所述待更新交换业务的业务类型对应的交换业务集合。在一种可能的实现方式中，所述方法还包括：在所述目标配置方式为基于交换机抽象接口的配置方式的情况下，确定所述目标接口为所述交换机抽象接口；在所述目标配置方式为所述远程调用配置方式的情况下，确定所述目标接口为远程过程调用接口。在一种可能的实现方式中，所述响应于交换机配置信息，确定待配置的目标交换业务，包括：从所述交换机配置信息中提取交换业务标识信息；获取所述交换业务标识信息对应的所述目标交换业务。根据本公开实施例的第二方面，提供一种交换机配置装置，包括：目标交换业务确定模块，被配置为执行接收到交换机配置信息，确定待配置的目标交换业务；配置方式获取模块，被配置为执行获取所述目标交换业务对应的目标配置方式；配置模块，被配置为执行调用所述目标配置方式匹配的目标接口，将所述交换机配置信息写入所述可编程交换机的交换芯片中。在一种可能的实现方式中，所述配置方式获取模块包括：业务类型确定单元，被配置为执行确定所述目标交换业务对应的目标业务类型；配置方式确定单元，被配置为执行根据所述目标业务类型，确定对应的所述目标配置方式。在一种可能的实现方式中，所述目标业务类型为预设业务类型中的一种，所述预设业务类型包括基本业务类型和扩展业务类型；所述配置方式确定单元包括：第一配置方式确定子单元，被配置为执行在所述目标业务类型为所述基本业务类型的情况下，确定所述目标配置方式为基于交换机抽象接口的配置方式；第二配置方式确定子单元，被配置为执行在所述目标业务类型为所述扩展业务类型的情况下，确定所述目标配置方式为远程调用配置方式。在一种可能的实现方式中，所述业务类型确定单元包括：业务集合获取子单元，被配置为执行获取预设业务集合，所述预设业务集合为所述基本业务类型对应的交换业务集合和/或所述扩展业务类型对应的交换业务集合；匹配结果获取子单元，被配置为执行将所述目标交换业务与所述预设业务集合进行匹配处理，得到匹配结果；业务类型确定子单元，被配置为执行根据所述匹配结果，确定所述目标交换业务对应的所述目标业务类型。在一种可能的实现方式中，所述装置还包括：更新响应模块，被配置为执行响应于交换业务更新请求，获取待更新交换业务以及所述待更新交换业务的业务类型；业务更新模块，被配置为执行基于所述待更新交换业务，更新所述待更新交换业务的业务类型对应的交换业务集合。在一种可能的实现方式中，所述装置还包括：第一接口确定模块，被配置为执行在所述目标配置方式为基于交换机抽象接口的配置方式的情况下，确定所述目标接口为所述交换机抽象接口；第二接口确定模块，被配置为执行在所述目标配置方式为所述远程调用配置方式的情况下，确定所述目标接口为远程过程调用接口。在一种可能的实现方式中，所述目标交换业务确定模块包括：提取单元，被配置为执行从所述交换机配置信息中提取交换业务标识信息；目标交换业务确定单元，被配置为执行获取所述交换业务标识信息对应的所述目标交换业务。根据本公开实施例的第三方面，提供一种电子设备，包括：处理器；用于存储所述处理器可执行指令的存储器；其中，所述处理器被配置为执行所述指令，以实现如上述第一方面中任一项所述的方法。根据本公开实施例的第四方面，提供一种计算机可读存储介质，当所述计算机可读存储介质中的指令由电子设备的处理器执行时，使得所述电子设备能够执行本公开实施例的第一方面中任一所述的方法。根据本公开实施例的第五方面，提供一种计算机程序产品，包括计算机指令，所述计算机指令被处理器执行时，使得计算机执行本公开实施例的第一方面中任一项所述的方法。本公开的实施例提供的技术方案至少带来以下有益效果：通过获取待配置的目标交换业务对应的目标配置方式，并调用目标配置方式匹配的目标接口，将交换机配置信息写入可编程交换机的交换芯片中，实现了不同交换业务的配置方式差异化，从而提升可编程交换机的管控灵活性和可扩展性，也可以充分发挥各配置方式的优势，以降低配置有关的适配工作量，提升可编程交换机的配置迭代效率，使得可编程交换机可以实现功能的快速切换；并且该配置方式与数据平面相关，可以与数据平面一起快速迭代，适用性更强。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本公开。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本公开的实施例，并与说明书一起用于解释本公开的原理，并不构成对本公开的不当限定。图1是根据一示例性实施例示出的一种应用环境的示意图。图2是根据一示例性实施例示出的一种交换机配置方法的流程图。图3是根据一示例性实施例示出的一种交换业务与配置方式的配置示意图。图4是根据一示例性实施例示出的一种获取目标交换业务对应的目标配置方式的方法流程图。图5是根据一示例性实施例示出的一种可编程交换机的管控框架的示意图。图6是根据一示例性实施例示出的一种交换机配置的流程示意图。图7是根据一示例性实施例示出的一种交换机配置装置框图。图8是根据一示例性实施例示出的一种用于交换机配置的电子设备的框图。具体实施方式为了使本领域普通人员更好地理解本公开的技术方案，下面将结合附图，对本公开实施例中的技术方案进行清楚、完整地描述。需要说明的是，本公开的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本公开的实施例能够以除了在这里图示或描述的那些以外的顺序实施。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。相反，它们仅是与如所附权利要求书中所详述的、本公开的一些方面相一致的装置和方法的例子。在介绍本申请提供的实施例之前，先对本申请方法实施例中可能涉及的应用场景、相关术语或者名词进行简要介绍，以便于本申请领域技术人员理解。P4：Programming Protocol-independent Packet Processors，一种编程语言，用于控制网络设备中的数据包转发平面。SDK：Software Development Kit，软件开发工具包，用于为特定的软件包、软件框架、硬件平台及操作系统等创建应用软件的开发工具集合。ASIC：Application Specific Integrated Circuit，即专用集成电路，本公开中ASIC芯片是指交换芯片。ACL：Access Control Lists，访问控制列表，基于包过滤的访问控制技术，它可以根据设定的条件对接口上的数据包进行过滤，允许其通过或丢弃。mac：Media Access Control Address，媒体存取控制位址，用来定义网络设备的位置。arp：Address Resolution Protocol，地址解析协议，用于根据IP地址获取物理地址。IP地址：Internet Protocol Address，是指互联网协议地址。请参阅图1，图1是根据一示例性实施例示出的一种应用环境的示意图，如图1所示，该应用环境可以包括可编程交换机、控制平面、数据平面。其中，数据平面可以通过查表对数据报文进行转发，该转发使用的转发策略可以如图1所示的P4程序控制，即数据报文在数据平面中如何流转可以使用编程语言P4控制，具有极强的灵活性。加载不同的P4程序可以改变交换机的数据转发策略，即可以利用P4程序编译加载至可编程交换机。同时，可编程交换机还提供了超大的带宽能力，达到T级别，比传统x86服务器提升两个数量级。数据平面上这些表项由控制平面进行操作控制，例如利用控制平面API进行增删查改等控制。可以通过SDK，SAI，远程调用等方式实现该操作控制。在一个示例中，可编程交换机可以包括处理器、操作系统和交换芯片。交换芯片可以是任一厂商的交换芯片，该交换芯片的数量可以为1。操作系统可以是NOS对整个系统进行管理，作为一个示例，网络操作系统可以为SONiC。本公开涉及通过控制平面对可编程交换机中功能的配置，例如可以在终端侧通过该控制平面对可编程交换机中功能的配置，其中可编程交换机的各功能可以是指各交换业务。这里的终端可以包括但不限于智能手机、台式计算机、平板电脑、笔记本电脑、智能音箱、数字助理、增强现实/虚拟现实设备、智能可穿戴设备等类型的电子设备。需要说明的是，以下图中示出的是一种可能的步骤顺序，实际上并不限定必须严格按照此顺序。有些步骤可以在互不依赖的情况下并行执行。图2是根据一示例性实施例示出的一种交换机配置方法的流程图，该方法可以应用于可编程交换机的处理器。如图2所示，可以包括以下步骤。在步骤S201中，接收到交换机配置信息，确定待配置的目标交换业务。本说明书实施例中，交换机配置信息可以用于对可编程交换机中各交换业务对应的表项进行配置，这里的表项可以用于为数据平面的转发提供依据，作为一个示例，表项可以包括路由表、访问控制列表等，本公开对此不作限定。其中，交换机配置信息可以是基于已有交换业务的，也可以是基于新增交换业务的。相应地，目标交换业务可以是已有交换业务或新增交换业务，在新增交换业务时，可以同步更新交换业务集合。其中，交换业务可以是指交换机中的功能，例如访问控制、负载均衡、网络安全等功能，本公开对此不作限定。在一种可能的实现方式中，可以从交换机配置信息中提取交换业务标识信息；获取交换业务标识信息对应的目标交换业务。例如可以接收控制平面传输的交换机配置信息，从而可以从交换机配置信息中提取交换业务标识信息。并且可以获取预先设置的交换业务标识信息与交换业务的对应关系，从而可以基于该对应关系，获取交换业务标识信息对应的目标交换业务，该目标交换业务可以是交换业务中的一种。通过在交换机配置信息中携带交换业务标识信息，可以保证待配置交换业务的确定准确性，且可以为后续基于不同交换业务进行不同配置提供基础。在一个示例中，交换业务标识信息可以为字段，例如可以为不同交换业务设置不同字段，这样通过在交换机配置信息中携带相应字段以指示待配置的目标交换业务。在另一个示例中，可以通过K-V模式表示不同交换业务，这样可以在交换机配置信息中携带key以指示待配置的目标交换业务。例如可以从交换机配置信息中提取出key＝ACL，从而可以确定待配置的目标交换业务为ACL业务。在步骤S203中，获取目标交换业务对应的目标配置方式。本说明书实施例中，可以预先设置并存储交换业务与配置方式的对应关系，如图3所示，其中可以包括多种交换业务与至少两种配置方式的对应关系，一种交换业务对应一种配置方式，一种配置方式可以对应多种交换业务，即不同交换业务对应的配置方式可以相同，本公开对此不作限定。基于此，可以查找该对应关系，得到目标交换业务对应的目标配置方式。例如目标交换业务为虚拟路由，通过查找该图3所示的对应关系，可以得到虚拟路由对应的目标配置方式为远程调用配置方式。在步骤S205中，调用目标配置方式匹配的目标接口，将交换机配置信息写入可编程交换机的交换芯片中。本说明书实施例中，不同配置方式可以具有匹配的不同目标接口，这样可以调用目标配置方式匹配的目标接口，使用该目标接口将交换机配置信息写入可编程交换机的交换芯片中，例如ASIC芯片中。举例来说，目标配置方式为SDK方式，匹配的目标接口可以为SDK接口，从而可以调用SDK接口将交换机配置信息写入可编程交换机的交换芯片中。作为一个示例，配置方式可以包括基于交换机抽象接口的配置方式、远程调用配置方式。基于此，在步骤S205之前，可以包括目标接口的确定步骤，例如可以包括：在目标配置方式为基于交换机抽象接口的配置方式的情况下，可以确定目标接口为交换机抽象接口，即SAI；在目标配置方式为远程调用配置方式的情况下，可以确定目标接口为远程过程调用接口。这里的确定处理可以基于配置方式与接口的映射关系实现的，本公开对该映射关系不作限定。通过不同配置方式调用匹配的接口，以实现基于不同接口的配置写入操作，可以提升可编程交换机的管控灵活性。在一种可能的实现方式中，该步骤S205可以包括：调用目标接口，将交换机配置信息写入交换芯片对应的SDK中；基于SDK将交换机配置信息写入交换芯片中，其中，交换芯片对应的SDK可以是指与交换芯片适配的SDK，实际应用中可以是配套出厂的。对于具体的写入过程，不同的接口可以具有对应的写入流程，基于此，可以获取目标接口对应的写入流程；基于该写入流程，将交换机配置信息写入交换芯片对应的SDK中。通过获取待配置的目标交换业务对应的目标配置方式，并调用目标配置方式匹配的目标接口，将交换机配置信息写入可编程交换机的交换芯片中，实现了不同交换业务的配置方式差异化，从而提升可编程交换机的管控灵活性和可扩展性，也可以充分发挥各配置方式的优势，以降低配置有关的适配工作量，提升可编程交换机的配置迭代效率，使得可编程交换机可以实现功能的快速切换；并且该配置方式与数据平面相关，可以与数据平面一起快速迭代，适用性更强。图4是根据一示例性实施例示出的一种获取目标交换业务对应的目标配置方式的方法流程图。在一种可能的实现方式中，如图4所示，上述步骤S203可以包括：在步骤S401中，确定目标交换业务对应的目标业务类型。本说明书实施例中，可以将可编程交换机中的交换业务划分为至少两种业务类型，可以看作是对交换业务的分组，从而可以基于业务类型实现对一部分交换业务使用一种配置方式进行配置，对另一部分交换业务使用另一种配置方式进行配置，这样可以有效发挥不同配置方式的优势，也可以提升配置灵活性。基于此，可以根据预先划分好的至少两种业务类型各自对应的交换业务，确定目标交换业务对应的目标业务类型。在一种可选地方式中，目标业务类型可以为预设业务类型中的一种，该预设业务类型可以包括基本业务类型和扩展业务类型。基于此，可以获取预设业务集合，该预设业务集合可以为基本业务类型对应的交换业务集合和/或扩展业务类型对应的交换业务集合。例如可以从基本业务类型对应的交换业务集合和扩展业务类型对应的交换业务集合中提取至少一个交换业务集合，作为预设业务集合。进一步地，可以将目标交换业务与预设业务集合进行匹配处理，得到匹配结果。在预设业务集合为基本业务类型对应的交换业务集合和扩展业务类型对应的交换业务集合时，匹配结果可以是指匹配的交换业务集合的集合标识。在预设业务集合为基本业务类型对应的交换业务集合或扩展业务类型对应的交换业务集合时，匹配结果可以为匹配或不匹配。进一步地，可以根据匹配结果，确定目标交换业务对应的目标业务类型。比如，匹配结果为扩展业务类型对应的交换业务集合的集合标识，这样可以确定目标交换业务对应的目标业务类型为扩展业务类型。或者在预设业务集合为扩展业务类型对应的交换业务集合的情况下，若匹配结果为不匹配，可以确定目标业务类型为基本业务类型；若匹配结果为匹配，可以确定目标业务类型为扩展业务类型。通过预设业务集合以及匹配的方式，确定目标交换业务对应的目标业务类型，可以快速且精准的确定交换业务对应的业务类型，并且可以通过动态设置预设业务集合来灵活改变交换业务的业务类型。可选地，可以动态更新交换业务集合。基于此，该方法还可以包括：响应于交换业务更新请求，获取待更新交换业务以及待更新交换业务的业务类型；从而可以基于待更新交换业务，更新待更新交换业务的业务类型对应的交换业务集合。其中，待更新交换业务可以是新增交换业务、或者可以是已有的交换业务。对于新增交换业务，可以将其添加至待更新交换业务的业务类型对应的交换业务集合中。比如新增交换业务为扩展业务类型，可以将该待更新交换业务添加至扩展业务类型对应的交换业务集合中。对于已有的交换业务，可以是删除、修改等。从而可以确定待更新交换业务的业务类型，比如扩展业务类型，从而可以对扩展业务类型对应的交换业务集合中该待更新交换业务进行删除、修改等。通过交换业务更新请求，可以动态对交换业务集进行更新，实现对交换业务以及交换业务对应的业务类型的动态更改，使得交换业务和业务类型的设置更加灵活，可扩展性更强。在步骤S403中，根据目标业务类型，确定目标交换业务对应的目标配置方式。本说明书实施例中，目标业务类型为预设业务类型中的一种，预设业务类型包括基本业务类型和扩展业务类型。在此基础上，该步骤S403可以包括：在目标业务类型为基本业务类型的情况下，确定目标配置方式为基于交换机抽象接口的配置方式；在目标业务类型为扩展业务类型的情况下，确定目标配置方式为远程调用配置方式。实际应用中，考虑基本业务类型对应的基本交换业务一般比较固定和通用，对迭代更新的要求较低，可以选择交换机抽象接口的配置方式进行控制平面的配置，可以实现交换机抽象接口的有效复用。其中，交换机抽象接口可以是指SAI，一种对交换机ASIC芯片进行操作的API。扩展业务类型对应的扩展交换业务一般是根据需要动态设置的，从而选择远程调用配置方式，使得扩展交换业务可以快速配置，作为一个示例，远程调用配置方式可以为GPRC。基于此，可以预先设置预设业务类型各自对应配置方式，从而可以基于此，确定目标业务类型对应的目标配置方式。通过设置可编程交换机中基于业务类型的差异化管控框架，具体地，基本业务类型使用基于交换机抽象接口的配置方式管控、扩展业务类型使用远程调用配置方式管控，使得可编程交换机的基本交换业务使用基于交换机抽象接口的配置方式，能够充分复用交换机抽象接口，降低维护成本；并使得可编程交换机的扩展交换业务使用远程调用配置方式，不需要对可编程交换机中的全部交换业务使用远程调用配置管控，降低适配处理量。这样既可以充分复用交换机抽象接口的管控，又可以有效适配扩展交换业务，提升可编程交换机管控的可扩展性和灵活性。并且，在可编程交换机的交换业务发生改变时，通过远程调用配置方式对部分可扩展交换业务进行适配，使得扩展交换业务能够快速切换和落地，提升配置效率。如图5所示，作为一个示例，可编程交换机的管控框架可以如图5所示，本公开对此不作限定。可编程交换机可以包括操作系统、处理器和交换芯片，图5未画出处理器。可选地，如图5所示，还可以包括管理框架和数据库，其中，数据库可以是Redis数据库；管理框架可以用于数据格式的转换以适配数据库的存储格式。例如配置下发的数据格式与数据库的存储格式不同，管控框架可以把配置下发的数据格式转换成数据库的存储格式。作为一个示例，可编程交换机整个功能可分为两部分，基本功能和可编程功能，即基本交换业务和扩展交换业务。其中，基本功能：例如边界网关协议BGP、访问控制列表ACL、IP地址、端口等功能。例如还可以包括mac/arp表管理功能等，本公开对此不作限定。可编程功能：这部分功能是对交换机基本功能的扩展，以满足业务灵活需求场景。可编程功能可以包括虚拟路由vrouter、负载均衡Loadbalancer、数据类型、网络安全，例如分布式拒绝服务攻击DDos等功能。本说明书实施例中，对于不同的功能可以采用不同的管控方式。交换机基本功能通过交换机抽象接口进行管理，可编程功能使用GRPC管理。这样对于交换机基本功能使用交换机抽象接口进行管理，可以屏蔽不同芯片厂商之间的差异，降低适配工作量，并且复用已有功能，这部分功能变化不大，可以适用交换机抽象接口进行管理。对于可编程功能部分采用远程调用进行管控，即对部分功能进行远程调用管控，可以快速对可编程交换机中可编程功能进行管控，可以快速迭代，相比于全部功能的远程调用管控方案，适配工作量已经大大降低。并且，对交换芯片的管控与交换芯片对应的SDK在不同进程，没有耦合，可以独自更新迭代，鲁棒性较佳。参照图6所示，具体地，用户可以通过命令行或者远程进程调用方式向管理框架下发交换机配置信息，并可以将交换机配置信息写入数据库。从而可以触发可编程交换机的配置处理，例如配置变更处理。进一步可以判断是否属于扩展业务类型对应的交换业务集合，若是，可以确定目标配置方式为基于交换机抽象接口的配置方式；若否，可以确定目标配置方式为远程调用配置方式。从而在基于交换机抽象接口的配置方式的情况下，可以调用交换机抽象接口将交换机配置信息写入交换芯片对应的SDK中；基于SDK将交换机配置信息写入交换芯片中。在目标配置方式为远程调用配置方式的情况下，调用远程过程调用接口将交换机配置信息写入交换芯片对应的SDK中；基于SDK将交换机配置信息写入交换芯片中。对于基本功能的配置，可以基于管理框架对下发的配置进行数据格式转换，将数据转换后的配置保存到数据库。处理器可以利用基本功能管理进程检测数据库变化，对新下发的交换机的配置进行相应处理，例如信息提取处理，处理完成后将提取的交换机配置信息写入芯片数据库，例如数据库中的子数据库。进一步地，芯片配置同步服务检测到芯片数据库发生改变，调用相应交换机抽象接口将配置信息写入交换芯片，基本功能配置完成。对于可编程功能的配置，可以通过命令行或者远程进程调用下发可编程功能的配置信息，该配置信息可以被保存到数据库。可编程功能管理组件检测到数据库中相应配置发生变化，可以调用GRPC接口将相应配置信息写入交换芯片，可编程功能配置完成。需要说明的是，上述图5和图6的内容仅仅是示例，不对本公开进行限定。图7是根据一示例性实施例示出的一种交换机配置装置框图，该装置可以作为可编程交换机中处理器的一部分，或者可以应用于可编程交换机中被处理器调用，本公开对此不作限定。参照图7，该装置可以包括：目标交换业务确定模块701，被配置为执行接收到交换机配置信息，确定待配置的目标交换业务；配置方式获取模块703，被配置为执行获取所述目标交换业务对应的目标配置方式；配置模块705，被配置为执行调用所述目标配置方式匹配的目标接口，将所述交换机配置信息写入所述可编程交换机的交换芯片中。通过获取待配置的目标交换业务对应的目标配置方式，并调用目标配置方式匹配的目标接口，将交换机配置信息写入可编程交换机的交换芯片中，实现了不同交换业务的配置方式差异化，从而提升可编程交换机的管控灵活性和可扩展性，也可以充分发挥各配置方式的优势，以降低配置有关的适配工作量，提升可编程交换机的配置迭代效率，使得可编程交换机可以实现功能的快速切换；并且该配置方式与数据平面相关，可以与数据平面一起快速迭代，适用性更强。在一种可能的实现方式中，上述配置方式获取模块703可以包括：业务类型确定单元，被配置为执行确定所述目标交换业务对应的目标业务类型；配置方式确定单元，被配置为执行根据所述目标业务类型，确定对应的所述目标配置方式。在一种可能的实现方式中，所述目标业务类型为预设业务类型中的一种，所述预设业务类型包括基本业务类型和扩展业务类型；上述配置方式确定单元可以包括：第一配置方式确定子单元，被配置为执行在所述目标业务类型为所述基本业务类型的情况下，确定所述目标配置方式为基于交换机抽象接口的配置方式；第二配置方式确定子单元，被配置为执行在所述目标业务类型为所述扩展业务类型的情况下，确定所述目标配置方式为远程调用配置方式。在一种可能的实现方式中，上述业务类型确定单元可以包括：业务集合获取子单元，被配置为执行获取预设业务集合，所述预设业务集合为所述基本业务类型对应的交换业务集合，和/或所述扩展业务类型对应的交换业务集合；匹配结果获取子单元，被配置为执行将所述目标交换业务与所述预设业务集合进行匹配处理，得到匹配结果；业务类型确定子单元，被配置为执行根据所述匹配结果，确定所述目标交换业务对应的所述目标业务类型。在一种可能的实现方式中，所述装置还可以包括：更新响应模块，被配置为执行响应于交换业务更新请求，获取待更新交换业务以及所述待更新交换业务的业务类型；业务更新模块，被配置为执行基于所述待更新交换业务，更新所述待更新交换业务的业务类型对应的交换业务集合。在一种可能的实现方式中，所述装置还可以包括：第一接口确定模块，被配置为执行在所述目标配置方式为基于交换机抽象接口的配置方式的情况下，确定所述目标接口为所述交换机抽象接口；第二接口确定模块，被配置为执行在所述目标配置方式为所述远程调用配置方式的情况下，确定目标接口为远程过程调用接口。在一种可能的实现方式中，上述目标交换业务确定模块701可以包括：提取单元，被配置为执行从所述交换机配置信息中提取交换业务标识信息；目标交换业务确定单元，被配置为执行获取所述交换业务标识信息对应的所述目标交换业务。关于上述实施例中的装置，其中各个模块执行操作的具体方式已经在有关该方法的实施例中进行了详细描述，此处将不做详细阐述说明。图8是根据一示例性实施例示出的一种用于交换机配置的电子设备的框图，该电子设备可以是终端，其内部结构图可以如图8所示。该电子设备包括通过系统总线连接的处理器、存储器、网络接口、显示屏和输入装置。其中，该电子设备的处理器用于提供计算和控制能力。该电子设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该电子设备的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时以实现一种交换机配置的方法。该电子设备的显示屏可以是液晶显示屏或者电子墨水显示屏，该电子设备的输入装置可以是显示屏上覆盖的触摸层，也可以是电子设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图8中示出的结构，仅仅是与本公开方案相关的部分结构的框图，并不构成对本公开方案所应用于其上的电子设备的限定，具体的电子设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在示例性实施例中，还提供了一种电子设备，包括：处理器；用于存储该处理器可执行指令的存储器；其中，该处理器被配置为执行该指令，以实现如本公开实施例中的交换机配置方法。在示例性实施例中，还提供了一种计算机可读存储介质，当该计算机可读存储介质中的指令由电子设备的处理器执行时，使得电子设备能够执行本公开实施例中的交换机配置方法。计算机可读存储介质可以是ROM、随机存取存储器、CD-ROM、磁带、软盘和光数据存储设备等。在示例性实施例中，还提供了一种包含指令的计算机程序产品，当其在计算机上运行时，使得计算机执行本公开实施例中的交换机配置的方法。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，该计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。本领域技术人员在考虑说明书及实践这里公开的发明后，将容易想到本公开的其它实施方案。本申请旨在涵盖本公开的任何变型、用途或者适应性变化，这些变型、用途或者适应性变化遵循本公开的一般性原理并包括本公开未公开的本技术领域中的公知常识或惯用技术手段。说明书和实施例仅被视为示例性的，本公开的真正范围和精神由下面的权利要求指出。应当理解的是，本公开并不局限于上面已经描述并在附图中示出的精确结构，并且可以在不脱离其范围进行各种修改和改变。本公开的范围仅由所附的权利要求来限制。
