标题title
网络稳定性确定方法、装置、计算机设备及可读存储介质
摘要abst
本发明涉及互联网技术领域，尤其涉及一种网络稳定性确定方法、装置、计算机设备及可读存储介质。包括获取目标设备在第一历史时段内网络流量数据；根据网络流量数据，确定目标设备对应的网络流量图；根据网络流量图，确定网络空闲时段；根据网络空闲时段，确定多个采集时段；每到采集时段的起始时间时，向目标设备发送测试数据包组；根据每一采集时段对应的时延值集合，确定每一采集时段对应的网络波动值；根据采集时段对应的网络波动值和波动阈值，确定采集时段对应的网络稳定情况。通过目标设备对不同大小的子测试数据包响应的时延值，可以更加准确的反映出当前网络处理能力，由此，可以提高网络空闲时段的网络稳定性的计算结果的准确性。
权利要求书clms
1.一种网络稳定性确定方法，其特征在于，包括：获取目标设备在第一历史时段内网络流量数据，所述第一历史时段包括至少一个监测周期；根据所述网络流量数据，确定目标设备对应的网络流量图，所述网络流量图的横轴用于表示时间，所述网络流量图的纵轴用于表示不同时间对应的访问流量的大小；根据所述网络流量图，确定网络空闲时段；根据所述网络空闲时段，确定多个采集时段T1、T2、T3......Tn，每一所述采集时段的起始时间不同，所述采集时段对应的时间均属于所述监测周期；每到任一所述采集时段的起始时间时，向所述目标设备发送测试数据包组，所述测试数据包组内包括多个子测试数据包，每一所述子测试数据包的大小不同；获取每一采集时段对应的时延值集合An＝{Pn1、Pn2、Pn3......Pnm}，其中，An为采集时段Tn对应的时延值集合，Pnj为在采集时段Tn内所述目标设备接收第j个所述子测试数据包时的时延值，n的取值为1到n，j的取值小于所述测试数据包组中所述子测试数据包的总数量；根据每一所述采集时段对应的时延值集合，确定每一所述采集时段对应的网络波动值G1，G1的计算公式如下：其中，G1为每一所述采集时段对应的网络波动值；Pni为在采集时段Tn内所述目标设备接收第i个所述子测试数据包时的时延值；m为采集时段对应的时延值集合An中时延值的总数；为每一采集时段中所有时延值的平均值；根据每一所述采集时段对应的网络波动值和波动阈值，确定每一所述采集时段对应的网络稳定情况。2.根据权利要求1所述的网络稳定性确定方法，其特征在于，所述根据每一所述采集时段对应的网络波动值和波动阈值，确定每一所述采集时段对应的网络稳定情况，包括：在所述采集时段对应的网络波动值大于所述波动阈值时，所述采集时段对应的网络波动异常。3.根据权利要求1所述的网络稳定性确定方法，其特征在于，所述数据测试包组B＝{b1、b2、b3...bs}，每一所述子测试数据包的大小满足如下公式：Dx＝Dx-1×Lx-1其中，x为大于等于2的正整数，L为设定参数，Dx为第x个子测试数据包对应的数据大小。4.根据权利要求1所述的网络稳定性确定方法，其特征在于，所述根据所述网络流量图，确定网络空闲时段，包括：获取流量阈值；根据所述流量阈值，在所述网络流量图中，确定出所述访问流量小于所述流量阈值时，所述横轴所对应的子时间段；根据所述子时间段，确定所述网络空闲时段。5.根据权利要求1所述的网络稳定性确定方法，其特征在于，所述根据所述网络流量图，确定网络空闲时段，包括：确定时间滑窗、滑动方向及滑动步长，控制所述时间滑窗根据所述滑动方向和所述滑动步长在所述横轴上进行滑动；在每次所述滑动后，确定所述时间滑窗当前对应的时间段与所述网络流量图中的流量变化曲线所围合成的面积；获取面积阈值；当所述时间滑窗当前对应的时间段与所述网络流量图中的流量变化曲线所围合成的面积小于所述面积阈值时，所述时间滑窗当前对应的所述时间段为网络空闲时段；且当确定所述时间滑窗当前对应的所述时间段为网络空闲时段后，所述时间滑窗下一次滑动的起点为所述网络空闲时段的终点。6.根据权利要求4或5所述的网络稳定性确定方法，其特征在于，在所述向所述目标设备发送测试数据包组之前，所述方法还包括：获取多个所述网络空闲时段E1、E2、E3.....En；在所述网络流量图中，确定出每一所述网络空闲时段与所述网络流量图中的流量变化曲线所围合成的空闲面积Sk1、Sk2、Sk3......Skn；根据每一所述网络空闲时段与对应所述空闲面积，确定每一所述网络空闲时段对应的所述采集时段中的子测试数据包的大小。7.根据权利要求6所述的网络稳定性确定方法，其特征在于，所述数据测试包组B＝{b1、b2、b3...bs}，每一所述子测试数据包的大小满足如下公式：其中，x为大于等于2的正整数，L为设定参数，Dx为第x个子测试数据包对应的数据大小，En为第n个网络空闲时段，Skn为第n个所述网络空闲时段与所述网络流量图中的流量变化曲线所围合成的空闲面积。8.一种网络稳定性确定装置，其特征在于，包括：第一获取模块，获取第一历史时段内目标设备的网络流量数据，所述第一历史时段包括至少一个监测周期；第一确定模块，用于根据所述网络流量数据，确定网络流量图，所述网络流量图的横轴用于表示一个所述监测周期内的时间，所述网络流量图的纵轴用于表示不同时间对应的访问流量；第二确定模块，用于根据所述网络流量图，确定网络空闲时段；第三确定模块，用于根据所述网络空闲时段，确定多个采集时段T1、T2、T3......Tn，每一所述采集时段的起始时间不同，所述采集时段对应的时间均属于所述监测周期；第一发送模块，用于每到任一所述采集时段的起始时间时，向所述目标设备发送测试数据包组，所述测试数据包组内包括多个子测试数据包，每一所述子测试数据包的大小不同；第二获取模块，用于获取每一采集时段对应的时延值集合An＝{Pn1、Pn2、Pn3......Pnm}，其中，An为采集时段Tn对应的时延值集合，Pnj为在采集时段Tn内所述目标设备接收第j个所述子测试数据包时的时延值，n的取值为1到n，j的取值小于所述测试数据包组中所述子测试数据包的总数量；第四确定模块，用于根据每一所述采集时段对应的时延值集合，确定每一所述采集时段对应的网络波动值G1，G1的计算公式如下：其中，G1为每一所述采集时段对应的网络波动值；Pni为在采集时段Tn内所述目标设备接收第i个所述子测试数据包时的时延值；m为采集时段对应的时延值集合An中时延值的总数；为每一采集时段中所有时延值的平均值；第五确定模块，用于根据每一所述采集时段对应的网络波动值和波动阈值，确定每一所述采集时段对应的网络稳定情况。9.一种计算机设备，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如权利要求1至7任一项所述的网络稳定性确定方法。10.一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至7任一项所述的网络稳定性确定方法。
说明书desc
技术领域本发明涉及互联网技术领域，尤其涉及一种网络稳定性确定方法、装置、计算机设备及可读存储介质。背景技术随着近年来互联网的持续提速，当前社会的信息化发展越来越快，对于互联网的网络性能要求也变得越来越高。因此，对互联网的网络性能进行精确监控就显得尤为重要。相关技术通常以预设周期内的多个网络性能参数，对所有的网络状态均使用同样的方式进行网络稳定性的计算，以实现对该预设周期内的网络性能稳定性的监控。但是，相关技术对网络空闲状态下的网络稳定性的计算结果准确性较低。发明内容有鉴于此，本发明提供一种网络稳定性确定方法、装置、计算机设备及可读存储介质，至少部分解决现有技术中存在的问题。根据本公开实施例的第一方面，提供一种网络稳定性确定方法，包括：获取目标设备在第一历史时段内网络流量数据，所述第一历史时段包括至少一个监测周期；根据所述网络流量数据，确定目标设备对应的网络流量图，所述网络流量图的横轴用于表示时间，所述网络流量图的纵轴用于表示不同时间对应的访问流量的大小；根据所述网络流量图，确定网络空闲时段；根据所述网络空闲时段，确定多个采集时段T1、T2、T3......Tn，每一所述采集时段的起始时间不同，所述采集时段对应的时间均属于所述监测周期；每到任一所述采集时段的起始时间时，向所述目标设备发送测试数据包组，所述测试数据包组内包括多个子测试数据包，每一所述子测试数据包的大小不同；获取每一采集时段对应的时延值集合An＝{Pn1、Pn2、Pn3......Pnm}，其中，An为采集时段Tn对应的时延值集合，Pnj为在采集时段Tn内所述目标设备接收第j个所述子测试数据包时的时延值，n的取值为1到n，j的取值小于所述测试数据包组中所述子测试数据包的总数量；根据每一所述采集时段对应的时延值集合，确定每一所述采集时段对应的网络波动值G1，G1的计算公式如下：其中，G1为每一所述采集时段对应的网络波动值；Pni为在采集时段Tn内所述目标设备接收第i个所述子测试数据包时的时延值；m为采集时段对应的时延值集合An中时延值的总数；为每一采集时段中所有时延值的平均值；根据每一所述采集时段对应的网络波动值和波动阈值，确定每一所述采集时段对应的网络稳定情况。作为本申请一种可能的实现方式，所述根据每一所述采集时段对应的网络波动值和波动阈值，确定每一所述采集时段对应的网络稳定情况，包括：在所述采集时段对应的网络波动值大于所述波动阈值时，所述采集时段对应的网络波动异常。作为本申请一种可能的实现方式，所述数据测试包组B＝{b1、b2、b3...bs}，每一所述子测试数据包的大小满足如下公式：Dx＝Dx-1×Lx-1其中，x为大于等于2的正整数，L为设定参数，Dx为第x个子测试数据包对应的数据大小。作为本申请一种可能的实现方式，所述根据所述网络流量图，确定网络空闲时段，包括：获取流量阈值；根据所述流量阈值，在所述网络流量图中，确定出所述访问流量小于所述流量阈值时，所述横轴所对应的子时间段；根据所述子时间段，确定所述网络空闲时段。作为本申请一种可能的实现方式，所述根据所述网络流量图，确定网络空闲时段，包括：确定时间滑窗、滑动方向及滑动步长，控制所述时间滑窗根据所述滑动方向和所述滑动步长在所述横轴上进行滑动；在每次所述滑动后，确定所述时间滑窗当前对应的时间段与所述网络流量图中的流量变化曲线所围合成的面积；获取面积阈值；当所述时间滑窗当前对应的时间段与所述网络流量图中的流量变化曲线所围合成的面积小于所述面积阈值时，所述时间滑窗当前对应的所述时间段为网络空闲时段；且当确定所述时间滑窗当前对应的所述时间段为网络空闲时段后，所述时间滑窗下一次滑动的起点为所述网络空闲时段的终点。作为本申请一种可能的实现方式，在所述向所述目标设备发送测试数据包组之前，所述方法还包括：获取多个所述网络空闲时段E1、E2、E3.....En。在所述网络流量图中，确定出每一所述网络空闲时段与所述网络流量图中的流量变化曲线所围合成的空闲面积Sk1、Sk2、Sk3......Skn；根据每一所述网络空闲时段与对应所述空闲面积，确定每一所述网络空闲时段对应的所述采集时段中的子测试数据包的大小。作为本申请一种可能的实现方式，所述数据测试包组B＝{b1、b2、b3...bs}，每一所述子测试数据包的大小满足如下公式：其中，x为大于等于2的正整数，L为设定参数，Dx为第x个子测试数据包对应的数据大小，En为第n个网络空闲时段，Skn为第n个所述网络空闲时段与所述网络流量图中的流量变化曲线所围合成的空闲面积。根据本公开实施例的第二方面，提供一种网络稳定性确定装置，包括：第一获取模块，获取第一历史时段内目标设备的网络流量数据，所述第一历史时段包括至少一个监测周期；第一确定模块，用于根据所述网络流量数据，确定网络流量图，所述网络流量图的横轴用于表示一个所述监测周期内的时间，所述网络流量图的纵轴用于表示不同时间对应的访问流量；第二确定模块，用于根据所述网络流量图，确定网络空闲时段；第三确定模块，用于根据所述网络空闲时段，确定多个采集时段T1、T2、T3......Tn，每一所述采集时段的起始时间不同，所述采集时段对应的时间均属于所述监测周期；第一发送模块，用于每到任一所述采集时段的起始时间时，向所述目标设备发送测试数据包组，所述测试数据包组内包括多个子测试数据包，每一所述子测试数据包的大小不同；第二获取模块，用于获取每一采集时段对应的时延值集合An＝{Pn1、Pn2、Pn3......Pnm}，其中，An为采集时段Tn对应的时延值集合，Pnj为在采集时段Tn内所述目标设备接收第j个所述子测试数据包时的时延值，n的取值为1到n，j的取值小于所述测试数据包组中所述子测试数据包的总数量；第四确定模块，用于根据每一所述采集时段对应的时延值集合，确定每一所述采集时段对应的网络波动值G1，G1的计算公式如下：其中，G1为每一所述采集时段对应的网络波动值；Pni为在采集时段Tn内所述目标设备接收第i个所述子测试数据包时的时延值；m为采集时段对应的时延值集合An中时延值的总数；为每一采集时段中所有时延值的平均值；第五确定模块，用于根据每一所述采集时段对应的网络波动值和波动阈值，确定每一所述采集时段对应的网络稳定情况。根据本公开实施例的第三方面，提供一种计算机设备，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如上所述的网络稳定性确定方法。根据本公开实施例的第四方面，提供一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如上所述的网络稳定性确定方法。本公开的实施例提供的技术方案可以包括以下有益效果：本申请先通过网络流量图，确定出网络空闲时段，然后根据网络空闲时段确定多个采集时段，并且在这些采集时段主动向目标设备发送测试数据包组，且测试数据包组中的子测试数据包的大小不同。通过在网络空闲时段确定的采集时段中，向每一个采集时段中主动发送大小不同的子测试数据包，可以反映出当前网络对不同体量大小的数据包的时延值。通常在网络空闲时段时对网络的使用频率较低，所以存在网络数据处理能力过剩的情况，由此，在网络空闲时段内，向目标设备发送不同大小的子测试数据包，不仅不会影响用户对网络的正常使用，同时，通过目标设备对不同大小的子测试数据包响应的时延值，可以更加准确的反映出当前网络处理能力，由此，可以提高网络空闲时段的网络稳定性的计算结果的准确性。应当理解的是，以上的一般描述和后文的细节描述仅是示例性的，并不能限制本公开。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它的附图。图1为本发明一实施例中一种网络稳定性确定方法的流程示意图；图2为本发明一实施例中一种网络稳定性确定装置的结构示意图。具体实施方式下面结合附图对本发明实施例进行详细描述。需说明的是，在不冲突的情况下，以下实施例及实施例中的特征可以相互组合；并且，基于本公开中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本公开保护的范围。需要说明的是，下文描述在所附权利要求书的范围内的实施例的各种方面。应显而易见，本文中所描述的方面可体现于广泛多种形式中，且本文中所描述的任何特定结构及/或功能仅为说明性的。基于本公开，所属领域的技术人员应了解，本文中所描述的一个方面可与任何其它方面独立地实施，且可以各种方式组合这些方面中的两者或两者以上。举例来说，可使用本文中所阐述的任何数目个方面来实施设备及/或实践方法。另外，可使用除了本文中所阐述的方面中的一或多者之外的其它结构及/或功能性实施此设备及/或实践此方法。根据本公开实施例的第一方面，如图1所示，提供一种网络稳定性确定方法，包括：步骤S10：获取目标设备在第一历史时段内网络流量数据，第一历史时段包括至少一个监测周期。具体的，以一个检测周期为一天举例说明，第一历史时段可以为前一周或一个月，由此一个第一历史时段就包括7个检测周期或30个检测周期。步骤S20：根据网络流量数据，确定目标设备对应的网络流量图，网络流量图的横轴用于表示时间，网络流量图的纵轴用于表示不同时间对应的访问流量的大小。步骤S30：根据网络流量图，确定网络空闲时段。由于在一些使用场景中，每一个监测周期同一时段对应的网络的使用情况基本相同，所以，可以通过第一历史时段中的网络使用情况，来判断未来的网络使用情况。在本实施例中，可以通过根据第一历史时段的网络流量数据确定出来网络流量图，来大体预测未来的监测周期的网络使用情况，由此可以通过网络流量图来确定出网络空闲时段。通常在网络空闲时段，使用者对网络的使用频率低，所以在网络空闲时段主动增加一定的网络压力来进行测试，同时还不会对使用者造成比较大的影响，由此，能够更加真实的反映当前网络空闲时段中网络的真实能力，进而提高网络空闲时段对应的网络波动值的计算准确度。步骤S40：根据网络空闲时段，确定多个采集时段T1、T2、T3......Tn，每一采集时段的起始时间不同，采集时段对应的时间均属于监测周期。具体的，以一个检测周期为一天举例说明，其中，确定出来的网络空闲时段为凌晨1：00到5：00，共4个小时，确定的多个采集时段可以是以固定间隔进行选取的时段，如每隔30分钟选取一个采集时段，每个采集时段对应的时间长度为30分钟，由此，网络空闲时段可以选取8个采集时段，也即n＝8。步骤S50：每到任一采集时段的起始时间时，向目标设备发送测试数据包组，测试数据包组内包括多个子测试数据包，每一子测试数据包的大小不同。由于测试数据包组中的子测试数据包的大小不同，所以，通过目标设备接收不同大小的子测试数据包相对应的时延值的不同情况，可以更加准确的反映出当前网络处理能力，由此，可以提高网络空闲时段的网络稳定性的计算结果的准确性。另外，还可以根据每一采集时段中不同测试时间点对应的网络的空闲程度的不同，来适应性的调整各个子测试数据包的大小。也可以按照某一设定规律进行变化，如，各个子测试数据包等比例变化或者指数变化。由此，可以使每一采集时段中的子测试数据包的大小在面对不同的网络状态时更加具有针对性，进而可以提高后续网络波动值计算的精度，也可以分别以不同的方式对采集时段的网络进行增压，以适应当前的网络状态，实现方式更加灵活多样。具体的，可以通过一个能够在对应的测试时间点产生具有设计大小的ICMP数据包并向目标设备及时发送该ICMP数据包的发包器，来实现向目标设备发送多个子测试数据包的功能。具体的，通过ICMP数据包可以得出由发包器发出该ICMP数据包到目标设备接收到对应的ICMP数据包之间的时间差，该时间差即为对应的测试时间点的时延值。步骤S60：获取每一采集时段对应的时延值集合An＝{Pn1、Pn2、Pn3......Pnm}，其中，An为采集时段Tn对应的时延值集合，Pnj为在采集时段Tn内目标设备接收第j个子测试数据包时的时延值，n的取值为1到n，n为采集时段的个数，j的取值小于或等于测试数据包组中子测试数据包的总数量。步骤S70：根据每一采集时段对应的时延值集合，确定每一采集时段对应的网络波动值G1，G1的计算公式如下：其中，G1为每一采集时段对应的网络波动值。Pni为在采集时段Tn内目标设备接收第i个子测试数据包时的时延值。m为采集时段对应的时延值集合An中时延值的总数，为每一采集时段中所有时延值的平均值。步骤S80：根据每一采集时段对应的网络波动值和波动阈值，确定每一采集时段对应的网络稳定情况。具体的，通过将每一采集时段对应的网络波动值和波动阈值进行比较，可以确定出每一个采集时段网络的稳定性情况。作为本申请一种可能的实现方式，在步骤S60：获取每一采集时段对应的时延值集合之后，还包括：步骤S61：确定一个监测周期对应的总平均值；具体的，以一个监测周期中的采集时段具体为T1、T2、T3......Tn-3为例，则一个监测周期对应的时延值为采集时段T1、T2、T3......Tn-3中所有的时延值。然后求取采集时段T1、T2、T3......Tn-3中所有的时延值的总平均值。步骤S71：根据总平均值及每一采集时段对应的子时延值集合的时延值，确定每一采集时段对应的网络波动值G，G的计算公式如下：其中，G为采集时段对应的网络波动值；Ai为采集时段对应的子时延值集合An＝{A1、A2、A3......Ah}中的第i个时延值；h为采集时段对应的子时延值集合An中时延值的总数；Bi为总平均值，Bi为一个常数也即总平均值为B；假设一个监测周期对应的采集时段为T1、T2和T3，以其中的采集时段T1进行示例说明，T1对应的子时延值集合为AT1＝{A1、A2、A3......Ah}，监测周期对应的总平均值为B，然后按照上述网络波动值G的计算公式，可以确定出T1对应的G值。由此，通过每一采集时段的时延值与总平均值的相似度大小，来判定采集时段对应的的网络稳定情况的准确度更高，计算速度也更快，可以提高计算效率。作为本申请一种可能的实现方式，步骤S80：根据每一采集时段对应的网络波动值和波动阈值，确定每一采集时段对应的网络稳定情况，包括：步骤S801：在采集时段对应的网络波动值大于波动阈值时，采集时段对应的网络波动异常。具体的，波动阈值可以根据具体的网络情况进行确定，在此不再赘述，当网络波动值大于波动阈值时，认为相应的采集时段集合对应的网络波动异常。作为本申请一种可能的实现方式，数据测试包组B＝{b1、b2、b3...bs}，每一子测试数据包的大小满足如下公式：Dx＝Dx-1×Lx-1其中，x为大于等于2的正整数，L为设定参数，Dx为第x个子测试数据包对应的数据大小。具体的，上述公式即表示子测试数据包的大小以指数的形式变化。由此，通过此方式可以实现使各子测试数据包大小不同的效果。另外，还可以先获取不同大小的子测试数据包在正常网络状态下的时延值，由此确定出对应的延迟阈值，然后，在通过将本实施例中目标设备对不同大小的子测试数据包响应的时延值与对应的延迟阈值进行比较，来确定出当前网络的稳定性情况。另外，当子测试数据包大到某一程度时，其对应的时延值会出现明显异常，如时延值远大于正常范围，由此，还可以通过本实施例中子测试数据包的增长方式来大体确定出确定当前网络的传输能力，由此，可以更好设定本实施例中子测试数据包大小的最大值。作为本申请一种可能的实现方式，步骤S30：根据网络流量图，确定网络空闲时段，包括：步骤S301：获取流量阈值。具体的，可以根据对应的网络的历史使用情况来确定流量阈值，该流量阈值用来确定哪些访问流量值属于网络空闲时段的流量范围。步骤S302：根据流量阈值，在网络流量图中，确定出访问流量小于流量阈值时，横轴所对应的子时间段。具体的，当访问流量小于流量阈值时，则该访问流量属于网络空闲时段的流量范围，同时该访问流量对应的时间点属于网络空闲时段中的时间，由多个连续的时间点会组成对应的子时间段。步骤S303：根据子时间段，确定网络空闲时段。具体的，可以在子时间段中挑选多个对应的时段作为网络空闲时段，也可以将子时间段直接确定为网络空闲时段。作为本申请一种可能的实现方式，步骤S30：根据网络流量图，确定网络空闲时段，包括：步骤S304：确定时间滑窗、滑动方向及滑动步长，控制时间滑窗根据滑动方向和滑动步长在横轴上进行滑动。步骤S305：在每次滑动后，确定时间滑窗当前对应的时间段与网络流量图中的流量变化曲线所围合成的面积。步骤S306：获取面积阈值。步骤S307：当时间滑窗当前对应的时间段与网络流量图中的流量变化曲线所围合成的面积小于面积阈值时，时间滑窗当前对应的时间段为网络空闲时段。步骤S308：且当确定时间滑窗当前对应的时间段为网络空闲时段后，时间滑窗下一次滑动的起点为网络空闲时段的终点。具体的，固定长度的时间滑窗对应的时间段与网络流量图中的流量变化曲线所围合成的面积，可以表征对应的时间段内的总访问量，通过总访问量的大小可以更加准确的来判断网络在该时间段是否空闲。作为本申请一种可能的实现方式，在步骤S50：向目标设备发送测试数据包组之前，方法还包括：步骤S51：获取多个网络空闲时段E1、E2、E3.....En。步骤S52：在网络流量图中，确定出每一网络空闲时段与网络流量图中的流量变化曲线所围合成的空闲面积Sk1、Sk2、Sk3......Skn。步骤S53：根据每一网络空闲时段与对应空闲面积，确定每一网络空闲时段对应的采集时段中的子测试数据包的大小。具体的，根据每个网络空闲时段以及其对应的空闲面积，可以确定出该网络空闲时段内平均访问流量，由于采集时段是根据网络空闲时段来确定的，如在每一网络空闲时段中选取多个时段作为采集时段，或直接将每一网络空闲时段确定为对应的采集时段，所以可以将每一网络空闲时段内平均访问流量来确定为与其对应的采集时段的平均访问流量。如，采集时段一、采集时段二及采集时段三是由网络空闲时段一确定出来的，那么，采集时段一、采集时段二及采集时段三的平均访问流量均等于网络空闲时段一的平均访问流量。由此，可以根据每一网络空闲时段内平均访问流量来确定对应的采集时段中的子测试数据包的大小。具体规则可以为对应的采集时段中的子测试数据包的大小与对应的采集时段的平均访问流量成反比。作为本申请一种可能的实现方式，数据测试包组B＝{b1、b2、b3...bs}，每一子测试数据包的大小满足如下公式：其中，x为大于等于2的正整数，L为设定参数，Dx为第x个子测试数据包对应的数据大小，En为第n个网络空闲时段，Skn为第n个网络空闲时段与网络流量图中的流量变化曲线所围合成的空闲面积。具体的，根据本实施例中子测试数据包的大小计算公式可知，多个子测试数据包在按照指数形式进行变化的情况下，还会受到对应的采集时段的平均访问流量的影响，具体为子测试数据包的大小与对应采集时段的平均访问流量成反比，也即，当对应的采集时段的网络空闲程度更高时，该采集时段对应的数据测试包组中的子测试数据包的大小会整体减小，而当对应的采集时段的网络空闲程度较低时，该采集时段对应的数据测试包组中的子测试数据包的大小会整体增大。本实施例可以根据每一采集时段对应的网络的具体空闲程度，来对应调整相应采集时段对应的测试数据包组的整体大小。由此，可以防止在网络空闲程度较低的情况下，向目标设备发送较大的测试数据包组而造成网络堵塞的情况。进而保证了在对该网络进行稳定性监测的过程中，不会对用户的正常使用造成不利影响。根据本公开实施例的第二方面，提供一种网络稳定性确定装置，包括：第一获取模块，获取第一历史时段内目标设备的网络流量数据，第一历史时段包括至少一个监测周期。第一确定模块，用于根据网络流量数据，确定网络流量图，网络流量图的横轴用于表示一个监测周期内的时间，网络流量图的纵轴用于表示不同时间对应的访问流量。第二确定模块，用于根据网络流量图，确定网络空闲时段。第三确定模块，用于根据网络空闲时段，确定多个采集时段T1、T2、T3......Tn，每一采集时段的起始时间不同，采集时段对应的时间均属于监测周期。第一发送模块，用于每到任一采集时段的起始时间时，向目标设备发送测试数据包组，测试数据包组内包括多个子测试数据包，每一子测试数据包的大小不同。第二获取模块，用于获取每一采集时段对应的时延值集合An＝{Pn1、Pn2、Pn3......Pnm}，其中，An为采集时段Tn对应的时延值集合，Pnj为在采集时段Tn内目标设备接收第j个子测试数据包时的时延值，n的取值为1到n，j的取值小于测试数据包组中子测试数据包的总数量。第四确定模块，用于根据每一采集时段对应的时延值集合，确定每一采集时段对应的网络波动值G1，G1的计算公式如下：其中，G1为每一采集时段对应的网络波动值。Pni为在采集时段Tn内目标设备接收第i个子测试数据包时的时延值。m为采集时段对应的时延值集合An中时延值的总数。第五确定模块，用于根据每一采集时段对应的网络波动值和波动阈值，确定每一采集时段对应的网络稳定情况。此外，尽管在附图中以特定顺序描述了本公开中方法的各个步骤，但是，这并非要求或者暗示必须按照该特定顺序来执行这些步骤，或是必须执行全部所示的步骤才能实现期望的结果。附加的或备选的，可以省略某些步骤，将多个步骤合并为一个步骤执行，以及/或者将一个步骤分解为多个步骤执行等。通过以上的实施方式的描述，本领域的技术人员易于理解，这里描述的示例实施方式可以通过软件实现，也可以通过软件结合必要的硬件的方式来实现。因此，根据本公开实施方式的技术方案可以以软件产品的形式体现出来，该软件产品可以存储在一个非易失性存储介质中或网络上，包括若干指令以使得一台计算设备执行根据本公开实施方式的方法。在本公开的示例性实施例中，还提供了一种能够实现上述方法的电子设备。所属技术领域的技术人员能够理解，本发明的各个方面可以实现为系统、方法或程序产品。因此，本发明的各个方面可以具体实现为以下形式，即：完全的硬件实施方式、完全的软件实施方式，或硬件和软件方面结合的实施方式，这里可以统称为“电路”、“模块”或“系统”。根据本发明的这种实施方式的电子设备。电子设备仅仅是一个示例，不应对本发明实施例的功能和使用范围带来任何限制。电子设备以通用计算设备的形式表现。电子设备的组件可以包括但不限于：上述至少一个处理器、上述至少一个储存器、连接不同系统组件的总线。其中，储存器存储有程序代码，程序代码可以被处理器执行，使得处理器执行本说明书上述“示例性方法”部分中描述的根据本发明各种示例性实施方式的步骤。储存器可以包括易失性储存器形式的可读介质，例如随机存取储存器和/或高速缓存储存器，还可以进一步包括只读储存器。储存器还可以包括具有一组程序模块的程序/实用工具，这样的程序模块包括但不限于：操作系统、一个或者多个应用程序、其它程序模块以及程序数据，这些示例中的每一个或某种组合中可能包括网络环境的实现。总线可以为表示几类总线结构中的一种或多种，包括储存器总线或者储存器控制器、外围总线、图形加速端口、处理器或者使用多种总线结构中的任意总线结构的局域总线。电子设备也可以与一个或多个外部设备通信，还可与一个或者多个使得用户能与该电子设备交互的设备通信，和/或与使得该电子设备能与一个或多个其它计算设备进行通信的任何设备通信。这种通信可以通过输入/输出接口进行。并且，电子设备还可以通过网络适配器与一个或者多个网络，广域网和/或公共网络，例如因特网)通信。网络适配器通过总线与电子设备的其它模块通信。应当明白，尽管图中未示出，可以结合电子设备使用其它硬件和/或软件模块，包括但不限于：微代码、设备驱动器、冗余处理器、外部磁盘驱动阵列、RAID系统、磁带驱动器以及数据备份存储系统等。通过以上的实施方式的描述，本领域的技术人员易于理解，这里描述的示例实施方式可以通过软件实现，也可以通过软件结合必要的硬件的方式来实现。因此，根据本公开实施方式的技术方案可以以软件产品的形式体现出来，该软件产品可以存储在一个非易失性存储介质中或网络上，包括若干指令以使得一台计算设备执行根据本公开实施方式的方法。在本公开的示例性实施例中，还提供了一种计算机可读存储介质，其上存储有能够实现本说明书上述方法的程序产品。在一些可能的实施方式中，本发明的各个方面还可以实现为一种程序产品的形式，其包括程序代码，当程序产品在终端设备上运行时，程序代码用于使终端设备执行本说明书上述“示例性方法”部分中描述的根据本发明各种示例性实施方式的步骤。程序产品可以采用一个或多个可读介质的任意组合。可读介质可以是可读信号介质或者可读存储介质。可读存储介质例如可以为但不限于电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。可读存储介质的更具体的例子包括：具有一个或多个导线的电连接、便携式盘、硬盘、随机存取存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。计算机可读信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了可读程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。可读信号介质还可以是可读存储介质以外的任何可读介质，该可读介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。可读介质上包含的程序代码可以用任何适当的介质传输，包括但不限于无线、有线、光缆、RF等等，或者上述的任意合适的组合。可以以一种或多种程序设计语言的任意组合来编写用于执行本发明操作的程序代码，程序设计语言包括面向对象的程序设计语言—诸如Java、C++等，还包括常规的过程式程序设计语言—诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算设备上执行、部分地在用户设备上执行、作为一个独立的软件包执行、部分在用户计算设备上部分在远程计算设备上执行、或者完全在远程计算设备或服务器上执行。在涉及远程计算设备的情形中，远程计算设备可以通过任意种类的网络，包括局域网或广域网，连接到用户计算设备，或者，可以连接到外部计算设备。此外，上述附图仅是根据本发明示例性实施例的方法所包括的处理的示意性说明，而不是限制目的。易于理解，上述附图所示的处理并不表明或限制这些处理的时间顺序。另外，也易于理解，这些处理可以是例如在多个模块中同步或异步执行的。应当注意，尽管在上文详细描述中提及了用于动作执行的设备的若干模块或者单元，但是这种划分并非强制性的。实际上，根据本公开的实施方式，上文描述的两个或更多模块或者单元的特征和功能可以在一个模块或者单元中具体化。反之，上文描述的一个模块或者单元的特征和功能可以进一步划分为由多个模块或者单元来具体化。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
