标题title
数据传输方法、程序产品以及电子设备
摘要abst
本申请涉及通信技术领域，公开了一种数据传输方法、程序产品以及电子设备。该方法包括：确定网络传输状态满足第一条件；对应于当前的第一发射功率大于当前的第一传输速率对应的第一发射功率范围的下限功率，将第一发射功率调小为第二发射功率；确定网络传输状态不满足第一条件；调整网络传输参数，以使得网络传输状态满足第一条件。基于此，可以以尽可能小的发射功率发射数据，从而降低电子设备在传输数据的过程中对应的上行功耗。
权利要求书clms
1.一种数据传输方法，应用于电子设备，其特征在于，所述方法包括：确定网络传输状态满足第一条件；对应于当前的第一发射功率大于当前的第一传输速率对应的第一发射功率范围的下限功率，将所述第一发射功率调小为第二发射功率；确定所述网络传输状态不满足所述第一条件；调整网络传输参数，以使得所述网络传输状态满足所述第一条件。2.根据权利要求1所述的方法，其特征在于，通过以下方式确定网络传输状态是否满足第一条件：在以所述第一传输速率以及所述第一发射功率传输数据时，判断获取到的第一数据包误差率是否小于误差率阈值；对应于所述第一数据包误差率小于所述误差率阈值，判断所述第一发射功率是否大于所述第一传输速率对应的第一发射功率范围的下限功率；对应于所述第一发射功率大于所述第一发射功率范围的下限功率，确定所述网络传输状态满足所述第一条件。3.根据权利要求1所述的方法，其特征在于，通过以下方式确定网络传输状态是否满足第一条件：在以所述第一传输速率以及所述第一发射功率传输数据时，判断获取到的第一数据包误差率是否小于误差率阈值；对应于所述第一数据包误差率小于所述误差率阈值，判断所述第一发射功率是否大于所述第一传输速率对应的第一发射功率范围的下限功率；对应于所述第一发射功率等于所述第一发射功率范围的下限功率，确定所述网络传输状态不满足所述第一条件。4.根据权利要求3所述的方法，其特征在于，所述调整网络传输参数，包括：调大所述第一传输速率为第二传输速率，以及调整所述第一发射功率为第三发射功率，其中，所述第三发射功率为所述第二传输速率对应的第三发射功率范围的上限功率。5.根据权利要求1所述的方法，其特征在于，通过以下方式确定网络传输状态是否满足第一条件：在以所述第一传输速率以及所述第一发射功率传输数据时，判断获取到的第一数据包误差率是否小于误差率阈值；对应于所述第一数据包误差率大于所述误差率阈值，判断所述第一发射功率是否小于所述第一传输速率对应的第一发射功率范围的上限功率；对应于所述第一发射功率小于所述第一传输速率对应的第一发射功率范围的上限功率，确定所述网络传输状态不满足所述第一条件。6.根据权利要求5所述的方法，其特征在于，所述调整网络传输参数，包括：调大所述第一发射功率为第四发射功率。7.根据权利要求1所述的方法，其特征在于，通过以下方式确定网络传输状态是否满足第一条件：在以所述第一传输速率以及所述第一发射功率传输数据时，判断获取到的第一数据包误差率是否小于误差率阈值；对应于所述第一数据包误差率大于误差率阈值，判断所述第一发射功率是否小于所述第一传输速率对应的第一发射功率范围的上限功率；对应于所述第一发射功率等于所述第一传输速率对应的第一发射功率范围的上限功率，确定所述网络传输状态不满足第一条件。8.根据权利要求7所述的方法，其特征在于，所述调整网络传输参数，包括：调小所述第一传输速率为第三传输速率，以及调整所述第一发射功率为第五发射功率，其中，所述第五发射功率为所述第三传输速率对应的第五发射功率范围的上限功率。9.根据权利要求1-8中任一项所述的方法，其特征在于，还包括：在检测到当前时刻达到检测周期的起始时间的情况下，开始确定当前所述网络传输状态是否满足第一条件。10.一种数据传输方法，应用于电子设备，其特征在于，所述方法包括：以第四传输速率和第六发射功率进行数据传输；确定网络传输状态是否满足第二条件；对应于网络传输状态不满足所述第二条件，确定出使得总传输功耗满足功耗条件的第五传输速率和第七发射功率；以所述第五传输速率和所述第七发射功率进行数据传输。11.根据权利要求10所述的方法，其特征在于，通过以下方式确定网络传输状态是否满足第二条件，包括：在以所述第四传输速率和所述第六发射功率进行数据传输时，判断获取到的当前的第一接收信噪比与前一次获取的第二接收信噪比是否相同，对应于所述第一接收信噪比与所述前一次获取的第二接收信噪比相同，确定所述网络传输状态满足第二条件；对应于所述第一接收信噪比与所述前一次获取的第二接收信噪比不同，确定所述网络传输状态不满足第二条件。12.根据权利要求11所述的方法，其特征在于，所述确定出使得总传输功耗满足功耗条件的第五传输速率和第七发射功率，包括：根据所述第一接收信噪比，确定各传输速率下的所满足各传输速率对应的目标信噪比的最小发射功率；从所述各传输速率以及以所述各传输速率对应的最小发射功率中，选出所述总传输功耗满足功耗条件的第五传输速率以及第七发射功率。13.根据权利要求12所述的方法，其特征在于，所述根据所述第一接收信噪比，确定各传输速率下的所满足各传输速率对应的目标信噪比的最小发射功率，包括：基于所述第一接收信噪比与所述第六发射功率的差值，确定所述目标信噪比与所述最小发射功率的线性关系；基于所述线性关系，确定所述各传输速率下的所满足各传输速率对应的目标信噪比的最小发射功率。14.根据权利要求12所述的方法，其特征在于，所述选出所述总传输功耗满足功耗条件的第五传输速率以及第七发射功率，包括：计算以所述各传输速率以及所述各传输速率对应的最小发射功率传输数据时的各总传输功耗，将所述各总传输功耗中的满足功耗条件所对应的传输速率作为第五传输速率，并且将所述第五传输速率对应的最小发射功率作为所述第七发射功率。15.一种电子设备，其特征在于，包括：一个或多个处理器；一个或多个存储器；所述一个或多个存储器存储有一个或多个程序，当所述一个或者多个程序被所述一个或多个处理器执行时，使得所述电子设备执行权利要求1-14中任一项所述数据传输方法。16.一种计算机可读存储介质，其特征在于，所述存储介质上存储有指令，所述指令在计算机上执行时使所述计算机执行权利要求1-14中任一项所述数据传输方法。17.一种计算机程序产品，其特征在于，所述计算机程序产品包括指令，该指令在执行时使计算机执行权利要求1-14中任一项所述数据传输方法。
说明书desc
技术领域本申请涉及通信技术领域，特别涉及一种数据传输方法、程序产品以及电子设备。背景技术随着无线通信技术的快速发展，无线网络已与人们的生活密不可分。现在，几乎所有的智能手机、平板和笔记本电脑等终端设备都支持无线网络上网。随着移动终端向着更加智能化、更高集成度和更强功能的方向发展，移动终端产品的业务集成度越来越高，用户通过终端设备进行网络服务的场景也越来越多，例如，视频通话、玩游戏、学习等。然而，当用户通过终端设备进行网络服务时，终端设备在进行网络传输时仅仅以确定出的传输速率对应的最大发射功率发射，对于终端设备在用户使用过程中的上行功耗问题考虑不足。发明内容本申请实施例的目的在于提供数据传输方法、程序产品以及电子设备，通过实时监测网络以及无线环境，确定网络传输状态满足第一条件，对应于当前的第一发射功率大于当前的第一传输速率对应的第一发射功率范围的下限功率，将第一发射功率调小为第二发射功率；确定网络传输状态不满足第一条件；调整网络传输参数，以使得网络传输状态满足第一条件。从而，使得在满足第一条件的情况下，以尽可能小的发射功率发射数据，进而降低电子设备在传输数据的过程中对应的上行功耗。第一方面，本申请实施例提供了一种数据传输方法，应用于电子设备，包括：确定网络传输状态满足第一条件；对应于当前的第一发射功率大于当前的第一传输速率对应的第一发射功率范围的下限功率，将第一发射功率调小为第二发射功率；确定网络传输状态不满足第一条件；调整网络传输参数，以使得网络传输状态满足第一条件。可以理解的，在数据传输的过程中，由于网络以及无线环境在实时发生变化，电子设备的上行吞吐量也在发生变化。所以，在传输数据的过程中，可以以满足上行吞吐量最佳为前提，在当前传输速率对应的发射功率的可调整范围内，以尽可能小的发射功率发射数据，从而使得电子设备进行数据传输的过程中的上行功耗减小，进而使得电子设备以较短的时间传完的同时减少功耗，节省电量。可以理解的，若以当前网络传输参数，即传输速率以及发射功率传输数据时不满足吞吐量最佳，则需要调整网络传输参数，使得吞吐量最佳，然后在保证吞吐量最佳的情况下，再调整发射功率，以尽可能小的发射功率发射，从而使得在保证吞吐量最大的情况下，电子设备的功耗比以原有的较大的发射功率发射数据时的功耗小。在上述第一方面的一种可能实现中，通过以下方式确定网络传输状态是否满足第一条件：在以第一传输速率以及第一发射功率传输数据时，判断获取到的第一数据包误差率是否小于误差率阈值；对应于第一数据包误差率小于误差率阈值，判断第一发射功率是否大于第一传输速率对应的第一发射功率范围的下限功率；对应于第一发射功率大于第一发射功率范围的下限功率，确定网络传输状态满足第一条件。可以理解的，根据能够反映吞吐量变化的数据包误差率作为判断条件，方便、合理。在接收到的数据包误差率满足误差率阈值的情况下，再进一步判断当前的发射功率是否可以在当前速率对应的当前发射功率的可调整范围内进一步调整，如果可以，则可以减少发射功率，进一步在保证吞吐量的情况下，调整发射功率，以尽可能小的发射功率发射，从而减少功耗。在上述第一方面的一种可能实现中，通过以下方式确定网络传输状态是否满足第一条件：在以第一传输速率以及第一发射功率传输数据时，判断获取到的第一数据包误差率是否小于误差率阈值；对应于第一数据包误差率小于误差率阈值，判断第一发射功率是否大于第一传输速率对应的第一发射功率范围的下限功率；对应于第一发射功率等于第一发射功率范围的下限功率，确定网络传输状态不满足第一条件。可以理解的，根据能够反映吞吐量变化的数据包误差率作为判断条件，在接收到的数据包误差率满足误差率阈值的情况下，则进一步判断当前的发射功率是否可以在当前速率对应的当前发射功率的可调整范围内进一步调整，如果不可以，则需要调整网络传输参数，从而在保证吞吐量的情况下，调整发射功率，以尽可能小的发射功率发射，从而减少功耗。在上述第一方面的一种可能实现中，调整网络传输参数，包括：调大第一传输速率为第二传输速率，以及调整第一发射功率为第三发射功率，其中，第三发射功率为第二传输速率对应的第三发射功率范围的上限功率。可以理解的，在一些实施例中，可以调大传输速率，进一步探索当前传输速率是否为保证吞吐量最优的传输速率，从而在保证吞吐量的情况下，以尽可能小的发射功率发射，进而减少功耗。在上述第一方面的一种可能实现中，通过以下方式确定网络传输状态是否满足第一条件：在以第一传输速率以及第一发射功率传输数据时，判断获取到的第一数据包误差率是否小于误差率阈值；对应于第一数据包误差率大于误差率阈值，判断第一发射功率是否小于第一传输速率对应的第一发射功率范围的上限功率；对应于第一发射功率小于第一传输速率对应的第一发射功率范围的上限功率，确定网络传输状态不满足第一条件。可以理解的，根据能够反映吞吐量变化的数据包误差率作为判断条件，在接收到的数据包误差率不满足误差率阈值的情况下，则表明当前吞吐量变小，则进一步判断当前的发射功率是否可以在当前速率对应的当前发射功率的可调整范围内进一步调整，如果可以调整，则需要调整网络传输参数，从而使得在保证了吞吐量的情况下，发射功率尽可能的小，进而减少功耗。在上述第一方面的一种可能实现中，调整网络传输参数，包括：调大第一发射功率为第四发射功率。可以理解的，在一些情况下中，调大发射功率可以使得接收到的数据包误差率变小，使得数据包误差率满足误差率阈值条件，从而在保证了吞吐量的同时也满足了发射功率尽可能的小的需求，进而减少功耗。在上述第一方面的一种可能实现中，通过以下方式确定网络传输状态是否满足第一条件，包括：在以第一传输速率以及第一发射功率传输数据时，判断获取到的第一数据包误差率是否小于误差率阈值；对应于第一数据包误差率大于误差率阈值，判断第一发射功率是否小于第一传输速率对应的第一发射功率范围的上限功率；对应于第一发射功率等于第一传输速率对应的第一发射功率范围的上限功率，确定网络传输状态不满足第一条件。可以理解的，根据能够反映吞吐量变化的数据包误差率作为判断条件，在接收到的数据包误差率不满足误差率阈值的情况下，则表明当前吞吐量变小，则进一步判断当前的发射功率是否可以在当前速率对应的当前发射功率的可调整范围内进一步调整，如果不可以调整，则需要调整网络传输参数，即调整传输速率以及发射功率，从而保证吞吐量。在上述第一方面的一种可能实现中，调整网络传输参数，包括：调小第一传输速率为第三传输速率，以及调整第一发射功率为第五发射功率，其中，第五发射功率为第三传输速率对应的第五发射功率范围的上限功率。可以理解的，在一些情况下，可以通过调小传输速率，以及以调小传输速率对应的最大发射功率传输数据，从而提高吞吐量。在上述第一方面的一种可能实现中，还包括：在检测到当前时刻达到检测周期的起始时间的情况下，开始确定当前网络传输状态是否满足第一条件。第二方面，本申请实施例提供了一种数据传输方法，应用于电子设备，包括：以第四传输速率和第六发射功率进行数据传输；确定网络传输状态是否满足第二条件；对应于网络传输状态不满足第二条件，确定出使得总传输功耗满足功耗条件的第五传输速率和第七发射功率；以第五传输速率和第七发射功率进行数据传输。可以理解的，在数据传输的过程中，由于网络以及无线环境在实时发生变化，电子设备的上行传输功耗也在发生变化。在一些需要保证终端数据传输总功耗最低的情况下，如果网络以及无线环境不发生变化，就可以以原先的传输速率以及发射功率传输数据，如果网络以及无线环境发生变化，此时满足功耗条件对应的传输速率以及发射功率可能会发生变化，所以需要确定出当前无线以及网络环境下满足功耗条件对应的传输速率以及发射功率，然后以满足功耗条件的输速率以及发射功率传输数据时，上行总功耗最小，进而可以使得电子设备的耗电量尽可能的小，续航能力更长久。在上述第二方面的一种可能实现中，通过以下方式确定网络传输状态是否满足第二条件，包括：在以第四传输速率和第六发射功率进行数据传输时，判断获取到的当前的第一接收信噪比与前一次获取的第二接收信噪比是否相同，对应于第一接收信噪比与前一次获取的第二接收信噪比相同，确定网络传输状态满足第二条件；对应于第一接收信噪比与前一次获取的第二接收信噪比不同，确定网络传输状态不满足第二条件。可以理解的，通过接收信噪比的变化来判断当前无线以及网络环境的变化情况，比较方便。另外，需要解释的，接收信噪比为周期性或者定时获取到的信噪比；前一次获取的第二接收信噪比是前一周期检测到的信噪比。在上述第二方面的一种可能实现中，确定出使得总传输功耗满足功耗条件的第五传输速率和第七发射功率，包括：根据第一接收信噪比，确定各传输速率下的所满足各传输速率对应的目标信噪比的最小发射功率；从各传输速率以及以各传输速率对应的最小发射功率中，选出总传输功耗满足功耗条件的第五传输速率以及第七发射功率。可以理解的，通过当前接收信噪比来确定各传输速率下的所满足各传输速率对应的目标信噪比的最小发射功率；从各传输速率以及以各传输速率对应的最小发射功率中，选出总传输功耗满足功耗条件的传输速率以及发射功率，此时由于最小发射功率可能会小于所对应的传输速率的最大发射功率，所以此时以确定出的传输速率以及发射功率传输数据时，总功耗进一步减少。在上述第二方面的一种可能实现中，根据第一接收信噪比，确定各传输速率下的所满足各传输速率对应的目标信噪比的最小发射功率，包括：基于第一接收信噪比与第六发射功率的差值，确定目标信噪比与最小发射功率的线性关系；基于线性关系，确定各传输速率下的所满足各传输速率对应的目标信噪比的最小发射功率。在上述第二方面的一种可能实现中，选出总传输功耗满足功耗条件的第五传输速率以及第七发射功率，包括：计算以各传输速率以及各传输速率对应的最小发射功率传输数据时的各总传输功耗，将各总传输功耗中的满足功耗条件所对应的传输速率作为第五传输速率，并且将第五传输速率对应的最小发射功率作为第七发射功率。第三方面，本申请实施例提供了一种电子设备，包括：一个或多个处理器；一个或多个存储器一个或多个存储器存储有一个或多个程序，当一个或者多个程序被一个或多个处理器执行时，使得电子设备执行上述第一方面以及第一方面的各种实现中的任意一种数据传输方法或者执行上述第二方面以及第二方面的各种实现中的任意一种数据传输方法。第四方面，本申请实施例提供了一种计算机可读存储介质，存储介质上存储有指令，指令在计算机上执行时使计算机执行上述第一方面以及第一方面的各种实现中的任意一种数据传输方法或者执行上述第二方面以及第二方面的各种实现中的任意一种数据传输方法。第五方面，本申请实施例提供了一种计算机程序产品，计算机程序产品包括指令，该指令在执行时使计算机执行上述第一方面以及第一方面的各种实现中的任意一种数据传输方法或者执行上述第二方面以及第二 方面的各种实现中的任意一种数据传输方法。附图说明图1根据本申请的一些实施例，示出了一种用户使用手机100中的即时通讯应用程序在向其他人发送文件的场景；图2根据本申请的一些实施例，示出了一种在数据实际传输过程中，由于存在数据包误差率，在以传输速率对应的某个发射功率发射时，传输速率与吞吐量的变化关系示意图；图3根据本申请的一些实施例，示出了一种某个传输速率下，发射功率与数据包误差率的关系图；图4A根据本申请的一些实施例，示出了一种在保证吞吐量最优的情况下，以尽可能小的发射功率发射数据的数据传输技术方案流程图；图4B根据本申请的一些实施例，示出了一种MCS6和MCS5与发射功率的关系示意图；图4C根据本申请的一些实施例，示出了一种MCS6和MCS7与发射功率的关系示意图；图5根据本申请的一些实施例，示出了一种传输速率与总功耗的关系图；图6A根据本申请的一些实施例，示出了一种在保证总功耗最小的情况下，以满足一定的信噪比要求的最小发射功率发射数据的数据传输技术方案流程图；图6B根据本申请的一些实施例，示出了一种在网络及无线环境确定的情况下，目标信噪比与最小发射功率的线性关系示意图；图7根据本申请的一些实施例，示出了一种最小发射功率未超过目标功率的各调制阶数对应的上行功耗；图8根据本申请的一些实施例，示出了一种手机100的硬件结构示意图。具体实施方式本申请的说明性实施例包括但不限于一种数据传输方法、程序产品以及电子设备。为了方便阐述，先介绍本申请的相关术语。吞吐量：电子设备在向网络设备传输数据时单位时间内成功地传送数据的数量。在本申请的一些实施例中，即手机100在单位时间内成功地传送数据的数量。数据包误差率：数据在传输过程中，传输失败的数据包所占传输的数据包的比例。在本申请的一些实施例中，即终端设备向网络设备失败传输的部分数据包所占发送包的比例。当数据包传输失败后，就需要将数据包在下次传输过程中再次进行传输，因而当数据数据包误差率过大时，吞吐量会减小，就需要花费更多的时间将数据进行重新传输。目标功率：事先设置在电子设备中的，各网络传输速率下可发射出的最大发射功率。信噪比SNR：是指一个电子设备或者电子系统中信号与噪声的比例。其中，PS和PN分别代表信号和噪声的有效功率。在本申请的一些实施例中，接收信噪比为终端设备以根据当前环境下确定的发射功率发射数据后，接收到的网络设备反馈的信噪比。目标信噪比为，终端设备维持在一定数据包误差率下，以某个传输速率传输数据时，理论上所需的最小信噪比 。例如，一定数据包误差率值可以为10%、5%等。可以理解的，适用于本申请技术方案的终端设备可以为手机、平板电脑、智慧屏、增强现实/虚拟现实设备、笔记本电脑、超级移动个人计算机、上网本、个人数字助理等电子设备。可以理解的是，本申请实施例对电子设备的具体类型不作任何限制。网络设备可以为基站、集线器、交换机、网桥、路由器、网关、网络接口卡、无线接入点等网络设备。如前所述，目前存在对终端设备在网络传输过程中的功耗问题考虑不足的情况。例如，图1示出了用户使用手机100中的即时通讯应用程序在向其他人发送文件的场景下，需要向路由器200发送数据，以利用路由器200进行传输。当数据实际传输时，在任意传输速率下都以传输速率的目标功率发射数据，对功耗问题考虑不足。故为了降低终端设备在传输数据的过程中对应的上行功耗，本申请实施例提供了一种数据传输方法，通过实时监测网络以及无线环境，确定出满足一定条件下的传输速率和发射功率，并且以尽可能小的发射功率发射数据，该发射功率往往小于前面提到的对应该传输速率的目标功率，故能够有效减少终端设备的功耗。具体地，例如，在一些需要保证传输时间尽可能短的情况下，可以在根据当前网络状态以及无线环境确定出对应传输数据的最优吞吐量的传输速率后，根据接收到的数据包误差率与数据包误差率阈值的大小关系动态地调整发射功率，以使得发射功率尽可能的小。再例如，在一些需要保证终端数据传输总功耗最小的情况下，通过实时监测网络以及无线环境，确定出在当前网络以及无线环境下，满足一定信噪比要求的多个传输速率和多个传输速率对应的最小发射功率，然后，选择出使得总功耗最小的传输速率和对应传输速率的最小发射功率。从而在终端设备上行传输数据的过程中，实时调整发射功率，进而避免终端设备非必要的数据传输功耗。需要解释的，上述在已知网络以及无线环境下，根据信噪比确定出的最小发射功率为理论发射功率。在本申请的一些实施例中，当网络以及无线环境固定，则以根据信噪比要求确定出的最小发射功率发射数据后，终端设备接收到的网络设备反馈的信噪比则满足信噪比要求。下面结合具体的实施例阐述本申请的技术方案。实施例一可以理解，如前所述，在一些情况下，由于网络以及无线环境实时在发生变化，所以需要实施监测网络以及无线环境，为了保证传输数据的吞吐量最优，所以可以根据能够反映吞吐量变化的数据包误差率来对传输速率以及发射功率进行调整，使得以传输速率和对应的发射功率发射数据时，吞吐量最优，并且对应的发射功率尽可能的小。故可以在满足数据包误差率的条件下确定出一个吞吐量最优对应的传输速率后，在确定出的传输速率的发射功率的可调整范围内调整发射功率，使得以尽可能小的发射功率发射数据时满足吞吐量的要求，从而在保证以较短的时间传完的情况下，减少功耗，进而节省终端设备的电量。可以理解的，吞吐量与传输速率有关。图2根据本申请的一些实施例，示出了在一个固定的网络以及无线环境下，在数据实际传输过程中，假设各传输速率对应的发射功率确定，传输速率与吞吐量之间定性变化关系示意图。从图中可以看出，当传输速率V小于Vb时，各传输速率下数据包误差率很小，吞吐量S会随着传输速率的增大而增大，当传输速率增大到Vb时，吞吐量为Sb，若传输速率再继续增大，此时由于信噪比SNR的限制，数据包误差率会急剧恶化，吞吐量S反而会随着传输速率的增大而减小，所以会存在一个极值点“B”，当传输速率为Vb时，吞吐量最大。需要解释的，由于网络以及无线环境在实时变化，所以吞吐量最大时对应的传输速率Vb的具体数值也会随之发生变化。可以理解的，有些手机终端设备是根据调制与编码策略规定的传输速率进行传输的。一般手机终端设备会配置有与调制编码策略对应的MCS调制编码表。MCS调制编码表是通信标准协议，例如802.11n协议、802.11.ax协议等为表征WLAN的通讯速率而提出的一种表示形式。MCS将所关注的影响通讯速率的因素于MCS索引相对应，形成一张速率表。所以，每一个MCS索引其实对应了一组参数下的物理传输速率，为了方便阐述，下文将各编号不同的索引称为调制阶数。例如，表1示出了空间流数量为1时，在带宽为 20MHZ，通信标准为802.11.ax协议中部分调制阶数与对应的传输速率。所以，传输速率的数值为调制索引表中的传输速率的离散数值中的任意一个。并且，终端设备在开始进行传输数据时，为了保证吞吐量最优，会与网络设备协商出一个满足当前环境下的信号质量的初始调制阶数以及初始发射功率，其中初始发射功率为初始调制阶数对应的目标功率。例如，传输速率为表1中的MCS6对应的传输速率77.4Mbps。表1调制阶数MCS0MCS1MCS2MCS3MCS4MCS5MCS6MCS7MCS8MCS9MCS10MCS11传输速率8.617.225.834.451.668.877.486103.2114.7129143.4可以理解的，根据吞吐量最大，确定出一个传输速率。由于数据包误差率与发射功率有关。例如，图3根据本申请的一些实施例，示出了一般情况下，在某个传输速率下，发射功率与数据包误差率的关系图。图中可以看到，随着发射功率的增大，数据包误差率PER快速减小，当发射功率增大到数值Pm时，此时数据包误差率为10%。此时再增大发射功率到最大发射功率的过程时，数据包误差率PER下降的缓慢。所以，在本申请的一些实施例中，认为当在网络以及无线环境不断变化的过程中，以吞吐量最大对应的传输速率传输数据时，若调整发射功率使得接收到的数据包误差率小于等于某个阈值时，则认为在该范围内的吞吐量的值差不多，即仍然满足吞吐量最大的要求。可以理解的，各调制阶数都有对应的可调整的发射功率的范围，该范围内能使得维持对应的传输速率，其中该范围的上限为最大发射功率。所以在，无线以及网络环境实时变化的过程中，可以在满足吞吐量要求确定出的传输速率的情况下，以接收到的衡量当前吞吐量的数据包误差率与对应阈值大小关系，实时调整发射功率，使得以满足数据包误差率的条件下，尽可能小的发射功率发射，从而减少功耗。表2示出了802.11.ax协议中部分调制阶数0~9的对应的目标功率以及目标信噪比。可以理解的，各调制阶数都有对应的最大发射功率以及使得数据包误差率PER为某个值时的所需的目标信噪比）SNRm。例如，假设当前吞吐量最大对应的传输速率为MCS6对应的传输速率，发射功率以小于目标功率发射数据时，接收到的数据包误差率可以在0%~10%之间，从而在保证吞吐量的前提下，减少功耗。表2调制阶数QAM阶数目标信噪比SNRm目标功率MCS0BPSK517MCS1QPSK1017MCS2QPSK1316MCS316QAM1616MCS416QAM1916MCS564QAM2215MCS664QAM2514MCS764QAM2713MCS8256QAM3011MCS9256QAM3210但是，需要解释的，由于在传输数据的过程中，无线以及网络环境实时变化，使得传输速率会发生变化，所以，根据接收到的数据包误差率与对应误差率阈值的关系，以及当前发射功率的具体可调整情况确定出保证吞吐量最大的传输速率，然后在确定出传输速率后，以接收到的数据包误差率再继续调节发射功率。可以理解的，满足吞吐量最大对应的传输速率为，在当前传输速率下，以发射功率可调整范围的发射功率发射数据时，获得的数据包误差率为小于等于误差率阈值。另外，若当以该传输速率传输数据时，可获得的最小数据包误差率小于等于误差率阈值时，此时则需要满足以大于该传输速率的速率传输数据时，接收到的最小数据包误差率大于误差率阈值。例如，假设，以MCS7对应的传输速率86Mbps传输数据时，以在该传输速率对应的发射功率可调整范围内的最大发射功率发射数据时，存在接收到最小数据包误差率大于误差率阈值，并且以MCS6对应的传输速率77.4Mbps以及对应的小于等于目标功率14dBm的发射功率传输数据时，接收到数据包误差率小于等于误差率阈值10%，则认为MCS6为当前环境下，对应的能够保证吞吐量最大的传输速率。可以理解的，该条件下确定出的吞吐量最大对应的传输速率时，在该传输速率对应的发射功率的可调整范围内，会存在一个发射功率，使得接收的数据包误差率满足设定误差率阈值条件，所以基于前述例子，从而可以在MCS6对应的传输速率下，再根据接收到的数据包误差率自适应调整发射功率，使得在各环境下的发射功率能维持在误差率阈值附近，从而该发射功率也会尽可能的小。需要解释的，当在以当前调制阶数对应的发射功率可调整范围的上限发射数据时，接收到的数据包误差率为小于误差率阈值10%时，得到的吞吐量S1，比以高一阶对应的发射功率可调整范围的上限发射数据时，若接收到的数据包误差率为大于误差率阈值10%时，得到的吞吐量S2要大。所以，终端设备在开始进行传输数据时，为了保证吞吐量最优，会与网络设备协商出一个满足当前环境下的信号质量的初始调制阶数以及初始发射功率，其中初始发射功率为初始调制阶数对应的目标功率。然后，在数据传输的过程中，由于网络及无线环境在变化，对应于吞吐量最大的传输速率也会发生变化，所以可以接收到的数据包误差率与误差率阈值的大小比较，在调整发射功率之前，需要在大于的情况下，判断当前发射功率是否为上限，在小于的情况下，判断当前发射功率是否为下限，如果分别不为对应情况的上下限，则调整发射功率。因为，在大于的情况下，若发射功率为上限，则该传输速率下的最小数据包误差率大于误差率阈值。则表明该传输速率不是吞吐量最大的传输速率，则调小传输速率，再确认调小的传输速率下以对应的发射功率上限发射是否满足接收的最小数据包误差率小于等于误差率阈值，若是，则确定调小的传输速率对应于吞吐量最大情况下的传输速率，可以再按照接收到的数据包误差率实时调整发射功率，使得以尽可能小的发射功率发射时得到的数据包误差率在误差率阈值附近，从而减少功耗，若否，则继续减少传输速率。在小于的情况下，若发射功率为下限，则该传输速率下最大数据包误差率小于等于误差率阈值，则需要确认以大于当前传输速率的速率传输时，该调大的传输速率下的最小数据包误差率大于误差率阈值，从而才能确认原先的传输速率为吞吐量最大对应的传输速率，否则，需要继续调大传输速率，直到以某个传输速率传输数据得到的最小数据包误差率小于等于误差率阈值，而以大于该传输速率的速率传输数据时的最小数据包误差率大于误差率阈值，从而确定该传输速率为对应于吞吐量最大情况下的传输速率，可以再按照接收到的数据包误差率实时调整发射功率，使得以尽可能小的发射功率发射，从而减少功耗。图4A根据本申请实施例示出了一种在保证吞吐量最优的情况下，通过数据包误差率实时调整，确定对应于吞吐量最大情况下的传输速率，并且在传输速确定的情况下，再按照接收到的数据包误差率实时调整发射功率，使得以尽可能小的发射功率发射数据以减少功耗的数据传输技术方案流程图。以终端设备为执行主体，所述方法包括：S401，以传输速率V1和发射功率P1发送第一数据。在一些实施例中，发送第一数据的传输速率V1和发射功率P1可以是终端设备与网络设备协商出一个满足当前环境下信号质量的初始调制阶数对应的传输速率以及初始发射功率。例如，初始调制阶数为MCS6，以初始调制阶数MCS6对应的传输速率77.4Mpbs传输，以MCS6对应的目标功率14dBm发射数据。在另一些实施例中，发送第一数据的传输速率V1和发射功率P1可以是上一次调整后的传输速率以及发射功率。例如，传输速率V1为MCS6对应的传输速率77.4Mpbs，发射功率P1为小于目标功率14dBm的p6。S402，获取第一数据包误差率。在一些实施例中，终端设备接收到网络设备发送的第一数据包误差率。其中，第一数据包误差率为，网络设备接收到第一数据后得到的数据包误差率。可以理解的，第一数据包误差率为当前网络及无线环境下的数据包误差率，能够反映当前信号质量。S403，判断第一数据包误差率是否大于误差率阈值。可以理解的，误差率阈值为保证数据传输时吞吐量的指标，是终端设备与网络设备传输时，根据协议协商设定的门限阈值。终端设备根据接收反映当前环境下的第一数据包误差率与误差率阈值的大小调整当前满足吞吐量最优的传输速率下的发射功率，若获取的第一数据包误差率小于误差率阈值，则表明以发射功率P1发射获得的吞吐量与以目标功率发射获得的吞吐量在同一个量级上，然后可以判断是否还可以以再小一些的发射功率发射。可以理解的，每一个传输速率都会存在一个发射功率的可调整范围，该范围规定了以该调制阶数对应的传输速率传输数据时，可以调整的发射功率的上限以及下限。例如，上述表2示出的各调制阶数对应的目标功率即为可以调整的发射功率的上限。所以在根据接收到的数据包误差率与误差率阈值的比较结果后，需要判断是否可以调整发射功率。因为只有，在以当前传输速率传输数据时可通过调整发射功率达到误差率阈值附近时，才可以使得功耗尽可能的小。另外，在满足以一定传输速率以及对应的发射功率的下限传输时，接收到的最大数据包误差率小于等于误差率阈值，此时需要以大于该传输速率的传输速率传输数据时，接收到的最小数据包误差率大于误差率阈值时，才可以认为当前传输速率为吞吐量最大对应的传输速率；在满足以一定传输速率以及对应的发射功率的上限传输时，接收到的最小数据包误差率大于误差率阈值，此时当前传输速率则不满足在吞吐量最大的要求，所以需要调小该传输速率，从而在吞吐量最大对应的传输速率下传输数据。所以在接收到的数据包误差率后需要判断当前发射功率的是否为对应的上下限，来判断是否需要先调整传输速率，然后再是否可以调整发射功率。当在接收到的数据包误差率大于误差率阈值时，进入S404，判断发射功率P1是否为上限，当在接收到的数据包误差率小于误差率阈值时，进入S407，判断发射功率P1是否为下限。例如，误差率阈值为10%，第一数据包误差率为5%，则第一数据包误差率5%小于误差率阈值为10%，进入步骤S407。又例如，第一数据包误差率为11%，则第一数据包误差率11%大于误差率阈值为10%，进入步骤S404。S404，判断发射功率P1是否为传输速率V1对应的发射功率可调整范围的上限。在一些实施例中，若发射功率P1为传输速率V1对应可调整的发射功率的上限，表明此时无法通过调大发射功率P1使得数据包误差率减少，即也表明在当前无线以及网络环境下，当前传输速率不是吞吐量最优对应的传输速率，以当前传输速率V1传输时无法保证吞吐量。例如，如图2所示，此时Vb为小于传输速率V1对应的速率，此时可以进入步骤S406，调小传输速率V1；若发射功率P1不为传输速率V1对应可调整的发射功率的上限，则表明还可以通过调大发射功率来降低数据包误差率，此时可以进入步骤S405，调大发射功率P1。例如，发射功率P1为传输速率V1为MCS6下的目标功率14dBm，此时就无法再调大发射功率，则进入步骤S406；又例如，发射功率P1为p6，并且p6小于MCS6对应的目标功率14dBm，则进入步骤S405。S405，调大发射功率P1得到发射功率P2，其中，发射功率P2不大于前述可调整范围的上限，并且以发射功率P2发射第二数据。在一些实施例中，调大发射功率P1，此时将调大后的发射功率P1作为发射第二数据的发射功率，以发射功率P2发射第二数据。然后再继续根据传输第二数据后得到的数据包误差率调整发射功率。可以理解的，可以设定发射功率的调整步长，例如，每次调整0.5dB或者0.25dB等。可以理解的，得到的发射功率P2为当前传输速率对应的发射功率的可调整范围内的值。例如，发射功率P1对应的p6的具体数值为13dBm，发射功率调整步长为0.5dB，则调大发射功率P1对应的p6得到发射功率P2为p6'，为13.5dBm，则p6'作为发射功率P2发射第二数据。S406，调小传输速率V1得到传输速率V2，以传输速率V2以及传输速率V2对应的目标功率传输第二数据。可以理解的，当传输速率改变后，后续将继续按照上述方式，根据获取的数据包误差率将发射功率在传输速率V2对应的发射功率可调整范围内调整，从而使得在确定出吞吐量最优的传输速率后，以保证数据包误差率一定为前提，以尽可能小的发射功率发射，从而减少功耗。例如，发射功率P1为MCS6对应的目标功率14dBm，则无法再调大发射功率P1，此时就调小传输速率，即可以MCS5对应的传输速率作为传输速率V2传输第二数据，以MCS5对应的目标功率15dBm发射数据，此时的吞吐量可能大于以MCS6以及对应的目标功率传输时对应的吞吐量。如果此时以MCS5对应的目标功率15dBm发射数据得到的数据包误差率小于误差率阈值10%，则表明MCS5为吞吐量最大的传输速率，所以可以根据数据包误差率继续调整发射功率，否则需要继续调小传输速率。例如图4B中，示出了从MCS6调整到MCS5后，在以目标功率发射数据后，继续根据获取的数据包误差率与误差率阈值进行比较，假设MCS5为对应的吞吐量最大的传输速率，此时可以继续调整发射功率，使得发射功率可以以小于目标功率的实际需要功率Pf发射，进而在传输速率小一些的情况下减少功耗。S407，判断发射功率P1是否为传输速率V1对应的发射功率可调整范围的下限。在一些实施例中，若在数据包误差率小于误差率阈值，并且发射功率P1为传输速率V1对应可调整的发射功率的下限，表明在当前网络环境下信号质量特别好，此时需要调整传输速率，去试探一下，当前传输速率是否为当前网络环境下最优吞吐量所对应的传输速率，因为需要满足较大的传输速率传输数据时的误差率大于误差率阈值，才能确定当前的传输速率为吞吐量最大对应的传输速率。此时可以进入步骤S409，调大传输速率V1。若发射功率P1不为传输速率V1对应可调整的发射功率的下限，则表明还可以在保证数据包误差率小于误差率阈值的情况下，减少发射功率，此时可以进入步骤S408，调小发射功率P1。例如，在数据包误差率小于误差率阈值时，原先发射功率P1为传输速率V1MCS6的发射功率可调整范围的下限Pv，此时就无法再调小发射功率，则进入步骤S409；又例如，原先发射功率P1为p6，并且p6大于Pv，则进入步骤S408。S408，调小发射功率P1得到发射功率P3，其中，发射功率P3不小于前述可调整范围的下限，并且以发射功率P3发射第二数据。在一些实施例中，调小发射功率P1得到发射功率P3，此时将调小后的发射功率P1作为发射第二数据的发射功率，以发射功率P3发射第二数据。可以理解的，可以设定发射功率的调整步长，例如，每次调整0.5dB或者0.25dB等。可以理解的，得到的发射功率P3为当前传输速率对应的发射功率的可调整范围内的值。例如，当发射功率P1为p6时所对应的数值13dBm，设定发射功率的调整步长为0.5dB，则调小发射功率P1，得到发射功率P2为p6'所对应的数值12.5dBm，此时p6'不小于MCS6对应的发射功率可调整范围的下限Pv。然后再继续根据传输第二数据后得到的数据包误差率调整发射功率。S409，调大传输速率V1得到传输速率V3，以传输速率V3以及传输速率V3对应的目标功率传输第二数据。可以理解的，当传输速率改变后，若以传输速率V3以及传输速率V3对应的目标功率传输数据时，若数据包误差率大于误差率阈值，则表明未调整前的传输速率为吞吐量最大对应的传输速率，则后续会调小传输速率，若以传输速率V3以及传输速率V3对应的目标功率传输数据时，数据包误差率小于误差率阈值，则可以调整发射功率，看是否存在满足数据包误差率为预设误包率的发射功率，后续将继续按照调整传输速率V1以及发射功率P1的方式，根据获取的数据包误差率将发射功率在传输速率V3对应的发射功率可调整范围内调整，从而使得在保证吞吐量最优的情况下，以保证数据包误差率一定为前提，以尽可能小的发射功率发射，从而减少功耗。例如，原先发射功率P1为MCS6对应的下限Pv，则无法再调小发射功率P1，此时就调大传输速率，即可以MCS7对应的传输速率作为传输速率V3传输第三数据，以MCS7对应的目标功率13dBm发射数据，然后根据数据包误差率继续调整发射功率。例如图4C中，示出了从MCS6调整到MCS7后，在以目标功率发射数据后，继续根据获取的数据包误差率与误差率阈值进行比较，如果获取的数据包误差率大于误差率阈值，则调小传输速率，否则继续调整发射功率，使得发射功率可以以小于目标功率的实际需要功率Pf发射，进而在传输速率大一些的情况下减少功耗。可以理解，上述步骤S401至步骤S409的执行顺序只是一种示例，在另一些实施例中，也可以采用其他执行顺序，还可以拆分或合并部分步骤，在此不做限定。可以理解的，若接收到的第一数据包误差率为误差率阈值时，也可以不继续调整发射功率，继续以之前的发射功率发射。可以理解的，上述根据接收的数据包误差率调整传输速率以及发射功率，使得在保证吞吐量的情况下减少功耗，可以根据预设的时间周期性进行执行。可以理解的，上述方式可以保证在吞吐量最优的情况下，在终端设备上行传输数据的过程中，实时调整发射功率，进而避免终端设备非必要的数据传输功耗。实施例二可以理解的，如前所述，在一些需要保证终端数据传输总功耗最低的情况下，可以以满足一定的数据包误差率或者信噪比要求为前提，确定出各传输速率的最小发射功率，然后选择出对应最小总功耗的传输速率以及最小发射功率。从而在终端设备上行传输数据的过程中，实时调整发射功率，进而避免终端设备非必要的数据传输功耗。可以理解的，总功耗与传输速率有关。例如，图5根据本申请的一些实施例，示出了对于所需传输的上行总数据量以及发射功率一定下，例如所需传输的上行总数据量为10G，发射功率为目标功率，传输速率与总功耗的关系。随着传输速率的增大，总功耗会减少，当传输速率增大到Vc时，总功耗为Wc，当传输速率继续增大后，总功耗反而会随着传输速率的增大而增大，所以会存在一个极值点“C”，当传输速率为Vc时，总功耗最小为W。结合下述示出的射频电流Ir、基带电流Ib以及上行功耗W的公式进行阐述。其中，公式示出了传输速率x与射频电流Ir的对应关系，为传输速率x与射频电流Ir的映射关系，由于传输速率x确定，而且各传输速率与发射功率之间的映射关系确定，从而射频电流Ir确定。公式示出了传输速率x与基带电流Ib的对应关系，为传输速率x与基带电流Ib的映射关系，对于固定的传输速率，会有固定的基带电流。公式示出了，射频器件在恒定电压下，射频电流以及基带电流与上行功耗W的对应关系，z为传输数据总量。在一些实施例中， 当各传输速率与发射功率之间的映射关系为，发射功率为各传输速率对应的最大发射功率时，根据上述公式计算出各传输速率对应的总功耗，将选出的总功耗最小的传输速率以及目标功率用于数据传输。但是，此时未考虑到，各传输速率可以以小于目标功率的发射功率发射数据。由于无线以及网络环境在实时变化，因此在传输数据的传输过程中，可以根据反映当前无线以及网络环境质量的接收信噪比，得到以各传输速率传输数据时满足一定传输质量的最小发射功率，从而在保证传输总数据的总功耗最小的情况下，选出总功耗最小的传输速率以及对应的最小发射功率。其中，可以根据得到接收信噪比的发射功率，确定出，以各传输速率传输数据时满足各目标信噪比的最小发射功率。其中目标信噪比，为前述术语解释中提到的理论上能够保证在当前环境以对应传输速率传输数据时满足接收到的数据误包率小于等于某个阈值的最小信噪比。结合上述公式和公式可以发现中，当改变传输速率以及发射功率之间的映射关系，为将传输速率与满足一定的数据包误差率或者信噪比要求的最小发射功率对应。对于同一传输速率，由于确定的最小发射功率小于目标功率，所以公式中的Ir会减少，由于传输速率不变，所以传输时间不变，所以公式中的总功耗会进一步减少，对于不同的传输速率，减少的功耗总量是不同的。所以，在满足一定的数据包误差率或者信噪比要求的情况下，确定出各传输速率对应的最小发射功率后，再根据总功耗最小，选出总功耗最小的传输速率以及对应的最小发射功率，可以进一步节省终端设备的电量。图6A根据本申请实施例，示出了一种在保证总功耗最小的情况下，以满足一定的信噪比要求的最小发射功率发射数据的功耗控制技术方案流程图。先确定信噪比的变化，如果信噪比未发生变化，说明当前无线及网络环境未发生变化，则继续按照之前的传输速率以及发射功率发射数据即可；若信噪比发生了变化，则表明当前无线及网络环境发生变化，则需要找到总功耗最小的传输速率以及该传输速率对应的最小发射功率，从而以找到的传输速率以及该传输速率对应的最小发射功率传输接下来的数据。以终端设备为执行主体，所述方法包括：S601，发送第一数据，并且确定发送第一数据的传输速率V1、发射功率P1。在一些实施例中，发送第一数据的传输速率V1和发射功率P1可以是终端设备与网络设备协商出一个满足当前环境下的信号质量的初始调制阶数对应的传输速率以及初始发射功率。例如，初始调制阶数为MCS5，以初始调制阶数MCS5对应的传输速率68.8Mpbs传输，以MCS5对应的目标功率15dBm发射数据。在另一些实施例中，发送第一数据的传输速率V1和发射功率P1可以是上一次调整后的传输速率以及发射功率。例如，传输速率V1为MCS5对应的传输速率68.8Mpbs，发射功率P1为小于目标功率15dBm的14dBm发射数据。S602，获取第一接收信噪比。在一些实施例中，终端设备从网络设备接收到的第一接收信噪比。其中第一接收信噪比为，网络设备接收到第一数据后得到的接收信噪比。可以理解的，第一接收信噪比为当前网络及无线环境下的接收信噪比，能够反映当前信号质量。例如，发射功率P1为14dBm，当前无线以及网络环境下，空衰为69dB，网络设备的噪声电平为-80dBm，从而可以确定当前环境下的接收信噪比为25dB。S603，判断第一接收信噪比与上一次获取的接收信噪比是否相同。可以理解的，若第一接收信噪比与上一次获取的接收信噪比相同，则表明无线及网络环境没有发生变化，则不需要调整传输速率以及发射功率，进入步骤S608，按照原先的传输速率以及发射功率发送第二数据即可。若第一接收信噪比与上一次获取的接收信噪比不同，则表明无线及网络环境发生了变化，则需要调整传输速率以及发射功率，进入步骤S604。S604，根据第一接收信噪比，确定各传输速率下满足对应的目标信噪比的最小发射功率。在一些实施例中，在网络以及无线环境确定的情况下，目标信噪比与对应的最小发射功率是为线性关系，具体的，最小发射功率=目标信噪比+差值。其中，差值可以通过发射功率P1与第一接收信噪比的差值得到。可以理解的，当网络以及无线环境变化时，差值不同。需要解释的，当计算出所需的最小发射功率大于各传输速率对应的目标功率后，则表明当前环境下无法以该传输速率传输数据，所以就将最小发射功率大于目标功率的传输速率不予考虑为总功耗最小对应的传输速率，即不需要计算以最小发射功率大于目标功率的传输速率以及对应的最小功率传输数据时的总功耗。例如，发射功率P1为14dBm，第一接收信噪比为25dB。图6B示出了，在无线以及网络环境确定的情况下，即空衰69dB，噪声-80dBm，此时目标信噪比与最小发射功率的线性关系为，最小发射功率=目标信噪比-11dB。表3示出了根据前述目标信噪比与最小发射功率的线性关系计算得到的MCS0~9对应的最小发射功率。表3调制阶数QAM阶数目标信噪比SNRm最小发射功率MSC0BPSK5-6MSC1QPSK10-1MSC2QPSK132MSC316QAM165MSC416QAM198MSC564QAM2211MSC664QAM2514MSC764QAM2716MSC8256QAM3019MSC9256QAM3221对比表2和表3，可以发现，在当前环境下，当调制阶数大于MCS7，表中为MCS7~MCS9时，最小发射功率大于目标功率，则表明当前环境下无法达到MCS7~MCS9对应的传输速率，所以对MCS7~MCS9不予考虑为总功耗最小对应的传输速率。S605，根据各传输速率以及对应的最小发射功率，确定出使用各传输速率以及最小发射功率传输所需传输的总上行数据时的总功耗。可以理解的，所需传输的总上行数据是在实时变化的，在数据传输的过程中，有的时候刚开始传，则所需传输的总上行数据为总的数据，例如，图1中的10G的文件数据，当传输到中间时，此时所需传输的总上行数据则为剩余还需传输的数据，例如，剩下的5G的文件数据。在一些实施例中，在确定出各传输速率下满足对应的目标信噪比的最小发射功率后，根据预设在终端设备中的各传输速率的基带电流参数以及与确定出的最小发射功率数值对应的射频电流参数，以及上述公式得到各传输速率以及最小发射功率对应的总功耗。例如，事先在终端设备中的设置有各调制阶数MCS对应的基带电流Ib参数，以及发射功率对应的射频电流Ir参数。根据实际传输数据总量按照公式计算，将各调制阶数MCS对应的传输速率、对应的基带电流Ib，对应的最小发射功率对应的射频电流代入，从而计算出各调制阶数对应的上行总功耗。例如，所需传输的总上行数据为1G，对于MCS6，对应的传输速率为，77.4Mbps，对应的基带电流179mA，最小发射功率为14dBm，对应的射频电流为61.81mA，由于电压恒压，所以可以不考虑电压，根据公式可以计算得到功耗为0.326Ah，其他调制阶数对应的总功耗依此得到。图7示出了，最小发射功率未超过目标功率的各调制阶数对应的上行功耗。表4调制阶数QAM阶数基带电流MSC0BPSK101MSC1QPSK140MSC2QPSK140MSC316QAM179MSC416QAM179MSC564QAM208MSC664QAM208MSC764QAM208MSC8256QAM243MSC9256QAM243表5发射功率射频电流02.4623.9046.1869.80815.531024.611239.001461.811697.9618155.2620246.0722390.00 S606，选择出传输所需传输的总上行数据时，总功耗最小的传输速率以及对应的最小发射功率。例如，从图7中，可以看出，当调制阶数为MCS6时，总功耗最小。因而，总功耗最小的传输速率以及对应的最小发射功率为调制阶数MCS6对应的传输速率以及最小发射功率。S607，将总功耗最小的传输速率以及对应的最小发射功率作为传输速率V2以及发射功率P2，并且以传输速率V2以及发射功率P2发送第二数据。例如，将调制阶数MCS6对应的传输速率以及最小发射功率作为传输速率V2以及发射功率P2发送第二数据。S608，以传输速率V1和发射功率P1发送第二数据。可以理解，上述步骤S601至步骤S608的执行顺序只是一种示例，在另一些实施例中，也可以采用其他执行顺序，还可以拆分或合并部分步骤，在此不做限定。可以理解的，上述根据接收信号比调整传输速率以及发射功率，使得传输所需传输的总上行数据时总功耗最小，可以根据预设的时间周期性进行执行。可以理解的，在对传输时间没有要求，以保证数据包误差率或者信噪比满足一定阈值为前提，在原先以目标功率发射的基础上进一步降低功耗，进而节省电量。例如，当用户的电子设备电量比较低的时候，用户可以通过对应功能按钮打开该功能，以总功耗最低的方式进行传输，或者当用户电子设备电量较低时，电子设备自动打开包括该功能的按钮，例如，在电子设备切换到省电模式下时，就启动以总功耗最小的传输方式，从而节省电量，续航延长。可以理解的，由于基带电流以及射频电流参数可以提前设置在电子设备中，所以操作方便。图8根据本申请的实施例，示出了一种手机100的硬件结构示意图。在图8中，相似的部件具有同样的附图标记。如图8所示，手机100可以包括处理器110，外部存储器接口120，内部存储器121，通用串行总线接口130，充电管理模块140，电源管理模块141，电池142，天线1，天线2，移动通信模块150，无线通信模块160，音频模块170，扬声器170A，受话器170B，麦克风170C，耳机接口170D，传感器模块180，按键190，马达191，指示器192，摄像头193，显示屏194，以及用户标识模块卡接口195等。其中传感器模块180可以包括压力传感器180A，陀螺仪传感器180B，气压传感器180C，磁传感器180D，加速度传感器180E，距离传感器180F，接近光传感器180G，指纹传感器180H，温度传感器180J，触摸传感器180K，环境光传感器180L，骨传导传感器180M等。可以理解的是，本发明实施例示意的结构并不构成对手机100的具体限定。在本申请另一些实施例中，手机100可以包括比图示更多或更少的部件，或者组合某些部件，或者拆分某些部件，或者不同的部件布置。图示的部件可以以硬件，软件或软件和硬件的组合实现。处理器110可以包括一个或多个处理单元，例如，可以包括中央处理器CPU、图像处理器GPU、数字信号处理器DSP、微处理器MCU、AI处理器或可编程逻辑器件FPGA等的处理模块或处理电路。其中，不同的处理单元可以是独立的器件，也可以集成在一个或多个处理器中。存储器可用于存储数据、软件程序以及模块，可以是易失性存储器，例如随机存取存储器；或者非易失性存储器，例如只读存储器，快闪存储器，硬盘或固态硬盘；或者上述种类的存储器的组合，或者也可以是可移动存储介质，例如安全数字存储卡。充电管理模块140可以包括电池142、电源管理模块141等。电源管理模块141用于管理电源的充电和电源向其他模块的供电。充电管理模块140用于从充电器接收充电输入；电源管理模块141用于连接电池142，充电管理模块与处理器110。移动通信模块150可以包括但不限于天线、功率放大器、滤波器、低噪声放大器等。移动通信模块150可以提供应用在手机100上的包括2G/3G/4G/5G等无线通信的解决方案。移动通信模块150可以由天线接收电磁波，并对接收的电磁波进行滤波，放大等处理，传送至调制解调处理器进行解调。移动通信模块150还可以对经调制解调处理器调制后的信号放大，经天线转为电磁波辐射出去。在一些实施例中，移动通信模块150的至少部分功能模块可以被设置于处理器110中。在一些实施例中，移动通信模块150至少部分功能模块可以与处理器110的至少部分模块被设置在同一个器件中。无线通信模块160可以包括天线，并经由天线实现对电磁波的收发。无线通信模块160可以提供应用在手机100上的包括无线局域网网络)，蓝牙，全球导航卫星系统，调频，近距离无线通信技术，红外技术等无线通信的解决方案。手机100可以通过无线通信技术与网络以及其他设备进行通信。在一些实施例中，手机100的移动通信模块150和无线通信模块160也可以位于同一模块中。摄像头193用于捕获静态图像或视频。景物通过镜头生成的光学图像投射到感光元件。感光元件把光信号转换成电信号，之后将电信号传递给ISP转换成数字图像信号。手机100可以通过ISP，摄像头193，视频编解码器，GPU，显示屏以及应用处理器等实现拍摄功能。其中，摄像头可以是N个，N为正整数。显示屏194包括显示面板。显示面板可以采用液晶显示屏 ，有机发光二极管，有源矩阵有机发光二极体或主动矩阵有机发光二极体，柔性发光二极管，Mini LED，Micro LED，Micro OLED，量子点发光二极管等。其中，显示屏可以是N个，N为正整数。音频模块170可以将数字音频信息转换成模拟音频信号输出，或者将模拟音频输入转换为数字音频信号。音频模块170还可以用于对音频信号编码和解码。在一些实施例中，音频模块170可以设置于处理器110中，或将音频模块170的部分功能模块设置于处理器110中。其中，音频模块170可以包括扬声器170A、受话器170B、麦克风170C、耳机接口170D。接口模块包括外部存储器接口120、通用串行总线接口130及用户标识模块卡接口195等。其中，SIM卡接口可以是N个，N为正整数。外部存储器接口可以用于连接外部存储卡，例如MicroSD卡，实现扩展手机100的存储能力。外部存储卡通过外部存储器接口与处理器110通信，实现数据存储功能。通用串行总线接口用于手机100和其他手机进行通信。用户标识模块卡接口用于与安装至手机100的SIM卡进行通信，例如读取SIM卡中存储的电话号码，或将电话号码写入SIM卡中。在一些实施例中，手机100还包括按键190、马达191以及指示器192等。其中，按键可以包括音量键、开/关机键等。马达用于使手机100产生振动效果，例如在用户的手机100收到新的IM APP消息时产生振动，以提示用户查看消息。指示器可以包括激光指示器、射频指示器、LED指示器等。可以理解的是，本发明实施例示意的结构并不构成对手机100的具体限定。在本申请另一些实施例中，手机100可以包括比图示更多或更少的部件，或者组合某些部件，或者拆分某些部件，或者不同的部件布置。图示的部件可以以硬件，软件或软件和硬件的组合实现。本申请公开的机制的各实施例可以被实现在硬件、软件、固件或这些实现方法的组合中。本申请的实施例可实现为在可编程系统上执行的计算机程序或程序代码，该可编程系统包括至少一个处理器、存储系统、至少一个输入设备以及至少一个输出设备。可将程序代码应用于输入指令，以执行本申请描述的各功能并生成输出信息。可以按已知方式将输出信息应用于一个或多个输出设备。为了本申请的目的，处理系统包括具有诸如例如数字信号处理器、微控制器、专用集成电路或微处理器之类的处理器的任何系统。程序代码可以用高级程序化语言或面向对象的编程语言来实现，以便与处理系统通信。在需要时，也可用汇编语言或机器语言来实现程序代码。事实上，本申请中描述的机制不限于任何特定编程语言的范围。在任一情形下，该语言可以是编译语言或解释语言。在一些情况下，所公开的实施例可以以硬件、固件、软件或其任何组合来实现。所公开的实施例还可以被实现为由一个或多个暂时或非暂时性机器可读存储介质承载或存储在其上的指令，其可以由一个或多个处理器读取和执行。例如，指令可以通过网络或通过其他计算机可读介质分发。因此，机器可读介质可以包括用于以机器可读的形式存储或传输信息的任何机制，包括但不限于，软盘、光盘、光碟、只读存储器、磁光盘、只读存储器、随机存取存储器、可擦除可编程只读存储器、电可擦除可编程只读存储器、磁卡或光卡、闪存、或用于利用因特网以电、光、声或其他形式的传播信号来传输信息的有形的机器可读存储器。因此，机器可读介质包括适合于以机器可读的形式存储或传输电子指令或信息的任何类型的机器可读介质。在附图中，可以以特定布置和/或顺序示出一些结构或方法特征。然而，应该理解，可能不需要这样的特定布置和/或排序。而是，在一些实施例中，这些特征可以以不同于说明性附图中所示的方式和/或顺序来布置。另外，在特定图中包括结构或方法特征并不意味着暗示在所有实施例中都需要这样的特征，并且在一些实施例中，可以不包括这些特征或者可以与其他特征组合。需要说明的是，本申请各设备实施例中提到的各单元/模块都是逻辑单元/模块，在物理上，一个逻辑单元/模块可以是一个物理单元/模块，也可以是一个物理单元/模块的一部分，还可以以多个物理单元/模块的组合实现，这些逻辑单元/模块本身的物理实现方式并不是最重要的，这些逻辑单元/模块所实现的功能的组合才是解决本申请所提出的技术问题的关键。此外，为了突出本申请的创新部分，本申请上述各设备实施例并没有将与解决本申请所提出的技术问题关系不太密切的单元/模块引入，这并不表明上述设备实施例并不存在其它的单元/模块。需要说明的是，在本专利的示例和说明书中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。虽然通过参照本申请的某些优选实施例，已经对本申请进行了图示和描述，但本领域的普通技术人员应该明白，可以在形式上和细节上对其作各种改变，而不偏离本申请的精神和范围。
