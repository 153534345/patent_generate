标题title
消息处理方法及装置
摘要abst
本说明书实施例提供消息处理方法及装置，其中，所述消息处理方法应用于可服务多种不同消息格式的客户端的消息平台，包括：接收用户通过任意一种客户端发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息；在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果；将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端。具体的，所述消息处理方法应用在智能机器人，使得部署有该智能机器人的客户端，可以高效智能的为用户提供消息问答服务，提升用户体验。
权利要求书clms
1.一种消息处理方法，应用于可服务多种不同消息格式的客户端的消息平台，包括：接收用户通过任意一种客户端发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息；在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果；将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端。2.根据权利要求1所述的消息处理方法，所述根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在基于所述用户的属性信息确定所述平台消息为所述用户发送至所述消息平台的首次消息的情况下，解析获得所述平台消息的意图信息；基于所述意图信息确定所述用户在所述消息平台的消息状态，基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果。3.根据权利要求1所述的消息处理方法，所述根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在基于所述用户的属性信息确定所述平台消息非所述用户发送至所述消息平台的首次消息的情况，确定所述用户在所述消息平台的上一轮消息的消息状态；基于所述上一轮的消息状态确定所述用户在所述消息平台的消息状态，基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果。4.根据权利要求2或3所述的消息处理方法，所述基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在确定所述消息状态为客服状态的情况下，将所述平台消息发送至客服平台进行处理，获得所述客服平台返回的针对所述平台消息的目标处理结果。5.根据权利要求2或3所述的消息处理方法，所述基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在确定所述消息状态为问答状态的情况下，根据所述用户的属性信息确定所述用户是否为目标用户，若是，则调用与所述用户关联的第三方问答平台对所述平台消息进行处理，获得所述平台消息的目标处理结果，若否，则调用所述消息平台的消息问答知识库对所述平台消息进行处理，获得所述平台消息的目标处理结果；其中，所述目标用户为所述消息平台授权的、可调用与所述用户关联的第三方问答平台的用户。6.根据权利要求5所述的消息处理方法，所述调用与所述用户关联的第三方问答平台对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：调用与所述用户关联的第三方问答平台对所述平台消息进行初始处理，获得初始处理结果；接收所述第三方问答平台基于所述用户和/或所述平台消息发送的知识库调用请求；基于所述知识库调用请求对所述平台消息进行补充处理，获得补充处理结果；基于所述初始处理结果和所述补充处理结果，获得所述平台消息的目标处理结果。7.根据权利要求5所述的消息处理方法，所述确定所述消息状态为问答状态之后，还包括：解析获得所述平台消息的意图信息，基于所述意图信息确定所述平台消息的消息处理方式；基于所述消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果。8.根据权利要求7所述的消息处理方法，所述基于所述消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在确定所述消息处理方式为客服服务处理方式的情况下，将所述平台消息发送至所述客服平台进行处理，获得所述客服平台返回的针对所述平台消息的目标处理结果。9.根据权利要求8所述的消息处理方法，所述获得所述客服平台返回的针对所述平台消息的目标处理结果之后，还包括：将所述用户在所述消息平台的消息状态修改为客服状态。10.根据权利要求1-9任意一项所述的消息处理方法，所述获得所述平台消息的目标处理结果之后，还包括：在基于所述用户的属性信息确定所述用户满足消息关联条件的情况下，获取与所述目标处理结果对应的关联处理结果。11.根据权利要求10所述的消息处理方法，所述将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端，包括：将所述目标处理结果以及与所述目标处理结果对应的关联处理结果，按照所述客户端的消息格式进行格式转换，并发送至所述客户端。12.一种消息处理装置，应用于可服务多种不同消息格式的客户端的消息平台，包括：格式转换模块，被配置为接收用户通过任意一种客户端发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息；消息处理模块，被配置为在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果；消息发送模块，被配置为将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端。13.根据权利要求12所述的消息处理装置，所述消息处理模块，进一步被配置为：在基于所述用户的属性信息确定所述平台消息为所述用户发送至所述消息平台的首次消息的情况下，解析获得所述平台消息的意图信息；基于所述意图信息确定所述用户在所述消息平台的消息状态，基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果。14.根据权利要求12所述的消息处理装置，所述消息处理模块，进一步被配置为：在基于所述用户的属性信息确定所述平台消息非所述用户发送至所述消息平台的首次消息的情况，确定所述用户在所述消息平台的上一轮消息的消息状态；基于所述上一轮的消息状态确定所述用户在所述消息平台的消息状态，基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果。
说明书desc
技术领域本说明书实施例涉及计算机技术领域，特别涉及一种消息处理方法。本说明书一个或者多个实施例同时涉及一种消息处理装置，一种消息处理系统，一种计算设备，以及一种计算机可读存储介质。背景技术目前，为了可以满足用户使用智能问答机器人的需求，可能会将智能问答机器人部署在各种客户端渠道，但是各个客户端的消息遵循其平台自身的消息协议，客户端的输入输出消息格式与智能问答机器人的输入输出消息格式存在很大的差异；因此当用户基于部署了智能问答机器人的客户端进行消息问答时，智能问答机器人无法高效智能的为用户提供问答服务。发明内容有鉴于此，本说明书施例提供了一种消息处理方法。本说明书一个或者多个实施例同时涉及一种消息处理装置，一种消息处理系统，一种计算设备，以及一种计算机可读存储介质，以解决现有技术中存在的技术缺陷。根据本说明书实施例的第一方面，提供了一种消息处理方法，应用于可服务多种不同消息格式的客户端的消息平台，包括：接收用户通过任意一种客户端发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息；在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果；将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端。根据本说明书实施例的第二方面，提供了一种消息处理装置，应用于可服务多种不同消息格式的客户端的消息平台，包括：格式转换模块，被配置为接收用户通过任意一种客户端发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息；消息处理模块，被配置为在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果；消息发送模块，被配置为将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端。根据本说明书实施例的第三方面，提供了一种消息处理系统，包括客户端和消息平台，其中，所述消息平台包括消息适配层、消息路由逻辑层以及对话处理层，所述消息适配层，被配置为接收用户通过任意一种客户端发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息，并将所述平台消息发送至所述消息路由逻辑层；所述消息路由逻辑层，被配置为在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果，并将所述目标处理结果发送至所述消息适配层；所述消息适配层，进一步被配置为将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端。根据本说明书实施例的第四方面，提供了一种计算设备，包括：存储器和处理器；所述存储器用于存储计算机可执行指令，所述处理器用于执行所述计算机可执行指令，该计算机可执行指令被处理器执行时实现上述消息处理方法的步骤。根据本说明书实施例的第五方面，提供了一种计算机可读存储介质，其存储有计算机可执行指令，该计算机可执行指令被处理器执行时实现上述消息处理方法的步骤。本说明书一个实施例实现了一种消息处理方法及装置，其中，所述消息处理方法应用于可服务多种不同消息格式的客户端的消息平台，包括：接收用户通过任意一种客户端发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息；在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果；将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端。具体的，所述消息处理方法提出了一种通过消息平台实现多客户端渠道消息的格式转换和开放能力，使得应用该消息处理方法的智能机器人部署在客户端时，可以高效智能的为用户提供消息问答服务，提升用户体验。附图说明图1是本说明书一个实施例提供的一种消息处理方法的具体应用架构图；图2是本说明书一个实施例提供的一种消息处理方法的流程图；图3是本说明书一个实施例提供的一种消息处理系统的结构示意图；图4是本说明书一个实施例提供的一种消息处理装置的结构示意图；图5是本说明书一个实施例提供的一种计算设备的结构框图。具体实施方式在下面的描述中阐述了很多具体细节以便于充分理解本说明书。但是本说明书能够以很多不同于在此描述的其它方式来实施，本领域技术人员可以在不违背本说明书内涵的情况下做类似推广，因此本说明书不受下面公开的具体实施的限制。在本说明书一个或多个实施例中使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本说明书一个或多个实施例。在本说明书一个或多个实施例和所附权利要求书中所使用的单数形式的“一种”、“所述”和“该”也旨在包括多数形式，除非上下文清楚地表示其他含义。还应当理解，本说明书一个或多个实施例中使用的术语“和/或”是指并包含一个或多个相关联的列出项目的任何或所有可能组合。应当理解，尽管在本说明书一个或多个实施例中可能采用术语第一、第二等来描述各种信息，但这些信息不应限于这些术语。这些术语仅用来将同一类型的信息彼此区分开。例如，在不脱离本说明书一个或多个实施例范围的情况下，第一也可以被称为第二，类似地，第二也可以被称为第一。取决于语境，如在此所使用的词语“如果”可以被解释成为“在……时”或“当……时”或“响应于确定”。在本说明书中，提供了一种消息处理方法。本说明书一个或者多个实施例同时涉及一种消息处理装置，一种消息处理系统，一种计算设备，以及一种计算机可读存储介质，在下面的实施例中逐一进行详细说明。参见图1，图1示出了根据本说明书一个实施例提供的一种消息处理方法的具体应用架构图。图1中包括用户端102和消息平台104；其中，用户端102包括但不限于即时通讯、服务窗、客户群、网页、公众号等多个客户端，消息平台104包括消息适配层1042、消息路由逻辑层1044以及对话处理层1046。具体实施时，消息平台104的消息适配层1042接收用户端102发送的、用户通过即时通讯、服务窗、客户群、网页或公众号等多个客户端发送的至少一条消息。实际应用中，消息适配层1042可能会接收一个用户通过一种客户端发送的一条消息；又或者会接收多个用户通过多个不同的客户端发送的多条消息，或者是接收多个用户通过同一客户端发送的多条消息等。具体根据实际需要进行设置，本说明书对此不做任何限定。消息适配层1042将接收的用户端102通过任意一种客户端发送的消息进行格式转换，将用户端102发送的消息转换为消息平台104标准的消息格式。然后将所述平台消息发送至消息路由逻辑层1044。其中，所述消息路由逻辑层1044包括渠道权限管理模块、会话管理模块。消息路由逻辑层1044首先根据渠道权限管理模块确定发送消息的用户在消息平台104的权限，然后会话管理模块再根据发送消息的用户的会话状态，确定处理该消息的处理方式是调用消息智能问答系统，还是转人工服务。若是调用消息智能问答系统，则消息路由逻辑层1044会根据发送消息的用户预先配置的路由信息，确定处理该消息是调用对话处理层1046的第三方消息处理系统的问答知识库，还是调用消息平台的问答知识库。在确定问答知识库后，对话处理层1046对该消息进行处理，并将该消息的处理结果发送至消息适配层1042，消息适配层1042将处理结果按照对应的客户端的消息接收格式进行格式转换后，发送至对应客户端展示给用户。本说明书实施例中，首先在各个客户端102渠道上行消息的入口处根据每个客户端102的消息格式协议对消息进行统一格式转换，将任意一种数据格式的客户端102渠道的上行消息内容统一转换成消息平台104侧标准的消息格式。在消息智能路由层，根据机器人的路由配置，将上行消息内容路由到消息平台的问答知识库或者第三方消息处理系统提供的回调地址中。与此同时规范了消息平台下行消息的消息格式协议，其中，消息格式协议包含了文本消息、图片消息、图文消息、卡片消息等类型的消息格式协议。在技术架构上对消息平台的回复消息和第三方消息处理系统的回复消息统一使用了这些标准的消息格式协议。此外，消息平台还将自身的问答系统能力通过开放接口开发给第三方消息处理系统，第三方消息处理系统可以调用并通过消息平台的意图识别结果和知识库等问题结果与自身的消息平台结合，返回期望的下行消息回复内容。最后，在下行消息回复层中，通过会话管理模块获取到消息session来源的客户端渠道，并结合下行消息的消息格式协议和渠道来源，将回复的下行消息内容转换成各个客户端上对应的消息格式返回到对应的客户端上。参见图2，图2示出了根据本说明书一个实施例提供的一种消息处理方法的流程图，其中，所述消息处理方法应用于可服务多种不同消息格式的客户端的消息平台，具体包括以下步骤。步骤202：接收用户通过任意一种客户端发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息。其中，消息平台可以理解为某客服机器人；用户可以理解为个体用户或者具备开发能力的企业用户等；客户端可以理解为任意一种类型的客户端，例如即时通讯、服务窗、客户群、网页、公众号等多个客户端，且每种客户端提供的消息格式均不相同；用户的属性信息可以理解为用户的用户标识、在消息平台的权限等级等。具体的，接收用户通过任意一种客户端发送的、携带有用户的属性信息的消息，可以理解为接收一个用户通过一种客户端发送的、携带有用户的属性信息的一条消息，也可以理解为接收多个用户通过一个客户端发送的、携带有用户的属性信息的多条消息，还可以理解为接收多个用户通过多个客户端发送的、携带有用户的属性信息的多条消息等。为了便于理解，本说明书实施例均以接收一个用户通过一个客户端发送的、携带有用户的属性信息的一条消息为例，对所述消息处理方法进行详细介绍。而在存在多条消息的情况下，均可以参照一条消息的处理方式进行实现。具体实施时，消息可以理解为问题，例如：今天天气怎么样？我的年假还剩多少天？等问题消息。实际应用中，基于客户端的不同，用户通过不同的客户端发送的消息的消息格式也不同，为了保证接收的不同客户端发送的消息后续可以进行统一的处理，消息平台会将接收的用户通过不同客户端发送的消息按照其自身的消息格式进行格式转换。通过此种方式，即使后续消息平台增加了新的客户端渠道，依然可以统一到对应的标准消息协议上，使得整个消息平台的渠道可扩展性更强。步骤204：在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果。其中，消息处理条件可以根据实际应用进行设置，本说明书实施例对此不做任何限定。例如消息处理条件包括用户在消息平台具备进行消息问答的权限。实际应用中，消息平台会预先为合作用户设置权限信息，以便约束用户在消息平台的可使用服务。例如，若用户a在消息平台的权限为1级，那么用户a仅仅可以在消息平台进行知识浏览；若用户a在消息平台的权限为2级，那么用户a不仅可以在消息平台进行知识浏览，还可以进行下载；若用户a在消息平台的权限为3级，那么用户a可以在消息平台进行知识浏览、知识下载、还可以进行知识问答。以用户a的属性信息为用户在消息平台的权限信息，消息处理条件为用户在消息平台具备进行消息问答的权限为例。若用户a的权限信息为1级，则可以确定用户a在消息平台的权限信息不满足消息处理条件，消息平台不会对用户的该消息进行任何处理，或者给用户返回一个无权限信息的通知等。若用户a的权限信息为3级，则可以确定用户a在消息平台的权限信息满足消息处理条件。此时，则可以根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果。其中，在消息为问题的情况下，目标处理结果则为该问题对应的答案。例如消息为：今天天气怎么样；目标处理结果则可以为：今天天气晴朗。具体的，根据预设消息处理方式对所述平台消息进行处理之前，要判断该平台消息是否为用户发送至消息平台的首次消息，若是，则基于该平台消息的意图信息实现对该平台消息进行处理，若否，则基于用户在消息平台的上一轮消息的消息状态实现对该平台消息进行处理。具体实施时，在平台消息为用户发送至消息平台的首次消息的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果的具体实现方式如下所述：所述根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在基于所述用户的属性信息确定所述平台消息为所述用户发送至所述消息平台的首次消息的情况下，解析获得所述平台消息的意图信息；基于所述意图信息确定所述用户在所述消息平台的消息状态，基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果。其中，用户的属性信息包括但不限于用户的唯一标识，实际应用中，用户向消息平台发送的每一条消息均会携带有用户的唯一标识。那么，若用户之前向消息平台发送过消息，消息平台则会记录该用户的唯一标识，当用户在第二次向消息平台发送消息的情况下，消息平台可以基于用户的唯一标识确定出用户是第几次向消息平台进行消息发送。实际应用中，消息平台在基于用户的属性信息确定平台消息为用户向消息平台发送的第一条消息的情况下，通过消息解析工具解析出该平台消息的意图信息，以确定用户的该平台消息是想要进行人工服务的，还是要进行智能问答的；其中，消息解析工具可以为现有的任意一种可以对消息意图进行解析的工具，本说明书对此不作任何限定。在基于意图信息确定用户在消息平台的消息状态之后，基于该消息状态对平台消息进行处理，获得该平台消息的目标处理结果；其中，消息状态可以理解为客服状态或者问答状态，即可以基于意图信息确定用户是想调用消息平台的人工客服服务，还是想调用消息平台的问答库。本说明书实施例中，在基于用户的属性信息确定平台消息为用户发送至消息平台的首次消息的情况下，可以基于平台消息的意图信息确定用户在消息平台的消息状态，以实现后续可以基于准确的消息状态实现对该平台消息的准确处理。而在平台消息为用户发送至消息平台的非首次消息的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果的具体实现方式如下所述：所述根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在基于所述用户的属性信息确定所述平台消息非所述用户发送至所述消息平台的首次消息的情况，确定所述用户在所述消息平台的上一轮消息的消息状态；基于所述上一轮的消息状态确定所述用户在所述消息平台的消息状态，基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果。其中，用户的属性信息包括但不限于用户的唯一标识，实际应用中，用户向消息平台发送的每一条消息均会携带有用户的唯一标识。那么，若用户之前向消息平台发送过消息，消息平台则会记录该用户的唯一标识以及该用户每次向消息平台发送平台消息的消息状态，当用户在第二次向消息平台发送消息的情况下，消息平台可以基于用户的唯一标识确定出用户是第几次向消息平台进行消息发送，以及该用户上一次向消息平台发送平台消息的消息状态。实际应用中，消息平台在基于用户的属性信息确定平台消息为用户向消息平台发送的第N条消息的情况下，确定用户在消息平台的上一轮消息的消息状态，然后将用户在消息平台的上一轮消息的消息状态作为本次用户在消息平台的消息状态。在基于上一轮的消息状态确定本次用户在所述消息平台的消息状态之后，基于该消息状态对平台消息进行处理，获得该平台消息的目标处理结果；其中，消息状态可以理解为客服状态或者问答状态，即可以基于意图信息确定用户是想调用消息平台的人工客服服务，还是想调用消息平台的问答库。本说明书实施例中，在基于用户的属性信息确定平台消息为用户发送至消息平台的非首次消息的情况下，可以基于上一轮的消息状态确定本次用户在所述消息平台的消息状态，以实现后续可以基于准确的消息状态实现对该平台消息的准确处理。另一种情况下，若用户在消息平台属于新用户的情况下，还可以默认用户在消息平台的消息状态为问答状态。具体的，当消息状态包括至少两种消息状态的情况下，基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果，至少包括两种处理方式，一种是通过人工客服对平台消息进行处理，另一种是通过消息智能问答对平台消息进行处理。那么先以通过人工客服对平台消息进行处理进行详细说明。具体实现方式如下所述：所述基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在确定所述消息状态为客服状态的情况下，将所述平台消息发送至客服平台进行处理，获得所述客服平台返回的针对所述平台消息的目标处理结果。其中，客服服务可以理解为人工服务。具体的，在消息状态为客服状态的情况下，可以直接将格式转换后的平台消息发送至客服平台进行处理，以在客服平台获得平台消息的目标处理结果，保证对平台消息的及时准确处理，提升用户体验。而以通过消息智能问答对平台消息进行处理进行详细说明，具体实现方式如下所述：所述基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在确定所述消息状态为问答状态的情况下，根据所述用户的属性信息确定所述用户是否为目标用户，若是，则调用与所述用户关联的第三方问答平台对所述平台消息进行处理，获得所述平台消息的目标处理结果，若否，则调用所述消息平台的消息问答知识库对所述平台消息进行处理，获得所述平台消息的目标处理结果；其中，所述目标用户为所述消息平台授权的、可调用与所述用户关联的第三方问答平台的用户。具体的，用户的属性信息可以理解为用户的唯一标识。实际应用中，用户若想在消息平台进行消息处理时，调用其第三方问答平台，则可以预先在消息平台进行注册。比如将用户的唯一标识注册到该消息平台，在该消息平台在接收到用户发送的平台消息后，通过在该消息平台的注册用户的唯一标识进行匹配，确定该用户为预先在消息平台注册过，可以调用其关联的第三方问答平台的目标用户时，在进行平台消息处理时，则可以调用与该用户关联的第三方问答平台对该平台消息进行处理。其中，问答状态可以理解为消息平台需要根据用户发送的消息内容，从自身的知识库或者第三方问答平台的知识库中智能的匹配答案的状态。具体的，根据用户的属性信息确定用户是否为目标用户的方式有多种，以下仅以一种为例进行详细介绍。例如，在用户在消息平台的消息状态为问答状态的情况下，可以将用户的属性信息与消息平台预设的属性匹配列表中的用户的属性信息进行匹配；其中，属性匹配列表为消息平台预设的列表，该列表中存储的用户均为需要调用第三方问答平台的知识库的用户。以用户的属性信息为用户的用户标识为例，消息平台的属性匹配列表中也包括多个需要调用第三方问答平台的知识库的用户的用户标识。将发送消息的用户的用户标识与属性匹配列表中的用户的用户标识进行匹配，若匹配成功，则将所述平台消息路由至第三方问答平台的知识库，从第三方问答平台的知识库中获取该所述平台消息的目标处理结果。其中，第三方问答平台的知识库可以理解为用户自身的消息知识库。当然，基于用户的属性信息确定用户是否为所述消息平台授权的、可调用与所述用户关联的第三方问答平台的用户的方式可以有多种，上述仅为其中一种实现方式；而在实际应用中，还可以有其他判断用户是否为目标用户的方式，例如设置条件，判断用户是否在消息平台进行过调用其关联的第三方问答平台的授权注册等。而在用户不是目标用户的情况下，为了保证对平台消息的处理，则会调用所述消息平台的消息问答知识库对所述平台消息进行处理，获得所述平台消息的目标处理结果。沿用上例，用户不是目标用户可以理解为用户不属于预先设置的属性匹配列表中的用户，那么则可以直接将该消息路由至消息平台，调用消息平台的消息问答知识库，通过消息问答知识库实现对所述平台消息的快速处理，获得所述平台消息的目标处理结果。本说明书实施例中，确定用户在消息平台的消息状态为问答状态，可以根据用户的属性信息确定用户的身份，基于用户的身份确定是将用户通过客户端发送的平台消息，路由至与该用户关联的第三方问答平台，在第三方问答平台实现对平台消息的处理。还是将用户通过客户端发送的平台消息，路由至消息平台的消息问答知识库对平台消息进行处理，使得用户可以基于第三方问答平台的知识库或者消息平台的消息问答知识库获取到与消息更加贴合的目标处理结果。实际应用中，在确定消息状态为问答状态的情况下，消息平台还可以基于对平台消息的解析结果，确定处理该平台消息的具体方式。例如若消息为：我的年假还有几天，消息平台对该消息解析后，确定该消息属于企业的员工个人信息问题，则可以将该消息路由至第三方问答平台。此外，所述调用与所述用户关联的第三方问答平台对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：调用与所述用户关联的第三方问答平台对所述平台消息进行初始处理，获得初始处理结果；接收所述第三方问答平台基于所述用户和/或所述平台消息发送的知识库调用请求；基于所述知识库调用请求对所述平台消息进行补充处理，获得补充处理结果；基于所述初始处理结果和所述补充处理结果，获得所述平台消息的目标处理结果。实际应用中，为了获得更为准确、完整以及个性化的目标处理结果，消息平台通过开放接口的形式提供其自身的消息问答知识库的接口给第三方问答平台，以帮助第三方问答平台在获取该消息的目标处理结果时，可以更好地贴合智能平台和结合自身消息平台。具体的，将所述平台消息路由至第三方问答平台之后，第三方问答平台首先对该平台消息进行初始处理，获得该消息的初始处理结果。然后第三方问答平台在确定该平台消息满足预设处理条件的情况下，向消息平台发送知识库调用请求。其中，预设处理条件可以根据实际应用进行设置，例如预设处理条件为个性化需求，或者是该平台消息符合调用消息平台的消息问答知识库的规则。消息平台在接收知识库调用请求之后，基于该知识库调用请求调用该消息问答知识库，通过该消息问答知识库对所述平台消息进行补充处理，获得补充处理结果。并基于初始处理结果和补充处理结果，获得该所述平台消息的目标处理结果。以平台消息为：今天是几号为例。首先，调用与用户关联的第三方问答平台获取该平台消息的初始处理结果：今天是5号。此时，若第三方问答平台根据自身消息处理逻辑确定需要给该消平台息获得更加详细、规范以及个性化的处理结果，则可以调用消息平台的消息问答知识库，从该消息问答知识库调用补充处理结果：日期的规范格式。然后将该平台消息的初始处理结果与补充处理结果进行结合，获得该平台消息的目标处理结果：今天是2020年1月5号。具体实施时，当消息平台接收到第三方问答平台的知识库调用请求之后，会对该所述平台消息进行意图识别，比如识别出该平台消息的意图是想要获取日期的，则从消息问答知识库中获取预先存储的日期规范，将其作为该平台消息的补充处理结果。若识别出该平台消息的意图是想要获取人员年假的，则可以从消息问答知识库中获取预先存储的该用户的年假的消费天数以及到期时间等等，作为该平台消息的补充处理结果。本说明书实施例中，消息平台可以将自身的问答能力通过开放接口的形式提供出去后，不仅仅实现了消息能力的简单路由，同时可以让需要使用问答系统意图识别和知识库等能力的第三方问答平台，可以更好的利用消息平台的完整能力，并将其与自身的消息平台更好的结合。但是，一种情况下，会存在虽然用户在消息平台的状态为问答状态，但是消息平台通过对接收的消息进行意图解析之后，发现该消息想要路由至人工服务，那么这种情况下，强行将该消息路由至智能问答系统就会极大的降低用户的体验感受，因此在将消息路由至智能问答系统之前，还需要对消息的意图进行解析。具体实现方式如下所述：所述确定所述消息状态为问答状态之后，还包括：解析获得所述平台消息的意图信息，基于所述意图信息确定所述平台消息的消息处理方式；基于所述消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果。其中，平台消息的意图信息可以理解为该平台消息是想调用人工客服服务，还是智能问答服务。本说明书实施例中，在确定用户在消息平台的消息状态之后，消息平台会解析该消息的意图信息，然后基于该意图信息确定平台消息的消息处理方式，后续可以基于对应的消息处理方式对平台消息进行处理，准确的获得平台消息的目标处理结果。具体实施时，在对平台消息的意图信息进行解析，确定平台消息的消息处理方式为客服服务处理方式的情况下，则可以直接将平台消息发送至客服平台进行处理，以在客服平台获得平台消息的目标处理结果，保证对平台消息的及时准确处理，提升用户体验，具体实现方式如下所述：所述基于所述消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果，包括：在确定所述消息处理方式为客服服务处理方式的情况下，将所述平台消息发送至所述客服平台进行处理，获得所述客服平台返回的针对所述平台消息的目标处理结果。此外，为了保证消息平台确定该用户下次发送平台消息时的消息状态的准确性，在基于客服服务处理方式对平台消息进行处理之后，会同时修改本次该用户向消息平台发送平台消息的消息状态，具体实施方式如下所述：所述获得所述客服平台返回的针对所述平台消息的目标处理结果之后，还包括：将所述用户在所述消息平台的消息状态修改为客服状态。本说明书另一实施例中，为了进一步的提高用户的消息平台使用体验，在用户的权限等级满足消息关联条件的情况下，可以为用户推荐与该平台消息的目标处理结果对应的关联处理结果，具体实现方式如下所述：所述获得所述平台消息的目标处理结果之后，还包括：在基于所述用户的属性信息确定所述用户满足消息关联条件的情况下，获取与所述目标处理结果对应的关联处理结果。其中，消息关联条件可以根据实际应用进行设置，例如消息关联条件包括用户在消息平台的权限等级是否满足为其推荐关联消息的权限等级。沿用上例，以为其推荐关联消息的权限等级为3级，用户a在消息平台的权限等级为3级为例。此时，根据用户a的属性信息确定用户满足消息关联条件，则可以为用户推荐与目标处理结果对应的关联处理结果。举例说明，若目标处理结果为：今天是晴天，那么关联处理结果则可以为：今天的温度为23摄氏度，户外空气湿度为*度，阳光直射指数为*等。步骤206：将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端。具体的，在确定了目标处理结果之后，可以将目标处理结果按照发送客户端的消息格式进行格式转换，并将转换后的目标处理结果发送至客户端。此外，在目标处理结果存在关联的关联处理结果的情况下，则可以将目标处理结果以及其关联处理结果一起进行格式转换后发送至对应客户端，以实现对用户发送的消息的全面、丰富的回答，提升用户的消息平台使用体验。具体实现方式如下所述：所述将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端，包括：将所述目标处理结果以及与所述目标处理结果对应的关联处理结果，按照所述客户端的消息格式进行格式转换，并发送至所述客户端。本说明书实施例提供的所述消息处理方法，在上行消息和下行消息回复出口处增加了消息转换和适配层，通过预先定义的消息平台的标准上下行消息格式与客户端、第三方问答平台进行通信交互。这样一方面避免了多客户端消息格式差异对下游第三方问答平台的侵入，帮助第三方问答平台不需要去感知上行消息的客户端渠道来源，而更关注消息的智能处理和消息平台对接。另一方面，新增客户端渠道依然可以统一到对应的标准消息协议上，整个消息平台的渠道可扩展性更强。此外，消息平台将自身的具有问答能力的消息问答知识库通过开放接口的形式，提供给第三方问答平台，不仅仅实现了消息能力的简单路由。同时可以让需要使用消息问答知识库意图识别和知识库等能力的三方系统，可以更好的利用消息平台的完整能力，并将其与自身的消息平台更好地结合。参见图3，图3示出了根据本说明书一个实施例提供的一种消息处理系统的结构示意图，其中，所述消息处理系统包括客户端302和消息平台304，其中，所述消息平台304包括消息适配层3042、消息路由逻辑层3044以及对话处理层3046。所述消息适配层3042，被配置为接收用户通过任意一种客户端302发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息，并将所述平台消息发送至所述消息路由逻辑层3044；所述消息路由逻辑层3044，被配置为在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果，并将所述目标处理结果发送至所述消息适配层302；所述消息适配层3042，进一步被配置为将所述目标处理结果按照所述客户端302的消息格式进行格式转换，并发送至所述客户端302。其中，客户端302为多个，如图3中的客户端1至客户端n。具体使用时，客户端1至客户端n可以是任意类型的客户端。消息适配层3042包括多端上行消息格式转换模块，用于将多端上行消息按照消息平台304的标准消息格式进行统一的格式转换；还包括多端下行消息格式转换模块，用于将消息平台获取的下行消息按照对应客户端的消息格式协议进行消息格式转换。消息路由逻辑层3044包括消息智能问答模块、转人工服务模块、渠道权限管理模块、会话管理模块。其中，消息智能问答模块用于调用自身的消息问答知识库和/或第三方问答平台的知识库，为用户发送的消息获取对应的答案；转人工服务模块用于基于用户发送的消息进行人工客服处理；渠道权限管理模块用于基于发送消息的用户的属性信息，确定该用户是否有智能问答权限以及关联答案推荐权限等；会话管理模块用于基于发送消息的用户的消息状态，确定将该消息发送消息智能问答模块处理，还是转人工服务模块处理。对话处理层3046包括消息问答知识库、第三方问答平台的知识库以及人工对话知识库。具体实施时，用户通过任意一个或多个客户端302发送问题消息，消息适配层3042在接收该问题消息之后，将该问题消息经过多端上行消息格式转换模块进行格式转换，并将格式转换后的该问题消息发送至消息路由逻辑层3044。消息路由逻辑层3044的渠道权限管理模块，先判断发送该问题消息的用户是否具有消息问答的权限，如果没有权限，则不进行后续执行，同时可以给用户返回一个权限问题的通知；如果有权限，则会话管理模块会继续判断发送该问题消息的用户的会话状态，根据会话状态确定是需要调用消息智能问答模块进行该问题消息的处理，还是转人工服务模块进行该问题消息的处理。若确定需要调用消息智能问答模块进行该问题消息的处理，则根据消息智能问答模块中预设的属性匹配列表，确定需要将该问答消息路由至对话处理层3046中的消息问答知识库和/或第三方问答平台的知识库中进行该问答消息的处理，以从消息问答知识库和/或第三方问答平台的知识库中获取该问答消息的答案。若确定需要转人工服务模块进行该问题消息的处理，则将该问答消息转人工客服处理，人工客服在对该问答消息处理时，可以从对话处理层3046的人工对话知识库中为该问题消息选择以及归纳合适的答案。而在通过上述任意一种方式获取该问答消息的答案之后，将该问答消息的答案发送至消息适配层3042，消息适配层3042的多端下行消息格式适配模块，则根据该问答消息的客户端302的消息格式，对该问答消息的答案进行格式转换后发送至对应的客户端302，以将该答案通过客户端302展示给用户。本说明书实施例中，首先在各个客户端渠道上行消息的入口处根据每个客户端的消息格式协议对消息进行统一格式转换，将多个客户端302渠道的上行消息内容统一转换成消息平台侧标准的消息格式。在消息智能路由层，根据机器人的路由配置，将上行消息内容路由到消息平台的问答知识库或者第三方消息处理系统提供的回调地址中。与此同时规范了消息平台下行消息的消息格式协议，其中，消息格式协议包含了文本消息、图片消息、图文消息、卡片消息等类型的消息格式协议。在技术架构上对消息平台的回复消息和第三方消息处理系统的回复消息统一使用了这些标准的消息格式协议。此外，消息平台还将自身的问答系统能力通过开放接口开发给第三方消息处理系统，第三方消息处理系统可以调用并通过消息平台的意图识别结果和知识库等问题结果与自身的消息平台结合，返回期望的下行消息回复内容。最后，在下行消息回复层中，通过会话管理模块获取到消息session来源的客户端渠道，并结合下行消息的消息格式协议和渠道来源，将回复的下行消息内容转换成各个客户端上对应的消息格式返回到对应的客户端上。本说明书实施例提供的消息处理系统，具备多客户端消息协议统一转换和适配层实现了三方消息平台无需感知来源渠道的消息开放能力，并且还可以通过将消息问答知识库的问答能力开放接口提供的方式，帮助三方消息平台在获取消息来源的同时，更好地贴合智能平台和结合自身消息平台，提升用户体验。与上述方法实施例相对应，本说明书还提供了消息处理装置实施例，图4示出了本说明书一个实施例提供的一种消息处理装置的结构示意图。如图4所示，该装置包括：格式转换模块402，被配置为接收用户通过任意一种客户端发送的、携带有所述用户的属性信息的消息，并将所述客户端格式消息转换为所述消息平台的统一格式的平台消息；消息处理模块404，被配置为在基于所述用户的属性信息确定所述用户满足消息处理条件的情况下，根据预设消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果；消息发送模块406，被配置为将所述目标处理结果按照所述客户端的消息格式进行格式转换，并发送至所述客户端。可选地，所述消息处理模块404，进一步被配置为:在基于所述用户的属性信息确定所述平台消息为所述用户发送至所述消息平台的首次消息的情况下，解析获得所述平台消息的意图信息；基于所述意图信息确定所述用户在所述消息平台的消息状态，基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果。可选地，所述消息处理模块404，进一步被配置为：在基于所述用户的属性信息确定所述平台消息非所述用户发送至所述消息平台的首次消息的情况，确定所述用户在所述消息平台的上一轮消息的消息状态；基于所述上一轮的消息状态确定所述用户在所述消息平台的消息状态，基于所述消息状态对所述平台消息进行处理，获得所述平台消息的目标处理结果。可选地，所述消息处理模块402，进一步被配置为：在确定所述消息状态为客服状态的情况下，将所述平台消息发送至客服平台进行处理，获得所述客服平台返回的针对所述平台消息的目标处理结果。可选地，所述消息处理模块402，进一步被配置为：在确定所述消息状态为问答状态的情况下，根据所述用户的属性信息确定所述用户是否为目标用户，若是，则调用与所述用户关联的第三方问答平台对所述平台消息进行处理，获得所述平台消息的目标处理结果，若否，则调用所述消息平台的消息问答知识库对所述平台消息进行处理，获得所述平台消息的目标处理结果；其中，所述目标用户为所述消息平台授权的、可调用与所述用户关联的第三方问答平台的用户。可选地，所述消息处理模块402，进一步被配置为：调用与所述用户关联的第三方问答平台对所述平台消息进行初始处理，获得初始处理结果；接收所述第三方问答平台基于所述用户和/或所述平台消息发送的知识库调用请求；基于所述知识库调用请求对所述平台消息进行补充处理，获得补充处理结果；基于所述初始处理结果和所述补充处理结果，获得所述平台消息的目标处理结果。可选地，所述装置，还包括：解析模块，被配置为：解析获得所述平台消息的意图信息，基于所述意图信息确定所述平台消息的消息处理方式；基于所述消息处理方式对所述平台消息进行处理，获得所述平台消息的目标处理结果。可选地，所述解析模块，进一步被配置为：在确定所述消息处理方式为客服服务处理方式的情况下，将所述平台消息发送至所述客服平台进行处理，获得所述客服平台返回的针对所述平台消息的目标处理结果。可选地，所述装置，还包括：状态修改模块，被配置为：将所述用户在所述消息平台的消息状态修改为客服状态。可选地，所述装置，还包括：关联模块，被配置为：在基于所述用户的属性信息确定所述用户满足消息关联条件的情况下，获取与所述目标处理结果对应的关联处理结果。可选地，所述消息发送模块406，进一步被配置为：将所述目标处理结果以及与所述目标处理结果对应的关联处理结果，按照所述客户端的消息格式进行格式转换，并发送至所述客户端。本说明书实施例提供的消息处理装置，提出了一种通过消息平台实现多客户端渠道消息的格式转换和开放能力，使得智能机器人部署在客户端时，可以高效智能的为用户提供消息问答服务，提升用户体验。上述为本实施例的一种消息处理装置的示意性方案。需要说明的是，该消息处理装置的技术方案与上述的消息处理方法的技术方案属于同一构思，消息处理装置的技术方案未详细描述的细节内容，均可以参见上述消息处理方法的技术方案的描述。图5示出了根据本说明书一个实施例提供的一种计算设备500的结构框图。该计算设备500的部件包括但不限于存储器510和处理器520。处理器520与存储器510通过总线530相连接，数据库550用于保存数据。计算设备500还包括接入设备540，接入设备540使得计算设备500能够经由一个或多个网络560通信。这些网络的示例包括公用交换电话网、局域网、广域网、个域网或诸如因特网的通信网络的组合。接入设备540可以包括有线或无线的任何类型的网络接口)中的一个或多个，诸如IEEE802.11无线局域网无线接口、全球微波互联接入接口、以太网接口、通用串行总线接口、蜂窝网络接口、蓝牙接口、近场通信接口，等等。在本说明书的一个实施例中，计算设备500的上述部件以及图5中未示出的其他部件也可以彼此相连接，例如通过总线。应当理解，图5所示的计算设备结构框图仅仅是出于示例的目的，而不是对本说明书范围的限制。本领域技术人员可以根据需要，增添或替换其他部件。计算设备500可以是任何类型的静止或移动计算设备，包括移动计算机或移动计算设备、移动电话、可佩戴的计算设备或其他类型的移动设备，或者诸如台式计算机或PC的静止计算设备。计算设备500还可以是移动式或静止式的服务器。其中，处理器520用于执行如下计算机可执行指令，该计算机可执行指令被处理器执行时实现上述消息处理方法的步骤。上述为本实施例的一种计算设备的示意性方案。需要说明的是，该计算设备的技术方案与上述的消息处理方法的技术方案属于同一构思，计算设备的技术方案未详细描述的细节内容，均可以参见上述消息处理方法的技术方案的描述。本说明书一实施例还提供一种计算机可读存储介质，其存储有计算机指令，该计算机可执行指令被处理器执行时实现上述消息处理方法的步骤。上述为本实施例的一种计算机可读存储介质的示意性方案。需要说明的是，该存储介质的技术方案与上述的消息处理方法的技术方案属于同一构思，存储介质的技术方案未详细描述的细节内容，均可以参见上述消息处理方法的技术方案的描述。上述对本说明书特定实施例进行了描述。其它实施例在所附权利要求书的范围内。在一些情况下，在权利要求书中记载的动作或步骤可以按照不同于实施例中的顺序来执行并且仍然可以实现期望的结果。另外，在附图中描绘的过程不一定要求示出的特定顺序或者连续顺序才能实现期望的结果。在某些实施方式中，多任务处理和并行处理也是可以的或者可能是有利的。所述计算机指令包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，所述计算机可读介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如在某些司法管辖区，根据立法和专利实践，计算机可读介质不包括电载波信号和电信信号。需要说明的是，对于前述的各方法实施例，为了简便描述，故将其都表述为一系列的动作组合，但是本领域技术人员应该知悉，本说明书实施例并不受所描述的动作顺序的限制，因为依据本说明书实施例，某些步骤可以采用其它顺序或者同时进行。其次，本领域技术人员也应该知悉，说明书中所描述的实施例均属于优选实施例，所涉及的动作和模块并不一定都是本说明书实施例所必须的。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其它实施例的相关描述。以上公开的本说明书优选实施例只是用于帮助阐述本说明书。可选实施例并没有详尽叙述所有的细节，也不限制该发明仅为所述的具体实施方式。显然，根据本说明书实施例的内容，可作很多的修改和变化。本说明书选取并具体描述这些实施例，是为了更好地解释本说明书实施例的原理和实际应用，从而使所属技术领域技术人员能很好地理解和利用本说明书。本说明书仅受权利要求书及其全部范围和等效物的限制。
