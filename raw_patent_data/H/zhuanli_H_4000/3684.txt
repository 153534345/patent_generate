标题title
音频流播放方法、装置、移动终端、蓝牙耳机和存储介质
摘要abst
本申请提供一种音频流播放方法、装置、移动终端、蓝牙耳机和存储介质，所述方法应用于移动终端，所述移动终端与蓝牙耳机连接，所述蓝牙耳机支持LE Audio协议，所述方法包括：向蓝牙耳机发送扫描指令，以使所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志，并基于LE Audio协议根据第一数据从所述音频分享源获取目标音频流，播放所述目标音频流，其中，所述第一数据为所述音频流标志中的目标音频流标志所对应的数据，从而使得在仅有支持LE Audio协议的蓝牙耳机而没有支持LE Audio协议的移动终端时，依然可以使用蓝牙耳机收听音频分享源分享的音频流。
权利要求书clms
1.一种音频流播放方法，其特征在于，应用于移动终端，所述移动终端与蓝牙耳机连接，所述蓝牙耳机支持LE Audio协议，所述方法包括：向所述蓝牙耳机发送扫描指令，以使所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志，并基于LE Audio协议根据第一数据从所述音频分享源获取目标音频流，播放所述目标音频流，其中，所述第一数据为所述音频流标志中的目标音频流标志所对应的数据。2.根据权利要求1所述的方法，其特征在于，在所述向所述蓝牙耳机发送扫描指令之后，所述方法还包括：在所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志后，接收所述蓝牙耳机发送的第二数据，其中，所述第二数据为所述蓝牙耳机扫描到的音频流标志所对应的数据；从所述第二数据中确定出所述第一数据，并将所述第一数据发送给所述蓝牙耳机。3.根据权利要求1所述的方法，其特征在于，所述方法还包括：当所述目标音频流为加密音频流时，接收所述蓝牙耳机发送的解密请求；当接收到所述解密请求时，采用带外传输方式获取所述加密音频流对应的解密密钥；将所述解密密钥发送给所述蓝牙耳机，以使所述蓝牙耳机基于所述解密密钥对所述加密音频流进行解密。4.根据权利要求1所述的方法，其特征在于，所述方法还包括：当接收到播放中断指令时，向所述蓝牙耳机发送播放暂停指令，以使所述蓝牙耳机暂停播放所述目标音频流；当所述播放中断指令结束后，向所述蓝牙耳机发送播放恢复指令，以使所述蓝牙耳机恢复播放所述目标音频流。5.一种音频流播放方法，其特征在于，应用于蓝牙耳机，所述蓝牙耳机支持LE Audio协议，所述蓝牙耳机与移动终端连接，所述方法包括：接收所述移动终端发送的扫描指令；根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志；基于LE Audio协议根据第一数据从所述音频分享源获取目标音频流，其中，所述第一数据为所述音频流标志中的目标音频流标志所对应的数据；播放所述目标音频流。6.根据权利要求5所述的方法，其特征在于，所述扫描指令包括所述第一数据。7.根据权利要求5所述的方法，其特征在于，在所述根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志之后，所述方法还包括：将第二数据发送给所述移动终端，其中，所述第二数据为扫描到的音频流标志所对应的数据；接收所述移动终端从所述第二数据中确定的所述第一数据。8.根据权利要求6或7所述的方法，其特征在于，所述第一数据包括所述目标音频流对应的周期性广播ID，所述基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流，包括：根据所述周期性广播ID确定周期性广播；根据所述周期性广播确定同步广播组及所述同步广播组中多条同步广播流的属性信息；将所述多条同步广播流的属性信息与预设用户喜好信息匹配确定出一条同步广播流作为所述目标音频流。9.根据权利要求6或7所述的方法，其特征在于，所述第一数据包括所述目标音频流对应的周期性广播ID及同步广播流的目标属性信息，所述基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流，包括：根据所述周期性广播ID确定周期性广播；根据所述周期性广播确定同步广播组及所述同步广播组中多条同步广播流的属性信息；将所述多条同步广播流的属性信息与所述同步广播流的目标属性信息匹配确定出一条同步广播流作为所述目标音频流。10.根据权利要求5-7任一项所述的方法，其特征在于，所述方法还包括：当所述目标音频流为加密音频流时，向所述移动终端发送解密请求；接收所述移动终端采用带外传输方式获取所述加密音频流对应的解密密钥；根据所述解密密钥对所述加密音频流进行解密。11.根据权利要求5-7任一项所述的方法，其特征在于，所述方法应用于所述蓝牙耳机的主耳，所述蓝牙耳机还包括从耳，所述主耳与所述移动终端连接，所述主耳将所述目标音频流标志发送给所述从耳，以使所述从耳基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流并播放所述目标音频流。12.一种音频流播放装置，其特征在于，应用于移动终端，所述移动终端与蓝牙耳机连接，所述蓝牙耳机支持LE Audio协议，所述装置包括：发送模块，用于向所述蓝牙耳机发送扫描指令，以使所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志，并基于LE Audio协议根据第一数据从所述音频分享源获取目标音频流，播放所述目标音频流，其中，所述第一数据为所述音频流标志中的目标音频流标志所对应的数据。13.一种音频流播放装置，其特征在于，应用于蓝牙耳机，所述蓝牙耳机支持LE Audio协议，所述蓝牙耳机与移动终端连接，所述装置包括：接收模块，用于接收所述移动终端发送的扫描指令；扫描模块，用于根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志；获取模块，用于基于LE Audio协议根据第一数据从所述音频分享源获取目标音频流，其中，所述第一数据为所述音频流标志中的目标音频流标志所对应的数据；播放模块，用于播放所述目标音频流。14.一种移动终端，其特征在于，所述移动终端与蓝牙耳机连接，所述蓝牙耳机支持LEAudio，所述移动终端包括：处理器、通信接口、存储器和总线；所述处理器和所述存储器通过所述总线完成相互间的通信；所述通信接口用于与其他节点设备进行信令或数据的通信；所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如权利要求1-4任一项所述的音频流播放方法。15.一种蓝牙耳机，其特征在于，所述蓝牙耳机支持LE Audio，与移动终端连接，所述蓝牙耳机包括：处理器、通信接口、存储器和总线；所述处理器和所述存储器通过所述总线完成相互间的通信；所述通信接口用于与其他节点设备进行信令或数据的通信；所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如权利要求5-11任一项所述的音频流播放方法。16.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序指令，所述计算机程序指令被计算机读取并运行时，执行如权利要求1-4或5-11任一项所述的音频流播放方法。
说明书desc
技术领域本申请涉及音频数据处理领域，具体而言，涉及一种音频流播放方法、装置、移动终端、蓝牙耳机和存储介质。背景技术低功耗音频协议是新一代蓝牙技术标准，其提出的基于LE Audio协议的音频分享技术得到广泛的应用，例如，用户可以将自身正在收听的音频流通过LE Audio协议分享给其他用户收听。在采用LE Audio协议进行音频流分享及收听过程中，需要用户的手机和与该手机连接的耳机均支持LE Audio协议，手机基于LE Audio协议扫描音频分享源发出的音频流，用户在手机上选择想要收听的音频流，通过LE Audio协议控制耳机同步到对应的音频流，从而实现耳机播放对应的音频流。然而，现有的手机大部分不支持LE Audio协议，如果用户仅有支持LE Audio协议的耳机而没有支持LE Audio协议的手机，无法收听音频分享源发出的音频流。发明内容本申请实施例的目的在于提供一种音频流播放方法、装置、移动终端、蓝牙耳机和存储介质，用以在仅有支持LE Audio协议的耳机而没有支持LE Audio协议的手机时，可以使得耳机能够收听音频分享源分享的音频流。第一方面，本发明提供一种音频流播放方法，应用于移动终端，所述移动终端与蓝牙耳机连接，所述蓝牙耳机支持LE Audio协议，所述方法包括：向所述蓝牙耳机发送扫描指令，以使所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志，并基于LE Audio协议根据第一数据从所述音频分享源获取目标音频流，播放所述目标音频流，其中，所述第一数据为所述音频流标志中的目标音频流标志所对应的数据。在本申请实施例中，移动终端向蓝牙耳机发送扫描指令，以使蓝牙耳机基于LEAudio协议扫描音频分享源发出的音频流标志，并基于LE Audio协议根据音频流标志中的目标音频流标志所对应的数据从音频分享源获取目标音频流，进而播放目标音频流。通过上述方式，由于移动终端无需承担扫描音频分享源发出的音频流标志的工作，移动终端无需支持LE Audio协议，从而使得在仅有支持LE Audio协议的蓝牙耳机而没有支持LE Audio协议的移动终端时，依然可以使用蓝牙耳机收听音频分享源分享的音频流。在可选的实施方式中，在所述向所述蓝牙耳机发送扫描指令之后，所述方法还包括：在所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志后，接收所述蓝牙耳机发送的第二数据，其中，所述第二数据为所述蓝牙耳机扫描到的音频流标志所对应的数据；从所述第二数据中确定出所述第一数据，并将所述第一数据发送给所述蓝牙耳机。在本申请实施例中，由蓝牙耳机基于LE Audio协议扫描音频分享源发出的音频流标志，将该音频流标志发送给移动终端。移动终端根据蓝牙耳机扫描确定的音频流标志确定出目标音频流标志，将目标音频流标志发送给蓝牙耳机，以使蓝牙耳机基于LE Audio协议根据目标音频流标志从音频分享源获取目标音频流，并播放目标音频流。通过上述方式，蓝牙耳机扫描确定多个音频流标志后，将这些音频流标志所对应的数据发送给移动终端，用户可以在移动终端上选择想要收听的音频流作为目标音频流，然后通过移动终端将目标音频流所对应的数据发送给蓝牙耳机，以使蓝牙耳机确定并播放目标音频流，提高播放目标音频流的灵活性，从而提高用户体验。由于移动终端无需承担扫描音频分享源发出的音频流标志的工作，移动终端无需支持LE Audio协议，从而使得在仅有支持LE Audio协议的蓝牙耳机而没有支持LE Audio协议的移动终端时，依然可以使用蓝牙耳机收听音频分享源分享的音频流。在可选的实施方式中，所述方法还包括：当所述目标音频流为加密音频流时，接收所述蓝牙耳机发送的解密请求；当接收到所述解密请求时，采用带外传输方式获取所述加密音频流对应的解密密钥；将所述解密密钥发送给所述蓝牙耳机，以使所述蓝牙耳机基于所述解密密钥对所述加密音频流进行解密。在本申请实施例中，采用带外传输方式获取解密密钥，可以支持任何厂商生产的移动终端，不会因为移动终端自身的协议而导致解密密钥获取失败，提高了本申请音频流播放方法的适用性。在可选的实施方式中，所述方法还包括：当接收到播放中断指令时，向所述蓝牙耳机发送播放暂停指令，以使所述蓝牙耳机暂停播放所述目标音频流；当所述播放中断指令结束后，向所述蓝牙耳机发送播放恢复指令，以使所述蓝牙耳机恢复播放所述目标音频流。第二方面，本发明提供一种音频流播放方法，应用于蓝牙耳机，所述蓝牙耳机支持LE Audio协议，所述蓝牙耳机与移动终端连接，所述方法包括：接收所述移动终端发送的扫描指令；根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志；基于LEAudio协议根据第一数据从所述音频分享源获取目标音频流，其中，所述第一数据为所述音频流标志中的目标音频流标志所对应的数据；播放所述目标音频流。在可选的实施方式中，所述扫描指令包括所述第一数据。本申请实施例中，扫描指令中包括第一数据，蓝牙耳机在接收到移动终端发送的扫描指令后，首先基于LE Audio协议扫描音频分享源发出的音频流标志后，然后根据音频流标志中的目标音频流标志所对应的数据直接确定目标音频流并播放目标音频流。通过上述方式，移动终端在发送扫描指令时，在直接将想目标音频流的相关信息发送给蓝牙耳机，使得蓝牙耳机可以直接确定并播放目标音频流，蓝牙耳机只需要与移动终端进行一次交互，即可实现目标音频流的播放，简化了操作。在可选的实施方式中，在所述根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志之后，所述方法还包括：将第二数据发送给所述移动终端，其中，所述第二数据为扫描到的音频流标志所对应的数据；接收所述移动终端从所述第二数据中确定的所述第一数据。在可选的实施方式中，所述第一数据包括所述目标音频流对应的周期性广播ID，所述基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流，包括：根据所述周期性广播ID确定周期性广播；根据所述周期性广播确定同步广播组及所述同步广播组中多条同步广播流的属性信息；将所述多条同步广播流的属性信息与预设用户喜好信息匹配确定出一条同步广播流作为所述目标音频流。在本申请实施例中，用户预先设定用户喜好信息后，后续收听不同的音频流时，无需每次都选择要收听的音频流的属性信息，减少了用户的操作，提高用户体验。在可选的实施方式中，所述第一数据包括所述目标音频流对应的周期性广播ID及同步广播流的目标属性信息，所述基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流，包括：根据所述周期性广播ID确定周期性广播；根据所述周期性广播确定同步广播组及所述同步广播组中多条同步广播流的属性信息；将所述多条同步广播流的属性信息与所述同步广播流的目标属性信息匹配确定出一条同步广播流作为所述目标音频流。在本申请实施例中，用户可以根据自身需求，在选择要收听的音频流时，同时对音频流的属性信息进行选择，提高用户体验。在可选的实施方式中，所述同步广播流的目标属性信息包括：目标音频类型、目标音频编解码参数、目标音频语种中的一种或多种。在可选的实施方式中，所述同步广播流的属性信息包括：音频类型、音频编解码参数、音频语种中的一种或多种。在可选的实施方式中，所述方法还包括：当所述音频流为加密音频流时，向所述移动终端发送解密请求；接收所述移动终端采用带外传输方式获取所述加密音频流对应的解密密钥；根据所述解密密钥对所述加密音频流进行解密。在可选的实施方式中，所述方法应用于所述蓝牙耳机的主耳，所述蓝牙耳机还包括从耳，所述主耳与所述移动终端连接，所述主耳将所述目标音频流标志发送给所述从耳，以使所述从耳基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流并播放所述目标音频流。在本申请实施例中，通过上述方式，移动终端无需同时与主耳和从耳连接，简化了移动终端的交互流程，在主耳确定目标音频流标志后，将该目标音频流标志发送给从耳，使得基于该目标音频流标志获取目标音频流并播放目标音频流，实现双耳同步收听目标音频流。第三方面，本发明提供一种音频流播放装置，应用于移动终端，所述移动终端与蓝牙耳机连接，所述蓝牙耳机支持LE Audio协议，所述装置包括：发送模块，用于向所述蓝牙耳机发送扫描指令，以使所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志，并基于LE Audio协议根据第一数据从所述音频分享源获取目标音频流，播放所述目标音频流，其中，所述第一数据为所述音频流标志中的目标音频流标志所对应的数据。在可选的实施方式中，所述装置包括：接收模块，用于在所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志后，接收所述蓝牙耳机发送的第二数据，其中，所述第二数据为所述蓝牙耳机扫描到的音频流标志所对应的数据；确定模块，用于从所述第二数据中确定出所述第一数据；所述发送模块，还用于将所述第一数据发送给所述蓝牙耳机。在可选的实施方式中，所述接收模块还用于当所述目标音频流为加密音频流时，接收所述蓝牙耳机发送的解密请求；所述装置还包括获取模块，用于当接收到所述解密请求时，采用带外传输方式获取所述加密音频流对应的解密密钥；所述发送模块还用于将所述解密密钥发送给所述蓝牙耳机，以使所述蓝牙耳机基于所述解密密钥对所述加密音频流进行解密。在可选的实施方式中，所述发送模块还用于当接收到播放中断指令时，向所述蓝牙耳机发送播放暂停指令，以使所述蓝牙耳机暂停播放所述目标音频流；当所述播放中断指令结束后，向所述蓝牙耳机发送播放恢复指令，以使所述蓝牙耳机恢复播放所述目标音频流。第四方面，本发明提供一种音频流播放装置，应用于蓝牙耳机，所述蓝牙耳机支持LE Audio协议，所述蓝牙耳机与移动终端连接，所述装置包括：接收模块，用于接收所述移动终端发送的扫描指令；扫描模块，用于根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志；获取模块，用于基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流；播放模块，用于播放所述目标音频流。在可选的实施方式中，所述扫描指令包括所述第一数据。在可选的实施方式中，所述装置还包括：发送模块，用于将第二数据发送给所述移动终端，其中，所述第二数据为扫描到的音频流标志所对应的数据；所述接收模块还用于接收所述移动终端从所述第二数据中确定的所述第一数据。在可选的实施方式中，所述第一数据包括所述目标音频流对应的周期性广播ID，所述获取模块具体用于根据所述周期性广播ID确定周期性广播；根据所述周期性广播确定同步广播组及所述同步广播组中多条同步广播流的属性信息；将所述多条同步广播流的属性信息与预设用户喜好信息匹配确定出一条同步广播流作为所述目标音频流。在可选的实施方式中，所述第一数据包括所述目标音频流对应的周期性广播ID及同步广播流的目标属性信息，所述获取模块具体用于根据所述周期性广播ID确定周期性广播；根据所述周期性广播确定同步广播组及所述同步广播组中多条同步广播流的属性信息；将所述多条同步广播流的属性信息与所述同步广播流的目标属性信息匹配确定出一条同步广播流作为所述目标音频流。在可选的实施方式中，所述同步广播流的目标属性信息包括：目标音频类型、目标音频编解码参数、目标音频语种中的一种或多种。在可选的实施方式中，所述同步广播流的属性信息包括：音频类型、音频编解码参数、音频语种中的一种或多种。在可选的实施方式中，所述发送模块还用于当所述目标音频流为加密音频流时，向所述移动终端发送解密请求；所述接收模块还用于接收所述移动终端采用带外传输方式获取所述加密音频流对应的解密密钥；所述装置还包括解密模块，用于根据所述解密密钥对所述加密音频流进行解密。在可选的实施方式中，所述装置应用于所述蓝牙耳机的主耳，所述蓝牙耳机还包括从耳，所述主耳与所述移动终端连接，所述发送模块用于将所述目标音频流标志发送给所述从耳，以使所述从耳基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流并播放所述目标音频流。第五方面，本发明提供一种移动终端，所述移动终端与蓝牙耳机连接，所述蓝牙耳机支持LE Audio，所述移动终端包括：处理器、通信接口、存储器和总线；所述处理器和所述存储器通过所述总线完成相互间的通信；所述通信接口用于与其他节点设备进行信令或数据的通信；所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如前述第一方面所述的音频流播放方法。第六方面，本发明提供一种蓝牙耳机，所述蓝牙耳机支持LE Audio，与移动终端连接，所述蓝牙耳机包括：处理器、通信接口、存储器和总线；所述处理器和所述存储器通过所述总线完成相互间的通信；所述通信接口用于与其他节点设备进行信令或数据的通信；所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如前述第二方面所述的音频流播放方法。第七方面，本发明提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序指令，所述计算机程序指令被计算机读取并运行时，执行如前述第一方面或第二方面所述的音频流播放方法。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对本申请实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本申请实施例提供的一种音频流播放系统的结构框图；图2为本申请实施例提供的一种音频流播放方法的流程图；图3为本申请实施例提供的一种应用于移动终端的音频流播放装置的结构框图；图4为本申请实施例提供的一种应用于蓝牙耳机的音频流播放装置的结构框图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行描述。目前，若用户希望基于LE Audio的音频分享技术进行音频流的分享及收听，需要使用支持LE Audio协议的手机和支持LE Audio协议的耳机。具体地，通过支持LE Audio协议的手机扫描音频分享源发出的多条音频流，然后由用户选择出感兴趣的音频流，将该音频流的相关信息发送给支持LE Audio协议的耳机，耳机基于LE Audio协议从音频分享源出同步到对应的音频流，从而实现音频流的收听。然而，由于现有的大多数手机不支持LEAudio协议，从而使得用户即使有支持LE Audio协议的耳机，也无法收听音频分享源分享的音频流。鉴于上述问题，本申请申请人经过长期研究探索，提出以下实施例以解决上述问题。下面结合附图，对本申请实施例作详细说明。在不冲突的情况下，下述的实施例及实施例中的特征可以相互组合。请参阅图1，图1为本申请实施例提供的一种音频流播放系统的结构框图。该音频流播放系统10包括：音频分享源101、移动终端102和蓝牙耳机103。其中，移动终端102与蓝牙耳机103之间通过蓝牙建立连接，以进行数据交互。音频分享源101基于LE Audio协议通过周期性广播的方式在单一同步广播组下发送至多31条同步广播流。需要说明的是，音频分享源101基于LE Audio协议对外发送BIS的具体过程为本领域所熟知，对此，本申请不作过多说明。在本申请实施方式中，音频分享源101的数量可以多个，每个音频分享源101发出不同的BIS。音频分享源101可以为支持LE Audio协议的设备，例如：音响、电视、手机、蓝牙耳机、真无线立体声耳机的主耳机等。需要说明的是，作为音频分享源101的蓝牙耳机与音频播放系统10中的蓝牙耳机103为不同的耳机。移动终端102可以是，但不限于，智能手机、平板电脑、智能手表等可以与蓝牙耳机连接的设备。由于本申请提供的音频流播放方法是为了实现当支持LE Audio协议的蓝牙耳机与不支持LE Audio协议的移动终端102连接时可以接收到音频分享源101发出的音频流，因此，移动终端102可以为不支持LE Audio协议的设备。需要说明的是，对于支持LE Audio协议的移动终端102也可以采用本申请提供的音频流播放方法实现接收音频流，在实现过程中不会涉及到与LE Audio协议相关的操作。移动终端102上设置有一应用程序，用于与蓝牙耳机103进行交互。具体地，该应用程序与蓝牙耳机103通过普通属性协议实现交互。当移动终端102与蓝牙耳机103通过GATT连接后，用户可以通过使用该应用程序的显示界面上提供的控制指令对蓝牙耳机103进行控制。需要说明的是，移动终端102与蓝牙耳机103基于GATT协议进行交互的具体过程为本领域所熟知，对此，本申请不作过多说明。可以理解，上述移动终端102与蓝牙耳机103基于GATT协议进行通信仅为本申请实施例提供的一种具体实施方式，移动终端102与蓝牙耳机103之间还可以采用别的协议进行通信，例如蓝牙串口协议等，本申请对此不作具体限定。蓝牙耳机103为支持LE Audio协议的耳机，蓝牙耳机103可以为头戴式蓝牙耳机、TWS耳机等，本申请实施例对蓝牙耳机的具体类型不作具体限定。具体地，当蓝牙耳机103为TWS耳机时，由于TWS耳机分为主耳和从耳，为了简化交互流程，由TWS耳机的主耳与移动终端102进行交互，在确定需要收听的音频流对应的目标音频流标志后，主耳基于该目标音频流标志获取对应的目标音频流，并播放对应的目标音频流。从耳不与移动终端102进行交互，在主耳确定目标音频流标志后，将该目标音频流标志发送给从耳，使得从耳可以基于目标音频流标志获取对应的目标音频流，并播放对应的目标音频流，从而实现双耳同步收听目标音频流的效果。可以理解，当蓝牙耳机103为头戴式蓝牙耳机或只有一个耳机的情况中，蓝牙耳机103与移动终端102进行交互。由于不存在主耳和从耳两个耳机，则无需实现主耳和从耳间的同步。请参阅图2，图2为本申请实施例提供的一种音频流播放方法的流程图。本申请实施例提供的音频流播放方法可以应用于的上述的移动终端102和蓝牙耳机103中，由终移动终端102和蓝牙耳机103相配合以执行或实现方法的各步骤。该音频流播放方法可以包括如下步骤：S201：移动终端向蓝牙耳机发送扫描指令。S202：当蓝牙耳机接收扫描指令时，根据扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志。S203：蓝牙耳机基于LE Audio协议根据第一数据从音频分享源获取目标音频流。S204：蓝牙耳机播放目标音频流。下面对上述方法进行详细介绍。为方便介绍以及理解本申请实施例提供的方案，后续以移动终端102为不支持LE Audio协议的手机，移动终端102与蓝牙耳机103通过GATT协议交互为例进行介绍。S201：移动终端向蓝牙耳机发送扫描指令。本申请实施例中，当用户想要收听某个音频播放源101分享的音频流时，通过手机上的应用程序基于GATT协议向蓝牙耳机103发送扫描指令。S202：当蓝牙耳机接收扫描指令时，根据扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志。本申请实施例中，蓝牙耳机103接收用户的手机发送的扫描指令后，根据该指令基于LE Audio协议扫描音频分享源101发出的音频流标志。具体地，蓝牙耳机103接收移动终端102发送的扫描指令后，基于LE Audio协议中的广播音频扫描服务扫描周边由音频分享源101发出的扩展广播。LE Audio协议中规定，EA中携带有广播ID，用于识别扫描到的EA对应的音频分享源。可以理解，当同时存在多个音频分享源101时，对应每个音频分享源101，蓝牙耳机103均会扫描到相应的EA。S203：蓝牙耳机基于LE Audio协议根据第一数据从音频分享源获取目标音频流。本申请实施例中，蓝牙耳机103基于扫描指令扫描得到周边每个音频分享源101发出音频流标志后，基于LE Audio协议根据第一数据从音频分享源获取目标音频流。需要说明的是，第一数据为音频流标志中的目标音频流标志所对应的数据。其中，目标音频流为多个音频流标志中的一个音频流标志。本申请提供两种确定第一数据的方法。作为一种可选的实施方式，在上述S102之后，本申请实施例提供的音频流播放方法还包括：蓝牙耳机将第二数据发送给移动终端；当移动终端接收蓝牙耳机发送的第二数据后，从第二数据中确定出第一数据，并将第一数据发送给蓝牙耳机。本申请实施例中，蓝牙耳机103对各音频分享源101完成扫描后，确定第二数据，将第二数据发送给用户的手机。可以理解，当存在多个音频分享源101时，每个音频分享源101对应的音频流标志会对应一个第二数据。具体地，第二数据为扫描到的音频流标志所对应的数据。在一些实施方式中，音频流标志所对应的数据可以为音频流标志本身。举例来说，蓝牙耳机103扫描确定了2条EA：EA1和EA2。则第二数据为EA1和EA2。在另一些实施方式中，音频流标志所对应的数据可以为预先确定的用于表征EA的标识信息。例如，针对各EA预先确定的标记或编号等。举例来说，蓝牙耳机103扫描确定了2条EA：EA1和EA2。对EA1和EA2预先定义一个编号，EA1对应X，EA2对应Y。EA1的第二数据为X，EA2的第二数据为Y。用户的手机接收到音频流标志后，在应用程序的用户界面上呈现出各条第二数据。用户从各条第二数据中选择感兴趣的音频流标志，在UI上点击该第二数据。用户点击确定的第二数据对应的音频流标志即为目标音频流标志。换而言之，用户的手机基于用户的点击内容确定出了第一数据。根据前述内容可知，第一数据为音频流标志中的目标音频流标志所对应的数据。可以理解，第一数据与第二数据对应，当第二数据为音频流标志本身时，第一数据为目标音频流标志本身；当第二数据为预先确定的用于表征EA的标识信息时，第一数据为预先确定的用于表征目标音频流标志的EA的标识信息。可以理解，在本申请实施例对应的应用场景中，用户的手机上的应用程序先向蓝牙耳机103发送扫描指令，蓝牙耳机103基于该扫描指令确定出各个音频分享源103发出的第二数据并将第二数据发送至用户的手机上的应用程序，由用户手动选择确定第一数据。作为一种可选的实施方式，扫描指令包括第一数据。在本申请实施例中，移动终端102中预设配置有第一数据，移动终端102发送的扫描指令包括该第一数据。也就是说，蓝牙耳机103在接收到扫描指令时，便确定了第一数据。为方便后续说明，对LE Audio协议规定的BIS获取方式进行简要说明。在LE Audio协议中，音频分享源101通过LE Audio协议分享BIS后，BIS通过PA进行传播。某一条BIS对应的EA中携带有用于指向该BIS对应PA的信息。当蓝牙耳机103需要收听某一条BIS时，需要先确定该BIS对应的EA。由于EA中携带有用于指向该BIS对应PA的信息，通过EA可以确定该BIS对应的PA，蓝牙耳机103从PA中获取并播放该BIS。以下提供两种基于LE Audio协议根据目标音频流标志从音频分享源获取目标音频流的方式。作为一种可选的实施方式，S203可以包括如下内容：根据周期性广播ID确定周期性广播；根据周期性广播确定同步广播组及同步广播组中多条同步广播流的属性信息；将多条同步广播流的属性信息与预设用户喜好信息匹配确定出一条同步广播流作为目标音频流。本申请实施例中，用户在手机的应用程序UI上选择感兴趣的音频流标志，相当于选择了某一个音频分享源101对应的EA。根据LE Audio协议可知，EA会指向BIS对应PA。每个PA会对应一个PA ID。手机将该PA ID作为目标音频流标志，发送给蓝牙耳机103。蓝牙耳机103接收到该PA ID后，由于蓝牙耳机103支持LE Audio协议，根据该PAID确定PA。蓝牙耳机103确定PA后，可以从该PA上获取到BIS。此外，由于LE Audio协议允许音频分享源101同时广播多条BIS，每条BIS对应不同的语种、声道或音质，从而实现多语种、多声道、多音质的使用场景。蓝牙耳机103确定PA后，根据该PA可以确定一BIG以及该BIG的BASE结构体数据。该BASE结构体数据用于表征BIG中每条BIS的属性信息。可选的，BASE结构体数据中BIS的属性信息可以包括：音频类型、音频编解码参数、音频语种中的一种或多种。音频类型可以分为左声道和右声道；音频语种可以为中文、英语、法语等不同语种；音频编解码参数可以为不同的采用率，例如64k、128k等。举例来说，对于一个多语种、多声道、多音质的应用场景，假设一BIG种包括8条BIS，BIS1的属性信息为中文、左声道和64k采样率；BIS2的属性信息为中文、左声道和128k采样率；BIS3的属性信息为中文、右声道和64k采样率；BIS4的属性信息为中文、右声道和128k采样率；BIS5的属性信息为英文、左声道和64k采样率；BIS6的属性信息为英文、左声道和128k采样率；BIS7的属性信息为英文、右声道和64k采样率；BIS8的属性信息为英文、右声道和128k采样率。在本申请实施例中，预先在蓝牙耳机103中预设用户喜好信息，蓝牙耳机103根据用户喜好信息从多条BIS中匹配确定出一条BIS作为目标音频流。用户预先设定用户喜好信息后，后续收听不同的BIS时，无需每次都选择要收听的BIS的属性信息，减少了用户的操作，提高用户体验。作为一种可选的实施方式，目标音频流标志为目标音频流对应的周期性广播ID及同步广播流的目标属性信息，S205可以包括如下内容：根据周期性广播ID确定周期性广播；根据周期性广播确定同步广播组及同步广播组中多条同步广播流的属性信息；将多条同步广播流的属性信息与同步广播流的目标属性信息匹配确定出一条同步广播流作为目标音频流。本申请实施例中，确定PA、BIG以及BASE数据结构体的方式与前述实施方式相同，为使说明书简洁，在此不作赘述。需要理解的是，在本申请实施例中，目标音频流标志除了包括目标音频流对应的周期性广播ID之外，还包括BIS的目标属性信息。也就是说，用户在选择想要听的某一个音频分享源101对应的EA后，还会选择BIS的目标属性信息。其中，BIS的目标属性信息包括：目标音频类型、目标音频编解码参数、目标音频语种中的一种或多种。也就是说，用户会选择想要收听的BIS的目标属性信息，并将该BIS的目标属性信息发送给蓝牙耳机103，蓝牙耳机103根据用户通过手机发送的BIS的目标属性信息确定出一条BIS作为目标音频流。本申请实施例中，用户可以根据自身需求，在选择要收听的BIS时，同时对BIS的属性信息进行选择，提高用户体验。S204：蓝牙耳机播放目标音频流。本申请实施例中，蓝牙耳机103确定目标音频流后，播放该目标音频流。此外，在一些使用场景中，为了提高安全性，会对BIS进行加密。当蓝牙耳机103在确定目标音频流后，若发现该目标音频流为加密音频流，即具有加密特征，则需要获取到对应的解密密钥才能正常播放该目标音频流。作为一种可选的实施方式，本申请提供的音频流播放方法还包括：当目标音频流为加密音频流时，蓝牙耳机向移动终端发送的解密请求；当移动终端接收到解密请求时，采用带外传输方式获取加密音频流对应的解密密钥；移动终端将解密密钥发送给蓝牙耳机，以使蓝牙耳机基于解密密钥对加密音频流进行解密。本申请实施例中，当蓝牙耳机103确定目标音频流为加密音频流时，向移动终端102发送解密请求。移动终端102接收到解密请求后，采用带外传输方式获取加密音频流对应的解密密钥。需要说明的是，采用带外传输方式获取解密密钥，可以支持任何厂商生产的移动终端，不会因为移动终端自身的协议而导致解密密钥获取失败，提高了本申请音频流播放方法的适用性。获取到解密密钥后，移动终端102将解密密钥发送给蓝牙耳机103，蓝牙耳机103便可以基于解密密钥对加密音频流进行解密，得到解密后的目标音频流，进而播放该目标音频流。作为一种可选的实施方式，本申请提供的音频流播放方法还包括：当接收到播放中断指令时，移动终端向蓝牙耳机发送播放暂停指令，以使蓝牙耳机暂停播放目标音频流；当播放中断指令结束后，移动终端向蓝牙耳机发送播放恢复指令，以使蓝牙耳机恢复播放目标音频流。本申请实施例中，播放中断指令的生成条件可以包括：存在更高优先级的服务需要使用蓝牙耳机的播放功能，例如：移动终端有电话呼入；或者用户在移动终端上选择暂停播放等。在接收到播放中断指令时，移动终端向蓝牙耳机发送播放暂停指令，蓝牙耳机收到播放暂停指令后，暂停播放目标音频流。在播放中断指令结束后，移动终端向蓝牙耳机发送播放恢复指令，以使蓝牙耳机恢复播放目标音频流。可以理解，为了实现无感切换，移动终端有电话呼入时，暂停播放目标音频流，移动终端会缓存用户之前选择音频流的操作。当电话呼入结束后，根据用户之前选择音频流的操作，控制蓝牙耳机直接播放用户在电话呼入前选择的目标音频流。作为一种可选的实施例，当蓝牙耳机为TWS耳机时，TWS耳机包括主耳和从耳，主耳与移动终端102连接，前述各实施方式中的蓝牙耳机103执行的内容均由主耳执行。从耳可以不与移动终端102连接，在主耳确定目标音频流标志后，将该目标音频流标志发送给从耳，从耳基于该目标音频流标志获取目标音频流并播放目标音频流。通过上述方式，移动终端无需同时与主耳和从耳连接，简化了移动终端的交互流程，在主耳确定目标音频流标志后，将该目标音频流标志发送给从耳，使得基于该目标音频流标志获取目标音频流并播放目标音频流，实现双耳同步收听目标音频流。综上所述，本申请实施例提供一种音频流播放方法，移动终端向蓝牙耳机发送扫描指令，以使蓝牙耳机基于LE Audio协议扫描音频分享源发出的音频流标志，并基于LEAudio协议根据音频流标志中的目标音频流标志所对应的数据从音频分享源获取目标音频流，进而播放目标音频流。通过上述方式，由于移动终端无需承担扫描音频分享源发出的音频流标志的工作，移动终端无需支持LE Audio协议，从而使得在仅有支持LE Audio协议的蓝牙耳机而没有支持LE Audio协议的移动终端时，依然可以使用蓝牙耳机收听音频分享源分享的音频流。基于同一发明构思，本申请实施例还提供一种音频流播放装置。请参照图3，图3为本申请实施例提供的一种应用于移动终端的音频流播放装置的结构框图，该音频流播放装置300应用于移动终端，移动终端与蓝牙耳机连接，蓝牙耳机支持LE Audio协议，该音频流播放装置300包括：发送模块301，用于向所述蓝牙耳机发送扫描指令，以使所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志，并基于LE Audio协议根据第一数据从所述音频分享源获取目标音频流，播放所述目标音频流，其中，所述第一数据为所述音频流标志中的目标音频流标志所对应的数据。在可选的实施方式中，所述装置包括：接收模块302，用于在所述蓝牙耳机根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志后，接收所述蓝牙耳机发送的第二数据，其中，所述第二数据为所述蓝牙耳机扫描到的音频流标志所对应的数据；确定模块303，用于从所述第二数据中确定出所述第一数据；所述发送模块301，还用于将所述第一数据发送给所述蓝牙耳机。在可选的实施方式中，所述接收模块302还用于当所述目标音频流为加密音频流时，接收所述蓝牙耳机发送的解密请求；所述装置还包括获取模块，用于当接收到所述解密请求时，采用带外传输方式获取所述加密音频流对应的解密密钥；所述发送模块301还用于将所述解密密钥发送给所述蓝牙耳机，以使所述蓝牙耳机基于所述解密密钥对所述加密音频流进行解密。在可选的实施方式中，所述发送模块301还用于当接收到播放中断指令时，向所述蓝牙耳机发送播放暂停指令，以使所述蓝牙耳机暂停播放所述目标音频流；当所述播放中断指令结束后，向所述蓝牙耳机发送播放恢复指令，以使所述蓝牙耳机恢复播放所述目标音频流。此外，本申请实施例还提供一种音频流播放装置。请参照图4，图4为本申请实施例提供的一种应用于蓝牙耳机的音频流播放装置的结构框图，该音频流播放装置400应用于蓝牙耳机，蓝牙耳机与移动终端连接，蓝牙耳机支持LE Audio协议，该音频流播放装置400包括：接收模块401，用于接收所述移动终端发送的扫描指令；扫描模块402，用于根据所述扫描指令基于LE Audio协议扫描音频分享源发出的音频流标志；获取模块403，用于基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流；播放模块404，用于播放所述目标音频流。在可选的实施方式中，所述扫描指令包括所述第一数据。在可选的实施方式中，所述装置还包括：发送模块405，用于将第二数据发送给所述移动终端，其中，所述第二数据为扫描到的音频流标志所对应的数据；所述接收模块还用于接收所述移动终端从所述第二数据中确定的所述第一数据。在可选的实施方式中，所述第一数据包括所述目标音频流对应的周期性广播ID，所述获取模块403具体用于根据所述周期性广播ID确定周期性广播；根据所述周期性广播确定同步广播组及所述同步广播组中多条同步广播流的属性信息；将所述多条同步广播流的属性信息与预设用户喜好信息匹配确定出一条同步广播流作为所述目标音频流。在可选的实施方式中，所述第一数据包括所述目标音频流对应的周期性广播ID及同步广播流的目标属性信息，所述获取模块403具体用于根据所述周期性广播ID确定周期性广播；根据所述周期性广播确定同步广播组及所述同步广播组中多条同步广播流的属性信息；将所述多条同步广播流的属性信息与所述同步广播流的目标属性信息匹配确定出一条同步广播流作为所述目标音频流。在可选的实施方式中，所述同步广播流的目标属性信息包括：目标音频类型、目标音频编解码参数、目标音频语种中的一种或多种。在可选的实施方式中，所述同步广播流的属性信息包括：音频类型、音频编解码参数、音频语种中的一种或多种。在可选的实施方式中，所述发送模块405还用于当所述目标音频流为加密音频流时，向所述移动终端发送解密请求；所述接收模块401还用于接收所述移动终端采用带外传输方式获取所述加密音频流对应的解密密钥；所述装置还包括解密模块，用于根据所述解密密钥对所述加密音频流进行解密。在可选的实施方式中，所述装置应用于所述蓝牙耳机的主耳，所述蓝牙耳机还包括从耳，所述主耳与所述移动终端连接，所述发送模块405用于将所述目标音频流标志发送给所述从耳，以使所述从耳基于LE Audio协议根据所述目标音频流标志从所述音频分享源获取目标音频流并播放所述目标音频流。基于同一发明构思，本申请实施例提供一种蓝牙耳机，所述蓝牙耳机支持LEAudio，与移动终端连接，所述蓝牙耳机包括：处理器、通信接口、存储器和总线；所述处理器和所述存储器通过所述总线完成相互间的通信；所述通信接口用于与其他节点设备进行信令或数据的通信；所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如前述蓝牙耳机侧执行的音频流播放方法。处理器可以是一种集成电路芯片，具有信号处理能力。上述处理器301可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。其可以实现或者执行本申请实施例中公开的各种方法、步骤及逻辑框图。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。存储器可以包括但不限于随机存取存储器，只读存储器，可编程只读存储器，可擦除只读存储器，电可擦除只读存储器等。基于同一发明构思，本申请实施例一种移动终端，所述移动终端与蓝牙耳机连接，所述蓝牙耳机支持LE Audio，所述移动终端包括：处理器、通信接口、存储器和总线；所述处理器和所述存储器通过所述总线完成相互间的通信；所述通信接口用于与其他节点设备进行信令或数据的通信；所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行如前述移动终端侧执行的音频流播放方法。处理器可以是一种集成电路芯片，具有信号处理能力。上述处理器301可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。其可以实现或者执行本申请实施例中公开的各种方法、步骤及逻辑框图。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。存储器可以包括但不限于随机存取存储器，只读存储器，可编程只读存储器，可擦除只读存储器，电可擦除只读存储器等。此外，本申请实施例还提供一种计算机存储介质，该计算机存储介质上存储有计算机程序，该计算机程序被计算机运行时，执行如上述实施例中音频流播放方法的步骤。在本申请所提供的实施例中，应该理解到，所揭露装置和方法，可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，又例如，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些通信接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。另外，作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。再者，在本申请各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。需要说明的是，功能如果以软件功能模块的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。以上所述仅为本申请的实施例而已，并不用于限制本申请的保护范围，对于本领域的技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
