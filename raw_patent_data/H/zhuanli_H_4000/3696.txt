标题title
一种高性能的嵌入式智能摄像机设计系统与方法
摘要abst
本发明提供了一种高性能的嵌入式智能摄像机设计系统与方法，包括设于所述智能摄像机上的身份识别模块和嵌入式处理器；所述身份识别模块与所述嵌入式处理器相连；所述身份识别模块用于识别摄像机当前用户的身份ID并发送至嵌入式处理器，所述嵌入式处理器基于所述身份ID获取适配当前用户的拍摄数据，并控制所述智能摄像机启用所述拍摄数据对应的工作模式，本发明通过用户历史使用数据获取用户操作摄像机的习惯数据，对嵌入式智能摄像机进行个性化设置，提高了用户体验感。
权利要求书clms
1.一种高性能的嵌入式智能摄像机设计系统，其特征在于：所述设计系统包括设于智能摄像机上的身份识别模块、嵌入式处理器和存储模块；身份识别模块与存储模块相连；所述身份识别模块、存储模块均与所述嵌入式处理器相连；所述身份识别模块用于识别摄像机当前用户的身份ID并发送至嵌入式处理器；所述嵌入式处理器基于所述身份ID获取适配当前用户的拍摄数据，并控制所述智能摄像机启用所述拍摄数据对应的工作模式；所述存储模块用于存储所述身份ID、拍摄数据及用户的操作数据；所述拍摄数据包括基于用户的操作数据统计出的习惯数据，在当前用户不存在历史操作数据时，以摄像机初始数据作为拍摄数据；其中，所述习惯数据包括基于用户的身份ID和用户操作数据建立的算法模型。2.如权利要求1所述的一种高性能的嵌入式智能摄像机设计系统，其特征在于：所述工作模式包括闪光灯、曝光度、快门工作方式、焦距、光圈的设置及用户对图像显示参数的设置。3.一种高性能的嵌入式智能摄像机设计方法，其应用于如权利要求2所述的一种高性能的嵌入式智能摄像机设计系统，其特征在于：所述嵌入式智能摄像机启动后，身份识别模块识别当前用户的身份ID，存储模块获取所述身份ID及用户的操作数据并发送至嵌入式处理器，嵌入式处理器基于存储模块发送的数据统计出用户的身份ID对应的习惯数据，在用户再次启动摄像机时，所述嵌入式处理器基于当前用户的身份ID获取适配当前用户的拍摄数据。4.如权利要求3所述的一种高性能的嵌入式智能摄像机设计方法，其特征在于：所述习惯数据包括基于用户的身份ID和用户操作数据建立的算法模型，算法模型的建立过程如下：步骤1.将所述身份ID和用户操作数据进行数据归一化处理，所述用户操作数据包括选择的拍摄场景及对应的图像显示参数设置；步骤2.随机初始化第一权值矩阵，第一阈值矩阵,第二权值矩阵，第二阈值矩阵，其中n为第一输入矩阵维数，m为第二输出矩阵维数，l为第三输出矩阵维数，所述第一权值矩阵内元素为第一输入矩阵内元素与第二输入矩阵内元素之间的权值，所述第一阈值矩阵内元素为第二输入矩阵内元素对应的阈值；所述第二权值矩阵内元素为第二输出矩阵内元素与第三输入矩阵内元素之间的权值，所述第二阈值矩阵内元素为第三输入矩阵内元素对应的阈值；为第一权值矩阵中第i行第j列的元素，为第一阈值矩阵中第j个元素，为第二权值矩阵中第j行第k列的元素，为第二阈值矩阵中第k个元素；步骤3.将归一化后的身份ID和不同的拍摄场景参数作为算法的第一输入矩阵的元素，其中n为身份ID和拍摄场景参数的数据类型总和，将代入下式求第二输入矩阵的元素：，再将代入下式求第二输出矩阵的元素，其中e为自然常数；步骤4.将第二输出矩阵的元素代入下式求第三输入矩阵的元素，再将代入下式求第三输出矩阵的元素，其中；步骤5.计算第三输出矩阵的元素与归一化后的图像显示参数设置之间的误差；步骤6.判断是否满足，否则执行步骤7，是则跳转步骤8，其中为经验值；步骤7.判断迭代次数是否达到预设值，是则跳转步骤8，否则基于计算出的误差更新权值和阈值：，，，，其中为的随机数，为更新后的第一权值，为更新后的第一阈值，为更新的后第二权值，为更新后的第二阈值；基于更新后的权值和阈值跳转步骤3继续迭代计算；步骤8.算法模型训练结束。
说明书desc
技术领域本发明涉及图像采集技术领域，尤其涉及一种高性能的嵌入式智能摄像机设计系统与方法。背景技术目前，市面上销售的摄像机只能实现系统预设的自动模式、程序自动、手动模式、光圈优先和B门，千篇一律，无法根据用户个人喜好个性化设置摄像机，使得用户每次启动都得根据当前拍摄场景重新做调整，如专利申请CN114585136A、CN109474779A、EP1455516A2、EP2314114B1，要么只能在拍摄清晰度上做提升，要么只能在安装成本、控制难度上做改进，均未能实现用户的个性化设置。然而由于科技的高速发展，电子技术的变化成长更是日新月异，在电子存储装置中所运用的操作界面是否容易使用以及人性化，往往决定了消费者是否购买该项产品的原因之一。用户在使用摄像机时通常只能使用其固定的功能模式，在进行个性化设置时只能每次拍摄都重复操作一次，灵活性较差。发明内容本发明的目的在于，针对在所存在的不足，提出了一种高性能的嵌入式智能摄像机设计系统。为了克服现有技术的不足，本发明采用如下技术方案：一种高性能的嵌入式智能摄像机设计系统，所述设计系统包括设于所述智能摄像机上的身份识别模块、嵌入式处理器和存储模块；身份识别模块与存储模块相连；所述身份识别模块、存储模块均与所述嵌入式处理器相连；所述身份识别模块用于识别摄像机当前用户的身份ID并发送至嵌入式处理器；所述嵌入式处理器基于所述身份ID获取适配当前用户的拍摄数据，并控制所述智能摄像机启用所述拍摄数据对应的工作模式；所述存储模块用于存储所述身份ID、拍摄数据及用户的操作数据；所述拍摄数据包括基于用户的操作数据统计出的习惯数据，在当前用户不存在历史操作数据时，以摄像机初始数据作为拍摄数据；其中，所述习惯数据包括基于用户的身份ID和用户操作数据建立的算法模型。进一步的，所述工作模式包括闪光灯、曝光度、快门工作方式、焦距、光圈的设置及用户对图像显示参数的设置。进一步的，基于所述系统实现的一种高性能的嵌入式智能摄像机设计方法，其特征在于：所述嵌入式智能摄像机启动后，身份识别模块识别当前用户的身份ID，存储模块获取所述身份ID及用户的操作数据并发送至嵌入式处理器，嵌入式处理器基于存储模块发送的数据统计出用户的身份ID对应的习惯数据，在用户再次启动摄像机时，所述嵌入式处理器基于当前用户的身份ID获取适配当前用户的拍摄数据。进一步的，所述习惯数据包括基于用户的身份ID和用户操作数据建立的算法模型，算法模型的建立过程如下：步骤1.将所述身份ID和用户操作数据进行数据归一化处理，所述用户操作数据包括选择的拍摄场景及对应的图像显示参数设置；步骤2.随机初始化第一权值矩阵，第一阈值矩阵,第二权值矩阵，第二阈值矩阵，其中n为第一输入矩阵维数，m为第二输出矩阵维数，l为第三输出矩阵维数，所述第一权值矩阵内元素为第一输入矩阵内元素与第二输入矩阵内元素之间的权值，所述第一阈值矩阵内元素为第二输入矩阵内元素对应的阈值；所述第二权值矩阵内元素为第二输出矩阵内元素与第三输入矩阵内元素之间的权值，所述第二阈值矩阵内元素为第三输入矩阵内元素对应的阈值；为第一权值矩阵中第i行第j列的元素，为第一阈值矩阵中第j个元素，为第二权值矩阵中第j行第k列的元素，为第二阈值矩阵中第k个元素；步骤3.将归一化后的身份ID和不同的拍摄场景参数作为算法的第一输入矩阵的元素，其中n为身份ID和拍摄场景参数的数据类型总和，将代入下式求第二输入矩阵的元素：，再将代入下式求第二输出矩阵的元素，其中，e为自然常数；步骤4.将第二输出量矩阵的元素代入下式求第三输入矩阵矩阵的元素，再将代入下式求第三输出矩阵的元素，其中；步骤5.计算第三输出矩阵的元素与归一化后的图像显示参数设置之间的误差；步骤6.判断是否满足，否则执行步骤7，是则跳转步骤8，其中为经验值；步骤7.判断迭代次数是否达到预设值，是则跳转步骤8，否则基于计算出的误差更新权值和阈值：，，，，其中为的随机数，为更新后的第一权值，为更新后的第一阈值，为更新的后第二权值，为更新后的第二阈值；基于更新后的权值和阈值跳转步骤3继续迭代计算；步骤8.算法模型训练结束。本发明所取得的有益效果是：利用嵌入式处理器基于所述身份ID获取适配当前用户的拍摄数据，并控制所述智能摄像机启用所述拍摄数据对应的工作模式；其中所述拍摄数据包括基于用户的操作数据统计出的习惯数据，使得智能摄像机可根据用户启动符合其使用习惯的工作模式，避免了用户重复调整摄像机参数，在充分发挥嵌入式处理器的情况下提高了用户的体验感。附图说明从以下结合附图的描述可以进一步理解本发明。图中的部件不一定按比例绘制，而是将重点放在示出实施例的原理上。在不同的视图中，相同的附图标记指定对应的部分。图1为本发明各个模块的关系示意图。图2为本发明实施例一的身份确认示意图。图3为本发明实施例二的方法流程图。图4为本发明实施例三的分割示意图。具体实施方式为了使得本发明的目的技术方案及优点更加清楚明白，以下结合其实施例，对本发明进行进一步详细说明；应当理解，此处所描述的具体实施例仅用于解释本发明，并不用于限定本发明。对于本领域技术人员而言，在查阅以下详细描述之后，本实施例的其它系统、方法和/或特征将变得显而易见。以下描述旨在将所有此类附加的系统、方法、特征和优点都包括在本发明的范围内，并且受所附权利要求书的保护。在以下详细描述描述了所公开的实施例的另外的特征，并且这些特征根据以下将详细描述将是显而易见的。本发明实施例的附图中相同或相似的标号对应相同或相似的部件；在本发明的描述中，需要理解的是，若有术语“上”、“下”、“左”、“右”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或组件必须具有特定的方位，以特定的方位构造和操作，因此附图中描述位置关系的用语仅用于示例性说明，不能理解为对本专利的限制，对于本领域的普通技术人员而言，可以根据具体情况理解上述术语的具体含义。实施例一，一种高性能的嵌入式智能摄像机设计系统，所述设计系统包括设于所述智能摄像机上的身份识别模块、嵌入式处理器和存储模块；身份识别模块与存储模块相连；所述身份识别模块、存储模块均与所述嵌入式处理器相连；连接关系参见附图图1；所述身份识别模块用于识别摄像机当前用户的身份ID并发送至嵌入式处理器；所述嵌入式处理器基于所述身份ID获取适配当前用户的拍摄数据，并控制所述智能摄像机启用所述拍摄数据对应的工作模式；所述存储模块用于存储所述身份ID、拍摄数据及用户的操作数据。其中身份识别模块可为指纹识别模块或人脸识别模块；所述拍摄数据包括基于用户的操作数据统计出的习惯数据，在当前用户不存在历史操作数据时，以摄像机初始数据作为拍摄数据；其中，所述习惯数据包括基于用户的身份ID和用户操作数据建立的算法模型。具体的，可以使用SVM算法模型、BP算法模型、ELM算法模型等实现，在此不再赘述。进一步的，所述工作模式包括闪光灯、曝光度、快门工作方式、焦距、光圈的设置及用户对图像显示参数的设置。进一步的，在嵌入式处理器获取到用户身份ID后控制摄像机在显示屏上提供用户身份确认的选项，附图图2为该步骤的示意图，当用户确认后可进入由嵌入式处理器提供的拍摄数据对应的工作模式，当用户取消后则以摄像机初始数据作为拍摄数据。其中所述身份ID在嵌入式处理器中数据唯一，而提供的用户身份确认信息即摄像机显示的用户身份可被编辑，但不可与预先存储的用户身份信息重复。例如图2中的123456可被编辑，而摄像机内对应该123456的身份ID则无法被编辑。本实施例提供的嵌入式智能摄像机设计系统可根据用户启动符合其使用习惯的工作模式，避免了用户重复调整摄像机参数，在充分发挥嵌入式处理器的情况下提高了用户的体验感。实施例二，本实施例为上述实施例的进一步描述应当理解本实施例包括前述全部技术特征并作进一步具体描述：基于前述系统实现的一种高性能的嵌入式智能摄像机设计方法，所述嵌入式智能摄像机启动后，身份识别模块识别当前用户的身份ID，存储模块获取所述身份ID及用户的操作数据并发送至嵌入式处理器，嵌入式处理器基于存储模块发送的数据统计出用户的身份ID对应的习惯数据，在用户再次启动摄像机时，所述嵌入式处理器基于当前用户的身份ID获取适配当前用户的拍摄数据。进一步的，所述习惯数据包括基于用户的身份ID和用户操作数据建立的算法模型，如附图图3所示，算法模型的建立过程如下：步骤1.将所述身份ID和用户操作数据进行数据归一化处理，所述用户操作数据包括选择的拍摄场景及对应的图像显示参数设置；归一化可采用下式进行：，为归一化后的值，为待归一化的值，为待归一化的值的同类值中最小值，为待归一化的值的同类值中最大值。步骤2.随机初始化第一权值矩阵，第一阈值矩阵,第二权值矩阵，第二阈值矩阵，其中n为第一输入矩阵维数，m为第二输出矩阵维数，l为第三输出矩阵维数，所述第一权值矩阵内元素为第一输入矩阵内元素与第二输入矩阵内元素之间的权值，所述第一阈值矩阵内元素为第二输入矩阵内元素对应的阈值；所述第二权值矩阵内元素为第二输出矩阵内元素与第三输入矩阵内元素之间的权值，所述第二阈值矩阵内元素为第三输入矩阵内元素对应的阈值；为第一权值矩阵中第i行第j列的元素，为第一阈值矩阵中第j个元素，为第二权值矩阵中第j行第k列的元素，为第二阈值矩阵中第k个元素；所述初始化可依据正态分布函数生成的随机数来进行初始化。步骤3.将归一化后的身份ID和不同的拍摄场景参数作为算法的第一输入矩阵的元素，其中n为身份ID和拍摄场景参数的数据类型总和，将代入下式求第二输入矩阵的元素：，再将代入下式求第二输出矩阵的元素，其中，e为自然常数；步骤4.将第二输出量代入下式求第三输入矩阵的元素，再将代入下式求第三输出矩阵的元素，其中；步骤5.计算第三输出矩阵的元素与归一化后的图像显示参数设置之间的误差；步骤6.判断是否满足，否则执行步骤7，是则跳转步骤8，其中为经验值，为本领域技术人员通过大量的样本训练后可得知在什么取值范围能让算法模型的输出更接近真实值；步骤7.判断迭代次数是否达到预设值，是则跳转步骤8，否则基于计算出的误差更新权值和阈值：，，，，其中为的随机数，为更新后的第一权值，为更新后的第一阈值，为更新的后第二权值，为更新后的第二阈值；基于更新后的权值和阈值跳转步骤3继续迭代计算；所述阈值的选取决定了算法模型输出值与真实值的偏移距离，阈值的设置避免了算法模型收敛很慢而且精度差，甚至可能陷入“僵死”状态无法收敛。步骤8.算法模型训练结束。算法模型结束后第一权值矩阵、第一阈值矩阵、第二权值矩阵、第二阈值矩阵均被最终确认。待用户重新启动摄像机时，通过身份识别模块获取用户身份ID，所述嵌入式处理器基于所述身份ID获取适配当前用户的拍摄数据，所述拍摄数据包括本实施例建立好的算法模型，摄像机再根据用户拍摄对象自动识别拍摄场景，或由用户主动选择拍摄场景，所述拍摄场景可为人物、风景、美食等，或是用户自定义场景，嵌入式处理器将身份ID和当前的拍摄场景数据归一化后输入建立好的算法模型中，即基于确认好的第一权值矩阵、第一阈值矩阵、第二权值矩阵、第二阈值矩阵将归一化后的数据输入到步骤3的式子中，并依次执行步骤4，再将步骤4的输出利用步骤1的归一化函数进行逆归一化处理，从而转换为摄像机可视化参数，如此用户即可在使用摄像机拍摄时快速获取自己理想的工作模式，提升了用户的体验感。实施例三，本实施例为上述实施例的进一步描述应当理解本实施例包括前述全部技术特征并作进一步具体描述。在实际应用中，拍摄背景和前景往往不会同时让用户满意，或者存在用户想更换背景的需求，例如用户拍摄证件照而临时难以找到所需颜色背景的情况，为解决该类问题，本申请在前实施例基础上进一步提出如下方案：所述拍摄场景包括背景可选择的拍摄模式，具体的，启用该拍摄模式时，所述嵌入式处理器将接收到的图像和/或视频分割成前景图像和背景图像，根据用户从已有的图像库内选择第一图像替换所述背景图像。其中，所述分割由嵌入式处理器内部的分割模块实现，分割模块使用视差来确定前景图像和背景图像，由于透视收缩，当摄像机与被拍对象做相对运动时，附近的物体比更远的物体显示出更大的视差，即在二维视频中，前景对象的移动往往比背景对象多，通过视差可用于确定距离，进而根据该距离确定前景图像和背景图像。因此，基于物体的运动，分割模块可以将物体分成前景图像和背景图像，分割效果可参见附图图4，用户可从已有的图像库内选择自己喜欢的图像替换该背景图像，由于视频是由N个图像帧构成的，因此只要更换视频中的每一帧图像的背景即可实现视频的背景更换的效果。本实施例通过以上设计满足了用户更换背景的需求。进一步的，所述嵌入式处理器根据用户操作修改前景图像或背景图像的显示参数。更改后的图像可接受用户进一步的图像显示参数设置，例如锐化前景/背景对象，柔化照明，模糊前景/背景对象等，存储模块会同步记录用户操作数据以供嵌入式处理器基于该用户操作数据更新算法模型。现有技术中的背景更换只能在电脑软件应用中实现，而摄像机内软件运行环境与电脑完全不同，因此现有技术难以在摄像机拍摄过程中实现背景更换，本实施例用简易的算法模型实现了用户可根据喜好选择已有的图像作为拍摄的背景图像，达到了拍摄图像或视频更换背景的目的，满足了用户想更换背景的需求，提高了用户的体验感。虽然上面已经参考各种实施例描述了本发明，但是应当理解，在不脱离本发明的范围的情况下，可以进行许多改变和修改。也就是说上面讨论的方法，系统和设备是示例。各种配置可以适当地省略，替换或添加各种过程或组件。例如，在替代配置中，可以以与所描述的顺序不同的顺序执行方法，和/或可以添加，省略和/或组合各种部件。而且，关于某些配置描述的特征可以以各种其他配置组合，如可以以类似的方式组合配置的不同方面和元素。此外，随着技术发展其中的元素可以更新，即许多元素是示例，并不限制本公开或权利要求的范围。在说明书中给出了具体细节以提供对包括实现的示例性配置的透彻理解。然而，可以在没有这些具体细节的情况下实践配置例如，已经示出了众所周知的电路，过程，算法，结构和技术而没有不必要的细节，以避免模糊配置。该描述仅提供示例配置，并且不限制权利要求的范围，适用性或配置。相反，前面对配置的描述将为本领域技术人员提供用于实现所描述的技术的使能描述。在不脱离本公开的精神或范围的情况下，可以对元件的功能和布置进行各种改变。综上，其旨在上述详细描述被认为是例示性的而非限制性的，并且应当理解，以上这些实施例应理解为仅用于说明本发明而不用于限制本发明的保护范围。在阅读了本发明的记载的内容之后，技术人员可以对本发明作各种改动或修改，这些等效变化和修饰同样落入本发明权利要求所限定的范围。
