标题title
一种5g物理层的任务处理方法、装置、设备及存储介质
摘要abst
本发明公开了一种5g物理层的任务处理方法、装置、设备及存储介质，本发明通过对5G物理层中上行信道相对应的功能以及下行信道相对应的功能划分为多个功能块后，根据每个周期内所需要处理的任务选择相对应的第一功能块并构建第一功能块队列。当第一功能块队列的运行时间超过预设时长时，则进一步对第一功能块内的目标第一功能块进行划分，得到第二功能块队列，并在第二功能块队列的运行过程中，通过数据流驱动第二功能块队列中的每个第二功能块运行。本实施例利用数据流来驱动第二功能块的方式，能够大大提高处理器资源的利用率，提高了5g物理层对任务进行处理的效率，解决了现有技术在5G通信过程中，物理层处理任务的效率低下的技术问题。
权利要求书clms
1.一种5g物理层的任务处理方法，其特征在于，包括：对5G物理层中上行信道相对应的功能以及下行信道相对应的功能进行划分，得到多个功能块；根据当前周期所需要处理的任务，从所述多个功能块中确定出相对应的第一功能块，根据所述第一功能块构建第一功能块队列；判断是否需要对所述第一功能块队列中的目标第一功能块的功能进行分割；响应于需要进行分割的判断结果，对所述目标第一功能块的功能进行分割，得到第二功能块队列；将与所述任务相对应的数据输入至所述第二功能块队列中进行处理，以使所述第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对所述数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，所述第二功能块包括所述第一功能块和所述目标第一功能块。2.根据权利要求1所述的一种5g物理层的任务处理方法，其特征在于，所述判断是否需要对所述第一功能块队列中的目标第一功能块的功能进行分割，包括：获取所述第一功能块队列中每个第一功能块在执行相对应的功能时，所消耗的时间；根据每个所述第一功能块所消耗的时间，计算所述第一功能块队列在处理所述任务时所消耗的总时间；确定所述总时间超过预设时长时，确定对所述目标第一功能块的功能进行分割。3.根据权利要求2所述的一种5g物理层的任务处理方法，其特征在于，所述对所述目标第一功能块的功能进行分割，包括：根据每个所述第一功能块在执行相对应的功能时所消耗的时间从大到小，对所述第一功能块进行排序，得到排列顺序；令i=1，对所述第一功能块队列执行功能块分割步骤，所述功能块分割步骤包括：根据在所述排列顺序中的第i个第一功能块确定第i个目标第一功能块，将所述第i个目标第一功能块划分为多个并行执行的子功能块；判断执行所述功能块分割步骤后的第一功能块队列在处理所述任务时所消耗的总时间是否超过预设时长；若是，令i=i+1，继续对执行所述功能块分割步骤后的第一功能块队列执行所述功能块分割步骤；反之，完成对所述目标第一功能块的功能进行分割。4.根据权利要求3所述的一种5g物理层的任务处理方法，其特征在于，所述将所述第i个目标第一功能块划分为多个并行执行的子功能块，包括：确定所述5G物理层所使用的处理器的负荷率和核数、以及外部第三方协助处理器的负荷率；计算所述5G物理层所使用的处理器的负荷率与外部第三方协助处理器的负荷率之和，得到第一负荷率；当所述第一负荷率之和小于等于第一数值时，确定并行执行的子功能块的第一数量为所述处理器的核数的第一百分比；当所述第一负荷率之和大于所述第一数值小于等于第二数值时，确定并行执行的子功能块的第一数量为所述处理器的核数的第二百分比；当所述第一负荷率之和大于所述第二数值时，确定并行执行的子功能块的第一数量为所述处理器的核数的第三百分比；将所述第i个目标第一功能块划分为所述第一数量个子功能块。5.根据权利要求1所述的一种5g物理层的任务处理方法，其特征在于，所述将与所述任务相对应的数据输入至所述第二功能块队列中进行处理，以使所述第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对所述数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，包括：将与所述任务相对应的数据输入至所述第二功能块队列中，通过所述第二功能块队列中的第一个第二功能块依次对所述数据中的OFDM符号进行处理，将对每个所述OFDM符号进行处理后所产生的数据流输出至下游的第二功能块，以使所述下游的第二功能块在接收到上游的第二功能块产生的数据流时，对所述数据流进行处理，并将处理后所产生的数据流继续输出至下游的第二功能块，直至最后一个第二功能块输出处理结果为止。6.根据权利要求1所述的一种5g物理层的任务处理方法，其特征在于，还包括：响应于不需要进行分割的判断结果，将与所述任务相对应的数据输入至所述第一功能块队列中进行处理，以使所述第一功能块队列中的每个所述第一功能块在接收到上游的第一功能块产生的数据流时，对所述数据流进行处理，并将处理后所产生的数据流输出至下游的第一功能块。7.根据权利要求6所述的一种5g物理层的任务处理方法，其特征在于，还包括：若所述第二功能块队列或所述第一功能块队列处理所述任务的时间超过预设时长时，将所述第二功能块队列或所述第一功能块队列所占用的资源进行回收，并执行下一个第一功能块队列或下一个第二功能块队列，以使所述下一个第一功能块队列或所述下一个第二功能块队列处理与下一个周期相对应的任务。8.一种5g物理层的任务处理装置，其特征在于，包括：功能划分模块，用于对5G物理层中上行信道相对应的功能以及下行信道相对应的功能进行划分，得到多个功能块；队列构建模块，用于根据当前周期所需要处理的任务，从所述多个功能块中确定出相对应的第一功能块，根据所述第一功能块构建第一功能块队列；分割判断模块，用于判断是否需要对所述第一功能块队列中的目标第一功能块的功能进行分割；分割模块，用于响应于需要进行分割的判断结果，对所述目标第一功能块的功能进行分割，得到第二功能块队列；第一任务执行模块，用于将与所述任务相对应的数据输入至所述第二功能块队列中进行处理，以使所述第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对所述数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，所述第二功能块包括所述第一功能块和所述目标第一功能块。9.一种5g物理层的任务处理设备，其特征在于，所述5g物理层的任务处理设备包括处理器以及存储器；所述存储器用于存储计算机程序，并将所述计算机程序传输给所述处理器；所述处理器用于根据所述计算机程序中的指令执行如权利要求1-7中任一项所述的一种5g物理层的任务处理方法。10.一种存储计算机可执行指令的存储介质，其特征在于，所述计算机可执行指令在由计算机处理器执行时用于执行如权利要求1-7中任一项所述的一种5g物理层的任务处理方法。
说明书desc
技术领域本申请实施例涉及5G通信领域，尤其涉及一种5g物理层的任务处理方法、装置、设备及存储介质。背景技术目前，在5G通信系统中，由于用户终端与基站之间存在着大量高速数据的通信传输，因此要求用户终端的物理层与基站的物理层能够对大量的任务进行快速高效处理，确保物理层不会成为通信传输的瓶颈。而现有技术在物理层中一般采用前后级任务触发的方式来处理任务，导致物理层在处理任务时的效率低下，且调度不灵活。综上所述，如何在5G通信过程中，提高物理层在处理任务时的效率，成为了目前亟需解决的技术问题。发明内容本发明实施例提供了一种5g物理层的任务处理方法、装置、设备及存储介质，解决了现有技术在5G通信过程中，物理层处理任务的效率低下的技术问题，提高了5G通信过程中物理层在处理任务时的效率。第一方面，本发明实施例提供了一种5g物理层的任务处理方法，包括：对5G物理层中上行信道相对应的功能以及下行信道相对应的功能进行划分，得到多个功能块；根据当前周期所需要处理的任务，从多个功能块中确定出相对应的第一功能块，根据第一功能块构建第一功能块队列；判断是否需要对第一功能块队列中的目标第一功能块的功能进行分割；响应于需要进行分割的判断结果，对目标第一功能块的功能进行分割，得到第二功能块队列；将与任务相对应的数据输入至第二功能块队列中进行处理，以使第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，第二功能块包括第一功能块和目标第一功能块。第二方面，本发明实施例提供了一种5g物理层的任务处理装置，包括：功能划分模块，用于对5G物理层中上行信道相对应的功能以及下行信道相对应的功能进行划分，得到多个功能块；队列构建模块，用于根据当前周期所需要处理的任务，从多个功能块中确定出相对应的第一功能块，根据第一功能块构建第一功能块队列；分割判断模块，用于判断是否需要对第一功能块队列中的目标第一功能块的功能进行分割；分割模块，用于响应于需要进行分割的判断结果，对目标第一功能块的功能进行分割，得到第二功能块队列；第一任务执行模块，用于将与任务相对应的数据输入至第二功能块队列中进行处理，以使第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，第二功能块包括第一功能块和目标第一功能块。第三方面，本发明实施例提供了一种5g物理层的任务处理设备，5g物理层的任务处理设备包括处理器以及存储器；存储器用于存储计算机程序，并将计算机程序传输给处理器；处理器用于根据计算机程序中的指令执行如第一方面所述的一种5g物理层的任务处理方法。第四方面，本发明实施例提供了一种存储计算机可执行指令的存储介质，计算机可执行指令在由计算机处理器执行时用于执行如第一方面所述的一种5g物理层的任务处理方法。本发明公开了一种5g物理层的任务处理方法、装置、设备及存储介质，本发明通过对5G物理层中上行信道相对应的功能以及下行信道相对应的功能划分为多个功能块后，根据每个周期内所需要处理的任务选择相对应的第一功能块并构建第一功能块队列。当第一功能块队列的运行时间超过预设时长时，则进一步对第一功能块内的目标第一功能块进行划分，得到第二功能块队列，并在第二功能块队列的运行过程中，通过数据流驱动第二功能块队列中的每个第二功能块运行。本实施例利用数据流来驱动第二功能块的方式，能够大大提高处理器资源的利用率，提高了5g物理层对任务进行处理的效率，解决了现有技术在5G通信过程中，物理层处理任务的效率低下的技术问题。附图说明图1为本发明实施例提供的一种5g物理层的任务处理方法的流程示意图。图2为本发明实施例提供的对下行信道相对应的功能划分成功能块的示意图。图3为本发明实施例提供的与不同周期相对应的第一功能队列的示意图。图4为本发明实施例提供的判断是否对第一功能块队列中指定的目标第一功能块的功能进行分割的流程示意图。图5为本发明实施例提供对目标第一功能块分割成多个并行执行的子功能块的示意图。图6为本发明实施例提供的不同TTI内的第二功能块队列的示意图。图7为本发明实施例提供的数据流驱动第二功能块运行的示意图。图8为本发明实施例提供的另一种5g物理层的任务处理方法的流程示意图。图9为本发明实施例提供的一种5g物理层的任务处理装置的结构示意图。图10为本发明实施例提供的一种5g物理层的任务处理设备的结构示意图。具体实施方式以下描述和附图充分地示出本申请的具体实施方案，以使本领域的技术人员能够实践它们。实施例仅代表可能的变化。除非明确要求，否则单独的部件和功能是可选的，并且操作的顺序可以变化。一些实施方案的部分和特征可以被包括在或替换其他实施方案的部分和特征。本申请的实施方案的范围包括权利要求书的整个范围，以及权利要求书的所有可获得的等同物。在本文中，各实施方案可以被单独地或总地用术语“发明”来表示，这仅仅是为了方便，并且如果事实上公开了超过一个的发明，不是要自动地限制该应用的范围为任何单个发明或发明构思。本文中，诸如第一和第二等之类的关系术语仅仅用于将一个实体或者操作与另一个实体或操作区分开来，而不要求或者暗示这些实体或操作之间存在任何实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素。本文中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的结构、产品等而言，由于其与实施例公开的部分相对应，所以描述的比较简单，相关之处参见方法部分说明即可。如图1所示，图1为本发明实施例提供的一种5g物理层的任务处理方法的流程图。本发明实施例提供的5g物理层的任务处理方法可以由5g物理层的任务处理设备执行，该5g物理层的任务处理设备可以通过软件和/或硬件的方式实现，该5g物理层的任务处理设备可以是两个或多个物理实体构成，也可以由一个物理实体构成。例如5g物理层的任务处理设备可以是电脑、上位机以及手机等设备。方法包括以下步骤：步骤101、对5G物理层中上行信道相对应的功能以及下行信道相对应的功能进行划分，得到多个功能块。在本实施例中，首先需要对5G物理层中上行信道相对应的功能以及下行信道相对应的功能进行划分，从而得到多个功能块。其中，每个功能块用于执行上行信道或者下行信道中的某个特定的功能，可理解，在本实施例中功能块是由软件构成的虚拟模块，而并非真实存在的物理硬件模块。另外。在划分功能块的过程中，每个功能块尽可能高内聚低耦合，其中高内聚低耦合，是软件工程中的概念，是判断软件设计好坏的标准，主要用于程序的面向对象的设计，主要看类的内聚性是否高，耦合度是否低。目的是使程序模块的可重用性、移植性大大增强。通常程序结构中各模块的内聚程度越高，模块间的耦合程度就越低。内聚是从功能角度来度量模块内的联系，一个好的内聚模块应当恰好做一件事，它描述的是模块内的功能联系；耦合是软件结构中各模块之间相互连接的一种度量，耦合强弱取决于模块间接口的复杂程度、进入或访问一个模块的点以及通过接口的数据。示例性的，如图2所示，可将5G物理层中下行信道相对应的功能进行划分，从而得到以下功能块：数据传输功能块、码块划分功能块、CRC附加功能块、信道编码功能块、速率匹配功能块以及码流发送功能块。其中，数据传输功能块用于接收上流发送的TB，并将TB发送至码块划分功能块，码块划分功能块用于将TB分成多个CB，将CB发送至CRC附加功能块，CRC附加功能块用于对CB附加CRC，并对CRC进行加扰，之后在将CB传输至信道编码功能块，信道编码功能块对CB进行编码后，将编码后的CB传输至速率匹配功能块中进行速率匹配，速率匹配功能块在速率匹配完成后，再将速率匹配后的CB传输至码流发送功能块，由码流发送功能块连接各个CB生成码流，并将生成的发送至射频中进行发送。步骤102、根据当前周期所需要处理的任务，从多个功能块中确定出相对应的第一功能块，根据第一功能块构建第一功能块队列。在对上行信道的功能和下行信道的功能进行划分后，即可根据当前周期中所需要处理的任务，从多个功能块中确定出相对应的第一功能块，并根据任务的处理流程对第一功能块进行排序，从而得到与当前周期相对应的第一功能队列。示例性的，如图3所示，下行信道的所有功能块为dl_F1、dl_F2......dl_Fn。上行信道的所有功能块为ul_F1、ul_F2......ul_Fn，将功能块分别放入不同周期的第一功能块队列dl_TaskQueue和ul_TaskQueue中，其中n为第一功能块的个数，0≤x≤M-1，M为预设的数值。另外，在本实施例中，每个周期即为一个TTI，传输时间间隔是在移动通信系统中的一个参数，是指在无线链路中的一个独立解码传输的长度，TTI 与从更高网络层到无线链路层的数据块的大小有关。步骤103、判断是否需要对第一功能块队列中的目标第一功能块的功能进行分割。之后，进一步判断在本周期中是否需要对第一功能块队列中的目标第一功能块的功能进行分割。其中，目标第一功能块包括第一功能块中的至少一个第一功能块，对目标第一功能块的功能进行分割，是指将目标第一功能块根据功能进一步划分为多个子功能块。一个实施例中，可根据当前周期中第一功能块队列处理任务的时间确定是否从第一功能块队列中选取出目标第一功能块并对目标第一功能块的功能进行分割。具体的，当第一功能块队列处理任务的时间超过预设时长时，则需要从第一功能块队列中选取出目标第一功能块，并根据目标第一功能块所执行的功能，将目标第一功能块分割成多个能够并行处理的子功能块，以缩短第一功能块队列的执行时间。在上述实施例的基础上，如图4所示，步骤103中判断是否需要对第一功能块队列中的目标第一功能块的功能进行分割，包括：步骤1031、获取第一功能块队列中每个第一功能块在执行相对应的功能时，所消耗的时间。首先，分别获取当前周期的第一功能块队列中每个第一功能块在执行相对应的功能时，所消耗的时间。其中每个第一功能块在执行相对应的功能时所消耗的时间，是指每个第一功能块在5G物理层所使用的处理器的单核上运行的时间，该时间可通过预先进行测试得到。步骤1032、根据每个第一功能块所消耗的时间，计算第一功能块队列在处理任务时所消耗的总时间。之后，进一步将每个第一功能块所消耗的时间进行相加，即可得到第一功能块队列在处理任务时所消耗的总时间。步骤1033、确定总时间超过预设时长时，确定对目标第一功能块的功能进行分割。最后，进一步判断第一功能块队列在处理任务时所消耗的总时间是否超过预设时长，如果超过，则从第一功能块队列中确定出目标第一功能块，并对目标第一功能块进行分割。具体的，当每个周期的时长为一个TTI时，每一个TTI都有上行或下行任务的调度，因此每个TTI的上行或下行功能块必须在一个TTI允许的时间内完成，否则会影响后续其他TTI的正常运行，超时严重的话将影响整个系统的实时性。其中TTI允许的时间内即为预设时长，对于下行信道的第一功能块队列dl_TaskQueue，则存在以下公式：dl_F1.time+dl_F2.time+.....+dl_Fn.time＜=Trun1其中，dl_Fi.time表示第一功能块队列中的第i个第一功能块在处理器的单核中运行的时间，Trun1为与下行信道所对应的预设时长。对于上行信道的第一功能块队列ul_TaskQueue，则存在以下公式：ul_F1.time+ul_F2.time+.....+ul_Fn.time＜=Trun2。其中ul_Fi.time表示第一功能块队列中的第i个第一功能块在的处理器的单核中运行的时间，Trun2为与上行信道所对应的预设时长。需要进一步说明的是，由于上行信道和下行信道的功能不同，因此上行信道所对应的预设时长Trun2和下行信道所对应的预设时长Trun1并不相同，Trun2为TTI的80%，Trun1为TTI的70%。当确定第一功能块队列运行的总时间超过预设时长时，则可以确定对需要当前TTI内的第一功能块队列中的目标第一功能块的功能进行分割。步骤104、响应于需要进行分割的判断结果，对目标第一功能块的功能进行分割，得到第二功能块队列。在确定出需要对第一功能块队列中的目标第一功能块的功能进行分割后，则需要进一步从当前周期的第一功能块队列中选择出目标第一功能块，并将目标第一功能块进一步进行划分为多个能够并行执行的子功能块，从而得到第二功能块队列。第二功能块队列在执行目标第一功能块时，能够并行执行目标第一功能块的多个子功能块，从而缩短目标第一功能块的执行时间，使得第二功能块队列运行的总时间在预设时长内，避免影响后续其他周期的正常运行。本实施例中，由于5G物理层处理的数据量较大，5G物理层一般运行在多核处理器上，当一个TTI内需要执行的第一功能块队列，在处理器的单核上的执行时间超过预设时长时，对处理器多个核进行合理分配也是任务调度的关键。本实施例中，在确定出需要对第一功能块队列中的目标第一功能块的功能进行分割后，则进一步从当前TTI的第一功能块队列中选择出目标第一功能块，并将目标第一功能块进一步进行划分为多个能够并行执行的子功能块，得到第二功能块队列。第二功能块队列在执行目标第一功能块时，能够利用处理器的多个核并行执行目标第一功能块的多个子功能块，从而缩短目标第一功能块的执行时间，使得第二功能块队列运行的总时间在预设时长内，从而避免影响后续TTI的功能。在上述实施例的基础上，步骤104对目标第一功能块的功能进行分割，包括：步骤1041、根据每个第一功能块在执行相对应的功能时所消耗的时间从大到小，对第一功能块进行排序，得到排列顺序。本实施例在对目标第一功能块进行划分时，首先根据每个第一功能块在处理器的单核上执行相对应的功能时所消耗的时间，从大到小对第一功能块进行排序，得到排列顺序。步骤1042、令i=1，对第一功能块队列执行功能块分割步骤，功能块分割步骤包括：根据在排列顺序中的第i个第一功能块确定第i个目标第一功能块，将第i个目标第一功能块划分为多个并行执行的子功能块。在得到排列顺序后，根据排列顺序中排列在第一个的第一功能块，在第一功能块队列中将该第一功能块作为第一个目标第一功能块。例如当第一功能块队列中的dl_F2在排列顺序中排在第一位时，则在第一功能块队列中将dl_F2作为第一个目标第一功能块，并将dl_F2进行分割成多个并行执行的子功能块dl_F2a、dl_F2b、dl_F2c以及dl_F2d，如图5所示。另外，在将目标第一功能块分割成多个并行执行的子功能块时，子功能块的数量需要根据当前5G物理层的处理器的核数和负荷情况，以及外部第三方协助处理器的负荷情况加权后确定，即目标第一功能块的子功能块的数量并非都等于当前5G物理层的处理器的核数。在上述实施例的基础上，步骤1042中将第i个目标第一功能块划分为多个并行执行的子功能块，包括：步骤10421、确定5G物理层所使用的处理器的负荷率和核数、以及外部第三方协助处理器的负荷率。在对每个目标第一功能块的功能进行分割时，首先需要确定出述5G物理层所使用的处理器的核数以及当前的负荷率，同时确定出第三方协助处理器当前的负荷率。步骤10422、计算5G物理层所使用的处理器的负荷率与外部第三方协助处理器的负荷率之和，得到第一负荷率。之后，将5G物理层所使用的处理器的负荷率与外部第三方协助处理器的负荷率相加，得到第一负荷率。步骤10423、当第一负荷率之和小于等于第一数值时，确定并行执行的子功能块的第一数量为处理器的核数的第一百分比。若第一负荷率之和小于等于第一数值，确定并行执行的子功能块的第一数量为处理器的核数的第一百分比。示例性的，第一数值可以设置为30%，第一百分比可以设置为50%，即第一负荷率之和小于等于30%时，子功能块的第一数量为处理器的核数的50%。步骤10424、当第一负荷率之和大于第一数值小于等于第二数值时，确定并行执行的子功能块的第一数量为处理器的核数的第二百分比。若第一负荷率之和大于第一数值小于等于第二数值时，确定并行执行的子功能块的第一数量为处理器的核数的第二百分比。示例性的，第二数值可以设置为60%，第二百分比可以设置为80%，即第一负荷率之和大于30%小于等于60%时，子功能块的第一数量为处理器的核数的80%。步骤10425、当第一负荷率之和大于第二数值时，确定并行执行的子功能块的第一数量为处理器的核数的第三百分比。若第一负荷率之和大于第二数值时，确定并行执行的子功能块的第一数量为处理器的核数的第三百分比。示例性的，第三百分比可以设置为100%，即第一负荷率之和大于60%时，子功能块的第一数量等于处理器的核数。综上，可知目标第一功能块所划分的子功能块的第一数量的计算公式如下所示：其中，Num为子功能块的第一数量，loadrate1为当前进程处理器的负荷率，loadrate2为当前外部第三方协助处理器的负荷率，PhyCpuNum为处理器的核数。步骤10426、将第i个目标第一功能块划分为第一数量个子功能块。之后，在第一功能块队列中将之前所选取出的第i个目标第一功能块划分为第一数量个子功能块即可。步骤1043、判断执行功能块分割步骤后的第一功能块队列在处理任务时所消耗的总时间是否超过预设时长。在对选取出的第i个目标第一功能块划分为多个子功能块后，进一步判断对第i个目标第一功能块划分后的第一功能块队列，在处理任务时所消耗的总时间是否依旧超过预设时长。步骤1044、若是，令i=i+1，继续对执行功能块分割步骤后的第一功能块队列执行功能块分割步骤；反之，完成对目标第一功能块的功能进行分割。如果确定对第i个目标第一功能块分割后的第一功能块队列在处理任务时所消耗的总时间，依旧超过预设时长。则令i=i+1，继续对第一功能块队列执行功能块分割步骤。例如，在对第一功能块队列中的第一个目标第一功能块进行分割后，如果执行一次功能块分割步骤后的第一功能块队列处理任务时所消耗的总时间依旧超过预设时长，则继续根据排列顺序中排列在第二个的第一功能块，在执行一次功能块分割步骤后的第一功能块队列中，将该功能块作为第二个目标第一功能块，继续对第二个目标第一功能块进行分割，之后再确定执行两次功能块分割步骤后的第一功能块队列所消耗的总时间是否超过预设时长；若是，再继续选取出第三个目标第一功能块，并对第三个目标第一功能块进行分割，直至第一功能块队列所消耗的总时间小于等于预设时长为止，从而得到第二功能块队列。一个实施例中，不同TTI内的第二功能块队列如图6所示。步骤105、将与任务相对应的数据输入至第二功能块队列中进行处理，以使第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，第二功能块包括第一功能块和目标第一功能块。在得到当前TTI的第二功能块队列后，即可将当前TTI内所需要处理的任务相对应的数据输入至第二功能块队列中，使得第二功能块队列对数据进行处理从而完成任务。具体的，在将数据输入至第二功能块队列中后，第二功能块队列中的每个第二功能块在接收到上游产生的数据流时，即可立刻对数据流进行处理，不需要等待上游的第二功能块对所有数据处理完后才开始执行。同时，每个第二功能块在数据流进行处理的过程时，自身所生成的数据流也会立即输出到下游的第二功能块中，从而驱动下游的第二功能块对接收到的数据流进行处理。本实施例利用数据流来驱动第二功能块的方式，能够大大提高处理器资源的利用率，从而更高效地执行物理层的功能，提高了5g物理层对任务进行处理的效率。在上述实施例的基础上，步骤105中将与任务相对应的数据输入至第二功能块队列中进行处理，以使第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，包括：步骤1051、将与任务相对应的数据输入至第二功能块队列中，通过第二功能块队列中的第一个第二功能块依次对数据中的OFDM符号进行处理，将对每个OFDM符号进行处理后所产生的数据流输出至下游的第二功能块，以使下游的第二功能块在接收到上游的第二功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流继续输出至下游的第二功能块，直至最后一个第二功能块输出处理结果为止。具体的，在将任务相对应的数据输入至第二功能块队列后，第二功能块队列中的第一个第二功能块依次对数据中的OFDM符号进行处理，，第一个第二功能块对数据中的第一个OFDM符号进行处理后，即可开始生成数据流并输出给下一个第二功能块，下一个第二功能块在接收到数据流后即可启动并根据自身的功能对接收到的数据进行处理，处理后所产生的数据流继续输出至下游的第二功能块，直至最后一个第二功能块输出处理为止，如此循环往复地驱动该TTI的所有第二功能块的运行，如图7所示，该TTI执行完成后，即可继续执行下一个TTI。上述，本发明实施例通过对5G物理层中上行信道相对应的功能以及下行信道相对应的功能划分为多个功能块后，根据每个周期内所需要处理的任务选择相对应的第一功能块并构建第一功能块队列。当第一功能块队列的运行时间超过预设时长时，则进一步对第一功能块内的目标第一功能块进行划分，得到第二功能块队列，并在第二功能块队列的运行过程中，通过数据流驱动第二功能块队列中的每个第二功能块运行。本实施例利用数据流来驱动第二功能块的方式，能够大大提高处理器资源的利用率，从而更高效地执行物理层的功能，提高了5g物理层对任务进行处理的效率，解决了现有技术在5G通信过程中，物理层处理任务的效率低下的技术问题。如图8所示，图8为本发明实施例提供的另一种5g物理层的任务处理方法的流程示意图，包括：步骤201、对5G物理层中上行信道相对应的功能以及下行信道相对应的功能进行划分，得到多个功能块；步骤202、根据当前周期所需要处理的任务，从多个功能块中确定出相对应的第一功能块，根据第一功能块构建第一功能块队列；步骤203、判断是否需要对第一功能块队列中的目标第一功能块的功能进行分割；步骤204、响应于需要进行分割的判断结果，对目标第一功能块的功能进行分割，得到第二功能块队列；步骤205、将与任务相对应的数据输入至第二功能块队列中进行处理，以使第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，第二功能块包括第一功能块和目标第一功能块。步骤206、响应于不需要进行分割的判断结果，将与任务相对应的数据输入至第一功能块队列中进行处理，以使第一功能块队列中的每个第一功能块在接收到上游的第一功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流输出至下游的第一功能块。在本实施例中，当第一功能块队列在处理任务时所消耗的总时间，没有超过预设时长，则不需要对第一功能块队列中的第一功能块进行分割，直接将当前TTI所需要处理的任务相对应的数据输入至第一功能块队列中进行处理即可。第一功能块队列对数据进行处理的方式与第二功能块队列的方式类似，通过利用数据流来驱动第一功能块运行从而对数据进行数据，具体过程可参考上述第二功能块队列的运行过程，在本实施例中不再赘述。可理解，在本实施例中，步骤206执行时，步骤204~步骤205不必执行，步骤204~步骤205执行时，步骤206不必执行。在上述实施例的基础上，还包括：步骤207、若第二功能块队列或第一功能块队列处理任务的时间超过预设时长时，将第二功能块队列或第一功能块队列所占用的资源进行回收，并执行下一个第一功能块队列或下一个第二功能块队列，以使下一个第一功能块队列或下一个第二功能块队列处理与下一个周期相对应的任务。在本实施例中，为了保证系统的可靠性，当某个TTI的第二功能块队列或第一功能块队列处理任务的时间超过Trun时，那么系统自动将该TTI的第二功能块队列或第一功能块队列所占用的资源进行回收，包括占用的硬件资源，内存以及处理器等系统资源。同时复位准备好相应的硬件资源模块并使程序计数指针指向下一个TTI的第一功能块队列或下一个第二功能块队列，确保每次由于硬件故障或软件运行异常时，不会影响下个TTI的执行，保证整个物理层的正常运行，降低了由于异常而导致系统崩溃等问题出现的概率。另外，需要说明的是，对于与下行信道相对应的第一功能块队列dl_TaskQueue或上行信道相对应的第一功能块队列ul_TaskQueue，M的取值与系统的硬件资源相关，M的取值如果太小，会造成TTI的下行信道或上行信道的功能被覆盖得不到执行，太大就会浪费内存空间，M的取值计算表达式为：其中，u为子载波间隔，取值为0~4。处理器的核数越多，M值就可以越小，即可以占用较少的内存，u值越大，M值就越大，即需要更多的内存作为缓存队列。上述，本发明实施例通过对5G物理层中上行信道相对应的功能以及下行信道相对应的功能划分为多个功能块后，根据每个周期内所需要处理的任务选择相对应的第一功能块并构建第一功能块队列，并在第一功能块队列的运行过程中，通过数据流驱动第一功能块队列中的每个第一功能块运行。本实施例利用数据流来驱动第一功能块的方式，能够大大提高处理器资源的利用率，从而更高效地执行物理层的功能，提高了5g物理层对任务进行处理的效率，解决了现有技术在5G通信过程中，物理层处理任务的效率低下的技术问题。如图9所示，图9为本发明实施例提供的一种5g物理层的任务处理装置，包括：功能划分模块301，用于对5G物理层中上行信道相对应的功能以及下行信道相对应的功能进行划分，得到多个功能块；队列构建模块302，用于根据当前周期所需要处理的任务，从多个功能块中确定出相对应的第一功能块，根据第一功能块构建第一功能块队列；分割判断模块303，用于判断是否需要对第一功能块队列中的目标第一功能块的功能进行分割；分割模块304，用于响应于需要进行分割的判断结果，对目标第一功能块的功能进行分割，得到第二功能块队列；第一任务执行模块305，用于将与任务相对应的数据输入至第二功能块队列中进行处理，以使第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，第二功能块包括第一功能块和目标第一功能块。在上述实施例的基础上，分割判断模块303具体用于获取第一功能块队列中每个第一功能块在执行相对应的功能时，所消耗的时间；根据每个第一功能块所消耗的时间，计算第一功能块队列在处理任务时所消耗的总时间；确定总时间超过预设时长时，确定对目标第一功能块的功能进行分割。在上述实施例的基础上，分割模块304具体用于根据每个第一功能块在执行相对应的功能时所消耗的时间从大到小，对第一功能块进行排序，得到排列顺序；令i=1，对第一功能块队列执行功能块分割步骤，功能块分割步骤包括：根据在排列顺序中的第i个第一功能块确定第i个目标第一功能块，将第i个目标第一功能块划分为多个并行执行的子功能块；判断执行功能块分割步骤后的第一功能块队列在处理任务时所消耗的总时间是否超过预设时长；若是，令i=i+1，继续对执行功能块分割步骤后的第一功能块队列执行功能块分割步骤；反之，完成对目标第一功能块的功能进行分割。在上述实施例的基础上，分割模块304具体用于确定5G物理层所使用的处理器的负荷率和核数、以及外部第三方协助处理器的负荷率；计算5G物理层所使用的处理器的负荷率与外部第三方协助处理器的负荷率之和，得到第一负荷率；当第一负荷率之和小于等于第一数值时，确定并行执行的子功能块的第一数量为处理器的核数的第一百分比；当第一负荷率之和大于第一数值小于等于第二数值时，确定并行执行的子功能块的第一数量为处理器的核数的第二百分比；当第一负荷率之和大于第二数值时，确定并行执行的子功能块的第一数量为处理器的核数的第三百分比；将第i个目标第一功能块划分为第一数量个子功能块。在上述实施例的基础上，第一任务执行模块305具体用于将与任务相对应的数据输入至第二功能块队列中，通过第二功能块队列中的第一个第二功能块依次对数据中的OFDM符号进行处理，将对每个OFDM符号进行处理后所产生的数据流输出至下游的第二功能块，以使下游的第二功能块在接收到上游的第二功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流继续输出至下游的第二功能块，直至最后一个第二功能块输出处理结果为止。在上述实施例的基础上，还包括第二任务执行模块，用于响应于不需要进行分割的判断结果，将与任务相对应的数据输入至第一功能块队列中进行处理，以使第一功能块队列中的每个第一功能块在接收到上游的第一功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流输出至下游的第一功能块。在上述实施例的基础上，还包括资源回收模块，用于若第二功能块队列或第一功能块队列处理任务的时间超过预设时长时，将第二功能块队列或第一功能块队列所占用的资源进行回收，并执行下一个第一功能块队列或下一个第二功能块队列，以使下一个第一功能块队列或下一个第二功能块队列处理与下一个周期相对应的任务。本实施例还提供了一种5g物理层的任务处理设备40，如图10所示，所述5g物理层的任务处理设备包括处理器400以及存储器401；所述存储器401用于存储计算机程序402，并将所述计算机程序402传输给所述处理器；所述处理器400用于根据所述计算机程序402中的指令执行上述的一种5g物理层的任务处理方法实施例中的步骤。示例性的，所述计算机程序402可以被分割成一个或多个模块/单元，所述一个或者多个模块/单元被存储在所述存储器401中，并由所述处理器400执行，以完成本申请。所述一个或多个模块/单元可以是能够完成特定功能的一系列计算机程序指令段，该指令段用于描述所述计算机程序402在所述5g物理层的任务处理设备40中的执行过程。所述5g物理层的任务处理设备40可以是桌上型计算机、笔记本、掌上电脑及云端服务器等计算设备。所述5g物理层的任务处理设备40可包括，但不仅限于，处理器400、存储器401。本领域技术人员可以理解，图10仅仅是5g物理层的任务处理设备40的示例，并不构成对5g物理层的任务处理设备40的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如所述5g物理层的任务处理设备40还可以包括输入输出设备、网络接入设备、总线等。所称处理器400可以是中央处理单元，还可以是其他通用处理器、数字信号处理器 、专用集成电路、现成可编程门阵列  或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。所述存储器401可以是所述5g物理层的任务处理设备40的内部存储单元，例如5g物理层的任务处理设备40的硬盘或内存。所述存储器401也可以是所述5g物理层的任务处理设备40的外部存储设备，例如所述5g物理层的任务处理设备40上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，所述存储器401还可以既包括所述5g物理层的任务处理设备40的内部存储单元也包括外部存储设备。所述存储器401用于存储所述计算机程序以及所述5g物理层的任务处理设备40所需的其他程序和数据。所述存储器401还可以用于暂时地存储已经输出或者将要输出的数据。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统，装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本申请所提供的几个实施例中，应该理解到，所揭露的系统，装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储计算机程序的介质。本发明实施例还提供一种包含计算机可执行指令的存储介质，所述计算机可执行指令在由计算机处理器执行时用于执行一种5g物理层的任务处理方法，该方法包括以下步骤：对5G物理层中上行信道相对应的功能以及下行信道相对应的功能进行划分，得到多个功能块；根据当前周期所需要处理的任务，从多个功能块中确定出相对应的第一功能块，根据第一功能块构建第一功能块队列；判断是否需要对第一功能块队列中的目标第一功能块的功能进行分割；响应于需要进行分割的判断结果，对目标第一功能块的功能进行分割，得到第二功能块队列；将与任务相对应的数据输入至第二功能块队列中进行处理，以使第二功能块队列中的每个第二功能块在接收到上游的第二功能块产生的数据流时，对数据流进行处理，并将处理后所产生的数据流输出至下游的第二功能块，第二功能块包括第一功能块和目标第一功能块。注意，上述仅为本发明实施例的较佳实施例及所运用技术原理。本领域技术人员会理解，本发明实施例不限于这里所述的特定实施例，对本领域技术人员来说能够进行各种明显的变化、重新调整和替代而不会脱离本发明实施例的保护范围。因此，虽然通过以上实施例对本发明实施例进行了较为详细的说明，但是本发明实施例不仅仅限于以上实施例，在不脱离本发明实施例构思的情况下，还可以包括更多其他等效实施例，而本发明实施例的范围由所附的权利要求范围决定。
