标题title
一种联网状态切换方法、装置、车辆、存储介质
摘要abst
本发明公开了一种联网状态切换方法、装置、车辆、存储介质。所述联网状态切换方法，包括：获取车辆的当前定位信息和预先确定的网络信号地图；确定所述网络信号地图上所述当前定位信息的网络信号结果；在网络信号结果和第一车载网络信号匹配时，基于网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果；基于下一网络信号结果确定所述车辆的联网状态切换策略。该方法以网络信号地图作为预估下一网络信号结果的基础，在预测时，基于网络信号地图、当前定位信息和第一车载网络信号验证了网络信号地图确定出的网络信号结果的准确性。通过网络信号结果和车辆导航信息有效的预估了下一网络信号进而缩短了切换的响应时间，加快了切换速度。
权利要求书clms
1.一种联网状态切换方法，其特征在于，包括：获取车辆的当前定位信息和预先确定的网络信号地图；确定所述网络信号地图上所述当前定位信息的网络信号结果；在所述网络信号结果和第一车载网络信号匹配时，基于所述网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果；基于下一网络信号结果确定所述车辆的联网状态切换策略。2.根据权利要求1所述的方法，其特征在于，在获取预先确定的网络信号地图之前，还包括：根据车辆定位信息、第二车载网络信号和地图信息，确定网络信号地图，所述第二车载网络信号为与所述车辆定位信息关联的网络信号。3.根据权利要求2所述的方法,其特征在于,所述根据车辆定位信息、第二车载网络信号和地图信息，确定网络信号地图，包括：获取所述车辆的车辆定位信息和所述车辆定位信息所表征位置处的第二车载网络信号；将所述车辆定位信息的定位标识和所述第二车载网络信号的信号标识分别显示在所述地图信息对应的地图内，得到网络信号地图。4.根据权利要求1所述的方法，其特征在于，基于下一网络信号结果确定所述车辆的联网状态切换策略，包括如下之一：在所述下一网络信号结果指示信号良好时，确定的联网状态切换策略为在线优先；在所述下一网络信号结果指示信号不佳时，确定的联网状态切换策略为仲裁；在所述下一网络信号结果指示无信号时，确定的联网状态切换策略为离线优先；在所述下一网络信号结果指示信号不佳或无信号时，预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略。5.根据权利要求4所述的方法，其特征在于，在确定的联网状态切换策略为仲裁或离线优先后，还包括：预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略。6.根据权利要求4或5所述的方法，其特征在于，所述预判信号持续时长，包括：根据下一网络信号结果、地图信息、车况信息和用户画像中的一个或多个，预判信号持续时长。7.根据权利要求4或5所述的方法，其特征在于，基于预判的信号持续时长确定联网状态切换策略，包括：若所述信号持续时长小于设定时长，则延长切换至离线状态的等待时长；否则，确定的联网状态切换策略为离线优先。8.一种联网状态切换装置，其特征在于，包括：信息获取模块，用于获取车辆的当前定位信息和预先确定的网络信号地图；第一结果确定模块，用于确定所述网络信号地图上所述当前定位信息的网络信号结果；第二结果预估模块，用于在所述网络信号结果和第一车载网络信号匹配时，基于所述网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果；策略确定模块，用于基于下一网络信号结果确定所述车辆的联网状态切换策略。9.一种车辆，其特征在于，所述车辆包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-7中任一项所述的联网状态切换方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储计算机程序，其中，所述计算机程序使得计算机执行权利要求1-7中任一项所述的联网状态切换方法。
说明书desc
技术领域本发明涉及通信技术领域，尤其涉及一种联网状态切换方法、装置、车辆、存储介质。背景技术随着互联网通信技术的快速发展，车载语音助手在车辆中被广泛使用，用户对语音交互的准确率和响应速度的要求也不断提高。现有技术中，车载语音通过超时机制对联网状态进行离线在线切换，即在网络信号良好时优先使用在线能力，在网络信号异常时进入等待状态，超过设定等待时间再切换为离线状态。然而，这种超时机制在网络不稳定时体现为用户等待引起焦虑，而超时之后切换离线状态又加剧了用户体验的不悦。故，如提高车载语音功能联网状态切换的速度是当前亟待解决的技术问题。发明内容本发明提供了一种联网状态切换方法、装置、车辆、存储介质，以解决车载语音功能联网状态切换速度慢的问题。第一方面，本发明实施例提供了一种联网状态切换方法，包括：获取车辆的当前定位信息和预先确定的网络信号地图；确定所述网络信号地图上所述当前定位信息的网络信号结果；在所述网络信号结果和第一车载网络信号匹配时，基于所述网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果；基于下一网络信号结果确定所述车辆的联网状态切换策略。第二方面，本发明实施例提供了一种联网状态切换装置，包括：信息获取模块，用于获取车辆的当前定位信息和预先确定的网络信号地图；第一结果确定模块，用于确定所述网络信号地图上所述当前定位信息的网络信号结果；第二结果预估模块，用于在所述网络信号结果和第一车载网络信号匹配时，基于所述网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果；策略确定模块，用于基于下一网络信号结果确定所述车辆的联网状态切换策略。第三方面，本发明实施例提供了一种车辆，所述车辆包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的计算机程序，所述计算机程序被所述至少一个处理器执行，以使所述至少一个处理器能够执行如第一方面所述的方法。第四方面，本发明实施例提供了一种计算机可读存储介质，所述计算机可读存储介质存储计算机程序，所述计算机程序使得计算机执行如第一方面所述的方法。本发明实施例的技术方案，通过网络信号地图、当前定位信息和第一车载网络信号验证了网络信号地图确定出的网络信号结果的准确性，利用网络信号结果和车辆导航信息有效的预估了下一网络信号，提高了车载语音功能联网状态切换的速度。应当理解，本部分所描述的内容并非旨在标识本发明的实施例的关键或重要特征，也不用于限制本发明的范围。本发明的其它特征将通过以下的说明书而变得容易理解。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是根据本发明实施例一提供的一种联网状态切换方法的流程图；图2是根据本发明实施例二提供的一种联网状态切换方法的流程图；图3是根据本发明实施例三提供的一种联网状态切换方法的流程图；图4是根据本发明实施例三提供的一种联网状态切换方法的流程图；图5是根据本发明实施例四提供的一种联网状态切换方法的流程图；图6是根据本发明实施例四提供的一种联网状态切换方法的流程图；图7是根据本发明实施例五提供的一种联网状态切换装置的结构示意图；图8是实现本发明实施例的联网状态切换方法的车辆的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本发明方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分的实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。可以理解的是，在使用本发明各实施例公开的技术方案之前，均应当依据相关法律法规通过恰当的方式对本公开所涉及个人信息的类型、使用范围以及使用场景等告知用户并获得用户的授权。实施例一图1为本发明实施例一提供的一种联网状态切换方法的流程图，本实施例可适用于车载语音交互时联网状态切换的情况，该方法可以由联网状态切换装置来执行，该联网状态切换装置可以采用软件和/或硬件的形式实现，该联网状态切换装置可配置于车辆中。对车辆的类型不作限定，如可以是机动车。如图1所示，该方法包括：S110、获取车辆的当前定位信息和预先确定的网络信号地图。其中，车辆的当前定位信息可以是指能够表征车辆当前位置的信息。车辆的定位信息的具体形式不作限定，可以是包括但不限于车辆的地理位置、处在该位置的时刻和处在该位置的对象。车辆的当前定位信息的获取方式此处不作限定，如车辆可以通过全球定位系统获取车辆的当前定位信息；又如，车辆可以通过激光雷达定位技术获取车辆的当前定位信息。在一个实施例中，车辆可以通过全球定位系统获取车辆的当前定位信息。其中，全球定位系统可以是由三个独立的部分组成，即空间星座部分、地面监控部分和用户设备部分。空间星座部分可以是由21颗工作卫星与3颗备用卫星组成，24颗卫星分布在6个轨道上，每一个轨道上不均匀分布着4颗卫星，卫星接收从地面监控部分发射的导航信息，执行控制指令，通过推进器调整自身的运行；地面监控部分可以是由分布在全球的1个主控站，6个监控站，4个注入站组成，负责发送调整卫星轨道的命令，确保卫星按预定的轨道运行；用户设备可以是由接收机硬件、数据处理软件、微处理机与终端设备组成，负责对接收到的卫星无线信号进行处理，计算出定位信息与导航信息，用户设备可以是指车辆中的导航设备。在一个实施例中，车辆可以通过激光雷达定位技术获取车辆的当前定位信息。在定位之前，需要通过录制环境点云信息得到该区域的点云图，其中，点云可以是指反映目标表面特性的海量点的集合；而后当车辆位于该区域中的某一位置时，将通过车载激光雷达得到的单帧点云数据与点云图进行匹配，若环境不发生较大变化，均能在点云图中找到最佳匹配位点，该位点对应的坐标即为车辆的当前定位信息。网络信号地图可以是显示有车载网络信号的地图。车载网络信号可以认为是车辆的网络信号，车载网络信号可以表征车辆是否有网。在网络信号地图的构建阶段基于第二车载网络信号构建网络信号地图；在网络信号地图的应用阶段，基于第一车载网络信号验证网络信号地图上显示的第二车载网络信号。其中，第二车载网络信号是相对第一车载网络信号而言的，第一车载网络信号可以是指车辆在当前定位信息下通过测量得到的车辆实际的网络信号状态。网络信号地图中的车载网络信号和定位信息相关联。如第一车载网络信号和车辆定位信息相关联，第一车载网络信号可以为车辆定位信息所对应位置处的网络信号。网络信号地图构建时还可以结合地图信息和车辆的定位信息。地图信息可以是指地图上所反映出的地理信息，以及关于地图制作的相关信息，是一种特殊的图解信息，是地图上所表示地物或现象的时-空状态和组合存在方式及关于这种状态和方式的广义知识。网络信号地图的预先确定方式此处不作限定，如可以是通过用户驾驶或实车道路测试等方式收集而来的真实数据，确定车辆定位信息和车载网络信号，再将地图信息加入，使得网络信号的强弱与道路等信息绑定；又如，可以是汽车运营商在汽车生产时将网络信号地图上传至车载服务器并保存。同一运营商可以对应一幅网络信号地图，或者同一车辆厂家可以对应一幅网络信号地图。预先确定的网络信号地图的获取方式此处不作限定，如车辆向车载服务器请求查询网络信号地图，车载服务器在收到请求后将保存的网络信号地图反馈给车辆；又如，车辆基于车辆定位信息、第二车载网络信号和地图信息确定专属于本车的网络信号地图。其中，服务器确定的网络信号地图可以为汇总了所有车辆的车辆定位信息和第二车载网络信号，然后将所有车辆定位信息和对应的第二车载网络信号标注在地图上形成网络信号地图。车辆定位信息和第二车载网络信号是对应的关系，每个车辆定位信息可以有所对应的第二车载网络信号，用于表征在车辆定位信息对应位置处车辆的网络信号。S120、确定网络信号地图上当前定位信息的网络信号结果。网络信号地图上当前定位信息的网络信号结果可以是指在网络信号地图上能够反映当前定位信息的网络信号状态的结果，如可以是良好、不佳或无信号等。网络信号地图上当前定位信息的网络信号结果的确定方式此处不作限定，只要能够反映当前定位信息的网络信号状态即可。如，车辆通过当前定位信息，向车载服务器请求查询当前定位信息在网络信号地图上对应的网络信号状态，车载服务器在收到请求后将网络信号地图上对应的网络信号状态反馈给车辆；又如，车辆本地获取到网络信号地图后，基于当前定位信息查询网络信号地图在该当前定位信息处的网络信号结果。由于构建网络信号地图时是基于车辆定位信息和第二车载网络信号构建的，故在查询时，能够查询到当前定位信息处的网络信号结果。网络信号结果可以认为是网络信号地图上呈现的车辆当前的网络信号。S130、在网络信号结果和第一车载网络信号匹配时，基于网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果。第一车载网络信号可以是指车辆在当前定位信息下通过测量得到的车辆实际的网络信号状态，如可以是良好、不佳或无信号等。车辆导航信息可以是指基于车辆导航系统，通过设置起点和终点为车辆规划行驶路径的导航信息。下一时刻的下一网络信号结果可以是指车辆在下一时刻的下一网络信号状态的结果，如可以是良好、不佳或无信号等。下一时刻的下一网络信号结果是相对网络信号结果而言的，网络信号结果是反映当前的网络信号状态的结果，下一时刻的下一网络信号结果是反映下一时刻的网络信号状态的结果。网络信号结果和第一车载网络信号匹配可以理解为，在网络信号地图上能够反映当前定位信息的网络信号状态的结果与车辆在当前定位信息下实际的网络信号状态的结果一致，如可以是均为良好、不佳或无信号等。在一个实施例中，网络信号结果和第一车载网络信号匹配，则网络信号结果生效，再基于网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果。在一个实施例中，网络信号结果和第一车载网络信号不匹配，如网络信号结果为信号良好，第一车载网络信号为信号不佳，则网络信号结果不生效，将网络信号结果和第一车载网络信号不匹配的信息上报服务器。此处不对服务器的处理策略进行限定。基于网络信号结果和车辆导航信息，对下一时刻的下一网络信号结果的预估方式此处不作限定，如，可以根据车辆导航信息，确定下一时刻的定位信息，然后确定网络信号地图内下一时刻的定位信息所对应的下一网络信号结果。在确定下一网络信号结果时，也可以结合车辆的车况信息确定。车况信息可以为表征车辆行驶状况的信息，包括车辆的速度和档位等信息。S140、基于下一网络信号结果确定车辆的联网状态切换策略。车辆的联网状态切换策略可以是指能够实现车辆的联网状态切换的方案集合，其中，与联网状态切换有关的配置、权限、数据等都可以包括在这个策略中，并按照策略所制定的方法和规则去做。通过下一网络信号结果确定车辆的联网状态切换策略的方式此处不作限定，只要能够确定车辆的联网状态切换策略即可。联网状态切换策略可以包括在线优先、离线优先和仲裁。不同的下一网络信号结果可以对应有不同的联网状态切换策略，此处不对具体对应关系进行限定。其中，在线优先可以是指优先使用在线反馈的结果。仲裁可以是指同步请求在线和离线结果，若车辆接收到在线反馈的结果的时间短于离线反馈的结果的时间，则使用在线反馈的结果；若车辆接收到在线反馈的结果的时间长于离线反馈的结果的时间，则使用离线反馈的结果；若车辆接收到在线反馈的结果的时间等于离线反馈的结果的时间，则可以使用在线反馈的结果或离线反馈的结果。离线优先可以是指优先使用离线反馈的结果，不等待或不请求在线结果。本发明实施例的技术方案，通过将车辆定位信息和网络信号地图相结合得到网络信号结果，并根据网络信号结果和车辆导航信息对车辆下一时刻的下一网络信号结果进行预估，提高了车载语音功能联网状态切换的速度。实施例二图2为本发明实施例二提供的一种联网状态切换方法的流程图，本实施例是在上述实施例一的基础上，在获取预先确定的网络信号地图之前，还具体包括：根据车辆定位信息、第二车载网络信号和地图信息，确定网络信号地图，第二车载网络信号为与车辆定位信息关联的网络信号。如图2所示，该方法包括：S100、根据车辆定位信息、第二车载网络信号和地图信息，确定网络信号地图，第二车载网络信号为与车辆定位信息关联的网络信号。其中，车辆定位信息可以是指能够表征车辆位置的信息。在本发明中车辆定位信息可以是在网络信号地图构建阶段车辆的定位信息。当前定位信息可以认为是联网状态切换的过程中车辆的定位信息。第二车载网络信号可以是指与车辆定位信息关联的网络信号，如可以是提前通过测量得到的与车辆定位信息关联的网络信号并保存在数据库中，在需要时向数据库请求查询与车辆定位信息关联的网络信号。根据车辆定位信息、第二车载网络信号和地图信息，确定网络信号地图的方式此处不作限定，如可以是通过用户驾驶或实车道路测试等方式收集而来的真实数据确定车辆定位信息和第二车载网络信号，再将地图信息加入，得到网络信号地图。进一步的，根据车辆定位信息、第二车载网络信号和地图信息，确定网络信号地图，具体包括：获取车辆的车辆定位信息和车辆定位信息所表征位置处的第二车载网络信号；将车辆定位信息的定位标识和第二车载网络信号的信号标识分别显示在地图信息对应的地图内，得到网络信号地图。其中，车辆定位信息所表征位置处的第二车载网络信号可以是指车辆在车辆定位信息所表征位置处的网络信号。车辆定位信息的定位标识可以是指能够通过特定的标签在地图上找到车辆的位置的标识。第二车载网络信号的信号标识可以是指能够通过特定的标签在地图上找到车辆的网络信号的标识。车辆定位信息的定位标识的具体形式不作限定，只要能够表征车辆在地图上的位置即可。如可以是带有指向方向的箭头，又如，可以是倒三角形等。第二车载网络信号的信号标识的具体形式不作限定，只要能够表征车辆在地图上的网络信号状态即可，如可以用文字或图形的形式在地图上标注网络信号良好或不佳等。车辆定位信息的定位标识与第二车载网络信号的信号标识不同，以便区分车辆的定位信息与网络信号状态。通过获取车辆的车辆定位信息和车辆定位信息所表征位置处的第二车载网络信号，并将车辆定位信息的定位标识和第二车载网络信号的信号标识分别显示在地图信息对应的地图内，即得到网络信号地图。S110、获取车辆的当前定位信息和预先确定的网络信号地图。S120、确定网络信号地图上当前定位信息的网络信号结果。S130、在网络信号结果和第一车载网络信号匹配时，基于网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果。S140、基于下一网络信号结果确定车辆的联网状态切换策略。本发明实施例的技术方案，通过车辆定位信息、第二车载网络信号和地图信息，确定网络信号地图，使得网络信号的强弱与道路等信息绑定，便于车辆在不同的位置下网络状态的及时切换。实施例三图3为本发明实施例三提供的一种联网状态切换方法的流程图，本实施例是在上述实施例一的基础上，对基于下一网络信号结果确定车辆的联网状态切换策略的细化，如图3所示，该方法包括：S110、获取车辆的当前定位信息和预先确定的网络信号地图。S120、确定网络信号地图上当前定位信息的网络信号结果。S130、在网络信号结果和第一车载网络信号匹配时，基于网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果。S141、在下一网络信号结果指示信号良好时，确定的联网状态切换策略为在线优先，结束操作。S142、在下一网络信号结果指示信号不佳时，确定的联网状态切换策略为仲裁，结束操作。S143、在下一网络信号结果指示无信号时，确定的联网状态切换策略为离线优先，结束操作。S144、在下一网络信号结果指示信号不佳或无信号时，预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略，结束操作。其中，下一网络信号结果可以包括但不限于信号良好、信号不佳或无信号。下一网络信号结果可以由S130预估得到。本实施例中S141、S142、S143和S144的各步骤可以择一执行。确定的联网状态切换策略可以包括但不限于在线优先、仲裁、离线优先、或预判信号持续时长并基于预判的信号持续时长确定联网状态切换策略。其中，信号持续时长可以是指车辆的网络信号状态持续不变的时长。基于预判的信号持续时长确定联网状态切换策略可以理解为，判断信号持续的时长，若超过设定时长，可以为一种联网状态切换策略，若未超过设定时长，可以为另一种联网状态切换策略。设定时长可以为根据实际情况设置的时长，用于与信号持续时长相比较进而判断联网状态切换策略。在一个实施例中，预判信号持续时长并基于预判的信号持续时长确定联网状态切换策略。若信号持续时长超过设定时长，可以使用离线优先；若信号持续时长未超过设定时长，可以使用在线优先。当下一网络信号结果指示信号良好时，确定的联网状态切换策略为在线优先，优先使用在线反馈的结果；当下一网络信号结果指示信号不佳时，确定的联网状态切换策略为仲裁，同步请求在线和离线结果，若车辆接收到在线反馈的结果的时间短于离线反馈的结果的时间，则使用在线反馈的结果，若车辆接收到在线反馈的结果的时间长于离线反馈的结果的时间，则使用离线反馈的结果，若车辆接收到在线反馈的结果的时间等于离线反馈的结果的时间，则可以使用在线反馈的结果或离线反馈的结果；当下一网络信号结果指示无信号时，确定的联网状态切换策略为离线优先，优先使用离线反馈的结果；当下一网络信号结果指示信号不佳或无信号时，预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略。在一个实施例中，提供了一种联网状态切换方法的流程图，如图4所示，该方法可以包括：S210、网络信号结果和第一车载网络信号匹配，结合车辆导航信息预估下一网络信号结果。S220、信号良好，确定的联网状态切换策略为在线优先，结束操作。S230、信号不佳，确定的联网状态切换策略为仲裁，结束操作。S240、无信号，确定的联网状态切换策略为离线优先，结束操作。S250、未知，录入网络信号地图，结束操作。其中，下一网络信号结果指示未知，可以理解为，预先确定的网络信号地图中未记录车辆定位信息、第二车载网络信号、地图信息中的一个或多个。当下一网络信号结果指示未知时，录入网络信号地图可以理解为将车辆定位信息和对应的第二车载网络信号标注在地图上形成网络信号地图。车辆定位信息和第二车载网络信号是对应的关系，第二车载网络信号用于表征在车辆定位信息对应位置处车辆的网络信号。本发明实施例的技术方案，通过下一网络信号结果确定相应的联网状态切换策略，可以在网络信号不稳定时对联网状态切换提前预判，减少用户语音交互时因为网络不稳定等待的时长，提高了车载语音功能联网状态切换的速度。实施例四图5为本发明实施例四提供的一种联网状态切换方法的流程图，本实施例是在上述实施例三的基础上，在确定的联网状态切换策略为仲裁或离线优先后，还包括：预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略。如图5所示，该方法包括：S110、获取车辆的当前定位信息和预先确定的网络信号地图。S120、确定网络信号地图上当前定位信息的网络信号结果。S130、在网络信号结果和第一车载网络信号匹配时，基于网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果。S141、在下一网络信号结果指示信号良好时，确定的联网状态切换策略为在线优先，结束操作。S142、在下一网络信号结果指示信号不佳时，确定的联网状态切换策略为仲裁，执行S150。S143、在下一网络信号结果指示无信号时，确定的联网状态切换策略为离线优先，执行S150。S144、在下一网络信号结果指示信号不佳或无信号时，预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略，结束操作。S150、预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略。在确定的联网状态切换策略为仲裁后,预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略，可以理解为先通过仲裁确定联网状态切换策略，再预判信号持续时长，并基于预判的信号持续时长再次确定联网状态切换策略。在下一网络信号结果指示信号不佳时，若基于预判的信号持续时长确定出的联网状态切换策略早于仲裁确定出的联网状态切换策略，则直接使用基于预判的信号持续时长确定出的联网状态切换策略。若仲裁确定出的联网状态切换策略早于基于预判的信号持续时长确定出的联网状态切换策略，则可以先使用仲裁确定出的联网状态切换策略，然后在基于预判的信号持续时长确定出联网状态切换策略后，采用基于预判的信号持续时长确定出的联网状态切换策略，或者结合基于预判的信号持续时长确定出的联网状态切换策略和仲裁确定出的联网状态切换策略，确定最终联网状态切换策略，此处不对如何结合确定最终联网状态切换策略的具体操作进行限定，可以基于实际场景确定。在确定的联网状态切换策略为离线优先后,预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略，可以理解为，先确定联网状态切换策略为离线优先，再预判信号持续时长，并基于预判的信号持续时长再次确定联网状态切换策略。进一步的，预判信号持续时长，具体包括：根据下一网络信号结果、地图信息、车况信息和用户画像中的一个或多个，预判信号持续时长。其中，下一网络信号结果可以是指车辆的下一网络信号状态的结果，如可以是良好、不佳或无信号等。车况信息可以是指表征车辆当前所处的状态的信息。用户画像可以是指真实用户的虚拟代表，是建立在一系列属性数据之上的目标用户模型。预判信号持续时长时所涉及的地图信息的具体形式不作限定，如可以是车库、桥洞、偏远地区等能够反映出地理位置的信息。该地图信息可以用于辅助确定信号持续时长。车况信息的具体形式不作限定，只要能够表征车辆当前所处的状态即可。如可以是如车速、档位、行驶情况等。行驶情况可以为车辆在正常使用的过程中的状态表现,如，车辆内机器运行的状况,有无异常,是否满足正常使用要求等。用户画像的具体形式不作限定，只要能够反映用户信息即可。如可以表征用户常用地点和用户常用路线等。根据下一网络信号结果、地图信息、车况信息和用户画像中的一个或多个，预判信号持续时长的方式不作限定，如可以是在车辆中提前输入根据下一网络信号结果、地图信息、车况信息和用户画像中的一个或多个预判信号持续时长的算法，当预判信号持续时长时，根据预先输入的算法处理下一网络信号结果、地图信息、车况信息和用户画像中的一个或多个得到信号持续时长。在一个实施例中，在预判信号持续时长时，可以基于地图信息、车况信息和下一网络信号结果，预判信号持续时长。地图信息用于确定车辆当前所处环境，车况信息用于确定车辆当前的车况。在一个实施例中，在预判信号持续时长时，可以基于地图信息、车况信息、用户画像和下一网络信号结果，预判信号持续时长。其中，用户画像可以认为是用户的标签化数据，在预判信号持续时长时能够使得确定出的信号持续时长更加准确。在一个实施例中，可以根据下一网络信号结果、地图信息、车况信息和用户画像预判信号持续时长。如当下一网络信号结果为信号不佳，地图信息显示车辆当前所在位置，车况信息表明当前车辆静止，用户画像表明车辆当前所在位置为用户常用的地下车库。当下一网络信号结果为信号不佳时，确定的联网状态切换策略为仲裁，再基于下一网络信号结果、地图信息、车况信息和用户画像预判信号持续时长，若信号持续时长大于设定时长，则可以确定联网状态切换策略为离线优先；否则可以延长等待在线结果的时长，即延长超时机制的等待时长，又称离线状态的等待时长。进一步的，基于预判的信号持续时长确定联网状态切换策略，具体包括：若信号持续时长小于设定时长，则延长切换至离线状态的等待时长；否则，确定的联网状态切换策略为离线优先。其中，等待时长可以是指由在线状态切换至离线状态的间隔时间。信号持续时长小于设定时长可以认为下一网络信号结果的信号持续时长较短，则可以是无需求切换至离线优先，延长切换至离线状态的等待时长。信号持续时长不小于设定时长可以认为下一网络信号结果的信号持续时长较长，出于用户体验角度考虑，避免用户等待较长时间，可以使用离线优先的联网状态切换策略。在一个实施例中，提供了一种联网状态切换方法的流程图，如图6所示，该方法可以包括：S310、下一网络信号结果为信号不佳或无信号，结合地图信息、车况信息和用户画像，预判信号持续时长。S320、信号持续时长长，确定的联网状态切换策略为离线优先。S330、信号持续时长短，延长等待在线结果的时长。本发明实施例的技术方案，通过预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略，可以根据不同的实际情况确定不同的联网状态切换策略，提高了车载语音功能联网状态切换的速度。实施例五图7为本发明实施例五提供的一种联网状态切换装置的结构示意图，本实施例可适用于车载语音交互时联网状态切换的情况。如图7所示，该装置的具体结构包括：信息获取模块21，用于获取车辆的当前定位信息和预先确定的网络信号地图；第一结果确定模块22，用于确定网络信号地图上当前定位信息的网络信号结果；第二结果预估模块23，用于在网络信号结果和第一车载网络信号匹配时，基于网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果；策略确定模块24，用于基于下一网络信号结果确定车辆的联网状态切换策略。本实施例提供的联网状态切换装置首先通过信息获取模块21获取车辆的当前定位信息和预先确定的网络信号地图；其次通过第一结果确定模块22确定网络信号地图上当前定位信息的网络信号结果；然后通过第二结果预估模块23在网络信号结果和第一车载网络信号匹配时，基于网络信号结果和车辆导航信息，预估下一时刻的下一网络信号结果；最后通过策略确定模块24基于下一网络信号结果确定车辆的联网状态切换策略。进一步的，该装置还包括：网络信号地图确定模块20，用于在获取预先确定的网络信号地图之前根据车辆定位信息、第二车载网络信号和地图信息，确定网络信号地图，第二车载网络信号为与车辆定位信息关联的网络信号。进一步的，网络信号地图确定模块20具体用于获取车辆的车辆定位信息和车辆定位信息所表征位置处的第二车载网络信号；将车辆定位信息的定位标识和第二车载网络信号的信号标识分别显示在地图信息对应的地图内，得到网络信号地图。进一步的，策略确定模块24具体用于如下之一：在下一网络信号结果指示信号良好时，确定的联网状态切换策略为在线优先；在下一网络信号结果指示信号不佳时，确定的联网状态切换策略为仲裁；在下一网络信号结果指示无信号时，确定的联网状态切换策略为离线优先；在下一网络信号结果指示信号不佳或无信号时，预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略。进一步的，策略确定模块24具体用于在确定的联网状态切换策略为仲裁或离线优先后，预判信号持续时长，并基于预判的信号持续时长确定联网状态切换策略。预判信号持续时长，具体用于根据下一网络信号结果、地图信息、车况信息和用户画像中的一个或多个，预判信号持续时长。基于预判的信号持续时长确定联网状态切换策略，具体用于若信号持续时长小于设定时长，则延长切换至离线状态的等待时长；否则，确定的联网状态切换策略为离线优先。本发明实施例所提供的联网状态切换装置可执行本发明任意实施例所提供的联网状态切换方法，具备执行方法相应的功能模块和有益效果。实施例六图8示出了可以用来实施本发明的实施例的车辆10的结构示意图。对车辆的具体类型不作限定，如可以是机动车、非机动车等，只要能够具有语音功能即可。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本发明的实现。如图8所示，车辆10包括至少一个处理器11，以及与至少一个处理器11通信连接的存储器，如只读存储器12、随机访问存储器13等，其中，存储器存储有可被至少一个处理器执行的计算机程序，处理器11可以根据存储在只读存储器12中的计算机程序或者从存储单元18加载到随机访问存储器13中的计算机程序，来执行各种适当的动作和处理。在RAM 13中，还可存储车辆10操作所需的各种程序和数据。处理器11、ROM12以及RAM 13通过总线14彼此相连。输入/输出接口15也连接至总线14。车辆10中的多个部件连接至I/O接口15，包括：输入单元16，例如键盘、鼠标等；输出单元17，例如各种类型的显示器、扬声器等；存储单元18，例如磁盘、光盘等；以及通信单元19，例如网卡、调制解调器、无线通信收发机等。通信单元19允许车辆10通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。处理器11可以是各种具有处理和计算能力的通用和/或专用处理组件。处理器11的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的处理器、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。处理器11执行上文所描述的各个方法和处理，例如联网状态切换方法。在一些实施例中，联网状态切换方法可被实现为计算机程序，其被有形地包含于计算机可读存储介质，例如存储单元18。在一些实施例中，计算机程序的部分或者全部可以经由ROM 12和/或通信单元19而被载入和/或安装到车辆10上。当计算机程序加载到RAM 13并由处理器11执行时，可以执行上文描述的联网状态切换方法的一个或多个步骤。备选地，在其他实施例中，处理器11可以通过其他任何适当的方式而被配置为执行联网状态切换方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本发明的方法的计算机程序可以采用一个或多个编程语言的任何组合来编写。这些计算机程序可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器，使得计算机程序当由处理器执行时使流程图和/或框图中所规定的功能/操作被实施。计算机程序可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或服务器上执行。在本发明的上下文中，计算机可读存储介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的计算机程序。计算机可读存储介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。备选地，计算机可读存储介质可以是机器可读信号介质。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在车辆上实施此处描述的系统和技术，该车辆具有：用于向用户显示信息的显示装置或者LCD监视器)；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给车辆。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网、区块链网络和互联网。计算系统可以包括客户端和服务器。客户端和服务器一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-服务器关系的计算机程序来产生客户端和服务器的关系。服务器可以是云服务器，又称为云计算服务器或云主机，是云计算服务体系中的一项主机产品，以解决了传统物理主机与VPS服务中，存在的管理难度大，业务扩展性弱的缺陷。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发明中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本发明的技术方案所期望的结果，本文在此不进行限制。上述具体实施方式，并不构成对本发明保护范围的限制。本领域技术人员应该明白的是，根据设计要求和其他因素，可以进行各种修改、组合、子组合和替代。任何在本发明的精神和原则之内所作的修改、等同替换和改进等，均应包含在本发明保护范围之内。
