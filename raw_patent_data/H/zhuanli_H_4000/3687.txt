标题title
一种数字孪生架构、模型评价体系以及模型运行方法
摘要abst
本发明涉及一种数字孪生架构、模型评价体系以及模型运行方法。其数字孪生架构主要包括数据模型交互模块、模型更新模块以及资源调用模块，其中：数据模型交互模块用于将概率模型和仿真模型数据存储到数据池中，模型更新模块用于更新概率模型和仿真模型，资源调用模块用于调用概率模型和仿真模型。本发明可以实现对数字孪生模型层次、功能等物理属性的确立，让通信设备制造商在研发生产物理实体设备的同时，同时对物理实体设备进行仿真建模，研发生产数字孪生模型，通过对虚拟的数字孪生模型进行实验性、甚至破坏性实验，指导验证物理实体设备的研发。
权利要求书clms
1.一种数字孪生架构，其特征在于，包括数据模型交互模块、模型更新模块以及资源调用模块，其中：所述数据模型交互模块用于将概率模型和仿真模型数据存储到数据池中，具体的，所述数据模型交互模块综合考虑异质来源数据，将其分布式双链保密存储到数据池中；所述模型更新模块用于更新概率模型和仿真模型，具体的，所述模型更新模块对模型进行精准评估，根据模型与模型间逻辑执行关系构建不同的有向图，建立模型自动运行机制，实现模型参数的自优自愈；所述资源调用模块用于调用概率模型和仿真模型，具体的，所述资源调用模块从模型、用户信息匹配出发，预测当前环境下模型输出，最后依据存储、网络、计算资源，对模型进行合理分配，最后通过验证该资源分配方案下模型的表现，对模型建立奖惩机制。2.根据权利要求1所述的数字孪生架构，其特征在于，所述数据模型交互模块包括数据接入层、弱中心化层以及区块链层，其中：所述数据接入层存放模型所需四类参数：模型输出中间量、结果，任务需求数据以及提供数据表；所述弱中心化层以各自服务器为中心构建分布式数据库，分为跟节点、第一子节点、第二子节点，所述根节点用于在区块链层与其余服务器交换数据，所述第一子结点用于按照需求模型流向图存放数据，所述第二子节点用于向第一子结点索求数据；所述区块链层中包含授权访问控制、安全防护机制共同构成的数据应用层规范。3.根据权利要求2所述的数字孪生架构，其特征在于，在所述弱中心化层中，由根节点、第一子节点和第二子节点共同确立数字孪生的模型共识机制，具体的：由数字孪生所有者及参与者共同指定根结点；将区域内所有模型部署的虚拟机均设置为第二子节点；通过模型流向图，从第二子节点里筛选出度中心性高的节点作为第一子节点；当第二子节点B有数据改变时，会将数据发送给其归属的第一子节点A，第一子节点A再将第二子节点B的数据信息发送给所有第一子节点，每个第一子节点再向其内所有第二子节点发布第二子节点B的数据信息。4.根据权利要求1所述的数字孪生架构，其特征在于，所述模型更新模块包括模型评估、有向图构建、自动运行机制及模型参数更新，具体的，所述模型评估对模型所需四类参数进行评估，通过模型输入输出关系，在有向图构建中构建需求模型流向图，根据流向图对模型自动运行机制做出选择，最后在模型参数更新层对模型参数进行综合评价。5.根据权利要求4所述的数字孪生架构，其特征在于，所述在有向图构建中构建需求模型流向图具体包括：评估需求，找到模型的最小层级；分析需求对应的不同网络状况随时间的变化规律，并描述不同时间段内不同网络的变化情况，以及网络下最小层级模型的资源变化情况；获取与当前选择网络关联程度最高的两个相似地区物理拓扑，按照拓扑层级关系构建出数字孪生虚拟拓扑；根据构建出的数字孪生虚拟拓扑以及模型的最小层级，找到同层级中计算同样物理特性参数的功能模型，构建功能模型簇；以模型的候选点为基础，依托功能模型簇和功能模型簇之间的模型输入、输出关系构建模型流向图。6.根据权利要求1所述的数字孪生架构，其特征在于，所述资源调用模块包括信息采集、信用计算、分配策略及惩罚机制，具体的，所述信息采集评估需求，信用计算计算当前需求下模型的信用，分配机制根据需求组合模型，得到模型最优集合，当需求结束后，根据反馈意见对模型组合做出奖惩，并存入数据池中。7.根据权利要求6所述的数字孪生架构，其特征在于，所述信用计算计算当前需求下模型的信用具体包括：获取有关该模型所需传送、存储、计算方面的资源需求，若模型不需求其中任一资源，则该资源用0表示，若资源向量中有任一资源超过了模型当前可提供的资源，则认为该模型不适用当前网络环境；获取模型在计算当前任务多个指标时的精确度，若理论上模型精度达不到任务所需要求，则认为模型精度在此网络环境下受限制；当资源需求以及精确度均满足当前网络环境需求时，则计算模型此时的信用标签；其中，模型的信用标签与模型历史时刻的输入输出有关，通过模型历史时刻的输出输入关系，预测在当前网络环境状态下模型的输出，通过比较模型预测输出与任务需求差值，预估模型能满足任务需求的情况，也即求得模型的信用。8.根据权利要求1-7任一所述的数字孪生架构，其特征在于，所述数据池、所述概率模型和所述仿真模型组成基础组件，其中：所述数据池用于存储数字孪生数据，包括以下三类数据：从设备单元直接上报的性能数据；从管控单元上传的业务、配置、告警、故障数据；数字孪生模型运行数据；所述概率模型与所述仿真模型的每个模型都是由低于该层级或者该层级的多个原子级模型组成，每个原子级模型都对应有模型输入与输出。9.一种数字孪生模型评价体系，其特征在于，包括层级特性模块、实例特性模块以及信用模块，其中：所述层级特性模块用于定义数字孪生模型的层级特性，以实现对数字孪生模型物理属性的确立，具体的，所述层级特性模块用于将数字孪生模型分层，包括网络模型层、网元模型层、单盘模型层、模块模型层、器件模型层和材料模型层，每层级按照功能不同分为多种功能模型，每种功能模型的最小颗粒模型为原子级模型，每个需求模型都由多个层级、多个功能模型组合完成；所述实例特性模块用于根据数字孪生构建机理的不同，将数字孪生模型分为概率模型、仿真模型，具体的，所述仿真模型是详细了解物理空间通信设备的内部机理后，通过数学方式将内部机理翻译而成；所述概率模型是当无法了解物理空间通信设备的内部机理时，根据测得的通信设备输入、输出数据，通过对表征数据的建模拟合技术而得到；所述信用模块用于确定数字孪生模型实例化组合过程中，模型在对应模型组合中变现好坏的属性，若变好则信用高，若变坏则信用低，并根据信用的反馈对模型参数进行修正、组合，以使前一个模型在与后一模型组合使用时，减少两者模型因理论/统计带来的计算误差。10.一种数字孪生模型运行方法，其特征在于，包括需求模型流向策略，所述需求模型流向策略为：资源调用层-仿真模型/概率模型-模型更新层-仿真模型/概率模型-资源调用层，其中，资源调用层根据不同场景，选择不同的仿真模型、概率模型组合方案；模型更新层根据资源调用层选择的组合方案，构建有向图，完成用户任务计算，最后将仿真模型、概率模型输出结果反馈到资源调用层。11.根据权利要求10所述的数字孪生模型运行方法，其特征在于，所述资源调用层根据不同场景，选择不同的仿真模型、概率模型组合方案具体包括：评估需求，找到模型的最小层级；根据需求划分层次模型关系，构建物理网络对应的虚拟模型拓扑；根据原子级模型，找到计算同样物理特性参数的模型，构建模型簇。12.根据权利要求11所述的数字孪生模型运行方法，其特征在于，所述模型更新层根据资源调用层选择的组合方案，构建有向图具体包括：根据虚拟模型拓扑中模型输入输出关系构建需求模型流向图。13.一种数字孪生模型运行方法，其特征在于，包括模型实例自动优化策略，具体的：对需求任务指标细化，采用分步分时计算方式，找到能满足任务需求的所有模型集合；根据需求模型流向图，分析流向权重，找到所有集合中最优集合；根据当前环境下，需求反馈的模型运行情况，对需求模型流向图中模型权重进行调整。14.根据权利要求13所述的数字孪生模型运行方法，其特征在于，所述根据需求模型流向图，分析流向权重，找到所有集合中最优集合的过程中，使选取的仿真模型计算参数准度高的同时，能支持尽可能多的任务，且使选取的概率模型使用最少的资源，尽快的满足任务需求。15.根据权利要求14所述的数字孪生模型运行方法，其特征在于，所述根据当前环境下，需求反馈的模型运行情况，对需求模型流向图中模型权重进行调整具体包括：当出现两模型组合使用时，误差累加过大的情况，删除模型之间连线；当出现两模型组合使用时，误差累加偏小或降低前模型误差的情况，增加模型连线之间的权重，并将此模型组合以区块链的形式记录到数据池中。
说明书desc
技术领域本发明涉及通信技术领域，特别是涉及一种数字孪生架构、模型评价体系以及模型运行方法。实现从实映虚，由实控虚，由虚映实，由虚控实，达到孪生世界与真实数据一体同构，相互配合使用的效果。背景技术数字经济的发展需要信息技术和通信技术支撑，行业数字化转型需求也推动传统通信网络架构向“云网融合”架构演进。传统“物理设备加专业网管”模式构建的通信网络架构很难满足各行业“资源随需、管控灵活、安全可靠”的数字化转型需求。而且随着整个社会的信息化进程的不断发展，对网络时延、容量、带宽等需求也呈现快速增长的态势，传统网络面临着大规模、大容量的数据交换、处理等压力。数字孪生源于CPS系统，CPS是集成物理环境、信息网络、运算的多维度复杂系统，经由控制、通信、计算机技术的深度融合及协作，完成自适应控制、全面感知与信息服务供应。其由多种元素组成，包含物理设备和数字组件组成的复杂网络。但CPS属于科学研究范畴，数字孪生是将CPS科学领域带入工业领域的重要桥梁。数字孪生概念最早可追溯到美国国家航空航天局的阿波罗项目，当航天飞船在太空执行各种紧急任务时，地面科学家及维护人员需要与之完全相同的虚拟模型在地面执行监测，预测，提升航天员紧急决策的科学性和准确性。数字孪生是利用数字仿真技术对物理客观实体特征、行为、运行过程、性能表现等进行描述及建模的方法统称。但是在通信技术的智慧光网领域，暂时还没有应用到数字孪生，基于现在传统网络面临着的大规模、大容量的数据交换、处理等压力，如何在通信技术的智慧光网领域使用数字孪生是整个业界都迫切需要解决的问题。发明内容针对现有技术的以上缺陷或改进需求，本发明提供一种数字孪生架构、模型评价体系以及模型运行方法，包括三个新增的数字孪生基本功能模块、一套数字孪生模型评价体系、二种模型运行反馈调度策略，能实现对数字孪生模型层次、功能等物理属性的确立，让通信设备制造商在研发生产物理实体设备的同时，可以对物理实体设备进行仿真建模，研发生产数字孪生模型，通过对虚拟的数字孪生模型进行实验性、甚至破坏性实验，指导验证物理实体设备的研发；另外，本发明还可以让数字孪生模型根据用户需求选择运行状态，动态调节计算、存储、传送资源，无任务需求时，能支撑更多应用场景的数字孪生模型自动运行，当有任务紧急需求时，能精准调度所需模型，满足任务需求。本发明实施例采用如下技术方案：第一方面，本发明提供了一种数字孪生架构，包括数据模型交互模块、模型更新模块以及资源调用模块，其中：所述数据模型交互模块用于将概率模型和仿真模型数据存储到数据池中，具体的，所述数据模型交互模块综合考虑异质来源数据，将其分布式双链保密存储到数据池中；所述模型更新模块用于更新概率模型和仿真模型，具体的，所述模型更新模块对模型进行精准评估，根据模型与模型间逻辑执行关系构建不同的有向图，建立模型自动运行机制，实现模型参数的自优自愈；所述资源调用模块用于调用概率模型和仿真模型，具体的，所述资源调用模块从模型、用户信息匹配出发，预测当前环境下模型输出，最后依据存储、网络、计算资源，对模型进行合理分配，最后通过验证该资源分配方案下模型的表现，对模型建立奖惩机制。进一步的，所述数据模型交互模块包括数据接入层、弱中心化层以及区块链层，其中：所述数据接入层存放模型所需四类参数：模型输出中间量、结果，任务需求数据以及提供数据表；所述弱中心化层以各自服务器为中心构建分布式数据库，分为跟节点、第一子节点、第二子节点，所述根节点用于在区块链层与其余服务器交换数据，所述第一子结点用于按照需求模型流向图存放数据，所述第二子节点用于向第一子结点索求数据；所述区块链层中包含授权访问控制、安全防护机制共同构成的数据应用层规范。进一步的，在所述弱中心化层中，由根节点、第一子节点和第二子节点共同确立数字孪生的模型共识机制，具体的：由数字孪生所有者及参与者共同指定根结点；将区域内所有模型部署的虚拟机均设置为第二子节点；通过模型流向图，从第二子节点里筛选出度中心性高的节点作为第一子节点；当第二子节点B有数据改变时，会将数据发送给其归属的第一子节点A，第一子节点A再将第二子节点B的数据信息发送给所有第一子节点，每个第一子节点再向其内所有第二子节点发布第二子节点B的数据信息。进一步的，所述模型更新模块包括模型评估、有向图构建、自动运行机制及模型参数更新，具体的，所述模型评估对模型所需四类参数进行评估，通过模型输入输出关系，在有向图构建中构建需求模型流向图，根据流向图对模型自动运行机制做出选择，最后在模型参数更新层对模型参数进行综合评价。进一步的，所述在有向图构建中构建需求模型流向图具体包括：评估需求，找到模型的最小层级；分析需求对应的不同网络状况随时间的变化规律，并描述不同时间段内不同网络的变化情况，以及网络下最小层级模型的资源变化情况；获取与当前选择网络关联程度最高的两个相似地区物理拓扑，按照拓扑层级关系构建出数字孪生虚拟拓扑；根据构建出的数字孪生虚拟拓扑以及模型的最小层级，找到同层级中计算同样物理特性参数的功能模型，构建功能模型簇；以模型的候选点为基础，依托功能模型簇和功能模型簇之间的模型输入、输出关系构建模型流向图。进一步的，所述资源调用模块包括信息采集、信用计算、分配策略及惩罚机制，具体的，所述信息采集评估需求，信用计算计算当前需求下模型的信用，分配机制根据需求组合模型，得到模型最优集合，当需求结束后，根据反馈意见对模型组合做出奖惩，并存入数据池中。进一步的，所述信用计算计算当前需求下模型的信用具体包括：获取有关该模型所需传送、存储、计算方面的资源需求，若模型不需求其中任一资源，则该资源用0表示，若资源向量中有任一资源超过了模型当前可提供的资源，则认为该模型不适用当前网络环境；获取模型在计算当前任务多个指标时的精确度，若理论上模型精度达不到任务所需要求，则认为模型精度在此网络环境下受限制；当资源需求以及精确度均满足当前网络环境需求时，则计算模型此时的信用标签；其中，模型的信用标签与模型历史时刻的输入输出有关，通过模型历史时刻的输出输入关系，预测在当前网络环境状态下模型的输出，通过比较模型预测输出与任务需求差值，预估模型能满足任务需求的情况，也即求得模型的信用。进一步的，所述数据池、所述概率模型和所述仿真模型组成基础组件，其中：所述数据池用于存储数字孪生数据，包括以下三类数据：从设备单元直接上报的性能数据；从管控单元上传的业务、配置、告警、故障数据；数字孪生模型运行数据；所述概率模型与所述仿真模型的每个模型都是由低于该层级或者该层级的多个原子级模型组成，每个原子级模型都对应有模型输入与输出。第二方面，本发明提供了一种数字孪生模型评价体系，包括层级特性模块、实例特性模块以及信用模块，其中：所述层级特性模块用于定义数字孪生模型的层级特性，以实现对数字孪生模型物理属性的确立，具体的，所述层级特性模块用于将数字孪生模型分层，包括网络模型层、网元模型层、单盘模型层、模块模型层、器件模型层和材料模型层，每层级按照功能不同分为多种功能模型，每种功能模型的最小颗粒模型为原子级模型，每个需求模型都由多个层级、多个功能模型组合完成；所述实例特性模块用于根据数字孪生构建机理的不同，将数字孪生模型分为概率模型、仿真模型，具体的，所述仿真模型是详细了解物理空间通信设备的内部机理后，通过数学方式将内部机理翻译而成；所述概率模型是当无法了解物理空间通信设备的内部机理时，根据测得的通信设备输入、输出数据，通过对表征数据的建模拟合技术而得到；所述信用模块用于确定数字孪生模型实例化组合过程中，模型在对应模型组合中变现好坏的属性，若变好则信用高，若变坏则信用低，并根据信用的反馈对模型参数进行修正、组合，以使前一个模型在与后一模型组合使用时，减少两者模型因理论/统计带来的计算误差。第三方面，本发明提供了一种数字孪生模型运行方法，包括需求模型流向策略，所述需求模型流向策略为：资源调用层-仿真模型/概率模型-模型更新层-仿真模型/概率模型-资源调用层，其中，资源调用层根据不同场景，选择不同的仿真模型、概率模型组合方案；模型更新层根据资源调用层选择的组合方案，构建有向图，完成用户任务计算，最后将仿真模型、概率模型输出结果反馈到资源调用层。进一步的，所述资源调用层根据不同场景，选择不同的仿真模型、概率模型组合方案具体包括：评估需求，找到模型的最小层级；根据需求划分层次模型关系，构建物理网络对应的虚拟模型拓扑；根据原子级模型，找到计算同样物理特性参数的模型，构建模型簇。进一步的，所述模型更新层根据资源调用层选择的组合方案，构建有向图具体包括：根据虚拟模型拓扑中模型输入输出关系构建需求模型流向图。第四方面，本发明提供了一种数字孪生模型运行方法，包括模型实例自动优化策略，具体的：对需求任务指标细化，采用分步分时计算方式，找到能满足任务需求的所有模型集合；根据需求模型流向图，分析流向权重，找到所有集合中最优集合；根据当前环境下，需求反馈的模型运行情况，对需求模型流向图中模型权重进行调整。进一步的，所述根据需求模型流向图，分析流向权重，找到所有集合中最优集合的过程中，使选取的仿真模型计算参数准度高的同时，能支持尽可能多的任务，且使选取的概率模型使用最少的资源，尽快的满足任务需求。进一步的，所述根据当前环境下，需求反馈的模型运行情况，对需求模型流向图中模型权重进行调整具体包括：当出现两模型组合使用时，误差累加过大的情况，删除模型之间连线；当出现两模型组合使用时，误差累加偏小或降低前模型误差的情况，增加模型连线之间的权重，并将此模型组合以区块链的形式记录到数据池中。与现有技术相比，本发明的有益效果在于：、本发明提出数字孪生模型评价体系，实现对数字孪生模型层次、功能等物理属性的确立，让通信设备制造商在研发生产物理实体设备的同时，同时对物理实体设备进行仿真建模，研发生产数字孪生模型，通过对虚拟的数字孪生模型进行实验性、甚至破坏性实验，指导验证物理实体设备的研发。、本发明提出两种不同的模型运行策略以及三种新的数字孪生功能连接模块，让数字孪生模型根据用户需求选择运行状态，动态调节计算、存储、传送资源，无任务需求时，能支撑更多应用场景的数字孪生模型自动运行，当有任务紧急需求时，能精准调度所需模型，满足任务需求。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例中所需要使用的附图作简单地介绍。显而易见地，下面所描述的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它的附图。图1为本发明实施例1提供的通信领域内数字孪生的理论CPS框架示意图；图2为本发明实施例1提供的一种数字孪生架构示意图；图3为本发明实施例1提供的数据池中存储数据示例图；图4为本发明实施例1提供的概率模型/仿真模型示意图；图5为本发明实施例1提供的数字孪生架构运行步骤示意图；图6为本发明实施例2提供的数字孪生模型分层示意图；图7为本发明实施例3提供的需求模型流向策略图；图8为本发明实施例3提供的一种数字孪生模型运行方法流程图；图9为本发明实施例4提供的模型实例自动优化策略图；图10为本发明实施例4提供的另一种数字孪生模型运行方法流程图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。本发明是一种特定功能系统的体系结构，因此在具体实施例中主要说明各结构模组的功能逻辑关系，并不对具体软件和硬件实施方式做限定。此外，下面所描述的本发明各个实施方式中所涉及到的技术特征只要彼此之间未构成冲突就可以相互组合。下面就参考附图和实施例结合来详细说明本发明。随着数字化和智能化进程，传统的通信网络在未来将实现机器自动、智能管理和控制光网络，但是基于机器智能形成的管控方案，不一定能让人放心，也不敢直接下发指令到设备侧。基于这种情况，便有必要建立基于数字孪生技术构建的孪生光网络，使其告警度仿真光网络运行机理，实时同步光网络运行状态，在孪生网络验证机器构建的管控方案，准确无误后再下发到实体设备，这样便能避免完全由机器智能形成的管控方案所带来的分险。基于此，本发明下面的实施例提供一种数字孪生架构、一种数字孪生模型评价体系以及两种数字孪生模型运行方法。实现从实映虚，由实控虚，由虚映实，由虚控实，达到孪生世界与真实数据一体同构，相互配合使用的效果。实施例1：如图1所示，本实施例首先讲述通信领域内的数字孪生的理论CPS框架。本实施例提出的数字孪生框架应用在通信领域，包含应用空间、信息空间和物理空间。例如图1左边所示，在云网协同领域，物理空间指的是计算、存储、传送资源，信息空间包含编排器、控制器，应用空间包含分布式机器学习、云化虚拟现实。物理空间将设备状态上报至信息空间，信息空间通过虚拟计算资源、虚拟存储资源、虚拟转发资源以及虚拟承载资源对云网能力进行数字化描述，应用空间根据云网能力，分析用户需求。基于切片及意图等方式将用户需求及资源分配策略下发至信息空间，信息空间利用编排器和控制器下发管控指令到物理空间。例如图1右边所示，在光传输领域，物理空间指的是光传输链路，包括器件、链路、网元等，信息空间对应大管控侧，包含传统管控单元、数字孪生引擎等，应用空间对应应用APP，包含光网络性能监测、SOPA等，光传输链路将光网络运行状态上报到大管控、大管控分析网络运行状态，将结果上传至应用APP，应用APP将用户需求下发至大管控，大管控根据需求下发管控指令到光传输链路。基于上述理论CPS框架，本实施例1提出一种数字孪生架构，架构示意图如图2所示。需要说明的是，数字孪生包含通信领域中服务层、网络层和连接层。服务层是为用户差异化体验感知，网络层实现路由、控制策略的协同，连接层融合资源供给。因此数字孪生架构功能模块就包括了对应连接层的设备单元，对应于服务层的应用单元，对应于网络层的管控单元与智慧单元。其中，应用单元对应于图2中的独立APP，其与用户需求密切相关，包括智能运维、规划仿真等。管控单元对应于图2中的网络管控系统，负责网络管理与控制，包含管控交互、网络管理、业务管理、网元管理及南向接口等。除此之外，图2中的数字孪生平台是数字孪生架构的核心部分也是本实施例关注的重点，其包含基础组件，以及连接功能组件。对于连接功能组件，本发明实施例提出了三个新的数字孪生框架中的功能模块：资源调用模块、模型更新模块以及数据模型交互模块。传统的数字孪生架构中只包含数据池、模型及引擎，无法清晰描述数字孪生中模型如何调动以响应用户/任务需求；如何根据现实环境的改变更新模型的实例化；没有涉及到数字孪生模型运行及反馈优化过程中的数据检索及存储。本发明实施例通过资源调用模块、模型更新模块以及资源调用模块实现了数字孪生模型根据用户需求合理调度模型，并根据当前网络环境调整模型实例化过程，最后实现模型数据高效存储的功能。具体的，在本优选实施例中，所述资源调用模块用于调用概率模型和仿真模型。所述资源调用模块从模型、用户信息匹配出发，到预测当前环境下模型输出，最后依据存储、网络、计算资源，对模型进行合理分配，最后通过验证该资源分配方案下模型的表现，对模型建立奖惩机制。该资源调用模块包括信息采集、信用计算、分配策略及惩罚机制四项功能，其中，信息采集评估用户需求，信用计算计算当前任务/需求下模型的信用，分配机制根据用户/需求组合模型，得到模型最优集合，当任务/需求结束后，根据反馈意见对模型组合做出奖惩，并存入数据池中。当用户/APP有任务需要执行时，将任务请求发给资源调用层，资源调用层的信息采集模块则会构建LFM,包含了用户的任务需求、计算场景、资源开始的时间和结束时间、任务各项指标及指标精确度。信用计算模块接收LFM后，首先判断有哪些模型输出满足任务指标，判断模型的多种组合能否执行任务需求，如果可以，则信用计算模块从数据池中捞取当前模型所需资源、历史准确性等，构建信息标签传给分配策略模块。分配策略模块根据上述满足信用计算构建的信息标签中模型信息，选取多种模型的组合，确定资源受限的情况下，如何分时分步的完成任务，然后将任务及模型信息发送给概率模型和仿真模型模块，调用模型组合完成任务计算，最后在奖惩机制模块，根据实际模型使用信息与模型信息标签信息进行对照，对模型信用进行奖惩。上述通过信用计算计算当前需求下模型的信用具体包括：获取有关该模型所需传送、存储、计算方面的资源需求，若模型不需求其中任一资源，则该资源用0表示，若资源向量中有任一资源超过了模型当前可提供的资源，则认为该模型不适用当前网络环境；获取模型在计算当前任务多个指标时的精确度，若理论上模型精度达不到任务所需要求，则认为模型精度在此网络环境下受限制；当资源需求以及精确度均满足当前网络环境需求时，则计算模型此时的信用标签；其中，模型的信用标签与模型历史时刻的输入输出有关，通过模型历史时刻的输出输入关系，预测在当前网络环境状态下模型的输出，通过比较模型预测输出与任务需求差值，预估模型能满足任务需求的情况，也即求得模型的信用。在本优选实施例中，所述模型更新模块用于更新概率模型和仿真模型，所述模型更新模块对模型进行精准评估，根据模型与模型间逻辑执行关系构建不同的有向图，建立模型自动运行机制，实现模型参数的自优自愈。该模型更新模块分为模型评估、有向图构建、自动运行机制、模型参数更新四项功能。模型评估对模型所需四类数据进行评估，通过模型输入输出关系，在有向图构建中，构建用户/需求模型流向图，根据流向图对模型自动运行机制做出选择，最后在模型参数更新层对模型参数进行综合评价,根据每次任务后调用模型使用情况，对模型参数进行修正、组合，让前一个模型可以在与后一模型组合使用时，减少两者模型因理论/统计带来的计算误差，使得在当前环境下，模型组合使用变得更加高效，也因此大大提升模型精度。上述的在有向图构建中构建需求模型流向图具体包括：评估需求，找到模型的最小层级；分析需求对应的不同网络状况随时间的变化规律，并描述不同时间段内不同网络的变化情况，以及网络下最小层级模型的资源变化情况；获取与当前选择网络关联程度最高的两个相似地区物理拓扑，按照拓扑层级关系构建出数字孪生虚拟拓扑；根据构建出的数字孪生虚拟拓扑以及模型的最小层级，找到同层级中计算同样物理特性参数的功能模型，构建功能模型簇；以模型的候选点为基础，依托功能模型簇和功能模型簇之间的模型输入、输出关系构建模型流向图。其中，连接权重代表前模型输出对后模型的影响因子，所述影响因子包括影响前模型中输出参数的程度、以及前模型的总输出参数与后模型的总输入参数的相似程度。在本优选实施例中，所述数据模型交互模块用于将概率模型和仿真模型数据存储到数据池中，所述数据模型交互模块综合考虑异质来源数据，将其分布式双链保密存储到数据池中。该数据模型交互模块分为数据接入层、弱中心化层以及区块链层。数据接入层存放模型所需四类参数，模型输出中间量、结果，任务需求数据以及提供数据表。在弱中心层，各个通信公司、厂家以各自为中心构建分布式数据库。分为跟节点、第一子节点、第二子节点。按照用户/需求模型流向图分别将数据存放第一子结点。第二子节点向第一子结点索求数据。根节点负责在区块链层与其余公司、厂家交换数据。在区块链层中包含授权访问控制、安全防护机制共同构成的数据应用层规范。在所述弱中心化层中，由根节点、第一子节点和第二子节点共同确立数字孪生的模型共识机制，具体的：由数字孪生所有者及参与者共同指定根结点；将区域内所有模型部署的虚拟机均设置为第二子节点；通过模型流向图，从第二子节点里筛选出度中心性高的节点作为第一子节点；当第二子节点B有数据改变时，会将数据发送给其归属的第一子节点A，第一子节点A再将第二子节点B的数据信息发送给所有第一子节点，每个第一子节点再向其内所有第二子节点发布第二子节点B的数据信息。另外，第一子节点还能进行更新，具体的，每个节点启动时，计算自己的度中心性，并在局域内广播寻找第一子节点；任一节点监听到广播消息，返回自己在网络中心性排名列表中的名次；若计算出自己不在首位，则认定自己属于第二子节点，保存该列表；若自己度中心性最高，则认定自己属于新的第一子节点，并与原第一子节点进行信息索引同步和资源获取路由，并广播最新的中心性排名列表。对于各个子节点，当网络环境发生改变时，根据改变情况进行相应处理，具体的：第一子节点部分损坏、第二子节点部分损坏或新增时，剩余第二子节点按照第一子节点的更新步骤重新选取第一子节点；第一子节点未损坏，第二子节点部分损坏时，第一子节点根据第二子节点心跳反馈，更新第二子节点表；第一子节点未损坏，第二子节点x新增时，x首先广播自己信息，若没有任何第一子节点反馈，则自己作为第一子节点构建一片区域；当所有第一子节点接受到x信息时，计算自身节点与x节点之间的逻辑距离，并计算保证模型数据传输的最小时间所确定的距离d，若逻辑距离小于d，且原列表中已经存在x，则移动x至队列尾，表明该节点x最近被更新过；若逻辑距离小于d，且节点x没有记录在原队列中，则判断节点x与第一子节点联通情况，若该节点x有相应，则将其加入对应第一子节点的域，否则忽略。上面详细介绍了本发明实施例提出的三个新的功能模块，下面对于本实施例中的基础组件进行详细说明。在本优选实施例中，所述数据池用于存储数字孪生数据，包括以下三类数据：1、从设备单元直接上报的性能数据；2、从管控单元上传的业务、配置、告警、故障数据；3、数字孪生模型运行数据，包括模型的中间量及结果。例如图3所示，为数字孪生数据池中存储数据示例图。其中，模型运行的性能数据中与OA相关包括OA个数、OA型号、首OA的单波功率。业务数据中与拓扑相关数据包括网元ID、网元名称、网元横坐标、网元纵坐标。模型运行数据中性能监测模型中间量及结果包括OA单波功率、光纤单波增益，OA噪声指数。在本优选实施例中，概率模型/仿真模型如图4所示，每个概率模型/仿真模型都是由低于该层级或者该层级的多个原子级模型组成，每个原子级模型都对应有模型输入与输出。因此对于概率、仿真模型可以统一形式描述为：f：f＝其中，i表示第i个概率/仿真模型。基于本实施例提供的上述数字孪生架构，其运行步骤如图5所示：设备上传性能数据到管控和数字孪生平台，数字孪生数据池从管控同步业务数据，数字孪生模型从数据池取出数据，数字孪生模型根据采集数据更新模型参数，数字孪生模型根据任务需求按需进入运行状态，数字孪生模型调用完成后，输出参数存入数据池。例如在当前时刻，设备采集数据，用户下发了对链路性能监测的任务时，则实施步骤应如下：1、设备上传性能监测模型所需数据：首OA单波功率，末OA单波功率等到网络管控系统及数字孪生平台。2、数字孪生数据池从网络管控系统同步业务数据，包括网元ID、网元横坐标、网元纵坐标。3、数字孪生性能监测模型从数据池取出数据，取出刚刚设备上传的性能数据以及以前时刻的模型中间量及结果保存数据，则包括性能数据：首OA单波功率，末OA单波功率等，性能监测模型运行数据：OA单波功率、光纤单波增益，OA噪声指数等。4、数字孪生性能监测模型根据采集数据更新性能监测模型参数。5、选择数字孪生性能监测模型根据用户的监测模型需求进入运行状态。6、数字孪生性能监测模型调用完成，输出参数，例如OA单波功率、光纤单波增益，OA噪声指数，再把当前时刻的输出参数又存入数据池。综上所述模型、本发明提出的数字孪生框架新增三大功能模块：资源调用模块，数据模型交互模块，模型更新模块。资源调用模块从用户信息匹配出发，到预测当前环境下模型输出，最后依据存储、网络、计算资源，对模型进行合理分配，最后通过验证该资源分配方案下模型的表现，对模型建立奖惩机制。本发明提出的模型更新模块根据孪生模型的输入输出之间关系，构建用户/需求模型运行流向图，对模型与模型之间建立权重联系，让何种模型自动运行，何种模型不运行有法可依，在资源有限的情况下，让最少的模型支撑更多的应用场景。本发明新增的数据模型交互模块综合考虑异质来源数据，将其分布式双链保密存储到数据池中。提高了数据存储效率的同时，极大的增强了数据存储、使用安全性。实施例2：基于实施例1提供的一种数字孪生架构，本实施例2还提供一种数字孪生模型评价体系，该数字孪生模型评价体系定义了数字孪生模型的层级特性、实例特性以及信用这三种属性，也即可以包括层级特性模块、实例特性模块以及信用模块这三个模块。层级特性模块用于定义数字孪生模型的层级特性，以实现对数字孪生模型物理属性的确立。参考图6所示，为数字孪生模型分层示意图，所述层级特性将数字孪生模型分为六层，从大到小可分为网络、网元、单盘、模块、器件、材料六大层级，每个层级对应有一类模型，也即可对应为网络模型层、网元模型层、单盘模型层、模块模型层、器件模型层和材料模型层。其中，每层级按照功能不同又可细分为多种功能模型，例如单盘层级，又可按功能细分为：主控盘模型、业务盘模型、计算盘模型。每层功能模型的最小颗粒模型为原子级模型，例如在单盘侧，就根据功能划分出OA光放大盘原子级模型，OGC计算盘原子级模型等，再例如网元侧性能监测模型就是以多个单盘级原子级模型组合，包括OA光放大盘原子级模型，光纤原子级模型等。每个应用/需求模型都需要多个层级、多个功能模型组合完成。在本实施例中，所述实例特性模块根据数字孪生构建机理不同，将数字孪生模型分为概率模型、仿真模型，所述仿真模型是详细了解物理空间通信设备的内部机理后，通过数学方式将内部机理翻译而成；所述概率模型是当无法了解物理空间通信设备的内部机理时，根据实验室内测得的通信设备输入、输出数据，通过对表征数据的建模拟合技术而得到，例如蒙太卡罗技术等。多个概率模型、仿真模型可能计算同一个物理特性参数。例如BER既可以通过蒙太卡罗模拟上万次码输入输出情况，统计出当前网络输出错误码与输出码比值；又可以通过傅里叶变化分析电传播、光电变化、光传播过程，计算当前网络时刻的BER。概率模型多表现计算时间快，占用资源少，准确性较低。仿真模型多表现计算时间长，占用资源多，准确性高。所以绝大多数应用/需求都需要概率模型和仿真模型组合使用。在本实施例中，所述信用模块用于确定数字孪生模型实例化组合过程中，模型在对应模型组合中变现好坏的属性，若变好则信用高，若变坏则信用低，并根据信用的反馈对模型参数进行修正、组合，以使前一个模型在与后一模型组合使用时，减少两者模型因理论/统计带来的计算误差。具体的，因为数字孪生模型的机理理论或者模拟曲线的局限，往往导致计算值与真实值有误差。例如多个模型配合时，当前模型A计算偏差过大，部分模型B与前模型配合使用，根据配合的B模型的机理理论或模拟曲线，会导致两种情况：计算偏差出现继续偏大，例如计算在C96波系统中的非线性效应时，如果前一段OMS的四波混频计算偏差过大，后一段OMS模型采用GN模型时，会导致该系统的四波混频偏差倍增。计算偏差变小或不变，例如同样计算非线性效应时，如果前OMS段四波混频计算偏大，后一段OMS模型采用EGN模型时，会导致四波混频偏差变小或不变。那么在第一种情况下，配合B模型信用就低，在第二种情况下，配合B模型信用就高。综上所述，本发明提出的数字孪生模型评价体系，实现对数字孪生模型层次、功能等物理属性的确立，让通信设备制造商在研发生产物理实体设备的同时，同时对物理实体设备进行仿真建模，在研发生产数字孪生模型，考虑建立哪一层级模型以及是概率还是仿真模型给出指导性意见，另一方面也可通过对虚拟的数字孪生模型进行实验性、甚至破坏性实验，指导验证物理实体设备的研发。另外在于孪生模型组合使用中根据每次任务调用模型使用情况，对模型参数进行修正、组合，让前一个模型可以在与后一模型组合使用时，减少两者模型因理论/统计带来的计算误差，使得在当前环境下，模型组合使用变得更加高效，也因此大大提升模型精度。实施例3：基于实施例1提供的一种数字孪生架构、实施例2提供的一种数字孪生模型评价体系，本实施例3提供一种数字孪生模型运行方法，该模型运行方法包括需求模型流向策略，参考图7所示，为需求模型流向策略图，其流向策略为：资源调用层-仿真、概率模型-模型更新层-仿真、概率模型-资源调用层。资源调用层根据用户不同场景，选择不同的仿真模型、概率模型组合方案，模型更新层根据资源调用层选择组合方案，构建有向图，完成用户任务计算，最后将仿真模型、概率模型输出结果反馈到资源调用层。具体的，参考图8，本实施例中数字孪生模型运行方法的流程具体包括如下步骤。步骤301：评估用户/需求，找到模型的最小层级，该步由资源调用层中完成。例如用户/需求计算一条光链路内非线性，通过评估用户需求精度，选择最小颗粒模型，精度要求在1.5dB左右选择网元级模型，精度要求在1.0dB左右，则选择单盘级或模块级模型，精度要求在0.5dB以内选择器件材料级模型。步骤302：根据用户/需求划分层次模型关系，构建物理网络对应的虚拟模型拓扑，该步在资源调用层中信息采集模块完成。例如在步骤301中选择单盘级模型。则可以将光链路首先划分多条OTS，进一步将OTS划分为多条OMS加WSS盘模型，每条OMS又包括多条OCH加上合分波盘模型，每条OCH对应多个光纤原子模型和OA放大盘原子模型。将上述单盘级原子模型组成物理实体网络。步骤303：根据原子级模型，找到计算同样物理特性参数的模型，构建模型簇，该步由资源调用层完成。例如计算第一个OA盘输出OSNR，包括了以下功能模型：OSNR监测功能模型、OSNR预测功能模型、OA放大机理功能模型等等。将上述所有功能模型共同构成第一个OA的模型簇。模型簇与模型簇之间有重合功能模型，例如OSNR监测模型可以包含在几乎所有的OA簇中。步骤304：根据虚拟模型拓扑中模型输入输出关系构建用户/需求模型流向图。该步根据模型更新层中有向图构建模块完成。上述找到的最小颗粒模型，例如第一个OA输出是第一段光纤模型的输入，则将第一个OA簇中每一个模型与第一段光纤簇的每一个模型用有向箭头相连。而最后依托模型的虚拟拓扑，将以原子级模型为单位构建模型运行流向图。最后将运行流向图中每个模型输出结果反馈到资源调用层。综上所述，基于用户任务及当前环境资源的孪生模型运行策略，通过与用户任务需求相匹配，分析网络拓扑，选择满足用户需求的模型簇，从模型簇中依据不同的模型输入输出关系组合模型，构建模型的运行流向图。从而实现模型的高效计算，在满足当前网络条件下，尽可能快的满足用户计算需求。实施例4：基于实施例1提供的一种数字孪生架构、实施例2提供的一种数字孪生模型评价体系，本实施例4提供一种数字孪生模型运行方法，该模型运行方法包括模型实例自动优化策略，参考图9所示，为模型实例自动优化策略图，其策略流向为：模型更新层-仿真、概率模型-数据模型交互层-仿真、概率模型-模型更新层。模型更新层通过构建有向图调用仿真、概率模型计算，概率、仿真模型向数据模型交互层发出取出当前网络状态数据请求，数据模型交互层响应模型请求返回模型所需数据，仿真、概率模型基于返回数据计算用户需求，并对模型参数进行优化，最后将运行状态、结果等数据反馈给模型更新层。具体的，参考图10，本实施例中数字孪生模型运行方法的流程具体包括如下步骤。步骤401：对用户/需求任务指标细化，采用分步分时计算方式，找到能满足任务需求的所有模型集合，该步由模型更新层完成。例如该性能监测模型中，集合一由OSNR预测模型加WSS原子级模型组成，其中OSNR预测模型属于网元级概率模型。WSS原子级模型属于单盘级原子仿真模型。集合二由OSNR监测模型、合分波盘模型和故障诊断模型组成。OSNR监测模型与故障诊断模型属于网元级概率模型。合分波盘模型属于单盘级原子仿真模型。步骤402：根据需求模型流向图，分析流向权重，找到所有集合中最优集合，该步由模型更新层模块完成。在该步骤中，需要保障选取的仿真模型计算参数准度高的同时，能支持尽可能多的任务；还需要保障选取的概率模型使用最少的资源，尽快的满足用户/任务需求。例如上述步骤401中集合一所选用的仿真模型WSS原子级模型比集合二中合分波盘模型支撑其余模型数量更多，并且集合一所选用的OSNR预测模型比集合二中OSNR监测模型与故障诊断模型使用资源更少，则集合一是步骤401中所选出的最优集合。步骤403：根据当前环境下，用户/需求反馈的模型运行情况，对用户/需求模型流向图中模型权重进行调整，该步由模型更新层和数据模型交互层完成。在该步骤中，当出现两模型组合使用时，误差累加过大的情况，删除模型之间连线；当出现两模型组合使用时，误差累加偏小或降低前模型误差的情况，增加模型连线之间的权重，并将此模型组合以区块链的形式记录到数据池中。例如步骤401中集合一包含OSNR预测模型、WSS原子级模型，OSNR预测模型与WSS模型组合、配合使用时，OSNR预测误差及WSS模型误差均减小，则增大OSNR预测模型与WSS模型之间的连接权重，并以区块链的形式存入到数据池中。集合二中OSNR监测模型与故障诊断模型组合使用时，导致OSNR监测误差，故障判断误差都增大，则删除OSNR监测模型与故障诊断模型之间的连线。综上所述，模型实例自动优化策略从模型自动运行机制、模型数据弱中心化存储等配合使用，实现模型与数据的交互，可以解决从实映虚，由实控虚，由虚映实，由虚控实过程中数据构图使用、模型参数更新、保密及存储问题，使得数字孪生模型与数据库相互配合，实现模型数据的综合应用，自优自愈，快速存取等功能。本领域普通技术人员可以理解实施例的各种方法中的全部或部分步骤是可以通过程序来指令相关的硬件来完成，该程序可以存储于一计算机可读存储介质中，存储介质可以包括：只读存储器、随机存取存储器、磁盘或光盘等。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。本说明书中未作详细描述的内容属于本领域专业技术人员公知的现有技术。
