标题title
一种大规模储能电站的虚拟构网协调控制方法及装置
摘要abst
本发明公开了一种大规模储能电站的虚拟构网协调控制方法及装置。储能系统中各电池组PCS基于虚拟同步发电机控制支撑电网频率。为保证储能系统自身的运行安全，降低对电池的寿命损耗，当电网频率跌落超过允许限值时，首先获取储能系统各电池组的SOC状态，然后基于所提的控制系数修正算法对各VSG单元的虚拟惯量参数进行修正，从而调整储能单元的惯性响应能力。本发明可以在保证大规模电池储能系统运行安全的前提下，协同多电池组以虚拟同步发电机的形式参与电网频率控制，为其提供惯量支撑。
权利要求书clms
1.一种大规模储能电站的虚拟构网协调控制方法，其特征在于，包括以下步骤：步骤1，设定电网频率正常范围，然后对电网频率进行扰动监测；步骤2，当电网频率超出正常范围时，根据当前的电网频率是高于上限或低于下限，以及储能电站各个电池组单元的荷电状态值即SOC值由小到大的5个区间，来计算得到10种各个电池组单元对应的虚拟惯量控制修正系数；步骤3，根据各个虚拟惯量控制修正系数来修正各个虚拟惯量参数；然后根据修正后的各个虚拟惯量参数，得出各个电池组单元对应的储能变流器的PWM控制信号，从而通过储能变流器接入电网来对电网频率进行扰动控制。2.根据权利要求1所述的方法，其特征在于，所述的步骤2包括：根据电网频率正常范围和SOCi计算各个电池组单元对应的虚拟惯量控制修正系数ki，其中fdown表示电网频率正常下限值，fup表示电网频率正常上限值，SOCi表示各个电池组单元的荷电状态值，i=1…n, n表示该储能电站含有n个电池单元组；ki是一个关于SOCi的分段函数，取值区间为，将SOCi划分为5个区间：当SoCi∈时：当SoCi∈时：当SoCi∈时：当SoCi∈ 时：当SoCi∈ 时：其中，SoCmin 、SoClow 、SoChigh 以及SoCmax为数值由小到大的电池状态界限参数，δ为调整参数。3.根据权利要求1所述的方法，其特征在于，所述的步骤3中，根据各个虚拟惯量控制修正系数来修正各个虚拟惯量参数，是基于以下公式计算修正后的各个虚拟惯量参数Ji：其中J0为传统控制方法中不考虑SOC状态时选取的虚拟惯量参数，ki为各个电池组单元对应的虚拟惯量控制修正系数，i=1…n, n表示该储能电站含有n个电池单元组。4.一种大规模储能电站的虚拟构网协调控制装置，其特征在于，所述的装置包括电网状态监测模块、电池储能系统状态监测模块、虚拟惯量控制系数修正模块和储能变流器虚拟构网协调控制算法模块；所述的电网状态监测模块监测电网频率，并将频率值传输至虚拟惯量控制系数修正模块；所述的电池储能系统状态监测模块监测储能电站各个电池组单元的荷电状态值即SOC值，并将SOC值传输至虚拟惯量控制系数修正模块；所述的虚拟惯量控制系数修正模块包括逻辑判断模块和运算模块，其中逻辑判断模块接收并判断电网频率是否超出正常范围，当超出正常范围时，则运算模块根据当前的电网频率是高于上限或低于下限，以及SOC值由小到大的5个区间，来计算得到10种各个电池组单元对应的虚拟惯量控制修正系数；所述的储能变流器虚拟构网协调控制算法模块用于根据虚拟惯量控制修正系数来修正虚拟惯量参数，然后得出各个电池组单元对应的储能变流器的PWM控制信号；从而控制储能变流器接入电网来对电网频率进行扰动控制。5.根据权利要求4所述的装置，其特征在于，虚拟惯量控制系数修正模块的运算模块，计算虚拟惯量控制修正系数包括：根据电网频率正常范围和SOCi计算各个电池组单元对应的虚拟惯量控制修正系数ki，其中fdown表示电网频率正常下限值，fup表示电网频率正常上限值，SOCi表示各个电池组单元的荷电状态值，i=1…n, n表示该储能电站含有n个电池单元组；ki是一个关于SOCi的分段函数，取值区间为，将SOCi划分为5个区间：当SoCi∈时：当SoCi∈时：当SoCi∈时：当SoCi∈ 时：当SoCi∈ 时：其中，SoCmin 、SoClow 、SoChigh 以及SoCmax为数值由小到大的电池状态界限参数，δ为调整参数。6.根据权利要求4所述的装置，其特征在于，储能变流器虚拟构网协调控制算法模块根据虚拟惯量控制修正系数来修正虚拟惯量参数包括：基于以下公式计算修正后的各个虚拟惯量参数Ji：其中J0为传统控制方法中不考虑SOC状态时选取的虚拟惯量参数，ki为各个电池组单元对应的虚拟惯量控制修正系数，i=1…n, n表示该储能电站含有n个电池单元组。7.一种电子设备，其特征在于，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1-3中任一所述的方法。8.一种计算机可读介质，其上存储有计算机程序，其特征在于，所述程序被处理器执行时实现如权利要求1-3中任一所述的方法。
说明书desc
技术领域本发明涉及储能系统运行安全与电网惯量支撑技术领域，特别涉及一种大规模储能电站的虚拟构网协调控制方法及装置。背景技术随着风电，光伏等分布式电源在电网中的的大规模、高比例接入，传统电力系统的转动惯量降低，电网受到功率扰动时，频率的变化范围进一步增大，并且新能源发电的波动性较强，这会进一步危害电网的的安全稳定运行。为解决这一问题，近年来，储能技术的研究和发展一直备受各国能源部门的重视，出台了多项关于储能在电力辅助服务应用的政策文件。随着储能技术在电网中的大规模应用，其对电力系统电能质量的影响也逐渐增大。在辅助电网调频方面，储能系统通过惯性响应，下垂控制以及虚拟同步发电机  控制等方式为电网提供电压及频率支撑。为充分发挥储能的快速响应性能，引入虚拟惯量，在电网频率超出正常运行限值时，使得储能系统具备传统火电、水电等发电机组的惯量能力。VSG技术能够模拟同步发电机的转子运动方程以及一次调频特性，满足储能系统改善电网电压及频率响应特性的应用需求。然而，现有大规模储能电站在以多VSG形式参与电网调频时，对于各电池组的荷电状态关注度不足。现有方法未能综合考虑实时SOC信息进而对电池组的虚拟惯量进行动态调优，尤其是在SOC处于临界值时，电池充放电能力受限，若不对虚拟惯量参数进行自适应调整，会给电池单元带来极大的冲击破坏，严重损耗其使用寿命，不利于储能电站的长久稳定运行。发明内容本发明的目的在于解决现有储能电站在以多VSG形式参与电网调频对于储能荷电状态关注度不足的问题，公开了一种大规模储能电站的虚拟构网协调控制装置及方法。一方面，本发明可以充分发挥储能的快速响应性能，在电网频率发生剧变时，协同多电池组基于VSG控制为其提供快速的频率支撑，利于大电网的安全稳定运行；另一方面本发明充分考虑各电池单元的SOC状态，通过控制系数修正算法对各VSG单元的虚拟惯量参数进行修正，降低对储能电池单元的寿命损耗，实现SOC的均衡控制，利于储能电站的长久稳定运行。为了实现上述技术目的，本发明的技术方案是，一种大规模储能电站的虚拟构网协调控制方法，包括以下步骤：步骤1，设定电网频率正常范围，然后对电网频率进行扰动监测；步骤2，当电网频率超出正常范围时，根据当前的电网频率是高于上限或低于下限，以及储能电站各个电池组单元的荷电状态值即SOC值由小到大的5个区间，来计算得到10种各个电池组单元对应的虚拟惯量控制修正系数；步骤3，根据各个虚拟惯量控制修正系数来修正各个虚拟惯量参数；然后根据修正后的各个虚拟惯量参数，来得出各个电池组单元对应的储能变流器的PWM控制信号，从而通过储能变流器接入电网来对电网频率进行扰动控制。所述的方法，所述的步骤2包括：根据电网频率正常范围和SOCi计算各个电池组单元对应的虚拟惯量控制修正系数ki，其中fdown表示电网频率正常下限值，fup表示电网频率正常上限值，SOCi表示各个电池组单元的荷电状态值，i=1…n, n表示该储能电站含有n个电池单元组；ki是一个关于SOCi的分段函数，取值区间为，将SOCi划分为5个区间：当SoCi∈时：当SoCi∈时：当SoCi∈时：当SoCi∈ 时：当SoCi∈ 时：其中，SoCmin 、SoClow 、SoChigh 以及SoCmax为数值由小到大的电池状态界限参数，δ为调整参数。所述的方法，所述的步骤3中，根据各个虚拟惯量控制修正系数来修正各个虚拟惯量参数，是基于以下公式计算修正后的各个虚拟惯量参数Ji：其中J0为传统控制方法中不考虑SOC状态时选取的虚拟惯量参数，ki为各个电池组单元对应的虚拟惯量控制修正系数，i=1…n, n表示该储能电站含有n个电池单元组。一种大规模储能电站的虚拟构网协调控制装置，所述的装置包括电网状态监测模块、电池储能系统状态监测模块、虚拟惯量控制系数修正模块和储能变流器虚拟构网协调控制算法模块；所述的电网状态监测模块监测电网频率，并将频率值传输至虚拟惯量控制系数修正模块；所述的电池储能系统状态监测模块监测储能电站各个电池组单元的荷电状态值即SOC值，并将SOC值传输至虚拟惯量控制系数修正模块；所述的虚拟惯量控制系数修正模块包括逻辑判断模块和运算模块，其中逻辑判断模块接收并判断电网频率是否超出正常范围，当超出正常范围时，则运算模块根据当前的电网频率是高于上限或低于下限，以及SOC值由小到大的5个区间，来计算得到10种各个电池组单元对应的虚拟惯量控制修正系数；所述的储能变流器虚拟构网协调控制算法模块用于根据虚拟惯量控制修正系数来修正虚拟惯量参数，然后得出各个电池组单元对应的储能变流器的PWM控制信号；从而控制储能变流器接入电网来对电网频率进行扰动控制。所述的装置，虚拟惯量控制系数修正模块的运算模块，计算虚拟惯量控制修正系数包括：根据电网频率正常范围和SOCi计算各个电池组单元对应的虚拟惯量控制修正系数ki，其中fdown表示电网频率正常下限值，fup表示电网频率正常上限值，SOCi表示各个电池组单元的荷电状态值，i=1…n, n表示该储能电站含有n个电池单元组；ki是一个关于SOCi的分段函数，取值区间为，将SOCi划分为5个区间：当SoCi∈时：当SoCi∈时：当SoCi∈时：当SoCi∈ 时：当SoCi∈ 时：其中，SoCmin 、SoClow 、SoChigh 以及SoCmax为数值由小到大的电池状态界限参数，δ为调整参数。所述的装置，储能变流器虚拟构网协调控制算法模块根据虚拟惯量控制修正系数来修正虚拟惯量参数包括：基于以下公式计算修正后的各个虚拟惯量参数Ji：其中J0为传统控制方法中不考虑SOC状态时选取的虚拟惯量参数，ki为各个电池组单元对应的虚拟惯量控制修正系数，i=1…n, n表示该储能电站含有n个电池单元组。一种电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现前述的方法。一种计算机可读介质，其上存储有计算机程序，所述程序被处理器执行时实现如前述的方法。本发明的技术效果在于，本发明可以充分发挥储能的快速响应性能，在电网频率发生剧变时，协同储能电站的多电池组单元基于VSG控制为其提供快速的频率支撑，利于大电网的安全稳定运行。同时本发明充分考虑各电池单元的SOC状态，通过控制系数修正算法对各VSG单元的虚拟惯量参数进行修正，降低对储能电池单元的寿命损耗，利于储能电站的长久稳定运行。下面结合附图对本发明作出进一步说明。附图说明图1是大规模储能电站的虚拟构网协调控制装置的拓扑图；图2是大规模储能电站的虚拟构网协调控制方法实施步骤图。具体实施方式图1为大规模储能电站的虚拟构网协调控制装置的拓扑图。该装置主要包括电网侧频率，电压，电流监测模块，电池储能系统状态监测模块、虚拟惯量控制系数修正模块，储能变流器虚拟构网协调控制算法模块和Goose通信模块，下面结合图1对本发明所述的大规模储能电站的虚拟构网协调控制装置的各模块进行详细说明。电网侧频率，电压，电流监测模块能够监测电网频率，电压，电流，并将频率值传送到虚拟惯量控制系数修正模块；电池储能系统状态监测模块能够实时监测储能电站中各电池单元组的SOC值，并将其传送到虚拟惯量控制系数修正模块；虚拟惯量控制系数修正模块，内含一个逻辑判断模块和一个运算模块，逻辑判断模块基于电网频率值判断是否需要储能进行频率响应。若电网频率需要调节，则将频率与SOC信号传送至运算模块。运算模块基于虚拟惯量控制系数修正算法，计算出虚拟惯量修正系数，并将其传送至PCS虚拟构网协调控制算法模块；PCS虚拟构网协调控制算法模块能够根据电网频率以及虚拟惯量修正系数，基于虚拟同步发电机控制输出对储能变流器的PWM控制信号。Goose通信模块能够将PWM控制信号准确传送至储能变流器模块，实现对电网频率的支撑。图2是大规模储能电站的虚拟构网协调控制方法实施步骤图，下面结合图2对本实施例提供的一种大规模储能电站的虚拟构网协调控制方法的实施步骤进行详细说明；步骤1：对电网频率扰动进行监测，并判断是否需要储能电站参与电网频率，规定电网频率正常范围为；步骤2：当电网频率超出正常运行限值时，电网频率f与储能电站各电池组单元SOC1、SOC2…SOCn传送至运算模块；步骤3：运算模块中主要包含一种新提出的虚拟惯量控制系数修正算法，该修正算法如下：设虚拟惯量控制系数为ki, i=1…n, n表示该储能电站含有n个电池单元组，ki是一个关于SOCi的分段函数，其取值区间为，将SOCi划分为5个区间，按照如下方法进行设计：当SoCi∈，电池放电深度超出安全界限，只能进行充电：当SoCi∈，电池单元不支持全功率放电：当SoCi∈，电池单元支持全功率充放电：当SoCi∈，电池单元不支持全功率充电：当SoCi∈，电池处于过充状态，只允许放电：其中，SoCmin 、SoClow 、SoChigh 以及SoCmax为电池状态界限参数，δ为调整参数，以上参数均根据电池的出厂性能以及实际需求进行选取，不限制为固定值。基于所提算法，运算模块计算出各修正系数ki并将其发送至PCS虚拟构网协调控制算法模块，其虚拟惯量参数Ji修正为：其中，J0为传统控制方法中不考虑SOC状态时选取的虚拟惯量参数。步骤4：PCS虚拟构网协调控制算法模块输出对储能变流器的PWM控制信号，其中具体的PWM控制过程为现有技术，可基于常见的现有技术来实现。PWM控制信号通过Goose通信模块传送至储能变流器模块，实现对电网频率的支撑。同时本发明的实施例还提供了一种电子设备和一种计算机可读介质。其中电子设备，包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现前述的方法。具体使用中，用户能够通过作为终端设备的电子设备并基于网络来与同样作为电子设备的服务器进行交互，实现接收或发送消息等功能。终端设备一般是设有显示装置、基于人机界面来使用的各种电子设备，包括但不限于智能手机、平板电脑、笔记本电脑和台式电脑等。其中终端设备上根据需要可安装各种具体的应用软件，包括但不限于网页浏览器软件、即时通信软件、社交平台软件、购物软件等。服务器是用于提供各种服务的网络服务端，如对收到的从终端设备传输过来的电网频率以及各个电池组单元的荷电状态等数据提供相应计算服务的后台服务器。以得出相应的储能变流器的PWM控制信号，并将最终的结果返回至终端设备。本实施例所提供的协调控制方法可由服务器执行，在实际运用中，在满足必要条件下，终端设备亦可直接执行协调控制，相应地，协调控制装置可设置于服务器，同样在满足必要条件下，协调控制装置也可设置于终端设备中。类似的，本发明的计算机可读介质，其上存储有计算机程序，所述程序被处理器执行时实现本发明实施例的协调控制方法。以上所述实施例仅表达了本发明的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本发明构思的前提下，还可以做出若干变形和改进，这些都属于本发明的保护范围。因此，本发明专利的保护范围应以所附权利要求为准。
