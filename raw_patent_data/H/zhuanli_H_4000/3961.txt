标题title
电力物联网跳频序列图案生成方法及电力物联网设备
摘要abst
本发明公开了一种电力物联网跳频序列图案生成方法及电力物联网设备，涉及电力物联网技术领域，解决了电力物联网跳频通信参数较多，增加了传输时间，影响了通信质量的技术问题。该方法包括：将频谱资源等分为多个频段，以i的频率间隔划分出j个信道；根据所述信道数量j，设定m个互不相同的可用频点总数n，以及频点之间的生成间隔s；设定超帧参数、时帧参数及时隙参数，并通过生成间隔s计算得到序列下标p；向接收端发送当前超帧、当前时帧、当前时隙，以及可用频点总数n、生成间隔s、起始频点序号t及频段，生成一组电力物联网跳频序列图案。本发明进行跳频通信传输的参数数据少，减少了电力物联网通信的传输时间。
权利要求书clms
1.一种电力物联网跳频序列图案生成方法，其特征在于，包括以下步骤：S100：将470MHz～510MHz频谱资源等分为多个频段，从每个所述频段的起始频点开始，以i的频率间隔划分出j个信道；S200：根据所述信道数量j，设定m个互不相同的可用频点总数n，以及频点之间的生成间隔s；S300：设定超帧参数、时帧参数及时隙参数，对超帧、时帧、时隙分别进行计数，并通过生成间隔s计算得到序列下标p；S400：设定起始频点序号t，通过序列下标p、可用频点总数n及生成间隔s，得到实际频点序列，向接收端发送当前超帧、当前时帧、当前时隙，以及可用频点总数n、生成间隔s、起始频点序号t及频段，生成一组电力物联网跳频序列图案。2.根据权利要求1所述的一种电力物联网跳频序列图案生成方法，其特征在于，在所述S400步骤后还包括S500：S500：重新设定所述可用频点总数n、生成间隔s、起始频点序号t及频段中的任意一个或多个，使所述接收端生成另一组电力物联网跳频序列图案。3.根据权利要求1所述的一种电力物联网跳频序列图案生成方法，其特征在于，所述S100步骤中，将470MHz～510MHz频谱资源等分为5个频段，所述i为200KHz，所述j为40。4.根据权利要求1所述的一种电力物联网跳频序列图案生成方法，其特征在于，所述S200步骤中，所述m为8，所述可用频点总数n的值小于j。5.根据权利要求1所述的一种电力物联网跳频序列图案生成方法，其特征在于，所述S200步骤中，所述生成间隔s的最大值为n-7，最小值为7。6.根据权利要求1所述的一种电力物联网跳频序列图案生成方法，其特征在于，所述S300步骤中，所述超帧参数为一个超帧包括64个时帧，所述时帧参数为一个时帧包含32个时隙，其中一个时隙为维护时隙，所述时隙参数为一个时隙的时长为q毫秒。7.根据权利要求1所述的一种电力物联网跳频序列图案生成方法，其特征在于，所述S300步骤中，所述序列下标p的计算公式为：p＝mod，其中，mod表示取余运算，TSC表示总时隙数，所述总时隙数为时隙计数的累计值，EFN表示可用频点总数n。8.根据权利要求7所述的一种电力物联网跳频序列图案生成方法，其特征在于，所述总时隙数TSC的计算公式为：TSC＝SFn*MaxSFLength*+TFn*+TSn，其中，SFn表示当前超帧计数，MaxSFLength表示最大超帧值，TFn表示当前时帧计数，MaxTFLength表示最大时帧值，TSn表示当前时隙计数。9.根据权利要求8所述的一种电力物联网跳频序列图案生成方法，其特征在于，所述最大超帧值为255，所述最大时帧值为64，最大时隙值为32。10.一种电力物联网设备，其特征在于，包括：一个或多个处理器；存储器，用于存储一个或多个计算机程序，一个或多个所述处理器用于执行所述存储器存储的一个或多个计算机程序，以使一个或多个所述处理器执行如权利要求1-9任一项所述的一种电力物联网跳频序列图案生成方法处理方法。
说明书desc
技术领域本发明涉及电力物联网技术领域，尤其涉及一种电力物联网跳频序列图案生成方法及电力物联网设备。背景技术近年来，智能电网不断的高速发展，电力业务需求也不断的增长，同时接入电力物联网的设备也越来越多。特别是大量的传感器设备，采用主动上报数据的模式，不可避免的产生大量随机竞争；470MHz～510MHz频谱资源属于广电和计量领域共用的，不可避免的会产生相互干扰。跳频技术可以提供较好的多址接入能力和避免多节点之间的相互干扰，跳频序列图案是跳频通信技术中的一个关键技术，通常跳频序列图案包含两大要素，一是参与跳频的频点列表，二是伪随机跳频序列。跳频序列是由跳频频点列表中的频点按照特定的数学方法排列组合形成的一个跳频序列，以及跳频序列图案。在实现本发明过程中，发明人发现现有技术中至少存在如下问题：现有的跳频序列图案生成方法传输的跳频通信参数较多，增加了传输时间，影响了电力物联网跳频通信的通信质量。发明内容本发明的目的在于提供一种电力物联网跳频序列图案生成方法及电力物联网设备，以解决现有技术中存在的跳频序列图案生成方法传输的跳频通信参数较多，增加了传输时间，影响了电力物联网跳频通信的通信质量的技术问题。本发明提供的诸多技术方案中的优选技术方案所能产生的诸多技术效果详见下文阐述。为实现上述目的，本发明提供了以下技术方案：本发明提供的一种电力物联网跳频序列图案生成方法，包括以下步骤：S100：将470MHz～510MHz频谱资源等分为多个频段，从每个所述频段的起始频点开始，以i的频率间隔划分出j个信道；S200：根据所述信道数量j，设定m个互不相同的可用频点总数n，以及频点之间的生成间隔s；S300：设定超帧参数、时帧参数及时隙参数，对超帧、时帧、时隙分别进行计数，并通过生成间隔s计算得到序列下标p；S400：设定起始频点序号t，通过序列下标p、可用频点总数n及生成间隔s，得到实际频点序列，向接收端发送当前超帧、当前时帧、当前时隙，以及可用频点总数n、生成间隔s、起始频点序号t及频段，生成一组电力物联网跳频序列图案。优选的，在所述S400步骤后还包括S500：重新设定所述可用频点总数n、生成间隔s、起始频点序号t及频段中的任意一个或多个，使所述接收端生成另一组电力物联网跳频序列图案。优选的，所述S100步骤中，将470MHz～510MHz频谱资源等分为5个频段，所述i为200KHz，所述j为40。优选的，所述S200步骤中，所述m为8，所述可用频点总数n的值小于j。优选的，所述S200步骤中，所述生成间隔s的最大值为n-7，最小值为7。优选的，所述S300步骤中，所述超帧参数为一个超帧包括64个时帧，所述时帧参数为一个时帧包含32个时隙，其中一个时隙为维护时隙，所述时隙参数为一个时隙的时长为q毫秒。优选的，所述S300步骤中，所述序列下标p的计算公式为：p＝mod，其中，mod表示取余运算，TSC表示总时隙数，所述总时隙数为时隙计数的累计值，EFN表示可用频点总数n。优选的，所述总时隙数TSC的计算公式为：TSC＝SFn*MaxSFLength*+TFn*+TSn，其中，SFn表示当前超帧计数，MaxSFLength表示最大超帧值，TFn表示当前时帧计数，MaxTFLength表示最大时帧值，TSn表示当前时隙计数。优选的，所述最大超帧值为255，所述最大时帧值为64，最大时隙值为32。一种电力物联网设备，其特征在于，包括：一个或多个处理器；存储器，用于存储一个或多个计算机程序，一个或多个所述处理器用于执行所述存储器存储的一个或多个计算机程序，以使一个或多个所述处理器执行以上任一项所述的一种电力物联网跳频序列图案生成方法处理方法。实施本发明上述技术方案中的一个技术方案，具有如下优点或有益效果：本发明只需要传输当前超帧、时帧、时隙，可用频点总数、频点生成间隔、起始频点序号和频段，即可在接收端再生还原出跳频序列并实现同步，空中传输的参数数据少，减少了电力物联网通信的传输时间，提高了跳频通信质量。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例描述中所需要使用的附图作简单的介绍，显而易见，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图，附图中：图1是本发明电力物联网跳频序列图案生成方法实施例的流程图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，下文将要描述的各种示例性实施例将要参考相应的附图，这些附图构成了示例性实施例的一部分，其中描述了实现本发明可能采用的各种示例性实施例。除非另有表示，不同附图中的相同数字表示相同或相似的要素。以下示例性实施例中所描述的实施方式并不代表与本公开相一致的所有实施方式。应明白，它们仅是与如所附权利要求书中所详述的、本发明公开的一些方面相一致的流程、方法和装置等的例子，还可使用其他的实施例，或者对本文列举的实施例进行结构和功能上的修改，而不会脱离本发明的范围和实质。在本发明的描述中，需要理解的是，术语“中心”、“纵向”、“横向”等指示的是基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的元件必须具有的特定的方位、以特定的方位构造和操作。术语“第一”、“第二”等仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。术语“多个”的含义是两个或两个以上。术语“相连”、“连接”应做广义理解，例如，可以是固定连接、可拆卸连接、一体地连接、机械连接、电连接、通信连接、直接相连、通过中间媒介间接相连，可以是两个元件内部的连通或两个元件的相互作用关系。术语“和/或”包括一个或多个相关的所列项目的任意的和所有的组合。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。为了说明本发明所述的技术方案，下面通过具体实施例来进行说明，仅示出了与本发明实施例相关的部分。实施例一：如图1所示，本发明提供了一种电力物联网跳频序列图案生成方法，包括以下步骤。S100：将470MHz～510MHz频谱资源分为多个频段，从每个频段的起始频点开始，以i的频率间隔划分出j个信道，将频谱资源分为频段和信道，提高了频谱资源的利用率，便于更好实现电力物联网的跳频通信。S200：根据信道数量j，设定m个互不相同的可用频点总数n，以及频点之间的生成间隔s，通过设定m个可用频点总数n，提高了信道利用的灵活性，频点之间的生成间隔s确定了跳频通信的每跳之间的频率间隔。S300：设定超帧参数、时帧参数及时隙参数，超帧、时帧为跳频同步系统的时间单位，时隙为跳频同步系统的基础时间单位，对超帧、时帧、时隙分别进行计数，并通过生成间隔s计算得到序列下标p，通过序列下标p与信道中的频率编号进行对应，便于实现全部时隙与信道频率的对应。S400：设定起始频点序号t，通过序列下标p、可用频点总数n及生成间隔s，得到实际频点序列，如表1所示，可用频点总数为37，生成间隔s为7时，通过序列下标p可得到可用频点序列，进而得到实际频点序列。向接收端发送当前超帧、当前时帧、当前时隙，以及可用频点总数n、生成间隔s、起始频点序号t及频段，生成一组电力物联网跳频序列图案。本发明只需要传输当前超帧、时帧、时隙，可用频点总数、频点生成间隔、起始频点序号和频段，即可在接收端再生还原出跳频序列并实现同步，空中传输的参数数据少，减少了电力物联网通信的传输时间，提高了跳频通信质量。表1 实际频点产生实例作为可选的实施方式，如图1所示，S400步骤之后还包括S500。S500：重新设定可用频点总数n、生成间隔s、起始频点序号t及频段中的任意一个或多个，即改变可用频点总数n、生成间隔s、起始频点序号t及频段中的任意一个或多个参数，使接收端生成另一组电力物联网跳频序列图案，组合数较多，可以很好的规避碰撞。其中，只改变起始频点序号t时，可生成一组与当前序列零冲突的新序列，起始频点序号的最大取值为可用频点总数n对应的数值，此处为37，如表2所示，起始频点序号为1、2、3等时，得到了新的实际频率序列下标，并与原序列成正交关系，从而在时隙完全同步的情况下频点是零冲突的，可以最大限度的避免因频点冲突带来的重传开销。其中，起始频点序号为2时，选择与第1个相差生成间隔s的可用频点序列作为实际频点序列下标，以此类推。表2 不同起始频点序号计算频点序列下标实例作为可选的实施方式，S100步骤中，将470MHz～510MHz频谱资源等等分为5个频段，即每个频段的带宽为8Mhz，与电视频道的带宽保持一致。1～5频段的频率分别为470MHz～478MHz、478MHz～486MHz、486MHz～494MHz、494MHz～502MHz和502MHz～510MHz，分别对应DTMB标准的频道13～频道17，从而可以根据当地DTMB电视频道开通的情况选择没有被占用的频段，避免对广电信号产生影响。i为200KHz，j为40，即将8MHz的频段均分为40个信道，每个信道的带宽200KHz，可以满足大部分场景下电力物联网跳频通信的数据传输需求。作为可选的实施方式，S200中，m为8，可用频点总数n的值小于j。即8种不同的可用频点总数n，且每个可用频点总数n都必须小于信道数量40。如表3所示，为其中一种可用频点数总数实例，其中m可根据需要设置为其它整数，如4、6等，可用频点总数n的具体数值也可以根据需要进行设置，如将序号2的13替换为15等。可用频点总数n的具体数值，如11表示从40个信道频率中任意挑选11个信道频率，或从第一个信道频率开始到第11个信道频率，可根据需要进行设置。表3 可用频点数总数实例作为可选的实施方式，S200步骤中，生成间隔s的最大值为n-7，最小值为7。生成间隔s确定了每次跳频的间隔，对每一个确定的可用频点总数，生成间隔s的最大值、最小值唯一确定，如可用频点总数为37时，生成间隔最大为30，最小为7。由于本发明中信道数量为40，取这个最大值最小值较为适宜，能够实现较多形式的跳频方式组合。当然，生成间隔s的最大值、最小值也可以根据需要重新设置，取值不限于n-7和7。作为可选的实施方式，S300步骤中，超帧参数为一个超帧包括64个时帧，时帧参数为一个时帧包含32个时隙，其中一个时隙为维护时隙，时隙参数为一个时隙的时长为q毫秒。超帧参数、时帧参数对应的值都为2的整数次方，便于进行快速计算，提高跳频通信的速度。作为可选的实施方式，S300步骤中，序列下标p的计算公式为：p＝mod，其中，mod表示对进行取余运算，TSC表示总时隙数，总时隙数为时隙计数的累计值，EFN表示可用频点总数n，显然不同的可用频点总数n得到的结果不同，如可用频点总数为37或31时，计算得到的结果不同。通过取余运算，可以将时隙计数与可用频点总数中的标号顺序相对应，从而便于计算出实际频点序列。如表4所示为序列下标计算的一种实例，SF0～SF1表示超帧计数，TF0～TF63表示时隙计数，每一个超帧对应32个时隙，由于时隙计数TS31为维护时隙，因此每一个超帧的实际时隙计数为31个，通过累加就得到了总时隙计数TSC。总时隙数TSC的计算公式为：TSC＝SFn*MaxSFLength*+TFn*+TSn，其中，SFn表示当前超帧计数，MaxSFLength表示最大超帧值，TFn表示当前时帧计数，MaxTFLength表示最大时帧值，中的1为维护时隙，TSn表示当前时隙计数，即当前时帧计数下的时隙计数。最大超帧值为255，最大时帧值为64，最大时隙值为32，也可根据使用需要设置为其他值。表4 序列下标计算实例实施例仅是一个特例，并不表明本发明就这样一种实现方式。实施例二：本发明还提供一种电力物联网设备实施例，包括一个或多个处理器及存储器；其中，所述存储器用于存储一个或多个计算机程序，所述一个或多个处理器用于执行存储器存储的一个或多个计算机程序，以使处理器执行上述电力物联网跳频序列图案生成方法实施例的特征/步骤。电力物联网设备只需要传输当前超帧、时帧、时隙，可用频点总数、频点生成间隔、起始频点序号和频段，即可在接收端再生还原出跳频序列并实现同步，空中传输的参数数据少，减少了电力物联网通信的传输时间，提高了跳频通信质量。以上所述仅为本发明的较佳实施例而已，本领域技术人员知悉，在不脱离本发明的精神和范围的情况下，可以对这些特征和实施例进行各种改变或等同替换。另外，在本发明的教导下，可以对这些特征和实施例进行修改以适应具体的情况及材料而不会脱离本发明的精神和范围。因此，本发明不受此处所公开的具体实施例的限制，所有落入本申请的权利要求范围内的实施例都属于本发明的保护范围。
