标题title
一种域名解析系统、方法及设备
摘要abst
本申请公开了一种域名解析系统、方法及设备，用以使得流量调度更加有序。由于本申请CDN针对任一域名对应的每个地区，可以获取该地区的每个IP地址的流量参数值；基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将每个IP地址对应的应答概率发送给该地区对应的Local DNS；Local DNS可以在接收到客户端发送的针对该域名的域名解析请求时，基于每个IP地址对应的应答概率，确定应答的目标IP地址，基于此，可以实现流量调度更加有序，保证网络流畅度的目的。
权利要求书clms
1.一种域名解析系统，其特征在于，所述系统包括：内容分发网络CDN，用于针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值；基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的本地域名服务器Local DNS；所述Local DNS，用于接收所述每个IP地址对应的应答概率，并在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。2.根据权利要求1所述的系统，其特征在于，所述CDN，具体用于：确定各IP地址的流量参数值的和值及平均值；针对每个IP地址，确定所述平均值与该IP地址的流量参数值的差值，基于所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。3.根据权利要求2所述的系统，其特征在于，所述CDN，具体用于：根据各IP地址的数目，确定每个IP地址对应的初始概率值；针对每个IP地址，基于所述初始概率值及该IP地址对应的所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。4.根据权利要求1-3任一所述的系统，其特征在于，所述流量参数值包括：带宽负载率、健康值中的至少一种。5.根据权利要求4所述的系统，其特征在于，若所述流量参数值包括带宽负载量以及健康值，所述CDN，具体用于：针对每个IP地址，基于该IP地址的带宽负载量、健康值以及设定的流量参数确定算法，确定该IP地址的流量参数值。6.根据权利要求5所述的系统，其特征在于，所述CDN，具体用于：针对每个IP地址，基于以下任意一种方式，确定该IP地址的流量参数值：按照该IP地址的带宽负载率和健康值中的最大值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值中的最小值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值的平均值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率、设定的带宽负载率权重系数、健康值以及设定的健康值权重系数，确定该IP地址的流量参数值。7.根据权利要求1所述的系统，其特征在于，所述Local DNS，具体用于：将每个IP地址对应的应答概率进行归一化，基于每个IP地址对应的应答概率的大小，生成每个IP地址对应的随机数取值子区间；其中，各IP地址对应的随机数取值子区间互不重合；基于设定的随机数生成算法，生成不超过所述随机数取值子区间的总长度的目标随机数；确定所述目标随机数所归属的目标随机数取值子区间；将所述目标随机数取值子区间对应的IP地址，确定为进行应答的目标IP地址。8.一种域名解析方法，其特征在于，所述方法应用于内容分发网络CDN，所述方法包括：针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值；基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的本地域名服务器Local DNS，使所述Local DNS接收所述每个IP地址对应的应答概率，并使所述Local DNS在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；使所述Local DNS将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。9.一种域名解析方法，其特征在于，所述方法应用于本地域名服务器Local DNS，所述方法包括：接收内容分发网络CDN发送的每个IP地址对应的应答概率；其中，所述每个IP地址为针对任一域名对应的任一地区的每个IP地址；所述应答概率为基于所述每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定的以该IP地址进行应答时的应答概率；在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。10.一种电子设备，其特征在于，包括：处理器、存储器；所述存储器，用于存储计算机指令；所述处理器，用于读取所述计算机指令，执行如权利要求8或9所述的方法。
说明书desc
技术领域本申请涉及云计算技术领域，尤其涉及一种域名解析系统、方法、装置、设备及介质。背景技术域名解析是把域名指向网站空间的IP地址，即域名解析就是从域名到IP地址的转换过程，域名的解析工作通常是由域名服务器来完成。示例性的，当对象需要通过客户端访问网络时，可以在浏览器中输入域名，触发域名解析请求，DNS接收到该域名解析请求后，可以确定客户端所在的地区中，该域名对应的各IP地址，从各IP地址中选取一个目标IP地址，从而完成域名解析过程，并将选取的目标IP地址返回给对象的客户端。对象可以基于目标IP地址，在客户端实现对该目标IP地址对应的服务器的访问。然而，针对同一域名，当多个对象同时触发域名解析请求时，如果为多个对象的客户端返回的目标IP地址均为同一个IP地址时，则可能会使得流量拥挤等，影响网络流畅度。因此，在进行域名解析时，如何从各IP地址，选取目标IP地址，以使得流量调度更加有序，保证网络流畅度，是目前亟需解决的一个技术问题。发明内容为了使得流量调度更加有序，本申请提供了一种域名解析系统、方法、装置、设备及介质。第一方面，本申请提供了一种域名解析系统，所述系统包括：内容分发网络CDN，用于针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值；基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的本地域名服务器Local DNS；所述Local DNS，用于接收所述每个IP地址对应的应答概率，并在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。第二方面，本申请提供了一种域名解析方法，所述方法应用于内容分发网络CDN，所述方法包括：针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值；基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的本地域名服务器Local DNS，使所述Local DNS接收所述每个IP地址对应的应答概率，并使所述Local DNS在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；使所述Local DNS将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。第三方面，本申请提供了一种域名解析方法，所述方法应用于本地域名服务器Local DNS，所述方法包括：接收内容分发网络CDN发送的每个IP地址对应的应答概率；其中，所述每个IP地址为针对任一域名对应的任一地区的每个IP地址；所述应答概率为基于所述每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定的以该IP地址进行应答时的应答概率；在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。第四方面，本申请提供了一种域名解析装置，应用于CDN，该装置包括：获取模块，用于针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值。确定模块，用于基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的Local DNS，使所述Local DNS接收所述每个IP地址对应的应答概率，并使所述Local DNS在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；使所述Local DNS将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。第五方面，本申请提供了一种域名解析装置，应用于Local DNS，该装置包括：接收模块，用于接收CDN发送的每个IP地址对应的应答概率；其中，所述每个IP地址为针对任一域名对应的任一地区的每个IP地址；所述应答概率为基于所述每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定的以该IP地址进行应答时的应答概率。应答模块，用于在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。第六方面，本申请提供了一种电子设备，包括：处理器、存储器；所述存储器，用于存储计算机指令；所述处理器，用于读取所述计算机指令，执行如上述任一项所述的方法。第七方面，本申请提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机可执行指令，所述计算机可执行指令用于使所述计算机执行如上述任一项所述的方法。第八方面，本申请还提供了一种计算机程序产品，所述计算机程序产品在被计算机调用时，使得所述计算机执行如上述任一项所述的方法。由于本申请CDN针对任一域名对应的每个地区，可以获取该地区的每个IP地址的流量参数值；基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将每个IP地址对应的应答概率发送给该地区对应的Local DNS；Local DNS可以在接收到客户端发送的针对该域名的域名解析请求时，基于每个IP地址对应的应答概率，确定应答的目标IP地址，基于此，可以实现流量调度更加有序，保证网络流畅度的目的。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简要介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域的普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例提供的一种域名解析系统示意图；图2为本申请实施例提供的一种域名解析过程示意图；图3为本申请实施例提供的一种域名解析流程示意图；图4为本申请实施例提供的另一种域名解析流程示意图；图5为本申请实施例提供的一种域名解析装置示意图；图6为本申请实施例提供的另一种域名解析装置示意图；图7为本申请实施例提供的一种电子设备结构示意图。具体实施方式为了使得流量调度更加有序，本申请实施例提供了一种域名解析系统、方法、装置、设备及介质。为使本申请的目的和实施方式更加清楚，下面将结合本申请示例性实施例中的附图，对本申请示例性实施方式进行清楚、完整地描述，显然，描述的示例性实施例仅是本申请一部分实施例，而不是全部的实施例。需要说明的是，本申请中对于术语的简要说明，仅是为了方便理解接下来描述的实施方式，而不是意图限定本申请的实施方式。除非另有说明，这些术语应当按照其普通和通常的含义理解。本申请中说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”等是用于区别类似或同类的对象或实体，而不必然意味着限定特定的顺序或先后次序，除非另外注明。应该理解这样使用的用语在适当情况下可以互换。术语“包括”和“具有”以及他们的任何变形，意图在于覆盖但不排他的包含，例如，包含了一系列组件的产品或设备不必限于清楚地列出的所有组件，而是可包括没有清楚地列出的或对于这些产品或设备固有的其它组件。术语“模块”是指任何已知或后来开发的硬件、软件、固件、人工智能、模糊逻辑或硬件或/和软件代码的组合，能够执行与该元件相关的功能。最后应说明的是：以上各实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述各实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围。实施例1：图1为本申请实施例提供的一种域名解析系统示意图，该系统包括：内容分发网络11，用于针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值；基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的本地域名服务器12；所述Local DNS 12，用于接收所述每个IP地址对应的应答概率，并在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。在一种可能的实施方式中，为了使得流量调度更加有序，可以将CDN 11和LocalDNS 12互相交互配合从而实现精准的流量调度。可选的，CDN 11可以针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值。示例性的，可以基于带宽负载采集设备采集每个IP地址的带宽负载率、健康值等流量参数值，CDN 11可以获取到该流量参数值。可选的，带宽负载采集设备可以归属于CDN 11中，也可以是独立于CDN 11的其他设备，本申请对此不作具体限定。另外，采集每个IP地址的带宽负载率、健康值等流量参数值可以采用现有技术，本申请对此不作具体限定，例如，以采集IP地址的健康值为例，可以按照设定的时间周期，周期性的对每个IP地址进行健康检查，从而得到每个IP地址的健康值。针对任一域名对应的每个地区，获取到该地区的每个IP地址的流量参数值后，CDN11可以基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率。在一种可能的实施方式中，针对任一地区，确定以该地区中的任一IP地址进行应答时的应答概率时，可以先确定该地区的各个IP地址的流量参数值的和值以及平均值，然后，针对每个IP地址，可以确定该平均值与该IP地址的流量参数值的差值，基于该差值与该和值的比值，确定以该IP地址进行应答时的应答概率。示例性的，在确定应答概率时，可以先根据各IP地址的数目，确定每个IP地址对应的初始概率值；然后针对每个IP地址，基于该初始概率值，以及该IP地址对应的上述差值与上述和值的比值，确定以该IP地址进行应答时的应答概率。为方便理解，下面以公式形式对本申请提供的确定应答概率的过程进行解释说明。假设针对某个域名，该域名在某个地区共有n个IP地址。其中，本申请对n的具体数值不作具体限定，可以根据需求灵活设置，可选的，n可以为不大于14的任一正整数。每个IP地址的流量参数值用L表示，其中i为1，2，3，……n。则各IP地址的流量参数值的和值为sum+L+L+……+L)；各IP地址的流量参数值的平均值为avg+L+L+……+L)；每个IP地址对应的初始概率值为1/n；则针对每个IP地址，以该IP地址进行应答时的应答概率在一种可能的实施方式中，应答概率P可以不大于1，即0≤P≤1。在一种可能的实施方式中，流量参数值可以包括带宽负载率、健康值中的至少一种，也就是说，流量参数值可以只包括带宽负载率，也可以只包括健康值，也可以包括带宽负载率以及健康值。为方便理解，下面先以流量参数值中只包括带宽负载率时，如何确定上述应答概率进行举例说明。仍以公式行为对本申请确定应答概率的过程进行解释说明。假设针对某个域名，该域名在某个地区共有n个IP地址。每个IP地址的流量参数值，即带宽负载率为load表示，其中i为1，2，3，……n。则各IP地址的流量参数值的和值为sum+load+load+……+load)；各IP地址的流量参数值的平均值为avg+load+load+……+load)；每个IP地址对应的初始概率值为1/n；则针对每个IP地址，以该IP地址进行应答时的应答概率在一种可能的实施方式中，若流量参数值包括带宽负载量以及健康值，针对每个IP地址，确定该IP地址的流量参数值时，可以是基于该IP地址的带宽负载量、健康值以及设定的流量参数确定算法，确定该IP地址的流量参数值。示例性的，针对每个IP地址，可以按照该IP地址的带宽负载率和健康值中的最大值，确定该IP地址的流量参数值，也就是说，可以将该IP地址的带宽负载率和健康值中的最大值，确定为该IP地址的流量参数值。另外，在确定IP地址的流量参数值时，还可以按照该IP地址的带宽负载率和健康值中的最小值，确定该IP地址的流量参数值，也就是说，可以将该IP地址的带宽负载率和健康值中的最小值，确定为该IP地址的流量参数值。另外，在确定IP地址的流量参数值时，还可以按照该IP地址的带宽负载率和健康值的平均值，确定该IP地址的流量参数值，也就是说，可以将该IP地址的带宽负载率和健康值的平均值，确定为该IP地址的流量参数值。另外，在确定IP地址的流量参数值时，还可以按照该IP地址的带宽负载率、设定的带宽负载率权重系数、健康值以及设定的健康值权重系数，确定该IP地址的流量参数值。例如，可以先确定该IP地址的带宽负载率与设定的带宽负载率权重系数的第一乘积，以及该IP地址的健康值与设定的健康值权重系数的第二乘积，然后将第一乘积和第二乘积的和，确定为IP地址的流量参数值。在一种可能的实施方式中，CDN 11基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率之后，可以将每个IP地址对应的应答概率发送给相应的本地域名服务器。Local DNS 12接收到CDN 11发送的每个IP地址对应的应答概率后，可以将每个IP地址对应的应答概率进行保存。当接收到归属于本地区的客户端发送的针对域名的域名解析请求时，Local DNS 12可以基于每个IP地址对应的应答概率，确定进行应答的目标IP地址，基于该目标IP地址进行应答，即可以将该目标IP地址发送给客户端，使用该客户端的对象，可以基于该目标IP地址，在客户端实现对该目标IP地址对应的服务器的访问。在一种可能的实施方式中，Local DNS 12基于每个IP地址对应的应答概率，确定进行应答的目标IP地址的过程可以如下：首先，Local DNS 12可以将每个IP地址对应的应答概率进行归一化，基于每个IP地址对应的应答概率的大小，生成每个IP地址对应的随机数取值子区间；其中，各IP地址对应的随机数取值子区间互不重合。Local DNS 12可以基于设定的随机数生成算法，生成不超过各个随机数取值子区间的总长度的目标随机数。然后，Local DNS 12可以确定目标随机数所归属的目标随机数取值子区间，并将目标随机数取值子区间对应的IP地址，确定为进行应答的目标IP地址。为方便理解，下面通过一个具体实施例对本申请提供的确定目标IP地址的过程进行举例说明。针对某个域名，预先配置该域名在各个地区提供服务的每个IP地址。示例性的，针对某个域名，假设在北某这个地区配置的每个IP地址分别为1.1.1.1、2.2.2.2和3.3.3.3，在广某这个地区配置的每个IP地址分别为4.4.4.4、5.5.5.5和6.6.6.6。下面针对北某这个地区进行举例说明。针对北某这个地区，每个IP地址对应的初始概率值分别为33.33％。参阅图2，图2为本申请实施例提供的一种域名解析过程示意图，假设流量参数值为带宽负载率，针对北某这个地区，该地区的每个IP地址的带宽负载率情况如下：1.1.1.1这个IP地址的带宽负载率为100％；2.2.2.2这个IP地址的带宽负载率为50％；3.3.3.3这个IP地址的带宽负载率为80％。示例性的，在基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率时，可以将1.1.1.1这个IP地址的应答比例由33.33％调整为10％，将2.2.2.2这个IP地址的应答比例由33.33％调整为60％，并将3.3.3.3这个IP地址的应答比例由33.33％调整为30％。CDN 11可以将北某这个地区的每个IP地址对应的应答概率发送给北某这个地区对应的Local DNS 12。北某这个地区对应的Local DNS 12可以接收并加载该针对每个IP地址对应的应答概率的配置。当归属于北某的客户端向北某这个地区对应的Local DNS 12发送针对上述域名的域名解析请求时，该Local DNS 12可以基于北某这个地区的每个IP地址对应的应答概率，确定进行应答的目标IP地址。示例性的，假设将北某这个地区的每个IP地址对应的应答概率进行归一化，并基于每个IP地址对应的应答概率的大小，生成每个IP地址对应的随机数取值子区间时，1.1.1.1这个IP地址对应的随机数取值子区间为，2.2.2.2这个IP地址对应的随机数取值子区间为的每个IP地址对应的应答概率，进行域名解析，确定进行应答的目标IP地址即可，相较于相关技术中的域名解析过程，减少了DNS迭代的过程，降低了DNS损耗，提升了用户体验。另外，针对同一域名，当数量庞大的多个对象同时触发域名解析请求时，基于本申请实施例中域名解析过程进行域名解析时，可以使得每个IP地址的实际的带宽比例与每个IP地址的应答概率预期一致，相较于相关技术中，如果数量庞大的多个对象同时触发域名解析请求时，为数量庞大的多个对象的客户端返回的目标IP地址可能均为同一个IP地址，从而可能导致流量拥挤等，影响网络流畅度而言，本申请实施例可以基于每个IP地址的流量参数值，确定每个IP地址的应答概率，基于该应答概率，确定适合的目标IP地址，从而可以使得流量调度比例更加精细，带宽控制更加平稳。实施例2：基于相同的技术构思，本申请提供了一种域名解析方法，应用于CDN，参阅图3，图3为本申请实施例提供的一种域名解析流程示意图，该过程包括以下步骤：S301：针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值。S302：基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的Local DNS，使所述Local DNS接收所述每个IP地址对应的应答概率，并使所述Local DNS在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；使所述Local DNS将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。在一种可能的实施方式中，所述基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率，包括：确定各IP地址的流量参数值的和值及平均值；针对每个IP地址，确定所述平均值与该IP地址的流量参数值的差值，基于所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。在一种可能的实施方式中，所述基于所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率，包括：根据各IP地址的数目，确定每个IP地址对应的初始概率值；针对每个IP地址，基于所述初始概率值及该IP地址对应的所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。在一种可能的实施方式中，所述流量参数值包括：带宽负载率、健康值中的至少一种。在一种可能的实施方式中，若所述流量参数值包括带宽负载量以及健康值，所述获取该地区的每个IP地址的流量参数值，包括：针对每个IP地址，基于该IP地址的带宽负载量、健康值以及设定的流量参数确定算法，确定该IP地址的流量参数值。在一种可能的实施方式中，所述基于该IP地址的带宽负载量、健康值以及设定的流量参数确定算法，确定该IP地址的流量参数值，包括：针对每个IP地址，基于以下任意一种方式，确定该IP地址的流量参数值：按照该IP地址的带宽负载率和健康值中的最大值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值中的最小值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值的平均值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率、设定的带宽负载率权重系数、健康值以及设定的健康值权重系数，确定该IP地址的流量参数值。基于相同的技术构思，本申请提供了一种域名解析方法，应用于Local DNS，参阅图4，图4为本申请实施例提供的另一种域名解析流程示意图，该过程包括以下步骤：S401：接收CDN发送的每个IP地址对应的应答概率；其中，所述每个IP地址为针对任一域名对应的任一地区的每个IP地址；所述应答概率为基于所述每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定的以该IP地址进行应答时的应答概率。S402：在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。在一种可能的实施方式中，所述基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址，包括：将每个IP地址对应的应答概率进行归一化，基于每个IP地址对应的应答概率的大小，生成每个IP地址对应的随机数取值子区间；其中，各IP地址对应的随机数取值子区间互不重合；基于设定的随机数生成算法，生成不超过所述随机数取值子区间的总长度的目标随机数；确定所述目标随机数所归属的目标随机数取值子区间；将所述目标随机数取值子区间对应的IP地址，确定为进行应答的目标IP地址。实施例3：基于相同的技术构思，本申请提供了一种域名解析装置，应用于CDN，参阅图5，图5为本申请实施例提供的一种域名解析装置示意图，该装置包括：获取模块51，用于针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值。确定模块52，用于基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的Local DNS，使所述Local DNS接收所述每个IP地址对应的应答概率，并使所述Local DNS在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；使所述Local DNS将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。在一种可能的实施方式中，所述确定模块52，具体用于：确定各IP地址的流量参数值的和值及平均值；针对每个IP地址，确定所述平均值与该IP地址的流量参数值的差值，基于所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。在一种可能的实施方式中，所述确定模块52，具体用于：根据各IP地址的数目，确定每个IP地址对应的初始概率值；针对每个IP地址，基于所述初始概率值及该IP地址对应的所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。在一种可能的实施方式中，所述流量参数值包括：带宽负载率、健康值中的至少一种。在一种可能的实施方式中，若所述流量参数值包括带宽负载量以及健康值，所述获取模块51，具体用于：针对每个IP地址，基于该IP地址的带宽负载量、健康值以及设定的流量参数确定算法，确定该IP地址的流量参数值。在一种可能的实施方式中，所述获取模块51，具体用于：针对每个IP地址，基于以下任意一种方式，确定该IP地址的流量参数值：按照该IP地址的带宽负载率和健康值中的最大值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值中的最小值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值的平均值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率、设定的带宽负载率权重系数、健康值以及设定的健康值权重系数，确定该IP地址的流量参数值。基于相同的技术构思，本申请提供了另一种域名解析装置，应用于Local DNS，参阅图6，图6为本申请实施例提供的另一种域名解析装置示意图，该装置包括：接收模块61，用于接收CDN发送的每个IP地址对应的应答概率；其中，所述每个IP地址为针对任一域名对应的任一地区的每个IP地址；所述应答概率为基于所述每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定的以该IP地址进行应答时的应答概率。应答模块62，用于在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。在一种可能的实施方式中，所述应答模块62，具体用于：将每个IP地址对应的应答概率进行归一化，基于每个IP地址对应的应答概率的大小，生成每个IP地址对应的随机数取值子区间；其中，各IP地址对应的随机数取值子区间互不重合；基于设定的随机数生成算法，生成不超过所述随机数取值子区间的总长度的目标随机数；确定所述目标随机数所归属的目标随机数取值子区间；将所述目标随机数取值子区间对应的IP地址，确定为进行应答的目标IP地址。实施例4：基于相同的技术构思，本申请提供了一种电子设备。图7为本申请实施例提供的一种电子设备结构示意图，如图7所示，包括：处理器71、通信接口72、存储器73和通信总线74，其中，处理器71，通信接口72，存储器73通过通信总线74完成相互间的通信；所述存储器73中存储有计算机程序，当所述程序被所述处理器71执行时，使得所述处理器71执行如下步骤：针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值；基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的Local DNS，使所述Local DNS接收所述每个IP地址对应的应答概率，并使所述LocalDNS在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；使所述Local DNS将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。在一种可能的实施方式中，所述处理器71，具体用于：确定各IP地址的流量参数值的和值及平均值；针对每个IP地址，确定所述平均值与该IP地址的流量参数值的差值，基于所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。在一种可能的实施方式中，所述处理器71，具体用于：根据各IP地址的数目，确定每个IP地址对应的初始概率值；针对每个IP地址，基于所述初始概率值及该IP地址对应的所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。在一种可能的实施方式中，所述流量参数值包括：带宽负载率、健康值中的至少一种。在一种可能的实施方式中，若所述流量参数值包括带宽负载量以及健康值，所述处理器71，具体用于：针对每个IP地址，基于该IP地址的带宽负载量、健康值以及设定的流量参数确定算法，确定该IP地址的流量参数值。在一种可能的实施方式中，所述处理器71，具体用于：针对每个IP地址，基于以下任意一种方式，确定该IP地址的流量参数值：按照该IP地址的带宽负载率和健康值中的最大值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值中的最小值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值的平均值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率、设定的带宽负载率权重系数、健康值以及设定的健康值权重系数，确定该IP地址的流量参数值。另外，所述存储器73中存储有计算机程序，当所述程序被所述处理器71执行时，还可以使得所述处理器71执行如下步骤：接收CDN发送的每个IP地址对应的应答概率；其中，所述每个IP地址为针对任一域名对应的任一地区的每个IP地址；所述应答概率为基于所述每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定的以该IP地址进行应答时的应答概率；在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。在一种可能的实施方式中，所述处理器71，具体用于：将每个IP地址对应的应答概率进行归一化，基于每个IP地址对应的应答概率的大小，生成每个IP地址对应的随机数取值子区间；其中，各IP地址对应的随机数取值子区间互不重合；基于设定的随机数生成算法，生成不超过所述随机数取值子区间的总长度的目标随机数；确定所述目标随机数所归属的目标随机数取值子区间；将所述目标随机数取值子区间对应的IP地址，确定为进行应答的目标IP地址。上述电子设备提到的通信总线可以是外设部件互连标准总线或扩展工业标准结构总线等。该通信总线可以分为地址总线、数据总线、控制总线等。为便于表示，图中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。通信接口72用于上述电子设备与其他设备之间的通信。存储器可以包括随机存取存储器，也可以包括非易失性存储器，例如至少一个磁盘存储器。可选地，存储器还可以是至少一个位于远离前述处理器的存储装置。上述处理器可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字指令处理器、专用集成电路、现场可编程门陈列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。实施例5：基于相同的技术构思，本申请实施例提供了一种计算机可读存储介质，所述计算机可读存储介质内存储有可由电子设备执行的计算机程序，当所述程序在所述电子设备上运行时，使得所述电子设备执行时实现下述步骤：针对任一域名对应的每个地区，获取该地区的每个IP地址的流量参数值；基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率；并将所述每个IP地址对应的应答概率发送给该地区对应的Local DNS，使所述Local DNS接收所述每个IP地址对应的应答概率，并使所述LocalDNS在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；使所述Local DNS将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。在一种可能的实施方式中，所述基于每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定以该IP地址进行应答时的应答概率，包括：确定各IP地址的流量参数值的和值及平均值；针对每个IP地址，确定所述平均值与该IP地址的流量参数值的差值，基于所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。在一种可能的实施方式中，所述基于所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率，包括：根据各IP地址的数目，确定每个IP地址对应的初始概率值；针对每个IP地址，基于所述初始概率值及该IP地址对应的所述差值与所述和值的比值，确定以该IP地址进行应答时的应答概率。在一种可能的实施方式中，所述流量参数值包括：带宽负载率、健康值中的至少一种。在一种可能的实施方式中，若所述流量参数值包括带宽负载量以及健康值，所述获取该地区的每个IP地址的流量参数值，包括：针对每个IP地址，基于该IP地址的带宽负载量、健康值以及设定的流量参数确定算法，确定该IP地址的流量参数值。在一种可能的实施方式中，所述基于该IP地址的带宽负载量、健康值以及设定的流量参数确定算法，确定该IP地址的流量参数值，包括：针对每个IP地址，基于以下任意一种方式，确定该IP地址的流量参数值：按照该IP地址的带宽负载率和健康值中的最大值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值中的最小值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率和健康值的平均值，确定该IP地址的流量参数值；或者，按照该IP地址的带宽负载率、设定的带宽负载率权重系数、健康值以及设定的健康值权重系数，确定该IP地址的流量参数值。另外，所述计算机可读存储介质内存储有可由电子设备执行的计算机程序，当所述程序在所述电子设备上运行时，还可以使得所述电子设备执行时实现下述步骤：接收CDN发送的每个IP地址对应的应答概率；其中，所述每个IP地址为针对任一域名对应的任一地区的每个IP地址；所述应答概率为基于所述每个IP地址的流量参数值及设定的应答比例调整算法，针对每个IP地址，确定的以该IP地址进行应答时的应答概率；在接收到客户端发送的针对所述域名的域名解析请求时，基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址；将所述目标IP地址发送给所述客户端；其中，所述客户端所在的位置归属于该地区。在一种可能的实施方式中，所述基于所述每个IP地址对应的应答概率，确定进行应答的目标IP地址，包括：将每个IP地址对应的应答概率进行归一化，基于每个IP地址对应的应答概率的大小，生成每个IP地址对应的随机数取值子区间；其中，各IP地址对应的随机数取值子区间互不重合；基于设定的随机数生成算法，生成不超过所述随机数取值子区间的总长度的目标随机数；确定所述目标随机数所归属的目标随机数取值子区间；将所述目标随机数取值子区间对应的IP地址，确定为进行应答的目标IP地址。上述计算机可读存储介质可以是电子设备中的处理器能够存取的任何可用介质或数据存储设备，包括但不限于磁性存储器如软盘、硬盘、磁带、磁光盘等、光学存储器如CD、DVD、BD、HVD等、以及半导体存储器如ROM、EPROM、EEPROM、非易失性存储器、固态硬盘等。基于相同的技术构思，在上述各实施例的基础上，本申请提供了一种计算机程序产品，所述计算机程序产品包括：计算机程序代码，当所述计算机程序代码在计算机上运行时，使得计算机执行如上述任一所述方法的步骤。本领域内的技术人员应明白，本申请的实施例可提供为方法、系统、或计算机程序产品。因此，本申请可采用完全硬件实施例、完全软件实施例、或结合软件和硬件方面的实施例的形式。而且，本申请可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本申请是参照根据本申请的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。显然，本领域的技术人员可以对本申请进行各种改动和变型而不脱离本申请的精神和范围。这样，倘若本申请的这些修改和变型属于本申请权利要求及其等同技术的范围之内，则本申请也意图包含这些改动和变型在内。
