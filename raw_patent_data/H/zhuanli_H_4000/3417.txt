标题title
通信方法及终端设备
摘要abst
本申请提供了一种通信方法及终端设备，有利于节省基带芯片的成本。所述方法应用于终端设备，所述终端设备包括基带芯片、射频前端、波束控制系统、调相器以及天线系统，所述波束控制系统位于所述基带芯片的外部，所述调相器的一端与所述天线系统或所述射频前端相连，另一端与所述波束控制系统相连，所述方法包括：所述波束控制系统通过所述调相器调整所述天线系统的生成波束。
权利要求书clms
1.一种通信方法，其特征在于，所述方法应用于终端设备，所述终端设备包括基带芯片、射频前端、波束控制系统、调相器以及天线系统，所述波束控制系统位于所述基带芯片的外部，所述调相器的一端与所述天线系统或所述射频前端相连，另一端与所述波束控制系统相连，所述方法包括：所述波束控制系统通过所述调相器调整所述天线系统的生成波束。2.根据权利要求1所述的方法，其特征在于，所述方法还包括：所述基带芯片向所述波束控制系统发送目标波束信息；所述波束控制系统通过所述调相器调整所述天线系统生成的波束，包括：所述波束控制系统通过所述调相器控制所述天线系统生成与所述目标波束信息一致的生成波束。3.根据权利要求2所述的方法，其特征在于，所述方法还包括：所述波束控制系统向所述基带芯片发送第一指示信息，所述目标波束信息基于所述第一指示信息确定，所述第一指示信息用于指示以下信息中的一种或多种：是否具有波束处理能力；生成波束的宽度；生成波束的数量；生成波束的方向；支持的天线数量；支持的端口数量；支持的多输入多输出MIMO层数。4.根据权利要求3所述的方法，其特征在于，所述方法还包括：所述基带芯片向所述波束控制系统发送第一请求消息；所述波束控制系统向所述基带芯片发送第一指示信息，包括：响应于所述第一请求消息，所述波束控制系统向所述基带芯片发送第一指示信息。5.根据权利要求1-4中任一项所述的方法，其特征在于，所述生成波束包括接收波束，所述方法还包括：所述波束控制系统根据天线系统的接收信号的信号测量结果，执行接收波束扫描。6.根据权利要求5所述的方法，其特征在于，所述信号测量结果包括以下信息中的一种或多种：能量、参考信号接收功率RSRP、参考信号接收质量RSRQ、接收信号的强度指示RSSI、接收信号电平Rxlev、信号与干扰加噪声比SINR。7.根据权利要求5或6所述的方法，其特征在于，所述波束控制系统包括信号测量系统，用于对天线系统的接收波束进行测量。8.根据权利要求1-7中任一项所述的方法，其特征在于，所述方法还包括：所述基带芯片向所述波束控制系统发送第二请求消息，所述第二请求消息用于请求对来波信号的角度进行估计；响应于所述第二请求消息，所述基带芯片对来波信号进行角度估计，得到角度估计结果；所述波束控制系统向所述基带芯片发送所述角度估计结果。9.根据权利要求8所述的方法，其特征在于，所述角度估计结果包括以下信息中的一种或多种：最佳接收波束的角度；最佳接收波束对应的信号测量结果；多个接收波束的角度；多个接收波束分别对应的信号测量结果；不同接收波束的角度差；不同天线阵元对应的调相器的相位；不同天线阵元对应的调相器的相位之间的相位差；信号的载波频率；所述天线系统的结构；所述天线系统的结构参数；基站的标识。10.根据权利要求9所述的方法，其特征在于，所述角度估计结果包括两个天线阵元对应的调相器的相位之间的相位差、信号的载波频率、所述天线系统的结构、所述天线系统的结构参数，所述天线系统的结构为线型阵，所述方法还包括：所述基带芯片根据所述角度估计结果，确定最佳接收波束的角度θ为：其中，d为线型阵中两个天线阵元之间的距离，f为信号的载波频率，c为光速，为两个天线阵元对应的调相器的相位之间的相位差，θ0为天线系统的方向相对参考方向的角度，α为角度估计方差，γ为角度估计的误差均值。11.根据权利要求9所述的方法，其特征在于，所述多个接收波束包括最佳接收波束和次佳接收波束。12.根据权利要求9所述的方法，其特征在于，所述多个接收波束包括波束扫描过程中的所有接收波束。13.根据权利要求8-12中任一项所述的方法，其特征在于，所述第二请求消息包括以下信息中的一种或多种：角度估计精度、进行角度估计的角度范围。14.根据权利要求8-13中任一项所述的方法，其特征在于，所述角度估计结果用于对所述终端设备进行定位。15.根据权利要求1-14中任一项所述的方法，其特征在于，所述生成波束包括发送波束，所述波束控制系统通过所述调相器调整所述天线系统的生成波束，包括：所述波束控制系统通过所述调相器控制所述天线系统执行发送波束扫描。16.根据权利要求15所述的方法，其特征在于，所述波束控制系统通过所述调相器控制所述天线系统进行发送波束扫描，包括：所述波束控制系统控制所述天线系统生成多个发送波束；所述波束控制系统控制所述天线系统在所述多个发送波束上分别发送前导码，以得到多个TA。17.根据权利要求16所述的方法，其特征在于，所述天线系统在所述多个发送波束上分别发送前导码，包括：所述波束控制系统控制所述天线系统在第一时频资源上通过所述多个发送波束分别发送前导码，所述第一时频资源由所述基带芯片指示给所述波束控制系统。18.根据权利要求16或17所述的方法，其特征在于，所述多个TA用于对所述终端设备进行定位。19.根据权利要求1-18中任一项所述的方法，其特征在于，所述调相器为移相器，所述移相器的一端与所述天线系统相连，另一端与所述波束控制系统相连。20.一种终端设备，其特征在于，所述终端设备包括基带芯片、射频前端、波束控制系统、调相器以及天线系统，所述波束控制系统位于所述基带芯片的外部，所述调相器的一端与所述天线系统或所述射频前端相连，另一端与所述波束控制系统相连，所述波束控制系统用于通过所述调相器调整所述天线系统的生成波束。21.根据权利要求20所述的终端设备，其特征在于，所述基带芯片用于向所述波束控制系统发送目标波束信息；所述波束控制系统用于通过所述调相器控制所述天线系统生成与所述目标波束信息一致的生成波束。22.根据权利要求21所述的终端设备，其特征在于，所述波束控制系统用于向所述基带芯片发送第一指示信息，所述目标波束信息基于所述第一指示信息确定，所述第一指示信息用于指示以下信息中的一种或多种：是否具有波束处理能力；生成波束的宽度；生成波束的数量；生成波束的方向；支持的天线数量；支持的端口数量；支持的多输入多输出MIMO层数。23.根据权利要求22所述的终端设备，其特征在于，所述基带芯片用于向所述波束控制系统发送第一请求消息；所述波束控制系统用于响应于所述第一请求消息，向所述基带芯片发送第一指示信息。24.根据权利要求20-23中任一项所述的终端设备，其特征在于，所述生成波束包括接收波束，所述波束控制系统用于根据天线系统的接收信号的信号测量结果，执行接收波束扫描。25.根据权利要求24所述的终端设备，其特征在于，所述信号测量结果包括以下信息中的一种或多种：能量、参考信号接收功率RSRP、参考信号接收质量RSRQ、接收信号的强度指示RSSI、接收信号电平Rxlev、信号与干扰加噪声比SINR。26.根据权利要求24或25所述的终端设备，其特征在于，所述波束控制系统包括信号测量系统，用于对天线系统的接收波束进行测量。27.根据权利要求20-26中任一项所述的终端设备，其特征在于，所述基带芯片用于向所述波束控制系统发送第二请求消息，所述第二请求消息用于请求对来波信号的角度进行估计；所述波束控制系统用于：响应于所述第二请求消息，对来波信号进行角度估计，得到角度估计结果；向所述基带芯片发送所述角度估计结果。28.根据权利要求27所述的终端设备，其特征在于，所述角度估计结果包括以下信息中的一种或多种：最佳接收波束的角度；最佳接收波束对应的信号测量结果；多个接收波束的角度；多个接收波束分别对应的信号测量结果；不同接收波束的角度差；不同天线阵元对应的调相器的相位；不同天线阵元对应的调相器的相位之间的相位差；信号的载波频率；所述天线系统的结构；所述天线系统的结构参数；基站的标识。29.根据权利要求28所述的终端设备，其特征在于，所述角度估计结果包括两个天线阵元对应的调相器的相位之间的相位差、信号的载波频率、所述天线系统的结构、所述天线系统的结构参数，所述天线系统的结构为线型阵，所述基带芯片用于根据所述角度估计结果，确定最佳接收波束的角度θ为：其中，d为线型阵中两个天线阵元之间的距离，f为信号的载波频率，c为光速，为两个天线阵元对应的调相器的相位之间的相位差，θ0为天线系统的方向相对参考方向的角度，α为角度估计方差，γ为角度估计的误差均值。30.根据权利要求28所述的终端设备，其特征在于，所述多个接收波束包括最佳接收波束和次佳接收波束。31.根据权利要求28所述的终端设备，其特征在于，所述多个接收波束包括波束扫描过程中的所有接收波束。32.根据权利要求27-31中任一项所述的终端设备，其特征在于，所述第二请求消息包括以下信息中的一种或多种：角度估计精度、进行角度估计的角度范围。33.根据权利要求27-32中任一项所述的终端设备，其特征在于，所述角度估计结果用于对所述终端设备进行定位。34.根据权利要求20-33中任一项所述的终端设备，其特征在于，所述生成波束包括发送波束，所述波束控制系统用于通过所述调相器控制所述天线系统执行发送波束扫描。35.根据权利要求34所述的终端设备，其特征在于，所述波束控制系统用于：控制所述天线系统生成多个发送波束；控制所述天线系统在所述多个发送波束上分别发送前导码，以得到多个TA。36.根据权利要求35所述的终端设备，其特征在于，所述波束控制系统用于控制所述天线系统在第一时频资源上通过所述多个发送波束分别发送前导码，所述第一时频资源由所述基带芯片指示给所述波束控制系统。37.根据权利要求35或36所述的终端设备，其特征在于，所述多个TA用于对所述终端设备进行定位。38.根据权利要求20-37中任一项所述的终端设备，其特征在于，所述调相器为移相器，所述移相器的一端与所述天线系统相连，另一端与所述波束控制系统相连。
说明书desc
技术领域本申请涉及通信技术领域，并且更为具体地，涉及一种通信方法及终端设备。背景技术目前，天线系统的控制来自于基带芯片，且基带芯片对天线系统的控制与基带芯片的配置有关。当基带芯片的配置或性能较低时，则基带芯片无法对天线系统进行更高级地控制。但如果提高基带芯片的配置或性能，则会增加基带芯片的成本。发明内容针对上述问题，本申请提供一种通信方法及终端设备，有利于节省基带芯片的成本。第一方面，提供了一种通信方法，所述方法应用于终端设备，所述终端设备包括基带芯片、射频前端、波束控制系统、调相器以及天线系统，所述波束控制系统位于所述基带芯片的外部，所述调相器的一端与所述天线系统或所述射频前端相连，另一端与所述波束控制系统相连，所述方法包括：所述波束控制系统通过所述调相器调整所述天线系统的生成波束。第二方面，提供了一种终端设备，所述终端设备包括基带芯片、射频前端、波束控制系统、调相器以及天线系统，所述波束控制系统位于所述基带芯片的外部，所述调相器的一端与所述天线系统或所述射频前端相连，另一端与所述波束控制系统相连，所述波束控制系统用于通过所述调相器调整所述天线系统的生成波束。第三方面，提供一种通信装置，包括处理器、存储器、通信接口，所述存储器用于存储一个或多个计算机程序，所述处理器用于调用所述存储器中的计算机程序使得所述终端设备执行第一方面所述的方法。第四方面，提供一种装置，包括处理器，用于从存储器中调用程序，以执行第一方面所述的方法。第五方面，提供一种芯片，包括处理器，用于从存储器调用程序，使得安装有所述芯片的设备执行第一方面所述的方法。第六方面，提供一种计算机可读存储介质，其上存储有程序，所述程序使得计算机执行第一方面所述的方法。第七方面，提供一种计算机程序产品，包括程序，所述程序使得计算机执行第一方面所述的方法。第八方面，提供一种计算机程序，所述计算机程序使得计算机执行第一方面所述的方法。本申请实施例通过在基带芯片外设置波束控制系统，由波束控制系统对天线系统的生成波束进行调整，能够打破基带芯片性能的限制，在基带芯片性能较低时，仍可以对天线系统进行更高级地控制。因此，本申请实施例的方案可以在保证对天线系统的控制的同时，节约基带芯片的成本。附图说明图1是可应用于本申请实施例的通信系统的系统架构示例图。图2是波束赋形过程的示例图。图3是终端设备的射频部分的结构示意图。图4是本申请实施例提供的终端设备的结构示意图。图5是本申请一实施例提供的通信方法的示意性流程图。图6是本申请一实施例提供的对来波信号进行角度估计的示意性流程图。图7是本申请实施例提供的基带芯片对来波方向进行估计的示意图。图8是本申请一实施例提供的通信装置的结构示意图。具体实施方式下面将结合附图，对本申请中的技术方案进行描述。图1是本申请实施例应用的无线通信系统100。该无线通信系统100可以包括网络设备110和终端120。网络设备110可以是与终端120通信的设备。网络设备110可以为特定的地理区域提供通信覆盖，并且可以与位于该覆盖区域内的终端120进行通信。图1示例性地示出了一个网络设备和两个终端，可选地，该无线通信系统100可以包括多个网络设备并且每个网络设备的覆盖范围内可以包括其它数量的终端，本申请实施例对此不做限定。可选地，该无线通信系统100还可以包括网络控制器、移动管理实体等其他网络实体，本申请实施例对此不作限定。应理解，本申请实施例的技术方案可以应用于各种通信系统，例如：第五代系统或新无线、长期演进系统、LTE频分双工系统、LTE时分双工等。本申请提供的技术方案还可以应用于未来的通信系统，如第六代移动通信系统，又如卫星通信系统，等等。本申请实施例中的终端也可以称为用户设备、接入终端、用户单元、用户站、移动站、移动台、移动终端、远方站、远程终端、移动设备、用户终端、终端、无线通信设备、用户代理或用户装置。本申请实施例中的终端可以是指向用户提供语音和/或数据连通性的设备，可以用于连接人、物和机，例如具有无线连接功能的手持式设备、车载设备等。本申请的实施例中的终端可以是手机、平板电脑、笔记本电脑、掌上电脑、移动互联网设备、可穿戴设备，虚拟现实设备、增强现实设备、工业控制中的无线终端、无人驾驶中的无线终端、远程手术中的无线终端、智能电网中的无线终端、运输安全中的无线终端、智慧城市中的无线终端、智慧家庭中的无线终端等。可选地，UE可以用于充当基站。例如，UE可以充当调度实体，其在V2X或D2D等中的UE之间提供侧行链路信号。比如，蜂窝电话和汽车利用侧行链路信号彼此通信。蜂窝电话和智能家居设备之间通信，而无需通过基站中继通信信号。本申请实施例中的网络设备可以是用于与终端通信的设备，该网络设备也可以称为接入网设备或无线接入网设备，如网络设备可以是基站。本申请实施例中的网络设备可以是指将终端接入到无线网络的无线接入网节点。基站可以广义的覆盖如下中的各种名称，或与如下名称进行替换，比如：节点B、演进型基站、下一代基站、中继站、接入点、传输点、发射点、主站MeNB、辅站SeNB、多制式无线节点、家庭基站、网络控制器、接入节点、无线节点、接入点、传输节点、收发节点、基带单元、射频拉远单元、有源天线单元、射频头、中心单元、分布式单元、定位节点等。基站可以是宏基站、微基站、中继节点、施主节点或类似物，或其组合。基站还可以指用于设置于前述设备或装置内的通信模块、调制解调器或芯片。基站还可以是移动交换中心以及设备到设备D2D、车辆外联、机器到机器通信中承担基站功能的设备、6G网络中的网络侧设备、未来的通信系统中承担基站功能的设备等。基站可以支持相同或不同接入技术的网络。本申请的实施例对网络设备所采用的具体技术和具体设备形态不做限定。基站可以是固定的，也可以是移动的。例如，直升机或无人机可以被配置成充当移动基站，一个或多个小区可以根据该移动基站的位置移动。在其他示例中，直升机或无人机可以被配置成用作与另一基站通信的设备。在一些部署中，本申请实施例中的网络设备可以是指CU或者DU，或者，网络设备包括CU和DU。gNB还可以包括AAU。网络设备和终端可以部署在陆地上，包括室内或室外、手持或车载；也可以部署在水面上；还可以部署在空中的飞机、气球和卫星上。本申请实施例中对网络设备和终端所处的场景不做限定。应理解，本申请中的通信设备的全部或部分功能也可以通过在硬件上运行的软件功能来实现，或者通过平台上实例化的虚拟化功能来实现。为便于理解，下面先对本申请实施例中涉及的概念进行介绍。上行同步终端设备在进行小区搜索或上行失步后，需要获得与网络设备的上行同步。终端设备可以通过随机接入的方式实现上行同步。网络设备可以通过广播的形式向终端设备发送随机接入信道的配置信息。RACH的配置信息可以包括RACH的时频资源的配置信息以及起始的前导码根序列的配置信息。终端设备通过接收广播信息可以获得前导码的RACH资源以及前导码的格式。上行同步的目的是为了获得时间提前量。在随机接入过程中，网络设备可以根据终端设备发送前导码所使用的RACH资源，就可以知道终端设备发送preamble的时刻，从而根据preamble的发送时刻和接收时刻确定该终端设备的TA，并通过随机接入响应告知终端设备。本申请实施例对随机接入的方式不做具体限定。例如，该随机接入可以是基于竞争的随机接入，也可以是基于非竞争的随机接入。波束赋形系统某些通信系统的终端设备具有波束赋形系统，从而能够实现波束赋形功能。在下行接收时，该波束赋形系统可以被用于进行下行信号的接收。例如，在下行接收过程中，终端设备会利用波束赋形系统对接收波束进行扫描，通过对不同方向的波束进行接收。然后，终端设备可以根据各个接收波束的信号强度，从中选择最佳波束用于下行信号的接收。以图2为例，终端设备120接收基站110A的下行波束，并接收基站110B的下行波束。经过波束赋形系统对各个波束信号的比较，终端设备120最终选择波束5接收基站110A的下行信号，并选择波束6接收基站110B的下行信号。如果上下行具有互易性，则终端设备可以将选择的接收波束方向作为发送波束的方向。也就是说，终端设备可以使用波束5向基站110A发送上行信号，使用波束6向基站110B发送上行信号。本申请实施例对波束赋形的类型不做具体限定。例如，该波束赋形可以为数字波束赋形，也可以为模拟波束赋形。数字波束赋形生成的硬件尺寸大，功耗大。模拟波束赋形功耗小，体积小。多输入多输出系统MIMO是指在无线通信领域使用多天线发送和接收信号的技术。MIMO系统可以使信号通过发射端与接收端的多个天线发送和接收，从而改善通信质量。它能充分利用空间资源，通过多个天线实现多发多收，在不增加频谱资源和天线发射功率的情况下，可以成倍的提高系统信道容量、覆盖范围和信噪比。通常讲的M×N MIMO是指发送端有M个天线，接收端有N个天线。根据MIMO系统天线间的相干性，MIMO系统可以包括空间分集系统和波束赋形系统。波束赋形是一种基于天线阵列的信号预处理技术，波束赋形通过调整天线阵列中每个阵元的加权系数产生具有指向性的波束，从而能够获得明显的阵列增益。因此，波束赋形技术在扩大覆盖范围、改善边缘吞吐量以及干扰抑止等方面都有很大的优势。例如，通过MIMO系统改善链路质量，如扩展覆盖范围、提高吞吐量等。又例如，可以通过MIMO系统可以提高小区吞吐量、避免或消除终端之间的信号干扰。上述MIMO系统可以通过终端的射频部分来实现。该射频部分可以包括基带芯片、射频前端和天线系统。下面结合图3，对终端的射频部分进行介绍。基带芯片310用于对通信信号进行编解码，是终端设备中最核心的器件。射频前端320可以包括滤波器件、功放器件、开关器件、低噪声功率放大器、调谐器等器件，可用于对信号进行放大、或实现发送信号和接收信号的切换、或过滤不同频段的信号等。射频前端320可直接决定终端设备的传输距离和信号传输质量。天线系统330可用于接收或发射电磁波。基带芯片310可以与收发器340相连，收发器340可用于将来自射频前端320的信号发送给基带芯片，或将来自基带芯片310的信号发送给射频前端320。射频前端320的一端与收发器340相连，另一端与天线系统330相连。对于信号接收，天线系统可以接收网络设备发送的下行信号，该下行信号为电磁波信号。天线系统可以将接收到的电磁波信号传输给射频前端，射频前端将电磁波信号转换为基带信号，并将转换后的基带信号发送给基带芯片。基带芯片对该基带信号进行解码处理。对于信号发送，基带芯片可以对待发送信号进行编码，并将编码调制后的信号发送给射频前端。射频前端将接收到的基带信号转换为无线电磁波，并将该无线电磁波发送给天线系统，由天线系统将无线电磁波发送给网络设备。基带芯片支持的端口个数和射频前端、天线系统的能力是一致的。例如，如果基带芯片支持的端口数量为1个，那么射频前端和天线系统支持的端口数量也为1个。也就是说，天线系统的控制来自于基带芯片，也就是说，基带芯片可以对天线系统产生的波束进行控制，即控制波束的方向、宽度、个数等信息，从而产生不同的波束。基带芯片可以通过加权、时延、调相、调幅度等方式控制波束方向。根据协议规定，终端设备的传输速率与MIMO层数有关。MIMO层数越多，传输速率越高。MIMO层数与用户类别之间具有关联关系，不同的用户类别对应的MIMO层数不同。表1示出了LTE中用户类别、MIMO层数、传输速率之间的对应关系。表1由表1可以看出，MIMO层数越多，上下行的传输速率就会越高。MIMO层数与天线的个数有直接关联关系，天线的个数通常是要大于或等于MIMO层数。基带芯片可以根据终端能力确定MIMO层数，并对相应的空域参数进行控制。基带芯片支持的MIMO层数越多，则所需要的天线个数就越多，基带芯片对天线的控制就越复杂，基带芯片的价格也越高。根据基带芯片产品手册，基带芯片支持的MIMO层数是根据协议规定实现的。基带芯片为了支持波束控制，需要从协议底层到高层的一整套控制。另外，基带芯片中除了包括MIMO系统，还包括其他模块。基带芯片要执行MIMO处理时，可能正在执行其他模块的处理，基带芯片需要先将其他模块处理完之后，才能执行MIMO处理，因此，基带芯片在执行MIMO处理时，会存在时延长的问题。有些终端设备没有高速数据传输需求，为了降低成本，使用低配置的基带芯片，如基带芯片支持的DL MIMO层数是1。由前文描述可知，基带芯片支持的端口数量与天线系统的能力是一致的。因此，下行接收只有一个天线，即终端设备的天线为全向天线。当终端设备的天线为全向天线时，终端设备没有定向接收能力，终端设备接收的信号的信噪比会降低。较低的信噪比会对终端设备的一些服务的精度产生影响。在定位时，如果终端设备具有定向接收能力，则可以提高终端设备的定位精度。由上文描述可知，天线系统的控制来自于基带芯片，且基带芯片对天线系统的控制与基带芯片的配置有关。当基带芯片的配置或性能较低时，则基带芯片无法对天线系统进行更高级地控制。但如果提高基带芯片的配置，则会增加基带芯片的成本。为了解决上述问题中的一个或多个，本申请实施例通过在基带芯片外设置波束控制系统，由波束控制系统对天线系统的生成波束进行调整，能够打破基带芯片性能的限制，在基带芯片性能较低时，仍可以对天线系统进行更高级地控制。本申请实施例的方法可应用于终端设备。如图4所示，该终端设备可以包括基带芯片410、波束控制系统420、调相器430以及天线系统440。波束控制系统420位于基带芯片410的外部，用于对天线系统440产生的波束进行控制。波束控制系统420可以设置在基带芯片410与天线系统440之间。在一些实施例中，终端设备还可以包括射频前端450。该射频前端450设置在基带芯片410和天线系统440之间。射频前端450可用于对基带芯片410的输出信号进行过滤、放大等处理。在一些实施例中，射频前端450将来自基带芯片410的基带信号转换为无线电磁波，或者将天线系统440接收到的无线电磁波转换为基带信号。调相器430可用于调整天线系统440产生的波束方向。调相器430可用于输出幅度、相位等参数，以改变天线系统440的波束方向。调相器430的一端可以与波束控制系统420相连，用于接收波束控制系统420发送的控制信息，从而改变调相器430的输出参数。本申请实施例对调相器430的设置位置不做具体限定。调相器430可以位于基带芯片410和天线系统440之间的任意位置。例如，调相器430可以位于基带芯片410和射频前端450之间，即调相器430的一端与基带芯片410相连，另一端与射频前端450相连。在该情况下，调相器430可以对基带芯片410输出的信号的相位和幅度进行调整。又例如，调相器430可以位于射频前端450与天线系统440之间，即调相器430的一端与射频前端450相连，另一端与天线系统440相连。在该情况下，调相器430可以对射频前端450输出的信号的幅度和相位进行调整。在一些实施例中，调相器430可以为移相器。该移相器可以设置在射频前端450与天线系统440之间，即移相器的一端与射频前端450相连，另一端与天线系统440相连。波束控制系统通过调相器连接到天线系统。波束控制系统可以通过改变调相器的输出参数，实现对天线系统产生的波束方向的控制。波束控制系统还可以与基带芯片相连，用于与基带芯片进行信息交互。本申请实施例中的基带芯片可以为低配置的基带芯片。在一些实施例中，基带芯片支持的端口数量小于天线系统支持的端口数量。例如，基带芯片支持的端口数量为1个。具有1个端口的基带芯片也可以称为单天线基带芯片。本申请实施例的方案可以使单天线基带芯片具有波束赋形的能力，实现对波束进行调整的功能。本申请实施例中的天线系统可以包括多个天线阵元，该多个天线阵元可以按照一定规律进行布置。例如，该天线系统可以为一个天线阵列。每个天线阵元上都可以设置一个调相器，用于改变天线阵元之间信号的相位关系。天线阵元在调相器的控制下协调地改变相位，从而实现波束在空中的旋转扫描，即实现了天线系统的波束扫描。当然，在一些实施例中，也可以为多个天线阵元设置一个调相器，该调相器用于对多个天线阵元的相位进行调整。本申请实施例对调相器的类型不做具体限定。例如，该调相器可以为数字调相器，也可以为模拟调相器。又例如，该调相器可以为反射型调相器，也可以为传输型调相器。再例如，该调相器可以为加载线型调相器，也可以为开关线型调相器。下面结合图5，对本申请实施例的通信方法进行介绍。参见图5，在步骤S510、波束控制系统通过调相器调整天线系统的生成波束。本申请实施例通过设置在基带芯片外部的波束控制系统实现对天线系统的控制，从而可以不需要基带芯片具有较高的配置，有利于节省基带芯片的成本。另外，本申请实施例中的终端设备仅需要增加波束控制系统和调相器，即可实现对天线系统的控制，不会对成本造成很大影响。另外，波束控制系统相对独立，具有时延低，易于系统设计，便于开发调试的优点。调整生成波束可以包括调整生成波束的方向、数量、宽度等信息中的一种或多种。波束控制系统调整生成波束可以是在基带芯片的指示下进行的，也可以是自主进行的，本申请实施例对此不做具体限定。如果调整生成波束是波束控制系统自主进行的，则波束控制系统可自行确定生成波束的方向、数量、宽度等信息中的一种或多种。如果调整生成波束是在基带芯片的指示下进行的，则波束控制系统可以基于基带芯片的指示，对调整生成波束。在一些实施例中，基带芯片还可以向波束控制系统发送目标波束信息，基于该目标波束信息，波束控制系统可以控制天线系统生成与目标波束信息一致的生成波束。目标波束信息包括目标波束的方向、数量、宽度等信息中的一种或多种。目标波束的方向可以包括目标波束的角度范围，或者，目标波束的方向可以包括一个或多个波束的方向。如果目标波束的方向包括目标波束的角度范围，则波束控制系统可以控制天线系统生成该角度范围内的波束。如果目标波束的方向包括一个或多个波束的方向，则波束控制系统可以控制天线系统生成与该一个或多个波束的方向相同的波束。如果目标波束信息包括目标波束的数量，则波束控制系统可以控制天线系统生成与该数量相同的波束。如果目标波束信息包括目标波束的宽度，则波束控制系统可以控制天线系统生成与该宽度一致的波束。在一些实施例中，波束控制系统可以向基带芯片发送第一指示信息，目标波束信息可以基于第一指示信息确定。也就是说，基带芯片可以基于该第一指示信息，确定目标波束信息。该第一指示信息可以包括以下信息中的一种或多种：是否具有波束处理能力；生成波束的宽度；生成波束的数量；生成波束的方向；支持的天线数量；支持的端口数量；支持的MIMO层数。波束处理能力可以指对天线系统的生成波束进行处理或调整的能力。如果波束控制系统具有波束处理能力，则基带芯片可以向波束控制系统指示目标波束信息；如果波束控制系统不具有波束处理能力，则基带芯片可以不向波束控制系统指示目标波束信息。在该情况下，基带芯片可以自己对天线系统的波束进行控制。如果波束控制系统向基带芯片上报生成波束的宽度，则基带芯片可以基于生成波束的宽度，向波束控制系统指示目标波束的宽度。如果波束控制系统向基带芯片上报生成波束的数量，则基带芯片可以基于生成波束的数量，向基带芯片指示目标波束的数量。如果波束控制系统向基带芯片上报生成波束的方向，则基带芯片可以基于生成波束的方向，向基带芯片指示目标波束的方向。支持的天线数量可以理解为波束控制系统可以控制的天线数量。支持的天线数量可以等于天线系统拥有的天线数量，也可以小于天线系统拥有的天线数量。如果波束控制系统向基带芯片上报支持的天线数量，则基带芯片可以根据波束控制系统支持的天线数量，向波束控制系统指示目标波束的方向和/或数量。在一些实施例中，波束控制系统可以向基带芯片上报支持的端口数量。支持的端口数量越多，表示波束控制系统能够生成的波束数量越多。基带芯片可以根据波束控制系统可以根据波束控制系统支持的端口数量，向波束控制系统指示目标波束的方向和/或数量。在一些实施例中，波束控制系统可以向基带芯片上报支持的MIMO层数。支持的MIMO层数越多，表示波束控制系统支持的天线数量越多。基带芯片可以根据波束控制系统支持的MIMO层数，向波束控制系统指示目标波束的方向和/或数量。当然，在一些实施例中，第一指示信息可用于指示天线系统的结构和/或天线系统的结构参数，即波束控制系统也可以向基带芯片上报天线系统的结构和/或天线系统的结构参数，以使基带芯片后续对终端设备进行定位。天线系统的结构可以包括线型阵。天线系统的结构参数可以包括线型阵中相邻天线之间的距离。波束控制系统向基带芯片发送第一指示信息可以是在基带芯片的请求下发送的，也可以是波束控制系统主动发送的。例如，基带芯片可以向波束控制系统发送第一请求消息，响应于该第一请求消息，波束控制系统向基带芯片发送第一指示信息。其中，该第一请求消息用于请求波束控制系统向基带芯片发送第一指示信息。本申请实施例中的生成波束可以包括接收波束和/或发送波束。下面针对接收波束和发送波束分别进行描述。为方便描述，下文将波束控制系统通过调相器对天线系统进行控制简称为波束控制系统对天线系统进行控制。如果生成波束为接收波束，则上述第一指示信息可用于指示以下信息中的一种或多种：是否具有波束处理能力；生成的接收波束的宽度；生成的接收波束的数量；生成的接收波束的方向。如果生成波束包括接收波束，则波束控制系统可以控制天线系统执行接收波束扫描。在一些实施例中，波束控制系统可以根据天线系统的接收信号的信号测量结果，执行接收波束扫描，或对天线系统的接收波束进行调整。如前文所述，进行波束扫描的波束信息可以是波束控制系统自主确定的，也可以是基带芯片指示给波束控制系统的，即上述目标波束信息可以指进行波束扫描的波束信息。信号测量结果可以包括以下信息中的一种或多种：能量、参考信号接收功率，参考信号接收质量，接收信号的强度指示，以及接收信号电平、信号与干扰加噪声比。本申请实施例中，接收信号的测量可以是由波束控制系统执行的，也可以是由基带芯片执行的。如果接收信号的测量是由基带芯片执行的，则基带芯片可以对天线系统的接收信号进行测量，并将测量结果发送给波束控制系统。如果基带芯片本身集成有信号测量模块，则通过复用基带芯片的信号测量模块对信号进行测量，可以节约波束控制系统的成本。如果接收信号的测量是由波束控制系统执行的，则波束控制系统可以包括信号测量系统，该信号测量系统可用于对接收天线的接收波束进行测量。波束控制系统可以直接基于信号测量系统的测量结果，对天线系统的接收波束进行控制，而不需要等待基带芯片的处理结果，从而有利于降低时延。本申请实施例通过在天线侧增加调相器，在波束控制系统中增加信号测量系统，即可实现快速波束扫描，从而以简单的结果实现空域处理。本申请可在射频部分进行信号测量，通过简单的测量结果的判断选择最佳波束，从而进行快速测量，降低波束扫描的时间。波束控制系统可以控制天线系统进行接收波束扫描，并根据波束扫描结果，确定最佳接收波束。该最佳接收波束可作为后续进行信号接收的波束。如果上下行具有互易性，则该最佳接收波束也可以作为发送波束。最佳接收波束也可以称为终端设备的接收波束。本申请实施例中的最佳接收波束可以指接收波束满足第一条件的波束，第一条件包括以下中的一种或多种：接收波束的信号能量大于预设阈值；接收波束的RSRP大于预设阈值；接收波束接的RSRQ大于预设阈值；接收波束的Rxlev大于预设阈值；接收波束的RSSI大于预设阈值；接收波束的SINR大于预设阈值。在一些实施例中，第一条件可以包括以下中的一种或多种：接收波束的信号能量最高；接收波束的RSRP最大；接收波束的RSRQ最大；接收波束的Rxlev最大；接收波束的RSSI最大；接收波束的SINR最大。下面以波束控制系统包括信号测量系统为例，对接收波束的扫描过程进行描述。波束控制系统按照一定角度对调相器进行加权，形成接收波束。天线系统通过该接收波束接收无线信号。信号测量系统确定该接收波束的信号测量结果。波束控制系统可以对该信号测量结果进行判断，以确定该接收波束是否为最佳接收波束，或者，以确定是否将该接收波束作为后续接收信号的波束。波束控制系统调整一个角度，对调相器进行加权，得到另一个接收波束。重复上述步骤，直到扫描完所有的波束方向，或者获得满意的信号测量结果。在扫描完所有的波束方向后，波束控制系统可以根据信号测量结果，从所有的接收波束中选择最佳接收波束，作为后续信号接收的接收波束。接收波束的扫描可用于对终端设备进行定位。下面对定位过程进行描述。波束控制系统按照一定角度对调相器进行加权，形成接收波束。天线系统通过该接收波束接收无线信号，并与基站进行同步。信号测量系统确定该接收波束的信号测量结果，并记录接收信号的测量结果与基站的ID。该基站为发送信号的基站。波束控制系统调整一个角度对调相器进行加权，重复上述步骤，直到扫描完所有期望的接收方向。扫描完所有接收方向后，终端设备将记录的信息上报给定位设备。记录的信息例如可以包括多个接收波束的方向、多个接收波束各自的信号测量结果、各个接收波束对应的基站ID。不同接收波束对应的基站可能相同，也可能不同。定位设备根据基站的ID获取基站的位置，并结合信号测量结果和接收波束的方向信息进行位置解算，从而得到终端设备的位置信息。本申请实施例中的定位设备可以位于核心网。该定位设备有时也可称为定位服务器或定位解算服务器。以NR系统为例，该定位设备可以是定位管理功能。以其他通信系统为例，该定位设备可以是定位管理单元，定位管理中心或演进服务移动位置中心。可以理解的是，该定位设备还可以是其他用于确定终端设备的位置信息的网元、节点或设备，如可以是未来的通信系统中的用于确定终端设备的位置信息的网元或节点，本申请实施例对定位设备的名称不作具体限定。在一些实施例中，波束控制系统可以对来波信号的角度进行估计。角度估计也可以称为波达角估计，即对下行信号的到达角度进行估计。例如，基站可以向终端设备发送下行信号，终端设备使用不同的接收方向对该下行信号进行接收，根据不同接收方向的信号测量结果，对下行信号的接收方向进行估计。该角度估计可以指波束控制系统自主执行的，也可以是基于基带芯片的请求执行的。如图6所示。在步骤S610、基带芯片可以向波束控制系统发送第二请求消息，该第二请求消息用于请求对来波信号的角度进行估计。在步骤S620、响应于该第二请求消息，基带芯片可以对来波信号进行角度估计，得到角度估计结果。在步骤S630、波束控制系统可以向基带芯片发送角度估计结果。角度估计结果可以包括接收波束的角度信息、接收波束对应的调相器的相位信息、接收波束对应的信号测量结果、基站的标识中的一种或多种。例如，角度估计结果可以包括以下信息中的一种或多种：最佳接收波束的角度，最佳接收波束对应的信号测量结果，多个接收波束的角度，多个接收波束对应的信号测量结果，不同接收波束的角度差，不同天线阵元对应的调相器的相位，不同天线阵元对应的调相器的相位之间的相位差，信号的载波频率，天线系统的结构，天线系统的结构参数，基站的标识。为了降低波束控制系统的难度，波束控制系统将不同天线阵元对应的调相器的相位信息通知基带系统，基带系统可以根据相位信息进行角度的估算。以角度估计结果包括接收波束对应的调相器的相位为例，波束控制系统可以将在接收到最佳接收波束时，不同天线阵元对应的调相器的相位差上报给基带芯片，基带芯片可以根据调相器的相位差确定来波的角度信息。参见图7，如果天线系统为线型阵，以相邻的两个接收天线为例，相邻的两个天线之间的距离为d，则这两个接收天线接收到的信号存在着一个相位差该相位差满足如下公式：其中，f为载波频率，c为光速，θ为最佳接收波束的角度。可以理解的是，两个接收天线接收到的信号之间的相位差等于两个天线对应的调相器之间的相位差。从上述公式可以推导出最佳接收波束的角度θ的计算公式：但是，上述公式中的θ是以天线系统的方向为基准确定的。天线系统的方向与来波的参考方向可能相同，也可能不同。如果天线阵的方向与参考方向不同，则计算出的角度θ需要加上参考方向与天线系统的方向之间的角度差，则上述公式可以演变为：公式其中，θ0为参考方向与天线系统的方向之间的角度差。该参考方向可以是协议中预定义的，或者网络设备通知给终端设备的。以线型阵为例，该线型阵的方向为天线排列反向的垂线方向。基带芯片在进行角度估计时，可能会估计到非直达径的角度，非直达径会对定位产生影响，导致定位不准确。因此，需要尽可能消除非直达径的影响。在进行角度估计时，可以考虑非直达径产生的角度误差。上述公式可以演变为：其中，a为非直达径对角度估计产生的误差。a可以通过角度估计方差和角度估计的误差均值计算得到。例如，a的计算公式可以如下：其中，α表示角度估计方差，γ表示角度估计的误差均值。基于上述公式，上述公式可以演变为：波束控制系统在使用不同的接收波束对下行信号进行接收时，可以对不同接收波束进行测量，得到不同波束对应的信号测量结果。在一些实施例中，波束控制系统可以对不同波束对应的信号测量结果，确定出最佳接收波束，然后将最佳接收波束的角度和/或最佳接收波束对应的信号测量结果上报给基带芯片。在另一些实施例中，波束控制系统也可以向基带芯片上报多个接收波束的角度和/或多个接收波束对应的信号测量结果。本申请实施例对该多个接收波束不做具体限定。作为一个示例，该多个接收波束可以为扫描过程中的所有接收波束。波束控制系统可以将波束扫描过程中的所有接收波束的相关信息都上报给基带芯片。作为另一个示例，该多个接收波束为扫描过程中的部分接收波束。波束控制系统仅将部分接收波束的相关信息上报给基带芯片。例如，波束控制系统可以将测量结果较好的接收波束上报给基带芯片。测量结果较好的接收波束例如可以包括最佳接收波束和次佳接收波束。当然，在一些实施例中，波束控制系统也可以向基带芯片上报不同接收波束的角度差。基带芯片可以根据该角度差，确定各个接收波束的角度。在一些实施例中，波束控制系统也可以向基带芯片上报不同天线对应的调相器的相位信息。该相位信息可以是每个天线对应的调相器的相位，也可以是不同天线对应的调相器的相位之间的相位差。上述角度估计结果可用于对终端设备进行定位。在对终端设备进行定位时，使用测量结果较好的接收波束可以提高定位的精度和准确性。基带芯片可以将角度估计结果发送给定位设备，由定位设备基于角度估计结果进行位置解算，从而确定终端设备的位置信息。角度估计结果中的接收波束的角度可以为相对角度，也可以为绝对角度。本申请实施例中的角度也可以称为方向，术语“角度”和“方向”可以根据特定上下文被互换地使用。终端设备的接收波束的绝对方向可以利用方向传感器获得。该方向传感器例如可以是指南针。作为一个示例，终端设备可以根据天线的位置确定接收波束的方向，并根据方向传感器确定正北方向。接着，终端设备可以正北方向与接收波束的方向之间的方向差确定发送波束的绝对方向。终端设备可以将接收波束的绝对方向以及该方向的信号测量结果上报给基带芯片。在一些实施例中，终端设备也可以将基站的ID上报给基带芯片。由于成本体积等因素的限制，如果终端上没有方向传感器，那么终端设备的接收波束的方向可以包括该接收波束的相对方向。接收波束的相对方向可以表示终端设备针对多个基站的接收波束之间的方向差。例如，终端设备可以将某个基站作为基线基站。在确定接收波束的方向时，终端设备可以确定非基线基站相对于基线基站的接收波束的方向差。该方向差即可作为前文提到的终端设备的接收波束的相对方向。在一些实施例中，终端设备也可以将基线基站的ID和非基线基站的ID上报给基带芯片。本申请实施例的波束方向可以包括波束的指向和/或波束的宽度。上文对生成波束为接收波束的方案进行了介绍，下面对生成波束为发送波束的方案进行介绍。如果生成波束为发送波束，则上述第一指示信息可用于指示以下信息中的一种或多种：是否具有波束处理能力；生成的发送波束的宽度；生成的发送波束的数量；生成的发送波束的方向。生成的发送波束的宽度与生成的接收波束的宽度可以相同，也可以不同。生成的发送波束的数量与生成的接收波束的数量可以相同，也可以不同。生成的发送波束的方向与生成的接收波束的方向可以相同，也可以不同。如果生成波束为发送波束，则波束控制系统可以通过调相器控制天线系统进行发送波束扫描。具体地：波束控制系统可以按照一定角度对调相器进行加权，形成一个发送波束。终端设备使用该发送波束发送上行信号。然后，波束控制系统调整角度，生成调相器的相位，并重复上述步骤，直到完成所有期望的波束方向的信号发送。发送波束扫描可用于终端设备进行随机接入。例如，波束控制系统可以控制天线系统生成多个发送波束。波束控制系统可以控制天线系统在该多个发送波束上分别发送前导码。通过在多个发送波束上发送前导码，终端设备可以获得多个TA。触发随机接入的条件可以包括以下中的一种或多种：初始接入、上行失步。在一些实施例中，上行波束的发送不需要依赖特定的时频资源，如初始接入。在该情况下，波束控制系统可以控制天线系统在任意的时频资源上发送上行信号。在一些实施例中，上行波束的发送需要依赖特定的时频资源。特定的时频资源可以是网络设备配置给终端设备的，或者，也可以是协议预定义的，或者也可以是终端设备根据一些配置信息计算得到的。如果上行波束的发送依赖特定的时频资源，则波束控制系统需要控制天线系统在该时频资源上发送上行信号，该时频可以由基带芯片通知给波束控制系统。以发送前导码为例，波束控制系统可以控制天线系统在第一时频资源上通过多个发送波束分别发送前导码。该第一时频资源由基带芯片指示给波束控制系统。在一些实施例中，基带芯片可以在向波束控制系统发送目标波束信息时，向波束控制系统指示第一时频资源。也就是说，目标波束信息可以包括发送波束的时频资源。下面对终端设备进行随机接入的流程进行描述。波束控制系统可以按照一定角度对调相器进行加权，形成发送波束。终端设备在该发送波束上发送随机接入过程中的前导码。前导码的格式可以通过读取下行广播信道来获取。终端设备接收基站发送的RAR，并从RAR中获取TA。波束控制系统调整角度，生成调相器的相位，并重复执行上述步骤，直到完成所有期望的波束方向的TA获取。终端设备在进行随机接入之前，终端设备可能处于下行同步状态，也可能处于下行失步状态。如果终端设备处于下行失步状态，则终端设备在进行随机接入之前，还需要进行下行同步。下面对先进行下行同步再进行随机接入的方案进行介绍。波束控制系统按照一定角度对调相器进行加权，形成发送波束。终端设备接收下行同步信号，进行下行同步。终端设备接收下行广播信息，从而获取前导码的格式。当上下行具有互易性时，终端设备不改变波束方向，使用与接收波束相同的方向发送前导码。终端设备接收基站发送的RAR，并从该RAR中获取TA信息。终端设备调整角度，生成调相器相位，并重复执行上述步骤，直到完成所有期望的波束方向的TA获取。本申请实施例中的TA可用于对终端设备进行定位。终端设备获得多个方向的TA后，可以将多个TA发送给定位设备。具体地，该多个TA可由基带芯片发送给定位设备。除了向定位设备发送多个TA之外，终端设备还可以向定位设备发送基站的ID。定位设备可以根据多个TA，对终端设备进行定位。在一些实施例中，终端设备可以将多个TA以及TA的量化间隔发送给定位设备。定位设备可以根据多个TA以及TA的量化间隔，确定终端设备与基站之间的距离，从而确定终端设备的位置信息。通过上述步骤，终端设备可以获得针对多个基站的TA。在对终端设备进行定位时，定位设备可以利用终端设备相对多个基站的TA，从而获得更高的定位精度。在本申请实施例中，即使基带芯片的配置比较低，如基带芯片支持的端口数量为1个，也可以获得多个基站的TA，从而实现更高的定位精度。上文结合图1至图7，详细描述了本申请的方法实施例，下面详细描述本申请的装置实施例。应理解，方法实施例的描述与装置实施例的描述相互对应，因此，未详细描述的部分可以参见前面方法实施例。本申请实施例提供的终端设备的结构图可以如图4所示。图4所示的终端设备可以为上文描述的任意一种终端设备。所述终端设备400包括基带芯片410、射频前端450、波束控制系统420、调相器430和天线系统440。所述波束控制系统420位于所述基带芯片410的外部，所述调相器430的一端与所述天线系统440或所述射频前端450相连，另一端与所述波束控制系统420相连，所述波束控制系统420通过所述调相器430调整所述天线系统440的生成波束。在一些实施例中，所述基带芯片用于向所述波束控制系统发送目标波束信息；所述波束控制系统用于通过所述调相器控制所述天线系统生成与所述目标波束信息一致的生成波束。在一些实施例中，所述波束控制系统用于向所述基带芯片发送第一指示信息，所述目标波束信息基于所述第一指示信息确定，所述第一指示信息用于指示以下信息中的一种或多种：是否具有波束处理能力；生成波束的宽度；生成波束的数量；生成波束的方向；支持的天线数量；支持的端口数量；支持的多输入多输出MIMO层数。在一些实施例中，所述基带芯片用于向所述波束控制系统发送第一请求消息；所述波束控制系统用于响应于所述第一请求消息，向所述基带芯片发送第一指示信息。在一些实施例中，所述生成波束包括接收波束，所述波束控制系统用于根据天线系统的接收信号的信号测量结果，执行接收波束扫描。在一些实施例中，所述信号测量结果包括以下信息中的一种或多种：能量、RSRP、RSRQ、RSSI、Rxlev。在一些实施例中，所述波束控制系统包括信号测量系统，用于对天线系统的接收波束进行测量。在一些实施例中，所述基带芯片用于向所述波束控制系统发送第二请求消息，所述第二请求消息用于请求对来波信号的角度进行估计；所述波束控制系统用于：响应于所述第二请求消息，对来波信号进行角度估计，得到角度估计结果；向所述基带芯片发送所述角度估计结果。在一些实施例中，所述角度估计结果包括以下信息中的一种或多种：最佳接收波束的角度；最佳接收波束对应的信号测量结果；多个接收波束的角度；多个接收波束分别对应的信号测量结果；不同接收波束的角度差；不同天线阵元对应的调相器的相位；不同天线阵元对应的调相器的相位之间的相位差；信号的载波频率；所述天线系统的结构；所述天线系统的结构参数；基站的标识。在一些实施例中，所述角度估计结果包括两个天线阵元对应的调相器的相位之间的相位差、信号的载波频率、所述天线系统的结构、所述天线系统的结构参数，所述天线系统的结构为线型阵，所述基带芯片用于根据所述角度估计结果，确定最佳接收波束的角度θ为：其中，d为线型阵中两个天线阵元之间的距离，f为信号的载波频率，c为光速，为两个天线阵元对应的调相器的相位之间的相位差，θ0为天线系统的方向相对参考方向的角度，α为角度估计方差，γ为角度估计的误差均值。在一些实施例中，所述多个接收波束包括最佳接收波束和次佳接收波束。在一些实施例中，所述多个接收波束包括波束扫描过程中的所有接收波束。在一些实施例中，所述第二请求消息包括以下信息中的一种或多种：角度估计精度、进行角度估计的角度范围。在一些实施例中，所述角度估计结果用于对所述终端设备进行定位。在一些实施例中，所述生成波束包括发送波束，所述波束控制系统用于通过所述调相器控制所述天线系统执行发送波束扫描。在一些实施例中，所述波束控制系统用于：控制所述天线系统生成多个发送波束；控制所述天线系统在所述多个发送波束上分别发送前导码，以得到多个TA。在一些实施例中，所述波束控制系统用于控制所述天线系统在第一时频资源上通过所述多个发送波束分别发送前导码，所述第一时频资源由所述基带芯片指示给所述波束控制系统。在一些实施例中，所述多个TA用于对所述终端设备进行定位。在一些实施例中，所述调相器为移相器，所述移相器的一端与所述天线系统相连，另一端与所述波束控制系统相连。在一些实施例中，所述基带芯片支持的端口数量小于所述天线系统支持的端口数量。图8是本申请实施例的装置的示意性结构图。图8中的虚线表示该单元或模块为可选的。该装置800可用于实现上述方法实施例中描述的方法。装置800可以是芯片、终端设备中的一种或多种。装置800可以包括一个或多个处理器810。该处理器810可支持装置800实现前文方法实施例所描述的方法。该处理器810可以是通用处理器或者专用处理器。例如，该处理器可以为中央处理单元。或者，该处理器还可以是其他通用处理器、数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。装置800还可以包括一个或多个存储器820。存储器820上存储有程序，该程序可以被处理器810执行，使得处理器810执行前文方法实施例所描述的方法。存储器820可以独立于处理器810也可以集成在处理器810中。装置800还可以包括收发器830。处理器810可以通过收发器830与其他设备或芯片进行通信。例如，处理器810可以通过收发器830与其他设备或芯片进行数据收发。本申请实施例还提供一种计算机可读存储介质，用于存储程序。该计算机可读存储介质可应用于本申请实施例提供的终端或网络设备中，并且该程序使得计算机执行本申请各个实施例中的由终端或网络设备执行的方法。本申请实施例还提供一种计算机程序产品。该计算机程序产品包括程序。该计算机程序产品可应用于本申请实施例提供的终端或网络设备中，并且该程序使得计算机执行本申请各个实施例中的由终端或网络设备执行的方法。本申请实施例还提供一种计算机程序。该计算机程序可应用于本申请实施例提供的终端或网络设备中，并且该计算机程序使得计算机执行本申请各个实施例中的由终端或网络设备执行的方法。应理解，在本申请实施例中，“与A相应的B”表示B与A相关联，根据A可以确定B。但还应理解，根据A确定B并不意味着仅仅根据A确定B，还可以根据A和/或其它信息确定B。应理解，本文中术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中字符“/”，一般表示前后关联对象是一种“或”的关系。应理解，在本申请的各种实施例中，上述各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本申请实施例的实施过程构成任何限定。在本申请所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机程序指令时，全部或部分地产生按照本申请实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一个计算机可读存储介质传输，例如，所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线)或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够读取的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质，、光介质)或者半导体介质)等。以上所述，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以所述权利要求的保护范围为准。
