标题title
Cuk电路恒压恒流控制装置、方法及直流电源老化测试系统
摘要abst
本发明涉及一种Cuk电路恒压恒流控制装置、方法及直流电源老化测试系统；属于射频电源技术领域，解决恒压或恒流运行问题，装置包括控制部分和执行部分；其中，控制部分包括电流瞬时值采样电路、电压瞬时值采样电路、恒压恒流切换电路；执行部分包括PWM信号发生电路、驱动电路；在控制部分和执行部分之间，恒压恒流切换电路与PWM信号发生电路连接；恒压恒流切换电路根据电流瞬时值采样电路输出的电压值Uce和电压瞬时值采样电路输出的电压值Uve的大小，输出控制电压到PWM信号发生电路，使Cuk电路工作在恒流模式或恒压模式。本发明实现了直流电源的放电控制；根据放电状态需要实现恒流放电或者恒压放电。
权利要求书clms
1.一种Cuk电路恒压恒流控制装置，其特征在于，包括：控制部分和执行部分；其中，控制部分包括电流瞬时值采样电路、电压瞬时值采样电路、恒压恒流切换电路；所述电流瞬时值采样电路和所述电压瞬时值采样电路分别与所述恒压恒流切换电路连接；执行部分包括PWM信号发生电路、驱动电路；所述PWM信号发生电路与所述驱动电路连接；在控制部分和执行部分之间，恒压恒流切换电路与PWM信号发生电路连接；电流瞬时值采样电路，用于采集Cuk电路的电源输入电流，将其转化为对应的电压值Uce；电压瞬时值采样电路，用于采集Cuk电路的输出电压，将其转化为对应的电压值Uve；恒压恒流切换电路，用于根据电压值Uce和电压值Uve大小，输出控制电压到PWM信号发生电路，使Cuk电路工作在恒流模式或恒压模式。2.根据权利要求1所述的Cuk电路恒压恒流控制装置，其特征在于，所述恒压恒流切换电路包括电阻R1、R2和稳压二极管De；所述稳压二极管De的阴极与电压瞬时值采样电路的输出端连接，电阻R2的一端与电流瞬时值采样电路的输出端连接，电阻R2的另一端通过电阻R1与稳压二极管De的阳极连接；电阻R2与R1的连接端与PWM信号发生电路连接。3.根据权利要求2所述的Cuk电路恒压恒流控制装置，其特征在于，所述电流瞬时值采样电路的输出电压值Uce受实时输入电流采样值与恒流参考电压值调节；所述电压瞬时值采样电路的输出电压值Uve受Cuk电路输出电压值与恒压参考电压值调节；当电压值Uce小于电压值Uve时，稳压二极管De反向截止，PWM信号发生电路的输出占空比由电压值Uce控制，使Cuk电路以恒流工作模式供电；当电压值Uce大于电压值Uve时，稳压二极管De正向导通，PWM信号发生电路的输出占空比由电压值Uve控制，使Cuk电路以恒压工作模式供电。4.根据权利要求3所述的Cuk电路恒压恒流控制装置，其特征在于，所述电流瞬时值采样电路包括电流传感器、传递函数求解模块、第一电压采样电路T1、AI电流放大电路、第二电压采样电路T2；所述电流传感器感应Cuk电路的电源输入电流，将感应的电流信号输出到传递函数求解模块；传递函数求解模块，对感应的电流信号进行传递函数求解后输出到第一电压采样电路得到电压采样值UIf；第一电压采样电路T1输出电压采样值UIf到AI电流放大器电路进行放大后，输出到第二电压采样电路T2；所述第二电压采样电路T2输出采样电压值Uce到恒压恒流切换电路；所述AI电流放大器电路包括运算放大器AI、回馈电阻ZIf和电阻ZII；所述运算放大器AI的同相输入端接入恒流参考电压值UIr，反向输入端通过电阻ZII接入第一电压采样电路T1输出的电压采样值UIf，在输出端与反向输入端之间连接回馈电阻ZIf。5.根据权利要求3所述的Cuk电路恒压恒流控制装置，其特征在于，所述电压瞬时值采样电路包括比例系数模块、AV电压放大器电路、第三电压采样电路T3；所述比例系数模块的输入端与Cuk电路的输出电容Co负极端连接，对Cuk电路输出电压乘以比例系数后输出电压值Uvf；电压值Uvf输出到AV电压放大器电路进行放大后，输出到第三电压采样电路T3；所述第三电压采样电路T3输出端输出采样电压值Uve到恒压恒流切换电路；所述AV电压放大器电路包括运算放大器AV、回馈电阻ZVf和电阻ZVI；所述运算放大器AV的同相输入端接入恒压参考电压UVr，反向输入端通过电阻ZVI接入比例系数模块输出的电压UVf，在输出端与反向输入端之间连接回馈电阻ZVf。6.根据权利要求5所述的Cuk电路恒压恒流控制装置，其特征在于，Cuk电路还包括恒压控制二极管Do；所述恒压控制二极管Do的阳极与输出电容Co负极端连接，阴极与供电总线连接；所述供电总线连接有多个供电装置；在恒压模式供电时，当Cuk电路中的输出电压Uo小于供电总线电压Uo总时，二极管Do反向截止，此时Cuk电路停止向供电总线输送能量；在电压值Uve的控制下，Cuk电路不断在输出电容Co中积蓄能量，最终实现Uo＞Uo总；当输出电压Uo大于供电总线电压Uo总时，二极管Do正向导通，此时Cuk电路向供电总线输送能量，随着能量的输出，输出电压Uo下降，供电总线中其他供电装置输出电压大于输出电压Uo时，二极管Do再次截止，停止向总线输送能量；在电压值Uve的控制下，Cuk电路继续在输出电容Co中积蓄能量。7.根据权利要求1-6任一项所述的Cuk电路恒压恒流控制装置，其特征在于，还包括过流检测电路和/或过压检测电路；所述过流检测电路的输入端与电流瞬时值采样电路中第一电压采样电路T1的输出端连接，所述过流检测电路的输出端与二极管D1的阳极连接；二极管D1的阴极与驱动电路的控制端分别连接；当过流检测电路检测到过流时，输出的过流信号为高电平；过流信号通过二极管D1输出到驱动电路的控制端，控制驱动电路停止工作；所述过压检测电路的输入端与电压瞬时值采样电路中比例系数模块的输出端连接，所述过压检测电路的输出端与二极管D2的阳极连接；二极管D2的阴极与驱动电路的控制端分别连接；当过压检测电路检测到过压时，输出的过压信号为高电平；过压信号通过二极管D2输出到驱动电路的控制端，控制驱动电路停止工作。8.根据权利要求7所述的Cuk电路恒压恒流控制装置，其特征在于，还包括控制处理器；所述控制处理器与电压瞬时值采样电路、电流瞬时值采样电路、过压检测电路、过流检测电路分别连接；所述控制处理器从电压瞬时值采样电路和电流瞬时值采样电路中得到电压和电流瞬时采集信号，从过压检测电路和/或过流检测电路中得到过压信号和/或过流信号；控制处理器还与上位机通信连接，将电压、电流瞬时采集信号，过压信号和/或过流信号上传至上位机中；根据上位机的运行状态指令，设定电压瞬时值采样电路中的恒压参考电压UVr、电流瞬时值采样电路中的恒流参考电压值UIr。9.一种基于如权利要求1-8任一项所述的Cuk电路恒压恒流控制装置的控制方法，其特征在于，包括以下步骤：步骤S1、对Cuk电路恒压恒流控制装置进行初始化；步骤S2、检测所述Cuk电路中直流电源的电压，并将电压检测结果上传到上位机中；步骤S3、控制处理器监听上位机的回传信息，根据回传信息确定是否为恒流放电，是则切换到恒流放电模式，否则，切换到恒压放电模式；步骤S4、控制处理器同步记录待测数据，上传到上位机记录显示；步骤S5、当收到上位机停止工作的指令后，控制所述装置进入搁置状态，并返回当前状态值，同时等待下一轮指令。10.根据权利要求9所述的控制方法，其特征在于，在步骤S3中，比较电流瞬时值采样电路输出的电压值Uce和电压瞬时值采样电路输出的电压值Uve；所述电压值Uce受实时输入电流采样值UIf与上位机回传信息中的恒流参考电压值UIr调节；所述电压值Uve受实时输出电压采样值UVf与上位机回传信息中的恒压参考电压值UVr调节；当电压值Uce小于电压值Uve时，恒压恒流切换电路中的稳压二极管De反向截止，PWM信号发生电路的输出占空比由电压值Uce控制，使Cuk电路以恒流工作模式供电；当电压值Uce大于电压值Uve时，恒压恒流切换电路中的稳压二极管De正向导通，PWM信号发生电路的输出占空比由输出电压值Uve控制，使Cuk电路以恒压工作模式供电。11.根据权利要求10所述的控制方法，其特征在于，所述恒流工作模式供电的过程中，通过对输入电流iin的调节，使Cuk电路的输出电流恒定；具体包括：当输入电流iin偏高时，则经传递函数求解模块对感应的电流信号进行传递函数求解后输出到第一电压采样电路T1得到电压采样值UIf比设定值偏高；此时，经AI电流放大器电路放大和第二电压采样电路T2采集输出的采样电压值Uce减小，所述恒压恒流切换电路输出的反馈中枢点电压Ue也随之减小，PWM信号发生电路的输出占空比减小，输入电流iin随之减小；当输入电流偏低iin时，则经传递函数求解模块对感应的电流信号进行传递函数求解后输出到第一电压采样电路T1得到电压采样值UIf比设定值偏低；此时，经AI电流放大器电路进行放大和第二电压采样电路T2采集输出的采样电压值Uce增大，所述恒压恒流切换电路输出的反馈中枢点电压Ue也随之增大；PWM信号发生电路的输出占空比增大，输入电流iin随之升高。12.根据权利要求10所述的控制方法，其特征在于，所述恒压工作模式供电的过程中，通过对输出电压Uo的调节，使Cuk电路的输出电压恒定；具体包括：当Cuk电路中的输出电压Uo小于供电总线电压Uo总时，二极管Do反向截止，此时Cuk电路停止向供电总线输送能量；在电压值Uve的控制下，Cuk电路不断在输出电容Co中积蓄能量，最终实现Uo＞Uo总；当Cuk电路中的输出电压Uo大于供电总线电压Uo总时，二极管Do正向导通，此时Cuk电路向供电总线输送能量，随着能量的输出，输出电压Uo下降，供电总线中其他供电装置输出电压大于输出电压Uo时，二极管Do再次截止，停止向总线输送能量，在电压值Uve的控制下，Cuk电路继续在输出电容Co中积蓄能量。13.根据权利要求9所述的控制方法，其特征在于，在步骤S3中的供电过程中，还进行过压保护和过流保护；过流保护中，比较实时输入电流采样值UIf与上位机回传信息中的过流参考电压UIgr；当电压采样值UIf超过过流参考电压UIgr时，控制驱动电路停止工作；过压保护中，比较实时输出电压采样值UVf与上位机回传信息中的过压参考电压UVgr；当输出电压采样值UVf超过过压参考电压UVgr时，控制驱动电路停止工作。14.一种直流电源老化测试系统，其特征在于，包括至少一个待测电源，以及与待测电源一一对应连接的如权利要求1-8任一项所述的Cuk电路恒压恒流控制装置；所述Cuk电路恒压恒流控制装置将对应连接的待测电源的能量输出到供电总线上，对待测电源进行老化测试；在老化过程中采用恒流放电或恒压放电模式。15.根据权利要求14所述的直流电源老化测试系统，其特征在于，所有的Cuk电路恒压恒流控制装置共用一个控制处理器。
说明书desc
技术领域本发明属于射频电源技术领域，具体涉及一种Cuk电路恒压恒流控制装置、方法及直流电源老化测试系统。背景技术为保证电源产品的质量可靠性，电源产品如直流电源适配器在出厂前都需要做一定时间的老化试验，在多组电源以串并联形式进行集中老化试验的应用需求下，需要稳定且能实现恒压恒流运行方式的DC-DC转换电路进行放电控制，确保直流电源在老化过程中的可控性和安全性，现有的应用于直流电源老化测试系统的DC-DC转换电路：Boost-PFC电路：主要实现对待测AC-DC电源输出的直流电压进行抬高输出，提供稳定的电源供给后级逆变模块，实现电能回馈。Boost-PFC电路虽然可以实现对待测电源电压的稳定放电控制，但是在开关管关断期间，功率电感会产生反向电动势，引发震荡波形，进一步导致开关管上需要承受过大的震荡电压。同时，该电路的控制策略也无法满足在直流电源老化测验所需的恒压或恒流运行需求。发明内容鉴于上述的分析，本发明旨在公开一种Cuk电路恒压恒流控制装置、方法及直流电源老化测试系统，通过对输入电流与输出电压恒定的反馈调节，从而实现直流电源的恒流或恒压放电工作模式。本发明一方面公开了一种Cuk电路恒压恒流控制装置，包括：控制部分和执行部分；其中，控制部分包括电流瞬时值采样电路1、电压瞬时值采样电路2、恒压恒流切换电路3；所述电流瞬时值采样电路1和所述电压瞬时值采样电路2分别与所述恒压恒流切换电路3连接；执行部分包括PWM信号发生电路4、驱动电路5；所述PWM信号发生电路与所述驱动电路连接；在控制部分和执行部分之间，恒压恒流切换电路3与PWM信号发生电路4连接；电流瞬时值采样电路1，用于采集Cuk电路的电源输入电流，将其转化为对应的电压值Uce；电压瞬时值采样电路2，用于采集Cuk电路的输出电压，将其转化为对应的电压值Uve；恒压恒流切换电路3，用于根据电压值Uce和电压值Uve大小，输出控制电压到PWM信号发生电路4，使Cuk电路工作在恒流模式或恒压模式。本发明另一方面还公开了一种基于如上所述的Cuk电路恒压恒流控制装置的控制方法，包括以下步骤：步骤S1、对Cuk电路恒压恒流控制装置进行初始化；步骤S2、检测所述Cuk电路中直流电源的电压，并将电压检测结果上传到上位机中；步骤S3、控制处理器监听上位机的回传信息，根据回传信息确定是否为恒流放电，是则切换到恒流放电模式，否则，切换到恒压放电模式；步骤S4、控制处理器同步记录待测数据，上传到上位机记录显示；步骤S5、当收到上位机停止工作的指令后，控制所述装置进入搁置状态，并返回当前状态值，同时等待下一轮指令。本发明另一方面还公开了一种直流电源老化测试系统，包括至少一个待测电源，以及与待测电源一一对应连接的如上所述的Cuk电路恒压恒流控制装置；所述Cuk电路恒压恒流控制装置将对应连接的待测电源的能量输出到供电总线上，对待测电源进行老化测试；在老化过程中采用恒流放电或恒压放电模式。本发明可实现以下有益效果之一：本发明的Cuk电路恒压恒流控制装置，实现了直流电源的放电控制；本发明可根据放电状态需要，对Cuk电路进行电流恒定或电压恒定反馈调节，实现Cuk电路的恒流放电或者恒压放电；本发明可实现Cuk电路放电过程中的过压或过流保护。附图说明附图仅用于示出具体实施例的目的，而并不认为是对本发明的限制，在整个附图中，相同的参考符号表示相同的部件；图1为本发明实施例一中的Cuk电路恒压恒流控制装置框图；图2为本发明实施例一中的Cuk电路恒压恒流控制装置框图；图3为本发明实施例一中的Cuk电路恒压恒流控制装置电路原理图；图4为本发明实施例二中的Cuk电路恒压恒流控制方法流程图；图5为本发明实施例中的直流电源老化测试系统电路原理图。具体实施方式下面结合附图来具体描述本发明的优选实施例，其中，附图构成本申请一部分，并与本发明的实施例一起用于阐释本发明的原理。实施例一本发明的一个实施例公开了一种Cuk电路恒压恒流控制装置，如图1所示，包括：控制部分和执行部分；其中，控制部分包括电流瞬时值采样电路1、电压瞬时值采样电路2、恒压恒流切换电路3；所述电流瞬时值采样电路1和所述电压瞬时值采样电路2分别与所述恒压恒流切换电路3连接；执行部分包括PWM信号发生电路4、驱动电路5；所述PWM信号发生电路4与所述驱动电路5连接；在控制部分和执行部分之间，恒压恒流切换电路3与PWM信号发生电路连接4；电流瞬时值采样电路1，用于采集Cuk电路的电源输入电流，将其转化为对应的电压值Uce；电压瞬时值采样电路2，用于采集Cuk电路的输出电压，将其转化为对应的电压值Uve；恒压恒流切换电路3，用于根据电压值Uce和电压值Uve大小，输出控制电压到PWM信号发生电路4，使Cuk电路工作在恒流模式或恒压模式。在优选的方案中，如图2所示，Cuk电路恒压恒流控制装置还包括过流检测电路6和过压检测电路7；所述过流检测电路6用于检测电源输入电流的过流故障；所述过压检测电路7用于检测采集Cuk电路输出电压的过压故障；在图2中，Cuk电路恒压恒流控制装置还包括控制处理器8；所述控制处理器8与电压瞬时值采样电路1、电流瞬时值采样电路2、过流检测电路6、过压检测电路7分别连接；所述控制处理器从电压瞬时值采样电路1和电流瞬时值采样电路2中得到电压和电流瞬时采集信号，从过流检测电路6和过流检测电路7中得到过压信号和/或过流信号；控制处理器8还与上位机通信连接，将电压、电流瞬时采集信号，过压信号和过流信号上传至上位机中；并接收上位机发送的运行状态指令和回传信息。如图3所示，在更具体的Cuk电路恒压恒流控制装置的电路结构中，所述电流瞬时值采样电路1包括电流传感器、传递函数求解模块、第一电压采样电路T1、AI电流放大电路、第二电压采样电路T2；所述电流传感器感应Cuk电路的电源输入电流iin，将感应的电流信号输出到传递函数求解模块；传递函数求解模块，对感应的电流信号进行传递函数求解后输出到第一电压采样电路得到电压采样值UIf；第一电压采样电路T1输出电压采样值UIf到AI电流放大器电路进行放大后，输出到第二电压采样电路T2；所述第二电压采样电路T2输出采样电压值Uce到恒压恒流切换电路3；所述AI电流放大器电路包括运算放大器AI、回馈电阻ZIf和电阻ZII；所述运算放大器AI的同相输入端接入恒流参考电压值UIr，反向输入端通过电阻ZII接入第一电压采样电路T1输出的电压采样值UIf，在输出端与反向输入端之间连接回馈电阻ZIf；所述恒流参考电压值UIr与Cuk电路恒流放电的电流给定值对应。如图3所示，在更具体的Cuk电路恒压恒流控制装置的电路结构中，所述电压瞬时值采样电路2包括比例系数模块、AV电压放大器电路、第三电压采样电路T3；所述比例系数模块的输入端与Cuk电路的输出电容Co负极端连接，对Cuk电路输出电压乘以比例系数后输出电压值Uvf；电压值Uvf输出到AV电压放大器电路进行比例放大后，输出到第三电压采样电路T3；所述第三电压采样电路T3输出端输出采样电压值Uve到恒压恒流切换电路3；所述AV电压放大器电路包括运算放大器AV、回馈电阻ZVf和电阻ZVI；所述运算放大器AV的同相输入端接入恒压参考电压UVr，反向输入端通过电阻ZVI接入比例系数模块输出的电压UVf，在输出端与反向输入端之间连接回馈电阻ZVf；所述恒压参考电压值UVr与Cuk电路恒压放电的输出电压给定值对应。如图3所示，在更具体的Cuk电路恒压恒流控制装置的电路结构中，所述恒压恒流切换电路3包括电阻R1、R2和稳压二极管De；所述稳压二极管De的阴极与电压瞬时值采样电路的输出端连接，电阻R2的一端与电流瞬时值采样电路的输出端连接，电阻R2的另一端通过电阻R1与稳压二极管De的阳极连接；电阻R2与R1的连接端与PWM信号发生电路4连接，向PWM信号发生电路4输出中枢点电压Ue。PWM信号发生电路4中包括运放AP；所述运放AP的同相输入端与电阻R2与R1的连接端连接，接入反馈中枢点电压Ue，反相输入端接入一定频率的锯齿波，输出端与驱动电路5的输入端连接。PWM信号发生电路4的输出的PWM信号占空比受反馈中枢点电压Ue控制，当Ue减小时，PWM信号占空比减小；当Ue增大时，PWM信号占空比增大。驱动电路5采用SG3525芯片对PWM信号发生电路4输出的PWM信号进行驱动放大后输出到Cuk电路中的开关管S中。如图3所示，在更具体的Cuk电路恒压恒流控制装置的电路结构中，Cuk电路中还包括直流电源Uin、输入电感L1、开关管S、电容C1、C2、变压器T、二极管D3、输出电感L2、输出电容Co。开关管S可采用IGBT器件。直流电源Uin的正极通过串联的输入电感L1和电容C1与变压器T初级绕组Ls1的端1连接；直流电源Uin的负极与变压器T初级绕组Ls1的端2连接，并与地连接；开关管S的源极与输入电感L1和电容C1的连接端连接在一起；开关管S的漏极接地；开关管S的栅极连接驱动电路5输出端；变压器T次级绕组Lp1的端1通过串联的电容C2和输出电感L2与输出电容Co的正极端连接；输出电容Co的负极端与变压器T次级绕组Lp1的端2连接；二极管D3的阳极与电容C2和输出电感L2的连接端连接；二极管D3的阴极与输出电容Co的负极端连接。如图3所示，在更具体的Cuk电路恒压恒流控制装置的电路结构中，Cuk电路还包括恒压控制二极管Do；所述恒压控制二极管Do的阳极与输出电容Co负极端连接，阴极与供电总线连接。所述供电总线连接有多个供电装置；可以采用多个供电装置对用电设备进行供电。在Cuk电路恒压恒流控制装置的电路结构中，所述电流瞬时值采样电路1的输出电压值Uce受实时输入电流采样值与恒流参考电压值UIr调节；所述电压瞬时值采样电路2的输出电压值Uve受Cuk电路输出电压值与恒压参考电压值UVr调节；当电压值Uce小于电压值Uve时，稳压二极管De反向截止，PWM信号发生电路4的输出占空比由电压值Uce控制，使Cuk电路以恒流工作模式供电；当电压值Uce大于电压值Uve时，稳压二极管De正向导通，PWM信号发生电路4的输出占空比由电压值Uve控制，使Cuk电路以恒压工作模式供电。具体的，在恒流工作模式时，反馈中枢点电压Ue= Uce；PWM信号发生电路的输出占空比由电压值Uce控制；当输入电流iin偏高时，则经传递函数求解模块对感应的电流信号进行传递函数求解后输出到第一电压采样电路T1得到电压采样值UIf比设定值UIr偏高；此时，经AI电流放大器电路进行放大和第二电压采样电路T2采集输出的采样电压值Uce减小，所述恒压恒流切换电路3输出的反馈中枢点电压Ue也随之减小；PWM信号发生电路4的输出占空比减小，开关管的S的占空比减小，输入电流Iin随之减小。当输入电流偏低iin时，则经传递函数求解模块对感应的电流信号进行传递函数求解后输出到第一电压采样电路T1得到电压采样值UIf比设定值偏低；此时，经AI电流放大器电路进行放大和第二电压采样电路T2采集输出的采样电压值Uce增大，所述恒压恒流切换电路3输出的反馈中枢点电压Ue也随之增大；PWM信号发生电路4的输出占空比增大，开关管的S的占空比增大，输入电流Iin随之升高。通过对输入电流Iin的调节，使Cuk电路的输出电流恒定。在恒压工作模式时，反馈中枢点电压Ue= UVe+ UDe= UVe+0.65；稳压二极管De的分压UDe=0.65V；PWM信号发生电路的输出占空比由输出电压值Uve控制；当Cuk电路中的输出电压Uo小于供电总线电压Uo总时，二极管Do反向截止，此时Cuk电路停止向供电总线输送能量，在电压值Uve的控制下，Cuk电路不断在输出电容Co中积蓄能量，最终实现Uo＞Uo总；当输出电压Uo大于供电总线电压Uo总时，二极管Do正向导通，此时Cuk电路向供电总线输送能量，随着能量的输出，输出电压Uo下降，供电总线中其他供电装置输出电压大于输出电压Uo时，二极管Do再次截止，停止向总线输送能量，在电压值Uve的控制下，Cuk电路继续在输出电容Co中积蓄能量。通过对输出电压的调节，使Cuk电路的输出电压恒定。更具体的，当输出电压Uo达到输出设定值后，电路的实时输出电压会在设定值附近来回抖动，处于恒压工作模式。若此时输入电流也达到输入设定值，电路的实时输出电流值在输入设定值附近来回抖动。此时Cuk变换器处于恒压模式和恒流模式之间的切换工作模式。在优选的方案中，所述过流检测电路6的输入端与第一电压采样电路T1的输出端连接，所述过流检测电路6的输出端与二极管D1的阳极连接，二极管D1的阴极与驱动电路5的控制端分别连接；当过流检测电路6检测到过流时，输出的过流信号为高电平；过流信号通过二极管D1输出到驱动电路5的控制端，控制驱动电路5停止工作；具体的，如图3所示，所述过流检测电路中包括运放PI，运放PI的同相输入端与第一电压采样电路T1的输出端连接，接入电压UIf；运放PI的反相输入端接入过流参考电压UIgr；输出端与二极管D1的阳极连接；当电压UIf高于电压UIgr时，运放PI输出高电平，通过二极管D1输出到驱动电路的控制端，控制驱动电路停止工作。在优选的方案中，所述过压检测电路7的输入端与比例系数模块的输出端连接，所述过压检测电路7的输出端与二极管D2的阳极连接；二极管D2的阴极与驱动电路5的控制端分别连接；当过压检测电路检测到过压时，输出的过压信号为高电平；过压信号通过二极管D2输出到驱动电路5的控制端，控制驱动电路5停止工作。具体的，如图3所示，所述过流检测电路中包括运放PV，运放PV的同相输入端与比例系数模块的输出端连接，接入电压UVf；运放PV的反相输入端接入过压参考电压UVgr；输出端与二极管D2的阳极连接；当电压UVf高于电压UVgr时，运放PV输出高电平，通过二极管D2输出到驱动电路的控制端，控制驱动电路停止工作。二极管D1、D2使过流检测电路和过压检测电路相互隔离，防止过流、过压信号反向流入过压检测电路、过流检测电路对电路造成损坏。在图3的方案中，控制处理器8采用STM12单片机；所述控制处理器8与电压瞬时值采样电路2、电流瞬时值采样电路1、过压检测电路7、过流检测电路6分别连接；所述控制处理器8从电压瞬时值采样电路2和电流瞬时值采样电路1中得到输出电压和输入电流瞬时采集信号，从过压检测电路7和过流检测电路6中得到过压信号和过流信号；控制处理器还与上位机通信连接，将电压、电流瞬时采集信号，过压信号和/或过流信号上传至上位机中；根据上位机的运行状态指令，设定电压瞬时值采样电路中的恒压参考电压UVr、电流瞬时值采样电路中的恒流参考电压值UIr；控制所述电流瞬时值采样电路的输出电压值Uce、电压瞬时值采样电路的输出电压值Uve的大小，使装置工作在恒流或恒压模式。当采集的输入电流瞬时值与设定值发生偏差时，根据设定的恒流参考电压值UIr和第一电压采样电路T1得到电压采样值UIf大小，通过控制稳压二极管De调节AI调节器的电压输出值Ue实现输入电流的恒定；当采集的输出电压瞬时值与设定值发生偏差时，根据设定的恒压参考电压值UVr和第一电压采样电路T1得到电压采样值UVf大小，通过控制稳压二极管De调节AV调节器的电压输出值Uve反馈传输能量给输出电容Co，实现变压器的恒压输出工作模式，从而减小输入电流的波形畸变率和谐波含量，使其满足老化测试系统的可靠性运行需求，克服传统直流源对电流恒定调节在速度和稳定度上的缺陷。优选的，控制处理器8还可以根据上位机的运行状态指令，设定过流参考电压UIgr、过压参考电压UVgr使装置能够对过流和过压故障进行响应，避免电路损坏。综上所述，本发明实施例的Cuk电路恒压恒流控制装置，实现了直流电源的放电控制；可根据放电状态需要，对Cuk电路进行电流恒定或电压恒定反馈调节，实现Cuk电路的恒流放电或者恒压放电；可实现Cuk电路放电过程中的过压或过流保护。实施例二本发明的一个实施例公开了一种Cuk电路恒压恒流控制装置的恒压恒流控制方法，如图4所示，包括以下步骤：步骤S1、对Cuk电路恒压恒流控制装置进行初始化；步骤S2、检测所述Cuk电路连接的直流电源的电压，并将电压检测结果上传到上位机中；步骤S3、控制处理器监听上位机的回传信息，根据回传信息确定是否为恒流放电，是则切换到恒流放电模式，否则，切换到恒压放电模式；步骤S4、控制处理器同步记录待测数据，上传到上位机记录显示；步骤S5、当收到上位机停止工作的指令后，控制所述装置进入搁置状态，并返回当前状态值，同时等待下一轮指令。具体的，在步骤S3中，在所述恒压恒流切换电路中比较电流瞬时值采样电路1输出的电压值Uce和电压瞬时值采样电路2输出的电压值Uve；所述电压值Uce受实时输入电流采样值与上位机回传信息中的恒流参考电压值UIr调节；所述电压值Uve受实时输出采样值与上位机回传信息中的恒压参考电压值UVr调节；当电压值Uce小于电压值Uve时，恒压恒流切换电路3中的稳压二极管De反向截止，PWM信号发生电路4的输出占空比由电压值Uce控制，使Cuk电路以恒流工作模式供电；当电压值Uce大于电压值Uve时，恒压恒流切换电路3中的稳压二极管De正向导通，PWM信号发生电路4的输出占空比由输出电压值Uve控制，使Cuk电路以恒压工作模式供电。所述恒流工作模式供电的过程中，通过对输入电流iin的调节，使Cuk电路的输出电流恒定；具体包括：当输入电流iin偏高时，则经传递函数求解模块对感应的电流信号进行传递函数求解后输出到第一电压采样电路T1得到电压采样值UIf比设定值偏高；此时，经AI电流放大器电路放大和第二电压采样电路T2采集输出的采样电压值Uce减小，所述恒压恒流切换电路3输出的反馈中枢点电压Ue也随之减小，PWM信号发生电路4的输出占空比减小，输入电流iin随之减小；当输入电流偏低iin时，则经传递函数求解模块对感应的电流信号进行传递函数求解后输出到第一电压采样电路T1得到电压采样值UIf比设定值偏低；此时，经AI电流放大器电路进行放大和第二电压采样电路T2采集输出的采样电压值Uce增大，所述恒压恒流切换电路3输出的反馈中枢点电压Ue也随之增大；PWM信号发生电路4的输出占空比增大，输入电流iin随之升高。所述恒压工作模式供电的过程中，通过对输出电压Uo的调节，使Cuk电路的输出电压恒定；具体包括：当Cuk电路中的输出电压Uo小于供电总线电压Uo总时，二极管Do反向截止，此时Cuk电路停止向供电总线输送能量；在电压值Uve的控制下，Cuk电路不断在输出电容Co中积蓄能量，最终实现Uo＞Uo总；当Cuk电路中的输出电压Uo大于供电总线电压Uo总时，二极管Do正向导通，此时Cuk电路向供电总线输送能量，随着能量的输出，输出电压Uo下降，供电总线中其他供电装置输出电压大于输出电压Uo时，二极管Do再次截止，停止向总线输送能量，在电压值Uve的控制下，Cuk电路继续在输出电容Co中积蓄能量。在步骤S3中的供电过程中，还进行过压保护和过流保护；过流保护中，比较电压采样值UIf与上位机回传信息中的过流参考电压UIgr；当电压采样值UIf超过过流参考电压UIgr时，控制驱动电路5停止工作；过流保护中，比较电压采样值UVf与上位机回传信息中的过压参考电压UVgr；当电压采样值UVf超过过压参考电压UVgr时，控制驱动电路5停止工作。本实施例中，更详细的技术特征和有益效果与实施例一中所述的内容相同，请具体参照，在此就不一一赘述了。实施例三本发明的一个实施例公开了一种直流电源老化测试系统，包括至少一个待测电源，以及与待测电源一一对应连接的如实施例一所述的至少一个Cuk电路恒压恒流控制装置，Cuk电路恒压恒流控制装置将对应连接的待测电源的能量输出到供电总线上，对待测电源进行老化测试；在老化过程中采用恒流放电或恒压放电模式。如图5所示，给出了同时连接两个待测电源的老化测试系统。其中，每个Cuk电路恒压恒流控制装置的输入端通过一个控制开关Sai与一个待测电源对应连接，输出端均连接在老化供电总线上。优选的，在每个Cuk电路恒压恒流控制装置的输出电容Co与二极管Do连接端增加控制开关Sbi。通过控制开关Sai和控制开关Sbi的接通，实现Cuk电路恒压恒流控制装置对连接的被测电源的老化测试，也可以通过控制开关Sai和控制开关Sbi的断开，从而将Cuk电路恒压恒流控制装置完全从老化测试系统中隔离，以便于故障检修。更优选的方案中，所有的Cuk电路恒压恒流控制装置共用一个控制处理器8。所述控制处理器与电压瞬时值采样电路、电流瞬时值采样电路、过压检测电路、过流检测电路分别连接；所述控制处理器从电压瞬时值采样电路和电流瞬时值采样电路中得到电压和电流瞬时采集信号，从过压检测电路和过流检测电路中得到过压信号和过流信号；控制处理器还与上位机通信连接，将电压、电流瞬时采集信号，过压信号和过流信号上传至上位机中；根据上位机的运行状态指令，设定电压瞬时值采样电路中的恒压参考电压UVr、电流瞬时值采样电路中的恒流参考电压值UIr、过流检测电路中过流参考电压UIgr、过压检测电路中过压参考电压UVgr。从而通过一个控制处理器实现了对老化测试系统中每个待测电源的老化测试；并且在测试中，实现对输入电流、输出电压的瞬时值采样，并与相应设定值进行过压、过流检测输出逻辑判断，进行过流、过压保护；当输入电流瞬时值与设定值发生偏差时，通过控制稳压二极管De调节AI调节器的电压输出值Uce实现输入电流的恒定。当输出电压瞬时值与与设定值发生偏差时，通过控制稳压二极管De调节AV调节器的电压输出值Uve反馈传输能量给电容Co，实现输出电压的恒定。从而减小输入电流的波形畸变率和谐波含量，使其满足老化测试系统的可靠性运行需求，克服传统直流源对电流恒定调节在速度和稳定度上的缺陷。以上所述，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。
