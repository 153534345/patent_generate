标题title
一种语音呼叫方法和装置
摘要abst
本申请实施例提供一种语音呼叫方法和装置，涉及终端领域，能够解决连续EPS Fallback被叫失败的问题，提高用户体验。本申请应用于包括第一终端设备和第二终端设备的通信系统，第二终端设备驻留于5G SA网络。其方法包括：第一终端设备向第二终端设备发起呼叫；第二终端设备发起EPS Fallback与第一终端设备建立语音通话；第二终端设备回落LTE网络后，确定EPS Fallback失败；此时第二终端设备启动第一定时器，在第一定时器启动期间第二终端设备驻留在LTE网络，以便后续直接在LTE网络接收第一终端设备的呼叫，无需连续发起EPS Fallback，从而可以避免连续EPS Fallback被叫失败的问题。
权利要求书clms
1.一种语音呼叫方法，其特征在于，应用于包括第一终端设备和第二终端设备的通信系统，所述第二终端设备驻留于第五代移动通信系统独立组网5G SA网络；所述第一终端设备向所述第二终端设备发起呼叫；所述第二终端设备发起演进分组系统回落语音承载EPS Fallback与所述第一终端设备建立语音通话；所述第二终端设备回落长期演进LTE网络后，确定EPS Fallback失败；所述第二终端设备启动第一定时器，在所述第一定时器启动期间所述第二终端设备驻留在LTE网络。2.根据权利要求1所述的方法，其特征在于，所述方法还包括：所述第一定时器超时前，所述第二终端设备与所述第一终端设备建立VOLTE语音通话。3.根据权利要求2所述的方法，其特征在于，所述第二终端设备与所述第一终端设备之间建立的VOLTE语音通话结束之后，所述第二终端设备重新驻留到5G SA网络。4.根据权利要求1至3中任一项所述的方法，其特征在于，所述第二终端设备启动第一定时器包括：若所述第二终端设备满足预设条件，则启动所述第一定时器；其中，所述预设条件包括：所述第二终端设备未开启预设应用程序，所述第二终端设备未开启游戏模式，和/或，所述第二终端设备处于灭屏状态。5.根据权利要求1至4中任一项所述的方法，其特征在于，所述EPS Fallback失败的原因包括以下至少一种：网络指定频点对应的LTE小区信号质量低于预设阈值且所述LTE小区的邻区信号质量高于所述预设阈值、跟踪区更新TAU时长大于预设时长导致资源预留失败、会话初始协议SIP消息发送失败、所述第二终端设备接收到用于指示呼叫被异常释放的错误码503。6.根据权利要求1至5中任一项所述的方法，其特征在于，在所述第一定时器启动期间，所述第二终端设备抑制5G SA，或者限制向5G做重选和切换。7.根据权利要求1至6中任一项所述的方法，其特征在于，所述方法还包括：若所述第二终端设备确定EPS Fallback成功，所述第二终端设备与所述第一终端设备建立语音通话；所述第二终端设备与所述第一终端设备通话结束之后，所述第二终端设备重新驻留到5G SA网络。8.根据权利要求7所述的方法，其特征在于，所述第二终端设备重新驻留到5G SA网络包括：所述第二终端设备启动第二定时器，在所述第二定时器超时前，接收网络设备下发的第一无线资源控制释放RRC release消息，所述第一RRC release消息携带新无线NR频点信息，所述第二终端设备基于所述NR频点信息进行搜网并驻网到5G SA网络；或者在所述第二定时器超时前，接收网络设备下发的第二RRC release消息，所述第二RRCrelease消息未携带NR频点信息，所述第二终端设备基于历史驻留的NR频点信息回到5G SA网络；或者所述第二定时器超时后，若未接收到所述第一RRC release消息或所述第二RRCrelease消息，所述第二终端设备基于历史驻留的NR频点信息回到5G SA网络。9.一种语音呼叫方法，其特征在于，应用于包括第一终端设备和第二终端设备的通信系统，所述第二终端设备驻留于第五代移动通信系统独立组网5G SA网络；所述第二终端设备接收所述第一终端设备发起的呼叫对应的呼叫信令；所述第二终端设备发起演进分组系统回落语音承载EPS Fallback与所述第一终端设备建立语音通话；所述第二终端设备回落长期演进LTE网络后，确定EPS Fallback失败；所述第二终端设备启动第一定时器，在所述第一定时器启动期间所述第二终端设备驻留在所述LTE网络。10.根据权利要求9所述的方法，其特征在于，所述方法还包括：所述第一定时器超时前，所述第二终端设备与所述第一终端设备建立VOLTE语音通话。11.根据权利要求10所述的方法，其特征在于，所述第二终端设备与所述第一终端设备之间建立的VOLTE语音通话结束之后，所述第二终端设备重新驻留到5G SA网络。12.根据权利要求9至11中任一项所述的方法，其特征在于，所述第二终端设备启动第一定时器包括：若所述第二终端设备满足预设条件，则启动所述第一定时器；其中，所述预设条件包括：所述第二终端设备未开启预设应用程序，所述第二终端设备未开启游戏模式，和/或，所述第二终端设备处于灭屏状态。13.根据权利要求9至12中任一项所述的方法，其特征在于，所述EPS Fallback失败的原因包括以下至少一种：网络指定频点对应的LTE小区信号质量低于预设阈值且所述LTE小区的邻区信号质量高于所述预设阈值、跟踪区更新TAU时长大于预设时长导致资源预留失败、会话初始协议SIP消息发送失败、所述第二终端设备接收到用于指示呼叫被异常释放的错误码503。14.根据权利要求9至13中任一项所述的方法，其特征在于，在所述第一定时器启用期间，所述第二终端设备抑制5G SA，或者限制向5G做重选和切换。15.根据权利要求9至14中任一项所述的方法，其特征在于，所述方法还包括：若所述第二终端设备确定EPS Fallback成功，所述第二终端设备与所述第一终端设备建立语音通话；所述第二终端设备与所述第一终端设备通话结束之后，所述第二终端设备重新驻留到5G SA网络。16.根据权利要求15所述的方法，其特征在于，所述第二终端设备重新驻留到5G SA网络包括：所述第二终端设备启动第二定时器，在所述第二定时器超时前，接收网络设备下发的第一无线资源控制释放RRC release消息，所述第一RRC release消息携带新无线NR频点信息，所述第二终端设备基于所述NR频点信息进行搜网并驻网到5G SA网络；或者在所述第二定时器超时前，接收网络设备下发的第二RRC release消息，所述第二RRCrelease消息未携带NR频点信息，所述第二终端设备基于历史驻留的NR频点信息回到5G SA网络；或者所述第二定时器超时后，若未接收到所述第一RRC release消息或所述第二RRCrelease消息，所述第二终端设备基于历史驻留的NR频点信息回到5G SA网络。17.一种计算机可读存储介质，其特征在于，包括计算机指令；当所述计算机指令在第二终端设备上运行时，使得所述第二终端设备执行如权利要求9-16中任一项所述的方法。18.一种第二终端设备，其特征在于，包括处理器，所述处理器和存储器耦合，所述存储器存储有程序指令，当所述存储器存储的程序指令被所述处理器执行时使得所述第二终端设备实现权利要求9-16中任一项所述的方法。19.一种芯片系统，其特征在于，所述芯片系统包括一个或多个接口电路和一个或多个处理器；所述接口电路和所述处理器通过线路互联；所述芯片系统应用于包括通信模块和存储器的第二终端设备；所述接口电路用于从所述存储器接收信号，并向所述处理器发送所述信号，所述信号包括所述存储器中存储的计算机指令；当所述处理器执行所述计算机指令时，所述第二终端设备执行如权利要求9-16中任一项所述的方法。20.一种语音呼叫系统，其特征在于，包括第一终端设备和第二终端设备，所述第一终端设备和所述第二终端设备用于执行如权利要求1-8中任一项所述的方法。
说明书desc
技术领域本申请涉及通信领域，尤其涉及一种语音呼叫方法和装置。背景技术第五代移动通信系统独立组网网络下，通话方案可以采用演进分组系统回落语音承载。EPS Fallback是从第五代移动通信系统网络回落到第四代移动通信系统网络的方案，EPS Fallback语音业务通过4G网络数据域承载语音业务。即当工作在5G SA网络上的终端设备发起语音呼叫或有语音呼入时，网络通过切换流程将5G终端切换到4G网络上，通过4G网络的长期演进语音承载技术提供语音业务。EPS Fallback过程可以包括RRC建立、重定向后4G小区驻留、跟踪区更新/附着过程、4G下语音承载激活、会话初始协议交互等子过程，任一个子过程出现异常均会导致通话建立失败。通话建立失败后，被叫终端设备可以基于快速返回机制从4G网络返回5G网络。通话建立失败的情况下，主叫终端设备通常会进行自动重拨，或者用户可以手动重拨，以重新发起呼叫。由于被叫终端设备此时已通过Fast Return机制回到5G，被叫终端设备需要再次执行EPS Fallback流程，被叫终端设备可能出现连续EPS Fallback被叫失败问题，影响用户使用体验。发明内容有鉴于此，本申请提供了一种语音呼叫方法和装置，能够解决连续EPS Fallback被叫失败的问题，提高用户体验。第一方面，本申请提供一种语音呼叫方法，应用于包括第一终端设备和第二终端设备的通信系统，第二终端设备驻留于第五代移动通信系统独立组网5G SA网络；第一终端设备向第二终端设备发起呼叫；第二终端设备发起演进分组系统回落语音承载EPSFallback与第一终端设备建立语音通话；第二终端设备回落长期演进LTE网络后，确定EPSFallback失败；第二终端设备启动第一定时器，在第一定时器启动期间第二终端设备驻留在LTE网络。基于本申请实施例提供的方法，当判定EPS Fallback通话建立失败时，第二终端设备可以启动第一定时器。Slow Return定时器超时前，被叫终端设备不会通过重选或者切换返回5G网络。即可以让被叫终端设备在4G LTE上多驻留一段时间。这样，当主叫终端设备重拨时，被叫终端设备可以直接在4G LTE建立与主叫终端设备的通话，增加了通话成功建立的可能性。由于被叫终端设备已经驻留在4G LTE，无需再次发起EPS Fallback与主叫终端设备建立通话，解决了用户碰到的连续EPS Fallback被叫失败问题，可以提高用户体验。在一种可能的实现方式中，方法还包括：第一定时器超时前，第二终端设备与第一终端设备建立VOLTE语音通话。第一定时器超时前，被叫终端设备一直驻留在4G LTE。这样，当主叫终端设备重拨时，被叫终端设备可以直接在4G LTE与第一终端设备建立VOLTE语音通话，增加了通话成功建立的可能性。在一种可能的实现方式中，第二终端设备与第一终端设备之间建立的VOLTE语音通话结束之后，第二终端设备重新驻留到5G SA网络。第二终端设备返回更高制式的网络进行驻网，可以得到更好更全面的服务。在一种可能的实现方式中，第二终端设备启动第一定时器包括：若第二终端设备满足预设条件，则启动第一定时器；其中，预设条件包括：第二终端设备未开启预设应用程序，第二终端设备未开启游戏模式，和/或，第二终端设备处于灭屏状态。可以理解的是，被叫终端设备满足预设条件时，即未打开预设应用程序，未开启游戏模式或性能模式，和/或处于灭屏状态时，对网络质量和数据传输速率要求较低，可以驻留到较低制式的网络为用户提供服务。此时，开启第一定时器，不影响被叫终端设备的正常运行，且可以提高被叫终端设备的呼通率。当被叫终端设备不满足预设条件时，例如，被叫终端设备打开了预设应用程序，开启了游戏模式或性能模式，或处于亮屏状态时，对数据传输速率和网络质量要求较高，需要尽快驻留到高制式网络为用户提供更流畅的服务。此时，可以不开启Slow Return定时器，避免影响被叫终端设备的正常运行。在一种可能的实现方式中，EPS Fallback失败的原因包括以下至少一种：网络指定频点对应的LTE小区信号质量低于预设阈值且LTE小区的邻区信号质量高于预设阈值、跟踪区更新TAU时长大于预设时长导致资源预留失败、会话初始协议SIP消息发送失败、第二终端设备接收到用于指示呼叫被异常释放的错误码503。在一种可能的实现方式中，在第一定时器启动期间，第二终端设备抑制5G SA，或者限制向5G做重选和切换。这样，第二终端设备可以在第一定时器启动期间一直驻留在LTE网络，从而当主叫终端设备重拨时，被叫终端设备可以直接在4G LTE与第一终端设备建立VOLTE语音通话，增加了通话成功建立的可能性。在一种可能的实现方式中，方法还包括：若第二终端设备确定EPS Fallback成功，第二终端设备与第一终端设备建立语音通话；第二终端设备与第一终端设备通话结束之后，第二终端设备重新驻留到5G SA网络。第二终端设备返回更高制式的网络进行驻网，可以得到更好更全面的服务。在一种可能的实现方式中，第二终端设备重新驻留到5G SA网络包括：第二终端设备启动第二定时器，在第二定时器超时前，接收网络设备下发的第一无线资源控制释放RRCrelease消息，第一RRC release消息携带新无线NR频点信息，第二终端设备基于NR频点信息进行搜网并驻网到5G SA网络；或者在第二定时器超时前，接收网络设备下发的第二RRCrelease消息，第二RRC release消息未携带NR频点信息，第二终端设备基于历史驻留的NR频点信息回到5G SA网络；或者第二定时器超时后，若未接收到第一RRC release消息或第二RRC release消息，第二终端设备基于历史驻留的NR频点信息回到5G SA网络。第二方面，本申请提供一种语音呼叫方法，应用于包括第一终端设备和第二终端设备的通信系统，第二终端设备驻留于第五代移动通信系统独立组网5G SA网络；第二终端设备接收第一终端设备发起的呼叫对应的呼叫信令；第二终端设备发起演进分组系统回落语音承载EPS Fallback与第一终端设备建立语音通话；第二终端设备回落长期演进LTE网络后，确定EPS Fallback失败；第二终端设备启动第一定时器，在第一定时器启动期间第二终端设备驻留在LTE网络。基于本申请实施例提供的方法，当判定EPS Fallback通话建立失败时，第二终端设备可以启动第一定时器。Slow Return定时器超时前，被叫终端设备不会通过重选或者切换返回5G网络。即可以让被叫终端设备在4G LTE上多驻留一段时间。这样，当主叫终端设备重拨时，被叫终端设备可以直接在4G LTE建立与主叫终端设备的通话，增加了通话成功建立的可能性。由于被叫终端设备已经驻留在4G LTE，无需再次发起EPS Fallback与主叫终端设备建立通话，解决了用户碰到的连续EPS Fallback被叫失败问题，可以提高用户体验。在一种可能的实现方式中，方法还包括：第一定时器超时前，第二终端设备与第一终端设备建立VOLTE语音通话。在一种可能的实现方式中，第二终端设备与第一终端设备之间建立的VOLTE语音通话结束之后，第二终端设备重新驻留到5G SA网络。在一种可能的实现方式中，第二终端设备启动第一定时器包括：若第二终端设备满足预设条件，则启动第一定时器；其中，预设条件包括：第二终端设备未开启预设应用程序，第二终端设备未开启游戏模式，和/或，第二终端设备处于灭屏状态。在一种可能的实现方式中，EPS Fallback失败的原因包括以下至少一种：网络指定频点对应的LTE小区信号质量低于预设阈值且LTE小区的邻区信号质量高于预设阈值、跟踪区更新TAU时长大于预设时长导致资源预留失败、会话初始协议SIP消息发送失败、第二终端设备接收到用于指示呼叫被异常释放的错误码503。在一种可能的实现方式中，在第一定时器启用期间，第二终端设备抑制5G SA，或者限制向5G做重选和切换。在一种可能的实现方式中，方法还包括：若第二终端设备确定EPS Fallback成功，第二终端设备与第一终端设备建立语音通话；第二终端设备与第一终端设备通话结束之后，第二终端设备重新驻留到5G SA网络。在一种可能的实现方式中，第二终端设备重新驻留到5G SA网络包括：第二终端设备启动第二定时器，在第二定时器超时前，接收网络设备下发的第一无线资源控制释放RRCrelease消息，第一RRC release消息携带新无线NR频点信息，第二终端设备基于NR频点信息进行搜网并驻网到5G SA网络；或者在第二定时器超时前，接收网络设备下发的第二RRCrelease消息，第二RRC release消息未携带NR频点信息，第二终端设备基于历史驻留的NR频点信息回到5G SA网络；或者第二定时器超时后，若未接收到第一RRC release消息或第二RRC release消息，第二终端设备基于历史驻留的NR频点信息回到5G SA网络。第三方面，本申请提供一种计算机程序产品，当所述计算机程序产品在计算机上运行时，使得所述计算机执行上述任一方面及其任一种可能的设计方式所述的方法。第四方面，本申请提供一种计算机可读存储介质，该计算机可读存储介质包括计算机指令。当计算机指令在第二终端设备上运行时，使得该第二终端设备执行如第二方面及其任一种可能的实现方式所述的方法。第五方面，本申请实施例提供了一种处理装置，包括处理器，处理器和存储器耦合，存储器存储有程序指令，当存储器存储的程序指令被处理器执行时使得所述装置实现上述第二方面及其任一种可能的设计方式所述的方法。所述装置可以为第二终端设备；或可以为第二终端设备中的一个组成部分，如芯片。第六方面，本申请提供一种芯片系统，该芯片系统包括一个或多个接口电路和一个或多个处理器。该接口电路和处理器通过线路互联。上述芯片系统可以应用于包括通信模块和存储器的第二终端设备。该接口电路用于从第一终端设备的存储器接收信号，并向处理器发送接收到的信号，该信号包括存储器中存储的计算机指令。当处理器执行该计算机指令时，第二终端设备可以执行如第二方面及其任一种可能的设计方式所述的方法。第七方面，本申请实施例提供了一种通信系统，包括第一终端设备和第二终端设备，所述第一终端设备和第二终端设备分别执行部分步骤，相互配合以实现上述第一方面及其任一种可能的设计方式所述的方法。附图说明图1为本申请实施例提供的一种流程示意图；图2为本申请实施例提供的一种通信系统的结构示意图；图3为本申请实施例提供的终端设备的结构示意图；图4为本申请实施例提供的又一种流程示意图；图5为本申请实施例提供的一种显示示意图；图6为本申请实施例提供的又一种显示示意图；图7为本申请实施例提供的又一种流程示意图；图8为本申请实施例提供的一种芯片系统的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行描述。其中，在本申请的描述中，除非另有说明，“/”表示前后关联的对象是一种“或”的关系，例如，A/B可以表示A或B；本申请中的“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况，其中A,B可以是单数或者复数。并且，在本申请的描述中，除非另有说明，“多个”是指两个或多于两个。“以下至少一项”或其类似表达，是指的这些项中的任意组合，包括单项或复数项的任意组合。例如，a，b，或c中的至少一项，可以表示：a，b，c，a-b，a-c，b-c，或a-b-c，其中a，b，c可以是单个，也可以是多个。另外，为了便于清楚描述本申请实施例的技术方案，在本申请的实施例中，采用了“第一”、“第二”等字样对功能和作用基本相同的相同项或相似项进行区分。本领域技术人员可以理解“第一”、“第二”等字样并不对数量和执行次序进行限定，并且“第一”、“第二”等字样也并不限定一定不同。同时，在本申请实施例中，“示例性的”或者“例如”等词用于表示作例子、例证或说明。本申请实施例中被描述为“示例性的”或者“例如”的任何实施例或设计方案不应被解释为比其它实施例或设计方案更优选或更具优势。确切而言，使用“示例性的”或者“例如”等词旨在以具体方式呈现相关概念，便于理解。目前，在5G SA网络下，通话方案可以采用EPS Fallback。EPS Fallback是一种从5G回落到4G的通话方案。示例性的，如图1所示，EPS Fallback过程可以包括以下步骤：S1、当终端设备发起主叫或者被叫时，驻留在NR小区的终端设备与5G网络根据SIP信令交互触发建立多媒体子系统语音会话流程。S2、5G NW向终端设备发送重定向消息，重定向消息用于指示终端设备回落到4GNW，重定向消息包括网络指定频点。S3、终端设备根据网络指定频点选择4G NW中的4G小区。S4、终端设备根据网络配置执行TAU程序或者附着流程，以完成在4G小区中注册，4G网络激活语音承载。S5、在4G NW下终端设备和网络继续进行SIP交互，完成通话的最终建立。在上述过程中，当被叫终端设备回落到4G网络网络)后，若通话建立失败，被叫终端设备可以基于Fast Return机制快速从4G网络返回5G网络。这是由于终端设备总是尽量保持在更高制式的网络进行驻网，以得到更好更全面的服务。具体的，被叫终端设备回落到4G网络后，若确定通话建立失败，可以基于FR机制快速返回5G。具体的，可以启动快速返回定时器，基于以下三种方式从4G网络切换回5G网络。1)FR定时器超时前，若网络下发RRC Release消息，RRC Release消息携带NR频点信息，则终端设备基于NR频点信息进行搜网以回到NR网络。2)FR定时器超时前，若网络下发RRC Release消息，RRC Release消息不携带频点信息，则终端设备可以基于历史驻留的NR频点信息回到NR网络。3)FR定时器超时，若终端设备未接收到RRC Release消息，则终端设备进行本地RRC连接释放，并基于历史驻留的NR频点信息回到NR网络。对于主叫终端设备，在通话建立失败的情况下，主叫终端设备通常会自动进行重拨，或者用户可以手动进行重拨，以重新发起呼叫过程。由于被叫终端设备此时已通过Fast Return机制回到5G，被叫终端设备需要再次执行EPS Fallback流程，被叫终端设备可能出现连续EPS Fallback被叫失败问题。为了解决上述问题，本申请实施例提供一种方法，当被叫终端设备在EPSFallback过程中回落到4G后，如果被叫通话建立失败，可以控制被叫终端设备延迟返回5G网络。这样，当主叫终端设备进行重拨时，被叫终端设备可以直接在VOLTE上建立通话，大大增加了通话成功建立的可能性。由此，在基本不影响用户注册在5G SA网络的情况下，解决了用户碰到的连续EPS Fallback被叫失败问题，可以提升用户体验。相比现有技术中，EPS Fallback失败后，被叫终端设备执行Fast Return机制，快速回5G，从而导致主叫终端设备重拨时被叫终端设备需要再次执行EPS Fallback流程，可能连续碰到EPS Fallback执行失败问题。本申请从保证通话成功的角度考虑，使得被叫终端设备在LTE上多驻留一段时间，从而当主叫终端设备进行重拨时，被叫终端设备可以直接在VOLTE上建立通话，提升了通话的被叫呼通率。由此，在基本不影响用户注册在5G SA网络的情况下，解决了用户碰到的连续EPS Fallback被叫失败问题，可以提升用户体验。图2给出了本申请实施例提供的技术方案所适用的一种通信系统示意图，该通信系统可以包括终端设备100、5G NW 200、4G NW 300和IMS 400。其中，终端设备100可以是主叫终端设备或者是被叫侧终端设备。终端设备100可包括智能手机、平板电脑、笔记本电脑、掌上电脑、移动互联网设备、可穿戴设备或其他可以接入互联网的设备。本申请实施例中，终端侧设备可以是独立销售的终端，也可以是终端中的芯片。本申请实施例提供的技术方案中，以用于实现终端的功能的装置是终端侧设备为例，描述本申请实施例提供的技术方案。终端设备100中存储有用户信息。该用户信息可包括国际移动用户识别码。IMSI可以被存储在终端设备100的客户识别模块卡中。终端设备100可以使用该用户信息作为身份标识，通过各种语音解决方案发起呼叫或接收呼叫。5G NW 200的部署方式为独立组网。其中，5G NW 200可以包括5G基站201和5G核心网202。5G基站201连接至5G核心网202，5G核心网202连接至IMS 400。5G基站201可以是下一代基站。gNB可以连接到终端设备100，并与该终端设备100之间采用5G NR接入技术相互通信，即gNB和终端设备100之间通过NR链路通信。5G核心网202用于交换、转发、接续、路由数据。5G核心网202中的网元为功能性的虚拟单元，可包括但不限于：用于接入和移动管理功能的单元、用于会话管理功能的单元、用于统一数据管理的网元等。IMS 400主要可包括呼叫会话控制功能实体和归属用户服务器。CSCF用于控制多媒体呼叫会话过程中的信令、鉴权、与其它网络实体配合控制会话等。HSS用于管理用户数据。4G NW 300可以包括4G基站301和4G核心网302。4G基站301连接至4G核心网302，4G核心网302连接至IMS 400。4G基站301可以是演进型基站。4G核心网302中主要包括以下网元：移动性管理实体、服务网关、分组数据网络网关、归属签约用户服务器和应用服务器等。MME的主要功能包括接入控制、移动性管理、附着与去附着、会话管理等。SGW的主要用于数据包的路由和转发。PGW的主要功能包括基于用户的包过滤功能、合法侦听功能IP地址分配功能等。HSS用于存储用户签约信息、用户的签约数据及移动用户的位置信息等。可以理解，图2所示的单元并不构成对通信系统的具体限定，通信系统还可以包括比图示更多或更少的单元，或者组合某些单元，或者拆分某些单元，或者不同的单元布置，本申请不做限定。如图3所示，为本申请实施例提供的一种终端设备100的结构示意图，该终端设备100可以是第一电子设备。如图3所示，终端设备100可以包括处理器410，外部存储器接口420，内部存储器421，通用串行总线接口430，充电管理模块440，电源管理模块441，电池442，天线1，天线2，移动通信模块450，无线通信模块460，音频模块470，扬声器470A，受话器470B，麦克风470C，耳机接口470D，传感器模块480，按键490，马达491，指示器492，摄像头493，显示屏494，以及用户标识模块卡接口495等。其中，传感器模块480可以包括压力传感器480A，陀螺仪传感器480B，气压传感器480C，磁传感器480D，加速度传感器480E，距离传感器480F，接近光传感器480G，指纹传感器480H，温度传感器480J，触摸传感器480K，环境光传感器480L，骨传导传感器480M等。处理器410可以包括一个或多个处理单元，例如：处理器410可以包括应用处理器，调制解调处理器，图形处理器，图像信号处理器，控制器，存储器，视频编解码器，数字信号处理器，基带处理器，和/或神经网络处理器等。其中，不同的处理单元可以是独立的器件，也可以集成在一个或多个处理器中。控制器可以是终端设备100的神经中枢和指挥中心。控制器可以根据指令操作码和时序信号，产生操作控制信号，完成取指令和执行指令的控制。处理器410中还可以设置存储器，用于存储指令和数据。在一些实施例中，处理器410中的存储器为高速缓冲存储器。该存储器可以保存处理器410刚用过或循环使用的指令或数据。如果处理器410需要再次使用该指令或数据，可从存储器中直接调用。避免了重复存取，减小了处理器410的等待时间，因而提高了系统的效率。在一些实施例中，处理器410可以包括一个或多个接口。接口可以包括集成电路接口，集成电路内置音频接口，脉冲编码调制接口，通用异步收发传输器接口，移动产业处理器接口，通用输入输出接口，用户标识模块接口，和/或通用串行总线接口等。可以理解的是，本实施例示意的各模块间的接口连接关系，只是示意性说明，并不构成对终端设备100的结构限定。在另一些实施例中，终端设备100也可以采用上述实施例中不同的接口连接方式，或多种接口连接方式的组合。充电管理模块440用于从充电器接收充电输入。其中，充电器可以是无线充电器，也可以是有线充电器。在一些有线充电的实施例中，充电管理模块440可以通过USB接口430接收有线充电器的充电输入。在一些无线充电的实施例中，充电管理模块440可以通过终端设备100的无线充电线圈接收无线充电输入。充电管理模块440为电池442充电的同时，还可以通过电源管理模块441为电子设备供电。电源管理模块441用于连接电池442，充电管理模块440与处理器410。电源管理模块441接收电池442和/或充电管理模块440的输入，为处理器410，内部存储器421，外部存储器，显示屏494，摄像头493，和无线通信模块460等供电。电源管理模块441还可以用于监测电池容量，电池循环次数，电池健康状态等参数。在其他一些实施例中，电源管理模块441也可以设置于处理器410中。在另一些实施例中，电源管理模块441和充电管理模块440也可以设置于同一个器件中。终端设备100的无线通信功能可以通过天线1，天线2，移动通信模块450，无线通信模块460，调制解调处理器以及基带处理器等实现。天线1和天线2用于发射和接收电磁波信号。终端设备100中的每个天线可用于覆盖单个或多个通信频带。不同的天线还可以复用，以提高天线的利用率。例如：可以将天线1复用为无线局域网的分集天线。在另外一些实施例中，天线可以和调谐开关结合使用。移动通信模块450可以提供应用在终端设备100上的包括2G/3G/4G/5G等无线通信的解决方案。移动通信模块450可以包括至少一个滤波器，开关，功率放大器，低噪声放大器等。移动通信模块450可以由天线1接收电磁波，并对接收的电磁波进行滤波，放大等处理，传送至调制解调处理器进行解调。移动通信模块450还可以对经调制解调处理器调制后的信号放大，经天线1转为电磁波辐射出去。在一些实施例中，移动通信模块450的至少部分功能模块可以被设置于处理器410中。在一些实施例中，移动通信模块450的至少部分功能模块可以与处理器410的至少部分模块被设置在同一个器件中。调制解调处理器可以包括调制器和解调器。其中，调制器用于将待发送的低频基带信号调制成中高频信号。解调器用于将接收的电磁波信号解调为低频基带信号。随后解调器将解调得到的低频基带信号传送至基带处理器处理。低频基带信号经基带处理器处理后，被传递给应用处理器。应用处理器通过音频设备输出声音信号，或通过显示屏494显示图像或视频。在一些实施例中，调制解调处理器可以是独立的器件。在另一些实施例中，调制解调处理器可以独立于处理器410，与移动通信模块450或其他功能模块设置在同一个器件中。无线通信模块460可以提供应用在终端设备100上的包括无线局域网网络)，蓝牙，全球导航卫星系统，调频，近距离无线通信技术，红外技术等无线通信的解决方案。无线通信模块460可以是集成至少一个通信处理模块的一个或多个器件。无线通信模块460经由天线2接收电磁波，将电磁波信号调频以及滤波处理，将处理后的信号发送到处理器410。无线通信模块460还可以从处理器410接收待发送的信号，对其进行调频，放大，经天线2转为电磁波辐射出去。在一些实施例中，终端设备100的天线1和移动通信模块450耦合，天线2和无线通信模块460耦合，使得终端设备100可以通过无线通信技术与网络以及其他设备通信。无线通信技术可以包括全球移动通讯系统，通用分组无线服务，码分多址接入，宽带码分多址，时分码分多址，长期演进，BT，GNSS，WLAN，NFC，FM，和/或IR技术等。GNSS可以包括全球卫星定位系统，全球导航卫星系统，北斗卫星导航系统，准天顶卫星系统和/或星基增强系统。终端设备100通过GPU，显示屏494，以及应用处理器等实现显示功能。GPU为图像处理的微处理器，连接显示屏494和应用处理器。GPU用于执行数学和几何计算，用于图形渲染。处理器410可包括一个或多个GPU，其执行程序指令以生成或改变显示信息。显示屏494用于显示图像，视频等。显示屏494包括显示面板。显示面板可以采用液晶显示屏，有机发光二极管，有源矩阵有机发光二极体或主动矩阵有机发光二极体，柔性发光二极管，Miniled，MicroLed，Micro-oLed，量子点发光二极管等。终端设备100可以通过ISP，摄像头493，视频编解码器，GPU，显示屏494以及应用处理器等实现拍摄功能。ISP用于处理摄像头493反馈的数据。例如，拍照时，打开快门，光线通过镜头被传递到摄像头感光元件上，光信号转换为电信号，摄像头感光元件将电信号传递给ISP处理，转化为肉眼可见的图像。ISP还可以对图像的噪点，亮度，肤色进行算法优化。ISP还可以对拍摄场景的曝光，色温等参数优化。在一些实施例中，ISP可以设置在摄像头493中。摄像头493用于捕获静态图像或视频。物体通过镜头生成光学图像投射到感光元件。感光元件可以是电荷耦合器件或互补金属氧化物半导体光电晶体管。感光元件把光信号转换成电信号，之后将电信号传递给ISP转换成数字图像信号。ISP将数字图像信号输出到DSP加工处理。DSP将数字图像信号转换成标准的RGB，YUV等格式的图像信号。在一些实施例中，终端设备100可以包括1个或N个摄像头493，N为大于1的正整数。数字信号处理器用于处理数字信号，除了可以处理数字图像信号，还可以处理其他数字信号。例如，当终端设备100在频点选择时，数字信号处理器用于对频点能量进行傅里叶变换等。视频编解码器用于对数字视频压缩或解压缩。终端设备100可以支持一种或多种视频编解码器。这样，终端设备100可以播放或录制多种编码格式的视频，例如：动态图像专家组1，MPEG2，MPEG3，MPEG4等。NPU为神经网络计算处理器，通过借鉴生物神经网络结构，例如借鉴人脑神经元之间传递模式，对输入信息快速处理，还可以不断的自学习。通过NPU可以实现终端设备100的智能认知等应用，例如：图像识别，人脸识别，语音识别，文本理解等。外部存储器接口420可以用于连接外部存储卡，例如Micro SD卡，实现扩展终端设备100的存储能力。外部存储卡通过外部存储器接口420与处理器410通信，实现数据存储功能。例如将音乐，视频等文件保存在外部存储卡中。本申请实施例中，外部存储卡可以用于存储系统相册中的全部图片，Micro SD卡通常是对用户开放的，用户可以自由删除和存取系统相册中的图片。内部存储器421可以用于存储计算机可执行程序代码，可执行程序代码包括指令。处理器410通过运行存储在内部存储器421的指令，从而执行终端设备100的各种功能应用以及数据处理。例如，在本申请实施例中，处理器410可以通过执行存储在内部存储器421中的指令，响应于用户在显示屏494的第二操作或第一操作，在显示屏494显示对应的显示内容。内部存储器421可以包括存储程序区和存储数据区。其中，存储程序区可存储操作系统，至少一个功能所需的应用程序等。存储数据区可存储终端设备100使用过程中所创建的数据等。此外，内部存储器421可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件，闪存器件，通用闪存存储器，只读存储器等。终端设备100可以通过音频模块470，扬声器470A，受话器470B，麦克风470C，耳机接口470D，以及应用处理器等实现音频功能。例如音乐播放，录音等。音频模块470用于将数字音频信息转换成模拟音频信号输出，也用于将模拟音频输入转换为数字音频信号。音频模块470还可以用于对音频信号编码和解码。在一些实施例中，音频模块470可以设置于处理器410中，或将音频模块470的部分功能模块设置于处理器410中。扬声器470A，也称“喇叭”，用于将音频电信号转换为声音信号。终端设备100可以通过扬声器470A收听音乐，或收听免提通话。受话器470B，也称“听筒”，用于将音频电信号转换成声音信号。当终端设备100接听电话或语音信息时，可以通过将受话器470B靠近人耳接听语音。麦克风470C，也称“话筒”，“传声器”，用于将声音信号转换为电信号。终端设备100可以设置至少一个麦克风470C。在一些实施例中，终端设备100可以设置两个麦克风470C，除了采集声音信号，还可以实现降噪功能。在一些实施例中，终端设备100还可以设置三个，四个或更多麦克风470C，实现采集声音信号，降噪，还可以识别声音来源，实现定向录音功能等。耳机接口470D用于连接有线耳机。耳机接口470D可以是USB接口430，也可以是3.5mm的开放移动电子设备平台标准接口，美国蜂窝电信工业协会标准接口。压力传感器480A用于感受压力信号，可以将压力信号转换成电信号。在一些实施例中，压力传感器480A可以设置于显示屏494。压力传感器480A的种类很多，如电阻式压力传感器，电感式压力传感器，电容式压力传感器等。电容式压力传感器可以是包括至少两个具有导电材料的平行板。当有力作用于压力传感器480A，电极之间的电容改变。终端设备100根据电容的变化确定压力的强度。当有触摸操作作用于显示屏494，终端设备100根据压力传感器480A检测触摸操作强度。终端设备100也可以根据压力传感器480A的检测信号计算触摸的位置。在一些实施例中，作用于相同触摸位置，但不同触摸操作强度的触摸操作，可以对应不同的操作指令。例如：当有触摸操作强度小于第一压力阈值的触摸操作作用于短消息应用图标时，执行查看短消息的指令。当有触摸操作强度大于或等于第一压力阈值的触摸操作作用于短消息应用图标时，执行新建短消息的指令。陀螺仪传感器480B可以用于确定终端设备100的运动姿态。在一些实施例中，可以通过陀螺仪传感器480B确定终端设备100围绕三个轴的角速度。陀螺仪传感器480B可以用于拍摄防抖。示例性的，当按下快门，陀螺仪传感器480B检测终端设备100抖动的角度，根据角度计算出镜头模组需要补偿的距离，让镜头通过反向运动抵消终端设备100的抖动，实现防抖。陀螺仪传感器480B还可以用于导航，体感游戏场景。气压传感器480C用于测量气压。在一些实施例中，终端设备100通过气压传感器480C测得的气压值计算海拔高度，辅助定位和导航。磁传感器480D包括霍尔传感器。终端设备100可以利用磁传感器480D检测翻盖皮套的开合。在一些实施例中，当终端设备100是翻盖机时，终端设备100可以根据磁传感器480D检测翻盖的开合。进而根据检测到的皮套的开合状态或翻盖的开合状态，设置翻盖自动解锁等特性。加速度传感器480E可检测终端设备100在各个方向上加速度的大小。当终端设备100静止时可检测出重力的大小及方向。还可以用于识别电子设备姿态，应用于横竖屏切换，计步器等应用。距离传感器480F，用于测量距离。终端设备100可以通过红外或激光测量距离。在一些实施例中，拍摄场景，终端设备100可以利用距离传感器480F测距以实现快速对焦。接近光传感器480G可以包括例如发光二极管和光检测器，例如光电二极管。发光二极管可以是红外发光二极管。终端设备100通过发光二极管向外发射红外光。终端设备100使用光电二极管检测来自附近物体的红外反射光。当检测到充分的反射光时，可以确定终端设备100附近有物体。当检测到不充分的反射光时，终端设备100可以确定终端设备100附近没有物体。终端设备100可以利用接近光传感器480G检测用户手持终端设备100贴近耳朵通话，以便自动熄灭屏幕达到省电的目的。接近光传感器480G也可用于皮套模式，口袋模式自动解锁与锁屏。环境光传感器480L用于感知环境光亮度。终端设备100可以根据感知的环境光亮度自适应调节显示屏494亮度。环境光传感器480L也可用于拍照时自动调节白平衡。环境光传感器480L还可以与接近光传感器480G配合，检测终端设备100是否在口袋里，以防误触。指纹传感器480H用于采集指纹。终端设备100可以利用采集的指纹特性实现指纹解锁，访问应用锁，指纹拍照，指纹接听来电等。温度传感器480J用于检测温度。在一些实施例中，终端设备100利用温度传感器480J检测的温度，执行温度处理策略。例如，当温度传感器480J上报的温度超过阈值，终端设备100执行降低位于温度传感器480J附近的处理器的性能，以便降低功耗实施热保护。在另一些实施例中，当温度低于另一阈值时，终端设备100对电池442加热，以避免低温导致终端设备100异常关机。在其他一些实施例中，当温度低于又一阈值时，终端设备100对电池442的输出电压执行升压，以避免低温导致的异常关机。触摸传感器480K，也称“触控面板”。触摸传感器480K可以设置于显示屏494，由触摸传感器480K与显示屏494组成触摸屏，也称“触控屏”。触摸传感器480K用于检测作用于其上或附近的触摸操作。触摸传感器可以将检测到的触摸操作传递给应用处理器，以确定触摸事件类型。可以通过显示屏494提供与触摸操作相关的视觉输出。在另一些实施例中，触摸传感器480K也可以设置于终端设备100的表面，与显示屏494所处的位置不同。骨传导传感器480M可以获取振动信号。在一些实施例中，骨传导传感器480M可以获取人体声部振动骨块的振动信号。骨传导传感器480M也可以接触人体脉搏，接收血压跳动信号。在一些实施例中，骨传导传感器480M也可以设置于耳机中，结合成骨传导耳机。音频模块470可以基于骨传导传感器480M获取的声部振动骨块的振动信号，解析出语音信号，实现语音功能。应用处理器可以基于骨传导传感器480M获取的血压跳动信号解析心率信息，实现心率检测功能。按键490包括开机键，音量键等。按键490可以是机械按键。也可以是触摸式按键。终端设备100可以接收按键输入，产生与终端设备100的用户设置以及功能控制有关的键信号输入。马达491可以产生振动提示。马达491可以用于来电振动提示，也可以用于触摸振动反馈。例如，作用于不同应用的触摸操作，可以对应不同的振动反馈效果。作用于显示屏494不同区域的触摸操作，马达491也可对应不同的振动反馈效果。不同的应用场景也可以对应不同的振动反馈效果。触摸振动反馈效果还可以支持自定义。指示器492可以是指示灯，可以用于指示充电状态，电量变化，也可以用于指示消息，未接来电，通知等。SIM卡接口495用于连接SIM卡。SIM卡可以通过插入SIM卡接口495，或从SIM卡接口495拔出，实现和终端设备100的接触和分离。终端设备100可以支持1个或N个SIM卡接口，N为大于1的正整数。SIM卡接口495可以支持Nano SIM卡，Micro SIM卡，SIM卡等。同一个SIM卡接口495可以同时插入多张卡。多张卡的类型可以相同，也可以不同。SIM卡接口495也可以兼容不同类型的SIM卡。SIM卡接口495也可以兼容外部存储卡。终端设备100通过SIM卡和网络交互，实现通话以及数据通信等功能。在一些实施例中，终端设备100采用eSIM，即：嵌入式SIM卡。eSIM卡可以嵌在终端设备100中，不能和终端设备100分离。以下实施例中的方法均可以在具有上述硬件结构的终端设备100中实现。可以理解的是，本实施例示意的结构并不构成对终端设备100的具体限定。在另一些实施例中，终端设备100可以包括比图示更多或更少的部件，或者组合某些部件，或者拆分某些部件，或者不同的部件布置。图示的部件可以以硬件，软件或软件和硬件的组合实现。例如，终端设备100还可以包括鼠标，键盘、画板等辅助设备，用于进行目标表情的制作、传递、接收以及自定义的过程。下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行描述。其中，在本申请的描述中，除非另有说明，“至少一个”是指一个或多个，“多个”是指两个或多于两个。另外，为了便于清楚描述本申请实施例的技术方案，在本申请的实施例中，采用了“第一”、“第二”等字样对功能和作用基本相同的相同项或相似项进行区分。本领域技术人员可以理解“第一”、“第二”等字样并不对数量和执行次序进行限定，并且“第一”、“第二”等字样也并不限定一定不同。为了便于理解，以下结合附图对本申请实施例提供的语音呼叫方法进行具体介绍。如图4所示，本申请实施例提供一种语音呼叫方法，包括：401、响应于用户操作，主叫终端设备发送呼叫请求消息。示例性的，该呼叫请求消息可以为INVITE sip消息。该呼叫请求消息可以经过主叫侧网络到达被叫终端设备注册的NR网络。其中，主叫侧网络可以包括5G NR网络、4G LTE网络、3G/2G网络等。即主叫终端设备可以注册在5G NR网络、4G LTE网络、3G/2G网络等，本申请不做限定。响应于用户拨打号码的操作，主叫终端设备发送呼叫请求消息。示例性的，用户可以打开主叫终端设备电话应用或通讯录应用，输入或选择被叫号码。如图5中的所示，主叫终端设备可以显示拨号界面501，响应于用户在界面501点击拨叫按钮502的操作，主叫终端设备发送呼叫请求消息。同时，如图5中的所示，主叫终端设备可以显示界面503，界面503中可以包括文字提示504，用于向用户提示正在呼叫被叫用户。当然，用户还可以通过其他方式向被叫用户发起呼叫，本申请实施例对此不作限制。402、被叫侧的NR网络向被叫终端设备发送寻呼消息。403、被叫终端设备接收到寻呼消息后发起NR RRC建立过程。需要说明的是，步骤403并非是必须的过程，仅当被叫手机处于空闲态下时需要进行RRC建立过程。404、被叫终端设备与被叫侧的NR网络进行SIP信令交互。具体的，被叫侧的NR网络可以向被叫终端设备下发邀请消息。被叫终端设备接收到INVITE消息后可以回复100trying消息和会话进度消息等SIP消息。其中，100trying消息用于表示已经收到INVITE消息。183消息用于提示建立会话的进度和会话描述协议协商。405、被叫侧的NR网络向被叫终端设备下发RRC connection release消息，指示被叫终端设备回落到4G。其中，RRC connection release消息中携带目标频点信息，目标频点对应LTE小区。若被叫侧的NR网络支持N26接口，5G无线接入网可通过切换或重定向进行EPS回落，使用IMS语音服务。若AMF不支持N26接口，NG-RAN只能重定向进行EPS回落，使用IMS语音服务。其中，N26是4G核心网和5G核心网之间的接口，用于4G和5G的互操作。406、被叫终端设备基于被叫侧的NR网络指定的频点选择LTE小区驻留。即被叫UE可以基于目标频点选择LTE小区进行驻留。407、被叫终端设备发起TAU/ATTACH请求。被叫终端设备连接到4G基站后，可以通过4G基站向4G核心网发起TAU/ATTACH请求。当4G核心网和5G核心网之间支持N26接口时，被叫终端设备发起TAU请求，否则发起附着请求。其中，ATTACH request中包括跟踪区标识和演进的通用陆基无线接入网小区全局标识符Cell GlobalIdentifier，ECGI)等信息。TAU request中包括TAI、ECGI和voice domin preference等信息。408、被叫终端设备在LTE上完成RRC连接建立的过程。非接入层层的ATTCH/TAU请求可以触发被叫终端设备在接入层层建立RRC连接。具体的，被叫终端设备可以向网络设备发送RRC connection request消息，网络设备向被叫终端设备回复RRC connection setup消息，之后被叫终端设备发送RRC connection complete消息，从而完成RRC连接建立。409、被叫终端设备完成LTE的注册过程。被叫终端设备可以从被叫侧的LTE网络接收附着接受或者跟踪区接受消息，被叫终端设备向被叫侧的LTE网络回复ATTACH complete或者TAU complete消息，完成LTE的注册过程。其中，ATTACH accept中包括跟踪区列表。TAL中包括多个TA，被叫终端设备在TAL指示的多个TA间移动时不需要执行TA更新，以减少与网络的频繁交互。410、被叫侧的LTE网络激活语音承载。被叫终端设备在LTE完成注册之后，网络侧可以触发建立服务质量分类标识class identifier，QCI)为1的语音承载，以便后续通过该语音承载进行通话。411、被叫终端设备在4G LTE上完成后续通话过程的建立。具体的，被叫终端与被叫侧的LTE网络进行临时恢复确认/状态更新等SIP消息的交互。具体过程可以参考现有技术，在此不做赘述。之后，被叫终端设备通过被叫侧的LTE网络向主叫终端设备发送180Ringing消息，被叫终端设备UI上提示来电信息，用户可以选择接听，完成通话的建立。至此，通话完整建立。需要说明的是，步骤405之后，被叫终端设备向4G回落。若步骤406、407、408、409、410或411中任意步骤及步骤之间出现异常对应的LTE小区信号质量差且存在信号质量较好的邻区、TAU较慢导致资源预留超时、SIP消息发送失败或被叫终端设备接收到用于指示呼叫被异常释放的错误码503等原因)，被叫终端设备回落到4G后无法与主叫终端设备完成通话过程的建立。为了解决上述问题，被叫终端设备可以执行以下步骤：412、被叫终端设备启动慢返回定时器，在SlowReturn定时器启动期间，UE不通过重选或者切换等方式返回5G网络。优选的，若被叫终端设备向网络发送振铃消息前就发生了通话建立失败，被叫终端设备可以启动Slow Return定时器。Slow Return定时器的名称仅是一种示例，本申请不做限定。在Slow Return定时器启动期间，UE不通过重选或者切换等方式返回5G网络，保持驻留在4G网络，等待网络再次呼叫。为了保持驻留在4G网络，在Slow Return定时器启动期间，被叫终端设备可以抑制5G SA，或者限制向5G做重选和切换。可选的，被叫终端设备启动Slow Return定时器前，可以判断被叫终端设备是否满足预设条件。预设条件包括：被叫终端设备未打开预设应用程序，被叫终端设备未开启游戏模式或性能模式，和/或，被叫终端设备处于灭屏状态。其中，预设应用程序可以包括数据传输速率要求高的程序。例如，游戏应用，直播应用等。可以理解的是，被叫终端设备满足预设条件时，即未打开预设应用程序，未开启游戏模式或性能模式，和/或处于灭屏状态时，对网络质量和数据传输速率要求较低，可以驻留到较低制式的网络为用户提供服务。此时，开启Slow Return定时器，不影响被叫终端设备的正常运行，且可以提高被叫终端设备的呼通率。当被叫终端设备不满足预设条件时，例如，被叫终端设备打开了预设应用程序，开启了游戏模式或性能模式，或处于亮屏状态时，对数据传输速率和网络质量要求较高，需要尽快驻留到高制式网络为用户提供更流畅的服务。此时，可以不开启Slow Return定时器，避免影响被叫终端设备的正常运行。需要补充说明的是，Slow Return定时器是当被叫终端设备在EPS Fallback过程中回落到LTE后确定通话建立失败时启动，即是EPS Fallback流程发生异常失败时才启动Slow Return定时器。若是EPS Fallback通话过程建立成功，通话结束后可以沿用现有的Fast Return机制。其中，Slow Return定时器的时长可以根据主叫终端设备重拨所需的时间确定，例如取值可以为45秒。本申请不做具体限定。413、主叫终端设备向被叫设备发起重拨操作。主叫终端设备可以自动发起重拨，或者用户可以手动发起重拨。示例性的，如图6中的所示，第一次拨打电话建立通话失败时，主叫终端设备可以显示界面505，界面505中可以包括单次重拨按钮506。响应于用户点击单次重拨按钮506的操作，主叫终端设备可以进入单次重拨。如果对端仍然未接通，如图6中的所示，主叫终端设备可以显示界面507，界面507中可以包括无限重拨按钮508，响应于用户点击无限重拨按钮508的操作，主叫终端设备可以进入自动重播。主叫终端设备可以在电话接通前，一直重复拨打已经输入好的号码。或者，用户可以在主叫终端设备的通话应用中预先设置允许进行自动重拨或者终端设备支持特定场景自动重拨，这样，第一次拨打电话建立通话失败时，手机可以自动进入自动重拨，无需用户再进行手动重拨操作。414、若定时器超时前，被叫终端设备重新接收到主叫终端设备的来电，直接通过VOLTE与主叫终端设备建立连接。如图7所示，当EPS Fallback流程结束时，被叫终端设备判断EPS Fallback流程是否异常失败。若确定EPS Fallback流程异常失败，可以启动Slow Return定时器。若确定EPSFallback流程不是异常失败，通话结束后，可以基于FR机制快速返回5G。其中，Slow Return定时器的时长大于Fast Return定时器。被叫终端设备启动Slow Return定时器后，判断Slow Return定时器超时前是否收到新的来电。若主叫终端设备重新发起呼叫，在定时器超时前，被叫终端设备可以重新在4G上接收到寻呼消息或者INVITE消息，此时可以认为被叫终端设备在Slow Return定时器超时前接收到新的来电。若Slow Return定时器超时前接收到新的来电，可以终止Slow Return定时器，并基于VOLTE与主叫终端设备建立通话连接。若主叫终端设备未重新发起呼叫，或者，若主叫终端设备重新发起呼叫，但在SlowReturn定时器超时前，被叫终端设备未接收到寻呼消息或者INVITE消息，可以认为被叫终端设备在定时器超时前未收到新的来电。此时，当Slow Return定时器超时后，被叫终端设备可以快速返回5G网络。示例性的，终端设备可以基于历史驻留的NR频点信息回到NR网络。基于本申请实施例提供的方法，当判定EPS Fallback通话建立失败时，被叫终端设备可以启动Slow Return定时器。Slow Return定时器超时前，被叫终端设备不会通过重选或者切换返回5G网络。即可以让被叫终端设备在4G LTE上多驻留一段时间。这样，当主叫终端设备重拨时，被叫终端设备使用VOLTE的方式建立与主叫终端设备的通话，大大增加了通话成功建立的可能性。由此，在基本不影响用户常驻5G SA网络的情况下，解决了部分用户碰到的连续EPS Fallback被叫失败问题，可以提高用户体验。下面对本申请解决连续EPS Fallback失败问题做更详细的举例说明。例如，当网络指定频点对应的LTE小区信号质量差且存在信号质量较好的邻区时，终端设备基于网络指定频点进行小区驻网时会驻留到LTE弱信号宏站小区，虽然后续网络可以基于重配置促使终端设备切换到LTE强信号室分小区，但EPS Fallback失败往往在小区切换完成之前已发生。若终端设备基于FR机制快速返回5G网络，则再次发起EPS Fallback流程时，会再次基于网络指定频点驻到弱信号宏站小区，可能再次导致EPS Fallback失败。当采用本申请实施例的方案时，第一次EPSFallback失败后，UE可以在LTE网络多驻留一段时间，此时UE基于切换或者重选已驻留在LTE强信号室分小区。当被叫终端设备再次接收到主叫终端设备的来电时，可以直接在强信号室分小区上建立VOLTE通话，不必再发起EPS Fallback过程，从而避免了连续EPSFallback失败问题。又例如，SA布网早期，部分网络存在较严重的兼容性问题。UE通过EPS Fallback回落到LTE网络时，存在TAU过程耗时较长，TAU ACCEPT消息回复慢的问题，这会导致资源预留超时，最终导致EPS Fallback失败。EPS Fallback失败后，若终端设备基于FR机制快速返回5G网络，则再次发起EPS Fallback时，可能再次碰到由于TAU慢导致EPS Fallback失败的问题。采用本申请实施例提供的方案之后，UE可以在LTE网络多驻留一段时间。这样，当主叫终端设备再次来电时，被叫终端设备可以直接在LTE上接收来电，不需要再进行TAU，即不需要再发起EPS Fallback流程，从而避免了连续EPS Fallback失败问题。本申请实施例还提供一种芯片系统，如图8所示，该芯片系统包括至少一个处理器801和至少一个接口电路802。处理器801和接口电路802可通过线路互联。例如，接口电路802可用于从其它装置接收信号。又例如，接口电路802可用于向其它装置发送信号。例如，接口电路802可读取电子设备中存储器中存储的指令，并将该指令发送给处理器801。当所述指令被处理器801执行时，可使得终端设备执行上述实施例中的各个步骤。当然，该芯片系统还可以包含其他分立器件，本申请实施例对此不作具体限定。本申请实施例还提供一种计算机可读存储介质，该计算机可读存储介质包括计算机指令，当所述计算机指令在电子设备上运行时，使得终端设备100执行上述方法实施例中主叫终端设备或被叫终端设备执行的各个功能或者步骤。本申请实施例还提供一种计算机程序产品，当所述计算机程序产品在计算机上运行时，使得所述计算机执行上述方法实施例中电子设备执行的各个功能或者步骤。本申请实施例还提供了一种语音呼叫装置，所述装置可以按照功能划分为不同的逻辑单元或模块，各单元或模块执行不同的功能，以使得所述装置执行上述方法实施例中电子设备执行的各个功能或者步骤。通过以上的实施方式的描述，所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，仅以上述各功能模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能模块完成，即将装置的内部结构划分成不同的功能模块，以完成以上描述的全部或者部分功能。上述描述的系统，装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本实施例所提供的几个实施例中，应该理解到，所揭露的系统，装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本实施例各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本实施例的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备或处理器执行各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：快闪存储器、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何在本申请揭露的技术范围内的变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以所述权利要求的保护范围为准。
