标题title
一种半桥驱动电路
摘要abst
本发明公开了一种半桥驱动电路，涉及开关电源领域，解决了全桥电路工作在降压模式或升压模式时，上管单元无法长时间工作在导通状态的问题。具体方案包括：半桥电路模块，包括上管单元与下管单元；驱动模块，与上管单元和下管单元连接，用于驱动上管单元和下管单元交替导通产生方波信号；自举电路模块，与上管单元和下管单元连接，用于与电源连接，以在下管单元导通期间充电，同时为下管单元供电；还用于在下管单元关闭、上管单元导通期间放电为上管单元供电，以保持上管单元的导通状态；充电模块，与自举电路模块连接，用于在下管单元的关闭时长超出预设时长后，周期性的为自举电路模块充电，直至下管单元导通。
权利要求书clms
1.一种半桥驱动电路，其特征在于，包括：半桥电路模块，包括上管单元与下管单元；驱动模块，与所述上管单元和所述下管单元连接，用于驱动所述上管单元和所述下管单元交替导通产生方波信号；自举电路模块，与所述上管单元和所述下管单元连接，用于与电源连接，以在所述下管单元导通期间充电，同时为所述下管单元供电；还用于在所述下管单元关闭、所述上管单元导通期间放电为所述上管单元供电，以保持所述上管单元的导通状态；充电模块，与所述自举电路模块连接，用于在所述下管单元的关闭时长超出预设时长后，周期性的为所述自举电路模块充电，直至所述下管单元导通。2.根据权利要求1所述的半桥驱动电路，其特征在于，所述自举电路模块包括与所述电源依次串联的自举二极管和自举电容；所述充电模块包括：第一功率管、第二功率管、第一电容、光耦合器以及控制单元；所述第一电容的正极与所述自举二极管的负极和所述自举电容的正极连接；所述第二功率管与所述第一电容的负极连接，用于在导通时通过所述电源为所述第一电容充电；所述第一功率管通过所述光耦合器与所述第一电容的负极和所述自举电容的负极连接，用于在导通时控制所述光耦合器导通，以使所述第一电容为所述自举电容充电；所述控制单元与所述第一功率管和所述第二功率管连接，用于周期性的控制所述第一功率管和所述第二功率管的导通；所述第一功率管导通时，所述第二功率管关闭；所述第二功率管导通时，所述第一功率管关闭。3.根据权利要求2所述的半桥驱动电路，其特征在于，所述第一功率管和所述第二功率管均为NPN型三极管；所述第一功率管的基极与所述控制单元连接，发射极接地，集电极与所述光耦合器的阴极连接；所述光耦合器的阳极与所述电源连接，发射极与所述第二功率管的集电极连接，集电极与所述自举电容的负极连接；所述第二功率管的基极与所述控制单元连接，发射极接地。4.根据权利要求3所述的半桥驱动电路，其特征在于，所述充电模块还包括第一电阻和第二电阻；所述第一电阻的一端与所述光耦合器的阳极连接，另一端与所述电源连接；所述第二电阻的一端与所述光耦合器的集电极连接，另一端与所述自举电容的负极连接。5.根据权利要求4所述的半桥驱动电路，其特征在于，所述上管单元包括第三功率管，所述下管单元包括第四功率管；所述第三功率管和所述第四功率管均为P沟道场效应管；所述第三功率管的栅极与所述驱动模块连接，漏极接地，源极与所述第四功率管的漏极以及所述自举电容的负极连接；所述第四功率管的栅极与所述驱动模块连接，源极接地。6.根据权利要求5所述的半桥驱动电路，其特征在于，所述上管单元还包括第一二极管、第三电阻、第四电阻、第二电容以及第三电容；所述第一二极管的负极与所述驱动模块连接，正极与所述第三功率管的栅极连接；所述第三电阻并联在所述第一二极管两端，所述第四电阻串联在所述第一二极管的正极与所述第三功率管的栅极之间；所述第二电容与所述第三电容并联后串联在所述第三功率管的漏极。7.根据权利要求5所述的半桥驱动电路，其特征在于，所述下管单元包括第二二极管、第五电阻、第六电阻及第七电阻；所述第二二极管的负极与所述驱动模块连接，正极与所述第四功率管的栅极连接；所述第五电阻并联在所述第二二极管两端，所述第六电阻串联在所述第二二极管的正极与所述第四功率管的栅极之间；所述第七电阻串联在所述第四功率管的源极。8.根据权利要求5所述的半桥驱动电路，其特征在于，所述驱动模块为半桥驱动芯片，包括高侧门极驱动输出端、高压侧浮动射极输出端以及低侧门极驱动输出端；所述高侧门极驱动输出端与所述第三功率管的栅极连接，所述低侧门极驱动输出端与所述第四功率管的栅极连接，所述高压侧浮动射极输出端与所述第三功率管的源极以及所述第四功率管的漏极连接。9.根据权利要求8所述的半桥驱动电路，其特征在于，所述半桥驱动电路还包括第八电阻以及第三二极管；所述第三二极管的正极接地，负极与所述高压侧浮动射极输出端连接；所述第八电阻的一端与所述高压侧浮动射极输出端以及所述第三二极管的负极连接，另一端与所述自举电容的负极连接。
说明书desc
技术领域本发明涉及开关电源领域，尤其涉及一种半桥驱动电路。背景技术在全桥电路中，当输入电压高于输出电压时，需要电路工作在降压模式；电路在降压模式工作时，需要电路的左半桥工作在正常的脉冲宽度调制状态，右半桥的上管单元工作在导通状态，右半桥的下管单元工作在关闭状态。当输入电压小于输出电压时，需要电路工作在升压模式；电路在升压模式工作时，需要电路的右半桥工作在正常的脉冲宽度调制状态，左半桥的上管单元工作在导通状态，左半桥的下管单元工作在关闭状态。现有的全桥电路工作在降压模式或升压模式时，若下管单元长期处于关闭状态，则上管单元无法长时间工作在导通状态。发明内容本发明提供一种半桥驱动电路，解决了全桥电路工作在降压模式或升压模式时，上管单元无法长时间工作在导通状态的问题。为达到上述目的，本发明采用如下技术方案：本发明提供一种半桥驱动电路，包括：半桥电路模块，包括上管单元与下管单元；驱动模块，与所述上管单元和所述下管单元连接，用于驱动所述上管单元和所述下管单元交替导通产生方波信号；自举电路模块，与所述上管单元和所述下管单元连接，用于与电源连接，以在所述下管单元导通期间充电，同时为所述下管单元供电；还用于在所述下管单元关闭、所述上管单元导通期间放电为所述上管单元供电，以保持所述上管单元的导通状态；充电模块，与所述自举电路模块连接，用于在所述下管单元的关闭时长超出预设时长后，周期性的为所述自举电路模块充电，直至所述下管单元导通。在一种可能的实现方式中，所述自举电路模块包括与所述电源依次串联的自举二极管和自举电容；所述充电模块包括：第一功率管、第二功率管、第一电容、光耦合器以及控制单元；所述第一电容的正极与所述自举二极管的负极和所述自举电容的正极连接；所述第二功率管与所述第一电容的负极连接，用于在导通时通过所述电源为所述第一电容充电；所述第一功率管通过所述光耦合器与所述第一电容的负极和所述自举电容的负极连接，用于在导通时控制所述光耦合器导通，以使所述第一电容为所述自举电容充电；所述控制单元与所述第一功率管和所述第二功率管连接，用于周期性的控制所述第一功率管和所述第二功率管的导通；所述第一功率管导通时，所述第二功率管关闭；所述第二功率管导通时，所述第一功率管关闭。在一种可能的实现方式中，所述第一功率管和所述第二功率管均为NPN型三极管；所述第一功率管的基极与所述控制单元连接，发射极接地，集电极与所述光耦合器的阴极连接；所述光耦合器的阳极与所述电源连接，发射极与所述第二功率管的集电极连接，集电极与所述自举电容的负极连接；所述第二功率管的基极与所述控制单元连接，发射极接地。在一种可能的实现方式中，所述充电模块还包括第一电阻和第二电阻；所述第一电阻的一端与所述光耦合器的阳极连接，另一端与所述电源连接；所述第二电阻的一端与所述光耦合器的集电极连接，另一端与所述自举电容的负极连接。在一种可能的实现方式中，所述上管单元包括第三功率管，所述下管单元包括第四功率管；所述第三功率管和所述第四功率管均为P沟道场效应管；所述第三功率管的栅极与所述驱动模块连接，漏极接地，源极与所述第四功率管的漏极以及所述自举电容的负极连接；所述第四功率管的栅极与所述驱动模块连接，源极接地。在一种可能的实现方式中，所述上管单元还包括第一二极管、第三电阻、第四电阻、第二电容以及第三电容；所述第一二极管的负极与所述驱动模块连接，正极与所述第三功率管的栅极连接；所述第三电阻并联在所述第一二极管两端，所述第四电阻串联在所述第一二极管的正极与所述第三功率管的栅极之间；所述第二电容与所述第三电容并联后串联在所述第三功率管的漏极。在一种可能的实现方式中，所述下管单元包括第二二极管、第五电阻、第六电阻及第七电阻；所述第二二极管的负极与所述驱动模块连接，正极与所述第四功率管的栅极连接；所述第五电阻并联在所述第二二极管两端，所述第六电阻串联在所述第二二极管的正极与所述第四功率管的栅极之间；所述第七电阻串联在所述第四功率管的源极。在一种可能的实现方式中，所述驱动模块为半桥驱动芯片，包括高侧门极驱动输出端、高压侧浮动射极输出端以及低侧门极驱动输出端；所述高侧门极驱动输出端与所述第三功率管的栅极连接，所述低侧门极驱动输出端与所述第四功率管的栅极连接，所述高压侧浮动射极输出端与所述第三功率管的源极以及所述第四功率管的漏极连接。在一种可能的实现方式中，所述半桥驱动电路还包括第八电阻以及第三二极管；所述第三二极管的正极接地，负极与所述高压侧浮动射极输出端连接；所述第八电阻的一端与所述高压侧浮动射极输出端以及所述第三二极管的负极连接，另一端与所述自举电容的负极连接。本发明实施例提供的半桥驱动电路可以作为全桥电路的左半桥和右半桥，当全桥电路需要工作在降压模式或升压模式时，全桥电路的其中一个半桥驱动电路需要工作在正常的脉冲宽度调制状态，即半桥驱动电路的上管单元和下管单元交替导通产生正常的方波信号；全桥电路的另一个半桥驱动电路需要工作在下管单元长时间关闭、上管单元长时间导通的状态；在正常的脉冲宽度调制状态时，当下管单元导通、上管单元关闭时，电源、自举电路模块、下管单元与地之间形成完整回路，为下管单元供电，使下管单元保持导通状态，同时为下管单元自身充电；当上管单元导通、下管单元关闭时，自举电路模块放电为上管单元导通供电使上管单元保持导通状态；在下管单元长时间关闭、上管单元长时间导通的状态时，当自举电路模块上存储的电量耗尽后，下管单元无法导通与自举电路模块形成回路为自举电路模块充电，自举电路模块就无法为上管单元继续供电；因此，在下管单元关闭的时长超出预设时长后，通过充电模块周期性的为自举电路模块充电，使自举电路始终能为上管单元供电，从而使上管单元能够始终工作在导通状态。本发明实施例提供的半桥驱动电路通过周期性的控制第一功率管与第二功率管的导通和关闭来控制对自举电容的充电；当控制第二功率管导通、第一功率管关闭时，电源、自举二极管、第一电容、第二功率管与地之间形成充电回路，通过电源为第一电容充电；当控制第二功率管关闭、第一功率管导通时，光耦合器导通使第一电容与自举电容并联，由于第一电容刚完成充电，因此第一电容的电压高于自举电容的电压，通过第一电容为自举电容充电，直至第一电容与自举电容的电压相等，控制第二功率管导通、第一功率管关闭继续为第一电容充电，如此循环往复，使自举电容始终能放电为上管单元供电，从而保证上管单元的导通状态。附图说明图1为本发明实施例提供的一种半桥驱动电路的整体电路图。部件和附图标记说明：1、半桥电路模块；11、上管单元；12、下管单元；2、驱动模块；3、自举电路模块；4、充电模块。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。以下，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本公开实施例的描述中，除非另有说明，“多个”的含义是两个或两个以上。另外，“基于”或“根据”的使用意味着开放和包容性，因为“基于”或“根据”一个或多个条件或值的过程、步骤、计算或其他动作在实践中可以基于额外条件或超出的值。为了解决全桥电路工作在降压模式或升压模式时，上管单元无法长时间工作在导通状态的问题，本发明实施例提供了一种半桥驱动电路。图1为本发明实施例提供的一种半桥驱动电路的整体电路图。如图1所示，半桥驱动电路包括半桥电路模块1、驱动模块2、自举电路模块3以及充电模块4。半桥电路模块1包括上管单元11与下管单元12。驱动模块2与上管单元11和下管单元12连接，用于驱动上管单元11和下管单元12交替导通产生方波信号。自举电路模块3与上管单元11和下管单元12连接，用于与电源连接，以在下管单元12导通期间充电，同时为下管单元12供电；还用于在下管单元12关闭、上管单元11导通期间放电为上管单元11供电，以保持上管单元11的导通状态。充电模块4与自举电路模块3连接，用于在下管单元12的关闭时长超出预设时长后，周期性的为自举电路模块3充电，直至下管单元12导通。半桥驱动电路可以作为全桥电路的左半桥和右半桥，当全桥电路需要工作在降压模式或升压模式时，全桥电路的其中一个半桥驱动电路需要工作在正常的脉冲宽度调制状态，即半桥驱动电路的上管单元11和下管单元12交替导通产生正常的方波信号；全桥电路的另一个半桥驱动电路需要工作在下管单元12长时间关闭、上管单元11长时间导通的状态。在正常的脉冲宽度调制状态时，当下管单元12导通、上管单元11关闭时，电源、自举电路模块3、下管单元12与地之间形成完整回路，为下管单元12供电，使下管单元12保持导通状态，同时为下管单元12自身充电。当上管单元11导通、下管单元12关闭时，自举电路模块3放电为上管单元11导通供电使上管单元11保持导通状态。在下管单元12长时间关闭、上管单元11长时间导通的状态时，当自举电路模块3上存储的电量耗尽后，下管单元12无法导通与自举电路模块3形成回路为自举电路模块3充电，自举电路模块3就无法为上管单元11继续供电。因此，在下管单元12关闭的时长超出预设时长后，通过充电模块4周期性的为自举电路模块3充电，使自举电路始终能为上管单元11供电，从而使上管单元11能够始终保持导通状态，直至下管单元12导通，关闭充电模块4，继续通过自举电路模块3与下管单元12形成的回路为下管单元12供电，同时为自举电路模块3充电。例如：在正常的脉冲宽度调制状态时，上管单元11与下管单元12以3毫秒为周期交替导通，当下管单元12关闭的时长超出3毫秒后，说明电路进入了下管单元12长时间关闭、上管单元11长时间导通的状态，此时开启充电模块4。充电模块4以3毫秒为周期为自举电路模块3循环供电，从而使自举电路模块3持续为上管单元11供电，使上管单元11长时间保持导通状态。进一步的，自举电路模块3包括与电源依次串联的自举二极管D1和自举电容C6。自举二极管D1的正极与电源连接，负极与自举电容C6的正极连接，自举电容C6的负极与上管单元11和下管单元12连接。充电模块4包括第一功率管Q1、第二功率管Q2、第一电容C1、光耦合器U1以及控制单元。其中，第一电容C1的正极与自举二极管D1的负极和自举电容C6的正极连接。第二功率管Q2与第一电容C1的负极连接，用于在导通时通过电源为第一电容C1充电。第一功率管Q1通过光耦合器U1与第一电容C1的负极和自举电容C6的负极连接，用于在导通时控制光耦合器U1导通，以使第一电容C1为自举电容C6充电。控制单元与第一功率管Q1和第二功率管Q2连接，用于周期性的控制第一功率管Q1和第二功率管Q2的导通；且第一功率管Q1导通时，第二功率管Q2关闭；第二功率管Q2导通时，第一功率管Q1关闭。其中，控制单元可以为微控制单元或比较器电路。本实施例中，第一功率管Q1和第二功率管Q2均为NPN型三极管，控制单元为微控制单元。第一功率管Q1的基极与控制单元连接，发射极接地，集电极与光耦合器U1的阴极连接；光耦合器U1的阳极与电源连接，光耦合器U1的发射极与第二功率管Q2的集电极连接，光耦合器U1的集电极与自举电容C6的负极连接；第二功率管Q2的基极与控制单元连接，发射极接地。充电模块4还包括第一电阻R2和第二电阻R3。第一电阻R2的一端与光耦合器U1的阳极连接，另一端与电源连接，用于防止电压过大损坏光耦合器U1。第二电阻R3的一端与光耦合器U1的集电极连接，另一端与自举电容C6的负极连接，第二电阻R3为限流电阻。如图1所示，微控制单元包括第一输出端与第二输出端，用于输出脉冲宽度调制信号。第一输出端即图1中的PWM_P，与第一功率管Q1的基极连接；第二输出端即图1中的PWM_N，与第二功率管Q2的基极连接。当半桥驱动电路工作在下管单元12长时间关闭、上管单元11长时间导通的状态时微控制单元的PWM_N输出高电平、PWM_P输出低电平，使第二功率管Q2导通、第一功率管Q1关闭，第二功率管Q2导通后，电源、自举二极管D1、第一电容C1和第二功率管Q2到地构成充电回路，为第一电容C1充电。在第一电容C1充满电后，微控制单元的PWM_N输出低电平控制第二功率管Q2关断，微控制单元的PWM_P输出高电平控制第一功率管Q1导通。第一功率管Q1导通控制光耦合器U1导通，使第一电容C1与自举电容C6并联，由于第一电容C1刚完成充电，因此第一电容C1的电压高于自举电容C6的电压，通过第一电容C1为自举电容C6充电，直至第一电容C1与自举电容C6的电压相等，微控制单元的PWM_P输出低电平控制第一功率管Q1关闭，微控制单元的PWM_N输出高电平控制第二功率管Q2导通，继续为第一电容C1充电，如此反复循环，使自举电容C6始终能放电为上管单元11供电，从而保证上管单元11能长时间工作在导通状态。其中，微控制单元以3毫秒为周期进行PWM_N输出高电平、PWM_P输出低电平，与PWM_N输出低电平、PWM_P输出高电平的切换。本实施例中，电源电压为12V，自举电容C6和第一电容C1的电容容量均为47微法，电容耐压值均为50伏，第二电阻R3的阻值为2欧，当半桥驱动电路工作在下管单元12长时间关闭、上管单元11长时间导通的状态时，通过充电模块4周期性的为自举电容C6充电，使自举电容C6的电压始终保持在10伏以上，从而保证在下管单元12始终关闭的情况下，上管单元11长时间保持导通状态。进一步的，本发明的半桥电路模块1可以采用半桥拓扑结构，也可以采用全桥拓扑结构。本实施例中，半桥电路模块1采用半桥拓扑结构。其中，上管单元11包括第三功率管Q3，下管单元12包括第四功率管Q4。其中，第三功率管Q3和第四功率管Q4均为P沟道场效应管；第三功率管Q3的栅极与驱动模块2连接，漏极接地，源极与第四功率管Q4的漏极以及自举电容C6的负极连接；第四功率管Q4的栅极与驱动模块2连接，源极接地。具体的，上管单元11还包括第一二极管D2、第三电阻R5、第四电阻R4、第二电容C2以及第三电容C3；第一二极管D2的负极与驱动模块2连接，正极与第三功率管Q3的栅极连接；第三电阻R5并联在第一二极管D2两端，第四电阻R4串联在第一二极管D2的正极与第三功率管Q3的栅极之间；第二电容C2与第三电容C3并联后串联在第三功率管Q3的漏极。其中，第二电容C2和第三电容C3均为滤波电容。下管单元12包括第二二极管D3、第五电阻R8、第六电阻R7及第七电阻KT1；第二二极管D3的负极与驱动模块2连接，正极与第四功率管Q4的栅极连接；第五电阻R8并联在第二二极管D3两端，第六电阻R7串联在第二二极管D3的正极与第四功率管Q4的栅极之间；第七电阻KT1串联在第四功率管Q4的源极。其中，第七电阻KT1为电流采样电阻。进一步的，驱动模块2为半桥驱动芯片，包括高侧门极驱动输出端、高压侧浮动射极输出端以及低侧门极驱动输出端；高侧门极驱动输出端与第三功率管Q3的栅极连接，低侧门极驱动输出端与第四功率管Q4的栅极连接，高压侧浮动射极输出端与第三功率管Q3的源极以及第四功率管Q4的漏极连接。半桥驱动电路还包括第八电阻R6以及第三二极管D4，用于防止电路负压，在重载情况下保护电路。第三二极管D4的正极接地，负极与高压侧浮动射极输出端连接；第八电阻R6的一端与高压侧浮动射极输出端以及第三二极管D4的负极连接，另一端与自举电容C6的负极连接。本实施例中，驱动模块2为HYD32525驱动芯片，包括高压侧基极浮动电压输出引脚VB、高侧门极驱动输出引脚HO、高压侧浮动射极输出引脚VS、低侧门极驱动输出引脚LO、电源引脚VCC、逻辑电源引脚Hin和、接地引脚GND。其中HYD32525驱动芯片的VCC接12V的电源，Hin和分别通入逻辑电平，GND接地，VB与自举二极管D1的负极连接，HO与第一二极管D2的负极连接，VS与自举电容C6的负极、第三功率管Q3的源极以及第四功率管Q4的漏极连接，LO与第二二极管D3的负极连接。为了对驱动模块2进行滤波，半桥驱动电路还包括第四电容C4和第五电容C5，第四电容C4和第五电容C5均为滤波电容。第四电容C4的一端与HYD32525驱动芯片的VCC以及12V的电源连接，另一端接地；第五电容C5的一端与12V的电源以及自举二极管D1的正极连接，另一端与第四电容C4连接后接地。本发明的半桥驱动电路能在下管单元12始终关闭的情况下，使上管单元11长时间保持导通状态，从而避免了上管单元11的开关波形跌落的问题，极大地优化了上管单元11的开关波形。通过两个本发明的半桥驱动电路能够组成一个全桥电路，本发明的半桥驱动电路能够提高该全桥电路的转换效率，简化该全桥电路的软件控制算法。以上，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何在本发明揭露的技术范围内的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
