标题title
一种视频上传服务器调配方法和装置
摘要abst
本申请公开了一种视频上传服务器调配方法和装置，其中本申请响应于接收到目标视频上传请求，获取与所述目标视频上传请求对应的请求特征信息；获得服务器信息库，所述服务器信息库中存储有与每一个服务器对应的信息集合，所述信息集合包括服务器的属性信息和当前负载状态信息；在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器；控制与所述目标视频上传请求对应的目标视频基于所述目标服务器进行上传。本申请可以在保证服务器性能上能够完成上传的同时，也使服务器能够有足够的空间完成视频的上传任务，减少用户在上传过程中网络拥挤以及无法成功上传的情况。
权利要求书clms
1.一种视频上传服务器调配方法，其特征在于，包括：响应于接收到目标视频上传请求，获取与所述目标视频上传请求对应的请求特征信息；获得服务器信息库，所述服务器信息库中存储有与每一个服务器对应的信息集合，所述信息集合包括服务器的属性信息和当前负载状态信息；在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器集合；控制与所述目标视频上传请求对应的目标视频基于所述目标服务器集合进行上传。2.根据权利要求1所述的方法，其特征在于，在获得服务器信息库之前，还包括：基于采集的每一个服务器对应的配置特征信息、位置特征信息和运行特征信息，确定每一个服务器对应的属性信息；根据每一个服务器的存储特征信息和当前服务器的资源占用信息，确定每一个服务器对应的当前负载状态信息；将每一个服务器对应的所述属性信息和所述当前负载状态信息组合，得到服务器信息库。3.根据权利要求2所述的方法，其特征在于，所述根据每一个服务器的存储特征信息和当前服务器的资源占用信息，确定每一个服务器对应的当前负载状态信息，包括：根据预设的采集时间周期，获取当前采集时间周期内每一个服务器对应的当前负载参数集合，所述负载参数集合包括服务器当前硬盘占用存储量与存储总量的比值、处理器占用量、内存占用量和服务器当前任务数量与可服务的任务总数的比值中的一种或多种；将所述当前负载参数集合更新对应的上一采集时间周期的负载参数集合，得到每一个服务器对应的当前负载状态信息。4.根据权利要求1所述的方法，其特征在于，所述请求特征信息，包括：目标视频的格式参数、运行参数、上传渠道参数和上传位置参数；其中，所述在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器集合，包括：在所述服务器信息库中，确定与所述目标视频的格式参数、运行参数、上传渠道参数和上传位置参数相匹配的目标服务器集合。5.根据权利要求1或4所述的方法，其特征在于，所述在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器集合，包括：基于每一个服务器的状态标识，确定状态标识为可服务的服务器为第一服务器集合；根据所述服务器信息库中每一个服务器对应的属性信息，确定所述第一服务器集合中属性信息与请求特征信息的格式参数以及上传位置参数相匹配的服务器为第二服务器集合；根据所述第二服务器集合中每一服务器的当前负载状态信息，计算得到所述第二服务器集合中每一服务器对应的负载权重值；基于预设的目标负载权重范围，从所述第二服务器集合中确定目标服务器集合，所述目标服务器集合中的每一服务器的负载权重值都在所述目标负载权重范围内。6.根据权利要求5所述的方法，其特征在于，所述方法还包括：根据第一服务器集合中每一个服务器的属性信息，确定第一服务器中属性信息与请求特征信息的格式参数以及上传位置参数中的接入的运营商信息相匹配的服务器为第三服务器集合；根据所述第三服务器集合中每一个服务器的当前负载状态信息，计算得到第三服务器集合中每一个服务器对应的负载权重值；基于预设的目标负载权重范围，从所述第三服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器对应的负载权重值都在目标负载权重范围内。7.根据权利要求6所述的方法，其特征在于，所述方法还包括：根据所述第三服务器集合中每一个服务器的当前负载状态信息，计算得到第三服务器集合中每一个服务器对应的负载权重值；基于预设的目标负载权重范围，从所述第三服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器对应的负载权重值都在目标负载权重范围内。8.根据权利要求4所述的方法，其特征在于，还包括：在所述服务器信息库中，确定与所述目标视频的上传渠道参数相匹配的目标服务器集合；控制与所述请求特征信息对应的目标视频基于所述目标服务器集合进行上传。9.根据权利要求1所述的方法，其特征在于，所述控制与所述目标视频上传请求对应的目标视频基于所述目标服务器集合进行上传，包括：根据所述目标服务器集合的配置信息特征，计算得到所述目标服务器集合中每一个目标服务器对应的推荐权重值；将所述目标服务器集合中的服务器按照对应的推荐权重值进行排序，得到目标服务器的目标排序，确定第一目标服务器；控制与所述请求特征信息对应的目标视频基于所述第一目标服务器进行上传；其中，所述控制与所述目标视频上传请求对应的目标视频基于所述第一目标服务器进行上传，包括：响应于基于所述第一目标服务器对所述目标视频请求对应的目标视频进行上传，检测所述第一目标服务器运行状态；若基于所述第一目标服务器的运行状态确定所述第一目标服务器异常，控制所述目标视频切换至所述目标服务器集合中的第二目标服务器进行上传。10.一种视频上传服务器调配装置，其特征在于，包括：请求信息获取单元，用于响应于接收到目标视频上传请求，获取与所述目标视频上传请求对应的请求特征信息；服务器信息获取单元，用于获得服务器信息库，所述服务器信息库中存储有与每一个服务器对应的信息集合，所述信息集合包括服务器的属性信息和当前负载状态信息；服务器信息匹配单元，用于在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器集合；控制目标视频上传单元，用于控制与所述请求特征信息对应的目标视频基于所述目标服务器集合进行上传。
说明书desc
技术领域本申请涉及信息技术领域，更具体地说，涉及一种视频上传服务器调配方法和装置。背景技术随着互联网行业经济的发展，以及各大短视频平台的崛起，视频逐渐成为信息传播的主要形式之一，支持上传视频也成为了各平台都要具备的必要功能之一。一般来说，接收视频文件上传的后端服务器群是分布式部署，当用户端发起视频文件上传请求后，系统就分配上传机器节点，用户端通过该节点完成视频上传。现有技术中，上传机器节点分配方案一般是随机分配，直接从服务器群中随机分配一个服务器节点传送给用户端，提供上传视频的服务。随机分配就会导致用户在上传视频时，若分配到的服务器无法承担视频上传任务，则用户就会遇到无法成功上传的情况。发明内容有鉴于此，本申请提供了一种视频上传服务器调配方法和装置，用于解决现有视频上传服务器随机分配导致的视频上传拥挤卡顿，视频无法成功上传的问题。为了实现上述目的，现提出的方案如下：一种视频上传服务器调配方法，包括：响应于接收到目标视频上传请求，获取与所述目标视频上传请求对应的请求特征信息；获得服务器信息库，所述服务器信息库中存储有与每一个服务器对应的信息集合，所述信息集合包括服务器的属性信息和当前负载状态信息；在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器集合；控制与所述目标视频上传请求对应的目标视频基于所述目标服务器集合进行上传。可选地，在获得服务器信息库之前，还包括：基于采集的每一个服务器对应的配置特征信息、位置特征信息和运行特征信息，确定每一个服务器对应的属性信息；根据每一个服务器的存储特征信息和当前服务器的资源占用信息，确定每一个服务器对应的当前负载状态信息；将每一个服务器对应的所述属性信息和所述当前负载状态信息组合，得到服务器信息库。可选地，所述根据每一个服务器的存储特征信息和当前服务器的资源占用信息，确定每一个服务器对应的当前负载状态信息，包括：根据预设的采集时间周期，获取当前采集时间周期内每一个服务器对应的当前负载参数集合，所述负载参数集合包括服务器当前硬盘占用存储量与存储总量的比值、处理器占用量、内存占用量和服务器当前任务数量与可服务的任务总数的比值中的一种或多种；将所述当前负载参数集合更新对应的上一采集时间周期的负载参数集合，得到每一个服务器对应的当前负载状态信息。可选地，所述请求特征信息，包括：目标视频的格式参数、运行参数、上传渠道参数和上传位置参数；其中，所述在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器集合，包括：在所述服务器信息库中，确定与所述目标视频的格式参数、运行参数、上传渠道参数和上传位置参数相匹配的目标服务器集合。可选地，所述在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器集合，包括：基于每一个服务器的状态标识，确定状态标识为可服务的服务器为第一服务器集合；根据所述服务器信息库中每一个服务器对应的属性信息，确定所述第一服务器集合中属性信息与请求特征的格式参数以及上传位置参数相匹配的服务器为第二服务器集合；根据所述第二服务器集合中每一服务器的当前负载状态信息，计算得到所述第二服务器集合中每一服务器对应的负载权重值；基于预设的目标负载权重范围，从所述第二服务器集合中确定目标服务器集合，所述目标服务器集合中的每一服务器的负载权重值都在所述目标负载权重范围内。可选地，所述方法还包括：根据第一服务器集合中每一个服务器的属性信息，确定第一服务器中属性信息与请求特征信息的格式参数以及上传位置参数中的接入的运营商信息相匹配的服务器为第三服务器集合；根据所述第三服务器集合中每一个服务器的当前负载状态信息，计算得到第三服务器集合中每一个服务器对应的负载权重值；基于预设的目标负载权重范围，从所述第三服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器对应的负载权重值都在目标负载权重范围内。可选地，所述方法还包括：根据所述第三服务器集合中每一个服务器的当前负载状态信息，计算得到第三服务器集合中每一个服务器对应的负载权重值；基于预设的目标负载权重范围，从所述第三服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器对应的负载权重值都在目标负载权重范围内。可选地，还包括：在所述服务器信息库中，确定与所述目标视频的上传渠道参数相匹配的目标服务器集合；控制与所述请求特征信息对应的目标视频基于所述目标服务器集合进行上传。可选地，所述控制与所述目标视频上传请求对应的目标视频基于所述目标服务器进行上传，包括：根据所述目标服务器集合的配置信息特征，计算得到所述目标服务器集合中每一个目标服务器对应的推荐权重值；将所述目标服务器集合中的服务器按照对应的推荐权重值进行排序，得到目标服务器的目标排序，确定第一目标服务器；控制与所述请求特征信息对应的目标视频基于所述第一目标服务器进行上传；其中，所述控制与所述目标视频上传请求对应的目标视频基于所述第一目标服务器进行上传，包括：响应于基于所述第一目标服务器对所述目标视频请求对应的目标视频进行上传，检测所述第一目标服务器运行状态；若基于所述第一目标服务器的运行状态确定所述第一目标服务器异常，控制所述目标视频切换至所述目标服务器集合中的第二目标服务器进行上传。一种视频上传服务器调配装置，包括：请求信息获取单元，用于响应于接收到目标视频上传请求，获取与所述目标视频上传请求对应的请求特征信息；服务器信息获取单元，用于获得服务器信息库，所述服务器信息库中存储有与每一个服务器对应的信息集合，所述信息集合包括服务器的属性信息和当前负载状态信息；服务器信息匹配单元，用于在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器集合；控制目标视频上传单元，用于控制与所述请求特征信息对应的目标视频基于所述目标服务器集合进行上传。从上述的技术方案可以看出，本申请公开了一种视频上传服务器调配方法和装置，所述方法包括响应于接收到目标视频上传请求，获取与所述目标视频上传请求对应的请求特征信息；获取包含所有服务器信息的服务器信息库，从服务器信息库中，确定与所述请求特征信息性匹配的目标服务器集合；将所述目标视频基于目标服务器集合完成上传。本申请方案可以直接根据采集的目标视频的上传请求，并且按照上传请求对服务器进行筛选，筛选过程主要从属性信息和当前负载信息两方面进行考虑，在保证服务器性能上能够完成上传的同时，也使服务器能够有足够的空间完成视频的上传任务，减少用户在上传过程中网络拥挤以及无法成功上传的情况。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据提供的附图获得其他的附图。图1为本申请实施例提供的一种实现视频上传服务器调配的系统架构图；图2为本申请实施例提供的一种视频上传服务器调配方法的流程图；图3为本申请实施例示例的一种应用场景示意图；图4为本申请实施例提供的一种视频上传服务器调配装置结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。图1为本申请实施例提供的实现视频上传服务器调配的一种可选系统架构图，如图1所示，该系统可以包括：客户端10、服务端20和上传服务端30，其中客户端10对应用户。具体地，用户通过客户端10发出上传视频的请求，服务端20采集到客户端的上传请求，服务端20与上传服务端30相互关联，客户端10通过服务端20与上传服务端产生联系，上传服务端30可以是多台服务器组成的服务器集群，服务端20在上传服务端30中选取一个或者多个服务器作为目标上传服务器，最终控制视频的上传。本申请要实现的是在接收到目标视频的上传请求时，让目标视频能够获得最合适的服务器进行目标视频上传。具体地，图1示出了为本申请实施例提供的一种视频上传服务器调配方法的流程示意图，参照图1，本实施例的方法可以包括：步骤S110、接收目标视频上传请求；步骤S120、获取与所述目标视频上传请求对应的请求特征信息。具体地，获得与所述目标视频上传请求对应的请求特征信息，所述请求特征信息至少包括目标视频的格式参数、运行参数、上传渠道参数和上传位置参数等信息。接收目标视频上传请求，接收到的可能是来自手机、电脑、平板等任何可连接网络的电子产品发出的视频上传请求。当服务端接收到目标视频的上传请求后，需要获取与所述目标视频上传请求对应的请求特征信息，例如：目标视频的格式、大小、清晰度，也可以是客户端所接入的网络运营商、上传渠道等等，将这些采集到的信息组合得到请求特征信息。并且所述请求特征信息内容能够使服务器清楚地判断，上传所述目标视频至少应该满足的条件。步骤S130、获得服务器信息库。具体地，获得服务器信息库，所述服务器信息库中存储有与每一个服务器对应的信息集合，所述信息集合包括服务器的属性信息和当前负载状态信息。其中，所述服务器信息库可以是预制的，通过采集到的所有服务器的信息进行分类、筛选得到最终的服务器信息库。关于服务器信息库中存储的与每一个服务器对应的信息集合，其中所述信息集合包括服务器的属性信息和当前负载状态信息，这些信息也是确定最终上传目标视频服务器的关键判断信息。其中，所述属性信息能够体现服务器的配置特征、位置特征和运行特征等，能够根据服务器的属性信息判断该服务器的性能是否足够支持上传该目标视频，也能够根据服务器的属性信息确定服务器的位置信息和接入网络运营商信息，进而促成用户端和服务器之间地理位置相近且接入网络运营商相同的双方进行视频上传操作；而所述当前负载状态信息，体现了当前时刻该服务器的繁忙程度，根据服务器的繁忙程度进行筛选，能够挑选出繁忙程度相对较低的服务器进行上传，能够保证在该服务器上传视频时，网络顺畅的同时视频也能够上传成功。步骤S140、在所述服务器信息库中，确定与所述请求特征信息匹配的目标服务器。可以理解的是，每一个目标视频对应不同的请求特征信息，根据视频的请求特征信息可以与服务器信息库中每一个服务器的信息集合进行匹配，得到最适合上传所述目标视频的目标服务器。服务器信息库中每一个服务器都有与之对应的属性信息和当前负载信息，与目标视频对应的请求特征信息进行匹配，其中，所述属性信息包括服务器的位置信息、接入网络运营商信息、硬件配置等信息。具体地，以目标视频编码格式为请求特征信息举例，视频编码格式有很多种，不同的服务器都有其支持的视频编码格式，如果上传视频的编码格式与服务器支持上传的视频编码格式不同，可能会遇到不允许上传、成功上传后视频无法播放等问题。所以，在确定目标服务器时，需要将目标视频编码格式与服务器信息库中各服务器信息集合中关于可支持上传的视频编码格式与之进行匹配，找到支持所述目标视频以该编码格式上传的服务器集合。再从所述服务器集合中以其他标准进行筛选，例如继续以服务器的当前负载状态信息为依据进行筛选，在能够保证视频能够上传的同时，最终得到目标服务器，考虑到视频是否有足够的空间来完成目标视频的上传任务，提高上传目标视频的成功率。步骤S150、控制与所述目标视频上传请求对应的目标视频基于所述目标服务器进行上传。进一步地，在步骤S140得到的目标服务器集合之后，基于与所述目标视频对应的请求特征信息最匹配的目标服务器，完成最终的视频上传。具体地，在得到目标服务器集合后，直接将所述目标视频通过所述目标服务器进行上传。但是，所述目标服务器可能存在一个或多个的情况，不同的情况可能上传的情况也不唯一。例如，最终筛选出的目标服务器中包含多个子目标服务器，可能是从多个子目标服务器中随机抽取一个进行目标视频上传，也有可能是根据目标服务器中子目标服务器的排列顺序进行上传，还可以根据设置的服务器上传顺序条件进行上传，如上传顺序条件可以包括根据服务器标识信息进行排序的条件，还可以包括根据服务器的优先级顺序条件等。基于此可知，不同的视频上传的具体应用场景，在基于目标服务器进行视频上传时有不同的上传方式，本申请实施例对此并不进行限制。显然，通过本申请方案，接收到目标视频上传的请求时，可以获取目标视频对应的请求特征信息，根据所述请求特征信息从服务器信息库中找到相匹配的目标服务器，并且所述服务器信息库包括每一个服务器的属性信息和当前负载状态信息，从这两方面进行筛选，得到的目标服务器不仅能够支持目标视频的上传质量，也能保证目标服务器有足够的空间完成目标视频的上传任务，减少用户在上传过程中网络拥挤以及无法上传成功的情况。接下来，本申请实施例将继续对视频上传服务器调配方法做进一步介绍。前文介绍了步骤S130获取服务器信息库，为后续筛选出目标服务器提供大量的服务器样本。而在步骤S130之前，还需要创建所述服务器信息库，以供后续获取以及基于此进行筛选。可以理解的是，服务器信息库中包括与每一个服务器对应的信息集合，所述信息集合又包括属性信息和当前负载状态信息，创建服务器信息库的过程就是采集与每一个服务器对应的属性信息和当前负载状态信息的过程，包括：基于采集的每一个服务器对应的配置特征信息、位置特征信息和运行特征信息，确定每一个服务器对应的属性信息，所述位置特征信息至少包括服务器IP地址和接入的网络运营商；根据每一个服务器的存储特征信息和当前服务器的资源占用信息，确定每一个服务器对应的当前负载状态信息；将每一个服务器对应的所述属性信息和所述当前负载状态信息组合，得到服务器信息库。具体地，配置特征信息包括配置的接入网络运营商信息，服务器存储特征信息和资源占用信息具体可以包括表征其性能的特征信息，如，处理器占用信息，内存占用信息，资源占用信息、当前任务个数，推荐任务个数。采集与每一个服务器对应的位置特征信息和运行特征信息，其中所述位置特征信息可以包括服务器的IP地址、所属机房以及所属机房所在的城市地址、服务器所接入的网络运营商等一系列关于对应服务器的位置特征信息；所述运行特征信息可以包括中央处理器、服务器带宽、所属网络运营商等一系列能够体现服务器运行能力的特征信息。将上述属性信息和运行特征信息组合起来与服务器一一对应，得到与服务器对应的属性信息。进一步地，根据采集到的服务器的存储特征信息得到服务器的存储空间总值及可同时处理任务总量，所述存储特征信息可以包括服务器的CPU个数、内存总量和硬盘空间等等；再根据获取的当前服务器的资源占用信息，得到服务器当前已占用的存储空间值及已经在处理的任务量，其中所述资源占用信息可以包括服务器CPU的使用情况、内存使用、硬盘空间使用和连接数等等。结合上述得到的存储信息以及任务量信息可以得到众多当前负载状态信息，再与服务器一一对应，最终得到与服务器对应的当前负载状态信息。将上述与服务器对应的属性信息以及当前负载状态信息组合并与服务器对应，最终得到服务器信息库。可以理解的是，所述服务器信息库中与每一个服务器对应的当前负载状态信息是反应当前时刻或者预定的时间段内服务器的负载状态的信息，如此就应该在服务器信息库中应该设置一定的更新流程，来完成对服务器信息库内所有服务器当前负载状态信息的更新，其中本申请实施例提供了一种优选的更新流程，可以包括：根据预设的采集时间周期，获取当前采集时间周期内每一个服务器对应的当前负载参数集合，所述负载参数集合包括服务器当前硬盘占用存储量与存储总量的比值、中央处理器CPU占用量、内存占用量和服务器当前任务数量与可服务的任务总数的比值中的一种或多种；将所述当前负载参数集合更新对应的上一采集时间周期的负载参数集合，得到每一个服务器对应的当前负载状态信息。具体地，由于服务器上传视频不是在瞬间完成的，所以如果时刻对服务器的负载状态更新的话，相邻时刻的服务器负载状态可能不会有变化，时刻进行信息采集反而浪费时间。所以设定一个合理的时间间隔，以固定的时间间隔对服务器的当前负载状态信息进行更新，如此，则所述当前负载状态信息代表的是这一时间间隔即采集时间周期内所有时刻的当前负载状态信息。另外，由上述步骤S130获取服务器信息库可知，服务器对应的当前负载状态信息包括服务器的存储特征信息和当前服务器的资源占用信息，可以理解的是，上述存储特征信息可以是服务器的存储总量、中央处理器CPU数量、内存总量和可服务的任务数量等存储特征参数；同理，上述资源占用信息可以包括服务器已占用存储量、中央处理器CPU占用量、内存占用量和服务器当前任务数量等当前占用信息参数，将上述参数对应进行计算，得到负载参数集合，包括服务器当前硬盘占用存储量与存储总量的比值、中央处理器CPU占用量、内存占用量和服务器当前任务数量与可服务的任务总数的比值中的一种或多种，所述比值能够更加明显的表示出目前服务器内存空间余量和任务处理余量，所述服务器当前占用存储量与存储总量的比值或者服务器当前任务数量与可服务的任务总数的比值越高，代表对应服务器越繁忙，剩余的可处理任务量越少。基于所述预设的采集时间周期，获取当前采集时间周期内的每一个服务器对应的当前负载参数集合，用当前采集时间周期的当前负载参数更新存储的上一采集时间周期的当前负载参数，得到最新的代表当前采集时间周期所有时刻的当前负载状态信息。基于此，服务器信息库创建完成并且能够直接获取、更新，能够与目标视频对应的请求特征信息进行匹配。具体地，所述要进行匹配目标视频对应的请求特征信息包括：目标视频的格式参数、运行参数、上传渠道参数和上传位置参数，所述上传位置参数至少包括上传IP地址和接入的网络运营商信息。可以理解的是，所述目标视频的格式参数可以包括目标视频的大小、清晰度、视频画面每秒传输帧数、视频编码格式等等，上述特征信息可以将不能够支持上传上述格式的视频的服务器排除在外，不做备选服务器，避免出现上传成功但是视频无法正常播放，以及因视频格式不匹配而导致的无法成功上传的情况。另外，不同的视频对上传服务器的要求各不相同，上述运行参数也是对上传服务器的限制，其中运行参数包括该视频对服务器CPU、带宽等参数的最低要求参数，基于此可以更加直观的与上述服务器信息库中每一个服务器对应的属性信息进行对比，得到与所述目标视频的格式参数和运行参数相匹配的目标服务器集合。进一步地，在得到目标视频对应的请求特征信息以及服务器信息库中每一个服务器对应的信息集合的具体信息后，在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器，具体包括：基于每一个服务器的状态标识，确定状态标识为可服务的服务器为第一服务器集合；根据第一服务器集合中每一个服务器的属性信息，确定第一服务器中属性信息与请求特征信息的格式参数以及上传位置参数相匹配的服务器为第二服务器集合；根据所述第二服务器集合中每一个服务器的当前负载状态信息，计算得到第二服务器集合中每一个服务器对应的负载权重值；基于预设的目标负载权重范围，从所述第二服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器的负载权重值都在所述目标负载权重范围内。具体地，在根据目标视频的请求特征信息在服务器信息库中选取服务器前，对服务器信息库中的所有服务器进行状态检查，所述状态检查可以包括对服务器存活状态的检查、对服务器上传模块的状态检查等等，确定服务器可以正常运行，不存在服务器停机、故障、延时等状况。在不考虑是否与目标特征信息是否匹配的情况下，只对服务器是否能够提供服务进行检查，确定可以提供服务的服务器集群即第一服务器集合。进一步地，在得到可提供服务的第一服务器集合后，可以根据服务器信息库中每一个服务器对应的信息集合，将第一服务器集合中每一个服务器的信息集合与所述请求特征信息进行匹配，具体地，可以根据所述服务器信息集合中的属性信息确定每一个服务器对应的IP地址和接入网络运营商信息，与所述请求特征信息中的上传位置信息进行匹配，得到与请求特征信息对应的目标视频属于同一网络运营商并且IP地址最接近的服务器，将所述服务器定义为第二服务器集合。进一步地，在得到与请求特征信息匹配的第二服务器集合后，并且根据所述第二服务器集合中每一个服务器对应的当前负载状态信息，计算每一个服务器对应的负载权重值。可以理解的是，服务器在不同的繁忙程度有不同的负载权重值，根据预设的目标权重范围，经过权重对比可以获得在所述目标权重范围内的目标服务器集合。具体地，所述预设的目标权重范围可以是根据对服务器繁忙程度的经验划分，例如：负载权重值最高是100，权重值越高代表服务器越空闲，负载权重值在0~50内的服务器可以定义为严重拥挤，负载权重值在50~80的服务器定义为相对空闲，而负载权重值在80~100的服务器定义为空闲，将目标权重范围设定为相对空闲，就可以确定负载权重值大于50的服务器为目标服务器集合。另外，可以不按照繁忙程度划分目标负载权重值范围，可以直接按照负载权重值划分，例：将目标权重范围设定为大于78，则就可以确定大于78的服务器为目标服务器集合。上述实施例是将与目标视频对应的IP地址与网络运营商相同，并且负载权重值在目标负载值范围内的服务器确定为目标服务器集合。如果在与目标视频对应的IP地址与网络运营商相同的服务器中，没有在目标负载范围内的服务器，则还可以有另一种目标服务器集合确定方法，包括：基于每一个服务器的状态标识，确定所述状态标识为可服务的服务器为第一服务器集合；根据第一服务器集合中每一个服务器的属性信息，确定第一服务器中属性信息与请求特征信息的格式参数以及上传位置参数中的接入的运营商信息相匹配的服务器为第三服务器；根据所述第三服务器集合中每一个服务器的当前负载状态信息，计算得到第三服务器集合中每一个服务器对应的负载权重值；基于预设的目标负载权重范围，从所述第三服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器对应的负载权重值都在目标负载权重范围内。可以理解的是，该实施例是将可选服务器的范围进行了扩大，减少了对服务器IP地址的这一限定条件，只在第一服务器集合内选择与目标视频同网络运营商的服务器。扩大筛选范围后，在目标负载范围内的服务器可以有更多的选择。如果上述实施例还是无法确定最终的目标服务器集合，则可再次扩大筛选范围，则还可以包括：基于每一个服务器的状态标识，确定所述状态标识为可服务的服务器为第一服务器集合；根据所述第三服务器集合中每一个服务器的当前负载状态信息，计算得到第三服务器集合中每一个服务器对应的负载权重值；基于预设的目标负载权重范围，从所述第三服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器对应的负载权重值都在目标负载权重范围内。具体地，将目标服务器集合的筛选范围直接扩大到第一服务器集合，直接从第一服务器集合中，按照负载权重值确定目标服务器集合。基于以上优选实施例，可知确定目标服务器集合的优先级顺序为可服务、网络运营商、IP地址，而服务器的负载状态是必要考虑的条件。然而，确定与目标视频的请求特征信息匹配的目标服务器集合的方法不唯一。具体地，所述请求特征信息中包括一项上传渠道参数，在所述服务器信息库中，确定与所述请其特征信息相匹配的目标服务器集合，还包括：在所述服务器信息库中，确定与所述目标视频的上传渠道参数相匹配的目标服务器集合；控制与所述请求特征信息对应的目标视频基于所述目标服务器集合进行上传。可以理解的是，具体实施例中存在不同的上传平台有重要合作渠道的情况，在此情况下平台会分配专用的服务器接收上传视频的任务，为了获得最好的体验。进一步地，在确定了目标服务器集合后，直接控制与所述请求特征信息对应的目标视频基于所述目标服务器集合进行上传，但是目标服务器集合中可能是一个也可能是多个目标服务器。当所述目标服务器集合只有一个目标服务器时，只需要控制所述目标视频基于此目标服务器进行上传。当所述目标服务器集合中有多个目标服务器是，所述控制与所述请求特征信息对应的目标视频基于所述目标服务器集合进行上传，包括：根据所述目标服务器集合中每一个目标服务器的配置特征信息和运行特征信息，计算得到所述目标服务器集合中每一个目标服务器对应的推荐权重值；将所述目标服务器集合中的服务器按照对应的推荐权重值进行排序，得到目标服务器的目标排序，确定第一目标服务器；控制与所述请求特征信息对应的目标视频基于所述第一目标服务器进行上传。可以理解的是，目标服务器集合中有多个目标服务器，但是只能确定一个用于上传所述目标视频，为了能够使目标视频在上传是能够达到更好的上传效果，可以将多个目标服务器的性能作为选取条件。具体地，根据所述目标服务器对应的配置特征信息和运行特征信息进行权重计算，能够用得到的推荐权重值更加明显得比较各目标服务器的性能特点。在计算所述推荐权重值时，可选的，可以将配置特征信息和运行特征信息中的服务器中央处理器个数、服务器带宽、操作系统等等特征信息权重赋值，每一个特征信息都进行权重赋值，例如：按照CPU个数进行赋值，只有1个CPU的服务器赋值1，有5个CPU的服务器赋值5……由此可以将所有的目标服务器对应的特征信息进行赋值，最后将所有的赋值参数相加，得到与目标服务器对应的推荐权重值，根据具体权重赋值条件，确定推荐权重值与服务器性能的关系，如推荐权重值越高，对应服务器的性能更优。按照所述推荐权重值的大小进行排序，就是将目标服务器按照性能优异进行排序，得到最终的目标排序，若按照上述推荐权重值越高，对应服务器性能更优的设定，则性能最优的服务器为目标排序的顺序第一，即可确定顺序第一的服务器为第一目标服务器，控制与所述请求特征信息对应的目标视频基于所述第一目标服务器进行上传。另外，目标服务器集合中包含多个服务器时，除了上述的第一目标服务器，还包括第二目标服务器，则在控制目标视频基于所述第一目标服务器上传时，包括：响应于基于所述低于服务器对所述目标视频请求对应的目标视频进行上传，检测所述第一服务器运行状态；若基于所述第一服务器的运行状态确定所述第一服务器异常，控制所述目标视频切换至第二服务器进行上传。可以理解的是，当第一目标服务器上传失败时，可以按照所述目标排序，顺序取第一目标服务器后一位的第二目标服务器，继续控制上传。另外，还存在一种情况，不论所述目标服务器集合中存在一个还是多个目标服务器，最终目标视频都上传失败，则执行步骤S110，针对所述目标视频上传请求重新执行一次视频上传服务器调配流程。参见图3，其示例了本申请视频上传的服务器调配的实现场景。如图3所示，用户在用户端上操作上传视频，此处用户端即手机，用户选中要上传的目标视频并点击上传按钮，确认上传。服务端接收到用户端发送的目标视频上传请求，服务端首先采集目标视频的请求特征信息。图3中在手机上会出现比较明显的视频信息，一般为目标视频的格式信息，包括目标视频的名称“视频1”、大小“5.41MB”、视频画面每秒传输帧数“56FPS”。而服务端会在明示的信息基础上采集更多的信息，包括客户端上传目标视频的位置信息和上传用到的网络运营商信息等等，并将上述信息作为请求特征信息与服务器信息库中的每一个服务器的信息集合进行对比、筛选，得到与目标视频具有相同网络运营商，地址距离最近的服务器集合，并且服务器信息库会根据设定的采集时间周期对服务器的当前负载状态信息进行更新，在筛选服务器的过程中，在所述服务器集合中选出当前负载状态信息最优的，在众多服务器中相对最不繁忙的服务器做目标服务器，并且直接基于所述目标服务器上传目标视频，不需要用户在客户端确认上传。显然，本申请可以直接根据采集到的目标视频的上传请求，并且按照上传请求对服务器进行筛选，筛选也是从两个方面即属性信息和当前负载状态信息进行筛选，使最终上传的服务器既与目标视频时同网络运营商，地理位置最近之外，还能选出当前最不繁忙即当前负载状态信息最优，使服务器能够有足够的空间完成视频的上传任务。基于上述服务器的调配筛选过程得到目标服务器，以所述目标服务器上传目标视频，能够减少视频在上传过程中网络拥挤以及无法成功上传的情况。进一步地，结合图4，对视频上传服务器调配装置进行描述，下文描述的视频上传服务器调配装置与上文描述的视频上传服务器调配方法可相互对应参照。如图4所示，该视频上传服务器调配装置可以包括：请求信息获取单元100，用于响应于接收到目标视频上传请求，获取与所述目标视频上传请求对应的请求特征信息；服务器信息获取单元200，用于获得服务器信息库，所述服务器信息库中存储有与每一个服务器对应的信息集合，所述信息集合包括服务器的属性信息和当前负载状态信息；服务器信息匹配单元300，用于在所述服务器信息库中，确定与所述请求特征信息相匹配的目标服务器集合；控制目标视频上传单元400，用于控制与所述请求特征信息对应的目标视频基于所述目标服务器集合进行上传。优选地，在服务器信息获取单元200之前，还包括：属性信息获取子单元，用于基于采集的每一个服务器的配置特征信息、位置特征信息和运行特征信息，确定每一个服务器对应的属性信息，所述位置特征信息至少包括服务器IP地址和接入的网络运营商；负载信息获取子单元，用于根据每一个服务器的存储特征信息和当前服务器的资源占用信息，确定每一个服务器对应的当前负载状态信息；服务器信息库获取子单元，用于将每一个服务器对应的所述属性信息和所述当前负载状态信息组合，得到服务器信息库。优选地，所述负载信息获取子单元，包括：负载参数获取子单元，用于根据预设的采集时间周期，获取当前采集时间周期内每一个服务器对应的当前负载参数集合，所述负载参数集合包括服务器当前硬盘占用存储量与存储总量的比值、中央处理器CPU占用量、内存占用量和服务器当前任务数量与可服务的任务总数的比值中的一种或多种；负载参数更新子单元，用于将所述当前负载参数集合更新对应的上一采集时间周期的负载参数集合，得到每一个服务器对应的当前负载状态信息。优选地，所述请求特征信息，包括：目标视频的格式参数、运行参数、上传渠道参数和上传位置参数，所述上传位置参数至少包括上传IP地址和接入的网络运营商信息；其中，所述服务器信息匹配单元300，包括：服务器信息匹配子单元，用于在所述服务器信息库中，确定与所述目标视频的格式参数、运行参数、上传渠道参数和上传位置参数相匹配的目标服务器集合。优选地，所述服务器信息匹配单元300，包括：状态确定子单元，用于基于每一个服务器的状态标识，确定所述状态标识为可服务的服务器为第一服务器集合；位置参数匹配子单元，用于根据第一服务器集合中每一个服务器的属性信息，确定第一服务器中属性信息与请求特征信息的格式参数以及上传位置参数相匹配的服务器为第二服务器集合；负载权重计算第一子单元，用于根据所述第二服务器集合中每一个服务器的当前负载状态信息，计算得到第二服务器集合中每一个服务器对应的负载权重值；目标服务器集合获取第一子单元，用于基于预设的目标负载权重范围，从所述第二服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器的负载权重值都在所述目标负载权重范围内。优选地，若无法从所述第二服务器集合中确定目标服务器集合，则还包括：状态确定子单元，用于基于每一个服务器的状态标识，确定所述状态标识为可服务的服务器为第一服务器集合；运营商匹配子单元，用于根据第一服务器集合中每一个服务器的属性信息，确定第一服务器中属性信息与请求特征信息的格式参数以及上传位置参数中的接入的运营商信息相匹配的服务器为第三服务器；负载权重计算第二子单元，用于根据所述第三服务器集合中每一个服务器的当前负载状态信息，计算得到第三服务器集合中每一个服务器对应的负载权重值；目标服务器集合获取第二子单元，用于基于预设的目标负载权重范围，从所述第三服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器对应的负载权重值都在目标负载权重范围内。优选地，若无法从所述第三服务器集合中确定目标服务器集合，则还包括：状态确定子单元，用于基于每一个服务器的状态标识，确定所述状态标识为可服务的服务器为第一服务器集合；负载权重计算第三子单元，用于根据所述第三服务器集合中每一个服务器的当前负载状态信息，计算得到第三服务器集合中每一个服务器对应的负载权重值；目标服务器集合获取第三子单元，用于基于预设的目标负载权重范围，从所述第三服务器集合中确定目标服务器集合，所述目标服务器集合中的每一个服务器对应的负载权重值都在目标负载权重范围内。优选地，还包括：上传渠道匹配单元，用于在所述服务器信息库中，确定与所述目标视频的上传渠道参数相匹配的目标服务器集合；控制目标视频上传单元，用于控制与所述请求特征信息对应的目标视频基于所述目标服务器集合进行上传。优选地，所述控制目标视频上传单元400，包括：推荐权重计算子单元，用于根据所述目标服务器集合的配置信息特征，计算得到所述目标服务器集合中每一个目标服务器对应的推荐权重值；排序子单元，用于将所述目标服务器集合中的服务器按照对应的推荐权重值进行排序，得到目标服务器的目标排序，确定第一目标服务器；目标服务器上传子单元，用于控制与所述请求特征信息对应的目标视频基于所述第一目标服务器进行上传。优选地，所述目标服务器上传子单元，包括：第一服务器状态检测子单元，用于响应于基于所述低于服务器对所述目标视频请求对应的目标视频进行上传，检测所述第一服务器运行状态；第二服务器上传子单元，用于若基于所述第一服务器的运行状态确定所述第一服务器异常，控制所述目标视频切换至第二服务器进行上传。优选地，还包括：上传失败跳转单元，用于响应于所述请求特征信息对应的目标视频基于所述目标服务器集合上传失败，则执行响应于接收到目标视频上传请求，获取与所述目标视频上传请求对应的请求特征信息的步骤。显然，在视频上传服务器调配装置在接收到目标视频上传的请求时，可以获取目标视频对应的请求特征信息，根据所述请求特征信息从服务器信息库中找到相匹配的目标服务器，并且所述服务器信息库包括每一个服务器的属性信息和当前负载状态信息，从这两方面进行筛选，得到的目标服务器不仅能够支持目标视频的上传质量，也能保证目标服务器有足够的空间完成目标视频的上传任务，减少用户在上传过程中网络拥挤以及无法上传成功的情况。最后，还需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。本说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对所公开的实施例的上述说明，使本领域专业技术人员能够实现或使用本申请。对这些实施例的多种修改对本领域的专业技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本申请的精神或范围的情况下，在其它实施例中实现。因此，本申请将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
