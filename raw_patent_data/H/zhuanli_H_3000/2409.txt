标题title
一种外置的环路补偿装置及其方法、系统、介质
摘要abst
本申请公开了一种外置的环路补偿装置及其方法、系统、介质，应用于电源补偿领域。本申请所提供的环路补偿装置包括功率检测单元、补偿单元、MCU，功率检测单元获取到BUCK‑BOOST电源芯片的电源参数后反馈给MCU，MCU根据所述电源参数和BUCK‑BOOST电源芯片的工作状态确定所述补偿单元的工作模式为相位补偿模式或功率补偿模式，补偿单元根据MCU的控制信号对BUCK‑BOOST电源芯片进行补偿，以实现对BUCK‑BOOST电源芯片各工作状态均能得到有效输出补偿。本申请所提供的环路补偿方法、系统、介质的有益效果同上。
权利要求书clms
1.一种外置的环路补偿装置，其特征在于，包括功率检测单元、补偿单元、MCU；所述功率检测单元的第一端与BUCK-BOOST电源芯片的第一端连接，用于获取BUCK-BOOST电源芯片的电源参数；所述功率检测单元的第二端与所述MCU的第一端连接，用于将所述电源参数反馈给所述MCU；所述MCU的第一端与所述功率检测单元的第二端连接，用于获取所述BUCK-BOOST电源芯片的工作状态；所述MCU的第二端与所述补偿单元的第一端连接，用于根据所述电源参数和BUCK-BOOST电源芯片的工作状态确定所述补偿单元的工作模式；所述工作模式包括相位补偿模式和功率补偿模式；所述补偿单元的第二端与所述BUCK-BOOST电源芯片连接，用于根据MCU的控制信号对BUCK-BOOST电源芯片提供补偿。2.根据权利要求1所述的外置的环路补偿装置，其特征在于，所述补偿单元包括相位补偿单元和功率补偿单元；所述相位补偿单元的第一端和所述功率补偿单元的第一端共同作为所述补偿单元的第一端，所述相位补偿单元的第二端和所述功率补偿单元的第二端共同作为所述补偿单元的第二端；所述功率补偿单元用于当采样电压与所述BUCK-BOOST电源芯片的标准端电压的差值小于预设值时对所述BUCK-BOOST电源芯片进行电量补充与滤波，以实现所述补偿单元的功率补偿模式；所述相位补偿单元用于当所述BUCK-BOOST电源芯片工作在升压状态时进行电流补偿，当所述BUCK-BOOST电源芯片工作在降压状态时进行电压补偿，以实现所述补偿单元的相位补偿模式。3.根据权利要求2所述的外置的环路补偿装置，其特征在于，所述相位补偿单元包括第一电力电子开关、第二电力电子开关、一阶电压补偿模块、二阶电压补偿模块、电流补偿模块；所述第一电力电子开关的控制端和所述第二电力电子开关的控制端分别与MCU的输出端连接，所述第一电力电子开关的第一端与一阶电压补偿模块的第一端连接，所述第一电力电子开关的第二端与所述电流补偿模块的第一端连接，所述第二电力电子开关的第一端与所述二阶电压补偿模块的第一端连接，所述第二电力电子开关的第二端与所述第一电力电子开关的第二端连接，所述第一电力电子开关和所述第二电力电子开关分别用于根据MCU输出的信号控制所述电流补偿模块和所述二阶电压补偿模块的启动和关闭；所述电流补偿模块的第二端与所述BUCK-BOOST电源芯片连接，用于对所述BUCK-BOOST电源芯片的电流补偿；所述二阶电压补偿模块的第二端与所述BUCK-BOOST电源芯片连接，用于对所述BUCK-BOOST电源芯片的电压补偿；所述一阶电压补偿模块的第二端分别与所述电流补偿模块的第三端、所述二阶电压补偿模块的第三端连接，所述一阶电压补偿模块的第三端、所述二阶电压补偿模块的第四端、所述电流补偿模块的第四端接地；所述一阶电压补偿模块的第四端与所述二阶电压补偿模块的第五端连接；用于放大所述采样电压与所述标准端电压的差值并输入至所述电流补偿模块和所述二阶电压补偿模块；所述第一电力电子开关的第一端、所述第二电力电子开关的第二端、所述一阶电压补偿模块的第一端共同作为所述相位补偿单元的第一端；所述电流补偿模块的第二端、所述二阶电压补偿模块的第二端共同作为所述相位补偿单元的第二端；所述电源芯片与所述相位补偿单元之间连接有第一电感，所述第一电感用于所述第一电力电子开关和所述第二电力电子开关导通时储能、断开时供电；所述第一电感的第一端与所述BUCK-BOOST电源芯片的第一端、所述电流补偿模块的第五端连接，所述第一电感的第二端与第一电力电子开关的第一端、所述第二电力电子开关的第二端、所述一阶电压补偿模块的第一端的第一端连接。4.根据权利要求3所述的外置的环路补偿装置，其特征在于，所述电流补偿模块包括第一电容、第二电容、第一电阻、第二电阻、第一运算放大器；所述第一运算放大器的正电源端作为所述电流补偿模块的第一端；所述第一运算放大器的输出端作为所述电流补偿模块的第二端；所述第一运算放大器的同相输入端、所述第一电容的第一端、所述第二电容的第一端共同作为所述电流补偿模块的第三端；所述第一运算放大器的负电源端作为所述电流补偿模块的第四端；所述第一电阻的第一端作为所述电流补偿模块的第五端，用于采样；所述第一电阻的第二端与所述第一运算放大器的反响输入端连接；所述第一电容的第二端与所述第一运算放大器的输出端连接；所述第二电容的第二端通过所述第二电阻与所述第一运算放大器的输出端连接；所述第一电容用于滤波；所述第二电容和所述第二电阻构成一个TYPE II型补偿器，用于电流补偿。5.根据权利要求3所述的外置的环路补偿装置，其特征在于，所述一阶电压补偿模块包括第三电容、第三电阻、第四电阻、第五电阻、参考电源、公共运算放大器；所述公共运算放大器的正电源端、所述第三电阻的第一端共同作为所述一阶电压补偿模块的第一端；所述公共运算放大器的输出端、所述第五电阻的第一端共同作为所述一阶电压补偿模块的第二端；所述公共运算放大器的反相输入端与所述参考电源的第一端连接；所述参考电源的第二端、所述第四电阻的第一端共同作为所述一阶电压补偿模块的第三端；所述公共运算放大器的同相输入端、所述第三电容的第一端、所述第三电阻的第二端、所述第四电阻的第二端共同作为所述一阶电压补偿模块的第四端；所述第五电阻的第二端与所述第三电容的第二端连接，所述第三电容和所述第五电阻构成一个RC补偿电路，用于一阶电压补偿。6.根据权利要求3所述的外置的环路补偿装置，其特征在于，所述二阶电压补偿模块包括第六电阻、第四电容、第二运算放大器；所述第二运算放大器的正电源端作为所述二阶电压补偿模块的第一端；所述第二运算放大器的输出端、所述第六电阻的第一端共同作为所述二阶电压补偿模块的第二端；所述第二运算放大器的反相输入端作为所述二阶电压补偿模块的第三端；所述第二运算放大器的负电源端作为所述二阶电压补偿模块的第四端；所述第二运算放大器的同相输入端、所述第四电容的第一端共同作为所述二阶电压补偿模块的第五端；所述第六电阻的第二端与所述第四电容的第二端连接，所述第四电容和所述第六电阻构成一个RC补偿电路，用于在一阶电压补偿模块的一阶电压补偿基础上进行二阶电压补偿。7.根据权利要求2所述的外置的环路补偿装置，其特征在于，所述功率补偿单元包括稳压芯片、耐压电容、滤波电容；所述稳压芯片的第一端、所述稳压芯片的第二端、所述耐压电容的第一端、所述滤波电容的第一端的公共端作为所述功率补偿单元的第一端；所述稳压芯片的第三端、所述稳压芯片的第四端、所述耐压电容的第二端、所述滤波电容的第二端的公共端作为所述功率补偿单元的第二端；所述耐压电容用于后端输出储能以及低频滤波，所述滤波电容用于高频滤波。8.根据权利要求7所述的环路补偿装置，其特征在于，所述耐压电容的数量为多个，多个所述耐压电容之间并联；所述滤波电容的数量为多个，多个所述滤波电容之间并联。9.根据权利要求1至7任一项所述的外置的环路补偿装置，其特征在于，还包括BMC，所述MCU的第三端与所述BMC连接，用于上报异常信息。10.一种环路补偿方法，其特征在于，应用于包括功率检测单元、补偿单元、MCU的环路补偿装置，该方法包括：通过所述功率检测单元获取BUCK-BOOST电源芯片的电源参数；根据所述电源参数获取所述BUCK-BOOST电源芯片的工作状态；依据所述电源参数和所述工作状态确定补偿单元的补偿模式；所述补偿模式包括相位补偿模式和功率补偿模式；控制所述补偿单元采用所述补偿模式对所述BUCK-BOOST电源芯片进行补偿。11.根据权利要求10所述的环路补偿方法，其特征在于，所述电源参数包括采样电压、采样电流、第一电压纹波信号。12.根据权利要求11所述的环路补偿方法，其特征在于，所述BUCK-BOOST电源芯片的工作状态包括升压状态和降压状态。13.根据权利要求12所述的环路补偿方法，其特征在于，所述根据所述电源参数获取所述BUCK-BOOST电源芯片的工作状态包括：当所述采样电压高于所述BUCK-BOOST电源芯片的标准端电压时，确定所述BUCK-BOOST电源芯片的工作状态为升压状态；当所述采样电压低于所述BUCK-BOOST电源芯片的标准端电压时，确定所述BUCK-BOOST电源芯片的工作状态为降压状态。14.根据权利要求11所述的环路补偿方法，其特征在于，所述依据所述电源参数和所述工作状态确定补偿单元的补偿模式包括：判断所述采样电压是否满足第一预设条件；若是，则确定所述补偿单元的补偿模式为功率补偿模式，对所述BUCK-BOOST电源芯片进行功率补偿；若否，则确定所述补偿单元的补偿模式为相位补偿模式，根据所述工作状态对所述BUCK-BOOST电源芯片进行相位补偿。15.根据权利要求14所述的环路补偿方法，其特征在于，所述判断所述采样电压是否满足第一预设条件包括：获取所述采样电压与标准端电压的差值；获取所述差值的绝对值；判断所述绝对值是否小于预设值；若小于，则确定所述采样电压满足所述第一预设条件；若不小于，则确定所述采样电压不满足所述第一预设条件。16.根据权利要求14所述的环路补偿方法，其特征在于，当所述补偿单元的补偿模式为相位补偿模式时，所述根据所述工作状态对所述BUCK-BOOST电源芯片进行相位补偿包括：当所述BUCK-BOOST电源芯片的工作状态为升压状态时，对所述BUCK-BOOST电源芯片进行电流补偿；当所述BUCK-BOOST电源芯片的工作状态为降压状态时，对所述BUCK-BOOST电源芯片进行电压补偿。17.根据权利要求13所述的环路补偿方法，其特征在于，所述采用所述补偿模式对所述BUCK-BOOST电源芯片进行补偿之后还包括：获取所述BUCK-BOOST电源芯片的第二电压纹波信号；判断所述第二电压纹波信号是否满足第二预设条件；若所述第二电压纹波信号满足所述第二预设条件，则确定完成电源补偿；若所述第二电压纹波信号不满足所述第二预设条件，则确定未完成电源补偿。18.根据权利要求17所述的环路补偿方法，其特征在于，当所述第二电压纹波信号不满足所述第二预设条件时，所述确定未完成电源补偿之后还包括：上报异常信息。19.一种环路补偿系统，其特征在于，应用于包括功率检测单元、补偿单元、MCU的环路补偿装置，该系统包括：第一获取模块，用于通过功率检测单元获取所述BUCK-BOOST电源芯片的电源参数；第二获取模块，用于根据所述电源参数获取所述BUCK-BOOST电源芯片的工作状态；确定模块，用于依据所述电源参数和所述工作状态确定补偿单元的补偿模式；所述补偿模式包括相位补偿模式和功率补偿模式；控制模块，用于控制所述补偿单元采用所述补偿模式对所述BUCK-BOOST电源芯片进行补偿。20.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求10至18任一项所述的环路补偿方法的步骤。
说明书desc
技术领域本申请涉及电源补偿领域，特别是涉及一种外置的环路补偿装置及其方法、系统、介质。背景技术在大数据时代，对存储系统的可靠性以及工作效率提出了更高的要求，为了满足存储系统高效安全的工作需求，存储主板的供电设计尤为重要。当前存储主板的供电设计中，前端会采用降压电路-升压电路供电设计，以满足电池备电时在供电电压不足情况下后端输出的稳定，同样BBU转接板也会采用BUCK-BOOST设计已实现电池电芯的高效充电。但在应用BUCK-BOOST电源芯片设计过程中，不同于传统的单一BUCK/单一BOOST的环路补偿设计，BUCK-BOOST芯片在应用过程中芯片的单一环路补偿很难满足存储电源稳定性要求，芯片自身补偿后的输出纹波仍然过大，导致后端负载的供电不稳定，从而在电源端制约了存储设备的高可靠性发展。因此，如何解决单一BUCK/单一BOOST的环路补偿装置难以满足电源稳定性要求、在电源端制约了存储设备的高可靠性发展的问题是本领域技术人员亟待解决的问题。发明内容本申请的目的是提供一种外置的环路补偿装置及其方法、系统、介质，用于解决传统的单一BUCK/单一BOOST的环路补偿装置难以满足电源稳定需求、在电源端制约了存储设备的高可靠性发展的问题。为解决上述技术问题，本申请提供一种外置的环路补偿装置，包括功率检测单元、补偿单元、MCU；功率检测单元的第一端与BUCK-BOOST电源芯片的第一端连接，用于获取BUCK-BOOST电源芯片的电源参数；功率检测单元的第二端与MCU的第一端连接，用于将电源参数反馈给MCU；MCU的第一端与功率检测单元的第二端连接，用于获取BUCK-BOOST电源芯片的工作状态；MCU的第二端与补偿单元的第一端连接，用于根据电源参数和BUCK-BOOST电源芯片的工作状态确定补偿单元的工作模式；工作模式包括相位补偿模式和功率补偿模式；补偿单元的第二端与BUCK-BOOST电源芯片连接，用于根据MCU的控制信号对BUCK-BOOST电源芯片提供补偿。优选地，补偿单元包括相位补偿单元和功率补偿单元；相位补偿单元的第一端和功率补偿单元的第一端共同作为补偿单元的第一端，相位补偿单元的第二端和功率补偿单元的第二端共同作为补偿单元的第二端；功率补偿单元用于当采样电压与BUCK-BOOST电源芯片的标准端电压的差值小于预设值时对BUCK-BOOST电源芯片进行电量补充与滤波，以实现补偿单元的功率补偿模式；相位补偿单元用于当BUCK-BOOST电源芯片工作在升压状态时进行电流补偿，当BUCK-BOOST电源芯片工作在降压状态时进行电压补偿，以实现补偿单元的相位补偿模式。优选地，相位补偿单元包括第一电力电子开关、第二电力电子开关、一阶电压补偿模块、二阶电压补偿模块、电流补偿模块；第一电力电子开关的控制端和第二电力电子开关的控制端分别与MCU的输出端连接，第一电力电子开关的第一端与一阶电压补偿模块的第一端连接，第一电力电子开关的第二端与电流补偿模块的第一端连接，第二电力电子开关的第一端与二阶电压补偿模块的第一端连接，第二电力电子开关的第二端与第一电力电子开关的第二端连接，第一电力电子开关和第二电力电子开关分别用于根据MCU输出的信号控制电流补偿模块和二阶电压补偿模块的启动和关闭；电流补偿模块的第二端与BUCK-BOOST电源芯片连接，用于对BUCK-BOOST电源芯片的电流补偿；二阶电压补偿模块的第二端与BUCK-BOOST电源芯片连接，用于对BUCK-BOOST电源芯片的电压补偿；一阶电压补偿模块的第二端分别与电流补偿模块的第三端、二阶电压补偿模块的第三端连接，一阶电压补偿模块的第三端、二阶电压补偿模块的第四端、电流补偿模块的第四端接地；一阶电压补偿模块的第四端与二阶电压补偿模块的第五端连接；用于放大采样电压与标准端电压的差值并输入至电流补偿模块和二阶电压补偿模块；第一电力电子开关的第一端、第二电力电子开关的第二端、一阶电压补偿模块的第一端共同作为相位补偿单元的第一端；电流补偿模块的第二端、二阶电压补偿模块的第二端共同作为相位补偿单元的第二端；电源芯片与相位补偿单元之间连接有第一电感，第一电感用于第一电力电子开关和第二电力电子开关导通时储能、断开时供电；第一电感的第一端与BUCK-BOOST电源芯片的第一端、电流补偿模块的第五端连接，第一电感的第二端与第一电力电子开关的第一端、第二电力电子开关的第二端、一阶电压补偿模块的第一端的第一端连接。优选地，电流补偿模块包括第一电容、第二电容、第一电阻、第二电阻、第一运算放大器；第一运算放大器的正电源端作为电流补偿模块的第一端；第一运算放大器的输出端作为电流补偿模块的第二端；第一运算放大器的同相输入端、第一电容的第一端、第二电容的第一端共同作为电流补偿模块的第三端；第一运算放大器的负电源端作为电流补偿模块的第四端；第一电阻的第一端作为电流补偿模块的第五端，用于采样；第一电阻的第二端与第一运算放大器的反响输入端连接；第一电容的第二端与第一运算放大器的输出端连接；第二电容的第二端通过第二电阻与第一运算放大器的输出端连接；第一电容用于滤波；第二电容和第二电阻构成一个TYPE II型补偿器，用于电流补偿。优选地，一阶电压补偿模块包括第三电容、第三电阻、第四电阻、第五电阻、参考电源、公共运算放大器；公共运算放大器的正电源端、第三电阻的第一端共同作为一阶电压补偿模块的第一端；公共运算放大器的输出端、第五电阻的第一端共同作为一阶电压补偿模块的第二端；公共运算放大器的反相输入端与参考电源的第一端连接；参考电源的第二端、第四电阻的第一端共同作为一阶电压补偿模块的第三端；公共运算放大器的同相输入端、第三电容的第一端、第三电阻的第二端、第四电阻的第二端共同作为一阶电压补偿模块的第四端；第五电阻的第二端与第三电容的第二端连接，第三电容和第五电阻构成一个RC补偿电路，用于一阶电压补偿。优选地，二阶电压补偿模块包括第六电阻、第四电容、第二运算放大器；第二运算放大器的正电源端作为二阶电压补偿模块的第一端；第二运算放大器的输出端、第六电阻的第一端共同作为二阶电压补偿模块的第二端；第二运算放大器的反相输入端作为二阶电压补偿模块的第三端；第二运算放大器的负电源端作为二阶电压补偿模块的第四端；第二运算放大器的同相输入端、第四电容的第一端共同作为二阶电压补偿模块的第五端；第六电阻的第二端与第四电容的第二端连接，第四电容和第六电阻构成一个RC补偿电路，用于在一阶电压补偿模块的一阶电压补偿基础上进行二阶电压补偿。优选地，功率补偿单元包括稳压芯片、耐压电容、滤波电容；稳压芯片的第一端、稳压芯片的第二端、耐压电容的第一端、滤波电容的第一端的公共端作为功率补偿单元的第一端；稳压芯片的第三端、稳压芯片的第四端、耐压电容的第二端、滤波电容的第二端的公共端作为功率补偿单元的第二端；耐压电容用于后端输出储能以及低频滤波，滤波电容用于高频滤波。优选地，耐压电容的数量为多个，多个耐压电容之间并联；滤波电容的数量为多个，多个滤波电容之间并联。优选地，还包括BMC，MCU的第三端与BMC连接，用于上报异常信息。为解决上述技术问题，本申请还提供一种环路补偿方法，应用于包括功率检测单元、补偿单元、MCU的环路补偿装置，该方法包括：通过功率检测单元获取BUCK-BOOST电源芯片的电源参数；根据电源参数获取BUCK-BOOST电源芯片的工作状态；依据电源参数和工作状态确定补偿单元的补偿模式；补偿模式包括相位补偿模式和功率补偿模式；控制补偿单元采用补偿模式对BUCK-BOOST电源芯片进行补偿。优选地，电源参数包括采样电压、采样电流、第一电压纹波信号。优选地，BUCK-BOOST电源芯片的工作状态包括升压状态和降压状态。优选地，根据电源参数获取BUCK-BOOST电源芯片的工作状态包括：当采样电压高于BUCK-BOOST电源芯片的标准端电压时，确定BUCK-BOOST电源芯片的工作状态为升压状态；当采样电压低于BUCK-BOOST电源芯片的标准端电压时，确定BUCK-BOOST电源芯片的工作状态为降压状态。优选地，依据电源参数和工作状态确定补偿单元的补偿模式包括：判断采样电压是否满足第一预设条件；若是，则确定补偿单元的补偿模式为功率补偿模式，对BUCK-BOOST电源芯片进行功率补偿；若否，则确定补偿单元的补偿模式为相位补偿模式，根据工作状态对BUCK-BOOST电源芯片进行相位补偿。优选地，判断采样电压是否满足第一预设条件包括：获取采样电压与标准端电压的差值；获取差值的绝对值；判断绝对值是否小于预设值；若小于，则确定采样电压满足第一预设条件；若不小于，则确定采样电压不满足第一预设条件。优选地，当补偿单元的补偿模式为相位补偿模式时，根据工作状态对BUCK-BOOST电源芯片进行相位补偿包括：当BUCK-BOOST电源芯片的工作状态为升压状态时，对BUCK-BOOST电源芯片进行电流补偿；当BUCK-BOOST电源芯片的工作状态为降压状态时，对BUCK-BOOST电源芯片进行电压补偿。优选地，采用补偿模式对BUCK-BOOST电源芯片进行补偿之后还包括：获取BUCK-BOOST电源芯片的第二电压纹波信号；判断第二电压纹波信号是否满足第二预设条件；若第二电压纹波信号满足第二预设条件，则确定完成电源补偿；若第二电压纹波信号不满足第二预设条件，则确定未完成电源补偿。优选地，当第二电压纹波信号不满足第二预设条件时，确定未完成电源补偿之后还包括：上报异常信息。为解决上述技术问题，本申请还提供一种环路补偿系统，应用于包括功率检测单元、补偿单元、MCU的环路补偿装置，该系统包括：第一获取模块，用于通过功率检测单元获取BUCK-BOOST电源芯片的电源参数；第二获取模块，用于根据电源参数获取BUCK-BOOST电源芯片的工作状态；确定模块，用于依据电源参数和工作状态确定补偿单元的补偿模式；补偿模式包括相位补偿模式和功率补偿模式；控制模块，用于控制补偿单元采用补偿模式对BUCK-BOOST电源芯片进行补偿。为解决上述技术问题，本申请还提供一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，计算机程序被处理器执行时实现如环路补偿方法的步骤。本申请所提供的环路补偿装置包括功率检测单元、补偿单元、MCU，其中，补偿单元包括相位补偿模式和功率补偿模式，功率检测单元获取到BUCK-BOOST电源芯片的电源参数后反馈给MCU，MCU根据电源参数和BUCK-BOOST电源芯片的工作状态确定所述补偿单元的工作模式为相位补偿模式或功率补偿模式，相对于单一环路补偿无法满足存储电源稳定性要求的情况，本申请中的补偿单元根据MCU的控制信号采用对应的工作模式对BUCK-BOOST电源芯片不同的工作状态进行补偿，以实现对BUCK-BOOST电源芯片各工作状态均能得到有效输出补偿。本申请所提供的环路补偿方法、系统、介质的有益效果同上。附图说明为了更清楚地说明本申请实施例，下面将对实施例中所需要使用的附图做简单的介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例所提供的一种外置的环路补偿装置拓扑图；图2为本申请实施例所提供的一种相位补偿单元电路图；图3为本申请实施例所提供的一种功率补偿单元的电路图；图4为本申请实施例所提供的一种环路补偿方法的流程图；图5为环路补偿应用的流程图；图6为本申请实施例所提供的一种环路补偿系统的示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下，所获得的所有其他实施例，都属于本申请保护范围。本申请的核心是提供一种外置的环路补偿装置及其方法、系统、介质，应用于电源补偿领域，用于解决传统的单一BUCK/单一BOOST的环路补偿装置难以满足电源稳定需求、在电源端制约了存储设备的高可靠性发展的问题。为了使本技术领域的人员更好地理解本申请方案，下面结合附图和具体实施方式对本申请作进一步的详细说明。本申请实施例所提供的一种外置的环路补偿装置，如图1所示，图1为本申请实施例所提供的一种外置的环路补偿装置拓扑图，包括功率检测单元10、补偿单元、MCU11；功率检测单元10的第一端与BUCK-BOOST电源芯片12的第一端连接，用于获取BUCK-BOOST电源芯片12的电源参数；功率检测单元10的第二端与MCU11的第一端连接，用于将电源参数反馈给MCU11。具体的，本申请实施例在BUCK-BOOST电源芯片12输出端提供了功率检测单元10，通过将BUCK-BOOST电源芯片12的第一端与功率检测单元10的第一端链接，获取BUCK-BOOST电源芯片12的电源参数，并将电源参数反馈给MCU11。电源参数通常包括电压纹波、电压值、电流值三类，过BUCK-BOOST电源芯片12的第一端内的采样电阻将采得的电压信号提供给功率检测单元10，功率检测单元10根据采样信号得到电流值，通过链路将采样得到的电压值、电流值反馈给MCU11，作为一种优选，功率检测单元10可以采用SQ52201采样芯片进行电压、电流采样。额外采用双路差分比例运算放大器、运放减法电路相配合的功率检测单元10，对电压纹波进行采样，采样思路是将后端输出的采样信号分两路进行放大，并提供延迟，将放大完成的两路信号进行做差得到最终结果。例如：将上述采样电阻所得电压信号送入双路差分比例放大芯片LM358DM2G中，A路、B路分别采样放大相同位置的电压，但由于B路上RC电路的延迟作用，使B路在采样时相较于A路出现了一定的时延，两路采样的电压信号经过相同的放大倍数后输出给减法电路，以100倍为例，减法电路将两路输出的信号做差，做差完成后的得到了放大100倍的电压纹波信号，同样通过I2C链路将放大后的电压纹波信息反馈给MCU11，MCU11自行对电压信息进行缩小校对，检测采样环节完成。需要说明的是，本申请实施例对于采样芯片、放大芯片不做限定，采样芯片SQ52201、放大芯片LM358DM2G仅作为一种优选。MCU11的第一端与功率检测单元10的第二端连接，用于获取BUCK-BOOST电源芯片12的工作状态；MCU11的第二端与补偿单元的第一端连接，用于根据电源参数和BUCK-BOOST电源芯片12的工作状态确定补偿单元的工作模式；工作模式包括相位补偿模式和功率补偿模式。具体的，MCU11通过功率检测单元10获取到电源参数后，通过电源参数能够确定BUCK-BOOST电源芯片12的工作状态，根据电源参数BUCK-BOOST电源芯片12的工作状态确定补偿单元的工作模式为相位补偿模式或功率补偿模式。例如，当MCU11接收到的电压值与BUCK-BOOST电源芯片12的标准端电压的差小于预设值时，可以认为此时BUCK-BOOST电源芯片12为恒压状态，确定补偿单元的工作模式为功率补偿模式；当MCU11接收到的电压值与BUCK-BOOST电源芯片12的标准端电压的差不小于预设值时，可以认为此时BUCK-BOOST电源芯片12为非恒压状态，确定补偿单元的工作模式为相位补偿模式。进一步的，通过MCU11接收到的电压值与BUCK-BOOST电源芯片12的标准端电压的差确定BUCK-BOOST电源芯片12的工作状态，当MCU11接收到的电压值与BUCK-BOOST电源芯片12的标准端电压的差大于零时确定BUCK-BOOST电源芯片12为升压状态；当MCU11接收到的电压值与BUCK-BOOST电源芯片12的标准端电压的差小于零时确定BUCK-BOOST电源芯片12为降压状态；根据BUCK-BOOST电源芯片12的升压状态和降压状态调整相位补偿模式。补偿单元的第二端与BUCK-BOOST电源芯片12连接，用于根据MCU11的控制信号对BUCK-BOOST电源芯片12提供补偿。具体的，补偿单元根据MCU11的控制信号确定补偿模式，对BUCK-BOOST电源芯片12提供不同模式的补偿，满足BUCK-BOOST电源芯片12不同的工作状态。本申请所提供的环路补偿装置包括功率检测单元10、补偿单元、MCU11，功率检测单元10获取到BUCK-BOOST电源芯片12的电源参数后反馈给MCU11，MCU11根据所述电源参数和BUCK-BOOST电源芯片12的工作状态确定所述补偿单元的工作模式为相位补偿模式或功率补偿模式，补偿单元根据MCU11的控制信号对BUCK-BOOST电源芯片12进行补偿，以实现对BUCK-BOOST电源芯片12各工作状态均能得到有效输出补偿。基于上述实施例，本申请实施例作为一种优选的实施例，补偿单元包括相位补偿单元13和功率补偿单元14；相位补偿单元13的第一端和功率补偿单元14的第一端共同作为补偿单元的第一端，相位补偿单元13的第二端和功率补偿单元14的第二端共同作为补偿单元的第二端；功率补偿单元14用于当采样电压与BUCK-BOOST电源芯片12的标准端电压的差值小于预设值时对BUCK-BOOST电源芯片12进行电量补充与滤波，以实现补偿单元的功率补偿模式；相位补偿单元13用于当BUCK-BOOST电源芯片12工作在升压状态时进行电流补偿，当BUCK-BOOST电源芯片12工作在降压状态时进行电压补偿，以实现补偿单元的相位补偿模式。补偿单元包括相位补偿单元13和功率补偿单元14，分别对应于补偿单元的相位补偿模式和功率补偿模式。需要说明的是，本申请实施例对于功率补偿单元14和相位补偿单元13的实现方法不做限定，作为一种优选的方案，功率补偿单元14可以通过耐压电工、滤波电容、稳压芯片并联来实现；而相位补偿单元13可以通过运算放大器配合电压、电阻来实现，具体的电路将在下面的实施例中详细说明，此处不做赘述。本申请所提供的环路补偿装置对补偿单元进行限定，包括功率补偿单元14和相位补偿单元13，分别对应补偿单元的功率补偿模式和相位补偿模式， MCU11根据所述电源参数和BUCK-BOOST电源芯片12的工作状态确定所述补偿单元的工作模式为相位补偿模式或功率补偿模式，补偿单元根据MCU11的控制信号对BUCK-BOOST电源芯片12进行补偿，以实现对BUCK-BOOST电源芯片12各工作状态均能得到有效输出补偿。基于上述实施例，本申请实施例作为一种优选的实施例，如图2所示，图2为本申请实施例所提供的一种相位补偿单元13电路图，相位补偿单元13包括第一电力电子开关Q1、第二电力电子开关Q2、一阶电压补偿模块、二阶电压补偿模块、电流补偿模块；第一电力电子开关Q1的控制端和第二电力电子开关Q2的控制端分别与MCU11的输出端连接，第一电力电子开关Q1的第一端与一阶电压补偿模块的第一端连接，第一电力电子开关的第二端与电流补偿模块的第一端连接，第二电力电子开关Q2的第一端与二阶电压补偿模块的第一端连接，第二电力电子开关Q2的第二端与第一电力电子开关Q1的第二端连接，第一电力电子开关Q1和第二电力电子开关Q2分别用于根据MCU11输出的信号控制电流补偿模块和二阶电压补偿模块的启动和关闭；电流补偿模块的第二端与BUCK-BOOST电源芯片12连接，用于对BUCK-BOOST电源芯片12的电流补偿；二阶电压补偿模块的第二端与BUCK-BOOST电源芯片12连接，用于对BUCK-BOOST电源芯片12的电压补偿；一阶电压补偿模块的第二端分别与电流补偿模块的第三端、二阶电压补偿模块的第三端连接，一阶电压补偿模块的第三端、二阶电压补偿模块的第四端、电流补偿模块的第四端接地；一阶电压补偿模块的第四端与二阶电压补偿模块的第五端连接；用于放大采样电压与标准端电压的差值并输入至电流补偿模块和二阶电压补偿模块；第一电力电子开关Q1的第一端、第二电力电子开关Q2的第二端、一阶电压补偿模块的第一端共同作为相位补偿单元13的第一端；电流补偿模块的第二端、二阶电压补偿模块的第二端共同作为相位补偿单元13的第二端；电源芯片12与相位补偿单元13之间连接有第一电感，第一电感用于第一电力电子开关Q1和第二电力电子开关Q2导通时储能、断开时供电；第一电感的第一端与BUCK-BOOST电源芯片12的第一端、电流补偿模块的第五端连接，第一电感的第二端与第一电力电子开关Q1的第一端、第二电力电子开关Q2的第二端、一阶电压补偿模块的第一端的第一端连接。具体的，相位补偿单元13包括有两个电力电子开关、电流补偿模块、一阶电压补偿模块、二阶电压补偿模块，其工作模式包括电流补偿模式和电压补偿模式两种工作模式，分别通过电流补偿模块和二阶电压补偿模块实现。电流补偿模块和二阶电压补偿模块的工作电压由BUCK-BOOST电源芯片12提供。两个电力电子开关根据MCU11的控制信号控制电流模块和二阶电压补偿模块的启动和关闭，当电流补偿模块启动时实现对BUCK-BOOST电源芯片12进行电流测补偿，当二阶电压补偿模块启动时实现对BUCK-BOOST电源芯片12进行电压补偿。从而实现根据BUCK-BOOST电源芯片12的工作状态调节相位补偿单元13，相位补偿单元13通过模式切换保证升压、降压两种电源工作状态的电压输出都能得到最适应的补偿，且在补偿过程中能够根据输出情况进行自适应补偿调节。需要说明的是，本申请实施例对于电力电子开关的具体器件不做限定，可以是三极管、肖特基二极管等。本申请所提供的环路补偿装置对相位补偿单元13进行限定，包括有两个电力电子开关、电流补偿模块、一阶电压补偿模块、二阶电压补偿模块，根据BUCK-BOOST电源芯片12的工作状态调节相位补偿单元13，相位补偿单元13通过模式切换保证升压、降压两种电源工作状态的电压输出都能得到最适应的补偿。在上述实施例的基础上，本申请实施例作为一种优选实施例，进一步限定电流补偿模块包括第一电容C1、第二电容C2、第一电阻R1、第二电阻R2、第一运算放大器U1；第一运算放大器U1的正电源端作为电流补偿模块的第一端；第一运算放大器U1的输出端作为电流补偿模块的第二端；第一运算放大器U1的同相输入端、第一电容C1的第一端、第二电容C2的第一端共同作为电流补偿模块的第三端；第一运算放大器U1的负电源端作为电流补偿模块的第四端；第一电阻R1的第一端作为电流补偿模块的第五端，用于采样；第一电阻R1的第二端与第一运算放大器U1的反相输入端连接；第一电容C1的第二端与第一运算放大器U1的输出端连接；第二电容C2的第二端通过第二电阻R2与第一运算放大器U1的输出端连接；第一电容C1用于滤波；第二电容C2和第二电阻R2构成一个TYPE II型补偿器，用于电流补偿。具体的，电流补偿模块工作于BUCK-BOOST电源芯片12升压状态，随着输出电压逐渐高于输入，在输出过程中电流纹波变大，电流补偿模块通过对电流的采样与补偿，使BUCK-BOOST电源芯片12的输出端能更迅速的接收变化信息，使BUCK-BOOST电源芯片12输出的鲁棒性更强。第一运算放大器U1的同相输入端与一阶电压补偿模块的第二端连接，作为比较基准电压，第一运算放大器U1的反相输入端与通过第一电阻R1与BUCK-BOOST电源芯片12的输出电感第一电感L1连接来进行电流采样所得的电流信息与基准电压的差值在第一运算放大器U1中进行放大，放大后作为调整后的BUCK-BOOST电源芯片12反馈电压用以控制BUCK-BOOST电源芯片12每部MOS管，第一运算放大器U1的同相输入端与输出端之间通过第二电阻R2、第二电容C2组成的RC电路构成一个TYPE II型补偿器，专门用于此处的电流补偿，使采样电流跟随于电感电流的变化。本申请所提供的环路补偿装置对电流补偿模块进行限定，包括第一电容C1、第二电容C2、第一电阻R1、第二电阻R2、第一运算放大器，工作于BUCK-BOOST电源芯片12升压状态，通过对电流的采样与补偿，使BUCK-BOOST电源芯片12的输出端能更迅速的接收变化信息，使BUCK-BOOST电源芯片12输出的鲁棒性更强。在上述实施例的基础上，本申请实施例作为一种优选实施例，一阶电压补偿模块包括第三电容C3、第三电阻R3、第四电阻R4、第五电阻R5、参考电源I1、公共运算放大器U2；公共运算放大器U2的正电源端、第三电阻R3的第一端共同作为一阶电压补偿模块的第一端；公共运算放大器U2的输出端、第五电阻R5的第一端共同作为一阶电压补偿模块的第二端；公共运算放大器U2的反相输入端与参考电源I1的第一端连接；参考电源I1的第二端、第四电阻R4的第一端共同作为一阶电压补偿模块的第三端；公共运算放大器U2的同相输入端、第三电容C3的第一端、第三电阻R3的第二端、第四电阻R4的第二端共同作为一阶电压补偿模块的第四端；第五电阻R5的第二端与第三电容C3的第二端连接，第三电容C3和第五电阻R5构成一个RC补偿电路，用于一阶电压补偿。具体的，BUCK-BOOST电源芯片12输出端电压经过反馈电阻第三电阻R3、反馈电阻第四电阻R4分压后，优先输入公共运算放大器U2，公共运算放大器U2的同相输入端为输出电压反馈值，公共运算放大器U2的反相输入端与参考电源I1连接以得到恒压源提供的参考电压，公共运算放大器U2的同相输入端与输出端之间接入由第五电阻R5、第三电容C3构成的RC补偿电路，使反馈电压的值在输入端可以进一步跟随电源输出变化，反馈电压与参考电压的差值进行放大后作为公共运算放大器U2的输出接入电流补偿模块和二阶电压补偿模块。本申请所提供的环路补偿装置对电流补偿模块进行限定，包括第三电容C3、第三电阻R3、第四电阻R4、第五电阻R5、参考电源I1、公共运算放大器，公共运算放大器的同相输入端与输出端之间接入由第五电阻R5、第三电容C3构成的RC补偿电路反馈电压的值在输入端可以进一步跟随电源输出变化以实现一阶电压补偿。在上述实施例的基础上，本申请实施例作为一种优选实施例，二阶电压补偿模块包括第六电阻R6、第四电容C4、第二运算放大器U3；第二运算放大器U3的正电源端作为二阶电压补偿模块的第一端；第二运算放大器U3的输出端、第六电阻R6的第一端共同作为二阶电压补偿模块的第二端；第二运算放大器U3的反相输入端作为二阶电压补偿模块的第三端；第二运算放大器U3的负电源端作为二阶电压补偿模块的第四端；第二运算放大器U3的同相输入端、第四电容C4的第一端共同作为二阶电压补偿模块的第五端；第六电阻R6的第二端与第四电容C4的第二端连接，第四电容C4和第六电阻R6构成一个RC补偿电路，用于在一阶电压补偿模块的一阶电压补偿基础上进行二阶电压补偿。第二运算放大器U3的同相输入端与第二运算放大器U3的输出端之间连接有第六电阻R6和第四电容C4构成的RC补偿电路，在一阶电压补偿的基础上进行了二阶补偿。二阶电压补偿模块工作于BUCK-BOOST电源芯片12的降压状态，降压状态的电流纹波相较于升压状态的电流纹波更稳定，采用输出电压反馈并进行二阶补偿后反馈给电源芯片12端，提高了降压状态下BUCK-BOOST电源芯片12输出的稳定性。在上述实施例的基础上，本申请实施例作为一种优选实施例，功率补偿单元14包括稳压芯片、耐压电容、滤波电容；稳压芯片的第一端、稳压芯片的第二端、耐压电容的第一端、滤波电容的第一端的公共端作为功率补偿单元14的第一端；稳压芯片的第三端、稳压芯片的第四端、耐压电容的第二端、滤波电容的第二端的公共端作为功率补偿单元14的第二端；耐压电容用于后端输出储能以及低频滤波，滤波电容用于高频滤波。需要说明的，本申请实施例对于耐压电容、滤波电容的数量不做限定，数量越多，滤波和储能的效果越好，同时成本也更高。本实施例所提供的环路补偿装置对功率补偿单元14限定，当MCU11接收到的电压值与BUCK-BOOST电源芯片12的标准端电压的差小于预设值时，此时由于BUCK-BOOST电源芯片12的模式切换处于频繁状态从而出现电压输出不稳定的情况，由于模式切换频繁带来的不稳定无法通过相位进行补偿，功率补偿单元14帮助BUCK-BOOST电源芯片12电压输出稳压。在上述实施例的基础上，本申请实施例作为一种优选实施例，耐压电容的数量为多个，多个耐压电容之间并联；滤波电容的数量为多个，多个滤波电容之间并联。本申请实施例限定耐压电容与滤波电容的数量为多个，数量越多，滤波和储能的效果越好，但同时功率补偿单元14的成本也越高，作为一种优选的实施例，如图3所示，图3为本申请实施例所提供的一种功率补偿单元14的电路图，功率补偿单元14包含了四颗耐压25V的470UF铝电解电容C10、C11、C12、C13，用于后端输出储能以及低频滤波，包含两颗25V的0.1UF电容C20、C21，用以率掉高频谐波，以及稳压芯片U10，作为一种优选可以选择ADR01作为稳压芯片U10，芯片的使能由MCU11提供，当电源输出纹波大于5%时，MCU11给稳压芯片提供使能信号，此时稳压芯片开始工作，向输出端提供稳定的电压输出。本实施例所提供的环路补偿装置对功率补偿单元14进行限定，限定耐压电容的数量为多个，多个耐压电容之间并联；滤波电容的数量为多个，多个滤波电容之间并联，使功率补偿单元14滤波和储能的效果更好。在上述实施例的基础上，本申请实施例作为一种优选实施例，还包括BMC15，MCU11的第三端与BMC15连接，用于上报异常信息。本申请实施例所提供的环路补偿装置还包括BMC15，当检测到BUCK-BOOST电源芯片12经过补偿后仍然不满足纹波要求时，MCU11向存储系统的BMC15单元上报异常信息，方便后续测试过程中BUCK-BOOST电源芯片12参数配置。为解决上述技术问题，本申请还提供一种环路补偿方法，应用于包括功率检测单元10、补偿单元、MCU11的环路补偿装置，如图4，图4为本申请实施例所提供的一种环路补偿方法的流程图，该方法包括：S10：通过功率检测单元10获取BUCK-BOOST电源芯片12的电源参数；S11：根据电源参数获取BUCK-BOOST电源芯片12的工作状态；S12：依据电源参数和工作状态确定补偿单元的补偿模式；补偿模式包括相位补偿模式和功率补偿模式；S13：控制补偿单元采用补偿模式对BUCK-BOOST电源芯片12进行补偿。由于方法部分的实施例与装置部分的实施例相互对应，因此方法部分的实施例请参见装置部分的实施例的描述，这里暂不赘述。本申请实施例作为一种优选的实施例，限定电源参数包括采样电压、采样电流、第一电压纹波信号。本申请实施例限定电源参数包括采样电压、采样电流、第一电压纹波信号，通过这三类参数，确定BUCK-BOOST电源芯片12的工作状态，并且根据这三类参数对BUCK-BOOST电源芯片12进行补偿以满足BUCK-BOOST电源芯片12不同模式对稳定性的需求。在上述环路补偿方法的基础上，本申请实施例作为一种优选的实施例，BUCK-BOOST电源芯片12的工作状态包括升压状态和降压状态。本申请实施例限定BUCK-BOOST电源芯片12的工作状态包括升压状态和降压状态，对升压状态和降压状态采用不同的补偿方法，以满足BUCK-BOOST电源芯片12不同模式对稳定性的需求。本申请实施例作为一种优选实施例，根据电源参数获取BUCK-BOOST电源芯片12的工作状态包括：当采样电压高于BUCK-BOOST电源芯片12的标准端电压时，确定BUCK-BOOST电源芯片12的工作状态为升压状态；当采样电压低于BUCK-BOOST电源芯片12的标准端电压时，确定BUCK-BOOST电源芯片12的工作状态为降压状态。在MCU11获取到电源参数后，根据电源参数获取BUCK-BOOST电源芯片12的工作状态，具体的，通过采样电压与BUCK-BOOST电源芯片12的标准端电压的大小关系来确定BUCK-BOOST电源芯片12的工作状态。当采样电压高于BUCK-BOOST电源芯片12的标准端电压时，确定BUCK-BOOST电源芯片12的工作状态为升压状态；当采样电压低于BUCK-BOOST电源芯片12的标准端电压时确定BUCK-BOOST电源芯片12的工作状态为降压状态，对升压状态和降压状态采用不同的补偿方法，以满足BUCK-BOOST电源芯片12不同模式对稳定性的需求。本申请实施例所提供的环路补偿方法对获取BUCK-BOOST电源芯片12的工作状态的过程给出了具体限定，获取的方法简单，可靠性高。基于上述实施例，本申请实施例作为一种优选的实施例，依据电源参数和工作状态确定补偿单元的补偿模式包括：判断采样电压是否满足第一预设条件；若是，则确定补偿单元的补偿模式为功率补偿模式，对BUCK-BOOST电源芯片12进行功率补偿；若否，则确定补偿单元的补偿模式为相位补偿模式，根据工作状态对BUCK-BOOST电源芯片12进行相位补偿。具体的，补偿单元的补偿模式包括有功率补偿和相位补偿两种，首先依据电源参数中的采样电压是否满足第一预设条件来补偿模式，若满足则进行功率补偿，若不满足，则进行相位补偿。并且，当采样电压不满足第一预设条件时还需要根据BUCK-BOOST电源芯片12的工作状态对BUCK-BOOST电源芯片12进行适当的相位补偿。本申请实施例对于第一预设条件不做限定，可以是采样电压与标准端电压的差值是否小于预设值，也可以是采样电压与标准端电压的比例关系等。本申请实施例所提供的环路补偿方法，在获取了电源参数和BUCK-BOOST电源芯片12的工作状态后，当采样电压满足第一预设条件是对BUCK-BOOST电源芯片12进行功率补偿，当BUCK-BOOST电源芯片12不满足第一预设条件时，进一步的根据BUCK-BOOST电源芯片12的工作状态对BUCK-BOOST电源芯片12进行相位补偿，以满足BUCK-BOOST电源芯片12不同模式对稳定性的需求。本申请实施例作为一种优选的实施例，判断采样电压是否满足第一预设条件包括：获取采样电压与标准端电压的差值；获取差值的绝对值；判断绝对值是否小于预设值；若小于，则确定采样电压满足第一预设条件；若不小于，则确定采样电压不满足第一预设条件。本申请实施例对于判断采样电压是否满足第一预设条件做进一步限定，首先获取采样电压与以满足BUCK-BOOST电源芯片12的标准端电压的差值，再获取差值的绝对值，当绝对值小于预设值时，说明BUCK-BOOST电源芯片12的输入电压与输出电压较为接近，此时BUCK-BOOST电源芯片12的模式切换处于频繁状态从而出现电压输出不稳定的情况，由于模式切换频繁带来的不稳定情况无法通过相位补偿，确定采样电压满足第一预设条件，对BUCK-BOOST电源芯片12进行功率补偿。当差值的绝对值大于预设值时确定采样电压不满足第一预设条件，对BUCK-BOOST电源芯片12进行相位补偿。本申请实施例所提供的环路补偿方法，限定了通过采样电压与BUCK-BOOST电源芯片12的标准端的电压的差值的绝对值与预设值的大小关系确定采样电压是否满足第一预设条件，从而确定适合的补偿模式对BUCK-BOOST电源芯片12进行补偿，满足BUCK-BOOST电源芯片12不同状态所需的补偿。本申请实施例作为一种优选的实施例，当补偿单元的补偿模式为相位补偿模式时，根据工作状态对BUCK-BOOST电源芯片12进行相位补偿包括：当BUCK-BOOST电源芯片12的工作状态为升压状态时，对BUCK-BOOST电源芯片12进行电流补偿；当BUCK-BOOST电源芯片12的工作状态为降压状态时，对BUCK-BOOST电源芯片12进行电压补偿。本申请实施例所提供的环路补偿方法，将相位补偿进一步分为电流补偿和电压补偿两种，当BUCK-BOOST电源芯片12的工作状态为升压状态时，进行电流补偿，当BUCK-BOOST电源芯片12的工作状态为降压状态时，进行电压补偿，使芯片能更准确、快速的应对BUCK-BOOST电源芯片12升压状态、降压状态变换时的输出补偿。本申请实施例作为一种优选的实施例，采用补偿模式对BUCK-BOOST电源芯片12进行补偿之后还包括：获取BUCK-BOOST电源芯片12的第二电压纹波信号；判断第二电压纹波信号是否满足第二预设条件；若第二电压纹波信号满足第二预设条件，则确定完成电源补偿；若第二电压纹波信号不满足第二预设条件，则确定未完成电源补偿。在对BUCK-BOOST电源芯片12进行补偿之后，通过功率检测单元10获取BUCK-BOOST电源芯片12当前的第二电压纹波信号，当第二电压纹波信号满足第二预设条件时，说明完成电源补偿；当第二电压纹波信号不满足第二预设条件时，说明补偿未达到BUCK-BOOST电源芯片12的需求，未完成电源补偿。本申请实施例所提供的环路补偿方法，在对BUCK-BOOST电源芯片12进行补偿之后再次检测电压纹波信号，以判断是否完成对BUCK-BOOST电源芯片12的补偿。本申请实施例作为一种优选的实施例，当第二电压纹波信号不满足第二预设条件时，确定未完成电源补偿之后还包括：上报异常信息。本申请实施例所提供的环路补偿方法，在第二电压纹波信号不满足第二预设条件时，上报异常信信息，方便后续测试过程中BUCK-BOOST电源芯片12参数配置。本申请实施例提供一种环路补偿方法应用的实施例，如图5所示，图5为环路补偿应用的流程图。检测到BUCK-BOOST电源芯片12处于工作状态后，检测输入电压与采样电压并对比，其中，输入电压为BUCK-BOOST电源芯片12的标准端电压。当采样电压与输入电压的差值小于预设值时认为采样电压接近输入电压，此时开启功率补偿；当采样电压与输入电压的差值不小于预设值时，则检测到采样与输入存在明显差异，进一步比较采样电压与输入电压。当采样电压高于输入电压时，开启模式一补偿，模式一补偿为电流补偿；当采样电压低于输入电压时，开启模式二补偿，模式二补偿为二阶电压补偿。对BUCK-BOOST电源芯片12进行模式一补偿或模式二补偿后，二次检测补偿后情况，当二次检测的情况满足要求时确定电源补偿完成，当二次检测的情况仍不满足要求时向BMC15单元上报异常信息。例如，监测到BUCK-BOOST电源芯片12输出电压纹波满足3%要求后，电源输出补偿完成，反之，当检测到电源输出经过补偿后仍不满足纹波要求，MCU11向存储系统的BMC15单元上报异常信息，方便后续测试过程中电源芯片12参数配置。本申请实施例对BUCK-BOOST电源芯片12进行补偿以满足BUCK-BOOST电源芯片12不同模式对稳定性的需求，还在补偿后进行二次检测，以确定电源补偿是否完成。当电源补偿未完成时上报异常信息，方便后续测试过程中电源芯片12参数配置。基于功能模块的角度，本申请实施例提供一种环路补偿系统，应用于包括功率检测单元10、补偿单元、MCU11的环路补偿装置，如图6所示，图6为本申请实施例所提供的一种环路补偿系统的示意图，该系统包括：第一获取模块20，用于通过功率检测单元10获取BUCK-BOOST电源芯片12的电源参数；第二获取模块21，用于根据电源参数获取BUCK-BOOST电源芯片12的工作状态；确定模块22，用于依据电源参数和工作状态确定补偿单元的补偿模式；补偿模式包括相位补偿模式和功率补偿模式；控制模块23，用于控制补偿单元采用补偿模式对BUCK-BOOST电源芯片12进行补偿。由于系统部分的实施例与装置部分的实施例相互对应，因此系统部分的实施例请参见装置部分的实施例的描述，这里暂不赘述。最后，本申请还提供一种计算机可读存储介质对应的实施例。计算机可读存储介质上存储有计算机程序，计算机程序被处理器执行时实现如上述方法实施例中记载的步骤。可以理解的是，如果上述实施例中的方法以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上对本申请所提供的外置的环路补偿装置及其方法、系统、介质进行了详细介绍。说明书中各个实施例采用递进的方式描述，每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的装置而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。应当指出，对于本技术领域的普通技术人员来说，在不脱离本申请原理的前提下，还可以对本申请进行若干改进和修饰，这些改进和修饰也落入本申请权利要求的保护范围内。还需要说明的是，在本说明书中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。
