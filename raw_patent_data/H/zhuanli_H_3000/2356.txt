标题title
一种基于相位差的多天线RFID标签定位方法与系统
摘要abst
本发明公开一种基于相位差的多天线RFID标签定位方法与系统，通过多天线阵列获取RFID标签反向散射信号的相位差，生成反向散射信号由RFID标签传播到各天线处所经过的完整波长数，进而构建代价函数，利用遗传算法迭代寻找目标RFID标签的最佳位置估计值，缓解了纯粹的基于信号强度的定位方法容易受多径衰落效应影响的问题，进一步提高了RFID标签的定位精度。而且本发明基于射频信号传播，可应用于射频信号识别/定位相关的诸多场景中。
权利要求书clms
1.一种基于相位差的多天线RFID标签定位方法，其特征在于，包括以下步骤：S1，获取多天线阵列中各天线接收到的由待定位RFID标签产生的反向散射信号与各天线发出信号的相位差，构建相位矩阵；S2，随机生成反向散射信号由待定位RFID标签传播到各天线处所经过的完整波长数，构建波长数矩阵；S3，利用步骤S1中构建的相位矩阵和步骤S2中构建的波长数矩阵/＞，计算任意天线与待定位RFID标签的距离，构建距离矩阵R；在多天线阵列的工作空间内，初始化待定位RFID标签的若干个候选坐标；S4，筛选候选坐标并保留优秀候选坐标；S5，利用遗传算法对保留的候选坐标进行遗传优化，若遗传优化重复次数超过一定阈值后仍无法获得待定位RFID标签位置的最佳估计值，则执行步骤S6；S6，增加波长数偏移量，重复执行S2~S5。2.如权利要求1所述的多天线RFID标签定位方法，其特征在于，步骤S2中构建波长数矩阵的公式为：或或其中，、/＞和/＞分别表示在0~1、0~2和0~30的范围内随机产生一个整数，/＞为矩阵尺度。3.如权利要求2所述的多天线RFID标签定位方法，其特征在于，步骤S3中任意天线与待定位RFID标签的距离计算公式为：且，/＞其中，为信号波长，R和/＞分别表示相位矩阵和距离矩阵，/＞表示待定位RFID标签到第n行第m列天线/＞的距离，/＞表示第n行第m列天线/＞处的信号相位差。4. 如权利要求3所述的多天线RFID标签定位方法，其特征在于，步骤S4中，对于每个候选坐标，获取待定位RFID标签与任意三个天线的距离，并计算其与该候选坐标下的距离矩阵R中相应天线的累计距离差值；比较各候选坐标的累计距离差值，保留累计距离差值最小的若干个候选坐标，或保留累计距离差值小于某个设定阈值的所有候选坐标；对于保留的候选坐标，计算其代价函数值，保留代价函数值最小的若干个候选坐标，或保留代价函数值小于某个设定阈值的所有候选坐标。5.如权利要求4所述的多天线RFID标签定位方法，其特征在于，假设选择的任意三个天线为多天线阵列中的天线、天线/＞和天线/＞，其空间坐标分别为/＞、和/＞，待定位RFID标签的空间位置坐标为/＞，则有其中，、/＞和/＞分别为待定位RFID标签与该三个天线的距离。6.如权利要求4所述的多天线RFID标签定位方法，其特征在于，所述代价函数表示为：其中，和/＞分别为待定位RFID标签到天线/＞和天线/＞的向量，/＞为均匀排布的多天线阵列中相邻两个天线的间距，/＞表示求欧式范数。7.如权利要求6所述的多天线RFID标签定位方法，其特征在于，步骤S5包括以下步骤：S5-1，对保留的候选坐标进行遗传交叉与遗传突变以生成新的候选坐标，并将新生成的候选坐标作为候选坐标集；S5-2，对候选坐标集中的每个候选坐标进行评价选择，保留优秀的候选坐标；S5-3，若遗传优化结束，则将保留的候选坐标作为待定位RFID标签位置的最终估计值，否则重复执行步骤S5-1~ S5-3；若遗传优化重复次数超过一定阈值后仍无法获得待定位RFID标签位置的最佳估计值，则执行步骤S6。8.如权利要求7所述的多天线RFID标签定位方法，其特征在于，步骤S5-1中，所述遗传突变指对候选坐标值产生一个随机扰动，所述遗传交叉指随机交换两个候选坐标的坐标值，所述评价选择的方法与步骤S4相同。9.一种基于相位差的多天线RFID标签定位系统，其特征在于，包括若干个RFID阅读器、RFID标签和处理器模块；所述若干个RFID阅读器的天线均匀排布，共同组成多天线阵列，用于发送射频信号和接收RFID标签发送的反向散射信号，RFID阅读器还用于获取接收信号与发送信号的相位差；所述RFID标签用于根据接收的来自于RFID阅读器的射频信号产生相应的反向散射信号并发送；所述处理器模块用于执行权利要求1~8中任一项所述多天线RFID标签定位方法的步骤，以获取RFID标签的位置。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机程序，所述计算机程序由中央处理单元加载并执行以实现权利要求1~8中任一项所述多天线RFID标签定位方法的步骤。
说明书desc
技术领域本发明属于射频识别技术领域，尤其涉及一种基于相位差的多天线RFID标签定位方法与系统。背景技术实时定位系统是一种能够实时确定物品位置的智能系统。如图1，是一种利用超高频射频识别阅读器实现的RTLS，其中有多个阅读器天线被分布在测量区域内，这种多天线阵列允许通过测量接收到的信号的强度和/或相位差来进行定位。正如Friis公式所描述的，射频信号在传播过程中由于多径衰落效应会产生自然衰减，直接使用接收信号的功率来推断其传播距离可能会存在一定问题，而使用接收信号的相位信息来推断传播距离则更具鲁棒性，因为其不太容易受到衰落效应的影响。超高频RFID的频率范围为868-965 MHz，相对应的信号波长为30~40cm。这意味着，如果我们试图在工作区域内定位一个RFID标签，那么从阅读器天线到标签的无线信号通常会跨越多个波长。因此，使用信号的相位信息来推断标签距离，尽管不太容易衰落，但依然存在问题，因为信号的传播路径可能跨越多个波长，而被跨越的波长数在定位过程开始时是未知的。发明内容为解决上述问题，本发明提出一种基于相位差的多天线RFID标签定位方法与系统本发明技术方案基于无线电波传播，可应用于射频信号识别/定位相关的诸多场景中。以下是本发明技术方案的具体内容：一种基于相位差的多天线RFID标签定位方法，包括以下步骤：S1，获取多天线阵列中各天线接收到的由待定位RFID标签产生的反向散射信号与各天线发出信号的相位差，构建相位矩阵；S2，随机生成反向散射信号由待定位RFID标签传播到各天线处所经过的完整波长数，构建波长数矩阵；S3，利用步骤S1中构建的相位矩阵和步骤S2中构建的波长数矩阵/＞，计算任意天线与待定位RFID标签的距离，构建距离矩阵R；在多天线阵列的工作空间内，初始化待定位RFID标签的若干个候选坐标；S4，筛选候选坐标并保留优秀候选坐标；S5，利用遗传算法对保留的候选坐标进行遗传优化，若遗传优化重复次数超过一定阈值后仍无法获得待定位RFID标签位置的最佳估计值，则执行步骤S6；S6，增加波长数偏移量，重复执行S2~S5。进一步地，步骤S2中构建波长数矩阵的公式为：或或其中，、/＞和/＞分别表示在0~1、0~2和0~30的范围内随机产生一个整数，为矩阵尺度。进一步地，步骤S3中任意天线与待定位RFID标签的距离计算公式为：且，/＞其中，为信号波长，R和/＞分别表示相位矩阵和距离矩阵，/＞表示待定位RFID标签到第n行第m列天线/＞的距离，/＞表示第n行第m列天线/＞处的信号相位差。进一步地，步骤S4中，对于每个候选坐标，获取待定位RFID标签与任意三个天线的距离，并计算其与该候选坐标下的距离矩阵R中相应天线的累计距离差值；比较各候选坐标的累计距离差值，保留累计距离差值最小的若干个候选坐标，或保留累计距离差值小于某个设定阈值的所有候选坐标；对于保留的候选坐标，计算其代价函数值，保留代价函数值最小的若干个候选坐标，或保留代价函数值小于某个设定阈值的所有候选坐标。进一步地，假设选择的任意三个天线为多天线阵列中的天线、天线/＞和天线/＞，其空间坐标分别为/＞、/＞和/＞，待定位RFID标签的空间位置坐标为/＞，则有其中，、/＞和/＞分别为待定位RFID标签与该三个天线的距离。进一步地，所述代价函数表示为：其中，和/＞分别为待定位RFID标签到天线/＞和天线/＞的向量，/＞为均匀排布的多天线阵列中相邻两个天线的间距，/＞表示求欧式范数。进一步地，步骤S5包括以下步骤：S5-1，对保留的候选坐标进行遗传交叉与遗传突变以生成新的候选坐标，并将新生成的候选坐标作为候选坐标集；S5-2，对候选坐标集中的每个候选坐标进行评价选择，保留优秀的候选坐标；S5-3，若遗传优化结束，则将保留的候选坐标作为待定位RFID标签位置的最终估计值，否则重复执行步骤S5-1~ S5-3；若遗传优化重复次数超过一定阈值后仍无法获得待定位RFID标签位置的最佳估计值，则执行步骤S6。进一步地，步骤S5-1中，所述遗传突变指对候选坐标值产生一个随机扰动，所述遗传交叉指随机交换两个候选坐标的坐标值，所述评价选择的方法与步骤S4相同。一种基于相位差的多天线RFID标签定位系统，包括若干个RFID阅读器、RFID标签和处理器模块；所述若干个RFID阅读器的天线均匀排布，共同组成多天线阵列，用于发送射频信号和接收RFID标签发送的反向散射信号，RFID阅读器还用于获取接收信号与发送信号的相位差；所述RFID标签用于根据接收的来自于RFID阅读器的射频信号产生相应的反向散射信号并发送；所述处理器模块用于执行上述多天线RFID标签定位方法的步骤，以获取RFID标签的位置。一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，所述计算机程序由中央处理单元加载并执行以实现上述多天线RFID标签定位方法的步骤。本发明的有益效果：本发明提出的一种基于相位差的多天线RFID标签定位方法与系统，通过多天线阵列获取RFID标签反向散射信号的相位差，进而利用遗传算法迭代寻找目标RFID标签的最佳位置估计值，缓解了纯粹的基于信号强度的定位方法容易受多径衰落效应影响的问题，进一步提高了RFID标签的定位精度。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1为一种基于UHF RFID的实时定位系统的示意图；图2为多天线阵列定位系统的示意图；图3为多天线阵列获取的信号相位的分布图；图4为三天线法定位RFID标签的示意图；图5为本发明实施例中候选坐标的示意图；图6为本发明实施例中RFID标签定位的流程示意图；图7为本发明实施例中遗传优化的流程示意图。具体实施方式为使本发明实施例的目的和技术方案更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。如图2，待定位RFID标签位于多天线阵列工作空间内的某个位置，由RFID标签产生的反向散射信号被多天线阵列中的每个天线接收。为估计RFID标签的空间位置，首先分别获取各天线接收信号与其发送信号的相位差。对于整个n×m的多天线阵列，各天线处的相位差值共同组成相位矩阵，其中/＞表示位于第n行第m列的天线的相位差值。由于测量系统精度的变化以及信号传播环境的变化，测算结果自然会产生一定的误差。通过获取相位差值在一段时间内的方差变化可以评估测算值的可信度，如果测算结果是真实可信的，则其方差浮动必然是一个较小的值，而且如果一段时间内获取的相位差值是真实可信的，则其分布基本服从正太分布，如图3所示。多天线阵列中任意天线到待定位RFID标签距离的估算等同于信号传播路径的推导，该传播路径由多个完整信号波长以及与相位差相对应的部分信号波长组成。假设传播路径中完整信号波长的总数为N，信号波长为，则有公式如下：其中，表示待定位RFID标签到第i行第j列天线/＞的距离，/＞为待定位RFID标签到天线/＞的向量，/＞为/＞方向的单位向量，/＞表示天线/＞处的信号相位差，/＞表示求欧式范数，即求向量的模。根据各天线处的信号相位差，利用公式能够计算得到多天线阵列中任意天线到待定位RFID标签的距离。对于整个多天线阵列，有如下距离矩阵R：根据公式，公式进一步表示为：其中，反向散射信号由RFID标签传播到各天线处经过的完整波长数共同组成波长数矩阵。假设一个典型的4瓦超高频RFID阅读器的读取范围在10m左右，而无线信号波长在35cm左右，那么0到30个波长的范围足以覆盖RFID阅读器的整个读取范围，则有其中，表示在0到30内随机产生一个整数。为了适应RFID标签偏离多天线阵列中心或更靠近天线的情况，公式相比于公式更适合，即满足在范围内的多个完整波长，又在随机选择的天线位置上再添加单个额外波长。为了适应RFID标签接近多天线面的情况，公式显然是一个更好的拟合，即满足在范围内的多个完整波长，又在随机选择的天线位置上添加多达两个额外的波长。其中，和/＞分别表示在0~1和0~2的范围内随机产生一个整数。如图4所示，对于一个具体的应用场景，由于多天线阵列的位置是固定且已知的，若知道任意三个天线与待定位RFID标签间的距离，就可以确定待定位RFID标签的位置。即，分别以该三个天线位置为中心并以其与待定位RFID标签的距离为半径所得的三个球面的交点即为待定位RFID标签的空间位置。需要注意的是，多天线阵列中天线的数量与执行定位所需的最小数量之间的固有冗余对我们是有利的。当天线数量足够多时，定位误差将会被抑制，这有助于本发明定位算法的鲁棒性。假设选择的三个天线参考点为多天线阵列中的天线、天线/＞和天线/＞，其空间坐标分别为/＞、/＞和/＞，与待定位RFID标签的距离分别为/＞、/＞和/＞，则有如下公式成立，其中/＞为待定位RFID标签的坐标值。根据上述内容，我们可以通过天线接收信号的相位差，计算得到多天线阵列中任意天线到待定位RFID标签的距离。然而，反向散射信号由待定位RFID标签传播到天线处所经过的完整波长数是未知的，因此我们需要构建代价函数，通过优化迭代来寻找待定位RFID标签坐标的最佳估计值。由于多天线阵列中任意两个天线的位置关系表示为：且有：其中，和/＞分别为天线/＞和天线/＞的位置矢量，s为均匀排布的多天线阵列中相邻两个天线的间距。因此构建代价函数为：假设待定位RFID标签的坐标估计值准确，则参照该坐标估计值计算得到的任意两个天线间的距离值应等于这两个天线间的实际距离值，该实际距离值通过这两个天线在多天线阵列中的实际分布位置计算得到。因此若待定位RFID标签的坐标估计值足够准确，则对应的代价函数值应足够小。根据以上内容，本发明提出一种基于相位差的多天线RFID标签定位方法，该定位方法一种实施例如图5所示，主要包括以下步骤：S1，获取多天线阵列中各天线接收到的由待定位RFID标签产生的反向散射信号与各天线发出信号的相位差，构建相位矩阵。S2，随机生成反向散射信号由待定位RFID标签传播到各天线处所经过的完整波长数，构建波长数矩阵，构建方法采用公式、或。S3，利用步骤S1中构建的相位矩阵和步骤S2中构建的波长数矩阵/＞，根据公式计算任意天线与待定位RFID标签的距离，构建距离矩阵R；初始化待定位RFID标签的若干个候选坐标，如图6，在多天线阵列的工作空间内随机产生多个候选坐标。S4，筛选候选坐标并保留优秀候选坐标。对于每个候选坐标，利用公式获取待定位RFID标签与任意三个天线的距离，并计算其与该候选坐标下的距离矩阵R中相应天线的累计距离差值，比较各候选坐标的累计距离差值，保留累计距离差值最小的若干个候选坐标，或保留累计距离差值小于某个设定阈值的所有候选坐标。对于保留的候选坐标，根据公式计算其代价函数值，保留代价函数值最小的若干个候选坐标，或保留代价函数值小于某个设定阈值的所有候选坐标。S5，利用遗传算法对保留的候选坐标进行遗传优化。遗传优化的流程如图7所示，主要包括步骤：S5-1，对保留的候选坐标进行遗传交叉与遗传突变以生成新的候选坐标，并将新生成的候选坐标作为候选坐标集。遗传突变，即对候选坐标值产生一个随机扰动。遗传交叉，即随机交换两个候选坐标的坐标值，如，对于候选坐标和/＞，通过交换坐标值后得到两个新的候选坐标/＞和/＞。S5-2，对候选坐标集中的每个候选坐标进行评价选择，保留优秀的候选坐标。评价选择的方法与步骤S4相同。S5-3，若遗传优化结束，则将保留的候选坐标作为待定位RFID标签位置的最终估计值，否则重复执行步骤S5-1~ S5-3。若遗传优化重复次数超过一定阈值后仍无法获得待定位RFID标签位置的最佳估计值，则执行步骤S6。S6，增加波长数偏移量，重复执行S2~S5。考虑到迭代优化算法的效率，可事先设定一个精度阈值，当损失函数值小于该精度阈值时即停止迭代；或者，当损失函数值长时间停留在某个值保持不变或仅有微小浮动时，停止迭代。本发明还提供一种基于相位差的多天线RFID标签定位系统，包括若干个RFID阅读器、RFID标签和处理器模块。若干个RFID阅读器的天线均匀排布，共同组成多天线阵列，用于发送射频信号和接收RFID标签发送的反向散射信号，RFID阅读器还用于获取接收信号与发送信号的相位差。RFID标签用于根据接收的来自于RFID阅读器的射频信号产生相应的反向散射信号并发送。处理器模块用于执行上述的基于相位差的多天线RFID标签定位方法的步骤，以获取RFID标签的位置。本发明还提供一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，所述计算机程序由中央处理单元加载并执行以实现上述基于相位差的多天线RFID标签定位方法的步骤。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；在本发明的思路下，以上实施例或者不同实施例中的技术特征之间也可以进行组合，步骤可以以任意顺序实现，并存在如上所述的本发明的不同方面的许多其它变化，为了简明，它们没有在细节中提供；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的范围。
