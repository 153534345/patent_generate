标题title
一种煤矿视频数据自适应压缩方法
摘要abst
本发明涉及视频数据压缩技术领域，提出了一种煤矿视频数据自适应压缩方法，包括：采集煤矿视频数据；获取煤矿视频数据中每一视频帧图像的多个类别，获取每一视频帧图像的视频数据序列及参考数据序列，获取每个视频数据序列中每个数据的固定性特征；获取每个视频数据序列中每个类别的匹配类别，获取每个类别中每个数据的变化性特征，得到每个数据的信息损失接受程度；获取调整基准程度并得到初始基准点，获取初始基准点的调整接受程度并得到每一视频帧图像的待压缩数据序列；对每一视频帧图像的待压缩数据序列进行压缩，完成煤矿视频数据的自适应压缩。本发明旨在针对煤矿视频数据不同帧进行自适应压缩从而提高压缩效率。
权利要求书clms
1.一种煤矿视频数据自适应压缩方法，其特征在于，该方法包括以下步骤：采集煤矿视频数据；对煤矿视频数据中每一视频帧图像中的像素点根据灰度值分别进行聚类，得到每一视频帧图像的多个类别，获取每一视频帧图像的视频数据序列及参考数据序列，根据每一视频帧图像的多个类别获取每个视频数据序列的多个类别，根据视频数据序列、参考数据序列及每个数据所属类别，获取每个视频数据序列中每个数据的固定性特征；根据每个视频数据序列中每个类别中的数据与相邻前一帧视频数据序列中每个类别的数据，获取每个视频数据序列中每个类别与相邻前一帧视频数据序列中每个类别的类别相似度，根据类别相似度获取每个类别的匹配类别，获取每个视频数据序列中每个类别的分布间隔均值，根据分布间隔均值、类别及匹配类别之间的类别相似度，获取每个类别的变化性特征，将每个类别的变化性特征赋予到每个类别的对应数据中，得到每个视频数据序列中每个数据的变化性特征，根据固定性特征及变化性特征，获取每个视频数据序列中每个数据的信息损失接受程度；根据类别获取每个视频数据序列中每个类别的若干分段，将每个分段除起始数据和终止数据的数据记为每个分段的内部数据，将每个分段的起始数据及终止数据作为对应类别的初始基准点，根据数据值及信息损失接受程度获取每个内部数据的调整基准程度，根据调整基准程度获取每个类别的初始基准点，根据初始基准点获取每个类别的若干子段，根据初始基准点及子段获取每个初始基准点的调整接受程度，根据调整接受程度获取每个视频数据序列的待压缩数据序列，得到每一视频帧图像的待压缩数据序列；对每一视频帧图像的待压缩数据序列进行压缩，完成煤矿视频数据的压缩。2.根据权利要求1所述的一种煤矿视频数据自适应压缩方法，其特征在于，所述获取每一视频帧图像的视频数据序列及参考数据序列，包括的具体方法为：对每一视频帧图像通过对每个像素点进行扫描，得到每一视频帧图像对应的数据序列，记为每一视频帧图像的视频数据序列；获取每一视频帧图像的参考视频图像，通过对参考视频图像每个像素点进行扫描，得到每一视频帧图像的参考数据序列。3.根据权利要求1所述的一种煤矿视频数据自适应压缩方法，其特征在于，所述获取每个视频数据序列中每个数据的固定性特征，包括的具体方法为：其中，/＞表示当前视频数据序列中第/＞个数据的固定性特征，/＞表示当前视频数据序列中第/＞个数据的局部范围的数据量，/＞表示当前视频数据序列中第/＞个数据的局部范围内第/＞个数据的数据值，/＞表示当前视频数据序列中第/＞个数据的局部范围内第/＞个数据的位置在当前视频数据序列的参考数据序列中相同位置的数据值，/＞表示以自然常数为底的指数函数，/＞表示求绝对值；所述局部范围表示第个数据向前及向后各预设数量的相同类别数据。4.根据权利要求1所述的一种煤矿视频数据自适应压缩方法，其特征在于，所述获取每个视频数据序列中每个类别与相邻前一帧视频数据序列中每个类别的类别相似度，包括的具体方法为：将当前视频数据序列的相邻前一帧的视频数据序列记为前一视频数据序列，获取当前视频数据序列中的类别与前一视频数据序列中的类别/＞的类别相似度/＞的计算方法为：其中，/＞表示当前数据序列中类别/＞的数据值均值，/＞表示前一数据序列中类别/＞的数据值均值，/＞表示当前数据序列中类别/＞与前一数据序列中类别/＞的数据值协方差，/＞表示当前数据序列中类别/＞的数据值方差，/＞表示前一数据序列中类别/＞的数据值方差，/＞和/＞为计算常数。5.根据权利要求4所述的一种煤矿视频数据自适应压缩方法，其特征在于，所述获取每个类别的变化性特征，包括的具体方法为：其中，/＞表示当前视频数据序列中的类别/＞的变化性特征，/＞表示当前视频数据序列中类别/＞与前一视频数据序列中匹配类别的分布差异程度，/＞表示当前视频数据序列中类别/＞与前一视频数据序列中匹配类别/＞的类别相似度，/＞与/＞表示参考权重；所述分布差异程度通过两个类别的分布间隔均值通过小值比大值得到。6.根据权利要求1所述的一种煤矿视频数据自适应压缩方法，其特征在于，所述获取每个视频数据序列中每个数据的信息损失接受程度，包括的具体方法为：其中，/＞表示当前视频数据序列中第/＞个数据的信息损失接受程度，/＞表示当前视频数据序列中第/＞个数据的固定性特征，/＞表示当前视频数据序列中第/＞个数据的变化性特征。7.根据权利要求1所述的一种煤矿视频数据自适应压缩方法，其特征在于，所述根据数据值及信息损失接受程度获取每个内部数据的调整基准程度，包括的具体方法为：其中，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的调整基准程度，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的信息损失接受程度，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的数据值，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的数据值，表示当前视频数据序列中第/＞个分段的第/＞个内部数据的数据值，/＞表示求绝对值。8.根据权利要求1所述的一种煤矿视频数据自适应压缩方法，其特征在于，所述根据初始基准点获取每个类别的若干子段，包括的具体方法为：获取当前视频数据序列的类别，获取类别/＞的所有分段的初始基准点，获取每个分段中每相邻两个初始基准点的间隔值，间隔值由初始基准点在当前视频数据序列中的位置得到，将类别/＞的所有间隔值的最小值作为类别/＞的子范围；根据子范围对类别的每个分段中每相邻两个初始基准点之间的数据进行划分，得到当前视频数据序列的类别/＞的若干子段。9.根据权利要求1所述的一种煤矿视频数据自适应压缩方法，其特征在于，所述根据初始基准点及子段获取每个初始基准点的调整接受程度，包括的具体方法为：其中，/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点的调整接受程度，/＞表示当前视频数据序列的类别/＞的子段数量，/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内的数据值全部调整为当前视频数据序列的类别/＞中第/＞个初始基准点的数据值后，在当前视频数据序列的类别/＞的所有子段中的出现次数；/＞表示当前视频数据序列的类别/＞的子范围，/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内第/＞个数据调整前后数据值的差值绝对值，/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内第/＞个数据的信息损失接受程度的归一化值。10.根据权利要求1所述的一种煤矿视频数据自适应压缩方法，其特征在于，所述根据调整接受程度获取每个视频数据序列的待压缩数据序列，包括的具体方法为：获取当前视频数据序列的类别，获取类别/＞中任意相邻两个初始基准点作为目标点对，将目标点对之间的一段数据作为目标段数据，获取目标点对中两个初始基准点的调整接受程度的最大值，将最大值对应的初始基准点作为目标段数据的基准数据，将目标段数据的每个数据的数据值调整为基准数据的数据值；对当前视频数据序列的类别的所有分段中的数据根据初始基准点的调整接受程度进行调整；对当前视频数据序列中所有数据进行调整，得到的结果记为当前视频数据序列的待压缩数据序列；获取每个视频数据序列的待压缩数据序列。
说明书desc
技术领域本发明涉及视频数据压缩技术领域，具体涉及一种煤矿视频数据自适应压缩方法。背景技术煤矿产业在全球各地都具有重要地位，是世界上最广泛使用的能源之一，其在电力、钢铁、化工产业等领域中都有广泛的使用；由于煤矿是一种高风险的工作场所，有着诸多的危险因素，如地质灾害、瓦斯爆炸及电气设备的错误使用都会危及到煤矿工人的安全，因此为了尽可能的预防事故的发生，煤矿视频监控系统是非常必要的；然而煤矿视频数据中产生的数据量非常庞大，存储煤矿视频数据需要消耗大量的存储空间，进而对服务器的存储空间以及数据传输的带宽造成较大的负担，因此需要对煤矿视频数据进行压缩再传输。现有技术中采用串表压缩算法对煤矿视频数据的压缩；然而由于LZW算法是基于字典的压缩算法，在煤矿视频数据压缩过程中，由于不同帧视频数据的变化会大大增加字典的大小，并且随着字典的增大会增加字典内的检索时间，极大的影响了LZW算法的压缩时间以及压缩率的大小，因此需要一种适用于煤矿视频数据的自适应LZW压缩方法，来减少煤矿视频数据的压缩时间，并提高数据压缩率。发明内容本发明提供一种煤矿视频数据自适应压缩方法，以解决现有的LZW压缩算法对于不同帧视频数据需要增大字典而导致压缩效率较低的问题，所采用的技术方案具体如下：本发明一个实施例提供了一种煤矿视频数据自适应压缩方法，该方法包括以下步骤：采集煤矿视频数据；对煤矿视频数据中每一视频帧图像中的像素点根据灰度值分别进行聚类，得到每一视频帧图像的多个类别，获取每一视频帧图像的视频数据序列及参考数据序列，根据每一视频帧图像的多个类别获取每个视频数据序列的多个类别，根据视频数据序列、参考数据序列及每个数据所属类别，获取每个视频数据序列中每个数据的固定性特征；根据每个视频数据序列中每个类别中的数据与相邻前一帧视频数据序列中每个类别的数据，获取每个视频数据序列中每个类别与相邻前一帧视频数据序列中每个类别的类别相似度，根据类别相似度获取每个类别的匹配类别，获取每个视频数据序列中每个类别的分布间隔均值，根据分布间隔均值、类别及匹配类别之间的类别相似度，获取每个类别的变化性特征，将每个类别的变化性特征赋予到每个类别的对应数据中，得到每个视频数据序列中每个数据的变化性特征，根据固定性特征及变化性特征，获取每个视频数据序列中每个数据的信息损失接受程度；根据类别获取每个视频数据序列中每个类别的若干分段，将每个分段除起始数据和终止数据的数据记为每个分段的内部数据，将每个分段的起始数据及终止数据作为对应类别的初始基准点，根据数据值及信息损失接受程度获取每个内部数据的调整基准程度，根据调整基准程度获取每个类别的初始基准点，根据初始基准点获取每个类别的若干子段，根据初始基准点及子段获取每个初始基准点的调整接受程度，根据调整接受程度获取每个视频数据序列的待压缩数据序列，得到每一视频帧图像的待压缩数据序列；对每一视频帧图像的待压缩数据序列进行压缩，完成煤矿视频数据的压缩。可选的，所述获取每一视频帧图像的视频数据序列及参考数据序列，包括的具体方法为：对每一视频帧图像通过对每个像素点进行扫描，得到每一视频帧图像对应的数据序列，记为每一视频帧图像的视频数据序列；获取每一视频帧图像的参考视频图像，通过对参考视频图像每个像素点进行扫描，得到每一视频帧图像的参考数据序列。可选的，所述获取每个视频数据序列中每个数据的固定性特征，包括的具体方法为：其中，/＞表示当前视频数据序列中第/＞个数据的固定性特征，/＞表示当前视频数据序列中第/＞个数据的局部范围的数据量，/＞表示当前视频数据序列中第/＞个数据的局部范围内第/＞个数据的数据值，/＞表示当前视频数据序列中第/＞个数据的局部范围内第/＞个数据的位置在当前视频数据序列的参考数据序列中相同位置的数据值，/＞表示以自然常数为底的指数函数，/＞表示求绝对值；所述局部范围表示第个数据向前及向后各预设数量的相同类别数据。可选的，所述获取每个视频数据序列中每个类别与相邻前一帧视频数据序列中每个类别的类别相似度，包括的具体方法为：将当前视频数据序列的相邻前一帧的视频数据序列记为前一视频数据序列，获取当前视频数据序列中的类别与前一视频数据序列中的类别/＞的类别相似度/＞的计算方法为：其中，/＞表示当前数据序列中类别/＞的数据值均值，/＞表示前一数据序列中类别/＞的数据值均值，/＞表示当前数据序列中类别/＞与前一数据序列中类别/＞的数据值协方差，/＞表示当前数据序列中类别/＞的数据值方差，/＞表示前一数据序列中类别/＞的数据值方差，/＞和/＞为计算常数。可选的，所述获取每个类别的变化性特征，包括的具体方法为：其中，/＞表示当前视频数据序列中的类别/＞的变化性特征，/＞表示当前视频数据序列中类别/＞与前一视频数据序列中匹配类别的分布差异程度，/＞表示当前视频数据序列中类别/＞与前一视频数据序列中匹配类别/＞的类别相似度，/＞与/＞表示参考权重；所述分布差异程度通过两个类别的分布间隔均值通过小值比大值得到。可选的，所述获取每个视频数据序列中每个数据的信息损失接受程度，包括的具体方法为：其中，/＞表示当前视频数据序列中第/＞个数据的信息损失接受程度，/＞表示当前视频数据序列中第/＞个数据的固定性特征，/＞表示当前视频数据序列中第/＞个数据的变化性特征。可选的，所述根据数据值及信息损失接受程度获取每个内部数据的调整基准程度，包括的具体方法为：其中，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的调整基准程度，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的信息损失接受程度，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的数据值，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的数据值，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的数据值，/＞表示求绝对值。可选的，所述根据初始基准点获取每个类别的若干子段，包括的具体方法为：获取当前视频数据序列的类别，获取类别/＞的所有分段的初始基准点，获取每个分段中每相邻两个初始基准点的间隔值，间隔值由初始基准点在当前视频数据序列中的位置得到，将类别/＞的所有间隔值的最小值作为类别/＞的子范围；根据子范围对类别的每个分段中每相邻两个初始基准点之间的数据进行划分，得到当前视频数据序列的类别/＞的若干子段。可选的，所述根据初始基准点及子段获取每个初始基准点的调整接受程度，包括的具体方法为：其中，/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点的调整接受程度，/＞表示当前视频数据序列的类别/＞的子段数量，/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内的数据值全部调整为当前视频数据序列的类别/＞中第/＞个初始基准点的数据值后，在当前视频数据序列的类别/＞的所有子段中的出现次数；/＞表示当前视频数据序列的类别/＞的子范围，表示当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内第/＞个数据调整前后数据值的差值绝对值，/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内第/＞个数据的信息损失接受程度的归一化值。可选的，所述根据调整接受程度获取每个视频数据序列的待压缩数据序列，包括的具体方法为：获取当前视频数据序列的类别，获取类别/＞中任意相邻两个初始基准点作为目标点对，将目标点对之间的一段数据作为目标段数据，获取目标点对中两个初始基准点的调整接受程度的最大值，将最大值对应的初始基准点作为目标段数据的基准数据，将目标段数据的每个数据的数据值调整为基准数据的数据值；对当前视频数据序列的类别的所有分段中的数据根据初始基准点的调整接受程度进行调整；对当前视频数据序列中所有数据进行调整，得到的结果记为当前视频数据序列的待压缩数据序列；获取每个视频数据序列的待压缩数据序列。本发明的有益效果是：本发明通过对煤矿监控视频进行扫描获取视频数据序列，根据每个视频数据序列中每个数据的信息损失接受程度并结合游程编码的思想，需要根据数据的信息损失接受程度对视频数据序列中的数据进行调整，在调整的过程中根据视频数据序列中数据的调整基准程度和调整接受程度，确定依据哪个调整基准点能达到最大的压缩率，进而得到最终的待压缩数据序列，根据待压缩数据序列进行自适应LZW算法压缩；避免了传统的LZW算法中由于煤矿监控视频中连续帧视频数据的内容变化使得字典较大，同时会增加字典内的检索时间，进而极大地影响了LZW算法的压缩时间以及压缩率的大小的缺点；使得LZW算法在大大减少字典的容量、增大压缩率以及增加压缩效率的同时，使得煤矿监控视频的重要信息保留程度得到保障。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1为本发明一个实施例所提供的一种煤矿视频数据自适应压缩方法流程示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，其示出了本发明一个实施例所提供的一种煤矿视频数据自适应压缩方法流程图，该方法包括以下步骤：步骤S001、采集煤矿视频数据。本实施例的目的是对煤矿视频数据进行自适应压缩，因此首先需要获取煤矿视频数据；本实施例通过在煤矿内的各个区域的监控摄像头来采集煤矿视频数据，其中监控摄像头本实施例采用高分辨率且干扰能力强的工业CCD相机，具体型号本实施例不作设定，实施者可根据实际情况而定；采集到煤矿视频数据后，每个监控摄像头实时地将视频数据传输到服务器中进行存储，服务器中存储了大量历史采集的煤矿视频数据，在服务器中对实时的煤矿视频数据进行压缩处理，进而将压缩后视频数据传输到煤矿视频监控系统终端；需要说明的是，本实施例后续以任意一个监控摄像头采集的煤矿视频数据进行压缩分析，即后续进行煤矿视频数据压缩均是基于同一个监控摄像头的煤矿视频数据进行处理。至此，获取到了煤矿视频数据。步骤S002、对煤矿视频数据中每一视频帧图像中的像素点根据灰度值进行聚类，得到每一视频帧图像的多个类别，根据每一视频帧图像获取若干视频数据序列，获取每个视频数据序列的参考数据序列，根据视频数据序列、参考数据序列及每个数据所属类别，获取每个视频数据序列中每个数据的固定性特征。需要说明的是，在煤矿视频数据的压缩过程中，由于监控视频数据的特性，连续帧的视频帧图像中内容会变化较为频繁，例如工人施工、设备移动等等，同时也会存在较为固定的背景内容，例如除了人员设备外的墙体背景、运输管道等，会造成得到的LZW算法的字典较大，而字典较大会使得在压缩过程中检索时间较长，大大增加了压缩的时间；考虑到监控视频背景的固定性，因此图像中存在部分的区域中的内容信息较为规律；而游程编码是一种适用于重复性较大的内容的数据处理方法，因此根据煤矿监控视频的特征，结合游程编码的思想，对视频图像中的像素点信息进行处理，使得大大的减少字典的容量以及增大压缩率。进一步需要说明的是，煤矿监控视频中背景具有固定性的特征，并且还在连续帧的视频帧图像中存在相对运动内容；由于煤矿监控视频中的背景环境大多处于黑暗区域，因此很多监控目标处于黑暗中，会造成很多细节信息被遮盖，若仅根据相邻像素点的灰度值的相似性就将灰度值调整为一样来达到游程编码思想的效果，会使得细节信息损失较多，则依此进行压缩会丢失大量的信息，也同样会影响到后续字典的建立；因此首先考虑每一帧视频图像中背景的固定性特征，再在后续结合连续帧视频数据运动内容的变化性特征来进行每个数据的信息损失接受程度，进而为后续进行字典的构建以及字典的更新提供参数依据。具体的，首先以任意一个视频帧图像为例，对该视频帧图像中每个像素点根据灰度值进行DBSCAN聚类，得到若干类别，其中DBSCAN聚类中半径本实施例设置为5，最小点数量设置为8，实施者可根据实际情况而定；按照上述方法对每一视频帧图像中的像素点进行聚类，分别得到多个类别，每个类别中都包含对应一个视频帧图像中的多个像素点。进一步的，对每一视频帧图像通过光栅扫描的方法，对每个像素点进行扫描，得到每一视频帧图像对应的数据序列，记为每一视频帧图像的视频数据序列；需要说明的是，每个视频数据序列都有一个视频帧图像扫描得到，即视频数据序列与视频帧图像为一一对应关系，光栅扫描为现有技术，本实施例不再赘述，实施者可根据实际情况选择其他扫描方式进行数据序列的转换；需要说明的是，视频数据序列中的元素数量即为视频帧图像中的像素点数量；扫描得到视频数据序列后，在视频帧图像中属于同一类别的像素点在视频数据序列中对应的若干数据也属于同一类别，则每个视频数据序列同样被划分为多个类别。进一步的，对于任意一个视频帧图像，通过人工方式在服务器中获取该视频帧图像的参考视频图像，其中参考视频图像为仅包含背景部分的相同监控摄像头采集到的图像，及参考视频图像中没有煤矿工人或移动设备等变化部分，通过人工方式筛选获取；按照上述方法获取每一视频帧图像的参考视频图像；需要说明的是，同一张参考视频图像由于没有变化部分，可以作为多个视频帧图像的参考视频图像；对每张参考视频图像同样通过光栅扫描方式得到数据序列，记为参考数据序列，则得到了每个视频数据序列的参考数据序列。进一步的，根据视频数据序列、参考数据序列及每个数据所属类别获取每个视频数据序列中每个数据的固定性特征，将当前视频帧图像的视频数据序列记为当前视频数据序列，当前视频帧图像即为最新采集到的一个视频帧图像，当前视频数据序列中第个数据的固定性特征/＞的计算方法为：其中，/＞表示当前视频数据序列中第/＞个数据的局部范围的数据量，局部范围为第/＞个数据向前及向后各预设数量的相同类别数据，其中预设数量本实施例设置为5，则局部范围的数据量为10；需要说明的是，局部范围仅包括第/＞个数据向前及向后各预设数量的相同类别数据，不包括不同类别的数据；/＞表示当前视频数据序列中第/＞个数据的局部范围内第/＞个数据的数据值，/＞表示当前视频数据序列中第/＞个数据的局部范围内第/＞个数据的位置在当前视频数据序列的参考数据序列中相同位置的数据值，/＞表示以自然常数为底的指数函数，/＞表示求绝对值；第/＞个数据的局部范围内数据在当前视频数据序列和参考数据序列中，相同位置的数据值差异越小，则第/＞个数据相同类别的邻近数据在视频帧图像中的变化越小，为背景部分数据的可能性越大，固定性特征越大，本实施例采用/＞函数来呈现反比例关系及归一化处理，实施者可根据实际情况选择反比例函数及归一化函数；按照上述方法获取每个视频数据序列中每个数据的固定性特征。至此，通过对视频帧图像的像素点根据灰度值进行聚类得到多个类别，并获取每一视频帧图像对应的视频数据序列，结合参考数据序列得到了每个视频数据序列中每个数据的固定性特征，表征了每个数据对应像素点为背景部分的可能性。步骤S003、获取每个视频数据序列与相邻前一帧视频数据序列中不同类别的类别相似度，根据类别相似度获取每个视频数据序列中每个类别的匹配类别，根据类别中数据的分布及匹配类别获取每个类别中每个数据的变化性特征，根据固定性特征及变化性特征获取每个视频数据序列中每个数据的信息损失接受程度。需要说明的是，获取到每个视频数据序列中每个数据的固定性特征后，还需要根据连续帧的视频帧图像进行每个数据的变化性特征的量化；同时视频帧图像已经扫描转换为视频数据序列，相邻两帧视频数据序列的类别不同，首先需要通过类别之间的相似度获取每个视频数据序列中每个类别在前一帧视频数据序列中的匹配类别；结合每个类别的若干数据在视频数据序列中的分布均匀情况，反映同一类别的数据在相邻两帧视频数据序列中的变化，进而量化得到变化性特征，并通过固定性特征及变化性特征得到每个数据的信息损失接受程度。具体的，以当前视频数据序列为例，将当前视频数据序列的相邻前一帧的视频数据序列记为前一视频数据序列，以当前视频数据序列中的类别与前一视频数据序列中的类别/＞为例，获取类别/＞与类别/＞的类别相似度/＞的计算方法为：其中，/＞表示当前数据序列中类别/＞的数据值均值，/＞表示前一数据序列中类别/＞的数据值均值，/＞表示当前数据序列中类别/＞与前一数据序列中类别/＞的数据值协方差，/＞表示当前数据序列中类别/＞的数据值方差，/＞表示前一数据序列中类别/＞的数据值方差，/＞和/＞为计算常数，本实施例中采用和/＞进行计算；通过基于结构相似度的计算方法，计算相邻两帧视频数据序列中不同类别的类别相似度，其中结构相似度为现有技术，本实施例不再赘述；按照上述方法获取当前视频数据序列中类别/＞与前一视频数据序列中每个类别的类别相似度，设置预设第一阈值用于判断相似类别，本实施例预设第一阈值采用0.65进行计算，将当前视频数据序列中类别/＞在前一视频数据序列中类别相似度最大的类别，且类别相似度大于预设第一阈值的类别，作为当前视频数据序列中类别/＞的匹配类别；按照上述方法根据每个视频数据序列与相邻前一帧的视频数据序列中的不同类别，获取每个视频数据序列中每个类别的匹配类别；需要说明的是，存在类别没有匹配类别的情况，本实施例在后续对不存在匹配类别的类别进行说明。进一步的，以当前视频数据序列中的类别为例，获取类别/＞中每个数据在当前视频数据序列中的位置，根据位置获取每相邻两个类别/＞的数据之间的间隔值，间隔值由每个类别/＞的数据的位置减去前一个相邻的类别/＞的数据的位置得到的差值表示，将所有间隔值的均值作为当前视频数据序列中类别/＞的分布间隔均值；按照上述方法获取每个视频数据序列中每个类别的分布间隔均值，分布间隔均值表征了同一类别中不同像素点在视频帧图像中的分布距离，可用于量化类别的变化性特征。进一步的，以当前视频数据序列中的类别为例，其变化性特征/＞的计算方法为：其中，/＞表示当前视频数据序列中类别与前一视频数据序列中匹配类别的分布差异程度，其中分布差异程度通过两个类别的分布间隔均值通过小值比大值得到，/＞表示当前视频数据序列中类别/＞与前一视频数据序列中匹配类别/＞的类别相似度，/＞与/＞表示参考权重，本实施例认为类别相似度与分布差异程度同样重要，则本实施例采用/＞进行计算；类别与匹配类别之前的分布间隔均值差异越大，则分布差异程度越大，类别与匹配类别在相邻两帧视频帧图像中像素点的分布变化就越大，则类别的变化性特征越大；类别相似度越小，表示类别与匹配类别在相邻两帧视频数据序列中的差异越大，类别变化性越大；按照上述方法获取每个视频数据序列中每个类别的变化性特征；特别说明的是，对于不存在匹配类别的类别，本实施例认为其变化性特征达到最大，将这些类别的变化性特征设置为1。进一步需要说明的是，每个类别中的所有数据的变化性特征均基于类别进行量化，则可以通过类别的变化性特征来表征每个类别中每个数据的变化性特征；具体的，将每个类别的变化性特征赋予到每个类别的对应数据中，则得到了每个视频数据序列中每个数据的变化性特征。进一步的，以当前视频数据序列中第个数据为例，其信息损失接受程度/＞的计算方法为：其中，/＞表示当前视频数据序列中第/＞个数据的固定性特征，/＞表示当前视频数据序列中第/＞个数据的变化性特征；固定性特征越大，该数据对应像素点表征固定不变的煤矿背景信息的可能性越大，相应的信息损失接受程度越大；变化性特征越大，该数据对应的像素点表征变化的运动内容的可能性越大，相应的信息损失接受程度越小；按照上述方法获取每个视频数据序列中每个数据的信息损失接受程度。至此，获取到了每个视频数据序列中每个类别的变化性特征，进而得到了每个数据的信息损失接受程度。步骤S004、根据类别对每个视频数据序列进行分段，获取每个分段的内部数据，根据数据值及信息损失接受程度获取每个内部数据的调整基准程度，根据调整基准程度获取初始基准点，根据初始基准点获取每个视频数据序列的每个类别中每个分段的若干子段，根据初始基准点及子段获取每个初始基准点的调整接受程度，根据调整接受程度获取每个视频数据序列的待压缩数据序列。需要说明的是，获取到每个视频数据序列中每个数据的信息损失接受程度后，结合游程编码的思想，为了增加压缩率以及减少检索时间，需要根据数据的信息损失接受程度对视频数据序列中的数据进行调整；而在调整的过程中，首先需要确定初始基准点，即根据哪些数据进行调整，在确定基准点之后进行调整；由于视频数据序列中的同一类且同一个分段中会存在多个初始基准点，则需要根据初始基准点及子段中的数据值来获取第一基准点，进而根据第一基准点得到每个视频数据序列的待压缩数据序列。具体的，以当前视频数据序列为例，每个类别在当前视频数据序列中都不是集中分布，即每个类别在当前视频数据序列中都对应多段数据，则将每个类别的一段数据记为一个分段，得到了当前视频数据序列中每个类别的若干分段；将每个分段除起始数据和终止数据的数据记为每个分段的内部数据，将每个分段的起始数据及终止数据作为对应类别的初始基准点；根据信息损失接受程度及数据值获取每个内部数据的调整基准程度，以当前视频数据序列中第个分段的第/＞个内部数据为例，其调整基准程度/＞的计算方法为：其中，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的信息损失接受程度，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的数据值，/＞表示当前视频数据序列中第/＞个分段的第个内部数据的数据值，/＞表示当前视频数据序列中第/＞个分段的第/＞个内部数据的数据值，/＞表示求绝对值；信息损失接受程度越大，对应像素点为变化部分的可能性越大，作为初始基准点调节其他数据的数据值的可能性越小，调整基准程度越小；与相邻数据的数据值差异越大，同时信息损失接受程度较小，表明属于同一类别内部的分割点的可能性越大，该数据被调整的可能性较小的同时可以作为基准去调节其他数据，则调整基准程度越大；按照上述方法获取每个视频数据序列中每个类别的每个分段的每个内部数据的调整基准程度。进一步的，对每个分段的所有内部数据的调整基准程度分别进行线性归一化，得到的记过记为每个内部数据的调整基准概率，给出预设第二阈值用于判断初始基准点，本实施例预设第二阈值采用0.65进行计算，将调整基准概率大于预设第二阈值的内部数据作为初始基准点，则得到了每个视频数据序列中包含每个分段的起始数据及终止数据的若干初始基准点。进一步需要说明的是，每个分段的内部数据中存在多个初始基准点，同一类别又包括多个分段，则需要首先根据初始基准点获取每个类别的子范围，根据子范围及初始基准点将每个分段划分为若干子段，再根据同一类别中每个初始基准点的数据值及子段调整数据后的分布频率，获取每个初始基准点的调整接受程度，进而得到第一基准点并完成数据调整，得到最终的待压缩数据序列。具体的，以当前视频数据序列的类别为例，获取类别/＞的所有分段的初始基准点，获取每个分段中每相邻两个初始基准点的间隔值，间隔值由初始基准点在当前视频数据序列中的位置得到，将类别/＞的所有间隔值的最小值作为类别/＞的子范围，子范围的最小取值为2；需要说明的是，分段长度存在为1或2的情况，分段长度为1时，分段的起始数据与终止数据为同一个数据，分段长度为2时，起始数据与终止数据紧邻，同时分段中也可能存在紧邻的初始基准点，这些紧邻的初始基准点之间间隔值为1，作为子范围无意义，而分段长度为1的情况，间隔值为0，同样无意义作为子范围，因此将子范围的最小取值设定为2。进一步的，以当前视频数据序列的类别为例，根据子范围对类别/＞的每个分段中每相邻两个初始基准点之间的数据进行划分，得到若干子段；需要说明的是，分段长度为1、分段长度为2及紧邻的初始基准点之间不存在其他数据，无需划分得到子段，且不计入子段数量，而每个子段中不包含初始基准点；同时，以子范围不重叠进行划分，存在相邻两个初始基准点之间的数据不能完全划分，即存在不足子范围内数据量的数个数据，则将相邻两个初始基准点之间的最后一个数据，作为子范围的最后一个数据，向前提取数据直到满足子范围内数据量，得到一个子段；以当前视频数据序列的类别/＞中第/＞个初始基准点为例，其调整接受程度/＞的计算方法为：其中，/＞表示当前视频数据序列的类别/＞的子段数量，/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内的数据值全部调整为当前视频数据序列的类别/＞中第/＞个初始基准点的数据值后，在当前视频数据序列的类别/＞的所有子段中的出现次数；/＞表示当前视频数据序列的类别/＞的子范围，即子范围内数据量；/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内第/＞个数据调整前后数据值的差值绝对值，/＞表示当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内第/＞个数据的信息损失接受程度的归一化值，其中归一化采用softmax归一化函数，归一化过程仅在当前视频数据序列的类别/＞中第/＞个初始基准点之后第一个子段内进行；基于初始基准点对之后第一个子段内数据进行调整后，其在所有子段中的分布频率越大，基于该初始基准点调整后数据冗余量越大，压缩率越大，则调整接受程度越大；调整前后数据差值绝对值越小，信息损失接受程度越大，子段内数据可调整性越大，相应的初始基准点的调整接受程度越大；按照上述方法获取每个视频数据序列中每个类别的若干子段，并根据子段获取每个初始基准点的调整接受程度；需要说明的是，存在不具有子段的初始基准点，即初始基准点之后没有第一个子段，这些初始基准点的调整接受程度为0。进一步的，以当前视频数据序列的类别为例，对于任意相邻两个初始基准点之间的一段数据，获取该两个初始基准点的调整接受程度的最大值，将最大值对应的初始基准点作为该段数据的基准数据，将该段数据的每个数据的数据值调整为基准数据的数据值；按照上述方法对当前视频数据序列的类别/＞的所有分段中的数据根据初始基准点的调整接受程度进行调整；按照上述方法对当前视频数据序列中所有数据进行调整，得到的结果记为当前视频数据序列的待压缩数据序列；需要说明的是，视频数据序列中的初始基准点的数据不会进行调整，仅对相邻两个同类别的初始基准点之间的数据进行调整；按照上述方法获取每个视频数据序列的待压缩数据序列，则到了每一视频帧图像的待压缩数据序列。至此，通过初始基准点的获取及调整接受程度，获取了每一视频帧图像的待压缩数据序列。步骤S005、对每一视频帧图像的待压缩数据序列进行压缩，完成煤矿视频数据的自适应压缩。根据获取的每一视频帧图像的待压缩数据序列，进行自适应LZW压缩；以当前帧图像的待压缩数据序列为例，记为当前待压缩数据序列，获取当前待压缩数据序列的数据量，记为当前数据量，给出初始的预设分割长度，本实施例初始的预设分割长度采用15进行计算，以初始的预设分割长度将当前待压缩数据序列划分为若干分割段，统计每个分割段在所有分割段的出现次数，将出现次数最多的分割段作为初始的预设分割长度下的最优分割段；以预设增长长度对预设分割长度进行递增，本实施例预设增长长度采用1进行计算，最大预设分割长度等于当前数据量，按照上述方法获取每个预设分割长度下的最优分割段，将所有预设分割长度下的最优分割段作为当前待压缩数据序列的初始的LZW压缩算法中的字典，根据字典对当前待压缩数据序列进行LZW算法压缩，得到当前视频帧图像的压缩后数据序列；按照上述方法对每一视频帧图像获取初始的LZW压缩算法中的字典，并压缩得到压缩后数据序列；将每一视频帧图像的压缩后数据序列进行传输，同时传输每一视频帧图像最终的LZW压缩算法中的字典，通过网络从服务器中传输到煤矿视频监控系统终端，实现煤矿的实时监控，即完成了对于煤矿视频数据的自适应压缩及传输。进一步的，煤矿视频监控系统终端接收到当前视频帧图像的压缩后数据序列后，根据LZW算法中的最终的字典，将压缩后数据序列中的第一个数据与字典进行比较，并将转换后的数据添加到解压缩数据序列中，重复执行该步骤，得到解压缩后数据序列；根据得到的解压缩后数据序列，利用之前的扫描方式，按照扫描顺序，进行数据转换，得到的最终结果即为当前视频帧图像；按照上述方法对每一视频帧图像的压缩后数据序列进行解压缩，得到对应的视频帧图像，将每一视频帧图像按照时间顺序排列，终端即解压得到了煤矿视频数据，完成了煤矿视频数据的解压缩。至此，完成了对于煤矿视频数据的自适应压缩。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
