标题title
基于网络隔离的数据传输方法、装置、设备及存储介质
摘要abst
本发明涉及数据处理领域，公开了一种基于网络隔离的数据传输方法、装置、设备及存储介质，用于提高数据隔离传输时的效率。方法包括：获取待传输报文并对待传输报文进行安全级别分析，确定待传输报文的安全级别，对待传输报文的安全级别进行判断，当待传输报文的安全类型为安全时，将待传输报文传输至病毒检测云平台。本发明通过病毒检测云平台对待传输报文进行病毒检测，得到病毒检测结果，对病毒检测结果进行判断，当病毒检测结果为未受病毒入侵时，将待传输报文传输至隔离传输模型中进行传输隔离处理，得到隔离后的待传输报文；对隔离后的待传输报文传输进行解密处理，得到目标传输报文，并将目标传输报文传输至目标终端。
权利要求书clms
1.一种基于网络隔离的数据传输方法，其特征在于，包括如下步骤：获取待传输报文并对所述待传输报文进行安全级别分析，确定所述待传输报文的安全级别，其中，所述安全级别包括安全及危险；对所述待传输报文的安全级别进行判断，当所述待传输报文的安全类型为安全时，将所述待传输报文传输至病毒检测云平台；通过所述病毒检测云平台对所述待传输报文进行病毒检测，得到病毒检测结果，其中，所述病毒检测结果包括已受病毒入侵和未受病毒入侵；对所述病毒检测结果进行判断，当所述病毒检测结果为未受病毒入侵时，将所述待传输报文传输至隔离传输模型中进行传输隔离处理，得到隔离后的待传输报文；对所述隔离后的待传输报文传输进行解密处理，得到目标传输报文，并将所述目标传输报文传输至目标终端。2.根据权利要求1所述的基于网络隔离的数据传输方法，其特征在于，所述获取待传输报文并对所述待传输报文进行安全级别分析，确定所述待传输报文的安全级别步骤，包括：接收所述待传输报文并对所述待传输报文进行特征提取，得到对应的报文特征集合；对所述报文特征集合中每一报文特征依次与预置的入侵报文特征库中每一报文特征进行相似度计算，得到多个相似度计算结果；对所述多个相似度计算结果进行阈值分析，当每一相似度计算结果均未超过预设的阈值时，则确定所述传输报文的安全级别为安全；当所述多个相似度计算结果中任一相似度计算结果超过所述阈值时，则确定所述待传输报文的安全级别为危险。3.根据权利要求1所述的基于网络隔离的数据传输方法，其特征在于，所述通过所述病毒检测云平台对所述待传输报文进行病毒检测，得到病毒检测结果步骤，包括：通过所述病毒检测云平台对所述待传输报文进行检测接口匹配，确定对应的病毒检测接口；通过所述病毒检测接口读取所述待传输报文，并通过所述病毒检测云平台的病毒检测网络对所述待传输报文进行病毒检测，确定对应的病毒检测结果。4.根据权利要求3所述的基于网络隔离的数据传输方法，其特征在于，所述通过所述病毒检测接口读取所述待传输报文，并通过所述病毒检测云平台的病毒检测网络对所述待传输报文进行病毒检测，确定对应的病毒检测结果步骤，包括：通过所述病毒检测接口对所述待传输报文进行特征解析，确定与所述待传输报文对应的文件特征；通过所述病毒检测网络对所述文件特征进行标识匹配，得到对应的特征标识；通过所述病毒检测云平台中预置的病毒数据库对所述特征标识进行特征比对，得到对应的比对结果；基于所述比对结果对所述待传输报文进行检测分析，得到对应的病毒检测结果。5.根据权利要求1所述的基于网络隔离的数据传输方法，其特征在于，所述对所述病毒检测结果进行判断，当所述病毒检测结果为未受病毒入侵时，将所述待传输报文传输至隔离传输模型中进行传输隔离处理，得到隔离后的待传输报文步骤，包括：对所述病毒检测结果进行分析，当所述病毒检测结果为未受病毒入侵时，将所述待传输报文传输至隔离传输模型；通过所述隔离传输模型对所述待传输报文进行数据清洗，得到数据清洗后的待传输报文；对所述数据清洗后的待传输报文进行协议转换，得到协议转换后的待传输报文；对所述协议转换后的待传输报文进行加密处理，得到所述隔离后的待传输报文。6.根据权利要求5所述的基于网络隔离的数据传输方法，其特征在于，所述通过所述隔离传输模型对所述待传输报文进行数据清洗，得到数据清洗后的待传输报文步骤，包括：对所述待传输报文进行敏感词过滤，得到敏感词过滤后的待传输报文；对所述敏感词过滤后的待传输报文进行错误字符过滤处理，得到候选待传输报文；对所述候选待传输报文进行基于文件类型的过滤处理，得到所述数据清洗后的待传输报文。7.根据权利要求1-6中任一项所述的基于网络隔离的数据传输方法，其特征在于，所述将所述隔离后的待传输报文传输进行解密处理，得到目标传输报文，并将所述目标传输报文传输至目标终端步骤，包括：对所述隔离后的待传输报文进行数据流转换，得到对应的数据流文件；对所述数据流文件进行解析还原，得到待定义的待传输报文；对所述待定义的待传输报文进行格式定义，得到格式定义后的待传输报文；对所述格式定义后的待传输报文进行协议逆转换，得到目标传输报文；将所述目标传输报文传输至目标终端。8.一种基于网络隔离的数据传输装置，用以执行如权利要求1至7任一项所述的基于网络隔离的数据传输方法，其特征在于，包括：获取模块，用于获取待传输报文并对所述待传输报文进行安全级别分析，确定所述待传输报文的安全级别，其中，所述安全级别包括安全及危险；传输模块，用于对所述待传输报文的安全级别进行判断，当所述待传输报文的安全类型为安全时，将所述待传输报文传输至病毒检测云平台；检测模块，用于通过所述病毒检测云平台对所述待传输报文进行病毒检测，得到病毒检测结果，其中，所述病毒检测结果包括已受病毒入侵和未受病毒入侵；隔离模块，用于对所述病毒检测结果进行判断，当所述病毒检测结果为未受病毒入侵时，将所述待传输报文传输至隔离传输模型中进行传输隔离处理，得到隔离后的待传输报文；解密模块，用于将所述隔离后的待传输报文传输进行解密处理，得到目标传输报文，并将所述目标传输报文传输至目标终端。9.一种电子设备，其特征在于，包括：存储器和处理器，所述存储器和所述处理器之间互相通信连接，所述存储器中存储有计算机指令，所述处理器通过执行所述计算机指令，从而执行权利要求1-7中任一项所述的基于网络隔离的数据传输方法。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机指令，所述计算机指令用于使计算机执行权利要求1-7中任一项所述的基于网络隔离的数据传输方法。
说明书desc
技术领域本发明涉及数据处理领域，尤其涉及一种基于网络隔离的数据传输方法、装置、设备及存储介质。背景技术伴随互联网技术的发展，不同的网络通常会设定不同的密级，互联网连接到全世界，是安全密级最低的网络，同时也是最不安全的网络，通常在办公场景下，需要保证数据的安全性和可靠性，存在将需要将外网数据复制到内网的情况，为保证安全，不能直接通过通用的网络设备传输，必须要建立专用的隔离的数据通道，将外网计数据传输到内网。现有的安全隔离与信息单向导入系统，一般只具备数据隔离传输能力，不具备网络安全防护能力，并且基于专用硬件实现的，这样的设备用于隔离数据传输时，一般需要部署在防火墙或其它网络安全防护设备后面，通过防火墙或其它网络安全防护设备来保护单向光闸设备不受网络攻击，从而导致在数据隔离传输过程中，保障数据传输安全性的效率较低。发明内容有鉴于此，本发明实施例提供了一种基于网络隔离的数据传输方法、装置、设备及存储介质，解决了数据隔离传输时效率较低的技术问题。本发明第一方面提供了一种基于网络隔离的数据传输方法，包括：获取待传输报文并对所述待传输报文进行安全级别分析，确定所述待传输报文的安全级别，其中，所述安全级别包括安全及危险；对所述待传输报文的安全级别进行判断，当所述待传输报文的安全类型为安全时，将所述待传输报文传输至病毒检测云平台；通过所述病毒检测云平台对所述待传输报文进行病毒检测，得到病毒检测结果，其中，所述病毒检测结果包括已受病毒入侵和未受病毒入侵；对所述病毒检测结果进行判断，当所述病毒检测结果为未受病毒入侵时，将所述待传输报文传输至隔离传输模型中进行传输隔离处理，得到隔离后的待传输报文；将所述隔离后的待传输报文传输进行解密处理，得到目标传输报文，并将所述目标传输报文传输至目标终端。本发明提供的基于网络隔离的数据传输方法，获取待传输报文并对所述待传输报文进行安全级别分析，确定所述待传输报文的安全级别，通过预先对待传输报文进行特征分析，确定安全级别，可以有效的从源头上避免在传输报文时产生资料泄露及病毒入侵的情况，进一步提升在传输报文过程中的安全性，通过病毒检测云平台对所述待传输报文进行病毒检测，得到病毒检测结果，其中，首先确认数据读取接口，可以在进行病毒检测时提升对不同类型文件检测的准确性，避免因传输文件与接口类型不匹配的情况，提升数据传输的效率，并进一步通过匹配后的接口进行病毒检测，则可以提升在病毒检测时的效率，并提升在病毒检测时数据分类传输和分类检测的并行效率，通过对待传输文件进行病毒检测，可以避免对包含病毒的待传输文件进行传输，降低传输文件过程中遭受病毒入侵的风险，同时对待传输文件进行协议转换，确定出隔离后的待传输文件，可以有效提升文件在内外网传输过程中的安全性，本申请实施例中，即保证了文件隔离传输的安全性，也预先对待传输文件进行安全性检测，可以进一步提升数据传输的可靠性和安全性。结合第一方面，在第一方面的第一实施方式中，所述获取待传输报文并对所述待传输报文进行安全级别分析，确定所述待传输报文的安全级别步骤，包括：接收所述待传输报文并对所述待传输报文进行特征提取，得到对应的报文特征集合；对所述报文特征集合中每一报文特征依次与预置的入侵报文特征库中每一报文特征进行相似度计算，得到多个相似度计算结果；对所述多个相似度计算结果进行阈值分析，当每一相似度计算结果均未超过预设的阈值时，则确定所述传输报文的安全级别为安全；当所述多个相似度计算结果中任一相似度计算结果超过所述阈值时，则确定所述待传输报文的安全级别为危险。本方案中，对待传输报文进行报文特征提取，并且对不同的报文特征进行相似度计算，并通过预置的阈值进行危险级别分析，可以提升对不同类型报文安全性分析的准确度，并且根据不同类型设置不同的阈值，可以在报文分析时具有更强的准确性。结合第一方面的第一实施方式，在第一方面的第二实施方式中，所述通过所述病毒检测云平台对所述待传输报文进行病毒检测，得到病毒检测结果步骤，包括：通过所述病毒检测云平台对所述待传输报文进行检测接口匹配，确定对应的病毒检测接口；通过所述病毒检测接口读取所述待传输报文，并通过所述病毒检测云平台的病毒检测网络对所述待传输报文进行病毒检测，确定对应的病毒检测结果。在本方案中，通过样本集对病毒检测网络进行训练，此处可以根据不同类型的需求确定相应的样本集，可以更具有针对性的对上述病毒检测网络进行训练，在提升网络训练效率的同时，进一步的提升病毒检测网络在进行病毒检测时的准确性与运行时的鲁棒性。结合第一方面的第二实施方式，在第一方面的第三实施方式中，所述通过所述病毒检测接口读取所述待传输报文，并通过所述病毒检测云平台的病毒检测网络对所述待传输报文进行病毒检测，确定对应的病毒检测结果步骤，包括：通过所述病毒检测接口对所述待传输报文进行特征解析，确定与所述待传输报文对应的文件特征；通过所述病毒检测网络对所述文件特征进行标识匹配，得到对应的特征标识；通过所述病毒检测云平台中预置的病毒数据库对所述特征标识进行特征比对，得到对应的比对结果；基于所述比对结果对所述待传输报文进行检测分析，得到对应的病毒检测结果。本方案中，可以通过对待传输文件中的图像信息进行特征比对，也可以对待传输文件中的字符信息进行病毒特征比对，可以有效提升在病毒检测时的准确性。结合第一方面，在第一方面的第四实施方式中，所述对所述病毒检测结果进行判断，当所述病毒检测结果为未受病毒入侵时，将所述待传输报文传输至隔离传输模型中进行传输隔离处理，得到隔离后的待传输报文步骤，包括：对所述病毒检测结果进行分析，当所述病毒检测结果为未受病毒入侵时，将所述待传输报文传输至隔离传输模型；通过所述隔离传输模型对所述待传输报文进行数据清洗，得到数据清洗后的待传输报文；对所述数据清洗后的待传输报文进行协议转换，得到协议转换后的待传输报文；对所述协议转换后的待传输报文进行加密处理，得到所述隔离后的待传输报文。结合第一方面的第四实施方式，在第一方面的第五实施方式中，所述通过所述隔离传输模型对所述待传输报文进行数据清洗，得到数据清洗后的待传输报文步骤，包括：对所述待传输报文进行敏感词过滤，得到敏感词过滤后的待传输报文；对所述敏感词过滤后的待传输报文进行错误字符过滤处理，得到候选待传输报文；对所述候选待传输报文进行基于文件类型的过滤处理，得到所述数据清洗后的待传输报文。本方案中，在进行敏感字符识别与错误字符识别时，可以采取不同的识别策略，通过采取不同的字符识别策略判断需要过滤的不同类型字符，提升针对不同类型字符识别的准确率，则进一步提升对待传输报文进行安全性分析及传输的效率和准确率。结合第一方面或第一方面的第一至第五任一实施方式，在第一方面的第五实施方式中，所述将所述隔离后的待传输报文传输进行解密处理，得到目标传输报文，并将所述目标传输报文传输至目标终端步骤，包括：对所述隔离后的待传输报文进行数据流转换，得到对应的数据流文件；对所述数据流文件进行解析还原，得到待定义的待传输报文；对所述待定义的待传输报文进行格式定义，得到格式定义后的待传输报文；对所述格式定义后的待传输报文进行协议逆转换，得到目标传输报文；将所述目标传输报文传输至目标终端。根据第二方面，本发明实施例提供了一种基于网络隔离的数据传输装置，包括：获取模块，用于获取待传输报文并对所述待传输报文进行安全级别分析，确定所述待传输报文的安全级别，其中，所述安全级别包括安全及危险；传输模块，用于对所述待传输报文的安全级别进行判断，当所述待传输报文的安全类型为安全时，将所述待传输报文传输至病毒检测云平台；检测模块，用于通过所述病毒检测云平台对所述待传输报文进行病毒检测，得到病毒检测结果，其中，所述病毒检测结果包括已受病毒入侵和未受病毒入侵；隔离模块，用于对所述病毒检测结果进行判断，当所述病毒检测结果为未受病毒入侵时，将所述待传输报文传输至隔离传输模型中进行传输隔离处理，得到隔离后的待传输报文；解密模块，用于将所述隔离后的待传输报文传输进行解密处理，得到目标传输报文，并将所述目标传输报文传输至目标终端。根据第三方面，本发明实施例提供了一种电子设备，包括：存储器和处理器，所述存储器和所述处理器之间互相通信连接，所述存储器中存储有计算机指令，所述处理器通过执行所述计算机指令，从而执行第一方面或者第一方面的任意一种实施方式中所述的基于网络隔离的数据传输方法，或者执行第二方面或者第二方面的任意一种实施方式中所述的基于网络隔离的数据传输方法。根据第四方面，本发明实施例提供了一种计算机可读存储介质，所述计算机可读存储介质存储计算机指令，所述计算机指令用于使所述计算机执行第一方面或者第一方面的任意一种实施方式中所述的基于网络隔离的数据传输方法，或者执行第二方面或者第二方面的任意一种实施方式中所述的基于网络隔离的数据传输方法。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例中基于网络隔离的数据传输方法的流程图；图2为本发明实施例中对待传输报文进行病毒检测的流程图；图3为本发明实施例中将所述待传输报文传输至隔离传输模型中进行传输隔离处理的流程图；图4为本发明实施例中对所述隔离后的待传输报文传输进行解密处理的流程图；图5为本发明实施例中基于网络隔离的数据传输装置的示意图；图6为本发明实施例提供的电子设备的硬件结构示意图。附图标记：501、获取模块；502、传输模块；503、检测模块；504、隔离模块；505、解密模块；601、处理器；602、存储器。具体实施方式下面将结合附图对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在本发明的描述中，需要说明的是，术语“中心”、“上”、“下”、“左”、“右”、“竖直”、“水平”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，术语“第一”、“第二”、“第三”仅用于描述目的，而不能理解为指示或暗示相对重要性。此外，下面所描述的本发明不同实施方式中所涉及的技术特征只要彼此之间未构成冲突就可以相互结合。为便于理解，下面对本发明实施例的具体流程进行描述，请参阅图1，图1是本发明实施例的基于网络隔离的数据传输方法的流程图，如图1所示，该流程图包括以下步骤：步骤S101：获取待传输报文并对待传输报文进行安全级别分析，确定待传输报文的安全级别，其中，安全级别包括安全及危险；可以理解的是，本发明的执行主体可以为基于网络隔离的数据传输装置，还可以是终端或者服务器，具体此处不做限定。本发明实施例以服务器为执行主体为例进行说明。需要说明的是，服务器对接收到的待传输报文进行报文特征提取，在进行特征提取时，服务器首先对该待传输报文的传输协议进行扫描，确定与该待传输报文匹配的传输协议，其中，该传输协议包括但不限于TCP/IP传输协议，进而服务器根据预置的特征提取器对待传输报文进行特征提取，需要说明的是，该报文特征具体可以包括源端口、目的端口、源IP地址、目的IP地址和从该待传输报文中提取到的预设类型的报文字符，进而服务器将提取的报文特征和入侵报文特征库中的报文特征进行匹配，根据匹配结果进行安全级别分析，例如，当本申请实施例中从该待传输报文中提取到的源端口与上述入侵报文特征中的危险源端口一致时，则判定该待传输报文为入侵报文，同时确定该待传输报文的安全级别为危险，并进一步对该待传输报文进行阻断，避免单向传输系统收到攻击，本申请实施例中，通过预先对待传输报文进行特征分析，确定安全级别，可以有效的从源头上避免在传输报文时产生资料泄露及病毒入侵的情况，进一步提升在传输报文过程中的安全性。步骤S102：对待传输报文的安全级别进行判断，当待传输报文的安全类型为安全时，将待传输报文传输至病毒检测云平台；需要说明的是，本步骤中服务器对该待传输报文的安全级别进行确定，若该待传输报文的安全级别为安全，则服务器将该待传输报文传输至病毒检测云平台，其中，该病毒检测云平台中内置有多个病毒数据库，并按照预设的时间段对该病毒数据库进行更新，可以在后续对该待传输报文进行病毒检测时提升病毒检测的时效性，避免因数据更新不及时而导致病毒漏检的情况。步骤S103：通过病毒检测云平台对待传输报文进行病毒检测，得到病毒检测结果，其中，病毒检测结果包括已受病毒入侵和未受病毒入侵；需要说明的是，在该病毒检测云平台中，多个病毒数据库对外提供病毒检测接口，本步骤中，服务器首先对该待传输报文进行传输接口匹配，在接口匹配的过程中，服务器首先对该待传输文件进行文件类型分析，当确定该待传输文件的文件类型后，通过文件类型进行接口匹配，确定对应的病毒检测接口，进一步服务器，通过该病毒检测接口读取该待传输文件，并通过病毒检测云平台中的病毒检测网络进行病毒检测，确定对应的病毒检测结果，本申请实施例中，在进行病毒检测前，首先确认数据读取接口，可以在进行病毒检测时提升对不同类型文件检测的准确性，避免因传输文件与接口类型不匹配的情况，提升数据传输的效率，并进一步通过匹配后的接口进行病毒检测，则可以提升在病毒检测时的效率，并提升在病毒检测时数据分类传输和分类检测的并行效率。步骤S104：对病毒检测结果进行判断，当病毒检测结果为未受病毒入侵时，将待传输报文传输至隔离传输模型中进行传输隔离处理，得到隔离后的待传输报文；具体的，服务器通过病毒检测接口接收通过入侵报文检测和病毒检查的数据，把数据放到处理队列中，进一步服务器对接收到的待传输报文进行过滤处理，包括敏感词过滤，文件类型过滤，并对已有的TCP/IP传输通道进行协议转换，确定隔离后的带传输文件，并将该待传输文件通过内外网之间的私有协议进行传输，本申请实施例中，通过对待传输文件进行病毒检测，可以避免对包含病毒的待传输文件进行传输，降低传输文件过程中遭受病毒入侵的风险，同时对待传输文件进行协议转换，确定出隔离后的待传输文件，可以有效提升文件在内外网传输过程中的安全性。需要说明的是，在进行协议转换时，服务器首先获取原有TCP/IP协议报文的Payload数据，其中，该Payload数据是一种以Json格式进行数据传输的一种方式，进而服务器对Payload报文进行加密、在进行私有协议封装。在本申请实施例中，当病毒检测结果为已受病毒入侵时，则丢弃数据。步骤S105：将隔离后的待传输报文传输进行解密处理，得到目标传输报文，并将目标传输报文传输至目标终端。具体的，服务器接收通过私有协议传输的待传输报文传输，把待传输报文传输放到处理队列中，进一步对接收到的待传输报文传输进行解密、再根据私有协议格式定义，解析接收到的数据，获取其中的原始Payload数据，在把原始Payload报文按照TCP/IP格式报文进行封装，并将目标传输报文传输至目标终端。通过执行上述步骤，获取待传输报文并对待传输报文进行安全级别分析，确定待传输报文的安全级别，通过预先对待传输报文进行特征分析，确定安全级别，可以有效的从源头上避免在传输报文时产生资料泄露及病毒入侵的情况，进一步提升在传输报文过程中的安全性，通过病毒检测云平台对待传输报文进行病毒检测，得到病毒检测结果，其中，首先确认数据读取接口，可以在进行病毒检测时提升对不同类型文件检测的准确性，避免因传输文件与接口类型不匹配的情况，提升数据传输的效率，并进一步通过匹配后的接口进行病毒检测，则可以提升在病毒检测时的效率，并提升在病毒检测时数据分类传输和分类检测的并行效率，通过对待传输文件进行病毒检测，可以避免对包含病毒的待传输文件进行传输，降低传输文件过程中遭受病毒入侵的风险，同时对待传输文件进行协议转换，确定出隔离后的待传输文件，可以有效提升文件在内外网传输过程中的安全性，本申请实施例中，即保证了文件隔离传输的安全性，也预先对待传输文件进行安全性检测，可以进一步提升数据传输的可靠性和安全性。在一具体实施例中，执行步骤S101的过程可以具体包括如下步骤：接收待传输报文并对待传输报文进行特征提取，得到对应的报文特征集合；对报文特征集合中每一报文特征依次与预置的入侵报文特征库中每一报文特征进行相似度计算，得到多个相似度计算结果；对多个相似度计算结果进行阈值分析，当每一相似度计算结果均未超过预设的阈值时，则确定传输报文的安全级别为安全；当多个相似度计算结果中任一相似度计算结果超过阈值时，则确定待传输报文的安全级别为危险。具体的，服务器接收待传输报文并对待传输报文进行特征提取，得到对应的报文特征集合，该报文特征具体可以包括源端口、目的端口、源IP地址、目的IP地址和从该待传输报文中提取到的预设类型的报文字符，进一步服务器将报文特征与入侵报文特征库中的特征字符串进行多模式字符串匹配，如果被检测报文特征和入侵报文特征库中的某一个特征字符串匹配成功，则说明该报文特征存在威胁，也即该待传输报文的危险级别为危险。其中，在对报文特征进行相似度计算中，服务器将报文特征进行相似度计算，可以根据需要对不同类型的字符及报文特征设置不同的权重数值，例如同一类型字符串在字符首位、末位通常包含该类字符的通用字符，可以对字符首位、末位的若干字节字符赋予较高权重，进行计算得到多个相似度计算结果，并对对多个相似度计算结果进行阈值分析，当每一相似度计算结果均未超过预设的阈值时，则确定传输报文的安全级别为安全，当多个相似度计算结果中任一相似度计算结果超过阈值时，则确定待传输报文的安全级别为危险，需要说明的是，该阈值可以灵活设置，可以根据不同类型的报文特征设置不同的相似度阈值，具体实施时，可以根据相似度算法计算得到报文特征相似度，本申请实施例中，服务器对待传输报文进行报文特征提取，并且对不同的报文特征进行相似度计算，并通过预置的阈值进行危险级别分析，可以提升对不同类型报文安全性分析的准确度，并且根据不同类型设置不同的阈值，可以在报文分析时具有更强的准确性。在一具体实施例中，如图2所示，执行步骤S103的过程可以具体包括如下步骤：S201：通过病毒检测云平台对待传输报文进行检测接口匹配，确定对应的病毒检测接口；S202：通过病毒检测接口读取待传输报文，并通过病毒检测云平台的病毒检测网络对待传输报文进行病毒检测，确定对应的病毒检测结果。具体的，在该病毒检测云平台中，多个病毒数据库对外提供病毒检测接口，本步骤中，服务器首先对该待传输报文进行传输接口匹配，在接口匹配的过程中，服务器首先对该待传输文件进行文件类型分析，当确定该待传输文件的文件类型后，通过文件类型进行接口匹配，确定对应的病毒检测接口，进一步服务器通过该病毒检测接口读取该待传输报文。需要说明的是，在读取该待传输报文的过程中，首先构造与该待传输文件的文件数据，例如，服务器可以通过Open函数进行构造传输文件数据，其中，该Open函数用于打开和创建文件，同时服务器发送对应的文件传输请求，并通过该病毒检测接口响应该文件传输请求，将该传输文件数据以预设参数形式进行传输，将文件数据以 Files 参数传入，进一步的，服务器通过上述病毒检测云平台的病毒检测网络进行病毒检测，需要说明的是，该病毒检测网络可以为多种神经网络，包括但不限于长短期记忆人工神经网络模型、双向长短时记忆神经网络、卷积神经网络等，其中，在进行病毒检测之前，需要根据样本集对病毒检测网络进行训练，进而服务器通过病毒检测云平台的病毒检测网络对待传输报文进行病毒检测，确定对应的病毒检测结果，由于在上述病毒检测云平台的多个数据库中存有多种病毒特征，则服务器通过该多种病毒特征对待传输文件进行特征比对，确定相应的病毒检测结果，在本申请实施例中，服务器首先通过样本集对病毒检测网络进行训练，此处可以根据不同类型的需求确定相应的样本集，例如，当传输文件类型为财务类型文件时，则选取与财务文件类型相对应的病毒样本集，当传输文件类型为工程类型文件时，则选取与工程类型文件对应的病毒样本集，可以更具有针对性的对上述病毒检测网络进行训练，在提升网络训练效率的同时，进一步的提升病毒检测网络在进行病毒检测时的准确性与运行时的鲁棒性。在一具体实施例中，执行步骤S202的过程可以具体包括如下步骤：通过病毒检测接口对待传输报文进行特征解析，确定与待传输报文对应的文件特征；通过病毒检测网络对文件特征进行标识匹配，得到对应的特征标识；通过病毒检测云平台中预置的病毒数据库对特征标识进行特征比对，得到对应的比对结果；基于比对结果对待传输报文进行检测分析，得到对应的病毒检测结果。具体的，服务器识别待传输报文的协议特征，并根据预置的报文协议配置信息，确定协议特征所属的协议特征组，则得到与待传输报文对应的文件特征，进而服务器通过该病毒检测网络对该文件特征进行标识匹配，需要说明的是，该标识用于指示待传输文件中的文件特征，例如，服务器可以对该待传输文件进行图像采集，得到与该待传输文件对应的文件图像，并对该文件图像进行二值化处理，确定对应的多个二值化图像，并将该多个二值化图像作为上述文件特征，进一步的，服务器通过该病毒检测网络对该多个二值化图像进行病毒标识匹配，当确定对应的特征标识后，服务器通过病毒检测云平台中预置的病毒数据库对特征标识进行特征比对，得到对应的比对结果。可选的，服务器在进行病毒特征比对时，还可以对待传输文件与病毒特征中字符串中特征子串进行特征比对，得到对应的比对结果，在服务器基于比对结果对待传输报文进行检测分析，得到对应的病毒检测结果时，服务器根据比对结果判断该待传输文件中是否存在病毒。本申请实施例中，服务器既可以通过对待传输文件中的图像信息进行特征比对，也可以对待传输文件中的字符信息进行病毒特征比对，可以有效提升在病毒检测时的准确性。在一具体实施例中，如图3所示，上述的步骤S104，具体包括如下步骤：S301：对病毒检测结果进行分析，当病毒检测结果为未受病毒入侵时，将待传输报文传输至隔离传输模型；S302：通过隔离传输模型对待传输报文进行数据清洗，得到数据清洗后的待传输报文；具体的，本步骤中服务器在对待传输报文进行数据清洗时，服务器按照预设区域对该待传输报文进行图像采集，确定对应的多个区域图像，并对该多个区域图像进行进行OCR字符识别，确定出该待传输报文中的重复词和错误字符，同时对该重复词即错误字符进行剔除处理，获得数据清洗后的待传输报文。S303：对数据清洗后的待传输报文进行协议转换，得到协议转换后的待传输报文；S304：对协议转换后的待传输报文进行加密处理，得到隔离后的待传输报文。需要说明的是，本申请实施例中，在进行协议转换时，服务器切断已有的TCP/IP传输通道，把数据通过内外网之间的私有协议进行传输，并获取原有TCP/IP协议报文的Payload数据，对Payload报文进行加密，同时直接以FTP方式发起传输请求，实现隔断内外网之间的文件安全传输，保证物理系统之间既能实现文件的传输。在一具体实施例中，上述的步骤S302，具体包括如下步骤：对待传输报文进行敏感词过滤，得到敏感词过滤后的待传输报文；对敏感词过滤后的待传输报文进行错误字符过滤处理，得到候选待传输报文；对候选待传输报文进行基于文件类型的过滤处理，得到数据清洗后的待传输报文。具体的，服务器从待传输报文的第一个字符进行OCR字符识别，然后比较扫描到的字符与敏感词字符串中的字符是否相同，同时进行错误字符识别，需要说明的是，在进行敏感字符识别与错误字符识别时，可以采取不同的识别策略，例如，当识别敏感字符时，需要同时对两个或两个以上字符进行合并识别，在对错误字符识别时，则只需对单个字符进行识别，通过采取不同的字符识别策略判断需要过滤的不同类型字符，提升针对不同类型字符识别的准确率，则进一步提升对待传输报文进行安全性分析及传输的效率和准确率。在一具体实施例中，如图4所示，上述的步骤S105，具体包括如下步骤：S401：对隔离后的待传输报文进行数据流转换，得到对应的数据流文件；S402：对数据流文件进行解析还原，得到待定义的待传输报文；S403：对待定义的待传输报文进行格式定义，得到格式定义后的待传输报文；S404：对格式定义后的待传输报文进行协议逆转换，得到目标传输报文；S405：将目标传输报文传输至目标终端。需要说明的是，服务器对隔离后的待传输报文进行数据流转换，其中，服务器根据所接收的待传输报文获取预置数据流中的数据报文，并根据数据流中的首个字符特征进行转换策略匹配，并建立转换关系映射表，同时进行数据流转换，得到对应的数据流文件，同时确定对应的私有协议格式，对待定义的待传输报文进行格式定义，得到进行私有协议封装的待传输协议，也即上述格式定以后的待传输报文，进而在内网服务端中对格式定义后的待传输报文进行协议逆转换，确定最终的目标传输报文，最终将该目标传输报文传输至目标终端。本发明实施例还提供了一种基于网络隔离的数据传输装置，如图5所示，该基于网络隔离的数据传输装置具体包括：获取模块501，用于获取待传输报文并对所述待传输报文进行安全级别分析，确定所述待传输报文的安全级别，其中，所述安全级别包括安全及危险；传输模块502，用于对所述待传输报文的安全级别进行判断，当所述待传输报文的安全类型为安全时，将所述待传输报文传输至病毒检测云平台；检测模块503，用于通过所述病毒检测云平台对所述待传输报文进行病毒检测，得到病毒检测结果，其中，所述病毒检测结果包括已受病毒入侵和未受病毒入侵；隔离模块504，用于对所述病毒检测结果进行判断，当所述病毒检测结果为未受病毒入侵时，将所述待传输报文传输至隔离传输模型中进行传输隔离处理，得到隔离后的待传输报文；解密模块505，用于将所述隔离后的待传输报文传输进行解密处理，得到目标传输报文，并将所述目标传输报文传输至目标终端。上述各个模块的更进一步的功能描述与上述对应方法实施例相同，在此不再赘述。通过上述各个组成部分的协同合作，获取待传输报文并对所述待传输报文进行安全级别分析，确定所述待传输报文的安全级别，通过预先对待传输报文进行特征分析，确定安全级别，可以有效的从源头上避免在传输报文时产生资料泄露及病毒入侵的情况，进一步提升在传输报文过程中的安全性，通过所述病毒检测云平台对所述待传输报文进行病毒检测，得到病毒检测结果，其中，首先确认数据读取接口，可以在进行病毒检测时提升对不同类型文件检测的准确性，避免因传输文件与接口类型不匹配的情况，提升数据传输的效率，并进一步通过匹配后的接口进行病毒检测，则可以提升在病毒检测时的效率，并提升在病毒检测时数据分类传输和分类检测的并行效率，通过对待传输文件进行病毒检测，可以避免对包含病毒的待传输文件进行传输，降低传输文件过程中遭受病毒入侵的风险，同时对待传输文件进行协议转换，确定出隔离后的待传输文件，可以有效提升文件在内外网传输过程中的安全性，本申请实施例中，即保证了文件隔离传输的安全性，也预先对待传输文件进行安全性检测，可以进一步提升数据传输的可靠性和安全性。本发明实施例还提供了一种电子设备，如图6所示，该电子设备可以包括处理器601和存储器602，其中处理器601和存储器602可以通过总线或者其他方式连接，图6中以通过总线连接为例。处理器601可以为中央处理器。处理器601还可以为其他通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等芯片，或者上述各类芯片的组合。存储器602作为一种非暂态计算机可读存储介质，可用于存储非暂态软件程序、非暂态计算机可执行程序以及模块，如本发明实施例中的方法所对应的程序指令/模块。处理器601通过运行存储在存储器602中的非暂态软件程序、指令以及模块，从而执行处理器的各种功能应用以及数据处理，即实现上述方法。存储器602可以包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需要的应用程序；存储数据区可存储处理器601所创建的数据等。此外，存储器602可以包括高速随机存取存储器，还可以包括非暂态存储器，例如至少一个磁盘存储器件、闪存器件、或其他非暂态固态存储器件。在一些实施例中，存储器602可选包括相对于处理器601远程设置的存储器，这些远程存储器可以通过网络连接至处理器601。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。一个或者多个模块存储在存储器602中，当被处理器601执行时，执行上述方法。本发明实施例还提供了一种非暂态计算机存储介质，计算机存储介质存储有计算机可执行指令，该计算机可执行指令可执行上述任意方法实施例中的人员统计方法。其中，存储介质可为磁碟、光盘、只读存储记忆体、随机存储记忆体、快闪存储器、硬盘或固态硬盘、随机存储记忆体、快闪存储器、硬盘或固态硬盘（Solid-State Drive，SSD)等；存储介质还可以包括上述种类的存储器的组合。以上实施例仅用以说明本发明的技术方案而非对其限制，尽管参照上述实施例对本发明进行了详细的说明，所属领域的普通技术人员应当理解：依然可以对本发明的具体实施方式进行修改或者等同替换，而未脱离本发明精神和范围的任何修改或者等同替换，其均应涵盖在本发明的权利要求范围当中。
