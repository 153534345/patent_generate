标题title
相干光通信本振光与信号光任意频差锁定算法
摘要abst
本申请公开相干光通信本振光与信号光任意频差锁定算法，属于相干光通信本振光锁频技术领域，包括以下步骤：90°光混频器接收信号光与本振光，并输出四路拍频光，两路进入第一平衡探测器，经减法运算后输出I路电信号，另两路进入第二平衡探测器，经减法运算后输出Q路电信号，第一平衡探测器和第二平衡探测器均输出为交流耦合，共模抑制比均大于25dB；I+和Q+光信号经过均衡检测后转换为两路正信号进入接收端进行信号处理，获得发送端电信号，I‑和Q‑光信号经过均衡检测后被ADC采样进入FPGA进行算法锁频，经算法运算后输出两路电信号对本振激光器进行调频，一路对本振光进行频率粗调，一路通过DAC对IQ外调制器中的本振光进行精细频率控制，锁频精度高。
权利要求书clms
1.相干光通信本振光与信号光任意频差锁定算法，适用于调制格式为QPSK的信号光，其特征在于，包括以下步骤：S10，90°光混频器接收信号光与本振光，并输出0°、90°、180°、270°四路拍频光，其中0°拍频光与180°拍频光进入第一平衡探测器，经所述第一平衡探测器减法运算后输出I路电信号，其中90°拍频光与270°拍频光进入第二平衡探测器，经所述第二平衡探测器减法运算后输出Q路电信号，所述第一平衡探测器和所述第二平衡探测器均输出为交流耦合，且所述第一平衡探测器和所述第二平衡探测器的共模抑制比均大于25dB；S20，I+和Q+光信号经过均衡检测后转换为两路正信号进入接收端进行信号处理，获得发送端电信号，I-和Q-光信号经过均衡检测后被ADC采样进入FPGA进行算法锁频，在FPGA内经算法运算后输出两路电信号对本振激光器进行调频，其中一路通过FPGA输出频率码字对本振激光器的控制电路进行粗控制，从而对本振光进行频率粗调，另一路通过DAC对IQ外调制器中的本振光进行精细频率控制。2.如权利要求1所述相干光通信本振光与信号光任意频差锁定算法，其特征在于，步骤S20中，所述I-和Q-光信号经过均衡检测后被ADC采样进入FPGA进行算法锁频具体包括：S21，对被ADC采集到的I-和Q-两路电信号进行去直流和幅度均衡处理；S22，对前述两路电信号做复数化处理，形成复数离散信号，然后进行快速傅里叶变换得到信号光与本振光的多倍载波实时频差，然后对计算的频点值除以倍数，即可得到信号光与与本振光的实时频差，其中傅里叶变换被定义为FFT；S23，在本振光与信号光的频差adcfft/4-f0在对应锁频宽带范围内时，开启锁频，其中所述对应多频宽带范围为大于-125MHz，且小于+125MHz。3.如权利要求2所述相干光通信本振光与信号光任意频差锁定算法，其特征在于，在步骤S21中，两路电信号的表达式分别为：其中，kS与kLO分别为使用2×4 90°桥接器的信号光分功率比与本振光分功率比，kS＝kLO＝0.5，R为平衡探测器响应度，r为探测器跨阻，nI和nQ分别为I路与Q路加性噪声，对两路电信号做同步采样，并将kS＝kLO＝0.5代入后，两路电信号变为：其中，k为两路同步采样的ADC的采样序号，Ts为两路ADC采样的最小间隔时间，Δω＝ωS-ωLO为信号光与本振光实时频差。4.如权利要求3所述相干光通信本振光与信号光任意频差锁定算法，其特征在于，在步骤S22中，对复数化的信号做四次方运算，运算后数据位宽变为43bit，即VQPforth＝4≈A4expk·Ts)；对所述复数离散信号进行FFT处理，得到信号光与本振光的四倍载波实时频差4Δω，然后对计算的频点值除以4得到信号光与本振光的实时频差Δω。5.如权利要求4所述相干光通信本振光与信号光任意频差锁定算法，其特征在于，所述对复数化的信号做四次方运算，具体为：对复数化的信号先做21位的截位，后去一位高位同样做65536点、位宽为21bit的FFT，然后对所求得的频点值除以4，即为本振光载波与信号光实时频差，其中初始锁频点为f0＝3.9MHz。6.如权利要求3所述相干光通信本振光与信号光任意频差锁定算法，其特征在于，在开始计算正确的FFT时，首先将DAC输出的两路电信号的频率由6MHz变为9MHz，若此时计算的FFT值变大，则说明此时IQ调制器的P臂的直流偏压点在90°，DAC输出信号仍然为cos与sin；若此时计算的FFT值变小，则说明此时IQ调制器P臂的直流偏压点在90°，DAC输出信号改为cos与-sin。7.如权利要求1所述相干光通信本振光与信号光任意频差锁定算法，其特征在于，在步骤S20中，所述一路通过FPGA输出频率码字对本振激光器的控制电路进行粗控制，从而对本振光进行频率粗调，具体为：FPGA通过串口给本振激光器发送移频指令，内调制移频的执行量为flock-ffft，其中ffft为FFT计算得到的带内的本振光与信号光载波的实时频差，flock为锁频点的频率，其中当执行内调制操作使得在2.6214s内均满足|ffft-flock|＜＝2MHz，启动DAC精锁频，其中单次移频的最大量为20MHz，移频指令的发送间隔为1s。8.如权利要求7所述相干光通信本振光与信号光任意频差锁定算法，其特征在于，在步骤S20中，所述另一路通过DAC对IQ外调制器中的本振光进行精细频率控制，具体为：当IQ调制器的直流偏压点被偏压控制点控制在NULLNULLQ+，且所加的两路射频信号为两路等峰峰值且相位正交的正弦信号时，IQ调制器做单边带调制移频时，其输出光的电场表达式如下：其中，Jn为n阶贝塞尔函数，Arf为所加正余弦信号峰峰值的一半，Vπ为IQ调制器射频输入的半波电压，ωrf为所加射频信号的角频率；ADC的频率分辨率为1×109//4＝3.815，将FFT分辨的最小频率间隔均称为1个频率码字，在进行第一次DAC控制后，当|ffft-flock|＜＝3频率码字时，按照实际量进行DAC的实时补偿，当|ffft-flock|＞3频率码字时，DAC只按照对应的方向改变3个频率码字。9.如权利要求8所述相干光通信本振光与信号光任意频差锁定算法，其特征在于，当频差锁定在初始状态，尝试更改锁频点来完成带宽内任意频差点的锁定，若改变量的绝对值小于3MHz，则直接更改DAC频率，按照之前的控制完成锁频点的改变；若改变量的绝对值大于3MHz，则DAC回到初始频率，重新对本振光进行频率粗调和精细频率控制，完成对锁频点的更改。10.如权利要求9所述相干光通信本振光与信号光任意频差锁定算法，其特征在于，还包括步骤S30，若连续3s内ffft-flock均大于3个对应的频率码字，则认为此时锁定状态不稳定，DAC回到初始频率，直接对本振光进行频率粗调，从而重新入锁；若信号光突然中断，即ffft在连续2s内均小于2个码字，则直接关闭算法并复位。
说明书desc
技术领域本发明涉及相干光通信本振光锁频技术领域，尤其涉及相干光通信本振光与信号光任意频差锁定算法，适用于调制格式为QPSK的信号光。背景技术近年来，随着5G技术的商用化，以及高清视频会议、云计算、大数据、物联网等高新技术的兴起，人们对传送网带宽的需求呈现爆炸式的增长，其中相干光通信以其中继距离长、灵敏度高、通信容量大等优点成为新一代传输系统的研究热点。相干光通信的接收端需要一个同频同相的本振光与接收光信号进行相干混频，再进行均衡检测才能将消息恢复为发送的电信号，如何消除本振光与信号光频率不一致对系统性能的影响是相干光通信需要解决的一个关键问题。目前，一种解决方法是以数字信号处理为主的频偏估计来消除频差带来的影响。这种方法通常需要非常高速的模拟数字转换器以及高速的数字信号处理芯片进行复杂的算法运算，但一般器件体积相对较大、功耗相对较大、散热相对困难、实现成本非常高，基于其诸多特性，并不是非常适用于高速光通信场景。第二种解决方法是采用光学锁频的方法对本振光进行锁频。相干光通信检测按照本振光与信号光频率差是否相等，又分为零差检测和外差检测两种情况，而理论上零差探测的灵敏度比外差探测高3dB。常用的基于零差检测的本振光锁频方式主要有平衡环法和科斯塔斯环法。这两种结构中都采用了电路鉴频器，然后根据鉴频结果通过环路滤波器将温控或压控信号加载到本振激光器中进行调频，其中平衡环法由于鉴频信号和解调信号共用同一通道，会导致最终的解调信号出现串扰，而科斯塔斯环法由于在鉴频时只是对IQ路解调信号的简单相乘，因此会消耗大量时间才能获得零差频的控制信号。发明内容本发明的一个优势在于提供一种相干光通信本振光与信号光任意频差锁定算法，实现了本振光与信号光的任意频差点光学锁频，可以完成高精度的本振光任意频差锁频。本发明的一个优势在于提供一种相干光通信本振光与信号光任意频差锁定算法，整体构思精细且简洁明晰，易于在实际光通讯系统中大范围推广应用。为达到本发明以上至少一个优势，本发明提供一种相干光通信本振光与信号光任意频差锁定算法，适用于调制格式为QPSK的信号光，其中所述任意频差锁定算法包括以下步骤：S10，90°光混频器接收信号光与本振光，并输出0°、90°、180°、270°四路拍频光，其中0°拍频光与180°拍频光进入第一平衡探测器，经所述第一平衡探测器减法运算后输出I路电信号，其中90°拍频光与270°拍频光进入第二平衡探测器，经所述第二平衡探测器减法运算后输出Q路电信号，其中所述第一平衡探测器和所述第二平衡探测器均输出为交流耦合，且所述第一平衡探测器和所述第二平衡探测器的共模抑制比均大于25dB；S20，I+和Q+光信号经过均衡检测后转换为两路正信号进入接收端进行信号处理，获得发送端电信号，I-和Q-光信号经过均衡检测后被ADC采样进入FPGA进行算法锁频，在FPGA内经算法运算后输出两路电信号对本振激光器进行调频，其中一路通过FPGA输出频率码字对本振激光器的控制电路进行粗控制，从而对本振光进行频率粗调，另一路通过DAC对IQ外调制器中的本振光进行精细频率控制。根据本发明一实施例，步骤S20中，所述I-和Q-光信号经过均衡检测后被ADC采样进入FPGA进行算法锁频具体包括：S21，对被ADC采集到的I-和Q-两路电信号进行去直流和幅度均衡处理；S22，对前述两路电信号做复数化处理，形成复数离散信号，然后进行快速傅里叶变换得到信号光与本振光的多倍载波实时频差，然后对计算的频点值除以倍数，即可得到信号光与与本振光的实时频差，其中傅里叶变换被定义为FFT；S23，在本振光与信号光的频差adcfft/4-f0在对应锁频宽带范围内时，开启锁频，其中所述对应多频宽带范围为大于-125MHz，且小于+125MHz。根据本发明一实施例，在步骤S21中，两路电信号的表达式分别为：其中，kS与kLO分别为使用2×4 90°桥接器的信号光分功率比与本振光分功率比，kS＝kLO＝0.5，R为平衡探测器响应度，r为探测器跨阻，nI和nQ分别为I路与Q路加性噪声，对两路电信号做同步采样，并将kS＝kLO＝0.5代入后，两路电信号变为：其中，k为两路同步采样的ADC的采样序号，Ts为两路ADC采样的最小间隔时间，Δω＝ωS-ωLO为信号光与本振光实时频差。根据本发明一实施例，在步骤S22中，对复数化的信号做四次方运算，运算后数据位宽变为43bit，即VQPforth＝4≈A4expk·Ts)；对所述复数离散信号进行FFT处理，得到信号光与本振光的四倍载波实时频差4Δω，然后对计算的频点值除以4得到信号光与本振光的实时频差Δω。根据本发明一实施例，所述对复数化的信号做四次方运算，具体为：对复数化的信号先做21位的截位，后去一位高位同样做65536点、位宽为21bit的FFT，然后对所求得的频点值除以4，即为本振光载波与信号光实时频差，其中初始锁频点为f0＝3.9MHz。根据本发明一实施例，在开始计算正确的FFT时，首先将DAC输出的两路电信号的频率由6MHz变为9MHz，若此时计算的FFT值变大，则说明此时IQ调制器的P臂的直流偏压点在90°，DAC输出信号仍然为cos与sin；若此时计算的FFT值变小，则说明此时IQ调制器P臂的直流偏压点在90°，DAC输出信号改为cos与-sin。根据本发明一实施例，在步骤S20中，所述一路通过FPGA输出频率码字对本振激光器的控制电路进行粗控制，从而对本振光进行频率粗调，具体为：FPGA通过串口给本振激光器发送移频指令，内调制移频的执行量为flock-ffft，其中ffft为FFT计算得到的带内的本振光与信号光载波的实时频差，flock为锁频点的频率，其中当执行内调制操作使得在2.6214s内均满足|ffft-flock|＜＝2MHz，启动DAC精锁频，其中单次移频的最大量为20MHz，移频指令的发送间隔为1s。根据本发明一实施例，在步骤S20中，所述另一路通过DAC对IQ外调制器中的本振光进行精细频率控制，具体为：当IQ调制器的直流偏压点被偏压控制点控制在NULLNULLQ+，且所加的两路射频信号为两路等峰峰值且相位正交的正弦信号时，IQ调制器做单边带调制移频时，其输出光的电场表达式如下：其中，Jn为n阶贝塞尔函数，Arf为所加正余弦信号峰峰值的一半，Vπ为IQ调制器射频输入的半波电压，ωrf为所加射频信号的角频率；ADC的频率分辨率为1×109//4＝3.815，将FFT分辨的最小频率间隔均称为1个频率码字，在进行第一次DAC控制后，当|ffft-flock|＜＝3频率码字时，按照实际量进行DAC的实时补偿，当|ffft-flock|＞3频率码字时，DAC只按照对应的方向改变3个频率码字。根据本发明一实施例，当频差锁定在初始状态，尝试更改锁频点来完成带宽内任意频差点的锁定，若改变量的绝对值小于3MHz，则直接更改DAC频率，按照之前的控制完成锁频点的改变；若改变量的绝对值大于3MHz，则DAC回到初始频率，重新对本振光进行频率粗调和精细频率控制，完成对锁频点的更改。根据本发明一实施例，所述任意频差锁定算法还包括步骤S30，若连续3s内ffft-flock均大于3个对应的频率码字，则认为此时锁定状态不稳定，DAC回到初始频率，直接对本振光进行频率粗调，从而重新入锁；若信号光突然中断，即ffft在连续2s内均小于2个码字，则直接关闭算法并复位。本发明的这些和其它目的、特点和优势，通过下述的详细说明，得以充分体现。附图说明图1示出了本申请相干光通信本振光与信号光任意频差锁定算法的流程示意图。图2示出了本申请中信号光未加调制时QPSK频差锁定在2MHz的IQ信号图。图3示出了本申请中频差锁定在-1MHz的示波器IQ两路数据信号图。图4示出了本申请中调制锁0时QPSK的IQ两路信号示意图。图5示出了本申请中接收端星座图。具体实施方式以下描述用于揭露本发明以使本领域技术人员能够实现本发明。以下描述中的优选实施例只作为举例，本领域技术人员可以想到其他显而易见的变型。在以下描述中界定的本发明的基本原理可以应用于其他实施方案、变形方案、改进方案、等同方案以及没有背离本发明的精神和范围的其他技术方案。本领域技术人员应理解的是，在说明书的揭露中，术语“纵向”、“横向”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”“内”、“外”等指示的方位或位置关系是基于附图所示的方位或位置关系，其仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此，上述术语不能理解为对本发明的限制。可以理解的是，术语“一”应理解为“至少一”或“一个或多个”，即在一个实施例中，一个元件的数量可以为一个，而在另外的实施例中，该元件的数量可以为多个，术语“一”不能理解为对数量的限制。参考图1，依本发明一较佳实施例的一种相干光通信本振光与信号光任意频差锁定算法将在以下被详细地阐述，其中所述相干光通信本振光与信号光任意频差锁定算法适用于调制格式为QPSK的信号光。当信号光调制格式为QPSK时，信号光的电场表达式如下：其中，PS为信号光功率，ωS为信号光载波实时角频率，b为0，0.5，1或者1.5，为信号光随机相位；本振光的电场表达式写为如下：其中，PLO为本振光功率，ωLO为本振光实时载波角频率且满足ωLO＝ωLObase+ωin+ωex，ωLObase为本振光初始载波角频率，ωin为内调制引起的本振光载波角频率变化，ωex为外调制引起的本振光载波角频率变化，为本振光随机相位。所述任意频差锁定算法包括以下步骤：S10，90°光混频器接收信号光与本振光，并输出0°、90°、180°、270°四路拍频光，其中0°拍频光与180°拍频光进入第一平衡探测器，并经所述第一平衡探测器减法运算后输出I路电信号，包括I+光信号和I-光信号，其中90°拍频光与270°拍频光进入第二平衡探测器，并经所述第二平衡探测器减法运算后输出Q路电信号，包括Q+光信号和Q-光信号，其中所述第一平衡探测器和所述第二平衡探测器均输出为交流耦合，且所述第一平衡探测器和所述第二平衡探测器的共模抑制比均大于25dB，可以满足大多数应用需求；S20，I+和Q+光信号经过均衡检测后转换为两路正信号进入接收端进行信号处理，获得发送端电信号，I-和Q-光信号经过均衡检测后被ADC采样进入FPGA进行算法锁频，在FPGA内经算法运算后输出两路电信号对本振激光器进行调频，其中一路通过FPGA输出频率码字对本振激光器的控制电路进行粗控制，从而对本振光进行频率粗调，另一路通过DAC对IQ外调制器中的本振光进行精细频率控制。更具体的，步骤S20中，所述I-和Q-光信号经过均衡检测后被ADC采样进入FPGA进行算法锁频具体包括：S21，对被ADC采集到的I-和Q-两路电信号进行去直流和幅度均衡处理；S22，对前述两路电信号做复数化处理，即消除信号调制项的影响，形成复数离散信号，然后进行快速傅里叶变换得到信号光与本振光的多倍载波实时频差，然后对计算的频点值除以倍数，即可得到信号光与与本振光的实时频差，其中傅里叶变换被定义为FFT；S23，在本振光与信号光的频差adcfft/4-f0在对应锁频宽带范围内时，其中f0为拟锁定的任意频差点，开启锁频，其中所述对应多频宽带范围为大于-125MHz，且小于+125MHz。初始条件下，两路DAC输出信号频率均为6MHz。DDS频率控制字为16位，因此DAC自身的最小频率改变量约为1.5kHz。在一个实施例中，在步骤S21中，两路电信号的表达式分别为：其中，kS与kLO分别为使用2×4 90°桥接器的信号光分功率比与本振光分功率比，kS＝kLO＝0.5，R为平衡探测器响应度，r为探测器跨阻，nI和nQ分别为I路与Q路加性噪声，对两路电信号做同步采样，并将kS＝kLO＝0.5代入后，两路电信号变为：其中，k为两路同步采样的ADC的采样序号，Ts为两路ADC采样的最小间隔时间，Δω＝ωS-ωLO为信号光与本振光实时频差，亦是本算法要进行反馈控制的主要对象；此外，在本申请中未使用掺铒光纤放大器，因此，这两路加性信号以散粒噪声和热噪声为主。在一个实施例中，在步骤S22中，对复数化的信号做四次方运算，运算后数据位宽变为43bit，即VQPforth＝4≈A4expk·Ts)；对所述复数离散信号进行FFT处理，得到信号光与本振光的四倍载波实时频差4Δω，然后对计算的频点值除以4得到信号光与本振光的实时频差Δω。进一步优选地，所述对复数化的信号做四次方运算，具体为：对复数化的信号先做21位的截位，后去一位高位同样做65536点、位宽为21bit的FFT，然后对所求得的频点值除以4，即为本振光载波与信号光实时频差，其中初始锁频点为f0＝3.9MHz，即保持本振光与信号光载波频差一直处于3.9MHz。在实际使用过程中发现：尽管在多数情况下，IQ调制器的偏压控制板会将IQ调制器的P臂的直流偏压点控制在90°附近，但少数情况下偏压控制板会将IQ调制器的P臂的直流偏压点控制在270°附近，对于P臂直流偏压点在90°的情况，DAC初始输出的cos与sin信号会给本振光的载波频率增加6MHz，然而，当P臂的直流偏压点在270°时，DAC初始输出的cos与sin信号会给本振光的载波频率削减6MHz；为了解决这一问题，使两路DAC的频率保持严格的一致，进一步优选地，进行IQ调制器P臂极性判断，在开始计算正确的FFT时，首先将DAC输出的两路电信号的频率由6MHz变为9MHz，若此时计算的FFT值变大，则说明此时IQ调制器的P臂的直流偏压点在90°，DAC输出信号仍然为cos与sin；若此时计算的FFT值变小，则说明此时IQ调制器P臂的直流偏压点在270°，DAC输出信号改为cos与-sin，这样一来，经过sin变为-sin的更改，DAC信号在此偏压下仍然会给本振光载波频率增加6MHz，即保持直流偏压点在90°和270°两种情况下的始终一致，而在本申请提供的频差锁定算法中，也仅存在90°和270°两路电信号。作为一较佳实施例，在步骤S20中，所述一路通过FPGA输出频率码字对本振激光器的控制电路进行粗控制，从而对本振光进行频率粗调，具体为：FPGA通过串口给本振激光器发送移频指令，内调制移频的执行量为flock-ffft，其中ffft为FFT计算得到的带内的本振光与信号光载波的实时频差，flock为锁频点的频率，其中当执行内调制操作使得在2.6214s内均满足|ffft-flock|＜＝2MHz，启动DAC精锁频，其中单次移频的最大量为20MHz，移频指令的发送间隔为1s，能够保证可调谐激光器的稳定性，在此过程中，本振激光器温控粗移频的依据来源于ADC所计算的FFT。进一步优选地，在步骤S20中，所述另一路通过DAC对IQ外调制器中的本振光进行精细频率控制，具体为：两路DAC对于本振光载波频率的实时改变仰赖于IQ调制器的单边带调制，当IQ调制器的直流偏压点被偏压控制点控制在NULLNULLQ+，且所加的两路射频信号为两路等峰峰值且相位正交的正弦信号时，IQ调制器做单边带调制移频时，其输出光的电场表达式如下：其中，Jn为n阶贝塞尔函数，Arf为所加正余弦信号峰峰值的一半，Vπ为IQ调制器射频输入的半波电压，ωrf为所加射频信号的角频率；DAC频率的实时改变量为flock-ffft，ADC的频率分辨率为1×109//4＝3.815，将FFT分辨的最小频率间隔均称为1个频率码字，为了保证较高的锁频精度，在进行第一次DAC控制后，当|ffft-flock|＜＝3频率码字时，按照实际量进行DAC的实时补偿，当|ffft-flock|＞3频率码字时，DAC只按照对应的方向改变3个频率码字。具体计算如下，每8个65536点FFT计算的频点值做平均为一次FFT值，用以消除随机误差，等待3*65536*8ns后进行下一次FFT的计算与补偿。因此，DAC精锁频时，其每秒的执行次数为1/≈477。为了保证DAC的工作频率工作在6MHz附近，需要进行内调制辅助锁频，此时内调制的判据为DAC的实时频率，温度的执行量为Hz,采取四舍五入的方式，即若DAC实时频率介于5.5-6.4MHz，内调制频移不变化，若DAC频率介于6.5-7.4MHz，则本振光增加1MHz，以此类推，此时基于DAC的精准锁频已完成。进一步优选地，当频差锁定在初始状态，尝试更改锁频点来完成带宽内任意频差点的锁定，若改变量的绝对值小于3MHz，则直接更改DAC频率，按照之前的控制完成锁频点的改变；若改变量的绝对值大于3MHz，则DAC回到初始频率，即3.9MHz，然后重新对本振光进行频率粗调和精细频率控制，完成对锁频点的更改。进一步优选地，所述任意频差锁定算法还包括步骤S30，若连续3s内ffft-flock均大于3个对应的频率码字，则认为此时锁定状态不稳定，DAC回到初始频率，直接对本振光进行频率粗调，从而重新入锁；若信号光突然中断，即ffft在连续2s内均小于2个码字，则直接关闭算法并复位。图2示出了在信号光未加调制时，频谱为channe2的数据做平方运算后的FFT，可以看到除了基频分量外，另一个频点在2MHz。图3示出了在调制格式为QPSK时，当频差锁定在-1MHz的示波器IQ两路数据，其中蓝色为I路数据，绿色为Q路数据。此外，还对本算法中锁频点的范围进行了实验探究，调制格式为QPSK时，锁频点在±120MHz且含0频，本算法中任意频差的锁频是为了减少后续DSP处理的麻烦，因此，往往更需要将本振光与信号光频差控制在0频，当锁定在0频时，QPSK的IQ两路信号如图4所示。在QP锁0的条件下，对IQ两路信号进行数据恢复，在本算法中，DAC输出信号的峰峰值为160mv，本振光IQ调制器的输出光为138微瓦，QPSK信号能量为18.7微瓦，如图5所示，QPSK解调后无误码，EVM为11.24％。本领域的技术人员应理解，上述描述及附图中所示的本发明的实施例只作为举例而并不限制本发明。本发明的优势已经完整并有效地实现。本发明的功能及结构原理已在实施例中展示和说明，在没有背离所述原理下，本发明的实施方式可以有任何变形或修改。
