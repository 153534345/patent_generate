标题title
列布局型网络拓扑显示及网口故障域发现系统及方法
摘要abst
本发明公开了一种列布局型网络拓扑显示及网口故障域发现系统及方法，结合资源间的连接关系和层级从属关系构建形成列布局型网络拓扑图，呈现出固定的视图结构，从而提高识别链路信息的效率；基于上述列布局型网络拓扑图，在网口异常时，通过网口状态及网口所属网桥绑定模式以及关联网口的状态，更便捷地发现故障域、理解故障情况，更直观高效的统计受影响的资源。
权利要求书clms
1.一种列布局型网络拓扑显示及网口故障域发现系统，其特征在于，包括服务器、客户端；其中，所述服务器包括数据库、页面处理模块、异常探测模块、故障域判断模块；所述客户端包括拓扑显示模块；其中，所述数据库，用于获取并存储网络资源数据；所述页面处理模块，用于根据所述网络资源数据，计算获取各个网络资源对应的位置信息；并根据所述网络资源对应的位置信息，构建网络拓扑图；所述异常探测模块，用于实时检测获取所述网络拓扑图中各个网口状态；根据所述网口状态判断所述网口是否存在异常；所述故障域判断模块，用于若检测获取所述网口存在异常，则获取存在异常的网口对应的异常信息；并将所述异常信息存储；根据所述网络拓扑图通过对所述异常信息判断获取所述网口的故障域及故障程度；所述拓扑显示模块，用于将所述网络拓扑图及所述网口状态发送至客户端显示。2.一种列布局型网络拓扑显示及网口故障域发现方法，其特征在于，包括如下操作步骤：获取并存储网络资源数据；根据所述网络资源数据，计算获取各个网络资源对应的位置信息；并根据所述网络资源对应的位置信息，构建网络拓扑图；实时检测获取所述网络拓扑图中各个网口状态；根据所述网口状态判断所述网口是否存在异常；若检测获取所述网口存在异常，则获取存在异常的网口对应的异常信息；并将所述异常信息存储；根据所述网络拓扑图通过对所述异常信息判断获取所述网口的故障域及故障程度；将所述网络拓扑图及所述网口状态发送至客户端显示。3.根据权利要求2所述的一种列布局型网络拓扑显示及网口故障域发现方法，其特征在于，所述网络资源数据包括各个网络资源对应的网络资源基本信息、网络资源层级从属关系、网络资源连接关系。4.根据权利要求2所述的一种列布局型网络拓扑显示及网口故障域发现方法，其特征在于，所述网口状态包括网口的连接状态及网口的使用状态。5.根据权利要求2所述的一种列布局型网络拓扑显示及网口故障域发现方法，其特征在于，所述根据所述网络资源数据，计算获取各个网络资源对应的位置信息；并根据所述网络资源对应的位置信息，构建网络拓扑图，包括如下操作步骤：根据所述网络资源对应信息量，设定各个网络资源节点的标头尺寸；所述标头尺寸包括标头的宽度和高度；在画布上设置多个显示列；根据所述标头尺寸，确定各显示列在画布上的位置；所述显示列包括虚拟机列、虚拟分布式交换机列、主机列、物理交换机列；设置各个显示列的内部布局方式及显示列内各网络资源节点之间的间距；根据网络资源层级从属关系，获取拓扑基础布局；基于所述拓扑基础布局，根据所述网络资源的连接关系，对所述网络资源节点进行连线获取网络拓扑图。6.根据权利要求5所述的一种列布局型网络拓扑显示及网口故障域发现方法，其特征在于，所述资源类型包括一级资源、二级资源、三级资源；其中，一级资源为二级资源的父级资源；二级资源为三级资源的父级资源。7.根据权利要求6所述的一种列布局型网络拓扑显示及网口故障域发现方法，其特征在于，所述根据所述网络拓扑图通过对所述异常信息判断获取所述网口的故障域及故障程度，包括如下操作步骤：获取当前所述网口所属的网桥的网桥信息以及所述网桥对应的多个关联网口的状态；所述网桥信息包括所述网桥的绑定模式；根据所述关联网口的状态、网桥信息及所述异常信息，判断当前所述网口的故障域及故障程度；所述异常状态包括使用状态异常、连接状态异常。8.根据权利要求7所述的一种列布局型网络拓扑显示及网口故障域发现方法，其特征在于，所述根据所述关联网口的状态、网桥信息及所述异常信息，判断当前所述网口的故障域及故障程度，包括如下操作步骤：根据所述关联网口的状态，判断所述网桥上除当前网口之外的多个关联网口中是否存在正常状态的关联网口；若判断所述网桥上存在正常状态的关联网口，则进一步根据所述网桥信息判断所述网桥的绑定模式是否为主备模式；根据所述网桥的绑定模式，确定当前所述网口的故障域及故障程度；若判断不存在正常状态的关联网口，则获取当前所述网口的异常信息；根据所述网口的异常信息判断当前所述网口的故障域及故障程度。9.根据权利要求8所述的一种列布局型网络拓扑显示及网口故障域发现方法，其特征在于，所述根据所述网桥的绑定模式，确定当前所述网口的故障域及故障程度，包括如下操作步骤：若所述网桥的绑定模式为主备模式，则对当前所述网口进行标注异常源图标；若所述网桥的绑定模式不为主备模式，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为一级目标网络资源节点；建立故障域，将所述一级目标网络资源节点放入所述故障域；对当前所述网口进行标注异常源图标；并对所述故障域中所有一级目标网络资源节点标注黄色。10.根据权利要求9所述的一种列布局型网络拓扑显示及网口故障域发现方法，其特征在于，所述根据所述网口的使用状态及所述网口的连接状态确定当前所述网口的故障域及故障程度，包括如下操作步骤：判断所述网口的异常状态为使用状态是否异常还是连接状态是否异常；若判断所述网口的异常状态为使用状态异常，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为二级网络资源节点；建立故障域，并将所述二级网络资源节点放入所述故障域；对当前所述网口标注异常源图标，并对所述故障域中所有二级网络资源节点标注为黄色；若判断所述网口的异常状态为连接状态异常，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为三级网络资源节点；建立故障域，并将所述三级网络资源节点放入所述故障域；对当前所述网口标注异常源图标，并对所述故障域中所有三级网络资源节点标注为红色。
说明书desc
技术领域本发明涉及虚拟机技术领域，尤其涉及一种列布局型网络拓扑显示及网口故障域发现系统及方法。背景技术虚拟化技术日益成熟，越来越多用户开始使用虚拟化技术来运行业务。虚拟化技术是指将一台物理服务器的软件环境划分为多个虚拟服务器的技术。图1为虚拟化技术中网络通信相关的资源及其关系，可以看出网络资源具有类型多、关系复杂的特征。而且一台企业级的物理服务器上可能划分几十上百个 VM，通常会将多台物理服务器构成一个集群进行管理，即集群中会存在几百个 VM。所以，高效地进行集群网络资源管理、故障发现和理解，对保证业务正常运行至关重要。另外，当前技术中，网桥及网口的工作模式直接影响着网络通信情况。每台物理服务器上会划分一个或多个网桥，每个网桥会关联一个或多个网口，以此为虚拟网络端提供网络通信能力。当网桥关联多个网口时，会为其设置绑定模式，不同BondingModel运作方式不同。如主备模式中，只有活动网口才会用于网络通信，其他备用网口暂不用于网络通信、而是作为替补角色存在。而其他模式则是网桥上所有网口同时用于网络通信。当网口发生故障时，用户想要理解网口的工作情况、及其对虚拟网络端的影响情况，就必须借助网桥的绑定模式、网桥上关联的所有网口的信息，才能更好地做相应故障处理和规划工作。针对虚拟化技术的网络资源管理，目前存在以下管理方式：方案一：大多虚拟化管理平台仍以表格方式分别管理不同类型的网络资源。该方式不利于用户了解整体情况；而且网络资源管理的大多场景是以链路为中心管理，而“在不同表格间查找同一链路上的各类资源”的方式效率很低、操作繁琐。尤其当发生故障情况时，用户无法直观地查看故障源的对其他类型资源的影响范围情况。方案二：以星状拓扑图的形式展示网络资源的关系。如图2，该方法中，仅会利用数据库中各资源的连接关系，在界面上只以“节点连接节点”的方式展示资源关系，各节点的位置是无序的。但网络资源的类型多，在星状布局中，各类资源无序分布在画布上，用户在查看每一条链路信息时，必须且只能在杂乱的拓扑中通过资源图标来识别资源类型。这导致用户在认知拓扑结构、获取资源和链路信息时的效率较低。另外，理解网口故障场景时，星状图中没有绑定模式的信息，且同一网桥的关联网口分散排布，这些都不利于用户直观理解故障情况、并敏捷响应故障处理。发明内容针对上述技术为问题，本发明的目的在于提供一种列布局型网络拓扑显示及网口故障域发现系统及方法，解决了现有技术中指出的上述技术问题。本发明提供了一种列布局型网络拓扑显示及网口故障域发现系统，包括服务器、客户端；其中，所述服务器包括数据库、页面处理模块、异常探测模块、故障域判断模块；所述客户端包括拓扑显示模块；其中，所述数据库，用于获取并存储网络资源数据；所述页面处理模块，用于根据所述网络资源数据，计算获取各个网络资源对应的位置信息；并根据所述网络资源对应的位置信息，构建网络拓扑图；所述异常探测模块，用于实时检测获取所述网络拓扑图中各个网口状态；根据所述网口状态判断所述网口是否存在异常；所述故障域判断模块，用于若检测获取所述网口存在异常，则获取存在异常的网口对应的异常信息；并将所述异常信息存储；根据所述网络拓扑图通过对所述异常信息判断获取所述网口的故障域及故障程度；所述拓扑显示模块，用于将所述网络拓扑图及所述网口状态发送至客户端显示。相应地，本发明还提出了一种列布局型网络拓扑显示及网口故障域发现方法，包括如下操作步骤：获取并存储网络资源数据；所述网络资源数据包括各个网络资源对应的网络资源基本信息、网络资源层级从属关系、网络资源连接关系；根据所述网络资源数据，计算获取各个网络资源对应的位置信息；并根据所述网络资源对应的位置信息，构建网络拓扑图；实时检测获取所述网络拓扑图中各个网口状态；根据所述网口状态判断所述网口是否存在异常；若检测获取所述网口存在异常，则获取存在异常的网口对应的异常信息；并将所述异常信息存储；根据所述网络拓扑图通过对所述异常信息判断获取所述网口的故障域及故障程度；所述网口状态包括网口的连接状态及网口的使用状态；将所述网络拓扑图及所述网口状态发送至客户端显示。较佳的，所述根据所述网络资源数据，计算获取各个网络资源对应的位置信息；并根据所述网络资源对应的位置信息，构建网络拓扑图，包括如下操作步骤：根据所述网络资源对应信息量，设定各个网络资源节点的标头尺寸；所述标头尺寸包括标头的宽度和高度；在画布上设置多个显示列；根据所述标头尺寸，确定各显示列在画布上的位置；所述显示列包括虚拟机列、虚拟分布式交换机列、主机列、物理交换机列；设置各个显示列的内部布局方式及显示列内各网络资源节点之间的间距；根据网络资源层级从属关系，获取拓扑基础布局；基于所述拓扑基础布局，根据所述网络资源的连接关系，对所述网络资源节点进行连线获取网络拓扑图。较佳的，所述根据所述网络拓扑图通过对所述异常信息判断获取所述网口的故障域及故障程度，包括如下操作步骤：获取当前所述网口所属的网桥的网桥信息以及所述网桥对应的多个关联网口的状态；所述网桥信息包括所述网桥的绑定模式；根据所述关联网口的状态、网桥信息及所述异常信息，判断当前所述网口的故障域及故障程度；所述异常状态包括使用状态异常、连接状态异常。较佳的，所述根据所述关联网口的状态、网桥信息及所述异常信息，判断当前所述网口的故障域及故障程度，包括如下操作步骤：根据所述关联网口的状态，判断所述网桥上除当前网口之外的多个关联网口中是否存在正常状态的关联网口；若判断所述网桥上存在正常状态的关联网口，则进一步根据所述网桥信息判断所述网桥的绑定模式是否为主备模式；根据所述网桥的绑定模式，确定当前所述网口的故障域及故障程度；若判断不存在正常状态的关联网口，则获取当前所述网口的异常信息；根据所述网口的异常信息判断当前所述网口的故障域及故障程度；较佳的，所述根据所述网桥的绑定模式，确定当前所述网口的故障域及故障程度，包括如下操作步骤：若所述网桥的绑定模式为主备模式，则对当前所述网口进行标注异常源图标；若所述网桥的绑定模式不为主备模式，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为一级目标网络资源节点；建立故障域，将所述一级目标网络资源节点放入所述故障域；对当前所述网口进行标注异常源图标；并对所述故障域中所有一级目标网络资源节点标注黄色。较佳的，所述根据所述网口的使用状态及所述网口的连接状态确定当前所述网口的故障域及故障程度，包括如下操作步骤：判断所述网口的异常状态为使用状态是否异常还是连接状态是否异常；若判断所述网口的异常状态为使用状态异常，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为二级网络资源节点；建立故障域，并将所述二级网络资源节点放入所述故障域；对当前所述网口标注异常源图标，并对所述故障域中所有二级网络资源节点标注为黄色；若判断所述网口的异常状态为连接状态异常，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为三级网络资源节点；建立故障域，并将所述三级网络资源节点放入所述故障域；对当前所述网口标注异常源图标，并对所述故障域中所有三级网络资源节点标注为红色。与现有技术相比，本发明实施例至少存在如下方面的技术优势：分析本发明提供的上述一种列布局型网络拓扑显示及网口故障域发现系统及方法可知；在具体应用时，首先获取并存储网络资源数据，并根据网络资源数据计算各个网络资源对应的位置来构建形成列布局型的网络拓扑图，可以呈现出固定的视图结构，从而提高识别链路信息的效率；相比现有技术中的星状图，用户可以结合视图结构、有序地识别资源；而且每条链路的布局结构相同，用户不需要每条链路都通过图标重新识别一次资源类型，而只需通过资源的列位置和从属结构来快速识别资源类型。该布局下的拓扑形式可呈现的资源信息量更大；可将网桥的绑定模式、关联网口、网口的主备信息等作为一个整体、展示在一个区域，便于用户直观地理解网口的工作情况；进而检测各个网口的状态，确定拓扑结构中的网口是否出现异常；在网口出现异常时，判断异常网口的故障域及故障程度；可更便捷地发现故障域、理解故障情况，更直观高效的统计受影响的资源。在网口故障场景中，本发明实施例采用的列布局型网络拓扑显示及网口故障域发现方法，其也更易查看相关信息、理解故障情况。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为现有技术中的虚拟化技术中网络通信相关的资源及其关系模拟示意图；图2为现有技术中的星状网络拓扑的界面示意图；图3为星状拓扑与本发明的拓扑结构对比图；图4为本发明实施例二提供的一种列布局型网络拓扑显示及网口故障域发现方法中客户端界面的示意图；图5为本发明实施例二提供的一种列布局型网络拓扑显示及网口故障域发现方法中网桥及关联网口展示方式示意图；图6为本发明实施例一提供的一种列布局型网络拓扑显示及网口故障域发现系统的整体架构示意图；图7为本发明实施例二提供的一种列布局型网络拓扑显示及网口故障域发现方法中列布局型网络拓扑图的架构操作流程示意图；图8为本发明实施例二提供的一种列布局型网络拓扑显示及网口故障域发现方法中网口故障域及故障程度的判断方法流程图；图9为本发明实施例二提供的一种列布局型网络拓扑显示及网口故障域发现方法中判断异常网口故障域及故障程度的操作流程示意图；图10为本发明实施例二提供的一种列布局型网络拓扑显示及网口故障域发现方法中根据关联网口状态确定网口的故障域及故障程度的操作流程示意图；图11为本发明实施例二提供的一种列布局型网络拓扑显示及网口故障域发现方法中根据网桥绑定模式确定网口的故障域及故障程度的操作流程示意图；图12为本发明实施例二提供的一种列布局型网络拓扑显示及网口故障域发现方法中根据网口状态确定网口的故障域及故障程度的操作流程示意图；图13为本发明实施例二提供的一种列布局型网络拓扑显示及网口故障域发现方法的操作流程示意图。附图标记：服务器10；客户端20；数据库11；页面处理模块12；异常探测模块13；故障域判断模块14；拓扑显示模块21。具体实施方式下面将结合附图对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。下面通过具体的实施例并结合附图对本发明做进一步的详细描述。实施例一如图6所示，本发明提出了一种列布局型网络拓扑显示及网口故障域发现系统，包括服务器10、客户端20；其中，所述服务器10包括数据库11、页面处理模块12、异常探测模块13、故障域判断模块14；所述客户端20包括拓扑显示模块21；其中，所述数据库11，用于获取并存储网络资源数据；所述页面处理模块12，用于根据所述网络资源数据，计算获取各个网络资源对应的位置信息；并根据所述网络资源对应的位置信息，构建网络拓扑图；所述异常探测模块13，用于实时检测获取所述网络拓扑图中各个网口状态；根据所述网口状态判断所述网口是否存在异常；所述故障域判断模块14，用于若检测获取所述网口存在异常，则获取存在异常的网口对应的异常信息；并将所述异常信息存储；根据所述网络拓扑图通过对所述异常信息判断获取所述网口的故障域及故障程度；所述拓扑显示模块21，用于将所述网络拓扑图及所述网口状态发送至客户端显示。较佳的，所述页面处理模块12，在具体实施时，用于获取所述网络资源对应的信息量；根据所述信息量，设定各个网络资源节点的标头尺寸；所述标头尺寸包括标头的宽度和高度；在画布上设置多个显示列；根据所述标头尺寸，确定所述显示列的宽度；根据各显示列的宽度，确定各显示列在画布的x轴上的位置；所述显示列包括虚拟机列、虚拟分布式交换机列、主机列、物理交换机列；将所述显示列的内部布局方式设定为垂直布局；分别对应获取所述显示列的主体区域；并根据所述垂直布局设定显示列内各网络资源节点之间的间距；根据网络资源层级从属关系，得到各个网络资源所属的资源类型；将各列中的一级资源放置在对应列中的主体中；所述资源类型包括一级资源、二级资源、三级资源；其中，一级资源为二级资源的父级资源；二级资源为三级资源的父级资源；将所述一级资源的内部布局方式设置为垂直布局；并将所述一级资源对应的二级资源设置为横向布局；将三级资源放入所述二级资源的主体区域；将所述二级资源放入所属资源主体区域内，获取拓扑基础布局；基于所述拓扑基础布局，根据所述网络资源的连接关系，对所述网络资源节点进行连线获取网络拓扑图。较佳的，所述故障域判断模块14，在具体实施时，用于获取当前所述网口所属的网桥的网桥信息以及所述网桥对应的多个关联网口的状态；所述网桥信息包括所述网桥的绑定模式；根据所述关联网口的状态、网桥信息及所述异常信息，判断当前所述网口的故障域及故障程度；所述异常状态包括使用状态异常、连接状态异常。较佳的，所述故障域判断模块14，在具体实施时，还用于根据所述关联网口的状态，判断所述网桥上除当前网口之外的多个关联网口中是否存在正常状态的关联网口；若判断所述网桥上存在正常状态的关联网口，则进一步根据所述网桥信息判断所述网桥的绑定模式是否为主备模式；根据所述网桥的绑定模式，确定当前所述网口的故障域及故障程度；若判断不存在正常状态的关联网口，则获取当前所述网口的异常信息；根据所述网口的异常信息判断当前所述网口的故障域及故障程度；较佳的，所述故障域判断模块14，在具体实施时，还用于若所述网桥的绑定模式为主备模式，则对当前所述网口进行标注异常源图标；若所述网桥的绑定模式不为主备模式，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为一级目标网络资源节点；建立故障域，将所述一级目标网络资源节点放入所述故障域；对当前所述网口进行标注异常源图标；并对所述故障域中所有一级目标网络资源节点标注黄色。较佳的，所述故障域判断模块14，在具体实施时，还用于判断所述网口的异常状态为使用状态是否异常还是连接状态是否异常；若判断所述网口的异常状态为使用状态异常，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为二级网络资源节点；建立故障域，并将所述二级网络资源节点放入所述故障域；对当前所述网口标注异常源图标，并对所述故障域中所有二级网络资源节点标注为黄色；若判断所述网口的异常状态为连接状态异常，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为三级网络资源节点；建立故障域，并将所述三级网络资源节点放入所述故障域；对当前所述网口标注异常源图标，并对所述故障域中所有三级网络资源节点标注为红色。综上，本发明提供的上述一种列布局型网络拓扑显示及网口故障域发现系统，在具体实施时，首先通过数据库获取并存储网络资源数据，并根据网络资源数据计算各个网络资源对应的位置来构建形成列布局型的网络拓扑图；在进行计算各个网络资源对应的位置过程中，通过各个网络资源的信息量、基本信息、各个网络资源间的层级从属关系以及各个网络资源间的连接关系构建，可以呈现出固定的视图结构，从而提高识别链路信息的效率；用户可以结合视图结构、有序地识别资源；而且每条链路的布局结构相同，用户不需要每条链路都通过图标重新识别一次资源类型，而只需通过资源的列位置和从属结构来快速识别资源类型；列布局型的拓扑形式可呈现的资源信息量更大；可将网桥的绑定模式、关联网口、网口的主备信息等作为一个整体、展示在一个区域，便于用户直观地理解网口的工作情况；进而利用异常探测模块进行检测各个网口的状态，确定拓扑结构中的网口是否出现异常；在网口出现异常时，通过故障域判断模块进行判断异常网口的故障域及故障程度；在判断异常网口的故障域及故障程度过程中，首先判断当前异常网口所在的网桥内的其他关联网口是否存在正常状态的关联网口；在确定当前网桥下有正常运行的关联网口后，进一步确定当前的网桥的绑定模式是否为主备模式；在判断当前网桥下无正常运行的网口时，再进一步判断当前网口的连接状态与运行状态是否异常；进而实现对当前异常网口的故障域及故障程度的判断；更便捷地发现故障域、理解故障情况，更直观高效的统计受影响的资源；当故障发生时，会将故障源及其影响的资源标注为异常的红色或黄色，便于用户了解异常链路的整体情况，从而做出规划和处理；各类资源都有固定的列位置，便于用户在一列内查看某链路上的该资源及其数量，便于查看故障的影响范围；当网口发生故障时，可能影响到虚拟机的网络情况，从而影响到用户的业务运行，此时用户需要知道该故障对业务的影响范围，从而做出相应处理；星状拓扑需要在无序排布的众多资源中，通过资源图查找和标识别出受影响的虚拟机；而本发明的视图结构，可让用户直接查看所有受影响的虚拟机；网口故障场景中，本发明也更易查看相关信息、理解故障情况；可直观地看到网口的工作情况，便于用户理解故障情况。实施例二如图13所示，相应地，本发明还提出了一种列布局型网络拓扑显示及网口故障域发现方法，包括如下操作步骤：步骤S10：获取并存储网络资源数据；所述网络资源数据包括各个网络资源对应的网络资源基本信息、网络资源层级从属关系、网络资源连接关系；需要说明的是，网络资源数据的基本信息除了如下表中必须的数据外，可根据资源信息显示需要进行记录。按层级从属关系，分为 3 种类型的资源，一级资源是二级资源的父级资源，二级资源是三级资源的父级资源。其中，一级资源需记录其所属列，二级资源和三级资源需要记录其所属父级资源。此外，用连接关系来记录不同列之间的资源关系。步骤S20：根据所述网络资源数据，计算获取各个网络资源对应的位置信息；并根据所述网络资源对应的位置信息，构建网络拓扑图；需要说明的是，列、一级资源、二级资源均由标头和 主体两部分构成，标头区域用于呈现列本身或资源本身的信息，主体区域用于盛放其下一层级资源。三级资源无主体部分；网络拓扑图呈现出网络资源链路上的层级从属关系和连接关系。步骤S30：实时检测获取所述网络拓扑图中各个网口状态；根据所述网口状态判断所述网口是否存在异常；若检测获取所述网口存在异常，则获取存在异常的网口对应的异常信息；并将所述异常信息存储；根据所述网络拓扑图通过对所述异常信息判断获取所述网口的故障域及故障程度；所述网口状态包括网口的连接状态及网口的使用状态；需要说明的是，连接状态代表网口与物理交换机的端口间的连接情况，若连接断开，则该网口无法提供网络通信能力；在连接状态正常的前提下，使用状态用来代表网口的网络通信质量，当网口本身出现亚健康等情况时，会使该网口上的网络通信质量下降。步骤S40：将所述网络拓扑图及所述网口状态发送至客户端显示。如图3所示，本申请实施例所采用的技术方案，通过对各个网络资源数据计算获取各个网络资源数据对应的位置，结合网络资源之间的连接关系和层级从属关系、以列布局形式来组织拓扑结构，可以呈现出固定的视图结构，从而提高识别链路信息的效率；相比星状图，用户可以结合视图结构、有序地识别资源；而且每条链路的布局结构相同，用户不需要每条链路都通过图标重新识别一次资源类型，而只需通过资源的列位置和从属结构来快速识别资源类型；该布局下的拓扑形式可呈现的资源信息量更大；而星状拓扑通常只能体现资源类型和资源名称。如图5，可将网桥的绑定模式、关联网口、网口的主备信息等作为一个整体、展示在一个区域，便于用户直观地理解网口的工作情况；基于上述网络拓扑，更便捷地发现故障域、理解故障情况，更直观高效的统计受影响的资源；当故障发生时，会将故障源及其影响的资源标注为异常的红色或黄色，便于用户了解异常链路的整体情况，从而做出规划和处理；各类资源都有固定的列位置，便于用户在一列内查看某链路上的该资源及其数量，便于查看故障的影响范围；当网口发生故障时，可能影响到虚拟机的网络情况，从而影响到用户的业务运行，此时用户需要知道该故障对业务的影响范围，从而做出相应处理；星状拓扑需要在无序排布的众多资源中，通过资源图查找和标识别出受影响的虚拟机；而本发明的视图结构，可让用户直接在图 4 所示拓扑图的第一列查看所有受影响的虚拟机；网口故障场景中，本发明也更易查看相关信息、理解故障情况；如图4所示拓扑图的第三列中，可在网桥及网口区域直观地看到网口的工作情况，便于用户理解故障情况；而星状拓扑中，用户需要在杂乱的视图内找到所有关联网口，在其他页面获取绑定模式、网口通信情况等信息，操作繁琐、不利于直观地理解故障情况。具体地，如图7所示，在步骤S20中，根据所述网络资源数据，计算获取各个网络资源对应的位置信息；并根据所述网络资源对应的位置信息，构建网络拓扑图，包括如下操作步骤：步骤S21：获取所述网络资源对应的信息量；根据所述信息量，设定各个网络资源节点的标头尺寸；所述标头尺寸包括标头的宽度和高度；需要说明的是，本发明实施例优选构建4类节点，因此在后续拓扑图中，会呈现出4列资源显示；标头的尺寸是根据各网络资源的信息量、屏幕尺寸等确定宽度；比如在实际实现中，除了信息量，还根据屏幕尺寸设定了最小和最大宽度，实际宽度根据屏幕尺寸做自适应。步骤S22：在画布上设置多个显示列；根据所述标头尺寸，确定所述显示列的宽度；根据各显示列的宽度，确定各显示列在画布的x轴上的位置；所述显示列包括虚拟机列、虚拟分布式交换机列、主机列、物理交换机列；可选地，各显示列为顶对齐方式，即各显示列在画布的y轴起点一致；解释说明：上述本实施例所采用的技术方案指的是，根据各个网络资源的标头尺寸中的宽度确定每一显示列的宽度，进而确定得到4个显示列资源宽度，并根据屏幕尺寸大小确定出的每个显示列之间的间距，从而设定每个显示列资源所处在x轴的位置；上述各个显示列顶对齐是因为非顶对齐的情况下，筛选视图或展开收起节点时，节点需向上下 2 个方向扩缩，导致视图的布局变化大，重新定位资源的难度增大；顶对齐的方式在筛选视图或展开收起节点时，仅需向 1 个方向扩缩，视图的稳定感更好；也便于用户以顶部为锚点来定位目标资源。需要说明的是，上述各显示列宽度与上述标头的宽度一致；x轴坐标根据显示列宽、显示列间距定义；步骤S23：将所述显示列的内部布局方式设定为垂直布局；分别对应获取所述显示列的主体区域；并根据所述垂直布局设定显示列内各网络资源节点之间的间距；需要说明的是，显示列、资源的内部布局采用 CSS 的 Flex 布局方式，设定好其内部的值，如：一级资源示意：display: flex；flex-direction: column；align-items: flex-start；padding: 8px 8px 2px；gap: 8px；二级资源示意：display: flex；flex-direction: row；align-items: flex-start；padding: 0px；gap: 0px；步骤S24：根据网络资源层级从属关系，得到各个网络资源所属的资源类型；将各列中的一级资源放置在对应显示列中的主体中；所述资源类型包括一级资源、二级资源、三级资源；其中，一级资源为二级资源的父级资源；二级资源为三级资源的父级资源；需要说明的是，本实施例是将各列中的一级资源，按顺序以CSS的Normal Fow的布局方式放置在该列的主体）中。步骤S25：将所述一级资源的内部布局方式设置为垂直布局；并将所述一级资源对应的二级资源设置为横向布局；将三级资源放入所述二级资源的主体区域；需要说明的是，本实施例将二级资源内设置为横向布局后，会有两列，左侧列是二级资源本身的信息）；右侧列是 主体 区域、用于放置其子资源，子资源在 主体 区域内是 flex-direction: column 的方式。步骤S26：将所述二级资源放入所属资源主体区域内，获取拓扑基础布局；需要说明的是，本实施例按顺序将children node 以 CSS 的 Normal Flow 的布局方式放置在所属父级资源的 主体区域中，至此，拓扑图的基础布局已形成。步骤S27：基于所述拓扑基础布局，根据所述网络资源的连接关系，对所述网络资源节点进行连线获取网络拓扑图。本发明实施例所采用的技术方案，将各类资源以列布局型的网络拓扑显示，相较于表格方式管理、星状布局拓扑，本发明的拓扑布局结构具有以下优势：直观呈现链路关系，包含层级从属关系和连接关系；获取信息的效率更高，表格方式的各类信息分散，星状拓扑图的资源在画布上无序分布，这些都让链路信息的识别和获取上更加低效；而本发明根据层级从属关系呈现出固定的布局结构，能快速识别资源类型，从而获取链路信息；信息量更多，除星状拓扑图的资源名称和类型外，还有更多空间呈现其他 IP、绑定模式、主备状态等信息；故障场景中，便于直观查看异常链路、在固定列处查看异常影响范围、固定列处查看网桥绑定模式和可用网口情况，高效地了解整体异常情况。具体地，如图9所示，在步骤S30中，根据所述网络拓扑图通过对所述异常信息判断获取所述网口的故障域及故障程度，包括如下操作步骤：步骤S31： 获取当前所述网口所属的网桥的网桥信息以及所述网桥对应的多个关联网口的状态；所述网桥信息包括所述网桥的绑定模式；步骤S32：根据所述关联网口的状态、网桥信息及所述异常信息，判断当前所述网口的故障域及故障程度；所述异常状态包括使用状态异常、连接状态异常。如图8所示，作为一种可实施方式，基于拓扑的网口故障域发现方法，包括如下操作步骤：S801：获取异常网口对应的异常状态；将异常状态更新至数据库，并读取所述异常网口所属的网桥信息；所述异常状态包括使用状态异常、连接状态异常；所述网桥信息包括多个关联网口的状态、网桥的绑定模式；其中，所述关联网口的状态包括正常状态的关联网口、异常状态的关联网口；S802：判断所述网桥上是否存在正常状态的关联网口；S803：若所述网桥上存在正常状态的关联网口，则进一步判断所述网桥的绑定模式是否为主备模式；S804：若所述网桥的绑定模式为主备模式，则切换至所述正常状态的关联网口；S805：在当前所述异常网口处标记异常源图标；S806：若所述网桥的绑定模式不是主备模式，则确定当前异常网口关联的网络资源通信质量下降；S807：对当前所述异常网口标记异常源图标，并获取当前所述异常网口关联的多个网络资源；对所述网络资源标注为黄色；S808：若判断所述网桥上无正常状态的关联网口；则进一步确定当前所述异常网口的异常状态是否为连接状态异常；若否，则执行S806；若是，则执行S809；S809：则确定当前所述异常网口的关联网络资源通信断开，获取当前所述异常网口对应的关联网络资源；将所述关联网络资源纳入故障域，并在数据库中更新所述关联网络资源的状态；S810：在所述网络拓扑图中当前所述网口处标记异常源图标；并将所述关联网络资源节点标注为红色。具体地，如图10所示，在步骤S32中，根据所述关联网口的状态、网桥信息及所述异常信息，判断当前所述网口的故障域及故障程度，包括如下操作步骤：步骤S321：根据所述关联网口的状态，判断所述网桥上除当前网口之外的多个关联网口中是否存在正常状态的关联网口；若判断所述网桥上存在正常状态的关联网口，则进一步根据所述网桥信息判断所述网桥的绑定模式是否为主备模式；根据所述网桥的绑定模式，确定当前所述网口的故障域及故障程度；步骤S322：若判断不存在正常状态的关联网口，则获取当前所述网口的异常信息；根据所述网口的异常信息判断当前所述网口的故障域及故障程度；本申请实施实施例通过判断是否存在正常状态的关联网口，分情况对当前异常网口进行判断故障与及故障程度，可保障故障识别的效率及准确性。具体地，如图11所示，在步骤S321中，根据所述网桥的绑定模式，确定当前所述网口的故障域及故障程度，包括如下操作步骤：步骤S3211：若所述网桥的绑定模式为主备模式，则对当前所述网口进行标注异常源图标；需要说明的是，因当前网桥绑定模式为主备模式，因此在当前网口出现异常时，网络会直接切换至正常的关联网口，因而当前网口的异常不会对虚拟网络造成影响，则仅需要对当前的异常网口进行标注异常源图标，并且此时没有故障域。步骤S3212：若所述网桥的绑定模式不为主备模式，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为一级目标网络资源节点；建立故障域，将所述一级目标网络资源节点放入所述故障域；对当前所述网口进行标注异常源图标；并对所述故障域中所有一级目标网络资源节点标注黄色。需要说明的是，若网桥的绑定模式不是主备模式，则当前网口异常会影响当前网口对应的多个网络资源节点，则判断为当前网口的网络通信质量下降，将被影响的网络资源节点纳入故障域，并更新数据库中这些网络资源的状态；并对异常网口、故障域的异常资源进行标注，并在该网口处标注异常源图标、将故障域内资源标注为黄色。本申请实施例在确定有正常状态的关联网口后，通过判断当前列布局型网络拓扑图的网桥绑定模式来确定异常网口的故障域及故障程度，可有效提高故障识别的效率。具体地，如图12所示，在步骤S322中，根据所述网口的异常信息判断当前所述网口的故障域及故障程度，包括如下操作步骤：步骤S3221：判断所述网口的异常状态为使用状态是否异常还是连接状态是否异常；步骤S3222：若判断所述网口的异常状态为使用状态异常，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为二级网络资源节点；建立故障域，并将所述二级网络资源节点放入所述故障域；对当前所述网口标注异常源图标，并对所述故障域中所有二级网络资源节点标注为黄色。需要说明的是，若是使用状态异常，即该网口的网络通信质量下降，则会判断为当前网口的通信质量下降，被影响的资源纳入故障域，并更新数据库中这些资源的状态。标注异常网口、故障域的异常资源，并在当前网口处标注异常源图标、将故障域内资源标注为黄色。步骤S3223：若判断所述网口的异常状态为连接状态异常，则获取当前所述网口对应的多个网络资源节点；确定所述网络资源节点为三级网络资源节点；建立故障域，并将所述三级网络资源节点放入所述故障域；对当前所述网口标注异常源图标，并对所述故障域中所有三级网络资源节点标注为红色。需要说明的是，若是连接状态异常，即该网口的网络通信断开，则会判断为当前网口的网络通信断开，被影响的资源纳入故障域，并更新数据库中这些资源的状态；标注异常网口、故障域的异常资源，并在当前网口处标注异常源图标、将故障域内资源标注为红色。本申请实施例当故障发生时，会将故障源及其影响的资源标注为异常的红色或黄色，便于用户了解异常链路的整体情况，从而做出规划和处理；网口故障场景中，本发明也更易查看相关信息、理解故障情况；可在网桥及网口区域直观地看到网口的工作情况，便于用户理解故障情况。综上所述，本发明实例提出的一种列布局型网络拓扑显示及网口故障域发现系统及方法，首先获取并存储网络资源数据，并根据网络资源数据计算各个网络资源对应的位置来构建形成列布局型的网络拓扑图；在进行计算各个网络资源对应的位置过程中，通过各个网络资源的信息量、基本信息、各个网络资源间的层级从属关系以及各个网络资源间的连接关系构建，可以呈现出固定的视图结构，从而提高识别链路信息的效率；相比星状图，用户可以结合视图结构、有序地识别资源。而且每条链路的布局结构相同，用户不需要每条链路都通过图标重新识别一次资源类型，而只需通过资源的列位置和从属结构来快速识别资源类型。列布局型的拓扑形式可呈现的资源信息量更大，可将网桥的绑定模式、关联网口、网口的主备信息等作为一个整体、展示在一个区域，便于用户直观地理解网口的工作情况；进而检测各个网口的状态，确定拓扑结构中的网口是否出现异常；在网口出现异常时，通过故障域判断模块进行判断异常网口的故障域及故障程度；在判断异常网口的故障域及故障程度过程中，首先判断当前异常网口所在的网桥内的其他关联网口是否存在正常状态的关联网口；在确定当前网桥下有正常运行的关联网口后，进一步确定当前的网桥的绑定模式是否为主备模式；在判断当前网桥下无正常运行的网口时，再进一步判断当前网口的连接状态与运行状态是否异常；进而实现对当前异常网口的故障域及故障程度的判断；更便捷地发现故障域、理解故障情况，更直观高效的统计受影响的资源；当故障发生时，会将故障源及其影响的资源标注为异常的红色或黄色，便于用户了解异常链路的整体情况，从而做出规划和处理；各类资源都有固定的列位置，便于用户在一列内查看某链路上的该资源及其数量，便于查看故障的影响范围；可让用户直接查看所有受影响的虚拟机。网口故障场景中，本发明也更易查看相关信息、理解故障情况；可在网桥及网口区域直观地看到网口的工作情况，便于用户理解故障情况。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；本领域的普通技术人员可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围。
