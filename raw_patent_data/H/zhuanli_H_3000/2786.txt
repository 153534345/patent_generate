标题title
数据处理的方法、装置、设备、系统及可读存储介质
摘要abst
本申请提供的一种数据处理的方法、装置、设备、系统及可读存储介质，电子设备通过获取目标设备的待上传数据以及待上传数据的数据类型，根据数据类型与预处理规则的对应关系，确定与待上传数据对应的目标预处理规则，基于目标预处理规则，对待上传数据进行预处理，得到预处理后的待上传数据，并向服务器发送预处理后的待上传数据。从而在目标设备向服务器发送待上传数据的通道上，利用电子设备对待上传数据进行预处理，数据经过上位机预处理，减少服务器数据处理的时间，减轻了服务器预处理的压力，提高了服务器的效率。
权利要求书clms
1.一种数据处理的方法，其特征在于，包括：获取目标设备的待上传数据以及所述待上传数据的数据类型；根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则；基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据；向服务器发送所述预处理后的待上传数据。2.根据权利要求1所述的方法，其特征在于，所述预处理规则包括解析方式，所述根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则，包括：根据数据类型与解析方式的对应关系，确定与所述待上传数据对应的目标解析方式；所述基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据，包括：基于所述目标解析方式，对所述待上传数据进行解析处理，得到预处理后的待上传数据。3.根据权利要求1所述的方法，其特征在于，所述预处理规则包括解析方式和计算规则，所述根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则，包括：根据数据类型与解析方式的对应关系，确定与所述待上传数据对应的目标解析方式；根据数据类型与计算规则的对应关系，确定与所述待上传数据对应的目标计算规则；所述基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据，包括：基于所述目标解析方式，对所述待上传数据进行解析处理，得到解析后的待上传数据；基于所述目标计算规则，对所述解析后的待上传数据进行处理，得到预处理后的待上传数据。4.根据权利要求1所述的方法，其特征在于，所述根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则之前，还包括：接收所述服务器发送的所述数据类型与预处理规则。5.根据权利要求1所述的方法，其特征在于，所述根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则之前，还包括：接收用户输入的所述数据类型与预处理规则的对应关系；所述方法还包括：向所述服务器发送所述数据类型与预处理规则的对应关系，以使所述服务器向除所述目标设备以外的其他设备发送所述数据类型与预处理规则的对应关系。6.根据权利要求1所述的方法，其特征在于，所述获取目标设备的待上传数据以及所述待上传数据的数据类型，包括：接收所述目标设备发送的上传消息，所述上传消息中包含待上传数据和所述待上传数据的参数信息，所述参数信息包括：所述目标设备的标识信息或者所述待上传数据的类型标识；根据所述待上传数据的参数信息，确定所述待上传数据的数据类型。7.根据权利要求1所述的方法，其特征在于，所述获取目标设备的待上传数据以及所述待上传数据的数据类型，包括：接收用户输入的目标设备的待上传数据和所述待上传数据的参数信息，所述参数信息包括：所述目标设备的标识信息或者所述待上传数据的类型标识；根据所述待上传数据的参数信息，确定所述待上传数据的数据类型。8.根据权利要求7所述的方法，其特征在于，所述基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据之前，还包括：对所述用户输入的目标设备的待上传数据进行格式验证，得到格式验证结果，所述格式验证结果包括数据准确和数据错误；所述基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据，包括：若格式验证的结果为数据准确，则基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据。9.一种数据处理的装置，其特征在于，包括：获取模块，用于获取目标设备的待上传数据以及所述待上传数据的数据类型；处理模块，用于根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则；基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据；发送模块，用于向服务器发送所述预处理后的待上传数据。10.一种电子设备，其特征在于，包括：存储器和处理器，所述存储器上存储有计算机程序，该计算机程序被所述处理器执行时，执行如权利要求1至8任意一项所述的数据处理的方法。11.一种数据处理系统，其特征在于，包括：目标设备、上位机和服务器；所述目标设备与上位机通信连接，所述上位机与所述服务器通信连接；所述上位机获取目标设备的待上传数据以及所述待上传数据的数据类型；根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则；基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据；向所述服务器发送所述预处理后的待上传数据。12.一种计算机可读存储介质，其特征在于，该计算机可读存储介质存储的计算机程序，能够被一个或多个处理器执行，能够用来实现如权利要求1至8任意一项所述的数据处理的方法。
说明书desc
技术领域本申请涉及信息处理技术领域，特别地涉及一种数据处理的方法、装置、设备、系统及可读存储介质。背景技术在工厂等生产环境中，工厂内或者一条生产线上常常有多种设备，需要将设备采集到的数据上传到云端服务器，进行统一管理、使用。云端服务器接收到这些数据以后，通常无法直接使用，需要对这些数据进行处理，例如对设备发送的原始数据根据不同的协议，进行不同的解析处理等。由于不同的设备采集的数据格式不同，数据种类多，云端服务器需要对不同种类的数据进行预处理，云端服务器数据处理的效率不高。发明内容针对上述相关技术中的问题，本申请提供一种数据处理的方法、装置、设备、系统及可读存储介质。第一方面，本申请实施例提供了一种数据处理的方法，所述方法包括：获取目标设备的待上传数据以及所述待上传数据的数据类型；根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则；基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据；向服务器发送所述预处理后的待上传数据。在一些实施例中，所述预处理规则包括解析方式，所述根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则，包括：根据数据类型与解析方式的对应关系，确定与所述待上传数据对应的目标解析方式；所述基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据，包括：基于所述目标解析方式，对所述待上传数据进行解析处理，得到预处理后的待上传数据。在一些实施例中，所述预处理规则包括解析方式和计算规则，所述根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则，包括：根据数据类型与解析方式的对应关系，确定与所述待上传数据对应的目标解析方式；根据数据类型与计算规则的对应关系，确定与所述待上传数据对应的目标计算规则；所述基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据，包括：基于所述目标解析方式，对所述待上传数据进行解析处理，得到解析后的待上传数据；基于所述目标计算规则，对所述解析后的待上传数据进行处理，得到预处理后的待上传数据。在一些实施例中，所述根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则之前，还包括：接收所述服务器发送的所述数据类型与预处理规则。在一些实施例中，所述根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则之前，还包括：接收用户输入的所述数据类型与预处理规则的对应关系；所述方法还包括：向所述服务器发送所述数据类型与预处理规则的对应关系，以使所述服务器向除所述目标设备以外的其他设备发送所述数据类型与预处理规则的对应关系。在一些实施例中，所述获取目标设备的待上传数据以及所述待上传数据的数据类型，包括：接收所述目标设备发送的上传消息，所述上传消息中包含待上传数据和所述待上传数据的参数信息，所述参数信息包括：所述目标设备的标识信息或者所述待上传数据的类型标识；根据所述待上传数据的参数信息，确定所述待上传数据的数据类型。在一些实施例中，所述获取目标设备的待上传数据以及所述待上传数据的数据类型，包括：接收用户输入的目标设备的待上传数据和所述待上传数据的参数信息，所述参数信息包括：所述目标设备的标识信息或者所述待上传数据的类型标识；根据所述待上传数据的参数信息，确定所述待上传数据的数据类型。在一些实施例中，所述基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据之前，还包括：对所述用户输入的目标设备的待上传数据进行格式验证，得到格式验证结果，所述格式验证结果包括数据准确和数据错误；所述基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据，包括：若格式验证的结果为数据准确，则基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据。第二方面，本申请实施例提供一种数据处理的装置，包括：获取模块，用于获取目标设备的待上传数据以及所述待上传数据的数据类型；处理模块，用于根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则；基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据；发送模块，用于向服务器发送所述预处理后的待上传数据。在一些实施例中，所述预处理规则包括解析方式，所述处理模块具体用于：根据数据类型与解析方式的对应关系，确定与所述待上传数据对应的目标解析方式；基于所述目标解析方式，对所述待上传数据进行解析处理，得到预处理后的待上传数据。在一些实施例中，所述预处理规则包括解析方式和计算规则，所述处理模块具体用于：根据数据类型与解析方式的对应关系，确定与所述待上传数据对应的目标解析方式；根据数据类型与计算规则的对应关系，确定与所述待上传数据对应的目标计算规则；基于所述目标解析方式，对所述待上传数据进行解析处理，得到解析后的待上传数据；基于所述目标计算规则，对所述解析后的待上传数据进行处理，得到预处理后的待上传数据。在一些实施例中，所述装置还包括：接收模块，用于接收所述服务器发送的所述数据类型与预处理规则。在一些实施例中，所述装置还包括：接收模块，用于接收用户输入的所述数据类型与预处理规则的对应关系；所述发送模块还用于：向所述服务器发送所述数据类型与预处理规则的对应关系，以使所述服务器向除所述目标设备以外的其他设备发送所述数据类型与预处理规则的对应关系。在一些实施例中，所述获取模块具体用于：接收所述目标设备发送的上传消息，所述上传消息中包含待上传数据和所述待上传数据的参数信息，所述参数信息包括：所述目标设备的标识信息或者所述待上传数据的类型标识；根据所述待上传数据的参数信息，确定所述待上传数据的数据类型。在一些实施例中，所述获取模块具体用于：接收用户输入的目标设备的待上传数据和所述待上传数据的参数信息，所述参数信息包括：所述目标设备的标识信息或者所述待上传数据的类型标识；根据所述待上传数据的参数信息，确定所述待上传数据的数据类型。在一些实施例中，所述装置还包括：验证模块，用于对所述用户输入的目标设备的待上传数据进行格式验证，得到格式验证结果，所述格式验证结果包括数据准确和数据错误；所述处理模块具体用于：若格式验证的结果为数据准确，则基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据。第三方面，本申请实施例提供一种电子设备，包括：存储器和处理器，所述存储器上存储有计算机程序，该计算机程序被所述处理器执行时，执行如上述第一方面所述的数据处理的方法。第四方面，本申请实施例提供一种数据处理系统，包括：目标设备、上位机和服务器；所述目标设备与上位机通信连接，所述上位机与所述服务器通信连接；所述上位机获取目标设备的待上传数据以及所述待上传数据的数据类型；根据数据类型与预处理规则的对应关系，确定与所述待上传数据对应的目标预处理规则；基于所述目标预处理规则，对所述待上传数据进行预处理，得到预处理后的待上传数据；向所述服务器发送所述预处理后的待上传数据。第五方面，本申请实施例提供一种计算机可读存储介质，该计算机可读存储介质存储的计算机程序，能够被一个或多个处理器执行，能够用来实现如上述第一方面的数据处理的方法。本申请提供的一种数据处理的方法、装置、设备、系统及可读存储介质，电子设备通过获取目标设备的待上传数据以及待上传数据的数据类型，根据数据类型与预处理规则的对应关系，确定与待上传数据对应的目标预处理规则，基于目标预处理规则，对待上传数据进行预处理，得到预处理后的待上传数据，并向服务器发送预处理后的待上传数据。从而在目标设备向服务器发送待上传数据的通道上，利用电子设备对待上传数据进行预处理，数据经过上位机预处理，减少服务器数据处理的时间，减轻了服务器预处理的压力，提高了服务器的效率。附图说明在下文中将基于实施例并参考附图来对本申请进行更详细的描述。图1为本申请实施例提供的一种数据处理系统的结构示意图；图2为本申请实施例提供的一种数据处理的方法的流程示意图；图3为本申请实施例提供一种数据处理的装置的结构示意图；图4为本申请实施例提供的一种电子设备的组成结构示意图。具体实施方式为了使本申请的目的、技术方案和优点更加清楚，下面将结合附图对本申请作进一步地详细描述，所描述的实施例不应视为对本申请的限制，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本申请保护的范围。在以下的描述中，涉及到“一些实施例”，其描述了所有可能实施例的子集，但是可以理解，“一些实施例”可以是所有可能实施例的相同子集或不同子集，并且可以在不冲突的情况下相互结合。如果申请文件中出现“第一第二第三”的类似描述则增加以下的说明，在以下的描述中，所涉及的术语“第一第二第三”仅仅是是区别类似的对象，不代表针对对象的特定排序，可以理解地，“第一第二第三”在允许的情况下可以互换特定的顺序或先后次序，以使这里描述的本申请实施例能够以除了在这里图示或描述的以外的顺序实施。除非另有定义，本文所使用的所有的技术和科学术语与属于本申请的技术领域的技术人员通常理解的含义相同。本文中所使用的术语只是为了描述本申请实施例的目的，不是旨在限制本申请。在工厂等生产环境中，工厂内或者一条生产线上常常有多种设备，需要将设备采集到的数据上传到云端服务器，进行统一管理、使用。目前设备采集数据的方法有多种，例如，包括通过人工记录采集，网关上传等。且不同的设备采集到的数据格式也可能不同，使得云端服务器接收到的数据种类众多。云端服务器接收到这些数据以后，通常无法直接使用，需要对这些数据进行处理，例如对设备发送的原始数据根据不同的协议，进行不同的解析处理等。这样将导致云端服务器数据处理的效率不高，云端数据处理压力较大。基于相关技术中存在的问题，本申请实施例提供一种数据处理系统，该系统包括目标设备、电子设备和服务器；目标设备与电子设备通信连接，电子设备与服务器通信连接。其中，目标设备的数量可以为一个或多个，电子设备的数量也可以为一个或多个，一个或多个目标设备分别通过与一个上位机连接，所有的上位机分别与服务器连接。其中，目标设备可以为工厂等生产环境中的设备，例如，可以为纸板耐破仪、温度计、万用表等。其中，电子设备也可以为上位机、移动终端、计算机、服务器、3D屏设备等。移动终端可以是智能手机、平板电脑、笔记本电脑、可穿戴设备和智能移动设备等，智能移动设备可以包括智能电话、个人数字助理、游戏设备、导航设备、手持终端等。可选的，现有生产设备中有很多需要连接到上位机，因此，可以利用现成的上位机作为电子设备，实现对数据的预处理。其中，服务器可以为一个服务器，也可以为多个服务器组成的服务器集群。可选的，服务器可以设置在云端，服务器可以称为云端服务器。本申请实施例提供的系统，在原有系统的服务器和设备之间传输数据的通道上增加了电子设备，使得设备数据传输采集的过程中，通过电子设备对设备的待上传数据进行预处理，得到预处理后的待上传数据，再将预处理后的待上传数据发送给服务器，从而通过电子设备减轻了服务器预处理的压力，提高了服务器的效率。上位机对设备数据进行预处理，再上传到云端服务器，可以减少上传到云端数据种类，减小云端数据处理压力。在一些场景中，目标设备有很多，可以一部分目标设备连接一个电子设备上，再一部分目标设备连接到另一个电子设备上，依次类推，这样服务器对待上传数据的处理压力就分摊到多个电子设备上，从而在减轻了服务器预处理的压力的同时提高了预处理效率，从而提高了服务器的效率，提高云端服务器数据处理效率。以图1所示的系统为例，在设备数据上传到云端之前，在上位机对设备数据进行预处理，多上位机相当于分布式处理数据，减少处理数据时间，减小云端数据处理压力，加快数据处理速度。下面以目标设备为设备，电子设备为上位机，服务器为云端服务器为例进行说明。请参见图1，图1为本申请实施例提供的一种数据处理系统的结构示意图。上位机与设备之间可以通过串口或者网口等连接，上位机可以通过有线或者无线的方式与云端服务器，例如，上位机可以通过超文本传输协议接口与云端服务器连接，上位机与云端服务器的数据传输方式可通过消息队列进行消息订阅发布的方式进行传输。可以将设备按照摆放的区域或者所属的产线进行分组，每组设备分别与同一个上位机连接，例如，根据生产现场的实际情况一个车间或一个产线的多个设备连接一个上位机，设备通过网口或串口的方式上传数据到上位机。本实施例中，可以将数据称为设备原始数据或者原始数据。上位机包含输入输出设备，也允许人工采集设备数据，并人工录入到上位机中。可以在上位机中部署数据处理程序，在上位机中根据连接设备的情况，工作人员可根据产线实际设备情况定义相关上位机中的解析协议，云端服务器下发相关最新的解析协议，也可以自定义配置相关设备数据的解析规则。进一步地，也可以对每种解析协议或自定义的解析规则制定独立的计算规则，或者自定义配置一种通用的相关数据的计算规则，又或者使用云端下发的其它上位机中自定义的解析规则以及计算规则，从而使得上位机对设备的数据进行预处理，然后将预处理后的数据发送给云端服务器。这样云端服务器对设备的原始数据的处理压力就分摊到多个上位机，从而在减轻了云端服务器预处理的压力的同时提高了预处理效率，从而提高了服务器的效率。本申请实施例提供的数据处理的方法可以应用在上述数据处理系统中。下面以具体的实施例说明本申请提供的数据处理的方法。请参考图2，图2为本申请实施例提供的一种数据处理的方法的流程示意图，如图2所示，本实施例由电子设备执行，该电子设备可以为上述实施例中的电子设备。本实施例的方法包括以下步骤：步骤S21：获取目标设备的待上传数据以及待上传数据的数据类型。其中，目标设备的待上传数据是指目标设备采集或者生成的，需要通过电子设备上传给服务器的数据。其中，待上传数据的数据类型是待上传数据的一种种类属性。可选的，数据类型可以通过数据类型标识进行标记。例如，数据类型标识可以为目标设备的型号标识或者数据类型编号。步骤S22：根据数据类型与预处理规则的对应关系，确定与待上传数据对应的目标预处理规则。其中，数据类型与预处理规则的对应关系是预先存储的，存储了不同的数据类型对应的预处理规则。其中，预处理规则是指对数据进行预处理的方式，例如，可以是对数据进行解析的解析协议或者解析规则，也可以是对数据进行统计或者计算的规则等，本申请对此不作限定。电子设备根据待上传数据的数据类型，在数据类型与预处理规则的对应关系中获取到对应的预处理规则，即为待上传数据对应的目标预处理规则。步骤S23：基于目标预处理规则，对待上传数据进行预处理，得到预处理后的待上传数据。步骤S24：向服务器发送预处理后的待上传数据。本实施例，电子设备通过获取目标设备的待上传数据以及待上传数据的数据类型，根据数据类型与预处理规则的对应关系，确定与待上传数据对应的目标预处理规则，基于目标预处理规则，对待上传数据进行预处理，得到预处理后的待上传数据，并向服务器发送预处理后的待上传数据。从而在目标设备向服务器发送待上传数据的通道上，利用电子设备对待上传数据进行预处理，数据经过上位机预处理，减少服务器数据处理的时间，减轻了服务器预处理的压力，提高了服务器的效率。在一些场景中，步骤21中获取的目标设备的待上传数据的方式有多种，下面以具体的实施例进行示例性的说明其中的两种方式。一种可能的实现方式中，获取到的目标设备的待上传数据可以是目标设备发送给电子设备的原始数据。在上述任一实施例的基础上，进一步地，步骤21可以通过如下步骤211和步骤212实现。步骤211：接收目标设备发送的上传消息。其中，上传消息中包含待上传数据和待上传数据的参数信息，上传消息用于指示将待上传数据进行预处理后发送给服务器。其中，参数信息包括：目标设备的标识信息或者待上传数据的类型标识。目标设备的标识信息是用于指示目标设备的设备类型的，例如，目标设备的身份标识号信息或者目标设备的型号标识信息。待上传数据的类型标识是用于指示待上传数据的类型的，例如，待上传数据的类型标识可以为待上传数据的类型ID。步骤212：根据待上传数据的参数信息，确定待上传数据的数据类型。根据目标设备的标识信息可以确定对应的目标设备的待上传数据的数据类型；或者，根据待上传数据的类型标识，确定出对应的待上传数据的数据类型。另一种可能的实现方式中，获取到的目标设备的待上传数据也可以是人工采集目标设备的数据，并录入到电子设备中的。在上述任一实施例的基础上，进一步地，步骤21可以通过如下步骤21a和步骤21b实现。步骤21a：接收用户输入的目标设备的待上传数据和待上传数据的参数信息。其中，参数信息包括：目标设备的标识信息或者待上传数据的类型标识。本实施例中的参数信息与上述步骤211中提及的参数信息类似，此处不再赘述。步骤21b：根据待上传数据的参数信息，确定待上传数据的数据类型。步骤21b与上述步骤212类似，此处不再赘述。本实施例，通过在对目标设备无法直接发送待上传数据等情况下，可以通过人工将待上传数据输入到电子设备中，从而扩宽了电子设备处理的待上传数据的类型。在一些实施例中，步骤21a中的用户输入的待上传数据，可能存在一些数据错误的情况。因此，解析数据时为了防止自定义解析规则解析的数据可能会出现错误，可以在对待上传数据进行预处理之前，对待上传数据进行验证。下面以具体的实施例进行详细说明。在上述实施例的基础上，进一步地，在步骤23之前还可以包括如下步骤步骤25：对用户输入的目标设备的待上传数据进行格式验证，得到格式验证结果。其中，格式验证结果包括数据准确和数据错误。步骤26：判断格式验证结果是否为数据准确。若是，则继续执行步骤23；若否，则继续执行步骤27。对人工采集录入的数据要先进性格式验证，防止数据错误，保证数据准确性，验证过的数据也可进行解析处理、简单计算，对格式验证有问题的数据也要进行特殊标注。步骤27：对待上传数据进行标注。在格式验证结果为数据错误的情况下可以进行标注，从而做到对异常数据进行特殊标注。其中，标注用于指示该待上传数据的格式错误。本实施例，电子设备对人工采集的待上传数据进行格式验证，在验证通过的情况下，可以进行预处理过程。从而提高上传到云端数据的可读性与准确性。在一些实施例中，通常的预处理可以有多种方式，下面以具体的实施例示例性的说明预处理的具体方式。一种可能的实现方式中，预处理可以是对数据进行解析处理。在上述任一实施例的基础上，步骤22中的预处理规则包括解析方式，步骤22可以通过如下步骤22a实现。步骤22a：根据数据类型与解析方式的对应关系，确定与待上传数据对应的目标解析方式。可选的，解析协议可以是解码方式、数据字典、计算公式的至少一种。相应的，步骤23可以通过如下步骤23a实现。步骤23a：基于目标解析方式，对待上传数据进行解析处理，得到预处理后的待上传数据。示例性的，纸板耐破仪十六进制格式的数字。温度计和万用表分别用十进制格式数字按解析协议计算规则可以计算出温度值或电压值。另一种可能的实现方式中，一些目标设备的待上传数据的数据量较大，需要对解析出的数据进行统计；还有一些目标设备的待上传数据并不是业务需要的最终数据，需要经过一些计算的规则进行处理，因此，预处理也可以是对数据进行统计等计算处理。在上述任一实施例的基础上，步骤22中的预处理规则包括计算规则，步骤22可以通过如下步骤实现：根据数据类型与计算规则的对应关系，确定与待上传数据对应的目标计算规则。其中，计算规则可以为对数据的统计规则，单位换算规则等。相应的，步骤23可以通过如下步骤实现：基于目标计算规则，对待上传数据进行处理，得到预处理后的待上传数据。再一种可能的实现方式中，一些目标设备的待上传数据经过解析处理以后，也并不是业务需要的最终数据，需要经过一些计算的规则进行处理，因此，预处理还可以在对数据进行解析处理以后，再进行统计等计算处理。在上述任一实施例的基础上，步骤22中的预处理规则包括解析方式和计算规则，步骤22可以通过如下步骤221和步骤222实现。步骤221：根据数据类型与解析方式的对应关系，确定与待上传数据对应的目标解析方式。步骤222：根据数据类型与计算规则的对应关系，确定与待上传数据对应的目标计算规则。需要说明的是，步骤221和步骤222的执行没有先后顺序。可以先执行步骤221，再执行步骤222；也可以先执行步骤222，再执行步骤221；还可以同时执行步骤221和步骤222。相应的，步骤23可以通过如下步骤231和步骤232实现。步骤231：基于目标解析方式，对待上传数据进行解析处理，得到解析后的待上传数据。步骤232：基于目标计算规则，对解析后的待上传数据进行处理，得到预处理后的待上传数据。在一些实施例中，数据类型与预处理规则的对应关系可以是多种不同的方式获得的，下面以具体的实施例对获取到数据类型与预处理规则的对应关系的方式进行示例性说明。一种可能的实现方式中，步骤22中的可以是服务器发送的。例如，服务器存在最新的数据类型与预处理规则的对应关系时，统一下发给所有的电子设备。在上述任一实施例的基础上，进一步地，在步骤22之前还可以包括如下步骤220。步骤220：接收服务器发送的数据类型与预处理规则。下面以图1所示的系统，预处理规则为解析协议进行示例性说明。在设备和云端服务器之间加入上位机，在上位机中预处理设备数据，通过云端服务器统一管理设备协议，对协议的新增、变更，对所有的上位机统一下发，根据设备数据解析协议，对数据进行预处理解析。在上位机上有新增的预处理规则时，可以上传到云端服务器，云端服务器将该数据类型与预处理规则的对应关系共享给所有上位机，实现预处理规则数据的共享和统一。本实施例，通过服务器统一管理解析协议，对所有的电子设备统一下发新增、变更预处理规则，使得电子设备根据设备数据解析协议，对数据进行预处理解析。由服务器统一管理数据类型与预处理规则的对应关系，可以减轻电子设备管理数据类型与预处理规则的对应关系的工作量，并实现规则数据的共享、统一。从而提高设备数据的可读性，准确性。另一种可能的实现方式中，步骤22中的数据类型与预处理规则的对应关系也可以是自定义的。例如，在电子设备连接的目标设备中存在目前没有已知的数据类型对应的预处理规则，则用户可以对该数据类型对应的预处理规则进行定义，存储在当前的电子设备中。在上述任一实施例的基础上，进一步地，在步骤22之前还可以包括如下步骤220’。步骤220’：接收用户输入的数据类型与预处理规则的对应关系。本实施例，数据类型与预处理规则的对应关系也可以是用户自定义的，在上位机中增加的自定义的预处理规则，通过服务器共享给其他的电子设备，确保预处理规则的及时更新，从而扩宽了进行预处理的待上传数据的数据类型，使得电子设备的预处理适用范围更广。在一些场景中，步骤220’中，用户对数据类型与预处理规则进行了定义，为了避免对其他相同数据类型的数据再进行同样的定义，可以将该自定义的数据类型与预处理规则通过服务器下发给其他的电子设备，下面以具体的实施例进行详细说明。进一步地，步骤220’之后还可以包括如下步骤28。步骤28：向服务器发送数据类型与预处理规则的对应关系，以使服务器向除目标设备以外的其他设备发送数据类型与预处理规则的对应关系。下面以具体的示例进行说明。上位机与云端服务器的连接方式可以为网络连接，经过上位机解析计算处理的数据通过云端服务器开放http接口方式上传到云端服务器，上位机也可通过http接口方式上传自定义规则到云端服务器，通过云端服务器解析规则可以共享给其它上位机，上位机通过连接的设备可以通过云端服务器开放http接口方式主动获取云端服务器中的解析协议和自定义规则，解析数据提供给其它平台或人员使用和分析。本实施例，在电子设备上增加自定义的预处理规则以后，也可以将数据类型与预处理规则的对应关系上传到服务器，以使服务器共享给所有其他的电子设备，实现规则数据的共享、统一。从而提高待上传数据的可读性，准确性。请参见图3，图3为本申请实施例提供一种数据处理的装置的结构示意图，如图3所示，本实施例提供的装置包括：获取模块，用于获取目标设备的待上传数据以及待上传数据的数据类型；处理模块，用于根据数据类型与预处理规则的对应关系，确定与待上传数据对应的目标预处理规则；基于目标预处理规则，对待上传数据进行预处理，得到预处理后的待上传数据；发送模块，用于向服务器发送预处理后的待上传数据。在一些实施例中，预处理规则包括解析方式，处理模块具体用于：根据数据类型与解析方式的对应关系，确定与待上传数据对应的目标解析方式；基于目标解析方式，对待上传数据进行解析处理，得到预处理后的待上传数据。在一些实施例中，预处理规则包括解析方式和计算规则，处理模块具体用于：根据数据类型与解析方式的对应关系，确定与待上传数据对应的目标解析方式；根据数据类型与计算规则的对应关系，确定与待上传数据对应的目标计算规则；基于目标解析方式，对待上传数据进行解析处理，得到解析后的待上传数据；基于目标计算规则，对解析后的待上传数据进行处理，得到预处理后的待上传数据。在一些实施例中，装置还包括：接收模块，用于接收服务器发送的数据类型与预处理规则。在一些实施例中，装置还包括：接收模块，用于接收用户输入的数据类型与预处理规则的对应关系；发送模块还用于：向服务器发送数据类型与预处理规则的对应关系，以使服务器向除目标设备以外的其他设备发送数据类型与预处理规则的对应关系。在一些实施例中，获取模块具体用于：接收目标设备发送的上传消息，上传消息中包含待上传数据和待上传数据的参数信息，参数信息包括：目标设备的标识信息或者待上传数据的类型标识；根据待上传数据的参数信息，确定待上传数据的数据类型。在一些实施例中，获取模块具体用于：接收用户输入的目标设备的待上传数据和待上传数据的参数信息，参数信息包括：目标设备的标识信息或者待上传数据的类型标识；根据待上传数据的参数信息，确定待上传数据的数据类型。在一些实施例中，装置还包括：验证模块，用于对用户输入的目标设备的待上传数据进行格式验证，得到格式验证结果，格式验证结果包括数据准确和数据错误；处理模块具体用于：若格式验证的结果为数据准确，则基于目标预处理规则，对待上传数据进行预处理，得到预处理后的待上传数据。本实施例提供的装置的实现原理与效果与上述方法实施例类似，此处不再赘述。本申请实施例提供一种电子设备，包括：存储器和处理器，存储器上存储有计算机程序，该计算机程序被处理器执行时，执行如上述任一方法实施例提供的数据处理的方法。第四方面，本申请实施例提供一种数据处理系统，包括：目标设备、上位机和服务器；目标设备与上位机通信连接，上位机与服务器通信连接；上位机获取目标设备的待上传数据以及待上传数据的数据类型；根据数据类型与预处理规则的对应关系，确定与待上传数据对应的目标预处理规则；基于目标预处理规则，对待上传数据进行预处理，得到预处理后的待上传数据；向服务器发送预处理后的待上传数据。需要说明的是，本申请实施例中，如果以软件功能模块的形式实现上述的数据处理的方法，并作为独立的产品销售或使用时，也可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请实施例的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例方法的全部或部分。而前述的存储介质包括：U盘、移动硬盘、只读存储器、磁碟或者光盘等各种可以存储程序代码的介质。这样，本申请实施例不限制于任何特定的硬件和软件结合。相应地，本申请实施例提供一种计算机存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现上述实施例中提供的数据处理的方法中的步骤。本申请实施例提供一种电子设备；图4为本申请实施例提供的一种电子设备的组成结构示意图，如图4所示，电子设备800包括：一个处理器801、至少一个通信总线802、用户接口803、至少一个外部通信接口804、存储器805。其中，通信总线802配置为实现这些组件之间的连接通信。其中，用户接口803可以包括显示屏，外部通信接口804可以包括标准的有线接口和无线接口。处理器801配置为执行存储器中存储的数据处理的方法的程序，以实现以上述实施例提供的数据处理的方法中的步骤。这里需要指出的是：以上存储介质和电子设备实施例的描述，与上述方法实施例的描述是类似的，具有同方法实施例相似的有益效果。对于本申请存储介质和设备实施例中未披露的技术细节，请参照本申请方法实施例的描述而理解。应理解，说明书通篇中提到的“一个实施例”或“一实施例”意味着与实施例有关的特定特征、结构或特性包括在本申请的至少一个实施例中。因此，在整个说明书各处出现的“在一个实施例中”或“在一实施例中”未必一定指相同的实施例。此外，这些特定的特征、结构或特性可以任意适合的方式结合在一个或多个实施例中。应理解，在本申请的各种实施例中，上述各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本申请实施例的实施过程构成任何限定。上述本申请实施例序号仅仅为了描述，不代表实施例的优劣。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、对象或者装置不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、对象或者装置所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、对象或者装置中还存在另外的相同要素。在本申请所提供的几个实施例中，应该理解到，所揭露的设备和方法，可以通过其它的方式实现。以上所描述的设备实施例仅仅是示意性的，例如，单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，如：多个单元或组件可以结合，或可以集成到另一个系统，或一些特征可以忽略，或不执行。另外，所显示或讨论的各组成部分相互之间的耦合、或直接耦合、或通信连接可以是通过一些接口，设备或单元的间接耦合或通信连接，可以是电性的、机械的或其它形式的。另外，在本申请各实施例中的各功能单元可以全部集成在一个处理单元中，也可以是各单元分别单独作为一个单元，也可以两个或两个以上单元集成在一个单元中；上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能单元的形式实现。本领域普通技术人员可以理解：实现上述方法实施例的全部或部分步骤可以通过程序指令相关的硬件来完成，前述的程序可以存储于计算机可读取存储介质中，该程序在执行时，执行包括上述方法实施例的步骤；而前述的存储介质包括：移动存储设备、只读存储器、磁碟或者光盘等各种可以存储程序代码的介质。或者，本申请上述集成的单元如果以软件功能模块的形式实现并作为独立的产品销售或使用时，也可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请实施例的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台控制器执行本申请各个实施例方法的全部或部分。而前述的存储介质包括：移动存储设备、ROM、磁碟或者光盘等各种可以存储程序代码的介质。以上，仅为本申请的实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以权利要求的保护范围为准。
