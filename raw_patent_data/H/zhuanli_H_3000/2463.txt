标题title
发电负荷预测模型训练方法、预测方法、设备及存储介质
摘要abst
本发明公开了一种发电负荷预测模型训练方法、预测方法、设备及存储介质，所述训练方法包括获取发电能源的各项指标数据及发电环境数据，由指标数据和发电环境数据构成原始数据样本；对原始数据样本进行最大发电负荷标注；对原始数据样本进行归一化处理；利用样本数据集对构建的多个预测模型进行训练，得到输出量，再将输出量进行加权平均，得到预测输出量；利用构建的季节性指数模型对预测输出量进行处理，得到预测值；根据预测值和最大发电负荷计算评价指标，利用评价指标对预测模型的训练精度进行评价。本发明可以提高模型的训练精度，提高预测精度。
权利要求书clms
1.一种发电负荷预测模型训练方法，其特征在于，包括以下步骤：获取不同历史时间点发电能源的各项指标数据以及对应历史时间点的发电环境数据，由单个历史时间点对应的指标数据和发电环境数据构成一个原始数据样本；对每个所述原始数据样本进行最大发电负荷标注，以标注的最大发电负荷作为该原始数据样本的目标值；对每个所述原始数据样本进行归一化处理，得到归一化数据样本；由不同历史时间点的归一化数据样本以及对应的目标值构成样本数据集；至少构建一个预测模型，以及构建季节性指数模型；利用所述样本数据集对每个所述预测模型进行训练，得到所述预测模型的输出量，再将所有预测模型的输出量进行加权平均，得到预测输出量；利用所述季节性指数模型对所述预测输出量进行处理，得到预测值；根据所述预测值和对应的目标值计算评价指标，当所述评价指标小于预设值时，输出训练好的预测模型；当所述评价指标大于等于预设值时，重复预测模型训练、预测输出量处理、以及评价指标的计算与判断步骤，直到所述评价指标小于预设值。2.根据权利要求1所述的发电负荷预测模型训练方法，其特征在于：所述发电能源的指标数据包括不同发电方式的总装机容量和实际发电量、理论最大发电量、实际发电总量、总存煤量、电煤消耗量、本地煤炭价格、全国煤炭价格、煤炭调入量、总库容量、水库水位平均百分比、总外购电量；所述发电环境数据包括本地平均温度、本地平均湿度、本地平均降水量、本地云量、本地平均风速、本地平均辐照强度。3.根据权利要求1所述的发电负荷预测模型训练方法，其特征在于：对每个所述原始数据样本进行归一化处理的具体公式为：其中，为所述原始数据样本中的第i个数据，为不同历史时间点的数据的平均值，为不同历史时间点的数据的方差，为数据的归一化处理结果。4.根据权利要求1所述的发电负荷预测模型训练方法，其特征在于：所述预测模型的数量为3，3个预测模型分别为长短记忆神经网络模型、决策树模型以及支持向量机模型。5.根据权利要求1所述的发电负荷预测模型训练方法，其特征在于：所述预测输出量的计算公式为：其中，为历史时间点的预测输出量，为第q个预测模型的权重值，为第q个预测模型的输出量，Q为预测模型的数量。6.根据权利要求1~5中任一项所述的发电负荷预测模型训练方法，其特征在于：利用所述季节性指数模型对所述预测输出量进行处理的具体实现过程为：由多个历史时间点的预测输出量构成单个历史时序数据集，所述历史时序数据集记为：其中，为历史时序数据集，历史时序数据集是由第m个月中所有天的预测输出量所组成的集合，为第m个月第n天的预测输出量，N为第m个月的天数；在所述历史时序数据集中引入季节波动因子，得到新时序数据集，具体为：其中，为新时序数据集，为引入季节波动因子后第m个月第n天的预测输出量，为季节波动因子，，为第m个月的平均发电负荷，为第m个月所在年份的年度平均发电负荷；按照不同月份的同一天对所述新时序数据集进行重新分组，得到：其中，为重组时序数据集，重组时序数据集是由所有月度的第n天的预测输出量所组成的集合，M为月度数；对所述重组时序数据集进行分数阶累积计算，得到r阶累积序列为：其中，，，，为重组时序数据集的r阶累积序列；根据r阶累积序列计算临时中间变量和，具体为：其中，为平均序列，，B和 Y为临时中间变量矩阵；将临时中间变量和插入时序响应函数，得到：其中，为第M+1个月第n天的预测值；当m＝M+1时，预测值序列为：对所述预测值序列进行降维操作，得到降维后的预测值序列为：其中，，并将降维后的预测值序列表示为：按照月度中的所有天将降维后的预测值序列重新分组为：其中，为预测的第d个月的时序数据集，时序数据集是由第d个月中所有天的预测值所组成的集合，为预测的第d个月第n天的预测值。7.根据权利要求1所述的发电负荷预测模型训练方法，其特征在于：所述评价指标为平均绝对百分比误差，所述平均绝对百分比误差的具体计算公式为：其中，MAPE为平均绝对百分比误差，为预测值，为目标值，N为预测月度的天数。8.一种发电负荷预测方法，其特征在于，包括以下步骤：获取某个时间点发电能源的各项指标数据以及对应时间点的发电环境数据；将所述指标数据和发电环境数据经过归一化处理后输入至各预测模型中，得到各预测模型的预测输出量；对各预测模型的预测输出量进行加权平均，得到最终的预测值；其中，各预测模型为通过如权利要求1~7中任一项所述的发电负荷预测模型训练方法训练得到的模型。9.一种电子设备，包括：处理器和存储有计算机程序的存储器，其特征在于：所述处理器被配置为在运行计算机程序时执行权利要求1~7中任一项所述的发电负荷预测模型训练方法，或执行权利要求8所述的发电负荷预测方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于：所述程序被处理器执行时实现权利要求1~7中任一项所述的发电负荷预测模型训练方法，或执行权利要求8所述的发电负荷预测方法。
说明书desc
技术领域本发明属于发电负荷预测技术领域，尤其涉及一种发电负荷预测模型训练方法、预测方法、设备及存储介质。背景技术将能源系统转变为更加可靠、生态友好和成本效益高的系统，是现在能源政策的核心目标。发电负荷预测是通过数学建模的方法预测某一时间段内的最大发电负荷，发电负荷预测直接影响实时电网运行和长期基础设施扩展规划的相关决策。目前，发电负荷预测都集中在用电侧的分析和预测上，发电侧的预测基本上是针对单个发电技术，比如专注预测风电或者光伏的发电负荷预测，可参见申请公开号为CN104376368A，名称为一种基于频域分解的风力发电短期负荷预测方法及装置的专利文献。如何提高发电负荷预测的适用性以及预测效果是本领域技术人员亟需解决的问题。发明内容针对现有技术的不足，本发明的目的在于提供一种地区的最大发电负荷预测模型训练方法、预测方法、设备及存储介质，以解决现有发电负荷预测方法仅适用单个发电技术以及预测效果不佳的问题。本发明是通过如下的技术方案来解决上述技术问题的：一种发电负荷预测模型训练方法，包括以下步骤：获取不同历史时间点发电能源的各项指标数据以及对应历史时间点的发电环境数据，由单个历史时间点对应的指标数据和发电环境数据构成一个原始数据样本；对每个所述原始数据样本进行最大发电负荷标注，以标注的最大发电负荷作为该原始数据样本的目标值；对每个所述原始数据样本进行归一化处理，得到归一化数据样本；由不同历史时间点的归一化数据样本以及对应的目标值构成样本数据集；至少构建一个预测模型，以及构建季节性指数模型；利用所述样本数据集对每个所述预测模型进行训练，得到所述预测模型的输出量，再将所有预测模型的输出量进行加权平均，得到预测输出量；利用所述季节性指数模型对所述预测输出量进行处理，得到预测值；根据所述预测值和对应的目标值计算评价指标，当所述评价指标小于预设值时，输出训练好的预测模型；当所述评价指标大于等于预设值时，重复预测模型训练、预测输出量处理、以及评价指标的计算与判断步骤，直到所述评价指标小于预设值。进一步地，所述发电能源的指标数据包括不同发电方式的总装机容量和实际发电量、理论最大发电量、实际发电总量、总存煤量、电煤消耗量、本地煤炭价格、全国煤炭价格、煤炭调入量、总库容量、水库水位平均百分比、总外购电量；所述发电环境数据包括本地平均温度、本地平均湿度、本地平均降水量、本地云量、本地平均风速、本地平均辐照强度。进一步地，对每个所述原始数据样本进行归一化处理的具体公式为：其中，为所述原始数据样本中的第i个数据，为不同历史时间点的数据的平均值，为不同历史时间点的数据的方差，为数据的归一化处理结果。进一步地，所述预测模型的数量为3，3个预测模型分别为长短记忆神经网络模型、决策树模型以及支持向量机模型。进一步地，所述预测输出量的计算公式为：其中，为历史时间点的预测输出量，为第q个预测模型的权重值，为第q个预测模型的输出量，Q为预测模型的数量。进一步地，利用所述季节性指数模型对所述预测输出量进行处理的具体实现过程为：由多个历史时间点的预测输出量构成单个历史时序数据集，所述历史时序数据集记为：其中，为历史时序数据集，历史时序数据集是由第m个月中所有天的预测输出量所组成的集合，为第m个月第n天的预测输出量，N为第m个月的天数；在所述历史时序数据集中引入季节波动因子，得到新时序数据集，具体为：其中，为新时序数据集，为引入季节波动因子后第m个月第n天的预测输出量，为季节波动因子，，为第m个月的平均发电负荷，为第m个月所在年份的年度平均发电负荷；按照不同月份的同一天对所述新时序数据集进行重新分组，得到：其中，为重组时序数据集，重组时序数据集是由所有月度的第n天的预测输出量所组成的集合，M为月度数；对所述重组时序数据集进行分数阶累积计算，得到r阶累积序列为：其中，，，，为重组时序数据集的r阶累积序列；根据r阶累积序列计算临时中间变量和，具体为：其中，为平均序列，，B和 Y为临时中间变量矩阵；将临时中间变量和插入时序响应函数，得到：其中，为第M+1个月第n天的预测值；当m＝M+1时，预测值序列为：对所述预测值序列进行降维操作，得到降维后的预测值序列为：其中，，并将降维后的预测值序列表示为：按照月度中的所有天将降维后的预测值序列重新分组为：其中，为预测的第d个月的时序数据集，时序数据集是由第d个月中所有天的预测值所组成的集合，为预测的第d个月第n天的预测值。进一步地，所述评价指标为平均绝对百分比误差，所述平均绝对百分比误差的具体计算公式为：其中，MAPE为平均绝对百分比误差，为预测值，为目标值，N为预测月度的天数。基于同一发明构思，本发明还提供一种发电负荷预测方法，包括以下步骤：获取某个时间点发电能源的各项指标数据以及对应时间点的发电环境数据；将所述指标数据和发电环境数据经过归一化处理后输入至各预测模型中，得到各预测模型的预测输出量；对各预测模型的预测输出量进行加权平均，得到最终的预测值；其中，各预测模型为通过如上所述的发电负荷预测模型训练方法训练得到的模型。基于同一发明构思，本发明实施例提供一种电子设备，包括：处理器和存储有计算机程序的存储器，所述处理器被配置为在运行计算机程序时执行任一本发明所述的发电负荷预测模型训练方法，或执行本发明所述的发电负荷预测方法。基于同一发明构思，本发明实施例提供一种计算机可读存储介质，其上存储有计算机程序，其中，所述程序被处理器执行时实现任一本发明所述的发电负荷预测模型训练方法，或执行本发明所述的发电负荷预测方法。有益效果与现有技术相比，本发明提供一种发电负荷预测模型训练方法、预测方法、设备及存储介质，利用样本数据集对多个预测模型均进行训练，并以多个预测模型的输出量加权平均来得到最终的预测值，大大提高了预测精度；同时在预测模型训练过程中引入季节性指数模型对预测输出量进行处理，进一步提高了预测精度；本发明的发电能源可以包括多种发电方式，因此本发明的发电负荷预测模型能够适应多个发电技术，且具有很好的预测效果。最大发电负荷影响因素较多，且影响因素本身也会受到经济、社会环境的变化而变化，通过季节性指数模型的引入大大降低了影响因素对预测模型训练的干扰，提高了模型的预测精度，本发明提供了一种灵活的最大发电负荷预测模型训练方法。附图说明为了更清楚地说明本发明的技术方案，将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一个实施例，对于本领域普通技术人员来说，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例中发电负荷预测模型训练方法流程图。具体实施方式下面结合本发明实施例中的附图，对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动的前提下所获得的所有其他实施例，都属于本发明保护的范围。如图1所示，本实施例所提供的一种发电负荷预测模型训练方法，包括以下步骤：步骤1：获取原始数据获取不同历史时间点发电能源的各项指标数据以及对应历史时间点的发电环境数据，由单个历史时间点对应的指标数据和发电环境数据构成一个原始数据样本。示例性的，获取2018年1月1日至2018年12月30日发电能源的各项指标数据以及发电环境数据，并以天为时间点。本实施例的发电能源包括火电、水电、风电、光伏发电以及其他发电，则某个历史时间点的各项指标数据以及发电环境数据如表1所示。表1 各项指标数据以及发电环境数据表1中，除了日期之外有26个数据作为特征，这些特征均参与预测模型的训练，设每个特征或数据记为这26个数据或特征构成一个原始数据样本，记为表示第n天的原始数据样本。步骤2：对原始数据进行标注对每个所述原始数据样本进行最大发电负荷标注，以标注的当天可承受的最大发电负荷作为该原始数据样本的目标值。步骤3：归一化处理对每个所述原始数据样本进行归一化处理，得到归一化数据样本。归一化处理的具体计算公式为：其中，为原始数据样本中的第i个数据，为所有数据的平均值，为所有数据的方差，为数据的归一化处理结果。步骤4：训练样本数据集的构建由不同历史时间点的归一化数据样本以及对应的目标值构成样本数据集，将样本数据集分为Q份，Q为预测模型的数量，每一份样本数据集用于训练一个预测模型。步骤4：至少构建一个预测模型，以及构建季节性指数模型。本实施例中，预测模型的数量为3，即Q＝3，3个预测模型分别为长短记忆神经网络模型、决策树模型以及支持向量机模型。步骤5：预测模型的训练利用所述样本数据集对每个所述预测模型进行训练，得到所述预测模型的输出量，再将所有预测模型的输出量进行加权平均，得到预测输出量。长短记忆神经网络模型、决策树模型以及支持向量机模型均为现有模型，这些模型的训练过程也为现有技术。预测输出量的计算公式为：其中，为历史时间点的预测输出量，为第q个预测模型的权重值，为第q个预测模型的输出量，Q为预测模型的数量。步骤6：对预测输出量的处理利用所述季节性指数模型对所述预测输出量进行处理，具体实现过程为：步骤6.1：由多个历史时间点的预测输出量构成单个历史时序数据集，所述历史时序数据集记为：…其中，为历史时序数据集，历史时序数据集是由第m个月中所有天的预测输出量所组成的集合，为第m个月第n天的预测输出量，N为第m个月的天数，M为月度数。步骤6.2：在所述历史时序数据集中引入季节波动因子，得到新时序数据集，具体为：…其中，为新时序数据集，为引入季节波动因子后当前年度第m个月第n天的预测输出量，为季节波动因子，，为当前年度第m个月的平均发电负荷，为第m个月所在年份的年度平均发电负荷。步骤6.3：按照不同月份的同一天对所述新时序数据集进行重新分组，得到：…其中，为重组时序数据集，重组时序数据集是由当前年度所有月度的第n天的预测输出量所组成的集合，M为月度数。步骤6.4：对所述重组时序数据集进行分数阶累积计算，得到r阶累积序列为：……其中，，，为重组时序数据集的r阶累积序列。步骤6.5：根据r阶累积序列计算临时中间变量和，具体为：其中，为平均序列，，B和 Y为临时中间变量矩阵。步骤6.6：将临时中间变量和插入时序响应函数，得到：其中，为第M+1个月第天的预测值；当m＝M+1时，预测值序列为：。步骤6.7：对所述预测值序列进行降维操作，得到降维后的预测值序列为：其中，，并将降维后的预测值序列表示为：步骤6.8：按照月度中的所有天将降维后的预测值序列重新分组为：其中，为预测的第d个月的时序数据集，时序数据集是由第d个月中所有天的预测值所组成的集合，为预测的第d个月第n天的预测值。步骤7：预测模型精度评价根据所述预测值和对应的目标值计算评价指标，当所述评价指标小于预设值时，输出训练好的预测模型；当所述评价指标大于等于预设值时，重复步骤5~7，直到所述评价指标小于预设值。利用样本数据集中的样本每对预测模型训练一次，就利用季节性指数模型对预测输出量进行处理、以及对模型精度评价一次，连续多个评价指标均小于预设值，则输出训练好的预测模型。或者，利用样本数据集中的所有样本对预测模型训练后，再利用季节性指数模型对预测输出量进行处理、以及对模型精度进行评价，当评价指标小于预设值时，则输出训练好的预测模型。本实施例中，评价指标为平均绝对百分比误差，所述平均绝对百分比误差的具体计算公式为：其中，MAPE为平均绝对百分比误差，为预测值，为目标值，N为预测月度的天数。本实施例中，设定值为10%。基于同一发明构思，本发明实施例还提供一种发电负荷预测方法，包括以下步骤：获取某个时间点发电能源的各项指标数据以及对应时间点的发电环境数据；将所述指标数据和发电环境数据经过归一化处理后输入至各预测模型中，得到各预测模型的预测输出量；对各预测模型的预测输出量进行加权平均，得到最终的预测值；其中，各预测模型为通过如上所述的发电负荷预测模型训练方法训练得到的模型。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
