标题title
网络攻防虚拟仿真系统
摘要abst
本发明提供了一种网络攻防虚拟仿真系统，包括至少设置一个系统实体、网络信息配置模块、漏洞配置模块、监测配置模块、防御实体、用户端、攻击实体、仿真实体，本申请利用事先写好的安全漏洞，在使用攻击工具进行攻击篡改安全漏洞的代码时，会对漏洞代码段的长度进行监测，一旦发现漏洞代码段的长度发生了改变，形成一个跟随指令；跟随指令包括变动反馈码和位置反馈码所述变动反馈码和位置反馈码用于根据指令的执行来反馈漏洞代码段被篡改以及漏洞代码段所在的位置。这样，可以随时的得到漏洞代码段篡改数据，可以对整个过程进行有效的仿真模拟，更大程度的了解整个网络攻防的过程。
权利要求书clms
1.网络攻防虚拟仿真系统，其特征在于，包括至少设置一个系统实体；网络信息配置模块，以所述系统实体为基础，通过所述实体硬件参数和软件载体搭建软件环境，并基于搭建的软件环境来配置基础网络系统模型；漏洞配置模块，以所述软件载体为漏洞配置对象，写入多个漏洞代码段，当以所述实体硬件参数和软件载体搭建软件环境时，多个所述漏洞代码段随软件环境被配置到基础网络系统模型中；监测配置模块，所述监测配置模块包括监测单元和配置单元，所述配置单元用于以多个所述漏洞代码段为主体，在每一所述漏洞代码段内插入跟随代码，所述跟随代码用于当所述漏洞代码段被调用篡改时，所述跟随代码用于生成跟随指令，并将所述跟随指令传递至监测单元；设置一个防御实体，所述防御实体具有以多个所述漏洞代码段为基础构建的网络防御模型，将所述防御实体配置到所述系统实体中，使得网络防御模型用于基础网络系统模型的防御配置；至少设置一个用户端，用于以所述基础网络系统模型生成网络环境，所述用户端接入至所述网络环境，用于与系统实体进行交互，并传递交互文件；至少设置一个攻击实体，以所述用户端作为攻击目标获取网络系统模型中的漏洞来构建虚拟机，以所述虚拟机接入至所述网络环境，用于与系统实体进行交互，获取所述交互文件；设置一个仿真实体，与所述攻击实体、系统实体、监测配置模块以及防御实体分别连接，用于根据基础网络系统模型、跟随指令、网络防御模型构建网络攻防仿真模型，当攻击实体以所述用户端作为攻击目标获取网络系统模型中的漏洞来构建虚拟机时，根据所述攻击实体的实际操作和网络防御模型、跟随指令输出攻防数据。2.根据权利要求1所述的网络攻防虚拟仿真系统，其特征在于，所述系统实体包括：至少一个服务器、至少一个网络设备以及基础网络；基于服务器、网络设备以及基础网络来搭建的具有网络连接能力的服务器系统构架。3.根据权利要求1所述的网络攻防虚拟仿真系统，其特征在于，所述基础网络系统模型是以服务器系统构架为基础，在服务器系统构架中以TCP/IP协议族为传输控制协议来构建至少包括应用层、传输层、网络层以及网络接口层的TCP/IP模型。4.根据权利要求1所述的网络攻防虚拟仿真系统，其特征在于，所述攻击实体包括攻击计算机和设置在攻击计算机内部的攻击工具。5.根据权利要求1所述的网络攻防虚拟仿真系统，其特征在于，所述跟随代码至少包括用于限定漏洞代码段的长度的代码字段。6.根据权利要求1所述的网络攻防虚拟仿真系统，其特征在于，所述监测单元具有指令跟随器；所述指令跟随器被配置成通过以下操作来获取跟随指令：当漏洞代码段被调用篡改时，跟随代码用于监测漏洞代码段的长度变化，当监测到漏洞代码段的长度变化时，形成一个跟随指令；所述跟随指令包括变动反馈码和位置反馈码；所述变动反馈码和位置反馈码用于根据指令的执行来反馈漏洞代码段被篡改以及漏洞代码段所在的位置。
说明书desc
技术领域本发明涉及计算机技术领域，特别是涉及一种网络攻防虚拟仿真系统。背景技术一般的，当网络安全应用的软件在进行部署之前，都需要进行一系列的安全验证，或者为了最好地了解网络信息系统的安全性，经常使用攻击性测试技术来评估网络信息安全。这些情形下需要构建一个与外界隔离的实验系统，从而来进行相关的安全验证。在现有公开的技术中，比如公开号为：“CN112104514A”的专利文献1公开了一种多视角的网络攻防仿真系统。所述系统包括：网络信息环境模块，用于配置硬件信息和软件信息，通过硬件信息和软件信息建立网络信息系统模型；背景流量模块，用于模拟用户在所述网络环境中的行为信息，得到背景流量模型；攻防模块，用于根据网络威胁行为建立网络威胁模型和根据网络防御行为建立网络防御模型；仿真模块，用于根据网络信息系统模型、背景流量模型、网络威胁模型以及网络防御模型，构建网络攻防自适应模型；获取预先设置的网络攻防仿真数据，将网络攻防仿真数据输入网络攻防自适应模型，输出网络攻防要素数据。又如公开号为：“CN106790046A”的专利文献2公开了基于超融合架构的网络攻防虚拟仿真系统，包括Web应用模块、协议转发模块、实验配置模块、实验运行模块、节点配置模块、镜像同步模块和性能监控模块；采用超融合架构建设的网络攻防虚拟仿真实验系统，多台服务器节点通过高速网络互联，服务器节点既是计算节点，又是存储节点，通过增加服务器节点的数量水平扩展系统的服务能力；系统中有多个服务器节点，当其中部分服务器节点发生软硬件故障时，不会影响系统的运行；可以直接替换发生故障的服务器节点，当新增服务器节点时，系统会自动向新增服务器节点同步镜像资源，可快速增加系统的服务能力。上述的专利文献1是对网络攻击者、防御者、网络信息系统和用户行为的特有属性、行为及其之间的交互关系、行为决策流程进行建模，并通过仿真实验在模拟的网络环境中对攻击和防御行为进行仿真推演，可用于分析网络防御措施的有效性和评估不同类型对手对目标网络的威胁。专利文献2是解决服务器节点扩展后自动匹配镜像资源。上述的方式仅能模拟出攻防结果，但是对具体的系统漏洞的篡改时模拟不出来的，只能通过后期根据抓取的安全日志、截取数据等进行后期分析得到。发明内容有鉴于此，本发明的主要目的在于提供一种网络攻防虚拟仿真系统。本发明采用的技术方案如下：一种网络攻防虚拟仿真系统，包括至少设置一个系统实体；网络信息配置模块，以所述系统实体为基础，通过所述实体硬件参数和软件载体搭建软件环境，并基于搭建的软件环境来配置基础网络系统模型；漏洞配置模块，以所述软件载体为漏洞配置对象，写入多个漏洞代码段，当以所述实体硬件参数和软件载体搭建软件环境时，多个所述漏洞代码段随软件环境被配置到基础网络系统模型中；监测配置模块，所述监测配置模块包括监测单元和配置单元，所述配置单元用于以多个所述漏洞代码段为主体，在每一所述漏洞代码段内插入跟随代码，所述跟随代码用于当所述漏洞代码段被调用篡改时，所述跟随代码用于生成跟随指令，并将所述跟随指令传递至监测单元；设置一个防御实体，所述防御实体具有以多个所述漏洞代码段为基础构建的网络防御模型，将所述防御实体配置到所述系统实体中，使得网络防御模型用于基础网络系统模型的防御配置；至少设置一个用户端，用于以所述基础网络系统模型生成网络环境，所述用户端接入至所述网络环境，用于与系统实体进行交互，并传递交互文件；至少设置一个攻击实体，以所述用户端作为攻击目标获取网络系统模型中的漏洞来构建虚拟机，以所述虚拟机接入至所述网络环境，用于与系统实体进行交互，获取所述交互文件；设置一个仿真实体，与所述攻击实体、系统实体、监测配置模块以及防御实体分别连接，用于根据基础网络系统模型、跟随指令、网络防御模型构建网络攻防仿真模型，当攻击实体以所述用户端作为攻击目标获取网络系统模型中的漏洞来构建虚拟机时，根据所述攻击实体的实际操作和网络防御模型、跟随指令输出攻防数据。进一步地，所述系统实体包括：至少一个服务器、至少一个网络设备以及基础网络；基于服务器、网络设备以及基础网络来搭建的具有网络连接能力的服务器系统构架。进一步地，所述基础网络系统模型是以服务器系统构架为基础，在服务器系统构架中以TCP/IP协议族为传输控制协议来构建至少包括应用层、传输层、网络层以及网络接口层的TCP/IP模型。进一步地，所述攻击实体包括攻击计算机和设置在攻击计算机内部的攻击工具。进一步地，所述跟随代码至少包括用于限定漏洞代码段的长度的代码字段。进一步地，所述监测单元具有指令跟随器；所述指令跟随器被配置成通过以下操作来获取跟随指令：当漏洞代码段被调用篡改时，跟随代码用于监测漏洞代码段的长度变化，当监测到漏洞代码段的长度变化时，形成一个跟随指令；所述跟随指令包括变动反馈码和位置反馈码；所述变动反馈码和位置反馈码用于根据指令的执行来反馈漏洞代码段被篡改以及漏洞代码段所在的位置。本申请利用事先写好的安全漏洞，在使用攻击工具进行攻击篡改安全漏洞的代码时，会对漏洞代码段的长度进行监测，一旦发现漏洞代码段的长度发生了改变，形成一个跟随指令；跟随指令包括变动反馈码和位置反馈码所述变动反馈码和位置反馈码用于根据指令的执行来反馈漏洞代码段被篡改以及漏洞代码段所在的位置。这样，可以随时的得到漏洞代码段篡改数据，可以对整个过程进行有效的仿真模拟，更大程度的了解整个网络攻防的过程。附图说明以下附图仅对本发明作示意性的说明和解释，并不用于限定本发明的范围，其中：图1为本发明的框架原理图。具体实施方式为了使本发明的目的、技术方案、设计方法及优点更加清楚明了，以下结合附图通过具体实施例对本发明进一步详细说明。应当理解，此处所描述的具体实施例仅用于解释本发明，并不用于限定本发明。参照图1，本发明提供了一种网络攻防虚拟仿真系统，包括至少设置一个系统实体；网络信息配置模块，以所述系统实体为基础，通过所述实体硬件参数和软件载体搭建软件环境，并基于搭建的软件环境来配置基础网络系统模型；漏洞配置模块，以所述软件载体为漏洞配置对象，写入多个漏洞代码段，当以所述实体硬件参数和软件载体搭建软件环境时，多个所述漏洞代码段随软件环境被配置到基础网络系统模型中；监测配置模块，所述监测配置模块包括监测单元和配置单元，所述配置单元用于以多个所述漏洞代码段为主体，在每一所述漏洞代码段内插入跟随代码，所述跟随代码用于当所述漏洞代码段被调用篡改时，所述跟随代码用于生成跟随指令，并将所述跟随指令传递至监测单元；设置一个防御实体，所述防御实体具有以多个所述漏洞代码段为基础构建的网络防御模型，将所述防御实体配置到所述系统实体中，使得网络防御模型用于基础网络系统模型的防御配置；至少设置一个用户端，用于以所述基础网络系统模型生成网络环境，所述用户端接入至所述网络环境，用于与系统实体进行交互，并传递交互文件；至少设置一个攻击实体，以所述用户端作为攻击目标获取网络系统模型中的漏洞来构建虚拟机，以所述虚拟机接入至所述网络环境，用于与系统实体进行交互，获取所述交互文件；设置一个仿真实体，与所述攻击实体、系统实体、监测配置模块以及防御实体分别连接，用于根据基础网络系统模型、跟随指令、网络防御模型构建网络攻防仿真模型，当攻击实体以所述用户端作为攻击目标获取网络系统模型中的漏洞来构建虚拟机时，根据所述攻击实体的实际操作和网络防御模型、跟随指令输出攻防数据。在上述中，所述系统实体包括：至少一个服务器、至少一个网络设备以及基础网络；基于服务器、网络设备以及基础网络来搭建的具有网络连接能力的服务器系统构架，其中服务器系统构架应该还包括服务器的基础系统，包括WINDOWS、LINUX、NETWARE、UNIX任意一个。还包括服务器系统构架的基本拓扑图。在上述中，所述基础网络系统模型是以服务器系统构架为基础，在服务器系统构架中以TCP/IP协议族为传输控制协议来构建至少包括应用层、传输层、网络层以及网络接口层的TCP/IP模型。其中应用层包含了HTTP、HTTPS、FTP、TFTP、SMTP、SNMP、DNS、SSH、POP3、Telnet、DHCP；传输层包含了TCP、UDP；网络层包含了IP；数据链路层包含了P2P；物理层包含了IEEE802.3有线局域网IEEE802.11无线局域网标准。在上述中，所述攻击实体包括攻击计算机和设置在攻击计算机内部的攻击工具。所述攻击工具为常用的网络攻击病毒、比如蠕虫、木马病毒、黑客病毒等。在上述中，所述跟随代码至少包括用于限定漏洞代码段的长度的代码字段。以下是本申请提供的一个实施例，用于限定漏洞代码段的长度。在上述中，所述监测单元具有指令跟随器；所述指令跟随器被配置成通过以下操作来获取跟随指令：当漏洞代码段被调用篡改时，跟随代码用于监测漏洞代码段的长度变化，当监测到漏洞代码段的长度变化时，形成一个跟随指令；所述跟随指令包括变动反馈码和位置反馈码；所述变动反馈码和位置反馈码用于根据指令的执行来反馈漏洞代码段被篡改以及漏洞代码段所在的位置。以下是一个网络攻击后篡改代码的实例：以管理后台植入恶意代码为例。找到系统配置的后台管理的设置页面，通常URL为：**/gjmn-admin.php？page＝gjmnsupercache&amp;tab＝settings**。**gjmn_cache_replace_line**函数的功能是更新指定的字段的数据，这里指定的字段是cache_path，字段数据是’cache_path＝’.c a c h e p at h.′，其中的cache_path.'；，其中的cachepath.′；，其中的cache_path则是来自于$_POST，该数据可控，攻击者可以构造脏数据。*gjmn_cache_replace_line****函数的实现：调用gjmn_cache_replace_line**时，**my_file)**时，**myfile)**时；**new是由符号**‘’包裹在内的字符串，而攻击者用相应的符号’进行闭合后，就能使得cachepath**可以是攻击需要的数据；而插件将数据写入配置文件的过程中根本没有检查数据的合法性，最终写入文件的数据。本申请利用事先写好的安全漏洞，在使用攻击工具进行攻击篡改安全漏洞的代码时，会对漏洞代码段的长度进行监测，一旦发现漏洞代码段的长度发生了改变，形成一个跟随指令；跟随指令包括变动反馈码和位置反馈码所述变动反馈码和位置反馈码用于根据指令的执行来反馈漏洞代码段被篡改以及漏洞代码段所在的位置。这样，可以随时的得到漏洞代码段篡改数据，可以对整个过程进行有效的仿真模拟，更大程度的了解整个网络攻防的过程。本申请还提供了一种网络攻防虚拟仿真方法，包括如下步骤：至少配置一个系统实体；所述系统实体包括：至少一个服务器、至少一个网络设备以及基础网络；基于服务器、网络设备以及基础网络来搭建的具有网络连接能力的服务器系统构架，其中服务器系统构架应该还包括服务器的基础系统，还包括服务器系统构架的基本拓扑图；以所述系统实体为基础，通过所述实体硬件参数和软件载体搭建软件环境，并基于搭建的软件环境来配置基础网络系统模型；以所述软件载体为漏洞配置对象，写入多个漏洞代码段，当以所述实体硬件参数和软件载体搭建软件环境时，多个所述漏洞代码段随软件环境被配置到基础网络系统模型中；以多个所述漏洞代码段为主体，在每一所述漏洞代码段内插入跟随代码，所述跟随代码用于当所述漏洞代码段被调用篡改时，所述跟随代码用于生成跟随指令，并将所述跟随指令传递至监测单元；其中，所述监测单元具有指令跟随器；所述指令跟随器被配置成通过以下操作来获取跟随指令：当漏洞代码段被调用篡改时，跟随代码用于监测漏洞代码段的长度变化，当监测到漏洞代码段的长度变化时，形成一个跟随指令；所述跟随指令包括变动反馈码和位置反馈码；所述变动反馈码和位置反馈码用于根据指令的执行来反馈漏洞代码段被篡改以及漏洞代码段所在的位置。配置一个防御实体，所述防御实体具有以多个所述漏洞代码段为基础构建的网络防御模型，将所述防御实体配置到所述系统实体中，使得网络防御模型用于基础网络系统模型的防御配置；至少配置一个用户端，用于以所述基础网络系统模型生成网络环境，所述用户端接入至所述网络环境，用于与系统实体进行交互，并传递交互文件；至少配置一个攻击实体，以所述用户端作为攻击目标获取网络系统模型中的漏洞来构建虚拟机，以所述虚拟机接入至所述网络环境，用于与系统实体进行交互，获取所述交互文件；配置一个仿真实体，与所述攻击实体、系统实体、监测配置模块以及防御实体分别连接，用于根据基础网络系统模型、跟随指令、网络防御模型构建网络攻防仿真模型，当攻击实体以所述用户端作为攻击目标获取网络系统模型中的漏洞来构建虚拟机时，根据所述攻击实体的实际操作和网络防御模型、跟随指令输出攻防数据。以上已经描述了本发明的各实施例，上述说明是示例性的，并非穷尽性的，并且也不限于所披露的各实施例。在不偏离所说明的各实施例的范围和精神的情况下，对于本技术领域的普通技术人员来说许多修改和变更都是显而易见的。本文中所用术语的选择，旨在最好地解释各实施例的原理、实际应用或对市场中的技术改进，或者使本技术领域的其它普通技术人员能理解本文披露的各实施例。
