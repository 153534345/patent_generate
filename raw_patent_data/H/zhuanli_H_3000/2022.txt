标题title
一种根据船舶航行状态实时调整船舶数据传输的系统
摘要abst
本发明属于船舶数据传输技术领域，具体涉及一种根据船舶航行状态实时调整船舶数据传输的系统，包括岸端接收模块、船舶数据采集处理配置模块和连接所述岸端接收模块和船舶数据采集处理配置模块的网络通信模块；所述传输模式配置子单元和所述动态信息配置子单元相互配合实现根据船舶航行状态自动选择需要传输的数据类型和数据传输的方式，解决现有技术无法根据船舶实际航行需求自动调整船舶数据传输，特别是自动配置调整数据类型和传输方式以适应船舶航行需求的问题，提高了船舶的安全运营。
权利要求书clms
1.一种根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，包括用于接收船舶实时航行数据并判断船舶当前航行状态的岸端接收模块、根据所述船舶实时航行数据和当前航行状态实时调整船舶传输数据类型和船舶数据传输方式的船舶数据采集处理配置模块和连接所述岸端接收模块和船舶数据采集处理配置模块用于网络通信的网络通信模块；所述船舶数据采集处理配置模块包括：依次连接的用于连接船舶各采集设备的串行通信接口单元、用于接收和发送船舶采集数据和船舶配置信息的工控机主板、用于接收工控机主板发送的船舶采集数据和船舶配置信息的数据存储单元、用于对数据存储单元存储的船舶采集数据中无用的数据进行过滤的数据筛选单元、用于对数据筛选单元得到的数据进行优化处理丢弃重复或错误的冗余数据的数据优化单元、用于对数据优化单元得到的数据进行无损压缩处理的数据压缩单元，以及用于对数据压缩单元得到数据通过网络通信模块传输到岸端接收模块的数据传输单元；所述船舶数据采集处理配置模块还包括连接工控机主板用于根据船舶航行状态自动生成船舶数据传输类型配置信息和船舶数据传输方式配置信息的自动化配置单元。2.根据权利要求1所述的根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，所述的船舶数据采集处理配置模块还包括与工控机主板电连接的电源单元，与工控机主板相互连接的用于检测数据采集处理模块各子模块的工作状态并通过信号灯进行指示的自检及信号指示单元，以及与工控机主板相连的用于获取船舶位置信息并将船舶位置信息传输给工控机主板的船舶定位单元；所述自检及信号指示单元将监测结果反馈给工控机主板；所述工控机主板包括接收单元、控制单元和发送单元；所述接收单元用于接收自动化配置单元生成的配置信息和采集的船舶数据，并通过发送单元将其发送给所述数据存储单元；所述控制单元根据配置信息对数据筛选单元和数据传输单元进行控制。3.根据权利要求1所述的根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，所述的自动化配置单元包括：用于根据船舶航行状态自动生成船舶数据传输方式配置信息的传输模式配置子单元和用于根据船舶航行状态自动生成需要传输的船舶数据类型配置信息的动态信息配置子单元；所述动态信息配置子单元生成的配置信息通过工控机主板发送给所述数据筛选单元，所述数据筛选单元根据配置信息进行筛选，只保留需要传输的船舶数据类型数据；所述传输模式配置子单元生成的配置信息通过工控机主板发送给数据传输单元，所述数据传输单元根据配置信息选择传输方式。4.根据权利要求1所述的根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，所述数据存储单元包括SPI flash存储单元和Nand Flash存储单元，所述SPI flash存储单元用于存储船舶配置相关的信息，所述Nand Flash存储单元用于保存离线数据；所述Nand Flash存储单元采用先进先出的方式存储船舶数据，当保存的信息量将超过最大存储容量时，按时间顺序将最早保存的数据丢弃。5.根据权利要求2所述的一种根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，所述串行通信接口单元上设置多个RS232/422/485类型的串行通信接口，用于连接船舶不同的采集设备，获取相应的船舶数据；所述电源单元包括备用电池，所述备用电池可自行充电。6.根据权利要求1-5任一所述的根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，所述的无损压缩采用半字节编码与实时二进制算术编码协同压缩算法，利用数据的统计冗余对所述数据优化单元得到的数据进行压缩，压缩的数据可以完全恢复还原。7.根据权利要求6所述的根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，所述半字节编码具体实现过程为：先将数据中所有的字符按照提前制定的协议转化成数字，即数据均以0-9表示，0-9的ASCII码是由8位二进制组成的，直接去除每个数字序列中相同的前四位，只保留后四位。8.根据权利要求3所述根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，所述的船舶数据采集处理配置模块采集的数据根据不同的类型对应设置不同的tag值，所述动态信息配置子单元通过自动配置tag值实现传输数据类型的选择。9.根据权利要求8所述的根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，所述传输方式包括定时传输，定距传输，定速传输和实时传输；不同所述传输方式用不同的字符串表示。10.根据权利要求9所述的根据船舶航行状态实时调整船舶数据传输的系统，其特征在于，所述的网络通信模块用于船舶和船公司的网络通信，包括卫星通信单元和4G通信单元，两个单元可自动切换，所述的卫星通信单元的卫星采用地球同步轨道卫星，在4G网络覆盖的区域优先选择4G通信单元通信，在没有4G网络覆盖的区域选择卫星通信单元通信。
说明书desc
技术领域本发明属于船舶数据传输技术领域，具体涉及一种根据船舶航行状态实时调整船舶数据传输的系统。背景技术随着我国海运业的蓬勃发展，海上运输任务日益繁重，船舶密度和船舶流量也在不断加大，从而导致航运事故发生的风险明显加剧，因此，对海上在航船舶的动态跟踪和实时监控显得尤为重要。船公司只有准确地掌握在航船舶的信息，才能对船舶的安全及生产做出正确的指挥和决策，船舶的在航信息，是船公司安全及生产管理的重要基础信息。目前许多船舶装备了数据自动采集监测系统，船公司通过船舶安装的自动采集监测系统对船舶数据进行采集，并通过无线网络将采集的数据传送到岸上的船公司管理部门，以实现船公司对船舶信息的实时监控。船舶在航行的过程中，船舶自动采集监测系统会实时的采集船舶航行过程中的所有数据，这些数据中存在船公司不需要的数据和一些长时间不做变更的冗余数据，现有技术试图对船舶采集的数据进行处理，然后把处理后的数据传输到岸端，比如发明专利202110480209 .2一种船舶数据的传输方法及系统，通过机舱设备、桥楼导航设备和视频监控设备分别进行信号数据采集，并发送至多源融合终端；所述多源融合终端对接收到的数据进行信号转换和处理后，通过加密通道传输至基岸操作终端进行显示，通过高速卫星宽带和4G/5G采集信息，将船上有价值的通信数据通过互联网传递至任何需要传递的电脑终端上，不仅对指导船舶安全航行，及时了解船舶需求提供了重要的保障作用；更是对岸基一体化的实现奠定了坚实有力的基础，实现了船岸数据同步显示且安全性高，该发明所述的数据处理仅仅是指将数据转化为TCP协议数据，提到船上有价值的通信数据传到岸端，并没有明确有价值通信数据的获取方式；另外，如果出现断网，采集的数据没有设计离线存储，会导致丢包，不利于船舶的安全运营。船舶实际运营中，为了保证船舶安全运营，船公司需对在航船舶的某一个或者某几个类型的参数进行监控，同时，船舶在不同航行状态下，船舶实际航行需要监控的参数类型不同，然而，现有技术无法实现根据船舶实际航行需求自动调整传输的船舶数据的类型；此外，船公司存在根据航速不同选择不同传输方式的需求，比如船舶在稳定航行的状况下，可设置定时5min传输，船舶航行速度不变的情况下可选择定速传输，即速度发生变化时再进行船舶数据传输，根据船舶实际航行需求自动配置传输方式，现有技术也未见报道如何根据船舶实际航行需求自动调整船舶数据传输。发明内容本发明解决现有技术无法根据船舶实际航行需求自动调整船舶数据传输，特别是自动配置调整数据类型和传输方式以适应船舶航行需求的问题，提供一种根据船舶航行状态实时调整船舶数据传输的系统，根据船舶实际航行需求对采集的数据进行优化和处理，并对处理后的数据根据船舶实际航行需求进行传输。本发明要求保护的技术方案如下：一种根据船舶航行状态实时调整船舶数据传输的系统，包括用于接收船舶实时航行数据并判断船舶当前航行状态的岸端接收模块、根据所述船舶实时航行数据和当前航行状态实时调整船舶传输数据类型和船舶数据传输方式的船舶数据采集处理配置模块和连接所述岸端接收模块和船舶数据采集处理配置模块用于网络通信的网络通信模块；所述船舶数据采集处理配置模块包括：依次连接的用于连接船舶各采集设备的串行通信接口单元、用于接收和发送船舶采集数据和船舶配置信息的工控机主板、用于接收工控机主板发送的船舶采集数据和船舶配置信息的数据存储单元、用于对数据存储单元存储的船舶采集数据中无用的数据进行过滤的数据筛选单元、用于对数据筛选单元得到的数据进行优化处理丢弃重复或错误的冗余数据的数据优化单元、用于对数据优化单元得到的数据进行无损压缩处理的数据压缩单元，以及用于对数据压缩单元得到数据通过网络通信模块传输到岸端接收模块的数据传输单元；所述船舶数据采集处理配置模块还包括连接工控机主板用于根据船舶航行状态自动生成船舶数据传输类型配置信息和船舶数据传输方式配置信息的自动化配置单元。所述的数据采集处理配置模块还包括与工控机主板电连接的电源单元，与工控机主板相互连接的用于检测数据采集处理模块各子模块的工作状态并通过信号灯进行指示的自检及信号指示单元，以及与工控机主板相连的用于获取船舶位置信息并将船舶位置信息传输给工控机主板的船舶定位单元；所述自检及信号指示单元将监测结果反馈给工控机主板；所述工控机主板包括接收单元、控制单元和发送单元；所述接收单元用于接收自动化配置单元生成的配置信息和采集的船舶数据，并通过发送单元将其发送给所述数据存储单元；所述控制单元根据配置信息对数据筛选单元和数据传输单元进行控制。所述的自动化配置单元包括：用于根据船舶航行状态自动生成船舶数据传输方式配置信息的传输模式配置子单元和用于根据船舶航行状态自动生成需要传输的船舶数据类型配置信息的动态信息配置子单元；所述动态信息配置子单元生成的配置信息通过工控机主板发送给所述数据筛选单元，所述数据筛选单元根据配置信息进行筛选，只保留需要传输的船舶数据类型数据；所述传输模式配置子单元生成的配置信息通过工控机主板发送给数据传输单元，所述数据传输单元根据配置信息选择传输方式。所述数据存储单元包括SPI flash存储单元和Nand Flash存储单元，所述SPIflash存储单元用于存储船舶配置相关的信息，所述Nand Flash存储单元用于保存离线数据；所述Nand Flash存储单元采用先进先出的方式存储船舶数据，当保存的信息量将超过最大存储容量时，按时间顺序将最早保存的数据丢弃。优选地，所述串行通信接口单元上设置多个RS232/422/485类型的串行通信接口，用于连接船舶不同的采集设备，获取相应的船舶数据；所述电源单元包括备用电池，所述备用电池可自行充电。优选地，所述的无损压缩采用半字节编码与实时二进制算术编码协同压缩算法，利用数据的统计冗余对所述数据优化单元得到的数据进行压缩，压缩的数据可以完全恢复还原。所述半字节编码具体实现过程为：先将数据中所有的字符按照提前制定的协议转化成数字，即数据均以0-9表示，0-9的ASCII码是由8位二进制组成的，直接去除每个数字序列中相同的前四位，只保留后四位。优选地，所述的船舶数据采集处理配置模块采集的数据根据不同的类型对应设置不同的tag值，所述动态信息配置子单元通过自动配置tag值实现传输数据类型的选择。优选地，所述传输方式包括定时传输，定距传输，定速传输和实时传输；不同所述传输方式用不同的字符串表示。所述的网络通信模块用于船舶和船公司的网络通信，包括卫星通信单元和4G通信单元，两个单元可自动切换，所述的卫星通信单元的卫星采用地球同步轨道卫星，在4G网络覆盖的区域优先选择4G通信单元通信，在没有4G网络覆盖的区域选择卫星通信单元通信。本发明提供一种根据船舶航行状态实时调整船舶数据传输的系统，所述自动化配置单元可根据船舶航行状态自动生成船舶数据传输类型配置信息和船舶数据传输方式配置信息，所述数据传输单元根据数据传输类型配置信息选择传输方式，所述数据筛选单元根据船舶数据传输方式配置信息进行数据筛选，只保留需要传输的船舶数据类型数据，解决现有技术无法根据船舶实际航行需求自动调整船舶数据传输，特别是自动配置调整数据类型和传输方式以适应船舶航行需求的问题。所述的数据筛选单元根据船舶实际航行的状态对数据进行筛选，可降低实际需要传输的数据量，所述数据优化单元对数据筛选单元得到的数据进一步优化去除冗余数据，进一步减少数据量，所述数据压缩单元对数据进行无损压缩，所述无损压缩采用车载定位系统中压缩效果较好的半字节编码与实时二进制算术编码协同压缩算法对优化处理的数据进一步压缩，实测发现压缩率可达80%左右，在保证数据能够完全还原的条件下，大大减少了需要传输的数据的数据量，降低了通信费用；所述的网络通信模块可自主选择4G和卫星网络进行通信，卫星采用地球同步轨道卫星，可以覆盖地球上的每一个角落，保证船舶在远洋航行时数据传输的实时性。所述Nand Flash存储单元用于保存离线数据，对采集的船舶数据进行备份，如果出现断网，通信恢复后，通信中断期间的数据可通过获取Nand Flash存储单元的离线数据进行补充传输，避免传输过程中断网丢包，提高船舶的安全运营。所述Nand Flash存储单元采用先进先出的方式存储船舶动态信息，当保存的信息量将超过最大存储容量时，按时间顺序将最早保存的数据丢弃，保证最新的数据保存在离线数据中，避免离线数据丢失。所述串行通信接口单元上设置多个RS232/422/485类型的串行通信接口，用于连接船舶不同的采集设备，以便于获取船舶采集的各种数据，提高船舶数据的丰富性。所述电源单元包括备用电池，电源单元异常时会启用备用电池，保证船舶终端模块的正常工作，所述备用电池可自行充电，不需要人工更换电池，操作方便。所述网络通信模块可自动切换路由，在4G网络覆盖的区域优先选择4G网络，在没有4G网络覆盖的区域选择卫星通讯，节省通讯的费用。附图说明图1为本发明系统一种实施例的结构示意图。图2为本发明系统船舶数据采集处理配置模块一种实施例的结构示意图。图3为本发明系统自动化配置单元一种实施例的结构示意图。具体实施方式下面结合附图对本发明做进一步详细阐述：一种根据船舶航行状态实时调整船舶数据传输的系统，如图1所示，包括用于接收船舶实时航行数据并判断船舶当前航行状态的岸端接收模块、根据所述船舶实时航行数据和当前航行状态实时调整船舶传输数据类型和船舶数据传输方式的船舶数据采集处理配置模块和连接所述岸端接收模块和船舶数据采集处理配置模块用于网络通信的网络通信模块。如图2所示，所述船舶数据采集处理配置模块包括依次连接的用于连接船舶各采集设备的串行通信接口单元、用于接收和发送船舶采集数据和船舶配置信息的工控机主板、用于接收工控机主板发送的船舶采集数据和船舶配置信息的数据存储单元、用于对数据存储单元存储的船舶采集数据中无用的数据进行过滤的数据筛选单元、用于对数据筛选单元得到的数据进行优化处理丢弃冗余数据的数据优化单元、用于对数据优化单元得到的数据进行压缩处理的数据压缩单元以及用于对数据压缩单元得到数据通过网络通信模块传输到岸端接收模块的数据传输单元，还包括与工控机主板电连接的电源单元、与工控机主板相互连接的用于检测船舶数据采集处理配置模块各子模块的工作状态并通过信号灯进行指示的自检及信号指示单元以及与工控机主板相连的用于获取船舶位置信息并将船舶位置信息传输给工控机主板的船舶定位单元；所述自检及信号指示单元将监测结果反馈给工控机主板；所述数据存储单元包括SPI flash存储单元和Nand Flash存储单元，所述的SPI flash存储单元用于存储配置相关的信息，所述的Nand Flash存储单元用于保存离线数据，所述Nand Flash存储单元采用先进先出的方式存储船舶动态信息，当保存的信息量将超过最大存储容量时，按时间顺序将最早保存的数据丢弃；所述的冗余数据包括重复的数据和错误的数据，例如长时间不做变更的航速或者航向数据都数据重复数据；例如位数明显不正确的GPS数据为错误数据；所述数据压缩单元采用无损压缩方式进行压缩处理，所述的无损压缩采用半字节编码与实时二进制算术编码协同压缩算法，利用数据的统计冗余对所述数据优化单元得到的数据进行压缩，压缩的数据可以完全恢复还原；所述半字节编码具体实现过程为：先将数据中所有的字符按照提前制定的协议转化成数字，即数据均以0-9表示，0-9的ASCII码是由8位二进制组成的，直接去除每个数字序列中相同的前四位，只保留后四位；所述工控机主板包括接收单元、控制单元和发送单元；所述接收单元用于接收自动化配置单元生成的配置信息和采集的船舶数据，并通过发送单元将其发送给所述数据存储单元；所述控制单元根据配置信息对数据筛选单元、数据传输单元进行控制；所述串行通信接口单元上设置多个RS232/422/485类型的串行通信接口，用于连接船舶不同的采集设备，获取相应的船舶数据；所述电源单元包括备用电池，所述备用电池可自行充电。如图3所示，所述船舶数据采集处理配置模块还包括连接工控机主板用于根据船舶航行状态自动生成船舶数据传输类型配置信息和船舶数据传输方式配置信息的自动化配置单元；所述的自动化配置单元包括包括：用于根据船舶航行状态自动生成船舶数据传输方式配置信息的传输模式配置子单元和用于根据船舶航行状态自动生成需要传输的船舶数据类型配置信息的动态信息配置子单元；所述动态信息配置子单元生成的配置信息通过工控机主板发送给所述数据筛选单元，所述数据筛选单元根据配置信息进行筛选，只保留需要的船舶数据传输类型数据，所述的船舶数据采集处理配置模块采集的数据根据不同的类型对应设置不同的tag值，所述动态信息配置子单元通过自动配置tag值实现传输数据类型的选择；在本发明的一些实施例中，船舶在缓慢航行时，航速和航向都没有发生变化，可以预先设置航速或者航向在某一预设值的范围内变化时只传输船舶当前的经纬度信息，假设经纬度的tag值为1，那么动态信息配置子单元生成的配置信息里设置tag值为1，此时根据tag值，数据筛选单元只保留tag为1的数据类型，去除别的类型的数据；在本发明的另一些实施例中，船舶的航向和航速的变化范围超过了每一预设的值，此时需要传输航向和航速信息，假设航向和航速的tag值分别为2和3，那个动态信息配置子单元生成的配置信息里设置tag值为2,3，此时根据tag值，数据筛选单元只保留tag为1的数据类型，去除别的类型的数据。所述传输模式配置子单元生成的配置信息通过工控机主板发送给数据传输单元，所述数据传输单元根据配置信息选择传输方式；所述传输方式包括定时传输，定距传输，定速传输和实时传输，不同传输方式用不同的字符串表示；所述传输模式配置子单元根据船公司预先输入的程序指令生成传输方式的配置信息，船端传输数据的方式，根据不同的策略，船公司进行自主选择，在本发明的一些实施例中，定时传输：按照预先设定的时间间隔传输数据，范围为2-65535s；定距传输：按照预先设定的航行里程间隔传输数据，范围为2-65535m；随速传输：根据预先设置的不同的航速范围，设定不同的时间间隔传输数据；实时传输：按照预先设定的航速和航向变化范围，实时传输船舶当前的动态信息；例如：船舶出港后，其航向特点是固定一个方向航行一个较长的时间后，才转向另一个角度，在航向和航速不变的状态下，船公司一般会预设定距或者定时传输数据，船舶每航行30分钟或者每航行5000m上报一次船舶数据；在航向和航速变化频率较大的区域，可以设置随速传输，每当航速变化范围超过某一预先设定的值时进行船舶数据传输；在天气比较恶劣的状态下，船舶的航速、航向和艉轴转速变化频率非常的大，船舶的航行状态实时发生变化，船公司可以根据航速、航向和艉轴转速变化的频率，为保证船舶安全运营，可预设航速、航向和艉轴转速变化的频率变化频率超过每一定值时进行实时传输。所述的网络通信模块用于船舶和船公司的网络通信，包括卫星通信单元和4G通信单元，两个单元可自动切换，所述的卫星通信单元的卫星采用地球同步轨道卫星；4G网络覆盖的区域优先选择4G通信单元通信，在没有4G网络覆盖的区域选择卫星通信单元通信。应当指出，以上所述具体实施方式可以使本领域的技术人员更全面地理解本发明创造，但不以任何方式限制本发明创造。因此，尽管本说明书参照附图和实施例对本发明创造已进行了详细的说明，但是，本领域技术人员应当理解，仍然可以对本发明创造进行修改或者等同替换，总之，一切不脱离本发明创造的精神和范围的技术方案及其改进，其均应涵盖在本发明创造专利的保护范围当中。
