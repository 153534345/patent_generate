标题title
一种多路视频预监方法及系统
摘要abst
本发明公开了一种多路视频预监方法及系统，包括：获取源视频的图像帧数据和来源标识信息，并将图像帧数据和来源标识信息打包成图像帧数据包；根据预设的分辨率对图像帧数据包进行缩放处理生成处理后视频；将多路处理后视频进行叠加处理生成预监画面并输出显示；从预监画面中选择一路处理后视频成为主视频，并根据被选中的处理后视频的来源标识信息将已选中信号发送至所述来源标识信息对应的视频来源端。本发明通过在预监视频切换时对视频来源端进行信号提示，使该视频来源端人员能够实时确认被选中状态信息，提升预监画面切换衔接流畅度，避免预监画面切换时出现人员反应不及时的断联情况。
权利要求书clms
1.一种多路视频预监方法，其特征在于，所述方法包括：获取源视频的图像帧数据和来源标识信息，并将所述图像帧数据和来源标识信息打包成图像帧数据包；根据预设的分辨率对所述图像帧数据包进行缩放处理生成处理后视频；将多路所述处理后视频进行叠加处理生成预监画面并输出显示；从所述预监画面中选择一路处理后视频成为主视频，并根据被选中的处理后视频的来源标识信息将已选中信号发送至所述来源标识信息对应的视频来源端。2.根据权利要求1所述的多路视频预监方法，其特征在于，所述将所述图像帧数据和来源标识信息打包成图像帧数据包，具体包括：将所述来源标识信息添加至所述图像帧数据生成标识图像帧数据；将所述标识图像帧数据打包生成图像帧数据包。3.根据权利要求1所述的多路视频预监方法，其特征在于，所述将多路所述处理后视频进行叠加处理生成预监画面，具体为：接收输入的显示模式；根据所述显示模式将多路所述处理后视频进行叠加处理生成预监画面。4.根据权利要求3所述的多路视频预监方法，其特征在于，所述显示模式为画中画模式、画外画模式或分屏模式。5.根据权利要求4所述的多路视频预监方法，其特征在于，所述分屏模式为等分屏模式或不等分屏模式。6.一种多路视频预监系统，其特征在于，所述系统包括：视频打包模块，用于获取源视频的图像帧数据和来源标识信息，并将所述图像帧数据和来源标识信息打包成图像帧数据包；视频缩放模块，用于根据预设的分辨率对所述图像帧数据包进行缩放处理生成处理后视频；预监模块，用于将多路所述处理后视频进行叠加处理生成预监画面并输出显示；所述预监模块还用于从所述预监画面中选择一路处理后视频成为主视频，并根据被选中的处理后视频的来源标识信息将已选中信号发送至所述来源标识信息对应的视频来源端。
说明书desc
技术领域本发明涉及视频预监技术领域，特别涉及一种多路视频预监方法及系统。背景技术在具有多会场视频会议需要进行会场切换时，如果每路视频信号源仅仅以文字形式表示，很难预先并且实时判定信号源内容，只有在切换到大屏显示后才能明确视频信息，如若切换后的视频画面有误或显示内容不当，将错误信息显示在大屏后将会造成不良影响。尤其是对于会场画面时间要求较严格的会议，如各种启动仪式、重要领导参加的会议等，要实现画面切换无延时，多会场紧密衔接等。因此，需要对各会场提供的视频进行预监以方便导播台进行切换，避免不当视频画面被推出。但是，现有的视频预监功能仅为方便导播台进行多路视频的切换使用，但对于分会场人员而言，当该会场视频被切换为主视频时，需要通过额外的途径，比如额外通话或仔细听当前主会场的介绍判定自己所在会场是否被选中为当前视频主画面，使得分会场的人员难以准确判断自己会场的视频画面的状态信息，容易造成主会场与分会场之间切换时出现断联，无法很好地满足画面切换衔接度高的会议要求。发明内容本发明的目的是提供一种多路视频预监方法及系统，通过获取源视频的图像帧数据和来源标识信息并打包成图像帧数据包，根据预设的分辨率对图像帧数据包进行缩放处理生成处理后视频，将多路处理后视频叠加生成预监画面并显示，选择一路预监视频成为主视频，并向该路视频的视频来源端发送已选中信号，对视频来源端进行提示，使该视频来源端人员能够实时确认被选中状态信息，提升预监画面切换衔接流畅度，避免预监画面切换时出现人员反应不及时的断联情况。为实现上述目的，本发明第一方面提供了一种多路视频预监方法，其特征在于，所述方法包括：获取源视频的图像帧数据和来源标识信息，并将所述图像帧数据和来源标识信息打包成图像帧数据包；根据预设的分辨率对所述图像帧数据包进行缩放处理生成处理后视频；将多路所述处理后视频进行叠加处理生成预监画面并输出显示；从所述预监画面中选择一路处理后视频成为主视频，并根据被选中的处理后视频的来源标识信息将已选中信号发送至所述来源标识信息对应的视频来源端。优选的，所述将所述图像帧数据和来源标识信息打包成图像帧数据包，具体包括：将所述来源标识信息添加至所述图像帧数据生成标识图像帧数据；将所述标识图像帧数据打包生成图像帧数据包。优选的，所述将多路所述处理后视频进行叠加处理生成预监画面，具体为：接收输入的显示模式；根据所述显示模式将多路所述处理后视频进行叠加处理生成预监画面。进一步优选的，所述显示模式为画中画模式、画外画模式或分屏模式。进一步优选的，所述分屏模式为等分屏模式或不等分屏模式。本发明第二方面，提供了一种多路视频预监系统，所述系统包括：视频打包模块，用于获取源视频的图像帧数据和来源标识信息，并将所述图像帧数据和来源标识信息打包成图像帧数据包；视频缩放模块，用于根据预设的分辨率对所述图像帧数据包进行缩放处理生成处理后视频；预监模块，用于将多路所述处理后视频进行叠加处理生成预监画面并输出显示；所述预监模块还用于从所述预监画面中选择一路处理后视频成为主视频，并根据被选中的处理后视频的来源标识信息将已选中信号发送至所述来源标识信息对应的视频来源端。本发明实施例提供了一种多路视频预监方法及系统，通过获取源视频的图像帧数据和来源标识信息并打包成图像帧数据包，根据预设的分辨率对图像帧数据包进行缩放处理生成处理后视频，将多路处理后视频叠加生成预监画面并显示，选择一路预监视频成为主视频，并向该路视频的视频来源端发送已选中信号，对视频来源端进行提示，使该视频来源端人员能够实时确认被选中状态信息，提升预监画面切换衔接流畅度，避免预监画面切换时出现人员反应不及时的断联情况。附图说明图1为本发明实施例一提供的多路视频预监方法的流程图；图2为本发明实施例二提供的多路视频预监系统的结构示意图。具体实施方式为了使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明作进一步地详细描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其它实施例，都属于本发明保护的范围。本发明实施例提供的一种多路视频预监方法及系统，通过获取源视频的图像帧数据和来源标识信息并打包成图像帧数据包，根据预设的分辨率对图像帧数据包进行缩放处理生成处理后视频，将多路处理后视频叠加生成预监画面并显示，选择一路预监视频成为主视频，并向该路视频的视频来源端发送已选中信号，对视频来源端进行提示，使该视频来源端人员能够实时确认被选中状态信息，提升预监画面切换衔接流畅度，避免预监画面切换时出现人员反应不及时的断联情况。实施例一本发明实施例一提供了一种多路视频预监方法，图1为本发明实施例一提供的多路视频预监方法的流程图，如图1所示，本方法包括如下步骤：步骤101，获取源视频的图像帧数据和来源标识信息，并将图像帧数据和来源标识信息打包成图像帧数据包。具体的，获取来自视频来源端的源视频，并提取出该源视频的图像帧数据，以及用于标识该视频来源端的来源标识信息。将来源标识信息添加至图像帧数据中生成带有标识信息的标识图像帧数据，并将标识图像帧数据进行打包生成图像帧数据包。对于多路视频的每一路视频，均按照以上处理方式进行处理，生成该路视频的图像帧数据包。步骤102，根据预设的分辨率对图像帧数据包进行缩放处理生成处理后视频。具体的，根据预设的分辨率对图像帧数据包进行缩放处理，然后生成处理后视频；其中，预设的分辨率与图像帧数据包的数据传输通道的传输带宽有关，经过缩放处理后的处理后视频的分辨率就等于预设的分辨率。步骤103，将多路处理后视频进行叠加处理生成预监画面并输出显示。具体的，在多路视频的每一路源视频均经过上述步骤101及步骤102处理后生成各自相应的处理后视频，将多路处理后视频进行叠加处理生成预监画面并输出显示到预监窗口。其中，叠加处理生成的预监画面的显示模式包括画中画模式、画外画模式或分屏模式，分屏模式可以为等分屏模式也可以为不等分屏模式。显示模式可通过接收预监控制人员输入的显示模式参数进行更换，预监画面能够根据控制人员输入的显示模式随时调整预监画面的显示模式。步骤104，从预监画面中选择一路处理后视频成为主视频，并根据被选中的处理后视频的来源标识信息将已选中信号发送至来源标识信息对应的视频来源端。具体的，画面切换控制人员通过预监窗口所显示的预监画面来操作视频的切换，当需要切换某一路视频时，从预监画面中选择该路视频并切换为主视频，并根据被选中的处理后视频中带有的来源标识信息将已选中信号发送至来源标识信息对应的视频来源端。使视频来源端的相关工作人员能够及时准确地知道自己的本地视频已被选中为主视频，避免断联情况发生。同样的，本发明会根据被切走的处理后视频的来源标识信息将已切走信号发送至该路视频的视频来源端，以通知该路视频的相关工作人员该路视频已被切换，使该路视频的工作人员能够及时准确的获得相关的信号提示。实施例二本发明实施例二提供了一种多路视频预监系统，图2为本发明实施例二提供的多路视频预监系统的结构示意图，如图2所示，该系统包括：视频来源端20、视频打包模块21、视频缩放模块22和预监模块23。具体的，视频打包模块21，用于获取源视频的图像帧数据和来源标识信息，并将图像帧数据和来源标识信息打包成图像帧数据包；视频缩放模块22，用于根据预设的分辨率对图像帧数据包进行缩放处理生成处理后视频；预监模块23，用于将多路处理后视频进行叠加处理生成预监画面并输出显示；预监模块23还用于从预监画面中选择一路处理后视频成为主视频，并根据被选中的处理后视频的来源标识信息将已选中信号发送至来源标识信息对应的视频来源端20。本发明实施例二提供的多路视频预监系统用于实现实施例一中步骤101~104。具体实现方式和效果与实施例一相同，在此不再赘述。本发明实施例提供的一种多路视频预监方法及系统，通过获取源视频的图像帧数据和来源标识信息并打包成图像帧数据包，根据预设的分辨率对图像帧数据包进行缩放处理生成处理后视频，将多路处理后视频叠加生成预监画面并显示，选择一路预监视频成为主视频，并向该路视频的视频来源端发送已选中信号，对视频来源端进行提示，使该视频来源端人员能够实时确认被选中状态信息，提升预监画面切换衔接流畅度，避免预监画面切换时出现人员反应不及时的断联情况。专业人员应该还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。结合本文中所公开的实施例描述的方法或算法的步骤可以用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器、内存、只读存储器、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。以上所述的具体实施方式，对本发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施方式而已，并不用于限定本发明的保护范围，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
