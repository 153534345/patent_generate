标题title
电子设备、云端设备、客户端设备及其操作方法
摘要abst
本公开涉及电子设备、云端设备、客户端设备及其操作方法。一种操作电子设备的方法，电子设备包括被配置为采集视频的相机模块并具有第一状态，在第一状态中，激活相机模块以采集视频，该方法包括：响应于检测到一种或多种事件中的事件，在电子设备处于第一状态的情况下，传输指示检测到事件的报警消息，以及传输在检测到事件后由相机模块采集的视频作为报警视频；以及在传输报警消息后，响应于检测到所述一种或多种事件中的事件，不传输指示检测到事件的报警消息而继续传输由相机模块采集的视频。
权利要求书clms
1. 一种操作电子设备的方法，所述电子设备包括被配置为采集视频的相机模块，所述电子设备具有第一状态，在所述第一状态中，激活所述相机模块以采集视频，所述方法包括：响应于检测到一种或多种事件中的事件，在所述电子设备处于所述第一状态的情况下，传输指示检测到事件的报警消息，以及传输在检测到事件后由所述相机模块采集的视频作为报警视频；以及在传输所述报警消息后，响应于检测到所述一种或多种事件中的事件，不传输指示检测到事件的报警消息而继续传输由所述相机模块采集的视频。2.根据权利要求1所述的方法，其中，所述电子设备还具有第二状态，在所述第二状态中，去激活所述相机模块，以及其中，所述方法包括：使所述电子设备默认处于所述第二状态；响应于检测到所述一种或多种事件中的事件，使所述电子设备从所述第二状态切换到所述第一状态，其中，所述报警消息和所述报警视频的传输是在所述电子设备从所述第二状态切换到所述第一状态后执行的。3.根据权利要求1所述的方法，所述方法包括：使所述电子设备保持处于所述第一状态。4. 根据权利要求1至3中任一项所述的方法，所述方法包括在传输所述报警消息后响应于检测到所述一种或多种事件中的事件：响应于确定距离上一次传输报警消息未经过预设报警时间间隔，不传输指示检测到事件的报警消息而继续传输由所述相机模块采集的视频；或者响应于确定距离上一次传输报警消息已经过预设报警时间间隔，传输指示检测到事件的报警消息以及继续传输由所述相机模块采集的视频。5. 根据权利要求1至3中任一项所述的方法，其中，所述一种或多种事件被按优先级排序，以及其中，所述方法包括响应于检测到所述一种或多种事件中的第一事件，在所述电子设备处于所述第一状态的情况下：响应于确定所述第一事件是所述一种或多种事件中的优先级最高的事件，立即传输指示检测到所述第一事件的报警消息，以及传输在检测到所述第一事件后由所述相机模块采集的视频作为报警视频；或者响应于确定所述第一事件不是所述一种或多种事件中的优先级最高的事件，等待预设等待时间段，然后传输指示检测到在所述第一事件和在所述预设等待时间段期间检测到的事件当中具有最高优先级的事件的报警消息，以及传输在检测到该具有最高优先级的事件后由所述相机模块采集的视频作为报警视频或传输在检测到所述第一事件后由所述相机模块采集的视频作为报警视频。6.根据权利要求1至3中任一项所述的方法，所述方法包括：响应于检测到所述一种或多种事件中的被配置用于触发报警的报警触发事件，在所述电子设备处于所述第一状态的情况下，传输指示检测到报警触发事件的报警消息，以及传输在检测到报警触发事件后由所述相机模块采集的视频作为报警视频。7. 根据权利要求6所述的方法，所述方法包括在传输所述报警消息后：响应于检测到所述一种或多种事件中的报警触发事件，不传输指示检测到报警触发事件的报警消息而继续传输由所述相机模块采集的视频；或者响应于未检测到所述一种或多种事件中的报警触发事件但检测到所述一种或多种事件中的非报警触发事件，不传输指示检测到非报警触发事件的报警消息并停止传输由所述相机模块采集的视频；或者响应于未检测到所述一种或多种事件中的任何事件，停止传输由所述相机模块采集的视频。8.根据权利要求1至3中任一项所述的方法，其中，在所述第一状态中，所采集的视频被存储在本地，以及其中，所述方法包括在传输报警消息后：传输由所述相机模块采集的视频作为报警视频，并且当传输的视频的时长达预设报警视频时长时，停止传输由所述相机模块采集的视频，并且传输指示存在报警视频的后续视频的扩展消息。9.根据权利要求8所述的方法，其中，报警消息、报警视频和扩展消息被传输至云端设备，所述云端设备被配置为接收并存储报警消息、报警视频和扩展消息以及将报警消息和报警视频传输至客户端设备，以及其中，后续视频被传输至所述云端设备，所述云端设备被配置为将后续视频转发至所述客户端设备但不存储后续视频。10.根据权利要求9所述的方法，其中，所述客户端设备被配置为：响应于播放报警视频，查询是否存在与报警视频相关联的扩展消息；响应于查询到存在与报警视频相关联的扩展消息，当离报警视频播放结束不小于第一预设时长且不大于第二预设时长时，请求传输后续视频，其中，所述第一预设时长被配置为允许报警视频与后续视频在所述客户端设备处连续播放，所述第二预设时长大于或等于所述第一预设时长。11.一种电子设备，所述电子设备包括：相机模块，被配置为采集视频；一个或多个处理器；以及存储计算机可执行指令的存储器，所述计算机可执行指令在被所述一个或多个处理器执行时使得所述一个或多个处理器执行根据权利要求1至10中任一项所述的操作电子设备的方法。12. 一种操作云端设备的方法，包括：响应于一种或多种事件中的事件被检测到，接收并存储指示检测到事件的报警消息以及与事件相关联的报警视频；以及在接收到所述报警消息后，响应于所述一种或多种事件中的事件被检测到，接收并存储与事件相关联的报警视频而不再接收到指示检测到事件的报警消息。13.根据权利要求12所述的方法，还包括：传输报警消息和报警视频；接收并存储指示存在报警视频的后续视频的扩展消息；响应于接收到对扩展消息的查询请求，反馈查询结果；以及响应于接收到对后续视频的传输请求，转发而不存储后续视频。14. 一种云端设备，所述云端设备包括：一个或多个处理器；以及存储计算机可执行指令的存储器，所述计算机可执行指令在被所述一个或多个处理器执行时使得所述一个或多个处理器执行根据权利要求12至13中任一项所述的操作云端设备的方法。15. 一种操作客户端设备的方法，包括：响应于一种或多种事件中的事件被检测到，接收指示检测到事件的报警消息以及与事件相关联的报警视频；以及在接收到所述报警消息后，响应于所述一种或多种事件中的事件被检测到，接收与事件相关联的报警视频而不再接收到指示检测到事件的报警消息。16.根据权利要求15所述的方法，还包括：响应于播放报警视频，查询是否存在指示存在报警视频的后续视频的扩展消息；响应于查询到存在扩展消息，当离报警视频播放结束不小于第一预设时长且不大于第二预设时长时，请求传输后续视频，其中，所述第一预设时长被配置为允许报警视频与后续视频在所述客户端设备处连续播放，所述第二预设时长大于或等于所述第一预设时长；以及接收后续视频以在报警视频播放结束时连续播放后续视频。17. 一种客户端设备，所述客户端设备包括：一个或多个处理器；以及存储计算机可执行指令的存储器，所述计算机可执行指令在被所述一个或多个处理器执行时使得所述一个或多个处理器执行根据权利要求15至16中任一项所述的操作客户端设备的方法。
说明书desc
技术领域本公开涉及视频监控领域，并且更具体地，涉及一种使用相机的电子设备及其操作方法，还涉及能够与这种电子设备协作的云端设备和客户端设备及其操作方法。背景技术视频监控设备总是不得不在性能与功耗之间做权衡。持续录像在提供全面的视频监控数据方面是期望的，但是CVR所要求的功耗水平往往是视频监控设备的视频监控设备）所望而却步的。为此，越来越多的使用电池供电相机的视频监控设备被设计为基于事件录像。EVR不像CVR那样全天录像，而是仅记录与特定事件的检测相关联的视频片段，这使得EVR所要求的功耗水平要比CVR所要求的功耗水平低得多，更适合于使用电池供电相机的视频监控设备。发明内容根据本公开的第一方面，提供了一种操作电子设备的方法，所述电子设备包括被配置为采集视频的相机模块，所述电子设备具有第一状态，在所述第一状态中，激活所述相机模块以采集视频，所述方法包括：响应于检测到一种或多种事件中的事件，在所述电子设备处于所述第一状态的情况下，传输指示检测到事件的报警消息，以及传输在检测到事件后由所述相机模块采集的视频作为报警视频；以及在传输所述报警消息后，响应于检测到所述一种或多种事件中的事件，不传输指示检测到事件的报警消息而继续传输由所述相机模块采集的视频。根据本公开的第二方面，提供了一种电子设备，所述电子设备包括：相机模块，被配置为采集视频；一个或多个处理器；以及存储计算机可执行指令的存储器，所述计算机可执行指令在被所述一个或多个处理器执行时使得所述一个或多个处理器执行根据本公开的第一方面所述的操作电子设备的方法。根据本公开的第三方面，提供了一种操作云端设备的方法，包括：响应于一种或多种事件中的事件被检测到，接收并存储指示检测到事件的报警消息以及与事件相关联的报警视频；以及在接收到所述报警消息后，响应于所述一种或多种事件中的事件被检测到，接收并存储与事件相关联的报警视频而不再接收到指示检测到事件的报警消息。根据本公开的第四方面，提供了一种云端设备，所述云端设备包括：一个或多个处理器；以及存储计算机可执行指令的存储器，所述计算机可执行指令在被所述一个或多个处理器执行时使得所述一个或多个处理器执行根据本公开的第三方面所述的操作云端设备的方法。根据本公开的第五方面，提供了一种操作客户端设备的方法，包括：响应于一种或多种事件中的事件被检测到，接收指示检测到事件的报警消息以及与事件相关联的报警视频；以及在接收到所述报警消息后，响应于所述一种或多种事件中的事件被检测到，接收与事件相关联的报警视频而不再接收到指示检测到事件的报警消息。根据本公开的第六方面，提供了一种客户端设备，所述客户端设备包括：一个或多个处理器；以及存储计算机可执行指令的存储器，所述计算机可执行指令在被所述一个或多个处理器执行时使得所述一个或多个处理器执行根据本公开的第五方面所述的操作客户端设备的方法。通过以下参照附图对本公开的示例性实施例的详细描述，本公开的其它特征及其优点将会变得更为清楚。附图说明构成说明书的一部分的附图描述了本公开的实施例，并且连同说明书一起用于解释本公开的原理。参照附图，根据下面的详细描述，可以更加清楚地理解本公开，其中：图1是示出根据本公开的一些实施例的操作电子设备的方法的流程图；图2是示出根据本公开的一些实施例的操作电子设备的方法的流程图；图3是示出根据本公开的一些实施例的操作电子设备的方法的示例实现过程的流程图；图4是示出在图3所示的示例实现过程中电子设备、云端设备和客户端设备之间的数据映射关系的示意图；图5是示出根据本公开的一些实施例的操作电子设备的方法的示例实现过程的流程图；图6是示出在图5所示的示例实现过程中电子设备、云端设备和客户端设备之间的数据映射关系的示意图；图7是示出根据本公开的一些实施例的操作电子设备的方法的示例实现过程的流程图；图8是示出根据本公开的一些实施例的操作电子设备的方法的示例实现过程的流程图；图9是示出根据本公开的一些实施例的操作电子设备的方法的示例实现过程的流程图；图10是示出在图9所示的示例实现过程中电子设备、云端设备和客户端设备之间的数据映射关系的示意图；图11是示出根据本公开的一些实施例的操作电子设备的方法的流程图；图12是示出根据本公开的一些实施例的操作电子设备的方法的示例实现过程的流程图；图13和图14是示出根据本公开的一些实施例的操作云端设备的方法的流程图；图15和图16是示出根据本公开的一些实施例的操作客户端设备的方法的流程图；图17是示出可以在其上实现本公开的一个或多个实施例的非限制性示例系统的示意性框图，该系统包括根据本公开的一些实施例的电子设备、云端设备和客户端设备。注意，在以下说明的实施方式中，有时在不同的附图之间共同使用同一附图标记来表示相同部分或具有相同功能的部分，而省略其重复说明。在本说明书中，使用相似的标号和字母表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步讨论。为了便于理解，在附图等中所示的各结构的位置、尺寸及范围等有时不表示实际的位置、尺寸及范围等。因此，所公开的发明并不限于附图等所公开的位置、尺寸及范围等。此外，附图不必按比例绘制，一些特征可能被放大以示出具体组件的细节。实施方式现在将参照附图来详细描述本公开的各种示例性实施例。应当注意，除非另外具体说明，否则在这些实施例中阐述的部件和步骤的相对布置、数字表达式和数值不限制本公开的范围。以下对至少一个示例性实施例的描述实际上仅仅是说明性的，决不作为对本公开及其应用或使用的任何限制。也就是说，本文中的哈希引擎是以示例性的方式示出，来说明本公开中的电路的不同实施例，而并非意图限制。本领域的技术人员将会理解，它们仅仅说明可以用来实施本发明的示例性方式，而不是穷尽的方式。对于相关领域普通技术人员已知的技术、方法和设备可能不作详细讨论，但在适当情况下，所述技术、方法和设备应当被视为说明书的一部分。图17示出了可以在其上实现本公开的一个或多个实施例的非限制性示例系统的示意性框图，该系统包括根据本公开的一些实施例的电子设备100，并且还包括网络130、云端设备140以及客户端设备150。电子设备100可以经由网络130与云端设备140通信，例如可以将数据传输至云端设备140以进行处理和/或存储。电子设备100还可以经由网络130与客户端设备150通信，例如可以从客户端设备150接收用户的请求或将数据传输至客户端设备150以供用户查看。云端设备140也可以经由网络130与电子设备100和客户端设备150二者通信，从而可以接收来自电子设备100的数据以进行处理和/或存储、从客户端设备150接收用户的请求或将数据传输至客户端设备150以供用户查看、和/或在电子设备100和客户端设备150之间进行数据/请求的转发等。出于非限制性说明的目的，在一个示例应用场景中，电子设备100可以是电子门铃，客户端设备150可以是用户的手机，而云端设备140可以是云平台。如图17所示，电子设备100可以包括相机模块104。相机模块104被配置为采集视频。例如，相机模块104可包含高功耗录像芯片和图像传感器。电子设备100能够支持对于其各模块单独进行开关的功能，从而能够在不同状态下通过对各模块进行不同的上下电控制来实现不同的功耗水平。在一些示例中，电子设备100可以在第一状态和第二状态之间切换。在第一状态中，激活相机模块104以采集视频。在第二状态中，去激活相机模块104。电子设备100在第二状态中相比于在第一状态中可具有更低的功耗水平。例如，第一状态可以是电子设备100的唤醒状态，而第二状态可以是电子设备100的休眠状态。在一些示例中，电子设备100可以保持处于第一状态。允许电子设备100在第一状态和第二状态之间切换的情况相比于使电子设备100保持处于第一状态的情况可具有更低的功耗水平。在一些实施例中，电子设备100可以包括供电模块102，供电模块102被配置为对电子设备100供电。在一些示例中，供电模块102可以包括电池1022和/或供电电路1024，电池1022被配置为利用其所存储的电力对电子设备100供电，供电电路1024被配置为连接至外部电源以利用来自外部电源的电力对电子设备100供电。在一些示例中，当电池1022是可再充电电池时，供电电路1024还可被配置为利用来自外部电源的电力对电池1022充电。在一些实施例中，电子设备100可以包括前卷模块106。前卷模块106可以被配置为相比于相机模块104以更低的功耗采集视频。例如，前卷模块106可包含低功耗录像芯片和图像传感器。相机模块104例如可以被配置为基于事件录像，而前卷模块106可以在相机模块104断电时单独以低功耗模式进行循环录像。由此，电子设备100能够在相机模块104所记录的与检测到的事件相关联的视频片段之前附上由前卷模块106在该事件被检测到之前一段时间期间记录的视频片段，从而允许用户更清楚地知道该事件的来龙去脉。这样，电子设备100既不会太耗电，也不会产生大量垃圾数据，还不容易遗漏关键信息，从而可以在满足用户使用的情况下延长电池使用寿命并提升用户体验。在一些实施例中，电子设备100可以包括事件检测模块108。通过事件检测模块108与相机模块104的协作，电子设备100可以具备EVR能力。事件检测模块108可被配置为能检测不同种类的事件，例如事件检测模块108可被配置为检测用户感兴趣的一种或多种事件。在如图17所示的实施例中，事件检测模块108包括被动红外模块1082、运动检测模块1084和目标检测模块1086。例如，PIR模块1082可以通过检测红外辐射水平的变化来检测PIR事件；MD模块1084可以通过比较连续图像帧之间的像素变化结合运动检测算法来检测运动事件；OD模块1086可以通过诸如图像识别或分类算法等智能算法分析图像帧是否包含目标来检测目标事件，这样的目标例如可以是但不限于人形、宠物、车辆等。这些仅仅是PIR模块1082、MD模块1084和OD模块1086的非限制性示例实现方式，可以理解的是还可以采取现在已知或以后开发的任何合适的方法来检测事件。在一些示例中，事件检测模块108的事件检测灵敏度水平是可配置的，例如可以在“高”、“中”、“低”三种水平当中进行配置，并且可以默认为“中”。替代地，在一些实施例中，电子设备100自身可以不部署有事件检测模块108，而是与电子设备100外部的事件检测设备通信。外部的事件检测设备在检测到事件时可以通知电子设备100激活相机模块104以开始录像。在一些实施例中，当电子设备100不具有前卷模块106时，可以先通过PIR模块1082检测PIR事件来激活相机模块104，再利用MD模块1084和/或OD模块1086处理相机模块104所拍摄的图像帧来进一步检测运动事件和/或目标事件，从而可以进行例如二次验证等操作。在一些实施例中，当电子设备100具有前卷模块106时，MD模块1084和/或OD模块1086可以处理前卷模块106所拍摄的图像帧来检测运动事件和/或目标事件以激活相机模块104，然后再处理相机模块104所拍摄的图像帧来进一步检测运动事件和/或目标事件，从而可以进行例如二次验证等操作。例如，在电子设备100可响应于事件的检测而在第一状态与第二状态之间切换的情况下，事件检测模块108被配置用于检测的事件可被视为录像触发事件。通过事件检测模块108与相机模块104的协作，电子设备100可以完整地记录事件。比如，在相机模块104响应于检测到事件而开始录像后，事件检测模块108可以连续地或定期地检测是否有事件发生，如果确定有事件发生则使相机模块104继续录像，如果确定没有事件发生则使相机模块104停止录像。由此，相机模块104可以完整记录事件始末。录像触发事件例如可以进一步分为报警触发事件和非报警触发事件。当检测到报警触发事件时，电子设备100不仅可以激活相机模块104采集视频还可以传输报警消息和报警视频。当检测到非报警触发事件时，电子设备100可以仅激活相机模块104采集视频而不传输报警消息和报警视频。在一些示例中，PIR事件可以是非报警触发事件，而运动事件和目标事件可以是报警触发事件。可以理解，例如在电子设备100始终保持第一状态的情况下，事件检测模块108被配置用于检测的事件也可包括报警触发事件和非报警触发事件，只不过事件的检测只会决定报警是否触发而不再引起电子设备100的状态切换。在一些实施例中，电子设备100可以包括本地存储模块112，其可被配置为在本地存储由相机模块104和/或前卷模块106记录的视频。本地存储模块112例如但不限于采取外置记忆卡或内嵌多媒体卡等的形式。替代地，在另一些实施例中，电子设备100自身可以不部署有本地存储模块112，而是与电子设备100外部的本地存储设备通信。附加地或替代地，在一些实施例中，电子设备100还可以经由电子设备100的通信模块114而在云端设备140处存储由相机模块104和/或前卷模块106记录的视频。例如，云端设备140可以是提供云存储服务的云平台。电子设备100还可以包括处理器120以及存储计算机可执行指令的存储器122，计算机可执行指令在被处理器120执行时使得处理器120执行操作电子设备100的方法。处理器120例如可以是电子设备100的中央处理单元。处理器120可以是任何类型的通用处理器，或者可以是专门设计用于操作电子设备100的处理器，诸如专用集成电路。存储器122可以包括可由处理器120访问的各种计算机可读介质。在各种实施例中，本文描述的存储器122可以包括易失性和非易失性介质、可移除和不可移除介质。例如，存储器122可以包括以下的任何组合：随机存取存储器、动态RAM、静态RAM、只读存储器、闪存、高速缓冲存储器和/或任何其它类型的非瞬态计算机可读介质。存储器122可以存储在被处理器120执行时使得处理器120执行操作电子设备100的方法的指令。下面将结合附图详细描述根据本公开的各种实施例的操作电子设备100的方法。图1示出了根据本公开的一些实施例的操作电子设备100的方法200的流程图。如前所述，电子设备100可具有第一状态，在第一状态中，激活相机模块104以采集视频。如图1所示，方法200包括：在框S202处，响应于检测到一种或多种事件中的事件，在电子设备100处于第一状态的情况下，传输指示检测到事件的报警消息，以及传输在检测到事件后由相机模块104采集的视频作为报警视频；在框S204处，在传输报警消息后，响应于检测到所述一种或多种事件中的事件，不传输指示检测到事件的报警消息而继续传输由相机模块104采集的视频。所述一种或多种事件可以是电子设备100的事件检测模块108或电子设备100外部的事件检测设备被配置用于检测的各种事件，例如可以包括PIR事件、运动事件、目标事件中的一种或多种。在一些实施例中，方法200还可包括：在传输报警消息后，响应于未检测到所述一种或多种事件中的任何事件，停止传输由相机模块104采集的视频。在一些实施例中，电子设备100还可具有第二状态，在第二状态中，去激活相机模块104，方法200还可包括：使电子设备100默认处于第二状态；响应于检测到所述一种或多种事件中的事件，使电子设备100从第二状态切换到第一状态，其中，报警消息和报警视频的传输是在电子设备100从第二状态切换到第一状态后执行的。在一些实施例中，方法200还可包括：在传输报警消息后，响应于未检测到所述一种或多种事件中的任何事件，使电子设备100从第一状态切换回第二状态。例如，图2示出了方法200的非限制性示例方法200’。如图2所示，方法200’包括：在框S202’处，使电子设备100默认处于第二状态，在第二状态中，去激活相机模块104；在框S204’处，响应于检测到一种或多种事件中的事件，使电子设备100从第二状态切换到第一状态，在第一状态中，激活相机模块104以采集视频；在框S206’处，在电子设备100从第二状态切换到第一状态后，传输指示检测到事件的报警消息，以及传输在检测到事件后由相机模块104采集的视频作为报警视频；在框S208’处，在传输报警消息后，响应于检测到所述一种或多种事件中的事件，使电子设备100保持处于第一状态，不传输指示检测到事件的报警消息而继续传输由相机模块104采集的视频，或者在框S210’处，在传输报警消息后，响应于未检测到所述一种或多种事件中的任何事件，停止传输由相机模块104采集的视频，使电子设备100从第一状态切换回第二状态。在一些实施例中，当电子设备100具有前卷模块106时，还在第二状态中激活前卷模块106以采集视频，以及还在第一状态中去激活前卷模块106。由此，所传输的报警视频还可以包括在检测到事件前由前卷模块106采集的视频。具体地，例如参考图3，一开始电子设备100处于第二状态，此时相机模块104去激活，在此期间检测事件。如果未检测到事件，则电子设备100保持处于第二状态。如果检测到事件，则电子设备100进入第一状态，此时相机模块104激活以采集视频。接着，传输指示检测到事件的报警消息，还传输与事件相关联的报警视频。在此期间继续检测事件。如果检测到事件，则电子设备100保持处于第一状态，但此时仅仅传输报警视频而不再额外传输指示检测到事件的报警消息了。一旦未检测到任何事件则电子设备100回到第二状态，此时自然也不再做任何传输操作了。图4示出了在图3所示的情况下电子设备100、云端设备140和客户端设备150之间的数据映射关系。在图4所示的示例中，电子设备100被配置为将报警消息和报警视频传输给云端设备140，而云端设备140被配置为将报警消息和报警视频传输至客户端设备150。在另一些示例中，电子设备100也可被配置为将报警消息和报警视频传输给客户端设备150而不经过云端设备140。在本文中，将主要以云端设备140作为电子设备100与客户端设备150之间的中介为例进行说明，但可以理解的是，本文也适用于电子设备100与客户端设备150直接交互的情形。如图4所示，当第一系列事件中的最早事件被检测到时，电子设备100被唤醒后经由云端设备140向客户端设备150推送一条报警消息，并且开始经由云端设备140向客户端设备150推送报警视频。此后，当第一系列事件中的后续事件被检测到时，电子设备100保持录像并持续推送报警视频，但不再推送报警消息，直至第一系列事件结束时电子设备100休眠。过了一会儿，当第二系列事件中的最早事件被检测到时，电子设备100被唤醒后经由云端设备140向客户端设备150推送一条新的报警消息，并且开始经由云端设备140向客户端设备150推送报警视频。此后，当第二系列事件中的后续事件被检测到时，电子设备100保持录像并持续推送报警视频，但不再推送报警消息，直至第二系列事件结束时电子设备100休眠。可以理解，这里所说的系列事件例如可以是由某个目标出现在电子设备100的视野内并在视野内持续活动然后离开视野导致的彼此相关联的多个事件。同一系列事件中的每个事件的种类不一定相同。例如，第一系列事件可以是由某个人出现在电子设备100的视野内并在视野内持续活动然后离开视野导致的，由此第一系列事件可以包括PIR事件、运动事件、人形事件的组合；第二系列事件可以是由在这个人离开视野后某个宠物出现在视野内并在视野内持续活动然后离开视野导致的，由此第二系列事件可以包括PIR事件、运动事件、宠物事件的组合。以这样的方式，如果在电子设备100处一直有感兴趣的事件发生，则电子设备100的相机模块104可以一直采集视频从而完整记录事件始末，所采集的视频也可以都推送到客户端设备150。但是，对于同一系列事件，电子设备100只推送一次报警消息。这样，用户既不会被频繁地报警打扰，又可以查看到完整的报警视频，从而获得改进的体验。在一些实施例中，方法200可包括：使电子设备100保持处于第一状态。例如，图11示出了方法200的另一非限制性示例方法200’’。方法200’’与方法200’的区别主要在于，电子设备100不再在第一状态和第二状态之间切换，而是始终处于第一状态，其中事件的检测只会影响报警消息和报警视频的传输而不会影响相机模块的操作状态。具体地，如图11所示，方法200’’包括：在框S202’’处，使电子设备100处于第一状态，在第一状态中，激活相机模块104以采集视频；在框S204’’处，响应于检测到一种或多种事件中的事件，传输指示检测到事件的报警消息，以及传输在检测到事件后由相机模块104采集的视频作为报警视频；在框S206’’处，在传输报警消息后，响应于检测到所述一种或多种事件中的事件，不传输指示检测到事件的报警消息而继续传输由相机模块104采集的视频，或者在框S208’’处，在传输报警消息后，响应于未检测到所述一种或多种事件中的任何事件，停止传输由相机模块104采集的视频。具体地，例如参考图12，电子设备100始终处于第一状态，相机模块104激活以采集视频，在此期间检测事件。如果未检测到事件，则电子设备100保持处于第一状态而不做传输操作。如果检测到事件，则电子设备100传输指示检测到事件的报警消息，还传输与事件相关联的报警视频。在此期间继续检测事件。如果检测到事件，则电子设备100保持处于第一状态，但此时仅仅传输报警视频而不再额外传输指示检测到事件的报警消息了。一旦未检测到任何事件则电子设备100保持处于第一状态而不做传输操作。下面将结合图5至图10详细描述方法200的更多实施例。虽然图5至图10从方法200’的视角进行图示，但这仅仅是示例性的而非限制性的，可以理解，这些实施例可以适用于/结合于方法200的各种实施例，包括但不限于方法200’、200’’。在一些实施例中，方法200可以包括在传输报警消息后响应于检测到所述一种或多种事件中的事件：响应于确定距离上一次传输报警消息未经过预设报警时间间隔，不传输指示检测到事件的报警消息而继续传输由相机模块104采集的视频；或者，响应于确定距离上一次传输报警消息已经过预设报警时间间隔，传输指示检测到事件的报警消息以及继续传输由相机模块104采集的视频。具体地，例如参考图5，其与图3的区别在于，在传输报警消息之后检测到事件时还判断距离上一次传输报警消息是否经过预设报警时间间隔。若尚未经过预设报警时间间隔，则不再额外传输指示检测到事件的报警消息了。若已经过预设报警时间间隔，则再额外传输一条报警消息。图6示出了在图5所示的情况下电子设备100、云端设备140和客户端设备150之间的数据映射关系。如图6所示，当第一系列事件中的最早事件被检测到时，电子设备100被唤醒后经由云端设备140向客户端设备150推送一条报警消息，并且开始经由云端设备140向客户端设备150推送报警视频。此后，当第一系列事件中的后续事件被检测到时，电子设备100保持录像并持续推送报警视频。电子设备100在预设报警时间间隔期间不会推送报警消息，并且只有当预设报警时间间隔期满时才会再推送报警消息。预设报警时间间隔可以是用户根据自身需求设置的，例如可以为3分钟到5分钟。通过这样的预设报警时间间隔，用户既不会被频繁地报警打扰，又可以便捷地检索到感兴趣的事件，从而获得改进的体验。在一些实施例中，所述一种或多种事件被按优先级排序。作为非限制性示例，目标事件的优先级可以高于运动事件的优先级，而运动事件的优先级可以高于PIR事件的优先级，另外在目标事件中，人形事件的优先级例如可以高于宠物事件的优先级，等等。事件的优先级排序可以是默认的，也可以允许用户进行个性化配置。在一些实施例中，方法200可以包括响应于检测到所述一种或多种事件中的第一事件，在电子设备100处于第一状态的情况下：响应于确定第一事件是所述一种或多种事件中的优先级最高的事件，立即传输指示检测到第一事件的报警消息，以及传输在检测到第一事件后由相机模块104采集的视频作为报警视频；或者，响应于确定第一事件不是所述一种或多种事件中的优先级最高的事件，等待预设等待时间段，然后传输指示检测到在第一事件和在预设等待时间段期间检测到的事件当中具有最高优先级的事件的报警消息，以及传输在检测到该具有最高优先级的事件后由相机模块104采集的视频作为报警视频或传输在检测到第一事件后由相机模块104采集的视频作为报警视频。具体地，例如参考图7，其与图3的区别在于，还确定所检测到的事件是否是优先级最高的事件。如果所检测到的事件是优先级最高的事件，则立即传输指示检测到该优先级最高的事件的报警消息，以及传输报警视频。如果所检测到的事件不是优先级最高的事件，则等待预设等待时间段并在此期间检测事件，当预设等待时间段期满时传输指示目前检测到的优先级最高的事件的报警消息，以及传输报警视频。预设等待时间段可以是用户根据自身需求设置的，例如可以为1秒到2秒。假设人形事件的优先级高于宠物事件的优先级高于运动事件的优先级，如果这一系列事件中的最早事件是运动事件被检测到，则电子设备100可以先开始录像但不立刻推送报警消息和报警视频，而是等待1秒。如果在这1秒内又进一步检测到宠物事件但没有检测到人形事件，则在1秒期满时可以推送指示宠物事件的报警消息，报警视频可以是从检测到运动事件开始也可以是从检测到宠物事件开始。如果在这1秒内又进一步检测到宠物事件和人形事件，则在1秒期满时可以推送指示人形事件的报警消息，报警视频可以是从检测到运动事件开始也可以是从检测到人形事件开始。如果在这1秒内没有检测到宠物事件和人形事件，则在1秒期满时可以推送指示运动事件的报警消息，报警视频可以是从检测到运动事件开始。如果这一系列事件中的最早事件是人形事件被检测到，则电子设备100可以开始录像并立刻推送指示人形事件的报警消息和从检测到人形事件开始的报警视频。以这样的方式，用户既不会被频繁地报警打扰，又可以被推送更感兴趣的信息，从而获得改进的体验。在一些实施例中，方法200可以包括：响应于检测到所述一种或多种事件中的被配置用于触发报警的报警触发事件，在电子设备100处于第一状态的情况下，传输指示检测到报警触发事件的报警消息，以及传输在检测到报警触发事件后由相机模块104采集的视频作为报警视频。在一些实施例中，方法200包括在传输报警消息后：响应于检测到所述一种或多种事件中的报警触发事件，不传输指示检测到报警触发事件的报警消息而继续传输由相机模块104采集的视频；或者，响应于未检测到所述一种或多种事件中的报警触发事件但检测到所述一种或多种事件中的非报警触发事件，不传输指示检测到非报警触发事件的报警消息并停止传输由相机模块104采集的视频；或者，响应于未检测到所述一种或多种事件中的任何事件，停止传输由相机模块104采集的视频。例如，在一些实施例中，方法200’包括在传输指示检测到报警触发事件的报警消息后：响应于检测到所述一种或多种事件中的报警触发事件，使电子设备100保持处于第一状态，不传输指示检测到报警触发事件的报警消息而继续传输由相机模块104采集的视频；或者，响应于未检测到所述一种或多种事件中的报警触发事件但检测到所述一种或多种事件中的非报警触发事件，使电子设备100保持处于第一状态，不传输指示检测到非报警触发事件的报警消息并停止传输由相机模块104采集的视频；或者，响应于未检测到所述一种或多种事件中的任何事件，停止传输由相机模块104采集的视频，使电子设备100从第一状态切换回第二状态。在这样的实施例中，所述一种或多种事件作为录像触发事件又进一步分为报警触发事件和非报警触发事件。非报警触发事件只能触发电子设备100录像，而报警触发事件不仅能触发电子设备100录像还能触发电子设备100传输报警消息和报警视频。另外，对于属于同一系列的报警触发事件，电子设备100也只传输一次报警消息。具体地，例如参考图8，其与图3的区别在于，还确定所检测到的事件是否是报警触发事件。如果所检测到的事件不是报警触发事件，则电子设备100保持处于第一状态，仅仅采集视频而不做传输操作。如果所检测到的事件是报警触发事件，则电子设备100传输指示检测到报警触发事件的报警消息，还传输与报警触发事件相关联的报警视频。此后，如果又检测到报警触发事件则电子设备100保持处于第一状态，但此时仅仅传输报警视频而不再额外传输报警消息了。如果又检测到非报警触发事件则电子设备100保持处于第一状态，但此时仅仅采集视频而不做传输操作。一旦未检测到任何事件则电子设备100回到第二状态。以这样的方式，用户既不会被频繁地报警打扰，又可以被推送更感兴趣的信息，也允许用户有机会查看原本不那么感兴趣的信息，从而获得改进的体验。在一些实施例中，在第一状态中，所采集的视频被存储在本地，其中方法200包括在传输报警消息后：传输由相机模块104采集的视频作为报警视频，并且当传输的视频的时长达预设报警视频时长时，停止传输由相机模块104采集的视频，并且传输指示存在报警视频的后续视频的扩展消息。具体地，例如参考图9，其与图3的区别在于，还判断所传输视频时长是否达预设报警视频时长。如果所传输视频时长达预设报警视频时长，则停止传输报警视频，并传输指示存在报警视频的后续视频的扩展消息。随后，电子设备100保持处于第一状态，仅采集而不传输报警视频，所采集的视频作为报警视频的后续视频存储在本地，以备未来之需。电子设备100在未检测任何事件时回到第二状态。图10示出了在图9所示的情况下电子设备100、云端设备140和客户端设备150之间的数据映射关系。如图10所示，当第一系列事件中的最早事件被检测到时，电子设备100被唤醒后经由云端设备140向客户端设备150推送一条报警消息，并且开始经由云端设备140向客户端设备150推送报警视频。此后，当第一系列事件中的后续事件被检测到时，电子设备100保持录像并持续推送报警视频但不再推送报警消息。当达到预设报警视频时长时，电子设备100不再推送报警视频而是推送一条扩展消息。自此以后直到第一系列事件结束，电子设备100仅采集视频并将所采集的视频作为报警视频的后续视频存储在本地。预设报警视频时长可以是用户根据自身需求设置的，例如可以为15秒到30秒。通过这样的预设报警视频时长，可以降低电子设备100的功耗，也可以减少云端设备140的存储空间占用。用户很少将与整个系列事件相关联的视频全部看完，因此仅传输预设报警视频时长的报警视频在大多数情况下是足够的。即使用户突然想要看完全部视频，客户端设备150也可以再经由云端设备140请求电子设备100传输后续视频。例如，方法200可以包括：响应于接收到对后续视频的传输请求，传输后续视频。报警消息、报警视频、扩展消息、后续视频可以被传输至云端设备140。云端设备140可以被配置为接收并存储报警消息、报警视频和扩展消息以及将报警消息和报警视频传输至客户端设备150。云端设备140还可被配置为将后续视频转发至客户端设备150但不存储后续视频。客户端设备150可以被配置为：响应于播放报警视频，查询是否存在与报警视频相关联的扩展消息；响应于查询到存在与报警视频相关联的扩展消息，当离报警视频播放结束不小于第一预设时长且不大于第二预设时长时，请求传输后续视频。第一预设时长可被配置为允许报警视频与后续视频在客户端设备150处连续播放。例如，可以根据查询扩展消息和缓存后续视频所需的时间来确定第一预设时长。这样，用户对于报警视频与后续视频的切换可以是无感的。第二预设时长可以大于或等于第一预设时长。第二预设时长不宜确定得过大，例如可以被设为能够预判用户将看完视频的可能性较高的程度。比如，对于预设报警视频时长为15秒的情况，第一预设时长可以为1秒到2秒，第二预设时长可以为3秒到5秒。返回参考图17，云端设备140可以包括处理器142以及存储计算机可执行指令的存储器144，计算机可执行指令在被处理器142执行时使得处理器142执行操作云端设备140的方法。处理器142例如可以是云端设备140的中央处理单元。处理器142可以是任何类型的通用处理器，或者可以是专门设计用于操作云端设备140的处理器，诸如专用集成电路。存储器144可以包括可由处理器142访问的各种计算机可读介质。在各种实施例中，本文描述的存储器144可以包括易失性和非易失性介质、可移除和不可移除介质。例如，存储器144可以包括以下的任何组合：随机存取存储器、动态RAM、静态RAM、只读存储器、闪存、高速缓冲存储器和/或任何其它类型的非瞬态计算机可读介质。存储器144可以存储在被处理器142执行时使得处理器142执行操作云端设备140的方法的指令。下面将结合图13和图14详细描述根据本公开的实施例的操作云端设备140的方法1100。如图13所示，方法1100包括：在框S1102处，响应于一种或多种事件中的事件被检测到，接收并存储指示检测到事件的报警消息以及与事件相关联的报警视频；在框S1104处，在接收到报警消息后，响应于所述一种或多种事件中的事件被检测到，接收并存储与事件相关联的报警视频而不再接收到指示检测到事件的报警消息。在一些实施例中，方法1100还包括：响应于一种或多种事件中的任何事件都未被检测到，不再接收到报警消息和报警视频。在一些实施例中，如图14所示，方法1100还可包括：在框S1106处，传输报警消息和报警视频；在框S1108处，接收并存储指示存在报警视频的后续视频的扩展消息；在框S1110处，响应于接收到对扩展消息的查询请求，反馈查询结果；以及在框S1112处，响应于接收到对后续视频的传输请求，转发而不存储后续视频。例如，报警消息、报警视频、扩展消息和后续视频可以是云端设备140从电子设备100接收的，查询请求可以是云端设备140从客户端设备150接收的，而报警消息、报警视频、查询结果和后续视频可以是云端设备140传输给客户端设备150的。在一些实施例中，云端设备140也可以被配置为向客户端设备150传输扩展消息，从而使得客户端设备150可以在本地查询扩展消息而无需向云端设备140查询扩展消息。方法1100的实施例可以类似参考关于方法200、200’、200’’的实施例的描述，在此不再赘述。返回参考图17，客户端设备150可以包括处理器152以及存储计算机可执行指令的存储器154，计算机可执行指令在被处理器152执行时使得处理器152执行操作客户端设备150的方法。处理器152例如可以是客户端设备150的中央处理单元。处理器152可以是任何类型的通用处理器，或者可以是专门设计用于操作客户端设备150的处理器，诸如专用集成电路。存储器154可以包括可由处理器152访问的各种计算机可读介质。在各种实施例中，本文描述的存储器154可以包括易失性和非易失性介质、可移除和不可移除介质。例如，存储器154可以包括以下的任何组合：随机存取存储器、动态RAM、静态RAM、只读存储器、闪存、高速缓冲存储器和/或任何其它类型的非瞬态计算机可读介质。存储器154可以存储在被处理器152执行时使得处理器152执行操作客户端设备150的方法的指令。下面将结合图15和图16详细描述根据本公开的实施例的操作客户端设备150的方法1200。如图15所示，方法1200包括：在框S1202处，响应于一种或多种事件中的事件被检测到，接收指示检测到事件的报警消息以及与事件相关联的报警视频；在框S1204处，在接收到报警消息后，响应于所述一种或多种事件中的事件被检测到，接收与事件相关联的报警视频而不再接收到指示检测到事件的报警消息。在一些实施例中，方法1200还包括：响应于一种或多种事件中的任何事件都未被检测到，不再接收到报警消息和报警视频。在一些实施例中，如图16所示，方法1200还可包括：在框S1206处，响应于播放报警视频，查询是否存在指示存在报警视频的后续视频的扩展消息；在框S1208处，响应于查询到存在扩展消息，当离报警视频播放结束不小于第一预设时长且不大于第二预设时长时，请求传输后续视频，其中，所述第一预设时长被配置为允许报警视频与后续视频在客户端设备150处连续播放，所述第二预设时长大于或等于所述第一预设时长；以及在框S1210处，接收后续视频以在报警视频播放结束时连续播放后续视频。例如，报警消息、报警视频、查询结果和后续视频可以是客户端设备150从云端设备140接收的，对扩展消息的查询请求和对后续视频的传输请求可以是客户端设备150传输给云端设备140的。在另一些实施例中，例如当客户端设备150与电子设备100直接交互时，报警消息、报警视频、查询结果和后续视频可以是客户端设备150从电子设备100接收的，对扩展消息的查询请求和对后续视频的传输请求可以是客户端设备150传输给电子设备100的。在一些实施例中，客户端设备150也可以被配置为接收扩展消息，从而可以在本地查询扩展消息。如果客户端设备150没有查询到扩展消息，那么播放完报警视频即可结束操作。方法1200的实施例可以类似参考关于方法200、200’、200’’和方法1100的实施例的描述，在此不再赘述。本公开还可以提供一种其上存储有计算机可执行指令的非瞬态存储介质，计算机可执行指令在被一个或多个处理器执行时使得所述一个或多个处理器执行根据本公开的前述任一实施例所述的操作电子设备100的方法200、200’、200’’。本公开还可以提供一种其上存储有计算机可执行指令的非瞬态存储介质，计算机可执行指令在被一个或多个处理器执行时使得所述一个或多个处理器执行根据本公开的前述任一实施例所述的操作云端设备140的方法1100。本公开还可以提供一种其上存储有计算机可执行指令的非瞬态存储介质，计算机可执行指令在被一个或多个处理器执行时使得所述一个或多个处理器执行根据本公开的前述任一实施例所述的操作客户端设备150的方法1200。说明书及权利要求中的词语“左”、“右”、“前”、“后”、“顶”、“底”、“上”、“下”、“高”、“低”等，如果存在的话，用于描述性的目的而并不一定用于描述不变的相对位置。应当理解，这样使用的词语在适当的情况下是可互换的，使得在此所描述的本公开的实施例，例如，能够在与在此所示出的或另外描述的那些取向不同的其它取向上操作。例如，在附图中的装置倒转时，原先描述为在其它特征“之上”的特征，此时可以描述为在其它特征“之下”。装置还可以以其它方式定向，此时将相应地解释相对空间关系。在说明书及权利要求中，称一个元件位于另一元件“之上”、“附接”至另一元件、“连接”至另一元件、“耦合”至另一元件、或“接触”另一元件等时，该元件可以直接位于另一元件之上、直接附接至另一元件、直接连接至另一元件、直接耦合至另一元件或直接接触另一元件，或者可以存在一个或多个中间元件。相对照的是，称一个元件“直接”位于另一元件“之上”、“直接附接”至另一元件、“直接连接”至另一元件、“直接耦合”至另一元件或“直接接触”另一元件时，将不存在中间元件。在说明书及权利要求中，一个特征布置成与另一特征“相邻”，可以指一个特征具有与相邻特征重叠的部分或者位于相邻特征上方或下方的部分。如在此所使用的，词语“示例性的”意指“用作示例、实例或说明”，而不是作为将被精确复制的“模型”。在此示例性描述的任意实现方式并不一定要被解释为比其它实现方式优选的或有利的。而且，本公开不受在技术领域、背景技术、发明内容或具体实施方式中所给出的任何所表述的或所暗示的理论所限定。如在此所使用的，词语“基本上”意指包含由设计或制造的缺陷、器件或元件的容差、环境影响和/或其它因素所致的任意微小的变化。词语“基本上”还允许由寄生效应、噪声以及可能存在于实际的实现方式中的其它实际考虑因素所致的与完美的或理想的情形之间的差异。另外，仅仅为了参考的目的，还可以在本文中使用“第一”、“第二”等类似术语，并且因而并非意图限定。例如，除非上下文明确指出，否则涉及结构或元件的词语“第一”、“第二”和其它此类数字词语并没有暗示顺序或次序。还应理解，“包括/包含”一词在本文中使用时，说明存在所指出的特征、整体、步骤、操作、单元和/或组件，但是并不排除存在或增加一个或多个其它特征、整体、步骤、操作、单元和/或组件以及/或者它们的组合。在本公开中，术语“提供”从广义上用于涵盖获得对象的所有方式，因此“提供某对象”包括但不限于“购买”、“制备/制造”、“布置/设置”、“安装/装配”、和/或“订购”对象等。如本文所使用的，术语“和/或”包括相关联的列出项目中的一个或多个的任何和所有组合。本文中使用的术语只是出于描述特定实施例的目的，并不旨在限制本公开。如本文中使用的，单数形式“一”、“一个”和“该”也旨在包括复数形式，除非上下文另外清楚指示。本领域技术人员应当意识到，在上述操作之间的边界仅仅是说明性的。多个操作可以结合成单个操作，单个操作可以分布于附加的操作中，并且操作可以在时间上至少部分重叠地执行。而且，另选的实施例可以包括特定操作的多个实例，并且在其它各种实施例中可以改变操作顺序。但是，其它的修改、变化和替换同样是可能的。可以以任何方式和/或与其它实施例的方面或元件相结合地组合以上公开的所有实施例的方面和元件，以提供多个附加实施例。因此，本说明书和附图应当被看作是说明性的，而非限制性的。虽然已通过示例对本公开的一些特定实施例进行了详细说明，但本领域的技术人员应该理解，以上示例仅是为了进行说明，而不是为了限制本公开的范围。在此公开的各实施例可以任意组合，而不脱离本公开的精神和范围。本领域的技术人员还应理解，可以对实施例进行多种修改而不脱离本公开的范围和精神。本公开的范围由所附权利要求来限定。
