标题title
多模光纤传输的控制方法、装置及计算机可读存储介质
摘要abst
本发明涉及一种多模光纤传输的控制方法、装置及计算机可读存储介质，其方法是将单模光器件产生的光信号分两路传输至光开关单元和第二多模光纤单元，由光开关单元将接收到的光信号在单模光纤单元和第一多模光纤单元之间交替传输，当经过第一多模光纤单元传输和单模光纤单元光信号的光功率值的差值大于或等于第一预设值时，调整光组件耦合控制单元的耦合参数直至该差值小于第一预设值，当经过第二多模光纤传输后的光信号的光眼图的Margin值小于或等于第二预设值时，调整光器件驱动控制单元去加重补偿值直至Margin值大于第二预设值。有效解决了单模光在多模光纤传输后眼图性能的劣化和兼容性差的问题，提高了产品质量。
权利要求书clms
1.一种多模光纤传输的控制方法，适用于单模光器件的多模光纤传输，其特征在于，所述方法包括如下步骤：步骤S1、将单模光器件产生的光信号利用光组件耦合控制单元进行耦合后，分两路传输至光开关单元和第二多模光纤单元，由所述光开关单元将接收的光信号在单模光纤单元和第一多模光纤单元之间交替传输；步骤S2、获取经所述单模光纤单元传输后的光信号的光功率值P1，以及经第一多模光纤单元传输后的光信号的光功率值P2；步骤S3、当P2减P1的差值大于或等于第一预设值时，调整所述光组件耦合控制单元的耦合参数，从而使所述差值小于所述第一预设值；步骤S4、获取经所述第二多模光纤单元传输后的光信号的光眼图Margin值；步骤S5，当所述光眼图Margin值小于或等于第二预设值时，调整光器件驱动控制单元输出至所述单模光器件的去加重补偿参数值，使所述光眼图Margin值大于所述第二预设值。2.如权利要求1所述的多模光纤传输的控制方法，其特征在于：所述步骤S1之前，所述方法还包括如下步骤：利用MCU控制单元对所述光器件驱动控制单元进行参数设置，使所述光器件驱动控制单元根据所述参数设置向所述单模光器件提供偏置电流、调制电流以及去加重补偿。3.如权利要求1所述的多模光纤传输的控制方法，其特征在于：所述步骤S2中“调整光组件耦合控制单元的耦合参数”包括：通过第一耦合控制器调整准直透镜在X轴、Y轴、Z轴的三维位置，以将所述单模光器件发出的发散光转换为多路平行光后，由集成薄膜滤波器将所述多路平行光转换成单路平行光输出至汇聚透镜；通过第二耦合控制器调整所述汇聚透镜在X轴、Y轴、Z轴的三维位置，以将所述单路平行光进行汇聚输出，并利用固定衰减片减小因所述汇聚透镜的过度离焦而偏离焦点的位置。4.如权利要求1所述的多模光纤传输的控制方法，其特征在于，所述第一预设值的取值为1dB，所述第二预设值的取值为10%。5.一种多模光纤传输的控制装置，其特征在于，所述多模光纤传输的控制装置包括光器件驱动控制单元、MCU控制单元、单模光器件、光开关单元，光组件耦合控制单元、单模光纤单元、第一多模光纤单元以及第二多模光纤单元，其中：所述单模光器件，用于输出光信号；所述光组件耦合控制单元，用于对所述单模光器件输出的光信号进行耦合，并将耦合后的光信号分两路传输至所述光开关单元和第二多模光纤单元；所述光开关单元，用于将其接收的光信号在单模光纤单元和第一多模光纤单元之间交替传输；所述光组件耦合控制单元，还用于获取经所述单模光纤单元传输后的光功率值P1和经所述第一多模光纤单元传输后的光功率值P2，并在所述P2减P1的差值大于或等于第一预设值时调整耦合参数，使所述差值小于所述第一预设值；所述MCU控制单元，用于获取经由所述第二多模光纤单元传输后的光信号的光眼图Margin值，并在所述光眼图Margin值小于或等于第二预设值时，调整光器件驱动控制单元输出至所述单模光器件的去加重补偿参数，使所述光眼图Margin值大于所述第二预设值。6.如权利要求5所述的多模光纤传输的控制装置，其特征在于，所述MCU控制单元，还用于对所述光器件驱动控制单元进行参数设置，使所述光器件驱动控制单元根据所述参数设置向所述单模光器件提供偏置电流、调制电流以及去加重补偿。7.如权利要求5所述的多模光纤传输的控制装置，其特征在于，所述光组件耦合控制单元包括第一耦合控制器、准直透镜、集成薄膜滤波器、第二耦合控制器、汇聚透镜、固定衰减片，其中：所述第一耦合控制器，用于调整准直透镜在X轴、Y轴、Z轴的三维位置，从而将所述单模光器件发出的发散光转换为多路平行光；所述集成薄膜滤波器，用于将所述多路平行光转换成单路平行光输出至汇聚透镜；所述第二耦合控制器，用于调整所述汇聚透镜在X轴、Y轴、Z轴的三维位置，以将所述单路平行光进行汇聚输出；所述固定衰减片，用于减小因所述汇聚透镜的过度离焦而偏离焦点的位置。8.如权利要求7所述的模光纤传输的控制装置，其特征在于，所述光组件耦合控制单元还包括隔离器和适配器，经所述固定衰减片进入纤芯内的光信号经所述隔离器和适配器后分别输出至所述光开关单元以及第二多模光纤单元。9.如权利要求5所述的模光纤传输的控制装置，其特征在于，所述控制装置还包括第一光功率监测单元、第二光功率监测单元和光眼图监测单元，其中：所述第一光功率监测单元，用于监测经过所述单模光纤单元传输后的光功率值P1；所述第二光功率监测单元，用于监测经过所述第一多模光纤单元传输后的光功率值P2；所述光眼图监测单元，用于监测经过所述第二多模光纤单元后的光信号的光眼图的Margin值。10.一种计算机可读存储介质，其特征在于，所述可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1至4中任一项所述的多模光纤传输的控制方法的步骤。
说明书desc
技术领域本发明涉及光通信技术领域，尤其涉及一种多模光纤传输的控制方法、装置及计算机可读存储介质。背景技术随着云计算，物联网和虚拟数据中心的普及，对更高带宽的需求推动了光通信市场的繁荣。在云数据中心以及服务商对高宽带需求的驱动下，25G与100G普及率越来越高，大多数服务器供应商已开始为服务器提供25G光纤网卡接入、100G交换机互联，以太网信号传输速率从早前的10G提升到25G、100G甚至更高。10G以太网及25G以太网多采用单通道技术，然而原有网络短距离布线多采用双芯多模光纤并配以10G/25G SR光模块，而100G以太网采用四通道技术，短距离布线多采用MPO接头多芯并行光纤并配以100G SR4光模块，因此在网络由10G/25G升级到100G过程中就面临需要重新布线的问题。在网络升级需重新布线时，需要选用能支持双芯多模光纤传输的光模块，然而目前市场上40G/100G光模块都采用单模光器件，40G/100G单模光器件在经过多模光纤传输后容易发生发射眼图性能劣化以及兼容性差的问题。发明内容要解决的技术问题鉴于现有技术的上述缺点、不足，本发明提供一种多模光纤传输的控制方法、装置及计算机可读存储介质，其解决了现有技术中单模光器件在经过多模光纤传输后容易发生发射眼图性能劣化以及兼容性差的技术问题。技术方案为了达到上述目的，本发明采用的主要技术方案包括：第一方面，本发明实施例提供一种多模光纤传输的控制方法，适用于单模光器件的多模光纤传输，所述方法包括如下步骤：步骤S1、将单模光器件产生的光信号利用光组件耦合控制单元进行耦合后，分两路传输至光开关单元和第二多模光纤单元，由所述光开关单元将接收的光信号在单模光纤单元和第一多模光纤单元之间交替传输；步骤S2、获取经所述单模光纤单元传输后的光信号的光功率值P1，以及经第一多模光纤单元传输后的光信号的光功率值P2；步骤S3、当所述P2减P1的差值大于或等于第一预设值时，调整所述光组件耦合控制单元的耦合参数，从而使所述差值小于所述第一预设值；步骤S4、获取经所述第二多模光纤单元传输后的光信号的光眼图Margin值；步骤S5，当所述光眼图Margin值小于或等于第二预设值时，调整光器件驱动控制单元输出至所述单模光器件的去加重补偿参数值，使所述光眼图Margin值大于所述第二预设值。本发明实施例提出的多模光纤传输的控制方法，将单模光器件产生的光信号通过光组件耦合控制单元进行耦合，并将耦合后的光信号分两路传输至光开关单元和第二多模光纤单元，由光开关单元将接收到的光信号在单模光纤单元和第一多模光纤单元之间交替传输，并在经过第一多模光纤单元传输和单模光纤单元和的光信号的光功率值的差值大于或等于第一预设值时，调整光组件耦合控制单元的耦合参数直至该差值小于第一预设值，从而保证单模光器件输出的光信号集中在纤芯内，有利于光信号在多模光纤中的传输，同时获取经过第二多模光纤传输后的光信号的光眼图的Margin值，并在Margin值小于或等于第二预设值时，调整光器件驱动控制单元去加重补偿值直至Margin值大于第二预设值，从而有效解决了单模光在多模光纤传输后眼图性能的劣化和兼容性差的问题，提高了产品质量。可选的，所述步骤S1之前，所述方法还包括：利用MCU控制单元对所述光器件驱动控制单元进行参数设置，使所述光器件驱动控制单元根据所述参数设置向所述单模光器件提供偏置电流、调制电流以及去加重补偿，从而补偿因单模光器件阻抗差异导致高频信号不连续带来的光眼图差异。可选的，所述步骤S2中“调整光组件耦合控制单元的耦合参数”包括：通过第一耦合控制器调整准直透镜在X轴、Y轴、Z轴的三维位置，以将所述单模光器件发出的发散光转换为多路平行光后，由集成薄膜滤波器将所述多路平行光转换成单路平行光输出至汇聚透镜；通过第二耦合控制器调整所述汇聚透镜在X轴、Y轴、Z轴的三维位置，以将所述单路平行光进行汇聚输出，并利用固定衰减片减小因所述汇聚透镜的过度离焦而偏离焦点的位置，从而保证光组件输出的光信号主要集中在纤芯内，有利于在多模光纤中传输。可选的，所述第一预设值的取值为1dB，所述第二预设值的取值为10%。能有效保证单模光在多模光纤传输后的性能，提高产品质量。第二方面，本发明实施例提供一种多模光纤传输的控制装置，所述多模光纤传输的控制装置包括光器件驱动控制单元、MCU控制单元、单模光器件、光组件耦合控制单元、单模光纤单元、第一多模光纤单元以、第二多模光纤单元及光开关单元，其中：所述单模光器件，用于输出光信号；所述光组件耦合控制单元，用于对所述单模光器件输出的光信号进行耦合，并将耦合后的光信号分两路传输至所述光开关单元和第二多模光纤单元；所述光开关单元，用于将其接收的光信号在所述单模光纤单元和第一多模光纤单元之间交替传输；所述光组件耦合控制单元，还用于获取经所述单模光纤单元传输后的光功率值P1和经所述第一多模光纤单元传输后的光功率值P2，并在所述P2减P1的差值大于或等于第一预设值时调整耦合参数，使所述差值小于所述第一预设值；MCU控制单元，用于获取经由所述第二多模光纤单元传输后的光信号的光眼图Margin值，并在所述光眼图Margin值小于或等于第二预设值时，调整光器件驱动控制单元输出至所述单模光器件的去加重补偿参数，使所述光眼图Margin值大于所述第二预设值。可选的，所述MCU控制单元，还用于对所述光器件驱动控制单元进行参数设置，使所述光器件驱动控制单元根据所述参数设置向所述单模光器件提供偏置电流、调制电流以及去加重补偿。可选的，所述光组件耦合控制单元包括第一耦合控制器、准直透镜、集成薄膜滤波器、第二耦合控制器、汇聚透镜、固定衰减片，其中：所述第一耦合控制器，用于调整准直透镜在X轴、Y轴、Z轴的三维位置，从而将所述单模光器件发出的发散光转换为多路平行光；所述集成薄膜滤波器，用于将所述多路平行光转换成单路平行光输出至汇聚透镜；所述第二耦合控制器，用于调整所述汇聚透镜在X轴、Y轴、Z轴的三维位置，以将所述单路平行光进行汇聚输出；所述固定衰减片，用于减小因所述汇聚透镜的过度离焦而偏离焦点的位置，从而保证所述单模光组器件输出的光信号主要集中在纤芯内。可选的，所述光组件耦合控制单元还包括隔离器和适配器，经所述固定衰减片进入所述纤芯内的光信号经所述隔离器和适配器后分别输出至所述分别输出至所述光开关单元以及第二多模光纤单元。可选的，所述控制装置还包括第一光功率监测单元、第二光功率监测单元和光眼图监测单元，其中：所述第一光功率监测单元，用于监测经过所述单模光纤单元传输后的光功率值P1；所述第二光功率监测单元，用于监测经过所述第一多模光纤单元传输后的光功率值P2；所述光眼图监测单元，用于监测经过所述第二多模光纤单元后的光信号的光眼图。第三方面，本发明实施例提供一种计算机可读存储介质，所述可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如前所述的多模光纤传输的控制方法的步骤。有益效果本发明的有益效果是：将单模光器件产生的光信号通过光组件耦合控制单元进行耦合，并将耦合后的光信号传输至单模光纤单元、第一多模光纤单元和第二光纤单元，并在经过第一多模光纤单元传输和单模光纤单元后的光信号的光功率值的差值大于或等于第一预设值时，调整光组件耦合控制单元的耦合参数直至该差值小于第一预设值，从而保证单模光器件输出的光信号集中在纤芯内，有利于光信号在多模光纤中的传输，同时获取经过第二多模光纤传输后的光信号的光眼图的Margin值，并在Margin值小于或等于第二预设值时，调整光器件驱动控制单元去加重补偿值直至Margin值大于第二预设值，从而有效解决了单模光在多模光纤传输后眼图性能的劣化和兼容性差的问题，提高了产品质量。附图说明图1为本发明的实施例1的一种多模光纤传输的控制方法的流程示意图；图2为本发明的实施例2的一种多模光纤传输的控制方法的流程示意图；图3为本发明的实施例3的一种多模光纤传输的控制装置的结构示意图；图4为本发明的实施例3的光组件耦合控制单元的结构示意图。【附图标记说明】110，光器件驱动控制单元；120，MCU控制单元；130，单模光器件；140，光组件耦合控制单元；141第一耦合控制器；142，准直透镜；143，集成薄膜滤波器；144，第二耦合控制器；145，汇聚透镜；146，固定衰减片；147，隔离器和适配器；150，单模光纤单元；160，第一多模光纤单元；170，第二多模光纤单元；180，光开关单元；190，第一光功率监测单元；210，第二光功率监测单元；220，光眼图监测单元。具体实施方式为了更好的解释本发明，以便于理解，下面结合附图，通过具体实施方式，对本发明作详细描述。本发明实施例提出的多模光纤传输的控制方法、装置及计算机可读存储介质,将单模光器件产生的光信号通过光组件耦合控制单元进行耦合，并将耦合后的光信号分两路传输至光开关单元和第二多模光纤单元，由光开关单元将接收到的光信号在单模光纤单元和第一多模光纤单元之间交替传输，并在经过第一多模光纤单元传输和单模光纤单元后的光信号的光功率值的差值大于或等于第一预设值时，调整光组件耦合控制单元的耦合参数直至该差值小于第一预设值，从而保证单模光器件输出的光信号集中在纤芯内，有利于光信号在多模光纤中的传输，同时获取经过第二多模光纤传输后的光信号的光眼图的Margin值，并在Margin值小于或等于第二预设值时，调整光器件驱动控制单元去加重补偿值直至Margin值大于第二预设值，从而有效解决了单模光在多模光纤传输后眼图性能的劣化和兼容性差的问题，提高了产品质量。为了更好的理解上述技术方案，下面将参照附图更详细地描述本发明的示例性实施例。虽然附图中显示了本发明的示例性实施例，然而应当理解，可以以各种形式实现本发明而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更清楚、透彻地理解本发明，并且能够将本发明的范围完整的传达给本领域的技术人员。具体实施例描述部分。实施例1：参照图1，本申请的实施例1提供了一种多模光纤传输的控制方法，该方法适用于单模光器件的多模光纤传输，方法包括如下步骤：步骤S1、将单模光器件产生的光信号利用光组件耦合控制单元进行耦合后，分两路传输至光开关单元和第二多模光纤单元，由光开关单元将接收的光信号在单模光纤单元和第一多模光纤单元之间交替传输；步骤S2、获取经单模光纤单元传输后的光信号的光功率值P1，以及经第一多模光纤单元传输后的光信号的光功率值P2；步骤S3、当P2减P1的差值大于或等于第一预设值时，调整光组件耦合控制单元的耦合参数，从而使该差值小于第一预设值；步骤S4、获取经第二多模光纤单元传输后的光信号的光眼图Margin值；步骤S5，当Margin值小于或等于第二预设值时，调整光器件驱动控制单元输出至单模光器件的去加重补偿参数值，使光眼图Margin值大于第二预设值。在一些可行的方案中，步骤S1之前，该方法还包括如下步骤：利用MCU控制单元对光器件驱动控制单元进行参数设置，使光器件驱动控制单元根据参数设置向单模光器件提供偏置电流、调制电流以及去加重补偿。实际应用中，MCU控制单元可以通过IIC通信接口对光器件驱动控制单元进行参数设置，该参数包括BIAS偏置电流、MOD调制电流、去加重补偿参数等。实际应用中，去加重补偿参数用于补偿因单模光器件的阻抗差异导致高频信号不连续，带来的光眼图差异，其可以包括信号高频去加重HFDE及信号低频去加重LFDE。在一些可行的方案中，步骤S2中“调整光组件耦合控制单元的耦合参数”包括如下步骤：通过第一耦合控制器调整准直透镜在X轴、Y轴、Z轴的三维位置，以将单模光器件发出的发散光转换为多路平行光，由集成薄膜滤波器将多路平行光转换成单路平行光输出至汇聚透镜；通过第二耦合控制器调整汇聚透镜在X轴、Y轴、Z轴的三维位置，以将单路平行光进行汇聚输出，并利用固定衰减片减小因汇聚透镜的过度离焦而偏离焦点的位置，从而使单模光器件输出的光信号集中在纤芯内。在一些可行的方案中，可以设置第一预设值的取值等于或小于1dB，设置第二预设值的取值为等于或大于10%。本实施例提出的多模光纤传输的控制方法，将单模光器件产生的光信号通过光组件耦合控制单元进行耦合，并将耦合后的光信号分两路传输至光开关单元和第二多模光纤单元，由光开关单元将接收到的光信号在单模光纤单元和第一多模光纤单元之间交替传输，并在经过第一多模光纤单元传输和单模光纤单元和的光信号的光功率值的差值大于或等于第一预设值时，调整光组件耦合控制单元的耦合参数直至该差值小于第一预设值，从而保证单模光器件输出的光信号集中在纤芯内，有利于光信号在多模光纤中的传输，同时获取经过第二多模光纤传输后的光信号的光眼图的Margin值，并在Margin值小于或等于第二预设值时，调整光器件驱动控制单元去加重补偿值直至Margin值大于第二预设值，从而有效解决了单模光在多模光纤传输后眼图性能的劣化和兼容性差的问题，提高了产品质量。实施例2：参照图2，在前述实施例1的基础上，本实施例提出了另一种多模光纤传输的控制方法，该方法包括如下步骤：S110、MCU控制单元对光器件驱动控制单元的参数进行初始化设置。实际应用中，MCU控制单元可以通过IIC通信接口对光器件驱动控制单元进行参数设置。本步骤中的初始化参数包括BIAS偏置电流值、MOD调制电流值以及光眼图的去加重补偿值，可以根据单模光器件供应商提供的出厂测试数据进行设定。实际应用中，BIAS偏置电流最大值可以达到IBIAS=100mA，MOD调制电流最大值可以达到IMOD=100mA。实际应用中，调制信号也可以通过外部信号发生器提供不归零NRZ信号。S120、光器件驱动控制单元根据接收的参数进行初始化设置，向单模光器件提供BIAS偏置电流、MOD调制电流以及光眼图的去加重补偿。S130、单模光器件在光器件驱动控制单元的控制下，产生光信号。S140、光组件耦合控制单元对单模光器件产生的光信号进行耦合，并将耦合后的光信号分成两路传输给光开关单元和第二多模光纤单元。实际应用中，光组件耦合控制单元包括第一耦合控制器、准直透镜、集成薄膜滤波器、第二耦合控制器、汇聚透镜、固定衰减片。S150、光开关单元将接收的光信号在单模光纤单元和第一多模光纤单元之间交替传输。S160、光组件耦合控制单元实时获取经过单模光纤单元传输后的光信号的光功率值P1，以及经过第一多模光纤单元传输后的光信号的光功率值P2。实际应用中，可以通过第一耦合控制器或第二耦合控制器读取光功率值P1和P2，并计算P2-P1的差值。S170、光组件耦合控制单元判断P2-P1的差值是否小于1dB，若是执行步骤S182，否则执行步骤S181。本步骤中的判断，可以由步骤S160中读取P1和P2的第一耦合控制器或第二耦合控制器执行。S181、调整耦合参数，并执行步骤S140。实际应用中，第一耦合控制器和第二耦合控制器可以根据监测到的光功率值P2和P1的差量，对分别准直透镜和汇聚透镜进行光路耦合控制，调整两个透镜的X/Y/Z三维位置实现对光功率的输出控制，保证光信号都集中在纤芯内，该纤芯包括单模光纤单元、第一多模光纤单元和第二多模光纤单元的纤芯。实际应用中，第一耦合控制器调整准直透镜的X/Y/Z三维位置可以通过如下方法实现：第一耦合控制器通过光束质量分析仪探测单模光器件发出的激光经过准直透镜后产生的激光束的光斑和空间坐标位置，获得激光束的特征；通过预设的判断准直光束的算法，测评激光束的特征是否满足准直光束要求，如果不满足要求，则第一耦合控制器在X/Y/Z三个维度调整准直透镜的位置，直到满足准直光束的特征要求。第二耦合控制器调整汇聚透镜的X/Y/Z三维位置可以通过如下方法实现：第二耦合控制器采用光功率计探测经过汇聚透镜后的光功率，将探测到的光功率与预设的光功率规格进行比对，如果不满足光功率规格要求，则第二耦合控制器在X/Y/Z三个维度指定的耦合范围内调整汇聚透镜的位置，直到光功率满足规格要求。S182、MCU控制单元实时读取经由第二多模光纤单元传输后的光信号的光眼图的Margin值；S190、MCU控制单元判断Margin值是否大于10%，若是，执行步骤S191，否则执行步骤S192。S191、保持光器件驱动控制单元当前的的去加重补偿参数值。S192、调整光器件驱动控制单元的去加重补偿参数值，并执行S130。实际应用中，可以采用如下方法调整去加重补偿参数值，该方法针对的是经过第二多模光纤单元170传输后的光信号的光眼图：先通过调节低频去加重补偿LFDE参数，改变光眼图中100ps到150ps时间分量内的过冲幅度，使得光眼图中低频分量中过冲峰峰值达到最小；接着调节高频去加重补偿HFDE参数，改变光眼图中20ps到50ps时间分量内的过冲幅度，使得光眼图中高频分量中过冲分量峰峰值达到最小。本实施例中，可以跟据单模光器件的供应商提供的出厂测试数据，设定单模光器件的BIAS电流值、MOD调制电流值以及光眼图去加重补偿值，从而保证初始光功率值、眼图消光比ER及眼图模块的Margin值。通过光组件耦合控制单元实时读取经过单模光纤单元传输后的光信号的光功率值P1，以及经过第一多模光纤单元传输后的光信号的光功率值P2，通过调整耦合参数，使的差值小于1dB,从而保证单模光器件输出的光信号集中在纤芯内，有利于光信号在第二多模光纤单元中传输。同时通过实时监测光信号经过第二多模光纤单元后的光眼图模板的Margin值，反复调整光器件驱动控制单元的去加重补偿值，使光信号经过长距离多模光纤后，保证光眼图协议眼图模板余量Margin＞10%，从而提高单模光器件与多模光纤的兼容性，避免眼图性能劣化，有效保证单模光在多模光纤传输后的性能，提高产品质量。实施例3：参照图3，在前述实施例1和实施例2的基础上，本实施例提出了一种多模光纤传输的控制装置，该装置包括光器件驱动控制单元110、MCU控制单元120、单模光器件130、光组件耦合控制单元140、单模光纤单元150、第一多模光纤单元160、第二多模光纤单元170，光开关单元180，其中：单模光器件130，用于在光器件驱动控制单元110的控制下输出光信号；光组件耦合控制单元140，用于对单模光器件130输出的光信号进行耦合，并将耦合后的光信号分两路传输至光开关单元180和第二多模光纤单元170；光开关单元180，用于切换电路，从而将其接收的光信号在单模光纤单元150和第一多模光纤单元160之间交替传输；光组件耦合控制单元140，还用于获取经单模光纤单元150传输后的光功率值P1和经第一多模光纤单元160传输后的光功率值P2，并在P2减P1的差值大于或等于第一预设值时调整耦合参数，使该差值小于第一预设值；MCU控制单元120，用于获取经由第二多模光纤单元170传输后的光信号的光眼图Margin值，并在Margin值小于或等于第二预设值时，调整光器件驱动控制单元110输出至单模光器件130的去加重补偿参数，使光眼图Margin值大于第二预设值。实际应用中，单模光器件130可以采用单路单模DML激光器，也可以采用多路单模DML激光器。可以设置第一预设值的取值等于或小于1dB，设置第二预设值的取值为等于或大于10%。光开关单元180，用于切换两个光路，其中一路与单模光纤单元150连接，另一路与第一多模光纤单元160连接，通过两个光路的切换，可以使其接收的光信号在两个光路中交替传输。单模光纤单元150和第一多模光纤单元160主要用于监测单模光器件130的单模光纤传输与多模光纤传输的光功率的差，因此单模光纤单元150可以选用0.5m或者1m的单模短光纤；第一多模光纤单元160可以选用0.5m或者1m的多模短光纤。第二多模光纤单元170可以选用200m的OM3多模光纤或者300m的OM4多模光纤。实际应用中，光器件驱动控制单元110可以包括不归零信号发生器和激光器驱动芯片，用于给单模光器件130提供偏置电流BIAS，高速调制电流MOD；调制信号可以是外部信号发生器提供的NRZ信号。光器件驱动控制单元110还向单模光器件130提供高信号高频去加重及低频去加重用于补偿因单模光器件130的阻抗差异导致的高频信号不连续带来的光眼图差异。在一个可行的方案中，MCU控制单元120，还用于对光器件驱动控制单元110进行参数设置，使光器件驱动控制单元110根据参数设置向单模光器件提供偏置电流、调制电流以及去加重补偿。实际应用中，在对偏置电流、调制电流进行初始化设置时，可以根据单模光器件130供应商提供的出厂测试数据，设定单模光器件130的BIAS偏置电流值、MOD调制电流值以及光眼图的去加重补偿值，从而保证初始的光功率值、眼图消光比ER及眼图模块的Margin值。通过设置信号高频去加重HFDE及信号低频去加重LFDE补偿第二多模光纤后的眼图高频衰减，有利于提高眼图模块的Margin值。在一个可行的方案中，该多模光纤传输的控制装置还包括第一光功率监测单元190、第二光功率监测单元210和光眼图监测单元220，其中：第一光功率监测单元190，用于监测经过单模光纤单元150传输后的光功率值P1；第二光功率监测单元210，用于监测经过第一多模光纤单元160传输后的光功率值P2；光眼图监测单元220，用于监控经过第二多模光纤单元170后的光信号的光眼图的Margin值。在一个可行的方案中，参阅图4，光组件耦合控制单元140包括第一耦合控制器141、准直透镜142、集成薄膜滤波器143、第二耦合控制器144、汇聚透镜145、固定衰减片146，其中：第一耦合控制器141，用于调整准直透镜142在X轴、Y轴、Z轴的三维位置，从而将单模光器件发出的发散光转换为多路平行光；集成薄膜滤波器143，用于将多路平行光转换成单路平行光输出至汇聚透镜145；第二耦合控制器144，用于调整汇聚透镜145在X轴、Y轴、Z轴的三维位置，以将单路平行光进行汇聚输出；固定衰减片146，用于减小因汇聚透镜145的过度离焦而偏离焦点的位置，从而保证单模光组器件139输出的光信号主要集中在纤芯内。实际应用中，可以根据产品目标光功率选择合适衰减量的固定衰减片146，用于减小因汇聚透镜145的过度离焦而偏离焦点的位置，减少进入光纤包层内的光信号，从而保证单模光器件130输出的光信号主要集中在纤芯内，而光信号的集中有利于其在多模光纤中传输。实际应用中，单模光纤纤芯的纤芯直径通常为8µm或10µm、多模光纤的纤芯直径通常为50µm或62.5µm，它们的包层直径都为125µm。在一些可行的方案中，光组件耦合控制单元140还包括隔离器和适配器147。经固定衰减片146进入纤芯内的光信号经过隔离器和适配器147后分别输出至光开关单元180以及第二多模光纤单元170。实际应用中，光隔离器的作用是消除光路中不连续处产生的反射光对单模光器件及光路系统中所产生的不良影响，可提高光器件光路的稳定性。适配器是光纤活动连接器中连接部件，作用是把光纤连接器的两个端面精密对接起来，以使发射光纤输出的光信号能大限度地耦合到接收光纤中去，保证光纤之间的高连接性能。本实施例提出的多模光纤传输的控制装置，将单模光器件产生的光信号通过光组件耦合控制单元进行耦合，并将耦合后的光信号分两路传输至光开关单元和第二多模光纤单元，由光开关单元将接收到的光信号在单模光纤单元和第一多模光纤单元之间交替传输，并在经过第一多模光纤单元传输和单模光纤单元和的光信号的光功率值P2-P1的差值大于或等于第一预设值时，调整光组件耦合控制单元的耦合参数直至该差值小于第一预设值，从而保证单模光器件输出的光信号集中在纤芯内，有利于光信号在多模光纤中的传输，同时获取经过第二多模光纤传输后的光信号的光眼图的Margin值，并在Margin值小于或等于第二预设值时，调整光器件驱动控制单元去加重补偿值直至Margin值大于第二预设值，从而有效解决了单模光在多模光纤传输后眼图性能的劣化和兼容性差的问题，提高了产品质量。实施例4：在前述实施例1至实施例3的基础上，本实施例提出了一种计算机可读存储介质，所述可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如前所述的多模光纤传输的控制方法的步骤。在本发明的描述中，需要理解的是，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个该特征。在本发明的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。在本发明中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”、“固定”等术语应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或成一体；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连；可以是两个元件内部的连通或两个元件的相互作用关系。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。在本发明中，除非另有明确的规定和限定，第一特征在第二特征“上”或“下”，可以是第一和第二特征直接接触，或第一和第二特征通过中间媒介间接接触。而且，第一特征在第二特征“之上”、“上方”和“上面”，可以是第一特征在第二特征正上方或斜上方，或仅仅表示第一特征水平高度高于第二特征。第一特征在第二特征“之下”、“下方”和“下面”，可以是第一特征在第二特征正下方或斜下方，或仅仅表示第一特征水平高度低于第二特征。在本说明书的描述中，术语“一个实施例”、“一些实施例”、“实施例”、“示例”、“具体示例”或“一些示例”等的描述，是指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任一个或多个实施例或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本说明书中描述的不同实施例或示例以及不同实施例或示例的特征进行结合和组合。尽管上面已经示出和描述了本发明的实施例，可以理解的是，上述实施例是示例性的，不能理解为对本发明的限制，本领域的普通技术人员在本发明的范围内可以对上述实施例进行改动、修改、替换和变型。
