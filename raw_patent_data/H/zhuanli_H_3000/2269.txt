标题title
一种基于松散本地差分隐私模型的键值数据收集方法
摘要abst
本发明公开了一种基于松散本地差分隐私模型的键值数据收集方法，该方法包括对键值对数据类型的本地差分隐私模型进行了定义，将对在广义随机响应机制下的松散本地差分隐私下隐私预算进行公开并对其进行最优分配。问题解决了如下应用场景：存在多个用户，每个用户报告多个属性的值组成键值对，对隐私预算分配和扰动进行概率计算，随后用户根据服务器端提供的隐私预算取值，并在用户本地端中对数据键值对的值进行数据扰动，将扰动后的噪声值提交给数据收集方。服务器收集用户的扰动后数据，分析计算出原始数据键的频率估计结果和键值对应的均值估计结果。本发明可以使得保护过程全部在客户端，可抵抗不可信的第三方服务器攻击。
权利要求书clms
1.一种基于松散本地差分隐私模型的键值数据收集方法，其特征在于，包括以下步骤：S1、在广义随机响应机制下的服务器设置，包括设置模型的总体隐私预算ε和总体松散程度δ，通过分解，将隐私预算ε分配为键扰动涉及的因隐私预算ε1和键扰动的松散程度δ1，设置值扰动所涉及的隐私预算ε2和值扰动的松散程度δ2，同时将ε、ε1、δ1、ε2和δ2公布给用户，推导出元素中键和值转换的最优概率；S2、每个用户从本地将原始数据＜k，v＞进行数据集预处理，设置原始数据为S并进行填充，设填充的长度为l；对于整个机制，原始所有键的数量为d，设置协议中总长d′＝d+l；随后对键值对进行采样，将采样后的数据根据/＞的大小进行离散化；S3、用户根据采样中的数据键值对进行键和值的扰动，并把扰动后的数据发送给服务器；S4、服务器根据用户发送的扰动数据进行统计分析，估算出原始数据的频率分布结果和均值估计大小。2.根据权利要求1所述的基于松散本地差分隐私模型的键值数据收集方法，其特征在于：在步骤中服务器让隐私分配达到最优，推导出元素中键和值转换的最优概率包括如下过程：S11、基于广义随机响应机制，所述方法假设键和值扰动的隐私预算分别为ε1和ε2，键扰动的松散程度δ1，值扰动的松散程度δ2，根据-LDP的定义式Pr＝y)≤eε·Pr＝y)，即推导出键值对中键转化的情况：1→1的概率为a，0→1的概率为b，之后分别对键中a，b的扰动概率进行计算：S12、针对键值对中的值扰动阶段应该满足-LDP的定义式，即键值对中值1→1的概率为而1→-1的概率为1-p；S13、针对键值对整体扰动的概率计算，针对离散后的键值对数据＜k，v＞经过扰动后为＜k′，v′＞，根据k值和Pr的边界值，当k∈{d+1，...d′}时v*k＝0，推导出隐私预算是需要进行分界线进行讨论；情况1：当隐私预算/＞情况2：当时，隐私预算/＞S14、通过评估机制效用的方式对隐私预算进行优化处理，使其利用率最大，本步骤使用均方误差进行评估，估计量的均方误差通过方差及其偏差的平方和来计算，即，/＞然后根据函数分析需对/＞取最小值，最后可得到扰动概率与隐私的关系式；其健值中的健转化概率a＝+2+2lδ/+2d′)；键转化概率b＝2/+2d′)；键值对中值的转化概率3.根据权利要求1所述的基于松散本地差分隐私模型的键值数据收集方法，其特征在于：在步骤中的数据集预处理还包括用户端对于原始真实数据的填充和采样，包括如下过程：S21、对于原始数据S进行填充和采样，设置填充的长度为l，当用户数据集为空时，将填充l个数据；对于整个机制，原始所有键的数量为d，设置d′＝d+l，其中d′表示填充后键域的大小；键域K′＝{1，2，…，d′}；S22、针对非伪键值对进行采样概率η计算，η＝|S|/，该参数将作为二项随机分布的参数使用；当采样的键是真实存在的数据则采样的值进行保留，若对一个伪键进行采样，将分配一个假值v*＝0，以此来保证采样到伪键时不会对均值估计产生影响；S23、将采样后的数据根据/＞的大小进行离散化；此时，将采样后的数据根据/＞的大小进行离散化；其中值转为1的概率为/＞转化为-1的概率为4.根据权利要求1所述的基于松散本地差分隐私模型的键值数据收集方法，其特征在于，步骤中，服务器端在收到扰动后对数据的频率和均值进行估计的过程如下：S41、对于所有的用户将其值输出上传至服务器后，服务器将统计输出的1和-1的数量，分别表示为n1和n2，其中n1＝num和n2＝num；然后，对n1和n2进行校准；S42、对于频率估计，采用基线估计法并使用频率估计器，当每个用户的数据集的大小不超过l时，该估计器是无偏的；由于n1+n2是观察到的拥有键的用户数，所以存在以下等效频率估计器S43、服务器中生成的假值-1或1概率分别为0.5，所以在过程中无参考意义，但可通过将总和除以真实键的计数来估计平均值；被报告为拥有的真实键的计数用来近似，因为采样率为1/l，真实键被报告为拥有的概率为a；因此，相应的平均估计量5.根据权利要求1所述的基于松散本地差分隐私模型的键值数据收集方法，其特征在于：该方法中，用户在本地端对自身原始数据进行扰动，并将扰动后的结果发送给服务器，服务器再聚合计算得到所有用户数据估计值。6.根据权利要求1所述的基于松散本地差分隐私模型的键值数据收集方法，其特征在于：通过实现较好的机制性能来反推出优化的隐私预算分配，所述方法通过使用均方误差来计算出隐私预算，其中估计量的均方误差可以通过方差及其偏差的平方和来计算；随后经过频率估计和均值估计的均方误差推导出扰动概率与隐私的关系式。
说明书desc
技术领域本发明属于信息安全技术，涉及种基于松散本地差分隐私模型的键值数据收集方法。背景技术随着新一轮的科技革命与信息时代的发展，网络数据的产生为企业和政府带来了重大的发展和进步，通过数据的收集及分析为后续的政策及举措提供重要科学基础，实现更好的经济效应。数据对是现实生活中一种常见的数据形式，有着非常广发的应用场景。通过分析数据之间的关系，可以挖掘大数据的信息，进而更好的为管理者提供数据支持，更好的为用户提供服务。例如在购物或观看电影时，分析用户的偏好并收集大量用户对影视的偏好，根据新老用户习惯推荐新产品或高分电影。同时大数据也是双刃剑，随着大数据的发展，安全问题也愈演愈烈，日益威胁着个人权利、公共利益乃至国家利益，用户对个人隐私保护的重视度越来越高，但在收集过程中存在大量隐私信息泄露风险。因此，如何在保护隐私的前提下，对关联数据是一个亟待解决的问题。隐私计算是一系列技术的合集，交叉融合了密码学、统计学、人工智能、计算机硬件等众多学科。它在本质上满足了在不暴露原始数据的前提下，能够对数据进行计算、流通、价值可管、可控。针对层出不穷的隐私攻击和隐私保护机制的缺陷，Dwork于2006年提出差分隐私模型，这项技术是密码学中的一种数据处理手段，旨在提供一种当从统计数据库查询时，最大化数据查询的准确性，同时最大限度减少识别其记录的机会。差分隐私不仅严格定义了攻击者的背景知识，并且拥有严谨的统计学模型，这已经成为隐私数据发布的一个标准。随着技术的发展，现实生活中存在第三方不可信问题，本地差分隐私应运而生，该模型继承了差分隐私的优点，在本地差分隐私中，每个用户使用机制M对输入x进行扰动处理，并上传y＝M到不可信的服务器上进行数据分析，这种机制下，只有用户拥有自己的原始数据，而服务器端只能收到y＝M而无法直接访问原始数据，可以抵抗不可信的第三方共计。本地差分隐私的形式化定义如下：对于给定的ε∈R+，随机机制M满足-LDP当且仅当对于任意一对输入x，x′和任意一对输出y，输出相同y的概率关系式为：Pr＝y)≤eε·Pr＝y)+δ，其中ε≥0，δ∈。ε为隐私预算，是衡量用户隐私暴露程度的参数，也能反映出用户将隐私交付给第三方的程度，该参数可以用来控制隐私保护的强度，ε越大，隐私暴露的程度越大，而ε越小，表示隐私保护越强。当ε很小时，攻击者在试图区分任何一对输入x，x′时，需要保证完全正确的信息是处于一个较低状态。δ为松散程度，是衡量算法无法保证满足本地差分隐私程度的参数，δ越小，算法保证满足ε-LDP的可能性越高，但一定的松散程度可以换来更大的适用性。当δ＝0时为严格化本地差异隐私，当δ＞0时为松散本地差异隐私。现有的LDP主要集中在在简单的统计查询，例如分类数据的频率和直方图估计。然而，现实应用通常都涉及到很多不同的数据类型，键值数据就是一种在很多应用中常见的数据类型。例如对一个电影分级系统，每个用户拥有多个电影的观看记录并对相应的电影观看记录进行评分，即每个用户拥有一组键值对＜k，v＞。数据收集器可以所有用户的评级记录聚合在一起，并统计分析某部电影的相关属性，例如观看该电影的人次和对该电影打分的平均值。经过数据的统计分析后，服务器可以通过选择高频率和大均分的手段提供电影建议，其中键的频率和每个键下的值的平均值都必须要同时估计。对于使用键值对数据收集隐私保护，Xiaolan Gu等人提出了基于广义随机响应的本地差分隐私下的键值数据来实现键值对数据的收集框架，该框架利用相关扰动机制来增强隐私保护效果。但这仅仅是针对严格本地差分隐私的特殊情况，并未拓展至松散本地差分隐私下的键值数据机制。在本发明中，目标是在-LDP模型的隐私约束下，设计高精度的键值数据采集和分析机制。发明内容发明目的：本发明提供一种基于松散本地差分隐私模型的键值数据收集方法，将现有的严格本地差分隐私键值对数据机制进行延伸，以便于之后更广泛的应用。本发明所述的一种基于松散本地差分隐私模型的键值数据收集方法，包括以下步骤：S1、在广义随机响应机制下的服务器设置，包括设置模型的总体隐私预算ε和总体松散程度δ，通过分解，将隐私预算ε分配为键扰动涉及的因隐私预算ε1和键扰动的松散程度δ1，设置值扰动所涉及的隐私预算ε2和值扰动的松散程度δ2，同时将ε、ε1、δ1、ε2和δ2公布给用户，推导出元素中键和值转换的最优概率；S2、每个用户从本地将原始数据＜k，v＞进行数据集预处理，设置原始数据为S并进行填充，设填充的长度为l；对于整个机制，原始所有键的数量为d，设置协议中总长d′＝d+l；随后对键值对进行采样，将采样后的数据根据/＞的大小进行离散化；S3、用户根据采样中的数据键值对进行键和值的扰动，并把扰动后的数据/＞发送给服务器；S4、服务器根据用户发送的扰动数据进行统计分析，估算出原始数据的频率分布结果和均值估计大小。在步骤中，键值数据收集机制的隐私预算最优分配方式如下过程：S11、对于广义随机响应机制下的松散本地差分隐私的键值对数据收集方法中，假设键和值扰动的隐私预算分别为ε1和ε2，键扰动的松散程度δ1，值扰动的松散程度δ2。根据-LDP的定义式Pr＝y)≤eε·Pr＝y)，即推导出键值对中键转化的情况，1→1的概率为a，0→1的概率为b。分别对键中a，b的扰动概率进行计算：S12、针对键值对中的值扰动阶段应该满足-LDP的定义式，即键值对中值1→1的概率为而1→-1的概率为1-p。S13、针对键值对整体扰动的的概率计算。针对离散后的键值对数据＜k，v＞经过PCKV机制扰动成＜k′，v′＞，根据k值和Pr的边界值，当k∈{d+1，...d′}时v*k＝0，推导出隐私预算是需要进行分界线进行讨论。情况1：当时，隐私预算情况2：当/＞时，隐私预算S14、为了充分利用隐私预算需要对其进行优化处理。所述方法采用评估机制效用的方法，使用均方误差进行评估，即均方误差越小，效用越好。估计量的均方误差可以通过方差及其偏差的平方和来计算，即/＞根据函数分析需对/＞取最小值。最后可得到扰动概率与隐私的关系式。其健值中的健转化概率a＝+2+2lδ/+2d′)；键转化概率b＝2/+2d′)。键值对中值的转化概率p＝+1+lδ)/+2+2lδ)。在步骤中，用户端原始真实数据的填充和采样方法包括如下过程：S21、对于原始数据S进行填充和采样，设置填充的长度为l，当用户数据集为空时，将填充l个数据。对于整个机制，原始所有键的数量为d，设置d′＝d+l，其中d′表示填充后键域的大小。键域K′＝{1，2，…，d′)。S22、针对非伪键值对进行采样概率η计算，η＝|S|/，该参数将作为二项随机分布的参数使用。当采样的键是真实存在的数据则采样的值进行保留，若对一个伪键进行采样，将分配一个假值v*＝0，以此来保证采样到伪键时不会对均值估计产生影响。S23、将采样后的数据根据/＞的大小进行离散化。此时，将采样后的数据根据/＞的大小进行离散化。其中值转为1的概率为/＞转化为-1的概率为在步骤中，服务器端收到扰动后对数据的频率和均值进行估计的过程如下：S41、对于所有的用户将其值输出上传至服务器后，服务器将统计所输出的1和-1的数量，分别表示为n1和n2，其中n1＝num和n2＝num。然后，对n1和n2进行校准，以此来估计键k∈K的频率和平均值。S42、对于频率估计，采用基线估计法并使用频率估计器，当每个用户的数据集的大小不超过l时，该估计器是无偏的。由于n1+n2是观察到的拥有键的用户数，该方法有以下等效频率估计器S43、服务器中生成的假值-1或1概率分别为0.5，所以在过程中无参考意义，但可通过将总和除以真实键的计数来估计平均值。被报告为拥有的真实键的计数可以用来近似，因为采样率为1/l，真实键被报告为拥有的概率为a。因此，相应的平均估计量有益效果：本发明在本地针对广义随机响应机制下的松散本地差分隐私进行了隐私保护优化，通过计算对隐私参数ε和δ实行最优分配以实现最小方差，保证了在该模型中，全敏感的数据隐私保护程度没有降低，保障了频率估计与均值估计结果的准确度；本发明在收集过程中对数据键值对进行填充和采样，保护了同质数数据之间的关联性，同时保障了数据的无偏性，在原始方案的基础上提高了整体的数据效用。附图说明图1为本发明的整体流程图；图2为本发明实例的用户端流程示意图；图3为本发明实例的用户端流程示意图。具体实施方式以下结合具体实施例对上述方案做进一步说明。应理解，这些实施例是用于说明本发明而不限于限制本发明的范围。基于本发明的实施例，本领域普通技术人员在么有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明的保护范围。为详细的说明本发明所公开的技术方案，下面结合说明书附图及具体实施例做进一步的阐述。首先，本发明结合现有本地差分隐私应用中针对同质数数据不能同时对键值数据的频率和每个键值下的平均值计算的问题，此外，阻止了攻击者窃取用户提交的数据，阻止了攻击者可能从可信第三方服务器中获取到用户的数据，使得用户存在数据隐私侵犯的风险，如位置数据，购物记录，电影评分等数据。本发明利用松散本地差分隐私数据键值对模型进行隐私预算分配，其次根据定义的模型优化隐私预算进行数据扰动机制，最后将数据上传至服务器端，从而保障了原始数据的安全性。即无论通过任何手段，攻击者无法获取单个用户键值中的任何数据。具体的，本发明所述的松散本地差分隐私键值对数据采集方法实施步骤如下：S1、设置好总体隐私预算ε和总体松散程度δ。通过分解，将隐私预算ε分配为键扰动涉及的因隐私预算ε1和键扰动的松散程度δ1，设置值扰动所涉及的隐私预算ε2和值扰动的松散程度δ2，同时将ε、ε1、δ1、ε2和δ2公布给用户，将推导出元素中键和值转换的最优概率。S2、每个用户从本地将原始数据＜k，v＞进行数据集预处理：设置原始数据为S并进行填充，设填充的长度为l。对于整个机制，原始所有键的数量为d，设置协议中总长d′＝d+l。对键值对进行采样，将采样后的数据根据/＞的大小进行离散化。S3、用户根据采样中的数据键值对进行键和值的扰动，并把扰动后的数据/＞发送给服务器；S4、服务器根据用户发送的扰动数据进行统计分析，估算出原始数据的频率分布结果和均值估计大小。在步骤S1中，键值数据收集机制的隐私预算最优分配方式如下过程：S11、对于松散本地差分隐私下的键值对数据收集机制中的广义随机响应机制，假设键和值扰动的隐私预算分别为ε1和ε2，键扰动的松散程度δ1，值扰动的松散程度δ2。根据-LDP的定义式Pr＝y)≤eε·Pr＝y)，即推导出键值对中键中1→1的概率为a，0→1的概率为b。分别对键中a，b的扰动概率进行计算：S12、针对键值对中的值扰动阶段应该满足-LDP的定义式，即键值对中值1→1的概率为S13、针对键值对整体扰动的的概率计算。针对离散后的键值对数据＜k，v＞经过PCKV机制扰动成＜k′，v′＞，根据k值和Pr的边界值，当k∈{d+1，...d′}时v*k＝0，推导出隐私预算是需要进行分界线进行讨论。情况1：当时，隐私预算情况2：当/＞时，隐私预算S14、为了充分利用隐私预算，需要紧凑的使用，接下来将对其进行优化处理。所述方法采用评估机制效用的方法，是使用均方误差，即均方误差越小，效用越好。估计量的均方误差可以通过方差及其偏差的平方和来计算，即/＞根据函数分析需对/＞取最小值。最后可得到扰动概率与隐私的关系式。其健值中的健转化概率a＝+2+2lδ/+2d′)；键转化概率b＝2/+2d′)。键值对中值的转化概率p＝+1+lδ)/+2+2lδ)。在步骤S2中，用户端原始真实数据的填充和采样方法包括如下过程：S21、对于原始数据S进行填充和采样，设置填充的长度为l，当用户数据集为空时，将填充l个数据。对于整个机制，原始所有键的数量为d，设置d′＝d+l，其中d′表示填充后键域的大小，键域K′＝{1，2，…，d′}。S22、针对非伪键值对进行采样概率η计算，η＝|S|/，该参数在实验模拟中会作为二项随机分布的参数使用。当采样的键是真实存在的时候，采样的值进行保留，并根据值域的大小将其转化，若对一个伪键进行采样，将分配一个假值v*＝0，以此来保证采样到伪键时不会对均值估计产生影响。S23、采样数据离散化：将采样后的数据根据/＞的大小进行离散化。当采样的键是真实存在的时候，采样的值进行保留，并根据值域的大小将其转化，当对一个伪键进行采样时，将分配一个假值v*＝0，以此保证采样到伪键时不会对均值估计产生影响。此时，将采样后的数据/＞根据/＞的大小进行离散化。其中值转为1的概率为/＞转化为-1的概率为/＞在步骤S4中，服务器端收到扰动后的值，对数据的频率和均值进行估计的过程如下：S41、对于所有的用户将其值输出上传至服务器后，服务器将统计所输出的1和-1的数量，分别表示为n1和n2，其中n1＝num和n2＝num。然后，对n1和n2进行校准。S42、采对于频率估计，采用基线估计法并使用频率估计器，当每个用户的数据集的大小不超过l时，该估计器是无偏的。由于n1+n2是观察到的拥有键的用户数，有以下等效频率估计器S43、服务器中生成的假值-1或1概率分别为0.5，所以在过程中无参考意义，但可通过将总和除以真实键的计数来估计平均值。被报告为拥有的真实键的计数可以用来近似，因为采样率为1/l，真实键被报告为拥有的概率为a。因此，相应的平均估计量结合图1，松散本地差分隐私键值对数据采集方法中用户端具体流程步骤如下：步骤一：对于用于拥有的原始数据集S进行填充和采样，设置填充的长度为l，当用户数据集为空时，将填充l个数据。对于整个机制，原始所有键的数量为d，设置d′＝d+l，键域K′＝{1，2，…，d′}。步骤二：针对非伪键值对进行采样概率η计算，η＝|S|/，该参数会作为二项随机分布的参数使用。并对采样的键值是否真实存在过，若存在，执行步骤三；若不存在，执行步骤四。步骤三：当采样的键是真实存在的时候，采样的值进行保留，并根据值域的大小将其转化，执行步骤五。步骤四：若对一个伪键进行采样，将分配一个假值v*＝0，保证采样到伪键时不会对均值估计产生影响，执行步骤五。步骤五：将采样后的数据限据/＞的大小进行离散化。其中值转为1的概率为/＞转化为-1的概率为/＞步骤六：户将扰动结果发送给服务器。结合图2，松散本地差分隐私键值对数据采集方法中服务器端具体流程步骤如下：步骤一：设置好总体隐私预算ε和总体松散程度δ。通过分解，将隐私预算ε分配为键扰动涉及的因隐私预算ε1和键扰动的松散程度δ1，设置值扰动所涉及的隐私预算ε2和值扰动的松散程度δ2，同时将ε、ε1、δ1、ε2和δ2公布给用户。步骤二：服务器收集到全部n个用户发送的扰动数据结果，根据用户发送的扰动后的键值对数据，服务器将统计1和-1的数量，分别表示为n1和n2，其中n1＝num和n2＝num。步骤三：计算频率估计，当每个用户的数据集的大小不超过l时，该估计器是无偏的。由于n1+n2是观察到的拥有键的用户数，则频率估计器计算为：步骤四：通过将总和除以真实键的计数来估计平均值，被报告为拥有的真实键的计数可以用来近似，真实键被报告为拥有的概率为a。根据机制中生成的假值-1或1概率分别为0.5，证明在统计时，对值的总和没有变化，则可获得均值估计/＞步骤五：服务器得到所有键的频率估计结果和对应值的均值估计结果。根据推导，可以得出松散本地差分隐私模型下的键值数据收集机制的最优化隐私分配，此外，也总结了严格本地化和松散本地化下的随机响应方案扰动概率，可见表格1。此外，本发明通过均方误差来评估效用机制。提高机制在使用过程中的科学可信性。表1严格本地化和松散本地化下的随机响应方案扰动概率下面是本发明的实验结果。实验中采用的数据集是Clothing，这是Kaggle上的一个数据集，里面记录了105508个用户对5850个事物的评分，每条评分都是一条记录，共有192544条记录。本发明将每位用户评分的记录进行约束，将填充数大小l设置在10到10000左右，针对松散程度δ进行范围规定，δ＝。在实验中划分了7个隐私级别，隐私预算分别为0.1，1.0，2.0，3.0，4.0，5.0，6.0。在实验中每个用户在本地扰动自己的数据，并将结果发送给服务器，因为对MSE的影响很小，所以本次服务器统计均值结果MSEmean。表2均方误差受参数l的影响表3均方误差受参数δ的影响表4均方误差受参数ε的影响通过表2可以看出，对于本次实验所使用的数据集，将填充大小设置在l＝100左右，可以使得整体性能较好。通过表3，将δ固定在一个与0接近的小值上，可以看到频率的均方误差曲线与不含δ时的曲线基本相同，说明较小的松散程度δ，对整个方案性能的影响不大；将δ固定在一个更大的值上，可以看到频率的均方误差曲线与表3相比，吻合程度变小了，说明松散程度δ越大，对整个方案性能的影响越大，并且在该参数下，整个机制的性能有了大的提升。通过表4可以看出，隐私预算最优分配中均值估计的均方误差基本小于简单分配。可以得出，δ作为松散本地差分隐私中松散程度的参数，对算法整体的影响是当δ越大时，算法性能好坏的稳定性降低。本发明在可以保护用户的原始数据不被攻击者获取，抵抗具有任意背景知识的攻击者和防止来自不可信第三方的隐私攻击，同时解决了现有本地差分隐私键值数据采集方法对二维数据无考虑这一问题，实现了更细粒度的保护，并且在保证隐私数据安全的基础上合理保护敏感数据，提高估计隐私数据的效用。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
