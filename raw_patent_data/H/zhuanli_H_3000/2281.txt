标题title
一种针对电泳后工件表面二维码和字符码错码排查方法
摘要abst
本发明公开了一种针对电泳后工件表面二维码和字符码错码排查方法，包括如下步骤：S01:接收距离检测数据，并根据距离检测数据对灯光模式进行调节；S02：接收针对图像中二维码和字符码的关联关系，并根据关联关系定义识别对象；S03：检测图像中识别对象的完整性，若完整，则对识别对象进行识别，若不完整，则对灯具进行调节，直至识别对象完整，然后对识别对象进行识别；S04：对同一识别对象中的二维码识别结果和字符码识别结果进行比对，若结果不相同，则发出警示信息。与现有技术相比，本发明能够实现对电泳后工件表面二维码和字符码的准确识别，同时实现对错码进行排查。
权利要求书clms
1.一种针对电泳后工件表面二维码和字符码错码排查方法，其特征在于，包括如下步骤：S01:接收距离检测数据，并根据距离检测数据对灯光模式进行调节；S02：接收针对图像中二维码和字符码的关联关系，并根据关联关系定义识别对象；S03：检测图像中识别对象的完整性，若完整，则对识别对象进行识别，若不完整，则对灯具进行调节，直至识别对象完整，然后对识别对象进行识别；对灯具的调节过程包括：检测识别对象中的缺失区域，按照预定方案依次调节灯具中的灯或灯组的亮度，检测缺失区域的大小是否变化，若发生变化，则调节该灯或者该组灯的照射方向，直至缺失区域不再因为其方向改变而发生变化；或者，检测识别对象中的缺失区域，按照预定方案依次调节灯具中的灯或灯组的照射方向，检测缺失区域的位置是否发生变化，若发生变化，则调节该灯或者该组灯的照射方向，直至缺失区域不再因为其方向改变而发生变化；S04：对同一识别对象中的二维码识别结果和字符码识别结果进行比对，若结果不相同，则发出警示信息。2.根据权利要求1所述一种针对电泳后工件表面二维码和字符码错码排查方法，接收针对接收针对图像中二维码和字符码的关联关系的过程包括：接收框选位置、框选大小和框选方向，并根据框选位置、框选大小和框选方向生成选定框，并将选定框中的二维码和字符码定位为关联关系。3.根据权利要求1所述一种针对电泳后工件表面二维码和字符码错码排查方法，其特征在于，在对灯组的调节过程中，对灯或灯组的照射方向的调节过程包括：在该灯或该灯组可调节的方向上进行微量预调节，记录微量预调节过程中能够产生变化的调节方向，并选择能够产生变化的调节方向中距离图像边缘最近的方向作为调节方向。4.根据权利要求1至3中任一项所述一种针对电泳后工件表面二维码和字符码错码排查方法，其特征在于，所述灯具包括电源和与所述电源连接的灯组件，所述灯组件包括安装盒和多个灯组，所述多个灯组设置于所述安装盒中，且按照环形分布，所述灯组包括两个相邻设置的补光单元，所述补光单元包括安装座、转动驱动机构、转轴、第一调节轮、第二调节轮、第三调节轮、灯体和调节板组件，所述安装座包括座体、第一纵向支架和第二纵向支架，所述第一纵向支架和所述第二纵向支架相对设于所述座体上，所述第一纵向支架上设有平行设置的第一滑槽和第二滑槽，所述第二纵向支架上设有平行设置的第三滑槽和第四滑槽，所述转动驱动机构、转轴、第一调节轮、第二调节轮和第三调节轮设于所述座体中，所述转轴水平设置，所述第一调节轮连接所述转动驱动机构，由所述转动驱动机构驱动转动，所述第二调节轮和所述第三调节轮设于所述转轴上，所述第二调节轮和所述第一调节轮的轮周相贴合，所述调节板组件包括第一漫射板、第二漫射板和柔性连接片，所述柔性连接片绕过所述第三调节轮，其侧壁上设有与所述第三调节轮相接触的摩擦层，所述柔性连接片连接所述第一漫射板和所述第二漫射板，所述第一漫射板的两侧边沿分别设于所述第一滑槽和所述第三滑槽中，所述第二漫射板的两侧边沿分别设于所述第二滑槽和所述第三滑槽中，所述灯体设于所述第一漫射板和所述第二漫射板之间；所述S01中，灯光模式包括远距离模式、中距离模式和近距离模式；当距离检测数据处于第一范围值内时，设置为所述远距离模式，在远距离模式下，所述灯组的所述两个补光单元相互靠拢；当距离检测数据处于第二范围值内时，设置为中距离模式，所述灯组的两个所述补光单元中，靠外的所述补光单元开启，靠内的所述补光单元关闭；当距离检测数据处于第三范围值时，设置为近距离模式，所述灯组的两个所述补光单元中，靠外的所述补光单元关闭，靠内的所述补光单元开启。5.根据权利要求4所述一种针对电泳后工件表面二维码和字符码错码排查方法，其特征在于，所述第一范围值为1m-2m，所述第二范围值设置为0.5m-1m，所述第三范围值设置为0.1m-0.5m。6.根据权利要求4所述一种针对电泳后工件表面二维码和字符码错码排查方法，其特征在于，所述转动驱动机构设置为电机或电动滚筒。7.根据权利要求4所述一种针对电泳后工件表面二维码和字符码错码排查方法，其特征在于，所述柔性连接片采用橡胶制成。8.根据权利要求4所述一种针对电泳后工件表面二维码和字符码错码排查方法，其特征在于，所述摩擦层为橡胶层或者石英石涂层。
说明书desc
技术领域本发明涉及信息识别技术领域，特别涉及一种针对电泳后工件表面二维码和字符码错码排查方法。背景技术新能源车领域很多工件用于承载、连接动力电池或与电池近距离接触，所以这些工件表面需要经过电泳处理，防止动力电池漏液腐蚀工件或者极端情况下造成击穿，导致重大车辆安全事故，上述工件经过电泳处理后整体变黑，激光打刻的二维码、字符码本身就是黑色，电泳后与工件混为一体，人眼很难辨别，需要从特殊角度查看才能勉强识别出来，电泳处理也会导致激光打刻的二维码变模糊，若二维码本身打刻效果就不好，经电泳处理后将更加难以识别，而使用市场上常见的扫码枪或掌上电脑经常发生无法识别二维码的情况，若在生产过程中发生多次激光打标系统故障，导致激光打刻的二维码或字符码出现打码错乱的现象，如不能排查出重码和错码，对于生产管理以及后续车辆质量追溯也会造成重大影响。有鉴于此，本申请的发明人经过深入研究，得到一种针对电泳后工件表面二维码和字符码错码排查方法。发明内容本发明的目的是提供一种针对电泳后工件表面二维码和字符码错码排查方法，其能够实现对电泳后工件表面二维码和字符码的准确识别，同时实现对错码进行排查。本发明的上述技术目的是通过以下技术方案得以实现的：一种针对电泳后工件表面二维码和字符码错码排查方法，包括如下步骤：S01:接收距离检测数据，并根据距离检测数据对灯光模式进行调节；S02：接收针对图像中二维码和字符码的关联关系，并根据关联关系定义识别对象；S03：检测图像中识别对象的完整性，若完整，则对识别对象进行识别，若不完整，则对灯具进行调节，直至识别对象完整，然后对识别对象进行识别；对灯具的调节过程包括：检测识别对象中的缺失区域，按照预定方案依次调节灯具中的灯或灯组的亮度，检测缺失区域的大小是否变化，若发生变化，则调节该灯或者该组灯的照射方向，直至缺失区域不再因为其方向改变而发生变化；或者，检测识别对象中的缺失区域，按照预定方案依次调节灯具中的灯或灯组的照射方向，检测缺失区域的位置是否发生变化，若发生变化，则调节该灯或者该组灯的照射方向，直至缺失区域不再因为其方向改变而发生变化；S04：对同一识别对象中的二维码识别结果和字符码识别结果进行比对，若结果不相同，则发出警示信息。在一个优选实施例中，接收针对接收针对图像中二维码和字符码的关联关系的过程包括：接收框选位置、框选大小和框选方向，并根据框选位置、框选大小和框选方向生成选定框，并将选定框中的二维码和字符码定位为关联关系。在一个优选实施例中，在对灯组的调节过程中，对灯或灯组的照射方向的调节过程包括：在该灯或该灯组可调节的方向上进行微量预调节，记录微量预调节过程中能够产生变化的调节方向，并选择能够产生变化的调节方向中距离图像边缘最近的方向作为调节方向。在一个优选实施例中，所述灯具包括电源和与所述电源连接的灯组件，所述灯组件包括安装盒和多个灯组，所述多个灯组设置于所述安装盒中，且按照环形分布，所述灯组包括两个相邻设置的补光单元，所述补光单元包括安装座、转动驱动机构、转轴、第一调节轮、第二调节轮、第三调节轮、灯体和调节板组件，所述安装座包括座体、第一纵向支架和第二纵向支架，所述第一纵向支架和所述第二纵向支架相对设于所述座体上，所述第一纵向支架上设有平行设置的第一滑槽和第二滑槽，所述第二纵向支架上设有平行设置的第三滑槽和第四滑槽，所述转动驱动机构、转轴、第一调节轮、第二调节轮和第三调节轮设于所述座体中，所述转轴水平设置，所述第一调节轮连接所述转动驱动机构，由所述转动驱动机构驱动转动，所述第二调节轮和所述第三调节轮设于所述转轴上，所述第二调节轮和所述第一调节轮的轮周相贴合，所述调节板组件包括第一漫射板、第二漫射板和柔性连接片，所述柔性连接片绕过所述第三调节轮，其侧壁上设有与所述第三调节轮相接触的摩擦层，所述柔性连接片连接所述第一漫射板和所述第二漫射板，所述第一漫射板的两侧边沿分别设于所述第一滑槽和所述第三滑槽中，所述第二漫射板的两侧边沿分别设于所述第二滑槽和所述第三滑槽中，所述灯体设于所述第一漫射板和所述第二漫射板之间；所述S01中，灯光模式包括远距离模式、中距离模式和近距离模式；当距离检测数据处于第一范围值内时，设置为所述远距离模式，在远距离模式下，所述灯组的所述两个补光单元相互靠拢；当距离检测数据处于第二范围值内时，设置为中距离模式，所述灯组的两个所述补光单元中，靠外的所述补光单元开启，靠内的所述补光单元关闭；当距离检测数据处于第三范围值时，设置为近距离模式，所述灯组的两个所述补光单元中，靠外的所述补光单元关闭，靠内的所述补光单元开启。在一个优选实施例中，所述第一范围值为1m-2m，所述第二范围值设置为0.5m-1m，所述第三范围值设置为0.1m-0.5m。在一个优选实施例中，所述转动驱动机构设置为电机或电动滚筒。在一个优选实施例中，所述柔性连接片采用橡胶制成。在一个优选实施例中，所述摩擦层为橡胶层或者石英石涂层。与现有技术相比，本发明提供一种针对电泳后工件表面二维码和字符码错码排查方法，在实际应用中，通过手持设备实现该方法过程，手持设备包括PDA和灯具，PDA和灯具连接，PDA上设置有距离传感器，在使用时，通过距离传感器检测手持设备与工件之间的距离，并且需要控制工件上二维码和字码处于PDA拍摄画面的预定区域，根据检测的距离，判断需要何种补光方式，从而选择相应的灯光模式，实现精准补光，从而有助于避免反光区的产生，实现清晰的拍摄，从而便于识别；在进行识别时，检测识别对象的完整性，也就是二维码和字符码的完整性，如果不完整，表示识别对象上存在反光区，也就是缺失区域，此时，通过灯组调节来改变灯光的照射位置，从而消除反光区；在对灯光进行调节时，有两种调节方式，一种是通过预定方案按照一定顺序变换亮度，检测缺失区域的大小变化，即通过特定灯或灯组的亮度变化来检测该灯或灯组是否是反光区的形成因素，如果是，则将该灯或的照射方向进行调整，以消除其对反光区的形成构成，另一种方式是通过特定灯或灯组的方向变化来检测该灯或灯组是否是反光区的形成因素，如果是，则将该灯或灯组的照射方向进行调整，以消除其对反光区的形成构成。从而通过以上的过程，可以便捷实现反光区的快速消除，实现快速识别的目的；进一步来说，在进行识别之前，对图像中的二维码和字符码进行关联，使得二维码和字符码具有关联关系，并根据识别结果，判断具有关联关系的二维码和字符码之间的识别结果是否一致，如果不一致，则表示该二维码和字符码中至少有一个出现了错码的现象，从而实现错码排查。附图说明图1是本发明涉及一种针对电泳后工件表面二维码和字符码错码排查方法的流程示意图。图2是本发明涉及一种针对电泳后工件表面二维码和字符码错码排查方法中所针对的具有反光区的二维码和字符码的结构示意图。图3是本发明涉及一种针对电泳后工件表面二维码和字符码错码排查方法所针对的具有多组具有关联关系的二维码和字符码的结构示意图。图4是本发明涉及一种针对电泳后工件表面二维码和字符码错码排查方法中所应用的手持设备的结构示意图。图5是本发明涉及一种针对电泳后工件表面二维码和字符码错码排查方法所应用的手持设备的补光单元的结构示意图。图6是本发明涉及一种针对电泳后工件表面二维码和字符码错码排查方法所应用的手持设备的补光单元去掉座体后的结构示意图。图7是本发明涉及一种针对电泳后工件表面二维码和字符码错码排查方法所应用的手持设备的去掉底座后的结构示意图。图8是图7中A部分的放大结构示意图。图9是本发明涉及一种针对电泳后工件表面二维码和字符码错码排查方法所应用的手持设备的补光单元偏转状态下的结构示意图。图10是本发明涉及一种针对电泳后工件表面二维码和字符码错码排查方法所应用的手持设备的相邻补光单元靠拢状态的局部截面结构示意图。图中反光区-1；选定框-2；PDA-3；灯具-4；电源-5；安装盒-6；补光单元-7；座体-8；第一纵向支架-9；第二纵向支架-10；转动驱动机构-11；转轴-12；第一调节轮-13；第二调节轮-14；第三调节轮-15；第一漫射板-16；第二漫射板-17；柔性连接片-18；摩擦层-19。具体实施方式以下结合附图对本发明作进一步详细说明。本具体实施例仅仅是对本发明的解释，其并不是对本发明的限制，本领域技术人员在阅读完本说明书后可以根据需要对本实施例做出没有创造性贡献的修改，但只要在本发明的权利要求范围内都受到专利法的保护。如图1至图10所示，一种针对电泳后工件表面二维码和字符码错码排查方法，包括如下步骤：S01:接收距离检测数据，并根据距离检测数据对灯光模式进行调节；S02：接收针对图像中二维码和字符码的关联关系，并根据关联关系定义识别对象；S03：检测图像中识别对象的完整性，若完整，则对识别对象进行识别，若不完整，则对灯具4进行调节，直至识别对象完整，然后对识别对象进行识别；对灯具4的调节过程包括：检测识别对象中的缺失区域，按照预定方案依次调节灯具4中的灯或灯组的亮度，检测缺失区域的大小是否变化，若发生变化，则调节该灯或者该组灯的照射方向，直至缺失区域不再因为其方向改变而发生变化；或者，检测识别对象中的缺失区域，按照预定方案依次调节灯具4中的灯或灯组的照射方向，检测缺失区域的位置是否发生变化，若发生变化，则调节该灯或者该组灯的照射方向，直至缺失区域不再因为其方向改变而发生变化；S04：对同一识别对象中的二维码识别结果和字符码识别结果进行比对，若结果不相同，则发出警示信息。本实施例的一种针对电泳后工件表面二维码和字符码错码排查方法，在实际应用中，通过手持设备实现该方法过程，手持设备包括PDA3和灯具4，PDA3和灯具4连接，PDA3上设置有距离传感器，在使用时，通过距离传感器检测手持设备与工件之间的距离，并且需要控制工件上二维码和字码处于PDA3拍摄画面的预定区域，根据检测的距离，判断需要何种补光方式，从而选择相应的灯光模式，实现精准补光，从而有助于避免反光区1的产生，实现清晰的拍摄，从而便于识别；在进行识别时，检测识别对象的完整性，也就是二维码和字符码的完整性，如果不完整，表示识别对象上存在反光区1，也就是缺失区域，此时，通过灯组调节来改变灯光的照射位置，从而消除反光区1；在对灯光进行调节时，有两种调节方式，一种是通过预定方案按照一定顺序变换亮度，检测缺失区域的大小变化，即通过特定灯或灯组的亮度变化来检测该灯或灯组是否是反光区1的形成因素，如果是，则将该灯或的照射方向进行调整，以消除其对反光区1的形成构成，另一种方式是通过特定灯或灯组的方向变化来检测该灯或灯组是否是反光区1的形成因素，如果是，则将该灯或灯组的照射方向进行调整，以消除其对反光区1的形成构成。从而通过以上的过程，可以便捷实现反光区1的快速消除，实现快速识别的目的；进一步来说，在进行识别之前，对图像中的二维码和字符码进行关联，使得二维码和字符码具有关联关系，并根据识别结果，判断具有关联关系的二维码和字符码之间的识别结果是否一致，如果不一致，则表示该二维码和字符码中至少有一个出现了错码的现象，从而实现错码排查。进一步，接收针对接收针对图像中二维码和字符码的关联关系的过程包括：接收框选位置、框选大小和框选方向，并根据框选位置、框选大小和框选方向生成选定框2，并将选定框2中的二维码和字符码定位为关联关系。通过这样的方式，可以对不同位置、不同大小和不同排布方向的二维码和字符码进行关联，有效提升错码排查的便利性。在对灯组的调节过程中，对灯或灯组的照射方向的调节过程包括：在该灯或该灯组可调节的方向上进行微量预调节，记录微量预调节过程中能够产生变化的调节方向，并选择能够产生变化的调节方向中距离图像边缘最近的方向作为调节方向。所述灯具4包括电源5和与所述电源5连接的灯组件，所述灯组件包括安装盒6和多个灯组，所述多个灯组设置于所述安装盒6中，且按照环形分布，所述灯组包括两个相邻设置的补光单元7，所述补光单元7包括安装座、转动驱动机构11、转轴12、第一调节轮13、第二调节轮14、第三调节轮15、灯体和调节板组件，所述安装座包括座体8、第一纵向支架9和第二纵向支架10，所述第一纵向支架9和所述第二纵向支架10相对设于所述座体8上，所述第一纵向支架9上设有平行设置的第一滑槽和第二滑槽，所述第二纵向支架10上设有平行设置的第三滑槽和第四滑槽，所述转动驱动机构11、转轴12、第一调节轮13、第二调节轮14和第三调节轮15设于所述座体8中，所述转轴12水平设置，所述第一调节轮13连接所述转动驱动机构11，由所述转动驱动机构11驱动转动，所述第二调节轮14和所述第三调节轮15设于所述转轴12上，所述第二调节轮14和所述第一调节轮13的轮周相贴合，所述调节板组件包括第一漫射板16、第二漫射板17和柔性连接片18，所述柔性连接片18绕过所述第三调节轮15，其侧壁上设有与所述第三调节轮15相接触的摩擦层19，所述柔性连接片18连接所述第一漫射板16和所述第二漫射板17，所述第一漫射板16的两侧边沿分别设于所述第一滑槽和所述第三滑槽中，所述第二漫射板17的两侧边沿分别设于所述第二滑槽和所述第三滑槽中，所述灯体设于所述第一漫射板16和所述第二漫射板17之间。在上述结构设置下，环形分布的多个灯组实现环形照明，便于避免直射识别对象，从而能够尽可能避免反光区1的形成，在工作的过程中，通过转动驱动机构11，可以驱动第一调节轮13转动，第一调节轮13的转动带动第二调节轮14的转动，第二调节轮14的转动带动转轴12的转动，转轴12的转动带动第三调节轮15的转动，第三调节轮15的转动带动调节板组件的运动，实现调节板组件的偏转。通过灯具4的结构设置，可以实现不同的灯光模式设置，具体来说：所述S01中，灯光模式包括远距离模式、中距离模式和近距离模式；当距离检测数据处于第一范围值内时，设置为所述远距离模式，在远距离模式下，所述灯组的所述两个补光单元7相互靠拢，两个补光单元7共同起到补光作用，先远距离补光，此时，一般难以形成反光区1；当距离检测数据处于第二范围值内时，设置为中距离模式，所述灯组的两个所述补光单元7中，靠外的所述补光单元7开启，靠内的所述补光单元7关闭，实现中距离的补光；当距离检测数据处于第三范围值时，设置为近距离模式，所述灯组的两个所述补光单元7中，靠外的所述补光单元7关闭，靠内的所述补光单元7开启，实现近距离的补光。在本实施例的灯具4的结构设置下，当其发生不同方向的偏转时，能够对其直射方向进行调整，反光区1的形成，往往和直射相关，在进行照射方向调整时，控制补光单元7偏转，在本方法的设置下，通常是向远离中心位置的方向偏转，在偏转后，设置位置偏转，反光区1位置由原先的偏向直射切换为漫射方式，从而能够实现反光区1的消除。具体的，所述第一范围值为1m-2m，所述第二范围值设置为0.5m-1m，所述第三范围值设置为0.1m-0.5m。具体的，所述转动驱动机构11设置为电机或电动滚筒，实现对转轴12的驱动。具体的，所述柔性连接片18采用橡胶制成。所述摩擦层19为橡胶层或者石英石涂层。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者终端设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者终端设备所固有的要素。在没有更多限制的情况下，由语句“包括……”或“包含……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者终端设备中还存在另外的要素。此外，在本文中，“大于”、“小于”、“超过”等理解为不包括本数；“以上”、“以下”、“以内”等理解为包括本数。上述对实施例的描述是为便于本技术领域的普通技术人员理解和使用本发明，熟悉本领域技术的人员显然可以容易地对实施例做出各种修改，并把在此说明的一般原理应用到其他实施例中而不必经过创造性的劳动。因此，本发明不限于上述实施例，本领域技术人员根据本发明的揭示，不脱离本发明范畴所做出的改进和修改都应该在本发明的保护范围之内。
