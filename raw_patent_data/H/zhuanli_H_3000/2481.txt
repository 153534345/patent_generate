标题title
分布式电源渗透的配电网及光伏消纳方法
摘要abst
本发明涉及分布式发电技术领域，尤其涉及一种分布式电源渗透的配电网及光伏消纳方法，本发明实施方式的配电网，由两个不同母线供电的环网间设有联络开关，可以将其中一个环网的分布式电源转移到另一环网中，实现对分布式电源的消纳。每个环网均设有两个供电线路，两个供电线路之间设有合环开关，每个供电线路设有两段母线，分布式电源接入第二段母线，实现通过合环开关转移分布式电源的目的，因此，可以最大限度的在本环网内消化分布式电源。本发明光伏消纳方法，实现基于光伏出力预测与用电曲线相结合，获取到出力与用电消耗的差，当这个差在配电变压器的负载区间时，通过改变配电网的拓扑结构，实现实时消纳光伏发电。
权利要求书clms
1.一种分布式电源渗透的配电网，其特征在于，包括：两个环网以及联络开关；所述两个环网分别通过两个不同的母线供电；所述两个环网分别包括：合环开关、两台配电变压器、两个第一供电母线、两个第二供电母线以及多个分布式电源，所述两台配电变压器分别与所述两个第一供电母线的第一端连接，所述两个第一供电母线的第二端与所述两个第二供电母线的第一端电连接，所述合环开关两端分别连接所述两个第二供电母线的第二端；所述多个分布式电源通过所述两个第二供电母线接入环网；所述联络开关两端分别连接所述两个环网。2.根据权利要求1所述的分布式电源渗透的配电网，其特征在于，第二供电母线包括：多个分段开关以及设置在分段开关之间、连接两个分段开关的多个母线段；所述多个分段开关中位于两端的开关分别与第一供电母线的第二端以及所述合环开关的一端电连接；分布式电源包括：分布式发电站以及并网开关；所述并网开关一端与所述分布式发电站的输出端电连接，所述并网开关另一端与母线段电连接。3.根据权利要求1或2所述的分布式电源渗透的配电网，其特征在于，所述分布式电源渗透的配电网还包括：储能站；所述储能站与第一供电母线的第二端电连接；所述储能站接受第二供电母线的电能和/或向第一供电母线输出电能。4.一种光伏消纳方法，其特征在于，应用于如权利要求3所述的分布式电源渗透的配电网中，其中，所述的分布式电源渗透的配电网的多个分布式电源中为通过光伏发电的电源，所述的光伏消纳方法包括：获取多个用电数据以及多个因素数据，其中，因素数据包括影响光伏发电的因素在预设时段内获取的多个因素数据，用电数据包括在预设时段内获取的多个用电数据；将多个数据集输入到发电预测模型中，获取分布式电源的出力预测；根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线；根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中。5.根据权利要求4所述的光伏消纳方法，其特征在于，所述发电预测模型的构建包括：基于神经网络模型构建初始模型，其中，所述初始模型包括：输入层、记忆调节层、隐含层以及输出层，所述输入层的节点数量与所述多个因素数据数量相同，所述记忆调节层中包括多个基于LSTM模型构建的节点，所述隐含层为全连接网络结构，所述隐含层接受所述记忆调节层以及所述输入层的输入，所述输出层接受所述隐含层的输入以及输出出力预测结果；获取多个样本因素数据集，其中，多个样本用电数据集按照时间序列排序，样本因素数据集包括预设历史时间节点获取的多个因素数据以及用于标识在预设历史时间节点分布式电源出力的标签；样本输入步骤：将所述多个样本因素数据集按照时间序列依次输入到所述初始模型，获取所述初始模型的多个出力预测结果；根据所述多个样本因素数据集的标签以及所述多个出力预测结果，获取所述初始模型的偏差率；若所述偏差率高于阈值，则通过反向传播算法调整所述初始模型的参数，并跳转至所述样本输入步骤；否则，固定所述初始模型的参数，将所述初始模型作为所述发电预测模型。6.根据权利要求4所述的光伏消纳方法，其特征在于，所述根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线，包括：按照所述多个用电数据的采样间隔，从所述多个历史用电曲线中分别进行采样，获取多个历史用电数据集，其中，多个历史用电数据集与所述多个历史用电曲线相对应，历史用电数据集中包括多个采样数据；根据第一公式，将所述多个历史用电数据集中的每个历史用电数据集分别进行归一化处理，其中，所述第一公式为：式中，x″i为历史用电数据集中第i个数据，x″min为历史用电数据集中值最小的数据，x′i为第i个预处理数据，x′max为历史用电数据集多个预处理数据中值最大的数据，xi为历史用电数据集中第i个归一化后的数据；根据第二公式，获取对应所述多个历史用电数据集的多个对比系数，其中，所述第二公式为：式中，pk为第k个历史用电数据集的对比系数，ai为多个用电数据的第i个数据，xki为第k个历史用电数据集中的第i个数据，n为多个用电数据中数据的总数量；从所述多个历史用电曲线中选取对比系数值最大的曲线，作为对比曲线；根据所述多个用电数据值的区间以及所述对比曲线的采样数据值的区间，对所述对比曲线进行缩放，获得负荷曲线。7.根据权利要求4-6任一项所述的光伏消纳方法，其特征在于，所述根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中，包括：根据所述负荷曲线，确定预设未来时段的用电量；根据所述分布式电源的出力预测以及所述预设未来时段的用电量，确定能量差；当所述能量差大于预设区间时，则将超过预设区间上限的电能存储到储能站中；当所述能量差小于预设区间时，则将储能站的电能释放到配电网中；当所述能量差在预设区间时，则通过所述合环开关以及所述联络开关，切换分布式电源接入的环网。8.一种光伏消纳装置，其特征在于，用于实现如权利要求1-7任一项所述的光伏消纳方法，所述光伏消纳装置包括：数据获取模块，用于获取多个用电数据以及多个因素数据，其中，因素数据包括影响光伏发电的因素在预设时段内获取的多个因素数据，用电数据包括在预设时段内获取的多个用电数据；出力预测模块，用于将多个数据集输入到发电预测模型中，获取分布式电源的出力预测；负荷曲线获取模块，用于根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线；以及，能量消纳模块，用于根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中。9.一种终端，包括存储器和处理器，所述存储器中存储有可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如上的权利要求4至7中任一项所述方法的步骤。10.一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如上的权利要求4至7中任一项所述方法的步骤。
说明书desc
技术领域本发明涉及分布式发电技术领域，尤其涉及一种分布式电源渗透的配电网及光伏消纳方法。背景技术随着化石燃料储量的枯竭和全球能源需求的不断增长，可再生能源的地位不断上升。分布式电源通过利用风电、太阳能等可再生能源，提高了清洁能源利用效率、解决了偏远农村地区电力供应问题，已成为世界各国促进节能减排、应对气候变化的重要措施之一。但分布式电源接入配电网会将改变电网原有的单电源、放射状结构特征，使配电网中各支路的潮流不再是单方向的流动，直接改变系统中短路电流的方向和大小，对现有的过流继电保护产生了严重的影响。随着低压分布式光伏大规模并网，配电主体将更加复杂多元，例如，将会带来电压越限、三相不平衡、谐波含量超标及反向过载等诸多影响配网安全稳定运行的问题。同时，供给侧与需求侧双波动，将导致分布式光伏出力与用电负荷呈现时空不匹配现象，分布式光伏出力就地消纳难，由此产生的运行和管理问题将日益凸显。为解决低压台区配电网在供需平衡、系统调节、最优运行、电网安全、精准计量、电能质量治理、线损治理等方面的问题。应当从电网结构改进、数据分析能力提升与综合控制策略研究三个方面，构建解决高渗透率分布光伏所带来突出问题的核心技术创新体系。基于此，需要开发设计出一种分布式电源渗透的配电网及光伏消纳方法。发明内容本发明实施方式提供了一种分布式电源渗透的配电网及光伏消纳方法，用于解决现有技术中分布式光伏大规模并网时光伏出力就地消纳难的问题。第一方面，本发明实施方式提供了一种分布式电源渗透的配电网，包括：两个环网以及联络开关；所述两个环网分别通过两个不同的母线供电；所述两个环网分别包括：合环开关、两台配电变压器、两个第一供电母线、两个第二供电母线以及多个分布式电源，所述两台配电变压器分别与所述两个第一供电母线的第一端连接，所述两个第一供电母线的第二端与所述两个第二供电母线的第一端电连接，所述合环开关两端分别连接所述两个第二供电母线的第二端；所述多个分布式电源通过所述两个第二供电母线接入环网；所述联络开关两端分别连接所述两个环网。在一种可能实现的方式中，第二供电母线包括：多个分段开关以及设置在分段开关之间、连接两个分段开关的多个母线段；所述多个分段开关中位于两端的开关分别与第一供电母线的第二端以及所述合环开关的一端电连接；分布式电源包括：分布式发电站以及并网开关；所述并网开关一端与所述分布式发电站的输出端电连接，所述并网开关另一端与母线段电连接。在一种可能实现的方式中，所述分布式电源渗透的配电网还包括：储能站；所述储能站与第一供电母线的第二端电连接；所述储能站接受第二供电母线的电能和/或向第一供电母线输出电能。第二方面，本发明实施方式提供了一种光伏消纳方法，应用于如第一方面可能的实现方式所述的分布式电源渗透的配电网中，其中，所述的分布式电源渗透的配电网的多个分布式电源中为通过光伏发电的电源，所述的光伏消纳方法包括：获取多个用电数据以及多个因素数据，其中，因素数据包括影响光伏发电的因素在预设时段内获取的多个因素数据，用电数据包括在预设时段内获取的多个用电数据；将多个数据集输入到发电预测模型中，获取分布式电源的出力预测；根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线；根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中。在一种可能实现的方式中，所述发电预测模型的构建包括：基于神经网络模型构建初始模型，其中，所述初始模型包括：输入层、记忆调节层、隐含层以及输出层，所述输入层的节点数量与所述多个因素数据数量相同，所述记忆调节层中包括多个基于LSTM模型构建的节点，所述隐含层为全连接网络结构，所述隐含层接受所述记忆调节层以及所述输入层的输入，所述输出层接受所述隐含层的输入以及输出出力预测结果；获取多个样本因素数据集，其中，多个样本用电数据集按照时间序列排序，样本因素数据集包括预设历史时间节点获取的多个因素数据以及用于标识在预设历史时间节点分布式电源出力的标签；样本输入步骤：将所述多个样本因素数据集按照时间序列依次输入到所述初始模型，获取所述初始模型的多个出力预测结果；根据所述多个样本因素数据集的标签以及所述多个出力预测结果，获取所述初始模型的偏差率；若所述偏差率高于阈值，则通过反向传播算法调整所述初始模型的参数，并跳转至所述样本输入步骤；否则，固定所述初始模型的参数，将所述初始模型作为所述发电预测模型。在一种可能实现的方式中，所述根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线，包括：按照所述多个用电数据的采样间隔，从所述多个历史用电曲线中分别进行采样，获取多个历史用电数据集，其中，多个历史用电数据集与所述多个历史用电曲线相对应，历史用电数据集中包括多个采样数据；根据第一公式，将所述多个历史用电数据集中的每个历史用电数据集分别进行归一化处理，其中，所述第一公式为：式中，x″i为历史用电数据集中第i个数据，x″min为历史用电数据集中值最小的数据，x′i为第i个预处理数据，x′max为历史用电数据集多个预处理数据中值最大的数据，xi为历史用电数据集中第i个归一化后的数据；根据第二公式，获取对应所述多个历史用电数据集的多个对比系数，其中，所述第二公式为：式中，pk为第k个历史用电数据集的对比系数，ai为多个用电数据的第i个数据，xki为第k个历史用电数据集中的第i个数据，n为多个用电数据中数据的总数量；从所述多个历史用电曲线中选取对比系数值最大的曲线，作为对比曲线；根据所述多个用电数据值的区间以及所述对比曲线的采样数据值的区间，对所述对比曲线进行缩放，获得负荷曲线。在一种可能实现的方式中，所述根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中，包括：根据所述负荷曲线，确定预设未来时段的用电量；根据所述分布式电源的出力预测以及所述预设未来时段的用电量，确定能量差；当所述能量差大于预设区间时，则将超过预设区间上限的电能存储到储能站中；当所述能量差小于预设区间时，则将储能站的电能释放到配电网中；当所述能量差在预设区间时，则通过所述合环开关以及所述联络开关，切换分布式电源接入的环网。第三方面，本发明实施方式提供了一种光伏消纳装置，用于实现如上第二方面或第二方面的任一种可能的实现方式所述的光伏消纳方法，所述光伏消纳装置包括：数据获取模块，用于获取多个用电数据以及多个因素数据，其中，因素数据包括影响光伏发电的因素在预设时段内获取的多个因素数据，用电数据包括在预设时段内获取的多个用电数据；出力预测模块，用于将多个数据集输入到发电预测模型中，获取分布式电源的出力预测；负荷曲线获取模块，用于根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线；以及，能量消纳模块，用于根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中。第四方面，本发明实施方式提供了一种终端，包括存储器以及处理器，所述存储器中存储有可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上第二方面或第二方面的任一种可能的实现方式所述方法的步骤。第五方面，本发明实施方式提供了一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现如上第二方面或第二方面的任一种可能的实现方式所述方法的步骤。本发明实施方式与现有技术相比存在的有益效果是：本发明实施方式提供了一种分布式电源渗透的配电网，该配电网在由两个不同母线供电的环网间设有联络开关，可以将其中一个环网的分布式电源转移到另一环网中，实现对分布式电源的消纳。每个环网均设有两个供电线路，两个供电线路之间设有合环开关，每个供电线路设有两段母线，分布式电源接入第二段母线，实现通过合环开关转移分布式电源的目的，因此，可以最大限度的在本环网内消化分布式电源。此外，在一些应用中，设有储能站，可以将超过能耗差值区间的能源储存于储能站，或在能源消耗较多时，通过储能站增加系统的出力，实现分布式电源最大化的消纳。本发明光伏消纳方法实施方式，其首先获取多个用电数据以及多个因素数据，其中，因素数据包括影响光伏发电的因素在预设时段内获取的多个因素数据，用电数据包括在预设时段内获取的多个用电数据；然后，将多个数据集输入到发电预测模型中，获取分布式电源的出力预测；接着，根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线；最后，根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中。本发明光伏消纳方法，实现基于光伏出力预测与用电曲线相结合，获取到出力与用电消耗的差，当这个差大于配电变压器的负载区间时，通过储能站出力，当这个差小于配电变压器的负载区间时，通过储能站储存电能，而在配电变压器的负载区间时，通过改变配电网的拓扑结构，实现实时消纳光伏发电，实现光伏的实时最大化消纳。附图说明为了更清楚地说明本发明实施方式中的技术方案，下面将对实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施方式提供的分布式电源渗透的配电网拓扑结构图；图2是本发明实施方式提供的光伏消纳方法的流程图；图3是本发明实施方式提供的初始模型拓扑结构图；图4是本发明实施方式提供的LSTM网络模型的时域展开图；图5是本发明实施方式提供的光伏消纳装置功能框图；图6是本发明实施方式提供的终端功能框图。具体实施方式以下描述中，为了说明而不是为了限定，提出了诸如特定系统结构、技术之类的具体细节，以便透彻理解本发明实施方式。然而，本领域的技术人员应当清楚，在没有这些具体细节的其它实施方式中也可以实现本发明。在其它情况中，省略对众所周知的系统、装置以及方法的详细说明，以免不必要的细节妨碍本发明的描述。为使本发明的目的、技术方案和优点更加清楚，下面将结合附图通过具体实施方式来进行说明。下面对本发明的实施例作详细说明，本实例在以本发明技术方案为前提下进行实施，给出了详细的实施方式和具体的操作过程，但本发明的保护范围不限于下述的实施例。如图1所示，图1示出了一种分布式电源渗透的配电网拓扑结构图。本发明实施方式的第一方面，提供了一种分布式电源渗透的配电网，包括：两个环网以及联络开关；所述两个环网分别通过两个不同的母线供电；所述两个环网分别包括：合环开关、两台配电变压器、两个第一供电母线、两个第二供电母线以及多个分布式电源，所述两台配电变压器分别与所述两个第一供电母线的第一端连接，所述两个第一供电母线的第二端与所述两个第二供电母线的第一端电连接，所述合环开关两端分别连接所述两个第二供电母线的第二端；所述多个分布式电源通过所述两个第二供电母线接入环网；所述联络开关两端分别连接所述两个环网。在一些实施方式中，第二供电母线包括：多个分段开关以及设置在分段开关之间、连接两个分段开关的多个母线段；所述多个分段开关中位于两端的开关分别与第一供电母线的第二端以及所述合环开关的一端电连接；分布式电源包括：分布式发电站以及并网开关；所述并网开关一端与所述分布式发电站的输出端电连接，所述并网开关另一端与母线段电连接。在一些实施方式中，所述分布式电源渗透的配电网还包括：储能站；所述储能站与第一供电母线的第二端电连接；所述储能站接受第二供电母线的电能和/或向第一供电母线输出电能。示例性地，如图1所示，两个环网通过两个不同的母线108接入，因此，在其中一个环网因异常或故障时，可以通过联络开关101将其中一个环网的负载107和/或分布式电源106转移到另外一个换网上，还可以在其中一个环网的分布式电源106富裕的出力转移到另外一个环网上，实现出力的最大化消纳。此外，两个环网分别包括有两个串联连接的母线，其中第一供电母线104用于接入配电变压器103的输出和向负载107输出电能。而第二供电母线105与第一供电母线104的尾端串联，用于选择性的接入分布电源106。每个环网均设有两个如上所述的供电线路，两个供电线路的尾端，也即第二供电母线105的尾端通过合环开关102连接。合环开关102的作用为将其中一个供电线路的负载107和/或分布式电源106转移到另外一个供电线路上，实现当其中一个配电变压器失效时，维持负载107和/或分布式电源106的正常运行。还可以将富裕的光伏电能转移到另一个供电线路上，实现光伏能源在本环网内消纳。在第二供电母线105的具体实现上，一种实施方式为在多个依次设置的分段开关之间设有分段母线，分布式电源106接入分段母线，通过切换分段开关，实现接入的分布式电源106的数量，如此一来，可以选择分布式电源106接入供电线路，还可以在其中一个分布式电源106进行停机检修时，通过分段开关和合环开关101相配合的方式，隔离多个分布式电源106中的一个分布式电源，而不影响其它分布式电源106的工作。此外，在一些应用场景中，还设有储能站102，一般而言储能站102是蓄电池构成的电池组，既可以吸收电网的电能，对电能进行储存，也可以将电池组的电能进行逆变并网到电网中，为负载107供电。因此，在一定的能源区间内，例如，分布式电源106发电量和负载107电能消耗量二者之间的差值区间，可以通过调配的方式，通过负载107、分布式电源106以及配电变压器103消纳分布式电源106输出的电能，当超过这个区间，例如，分布式电源106产生的电能少，而负载107消耗的电能多时，或者，分布式电源106产生的电能多，而负载107消耗的电能少时，通过储能站102消纳分布式电源106产生的电能。应用有储能站102的配电网对于能源的消纳方式，本发明第二方面会进行详细论述。本发明实施方式提供了一种分布式电源渗透的配电网，该配电网在由两个不同母线供电的环网间设有联络开关，可以将其中一个环网的分布式电源转移到另一环网中，实现对分布式电源的消纳。每个环网均设有两个供电线路，两个供电线路之间设有合环开关，每个供电线路设有两段母线，分布式电源接入第二段母线，实现通过合环开关转移分布式电源的目的，因此，可以最大限度的在本环网内消化分布式电源。此外，在一些应用中，设有储能站，可以将超过能耗差值区间的能源储存于储能站，或在能源消耗较多时，通过储能站增加系统的出力，实现分布式电源最大化的消纳。图2为本发明实施方式提供的光伏消纳方法的流程图。如图2所示，其示出了本发明实施方式提供的光伏消纳方法的实现流程图，详述如下：在步骤201中，获取多个用电数据以及多个因素数据，其中，因素数据包括影响光伏发电的因素在预设时段内获取的多个因素数据，用电数据包括在预设时段内获取的多个用电数据。在步骤201中，将多个数据集输入到发电预测模型中，获取分布式电源的出力预测。在一些实施方式中，所述发电预测模型的构建包括：基于神经网络模型构建初始模型，其中，所述初始模型包括：输入层、记忆调节层、隐含层以及输出层，所述输入层的节点数量与所述多个因素数据数量相同，所述记忆调节层中包括多个基于LSTM模型构建的节点，所述隐含层为全连接网络结构，所述隐含层接受所述记忆调节层以及所述输入层的输入，所述输出层接受所述隐含层的输入以及输出出力预测结果；获取多个样本因素数据集，其中，多个样本用电数据集按照时间序列排序，样本因素数据集包括预设历史时间节点获取的多个因素数据以及用于标识在预设历史时间节点分布式电源出力的标签；样本输入步骤：将所述多个样本因素数据集按照时间序列依次输入到所述初始模型，获取所述初始模型的多个出力预测结果；根据所述多个样本因素数据集的标签以及所述多个出力预测结果，获取所述初始模型的偏差率；若所述偏差率高于阈值，则通过反向传播算法调整所述初始模型的参数，并跳转至所述样本输入步骤；否则，固定所述初始模型的参数，将所述初始模型作为所述发电预测模型。示例性地，如图3所示，图3是本发明实施方式提供的初始模型拓扑结构图。初始模型包括有输入层301、记忆调节层302、隐含层303以及输出层304。其中，隐含层303为全连接的网络，其输出到输出层304的节点，由输出层304的节点完成数据输出，就本发明实施方式而言，输出层304的输出为分布式电源的出力预测。隐含层303接受一部分输入层301中的节点的直接输入，还接收一部分记忆调节层302全部节点的输入。而记忆调节层302则接收输入层301相应节点的输入。记忆调节层302的节点采用LSTM模型，之所以采用LSTM模型，是因为该模型能够进行记忆深度的调节，从而根据当前数据输入和前一时刻的输入，输出一个关联前后时序的结果。例如，影响光伏发电的多个因素中，光照强度对光伏发电的影响是实时的，也就是说光伏发电随光照强度的变化而变化，相对而言温度的影响就滞后一些，当气温逐步升高时，光伏发电设备的温度会有个逐步逼近气温的过程，这个滞后更像是跟前一时刻的气温有关。因此，采用LSTM模型的记忆调节层节点，可以实现滞后效果的拟合。LSTM具体而言，其设有遗忘阀，通过该阀可以调整记忆的深度，用于表达本发明实施方式中滞后的深度，图4示出了LSTM模型在时域上展开的拓扑图。LSTM网络是一种时间循环神经网络，是为了解决一般的RNN存在的长期依赖问题而专门设计出来的，所有的RNN都具有一种重复神经网络模块的链式形式。图4为循环神经网络结构以及其在时域展开形式，其内部循环神经单元构成了RNN网络中的隐含层，每一个网络节点的输出会同时反馈到自身以及其下一节点中，这种多级反馈机制使得RNN网络具有记忆功能。在t时刻，隐层接受当前时刻的输入xt，以及前一时刻自身的状态ht-1，形成环状的网络结构，所以RNN网络具有一定的短期记忆能力。此外其参数也可被共享，因此在处理序列的非线性特征进行学习时具有优势。图4中，U是输入层到隐藏层的权重矩阵，V是隐藏层到输出层的权重矩阵，W就是隐藏层上一次的值作为这一次的输入的权重，st是时刻t时的隐藏状态，ot是时刻t时的输出，xt是在t时刻的输入，是网络的存储单元，为一个n维向量。RNN通常采用反向传播算法进行模型训练，但是由于本身结构的缺陷，在输入长序列数据时，随着网络加深，网络参数会呈指数级的衰减或增强，梯度值会近似等于0或者趋近于无穷大，这就导致了梯度消失和梯度爆炸问题。由于近来深度学习领域的迅速发展，相关研究与应用越来越深入，针对上述循环神经网络存在的问题，提出了相应的解决方案。LSTM网络模型在处理长时间依赖序列问题提供了新方案，其本质上是一种特殊的RNN网络。与RNN内部神经元对比，LSTM不仅包含短期记忆状态控制单元h外，还增加用于存储长期记忆控制单元c，相对于长期记忆单元c，短期记忆单元更新频率更快。LSTM循环神经网络凭借同时拥有短期记忆和长期记忆神经元，弥补了RNN网络模型存在的缺陷，使其能够有效地处理长间隔的时序数据。在构建好初始模型后，就可以通过训练、迭代的方式，调整初始模型的参数，从而使得初始模型能够拟合因素与分布式电源出力的关系。具体来说，可以构建多个因素数据集，因素数据集包括有因素数据和标签，标签是指对应因素数据的分布式电源的出力，多个因素数据集按照时间顺序排列。将多个因素数据集依次输入到初始模型中，获得的出力的预测结果与标签的偏差，作为修正的依据，通过反向传播算法，修改初始模型的参数，当预测结果与标签的偏差小于阈值时，认为训练结束，固定模型的参数，发电预测模型构建完成。在步骤203中，根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线。在一些实施方式中，步骤203包括：按照所述多个用电数据的采样间隔，从所述多个历史用电曲线中分别进行采样，获取多个历史用电数据集，其中，多个历史用电数据集与所述多个历史用电曲线相对应，历史用电数据集中包括多个采样数据；根据第一公式，将所述多个历史用电数据集中的每个历史用电数据集分别进行归一化处理，其中，所述第一公式为：式中，x″i为历史用电数据集中第i个数据，x″min为历史用电数据集中值最小的数据，x′i为第i个预处理数据，x′max为历史用电数据集多个预处理数据中值最大的数据，xi为历史用电数据集中第i个归一化后的数据；根据第二公式，获取对应所述多个历史用电数据集的多个对比系数，其中，所述第二公式为：式中，pk为第k个历史用电数据集的对比系数，ai为多个用电数据的第i个数据，xki为第k个历史用电数据集中的第i个数据，n为多个用电数据中数据的总数量；从所述多个历史用电曲线中选取对比系数值最大的曲线，作为对比曲线；根据所述多个用电数据值的区间以及所述对比曲线的采样数据值的区间，对所述对比曲线进行缩放，获得负荷曲线。示例性地，将多个历史用电曲线与多个用电数据进行对比，当对比系数较大时，说明二者之间具有较小的对比偏差，可以将这个偏差最小的历史曲线作为用电曲线，根据用电曲线取得未来一段时间的用电数据。因此，在进行对比之前，首先将多个历史用电曲线进行采样后进行归一化处理，为区分那些相差较小的曲线，归一化公式为：式中，x″i为历史用电数据集中第i个数据，x″min为历史用电数据集中值最小的数据，x′i为第i个预处理数据，x′max为历史用电数据集多个预处理数据中值最大的数据，xi为历史用电数据集中第i个归一化后的数据。多个归一化的数据集对应多个历史用电曲线通过下式，获得对比系数：式中，pk为第k个历史用电数据集的对比系数，ai为多个用电数据的第i个数据，xki为第k个历史用电数据集中的第i个数据，n为多个用电数据中数据的总数量；当对比系数越大时，说明这个历史曲线形状越接近于多个用电数据，因此，选择最接近的历史曲线，通过对这个历史曲线进行幅值缩放，就获得了负荷曲线。在步骤204中，根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中。在一些实施方式中，步骤203包括：根据所述负荷曲线，确定预设未来时段的用电量；根据所述分布式电源的出力预测以及所述预设未来时段的用电量，确定能量差；当所述能量差大于预设区间时，则将超过预设区间上限的电能存储到储能站中；当所述能量差小于预设区间时，则将储能站的电能释放到配电网中；当所述能量差在预设区间时，则通过所述合环开关以及所述联络开关，切换分布式电源接入的环网。示例性地，根据负荷曲线，可以规划处未来一段时间的用电量，这个用电量与分布式电源的出力预测之间的差，一般由配电变压器的出力和储能站出力或入力来消纳。具体来说，为了稳定配电变压器的出力，减少配电变压器的波动性，也就是通常所说的削峰填谷，通常讲配电变压器的出力配置为一个区间。当大于这个区间时，很显然应当再由储能站出力进行补偿。而小于这个区间，则应当由储能站进行存储，对光伏发电的电能进行消纳。因此，当上述用电量与分布式电源的出力之间的差，大于这个区间时，则将大于区间的部分存储到储能站中，当上述差小于区间时，则通过储能站出力补偿小于区间的部分。而当在区间内部时，则通过本发明实施方式第一方面所述的改变配电网拓扑结构的形式，对富裕的光伏出力实现实时消纳。本发明光伏消纳方法实施方式，其首先获取多个用电数据以及多个因素数据，其中，因素数据包括影响光伏发电的因素在预设时段内获取的多个因素数据，用电数据包括在预设时段内获取的多个用电数据；然后，将多个数据集输入到发电预测模型中，获取分布式电源的出力预测；接着，根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线；最后，根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中。本发明光伏消纳方法，实现基于光伏出力预测与用电曲线相结合，获取到出力与用电消耗的差，当这个差大于配电变压器的负载区间时，通过储能站出力，当这个差小于配电变压器的负载区间时，通过储能站储存电能，而在配电变压器的负载区间时，通过改变配电网的拓扑结构，实现实时消纳光伏发电，实现光伏的实时最大化消纳。应理解，上述实施方式中各步骤的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施方式的实施过程构成任何限定。以下为本发明的装置实施方式，对于其中未详尽描述的细节，可以参考上述对应的方法实施方式。图5是本发明实施方式提供的光伏消纳装置功能框图，参照图5，光伏消纳装置5包括：数据获取模块501、出力预测模块502、负荷曲线获取模块503以及能量消纳模块504，其中：数据获取模块501，用于获取多个用电数据以及多个因素数据，其中，因素数据包括影响光伏发电的因素在预设时段内获取的多个因素数据，用电数据包括在预设时段内获取的多个用电数据；出力预测模块502，用于将多个数据集输入到发电预测模型中，获取分布式电源的出力预测；负荷曲线获取模块503，用于根据所述多个用电数据从多个历史用电曲线中找到与之最为近似的曲线作为负荷曲线；能量消纳模块504，用于根据负荷曲线以及分布式电源的出力预测，从储能站中释放电能或将电能储存到储能站中。图6是本发明实施方式提供的终端的功能框图。如图6所示，该实施方式的终端6包括：处理器600和存储器601，所述存储器601中存储有可在所述处理器600上运行的计算机程序602。所述处理器600执行所述计算机程序602时实现上述各个光伏消纳方法及实施方式中的步骤，例如图2所示的步骤201至步骤204。示例性的，所述计算机程序602可以被分割成一个或多个模块/单元，所述一个或者多个模块/单元被存储在所述存储器601中，并由所述处理器600执行，以完成本发明。所述终端6可以是桌上型计算机、笔记本、掌上电脑及云端服务器等计算设备。所述终端6可包括，但不仅限于，处理器600、存储器601。本领域技术人员可以理解，图6仅仅是终端6的示例，并不构成对终端6的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如所述终端6还可以包括输入输出设备、网络接入设备、总线等。所称处理器600可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。所述存储器601可以是所述终端6的内部存储单元，例如终端6的硬盘或内存。所述存储器601也可以是所述终端6的外部存储设备，例如所述终端6上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，所述存储器601还可以既包括所述终端6的内部存储单元也包括外部存储设备。所述存储器601用于存储所述计算机程序602以及所述终端6所需的其他程序和数据。所述存储器601还可以用于暂时地存储已经输出或者将要输出的数据。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将所述装置的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。实施方式中的各功能单元、模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中，上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。另外，各功能单元、模块的具体名称也只是为了便于相互区分，并不用于限制本申请的保护范围。上述系统中单元、模块的具体工作过程，可以参考前述方法实施方式中的对应过程，在此不再赘述。在上述实施方式中，对各个实施方式的描述都各有侧重，某个实施方式中没有详述或记载的部分，可以参见其它实施方式的相关描述。本领域普通技术人员可以意识到，结合本文中所公开的实施方式描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。在本发明所提供的实施方式中，应该理解到，所揭露的装置/终端和方法，可以通过其它的方式实现。例如，以上所描述的装置/终端实施方式仅仅是示意性的，例如，所述模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通讯连接可以是通过一些接口，装置或单元的间接耦合或通讯连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施方式方案的目的。另外，在本发明各个实施方式中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。所述集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明实现上述实施方式方法中的全部或部分流程，也可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个方法及装置实施方式的步骤。其中，所述计算机程序包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。以上所述实施方式仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施方式对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施方式所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施方式技术方案的精神和范围，均应包含在本发明的保护范围之内。
