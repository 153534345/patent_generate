标题title
基于联邦式在线主动学习的网络流量分类系统及方法
摘要abst
本申请涉及一种基于联邦式在线主动学习的网络流量分类系统及方法。所述系统包括：联邦式主动学习中心和多个边缘主动学习器；联邦式主动学习中心包括主动学习服务器、联邦聚合计算服务器和专家组；构建主动学习策略和深度学习方法使联邦式主动学习中心不断更新自身的分类模型；根据各边缘主动学习器的固有特性以及其动态请求联邦式主动学习中心进行标注的疑难实例信息进行动态聚类，得到疑难实例的真实标签后将该真实标签发回给位于同一簇内的所有边缘主动学习器，边缘主动学习器根据当前分类模型对当前边缘主动学习器所在的网络进行网络流量分类。采用本方法能够解决多类不平衡、概念漂移和概念演化问题。
权利要求书clms
1.一种基于联邦式在线主动学习的网络流量分类系统，其特征在于，所述系统包括联邦式主动学习中心和多个边缘主动学习器；所述联邦式主动学习中心包括主动学习服务器、联邦聚合计算服务器和专家组；所述主动学习服务器用于在任务开始前获取有标签样本构成的训练集，根据所述训练集对深度学习模型进行训练，得到网络流量分类模型；将所述网络流量分类模型下发到各个边缘主动学习器，在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类；所述边缘主动学习器用于根据所述网络流量分类模型对当前边缘主动学习器所在的网络进行网络流量分类，将不能分类的流量实例作为疑难实例，并请求联邦式主动学习中心进行协助分类；所述主动学习服务器用于对边缘主动学习器请求协助分类的疑难实例进行类别标注，并筛选出需专家组进一步人工标注的疑难实例；所述专家组用于对由主动学习服务器筛选出的疑难实例进行标注，产生带有人工标签的训练样本实例；所述主动学习服务器用于利用专家组标注的训练样本实例对自身的网络流量分类模型进行训练更新；所述联邦聚合计算服务器用于根据各边缘主动学习器的固有特性以及请求协助分类的疑难实例进行动态聚类，得到多个边缘主动学习器的类簇；将所述训练样本实例发送给位于同一簇内的所有边缘主动学习器；所述边缘主动学习器利用所述训练样本实例对自身的网络流量分类模型进行训练更新，并根据更新后的分类模型对边缘网络流量进行流量分类；所述联邦聚合计算服务器用于对同一簇内的所有边缘主动学习器得到的网络流量分类模型进行聚合与发布。2.根据权利要求1所述的系统，其特征在于，所述主动学习服务器用于在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类，包括：获得联邦式主动学习中心所在的主干网网络流量实例；所述主干网网络流量实例为不包含流量类型标签的网络流量实例；根据当前的网络流量分类模型对所述主干网网络流量实例进行分类预测，得到预测结果数据；所述预测结果数据为包含预测类型标签的网络流量数据；根据预先构建的混合标签请求策略判断所述预测结果数据是否被所述混合标签请求策略选中；若所述预测结果数据被混合标签请求策略选中，则请求专家组人工标注类型，得到同时包含预测类型标签和真实类型标签的训练样本；所述训练样本用于对网络流量分类模型进行训练，得到更新后的分类模型；若所述预测结果数据未被混合标签请求策略选中，则将所述预测结果数据作为所述主干网网络流量实例的预测标签。3.根据权利要求2所述的系统，其特征在于，所述混合标签请求策略由基于可变最小置信度阈值向量的不确定性标签请求策略、基于狄利克雷过程的概念演化检测策略和一种选择性标签请求策略组成。4.根据权利要求3所述的系统，其特征在于，所述主动学习服务器用于根据预先构建的混合标签请求策略判断所述预测结果数据是否被所述混合标签请求策略选中，包括：根据可变最小置信度阈值向量不确定性标签请求策略为每一类网络流量设置一个最小置信度阈值，当有新的网络流量类别出现时，则拓展可变最小置信阈值向量的大小，如果流量分类模型对实例x给出的预测标签predLabel的置信度confid小于可变最小置信阈值向量D中预测标签的最小置信度阈值D，则实例x被不确定性标签请求策略选中并上传给专家组，由专家组人工标注真实标签并动态调整最小置信度阈值向量D中的元素的值；若实例x未被不确定性标签请求策略选中，根据基于狄利克雷过程的概念演化检测策略判断实例x是否会被概念演化检测策略选中；若实例x未被概念演化检测策略选中，根据选择性标签请求策略随机选择没有被不确定性策略和概念演化检测策略选中的实例送交专家进行人工标注由专家组人工标注真实标签。5.根据权利要求4所述的系统，其特征在于，所述主动学习服务器和边缘主动学习器还用于动态调整最小置信度阈值向量D中的元素的值，包括：如果实例x被模型预测正确，但实例x是由不确定标签请求策略选中的，则根据公式对元素D的值进行减小调整，得到调整后的最小置信度阈值；其中，；如果对实例x的预测不正确，且实例x没有被不确定性标签请求策略选中，则根据公式对元素D的值进行减小调整，得到调整后的最小置信度阈值。6.根据权利要求4所述的系统，其特征在于，所述主动学习服务器和边缘主动学习器还用于根据基于狄利克雷过程的概念演化检测策略判断实例x是否会被概念演化检测策略选中，包括：根据相对密度的聚类算法对所述训练集进行聚类，得到多个微簇；所述微簇表示为，其中，表示微簇的半径，表示微簇的中心，表示微簇包含的样本数，表示微簇的活跃度，表示微簇的时间计数器，表示已有微簇的序号；首先判断实例x是否落入已有的所述多个微簇中，若实例x落入已有微簇中，则，，修正、和的值；若所述实例x未落入已有微簇中，则查询出以实例x为中心，以微簇最大半径为半径的邻域内的所有微簇，得到微簇集合为，其中，表示微簇个数；根据狄利克雷过程混合模型的中餐馆过程对所述实例x落入所述微簇集合中各个微簇和新建微簇的概率进行计算，根据计算得到的多个概率构成Categorical分布，对Categorical分布进行一次采样得到实例x的微簇序号；若所述微簇序号为已有微簇的序号，则将已有微簇的标签作为实例x的预测标签，若所述微簇序号为新建微簇的序号，则将实例x归入一个新建簇，并请求专家组对实例x进行标注，得到实例x的真实标签；对没有新实例加入的其他微簇进行信息修正，若修正后的微簇的活跃度小于预先设定的微簇的活跃度最小阈值，则删除修正后的微簇。7.根据权利要求6所述的系统，其特征在于，所述主动学习服务器和边缘主动学习器还用于根据狄利克雷过程混合模型的中餐馆过程对所述实例x落入所述微簇集合中各个微簇和新建微簇的概率进行计算，包括：根据狄利克雷过程混合模型的中餐馆过程计算所述实例x落入所述微簇集合中各个微簇的概率为其中，表示所述微簇集合中包含的样本总数，表示调整参数，表示第j个微簇包含的样本数；根据狄利克雷过程混合模型的中餐馆过程计算所述实例x落入新建微簇的概率为。8.根据权利要求2所述的系统，其特征在于，所述边缘主动学习器用于根据所述更新后的分类模型对边缘网络进行流量分类，包括：获取边缘主动学习器所在的边缘网络流量实例；所述边缘网络流量实例为不包含流量类型标签的网络流量实例；根据当前更新后的分类模型对所述边缘网络流量实例进行分类预测，得到预测结果数据；所述预测结果数据为包含预测类型标签的网络流量数据；根据预先构建的混合标签请求策略判断所述预测结果数据是否被所述混合标签请求策略选中；若所述预测结果数据被混合标签请求策略选中，则将未标注的疑难实例上报到联邦式主动学习中心，请求联邦式主动学习中心协助分类；若所述预测结果数据未被混合标签请求策略选中，则将所述预测结果数据作为所述边缘网络流量实例的预测标签。9.一种基于联邦式在线主动学习的网络流量分类方法，其特征在于，所述方法包括：根据主动学习服务器在任务开始前获取有标签样本构成的训练集，利用所述训练集对深度学习模型进行训练，得到网络流量分类模型；将所述网络流量分类模型下发到各个边缘主动学习器，在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类；在边缘主动学习器中根据所述网络流量分类模型对当前边缘主动学习器所在的网络进行网络流量分类，将不能分类的流量实例作为疑难实例，并请求联邦式主动学习中心进行协助分类；利用主动学习服务器对边缘主动学习器请求协助分类的疑难实例进行类别标注，并筛选出需专家组进一步人工标注的疑难实例；利用专家组对由主动学习服务器筛选出的疑难实例进行标注，产生带有人工标签的训练样本实例；在主动学习服务器中利用专家组标注的训练样本实例对自身的网络流量分类模型训练更新；在联邦聚合计算服务器中根据各边缘主动学习器的固有特性以及其请求协助分类的疑难实例进行动态聚类，得到多个边缘主动学习器的类簇；将所述训练样本实例发送给位于同一簇内的所有边缘主动学习器；在边缘主动学习器中利用所述训练样本实例对自身的分类模型进行训练更新，并根据更新后的分类模型对边缘网络流量进行流量分类；根据联邦聚合计算服务器对同一簇内的所有边缘主动学习器得到的分类模型进行聚合与发布。
说明书desc
技术领域本申请涉及计算机网络技术领域，特别是涉及一种基于联邦式在线主动学习的网络流量分类系统、方法、计算机设备和存储介质。背景技术随着传感器网络和互联网通信技术的飞速发展，多类型终端之间的网络连接变得更为便捷和频繁，信息传输速度也得到了质的提升。在网络监控、传感器网络、工业数据通信等终端之间会产生大量的数据流。这其中，网络流量就是一种较为典型的数据流，网络流量分类即按照不同应用环境下所定义的网络流量类型对传输网络中的流量数据进行识别分类。网络流量分类在网络安全维护和日常管理中起着重要的作用，例如，通过网络流量分类，网络运营商可以为不同的流量应用分配优先级，并根据这些应用的具体需求，使用适当的技术来设置服务质量和安全策略，从而进一步提高网络资源的利用率，实现高质量的差异化服务。然而，随着新的互联网应用的出现和网络协议的快速发展，以及加密技术和移动技术的广泛应用，传统的网络流量分类方法面临着严峻的挑战，除了具有数据流中普遍存在的多类不平衡和概念漂移共存的问题，网络流量还具有其他突出特点。例如在实际网络流量分类应用中，网络流量类型随着网络技术发展、时间的推移和应用场景的不同，往往会发生类型的消隐和涌现，以及个别流量类型可能会阶段性独占流量。并且，在包括网络流量数据流在内的数据流分类任务中，标签开销预算有限的问题都是不可避免的，网络流量的多类不平衡问题是指来自流行应用的某些类型的流量可能占据了网络流量数据流中的大部分流量，而其他类型的流量只占很小的一部分。虽然在整个流量数据流中可能有几十个流量类型，但由于网络流量传输协议的特点或网络应用的实际需要，几个类型甚至单个类型的流量可能在一段时间内垄断网络传输。我们把这种网络流量的周期性特征称为阶段性不平衡问题。网络流量的类型概念漂移是指由于网络技术的发展、应用场景的改变，甚至人为的刻意伪装，导致某些流量类型一方面会发生概念外延的改变，如短文本服务从最初的短消息，扩展到QQ消息、微信聊天消息，甚至未来的北斗短文本消息，这会导致短文本流量的类型占比由小变大，我们称这种变化为虚拟的概念漂移；另一方面会发生概念内涵的变化，如大多网络欺诈的钓鱼类型流量或网络入侵的攻击类型流量，往往会伪装成正常的网络应用流量类型，导致一些正常的应用流量变得可疑，同时还不断演变自身类型的网络流量统计特征，以躲避网络监管的识别和拦截，这种变化被称为真实的概念漂移。网络流量的类型概念演化是指随着网络流量数据流的不断演变，以及网络用户的应用需求的不断变化，数据流中的某些流量类型可能会随着时间的推移而逐渐消失，可以对应于现实中的某个应用或协议被淘汰；另一种可能是随着新兴网络应用和网络技术的出现，导致某些以前从未出现过的网络流量类型开始存在于网络流量中。这种网络流量的新类出现和旧类消失的过程称为概念演化过程。在网络流量分类的实际应用中，网络流量类型的占比往往是非平衡的，甚至个别类型会阶段性垄断网络流量，也可能会出现旧类消失、新流量类型的出现和类型概念的转变，存在多类不平衡、概念漂移和概念演化问题。然而，目前在网络流量分类主要利用主动学习的方法，主动学习方法可以克服传统半监督学习方法所面临的大类样本过学习而小类样本欠学习的问题，分类性能比较优秀。近年来有不少主动学习方法已经被运用于解决网络流量数据流的分类应用中，但是这些应用中所提出的主动学习方法往往只针对上述网络流量分类问题中的部分问题进行了专门研究，目前还很少针对网络流量分类任务中上述复杂问题的进行综合研究，不能解决多类不平衡、概念漂移和概念演化问题。发明内容基于此，有必要针对上述技术问题，提供一种能够解决多类不平衡、概念漂移和概念演化问题的基于联邦式在线主动学习的网络流量分类系统、方法、计算机设备和存储介质。一种基于联邦式在线主动学习的网络流量分类系统，所述系统包括联邦式主动学习中心和多个边缘主动学习器；联邦式主动学习中心包括主动学习服务器、联邦聚合计算服务器和专家组；主动学习服务器用于在任务开始前获取有标签样本构成的训练集，根据训练集对深度学习模型进行训练，得到网络流量分类模型；将网络流量分类模型下发到各个边缘主动学习器，在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的网络流量分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类；边缘主动学习器用于根据网络流量分类模型对当前边缘主动学习器所在的网络进行网络流量分类，将不能分类的流量实例作为疑难实例，并请求联邦式主动学习中心进行协助分类；主动学习服务器用于对边缘主动学习器请求协助分类的疑难实例进行类别标注，并筛选出需专家组进一步人工标注的疑难实例；专家组用于对由主动学习服务器筛选出的疑难实例进行标注，产生带有人工标签的训练样本实例；主动学习服务器用于利用专家组标注的训练样本实例对自身的网络流量分类模型进行训练更新；联邦聚合计算服务器用于根据各边缘主动学习器的固有特性以及请求协助分类的疑难实例进行动态聚类，得到多个边缘主动学习器的类簇；将训练样本实例发送给位于同一簇内的所有边缘主动学习器；边缘主动学习器利用训练样本实例对自身的网络流量分类模型进行训练更新，并根据更新后的网络流量分类模型对边缘网络流量进行流量分类；联邦聚合计算服务器用于对同一簇内的所有边缘主动学习器得到的网络流量分类模型进行聚合与发布。在其中一个实施例中，主动学习服务器用于在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的网络流量分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类，包括：获得联邦式主动学习中心所在的主干网网络流量实例；主干网网络流量实例为不包含流量类型标签的网络流量实例；根据当前的网络流量分类模型对主干网网络流量实例进行分类预测，得到预测结果数据；预测结果数据为包含预测类型标签的网络流量数据；根据预先构建的混合标签请求策略判断预测结果数据是否被混合标签请求策略选中；若预测结果数据被混合标签请求策略选中，则请求专家组人工标注类型，得到同时包含预测类型标签和真实类型标签的训练样本；训练样本用于对网络流量分类模型进行训练，得到更新后的网络流量分类模型；若预测结果数据未被混合标签请求策略选中，则将预测结果数据作为主干网网络流量实例的预测标签。在其中一个实施例中，混合标签请求策略由基于可变最小置信度阈值向量的不确定性标签请求策略、基于狄利克雷过程的概念演化检测策略和一种选择性标签请求策略组成。在其中一个实施例中，主动学习服务器用于根据预先构建的混合标签请求策略判断预测结果数据是否被混合标签请求策略选中，包括：根据可变最小置信度阈值向量不确定性标签请求策略为每一类网络流量设置一个最小置信度阈值，当有新的网络流量类别出现时，则拓展可变最小置信阈值向量的大小，如果流量分类模型对实例x给出的预测标签predLabel的置信度confid小于可变最小置信阈值向量D中预测标签的最小置信度阈值D，则实例x被不确定性标签请求策略选中并上传给专家组，由专家组人工标注真实标签并动态调整最小置信度阈值向量D中元素的值；若实例x未被不确定性标签请求策略选中，根据基于狄利克雷过程的概念演化检测策略判断实例x是否会被概念演化检测策略选中；若实例x未被概念演化检测策略选中，根据选择性标签请求策略随机选择没有被不确定性策略和概念演化检测策略选中的实例送交专家进行人工标注由专家组人工标注真实标签。在其中一个实施例中，主动学习服务器和边缘主动学习器还用于动态调整最小置信度阈值向量D中元素的值，包括：如果实例x被模型预测正确，但实例x是由不确定标签请求策略选中的，则根据公式对元素D的值进行减小调整，得到调整后的最小置信度阈值；其中，；如果对实例x的预测不正确，且实例x没有被不确定性标签请求策略选中，则根据公式对元素D的值进行减小调整，得到调整后的最小置信度阈值。在其中一个实施例中，主动学习服务器和边缘主动学习器还用于根据基于狄利克雷过程的概念演化检测策略判断实例x是否会被概念演化检测策略选中，包括：根据相对密度的聚类算法对训练集进行聚类，得到多个微簇；微簇表示为，其中，表示微簇的半径，表示微簇的中心，表示微簇包含的样本数，表示微簇的活跃度，表示微簇的时间计数器，表示已有微簇的序号；首先判断实例x是否落入已有的多个微簇中，若实例x落入已有微簇中，则，，修正、和的值；若实例x未落入已有微簇中，则查询出以实例x为中心，以微簇最大半径为半径的邻域内的所有微簇，得到微簇集合为，其中，表示微簇个数；根据狄利克雷过程混合模型的中餐馆过程对实例x落入微簇集合中各个微簇和新建微簇的概率进行计算，根据计算得到的多个概率构成Categorical分布，对Categorical分布进行一次采样得到实例x的微簇序号；若微簇序号为已有微簇的序号，则将已有微簇的标签最为实例x的真实标签，若微簇序号为新建微簇的序号，则将实例x归入一个新建簇，并请求专家组对实例x进行标注，得到实例x的真实标签；对没有新实例加入的其他微簇进行信息修正，若修正后的微簇的活跃度小于预先设定的微簇的活跃度最小阈值，则删除修正后的微簇。在其中一个实施例中，主动学习服务器和边缘主动学习器还用于根据狄利克雷过程混合模型的中餐馆过程对实例x落入微簇集合中各个微簇和新建微簇的概率进行计算，包括：根据狄利克雷过程混合模型的中餐馆过程计算实例x落入微簇集合中各个微簇的概率为其中，表示微簇集合中包含的微簇总数，表示调整参数，表示第j个微簇包含的样本数；根据狄利克雷过程混合模型的中餐馆过程计算实例x落入新建微簇的概率为。在其中一个实施例中，边缘主动学习器用于根据更新后的网络流量分类模型对边缘网络进行流量分类，包括：获取边缘主动学习器所在的边缘网络流量实例；边缘网络流量实例为不包含流量类型标签的网络流量实例；根据当前更新后的网络流量分类模型对边缘网络流量实例进行分类预测，得到预测结果数据；预测结果数据为包含预测类型标签的网络流量数据；根据预先构建的混合标签请求策略判断预测结果数据是否被混合标签请求策略选中；若预测结果数据被混合标签请求策略选中，则将未标注的疑难实例上报到联邦式主动学习中心，请求联邦式主动学习中心协助分类；若预测结果数据未被混合标签请求策略选中，则将预测结果数据作为边缘网络流量实例的预测标签。一种基于联邦式在线主动学习的网络流量分类方法，所述方法包括：根据主动学习服务器在任务开始前获取有标签样本构成的训练集，利用训练集对深度学习模型进行训练，得到网络流量分类模型；将网络流量分类模型下发到各个边缘主动学习器，在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的网络流量分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类；在边缘主动学习器中根据网络流量分类模型对当前边缘主动学习器所在的网络进行网络流量分类，将不能分类的流量实例作为疑难实例，并请求联邦式主动学习中心进行协助分类；利用主动学习服务器对边缘主动学习器请求协助分类的疑难实例进行类别标注，并筛选出需专家组进一步人工标注的疑难实例；利用专家组对由主动学习服务器筛选出的疑难实例进行标注，产生带有人工标签的训练样本实例；在主动学习服务器中利用专家组标注的训练样本实例对自身的网络流量分类模型训练更新；在联邦聚合计算服务器中根据各边缘主动学习器的固有特性以及其请求协助分类的疑难实例进行动态聚类，得到多个边缘主动学习器的类簇；将训练样本实例发送给位于同一簇内的所有边缘主动学习器；在边缘主动学习器中利用训练样本实例对自身的分类模型进行训练更新，并根据更新后的网络流量分类模型对边缘网络流量进行流量分类；根据联邦聚合计算服务器对同一簇内的所有边缘主动学习器得到的分类模型进行聚合与发布。一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现以下步骤：根据主动学习服务器在任务开始前获取有标签样本构成的训练集，利用训练集对深度学习模型进行训练，得到网络流量分类模型；将网络流量分类模型下发到各个边缘主动学习器，在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的网络流量分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类；在边缘主动学习器中根据网络流量分类模型对当前边缘主动学习器所在的网络进行网络流量分类，将不能分类的流量实例作为疑难实例，并请求联邦式主动学习中心进行协助分类；利用主动学习服务器对边缘主动学习器请求协助分类的疑难实例进行类别标注，并筛选出需专家组进一步人工标注的疑难实例；利用专家组对由主动学习服务器筛选出的疑难实例进行标注，产生带有人工标签的训练样本实例；在主动学习服务器中利用专家组标注的训练样本实例对自身的网络流量分类模型训练更新；在联邦聚合计算服务器中根据各边缘主动学习器的固有特性以及其请求协助分类的疑难实例进行动态聚类，得到多个边缘主动学习器的类簇；将训练样本实例发送给位于同一簇内的所有边缘主动学习器；在边缘主动学习器中利用训练样本实例对自身的分类模型进行训练更新，并根据更新后的网络流量分类模型对边缘网络流量进行流量分类；根据联邦聚合计算服务器对同一簇内的所有边缘主动学习器得到的分类模型进行聚合与发布。一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现以下步骤：根据主动学习服务器在任务开始前获取有标签样本构成的训练集，利用训练集对深度学习模型进行训练，得到网络流量分类模型；将网络流量分类模型下发到各个边缘主动学习器，在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的网络流量分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类；在边缘主动学习器中根据网络流量分类模型对当前边缘主动学习器所在的网络进行网络流量分类，将不能分类的流量实例作为疑难实例，并请求联邦式主动学习中心进行协助分类；利用主动学习服务器对边缘主动学习器请求协助分类的疑难实例进行类别标注，并筛选出需专家组进一步人工标注的疑难实例；利用专家组对由主动学习服务器筛选出的疑难实例进行标注，产生带有人工标签的训练样本实例；在主动学习服务器中利用专家组标注的训练样本实例对自身的网络流量分类模型训练更新；在联邦聚合计算服务器中根据各边缘主动学习器的固有特性以及其请求协助分类的疑难实例进行动态聚类，得到多个边缘主动学习器的类簇；将训练样本实例发送给位于同一簇内的所有边缘主动学习器；在边缘主动学习器中利用训练样本实例对自身的分类模型进行训练更新，并根据更新后的网络流量分类模型对边缘网络流量进行流量分类；根据联邦聚合计算服务器对同一簇内的所有边缘主动学习器得到的分类模型进行聚合与发布。上述基于联邦式在线主动学习的网络流量分类系统、方法、计算机设备和存储介质，本申请通过设置一个联邦式主动学习中心和一系列边缘主动学习器。在联邦式主动学习中心设置主动学习服务器、联邦聚合计算服务器和专家组，在主动学习服务器中通过构建的主动学习方法和深度学习方法使联邦式主动学习中心不断更新自身的流量分类模型进行网络流量分类，同时在联邦聚合计算服务器中根据各边缘主动学习器的固有特性以及其动态请求联邦式主动学习中心进行标注的疑难实例信息进行动态聚类，在得到疑难实例的真实标签后，将带有真实标签的疑难实例发回给位于同一簇内的所有边缘主动学习器，以实现高价值真实标签在特定范围内的共享学习，能够较好的解决在有限标签预算约束情况下，联邦式数据流分类任务所面临的多类不平衡、概念漂移和概念演化等并存互扰的复杂问题。附图说明图1为一个实施例中一种基于联邦式在线主动学习的网络流量分类系统的架构图；图2为一个实施例中一种基于联邦式在线主动学习的网络流量分类方法的流程示意图；图3为一个实施例中新实例归属判定过程示意图；其中，图3为新实例归属判定前的图；图3为新实例归属判定后；图4为一个实施例中计算机设备的内部结构图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。在一个实施例中，如图1所示，提供了一种基于联邦式在线主动学习的网络流量分类系统，所述系统包括联邦式主动学习中心102和多个边缘主动学习器104；联邦式主动学习中心包括主动学习服务器1021、联邦聚合计算服务器1023和专家组1022；主动学习服务器1021用于在任务开始前获取有标签样本构成的训练集，根据训练集对深度学习模型进行训练，得到网络流量分类模型；将网络流量分类模型下发到各个边缘主动学习器，在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的网络流量分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类；边缘主动学习器104用于根据网络流量分类模型对当前边缘主动学习器所在的网络进行网络流量分类，将不能分类的流量实例作为疑难实例，并请求联邦式主动学习中心进行协助分类；主动学习服务器1021用于对边缘主动学习器请求协助分类的疑难实例进行类别标注，并筛选出需专家组进一步人工标注的疑难实例；专家组1022用于对由主动学习服务器筛选出的疑难实例进行标注，产生带有人工标签的训练样本实例；主动学习服务器1021用于利用专家组标注的训练样本实例对自身的网络流量分类模型进行训练更新；联邦聚合计算服务器1023用于根据各边缘主动学习器104的固有特性以及请求协助分类的疑难实例进行动态聚类，得到多个边缘主动学习器104的类簇；将训练样本实例发送给位于同一簇内的所有边缘主动学习器104；边缘主动学习器104利用训练样本实例对自身的网络流量分类模型进行训练更新，并根据更新后的网络流量分类模型对边缘网络流量进行流量分类；联邦聚合计算服务器1023用于对同一簇内的所有边缘主动学习器得到的网络流量分类模型进行聚合与发布。上述基于联邦式在线主动学习的网络流量分类系统中，本申请通过设置一个联邦式主动学习中心和一系列边缘主动学习器。在联邦式主动学习中心设置主动学习服务器、联邦聚合计算服务器和专家组，在主动学习服务器中通过构建的主动学习方法和深度学习方法使联邦式主动学习中心不断更新自身的流量分类模型进行网络流量分类，同时在联邦聚合计算服务器中根据各边缘主动学习器的固有特性以及其动态请求联邦式主动学习中心进行标注的疑难实例信息进行动态聚类，在得到疑难实例的真实标签后，将真实标签发回给位于同一簇内的所有边缘主动学习器，以实现高价值真实标签在特定范围内的共享学习，能够较好的解决在有限标签预算约束情况下，联邦式数据流分类任务所面临的多类不平衡、概念漂移和概念演化等并存互扰的复杂问题。在其中一个实施例中，主动学习服务器用于在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的网络流量分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类，包括：获得联邦式主动学习中心所在的主干网网络流量实例；主干网网络流量实例为不包含流量类型标签的网络流量实例；根据当前的网络流量分类模型对主干网网络流量实例进行分类预测，得到预测结果数据；预测结果数据为包含预测类型标签的网络流量数据；根据预先构建的混合标签请求策略判断预测结果数据是否被混合标签请求策略选中；若预测结果数据被混合标签请求策略选中，则请求专家组人工标注类型，得到同时包含预测类型标签和真实类型标签的训练样本；训练样本用于对网络流量分类模型进行训练，得到更新后的网络流量分类模型；若预测结果数据未被混合标签请求策略选中，则将预测结果数据作为主干网网络流量实例的预测标签。在具体实施例中，当前的流量分类模型对主干网网络流量实例进行分类预测，得到包含预测类型标签的网络流量数据，这些网络流量数据的预测类型标签只是预测值，并不是真实值，本申请通过构建混合标签请求策略对预测标签进行判断，被混合标签请求策略选中的实例为预测值与真实值相差较大的流量实例，此时需要人工标出该网络流量数据的真实标签。在其中一个实施例中，混合标签请求策略由基于可变最小置信度阈值向量的不确定性标签请求策略、基于狄利克雷过程的概念演化检测策略和一种选择性标签请求策略组成。在其中一个实施例中，主动学习服务器用于根据预先构建的混合标签请求策略判断预测结果数据是否被混合标签请求策略选中，包括：根据可变最小置信度阈值向量不确定性标签请求策略为每一类网络流量设置一个最小置信度阈值，当有新的网络流量类别出现时，则拓展可变最小置信阈值向量的大小，如果流量分类模型对实例x给出的预测标签predLabel的置信度confid小于可变最小置信阈值向量D中预测标签的最小置信度阈值D，则实例x被不确定性标签请求策略选中并上传给专家组，由专家组人工标注真实标签并动态调整最小置信度阈值向量D中元素的值；若实例x未被不确定性标签请求策略选中，根据基于狄利克雷过程的概念演化检测策略判断实例x是否会被概念演化检测策略选中；若实例x未被概念演化检测策略选中，根据选择性标签请求策略随机选择没有被不确定性策略和概念演化检测策略选中的实例送交专家进行人工标注由专家组人工标注真实标签。在具体实施例中，基于狄利克雷过程的概念演化检测策略可用于处理网络流量数据流中发生的概念演化问题。选择性标签请求策略是用于在还有剩余的标签预算时，随机选择一些没有被不确定性策略和概念演化检测方法选中的实例送交专家进行人工标注，从而达到合理利用标签预算资源。在其中一个实施例中，主动学习服务器和边缘主动学习器还用于动态调整最小置信度阈值向量D中元素的值，包括：如果实例x被模型预测正确，但实例x是由不确定标签请求策略选中的，则根据公式对元素D的值进行减小调整，得到调整后的最小置信度阈值；其中，；如果对实例x的预测不正确，且实例x没有被不确定性标签请求策略选中，则根据公式对元素D的值进行减小调整，得到调整后的最小置信度阈值。在其中一个实施例中，主动学习服务器和边缘主动学习器还用于根据基于狄利克雷过程的概念演化检测策略判断实例x是否会被概念演化检测策略选中，包括：根据相对密度的聚类算法对训练集进行聚类，得到多个微簇；微簇表示为，其中，表示微簇的半径，表示微簇的中心，表示微簇包含的样本数，表示微簇的活跃度，表示微簇的时间计数器，表示已有微簇的序号；首先判断实例x是否落入已有的多个微簇中，若实例x落入已有微簇中，则，，修正、和的值；若实例x未落入已有微簇中，则查询出以实例x为中心，以微簇最大半径为半径的邻域内的所有微簇，得到微簇集合为，其中，表示微簇个数；根据狄利克雷过程混合模型的中餐馆过程对实例x落入微簇集合中各个微簇和新建微簇的概率进行计算，根据计算得到的多个概率构成Categorical分布，对Categorical分布进行一次采样得到实例x的微簇序号；若微簇序号为已有微簇的序号，则将已有微簇的标签最为实例x的真实标签，若微簇序号为新建微簇的序号，则将实例x归入一个新建簇，并请求专家组对实例x进行标注，得到实例x的真实标签；对没有新实例加入的其他微簇进行信息修正，若修正后的微簇的活跃度小鱼预先设定的微簇的活跃度最小阈值，则删除修正后的微簇。在具体实施例中，根据狄利克雷过程混合模型的中餐馆过程对实例x落入微簇集合中各个微簇和新建微簇的概率进行计算，可以得到k+1个概率，利用这k+1个概率可以构成一个Categorical分布，对这个类别分布进行一次采样得到，从而决定了这个新实例所属的微簇序号j，当j=k+1时，则代表新实例位于一个新建的微簇中。根据上述新实例归属的判定结果，假如实例x被归入了已有微簇中，则按照已有微簇对应的标签作为实例x的真实标签。如果实例x被归入了一个新建簇，设这个新建簇为，并请求专家对实例x进行标注，以检查该新簇是不是一个新出现的类别。微簇刚被创建时，，为该微簇被创建时的时间。微簇的活跃度随着时间的推移而变化，，其中，为当前时间。修正没有新实例加入的其他微簇的信息，需要修正的信息如下：。若修正后，出现＜，则删除此微簇，设定为微簇的活跃度最小阈值。在其中一个实施例中，主动学习服务器和边缘主动学习器还用于根据狄利克雷过程混合模型的中餐馆过程对实例x落入微簇集合中各个微簇和新建微簇的概率进行计算，包括：根据狄利克雷过程混合模型的中餐馆过程计算实例x落入微簇集合中各个微簇的概率为其中，表示微簇集合中包含的微簇总数，表示调整参数，表示第j个微簇包含的样本数；根据狄利克雷过程混合模型的中餐馆过程计算实例x落入新建微簇的概率为。在具体实施例中，如图3所示，图3中的黑色实线代表的是类分界线，五角星代表新到的实例；圆圈代表的是已有簇；虚线圆圈代表的是以新到实例为圆心，半径为rmax的判定范围，被该范围涵盖了簇中心点的已有簇将被判定为是为邻近簇的范围。在图3中，圆圈代表的是归属判定后新加入了实例导致信息发生变化的微簇，或者是新诞生的微簇；虚线圆圈指的是该变化微簇原本的位置和大小。新诞生的微簇其半径大小设定为r0。在其中一个实施例中，边缘主动学习器用于根据更新后的网络流量分类模型对边缘网络进行流量分类，包括：获取边缘主动学习器所在的边缘网络流量实例；边缘网络流量实例为不包含流量类型标签的网络流量实例；根据当前更新后的网络流量分类模型对边缘网络流量实例进行分类预测，得到预测结果数据；预测结果数据为包含预测类型标签的网络流量数据；根据预先构建的混合标签请求策略判断预测结果数据是否被混合标签请求策略选中；若预测结果数据被混合标签请求策略选中，则将未标注的疑难实例上报到联邦式主动学习中心，请求联邦式主动学习中心协助分类；若预测结果数据未被混合标签请求策略选中，则将预测结果数据作为边缘网络流量实例的预测标签。在一个实施例中，如图2所示，提供了一种基于联邦式在线主动学习的网络流量分类方法，包括以下步骤：步骤202，根据主动学习服务器在任务开始前获取有标签样本构成的训练集，利用训练集对深度学习模型进行训练，得到网络流量分类模型；将网络流量分类模型下发到各个边缘主动学习器，在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心内的网络流量分类模型进行迭代更新，并利用更新后的网络流量分类模型对联邦式主动学习中心所在的主干网网络流量进行在线流量分类。在任务开始后根据预先构建的主动学习方法对联邦式主动学习中心所在的主干网网络流量进行在线流量分类时首先获得联邦式主动学习中心所在的主干网网络流量实例；主干网网络流量实例为不包含流量类型标签的网络流量实例；根据当前的流量分类模型对主干网网络流量实例进行分类预测，得到预测结果数据；预测结果数据为包含预测类型标签的网络流量数据；流量分类模型包括初始模型和学习模型；根据预先构建的混合标签请求策略判断预测结果数据是否被混合标签请求策略选中；若预测结果数据被混合标签请求策略选中，则请求专家组人工标注类型，得到同时包含预测类型标签和真实类型标签的训练样本；训练样本用于对流量分类模型进行训练；若预测结果数据未被混合标签请求策略选中，则将预测结果数据作为主干网网络流量实例的真实标签。步骤204，在边缘主动学习器中根据网络流量分类模型对当前边缘主动学习器所在的网络进行网络流量分类，将不能分类的流量实例作为疑难实例，并请求联邦式主动学习中心进行协助分类。步骤206，利用主动学习服务器对边缘主动学习器请求协助分类的疑难实例进行类别标注，并筛选出需专家组进一步人工标注的疑难实例；利用专家组对由主动学习服务器筛选出的疑难实例进行标注，产生带有人工标签的训练样本实例；在主动学习服务器中利用专家组标注的训练样本实例对自身的网络流量分类模型训练更新。步骤208，在联邦聚合计算服务器中根据各边缘主动学习器的固有特性以及其请求协助分类的疑难实例进行动态聚类，得到多个边缘主动学习器的类簇；将训练样本实例发送给位于同一簇内的所有边缘主动学习器。步骤210，在边缘主动学习器中利用训练样本实例对自身的分类模型进行训练更新，并根据更新后的网络流量分类模型对边缘网络流量进行流量分类；根据联邦聚合计算服务器对同一簇内的所有边缘主动学习器得到的分类模型进行聚合与发布。将标注后的疑难实例上报到主动学习服务器，主动学习服务器根据标出后的疑难实例对初始模型进行训练，得到学习模型并将学习模型下发到边缘主动学习器；边缘主动学习器根据学习模型对边缘网络进行流量分类时，将分类过程中的疑难实例再次上报到主动学习服务器中更新分类模型的训练集，通过不断实时更新分类模型的训练集来提高分类模型的分类准确率。在联邦聚合计算服务器中根据各边缘主动学习器的固有特性以及其动态请求联邦式主动学习中心进行标注的疑难实例信息进行动态聚类，在得到疑难实例的真实标签后，将真实标签发回给位于同一簇内的所有边缘主动学习器，以实现高价值真实标签在特定范围内的共享学习，联邦聚合计算服务器对同一簇内的所有边缘主动学习器得到的学习模型进行聚合与发布后，将边缘主动学习器进行聚类，避免了后续同一类边缘主动学习器不断向主动学习服务器发送同一疑难实例，避免了资源浪费。上述基于联邦式在线主动学习的网络流量分类方法，在主动学习服务器中通过构建的主动学习方法和深度学习方法使联邦式主动学习中心不断更新自身的流量分类模型进行网络流量分类，同时在联邦聚合计算服务器中根据各边缘主动学习器的固有特性以及其动态请求联邦式主动学习中心进行标注的疑难实例信息进行动态聚类，在得到疑难实例的真实标签后，将真实标签发回给位于同一簇内的所有边缘主动学习器，以实现高价值真实标签在特定范围内的共享学习，能够较好的解决在有限标签预算约束情况下，联邦式数据流分类任务所面临的多类不平衡、概念漂移和概念演化等并存互扰的复杂问题。应该理解的是，虽然图2的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，图2中的至少一部分步骤可以包括多个子步骤或者多个阶段，这些子步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些子步骤或者阶段的执行顺序也不必然是依次进行，而是可以与其它步骤或者其它步骤的子步骤或者阶段的至少一部分轮流或者交替地执行。关于基于联邦式在线主动学习的网络流量分类方法的具体限定可以参见上文中对于基于联邦式在线主动学习的网络流量分类系统的限定，在此不再赘述。上述基于联邦式在线主动学习的网络流量分类系统中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。在一个实施例中，提供了一种计算机设备，该计算机设备可以是终端，其内部结构图可以如图4所示。该计算机设备包括通过系统总线连接的处理器、存储器、网络接口、显示屏和输入装置。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时以实现一种基于联邦式在线主动学习的网络流量分类方法。该计算机设备的显示屏可以是液晶显示屏或者电子墨水显示屏，该计算机设备的输入装置可以是显示屏上覆盖的触摸层，也可以是计算机设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图4中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路 DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
