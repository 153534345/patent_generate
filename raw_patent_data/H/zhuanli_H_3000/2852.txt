标题title
一种传输设备性能文件FTP上报的实现方法和系统
摘要abst
本发明涉及网络管理技术领域，提供了一种传输设备性能文件FTP上报的实现方法和系统。采集服务对每一个采集请求生成一个QueryID，并将QueryID注册到网管FTP服务的消息通知模块，网管FTP服务的数据传输通道，在监测到文件数据传输完成后，向消息控制模块发送文件消息，消息控制模块，根据文件后缀类型，进行相应情况处理。本发明集成到网管FTP服务系统，在网管FTP服务系统收到设备上传的性能文件后，进行消息匹配，完成匹配后发布文件消息。
权利要求书clms
1.一种传输设备性能文件FTP上报的实现方法，其特征在于，采集服务对每一个采集请求生成一个QueryID，并将QueryID注册到网管FTP服务的消息通知模块，网管FTP服务的数据传输通道，在监测到文件数据传输完成后，向消息控制模块发送文件消息，消息控制模块，根据文件后缀类型，进行相应情况处理，方法包括：文件后缀为Adat，则在文件消息中提取QueryID，在队列UncompleteListB中查找是否已经收到对应的Bdat文件；若查找失败，则将QueryID加入未完成队列UncompleteListA；若查找成功，则从队列UncompleteListB和队列PendingList中移除该QueryID，并加入处理中队列DealingList；文件后缀为Bdat，则在文件消息中提取QueryID，在UncompleteListA中查找是否已经收到对应的Adat文件，若查找失败，则将QueryID加入未完成队列UncompleteListB；若查找成功，则从队列UncompleteListA和队列PendingList中移除该QueryID，并加入处理中队列DealingList。2.根据权利要求1所述的传输设备性能文件FTP上报的实现方法，其特征在于，方法还包括：文件后缀为dat，则在文件消息中提取QueryID，查找该QueryID是否存在于待处理队列PendingList，若存在，说明可以上报该消息，将该QueryID从待处理队列PendingList移除，并加入处理中队列DealingList。3.根据权利要求1所述的传输设备性能文件FTP上报的实现方法，其特征在于，消息上报线程顺序处理队列DealingList中的数据，已上报的数据生成一个唯一的MsgID，发送给控制器模块，接收方在成功收到消息后，应答相同MsgID给控制器，控制器对MsgID进行异或操作，判断是否发送成功，发送成功则从DealingList队列中移除该消息。4.根据权利要求3所述的传输设备性能文件FTP上报的实现方法，其特征在于，DealingList队列中的数据发送失败则进行重发，重发三次失败，则移除队列，记录日志。5.根据权利要求1-4任一所述的传输设备性能文件FTP上报的实现方法，其特征在于，网管FTP服务的消息控制模块，有四个消息队列用来进行消息匹配，分别是待处理队列PendingList、未完成队列UncompleteListA、未完成队列UncompleteListB和处理中队列DealingList，具体的：待处理队列PendingList用于存储采集服务注册的QueryID；未完成队列UncompleteListA和UncompleteListB用于存储未完成匹配的消息；处理中队列DealingList用于存储完成匹配，发送出去的消息。6.根据权利要求1-4任一所述的传输设备性能文件FTP上报的实现方法，其特征在于，传输设备上传的性能文件有两种，其中，第一种是一个QueryID对应一个性能文件，这种性能文件的文件名会包含QueryID作为关键字，以dat作为后缀；第二种是一个QueryID对应两个性能文件，两个性能文件的文件名均包含QueryID作为关键字，基础性能文件以Adat作为后缀，业务性能文件以Bdat作为后缀。7.根据权利要求6所述的传输设备性能文件FTP上报的实现方法，其特征在于，所述文件命名规则为：业务字符串、设备IP和QueryID，与.dat、.Adat或.Bdat三者之一串联构成。8.一种传输设备性能文件FTP上报的实现系统，其特征在于，网管FTP服务的消息控制模块，有四个消息队列用来进行消息匹配，分别是待处理队列PendingList、未完成队列UncompleteListA、未完成队列UncompleteListB和处理中队列DealingList，待处理队列PendingList用于存储采集服务注册的QueryID；未完成队列UncompleteListA和UncompleteListB用于存储未完成匹配的消息；处理中队列DealingList用于存储完成匹配，发送出去的消息，具体的：采集服务对每一个采集请求生成一个QueryID，并将QueryID注册到网管FTP服务的消息通知模块，网管FTP服务的数据传输通道，在监测到文件数据传输完成后，向消息控制模块发送文件消息，消息控制模块，根据文件后缀类型，进行相应情况处理；其中，文件后缀为Adat，则在文件消息中提取QueryID，在队列UncompleteListB中查找是否已经收到对应的Bdat文件；若查找失败，则将QueryID加入未完成队列UncompleteListA；若查找成功，则从队列UncompleteListB和队列PendingList中移除该QueryID，并加入处理中队列DealingList；其中，文件后缀为Bdat，则在文件消息中提取QueryID，在UncompleteListA中查找是否已经收到对应的Adat文件，若查找失败，则将QueryID加入未完成队列UncompleteListB；若查找成功，则从队列UncompleteListA和队列PendingList中移除该QueryID，并加入处理中队列DealingList。9.根据权利要求8所述的传输设备性能文件FTP上报的实现系统，其特征在于，文件后缀为dat，则在文件消息中提取QueryID，查找该QueryID是否存在于待处理队列PendingList，若存在，说明可以上报该消息，将该QueryID从待处理队列PendingList移除，并加入处理中队列DealingList。10.根据权利要求8所述的传输设备性能文件FTP上报的实现系统，其特征在于，传输设备上传的性能文件有两种，其中，第一种是一个QueryID对应一个性能文件，这种性能文件的文件名会包含QueryID作为关键字，以dat作为后缀；第二种是一个QueryID对应两个性能文件，两个性能文件的文件名均包含QueryID作为关键字，基础性能文件以Adat作为后缀，业务性能文件以Bdat作为后缀。
说明书desc
【技术领域】本发明涉及网络管理技术领域，特别是涉及一种传输设备性能文件FTP上报的实现方法和系统。【背景技术】UMC网管采集传输设备性能时，部分设备会在一次交互中同时应答两个性能文件，两个文件必须同时上报给网管才算完成采集，传统的解决方案有：①设备主动通知网管文件已经上传完成，弊端：需要额外对UDP协议在应用层进行可靠性控制开销，此外频繁的主动通知会大量占用宝贵的设备网络带宽资源。②网管轮询监测性能文件是否传输完成，弊端：效率低下，且无法有效监测性能文件的准确传输状态。③简单消息上报，弊端：无法对多个消息进行匹配，不满足一次交互多个文件的特殊场景。鉴于此，克服该现有技术所存在的缺陷是本技术领域亟待解决的问题。【发明内容】本发明要解决的技术问题是UMC网管采集传输设备性能时，部分设备会在一次交互中同时应答两个性能文件，两个文件必须同时上报给网管才算完成采集，传统的解决方案有：①设备主动通知网管文件已经上传完成，弊端：需要额外对UDP协议在应用层进行可靠性控制开销，此外频繁的主动通知会大量占用宝贵的设备网络带宽资源。②网管轮询监测性能文件是否传输完成，弊端：效率低下，且无法有效监测性能文件的准确传输状态。③简单消息上报，弊端：无法对多个消息进行匹配，不满足一次交互多个文件的特殊场景。本发明采用如下技术方案：一种传输设备性能文件FTP上报的实现方法，采集服务对每一个采集请求生成一个QueryID，并将QueryID注册到网管FTP服务的消息通知模块，网管FTP服务的数据传输通道，在监测到文件数据传输完成后，向消息控制模块发送文件消息，消息控制模块，根据文件后缀类型，进行相应情况处理，方法包括：文件后缀为Adat，则在文件消息中提取QueryID，在队列UncompleteListB中查找是否已经收到对应的Bdat文件；若查找失败，则将QueryID加入未完成队列UncompleteListA；若查找成功，则从队列UncompleteListB和队列PendingList中移除该QueryID，并加入处理中队列DealingList；文件后缀为Bdat，则在文件消息中提取QueryID，在UncompleteListA中查找是否已经收到对应的Adat文件，若查找失败，则将QueryID加入未完成队列UncompleteListB；若查找成功，则从队列UncompleteListA和队列PendingList中移除该QueryID，并加入处理中队列DealingList。优选的，方法还包括：文件后缀为dat，则在文件消息中提取QueryID，查找该QueryID是否存在于待处理队列PendingList，若存在，说明可以上报该消息，将该QueryID从待处理队列PendingList移除，并加入处理中队列DealingList。优选的，消息上报线程顺序处理队列DealingList中的数据，已上报的数据生成一个唯一的MsgID，发送给控制器模块，接收方在成功收到消息后，应答相同MsgID给控制器，控制器对MsgID进行异或操作，判断是否发送成功，发送成功则从DealingList队列中移除该消息。优选的，DealingList队列中的数据发送失败则进行重发，重发三次失败，则移除队列，记录日志。优选的，网管FTP服务的消息控制模块，有四个消息队列用来进行消息匹配，分别是待处理队列PendingList、未完成队列UncompleteListA、未完成队列UncompleteListB和处理中队列DealingList，具体的：待处理队列PendingList用于存储采集服务注册的QueryID；未完成队列UncompleteListA和UncompleteListB用于存储未完成匹配的消息；处理中队列DealingList用于存储完成匹配，发送出去的消息。优选的，传输设备上传的性能文件有两种，其中，第一种是一个QueryID对应一个性能文件，这种性能文件的文件名会包含QueryID作为关键字，以dat作为后缀；第二种是一个QueryID对应两个性能文件，两个性能文件的文件名均包含QueryID作为关键字，基础性能文件以Adat作为后缀，业务性能文件以Bdat作为后缀。优选的，所述文件命名规则为：业务字符串、设备IP和QueryID，与.dat、.Adat或.Bdat三者之一串联构成。第二方面，本发明还提供了一种传输设备性能文件FTP上报的实现系统，其特征在于，网管FTP服务的消息控制模块，有四个消息队列用来进行消息匹配，分别是待处理队列PendingList、未完成队列UncompleteListA、未完成队列UncompleteListB和处理中队列DealingList，待处理队列PendingList用于存储采集服务注册的QueryID；未完成队列UncompleteListA和UncompleteListB用于存储未完成匹配的消息；处理中队列DealingList用于存储完成匹配，发送出去的消息，具体的：采集服务对每一个采集请求生成一个QueryID，并将QueryID注册到网管FTP服务的消息通知模块，网管FTP服务的数据传输通道，在监测到文件数据传输完成后，向消息控制模块发送文件消息，消息控制模块，根据文件后缀类型，进行相应情况处理；其中，文件后缀为Adat，则在文件消息中提取QueryID，在队列UncompleteListB中查找是否已经收到对应的Bdat文件；若查找失败，则将QueryID加入未完成队列UncompleteListA；若查找成功，则从队列UncompleteListB和队列PendingList中移除该QueryID，并加入处理中队列DealingList；其中，文件后缀为Bdat，则在文件消息中提取QueryID，在UncompleteListA中查找是否已经收到对应的Adat文件，若查找失败，则将QueryID加入未完成队列UncompleteListB；若查找成功，则从队列UncompleteListA和队列PendingList中移除该QueryID，并加入处理中队列DealingList。优选的，文件后缀为dat，则在文件消息中提取QueryID，查找该QueryID是否存在于待处理队列PendingList，若存在，说明可以上报该消息，将该QueryID从待处理队列PendingList移除，并加入处理中队列DealingList。优选的，传输设备上传的性能文件有两种，其中，第一种是一个QueryID对应一个性能文件，这种性能文件的文件名会包含QueryID作为关键字，以dat作为后缀；第二种是一个QueryID对应两个性能文件，两个性能文件的文件名均包含QueryID作为关键字，基础性能文件以Adat作为后缀，业务性能文件以Bdat作为后缀。第三方面，本发明还提供了一种传输设备性能文件FTP上报的实现装置，用于实现第一方面所述的传输设备性能文件FTP上报的实现方法，所述装置包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述处理器执行，用于执行第一方面所述的传输设备性能文件FTP上报的实现方法。第四方面，本发明还提供了一种非易失性计算机存储介质，所述计算机存储介质存储有计算机可执行指令，该计算机可执行指令被一个或多个处理器执行，用于完成第一方面所述的传输设备性能文件FTP上报的实现方法。本发明以ICE STORM为框架，对其消息上报模块进行改造，增加消息匹配和可靠性上报的机制，并集成到网管FTP服务系统，在网管FTP服务系统收到设备上传的性能文件后，进行消息匹配，完成匹配后发布文件消息，主动通知网管采集服务。【附图说明】为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例中所需要使用的附图作简单地介绍。显而易见地，下面所描述的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的一种传输设备性能文件FTP上报的实现方法流程示意图；图2是本发明实施例提供的一种传输设备性能文件FTP上报的实现方法流程示意图；图3是本发明实施例提供的一种传输设备性能文件FTP上报的消息上报组件图；图4是本发明实施例提供的一种传输设备性能文件FTP上报的账号管理架构示意图；图5是本发明实施例提供的一种传输设备性能文件FTP上报的实现方法信令时序图；图6是本发明实施例提供的一种传输设备性能文件FTP上报的实现方法流程示意图；图7是本发明实施例提供的一种传输设备性能文件FTP上报的实现装置结构示意图。【具体实施方式】为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。在本发明的描述中，术语“内”、“外”、“纵向”、“横向”、“上”、“下”、“顶”、“底”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明而不是要求本发明必须以特定的方位构造和操作，因此不应当理解为对本发明的限制。此外，下面所描述的本发明各个实施方式中所涉及到的技术特征只要彼此之间未构成冲突就可以相互组合。实施例1:本发明实施例1提供了一种传输设备性能文件FTP上报的实现方法，如图1所示，包括：在步骤201中，采集服务对每一个采集请求生成一个QueryID，并将QueryID注册到网管FTP服务的消息通知模块。例如：采集服务有三个采集请求，生成了QueryID{1,2,3}，将其发送给网管FTP服务消息通知模块进行注册。在步骤202中，网管FTP服务的数据传输通道，在监测到文件数据传输完成后，向消息控制模块发送文件消息，消息控制模块，根据文件后缀类型，进行相应情况处理。在步骤203中，文件后缀为Adat，则在文件消息中提取QueryID，在队列UncompleteListB中查找是否已经收到对应的Bdat文件；若查找失败，则将QueryID加入未完成队列UncompleteListA；若查找成功，则从队列UncompleteListB和队列PendingList中移除该QueryID，并加入处理中队列DealingList。例如：收到*2*.Adat，UncompleteListB为空{}，则将2加入UncompleteListA{2}。在步骤204中，文件后缀为Bdat，则在文件消息中提取QueryID，在UncompleteListA中查找是否已经收到对应的Adat文件，若查找失败，则将QueryID加入未完成队列UncompleteListB；若查找成功，则从队列UncompleteListA和队列PendingList中移除该QueryID，并加入处理中队列DealingList。本发明实施例以ICE STORM为框架，对其消息上报模块进行改造，增加消息匹配和可靠性上报的机制，并集成到网管FTP服务系统，在网管FTP服务系统收到设备上传的性能文件后，进行消息匹配，完成匹配后发布文件消息，主动通知网管采集服务。作为还存在一种的一种文件后缀格式dat，结合本发明实施例步骤201-步骤204，还存在一更为完整的方案实现，如图2所示，方法还包括：在步骤205中，文件后缀为dat，则在文件消息中提取QueryID，查找该QueryID是否存在于待处理队列PendingList，若存在，说明可以上报该消息，将该QueryID从待处理队列PendingList移除，并加入处理中队列DealingList。例如：收到*1*.dat，则将1从PendingList中移除{1,2,3}→{2,3}，并加入处理中队列DealingList{1}。消息上报线程顺序处理队列DealingList中的数据，已上报的数据生成一个唯一的MsgID，发送给控制器模块，接收方在成功收到消息后，应答相同MsgID给控制器，控制器对MsgID进行异或操作，判断是否发送成功，发送成功则从DealingList队列中移除该消息。DealingList队列中的数据发送失败则进行重发，重发三次失败，则移除队列，记录日志。此时，记录日志通常是供人工干预。在本发明实施例实现过程中，网管FTP服务的消息控制模块，有四个消息队列用来进行消息匹配，分别是待处理队列PendingList、未完成队列UncompleteListA、未完成队列UncompleteListB和处理中队列DealingList，具体的：待处理队列PendingList用于存储采集服务注册的QueryID；未完成队列UncompleteListA和UncompleteListB用于存储未完成匹配的消息；处理中队列DealingList用于存储完成匹配，发送出去的消息。例如：采集服务注册的QueryID{1，2，3}，会首先存储于待处理队列PendingList{1,2,3}。传输设备上传的性能文件有两种，其中，第一种是一个QueryID对应一个性能文件，这种性能文件的文件名会包含QueryID作为关键字，以dat作为后缀；文件命名规则【业务字符串】+【设备IP】+【QueryID】+【.dat】/【.Adat】/【.Bdat】，例如pbperfm_0X0A636334_1.dat第二种是一个QueryID对应两个性能文件，两个性能文件的文件名均包含QueryID作为关键字，基础性能文件以Adat作为后缀，业务性能文件以Bdat作为后缀。例如QueryID为1的基础性能文件pbperfm_0X0A636334_1.Adat；QueryID为1的业务性能文件pbperfm_0X0A636334_1.Bdat。实施例2：本发明实施例以ICE Storm服务为框架，对其消息上报模块进行二次开发，封装实现基于消息匹配的可靠消息上报模块组件。一种传输设备性能文件FTP上报的实现系统，其特征在于，网管FTP服务的消息控制模块，有四个消息队列用来进行消息匹配，分别是待处理队列PendingList、未完成队列UncompleteListA、未完成队列UncompleteListB和处理中队列DealingList，待处理队列PendingList用于存储采集服务注册的QueryID；未完成队列UncompleteListA和UncompleteListB用于存储未完成匹配的消息；处理中队列DealingList用于存储完成匹配，发送出去的消息，具体的：采集服务对每一个采集请求生成一个QueryID，并将QueryID注册到网管FTP服务的消息通知模块，网管FTP服务的数据传输通道，在监测到文件数据传输完成后，向消息控制模块发送文件消息，消息控制模块，根据文件后缀类型，进行相应情况处理；其中，文件后缀为Adat，则在文件消息中提取QueryID，在队列UncompleteListB中查找是否已经收到对应的Bdat文件；若查找失败，则将QueryID加入未完成队列UncompleteListA；若查找成功，则从队列UncompleteListB和队列PendingList中移除该QueryID，并加入处理中队列DealingList；例如：收到*2*.Adat，UncompleteListB为空{}，则将2加入UncompleteListA{2}。其中，文件后缀为Bdat，则在文件消息中提取QueryID，在UncompleteListA中查找是否已经收到对应的Adat文件，若查找失败，则将QueryID加入未完成队列UncompleteListB；若查找成功，则从队列UncompleteListA和队列PendingList中移除该QueryID，并加入处理中队列DealingList。文件后缀为dat，则在文件消息中提取QueryID，查找该QueryID是否存在于待处理队列PendingList，若存在，说明可以上报该消息，将该QueryID从待处理队列PendingList移除，并加入处理中队列DealingList。例如：收到*1*.dat，则将1从PendingList中移除{1,2,3}→{2,3}，并加入处理中队列DealingList{1}。传输设备上传的性能文件有两种，其中，第一种是一个QueryID对应一个性能文件，这种性能文件的文件名会包含QueryID作为关键字，以dat作为后缀；第二种是一个QueryID对应两个性能文件，两个性能文件的文件名均包含QueryID作为关键字，基础性能文件以Adat作为后缀，业务性能文件以Bdat作为后缀。实施例3：封装实现基于消息匹配的可靠消息上报模块组件。以ICE Storm服务为框架，对其消息上报模块进行二次开发，封装实现基于消息匹配的可靠消息上报模块组件。具体实施方式：采集服务对每一个采集请求生成一个QueryID，并将QueryID注册到网管FTP服务的消息通知模块。例如：采集服务有三个采集请求，生成了QueryID{1,2,3}，将其发送给网管FTP服务消息通知模块进行注册。网管FTP服务的消息控制模块，有四个消息队列用来进行消息匹配，分别是待处理队列PendingList：用于存储采集服务注册的QueryID、未完成队列UncompleteListA和UncompleteListB：用于存储未完成匹配的消息、处理中队列DealingList：用于存储完成匹配，发送出去的消息。例如：采集服务注册的QueryID{1，2，3}，会首先存储于待处理队列PendingList{1,2,3}。传输设备上传的性能文件有两种，第一种是一个QueryID对应一个文件：这种性能文件的文件名会包含QueryID作为关键字，以dat作为后缀，文件命名规则【业务字符串】+【设备IP】+【QueryID】+【.dat】/【.Adat】/【.Bdat】，例如pbperfm_0X0A636334_1.dat；第二种是一个QueryID对应两个性能文件：两个性能文件的文件名均包含QueryID作为关键字，基础性能文件以Adat作为后缀，业务性能文件以Bdat作为后缀，例如QueryID为1的基础性能文件pbperfm_0X0A636334_1.Adat；QueryID为1的业务性能文件pbperfm_0X0A636334_1.Bdat。网管FTP服务的数据传输通道，在监测到文件数据传输完成后，向消息控制模块发送文件消息，消息控制模块，根据文件后缀类型，分以下三种情况处理：文件后缀为dat，则在文件消息中提取QueryID，查找该QueryID是否存在于待处理队列PendingList，如存在，说明可以上报该消息，将该QueryID从待处理队列PendingList移除，并加入处理中队列DealingList。例如：收到*1*.dat，则将1从PendingList中移除{1,2,3}→{2,3}，并加入处理中队列DealingList{1}。文件后缀为Adat，则在文件消息中提取QueryID，在UncompleteListB中查找是否已经收到对应的Bdat文件，如查找失败，则将QueryID加入未完成队列UncompleteListA；如查找成功，则从UncompleteListB和PendingList中移除该QueryID，并加入处理中队列DealingList。例如：收到*2*.Adat，UncompleteListB为空{}，则将2加入UncompleteListA{2}。文件后缀为Bdat，则在文件消息中提取QueryID，在UncompleteListA中查找是否已经收到对应的Adat文件，如查找失败，则将QueryID加入未完成队列UncompleteListB；如查找成功，则从UncompleteListA和PendingList中移除该QueryID，并加入处理中队列DealingList。例如：收到*2*.Bdat，UncompleteListA{2}查找2成功，则将其从UncompleteListA中移除{2}→{}，从PendingList中移除{2,3}→{3}，加入DealingList{1}→{1,2}。消息上报线程顺序处理DealingList中的数据，已上报的数据生成一个唯一的MsgID，发送给控制器模块，接收方在成功收到消息后，会应答相同MsgID给控制器，控制器对MsgID进行xor操作，判断是否发送成功，发送成功则从DealingList队列中移除该消息。DealingList中的数据发送失败则进行重发，重发三次失败，则移除队列，记录日志，需要人工干预。将该组件集成于FTPServer之中。如图3所示。实施例4:随着传输网络规模越来越大，设备和网管之间需要传输的性能数据也越来越多，传统利用UDP私有协议传输性能数据的方式存在过多限制，而利用普通FTP协议传输性能文件，又存在性能文件到达FTP服务器之后，无法及时有效通知网管以及FTP账号管理存在不满足网管规范等问题，所以网管急需一种满足效率和规范的传输设备性能文件FTP上报的实现方法。本发明实施例UMC网管无法直接管理传输设备所使用的FTP账户信息，不满足客户的安全性等需求；UMC网管的FTP服务系统的账户操作接口，包括新增、修改以及删除，没有提供标准化接口，不满足网管推荐的接口管理规范。提供了一种解决方案：封装部署网管FTP服务子系统。以ICE为框架，封装部署一个网管FTP服务，提供如下满足网管规范的标准化接口：增加网管FTP账号信息；删除网管FTP账号信息；修改网管FTP账号信息；查看网管FTP账号信息；配置传输设备的FTP账号信息；发布FTP主题文件信息消息；网管FTP账户密码需要满足网管安全规范，参见如下数字字典：暂将网管FTP服务命名为FTPServer。封装实现文件传输协议服务组件。选取一个开源的可以提供FTP基础文件传输协议服务的第三方组件，包括但是不限于pyftplib或者filezilla等，对其账户管理和文件协议传输功能进行二次开发：扩展其添加FTP服务用户的接口；扩展其删除FTP服务用户的接口；扩展其修改FTP服务用户的接口；扩展其查询FTP服务用户的接口；扩展其文件传输控制层接口；二次开发后的组件，将其集成于FTPServer之中。如图4所示。封装实现设备控制模块组件。开发实现配置传输设备FTP账号信息的控制模块，可以对设备所用的FTP账户信息进行读取、修改和重置操作。该组件集成于FTPServer之中。如图5和图6所示。在步骤301中，通过网管FTP服务子系统完成高效性能采集。在步骤302中，通过网管界面配置满足安全规范的网管FTP服务账号及其账户安全策略。在步骤303中，通过网管界面配置传输设备所使用的网管FTP账号信息。在步骤304中，通过网管界面进行传输设备的性能采集。在步骤305中，网管采集服务向传输设备异步发送UDP协议采集命令。在步骤306中，传输设备收到网管的性能采集命令之后，应答确认帧，然后使用配置的FTP账户，异步上传性能FTP文件到网管FTP服务器。在步骤307中，网管FTP服务子系统进行支持断点续传的文件协议传输，传输完成之后，通过消息模块组件发送基于文件主题的文件信息消息。在步骤308中，网管采集服务订阅并收到上报的性能文件消息之后，主动通过网管FTP服务取得性能文件，即时进行解析，并做后续处理。实施例5:如图7所示，是本发明实施例的传输设备性能文件FTP上报的实现装置的架构示意图。本实施例的传输设备性能文件FTP上报的实现装置包括一个或多个处理器21以及存储器22。其中，图7中以一个处理器21为例。处理器21和存储器22可以通过总线或者其他方式连接，图7中以通过总线连接为例。存储器22作为一种非易失性计算机可读存储介质，可用于存储非易失性软件程序和非易失性计算机可执行程序，如实施例1中的传输设备性能文件FTP上报的实现方法。处理器21通过运行存储在存储器22中的非易失性软件程序和指令，从而执行传输设备性能文件FTP上报的实现方法。存储器22可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他非易失性固态存储器件。在一些实施例中，存储器22可选包括相对于处理器21远程设置的存储器，这些远程存储器可以通过网络连接至处理器21。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。所述程序指令/模块存储在所述存储器22中，当被所述一个或者多个处理器21执行时，执行上述实施例1中的传输设备性能文件FTP上报的实现方法，例如，执行以上描述的图1和图2所示的各个步骤。值得说明的是，上述装置和系统内的模块、单元之间的信息交互、执行过程等内容，由于与本发明的处理方法实施例基于同一构思，具体内容可参见本发明方法实施例中的叙述，此处不再赘述。本领域普通技术人员可以理解实施例的各种方法中的全部或部分步骤是可以通过程序来指令相关的硬件来完成，该程序可以存储于一计算机可读存储介质中，存储介质可以包括：只读存储器、随机存取存储器、磁盘或光盘等。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
