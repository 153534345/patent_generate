标题title
卫星通信方法、装置、网络数据分析功能网元及存储介质
摘要abst
本发明的实施例提供了一种卫星通信方法、装置、网络数据分析功能网元及存储介质，涉及通信技术领域，应用于网络数据分析功能网元NWDAF网元，方法包括：获取终端设备的历史活跃信息、终端设备的位置信息以及多个低轨卫星的星历信息；根据多个低轨卫星的星历信息和终端设备的位置信息，确定终端设备不在卫星覆盖范围内的第一时间段，其中，卫星覆盖范围为多个低轨卫星的覆盖范围；根据历史活跃信息，预测终端设备从进入卫星覆盖范围到开始活跃的时间间隔；根据第一时间段和时间间隔，确定终端设备的用户节能时间；向终端设备发送用户节能时间。采用本发明，可以节省终端设备的信号搜索时间，提升终端设备的可靠性和稳定性。
权利要求书clms
1.一种卫星通信方法，其特征在于，应用于网络数据分析功能NWDAF网元，方法包括：获取终端设备的历史活跃信息、所述终端设备的位置信息以及多个低轨卫星的星历信息；根据多个所述低轨卫星的星历信息和所述终端设备的位置信息，确定所述终端设备不在卫星覆盖范围内的第一时间段，其中，卫星覆盖范围为多个所述低轨卫星的覆盖范围；根据所述历史活跃信息，预测所述终端设备从进入所述卫星覆盖范围到开始活跃的时间间隔；根据所述第一时间段和所述时间间隔，确定所述终端设备的用户节能时间；向所述终端设备发送所述用户节能时间，以使得所述终端设备在所述用户节能时间内关闭信号搜索功能。2.根据权利要求1所述的方法，其特征在于，所述根据多个所述低轨卫星的星历信息和所述终端设备的位置信息，确定所述终端设备不在卫星覆盖范围内的第一时间段，包括：根据每个所述低轨卫星的星历信息和所述终端设备的位置信息，计算每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角；根据每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角，计算所述第一时间段。3.根据权利要求2所述的方法，其特征在于，所述根据每个所述低轨卫星的星历信息和所述终端设备的位置信息，计算每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角，包括：根据每个所述低轨卫星的星历信息，确定每个所述低轨卫星的位置；根据每个所述低轨卫星的位置和所述终端设备的位置，计算每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角。4.根据权利要求2所述的方法，其特征在于，所述根据每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角，计算所述第一时间段，包括：根据多个所述低轨卫星和所述终端设备之间的仰角，从多个所述低轨卫星中，确定两个方向上仰角最大的两个第一低轨卫星；根据所述终端设备相对于多个所述低轨卫星的距离，从多个所述低轨卫星中，确定两个方向上距离最小的两个第二低轨卫星；根据同一方向的所述第二低轨卫星和所述第一低轨卫星之间的运行时间，计算所述第一时间段。5.根据权利要求4所述的方法，其特征在于，所述根据同一方向的所述第二低轨卫星和所述第一低轨卫星之间的运行时间，计算所述第一时间段，包括：根据两个方向的运行时间之和，计算所述第一时间段。6.根据权利要求4所述的方法，其特征在于，所述根据所述历史活跃信息，预测所述终端设备从进入所述卫星覆盖范围到开始活跃的时间间隔，包括：根据所述历史活跃信息，预测开始活跃的时间；根据所述开始活跃的时间、所述历史活跃信息中的历史活跃时间点，以及所述两个方向的运行时间，计算所述时间间隔。7.根据权利要求6所述的方法，其特征在于，所述根据所述历史活跃信息，预测开始活跃的时间，包括：采用预设的线性回归模型，对所述历史活跃信息进行处理，预测得到所述开始活跃的时间。8.一种卫星通信装置，其特征在于，应用于网络数据分析功能NWDAF网元，装置包括：获取模块，用于获取终端设备的历史活跃信息、所述终端设备的位置信息以及多个低轨卫星的星历信息；第一确定模块，根据多个所述低轨卫星的星历信息和所述终端设备的位置信息，确定所述终端设备不在卫星覆盖范围内的第一时间段，其中，卫星覆盖范围为多个所述低轨卫星的覆盖范围；预测模块，用于根据所述历史活跃信息，预测所述终端设备从进入所述卫星覆盖范围到开始活跃的时间间隔；第二确定模块，用于根据所述第一时间段和所述时间间隔，确定所述终端设备的用户节能时间；发送模块，用于向所述终端设备发送所述用户节能时间，以使得所述终端设备在所述用户节能时间内关闭信号搜索功能。9.一种网络数据分析功能NWDAF网元，其特征在于，包括：接收器、处理器、发送器；所述接收器、所述处理器、所述发送器通信连接；其中，所述接收器用于获取终端设备的历史活跃信息、终端设备的位置信息以及多个低轨卫星的星历信息；所述处理器用于根据多个低轨卫星的星历信息和终端设备的位置信息，确定终端设备不在卫星覆盖范围内的第一时间段，其中，卫星覆盖范围为多个低轨卫星的覆盖范围；根据历史活跃信息，预测终端设备进入卫星覆盖范围到开始活跃的时间间隔；根据第一时间段和时间间隔，确定终端设备的用户节能时间；所述发送器用于向终端设备发送用户节能时间，以使得终端设备在用户节能时间内关闭信号搜索功能。10.一种计算机可读存储介质，其特征在于，存储介质上存储有计算机程序，计算机程序被处理器运行时执行如权利要求1至7任一所述的卫星通信方法的步骤。
说明书desc
技术领域本发明涉及通信技术领域，具体而言，涉及一种卫星通信方法、装置、网络数据分析功能网元及存储介质。背景技术在低轨卫星互联网中，卫星终端通过低轨卫星系统接入到数据网络。由于星座设计的多样性，部分星座会出现某一时刻大面积无覆盖的情况，使得用户会出现大面积没有卫星接入的时间段。在没有卫星接入的时间段中，用户进行频繁的信号搜索都是无效的，同时会消耗大量的能量，不利于节能环保。发明内容本发明实施例提供一种卫星通信方法、装置、网络数据分析功能网元及存储介质，节省终端设备的信号搜索时间，提升终端设备的可靠性和稳定性。第一方面，本发明实施例提供一种卫星通信方法，应用于网络数据分析功能NWDAF网元，方法包括：获取终端设备的历史活跃信息、所述终端设备的位置信息以及多个低轨卫星的星历信息；根据多个所述低轨卫星的星历信息和所述终端设备的位置信息，确定所述终端设备不在卫星覆盖范围内的第一时间段，其中，卫星覆盖范围为多个所述低轨卫星的覆盖范围；根据所述历史活跃信息，预测所述终端设备从进入所述卫星覆盖范围到开始活跃的时间间隔；根据所述第一时间段和所述时间间隔，确定所述终端设备的用户节能时间；向所述终端设备发送所述用户节能时间，以使得所述终端设备在所述用户节能时间内关闭信号搜索功能。可选地，所述根据多个所述低轨卫星的星历信息和所述终端设备的位置信息，确定所述终端设备不在卫星覆盖范围内的第一时间段，包括：根据每个所述低轨卫星的星历信息和所述终端设备的位置信息，计算每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角；根据每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角，计算所述第一时间段。可选地，所述根据每个所述低轨卫星的星历信息和所述终端设备的位置信息，计算每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角，包括：根据每个所述低轨卫星的星历信息，确定每个所述低轨卫星的位置；根据每个所述低轨卫星的位置和所述终端设备的位置，计算每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角。可选地，所述根据每个所述低轨卫星和所述终端设备之间的距离，以及每个所述低轨卫星相对于所述终端设备的仰角，计算所述第一时间段，包括：根据多个所述低轨卫星和所述终端设备之间的仰角，从多个所述低轨卫星中，确定两个方向上仰角最大的两个第一低轨卫星；根据所述终端设备相对于多个所述低轨卫星的距离，从多个所述低轨卫星中，确定两个方向上距离最小的两个第二低轨卫星；根据同一方向的所述第二低轨卫星和所述第一低轨卫星之间的运行时间，计算所述第一时间段。可选地，所述根据同一方向的所述第二低轨卫星和所述第一低轨卫星之间的运行时间，计算所述第一时间段，包括：根据两个方向的运行时间之和，计算所述第一时间段。可选地，所述根据所述历史活跃信息，预测所述终端设备从进入所述卫星覆盖范围到开始活跃的时间间隔，包括：根据所述历史活跃信息，预测开始活跃的时间；根据所述开始活跃的时间、所述历史活跃信息中的历史活跃时间点，以及所述两个方向的运行时间，计算所述时间间隔。可选地，所述根据所述历史活跃信息，预测开始活跃的时间，包括：采用预设的线性回归模型，对所述历史活跃信息进行处理，预测得到所述开始活跃的时间。第二方面，本发明实施例还提供一种卫星通信装置，应用于网络数据分析功能NWDAF网元，装置包括：获取模块，用于获取终端设备的历史活跃信息、所述终端设备的位置信息以及多个低轨卫星的星历信息；第一确定模块，根据多个所述低轨卫星的星历信息和所述终端设备的位置信息，确定所述终端设备不在卫星覆盖范围内的第一时间段，其中，卫星覆盖范围为多个所述低轨卫星的覆盖范围；预测模块，用于根据所述历史活跃信息，预测所述终端设备从进入所述卫星覆盖范围到开始活跃的时间间隔；第二确定模块，用于根据所述第一时间段和所述时间间隔，确定所述终端设备的用户节能时间；发送模块，用于向所述终端设备发送所述用户节能时间，以使得所述终端设备在所述用户节能时间内关闭信号搜索功能。第三方面，本发明实施例还提供一种网络数据分析功能NWDAF网元，包括：接收器、处理器、发送器；所述接收器、所述处理器、所述发送器通信连接；其中，所述接收器用于获取终端设备的历史活跃信息、终端设备的位置信息以及多个低轨卫星的星历信息；所述处理器用于根据多个低轨卫星的星历信息和终端设备的位置信息，确定终端设备不在卫星覆盖范围内的第一时间段，其中，卫星覆盖范围为多个低轨卫星的覆盖范围；根据历史活跃信息，预测终端设备进入卫星覆盖范围到开始活跃的时间间隔；根据第一时间段和时间间隔，确定终端设备的用户节能时间；所述发送器用于向终端设备发送用户节能时间，以使得终端设备在用户节能时间内关闭信号搜索功能。第四方面，本发明实施例还提供一种计算机可读存储介质，存储介质上存储有计算机程序，计算机程序被处理器运行时执行如第一方面任一所述的卫星通信方法的步骤。本发明提供一种卫星通信方法、装置、网络数据分析功能网元及存储介质，应用于网络数据分析功能NWDAF网元，所述方法包括：获取终端设备的历史活跃信息、所述终端设备的位置信息以及多个低轨卫星的星历信息；根据所述多个低轨卫星的星历信息和所述终端设备的位置信息，确定所述终端设备不在卫星覆盖范围内的第一时间段，其中，所述卫星覆盖范围为所述多个低轨卫星的覆盖范围；根据所述历史活跃信息，预测所述终端设备进入所述卫星覆盖范围到开始活跃的时间间隔；根据所述第一时间段和所述时间间隔，确定所述终端设备的用户节能时间；向所述终端设备发送所述用户节能时间，以使得所述终端设备在所述用户节能时间内关闭信号搜索功能。通过使用这样的方法，可以根据当前终端设备的历史活跃信息以及位置信息，和多个低轨卫星的星历信息，确定出终端设备的用户节能时间并发送给终端设备，避免终端设备在无卫星覆盖的情况下持续进行信号搜索造成的资源浪费，节省终端设备的信号搜索时间，提升终端设备的可靠性和稳定性。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本申请实施例提供的卫星通信方法的一种无线通信系统示意图；图2为本申请实施例提供的一种卫星通信方法的流程示意图；图3为本申请实施例提供的一种计算第一时间段的方法的流程图；图4为本申请实施例提供的又一种计算第一时间段的方法的流程图；图5为本申请实施例提供的另一种计算第一时间段的方法的流程图；图6为本申请实施例提供的一种终端设备与低轨卫星的相对位置示意图；图7为本申请实施例提供的一种计算时间间隔方法的流程示意图；图8为本申请实施例提供的一种卫星通信装置的示意图；图9为本申请实施例提供的一种NWDAF网元的示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。需要说明的是，在不冲突的情况下，本发明的实施例中的特征可以相互结合。在对本发明进行详细地解释之前，先对本发明的应用场景予以介绍。低轨卫星星座通信系统具有全天候全时段和在复杂地形条件下的实时通信能力，与静止轨道卫星通信系统相比，系统具有覆盖范围广、通信容量大、顽存性高、便于实现用户终端小型化、卫星发射灵活等突出特点，目前，是实现全球移动通信无缝覆盖的唯一手段。低轨卫星系统由于高速运动，会出现频繁的没有卫星覆盖的情况，这些情况下，用户持续地进行网络所搜索，会消耗较多的电能，使得终端设备的搜网的成本较高，造成资源的浪费。基于此，本申请提出一种卫星通信方法、装置、网络数据分析功能网元及存储介质，根据当前终端设备的历史活跃信息以及位置信息，和多个低轨卫星的星历信息，确定出终端设备的用户节能时间并发送给终端设备，避免终端设备在无卫星覆盖的情况下持续进行信号搜索造成的资源浪费，节省终端设备的信号搜索时间，提升终端设备的可靠性和稳定性。图1为本申请实施例提供的卫星通信方法的一种通信系统示意图。如图1所示，该通信系统包括：1、终端设备：可以称用户设备、终端、接入终端、用户单元、用户站、移动站、移动台、远方站、远程终端、移动设备、用户终端、无线通信设备、用户代理或用户装置。UE还可以是蜂窝电话、无绳电话、会话启动协议电话、无线本地环路站、个人数字助理、具有无线通信功能的手持设备、计算设备或连接到无线调制解调器的其它处理设备、车载设备、可穿戴设备，5G网络中的终端设备或者未来演进的公用陆地移动通信网络中的终端设备等，还可以是端设备，逻辑实体，智能设备，如手机，智能终端等终端设备，或者服务器，网关，基站，控制器等通信设备，或者物联网设备，如传感器，电表，水表等物联网设备。本申请实施例对此并不限定。2、低轨卫星：。LEO卫星比GEO卫星和MEO卫星离地球更近，可以在环绕地球的圆形或椭圆形轨道上飞行。LEO卫星不会停留在相对于地表的固定位置，每次通过时地面只能看到15到20分钟。LEO卫星由于离地球更近，因此更容易获得更高的分辨率，并且出于同样的原因，发射成本更低，覆盖范围较小。3、核心网：本申请中的核心网包括但不限于第三代移动通信技术核心网、第四代移动通信技术核心网、第五代移动通信技术核心网、第六代移动通信技术核心网等通信系统中的核心网，也可能是其他移动通信网络中的核心网，如，蜂窝移动通信网络中的核心网，也可能是3GPP规范所定义的蜂窝移动通信网络之外的其他网络中的核心网，如Wi-Fi网络或以太网中的核心网等。例如，核心网可以是5G核心网。5G核心网负责对5G网络进行管理和控制，采用开放的服务化架构，将网络功能定义为多个相对独立可被灵活调用的服务模块，任何其他NF或者业务应用都可以通过标准规范的接口访问该NF提供的服务，SBA架构采用超文本传输协议协议完成信令交互，将相同或相似的消息提取出来以应用程序编程接口能力调用的形式封装起来，供其它网元进行访问。一般地，5GC中主要包括接入与移动管理功能网元和会话管理功能网元等。在同一时间端，终端设备可以接入核心网，也可以接入低轨卫星网络，终端设备可以在低轨卫星网络和核心网之间进行切换。图2为本申请实施例提供的一种卫星通信方法的流程示意图。该方法执行主体为网络数据分析功能NWDAF网元，如图2所示，该方法包括：S110，获取终端设备的历史活跃信息、终端设备的位置信息以及多个低轨卫星的星历信息。首先，对NWDAF网元进行解释。在本实施例中，NWDAF是3GPP SA2定义的5G网络中的网络数据分析功能网元，它可以从各个网络功能NF，应用功能，以及运行管理和维护系统收集数据并进行分析和预测。在另外一种可能实现的方式中，NWDAF网元也可以是其他核心网中具有网络数据分析功能的网元，本申请对此不作具体限制。下面使用5G核心网中的NWDAF网元进行解释说明，其他核心网中具有网络数据分析功能的网元实现本卫星通信方法的过程类似，不再赘述。在本实施例中，NWDAF网元部署在核心网中。在NWDAF网元获取得到终端设备的历史活跃信息、终端设备的位置信息以及多个低轨卫星的星历信息之前，需要由终端设备发起业务请求，业务请求指示5G核心网向终端设备发送用户节能时间。当核心网接收到业务请求后，向多个低轨卫星星座发送信息获取星历信息请求，则多个低轨卫星星座将相应的星历信息发送给多个对应的核心网网管，在由多个对应的核心网网管将多个低轨卫星的星历信息分别转发至对应的AMF网元。需要说明的是，每一个低轨卫星星座对应的核心网对应的网管不同，每一个核心网对应的网管接入的AMF网元也不同。多个AMF网元将相应的星历信息发送给NEF网元，再由NEF网元转发将相应的星历信息转发至AF网元，此时AF网元多个低轨卫星的星历信息以及收集到的终端设备历史活跃信息和终端用户的位置信息一起发送至NWDAF网元，至此，NWDAF网元获取得到终端设备的历史活跃信息、终端设备的位置信息以及多个低轨卫星的星历信息。其中，终端设备的历史活跃信息为终端设备在历史时间戳下的是否活跃的信息。低轨卫星的星历信息描述运行轨道的信息，可选地，可为广播星历或精密星历，本申请对此不做具体限制。S120，根据多个低轨卫星的星历信息和终端设备的位置信息，确定终端设备不在卫星覆盖范围内的第一时间段。其中，卫星覆盖范围为多个低轨卫星的覆盖范围。可选地，星历信息可以包括：卫星的飞行轨道、卫星的飞行速度、卫星的高度等各种参数。为了确定出用户节能时间，在本申请中，NWDAF网元可以基于多个卫星的星历信息以及终端设备的位置信息，获取得到终端设备被覆盖的时间和终端设备不在卫星覆盖范围内的第一时间段。S130，根据历史活跃信息，预测终端设备从进入卫星覆盖范围到开始活跃的时间间隔。在本实施例中，NWDAF网元可以根据历史活跃信息，预测得到终端设备进入卫星覆盖范围内到开始活跃的时间间隔。在一种可能的实现方式中，可以采用预设的神经网络模型对历史活跃模型进行训练，得到终端设备在未来时刻的开始活跃的时间，进而得到终端设备在进入卫星覆盖范围到开始活跃的时间间隔。S140，根据第一时间段和时间间隔，确定终端设备的用户节能时间。利用终端设备不在卫星覆盖范围内的第一时间段和终端设备进入卫星覆盖范围到开始活跃的时间间隔，便可以利用预设的计算方法，确定得到终端设备的用户节能时间。S150，向终端设备发送用户节能时间，以使得终端设备在用户节能时间内关闭信号搜索功能。在本实施例中，NWDAF网元可以向先将确定的用户节能时间发送至AMF网元，再由AMF网元将用户节能时间发送至终端设备，以使得终端设备在用户节能时间内关闭信号搜索功能，进行节能。在本实施例中，可以根据当前终端设备的历史活跃信息以及位置信息，和多个低轨卫星的星历信息，确定出终端设备的用户节能时间并发送给终端设备，避免终端设备在无卫星覆盖的情况下持续进行信号搜索造成的资源浪费，节省终端设备的信号搜索时间，提升终端设备的可靠性和稳定性。图3为本申请实施例提供的另一种计算第一时间段的方法的流程图。如图3所示，上述S120中，根据多个低轨卫星的星历信息和终端设备的位置信息，确定终端设备不在卫星覆盖范围内的第一时间段，包括：S210，根据每个低轨卫星的星历信息和终端设备的位置信息，计算每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相较于终端设备的仰角。S220，根据每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相对于终端设备的仰角，计算第一时间段。在本申请中，需要根据每个低轨卫星的星历信息和终端设备的位置信息，分别计算得到每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相较于终端设备的仰角。在一种可能实现方式中，NWDAF网元为了获取每个低轨卫星和终端设备之间的距离，可以直接通过预设的定位系统进行检测，例如GPS等不仅可以获知当前终端设备的地理位置信息，也可以获知终端设备与每个低轨卫星之间的相对位置信息。在另一种可能的实现方式中，NWDAF网元可以根据星历信息获取得到每个低轨卫星的位置信息。得到了每个低轨卫星和终端设备位置信息之后，便可以根据终端设备垂直于水平面的坐标轴，计算得到每个低轨卫星相较于终端设备的仰角。最终NWDAF网元根据每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相对于终端设备的仰角，计算终端设备不在卫星覆盖范围内的第一时间段。图4为本申请实施例提供的又一种计算第一时间段的方法的流程图。如图4所示，上述S210中，根据每个低轨卫星的星历信息和终端设备的位置信息，计算每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相较于终端设备的仰角，包括：S310，根据每个低轨卫星的星历信息，确定每个低轨卫星的位置。可选地，若接收到的星历信息为广播星历，可以根据广播星历直接计算，可以先计算轨道参数，然后根据导航电文给出的摄动参数，进行摄动修正，计算修正后的轨道参数，继而计算轨道卫星在轨道坐标系中的坐标，最终，考虑到地球自转的影响，将轨道坐标系进行转换，如转换为WGS-84坐标系，从而计算低轨卫星在WGS-84坐标系的位置。可选地，若接收到的星历信息为精密星历，那么可以选择预设的时间间隔，用多阶多项式逼近卫星星历，最终得到低轨卫星的位置。本申请对利用星历信息确定每个低轨卫星的位置的具体技术手段不做限制。S320，根据每个低轨卫星的位置和终端设备的位置，计算每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相对于终端设备的仰角。在一种可能的实现方式中，可以建立出每个低轨卫星与终端设备之间的空间几何模型，并根据几何关系参数，计算出每个低轨卫星与终端设备之间的距离以及终端设备相对于每个低轨卫星的仰角。在本实施例中，可以通过计算每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相较于终端设备的仰角，得到第一时间段，为计算用户节能时间进行准备。图5为本申请实施例提供的另一种计算第一时间段的方法的流程图。如图5所示，上述上述S210中，根据每个低轨卫星的星历信息和终端设备的位置信息，计算每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相较于终端设备的仰角，包括：S410，根据多个低轨卫星和终端设备之间的仰角，从多个低轨卫星中，确定两个方向上仰角最大的两个第一低轨卫星。S420，根据终端设备相对于多个低轨卫星的距离，从多个低轨卫星中，确定两个方向上距离最小的两个第二低轨卫星。为了清晰地说明终端设备与低轨卫星之间的关系，本申请还提供了一种终端设备与低轨卫星的相对位置示意图。图6为本申请实施例提供的一种终端设备与低轨卫星的相对位置示意图。如图6所示，包括终端设备和A、B、C、D四个低轨卫星。则对于终端卫星而言，四个低轨卫星与其的相对仰角分别为∠VOA，∠VOB，∠VOC，∠VOD；其中对于∠VOA，∠VOB为逆时针角度的夹角，为负夹角；∠VOC，∠VOD为顺时针角度的夹角，为正夹角。那么，根据多个低轨卫星和终端设备之间的仰角，从多个低轨卫星中，确定两个方向上仰角最大的两个第一低轨卫星，就是从多个低轨卫星中确认仰角绝对值最大的两个第一低轨卫星，即∠VOA和∠VOD对应的低轨卫星为A和D第一低轨卫星。那么，根据终端设备相对于多个低轨卫星的距离，从多个低轨卫星中，确定两个方向上距离最小的两个第二低轨卫星，就是从A、B和C、D中分别确定同一方向上距离终端设备最小的卫星为第二低轨卫星。在本实施例中，若规定OA＝OD＞OB＝OC，那么确定的第二低轨卫星为B和C。S430，根据同一方向的第二低轨卫星和第一低轨卫星之间的运行时间，计算第一时间段。在本实施例中，逆时针方向上第二低轨卫星和第一低轨卫星之间的运行时间为t1；顺时针方向上第二低轨卫星和第一低轨卫星之间的运行时间为t2。可选地，若计算B卫星运行至A卫星的时间为t1，C卫星运行至D卫星的时间为t2，那么，根据t1和t2，计算得到第一时间段。可选地，根据两个方向的运行时间之和，计算第一时间段。在本实施例中，终端设备不在卫星覆盖范围内的第一时间段t＝t1+t2。图7为本申请实施例提供的一种计算时间间隔方法的流程示意图。如图7所示，上述S130中，根据历史活跃信息，预测终端设备从进入卫星覆盖范围到开始活跃的时间间隔，包括：S510，根据历史活跃信息，预测开始活跃的时间。在本实施例中，NWDAF网元可以根据历史活跃信息，预测终端设备在未来时刻的开始活跃的时间。在一种可能的实现方式中，可以采用预设的神经网络模型对历史活跃模型进行训练，得到终端设备在未来时刻的开始活跃的时间。S520，根据开始活跃的时间、历史活跃信息中的历史活跃时间点，以及两个方向的运行时间，计算时间间隔。在本实施例中，若开始活跃的时间为t act；历史活跃信息中的历史活跃时间点为t cur；那么，利用公式计算时间间隔为t3。t3＝t act-)公式可选地，对于用户节能时间total，可以利用公式计算得到；total＝t1+t2+t act-) 公式可选地，上述S510，根据历史活跃信息，预测开始活跃的时间，包括：采用预设的线性回归模型，对历史活跃信息进行处理，预测得到开始活跃的时间。在本实施例中，可以根据预设的线性回归模型，输入历史活跃信息，预测得到开始活跃的时间。在本实施例中，可以根据当前终端设备的历史活跃信息以及位置信息，和多个低轨卫星的星历信息，确定出终端设备的用户节能时间并发送给终端设备，避免终端设备在无卫星覆盖的情况下持续进行信号搜索造成的资源浪费，节省终端设备的信号搜索时间，提升终端设备的可靠性和稳定性。图8为本申请实施例提供的一种卫星通信装置的示意图，该装置可以应用于NWDAF网元，该装置基本原理及产生的技术效果与前述对应的方法实施例相同，为简要描述，本实施例中未提及部分，可参考方法实施例中的相应内容。如图8所示，该卫星通信装置100，可以包括：获取模块1000，用于获取终端设备的历史活跃信息、终端设备的位置信息以及多个低轨卫星的星历信息；第一确定模块2000，根据多个低轨卫星的星历信息和终端设备的位置信息，确定终端设备不在卫星覆盖范围内的第一时间段，其中，卫星覆盖范围为多个低轨卫星的覆盖范围；预测模块3000，用于根据历史活跃信息，预测终端设备从进入卫星覆盖范围到开始活跃的时间间隔；第二确定模块4000，用于根据第一时间段和时间间隔，确定终端设备的用户节能时间；发送模块5000，用于向终端设备发送用户节能时间，以使得终端设备在用户节能时间内关闭信号搜索功能。可选地，第一确定模块2000，具体还用于根据每个低轨卫星的星历信息和终端设备的位置信息，计算每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相对于终端设备的仰角；根据每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相对于终端设备的仰角，计算第一时间段。可选地，第一确定模块2000，具体还用于根据每个低轨卫星的星历信息，确定每个低轨卫星的位置；根据每个低轨卫星的位置和终端设备的位置，计算每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相对于终端设备的仰角。可选地，第一确定模块2000，具体还用于根据多个低轨卫星和终端设备之间的仰角，从多个低轨卫星中，确定两个方向上仰角最大的两个第一低轨卫星；根据终端设备相对于多个低轨卫星的距离，从多个低轨卫星中，确定两个方向上距离最小的两个第二低轨卫星；根据同一方向的第二低轨卫星和第一低轨卫星之间的运行时间，计算第一时间段。可选地，第一确定模块2000，具体还用于根据两个方向的运行时间之和，计算第一时间段。可选地，预测模块3000，具体还用于根据历史活跃信息，预测开始活跃的时间；根据开始活跃的时间、历史活跃信息中的历史活跃时间点，以及两个方向的运行时间，计算时间间隔。可选地，预测模块3000，具体还用于采用预设的线性回归模型，对历史活跃信息进行处理，预测得到开始活跃的时间。上述装置用于执行前述实施例提供的方法，其实现原理和技术效果类似，在此不再赘述。以上这些模块可以是被配置成实施以上方法的一个或多个集成电路，例如：一个或多个特定集成电路，或，一个或多个微处理器，或，一个或者多个现场可编程门阵列等。再如，当以上某个模块通过处理元件调度程序代码的形式实现时，该处理元件可以是通用处理器，例如中央处理器或其它可以调用程序代码的处理器。再如，这些模块可以集成在一起，以片上系统的形式实现。图9为本申请实施例提供的一种NWDAF网元的示意图，如图9所示，该NWDAF网元可以包括：接收器21、处理器22、发送器23；接收器21、处理器22、发送器23通信连接。其中，接收器21用于获取终端设备的历史活跃信息、终端设备的位置信息以及多个低轨卫星的星历信息；处理器22用于根据多个低轨卫星的星历信息和终端设备的位置信息，确定终端设备不在卫星覆盖范围内的第一时间段，其中，卫星覆盖范围为多个低轨卫星的覆盖范围；根据历史活跃信息，预测终端设备进入卫星覆盖范围到开始活跃的时间间隔；根据第一时间段和时间间隔，确定终端设备的用户节能时间；发送器23用于向终端设备发送用户节能时间，以使得终端设备在用户节能时间内关闭信号搜索功能。可选地，处理器22还用于根据每个低轨卫星的星历信息和终端设备的位置信息，计算每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相对于终端设备的仰角；根据每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相对于终端设备的仰角，计算第一时间段。可选地，处理器22还用于根据每个低轨卫星的星历信息，确定每个低轨卫星的位置；根据每个低轨卫星的位置和终端设备的位置，计算每个低轨卫星和终端设备之间的距离，以及每个低轨卫星相对于终端设备的仰角。可选地，处理器22还用于根据多个低轨卫星和终端设备之间的仰角，从多个低轨卫星中，确定两个方向上仰角最大的两个第一低轨卫星；根据终端设备相对于多个低轨卫星的距离，从多个低轨卫星中，确定两个方向上距离最小的两个第二低轨卫星；根据同一方向的第二低轨卫星和第一低轨卫星之间的运行时间，计算第一时间段。可选地，处理器22还用于根据两个方向的运行时间之和，计算第一时间段。可选地，处理器22还用于根据历史活跃信息，预测开始活跃的时间；根据开始活跃的时间、历史活跃信息中的历史活跃时间点，以及两个方向的运行时间，计算时间间隔。可选地，处理器22还用于采用预设的线性回归模型，对历史活跃信息进行处理，预测得到开始活跃的时间。可选地，本申请还提供一种存储介质，存储介质上存储有计算机程序，计算机程序被处理器运行时执行上述方法实施例的步骤。具体实现方式和技术效果类似，这里不再赘述。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能单元的形式实现。上述以软件功能单元的形式实现的集成的单元，可以存储在一个计算机可读取存储介质中。上述软件功能单元存储在一个存储介质中，包括若干指令用以使得一台计算机设备或处理器执行本申请各个实施例方法的部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、物品或者设备中还存在另外的相同要素。以上，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到的变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
