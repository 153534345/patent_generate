标题title
一种应用于云服务的大数据攻击处理方法及系统
摘要abst
本发明涉及人工智能技术，揭露了一种应用于云服务的大数据攻击处理方法，包括：按照拦截时域从云服务的接收数据中筛选出拦截数据，从拦截数据中提取出流量数据、程序数据以及内容数据；从流量数据中检测出攻击事件；从程序数据中检测出恶意代码；对内容数据进行事件挖掘，得到行为事件，对攻击事件、恶意代码以及行为事件进行大数据关联分析，得到关联属性，并从关联属性中提取出攻击特征；根据攻击特征对拦截时域进行更新，返回按照拦截时域对云服务的接收数据进行拦截的步骤，得到标准攻击特征，并根据标准攻击特征对接收数据进行过滤。本发明还提出一种应用于云服务的大数据攻击处理系统。本发明可以提高云服务攻击处理的效率。
权利要求书clms
1.一种应用于云服务的大数据攻击处理方法，其特征在于，所述方法包括：S1：按照拦截时域从云服务的接收数据中筛选出拦截数据，从所述拦截数据中提取出流量数据、程序数据以及内容数据；S2：从所述流量数据中提取出流量特征，根据所述流量特征从所述流量数据中检测出攻击事件；S3：从所述程序数据中提取出代码特征，根据所述代码特征从所述程序数据中检测出恶意代码；S4：对所述内容数据进行事件挖掘，得到行为事件，对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，并从所述关联属性中提取出攻击特征，其中，所述对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，包括：S41：为所述攻击事件添加时间戳，得到攻击事件增量曲线，为所述恶意代码添加时间戳，得到恶意代码增量曲线，为所述行为事件添加时间戳，得到行为事件增量曲线；S42：利用预设时窗对所述攻击事件增量曲线、所述恶意代码增量曲线以及所述行为事件增量曲线进行分段，得到多个时域增量段；S43：逐个选取所述时域增量段作为目标时域段，并利用如下的关联度算法计算出所述目标时域段内的所述攻击事件、所述恶意代码以及所述行为事件之间的事件关联度：其中，C是指所述事件关联度，m是所述预设时窗的总时长，θ是预设的关联度对抗系数，i是指所述预设时窗中的第i时刻，xi是指所述预设时窗中的第i时刻对应的所述攻击事件增量曲线的取值，是指所述预设时窗所对应的所述攻击事件增量曲线的平均值，yi是指所述预设时窗中的第i时刻对应的所述恶意代码增量曲线的取值，是指所述预设时窗所对应的所述恶意代码增量曲线的平均值，zi是指所述预设时窗中的第i时刻对应的所述行为事件增量曲线的取值，是指所述预设时窗所对应的所述行为事件增量曲线的平均值；S44：将所述事件关联度大于预设的关联阈值的目标时域段作为关联时域段，并从所述关联时域段中提取出关联属性；S5：根据所述攻击特征对所述拦截时域进行更新，返回所述按照拦截时域对云服务的接收数据进行拦截的步骤，得到标准攻击特征，并根据所述标准攻击特征对所述接收数据进行过滤。2.如权利要求1所述的应用于云服务的大数据攻击处理方法，其特征在于，所述从所述拦截数据中提取出流量数据、程序数据以及内容数据，包括：对所述拦截数据进行流量监控，得到流量数据；根据数据类型从所述拦截数据中筛选出程序数据；对所述拦截数据进行行为追踪，得到内容数据。3.如权利要求2所述的应用于云服务的大数据攻击处理方法，其特征在于，所述根据数据类型从所述拦截数据中筛选出程序数据，包括：将所述拦截数据拆分为多个数据文件包；逐一选取所述数据文件包作为目标文件包，将所述目标文件包的后缀名作为目标后缀名；判断所述目标后缀名与预设的程序后缀库中的程序后缀名是否匹配；当所述目标后缀名与所述程序后缀名不匹配时，返回所述逐一选取所述数据文件包作为目标文件包的步骤当所述目标后缀名与所述程序后缀名匹配时，将所述目标文件包添加至程序数据中。4.如权利要求1所述的应用于云服务的大数据攻击处理方法，其特征在于，所述从所述流量数据中提取出流量特征，包括：将所述流量数据分为多个数据流，并逐个对所述数据流进行数据溯源，得到通信地址集；逐个对所述通信地址集中的地址进行地址验证，得到伪造地址数量，并根据所述伪造地址数量计算出伪造地址增速；逐个选取所述数据流作为目标数据流，将所述目标数据流的流量大小作为目标流量，并从所述目标数据流中提取出成对数据比例；利用如下的流量增速公式根据所述目标流量和所述成对数据比例计算出所述目标数据流的流量增速：其中，G是指所述流量增速，n是指所述目标流量，D是指所述成对数据比例，T是指所述目标数据流对应的传输时间；从所述目标数据流中提取出流量包数、流量比特数以及流量生存周期；将所有的所述流量增速、所述流量包数、所述流量比特数、所述流量生存周期以及所述伪造地址增速汇集成流量特征。5.如权利要求4所述的应用于云服务的大数据攻击处理方法，其特征在于，所述根据所述流量特征从所述流量数据中检测出攻击事件，包括：逐个选取所述流量数据中的数据流作为目标数据流，将所述目标数据流对应的流量特征作为目标流量特征；从预设的流量特征库中获取出与所述目标流量特征对应的平均流量特征；利用如下的特征偏差算法计算出所述目标流量特征的特征偏差值：其中，V是指所述特征偏差值，α、β、γ、δ、ε是预设的流量特征权重，G是所述目标流量特征中的流量增速，D是所述目标流量特征中的伪造地址增速，p是所述目标流量特征中的流量包数，是所述平均流量特征中的平均流量包数，b是所述目标流量特征中的流量比特数，是所述平均流量特征中的平均流量比特数，l是所述目标流量特征中的流量生存周期，是所述平均流量特征中的平均流量生存周期；判断所述特征偏差值是否大于预设的偏差阈值；当所述特征偏差值小于或等于所述偏差阈值时，返回逐个选取所述流量数据中的数据流作为目标数据流的步骤；当所述特征偏差值大于所述偏差阈值时，将所述目标数据流作为异常数据流，将所述目标数据流对应的事件作为攻击事件。6.如权利要求1所述的应用于云服务的大数据攻击处理方法，其特征在于，所述从所述程序数据中提取出代码特征，包括：将所述程序数据分为多个程序包；逐个选取所述程序包作为目标程序包，对所述目标程序包进行字节码转化，得到目标程序字节码，利用预设的字节滑动窗口对所述目标程序字节码进行字节特征提取，得到字节熵；对所述目标程序包进行字符码转化，得到目标程序字符码，利用预设的字符滑动窗口对所述目标程序字符码进行字符特征提取，得到字符熵；从所述目标程序包中提取出可执行文件头，并对所述可执行文件头进行协议特征提取，得到协议数组；对所述可执行文件头进行数值信息提取，得到编译数值；将所述字节熵、所述字符熵、所述协议数组以及所述编译数值作为所述目标程序包的代码特征。7.如权利要求6所述的应用于云服务的大数据攻击处理方法，其特征在于，所述根据所述代码特征从所述程序数据中检测出恶意代码，包括：逐个选取所述程序数据中的程序包作为目标程序包，对所述目标程序包对应的代码特征进行属性检测，得到程序属性；判断所述程序属性是否为恶意属性；当所述程序属性是恶意属性时，将所述目标程序包作为恶意代码；当所述程序属性不是恶意属性时，从所述目标程序包的开发者备注中提取出开发属性特征，从所述目标程序包的包名中提取出名称属性特征，并从所述程序属性中提取出程序属性特征；利用如下的可疑度公式根据所述开发属性特征、所述名称属性特征以及所述程序属性特征计算所述目标程序包的可疑度：其中，A是指所述可疑度，ω是预设的可疑度对抗系数，arccos是反余弦函数，P是指所述程序属性特征，K是指所述开发属性特征，N是指所述名称属性特征；判断所述可疑度是否大于预设的可疑阈值；当所述可疑度大于所述可疑阈值时，将所述目标程序包作为恶意代码；当所述可疑度小于或等于所述可疑阈值时，返回所述逐个选取所述程序数据中的程序包作为目标程序包的步骤。8.一种应用于云服务的大数据攻击处理系统，其特征在于，所述系统包括：数据分类模块，用于按照拦截时域从云服务的接收数据中筛选出拦截数据，从所述拦截数据中提取出流量数据、程序数据以及内容数据；攻击事件模块，用于从所述流量数据中提取出流量特征，根据所述流量特征从所述流量数据中检测出攻击事件；恶意代码模块，用于从所述程序数据中提取出代码特征，根据所述代码特征从所述程序数据中检测出恶意代码；关联分析模块，用于对所述内容数据进行事件挖掘，得到行为事件，对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，并从所述关联属性中提取出攻击特征，其中，所述对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，包括：为所述攻击事件添加时间戳，得到攻击事件增量曲线，为所述恶意代码添加时间戳，得到恶意代码增量曲线，为所述行为事件添加时间戳，得到行为事件增量曲线；利用预设时窗对所述攻击事件增量曲线、所述恶意代码增量曲线以及所述行为事件增量曲线进行分段，得到多个时域增量段；逐个选取所述时域增量段作为目标时域段，并利用如下的关联度算法计算出所述目标时域段内的所述攻击事件、所述恶意代码以及所述行为事件之间的事件关联度：其中，C是指所述事件关联度，m是所述预设时窗的总时长，θ是预设的关联度对抗系数，i是指所述预设时窗中的第i时刻，xi是指所述预设时窗中的第i时刻对应的所述攻击事件增量曲线的取值，是指所述预设时窗所对应的所述攻击事件增量曲线的平均值，yi是指所述预设时窗中的第i时刻对应的所述恶意代码增量曲线的取值，是指所述预设时窗所对应的所述恶意代码增量曲线的平均值，zi是指所述预设时窗中的第i时刻对应的所述行为事件增量曲线的取值，是指所述预设时窗所对应的所述行为事件增量曲线的平均值；将所述事件关联度大于预设的关联阈值的目标时域段作为关联时域段，并从所述关联时域段中提取出关联属性；攻击处理模块，用于根据所述攻击特征对所述拦截时域进行更新，返回所述按照拦截时域对云服务的接收数据进行拦截的步骤，得到标准攻击特征，并根据所述标准攻击特征对所述接收数据进行过滤。
说明书desc
技术领域本发明涉及人工智能技术领域，尤其涉及一种应用于云服务的大数据攻击处理方法及系统。背景技术随着计算机技术的发展，大数据时代的来临，人们对于云服务的需求也越来越大，为了提升云服务的安全性，保障云服务的工作效率，需要建设云服务数据处理系统，以处理针对云服务的数据攻击。现有的云服务攻击处理技术多为单一的基于流量分析的攻击数据检测，进而针对性的拦截。例如，基于云服务的session异常检测，检索到异常数据的发送IP，根据发送IP进而实现定向拦截，实际应用中，云服务的数据信息种类较多，攻击程序的隐蔽性较高，仅对流量进行单一分析，可能导致攻击检测的识别度较低，数据分析速度较慢，从而导致对云服务进行攻击处理时的效率较低。发明内容本发明提供一种应用于云服务的大数据攻击处理方法及系统，其主要目的在于解决对云服务进行攻击处理时的效率较低的问题。为实现上述目的，本发明提供的一种应用于云服务的大数据攻击处理方法，包括：按照拦截时域从云服务的接收数据中筛选出拦截数据，从所述拦截数据中提取出流量数据、程序数据以及内容数据；从所述流量数据中提取出流量特征，根据所述流量特征从所述流量数据中检测出攻击事件；从所述程序数据中提取出代码特征，根据所述代码特征从所述程序数据中检测出恶意代码；对所述内容数据进行事件挖掘，得到行为事件，对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，并从所述关联属性中提取出攻击特征；根据所述攻击特征对所述拦截时域进行更新，返回所述按照拦截时域对云服务的接收数据进行拦截的步骤，得到标准攻击特征，并根据所述标准攻击特征对所述接收数据进行过滤。可选地，所述从所述拦截数据中提取出流量数据、程序数据以及内容数据，包括：对所述拦截数据进行流量监控，得到流量数据；根据数据类型从所述拦截数据中筛选出程序数据；对所述拦截数据进行行为追踪，得到内容数据。可选地，所述根据数据类型从所述拦截数据中筛选出程序数据，包括：将所述拦截数据拆分为多个数据文件包；逐一选取所述数据文件包作为目标文件包，将所述目标文件包的后缀名作为目标后缀名；判断所述目标后缀名与预设的程序后缀库中的程序后缀名是否匹配；当所述目标后缀名与所述程序后缀名不匹配时，返回所述逐一选取所述数据文件包作为目标文件包的步骤当所述目标后缀名与所述程序后缀名匹配时，将所述目标文件包添加至程序数据中。可选地，所述从所述流量数据中提取出流量特征，包括：将所述流量数据分为多个数据流，并逐个对所述数据流进行数据溯源，得到通信地址集；逐个对所述通信地址集中的地址进行地址验证，得到伪造地址数量，并根据所述伪造地址数量计算出伪造地址增速；逐个选取所述数据流作为目标数据流，将所述目标数据流的流量大小作为目标流量，并从所述目标数据流中提取出成对数据比例；利用如下的流量增速公式根据所述目标流量和所述成对数据比例计算出所述目标数据流的流量增速：其中，G是指所述流量增速，n是指所述目标流量，D是指所述成对数据比例，T是指所述目标数据流对应的传输时间；从所述目标数据流中提取出流量包数、流量比特数以及流量生存周期；将所有的所述流量增速、所述流量包数、所述流量比特数、所述流量生存周期以及所述伪造地址增速汇集成流量特征。可选地，所述根据所述流量特征从所述流量数据中检测出攻击事件，包括：逐个选取所述流量数据中的数据流作为目标数据流，将所述目标数据流对应的流量特征作为目标流量特征；从预设的流量特征库中获取出与所述目标流量特征对应的平均流量特征；利用如下的特征偏差算法计算出所述目标流量特征的特征偏差值：其中，V是指所述特征偏差值，α、β、γ、δ、ε是预设的流量特征权重，G是所述目标流量特征中的流量增速，D是所述目标流量特征中的伪造地址增速，p是所述目标流量特征中的流量包数，是所述平均流量特征中的平均流量包数，b是所述目标流量特征中的流量比特数，是所述平均流量特征中的平均流量比特数，l是所述目标流量特征中的流量生存周期，是所述平均流量特征中的平均流量生存周期；判断所述特征偏差值是否大于预设的偏差阈值；当所述特征偏差值小于或等于所述偏差阈值时，返回逐个选取所述流量数据中的数据流作为目标数据流的步骤；当所述特征偏差值大于所述偏差阈值时，将所述目标数据流作为异常数据流，将所述目标数据流对应的事件作为攻击事件。可选地，所述从所述程序数据中提取出代码特征，包括：将所述程序数据分为多个程序包；逐个选取所述程序包作为目标程序包，对所述目标程序包进行字节码转化，得到目标程序字节码，利用预设的字节滑动窗口对所述目标程序字节码进行字节特征提取，得到字节熵；对所述目标程序包进行字符码转化，得到目标程序字符码，利用预设的字符滑动窗口对所述目标程序字符码进行字符特征提取，得到字符熵；从所述目标程序包中提取出可执行文件头，并对所述可执行文件头进行协议特征提取，得到协议数组；对所述可执行文件头进行数值信息提取，得到编译数值；将所述字节熵、所述字符熵、所述协议数组以及所述编译数值作为所述目标程序包的代码特征。可选地，所述根据所述代码特征从所述程序数据中检测出恶意代码，包括：逐个选取所述程序数据中的程序包作为目标程序包，对所述目标程序包对应的代码特征进行属性检测，得到程序属性；判断所述程序属性是否为恶意属性；当所述程序属性是恶意属性时，将所述目标程序包作为恶意代码；当所述程序属性不是恶意属性时，从所述目标程序包的开发者备注中提取出开发属性特征，从所述目标程序包的包名中提取出名称属性特征，并从所述程序属性中提取出程序属性特征；利用如下的可疑度公式根据所述开发属性特征、所述名称属性特征以及所述程序属性特征计算所述目标程序包的可疑度：其中，A是指所述可疑度，ω是预设的可疑度对抗系数，arccos是反余弦函数，P是指所述程序属性特征，K是指所述开发属性特征，N是指所述名称属性特征；判断所述可疑度是否大于预设的可疑阈值；当所述可疑度大于所述可疑阈值时，将所述目标程序包作为恶意代码；当所述可疑度小于或等于所述可疑阈值时，返回所述逐个选取所述程序数据中的程序包作为目标程序包的步骤。为了解决上述问题，本发明还提供一种应用于云服务的大数据攻击处理系统，所述系统包括：数据分类模块，用于按照拦截时域从云服务的接收数据中筛选出拦截数据，从所述拦截数据中提取出流量数据、程序数据以及内容数据；攻击事件模块，用于从所述流量数据中提取出流量特征，根据所述流量特征从所述流量数据中检测出攻击事件；恶意代码模块，用于从所述程序数据中提取出代码特征，根据所述代码特征从所述程序数据中检测出恶意代码；关联分析模块，用于对所述内容数据进行事件挖掘，得到行为事件，对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，并从所述关联属性中提取出攻击特征；攻击处理模块，用于根据所述攻击特征对所述拦截时域进行更新，返回所述按照拦截时域对云服务的接收数据进行拦截的步骤，得到标准攻击特征，并根据所述标准攻击特征对所述接收数据进行过滤。本发明实施例通过从所述拦截数据中提取出流量数据、程序数据以及内容数据，能够从三个方向对拦截数据进行安全检测，并方便后续根据这三个方向上安全检测结果之间的关联性找到隐藏的攻击数据，提高了攻击数据的识别率；通过从所述流量数据中提取出流量特征，根据所述流量特征从所述流量数据中检测出攻击事件，能够根据流量数据的异常波动对检测出攻击事件，对数据攻击进行初筛，通过从所述程序数据中提取出代码特征，省去了执行程序数据的步骤，节省了检测恶意代码的时间。通过利用属性检测和可疑度判定从所述程序数据中检测出恶意代码能够提高恶意代码检测的识别率，提高恶意代码的检测精度，通过对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，并从所述关联属性中提取出攻击特征，可以有效地将流量、用户行为以及恶意程序之间的行为事件进行关联分析，加快了大数据处理的速度，也提高攻击处理的效率，通过根据所述攻击特征对所述拦截时域进行更新，得到标准攻击特征，能够根据初次检测的结果调整检测的周期时长，保证了攻击检测全面性以及适用性，提高了攻击处理的效率。因此本发明提出的应用于云服务的大数据攻击处理方法及系统，可以解决对云服务进行攻击处理时的效率较低的问题。附图说明图1为本发明一实施例提供的应用于云服务的大数据攻击处理方法的流程示意图；图2为本发明一实施例提供的提取流量特征的流程示意图；图3为本发明一实施例提供的进行大数据关联分析的流程示意图；图4为本发明一实施例提供的应用于云服务的大数据攻击处理系统的系统架构图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。本申请实施例提供一种应用于云服务的大数据攻击处理方法。所述应用于云服务的大数据攻击处理方法的执行主体包括但不限于服务端、终端等能够被配置为执行本申请实施例提供的该方法的电子设备中的至少一种。换言之，所述应用于云服务的大数据攻击处理方法可以由安装在终端设备或服务端设备的软件或硬件来执行，所述软件可以是区块链平台。所述服务端包括但不限于：单台服务器、服务器集群、云端服务器或云端服务器集群等。所述服务器可以是独立的服务器，也可以是提供云服务、云数据库、云计算、云函数、云存储、网络服务、云通信、中间件服务、域名服务、安全服务、内容分发网络、以及大数据和人工智能平台等基础云计算服务的云服务器。参照图1所示，为本发明一实施例提供的应用于云服务的大数据攻击处理方法的流程示意图。在本实施例中，所述应用于云服务的大数据攻击处理方法包括：S1、按照拦截时域从云服务的接收数据中筛选出拦截数据，从所述拦截数据中提取出流量数据、程序数据以及内容数据。本发明实施例中，所述拦截时域是指拦截的时间长短。详细地，所述云服务是指云计算服务，即可以拿来作为服务提供使用的云计算产品，包括云主机、云空间、云开发、云测试和综合类产品等。本发明实施例中，所述按照拦截时域从云服务的接收数据中筛选出拦截数据是指从所述接收数据中截取出与所述拦截时域的时长相对应的数据作为拦截数据。详细地，所述流量数据是指所述拦截数据中云服务进行网络通信时产生的通信数据的信息，包括流量大小、通信的IP地址，通信时长等数据。具体地，所述程序数据是指所述拦截数据中与程序有关的信息，例如软件的安装包、应用程序代码等数据。详细地，所述内容数据是指所述拦截数据的网络结构数据以及内容数据等，例如图片、视频，网页信息等数据。本发明实施例中，所述从所述拦截数据中提取出流量数据、程序数据以及内容数据，包括：对所述拦截数据进行流量监控，得到流量数据；根据数据类型从所述拦截数据中筛选出程序数据；对所述拦截数据进行行为追踪，得到内容数据。详细地，可以利用网络多重路由流量显示器或嗅探器等流量监控软件实时对所述拦截数据进行流量监控，得到流量数据。本发明实施例中，所述根据数据类型从所述拦截数据中筛选出程序数据，包括：将所述拦截数据拆分为多个数据文件包；逐一选取所述数据文件包作为目标文件包，将所述目标文件包的后缀名作为目标后缀名；判断所述目标后缀名与预设的程序后缀库中的程序后缀名是否匹配；当所述目标后缀名与所述程序后缀名不匹配时，返回所述逐一选取所述数据文件包作为目标文件包的步骤当所述目标后缀名与所述程序后缀名匹配时，将所述目标文件包添加至程序数据中。具体地，所述程序后缀库是包含各种程序后缀名称的字符集，其中，所述程序后缀名包括java、exe以及apk等字符。具体地，所述行为追踪是指从所述拦截数据中提取出行为日志，从而得到内容数据。本发明实施例中，通过从所述拦截数据中提取出流量数据、程序数据以及内容数据，能够从三个方向对拦截数据进行安全检测，并方便后续根据这三个方向上安全检测结果之间的关联性找到隐藏的攻击数据，提高了攻击数据的识别率。S2、从所述流量数据中提取出流量特征，根据所述流量特征从所述流量数据中检测出攻击事件。本发明实施例中，参照图2所示，所述从所述流量数据中提取出流量特征，包括：S21、将所述流量数据分为多个数据流，并逐个对所述数据流进行数据溯源，得到通信地址集；S22、逐个对所述通信地址集中的地址进行地址验证，得到伪造地址数量，并根据所述伪造地址数量计算出伪造地址增速；S23、逐个选取所述数据流作为目标数据流，将所述目标数据流的流量大小作为目标流量，并从所述目标数据流中提取出成对数据比例；S24、利用如下的流量增速公式根据所述目标流量和所述成对数据比例计算出所述目标数据流的流量增速：其中，G是指所述流量增速，n是指所述目标流量，D是指所述成对数据比例，T是指所述目标数据流对应的传输时间；S25、从所述目标数据流中提取出流量包数、流量比特数以及流量生存周期；S26、将所有的所述流量增速、所述流量包数、所述流量比特数、所述流量生存周期以及所述伪造地址增速汇集成流量特征。详细地，可以通过ping连通或通信日志等方法对所述数据流进行数据溯源，得到通信地址集。具体地，所述根据所述伪造地址数量计算出伪造地址增速是指将所述伪造地址数量除以所述目标数据流对应的传输时间。详细地，所述流量包数是指所述目标数据流的数据包的个数。本发明实施例中，通过利用所述流量增速公式根据所述目标流量和所述成对数据比例计算出所述目标数据流的流量增速，能够提出因为通信失败导致的重复接收数据，从而更加准确地反映流量的趋势图。详细地，所述根据所述流量特征从所述流量数据中检测出攻击事件，包括：逐个选取所述流量数据中的数据流作为目标数据流，将所述目标数据流对应的流量特征作为目标流量特征；从预设的流量特征库中获取出与所述目标流量特征对应的平均流量特征；利用如下的特征偏差算法计算出所述目标流量特征的特征偏差值：其中，V是指所述特征偏差值，α、β、γ、δ、ε是预设的流量特征权重，G是所述目标流量特征中的流量增速，D是所述目标流量特征中的伪造地址增速，p是所述目标流量特征中的流量包数，是所述平均流量特征中的平均流量包数，b是所述目标流量特征中的流量比特数，是所述平均流量特征中的平均流量比特数，l是所述目标流量特征中的流量生存周期，是所述平均流量特征中的平均流量生存周期；判断所述特征偏差值是否大于预设的偏差阈值；当所述特征偏差值小于或等于所述偏差阈值时，返回逐个选取所述流量数据中的数据流作为目标数据流的步骤；当所述特征偏差值大于所述偏差阈值时，将所述目标数据流作为异常数据流，将所述目标数据流对应的事件作为攻击事件。详细地，所述流量特征库中包括由大数据查询到的与目标数据流相似数据流的平均流量特征。详细地，所述流量特征权重是预先由多个异常流量测试实验中训练得到的。本发明实施例中，通过利用所述特征偏差算法计算出所述目标流量特征的特征偏差值，可以从多个维度检测出流量的异常情况，提高攻击事件的查询成功率。本发明实施例中，通过从所述流量数据中提取出流量特征，根据所述流量特征从所述流量数据中检测出攻击事件，能够根据流量数据的异常波动对检测出攻击事件，对数据攻击进行初筛。S3、从所述程序数据中提取出代码特征，根据所述代码特征从所述程序数据中检测出恶意代码。本发明实施例中，所述从所述程序数据中提取出代码特征，包括：将所述程序数据分为多个程序包；逐个选取所述程序包作为目标程序包，对所述目标程序包进行字节码转化，得到目标程序字节码，利用预设的字节滑动窗口对所述目标程序字节码进行字节特征提取，得到字节熵；对所述目标程序包进行字符码转化，得到目标程序字符码，利用预设的字符滑动窗口对所述目标程序字符码进行字符特征提取，得到字符熵；从所述目标程序包中提取出可执行文件头，并对所述可执行文件头进行协议特征提取，得到协议数组；对所述可执行文件头进行数值信息提取，得到编译数值；将所述字节熵、所述字符熵、所述协议数组以及所述编译数值作为所述目标程序包的代码特征。具体地，所述字符码转化是指将所述目标程序包转化为ASCII码格式的文件。详细地，所述可执行文件头是指文件头。具体地，所述对所述可执行文件头进行协议特征提取，得到协议数组是指对所述可执行文件头的信息技术协议表单中的文件名和函数名进行哈希化处理，并根据哈希化处理的结果组成协议数组。详细地，所述对所述可执行文件头进行数值信息提取，得到编译数值可以是将所述可执行文件头中的编译时间等数值信息提取出来，组成时间戳等信息。详细地，所述根据所述代码特征从所述程序数据中检测出恶意代码，包括：逐个选取所述程序数据中的程序包作为目标程序包，对所述目标程序包对应的代码特征进行属性检测，得到程序属性；判断所述程序属性是否为恶意属性；当所述程序属性是恶意属性时，将所述目标程序包作为恶意代码；当所述程序属性不是恶意属性时，从所述目标程序包的开发者备注中提取出开发属性特征，从所述目标程序包的包名中提取出名称属性特征，并从所述程序属性中提取出程序属性特征；利用如下的可疑度公式根据所述开发属性特征、所述名称属性特征以及所述程序属性特征计算所述目标程序包的可疑度：其中，A是指所述可疑度，ω是预设的可疑度对抗系数，arccos是反余弦函数，P是指所述程序属性特征，K是指所述开发属性特征，N是指所述名称属性特征；判断所述可疑度是否大于预设的可疑阈值；当所述可疑度大于所述可疑阈值时，将所述目标程序包作为恶意代码；当所述可疑度小于或等于所述可疑阈值时，返回所述逐个选取所述程序数据中的程序包作为目标程序包的步骤。具体地，可以利用预先训练的二分类的卷积神经网络对所述目标程序包对应的代码特征进行属性检测，得到程序属性。详细地，所述从所述目标程序包的开发者备注中提取出开发属性特征是指从所述开发者备注中提取出关键词，并将所述关键词进行词向量转化，得到开发属性特征。具体地，所述从所述目标程序包的包名中提取出名称属性特征的方法与所述从所述目标程序包的开发者备注中提取出开发属性特征的方法一致，这里不再赘述。具体地，所述从所述程序属性中提取出程序属性特征的方法与所述从所述目标程序包的开发者备注中提取出开发属性特征的方法一致，这里不再赘述。本发明实施例中，通过从所述程序数据中提取出代码特征，省去了执行程序数据的步骤，节省了检测恶意代码的时间，通过利用属性检测和可疑度判定从所述程序数据中检测出恶意代码能够提高恶意代码检测的识别率，提高恶意代码的检测精度。S4、对所述内容数据进行事件挖掘，得到行为事件，对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，并从所述关联属性中提取出攻击特征。本发明实施例中，所述对所述内容数据进行事件挖掘，得到行为事件，包括：对所述内容数据进行数据清洗，得到标准内容数据；从所述标准内容数据中提取出修改事件和异常事件，将所述修改事件和所述异常事件汇集成行为事件。详细地，可以通过调用系统的API历史记录从所述标准内容数据中提取出修改事件和异常事件。详细地，参照图3所示，所述对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，包括：S41、为所述攻击事件添加时间戳，得到攻击事件增量曲线，为所述恶意代码添加时间戳，得到恶意代码增量曲线，为所述行为事件添加时间戳，得到行为事件增量曲线；S42、利用预设时窗对所述攻击事件增量曲线、所述恶意代码增量曲线以及所述行为事件增量曲线进行分段，得到多个时域增量段；S43、逐个选取所述时域增量段作为目标时域段，并利用如下的关联度算法计算出所述目标时域段内的所述攻击事件、所述恶意代码以及所述行为事件之间的事件关联度：其中，C是指所述事件关联度，m是所述预设时窗的总时长，θ是预设的关联度对抗系数，i是指所述预设时窗中的第i时刻，xi是指所述预设时窗中的第i时刻对应的所述攻击事件增量曲线的取值，是指所述预设时窗所对应的所述攻击事件增量曲线的平均值，yi是指所述预设时窗中的第i时刻对应的所述恶意代码增量曲线的取值，是指所述预设时窗所对应的所述恶意代码增量曲线的平均值，zi是指所述预设时窗中的第i时刻对应的所述行为事件增量曲线的取值，是指所述预设时窗所对应的所述行为事件增量曲线的平均值；S44、将所述事件关联度大于预设的关联阈值的目标时域段作为关联时域段，并从所述关联时域段中提取出关联属性。本发明实施例中，通过并利用所述关联度算法计算出所述目标时域段内的所述攻击事件、所述恶意代码以及所述行为事件之间的事件关联度，能够表征出所述攻击事件、所述恶意代码以及所述行为事件之间的活跃度关系。具体地，所述从所述关联时域段中提取出关联属性是指从所述关联是语段对应的攻击事件中提取出攻击强度属性，从所述关联是语段对应的恶意代码中提取出攻击类型属性，从所述关联是语段对应的行为事件中提取出攻击行为属性。详细地，所述并从所述关联时域段中提取出关联属性的方法与上述步骤S3中的所述从所述目标程序包的开发者备注中提取出开发属性特征的方法一致，这里不再赘述。详细地，所述从所述关联属性中提取出攻击特征是指对所述关联属性的攻击强度属性、攻击类型属性以及攻击行为属性进行时域特征分析，得到攻击特征。具体地，所述对所述关联属性的攻击强度属性、攻击类型属性以及攻击行为属性进行时域特征分析，得到攻击特征是指根据所述攻击类型属性以及所述攻击行为属性预测出当前拦截时域所对应的预测攻击强度属性，将所述攻击强度属性与所述预测攻击强度属性之间的差值作为攻击时域特征，从所述攻击类型属性中提取出攻击类型特征，从所述攻击行为属性中提取出攻击行为特征，将攻击时域特征、攻击类型特征以及攻击行为特征汇集成攻击特征。本发明实施例中，通过对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，并从所述关联属性中提取出攻击特征，可以有效地将流量、用户行为以及恶意程序之间的行为事件进行关联分析，加快了大数据处理的速度，也提高攻击处理的效率。S5、根据所述攻击特征对所述拦截时域进行更新，返回所述按照拦截时域对云服务的接收数据进行拦截的步骤，得到标准攻击特征，并根据所述标准攻击特征对所述接收数据进行过滤。本发明实施例中，所述根据所述攻击特征对所述拦截时域进行更新是指根据所述攻击特征中的攻击时域特征对所述拦截时域的时长进行调整。详细地，所述根据所述标准攻击特征对所述接收数据进行过滤是指将所述标准攻击特征添加到预设的安全分析特征库中，并对所述标准攻击特征对应的数据进行拦截。本发明实施例中，通过根据所述攻击特征对所述拦截时域进行更新，得到标准攻击特征，能够根据初次检测的结果调整检测的周期时长，保证了攻击检测全面性以及适用性，提高了攻击处理的效率。本发明实施例通过从所述拦截数据中提取出流量数据、程序数据以及内容数据，能够从三个方向对拦截数据进行安全检测，并方便后续根据这三个方向上安全检测结果之间的关联性找到隐藏的攻击数据，提高了攻击数据的识别率；通过从所述流量数据中提取出流量特征，根据所述流量特征从所述流量数据中检测出攻击事件，能够根据流量数据的异常波动对检测出攻击事件，对数据攻击进行初筛，通过从所述程序数据中提取出代码特征，省去了执行程序数据的步骤，节省了检测恶意代码的时间。通过利用属性检测和可疑度判定从所述程序数据中检测出恶意代码能够提高恶意代码检测的识别率，提高恶意代码的检测精度，通过对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，并从所述关联属性中提取出攻击特征，可以有效地将流量、用户行为以及恶意程序之间的行为事件进行关联分析，加快了大数据处理的速度，也提高攻击处理的效率，通过根据所述攻击特征对所述拦截时域进行更新，得到标准攻击特征，能够根据初次检测的结果调整检测的周期时长，保证了攻击检测全面性以及适用性，提高了攻击处理的效率。因此本发明提出的应用于云服务的大数据攻击处理方法，可以解决对云服务进行攻击处理时的效率较低的问题。如图4所示，是本发明一实施例提供的应用于云服务的大数据攻击处理系统的系统架构图。本发明所述应用于云服务的大数据攻击处理系统100可以安装于电子设备中。根据实现的功能，所述应用于云服务的大数据攻击处理系统100可以包括数据分类模块101、攻击事件模块102、恶意代码模块103、关联分析模块104及攻击处理模块105。本发明所述模块也可以称之为单元，是指一种能够被电子设备处理器所执行，并且能够完成固定功能的一系列计算机程序段，其存储在电子设备的存储器中。在本实施例中，关于各模块/单元的功能如下：所述数据分类模块101，用于按照拦截时域从云服务的接收数据中筛选出拦截数据，从所述拦截数据中提取出流量数据、程序数据以及内容数据；所述攻击事件模块102，用于从所述流量数据中提取出流量特征，根据所述流量特征从所述流量数据中检测出攻击事件；所述恶意代码模块103，用于从所述程序数据中提取出代码特征，根据所述代码特征从所述程序数据中检测出恶意代码；所述关联分析模块104，用于对所述内容数据进行事件挖掘，得到行为事件，对所述攻击事件、所述恶意代码以及所述行为事件进行大数据关联分析，得到关联属性，并从所述关联属性中提取出攻击特征；所述攻击处理模块105，用于根据所述攻击特征对所述拦截时域进行更新，返回所述按照拦截时域对云服务的接收数据进行拦截的步骤，得到标准攻击特征，并根据所述标准攻击特征对所述接收数据进行过滤。详细地，本发明实施例中所述应用于云服务的大数据攻击处理系统100中所述的各模块在使用时采用与上述图1至图3中所述的应用于云服务的大数据攻击处理方法一样的技术手段，并能够产生相同的技术效果，这里不再赘述。在本发明所提供的几个实施例中，应该理解到，所揭露的方法和系统，可以通过其它的方式实现。例如，以上所描述的系统的实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。所述作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能模块的形式实现。对于本领域技术人员而言，显然本发明不限于上述示范性实施例的细节，而且在不背离本发明的精神或基本特征的情况下，能够以其他的具体形式实现本发明。因此，无论从哪一点来看，均应将实施例看作是示范性的，而且是非限制性的，本发明的范围由所附权利要求而不是上述说明限定，因此旨在将落在权利要求的等同要件的含义和范围内的所有变化涵括在本发明内。不应将权利要求中的任何附关联图标记视为限制所涉及的权利要求。本申请实施例可以基于人工智能技术对相关的数据进行获取和处理。其中，人工智能是利用数字计算机或者数字计算机控制的机器模拟、延伸和扩展人的智能，感知环境、获取知识并使用知识获得最佳结果的理论、方法、技术及应用系统。此外，显然“包括”一词不排除其他单元或步骤，单数不排除复数。系统权利要求中陈述的多个单元或装置也可以由一个单元或装置通过软件或者硬件来实现。第一、第二等词语用来表示名称，而并不表示任何特定的顺序。最后应说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，可以对本发明的技术方案进行修改或等同替换，而不脱离本发明技术方案的精神和范围。
