标题title
谐波补偿系统、方法及光伏逆变器、存储介质、芯片
摘要abst
本发明公开了一种谐波补偿系统、方法及光伏逆变器、存储介质、芯片，系统包括：采集单元，用于采集光伏逆变器所在电力系统的电流数据；电能计量单元，与采集单元连接，用于根据电流数据计算谐波数据；数字信号处理单元，与电能计量单元连接，用于根据谐波数据确定需要补偿的调制波，记为目标调制波，并根据目标调制波和预设三角波生成脉冲信号；补偿单元，与数字信号处理单元连接，用于根据脉冲信号对光伏逆变器中的功率管进行控制，以使光伏逆变器实现谐波补偿。该系统解决未来电力系统大面积谐波补偿的难题，提高了谐波补偿的精度，降低了谐波补偿的成本。
权利要求书clms
1.一种谐波补偿系统，其特征在于，所述系统包括：采集单元，用于采集光伏逆变器所在电力系统的电流数据；电能计量单元，与所述采集单元连接，用于根据所述电流数据计算谐波数据；数字信号处理单元，与所述电能计量单元连接，用于根据所述谐波数据确定需要补偿的调制波，记为目标调制波，并根据所述目标调制波和预设三角波生成脉冲信号；补偿单元，与所述数字信号处理单元连接，用于根据所述脉冲信号对所述光伏逆变器中的功率管进行控制，以使所述光伏逆变器实现谐波补偿。2.根据权利要求1所述的谐波补偿系统，其特征在于，所述电流数据包括负载电流和电网电流，所述采集单元包括负载电流互感器、电网电流互感器和切换单元，所述负载电流互感器用于采集所述光伏逆变器所接负载的负载电流，所述电网电流互感器用于采集所述光伏逆变器所接电网的电网电流；所述切换单元与所述负载电流互感器、所述电网电流互感器和所述电能计量单元分别连接，用于将所述负载电流或者所述电网电流提供给所述电能计量单元进行谐波数据计算。3.根据权利要求2所述的谐波补偿系统，其特征在于，所述系统还包括：调理电路单元，与所述切换单元和所述电能计量单元分别连接，用于根据所述电能计量单元的输入要求，对所述切换单元输出的电流数据进行变换，以适配所述电能计量单元。4.根据权利要求3所述的谐波补偿系统，其特征在于，所述谐波数据包括：各次谐波的电流有效值、各次谐波的电流角度偏差值及相应谐波次数。5.根据权利要求4所述的谐波补偿系统，其特征在于，所述数字信号处理单元包括依次连接的谐波分析子单元、谐波设定子单元、调制波形成子单元和脉冲生成子单元；所述谐波分析子单元，用于将所述各次谐波的电流有效值和各次谐波的电流阈值进行比较；所述谐波设定子单元，用于根据比较结果确定目标谐波；所述调制波形成子单元，用于生成各所述目标谐波的电流角度值，根据各所述目标谐波的电流有效值、电流角度值和电流角度偏差值生成所述目标调制波；所述脉冲生成子单元，用于根据所述目标调制波和所述预设三角波生成脉冲信号。6.根据权利要求5所述的谐波补偿系统，其特征在于，所述脉冲生成子单元用于：在所述目标调制波的瞬时值大于所述预设三角波的瞬时值时，输出高电平；在所述目标调制波的瞬时值小于所述预设三角波的瞬时值时，输出低电平。7.根据权利要求5所述的谐波补偿系统，其特征在于，所述补偿单元包括驱动单元，所述驱动单元与所述脉冲生成子单元连接，还用以连接所述功率管的控制端；所述驱动单元用于对所述脉冲信号进行电平转换，并将电平转换后的脉冲信号提供给所述功率管。8.根据权利要求3所述的谐波补偿系统，其特征在于，所述采集单元还包括逆变器电流互感器和电压互感器，所述逆变器电流互感器用于采集所述逆变器的本体电流，所述电压互感器用于采集所述光伏逆变器所在电力系统电压数据；所述电能计量单元还通过所述调理电路单元分别与所述逆变器电流互感器和所述电压互感器连接，还用于根据所述负载电流、所述电网电流、所述本体电流和所述电压数据，计算所述光伏逆变器所在电力系统的监测数据，其中，所述监测数据至少包括有功功率、电能、无功功率、视在功率、电压有效值、电流有效值中至少一者；所述谐波数据至少包括谐波有功功率、谐波无功功率、谐波视在功率、谐波电压有效值、谐波电流有效值、谐波含有率、谐波次数中至少一者。9.根据权利要求8所述的谐波补偿系统，其特征在于，所述数字信号处理单元还包括：通信子单元，包括第一通信模块，所述第一通信模块与所述电能计量单元连接，用于将所述光伏逆变器所在电力系统的监测数据和谐波数据发送至远程监控系统，以在所述远程监控系统显示所述光伏逆变器所在电力系统的监测数据和谐波数据。10.根据权利要求9所述的谐波补偿系统，其特征在于，所述系统还包括本地显示单元，所述通信子单元还包括第二通信模块，所述第二通信模块分别与所述电能计量单元、所述本地显示单元连接，用于将所述光伏逆变器所在电力系统的监测数据和谐波数据发送至所述本地显示单元，以在所述本地显示单元显示所述光伏逆变器所在电力系统的监测数据和谐波数据。11.一种光伏逆变器，其特征在于，包括如权利要求1-10中任一项所述的谐波补偿系统。12.一种谐波补偿方法，其特征在于，所述方法包括：获取光伏逆变器所在电力系统的电流数据；根据所述电流数据计算谐波数据；根据所述谐波数据确定需要补偿的调制波，记为目标调制波，并根据所述目标调制波和预设三角波生成脉冲信号；根据所述脉冲信号对所述光伏逆变器中的功率管进行控制，以使所述光伏逆变器实现谐波补偿。13.根据权利要求12所述的谐波补偿方法，其特征在于，所述谐波数据包括：各次谐波的电流有效值、各次谐波的电流角度偏差值及相应谐波次数。14.根据权利要求13所述的谐波补偿方法，其特征在于，根据所述谐波数据确定需要补偿的调制波，记为目标调制波，并根据所述目标调制波和预设三角波生成脉冲信号，包括：将所述各次谐波的电流有效值和各次谐波的电流阈值进行比较；根据比较结果确定目标谐波；生成各所述目标谐波的电流角度值，根据各所述目标谐波的电流有效值、电流角度值和电流角度偏差值生成所述目标调制波；根据所述目标调制波和所述预设三角波生成脉冲信号。15.根据权利要求14所述的谐波补偿方法，其特征在于，根据所述目标调制波和所述预设三角波生成脉冲信号，包括：在所述目标调制波的瞬时值大于所述预设三角波的瞬时值时，输出高电平；在所述目标调制波的瞬时值小于所述预设三角波的瞬时值时，输出低电平。16.根据权利要求15所述的谐波补偿方法，其特征在于，根据所述脉冲信号对所述光伏逆变器中的功率管进行控制，包括：对所述脉冲信号进行电平转换，并将电平转换后的脉冲信号提供给所述功率管。17.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时，实现如权利要求12-16中任一项所述的谐波补偿方法。18.一种芯片，其特征在于，适于与电能计量单元连接，用于根据谐波数据确定需要补偿的调制波，记为目标调制波，并根据所述目标调制波和预设三角波生成脉冲信号，以根据所述脉冲信号对光伏逆变器中的功率管进行控制，使所述光伏逆变器实现谐波补偿；其中，所述谐波数据由所述电能计量单元根据所述光伏逆变器所在电力系统的电流数据计算得到。
说明书desc
技术领域本发明涉及谐波补偿技术领域，尤其涉及一种谐波补偿系统、方法及光伏逆变器、存储介质、芯片。背景技术随着国民经济和电力电子技术的发展，电力系统中大量的电力电子用电和发电设备的应用，导致现在电力系统的谐波污染日益严重，谐波已经对电力设备产生不能忽略的影响。相关谐波补偿主要采用SVC、SVG、APF等电能质量治理设备用来解决系统中的谐波问题。但由于SVC、SVG和APF成本太高，无法大面积推广。开发出具有谐波补偿的低成本的装置势在必行。发明内容本发明旨在至少在一定程度上解决相关技术中的技术问题之一。为此，本发明的一个目的在于提出一种谐波补偿系统，解决未来电力系统大面积谐波补偿的难题，提高了谐波补偿的精度，降低了谐波补偿的成本。本发明的第二个目的在于提出一种光伏逆变器。本发明的第三个目的在于提出一种谐波补偿方法。本发明的第四个目的在于提出一种计算机可读存储介质。本发明的第五个目的在于提出一种芯片。为达到上述目的，本发明第一方面实施例提出一种谐波补偿系统，所述系统包括：采集单元，用于采集光伏逆变器所在电力系统的电流数据；电能计量单元，与所述采集单元连接，用于根据所述电流数据计算谐波数据；数字信号处理单元，与所述电能计量单元连接，用于根据所述谐波数据确定需要补偿的调制波，记为目标调制波，并根据所述目标调制波和预设三角波生成脉冲信号；补偿单元，与所述数字信号处理单元连接，用于根据所述脉冲信号对所述光伏逆变器中的功率管进行控制，以使所述光伏逆变器实现谐波补偿。根据本发明实施例的谐波补偿系统，利用电能计量单元根据采集单元采集到的电流数据计算光伏逆变器所在电力系统中的谐波数据。利用数字信号处理单元根据电能计量单元计算出的谐波数据实现复杂的谐波补偿算法，并输出脉冲信号，补偿单元根据脉冲信号对光伏逆变器中的功率管进行控制，以使光伏逆变器实现对光伏逆变器所在电力系统的谐波补偿。解决了光伏逆变器很难实现精确的谐波补偿功能的难题，极大地降低了谐波补偿的成本，提高了谐波补偿的实时性能、准确性和补偿精度。另外，根据本发明上述实施例提出的谐波补偿系统还可以具有如下附加的技术特征：根据本发明的一个实施例，所述电流数据包括负载电流和电网电流，所述采集单元包括负载电流互感器、电网电流互感器和切换单元，所述负载电流互感器用于采集所述光伏逆变器所接负载的负载电流，所述电网电流互感器用于采集所述光伏逆变器所接电网的电网电流；所述切换单元与所述负载电流互感器、所述电网电流互感器和所述电能计量单元分别连接，用于将所述负载电流或者所述电网电流提供给所述电能计量单元进行谐波数据计算。根据本发明的一个实施例，所述系统还包括：调理电路单元，与所述切换单元和所述电能计量单元分别连接，用于根据所述电能计量单元的输入要求，对所述切换单元输出的电流数据进行变换，以适配所述电能计量单元。根据本发明的一个实施例，所述谐波数据包括：各次谐波的电流有效值、各次谐波的电流角度偏差值及相应谐波次数。根据本发明的一个实施例，所述数字信号处理单元包括依次连接的谐波分析子单元、谐波设定子单元、调制波形成子单元和脉冲生成子单元；所述谐波分析子单元，用于将所述各次谐波的电流有效值和各次谐波的电流阈值进行比较；所述谐波设定子单元，用于根据比较结果确定目标谐波；所述调制波形成子单元，用于生成各所述目标谐波的电流角度值，根据各所述目标谐波的电流有效值、电流角度值和电流角度偏差值生成所述目标调制波；所述脉冲生成子单元，用于根据所述目标调制波和所述预设三角波生成脉冲信号。根据本发明的一个实施例，所述脉冲生成子单元用于：在所述目标调制波的瞬时值大于所述预设三角波的瞬时值时，输出高电平；在所述目标调制波的瞬时值小于所述预设三角波的瞬时值时，输出低电平。根据本发明的一个实施例，所述补偿单元包括驱动单元，所述驱动单元与所述脉冲生成子单元连接，还用以连接所述功率管的控制端；所述驱动单元用于对所述脉冲信号进行电平转换，并将电平转换后的脉冲信号提供给所述功率管。根据本发明的一个实施例，所述采集单元还包括逆变器电流互感器和电压互感器，所述逆变器电流互感器用于采集所述逆变器的本体电流，所述电压互感器用于采集所述光伏逆变器所在电力系统电压数据；所述电能计量单元还通过所述调理电路单元分别与所述逆变器电流互感器和所述电压互感器连接，还用于根据所述负载电流、所述电网电流、所述本体电流和所述电压数据，计算所述光伏逆变器所在电力系统的监测数据，其中，所述监测数据至少包括有功功率、电能、无功功率、视在功率、电压有效值、电流有效值中至少一者；所述谐波数据至少包括谐波有功功率、谐波无功功率、谐波视在功率、谐波电压有效值、谐波电流有效值、谐波含有率、谐波次数中至少一者。根据本发明的一个实施例，所述数字信号处理单元还包括：通信子单元，包括第一通信模块，所述第一通信模块与所述电能计量单元连接，用于将所述光伏逆变器所在电力系统的监测数据和谐波数据发送至远程监控系统，以在所述远程监控系统显示所述光伏逆变器所在电力系统的监测数据和谐波数据。根据本发明的一个实施例，所述系统还包括本地显示单元，所述通信子单元还包括第二通信模块，所述第二通信模块分别与所述电能计量单元、所述本地显示单元连接，用于将所述光伏逆变器所在电力系统的监测数据和谐波数据发送至所述本地显示单元，以在所述本地显示单元显示所述光伏逆变器所在电力系统的监测数据和谐波数据。为达到上述目的，本发明第二方面实施例提出了一种光伏逆变器，包括如本发明第一方面实施例提出的谐波补偿系统。为达到上述目的，本发明第三方面实施例提出了一种谐波补偿方法，所述方法包括：获取光伏逆变器所在电力系统的电流数据；根据所述电流数据计算谐波数据；根据所述谐波数据确定需要补偿的调制波，记为目标调制波，并根据所述目标调制波和预设三角波生成脉冲信号；根据所述脉冲信号对所述光伏逆变器中的功率管进行控制，以使所述光伏逆变器实现谐波补偿。为达到上述目的，本发明第四方面实施例提出了一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时，实现如本发明第三方面实施例提出的谐波补偿方法。为达到上述目的，本发明第五方面实施例提出了一种芯片，适于与电能计量单元连接，用于根据谐波数据确定需要补偿的调制波，记为目标调制波，并根据所述目标调制波和预设三角波生成脉冲信号，以根据所述脉冲信号对光伏逆变器中的功率管进行控制，使所述光伏逆变器实现谐波补偿；其中，所述谐波数据由所述电能计量单元根据所述光伏逆变器所在电力系统的电流数据计算得到。附图说明图1是本发明一个实施例的光伏逆变器所在电力系统的示意图；图2是本发明一个实施例的谐波补偿系统的示意图；图3是本发明一个实施例的光伏逆变器的示意图；图4是本发明一个实施例的谐波补偿方法的流程图；图5是本发明一个实施例的生成脉冲信号的流程图。具体实施方式下面详细描述本发明的实施例，所述实施例的示例在附图中示出，其中自始至终相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施例是示例性的，旨在用于解释本发明，而不能理解为对本发明的限制。随着能源危机和环境污染问题日益严重，以光伏发电为代表的新能源发电技术得到广泛应用。光伏逆变器将要成为未来发电系统的主要发电形式。而开发具有谐波补偿的低成本的装置势在必行。因此，本发明实施例根据未来发电系统的发展形势，提供一种谐波补偿系统、方法及光伏逆变器、存储介质、芯片，以极大的解决未来电力系统大面积谐波补偿的难题，提高了谐波补偿的精度，降低了谐波补偿的成本。下面结合说明书附图1-5以及具体的实施方式对本发明实施例的谐波补偿系统、方法及光伏逆变器、存储介质、芯片进行详细说明。图1是本发明一个实施例的光伏逆变器所在电力系统的示意图。如图1所示，光伏逆变器所在电力系统包括光伏逆变器和与其连接的电网电力系统、负载电力系统。光伏逆变器与光伏阵列连接，光伏阵列用以将太阳能转为直流电，光伏逆变器用以将光伏阵列产生的直流电转换为交流电，以为负载电力系统和/或电网电力系统提供电能。图2是本发明一个实施例的谐波补偿系统的示意图。如图2所示，谐波补偿系统可包括：采集单元，用于采集光伏逆变器所在电力系统的电流数据；电能计量单元，与采集单元连接，用于根据电流数据计算谐波数据；数字信号处理单元，与电能计量单元连接，用于根据谐波数据确定需要补偿的调制波，记为目标调制波，并根据目标调制波和预设三角波生成脉冲信号；补偿单元，与数字信号处理单元连接，用于根据脉冲信号对光伏逆变器中的功率管进行控制，以使光伏逆变器实现谐波补偿。为治理光伏逆变器所在电力系统中的谐波污染，本发明实施例设置采集单元采集光伏逆变器所在电力系统的电流数据。利用具备实时谐波测量功能的电能计量单元根据采集到的电流数据计算光伏逆变器所在电力系统中的谐波数据。设置数字信号处理单元在根据电能计量单元计算出的谐波数据确定需要补偿的调制波后，根据该调制波和预设三角波生成脉冲信号，并将其生成的脉冲信号输入补偿单元，补偿单元根据脉冲信号对光伏逆变器中的功率管进行控制，以使光伏逆变器实现对光伏逆变器所在电力系统的谐波补偿。具体地，在治理光伏逆变器所连接负载电力系统中的谐波污染时，可利用采集单元采集负载电力系统的负载电流，电能计量单元根据负载电流计算负载电力系统中的谐波数据，数字信号处理单元根据负载电力系统中的谐波数据确定负载电力系统需要补偿的调制波后，并根据该调制波和预设三角波生成脉冲信号。数字信号处理单元将其生成的脉冲信号输入补偿单元，补偿单元根据脉冲信号对光伏逆变器中的功率管进行控制，以使光伏逆变器实现对其所连接负载电力系统的谐波补偿。具体地，在治理光伏逆变器所连接电网电力系统中的谐波污染时，可利用采集单元采集电网电力系统的电网电流，电能计量单元根据电网电流计算电网电力系统中的谐波数据，数字信号处理单元根据电网电力系统中的谐波数据确定电网电力系统需要补偿的调制波后，并根据该调制波和预设三角波生成脉冲信号。数字信号处理单元将其生成的脉冲信号输入补偿单元，补偿单元根据脉冲信号对光伏逆变器中的功率管进行控制，以使光伏逆变器实现对电网电力系统的谐波补偿。需要说明的是，本发明实施例中的电能计量单元具备实时谐波测量功能，其可根据采集单元采集到的负载电流或电网电流，计算出负载电力系统或电网电力系统中的谐波数据。本发明实施例设置具备实时谐波测量功能的电能计量单元，使光伏逆变器具备实时谐波测量的功能。在本发明的一个实施例中，电流数据包括负载电流和电网电流，采集单元包括负载电流互感器、电网电流互感器和切换单元，负载电流互感器用于采集光伏逆变器所接负载的负载电流，电网电流互感器用于采集光伏逆变器所接电网的电网电流；切换单元与负载电流互感器、电网电流互感器和电能计量单元分别连接，用于将负载电流或者电网电流提供给电能计量单元进行谐波数据计算。具体地，可设置负载电流互感器采集光伏逆变器所接负载的负载电流。可设置电网电流互感器采集光伏逆变器所接电网的电网电流。可根据光伏逆变器所需要补偿的电力系统，是补偿负载电力系统中的谐波，还是补偿电网电力系统中的谐波，控制切换单元将对应的电流提供给电能计量单元进行对应电力系统的谐波数据计算。具体地，当需要光伏逆变器补偿负载电力系统中的谐波时，控制切换单元将负载电流提供给电能计量单元，电能计量单元根据负载电流计算出负载电力系统中的谐波数据，从而根据谐波数据对负载电力系统进行谐波补偿。当需要光伏逆变器补偿电网电力系统中的谐波时，控制切换单元将电网电流提供给电能计量单元，电能计量单元根据电网电流计算出电网电力系统中的谐波数据，从而根据谐波数据对电网电力系统进行谐波补偿。在本发明的一个实施例中，谐波补偿系统还包括：调理电路单元，与切换单元和电能计量单元分别连接，用于根据电能计量单元的输入要求，对切换单元输出的电流数据进行变换，以适配电能计量单元。由于电流互感器采集到的电流较大，不符合电能计量单元的输入要求，在利用电能计量单元根据负载电流互感器采集的负载电流或者电网电流互感器采集的电网电流计算负载电力系统或电网电力系统中的谐波数据时，需对负载电流互感器采集的负载电流和电网电流互感器采集的电网电流进行适当变换。具体地，根据电能计量单元的输入要求，将负载电流或者电网电流变换成与电能计量单元中AD采集单元适配的信号。电能计量单元以根据变换后的负载电流或者电网电流计算负载电力系统或电网电力系统中的谐波数据。在本发明的一个实施例中，谐波数据包括：各次谐波的电流有效值、各次谐波的电流角度偏差值及相应谐波次数。当提供给电能计量单元的电流数据为负载电流时，电能计量单元基于负载电流计算负载电力系统中的各次谐波的电流有效值、各次谐波的电流角度偏差值及相应谐波次数。当提供给电能计量单元的电流数据为电网电流时，电能计量单元基于电网电流计算电网电力系统中的各次谐波的电流有效值、各次谐波的电流角度偏差值及相应谐波次数。在本发明的一个实施例中，数字信号处理单元包括依次连接的谐波分析子单元、谐波设定子单元、调制波形成子单元和脉冲生成子单元；谐波分析子单元，用于将各次谐波的电流有效值和各次谐波的电流阈值进行比较；谐波设定子单元，用于根据比较结果确定目标谐波；调制波形成子单元，用于生成各目标谐波的电流角度值，根据各目标谐波的电流有效值、电流角度值和电流角度偏差值生成目标调制波；脉冲生成子单元，用于根据目标调制波和预设三角波生成脉冲信号。为提高谐波补偿的准确性和补偿精度，本发明实施例利用谐波分析子单元分析电能计量单元所输出的各次谐波的电流有效值大小，将各次谐波的电流有效值和预设的各次谐波的电流阈值进行比较，确定光伏逆变器需要补偿的谐波次数。若某次谐波的电流有效值大于预设的该次谐波的电流阈值，则确定光伏逆变器需对该次谐波电流进行补偿。谐波设定子单元根据谐波分析子单元的比较结果，确定目标谐波。调制波形成子单元生成各目标谐波的电流角度值，并根据各目标谐波的电流有效值、电流角度值和电流角度偏差值生成目标调制波，并将该目标调制波发送给脉冲生成子单元。脉冲生成子单元根据目标调制波和预设三角波生成脉冲信号。本发明实施例利用具备实时谐波测量功能的电能计量单元所计算出来的实时的各次电流谐波的有效值和电流角度偏差值作为调制波中的谐波补偿部分，使光伏逆变器具备了实时高精度的谐波补偿功能。作为一具体地示例，谐波分析子单元对比分析各次谐波的电流有效值时，比较出7次谐波、13次谐波、19次谐波、25次谐波和31次谐波的电流有效值大于预设的对应次谐波的电流阈值，则确定7次谐波、13次谐波、19次谐波、25次谐波和31次谐波超标。谐波设定子单元根据谐波分析子单元输出的比较结果确定7次谐波、13次谐波、19次谐波、25次谐波和31次谐波为目标谐波，调制波形成子单元生成各目标谐波的电流角度值，并根据目标谐波的电流有效值、电流角度值和电流角度偏差值生成目标调制波，以对7次谐波、13次谐波、19次谐波、25次谐波和31次谐波进行滤除。具体地，调制波形成子单元根据谐波设定子单元确定的7次谐波、13次谐波、19次谐波、25次谐波和31次谐波，从电能计量单元提供的谐波数据中提取出对应基波和需要补偿的各次谐波的电流有效值、/＞、/＞、/＞、/＞、/＞，余弦基本电流角度值、/＞、/＞、/＞、/＞、/＞，电流角度偏差值、/＞、/＞、/＞、/＞、/＞。调制波形成子单元根据如下调制波计算公式计算目标调制波：其中，为目标调制波，/＞为基波补偿调制波，/＞为挑选出来需要补偿的7次电流的调制波，为挑选出来需要补偿的13次电流的调制波，为挑选出来需要补偿的19次电流的调制波，为挑选出来需要补偿的25次电流的调制波，为挑选出来需要补偿的31次电流的调制波。调制波形成子单元生成上述目标调制波，并将该目标调制波/＞发送给脉冲生成子单元。脉冲生成子单元以根据目标调制波/＞和预设三角波生成脉冲信号，以对负载电力系统或电网电力系统进行谐波补偿。在本发明的一个实施例中，脉冲生成子单元用于：在目标调制波的瞬时值大于预设三角波的瞬时值时，输出高电平；在目标调制波的瞬时值小于预设三角波的瞬时值时，输出低电平。具体地，在目标调制波的瞬时值大于预设三角波的瞬时值时，脉冲生成子单元输出高电平，在目标调制波的瞬时值小于预设三角波的瞬时值时，脉冲生成子单元输出低电平。在本发明的一个实施例中，补偿单元包括驱动单元，驱动单元与脉冲生成子单元连接，还用以连接功率管的控制端；驱动单元用于对脉冲信号进行电平转换，并将电平转换后的脉冲信号提供给功率管。由于脉冲生成子单元输出的脉冲信号的高低电平不足以驱动功率管开闭，对负载电力系统或电网电力系统进行谐波补偿时，本发明实施例利用驱动单元对脉冲信号进行电平转换，使电平转换后的脉冲信号可以驱动给功率管，功率管根据电平转换后的脉冲信号进行开闭，实现对负载电力系统或电网电力系统进行谐波补偿。在本发明的一个实施例中，采集单元还包括逆变器电流互感器和电压互感器，逆变器电流互感器用于采集逆变器的本体电流，电压互感器用于采集光伏逆变器所在电力系统电压数据；电能计量单元还通过调理电路单元分别与逆变器电流互感器和电压互感器连接，还用于根据负载电流、电网电流、本体电流和电压数据，计算光伏逆变器所在电力系统的监测数据，其中，监测数据至少包括有功功率、电能、无功功率、视在功率、电压有效值、电流有效值中至少一者；谐波数据至少包括谐波有功功率、谐波无功功率、谐波视在功率、谐波电压有效值、谐波电流有效值、谐波含有率、谐波次数中至少一者。为了解光伏逆变器所在电力系统的电力情况，本发明实施例还设置逆变器电流互感器、电压互感器。利用逆变器电流互感器采集逆变器的本体电流，电压互感器采集光伏逆变器所在电力系统电压数据。以利用电能计量单元根据负载电流和电压数据，计算负载的有功功率、电能、无功功率、视在功率、电压有效值、电流有效值。利用电能计量单元根据电网电流和电压数据，计算电网的有功功率、电能、无功功率、视在功率、电压有效值、电流有效值。利用电能计量单元根据本体电流和电压数据，计算光伏逆变器的有功功率、电能、无功功率、视在功率、电压有效值、电流有效值。在本发明的实施例中，电能计量单元还可以根据负载电流和电压数据，或电网电流和电压数据计算负载电力系统或电网电力系统中的谐波有功功率、谐波无功功率、谐波视在功率、谐波电压有效值、谐波电流有效值、谐波含有率、谐波次数中至少一者。本发明实施例通过设置逆变器电流互感器、负载电流互感器和系统电流互感器，使光伏逆变器同时具备计量逆变自身的电能、逆变器所连负载电力系统的电能和电网电力系统电能的能力。在本发明的一个实施例中，数字信号处理单元还包括：通信子单元，包括第一通信模块，第一通信模块与电能计量单元连接，用于将光伏逆变器所在电力系统的监测数据和谐波数据发送至远程监控系统，以在远程监控系统显示光伏逆变器所在电力系统的监测数据和谐波数据。具体地，第一通信模块将电能计量单元计算得到的光伏逆变器所在电力系统的监测数据和谐波数据发送至远程监控系统，远程监控系统显示光伏逆变器所在电力系统的监测数据和谐波数据，以便工作人员了解当前光伏逆变器所在电力系统的运行情况。在本发明的一个实施例中，系统还包括本地显示单元，通信子单元还包括第二通信模块，第二通信模块分别与电能计量单元、本地显示单元连接，用于将光伏逆变器所在电力系统的监测数据和谐波数据发送至本地显示单元，以在本地显示单元显示光伏逆变器所在电力系统的监测数据和谐波数据。具体地，第二通信模块将电能计量单元计算得到的光伏逆变器所在电力系统的监测数据和谐波数据发送本地显示单元，本地显示单元显示光伏逆变器所在电力系统的监测数据和谐波数据，以便工作人员了解当前光伏逆变器所在电力系统的运行情况。本发明实施例的谐波补偿系统，解决了光伏逆变器很难实现精确的谐波补偿功能的难题，利用数字信号处理芯片加上具备实时谐波测量功能计量芯片实现复杂的谐波补偿算法，极大地降低了谐波补偿的成本，提高了谐波补偿的实时性能、准确性和补偿精度。本发明提供一种光伏逆变器。图3是本发明一个实施例的光伏逆变器的示意图。如图3所示，光伏逆变器200包括如上述的谐波补偿系统100。本发明实施例的光伏逆变器，具备电能计量功能和实时谐波测量功能，解决了光伏逆变器很难实现精确的谐波补偿功能的难题，极大地降低了谐波补偿的成本，提高了谐波补偿的实时性能、准确性和补偿精度。基于上述谐波补偿系统，本发明提供一种谐波补偿方法。图4是本发明一个实施例的谐波补偿方法的流程图。如图4所示，谐波补偿方法可包括：S101，获取光伏逆变器所在电力系统的电流数据。具体地，光伏逆变器所在电力系统包括光伏逆变器和与其连接的电网电力系统、负载电力系统。根据光伏逆变器所需要补偿的电力系统，是补偿负载电力系统中的谐波，还是补偿电网电力系统中的谐波，从设置的负载电流互感器获取光伏逆变器所接负载的负载电流，从设置的电网电流互感器获取光伏逆变器所接电网的电网电流。S102，根据电流数据计算谐波数据。当需要光伏逆变器补偿负载电力系统中的谐波时，可利用电能计量单元根据负载电流计算出负载电力系统中的谐波数据，从而根据谐波数据对负载电力系统进行谐波补偿。当需要光伏逆变器补偿电网电力系统中的谐波时，可利用电能计量单元根据电网电流计算出电网电力系统中的谐波数据，从而根据谐波数据对电网电力系统进行谐波补偿。需要说明的是，本发明实施例中的电能计量单元具备实时谐波测量功能，可根据获取到的负载电流或电网电流，计算出负载电力系统或电网电力系统中的谐波数据。在本发明一实施例中，谐波数据包括：各次谐波的电流有效值、各次谐波的电流角度偏差值及相应谐波次数。当提供给电能计量单元的电流数据为负载电流时，电能计量单元基于负载电流计算负载电力系统中的各次谐波的电流有效值、各次谐波的电流角度偏差值及相应谐波次数。当提供给电能计量单元的电流数据为电网电流时，电能计量单元基于电网电流计算电网电力系统中的各次谐波的电流有效值、各次谐波的电流角度偏差值及相应谐波次数。S103，根据谐波数据确定需要补偿的调制波，记为目标调制波，并根据目标调制波和预设三角波生成脉冲信号。在本发明一实施例中，如图5所示，根据谐波数据确定需要补偿的调制波，记为目标调制波，并根据目标调制波和预设三角波生成脉冲信号，包括：S201，将各次谐波的电流有效值和各次谐波的电流阈值进行比较；S202，根据比较结果确定目标谐波；S203，生成各目标谐波的电流角度值，根据各目标谐波的电流有效值、电流角度值和电流角度偏差值生成目标调制波；S204，根据目标调制波和预设三角波生成脉冲信号。为提高谐波补偿的准确性和补偿精度，本发明实施例利用谐波分析子单元分析电能计量单元所输出的各次谐波的电流有效值大小，将各次谐波的电流有效值和预设的各次谐波的电流阈值进行比较，确定光伏逆变器需要补偿的谐波次数。若某次谐波的电流有效值大于预设的该次谐波的电流阈值，则确定光伏逆变器需对该次谐波电流进行补偿。谐波设定子单元根据谐波分析子单元的比较结果，确定目标谐波。调制波形成子单元生成各目标谐波的电流角度值，根据各目标谐波的电流有效值、电流角度值和电流角度偏差值生成目标调制波，并将该目标调制波发送给脉冲生成子单元。脉冲生成子单元根据目标调制波和预设三角波生成脉冲信号。本发明实施例利用具备实时谐波测量功能的电能计量单元所计算出来的实时的各次电流谐波的有效值和电流角度偏差值作为调制波中的谐波补偿部分，使光伏逆变器具备了实时高精度的谐波补偿功能。在本发明一实施例中，根据目标调制波和预设三角波生成脉冲信号，包括：在目标调制波的瞬时值大于预设三角波的瞬时值时，输出高电平；在目标调制波的瞬时值小于预设三角波的瞬时值时，输出低电平。具体地，在目标调制波的瞬时值大于预设三角波的瞬时值时，脉冲生成子单元输出高电平，在目标调制波的瞬时值小于预设三角波的瞬时值时，脉冲生成子单元输出低电平。S104，根据脉冲信号对光伏逆变器中的功率管进行控制，以使光伏逆变器实现谐波补偿。在本发明一实施例中，根据脉冲信号对光伏逆变器中的功率管进行控制，以使光伏逆变器实现谐波补偿，包括：对脉冲信号进行电平转换，并将电平转换后的脉冲信号提供给功率管。由于脉冲生成子单元输出的脉冲信号的高低电平不足以驱动功率管开闭，对负载电力系统或电网电力系统进行谐波补偿时，可利用驱动单元对脉冲信号进行电平转换，使电平转换后的脉冲信号可以驱动给功率管，功率管根据电平转换后的脉冲信号进行开闭，以对负载电力系统或电网电力系统进行谐波补偿。需要说明的是，本发明实施例提供的谐波补偿方法的其他具体实施方式可参见本发明上述实施例的谐波补偿系统的其他具体实施方式。本发明实施例的谐波补偿方法，提高了光伏逆变器所在系统的谐波补偿的实时性能、准确性和补偿精度。本发明提供一种计算机可读存储介质。在该实施例中，计算机可读存储介质上存储有计算机程序，计算机程序被处理器执行时，实现如上述的谐波补偿方法。本发明实施例的计算机可读存储介质，基于上述谐波补偿方法，提高了光伏逆变器所在系统的谐波补偿的实时性能、准确性和补偿精度。本发明提供一种芯片。在该实施例中，芯片适于与电能计量单元连接，用于根据谐波数据确定需要补偿的调制波，记为目标调制波，并根据目标调制波和预设三角波生成脉冲信号，以根据脉冲信号对光伏逆变器中的功率管进行控制，使光伏逆变器实现谐波补偿；其中，谐波数据由电能计量单元根据光伏逆变器所在电力系统的电流数据计算得到。需要说明的是，本发明实施例的芯片可实现上述谐波补偿系统中数字信号处理单元的功能。在此不对谐波补偿系统中数字信号处理单元的功能进行赘述。在本发明的实施例中，电流数据包括负载电流和电网电流，当电能计量单元根据光伏逆变器所在电力系统的负载电流计算谐波数据时，该芯片生成对负载电力系统进行谐波补偿的脉冲信号。当电能计量单元根据光伏逆变器所在电力系统的电网电流计算谐波数据时，该芯片生成对电网电力系统进行谐波补偿的脉冲信号。本发明实施例的芯片与具备实时谐波测量功能的电能计量单元连接，利用电能计量单元根据光伏逆变器所在电力系统的负载电流或电网电流计算谐波数据，生成对光伏逆变器所在负载电力系统或电网电力系统进行谐波补偿的脉冲信号。将该芯片应用于光伏逆变器时，可利用驱动单元对脉冲信号进行电平转换，使电平转换后的脉冲信号可以驱动给功率管，功率管根据电平转换后的脉冲信号进行开闭，实现对负载电力系统或电网电力系统进行谐波补偿。将该芯片应用于光伏逆变器提高了光伏逆变器所在系统的谐波补偿的实时性能、准确性和补偿精度。需要说明的是，在流程图中表示或在此以其他方式描述的逻辑和/或步骤，例如，可以被认为是用于实现逻辑功能的可执行指令的定序列表，可以具体实现在任何计算机可读介质中，以供指令执行系统、装置或设备使用，或结合这些指令执行系统、装置或设备而使用。就本说明书而言，“计算机可读介质”可以是任何可以包含、存储、通信、传播或传输程序以供指令执行系统、装置或设备或结合这些指令执行系统、装置或设备而使用的装置。计算机可读介质的更具体的示例包括以下：具有一个或多个布线的电连接部，便携式计算机盘盒，随机存取存储器，只读存储器，可擦除可编辑只读存储器，光纤装置，以及便携式光盘只读存储器。另外，计算机可读介质甚至可以是可在其上打印所述程序的纸或其他合适的介质，因为可以例如通过对纸或其他介质进行光学扫描，接着进行编辑、解译或必要时以其他合适方式进行处理来以电子方式获得所述程序，然后将其存储在计算机存储器中。应当理解，本发明的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件或固件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或他们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列，现场可编程门阵列等。在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。在本发明的描述中，需要理解的是，术语“中心”、“纵向”、“横向”、“长度”、“宽度”、“厚度”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”“内”、“外”、“顺时针”、“逆时针”、“轴向”、“径向”、“周向”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。在本发明的描述中，“多个”的含义是至少两个，例如两个，三个等，除非另有明确具体的限定。在本发明中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”、“固定”等术语应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或成一体；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通或两个元件的相互作用关系，除非另有明确的限定。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明中的具体含义。在本发明中，除非另有明确的规定和限定，第一特征在第二特征“上”或“下”可以是第一和第二特征直接接触，或第一和第二特征通过中间媒介间接接触。而且，第一特征在第二特征“之上”、“上方”和“上面”可是第一特征在第二特征正上方或斜上方，或仅仅表示第一特征水平高度高于第二特征。第一特征在第二特征“之下”、“下方”和“下面”可以是第一特征在第二特征正下方或斜下方，或仅仅表示第一特征水平高度小于第二特征。尽管上面已经示出和描述了本发明的实施例，可以理解的是，上述实施例是示例性的，不能理解为对本发明的限制，本领域的普通技术人员在本发明的范围内可以对上述实施例进行变化、修改、替换和变型。
