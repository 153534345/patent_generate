标题title
一种电池快速充电状态检测装置及方法
摘要abst
本发明提供一种电池快速充电状态检测装置及方法，用线端接线端子增加外接旁路电路来控制三极管，三极管再控制PMOS管的通断，通过PMOS管的通断决定电池和充电电源的通断，当充电电源和电池断路时，带有电压检测功能的CPU通过备电电压检测电路检测到正常的电池电压，PMOS管自动断开充电电源和电池的连接；当充电电源和电池连接时PMOS管自动导通充电电源和电池的连接，通过两个分压电阻连接电池电压，两个分压电阻中间连接到中央处理器的一个IO接口，通过软件根据单片机IO接口电平高低，判断充电电源和电池是否脱落。
权利要求书clms
1.一种电池快速充电状态检测装置，其特征在于，包括电池充电和脱落检测电路模块以及充电电池模块；其中，所述电池充电和脱落检测电路模块包括输入电源、充电电路、开关电路、板端接线端子、分压电路以及主控MCU；所述充电电池模块包括充电电池以及线端接线端子；所述输入电源连接充电电路的第一输入端，所述开关电路的输出端连接所述充电电路的第二输入端；所述充电电路的第一输出端通过所述板端接线端子的BAT端连接所述充电电池的正极，所述充电电路的第二输出端连接所述分压电路，所述分压电路连接所述主控MCU；所述开关电路的输入端通过所述板端接线端子的VBAT_TEST端连接所述充电电池的正极；所述充电电池的负极连接所述板端接线端子的GND端。2.根据权利要求1所述的电池快速充电状态检测装置，其特征在于，所述开关电路包括PMOS管Q2、NPN三极管Q1，所述PMOS管的G极通过电阻R2与所述NPN三极管的集电极连接，所述PMOS管的S极通过电阻R75与所述NPN三极管的集电极连接，所述NPN三极管的基极通过电阻R77与所述板端接线端子的VBAT_TEST端连接；所述PMOS管的D极分别连接所述充电电路的所述第一输出端和所述第二输出端。3.一种电池快速充电状态检测方法，所述方法被执行时，使用如权利要求1-2任一项所述的电池快速充电状态检测装置，包括以下步骤：S1：当电池端子与检测电路端子连接时，VBAT_TEST信号为高电平即集电极电压为高，此时NPN三极管Q1将导通，使得Q2的S极电压降为0V，当Vgs电压小于-20V时，PMOS管Q2导通，28V电源与电源开始给电池充电，主控MCU通过电压检测电路为高，判定电池为未脱落状态；S2：若电池脱落，则VBAT_TEST信号为低电平，此时三极管Q1集电极电压为低，三极管Q1截至状态，此时对于PMOS管,Vg＝Vs，处于截止状态，28V电源与电池连接充电线路断路，主控MCU通过电压检测电路检测VBAT＝0，判定为脱落状态。
说明书desc
技术领域本发明涉及充电电池技术领域，尤其涉及一种电池快速充电状态检测装置及方法。背景技术市面上判断充电电源和电池断路的方法有两种类型，第一类型采用快充模式，使用专用充电芯片，充电电源和电池通过充电芯片充电，通过控制充电芯片，可以把充电电压和电池断开，再通过检测电池电压，从而通过软件判断电池是否与充电电源断路，成本高，快充电池寿命减小；第二类型采用浮充模式，进行检测电池是否脱落时，需要使用软件控制开关MOS管断开电池和充电电源的连接，断开后，通过分压电阻检测电池电压，从而判断充电电源和电池是否断路，因为需要时刻检测电池的脱落，故需频繁开关MOS开关管，开关管易损坏，影响电池浮充时间，在规定的时间内无法充满。发明内容针对现有技术存在的不足，本发明提供一种电池快速充电状态检测装置及方法，解决快充模式电路复杂，成本高，寿命减小的问题；解决浮充模式频繁切换MOS开关管，开关管易损坏，影响电池浮充时间，在规定的时间内无法充满的问题。本发明的目的是通过以下技术方案实现的：第一方面，本发明公开了一种电池快速充电状态检测装置，包括电池充电和脱落检测电路模块以及充电电池模块；其中，所述电池充电和脱落检测电路模块包括输入电源、充电电路、开关电路、板端接线端子、分压电路以及主控MCU；所述充电电池模块包括充电电池以及线端接线端子；所述输入电源连接充电电路的第一输入端，所述开关电路的输出端连接所述充电电路的第二输入端；所述充电电路的第一输出端通过所述板端接线端子的BAT端连接所述充电电池的正极，所述充电电路的第二输出端连接所述分压电路，所述分压电路连接所述主控MCU；所述开关电路的输入端通过所述板端接线端子的VBAT_TEST端连接所述充电电池的正极；所述充电电池的负极连接所述板端接线端子的GND端。作为本发明的优选技术方案，所述开关电路包括PMOS管Q2、NPN三极管Q1，所述PMOS管的G极通过电阻R2与所述NPN三极管的集电极连接，所述PMOS管的S极通过电阻R1与所述NPN三极管的集电极连接，所述NPN三极管的基极通过电阻R3与所述板端接线端子的VBAT_TEST端连接；所述PMOS管的D极分别连接所述充电电路的所述第一输出端和所述第二输出端。第二方面，本发明公开一种电池快速充电状态检测方法，所述方法被执行时，使用第一方面所述的电池快速充电状态检测装置，包括以下步骤：S1：当电池端子与检测电路端子连接时，VBAT_TEST信号为高电平即集电极电压为高，此时NPN三极管Q1将导通，使得Q2的S极电压降为0V，当Vgs电压小于-20V时，PMOS管Q2导通，28V电源与电源开始给电池充电，主控MCU通过电压检测电路为高，判定电池为未脱落状态；S2：若电池脱落，则VBAT_TEST信号为低电平，此时三极管Q1集电极电压为低，三极管Q1截至状态，此时对于PMOS管,Vg＝Vs，处于截止状态，28V电源与电池连接充电线路断路，主控MCU通过电压检测电路检测VBAT＝0，判定为脱落状态。本发明的有益效果：本发明提供一种电池快速充电状态检测装置及方法，用线端接线端子增加外接旁路电路来控制三极管，三极管再控制PMOS管的通断，通过PMOS管的通断决定电池和充电电源的通断，当充电电源和电池断路时,带有电压检测功能的CPU通过备电电压检测电路检测到正常的电池电压，PMOS管自动断开充电电源和电池的连接，当充电电源和电池连接时PMOS管自动导通充电电源和电池的连接，通过两个分压电阻连接电池电压，两个分压电阻中间连接到中央处理器的一个IO接口，通过软件根据单片机IO接口电平高低，判断电池是否脱落；充电电压的电流经过单向二极管，经过过流限流器件，通过PMOS管和电池连接插座连接，通过插头外接电池进行浮充，电池电压通过分压电阻连接单片机一个IO端口，进行判断充电电源和电池是否断路。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是充电电源和电池断路检测电路的电路结构示意图；图2是充电电源和电池断路检测电路的配置示图；图3是电池连接电路的配置示图；图4是备电电压检测电路的配置示图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例1本实施例公开如图1所示的一种电池快速充电状态检测装置，其特征在于，包括电池充电和脱落检测电路模块以及充电电池模块；其中，所述电池充电和脱落检测电路模块包括输入电源、充电电路、开关电路、板端接线端子、分压电路以及主控MCU；所述充电电池模块包括充电电池以及线端接线端子；所述输入电源连接充电电路的第一输入端，所述开关电路的输出端连接所述充电电路的第二输入端；所述充电电路的第一输出端通过所述板端接线端子的BAT端连接所述充电电池的正极，所述充电电路的第二输出端连接所述分压电路，所述分压电路连接所述主控MCU；所述开关电路的输入端通过所述板端接线端子的VBAT_TEST端连接所述充电电池的正极；所述充电电池的负极连接所述板端接线端子的GND端。实施例2本实施例公开如图2所示的电池充电和脱落检测电路原理图，其中，所述开关电路包括PMOS管Q2、NPN三极管Q1，所述PMOS管的G极通过电阻R2与所述NPN三极管的集电极连接，所述PMOS管的S极通过电阻R1与所述NPN三极管的集电极连接，所述NPN三极管的基极通过电阻R3与所述板端接线端子的VBAT_TEST端连接；所述PMOS管的D极分别连接所述充电电路的所述第一输出端和所述第二输出端。实施例3本实施例公开如图2所示的一种电池快速充电状态检测方法，包括以下步骤：S1：当电池端子与检测电路端子连接时，VBAT_TEST信号为高电平即集电极电压为高，此时NPN三极管Q1将导通，使得Q2的S极电压降为0V，当Vgs电压小于-20V时，PMOS管Q2导通，28V电源与电源开始给电池充电，主控MCU通过电压检测电路为高，判定电池为未脱落状态；S2：若电池脱落即电池端子与检测电路端子断开时，VBAT_TEST信号为低电平，此时三极管Q1集电极电压为低，三极管Q1截至状态，此时对于PMOS管Q2，处于截止状态，输入电源与电池连接充电线路断路，主控MCU通过电压检测电路检测VBAT＝0，判定电池为脱落状态。综上，本发明提供一种电池快速充电状态检测装置及方法，用线端接线端子增加外接旁路电路来控制三极管通断，三极管再控制PMOS管的通断，通过PMOS管的通断决定电池和充电电源的通断。当充电电源和电池断路时,PMOS管自动断开充电电源和电池的连接，带有电平状态检测功能的单片机通过备电电压检测电路未检测到电池插入信号，备电电压检测电路检测口IO电平为低，单片机触发断路报警。当充电电源和电池连接时，PMOS管自动导通充电电源和电池的连接，带有电平状态检测功能的单片机通过备电电压检测电路未检测到电池插入信号，备电电压检测电路检测口IO电平为高，单片机不报警。充电电压的电流经过单向二极管，经过过流限流器件，通过PMOS管和电池连接插座连接，通过插头外接电池进行浮充，电池电压通过分压电阻连接单片机的一个IO端口，通过对单片机IO口高低电平状态，进行判断充电电源和电池是否断路。以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
