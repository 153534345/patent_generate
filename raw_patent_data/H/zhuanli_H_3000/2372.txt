标题title
一种FC交换机及数据传输方法
摘要abst
本发明提供一种FC交换机及数据传输方法，FC交换机包括交换接口板和中间交换板；交换接口板与中间交换板连接，用于接收待转发数据，由待转发数据得到待转发数据的目的端口，用于判断目的端口是否在本交换接口板，如果不在则将待转发数据发送至中间交换板；中间交换板用于接收由本交换接口板传来的待转发数据，并将待转发数据发送至目的端口所在的交换接口板，由目的端口所在的交换接口板将待转发数据输出至目的节点。本发明通过设置交换接口板和中间交换板，可以根据FC交换机节点个数调整交换接口板的个数，使FC交换机具有很强的可扩展性、可重构性，可增大交换机的传输带宽，实现数据的无阻塞传输。
权利要求书clms
1.一种FC交换机，其特征在于，包括交换接口板和中间交换板；所述交换接口板与所述中间交换板连接，用于接收待转发数据，由所述待转发数据得到待转发数据的目的端口，用于判断所述目的端口是否在本交换接口板，如果不在则将所述待转发数据发送至中间交换板；所述中间交换板用于接收由本交换接口板传来的待转发数据，并将所述待转发数据发送至目的端口所在的交换接口板，由所述目的端口所在的交换接口板将所述待转发数据输出至目的节点；其中，所述本交换接口板是指接收待转发数据的交换接口板，所述目的端口是指待转发数据的输出端口。2.根据权利要求1所述的FC交换机，其特征在于，所述交换接口板包括收发缓存模块、CLOS输出模块、路由管理模块、交换模块和CLOS收发缓存模块；所述收发缓存模块分别与所述CLOS输出模块、所述路由管理模块、所述交换模块连接，用于接收待转发数据，并由所述待转发数据得到待转发数据的目的地址标识；用于将所述目的地址标识输出至路由管理模块，并接收由所述路由管理模块基于所述目的地址标识得到的待转发数据的目的端口和转发信息；用于判断所述目的端口是否可用，在所述目的端口可用的情况下，继续判断所述目的端口是否在本交换接口板；用于如果目的端口在本交换接口板则将所述待转发数据通过本交换接口板的交换模块发送至与目的端口对应的收发缓存模块，进而由与目的端口对应的收发缓存模块将待转发数据输出至目的节点；用于如果目的端口不在本交换接口板则将待转发数据通过本交换节口板的CLOS输出模块发送至本交换接口板的CLOS收发缓存模块；所述中间交换板包括交换单元；所述交换单元与所述CLOS收发缓存模块连接，用于接收从本交换接口板的CLOS收发缓存模块传来的待转发数据，并通过数据交换功能将所述待转发数据输出至目的端口所在的交换节口板的CLOS收发缓存模块；所述CLOS收发缓存模块分别与所述CLOS输出模块、所述路由管理模块、所述交换模块、所述交换单元连接，用于接收从所述交换单元传来的待转发数据，并由所述待转发数据得到待转发数据的目的地址标识；用于将所述目的地址标识输出至路由管理模块，并接收由路由管理模块基于所述目的地址标识得到的待转发数据的目的端口和转发信息，用于将待转发数据通过交换模块发送至与目的端口对应的收发缓存模块，进而由与目的端口对应的收发缓存模块将待转发数据输出至目的节点。3.根据权利要求2所述的FC交换机，其特征在于，所述交换接口板有N个，所述中间交换板有一个；其中，每个交换接口板包括 K个收发缓存模块、1个CLOS输出模块、1个交换模块和M个CLOS收发缓存模块；所述中间交换板包括M个交换单元。4.根据权利要求3所述的FC交换机，其特征在于，所述交换模块为交换模块，所述交换单元为交换单元。5.一种数据传输方法，在权利要求1-4任意一项所述的FC交换机上实现，其特征在于，包括：基于获取的待转发数据，得到待转发数据的目的端口和转发信息；基于所述待转发数据的目的端口和转发信息，判断所述目的端口是否可用；在所述目的端口可用的情况下，判断所述目的端口是否在本交换接口板；基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点；其中，所述判断结果不同，则待转发数据的传输路径不同。6.根据权利要求5所述的数据传输方法，其特征在于，所述基于获取的待转发数据，得到待转发数据的目的端口，包括：由收发缓存模块获取待转发数据，并对所述待转发数据进行缓存、解析，得到所述待转发数据的目的地址标识；将所述目的地址标识输出至路由管理模块，并接收由所述路由管理模块基于所述目的地址标识得到的待转发数据的目的端口和转发信息。7.根据权利要求6所述的数据传输方法，其特征在于，在所述目的端口在本交换接口板的情况下，所述基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点，包括：由收发缓存模块将所述待转发数据及所述转发信息发送至交换模块；由所述交换模块根据所述转发信息将所述待转发数据发送至与目的节点对应的收发缓存模块；由所述与目的节点对应的收发缓存模块将所述待转发数据输出至目的节点。8.根据权利要求5所述的数据传输方法，其特征在于，在所述目的端口不在本交换接口板的情况下，所述基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点，包括：由收发缓存模块将所述待转发数据发送至CLOS输出模块；由所述CLOS输出模块将所述待转发数据输出至CLOS收发缓存模块；由所述CLOS收发缓存模块将所述待转发数据发送至交换单元；由所述交换单元将所述待转发数据转发至目的端口所在的交换接口板的CLOS收发缓存模块；由所述目的端口所在的交换接口板的CLOS收发缓存模块对所述待转发数据进行缓存、解析，得到目的地址标识；基于所述目的地址标识，将所述待转发数据发送至目的节点。9.根据权利要求8所述的数据传输方法，其特征在于，所述基于所述目的地址标识，将所述待转发数据发送至目的节点，包括：由所述目的端口所在的交换接口板的CLOS收发缓存模块将所述目的地址标识发送至目的端口所在的交换接口板的路由管理模块；由所述目的端口所在的交换接口板的路由管理模块根据所述目的地址标识，查找待转发数据的目的端口和转发信息，并将所述待转发数据的目的端口和转发信息返回至所述目的端口所在的交换接口板的CLOS收发缓存模块；由所述目的端口所在的交换接口板的CLOS收发缓存模块将所述待转发数据和所述转发信息发送至目的端口所在的交换接口板的交换模块；由所述目的端口所在的交换接口板的交换模块根据所述转发信息将所述待转发数据发送至与目的端口对应的收发缓存模块；由所述与目的端口对应的收发缓存模块将所述待转发数据输出至目的节点。10.根据权利要求5所述的数据传输方法，其特征在于，包括：在所述目的端口不可用的情况下，丢弃所述待转发数据。
说明书desc
技术领域本发明涉及网络技术领域，尤其涉及一种FC交换机及数据传输方法。背景技术FC是由美国标准化委员会提出的高速串行传输总线，由于其具备通道和网络的双重优势，具备高带宽、高可靠、抵抗电磁干扰等优点，能够提供非常稳定可靠的光纤连接，容易构建大型的数据传输和通信网络。FC交换机作为FC网络中的核心设备，对整个FC网络的数据交换起着决定性的作用。随着FC交换网络的高速发展，FC交换网络中的FC节点数量越来越多，在使用传统的FC交换机组网时，使用多个FC交换机级联的方式增加网络中端口个数。由于端口数量的限制，当FC节点数量增加时，FC节点之间的数据交换延迟大大增大；由于FC交换机端口速率的限制，数据吞吐率为交换机的端口速率，多FC节点之间满带宽传输时，会造成严重的数据阻塞；由于FC网络中使用多个FC交换机进行级联组网，组网时结构复杂，空间占用大。发明内容本发明提供一种FC交换机、数据传输方法、电子设备与存储介质，用以解决现有技术中FC交换机数据交换延迟、数据阻塞的缺陷，通过设置交换接口板和中间交换板，可以根据FC交换机节点个数调整交换接口板的个数，使FC交换机具有很强的可扩展性、可重构性，当交换接口板的端口个数小于等于中间交换板的端口个数时，可以实现无阻塞传输。本发明提供一种FC交换机，包括交换接口板和中间交换板；所述交换接口板与所述中间交换板连接，用于接收待转发数据，由所述待转发数据得到待转发数据的目的端口，用于判断所述目的端口是否在本交换接口板，如果不在则将所述待转发数据发送至中间交换板；所述中间交换板用于接收由本交换接口板传来的待转发数据，并将所述待转发数据发送至目的端口所在的交换接口板，由所述目的端口所在的交换接口板将所述待转发数据输出至目的节点；其中，所述本交换接口板是指接收待转发数据的交换接口板，所述目的端口是指待转发数据的输出端口。根据本发明提供的FC交换机，所述交换接口板包括收发缓存模块、CLOS输出模块、路由管理模块、交换模块和CLOS收发缓存模块；所述收发缓存模块分别与所述CLOS输出模块、所述路由管理模块、所述交换模块连接，用于接收待转发数据，并由所述待转发数据得到待转发数据的目的地址标识；用于将所述目的地址标识输出至路由管理模块，并接收由所述路由管理模块基于所述目的地址标识得到的待转发数据的目的端口和转发信息；用于判断所述目的端口是否可用，在所述目的端口可用的情况下，继续判断所述目的端口是否在本交换接口板；用于如果目的端口在本交换接口板则将所述待转发数据通过本交换接口板的交换模块发送至与目的端口对应的收发缓存模块，进而由与目的端口对应的收发缓存模块将待转发数据输出至目的节点；用于如果目的端口不在本交换接口板则将待转发数据通过本交换节口板的CLOS输出模块发送至本交换接口板的CLOS收发缓存模块；所述中间交换板包括交换单元；所述交换单元与所述CLOS收发缓存模块连接，用于接收从本交换接口板的CLOS收发缓存模块传来的待转发数据，并通过数据交换功能将所述待转发数据输出至目的端口所在的交换节口板的CLOS收发缓存模块；所述CLOS收发缓存模块分别与所述CLOS输出模块、所述路由管理模块、所述交换模块、所述交换单元连接，用于接收从所述交换单元传来的待转发数据，并由所述待转发数据得到待转发数据的目的地址标识；用于将所述目的地址标识输出至路由管理模块，并接收由路由管理模块基于所述目的地址标识得到的待转发数据的目的端口和转发信息，用于将待转发数据通过交换模块发送至与目的端口对应的收发缓存模块，进而由与目的端口对应的收发缓存模块将待转发数据输出至目的节点。根据本发明提供的FC交换机，所述交换接口板有N个，所述中间交换板有一个；其中，每个交换接口板包括K个收发缓存模块、1个CLOS输出模块、1个交换模块和M个CLOS收发缓存模块；所述中间交换板包括M个交换单元。根据本发明提供的FC交换机，所述交换模块为交换模块，所述交换单元为交换单元。本发明还提供一种数据传输方法，在上述的FC交换机上实现，包括：基于获取的待转发数据，得到待转发数据的目的端口；判断所述目的端口是否可用；在所述目的端口可用的情况下，判断所述目的端口是否在本交换接口板；基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点；其中，所述判断结果不同，则待转发数据的传输路径不同。根据本发明提供的数据传输方法，所述基于获取的待转发数据，得到待转发数据的目的端口，包括：由收发缓存模块获取待转发数据，并对所述待转发数据进行缓存、解析，得到所述待转发数据的目的地址标识；将所述目的地址标识输出至路由管理模块，并接收由所述路由管理模块基于所述目的地址标识得到的待转发数据的目的端口和转发信息。根据本发明提供的数据传输方法，在所述目的端口在本交换接口板的情况下，所述基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点，包括：由收发缓存模块将所述待转发数据及所述转发信息发送至交换模块；由所述交换模块根据所述转发信息将所述待转发数据发送至与目的节点对应的收发缓存模块；由所述与目的节点对应的收发缓存模块将所述待转发数据输出至目的节点。根据本发明提供的数据传输方法，在所述目的端口不在本交换接口板的情况下，所述基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点，包括：由收发缓存模块将所述待转发数据发送至CLOS输出模块；由所述CLOS输出模块将所述待转发数据输出至CLOS收发缓存模块；由所述CLOS收发缓存模块将所述待转发数据发送至交换单元；由所述交换单元将所述待转发数据转发至目的端口所在的交换接口板的CLOS收发缓存模块；由所述目的端口所在的交换接口板的CLOS收发缓存模块对所述待转发数据进行缓存、解析，得到目的地址标识；基于所述目的地址标识，将所述待转发数据发送至目的节点。根据本发明提供的数据传输方法，所述基于所述目的地址标识，将所述待转发数据发送至目的节点，包括：由所述目的端口所在的交换接口板的CLOS收发缓存模块将所述目的地址标识发送至目的端口所在的交换接口板的路由管理模块；由所述目的端口所在的交换接口板的路由管理模块根据所述目的地址标识，查找待转发数据的目的端口和转发信息，并将所述待转发数据的目的端口和转发信息返回至所述目的端口所在的交换接口板的CLOS收发缓存模块；由所述目的端口所在的交换接口板的CLOS收发缓存模块将所述待转发数据和所述转发信息发送至目的端口所在的交换接口板的交换模块；由所述目的端口所在的交换接口板的交换模块根据所述转发信息将所述待转发数据发送至与目的端口对应的收发缓存模块；由所述与目的端口对应的收发缓存模块将所述待转发数据输出至目的节点。根据本发明提供的数据传输方法，包括：在所述目的端口不可用的情况下，丢弃所述待转发数据。本发明还提供一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述程序时实现如上述任一项所述数据传输方法。本发明提供一种非暂态计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现如上述任一项所述数据传输方法。本发明提供一种FC交换机、数据传输方法、电子设备与存储介质，FC交换机包括交换接口板和中间交换板；所述交换接口板与所述中间交换板连接，用于接收待转发数据，由所述待转发数据得到待转发数据的目的端口，用于判断所述目的端口是否在本交换接口板，如果不在则将所述待转发数据发送至中间交换板；所述中间交换板用于接收由本交换接口板传来的待转发数据，并将所述待转发数据发送至目的端口所在的交换接口板，由所述目的端口所在的交换接口板将所述待转发数据输出至目的节点；其中，所述本交换接口板是指接收待转发数据的交换接口板，所述目的端口是指待转发数据的输出端口。本发明通过设置交换接口板和中间交换板，可以根据FC交换机节点个数调整交换接口板的个数，使FC交换机具有很强的可扩展性、可重构性，可增大交换机的传输带宽，实现数据的无阻塞传输。附图说明为了更清楚地说明本发明或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明提供的FC交换机的结构示意图；图2是本发明提供的FC交换机的组成框图；图3是本发明提供的数据传输方法的流程示意图；图4是本发明提供的电子设备的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合本发明中的附图，对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。下面结合图1-图4描述本发明的一种FC交换机、数据传输方法、电子设备与存储介质。图1是本发明提供的FC交换机的结构示意图，图2是本发明提供的FC交换机的组成框图，如图1和图2所示，在一具体实施例中，本发明提供的FC交换机，包括交换接口板和中间交换板；所述交换接口板与所述中间交换板连接，用于接收待转发数据，由所述待转发数据得到待转发数据的目的端口，用于判断所述目的端口是否在本交换接口板，如果不在则将所述待转发数据发送至中间交换板；所述中间交换板用于接收由本交换接口板传来的待转发数据，并将所述待转发数据发送至目的端口所在的交换接口板，由所述目的端口所在的交换接口板将所述待转发数据输出至目的节点；其中，所述本交换接口板是指接收待转发数据的交换接口板，所述目的端口是指待转发数据的输出端口。进一步地，所述交换接口板包括收发缓存模块、CLOS输出模块、路由管理模块、交换模块和CLOS收发缓存模块；所述收发缓存模块分别与所述CLOS输出模块、所述路由管理模块、所述交换模块连接，用于接收待转发数据，并由所述待转发数据得到待转发数据的目的地址标识；用于将所述目的地址标识输出至路由管理模块，并接收由所述路由管理模块基于所述目的地址标识得到的待转发数据的目的端口和转发信息；用于判断所述目的端口是否可用，在所述目的端口可用的情况下，继续判断所述目的端口是否在本交换接口板；用于如果目的端口在本交换接口板则将所述待转发数据通过本交换接口板的交换模块发送至与目的端口对应的收发缓存模块，进而由与目的端口对应的收发缓存模块将待转发数据输出至目的节点；用于如果目的端口不在本交换接口板则将待转发数据通过本交换节口板的CLOS输出模块发送至本交换接口板的CLOS收发缓存模块；所述中间交换板包括交换单元；所述交换单元与所述CLOS收发缓存模块连接，用于接收从本交换接口板的CLOS收发缓存模块传来的待转发数据，并通过数据交换功能将所述待转发数据输出至目的端口所在的交换节口板的CLOS收发缓存模块；所述CLOS收发缓存模块分别与所述CLOS输出模块、所述路由管理模块、所述交换模块、所述交换单元连接，用于接收从所述交换单元传来的待转发数据，并由所述待转发数据得到待转发数据的目的地址标识；用于将所述目的地址标识输出至路由管理模块，并接收由路由管理模块基于所述目的地址标识得到的待转发数据的目的端口和转发信息，用于将待转发数据通过交换模块发送至与目的端口对应的收发缓存模块，进而由与目的端口对应的收发缓存模块将待转发数据输出至目的节点。进一步地，所述交换接口板有N个，所述中间交换板有一个；其中，每个交换接口板包括K个收发缓存模块、1个CLOS输出模块、1个交换模块和M个CLOS收发缓存模块；所述中间交换板包括M个交换单元。进一步地，所述交换模块为交换模块，所述交换单元为交换单元。在本实施例中，FC交换机是指一种基于CLOS架构的FC交换机，CLOS就是指CLOS架构，CLOS架构主要描述了一种多级电路交换网络的结构。目的节点是指接收待转发数据的、目的端口指向的FC交换机节点。N、K、M均为正整数，可以根据实际应用情况进行具体取值，在此不做特别限定。交换模块是指可以连接K个转发端口和M个clos中间交换接口的模块。交换单元中的为CLOS交换架构，共M个。收发缓存模块用于实现数据接收、缓存、路由信息申请,对输入数据根据路由申请信息判断数据转发给本交换接口板还是给中间交换板,对待输出的转发数据进行缓存、发送至目的节点。CLOS收发缓存模块用于实现与中间交换板的数据接收。CLOS输出模块用于当数据要转发至中间交换板时，为数据提供从收发缓存模块转发至与中间交换板相连接的Clos收发缓存模块的通道。路由管理模块用于数据交换的路由信息管理，查询路由管理模块可获得待转发数据目的端口的信息。在本实施例中，如图1所示，FC交换机包括N个交换接口板和1个中间交换板，交换接口板与中间交换板连接，其中，每个交换接口板包括K个收发缓存模块、1个CLOS输出模块、1个路由管理模块、1个交换模块和M个CLOS收发缓存模块，每个中间交换模块包括M个交换单元。每个收发缓存模块分别与CLOS输出模块、路由管理模块、交换模块连接，每个CLOS收发缓存模块分别与CLOS输出模块、路由管理模块、交换模块连接，交换接口板中的M个CLOS收发缓存模块分别连接中间交换板的M个NxN交换单元。其中，交换接口板用于接收待转发数据，由待转发数据得到待转发数据的目的端口和转发信息，其中，转发信息为待转发数据存放地址等，目的端口根据转发信息获取待转发数据，用于判断目的端口是否在本交换接口板，如果不在则将待转发数据发送至中间交换板；中间交换板用于接收由本交换接口板传来的待转发数据，并将待转发数据发送至目的端口所在的交换接口板，由目的端口所在的交换接口板将待转发数据输出至目的节点；其中，本交换接口板是指接收待转发数据的交换接口板，目的端口是指待转发数据的输出端口。具体包括：收发缓存模块接收待转发数据，并对待转发数据缓存、解析，提取得到待转发数据的目的地址标识D_ID；然后将目的地址标识D_ID输出至路由管理模块，并接收由路由管理模块基于目的地址标识D_ID查找得到的待转发数据的目的端口和转发信息；然后判断目的端口是否可用，在目的端口不可用的情况下，丢弃待转发数据，在目的端口可用的情况下，继续判断目的端口是否在本交换接口板；如果目的端口在本交换接口板则将待转发数据通过本交换接口板的交换模块发送至与目的端口对应的收发缓存模块，进而由与目的端口对应的收发缓存模块将待转发数据输出至目的节点；如果目的端口不在本交换接口板则将待转发数据通过本交换节口板的CLOS输出模块发送至本交换接口板的CLOS收发缓存模块；与CLOS收发缓存模块连接的交换单元接收从本交换接口板的CLOS收发缓存模块传来的待转发数据，并通过数据交换功能将待转发数据输出至目的端口所在的交换节口板的CLOS收发缓存模块；目的端口所在的交换节口板的CLOS收发缓存模块接收从交换单元传来的待转发数据，并对待转发数据进行缓存、解析，提取得到待转发数据的目的地址标识D_ID；用于将目的地址标识D_ID输出至路由管理模块，并接收由路由管理模块基于目的地址标识D_ID查找得到的待转发数据的目的端口和转发信息，将待转发数据通过交换模块发送至与目的端口对应的收发缓存模块，进而由与目的端口对应的收发缓存模块将待转发数据输出至目的节点。本实施例提供的FC交换机，通过设置交换接口板和中间交换板，可以根据FC交换机节点个数调整交换接口板的个数，使FC交换机具有很强的可扩展性、可重构性，可增大交换机的传输带宽，实现数据的无阻塞传输。下面对本发明提供的一种数据传输方法进行描述，下文描述的数据传输方法与上文描述的FC交换机可以相互对应参照。图3是本发明提供的数据传输方法的流程示意图，如图3所示，在一具体实施例中，本发明提供的数据传输方法，在上述的FC交换机上实现，包括：步骤S310、基于获取的待转发数据，得到待转发数据的目的端口；步骤S320、判断所述目的端口是否可用；步骤S330、在所述目的端口可用的情况下，判断所述目的端口是否在本交换接口板；步骤S340、基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点；其中，所述判断结果不同，则待转发数据的传输路径不同。进一步地，所述基于获取的待转发数据，得到待转发数据的目的端口，包括：由收发缓存模块获取待转发数据，并对所述待转发数据进行缓存、解析，得到所述待转发数据的目的地址标识；将所述目的地址标识输出至路由管理模块，并接收由所述路由管理模块基于所述目的地址标识得到的待转发数据的目的端口和转发信息。进一步地，在所述目的端口在本交换接口板的情况下，所述基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点，包括：由收发缓存模块将所述待转发数据及所述转发信息发送至交换模块；由所述交换模块根据所述转发信息将所述待转发数据发送至与目的节点对应的收发缓存模块；由所述与目的节点对应的收发缓存模块将所述待转发数据输出至目的节点。进一步地，在所述目的端口不在本交换接口板的情况下，所述基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点，包括：由收发缓存模块将所述待转发数据发送至CLOS输出模块；由所述CLOS输出模块将所述待转发数据输出至CLOS收发缓存模块；由所述CLOS收发缓存模块将所述待转发数据发送至交换单元；由所述交换单元将所述待转发数据转发至目的端口所在的交换接口板的CLOS收发缓存模块；由所述目的端口所在的交换接口板的CLOS收发缓存模块对所述待转发数据进行缓存、解析，得到目的地址标识；基于所述目的地址标识，将所述待转发数据发送至目的节点。进一步地，所述基于所述目的地址标识，将所述待转发数据发送至目的节点，包括：由所述目的端口所在的交换接口板的CLOS收发缓存模块将所述目的地址标识发送至目的端口所在的交换接口板的路由管理模块；由所述目的端口所在的交换接口板的路由管理模块根据所述目的地址标识，查找待转发数据的目的端口和转发信息，并将所述待转发数据的目的端口和转发信息返回至所述目的端口所在的交换接口板的CLOS收发缓存模块；由所述目的端口所在的交换接口板的CLOS收发缓存模块将所述待转发数据和所述转发信息发送至目的端口所在的交换接口板的交换模块；由所述目的端口所在的交换接口板的交换模块根据所述转发信息将所述待转发数据发送至与目的端口对应的收发缓存模块；由所述与目的端口对应的收发缓存模块将所述待转发数据输出至目的节点。进一步地，根据本发明提供的数据传输方法，包括：在所述目的端口不可用的情况下，丢弃所述待转发数据。在本实施例中，待转发数据的完整的数据传输过程包括：步骤1、基于CLOS架构的FC交换机中交换接口板的收发缓存模块收到待转发数据后，对接收的待转发数据进行缓存、解析，进入步骤2；步骤2、收发缓存模块解析出缓存的待转发数据的目的地址标识D_ID，进入步骤3；步骤3、收发缓存模块将目的地址标识D_ID发送至路由管理模块，进入步骤4；步骤4、路由管理模块根据接收到的目的地址标识D_ID查找待转发数据的目的端口和转发信息，转发信息为待转发数据存放地址等，目的端口根据转发信息获取待转发数据，进入步骤5；步骤5、路由管理模块将查询到的待转发数据的目的端口和转发信息发送返回至收发缓存模块，进入步骤6；步骤6、收发缓存模块对查询到的待转发数据的目的端口和转发信息进行判断，进入步骤7；步骤7、若待转发数据的目的端口和转发信息表征为目的端口在本交换接口板内，进入步骤8；若待转发数据的目的端口和转发信息表征为目的端口在其他交换接口板，进入步骤11；若待转发数据的目的端口和转发信息表征为目的端口不可用，则待转发数据会被丢弃，进入步骤w)；步骤8、收发缓存模块将待转发数据和转发信息发送至交换模块，进入步骤9；步骤9、交换模块根据转发信息将待转发数据发送至目的节点端口的收发缓存模块即与目的端口对应的收发缓存模块，进入步骤10；步骤10、与目的端口对应的收发缓存模块将待转发数据输出至目的FC节点。步骤11、收发缓存模块将待转发数据发送至CLOS输出模块，进入步骤12;步骤12、CLOS输出模块使用round_robin的方式将待转发数据输出至CLOS收发缓存模块，进入步骤13；步骤13、CLOS收发缓存模块将待转发数据发送至与本模块向连接的中间交换板的交换单元，进入步骤14；步骤14、中间交换板的交换单元通过交换将待转发数据转发至目的端口所在的交换接口板的CLOS收发缓存模块，进入步骤15；步骤15、目的端口所在的交换接口板的CLOS收发缓存模块收到待转发数据后，对接收的待转发数据进行缓存、解析，进入步骤16；步骤16、目的端口所在的交换接口板的CLOS收发缓存模块解析出缓存的待转发数据的目的地址标识D_ID，进入步骤17；步骤17、目的端口所在的交换接口板的CLOS收发缓存模块将目的地址标识D_ID发送至路由管理模块，进入步骤18；步骤18、目的端口所在的交换接口板的路由管理模块根据接收到的目的地址标识D_ID查找待转发数据的目的端口和转发信息，进入步骤19；步骤19、目的端口所在的交换接口板的路由管理模块将查询到的待转发数据的目的端口和转发信息发送返回至目的端口所在的交换接口板的CLOS收发缓存模块，进入步骤20；步骤20、目的端口所在的交换接口板的CLOS收发缓存模块将待转发数据和转发信息发送至目的端口所在的交换接口板的交换模块，进入步骤21；步骤21、目的端口所在的交换接口板的交换模块根据转发信息将待转发数据发送至与目的端口对应的收发缓存模块，进入步骤22；步骤22、与目的端口对应的收发缓存模块将待转发数据输出至目的FC节点。步骤23、待转发数据被丢弃；本实施例提供的数据传输方法，通过判断目的端口是否可用、是否在本交换接口板，实现对待转发数据进行不同的处理路径，可以根据FC交换机节点个数调整交换接口板的个数，使FC交换机具有很强的可扩展性、可重构性，进而当交换接口板的端口个数小于等于中间交换板的端口个数时，可以实现无阻塞的数据传输。图4示例了一种电子设备的实体结构示意图，如图4所示，该电子设备可以包括：处理器410、通信接口420、存储器430和通信总线440，其中，处理器410，通信接口420，存储器430通过通信总线440完成相互间的通信。处理器410可以调用存储器430中的逻辑指令，以执行数据传输方法，该方法包括：基于获取的待转发数据，得到待转发数据的目的端口；判断所述目的端口是否可用；在所述目的端口可用的情况下，判断所述目的端口是否在本交换接口板；基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点；其中，所述判断结果不同，则待转发数据的传输路径不同。此外，上述的存储器430中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。又一方面，本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现以执行上述各方法提供的数据传输方法，该方法包括：基于获取的待转发数据，得到待转发数据的目的端口；判断所述目的端口是否可用；在所述目的端口可用的情况下，判断所述目的端口是否在本交换接口板；基于判断结果，选定待转发数据的传输路径，将所述待转发数据输出至目的节点；其中，所述判断结果不同，则待转发数据的传输路径不同。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的方法。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
