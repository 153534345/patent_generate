标题title
一种基于机器学习的车载网络故障诊断方法
摘要abst
本发明提供一种基于机器学习的车载网络故障诊断方法，包括以下步骤：提取故障特征；确定目标函数；基于海鸥算法，通过高斯映射初始化海鸥种群位置，即初始化每个海鸥的惩罚因子C和核函数参数g，并根据目标函数，计算最优适应度值和最优海鸥位置；引入蝴蝶优化算法的位置更新机制，改进原海鸥算法的位置更新方式，并进行位置更新；对最优海鸥位置进行双向sine变异；根据预设的最大迭代次数依次更新最优海鸥位置，确定最优海鸥位置，即获得对应最优的惩罚因子C和核函数参数g；构建车载网络故障诊断模型，获得故障诊断结果和测试准确率。本方法能够显著提升车载网络故障诊断的效果。
权利要求书clms
1.一种基于机器学习的车载网络故障诊断方法，其特征在于，包括以下步骤：提取待诊断的车载网络故障原始数据中的故障特征；将5折交叉验证SVM的分类准确率作为目标函数，并确定惩罚因子C和RBF核函数参数g的上下限；基于海鸥算法，通过高斯映射初始化海鸥种群位置，即初始化每个海鸥的惩罚因子C和核函数参数g，并根据目标函数，计算最优适应度值和最优海鸥位置；引入蝴蝶优化算法的位置更新机制，改进原海鸥算法的位置更新方式，并进行位置更新，获取更新后的最优适应度值和最优海鸥位置；对最优海鸥位置进行双向sine变异，将变异前后适应度值最优的海鸥位置，作为更新后的最优海鸥位置；根据预设的最大迭代次数依次更新最优海鸥位置，确定最优海鸥位置，即获得对应最优的惩罚因子C和核函数参数g；将最优的惩罚因子C和核函数参数g作为SVM模型参数构建车载网络故障诊断模型；将车载网络故障诊断的特征向量，输入到训练后的车载网络故障诊断模型，获得故障诊断结果。2.根据权利要求1所述的一种基于机器学习的车载网络故障诊断方法，其特征在于，所述通过高斯映射初始化海鸥种群位置，包括以下步骤：通过高斯映射产生随机数：利用产生的高斯随机数xt初始化海鸥位置Ps为：Ps＝×xt+LB式中，mod为求余函数，LB为海鸥寻优下边界；UB为海鸥寻优上边界。3.根据权利要求1所述的一种基于机器学习的车载网络故障诊断方法，其特征在于，所述引入蝴蝶优化算法的位置更新机制，改进原海鸥算法的位置更新方式，并进行位置更新，包括以下步骤：通过海鸥迁徙行为和海鸥全局攻击行为进行海鸥位置更新。4.根据权利要求3所述的一种基于机器学习的车载网络故障诊断方法，其特征在于，所述海鸥迁徙行为，包括以下步骤：采用附加变量A计算海鸥的新位置，来避免与其他海鸥碰撞：Cs＝A×PsA＝fc-式中：Cs为不与其他海鸥存在位置冲突的新位置；Ps为海鸥当前位置；t为当前迭代次数；Miter为最大迭代次数；A为海鸥在给定搜索空间中的运动行为；fc为控制系数，取值从2降到0；向最佳位置所在的方向移动：Ms＝B×-Ps)B＝2×A2×rd式中：Ms为最佳位置所在的方向；Pbs为最佳位置；B为负责平衡全局和局部搜索的随机数；rd为范围内的随机数；到达新的位置：Ds＝|Cs+Ms|式中：Ds是海鸥的向新位置移动的距离。5.根据权利要求3所述的一种基于机器学习的车载网络故障诊断方法，其特征在于，所述海鸥全局攻击行为，包括以下步骤：通过螺旋运动不断改变攻击角度和速度，螺旋运动行为表示为：式中：r为每个螺旋的半径，θ为范围内的随机角度值；u和v为螺旋形状的相关常数；e为自然对数的底数；引入蝴蝶优化算法的位置更新机制，改进后的海鸥位置更新公式如下：式中：fs＝c·Iα；Ps为更新后的第t+1次迭代的海鸥位置；Pbs表示第t次迭代的最佳位置；Ps为第t次迭代的海鸥位置；fs为第t次迭代的海鸥散发出来的香味；α是之间的一个随机数；λ是之间的一个随机数；r1和r2为之间的随机整数，和分别为随机选择的第r1和r2个海鸥的位置，r1≠r2；rand为之间的随机数；p为切换概率，用于切换海鸥位置更新的公式；c是感知形态因子，为之间的一个随机数；I是刺激因子；a是功率指数，为之间的一个随机数；计算适应度值：fitness＝Ff)式中，Ff为计算适应度值时的适应度函数。6.根据权利要求5所述的一种基于机器学习的车载网络故障诊断方法，其特征在于，所述对最优海鸥位置进行双向sine变异，包括以下步骤：对于维度j，根据当前迭代次数计算sine混沌值，并等概率切换正负方向：SinValue＝sin式中，rand为0到1的随机数；x0为迭代序列值；对最优位置进行变异扰动：Pbs'＝Pbs+SinValue×Pbs式中：Pbs表示第t次迭代的最优位置Pbs的第j维；贪婪更新：每个维度都进行变异后，停止变异。
说明书desc
技术领域本发明涉及车载网络故障诊断技术领域，具体涉及一种基于机器学习的车载网络故障诊断方法。背景技术支持向量机近几年来被广泛用于车载网络的故障诊断。例如，向诗晗等人提出采用鸽群算法训练优化SVM模型，进而实现网络故障诊断。然而，SVM的惩罚因子C和RBF核函数参数g的选择质量，直接影响最终的故障诊断结果。智能优化算法是一种有效SVM模型参数优化方法。海鸥算法是一种模拟海鸥觅食行为的新型智能优化算法，同样可以应用于车载网络故障诊断问题。但是，海鸥优化算法存仍然存在以下不足：在确定种群位置时，海鸥个体的位置是随机确定的，这就使得算法具有一定的盲目性和随机性；海鸥算法的位置更新是根据目标物的位置，采用螺旋进攻的方式，向最佳位置移动，但是如果只是根据最佳目标位置进行移动，很容易使海鸥陷入局部最优解，当海鸥算法陷入局部最优解时，没有任何措施能帮助其跳出局部最优解，导致在采用海鸥算法进行车载网络故障诊断时，不能达到最佳的故障诊断效果。发明内容为解决上述问题，本发明提供一种基于机器学习的车载网络故障诊断方法，克服了现有海鸥算法存在的几点不足，能够显著提升车载网络故障诊断的效果。为实现上述目的，本发明提供了如下的技术方案。一种基于机器学习的车载网络故障诊断方法，包括以下步骤：提取待诊断的车载网络故障原始数据中的故障特征；将5折交叉验证SVM的分类准确率作为目标函数，并确定惩罚因子C和RBF核函数参数g的上下限；基于海鸥算法，通过高斯映射初始化海鸥种群位置，即初始化每个海鸥的惩罚因子C和核函数参数g，并根据目标函数，计算最优适应度值和最优海鸥位置；引入蝴蝶优化算法的位置更新机制，改进原海鸥算法的位置更新方式，并进行位置更新，获取更新后的最优适应度值和最优海鸥位置；对最优海鸥位置进行双向sine变异，将变异前后适应度值最优的海鸥位置，作为更新后的最优海鸥位置；根据预设的最大迭代次数依次更新最优海鸥位置，确定最优海鸥位置，即获得对应最优的惩罚因子C和核函数参数g；将最优的惩罚因子C和核函数参数g作为SVM模型参数构建车载网络故障诊断模型；将车载网络故障诊断的特征向量，输入到训练后的车载网络故障诊断模型，获得故障诊断结果和测试准确率。优选地，所述通过高斯映射初始化海鸥种群位置，包括以下步骤：通过高斯映射产生随机数：利用产生的高斯随机数xt初始化海鸥位置Ps为：Ps＝×xt+LB式中，mod为求余函数，LB为海鸥寻优下边界；UB为海鸥寻优上边界。优选地，所述引入蝴蝶优化算法的位置更新机制，改进原海鸥算法的位置更新方式，并进行位置更新，包括以下步骤：通过海鸥迁徙行为和海鸥全局攻击行为进行海鸥位置更新。优选地，所述海鸥迁徙行为，包括以下步骤：采用附加变量A计算海鸥的新位置，来避免与其他海鸥碰撞：Cs＝A×PsA＝fc-式中：Cs为不与其他海鸥存在位置冲突的新位置；Ps为海鸥当前位置；t为当前迭代次数；Miter为最大迭代次数；A为海鸥在给定搜索空间中的运动行为；fc为控制系数，取值从2降到0；向最佳位置所在的方向移动：Ms＝B×-Ps)B＝2×A2×rd式中：Ms为最佳位置所在的方向；Pbs为最佳位置；B为负责平衡全局和局部搜索的随机数；rd为范围内的随机数；到达新的位置：Ds＝|Cs+Ms|式中：Ds是海鸥的向新位置移动的距离。优选地，所述海鸥全局攻击行为，包括以下步骤：通过螺旋运动不断改变攻击角度和速度，螺旋运动行为表示为：式中：r为每个螺旋的半径，θ为范围内的随机角度值；u和v为螺旋形状的相关常数；e为自然对数的底数；引入蝴蝶优化算法的位置更新机制，改进后的海鸥位置更新公式如下：式中：fs＝c·Iα；Ps为更新后的第t+1次迭代的海鸥位置；Pbs表示第t次迭代的最佳位置；Ps为第t次迭代的海鸥位置；fs为第t次迭代的海鸥散发出来的香味；α是之间的一个随机数；λ是之间的一个随机数；r1和r2为之间的随机整数，和分别为随机选择的第r1和r2个海鸥的位置，r1≠r2；rand为之间的随机数；p为切换概率，用于切换海鸥位置更新的公式；c是感知形态因子，为之间的一个随机数；I是刺激因子；a是功率指数，为之间的一个随机数；计算适应度值：fitness＝Ff)式中，Ff为计算适应度值时的适应度函数。优选地，所述对最优海鸥位置进行双向sine变异，包括以下步骤：对于维度j，根据当前迭代次数计算sine混沌值，并等概率切换正负方向：SinValue＝sin式中，rand为0到1的随机数；x0为迭代序列值；对最优位置进行变异扰动：Pbs'＝Pbs+SinValue×Pbs式中：Pbs表示第t次迭代的最优位置Pbs的第j维；贪婪更新：每个维度都进行变异后，停止变异。本发明提出一种基于机器学习的车载网络故障诊断方法，包括以下有益效果：该方法通过引入高斯映射进行海鸥种群位置的初始化，可以提升种群位置分布的均匀性和多样性，进而算法的稳定性得以增强；该方法对海鸥的位置更新方式进行了改进，引入蝴蝶优化算法的位置更新机制来改进海鸥位置更新方式，综合考虑了不同位置更新模式、本次迭代海鸥最优位置、种群内部的其他海鸥位置等因素更新海鸥位置，实现了算法搜索范围的增大，算法的适应性得以增强；该方法对最优海鸥利用双向sine混沌映射变异，实现了算法在后期跳出局部最优解的能力。附图说明图1是本发明实施例的一种基于机器学习的车载网络故障诊断方法的流程图；图2是本发明实施例的车载网络实验平台；图3是本发明实施例的故障诊断结果图。具体实施方式为了使本发明的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本发明进行进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。实施例1本发明的一种基于机器学习的车载网络故障诊断方法，针对SOA存在的几个问题，提出增强型海鸥优化算法优化SVM并用于车载网络的故障诊断，即：一种基于机器学习的车载网络故障诊断方法的流程如图1所示，具体步骤如下：S1：对车载网络故障的原始数据进行故障特征提取，得到车载网络故障诊断的特征向量，构建车载网络故障诊断的数据集，将数据集分为训练数据集和测试数据集。S2：建立基于增强型海鸥算法优化SVM的车载网络故障诊断的目标函数funtion。因为是利用训练数据集计算SVM的分类准确率，所以可以将训练数据集的5折交叉验证SVM的分类准确率作为目标函数，并确定SVM模型的惩罚因子C和RBF核函数参数g的上下限。S3：参数设置。海鸥种群的大小N；迭代的最大次数Miter；海鸥寻优下边界LB；海鸥寻优上边界UBS4：基于海鸥算法，通过高斯映射初始化海鸥种群位置，即初始化每个海鸥的惩罚因子C和核函数参数g，并根据目标函数，计算最优适应度值和最优海鸥位置：通过高斯映射随机数xt产生：利用产生的高斯随机数xt初始化海鸥位置Ps为：Ps＝×xt+LB式中，mod为求余函数，LB为海鸥寻优下边界；UB为海鸥寻优上边界。S5：海鸥迁徙行为：在迁移过程中，算法模拟海鸥群如何从一个位置移动到另一个位置。在这个阶段主要包含三个行为：避免碰撞，向最佳位置方向移动和靠近最佳位置。采用附加变量A计算海鸥的新位置，来避免与其他海鸥碰撞：Cs＝A×PsA＝fc-式中：Cs为不与其他海鸥存在位置冲突的新位置；Ps为海鸥当前位置；t为当前迭代次数；Miter为最大迭代次数；A为海鸥在给定搜索空间中的运动行为；fc为控制系数，取值从2降到0；向最佳位置所在的方向移动：Ms＝B×-Ps)B＝2×A2×rd式中：Ms为最佳位置所在的方向；Pbs为最佳位置；B为负责平衡全局和局部搜索的随机数；rd为范围内的随机数；到达新的位置：Ds＝|Cs+Ms|式中：Ds是海鸥的向新位置移动的距离。S6：海鸥攻击行为：海鸥在攻击猎物过程中，通过螺旋运动不断改变攻击角度和速度，螺旋运动行为表示为：式中：r为每个螺旋的半径，θ为范围内的随机角度值；u和v为螺旋形状的相关常数；e为自然对数的底数。原始海鸥算法中，只利用最优海鸥位置进行引导，来更新海鸥位置，为了更加有效的提高海鸥的全局搜索能力，引入蝴蝶优化算法算法的位置更新机制来改进海鸥位置更新方式，综合考虑了根据切换概率选择不同位置更新模式、本次迭代海鸥最优位置、种群内部的其他海鸥位置等因素更新海鸥位置，避免每次迭代中出现局部最优，进而提高海鸥算法的全局搜索能力。引入蝴蝶优化算法的位置更新机制，改进后的海鸥位置更新公式如下：式中：fs＝c·Iα；Ps为更新后的第t+1次迭代的海鸥位置；Pbs表示第t次迭代的最佳位置；Ps为第t次迭代的海鸥位置；fs为第t次迭代的海鸥散发出来的香味；α是之间的一个随机数；λ是之间的一个随机数；r1和r2为之间的随机整数，和分别为随机选择的第r1和r2个海鸥的位置，r1≠r2；rand为之间的随机数；p为切换概率，用于切换海鸥位置更新的公式；c是感知形态因子，为之间的一个随机数；I是刺激因子；a是功率指数，为之间的一个随机数。计算适应度值：fitness＝Ff)式中，Ff为计算适应度值时的适应度函数。S7：记录当次迭代中最优海鸥。S8：对最优海鸥位置进行双向sine变异，将变异前后适应度值最优的海鸥位置，作为更新后的最优海鸥位置。根据当前迭代次数计算sine混沌值，并等概率切换正负方向：SinValue＝sin式中，rand为0到1的随机数；x0为迭代序列值；对最优位置进行变异扰动：Pbs'＝Pbs+SinValue×Pbs式中：Pbs表示第t次迭代的最优位置Pbs的第j维；贪婪更新：每个维度都进行变异后，停止变异。S9：记录当次迭代中最优海鸥。S10：重复执行S6～S9，根据预设的最大迭代次数依次更新最优海鸥位置，确定最优海鸥位置，即得到SVM的最优参数Cbest和gbest。S11：将最优的惩罚因子C和核函数参数g作为SVM模型参数构建车载网络故障诊断模型；将车载网络故障诊断的特征向量，输入到训练后的车载网络故障诊断模型，获得故障诊断结果和测试准确率。本实施例中：如图2所示为车载网络实验平台，该平台采用双总线拓扑结构，总线末端接端接器以防止阻抗不匹配而发生发射现象，网络上分别挂接车载网络协议分析仪1台、车载网络故障注入设备1台、网络节点6个等。在验证实验中，平台模拟车载网络6种典型状态，分别是：①网络正常；②网络断路；③近端端接故障；④远端端接故障；⑤双侧端接故障；⑥间歇性断路。采集车载网络每种状态2000组样本，并随机将其中1600组作为训练样本，剩余400组为测试样本。分别采用SOA-SVM和ISOA-SVM对车载网络进行故障诊断。SOA算法中的参数为：N＝50，Maxiter＝200，C和g的搜索范围均是在0-100之间，即LB＝0，UB＝100；ISOA算法中的参数为：N＝50，Maxiter＝200，C和g的搜索范围均是在0-100之间，即LB＝0，UB＝100。如图3所示，与SOA-SVM比较，ISOA-SVM对车载网络的6种状态的独立诊断精度均要高些；对于平均诊断精度，ISOA-SVM相比于SOA-SVM提高了7.03％。也就是说，ISOA搜索得到的SVM参数要优于SOA搜索得到的SVM参数。仿真结果表明，ISOA算法比SOA算法搜索能力更强，ISOA-SVM比SOA-SVM的诊断精确度更高，验证了方法的有效性。以上仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护范围之内。
