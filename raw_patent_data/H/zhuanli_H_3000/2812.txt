标题title
采用串联方式连接的直流电机电动推杆群系统
摘要abst
本发明公开了采用串联方式连接的直流电机电动推杆群系统，上位机通过RS485或CAN总线串行通讯电路给所述电动推杆群中每个电动推杆的控制与通讯单元发出电动推杆编号ID和伸出、缩进或停止指令，以控制对应电动推杆的单相逆变全桥输出电压端口Vo1和Vo2之间的电压差，进而控制电动推杆群的伸出、缩进或停止，解决了并联连接的电动推杆群需要过多的上位机I/O端子和电源连线、位置传感器信号连线过长的问题，并且用寿命长、开关次数多的直流电源极性变换单相逆变全桥代替常用的机械电磁式继电器和对电动推杆直流电机实现过电流保护，从而本发明显著减少了上位机的I/O端子数、节省了电源连线和信号线和提高了电动推杆应用的可靠性和寿命。
权利要求书clms
1.采用串联方式连接的直流电机电动推杆群系统，其特征在于：该系统包括：直流电机电动推杆群；所述直流电机电动推杆群包含单片机微处理器、总线串行通讯接口电路、直流电源极性变换单相逆变全桥、采样电阻、DC/DC电源转换电路和控制与通讯单元；所述单片机微处理器用于实时比较流过所述采样电阻的电流是否在上位机串行信号设定的安全工作电流范围内，若否，单片机微处理器则通过控制所述总线串行通讯接口电路对上位机进行过电流报警，并将所述控制与通讯单元的两个输出端口Vo1与Vo2之间电压差Vo1 - Vo2设置为“0”V，以实现对应电动推杆停止运动控制；所述DC/DC电源转换电路用于给单片机微处理器提供电源，并为对应的直流电机电动推杆群工件的位置传感器SnF 和SnR提供所需电源；上位机通过总线串行通讯接口电路给直流电机电动推杆群发出电动推杆的编号ID和相应指令，对应的控制与通讯单元控制电动推杆的直流电源极性变换单相逆变全桥输出电压Vo1和Vo2之间的电压差，进而控制电动推杆群的伸出或缩进或停止。2.根据权利要求1所述的采用串联方式连接的直流电机电动推杆群系统，其特征在于：控制与通讯单元的I/O输出三极管控制信号Si为“1”，对应NPN三极管Ti就导通， 其中i=1，2，3和4；当i = 2或4时，对应NPN三极管T2或T4导通，驱动N型MOSFET Q2或Q4；当i = 1或3时，对应NPN三极管T1或T3导通，驱动P型MOSFET Q1或Q3导通。3.根据权利要求2所述的采用串联方式连接的直流电机电动推杆群系统，其特征在于：控制与通讯单元的I/O输出三极管控制信号Si为“0”，其中i=1，2，3和4，对应NPN三极管Ti和MOSFET Qi均处于关断状态，直流电源极性变换单相逆变全桥输出电压Vo1 - Vo2 = 0V，电动推杆群停止运行。4.根据权利要求2所述的采用串联方式连接的直流电机电动推杆群系统，其特征在于：控制与通讯单元的I/O输出三极管控制信号S1和 S4为“1”， 而S2和S3为“0”时，则对应NPN三极管T1、T4和驱动P型MOSFET Q1、驱动N型MOSFET Q4导通，对应NPN三极管T2、T3和驱动N型MOSFET Q2、驱动P型MOSFET Q3处于关断状态，直流电源极性变换单相逆变全桥输出电压为Vo1 - Vo2 = +24V，电动推杆群直线伸出运动。5.根据权利要求4所述的采用串联方式连接的直流电机电动推杆群系统，其特征在于：第n个电动推杆直线伸出运动后，位置传感器SnF发出PnF为“1”，单片机微处理器单元输入PnF的状态，并将控制与通讯单元的I/O输出三极管控制信号S1和 S4设置为“0”，则第n个电动推杆停止伸出运动，同时总线串行通讯接口电路给上位机发出第n个电动推杆伸出到达设定位置的信号。6.根据权利要求2所述的采用串联方式连接的直流电机电动推杆群系统，其特征在于：控制与通讯单元的I/O输出三极管控制信号S2和 S3为“1”，而S1和S4为“0”，对应NPN三极管T2、T3和驱动N型MOSFET Q2和驱动P型MOSFET Q3导通，对应NPN三极管T1、T4和驱动P型MOSFET Q1、驱动N型MOSFET Q4关断，直流电源极性变换单相逆变全桥输出电压为Vo1 - Vo2= -24V，电动推杆直线缩进运动。7.根据权利要求5所述的采用串联方式连接的直流电机电动推杆群系统，其特征在于：第n个电动推杆直线缩进运动后，位置传感器SnR发出PnR为“1”，单片机微处理器输入PnR的状态，并将控制与通讯单元的I/O输出三极管控制信号S2和 S3设置为“0”，则第n个电动推杆停止缩进运动，同时总线串行通讯接口电路给上位机发出第n个电动推杆缩进到达设定位置的信号。8.根据权利要求1所述的采用串联方式连接的直流电机电动推杆群系统，其特征在于：控制与通讯单元包括RS485或CAN总线控制与通讯单元， 总线串行通讯接口电路包括RS485或CAN总线串行通讯接口电路；DC/DC电源转换电路可以将输入的供电电源+24V转换成用于给单片机微处理器或位置传感器提供电源的VCC = 5V或3.3V以及给工件的位置传感器SnF和SnR供电的+12V电源。9.根据权利要求1所述的采用串联方式连接的直流电机电动推杆群系统，其特征在于：电动推杆群采用串联连接方式连接，且电动推杆群采用两路直流电源线和两路通讯信号线，串联连接到每个电动推杆的控制与通讯单元，控制与通讯单元再就近与对应的电动推杆的电源端子和电动推杆所推动的工件的位置传感器信号端口相连接。10.根据权利要求1所述的采用串联方式连接的直流电机电动推杆群系统，其特征在于：控制与通讯单元采用直流电源模块供电，控制与通讯单元则通过RS485或CAN总线串行通讯接口电路的两路信号线与电动推杆群相连接；RS485或CAN总线串行通讯接口电路的端口设置有输入端口和输出端口。
说明书desc
技术领域本发明涉及直流电机电动推杆群系统控制技术领域，具体涉及采用串联方式连接的直流电机电动推杆群系统。背景技术电动推杆是由直流电机、推杆、齿轮组、限位开关和外壳等组成的一种直线运动执行机构，可以实现远距离控制、集中控制，在一定行程范围内作往返直线运动。由于其快速可控、无需使用液体或者气体取代了许多液压和气动直线运动执行机构，在提供推力或者拉力的同时实现直线运动的速度和定位控制。电动推杆适用于远距离操纵而广泛用于电力、化工、冶金、矿山、轻工、交通、船舶等部门的风门、阀门、闸门等机构的启闭、物料装卸、流量控制等。现已被越来越多的场合用它来代替机构手、液压阀、减速传动机构等装置。其中一个典型的应用场景就是新能源电动车动力电池自动换电站，一座电池自动换电站往往就可能采用了多达36个的电动推杆，形成了一组电动推杆群。如图1所示，一个直流电机驱动的电动推杆通常需要两个继电器RLYnF 和RLYnR来分别控制N个电动推杆的伸出和缩进以及停止三种运动状态。为了控制被电动推杆所推动的工件或目标物体到指定的位置，通常还会配2个光耦或霍尔位置传感器SnF和SnR，它们通常由+12V电源供电，输出PnF和PnR两路位置信号，可分别用“1”高电平表示所推动的工件已经到达设定的伸出和缩进的停止位置。图中的CnF和CnR是分别用来控制继电器RLYnF 和RLYnR导通和断开的信号。当CnF为高电平、CnR为低电平时，继电器RLYnF导通，电动推杆伸出；当CnF为低电平、CnR为高电平时，继电器RLYnR导通，电动推杆缩进。其它状态下，电动推杆停止运行。目前电动推杆群都采用图1所示的并联方式控制，由1到N个电动推杆、2N个继电器RLYnF 和RLYnR、2N个位置传感器SnF和SnR和一个可编程逻辑控制器PLC组成。其中PLC需要至少2N个输出端子，2N个输入端子，3N个电源或地端子。每个电动推杆单元都是独立地连接到电控柜，直流电源线、位置传感器电源和信号线连接方式相同，即每个电动推杆都用2路电源线连接到控制柜继电器RLYnF 和RLYnR来获取电动推杆工作直流电源，位置传感器SnF和SnR的电源、地线和输出信号由4路信号电源线也从电动推杆附近连接到电控柜中PLC的端子上。连接电动推杆群的电源和控制信号线路可能长达7m，电动推杆直流电源连接线就需要36 × 7 × 2 = 504m， 传感器的连接线就要 36 × 7 × 4 = 1008m，可见连接导线非常长。另外，并联连接控制的电动推杆群需要PLC具备至少4~7N或× 36= 144 ~252个I/O端子，要求的端子数多。随着电动推杆的个数N增加，I/O端子数目也是显著增加。此外在使用伸出和缩进继电器时，也发现在继电器断开时由于直流电机和长连接导线电感存在断电拉弧问题，不久继电器触点就被烧伤或者损坏，造成继电器不能正常工作，即不能正常闭合导通或者继电器触点导通电阻明显增大和发热，继电器的寿命在直流电机电动推杆应用场合普遍非常短。发明内容为解决上述问题，本发明提供了采用串联方式连接的电动推杆群系统，解决了电动推杆群需要PLC具备至少4~7N或× 36= 144 ~ 252个I/O端子的问题。解决了随着电动推杆都个数增加I/O端子数目显著增加的问题。此外在使用伸出和缩进继电器时，也发现在继电器断开时由于直流电机和长连接导线存在断电拉弧问题，不久继电器触点就被烧伤或者损坏，造成继电器不能正常工作，即不能正常闭合导通或者继电器触点导通电阻明显增大和发热，继电器的寿命在直流电机电动推杆应用场合普遍非常短的问题。本发明的技术方案是：采用串联方式连接的直流电机电动推杆群系统，该系统包括：直流电机电动推杆群；所述直流电机电动推杆群包含单片机微处理器、总线串行通讯接口电路、直流电源极性变换单相逆变全桥、采样电阻、DC/DC电源转换电路和控制与通讯单元；所述单片机微处理器用于实时比较流过所述采样电阻的电流是否在上位机串行信号设定的安全工作电流范围内，若否，单片机微处理器则通过控制所述总线串行通讯接口电路对上位机进行过电流报警，并将所述控制与通讯单元的两个输出端口Vo1与Vo2之间电压差Vo1 - Vo2设置为“0”V，以实现对应电动推杆停止运动控制；所述DC/DC电源转换电路用于给单片机微处理器提供电源，并为对应的直流电机电动推杆群工件的位置传感器SnF 和SnR提供所需的+12V电源；上位机通过总线串行通讯接口电路给直流电机电动推杆群发出电动推杆的编号ID，对应的控制与通讯单元控制电动推杆的直流电源极性变换单相逆变全桥输出电压Vo1和Vo2之间的电压差，进而控制电动推杆群的伸出或缩进或停止。优选的，控制与通讯单元的I/O输出三极管控制信号Si为“1”，对应NPN三极管Ti就导通， 其中i=1，2，3和4；当i = 2或4时，对应NPN三极管T2或T4导通，驱动N型MOSFET Q2或Q4；当i = 1或3时，对应NPN三极管T1或T3导通，驱动P型MOSFET Q1或Q3导通。优选的，控制与通讯单元的I/O输出三极管控制信号Si为“0”，其中i=1，2，3和4，对应NPN三极管Ti和MOSFET Qi均处于关断状态，直流电源极性变换单相逆变全桥输出电压Vo1- Vo2 = 0V，电动推杆群停止运行；优选的，控制与通讯单元的I/O输出三极管控制信号S1和 S4为“1”， 而S2和S3为“0”时，则对应NPN三极管T1、T4和驱动P型MOSFET Q1、驱动N型MOSFET Q4导通，对应NPN三极管T2、T3和驱动N型MOSFET Q2、驱动P型MOSFET Q3处于关断状态，直流电源极性变换单相逆变全桥输出电压为Vo1 - Vo2 = +24V，电动推杆群直线伸出运动。优选的，第n个电动推杆直线伸出运动后，位置传感器SnF发出PnF为“1”，单片机微处理器单元输入PnF的状态，并将控制与通讯单元的I/O输出三极管控制信号S1和 S4设置为“0”，则第n个电动推杆停止伸出运动，同时总线串行通讯接口电路给上位机发出第n个电动推杆伸出到达设定位置的信号。优选的，控制与通讯单元的I/O输出三极管控制信号S2和 S3为“1”，而S1和S4为“0”，对应NPN三极管T2、T3和驱动N型MOSFET Q2和驱动P型MOSFET Q3导通，对应NPN三极管T1、T4和驱动P型MOSFET Q1、驱动N型MOSFET Q4关断，直流电源极性变换单相逆变全桥输出电压为Vo1 - Vo2 = -24V，电动推杆直线缩进运动。优选的，第n个电动推杆直线缩进运动后，位置传感器SnR发出PnR为“1”，单片机微处理器输入PnR的状态，并将控制与通讯单元的I/O输出三极管控制信号S2和 S3设置为“0”，则第n个电动推杆停止缩进运动，同时总线串行通讯接口电路给上位机发出第n个电动推杆缩进到达设定位置的信号。优选的，控制与通讯单元包括RS485或CAN总线控制与通讯单元， 总线串行通讯接口电路包括RS485或CAN总线串行通讯接口电路；DC/DC电源转换电路可以将输入的供电电源+24V转换成用于给单片机微处理器或位置传感器提供电源的VCC = 5V或3.3V。优选的，电动推杆群采用串联连接方式连接，且电动推杆群采用两路直流电源线和两路通讯信号线，串联连接到每个电动推杆的控制与通讯单元，控制与通讯单元再就近与对应的电动推杆的电源端子和电动推杆所推动的工件的位置传感器信号端口相连接。优选的，控制与通讯单元采用直流电源模块供电，控制与通讯单元则通过RS485或CAN总线串行通讯接口电路的两路信号线与电动推杆群相连接；RS485或CAN总线串行通讯接口电路的端口设置有输入端口和输出端口。本发明的有益技术效果是：1、针对串联连接电动推感群应用，最多可以控制到256个电动推杆，可以大幅度地节省电源电线和位置传感器的信号线。电动推杆数越多，电线及其成本节省效果越显著。2、省去上位机× N个I/O端子，可以将上位机成本降到最低或者可省去电动推杆群控制专用的上位机，简化电动推杆群个数的增加和电控系统的电线连接，可以降低控制电动推杆群的上位机的成本。3、电动推杆控制与通讯单元中含有电动推杆工作电流采样电阻，带有电流过流保护和报警功能，从而避免了电动推杆中的直流电机过电流烧坏，也避免了直流电源极性变换单相逆变全桥的过电流，还能避免电动推杆供电电源+24V的过流保护动作、提高电动推杆群工作的可靠性。4、用寿命长、开关次数多的直流电源极性变换单相逆变全桥代替了机械电磁式继电器。避免了机械电磁式继电器断开时由于直流电机和长连接导线电流引起的触点电拉弧问题，避免了机械电磁式继电器的寿命在直流电机电动推杆应用场合普遍非常短的情形，可以省去电动推杆群的继电器维护工作，节省电动杆群的维护成本。5、电动推杆控制与通讯单元的单片机微处理器及其串行通讯，便于实现智能控制和故障诊断。附图说明图1 为本发明的一个常用的电动推杆群应用示例；图2 为本发明的基于RS485通讯的串联连接的电动推杆群；图3为本发明的基于CAN通讯的串联连接的电动推杆群；图4为本发明的采用RS485通讯的电动推杆控制与通讯单元；图5为本发明的采用CAN通讯的电动推杆控制与通讯单元。具体实施方式为了能够更清楚了解本发明的技术手段，并可依照说明书的内容予以实施，下面结合附图和实施例，对本发明的具体实施方式作进一步详细描述，以下实施例用于说明本发明，但不用来限制本发明的范围。如图2-5所示，本发明具体涉及采用串联方式连接的直流电机电动推杆群系统，该系统包括：直流电机电动推杆群；所述直流电机电动推杆群包含单片机微处理器、总线串行通讯接口电路、直流电源极性变换单相逆变全桥、采样电阻、DC/DC电源转换电路和控制与通讯单元；所述单片机微处理器用于实时比较流过所述采样电阻的电流是否在上位机串行信号设定的安全工作电流范围内，若否，单片机微处理器则通过控制所述总线串行通讯接口电路对上位机进行过电流报警，并将所述控制与通讯单元的两个输出端口Vo1与Vo2之间电压差Vo1 - Vo2设置为“0”V，以实现对应电动推杆停止运动控制；所述DC/DC电源转换电路用于给所述单片机微处理器提供电源，并为对应的所述直流电机电动推杆群工件的位置传感器SnF 和SnR提供所需电源；上位机通过总线串行通讯接口电路给所述直流电机电动推杆群发出电动推杆的编号ID，对应的控制与通讯单元控制电动推杆的直流电源极性变换单相逆变全桥输出电压Vo1和Vo2之间的电压差，进而控制电动推杆群的伸出或缩进或停止。在串联连接的电动推杆群中，用一对直流电源线和一对通讯信号线分别连接到对每个电动推杆的控制与通讯单元，然后该控制与通讯单元就近与对应的电动推杆电源端子和其所推动的工件或目标物体的位置传感器信号端口相连接。控制与通讯单元直流电源线由一直流电源模块供电，可编程逻辑控制器PLC则通过RS485或者CAN总线一对2路信号线与所有的电动推杆控制与通讯单元串联相连接。PLC或者集中控制单元只需要RS485或CAN总线的两个端口，一个输入端口，另外一个为输出端口，不再需要至少4×N个I/O端口，与电动推杆个数N无关。如图5所示，电动推杆控制与通讯单元由DC/DC电源转换电路、RS485或CAN总线通讯接口电路、直流电源极性变换单相逆变全桥、电动推杆电流采样电阻和至少带RS485或CAN控制与通讯单元、6路I/O端口与1路ADC单元的单片机微处理器组成。DC/DC电源转换电路负责给单片机微处理器提供电源和对应的位置传感器SnF 与SnR提供电源。当PLC或上位机通过RS485或CAN总线给受控的电动推杆控制与通讯单元串行发出其编号ID、伸出或缩进、或停止等指令时，编号ID相符的电动推杆控制与通讯单元就按照指令对其输出端子S1、S2、S3和S4进行相应的控制，从而控制电动推杆供电电源端子Vo1和Vo2的之间的电压，如下表所示：由于MOSFET Q1、Q2、Q3和Q4和电流采样电阻Rs存在压降，因此Vo1和Vo2在对应MOSFET导通时的电压接近+24V或者0V，输出到电动推杆的实际电压比24V电源电压稍微小一些。当Si=“1”高电平时，对应NPN三极管Ti就导通。当i = 2或4时，T2或T4导通，驱动N型MOSFET Q2或Q4；当i = 1或3时，T1或T3导通，驱动P型MOSFET Q1或Q3导通。任何时候只有：Si都为“0”，i = 1，2，3和4，这时所有的三极管Ti和MOSFET Qi都是关断状态，直流电源极性变换单相逆变全桥输出电压Vo1 - Vo2 = 0V，电动推杆停止运行；S1和 S4为“1”， S2和S3为“0”，T1、T4、Q1和Q4导通，T2、T3、Q2和Q3关断，直流电源极性变换单相逆变全桥输出电压为Vo1 - Vo2 = +24V，电动推杆直线伸出运动，直至位置传感器SnF发出PnF = “1”，这时电动推杆控制与通讯单元中的单片机微处理器单元输入PnF的状态，并将S1和 S4为“0”停止电动推杆的伸出运动，同时由串行通讯给PLC或上位机发出电动推杆伸出到达设定位置的信号；S2和 S3为“1”， S1和S4为“0”，T2、T3、Q2和Q3导通，T1、T4、Q1和Q4关断直流电源极性变换单相逆变全桥输出电压为Vo1 - Vo2 = -24V，电动推杆直线缩进运行，直至位置传感器SnR发出PnR = “1”，这时电动推杆控制与通讯单元中的单片机微处理器输入PnR的状态，并将S2和 S3为“0”停止电动推杆的缩进运动，同时由串行通讯给PLC或上位机发出电动推杆缩进到达设定位置的信号。此外单片机微处理器电动推杆对根据PLC或上位机设定的伸出或缩进运动允许时间进行计时，一旦伸出或缩进运动超过允许时间，就通过串行通讯RS485 或者CAN总线对PLC或上位机进行超时报警并将Si都为设置“0”，电动推杆停止运动，直至PLC或上位机通过串行通讯RS485 或者CAN总线对电动推杆控制与通讯单元中的单片机微处理器发出新的指令。在S1和 S4为“1”、S2和S3为“0”或者S2和 S3为“1”，S1和S4为“0”时，即电动推杆伸出或者缩进运动过程中，直流电机在运行，电动推杆控制与通讯单元中的单片机微处理器ADC单元一直输入图4电流采样电阻Rs压降，单片机微处理器固件实时比较直流电机的电流是否工作由上位机串行信号设定的安全工作电流范围，一旦电流超出允许范围，就通过串行通讯RS485 或者CAN总线对PLC或上位机进行过流报警并将Si都为设置“0”，电动推杆停止运动，直至PLC或上位机通过串行通讯RS485 或者CAN总线对电动推杆控制与通讯单元中的单片机微处理器发出新的指令。从而避免电动推杆中的直流电机过电流烧坏，也避免直流电源极性变换单相逆变全桥过电流，还能避免电动推杆供电总电源24V的过流保护动作，即避免一个电动推杆直流电机过电流故障所导致的所有电动推杆都不能正常运行的情况，提高了电动推杆群工作的可靠性。以上所述仅是本发明的优选实施方式，并不用于限制本发明，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明技术原理的前提下，还可以做出若干改进和变型，比如供电电源24V可改变为其它电压，这些改进和变型也应视为本发明的保护范围。
