标题title
多运营商网络自动选择方法、装置、设备及存储介质
摘要abst
本发明实施例公开了一种多运营商网络的自动选择方法，该方法包括：获取用户设备的业务类型，确定所述业务类型对应的切卡条件，所述切卡条件是通过服务器获取用户设备上报的历史测量报告、采集到的历史实时速率以及业务类型得到的，所述历史测量报告中记载了多个网络指标，根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件；当满足切卡条件时，确定目标运营商网络，将用户设备的网络切换为所述目标运营商网络。该该切卡条件的设置更加科学合理。此外，还提出了一种多运营商网络的自动选择装置、设备及存储介质。
权利要求书clms
1.一种多运营商网络的自动选择方法，其特征在于，应用于用户设备，所述用户设备包括：聚合卡片底板，所述聚合卡片底板上安装有多个运营商的贴片卡；所述方法包括：获取用户设备的业务类型，确定所述业务类型对应的切卡条件，所述切卡条件是通过服务器获取用户设备上报的历史测量报告、采集到的历史实时速率以及业务类型得到的，所述历史测量报告中记载了多个网络指标，所述多个网络指标包括：信道质量指标、时延、信噪比、信号与干扰加噪声比、信号接收质量、信号接收功率、信号强度，根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件；所述用户设备与基站周期性交互进行实时数据采集，根据实时采集到的多个周期数据判断是否满足切卡条件，当满足切卡条件时，确定目标运营商网络，将用户设备的网络切换为所述目标运营商网络，包括：当满足切卡条件时，服务器获取用户设备所在的地理位置，根据所述地理位置获取预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及获取用户设备在当前时间段内对应的历史通讯状态以及运营商网络；所述服务器获取与用户设备交互的移动终端，所述移动终端靠近所述用户设备通过扫码与所述用户设备交互，服务器获取交互时发起报文的第一时间戳、接收报文的第二时间戳，以及获取移动终端与所述用户设备交互时的传输数据大小以及运营商网络；根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络、以及所述第一时间戳、第二时间戳、传输数据大小以及运营商网络确定候选运营商网络；获取所述候选运营商网络的当前通讯状态，若所述当前通讯状态满足预设条件，则将所述候选运营商网络作为目标运营商网络。2.根据权利要求1所述的方法，其特征在于，所述根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件，包括：确定业务类型对应的网络要求，所述网络要求包括：最低通讯率要求和时延要求；根据所述网络要求和所述映射关系表，将所述网络要求转换为最低CQI值、最低SNR值、最低SINR值、最低RSRQ值、最低RSRP值和最低CSQ值；根据所述最低CQI值、最低SNR值、最低SINR值、最低RSRQ值、最低RSRP值和最低CSQ值确定切卡条件。3.根据权利要求1所述的方法，其特征在于，所述根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及用户设备在当前时间段内对应的历史通讯状态以及运营商网络确定候选运营商网络，包括：根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及运营商网络构建得到第一网络特征向量；根据所述用户设备在当前时间内的历史通讯状态以及运营商网络构建得到第二网络特征向量；根据所述交互时发起报文的第一时间戳、接收报文的第二时间戳，传输数据大小以及运营商网络构建得到第三网络特征向量；将所述第一网络特征向量、所述第二网络特征向量和所述第三网络特征向量作为网络预测模型的输入，获取所述网络预测模型输出的每个运营商网络对应的网络质量级别以及持续时长；根据所述每个运营商网络对应的网络质量级别以及对应的持续时长确定候选运营商网络。4.根据权利要求3所述的方法，其特征在于，所述方法还包括：获取所述多个其他设备在当前时间段内对应的历史通讯状态以及运营商网络；将所述多个其他设备在当前时间段内对应的历史通讯状态以及运营商网络与所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络进行关联，得到第四网络特征向量；所述将所述第一网络特征向量、第二网络特征向量和第三网络特征向量作为网络预测模型的输入，获取所述网络预测模型输出的每个运营商网络对应的网络质量级别以及对应的持续时长，包括：将所述第一网络特征向量、第二网络特征向量、第三网络特征向量和第四网络特征向量作为网络预测模型的输入，获取所述网络预测模型输出的每个运营商网络对应的网络质量级别以及对应的持续时长。5.根据权利要求4所述的方法，其特征在于，所述网络预测模型中包括第一通道、第二通道和第三通道；所述第一网络特征向量和第四网络特征向量作为第一通道的输入，所述第二网络特征向量作为第二通道的输入，所述第三网络特征作为第三通道的输入；所述第一网络特征向量和所述第四网络特征向量通过所述第一通道对应的第一融合层进行融合得到第一融合特征，所述第一融合特征与所述第二通道通过第二融合层进行融合，得到第二融合特征，所述第二融合特征与所述第三通道通过第三融合层进行融合，得到第四融合特征，基于所述第四融合特征进行运营商网络质量预测，得到每个运营商网络对应的网络质量级别以及对应的持续时长。6.根据权利要求1所述的方法，其特征在于，所述当满足切卡条件时，获取其他运营商网络的当前通讯效率，根据所述当前通讯效率确定切换的目标运营商网络，将用户设备的网络切换为所述目标运营商网络，包括：所述聚合卡片底板中设置有1级SIM切换开关和2级SIM切换开关，1级SIM切换开关用于将SIM卡线路分为2组，然后通过所述2级SIM切换开关将SIM卡线路分为4组，所述4组分别与3个贴片卡座和1个外置卡座相连，所述1级和2级SIM切换开关与模块GPIO引脚相连，通过GPIO引脚的信号状态进行运营商网络的选择。7.一种多运营商网络的自动选择装置，其特征在于，应用于用户设备，所述用户设备包括：聚合卡片底板，所述聚合卡片底板上安装有多个运营商的贴片卡；所述装置包括：确定模块，用于获取用户设备的业务类型，确定所述业务类型对应的切卡条件，所述切卡条件是通过服务器获取用户设备上报的历史测量报告、采集到的历史实时速率以及业务类型得到的，所述历史测量报告中记载了多个网络指标，所述多个网络指标包括：信道质量指标、时延、信噪比、信号与干扰加噪声比、信号接收质量、信号接收功率、信号强度，根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件；判断模块，用于所述用户设备与基站周期性交互进行实时数据采集，根据实时采集到的多个周期数据判断是否满足切卡条件；切换模块，用于当满足切卡条件时，获取其他运营商网络的当前通讯效率，根据所述当前通讯效率确定切换的目标运营商网络，将用户设备的网络切换为所述目标运营商网络，包括：当满足切卡条件时，服务器获取用户设备所在的地理位置，根据所述地理位置获取预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及获取用户设备在当前时间段内对应的历史通讯状态以及运营商网络；所述服务器获取与用户设备交互的移动终端，所述移动终端靠近所述用户设备通过扫码与所述用户设备交互，服务器获取交互时发起报文的第一时间戳、接收报文的第二时间戳，以及获取移动终端与所述用户设备交互时的传输数据大小以及运营商网络；根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络、以及所述第一时间戳、第二时间戳、传输数据大小以及运营商网络确定候选运营商网络；获取所述候选运营商网络的当前通讯状态，若所述当前通讯状态满足预设条件，则将所述候选运营商网络作为目标运营商网络。8.一种计算机可读存储介质，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行如权利要求1至6中任一项所述的多运营商网络的自动选择方法的步骤。9.一种计算机设备，包括存储器和处理器，其特征在于，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行如权利要求1至6中任一项所述的多运营商网络的自动选择方法的步骤。
说明书desc
技术领域本发明涉及计算机处理技术领域，尤其涉及一种多运营商网络自动选择方法、装置、设备及存储介质。背景技术随着物联网行业的日益发展，海量设备快速上线，大量业务数据通过移动网络在设备端和云端交互，移动通讯不仅仅是数据传输的桥梁，更是整个业务稳定运行的重要保障。在基于移动蜂窝通讯领域，网络通讯目前存在主要问题表现在以下2个方面：运营商区域信号覆盖不均衡；部分区域仅有1家或者2家信号，且信号不稳定。运营商带宽不均衡，部分热点地区，大规模业务上线，物联网设备终端互相竞争带宽资源，从而挤掉正常在线设备，导致业务掉线。为了提高业务的稳定性，有些会在物联网端设置多个运营商网络供选择，当某个运营商网络故障或者信号不好时，可以进行运营商网络的切换，从而保证业务的稳定进行。但是当前往往只是运营商网络故障不可用时才会进行运营商网络的切换，事实上，当网络质量不好的时候已经在开始影响业务运行了，目前的切换方式显然不够合理，仍然会影响业务的有效开展。发明内容基于此，有必要针对上述切换方式不合理的问题，提出了一种多运营商网络的自动选择方法、装置、设备及存储介质。一种多运营商网络的自动选择方法，应用于用户设备，所述用户设备包括：聚合卡片底板，所述聚合卡片底板上安装有多个运营商的贴片卡；所述方法包括：获取用户设备的业务类型，确定所述业务类型对应的切卡条件，所述切卡条件是通过服务器获取用户设备上报的历史测量报告、采集到的历史实时速率以及业务类型得到的，所述历史测量报告中记载了多个网络指标，所述多个网络指标包括：信道质量指标、时延、信噪比、信号与干扰加噪声比、信号接收质量、信号接收功率、信号强度，根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件；所述用户设备与基站周期性交互进行实时数据采集，根据实时采集到的多个周期数据判断是否满足切卡条件，当满足切卡条件时，确定目标运营商网络，将用户设备的网络切换为所述目标运营商网络，包括：当满足切卡条件时，服务器获取用户设备所在的地理位置，根据所述地理位置获取预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及获取用户设备在当前时间段内对应的历史通讯状态以及运营商网络；所述服务器获取与用户设备交互的移动终端，所述移动终端靠近所述用户设备通过扫码与所述用户设备交互，服务器获取交互时发起报文的第一时间戳、接收报文的第二时间戳，以及获取移动终端与所述用户设备交互时的传输数据大小以及运营商网络；根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络、以及所述第一时间戳、第二时间戳、传输数据大小以及运营商网络确定候选运营商网络；获取所述候选运营商网络的当前通讯状态，若所述当前通讯状态满足预设条件，则将所述候选运营商网络作为目标运营商网络。一种多运营商网络的自动选择装置，应用于用户设备，所述用户设备包括：聚合卡片底板，所述聚合卡片底板上安装有多个运营商的贴片卡；所述装置包括：确定模块，用于获取用户设备的业务类型，确定所述业务类型对应的切卡条件，所述切卡条件是通过服务器获取用户设备上报的历史测量报告、采集到的历史实时速率以及业务类型得到的，所述历史测量报告中记载了多个网络指标，所述多个网络指标包括：信道质量指标、时延、信噪比、信号与干扰加噪声比、信号接收质量、信号接收功率、信号强度，根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件；判断模块，用于所述用户设备与基站周期性交互进行实时数据采集，根据实时采集到的多个周期数据判断是否满足切卡条件；切换模块，用于当满足切卡条件时，获取其他运营商网络的当前通讯效率，根据所述当前通讯效率确定切换的目标运营商网络，将用户设备的网络切换为所述目标运营商网络，包括：当满足切卡条件时，服务器获取用户设备所在的地理位置，根据所述地理位置获取预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及获取用户设备在当前时间段内对应的历史通讯状态以及运营商网络；所述服务器获取与用户设备交互的移动终端，所述移动终端靠近所述用户设备通过扫码与所述用户设备交互，服务器获取交互时发起报文的第一时间戳、接收报文的第二时间戳，以及获取移动终端与所述用户设备交互时的传输数据大小以及运营商网络；根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络、以及所述第一时间戳、第二时间戳、传输数据大小以及运营商网络确定候选运营商网络；获取所述候选运营商网络的当前通讯状态，若所述当前通讯状态满足预设条件，则将所述候选运营商网络作为目标运营商网络。一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行以下步骤：获取用户设备的业务类型，确定所述业务类型对应的切卡条件，所述切卡条件是通过服务器获取用户设备上报的历史测量报告、采集到的历史实时速率以及业务类型得到的，所述历史测量报告中记载了多个网络指标，所述多个网络指标包括：信道质量指标、时延、信噪比、信号与干扰加噪声比、信号接收质量、信号接收功率、信号强度，根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件；所述用户设备与基站周期性交互进行实时数据采集，根据实时采集到的多个周期数据判断是否满足切卡条件，当满足切卡条件时，确定目标运营商网络，将用户设备的网络切换为所述目标运营商网络，包括：当满足切卡条件时，服务器获取用户设备所在的地理位置，根据所述地理位置获取预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及获取用户设备在当前时间段内对应的历史通讯状态以及运营商网络；所述服务器获取与用户设备交互的移动终端，所述移动终端靠近所述用户设备通过扫码与所述用户设备交互，服务器获取交互时发起报文的第一时间戳、接收报文的第二时间戳，以及获取移动终端与所述用户设备交互时的传输数据大小以及运营商网络；根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络、以及所述第一时间戳、第二时间戳、传输数据大小以及运营商网络确定候选运营商网络；获取所述候选运营商网络的当前通讯状态，若所述当前通讯状态满足预设条件，则将所述候选运营商网络作为目标运营商网络。一种计算机可读存储介质，包括：存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行以下步骤：获取用户设备的业务类型，确定所述业务类型对应的切卡条件，所述切卡条件是通过服务器获取用户设备上报的历史测量报告、采集到的历史实时速率以及业务类型得到的，所述历史测量报告中记载了多个网络指标，所述多个网络指标包括：信道质量指标、时延、信噪比、信号与干扰加噪声比、信号接收质量、信号接收功率、信号强度，根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件；所述用户设备与基站周期性交互进行实时数据采集，根据实时采集到的多个周期数据判断是否满足切卡条件，当满足切卡条件时，确定目标运营商网络，将用户设备的网络切换为所述目标运营商网络，包括：当满足切卡条件时，服务器获取用户设备所在的地理位置，根据所述地理位置获取预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及获取用户设备在当前时间段内对应的历史通讯状态以及运营商网络；所述服务器获取与用户设备交互的移动终端，所述移动终端靠近所述用户设备通过扫码与所述用户设备交互，服务器获取交互时发起报文的第一时间戳、接收报文的第二时间戳，以及获取移动终端与所述用户设备交互时的传输数据大小以及运营商网络；根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络、以及所述第一时间戳、第二时间戳、传输数据大小以及运营商网络确定候选运营商网络；获取所述候选运营商网络的当前通讯状态，若所述当前通讯状态满足预设条件，则将所述候选运营商网络作为目标运营商网络。上述多运营商网络的自动选择方法、装置、计算机设备及存储介质，通过根据用户设备的业务类型进行切卡条件的设置，该切卡条件是通过服务器获取用户设备上报的历史测量报告以及采集到的历史实时速率以及业务类型得到的，历史测量报告中记载了多个网络指标，构建多个网络指标与实时速率的映射关系表，然后根据映射关系表和业务类型确定对应的切卡条件，该切卡条件的设置更加科学合理，当检测到满足切卡条件时进行运营商网络的切换，从而有利于保持用户设备中的业务有效稳定运行。另外，为了提高切卡的准确率，本申请实施例中通过根据同样地理位置，且同样业务类型的设备的各个运营商网络的通讯状态，以及根据用户设备在同一时间段内的历史通讯状态来评估用户设备当前时间段内的各个运营商网络的通讯状态，以及根据与用户设备交互的移动终端的运营商网络的通讯状态来选择候选运营商网络，即根据三个方面来评估运营商网络的通讯状态，即综合三个纬度的网络质量评估，可以确定更为准确的候选运营商网络，从而使得切换后的网络能够稳定运行更长时间。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。其中：图1为一个实施例中多运营商网络的自动选择方法的流程图；图2为一个实施例中确定目标运营商网络的方法流程图；图3为一个实施例中确定候选运营商网络的方法流程图；图4为一个实施例中多运营商网络的自动选择装置的结构框图；图5为一个实施例中计算机设备的内部结构示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。如图1所示，提出了一种多运营商网络的自动选择方法，应用于用户设备，所述用户设备包括：聚合卡片底板，所述聚合卡片底板上安装有多个运营商的贴片卡；所述方法包括：步骤102，获取用户设备的业务类型，确定业务类型对应的切卡条件，切卡条件是通过服务器获取用户设备上报的历史测量报告、采集到的历史实时速率以及业务类型得到的，历史测量报告中记载了多个网络指标，多个网络指标包括：信道质量指标、时延、信噪比、信号与干扰加噪声比、信号接收质量、信号接收功率、信号强度，根据历史测量报告和历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据映射关系表和业务类型确定对应的切卡条件。其中，为了能够科学合理的设置切卡条件，这里是基于业务类型来进行切卡条件设置的，不同的业务类型对于网络质量的要求是不一样的，比如，对于，大流量的设备，往往要求的网络质量高，对于小流量的设备，往往要求比较低，当达到切卡条件进行切卡处理，这样有利于避免频繁的进行切卡，所以科学合理的设置切卡条件有利于保持用户设备中的业务有效稳定运行。具体地，先根据用户设备上报的历史测量报告以及采集到的历史实时速率进行映射关系表建立，建立的表格关系如下所示，历史测量报告中除了不包含RATE外，包括有其他多个网络指标，通过服务器获取用户设备的实时速率构建如下映射关系表，包括了RATE与CQI之间的映射关系，其中，CQI的值为0-15，通过业务类型确定速率要求，然后确定最低的CQI值，以及其他网络指标的最低值，将这些最低值作为切换阈值。映射关系表建立之后，通过服务器下发到用户设备。CQISNRSINRRSRQRSRPCSQRATE0………………1………………………………… 步骤104，用户设备与基站周期性交互进行实时数据采集，根据实时采集到的多个周期数据判断是否满足切卡条件，当满足切卡条件时，确定目标运营商网络，将用户设备的网络切换为目标运营商网络。其中，用户设备与基站周期性交互实时进行数据采集，在一个实施例中，当采样CQI速率连续预设次数低于服务器下发最低值，触发切卡操作；当SNR、SINR、RSRQ、RSRP、CSQ值中的任意一个低于服务器下发参考值续预设次数，触发切卡操作。通过发送切换指令使得用户设备切换到目标运营商网络。上述多运营商网络的自动选择方法，通过根据用户设备的业务类型进行切卡条件的设置，该切卡条件是通过服务器获取用户设备上报的历史测量报告以及采集到的历史实时速率以及业务类型得到的，历史测量报告中记载了多个网络指标，构建多个网络指标与实时速率的映射关系表，然后根据映射关系表和业务类型确定对应的切卡条件，该切卡条件的设置更加科学合理，当检测到满足切卡条件时进行运营商网络的切换，从而有利于保持用户设备中的业务有效稳定运行。在一个实施例中，所述根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件，包括：确定业务类型对应的网络要求，所述网络要求包括：最低通讯率要求和时延要求；根据所述网络要求和所述映射关系表，将所述网络要求转换为最低CQI值、最低SNR值、最低SINR值、最低RSRQ值、最低RSRP值和最低CSQ值；根据所述最低CQI值、最低SNR值、最低SINR值、最低RSRQ值、最低RSRP值和最低CSQ值确定切卡条件。其中，根据不同业务类型对应的网络要求进行相应网络指标值的转换，从而可以确定各个网络指标值的最低值，基于该最低值进行切卡条件的设置。通过根据业务类型对应的网络要求进行切卡条件的设置，有利于更加准确地确定切卡条件，保持业务的有效稳定运行。因为物联网设备没法同时获取各个运营商网络质量，目前达到切卡条件需要进行切换时，也只是盲目的从当前运营商切换为另外一家运营商，如果另外一件运营商网络也不行的话，然后再切换，显然这种切换方式不够友好，如何更精准、高效地切换到运营商网络，减少切换次数及通信资源浪费是亟待解决的技术问题。如图2所示，在一个实施例中，所述当满足切卡条件时，确定目标运营商网络，将用户设备的网络切换为所述目标运营商网络，包括：步骤104A，当满足切卡条件时，服务器获取用户设备所在的地理位置，根据所述地理位置获取预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及获取用户设备在当前时间段内对应的历史通讯状态以及运营商网络。其中，为了能够确定选择哪个运营商网络作为切卡对象，需要获取其他运营商网络质量，为了使得切换后的运营商网络不仅当前能够满足通讯要求，而且需要尽可能地持续地提供稳定的服务，这样才能够避免频繁切换运营商网络，同时也能够提供更加稳定的服务。具有同样地理位置，且同样业务类型的设备的网络状态往往是相似的，所以服务器可以通过获取预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络作为参考。另外，对于同一台设备而言，在一天之内的某个时间段内的运营商网络的通讯状态也往往是相似的，所以也可以将当前时间段内对应的历史通讯状态以及运营商网络作为参考。步骤104B，所述服务器获取与用户设备交互的移动终端，所述移动终端靠近所述用户设备通过扫码与所述用户设备交互，服务器获取交互时发起报文的第一时间戳、接收报文的第二时间戳，以及获取移动终端与所述用户设备交互时的传输数据大小以及运营商网络。其中，通过移动终端与用户设备进行近距离交互时，可以将移动终端所对应的运营商网络通讯状态作为参考。具体地，当移动终端与用户设备交互时，服务器获取移动终端发起报文的第一时间戳以及接收报文的第二时间戳，且获取移动终端与用户设备交互时传输数据大小以及移动终端所使用的运营商网络。通过统计当前时间段内与用户设备交互的各个移动终端的通讯状态以及运营商网络作为参考来评估当前哪个运营商的通讯状态更好。考虑到预设范围内如果没有其他设备的情况下，或者其他设备都断网了的情况下，只能判断当前运营商无法使用，没法判断切换到哪个运营商是最佳的。而通过引入用户设备在当前时间段内对应的历史通讯状态以及运营商网络、以及与该用户设备交互的移动终端的通讯状态可以更加准确的评估出当前最佳的运营商，实现准确的切换。步骤104C，根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，用户设备在当前时间段内对应的历史通讯状态以及运营商网络、以及所述第一时间戳、第二时间戳、传输数据大小以及运营商网络确定候选运营商网络。其中，根据同样地理位置，且同样业务类型的设备的各个运营商网络的通讯状态，以及根据用户设备在同一时间段内的历史通讯状态来评估用户设备当前时间段内的各个运营商网络的通讯状态，以及根据与用户设备交互的移动终端的运营商网络的通讯状态来选择候选运营商网络，即根据三个方面来评估运营商网络的通讯状态，具体地，分别设置三个方面的权重，然后通过加权求和的方式计算得到各个运营商网络的得分，进而确定候选运营商网络。通过综合三个纬度的网络质量评估，可以确定更为准确的候选运营商网络，从而使得切换后的网络能够稳定运行更长时间。步骤104D，获取所述候选运营商网络的当前通讯状态，若所述当前通讯状态满足预设条件，则将所述候选运营商网络作为目标运营商网络。其中，在确定了候选运营商网络后，将切换到该候选运营商网络，然后获取当前通讯状态，只有当前通讯状态满足预设条件，将该候选运营商作为目标运营商网络。如图3所示，在一个实施例中，根据预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及用户设备在当前时间段内对应的历史通讯状态以及运营商网络确定候选运营商网络，包括：步骤302，根据预设范围内的同一业务类型的多个其他设备的当前通讯状态以及运营商网络构建得到第一网络特征向量。步骤304，根据用户设备在当前时间内的历史通讯状态以及运营商网络构建得到第二网络特征向量。步骤306，根据交互时发起报文的第一时间戳、接收报文的第二时间戳，传输数据大小以及运营商网络构建得到第三网络特征向量。步骤308，将第一网络特征向量、第二网络特征向量和第三网络特征向量作为网络预测模型的输入，获取网络预测模型输出的每个运营商网络对应的网络质量级别以及持续时长。步骤310，根据每个运营商网络对应的网络质量级别以及对应的持续时长确定候选运营商网络。其中，利用网络预测模型来评估每个运营商网络对应的网络质量以及持续时长有利于更加精准地确定每个方面对于运营商网络的影响，相对于通过设置权重的方式，该方式显然能够更加准确地预测出各个运营商网络的情况，从而更有利于选择合适的运营商网络。在一个实施例中，所述方法还包括：获取所述多个其他设备在当前时间段内对应的历史通讯状态以及运营商网络；将所述多个其他设备在当前时间段内对应的历史通讯状态以及运营商网络与所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络进行关联，得到第四网络特征向量；所述将所述第一网络特征向量、第二网络特征向量和第三网络特征向量作为网络预测模型的输入，获取所述网络预测模型输出的每个运营商网络对应的网络质量级别以及对应的持续时长，包括：将所述第一网络特征向量、第二网络特征向量、第三网络特征向量和第四网络特征向量作为网络预测模型的输入，获取所述网络预测模型输出的每个运营商网络对应的网络质量级别以及对应的持续时长。其中，为了使得预测得到的运营商网络更加准确，在预测时还加入了其他设备的历史通讯状态以及运营商网络与用户设备在同一时间段内对应的历史通讯状态以及运营商网络进行关联，将两者关联起来有利于更好地确定的周围的其他设备的运营商网络与用户设备的运营商网络之间的通讯状态的关联性，从而有利于预测得到更加精准的网络质量级别以及对应的持续时长。在一个实施例中，所述网络预测模型中包括第一通道、第二通道和第三通道；所述第一网络特征向量和第四网络特征向量作为第一通道的输入，所述第二网络特征向量作为第二通道的输入，所述第三网络特征作为第三通道的输入；所述第一网络特征向量和所述第四网络特征向量通过所述第一通道对应的第一融合层进行融合得到第一融合特征，所述第一融合特征与所述第二通道通过第二融合层进行融合，得到第二融合特征，所述第二融合特征与所述第三通道通过第三融合层进行融合，得到第四融合特征，基于所述第四融合特征进行运营商网络质量预测，得到每个运营商网络对应的网络质量级别以及对应的持续时长。其中，为了更好地挖掘出第一网络特征向量、第二网络特征向量、第三网络特征向量、第四网络特征向量对于用户设备的网络质量的评估，建立了多方位的融合，使得更好地挖掘出向量之间对于网络质量评估的综合作用。在一个实施例中，所述当满足切卡条件时，获取其他运营商网络的当前通讯效率，根据所述当前通讯效率确定切换的目标运营商网络，将用户设备的网络切换为所述目标运营商网络，包括：所述聚合卡片底板中设置有1级SIM切换开关和2级SIM切换开关，1级SIM切换开关用于将SIM卡线路分为2组，然后通过所述2级SIM切换开关将SIM卡线路分为4组，所述4组分别与3个贴片卡座和1个外置卡座相连，所述1级和2级SIM切换开关与模块GPIO引脚相连，通过GPIO引脚的信号状态进行运营商网络的选择。如图4所示，提出了一种多运营商网络的自动选择装置，应用于用户设备，所述用户设备包括：聚合卡片底板，所述聚合卡片底板上安装有多个运营商的贴片卡；所述装置包括：确定模块402，用于获取用户设备的业务类型，确定所述业务类型对应的切卡条件，所述切卡条件是通过服务器获取用户设备上报的历史测量报告、采集到的历史实时速率以及业务类型得到的，所述历史测量报告中记载了多个网络指标，所述多个网络指标包括：信道质量指标、时延、信噪比、信号与干扰加噪声比、信号接收质量、信号接收功率、信号强度，根据所述历史测量报告和所述历史实时速率建立多个网络指标与实时速率之间的映射关系表，根据所述映射关系表和业务类型确定对应的切卡条件；判断模块404，用于所述用户设备与基站周期性交互进行实时数据采集，根据实时采集到的多个周期数据判断是否满足切卡条件；切换模块406，用于当满足切卡条件时，确定目标运营商网络，将用户设备的网络切换为所述目标运营商网络，将用户设备的网络切换为所述目标运营商网络。在一个实施例中，判断模块还用于确定业务类型对应的网络要求，所述网络要求包括：最低通讯率要求和时延要求；根据所述网络要求和所述映射关系表，将所述网络要求转换为最低CQI值、最低SNR值、最低SINR值、最低RSRQ值、最低RSRP值和最低CSQ值；根据所述最低CQI值、最低SNR值、最低SINR值、最低RSRQ值、最低RSRP值和最低CSQ值确定切卡条件。在一个实施例中，切换模块还用于当满足切卡条件时，服务器获取用户设备所在的地理位置，根据所述地理位置获取预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，以及获取用户设备在当前时间段内对应的历史通讯状态以及运营商网络；所述服务器获取与用户设备交互的移动终端，所述移动终端靠近所述用户设备通过扫码与所述用户设备交互，服务器获取交互时发起报文的第一时间戳、接收报文的第二时间戳，以及获取移动终端与所述用户设备交互时的传输数据大小以及运营商网络；根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及对应的运营商网络，所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络、以及所述第一时间戳、第二时间戳、传输数据大小以及运营商网络确定候选运营商网络；获取所述候选运营商网络的当前通讯状态，若所述当前通讯状态满足预设条件，则将所述候选运营商网络作为目标运营商网络。在一个实施例中，切换模块还用于根据所述预设范围内的同一业务类型的多个其他设备的当前通讯状态以及运营商网络构建得到第一网络特征向量；根据所述用户设备在当前时间内的历史通讯状态以及运营商网络构建得到第二网络特征向量；根据所述交互时发起报文的第一时间戳、接收报文的第二时间戳，传输数据大小以及运营商网络构建得到第三网络特征向量；将所述第一网络特征向量、所述第二网络特征向量和所述第三网络特征向量作为网络预测模型的输入，获取所述网络预测模型输出的每个运营商网络对应的网络质量级别以及持续时长；根据所述每个运营商网络对应的网络质量级别以及对应的持续时长确定候选运营商网络。在一个实施例中，切换模块还用于获取所述多个其他设备在当前时间段内对应的历史通讯状态以及运营商网络；将所述多个其他设备在当前时间段内对应的历史通讯状态以及运营商网络与所述用户设备在当前时间段内对应的历史通讯状态以及运营商网络进行关联，得到第四网络特征向量；将所述第一网络特征向量、第二网络特征向量、第三网络特征向量和第四网络特征向量作为网络预测模型的输入，获取所述网络预测模型输出的每个运营商网络对应的网络质量级别以及对应的持续时长。在一个实施例中，所述网络预测模型中包括第一通道、第二通道和第三通道；所述第一网络特征向量和第四网络特征向量作为第一通道的输入，所述第二网络特征向量作为第二通道的输入，所述第三网络特征作为第三通道的输入；所述第一网络特征向量和所述第四网络特征向量通过所述第一通道对应的第一融合层进行融合得到第一融合特征，所述第一融合特征与所述第二通道通过第二融合层进行融合，得到第二融合特征，所述第二融合特征与所述第三通道通过第三融合层进行融合，得到第四融合特征，基于所述第四融合特征进行运营商网络质量预测，得到每个运营商网络对应的网络质量级别以及对应的持续时长。在一个实施例中，切换模块还用于所述聚合卡片底板中设置有1级SIM切换开关和2级SIM切换开关，1级SIM切换开关用于将SIM卡线路分为2组，然后通过所述2级SIM切换开关将SIM卡线路分为4组，所述4组分别与3个贴片卡座和1个外置卡座相连，所述1级和2级SIM切换开关与模块GPIO引脚相连，通过GPIO引脚的信号状态进行运营商网络的选择。图5示出了一个实施例中计算机设备的内部结构图。该计算机设备具体可以是服务器。如图5所示，该计算机设备包括通过系统总线连接的处理器、存储器和网络接口。其中，存储器包括非易失性存储介质和内存储器。该计算机设备的非易失性存储介质有存储操作系统，还可有存储计算机程序，该计算机程序被处理器执行时，可使得处理器实现上述多运营商网络的自动选择方法。该内存储器中也可储存有计算机程序，该计算机程序被处理器执行时，可使得处理器执行上述多运营商网络的自动选择方法。本领域技术人员可以理解，图5中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的设备的限定，具体的设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提供了一种计算机设备，包括存储器和处理器，所述存储器有存储计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行上述多运营商网络的自动选择方法的步骤。在一个实施例中，提出了一种计算机可读存储介质，有存储计算机程序，计算机程序被处理器执行时，使得处理器执行上述多运营商网络的自动选择方法的步骤。可以理解的是，上述多运营商网络的自动选择方法、装置、计算机设备以及计算机可读存储介质属于一个总的发明构思，实施例可相互适用。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一非易失性计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路 DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本申请专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
