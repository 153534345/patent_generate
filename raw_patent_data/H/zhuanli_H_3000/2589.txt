标题title
一种三有源桥变换器的功率流解耦方法及系统
摘要abst
本公开提供了一种三有源桥变换器的功率流解耦方法及系统，涉及电气控制技术领域，包括采集双输出变换器输出端口的输出电压，分别设定输出端口的端口电压参考值；将输出端口的输出电压采样值与端口电压参考值作比较，并将结果传输至PI控制器，将PI控制器输出的结果作为输出端口的功率参考值；构建所需优化的非线性多变量目标函数，将所述功率参考值输入至非线性多变量目标函数中，根据边界条件和约束条件，获取非线性多变量目标函数的数值最优解；将最优解进行移相占空比计算并进行调制得到周期内各个开关管的控制信号；本公开在不影响功率传输的条件下，实现TAB变换器的功率流解耦及效率的优化。
权利要求书clms
1.一种三有源桥变换器的功率流解耦方法，其特征在于，包括：步骤1：采集双输出变换器输出端口的输出电压，分别设定输出端口的端口电压参考值；步骤2：将输出端口的输出电压采样值与端口电压参考值作比较，并将结果传输至PI控制器，将PI控制器输出的结果作为输出端口的功率参考值；步骤3：构建所需优化的非线性多变量目标函数，将所述功率参考值输入至非线性多变量目标函数中，根据边界条件和约束条件，获取非线性多变量目标函数的数值最优解；步骤4：将最优解进行移相占空比计算并进行调制得到周期内各个开关管的控制信号；步骤5：重复步骤1～步骤4来获取后续周期的开关控制信号。2.如权利要求1所述的一种三有源桥变换器的功率流解耦方法，其特征在于，所述边界条件中内移相角与外移相角的满足的控制范围为：TAB变换器的内移相角大于0，小于π/2；外移相角大于-π/2，小于π/2。3.如权利要求1所述的一种三有源桥变换器的功率流解耦方法，其特征在于，将输入端口定义为第一端口，双输出端口分别为第二端口和第三端口，所述约束条件需满足由第一端口传输至第二端口的功率与第二端口传输至第三端口的功率的差值为第二端口所需功率的具体数值；且由第一端口传输至第二端口的功率与第二端口传输至第三端口的功率的和为第三端口所需功率的具体数值。4.如权利要求1所述的一种三有源桥变换器的功率流解耦方法，其特征在于，构建带约束条件的非线性优化模型以及非线性优化模型的目标函数，所述优化目标为在满足约束条件的同时，使端口间传输的总有功功率最小。5.如权利要求1所述的一种三有源桥变换器的功率流解耦方法，其特征在于，所述非线性多变量目标函数为：Fmin＝min.{|P12|+|P13|+|P23|}其中，Fmin为非线性多变量目标函数中总有功传输功率的最小值；P12为由输入端第一端口传输至输出端第二端口的功率、P13为输入端第一端口传输至输出端第三端口的功率、P23为输出端第二端口传输至输出端第三端口的功率。6.如权利要求1所述的一种三有源桥变换器的功率流解耦方法，其特征在于，所述变换器的无功功率也能作为非线性优化的对象。7.如权利要求6所述的一种三有源桥变换器的功率流解耦方法，其特征在于，所述非线性优化的对象还包括ZVS范围、回流功率大小。8.一种三有源桥变换器的功率流解耦系统，其特征在于，包括：电压采集模块，用于采集双输出变换器输出端口的输出电压，分别设定输出端口的端口电压参考值；功率传输模块，用于将输出端口的输出电压采样值与端口电压参考值作比较，并将结果传输至PI控制器，将PI控制器输出的结果作为输出端口的功率参考值；功率优化模块，用于构建所需优化的非线性多变量目标函数，将所述功率参考值输入至非线性多变量目标函数中，根据边界条件和约束条件，获取非线性多变量目标函数的数值最优解；控制模块，用于将最优解进行移相占空比计算并进行调制得到周期内各个开关管的控制信号。9.一种计算机可存储介质，其特征在于，其中存储有多条指令，所述指令适于由终端设备的处理器加载并执行权利要求1-7中任一项所述的一种三有源桥变换器的功率流解耦方法。10.一种终端设备，其特征在于，包括处理器和计算机可读存储介质，处理器用于实现各指令；计算机可读存储介质用于存储多条指令，所述指令适于由处理器加载并执行如权利要求1-7中任一项所述的一种三有源桥变换器的功率流解耦方法。
说明书desc
技术领域本公开涉及电气控制技术领域，具体涉及一种三有源桥变换器的功率流解耦方法及系统。背景技术本部分的陈述仅仅是提供了与本公开相关的背景技术信息，不必然构成在先技术。直流微网及混合储能用三端口变换器具备能量双向流动、高功率密度、电气隔离等优点，能够连接多个分布式能源、储能装置及不同电压等级的负载，可用于分布式发电与交直流配电网等，同时也是实现混合储能接入电网及微电网之间互联的重要装备。TAB变换器拥有三个全桥即三个能量传输端口，每两个端口之间都可以进行双向传输。在对TAB进行单移相控制时，根据移相角的正负及大小关系，各端口间的功率传输方向共有6种情况，如图1所示，可以看出，功率会在TAB变换器中具有相角差的任意两个端口之间传输。因此，当变换器工作在单输入双输出或双输入单输出模式时，变换器中有一部分功率并不是直接从端口1流向端口3，而是经过端口2的全桥结构后最终再传输到端口3。无疑这样增加了一部分功率的能量传输路径，经过更多的开关管，增加了变压器铜损及开关管损耗，导致系统运行效率下降。现有的TAB变换器在单重移相控制的基础上，在两个输出端口的全桥中加入内移相角，通过控制两个端口的方波电压的中线重合，实现了在保证正常的传输功率的同时最小化系统损耗，虽消除了两个输出端口间的有功功率耦合，但只针对有功功率进行了优化，未对无功功率进行讨论，对系统效率提升有限。发明内容本公开为了解决上述问题，提出了一种三有源桥变换器的功率流解耦方法及系统，采用多重移相控制策略及非线性优化方法，增加控制的自由度，实现在保证正常的传输功率的同时最小化系统损耗，多方面提升TAB变换器的运行效率。根据一些实施例，本公开采用如下技术方案：一种三有源桥变换器的功率流解耦方法，包括：步骤1：采集双输出变换器输出端口的输出电压，分别设定输出端口的端口电压参考值；步骤2：将输出端口的输出电压采样值与端口电压参考值作比较，并将结果传输至PI控制器，将PI控制器输出的结果作为输出端口的功率参考值；步骤3：构建所需优化的非线性多变量目标函数，将所述功率参考值输入至非线性多变量目标函数中，根据边界条件和约束条件，获取非线性多变量目标函数的数值最优解；步骤4：将最优解进行移相占空比计算并进行调制得到周期内各个开关管的控制信号；步骤5：重复步骤1～步骤4来获取后续周期的开关控制信号。根据一些实施例，本公开采用如下技术方案：一种三有源桥变换器的功率流解耦系统，包括：电压采集模块，用于采集双输出变换器输出端口的输出电压，分别设定输出端口的端口电压参考值；功率传输模块，用于将输出端口的输出电压采样值与端口电压参考值作比较，并将结果传输至PI控制器，将PI控制器输出的结果作为输出端口的功率参考值；功率优化模块，用于构建所需优化的非线性多变量目标函数，将所述功率参考值输入至非线性多变量目标函数中，根据边界条件和约束条件，获取非线性多变量目标函数的数值最优解；控制模块，用于将最优解进行移相占空比计算并进行调制得到周期内各个开关管的控制信号。根据一些实施例，本公开采用如下技术方案：一种计算机可存储介质，其中存储有多条指令，所述指令适于由终端设备的处理器加载并执行所述的一种三有源桥变换器的功率流解耦方法。根据一些实施例，本公开采用如下技术方案：一种终端设备，包括处理器和计算机可读存储介质，处理器用于实现各指令；计算机可读存储介质用于存储多条指令，所述指令适于由处理器加载并执行所述的一种三有源桥变换器的功率流解耦方法。与现有技术相比，本公开的有益效果为：本公开采用多重移相控制及非线性优化方法实现TAB变换器功率流解耦。多重移相方法增加了对TAB控制的自由度，在不影响功率传输的条件下，实现TAB变换器的功率流解耦及效率的优化。此外，本发明在分析有功功率的基础上增加了对无功功率的优化，同时还可以对TAB变换器的回流功率、软开关范围等进行优化。可以多方面提升TAB变换器的运行效率。附图说明构成本公开的一部分的说明书附图用来提供对本公开的进一步理解，本公开的示意性实施例及其说明用于解释本公开，并不构成对本公开的不当限定。图1为现有的端口间功率传输方向与移相角的关系示意图；图2为本公开实施例TAB电路拓扑图；图3为本公开实施例TAB变压器一次侧Y型等效电路图；图4为本公开实施例TAB变换器△型等效电路图；图5为本公开实施例控制策略框图。具体实施方式下面结合附图与实施例对本公开作进一步说明。应该指出，以下详细说明都是例示性的，旨在对本公开提供进一步的说明。除非另有指明，本文使用的所有技术和科学术语具有与本公开所属技术领域的普通技术人员通常理解的相同含义。需要注意的是，这里所使用的术语仅是为了描述具体实施方式，而非意图限制根据本公开的示例性实施方式。如在这里所使用的，除非上下文另外明确指出，否则单数形式也意图包括复数形式，此外，还应当理解的是，当在本说明书中使用术语“包含”和/或“包括”时，其指明存在特征、步骤、操作、器件、组件和/或它们的组合。实施例1本公开的一种实施例中提供了一种三有源桥变换器的功率流解耦方法，包括：步骤1：采集双输出变换器输出端口的输出电压，分别设定输出端口的端口电压参考值；步骤2：将输出端口的输出电压采样值与端口电压参考值作比较，并将结果传输至PI控制器，将PI控制器输出的结果作为输出端口的功率参考值；步骤3：构建所需优化的非线性多变量目标函数，将所述功率参考值输入至非线性多变量目标函数中，根据边界条件和约束条件，获取非线性多变量目标函数的数值最优解；步骤4：将最优解进行移相占空比计算并进行调制得到周期内各个开关管的控制信号；步骤5：重复步骤1～步骤4来获取后续周期的开关控制信号。TAB变换器拥有三个全桥即三个能量传输端口，每两个端口之间都可以进行功率双向传输。在对TAB进行单移相控制时，根据移相角的正负及大小关系，各端口间的功率传输方向共有6种情况，如图1所示，其中v1,v'2,v'3分别代表三个端口的方波电压，分别代表端口2和端口3的外移相角。以图1第一种情况为例，当且时，功率从端口1流向端口2及端口3，从端口3流向端口2。其它的移相角组合方式分析方法同理。可以看出，功率会在TAB变换器中具有相角差的任意两个端口之间传输。因此，当变换器工作在单输入双输出或双输入单输出模式时，变换器中有一部分功率并不是直接从第一端口流向第三端口，而是经过第二端口的全桥结构后最终再传输到第三端口，其中第一端口为的输入端，第二端口与第三端口为输出端。具体的，作为一种实施例，如图5所示，一种三有源桥变换器的功率流解耦方法的具体步骤包括：S1：采集双输出变换器输出端口第二端口和第三端口的输出电压Vo2和Vo3，分别设定输出端口第二端口和第三端口的端口电压参考值和S2：将输出端口的输出电压采样值Vo2和Vo3与端口电压参考值和作比较，并将结果传输至PI控制器，将PI控制器输出的结果作为输出端口第二端口和第三端口的功率参考值P3*；S3：构建所需优化的非线性多变量目标函数，将所述功率参考值P3*输入至非线性多变量目标函数中，根据边界条件和约束条件，获取非线性多变量目标函数的数值最优解S4：将最优解进行移相占空比计算并进行调制得到周期内各个开关管的控制信号；S5：重复S1～S4来获取后续周期的开关控制信号。作为一种实施例，PI控制器输出的结果作为输出端口的功率参考值的具体步骤包括：构建多重移相控制下TAB变换器的功率传输模型；TAB变换器的电路拓扑及相应控制信号的移相角如图2所示。将TAB变换器第二端口、第三端口折算到第一端口，可以得到TAB变换器的Y型等效电路，如图3所示。折算后电感、电压等效参数为：其中，L′2、L′3分别为第一端口、第三端口的串联电感，L2、L3分别为第二端口、第三端口折算到第一端口的等效电感。V′2、V′3分别为第二端口、第三端口的方波电压幅值，V2、V3分别为第二端口、第三端口折算到第一端口的方波电压幅值。n1:n2:n3为三绕组变压器的变比。为方便计算和分析TAB变换器的功率传输模型，将Y型等效电路变换为△型等效电路，如图4所示。其电感等效参数为：其中，L12、L13、L23为△型等效电路的各支路电感。L1为第一端口的串联电感，L2、L3分别为第二端口、第三端口折算到第一端口的等效电感。TAB变换器稳定工作时，其各端口电压v1、v′2、v′3可等效为方波电压源，v2＝v'2，v3＝v'3。对端口的方波电压进行傅里叶分解可得端口电压的傅里叶级数展开表达式为：其中k为谐波次数，k＝1,3,5,…,2m+1，k为正奇数。在△型等效电路中L12、L13、L23两端的电压分别用v12、v13、v23表示为：则流过电感L12、L13、L23的电流i12、i13、i23分别为：多重移相控制下TAB变换器端口a，b间的传输有功功率Pab为：其中fs为TAB变换器的开关频率，ω＝2πfs。TS为开关周期，TS＝1/fs。多重移相控制下TAB变换器端口a，b间的传输无功功率Qab为：作为一种实施例，在步骤3中，构建所需优化的非线性多变量目标函数，将所述功率参考值输入至非线性多变量目标函数中，根据边界条件和约束条件，获取非线性多变量目标函数的数值最优解，具体包括：1.设定边界条件；边界条件中内移相角与外移相角的满足的控制范围为：TAB变换器的内移相角大于0，小于π/2；外移相角大于-π/2，小于π/2。具体的：TAB变换器的内移相角δ1、δ2、δ3，外移相角需满足的控制范围为：0＜δ1,δ2,δ3＜π/2，2.设定约束条件；将输入端口定义为第一端口，双输出端口分别为第二端口和第三端口，所述约束条件需满足由第一端口传输至第二端口的功率与第二端口传输至第三端口的功率的差值为第二端口所需功率的具体数值；且由第一端口传输至第三端口的功率与第二端口传输至第三端口的功率的和为第三端口所需功率的具体数值。即：确保可以在满足TAB变换器功率传输的前提下，减小TAB变换器的耦合功率流，因此需要满足且P13+P23＝p*3，和p*3为第二端口和第三端口所需功率的具体数值。3.构建带约束条件的非线性优化模型以及非线性优化模型的目标函数，所述优化目标为在满足约束条件的同时，使端口间传输的总有功功率最小。因此所需优化的非线性多变量目标函数可以表示为：Fmin＝min.{|P12|+|P13|+|P23|}其中，Fmin为非线性多变量目标函数中的总有功传输功率的最小值；P12为由输入端第一端口传输至输出端第二端口的功率、P13为输入端第一端口传输至输出端第三端口的功率、P23为输出端第二端口传输至输出端第三端口的功率。同时，TAB变换器中无功功率的存在也会使端口电流有效值增大，从而增加变换器的损耗，因此，变换器的无功功率也可以作为非线性优化的对象，即：Fmin＝min.{|Pab|+|Q12|+|Q13|+|Q23|}其中，Fmin为总无功传输功率的最小值。上式以a、b端口为两个输出端口为例，|Pab|表示两个输出端口间的传输功率，加入|Pab|的目的是使两个输出端口间流动的功率最小，以抑制耦合功率。同样，非线性优化的对象也可以是ZVS范围、回流功率大小等。实施例2本公开的一种实施例中提供了一种三有源桥变换器的功率流解耦系统，包括：电压采集模块，用于采集双输出变换器输出端口的输出电压，分别设定输出端口的端口电压参考值；功率传输模块，用于将输出端口的输出电压采样值与端口电压参考值作比较，并将结果传输至PI控制器，将PI控制器输出的结果作为输出端口的功率参考值；功率优化模块，用于构建所需优化的非线性多变量目标函数，将所述功率参考值输入至非线性多变量目标函数中，根据边界条件和约束条件，获取非线性多变量目标函数的数值最优解；控制模块，用于将最优解进行移相占空比计算并进行调制得到周期内各个开关管的控制信号。作为一种实施例，上述系统具体执行以下的方法步骤：S1：采集双输出变换器输出端口第二端口和第三端口的输出电压Vo2和Vo3，分别设定输出端口第二端口和第三端口的端口电压参考值和S2：将输出端口的输出电压采样值Vo2和Vo3与端口电压参考值和作比较，并将结果传输至PI控制器，将PI控制器输出的结果作为输出端口第二端口和第三端口的功率参考值P3*；S3：构建所需优化的非线性多变量目标函数，将所述功率参考值P3*输入至非线性多变量目标函数中，根据边界条件和约束条件，通过公式获取非线性多变量目标函数的数值最优解S4：将最优解进行移相占空比计算并进行调制得到周期内各个开关管的控制信号；S5：重复S1～S4来获取后续周期的开关控制信号。实施例3本公开的一种实施例中提供了一种计算机可存储介质，其中存储有多条指令，所述指令适于由终端设备的处理器加载并执行所述的一种三有源桥变换器的功率流解耦方法步骤。实施例4本公开的一种实施例中提供了一种终端设备，包括处理器和计算机可读存储介质，处理器用于实现各指令；计算机可读存储介质用于存储多条指令，所述指令适于由处理器加载并执行所述的一种三有源桥变换器的功率流解耦方法。本公开是参照根据本公开实施例的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。上述虽然结合附图对本公开的具体实施方式进行了描述，但并非对本公开保护范围的限制，所属领域技术人员应该明白，在本公开的技术方案的基础上，本领域技术人员不需要付出创造性劳动即可做出的各种修改或变形仍在本公开的保护范围以内。
