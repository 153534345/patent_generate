标题title
一种分体式监控设备
摘要abst
本发明涉及设备间数据处理技术领域，尤其涉及一种分体式监控系统，包括主设备、若干采集设备、终端设备以及主设备控制模块，本发明通过采用分体式方案，将采集设备与主设备划分为相互独立的两个工作设备，并且通过设置有使采集设备与主设备进行数据交互的软件程序组成主设备与采集设备的监控通信协议，有效的保证了主设备能够同时分别与单个采集设备进行数据交互，通过在所述主设备设置若干数据串口与采集设备进行连接，通过增加或减少采集设备与主设备的连接数量以使监控系统能够满足各种监控场景，有效的保证了本发明分体式监控系统能够适配各种场景的监控场景。
权利要求书clms
1.一种分体式监控系统，其特征在于，包括：若干采集设备，其用以采集环境变量数据以及与智能设备进行交互，单个所述采集设备通过采集设备交互软件模块以将采集设备的设备参数及工作参数设置为设定值以使所述采集设备采集对应的需求环境数据以及与智能设备进行对应交互；主设备，其分别与单个所述采集设备相连，用以将单个采集设备采集的数据通过主设备交互软件模块依次进行识别和处理后传递至对应的终端设备进行输出，并且能够将终端设备传递的需求指令通过所述主设备交互软件模块依次进行识别和处理后生成对应的工作参数指令传递至对应的采集设备以使所述采集设备执行所述需求指令，所述主设备设置有若干数据串口，单个所述数据串口与单个所述采集设备通过物理通信设备相连接以使单个所述采集设备与所述主设备进行数据交互，单个所述采集设备与所述主设备交互的数据包括单个所述采集设备的设备参数及工作参数、单个所述采集设备的串口数据、单个所述采集设备采集的环境变量数据以及与智能设备的交互数据；若干所述终端设备，其与所述主设备相连，用以根据所述主设备交互软件模块的交互协议将对应的采集设备采集的数据进行输出并通过将终端设备输入端输入指令传递至所述主设备以使对应采集设备采集对应的需求环境数据；主设备控制模块，其与所述主设备相连，用以根据与所述主设备进行数据交互的单个所述采集设备单位时间采集的数据量将单个所述采集设备的采集精度调整至符合标准，并根据单个所述采集设备的单位时间采集的实际数据量以为所述采集设备配置对应的数据缓存区。2.根据权利要求1所述的分体式监控系统，其特征在于，所述主设备交互软件模块设置在所述主设备中，包括：硬件驱动，其用以驱动与所述主设备连接的外部硬件以使所述外部硬件与所述主设备进行数据交换；虚拟设备驱动程序组，用以使所述主设备中形成与单个所述外部硬件功能相同的虚拟设备；数据异步交互管理程序，其为多线程程序，用以管理所述主设备与所述采集设备的数据交互，所述数据异步交互管理程序能够将所述采集设备传递的数据包解析为对应解析数据并且通过将所述解析数据传递至对应的虚拟设备，以及将针对所述采集设备的设备参数调整及工作参数调整解析为所述采集设备能够识别的数据包发送至所述采集设备。3.根据权利要求2所述的分体式监控系统，其特征在于，所述采集设备交互软件模块设置在单个所述采集设备中，包括数据包收发处理程序；所述数据包收发处理程序，用以将所述采集设备采集的环境变量或与智能设备的交互数据处理为数据包并传输至所述数据异步交互管理程序，并且将所述数据异步交互管理程序传递的数据包解析为所述采集设备能够执行的设备参数和/或工作参数以使所述采集设备执行所述设备参数和所述工作参数。4.根据权利要求3所述的分体式监控系统，其特征在于，所述数据异步交互管理程序和所述数据包收发处理程序组成监控通信协议，所述通信协议用以使所述主设备与单个所述采集设备进行数据交互，所述通信协议包含的数据包括若干串口数据、DI数据、DO数据、数据校验码和串口工作参数数据。5.根据权利要求2所述的分体式监控系统，其特征在于，所述虚拟设备驱动程序组包括若干虚拟设备驱动程序和驱动层程序，单个所述虚拟设备驱动程序之间通过所述驱动层程序进行数据交互，单个所述虚拟设备驱动程序用以使所述主设备中形成对应单个所述外部硬件设备的外部硬件虚拟设备；所述虚拟设备驱动程序组中包括：TTY虚拟设备驱动程序，用以使所述主设备中形成对应单个所述终端设备的TTY虚拟设备；DI虚拟设备杂项驱动程序，用以使所述主设备中形成对应单个DI设备的DI虚拟设备；DO虚拟设备杂项驱动程序，用以使所述主设备中形成对应单个DO设备的DO虚拟设备。6.根据权利要求4所述的分体式监控系统，其特征在于，所述主设备控制模块根据所述主设备交互软件模块接收到的单个所述采集设备单位时间采集的数据量与对应的数据量精确度标准进行比对确定单个采集设备的采集精度是否符合标准，所述主设备中设置有第一预设数据量精确度标准A1、第二预设数据量精确度标准A2，其中，0＜A1＜A2，设定任一所述采集设备单位时间采集的实际数据量为ai，当ai＜A1或ai＞A2时，所述主设备控制模块判定所述采集设备的采集精度不符合标准，所述主设备控制模块根据所述采集设备单位时间采集的实际数据量ai以对所述采集设备的工作参数进行调节；当A1≤ai＜A2时，所述主设备控制模块判定所述采集设备的采集精度符合标准，所述主设备控制模块根据所述采集设备单位时间采集的实际数据量ai以为所述采集设备分配数据缓存区的数据容量。7.根据权利要求6所述的分体式监控系统，其特征在于，所述主设备控制模块根据任一所述采集设备单位时间采集的实际数据量ai占预设单位时间采集的总数据量AN的百分比b初步确定所述采集设备分配数据缓存区的数据容量的分配方式，所述数据缓存区设置在所述主设备中并分别与虚拟设备驱动程序组、所述数据异步交互管理程序以及所述主设备控制模块相连，所述主设备控制模块设置有预设占比百分比标准B、第一数据缓存区调整系数α1和第二数据缓存区调整系数α2，其中，0＜AN＜AM，5%＜B＜20%，0.6＜α1＜α2＜1，b=ai/AN×100%，当b≤B时，所述主设备控制模块判定所述采集设备的单位数据量占比低于标准，所述主设备控制模块将所述采集设备分配的数据缓存区容量设置为ami,设定ami=b×AM×α1，其中，AM为数据缓存区数据总容量；当b＞B时，所述主设备控制模块判定所述采集设备的单位数据量占比高于标准，所述主设备控制模块设定ami=b×AM×α2。8.根据权利要求7所述的分体式监控系统，其特征在于，所述主设备控制模块根据所述采集设备的数量确定是否需要对数据缓存区数据总容量AM进行调节，所述主设备控制模块设置有第一采集设备数量标准N1、第二采集设备数量标准N2、第一扩充容量调整系数β1以及第二扩充容量调整系数β2，其中，1＜N1＜N2，1＜β1≤2＜β2，设定所述主设备识别到存在数据交互的采集设备的数量为n，当n≤N1时，所述主设备控制模块判定外接采集设备数量符合第一采集设备数量标准、无需对数据缓存区数据总容量进行调节，所述主设备控制模块设定AM=AM0，AM0为初始数据缓存区数据容量；当N1＜n≤N2时，所述主设备控制模块判定外接采集设备数量符合第二采集设备数量标准、需采用β1对数据缓存区数据总容量进行调节，所述主设备控制模块设定AM=AM0×β1；当n＞N2时，所述主设备控制模块判定外接采集设备数量超出第二采集设备数量标准、需采用β2对数据缓存区数据总容量进行调节，所述主设备控制模块设定AM=AM0×β2。9.根据权利要求8所述的分体式监控系统，其特征在于，所述主设备控制模块根据所述主设备单位时间接收到的总数据量与数据量处理阈值进行比对确定主设备的数据处理能力是否符合标准以判定是否需要扩充数据缓存区的数据容量，所述主设备控制模块设置有数据量处理阈值Amax，其中，0＜Amax＜AM0，所述主设备控制模块将单位时间接收到的总数据量记为an,当an≤Amax时，所述主设备控制模块判定主设备的数据处理能力符合标准、无需扩充数据缓存区的总数据容量，所述主设备控制模块做出处理能力合格提示；当an＞Amax时，所述主设备控制模块判定主设备的数据处理能力超出标准、需扩充数据缓存区的总数据容量，所述主设备控制模块做出处理能力不合格提示以提醒用户扩充数据缓存区的数据总容量或减少采集设备数量。10.据权利要求6所述的分体式监控系统，其特征在于，所述主设备控制模块根据所述采集设备单位时间采集的实际数据量ai以对所述采集设备的采集周期进行调节，所述主设备控制模块设置有第一精确度调节系数k1以及第二精确度调节系数k2，其中，0＜k1＜1＜k2，当ai＜A1时，所述主设备控制模块判定所述采集设备的采集精度低于标准并采用k2调节所述采集设备的采集周期，所述主设备控制模块将所述采集设备的采集周期调节至T，设定T=T0×k2，其中，T0为调节前所述采集设备的采集周期；当ai＞A2时，所述主设备控制模块判定所述采集设备的采集精度高于标准并采用k1调节所述采集设备的采集周期，所述主设备控制模块将所述采集设备的采集周期调节至T，设定T=T0×k1。
说明书desc
技术领域本发明涉及设备间数据处理技术领域，尤其涉及一种分体式监控系统。背景技术随着科学技术日新月异和信息网络技术的不断发展，各类规模大小不等、设备种类、数量不同的网络设备机房广泛分布于用户各分支机构所在地域。传统的监控设备中数据采集与数据处理展示集中在一个硬件设备中，在前期产品设计时监控设备已经固定了外部采集与通信的接口数量，并且监控显示屏展示的位置与外部信号线汇总在一起，这会导致产品灵活度差，不能很好的适配各种大小的机房环境，且不能很好的做到显示屏展示区域与线材汇总点的分离。因此，一款能够适用于监控场景规模大小不同的监控设备，同时能便捷增加或裁剪外部功能的智能多功能监控器对于机房环境监控非常重要。中国专利授权公告号CN110267019B公开了一种分体式低功耗监控系统，包括：分体式触发感应模块用于获取监控触发信号并广播所述监控触发信号；低功耗监控模块用于在接收到所述监控触发信号时拍摄监控视频；服务器用于接收所述监控视频并存储。该发明提供的技术方案由于分体式触发感应模块不与低功耗监控模块设置在一起，两者是各自独立有相互配合工作的，分体式触发感应模块可以根据监控需要设置在敏感监控区域，得到更精准的监控触发信号，实现系统的精准触发。由此可见，上述技术方案中采用一种用以采集触发条件的分体式触发感应模块对其主功能设备也就是低功耗监控模块的工作触发条件进行采集，能够达到精确采集触发条件的目的，但是其也存在以下问题：在设计时，针对单个工作场景，其分体式低功耗监控系统的分体式触发感应模块的个数和类型往往是固定的，在使用场景发生变化时无法根据实际应用条件进行增减，故而其在使用环境发生变更时，无法通过调整分体式的触发感应模块的个数和类型以适应各种环境条件。发明内容为此，本发明提供一种分体式监控系统，用以克服现有技术中监控系统的采集设备的个数和类型固定导致监控系统对采集环境变更的适应性差的问题。为实现上述目的，本发明提供一种分体式监控系统，包括：若干采集设备，其用以采集环境变量数据以及与智能设备进行交互，单个所述采集设备通过采集设备交互软件模块以将采集设备的设备参数及工作参数设置为设定值以使所述采集设备采集对应的需求环境数据以及与智能设备进行对应交互；主设备，其分别与单个所述采集设备相连，用以将单个采集设备采集的数据通过主设备交互软件模块依次进行识别和处理后传递至对应的终端设备进行输出，并且能够将终端设备传递的需求指令通过所述主设备交互软件模块依次进行识别和处理后生成对应的工作参数指令传递至对应的采集设备以使所述采集设备执行所述需求指令，所述主设备设置有若干数据串口，单个所述数据串口与单个所述采集设备通过物理通信设备相连接以使单个所述采集设备与所述主设备进行数据交互，单个所述采集设备与所述主设备交互的数据包括单个所述采集设备的设备参数及工作参数、单个所述采集设备的串口数据、单个所述采集设备采集的环境变量数据以及与智能设备的交互数据；若干所述终端设备，其与所述主设备相连，用以根据所述主设备交互软件模块的交互协议将对应的采集设备采集的数据进行输出并通过将终端设备输入端输入指令传递至所述主设备以使对应采集设备采集对应的需求环境数据；主设备控制模块，其与所述主设备相连，用以根据与所述主设备进行数据交互的单个所述采集设备单位时间采集的数据量将单个所述采集设备的采集精度调整至符合标准，并根据单个所述采集设备的单位时间采集的实际数据量以为所述采集设备配置对应的数据缓存区。进一步地，所述采集设备包括摄像机、温度检测器、湿度检测器、高度检测器、拉力检测器、图片识别器、信号触发传感器以及开关；所述环境变量数据包括图像数据、温度数据、湿度数据、高度数据、拉力数据、图片数据、信号触发数据以及开关数据。进一步地，所述主设备交互软件模块设置在所述主设备中，包括：硬件驱动，其用以驱动与所述主设备连接的外部硬件以使所述外部硬件与所述主设备进行数据交换；虚拟设备驱动程序组，用以使所述主设备中形成与单个所述外部硬件功能相同的虚拟设备；数据异步交互管理程序，其为多线程程序，用以管理所述主设备与所述采集设备的数据交互，所述数据异步交互管理程序能够将所述采集设备传递的数据包解析为对应解析数据并且通过将所述解析数据传递至对应的虚拟设备，以及将针对所述采集设备的设备参数调整及工作参数调整解析为所述采集设备能够识别的数据包发送至所述采集设备。进一步地，所述采集设备交互软件模块设置在单个所述采集设备中，包括数据包收发处理程序；所述数据包收发处理程序，用以将所述采集设备采集的环境变量或与智能设备的交互数据处理为数据包并传输至所述数据异步交互管理程序，并且将所述数据异步交互管理程序传递的数据包解析为所述采集设备能够执行的设备参数和/或工作参数以使所述采集设备执行所述设备参数和所述工作参数。进一步地，所述数据异步交互管理程序和所述数据包收发处理程序组成监控通信协议，所述通信协议用以使所述主设备与单个所述采集设备进行数据交互，所述通信协议包含的数据包括若干串口数据、DI数据、DO数据、数据校验码和串口工作参数数据。进一步地，所述虚拟设备驱动程序组包括若干虚拟设备驱动程序和驱动层程序，单个所述虚拟设备驱动程序之间通过所述驱动层程序进行数据交互，单个所述虚拟设备驱动程序用以使所述主设备中形成对应单个所述外部硬件设备的外部硬件虚拟设备；所述虚拟设备驱动程序组中包括：TTY虚拟设备驱动程序，用以使所述主设备中形成对应单个所述终端设备的TTY虚拟设备；DI虚拟设备杂项驱动程序，用以使所述主设备中形成对应单个DI设备的DI虚拟设备；DO虚拟设备杂项驱动程序，用以使所述主设备中形成对应单个DO设备的DO虚拟设备。进一步地，所述主设备控制模块根据所述主设备交互软件模块接收到的单个所述采集设备单位时间采集的数据量与对应的数据量精确度标准进行比对确定单个采集设备的采集精度是否符合标准，所述主设备中设置有第一预设数据量精确度标准A1、第二预设数据量精确度标准A2，其中，0＜A1＜A2，设定任一所述采集设备单位时间采集的实际数据量为ai，当ai＜A1或ai＞A2时，所述主设备控制模块判定所述采集设备的采集精度不符合标准，所述主设备控制模块根据所述采集设备单位时间采集的实际数据量ai以对所述采集设备的工作参数进行调节；当A1≤ai＜A2时，所述主设备控制模块判定所述采集设备的采集精度符合标准，所述主设备控制模块根据所述采集设备单位时间采集的实际数据量ai以为所述采集设备分配数据缓存区的数据容量。进一步地，所述主设备控制模块根据任一所述采集设备单位时间采集的实际数据量ai占预设单位时间采集的总数据量AN的百分比b初步确定所述采集设备分配数据缓存区的数据容量的分配方式，所述数据缓存区设置在所述主设备中并分别与虚拟设备驱动程序组、所述数据异步交互管理程序以及所述主设备控制模块相连，所述主设备控制模块设置有预设占比百分比标准B、第一数据缓存区调整系数α1和第二数据缓存区调整系数α2，其中，0＜AN＜AM，5%＜B＜20%，0.6＜α1＜α2＜1，b=ai/AN×100%，当b≤B时，所述主设备控制模块判定所述采集设备的单位数据量占比低于标准，所述主设备控制模块将所述采集设备分配的数据缓存区容量设置为ami,设定ami=b×AM×α1，其中，AM为数据缓存区数据总容量；当b＞B时，所述主设备控制模块判定所述采集设备的单位数据量占比高于标准，所述主设备控制模块设定ami=b×AM×α2。进一步地，所述主设备控制模块根据所述采集设备的数量确定是否需要对数据缓存区数据总容量AM进行调节，所述主设备控制模块设置有第一采集设备数量标准N1、第二采集设备数量标准N2、第一扩充容量调整系数β1以及第二扩充容量调整系数β2，其中，1＜N1＜N2，1＜β1≤2＜β2，设定所述主设备识别到存在数据交互的采集设备的数量为n，当n≤N1时，所述主设备控制模块判定外接采集设备数量符合第一采集设备数量标准、无需对数据缓存区数据总容量进行调节，所述主设备控制模块设定AM=AM0，AM0为初始数据缓存区数据容量；当N1＜n≤N2时，所述主设备控制模块判定外接采集设备数量符合第二采集设备数量标准、需采用β1对数据缓存区数据总容量进行调节，所述主设备控制模块设定AM=AM0×β1；当n＞N2时，所述主设备控制模块判定外接采集设备数量超出第二采集设备数量标准、需采用β2对数据缓存区数据总容量进行调节，所述主设备控制模块设定AM=AM0×β2。进一步地，所述主设备控制模块根据所述主设备单位时间接收到的总数据量与数据量处理阈值进行比对确定主设备的数据处理能力是否符合标准以判定是否需要扩充数据缓存区的数据容量，所述主设备控制模块设置有数据量处理阈值Amax，其中，0＜Amax＜AM0，所述主设备控制模块将单位时间接收到的总数据量记为an,当an≤Amax时，所述主设备控制模块判定主设备的数据处理能力符合标准、无需扩充数据缓存区的总数据容量，所述主设备控制模块做出处理能力合格提示；当an＞Amax时，所述主设备控制模块判定主设备的数据处理能力超出标准、需扩充数据缓存区的总数据容量，所述主设备控制模块做出处理能力不合格提示以提醒用户扩充数据缓存区的数据总容量或减少采集设备数量。进一步地，所述主设备控制模块根据所述采集设备单位时间采集的实际数据量ai以对所述采集设备的采集周期进行调节，所述主设备控制模块设置有第一精确度调节系数k1以及第二精确度调节系数k2，其中，0＜k1＜1＜k2，当ai＜A1时，所述主设备控制模块判定所述采集设备的采集精度低于标准并采用k2调节所述采集设备的采集周期，所述主设备控制模块将所述采集设备的采集周期调节至T，设定T=T0×k2，其中，T0为调节前所述采集设备的采集周期；当ai＞A2时，所述主设备控制模块判定所述采集设备的采集精度高于标准并采用k1调节所述采集设备的采集周期，所述主设备控制模块将所述采集设备的采集周期调节至T，设定T=T0×k1。与现有技术相比，本发明的有益效果在于，本发明通过采用分体式方案，将采集设备与主设备划分为相互独立的两个工作设备，并且通过设置有使采集设备与主设备进行数据交互的软件程序组成主设备与采集设备的监控通信协议，有效的保证了主设备能够同时分别与单个采集设备进行数据交互，通过在所述主设备设置若干数据串口与采集设备进行连接，通过增加或减少采集设备与主设备的连接数量以使监控系统能够满足各种监控场景，有效的保证了本发明分体式监控系统能够适配各种场景的监控场景。进一步地，本发明设置有主设备交互软件模块用以实现主设备的功能，通过设置有硬件驱动用以驱动与所述主设备连接的外部硬件以使所述外部硬件与所述主设备进行数据交换；通过设置有虚拟设备驱动程序组以使所述主设备中形成与单个所述外部硬件功能相同的虚拟设备；并通过设置有数据异步交互管理程序，其为多线程程序，用以管理所述主设备与所述采集设备的数据交互，有效的保证了主设备能够有效识别采集设备并通过多线程同时管理若干采集设备与主设备的数据交互，保证了主设备一方面能够对单个采集设备进行数据交互，另一方面通过数据异步交互管理程序能够同时对多个采集设备同时分别进行数据交互管理，支持了本发明所述分体式监控系统实现采集设备的增减功能。进一步地，本发明单个采集设备中设置有采集设备交互软件模块用以对采集设备与主设备进行交互的数据处理为对应的数据包完成与主设备的数据交互，进一步支持了采集设备与主设备的数据能够有效交互。进一步地，本发明数据异步交互管理程序和数据包收发处理程序组成监控通信协议以实现采集设备与主设备的数据交互，有效的保证了在更换或增加采集设备时，新增的采集设备能够有效实现与主设备形成数据交互，保证了替换后采集设备采集的数据信息及采集设备的工作参数、设备参数能够有效被主设备识别以实现有效的监控功能。进一步地，本发明主设备控制模块根据主设备交互软件模块接收到的单个采集设备单位时间采集的数据量与对应的数据量精确度标准进行比对确定单个采集设备的采集精度是否符合标准，通过在主设备模块中设置有与单个采集设备采集类型相对应的数据量精确度标准，在判定采集设备的采集精度不符合标准时根据采集设备单位时间采集的实际数据量ai以对采集设备的工作参数进行调节，有效的保证了能够将单个采集设备的采集精度调整至预设置的标准范围内，保证了单个采集设备的采集精确度符合标准。进一步地，本发明主设备控制模块根据任一采集设备单位时间采集的实际数据量ai占预设单位时间采集的总数据量AN的百分比b初步确定采集设备分配数据缓存区的数据容量的分配方式，通过对单个采集设备单位时间采集的实际数据量ai与预设单位时间采集的总数据量AN进行占比分析初步确定单个采集设备需求的数据缓存区数据容量，保证了本发明主设备在与多个采集设备进行数据交互时能够平均分配主设备的运算能力，保证多个采集设备能够与主设备同步进行数据交互。进一步地，本发明主设备控制模块根据采集设备的数量确定是否需要对数据缓存区数据总容量AM进行调节，由于本技术方案中采集设备的数量可根据具体的应用场景调整采集设备的数量和类型，同样的数据处理量条件下，若存在采集设备的数量增长，主设备的数据存储区划分后实际的处理能力也会降低，因而，通过根据采集设备的数量调整主设备数据缓存区数据总容量AM，能够有效的保证主设备的数据处理能力维持在稳定的水平。进一步地，本发明主设备控制模块根据主设备单位时间接收到的总数据量与数据量处理阈值进行比对确定主设备的数据处理能力是否符合标准以判定是否需要扩充数据缓存区的数据容量，采集设备的类型不同使得单个采集设备单位时间采集的数据量具有明显的数值差别，因此与主设备连接的采集设备的数量维持稳定单采集设备的类型变化时，主设备单位时间内同时处理的数据量也是不相同的，通过对主设备单位时间接收到的总数据量与数据量处理阈值进行比对确定是否达到了主设备的处理阈值，有效的保证了主设备能够与采集设备进行稳定的数据交互避免超出阈值造成的交互数据丢失，在超出阈值时，通过提醒用户进行数据缓存区的数据容量扩充或减少采集设备数量以使主设备符合处理能力标准，有效的保证了主设备能够稳定的与采集设备进行数据交互。进一步地，本发明主设备控制模块根据采集设备单位时间采集的实际数据量ai以对采集设备的采集周期进行调节，通过调整采集周期实现单位时间内采集设备采集数据量的调整，有效的保证了本发明主设备能够调整采集设备的采集精度。附图说明图1为本发明分体式监控系统的结构示意图；图2为本发明监控监控通信协议中包含的数据类型示意图；图3为本发明实施例一分体式监控系统的工作示意图；图4为本发明实施例一分体式监控系统的工作流程示意图。具体实施方式为了使本发明的目的和优点更加清楚明白，下面结合实施例对本发明作进一步描述；应当理解，此处所描述的具体实施例仅仅用于解释本发明，并不用于限定本发明。下面参照附图来描述本发明的优选实施方式。本领域技术人员应当理解的是，这些实施方式仅仅用于解释本发明的技术原理，并非在限制本发明的保护范围。需要说明的是，在本发明的描述中，术语“上”、“下”、“左”、“右”、“内”、“外”等指示的方向或位置关系的术语是基于附图所示的方向或位置关系，这仅仅是为了便于描述，而不是指示或暗示所述装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，还需要说明的是，在本发明的描述中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域技术人员而言，可根据具体情况理解上述术语在本发明中的具体含义。请参阅图1及图3所示，图1为本发明分体式监控系统的结构示意图，图3本发明实施例一分体式监控系统的工作示意图，本发明提供一种分体式监控系统，包括：若干采集设备，其用以采集环境变量数据以及与智能设备进行交互，单个所述采集设备通过采集设备交互软件模块以将采集设备的设备参数及工作参数设置为设定值以使所述采集设备采集对应的需求环境数据以及与智能设备进行对应交互；主设备，其分别与单个所述采集设备相连，用以将单个采集设备采集的数据通过主设备交互软件模块依次进行识别和处理后传递至对应的终端设备进行输出，并且能够将终端设备传递的需求指令通过所述主设备交互软件模块依次进行识别和处理后生成对应的工作参数指令传递至对应的采集设备以使所述采集设备执行所述需求指令，所述主设备设置有若干数据串口，单个所述数据串口与单个所述采集设备通过物理通信设备相连接以使单个所述采集设备与所述主设备进行数据交互，单个所述采集设备与所述主设备交互的数据包括单个所述采集设备的设备参数及工作参数、单个所述采集设备的串口数据、单个所述采集设备采集的环境变量数据以及与智能设备的交互数据；若干所述终端设备，其与所述主设备相连，用以根据所述主设备交互软件模块的交互协议将对应的采集设备采集的数据进行输出并通过将终端设备输入端输入指令传递至所述主设备以使对应采集设备采集对应的需求环境数据；主设备控制模块，其与所述主设备相连，用以根据与所述主设备进行数据交互的单个所述采集设备单位时间采集的数据量将单个所述采集设备的采集精度调整至符合标准，并根据单个所述采集设备的单位时间采集的实际数据量以为所述采集设备配置对应的数据缓存区。具体而言，所述采集设备包括摄像机、温度检测器、湿度检测器、高度检测器、拉力检测器、图片识别器、信号触发传感器以及开关；所述环境变量数据包括图像数据、温度数据、湿度数据、高度数据、拉力数据、图片数据、信号触发数据以及开关数据。可以理解的是，根据监控系统的具体应用场景不同，采集设备的类型能够根据需求进行调整，至于选择的采集设备的具体功能及型号，在此不做限定，所述采集设备也不限于上述列举的装置，任何能够采集对应数据的采集设备都可作为本技术方案中的采集设备。本发明通过采用分体式方案，将采集设备与主设备划分为相互独立的两个工作设备，并且通过设置有使采集设备与主设备进行数据交互的软件程序组成主设备与采集设备的监控通信协议，有效的保证了主设备能够同时分别与单个采集设备进行数据交互，通过在所述主设备设置若干数据串口与采集设备进行连接，通过增加或减少采集设备与主设备的连接数量以使监控系统能够满足各种监控场景，有效的保证了本发明分体式监控系统能够适配各种场景的监控场景。请继续参阅图1和图3所示，所述主设备交互软件模块设置在所述主设备中，包括：硬件驱动，其用以驱动与所述主设备连接的外部硬件以使所述外部硬件与所述主设备进行数据交换；虚拟设备驱动程序组，用以使所述主设备中形成与单个所述外部硬件功能相同的虚拟设备；数据异步交互管理程序，其为多线程程序，用以管理所述主设备与所述采集设备的数据交互，所述数据异步交互管理程序能够将所述采集设备传递的数据包解析为对应解析数据并且通过将所述解析数据传递至对应的虚拟设备，以及将针对所述采集设备的设备参数调整及工作参数调整解析为所述采集设备能够识别的数据包发送至所述采集设备。本发明设置有主设备交互软件模块用以实现主设备的功能，通过设置有硬件驱动用以驱动与所述主设备连接的外部硬件以使所述外部硬件与所述主设备进行数据交换；通过设置有虚拟设备驱动程序组以使所述主设备中形成与单个所述外部硬件功能相同的虚拟设备；并通过设置有数据异步交互管理程序，其为多线程程序，用以管理所述主设备与所述采集设备的数据交互，有效的保证了主设备能够有效识别采集设备并通过多线程同时管理若干采集设备与主设备的数据交互，保证了主设备一方面能够对单个采集设备进行数据交互，另一方面通过数据异步交互管理程序能够同时对多个采集设备同时分别进行数据交互管理，支持了本发明所述分体式监控系统实现采集设备的增减功能。具体而言，所述采集设备交互软件模块设置在单个所述采集设备中，包括数据包收发处理程序；所述数据包收发处理程序，用以将所述采集设备采集的环境变量或与智能设备的交互数据处理为数据包并传输至所述数据异步交互管理程序，并且将所述数据异步交互管理程序传递的数据包解析为所述采集设备能够执行的设备参数和/或工作参数以使所述采集设备执行所述设备参数和所述工作参数。本发明单个采集设备中设置有采集设备交互软件模块用以对采集设备与主设备进行交互的数据处理为对应的数据包完成与主设备的数据交互，进一步支持了采集设备与主设备的数据能够有效交互。请参阅图2所示，其为本发明监控监控通信协议中包含的数据类型示意图，所述数据异步交互管理程序和所述数据包收发处理程序组成监控通信协议，所述通信协议用以使所述主设备与单个所述采集设备进行数据交互，所述通信协议包含的数据包括若干串口数据、DI数据、DO数据、数据校验码和串口工作参数数据。本发明数据异步交互管理程序和数据包收发处理程序组成监控通信协议以实现采集设备与主设备的数据交互，有效的保证了在更换或增加采集设备时，新增的采集设备能够有效实现与主设备形成数据交互，保证了替换后采集设备采集的数据信息及采集设备的工作参数、设备参数能够有效被主设备识别以实现有效的监控功能。具体而言，所述虚拟设备驱动程序组包括若干虚拟设备驱动程序和驱动层程序，单个所述虚拟设备驱动程序之间通过所述驱动层程序进行数据交互，单个所述虚拟设备驱动程序用以使所述主设备中形成对应单个所述外部硬件设备的外部硬件虚拟设备；所述虚拟设备驱动程序组中包括：TTY虚拟设备驱动程序，用以使所述主设备中形成对应单个所述终端设备的TTY虚拟设备；DI虚拟设备杂项驱动程序，用以使所述主设备中形成对应单个DI设备的DI虚拟设备；DO虚拟设备杂项驱动程序，用以使所述主设备中形成对应单个DO设备的DO虚拟设备。具体而言，所述主设备控制模块根据所述主设备交互软件模块接收到的单个所述采集设备单位时间采集的数据量与对应的数据量精确度标准进行比对确定单个采集设备的采集精度是否符合标准，所述主设备中设置有第一预设数据量精确度标准A1、第二预设数据量精确度标准A2，其中，0＜A1＜A2，设定任一所述采集设备单位时间采集的实际数据量为ai，当ai＜A1或ai＞A2时，所述主设备控制模块判定所述采集设备的采集精度不符合标准，所述主设备控制模块根据所述采集设备单位时间采集的实际数据量ai以对所述采集设备的工作参数进行调节；当A1≤ai＜A2时，所述主设备控制模块判定所述采集设备的采集精度符合标准，所述主设备控制模块根据所述采集设备单位时间采集的实际数据量ai以为所述采集设备分配数据缓存区的数据容量。本发明主设备控制模块根据主设备交互软件模块接收到的单个采集设备单位时间采集的数据量与对应的数据量精确度标准进行比对确定单个采集设备的采集精度是否符合标准，通过在主设备模块中设置有与单个采集设备采集类型相对应的数据量精确度标准，在判定采集设备的采集精度不符合标准时根据采集设备单位时间采集的实际数据量ai以对采集设备的工作参数进行调节，有效的保证了能够将单个采集设备的采集精度调整至预设置的标准范围内，保证了单个采集设备的采集精确度符合标准。具体而言，所述主设备控制模块根据任一所述采集设备单位时间采集的实际数据量ai占预设单位时间采集的总数据量AN的百分比b初步确定所述采集设备分配数据缓存区的数据容量的分配方式，所述数据缓存区设置在所述主设备中并分别与虚拟设备驱动程序组、所述数据异步交互管理程序以及所述主设备控制模块相连，所述主设备控制模块设置有预设占比百分比标准B、第一数据缓存区调整系数α1和第二数据缓存区调整系数α2，其中，0＜AN＜AM，5%＜B＜20%，0.6＜α1＜α2＜1，b=ai/AN×100%，当b≤B时，所述主设备控制模块判定所述采集设备的单位数据量占比低于标准，所述主设备控制模块将所述采集设备分配的数据缓存区容量设置为ami,设定ami=b×AM×α1，其中，AM为数据缓存区数据总容量；当b＞B时，所述主设备控制模块判定所述采集设备的单位数据量占比高于标准，所述主设备控制模块设定ami=b×AM×α2。本发明主设备控制模块根据任一采集设备单位时间采集的实际数据量ai占预设单位时间采集的总数据量AN的百分比b初步确定采集设备分配数据缓存区的数据容量的分配方式，通过对单个采集设备单位时间采集的实际数据量ai与预设单位时间采集的总数据量AN进行占比分析初步确定单个采集设备需求的数据缓存区数据容量，保证了本发明主设备在与多个采集设备进行数据交互时能够平均分配主设备的运算能力，保证多个采集设备能够与主设备同步进行数据交互。具体而言，所述主设备控制模块根据所述采集设备的数量确定是否需要对数据缓存区数据总容量AM进行调节，所述主设备控制模块设置有第一采集设备数量标准N1、第二采集设备数量标准N2、第一扩充容量调整系数β1以及第二扩充容量调整系数β2，其中，1＜N1＜N2，1＜β1≤2＜β2，设定所述主设备识别到存在数据交互的采集设备的数量为n，当n≤N1时，所述主设备控制模块判定外接采集设备数量符合第一采集设备数量标准、无需对数据缓存区数据总容量进行调节，所述主设备控制模块设定AM=AM0，AM0为初始数据缓存区数据容量；当N1＜n≤N2时，所述主设备控制模块判定外接采集设备数量符合第二采集设备数量标准、需采用β1对数据缓存区数据总容量进行调节，所述主设备控制模块设定AM=AM0×β1；当n＞N2时，所述主设备控制模块判定外接采集设备数量超出第二采集设备数量标准、需采用β2对数据缓存区数据总容量进行调节，所述主设备控制模块设定AM=AM0×β2。本发明主设备控制模块根据采集设备的数量确定是否需要对数据缓存区数据总容量AM进行调节，由于本技术方案中采集设备的数量可根据具体的应用场景调整采集设备的数量和类型，同样的数据处理量条件下，若存在采集设备的数量增长，主设备的数据存储区划分后实际的处理能力也会降低，因而，通过根据采集设备的数量调整主设备数据缓存区数据总容量AM，能够有效的保证主设备的数据处理能力维持在稳定的水平。具体而言，所述主设备控制模块根据所述主设备单位时间接收到的总数据量与数据量处理阈值进行比对确定主设备的数据处理能力是否符合标准以判定是否需要扩充数据缓存区的数据容量，所述主设备控制模块设置有数据量处理阈值Amax，其中，0＜Amax＜AM0，所述主设备控制模块将单位时间接收到的总数据量记为an,当an≤Amax时，所述主设备控制模块判定主设备的数据处理能力符合标准、无需扩充数据缓存区的总数据容量，所述主设备控制模块做出处理能力合格提示；当an＞Amax时，所述主设备控制模块判定主设备的数据处理能力超出标准、需扩充数据缓存区的总数据容量，所述主设备控制模块做出处理能力不合格提示以提醒用户扩充数据缓存区的数据总容量或减少采集设备数量。本发明主设备控制模块根据主设备单位时间接收到的总数据量与数据量处理阈值进行比对确定主设备的数据处理能力是否符合标准以判定是否需要扩充数据缓存区的数据容量，采集设备的类型不同使得单个采集设备单位时间采集的数据量具有明显的数值差别，因此与主设备连接的采集设备的数量维持稳定单采集设备的类型变化时，主设备单位时间内同时处理的数据量也是不相同的，通过对主设备单位时间接收到的总数据量与数据量处理阈值进行比对确定是否达到了主设备的处理阈值，有效的保证了主设备能够与采集设备进行稳定的数据交互避免超出阈值造成的交互数据丢失，在超出阈值时，通过提醒用户进行数据缓存区的数据容量扩充或减少采集设备数量以使主设备符合处理能力标准，有效的保证了主设备能够稳定的与采集设备进行数据交互。具体而言，所述主设备控制模块根据所述采集设备单位时间采集的实际数据量ai以对所述采集设备的采集周期进行调节，所述主设备控制模块设置有第一精确度调节系数k1以及第二精确度调节系数k2，其中，0＜k1＜1＜k2，当ai＜A1时，所述主设备控制模块判定所述采集设备的采集精度低于标准并采用k2调节所述采集设备的采集周期，所述主设备控制模块将所述采集设备的采集周期调节至T，设定T=T0×k2，其中，T0为调节前所述采集设备的采集周期；当ai＞A2时，所述主设备控制模块判定所述采集设备的采集精度高于标准并采用k1调节所述采集设备的采集周期，所述主设备控制模块将所述采集设备的采集周期调节至T，设定T=T0×k1。本发明主设备控制模块根据采集设备单位时间采集的实际数据量ai以对采集设备的采集周期进行调节，通过调整采集周期实现单位时间内采集设备采集数据量的调整，有效的保证了本发明主设备能够调整采集设备的采集精度。实施例一：本实施例提供一种分体式监控系统的应用模型，分体式监控系统分成了主设备与采集设备两个独立的硬件模块，主设备交互软件模块中主要包括了虚拟设备驱动组与数据异步交互管理程序两个模块；采集设备交互软件模块中主要有数据包收发处理模块。请参阅图2所示，其为本发明监控监控通信协议中包含的数据类型示意图，数据异步交互管理程序和数据包收发处理模块构成监控通信协议，监控通信协议包含了多路串口数据、DI数据、DO数据、数据校验码和串口工作参数数据；多路串口数据包含了6路串口数据，DI数据包含了6路DI通道数据，DO数据包括了8路DO控制状态数据。虚拟设备驱动之间的数据可以通过linux驱动层交互，当数据异步交互程序从采集模块取得数据之后会通过linux TTY设备操作框架把串口数据写入对应虚拟串口设备的数据缓存区，同时通过协议把DIDO数据传到TTY设备中，再驱动内部将其剥离后同步到虚拟DI设备和虚拟DO设备。请参阅图3所示，其为本发明实施例一分体式监控系统的工作流程示意图，本实施例提供的分体式监控系统的工作流程，包括如下步骤：步骤1：主设备启动，同时会加载系统外设硬件驱动；步骤2：加载TTY虚拟设备驱动、DI虚拟设备杂项驱动、DO虚拟设备杂项驱动并运行，虚拟驱动之间可以互相交互数据，当TTY虚拟设备总线入口有对应数据写入时会将相关数据同步到对应的虚拟TTY串口、DI虚拟设备和DO虚拟设备中，当DO虚拟设备被操作修改控制状态时也会同步到TTY虚拟设备总线中并发送出去；步骤3：运行数据异步交互管理程序，此程序为多线程程序，同时管理着采集设备输入的数据包的解析、数据包异步转发到TTY虚拟总线、虚拟设备数据异步转发至采集设备、实时更新采集设备配置以下发任务。步骤4：数据异步交互管理程序会判断当前是否有串口数据从虚拟设备中写入，确定有数据时会执行步骤7；当没有串口数据需要发送时会执行步骤5；步骤5：数据异步交互管理程序会判断当前是否有采集设备的配置参数数据需要下发，没有配置数据需要发送时会执行步骤6，有配置数据需要发送时会执行步骤8；步骤6：数据异步交互管理程序会定时下发DO数据，用以保证主设备与采集设备中的DO状态保持一致；步骤7：数据异步交互管理程序打包发送DO数据和需要下发的串口数据；步骤8：数据异步交互管理程序打包发送DO数据和采集设备配置参数数据；步骤9：数据收发处理程序接收到主设备下发的数据会解析并同步到DO控制状态，同时把对应串口的数据分发到对应的物理串口中；步骤10：数据收发处理程序判断是否接收到物理串口上送的数据，如果没有数据会执行步骤11，如果有数据会执行步骤12；步骤11：数据收发处理程序会定时上传DI通道数据到主设备，用以及时同步主设备和采集模块之间的DI通信数据；步骤12：数据收发处理程序会打包上传DI数据和对应的物理串口数据到主设备。至此整个逻辑会循环运行起来，用来保证数据的传输实时且减少数据传输的物理成本。实施例二：本实施例提供一种分体式监控系统的应用实例，其应用场景为制造车间的工作区域。需要采集的环境变量有：工作区视频图像、工作区各位置的温度数据、湿度数据、产品储藏区的开关门信号；主设备控制模块设置在主设备中，主设备设置在中心控制房内，各采集设备包括3个摄像头、5个温度检测器、5个湿度检测器及一个红外传感器，终端设备包括设置在中心控制房内的1个智能集成显示屏以及靠近各采集设备的单体式数据显示器，各采集设备设置在制造车间的对应位置。本实施例中主设备不限于使用RS232串口与采集设备及终端设备连接，合适使用场景的各种通信接口都可以使用，比如是用网口，RS485，RS422，SPI等等。至此，已经结合附图所示的优选实施方式描述了本发明的技术方案，但是，本领域技术人员容易理解的是，本发明的保护范围显然不局限于这些具体实施方式。在不偏离本发明的原理的前提下，本领域技术人员可以对相关技术特征做出等同的更改或替换，这些更改或替换之后的技术方案都将落入本发明的保护范围之内。以上所述仅为本发明的优选实施例，并不用于限制本发明；对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
