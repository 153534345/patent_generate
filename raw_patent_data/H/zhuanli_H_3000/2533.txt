标题title
UWB基站动态调整方法、装置、设备及介质
摘要abst
本发明涉及无线通信技术领域，提供一种UWB基站动态调整方法、装置、设备及介质，能够在基于UWB定位技术实现对特殊场景下成员的离队检测过程中，同时通过标签对基站进行离队检测，及通过标签对基站进行效率监测，并根据离队检测结果及效率监测结果从多个标签中选择目标标签替代基站，避免由于原有基站离队或者效率低而影响目标队伍的整体运行，由于基站能够灵活的动态调整，因此提升了队伍的安全性与稳定性。
权利要求书clms
1.一种UWB基站动态调整方法，其特征在于，所述UWB基站动态调整方法包括：在预设场景下组建目标队伍，并为所述目标队伍中的每个成员配备UWB设备；其中，所述目标队伍包括基站及多个标签；在通过所述基站对所述多个标签进行离队检测时，控制所述多个标签对所述基站进行离队检测得到离队检测结果，及控制所述多个标签对所述基站进行效率监测得到效率监测结果；根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站。2.如权利要求1所述的UWB基站动态调整方法，其特征在于：所述预设场景包括以下一种或者多种场景的组合：室外场景、野外场景、无网络场景；所述UWB设备包括：段码显示模块、蜂鸣声音模块、LED工作状态指示模块、LED传输状态指示模块；其中，所述段码显示模块用于显示所述UWB设备的状态、编号；所述蜂鸣声音模块用于通过不同的蜂鸣信号进行告警；所述LED工作状态指示模块用于通过不同的发光状态进行提示；所述LED传输状态指示模块用于通过不同的发光状态指示所述UWB设备处于发送状态还是接收状态。3.如权利要求1所述的UWB基站动态调整方法，其特征在于，所述控制所述多个标签对所述基站进行离队检测得到离队检测结果包括：当在所述多个标签中有任意标签的空闲时间大于第一预设阈值时，控制所述任意标签广播基站查询信号；当所述多个标签中除所述任意标签外的其他标签接收到所述基站查询信号时，在经过预设时长后，控制所述其他标签检测自身的空闲时间是否大于第二预设阈值，及检测自身的空闲时间是否大于所述第一预设阈值；当所述其他标签自身的空闲时间小于或者等于所述第二预设阈值时，确定所述基站未离队，并控制所述其他标签广播停止查询基站信号；或者当所述其他标签自身的空闲时间大于所述第二预设阈值且小于或者等于所述第一预设阈值时，控制所述其他标签对所述基站查询信号进行中继转发；或者当所述其他标签自身的空闲时间大于所述第一预设阈值时，确定所述基站离队；其中，所述第二预设阈值为所述第一预设阈值与预设值的乘积，所述预设值的取值范围为。4.如权利要求3所述的UWB基站动态调整方法，其特征在于，所述控制所述多个标签对所述基站进行效率监测得到效率监测结果包括：在每个标签回复或者中继所述基站发送的信号时，获取每个标签自身的直连设备量作为每个标签对应的第一数量，及从所述信号中获取所述基站的直连设备量作为第二数量；其中，所述信号中包括所述目标队伍中信号直接连通的设备量，及所述信号直接连通的设备量对应的设备ID；当有标签对应的第一数量大于所述第二数量时，控制所述标签利用对应的所述第一数量替换所述信号直接连通的设备量，及控制所述标签利用对应的设备ID替换所述信号直接连通的设备量对应的设备ID；获取所述目标队伍中成员的总数量，并计算所述总数量与第一预设比例的乘积得到第一目标数量，及计算所述总数量与第二预设比例的乘积得到第二目标数量；其中，所述第一预设比例小于所述第二预设比例；当所述第二数量小于所述第一目标数量，且所述基站通过所述信号直接连通的设备量及所述信号直接连通的设备量对应的设备ID确定有第一标签对应的第一数量大于所述第二目标数量时，确定所述基站的效率低；其中，所述直连设备量表示在信号覆盖范围内直接连通的UWB设备的数量。5.如权利要求4所述的UWB基站动态调整方法，其特征在于，所述根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站包括：当确定所述基站离队时，获取所述其他标签对应的所述第一数量，及获取所述基站的已组队设备列表；当检测到在所述其他标签中有第二标签对应的所述第一数量小于或者等于所述第二目标数量，及/或所述第二标签不在所述已组队设备列表的列表尾部时，控制所述第二标签对所述基站查询信号进行中继转发；或者当检测到在所述其他标签中有第三标签对应的所述第一数量大于所述第二目标数量，及/或所述第三标签在所述已组队设备列表的列表尾部时，将所述第三标签确定为所述目标标签，并控制所述目标标签将角色类型转换为基站角色。6.如权利要求5所述的UWB基站动态调整方法，其特征在于，所述根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站还包括：当确定所述基站的效率低时，将所述第一标签确定为所述目标标签，并控制所述目标标签将角色类型转换为基站角色，控制所述基站广播基站切换信号。7.如权利要求6所述的UWB基站动态调整方法，其特征在于，在根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站后，所述方法还包括：当所述目标标签接收到所述基站切换信号时，控制所述目标标签根据自身的设备ID更新所述已组队设备列表，广播基站变化信号，并在等待指定时长后执行离队检测；其中，所述基站变化信号包括更新后的已组队设备列表；当检测到所述目标队伍中除所述目标标签外的标签接收到所述基站切换信号时，在等待所述预设时长后，控制检测到的标签对所述基站切换信号进行中继转发，直至接收到所述基站变化信号；当检测到所述目标队伍中除所述目标标签外的标签接收到所述基站变化信号时，控制检测到的标签根据更新后的已组队设备列表更新自身存储的已组队设备列表，在等待所述预设时长后，控制检测到的标签对所述基站变化信号进行中继转发，并停止对所述基站查询信号进行中继转发；当检测到所述目标队伍中除所述目标标签外的标签接收到所述停止查询基站信号时，控制检测到的标签停止对所述基站查询信号进行中继转发；控制所述基站根据更新后的已组队设备列表更新自身存储的已组队设备列表，并将自身的角色类型转换为标签角色，在等待所述预设时长后对所述基站变化信号进行中继转发。8.一种UWB基站动态调整装置，其特征在于，所述UWB基站动态调整装置包括：组建单元，用于在预设场景下组建目标队伍，并为所述目标队伍中的每个成员配备UWB设备；其中，所述目标队伍包括基站及多个标签；控制单元，用于在通过所述基站对所述多个标签进行离队检测时，控制所述多个标签对所述基站进行离队检测得到离队检测结果，及控制所述多个标签对所述基站进行效率监测得到效率监测结果；选择单元，用于根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站。9.一种计算机设备，其特征在于，所述计算机设备包括：存储器，存储至少一个指令；及处理器，执行所述存储器中存储的指令以实现如权利要求1至7中任意一项所述的UWB基站动态调整方法。10.一种计算机可读存储介质，其特征在于：所述计算机可读存储介质中存储有至少一个指令，所述至少一个指令被计算机设备中的处理器执行以实现如权利要求1至7中任意一项所述的UWB基站动态调整方法。
说明书desc
技术领域本发明涉及无线通信技术领域，尤其涉及一种UWB基站动态调整方法、装置、设备及介质。背景技术UWB技术是一种无线载波通信技术，UWB技术没有采用正弦载波，而是利用纳秒级的非正弦波窄脉冲传输数据，因此所占的频谱范围很宽。UWB具有系统复杂度低、发射信号功率谱密度低、对信道衰落不敏感、截获能力低、定位精度高、穿透力强、多径分辨力强及功耗低等优点。UWB技术多被应用于室内等密集多径场所的高速无线接入与定位，并且，在上述应用场景中，UWB基站的位置是固定的，UWB标签也只能在固定基站的覆盖物理范围内使用。但是，目前的UWB技术通常采用固定的基站，由于基站在系统中是总调度的角色，因此，当基站的工作效率较低，或者基站由于离队而无法正常运作时，会直接影响到整个系统的动作效率。发明内容鉴于以上内容，有必要提供一种UWB基站动态调整方法、装置、设备及介质，旨在解决特殊环境下成员离队检测过程中基站的动态调整问题。一种UWB基站动态调整方法，所述UWB基站动态调整方法包括：在预设场景下组建目标队伍，并为所述目标队伍中的每个成员配备UWB设备；其中，所述目标队伍包括基站及多个标签；在通过所述基站对所述多个标签进行离队检测时，控制所述多个标签对所述基站进行离队检测得到离队检测结果，及控制所述多个标签对所述基站进行效率监测得到效率监测结果；根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站。根据本发明优选实施例，所述预设场景包括以下一种或者多种场景的组合：室外场景、野外场景、无网络场景；所述UWB设备包括：段码显示模块、蜂鸣声音模块、LED工作状态指示模块、LED传输状态指示模块；其中，所述段码显示模块用于显示所述UWB设备的状态、编号；所述蜂鸣声音模块用于通过不同的蜂鸣信号进行告警；所述LED工作状态指示模块用于通过不同的发光状态进行提示；所述LED传输状态指示模块用于通过不同的发光状态指示所述UWB设备处于发送状态还是接收状态。根据本发明优选实施例，所述控制所述多个标签对所述基站进行离队检测得到离队检测结果包括：当在所述多个标签中有任意标签的空闲时间大于第一预设阈值时，控制所述任意标签广播基站查询信号；当所述多个标签中除所述任意标签外的其他标签接收到所述基站查询信号时，在经过预设时长后，控制所述其他标签检测自身的空闲时间是否大于第二预设阈值，及检测自身的空闲时间是否大于所述第一预设阈值；当所述其他标签自身的空闲时间小于或者等于所述第二预设阈值时，确定所述基站未离队，并控制所述其他标签广播停止查询基站信号；或者当所述其他标签自身的空闲时间大于所述第二预设阈值且小于或者等于所述第一预设阈值时，控制所述其他标签对所述基站查询信号进行中继转发；或者当所述其他标签自身的空闲时间大于所述第一预设阈值时，确定所述基站离队；其中，所述第二预设阈值为所述第一预设阈值与预设值的乘积，所述预设值的取值范围为。根据本发明优选实施例，所述控制所述多个标签对所述基站进行效率监测得到效率监测结果包括：在每个标签回复或者中继所述基站发送的信号时，获取每个标签自身的直连设备量作为每个标签对应的第一数量，及从所述信号中获取所述基站的直连设备量作为第二数量；其中，所述信号中包括所述目标队伍中信号直接连通的设备量，及所述信号直接连通的设备量对应的设备ID；当有标签对应的第一数量大于所述第二数量时，控制所述标签利用对应的所述第一数量替换所述信号直接连通的设备量，及控制所述标签利用对应的设备ID替换所述信号直接连通的设备量对应的设备ID；获取所述目标队伍中成员的总数量，并计算所述总数量与第一预设比例的乘积得到第一目标数量，及计算所述总数量与第二预设比例的乘积得到第二目标数量；其中，所述第一预设比例小于所述第二预设比例；当所述第二数量小于所述第一目标数量，且所述基站通过所述信号直接连通的设备量及所述信号直接连通的设备量对应的设备ID确定有第一标签对应的第一数量大于所述第二目标数量时，确定所述基站的效率低；其中，所述直连设备量表示在信号覆盖范围内直接连通的UWB设备的数量。根据本发明优选实施例，所述根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站包括：当确定所述基站离队时，获取所述其他标签对应的所述第一数量，及获取所述基站的已组队设备列表；当检测到在所述其他标签中有第二标签对应的所述第一数量小于或者等于所述第二目标数量，及/或所述第二标签不在所述已组队设备列表的列表尾部时，控制所述第二标签对所述基站查询信号进行中继转发；或者当检测到在所述其他标签中有第三标签对应的所述第一数量大于所述第二目标数量，及/或所述第三标签在所述已组队设备列表的列表尾部时，将所述第三标签确定为所述目标标签，并控制所述目标标签将角色类型转换为基站角色。根据本发明优选实施例，所述根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站还包括：当确定所述基站的效率低时，将所述第一标签确定为所述目标标签，并控制所述目标标签将角色类型转换为基站角色，控制所述基站广播基站切换信号。根据本发明优选实施例，在根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站后，所述方法还包括：当所述目标标签接收到所述基站切换信号时，控制所述目标标签根据自身的设备ID更新所述已组队设备列表，广播基站变化信号，并在等待指定时长后执行离队检测；其中，所述基站变化信号包括更新后的已组队设备列表；当检测到所述目标队伍中除所述目标标签外的标签接收到所述基站切换信号时，在等待所述预设时长后，控制检测到的标签对所述基站切换信号进行中继转发，直至接收到所述基站变化信号；当检测到所述目标队伍中除所述目标标签外的标签接收到所述基站变化信号时，控制检测到的标签根据更新后的已组队设备列表更新自身存储的已组队设备列表，在等待所述预设时长后，控制检测到的标签对所述基站变化信号进行中继转发，并停止对所述基站查询信号进行中继转发；当检测到所述目标队伍中除所述目标标签外的标签接收到所述停止查询基站信号时，控制检测到的标签停止对所述基站查询信号进行中继转发；控制所述基站根据更新后的已组队设备列表更新自身存储的已组队设备列表，并将自身的角色类型转换为标签角色，在等待所述预设时长后对所述基站变化信号进行中继转发。一种UWB基站动态调整装置，所述UWB基站动态调整装置包括：组建单元，用于在预设场景下组建目标队伍，并为所述目标队伍中的每个成员配备UWB设备；其中，所述目标队伍包括基站及多个标签；控制单元，用于在通过所述基站对所述多个标签进行离队检测时，控制所述多个标签对所述基站进行离队检测得到离队检测结果，及控制所述多个标签对所述基站进行效率监测得到效率监测结果；选择单元，用于根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站。一种计算机设备，所述计算机设备包括：存储器，存储至少一个指令；及处理器，执行所述存储器中存储的指令以实现所述UWB基站动态调整方法。一种计算机可读存储介质，所述计算机可读存储介质中存储有至少一个指令，所述至少一个指令被计算机设备中的处理器执行以实现所述UWB基站动态调整方法。由以上技术方案可以看出，本发明能够在基于UWB定位技术实现对特殊场景下成员的离队检测过程中，同时通过标签对基站进行离队检测，及通过标签对基站进行效率监测，并根据离队检测结果及效率监测结果从多个标签中选择目标标签替代基站，避免由于原有基站离队或者效率低而影响目标队伍的整体运行，由于基站能够灵活的动态调整，因此提升了队伍的安全性与稳定性。附图说明图1是本发明UWB基站动态调整方法的较佳实施例的流程图。图2是本发明UWB基站动态调整装置的较佳实施例的功能模块图。图3是本发明实现UWB基站动态调整方法的较佳实施例的计算机设备的结构示意图。具体实施方式为了使本发明的目的、技术方案和优点更加清楚，下面结合附图和具体实施例对本发明进行详细描述。如图1所示，是本发明UWB基站动态调整方法的较佳实施例的流程图。根据不同的需求，该流程图中步骤的顺序可以改变，某些步骤可以省略。所述UWB基站动态调整方法应用于一个或者多个计算机设备中，所述计算机设备是一种能够按照事先设定或存储的指令，自动进行数值计算和/或信息处理的设备，其硬件包括但不限于微处理器、专用集成电路、可编程门阵列、数字处理器、嵌入式设备等。所述计算机设备可以是任何一种可与用户进行人机交互的电子产品，例如，个人计算机、平板电脑、智能手机、个人数字助理、游戏机、交互式网络电视、智能式穿戴式设备等。所述计算机设备还可以包括网络设备和/或用户设备。其中，所述网络设备包括，但不限于单个网络服务器、多个网络服务器组成的服务器组或基于云计算的由大量主机或网络服务器构成的云。所述服务器可以是独立的服务器，也可以是提供云服务、云数据库、云计算、云函数、云存储、网络服务、云通信、中间件服务、域名服务、安全服务、内容分发网络、以及大数据和人工智能平台等基础云计算服务的云服务器。其中，人工智能等。S10，在预设场景下组建目标队伍，并为所述目标队伍中的每个成员配备UWB设备；其中，所述目标队伍包括基站及多个标签。在本实施例中，所述预设场景可以包括，但不限于以下一种或者多种场景的组合：室外场景、野外场景、无网络场景。例如：所述预设场景可以为任意团队在户外，尤其是在缺乏正常网络环境的野外作业或探险场景。在本实施例中，所述UWB设备可以包括，但不限于：MCU处理器、UWB模块、供电模块、按键模块、段码显示模块、蜂鸣声音模块、LED工作状态指示模块、LED传输状态指示模块。其中，所述UWB模块集处理电路、射频电路和天线于一体，具备UWB通信功能。例如：所述供电模块可以为电路提供3.7V供电电压，供电方式有USB外接供电和锂电池供电两种方式，外接供电时同时具备对锂电池充电的能力；其中，所述段码显示模块用于显示所述UWB设备的状态、编号；例如：所述段码显示模块可以为4位LED段码显示屏，用于关键状态信息的显示，所述关键状态信息可以包括，但不限于：终端信号连接状态、终端组队状态、终端组队编号、离队人员编号、求救人员编号、锂电池电量等；其中，所述蜂鸣声音模块用于通过不同的蜂鸣信号进行告警；例如：所述蜂鸣声音模块可以通过短音、中音、长音及重复次数来反馈对应终端的关键状态；其中，所述关键状态包括，但不限于：当前终端离队告警、其它终端离队告警、求救告警、电量低告警；其中，所述LED工作状态指示模块用于通过不同的发光状态进行提示；具体地，所述LED工作状态指示模块可以包括电源状态指示灯与告警状态指示灯，例如：所述电源状态指示灯用于指示终端的开关机状态，关机情况下保持常灭，开机后会先保持绿色常亮，请求组队过程中保持蓝色闪亮，组队完成后保持蓝色常亮，低电量时保持红色闪亮；所述告警状态指示灯在无任何告警信号的情况下保持常灭，出现任何告警信号则保持红色闪亮；其中，所述按键模块可以包括开关按键、功能切换按键及SOS按键；例如：通过长按所述开关按键3秒能够实现终端的开关机状态的切换，重新开机等同于重置终端的组队状态；短按所述功能切换按键，可以切换所述段码显示模块的显示内容，长按所述功能切换按键3秒及以上不松开可让终端进入请求组队状态；长按所述SOS按键，可向其它终端发送求救信号，其它终端收到求救信号后马上进入告警状态；其中，所述LED传输状态指示模块用于通过不同的发光状态指示所述UWB设备处于发送状态还是接收状态。在本实施例中，所述基站在所述UWB设备中负责所有设备的组团编号、设备寻找、动态基站切换等任务。在本实施例中，所述标签用于响应所述基站的信号，或用于中继其它标签与所述基站之间的信号。S11，在通过所述基站对所述多个标签进行离队检测时，控制所述多个标签对所述基站进行离队检测得到离队检测结果，及控制所述多个标签对所述基站进行效率监测得到效率监测结果。在本实施例中，所述控制所述多个标签对所述基站进行离队检测得到离队检测结果包括：当在所述多个标签中有任意标签的空闲时间大于第一预设阈值时，控制所述任意标签广播基站查询信号；当所述多个标签中除所述任意标签外的其他标签接收到所述基站查询信号时，在经过预设时长后，控制所述其他标签检测自身的空闲时间是否大于第二预设阈值，及检测自身的空闲时间是否大于所述第一预设阈值；当所述其他标签自身的空闲时间小于或者等于所述第二预设阈值时，确定所述基站未离队，并控制所述其他标签广播停止查询基站信号；或者当所述其他标签自身的空闲时间大于所述第二预设阈值且小于或者等于所述第一预设阈值时，控制所述其他标签对所述基站查询信号进行中继转发；或者当所述其他标签自身的空闲时间大于所述第一预设阈值时，确定所述基站离队；其中，所述第二预设阈值为所述第一预设阈值与预设值的乘积，所述预设值的取值范围为。例如：所述预设值可以为0.75。具体地，所述空闲时间是指未接收到任何信号的时间，单位可以为毫秒。其中，所述第一预设阈值可以进行自定义配置，所述第一预设阈值可以为最大等待时间，其值可以为目标队伍中UWB设备的总数量与一个信号发送的等待量的乘积。其中，所述预设时长也可以进行自定义配置，相当于超时等待时间。在本实施例中，所述控制所述多个标签对所述基站进行效率监测得到效率监测结果包括：在每个标签回复或者中继所述基站发送的信号时，获取每个标签自身的直连设备量作为每个标签对应的第一数量，及从所述信号中获取所述基站的直连设备量作为第二数量；其中，所述信号中包括所述目标队伍中信号直接连通的设备量，及所述信号直接连通的设备量对应的设备ID；当有标签对应的第一数量大于所述第二数量时，控制所述标签利用对应的所述第一数量替换所述信号直接连通的设备量，及控制所述标签利用对应的设备ID替换所述信号直接连通的设备量对应的设备ID；获取所述目标队伍中成员的总数量，并计算所述总数量与第一预设比例的乘积得到第一目标数量，及计算所述总数量与第二预设比例的乘积得到第二目标数量；其中，所述第一预设比例小于所述第二预设比例；当所述第二数量小于所述第一目标数量，且所述基站通过所述信号直接连通的设备量及所述信号直接连通的设备量对应的设备ID确定有第一标签对应的第一数量大于所述第二目标数量时，确定所述基站的效率低；其中，所述直连设备量表示在信号覆盖范围内直接连通的UWB设备的数量。其中，所述第一预设比例及所述第二预设比例可以进行自定义配置，例如：所述第一预设比例可以为1/3，所述第二预设比例可以为1/2。在本实施例中，所述目标队伍中的每个成员都可以维护一个直接联系列表，属于终端系统的数组变量，元素为当前设备能直接接收到信号的其它终端设备的设备ID；直接联系列表directList由各成员自行维护；该数组会在固定周期内被清空，以保证直接联系列表的有效性。S12，根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站。在本实施例中，所述根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站包括：当确定所述基站离队时，获取所述其他标签对应的所述第一数量，及获取所述基站的已组队设备列表；当检测到在所述其他标签中有第二标签对应的所述第一数量小于或者等于所述第二目标数量，及/或所述第二标签不在所述已组队设备列表的列表尾部时，控制所述第二标签对所述基站查询信号进行中继转发；或者当检测到在所述其他标签中有第三标签对应的所述第一数量大于所述第二目标数量，及/或所述第三标签在所述已组队设备列表的列表尾部时，将所述第三标签确定为所述目标标签，并控制所述目标标签将角色类型转换为基站角色。在本实施例中，所述根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站还包括：当确定所述基站的效率低时，将所述第一标签确定为所述目标标签，并控制所述目标标签将角色类型转换为基站角色，控制所述基站广播基站切换信号。在上述实施例中，当确定当前基站离队或者效率低时，为了保证整个队伍正常运行，因此，从标签中选择较优者替代原有的基站角色，使基站的选择更加灵活，同时增强了队伍的稳定性及安全性。在本实施例中，在根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站后，所述方法还包括：当所述目标标签接收到所述基站切换信号时，控制所述目标标签根据自身的设备ID更新所述已组队设备列表，广播基站变化信号，并在等待指定时长后执行离队检测；其中，所述基站变化信号包括更新后的已组队设备列表；当检测到所述目标队伍中除所述目标标签外的标签接收到所述基站切换信号时，在等待所述预设时长后，控制检测到的标签对所述基站切换信号进行中继转发，直至接收到所述基站变化信号；当检测到所述目标队伍中除所述目标标签外的标签接收到所述基站变化信号时，控制检测到的标签根据更新后的已组队设备列表更新自身存储的已组队设备列表，在等待所述预设时长后，控制检测到的标签对所述基站变化信号进行中继转发，并停止对所述基站查询信号进行中继转发；当检测到所述目标队伍中除所述目标标签外的标签接收到所述停止查询基站信号时，控制检测到的标签停止对所述基站查询信号进行中继转发；控制所述基站根据更新后的已组队设备列表更新自身存储的已组队设备列表，并将自身的角色类型转换为标签角色，在等待所述预设时长后对所述基站变化信号进行中继转发。下面通过举例阐述本实施例中UWB基站动态调整的过程。当一个标签的空闲时间idleTime大于第一预设阈值maxWaitTime时，主动发出查找基站的信号，即基站查询信号Anchor Search信号。其他标签在接收到基站查询信号后，在等待预设时长timeToWait后判断：条件1：自身的idleTime是否大于maxWaitTime*预设值0.75；条件2：自身的idleTime是否大于maxWaitTime；如果两个条件均不满足，即发出停止查询基站信号Anchor Ok信号；如果只满足条件1，即对Anchor Search信号进行中继转发；如果条件2也满足，即检查自身直连设备量directList元素的数量是否大于等于目标队伍中成员的总数量的一半，或是否是已组队设备列表deviceList中最后一个设备。如果都不是，即对Anchor Search信号进行中继转发；如果是其中任意一种，将自身角色类型deviceType设定为基站角色，在deviceList数组中将自身的设备ID与首元素进行位置互换，然后发出基站变化信号Anchor Change信号，信号内容中带上新的deviceList数组；当收到Anchor Ok或Anchor Change信号后，停止对Anchor Search信号的中继转发。基站发起的每条信号都有独立的信号事件号eventID，基站都会用自身directList数组长度填写信号中所述目标队伍中信号直接连通的设备量best count项，用自己的deviceID填写所述信号直接连通的设备量对应的设备ID best ID项；标签在回复或中继时，均会将自己的directList数组长度与上一个信号中的best count数据进行比较，如果结果是比best count大，则用自身存储的directList数组长度替换best count项，同时将自己的deviceID值填写至best ID项，否则沿用上一信号的数据。这样，基站就能随时掌握自己及标签的directList的情况。当基站在directList数组长度不足deviceList数组长度的1/3，且存在directList长度大于目标队伍中设备数量一半的标签时，基站发出基站切换信号AnchorSwitch信号；非目标标签收到该信号并等待timeToWait后对Anchor Switch信号进行中继转发，除非已经收到Anchor Change信号；目标标签收到该信号后，将自身deviceType设定为基站，在deviceList数组中将自身的deviceID与首元素进行位置互换，然后发出Anchor Change信号，信号内容中带上新的deviceList数组。基站变化信号Anchor Change由新基站发出，当标签收到该信号后，根据信号内容中的deviceList更新自身deviceList数组，并在等待timeToWait后对Anchor Change信号进行中继转发；当旧基站收到该信号后，根据信号内容中的deviceList更新自身deviceList数组，将自己的deviceType设备定标签角色，并在等待timeToWait后对AnchorChange信号进行中继转发；新基站发出Anchor Change后，等待指定时长maxWaitTime*0.5的时间后，开始执行对标签状态的检查任务。由以上技术方案可以看出，本发明能够在基于UWB定位技术实现对特殊场景下成员的离队检测过程中，同时通过标签对基站进行离队检测，及通过标签对基站进行效率监测，并根据离队检测结果及效率监测结果从多个标签中选择目标标签替代基站，避免由于原有基站离队或者效率低而影响目标队伍的整体运行，由于基站能够灵活的动态调整，因此提升了队伍的安全性与稳定性。如图2所示，是本发明UWB基站动态调整装置的较佳实施例的功能模块图。所述UWB基站动态调整装置11包括组建单元110、控制单元111、选择单元112。本发明所称的模块/单元是指一种能够被处理器所执行，并且能够完成固定功能的一系列计算机程序段，其存储在存储器中。在本实施例中，关于各模块/单元的功能将在后续的实施例中详述。所述组建单元110，用于在预设场景下组建目标队伍，并为所述目标队伍中的每个成员配备UWB设备；其中，所述目标队伍包括基站及多个标签。在本实施例中，所述预设场景可以包括，但不限于以下一种或者多种场景的组合：室外场景、野外场景、无网络场景。例如：所述预设场景可以为任意团队在户外，尤其是在缺乏正常网络环境的野外作业或探险场景。在本实施例中，所述UWB设备可以包括，但不限于：MCU处理器、UWB模块、供电模块、按键模块、段码显示模块、蜂鸣声音模块、LED工作状态指示模块、LED传输状态指示模块。其中，所述UWB模块集处理电路、射频电路和天线于一体，具备UWB通信功能。例如：所述供电模块可以为电路提供3.7V供电电压，供电方式有USB外接供电和锂电池供电两种方式，外接供电时同时具备对锂电池充电的能力；其中，所述段码显示模块用于显示所述UWB设备的状态、编号；例如：所述段码显示模块可以为4位LED段码显示屏，用于关键状态信息的显示，所述关键状态信息可以包括，但不限于：终端信号连接状态、终端组队状态、终端组队编号、离队人员编号、求救人员编号、锂电池电量等；其中，所述蜂鸣声音模块用于通过不同的蜂鸣信号进行告警；例如：所述蜂鸣声音模块可以通过短音、中音、长音及重复次数来反馈对应终端的关键状态；其中，所述关键状态包括，但不限于：当前终端离队告警、其它终端离队告警、求救告警、电量低告警；其中，所述LED工作状态指示模块用于通过不同的发光状态进行提示；具体地，所述LED工作状态指示模块可以包括电源状态指示灯与告警状态指示灯，例如：所述电源状态指示灯用于指示终端的开关机状态，关机情况下保持常灭，开机后会先保持绿色常亮，请求组队过程中保持蓝色闪亮，组队完成后保持蓝色常亮，低电量时保持红色闪亮；所述告警状态指示灯在无任何告警信号的情况下保持常灭，出现任何告警信号则保持红色闪亮；其中，所述按键模块可以包括开关按键、功能切换按键及SOS按键；例如：通过长按所述开关按键3秒能够实现终端的开关机状态的切换，重新开机等同于重置终端的组队状态；短按所述功能切换按键，可以切换所述段码显示模块的显示内容，长按所述功能切换按键3秒及以上不松开可让终端进入请求组队状态；长按所述SOS按键，可向其它终端发送求救信号，其它终端收到求救信号后马上进入告警状态；其中，所述LED传输状态指示模块用于通过不同的发光状态指示所述UWB设备处于发送状态还是接收状态。在本实施例中，所述基站在所述UWB设备中负责所有设备的组团编号、设备寻找、动态基站切换等任务。在本实施例中，所述标签用于响应所述基站的信号，或用于中继其它标签与所述基站之间的信号。所述控制单元111，用于在通过所述基站对所述多个标签进行离队检测时，控制所述多个标签对所述基站进行离队检测得到离队检测结果，及控制所述多个标签对所述基站进行效率监测得到效率监测结果。在本实施例中，所述控制单元111控制所述多个标签对所述基站进行离队检测得到离队检测结果包括：当在所述多个标签中有任意标签的空闲时间大于第一预设阈值时，控制所述任意标签广播基站查询信号；当所述多个标签中除所述任意标签外的其他标签接收到所述基站查询信号时，在经过预设时长后，控制所述其他标签检测自身的空闲时间是否大于第二预设阈值，及检测自身的空闲时间是否大于所述第一预设阈值；当所述其他标签自身的空闲时间小于或者等于所述第二预设阈值时，确定所述基站未离队，并控制所述其他标签广播停止查询基站信号；或者当所述其他标签自身的空闲时间大于所述第二预设阈值且小于或者等于所述第一预设阈值时，控制所述其他标签对所述基站查询信号进行中继转发；或者当所述其他标签自身的空闲时间大于所述第一预设阈值时，确定所述基站离队；其中，所述第二预设阈值为所述第一预设阈值与预设值的乘积，所述预设值的取值范围为。例如：所述预设值可以为0.75。具体地，所述空闲时间是指未接收到任何信号的时间，单位可以为毫秒。其中，所述第一预设阈值可以进行自定义配置，所述第一预设阈值可以为最大等待时间，其值可以为目标队伍中UWB设备的总数量与一个信号发送的等待量的乘积。其中，所述预设时长也可以进行自定义配置，相当于超时等待时间。在本实施例中，所述控制单元111控制所述多个标签对所述基站进行效率监测得到效率监测结果包括：在每个标签回复或者中继所述基站发送的信号时，获取每个标签自身的直连设备量作为每个标签对应的第一数量，及从所述信号中获取所述基站的直连设备量作为第二数量；其中，所述信号中包括所述目标队伍中信号直接连通的设备量，及所述信号直接连通的设备量对应的设备ID；当有标签对应的第一数量大于所述第二数量时，控制所述标签利用对应的所述第一数量替换所述信号直接连通的设备量，及控制所述标签利用对应的设备ID替换所述信号直接连通的设备量对应的设备ID；获取所述目标队伍中成员的总数量，并计算所述总数量与第一预设比例的乘积得到第一目标数量，及计算所述总数量与第二预设比例的乘积得到第二目标数量；其中，所述第一预设比例小于所述第二预设比例；当所述第二数量小于所述第一目标数量，且所述基站通过所述信号直接连通的设备量及所述信号直接连通的设备量对应的设备ID确定有第一标签对应的第一数量大于所述第二目标数量时，确定所述基站的效率低；其中，所述直连设备量表示在信号覆盖范围内直接连通的UWB设备的数量。其中，所述第一预设比例及所述第二预设比例可以进行自定义配置，例如：所述第一预设比例可以为1/3，所述第二预设比例可以为1/2。在本实施例中，所述目标队伍中的每个成员都可以维护一个直接联系列表，属于终端系统的数组变量，元素为当前设备能直接接收到信号的其它终端设备的设备ID；直接联系列表directList由各成员自行维护；该数组会在固定周期内被清空，以保证直接联系列表的有效性。所述选择单元112，用于根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站。在本实施例中，所述选择单元112根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站包括：当确定所述基站离队时，获取所述其他标签对应的所述第一数量，及获取所述基站的已组队设备列表；当检测到在所述其他标签中有第二标签对应的所述第一数量小于或者等于所述第二目标数量，及/或所述第二标签不在所述已组队设备列表的列表尾部时，控制所述第二标签对所述基站查询信号进行中继转发；或者当检测到在所述其他标签中有第三标签对应的所述第一数量大于所述第二目标数量，及/或所述第三标签在所述已组队设备列表的列表尾部时，将所述第三标签确定为所述目标标签，并控制所述目标标签将角色类型转换为基站角色。在本实施例中，所述选择单元112根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站还包括：当确定所述基站的效率低时，将所述第一标签确定为所述目标标签，并控制所述目标标签将角色类型转换为基站角色，控制所述基站广播基站切换信号。在上述实施例中，当确定当前基站离队或者效率低时，为了保证整个队伍正常运行，因此，从标签中选择较优者替代原有的基站角色，使基站的选择更加灵活，同时增强了队伍的稳定性及安全性。在本实施例中，在根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站后，当所述目标标签接收到所述基站切换信号时，控制所述目标标签根据自身的设备ID更新所述已组队设备列表，广播基站变化信号，并在等待指定时长后执行离队检测；其中，所述基站变化信号包括更新后的已组队设备列表；当检测到所述目标队伍中除所述目标标签外的标签接收到所述基站切换信号时，在等待所述预设时长后，控制检测到的标签对所述基站切换信号进行中继转发，直至接收到所述基站变化信号；当检测到所述目标队伍中除所述目标标签外的标签接收到所述基站变化信号时，控制检测到的标签根据更新后的已组队设备列表更新自身存储的已组队设备列表，在等待所述预设时长后，控制检测到的标签对所述基站变化信号进行中继转发，并停止对所述基站查询信号进行中继转发；当检测到所述目标队伍中除所述目标标签外的标签接收到所述停止查询基站信号时，控制检测到的标签停止对所述基站查询信号进行中继转发；控制所述基站根据更新后的已组队设备列表更新自身存储的已组队设备列表，并将自身的角色类型转换为标签角色，在等待所述预设时长后对所述基站变化信号进行中继转发。下面通过举例阐述本实施例中UWB基站动态调整的过程。当一个标签的空闲时间idleTime大于第一预设阈值maxWaitTime时，主动发出查找基站的信号，即基站查询信号Anchor Search信号。其他标签在接收到基站查询信号后，在等待预设时长timeToWait后判断：条件1：自身的idleTime是否大于maxWaitTime*预设值0.75；条件2：自身的idleTime是否大于maxWaitTime；如果两个条件均不满足，即发出停止查询基站信号Anchor Ok信号；如果只满足条件1，即对Anchor Search信号进行中继转发；如果条件2也满足，即检查自身直连设备量directList元素的数量是否大于等于目标队伍中成员的总数量的一半，或是否是已组队设备列表deviceList中最后一个设备。如果都不是，即对Anchor Search信号进行中继转发；如果是其中任意一种，将自身角色类型deviceType设定为基站角色，在deviceList数组中将自身的设备ID与首元素进行位置互换，然后发出基站变化信号Anchor Change信号，信号内容中带上新的deviceList数组；当收到Anchor Ok或Anchor Change信号后，停止对Anchor Search信号的中继转发。基站发起的每条信号都有独立的信号事件号eventID，基站都会用自身directList数组长度填写信号中所述目标队伍中信号直接连通的设备量best count项，用自己的deviceID填写所述信号直接连通的设备量对应的设备ID best ID项；标签在回复或中继时，均会将自己的directList数组长度与上一个信号中的best count数据进行比较，如果结果是比best count大，则用自身存储的directList数组长度替换best count项，同时将自己的deviceID值填写至best ID项，否则沿用上一信号的数据。这样，基站就能随时掌握自己及标签的directList的情况。当基站在directList数组长度不足deviceList数组长度的1/3，且存在directList长度大于目标队伍中设备数量一半的标签时，基站发出基站切换信号AnchorSwitch信号；非目标标签收到该信号并等待timeToWait后对Anchor Switch信号进行中继转发，除非已经收到Anchor Change信号；目标标签收到该信号后，将自身deviceType设定为基站，在deviceList数组中将自身的deviceID与首元素进行位置互换，然后发出Anchor Change信号，信号内容中带上新的deviceList数组。基站变化信号Anchor Change由新基站发出，当标签收到该信号后，根据信号内容中的deviceList更新自身deviceList数组，并在等待timeToWait后对Anchor Change信号进行中继转发；当旧基站收到该信号后，根据信号内容中的deviceList更新自身deviceList数组，将自己的deviceType设备定标签角色，并在等待timeToWait后对AnchorChange信号进行中继转发；新基站发出Anchor Change后，等待指定时长maxWaitTime*0.5的时间后，开始执行对标签状态的检查任务。由以上技术方案可以看出，本发明能够在基于UWB定位技术实现对特殊场景下成员的离队检测过程中，同时通过标签对基站进行离队检测，及通过标签对基站进行效率监测，并根据离队检测结果及效率监测结果从多个标签中选择目标标签替代基站，避免由于原有基站离队或者效率低而影响目标队伍的整体运行，由于基站能够灵活的动态调整，因此提升了队伍的安全性与稳定性。如图3所示，是本发明实现UWB基站动态调整方法的较佳实施例的计算机设备的结构示意图。所述计算机设备1可以包括存储器12、处理器13和总线，还可以包括存储在所述存储器12中并可在所述处理器13上运行的计算机程序，例如UWB基站动态调整程序。本领域技术人员可以理解，所述示意图仅仅是计算机设备1的示例，并不构成对计算机设备1的限定，所述计算机设备1既可以是总线型结构，也可以是星形结构，所述计算机设备1还可以包括比图示更多或更少的其他硬件或者软件，或者不同的部件布置，例如所述计算机设备1还可以包括输入输出设备、网络接入设备等。需要说明的是，所述计算机设备1仅为举例，其他现有的或今后可能出现的电子产品如可适应于本发明，也应包含在本发明的保护范围以内，并以引用方式包含于此。其中，存储器12至少包括一种类型的可读存储介质，所述可读存储介质包括闪存、移动硬盘、多媒体卡、卡型存储器、磁性存储器、磁盘、光盘等。存储器12在一些实施例中可以是计算机设备1的内部存储单元，例如该计算机设备1的移动硬盘。存储器12在另一些实施例中也可以是计算机设备1的外部存储设备，例如计算机设备1上配备的插接式移动硬盘、智能存储卡、安全数字卡、闪存卡等。进一步地，存储器12还可以既包括计算机设备1的内部存储单元也包括外部存储设备。存储器12不仅可以用于存储安装于计算机设备1的应用软件及各类数据，例如UWB基站动态调整程序的代码等，还可以用于暂时地存储已经输出或者将要输出的数据。处理器13在一些实施例中可以由集成电路组成，例如可以由单个封装的集成电路所组成，也可以是由多个相同功能或不同功能封装的集成电路所组成，包括一个或者多个中央处理器、微处理器、数字处理芯片、图形处理器及各种控制芯片的组合等。处理器13是所述计算机设备1的控制核心，利用各种接口和线路连接整个计算机设备1的各个部件，通过运行或执行存储在所述存储器12内的程序或者模块，以及调用存储在所述存储器12内的数据，以执行计算机设备1的各种功能和处理数据。所述处理器13执行所述计算机设备1的操作系统以及安装的各类应用程序。所述处理器13执行所述应用程序以实现上述各个UWB基站动态调整方法实施例中的步骤，例如图1所示的步骤。示例性的，所述计算机程序可以被分割成一个或多个模块/单元，所述一个或者多个模块/单元被存储在所述存储器12中，并由所述处理器13执行，以完成本发明。所述一个或多个模块/单元可以是能够完成特定功能的一系列计算机可读指令段，该指令段用于描述所述计算机程序在所述计算机设备1中的执行过程。例如，所述计算机程序可以被分割成组建单元110、控制单元111、选择单元112。上述以软件功能模块的形式实现的集成的单元，可以存储在一个计算机可读取存储介质中。上述软件功能模块存储在一个存储介质中，包括若干指令用以使得一台计算机设备或处理器执行本发明各个实施例所述UWB基站动态调整方法的部分。所述计算机设备1集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明实现上述实施例方法中的全部或部分流程，也可以通过计算机程序来指示相关的硬件设备来完成，所述的计算机程序可存储于一计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个方法实施例的步骤。其中，所述计算机程序包括计算机程序代码，所述计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。所述计算机可读介质可以包括：能够携带所述计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器等。进一步地，计算机可读存储介质可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序等；存储数据区可存储根据区块链节点的使用所创建的数据等。本发明所指区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。区块链，本质上是一个去中心化的数据库，是一串使用密码学方法相关联产生的数据块，每一个数据块中包含了一批次网络交易的信息，用于验证其信息的有效性和生成下一个区块。区块链可以包括区块链底层平台、平台产品服务层以及应用服务层等。总线可以是外设部件互连标准总线或扩展工业标准结构总线等。该总线可以分为地址总线、数据总线、控制总线等。为便于表示，在图3中仅用一根直线表示，但并不表示仅有一根总线或一种类型的总线。所述总线被设置为实现所述存储器12以及至少一个处理器13等之间的连接通信。尽管未示出，所述计算机设备1还可以包括给各个部件供电的电源，优选地，电源可以通过电源管理装置与所述至少一个处理器13逻辑相连，从而通过电源管理装置实现充电管理、放电管理、以及功耗管理等功能。电源还可以包括一个或一个以上的直流或交流电源、再充电装置、电源故障检测电路、电源转换器或者逆变器、电源状态指示器等任意组件。所述计算机设备1还可以包括多种传感器、蓝牙模块、Wi-Fi模块等，在此不再赘述。进一步地，所述计算机设备1还可以包括网络接口，可选地，所述网络接口可以包括有线接口和/或无线接口，通常用于在该计算机设备1与其他计算机设备之间建立通信连接。可选地，该计算机设备1还可以包括用户接口，用户接口可以是显示器、输入单元），可选地，用户接口还可以是标准的有线接口、无线接口。可选地，在一些实施例中，显示器可以是LED显示器、液晶显示器、触控式液晶显示器以及OLED触摸器等。其中，显示器也可以适当的称为显示屏或显示单元，用于显示在计算机设备1中处理的信息以及用于显示可视化的用户界面。应该了解，所述实施例仅为说明之用，在专利申请范围上并不受此结构的限制。图3仅示出了具有组件12-13的计算机设备1，本领域技术人员可以理解的是，图3示出的结构并不构成对所述计算机设备1的限定，可以包括比图示更少或者更多的部件，或者组合某些部件，或者不同的部件布置。结合图1，所述计算机设备1中的所述存储器12存储多个指令以实现一种UWB基站动态调整方法，所述处理器13可执行所述多个指令从而实现：在预设场景下组建目标队伍，并为所述目标队伍中的每个成员配备UWB设备；其中，所述目标队伍包括基站及多个标签；在通过所述基站对所述多个标签进行离队检测时，控制所述多个标签对所述基站进行离队检测得到离队检测结果，及控制所述多个标签对所述基站进行效率监测得到效率监测结果；根据所述离队检测结果及所述效率监测结果从所述多个标签中选择目标标签替代所述基站。具体地，所述处理器13对上述指令的具体实现方法可参考图1对应实施例中相关步骤的描述，在此不赘述。需要说明的是，本案中所涉及到的数据均为合法取得。在本发明所提供的几个实施例中，应该理解到，所揭露的系统，装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式。本发明可用于众多通用或专用的计算机系统环境或配置中。例如：个人计算机、服务器计算机、手持设备或便携式设备、平板型设备、多处理器系统、基于微处理器的系统、置顶盒、可编程的消费电子设备、网络PC、小型计算机、大型计算机、包括以上任何系统或设备的分布式计算环境等等。本发明可以在由计算机执行的计算机可执行指令的一般上下文中描述，例如程序模块。一般地，程序模块包括执行特定任务或实现特定抽象数据类型的例程、程序、对象、组件、数据结构等等。也可以在分布式计算环境中实践本发明，在这些分布式计算环境中，由通过通信网络而被连接的远程处理设备来执行任务。在分布式计算环境中，程序模块可以位于包括存储设备在内的本地和远程计算机存储介质中。所述作为分离部件说明的模块可以是或者也可以不是物理上分开的，作为模块显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用硬件加软件功能模块的形式实现。对于本领域技术人员而言，显然本发明不限于上述示范性实施例的细节，而且在不背离本发明的精神或基本特征的情况下，能够以其他的具体形式实现本发明。因此，无论从哪一点来看，均应将实施例看作是示范性的，而且是非限制性的，本发明的范围由所附权利要求而不是上述说明限定，因此旨在将落在权利要求的等同要件的含义和范围内的所有变化涵括在本发明内。不应将权利要求中的任何附关联图标记视为限制所涉及的权利要求。此外，显然“包括”一词不排除其他单元或步骤，单数不排除复数。本发明中陈述的多个单元或装置也可以由一个单元或装置通过软件或者硬件来实现。第一、第二等词语用来表示名称，而并不表示任何特定的顺序。最后应说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，可以对本发明的技术方案进行修改或等同替换，而不脱离本发明技术方案的精神和范围。
