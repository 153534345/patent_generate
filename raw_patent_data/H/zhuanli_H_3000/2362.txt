标题title
一种基于载波IP化的电力线载波组网传输方法
摘要abst
本发明涉及电力线组网通信技术领域，公开了一种基于载波IP化的电力线载波组网传输方法，包括S1：获取HPLC传输网络拓扑信息；S2：根据虚拟端口技术和DHCP服务组建IP化通信网络；S3：建立IP通道并完成信息传输。本发明针对电力线载波通信中存在的协议差异、设备未有效互联等问题，在端口虚拟化技术和DHCP技术的基础上，获取HPLC传输网络拓扑信息，根据虚拟端口技术和DHCP服务组建IP化通信网络，建立IP通道并完成信息传输，能够有效提高电力线载波通信信息传输效率。
权利要求书clms
1.一种基于载波IP化的电力线载波组网传输方法，其特征在于，包括如下步骤：S1：获取HPLC传输网络拓扑信息；S2.：根据虚拟端口技术和DHCP服务组建IP化通信网络；S3：建立IP通道并完成信息传输。2.根据权利要求1所述的基于载波IP化的电力线载波组网传输方法，其特征在于，所述步骤S1中，所述HPLC传输网络中有1个边缘物联代理，其IP地址为Ae，子网掩码为Me，所述边缘物联代理支持DHCP服务，根据MAC地址为网络中的其他终端设备分配IP地址；HPLC传输网络中有Nc个中央协调器CCO和Ns个台站STA，每个CCO都分配有唯一的MAC地址，第i个CCO上连接的第j个STA记为STAi，j；边缘物联代理与CCO之间通过以太网传输，CCO与STA之间通过电力线传输。3.根据权利要求1所述的基于载波IP化的电力线载波组网传输方法，其特征在于，所述步骤S2中，具体操作为：步骤2.1：对于第i个CCO，将连接在CCO上的第j个STA虚拟化为CCO上的端口号Pi，j；步骤2.2：对于边缘物联代理，向连接在其上的各个CCO广播组网请求，边缘物联代理上连接的第m个CCO将其MAC地址回复给边缘物联代理；步骤2.3：依托DHCP服务，边缘物联代理根据IP地址和各个CCO的MAC地址，为各个CCO分配IP地址，并向各CCO下发其IP地址；步骤2.4：边缘物联代理上连接的第m个CCO将其上连接的各STA的端口号信息发送给边缘物联代理，边缘物联代理构建并存储路由表，向各CCO发送组网完成报文，完成组网。4.根据权利要求1所述的基于载波IP化的电力线载波组网传输方法，其特征在于，所述步骤S3中，具体操作为：步骤3.1：边缘物联代理收集各STA信息时，向网络中各STA广播信息采集报文；步骤3.2：各STA收到信息采集报文后，向边缘物联代理发送IP信道建立请求；步骤3.3：边缘物联代理收到IP信道建立请求，建立IP信道，并回复信道建立成功报文，STA在建立的IP信道上，向边缘物联代理传输信息；步骤3.4：信息传输完成后，STA向边缘物联代理发送信道关闭请求，边缘物联代理关闭IP通道，并回复信道关闭报文。
说明书desc
技术领域本发明涉及电力线组网通信技术领域，具体涉及一种基于载波IP化的电力线载波组网传输方法。背景技术传统的电力线载波主要基于OFDM技术，以电力线作为通信媒介，实现用户用电信息的汇聚、传输、交互等功能。随着电力物联网建设的深入，对电力线载波通信网络提出了更高的要求，既需要具备支撑电网运营的特点，又需要具备信息业务的高速化、数字化、综合化等需求。同时，当前的电力线载波通信网络中，设备通信协议不一致，设备互联困难。发明内容发明目的：针对电力线载波通信中存在的协议差异、设备未有效互联等问题，本发明提供一种基于载波IP化的电力线载波组网传输方法，在端口虚拟化技术和DHCP技术的基础上，获取HPLC传输网络拓扑信息，根据虚拟端口技术和DHCP服务组建IP化通信网络，建立IP通道并完成信息传输，能够有效提高电力线载波通信信息传输效率。技术方案：本发明提供了一种基于载波IP化的电力线载波组网传输方法，包括如下步骤：S1：获取HPLC传输网络拓扑信息；S2.：根据虚拟端口技术和DHCP服务组建IP化通信网络；S3：建立IP通道并完成信息传输。进一步地，所述步骤S1中，所述HPLC传输网络中有1个边缘物联代理，其IP地址为Ae，子网掩码为Me，所述边缘物联代理支持DHCP服务，根据MAC地址为网络中的其他终端设备分配IP地址；HPLC传输网络中有Nc个中央协调器CCO和Ns个台站STA，每个CCO都分配有唯一的MAC地址，第i个CCO上连接的第j个STA记为STAi，j；边缘物联代理与CCO之间通过以太网传输，CCO与STA之间通过电力线传输。进一步地，所述步骤S2中，具体操作为：步骤2.1：对于第i个CCO，将连接在CCO上的第j个STA虚拟化为CCO上的端口号Pi，j；步骤2.2：对于边缘物联代理，向连接在其上的各个CCO广播组网请求，边缘物联代理上连接的第m个CCO将其MAC地址回复给边缘物联代理；步骤2.3：依托DHCP服务，边缘物联代理根据IP地址和各个CCO的MAC地址，为各个CCO分配IP地址，并向各CCO下发其IP地址；步骤2.4：边缘物联代理上连接的第m个CCO将其上连接的各STA的端口号信息发送给边缘物联代理，边缘物联代理构建并存储路由表，向各CCO发送组网完成报文，完成组网。进一步地，所述步骤S3中，具体操作为：步骤3.1：边缘物联代理收集各STA信息时，向网络中各STA广播信息采集报文；步骤3.2：各STA收到信息采集报文后，向边缘物联代理发送IP信道建立请求；步骤3.3：边缘物联代理收到IP信道建立请求，建立IP信道，并回复信道建立成功报文，STA在建立的IP信道上，向边缘物联代理传输信息；步骤3.4：信息传输完成后，STA向边缘物联代理发送信道关闭请求，边缘物联代理关闭IP通道，并回复信道关闭报文。有益效果：本发明在端口虚拟化技术和DHCP技术的基础上，获取HPLC传输网络拓扑信息，根据虚拟端口技术和DHCP服务组建IP化通信网络，建立IP通道并完成信息传输，能够有效提高电力线载波通信信息传输效率。附图说明图1为本发明方法整体流程图；图2为本发明方法典型应用场景图；图3为本发明实施例组网过程示意图；图4为本发明实施例信息采集过程示意图。具体实施方式下面结合附图对本发明作进一步描述。以下实施例仅用于更加清楚地说明本发明的技术方案，而不能以此来限制本发明的保护范围。如图1所示为本发明的方法流程图，以下结合具体实施例对本发明的方法进行进一步说明。具体实施例应用场景为一个典型应用场景如图2所示，HPLC传输网络中包含一个边缘物联代理，3个中央协调器和8个站点，边缘物联代理和CCO之间通过以太网通信，各CCO与STA之间采用电力线进行信息传输。本发明公开的一种基于载波IP化的电力线载波组网传输方法，包括以下步骤：S1.获取HPLC传输网络拓扑信息HPLC传输网络中有1个边缘物联代理，边缘物联代理IP地址为Ae，子网掩码为Me，边缘物联代理支持DHCP服务，可根据MAC地址为网络中的其他终端设备分配IP地址；HPLC传输网络中有Nc个中央协调器CCO和Ns个台站STA，每个CCO都分配有唯一的MAC地址，第i个CCO上连接的第j个STA记为STAi，j；边缘物联代理与CCO之间通过以太网传输，CCO与STA之间通过电力线传输。实例中，HPLC传输网络中有1个边缘物联代理，边缘物联代理IP地址为Ae＝172.16.12.1，子网掩码为Me＝255.255.0.0，边缘物联代理支持DHCP服务，可根据MAC地址为网络中的其他终端设备分配IP地址；HPLC传输网络中有Nc＝3个中央协调器CCO和Ns＝8个台站STA，每个CCO都分配有唯一的MAC地址，第i个CCO上连接的第j个STA记为STAi，j；边缘物联代理与CCO之间通过以太网传输，CCO与STA之间通过电力线传输。HPLC传输网络拓扑图如图2所示，各CCO的MAC地址如表l所示。表1 HPLC传输网络CCO的MAC地址信息CCOMAC地址CCO108-6A-C5-8A-02-33CCO208-6A-C5-8A-02-34CCO308-6A-C5-8A-02-35S2.根据虚拟端口技术和DHCP服务组建IP化通信网络对于第i个CCO，将连接在CCO上的第j个STA虚拟化为CCO上的端口号Pi，j；对于边缘物联代理，向连接在其上的各个CCO广播组网请求，边缘物联代理上连接的第m个CCO将其MAC地址回复给边缘物联代理；依托DHCP服务，边缘物联代理根据IP地址和各个CCO的MAC地址，为各个CCO分配IP地址，并向各CCO下发其IP地址；边缘物联代理上连接的第m个CCO将其上连接的各STA的端口号信息发送给边缘物联代理，边缘物联代理构建并存储路由表，向各CCO发送组网完成报文，完成组网。在实例中，对于第i个CCO，将连接在CCO上的第j个STA虚拟化为CCO上的端口号Pi，j；对于边缘物联代理，向连接在其上的各个CCO广播组网请求，边缘物联代理上连接的第m个CCO将其MAC地址回复给边缘物联代理；依托DHCP服务，边缘物联代理根据IP地址和各个CCO的MAC地址，为各个CCO分配IP地址，并向各CCO下发其IP地址；边缘物联代理上连接的第m个CCO将其上连接的各STA的端口号信息发送给边缘物联代理，边缘物联代理构建并存储路由表，向各CCO发送组网完成报文，完成组网。HPLC传输网络组网过程示意图如图3所示，各CCO的IP地址及STA所属端口号如表2所示。表2 CCO的IP地址及STA所属端口号S3.建立IP通道并完成信息传输边缘物联代理需要收集各STA信息时，向网络中各STA广播信息采集报文；各STA收到信息采集报文后，向边缘物联代理发送IP信道建立请求；边缘物联代理收到IP信道建立请求，建立IP信道，并回复信道建立成功报文，STA在建立的IP信道上，向边缘物联代理传输信息；信息传输完成后，STA向边缘物联代理发送信道关闭请求，边缘物联代理关闭IP通道，并回复信道关闭报文。在实例中，边缘物联代理需要收集各STA信息时，向网络中各STA广播信息采集报文；各STA收到信息采集报文后，向边缘物联代理发送IP信道建立请求；边缘物联代理收到IP信道建立请求，建立IP信道，并回复信道建立成功报文，STA在建立的IP信道上，向边缘物联代理传输信息；信息传输完成后，STA向边缘物联代理发送信道关闭请求，边缘物联代理关闭IP通道，并回复信道关闭报文，HPLC传输网络信息采集过程示意图如图4所示。上述实施方式只为说明本发明的技术构思及特点，其目的在于让熟悉此项技术的人能够了解本发明的内容并据以实施，并不能以此限制本发明的保护范围。凡根据本发明精神实质所做的等效变换或修饰，都应涵盖在本发明的保护范围之内。
