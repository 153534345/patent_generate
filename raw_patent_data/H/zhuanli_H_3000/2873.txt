标题title
一种直播数据处理方法、装置、设备及介质
摘要abst
本公开实施例涉及一种直播数据处理方法、装置、设备及介质，其中该方法包括：通过第一服务器发送在线直播间标识至标识缓存中；通过第二服务器从标识缓存中获取在线直播间标识，根据在线直播间标识从数据存储器中获取在线直播数据，并将在线直播数据写入数据缓存中；通过第一服务器从数据缓存中读取在线直播数据，并分发在线直播数据。采用上述技术方案，分别通过两个服务器进行在线直播数据的写入和读取，实现了读写分离，降低了数据延时，减少缓存因访问量增大造成的压力，避免造成缓存雪崩的问题，进而提升了直播数据处理的容量和稳定性。
权利要求书clms
1.一种直播数据处理方法，其特征在于，包括：通过第一服务器发送在线直播间标识至标识缓存中；通过第二服务器从所述标识缓存中获取所述在线直播间标识，根据所述在线直播间标识从数据存储器中获取在线直播数据，并将所述在线直播数据写入数据缓存中；通过所述第一服务器从所述数据缓存中读取所述在线直播数据，并分发所述在线直播数据。2.根据权利要求1所述的方法，其特征在于，所述方法还包括：通过所述第一服务器对所述标识缓存中的在线直播间标识执行更新操作，其中，所述更新操作包括插入操作和/或删除操作。3.根据权利要求1所述的方法，其特征在于，所述在线直播数据按照设定时间间隔进行读取。4.根据权利要求1所述的方法，其特征在于，所述标识缓存中包括至少两个缓存分片，所述方法还包括：将每个所述缓存分片中的所述在线直播间标识的数量与预设阈值进行对比，根据对比结果调整所述缓存分片的数量，其中，每个所述缓存分片中存储多个所述在线直播间标识中的一部分。5.根据权利要求4所述的方法，其特征在于，所述根据对比结果动态调整所述缓存分片的数量，包括：当所述对比结果为每个所述缓存分片中的所述在线直播间标识的数量大于所述预设阈值中的第一阈值，则增加所述缓存分片的数量；当所述对比结果为每个所述缓存分片中的所述在线直播间标识的数量小于所述预设阈值中的第二阈值，则减少所述缓存分片的数量。6.根据权利要求5所述的方法，其特征在于，所述第二服务器包括至少两个刷新执行模块，通过第二服务器从所述标识缓存中获取所述在线直播间标识，包括：通过所述第二服务器中的所述至少两个刷新执行模块，分别从所述标识缓存中与各所述刷新执行模块对应的缓存分片中获取所述在线直播间标识，每个所述刷新执行模块对应预设数量的所述缓存分片。7.根据权利要求6所述的方法，其特征在于，还包括：根据所述缓存分片的数量调整结果，调整所述刷新执行模块的数量，其中，所述刷新执行模块的数量与所述缓存分片的数量成正比。8.一种直播数据处理装置，其特征在于，包括：标识模块，用于通过第一服务器发送在线直播间标识至标识缓存中；数据写入模块，用于通过第二服务器从所述标识缓存中获取所述在线直播间标识，根据所述在线直播间标识从数据存储器中获取在线直播数据，并将所述在线直播数据写入数据缓存中；数据读取模块，用于通过所述第一服务器从所述数据缓存中读取所述在线直播数据，并分发所述在线直播数据。9.一种电子设备，其特征在于，所述电子设备包括：处理器；用于存储所述处理器可执行指令的存储器；所述处理器，用于从所述存储器中读取所述可执行指令，并执行所述指令以实现上述权利要求1-7中任一所述的直播数据处理方法。10.一种计算机可读存储介质，其特征在于，所述存储介质存储有计算机程序，所述计算机程序用于执行上述权利要求1-7中任一所述的直播数据处理方法。
说明书desc
技术领域本公开涉及数据处理技术领域，尤其涉及一种直播数据处理方法、装置、设备及介质。背景技术随着互联网技术的快速发展，观看直播成为人们生活中重要的一种娱乐方式。目前在直播行业中，分发在线直播间数据和获取在线直播间数据是一个核心功能，通常由多个基础服务器完成，该基础服务器与数据存储源之间可以设置缓存，但是当直播访问量增大时，不仅存在因数据延时较长造成的响应慢，而且多个基础服务器同时更新缓存，可能会导致缓存持续更新，造成缓存雪崩等严重问题。发明内容为了解决上述技术问题或者至少部分地解决上述技术问题，本公开提供了一种直播数据处理方法、装置、设备及介质。本公开实施例提供了一种直播数据处理方法，所述方法包括：通过第一服务器发送在线直播间标识至标识缓存中；通过第二服务器从所述标识缓存中获取所述在线直播间标识，根据所述在线直播间标识从数据存储器中获取在线直播数据，并将所述在线直播数据写入数据缓存中；通过所述第一服务器从所述数据缓存中读取所述在线直播数据，并分发所述在线直播数据。本公开实施例还提供了一种直播数据处理装置，所述装置包括：标识模块，用于通过第一服务器发送在线直播间标识至标识缓存中；数据写入模块，用于通过第二服务器从所述标识缓存中获取所述在线直播间标识，根据所述在线直播间标识从数据存储器中获取在线直播数据，并将所述在线直播数据写入数据缓存中；数据读取模块，用于通过所述第一服务器从所述数据缓存中读取所述在线直播数据，并分发所述在线直播数据。本公开实施例还提供了一种电子设备，所述电子设备包括：处理器；用于存储所述处理器可执行指令的存储器；所述处理器，用于从所述存储器中读取所述可执行指令，并执行所述指令以实现如本公开实施例提供的直播数据处理方法。本公开实施例还提供了一种计算机可读存储介质，所述存储介质存储有计算机程序，所述计算机程序用于执行如本公开实施例提供的直播数据处理方法。本公开实施例提供的技术方案与现有技术相比具有如下优点：本公开实施例提供的直播数据处理方案，通过第一服务器发送在线直播间标识至标识缓存中；通过第二服务器从标识缓存中获取在线直播间标识，根据在线直播间标识从数据存储器中获取在线直播数据，并将在线直播数据写入数据缓存中；通过第一服务器从数据缓存中读取在线直播数据，并分发在线直播数据。采用上述技术方案，分别通过两个服务器进行在线直播数据的写入和读取，实现了读写分离，降低了数据延时，减少缓存因访问量增大造成的压力，避免造成缓存雪崩的问题，进而提升了直播数据处理的容量和稳定性。附图说明结合附图并参考以下具体实施方式，本公开各实施例的上述和其他特征、优点及方面将变得更加明显。贯穿附图中，相同或相似的附图标记表示相同或相似的元素。应当理解附图是示意性的，原件和元素不一定按照比例绘制。图1为现有技术中直播数据处理的示意图；图2为本公开实施例提供的一种直播数据处理方法的流程示意图；图3为本公开实施例提供的另一种直播数据处理方法的流程示意图；图4为本公开实施例提供的一种直播数据处理的示意图；图5为本公开实施例提供的一种直播数据处理装置的结构示意图；图6为本公开实施例提供的一种电子设备的结构示意图。具体实施方式下面将参照附图更详细地描述本公开的实施例。虽然附图中显示了本公开的某些实施例，然而应当理解的是，本公开可以通过各种形式来实现，而且不应该被解释为限于这里阐述的实施例，相反提供这些实施例是为了更加透彻和完整地理解本公开。应当理解的是，本公开的附图及实施例仅用于示例性作用，并非用于限制本公开的保护范围。应当理解，本公开的方法实施方式中记载的各个步骤可以按照不同的顺序执行，和/或并行执行。此外，方法实施方式可以包括附加的步骤和/或省略执行示出的步骤。本公开的范围在此方面不受限制。本文使用的术语“包括”及其变形是开放性包括，即“包括但不限于”。术语“基于”是“至少部分地基于”。术语“一个实施例”表示“至少一个实施例”；术语“另一实施例”表示“至少一个另外的实施例”；术语“一些实施例”表示“至少一些实施例”。其他术语的相关定义将在下文描述中给出。需要注意，本公开中提及的“第一”、“第二”等概念仅用于对不同的装置、模块或单元进行区分，并非用于限定这些装置、模块或单元所执行的功能的顺序或者相互依存关系。需要注意，本公开中提及的“一个”、“多个”的修饰是示意性而非限制性的，本领域技术人员应当理解，除非在上下文另有明确指出，否则应该理解为“一个或多个”。本公开实施方式中的多个装置之间所交互的消息或者信息的名称仅用于说明性的目的，而并不是用于对这些消息或信息的范围进行限制。目前在直播行业中，分发在线直播间数据和获取在线直播间数据是一个核心功能，通常由多个基础服务器完成，直接影响了直播推荐、直播连麦、进房、送礼等直播相关的功能。服务器作为直播的基础服务组件，在高峰时期每秒请求次数达到百万数量级，压力巨大。图1为现有技术中直播数据处理的示意图，如图1所示，在线直播间依赖三级存储，即直播服务器自身的本地缓存、统一的缓存以及数据存储器，数据存储器即为数据存储源，直播服务器与数据存储源之间可以设置缓存。每个直播服务器的本地缓存会定期过期，过期后可以从缓存中获取数据。当然缓存自身也会设置过期时间，当直播服务器发现缓存中的数据也过期时，会从数据存储器获取此时所有的在线直播间数据，并将其写入缓存中。这种方案的问题在于，由于在线直播房间对应的直播服务器有着巨大的访问量，因此该直播服务器需要很多实例来提供服务，当实例数量上涨时，对下游的缓存造成巨大压力。当访问量较多时，数据存储器自身的响应时间也会变慢，刷新时间很长。另外由于实例众多可能存在多个实例同时回源，当请求较多时，各个实例会争夺更新，使得实例读取失败，进而引发缓存雪崩等严重问题。为了解决上述问题，本公开实施例提供了一种直播数据处理方法，下面结合具体的实施例对该方法进行介绍。图2为本公开实施例提供的一种直播数据处理方法的流程示意图，该方法可以由直播数据处理装置执行，其中该装置可以采用软件和/或硬件实现，一般可集成在电子设备中。如图2所示，该方法包括：步骤101、通过第一服务器发送在线直播间标识至标识缓存中。其中，第一服务器可以为用于获取直播数据以及发送在线直播间标识的服务器，第一服务器的数量可以为多个，具体不限。在线直播间标识用于表征已经开启的正在进行直播的直播间，该标识可以采用数字和/或字母形式进行表示，具体不限。标识缓存是指用于存储在线直播间标识的外部缓存。本公开实施例中，第一服务器可以检测直播间的开启和关闭，并发送当前开启的在线直播间标识至标识缓存中进行存储。可选的，直播数据处理方法还可以包括：通过第一服务器对标识缓存中的在线直播间标识执行更新操作，其中，更新操作包括插入操作和/或删除操作。进一步的，第一服务器可以随着直播间的开启和关闭，可以更新标识缓存中的存储的在线直播间标识，将最新开启的直播间的在线直播间标识插入进去并且删除已经关闭的直播间的在线直播间标识。步骤102、通过第二服务器从标识缓存中获取在线直播间标识，根据在线直播间标识从数据存储器中获取在线直播数据，并将在线直播数据写入数据缓存中。其中，第二服务器可以为本公开实施例中新增的用于更新直播数据的服务器，数据缓存可以为用于存储直播数据的外部缓存，与上述标识缓存不同。上述标识缓存和数据缓存具体可以采用Redis数据库或其他中心缓存的内存性数据库Memcached等实现，仅为示例，其他数据库也可适用。本公开实施例中，第二服务器可以按照固定时间间隔从标识缓存中获取当前全部的在线直播间标识，并访问数据存储器，根据在线直播间标识获取并打包对应的在线直播数据，之后将打包之后的在线直播数据写入数据缓存中，以备后用。上述固定时间间隔可以根据实际情况设置，例如固定时间间隔可以为1.5秒。步骤103、通过第一服务器从数据缓存中读取在线直播数据，并分发在线直播数据。具体的，第一服务器可以从数据缓存中读取在线直播数据，并将在线直播数据分发至各客户端，使用户可以观看直播。在线直播数据可以按照设定时间间隔进行读取，也即第一服务器可以定时获取在线直播数据，设定时间间隔不限，例如设定时间间隔可以为1秒。本公开实施例提供的直播数据处理方案，通过第一服务器发送在线直播间标识至标识缓存中；通过第二服务器从标识缓存中获取在线直播间标识，根据在线直播间标识从数据存储器中获取在线直播数据，并将在线直播数据写入数据缓存中；通过第一服务器从数据缓存中读取在线直播数据，并分发在线直播数据。采用上述技术方案，分别通过两个服务器进行在线直播数据的写入和读取，实现了读写分离，降低了数据延时，减少缓存因访问量增大造成的压力，避免造成缓存雪崩的问题，进而提升了直播数据处理的容量和稳定性。在一些实施例中，标识缓存中包括至少两个缓存分片，直播数据处理方法还可以包括：将每个缓存分片中的在线直播间标识的数量与预设阈值进行对比，根据对比结果调整缓存分片的数量，其中，每个缓存分片中存储多个在线直播间标识中的一部分。其中，缓存分片可以用于存储部分在线直播间标识，多个缓存分片组成了标识缓存，缓存分片的数量不限，可以根据实际情况设置。每个缓存分片中存储的在线直播间标识的数量可以相同，并且可以根据在线直播间标识实时总数量变化，例如当在线直播间标识的总数量为1000个，设置了10个缓存分片时，每个缓存分片可以均匀存储100个在线直播间标识。具体的，第一服务器将在线直播间标识发送至标识缓存，存储在各缓存分片之后，可以将每个缓存分片中的在线直播间标识的数量与预设阈值进行对比，根据对比结果增加或减少缓存分片的数量，以适应直播间的访问量。可选的，根据对比结果动态调整缓存分片的数量，包括：当对比结果为每个缓存分片中的在线直播间标识的数量大于预设阈值中的第一阈值，则增加缓存分片的数量；当对比结果为每个缓存分片中的在线直播间标识的数量小于预设阈值中的第二阈值，则减少缓存分片的数量。预设阈值可以包括缓存分片中最多存储和最少存储的在线直播间标识的数量，第一阈值为最多存储的数量，第二阈值为最少存储的数量，第一阈值大于第二阈值。当每个缓存分片中在线直播间标识的数量超过第一阈值可能会拖慢访问速度；当不满足第二阈值，可能会过于冗余，对于下游第二服务器来说增加刷新的分片数量，降低效率。本公开实施例中，当对比结果为每个缓存分片中的在线直播间标识的数量大于预设阈值中的第一阈值，则增加缓存分片的数量，以使每个缓存分片中存储的在线直播间标识的数量降低，提升处理速度。而当对比结果为每个缓存分片中的在线直播间标识的数量小于预设阈值中的第二阈值，则减少缓存分片的数量，以使每个缓存分片中存储的在线直播间标识的数量增大，减少刷新的分片数量，提升效率。可以理解的是，上述缓存分片的数量增加或减少的具体值可以根据实际情况设置，使每个缓存分片中的在线直播间标识的数量在上述第二阈值和第一阈值之间即可。上述方案中，针对标识缓存可以引入动态扩容或缩容的分片方案，根据在线直播间标识的数量变化可以动态调整缓存分片的数量，也即根据当前在线直播间的数量可以对标识缓存进行动态扩容或缩容，以保证访问效率以及标识缓存的稳定性。在一些实施例中，第二服务器包括至少两个刷新执行模块，通过第二服务器从标识缓存中获取在线直播间标识，可以包括：通过第二服务器中的至少两个刷新执行模块，分别从标识缓存中与各刷新执行模块对应的缓存分片中获取在线直播间标识，每个刷新执行模块对应预设数量的缓存分片。其中，刷新执行模块是第二服务器中用于进行数据更新的具体功能模块，第二服务器可以由刷新调度模块和多个刷新执行模块构成。每个刷新执行模块可以对应预设数量的缓存分片，预设数量可以根据实际情况设置，例如一个刷新执行模块对应10个缓存分片。第二服务器中的刷新调度模块可以定时调度各个刷新执行模块，分别从标识缓存中与各缓存执行模块对应的缓存分片中获取其中的在线直播间标识。在一些实施例中，直播数据处理方法还可以包括：根据缓存分片的数量调整结果，调整刷新执行模块的数量，其中，刷新执行模块的数量与缓存分片的数量成正比。由于缓存分片的数量可以动态增加或减少，随着缓存分片的数量的调整，刷新执行模块的数量也会随之调整，以实现应对，也即刷新执行模块的数量与缓存分片的数量成正比。这样设置的好处在于，通过对刷新执行模块的分布式设置和动态调整，可以解决随着缓存分片的数量变化导致的刷新时长延长的问题，可以将直播间数据的刷新时长保持在一定范围内。图3为本公开实施例提供的另一种直播数据处理方法的流程示意图，本实施例在上述实施例的基础上，进一步优化了上述直播数据处理方法。如图3所示，该方法包括：步骤201、通过第一服务器发送在线直播间标识至标识缓存中。可选的，直播数据处理方法还可以包括：通过第一服务器对标识缓存中的在线直播间标识执行更新操作，其中，更新操作包括插入操作和/或删除。步骤201之后，可以执行步骤202-步骤205，或者直接执行步骤204-步骤205，也即步骤202-步骤203为可选的步骤。步骤202、将标识缓存中每个缓存分片中的在线直播间标识的数量与预设阈值进行对比，根据对比结果调整缓存分片的数量。其中，标识缓存中包括至少两个缓存分片，每个缓存分片中存储多个在线直播间标识中的一部分。可选的，根据对比结果动态调整缓存分片的数量，包括：当对比结果为每个缓存分片中的在线直播间标识的数量大于预设阈值中的第一阈值，则增加缓存分片的数量；当对比结果为每个缓存分片中的在线直播间标识的数量小于预设阈值中的第二阈值，则减少缓存分片的数量。步骤203、根据缓存分片的数量调整结果，调整刷新执行模块的数量。第二服务器包括至少两个刷新执行模块，刷新执行模块的数量与缓存分片的数量成正比。步骤204、通过第二服务器从标识缓存中获取在线直播间标识，根据在线直播间标识从数据存储器中获取在线直播数据，并将在线直播数据写入数据缓存中。可选的，当第二服务器包括至少两个刷新执行模块，通过第二服务器从标识缓存中获取在线直播间标识，可以包括：通过第二服务器中的至少两个刷新执行模块，分别从标识缓存中与各刷新执行模块对应的缓存分片中获取在线直播间标识，每个刷新执行模块对应预设数量的缓存分片。步骤205、通过第一服务器从数据缓存中读取在线直播数据，并分发在线直播数据。接下来通过一个具体的示例对本公开实施例中的直播数据处理方法进行进一步说明。示例性的，图4为本公开实施例提供的一种直播数据处理的示意图，如图4所示，相较于图2，第一服务器11相当于图2中的直播服务器，图4中新增了第二服务器12，用于更新直播数据。并且图4区别于图2，缓存由标识缓存13和数据缓存14两个组成。参见图4，第二服务器12可以由刷新调度模块21和多个刷新执行模块22构成，标识缓存13也可以由多个缓存分片组成。，根据在线直播间标识的数量变化可以动态调整缓存分片的数量，进而刷新执行模块22的数量也会随之调整，以实现应对，保证刷新时间的稳定。当直播间开关播时，第一服务器11可以对标识缓存13中的在线直播间标识进行插入或删除，在线直播间标识被维护在标识缓存13中。第二服务器12定期从标识缓存13获取当前全部的在线直播间标识，并访问数据存储器15打包全部在线直播间的数据，打包完毕后写入数据缓存14。第一服务器11定期从数据缓存14全量获取在线直播间数据并对外提供服务。第一服务器11和第二服务器12在执行具体功能时相互独立，实现读写逻辑分离，提高了整体系统的容量和稳定性。随着在线直播间越来越多，将所有在线直播间标识放在一个数据结构内无法满足要求，会拖慢访问速率，导致失败率上涨，也会影响整个缓存集群的稳定性。因此本方案中针对标识缓存引入动态扩容或缩容的分片方案，根据直播业务当前的发展规模定制分片数量或桶数量。在线直播间开播时，第一服务器11将在线直播间标识存储至指定范围的缓存分片中，当房间开关播时，第一服务器11对各缓存分片中的在线直播间标识进行加入或移除。此外本方案中还可以在维护一份全量在线直播间标识，作为备份数据存在，不会被第二服务器12访问到。当目前在线直播间数量大大增加，每一个缓存分片内维护的在线直播间标识的数量超过阈值时，可以通过增加缓存分片的数量，由额外的功能模块通过全量在线直播间标识快速重建缓存分片。当在线直播间数量回落时也可以缩小缓存分片的数量，通过同样方法重构缓存分片，以减少第二服务器12刷新的缓存分片的总量，提高效率。第二服务器12中的刷新调度模块21可以定时调度各个刷新执行模块22，分别从标识缓存13中与各缓存执行模块22对应的缓存分片中获取其中的在线直播间标识，并且同步更新全量在线直播间标识。刷新执行模块22的数量可以动态的增加或减少，刷新调度模块21可以通过服务发现来实现对刷新执行模块22增减的感知。通过刷新执行模块22的分布式的实现，可以应对随着缓存分片数量变化导致刷新市场同步延长的问题，只需要增加或减少刷新执行模块22的数量就可以应对，并可以将在线直播间刷新的时长保持在一定范围内。本方案中将在线直播间数据的维护和更新交给新增的一个服务器，可以定期更新数据，而对外提供的众多服务器只负责提供服务和定期从缓存中读取数据。这样的设计使得读写逻辑分离，使得对缓存的更新压力不会随访问量和服务器数量的增大而增大，从而提高了整体系统的容量和稳定性，避免出现缓存雪崩。本方案通过读写分离的更新方案，减少缓存的更新和获取压力，减少因为缓存负载过高带来的系统性风险；通过对标识缓存进行动态扩容或缩容的分片方案，以及分布式的刷新数据方案，使得整体架构具备动态可伸缩性，可以应对业务的较快增长，并且避免刷新时间随在线直播间数量线性增长的问题，减少刷新延时，将海量直播数据的更新延时压缩至秒级别。本公开实施例提供的直播数据处理方案，通过第一服务器发送在线直播间标识至标识缓存中；将标识缓存中每个缓存分片中的在线直播间标识的数量与预设阈值进行对比，根据对比结果调整缓存分片的数量，根据缓存分片的数量调整结果，调整刷新执行模块的数量；通过第二服务器从标识缓存中获取在线直播间标识，根据在线直播间标识从数据存储器中获取在线直播数据，并将在线直播数据写入数据缓存中；通过第一服务器从数据缓存中读取在线直播数据，并分发在线直播数据。采用上述技术方案，分别通过两个服务器进行在线直播数据的写入和读取，实现了读写分离，降低了数据延时，减少缓存因访问量增大造成的压力，避免造成缓存雪崩的问题，进而提升了直播数据处理的容量和稳定性；并且根据当前在线直播间的数量可以对标识缓存以及服务器中刷新执行模块进行动态扩容或缩容，以增强了可扩展性，保证访问效率以及标识缓存的稳定性。图5为本公开实施例提供的一种直播数据处理装置的结构示意图，该装置可由软件和/或硬件实现，一般可集成在电子设备中。如图5所示，该装置包括：标识模块301，用于通过第一服务器发送在线直播间标识至标识缓存中；数据写入模块302，用于通过第二服务器从所述标识缓存中获取所述在线直播间标识，根据所述在线直播间标识从数据存储器中获取在线直播数据，并将所述在线直播数据写入数据缓存中；数据读取模块303，用于通过所述第一服务器从所述数据缓存中读取所述在线直播数据，并分发所述在线直播数据。可选的，所述装置还包括标识更新模块，用于：通过所述第一服务器对所述标识缓存中的在线直播间标识执行更新操作，其中，所述更新操作包括插入操作和/或删除操作。可选的，所述在线直播数据按照设定时间间隔进行读取。可选的，所述标识缓存中包括至少两个缓存分片，所述装置还包括第一调整模块，用于：将每个所述缓存分片中的所述在线直播间标识的数量与预设阈值进行对比，根据对比结果调整所述缓存分片的数量，其中，每个所述缓存分片中存储多个所述在线直播间标识中的一部分。可选的，所述第一调整模块具体用于：当所述对比结果为每个所述缓存分片中的所述在线直播间标识的数量大于所述预设阈值中的第一阈值，则增加所述缓存分片的数量；当所述对比结果为每个所述缓存分片中的所述在线直播间标识的数量小于所述预设阈值中的第二阈值，则减少所述缓存分片的数量。可选的，所述第二服务器包括至少两个刷新执行模块，所述数据写入模块302具体用于：通过所述第二服务器中的所述至少两个刷新执行模块，分别从所述标识缓存中与各所述刷新执行模块对应的缓存分片中获取所述在线直播间标识，每个所述刷新执行模块对应预设数量的所述缓存分片。可选的，所述装置还包括第二调整模块，用于：根据所述缓存分片的数量调整结果，调整所述刷新执行模块的数量，其中，所述刷新执行模块的数量与所述缓存分片的数量成正比。本公开实施例所提供的直播数据处理装置可执行本公开任意实施例所提供的直播数据处理方法，具备执行方法相应的功能模块和有益效果。本公开实施例还提供了一种计算机程序产品，包括计算机程序/指令，该计算机程序/指令被处理器执行时实现本公开任意实施例所提供的直播数据处理方法。图6为本公开实施例提供的一种电子设备的结构示意图。下面具体参考图6，其示出了适于用来实现本公开实施例中的电子设备400的结构示意图。本公开实施例中的电子设备400可以包括但不限于诸如移动电话、笔记本电脑、数字广播接收器、PDA、PAD、PMP、车载终端等等的移动终端以及诸如数字TV、台式计算机等等的固定终端。图6示出的电子设备仅仅是一个示例，不应对本公开实施例的功能和使用范围带来任何限制。如图6所示，电子设备400可以包括处理装置401，其可以根据存储在只读存储器402中的程序或者从存储装置408加载到随机访问存储器403中的程序而执行各种适当的动作和处理。在RAM 403中，还存储有电子设备400操作所需的各种程序和数据。处理装置401、ROM 402以及RAM403通过总线404彼此相连。输入/输出接口405也连接至总线404。通常，以下装置可以连接至I/O接口405：包括例如触摸屏、触摸板、键盘、鼠标、摄像头、麦克风、加速度计、陀螺仪等的输入装置406；包括例如液晶显示器、扬声器、振动器等的输出装置407；包括例如磁带、硬盘等的存储装置408；以及通信装置409。通信装置409可以允许电子设备400与其他设备进行无线或有线通信以交换数据。虽然图6示出了具有各种装置的电子设备400，但是应理解的是，并不要求实施或具备所有示出的装置。可以替代地实施或具备更多或更少的装置。特别地，根据本公开的实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本公开的实施例包括一种计算机程序产品，其包括承载在非暂态计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的实施例中，该计算机程序可以通过通信装置409从网络上被下载和安装，或者从存储装置408被安装，或者从ROM 402被安装。在该计算机程序被处理装置401执行时，执行本公开实施例的直播数据处理方法中限定的上述功能。需要说明的是，本公开上述的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是——但不限于——电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本公开中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。而在本公开中，计算机可读信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读信号介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括但不限于：电线、光缆、RF等等，或者上述的任意合适的组合。在一些实施方式中，客户端、服务器可以利用诸如HTTP之类的任何当前已知或未来研发的网络协议进行通信，并且可以与任意形式或介质的数字数据通信互连。通信网络的示例包括局域网，广域网，网际网以及端对端网络，以及任何当前已知或未来研发的网络。上述计算机可读介质可以是上述电子设备中所包含的；也可以是单独存在，而未装配入该电子设备中。上述计算机可读介质承载有一个或者多个程序，当上述一个或者多个程序被该电子设备执行时，使得该电子设备：通过第一服务器发送在线直播间标识至标识缓存中；通过第二服务器从所述标识缓存中获取所述在线直播间标识，根据所述在线直播间标识从数据存储器中获取在线直播数据，并将所述在线直播数据写入数据缓存中；通过所述第一服务器从所述数据缓存中读取所述在线直播数据，并分发所述在线直播数据。可以以一种或多种程序设计语言或其组合来编写用于执行本公开的操作的计算机程序代码，上述程序设计语言包括但不限于面向对象的程序设计语言—诸如Java、Smalltalk、C++，还包括常规的过程式程序设计语言—诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络——包括局域网或广域网—连接到用户计算机，或者，可以连接到外部计算机。附图中的流程图和框图，图示了按照本公开各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，该模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本公开实施例中所涉及到的单元可以通过软件的方式实现，也可以通过硬件的方式来实现。其中，单元的名称在某种情况下并不构成对该单元本身的限定。本文中以上描述的功能可以至少部分地由一个或多个硬件逻辑部件来执行。例如，非限制性地，可以使用的示范类型的硬件逻辑部件包括：现场可编程门阵列、专用集成电路、专用标准产品、片上系统、复杂可编程逻辑设备等等。在本公开的上下文中，机器可读介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的程序。机器可读介质可以是机器可读信号介质或机器可读储存介质。机器可读介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。根据本公开的一个或多个实施例，本公开提供了一种直播数据处理方法，包括：通过第一服务器发送在线直播间标识至标识缓存中；通过第二服务器从所述标识缓存中获取所述在线直播间标识，根据所述在线直播间标识从数据存储器中获取在线直播数据，并将所述在线直播数据写入数据缓存中；通过所述第一服务器从所述数据缓存中读取所述在线直播数据，并分发所述在线直播数据。根据本公开的一个或多个实施例，本公开提供的直播数据处理方法中，所述方法还包括：通过所述第一服务器对所述标识缓存中的在线直播间标识执行更新操作，其中，所述更新操作包括插入操作和/或删除操作。根据本公开的一个或多个实施例，本公开提供的直播数据处理方法中，所述在线直播数据按照设定时间间隔进行读取。根据本公开的一个或多个实施例，本公开提供的直播数据处理方法中，所述标识缓存中包括至少两个缓存分片，所述方法还包括：将每个所述缓存分片中的所述在线直播间标识的数量与预设阈值进行对比，根据对比结果调整所述缓存分片的数量，其中，每个所述缓存分片中存储多个所述在线直播间标识中的一部分。根据本公开的一个或多个实施例，本公开提供的直播数据处理方法中，所述根据对比结果动态调整所述缓存分片的数量，包括：当所述对比结果为每个所述缓存分片中的所述在线直播间标识的数量大于所述预设阈值中的第一阈值，则增加所述缓存分片的数量；当所述对比结果为每个所述缓存分片中的所述在线直播间标识的数量小于所述预设阈值中的第二阈值，则减少所述缓存分片的数量。根据本公开的一个或多个实施例，本公开提供的直播数据处理方法中，所述第二服务器包括至少两个刷新执行模块，通过第二服务器从所述标识缓存中获取所述在线直播间标识，包括：通过所述第二服务器中的所述至少两个刷新执行模块，分别从所述标识缓存中与各所述刷新执行模块对应的缓存分片中获取所述在线直播间标识，每个所述刷新执行模块对应预设数量的所述缓存分片。根据本公开的一个或多个实施例，本公开提供的直播数据处理方法中，还包括：根据所述缓存分片的数量调整结果，调整所述刷新执行模块的数量，其中，所述刷新执行模块的数量与所述缓存分片的数量成正比。根据本公开的一个或多个实施例，本公开提供了一种直播数据处理装置，包括：标识模块，用于通过第一服务器发送在线直播间标识至标识缓存中；数据写入模块，用于通过第二服务器从所述标识缓存中获取所述在线直播间标识，根据所述在线直播间标识从数据存储器中获取在线直播数据，并将所述在线直播数据写入数据缓存中；数据读取模块，用于通过所述第一服务器从所述数据缓存中读取所述在线直播数据，并分发所述在线直播数据。根据本公开的一个或多个实施例，本公开提供的直播数据处理装置中，所述装置还包括标识更新模块，用于：通过所述第一服务器对所述标识缓存中的在线直播间标识执行更新操作，其中，所述更新操作包括插入操作和/或删除操作。根据本公开的一个或多个实施例，本公开提供的直播数据处理装置中，所述在线直播数据按照设定时间间隔进行读取。根据本公开的一个或多个实施例，本公开提供的直播数据处理装置中，所述标识缓存中包括至少两个缓存分片，所述装置还包括第一调整模块，用于：将每个所述缓存分片中的所述在线直播间标识的数量与预设阈值进行对比，根据对比结果调整所述缓存分片的数量，其中，每个所述缓存分片中存储多个所述在线直播间标识中的一部分。根据本公开的一个或多个实施例，本公开提供的直播数据处理装置中，所述第一调整模块具体用于：当所述对比结果为每个所述缓存分片中的所述在线直播间标识的数量大于所述预设阈值中的第一阈值，则增加所述缓存分片的数量；当所述对比结果为每个所述缓存分片中的所述在线直播间标识的数量小于所述预设阈值中的第二阈值，则减少所述缓存分片的数量。根据本公开的一个或多个实施例，本公开提供的直播数据处理装置中，所述第二服务器包括至少两个刷新执行模块，所述数据写入模块具体用于：通过所述第二服务器中的所述至少两个刷新执行模块，分别从所述标识缓存中与各所述刷新执行模块对应的缓存分片中获取所述在线直播间标识，每个所述刷新执行模块对应预设数量的所述缓存分片。根据本公开的一个或多个实施例，本公开提供的直播数据处理装置中，所述装置还包括第二调整模块，用于：根据所述缓存分片的数量调整结果，调整所述刷新执行模块的数量，其中，所述刷新执行模块的数量与所述缓存分片的数量成正比。根据本公开的一个或多个实施例，本公开提供了一种电子设备，包括：处理器；用于存储所述处理器可执行指令的存储器；所述处理器，用于从所述存储器中读取所述可执行指令，并执行所述指令以实现如本公开提供的任一所述的直播数据处理方法。根据本公开的一个或多个实施例，本公开提供了一种计算机可读存储介质，所述存储介质存储有计算机程序，所述计算机程序用于执行如本公开提供的任一所述的直播数据处理方法。以上描述仅为本公开的较佳实施例以及对所运用技术原理的说明。本领域技术人员应当理解，本公开中所涉及的公开范围，并不限于上述技术特征的特定组合而成的技术方案，同时也应涵盖在不脱离上述公开构思的情况下，由上述技术特征或其等同特征进行任意组合而形成的其它技术方案。例如上述特征与本公开中公开的具有类似功能的技术特征进行互相替换而形成的技术方案。此外，虽然采用特定次序描绘了各操作，但是这不应当理解为要求这些操作以所示出的特定次序或以顺序次序执行来执行。在一定环境下，多任务和并行处理可能是有利的。同样地，虽然在上面论述中包含了若干具体实现细节，但是这些不应当被解释为对本公开的范围的限制。在单独的实施例的上下文中描述的某些特征还可以组合地实现在单个实施例中。相反地，在单个实施例的上下文中描述的各种特征也可以单独地或以任何合适的子组合的方式实现在多个实施例中。尽管已经采用特定于结构特征和/或方法逻辑动作的语言描述了本主题，但是应当理解所附权利要求书中所限定的主题未必局限于上面描述的特定特征或动作。相反，上面所描述的特定特征和动作仅仅是实现权利要求书的示例形式。
