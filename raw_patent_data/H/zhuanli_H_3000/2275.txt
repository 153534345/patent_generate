标题title
信号转换电路、发送方法、装置、电子设备和存储介质
摘要abst
本发明公开了一种信号转换电路、发送方法、装置、电子设备和存储介质，属于USB PD通信技术领域。所述信号转换电路包括：转换时序产生模块，转换时序产生模块用于将输入的通讯数据信号转换为多个延时控制信号；信号幅度校准模块；电压型数模转换模块，电压型数模转换模块的输入端与转换时序产生模块的输出端电连接，电压型数模转换模块与信号幅度校准模块电连接；平滑滤波模块，平滑滤波模块的输入端与电压型数模转换模块的输出端电连接；发送转换模块，发送转换模块的输入端与平滑滤波模块的输出端电连接。本发明的信号转换电路，使得BMC信号可以满足PD通信的眼图认证以及转换斜率的要求。
权利要求书clms
1.一种信号转换电路，其特征在于，包括：转换时序产生模块，所述转换时序产生模块用于将输入的通讯数据信号转换为多个延时控制信号；信号幅度校准模块；电压型数模转换模块，所述电压型数模转换模块的输入端与所述转换时序产生模块的输出端电连接，所述电压型数模转换模块与所述信号幅度校准模块电连接；所述电压型数模转换模块用于将所述多个延时控制信号转换为阶梯斜坡信号；平滑滤波模块，所述平滑滤波模块的输入端与所述电压型数模转换模块的输出端电连接；所述平滑滤波模块用于对所述阶梯斜坡信号进行平滑滤波处理，获取第一电压信号；发送转换模块，所述发送转换模块的输入端与所述平滑滤波模块的输出端电连接；所述发送转换模块用于将所述第一电压信号转换为BMC发送信号。2.根据权利要求1所述的信号转换电路，其特征在于，所述转换时序产生模块包括：多个触发单元，所述多个触发单元之间级联连接；所述多个触发单元中第一级触发单元用于接收所述通讯数据信号；逻辑组合单元，所述逻辑组合单元的输入端分别与每一个所述触发单元的输出端电连接，所述逻辑组合单元的输出端与所述电压型数模转换模块的输入端电连接。3.根据权利要求1所述的信号转换电路，其特征在于，所述电压型数模转换模块包括：串联电阻阵列，所述串联电阻阵列包括第一电阻阵列，且所述串联电阻阵列的输入端与电源连接，所述串联电阻阵列的输出端与所述信号幅度校准模块的输入端电连接；开关控制单元，所述开关控制单元包括第一开关阵列，所述第一开关阵列中第一目标开关的一端与电源连接，另一端与所述平滑滤波模块连接，所述第一开关阵列中第二目标开关的一端与所述串联电阻阵列的输出端连接，另一端与所述平滑滤波模块连接；所述第一开关阵列中第三目标开关的一端与所述平滑滤波模块连接，所述第三目标开关的另一端与所述第一电阻阵列中第一目标电阻连接，所述第一目标电阻为所述串联电阻阵列中的第n个电阻，所述第三目标开关为所述开关控制单元中的第个开关，其中，n为正整数；所述第一目标开关为所述第一开关阵列中的第一个开关，所述第二目标开关为所述第一开关阵列中的最后一个开关。4.根据权利要求1-3任一项所述的信号转换电路，其特征在于，所述平滑滤波模块包括：第四电阻；电容，所述电容与所述第四电阻并联连接。5.根据权利要求4所述的信号转换电路，其特征在于，所述发送转换模块包括：第二电阻单元；误差放大单元，所述误差放大单元的第一输入端与所述平滑滤波模块的输出端电连接，所述误差放大单元的第二输入端通过所述第二电阻单元与电源连接；调整管，所述调整管的第一接口与所述误差放大单元的输出端连接，所述调整管的第二接口与所述误差放大单元的第二输入端连接且经所述第二电阻单元与所述电源连接，所述调整管的第三接口用于输出所述第一电压信号，且所述第三接口连接Type-C接口的CC引脚；第三电阻单元；开关管，所述开关管的一端经所述第三电阻单元与所述Type-C接口的CC引脚连接，且所述开关管的另一端接地。6.根据权利要求1-3任一项所述的信号转换电路，其特征在于，所述信号幅度校准模块包括：恒流源单元，所述恒流源单元的一端与所述电压型数模转换模块电连接，所述恒流源单元的另一端接地；电流开关阵列，所述电流开关阵列中各电流开关单元包括串联连接的电流源和双向开关，且多个所述电流开关单元分别与所述恒流源单元并联连接。7.一种发送方法，其特征在于，包括：获取USB PD协议层发送的通讯数据信号；将所述通讯数据信号输入至如权利要求1-6任一项所述的信号转换电路，获取所述信号转换电路输出的BMC发送信号；发送所述BMC发送信号。8.一种发送装置，其特征在于，包括：第一处理模块，用于获取USB PD协议层发送的通讯数据信号；第二处理模块，用于将所述通讯数据信号输入至如权利要求1-6任一项所述的信号转换电路，获取所述信号转换电路输出的BMC发送信号；第三处理模块，用于发送所述BMC发送信号。9.一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求7所述的发送方法。10.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，该计算机程序被处理器执行时实现如权利要求7所述的发送方法。
说明书desc
技术领域本发明属于USB PD通信技术领域，尤其涉及一种信号转换电路、发送方法、装置、电子设备和存储介质。背景技术在生产Type-C接口过程中，需要对BMC信号的斜率进行调整，以满足PD通信的眼图认证。相关技术中存在调整电流值以调整BMC信号的斜率，常用的信号斜率调整方法不能精确控制每个信号沿各节点的斜率，在斜率较大的情况下，难以兼顾眼图认证的上升和下降的时间要求，进而不能通过PD通信的眼图认证。发明内容本发明旨在至少解决现有技术中存在的技术问题之一。为此，本发明提出一种信号转换电路、发送方法、装置、电子设备和存储介质，使得BMC信号可以满足PD通信的眼图认证以及转换斜率的要求；且该信号转换电路设计技术门槛低，调试灵活简单，易于在硅片上集成，无需任何片外元器件，提高了市场应用价值。第一方面，本发明提供了一种信号转换电路，包括：转换时序产生模块，所述转换时序产生模块用于将输入的通讯数据信号转换为多个延时控制信号；信号幅度校准模块；电压型数模转换模块，所述电压型数模转换模块的输入端与所述转换时序产生模块的输出端电连接，所述电压型数模转换模块与所述信号幅度校准模块电连接；所述电压型数模转换模块用于将所述多个延时控制信号转换为阶梯斜坡信号；平滑滤波模块，所述平滑滤波模块的输入端与所述电压型数模转换模块的输出端电连接；所述平滑滤波模块用于对所述阶梯斜坡信号进行平滑滤波处理，获取第一电压信号；发送转换模块，所述发送转换模块的输入端与所述平滑滤波模块的输出端电连接；所述发送转换模块用于将所述第一电压信号转换为BMC发送信号。根据本发明实施例提供的信号转换电路，通过将通讯数据信号转换为多个延时控制信号，进而转换为阶梯斜坡信号，在应用中可以基于实际需求调整阶梯斜坡信号的步进电压以及斜率，还可以基于信号幅度校准模块调整BMC发送信号的电压幅度，使得BMC信号可以满足PD通信的眼图认证以及转换斜率的要求；且该信号转换电路设计技术门槛低，调试灵活简单，易于在硅片上集成，无需任何片外元器件，提高了市场应用价值。本发明一个实施例的信号转换电路，所述转换时序产生模块包括：多个触发单元，所述多个触发单元之间级联连接；所述多个触发单元中第一级触发单元用于接收所述通讯数据信号；逻辑组合单元，所述逻辑组合单元的输入端分别与每一个所述触发单元的输出端电连接，所述逻辑组合单元的输出端与所述电压型数模转换模块的输入端电连接。本发明一个实施例的信号转换电路，所述电压型数模转换模块包括：串联电阻阵列，所述串联电阻阵列包括第一电阻阵列，且所述串联电阻阵列的输入端与电源连接，所述串联电阻阵列的输出端与所述信号幅度校准模块的输入端电连接；开关控制单元，所述开关控制单元包括第一开关阵列，所述第一开关阵列中第一目标开关的一端与电源连接，另一端与所述平滑滤波模块连接，所述第一开关阵列中第二目标开关的一端与所述串联电阻阵列的输出端连接，另一端与所述平滑滤波模块连接；所述第一开关阵列中第三目标开关的一端与所述平滑滤波模块连接，所述第三目标开关的另一端与所述串联电阻阵列中第一目标电阻连接，所述第一目标电阻为所述串联电阻阵列中的第n个电阻，所述第三目标开关为所述开关控制单元中的第个开关，其中，n为正整数；所述第一目标开关为所述第一开关阵列中的第一个开关，所述第二目标开关为所述第一开关阵列中的最后一个开关。本发明一个实施例的信号转换电路，所述平滑滤波模块包括：第四电阻；电容，所述电容与所述第四电阻并联连接。本发明一个实施例的信号转换电路，所述发送转换模块包括：第二电阻单元；误差放大单元，所述误差放大单元的第一输入端与所述平滑滤波模块的输出端电连接，所述误差放大单元的第二输入端通过所述第二电阻单元与电源连接；调整管，所述调整管的第一接口与所述误差放大单元的输出端连接，所述调整管的第二接口与所述误差放大单元的第二输入端连接且经所述第二电阻单元与所述电源连接，所述调整管的第三接口用于输出所述第一电压信号，且所述第三接口连接Type-C接口的CC引脚；第三电阻单元；开关管，所述开关管的一端经所述第三电阻单元与所述Type-C接口的CC引脚连接，且所述开关管的另一端接地。本发明一个实施例的信号转换电路，所述信号幅度校准模块包括：恒流源单元，所述恒流源单元的一端与所述电压型数模转换模块电连接，所述恒流源单元的另一端接地；电流开关阵列，所述电流开关阵列中的各电流开关单元包括串联连接的电流源和双向开关，且多个所述电流开关单元分别与所述恒流源单元并联连接。第二方面，本发明提供了一种发送方法，该方法包括：获取USB PD协议层发送的通讯数据信号；将所述通讯数据信号输入至如第一方面所述的信号转换电路，获取所述信号转换电路输出的BMC发送信号；发送所述BMC发送信号。根据本发明实施例提供的发送方法，通过将获取到的通讯数据信号输入至信号转换电路，可以将通讯数据信号处理为n个相同时间间隔的延时控制信号，进而对信号上升沿和下降沿若干个时刻点的电压值进行设定，从而对上升沿和下降沿的斜率进行分段控制，以使得最终输出的BMC发送信号可以满足PD通信的眼图认证和转换斜率的要求。第三方面，本发明提供了一种发送装置，该装置包括：第一处理模块，用于获取USB PD协议层发送的通讯数据信号；第二处理模块，用于将所述通讯数据信号输入至如第一方面所述的信号转换电路，获取所述信号转换电路输出的BMC发送信号；第三处理模块，用于发送所述BMC发送信号。根据本发明实施例提供的发送装置，通过将获取到的通讯数据信号输入至信号转换电路，可以将通讯数据信号处理为n个相同时间间隔的延时控制信号，进而对信号上升沿和下降沿若干个时刻点的电压值进行设定，从而对上升沿和下降沿的斜率进行分段控制，以使得最终输出的BMC发送信号可以满足PD通信的眼图认证和转换斜率的要求。第四方面，本发明提供了一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上述第二方面所述的发送方法。第五方面，本发明提供了一种非暂态计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现如上述第二方面所述的发送方法。第六方面，本发明提供了一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现如上述第二方面所述的发送方法。本发明实施例中的上述一个或多个技术方案，至少具有如下技术效果之一：通过将通讯数据信号转换为多个延时控制信号，进而转换为阶梯斜坡信号，在应用中可以基于实际需求调整阶梯斜坡信号的步进电压以及斜率，还可以基于信号幅度校准模块调整BMC发送信号的电压幅度，使得BMC信号可以满足PD通信的眼图认证以及转换斜率的要求；且该信号转换电路设计技术门槛低，调试灵活简单，易于在硅片上集成，无需任何片外元器件，提高了市场应用价值。进一步地，通过在转换时序产生模块中设置多个触发单元，能够将通讯数据信号转换为多个延时信号，并设置多个触发单元的输出与逻辑组合单元的输入电连接，可以基于逻辑组合单元将多个延时信号转换为多个延时控制信号，进而基于多个延时控制信号调整阶梯斜坡信号的斜率，以满足PD通信的眼图认证。更进一步地，通过在信号幅度校准模块设置多个与恒流源模块并联连接的电流开关单元，能够向电压型数模转换模块提供合适的电流偏置，能够选取不同的电流组合路径对偏置电流进行修调，进而调整BMC发送信号的幅度，以满足USB PD协议的规定。再进一步地，通过将获取到的通讯数据信号输入至信号转换电路，可以将通讯数据信号处理为n个相同时间间隔的延时控制信号，进而对信号上升沿和下降沿若干个时刻点的电压值进行设定，从而对上升沿和下降沿的斜率进行分段控制，以使得最终输出的BMC发送信号可以满足PD通信的眼图认证和转换斜率的要求。本发明的附加方面和优点将在下面的描述中部分给出，部分将从下面的描述中变得明显，或通过本发明的实践了解到。附图说明本发明的上述和/或附加的方面和优点从结合下面附图对实施例的描述中将变得明显和容易理解，其中：图1是本发明实施例提供的信号转换电路的结构示意图之一；图2是本发明实施例提供的信号转换电路的结构示意图之二；图3是本发明实施例提供的信号转换电路的原理示意图；图4是本发明实施例提供的发送方法的流程示意图；图5是本发明实施例提供的发送装置的结构示意图；图6是本发明实施例提供的电子设备的结构示意图。附图标记：转换时序产生模块110；信号幅度校准模块120；电压型数模转换模块130；平滑滤波模块140；发送转换模块150；触发单元D；误差放大单元OP；调整管PM0；开关管NM0。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员获得的所有其他实施例，都属于本发明保护的范围。本发明的说明书和权利要求书中的术语“第一”、“第二”等是用于区别类似的对象，而不用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施，且“第一”、“第二”等所区分的对象通常为一类，并不限定对象的个数，例如第一对象可以是一个，也可以是多个。此外，说明书以及权利要求中“和/或”表示所连接对象的至少其中之一，字符“/”，一般表示前后关联对象是一种“或”的关系。下面结合图1至图3描述本发明实施例的信号转换电路。如图1所示，该信号转换电路，包括：转换时序产生模块110、信号幅度校准模块120、电压型数模转换模块130、平滑滤波模块140和发送转换模块150。在该实施例中，转换时序产生模块110用于将输入的通讯数据信号转换为多个延时控制信号。转换时序产生模块110可以接收通讯数据信号txdata，然后将txdata信号转换为n个延时控制信号，并将n个延时控制信号发送给电压型数模转换模块130，其中，n为大于等于2的正整数。多个延时控制信号中任意两个相邻延时控制信号之间的时间间隔相等。电压型数模转换模块130的输入端与转换时序产生模块110的输出端电连接，电压型数模转换模块130与信号幅度校准模块120电连接。电压型数模转换模块130用于将多个延时控制信号转换为阶梯斜坡信号。电压型数模转换模块130可以接收信号幅度校准模块120发送的电流偏置，并基于电流偏置将多个延时控制信号转换为阶梯斜坡信号。阶梯斜坡信号对应的多个步进电压不相等，其中，步进电压可以基于实际需求进行自定义。如图3所示，阶梯斜坡信号对应的斜率从左到右可以呈现如下变化趋势：由0逐渐增大至一定程度后再减小至0，并重复此变化规律。平滑滤波模块140的输入端与电压型数模转换模块130的输出端电连接。平滑滤波模块140用于对阶梯斜坡信号进行平滑滤波处理，获取第一电压信号。第一电压信号为对阶梯斜坡信号进行平滑滤波处理所得。平滑滤波模块140可以滤除阶梯斜坡信号中的纹波和台阶等噪声信息，以得到平滑的电压信号，即第一电压信号。发送转换模块150的输入端与平滑滤波模块140的输出端电连接。发送转换模块150用于将第一电压信号转换为BMC发送信号。BMC为双相标记编码。BMC发送信号为基于BMC编码后的发送信号。USB PD协议可以基于Type-C接口的CC引脚作为数据传输通道来协商充电的电压、电流和功率传输方向。基于USB PD协议规范，CC通道上可以采用BMC进行通信。信号幅度校准模块120用于设置BMC发送信号的电压幅度。基于USB PD协议规范，BMC发送信号的幅度为1.125V，偏差范围为，信号幅度校准模块120可以将BMC发送信号的电压幅度调整为目标值，以满足USB PD协议规范。根据本发明实施例提供的信号转换电路，通过将通讯数据信号转换为多个延时控制信号，进而转换为阶梯斜坡信号，在应用中可以基于实际需求调整阶梯斜坡信号的步进电压以及斜率，还可以基于信号幅度校准模块120调整BMC发送信号的电压幅度，使得BMC信号可以满足PD通信的眼图认证以及转换斜率的要求；且该信号转换电路设计技术门槛低，调试灵活简单，易于在硅片上集成，无需任何片外元器件，提高了市场应用价值。在一些实施例中，转换时序产生模块110可以包括：多个触发单元D和逻辑组合单元。在该实施例中，多个触发单元D之间级联连接。多个触发单元D中第一级触发单元用于接收通讯数据信号。逻辑组合单元的输入端分别与每一个触发单元D的输出端电连接。逻辑组合单元的输出端与电压型数模转换模块130的输入端电连接。如图1所示，转换时序产生模块110可以包括n个级联连接的触发单元，多个触发单元D中第一级触发单元/＞的D接口用于接收通讯数据信号txdata，第一级触发单元/＞的Q接口与第二级触发单元/＞的D接口连接，且第一级触发单元/＞的CP接口接入延时时钟信号clk，第一级触发单元/＞的QN接口接入复位端rst；第n-1级触发单元/＞的Q接口与最后一级触发单元/＞的D接口连接，且n个触发单元D的输出均作为逻辑组合单元的输入；逻辑组合单元可以组合n个延时信号tx＜0:n-1＞，以获取n个延时控制信号，逻辑组合单元的输出端与电压型数模转换模块130的输入端电连接。在实际执行过程中，如图2所示，可以在转换时序产生模块110中设置12个级联连接的触发单元D，第一级触发单元的D接口可以接收通讯数据信号txdata，然后可以将通讯数据信号txdata处理为相等时间间隔的12个延时信号tx＜0:11＞，延时时钟信号clk的周期可以为50ns，再将延时信号tx＜0:11＞发送至逻辑组合单元，以获取多个延时控制信号，延时控制信号的波形如图3所示，然后将多个延时控制信号输出至电压型数模转换模块130。根据本发明实施例提供的信号转换电路，通过在转换时序产生模块110中设置多个触发单元D，能够将通讯数据信号转换为多个延时信号，并设置多个触发单元D的输出与逻辑组合单元的输入电连接，可以基于逻辑组合单元将多个延时信号转换为多个延时控制信号，进而基于多个延时控制信号调整阶梯斜坡信号的斜率，以满足PD通信的眼图认证。在一些实施例中，电压型数模转换模块130可以包括：串联电阻阵列和开关控制单元。在该实施例中，串联电阻阵列包括第一电阻阵列，如图1中所示。串联电阻阵列的输入端与电源VCC连接，串联电阻阵列的输出端与信号幅度校准模块120的输入端电连接。开关控制单元包括第一开关阵列，如图1中所示。开关控制单元的输入端与第一开关阵列中第一目标开关的一端连接，第一目标开关为第一开关阵列中的第一个开关，如图1中所示。开关控制单元的输出端与第一开关阵列中第二目标开关的一端连接，第二目标开关为第一开关阵列中的最后一个开关，如图1中所示。第一开关阵列中第三目标开关的一端与平滑滤波模块140连接，第三目标开关的另一端与第一电阻阵列中第一目标电阻连接，第一目标电阻为串联电阻阵列中的第n个电阻，第三目标开关为开关控制单元中的第个开关，其中，n为正整数；例如，在第一目标电阻为的情况下，第三目标开关为/＞，此时，/＞的一端与平滑滤波模块140连接，/＞的另一端与/＞连接。电压型数模转换模块130可以基于延时控制信号控制第一开关阵列的工作状态，进而控制第一电阻阵列中各个第一电阻的工作状态，从而获取步进电压不等的阶梯斜坡信号；例如，在/＞开关闭合的情况下，/＞的一端与平滑滤波模块140连接，另一端与连接。在实际执行过程中，如图2所示，可以在串联电阻阵列中设置第一电阻阵列，其中，第一电阻阵列可以包括12个第一电阻，第一电阻的阻值可以基于阶梯斜坡信号所需的步进电压设置，步进电压可以由如下公式表示：其中，为步进电压，/＞为组合电流，/＞为第/＞个第一电阻；/＞为信号幅度校准模块120向电压型数模转换模块130发送的；然后基于延时控制信号控制第一开关阵列的工作状态，不同阻值的多个第一电阻基于第一开关阵列的工作状态逐个打开或关闭，进而获取步进电压不等的阶梯斜坡信号/＞，阶梯斜坡信号的波形如图3所示。根据本发明实施例提供的信号转换电路，通过在电压型数模转换模块130中设置开关控制单元，能够基于转换时序产生模块110发送的延时控制信号控制第一开关的工作状态，进而控制第一电阻阵列中第一电阻的工作状态，以获取步进电压不等的阶梯斜坡信号，在实际应用中可以满足PD通信的眼图认证。在一些实施例中，平滑滤波模块140可以包括：第四电阻和电容。在该实施例中，电容和第四电阻并联连接。第四电阻的一端可以与电压型数模转换模块130连接，另一端可以分别与电容和发送转换模块150连接。电容的一端可以与第四电阻/＞连接，另一端与电源VCC连接。电压型数模转换模块130发送的阶梯斜坡信号可以在RC的滤波作用下转换为平滑的电压信号，即为第一电压信号/＞。根据本发明实施例提供的信号转换电路，通过将平滑滤波模块140设置为包括第四电阻和电容的并联电路，使得阶梯斜坡信号可以在滤波作用下转换为第一电压信号，能够滤除阶梯斜坡信号中的干扰信号等，提高了最终输出的信号的精度。在一些实施例中，信号幅度校准模块120可以包括：恒流源单元和电流开关阵列。在该实施例中，恒流源单元的一端与电压型数模转换模块130电连接，恒流源单元的另一端接地。电流开关阵列中的各电流开关单元包括串联连接的电流源和双向开关，且多个电流开关单元分别与恒流源单元并联连接。如图1所示，在双向开关闭合的情况下，电流源/＞对应导通；在双向开关断开的情况下，电流源/＞对应截止；其中，m为大于等于2的整数。在实际执行过程中，如图2所示，可以设置5个电流开关单元，在双向开关闭合的情况下，电流源/＞导通；在双向开关/＞断开的情况下，电流源/＞截止；各电流源的一端与电压型数模转换模块130电连接，以向电压型数模转换模型提供组合电流。根据本发明实施例提供的信号转换电路，通过在信号幅度校准模块120设置与恒流源模块并联连接的电流开关阵列，能够向电压型数模转换模块130提供合适的电流偏置，能够选取不同的电流组合路径对偏置电流进行修调，进而调整BMC发送信号的幅度，以满足USB PD协议的规定。在一些实施例中，发送转换模块150可以包括：误差放大单元OP、调整管PM0、第二电阻单元、第三电阻单元和开关管NM0。在该实施例中，误差放大单元OP的第一输入端与平滑滤波模块140的输出端电连接，误差放大单元OP的第二输入端通过第二电阻单元与电源连接。调整管PM0的第一接口与误差放大单元OP的输出端连接，调整管PM0的第二接口与误差放大单元OP的第二输入端连接且经第二电阻与电源连接，调整管PM0的第三接口用于输出第一电压信号，且第三接口连接Type-C接口的CC引脚。第二电阻单元用于将发送转换模块150接收的第一电压信号转换为电流信号。第二电阻单元的一端与电源连接，第二电阻单元的另一端与调整管PM0的第三接口电连接。在电流信号流经第三电阻单元之后，可以获取BMC发送信号。开关管NM0的一端经第三电阻单元与Type-C接口的CC引脚连接，且开关管NM0的另一端接地。在开关管NM0闭合的情况下，可以将BMC发送信号发送至CC线上；在开关管NM0断开的情况下，不发送BMC发送信号，CC线上可以进行插拔检测以及接收其他设备发送的信号。在实际执行过程中，如图2所示，可以基于如下公式将第一电压信号转换为平滑的电流信号：其中，为电流信号，/＞为电源电压，/＞为第一电压信号，根据运算放大器的虚短原理，/＞=/＞，/＞为第二电阻单元；第三电阻单元的阻值可以设置于33Ω~75Ω范围内，例如，可以将第三电阻单元的阻值设置为50Ω，然后基于如下公式获取BMC发送信号：其中，为BMC发送信号，/＞为电流信号，/＞为第三电阻单元；获取的BMC发送信号的波形如图3所示。根据本发明实施例提供的信号转换电路，通过在发送转换模块150中设置第三电阻单元的阻值以满足传输线阻抗匹配，进而使得最终输出的BMC发送信号满足PD通信的眼图认证；除此之外，在发送转换模块150中设置开关管NM0，使得在不需要发送BMC发送信号的情况下断开开关管NM0，不影响CC线上的插拔检测以及接收其他设备发送的BMC信号。下面结合图4描述本发明实施例的发送方法。需要说明的是，发送方法的执行主体可以为服务器，或者可以为发送装置，或者还可以为用户的终端，包括但不限于移动终端和非移动终端。例如，移动终端包括但不限于手机、PDA智能终端、平板电脑以及车载智能终端等；非移动终端包括但不限于PC端等。如图4所示，该发送方法，包括：步骤410、步骤420和步骤430。步骤410、获取USB PD协议层发送的通讯数据信号。步骤420、将通讯数据信号输入至如上任意实施例所述的信号转换电路，获取信号转换电路输出的BMC发送信号；步骤430、发送BMC发送信号。在该实施例中，USB PD协议可以基于Type-C接口的CC引脚作为数据传输通道来协商充电的电压、电流和功率传输方向。基于USB PD协议规范，CC通道上可以采用BMC进行通信。根据本发明实施例提供的发送方法，通过将获取到的通讯数据信号输入至信号转换电路，可以将通讯数据信号处理为n个相同时间间隔的延时控制信号，进而对信号上升沿和下降沿若干个时刻点的电压值进行设定，从而对上升沿和下降沿的斜率进行分段控制，以使得最终输出的BMC发送信号可以满足PD通信的眼图认证和转换斜率的要求。下面对本发明提供的发送装置进行描述，下文描述的发送装置与上文描述的发送方法可相互对应参照。本发明实施例提供的发送方法，执行主体可以为发送装置。本发明实施例中以发送装置执行发送方法为例，说明本发明实施例提供的发送装置。本发明实施例还提供一种发送装置。如图5所示，该发送装置，包括：第一处理模块510、第二处理模块520和第三处理模块530。第一处理模块510，用于获取USB PD协议层发送的通讯数据信号；第二处理模块520，用于将通讯数据信号输入至如上任意实施例所述的信号转换电路，获取信号转换电路输出的BMC发送信号；第三处理模块530，用于发送BMC发送信号。根据本发明实施例提供的发送装置，通过将获取到的通讯数据信号输入至信号转换电路，可以将通讯数据信号处理为n个相同时间间隔的延时控制信号，进而对信号上升沿和下降沿若干个时刻点的电压值进行设定，从而对上升沿和下降沿的斜率进行分段控制，以使得最终输出的BMC发送信号可以满足PD通信的眼图认证和转换斜率的要求。本发明实施例中的发送装置可以是电子设备，也可以是电子设备中的部件，例如集成电路或芯片。该电子设备可以是终端，也可以为除终端之外的其他设备。示例性的，电子设备可以为手机、平板电脑、笔记本电脑、掌上电脑、车载电子设备、移动上网装置、增强现实/虚拟现实设备、机器人、可穿戴设备、超级移动个人计算机、上网本或者个人数字助理等，还可以为服务器、网络附属存储器、个人计算机、电视机、柜员机或者自助机等，本发明实施例不作具体限定。本发明实施例中的发送装置可以为具有操作系统的装置。该操作系统可以为安卓操作系统，可以为iOS操作系统，还可以为其他可能的操作系统，本发明实施例不作具体限定。本发明实施例提供的发送装置能够实现图4的方法实施例实现的各个过程，为避免重复，这里不再赘述。在一些实施例中，如图6所示，本发明实施例还提供一种电子设备600，包括处理器601、存储器602及存储在存储器602上并可在处理器601上运行的计算机程序，该程序被处理器601执行时实现上述发送方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。需要说明的是，本发明实施例中的电子设备包括上述所述的移动电子设备和非移动电子设备。另一方面，本发明还提供一种计算机程序产品，所述计算机程序产品包括存储在非暂态计算机可读存储介质上的计算机程序，所述计算机程序包括程序指令，当所述程序指令被计算机执行时，计算机能够执行上述发送方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。又一方面，本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现以执行上述发送方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。又一方面，本发明实施例另提供了一种芯片，所述芯片包括处理器和通信接口，所述通信接口和所述处理器耦合，所述处理器用于运行程序或指令，实现上述发送方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。应理解，本发明实施例提到的芯片还可以称为系统级芯片、系统芯片、芯片系统或片上系统芯片等。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的方法。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
