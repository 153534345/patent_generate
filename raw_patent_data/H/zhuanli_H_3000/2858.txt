标题title
车联网场景下基于NOMA通信的任务处理方法
摘要abst
本发明公开了车联网场景下基于NOMA通信的任务处理方法，涉及车联网技术领域，对于单个任务，从车辆当前所在位置的边缘节点或沿行进方向的下一边缘节点中选择一个边缘节点进行任务传输；对于多个同时产生的任务并传输给同一边缘节点，将多个同时产生的任务采用NOMA通信方式分批次传输给边缘节点；边缘节点接收到任务后，从该边缘节点自身或沿行进方向的下一边缘节点中选择一个边缘节点进行任务计算，并按次序对任务进行计算。通过改变通信方式、多边缘节点协作方式减少任务的处理时间，有效降低车联网中任务处理的延迟；通过对任务的传输边缘节点、传输批次、计算边缘节点、计算次序进行优化，使得在延迟约束时间内完成的任务数量最大化。
权利要求书clms
1.车联网场景下基于NOMA通信的任务处理方法，其特征在于，道路上沿道路方向布设有若干边缘节点，用于辅助道路上的车辆完成任务计算；对于单个车辆产生的任务，从车辆当前所在位置的边缘节点或沿车辆行进方向的下一边缘节点中选择一个边缘节点进行任务传输，采用NOMA通信方式将车辆任务传输给对应的边缘节点；对于多个车辆同时产生任务并传输给同一边缘节点，将多个同时产生的任务分批次传输给边缘节点；边缘节点接收到任务后，从该边缘节点自身或沿车辆行进方向的下一边缘节点中选择一个边缘节点进行任务计算，并按次序对任务进行计算；对每个任务进行传输的边缘节点和传输批次以及每个任务进行计算的边缘节点、计算次序进行优化，使得在延迟约束时间内完成传输和计算的任务数量最大化。2.根据权利要求1所述的车联网场景下基于NOMA通信的任务处理方法，其特征在于，每个任务进行传输的边缘节点和传输批次以及每个任务进行计算的边缘节点、计算次序的优化方式如下所示：S1，车辆产生任务时，选择车辆当前所在位置的边缘节点作为任务进行传输的边缘节点即传输边缘节点；S2，针对多个车辆同时产生的任务，确定各个任务的传输边缘节点；对于传输给同一传输边缘节点的多个任务，按照任务信道增益由小到大的顺序对任务进行叠加编码，并根据NOMA通信中SINR的阈值要求，对多个任务进行分批次传输，确定各个任务的传输批次；S3，得到各个任务的传输边缘节点和传输批次后，判断各个任务在传输过程中车辆是否会驶离对应的传输边缘节点，若某任务在传输过程中车辆会驶离对应的传输边缘节点，则重新选择该任务的传输边缘节点，选择沿车辆行进方向的下一边缘节点作为该任务的传输边缘节点；否则，不重新选择该任务的传输边缘节点；根据重新选择后的各个任务的传输边缘节点，对于传输给同一传输边缘节点的多个任务，再次按照任务信道增益由小到大的顺序对任务进行叠加编码，并根据NOMA通信中SINR的阈值要求，对多个任务进行分批次传输，重新确定各个任务的传输批次；直到所有任务在传输过程中车辆均不会驶离对应的传输边缘节点，此时得到的各个任务的传输边缘节点和传输批次为最优解；S4，确定各个任务的传输边缘节点和传输批次的最优解后，选择传输边缘节点作为计算任务的边缘节点即计算边缘节点；S5，根据各个任务的计算边缘节点，对于在同一计算边缘节上进行计算的多个任务，按照任务响应比由大到小的顺序进行任务计算次序由前到后排序，确定各个任务的计算次序；S6，得到各个任务的计算边缘节点和计算次序后，判断车辆在延迟约束时间内是否能到达沿车辆行进方向的下一边缘节点，以及判断任务能否在延迟约束时间内完成传输和计算，若某任务不能在延迟约束时间内完成且车辆在延迟约束时间内能到达沿车辆行进方向的下一边缘节点，则重新选择该任务的计算边缘节点，选择沿车辆行进方向的下一边缘节点作为任务的计算边缘节点；否则，不重新选择该任务的计算边缘节点；根据重新选择后的各个任务的计算边缘节点，对于在同一计算边缘节上进行计算的多个任务，再次按照任务响应比由大到小的顺序进行任务计算次序由前到后排序，重新确定各个任务的计算次序；直到任务能在延迟约束时间内完成传输和计算，或者车辆在延迟约束时间内不能到达沿车辆行进方向的下一边缘节点，此时得到的任务的计算边缘节点和计算次序为最优解。3.根据权利要求2所述的车联网场景下基于NOMA通信的任务处理方法，其特征在于，步骤S2中，各个任务的传输批次的确定方式如下所示：每个车辆的信道增益不同，车辆与传输边缘节点的距离越远，该车辆的信道增益越小；每个车辆的发射功率相同；将车辆的信道增益与车辆的发射功率的乘积作为该任务的任务信道增益；任务信道增益最小的任务作为批次中的第1个任务，按照任务信道增益由小到大的顺序进行任务叠加编码，并实时计算信号与干扰加噪声比即SINR，直至SINR小于设定阈值，停止对该批次进行任务叠加编码，将下一个待叠加的任务作为下一个批次的第1个任务。4.根据权利要求2所述的车联网场景下基于NOMA通信的任务处理方法，其特征在于，步骤S3中，任务在传输过程中车辆是否会驶离对应的传输边缘节点的具体判断方式如下所示：根据任务的传输边缘节点和传输批次，计算任务完成传输所需的处理时间；根据车辆当前所在的位置以及行驶速度，计算车辆驶离传输边缘节点覆盖范围的时间；若任务完成传输所需的处理时间大于车辆驶离传输边缘节点覆盖范围的时间，则表示任务在传输过程中车辆会驶离对应的传输边缘节点；否则，表示任务在传输过程中车辆不会驶离对应的传输边缘节点。5.根据权利要求2所述的车联网场景下基于NOMA通信的任务处理方法，其特征在于，步骤S6中，任务能否在延迟约束时间内完成传输和计算的具体判断方式如下所示：根据任务的传输边缘节点和传输批次，计算任务完成传输所需的处理时间；根据任务的计算边缘节点和计算次序，计算任务完成计算所需的处理时间；若任务完成传输和计算过程所需的总处理时间大于延迟约束时间，则表示任务不能在延迟约束时间内完成传输和计算；否则，表示任务能在延迟约束时间内完成传输和计算。6.根据权利要求2所述的车联网场景下基于NOMA通信的任务处理方法，其特征在于，步骤S6中，根据车辆当前所在的位置以及行驶速度，计算车辆沿行进方向行驶进入下一边缘节点覆盖范围的时间；若行驶进入下一边缘节点覆盖范围的时间大于延迟约束时间，则表示车辆在延迟约束时间内不能到达沿车辆行进方向的下一边缘节点；否则，表示车辆在延迟约束时间内点能到达沿车辆行进方向的下一边缘节点。7.根据权利要求1-6任意一项所述的车联网场景下基于NOMA通信的任务处理方法，其特征在于，任务完成传输和计算的总处理时间的计算方式如下所示：将时间划分成多个连续相等的时隙t，同一时隙t内车辆产生的任务即为同时产生的任务，在每个时隙t内每辆车至多产生一个任务；定义时隙的集合用Pt表示，边缘节点的集合用Pn表示，在时隙t内产生任务的车辆集合用PMt表示；在时隙t内的车辆m产生的任务fmt的总处理时间Tt_fmt为：；其中，m∈PMt，Amt为取值为0或1的变量，Amt=1表示选择边缘节点x传输任务fmt，Am=0表示未选择边缘节点x传输任务fmt；Tw_fmt表示任务fmt传输给边缘节点x所需的传输等待时间；Tu_fmt表示任务fmt传输给边缘节点x所需的传输时间；Bmt为取值为0或1的变量，Bmt=1表示选择边缘节点y计算任务fmt，Bm=0表示未选择边缘节点y计算任务fmt；Tq_fmt表示任务fmt在边缘节点y上计算所需的计算等待时间，Tc_fm表示任务fmt在边缘节点y上计算所需的计算时间。8.根据权利要求1-6任意一项所述的车联网场景下基于NOMA通信的任务处理方法，其特征在于，将时间划分成多个连续相等的时隙t，同一时隙t内车辆产生的任务即为同时产生的任务，在每个时隙t内每辆车至多产生一个任务；定义时隙的集合用Pt表示，边缘节点的集合用Pn表示，在时隙t内产生任务的车辆集合用PMt表示；时隙t内车辆m的任务fmt传输给边缘节点n所需的处理时间为Tw_fmt+Tu_fmt；其中，Tw_fmt为任务fmt传输给边缘节点n的传输等待时间，Tu_fmt为任务fmt传输给边缘节点n的传输时间；定义一个取值为0或1的变量θmnt，θmn=1表示任务fmt在第j个批次传输给边缘节点n，θmnt=0表示任务fmt不在第j个批次传输给边缘节点n；若任务fmt第j个批次传输给边缘节点n，则任务fmt的传输等待时间Tw_fmt为：；；其中，tn为边缘节点n的第j-1个批次中所有任务完成传输的时隙，第j-1个批次中包括时隙t’内车辆m’的任务fm’t’，θm’nt’=1表示任务fm’t’在第j-1个批次传输给边缘节点n’，PMt’表示时隙t’内产生任务的车辆集合，Tw_fm’t’表示第j-1个批次中的任务fm’t’传输给边缘节点n的传输等待时间，Tu_fm’t’表示第j-1个批次中的任务fm’t’传输给边缘节点n的传输时间；时隙t内车辆m的任务fmt传输给边缘节点n的过程中，车辆m的信道增益gmnt为定值；每个车辆的信道增益不同，车辆与边缘节点n的距离越远，该车辆的信道增益越小；每个车辆的发射功率相同；将车辆的信道增益与车辆的发射功率的乘积作为该任务的任务信道增益；任务信道增益最小的任务作为批次中的第1个任务，按照任务信道增益由小到大的顺序进行任务叠加编码，并实时计算信号与干扰加噪声比即SINR，直至SINR小于设定阈值，停止对该批次进行任务叠加编码，将下一个待叠加的任务作为下一个批次的第1个任务；任务fmt传输给边缘节点n的过程中，信号与干扰加噪声比SINR表示为：；；其中，p为车辆的发射功率，每个车辆的发射功率相同；gmnt为时隙t内车辆m的信道增益；No为高斯白噪声；β为SINR需满足的设定阈值；第j个批次中包括时隙t’’内车辆m’’的任务fm’’t’’；θm’’nt’’=1表示时隙t’’内车辆m’’的任务fm’’t’’在第j个批次传输给边缘节点n，gm’’nt’’表示时隙t’’内车辆m’’的信道增益；时隙t内车辆m的任务fmt传输给边缘节点n的传输时间Tu_fmt为：Tu_fmt=Dmt/Rmnt；；其中，W为传输带宽，Rmnt为任务fmt传输给边缘节点n的传输速率，Dmt为任务fmt的传输数据量。9.根据权利要求1-6任意一项所述的车联网场景下基于NOMA通信的任务处理方法，其特征在于，将时间划分成多个连续相等的时隙t，同一时隙t内车辆产生的任务即为同时产生的任务，在每个时隙t内每辆车至多产生一个任务；定义时隙的集合用Pt表示，边缘节点的集合用Pn表示，在时隙t内产生任务的车辆集合用PMt表示；时隙t内车辆m的任务fmt在边缘节点n上计算所需的处理时间为Tq_fmt+Tc_fmt；其中，Tq_fmt为任务fmt在边缘节点n上的计算等待时间，Tc_fmt为任务fmt在边缘节点n上的计算时间；定义一个取值为0或1的变量ρmnt，ρmnt=1表示任务fmt在边缘节点n上是第i个计算任务；ρmnt=0表示任务fmt在边缘节点n上不是第i个计算任务；若任务fmt在边缘节点n上是第i个计算任务，则任务fmt的在边缘节点n上的计算等待时间Tq_fmt为：；；；其中，amnt表示任务fmt到达边缘节点n的时隙；F表示在时隙k内同时到达边缘节点n的任务集合，k=1,...amnt；fm*t*为任务集合F中的任务；Tq_fm*t*表示任务fm*t*在边缘节点n上的计算等待时间，Tc_fm*t*表示任务fm*t*在边缘节点n上的计算时间，t*表示任务fm*t*的时隙；ρm*nt*=1表示任务fm*t*在边缘节点n上是第i-1个计算任务；任务fmt的在边缘节点n上的计算时间Tc_fmt为：Tc_fmt=Qmt/C；其中，Qmt为任务fmt完成计算所需要的CPU周期数，C为边缘节点的计算能力，每个边缘节点计算能力相同。10.根据权利要求9所述的车联网场景下基于NOMA通信的任务处理方法，其特征在于，时隙t内车辆m的任务fmt的响应比为：/Tc_fmt。
说明书desc
技术领域本发明涉及车联网技术领域，尤其是车联网场景下基于NOMA通信的任务处理方法。背景技术在车联网场景下，车辆产生的任务需传输到路边边缘节点进行处理，其处理过程包括传输和计算两个阶段。车联网场景下的任务往往是时延敏感的，需要在规定时间内即延迟约束时间内进行响应。为了保证车联网场景下的任务能够在延迟约束时间内进行响应，现有技术中提出了很多任务卸载方法：如，中国专利公开号为CN112737842A公开的空地一体化车联网中基于最小化时延的任务安全卸载方法，该专利中构建了支持移动边缘计算的空地一体化车联网模型，对车辆到无人机边缘服务器的安全传输方式、本地车辆和无人机边缘服务器的计算方式进行分析与建模，将空地一体化车联网任务卸载问题形式化为一个与边缘服务器选择、传输速率、资源分配、任务卸载相关，以最小化时延为目标的多目标优化问题，该专利可有效降低任务处理时延，提高任务成功处理比例。但是现有技术中的任务卸载方法中，存在以下问题：1、在选择边缘节点时，无没有结合考虑车辆的移动性。2、从单个车辆的单个任务出发，希望降低单个任务的处理时延，没有考虑实际车辆网场景中多个车辆同时产生多个任务的问题，虽然单个任务的处理时延降低，但无法保证延迟约束时间内完成处理的任务数量最大化。3、车辆网场景下的任务上传要求较高的通信速度。其中，NOMA是一种新的通信技术，可以较好提高通信速度，但其使用有一定的特殊条件限制，NOMA通信对于SINR有阈值要求，同一时间内同时传输的任务数量有限。发明内容为了克服上述现有技术中的缺陷，本发明提供车联网场景下基于NOMA通信的任务处理方法，通过改变通信方式、多边缘节点协作方式来减少任务的处理时间，可有效降低车联网中任务处理的延迟，并将延迟约束时间内完成处理的任务数量最大化。为实现上述目的，本发明采用以下技术方案，包括：车联网场景下基于NOMA通信的任务处理方法，道路上沿道路方向布设有若干边缘节点，用于辅助道路上的车辆完成任务计算；对于单个车辆产生的任务，从车辆当前所在位置的边缘节点或沿车辆行进方向的下一边缘节点中选择一个边缘节点进行任务传输，采用NOMA通信方式将车辆任务传输给对应的边缘节点；对于多个车辆同时产生任务并传输给同一边缘节点，将多个同时产生的任务分批次传输给边缘节点；边缘节点接收到任务后，从该边缘节点自身或沿车辆行进方向的下一边缘节点中选择一个边缘节点进行任务计算，并按次序对任务进行计算；对每个任务进行传输的边缘节点和传输批次以及每个任务进行计算的边缘节点、计算次序进行优化，使得在延迟约束时间内完成传输和计算的任务数量最大化。优选的，每个任务进行传输的边缘节点和传输批次以及每个任务进行计算的边缘节点、计算次序的优化方式如下所示：S1，车辆产生任务时，选择车辆当前所在位置的边缘节点作为任务进行传输的边缘节点即传输边缘节点；S2，针对多个车辆同时产生的任务，确定各个任务的传输边缘节点；对于传输给同一传输边缘节点的多个任务，按照任务信道增益由小到大的顺序对任务进行叠加编码，并根据NOMA通信中SINR的阈值要求，对多个任务进行分批次传输，确定各个任务的传输批次；S3，得到各个任务的传输边缘节点和传输批次后，判断各个任务在传输过程中车辆是否会驶离对应的传输边缘节点，若某任务在传输过程中车辆会驶离对应的传输边缘节点，则重新选择该任务的传输边缘节点，选择沿车辆行进方向的下一边缘节点作为该任务的传输边缘节点；否则，不重新选择该任务的传输边缘节点；根据重新选择后的各个任务的传输边缘节点，对于传输给同一传输边缘节点的多个任务，再次按照任务信道增益由小到大的顺序对任务进行叠加编码，并根据NOMA通信中SINR的阈值要求，对多个任务进行分批次传输，重新确定各个任务的传输批次；直到所有任务在传输过程中车辆均不会驶离对应的传输边缘节点，此时得到的各个任务的传输边缘节点和传输批次为最优解；S4，确定各个任务的传输边缘节点和传输批次的最优解后，选择传输边缘节点作为计算任务的边缘节点即计算边缘节点；S5，根据各个任务的计算边缘节点，对于在同一计算边缘节上进行计算的多个任务，按照任务响应比由大到小的顺序进行任务计算次序由前到后排序，确定各个任务的计算次序；S6，得到各个任务的计算边缘节点和计算次序后，判断车辆在延迟约束时间内是否能到达沿车辆行进方向的下一边缘节点，以及判断任务能否在延迟约束时间内完成传输和计算，若某任务不能在延迟约束时间内完成且车辆在延迟约束时间内能到达沿车辆行进方向的下一边缘节点，则重新选择该任务的计算边缘节点，选择沿车辆行进方向的下一边缘节点作为任务的计算边缘节点；否则，不重新选择该任务的计算边缘节点；根据重新选择后的各个任务的计算边缘节点，对于在同一计算边缘节上进行计算的多个任务，再次按照任务响应比由大到小的顺序进行任务计算次序由前到后排序，重新确定各个任务的计算次序；直到任务能在延迟约束时间内完成传输和计算，或者车辆在延迟约束时间内不能到达沿车辆行进方向的下一边缘节点，此时得到的任务的计算边缘节点和计算次序为最优解。优选的，步骤S2中，各个任务的传输批次的确定方式如下所示：每个车辆的信道增益不同，车辆与传输边缘节点的距离越远，该车辆的信道增益越小；每个车辆的发射功率相同；将车辆的信道增益与车辆的发射功率的乘积作为该任务的任务信道增益；任务信道增益最小的任务作为批次中的第1个任务，按照任务信道增益由小到大的顺序进行任务叠加编码，并实时计算信号与干扰加噪声比即SINR，直至SINR小于设定阈值，停止对该批次进行任务叠加编码，将下一个待叠加的任务作为下一个批次的第1个任务。优选的，步骤S3中，任务在传输过程中车辆是否会驶离对应的传输边缘节点的具体判断方式如下所示：根据任务的传输边缘节点和传输批次，计算任务完成传输所需的处理时间；根据车辆当前所在的位置以及行驶速度，计算车辆驶离传输边缘节点覆盖范围的时间；若任务完成传输所需的处理时间大于车辆驶离传输边缘节点覆盖范围的时间，则表示任务在传输过程中车辆会驶离对应的传输边缘节点；否则，表示任务在传输过程中车辆不会驶离对应的传输边缘节点。优选的，步骤S6中，任务能否在延迟约束时间内完成传输和计算的具体判断方式如下所示：根据任务的传输边缘节点和传输批次，计算任务完成传输所需的处理时间；根据任务的计算边缘节点和计算次序，计算任务完成计算所需的处理时间；若任务完成传输和计算过程所需的总处理时间大于延迟约束时间，则表示任务不能在延迟约束时间内完成传输和计算；否则，表示任务能在延迟约束时间内完成传输和计算。优选的，步骤S6中，根据车辆当前所在的位置以及行驶速度，计算车辆沿行进方向行驶进入下一边缘节点覆盖范围的时间；若行驶进入下一边缘节点覆盖范围的时间大于延迟约束时间，则表示车辆在延迟约束时间内不能到达沿车辆行进方向的下一边缘节点；否则，表示车辆在延迟约束时间内点能到达沿车辆行进方向的下一边缘节点。优选的，任务完成传输和计算的总处理时间的计算方式如下所示：将时间划分成多个连续相等的时隙t，同一时隙t内车辆产生的任务即为同时产生的任务，在每个时隙t内每辆车至多产生一个任务；定义时隙的集合用Pt表示，边缘节点的集合用Pn表示，在时隙t内产生任务的车辆集合用PMt表示；在时隙t内的车辆m产生的任务fmt的总处理时间Tt_fmt为：；其中，m∈PMt，Amt为取值为0或1的变量，Amt=1表示选择边缘节点x传输任务fmt，Am=0表示未选择边缘节点x传输任务fmt；Tw_fmt表示任务fmt传输给边缘节点x所需的传输等待时间；Tu_fmt表示任务fmt传输给边缘节点x所需的传输时间；Bmt为取值为0或1的变量，Bmt=1表示选择边缘节点y计算任务fmt，Bm=0表示未选择边缘节点y计算任务fmt；Tq_fmt表示任务fmt在边缘节点y上计算所需的计算等待时间，Tc_fm表示任务fmt在边缘节点y上计算所需的计算时间。优选的，将时间划分成多个连续相等的时隙t，同一时隙t内车辆产生的任务即为同时产生的任务，在每个时隙t内每辆车至多产生一个任务；定义时隙的集合用Pt表示，边缘节点的集合用Pn表示，在时隙t内产生任务的车辆集合用PMt表示；时隙t内车辆m的任务fmt传输给边缘节点n所需的处理时间为Tw_fmt+Tu_fmt；其中，Tw_fmt为任务fmt传输给边缘节点n的传输等待时间，Tu_fmt为任务fmt传输给边缘节点n的传输时间；定义一个取值为0或1的变量θmnt，θmn=1表示任务fmt在第j个批次传输给边缘节点n，θmnt=0表示任务fmt不在第j个批次传输给边缘节点n；若任务fmt第j个批次传输给边缘节点n，则任务fmt的传输等待时间Tw_fmt为：；；其中，tn为边缘节点n的第j-1个批次中所有任务完成传输的时隙，第j-1个批次中包括时隙t’内车辆m’的任务fm’t’，θm’nt’=1表示任务fm’t’在第j-1个批次传输给边缘节点n’，PMt’表示时隙t’内产生任务的车辆集合，Tw_fm’t’表示第j-1个批次中的任务fm’t’传输给边缘节点n的传输等待时间，Tu_fm’t’表示第j-1个批次中的任务fm’t’传输给边缘节点n的传输时间；时隙t内车辆m的任务fmt传输给边缘节点n的过程中，车辆m的信道增益gmnt为定值；每个车辆的信道增益不同，车辆与边缘节点n的距离越远，该车辆的信道增益越小；每个车辆的发射功率相同；将车辆的信道增益与车辆的发射功率的乘积作为该任务的任务信道增益；任务信道增益最小的任务作为批次中的第1个任务，按照任务信道增益由小到大的顺序进行任务叠加编码，并实时计算信号与干扰加噪声比即SINR，直至SINR小于设定阈值，停止对该批次进行任务叠加编码，将下一个待叠加的任务作为下一个批次的第1个任务；任务fmt传输给边缘节点n的过程中，信号与干扰加噪声比SINR表示为：；；其中，p为车辆的发射功率，每个车辆的发射功率相同；gmnt为时隙t内车辆m的信道增益；No为高斯白噪声；β为SINR需满足的设定阈值；第j个批次中包括时隙t’’内车辆m’’的任务fm’’t’’；θm’’nt’’=1表示时隙t’’内车辆m’’的任务fm’’t’’在第j个批次传输给边缘节点n，gm’’nt’’表示时隙t’’内车辆m’’的信道增益；时隙t内车辆m的任务fmt传输给边缘节点n的传输时间Tu_fmt为：Tu_fmt=Dmt/Rmnt；；其中，W为传输带宽，Rmnt为任务fmt传输给边缘节点n的传输速率，Dmt为任务fmt的传输数据量。优选的，将时间划分成多个连续相等的时隙t，同一时隙t内车辆产生的任务即为同时产生的任务，在每个时隙t内每辆车至多产生一个任务；定义时隙的集合用Pt表示，边缘节点的集合用Pn表示，在时隙t内产生任务的车辆集合用PMt表示；时隙t内车辆m的任务fmt在边缘节点n上计算所需的处理时间为Tq_fmt+Tc_fmt；其中，Tq_fmt为任务fmt在边缘节点n上的计算等待时间，Tc_fmt为任务fmt在边缘节点n上的计算时间；定义一个取值为0或1的变量ρmnt，ρmnt=1表示任务fmt在边缘节点n上是第i个计算任务；ρmnt=0表示任务fmt在边缘节点n上不是第i个计算任务；若任务fmt在边缘节点n上是第i个计算任务，则任务fmt的在边缘节点n上的计算等待时间Tq_fmt为：；；；其中，amnt表示任务fmt到达边缘节点n的时隙；F表示在时隙k内同时到达边缘节点n的任务集合，k=1,...amnt；fm*t*为任务集合F中的任务；Tq_fm*t*表示任务fm*t*在边缘节点n上的计算等待时间，Tc_fm*t*表示任务fm*t*在边缘节点n上的计算时间，t*表示任务fm*t*的时隙；ρm*nt*=1表示任务fm*t*在边缘节点n上是第i-1个计算任务；任务fmt的在边缘节点n上的计算时间Tc_fmt为：Tc_fmt=Qmt/C；其中，Qmt为任务fmt完成计算所需要的CPU周期数，C为边缘节点的计算能力，每个边缘节点计算能力相同。优选的，时隙t内车辆m的任务fmt的响应比为：/Tc_fmt。本发明的优点在于：本发明通过边缘计算，在车辆任务的传输阶段采用高效率通信方式、计算阶段采用多边缘节点协同方式来处理该任务，可以有效减少任务的处理时间，从而最大化同一时间段内成功执行的任务数量。本发明在上行链路中采取NOMA通信方式传输任务，可以有效提高通信资源利用率，提高通信速度，通过采用NOMA技术，可以在一个信道内通过不同的功率域同时传输多个任务。由于车辆的发射功率受限，为了有效提高通信质量，在发送端采用叠加编码时，根据任务信道增益由小到大排序，即根据车辆与边缘节点的位置，依次确定任务编码的顺序，然后任务分批次上传给路边边缘节点，边缘节点接收到任务后，采用SIC技术按照编码顺序依次解调出这些任务，通过这种方式，尽量减少通信过程中的传输时间。本发明在计算过程中，根据车辆的移动性，通过多边缘节点协同方式计算任务，对于同一边缘节点上的任务，采用高响应比策略决定计算次序，可以有效降低计算延迟，再加上传输过程中采用NOMA通信方式，两者结合可实现成功执行的任务数量最大化。附图说明图1为本发明基于NOMA通信的任务处理方法流程图。图2为本发明基于NOMA通信的任务传输过程示意图。图3为不同任务数量下，各个任务处理方法在延迟约束时间内完成任务处理的总数量。图4为不同任务数量下，各个任务处理方法的任务平均总处理时间。图5为不同传输带宽下，各个任务处理方法在延迟约束时间内完成任务处理的总数量。图6为不同的边缘节点计算能力下，各个任务处理方法在延迟约束时间内完成任务处理的总数量。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。道路上沿道路方向布设有若干边缘节点，用于辅助道路上的车辆完成任务计算。车联网场景下基于NOMA通信的任务处理方法，对于道路上行驶的车辆，当车辆产生的任务无法在本地计算时，会选择将任务发送给邻近的边缘节点。本发明为了提高通信速度，在上行链路中采取NOMA通信方式传输任务。由于NOMA通信对于SINR有阈值要求，即同一时间内同时传输的任务数量有限，因此需要分批传输任务。本发明提供一种车联网场景下基于NOMA通信的任务处理方法，道路边部署有若干等距的路侧单元，路侧单元搭载边缘服务器作为边缘节点；对于单个车辆产生的任务，从车辆当前所在位置的边缘节点或沿车辆行进方向的下一边缘节点中选择一个边缘节点进行任务传输，将车辆任务传输给所选择的边缘节点；采用NOMA通信方式将车辆任务传输给对应的边缘节点，对于多个车辆同时产生任务并传输给同一边缘节点，将多个同时产生的任务分批次传输给边缘节点；边缘节点接收到任务后，从该边缘节点自身或沿车辆行进方向的下一边缘节点中选择一个边缘节点进行任务计算，并按次序对任务进行计算；对每个任务进行传输的边缘节点和传输批次以及每个任务进行计算的边缘节点、计算次序进行优化，使得在延迟约束时间内完成传输和计算的任务数量最大化。对任务完成传输和计算的总处理时间建立数学模型，将每个任务进行传输的边缘节点和传输批次以及每个任务进行计算的边缘节点、计算次序的优化转换为变量的求解：由图2所示，将时间段T划分成多个连续相等的时隙t，同一时隙t内产生的任务可近似为同时产生，在每个时隙t内每辆车至多产生一个任务。定义：时隙的集合用Pt表示，边缘节点的集合用Pn表示，在时隙t内请求传输任务的车辆集合用PMt表示；对时隙t内的车辆m产生的任务fmt的总处理时间构建计算模型：在时隙t内的车辆m产生的任务fmt的总处理时间Tt_fmt为：；其中，m∈PMt，Amt为取值为0或1的变量，Amt=1表示选择边缘节点x传输任务fmt，Am=0表示未选择边缘节点x传输任务fmt；Tw_fmt表示任务fmt传输给边缘节点x所需的传输等待时间；Tu_fmt表示任务fmt传输给边缘节点x所需的传输时间；Bmt为取值为0或1的变量，Bmt=1表示选择边缘节点y计算任务fmt，Bm=0表示未选择边缘节点y计算任务fmt；Tq_fmt表示任务fmt在边缘节点y上计算所需的计算等待时间，Tc_fm表示任务fmt在边缘节点y上计算所需的计算时间。以边缘节点n为例，n∈Pn，某个时隙t内多个车辆同时请求传输任务给该边缘节点n，由于采用NOMA的通信方式，对SINR有一定的限制要求，当需要传输的任务较多时不能同时传输，因此选择将多个任务分批进行传输，则任务在传输过程中存在传输等待时间，时隙t内车辆m的任务fmt传输给边缘节点n所需的处理时间为Tw_fmt+Tu_fmt；其中，Tw_fmt为任务fmt传输给边缘节点n的传输等待时间，Tu_fmt为任务fmt传输给边缘节点n的传输时间。定义一个取值为0或1的变量θmnt，θmn=1表示时隙t内车辆m的任务fmt在第j个批次传输给边缘节点n，θmnt=0表示时隙t内车辆m的任务fmt不在第j个批次传输给边缘节点n。若任务fmt第j个批次传输给边缘节点n，则任务fmt的传输等待时间Tw_fmt为：；；其中，tn为边缘节点n的第j-1个批次中所有任务完成传输的时隙，第j-1个批次中包括时隙t’内车辆m’的任务fm’t’，θm’nt’=1表示任务fm’t’在第j-1个批次传输给边缘节点n’，PMt’表示时隙t’内产生任务的车辆集合，Tw_fm’t’表示第j-1个批次中的任务fm’t’传输给边缘节点n的传输等待时间，Tu_fm’t’表示第j-1个批次中的任务fm’t’传输给边缘节点n的传输时间。时隙t内多个车辆同时请求传输任务给该边缘节点n，各个任务的传输批次的确定方式如下所示：时隙t内车辆m的任务fmt传输给边缘节点n的过程中，车辆m的信道增益gmnt为定值；每个车辆的信道增益不同，车辆与边缘节点n的距离越远，该车辆的信道增益越小；每个车辆的发射功率相同；将车辆的信道增益与车辆的发射功率的乘积作为该任务的任务信道增益；任务信道增益最小的任务作为批次中的第1个任务，按照任务信道增益由小到大的顺序进行任务叠加编码，并实时计算信号与干扰加噪声比即SINR，直至SINR小于设定阈值，停止对该批次进行任务叠加编码，将下一个待叠加的任务作为下一个批次的第1个任务。通过采用NOMA技术，可以在一个信道内通过不同的功率域同时传输多个任务，由于车辆的发射功率受限，为了有效提高通信质量，在发送端采用叠加编码时，根据任务的信道增益由小到大排序，即根据车辆与基站的位置，依次确定任务编码的顺序，然后将编码后的任务上传给路边基站即边缘节点，边缘节点接收到这些任务后，采用SIC技术按照编码顺序依次解调出这些任务，通过这种方式，尽量减少通信过程中的传输时间。整个编码解码过程可以理解为：编码正序，解码倒序，先编码的最后解码。任务fmt传输给边缘节点n的过程中，信号与干扰加噪声比SINR表示为：；；其中，p为车辆的发射功率，每个车辆的发射功率相同；gmnt为时隙t内车辆m的信道增益；No为高斯白噪声；β为SINR需满足的设定阈值；第j个批次中包括时隙t’’内车辆m’’的任务fm’’t’’；θm’’nt’’=1表示时隙t’’内车辆m’’的任务fm’’t’’在第j个批次传输给边缘节点n，gm’’nt’’表示时隙t’’内车辆m’’的信道增益；时隙t内车辆m的任务fmt传输给边缘节点n的传输时间Tu_fmt为：Tu_fmt=Dmt/Rmnt；；其中，W为传输带宽，Rmnt为任务fmt传输给边缘节点n的传输速率，Dmt为任务fmt的传输数据量。时隙t内车辆m的任务fmt传输给边缘节点n后，假设任务fmt在传输的边缘节点n上进行计算，由于边缘节点n在同一时间内只处理一个任务，则任务fmt在计算过程中存在计算等待时间，任务fmt在边缘节点n上计算所需的处理时间为Tq_fmt+Tc_fmt；其中，Tq_fmt为任务fmt在边缘节点n上的计算等待时间，Tc_fmt为任务fmt在边缘节点n上的计算时间。定义一个取值为0或1的变量ρmnt，ρmnt=1表示任务fmt在边缘节点n上是第i个计算任务；ρmnt=0表示任务fmt在边缘节点n上不是第i个计算任务；若任务fmt在边缘节点n上是第i个计算任务，则任务fmt的在边缘节点n上的计算等待时间Tq_fmt为：；；；其中，amnt表示任务fmt到达边缘节点n的时隙；F表示在时隙k内同时到达边缘节点n的任务集合，k=1,...amnt；fm*t*为任务集合F中的任务；Tq_fm*t*表示任务fm*t*在边缘节点n上的计算等待时间，Tc_fm*t*表示任务fm*t*在边缘节点n上的计算时间，t*表示任务fm*t*的时隙；对于在同一计算边缘节上进行计算的多个任务，按照任务响应比由大到小的顺序进行任务计算次序由前到后排序，确定各个任务的计算次序；其中，任务fmt的响应比为/Tc_fmt。任务fmt的在边缘节点n上的计算时间Tc_fmt为：Tc_fmt=Qmt/C；其中，Qmt为任务fmt完成计算所需要的CPU周期数，C为边缘节点的计算能力，每个边缘节点计算能力相同。根据上述分析，得到任务fmt的总处理时间Tt_fmt后，判断任务fmt是否能够在延迟约束时间内完成，即要求任务fmt的总处理时间Tt_fmt小于该任务fmt的延迟约束时间Tmax_fmt，定义一个取值为0或1的变量μmt，若μmt=1，则表示任务fmt能在延迟约束时间完成，即Tt_fmt≤Tmax_fmt，若μmt=0，则表示任务fmt不能在延迟约束时间完成，即Tt_fmt＞Tmax_fmt。其中，Tmax_fmt表示任务fmt的延迟约束时间。优化目标是通过分配决策，即通过确定传输过程中的变量Amt和θmnt和计算过程中的变量Bmt和ρmyt的取值，使得时间段T内在延迟约束时间内完成传输和计算的任务数量最大化，优化目标表示为：；约束条件除了上述模型公式之外还包括：；；；在约束条件中，第一个约束条件是整个模型结构，第二个约束条件表示对于所有的任务，只能选择一个边缘节点传输或者计算；第三个约束条件表示对于所有的任务，只能选取一个批次进行传输；第四个约束条件表示对于所有的任务，只能选取一个计算次序开始计算。在模型中，Amt和θmnt为传输过程中的优化变量，Bmt和ρmnt是计算过程中的优化变量，根据模型公式可以知道Amt和θmnt相乘。此外，Amt和θmnt是取值为0或1的变量，Bmt和ρmnt之间的关系与Amt和θmnt相似，因此这些变量的求解是一个整数非线性优化问题，本发明用启发式方法来解决这些变量的求解。通过进一步的分析可以发现，传输过程和计算过程之间的关联很小，则可以分别求解这两个过程中的优化变量。本发明设计了渐近推理贪婪策略算法，首先解决传输过程中的变量Amt和θmnt，然后解决计算过程中的变量Bmt和ρmnt。具体步骤如下所示：S1，车辆产生任务时，选择车辆当前所在位置的边缘节点作为任务进行传输的边缘节点即传输边缘节点。S2，针对多个车辆同时产生的任务，确定各个任务的传输边缘节点；对于传输给同一传输边缘节点的多个任务，按照任务信道增益由小到大的顺序对任务进行叠加编码，并根据NOMA通信中SINR的阈值要求，对多个任务进行分批次传输，确定各个任务的传输批次。S3，得到各个任务的传输边缘节点和传输批次后，判断各个任务在传输过程中车辆是否会驶离对应的传输边缘节点，若某任务在传输过程中车辆会驶离对应的传输边缘节点，则重新选择该任务的传输边缘节点，选择沿车辆行进方向的下一边缘节点作为该任务的传输边缘节点；否则，不重新选择该任务的传输边缘节点；根据重新选择后的各个任务的传输边缘节点，对于传输给同一传输边缘节点的多个任务，再次按照任务信道增益由小到大的顺序对任务进行叠加编码，并根据NOMA通信中SINR的阈值要求，对多个任务进行分批次传输，重新确定各个任务的传输批次；直到所有任务在传输过程中车辆均不会驶离对应的传输边缘节点，此时得到的各个任务的传输边缘节点和传输批次为最优解。步骤S3中，根据任务的传输边缘节点和传输批次，计算任务完成传输所需的处理时间；根据车辆当前所在的位置以及行驶速度，计算车辆驶离传输边缘节点覆盖范围的时间；若任务完成传输所需的处理时间大于车辆驶离传输边缘节点覆盖范围的时间，则表示任务在传输过程中车辆会驶离对应的传输边缘节点；否则，表示任务在传输过程中车辆不会驶离对应的传输边缘节点。S4，确定各个任务的传输边缘节点和传输批次的最优解后，选择传输边缘节点作为任务进行计算的边缘节点即计算边缘节点；S5，根据各个任务的计算边缘节点，对于在同一计算边缘节上进行计算的多个任务，按照任务响应比由大到小的顺序进行任务计算次序由前到后排序，确定各个任务的计算次序；S6，得到各个任务的计算边缘节点和计算次序后，判断车辆在延迟约束时间内是否能到达沿车辆行进方向的下一边缘节点，以及判断任务能否在延迟约束时间内完成传输和计算，若某任务不能在延迟约束时间内完成且车辆在延迟约束时间内能到达沿车辆行进方向的下一边缘节点，则重新选择该任务的计算边缘节点，选择沿车辆行进方向的下一边缘节点作为任务的计算边缘节点；否则，不重新选择该任务的计算边缘节点；根据重新选择后的各个任务的计算边缘节点，对于在同一计算边缘节上进行计算的多个任务，再次按照任务响应比由大到小的顺序进行任务计算次序由前到后排序，重新确定各个任务的计算次序；直到任务能在延迟约束时间内完成传输和计算，或者车辆在延迟约束时间内不能到达沿车辆行进方向的下一边缘节点，此时得到的任务的计算边缘节点和计算次序为最优解。步骤S6中，根据任务的传输边缘节点和传输批次，计算任务完成传输所需的处理时间；根据任务的计算边缘节点和计算次序，计算任务完成计算所需的处理时间；若任务完成传输和计算过程所需的总处理时间大于延迟约束时间，则表示任务不能在延迟约束时间内完成传输和计算；否则，表示任务能在延迟约束时间内完成传输和计算。步骤S6中，根据车辆当前所在的位置以及行驶速度，计算车辆沿行进方向行驶进入下一边缘节点覆盖范围的时间；若行驶进入下一边缘节点覆盖范围的时间大于延迟约束时间，则表示车辆在延迟约束时间内不能到达沿车辆行进方向的下一边缘节点；否则，表示车辆在延迟约束时间内能到达沿车辆行进方向的下一边缘节点。本实施例进行实验仿真的参数如下所示：车辆发射功率p=100mW，车辆速度为40～60km/h，SINR需满足的设定阈值β=1，高斯白噪声No=-100dBm，上行带宽即传输带宽W=5～10MHz，边缘节点计算能力C=5～10GHz，延迟约束时间Tmax=1～3s，任务的传输数据量D=5～10Mbits，任务完成计算所需要的CPU周期数Q=1000～10Megacycles。本实例中，将本发明的任务处理方法与其他的任务处理方法进行对比，包括：在传输过程中采用正交多址方式的任务处理方法，在传输过程的传输批次和在计算过程中计算次序都是随机的的任务处理方法，采用先来先服务的任务处理方法。在边缘节点计算能力C=7.5GHz，传输带宽W=7.5MHz的情况下，针对30个时隙内的不同任务数量，分别计算各个任务处理方法在延迟约束时间内完成任务处理的总数量，结果如图3所示。针对30个时隙内的不同任务数量，分别计算各个任务处理方法的任务平均总处理时间即平均执行时间，结果如图4所示。在边缘节点计算能力C=7.5GHz，任务总数为300的情况下，针对不同传输带宽，分别计算各个任务处理方法在延迟约束时间内完成任务处理的总数量，结果如图5所示。在传输带宽W=7.5MHz，任务总数为300的情况下，针对不同的边缘节点计算能力，分别计算各个任务处理方法在延迟约束时间内完成任务处理的总数量，结果如图6所示。图3-图6中，AIGS表示本发明的任务处理方法，OMA-AIGS表示传输过程中采用正交多址方式的任务处理方法，Random表示在传输过程的传输批次和在计算过程中计算次序都是随机的的任务处理方法，FCFS表示采用先来先服务的任务处理方法。根据对比分析可知，本发明将NOMA通信方式应用到车联网中，提高通信速度，减少通信延迟，并且根据车辆的移动性，通过多个边缘节点协作计算任务，有效降低计算延迟，两者结合可实现成功执行的任务数量最大化。以上仅为本发明创造的较佳实施例而已，并不用以限制本发明创造，凡在本发明创造的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明创造的保护范围之内。
