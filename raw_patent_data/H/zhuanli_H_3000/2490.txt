标题title
服务性能指标效应值计算方法及装置
摘要abst
本申请公开了一种服务性能指标效应值计算方法及装置，该服务性能指标效应值计算方法包括：接收SLA指令；响应于SLA指令的触发，向数据库服务平台发送SLA请求，SLA请求用于指示数据库服务平台运行相应的目标数据库的服务；获取数据库服务平台返回的服务参数；根据服务参数及预设的评估算法，计算数据库服务平台的服务性能指标效应值。本申请通过SLA指令触发自动发送SLA请求至数据库服务平台，再根据返回的服务参数计算出当前服务实时的服务性能指标效应值，从而可以实时知晓当前服务下的数据库服务平台是否满足相应的SLA，以便后续做出相应的操作为用户提供更好的服务。并且，还可以将服务水平进行量化，进一步提高用户的体验。
权利要求书clms
1.一种服务性能指标效应值计算方法，其特征在于，包括：接收SLA指令；响应于SLA指令的触发，向数据库服务平台发送SLA请求，所述SLA请求用于指示所述数据库服务平台运行相应的目标数据库的服务；获取所述数据库服务平台返回的服务参数；根据所述服务参数及预设的评估算法，计算所述数据库服务平台的服务性能指标效应值。2.如权利要求1所述的服务性能指标效应值计算方法，其特征在于，所述服务参数包括所述目标数据库的服务可用时间、服务故障响应时间、服务故障解决时间。3.如权利要求2所述的服务性能指标效应值计算方法，其特征在于，所述获取所述数据库服务平台返回的服务参数，包括：判断与所述目标数据库的服务是否正常运行，在正常运行时记录所述目标数据库相应的所述服务可用时间；在非正常运行时，判断服务是否处于故障响应状态；若处于故障响应状态，记录所述目标数据库相应的所述服务故障响应时间；若不处于所述故障响应状态，记录所述目标数据库相应的所述服务故障解决时间。4.如权利要求1所述的服务性能指标效应值计算方法，其特征在于，所述评估算法的算式包括：其中，所述服务参数包括所述目标数据库的服务可用时间、服务故障响应时间、服务故障解决时间；为所述目标数据库的服务可用时间比，为所述目标数据库的服务故障响应时间比，为所述目标数据库的服务故障解决时间比；为服务可用时间比的敏感度，为参数的权重；为服务故障响应时间比的敏感度，为参数的权重；为服务故障解决时间比的敏感度，为参数的权重；为所述服务性能指标效应值。5.如权利要求4所述的服务性能指标效应值计算方法，其特征在于，所述SLA请求用于指示所述数据库服务平台运行多个目标数据库的服务时，所述评估算法的算式包括：其中，为第n个所述目标数据库的服务可用时间比，为第n个所述目标数据库的服务故障响应时间比，为第n个所述目标数据库的服务故障解决时间比。6.如权利要求1所述的服务性能指标效应值计算方法，其特征在于，所述获取所述数据库服务平台返回的服务参数之后，还包括：判断所述服务参数的账号信息与预设账号信息是否一致；在不一致时，重新向所述数据库服务平台发送所述SLA请求，并返回至获取所述数据库服务平台返回的服务参数的步骤。7.如权利要求1所述的服务性能指标效应值计算方法，其特征在于，所述响应于SLA指令的触发，向数据库服务平台发送SLA请求包括：按照预设时间间隔向所述数据库服务平台发送所述SLA请求。8.如权利要求1所述的服务性能指标效应值计算方法，其特征在于，还包括：根据所述服务性能指标效应值，实时更新所述数据库服务平台的服务等级。9.一种服务性能指标效应值计算装置，其特征在于，包括：SLA指令接收模块，用于接收SLA指令；SLA请求发送模块，用于响应于SLA指令的触发，向数据库服务平台发送SLA请求，所述SLA请求用于指示所述数据库服务平台运行相应的目标数据库的服务；服务参数获取模块，用于获取所述数据库服务平台返回的服务参数；效应值获取模块，用于根据所述服务参数及预设的评估算法，获得所述数据库服务平台的服务性能指标效应值。10.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有计算机程序，当所述计算机程序被处理器执行时，使所述处理器执行如权利要求1至8中任一项所述的服务性能指标效应值计算方法。
说明书desc
技术领域本申请涉及数据库计算技术领域，具体涉及一种服务性能指标效应值计算方法及装置。背景技术现有的数据库服务平台，根据用户的需求提供相应的数据库服务，并确保服务质量以及服务的可靠性。目前确保服务质量以及服务的可靠性一般通过SLA来实现。但是，由于数据库服务在运行中的不确定性，可能会引起服务质量的变化，导致当前的服务不满足相应的SLA，在用户端则会有明显体验度下降的情况。发明内容鉴于此，本申请提供一种服务性能指标效应值计算方法、装置及计算机可读存储介质，可以实时知晓当前服务下的数据库服务平台是否满足相应的SLA，以便后续做出相应的操作为用户提供更好的服务。本申请技术方案如下：第一方面，本申请提供一种服务性能指标效应值计算方法，包括：接收SLA指令；响应于SLA指令的触发，向数据库服务平台发送SLA请求，所述SLA请求用于指示所述数据库服务平台运行相应的目标数据库的服务；获取所述数据库服务平台返回的服务参数；根据所述服务参数及预设的评估算法，计算获得所述数据库服务平台的服务性能指标效应值。在一种可能的实施方式中，所述响应于SLA指令的触发，向数据库服务平台发送SLA请求包括：按照预设时间间隔向所述数据库服务平台发送所述SLA请求。在一种可能的实施方式中，所述服务参数包括所述目标数据库的服务可用时间、服务故障响应时间、服务故障解决时间。在一种可能的实施方式中，所述获取所述数据库服务平台返回的服务参数，包括：判断与所述目标数据库的服务是否正常运行，在正常运行时记录所述目标数据库相应的所述服务可用时间；在非正常运行时，判断服务是否处于故障响应状态；若处于故障响应状态，记录所述目标数据库相应的所述服务故障响应时间；若不处于所述故障响应状态，记录所述目标数据库相应的所述服务故障解决时间。在一种可能的实施方式中，所述评估算法的算式包括：其中，所述服务参数包括所述目标数据库的服务可用时间、服务故障响应时间、服务故障解决时间；为所述目标数据库的服务可用时间比，为所述目标数据库的服务故障响应时间比，为所述目标数据库的服务故障解决时间比；为服务可用时间比的敏感度，为参数的权重；为服务故障响应时间比的敏感度，为参数的权重；为服务故障解决时间比的敏感度，为参数的权重；为所述服务性能指标效应值。在一种可能的实施方式中，所述SLA请求用于指示所述数据库服务平台运行多个目标数据库的服务时，所述评估算法的算式包括：其中，为第n个所述目标数据库的服务可用时间比，为第n个所述目标数据库的服务故障响应时间比，为第n个所述目标数据库的服务故障解决时间比。在一种可能的实施方式中，所述获取所述数据库服务平台返回的服务参数之后，还包括：判断所述服务参数的账号信息与预设账号信息是否一致；在不一致时，重新向所述数据库服务平台发送所述SLA请求，并返回至获取所述数据库服务平台返回的服务参数的步骤。在一种可能的实施方式中，还包括：根据所述服务性能指标效应值，实时更新所述数据库服务平台的服务等级。第二方面，本申请还提供一种服务性能指标效应值计算装置，包括：SLA指令接收模块，用于接收SLA指令；SLA请求发送模块，用于响应于SLA指令的触发，向数据库服务平台发送SLA请求，所述SLA请求用于指示所述数据库服务平台运行相应的目标数据库的服务；服务参数获取模块，用于获取所述数据库服务平台返回的服务参数；效应值获取模块，用于根据所述服务参数及预设的评估算法，计算获得所述数据库服务平台的服务性能指标效应值。第三方面，本申请提供一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，当所述计算机程序被处理器执行时，使所述处理器执行上述的服务性能指标效应值计算方法。本申请提供的技术方案带来的有益效果至少包括：在本申请一个或多个实施例中，通过SLA指令触发自动发送SLA请求至数据库服务平台，再根据返回的服务参数计算出当前服务实时的服务性能指标效应值，从而可以实时知晓当前服务下的数据库服务平台是否满足相应的SLA，以便后续做出相应的操作为用户提供更好的服务。并且，通过计算实时的服务性能指标效应值，可以将数据库服务平台的服务水平进行量化，以便将量化后的实时服务水平反馈给用户，以进一步提高用户的体验。附图说明图1是本申请实施例提供的一种数据库服务平台的结构示意图。图2是本申请实施例提供的一种服务性能指标效应值计算方法的流程示意图。图3是本申请实施例提供的一种获取服务参数方式的流程示意图。图4是本申请实施例提供的一种服务性能指标效应值计算方法的流程示意图。图5是本申请实施例提供的一种服务性能指标效应值计算方法的流程示意图。图6是本申请实施例提供的一种服务性能指标效应值计算装置的结构示意图。具体实施方式需要说明的是，本申请实施例中“至少一个”是指一个或者多个，“多个”是指两个或多于两个。“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B可以表示：单独存在A，同时存在A和B，单独存在B的情况，其中A，B可以是单数或者复数。本申请的说明书和权利要求书及附图中的术语“第一”、“第二”、“第三”、“第四”等是用于区别类似的对象，而不是用于描述特定的顺序或先后次序。另外需要说明的是，本申请实施例中公开的方法或流程图所示出的方法，包括用于实现方法的一个或多个步骤，在不脱离权利要求的范围的情况下，多个步骤的执行顺序可以彼此互换，其中某些步骤也可以被删除。本申请实施例中，SLA即为服务级别协议，即提供服务的服务供应端与用户或用户端之间就服务的品质、水准以及性能等方面所达成的协议，下文同一采用SLA表述。请参考图1，图1示例性示出了本申请实施例提供的一种数据库服务平台的结构示意图。如图1所示，该数据库服务平台100包括SLA接口110，以及与该SLA接口连接的多个数据库120，其中，该SLA接口110还与数据库服务平台100外的服务供应端101连接。其中，当用户向服务供应端101发起业务服务的请求时，服务供应端101可以向数据库服务平台100发送相应的SLA请求。数据库服务平台100通过SLA接口110接收该SLA请求后，匹配相应的数据库120提供给服务供应端101，最终由该服务供应端101选择合适的数据库120为用户提供相应的业务服务。而该SLA请求中包含有服务供应端101与用户之间协议好的服务指标，包括数据库的可靠性、数据库服务平台的访问可靠性以及网络可靠性等，这些指标可以通过实际的参数进行定义，例如包括数据库服务的可用时间，以及数据库服务的不可用时间等。其中，在服务供应端101选择匹配的数据库120为用户进行业务服务后，由于服务在运行中的不确定性，可能会引起服务质量的变化，导致当前的服务不满足相应的SLA，在用户端则会有明显体验度下降的情况。而引起服务质量变化的主要原因来自于数据库服务平台100，例如当前的服务为视频服务，服务供应端101一开始选择相应的符合SLA的数据库120提供视频流服务，随着时间流逝，该数据库120可能会产生服务故障，这时候的视频服务将不满足相应的SLA。因此，在服务供应端101为用户提供业务服务时，需要实时知晓数据库服务平台100是否满足SLA，以即时做出维护，从而为客户提供更好的服务。接下来，结合图1介绍本申请实施例提供的一种服务性能指标效应值计算方法。具体参考图2，为本申请实施例提供的一种服务性能指标效应值计算方法的流程示意图，该服务性能指标效应值计算方法可应用于服务供应端101，具体包括以下步骤：步骤S201：接收SLA指令。步骤S202：响应于SLA指令的触发，向数据库服务平台发送SLA请求，SLA请求用于指示数据库服务平台运行相应的目标数据库的服务。本申请实施例中，在服务供应端101可以设置有触发发送SLA请求的SLA指令，在SLA指令触发后向提供服务的数据库服务平台发送SLA请求。其中，该SLA请求为根据服务供应端101当前服务的用户的SLA生成。可以理解的是，该服务提供端101可以同时为多个用户进行服务，例如该服务提供端101为一个服务器，或者服务器集群时，内部存储有不同用户对应的SLA，在触发SLA指令时可以根据用户对应的SLA生成相应的SLA请求，或者还可以在服务提供端101中预先存储有用户的SLA对应的SLA请求，在触发SLA指令后直接调用并发送至提供服务的数据库服务平台100。其中，该SLA指令可以为按时发送SLA请求的控制指令，例如服务供应端101可以按照预设的时间间隔，触发发送SLA请求的操作。或者，服务供应端101的维护人员通过操作端口发送指令，控制该服务供应端101发送相应的SLA请求至数据库服务平台100。步骤S203：获取数据库服务平台返回的服务参数。本申请实施例中，该SLA请求的内容主要是针对用户的SLA，服务供应端101通过获取数据库服务平台100对SLA请求的响应所产生的服务参数，从而根据参数去判断数据库服务平台100的服务是否满足当前SLA。因此，该SLA请求可以是一些针对用户当前所享受的服务相关的一些目标数据库的操作请求，例如与目标数据库建立连接并进行一定时间的读写，读写数据期间产生的读写速度等服务参数都可以去判断是否满足SLA。步骤S204：根据服务参数及预设的评估算法，计算数据库服务平台的服务性能指标效应值。本申请实施例中，服务供应端101在获取到数据库服务平台100返回的SLA请求相应的服务参数后，将利用预先存储的评估算法计算出该数据库服务平台110相对应服务的服务性能指标效应值。可以理解的是，每个用户所要求的服务可能不同，针对不同的服务在服务供应端101中可以存储有相对应的评估算法，这里不做限定。本申请实施例中，服务供应端101通过SLA指令触发自动发送SLA请求至数据库服务平台100，再根据返回的服务参数计算出当前服务实时的服务性能指标效应值，从而可以使服务供应端101实时知晓当前服务下的数据库服务平台100是否满足相应的SLA，以便后续做出相应的操作为用户提供更好的服务。并且，通过计算实时的服务性能指标效应值，可以将数据库服务平台的服务水平进行量化，以便服务供应端101可以将量化后的实时服务水平反馈给用户，以进一步提高用户的体验。示例性地，如图3所示，为本申请实施例提供的一种获取服务参数方式的流程示意图，其中，该服务参数包括目标数据库的服务可用时间、服务故障响应时间、服务故障解决时间，具体包括以下步骤：步骤S301：判断与目标数据库的服务是否正常运行，在正常运行时记录目标数据库相应的服务可用时间。本申请实施例中，服务供应端101的SLA请求可以是对目标数据库的服务请求，例如服务供应端101可以通过发送SLA请求至数据库服务平台100，请求与该目标数据库建立连接并进行数据读写的服务。即在目标数据库的读写服务下，上述服务可用时间为与目标数据库建立连接并读写数据成功时，读写服务持续的时间。同样地，上述服务故障响应时间可以为与目标数据库建立连接或者请求读写数据失败后，提出问题工单至数据库服务平台100，该数据库服务平台100响应问题工单前的持续时间。而上述服务故障解决时间则可以为数据库服务平台100解决问题工单的持续时间。在目标数据库运行服务的期间，服务供应端100通过返回来的服务参数判断该服务是否在正常运行。在服务正常运行的情况下，记录服务正常运行的服务可用时间。步骤S302：在非正常运行时，判断服务是否处于故障响应状态。步骤S303：若处于故障响应状态，记录目标数据库相应的服务故障响应时间。本申请实施例中，在目标数据库的服务非正常运行时，服务供应端101可以检测目标数据库的服务是否处于故障响应状态。例如，在目标数据库提供读写数据服务下，服务供应端101尝试与目标数据库建立连接失败，或者建立连接后尝试读写数据失败，均可确定的目标数据库的读写数据服务处于故障状态。在故障状态下，服务供应端101可以发送问题工单至数据库服务平台100，而数据库服务平台100未对问题工单做出响应时，确定处于故障响应状态。步骤S304：若不处于故障响应状态，记录目标数据库相应的服务故障解决时间。本申请实施例中，在目标数据库的服务非正常运行且不处于故障响应状态时，则说明数据库服务平台100正在处理针对目标数据库的故障问题工单。例如，在上述目标数据库的读写服务下，提出的问题工单该数据库服务平台100已在解决，则可记录响应的服务故障解决时间，直至可以与目标数据库建立连接，并进行读写数据的服务。本申请实施例中，通过上述步骤获取到数据库服务平台100的服务参数后，即获得目标数据库的服务可用时间、服务故障响应时间、服务故障解决时间后，利用该服务可用时间、服务故障响应时间、服务故障解决时间通过预设的评估算法即可计算出该数据库服务平台100当前的服务性能指标效应值。通过实时更新该服务性能指标效应值，服务供应端101即可实时知晓数据库服务平台100提供的服务是否还满足当前的SLA。其中，利用服务可用时间、服务故障响应时间、服务故障解决时间进行服务性能指标效应值计算的评估算法可以包括第一函数及第二函数，通过第一函数计算出该数据库服务平台100提供服务的目标数据库的服务可用时间比、服务故障响应时间比以及服务故障解决时间比，具体算式为：其中，服务参数包括目标数据库的服务可用时间、服务故障响应时间、服务故障解决时间；为目标数据库的服务可用时间比，为目标数据库的服务故障响应时间比，为目标数据库的服务故障解决时间比。在计算出服务可用时间比、服务故障响应时间比以及服务故障解决时间比后，利用服务可用时间比、服务故障响应时间比以及服务故障解决时间比经过第二函数计算出该数据库服务平台100的服务性能指标效应值，具体算式为：其中，为服务可用时间比的敏感度，为参数的权重；为服务故障响应时间比的敏感度，为参数的权重；为服务故障解决时间比的敏感度，为参数的权重；为服务性能指标效应值。本申请实施例中，用户要求的服务可能存在需要多个目标数据库协同才可以完成，而计算数据库服务平台100在该服务下的服务性能指标效应值也需要将相应的多个目标数据库的服务参数考虑进来。结合上述的评估算法的算式，对于完成服务需要多个目标数据库协同下，及服务供应端101对应的SLA请求用于指示数据库服务平台运行多个目标数据库的服务时，该评估算法的算式包括：其中，为第n个目标数据库的服务可用时间比，为第n个目标数据库的服务故障响应时间比，为第n个目标数据库的服务故障解决时间比。接下来，结合图1介绍本申请实施例提供的一种服务性能指标效应值计算方法。具体参考图4，为本申请实施例提供的一种服务性能指标效应值计算方法的流程示意图，该服务性能指标效应值计算方法可应用于服务供应端101，具体包括以下步骤：步骤S401：接收SLA指令。步骤S402：响应于SLA指令的触发，向数据库服务平台发送SLA请求，SLA请求用于指示数据库服务平台运行相应的目标数据库的服务。此步骤与上述步骤S202一致，在此不再赘述。步骤S403：获取数据库服务平台返回的服务参数。此步骤与上述步骤S203一致，在此不再赘述。步骤S404：判断服务参数的账号信息与预设账号信息是否一致。本申请实施例中，服务供应端101在接收到数据库服务平台100响应SLA请求二返回的服务参数后，还可以先对该服务参数进行验证，验证服务参数的账号信息是否与预设账号信息一致，即验证返回的服务参数是否属于对应的一个用户。其中，该账号信息可以为用户的账号ID等，这里不做限定。步骤S405：在不一致时，重新向数据库服务平台发送SLA请求，并返回至获取数据库服务平台返回的服务参数的步骤。本申请实施例中，服务供应端101在确定从数据库服务平台100获取到的服务参数的账号信息与预设账号信息不一致时，即发送的SLA请求与服务参数对应不上，该服务供应端可以重新想数据库服务平台发送SLA请求，并再次去获取数据库服务平台返回的服务参数。通过上述步骤可以确保最终可以计算出当前服务下该数据库服务平台100的服务性能指标效应值。步骤S406：根据服务参数及预设的评估算法，计算数据库服务平台的服务性能指标效应值。此步骤与上述步骤S204一致，在此不再赘述。其中，服务供应端101在获取到据库服务平台100的最新的服务性能指标效应值后，可以与预设值进行比较，从而判断是否满足SLA要求。或者也可以实时将量化的服务性能指标效应值发送至用户，使用户可以清楚了解当前的服务是否满足SLA，从而提高用户体验。接下来，结合图1介绍本申请实施例提供的一种服务性能指标效应值计算方法。具体参考图5，为本申请实施例提供的一种服务性能指标效应值计算方法的流程示意图，该服务性能指标效应值计算方法可应用于服务供应端101，具体包括以下步骤：步骤S501：按照预设时间间隔向数据库服务平台发送SLA请求。本申请实施例中，服务供应端101在为用户服务的过程中，就当前的服务下可以按照预设时间间隔向数据库服务平台发送相应的SLA请求，以获取服务参数计算相应的服务性能指标效应值，实时获得最新的服务性能指标效应值，以便在服务性能指标效应值反映不满足SLA时，可以及时做出相应措施维护用户的服务体验。步骤S502：获取数据库服务平台返回的服务参数。此步骤与上述步骤S203一致，在此不再赘述。步骤S503：根据服务参数及预设的评估算法，获得数据库服务平台的服务性能指标效应值。此步骤与上述步骤S204一致，在此不再赘述。步骤S504：根据服务性能指标效应值，实时更新数据库服务平台的服务等级。本申请实施例中，服务供应端101根据服务性能指标效应值还可以生成相应的服务等级，例如定义服务性能指标效应值的区间为等级3等，这里不做限定。实时利用最新的服务性能指标效应值区更新数据库服务平台100的服务等级，并且该服务等级可以发送至用户，使用户可以直观了解当前服务的服务水平和质量。请参见图6，为本申请实施例提供的一种服务性能指标效应值计算装置的结构示意图，如图6所示，该服务性能指标效应值计算装置600包括：SLA指令接收模块610，用于接收SLA指令；SLA请求发送模块620，用于响应于SLA指令的触发，向数据库服务平台发送SLA请求，SLA请求用于指示数据库服务平台运行相应的目标数据库的服务；服务参数获取模块630，用于获取数据库服务平台返回的服务参数；效应值获取模块640，用于根据服务参数及预设的评估算法，获得数据库服务平台的服务性能指标效应值。本申请实施例中，上述各个模块更加详细的功能描述可以参考前述部分相应的内容，在此不再赘述。本申请实施例还提供了一种计算机可读存储介质，该计算机可读存储介质存储有计算机程序，当该计算机程序被处理器执行时，使处理器执行上述的服务性能指标效应值计算方法。上述服务性能指标效应值计算装置各组成模块如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在所述存储介质中。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机程序指令时，全部或部分地产生按照本申请实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者通过所述计算机可读存储介质进行传输。所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线）或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质，、光介质、或者半导体介质）等。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，可以通过计算机程序来指令相关的硬件来完成，该程序可存储于计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。而前述的存储介质包括：ROM、RAM、磁碟或者光盘等各种可存储程序代码的介质。在不冲突的情况下，本实施例和实施方案中的技术特征可以任意组合。以上所述的实施例仅仅是本申请的优选实施例方式进行描述，并非对本申请的范围进行限定，在不脱离本申请的设计精神的前提下，本领域普通技术人员对本申请的技术方案作出的各种变形及改进，均应落入本申请的权利要求书确定的保护范围内。
