标题title
自动驾驶地图中车-路-云三端数据的交互方法及设备
摘要abst
本发明提供一种自动驾驶地图中车‑路‑云三端数据的交互方法及设备。所述方法包括：步骤1：定义“车‑路‑云”数据的接收与发送内容；步骤2：对于“车‑路‑云”三端交互数据，采用数据流的形式进行传输；步骤3：在车路、车云、路云之间的数据交互中，不同类型的交互距离和场景不同，据此设定不同的数据传输模式；步骤4：规定各数据的属性字段类型。本发明通过定义不同端的数据传输内容以及接口协议，实现不同数据在各端之间的交互，提高了三端数据的传输效率。
权利要求书clms
1.一种自动驾驶地图中车-路-云三端数据的交互方法，其特征在于，包括：步骤1：定义“车-路-云”数据的接收与发送内容；步骤2：对于“车-路-云”三端交互数据，采用数据流的形式进行传输；步骤3：在车路、车云、路云之间的数据交互中，不同类型的交互距离和场景不同，其通信方式也不相同，对于车路交互来说，交互距离短、交互场景切换快，设定一数据传输模式；步骤4：规定一数据的属性字段类型。2.根据权利要求1所述的自动驾驶地图中车-路-云三端数据的交互方法，其特征在于，步骤1具体包括：车端接收云端的静态数据和道路实时数据以及路端的RSU数据，并向云端发送车端传感器数据、车端通信数据和自车信息；路端接收云端的管控信息，并向车端与云端发送路侧单元RSU数据；云端接收车端传感器数据、车端通信数据和自车信息和路侧单元RSU数据，并向车端发送静态数据、道路实时数据，向路端发送管控信息。3.根据权利要求2所述的自动驾驶地图中车-路-云三端数据的交互方法，其特征在于，步骤2具体包括：数据流中有三部分，分别为请求消息、应答消息以及数据帧；在一次传输过程中，当请求建立后，此数据流中的数据帧不间断、序列化传输，在请求消息中明确接收方来源，在应答消息中明确发送方状态，数据帧中同样会增加一个字段用来为数据的来源，此字段与数据内容封装在一起，用来区分车端数据、云端数据和路端数据。4.根据权利要求3所述的自动驾驶地图中车-路-云三端数据的交互方法，其特征在于，步骤3具体包括：当客户端与服务端匹配后，服务端将数据帧打包一次性传输，传输之后断开连接，客户端对接收的数据进行重新组织；对于车云交互和路云交互来说，交互距离远，交互场景相对固定，设定另一种传输模式：当客户端吧与服务端匹配后，两者之间的传输连接一直建立，只要有新的数据，两者之间立即传输。5.根据权利要求4所述的自动驾驶地图中车-路-云三端数据的交互方法，其特征在于，步骤4具体包括：在信息交互中，数据是以结构化的形式进行表达，为保证数据在车-路-云三端交互，对三端数据进行全局约束，规定其数据结构，包括数据的标识码、数据类型、属性值。6.一种自动驾驶地图中车-路-云三端数据的交互装置，其特征在于，包括：第一主模块，用于实现步骤1：定义“车-路-云”数据的接收与发送内容；第二主模块，用于实现步骤2：对于“车-路-云”三端交互数据，采用数据流的形式进行传输；第三主模块，用于实现步骤3：在车路、车云、路云之间的数据交互中，不同类型的交互距离和场景不同，其通信方式也不相同，对于车路交互来说，交互距离短、交互场景切换快，设定一数据传输模式；第四主模块，用于实现步骤4：规定一数据的属性字段类型。7.一种电子设备，其特征在于，包括：至少一个处理器、至少一个存储器和通信接口；其中，所述处理器、存储器和通信接口相互间进行通信；所述存储器存储有被所述处理器执行的程序指令，所述处理器调用所述程序指令，以执行权利要求1至5任一项权利要求所述的方法。8.一种非暂态计算机读存储介质，其特征在于，所述非暂态计算机读存储介质存储计算机指令，所述计算机指令使所述计算机执行权利要求1至5中任一项权利要求所述的方法。
说明书desc
技术领域本发明实施例涉及汽车自动驾驶技术领域，尤其涉及一种自动驾驶地图中车-路-云三端数据的交互方法及设备。背景技术自动驾驶技术已是当前的许多行业研究的热点技术，地图作为自动驾驶的关键技术，对于自动驾驶的应用具有重要的意义。地图不同于以往传统的导航地图，具有更高的数据精度，更广的数据维度以及更快的更新速度。因此地图的数据来源并不单一，对于不同来源的数据来说，数据之间的交互成为地图融合数据的难点之一。在自动驾驶地图中，数据的来源与交互在车端、路端、云端之间进行，随着自动驾驶技术的需求的提高，对于“车-路-云”三端数据传输的可行性与传输效率有更高需求。因此，开发一种自动驾驶地图中车-路-云三端数据的交互方法及设备，有效克服上述相关技术中的缺陷，就成为业界亟待解决的技术问题。发明内容针对现有技术存在的上述问题，本发明实施例提供一种自动驾驶地图中车-路-云三端数据的交互方法及设备。第一方面，本发明的实施例提供一种自动驾驶地图中车-路-云三端数据的交互方法，包括：步骤1：定义“车-路-云”数据的接收与发送内容；步骤2：对于“车-路-云”三端交互数据，采用数据流的形式进行传输；步骤3：在车路、车云、路云之间的数据交互中，不同类型的交互距离和场景不同，其通信方式也不相同，对于车路交互来说，交互距离短、交互场景切换快，设定一数据传输模式；步骤4：规定一数据的属性字段类型。在上述方法实施例内容的基础上，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互方法，步骤1具体包括：车端接收云端的静态数据和道路实时数据以及路端的RSU数据，并向云端发送车端传感器数据、车端通信数据和自车信息；路端接收云端的管控信息，并向车端与云端发送路侧单元RSU数据；云端接收车端传感器数据、车端通信数据和自车信息和路侧单元RSU数据，并向车端发送静态数据、道路实时数据，向路端发送管控信息。在上述方法实施例内容的基础上，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互方法，步骤2具体包括：数据流中有三部分，分别为请求消息、应答消息以及数据帧；在一次传输过程中，当请求建立后，此数据流中的数据帧不间断、序列化传输，在请求消息中明确接收方来源，在应答消息中明确发送方状态，数据帧中同样会增加一个字段用来为数据的来源，此字段与数据内容封装在一起，用来区分车端数据、云端数据和路端数据。在上述方法实施例内容的基础上，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互方法，步骤3具体包括：当客户端与服务端匹配后，服务端将数据帧打包一次性传输，传输之后断开连接，客户端对接收的数据进行重新组织；对于车云交互和路云交互来说，交互距离远，交互场景相对固定，设定另一种传输模式：当客户端吧与服务端匹配后，两者之间的传输连接一直建立，只要有新的数据，两者之间立即传输。在上述方法实施例内容的基础上，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互方法，步骤4具体包括：在信息交互中，数据是以结构化的形式进行表达，为保证数据在车-路-云三端交互，对三端数据进行全局约束，规定其数据结构，包括数据的标识码、数据类型、属性值。第二方面，本发明的实施例提供一种自动驾驶地图中车-路-云三端数据的交互装置，包括：第一主模块，用于实现步骤1：定义“车-路-云”数据的接收与发送内容；第二主模块，用于实现步骤2：对于“车-路-云”三端交互数据，采用数据流的形式进行传输；第三主模块，用于实现步骤3：在车路、车云、路云之间的数据交互中，不同类型的交互距离和场景不同，其通信方式也不相同，对于车路交互来说，交互距离短、交互场景切换快，设定一数据传输模式；第四主模块，用于实现步骤4：规定一数据的属性字段类型。第三方面，本发明的实施例提供一种电子设备，包括：至少一个处理器；以及与处理器通信连接的至少一个存储器，其中：存储器存储有被处理器执行的程序指令，处理器调用程序指令能够执行第一方面的各种实现方式中任一种实现方式所提供的自动驾驶地图中车-路-云三端数据的交互方法。第四方面，本发明的实施例提供一种非暂态计算机读存储介质，非暂态计算机读存储介质存储计算机指令，计算机指令使计算机执行第一方面的各种实现方式中任一种实现方式所提供的自动驾驶地图中车-路-云三端数据的交互方法。本发明实施例提供的自动驾驶地图中车-路-云三端数据的交互方法及设备，通过定义不同端的数据传输内容以及接口协议，实现不同数据在各端之间的交互，提高了三端数据的传输效率。附图说明为更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图做一简单的介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还根据这些附图获得其他的附图。图1为本发明实施例提供的自动驾驶地图中车-路-云三端数据的交互方法流程图；图2为本发明实施例提供的自动驾驶地图中车-路-云三端数据的交互装置结构示意图；图3为本发明实施例提供的电子设备的实体结构示意图；图4为本发明实施例提供的车-路-云数据交互内容原理示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。另外，本发明提供的各个实施例或单个实施例中的技术特征相互任意结合，以形成行的技术方案，这种结合不受步骤先后次序和/或结构组成模式的约束，但是必须是以本领域普通技术人员能够实现为基础，当技术方案的结合出现相互矛盾或无法实现时，应当认为这种技术方案的结合不存在，也不在本发明要求的保护范围之内。本发明实施例提供一种自动驾驶地图中车-路-云三端数据的交互方法，参见图1，该方法包括：步骤1：定义“车-路-云”数据的接收与发送内容；步骤2：对于“车-路-云”三端交互数据，采用数据流的形式进行传输；步骤3：在车路、车云、路云之间的数据交互中，不同类型的交互距离和场景不同，其通信方式也不相同，对于车路交互来说，交互距离短、交互场景切换快，设定一数据传输模式；步骤4：规定一数据的属性字段类型。基于上述方法实施例的内容，作为一种选的实施例，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互方法，步骤1具体包括：车端接收云端的静态数据和道路实时数据以及路端的RSU数据，并向云端发送车端传感器数据、车端通信数据和自车信息；路端接收云端的管控信息，并向车端与云端发送路侧单元RSU数据；云端接收车端传感器数据、车端通信数据和自车信息和路侧单元RSU数据，并向车端发送静态数据、道路实时数据，向路端发送管控信息。基于上述方法实施例的内容，作为一种选的实施例，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互方法，步骤2具体包括：数据流中有三部分，分别为请求消息、应答消息以及数据帧；在一次传输过程中，当请求建立后，此数据流中的数据帧不间断、序列化传输，在请求消息中明确接收方来源，在应答消息中明确发送方状态，数据帧中同样会增加一个字段用来为数据的来源，此字段与数据内容封装在一起，用来区分车端数据、云端数据和路端数据。基于上述方法实施例的内容，作为一种选的实施例，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互方法，步骤3具体包括：当客户端与服务端匹配后，服务端将数据帧打包一次性传输，传输之后断开连接，客户端对接收的数据进行重新组织；对于车云交互和路云交互来说，交互距离远，交互场景相对固定，设定另一种传输模式：当客户端吧与服务端匹配后，两者之间的传输连接一直建立，只要有新的数据，两者之间立即传输。基于上述方法实施例的内容，作为一种选的实施例，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互方法，步骤4具体包括：在信息交互中，数据是以结构化的形式进行表达，为保证数据在车-路-云三端交互，对三端数据进行全局约束，规定其数据结构，包括数据的标识码、数据类型、属性值。本发明实施例提供的自动驾驶地图中车-路-云三端数据的交互方法，通过定义不同端的数据传输内容以及接口协议，实现不同数据在各端之间的交互，提高了三端数据的传输效率。在另一本发明实施例提供的自动驾驶地图中车-路-云三端数据的交互方法中，包括：步骤1：定义“车-路-云”数据的接收与发送内容，如图4所示。车端接收路端数据与云端数据，并且向云端发送数据，其具体的数据交互内容如表1所示：表1车端数据交互内容路端是向车端和云端发送数据，并且接收云端数据，其具体的数据交互内容如表2所示：表2路端数据交互内容云端向车端与路端发送数据，并且接收来自车端和路端的数据，其具体的数据交互内容如表3所示：表3云端数据交互内容步骤2：对于“车-路-云”三端交互数据，采用数据流的形式进行传输，如图2所示。一个数据流中有三部分，分别是：请求消息、应答消息以及数据帧。在一次传输过程中，当请求建立后，此数据流中的数据帧不间断、序列化传输，其中，在请求消息中明确接收方来源，在应答消息中明确发送方状态，数据帧中同样会增加一个字段用来为数据的来源，此字段与数据内容封装在一起，用来区分车端数据、云端数据和路端数据。步骤3：在车路、车云、路云之间的数据交互中，不同类型的交互距离和场景不同，其通信方式也不相同。对于车路交互来说，交互距离短、交互场景切换快，设定一种数据传输模式：当客户端与服务端匹配后，服务端将数据打包一次性传输，传输之后断开连接，客户端对接收的数据进行重新组织。对于车云交互和路云交互来说，交互距离远，交互场景相对固定，设定另一种传输模式：当客户端吧与服务端匹配后，两者之间的传输连接一直建立，只要有新的数据，两者之间立传输。步骤4：在信息交互中，数据是以结构化的形式进行表达，为保证数据在“车-路-云”三端交互，对三端数据进行全局约束，规定其数据结构，其包括数据的标识码、数据类型、属性值，如表4所示：表4属性字段字段描述必要性Id全局唯一编号必选Type数据类型必选Change属性会不会改变必选Pathid当前路径编号备选Lanenumbers当前描述的车道编号备选Offset该消息控制的开始范围备选Endoffset该消息控制的结束范围备选Available数据的有效性备选Value值必选本发明各个实施例的实现基础是通过具有处理器功能的设备进行程序化的处理实现的。因此在工程实际中，将本发明各个实施例的技术方案及其功能封装成各种模块。基于这种现实情况，在上述各实施例的基础上，本发明的实施例提供一种自动驾驶地图中车-路-云三端数据的交互装置，该装置用于执行上述方法实施例中的自动驾驶地图中车-路-云三端数据的交互方法。参见图2，该装置包括：第一主模块，用于实现步骤1：定义“车-路-云”数据的接收与发送内容；第二主模块，用于实现步骤2：对于“车-路-云”三端交互数据，采用数据流的形式进行传输；第三主模块，用于实现步骤3：在车路、车云、路云之间的数据交互中，不同类型的交互距离和场景不同，其通信方式也不相同，对于车路交互来说，交互距离短、交互场景切换快，设定一数据传输模式；第四主模块，用于实现步骤4：规定一数据的属性字段类型。本发明实施例提供的自动驾驶地图中车-路-云三端数据的交互装置，采用图2中的若干模块，通过定义不同端的数据传输内容以及接口协议，实现不同数据在各端之间的交互，提高了三端数据的传输效率。需要说明的是，本发明提供的装置实施例中的装置，除用于实现上述方法实施例中的方法外，还用于实现本发明提供的其他方法实施例中的方法，区别仅仅在于设置相应的功能模块，其原理与本发明提供的上述装置实施例的原理基本相同，只要本领域技术人员在上述装置实施例的基础上，参考其他方法实施例中的具体技术方案，通过组合技术特征获得相应的技术手段，以及由这些技术手段构成的技术方案，在保证技术方案具备实用性的前提下，就对上述装置实施例中的装置进行改进，得到相应的装置类实施例，用于实现其他方法类实施例中的方法。例如：基于上述装置实施例的内容，作为一种选的实施例，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互装置，还包括：第一子模块，用于实现步骤1具体包括：车端接收云端的静态数据和道路实时数据以及路端的RSU数据，并向云端发送车端传感器数据、车端通信数据和自车信息；路端接收云端的管控信息，并向车端与云端发送路侧单元RSU数据；云端接收车端传感器数据、车端通信数据和自车信息和路侧单元RSU数据，并向车端发送静态数据、道路实时数据，向路端发送管控信息。基于上述装置实施例的内容，作为一种选的实施例，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互装置，还包括：第二子模块，用于实现步骤2具体包括：数据流中有三部分，分别为请求消息、应答消息以及数据帧；在一次传输过程中，当请求建立后，此数据流中的数据帧不间断、序列化传输，在请求消息中明确接收方来源，在应答消息中明确发送方状态，数据帧中同样会增加一个字段用来为数据的来源，此字段与数据内容封装在一起，用来区分车端数据、云端数据和路端数据。基于上述装置实施例的内容，作为一种选的实施例，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互装置，还包括：第三子模块，用于实现步骤3具体包括：当客户端与服务端匹配后，服务端将数据帧打包一次性传输，传输之后断开连接，客户端对接收的数据进行重新组织；对于车云交互和路云交互来说，交互距离远，交互场景相对固定，设定另一种传输模式：当客户端吧与服务端匹配后，两者之间的传输连接一直建立，只要有新的数据，两者之间立即传输。基于上述装置实施例的内容，作为一种选的实施例，本发明实施例中提供的自动驾驶地图中车-路-云三端数据的交互装置，还包括：第四子模块，用于实现步骤4具体包括：在信息交互中，数据是以结构化的形式进行表达，为保证数据在车-路-云三端交互，对三端数据进行全局约束，规定其数据结构，包括数据的标识码、数据类型、属性值。本发明实施例的方法是依托电子设备实现的，因此对相关的电子设备有必要做一下介绍。基于此目的，本发明的实施例提供一种电子设备，如图3所示，该电子设备包括：至少一个处理器、通信接口、至少一个存储器和通信总线，其中，至少一个处理器，通信接口，至少一个存储器通过通信总线完成相互间的通信。至少一个处理器调用至少一个存储器中的逻辑指令，以执行前述各个方法实施例提供的方法的全部或部分步骤。此外，上述的至少一个存储器中的逻辑指令通过软件功能单元的形式实现并作为独立的产品销售或使用时，存储在一个计算机读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个方法实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘各种存储程序代码的介质。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元是或者也不是物理上分开的，作为单元显示的部件是或者也不是物理单元，位于一个地方，或者也分布到多个网络单元上。根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，理解并实施。通过以上的实施方式的描述，本领域的技术人员清楚地解到各实施方式借助软件加必需的通用硬件平台的方式来实现，当然也通过硬件实现。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分以软件产品的形式体现出来，该计算机软件产品存储在计算机读存储介质中，如ROM/RAM、磁碟、光盘，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的一些部分所述的方法。附图中的流程图和框图显示根据本发明的多个实施例的系统、方法和计算机程序产品的能实现的体系架构、功能和操作。基于这种认识，流程图或框图中的每个方框为一个模块、程序段或代码的一部分，所述模块、程序段或代码的一部分包含一个或多个用于实现规定的逻辑功能的执行指令。也应当注意，在有些作为替换的实现方式中，方框中所标注的功能也以不同于附图中所标注的顺序发生。例如，两个连续的方框实际上基本并行地执行，有时也按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，用执行规定的功能或动作的专用的基于硬件的系统来实现，或者用专用硬件与计算机指令的组合来实现。需要说明的是，术语"包括"、"包含"或者其任何其变体意在涵盖非排性的包含，使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句"包括……"限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行详细的说明，本领域的普通技术人员应当理解：其依然对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
