标题title
设备数据推送方法及设备数据推送系统
摘要abst
本发明涉及计算机网络技术领域，公开了一种saas架构下的设备数据推送方法及设备数据推送系统，该方法包括：通过预设映射关系生成目标设备对应的消息队列主题，并将消息队列主题发送至业务系统；通过消息队列主题获取目标设备对应的iot消息；基于所述iot消息获取目标设备的iot标识和设备参数信息，并将iot标识和设备参数信息发送至通讯服务器集群；在获取到iot标识时，判断是否存在目标设备订阅的目标通讯服务器，若存在，则将设备参数信息推送至目标设备对应的目标客户端实例。本发明通过目标设备订阅的通讯服务器将设备参数信息推送至对应的客户端实例，从而可以将设备采集的参数信息精准推送至对应的客户端。
权利要求书clms
1.一种设备数据推送方法，其特征在于，所述设备数据推送方法应用于saas架构，包括以下步骤：Iot系统通过预设映射关系生成目标设备对应的消息队列主题，并将所述消息队列主题发送至业务系统；业务系统通过所述消息队列主题获取所述目标设备对应的iot消息；所述业务系统基于所述iot消息获取所述目标设备的iot标识和设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群；通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则将所述设备参数信息推送至所述目标设备对应的目标客户端实例。2.如权利要求1所述的设备数据推送方法，其特征在于，所述Iot系统通过预设映射关系生成目标设备对应的消息队列主题，并将所述消息队列主题发送至业务系统的步骤之前，还包括：Iot系统生成目标设备的iot标识，并将所述iot标识发送至业务系统；业务系统基于所述iot标识和设备编码建立目标映射，并基于所述目标映射和当前设备租户建立预设映射关系。3.如权利要求2所述的设备数据推送方法，其特征在于，所述业务系统基于所述iot消息获取所述目标设备的iot标识和设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群的步骤，包括：业务系统对所述iot消息进行解析，获取所述目标设备的iot标识；所述业务系统基于所述iot标识在所述预设映射关系中查询对应的目标设备租户；所述业务系统基于所述目标设备租户对应的设备编码获取所述目标设备的设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群。4.如权利要求3所述的设备数据推送方法，其特征在于，所述业务系统对所述iot消息进行解析，获取所述目标设备的iot标识的步骤之前，还包括：业务系统根据所述iot消息对应的时间戳对所述iot消息进行过滤；相应的，所述业务系统对所述iot消息进行解析，获取所述目标设备的iot标识的步骤，包括：业务系统对过滤后的iot消息进行解析，获取所述目标设备的iot标识。5.如权利要求3所述的设备数据推送方法，其特征在于，所述业务系统基于所述目标设备租户对应的设备编码获取所述目标设备的设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群的步骤，包括：业务系统基于所述目标设备租户对应的设备编码获取所述目标设备的设备参数信息；所述业务系统对所述iot消息和所述设备参数信息进行解析，生成消息推送格式；所述业务系统基于所述消息推送格式将所述iot标识和所述设备参数信息发送至通讯服务器集群。6.如权利要求1所述的设备数据推送方法，其特征在于，所述通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器的步骤之前，还包括：客户端对通讯服务器集群进行订阅，并将对应的指定设备订阅至所述通讯服务器集群；通讯服务器集群在检测到不存在所述指定设备订阅的通讯服务器时，创建所述指定设备，并将所述指定设备对应的客户端实例挂载至所述指定设备。7.如权利要求1所述的设备数据推送方法，其特征在于，所述通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器的步骤之前，还包括：通讯服务器集群在接收到通讯服务器注册成功的信号时，自动加入所述注册成功的通讯服务器。8.如权利要求1所述的设备数据推送方法，其特征在于，所述通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则将所述设备参数信息推送至所述目标设备对应的目标客户端实例的步骤，包括：通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则通过所述通讯服务器集群所属网关将所述设备参数信息推送至所述目标设备对应的目标客户端实例。9.一种设备数据推送系统，其特征在于，所述设备数据推送系统包括：Iot系统、业务系统和通讯服务器集群；所述 Iot系统，用于通过预设映射关系生成目标设备对应的消息队列主题，并将所述消息队列主题发送至业务系统；所述业务系统，用于通过所述消息队列主题获取所述目标设备对应的iot消息；所述业务系统，还用于基于所述iot消息获取所述目标设备的iot标识和设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群；所述通讯服务器集群，用于在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则将所述设备参数信息推送至所述目标设备对应的目标客户端实例。10.如权利要求9所述的设备数据推送系统，其特征在于，所述设备数据推送系统还包括：客户端；所述客户端，用于对通讯服务器集群进行订阅，并将对应的指定设备订阅至所述通讯服务器集群；所述通讯服务器集群，还用于检测是否存在所述指定设备订阅的通讯服务器；所述通讯服务器集群，还用于在检测到存在所述指定设备订阅的通讯服务器时，将所述指定设备对应的客户端实例挂载至所述指定设备。
说明书desc
技术领域本发明涉及计算机网络技术领域，尤其涉及一种设备数据推送方法及设备数据推送系统。背景技术随着经济技术和工业的快速发展，建立智慧化工厂也变得越来越重要。在瓦楞纸包装行业中，对应的生产线随着时间的推移会变得越来越智能化，因此，瓦楞纸包装行业生产效率的提升需要更加智慧的系统进行支撑。目前瓦楞纸包装行业的管理平台可以将生产线中的生产设备和对应的终端一一建立联系，从而通过终端管理对应的生产设备，但由于瓦楞纸包装行业中存在较多生产设备，无法精准将设备的参数信息发送至对应的终端，实现设备与终端的对接。因此，如何将设备采集的参数信息精准推送至对应的客户端，成为一个亟待解决的问题。上述内容仅用于辅助理解本发明的技术方案，并不代表承认上述内容是现有技术。发明内容本发明的主要目的在于提供了一种设备数据推送方法及设备数据推送系统，旨在解决现有技术中无法将设备采集的参数信息精准推送至对应的客户端的技术问题。为实现上述目的，本发明提供了一种设备数据推送方法，所述设备数据推送方法应用于saas架构，包括以下步骤：Iot系统通过预设映射关系生成目标设备对应的消息队列主题，并将所述消息队列主题发送至业务系统；业务系统通过所述消息队列主题获取所述目标设备对应的iot消息；所述业务系统基于所述iot消息获取所述目标设备的iot标识和设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群；通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则将所述设备参数信息推送至所述目标设备对应的目标客户端实例。可选地，所述Iot系统通过预设映射关系生成目标设备对应的消息队列主题，并将所述消息队列主题发送至业务系统的步骤之前，还包括：Iot系统生成目标设备的iot标识，并将所述iot标识发送至业务系统；业务系统基于所述iot标识和设备编码建立目标映射，并基于所述目标映射和当前设备租户建立预设映射关系。可选地，所述业务系统基于所述iot消息获取所述目标设备的iot标识和设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群的步骤，包括：业务系统对所述iot消息进行解析，获取所述目标设备的iot标识；所述业务系统基于所述iot标识在所述预设映射关系中查询对应的目标设备租户；所述业务系统基于所述目标设备租户对应的设备编码获取所述目标设备的设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群。可选地，所述业务系统对所述iot消息进行解析，获取所述目标设备的iot标识的步骤之前，还包括：业务系统根据所述iot消息对应的时间戳对所述iot消息进行过滤；相应的，所述业务系统对所述iot消息进行解析，获取所述目标设备的iot标识的步骤，包括：业务系统对过滤后的iot消息进行解析，获取所述目标设备的iot标识。可选地，所述业务系统基于所述目标设备租户对应的设备编码获取所述目标设备的设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群的步骤，包括：业务系统基于所述目标设备租户对应的设备编码获取所述目标设备的设备参数信息；所述业务系统对所述iot消息和所述设备参数信息进行解析，生成消息推送格式；所述业务系统基于所述消息推送格式将所述iot标识和所述设备参数信息发送至通讯服务器集群。可选地，所述通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器的步骤之前，还包括：客户端对通讯服务器集群进行订阅，并将对应的指定设备订阅至所述通讯服务器集群；通讯服务器集群在检测到不存在所述指定设备订阅的通讯服务器时，创建所述指定设备，并将所述指定设备对应的客户端实例挂载至所述指定设备。可选地，所述通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器的步骤之前，还包括：通讯服务器集群在接收到通讯服务器注册成功的信号时，自动加入所述注册成功的通讯服务器。可选地，所述通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则将所述设备参数信息推送至所述目标设备对应的目标客户端实例的步骤，包括：通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则通过所述通讯服务器集群所属网关将所述设备参数信息推送至所述目标设备对应的目标客户端实例。此外，为实现上述目的，本发明还提出一种设备数据推送系统，所述设备数据推送系统包括：Iot系统、业务系统和通讯服务器集群；所述 Iot系统，用于通过预设映射关系生成目标设备对应的消息队列主题，并将所述消息队列主题发送至业务系统；所述业务系统，用于通过所述消息队列主题获取所述目标设备对应的iot消息；所述业务系统，还用于基于所述iot消息获取所述目标设备的iot标识和设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群；所述通讯服务器集群，用于在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则将所述设备参数信息推送至所述目标设备对应的目标客户端实例。可选地，所述设备数据推送系统还包括：客户端；所述客户端，用于对通讯服务器集群进行订阅，并将对应的指定设备订阅至所述通讯服务器集群；所述通讯服务器集群，还用于检测是否存在所述指定设备订阅的通讯服务器；所述通讯服务器集群，还用于在检测到存在所述指定设备订阅的通讯服务器时，将所述指定设备对应的客户端实例挂载至所述指定设备。在本发明中，公开了Iot系统通过预设映射关系生成目标设备对应的消息队列主题，并将消息队列主题发送至业务系统；业务系统通过消息队列主题获取目标设备对应的iot消息；业务系统基于iot消息获取目标设备的iot标识和设备参数信息，并将iot标识和设备参数信息发送至通讯服务器集群；通讯服务器集群在获取到iot标识时，判断是否存在目标设备订阅的目标通讯服务器，若存在，则将设备参数信息推送至目标设备对应的目标客户端实例；相较于现有技术将生产设备与对应的终端一一建立连接，并通过终端管理对应的生产设备，由于本发明中Iot系统将生成的目标设备对应的消息队列主题发送至业务系统，业务系统通过消息队列主题获取目标设备对应的iot消息，并将获取的目标设备的iot标识和设备参数信息发送至通讯服务器集群，通讯服务器集群在获取到iot标识时，判断是否存在目标设备订阅的通讯服务器，在存在订阅的通讯服务器时将设备参数信息推送至目标设备对应的客户端实例，从而解决了现有技术中无法将设备采集的参数信息精准推送至对应的客户端的技术问题，进而实现了多种设备和多种参数数据与客户端进行精准对接。附图说明图1为本发明设备数据推送方法第一实施例的流程示意图；图2为本发明设备数据推送方法第一实施例中数据推送流程的示意图；图3为本发明设备数据推送方法第二实施例的流程示意图；图4为本发明设备数据推送方法第三实施例的流程示意图；图5为本发明设备数据推送系统第一实施例的结构框图；图6为本发明设备数据推送系统第二实施例的结构框图。本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。下面将结合本发明实施例中的附图，对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明的一部分实施例，而不是全部的实施例、基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动的前提下所获得的所有实施例，都属于本发明保护的范围。需要说明的是，在本发明实施例中涉及“第一”、“第二”等的描述仅用于描述目的，而不能理解为指示或暗示其相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。另外，各个实施例之间的技术方案可以相互结合，但是必须是以本领域普通技术人员能够实现为基础，当技术方案的结合出现相互矛盾或无法实现时应当认为这种技术方案的结合不存在，也不在本发明要求的保护范围之内。本发明实施例提供了一种设备数据推送方法，参照图1，图1为本发明设备数据推送方法第一实施例的流程示意图。本实施例中，所述设备数据推送方法包括以下步骤：步骤S10：Iot系统通过预设映射关系生成目标设备对应的消息队列主题，并将所述消息队列主题发送至业务系统。需要说明的是，上述目标设备可以为与上述Iot系统对接的设备，例如瓦楞纸包装行业的生产设备等，本实施例对此不加以限制。应当理解的是，上述预设映射关系可以上述业务系统预先建立的上述目标设备与业务系统中本地业务设备之间的映射关系。实际应用中，上述Iot系统可以具有采集对接设备的设备数据信息并对采集的设备数据信息进行分析等功能，在采集Iot系统对接设备的数据信息之前，Iot系统需要生成目标设备的iot标识，并将所述iot标识发送至业务系统；业务系统基于所述iot标识和设备编码建立目标映射，并基于所述目标映射和当前设备租户建立预设映射关系。可以理解的是，上述消息队列主题可以为上述目标设备在Iot系统中对应的地址信息。实际应用中，可以根据消息队列主题获取对应的设备的设备参数数据。在具体实现中，Iot系统在采集对接设备的数据信息时，可以在对接设备与Iot系统连接时生成对接设备唯一的iot标识，业务系统根据Iot系统生成的对接设备的iot标识映射本地业务设备编码，建立目标映射，并根据iot标识映射的设备编码数据映射当前设备租户，建立预设映射关系，并对预设映射关系进行缓存，从而Iot系统可以指定对接设备生成对应的消息队列主题，并将生成的消息队列主题发送至业务系统。步骤S20：业务系统通过所述消息队列主题获取所述目标设备对应的iot消息。需要说明的是，上述iot消息可以为Iot系统向业务系统发送的Iot系统中对接设备的设备信息，可以包括对接设备的iot标识和对接设备的设备参数信息等，本实施例对此不加以限制。应当理解的是，业务系统可以根据Iot系统生成的消息队列主题进行配置订阅，使用消息队列订阅指定主题，其他外部数据源向指定主题推送队列消息，根据不同参数数据采用不同主题，实现不同解析逻辑，在指定消息格式下，可切换不同数据源提供服务切换不同设备采集应用。步骤S30：所述业务系统基于所述iot消息获取所述目标设备的iot标识和设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群。可以理解的是，上述iot标识可以为Iot系统根据对接的设备生成的设备的唯一标识。需要说明的是，上述设备参数信息可以为对接设备的相关数据，例如设备开关机消息和数量消息等，本实施例对此不加以限制。实际应用中，获取的数据可以存储在关系型数据库Mysql以及缓存数据库Redis中，关系型数据库Mysql可以存储目标设备的设备数据信息，缓存数据库Redis可以对设备数据信息进行缓存，从而提高系统的响应速度。步骤S40：通讯服务器集群在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则将所述设备参数信息推送至所述目标设备对应的目标客户端实例。应当理解的是，上述目标通讯服务器可以为上述目标设备订阅的通讯服务器。实际应用中，可以利用dubbo加netty搭建socket通讯服务器注册到nacos或其他注册中心，搭建集群注册服务。可以理解的是，上述目标客户端实例可以为上述目标设备中的所有客户端实例。实际应用中，每个客户端均可以指定对应的设备，即设备可以存在多个相同实例的客户端，通讯服务器在获取到对应设备的设备参数数据后，可以将设备参数数据推送至设备对应的客户端中。需要说明的是，通讯服务器可以通过nacos server构建的注册中心进行注册，并在注册成功时自动加入至上述通讯服务器集群。应当理解的是，通讯服务器集群统一注册到注册中心，实现客户端多节点连接，并使用服务网关进行统一转发，进行负载均衡，从而保证服务负载均衡。每个客户端实例都能根据指定负载均衡策略到指定服务，根据消息推送策略保证每个客户端负载在不同的服务器都能接收到当前设备的采集信息。在具体实现中，如图2所示，Iot系统可以根据预设映射关系生成设备对应的消息队列主题，业务系统消息队列主题获取对应的设备的iot标识和设备参数数据，并将iot标识和设备参数数据发送至通讯服务器集群，通讯服务器集群在接收到iot标识和设备参数数据后，可以根据iot标识查找是否存在对应的设备订阅的通讯服务器，如果存在，可以通过统一网关将设备参数数据推送至iot标识对应的设备对应的客户端实例，从而设备参数数据广播到服务器后能够分发到每个服务器上连接的客户端实例，实现参数数据的精准推送。本实施例公开了Iot系统通过预设映射关系生成目标设备对应的消息队列主题，并将消息队列主题发送至业务系统；业务系统通过消息队列主题获取目标设备对应的iot消息；业务系统基于iot消息获取目标设备的iot标识和设备参数信息，并将iot标识和设备参数信息发送至通讯服务器集群；通讯服务器集群在获取到iot标识时，判断是否存在目标设备订阅的目标通讯服务器，若存在，则将设备参数信息推送至目标设备对应的目标客户端实例；相较于现有技术将生产设备与对应的终端一一建立连接，并通过终端管理对应的生产设备，由于本实施例中Iot系统将生成的目标设备对应的消息队列主题发送至业务系统，业务系统通过消息队列主题获取目标设备对应的iot消息，并将获取的目标设备的iot标识和设备参数信息发送至通讯服务器集群，通讯服务器集群在获取到iot标识时，判断是否存在目标设备订阅的通讯服务器，在存在订阅的通讯服务器时将设备参数信息推送至目标设备对应的客户端实例，从而解决了现有技术中无法将设备采集的参数信息精准推送至对应的客户端的技术问题，进而实现了多种设备和多种参数数据与客户端进行精准对接。参考图3，图3为本发明设备数据推送方法第二实施例的流程示意图。基于上述第一实施例，为了通过iot消息获得设备对应的iot标识和设备参数信息，本实施例中，所述步骤S30包括：步骤S301：业务系统对所述iot消息进行解析，获取所述目标设备的iot标识。需要说明的是，为了保证消息的实时性，业务系统在对iot消息进行解析时，只解析最近的一条消息，旧消息不进行解析。在具体实现中，业务系统可以获取iot消息对应的时间戳，并根据时间戳对iot消息进行过滤，获得最新数据，并去除堆积的非实时消息，再对过滤后获得的最新数据进行解析，获得目标设备的iot标识。步骤S302：所述业务系统基于所述iot标识在所述预设映射关系中查询对应的目标设备租户。应当理解的是，上述目标设备租户可以为上述目标设备对应的公司，即当前进行消息推送的公司。由于预设映射关系是基于iot标识映射本地业务设备编码，并根据iot标识映射的本地业务设备编码映射设备租户而建立的，因此可以通过iot标识获取设备对应的设备租户。步骤S303：所述业务系统基于所述目标设备租户对应的设备编码获取所述目标设备的设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群。可以理解的是，在获取到目标设备租户后，可以通过目标设备租户对应的设备编码获取iot标识对应的设备，从而获取该设备对应的设备参数数据。进一步地，为了将目标设备需要推送的消息推送至客户端实例，上述步骤S303包括：业务系统基于所述目标设备租户对应的设备编码获取所述目标设备的设备参数信息；所述业务系统对所述iot消息和所述设备参数信息进行解析，生成消息推送格式；所述业务系统基于所述消息推送格式将所述iot标识和所述设备参数信息发送至通讯服务器集群。需要说明的是，上述消息推送格式可以为业务系统配置的上述目标设备需要推送的消息的具体数据对应的格式，例如目标设备需要推送的消息为目标设备的开关机消息和数量消息，此时消息推送格式中的数据就为目标设备的开关机消息和数量消息。在具体实现中，业务系统可以预先设置所有对接设备需要推送的消息格式，由于每个iot系统推送消息的格式都不相同，因此在对目标设备进行设备参数数据推送时，在获取到目标设备对应的目标设备编号后，可以根据目标设备对应的设备编码获取目标设备的设备参数数据，并对iot消息和设备参数数据进行解析，获取对应的消息推送格式，并提取消息推送格式中的数据，从而转换成需要推送的消息，最后可以将设备需要推送的消息推送至对应的客户端实例。本实施例通过业务系统对iot消息进行解析获得目标设备的iot标识，并基于iot标识在预设映射关系中查询对应的目标设备租户，基于目标设备租户对应的设备编码获取目标设备的设备参数信息，再对iot消息和设备参数进行解析后生成消息推送格式，最后基于消息推送格式将iot标识和设备参数信息发送至通讯服务器集群，从而可以将设备需要推送的消息广播到通讯服务器集群，进一步实现参数数据的精准推送，同时，还可以根据时间戳去除非实时数据，实现参数数据的实时推送。参考图4，图4为本发明设备数据推送方法第三实施例的流程示意图。基于上述各实施例，为了将客户端实例订阅至通讯服务器，本实施例中，所述步骤S40之前，所述方法还包括：步骤S401：客户端对通讯服务器集群进行订阅，并将对应的指定设备订阅至所述通讯服务器集群。需要说明的是，上述指定设备可以为客户端需要接收参数数据的对象，例如客户端A需要获取设备A的设备参数数据，此时设备A为客户端A的指定设备。步骤S402：通讯服务器集群在检测到不存在所述指定设备订阅的通讯服务器时，创建所述指定设备，并将所述指定设备对应的客户端实例挂载至所述指定设备。在具体实现中，客户端在订阅通讯服务器时，会将指定的设备注册订阅到通讯服务器中，此时服务器会查询当前是否有该设备订阅，如果存在则将该客户端实例挂载到该设备集合下，不存在则创建该设备集合，并将该客户端实例挂载到新创建的设备中。当客户端订阅通讯服务器接收到的消息时客户端挂载的设备的消息时，查询当前通讯服务器是否存在该设备，如果存在则将消息推送至该设备对应的所有客户端实例中，完成数据的推送。本实施例客户端在对通讯服务器进行订阅时，将指定设备订阅至通讯服务器中，通讯服务器集群在检测到不存在指定设备订阅的通讯服务器时，创建指定设备，并将指定设备对应的客户端实例挂载到指定设备中，从而通讯服务器在接收到设备的消息时，可以将消息推送至该设备对应的所有客户端实例中，实现消息的精准推送。参照图5，图5为本发明设备数据推送系统第一实施例的结构框图。如图5所示，本发明实施例提出的设备数据推送系统包括：Iot系统100、业务系统200和通讯服务器集群300；所述 Iot系统100，用于通过预设映射关系生成目标设备对应的消息队列主题，并将所述消息队列主题发送至业务系统200；所述业务系统200，用于通过所述消息队列主题获取所述目标设备对应的iot消息；所述业务系统200，还用于基于所述iot消息获取所述目标设备的iot标识和设备参数信息，并将所述iot标识和所述设备参数信息发送至通讯服务器集群300；所述通讯服务器集群300，用于在获取到所述iot标识时，判断是否存在所述目标设备订阅的目标通讯服务器，若存在，则将所述设备参数信息推送至所述目标设备对应的目标客户端实例。本实施例的设备数据推送系统公开了Iot系统100通过预设映射关系生成目标设备对应的消息队列主题，并将消息队列主题发送至业务系统；业务系统200通过消息队列主题获取目标设备对应的iot消息；业务系统200基于iot消息获取目标设备的iot标识和设备参数信息，并将iot标识和设备参数信息发送至通讯服务器集群；通讯服务器集群300在获取到iot标识时，判断是否存在目标设备订阅的目标通讯服务器，若存在，则将设备参数信息推送至目标设备对应的目标客户端实例；相较于现有技术将生产设备与对应的终端一一建立连接，并通过终端管理对应的生产设备，由于本实施例中Iot系统100将生成的目标设备对应的消息队列主题发送至业务系统，业务系统200通过消息队列主题获取目标设备对应的iot消息，并将获取的目标设备的iot标识和设备参数信息发送至通讯服务器集群，通讯服务器集群300在获取到iot标识时，判断是否存在目标设备订阅的通讯服务器，在存在订阅的通讯服务器时将设备参数信息推送至目标设备对应的客户端实例，从而解决了现有技术中无法将设备采集的参数信息精准推送至对应的客户端的技术问题，进而实现了多种设备和多种参数数据与客户端进行精准对接。参照图6，图6为本发明设备数据推送系统第二实施例的结构框图。如图6所示，本发明实施例提出的设备数据推送系统还包括：客户端400；所述客户端400，用于对通讯服务器集群进行订阅，并将对应的指定设备订阅至所述通讯服务器集群300；所述通讯服务器集群300，还用于检测是否存在所述指定设备订阅的通讯服务器；所述通讯服务器集群300，还用于在检测到存在所述指定设备订阅的通讯服务器时，将所述指定设备对应的客户端实例挂载至所述指定设备。本实施例客户端400在对通讯服务器进行订阅时，将指定设备订阅至通讯服务器300中，通讯服务器集群300在检测到不存在指定设备订阅的通讯服务器时，创建指定设备，并将指定设备对应的客户端实例挂载到指定设备中，从而通讯服务器在接收到设备的消息时，可以将消息推送至该设备对应的所有客户端实例中，实现消息的精准推送。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者系统不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者系统所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者系统中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
