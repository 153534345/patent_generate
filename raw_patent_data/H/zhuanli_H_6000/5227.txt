标题title
一种服务器网络集群配置方法及系统
摘要abst
本申请公开了一种服务器网络集群配置方法及系统，该方法包括：搭建配置环境；根据当前服务器网络集群中的交换机类型，配置路由口；对100G交换机的接口配置VLAN；根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路；在每个节点服务器中进行网卡和网口绑定，并设置第二动态链路。该系统包括：路由口配置模块、VLAN配置模块、第一动态链路配置模块和第二动态链路配置模块。通过本申请，能够在包含多种不同交换机类型的服务器集群中实现DHCP功能，且能够有效提高数据传输的稳定性和可靠性。
权利要求书clms
1.一种服务器网络集群配置方法，其特征在于，所述服务器网络集群中包括有：主服务器、多个节点服务器以及交换机，所述方法包括：搭建配置环境；根据当前服务器网络集群中的交换机类型，配置路由口，所述交换机类型包括：10G交换机、25G交换机和100G交换机；对100G交换机的接口配置VLAN；根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路，所述第一动态链路用于实现不同交换机之间的网络连通；在每个节点服务器中进行网卡和网口绑定，并设置第二动态链路，所述第二动态链路用于实现所有网口之间的负载均衡和冗余。2.根据权利要求1所述的一种服务器网络集群配置方法，其特征在于，所述搭建配置环境包括：将主服务器分别连接至10G交换机、25G交换机和100G交换机；将10G交换机、25G交换机分别与100G交换机连接；所述100G交换机通过1转12线缆连接至不同的节点服务器。3.根据权利要求1所述的一种服务器网络集群配置方法，其特征在于，所述根据当前服务器网络集群中的交换机类型，配置路由口，包括：通过串口登录100G交换机的操作系统；根据所获取的切换命令，将100G交换机切换至sonic模式。4.根据权利要求1所述的一种服务器网络集群配置方法，其特征在于，所述对100G交换机的接口配置VLAN，包括：删除配置文件中的待配置接口的IP；根据相关配置参数，修改所述配置文件，所述相关配置参数包括：待配置接口的VLANID、VLAN IP、主服务器网卡IP。5.根据权利要求1所述的一种服务器网络集群配置方法，其特征在于，所述根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路，包括：分别对10G交换机、25G交换机的每个网口对应的网卡配置动态；10G交换机所有网口组成第一组群，并设置第一动态链路；25G交换机所有网口组成第二组组群，并设置第一动态链路；根据100G交换机端所配置的VLAN，设置第一动态链路。6.一种服务器网络集群配置系统，其特征在于，所述服务器网络集群配置系统应用于服务器网络集群，所述服务器网络集群中包括有：主服务器、多个节点服务器、多个10G交换机、25G交换机以及100G交换机，所述主服务器分别与10G交换机、25G交换机和100G交换机连接，所述10G交换机、25G交换机分别与100G交换机连接，所述100G交换机通过1转12线缆连接至不同的节点服务器，所述系统包括：路由口配置模块，用于根据当前服务器网络集群中的交换机类型，配置路由口，所述交换机类型包括：10G交换机、25G交换机和100G交换机；VLAN配置模块，用于对100G交换机的接口配置VLAN；第一动态链路配置模块，用于根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路，所述第一动态链路用于实现不同交换机之间的网络连通；第二动态链路配置模块，用于在每个节点服务器中进行网卡和网口绑定，并设置第二动态链路，所述第二动态链路用于实现所有网口之间的负载均衡和冗余。7.根据权利要求6所述的一种服务器网络集群配置系统，其特征在于，所述路由口配置模块包括：登录单元，用于通过串口登录100G交换机的操作系统；切换单元，用于根据所获取的切换命令，将100G交换机切换至sonic模式。8.根据权利要求6所述的一种服务器网络集群配置系统，其特征在于，所述VLAN配置模块包括：删除单元，用于删除配置文件中的待配置接口的IP；修改单元，用于根据相关配置参数，修改所述配置文件，所述相关配置参数包括：待配置接口的VLAN ID、VLAN IP、主服务器网卡IP。9.根据权利要求6所述的一种服务器网络集群配置系统，其特征在于，所述第一动态链路配置模块包括：网卡配置单元，用于分别对10G交换机、25G交换机的每个网口对应的网卡配置动态；第一设置单元，用于将10G交换机所有网口组成第一组群，并设置第一动态链路；第二设置单元，用于将25G交换机所有网口组成第二组组群，并设置第一动态链路；第三设置单元，用于根据100G交换机端所配置的VLAN，设置第一动态链路。
说明书desc
技术领域本申请涉及交换机配置技术领域，特别是涉及一种服务器网络集群配置方法及系统。背景技术交换机配置通常采用DHCP协议，DHCP是一个应用于局域网的网络协议，该协议允许服务器向客户端动态分配IP地址和配置信息。具体地，DHCP主要由两个用途：一个是用于内部网或网络服务供应商自动分配IP地址给用户，另一个是用于内部网管理员对所有电脑进行中央管理。因此，在服务器网络集群中，如何采用DHCP协议进行交换机配置，从而提高数据安全性，是个重要的技术问题。目前的交换机配置方法，主要是针对采用通用交换机的服务器集群，在该服务集群中，直接采用DHCP协议，即可实现服务器网络集群配置。然而，针对部分用户定制化需求的交换机时，整个服务器集群中有多种不同的交换机，目前的交换机配置方法无法实现DHCP功能。发明内容本申请提供了一种服务器网络集群配置方法及系统，以解决现有技术中交换机配置方法在面对多种不同的交换机时无法实现DHCP功能的问题。为了解决上述技术问题，本申请实施例公开了如下技术方案：一种服务器网络集群配置方法，所述服务器网络集群中包括有：主服务器、多个节点服务器以及交换机，所述方法包括：搭建配置环境；根据当前服务器网络集群中的交换机类型，配置路由口，所述交换机类型包括：10G交换机、25G交换机和100G交换机；对100G交换机的接口配置VLAN；根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路，所述第一动态链路用于实现不同交换机之间的网络连通；在每个节点服务器中进行网卡和网口绑定，并设置第二动态链路，所述第二动态链路用于实现所有网口之间的负载均衡和冗余。可选地，所述搭建配置环境包括：将主服务器分别连接至10G交换机、25G交换机和100G交换机；将10G交换机、25G交换机分别与100G交换机连接；所述100G交换机通过1转12线缆连接至不同的节点服务器。可选地，所述根据当前服务器网络集群中的交换机类型，配置路由口，包括：通过串口登录100G交换机的操作系统；根据所获取的切换命令，将100G交换机切换至sonic模式。可选地，所述对100G交换机的接口配置VLAN，包括：删除配置文件中的待配置接口的IP；根据相关配置参数，修改所述配置文件，所述相关配置参数包括：待配置接口的VLAN ID、VLAN IP、主服务器网卡IP。可选地，所述根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路，包括：分别对10G交换机、25G交换机的每个网口对应的网卡配置动态；10G交换机所有网口组成第一组群，并设置第一动态链路；25G交换机所有网口组成第二组组群，并设置第一动态链路；根据100G交换机端所配置的VLAN，设置第一动态链路。一种服务器网络集群配置系统，所述服务器网络集群配置系统应用于服务器网络集群，所述服务器网络集群中包括有：主服务器、多个节点服务器、多个10G交换机、25G交换机以及100G交换机，所述主服务器分别与10G交换机、25G交换机和100G交换机连接，所述10G交换机、25G交换机分别与100G交换机连接，所述100G交换机通过1转12线缆连接至不同的节点服务器，所述系统包括：路由口配置模块，用于根据当前服务器网络集群中的交换机类型，配置路由口，所述交换机类型包括：10G交换机、25G交换机和100G交换机；VLAN配置模块，用于对100G交换机的接口配置VLAN；第一动态链路配置模块，用于根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路，所述第一动态链路用于实现不同交换机之间的网络连通；第二动态链路配置模块，用于在每个节点服务器中进行网卡和网口绑定，并设置第二动态链路，所述第二动态链路用于实现所有网口之间的负载均衡和冗余。可选地，所述路由口配置模块包括：登录单元，用于通过串口登录100G交换机的操作系统；切换单元，用于根据所获取的切换命令，将100G交换机切换至sonic模式。可选地，所述VLAN配置模块包括：删除单元，用于删除配置文件中的待配置接口的IP；修改单元，用于根据相关配置参数，修改所述配置文件，所述相关配置参数包括：待配置接口的VLAN ID、VLAN IP、主服务器网卡IP。可选地，所述第一动态链路配置模块包括：网卡配置单元，用于分别对10G交换机、25G交换机的每个网口对应的网卡配置动态；第一设置单元，用于将10G交换机所有网口组成第一组群，并设置第一动态链路；第二设置单元，用于将25G交换机所有网口组成第二组组群，并设置第一动态链路；第三设置单元，用于根据100G交换机端所配置的VLAN，设置第一动态链路。本申请的实施例提供的技术方案可以包括以下有益效果：本申请提供一种服务器网络集群配置方法，该方法首先搭建配置环境，其次根据交换机类型配置路由口，并对100G交换机的接口配置VLAN，从而确保能够实现100G交换机与其他网口的网络连通，然后根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路，从而实现不同交换机之间的网络连通，将25G交换机所有口都打开，扩展大量服务器系统并分配IP，组成一个庞大的网络系统，将10G、25G以及100G网络都联通，并统一由一个主服务器控制。最后，在每个节点服务器中进行网卡和网口绑定，并设置第二动态链路，实现所有网口之间的负载均衡和冗余，有利于提高整个网络传输过程的负载平衡能力和容错能力，进而提高整个服务器网络集群的稳定性与可靠性。本实施例中的服务器网络集群配置方法，适用于有多种不同交换机的服务器集群，可以包括10G交换机、25G交换机以及100G交换机，通过配置第一动态链路实现不同交换机之间的网络连通，扩展大量服务器系统并分配IP，解决了现有配置方法无法实现DHCP功能的问题，通过DHCP功能实现不同网络环境的连通，提高数据传输功能。本申请还提供一种服务器网络集群配置系统，该系统应用于包含有主服务器、多个节点服务器、多个10G交换机、25G交换机以及100G交换机的服务器网络集群中，该系统主要包括：路由口配置模块、VLAN配置模块、第一动态链路配置模块和第二动态链路配置模块。通过路由口配置模块，根据当前服务器网络集群中的交换机类型配置路由口，通过VLAN配置模块对100G交换机的接口配置VLAN，通过第一动态链路配置模块能够实现不同交换机之间的网络连通，通过第二动态链路能够实现所有网口之间的负载均衡和冗余。本实施例中的服务器网络集群配置系统可应用于多交换机的服务器集群，且能够实现DHCP功能。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，并不能限制本申请。附图说明此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本申请的实施例，并与说明书一起用于解释本申请的原理。为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，对于本领域普通技术人员而言，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例所提供的一种服务器网络集群配置方法的流程示意图；图2为本申请实施例中动态IP分配以及VLAN配置示意图；图3为本申请实施例所提供的一种服务器网络集群配置系统的结构示意图。具体实施方式为了使本技术领域的人员更好地理解本申请中的技术方案，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本申请保护的范围。为了更好地理解本申请，下面结合附图来详细解释本申请的实施方式。实施例一参见图1，图1为本申请实施例所提供的一种服务器网络集群配置方法的流程示意图。由图1可知，本实施例中服务器网络集群配置方法，主要包括如下过程：S1：搭建配置环境。具体地，步骤S1包括如下过程：S11：将主服务器分别连接至10G交换机、25G交换机和100G交换机。本实施例中的服务器网络集群主要包括：主服务器、多个节点服务器以及交换机。本实施例的配置方法最终能够实现DHCP功能，主服务器即DHCP服务器，DHCP服务器可以采用10G网卡节点。100G交换机可以采用领英白盒。通过主服务器连通10G交换机、25G交换机和100G交换机，能够将25G交换机的所有网口打开，然后通过主服务器对连接在各交换机上的节点服务器分配动态IP。S12：将10G交换机、25G交换机分别与100G交换机连接。通过这种连接方式，能够实现不同10G、25G以及100G网络之间的连通。S13：100G交换机通过1转12线缆连接至不同的节点服务器。本实施例中100G交换机又称终端交换机，该终端交换机上有4个网络总接口，100G转4个25G网口，通过线缆连接其中一个25G网卡。该终端交换机上有1转12线缆，从而连接至不同的节点服务器，便于主服务器分配大量IP，从而组成一个庞大的网络系统，大大提高数据传输的效率以及稳定性。继续参见图1可知，搭建配置环境之后，执行步骤S2：根据当前服务器网络集群中的交换机类型，配置路由口。其中，交换机类型包括：10G交换机、25G交换机和100G交换机。具体地，步骤S2包括如下过程：S21：通过串口登录100G交换机的操作系统。S22：根据所获取的切换命令，将100G交换机切换至sonic模式。本实施例中10G交换机和25G交换机的路由口配置采用常规配置方法，默认连通，在此不再赘述。通过步骤S21-S22，登录至100G交换机的OS，执行sol.sh切换到与100G交换机相匹配的sonic模式，为后续实现不同交换机之间的连通提供条件。S3：对100G交换机的接口配置VLAN。本实施例中交换机端与主服务器端VLAN在同一网段，100G交换机与10G交换机VLAN在同一网段，动态IP分配以及VLAN配置示意图可以参见图2所示。具体地，步骤S3包括如下过程：S31：删除配置文件中的待配置接口的IP。连接服务器的接口需要配置VLAN，首先删除配置文件中的接口IP，配置文件存放于主服务器中。S32：根据相关配置参数，修改配置文件。其中，相关配置参数包括：待配置接口的VLAN ID、VLAN IP、主服务器网卡IP。也就是根据需要配置VLAN的接口，填充待配置接口的VLAN ID、VLAN IP、DHCP服务器网卡IP，等相关内容，并添加至config_db.json文件中。通过配置VLAN，能够确保不同交换机之间连通。对100G交换机的接口配置VLAN之后，执行S4：根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路。也就是在交换机端配置第一动态链路，从而实现不同交换机之间的网络连通。具体地，步骤S4包括如下过程：S41：分别对10G交换机、25G交换机的每个网口对应的网卡配置动态。S42：10G交换机所有网口组成第一组群，并设置第一动态链路。S43：25G交换机所有网口组成第二组组群，并设置第一动态链路。S44：根据100G交换机端所配置的VLAN，设置第一动态链路。继续参见图1可知，在交换机端配置第一动态链路之后，执行步骤S5：在每个节点服务器中进行网卡和网口绑定，并设置第二动态链路，第二动态链路用于实现所有网口之间的负载均衡和冗余。通过以上步骤S41-S44在交换机端配置第一动态链路，通过步骤S5，在节点端配置第二动态链路，当其中一个网口负载过高时，另一个网口可以去分担压力,如果一个网口负载很小，会自动切换到2个网口运行。当其中一个网口损坏另外一个网口可以直接替代其功能，不需要做多余的配置就可以实现冗余，这种配置方法高效，且有利于提高服务器的稳定性和可靠性，为网络传输提供负载平衡和容错能力。实施例二在图1和图2所示实施例的基础上参见图3，图3为本申请实施例所提供的一种服务器网络集群配置系统的结构示意图。本实施例的服务器网络集群配置系统应用于服务器网络集群，该服务器网络集群中包括有：主服务器、多个节点服务器、多个10G交换机、25G交换机以及100G交换机。其中，主服务器分别与10G交换机、25G交换机和100G交换机连接，10G交换机、25G交换机分别与100G交换机连接，100G交换机通过1转12线缆连接至不同的节点服务器，由图3可知，本实施例中的服务器网络集群配置系统，主要包括：路由口配置模块、VLAN配置模块、第一动态链路配置模块和第二动态链路配置模块。其中，路由口配置模块，用于根据当前服务器网络集群中的交换机类型，配置路由口，交换机类型包括：10G交换机、25G交换机和100G交换机；VLAN配置模块，用于对100G交换机的接口配置VLAN；第一动态链路配置模块，用于根据当前服务器网络集群中的交换机类型，对每个交换机配置第一动态链路，第一动态链路用于实现不同交换机之间的网络连通；第二动态链路配置模块，用于在每个节点服务器中进行网卡和网口绑定，并设置第二动态链路，第二动态链路用于实现所有网口之间的负载均衡和冗余。进一步地，路由口配置模块包括：登录单元和切换单元。其中，登录单元，用于通过串口登录100G交换机的操作系统；切换单元，用于根据所获取的切换命令，将100G交换机切换至sonic模式。VLAN配置模块包括：删除单元和修改单元。其中，删除单元，用于删除配置文件中的待配置接口的IP；修改单元，用于根据相关配置参数，修改配置文件，相关配置参数包括：待配置接口的VLAN ID、VLAN IP、主服务器网卡IP。第一动态链路配置模块包括：网卡配置单元、第一设置单元、第二设置单元和第三设置单元，其中，网卡配置单元，用于分别对10G交换机、25G交换机的每个网口对应的网卡配置动态；第一设置单元，用于将10G交换机所有网口组成第一组群，并设置第一动态链路；第二设置单元，用于将25G交换机所有网口组成第二组组群，并设置第一动态链路；第三设置单元，用于根据100G交换机端所配置的VLAN，设置第一动态链路。该实施例中服务器网络集群配置系统的工作原理和工作方法，可以参考图1和图2所示的实施例一，在此不再赘述。以上所述仅是本申请的具体实施方式，使本领域技术人员能够理解或实现本申请。对这些实施例的多种修改对本领域的技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本申请的精神或范围的情况下，在其它实施例中实现。因此，本申请将不会被限制于本文所示的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。
