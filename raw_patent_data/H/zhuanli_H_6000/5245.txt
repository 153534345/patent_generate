标题title
拓扑结构生成方法、装置、设备和存储介质
摘要abst
本发明实施例提供一种拓扑结构生成方法、装置、设备和存储介质，该方法包括：获取多个根设备，确定多个根设备各自对应的子拓扑结构。根据子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与子拓扑结构相对应的区间路由表。根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备。在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与多个根设备相对应的目标拓扑结构，实现了有目的地触发互通性检测，提升了各子拓扑结构之间互通性检测效率，并降低了拓扑结构生成的运算复杂度，提高了拓扑结构生成效率。
权利要求书clms
1.一种拓扑结构生成方法，其特征在于，应用于管理设备，所述方法包括：获取多个根设备；确定所述多个根设备各自对应的子拓扑结构，所述子拓扑结构中至少包括：所述根设备以及与所述根设备通信连接的一个或多个节点设备；根据所述子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与所述子拓扑结构相对应的区间路由表；根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备；在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与所述多个根设备相对应的目标拓扑结构。2.根据权利要求1所述的方法，其特征在于，所述确定所述多个根设备各自对应的子拓扑结构，包括：获取网络中所有节点设备的媒体存取控制位址MAC地址和设备路由表；基于所有节点设备的MAC地址和设备路由表，确定所述多个根设备各自对应的子拓扑结构。3.根据权利要求1所述的方法，其特征在于，所述根据所述子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与所述子拓扑结构相对应的区间路由表，包括：获取所述子拓扑结构中设备的接口IP地址；根据所述第一路由信息和第二路由信息，确定与所述接口I P地址所对应的接口路由表项；将子拓扑结构对应的路由表中所包括的所述接口路由表项删除，获得与所述子拓扑结构相对应的区间路由表。4.根据权利要求1所述的方法，其特征在于，任意两个子拓扑结构之间存在能够进行通信连接的互节点设备包括第一设备和第二设备；所述方法还包括：获取所述第一设备的接口IP地址；在所述接口IP地址为区间路由所对应的源IP地址段内，则控制所述第一设备与所述第二设备进行数据通信；在所述设备IP地址不为区间路由所对应的源IP地址段内，则在所述第一设备所对应的子拓扑结构中构建能够与第二设备进行数据通信的虚拟接口，并控制所述虚拟接口与所述第二设备进行数据通信。5.根据权利要求4所述的方法，其特征在于，在控制所述虚拟接口与所述第二设备进行数据通信之后，所述方法还包括：获取所述虚拟接口与所述第二设备之间的数据通信状态；在所述数据通信状态为完毕状态时，则删除所述根设备创建的所述虚拟接口。6.根据权利要求1所述的方法，其特征在于，所述方法还包括：获取子拓扑结构的所有设备所对应的接口IP地址；根据所有设备所对应的接口IP地址和区间路由表，检测是否存在第三设备，所述第三设备不属于所述子拓扑结构内的节点设备；若存在第三设备，则将所述第三设备增加至子拓扑结构中。7.根据权利要求6所述的方法，其特征在于，所述根据所有设备所对应的接口IP地址和区间路由表，检测是否存在第三设备，包括：获取区间路由表中的目的IP地址；将接口IP地址与目的IP地址进行比较；当所述目的IP地址中不存在与接口IP地址相对应的目标IP地址，则存在第三设备并将接口IP地址所对应的设备确定为第三设备。8.一种拓扑结构生成装置，其特征在于，包括：获取模块，用于获取多个根设备；第一确定模块，用于确定所述多个根设备各自对应的子拓扑结构，所述子拓扑结构中至少包括：所述根设备以及与所述根设备通信连接的一个或多个节点设备；第二确定模块，用于根据所述子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与所述子拓扑结构相对应的区间路由表；检测模块，用于根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备；建立模块，用于在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与所述多个根设备相对应的目标拓扑结构。9.一种电子设备，其特征在于，包括：存储器、处理器、通信接口；其中，所述存储器上存储有可执行代码，当所述可执行代码被所述处理器执行时，使所述处理器执行如权利要求1至7中任一项所述的拓扑结构生成方法。10.一种非暂时性机器可读存储介质，其特征在于，所述非暂时性机器可读存储介质上存储有可执行代码，当所述可执行代码被电子设备的处理器执行时，使所述处理器执行如权利要求1至7中任一项所述的拓扑结构生成方法。
说明书desc
技术领域本发明涉及通信技术领域，尤其涉及一种拓扑结构生成方法、装置、设备和存储介质。背景技术随着网络技术的发展，越来越多的电子设备接入网络中，使得网络规模呈现指数级发展，同时对网络管理的依赖也越来越高。网络拓扑结构是网络管理中的最基础的信息，可以基于生成的网络拓扑结构对网络进行管理和维护。但是在实际应用中，由于网络供应商较多，网络模式多样化，获取信息受设备业务的具体走向以及设备兼容性的影响，使得局部拓扑结构无法生成。在传统的方案中，通过使用ping检测来完成设备之间的互通性检测，并根据检测结果来补充拓扑结构，从而解决了局部拓扑结构无法生成的问题。但是，若要实现完整检测，需要任意设备之间都进行ping检测，这样进行就需要进行多次互通性检测，增加了网络拓扑生成的运算复杂度。发明内容本发明实施例提供一种拓扑结构生成方法、装置、设备和存储介质，能够实现有效地提高网络拓扑结构生成速度和准确度。第一方面，本发明实施例提供一种拓扑结构生成方法，应用于管理设备，所述方法包括：获取多个根设备；确定所述多个根设备各自对应的子拓扑结构，所述子拓扑结构中至少包括：所述根设备以及与所述根设备通信连接的一个或多个节点设备；根据所述子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与所述子拓扑结构相对应的区间路由表；根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备；在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与所述多个根设备相对应的目标拓扑结构。可选地，所述确定所述多个根设备各自对应的子拓扑结构，包括：获取网络中所有节点设备的媒体存取控制位址MAC地址和设备路由表；基于所有节点设备的MAC地址和设备路由表，确定所述多个根设备各自对应的子拓扑结构。可选地，所述根据所述子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与所述子拓扑结构相对应的区间路由表，包括：获取所述子拓扑结构中设备的接口IP地址；根据所述第一路由信息和第二路由信息，确定与所述接口IP地址所对应的接口路由表项；将所述子拓扑结构对应的路由表中所包括的所述接口路由表项删除，获得与所述子拓扑结构相对应的区间路由表。可选地，任意两个子拓扑结构之间存在能够进行通信连接的互节点设备包括第一设备和第二设备；所述方法还包括：获取所述第一设备的接口IP地址；在所述接口IP地址为区间路由所对应的源IP地址段内，则控制所述第一设备与所述第二设备进行数据通信；在所述设备IP地址不为区间路由所对应的源IP地址段内，则在所述第一设备所对应的子拓扑结构中构建能够与第二设备进行数据通信的虚拟接口，并控制所述虚拟接口与所述第二设备进行数据通信。可选地，在控制所述虚拟接口与所述第二设备进行数据通信之后，所述方法还包括：获取所述虚拟接口与所述第二设备之间的数据通信状态；在所述数据通信状态为完毕状态时，则删除所述根设备创建的所述虚拟接口。可选地，所述方法还包括：获取子拓扑结构的所有设备所对应的接口IP地址；根据所有设备所对应的接口IP地址和区间路由表，检测是否存在第三设备，所述第三设备不属于所述子拓扑结构内的节点设备；若存在第三设备，则将所述第三设备增加至子拓扑结构中。可选地，所述根据所有设备所对应的接口IP地址和区间路由表，检测是否存在第三设备，包括：获取区间路由表中的目的IP地址；将接口IP地址与目的IP地址进行比较；不存在与接口IP地址相对应的目标IP地址，则存在第三设备并将接口IP地址所对应的设备确定为第三设备。第二方面，本发明实施例提供一种拓扑结构生成装置，所述装置包括：获取模块，用于获取多个根设备；第一确定模块，用于确定所述多个根设备各自对应的子拓扑结构，所述子拓扑结构中至少包括：所述根设备以及与所述根设备通信连接的一个或多个节点设备；第二确定模块，用于根据所述子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与所述子拓扑结构相对应的区间路由表；检测模块，用于根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备；建立模块，用于在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与所述多个根设备相对应的目标拓扑结构。可选地，所述第一确定模块具体可以用于：获取网络中所有节点设备的媒体存取控制位址MAC地址和设备路由表；基于所有节点设备的MAC地址和设备路由表，确定所述多个根设备各自对应的子拓扑结构。可选地，所述第二确定模块具体可以用于：获取所述子拓扑结构中设备的接口IP地址；根据所述第一路由信息和第二路由信息，确定与所述接口IP地址所对应的接口路由表项；将所述子拓扑结构对应的路由表中所包括的所述接口路由表项删除，获得与所述子拓扑结构相对应的区间路由表。可选地，任意两个子拓扑结构之间存在能够进行通信连接的互节点设备包括第一设备和第二设备，所述拓扑结构生成装置还可以包括通信模块，其具体可以用于：获取所述第一设备的接口IP地址；在所述接口IP地址为区间路由所对应的源IP地址段内，则控制所述第一设备与所述第二设备进行数据通信；在所述设备IP地址不为区间路由所对应的源IP地址段内，则在所述第一设备所对应的子拓扑结构中构建能够与第二设备进行数据通信的虚拟接口，并控制所述虚拟接口与所述第二设备进行数据通信。可选地，所述通信模块之后还可以包括删除模块，具体可以用于：获取所述虚拟接口与所述第二设备之间的数据通信状态；在所述数据通信状态为完毕状态时，则删除所述根设备创建的所述虚拟接口。可选地，所述拓扑结构生成装置还可以包括增加模块，具体可以用于：获取子拓扑结构的所有设备所对应的接口IP地址；根据所有设备所对应的接口IP地址和区间路由表，检测是否存在第三设备，所述第三设备不属于所述子拓扑结构内的节点设备；若存在第三设备，则将所述第三设备增加至子拓扑结构中。第三方面，本发明实施例提供一种电子设备，包括：存储器、处理器、通信接口；其中，所述存储器上存储有可执行代码，当所述可执行代码被所述处理器执行时，使所述处理器至少可以实现如第一方面所述的拓扑结构生成方法。第四方面，本发明实施例提供了一种非暂时性机器可读存储介质，所述非暂时性机器可读存储介质上存储有可执行代码，当所述可执行代码被传输设备的处理器执行时，使所述处理器至少可以实现如第一方面所述的拓扑结构生成方法。在本发明实施例提供的拓扑结构生成方案中，应用于管理设备，其管理设备用于对多个根设备以及多个节点设备进行管理。首先，获取多个根设备，并确定多个根设备各自对应的子拓扑结构，其中子拓扑结构中至少包括：根设备以及与根设备通信连接的一个或多个节点设备。接着，根据子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与子拓扑结构相对应的区间路由表。然后，根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备。若在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与多个根设备相对应的目标拓扑结构。在上述方案中，可以根据子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定出与子拓扑结构相对应的区间路由表，这样可以去掉各子拓扑结构内的多个节点设备，简化各子拓扑结构，得到各子拓扑结构之间的交互关系。再通过确定出的任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备，这样减少了各子拓扑结构之间互通性检测次数，可以有目的地触发互通性检测，提升了各子拓扑结构之间互通性检测效率。并且当所有的子拓扑结构之间互通性检测完成后，若任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与多个根设备相对应的目标拓扑结构，可以降低拓扑结构生成的运算复杂度，从而有效地提高了网络拓扑生成效率。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种网络拓扑结构生成系统的组成示意图；图2为本发明实施例提供的一种拓扑结构生成方法的流程图；图3为本发明实施例提供的一种区间路由表生成方法的应用示意图；图4为本发明实施例提供的一种拓扑结构生成方法的应用示意图；图5为本发明实施例提供的一种拓扑结构生成方法的应用界面示意图；图6为本发明实施例提供的一种拓扑结构生成装置的结构示意图；图7为与图6所示实施例提供的拓扑结构生成装置对应的电子设备的结构示意图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在本发明实施例中使用的术语是仅仅出于描述特定实施例的目的，而非旨在限制本发明。在本发明实施例和所附权利要求书中所使用的单数形式的“一种”、“所述”和“该”也旨在包括多数形式，除非上下文清楚地表示其它含义，“多种”一般包含至少两种，但是不排除包含至少一种的情况。应当理解，本文中使用的术语“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中字符“/”，一般表示前后关联对象是一种“或”的关系。另外，下述各方法实施例中的步骤时序仅为一种举例，而非严格限定。随着网络的快速发展，网络供应商越来越多，网络模式也越来越多样化，造成网络设备信息的获取受具体业务走向以及网络设备兼容性的影响，使得很多设备互联但是不能进行互通，造成局部拓扑结构无法生成。为了解决这种问题，本发明实施例提供了解决方案。为了保证网络设备可以进行正常使用，可以定期进行网络维护，及时发现网络存在的问题。然而进行网络维护的基本方法是根据网络中的网络设备生成对应的网络拓扑结构，基于网络拓扑结构对网络进行维护。在本发明实施例中，可以基于网络拓扑结构生成系统生成完整的网络拓扑结构。图1为本发明实施例提供的一种网络拓扑结构生成系统的组成示意图，如图1所示，该系统包括管理设备、多个网络设备。其中，管理设备用于对多个网络设备进行管理。管理设备可以是位于云端的一种电子设备，比如可以是云端的服务器。网络设备可以接入管理设备，使得管理设备可以对网络中的网络设备下发执行命令，接入的网络设备也可以上报信息到管理设备。网络设备可以包括多个根设备和多个节点设备。其中，多个根设备和多个节点设备的类型不做限定，可以根据实际需求进行配置，其可以是网关、交换机、无线接入点以及打印机等设备。在整个网络拓扑结构生成系统中，多个根设备可以直接连接管理设备，也可以间接连接到管理设备中，并且每个根设备可以连接多个节点设备，其多个节点设备可以直接连接根设备，也可以间接连接到根设备。在本实施例中，假设通过管理设备对多个网络设备进行网络维护，生成对应的网络拓扑结构的生成过程。首先需要将多个网络设备添加到管理设备中，完成正常上线，实现管理设备对多个网络设备进行管理。管理设备触发设备上报指令，多个网络设备接收到该指令之后，将网络设备对应的路由表信息、接口信息、地址解析协议表信息和MAC地址信息上传到管理设备中。管理设备可以根据收集到的各个设备对应的多种信息，计算各网络设备的上联口信息，并根据各网络设备对应的路由表信息确定根设备。获取多个根设备，并确定多个根设备各自对应的子拓扑结构，其中子拓扑结构中至少包括：根设备以及与根设备通信连接的一个或多个节点设备。接着，根据子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与子拓扑结构相对应的区间路由表。然后，根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备。若在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与多个根设备相对应的目标拓扑结构。综上，在本发明实施例提供的网络拓扑结构生成系统中，管理设备可以对网络设备进行管理，根据子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定出与子拓扑结构相对应的区间路由表，再通过确定出的任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备，这样减少了各子拓扑结构之间互通性检测次数，可以有目的地触发互通性检测，提升了各子拓扑结构之间互通性检测效率。并且当子拓扑结构之间互通性检测完成后，可以基于所有根设备所对应的子拓扑结构和所有的互节点设备，一次性建立与多个根设备相对应的目标拓扑结构，生成完整的网络拓扑结构，降低了拓扑结构生成的运算复杂度，从而提高了网络拓扑生成效率。以上对实现网络拓扑结构生成过程所基于的网络拓扑结构生成系统进行了简单介绍，下面对基于该网络拓扑结构生成系统执行的网络拓扑结构生成过程进行示例性说明。图2为本发明实施例提供的一种拓扑结构生成方法的流程图，该方法应用于管理设备，如图2所示，该方法可以包括如下步骤：201、获取多个根设备。202、确定多个根设备各自对应的子拓扑结构，子拓扑结构中至少包括：根设备以及与根设备通信连接的一个或多个节点设备。203、根据子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与子拓扑结构相对应的区间路由表。204、根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备。205、在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与多个根设备相对应的目标拓扑结构。本发明实施例中提供的拓扑结构生成方法，该方法可以应用于管理设备，管理设备用于对多个根设备和多个节点设备进行管理，管理设备可以直接对处于网络中的多个网络设备发送指令，多个网络设备也可以上报信息到管理设备。在本发明实施例中，可以对位于网络中的多个根设备和多个节点设备进行拓扑结构生成，在进行拓扑结构生成前，管理设备触发设备上报信息指令，收集各个设备对应的多种信息，该信息可以包括：路由表信息、接口信息、ARP表以及MAC地址信息等相关设备信息。其中，接口信息可以包括设备的接口类型、接口MAC地址、接口IP地址。其设备具体相关信息的采集可以根据实际需求进行设定。管理设备根据采集到的设备信息，计算各设备的上联口信息并根据路由表信息计算确定根设备，其根设备的计算确定方式不做限定，可以参考现有方案技术中根设备的确定方法。在实际应用中，在生成拓扑结构时，管理设备首先获取确定出的多个根设备，然后以各个根设备为起始点，计算各层级节点设备以及各设备间的连接关系，从而确定多个根设备各自对应的子拓扑结构，其中子拓扑结构中至少包括：根设备以及与根设备通信连接的一个或多个节点设备。在本发明实施例中，对于各层级节点设备的确定方式和各设备之间的连接关系的确定方式不做具体限定，比如可以采用广度优先遍历算法，其具体的计算过程不再详细赘述可以参考现有方案中的技术手段。对于根设备对应的子拓扑结构的确定方式不做具体限定，在实际应用中，可选地，其中确定多个根设备各自对应的子拓扑结构的具体实现过程可以为：获取网络中所有节点设备的媒体存取控制位址MAC地址和设备路由表，基于所有节点设备的MAC地址和设备路由表，确定多个根设备各自对应的子拓扑结构。其中，基于所有节点设备的MAC地址和设备路由表，确定多个根设备各自对应的子拓扑结构的确定方式可以为：基于所有节点设备的MAC地址和设备路由表，确定任意两个节点设备之间的互连状态，基于互联状态，确定多个根设备各自对应的子拓扑结构。在本发明实施例中，可以基于所有节点设备的MAC地址和设备路由表，确定多个根设备各自对应的子拓扑结构，相当于将完整的网络拓扑结构分为多个子拓扑结构，然后再基于子拓扑结构确定各个子拓扑结构之间的连接关系，相当于忽略掉整个子拓扑结构内的多个节点设备，将整个子拓扑结构虚拟为一个设备，简化了整个拓扑结构的生成的复杂度。接着，确定子拓扑结构与其他子拓扑结构之间的连接关系。根据子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与子拓扑结构相对应的区间路由表。其中，子拓扑结构相对应的区间路由表的确定方式不做具体限定，其具体的确定方式可以实现为：获取子拓扑结构中设备的接口IP地址，根据第一路由信息和第二路由信息，确定与接口IP地址所对应的接口路由表项，并将子拓扑结构对应的路由表中所包括的接口路由表项删除，获得与子拓扑结构相对应的区间路由表。其中，接口路由表项的具体确定过程可以实现为：将子拓扑结构对应的路由表中的目的地址为接口IP地址的路由表项确定为子拓扑结构中的接口IP地址所对应的接口路由表项。相当于将子拓扑结构内的多个节点设备之间的交互路由找出，这样确定出的接口路由表项只包括子拓扑结构内部的交互路由。然后，将接口路由表项从子拓扑结构对应的路由表中删除，相当于将子拓扑结构内部多个节点设备之间的交互路由去除掉，只留下与其他子拓扑结构对应的路由表项。为了便于理解，结合图3进行举例性说明区间路由表的确定过程。子拓扑结构内包括根设备、节点设备A、节点设备B、节点设备C，并且各个设备的连接关系如图3所示。根据根设备的第一路由信息和多个节点的第二路由信息，生成子拓扑结构对应的路由表，如表1所示。表1为子拓扑结构对应的路由表。表1源IP地址目的IP地址目的接口1.1.1.0/81.1.1.1P31.1.1.1/81.1.1.2P11.1.1.1/81.1.1.3P11.1.1.2/81.1.1.4P2为了得到子拓扑结构与其他拓扑结构对应的交互路由，首先获取各设备的接口IP地址，其中接口IP地址可以根据各个设备的接口信息进行确定。获取到设备的接口IP地址之后，查找路由表中目的地址分别为接口IP地址1.1.1.1、1.1.1.2、1.1.1.3的路由表项，若目的地址为接口IP地址，那就可以找出内部各设备之间的互连关系，然后将查找到的路由表项删除，得到区间路由表，想当于只留下与其他拓扑结构之间的交互路由，如表2。表2为子拓扑结构对应的区间路由表。表2源IP地址目的IP地址目的端口1.1.1.2/81.1.1.4P2当确定各子拓扑结构相对应的区间路由表后，可以根据确定的区间路由表计算各子拓扑结构之间最优交互路径。在计算各子拓扑结构之间最优交互路径时，首先需要设定各根设备以及多个节点设备的优先级，根设备的优先级可以定义为网关＞三层交换机＞接入交换设备＞接入设备，当根设备为相同类型的设备时，定义设备MAC地址大的优先级较高。其具体地计算过程可以为：根据根设备的优先级关系，对区间路由表进行依次计算，得到区间路由，再依次对选定的的根设备对应的子拓扑结构相对应的区间路由表进行逐条计算。确定出的子拓扑结构相对应的区间路由表中只有子拓扑结构与其他各个拓扑结构相对应的路由表项。然后再基于确定出的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行互相通信连接的互节点设备，这里需要注意的是其互节点设备为多个节点设备中的设备。其具体地实现过程可以为：根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备，若检测出不存在可以进行通信的互节点设备，则基于确定出的多个根设备相对应的子拓扑结构直接生成目标拓扑结构。若在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与多个根设备相对应的目标拓扑结构。当所有的子拓扑结构完成区间路由计算和任意两个子拓扑结构完成是否存在互节点设备的检测以及互节点设备互通性触发后，则可以基于完成所有区间路由表计算和所有子拓扑结构的计算后，管理设备重新获取所有设备的设备信息，基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与所述多个根设备相对应的目标拓扑结构，其目标拓扑结构为完整的实际网络的拓扑结构。由此可知，在生成拓扑结构的过程中，可以通过确定多个根设备各自对应的子拓扑结构，相当于将整个网络拓扑结构分为多个子拓扑结构，基于多个子拓扑结构再进行二次计算，实现了减少拓扑结构生成所需的计算量和数据流量，最终生成相对完整的拓扑结构。在实际应用中，假设任意两个子拓扑结构之间存在能够进行通信连接的互节点设备包括第一设备和第二设备，可以对第一设备和第二设备进行数据通信，再根据数据通信后的互节点设备生成目标拓扑结构。其中，第一设备和第二设备实现数据通信的具体过程可以为：获取第一设备的接口IP地址，在接口IP地址为区间路由所对应的源IP地址段内，则控制第一设备与第二设备进行数据通信。若在设备IP地址不为区间路由所对应的源IP地址段内，则在第一设备所对应的子拓扑结构中构建能够与第二设备进行数据通信的虚拟接口，并控制虚拟接口与第二设备进行数据通信。在实际应用中，由于当设备IP地址不为区间路由所对应的源IP地址段内，构建能够与第二设备进行数据通信的虚拟接口，那么在控制虚拟接口与第二设备进行数据通信之后，还需要获取虚拟接口与第二设备之间的数据通信状态，在数据通信状态为完毕状态时，则删除根设备创建的虚拟接口，恢复原始设置。也就是说，在本发明实施例中，可以先根据子拓扑结构对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行数据通信的互节点设备，可以实现有目的地检测任意两个子拓扑结构之间是否存在互节点设备，可以提升整个拓扑结构生成效率和准确性。并且根据检测出存在互节点设备再进行互节点设备之间的数据通信，这样可以有目的地触发互节点设备之间的数据通信，减少不同设备之间的互通性检测次数，提升了各子拓扑结构之间互通性检测效率，从而可以提高拓扑结构生成效率。由于现有网络供应商较多，网络模式越来越复杂，若存在某些设备不能够被管理设备所识别，不在管理设备管理范围内，那么当实际网络中存在这样的设备，生成的目标拓扑结构可能会和实际网络拓扑结构存在区别。为了避免这种现象的发生，还可以检测是否存在第三设备，其中第三设备不属于子拓扑结构内的节点设备，其具体的实现过程可以为：获取子拓扑结构的所有设备所对应的接口IP地址，根据所有设备所对应的接口IP地址和区间路由表，检测是否存在第三设备，若存在第三设备，则将第三设备增加至子拓扑结构中。其中，根据所有设备所对应的接口IP地址和区间路由表，检测是否存在第三设备的具体实现方式可以为：获取区间路由表中的目的IP地址，将接口IP地址与目的IP地址进行比较，不存在与接口IP地址相对应的目标IP地址，则存在第三设备并将接口IP地址所对应的设备确定为第三设备。确定第三设备之后还可以根据更新后的设备信息，确定第三设备对应的接口。其具体确实过程可以为：管理设备触发子拓扑结构的内部设备信息更新，更新子拓扑结构。然后，对比更新前后的内部设备信息，计算得到新发现接口，该新发现接口即为第三设备对应的接口。上述所有过程完成后，并在完成所有区间路由都完成计算后，主动触发互节点设备之间的数据通信，管理设备可以重新获取多个根设备和多个节点设备的设备信息，并完成最终拓扑计算，生成目标拓扑结构。综上，发明实施例提供的拓扑结构生成方案中，可以先获取多个根设备，并确定多个根设备各自对应的子拓扑结构。接着，根据子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与子拓扑结构相对应的区间路由表，确定出与子拓扑结构相对应的区间路由表，这样可以去掉各子拓扑结构内的多个节点设备，简化各子拓扑结构，得到各子拓扑结构之间的交互关系。然后，根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备。这样减少了各子拓扑结构之间互通性检测次数，可以有目的地触发互通性检测，提升了各子拓扑结构之间互通性检测效率。若在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与多个根设备相对应的目标拓扑结构。当所有的子拓扑结构之间互通性检测完成后，再根据所有根设备所对应的子拓扑结构和所有的互节点设备，建立与多个根设备相对应的目标拓扑结构，只需进行一次计算，可以降低拓扑结构生成的运算复杂度，从而有效地提高了网络拓扑生成效率。为了便于理解，结合图4举例来说，在实际网络中存在两个根设备，如图3中的根设备1和根设备2，每个根设备又直接或间接与多个节点设备进行通信连接，并且网络中存在互连但不进行通信的设备，为了检测出这些设备，生成完整的目标拓扑结构，可以采用如下方法。首先，管理设备触发设备上报信息指令，收集各个设备对应的多种信息，根据收集的信息确定存在两个根设备，并获取两个根设备。然后，获取网络中所有节点设备的媒体存取控制位址MAC地址和设备路由表，基于所有节点设备的MAC地址和设备路由表，确定多个根设备各自对应的子拓扑结构。其中，子拓扑结构中至少包括：根设备以及与根设备通信连接的一个或多个节点设备。接着，获取子拓扑结构中设备的接口IP地址，根据第一路由信息和第二路由信息，确定与接口IP地址信息所对应的接口路由表项，并将所述子拓扑结构对应的路由表中所包括的接口路由表项删除，获得与子拓扑结构相对应的区间路由表。通过将子拓扑结构内的多个节点设备的路由表项删除，只留下与其他子拓扑结构对应的路由表项。以图4中的根设备1相对应的区间路由表为例进行说明，则该区间路由表只留下与根设备2相对应的子拓扑结构中包含的设备的路由表项。然后，根据两个子拓扑结构各自对应的区间路由表，检测两个子拓扑结构之间是否存在能够进行通信连接的互节点设备。发现在两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与多个根设备相对应的目标拓扑结构，即如图4中的网络拓扑结构。本发明实施例不仅可以应用于上述应用场景中，上述发明实施例还可以应用在很多不同的应用场景中，其具体实现方式可以参考上述应用场景中的方法，在此不再详细赘述。如前文所述，本发明提供的拓扑结构生成方法可以在云端来执行，在云端的一个服务器中提供这种服务，云端提供该服务的方式可以是对外提供服务接口，工作人员可以调用该服务接口以使用相应的服务。服务接口包括软件开发工具包、应用程序接口等形式。针对本方明实施例提供的方案，云端服务器可以提供有拓扑结构生成服务的服务接口，工作人员可以通过电子设备调用该拓扑结构生成服务接口，以向云端服务器触发调用该拓扑结构生成服务接口的请求。云端服务器响应该请求，并执行如下步骤：获取多个根设备；确定所述多个根设备各自对应的子拓扑结构，所述子拓扑结构中至少包括：所述根设备以及与所述根设备通信连接的一个或多个节点设备；根据所述子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与所述子拓扑结构相对应的区间路由表；根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备；在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与所述多个根设备相对应的目标拓扑结构。其详细的执行过程可以参考前述其他实施例中的相关说明，在此不赘述。上述实施例中云端服务器得到了完整的网络拓扑结构后，还可以将得到的网络拓扑结构显示在界面上，以便于工作人员可以直观地看到故障链路。为便于理解，结合图5来实例性说明。在图5中，工作人员想要生成完整的目标拓扑结构。首先工作人员通过电子设备E1调用拓扑结构生成服务接口，并向云端服务器E2发送调用请求，该请求中包括网络中的多个设备的设备信息。其中，图5中示意的拓扑结构生成服务接口的调用方式为：工作人员使用特定的APP，在该APP的某界面上设有“上传”按钮，工作人员在该界面上点击上传按钮后，触发上述调用请求。本实施例中假设云端服务器E2在接收到调用请求后，基于上述信息得知目标拓扑结构，其具体的拓扑结构生成过程参考前述实施例中的介绍，在此不赘述。之后，云端服务器E2将最终的拓扑结构生成结果发送给电子设备E1，电子设备E1在界面上显示出目标拓扑结构。图6为本发明实施例提供的一种拓扑结构生成装置的结构示意图，如图6所示，该装置包括：获取模块11，第一确定模块12，第二确定模块13，检测模块14，建立模块15。获取模块11，用于获取多个根设备。第一确定模块12，用于确定所述多个根设备各自对应的子拓扑结构，所述子拓扑结构中至少包括：所述根设备以及与所述根设备通信连接的一个或多个节点设备。第二确定模块13，用于根据所述子拓扑结构中根设备的第一路由信息和节点设备所对应的第二路由信息，确定与所述子拓扑结构相对应的区间路由表。检测模块14，用于根据任意两个子拓扑结构各自对应的区间路由表，检测任意两个子拓扑结构之间是否存在能够进行通信连接的互节点设备。建立模块15，用于在任意两个子拓扑结构之间存在互节点设备时，则基于所有根设备所对应的子拓扑结构和所有的互节点设备，建立与所述多个根设备相对应的目标拓扑结构。可选地，所述第一确定模块12具体可以用于：获取网络中所有节点设备的媒体存取控制位址MAC地址和设备路由表；基于所有节点设备的MAC地址和设备路由表，确定所述多个根设备各自对应的子拓扑结构。可选地，所述第二确定模块13具体可以用于：获取所述子拓扑结构中设备的接口IP地址；根据所述第一路由信息和第二路由信息，确定与所述接口IP地址所对应的接口路由表项；将所述子拓扑结构对应的路由表中所包括的所述接口路由表项删除，获得与所述子拓扑结构相对应的区间路由表。可选地，任意两个子拓扑结构之间存在能够进行通信连接的互节点设备包括第一设备和第二设备，所述拓扑结构生成装置还可以包括通信模块，其具体可以用于：获取所述第一设备的接口IP地址；在所述接口IP地址为区间路由所对应的源IP地址段内，则控制所述第一设备与所述第二设备进行数据通信；在所述设备IP地址不为区间路由所对应的源IP地址段内，则在所述第一设备所对应的子拓扑结构中构建能够与第二设备进行数据通信的虚拟接口，并控制所述虚拟接口与所述第二设备进行数据通信。可选地，所述通信模块之后还可以包括删除模块，具体可以用于：获取所述虚拟接口与所述第二设备之间的数据通信状态；在所述数据通信状态为完毕状态时，则删除所述根设备创建的所述虚拟接口。可选地，所述拓扑结构生成装置还可以包括增加模块，具体可以用于：获取子拓扑结构的所有设备所对应的接口IP地址；根据所有设备所对应的接口IP地址和区间路由表，检测是否存在第三设备，所述第三设备不属于所述子拓扑结构内的节点设备；若存在第三设备，则将所述第三设备增加至子拓扑结构中。图6所示装置可以执行前述实施例中提供的拓扑结构生成方法，详细的执行过程和技术效果参见前述实施例中的描述，在此不再赘述。在一个可能的设计中，上述图6所示拓扑结构生成装置的结构可实现为一电子设备，如图7所示，该电子设备可以包括：处理器21、存储器22、通信接口23。其中，存储器22上存储有可执行代码，当所述可执行代码被处理器21执行时，使处理器21至少可以实现如前述实施例中提供的拓扑结构生成方法。另外，本发明实施例提供了一种非暂时性机器可读存储介质，所述非暂时性机器可读存储介质上存储有可执行代码，当所述可执行代码被电子设备的处理器执行时，使所述处理器至少可以实现如前述实施例中提供的拓扑结构生成方法。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助加必需的通用硬件平台的方式来实现，当然也可以通过硬件和软件结合的方式来实现。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以计算机产品的形式体现出来，本发明可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
