标题title
一种用于投影生成自动梯形校正方法、装置、设备及介质
摘要abst
本发明提供了一种用于投影生成自动梯形校正方法、装置、设备及介质，包括以下步骤：步骤一：获取投影仪所投射的带有预设标定点的投影画面；步骤二：对获取到的投影画面进行边缘处理；步骤三：分析投影画面的变形量数据；步骤四：根据投影画面的变形量数据对投影终端进行梯形校正。本发明通过将软件算法和物理调整方法相结合，可以根据不同的投影环境和需求，灵活地选择适合的校正方法，在投影画面较大或投射距离较远的情况下，采用物理调整搭配软件算法的方法进行调节；而在投影画面较小或投射距离较近的情况下，则采用软件算法进行调节，解决了传统的方法难以适用于较远的投射距离或较大的投影画面的问题。
权利要求书clms
1.一种用于投影生成的自动梯形校正方法，其特征在于，包括以下步骤：步骤一：获取投影仪所投射的带有预设标定点的投影画面；步骤二：对获取到的投影画面进行边缘处理；步骤三：分析投影画面的变形量数据；步骤四：根据投影画面的变形量数据对投影终端进行梯形校正；步骤五：投影画面的尺寸和间距超过额定值时，投影终端自动调焦；步骤六：实时获取投影画面并不断校正，实现自动梯形校正。2.根据权利要求1所述的一种用于投影生成的自动梯形校正方法，其特征在于：在步骤一中，摄像头使用图像算法库查找投影画面的棋盘格角点，检测投影画面是否存在变形，获取此时投影仪此时的偏转角度，获取投影画面的尺寸、投影仪与幕布的间距，投影画面尺寸、投影仪与幕布的间距大于额定值后，直接跳转到步骤五。3.根据权利要求1所述的一种用于投影生成的自动梯形校正方法，其特征在于：在步骤二中，对投影画面进行边缘处理，具体步骤包括：S1：调整投影画面的对比度和亮度；S2：高斯模糊处理：平滑图像并减少噪声，保留边缘信息；S3：锐化处理：增强图像边缘的对比度提高图像的清晰度；S4：中值滤波处理：去除投影画面图像的噪声和伪边缘信息，保留真正的边缘信息；S5：边缘检测算法：使用边缘检测算法识别出投影画面图像中的边缘信息。4.根据权利要求1所述的一种用于投影生成的自动梯形校正方法，其特征在于：在步骤三和步骤四中，计算出画面投射线与投射中心线之间的夹角，分析出投影画面的变形量数据，根据投影画面的变形量数据通过软件算法对投影画面进行几何校正。5.一种用于投影生成的自动梯形校正装置，其特征在于：包括对焦组件和主体组件，所述主体组件包括机体、电路板、微处理器、标准偏转角度和距离设置模块、数据比对分析模块、通信控制模块、校正模块和数据采集模块；所述电路板安装于所述机体的内部，所述微处理器、标准偏转角度和距离设置模块、数据比对分析模块、通信控制模块、校正模块和数据采集模块均封装于所述电路板主体之中。6.根据权利要求5所述的一种用于投影生成的自动梯形校正装置，其特征在于：所述对焦组件包括镜头模组、齿圈、伺服电机、齿轮、角位移传感器和采集摄像头；所述镜头模组安装于所述机体的前表面，所述齿圈安装于所述镜头模组的外侧壁，所述伺服电机的输出轴固定连接于所述齿轮的后表面，所述角位移传感器的转轴固定连接于所述齿轮的前表面。7.根据权利要求6所述的一种用于投影生成的自动梯形校正装置，其特征在于：所述齿轮的外侧壁啮合连接于所述齿圈的外侧壁，所述采集摄像头安装于所述机体的前表面。8.根据权利要求7所述的一种用于投影生成的自动梯形校正装置，其特征在于：所述齿轮转动连接于所述机体的内部，所述角位移传感器和伺服电机均安装于所述机体的内部。9.一种用于投影生成的自动梯形校正设备，其特征在于：所述校正设备包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序；所述处理器执行所述计算机程序时实现如权利要求1至4任一项所述的梯形校正方法。10.一种计算机可读存储介质，其特征在于：所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现如权利要求1至4任一项所述的梯形校正方法。
说明书desc
技术领域本发明涉及一种方法、装置、设备及介质，具体为用于投影生成的自动梯形校正方法、装置、设备及介质，属于投影技术领域。背景技术目前，投影设备在人们日常工作、生活中的应用已经越来越广泛。在投影设备的使用过程中，为了保证投影设备在投射面上形成的投影画面是标准的矩形，需要使投影设备的镜头的光轴尽可能垂直于投射面，否则，投影画面将会产生梯形畸变。针对投影画面容易产生梯形畸变的现象，越来越多的投影设备具备了梯形校正功能。梯形畸变是一种常见的投影问题，为了解决这个问题，许多投影设备都具备了梯形校正功能。梯形校正功能可以通过软件算法或者物理调整机构来实现，能够将投影画面调整为标准的矩形。梯形校正功能包括软件算法和物理调整两个方式；软件算法实现的梯形校正通常是通过图像处理技术，对投影画面的几何形状进行校正，使其恢复为正常的矩形。这种方法的优点是不需要物理调整机构，适用于各种类型的投影设备。但是，如果投影画面的尺寸较大，或者投射距离较远，软件算法可能无法完全校正梯形畸变。物理调整机构实现的梯形校正则是通过调整投影设备的镜头或者投影面的角度，使投影画面的光轴与投射面平行。这种方法的优点是校正效果更好，适用于大型的投影设备或者投射距离较远的情况。例如CN202010216713.7《一种投影装置的自动水平梯形校正方法》和CN201510391656.5《一种投影终端梯形校正方法、装置及投影终端》所公开的技术，其均是采用软件算法实现梯形校正的，对投影画面进行捕捉，计算画面的投影倾斜角，然后根据投影倾斜角对其投影仪进行自动梯形校正，但是此种校正方式存在如下技术问题；难以适用于较远的投射距离或较大的投影画面：如果投影画面的尺寸较大，或者投射距离较远，软件算法可能无法完全校正梯形畸变。这是因为在这种情况下，投影光线可能发生散射，导致投影画面出现更多的畸变；画面的清晰度会影响画面的边缘捕捉：投影环境容易受到外部光纤的影响，高强度的光线会影响投影画面的清晰度和细节，导致摄像头难以捕捉到画面边缘，又例如CN202311113689.4《一种投影设备自动梯形校正系统及方法》所公开的技术，其使用物理调整机构实现对镜头的梯形校正，通过摄像模块捕获投影平面上的图像，反复调节电机，比较摄像模块捕获的图像的清晰度，实现对画面的梯形校正，但是难以实现对画面的快速校正调节，因此无法解决自动梯形校正的问题。为此，提出一种用于投影生成自动梯形校正方法、装置、设备及介质。发明内容有鉴于此，本发明提供一种用于投影生成自动梯形校正方法、装置、设备及介质，以解决或缓解现有技术中存在的技术问题，至少提供一种有益的选择。本发明实施例的技术方案是这样实现的：第一方面，本申请实施例提供一种用于投影生成的自动梯形校正方法，包括以下步骤：步骤一：获取投影仪所投射的带有预设标定点的投影画面；步骤二：对获取到的投影画面进行边缘处理；步骤三：分析投影画面的变形量数据；步骤四：根据投影画面的变形量数据对投影终端进行梯形校正；步骤五：投影画面的尺寸和间距超过额定值时，投影终端自动调焦；步骤六：实时获取投影画面并不断校正，实现自动梯形校正。进一步优选的，在步骤一中，摄像头使用图像算法库查找投影画面的棋盘格角点，检测投影画面是否存在变形，获取此时投影仪此时的偏转角度，获取投影画面的尺寸、投影仪与幕布的间距，投影画面尺寸、投影仪与幕布的间距大于额定值后，直接跳转到步骤五。进一步优选的，在步骤二中，对投影画面进行边缘处理，具体步骤包括：S1：调整投影画面的对比度和亮度；S2：高斯模糊处理：平滑图像并减少噪声，保留边缘信息；S3：锐化处理：增强图像边缘的对比度提高图像的清晰度；S4：中值滤波处理：去除投影画面图像的噪声和伪边缘信息，保留真正的边缘信息；S5：边缘检测算法：使用边缘检测算法识别出投影画面图像中的边缘信息。进一步优选的，在步骤三和步骤四中，计算出画面投射线与投射中心线之间的夹角，分析出投影画面的变形量数据，根据投影画面的变形量数据通过软件算法对投影画面进行几何校正。第二方面，本申请实施例提供一种用于投影生成的自动梯形校正装置，包括对焦组件和主体组件，所述主体组件包括机体、电路板、微处理器、标准偏转角度和距离设置模块、数据比对分析模块、通信控制模块、校正模块和数据采集模块；所述电路板安装于所述机体的内部，所述微处理器、标准偏转角度和距离设置模块、数据比对分析模块、通信控制模块、校正模块和数据采集模块均封装于所述电路板主体之中。进一步优选的，所述对焦组件包括镜头模组、齿圈、伺服电机、齿轮、角位移传感器和采集摄像头；所述镜头模组安装于所述机体的前表面，所述齿圈安装于所述镜头模组的外侧壁，所述伺服电机的输出轴固定连接于所述齿轮的后表面，所述角位移传感器的转轴固定连接于所述齿轮的前表面。进一步优选的，所述齿轮的外侧壁啮合连接于所述齿圈的外侧壁，所述采集摄像头安装于所述机体的前表面。进一步优选的，所述齿轮转动连接于所述机体的内部，所述角位移传感器和伺服电机均安装于所述机体的内部。第三方面，本申请实施例提供一种用于投影生成的自动梯形校正设备，所述校正设备包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序；所述处理器执行所述计算机程序时实现上述所述的梯形校正方法。第四方面，本申请实施例提供一种计算机可读存储介质，所述计算机可读存储介质上存储有计算机程序，所述计算机程序被处理器执行时实现上述所述的梯形校正方法。本发明实施例由于采用以上技术方案，其具有以下优点：一、本发明通过将软件算法和物理调整方法相结合，可以根据不同的投影环境和需求，灵活地选择适合的校正方法，在投影画面较大或投射距离较远的情况下，采用物理调整搭配软件算法的方法进行调节；而在投影画面较小或投射距离较近的情况下，则采用软件算法进行调节，解决了传统的方法难以适用于较远的投射距离或较大的投影画面的问题。二、本发明通过对投影画面的边缘进行增强处理，可以使投影画面的轮廓更加清晰，提高图像的整体清晰度和分辨率；通过对投影画面的边缘进行增强处理，可以突出图像中的重要特征和细节，使图像更加易于识别和理解；通过对投影画面的边缘进行增强处理，可以提高图像的对比度，使图像中的不同部分更加容易区分和辨识；通过对投影画面的边缘进行增强处理，可以将图像分割成不同的区域或对象，便于后续的分析和处理；通过对投影画面的边缘进行增强处理，可以减少图像中的噪声和干扰，提高图像的质量和稳定性；从而解决了画面的清晰度会影响画面的边缘捕捉的问题。上述概述仅仅是为了说明书的目的，并不意图以任何方式进行限制。除上述描述的示意性的方面、实施方式和特征之外，通过参考附图和以下的详细描述，本发明进一步的方面、实施方式和特征将会是容易明白的。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明自动梯形校正方法的步骤流程图；图2为本发明边缘处理方法的步骤流程图；图3为本发明的自动梯形校正设备结构图；图4为本发明的自动梯形校正装置结构图；图5为本发明的主体组件结构图；图6为本发明的电路板结构图；图7为本发明的对焦组件结构图。附图标记：101、对焦组件；11、镜头模组；12、齿圈；13、伺服电机；14、齿轮；15、角位移传感器；16、采集摄像头；301、主体组件；31、机体；32、电路板；33、微处理器；34、标准偏转角度和距离设置模块；35、数据比对分析模块；36、通信控制模块；37、校正模块；38、数据采集模块。具体实施方式在下文中，仅简单地描述了某些示例性实施例。正如本领域技术人员可认识到的那样，在不脱离本发明的精神或范围的情况下，可通过各种不同方式修改所描述的实施例。因此，附图和描述被认为本质上是示例性的而非限制性的。下面结合附图对本发明的实施例进行详细说明。实施例一在现有技术中，均是采用软件算法实现对投影画面的梯形校正，但是在投影画面的清晰度较差时，难以对画面进行捕捉，当投射距离较远或投影面积较大时，校正效果不够好。如图1所示，本发明实施例提供了一种用于投影生成的自动梯形校正方法，包括以下步骤：步骤一：获取投影仪所投射的带有预设标定点的投影画面；步骤二：对获取到的投影画面进行边缘处理；步骤三：分析投影画面的变形量数据；步骤四：根据投影画面的变形量数据对投影终端进行梯形校正；步骤五：投影画面的尺寸和间距超过额定值时，投影终端自动调焦；步骤六：实时获取投影画面并不断校正，实现自动梯形校正。在一个实施例中，在步骤一中，摄像头使用图像算法库查找投影画面的棋盘格角点，检测投影画面是否存在变形，获取此时投影仪此时的偏转角度，获取投影画面的尺寸、投影仪与幕布的间距，投影画面尺寸、投影仪与幕布的间距大于额定值后，直接跳转到步骤五；通过将软件算法和物理调整方法相结合，可以更全面地考虑投影环境和需求，从而更精确地实现梯形校正，软件算法可以补偿由于投影距离、角度等因素引起的梯形畸变，而物理调整方法可以通过调整投影设备的镜头或投影面的角度来进一步修正梯形畸变，以获得更好的投影效果。在一个实施例中，在步骤二中，对投影画面进行边缘处理，具体步骤包括：S1：调整投影画面的对比度和亮度，使投影画面图像的边缘更加明显；S2：高斯模糊处理：平滑图像并减少噪声，保留边缘信息；S3：锐化处理：增强图像边缘的对比度提高图像的清晰度；S4：中值滤波处理：去除投影画面图像的噪声和伪边缘信息，保留真正的边缘信息；S5：边缘检测算法：使用边缘检测算法识别出投影画面图像中的边缘信息，突出显示投影画面图像的边缘。在一个实施例中，在步骤三和步骤四中，计算出画面投射线与投射中心线之间的夹角，分析出投影画面的变形量数据，根据投影画面的变形量数据通过软件算法对投影画面进行几何校正，实现自动梯形校正。针对传统技术中的相关问题，本具体实施方式基于上述所提供的一种用于投影生成的自动梯形校正方法，采用了如下的技术手段或特征实现了解决；1、难以适用于较远的投射距离或较大的投影画面的问题：在对投影画面进行梯形校正时，将软件算法和物理调整方法相结合，可以根据不同的投影环境和需求，灵活地选择适合的校正方法，在投影画面较大或投射距离较远的情况下，采用物理调整搭配软件算法的方法进行调节；而在投影画面较小或投射距离较近的情况下，则采用软件算法进行调节，解决了传统的方法难以适用于较远的投射距离或较大的投影画面的问题；2、画面的清晰度会影响画面的边缘捕捉的问题：通过对投影画面的边缘进行增强处理，可以使投影画面的轮廓更加清晰，提高图像的整体清晰度和分辨率；通过对投影画面的边缘进行增强处理，可以突出图像中的重要特征和细节，使图像更加易于识别和理解；通过对投影画面的边缘进行增强处理，可以提高图像的对比度，使图像中的不同部分更加容易区分和辨识；通过对投影画面的边缘进行增强处理，可以将图像分割成不同的区域或对象，便于后续的分析和处理；通过对投影画面的边缘进行增强处理，可以减少图像中的噪声和干扰，提高图像的质量和稳定性；从而解决了画面的清晰度会影响画面的边缘捕捉的问题。实施例二如图4-6所示，本发明实施例提供了一种用于投影生成的自动梯形校正装置，包括对焦组件101和主体组件301，主体组件301包括机体31、电路板32、微处理器33、标准偏转角度和距离设置模块34、数据比对分析模块35、通信控制模块36、校正模块37和数据采集模块38；电路板32安装于机体31的内部，微处理器33、标准偏转角度和距离设置模块34、数据比对分析模块35、通信控制模块36、校正模块37和数据采集模块38均安装于电路板32主体之中；在对投影画面进行自动梯形校正时，先通过标准偏转角度和距离设置模块34设置标准的偏转角度和距离，然后通信控制模块36通过控制线与被校正投影仪设备进行通信，数据采集模块38从投影仪采集图像数据，并将数据传递给数据比对分析模块35，数据比对分析模块35将采集到的图像数据与标准数据进行比对分析，识别出梯形失真最后，校正模块37根据比对分析结果，控制投影仪进行梯形校正，使投影画面恢复为标准形状。实施例三如图7所示，对焦组件101包括镜头模组11、齿圈12、伺服电机13、齿轮14、角位移传感器15和采集摄像头16；镜头模组11安装于机体31的前表面，齿圈12安装于镜头模组11的外侧壁，伺服电机13的输出轴固定连接于齿轮14的后表面，角位移传感器15的转轴固定连接于齿轮14的前表面，齿轮14的外侧壁啮合连接于齿圈12的外侧壁，采集摄像头16安装于机体31的前表面，齿轮14转动连接于机体31的内部，角位移传感器15和伺服电机13均安装于机体31的内部。在面对投影距离比较远或投影画面较大时，通过伺服电机13带动齿轮14转动，齿轮14通过齿牙带动齿圈12转动，齿圈12带动镜头模组11进行对焦，然后搭配软件算法，进而可以实现物理调整。一种用于投影生成的自动梯形校正设备，校正设备包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序；处理器执行计算机程序时实现上述的梯形校正方法。一种计算机可读存储介质，计算机可读存储介质上存储有计算机程序，计算机程序被处理器执行时实现上述的梯形校正方法。本发明在工作时：软件算法自动梯形校正时，通过采集摄像头16对投影仪的投影画面进行采集，然后将采集到的投影画面发送至数据采集模块38，并将数据传递给数据比对分析模块35，数据比对分析模块35将采集到的图像数据与标准数据进行比对分析，识别出梯形失真最后，校正模块37根据比对分析结果，控制投影仪进行梯形校正，使投影画面恢复为标准形状；在面对投影距离比较远或投影画面较大时，通过伺服电机13带动齿轮14转动，齿轮14通过齿牙带动齿圈12转动，齿圈12带动镜头模组11进行对焦，然后搭配软件算法，进而可以实现物理调整。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到其各种变化或替换，这些都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以所述权利要求的保护范围为准。
