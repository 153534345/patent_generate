标题title
一种电交通耦合系统的协同调度方法及终端
摘要abst
本发明公开了一种电交通耦合系统的协同调度方法及终端，建立基于储氢系统的电力系统调度模型以及交通系统调度模型，使用两个模型对每个车辆充电地点的电价进行迭代，当迭代收敛时得到最优电价，将最优电价代入交通系统调度模型得到交通流量数据，代入所述电力系统调度模型得到发电数据，即可结合交通流量数据和发电数据生成协同调度方案。相比于孤立的考虑电、热系统的经济性进行优化调度分析，不仅实现了电、交通系统的协同优化，而且考虑到电力系统与交通系统隶属于不同主体，仅需要交互电动汽车充电功率和边界节点电价即可实现全局最优。此外，还考虑了为氢能汽车配备的储氢系统，有效提高能源利用率，从而避免出现电网拥塞等现象。
权利要求书clms
1.一种电交通耦合系统的协同调度方法，其特征在于，包括步骤：获取电交通耦合系统中每台发电机组的发电信息，获取车辆储氢的氢气价格和氢气质量，根据发电机组的发电信息、所述氢气价格和所述氢气质量建立基于储氢系统的电力系统调度模型；获取电交通耦合系统中交通系统的运行成本，根据所述运行成本建立交通系统调度模型；使用所述电力系统调度模型和所述交通系统调度模型对每个车辆充电地点的电价进行迭代，当迭代收敛时得到最优电价，将所述最优电价代入所述交通系统调度模型得到交通流量数据，将所述最优电价代入所述电力系统调度模型得到发电数据，结合所述交通流量数据和所述发电数据生成协同调度方案。2.根据权利要求1所述的一种电交通耦合系统的协同调度方法，其特征在于，所述根据发电机组的发电信息、所述氢气价格和所述氢气质量建立基于储氢系统的电力系统调度模型包括：基于发电机组的发电信息、所述氢气价格和所述氢气质量设置基于储氢系统的电力系统调度模型的目标函数：式中，表示第a台发电机组在t时段的发电功率，/＞表示向加氢站提供的氢气质量，T表示时间段的集合，Pbus表示电网线路的集合，Sa表示第a台发电机的发电成本，CH表示氢气每单位质量的价格。3.根据权利要求2所述的一种电交通耦合系统的协同调度方法，其特征在于，所述建立基于储氢系统的电力系统调度模型，还包括：确定所述电力系统调度模型的电力系统中节点有功功率平衡的约束条件和电力系统中功率上下限的约束条件。4.根据权利要求2所述的一种电交通耦合系统的协同调度方法，其特征在于，所述建立基于储氢系统的电力系统调度模型，还包括：确定电解槽将电能转化为氢能的约束条件，氢燃料发电机将氢能转化为电能的约束条件以及储氢罐存储氢气的约束条件。5.根据权利要求1所述的一种电交通耦合系统的协同调度方法，其特征在于，根据所述运行成本建立交通系统调度模型包括：基于所述运行成本设置交通系统调度模型的目标函数：式中，xa,t表示a路段t时段的车流量，T表示时间段的集合，AT表示路段集合，ya表示a路段的总成本，θi,t表示i节点在t时段的电价，C表示起点-终点对的集合，表示起点-终点对c在t时段的修正交通需求量。6.根据权利要求5所述的一种电交通耦合系统的协同调度方法，其特征在于，所述建立交通系统调度模型，还包括：确定起点-终点对c在t时段的修正交通需求量的约束条件以及交通路段时间成本的约束条件。7.根据权利要求1所述的一种电交通耦合系统的协同调度方法，其特征在于，使用所述电力系统调度模型和所述交通系统调度模型对每个车辆充电地点的电价进行迭代，当迭代收敛时得到最优电价包括：将每个车辆充电地点的电价作为当前电价；将路段的当前电价代入所述交通系统调度模型，求解得到路段上的第一充电功率，将所述第一充电功率代入所述电力系统调度模型进行求解，根据求解结果计算每个车辆充电地点的最新电价，将当前电价更新为最新电价；判断当前电价是否达到收敛条件，若否，则返回执行将路段的当前电价代入所述交通系统调度模型的步骤，若是，则将所述当前电价作为最优电价。8.根据权利要求7所述的一种电交通耦合系统的协同调度方法，其特征在于，将所述第一充电功率代入所述电力系统调度模型进行求解，根据求解结果计算每个车辆充电地点的最新电价包括：将所述第一充电功率代入所述电力系统调度模型，计算得到电力系统调度模型的有功功率平衡等式约束的拉格朗日乘子；将所述拉格朗日乘子与电力系统调度模型约束的稀疏矩阵相乘，计算得到每个车辆充电地点的最新电价。9.一种电交通耦合系统的协同调度终端，包括存储器、处理器以及存储在所述存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至8任一项所述的一种电交通耦合系统的协同调度方法的各个步骤。
说明书desc
技术领域本发明涉及多能源的电网控制技术领域，特别涉及一种电交通耦合系统的协同调度方法及终端。背景技术随着绿色能源使用和碳中和的深入，将电动汽车代替燃油汽车已得到广泛普及。由于充电需求的稳步增加，电力过载是不可忽略的。据估计，电动汽车充电的用电量将占中国总发电和用电量的10％以上。电动汽车采用量的激增给电网带来了巨大的压力。此外，为了缓解电动汽车驾驶员的里程焦虑，现有技术中提供了将充电集成到驾驶过程中的动态无线充电技术。如果所有的主要道路都配备了无线充电设备，那么峰值用电量将增加7％的，这可能会给电力系统带来沉重的能源负担。此外，电动汽车的驾驶和充电选择也会受到交通状况的影响。目前，电力系统中的电力调度和运输网络中的交通分配都是隔离进行的，而不同充电站之间的电价保持基本统一。电动汽车的路线选择完全取决于道路的状态，而不管电网传输的负担。然而，作为电力系统的主要电力负荷和电气化运输网络的能源，充电设施的高渗透性加强了两个系统之间的互联互通。传统的调度方法可能会导致一些问题：包括路径的使用效率低下、功率拥塞和注入电网的潮流分布不均衡。因此，亟需将电力与交通网络进行协调调度。然而目前的协同调度研究主要集中在交通网络中的电动汽车上，而氢燃料电池电动汽车的影响较少得到处理。氢燃料电池电动汽车通常在氢燃料站加油，这些站通常配备氢储氢罐和电解槽，没有发电能力，为了实现氢气和电气的双向转换，燃料电池发电机需要被连接到氢能存储系统上。储存的氢气可以在需要时转化为电能，从而赋予电力系统更多的功率灵活性。目前大多数方法仅能实现集中式的电-热耦合系统协同，这在工程实践中会造成巨大困难。一方面，由于电力系统和交通系统分别由独立的调度中心进行调度，要交互两者的详细拓扑和运行状态并不实际。另一方面，电力系统和交通系统在能流类型、数值条件上完全不同，难以进行集中控制。发明内容本发明所要解决的技术问题是：提供一种电交通耦合系统的协同调度方法及终端，能够对电力系统和交通系统进行协同调度和集中控制，同时能够有效增加新能源消纳，提高能源利用率。为了解决上述技术问题，本发明采用的技术方案为：一种电交通耦合系统的协同调度方法，包括步骤：获取电交通耦合系统中每台发电机组的发电信息，获取车辆储氢的氢气价格和氢气质量，根据发电机组的发电信息、所述氢气价格和所述氢气质量建立基于储氢系统的电力系统调度模型；获取电交通耦合系统中交通系统的运行成本，根据所述运行成本建立交通系统调度模型；使用所述电力系统调度模型和所述交通系统调度模型对每个车辆充电地点的电价进行迭代，当迭代收敛时得到最优电价，将所述最优电价代入所述交通系统调度模型得到交通流量数据，将所述最优电价代入所述电力系统调度模型得到发电数据，结合所述交通流量数据和所述发电数据生成协同调度方案。为了解决上述技术问题，本发明采用的另一种技术方案为：一种电交通耦合系统的协同调度终端，包括存储器、处理器以及存储在所述存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述的一种电交通耦合系统的协同调度方法的各个步骤。本发明的有益效果在于：建立基于储氢系统的电力系统调度模型以及交通系统调度模型，使用两个模型对每个车辆充电地点的电价进行迭代，当迭代收敛时得到最优电价，将最优电价代入交通系统调度模型得到交通流量数据，代入所述电力系统调度模型得到发电数据，即可结合交通流量数据和发电数据生成协同调度方案。相比于孤立的考虑电、热系统的经济性进行优化调度分析，不仅实现了电、交通系统的协同优化，而且考虑到电力系统与交通系统隶属于不同主体，仅需要交互电动汽车充电功率和边界节点电价即可实现全局最优。此外，还考虑了为氢能汽车配备的储氢系统，有效提高能源利用率，从而避免出现电网拥塞等现象。附图说明图1为本发明实施例的一种电交通耦合系统的协同调度方法的流程图；图2为本发明实施例的一种电交通耦合系统的协同调度终端的示意图；标号说明：1、一种电交通耦合系统的协同调度终端；2、存储器；3、处理器。具体实施方式为详细说明本发明的技术内容、所实现目的及效果，以下结合实施方式并配合附图予以说明。请参照图1，本发明实施例提供了一种电交通耦合系统的协同调度方法，包括步骤：获取电交通耦合系统中每台发电机组的发电信息，获取车辆储氢的氢气价格和氢气质量，根据发电机组的发电信息、所述氢气价格和所述氢气质量建立基于储氢系统的电力系统调度模型；获取电交通耦合系统中交通系统的运行成本，根据所述运行成本建立交通系统调度模型；使用所述电力系统调度模型和所述交通系统调度模型对每个车辆充电地点的电价进行迭代，当迭代收敛时得到最优电价，将所述最优电价代入所述交通系统调度模型得到交通流量数据，将所述最优电价代入所述电力系统调度模型得到发电数据，结合所述交通流量数据和所述发电数据生成协同调度方案。从上述描述可知，本发明的有益效果在于：建立基于储氢系统的电力系统调度模型以及交通系统调度模型，使用两个模型对每个车辆充电地点的电价进行迭代，当迭代收敛时得到最优电价，将最优电价代入交通系统调度模型得到交通流量数据，代入所述电力系统调度模型得到发电数据，即可结合交通流量数据和发电数据生成协同调度方案。相比于孤立的考虑电、热系统的经济性进行优化调度分析，不仅实现了电、交通系统的协同优化，而且考虑到电力系统与交通系统隶属于不同主体，仅需要交互电动汽车充电功率和边界节点电价即可实现全局最优。此外，还考虑了为氢能汽车配备的储氢系统，有效提高能源利用率，从而避免出现电网拥塞等现象。进一步地，所述根据发电机组的发电信息、所述氢气价格和所述氢气质量建立基于储氢系统的电力系统调度模型包括：基于发电机组的发电信息、所述氢气价格和所述氢气质量设置基于储氢系统的电力系统调度模型的目标函数：式中，表示第a台发电机组在t时段的发电功率，/＞表示向加氢站提供的氢气质量，T表示时间段的集合，Pbus表示电网线路的集合，Sa表示第a台发电机的发电成本，CH表示氢气每单位质量的价格。由上述描述可知，以最小化发电成本并减去氢气获取收益为目标，设置基于储氢系统的电力系统调度模型的目标函数，能够在成本最小化计算的时候考虑到氢气收益情况，提高目标函数设置的准确性。进一步地，所述建立基于储氢系统的电力系统调度模型，还包括：确定所述电力系统调度模型的电力系统中节点有功功率平衡的约束条件和电力系统中功率上下限的约束条件。由上述描述可知，设置节点有功功率平衡的约束条件，能够保证电网有效运行；设置功率上下限的约束条件，能够防止线路和发电机过载，保证在安全范围内运行，从而结合这两个约束条件保证电网运行的可靠性。进一步地，所述建立基于储氢系统的电力系统调度模型，还包括：确定电解槽将电能转化为氢能的约束条件，氢燃料发电机将氢能转化为电能的约束条件以及储氢罐存储氢气的约束条件。由上述描述可知，考虑到储氢系统中各设备的约束条件，能够促进电力系统进行新能源消纳，有效平稳电力系统功率的功率波动。进一步地，根据所述运行成本建立交通系统调度模型包括：基于所述运行成本设置交通系统调度模型的目标函数：式中，xa,t表示a路段t时段的车流量，T表示时间段的集合，AT表示路段集合，ya表示a路段的总成本，θi,t表示i节点在t时段的电价，C表示起点-终点对的集合，表示起点-终点对c在t时段的修正交通需求量。由上述描述可知，以最小化交通系统运行成本为目标设置目标函数，该函数中包括时间和充电费用成本，还减去了旅客获得利益，提高目标函数设置的准确性。进一步地，所述建立交通系统调度模型，还包括：确定起点-终点对c在t时段的修正交通需求量的约束条件以及交通路段时间成本的约束条件。由上述描述可知，通过为交通系统调度模型设置约束条件，能够考虑到时间段间的弹性交通需求量变化。进一步地，使用所述电力系统调度模型和所述交通系统调度模型对每个车辆充电地点的电价进行迭代，当迭代收敛时得到最优电价包括：将每个车辆充电地点的电价作为当前电价；将路段的当前电价代入所述交通系统调度模型，求解得到路段上的第一充电功率，将所述第一充电功率代入所述电力系统调度模型进行求解，根据求解结果计算每个车辆充电地点的最新电价，将当前电价更新为最新电价；判断当前电价是否达到收敛条件，若否，则返回执行将路段的当前电价代入所述交通系统调度模型的步骤，若是，则将所述当前电价作为最优电价。由上述描述可知，通过对电价进行迭代至收敛，能够得到最优电价，以便于在最优电价的情况下得到对应的电-交通耦合系统协同调度方案。进一步地，将所述第一充电功率代入所述电力系统调度模型进行求解，根据求解结果计算每个车辆充电地点的最新电价包括：将所述第一充电功率代入所述电力系统调度模型，计算得到电力系统调度模型的有功功率平衡等式约束的拉格朗日乘子；将所述拉格朗日乘子与电力系统调度模型约束的稀疏矩阵相乘，计算得到每个车辆充电地点的最新电价。由上述描述可知，使用拉格朗日乘子进行电价计算，能够在求解电力系统调度模型后直接获得最新电价，不需要进行其他计算，提高计算效率。请参照图2，本发明另一实施例提供了一种电交通耦合系统的协同调度终端，包括存储器、处理器以及存储在所述存储器上并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述的一种电交通耦合系统的协同调度方法的各个步骤。本发明上述的一种电交通耦合系统的协同调度方法及终端，适用于考虑氢燃料电池电动汽车的电交通耦合系统的协同调度，能够保证电-交通耦合多能流系统的高效运行，以下通过具体的实施方式进行说明：实施例一请参照图1，一种电交通耦合系统的协同调度方法，包括步骤：S1、获取电交通耦合系统中每台发电机组的发电信息，获取车辆储氢的氢气价格和氢气质量，根据发电机组的发电信息、所述氢气价格和所述氢气质量建立基于储氢系统的电力系统调度模型。S11、基于发电机组的发电信息、所述氢气价格和所述氢气质量设置基于储氢系统的电力系统调度模型的目标函数：式中，表示第a台发电机组在t时段的发电功率，/＞表示向加氢站提供的氢气质量，T表示时间段的集合，Pbus表示电网线路的集合，Sa表示第a台发电机的发电成本，CH表示氢气每单位质量的价格。该目标函数以最小化发电成本并减去氢气获取收益为目标。其中，式中，ψ1a和ψ2a分别表示第a台发电机组的成本一次项系数和二次项系数。S12、确定所述电力系统调度模型的节点有功功率平衡的约束条件和电力系统中功率上下限的约束条件。S121、确定电力系统中节点有功功率平衡的约束条件，保证电网有效运行：式中，表示在a节点在t时段的风力发电功率，/＞表示在a节点在t时段的发电功率，/＞表示在i节点在t时段的电动汽车充电功率消耗，Pline表示发电机组的集合，Pab,t表示线路在t时段的功率，Pij,t表示线路在t时段的功率，ai,t表示在i节点在t时段的相角，aj,t表示在j节点在t时段的相角，a0,t表示平衡节点在t时段的相角，bij表示线路的电纳。其中，节点连接电源类设备和负荷类设备，电源类设备主要为发电机组和风力发电机组，负荷类设备主要为充电负荷。S122、确定电力系统中功率上下限的约束条件，以防止线路和发电机过载，保证在安全范围内运行：式中，Pij,min表示线路功率下限，Pij,max表示线路功率上限，表示i节点发电机输出功率下限，/＞表示i节点发电机输出功率上限。S13、确定电解槽将电能转化为氢能的约束条件，氢燃料发电机将氢能转化为电能的约束条件以及储氢罐存储氢气的约束条件。具体的，建立储氢系统模型，该模型促进电力系统进行新能源消纳，有效平稳电力系统功率的功率波动，该模型下列约束条件组成：S131、电解槽模型，由电能转化为氢能，将部分氢能用于为氢能汽车供能，储存部分氢能用于后续转化为电能：式中，表示时段t产出氢气的质量流量，ηin表示电解槽能源转化效率，/＞表示电解槽为电解消耗的功率，ρ0表示氢气密度，LHVh表示氢气的低热值，/＞表示时段t产出氢气的质量，/＞表示氢气产出的质量流量最大值。S132、氢燃料发电机，由氢能转化为电能，在电价较高电能紧缺的时段，对电网进行补充，从而降低电网波动幅度，保证电网更安全有效的运行：式中，表示时段t消耗氢气的质量流量，ηout表示氢燃料发电机能源转化效率，/＞表示氢燃料发电机的发电功率，HHVh表示氢气的高热值，/＞表示时段t消耗氢气的质量，/＞表示氢气消耗的质量流量最大值。S133、储氢罐，用于储存剩余氢气，约束保证储氢罐内氢气在安全运行范围内的质量平衡，以准备在电网拥塞时提供电能：Nh,min≤Nh,t≤Nh,max；式中，Nh,t表示t时段储氢罐内氢气质量，表示输送给加氢站的氢气质量，Nh,min表示储氢罐氢气质量最小值，Nh,max表示储氢罐氢气质量最大值，R表示需求满足比例。表示氢能汽车在t时段所需加氢质量，N0表示每辆氢能汽车的加氢质量，/＞表示t时段氢能汽车的数量。S2、获取电交通耦合系统中交通系统的运行成本，根据所述运行成本建立交通系统调度模型。S21、基于所述运行成本设置交通系统调度模型的目标函数，以最小化交通系统运行成本，包括时间和充电费用成本减去旅客获得利益为目标建立目标函数：式中，xa,t表示a路段t时段的车流量，T表示时间段的集合，AT表示路段集合，ya表示a路段的总成本，θi,t表示i节点在t时段的电价，C表示起点-终点对的集合，表示起点-终点对c在t时段的修正交通需求量，H函数表示/＞的函数形式的反函数。S22、确定交通系统调度模型的约束条件，以此方式考虑随时间段变化的弹性交通需求量：式中，gc,t表示O-D对c在t时段的剩余流量，hc,t表示O-D对c在t时段的交通需求量，tc,t表示O-D对c时段t的最短耗时路径行驶时间。上式亦可表示为函数形式：式中，Rc表示交通系统中路径的集合，zrc,t表示时段t路径r连接O-D对c的交通流量。ta,t表示时段t路段a的时间成本，γ表示时间的经济价值，表示自由流量的行驶时间，/＞表示无线充电车道的充电时间。πar,t表示布朗变量，当时段t时路段a属于路径r则πar,t为1，否则πar,t为0。Lge表示普通车道的集合，Lch表示无线充电车道的集合。qge表示普通车道的容量，qch表示无线充电车道的容量。ΔT表示时段间隔。S3、使用所述电力系统调度模型和所述交通系统调度模型对每个车辆充电地点的电价进行迭代，当迭代收敛时得到最优电价，将所述最优电价代入所述交通系统调度模型得到交通流量数据，将所述最优电价代入所述电力系统调度模型得到发电数据，结合所述交通流量数据和所述发电数据生成协同调度方案。S31、将每个车辆充电地点的电价作为当前电价。S32、将路段的当前电价代入所述交通系统调度模型，求解得到路段上的第一充电功率，将所述第一充电功率代入所述电力系统调度模型进行求解，根据求解结果计算每个车辆充电地点的最新电价，将当前电价更新为最新电价。具体的，将所述第一充电功率代入所述电力系统调度模型，计算得到电力系统调度模型的有功功率平衡等式约束的拉格朗日乘子；将所述拉格朗日乘子与电力系统调度模型约束的稀疏矩阵相乘，计算得到每个车辆充电地点的最新电价。S33、判断当前电价是否达到收敛条件，若否，则返回执行将路段的当前电价代入所述交通系统调度模型的步骤，若是，则将所述当前电价作为最优电价。在本实施例中，初始化迭代次数N_iter为1，给定每个无线充电地点对应的电价θi,t作为迭代初值，并将θi,t作为当前的θi,t；利用当前的θi,t，采用内点法，对交通系统调度模型求解，得到该模型的决策变量充电路段上的充电功率的值；将充电功率/＞代入电力系统调度模型中并进行求解，得到该模型有功功率平衡等式约束的拉格朗日乘子μp；进而求取每一充电地点的节点电价θi,t，/＞其中，ξpt表示获得拉格朗日乘子的电力系统调度模型约束的稀疏矩阵，T为矩阵转置的标识，θ为θi,t的矩阵形式；将电价θ引入交通系统调度模型中，更新交通系统中的节点电价信息θi,t，采用内点法，对交通系统调度模型求解，得到新的充电功率的值将更新后的θi,t作为新的θi,t；令迭代次数N_iter加1，将当前θi,t作为新的θi,t。对θi,t进行判定：若满足θi,t－θi,t＜ε，则迭代收敛，θi,t即为电-交通耦合系统的最优电价，其中ε为收敛阈值；若不满足，则重新返回执行利用当前的θi,t，采用内点法，对交通系统调度模型求解的步骤。由最优电价对应的最新电力系统运行数据和最新充电功率为该电-交通耦合系统最优协同调度方案。在一些实施例中，最终获得的调度方案是交通系统各路段的行驶交通流量和电力系统的发电数据。实施例二请参照图2，一种电交通耦合系统的协同调度终端1，包括存储器2、处理器3以及存储在所述存储器2上并可在处理器3上运行的计算机程序，所述处理器3执行所述计算机程序时实现实施例一的一种电交通耦合系统的协同调度方法的各个步骤。综上所述，本发明提供的一种电交通耦合系统的协同调度方法及终端，本方法考虑电-交通系统的紧密耦合与相互影响，实现了电力系统与交通系统的分布式协同调度。相比于孤立的考虑电、热系统的经济性进行优化调度分析，不仅实现了电、交通系统的协同优化，而且考虑到电力系统与交通系统隶属于不同主体，仅需要交互电动汽车充电功率和边界节点电价即可实现全局最优。该方法可以实际应用于电-热耦合多能流系统的调度计划制定，适配于原本的电力系统与区域供热系统能量管理系统，有利于减少运行成本，同时提高电-热耦合多能流系统的用能效率。此外，还考虑了为氢能汽车配备的储氢系统，储氢系统可以有效增加新能源消纳，平稳电网波动，有效提高能源利用率，从而避免出现电网拥塞等现象，剩余氢气售卖给当地工厂，增加经济效益。以上所述仅为本发明的实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等同变换，或直接或间接运用在相关的技术领域，均同理包括在本发明的专利保护范围内。
