标题title
多采图装置同步方法、系统、电子设备和存储介质
摘要abst
本申请提供了一种多采图装置同步方法、系统、电子设备和存储介质，涉及图像处理领域。其中，信号处理装置，用于获取第一单触发信号和第一持续触发信号；延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；获取第二持续触发信号有效电平期内的第一单触发信号，作为第二单触发信号；发送第二单触发信号至每一采图装置；多个采图装置，用于均基于第二单触发信号采集初始图像；发送初始图像至信号处理装置；信号处理装置，用于接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。基于此，避免了第二单触发信号在第一持续触发信号有效电平的开始时刻被判定错误的情况。
权利要求书clms
1.一种多采图装置同步系统，其特征在于，包括：信号处理装置，用于获取第一单触发信号和第一持续触发信号；延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；获取第二持续触发信号有效电平期内的第一单触发信号，作为第二单触发信号，并发送第二单触发信号至每一采图装置；多个采图装置，用于均基于第二单触发信号采集初始图像；发送初始图像至信号处理装置；信号处理装置，用于接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。2.一种多采图装置同步方法，其特征在于，应用于多采图装置同步系统的信号处理装置，多采图装置同步方法包括：获取第一单触发信号和第一持续触发信号；延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；获取第二持续触发信号有效电平期内的第一单触发信号，作为第二单触发信号，并发送第二单触发信号至每一采图装置，以使多个采图装置均基于第二单触发信号采集初始图像，发送初始图像至信号处理装置；接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。3.根据权利要求2所述的多采图装置同步方法，其特征在于，信号处理装置包括多个信号处理单元，且多个信号处理单元分为一个主信号处理单元和至少一个次信号处理单元，多采图装置同步方法包括：主信号处理单元获取第一单触发信号和第一持续触发信号，次信号处理单元获取第一持续触发信号；主信号处理单元延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；主信号处理单元获取第二持续触发信号有效电平期内第一单触发信号，作为第二单触发信号；主信号处理单元将第二单触发信号发送至每一次信号处理单元；主信号处理单元和每一次信号处理单元分别将第二单触发信号发送至与其连接的采图装置，以使连接的采图装置基于第二单触发信号采集初始图像，并发送初始图像至相连接的主信号处理单元或次信号处理单元；主信号处理单元与次信号处理单元在接收到初始图像后，分别根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。4.根据权利要求3所述的多采图装置同步方法，其特征在于，主信号处理单元延迟第一持续触发信号的有效电平期的初始时刻，生成第二持续触发信号，包括：主信号处理单元将第一持续触发信号有效电平期的初始时刻延迟预设的时间段D1，得到延迟后的第一持续触发信号，作为第二持续触发信号，且预设时间段D1满足：D1≥T1+2×T2-T3；其中，T1表示不同信号处理单元之间获取到第一持续触发信号的最大时间差；T2表示信号处理单元中采样第一持续触发信号的时钟周期；T3表示采图装置从接收第二单触发信号至发送初始图像之间的时间段；信号处理单元包括主信号处理单元和次信号处理单元。5.根据权利要求2所述的多采图装置同步方法，其特征在于，信号处理装置包括一个信号处理单元，多采图装置同步方法包括：信号处理单元获取第一单触发信号和第一持续触发信号；信号处理单元延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；信号处理单元获取第二持续触发信号有效电平期内第一单触发信号，作为第二单触发信号；信号处理单元发送第二单触发信号至每一采图装置，以使多个采图装置均基于第二单触发信号采集初始图像，并发送初始图像至主信号处理单元；信号处理单元在接收初始图像后，根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。6.根据权利要求5所述的多采图装置同步方法，其特征在于，信号处理单元延迟第一持续触发信号的有效电平的初始时刻，生成第二持续触发信号，包括：信号处理单元将第一持续触发信号的有效电平期的初始时刻延迟预设的时间段D2，得到延迟后的第一持续触发信号，作为第二持续触发信号，且预设时间段D2满足：D2≥2×T2-T3。7.根据权利要求2所述的多采图装置同步方法，其特征在于，接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像，包括：在第一持续触发信号有效电平期内，持续接收每一采图装置发送的初始图像，并判断接收到的初始图像数量是否达到最大预设数值；若是，则停止接收初始图像，并分别根据不同采图装置对已接收到的初始图像进行单独组合，形成组合图像；若否，则在第一持续触发信号的有效电平期结束后，分别根据不同采图装置对已接收到的初始图像进行单独组合，形成组合图像。8.根据权利要求2所述的多采图装置同步方法，其特征在于，发送第二单触发信号至每一采图装置的过程，包括：利用预设的低速时钟向采图装置发送触发标志，以使采图装置基于触发标志采集初始图像；其中，触发标识是基于第二单触发信号得到的；基于预设的高速时钟，计算第二单触发信号的开始时刻至发送触发标志时刻之间的高速时钟周期数；利用预设的低速时钟向采图装置发送高速时钟周期数。9.一种多采图装置同步方法，其特征在于，应用于多采图装置同步系统的多个采图装置，每一采图装置同步方法包括：每一采图装置均接收第二单触发信号；其中，第二单触发信号是信号处理装置通过获取第二持续触发信号有效电平期内的第一单触发信号得到的；第二持续触发信号是信号处理装置在获取第一单触发信号和第一持续触发信号之后，延迟第一持续触发信号的有效电平期的初始时刻所生成的；每一采图装置均基于第二单触发信号采集初始图像，并发送初始图像至信号处理装置，以使信号处理装置接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。10.一种电子设备，其特征在于，包括处理器、通信接口、存储器和通信总线，其中，处理器，通信接口，存储器通过通信总线完成相互间的通信；存储器，用于存放计算机程序；处理器，用于执行存储器上所存放的程序时，实现权利要求2-8或9任一项所述的多采图装置同步方法。11.一种计算机可读存储介质，其特征在于，计算机可读存储介质内存储有计算机程序，计算机程序被处理器执行时实现权利要求2-8或9任一项所述的多采图装置同步方法。
说明书desc
技术领域本申请涉及图像处理领域，尤其涉及一种多采图装置同步方法、系统、电子设备和存储介质。背景技术随着信息技术的发展，图像同步采集应用于越来越多的工作场景中。例如，在机器视觉检测中，受被测物品的形状和尺寸等因素的限制，机器视觉检测系统通常需要配备多个相机进行图像采集，并将采集到的图像进行融合，以获取完整的图像。或者，在子弹时间图像采集系统或自由视角图像采集系统中，通常需要用到多台摄像机进行图像同步拍摄，以实现特效视频的生成。多采图装置系统中，在外触发信号模式下，由于采图装置对触发信号存在异步采样的不确定性，使得不同采图装置中认定触发信号的开始时刻容易发生偏移，导致多采图装置系统的同步功能存在误差。因此，亟须一种多采图装置同步方法，以提升在外触发信号模式下多采图装置的同步性能。发明内容本申请提出的一种多采图装置同步方法、系统、电子设备和存储介质，用于解决多采图装置同步性能较差的问题。为实现上述目的，本申请提出了以下技术方案：在本申请的第一方面，提供了一种多采图装置同步系统，包括：信号处理装置，用于获取第一单触发信号和第一持续触发信号；延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；获取第二持续触发信号有效电平期内的第一单触发信号，作为第二单触发信号，并发送第二单触发信号至每一采图装置；多个采图装置，用于均基于第二单触发信号采集初始图像；发送初始图像至信号处理装置；信号处理装置，用于接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。在本申请的第二方面，提供了一种多采图装置同步方法，应用于多采图装置同步系统的信号处理装置，多采图装置同步方法包括：获取第一单触发信号和第一持续触发信号；延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；获取第二持续触发信号有效电平期内的第一单触发信号，作为第二单触发信号，并发送第二单触发信号至每一采图装置，以使多个采图装置均基于第二单触发信号采集初始图像，发送初始图像至信号处理装置；接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。进一步地，信号处理装置包括多个信号处理单元，且多个信号处理单元分为一个主信号处理单元和至少一个次信号处理单元，多采图装置同步方法包括：主信号处理单元获取第一单触发信号和第一持续触发信号，次信号处理单元获取第一持续触发信号；主信号处理单元延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；主信号处理单元获取第二持续触发信号有效电平期内第一单触发信号，作为第二单触发信号；主信号处理单元将第二单触发信号发送至每一次信号处理单元；主信号处理单元和每一次信号处理单元分别将第二单触发信号发送至与其连接的采图装置，以使连接的采图装置基于第二单触发信号采集初始图像，并发送初始图像至相连接的主信号处理单元或次信号处理单元；主信号处理单元与次信号处理单元在接收到初始图像后，分别根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。进一步地，主信号处理单元延迟第一持续触发信号的有效电平期的初始时刻，生成第二持续触发信号，包括：主信号处理单元将第一持续触发信号有效电平期的初始时刻延迟预设的时间段D1，得到延迟后的第一持续触发信号，作为第二持续触发信号，且预设时间段D1满足：D1≥T1+2×T2-T3；其中，T1表示不同信号处理单元之间获取到第一持续触发信号的最大时间差；T2表示信号处理单元中采样第一持续触发信号的时钟周期；T3表示采图装置从接收第二单触发信号至发送初始图像之间的时间段；信号处理单元包括主信号处理单元和次信号处理单元。进一步地，信号处理装置包括一个信号处理单元，多采图装置同步方法包括：信号处理单元获取第一单触发信号和第一持续触发信号；信号处理单元延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；信号处理单元获取第二持续触发信号有效电平期内第一单触发信号，作为第二单触发信号；信号处理单元发送第二单触发信号至每一采图装置，以使多个采图装置均基于第二单触发信号采集初始图像，并发送初始图像至主信号处理单元；信号处理单元在接收初始图像后，根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。进一步地，信号处理单元延迟第一持续触发信号的有效电平的初始时刻，生成第二持续触发信号，包括：信号处理单元将第一持续触发信号的有效电平期的初始时刻延迟预设的时间段D2，得到延迟后的第一持续触发信号，作为第二持续触发信号，且预设时间段D2满足：D2≥2×T2-T3。进一步地，接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像，包括：在第一持续触发信号有效电平期内，持续接收每一采图装置发送的初始图像，并判断接收到的初始图像数量是否达到最大预设数值；若是，则停止接收初始图像，并分别根据不同采图装置对已接收到的初始图像进行单独组合，形成组合图像；若否，则在第一持续触发信号的有效电平期结束后，分别根据不同采图装置对已接收到的初始图像进行单独组合，形成组合图像。进一步地，发送第二单触发信号至每一采图装置的过程，包括：利用预设的低速时钟向采图装置发送触发标志，以使采图装置基于触发标志采集初始图像；其中，触发标识是基于第二单触发信号得到的；基于预设的高速时钟，计算第二单触发信号的开始时刻至发送触发标志时刻之间的高速时钟周期数；利用预设的低速时钟向采图装置发送高速时钟周期数。在本申请的第三方面，提供了一种多采图装置同步方法，应用于多采图装置同步系统的多个采图装置，每一采图装置同步方法包括：每一采图装置均接收第二单触发信号；其中，第二单触发信号是信号处理装置通过获取第二持续触发信号有效电平期内的第一单触发信号得到的；第二持续触发信号是信号处理装置在获取第一单触发信号和第一持续触发信号之后，延迟第一持续触发信号有效电平期的初始时刻所生成的；每一采图装置均基于第二单触发信号采集初始图像，并发送初始图像至信号处理装置，以使信号处理装置接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。在本申请的第四方面，提供了一种电子设备，包括处理器、通信接口、存储器和通信总线，其中，处理器，通信接口，存储器通过通信总线完成相互间的通信；存储器，用于存放计算机程序；处理器，用于执行存储器上所存放的程序时，实现任一多采图装置同步方法的步骤。在本申请的第五方面，提供了一种计算机可读存储介质，计算机可读存储介质内存储有计算机程序，计算机程序被处理器执行时实现任一多采图装置同步方法的步骤。本申请的有益效果如下：本申请提供了一种多采图装置同步系统，其中，信号处理装置，用于获取第一单触发信号和第一持续触发信号；延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；获取第二持续触发信号有效电平期内的第一单触发信号，作为第二单触发信号；发送第二单触发信号至每一采图装置；多个采图装置，用于均基于第二单触发信号采集初始图像；发送初始图像至信号处理装置；信号处理装置，用于接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。基于上述处理，通过将第二单触发信号作为多个采图装置的同一触发信号，有效保证了上述多个采图装置触发开始时刻的一致性。同时，由于第二单触发信号是通过截取第二持续触发信号的有效电平期间内的第一单触发信号得到的，且第二持续触发信号是通过对第一持续触发信号有效电平的初始时刻进行延迟后得到的，从而可以避免第二单触发信号在第一持续触发信号有效电平的开始时刻被判定错误的情况，以及保证了将初始图像进行组合的过程中，多个采图装置发送来的多个初始图像均为同步图像。附图说明为了更清楚地说明本申请实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本申请实施例提供的一种多采图装置同步系统的架构图；图2为本申请实施例提供的另一种多采图装置同步系统的架构图；图3为本申请实施例提供的另一种多采图装置同步系统的架构图图4为本申请实施例提供的一种多采图装置同步方法的交互图；图5为本申请实施例提供的一种信号处理过程的示意图；图6为本申请实施例提供的一种信号发送流程的示意图；图7为本申请实施例提供的另一种多采图装置同步系统的架构图；图8为本申请实施例提供的一种电子设备的结构图。具体实施方式为使本申请实施例的目的、技术方案和优点更加清楚，下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。首先，对本申请中涉及到的部分名词进行解释说明。采图装置，表示可以根据外部触发信号进行图像采集的电子设备，包括相机、扫描仪或医学成像设备等。其中，相机包括线阵相机和面阵相机等。单触发信号，表示采图装置每采集单张图像开始的使能信号，属于一种电平信号。同时，采图装置根据单触发信号采集到的单张图像为本申请中的初始图像。例如，若采图装置为线阵相机，则该单触发信号则表示为行触发信号，是线阵相机每扫描一行开始的使能信号。具体的，线阵相机在接收到行触发信号后，开始采集一个行图像，采集到的行图像为本申请中的初始图像。此外，采图装置的外触发模式可以分为边沿触发模式和电平触发模式。在边沿触发模式中，采图装置可预先设置触发信号的上边沿或者下边沿为触发条件，当采图装置的触发端子上收到有效触发信号后，开始采集单张图像；在电平触发模式下，采图装置可预先设置触发信号的高电平或者低电平为触发条件，当触发信号为有效电平时，采图装置开始采集单张图像。在本申请提供的技术方案中，单触发信号的有效触发方法可以为上边沿、下边沿、高电平或低电平，可以根据采图装置的外触发模式进行调整。持续触发信号，表示控制单触发信号是否为有效触发信号的电平信号。可以理解为：当持续触发信号为有效电平时，信号处理装置接收到的单触发信号才可以为采图装置的有效触发信号。例如，采图装置为线阵相机，则该持续触发信号表示为帧触发信号，是每一帧图像扫描开始的使能信号。通常情况下，持续触发信号为电平信号，若持续触发信号为高电平有效，则在持续触发信号高电平期间的单触发信号，为有效触发信号，此时，持续触发信号中的高电平为有效电平，且高电平的持续期间表示为有效电平期。随着信息技术的发展，多采图装置系统应用于越来越多的工作场景中，以线阵相机为例，其每次曝光仅采集到一行图像。对于工业应用中大幅面的待检测产品，往往需要将多个线阵相机沿线方向拼接使用，其中，线方向表示与线阵相机或被测物体运动方向相垂直的方向。在上述使用条件下，不仅需要多个线阵相机保持平行、放大倍率一致，同时应保证其行频、行触发时刻高度一致，使得后续可以进行高精度的图像拼接和检测。同时，线阵相机每次曝光拍摄一初始图像，需要将多次拍摄得到的初始图像组合在一起得到完整的帧图像。在实际使用中，由于每个待检测产品长度不同等原因，每帧图像的有效长度往往是不同的。因此，在多个线阵相机进行拼接使用时，除了保证多个线阵相机行触发时刻相同外，还需要在帧图像的组合上保持同步，即多个线阵相机每帧图像的开始和结束对应到多个线阵相机的同一次行触发，且每帧图像总行数一致。因此，在多线阵相机系统中，除了行触发信号同步外，也需要帧触发信号同步。若直接将同一个帧触发信号和行触发信号给到不同线阵相机，由于异步采样的不确定性，对于帧触发信号上升沿附近到来的行触发信号，可能会被不同线阵相机判定为有效触发信号或非有效触发信号，导致不同线阵相机的帧图像起始位置发生一行波动。即，不同采图装置中认定触发信号的开始时刻容易发生偏移。为了解决上述问题，如图1所示，本申请提供了一种多采图装置同步系统。其中，多采图装置同步系统包括信号处理装置和多个相机。图1中的相机表示本申请中的采图装置，且图1中多个相机的数量以3个为例进行说明，但实际系统中包含相机的数量并不限于此。其中，信号处理装置，用于获取第一单触发信号和第一持续触发信号；延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号；获取第二持续触发信号有效电平期内的第一单触发信号，作为第二单触发信号，并发送第二单触发信号至相机1、相机2和相机3。相机1、相机2和相机3基于第二单触发信号分别采集初始图像，并分别发送初始图像至信号处理装置。信号处理装置，用于接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。基于上述处理，通过将第二单触发信号作为多个采图装置的同一触发信号，有效保证了上述多个采图装置触发开始时刻的一致性。同时，由于第二单触发信号是通过截取第二持续触发信号的有效电平期间内的第一单触发信号得到的，且第二持续触发信号是通过对第一持续触发信号有效电平的初始时刻进行延迟处理后得到的，从而可以避免第二单触发信号在第一持续触发信号有效电平的开始时刻被判定错误的情况，以及保证了将初始图像进行组合的过程中，多个采图装置发送来的多个初始图像均为同步图像。当多采图装置系统处于外部信号触发模式时，信号处理装置表示可以对外部触发信号或初始图像进行接收、处理和发送的电子装置。其中，上述信号处理装置可以为一个信号处理单元，或多个信号处理单元的组合。在实际工作中，信号处理单元可以为电脑、图像采集卡和同步控制器等电子设备。在外部信号触发模式下，受限于单个信号处理单元的接入端口数量，当采图装置总数量较多时，信号处理装置中需设置多个信号处理单元，而当采图装置的总数量低于单个信号处理单元的接入端口数量时，则信号处理装置中仅需设置1个信号处理单元。具体的，当信号处理装置包括多个信号处理单元时，分为一个主信号处理单元和多个次信号处理单元，如图2所示，信号处理装置包括1个主信号处理单元和2个次信号处理单元。当信号处理装置仅包括1个信号处理单元时，该信号处理单元即可作为主信号处理单元，如图3所示。一种实现方式中，在机器视觉检测的多线阵相机系统中，信号处理装置为至少一个的CoaXPress图像采集卡，且CoaXPress图像采集卡的数量根据线阵相机的总数量和单个CoaXPress图像采集卡可连接的线阵相机数量所决定的。例如，多线阵相机系统中有5个线阵相机同步，单个CoaXPress图像采集卡可连接线阵相机的数量为2，则信号处理装置为3个CoaXPress图像采集卡的组合。一种实现方式中，在自由视角图像采集系统中，信号处理装置为至少一台同步控制器。具体的，每台摄像机通过相连接的同步控制器与电脑主机连接，实现自由视角图像采集系统中多台摄像机机的同步拍摄。此外，本申请实施例中的外触发信号包括：单触发信号和持续触发信号。基于相同的发明构思，本申请实施例还提供了一种多采图装置同步方法，该方法可以应用于多采图装置同步系统中的信号处理装置和目标采图装置。其中，该多采图装置同步系统中包括一个信号处理装置和多个目标采图装置。参见图4，图4为本申请实施例提供的一种多采图装置同步方法的交互图，如图4所示，该方法包括以下步骤：S201、信号处理装置获取第一单触发信号和第一持续触发信号。S202、信号处理装置延迟第一持续触发信号有效电平期的初始时刻，生成第二持续触发信号。S203、信号处理装置获取第二持续触发信号有效电平期内的第一单触发信号，作为第二单触发信号。S204、信号处理装置发送第二单触发信号至目标采图装置。S205、目标采图装置基于第二单触发信号采集初始图像。S206、目标采图装置发送初始图像至信号处理装置。S207、信号处理装置接收初始图像，并根据不同采图装置对第一持续触发信号有效电平期内的初始图像进行单独组合，形成组合图像。基于上述处理，通过将第二单触发信号作为多个采图装置的同一触发信号，有效保证了上述多个采图装置触发开始时刻的一致性。同时，由于第二单触发信号是通过截取第二持续触发信号的有效电平期间内的第一单触发信号得到的，且第二持续触发信号是通过对第一持续触发信号有效电平的初始时刻进行延迟处理后得到的，从而可以避免第二单触发信号在第一持续触发信号有效电平的开始时刻被判定错误的情况，以及保证了将初始图像进行组合的过程中，多个采图装置发送来的多个初始图像均为同步图像。针对步骤S201，第一单触发信号表示由外部设备输入至信号处理装置的单触发信号，第一连续触发信号表示由外部设备输入至信号处理装置的连续触发信号。具体的，上述外部设备可以为机器视觉检测系统中的工件定位传感器，或自由视角图像采集系统中的控制电脑。例如，在机器视觉检测系统中，工件定位传感器探测到被测物体已经运动至接近多线阵相机系统的视野中心，向CoaXPress图像采集卡发送帧触发信号和行触发信号，并由CoaXPress图像采集卡对帧触发信号和行触发信号进行处理后发送至每一线阵相机中。其中，当信号处理装置包括一个主信号处理单元和至少一个次信号处理单元时，步骤S201具体为：主信号处理单元获取第一单触发信号和第一持续触发信号，次信号处理单元获取第一持续触发信号。当信号处理装置只包括一个信号处理单元时，该信号处理单元为主信号处理单元，步骤S201具体为：主信号处理单元获取第一单触发信号和第一持续触发信号。针对步骤S202，主信号处理单元将第一持续触发信号有效电平期的初始时刻延迟预设的时间段，且第一持续触发信号的有效电平期的结束时刻保持不变。具体的，若第一持续触发信号为高电平有效的电平信号，则延迟该第一持续触发信号的上升沿预设的时间段，得到第二持续触发信号。同理，若第一持续触发信号为低电平有效的有效信号，则延迟该第一持续触发信号的下降沿。一种实现方式中，当信号处理装置包括一个主信号处理单元和至少一个次信号处理单元时，在步骤S202中，延迟初始时刻的时间段为D1，且D1满足以下条件：D1≥T1+2×T2-T3。其中，T1表示不同信号处理单元之间获取到第一持续触发信号的最大时间差；T2表示信号处理单元中采样第一持续触发信号的时钟周期；T3表示采图装置从接收第二单触发信号至发送初始图像之间的时间段；信号处理单元包括主信号处理单元和次信号处理单元。基于上述时间段D1的条件限制下，可以保证当不同的信号处理单元开始接收到初始图像的时刻相同。具体的，当D1不满足上述要求时，多个采图装置仍可以基于第二单触发信号实现同步触发。但是，在部分信号处理单元中，可能会存在已接收到采图装置发送的初始图像，但第一持续触发信号有效电平期的初始时刻仍未到达的情况，从而导致该部分信号处理单元生成的组合图像中，未包含第二触发信号前期对应的几个初始图像，无法满足多采图装置的同步要求。一种实现方式中，当信号处理装置只包括一个主信号处理单元时，在步骤S202中，延迟初始时刻的时间段为D2，且D2满足以下条件：D2≥2×T2-T3。在实际工作过程中，可能存在T2可能远小于T3的情况，从而导致2×T2-T3≤0。因此，在本申请提供的技术方案中，当2×T2-T3≤0时，限定D2的值为0。即，当2×T2-T3≤0时，第一持续触发信号无需进行延迟处理。此外，在本申请的技术方案中，T1，T2，T3的具体数值均为已知数据。针对步骤S203，主信号处理单元获取获取第二持续触发信号有效电平期内的第一单触发信号，作为第二单触发信号。其中，主信号处理单元可以通过逻辑运算的方式，以得到第二持续触发信号有效电平期内的第一单触发信号。一种实现方式中，逻辑运算的过程可参见图5。图5中帧触发信号表示为本申请中的第一持续触发信号，且该帧触发信号为高电平有效的电平信号；行触发信号表示为本申请中的第一持续触发信号，且该行触发信号也为高电平有效的电平信号。帧触发延迟信号表示为本申请中的第二持续触发信号，延迟D则表示延迟的预设时间段。逻辑运算的过程具体为：将帧延迟触发信号和行触发信号进行相与的逻辑运算，从而得到了可靠行触发信号，即为本申请中的第二单触发信号。针对步骤S204，当信号处理装置只包括一个主信号处理单元时，由主信号处理单元直接将第二单触发信号发送至相连的多个采图装置中。当信号处理装置包括一个主信号处理单元和至少一个次信号处理单元时，步骤S204包括以下内容：S2041、主信号处理单元将第二单触发信号发送至每一次信号处理单元；S2042、主信号处理单元和每一次信号处理单元分别将第二单触发信号发送至相连接的采图装置。在实际工作过程中，当信号处理装置与多个采图装置进行串行通信时，受限于串行通信中数据线的数据传输效率，信号处理装置中的每一信号处理单元与采图装置之间多为低速串行通信，使得采图装置同步触发的时间精度仍存在一定的提升空间。一种实现方式中，在本申请提供的方案的基础上，为了进一步提升对采图装置同步触发控制的时间精度，当信号处理单元与采图装置进行低速串行通信时，信号处理单元发送第二单触发信号至相连接的采图装置的过程包括以下步骤：步骤a、信号处理单元利用预设的低速时钟向采图装置发送触发标志，以使采图装置基于触发标志采集初始图像；其中，触发标识是基于第二单触发信号得到的。信号处理单元包括主信号处理单元和次信号处理单元。步骤b、基于预设的高速时钟，信号处理单元计算第二单触发信号中行触发的开始时刻至发送触发标志时刻之间的高速时钟周期数。步骤c、信号处理单元利用预设的低速时钟向采图装置发送高速时钟周期数。具体的，当信号处理单元生成第二单触发信号后，其在下一个低速时钟开始时发送串行触发标志，同时统计从生成第二单触发信号到下一个低速时钟边沿之间的高速时钟周期数N，并在发送完串行触发标志后，发送计数N。采图装置在收到串行触发标志和计数N后，便可以计算出第二单触发信号的实际产生时间，其精度为一个高速时钟周期。当多个采图装置采用低速时钟时，基于上述处理，可以有效提升多个采图装置的触发时刻精度。以采图装置为线阵相机为例，如图6所示，可靠行触发信号表示第二单触发信号，触发标志为串行触发标志。具体的，信号处理单元生成可靠行触发信号后，其在下一个低速时钟开始时发送串行触发标志，同时统计从接收可靠行触发信号到下一个低速时钟边沿之间的高速时钟周期数N，并在发送串行触发标志结束后，发送计数N。针对步骤S205，多采图装置同步系统中的每一采图装置均根据同一第二单触发信号采集多张初始图像。其中，初始图像表示采图装置在外部触发信号的作用下采集的图像。例如，当采图装置为线阵相机时，在外部行触发信号的作用下，线阵相机采集被测物体的多张行图像，初始图像为行图像；当采图装置为面阵相机时，该初始图像为帧图像；或者，当采图装置为摄像机时，该初始图像为摄像机生成的图像帧。针对步骤S206，每一采图装置在获取到初始图像后，将初始图像分别发送至与其相连接的信号处理单元中。在实际工作中，不同的采图装置通过单独的数据线分别与信号处理单元相连接。具体的，若采图装置为工业相机，信号处理单元为CoaXPress图像采集卡为例，工业相机通过数据线与CoaXPress图像采集卡的标准接口相连。在多工业相机系统中，每个工业相机将其采集到的图像分别通过上述数据线传输至CoaXPress图像采集卡中。针对步骤S207，每一信号处理单元可以根据初始图像的先后时间顺序，对每一采图装置的多张初始图像进行单独组合，以得到被测物体某一部分的帧图像或被测环境某一部分的视频段。以采图装置为线阵相机为例，第一持续触发信号为高电平有效的帧触发信号，初始图像则为线阵相机扫描到的行图像。具体的，信号处理单元在接收到帧触发信号上升沿后便开始接收一帧图像，并将帧触发信号高电平期间接收到的行图像逐一组合成一帧图像。由于多线阵相机同步获取被测物体的帧图像，将每一线阵相机的行图像进行组合完毕后，可以得到了被测物体某一部分的帧图像。之后，为了得到被测物体的完整图像，还需要将多个线阵相机组合后的帧图像进行图像拼接。同理，若采图装置为自由视角图像采集系统中的摄像机，则初始图像为摄像机拍摄到的图像帧。具体的，信号处理单元在第一持续触发信号有效电平期内接收每一摄像机拍摄的图像帧，将上述多张图像帧根据时间顺序可以组合成为一个视频段。同时，由于多摄像机从不同视角进行拍摄，为了得到完整视角的视频段，还需要将多个摄像机组合后的视频段根据相同时间关系进行视频拼接。一种实现方式中，步骤S207包括以下内容：步骤S2071、每一信号处理单元在第一持续触发信号有效电平期内，持续接收每一采图装置发送的初始图像，并判断接收到的初始图像数量是否达到最大预设数值。其中，不同信号处理单元中的最大预设数值可以不同。步骤S2072、若是，则信号处理单元停止接收初始图像，并分别根据不同采图装置对已接收到的初始图像进行单独组合，形成组合图像。步骤S2073、若否，则在第一持续触发信号的有效电平期结束后，信号处理单元分别根据不同采图装置对已接收到的初始图像进行单独组合，形成组合图像。以采图装置为线阵相机为例，第一持续触发信号为高电平有效的帧触发信号，初始图像为线阵相机扫描到的行图像。具体的，若在帧触发信号高电平期间，信号处理单元接收到的行图像数量超过预设的单帧图像最大行高，则输出该帧图像，并不再接收后续的行图像；若在帧触发信号高电平期间，接收到的行数据量不足预设的单帧图像最大行高，则在收到帧触发信号下降沿时，结束该帧图像，并将不足的行数使用无效数据补全后输出。其中，无效数据可以为空白的行图像。在多线阵相机同步系统的实际检测过程中，由于每个被检测物体长度不同等原因，得到的每帧图像的有效长度往往是不同的，通过在信号采集单元中设置不同的单帧图像最大行高，可以使得线阵相机最终输出的帧图像长度不同，即可以实现了多线阵相机中不定长取图的需求。同理，若采图装置为自由视角图像采集系统中的摄像机，通过设置信号处理单元接收到初始图像的最大预设数值，进而在初始图像组合完毕后，可以得到所需时间段长度的视频段，即在图像组合过程中完成了对视频段的裁剪。将本申请提供的多采图装置同步方法应用于多线阵相机同步过程中，可参见图7，图7为本申请实施例提供的一种多线阵相机同步触发控制的结构图。如图7所示，同步触发模块A和同步触发模块B共同组成多采图装置同步系统中的的信号处理装置，且同步触发模块A为主信号处理单元，同步触发模块B为次信号处理单元，相机A1、相机A2、相机An、相机B1、相机B2、相机Bn等均为线阵相机，表示为多采图装置同步系统中的每一采图装置。具体的，同步触发模块A接收行触发信号和帧触发信号两个触发输入信号，均输入触发控制模块，经触发控制模块处理产生可靠行触发信号，输入n个串行触发模块，并分别控制n个相机进行触发拍图。同时，帧触发信号还输入n个采图控制模块，采图控制模块根据帧触发信号，将每个相机拍图得到的数据组合为一帧图像。其中，每帧图像长度可不同。触发控制模块，用于将帧触发信号上升沿延迟时间D，产生帧触发延迟信号再将帧触发延迟信号和行触发信号相与，得到可靠行触发信号。其中，延迟时间D需满足以下关系：当仅有一个同步触发模块时，D≥2×S2-S3；当多个同步触发模块同步工作时，D≥S1+2×S2-S3。其中，S1表示帧触发信号传输至多个同步触发模块的传输时间之差的最大值，S2为每个同步触发模块内用于采样帧触发信号的时钟周期，S3为相机接收到行触发信号到开始输出行图像数据的最大延迟时间。值得注意的是，若延迟时间D不满足上述要求时，多个相机模块仍可以根据可靠行触发信号进行同步触发拍图，但部分采图控制模块中，可能会存在已接收到相机模块发送的行图像，但帧触发信号的上升沿仍未接收到的情况，从而导致部分同步触发模块所产生的帧图像未包含前期的几个行图像，使得多个相机模块每帧图像的开始无法做到同一次行触发，且每帧图像的总行数也不一致。相机在收到串行触发模块发送的触发信号时进行触发拍图，并将每次触发的行图像数据发送至对应的采图控制模块。采图控制模块，在收到帧触发上升沿时开始接收一帧图像，在帧触发高电平期间接收到的行数据逐一组合至该帧图像，若在帧触发高电平期间，接收到的行数据量超过预设的单帧图像最大行高，则输出该帧图像，并不再接收后续行数据；若在帧触发高电平期间，接收到的行数据量不足预设的单帧图像最大行高，则在收到帧触发下降沿时，结束该帧图像，并将不足的行数使用无效数据补全后输出。此外，结合图6公开的串行数据发送过程，可知如图7所示，若同步触发模块A、B与相机中间为低速串行通信时，为了提升触发控制的时间精度，其发送串行触发标志的过程如下：串行触发模块在接收到可靠行触发信号后，基于同步触发模块中的低速时钟信号，在下一个低速时钟信号的上边沿时刻开始发送串行触发标志。其中，串行触发标志是根据上述可靠行触发信号得到的。同时，串行触发模块利用高速时钟信号，统计从收到可靠行触发信号至发送串行触发标记之间的高速时钟周期数。在发送串行触发标志后，串行触发模块利用低速时钟信号发送计数N。其中，相机在收到串行触发标志和计数N后，可以计算出可靠行触发信号的到达时间，精度为一个高速时钟周期。当多个相机均采用同步低速时钟时，基于上述处理，可实现多个相机的高精度行触发。值得注意的是，在实际工作过程中，图7中的同步触发模块A、B可以为CoaXPress图像采集卡，而触发控制模块、串行触发模块和采图控制模块等均可以为CoaXPress图像采集卡中的虚拟模块或程序。此外，如图7所示，本申请提供的多采图装置同步方法可以支持多个同步触发模块同步工作。具体的，同步触发模块A和同步触发模块B使用同一个帧触发信号，同时输入同步触发模块A的触发控制模块和各采图控制模块A1至An，以及同步触发模块B的各采图控制模块B1至Bm；同步触发模块A的触发控制模块输出的可靠行触发信号，输入至同步触发模块A的各串行触发模块A1至An，同时作为模块同步信号传输给同步触发模块B，并输入至同步触发模块B的各串行触发模块B1至Bm。本申请实施例还提供了一种电子设备，如图8所示，包括处理器801、通信接口802、存储器803和通信总线804，其中，处理器801，通信接口802，存储器803通过通信总线804完成相互间的通信，存储器803，用于存放计算机程序；处理器801，用于执行存储器803上所存放的程序时，实现上述任一多采图装置同步方法。上述电子设备提到的通信总线可以是外设部件互连标准总线或扩展工业标准结构总线等。该通信总线可以分为地址总线、数据总线、控制总线等。为便于表示，图中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。通信接口用于上述电子设备与其他设备之间的通信。存储器可以包括随机存取存储器，也可以包括非易失性存储器，例如至少一个磁盘存储器。可选的，存储器还可以是至少一个位于远离前述处理器的存储装置。上述的处理器可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。在本申请提供的又一实施例中，还提供了一种计算机可读存储介质，该计算机可读存储介质内存储有计算机程序，所述计算机程序被处理器执行时实现上述任一多采图装置同步方法步骤。在本申请提供的又一实施例中，还提供了一种包含指令的计算机程序产品，当其在计算机上运行时，使得计算机执行上述实施例中任一多采图装置同步方法步骤。以上实施例仅用以说明本申请的技术方案，而非对其限制；尽管参照前述实施例对本申请进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本申请各实施例技术方案的精神和范围。
