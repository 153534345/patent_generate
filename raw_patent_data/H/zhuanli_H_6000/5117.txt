标题title
数据同步方法、装置、电子设备及计算机存储介质
摘要abst
本申请提供了一种数据同步方法、装置、电子设备及计算机存储介质。该数据同步方法，应用于网状网区块链中的任一个区块链节点，方法包括：针对数据执行数据处理操作；向网状网区块链中的其他区块链节点广播数据处理操作；基于预设的智能合约，将数据处理操作后的数据同步至其他区块链节点；其中，网状网区块链是由每个区块链节点分别与其他区块链节点两两连接构成的。根据本申请实施例，能够更加高效准确地进行数据同步。
权利要求书clms
1.一种数据同步方法，其特征在于，应用于网状网区块链中的任一个区块链节点，所述方法包括：针对数据执行数据处理操作；向所述网状网区块链中的其他区块链节点广播所述数据处理操作；基于预设的智能合约，将所述数据处理操作后的数据同步至所述其他区块链节点；其中，所述网状网区块链是由每个区块链节点分别与其他区块链节点两两连接构成的。2.根据权利要求1所述的数据同步方法，其特征在于，所述区块链节点包括一级系统节点、二级协同系统节点、三级业务管理平台节点和中国移动区块链服务CMBaaS节点。3.根据权利要求1所述的数据同步方法，其特征在于，所述针对数据执行数据处理操作，包括：将所述数据上链存储至分布式数据库中。4.根据权利要求1所述的数据同步方法，其特征在于，所述针对数据执行数据处理操作，包括：针对存储于分布式数据库中的数据执行数据删除操作。5.根据权利要求1所述的数据同步方法，其特征在于，所述针对数据执行数据处理操作，包括：针对所述数据执行数据链上结算操作。6.根据权利要求1所述的数据同步方法，其特征在于，所述针对数据执行数据处理操作，包括：针对所述数据执行数据同步分发操作。7.根据权利要求1所述的数据同步方法，其特征在于，还包括：更新或验证所述智能合约。8.一种数据同步装置，其特征在于，应用于网状网区块链中的任一个区块链节点，所述装置包括：操作执行模块，用于针对数据执行数据处理操作；广播模块，用于向所述网状网区块链中的其他区块链节点广播所述数据处理操作；数据同步模块，用于基于预设的智能合约，将所述数据处理操作后的数据同步至所述其他区块链节点；其中，所述网状网区块链是由每个区块链节点分别与其他区块链节点两两连接构成的。9.一种电子设备，其特征在于，所述电子设备包括：处理器以及存储有计算机程序指令的存储器；所述处理器执行所述计算机程序指令时实现如权利要求1-7任意一项所述的数据同步方法。10.一种计算机存储介质，其特征在于，所述计算机存储介质上存储有计算机程序指令，所述计算机程序指令被处理器执行时实现如权利要求1-7任意一项所述的数据同步方法。
说明书desc
技术领域本申请属于互联网技术领域，尤其涉及一种数据同步方法、装置、电子设备及计算机存储介质。背景技术业务支撑域多级协同平台是指各级平台间存在多层级关联关系，数据需经各级平台按标准化流程处理，利用标准化指令完成互通。目前多级协同平台采用数据转发方式进行数据同步，多级协同平台间数据需上级平台处理后转发，下级平台需等待上级平台响应后，才可执行下一步操作流程。而且，多采用人工核销的方式来确认数据一致性，一则多级协同系统数据经过多次转发、响应操作无法保证数据存储的准确性，二则在后期多方数据验证过程中，数据不一致问题沟通核实造成了极大的人力、资源、时间的浪费。现有业务支撑域多级协同平台数据同步方案并没有从根本上解决数据一致性问题，仅采用强制手段以多方节点中选取一方为标准进行数据统一。数据于多级协同平台流转后，各级平台以分布式存储的方式分别保存数据，以人工方式进行核销对账，当发生数据不一致时，以一级平台数据为准，下级平台按照一级平台数据进行结算。因此，如何更加高效准确地进行数据同步是本领域技术人员亟需解决的技术问题。发明内容本申请实施例提供一种数据同步方法、装置、电子设备及计算机存储介质，能够更加高效准确地进行数据同步。第一方面，本申请实施例提供一种数据同步方法，应用于网状网区块链中的任一个区块链节点，方法包括：针对数据执行数据处理操作；向网状网区块链中的其他区块链节点广播数据处理操作；基于预设的智能合约，将数据处理操作后的数据同步至其他区块链节点；其中，网状网区块链是由每个区块链节点分别与其他区块链节点两两连接构成的。可选的，区块链节点包括一级系统节点、二级协同系统节点、三级业务管理平台节点和中国移动区块链服务节点。可选的，针对数据执行数据处理操作，包括：将数据上链存储至分布式数据库中。可选的，针对数据执行数据处理操作，包括：针对存储于分布式数据库中的数据执行数据删除操作。可选的，针对数据执行数据处理操作，包括：针对数据执行数据链上结算操作。可选的，针对数据执行数据处理操作，包括：针对数据执行数据同步分发操作。可选的，该方法还包括：更新或验证智能合约。第二方面，本申请实施例提供了一种数据同步装置，应用于网状网区块链中的任一个区块链节点，装置包括：操作执行模块，用于针对数据执行数据处理操作；广播模块，用于向网状网区块链中的其他区块链节点广播数据处理操作；数据同步模块，用于基于预设的智能合约，将数据处理操作后的数据同步至其他区块链节点；其中，网状网区块链是由每个区块链节点分别与其他区块链节点两两连接构成的。可选的，区块链节点包括一级系统节点、二级协同系统节点、三级业务管理平台节点和中国移动区块链服务CMBaaS节点。可选的，操作执行模块，包括：存储单元，用于将数据上链存储至分布式数据库中。可选的，操作执行模块，包括：删除单元，用于针对存储于分布式数据库中的数据执行数据删除操作。可选的，操作执行模块，包括：结算单元，用于针对数据执行数据链上结算操作。可选的，操作执行模块，包括：分发单元，用于针对数据执行数据同步分发操作。可选的，该方法还包括：更新验证模块，用于更新或验证智能合约。第三方面，本申请实施例提供了一种电子设备，电子设备包括：处理器以及存储有计算机程序指令的存储器；处理器执行计算机程序指令时实现如第一方面所示的数据同步方法。第四方面，本申请实施例提供了一种计算机存储介质，计算机存储介质上存储有计算机程序指令，计算机程序指令被处理器执行时实现如第一方面所示的数据同步方法。本申请实施例的数据同步方法、装置、电子设备及计算机存储介质，能够更加高效准确地进行数据同步。该数据同步方法，应用于网状网区块链中的任一个区块链节点，方法包括：针对数据执行数据处理操作；向网状网区块链中的其他区块链节点广播数据处理操作；基于预设的智能合约，将数据处理操作后的数据同步至其他区块链节点；由于网状网区块链是由每个区块链节点分别与其他区块链节点两两连接构成的，故能够更加高效准确地进行数据同步。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对本申请实施例中所需要使用的附图作简单的介绍，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请一个实施例提供的数据同步方法的流程示意图；图2是本申请一个实施例提供的网状网系统架构示意图；图3是本申请一个实施例提供的网状网区块链技术架构图；图4是本申请一个实施例提供的A业务流程示意图；图5是本申请一个实施例提供的数据同步装置的结构示意图；图6是本申请一个实施例提供的电子设备的结构示意图。具体实施方式下面将详细描述本申请的各个方面的特征和示例性实施例，为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及具体实施例，对本申请进行进一步详细描述。应理解，此处所描述的具体实施例仅意在解释本申请，而不是限定本申请。对于本领域技术人员来说，本申请可以在不需要这些具体细节中的一些细节的情况下实施。下面对实施例的描述仅仅是为了通过示出本申请的示例来提供对本申请更好的理解。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括……”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。为了解决现有技术问题，本申请实施例提供了一种数据同步方法、装置、设备及计算机存储介质。下面首先对本申请实施例所提供的数据同步方法进行介绍。图1示出了本申请一个实施例提供的数据同步方法的流程示意图。如图1所示，该数据同步方法，应用于网状网区块链中的任一个区块链节点，包括：S101、针对数据执行数据处理操作。在一个实施例中，区块链节点包括一级系统节点、二级协同系统节点、三级业务管理平台节点和中国移动区块链服务CMBaaS节点。在一个实施例中，针对数据执行数据处理操作，包括：将数据上链存储至分布式数据库中。在一个实施例中，针对数据执行数据处理操作，包括：针对存储于分布式数据库中的数据执行数据删除操作。在一个实施例中，针对数据执行数据处理操作，包括：针对数据执行数据链上结算操作。在一个实施例中，针对数据执行数据处理操作，包括：针对数据执行数据同步分发操作。S102、向网状网区块链中的其他区块链节点广播数据处理操作。S103、基于预设的智能合约，将数据处理操作后的数据同步至其他区块链节点；其中，网状网区块链是由每个区块链节点分别与其他区块链节点两两连接构成的。在一个实施例中，该方法还包括：更新或验证智能合约。该数据同步方法，应用于网状网区块链中的任一个区块链节点，方法包括：针对数据执行数据处理操作；向网状网区块链中的其他区块链节点广播数据处理操作；基于预设的智能合约，将数据处理操作后的数据同步至其他区块链节点；由于网状网区块链是由每个区块链节点分别与其他区块链节点两两连接构成的，故能够更加高效准确地进行数据同步。下面以一个具体实施例对上述技术方案进行说明。本实施例旨在克服上述现有方案缺点，采用区块链技术，利用其不可篡改、分布式存储、共识等特点，通过区块链广播机制，一方写入数据，多方进行共识，分别进行存储，且智能合约不存在随机性，同样的输入一定对应同样的输出，可保证多方数据一致，替代多级平台间传统数据转发模式。同时，各级平台作为区块链节点参加共识，链上数据公开透明，经验证，可保证数据一致性准确率达100％。本实施例提出的解决方案以CMBaaS平台为基础，完成一级系统、二级协同子系统、三级业务管理平台系统等各节点上链工作，形成网状网区块链，并将业务逻辑写入智能合约，智能合约可编辑、可拓展，由区块链实现交易数据共识，各节点数据分别上链，链上数据不可篡改，可记录各节点每次操作并溯源，通过区块链技术保证多级协同平台系统核心数据强一致性。本实施例可解决异常交易，从而降低了由于数据不一致可能导致的潜在客户投诉，用户满足度提升，同时免除了大量繁杂的数据比对稽核工作，节省了大量人力成本。本实施例克服现有方案中存在的不足，所要解决的实际问题为：基于区块链平台基础设施能力，网状网下多方平台数据交互过程中存在的数据不一致问题。以A业务为例，本实施例使用区块链技术，基于CMBaaS基础设施平台能力，形成网状网区块链，对现有一级系统、网状网、二级协同系统、三级业务管理平台系统进行接口改造，通过区块链技术所具有的强一致性、共识性、安全性及不可篡改的特性，以确保各个节点数据的一致、准确和安全。本实施例主要技术方案相关内容阐述如下：一、网状网目前已承载31个省公司，10多个一级业务系统，200多个全网业务平台，在每个省部属一个节点，连接省内系统和业务平台，各SN互联，形成网状结构的业务数据交换网。整个系统分布式构架，消除了单故障点。分布式部署的业务模块可根据业务规模需求自动化快速伸缩，其分布式、无中心的架构模式天然契合区块链特性，在网状网基础上构建区块链网络，即以网状网各节点为基础，在上面构建区块链服务，建设成为区块链自建节点，形成网状网区块链，网状网架构和区块链服务复用，网状网上的业务平台可以采用通过自建节点提供的API将数据写入区块链，或省公司通过开放接口将数据写入区块链，可实现网状网内部全部多级平台数据管理，结合区块链数据同步特点，可有效提高网状网下数据分发准确率，提升多级协同平台间数据一致性。其中，网状网系统架构图可参见图2。二、业务流程概述：以A业务发生新增或变更为例：一级系统发起新增或变更，二级协同系统同步新增、变更信息数据后，按照设定标准流程对信息进行处理，将处理结果同步反馈给一级系统，一级系统将处理后的数据同步至三级业务管理平台，三级业务管理平台同样需按照流程标准处理信息，最终将处理结果反馈至一级系统，最终由一级系统进行最终备档，二级协同系统及三级业务管理平台无法同步最终数据，仅能以一级系统提供数据为准进行核实或核销。三、技术方案概述：本实施例中，CMBaaS平台作为基础设施平台，各节点可通过HTTP/SOAP/RESTful等传统两级接口，将数据发给CMBaaS接口机，由接口机上部署的节点将数据提交到区块链上。如图3所示，一级系统、二级协同平台、CMBASS代理节点、三级业务管理平台系统依托网状网形成区块链网络，各节点将数据分别上链存储到分布式数据库中，将操作广播到区块链网络，并通过智能合约对各节点分配权限，具备权限的其他节点可对数据进行查看等操作，每个节点均保有一份完整的数据记录，这也就是区块链技术里常说的分布式存储，这种模式也保证了数据的“不可篡改”。一级系统、二级协同系统、三级业务管理平台通过区块链接口应用实现与CMBAAS平台交互，该接口应用提供调用智能合约的方法、提供数据接口及其他区块链操作。在不影响网状网业务数据流通的情况下，一级系统通过区块链接口应用，连接到CMBAAS平台。二级系统、三级业务管理平台通过区块链接口应用可以查询链上数据，并下载与己方数据比对，一切操作会被记录在区块链上。各参与方的区块链接口应用可以根据需要自行开发。经过本发明改造后的业务流程，如图4所示，各节点在处理信息或完成结果反馈时，将数据同步上链，上链后的数据可保证其具备强一致性，各节点每次数据转发均有记录，可对数据溯源，也可对数据进行一致性比对。四、智能合约：根据具体业务流程，设计其智能合约，智能合约即为区块链上运行的计算机代码，其中包含一组规则，在该规则下该智能合约的各方同意彼此进行交互。如果满足预定义规则，协议将自动执行。EOS智能合约之间的交互通过action共享数据文件，action即为我们常说的“增、删、改、查”等操作。以A业务为例，根据具体业务规范分册进行智能合约编写,按照业务逻辑、数据表字段、约束等内容进行智能合约规则制定，实现数据上链、数据删除、数据链上结算、数据同步分发等操作，同时上传到网状网区块链中，由网状网负责合约验证。五、优势分析：按照本发明解决运营商网状网架构下多级平台数据不一致问题，多方可在链上监控数据，保证数据操作全程透明、数据内容不可篡改，提升数据一致性准确率至100％。采用此方法对数据进行一致性同步，业务平台可实时了解数据处理内容，提前处理异常，无需等到多级协同系统不断转发后的处理结果，大幅提升业务成功率。同时，可免除大量繁杂的数据比对工作，节省了大量人力成本，降低业务平台客户投诉率，用户满足度提升。本实施例以区块链平台能力为基础，完成网状网下多级协同平台各节点上链工作，形成网状网区块链。网状网区块链网络不同于传统区块链网络，而是利用移动网状网架构搭建而成，在网状网下每个节点自建区块链节点，各节点间配置相同，网状网架构内所有系统均可利用自建节点进行上链。本实施例适用于解决网状网下所有多级平台间因数据转发引起的数据不一致问题，有效提高数据一致性准确率，可改变传统协同平台间数据转发不透明、不及时的弊端，通过网状网区块链，各级平台完成处理后同步数据，其他平台即可查看并获取数据，实现了多级协同平台间数据通道的建立。图5是本申请一个实施例提供的数据同步装置的结构示意图，如图5所示，该数据同步装置，应用于网状网区块链中的任一个区块链节点，装置包括：操作执行模块501，用于针对数据执行数据处理操作；广播模块502，用于向网状网区块链中的其他区块链节点广播数据处理操作；数据同步模块503，用于基于预设的智能合约，将数据处理操作后的数据同步至其他区块链节点；其中，网状网区块链是由每个区块链节点分别与其他区块链节点两两连接构成的。在一个实施例中，区块链节点包括一级系统节点、二级协同系统节点、三级业务管理平台节点和中国移动区块链服务CMBaaS节点。在一个实施例中，操作执行模块501，包括：存储单元，用于将数据上链存储至分布式数据库中。在一个实施例中，操作执行模块501，包括：删除单元，用于针对存储于分布式数据库中的数据执行数据删除操作。在一个实施例中，操作执行模块501，包括：结算单元，用于针对数据执行数据链上结算操作。在一个实施例中，操作执行模块501，包括：分发单元，用于针对数据执行数据同步分发操作。在一个实施例中，该装置还包括：更新验证模块，用于更新或验证智能合约。图5所示装置中的各个模块/单元具有实现图1中各个步骤的功能，并能达到其相应的技术效果，为简洁描述，在此不再赘述。图6示出了本申请实施例提供的电子设备的结构示意图。电子设备可以包括处理器601以及存储有计算机程序指令的存储器602。具体地，上述处理器601可以包括中央处理器，或者特定集成电路，或者可以被配置成实施本申请实施例的一个或多个集成电路。存储器602可以包括用于数据或指令的大容量存储器。举例来说而非限制，存储器602可包括硬盘驱动器、软盘驱动器、闪存、光盘、磁光盘、磁带或通用串行总线驱动器或者两个或更多个以上这些的组合。在合适的情况下，存储器602可包括可移除或不可移除的介质。在合适的情况下，存储器602可在电子设备的内部或外部。在特定实施例中，存储器602可以是非易失性固态存储器。在一个实例中，存储器602可以是只读存储器。在一个实例中，该ROM可以是掩模编程的ROM、可编程ROM、可擦除PROM、电可擦除PROM、电可改写ROM或闪存或者两个或更多个以上这些的组合。处理器601通过读取并执行存储器602中存储的计算机程序指令，以实现上述实施例中的任意一种数据同步方法。在一个示例中，电子设备还可包括通信接口603和总线610。其中，如图6所示，处理器601、存储器602、通信接口603通过总线610连接并完成相互间的通信。通信接口603，主要用于实现本申请实施例中各模块、装置、单元和/或设备之间的通信。总线610包括硬件、软件或两者，将在线数据流量计费设备的部件彼此耦接在一起。举例来说而非限制，总线可包括加速图形端口或其他图形总线、增强工业标准架构总线、前端总线、超传输互连、工业标准架构总线、无限带宽互连、低引脚数总线、存储器总线、微信道架构总线、外围组件互连总线、PCI-Express总线、串行高级技术附件总线、视频电子标准协会局部总线或其他合适的总线或者两个或更多个以上这些的组合。在合适的情况下，总线610可包括一个或多个总线。尽管本申请实施例描述和示出了特定的总线，但本申请考虑任何合适的总线或互连。另外，本申请实施例可提供一种计算机存储介质来实现。该计算机存储介质上存储有计算机程序指令；该计算机程序指令被处理器执行时实现上述实施例中的任意一种数据同步方法。需要明确的是，本申请并不局限于上文所描述并在图中示出的特定配置和处理。为了简明起见，这里省略了对已知方法的详细描述。在上述实施例中，描述和示出了若干具体的步骤作为示例。但是，本申请的方法过程并不限于所描述和示出的具体步骤，本领域的技术人员可以在领会本申请的精神后，作出各种改变、修改和添加，或者改变步骤之间的顺序。以上所述的结构框图中所示的功能模块可以实现为硬件、软件、固件或者它们的组合。当以硬件方式实现时，其可以例如是电子电路、专用集成电路、适当的固件、插件、功能卡等等。当以软件方式实现时，本申请的元素是被用于执行所需任务的程序或者代码段。程序或者代码段可以存储在机器可读介质中，或者通过载波中携带的数据信号在传输介质或者通信链路上传送。“机器可读介质”可以包括能够存储或传输信息的任何介质。机器可读介质的例子包括电子电路、半导体存储器设备、ROM、闪存、可擦除ROM、软盘、CD-ROM、光盘、硬盘、光纤介质、射频链路，等等。代码段可以经由诸如因特网、内联网等的计算机网络被下载。还需要说明的是，本申请中提及的示例性实施例，基于一系列的步骤或者装置描述一些方法或系统。但是，本申请不局限于上述步骤的顺序，也就是说，可以按照实施例中提及的顺序执行步骤，也可以不同于实施例中的顺序，或者若干步骤同时执行。上面参考根据本申请的实施例的方法、装置和计算机程序产品的流程图和/或框图描述了本申请的各方面。应当理解，流程图和/或框图中的每个方框以及流程图和/或框图中各方框的组合可以由计算机程序指令实现。这些计算机程序指令可被提供给通用计算机、专用计算机、或其它可编程数据处理装置的处理器，以产生一种机器，使得经由计算机或其它可编程数据处理装置的处理器执行的这些指令使能对流程图和/或框图的一个或多个方框中指定的功能/动作的实现。这种处理器可以是但不限于是通用处理器、专用处理器、特殊应用处理器或者现场可编程逻辑电路。还可理解，框图和/或流程图中的每个方框以及框图和/或流程图中的方框的组合，也可以由执行指定的功能或动作的专用硬件来实现，或可由专用硬件和计算机指令的组合来实现。以上所述，仅为本申请的具体实施方式，所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，上述描述的系统、模块和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。应理解，本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到各种等效的修改或替换，这些修改或替换都应涵盖在本申请的保护范围之内。
