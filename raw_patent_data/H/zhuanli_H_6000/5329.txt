标题title
一种通用化模拟量采集电路
摘要abst
本发明属于电力电子技术领域，具体涉及一种通用化模拟量采集电路。包括：通用化配置电路、两个调理电路，通用化配置电路包括四个电阻，R1第二端接地，R2两端分别连接模拟量输入信号、R3第二端，R3第一端接2.5V电源，R4第二端接地；第一调理电路由运放M1A组成，M1A输入端正端与R2、R3的公共端连接，输入负端与M1A输出端连接，供电正端连接5V电源；第二调理电路包括五个电阻、运放M1B，R5两端分别与M1A输出端以及R6第一端和M1B输入端负端连接，R6第二端与M1B输出端和R9第一端连接，R7两端分别与2.5V电源以及R8第一端和M1B输入正端连接。
权利要求书clms
1.一种通用化模拟量采集电路，其特征在于，包括：通用化配置电路、第一调理电路、第二调理电路，其中，通用化配置电路由电阻R1、R2、R3、R4组成，R2第一端连接模拟量输入信号，R1第一端接地，R2第二端与R3第二端连接，R3第一端接2.5V电源，R4第二端接地；第一调理电路由运放M1A组成，M1A输入端正端与R2、R3的公共端连接，M1A输入负端与M1A输出端连接，M1A供电端正端连接5V电源，M1A供电端负端接地；第二调理电路由电阻R5、R6、R7、R8、R9和运放M1B组成，R5第一端与M1A输出端连接，R5第二端与R6第一端和M1B输入端负端连接，R6第二端与M1B输出端和R9第一端连接，R7第一端与2.5V电源连接，R7第二端与R8第一端和M1B输入端正端连接，R8第二端接地，R9第二端为输出，M1B供电端正端连接5V电源，M1B供电端负端接地。2.根据权利要求1所述的一种通用化模拟量采集电路，其特征在于，当电路用于采集直流电压时，通用化配置电路中不连接电阻R1，仅连接电阻R2、R3、R4实现采集功能，R4第一端与R2第二端以及R3第二端连接。3.根据权利要求1所述的一种通用化模拟量采集电路，其特征在于，当电路用于采集直流电流时，通用化配置电路中不连接电阻R4，仅连接电阻R1、R2、R3实现采集功能，R1第二端与R2第一端连接。4.根据权利要求1所述的一种通用化模拟量采集电路，其特征在于，当电路用于采集交流电压时，通用化配置电路中不连接电阻R1，仅连接电阻R2、R3、R4实现采集功能，R4第一端与R2第二端以及R3第二端连接。5.根据权利要求1所述的一种通用化模拟量采集电路，其特征在于，当电路用于采集交流电流时，通用化配置电路中不连接电阻R4，仅连接电阻R1、R2、R3实现采集功能，R1第二端与R2第一端连接。6.根据权利要求2所述的一种通用化模拟量采集电路，其特征在于，输出电压的计算公式为：，其中，ANALOG_IN为输入。7.根据权利要求3所述的一种通用化模拟量采集电路，其特征在于，输出电压的计算公式为：，其中，ANALOG_IN为输入。8.根据权利要求4所述的一种通用化模拟量采集电路，其特征在于，输出电压的计算公式为：，其中，ANALOG_IN为输入。9.根据权利要求5所述的一种通用化模拟量采集电路，其特征在于，输出电压的计算公式为：，其中，ANALOG_IN为输入。
说明书desc
技术领域本发明属于电力电子技术领域，具体涉及一种通用化模拟量采集电路。背景技术模拟量采集是电子设备常见的基本功能，由于处理能力原因通常将待采集的模拟量信号通过采集电路，转换为一定幅值的模拟量信号。传统的模拟量采集电路分为直流电压采集电路、直流电流采集电路、交流电压采集电流和交流电流采集电路，各电路间不能通用，不具备适配性和通用性，当外部需求变更后，往往需要重新设计电路，增加了时间、人力成本。同时，当采集电路损坏后，传统的采集电路不具备快速定位的功能，不便于故障产品的故障定位、排故和功能修复。发明内容发明目的：提供一种通用化模拟量采集电路，实现采集交、直流电压和电流的功能。技术方案：一种通用化模拟量采集电路，包括：通用化配置电路、第一调理电路、第二调理电路，其中，通用化配置电路由电阻R1、R2、R3、R4组成，R2第一端连接模拟量输入信号，R1第二端接地，R2第二端与R3第二端连接，R3第一端接2.5V电源，R4第二端接地；第一调理电路由运放M1A组成，M1A输入端正端与R2、R3的公共端连接，M1A输入负端与M1A输出端连接，M1A供电端正端连接5V电源，M1A供电端负端接地；第二调理电路由电阻R5、R6、R7、R8、R9和运放M1B组成，R5第一端与M1A输出端连接，R5第二端与R6第一端和M1B输入端负端连接，R6第二端与M1B输出端和R9第一端连接，R7第一端与2.5V电源连接，R7第二端与R8第一端和M1B输入端正端连接，R8第二端接地，R9第二端为输出端，M1B供电端正端连接5V电源，M1B供电端负端接地。进一步地，当电路用于采集直流电压时，通用化配置电路中不连接电阻R1，仅连接电阻R2、R3、R4实现采集功能，R4第一端与R2第二端以及R3第二端连接。进一步地，当电路用于采集直流电流时，通用化配置电路中不连接电阻R4，仅连接电阻R1、R2、R3实现采集功能，R1第一端与R2第一端连接。进一步地，当电路用于采集交流电压时，通用化配置电路中不连接电阻R1，仅连接电阻R2、R3、R4实现采集功能，R4第一端与R2第二端以及R3第二端连接。进一步地，当电路用于采集交流电流时，通用化配置电路中不连接电阻R4，仅连接电阻R1、R2、R3实现采集功能，R1第一端与R2第一端连接。进一步地，输出电压的计算公式为：，其中，ANALOG_IN为输入。进一步地，输出电压的计算公式为：，其中，ANALOG_IN为输入。进一步地，输出电压的计算公式为：，其中，ANALOG_IN为输入。进一步地，输出电压的计算公式为：，其中，ANALOG_IN为输入。有益效果：利用本发明可通过调整通用化配置电路中R1、R2、R3、R4的规格，配置采集电路用于采集交、直流电压和电流。通过第一调理电路，实现电压跟随功能，后续电路降低对模拟量信号的影响。通过第二调理电路，实现减法功能，保证输出电压与输入模拟量呈负相关关系，从而实现断线检测的功能。可适用于交、直流电压和电流采集的应用场景，其中通用化配置区不仅可用于调整电路所采集的模拟量种类，还可以通过调整四个电阻的阻值，从而匹配模拟量的范围。实现了采集交、直流电压和电流的功能。同时增加了断线检测功能，在拓宽电路适用范围的前提下，还有利于电路故障后的快速定位、排故和功能修复。附图说明图1为通用化模拟量采集电路。具体实施方式本发明设计通用化模拟量采集电路，可拓宽电路的适用范围，同时增加断线检测的功能，对于电路后续维护，具有较大的实用价值。下面结合附图和具体实施例对本发明进行描述。如图1所示的一种通用化模拟量采集电路，所述电路包括通用化配置电路、第一调理电路、第二调理电路。通用化配置电路，由电阻R1、R2、R3、R4组成，R1第一端与R2第一端连接，并连接模拟量输入信号，R1第二端接地，R2第二端与R3第二端和R4第一端连接，R3第一端接2.5V电源，R4第二端接地。第一调理电路，由运放M1A组成，M1A输入端正端与R2、R3、R4的公共端连接，M1A输入负端与M1A输出端连接，M1A供电端正端连接5V电源，M1A供电端负端接地。第二调理电路，由电阻R5、R6、R7、R8、R9和运放M1B组成，R5第一端与M1A输出端连接，R5第二端与R6第一端和M1B输入端负端连接，R6第二端与M1B输出端和R9第一端连接，R7第一端与2.5V电源连接，R7第二端与R8第一端和M1B输入端正端连接，R8第二端接地，R9第二端为输出端，M1B供电端正端连接5V电源，M1B供电端负端接地。通用化配置电阻有R1、R2、R3、R4四个。当电路用于采集直流电压时，不连接电阻R1，仅连接电阻R2、R3、R4，即可实现采集功能。通用化配置电阻有R1、R2、R3、R4四个。当电路用于采集直流电流时，不连接电阻R4，仅连接电阻R1、R2、R3，即可实现采集功能。通用化配置电阻有R1、R2、R3、R4四个。当电路用于采集交流电压时，不连接电阻R1，仅连接电阻R2、R3、R4，即可实现采集功能。通用化配置电阻有R1、R2、R3、R4四个。当电路用于采集交流电流时，不连接电阻R4，仅连接电阻R1、R2、R3，即可实现采集功能。输入模拟量信号通过R4接2.5V电源，对输入模拟量进行补偿。输入模拟量信号与输出模拟量信号呈负相关关系。根据输入模拟量信号与输出模拟量信号的负相关关系，判断调理电路是否存在断线现象。1）直流电压采集过程：直流电压输出电压的计算公式为：，其中，ANALOG_IN为输入。当外部输入28V直流电压时，即公式中ANALOG_IN为28，依次核实R2、R3、R4、R5、R6、R7和R8的数值，并带入公式，即可计算得到输出电压。输出电压为直流电压信号。2）直流电流采集过程：直流电流输出电压的计算公式为：当外部输入100mA直流电流时，即公式中ANALOG_IN为0.1，依次核实R1、R2、R3、R5、R6、R7和R8的数值，并带入公式，即可计算得到输出电压。输出电压为直流电压信号。3）交流电压采集过程：交流电压输出电压的计算公式为：当外部输入有效值115V的交流正弦波时，即公式中ANALOG_IN为115，依次核实R2、R3、R4、R5、R6、R7和R8的数值，并带入公式，即可计算得到输出电压。输出电压为交流电压信号。4）交流电流采集过程：交流电流输出电压的计算公式为：当外部输入有效值100mA的交流正弦波时，即公式中ANALOG_IN为0.1，依次核实R1、R2、R3、R5、R6、R7和R8的数值，并带入公式，即可计算得到输出电压。输出电压为交流电压信号。原理说明：当输出电压与输入信号之间呈正相关关系，甚至正比例关系时，若外部信号输入为0，输出电压也应该为0V；在特定场景下，若检测到输出电压为0V，无法识别此现象是由于输入信号为0导致的，还是采集电路损坏导致的。设计保证输出电压与输入信号之间呈负相关关系，可避免上述问题，还可以实现电路的自检，当输出电压为4V时，可认为输入信号为0；当输出电压为0V时，可认为采集电路损坏。输出电压和输入信号之间呈负相关关系，通过设置R5~R8电阻，可实现当无外部信号输入时，输出电压为4V左右，随着外部信号增大，输出电压随输入信号线性减小。再通过设置R1~R4的电阻，保证输入信号额定范围的最大值时，输出电压不小于1V。上述设计可保证输出电压的额定值为1~4V，以保证输出电压进入后端A/D转换电路时，避免使用边界区域，以提高A/D转换的精度。
