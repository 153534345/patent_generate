标题title
远程升级方法、装置、主控板、家电设备及存储介质
摘要abst
本发明公开了一种远程升级方法、装置、主控板、家电设备及存储介质，属于电控技术领域，所述方法包括：在当前调度模式为远程升级模式时，确定目标从控板；获取与所述目标从控板对应的初始升级数据；根据所述初始升级数据拆分为多个远程升级包；当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。本发明可以在进行远程升级时，缩减主控板与其他从控板的通信频次，让出升级数据通道，从而保证远程升级的稳定性，提高远程升级的速度。
权利要求书clms
1.一种远程升级方法，其特征在于，所述远程升级方法应用于主控板，所述主控板与多个从控板分别与通讯总线连接，所述远程升级方法包括：在当前调度模式为远程升级模式时，确定目标从控板；获取与所述目标从控板对应的初始升级数据；根据所述初始升级数据拆分为多个远程升级包；以及当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。2.如权利要求1所述的远程升级方法，其特征在于，所述当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板，包括：对从控板进行遍历，并将遍历到的从控板作为当前从控板；通过通讯总线与所述当前从控板进行通信；以及在与所述当前从控板通信完成后，通过所述通讯总线发送预设数量的远程升级包给所述目标从控板。3.如权利要求2所述的远程升级方法，其特征在于，所述通过通讯总线与所述当前从控板进行通信，包括：获取与所述当前从控板对应的目标地址和目标指令；根据所述目标地址和所述目标指令生成标识符场；根据所述标识符场生成报头信息；以及通过通讯总线将所述报头信息发送给所述当前从控板，并通过所述通讯总线接收所述当前从控板反馈的响应数据。4.如权利要求1至3中任一项所述的远程升级方法，其特征在于，所述在当前调度模式为远程升级模式时，确定目标从控板之前，还包括：在当前调度模式为普通模式时，通过通讯总线与各从控板进行轮询通信；解析各从控板返回的响应数据；在所述响应数据中包含远程升级请求时，切换调度模式为远程升级模式；以及将包含所述远程升级请求的响应数据对应的从控板作为目标从控板。5.如权利要求1至3中任一项所述的远程升级方法，其特征在于，所述获取与所述目标从控板对应的初始升级数据，包括：根据所述目标从控板对应的通信板信息生成升级包获取请求；将所述升级包获取请求发送至对应的远程升级服务器；以及接收所述远程升级服务器根据所述升级包获取请求反馈的与所述目标从控板对应的初始升级数据。6.如权利要求1至3中任一项所述的远程升级方法，其特征在于，所述当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板之后，还包括：在检测到所述目标从控板升级完成后，切换调度模式为普通模式。7.一种远程升级装置，其特征在于，所述远程升级装置包括：目标确定模块，用于在当前调度模式为远程升级模式时，确定目标从控板；数据获取模块，用于获取与所述目标从控板对应的初始升级数据；数据拆分模块，用于根据所述初始升级数据拆分为多个远程升级包；以及数据发送模块，用于当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。8.一种主控板，其特征在于，所述主控板包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的远程升级程序，所述远程升级程序被处理器执行时实现如权利要求1至6中任一项所述的远程升级方法。9.一种家电设备，其特征在于，所述家电设备包括权利要求8所述的主控板以及多个从控板，所述主控板与多个从控板分别与通讯总线连接。10.一种存储介质，其特征在于，所述存储介质上存储有远程升级程序，所述远程升级程序被处理器执行时实现如权利要求1至6中任一项所述的远程升级方法。
说明书desc
技术领域本发明涉及电控技术领域，尤其涉及一种远程升级方法、装置、主控板、家电设备及存储介质。背景技术在总线通信的方式时，现有技术在传输升级数据时，会出现其他数据的传输与升级数据之间的时机冲突的问题，导致升级数据传输可靠性不高，传输速度慢。上述内容仅用于辅助理解本发明的技术方案，并不代表承认上述内容是现有技术。发明内容本发明的主要目的在于提出一种远程升级方法、装置、主控板、家电设备及存储介质，旨在解决如何避免升级数据与其他数据之间的时机冲突，提高升级数据的可靠性和传输速度的技术问题。为实现上述目的，本发明提供一种远程升级方法，所述远程升级方法包括：在当前调度模式为远程升级模式时，确定目标从控板；获取与所述目标从控板对应的初始升级数据；根据所述初始升级数据拆分为多个远程升级包；以及当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。可选地，所述当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板，包括：对从控板进行遍历，并将遍历到的从控板作为当前从控板；通过通讯总线与所述当前从控板进行通信；以及在与所述当前从控板通信完成后，通过所述通讯总线发送预设数量的远程升级包给所述目标从控板。可选地，所述通过通讯总线与所述当前从控板进行通信，包括：获取与所述当前从控板对应的目标地址和目标指令；根据所述目标地址和所述目标指令生成标识符场；根据所述标识符场生成报头信息；以及通过通讯总线将所述报头信息发送给所述当前从控板，并通过所述通讯总线接收所述当前从控板反馈的响应数据。可选地，所述在当前调度模式为远程升级模式时，确定目标从控板之前，还包括：在当前调度模式为普通模式时，通过通讯总线与各从控板进行轮询通信；解析各从控板返回的响应数据；在所述响应数据中包含远程升级请求时，切换调度模式为远程升级模式；以及将包含所述远程升级请求的响应数据对应的从控板作为目标从控板。可选地，所述获取与所述目标从控板对应的初始升级数据，包括：根据所述目标从控板对应的通信板信息生成升级包获取请求；将所述升级包获取请求发送至对应的远程升级服务器；以及接收所述远程升级服务器根据所述升级包获取请求反馈的与所述目标从控板对应的初始升级数据。可选地，所述当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板之后，还包括：在检测到所述目标从控板升级完成后，切换调度模式为普通模式。此外，为实现上述目的，本发明还提出一种远程升级装置，所述远程升级装置包括：目标确定模块，用于在当前调度模式为远程升级模式时，确定目标从控板；数据获取模块，用于获取与所述目标从控板对应的初始升级数据；数据拆分模块，用于根据所述初始升级数据拆分为多个远程升级包；以及数据发送模块，用于当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。此外，为实现上述目的，本发明还提出一种主控板，所述主控板包括：存储器、处理器及存储在所述存储器上并可在所述处理器上运行的远程升级程序，所述远程升级程序被处理器执行时实现如上所述的远程升级方法。此外，为实现上述目的，本发明还提出一种家电设备，所述家电设备包括如上所述的主控板以及多个从控板，所述主控板与多个从控板分别与通讯总线连接。此外，为实现上述目的，本发明还提出一种存储介质，所述存储介质上存储有远程升级程序，所述远程升级程序被处理器执行时实现如上所述的远程升级方法。本发明提出的远程升级方法中，在当前调度模式为远程升级模式时，确定目标从控板；获取与所述目标从控板对应的初始升级数据；根据所述初始升级数据拆分为多个远程升级包；当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。本发明可以在进行远程升级时，缩减主控板与其他从控板的通信频次，让出升级数据通道，从而保证远程升级的稳定性，提高远程升级的速度。附图说明图1是本发明实施例方案涉及的硬件运行环境的主控板结构示意图；图2为本发明远程升级方法第一实施例的流程示意图；图3为本发明远程升级方法一实施例的通信系统的结构示意图；图4为本发明远程升级方法另一实施例的通信系统的结构示意图；图5为本发明远程升级方法一实施例的通信报文格式示意图；图6为本发明远程升级方法一实施例的标识符场组成示意图；图7为本发明远程升级方法一实施例的调度模式切换方式示意图；图8为本发明远程升级方法一实施例的普通模式的通信方式示意图；图9为本发明远程升级方法一实施例的OTA模式的通信方式示意图；图10为本发明远程升级方法第二实施例的流程示意图；图11为本发明远程升级方法第三实施例的流程示意图；图12为本发明远程升级方法又一实施例的通信系统的结构示意图；图13为本发明远程升级装置第一实施例的功能模块示意图。附图标号说明：标号名称标号名称10通讯总线201主控板20通信板202从控板30无线通信模块40远程升级服务器本发明目的的实现、功能特点及优点将结合实施例，参照附图做进一步说明。具体实施方式应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。参照图1，图1为本发明实施例方案涉及的硬件运行环境的主控板结构示意图。如图1所示，该主控板可以包括：处理器1001，例如中央处理器，通信总线1002、用户接口1003，网络接口1004，存储器1005。其中，通信总线1002用于实现这些组件之间的连接通信。用户接口1003可以包括显示屏、输入单元比如按键，可选用户接口1003还可以包括标准的有线接口、无线接口。网络接口1004可选的可以包括标准的有线接口、无线接口。存储器1005可以是高速随机存取存储器，也可以是稳定的存储器，例如磁盘存储器。存储器1005可选的还可以是独立于前述处理器1001的存储装置。本领域技术人员可以理解，图1中示出的设备结构并不构成对主控板的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。如图1所示，作为一种存储介质的存储器1005中可以包括操作系统、网络通信模块、用户接口模块以及远程升级程序。在图1所示的主控板中，网络接口1004主要用于连接外网，与其他网络设备进行数据通信；用户接口1003主要用于连接用户设备，与所述用户设备进行数据通信；本发明设备通过处理器1001调用存储器1005中存储的远程升级程序，并执行本发明实施例提供的远程升级方法。基于上述硬件结构，提出本发明远程升级方法实施例。参照图2，图2为本发明远程升级方法第一实施例的流程示意图。在第一实施例中，所述远程升级方法包括：步骤S10，在当前调度模式为远程升级模式时，确定目标从控板。需要说明的是，如图3所示，图3为一实施例的通信系统的结构示意图，在本实施例中，本方案可应用在家电设备的通信系统中，该系统可以包括：通讯总线10和多个通信板20，各通信板20通过所述通讯总线10并联连接，所述通信板20，用于通过所述通讯总线10与其他通信板20进行电信号传输，以实现通信。需要说明的是，本实施例的执行主体可为主控板，主控板属于通信板中的一种，通信板除了主控板外，还包括从控板，本实施例中的主控板和从控板可以不需要有太过明显的界限区分，在不同的应用场景中，主控板和从控板的角色可能会出现互换的情况，本实施例对此不作限制。需要说明的是，本实施例的家电设备可包括多个上述通信板，多个通信板分别与通讯总线连接，其中，上述家电设备可以包括但不限于冰箱、空调以及洗衣机等设备，还可包括其他类型的家电设备，本实施例对此不作限制，在本实施例中，以家电设备为冰箱为例进行说明。在具体实现中，本实施例中的从控板可以包括但不限于显控板、微晶板、变频板、WIFI板以及拓展板等通信板，还可包括其他类型的通信板，本实施例对此不作限制。需要说明的是，如图4所示，图4为另一实施例的通信系统的结构示意图，通信板20分为主控板201和多个从控板202，各从控板202分别连接有负载，主控板201中设置有主控制器，用于发送指令给对应的从控板202，从控板202连接负载，实现对负载的管理，其中，从控制板202中也可设置从控制器，本实施例对此不作限制。在本实施例中，由于将各个模块设置为独立的主控板和从控板的形式，通过从控板与负载连接，从而减少主控板的处理压力，以提高处理效率。由于通过并行连接方式将主控制板和各个从控制板挂在一根总线上，可以实现主控板与任意一个从控板之间的直接通讯以及任意两个从控板之间的直接通讯，保证总线控制系统的高效传输和可靠性。此外，采用并行连接方式能够有效减少了冰箱内部的线束数量，只需要少量线束或者不需要线束穿过冰箱发泡层，使得冰箱发泡层厚度能够一致，没有太薄的地方，从而提高冰箱的保温功能，降低冰箱的能耗。需要说明的是，本实施例中主控板和从控板之间可以采用一主多从的总线连接方式，主控板可以采用轮询方式依次与多个从控板进行通信。例如，假设家电设备中包括1个主控板和4个从控板，则该主控板和这些从控板都连接在通讯总线上，主控板可以通过通讯总线通过轮询的方式依次与这4个从控板进行通信，并且在轮询完成之后，还可进行下一次的轮询，本实施例对此不作限制。而且，本方案所述的通信方式可以包括但不限于UART通信，任何实现端到端通信的单总线或多总线方式均可采用此方案，本实施例对此不作限制。应当理解的是，可参照图5，图5为通信报文格式示意图。如图5所示，本方案中的通信报文可分为报头和响应两个部分，其中，报头具体可为报头信息，响应具体可为响应数据，本实施例对此不作限制。需要说明的是，报头可由间隔场、同步场以及标识符场组成。间隔场作为一个报头的开始，可由一段时间的低电平组成，例如，间隔场可由20个bit低电平组成，因为串口发送一个数据字节由起始位+数据位+停机位组成，所以正常通信有效数据不会出现20个低电平，通过检测间隔场可以有效的保证上一帧有效的数据已经发送完成。同步场用于从控板同步主控板的通信速率，同步场可由事先约定好的一个或多个字节数据组成，即同步场不限于单个字节表示，亦可以是多个字节，例如0x55等，本实施例对此不作限制。可参照图6，图6为标识符场组成示意图，标识符场用于确定发送的主控板要通信的家电类型、目标地址以及指令类型，其中，如果主控板需要与自己通信，则目标地址可为主控板的地址，如果主控板需要与从控板通信，则目标地址可为对应的从控板的地址，本实施例对此不作限制。可以理解的是，对于标识符场，每个设备的家电类型、通信板的地址、指令类型都可由预先预定的通信协议确定。每个家电设备都有唯一的家电类型，比如：冰箱的家电类型可为：0x01，空调的家电类型可为：0x02等。每个通信板都有唯一的地址，比如：主控板的主机地址为0x001，显控板的从机地址0x002，微晶板的从机地址为0x003，变频板的从机地址为0x004，WIFI板的从机地址为0x005等。每种指令都有唯一的编码，比如：发送显板初始化数据指令为0x0001，查询显板设置数据指令为0x0002，获取微晶板数据指令为0x0003，发送压机档位给变频板为0x0004，上报主控板控制信息给WIFI板为0x0006等。需要说明的是，响应可由数据长度、数据场以及校验和场组成，数据长度用于发送数据场包括的字节数据，数据场中包含有需要发送的数据，校验和场可通过对数据长度和数据场进行整体校验得到。应当理解的是，主控板可以采用定时轮询的方式与各个从控板通信，主控板发送控制指令后，会进行超时计算，如果没有在超时的时间范围内接收到从控板回复的数据，则与下一从控板通信。其中，可采用200ms的定时轮询方式，超时的时间范围可为100ms内，本实施例对此不作限制。需要说明的是，本实施例中的升级数据可以包括但不限于空中下载技术升级数据，本实施例对此不作限制，在本实施例中，以OTA升级数据为例进行说明，相应地，本实施例中的远程升级模式具体可为OTA模式。应当理解的是，针对在总线通信的方式时，现有技术在传输升级数据时，会出现其他数据的传输与升级数据之间的时机冲突的问题，导致升级数据传输可靠性不高，传输速度慢的情况，本方案调整OTA传输与常规传输之间的数据传输时机，在OTA升级时缩减主控板与其他从控板的通信频次，让出OTA数据通道，避免OTA升级数据与其他通信数据之间的时机冲突的问题，从而保证OTA升级的稳定性，并提高OTA升级的速度。需要说明的是，可参照图7，图7为调度模式切换方式示意图，本方案中的主控板的调度模式可以包括普通模式和OTA模式，当调度模式为普通模式时，主控板按照普通模式进行通信，并解析收到的从控板的数据，当收到某个从控板的OTA升级请求时，切换通信调度模式为OTA模式，主控板会缩减与其它从控板的通信频次，让出OTA数据通道，当OTA数据传输完成，并收到从控板完成OTA升级完成的数据后，再将调度模式切换回普通模式。需要说明的是，可参照图8，图8为普通模式的通信方式示意图，当调度模式为普通模式时，主控板发送一次广播数据，然后接收从控板1返回的数据，然后主控板再发送一次广播数据，然后接收从控板2返回的数据，重复这个过程，直到轮询接收完所有从控板的返回数据，然后再次从从控板1开始进行轮询通信。需要说明的是，可参照图9，图9为OTA模式的通信方式示意图，当调度模式为OTA模式时，主控板发送一次广播数据，然后接收从控板1返回的数据，然后发送若干个OTA数据包给需要OTA升级的目标从控板，然后主控板再发送一次广播数据，然后接收从控板2返回的数据，然后继续发送若干个OTA数据包给需要OTA升级的目标从控板，重复一直轮询完所有的从控板，然后返回开头轮询从控板1，每次轮询完一个从控板后，就穿插发送若干个OTA数据包给需要OTA升级的目标从控板，直到OTA升级完成，主控板将通信调度模式切换回普通模式。应当理解的是，在当前调度模式为普通模式，主控板通过通讯总线与各从控板之间进行轮询通信，并解析各从控板返回的响应数据，如果响应数据中包含有远程升级请求，则将调度模式切换为远程升级模式，并将发送包含远程升级请求的响应数据的从控板作为目标从控板。在具体实现中，例如，假设有1个主控板和4个从控板连接在通讯总线上，主控板依次与这4个从控板进行轮询通信，如果接收到从控板3返回的响应数据中包含有远程升级请求，则将调度模式切换为远程升级模式，并将从控板3作为目标从控板。步骤S20，获取与所述目标从控板对应的初始升级数据。应当理解的是，在主控板的当前调度模式为远程升级模式，并且确定了需要进行OTA升级的目标从控板之后，主控板还可获取与目标从控板相关的初始升级数据。可以理解的是，主控板可以通过WIFI模块与远程升级服务器进行通信，从远程升级服务器获取与目标从控板相关的初始升级数据，其中，远程升级服务器可为OTA服务器，也可为其他类型的服务器，本实施例对此不作限制。步骤S30，根据所述初始升级数据拆分为多个远程升级包。需要说明的是，由于初始升级数据可能较大，如果直接将初始升级数据传输给目标从控板的话，耗费的时间可能较长，会影响到主控板与其他从控板之间的通信，可能会出现从控板出现故障而主控板并未及时发现的情况，影响到家电设备的正常使用，因此，为了避免出现上述情况，主控板可以根据初始升级数据拆分为多个远程升级包，然后将多个远程升级包分多次发送给需要OTA升级的目标从控板。步骤S40，当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。应当理解的是，基于上述OTA模式的工作原理，当主控板通过通讯总线与各从控板之间尽心轮询通信的过程中，每当完成与一从控板的通信之后，主控板都会发送预设数量的远程升级包给目标从控板，从而达到在轮询通信的过程中穿插发送若干个远程升级包给目标从控板的效果。需要说明的是，主控板获取到初始升级数据并拆分为多个远程升级包之后，可以将这些远程升级包存储在本地，然后每次发送出远程升级包之后，本地的远程升级包都可以减少，即主控板可以依次发送出预设数量的远程升级包，避免出现数据重复的情况。在具体实现中，假设拆分得到了20个远程升级包，而预设数量为5，即主控板每次发送5个远程升级包给目标从控板，在远程升级的过程中，主控板在每轮询到一个从控板并与该从控板完成通信之后，都会发送5个远程升级包给目标从控板，然后再与下一从控板进行通信，重复该动作，直到所有的远程升级包都发送完成为止。应当理解的是，在目标从控板接收到所有的远程升级包之后，可以根据这些远程升级包进行更新，目标从控板在更新完成之后，如果主控板轮询通信到了该目标从控板，目标从控板会在返回给主控板的响应数据中添加升级完成指令。如果主控板检测到了目标从控板返回的响应数据中包含升级完成指令，则判定目标从控板已经升级完成，可以将通信调度模式切换回普通模式。需要说明的是，本实施例中的通信板中可以包括控制器，相应地，可以将从控板中的控制器称作从控器，目标控制板可以根据接收到的远程升级包对其对应的从控器进行升级，本实施例对此不作限制。在本实施例中，在当前调度模式为远程升级模式时，确定目标从控板；获取与所述目标从控板对应的初始升级数据；根据所述初始升级数据拆分为多个远程升级包；当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。本实施例可以在进行远程升级时，缩减主控板与其他从控板的通信频次，让出升级数据通道，从而保证远程升级的稳定性，提高远程升级的速度。在一实施例中，如图10所示，基于第一实施例提出本发明远程升级方法第二实施例，所述步骤S40，包括：步骤S401，对从控板进行遍历，并将遍历到的从控板作为当前从控板。应当理解的是，为了更好的达到主控板与各从控板进行轮询通信的效果，可以优先为各从控板进行排序，例如，可将从控板排序为从控板1、从控板2...从控板n等，主控板可以按照预先设置的顺序依次与这些从控板进行通信。因此，主控板可对从控板进行遍历，并且将遍历到的从控板作为当前从控板，例如，如果遍历到从控板1，则将从控板1作为当前从控板，如果遍历到从控板2，则将从控板2作为当前从控板。步骤S402，通过通讯总线与所述当前从控板进行通信。可以理解的是，在确定当前从控板之后，主控板可以通过通讯总线与当前从控板进行通信，其中，本实施例中的通信可以包括报头和响应两个部分，主控板通过广播发送报头信息，当前从控板在接收到报头信息之后反馈响应数据给主控板，在完成上述操作后，则说明完成了与当前从控板之间的通信。应当理解的是，为了使总线通信更具有针对性，提高总线通信的安全性，可以获取当前从控板对应的目标地址和目标指令，根据目标指令确定指令类型，然后结合家电类型、目标地址以及指令类型生成标识符场，然后结合间隔场、同步场以及标识符场组成报头信息，通过通讯总线将生成的该报头信息发送给当前从控板。可以理解的是，当前从控板在监测到通信总线上的报头信息之后，可以从报头信息中提取标识符场，基于上述原理，报头信息的标识符场中包含有待接收数据的从控板的目标地址，因此，当前从控板可以将标识符场中的目标地址与对应的当前地址进行比较，以判断目标地址与当前地址是否一致。如果目标地址与当前地址不一致，则说明报头信息不是发送给该从控板的，所以不用进行响应，如果目标地址与当前地址一致，则说明报头信息是发送给该从控板的，所以需要进行响应。可以理解的是，由于报头信息的标识符场中包含有指令类型，而每种指令都有唯一的编码，因此，可以根据指令类型来确定目标指令，进而可以根据目标指令进行相应的处理，并生成对应的响应数据。应当理解的是，当前从控板可以先根据目标指令进行响应之后，确定对应的待发送数据，根据待发送数据生成数据场，然后根据数据场中的数据来确定数据长度，进而根据数据长度以及数据场来组成响应数据。当前从控板在生成响应数据之后，可将响应是数据发送到通讯总线上，以将响应数据反馈给主控板。需要说明的是，从控板可以对通讯总线进行实时监测，为了避免出现通信冲突的情况，本方案还在报头信息中添加了间隔场，通过检测间隔场，可以有效的保证上一帧有效的数据已发送完成。可以理解的是，为了有效的将间隔场的电压信号与其他信息的电压信息进行区分，由于正常通信有效数据不会出现多个低电平，因此，可以将间隔场的电压信号设置为包括预设长度的连续低电平状态，其中，预设长度可为20，也可为其他数量，可根据实际情况进行设置，本实施例对此不作限制。可以理解的是，在检测到电压信号时，为了判断电压信号是否为间隔场，可判断电压信号是否具有预设长度的连续低电平状态，得到判断结果，进而根据判断结果来判断电压信号是否为间隔场。在具体实现中，如果电压信号具有预设长度的连续低电平状态，则说明该电压信号为间隔场，如果电压信号不具有预设长度的连续低电平状态，则说明该电压信号不为间隔场。应当理解的是，由于间隔场是一个报头的开始，因此，如果检测到电压信号为间隔场，则说明监测到了通信总线上的报头信息。步骤S403，在与所述当前从控板通信完成后，通过所述通讯总线发送预设数量的远程升级包给所述目标从控板。应当理解的是，在主控板与从控板经过上述操作，主控板接收到了当前从控板返回的响应数据之后，则可判定主控板与当前从控板之间的通信完成，主控板可以通过通讯总线发送预设数量的远程升级包给需要OTA升级的目标从板，然后主控板继续遍历下一从控板作为当前从控板，重复执行上述操作。可以理解的是，如果在所有从控板遍历完成之后，主控板还没有将上述远程升级包发送完成，则可以返回遍历第一个从控板，重复执行上述操作，知道所有的远程升级包都发送完成。在本实施例中，对从控板进行遍历，并将遍历到的从控板作为当前从控板，通过通讯总线与所述当前从控板进行通信，在与所述当前从控板通信完成后，通过所述通讯总线发送预设数量的远程升级包给所述目标从控板，从而可以通过遍历的方式来确定当前从控板，并在与当前从控板通信完成之后发送远程升级包给目标从控板，从而更加准确地确定远程升级包的发送时机，可以通过在主控板与各从控板进行通信的过程中穿插发送远程数据包给需要OTA升级的目标从控板，达到更好的远程升级效果。在一实施例中，如图11所示，基于第一实施例或第二实施例提出本发明远程升级方法第三实施例，在本实施例中，基于第一实施例进行说明，所述步骤S20，包括：步骤S201，根据所述目标从控板对应的通信板信息生成升级包获取请求。需要说明的是，可参照图12，图12为又一实施例的通信系统的结构示意图，主控板201还可以与无线通信模块30连接，无线通信模块30可以与远程升级服务器40进行通信。可以理解的是，在其他实施方式中，还可以将无线通信模块集成在主控板上，将无线通信模块作为主控板的一部分，本实施例对此不作限制。需要说明的是，上述远程升级服务器具体可为OTA服务器，上述无线通信模块可以包括但不限于WIFI模块，本实施例对此不作限制，在本实施例中，主控板可以通过WIFI模块与OTA服务器进行通信。可以理解的是，主控板在确定需要进行OTA升级的目标从控板之后，为了获取与目标从控板相关的升级数据，可以获取目标从控板对应的通信板信息，并根据该通信板信息生成升级包获取请求。需要说明的是，本实施例中的通信板信息可以包括但不限于型号信息、产品标识信息等信息，本实施例对此不作限制。步骤S202，将所述升级包获取请求发送至对应的远程升级服务器。应当理解的是，主控板在生成对应的升级包获取请求之后，可以将升级包获取请求发送给与主控板连接的WIFI模块，WIFI模块在接收到升级包获取请求之后，可以将该升级包获取请求发送给OTA服务器。步骤S203，接收所述远程升级服务器根据所述升级包获取请求反馈的与所述目标从控板对应的初始升级数据。可以理解的是，OTA服务器在接收到升级包获取请求之后，可以根据升级包获取请求确定需要进行升级的目标从控板的通信板信息，进而查找对应的初始升级数据，并将该初始升级数据反馈给主控板。可以理解的是，在OTA服务器反馈初始升级数据时，可以将初始升级数据发送给与主控板连接的WIFI模块，WIFI模块在接收到初始升级数据之后，可以将该初始升级数据发送给主控板。在本实施例中，根据所述目标从控板对应的通信板信息生成升级包获取请求，将所述升级包获取请求发送至对应的远程升级服务器，接收所述远程升级服务器根据所述升级包获取请求反馈的与所述目标从控板对应的初始升级数据，主控板可以从OTA服务器获取升级数据，并通过通讯总线将升级数据发送给需要进行升级的从控板，避免了从控板直接与OTA服务器进行通信，节省了通信需要消耗的资源。此外，本发明实施例还提出一种存储介质，所述存储介质上存储有远程升级程序，所述远程升级程序被处理器执行时实现如上文所述的远程升级方法的步骤。由于本存储介质采用了上述所有实施例的全部技术方案，因此至少具有上述实施例的技术方案所带来的所有有益效果，在此不再一一赘述。此外，参照图13，本发明实施例还提出一种远程升级装置，所述远程升级装置包括：目标确定模块10，用于在当前调度模式为远程升级模式时，确定目标从控板。需要说明的是，如图3所示，图3为一实施例的通信系统的结构示意图，在本实施例中，本方案可应用在家电设备的通信系统中，该系统可以包括：通讯总线10和多个通信板20，各通信板20通过所述通讯总线10并联连接，所述通信板20，用于通过所述通讯总线10与其他通信板20进行电信号传输，以实现通信。需要说明的是，本实施例的执行主体可为主控板，主控板属于通信板中的一种，通信板除了主控板外，还包括从控板，本实施例中的主控板和从控板可以不需要有太过明显的界限区分，在不同的应用场景中，主控板和从控板的角色可能会出现互换的情况，本实施例对此不作限制。需要说明的是，本实施例的家电设备可包括多个上述通信板，多个通信板分别与通讯总线连接，其中，上述家电设备可以包括但不限于冰箱、空调以及洗衣机等设备，还可包括其他类型的家电设备，本实施例对此不作限制，在本实施例中，以家电设备为冰箱为例进行说明。在具体实现中，本实施例中的从控板可以包括但不限于显控板、微晶板、变频板、WIFI板以及拓展板等通信板，还可包括其他类型的通信板，本实施例对此不作限制。需要说明的是，如图4所示，图4为另一实施例的通信系统的结构示意图，通信板20分为主控板201和多个从控板202，各从控板202分别连接有负载，主控板201中设置有主控制器，用于发送指令给对应的从控板202，从控板202连接负载，实现对负载的管理，其中，从控制板202中也可设置从控制器，本实施例对此不作限制。在本实施例中，由于将各个模块设置为独立的主控板和从控板的形式，通过从控板与负载连接，从而减少主控板的处理压力，以提高处理效率。由于通过并行连接方式将主控制板和各个从控制板挂在一根总线上，可以实现主控板与任意一个从控板之间的直接通讯以及任意两个从控板之间的直接通讯，保证总线控制系统的高效传输和可靠性。此外，采用并行连接方式能够有效减少了冰箱内部的线束数量，只需要少量线束或者不需要线束穿过冰箱发泡层，使得冰箱发泡层厚度能够一致，没有太薄的地方，从而提高冰箱的保温功能，降低冰箱的能耗。需要说明的是，本实施例中主控板和从控板之间可以采用一主多从的总线连接方式，主控板可以采用轮询方式依次与多个从控板进行通信。例如，假设家电设备中包括1个主控板和4个从控板，则该主控板和这些从控板都连接在通讯总线上，主控板可以通过通讯总线通过轮询的方式依次与这4个从控板进行通信，并且在轮询完成之后，还可进行下一次的轮询，本实施例对此不作限制。而且，本方案所述的通信方式可以包括但不限于UART通信，任何实现端到端通信的单总线或多总线方式均可采用此方案，本实施例对此不作限制。应当理解的是，可参照图5，图5为通信报文格式示意图。如图5所示，本方案中的通信报文可分为报头和响应两个部分，其中，报头具体可为报头信息，响应具体可为响应数据，本实施例对此不作限制。需要说明的是，报头可由间隔场、同步场以及标识符场组成。间隔场作为一个报头的开始，可由一段时间的低电平组成，例如，间隔场可由20个bit低电平组成，因为串口发送一个数据字节由起始位+数据位+停机位组成，所以正常通信有效数据不会出现20个低电平，通过检测间隔场可以有效的保证上一帧有效的数据已经发送完成。同步场用于从控板同步主控板的通信速率，同步场可由事先约定好的一个或多个字节数据组成，即同步场不限于单个字节表示，亦可以是多个字节，例如0x55等，本实施例对此不作限制。可参照图6，图6为标识符场组成示意图，标识符场用于确定发送的主控板要通信的家电类型、目标地址以及指令类型，其中，如果主控板需要与自己通信，则目标地址可为主控板的地址，如果主控板需要与从控板通信，则目标地址可为对应的从控板的地址，本实施例对此不作限制。可以理解的是，对于标识符场，每个设备的家电类型、通信板的地址、指令类型都可由预先预定的通信协议确定。每个家电设备都有唯一的家电类型，比如：冰箱的家电类型可为：0x01，空调的家电类型可为：0x02等。每个通信板都有唯一的地址，比如：主控板的主机地址为0x001，显控板的从机地址0x002，微晶板的从机地址为0x003，变频板的从机地址为0x004，WIFI板的从机地址为0x005等。每种指令都有唯一的编码，比如：发送显板初始化数据指令为0x0001，查询显板设置数据指令为0x0002，获取微晶板数据指令为0x0003，发送压机档位给变频板为0x0004，上报主控板控制信息给WIFI板为0x0006等。需要说明的是，响应可由数据长度、数据场以及校验和场组成，数据长度用于发送数据场包括的字节数据，数据场中包含有需要发送的数据，校验和场可通过对数据长度和数据场进行整体校验得到。应当理解的是，主控板可以采用定时轮询的方式与各个从控板通信，主控板发送控制指令后，会进行超时计算，如果没有在超时的时间范围内接收到从控板回复的数据，则与下一从控板通信。其中，可采用200ms的定时轮询方式，超时的时间范围可为100ms内，本实施例对此不作限制。需要说明的是，本实施例中的升级数据可以包括但不限于空中下载技术升级数据，本实施例对此不作限制，在本实施例中，以OTA升级数据为例进行说明，相应地，本实施例中的远程升级模式具体可为OTA模式。应当理解的是，针对在总线通信的方式时，现有技术在传输升级数据时，会出现其他数据的传输与升级数据之间的时机冲突的问题，导致升级数据传输可靠性不高，传输速度慢的情况，本方案调整OTA传输与常规传输之间的数据传输时机，在OTA升级时缩减主控板与其他从控板的通信频次，让出OTA数据通道，避免OTA升级数据与其他通信数据之间的时机冲突的问题，从而保证OTA升级的稳定性，并提高OTA升级的速度。需要说明的是，可参照图7，图7为调度模式切换方式示意图，本方案中的主控板的调度模式可以包括普通模式和OTA模式，当调度模式为普通模式时，主控板按照普通模式进行通信，并解析收到的从控板的数据，当收到某个从控板的OTA升级请求时，切换通信调度模式为OTA模式，主控板会缩减与其它从控板的通信频次，让出OTA数据通道，当OTA数据传输完成，并收到从控板完成OTA升级完成的数据后，再将调度模式切换回普通模式。需要说明的是，可参照图8，图8为普通模式的通信方式示意图，当调度模式为普通模式时，主控板发送一次广播数据，然后接收从控板1返回的数据，然后主控板再发送一次广播数据，然后接收从控板2返回的数据，重复这个过程，直到轮询接收完所有从控板的返回数据，然后再次从从控板1开始进行轮询通信。需要说明的是，可参照图9，图9为OTA模式的通信方式示意图，当调度模式为OTA模式时，主控板发送一次广播数据，然后接收从控板1返回的数据，然后发送若干个OTA数据包给需要OTA升级的目标从控板，然后主控板再发送一次广播数据，然后接收从控板2返回的数据，然后继续发送若干个OTA数据包给需要OTA升级的目标从控板，重复一直轮询完所有的从控板，然后返回开头轮询从控板1，每次轮询完一个从控板后，就穿插发送若干个OTA数据包给需要OTA升级的目标从控板，直到OTA升级完成，主控板将通信调度模式切换回普通模式。应当理解的是，在当前调度模式为普通模式，主控板通过通讯总线与各从控板之间进行轮询通信，并解析各从控板返回的响应数据，如果响应数据中包含有远程升级请求，则将调度模式切换为远程升级模式，并将发送包含远程升级请求的响应数据的从控板作为目标从控板。在具体实现中，例如，假设有1个主控板和4个从控板连接在通讯总线上，主控板依次与这4个从控板进行轮询通信，如果接收到从控板3返回的响应数据中包含有远程升级请求，则将调度模式切换为远程升级模式，并将从控板3作为目标从控板。数据获取模块20，用于获取与所述目标从控板对应的初始升级数据。应当理解的是，在主控板的当前调度模式为远程升级模式，并且确定了需要进行OTA升级的目标从控板之后，主控板还可获取与目标从控板相关的初始升级数据。可以理解的是，主控板可以通过WIFI模块与远程升级服务器进行通信，从远程升级服务器获取与目标从控板相关的初始升级数据，其中，远程升级服务器可为OTA服务器，也可为其他类型的服务器，本实施例对此不作限制。数据拆分模块30，用于根据所述初始升级数据拆分为多个远程升级包。需要说明的是，由于初始升级数据可能较大，如果直接将初始升级数据传输给目标从控板的话，耗费的时间可能较长，会影响到主控板与其他从控板之间的通信，可能会出现从控板出现故障而主控板并未及时发现的情况，影响到家电设备的正常使用，因此，为了避免出现上述情况，主控板可以根据初始升级数据拆分为多个远程升级包，然后将多个远程升级包分多次发送给需要OTA升级的目标从控板。数据发送模块40，用于当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。应当理解的是，基于上述OTA模式的工作原理，当主控板通过通讯总线与各从控板之间尽心轮询通信的过程中，每当完成与一从控板的通信之后，主控板都会发送预设数量的远程升级包给目标从控板，从而达到在轮询通信的过程中穿插发送若干个远程升级包给目标从控板的效果。需要说明的是，主控板获取到初始升级数据并拆分为多个远程升级包之后，可以将这些远程升级包存储在本地，然后每次发送出远程升级包之后，本地的远程升级包都可以减少，即主控板可以依次发送出预设数量的远程升级包，避免出现数据重复的情况。在具体实现中，假设拆分得到了20个远程升级包，而预设数量为5，即主控板每次发送5个远程升级包给目标从控板，在远程升级的过程中，主控板在每轮询到一个从控板并与该从控板完成通信之后，都会发送5个远程升级包给目标从控板，然后再与下一从控板进行通信，重复该动作，直到所有的远程升级包都发送完成为止。应当理解的是，在目标从控板接收到所有的远程升级包之后，可以根据这些远程升级包进行更新，目标从控板在更新完成之后，如果主控板轮询通信到了该目标从控板，目标从控板会在返回给主控板的响应数据中添加升级完成指令。如果主控板检测到了目标从控板返回的响应数据中包含升级完成指令，则判定目标从控板已经升级完成，可以将通信调度模式切换回普通模式。需要说明的是，本实施例中的通信板中可以包括控制器，相应地，可以将从控板中的控制器称作从控器，目标控制板可以根据接收到的远程升级包对其对应的从控器进行升级，本实施例对此不作限制。在本实施例中，在当前调度模式为远程升级模式时，确定目标从控板；获取与所述目标从控板对应的初始升级数据；根据所述初始升级数据拆分为多个远程升级包；当通过通讯总线与各从控板进行轮询通信的过程中，在完成与一从控板的通信后，发送预设数量的远程升级包给所述目标从控板。本实施例可以在进行远程升级时，缩减主控板与其他从控板的通信频次，让出升级数据通道，从而保证远程升级的稳定性，提高远程升级的速度。在本发明所述远程升级装置的其他实施例或具体实现方法可参照上述各方法实施例，此处不再赘述。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者装置不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者装置所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者装置中还存在另外的相同要素。上述本发明实施例序号仅仅为了描述，不代表实施例的优劣。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该估算机软件产品存储在如上所述的一个估算机可读存储介质中，包括若干指令用以使得一台智能设备执行本发明各个实施例所述的方法。以上仅为本发明的优选实施例，并非因此限制本发明的专利范围，凡是利用本发明说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本发明的专利保护范围内。
