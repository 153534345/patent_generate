标题title
基于视觉识别的复合焊接质量控制方法及系统
摘要abst
本发明公开了一种基于视觉识别的复合焊接质量控制方法及系统，涉及半导体组装质量控制技术领域，其包括：设置锡环盒、点锡膏组件、视觉识别定位装置、激光焊接装置和PCB板加热装置；锡环正面定位及取料；锡环背面定位及移位；焊盘插针定位；套环及验证；点锡膏，其包括：令点锡膏组件将锡膏点至电子器件的插针的顶端，且锡膏在俯视时对锡环和插针之间的间隙进行遮挡；视觉定位；激光焊接，其包括：令激光焊接装置发射激光加热锡环和锡膏，且令PCB板加热装置对焊盘进行加热；焊后检测。本申请具有改善半导体器件的焊接质量的效果。
权利要求书clms
1.一种基于视觉识别的复合焊接质量控制方法，其特征在于，包括：步骤一、硬件组成设置，其包括：设置锡环盒、点锡膏组件、视觉识别定位装置、激光焊接装置和PCB板加热装置；其中，所述锡环盒中放置有锡环，锡环内径适配电子器件的插针且外径大于PCB板的通孔直径；步骤二、锡环正面定位及取料，其包括：令视觉识别定位装置对锡环盒进行图像采集，基于图像识别定位锡环的位置，并根据锡环的位置对锡环进行吸取/抓取；步骤三、锡环背面定位及移位，其包括：令视觉识别定位装置从被抓取的锡环的下方进行图像采集，基于图像识别提取锡环的内径特征，并移动锡环至电子器件的插针上方；步骤四、焊盘插针定位，其包括：令视觉识别定位装置对电子器件的插针进行图像采集，基于图像识别定位针脚的位置；步骤五、套环及验证，其包括：将锡环套在电子器件的插针上，且令视觉识别定位装置对焊盘会进行图像采集，基于图像识别锡环的姿态；步骤六、点锡膏，其包括：令点锡膏组件将锡膏点至电子器件的插针的顶端，且锡膏在俯视时对锡环和插针之间的间隙进行遮挡；步骤七、视觉定位，其包括：基于视觉识别定位装置采集的图像进行识别定位，得到完成套接的锡环的位置和插针的位置；步骤八、激光焊接，其包括：令激光焊接装置发射激光加热锡环和锡膏，且令PCB板加热装置对焊盘进行加热；步骤九、焊后检测，其包括：令视觉识别定位装置对完成焊接的焊盘进行图像采集，基于图像识别分析铺锡面积占焊盘的比例、相邻的焊点之间是否有短路、是否存在被激光烧伤产生的不良以及漏焊。2.根据权利要求1所述的基于视觉识别的复合焊接质量控制方法，其特征在于：所述视觉识别定位装置的识别定位过程包括初步定位和精准定位。3.根据权利要求2所述的基于视觉识别的复合焊接质量控制方法，其特征在于：所述视觉识别定位装置包括摄像单元一和环形光源，所述环形光源提供多个间距角度相同的光源出光单位，且令摄像单元一采集多个光源出光单位次序开启下以及同时开启下的目标图像。4.根据权利要求3所述的基于视觉识别的复合焊接质量控制方法，其特征在于：令所述视觉识别定位装置对多个光源出光单位同时开启下的锡环图像和套锡环前的焊盘图像进行识别分析脏污、氧化信息，且令所述视觉识别定位装置对多个光源出光单位同时开启下的套锡环后的焊盘图像、涂锡膏后的焊盘图像分别进行识别分析锡环姿态、锡膏的面积和位置分布。5.根据权利要求4所述的基于视觉识别的复合焊接质量控制方法，其特征在于：所述激光焊接装置包括激光发生模块、红外测温单元、摄像单元二和人机交互屏，所述摄像单元二跟随激光发生模块移动，所述人机交互屏数据连接于摄像单元二和红外测温单元；所述红外测温单元用于对焊接位置进行红外测温；所述步骤八、激光焊接，其还包括：根据红外测温单元反馈的温度信息调整激光发生模块的出光功率，令焊接位置的温度符合预设的温度阈值。6.根据权利要求5所述的基于视觉识别的复合焊接质量控制方法，其特征在于：所述PCB板加热装置为非接触式加热结构且采用光或热辐射对焊盘进行加热。7.根据权利要求5所述的基于视觉识别的复合焊接质量控制方法，其特征在于：还包括产线异常预测，其包括：调用预建立的神经网络模型对生产过程中的电气控制参数、电气运行参数及各步骤的图像进行训练；将当前生产过程中的电气控制参数、电气运行参数及各步骤的图像导入训练后的神经网络模型，预测焊接结果，并生成焊接质量发展趋势表/图。8.一种应用于如权利要求5-7任一所述的基于视觉识别的复合焊接质量控制方法的质量控制系统，其特征在于：包括锡环盒、点锡膏组件、视觉识别定位装置、激光焊接装置和PCB板加热装置。9.根据权利要求8所述的质量控制系统，其特征在于：一个所述摄像单元一和一个环形光源为一组视觉单元，所述视觉识别定位装置包括多组视觉单元，且至少一组安装于点锡膏组件；所述摄像单元一位于环形光源的中心轴线上。10.根据权利要求8所述的质量控制系统，其特征在于：所述激光焊接装置包括激光发生模块、红外测温单元、摄像单元二和人机交互屏，所述人机交互屏数据连接于摄像单元二和红外测温单元，所述红外测温单元用于对焊接位置进行红外测温；所述激光发生模块包括集成壳，所述集成壳内设置有中心通道、激光通道和监视通道，所述中心通道竖向且上端安装红外测温单元，另一端安装激光聚焦镜片；所述激光通道呈L状且横向端头连通于中心通道的上部侧壁，另一端向上且安装激光发生模块；所述监视通道呈L状且横向端头连通于中心通道的下部侧壁，另一端向上且安装摄像单元二；所述激光通道的拐角设置有激光全反射镜片，所述中心通道的上部安装有激光45°反射镜片，所述激光45°反射镜片平行于激光全反射镜片，所述激光发生模块射出的激光落在激光全反射镜片上，再反射至激光45°反射镜片，所述激光45°反射镜片将激光反射并令激光从中心通道下端口射出；所述监视通道的拐角设置有监视全反射镜片，所述激光45°反射镜片的下方设置有监视45°反射镜片，所述监视45°反射镜片平行于监视全反射镜片，所述中心通道下方的影像经监视45°反射镜片反射至监视全反射镜片，并由摄像单元二进行采集。
说明书desc
技术领域本申请涉及半导体组装质量控制技术领域，尤其是涉及一种基于视觉识别的复合焊接质量控制方法及系统。背景技术半导体分立器件与PCB通孔的焊接，实际上是将PCB的通孔及半导体器件的针形引脚焊接并能够通电。PCB表面具有焊盘，半导体针型引脚一般为圆柱形。PCB本身具有一定的厚度，一般是0.1-6mm之间，即PCB内通孔的深度等于PCB的厚度。半导体针形引脚插入PCB通孔中后，半导体阵形引脚凸出PCB表面约1-3mm左右。使用锡合金将PCB上表面焊盘铺满并且将PCB通孔内填满锡合金。锡合金能够填满PCB通孔，即能够到达PCB下表面，此时意味着透锡率100%；如果锡合金从PCB上表面向下渗透过程中仅仅渗透到PCB厚度的一半，此时意味着透锡率50%。透锡率越高意味着效果越好，即意味着焊接更加牢固、通电效果更好。焊接过程中，锡合金渗透的过程，随着越往下渗透，锡合金温度降低、逐渐冷却，流动性降低，所以如何让透锡率接近100%是当前的难题。现有的烙铁焊接、波峰焊等方式，前者存在烙铁头尖端部分的镀层，会随着使用不断的老化，镀层的老化导致效果逐渐变差，所以烙铁头焊接在批量生产时难以保证焊接效果一致性；后者透锡率难以把控，所有通孔的透锡率难以一致，即均相对难以保障焊接质量，因此本申请提出一种新的技术方案。发明内容为了改善半导体器件的焊接质量，本申请提供一种基于视觉识别的复合焊接质量控制方法及系统。第一方面，本申请提供一种基于视觉识别的复合焊接质量控制方法，采用如下的技术方案：一种基于视觉识别的复合焊接质量控制方法，包括：步骤一、硬件组成设置，其包括：设置锡环盒、点锡膏组件、视觉识别定位装置、激光焊接装置和PCB板加热装置；其中，所述锡环盒中放置有锡环，锡环内径适配电子器件的插针且外径大于PCB板的通孔直径；步骤二、锡环正面定位及取料，其包括：令视觉识别定位装置对锡环盒进行图像采集，基于图像识别定位锡环的位置，并根据锡环的位置对锡环进行吸取/抓取；步骤三、锡环背面定位及移位，其包括：令视觉识别定位装置从被抓取的锡环的下方进行图像采集，基于图像识别提取锡环的内径特征，并移动锡环至电子器件的插针上方；步骤四、焊盘插针定位，其包括：令视觉识别定位装置对电子器件的插针进行图像采集，基于图像识别定位针脚的位置；步骤五、套环及验证，其包括：将锡环套在电子器件的插针上，且令视觉识别定位装置对焊盘会进行图像采集，基于图像识别锡环的姿态；步骤六、点锡膏，其包括：令点锡膏组件将锡膏点至电子器件的插针的顶端，且锡膏在俯视时对锡环和插针之间的间隙进行遮挡；步骤七、视觉定位，其包括：基于视觉识别定位装置采集的图像进行识别定位，得到完成套接的锡环的位置和插针的位置；步骤八、激光焊接，其包括：令激光焊接装置发射激光加热锡环和锡膏，且令PCB板加热装置对焊盘进行加热；步骤九、焊后检测，其包括：令视觉识别定位装置对完成焊接的焊盘进行图像采集，基于图像识别分析铺锡面积占焊盘的比例、相邻的焊点之间是否有短路、是否存在被激光烧伤产生的不良以及漏焊。通过采用上述技术方案，本方法：1）、采用激光焊接，所以过程无接触、无应力、无损伤；2）、通过锡环+锡膏的方式，确保无激光射入PCB通孔、无激光射入PCB下表面的半导体器件，从而避免烧伤PCB及半导体器件；同时，可实现精确控制锡合金量，一方面避免锡合金的浪费，一方面确保透锡率，一方面可避免过量的锡合金导致的短路；3）、视觉识别配合自动化的机械臂等可实现自动拿取锡环、将锡环套在插针上，焊接效率相对更高；4）、PCB下表面有加热设计，可提升锡合金流动性，进一步提高透锡率；5）、基于视觉识别功能进行焊后检测，可减少报废，提高良率；即本方法可用于改善半导体器件的焊接质量。可选的，所述视觉识别定位装置的识别定位过程包括初步定位和精准定位。通过采用上述技术方案，本方法的对锡环、插针等结构的定位更为准确。可选的，所述视觉识别定位装置包括摄像单元一和环形光源，所述环形光源提供多个间距角度相同的光源出光单位，且令摄像单元一采集多个光源出光单位次序开启下以及同时开启下的目标图像。通过采用上述技术方案，建立了环形光源，且环形光源分为多个均等间隔的独立出光模块，可以分别从多个角度对物体进行照射，生成多个角度的图像，不同角度的图像得到的数据可用来提高定位精度，使生产中的识别有更高的精度和可靠性。可选的，令所述视觉识别定位装置对多个光源出光单位同时开启下的锡环图像和套锡环前的焊盘图像进行识别分析脏污、氧化信息，且令所述视觉识别定位装置对多个光源出光单位同时开启下的套锡环后的焊盘图像、涂锡膏后的焊盘图像分别进行识别分析锡环姿态、锡膏的面积和位置分布。通过采用上述技术方案，可以在过程中及时发现锡环、焊盘、锡膏存在的缺陷，以及时进行相关内容的调整和中止，保障产出的PCB板的焊接质量。可选的，所述激光焊接装置包括激光发生模块、红外测温单元、摄像单元二和人机交互屏，所述摄像单元二跟随激光发生模块移动，所述人机交互屏数据连接于摄像单元二和红外测温单元；所述红外测温单元用于对焊接位置进行红外测温；所述步骤八、激光焊接，其还包括：根据红外测温单元反馈的温度信息调整激光发生模块的出光功率，令焊接位置的温度符合预设的温度阈值。通过采用上述技术方案，一方面令工作人员可以实时观察焊接过程；另一方面，实时监测焊接区域的温度，并实时调整激光器出光功率，从而实现可令焊接区域始终维持在设定的温度，可避免焊接过程中焊接区域超过锡合金的熔化温度，可始终维持能够熔化锡合金但不过高的激光能量输入，从而较好的保护PCB及半导体器件不受激光焊接、加热过程的损伤。可选的，所述PCB板加热装置为非接触式加热结构且采用光或热辐射对焊盘进行加热。通过采用上述技术方案，PCB下表面的加热设计，可提升锡合金流动性，进一步提高透锡率；同时，因为是非接触式，所以可减小加热结构失控烫坏PCB的几率，也更为方便PCB在自动化产线上进行流转。可选的，还包括产线异常预测，其包括：调用预建立的神经网络模型对生产过程中的电气控制参数、电气运行参数及各步骤的图像进行训练；将当前生产过程中的电气控制参数、电气运行参数及各步骤的图像导入训练后的神经网络模型，预测焊接结果，并生成焊接质量发展趋势表/图。通过采用上述技术方案，可以利用数学模型分析生产数据，提前发现生产过程的异常，以及时进行故障排查等，保障焊接质量。第二方面，本申请提供一种应用于如上述任一所述的基于视觉识别的复合焊接质量控制方法的质量控制系统，采用如下的技术方案：一种应用于如上述任一所述的基于视觉识别的复合焊接质量控制方法的质量控制系统，包括锡环盒、点锡膏组件、视觉识别定位装置、激光焊接装置和PCB板加热装置。可选的，一个所述摄像单元一和一个环形光源为一组视觉单元，所述视觉识别定位装置包括多组视觉单元，且至少一组安装于点锡膏组件；所述摄像单元一位于环形光源的中心轴线上。通过采用上述技术方案，在环形光源依次点亮时，摄像单元一所采集的图像存在对称特性，且图像受拍摄角度引起的歪斜、扭曲相对更少，干扰因子更少。可选的，所述激光焊接装置包括激光发生模块、红外测温单元、摄像单元二和人机交互屏，所述人机交互屏数据连接于摄像单元二和红外测温单元，所述红外测温单元用于对焊接位置进行红外测温；所述激光发生模块包括集成壳，所述集成壳内设置有中心通道、激光通道和监视通道，所述中心通道竖向且上端安装红外测温单元，另一端安装激光聚焦镜片；所述激光通道呈L状且横向端头连通于中心通道的上部侧壁，另一端向上且安装激光发生模块；所述监视通道呈L状且横向端头连通于中心通道的下部侧壁，另一端向上且安装摄像单元二；所述激光通道的拐角设置有激光全反射镜片，所述中心通道的上部安装有激光45°反射镜片，所述激光45°反射镜片平行于激光全反射镜片，所述激光发生模块射出的激光落在激光全反射镜片上，再反射至激光45°反射镜片，所述激光45°反射镜片将激光反射并令激光从中心通道下端口射出；所述监视通道的拐角设置有监视全反射镜片，所述激光45°反射镜片的下方设置有监视45°反射镜片，所述监视45°反射镜片平行于监视全反射镜片，所述中心通道下方的影像经监视45°反射镜片反射至监视全反射镜片，并由摄像单元二进行采集。通过采用上述技术方案，工作人员可以通过人机交互屏上显示的监控画面监控焊接过程，还可以监测焊接过程中的焊点温度，以及时调整激光功率，减小烧坏PCB板的几率；同时，因为激光焊接、测温和图像采集集成，三者实现“同轴”，所以监控效果相对更佳。综上所述，本申请包括以下至少一种有益技术效果：1）、采用激光焊接，所以过程无接触、无应力、无损伤；2）、通过锡环+锡膏的方式，确保无激光射入PCB通孔、无激光射入PCB下表面的半导体器件，从而避免烧伤PCB及半导体器件；同时，可实现精确控制锡合金量，一方面避免锡合金的浪费，一方面确保透锡率，一方面可避免过量的锡合金导致的短路；3）、视觉识别配合自动化的机械臂等可实现自动拿取锡环、将锡环套在插针上，焊接效率相对更高；4）、PCB下表面有加热设计，可提升锡合金流动性，进一步提高透锡率；5）、基于视觉识别功能进行焊后检测，可减少报废，提高良率；即本方法可用于改善半导体器件的焊接质量。附图说明图1是本方法的流程示意图；图2是本方法实施时的产线结构示意图；图3是本方法一个实施例的PCB板和仿形治具爆炸后的结构示意图；图4是本方法的锡环盒的布设结构示意图；图5是本方法的点锡膏组件部分的结构示意图；图6是本方法的激光焊接装置的结构示意图；图7是本方法的激光发生模块的结构示意图。具体实施方式以下结合附图1对本申请作进一步详细说明。本申请实施例公开一种基于视觉识别的复合焊接质量控制方法。参照图1，基于视觉识别的复合焊接质量控制方法包括：步骤一、硬件组成设置，其包括：设置锡环盒、点锡膏组件、视觉识别定位装置、激光焊接装置和PCB板加热装置。参照图2，可以理解的是，将本方法具体落实至产线进行实施时，可配合产线的传输带、机械臂进行使用，且为PCB板匹配对应的仿形治具在产线上流转，以使得PCB板的是上表面平整、稳固；且可知，此时PCB板完成电子器件的插件作业，插针呈伸出PCB板的上/下表面，从上还是下伸出，可以根据其他组件的设置确定，图3为展示PCB板和对应的仿形治具爆炸后的结构示意图。参照图4，上述锡环盒安装于传输带附近，其内腔呈上开口且放置有锡环，锡环内径适配电子器件的插针且外径大于PCB板的通孔直径。锡环盒可以是多个，并进行阵列排布，例如：6个锡环盒，分两行，一行三个进行分布，且各个锡环盒中放置不同规格的锡环，以满足多种使用需求。锡环的内径尽量接近插针的直径，可以使得锡环能够吸收更多的激光，避免激光射入到通孔内，出现损坏PCB板的情况；锡环的外径大于通孔的直径是为了提高融化后的锡合金填满PCB板通孔的缝隙的几率，尽量令透锡率达到100%。参照图5，在本方法的一个实施例中，上述点锡膏组件基于自动化点胶机得到，区别于点胶机的在于：将胶水换成呈膏状的锡合金，以点胶针筒挤出。在本方法的一个实施例中，视觉识别定位装置包括控制模块、摄像单元一和环形光源。控制模块可以是产线的控制主机以及PLC控制器组成，其电连接于摄像单元一和环形光源，即可进行灯光控制，又可对采集的图像数据进行分析处理。摄像单元一包括CCD摄像头以及匹配的镜头，其以支架等安装于传输带附近，必要时匹配直线马达驱使其进行移位。环形光源为360°，其光色可以是白色，用于提供多个间距角度相同的光源出光单位；以4个光源出光单位为例，则可以实现间隔90度的四个角度的出光。使用过程中，令摄像单元一采集多个光源出光单位次序开启下以及同时开启下的目标图像；可知，分别从前后左右四个角度对物体进行照射，能生成四个角度的图像，在不同位置的光源照射下，物体的阴影会在焊盘上形成一次明显的变化，形成的图像由CCD摄像头采集并传输至控制主机进行处理，以通过不同角度的图像得到的数据提高定位精度，使识别有更高的精度和可靠性。参照图6，在本申请的一个实施例中，激光焊接装置选用功率、激光焊接头活动自由度匹配的激光焊接机即可，其除了令激光发生部位工作和活动的结构外，还至少包括激光发生模块，以满足激光焊接作业需求。参照图6，在本申请的一个实施例中，上述PCB板加热装置为非接触式加热结构且采用光或热辐射对焊盘进行加热。例如：PCB板加热装置制成台体状，其置于焊接状态的PCB板的下方，以红外线发生设备发出的红外线对焊盘进行加热。PCB板加热装置能够使得PCB通孔内的锡合金保持液态、保持流动性，从而逐渐渗透到PCB下表面，减小锡合金渗透的过程，随着越往下渗透，锡合金温度降低、逐渐冷却，流动性降低，透锡率无法达100%的问题；该点在PCB板的厚度越大时效果越佳。步骤二、锡环正面定位及取料，其包括：令视觉识别定位装置对锡环盒进行图像采集，基于图像识别定位锡环的位置，并根据锡环的位置对锡环进行吸取/抓取。在本方法的一个实施例中，视觉识别定位装置的识别定位过程包括初步定位以及基于初步定位结果进行精准定位。该设置是为了能够精确的得到对应结构的位置、形状等信息。下述多次对若干个步骤中的识别定位分两步走的方式进行示例性说明。在本步骤中上述识别定位过程，具体地：1）、图像预处理：预处理流程为图像降噪、增强图像对比度、以便提高图像质量与处理效率，可以是灰度化图像、利用空间域法进行图像增加，以上方法均为现有技术，因此不再赘述。2）、边缘特征提取：首先进行锡环位置的初定位，在对图像进行灰度化处理后，对其进行定位。如：通过计算标准图像中的一小块区域与图像中所有相同大小的区域的灰度值之间的相关系数，找出与模板灰度值最匹配的区域，从而实现锡环的初定位。对经过预处理和初定位的图像进行特征提取。特征提取的目标是获取锡环的坐标位置信息。如：在经初定位后的锡环外环边缘附近，使用边缘检测算法来精确找到锡环外环边缘，可以使用Sobel、Prewitt、Canny等图像处理算法。这样得到的边缘点可以作为锡环的坐标位置基础。3）、精定位：根据上一步得到的锡环外环边缘点，使用霍夫变换等方法找到这个锡环的中心，结合得到的边缘，即可得到锡环的位置和形状信息。通过以上步骤，我们就得到锡环的坐标位置信息，从而实现了对锡环的智能识别定位。在完成定位后，本实施例中，可以利用机械臂配合卡爪直接抓取或机械臂驱动的吸嘴去吸取锡环。步骤三、锡环背面定位及移位，其包括：令视觉识别定位装置从被抓取的锡环的下方进行图像采集，基于图像识别提取锡环的内径特征，并移动锡环至电子器件的插针上方。上述从锡环下方或者说背面拍摄，一方面可以验证是否完成锡环的拿取，另一方面，因为此时只有一个锡环，所以能更为清晰、准确的计算出锡环的内径尺寸等信息。步骤四、焊盘插针定位，其包括：令视觉识别定位装置对电子器件的插针进行图像采集，基于图像识别定位针脚的位置。识别定位过程，示例性的说明：1）、图像预处理：首先采用图像增强技术，如对比度增强、直方图均衡化等，使得针脚和焊盘的对比度提高，更容易区分；同时，应用噪声滤波器对图像进行去噪处理，移除图像中的噪声以便后续处理。2）、插针有无识别：将每张图像的灰度特征与模板照片的灰度特征比对，检查照片里是否存在插针。3）、清晰度识别：通过对图像进行Fourier变换，并分析其频谱，判断插针图像是否对焦。如果插针不在焦点，预示着插针过长或过短，则需要停止识别并向系统发送警告。4）、特征提取：由于是从垂直方向拍摄，所以针脚与焊盘的交接处轮廓在图像中表现为一个圆形，我们通过边缘检测方法，如Canny边缘检测、Sobel边缘检测等，找出这个圆形轮廓边缘点。5）、位置识别：将前后左右四个光照角度拍摄得到的边缘检测点，采用加权平均、最大似然估计等方法，进行数据融合，通过霍夫变换等方法，找出这个圆形针角的中心，即为所需的坐标，得到针脚的精确位置。步骤五、套环及验证，其包括：将锡环套在电子器件的插针上，且令视觉识别定位装置对焊盘会进行图像采集，基于图像识别锡环的姿态。在该步骤中，上述环形光源需要同时出光，在同一位置拍摄几张曝光不同的MARK图像，以根据这几张图像，自动计算出图像对比度最好的曝光参数，然后用最佳曝光参数重新拍摄图像，从而实现自动调节曝光。在该步骤中，图像分析：提取锡环的灰度特征，识别它外边缘，分析该边缘的圆度，如果明显呈椭圆，则表明锡环没有水平铺在焊盘上，处于倾斜状态，需要机械臂去介入，如：拨动。步骤六、视觉定位，其包括：基于视觉识别定位装置采集的图像进行识别定位，得到完成套接的锡环的位置和插针的位置。该步骤是为了能让定位插针的位置，以便锡膏能精确的挤出到插针的顶端。步骤七、点锡膏，其包括：令点锡膏组件将锡膏点至电子器件的插针的顶端，且锡膏在俯视时对锡环和插针之间的间隙进行遮挡。点锡膏在插针的顶端，使得从上方看下来，锡环和插针的缝隙进一步的被锡膏遮挡，从而进一步减少激光透过锡环和插针的缝隙射入PCB通孔内的几率。可以理解的是，此过程中，可基于图像进一步分析：根据锡膏的纹理特征，使用图像分割算法，识别出锡膏在焊盘上的面积和位置分布，并与标准的模板相比对，以判断涂锡膏是否符合要求。步骤八、激光焊接，其包括：令激光焊接装置发射激光加热锡环和锡膏，且令PCB板加热装置对焊盘进行加热。已知，前述步骤已经可以得到锡环的位置、尺寸，所以可以根据其控制激光焊接装置调整位置向目标发出激光。在该步骤中，加热焊盘可以使得PCB通孔内的锡合金保持液态、保持流动性，从而逐渐渗透到PCB下表面。步骤九、焊后检测，其包括：令视觉识别定位装置对完成焊接的焊盘进行图像采集，基于图像识别分析铺锡面积占焊盘的比例、相邻的焊点之间是否有短路、是否存在被激光烧伤产生的不良以及漏焊。示例性的说明：环形光源分别在前、后、左、右四个角度逐一打开，CCD摄像头就四个角度依次点亮对同一焊点进行图像采集，因为物体的表面细节信息在被照射的角度不同时，显示出来的情况往往是不同的，这样就可以获取完整的物料焊点的信息。之后，对图像处理，使用图像分割算法，识别出铺锡在焊盘上的面积和位置分布，并与标准模板相比对；还识别激光烧伤特征和漏焊特征，即可实施焊后检测。根据上述设置，本方法：1）、采用激光焊接，所以过程无接触、无应力、无损伤；2）、通过锡环+锡膏的方式，确保无激光射入PCB通孔、无激光射入PCB下表面的半导体器件，从而避免烧伤PCB及半导体器件；同时，可实现精确控制锡合金量，一方面避免锡合金的浪费，一方面确保透锡率，一方面可避免过量的锡合金导致的短路；3）、视觉识别配合自动化的机械臂等可实现自动拿取锡环、将锡环套在插针上，焊接效率相对更高；4）、PCB下表面有加热设计，可提升锡合金流动性，进一步提高透锡率；5）、基于视觉识别功能进行焊后检测，可减少报废，提高良率；即本方法可用于改善半导体器件的焊接质量。在本方法的一个实施例中，令视觉识别定位装置对多个光源出光单位同时开启下的锡环图像和套锡环前的焊盘图像进行识别分析脏污、氧化信息。示例性的说明：1）、图像采集：环形光源所有的部分同时点亮拍照；2）、图像预处理；3）、图像初定位：使用灰度相关方法对锡环进行初定位。4）、图像分析：使用灰度直方图，计算锡环、焊盘表面的灰度分布是否与正常品一致，如果差异较大，则预示着锡环正面存在脏污或氧化。根据上述可知，本方法可以在过程中及时发现不合格的锡环、PCB板，以保障焊接质量。在本方法的一个实施例中，激光焊接装置除了包括激光发生模块外，还包括红外测温单元、摄像单元二和人机交互屏，摄像单元二即监视相机，其可安装在激光焊接机的活动头上，以跟随激光发生模块移动，采集焊接过程中的视频图像；人机交互屏可以是触控显示器，其数据连接于摄像单元二和红外测温单元，红外测温单元可以是红外测温设备，如红外同轴测温仪，其用于对焊接位置进行红外测温。此时，步骤八、激光焊接，其还包括：根据红外测温单元反馈的温度信息调整激光发生模块的出光功率，令焊接位置的温度符合预设的温度阈值。根据上述设置，一方面，工作人员可以通过人机交互屏查看实时的焊接视频图像观察焊接过程，另一方面使用红外探头测温，可实时监测焊接区域的温度，以便实时调整激光器出光功率，从而令焊接区域始终维持在设定的温度，如：可以将温度设定为锡合金的熔化温度，那么焊接过程中，焊接区域始终不会超过锡合金的熔化温度，始终维持能够熔化锡合金但不过高的激光能量输入，从而较好的保护PCB及半导体器件不受激光焊接、加热过程的损伤。关于激光发生模块的出光功率在不同温度值时的调整方式为工作人员验证后预先设置。在本方法的另一个实施例中，本方法还包括：产线异常预测，其包括：调用预建立的神经网络模型对生产过程中的电气控制参数、电气运行参数及各步骤的图像进行训练；将当前生产过程中的电气控制参数、电气运行参数及各步骤的图像分析结果导入训练后的神经网络模型，预测焊接结果，并生成焊接质量发展趋势表/图。示例性的说明,神经网络实现过程：利用深度学习的卷积神经网络进行特征提取，对焊接过程中的数据进行批量处理，提取出过程中诸如：锡环尺寸/位置、锡环套接过程中的移动控制参数、焊接激光的功率、PCB板的加热功率、PCB板的厚度等特征向量，形成特征图。利用全连接网络对特征图进行分类，这是一个全自动的过程，无需手动设置参数。通过反向传播算法更新梯度，优化网络的权重，并在验证集上进行预测以调整模型。重复执行训练和验证的过程，直至模型收敛，最后在测试集上进行测试，将已通过测试评估的模型用作基于各项生产相关数据进行结果预测，以及时提示工作人员进行产线维护等，保障产品的焊接质量。本申请实施例还公开一种基于视觉识别的复合焊接质量控制方法的质量控制系统。基于视觉识别的复合焊接质量控制方法的质量控制系统包括：包括锡环盒、点锡膏组件、视觉识别定位装置、激光焊接装置和PCB板加热装置。上述结构已经在方法的实施例中一同进行描述，因此不再赘述。参照图5，在本系统的一个实施例中，一个所摄像单元一和一个环形光源为一组视觉单元，视觉识别定位装置包括多组视觉单元，且至少一组安装于点锡膏组件，另有一组安装在吸取/抓取锡环的机械臂上，位于吸嘴/卡爪的旁侧。摄像单元一位于环形光源的中心轴线上，这在环形光源依次点亮时，摄像单元一所采集的图像存在对称特性，且图像受拍摄角度引起的歪斜、扭曲相对更少，干扰因子更少。参照图6和图7，在本系统的一个实施例中，激光发生模块包括集成壳，集成壳内成型有中心通道、激光通道和监视通道，中心通道竖向且上端安装红外测温单元，另一端安装激光聚焦镜片。激光通道呈L状且横向端头连通于中心通道的上部侧壁，另一端向上且安装激光发生模块，且下方配置激光准直镜片组进行调校。监视通道呈L状且横向端头连通于中心通道的下部侧壁，另一端向上且安装摄像单元二，且下方配置监视聚焦镜片辅助聚焦，更下方配置监视调节光栅。激光通道的拐角安装有激光全反射镜片，中心通道的上部安装有激光45°反射镜片，激光45°反射镜片平行于激光全反射镜片，激光发生模块射出的激光落在激光全反射镜片上，再反射至激光45°反射镜片，激光45°反射镜片将激光反射并令激光从中心通道下端口射出。监视通道的拐安装有监视全反射镜片，激光45°反射镜片的下方设置有监视45°反射镜片，监视45°反射镜片平行于监视全反射镜片，中心通道下方的影像经监视45°反射镜片反射至监视全反射镜片，并由摄像单元二进行采集。在监视通道的横向端口还可安装监视滤光片，以减小干扰。进一步的，为提高监控图面的清晰度，还可环绕中心通道的下端口设置同轴光源。根据上述设置，工作人员可以通过人机交互屏上显示的监控画面监控焊接过程，还可以监测焊接过程中的焊点温度，以及时调整激光功率，减小烧坏PCB板的几率；同时，因为激光焊接、测温和图像采集集成，三者实现“同轴”，所以测温在激光焊点的中心从周围辐射，可直接对中心温度监控；监视画面也同轴，观测效果更佳，即可以令监控效果相对更佳，且提高激光焊头的空间利用率。以上均为本申请的较佳实施例，并非依此限制本申请的保护范围，故：凡依本申请的结构、形状、原理所做的等效变化，均应涵盖于本申请的保护范围之内。
