标题title
一种光纤检测方法和系统
摘要abst
本发明提供一种光纤检测方法和系统，所述方法通过分别采集多条光纤的漏光功率，通过比较每条所述光纤上的各个时段的平均漏光功率值，得到每条所述光纤上的漏光功率变化情况，通过漏光功率变化情况来标记疑似主动触发的次数，利用环境的外部干扰和人为的主动触发对所述光纤所产生的影响的区别的原理，来对各条所述光纤的疑似主动触发的次数进行分析。与现有技术相比，本发明能够有效的判别所述光纤中的干扰是环境的外部干扰还是人为的主动触发干扰，能够有效的排除环境干扰的情况。
权利要求书clms
1.一种光纤检测方法，其特征在于，所述光纤检测方法应用于光纤检测设备；所述光纤检测设备设有多个光纤通道；所述光纤通道用于检测光纤的漏光功率；每条所述光纤通道对应一条光纤；所述光纤检测方法包括：通过多条所述光纤通道分别对多条所述光纤的漏光功率进行采样，将采样结果预处理后得到每条所述光纤通道的漏光功率数据；在预设检测周期内，按采样时间顺序计算每条所述光纤通道的所述漏光功率数据中每两个相邻数据的功率差值；将每个所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况；对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数；根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况：若一条所述光纤通道的疑似主动触发的次数不少于预设干扰次数，且其他所述光纤通道的疑似主动触发的次数均为0，则将所述疑似主动触发的次数不少于预设干扰次数的光纤通道标记为主动触发的光纤通道；若至少两条所述光纤通道的疑似主动触发的次数不为0，且至少一条所述光纤通道的疑似主动触发的次数不小于所述预设干扰次数，则获取所述疑似主动触发的次数最多的前两条光纤通道之间的触发次数差值，在所述触发次数差值不小于所述预设干扰次数时，将所述疑似主动触发的次数最高的光纤通道标记为主动触发的光纤通道。2.根据权利要求1所述的一种光纤检测方法，其特征在于，所述根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况还包括：在所述触发次数差值小于所述预设干扰次数时，判定为外部干扰。3.根据权利要求1所述的一种光纤检测方法，其特征在于，所述根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况还包括：若所述疑似主动触发的次数均小于所述预设干扰次数，则判定为外部干扰。4.根据权利要求1所述的一种光纤检测方法，其特征在于，所述通过多条所述光纤通道分别对多条所述光纤的漏光功率进行采样，将采样结果预处理后得到每条所述光纤通道的漏光功率数据，具体包括：对每条所述光纤的漏光功率进行采样，计算每个第一时间范围内的每条所述光纤通道的采样数据的平均值，作为第一平均值；计算每条所述光纤通道在第二时间范围内的所有所述第一平均值的平均值，作为第二平均值；获取每条所述光纤通道的所述预设检测周期内的所有所述第二平均值，作为每条所述光纤通道的所述漏光功率数据；所述第一时间范围小于所述第二时间范围，所述第二时间范围小于所述预设检测周期。5.根据权利要求1所述的一种光纤检测方法，其特征在于，将每个所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况，具体包括：将所有所述功率差值与预设阈值进行比较；如所述功率差值大于所述预设阈值，为所述功率差值添加第一标记；如所述功率差值等于所述预设阈值，为所述功率差值添加第二标记；如所述功率差值小于所述预设阈值，为所述功率差值添加第三标记；得到每条所述光纤通道的标记情况。6.根据权利要求5所述的一种光纤检测方法，其特征在于，所述对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数，具体包括：移除每条所述光纤通道的标记情况中的所述第二标记；按照采样时间顺序比较每条所述光纤通道中每两个标记情况；如所述两个标记情况不同，则为其添加位置标记；统计每条所述光纤通道的所述位置标记的数量，作为所述疑似主动触发的次数。7.一种光纤检测系统，其特征在于，所述光纤检测系统应用于光纤检测设备；所述光纤检测设备设有多个光纤通道；所述光纤通道用于检测光纤的漏光功率；每条所述光纤通道对应一条光纤；所述光纤检测系统包括：信号采集模块，用于通过多条所述光纤通道分别对多条所述光纤的漏光功率进行采样；存储模块，用于存储所述信号采集模块采到的每条所述光纤的所述漏光功率；数据处理模块，用于对所述存储模块存储的每条所述光纤的所述漏光功率进行处理，得到每条所述光纤通道的漏光功率数据；数据计算模块，用于在预设检测周期内，按采样时间顺序计算每条所述光纤通道的所述漏光功率数据中每两个相邻数据的功率差值；数据标记模块，用于将每个所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况；数据分析模块，用于对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数；干扰判定模块，用于根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况：若一条所述光纤通道的疑似主动触发的次数不少于预设干扰次数，且其他所述光纤通道的疑似主动触发的次数均为0，则将所述疑似主动触发的次数不少于预设干扰次数的光纤通道标记为主动触发的光纤通道；若至少两条所述光纤通道的疑似主动触发的次数不为0，且至少一条所述光纤通道的疑似主动触发的次数不小于所述预设干扰次数，则获取所述疑似主动触发的次数最多的前两条光纤通道之间的触发次数差值，在所述触发次数差值不小于所述预设干扰次数时，将所述疑似主动触发的次数最高的光纤通道标记为主动触发的光纤通道。8.根据权利要求7所述的一种光纤检测系统，其特征在于，所述数据处理模块用于对所述存储模块存储的每条所述光纤的漏光功率进行处理，得到每条所述光纤通道的漏光功率数据，具体为：计算每个第一时间范围内的每条所述光纤通道的采样数据的平均值，作为第一平均值；计算每条所述光纤通道在第二时间范围内的所有所述第一平均值的平均值，作为第二平均值；获取每条所述光纤通道的所述预设检测周期内的所有所述第二平均值，作为每条所述光纤通道的所述漏光功率数据；所述第一时间范围小于所述第二时间范围，所述第二时间范围小于所述预设检测周期。9.根据权利要求7所述的一种光纤检测系统，其特征在于，所述数据标记模块用于将所有所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况，具体为：将所有所述功率差值与预设阈值进行比较；如所述功率差值大于所述预设阈值，为所述功率差值添加第一标记；如所述功率差值等于所述预设阈值，为所述功率差值添加第二标记；如所述功率差值小于所述预设阈值，为所述功率差值添加第三标记；得到每条所述光纤通道的标记情况。10.根据权利要求9所述的一种光纤检测系统，其特征在于，所述数据分析模块用于对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数，具体为：移除每条所述光纤通道的标记情况中的所述第二标记；按照采样时间顺序比较每条所述光纤通道中每两个标记情况；如所述两个标记情况不同，则为其添加位置标记，统计每条所述光纤通道的所述位置标记的数量，作为所述疑似主动触发的次数。
说明书desc
技术领域本发明涉及光纤运维领域，更具体地，涉及一种光纤检测方法和系统。背景技术机房内有几千上万根光纤，如果想要知道同一光路的光纤接在哪几个ODF设备上是一件十分困难的事情。现有技术根据光纤折弯后会泄露出光的特性，采用一种寻纤设备。该寻纤设备可以夹持多根光纤同时进行检测，具体是对光纤进行折弯以检测光纤泄露的漏光功率。通过调整光路的功率并来检测目标光路跟哪几个寻纤设备及对应的光纤存在关联性，进而得到该光路在机房内的跳纤情况。然而在现有技术中存在的缺点是如果当前获取的漏光功率是环境干扰所引起而不是人为的，则很容易进行误判，最终导致寻纤失败。发明内容本发明旨在克服上述现有技术的至少一种缺陷，提供一种光纤检测方法和系统，能够检测光纤寻纤过程中的干扰是环境的外部干扰还是人为主动触发干扰。本发明采取的技术方案是：本发明提供一种光纤检测方法，所述光纤检测方法应用于光纤检测设备；所述光纤检测设备设有多个光纤通道；所述光纤通道用于检测光纤的漏光功率；每条所述光纤通道对应一条光纤；所述光纤检测方法包括：通过多条所述光纤通道分别对多条所述光纤的漏光功率进行采样，将采样结果预处理后得到每条所述光纤通道的漏光功率数据；在预设检测周期内，按采样时间顺序计算每条所述光纤通道的所述漏光功率数据中每两个相邻数据的功率差值；将每个所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况；对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数；根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况：若一条所述光纤通道的疑似主动触发的次数不少于预设干扰次数，且其他所述光纤通道的疑似主动触发的次数均为0，则将所述疑似主动触发的次数不少于预设干扰次数的光纤通道标记为主动触发的光纤通道；若至少两条所述光纤通道的疑似主动触发的次数不为0，且至少一条所述光纤通道的疑似主动触发的次数不小于所述预设干扰次数，则获取所述疑似主动触发的次数最多的前两条光纤通道之间的触发次数差值，在所述触发次数差值不小于所述预设干扰次数时，将所述疑似主动触发的次数最高的光纤通道标记为主动触发的光纤通道。环境所形成的干扰通常是一瞬间发生的，并且往往会对多根所述光纤产生影响，而人为所形成的干扰是存在一定的规律的，并且往往只会作用于一根或少量的所述光纤；利用这一原理，采集多条所述光纤的漏光功率情况，将后一时刻漏光功率与上一时刻的漏光功率进行比较，获得发生干扰的次数，进而判定干扰情况是否是人为的主动触发干扰，准确的识别出所述光纤中的干扰类型。进一步的，所述根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况还包括：在所述触发次数差值小于所述预设干扰次数时，判定为外部干扰。进一步的，所述根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况还包括：若所述疑似主动触发的次数均小于所述预设干扰次数，则判定为外部干扰。进一步的，所述通过多条所述光纤通道分别对多条所述光纤的漏光功率进行采样，将采样结果预处理后得到每条所述光纤通道的漏光功率数据，具体包括：对每条所述光纤的漏光功率进行采样，计算每个第一时间范围内的每条所述光纤通道的采样数据的平均值，作为第一平均值；计算每条所述光纤通道在第二时间范围内的所有所述第一平均值的平均值，作为第二平均值；获取每条所述光纤通道的所述预设检测周期内的所有所述第二平均值，作为每条所述光纤通道的所述漏光功率数据；所述第一时间范围小于所述第二时间范围，所述第二时间范围小于所述预设检测周期。进一步的，将每个所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况，具体包括：将所有所述功率差值与预设阈值进行比较；如所述功率差值大于所述预设阈值，为所述功率差值添加第一标记；如所述功率差值等于所述预设阈值，为所述功率差值添加第二标记；如所述功率差值小于所述预设阈值，为所述功率差值添加第三标记；得到每条所述光纤通道的标记情况。所述功率差值表示的是漏光功率在前一个时刻与后一个时刻的变化情况，所述预设阈值对应表示的是对漏光功率变化情况的判定，当所述功率差值大于或小于所述预设阈值时，表明所述光纤通道上的漏光功率变化异常，在这一时间段内可能发生了对应的干扰，分别对应为干扰的发生和结束，而当所述功率差值等于所述预设阈值时，表明所述光纤通道上的漏光功率变化正常，在这一时间段内可能处于干扰发生中或没有发生干扰，可以通过每条所述光纤通道上添加的对应标记的情况来获得所述光纤通道上的干扰情况，能够更方便进一步的对干扰进行分析。进一步的，所述对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数，具体包括：移除每条所述光纤通道的标记情况中的所述第二标记；按照采样时间顺序比较每条所述光纤通道中每两个标记情况；如所述两个标记情况不同，则为其添加位置标记；统计每条所述光纤通道的所述位置标记的数量，作为所述疑似主动触发的次数。如上述所述的，第一标记和第二标记可以对应为干扰的发生和结束，或者反之，则通过得到在两个相邻的第一标记和第二标记，可以认为，在这一个时间段内的发生了一次干扰。本发明还提供一种光纤检测系统，所述光纤检测系统应用于光纤检测设备；所述光纤检测设备设有多个光纤通道；所述光纤通道用于检测光纤的漏光功率；每条所述光纤通道对应一条光纤；所述光纤检测系统包括：信号采集模块，用于通过多条所述光纤通道分别对多条所述光纤的漏光功率进行采样；存储模块，用于存储所述信号采集模块采到的每条所述光纤的所述漏光功率；数据处理模块，用于对所述存储模块存储的每条所述光纤的漏光功率进行处理，得到每条所述光纤通道的漏光功率数据；数据计算模块，用于在预设检测周期内，按采样时间顺序计算每条所述光纤通道的所述漏光功率数据中每两个相邻数据的功率差值；数据标记模块，所述数据标记模块用于将每个所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况；数据分析模块，所述数据分析模块用于对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数；优选的，每次所述疑似主动触发仅作用于一条所述光纤通道；干扰判定模块，所述干扰判定模块用于根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况；若一条所述光纤通道的疑似主动触发的次数不少于预设干扰次数，且其他所述光纤通道的疑似主动触发的次数均为0，则将所述疑似主动触发的次数不少于预设干扰次数的光纤通道标记为主动触发的光纤通道；若至少两条所述光纤通道的疑似主动触发的次数不为0，且至少一条所述光纤通道的疑似主动触发的次数不小于所述预设干扰次数，则获取所述疑似主动触发的次数最多的前两条光纤通道之间的触发次数差值，在所述触发次数差值不小于所述预设干扰次数时，将所述疑似主动触发的次数最高的光纤通道标记为主动触发的光纤通道。进一步的，所述数据处理模块用于对所述存储模块存储的每条所述光纤的漏光功率进行处理，得到每条所述光纤通道的漏光功率数据，具体为：计算每个第一时间范围内的每条所述光纤通道的采样数据的平均值，作为第一平均值；计算每条所述光纤通道在第二时间范围内的所有所述第一平均值的平均值，作为第二平均值；获取每条所述光纤通道的所述预设检测周期内的所有第二平均值，作为每条所述光纤通道的所述漏光功率数据；所述第一时间范围小于所述第二时间范围，所述第二时间范围小于所述预设检测周期。进一步的，所述数据标记模块用于将每个所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况，具体为：将所有所述功率差值与预设阈值进行比较；如所述功率差值大于所述预设阈值，为所述功率差值添加第一标记；如所述功率差值等于所述预设阈值，为所述功率差值添加第二标记；如所述功率差值小于所述预设阈值，为所述功率差值添加第三标记；得到每条所述光纤通道的标记情况。进一步的，所述数据分析模块用于对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数，具体为：移除每条所述光纤通道的标记情况中的第二标记；按照采样时间顺序比较每条所述光纤通道中每两个标记情况；如所述两个标记情况不同，则为其添加位置标记，统计每条所述光纤通道的所述位置标记的数量，作为所述疑似主动触发的次数。与现有技术相比，本发明的有益效果为：本发明通过分别采集多条光纤的漏光功率，通过比较每条所述光纤上的各个时段的漏光功率的差值，得到每条所述光纤上的漏光功率变化情况，并通过漏光功率变化情况来标记疑似主动触发的次数，利用环境被动触发干扰和人为主动触发干扰对所述光纤所产生的影响的区别的原理，来对各条所述光纤的疑似主动触发的次数进行分析，能够有效的判别所述光纤中的干扰是环境被动触发干扰还是人为主动触发干扰。附图说明图1为本发明的一种光纤检测方法的步骤流程图。图2为本发明的一种光纤检测系统的系统结构图。附图标注：信号采集模块100，存储模块200，数据处理模块300，数据计算模块400，数据标记模块500，数据分析模块600，干扰判定模块700，寻线模块800。具体实施方式本发明附图仅用于示例性说明，不能理解为对本发明的限制。为了更好说明以下实施例，附图某些部件会有省略、放大或缩小，并不代表实际产品的尺寸；对于本领域技术人员来说，附图中某些公知结构及其说明可能省略是可以理解的。实施例1如图1所示，本实施例提供一种光纤检测方法，本实施例的所述方法可以应用在机房寻纤过程中，用于排除环境的被动触发的因素，确定其中的人工操作所引起的主动触发，进而确定人工的主动触发所在的光纤，达到寻纤的目的；同时本实施例的所述方法也可以用于判定光纤上所发生的干扰是由环境引起的被动触发还是人为引起的主动触发，进而能够更好的对光纤进行维护。在本实施例中，多条光纤设置在ODF架上，并在所述ODF架上设置光纤检测设备，所述光纤检测设备具有多条光纤通道，所述光纤检测设备通过所述多条光纤通道检测设置在所述ODF架上的所述多条光纤，每条所述光纤通道对应一条所述光纤；本实施例的所述光纤检测方法应用于所述光纤检测设备；所述光纤检测方法包括：S1：通过多条所述光纤通道分别对多条所述光纤的漏光功率进行采样，将采样结果预处理后得到每条所述光纤通道的漏光功率数据；其中，对所述光纤的采样为ADC采样，通过ADC采样，将所述光纤中的模拟数据转换为数字数据；进一步的，ADC采样的采样结果还需要进行预处理；所述预处理具体包括：计算每个第一时间范围内的每条所述光纤通道的采样数据的平均值，作为第一平均值；然后计算每条所述光纤通道在第二时间范围内的所有所述第一平均值的平均值，作为第二平均值；最终获取每条所述光纤通道的预设检测周期内的所有所述第二平均值，作为每条所述光纤通道的所述漏光功率数据；其中，所述第一时间范围小于所述第二时间范围，所述第二时间范围小于所述预设检测周期。其中，所述预设检测周期为根据主动触发的频率进行设定。通过预处理，分批将采样数据进行压缩，能够逐次减少数据量，降低系统数据采样和处理的负担；同时，压缩数据能够更好的反映在所述预设检测周期的时间段内的数据情况，可以通过设定所述预设检测周期来更好的匹配需要检测的人为的主动触发。上述各个计算过程可以分别通过第一线程、第二线程和第三线程来执行，各个线程之间并行执行；具体的，所述第一线程对每条所述光纤的漏光功率进行采样，并计算每条所述光纤通道的每个所述第一时间范围内的采样数据的平均值，将该平均值作为所述第一平均值，然后按照时间顺序将每条所述光纤通道的所述第一平均值依次存储至存储器的第一缓存区；所述第二线程从所述第一缓存区中依次提取每条所述光纤通道的每个所述第二时间范围内的所述第一平均值，并计算每个所述第二时间范围内的所述第一平均值的平均值，作为第二平均值，然后按照时间顺序将每条所述光纤通道的所述第二平均值依次存储至所述存储器的第二缓存区中；所述第三线程从所述第二缓存区中提取每条所述光纤通道的所述预设检测周期内的所有所述第二平均值，作为每条所述光纤通道的所述漏光功率数据；值得注意的是，上述描述中的所述存储器的第一缓存区和第二缓存区区仅用于表述所述存储器的三个不同的存储区域，并非特定的存储区域。通过多个线程能够并行的实现数据的采集和压缩，有效的提高数据处理的效率。S2：在预设检测周期内，按采样时间顺序计算每条所述光纤通道的所述漏光功率数据中每两个相邻数据的功率差值；在步骤S1中，所述漏光功率数据为第二时间范围内的漏光功率的采样数据的平均值，所以所述漏光功率数据中的每个数据反映的是在第二时间范围内的所述光纤通道的漏光功率情况，而每条所述光纤通道的所述漏光功率数据是按时间顺序计算得到的，所以在本步骤中，相邻的两个数据之间差值反映的是每条所述光纤通道的不同时间段的漏光功率的变化情况，通过漏光功率的变化情况，能够更好地反映对应的所述光纤是否发生了漏光，进而更好的了解是否发生了干扰和干扰的类型。S3：将每个所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况；在本步骤中，具体的，将所有所述功率差值与预设阈值进行比较；如所述功率差值大于所述预设阈值，为所述功率差值添加第一标记；如所述功率差值等于所述预设阈值，为所述功率差值添加第二标记；如所述功率差值小于所述预设阈值，为所述功率差值添加第三标记；得到每条所述光纤通道的标记情况。在另一个优选的实施方式中，所述预设阈值也可以设置为一个预设阈值范围，则对应的比较过程为：将所有所述功率差值与所述预设阈值范围进行比较；如所述功率差值大于所述预设阈值范围的最大值，为所述功率差值添加第一标记；如所述功率差值落于所述预设阈值范围内，为所述功率差值添加第二标记；如所述功率差值小于所述预设阈值范围的最小值，为所述功率差值添加第三标记；得到每条所述光纤通道的标记情况。所述功率差值表示的是所述光纤通道中的漏光功率在前一时刻与后一时刻的变化情况，所述预设阈值或预设阈值范围对应表示的是对漏光功率变化情况的判定，所述预设阈值或预设阈值范围根据所述光纤通道的实际工作情况设置；当所述功率差值大于或小于所述预设阈值时，表明所述光纤通道上的漏光功率变化异常，在这一时间段内可能发生了对应的干扰，所述功率差值大于和小于所述预设阈值的情况分别对应干扰的发生和结束，而当所述功率差值等于所述预设阈值时，表明所述光纤通道上的漏光功率变化正常，在这一时间段内没有发生对应的干扰或者处于干扰发生中，对每条所述光纤通道的所述功率差值进行了对应的标记后，可以通过每条所述光纤通道上添加的对应标记的情况来获得所述光纤通道上的干扰情况，能够更方便进一步的对干扰进行分析。S4：对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数；在本实施例中，每次所述疑似主动触发仅作用于一条所述光纤；具体的，移除每条所述光纤通道的标记情况中的所述第二标记；移除所述第二标记后，则每条所述光纤通道中的所有标记情况中，仅剩余所述第一标记和第三标记，第二标记表示所述光纤通道该时间段的漏光功率变化正常，在这一时间段内没有发生对应的干扰或者处于干扰发生中，将其移除，只判定剩余的漏光功率变化异常的情况，即只判断干扰的发生和结束的过程，能够使干扰的判定更准确；按照采样时间顺序比较每条所述光纤通道中每两个标记情况；如所述两个标记情况不同，则为其添加位置标记，统计每条所述光纤通道的所述位置标记的数量，作为所述疑似主动触发的次数。如上述所述的，第一标记和第二标记可以对应为干扰的发生和结束，或者反之，则通过得到在两个相邻的第一标记和第二标记，可以认为，在这一个时间段内的发生了一次干扰，将其判定为疑似主动触发，进而可以统计出在每条所述光纤通道中发生的疑似主动触发的次数。S5：根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况；环境所形成的干扰通常是一瞬间发生的，并且往往会对多根所述光纤产生影响，而人为所形成的干扰是存在一定的规律的，并且往往只会作用于一根或少量的所述光纤；根据这一原理，可以对所述光纤通道中的干扰情况进行判断。在本步骤中，具体的，若一条所述光纤通道的疑似主动触发的次数不少于预设干扰次数，且其他所述光纤通道的疑似主动触发的次数均为0，则将所述疑似主动触发的次数不少于预设干扰次数的光纤通道标记为主动触发的光纤通道；即只有一条所述光纤通道符合人为的干扰的规律，对应的将该所述光纤通道标记为主动触发的光纤通道；若至少两条所述光纤通道的疑似主动触发的次数不为0，且至少一条所述光纤通道的疑似主动触发的次数不小于所述预设干扰次数，则获取所述疑似主动触发的次数最多的前两条光纤通道之间的触发次数差值，在所述触发次数差值不小于所述预设干扰次数时，将所述疑似主动触发的次数最高的光纤通道标记为主动触发的光纤通道。其中，所述预设干扰次数可以根据实际情况进行设定；在本实施例中，所述预设干扰次数可以根据具体的人工操作规范进行设置，在实际操作的过程中，所述人工操作规范为，人工地将所述光纤折弯或其他的方式使所述光纤发生光泄露，进而造成所述光纤的漏光功率发生变化，并在一定的时间范围内，按照一定的时间间隔来进行操作，目的是能够通过一定的规范更好的根据漏光功率的变化情况来识别出人工操作所引起的干扰；所述触发次数差值可以通过如下方式计算：将所述光纤通道根据所述疑似主动触发的次数进行排序，计算前两位的所述光纤通道的所述疑似主动触发的次数的差值，作为所述触发次数差值；或，获取所述疑似主动触发的次数最大的所述光纤通道，将该所述光纤通道的所述疑似主动触发的次数与其他所述光纤通道的所述疑似主动触发的次数进行比较，获得其中最小的差值，作为所述触发次数差值。所述触发次数的差值表示在所述光纤通道的主动触发次数的最大差值，将其与预设干扰次数进行比较，能够更好的排出其中的干扰数据，进而更准确的识别出人为的主动触发。另外，在所述触发次数差值小于所述预设干扰次数时，判定为外部干扰；若所述疑似主动触发的次数均小于所述预设干扰次数，则判定为外部干扰。实施例2如图2所示，本实施例提供一种光纤检测系统，本实施例的所述方法可以应用在机房寻纤过程中，用于排除环境的被动触发的因素，确定其中的人工操作所引起的主动触发，进而确定人工的主动触发所在的光纤，达到寻纤的目的；同时本实施例的所述方法也可以用于判定光纤上所发生的干扰是由环境引起的被动触发还是人为引起的主动触发，进而能够更好的对光纤进行维护。在本实施例中，多条光纤设置在ODF架上，并在所述ODF架上设置光纤检测设备，所述光纤检测设备具有多条光纤通道，所述光纤检测设备通过所述多条光纤通道检测设置在所述ODF架上的所述多条光纤，每条所述光纤通道对应一条所述光纤；本实施例的所述光纤检测系统应用于所述光纤检测设备；所述系统包括：信号采集模块100，用于通过多条所述光纤通道分别对多条所述光纤的漏光功率进行采样；其中，对所述光纤的采样为ADC采样，通过ADC采样，将所述光纤中的模拟数据转换为数字数据。存储模块200，用于存储所述信号采集模块100采到的每条所述光纤的所述漏光功率；优选的，所述存储模块200可以划分多个缓存区来存储采集到的所述漏光功率。数据处理模块300，用于对所述存储模块200存储的每条所述光纤的所述漏光功率进行处理，得到每条所述光纤通道的漏光功率数据；在一个优选的实施方式中，所述处理具体包括：计算每个第一时间范围内的每条所述光纤通道的采样数据的平均值，作为第一平均值；然后计算每条所述光纤通道在第二时间范围内的所有第一平均值的平均值，作为第二平均值；最终获取每条所述光纤通道的预设检测周期内的所有第二平均值，作为每条所述光纤通道的所述漏光功率数据；其中，所述第一时间范围小于第二时间范围，所述第二时间范围小于预设检测周期。通过上述处理，分批将采样数据进行压缩，能够逐次减少数据量，降低系统数据采样和处理的负担；同时，压缩数据能够更好的反映在所述预设检测周期的时间段内的数据情况，可以通过设定所述预设检测周期来更好的匹配需要检测的人为的主动触发。具体的，上述信号采集模块100、存储模块200和数据处理模块300之间的协调可以分别通过第一线程、第二线程和第三线程来执行，各个线程之间并行执行；具体的，所述第一线程对每条所述光纤的漏光功率进行采样，并计算每条所述光纤通道的每个所述第一时间范围内的采样数据的平均值，将该平均值作为第一平均值，然后按照时间顺序将每条所述光纤通道的所述第一平均值依次存储至所述存储模块200的第一缓存区；所述第二线程从所述第一缓存区中依次提取每条所述光纤通道的每个所述第二时间范围内的所述第一平均值，并计算每个所述第二时间范围内的所述第一平均值的平均值，作为第二平均值，然后按照时间顺序将每条所述光纤通道的所述第二平均值依次存储至所述存储模块200的第二缓存区中；所述第三线程从所述第二缓存区中提取每条所述光纤通道的所述预设检测周期内的所有所述第二平均值，作为每条所述光纤通道的所述漏光功率数据；值得注意的是，上述描述中的所述存储模块200的第一缓存区和第二缓存区仅用于表述所述存储器的三个不同的存储区域，并非特定的存储区域。通过多个线程能够并行的实现数据的采集和压缩，有效的提高数据处理的效率。数据计算模块400，用于在所述预设检测周期内，按采样时间顺序计算每条所述光纤通道的所述漏光功率数据中每两个相邻数据的功率差值；所述漏光功率数据为第二时间范围内的漏光功率的采样数据的平均值，所以所述漏光功率数据中的每个数据反映的是在第二时间范围内的所述光纤通道的漏光功率情况，而每条所述光纤通道的所述漏光功率数据是按时间顺序计算得到的，所以，相邻的两个数据之间差值反映的是每条所述光纤通道的不同时间段的漏光功率的变化情况，通过漏光功率的变化情况，能够更好地反映对应的所述光纤是否发生了漏光，进而更好的了解是否发生了干扰和干扰的类型。数据标记模块500，所述数据标记模块500用于将每个所述功率差值与预设阈值进行比较，得到比较结果，并为每一个所述比较结果添加对应标记，得到每条所述光纤通道的标记情况；具体的，将所有所述功率差值与预设阈值进行比较；如所述功率差值大于所述预设阈值，为所述功率差值添加第一标记；如所述功率差值等于所述预设阈值，为所述功率差值添加第二标记；如所述功率差值小于所述预设阈值，为所述功率差值添加第三标记；得到每条所述光纤通道的标记情况。在另一个优选的实施方式中，所述预设阈值也可以设置为一个预审阈值范围，则对应的比较过程为：将所有所述功率差值与所述预设阈值范围进行比较；如所述功率差值大于所述预设阈值范围的最大值，为所述功率差值添加第一标记；如所述功率差值落于所述预设阈值范围内，为所述功率差值添加第二标记；如所述功率差值小于所述预设阈值范围的最小值，为所述功率差值添加第三标记；得到每条所述光纤通道的标记情况。所述功率差值表示的是所述光纤通道中的漏光功率在前一时刻与后一时刻的变化情况，所述预设阈值或预设阈值范围对应表示的是对漏光功率变化情况的判定，所述预设阈值或预设阈值范围根据所述光纤通道的实际工作情况设置；当所述功率差值大于或小于所述预设阈值时，表明所述光纤通道上的漏光功率变化异常，在这一时间段内可能发生了对应的干扰，所述功率差值大于和小于所述预设阈值的情况分别对应干扰的发生和结束，而当所述功率差值等于所述预设阈值时，表明所述光纤通道上的漏光功率变化正常，在这一时间段内没有发生对应的干扰或者处于干扰发生中，对每条所述光纤通道的所述功率差值进行了对应的标记后，可以通过每条所述光纤通道上添加的对应标记的情况来获得所述光纤通道上的干扰情况，能够更方便进一步的对干扰进行分析。数据分析模块600，用于对每条所述光纤通道的所述标记情况进行分析，确定其中疑似主动触发的次数；优选的，每次所述疑似主动触发仅作用于一条所述光纤；具体的，移除每条所述光纤通道的标记情况中的所述第二标记；移除所述第二标记后，则每条所述光纤通道中的所有标记情况中，仅剩余所述第一标记和第三标记，第二标记表示所述光纤通道该时间段的漏光功率变化正常，在这一时间段内没有发生对应的干扰或者处于干扰发生中，将其移除，只判定剩余的漏光功率变化异常的情况，即只判断干扰的发生和结束的过程，能够使干扰的判定更准确；按照采样时间顺序比较每条所述光纤通道中每两个标记情况；如所述两个标记情况不同，则为其添加位置标记，统计每条所述光纤通道的所述位置标记的数量，作为所述疑似主动触发的次数。如上述所述的，第一标记和第二标记可以对应为干扰的发生和结束，或者反之，则通过得到在两个相邻的第一标记和第二标记，可以认为，在这一个时间段内的发生了一次干扰，将其判定为疑似主动触发，进而可以统计出在每条所述光纤通道中发生的疑似主动触发的次数。干扰判定模块700，所述干扰判定模块700用于根据所述疑似主动触发的次数判断所述光纤通道中的干扰情况；环境所形成的干扰通常是一瞬间发生的，并且往往会对多根所述光纤产生影响，而人为所形成的干扰是存在一定的规律的，并且往往只会作用于一根或少量的所述光纤；根据这一原理，可以对所述光纤中的干扰情况进行判断。具体的，若一条所述光纤通道的疑似主动触发的次数不少于预设干扰次数，且其他所述光纤通道的疑似主动触发的次数均为0，则将所述疑似主动触发的次数不少于预设干扰次数的光纤通道标记为主动触发的光纤通道；即只有一条所述光纤通道符合人为的干扰的规律，对应的将该所述光纤通道标记为主动触发的光纤通道；若至少两条所述光纤通道的疑似主动触发的次数不为0，且至少一条所述光纤通道的疑似主动触发的次数不小于所述预设干扰次数，则获取所述疑似主动触发的次数最多的前两条光纤通道之间的触发次数差值，在所述触发次数差值不小于所述预设干扰次数时，将所述疑似主动触发的次数最高的光纤通道标记为主动触发的光纤通道。其中，所述预设干扰次数可以根据实际情况进行设定；在本实施例中，所述预设干扰次数可以根据具体的人工操作规范进行设置，在实际操作的过程中，所述人工操作规范为，人工地将所述光纤通道折弯或其他的方式使所述光纤通道发生光泄露，进而造成所述光纤通道的漏光功率发生变化，并在一定的时间范围内，按照一定的时间间隔来进行操作，目的是能够通过一定的规范更好的根据漏光功率的变化情况来识别出人工操作所引起的干扰；所述触发次数差值可以通过如下方式计算：将所述光纤通道根据所述疑似主动触发的次数进行排序，计算前两位的所述光纤通道的所述疑似主动触发的次数的差值，作为所述触发次数差值；或，获取所述疑似主动触发的次数最大的所述光纤通道，将该所述光纤通道的所述疑似主动触发的次数与其他所述光纤通道的所述疑似主动触发的次数进行比较，获得其中最小的差值，作为所述触发次数差值。所述触发次数的差值表示在所述光纤通道的主动触发次数的最大差值，将其与预设干扰次数进行比较，能够更好的排出其中的干扰数据，进而更准确的识别出人为的主动触发。另外，在所述触发次数差值小于所述预设干扰次数时，判定为外部干扰；若所述疑似主动触发的次数均小于所述预设干扰次数，则判定为外部干扰。显然，本发明的上述实施例仅仅是为清楚地说明本发明技术方案所作的举例，而并非是对本发明的具体实施方式的限定。凡在本发明权利要求书的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明权利要求的保护范围之内。
