标题title
基于执法记录仪的数据处理方法、装置、设备和可读介质
摘要abst
本公开的实施例公开了基于执法记录仪的数据处理方法、装置、设备和可读介质。该方法的一具体实施方式包括：响应于接收到数据采集请求，实时采集执法视频流数据；根据执法视频流数据，确定执法关键帧序列；响应于接收到目标人员的证件图像，对执法关键帧序列和证件图像进行匹配处理，以生成匹配结果；响应于匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作；对执法视频流数据进行编码处理，以生成编码视频流；将编码视频流发送至目标终端以进行存储。该实施方式避免了出现执法疏漏的情况。
权利要求书clms
1.一种基于执法记录仪的数据处理方法，包括：响应于接收到数据采集请求，实时采集执法视频流数据，其中，所述执法视频流数据包括至少一个执法视频帧；根据所述执法视频流数据，确定执法关键帧序列；响应于接收到目标人员的证件图像，对所述执法关键帧序列和所述证件图像进行匹配处理，以生成匹配结果；响应于所述匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作；对所述执法视频流数据进行编码处理，以生成编码视频流；将所述编码视频流发送至目标终端以进行存储。2.根据权利要求1所述的方法，其中，在所述控制相关联的提示部件进行匹配成功提示操作之后，所述方法还包括：采集所述目标人员的音频信息；对所述音频信息进行声纹解析处理，以生成声纹信息；确定所述声纹信息与所述证件图像是否匹配；响应于所述声纹信息与所述证件图像匹配，控制所述提示部件进行声纹匹配成功提示操作；响应于所述声纹信息与所述证件图像不匹配，控制所述提示部件进行声纹匹配失败提示操作。3.根据权利要求1所述的方法，其中，在所述控制相关联的提示部件进行匹配成功提示操作之后，所述方法还包括：对所述证件图像进行文字识别处理，以生成目标人员文本信息；将所述目标人员文本信息输入至预先训练的文本提取模型，以生成提取信息；确定预设人员信息集中是否存在对应所述提取信息的预设人员信息；响应于确定预设人员信息集中存在对应所述提取信息的预设人员信息，控制所述提示部件进行人员匹配提示操作。4.根据权利要求1所述的方法，其中，所述响应于接收到目标人员的证件图像，对所述执法关键帧序列和所述证件图像进行匹配处理，以生成匹配结果，包括：对所述证件图像进行拆分处理，以生成第一部分证件图像和第二部分证件图像，其中，所述第一部分证件图像显示有人员图像，所述第二部分证件图像显示有人员信息；对所述第二部分证件图像进行人员信息查找处理，以生成查找信息；确定所述查找信息包括的人员照片与所述第一部分证件图像显示的人员图像的相似度；响应于所述相似度大于等于预设相似度阈值，从所述执法关键帧序列中选取出目标执法关键帧，对所述目标执法关键帧与所述第二部分证件图像进行匹配处理，以生成匹配结果。5.根据权利要求1所述的方法，其中，所述方法还包括：获取检测配置信息，其中，所述检测配置信息包括检测视频长度；响应于接收到对应的长度等于所述检测视频长度的执法视频流数据，从所述执法视频流数据中选取满足第一预设条件的执法视频帧作为待检测视频帧；将所述待检测视频帧输入至预先训练的出镜检测模型，以生成检测结果；响应于所述检测结果表征目标人员出镜，控制所述提示部件进行出镜提示操作。6.一种基于执法记录仪的数据处理装置，包括：采集单元，被配置成响应于接收到数据采集请求，实时采集执法视频流数据，其中，所述执法视频流数据包括至少一个执法视频帧；确定单元，被配置成根据所述执法视频流数据，确定执法关键帧序列；匹配单元，被配置成响应于接收到目标人员的证件图像，对所述执法关键帧序列和所述证件图像进行匹配处理，以生成匹配结果；控制单元，被配置成响应于所述匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作；编码单元，被配置成对所述执法视频流数据进行编码处理，以生成编码视频流；发送单元，被配置成将所述编码视频流发送至目标终端以进行存储。7.一种电子设备，包括：一个或多个处理器；存储装置，其上存储有一个或多个程序；当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1至5中任一所述的方法。8.一种计算机可读介质，其上存储有计算机程序，其中，所述程序被处理器执行时实现如权利要求1至5中任一所述的方法。
说明书desc
技术领域本公开的实施例涉及计算机技术领域，具体涉及基于执法记录仪的数据处理方法、装置、设备和可读介质。背景技术在执法人员的执法过程中，通常需要使用执法记录仪记录执法过程。目前，在使用执法记录仪时，通常采用的方式为：使用执法记录仪的录制功能，记录执法过程，将记录的执法视频导出至其他终端或服务器进行处理。然而，当采用上述方式使用执法记录仪时，经常会存在如下技术问题：第一，仅仅使用执法记录仪的录制功能，无法对目标人员的身份进行确认，出现执法疏漏的情况，并且，录制视频后导出至其他终端会导致记录的执法视频不具有实时性，无法直接进行核实，造成执法疏漏。第二，拍摄的执法视频中存在冗余或不清晰的视频帧，通常使用基于运动信息或镜头边界的关键帧提取算法提取关键帧，而提取出的关键帧对静止物体的识别性较低，且场景较为复杂时，无法清楚反映场景信息，可靠程度较低。第三，通过实时传输视频，在接收端选取视频中间内容进行播放时，需要将整个视频进行解码后才能对选取的内容进行播放，同时需删除选取的内容之前的视频，导致传输资源的浪费。该背景技术部分中所公开的以上信息仅用于增强对本发明构思的背景的理解，并因此，其可包含并不形成本国的本领域普通技术人员已知的现有技术的信息。发明内容本公开的内容部分用于以简要的形式介绍构思，这些构思将在后面的具体实施方式部分被详细描述。本公开的内容部分并不旨在标识要求保护的技术方案的关键特征或必要特征，也不旨在用于限制所要求的保护的技术方案的范围。本公开的一些实施例提出了基于执法记录仪的数据处理方法、装置、电子设备和计算机可读介质，来解决以上背景技术部分提到的技术问题中的一项或多项。第一方面，本公开的一些实施例提供了一种基于执法记录仪的数据处理方法，该方法包括：响应于接收到数据采集请求，实时采集执法视频流数据，其中，上述执法视频流数据包括至少一个执法视频帧；根据上述执法视频流数据，确定执法关键帧序列；响应于接收到目标人员的证件图像，对上述执法关键帧序列和上述证件图像进行匹配处理，以生成匹配结果；响应于上述匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作；对上述执法视频流数据进行编码处理，以生成编码视频流；将上述编码视频流发送至目标终端以进行存储。第二方面，本公开的一些实施例提供了一种基于执法记录仪的数据处理装置，装置包括：采集单元，被配置成响应于接收到数据采集请求，实时采集执法视频流数据，其中，上述执法视频流数据包括至少一个执法视频帧；确定单元，被配置成根据上述执法视频流数据，确定执法关键帧序列；匹配单元，被配置成响应于接收到目标人员的证件图像，对上述执法关键帧序列和上述证件图像进行匹配处理，以生成匹配结果；控制单元，被配置成响应于上述匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作；编码单元，被配置成对上述执法视频流数据进行编码处理，以生成编码视频流；发送单元，被配置成将上述编码视频流发送至目标终端以进行存储。第三方面，本公开的一些实施例提供了一种电子设备，包括：一个或多个处理器；存储装置，其上存储有一个或多个程序，当一个或多个程序被一个或多个处理器执行，使得一个或多个处理器实现上述第一方面任一实现方式所描述的方法。第四方面，本公开的一些实施例提供了一种计算机可读介质，其上存储有计算机程序，其中，程序被处理器执行时实现上述第一方面任一实现方式所描述的方法。本公开的上述各个实施例中具有如下有益效果：通过本公开的一些实施例的基于执法记录仪的数据处理方法，可以避免出现执法疏漏的情况。具体来说，造成出现执法疏漏的原因在于：仅仅使用执法记录仪的录制功能，无法对目标人员的身份进行确认，出现执法疏漏的情况，并且，录制视频后导出至其他终端会导致记录的执法视频不具有实时性，无法直接进行核实，造成执法疏漏。基于此，本公开的一些实施例的基于执法记录仪的数据处理方法，首先，响应于接收到数据采集请求，实时采集执法视频流数据。由此，可以实时采集执法视频。其次，根据上述执法视频流数据，确定执法关键帧序列。由此，可以选取视频中的关键帧，为人员匹配提供数据支持，减少匹配时的运算资源的浪费。然后，响应于接收到目标人员的证件图像，对上述执法关键帧序列和上述证件图像进行匹配处理，以生成匹配结果。由此，可以确定证件信息与被执法人员是否表征同一人员。之后，响应于上述匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作。由此，可以确定被执法人员的身份。最后，对上述执法视频流数据进行编码处理，以生成编码视频流；将上述编码视频流发送至目标终端以进行存储。由此，可以实时传输执法现场，从而避免了无法直接进行核实的情况，进而避免出现执法疏漏。附图说明结合附图并参考以下具体实施方式，本公开各实施例的上述和其他特征、优点及方面将变得更加明显。贯穿附图中，相同或相似的附图标记表示相同或相似的元素。应当理解附图是示意性的，元件和元素不一定按照比例绘制。图1是根据本公开的基于执法记录仪的数据处理方法的一些实施例的流程图；图2是根据本公开的基于执法记录仪的数据处理装置的一些实施例的结构示意图；图3是适于用来实现本公开的一些实施例的电子设备的结构示意图。具体实施方式下面将参照附图更详细地描述本公开的实施例。虽然附图中显示了本公开的某些实施例，然而应当理解的是，本公开可以通过各种形式来实现，而且不应该被解释为限于这里阐述的实施例。相反，提供这些实施例是为了更加透彻和完整地理解本公开。应当理解的是，本公开的附图及实施例仅用于示例性作用，并非用于限制本公开的保护范围。另外还需要说明的是，为了便于描述，附图中仅示出了与有关发明相关的部分。在不冲突的情况下，本公开中的实施例及实施例中的特征可以相互组合。需要注意，本公开中提及的“第一”、“第二”等概念仅用于对不同的装置、模块或单元进行区分，并非用于限定这些装置、模块或单元所执行的功能的顺序或者相互依存关系。需要注意，本公开中提及的“一个”、“多个”的修饰是示意性而非限制性的，本领域技术人员应当理解，除非在上下文另有明确指出，否则应该理解为“一个或多个”。本公开实施方式中的多个装置之间所交互的消息或者信息的名称仅用于说明性的目的，而并不是用于对这些消息或信息的范围进行限制。下面将参考附图并结合实施例来详细说明本公开。图1示出了根据本公开的基于执法记录仪的数据处理方法的一些实施例的流程100。该基于执法记录仪的数据处理方法，包括以下步骤：步骤101，响应于接收到数据采集请求，实时采集执法视频流数据。在一些实施例中，基于执法记录仪的数据处理方法的执行主体可以响应于接收到数据采集请求，实时采集执法视频流数据。其中，上述执法视频流数据包括至少一个执法视频帧。上述数据采集请求可以是执法人员对执法记录仪进行数据采集操作产生的请求信息。例如，上述数据采集操作可以是按压实时录制视频的开关。上述执法视频流数据可以是执法记录仪的拍摄组件拍摄的实时视频数据。上述执法记录仪包括但不限于：音频组件、视频组件和提示部件。上述音频组件可以用于录制音频数据。上述提示部件可以是用于提示信息的部件。例如，上述提示部件可以是能够显示多种颜色的提示灯。这里，因喇叭等组件可能会引起被执法者注意，因此不选用喇叭等组件作为提示部件。步骤102，根据执法视频流数据，确定执法关键帧序列。在一些实施例中，上述执行主体可以根据上述执法视频流数据，确定执法关键帧序列。在一些实施例的一些可选的实现方式中，上述执行主体可以通过以下步骤确定执法关键帧序列：第一步，从上述执法视频流数据中选取出满足第三预设条件的执法视频帧作为初始关键视频帧。其中，上述第三预设条件可以是执法视频流数据中第一个对应的清晰度大于等于预设清晰度的执法视频帧。第二步，根据上述初始关键视频帧，确定第二关键视频帧，以及根据上述初始关键视频帧和上述第二关键视频帧，确定初始步长。实践中，可以选取出初始关键视频帧之后的第一个满足第四预设条件的执法视频帧作为第二关键视频帧，以及将初始关键视频帧和第二关键视频帧之间的长度确定为初始步长。其中，上述第四预设条件可以是执法视频帧对应的清晰度大于等于上述预设清晰度，以及执法视频帧与上述初始关键视频帧的相似度小于等于预设相似度。第三步，将上述初始关键视频帧和第二关键视频帧添加至初始关键帧序列中。其中，上述初始关键帧序列初始为空。第四步，基于上述初始关键视频帧和第二关键视频帧，执行如下关键帧查找步骤：第一子步骤，按照初始步长，确定第二关键视频帧之后的关键帧。第二子步骤，将第二关键视频帧作为初始关键视频帧，响应于上述关键帧满足上述第四预设条件，将上述关键帧添加至上述初始关键帧序列，以对初始关键帧序列进行更新。第三子步骤，响应于上述关键帧对应的清晰度大于等于上述预设清晰度，且上述关键帧与初始关键视频帧的相似度小于第二预设相似度，选取目标视频帧作为关键帧。其中，上述目标视频帧可以是位与上述关键帧之后的，步长为初始步长一半的执法视频帧。上述第二预设相似度可以是预先设定的相似度的最小阈值。第四子步骤，响应于上述关键帧清晰度大于等于上述预设清晰度且上述关键帧与初始关键视频帧的相似度大于预设相似度，根据上述初始步长，选取目标执法视频帧作为关键帧。上述目标执法视频帧可以是关键帧之后初始步长的执法视频帧。第五子步骤，响应于未查找完成，将关键帧作为第二关键视频帧，将更新后的初始关键帧序列作为初始关键帧序列，再次执行上述关键帧查找步骤。第五步，响应于查找完成，将更新后的初始关键帧序列作为执法关键帧序列。上述第一步-第六步中的相关内容作为本公开的一个发明点，解决了背景技术提及的技术问题二“拍摄的执法视频中存在冗余或不清晰的视频帧，通常使用基于运动信息或镜头边界的关键帧提取算法提取关键帧，而提取出的关键帧对静止物体的识别性较低，且场景较为复杂时，无法清楚反映场景信息，可靠程度较低”。造成提取出的关键帧对静止物体的识别性较低，无法清楚反映场景信息，可靠程度较低的因素往往如下：拍摄的执法视频中存在冗余或不清晰的视频帧，通常使用基于运动信息或镜头边界的关键帧提取算法提取关键帧，而提取出的关键帧对静止物体的识别性较低，且场景较为复杂时，无法清楚反映场景信息，可靠程度较低。如果解决了上述因素，就能达到提高关键帧对静止物体的识别性，以清楚反应场景信息，提高可靠程度的效果。为了达到这一效果，第一，从上述执法视频流数据中选取出满足第三预设条件的执法视频帧作为初始关键视频帧。由此，可以确定出初始的关键帧。第二，根据上述初始关键视频帧，确定第二关键视频帧，以及根据上述初始关键视频帧和上述第二关键视频帧，确定初始步长。由此，可以确定第二个关键帧，以及查找关键帧的步长。第三，将上述初始关键视频帧和第二关键视频帧添加至初始关键帧序列中。由此，可以将确定的关键帧添加至序列中。第四，基于上述初始关键视频帧和第二关键视频帧，执行如下关键帧查找步骤。由此，可以通过设定关键帧条件，在不满足条件时按折半选取关键帧的方式，选取出满足清晰度和相似度要求的关键帧，从而可以避免因物体静止或复杂场景导致物体的识别性较低的情况，提高了对静止物体的识别性，从而可以清楚反映场景信息，提高关键帧的可靠程度。第五，响应于查找完成，将更新后的初始关键帧序列作为执法关键帧序列。由此，完成生成执法关键帧序列。提高了对静止物体的识别性，可以清楚反映场景信息，提高了关键帧的可靠程度。步骤103，响应于接收到目标人员的证件图像，对执法关键帧序列和证件图像进行匹配处理，以生成匹配结果。在一些实施例中，上述执行主体可以响应于接收到目标人员的证件图像，对上述执法关键帧序列和上述证件图像进行匹配处理，以生成匹配结果。其中，上述证件图像可以是通过执法记录仪的拍摄功能拍摄的目标人员的证件的图像。上述目标人员可以是执法人员询问的人员。实践中，可以通过以下步骤对上述执法关键帧序列和上述证件图像进行匹配处理：第一步，对上述证件图像进行拆分处理，以生成第一部分证件图像和第二部分证件图像。其中，上述第一部分证件图像显示有人员图像，上述第二部分证件图像显示有人员信息。实践中，可以将证件图像的人像部分和文字部分进行拆分，以生成第一部分证件图像和第二部分证件图像。第二步，对上述第二部分证件图像进行人员信息查找处理，以生成查找信息。实践中，可以从预设人员信息表中查找对应人员信息的预设人员信息作为查找信息。其中，上述查找信息包括人员照片。第三步，确定上述查找信息包括的人员照片与上述第一部分证件图像显示的人员图像的相似度。实践中，可以通过基于OpenCV的人脸比对算法确定查找信息包括的人员照片与第一部分证件图像显示的人员图像的相似度。第四步，响应于上述相似度大于等于预设相似度阈值，从上述执法关键帧序列中选取出目标执法关键帧，对上述目标执法关键帧与上述第二部分证件图像进行匹配处理，以生成匹配结果。步骤104，响应于匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作。在一些实施例中，上述执行主体可以响应于上述匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作。其中，上述匹配成功提示操作可以是用于表征匹配成功的操作。例如，上述匹配成功提示操作可以是控制提示灯亮绿色。可选地，在步骤104之后，还包括以下步骤：第一步，采集上述目标人员的音频信息。在一些实施例中，上述执行主体可以采集上述目标人员的音频信息。实践中，可以通过上述执法记录仪包括的音频组件采集上述目标人员的音频信息。第二步，对上述音频信息进行声纹解析处理，以生成声纹信息。在一些实施例中，上述执行主体可以对上述音频信息进行声纹解析处理，以生成声纹信息。其中，上述声纹解析处理可以是通过预先训练的声纹识别模型对音频信息进行解析，得到声纹信息。上述声纹信息可以唯一表征某一人员。第三步，确定上述声纹信息与上述证件图像是否匹配。在一些实施例中，上述执行主体可以确定上述声纹信息与上述证件图像是否匹配。实践中，可以获取对应上述证件图像的预存声纹信息，以及对上述声纹信息和上述预存声纹信息进行匹配。第四步，响应于上述声纹信息与上述证件图像匹配，控制上述提示部件进行声纹匹配成功提示操作。在一些实施例中，上述执行主体可以响应于上述声纹信息与上述证件图像匹配，控制上述提示部件进行声纹匹配成功提示操作。其中，上述声纹匹配成功提示操作可以表征声纹匹配成功。作为示例，响应于上述声纹信息和上述预存声纹信息匹配，上述执行主体可以控制提示灯亮黄灯。第五步，响应于上述声纹信息与上述证件图像信息不匹配，控制上述提示部件进行声纹匹配失败提示操作。在一些实施例中，上述执行主体可以响应于上述声纹信息与上述证件图像信息不匹配，控制上述提示部件进行声纹匹配失败提示操作。其中，上述声纹匹配失败提示操作可以表征声纹匹配失败。可选地，在步骤104之后，还包括以下步骤：第一步，对上述证件图像进行文字识别处理，以生成目标人员文本信息。在一些实施例中，上述执行主体可以对上述证件图像进行文字识别处理，以生成目标人员文本信息。这里，可以将上述证件图像输入至预先训练的文字识别模型，得到目标人员文本信息。其中，上述文字识别模型可以是以图像为输入，以目标人员文本信息为输出的神经网络模型。例如，上述文字识别模型可以是卷积神经网络模型。第二步，将上述目标人员文本信息输入至预先训练的文本提取模型，以生成提取信息。在一些实施例中，上述执行主体可以将上述目标人员文本信息输入至预先训练的文本提取模型，以生成提取信息。其中，上述文本提取模型可以是预先训练的用于提取文本关键词的模型。上述提取信息可以包括但不限于：姓名和证件号。第三步，确定预设人员信息集中是否存在对应上述提取信息的预设人员信息。在一些实施例中，上述执行主体可以确定预设人员信息集中是否存在对应上述提取信息的预设人员信息。其中，上述预设人员信息集中的预设人员信息可以是预先设定的需要进行告警的人员信息。实践中，可以确定预设人员信息集中是否存在包括的姓名和证件号与上述提取信息包括的姓名和证件号相同的预设人员信息。第四步，响应于确定预设人员信息集中存在对应上述提取信息的预设人员信息，控制上述提示部件进行人员匹配提示操作。在一些实施例中，上述执行主体可以响应于确定预设人员信息集中存在对应上述提取信息的预设人员信息，控制上述提示部件进行人员匹配提示操作。其中，上述人员匹配提示操作可以表征匹配到预设人员信息。步骤105，对执法视频流数据进行编码处理，以生成编码视频流。在一些实施例中，上述执行主体可以对上述执法视频流数据进行编码处理，以生成编码视频流。在一些实施例的一些可选的实现方式中，上述执行主体可以通过以下步骤生成编码视频流：第一步，对上述执法视频流数据进行分层处理，以生成分层视频帧序列集。其中，上述分层处理可以是时域可分层处理。第二步，从上述分层视频帧序列集中选取出分层视频帧序列作为目标分层视频帧组，以及对去除了上述分层视频帧序列的分层视频帧序列集进行组合处理，以生成剩余视频帧序列。其中，上述目标分层视频帧组可以是分层视频帧序列集中表征基本层的分层视频帧序列。第三步，获取编码配置信息。其中，上述编码配置信息包括随机接入点长度。实践中，可以从存储编码配置信息的数据库中获取编码配置信息。上述编码配置信息可以是用于配置编码过程的信息。第四步，根据上述编码配置信息包括的随机接入点长度，对上述执法视频流数据进行拆分处理，以生成拆分视频帧序列集。其中，上述随机接入点长度可以是预先设定的视频长度，即视频帧数量。上述拆分处理可以是将上述执法视频流数据拆分为至少一个长度为随机接入点表征的长度的拆分视频帧序列。这里，响应于最后一个拆分视频帧序列的长度小于上述随机接入点表征的长度，将最后两个拆分视频帧序列进行合并处理。第五步，对于上述拆分视频帧序列集中的每个拆分视频帧序列，从上述拆分视频帧序列中选取出满足第二预设条件的拆分视频帧作为第一目标视频帧。其中，上述第二预设条件可以是拆分视频帧序列中的第一个拆分视频帧。第六步，确定所选取的各个第一目标视频帧中的每个第一目标视频帧在上述执法视频流数据中的位置，作为目标位置，得到目标位置组。第七步，根据上述目标位置组，从上述剩余视频帧序列中选取出至少一个剩余视频帧作为目标剩余视频帧组。实践中，可以将去除各个目标位置表征的剩余视频帧的剩余视频帧序列确定为目标剩余视频帧组。第八步，对上述目标分层视频帧组和上述目标剩余视频帧组进行第一编码处理，以生成第一编码视频帧组，以及将去除上述目标分层视频帧组和上述目标剩余视频帧组的执法视频流数据包括的各个执法视频帧进行第二编码处理，以生成第二编码视频帧组。其中，上述第一编码处理可以是使用编解码标准H.264进行编码。上述第二编码处理可以是通过时域相关性，基于编解码标准H.265/HEVC进行帧间预测编码。第九步，将上述第一编码视频帧组和上述第二编码视频帧组进行组合处理，以生成编码视频流。上述第一步-第九步中的相关内容作为本公开的一个发明点，解决了背景技术提及的技术问题三“通过实时传输视频，在接收端选取视频中间内容进行播放时，需要将整个视频进行解码后才能对选取的内容进行播放，同时需删除选取的内容之前的视频，导致传输资源的浪费”。造成传输资源的浪费的因素往往如下：通过实时传输视频，在接收端选取视频中间内容进行播放时，需要将整个视频进行解码后才能对选取的内容进行播放，同时需删除选取的内容之前的视频，导致传输资源的浪费。如果解决了上述因素，就能达到减少传输资源的浪费的效果。为了达到这一效果，第一，对上述执法视频流数据进行分层处理，以生成分层视频帧序列集。由此，可以通过时域可分层的方式将视频帧按时域的重要程度进行分层。第二，从上述分层视频帧序列集中选取出分层视频帧序列作为目标分层视频帧组，以及对去除了上述分层视频帧序列的分层视频帧序列集进行组合处理，以生成剩余视频帧序列。由此，可以选取出表征基本层的各个视频帧。第三，获取编码配置信息。由此，可以确定编码的配置。第四，根据上述编码配置信息包括的随机接入点长度，对上述执法视频流数据进行拆分处理，以生成拆分视频帧序列集。由此，可以将执法视频流数据拆分为多个长度相同的视频片段。第五，对于上述拆分视频帧序列集中的每个拆分视频帧序列，从上述拆分视频帧序列中选取出满足第二预设条件的拆分视频帧作为第一目标视频帧。由此，可以选取出每个视频片段中的一帧。第六，确定所选取的各个第一目标视频帧中的每个第一目标视频帧在上述执法视频流数据中的位置，作为目标位置，得到目标位置组。由此，可以确定选取的视频帧在视频流数据中的位置。第七，根据上述目标位置组，从上述剩余视频帧序列中选取出至少一个剩余视频帧作为目标剩余视频帧组。由此，可以将视频流数据划分为多个视频帧序列。第八，对上述目标分层视频帧组和上述目标剩余视频帧组进行第一编码处理，以生成第一编码视频帧组，以及将去除上述目标分层视频帧组和上述目标剩余视频帧组的执法视频流数据包括的各个执法视频帧进行第二编码处理，以生成第二编码视频帧组。由此，通过不同的编码形式对视频流数据包括的视频帧进行编码，可以在播放选取中间内容时，通过建立的随机接入点，使用帧间预测编码与解码，只需解析选择的内容的前一个随机接入点后的内容，就可以对选择的中间内容进行播放，从而减少了传输资源的浪费。第九，将上述第一编码视频帧组和上述第二编码视频帧组进行组合处理，以生成编码视频流。由此，减少了传输资源的浪费。步骤106，将编码视频流发送至目标终端以进行存储。在一些实施例中，上述执行主体可以将上述编码视频流发送至目标终端以进行存储。这里，还可以将编码视频流发送至连接有显示屏的终端设备中，以对上述编码视频流进行实时播放。可选地，在步骤106之后，还包括以下步骤：第一步，获取检测配置信息。在一些实施例中，上述执行主体可以获取检测配置信息。其中，上述检测配置信息包括检测视频长度。上述检测视频长度可以是预先设定的视频的长度，即视频帧的数量。第二步，响应于接收到对应的长度等于上述检测视频长度的执法视频流数据，从上述执法视频流数据中选取满足第一预设条件的执法视频帧作为待检测视频帧。在一些实施例中，上述执行主体可以响应于接收到对应的长度等于上述检测视频长度的执法视频流数据，从上述执法视频流数据中选取满足第一预设条件的执法视频帧作为待检测视频帧。其中，上述第一预设条件可以是上述执法视频流数据的最后一个执法视频帧。第三步，将上述待检测视频帧输入至预先训练的出镜检测模型，以生成检测结果。其中，上述出镜检测模型可以是预先训练的，以待检测视频帧为输入，以检测结果为输出的分类模型。实践中，响应于目标人员出镜面积阈值大于等于预设面积阈值，上述出镜检测模型可以生成表征检测出镜的检测结果。第四步，响应于上述检测结果表征目标人员出镜，控制上述提示部件进行出镜提示操作。其中，上述出镜提示操作可以表征目标人员出镜。本公开的上述各个实施例中具有如下有益效果：通过本公开的一些实施例的基于执法记录仪的数据处理方法，可以避免出现执法疏漏的情况。具体来说，造成出现执法疏漏的原因在于：仅仅使用执法记录仪的录制功能，无法对目标人员的身份进行确认，出现执法疏漏的情况，并且，录制视频后导出至其他终端会导致记录的执法视频不具有实时性，无法直接进行核实，造成执法疏漏。基于此，本公开的一些实施例的基于执法记录仪的数据处理方法，首先，响应于接收到数据采集请求，实时采集执法视频流数据。由此，可以实时采集执法视频。其次，根据上述执法视频流数据，确定执法关键帧序列。由此，可以选取视频中的关键帧，为人员匹配提供数据支持，减少匹配时的运算资源的浪费。然后，响应于接收到目标人员的证件图像，对上述执法关键帧序列和上述证件图像进行匹配处理，以生成匹配结果。由此，可以确定证件信息与被执法人员是否表征同一人员。之后，响应于上述匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作。由此，可以确定被执法人员的身份。最后，对上述执法视频流数据进行编码处理，以生成编码视频流；将上述编码视频流发送至目标终端以进行存储。由此，可以实时传输执法现场，从而避免了无法直接进行核实的情况，进而避免出现执法疏漏。进一步参考图2，作为对上述各图所示方法的实现，本公开提供了一种基于执法记录仪的数据处理装置的一些实施例，这些装置实施例与图1所示的那些方法实施例相对应，该基于执法记录仪的数据处理装置具体可以应用于各种电子设备中。如图2所示，一些实施例的基于执法记录仪的数据处理装置200包括：采集单元201、确定单元202、匹配单元203、控制单元204、编码单元205和发送单元206。其中，采集单元201被配置成响应于接收到数据采集请求，实时采集执法视频流数据，其中，上述执法视频流数据包括至少一个执法视频帧；确定单元202被配置成根据上述执法视频流数据，确定执法关键帧序列；匹配单元203被配置成响应于接收到目标人员的证件图像，对上述执法关键帧序列和上述证件图像进行匹配处理，以生成匹配结果；控制单元204被配置成响应于上述匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作；编码单元205被配置成对上述执法视频流数据进行编码处理，以生成编码视频流；发送单元206被配置成将上述编码视频流发送至目标终端以进行存储。可以理解的是，基于执法记录仪的数据处理装置200中记载的诸单元与参考图1描述的方法中的各个步骤相对应。由此，上文针对方法描述的操作、特征以及产生的有益效果同样适用于基于执法记录仪的数据处理装置200及其中包含的单元，在此不再赘述。下面参考图3，其示出了适于用来实现本公开的一些实施例的电子设备300的结构示意图。本公开的一些实施例中的电子设备可以包括但不限于诸如移动电话、笔记本电脑、数字广播接收器、PDA、PAD、PMP、车载终端等等的移动终端以及诸如数字TV、台式计算机等等的固定终端。图3示出的电子设备仅仅是一个示例，不应对本公开的实施例的功能和使用范围带来任何限制。如图3所示，电子设备300可以包括处理装置301，其可以根据存储在只读存储器302中的程序或者从存储装置308加载到随机访问存储器303中的程序而执行各种适当的动作和处理。在RAM 303中，还存储有电子设备300操作所需的各种程序和数据。处理装置301、ROM 302以及RAM 303通过总线304彼此相连。输入/输出接口305也连接至总线304。通常，以下装置可以连接至I/O接口305：包括例如触摸屏、触摸板、键盘、鼠标、摄像头、麦克风、加速度计、陀螺仪等的输入装置306；包括例如液晶显示器、扬声器、振动器等的输出装置307；包括例如磁带、硬盘等的存储装置308；以及通信装置309。通信装置309可以允许电子设备300与其他设备进行无线或有线通信以交换数据。虽然图3示出了具有各种装置的电子设备300，但是应理解的是，并不要求实施或具备所有示出的装置。可以替代地实施或具备更多或更少的装置。图3中示出的每个方框可以代表一个装置，也可以根据需要代表多个装置。特别地，根据本公开的一些实施例，上文参考流程图描述的过程可以被实现为计算机软件程序。例如，本公开的一些实施例包括一种计算机程序产品，其包括承载在计算机可读介质上的计算机程序，该计算机程序包含用于执行流程图所示的方法的程序代码。在这样的一些实施例中，该计算机程序可以通过通信装置309从网络上被下载和安装，或者从存储装置308被安装，或者从ROM 302被安装。在该计算机程序被处理装置301执行时，执行本公开的一些实施例的方法中限定的上述功能。需要说明的是，本公开的一些实施例中记载的计算机可读介质可以是计算机可读信号介质或者计算机可读存储介质或者是上述两者的任意组合。计算机可读存储介质例如可以是——但不限于——电、磁、光、电磁、红外线、或半导体的系统、装置或器件，或者任意以上的组合。计算机可读存储介质的更具体的例子可以包括但不限于：具有一个或多个导线的电连接、便携式计算机磁盘、硬盘、随机访问存储器、只读存储器、可擦式可编程只读存储器、光纤、便携式紧凑磁盘只读存储器、光存储器件、磁存储器件、或者上述的任意合适的组合。在本公开的一些实施例中，计算机可读存储介质可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。而在本公开的一些实施例中，计算机可读信号介质可以包括在基带中或者作为载波一部分传播的数据信号，其中承载了计算机可读的程序代码。这种传播的数据信号可以采用多种形式，包括但不限于电磁信号、光信号或上述的任意合适的组合。计算机可读信号介质还可以是计算机可读存储介质以外的任何计算机可读介质，该计算机可读信号介质可以发送、传播或者传输用于由指令执行系统、装置或者器件使用或者与其结合使用的程序。计算机可读介质上包含的程序代码可以用任何适当的介质传输，包括但不限于：电线、光缆、RF等等，或者上述的任意合适的组合。在一些实施方式中，客户端、服务器可以利用诸如HTTP之类的任何当前已知或未来研发的网络协议进行通信，并且可以与任意形式或介质的数字数据通信互连。通信网络的示例包括局域网，广域网，网际网以及端对端网络，以及任何当前已知或未来研发的网络。上述计算机可读介质可以是上述电子设备中所包含的；也可以是单独存在，而未装配入该电子设备中。上述计算机可读介质承载有一个或者多个程序，当上述一个或者多个程序被该电子设备执行时，使得该电子设备：响应于接收到数据采集请求，实时采集执法视频流数据，其中，上述执法视频流数据包括至少一个执法视频帧。根据上述执法视频流数据，确定执法关键帧序列。响应于接收到目标人员的证件图像，对上述执法关键帧序列和上述证件图像进行匹配处理，以生成匹配结果。响应于上述匹配结果表征匹配成功，控制相关联的提示部件进行匹配成功提示操作。对上述执法视频流数据进行编码处理，以生成编码视频流。将上述编码视频流发送至目标终端以进行存储。可以以一种或多种程序设计语言或其组合来编写用于执行本公开的一些实施例的操作的计算机程序代码，上述程序设计语言包括面向对象的程序设计语言—诸如Java、Smalltalk、C++，还包括常规的过程式程序设计语言—诸如“C”语言或类似的程序设计语言。程序代码可以完全地在用户计算机上执行、部分地在用户计算机上执行、作为一个独立的软件包执行、部分在用户计算机上部分在远程计算机上执行、或者完全在远程计算机或服务器上执行。在涉及远程计算机的情形中，远程计算机可以通过任意种类的网络——包括局域网或广域网——连接到用户计算机，或者，可以连接到外部计算机。附图中的流程图和框图，图示了按照本公开各种实施例的系统、方法和计算机程序产品的可能实现的体系架构、功能和操作。在这点上，流程图或框图中的每个方框可以代表一个模块、程序段、或代码的一部分，该模块、程序段、或代码的一部分包含一个或多个用于实现规定的逻辑功能的可执行指令。也应当注意，在有些作为替换的实现中，方框中所标注的功能也可以以不同于附图中所标注的顺序发生。例如，两个接连地表示的方框实际上可以基本并行地执行，它们有时也可以按相反的顺序执行，这依所涉及的功能而定。也要注意的是，框图和/或流程图中的每个方框、以及框图和/或流程图中的方框的组合，可以用执行规定的功能或操作的专用的基于硬件的系统来实现，或者可以用专用硬件与计算机指令的组合来实现。描述于本公开的一些实施例中的单元可以通过软件的方式实现，也可以通过硬件的方式来实现。所描述的单元也可以设置在处理器中，例如，可以描述为：一种处理器包括采集单元、确定单元、匹配单元、控制单元、编码单元和发送单元。其中，这些单元的名称在某种情况下并不构成对该单元本身的限定，例如，采集单元还可以被描述为“响应于接收到数据采集请求，实时采集执法视频流数据的单元”。本文中以上描述的功能可以至少部分地由一个或多个硬件逻辑部件来执行。例如，非限制性地，可以使用的示范类型的硬件逻辑部件包括：现场可编程门阵列、专用集成电路、专用标准产品、片上系统、复杂可编程逻辑设备等等。以上描述仅为本公开的一些较佳实施例以及对所运用技术原理的说明。本领域技术人员应当理解，本公开的实施例中所涉及的发明范围，并不限于上述技术特征的特定组合而成的技术方案，同时也应涵盖在不脱离上述发明构思的情况下，由上述技术特征或其等同特征进行任意组合而形成的其它技术方案。例如上述特征与本公开的实施例中公开的具有类似功能的技术特征进行互相替换而形成的技术方案。
