标题title
连麦状态处理方法、装置、终端、计算机设备及存储介质
摘要abst
本发明公开了一种连麦状态处理方法、装置、终端、计算机设备及存储介质，该方法包括：从接收连麦合流服务端接收第一用户信息，第一用户信息表示连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户；根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化；若连麦用户发生变化，向直播服务端发送第一用户信息，以便服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流。能够达到使直播服务端记载的用户连麦状态与实际连麦合流状态一致，提高连麦可靠性，优化线上体验的效果。
权利要求书clms
1.一种连麦状态处理方法，其特征在于，所述方法应用于主播端，包括：从连麦合流服务端接收第一用户信息，所述第一用户信息表示所述连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，所述目标连麦合流中处于连麦合流状态的用户包含所述主播端对应的用户；根据所述第一用户信息判断所述目标连麦合流中的连麦用户是否发生变化；若所述连麦用户发生变化，向直播服务端发送所述第一用户信息，以便所述直播服务端根据所述第一用户信息确定目标用户，使所述目标用户退出连麦合流。2.根据权利要求1所述的方法，其特征在于，所述根据所述第一用户信息判断所述目标连麦合流中的连麦用户是否发生变化，包括：根据所述第一用户信息和第二用户信息判断所述目标连麦合流中的连麦用户是否发生变化，所述第二用户信息表示所述主播端存储的处于连麦合流状态的用户。3.根据权利要求1所述的方法，其特征在于，在从连麦合流服务端接收第一用户信息之前，还包括：通过所述连麦合流服务端建立目标连麦合流；向直播服务端发送第一消息，所述第一消息用于在所述直播服务端创建所述目标连麦合流的用户信息。4.一种连麦状态处理方法，其特征在于，所述方法应用于直播服务端，包括：接收主播端发送的第一用户信息，所述第一用户信息包括连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，所述目标连麦合流中处于连麦合流状态的用户包含所述主播端对应的用户；根据所述第一用户信息确定目标用户；向所述目标用户对应的目标客户端发送第二消息，以便所述目标客户端响应于所述第二消息退出直播服务端的第二用户信息以及退出所述连麦服务端的所述目标连麦合流。5.根据权利要求4所述的方法，其特征在于，所述根据所述第一用户消息确定目标用户，包括：根据所述第一用户信息和第二用户信息确定连麦用户交集，所述第二用户信息包括所述直播服务端维护的目标连麦合流中处于连麦合流状态的用户；将所述第一用户信息和所述第二用户信息中未包含在所述连麦用户交集的用户确定为目标用户。6.根据权利要求4所述的方法，其特征在于，在向所述目标用户对应的目标客户端发送第二消息之后，还包括：接收所述目标客户端发送的第三消息，所述第三消息为所述目标客户端响应于所述第二消息触发的用于退出直播服务端的第二用户信息的消息；响应于所述第三消息，注销第二用户信息中所述目标用户。7.根据权利要求4所述的方法，其特征在于，在接收主播端发送的第一用户信息之前，还包括：接收主播端发送的第一消息，所述第一消息用于创建目标连麦合流对应的第二用户信息；响应于所述第一消息，创建第二用户信息；在所述第二用户信息中注册所述主播端。8.一种连麦状态处理装置，其特征在于，所述装置应用于主播端，包括：第一接收模块，用于从连麦合流服务端接收第一用户信息，所述第一用户信息表示所述连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，所述目标连麦合流中处于连麦合流状态的用户包含所述主播端对应的用户；判断模块，用于根据所述第一用户信息判断所述目标连麦合流中的连麦用户是否发生变化；第一发送模块，用于若所述连麦用户发生变化，向直播服务端发送所述第一用户信息，以便所述直播服务端根据所述第一用户信息确定目标用户，使所述目标用户退出连麦合流。9.一种连麦状态处理装置，其特征在于，所述装置应用于直播服务端，包括：第二接收模块，用于接收主播端发送的第一用户信息，所述第一用户信息包括连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，所述目标连麦合流中处于连麦合流状态的用户包含所述主播端对应的用户；目标用户确定模块，用于根据所述第一用户信息确定目标用户；第二发送模块，用于向所述目标用户对应的目标客户端发送第二消息，以便所述目标客户端响应于所述第二消息退出直播服务端的第二用户信息以及退出所述连麦服务端的所述目标连麦合流。10.一种终端，其特征在于，所述终端包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1-3中任一所述的连麦状态处理方法。11.一种计算机设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求4-7中任一所述的连麦状态处理方。12.一种包含计算机可执行指令的存储介质，所述计算机可执行指令在由计算机处理器执行时用于执行如权利要求1-7中任一所述的连麦状态处理方法。
说明书desc
技术领域本发明实施例涉及网络直播技术，尤其涉及一种连麦状态处理方法、装置、终端、计算机设备及存储介质。背景技术连麦指多个用户同时使用麦克风进行互动，常用于直播。目前业内直播的连麦场景，采用第三方的连麦合流服务端进行连麦合流。第三方的连麦服合流务商只提供连麦合流服务，并不维护参与连麦的用户信息。服务端用于为用户提供连麦业务，能够为用户提供参与连麦合流的其他用户的信息等服务。服务端无法直接与第三方的连麦合流服务端进行交互。当客户端加入连麦合流时，客户端通知服务该端客户端加入连麦，当客户端退出连麦时，通知服务该端客户端退出连麦。服务端根据客户端发送的通知感知客户端是否加入或离开连麦。服务端通过这种方法可以感知到当前正在连麦的用户列表。但是，按照上述方式获取的用户连麦状态容易出现，例如用户已断开但服务端未收到客户端发送的退出通知等问题，导致服务端记载的用户连麦状态与实际连麦合流状态不一致，连麦合流可靠差，进而引发线上体验问题。发明内容本发明提供一种连麦状态处理方法、装置、终端、计算机设备及存储介质，以实现使直播服务端记载的用户连麦状态与实际连麦合流状态一致，提高连麦可靠性，优化线上体验。第一方面，本发明实施例提供了一种连麦状态处理方法，方法应用于主播端，包括：从接收连麦合流服务端接收第一用户信息，第一用户信息表示连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户；根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化；若连麦用户发生变化，向直播服务端发送第一用户信息，以便服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流。第二方面，本发明实施例还提供了一种连麦状态处理方法，方法应用于直播服务端，包括：接收主播端发送的第一用户信息，第一用户信息包括连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户；根据第一用户信息确定目标用户；向目标用户对应的目标客户端发送第二消息，以便目标客户端响应于第二消息退出直播服务端的第二用户信息以及退出连麦服务端的目标连麦合流。第三方面，本发明实施例还提供了一种连麦状态处理装置，其特征在于，装置应用于主播端，包括：第一接收模块，用于从连麦合流服务端接收第一用户信息，第一用户信息表示连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户；判断模块，用于根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化；第一发送模块，用于若连麦用户发生变化，向直播服务端发送第一用户信息，以便直播服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流。第四方面，本发明实施例还提供了一种连麦状态处理装置，装置应用于直播服务端，包括：第二接收模块，用于接收主播端发送的第一用户信息，第一用户信息包括连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户；目标用户确定模块，用于根据第一用户信息确定目标用户；第二发送模块，用于向目标用户对应的目标客户端发送第二消息，以便目标客户端响应于第二消息退出直播服务端的第二用户信息以及退出连麦服务端的目标连麦合流。第五方面，本发明实施例还提供了一种终端，其特征在于，终端包括：一个或多个处理器；存储装置，用于存储一个或多个程序，当一个或多个程序被一个或多个处理器执行，使得一个或多个处理器实现如第一方面所示的连麦状态处理方法。第六方面，本发明实施例还提供了一种计算机设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，处理器执行程序时实现如第二方面所示的连麦状态处理方法。第七方面，本发明实施例还提供了一种包含计算机可执行指令的存储介质，计算机可执行指令在由计算机处理器执行时用于执行如本申请实施例所示的连麦状态处理方法。本申请实施例提供的连麦状态处理方案，从连麦合流服务端接收第一用户信息；根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化；若连麦用户发生变化，向直播服务端发送第一用户信息，以便直播服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流。相对于目前服务端无法与第三方的连麦合流服务端交互，导致服务端记载的用户连麦状态与实际连麦合流状态不一致，本申请实施例能够由主播端接收连麦合流服务端回调的第一用户信息，根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化，若连麦用户发生变化，则主播端向直播服务端发送第一用户信息。直播服务端接收到的第一用户信息表示连麦合流服务端当前维护的目标连麦合流中处于连麦合流状态的用户。直播服务端根据第一用户信息确定目标用户，目标用户为连麦合流状态在连麦合流服务端与直播服务端不一致的用户。直播服务端在确定目标用户后，可以使目标用户退出连麦合流，达到使直播服务端记载的用户连麦状态与实际连麦合流状态一致，提高连麦可靠性，优化线上体验的效果。附图说明图1为本申请实施例适用的网络架构的示意图；图2是本发明实施例一中的连麦状态处理方法的流程图；图3是本发明实施例二中的连麦状态处理方法的流程图；图4是本发明实施例三中的连麦状态处理装置的结构示意图；图5是本发明实施例四中的连麦状态处理装置的结构示意图；图6是本发明实施例五中的终端的结构示意图；图7是本发明实施例六中的终端的结构示意图。具体实施方式下面结合附图和实施例对本发明作进一步的详细说明。可以理解的是，此处所描述的具体实施例仅仅用于解释本发明，而非对本发明的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与本发明相关的部分而非全部结构。图1为本申请实施例适用的网络架构的示意图，该网络架构包括连麦合流服务端11、主播端12、直播服务端13以及其他客户端14。其他客户端14为其他用户对应的客户端，其他用户可以为其他主播用户或观看主播用户直播的观众用户。其中，连麦合流服务端11为主播端与其他客户端14进行连麦时提供连麦合流的第三方服务商，用于将主播端的音视频与其他客户端14的音视频进行合流，得到连麦合流。主播端用于发起某个目标连麦合流，之后其他客户端可以加入到该目标连麦合流。主播端12创建连麦合流以及其他客户端加入连麦合流时，主播端或其他客户端14同时向连麦合流服务端11以及直播服务端13发送通知，连麦合流服务端11和直播服务端13分别记载主播用户或其他用户的加入连麦合流状态或退出连麦合流状态。可选的，连麦合流服务端可以维护一个第一用户列表以存储连麦合流服务端掌握的加入到目标连麦合流中用户信息；直播服务端13可以维护一个第二用户列表，以存储直播服务端13掌握的加入到目标连麦合流中的用户信息。直播服务端13用于为主播端12和加入到连麦合流的其他客户端14提供连麦业务支持。例如向主播用户以及加入到连麦合流的其他用户提供连麦合流当前存在的用户信息，为主播用户提供选择与某个特定用户进行互动或提出某个用户等业务服务。在建立目标连麦合流之后，若有其他用户加入到连麦合流，该其他用户分别通知连麦合流服务端11和直播服务端13，连麦合流服务端11更新第一用户列表，直播服务端13更新第二用户列表。连麦合流服务端11根据更新的第一用户列表将第一用户信息发送至主播端12，主播端12根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化。若连麦用户发生变化，则主播端向直播服务端13发送第一用户信息。直播服务端13根据第一用户信息以及第二用户列表确定目标用户，并通知目标用户主动退出连麦合流。实施例一图2为本发明实施例一提供的连麦状态处理方法的流程图，本实施例可适用于连麦合流中的用户状态监测情况，该方法可以由主播用户使用的主播端来执行，具体包括如下步骤：步骤110、从连麦合流服务端接收第一用户信息。其中，第一用户信息表示连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户。连麦合流服务端维护有第一用户列表，第一用户列表包括主播用户所在的目标连麦合流中的全部用户信息。每当有新的用户加入到目标连麦合流时，连麦合流服务端可以向第一用户列表中的全部用户回调第一用户信息，第一用户信息可以为连麦合流服务端维护的第一用户列表。此时，主播端接收到连麦合流服务端回调的第一用户信息。第一用户列表包括加入到目标连麦合流中的用户的用户标识。步骤120、根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化。主播端对每次接收到的第一用户信息进行缓存，缓存的第一用户信息作为第二用户信息，参与到接收到第一用户信息时判断目标连麦合流中的连麦用户是否发生变化。示例性的，根据第一用户信息和第二用户信息判断目标连麦合流中的连麦用户是否发生变化。其中，第二用户信息表示主播端存储的处于连麦合流状态的用户。主播端接收到第一用户信息后，读取本地缓存的第二用户信息。比较第一用户信息与第二用户信息是否相同。若第一用户信息与第二用户信息相同，则判定目标连麦合流中的连麦用户未发生变化，结束流程，等待接收连麦合流服务端下一次回调的第一用户信息。若第一用户信息与第二用户信息不相同，则判定目标连麦合流中的连麦用户发生变化，执行步骤130。步骤130、若连麦用户发生变化，向直播服务端发送第一用户信息，以便直播服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流。当判定连麦用户发生变化可以将第一用户列表作为第一用户信息发送至直播服务端。直播服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流，具体处理流程在后续实施例进行说明。进一步的，在步骤110、接收连麦合流服务端回调的第一用户信息之前，还包括：通过连麦合流服务端建立目标连麦合流；向直播服务端发送第一消息，第一消息用于在直播服务端创建目标连麦合流的用户信息。主播用户可以主动发起连麦，此时主播端向连麦服务端发起通知，使连麦服务端为主播用户建立目标连麦合流。连麦服务端建立第一用户列表记载目标连麦合流中加入的用户。例如，响应于主播端发起的通知，连麦服务端在第一用户列表中增加主播用户的用户信息，完成注册。用户信息如用户标识、用户地址等。此后，若观众用户A加入到目标连麦合流，则连麦服务端在第一用户列表中增加观众用户A的用户信息。若主播用户B加入到目标连麦合流，则连麦服务端在第一用户列表中增加主播用户B的用户信息。以此类推，使第一用户列表包含加入到目标连麦合流的用户的信息。此外，加入到目标连麦合流的某个用户退出连麦合流时，也会通知连麦合流服务端。此时连麦合流服务端将该用户从第一用列表中删除，完成注销。主播端除了向连麦服务端发起通知，还会向直播服务端发送第一消息。直播服务端接到第一消息后，为用户提供连麦业务服务。直播服务端可以构建第二用户列表，以记录目标连麦合流中存在的用户。连麦合流服务端和直播服务端分别维护第一用户列表和第二用户列表，且观众用户或主播用户会通过不同的通信信道与连麦合流服务端和直播服务端通信，因此会存在第一用户列表和第二用户列表不一致的情况。经研究发现，在一种情况下，用户先调用接口通知直播服务端，加入房间，然后调用连麦合流服务端的方法加入连麦合流。如果加入连麦合流失败，则直播服务端无法感知，会造成用户存在于直播服务端维护的第二用户列表，但不存在与连麦合流服务端维护的第一用户列表的情况，导致第一用户列表与第二用户列表不一致。在另一种情况下，如果用户异常退出，比如App闪退，关机，网络故障等，由于推流失败，该用户被连麦合流服务端从第一用户列表中注销，但是此时无法通知直播服务端，因此用户仍然会存在于直播服务端维护的第二用户列表中，导致第一用户列表与第二用户列表不一致。本申请实施例提供的连麦状态处理方法，从连麦合流服务端接收第一用户信息；根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化；若连麦用户发生变化，向直播服务端发送第一用户信息，以便直播服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流。相对于目前服务端无法与第三方的连麦合流服务端交互，导致服务端记载的用户连麦状态与实际连麦合流状态不一致，本申请实施例能够由主播端接收连麦合流服务端回调的第一用户信息，根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化，若连麦用户发生变化，则主播端向直播服务端发送第一用户信息。直播服务端接收到的第一用户信息表示连麦合流服务端当前维护的目标连麦合流中处于连麦合流状态的用户。直播服务端根据第一用户信息确定目标用户，目标用户为连麦合流状态在连麦合流服务端与直播服务端不一致的用户。直播服务端在确定目标用户后，可以使目标用户退出连麦合流，达到使直播服务端记载的用户连麦状态与实际连麦合流状态一致，提高连麦可靠性，优化线上体验的效果。实施例二图3为本发明实施例二提供的连麦状态处理方法的流程图，本实施例可适用于连麦合流中的用户状态监测情况，该方法可以由直播服务端所在的计算机设备来执行，计算机设备可以为服务器，具体包括如下步骤：步骤210、接收主播端发送的第一用户信息。其中，第一用户信息包括连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户。第一用户信息可以为第一用户列表。步骤220、根据第一用户信息确定目标用户。示例性的，根据第一用户信息和第二用户信息确定连麦用户交集。将第一用户信息和第二用户信息中未包含在连麦用户交集的用户确定为目标用户。其中，第二用户信息包括直播服务端维护的目标连麦合流中处于连麦合流状态的用户。第二用户信息可以为第二用户列表。获取第一用户列表中的用户标识与第二用户列表中的用户标识的并集，该并集作为连麦用户交集。将第一用户列表中不属于并集的用户以及第二用户列表中不属于并集的用户作为目标用户。示例性的，第一用户列表中的用户标识为主播用户A、主播用户B、观众用户C和观众用户D。第二用户列表中的用户标识为主播用户A、主播用户B、观众用户D和主播用户E。此时求取{主播用户A，主播用户B，观众用户C，观众用户D}与{主播用户A，主播用户B，观众用户D，主播用户E}的并集{主播用户A，主播用户B，观众用户D}，该并集{主播用户A，主播用户B，观众用户D}为连麦用户交集。将观众用户C和主播用户E确定为目标用户。步骤230、向目标用户对应的目标客户端发送第二消息，以便目标客户端响应于第二消息退出直播服务端的第二用户信息以及退出连麦服务端的目标连麦合流。直播服务端向目标用户对应的目标客户端发送第二消息后，目标客户端响应于第二消息，主动的向直播服务端和连麦服务端发起退出连麦合流的通知。如此可以使直播服务端和连麦服务端维护的目标连麦合流的用户一致。进一步的，在步骤230、向目标用户对应的目标客户端发送第二消息之后，还包括：接收目标客户端发送的第三消息，第三消息为目标客户端响应于第二消息触发的用于退出直播服务端的第二用户信息的消息。目标客户端在接收到第二消息后，向直播服务端发送第三消息。第三消息作为目标客户端主动退出连麦合流的通知发往直播服务端。响应于第三消息，注销第二用户信息中目标用户。直播服务端响应于第三消息，在第二用户列表中注销目标用户。进一步的，在步骤210、接收主播端发送的第一用户信息之前，还包括：接收主播端发送的第一消息，第一消息用于创建目标连麦合流对应的第二用户信息；响应于第一消息，创建第二用户信息；在第二用户信息中注册主播端。当主播端创建连麦合流时，主播端向直播服务端发送第一消息。直播服务端响应于第一消息创建第二用户列表，并在第二用户了表中注册主播用户。第二用户列表用于记载加入到连麦合流中的用户。本申请实施例提供的连麦状态处理方法，直播服务端接收主播端发送的第一用户信息，根据第一用户信息确定目标用户；向目标用户对应的目标客户端发送第二消息，以便目标客户端响应于第二消息退出直播服务端的第二用户信息以及退出连麦服务端的目标连麦合流。相对于目前服务端无法与第三方的连麦合流服务端交互，导致服务端记载的用户连麦状态与实际连麦合流状态不一致，本申请实施例中直播服务端根据第一用户信息可以确定与连麦用户集合，连麦用户集合为目标连麦合流包含的用户的最小集合，根据连麦用户集合得到目标用户，直播服务端通过第二消息使目标用户主动退出连麦合流，使得连麦合流中的用户为连麦用户集合中的用户，此时直播服务端记载的用户连麦状态与实际连麦合流状态一致，进而提高连麦可靠性，优化线上体验的效果。实施例三图4为本申请实施例三提供的连麦状态处理装置的结构示意图，本实施例可适用于连麦合流中的用户状态监测情况，该装置应用于主播端，可以位于主播用户使用的主播端，包括：第一接收模块310、判断模块320和第一发送模块330。第一接收模块310，用于从连麦合流服务端接收第一用户信息，第一用户信息表示连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户；判断模块320，用于根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化；第一发送模块330，用于若连麦用户发生变化，向直播服务端发送第一用户信息，以便直播服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流。在上述实施例的基础上，判断模块320用于：根据第一用户信息和第二用户信息判断目标连麦合流中的连麦用户是否发生变化，第二用户信息表示主播端存储的处于连麦合流状态的用户。在上述实施例的基础上，第一发送模块330还用于，通过连麦合流服务端建立目标连麦合流；向直播服务端发送第一消息，第一消息用于在直播服务端创建目标连麦合流的用户信息。本申请实施例提供的连麦状态处理装置，第一接收模块310从连麦合流服务端接收第一用户信息；判断模块320根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化；若连麦用户发生变化，第一发送模块330，向直播服务端发送第一用户信息，以便直播服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流。相对于目前服务端无法与第三方的连麦合流服务端交互，导致服务端记载的用户连麦状态与实际连麦合流状态不一致，本申请实施例能够由主播端接收连麦合流服务端回调的第一用户信息，根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化，若连麦用户发生变化，则主播端向直播服务端发送第一用户信息。直播服务端接收到的第一用户信息表示连麦合流服务端当前维护的目标连麦合流中处于连麦合流状态的用户。直播服务端根据第一用户信息确定目标用户，目标用户为连麦合流状态在连麦合流服务端与直播服务端不一致的用户。直播服务端在确定目标用户后，可以使目标用户退出连麦合流，达到使直播服务端记载的用户连麦状态与实际连麦合流状态一致，提高连麦可靠性，优化线上体验的效果。本发明实施例所提供的连麦状态处理装置可执行本发明任意实施例所提供的连麦状态处理方法，具备执行方法相应的功能模块和有益效果。实施例四图5为本申请实施例四提供的连麦状态处理装置的结构示意图，本实施例可适用于连麦合流中的用户状态监测情况，该装置应用于直播服务端，可以位于服务端所在的计算机设备，计算机设备可以为服务器。该装置包括：第二接收模块410、目标用户确定模块420和第二发送模块430。第二接收模块410，用于接收主播端发送的第一用户信息，第一用户信息包括连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户；目标用户确定模块420，用于根据第一用户信息确定目标用户；第二发送模块430，用于向目标用户对应的目标客户端发送第二消息，以便目标客户端响应于第二消息退出直播服务端的第二用户信息以及退出连麦服务端的目标连麦合流。在上述实施例的基础上，目标用户确定模块420用于：根据第一用户信息和第二用户信息确定连麦用户交集，第二用户信息包括直播服务端维护的目标连麦合流中处于连麦合流状态的用户；将第一用户信息和第二用户信息中未包含在连麦用户交集的用户确定为目标用户。在上述实施例的基础上，第二接收模块410用于：接收目标客户端发送的第三消息，第三消息为目标客户端响应于第二消息触发的用于退出直播服务端的第二用户信息的消息；响应于第三消息，注销第二用户信息中目标用户。在上述实施例的基础上，第二接收模块410用于：接收主播端发送的第一消息，第一消息用于创建目标连麦合流对应的第二用户信息；响应于第一消息，创建第二用户信息；在第二用户信息中注册主播端。本申请实施例提供的连麦状态处理装置，第二接收模块410接收主播端发送的第一用户信息，目标用户确定模块420根据第一用户信息确定目标用户；第二发送模块430向目标用户对应的目标客户端发送第二消息，以便目标客户端响应于第二消息退出直播服务端的第二用户信息以及退出连麦服务端的目标连麦合流。相对于目前服务端无法与第三方的连麦合流服务端交互，导致服务端记载的用户连麦状态与实际连麦合流状态不一致，本申请实施例中直播服务端根据第一用户信息可以确定与连麦用户集合，连麦用户集合为目标连麦合流包含的用户的最小集合，根据连麦用户集合得到目标用户，直播服务端通过第二消息使目标用户主动退出连麦合流，使得连麦合流中的用户为连麦用户集合中的用户，此时直播服务端记载的用户连麦状态与实际连麦合流状态一致，进而提高连麦可靠性，优化线上体验的效果。本发明实施例所提供的连麦状态处理装置可执行本发明任意实施例所提供的连麦状态处理方法，具备执行方法相应的功能模块和有益效果。实施例五图6为本发明实施例五提供的一种终端的结构示意图，如图6所示，该终端包括处理器50、存储器51、输入装置52和输出装置53；终端中处理器50的数量可以是一个或多个，图6中以一个处理器50为例；终端中的处理器50、存储器51、输入装置52和输出装置53可以通过总线或其他方式连接，图6中以通过总线连接为例。存储器51作为一种计算机可读存储介质，可用于存储软件程序、计算机可执行程序以及模块，如本发明实施例中的连麦状态处理方法对应的程序指令/模块。处理器50通过运行存储在存储器51中的软件程序、指令以及模块，从而执行终端的各种功能应用以及数据处理，即实现上述的连麦状态处理方法。存储器51可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序；存储数据区可存储根据终端的使用所创建的数据等。此外，存储器51可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他非易失性固态存储器件。在一些实例中，存储器51可进一步包括相对于处理器50远程设置的存储器，这些远程存储器可以通过网络连接至终端。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。输入装置52可用于接收输入的数字或字符信息，以及产生与终端的用户设置以及功能控制有关的键信号输入。输出装置53可包括显示屏等显示设备。实施例六图7为本发明实施例六提供的一种计算机设备的结构示意图，如图7所示，该计算机设备包括处理器60、存储器61、输入装置62和输出装置63；计算机设备中处理器60的数量可以是一个或多个，图7中以一个处理器60为例；计算机设备中的处理器60、存储器61、输入装置62和输出装置63可以通过总线或其他方式连接，图7中以通过总线连接为例。存储器61作为一种计算机可读存储介质，可用于存储软件程序、计算机可执行程序以及模块，如本发明实施例中的连麦状态处理方法对应的程序指令/模块。处理器60通过运行存储在存储器61中的软件程序、指令以及模块，从而执行计算机设备的各种功能应用以及数据处理，即实现上述的连麦状态处理方法。存储器61可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序；存储数据区可存储根据计算机设备的使用所创建的数据等。此外，存储器61可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他非易失性固态存储器件。在一些实例中，存储器61可进一步包括相对于处理器60远程设置的存储器，这些远程存储器可以通过网络连接至计算机设备。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。输入装置62可用于接收输入的数字或字符信息，以及产生与计算机设备的用户设置以及功能控制有关的键信号输入。输出装置63可包括显示屏等显示设备。实施例七本发明实施例七还提供一种包含计算机可执行指令的存储介质，计算机可执行指令在由计算机处理器执行时用于执行应用于主播端的连麦状态处理方法，该方法包括：从连麦合流服务端接收第一用户信息，第一用户信息表示连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户；根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化；若连麦用户发生变化，向直播服务端发送第一用户信息，以便直播服务端根据第一用户信息确定目标用户，使目标用户退出连麦合流。在上述实施例的基础上，根据第一用户信息判断目标连麦合流中的连麦用户是否发生变化，包括：根据第一用户信息和第二用户信息判断目标连麦合流中的连麦用户是否发生变化，第二用户信息表示主播端存储的处于连麦合流状态的用户。在上述实施例的基础上，在从连麦合流服务端接收第一用户信息之前，还包括：通过连麦合流服务端建立目标连麦合流；向直播服务端发送第一消息，第一消息用于在直播服务端创建目标连麦合流的用户信息。本发明实施例七还提供一种包含计算机可执行指令的存储介质，计算机可执行指令在由计算机处理器执行时用于执行应用于直播服务端的连麦状态处理方法，该方法包括：接收主播端发送的第一用户信息，第一用户信息包括连麦合流服务端维护的目标连麦合流中处于连麦合流状态的用户，目标连麦合流中处于连麦合流状态的用户包含主播端对应的用户；根据第一用户信息确定目标用户；向目标用户对应的目标客户端发送第二消息，以便目标客户端响应于第二消息退出直播服务端的第二用户信息以及退出连麦服务端的目标连麦合流。在上述实施例的基础上，根据第一用户消息确定目标用户，包括：根据第一用户信息和第二用户信息确定连麦用户交集，第二用户信息包括直播服务端维护的目标连麦合流中处于连麦合流状态的用户；将第一用户信息和第二用户信息中未包含在连麦用户交集的用户确定为目标用户。在上述实施例的基础上，在向目标用户对应的目标客户端发送第二消息之后，还包括：接收目标客户端发送的第三消息，第三消息为目标客户端响应于第二消息触发的用于退出直播服务端的第二用户信息的消息；响应于第三消息，注销第二用户信息中目标用户。在上述实施例的基础上，在接收主播端发送的第一用户信息之前，还包括：接收主播端发送的第一消息，第一消息用于创建目标连麦合流对应的第二用户信息；响应于第一消息，创建第二用户信息；在第二用户信息中注册主播端。当然,本发明实施例所提供的一种包含计算机可执行指令的存储介质,其计算机可执行指令不限于如上的方法操作,还可以执行本发明任意实施例所提供的连麦状态处理方法中的相关操作。通过以上关于实施方式的描述，所属领域的技术人员可以清楚地了解到，本发明可借助软件及必需的通用硬件来实现，当然也可以通过硬件实现，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如计算机的软盘、只读存储器、随机存取存储器、闪存、硬盘或光盘等，包括若干指令用以使得一台计算机设备执行本发明各个实施例的方法。值得注意的是，上述搜索装置的实施例中，所包括的各个单元和模块只是按照功能逻辑进行划分的，但并不局限于上述的划分，只要能够实现相应的功能即可；另外，各功能单元的具体名称也只是为了便于相互区分，并不用于限制本发明的保护范围。注意，上述仅为本发明的较佳实施例及所运用技术原理。本领域技术人员会理解，本发明不限于这里所述的特定实施例，对本领域技术人员来说能够进行各种明显的变化、重新调整和替代而不会脱离本发明的保护范围。因此，虽然通过以上实施例对本发明进行了较为详细的说明，但是本发明不仅仅限于以上实施例，在不脱离本发明构思的情况下，还可以包括更多其他等效实施例，而本发明的范围由所附的权利要求范围决定。
