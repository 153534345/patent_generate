标题title
密钥生成方法、装置、电子设备及存储介质
摘要abst
本申请提供一种密钥生成方法、装置、电子设备及存储介质。涉及信息安全技术领域。该方法包括：根据待发送请求的报文大小生成对应的假报文；假报文包括第一时间属性信息；基于第一时间属性信息生成第一实时网络特征；根据第一实时网络特征生成密钥。装置用于执行上述方法。本申请实施例的技术方案中，由于密钥是实时生成的，且与动态变化的时间属性信息相关，因此，降低了密钥泄露的风险，提高了加密数据的安全性。
权利要求书clms
1.一种密钥生成方法，其特征在于，所述方法应用于请求方；所述方法包括：根据待发送请求的报文大小生成对应的假报文；所述假报文包括第一时间属性信息；基于所述第一时间属性信息生成第一实时网络特征；根据所述第一实时网络特征生成密钥。2.根据权利要求1所述的方法，其特征在于，所述第一时间属性信息包括发送时间；所述根据所述第一实时网络特征生成密钥，包括：根据所述发送时间确定所述假报文所属的第一时间周期；基于所述第一实时网络特征、所述第一时间周期和物理机特征生成密钥；所述物理机特征用于表征所述请求方和/或服务方对应的物理机的特征。3.根据权利要求2所述的方法，其特征在于，所述物理机特征包括请求方MAC地址和服务方MAC地址；所述基于所述第一实时网络特征、所述第一时间周期和物理机特征生成密钥，包括：基于所述第一实时网络特征和预先设定的敏感系数生成第一可用网络特征；所述敏感系数用于表征所述请求方和所述服务方的初始网络特征；将所述第一可用网络特征、所述第一时间周期、所述请求方MAC地址和所述服务方MAC地址进行拼接，生成第一拼接字符串；对所述第一拼接字符串进行加密处理，生成所述密钥。4.根据权利要求1-3任一所述的方法，其特征在于，在根据所述第一实时网络特征生成密钥之后；所述方法还包括：利用所述密钥加密所述待发送请求，生成加密请求；将所述加密请求发送给所述服务方，以使所述服务方对所述加密请求进行处理。5.根据权利要求4所述的方法，其特征在于，在生成加密请求之后，所述方法还包括：对所述密钥进行销毁操作。6.一种密钥生成方法，其特征在于，所述方法应用于服务方；所述方法包括：接收请求方发送的假报文；所述假报文为所述请求方基于待发送请求的报文大小生成；所述假报文包括第二时间属性信息；基于所述第二时间属性信息生成第二实时网络特征；根据所述第二实时网络特征生成密钥。7.根据权利要求6所述的方法，其特征在于，所述第二时间属性信息包括接收时间；所述根据所述第二实时网络特征生成密钥，包括：根据所述接收时间和所述第二实时网络特征确定所述假报文所属的第二时间周期；基于所述第二实时网络特征、所述第二时间周期和物理机特征生成密钥；所述物理机特征用于表征所述请求方和/或所述服务方对应的物理机的特征。8.根据权利要求7所述的方法，其特征在于，所述根据所述接收时间和所述第二实时网络特征确定所述假报文所属的第二时间周期，包括：根据所述接收时间和所述第二实时网络特征获得时间差值；基于所述时间差值与预设周期阈值确定所述假报文所属的第二时间周期。9.根据权利要求7所述的方法，其特征在于，所述物理机特征包括请求方MAC地址和服务方MAC地址；所述基于所述第二实时网络特征、所述第二时间周期和物理机特征生成密钥，包括：基于所述第二实时网络特征和预先设定的敏感系数生成第二可用网络特征；所述敏感系数用于表征所述请求方和所述服务方的初始网络特征；将所述第二可用网络特征、所述第二时间周期、所述请求方MAC地址和所述服务方MAC地址进行拼接，生成第二拼接字符串；对所述第二拼接字符串进行加密处理，生成所述密钥。10.根据权利要求6-9任一所述的方法，其特征在于，所述方法还包括：接收所述请求方发送的加密请求；利用所述密钥对所述加密请求进行解密，获得解密后的请求。11.一种密钥生成装置，其特征在于，所述装置包括：第一生成模块，用于根据待发送请求的报文大小生成对应的假报文；所述假报文包括第一时间属性信息；第二生成模块，用于基于所述第一时间属性信息生成第一实时网络特征；第三生成模块，用于根据所述第一实时网络特征生成密钥。12.一种密钥生成装置，其特征在于，所述装置包括：接收模块，用于接收请求方发送的假报文；所述假报文为所述请求方基于待发送请求的报文大小生成；所述假报文包括第二时间属性信息；第四生成模块，用于基于所述第二时间属性信息生成第二实时网络特征；第五生成模块，用于根据所述第二实时网络特征生成密钥。13.一种电子设备，其特征在于，包括：处理器和存储器，所述存储器存储有所述处理器可执行的机器可读指令，所述机器可读指令被所述处理器执行时执行如权利要求1至5和6至10任一所述的方法。14.一种计算机可读存储介质，其特征在于，该计算机可读存储介质上存储有计算机程序，该计算机程序被处理器运行时执行如权利要求1至5和6至10任一所述的方法。
说明书desc
技术领域本申请涉及信息安全技术领域，具体而言，涉及一种密钥生成方法、装置、电子设备及存储介质。背景技术在信息安全中，密钥是一种重要的资源，它直接关系到数据的安全性和完整性。如果密钥遭到泄露，可能会导致数据泄露、篡改或被恶意使用。因此，确保密钥的安全是维护信息安全的基础和前提。现有技术中，通常是将密钥进行加密存储，在需要加密或者解密时，获取对应密钥对数据进行加解密操作。但随着攻击方式的层出不穷，极易造成密钥的泄露，从而导致数据安全性遭到威胁。发明内容本申请实施例的目的在于提供一种密钥生成方法、装置、电子设备及存储介质，用以根据实时网络特征等参数实时生成密钥，降低密钥泄露风险的同时提高加密数据的安全性。第一方面，本申请实施例提供一种密钥生成方法，该方法应用于请求方；该方法包括：根据待发送请求的报文大小生成对应的假报文；假报文包括第一时间属性信息；基于第一时间属性信息生成第一实时网络特征；根据第一实时网络特征生成密钥。本申请实施例在服务方发送待发送请求之前，需要先生成密钥，以对待发送请求进行加密。其中，利用待发送请求对应的假报文的第一时间属性信息生成第一实时网络特征，从而基于第一实时网络特征生成密钥。由于不同的待发送请求的大小和发送时间存在一定差异，因此，对应生成的假报文不相同，第一时间属性信息也不相同，从而不同的请求生成的密钥不相同。又因为时间是动态变化的，因此基于第一实时网络特征生成的密钥在降低密钥泄露的风险同时提高了加密数据的安全性。在一些实施例中，第一时间属性信息包括发送时间；根据第一实时网络特征生成密钥，包括：根据发送时间确定假报文所属的第一时间周期；基于第一实时网络特征、第一时间周期和物理机特征生成密钥；物理机特征用于表征请求方和/或服务方对应的物理机的特征。本申请实施例中，生成密钥的参数除了包括第一实时网络特征外，还包括第一时间周期和物理机特征。其中，第一实时网络特征和第一时间周期可看作时间特征，物理机特征可看作空间特征，使得实时生成的密钥结合了时间、空间等因素。因此，本申请方案在降低密钥泄露风险的同时提高密钥破解的难度和加密数据的安全性。在一些实施例中，物理机特征包括请求方MAC地址和服务方MAC地址；基于第一实时网络特征、第一时间周期和物理机特征生成密钥，包括：基于第一实时网络特征和预先设定的敏感系数生成第一可用网络特征；敏感系数用于表征所述请求方和所述服务方的初始网络特征；将第一可用网络特征、第一时间周期、请求方MAC地址和服务方MAC地址进行拼接，生成第一拼接字符串；对第一拼接字符串进行加密处理，生成密钥。本申请实施例中，由于是请求方和服务方两方交互，为了使得服务方能正确解密请求方发送的加密请求，因此，生成密钥的物理机特征包括请求方MAC地址和服务方MAC地址，而由于MAC地址是固定不变的，因此，一方面体现了生成密钥的参数的稳定性，另一方面体现了交互双方的关联性。另外，基于第一实时网络特征和敏感系数生成第一可用网络特征，降低了假报文发送过程中网络通道不稳定因素影响，从而获得稳定的可用网络特征。最后基于各个参数拼接生成字符串，并加密生成密钥，提高了密钥的安全性。在一些实施例中，在根据第一实时网络特征生成密钥之后；该方法还包括：利用密钥加密待发送请求，生成加密请求；将加密请求发送给服务方，以使服务方对加密请求进行处理。本申请实施例在生成密钥后，利用密钥对待发送请求进行加密，获得加密请求，提高了待发送请求的安全性。在一些实施例中，在生成加密请求之后，该方法还包括：对密钥进行销毁操作。本申请实施例在生成加密请求后，对密钥进行销毁，在需要发送新的请求时，再重新生成密钥，使得即使上一个请求的密钥被泄露，依然解密不了当前发起的加密请求。因此，在降低密钥泄露风险的同时提高了密钥破解难度和加密数据的安全性。第二方面，本申请实施例提供一种密钥生成方法，该方法应用于服务方；该方法包括：接收请求方发送的假报文；假报文为请求方基于待发送请求的报文大小生成；假报文包括第二时间属性信息；基于第二时间属性信息生成第二实时网络特征；根据第二实时网络特征生成密钥。本申请实施例中，由于请求方实时生成加密密钥对请求进行加密，因此，服务方也需要实时生成解密密钥对接收到的加密请求进行解密。但为了使服务方生成的密钥是请求方加密密钥对应的解密密钥，能够正确对加密请求进行解密，服务方生成密钥的参数包括第二实时网络特征。在这个过程中，由于第二实时网络特征根据请求方发送的假报文的第二时间属性信息生成，因此，生成密钥的参数与请求方的参数相同，能够对请求方发送的密钥进行正确解密。在一些实施例中，第二时间属性信息包括接收时间；根据第二实时网络特征生成密钥，包括：根据接收时间和第二实时网络特征确定假报文所属的第二时间周期；基于第二实时网络特征、第二时间周期和物理机特征生成密钥；物理机特征用于表征请求方和/或服务方对应的物理机的特征。本申请实施例中，服务方生成密钥的参数除了包括第二实时网络特征，还包括第二时间周期和物理机特征。其中，物理机特征与请求方的物理机特征相同，第二时间周期基于请求方发送的假报文的相关信息生成。在这个过程中，由于密钥是实时生成的，并且生成密钥的参数与请求方的参数相同，因此提高了密钥的正确性和破解难度。在一些实施例中，根据接收时间和第二实时网络特征确定假报文所属的第二时间周期，包括：根据接收时间和第二实时网络特征获得时间差值；基于时间差值与预设周期阈值确定假报文所属的第二时间周期。本申请实施例中，由于服务方接收到假报文与请求方发送假报文之间存在时间差，而为了使生成的密钥正是请求方生成的密钥对应的解密密钥，因此，需要基于第二实时网络特征和接收时间确定第二周期，使得第二周期与第一周期同属于一个周期，提高了生成密钥的准确性。在一些实施例中，物理机特征包括请求方MAC地址和服务方MAC地址；基于第二实时网络特征、第二时间周期和物理机特征生成密钥，包括：基于第二实时网络特征和预先设定的敏感系数生成第二可用网络特征；敏感系数用于表征请求方和服务方的初始网络特征；将第二可用网络特征、第二时间周期、请求方MAC地址和服务方MAC地址进行拼接，生成第二拼接字符串；对第二拼接字符串进行加密处理，生成密钥。本申请实施例中，为了使服务方能正确解密请求方发送的加密请求，在服务方生成密钥时的物理机特征包括请求方MAC地址和服务方MAC地址，以与请求方生成密钥的物理机特征参数相对应。另外，基于第二实时网络特征和敏感系数生成第二可用网络特征，降低了假报文发送过程中网络通道不稳定因素影响，从而获得稳定的可用网络特征，以与请求方的第一可用网络特征相对应。最后基于各个参数拼接生成字符串，并加密生成密钥，使得生成的密钥是请求方密钥的对应密钥，进而能够正确对加密请求进行解密。在一些实施例中，该方法还包括：接收请求方发送的加密请求；利用密钥对加密请求进行解密，获得解密后的请求。本申请实施例利用生成的密钥对请求方发送的加密请求进行解密，使得服务方能正确处理请求方的请求。第三方面，本申请实施例提供一种密钥生成装置，该装置包括：第一生成模块，用于根据待发送请求的报文大小生成对应的假报文；假报文包括第一时间属性信息；第二生成模块，用于基于第一时间属性信息生成第一实时网络特征；第三生成模块，用于根据第一实时网络特征生成密钥。第四方面，本申请实施例提供另一种密钥生成装置，该装置包括：接收模块，用于接收请求方发送的假报文；假报文为请求方基于待发送请求的报文大小生成；假报文包括第二时间属性信息；第四生成模块，用于基于第二时间属性信息生成第二实时网络特征；第五生成模块，用于根据第二实时网络特征生成密钥。第五方面，本申请实施例提供一种电子设备，包括：处理器、存储器、存储介质和总线，其中，所述处理器和所述存储器通过所述总线完成相互间的通信；所述存储器存储有可被所述处理器执行的程序指令，所述处理器调用所述程序指令能够执行第一方面和第二方面的方法步骤。第六方面，本申请实施例提供一种非暂态计算机可读存储介质，包括：所述计算机可读存储介质存储计算机指令，所述计算机指令使所述计算机执行第一方面和第二方面的方法步骤。本申请的有益效果如下：本申请实施例通过利用待发送请求对应的假报文的第一时间属性信息生成第一实时网络特征，从而基于第一实时网络特征生成密钥。由于不同的待发送请求的大小和发送时间存在一定差异，因此，对应生成的假报文不相同，第一时间属性信息也不相同，从而不同的请求生成的密钥不相同。又因为时间是动态变化的，因此基于第一实时网络特征生成的密钥在降低密钥泄露的风险同时提高了加密数据的安全性。本申请的其他特征和优点将在随后的说明书阐述，并且，部分地从说明书中变得显而易见，或者通过实施本申请实施例了解。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对本申请实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本申请的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本申请实施例提供的一种密钥生成方法的流程示意图；图2为本申请实施例提供的另一种密钥生成方法的流程示意图；图3为本申请实施例提供的请求方与服务方之间的交互时序图；图4为本申请实施例提供的一种密钥生成装置结构示意图；图5为本申请实施例提供的另外一种密钥生成装置结构示意图；图6为本申请实施例提供的电子设备结构示意图。具体实施方式下面将结合附图对本申请技术方案的实施例进行详细的描述。以下实施例仅用于更加清楚地说明本申请的技术方案，因此只作为示例，而不能以此来限制本申请的保护范围。需要说明的是，本文所使用的所有的技术和科学术语与属于本申请的技术领域的技术人员通常理解的含义相同；本文中所使用的术语只是为了描述具体的实施例的目的，不是旨在于限制本申请；本申请的说明书和权利要求书及上述附图说明中的术语“包括”和“具有”以及它们的任何变形，意图在于覆盖不排他的包含。在本申请实施例的描述中，技术术语“第一”“第二”等仅用于区别不同对象，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量、特定顺序或主次关系。在本申请实施例的描述中，“多个”的含义是两个以上，除非另有明确具体的限定。在本申请实施例的描述中，术语“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中字符“/”，一般表示前后关联对象是一种“或”的关系。在信息安全中，无论是对称加密或非对称加密，当密钥被泄露后，加密报文可以被反向解析，攻击者可以利用密钥解密数据完成攻击。在SSH隧道加密中，密码泄露或被破解时，SSH隧道加密将被破解，报文可以被反向解密出来。在HTTPS出现证书泄露后，传输的数据将会变得不再安全。由此可知，密钥是一种重要的资源，它直接关系到数据的安全性和完整性。但上述场景中，在请求方和服务方交互期间，使用对称加密算法进行加解密时，需要先对密钥进行分发，以使请求方和服务方获得该密钥，而密钥分发的过程存在安全隐患。并且，分发给请求方和服务方的密钥通常在一定时间内是固定不变的。再有，即使是使用非对称加密，有公钥和私钥，但公钥和私钥在一定时间内也是固定不变的，因此，若密钥遭到泄露，利用该密钥加密的数据将不再安全。本申请基于上述问题，提出一种密钥生成方法、装置及电子设备。用以在请求方每发送一个请求之前，先基于待发送请求对应的假报文的相关信息生成对应的加密密钥，以利用该加密密钥对待发送请求进行加密。服务方基于请求方发送的假报文的相关信息生成对应的解密密钥，以利用该解密密钥对加密请求进行解密。由于在需要发送请求时，分别在请求方和服务方实时生成加密密钥和解密密钥，因此，降低了密钥泄露的风险，提高了加密数据的安全性。其中，将发起请求的微服务或终端称之为请求方，将收到请求并进行一定逻辑操作然后返回结果的微服务称之为服务方。请求方和服务方在私有网络、共有网络或专线网络通信，请求的方式分为HTTP、HTTPS等。图1为本申请实施例提供的一种密钥生成方法的流程示意图，该方法应用于请求方；可以理解的是，请求方可以是终端设备以及服务器；其中终端设备具体可以为智能手机、平板电脑、计算机、个人数字助理等；服务器具体可以为应用服务器，也可以为Web服务器。如图1所示，该方法包括：步骤S101，请求方根据待发送请求的报文大小生成对应的假报文；假报文包括第一时间属性信息。在具体实施过程中，待发送请求指当前时刻请求方需要发送给服务方的实际报文请求。由于是将待发送请求进行加密传输，而加密后的数据相较于明文数据，数据会发生膨胀。因此，服务器根据待发送请求的报文大小生成的假报文的大小应当与待发送请求加密后的报文大小相同。因此，假报文指与待发送加密请求的报文大小相同，但报文内容为随机值的报文请求。基于假报文的定义可知，即使攻击者截取到假报文，但由于假报文的报文内容毫无意义，因此，不会对发送的实际请求造成影响。假报文可通过如下两种方式生成：第一种：根据实际报文请求的明文报文大小生成同样大小的但内容毫无意义的假报文，然后使用固定的密钥对假报文进行加密，获得经膨胀后的假报文。应当知道的是，由于该固定的密钥是对假报文进行加密，即使该固定密钥发生泄漏也不会影响实际报文的安全性。第二种：先基于膨胀系数计算实际报文请求加密后的加密报文大小，然后根据加密报文大小生成同样大小的但内容毫无意义的假报文。需要说明的是，此时的假报文不需要进行加密。膨胀系数指加密后报文的大小和明文报文大小之间的比例，通常为一个固定区间的值。需要说明的是，具体如何生成假报文可根据实际情况进行确定，本申请对此不做具体限定。但应当注意的是，生成的假报文的大小与对应的实际报文的大小相同或者其大小差值在一定范围内。请求方生成假报文的目的在于模拟实际报文在网络通道中的传输情况，从而基于假报文的相关信息生成的实时网络特征与发送实际报文的实时网络特征相贴合。第一时间属性信息包括发送时间和响应时间，其中，将请求方发起假报文的时间称为发送时间，将请求方接收到服务方返回的响应报文的时间称为响应时间。请求方发起的数据称为请求报文，服务方响应请求方的数据称为响应报文。请求方在生成假报文后，将假报文发送给服务方。应当说明的是，在发送假报文时，请求方会将发送时间拼接在假报文中，以使服务方解析假报文，获知请求方发送假报文的发送时间，为后续生成解密密钥做准备。服务方在接收到假报文后，将假报文作为响应报文返回给请求方。但返回给请求方的响应报文中不包含服务方接收到假报文的时间，使得只有服务方自身知晓接收到假报文的准确时间，为后续服务方生成的密钥的安全性打下基础。步骤S102，请求方基于第一时间属性信息生成第一实时网络特征。在具体实施过程中，请求方基于发送时间和响应时间生成第一实时网络特征。请求方接收到服务方返回的响应报文后，便可基于发送时间和响应时间生成第一实时网络特征。第一实时网络特征用于表征假报文在网络通道中发送和响应所用的平均时间。具体的，将发送时间记为T1，响应时间记为T3，第一实时网络特征记为R1，则R1=/2。需要说明的是，请求方接收响应报文的响应时间也只有请求方知晓。步骤S103，请求方根据第一实时网络特征生成密钥。在具体实施过程中，由于第一实时网络特征与第一时间属性信息有关，而针对不同的请求而言，由于其报文大小的差异以及发送时间的差异，其对应的假报文的第一时间属性信息是有差异的。因此，针对不同的请求，请求方基于第一时间属性信息生成的第一实时网络特征也存在差异，因此，请求方在获得第一实时网络特征后，便可基于第一实时网络特征生成密钥。但需要说明的是，请求方除了根据第一实时网络特征生成密钥外，生成密钥的方式还可以包括：方式一：请求方基于基础密钥和第一实时网络特征生成密钥；其中，基础密钥为预先设定的一个固定密钥。而固定密钥的设置可根据实际情况进行具体设定。具体的，请求方每发送一个实际请求，就依据实际请求对应的假报文的第一时间属性信息生成第一实时网络特征，然后再根据第一实时网络特征和基础密钥生成密钥。方式二：请求方基于第一实时网络特征和假报文的发送时间所属的第一时间周期生成密钥。具体如何获得第一时间周期，请参见下述实施例，此处不再赘述。方式三：请求方基于第一实时网络特征和物理机特征生成密钥。物理机特征的具体信息请参见下述实施例，此处不再赘述。方式四：请求方基于第一实时网络特征、第一时间周期和物理机特征生成密钥。具体如何基于第一实时网络特征、第一时间周期和物理机特征生成密钥的过程请参见下述实施例。此处不再赘述。需要说明的是，除上述列举的三种方式外，请求方还可以基于第一实时网络特征与基础密钥、第一时间周期、物理机特征等参数之间的任一组合的方式生成密钥。但应当知道的是，由于服务方需要正确解密请求方发送的加密请求，因此，在服务方生成密钥的方式以及所用参数的具体值应当与请求方相同。本申请实施例在服务方发送待发送请求之前，需要先生成密钥，以对待发送请求进行加密。其中，利用待发送请求对应的假报文的第一时间属性信息生成第一实时网络特征，从而基于第一实时网络特征生成密钥。由于不同的待发送请求的大小和发送时间存在一定差异，因此，对应生成的假报文不相同，第一时间属性信息也不相同，从而不同的请求生成的密钥不相同。又因为时间是动态变化的，因此基于第一实时网络特征生成的密钥在降低密钥泄露的风险同时提高了加密数据的安全性。在一些实施例中，第一时间属性信息包括发送时间；根据第一实时网络特征生成密钥，包括：根据发送时间确定假报文所属的第一时间周期；基于第一实时网络特征、第一时间周期和物理机特征生成密钥；物理机特征用于表征请求方和/或服务方对应的物理机的特征。在具体实施过程中，为了提高密钥生成的复杂程度，以提高其破译难度，请求方可利用获取当前时间戳的代码获得发送假报文的当前时间戳，当前时间戳即为假报文的发送时间。然后再基于预设周期阈值计算发送假报文所属的第一时间周期。需要说明的是，预设周期阈值为预先设定的值，例如，可将100毫秒作为一个周期、可将50毫秒作为一个时间周期、可将200毫秒作为一个时间周期等。具体的，将第一时间周期记为P1，以100毫秒为一个周期，则P1=T1/100。示例性的，若系统基于java开发，请求方则可利用System.currentTimeMillis获取发送假报文的当前时间戳，以100毫秒作为一个周期，则可根据当前时间戳和100毫秒获得假报文所在的第一时间周期。而由于确定了请求方和服务方之后，物理机特征是固定不变的，因此，还可将物理机特征作为生成密钥的参数之一，不仅体现了服务方和请求方之间的交互关系，还能进一步提高密钥的复杂性。请求方和服务方事先已将物理机特征存储在各自的配置文件或者数据库中。在需要生成密钥时，请求方直接读取获得物理机特征。物理机特征可以是物理机MAC地址、硬盘序列号、CPU序列号、网卡序列号、主板序列号等中其中一个或多个。在获得第一实时网络特征、第一时间周期后和物理机特征后，请求方便可基于第一实时网络特征、第一时间周期和物理机特征生成密钥。本申请实施例中，生成密钥的参数除了包括第一实时网络特征外，还包括第一时间周期和物理机特征。其中，第一实时网络特征和第一时间周期可看作时间特征，物理机特征可看作空间特征，使得实时生成的密钥结合了时间、空间等因素。因此，本申请方案在降低密钥泄露风险的同时提高密钥破解的难度和加密数据的安全性。在一些实施例中，物理机特征包括请求方MAC地址和服务方MAC地址；基于第一实时网络特征、第一时间周期和物理机特征生成密钥，包括：基于第一实时网络特征和预先设定的敏感系数生成第一可用网络特征；敏感系数用于表征请求方和服务方的初始网络特征；将第一可用网络特征、第一时间周期、请求方MAC地址和服务方MAC地址进行拼接，生成第一拼接字符串；对第一拼接字符串进行加密处理，生成密钥。在具体实施过程中，由于网络通道容易受到物理环境以及网络质量等因素的影响，网络传输具有不稳定性。请求方发送假报文的网络情况与服务方返回响应报文的网络情况可能存在差异，因此，本申请实施例通过利用敏感系数降低网络波动带来的影响量级，从而提高生成的密钥的稳定性。敏感系数为开发人员在请求方和服务方的两个系统最开始的开发联调阶段根据网络带宽和流量预测计算确定。因此，敏感系数用于表征请求方和服务方的初始网络特征。需要说明的是，进行交互的服务方和请求方一旦确定，敏感系数将不再改变。示例性的，服务A分别和服务B和服务C进行交互，服务A和服务B之间的敏感系数为确定的值，服务A和服务C之间的敏感系数为确定的值。并且，服务方和请求方事先已将敏感系数存储在各自的配置文件或者数据库中，在需要使用时，直接获取即可。将物理机特征定义为请求方MAC地址和服务方MAC地址。第一实时网络特征根据假报文的发送时间和响应时间确定，但由于网络不稳定因素，此时需要利用敏感系数降低网络波动带来的影响量级。因此，基于第一实时网络特征和敏感系数生成第一可用网络特征。具体的，第一实时网络特征为R1，将敏感系数记为K，第一可用网络特征记为RV1，则RV1=R1/K。在计算获得第一可用网络特征后，便可将第一可用网络特征、第一时间周期、请求方MAC地址和服务方MAC地址进行拼接，生成第一拼接字符串，并对第一拼接字符串进行加密。需要说明的是，对第一拼接字符串进行加密可以是对第一拼接字符串进行哈希生成固定长度的密钥。应当说明的是，常见的哈希算法有MD5和SHA-1等。具体使用哪种哈希算法可根据实际情况进行选择。还可以是对第一拼接字符串按预先设定的替换规则进行替换，生成密钥。而预先设定的替换规则可根据实际情况进行自主设定。还需说明的是，在生成密钥时，还可将敏感系数作为生成密钥的参数之一。具体的，请求方基于第一可用网络特征、第一时间周期、请求方MAC地址、服务方MAC地址和敏感系数进行拼接生成新的拼接字符串，并对新的拼接字符串进行加密生成密钥。本申请实施例中，由于是请求方和服务方两方交互，为了使得服务方能正确解密请求方发送的加密请求，因此，生成密钥的物理机特征包括请求方MAC地址和服务方MAC地址，而由于MAC地址是固定不变的，因此，一方面体现了生成密钥的参数的稳定性，另一方面体现了交互双方的关联性。另外，基于第一实时网络特征和敏感系数生成第一可用网络特征，降低了假报文发送过程中网络通道不稳定因素影响，从而获得稳定的可用网络特征。最后基于各个参数拼接生成字符串，并加密生成密钥，提高了密钥的安全性。在一些实施例中，在请求方基于第一实时网络特征、第一时间周期和物理机特征生成密钥之后；该方法还包括：请求方利用密钥加密待发送请求，生成加密请求；请求方将加密请求发送给服务方，以使服务方对加密请求进行处理。在具体实施过程中，在生成密钥后，请求方便可利用密钥对待发送请求进行加密，并将加密请求发送给服务方，以使服务方对加密请求进行处理。本申请实施例在生成密钥后，利用密钥对待发送请求进行加密，获得加密请求，提高了待发送请求的安全性。在一些实施例中，请求方在生成加密请求之后，该方法还包括：请求方对密钥进行销毁操作。在具体实施过程中，由于每发送一次请求，就实时生成对应的密钥。因此，在利用密钥对待发送请求进行加密后，该密钥便失去了作用，为了提高系统存储空间的利用率以及密钥的安全性，在加密结束后，便可对密钥进行销毁，以降低密钥泄露导致加密数据泄露的风险。需要说明的是，当需要同时发送多个请求时，由于请求的报文大小存在差异，因此，不同的请求对应的假报文的大小也是不一样的。而在网络传输过程中，小报文请求相较于大报文请求的发送时间和响应时间都要更快。因此，对于不同的请求而言，基于假报文的发送时间和响应时间生成的第一实时网络特征是不一样的，从而第一时间周期也存在差异，因此，其生成的密钥也是不一样的。而若同时对多个请求都生成了对应的密钥，此时可基于请求的标识确定对应的目标密钥，从而正确执行加密的过程。本申请实施例在生成加密请求后，对密钥进行销毁，在需要发送新的请求时，再重新生成密钥，使得即使上一个请求的密钥被泄露，依然解密不了当前发起的加密请求。因此，在降低密钥泄露风险的同时提高了密钥破解难度和加密数据的安全性。图2为本申请实施例提供的另一种密钥生成方法的流程示意图，该方法应用于服务方，服务方为服务器，具体可以为应用服务器，也可以为Web服务器。如图2所示，该方法包括：步骤S201，服务方接收请求方发送的假报文；假报文为请求方基于待发送请求的报文大小生成；假报文包括第二时间属性信息。在具体实施过程中，第二时间属性信息包括发送时间和接收时间，其中，发送时间指请求方发起假报文的时间，接收时间指服务方接收到假报文的时间。服务方接收到请求方发送的假报文后，对假报文进行解析获得假报文中拼接的发送时间。假报文的生成请参见上述实施例，此处不再赘述。步骤S202，服务方基于第二时间属性信息生成第二实时网络特征。在具体实施过程中，服务方解析获得假报文的发送时间后，便可基于发送时间和接收假报文的接收时间生成第二实时网络特征。第二实时网络特征用于表征请求方发送假报文时，假报文在网络通道中的传输时间。具体的，发送时间为T1，将接收时间记为T2，第二实时网络特征记为R2，则R2=T2-T1。需要说明的是，根据上述实施例可知，第一实时网络特征R1=/2，而T3为请求方接收到响应报文的时间，又因为服务方在接收到假报文后，立即将假报文作为响应报文返回给请求方，并不对假报文进行处理，因此，是的两倍，根据上述计算公式可知，R1和R2相等。步骤S203，服务方根据第二实时网络特征生成密钥。在具体实施过程中，服务方在获得第二实时网络特征后，便可基于第二实时网络特征生成密钥。而由步骤S202可知，第二实时网络特征与第一实时网络特征相等，因此，服务方生成的密钥正是请求方生成密钥的解密密钥。需要说明的是，由于在请求方有多种生成密钥的方式，因此，在请求方和服务方进行通信之前，应当协商好生成密钥的方式，使得加密数据能够正确解密。但应当知道的是，若服务方不能正确解密请求方发送的加密请求，则视当前加密请求为无效请求，请求方应当重新生成加密密钥对该请求进行加密，并重新发起对应的加密请求，服务方应当重新生成对应的解密密钥，以对该加密请求进行解密。本申请实施例中，由于请求方实时生成加密密钥对请求进行加密，因此，服务方也需要实时生成解密密钥对接收到的加密请求进行解密。但为了使服务方生成的密钥是请求方加密密钥对应的解密密钥，能够正确对加密请求进行解密，服务方生成密钥的参数包括第二实时网络特征。在这个过程中，由于第二实时网络特征根据请求方发送的假报文的第二时间属性信息生成，因此，生成密钥的参数与请求方的参数相同，能够对请求方发送的密钥进行正确解密。在一些实施例中，第二时间属性信息包括接收时间；根据第二实时网络特征生成密钥，包括：服务方根据接收时间和第二实时网络特征确定假报文所属的第二时间周期；服务方基于第二实时网络特征、第二时间周期和物理机特征生成密钥；物理机特征用于表征请求方和/或服务方对应的物理机的特征。在具体实施过程中，由于请求方的发送时间和服务方的接收时间之间存在时间差值，为了使得第二时间周期与第一时间周期同属于一个周期，从而使得服务方生成密钥的参数与请求方生成密钥的参数相同，因此，服务方根据接收时间和第二实时网络特征确定假报文所属的第二时间周期。具体的，将第二时间周期记为P2，将100毫秒作为一个周期，则P2=/100。应当知道的是，R2=T2-T1，因此，P2=/100=/100=T1/100。因此，P2=P1。需要说明的是，服务方的时间周期的设置应当与请求方的时间周期的设置相同。服务方在获得第二实时网络特征、第二时间周期后，便可结合物理机特征生成密钥。需要说明的是，服务方所用的物理机特征与请求方使用的物理机特征相同。本申请实施例中，服务方生成密钥的参数除了包括第二实时网络特征，还包括第二时间周期和物理机特征。其中，物理机特征与请求方的物理机特征相同，第二时间周期基于请求方发送的假报文的相关信息生成。在这个过程中，由于密钥是实时生成的，并且生成密钥的参数与请求方的参数相同，因此提高了密钥的正确性和破解难度。在一些实施例中，服务方根据接收时间和第二实时网络特征确定假报文所属的第二时间周期，包括：服务方根据接收时间和第二实时网络特征获得时间差值；服务方基于时间差值与预设周期阈值确定假报文所属的第二时间周期。在具体实施过程中，服务方基于接收时间和第二实时网络特征确定假报文所属的第二时间周期的过程以及原因请参见上述实施例，此处不再赘述。本申请实施例中，由于服务方接收到假报文与请求方发送假报文之间存在时间差，而为了使生成的密钥正是请求方生成的密钥对应的解密密钥，因此，需要基于第二实时网络特征和接收时间确定第二周期，使得第二周期与第一周期同属于一个周期，提高了生成密钥的准确性。在一些实施例中，物理机特征包括请求方MAC地址和服务方MAC地址；基于第二实时网络特征、第二时间周期和物理机特征生成密钥，包括：基于第二实时网络特征和预先设定的敏感系数生成第二可用网络特征；敏感系数用于表征请求方和服务方的初始网络特征；将第二可用网络特征、第二时间周期、请求方MAC地址和服务方MAC地址进行拼接，生成第二拼接字符串；对第二拼接字符串进行加密处理，生成密钥。在具体实施过程中，由于请求方设置的物理机特征为请求方MAC地址和服务方MAC地址，因此，服务方在生成密钥时的物理机特征也使用请求方MAC地址和服务方MAC地址。第二实时网络特征根据假报文的发送时间和接收时间确定。由上述实施例可知，R1和R2是相等的。但需要说明的是，R1和R2相等是在网络通道没有任何报文占用的理想状态下的值，而实际场景中，网络总是会受各种因素影响，导致网络出现不稳定的情况。若网络不稳定，则请求方发送假报文的时间与服务方返回假报文的时间会存在差异，从而导致R1和R2不相等。而为了使服务方生成的密钥能够正确解密请求方发送的加密请求，在服务方生成密钥的参数应当与请求方生成密钥的参数相同，因此，需要利用敏感系数降低网络波动带来的影响量级，使得R1和R2相等。此时，基于第二实时网络特征和敏感系数生成第二可用网络特征。具体的，第二实时网络特征为R2，敏感系数记为K，第二可用网络特征记为RV2，则RV2=R2/K。将第二可用网络特征、第二时间周期、请求方MAC地址和服务方MAC地址进行拼接，生成第二拼接字符串；并对第二拼接字符串进行加密处理，生成密钥。需要说明的是，服务方基于第二拼接字符串生成密钥的过程与请求方基于第一字符串生成密钥时所使用的方法和过程相同。根据上述内容可知，请求方的第一可用网络特征RV1与服务方的第二可用网络特征RV2相同，请求方的第一时间周期P1与服务方的第二时间周期P2相同，物理机特征相同，且生成密钥的方法和过程也相同，因此，服务方生成的密钥与请求方生成的密钥相同，因此能够正确解密请求方发送的加密请求。本申请实施例中，为了使服务方能正确解密请求方发送的加密请求，在服务方生成密钥时的物理机特征包括请求方MAC地址和服务方MAC地址，以与请求方生成密钥的物理机特征参数相对应。另外，基于第二实时网络特征和敏感系数生成第二可用网络特征，降低了假报文发送过程中网络通道不稳定因素影响，从而获得稳定的可用网络特征，以与请求方的第一可用网络特征相对应。最后基于各个参数拼接生成字符串，并加密生成密钥，使得生成的密钥是请求方密钥的对应密钥，进而能够正确对加密请求进行解密。在一些实施例中，该方法还包括：接收请求方发送的加密请求；利用密钥对加密请求进行解密，获得解密后的请求。在具体实施过程中，服务方生成密钥后，对接收到的加密请求进行解密，以对解密后的请求进行逻辑处理。需要说明的是，若同时收到多个加密请求，可基于加密请求的标识确定对应的目标密钥，以正确执行解密的过程。应当知道的是，在服务方完成解密操作后，也可对生成的密钥进行销毁，以降低密钥泄露导致加密数据泄露的风险。本申请实施例利用生成的密钥对请求方发送的加密请求进行解密，使得服务方能正确处理请求方的请求。为进一步理解请求方和服务方的交互过程，图3为本申请实施例提供的请求方与服务方之间的交互时序图，如图3所示，请求方在需要发送实际的待发送请求之前，先向服务方发送假报文，在请求方记发送假报文的时间为T1，在服务方记接收假报文的时间为T2，服务方在接收到假报文后，向请求方返回假响应报文，在请求方记接收假响应报文的时间为T3。在服务方和请求方获知对应的时间信息后，便可分别执行生成密钥的过程，两方生成密钥的过程请参见上述实施例，此处不再赘述。请求方生成加密密钥后，便可对待发送请求进行加密，并向服务方发送加密请求。服务方接收到加密请求后，利用解密密钥对加密请求进行解密，以对解密后的请求进行处理，并向请求方发送实际响应报文，从而完成整个交互过程。在交互过程中，服务方需要将处理请求的结果返回给请求方，但服务方在处理解密后的请求时，由于并不是顺序执行完所有代码，代码中通常会存在if判断或者for循环，例如对于前来贷款不满十八岁的客户会直接在某一个if判断语句中返回；而对于成年的客户则不会触发这个if语句，服务会执行更多的操作，例如插入数据，查询数据，计算某些数值等。因此服务方在处理不同的请求报文时，所花费的时间是不一致的，为了使请求方能够在合理时间范围内收到服务方的处理结果，本申请实施例通过如下措施使得处理的时长一致，从而加快业务的处理：措施1：限制代码内部需等待操作的等待时长。服务方在实际执行代码的过程中，往往会使用到一些基础软件，例如数据库、消息队列、缓存、日志、容器化与编排等，服务方在同这些基础软件进行交互时，设置一个最大响应时长，在处理某个请求的过程中，在调用基础组件的时长超过设置的最大响应时长时，默认调用这个基础软件失败。需要说明的是，虽然基础软件收到请求并返回的时间在通常在毫秒级别，但不排除出现网络波动或者基础软件故障导致无法响应的情况，因此需要设置一定的预防措施对突发情况进行应对。措施2：对处理较快的报文设置等待时长。为了屏蔽掉不同的请求报文导致的较大时间差异，服务方会统计每一笔收到请求报文到执行完代码逻辑的时间。其中，大部分请求的处理时间集中在某一个紧凑的区间内，例如：50毫秒-500毫秒，而极少数的请求会因为种种原因超过这个区间。因此，可取500毫秒设定为请求的处理时长，将处理较快的请求等待至500毫秒时再进行反馈。但应当知道的是，服务方的处理时间并不会影响到请求方和服务方对报文的加解密的过程。图4为本申请实施例提供的一种密钥生成装置结构示意图，如图4所示，该装置包括：第一生成模块401、第二生成模块402和第三生成模块403；其中，第一生成模块401，用于根据待发送请求的报文大小生成对应的假报文；假报文包括第一时间属性信息；第二生成模块402，用于基于第一时间属性信息生成第一实时网络特征；假报文包括发送时间；第三生成模块403，用于根据第一实时网络特征生成密钥。在上述实施例的基础上，第一时间属性信息包括发送时间；第三生成模块403具体用于：根据发送时间确定假报文所属的第一时间周期；基于第一实时网络特征、第一时间周期和物理机特征生成密钥；物理机特征用于表征请求方和/或服务方对应的物理机的特征。在上述实施例的基础上，物理机特征包括请求方MAC地址和服务方MAC地址；第三生成模块403具体用于：基于第一实时网络特征和预先设定的敏感系数生成第一可用网络特征；敏感系数用于表征请求方和服务方的初始网络特征；将第一可用网络特征、第一时间周期、请求方MAC地址和服务方MAC地址进行拼接，生成第一拼接字符串；对第一拼接字符串进行加密处理，生成密钥。在上述实施例的基础上，该装置还包括加密模块，用于利用密钥加密待发送请求，生成加密请求；将加密请求发送给服务方，以使服务方对加密请求进行处理。在上述实施例的基础上，该装置还包括销毁模块，用于对密钥进行销毁操作。图5为本申请实施例提供的另外一种密钥生成装置结构示意图，如图5所示，该装置包括：接收模块501、第四生成模块502、第五生成模块503；其中，接收模块501，用于接收请求方发送的假报文；假报文为请求方基于待发送请求的报文大小生成；假报文包括第二时间属性信息；第四生成模块502，用于基于第二时间属性信息生成第二实时网络特征；第五生成模块503，用于根据第二实时网络特征生成密钥。在上述实施例的基础上，第二时间属性信息包括接收时间；第五生成模块503具体用于：根据接收时间和第二实时网络特征确定假报文所属的第二时间周期；基于第二实时网络特征、第二时间周期和物理机特征生成密钥；物理机特征用于表征请求方和/或服务方对应的物理机的特征。在上述实施例的基础上，第五生成模块503具体用于：根据接收时间和第二实时网络特征获得时间差值；基于时间差值与预设周期阈值确定假报文所属的第二时间周期。在上述实施例的基础上，物理机特征包括请求方MAC地址和服务方MAC地址；第五生成模块503具体用于：基于第二实时网络特征和预先设定的敏感系数生成第二可用网络特征；敏感系数用于表征请求方和服务方的初始网络特征；将第二可用网络特征、第二时间周期、请求方MAC地址和服务方MAC地址进行拼接，生成第二拼接字符串；对第二拼接字符串进行加密处理，生成密钥。在上述实施例的基础上，该装置还包括解密模块，用于接收请求方发送的加密请求；利用密钥对加密请求进行解密，获得解密后的请求。图6为本申请实施例提供的电子设备结构示意图，如图6所示，所述电子设备，包括处理器601、存储器602和总线603；其中，所述处理器601和存储器602通过所述总线603完成相互间的通信。所述处理器601用于调用所述存储器602中的程序指令，以执行上述各方法实施例所提供的方法。处理器601可以是一种集成电路芯片，具有信号处理能力。上述处理器601可以是通用处理器，包括中央处理器、网络处理器等；还可以是数字信号处理器、专用集成电路、现成可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件。其可以实现或者执行本申请实施例中公开的各种方法、步骤及逻辑框图。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。存储器602可以包括但不限于随机存取存储器，只读存储器，可编程只读存储器，可擦除只读存储器，电可擦除只读存储器等。本实施例公开一种计算机程序产品，所述计算机程序产品包括存储在非暂态计算机可读存储介质上的计算机程序，所述计算机程序包括程序指令，当所述程序指令被计算机执行时，计算机能够执行上述各方法实施例所提供的方法。本实施例提供一种非暂态计算机可读存储介质，所述非暂态计算机可读存储介质存储计算机指令，所述计算机指令使所述计算机执行上述各方法实施例所提供的方法。在本申请所提供的实施例中，应该理解到，所揭露装置和方法，可以通过其它的方式实现。以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，又例如，多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些通信接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。另外，作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。再者，在本申请各个实施例中的各功能模块可以集成在一起形成一个独立的部分，也可以是各个模块单独存在，也可以两个或两个以上模块集成形成一个独立的部分。以上所述仅为本申请的实施例而已，并不用于限制本申请的保护范围，对于本领域的技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
