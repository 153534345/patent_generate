标题title
一种步进电机动态平稳驱动方法及系统
摘要abst
本发明涉及电变量测量技术领域，具体涉及一种步进电机动态平稳驱动方法及系统，包括：采集采样周期的电机振动数据序列，根据电机振动数据序列得到若干振动聚类簇；根据不同振动聚类簇得到待合并振动聚类簇以及目标合并振动聚类簇；根据待合并振动聚类簇以及目标合并振动聚类簇得到目标振动数据点的时序对照振动数据点；根据时序对照振动数据点得到数据影响程度；根据数据影响程度得到合并相似程度；根据合并相似程度从若干目标合并振动聚类簇中筛选出待合并振动聚类簇的最终目标聚类簇；根据最终目标聚类簇进行脉冲调整。本发明提高了聚类结果的准确性，提高了电机动态平稳驱动的效率。
权利要求书clms
1.一种步进电机动态平稳驱动方法，其特征在于，该方法包括以下步骤：采集若干采样周期的电机振动数据序列，所述电机振动数据序列包含多个振动数据，每个振动数据对应一个振动数据点；对振动数据点进行聚类得到若干振动聚类簇；根据不同振动聚类簇之间所含振动数据点的数量进行划分，得到若干待合并振动聚类簇以及若干目标合并振动聚类簇；将任意一个待合并振动聚类簇中任意一个振动数据点记为目标振动数据点，根据目标振动数据点与目标合并振动聚类簇中每个振动数据点之间的距离关系，得到每个目标振动数据点的时序对照振动数据点；根据不同电机振动数据序列在目标合并振动聚类簇中的部分时序对照振动数据点，与目标振动数据点之间的变化差异以及时间差异，得到每个目标振动数据点对每个目标合并振动聚类簇的数据影响程度；根据数据影响程度以及不同电机振动数据序列在目标合并振动聚类簇中的振动数据点与目标振动数据点之间的时间差异以及相似关系，得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度；根据合并相似程度从若干目标合并振动聚类簇中筛选出每个待合并振动聚类簇的最终目标聚类簇；根据最终目标聚类簇进行脉冲调整。2.根据权利要求1所述一种步进电机动态平稳驱动方法，其特征在于，所述根据不同振动聚类簇之间所含振动数据点的数量进行划分，得到若干待合并振动聚类簇以及若干目标合并振动聚类簇，包括的具体方法为：式中，表示振动数据数量点阈值；/＞表示预设的振动数据数量因子；/＞表示所有振动聚类簇中所有振动数据点的数量；/＞表示向下取整；对于任意一个振动聚类簇，若振动聚类簇中所含振动数据点的数量小于，那么将振动聚类簇记为待合并振动聚类簇；获取所有待合并振动聚类簇，将除待合并振动聚类簇以外的每个振动聚类簇记为目标合并振动聚类簇。3.根据权利要求1所述一种步进电机动态平稳驱动方法，其特征在于，所述根据目标振动数据点与目标合并振动聚类簇中每个振动数据点之间的距离关系，得到每个目标振动数据点的时序对照振动数据点，包括的具体方法为：对于任意一个目标振动数据点，在任意一个目标合并振动聚类簇中的所有振动数据点中，获取目标振动数据点与每个振动数据点之间的欧式距离，将欧式距离最小的振动数据点记为目标振动数据点的时序对照振动数据点。4.根据权利要求1所述一种步进电机动态平稳驱动方法，其特征在于，所述根据不同电机振动数据序列在目标合并振动聚类簇中的时序对照振动数据点，与目标振动数据点之间的变化差异以及时间差异，得到每个目标振动数据点对每个目标合并振动聚类簇的数据影响程度，包括的具体方法为：获取任意一个目标振动数据点的时序对照振动数据点以及参照子振动数据段；对于任意一个电机振动数据序列中任意两个相邻的振动数据点，将第二个振动数据点与第一个振动数据点之间纵坐标的差值记为第一差值，将第二个振动数据点与第一个振动数据点之间横坐标的差值记为第二差值，将第一差值与第二差值的比值记为第一个振动数据点的斜率，获取所有振动数据点的斜率；式中，表示目标振动数据点对任意一个目标合并振动聚类簇的数据影响程度；/＞表示目标振动数据点的时序对照振动数据点与目标振动数据点之间采集时间的差值；/＞表示目标振动数据点的所有参照子振动数据段的数量；/＞表示目标振动数据点的第/＞个参照子振动数据段中所有振动数据点的数量；/＞表示目标振动数据点的第/＞个参照子振动数据段中第/＞个振动数据点与目标振动数据点之间斜率的差值；/＞表示取绝对值；/＞表示以自然常数为底的指数函数。5.根据权利要求4所述一种步进电机动态平稳驱动方法，其特征在于，所述获取任意一个目标振动数据点的时序对照振动数据点以及参照子振动数据段，包括的具体方法为：对于任意一个振动数据序列以及任意一个振动聚类簇，将振动数据序列在振动聚类簇中包含的数据段记为振动数据序列的一个子振动数据段；获取振动数据序列的所有子振动数据段，获取所有振动数据序列的所有子振动数据段；对于任意一个目标振动数据点以及任意一个目标合并振动聚类簇，将目标振动数据点所属的振动数据序列记为目标振动数据序列，将目标振动数据序列在目标合并振动聚类簇中的子振动数据段记为目标振动数据点的标记子振动数据段；在目标合并振动聚类簇中，将除标记子振动数据段以外的每个子振动数据段均记为目标振动数据点的参照子振动数据段。6.根据权利要求4所述一种步进电机动态平稳驱动方法，其特征在于，所述根据数据影响程度以及不同电机振动数据序列在目标合并振动聚类簇中的部分振动数据点与目标振动数据点之间的时间差异以及相似关系，得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度，包括的具体方法为：式中，表示任意一个目标振动数据点对任意一个目标合并振动聚类簇的初始合并相似程度；/＞表示目标振动数据点对目标合并振动聚类簇的数据影响程度；/＞表示目标振动数据点的所有参照子振动数据段；/＞表示目标振动数据点的标记子振动数据段与第/＞个参照子振动数据段的DTW距离；/＞表示目标振动数据点的标记子振动数据段上第一个振动数据点与第/＞个参照子振动数据段上第一个振动数据点之间采集时间的差值；/＞表示预设的超参数；/＞表示取绝对值；根据初始合并相似度得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度。7.根据权利要求6所述一种步进电机动态平稳驱动方法，其特征在于，所述根据初始合并相似度得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度，包括的具体方法为：对所有待合并振动聚类簇中所有振动数据点对该目标合并振动聚类簇的初始合并相似程度进行线性归一化，将归一化后的每个初始合并相似程度记为合并相似程度。8.根据权利要求1所述一种步进电机动态平稳驱动方法，其特征在于，所述根据合并相似程度从若干目标合并振动聚类簇中筛选出每个待合并振动聚类簇的最终目标聚类簇，包括的具体方法为：对于任意一个待合并振动聚类簇以及任意一个目标合并振动聚类簇，将待合并振动聚类簇中所有振动数据点对目标合并振动聚类簇的合并相似程度的累计和，记为待合并振动聚类簇对目标合并振动聚类簇的类簇合并程度；获取该待合并振动聚类簇对所有目标合并振动聚类簇的类簇合并程度，将类簇合并程度最大的目标合并振动聚类簇记为该待合并振动聚类簇的最终目标聚类簇。9.根据权利要求1所述一种步进电机动态平稳驱动方法，其特征在于，所述根据最终目标聚类簇进行脉冲调整，包括的具体方法为：将每个待合并振动聚类簇合并入对应的最终目标聚类簇中得到若干聚类簇，将每个聚类簇记为最终聚类簇；对于任意一个最终聚类簇，利用ARIMA自回归移动平均算法获取最终聚类簇中每个振动数据的预测值；对于任意一个振动数据，将振动数据作为实际的振动数据，根据振动数据的预测值与实际的振动数据得到振动数据的残差值，若振动数据的预测值小于振动数据，那么将振动数据对应的采集时间上脉冲大小增大与残差值数值相同的电流脉冲。10.一种步进电机动态平稳驱动系统，包括存储器、处理器以及存储在存储器上并可在处理器上运行的计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1-9任一项所述的一种步进电机动态平稳驱动方法的步骤。
说明书desc
技术领域本发明涉及电变量测量技术领域，具体涉及一种步进电机动态平稳驱动方法及系统。背景技术根据步进电机在运转过程中会出现振动，影响步进电机的平稳驱动；传统方法通常利用ISODATA迭代自组织聚类算法对步进电机的振动数据进行聚类，根据聚类后的振动数据动态调整脉冲大小，实现步进电机的动态平稳驱动；但由于步进电机在运转的过程中不断运动，导致这些振动数据在时序上存在较大的关联性，而传统的ISODATA迭代自组织聚类算法仅通过振动数据之间的数值差异进行归并聚类，并不能很好地将相近时序运动的振动数据进行归并，导致聚类结果不准确，降低电机动态平稳驱动的效率。发明内容本发明提供一种步进电机动态平稳驱动方法及系统，以解决现有的问题：传统的ISODATA迭代自组织聚类算法仅通过振动数据之间的数值差异进行归并聚类，并不能很好地将相近时序运动的振动数据进行归并。本发明的一种步进电机动态平稳驱动方法及系统采用如下技术方案：本发明一个实施例提供了一种步进电机动态平稳驱动方法，该方法包括以下步骤：采集若干采样周期的电机振动数据序列，所述电机振动数据序列包含多个振动数据，每个振动数据对应一个振动数据点；对振动数据点进行聚类得到若干振动聚类簇；根据不同振动聚类簇之间所含振动数据点的数量进行划分，得到若干待合并振动聚类簇以及若干目标合并振动聚类簇；将任意一个待合并振动聚类簇中任意一个振动数据点记为目标振动数据点，根据目标振动数据点与目标合并振动聚类簇中每个振动数据点之间的距离关系，得到每个目标振动数据点的时序对照振动数据点；根据不同电机振动数据序列在目标合并振动聚类簇中的部分时序对照振动数据点，与目标振动数据点之间的变化差异以及时间差异，得到每个目标振动数据点对每个目标合并振动聚类簇的数据影响程度；根据数据影响程度以及不同电机振动数据序列在目标合并振动聚类簇中的振动数据点与目标振动数据点之间的时间差异以及相似关系，得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度；根据合并相似程度从若干目标合并振动聚类簇中筛选出每个待合并振动聚类簇的最终目标聚类簇；根据最终目标聚类簇进行脉冲调整。优选的，所述根据不同振动聚类簇之间所含振动数据点的数量进行划分，得到若干待合并振动聚类簇以及若干目标合并振动聚类簇，包括的具体方法为：式中，表示振动数据数量点阈值；/＞表示预设的振动数据数量因子；/＞表示所有振动聚类簇中所有振动数据点的数量；/＞表示向下取整；对于任意一个振动聚类簇，若振动聚类簇中所含振动数据点的数量小于，那么将振动聚类簇记为待合并振动聚类簇；获取所有待合并振动聚类簇，将除待合并振动聚类簇以外的每个振动聚类簇记为目标合并振动聚类簇。优选的，所述根据目标振动数据点与目标合并振动聚类簇中每个振动数据点之间的距离关系，得到每个目标振动数据点的时序对照振动数据点，包括的具体方法为：对于任意一个目标振动数据点，在任意一个目标合并振动聚类簇中的所有振动数据点中，获取目标振动数据点与每个振动数据点之间的欧式距离，将欧式距离最小的振动数据点记为目标振动数据点的时序对照振动数据点。优选的，所述根据不同电机振动数据序列在目标合并振动聚类簇中的时序对照振动数据点，与目标振动数据点之间的变化差异以及时间差异，得到每个目标振动数据点对每个目标合并振动聚类簇的数据影响程度，包括的具体方法为：获取任意一个目标振动数据点的时序对照振动数据点以及参照子振动数据段；对于任意一个电机振动数据序列中任意两个相邻的振动数据点，将第二个振动数据点与第一个振动数据点之间纵坐标的差值记为第一差值，将第二个振动数据点与第一个振动数据点之间横坐标的差值记为第二差值，将第一差值与第二差值的比值记为第一个振动数据点的斜率，获取所有振动数据点的斜率；式中，表示目标振动数据点对任意一个目标合并振动聚类簇的数据影响程度；/＞表示目标振动数据点的时序对照振动数据点与目标振动数据点之间采集时间的差值；/＞表示目标振动数据点的所有参照子振动数据段的数量；/＞表示目标振动数据点的第/＞个参照子振动数据段中所有振动数据点的数量；/＞表示目标振动数据点的第/＞个参照子振动数据段中第/＞个振动数据点与目标振动数据点之间斜率的差值；/＞表示取绝对值；/＞表示以自然常数为底的指数函数。优选的，所述获取任意一个目标振动数据点的时序对照振动数据点以及参照子振动数据段，包括的具体方法为：对于任意一个振动数据序列以及任意一个振动聚类簇，将振动数据序列在振动聚类簇中包含的数据段记为振动数据序列的一个子振动数据段；获取振动数据序列的所有子振动数据段，获取所有振动数据序列的所有子振动数据段；对于任意一个目标振动数据点以及任意一个目标合并振动聚类簇，将目标振动数据点所属的振动数据序列记为目标振动数据序列，将目标振动数据序列在目标合并振动聚类簇中的子振动数据段记为目标振动数据点的标记子振动数据段；在目标合并振动聚类簇中，将除标记子振动数据段以外的每个子振动数据段均记为目标振动数据点的参照子振动数据段。优选的，所述根据数据影响程度以及不同电机振动数据序列在目标合并振动聚类簇中的部分振动数据点与目标振动数据点之间的时间差异以及相似关系，得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度，包括的具体方法为：式中，表示任意一个目标振动数据点对任意一个目标合并振动聚类簇的初始合并相似程度；/＞表示目标振动数据点对目标合并振动聚类簇的数据影响程度；/＞表示目标振动数据点的所有参照子振动数据段；/＞表示目标振动数据点的标记子振动数据段与第个参照子振动数据段的DTW距离；/＞表示目标振动数据点的标记子振动数据段上第一个振动数据点与第/＞个参照子振动数据段上第一个振动数据点之间采集时间的差值；/＞表示预设的超参数；/＞表示取绝对值；根据初始合并相似度得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度。优选的，所述根据初始合并相似度得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度，包括的具体方法为：对所有待合并振动聚类簇中所有振动数据点对该目标合并振动聚类簇的初始合并相似程度进行线性归一化，将归一化后的每个初始合并相似程度记为合并相似程度。优选的，所述根据合并相似程度从若干目标合并振动聚类簇中筛选出每个待合并振动聚类簇的最终目标聚类簇，包括的具体方法为：对于任意一个待合并振动聚类簇以及任意一个目标合并振动聚类簇，将待合并振动聚类簇中所有振动数据点对目标合并振动聚类簇的合并相似程度的累计和，记为待合并振动聚类簇对目标合并振动聚类簇的类簇合并程度；获取该待合并振动聚类簇对所有目标合并振动聚类簇的类簇合并程度，将类簇合并程度最大的目标合并振动聚类簇记为该待合并振动聚类簇的最终目标聚类簇。优选的，所述根据最终目标聚类簇进行脉冲调整，包括的具体方法为：将每个待合并振动聚类簇合并入对应的最终目标聚类簇中得到若干聚类簇，将每个聚类簇记为最终聚类簇；对于任意一个最终聚类簇，利用ARIMA自回归移动平均算法获取最终聚类簇中每个振动数据的预测值；对于任意一个振动数据，将振动数据作为实际的振动数据，根据振动数据的预测值与实际的振动数据得到振动数据的残差值，若振动数据的预测值小于振动数据，那么将振动数据对应的采集时间上脉冲大小增大与残差值数值相同的电流脉冲。本发明还提出了一种步进电机动态平稳驱动系统，包括存储器和处理器，所述处理器执行所述存储器存储的计算机程序，以实现上述的一种步进电机动态平稳驱动方法的步骤。本发明的技术方案的有益效果是：根据电机振动数据序列得到时序对照振动数据点，根据时序对照振动数据点得到数据影响程度，根据数据影响程度得到合并相似程度，根据合并相似程度得到最终目标聚类簇，根据最终目标聚类簇进行脉冲调整；本发明的数据影响程度更好地反映了目标振动数据点与目标合并振动聚类簇中所有振动数据点在时序上的连续变化趋势的相似性；合并相似程度更好地反映了第一目标振动数据点与目标合并振动聚类簇中所有振动数据序列的变化趋势与时间联系的紧密程度；提高了聚类结果的准确性，提高了电机动态平稳驱动的效率。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明的一种步进电机动态平稳驱动方法的步骤流程图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种步进电机动态平稳驱动方法及系统，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种步进电机动态平稳驱动方法及系统的具体方案。请参阅图1，其示出了本发明一个实施例提供的一种步进电机动态平稳驱动方法的步骤流程图，该方法包括以下步骤：步骤S001：采集若干采样周期的电机振动数据序列。需要说明的是，传统方法通常利用ISODATA迭代自组织聚类算法对步进电机的振动数据进行聚类，根据聚类后的振动数据动态调整脉冲大小，实现步进电机的动态平稳驱动；但由于步进电机在运转的过程中不断运动，导致这些振动数据在时序上存在较大的关联性，而传统的ISODATA迭代自组织聚类算法仅通过振动数据之间的数值差异进行归并聚类，并不能很好地将相近时序运动的振动数据进行归并，导致聚类结果不准确，降低电机动态平稳驱动的效率。为此，本实施例提出了一种步进电机动态平稳驱动方法。具体的，为了实现本实施例提出的一种步进电机动态平稳驱动方法，首先需要采集电机振动数据序列，具体过程为：使用振动传感器对步进电机每隔2秒为一个采集时间采集一次振动数据，每1分钟作为一个采样周期，共采集20个采样周期；以任意一个采样周期为例，将该采样周期内所有的振动数据按照采集时间从小到大进行排列，将排列后的序列记为电机振动数据序列；获取所有电机振动数据序列。其中每个采样周期对应一个电机振动数据序列。另外需要说明的是，本实施例不对采样时间、采样周期以及采样周期的数量进行具体限定，其中采样时间、采样周期以及采样周期的数量可根据具体实施情况而定。至此，通过上述方法得到所有电机振动数据序列。步骤S002：对振动数据点进行聚类得到若干振动聚类簇；根据不同振动聚类簇之间所含振动数据点的数量进行划分，得到若干待合并振动聚类簇以及若干目标合并振动聚类簇；获取目标振动数据点，根据目标振动数据点与目标合并振动聚类簇中每个振动数据点之间的距离关系，得到每个目标振动数据点的时序对照振动数据点；根据不同电机振动数据序列在目标合并振动聚类簇中的部分时序对照振动数据点，与目标振动数据点之间的变化差异以及时间差异，得到每个目标振动数据点对每个目标合并振动聚类簇的数据影响程度。需要说明的是，在实际情况中，步进电机在运转时会不断改变运动状态，使这些振动数据在时序上存在较大的关联性；同时因不同时间范围内步进电机的运动状态并不相同，因此不同时间范围内振动数据的数值变化趋势与时间变化之间的关联性也会存在不同差异；为了使聚类结果更加准确，本实施例通过分析振动数据与其他时间范围内振动数据变化趋势的差异情况以及时序上的关联情况，得到振动数据对不同时间范围的数据影响程度，以便后续分析处理。具体的，将振动数据的大小作为纵坐标，振动数据在所属电机振动数据序列中的序号作为横坐标，根据横纵坐标构建一个二维坐标系；将每个电机振动数据序列输入二维坐标系中，将每个振动数据在二维坐标系中的数据点记为振动数据点，对二维坐标系中所有振动数据点进行ISODATA迭代自组织聚类得到任意一次迭代过程中的若干聚类簇，将每个聚类簇记为振动聚类簇。以任意一个振动数据序列以及任意一个振动聚类簇为例，将该振动数据序列在该振动聚类簇中包含的数据段记为该振动数据序列的一个子振动数据段；获取该振动数据序列的所有子振动数据段，获取所有振动数据序列的所有子振动数据段。其中每个振动数据对应一个振动数据点，每个时振动数据序列包含多个子振动数据段，每个振动聚类簇包含多个振动数据序列的子振动数据段；根据横纵坐标构建二维坐标系的过程是公知技术，本实施例不再赘述；获取每个迭代过程中的若干聚类簇是ISODATA迭代自组织聚类算法的公知内容，本实施例不再赘述。进一步的，预设一个振动数据数量因子，其中本实施例以/＞=0.1为例进行叙述，本实施例不进行具体限定，其中/＞可根据具体实施情况而定；根据振动数据数量因子以及所有振动数据点的数量得到振动数据数量点阈值。其中振动数据数量点阈值的计算方法为：式中，表示振动数据数量点阈值；/＞表示预设的振动数据数量因子；/＞表示所有振动类簇簇中所有振动数据点的数量；/＞表示向下取整。进一步的，以任意一个振动聚类簇为例，若该振动聚类簇中所含振动数据点的数量小于，那么将该振动聚类簇记为待合并振动聚类簇；获取所有待合并振动聚类簇，将除待合并振动聚类簇以外的每个振动聚类簇记为目标合并振动聚类簇；以任意一个待合并振动聚类簇以及任意一个目标合并振动聚类簇为例，将该待合并振动聚类簇中任意一个子振动数据段上任意一个振动数据点记为目标振动数据点，将目标振动数据点所属的振动数据序列记为目标振动数据序列，将目标振动数据序列在该目标合并振动聚类簇中的子振动数据段记为该目标振动数据点的标记子振动数据段；在该目标合并振动聚类簇中，将除该标记子振动数据段以外的每个子振动数据段记为该目标振动数据点的参照子振动数据段。其中每个待合并振动聚类簇中每个振动数据点在每个目标合并振动聚类簇中均对应一个标记子振动数据段以及多个参照子振动数据段。进一步的，在该目标合并振动聚类簇中的所有振动数据点中，获取该目标振动数据点与每个振动数据点之间的欧式距离，将欧式距离最小的振动数据点记为该目标振动数据点的时序对照振动数据点。其中每个待合并振动聚类簇中每个振动数据点在每个目标合并振动聚类簇中对应一个时序对照振动数据点；欧式距离的获取是公知技术，本实施例不再赘述。进一步的，以任意一个电机振动数据序列中任意两个相邻的振动数据点为例，将第二个振动数据点与第一个振动数据点之间纵坐标的差值记为第一差值，将第二个振动数据点与第一个振动数据点之间横坐标的差值记为第二差值，将第一差值与第二差值的比值记为第一个振动数据点的斜率，依次类推，获取所有振动数据点的斜率。需要说明的是，最后一个振动数据点的斜率本实施例默认为1。进一步的，根据该目标振动数据点的时序对照振动数据点以及参照子振动数据段，得到该目标振动数据点对该目标合并振动聚类簇的数据影响程度。其中该目标振动数据点对该目标合并振动聚类簇的数据影响程度的计算方法为：式中，表示该目标振动数据点对该目标合并振动聚类簇的数据影响程度；/＞表示该目标振动数据点的时序对照振动数据点与该目标振动数据点之间采集时间的差值；/＞表示该目标振动数据点的所有参照子振动数据段的数量；/＞表示该目标振动数据点的第/＞个参照子振动数据段中所有振动数据点的数量；/＞表示该目标振动数据点的第/＞个参照子振动数据段中第/＞个振动数据点与该目标振动数据点之间斜率的差值；/＞表示取绝对值；/＞表示以自然常数为底的指数函数；实施例采用/＞函数来呈现反比例关系及归一化处理，实施者可根据实际情况选择反比例函数及归一化函数；/＞表示该时序对照振动数据点与该目标振动数据点的关联性；/＞表示该目标振动数据点的振动数据与其他参照子振动数据段之后的趋势差异。其中若该目标振动数据点对该目标合并振动聚类簇的数据影响程度越大，说明该目标振动数据点与该目标合并振动聚类簇中所有振动数据点在时序上的连续变化趋势越相似，反映该目标振动数据点可以合并到该目标合并振动聚类簇的可能性越大。获取该待合并振动聚类簇中所有振动数据点对该目标合并振动聚类簇的数据影响程度；获取该待合并振动聚类簇中所有振动数据点对所有目标合并振动聚类簇的数据影响程度；获取所有待合并振动聚类簇中所有振动数据点对所有目标合并振动聚类簇的数据影响程度。至此，通过上述方法得到所有待合并振动聚类簇中所有振动数据点对所有目标合并振动聚类簇的数据影响程度。步骤S003：根据数据影响程度以及不同电机振动数据序列在目标合并振动聚类簇中的部分振动数据点与目标振动数据点之间的时间差异以及相似关系，得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度；根据合并相似程度从若干目标合并振动聚类簇中筛选出每个待合并振动聚类簇的最终目标聚类簇。需要说明的是，获取所有待合并振动聚类簇中所有振动数据点对所有目标合并振动聚类簇的数据影响程度后，虽然数据影响程度可以一定程度地反映振动数据点可以合并至不同目标合并振动聚类簇中的可能性，但并没有考虑不同时间范围内整体数据序列之间的变化趋势与时序关联情况，为此，本实施例通过结合不同时间范围内整体数据序列之间的变化趋势与时序关联情况，得到振动数据点的合并相似程度，以便后续分析处理。具体的，以任意一个待合并振动聚类簇以及任意一个目标合并振动聚类簇为例，将该待合并振动聚类簇中任意一个振动数据点记为第一目标振动数据点；根据该第一目标振动数据点对该目标合并振动聚类簇的数据影响程度、该第一目标振动数据点的标记子振动数据段以及参照子振动数据段，得到该第一目标振动数据点对该目标合并振动聚类簇的初始合并相似程度。其中该第一目标振动数据点对该目标合并振动聚类簇的初始合并相似程度的计算方法为：式中，表示该第一目标振动数据点对该目标合并振动聚类簇的初始合并相似程度；/＞表示该第一目标振动数据点对该目标合并振动聚类簇的数据影响程度；/＞表示该第一目标振动数据点的所有参照子振动数据段；/＞表示该第一目标振动数据点的标记子振动数据段与第/＞个参照子振动数据段的DTW距离；/＞表示该第一目标振动数据点的标记子振动数据段上第一个振动数据点与第/＞个参照子振动数据段上第一个振动数据点之间采集时间的差值；/＞表示预设的超参数，本实施例预设/＞，用于防止分母为0；/＞表示取绝对值。其中若该第一目标振动数据点对该目标合并振动聚类簇的初始合并相似程度越大，说明该第一目标振动数据点与该目标合并振动聚类簇中所有振动数据序列的变化趋势与时间联系越紧密，反映该第一目标振动数据点越能合并入目标合并振动聚类簇中。获取所有待合并振动聚类簇中所有振动数据点对该目标合并振动聚类簇的初始合并相似程度，对所有的初始合并相似程度进行线性归一化，将归一化后的每个初始合并相似程度记为合并相似程度。其中DTW距离的获取是DTW动态时间规整算法的公知内容，本实施例不再赘述。进一步的，以任意一个待合并振动聚类簇为例，将该待合并振动聚类簇中所有振动数据点对该目标合并振动聚类簇的合并相似程度的累计和，记为该待合并振动聚类簇对该目标合并振动聚类簇的类簇合并程度；获取该待合并振动聚类簇对所有目标合并振动聚类簇的类簇合并程度，将类簇合并程度最大的目标合并振动聚类簇记为该待合并振动聚类簇的最终目标聚类簇；获取所有待合并振动聚类簇的最终目标聚类簇。至此，通过上述方法得到所有待合并振动聚类簇的最终目标聚类簇。步骤S004：根据最终目标聚类簇进行脉冲调整。具体的，将每个待合并振动聚类簇合并入对应的最终目标聚类簇中得到若干聚类簇，将每个聚类簇记为最终聚类簇；以任意一个最终聚类簇为例，利用ARIMA自回归移动平均算法获取该最终聚类簇中每个振动数据的预测值；以任意一个振动数据为例，将该振动数据作为实际的振动数据，根据该振动数据的预测值与实际的振动数据得到该振动数据的残差值，若该振动数据的预测值小于该振动数据，那么将该振动数据对应的采集时间上脉冲大小增大与该残差值数值相同的电流脉冲。其中ARIMA自回归移动平均算法是公知技术，本实施例不再赘述；根据预测值与实际的数据获取残差值的过程是残差值的公知内容，本实施例不再赘述。需要说明的是，本实施例根据残差值对脉冲大小进行增大的过程即是步进电机动态平稳驱动的过程。通过以上步骤，完成一种步进电机动态平稳驱动方法。本发明的另一个实施例提供了一种步进电机动态平稳驱动系统，所述系统包括存储器和处理器，所述处理器执行所述存储器存储的计算机程序时，执行以下操作：采集若干采样周期的电机振动数据序列，所述电机振动数据序列包含多个振动数据，每个振动数据对应一个振动数据点；对振动数据点进行聚类得到若干振动聚类簇；根据不同振动聚类簇之间所含振动数据点的数量进行划分，得到若干待合并振动聚类簇以及若干目标合并振动聚类簇；将任意一个待合并振动聚类簇中任意一个振动数据点记为目标振动数据点，根据目标振动数据点与目标合并振动聚类簇中每个振动数据点之间的距离关系，得到每个目标振动数据点的时序对照振动数据点；根据不同电机振动数据序列在目标合并振动聚类簇中的部分振动数据点，与目标振动数据点之间的变化差异以及时间差异，得到每个目标振动数据点对每个目标合并振动聚类簇的数据影响程度；根据数据影响程度以及不同电机振动数据序列在目标合并振动聚类簇中的振动数据点与目标振动数据点之间的时间差异以及相似关系，得到每个目标振动数据点对每个目标合并振动聚类簇的合并相似程度；根据合并相似程度从若干目标合并振动聚类簇中筛选出每个待合并振动聚类簇的最终目标聚类簇；根据最终目标聚类簇进行脉冲调整。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
