标题title
基于全光网络的低时延通信方法
摘要abst
本发明实施例提供了一种基于全光网络的低时延通信方法，包括：对于全光网络链路，在FTTR从设备与FTTR主设备以及光线路终端OLT组成的链路上配置刚性管道；识别数据流，在所述数据流包含特征标识的情况下，通过所述刚性管道传输所述数据流。通过本发明，解决了解决相关技术中的业务调度方式不能满足承载低时延业务的需求的问题。
权利要求书clms
1.一种基于全光网络的低时延通信方法，其特征在于，包括：对于全光网络链路，在FTTR从设备与FTTR主设备以及光线路终端OLT组成的链路上配置刚性管道；识别数据流，在所述数据流包含特征标识的情况下，通过所述刚性管道传输所述数据流。2.根据权利要求1所述的方法，其特征在于，所述特征标识包括GEMPORTID。3.根据权利要求1所述的方法，其特征在于，对于全光网络链路，在FTTR从设备与FTTR主设备以及光线路终端OLT组成的链路上配置刚性管道；识别数据流，在所述数据流包含特征标识的情况下，通过所述刚性管道传输所述数据流，包括：所述FTTR从设备接收从WI-FI站点发送的上行数据流，在所述FTTR从设备和FTTR主设备之间配置刚性管道，以使所述上行数据从所述刚性管道流入所述FTTR主设备；所述FTTR主设备接收所述上行数据流，在所述FTTR主设备和光线路终端OLT之间配置刚性管道，以使所述上行数据从所述刚性管道流入所述光线路终端OLT。4.根据权利要求1所述的方法，其特征在于，对于全光网络链路，在FTTR从设备与FTTR主设备以及光线路终端OLT组成的链路上配置刚性管道；识别数据流，在所述数据流包含特征标识的情况下，通过所述刚性管道传输所述数据流，包括：所述光线路终端OLT基于下行数据流，在所述光线路终端OLT和FTTR主设备之间配置刚性管道，以使所述下行数据流基于所述刚性管道流入所述FTTR主设备；所述FTTR主设备接收所述下行数据流，在所述FTTR主设备和FTTR从设备之间配置刚性管道，以使所述下行数据流基于所述刚性管道流入所述FTTR从设备。5.根据权利要求4所述的方法，其特征在于，所述FTTR主设备接收所述下行数据流，在所述FTTR主设备和FTTR从设备之间配置刚性管道，以使所述下行数据流基于所述刚性管道流入所述FTTR从设备之后，包括：所述FTTR从设备接收所述下行数据流，为所述下行数据流分配DSCP值，以使所述下行数据流优先发送至WI-FI站点。6.根据权利要求3所述的方法，其特征在于，还包括使用DBA协同调度的方法，所述DBA协同调度的方法包括：所述FTTR从设备接收从WI-FI站点发送的上行数据流之前，所述FTTR从设备基于所述WI-FI站点发送的上行请求帧向所述FTTR主设备发送第一带宽请求；所述FTTR主设备基于所述第一带宽请求向所述光线路终端OLT发送第二带宽请求；所述光线路终端OLT基于所述第二带宽请求为所述FTTR主设备分配上行带宽；所述FTTR主设备基于所述第一带宽请求为所述FTTR从设备分配上行带宽。7.根据权利要求1所述的方法，其特征在于，还包括DBA子帧划分的方法，所述DBA子帧划分的方法包括：在一个DBA调度周期内，基于数据流的业务类型调节DBA子帧的数量和带宽配置。8.根据权利要求7所述的方法，其特征在于，在一个DBA调度周期内，基于数据流的业务类型调节DBA子帧的数量和带宽配置，包括：识别所述数据流的报文类型，以确定所述业务类型；基于所述业务类型确定时延和带宽；对所述时延和带宽进行分类和优先级排序；基于所述分类和优先级排序的结果调节所述DBA子帧的数量和带宽配置。9.根据权利要求1所述的方法，其特征在于，还包括使用短开窗的方法，所述短开窗设置的方法包括：在报文请求上报阶段，所述FTTR主设备基于所述FTTR从设备的响应时间、所述FTTR主设备和FTTR从设备间的随机时延、所述FTTR主设备和FTTR从设备间的环路时延设置短开窗，以使所述FTTR主设备在短开窗的时间段内识别所述FTTR从设备。10.根据权利要求9所述的方法，其特征在于，在报文请求上报阶段，所述FTTR主设备基于所述FTTR从设备的响应时间、所述FTTR主设备和FTTR从设备间的随机时延、所述FTTR主设备和FTTR从设备间的环路时延设置短开窗，以使所述FTTR主设备在短开窗的时间段内识别所述FTTR从设备，包括：所述FTTR主设备基于所述FTTR从设备的响应时间、所述FTTR主设备和FTTR从设备间的随机时延、所述FTTR主设备和FTTR从设备间的环路时延计算预均衡时延，在预均衡时延之后发送空条目；所述FTTR主设备将所述预均衡时延和所述空条目占据的时延之和作为短开窗的时间段，以使所述FTTR主设备在短开窗的时间段内识别所述FTTR从设备。11.根据权利要求9所述的方法，其特征在于，在报文请求上报阶段，所述FTTR主设备基于所述FTTR从设备的响应时间、所述FTTR主设备和FTTR从设备间的随机时延、所述FTTR主设备和FTTR从设备间的环路时延设置短开窗，以使所述FTTR主设备在短开窗的时间段内识别所述FTTR从设备，包括：所述FTTR主设备将空条目占据的时延作为短开窗的时间段，以使所述FTTR主设备在短开窗的时间段内识别所述FTTR从设备。12.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质中存储有计算机程序，其中，所述计算机程序被处理器执行时实现所述权利要求1至11任一项中所述的方法的步骤。13.一种电子装置，包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现所述权利要求1至11任一项中所述的方法的步骤。
说明书desc
技术领域本发明实施例涉及通信的技术领域，具体而言，涉及一种基于全光网络的低时延通信方法。背景技术随着光网络的不断发展，带宽网络服务正迈向以10G PON和WI-FI6为主流的第五代固定通信时代，相比前几代固定接入技术，F5G具有超高网络接入速率、全光联接、优秀网络体验等一系列优良特性。F5G家庭专网是在光纤到户的基础上，将光纤向房间延伸，在家庭内实现全光组网，并结合10G PON、WI-FI6技术，实现全屋千兆覆盖，解决家庭WI-FI信号覆盖不足、速率不达标等问题，实现全屋安全可靠的千兆覆盖。在宽带设备的传输链路中，采用P2MP方式下挂多设备进行组网，链路较长，设备较多，会面临更多并发场景以及数据量的问题，所带来的数据拥塞与调度滞后的问题会导致业务时延增大。因此，相关技术的业务调度方式不能满足承载低时延业务的需求。发明内容本发明实施例提供了一种基于全光网络的低时延通信方法，以至少解决相关技术中的业务调度方式不能满足承载低时延业务的需求的问题。根据本发明的一个实施例，提供了一种基于全光网络的低时延通信方法，包括：对于全光网络链路，在FTTR从设备与FTTR主设备以及光线路终端OLT组成的链路上配置刚性管道；识别数据流，在所述数据流包含特征标识的情况下，通过所述刚性管道传输所述数据流。根据本发明的又一个实施例，还提供了一种计算机可读存储介质，所述计算机可读存储介质中存储有计算机程序，其中，所述计算机程序被设置为运行时执行上述任一项方法实施例中的步骤。根据本发明的又一个实施例，还提供了一种电子装置，包括存储器和处理器，所述存储器中存储有计算机程序，所述处理器被设置为运行所述计算机程序以执行上述任一项方法实施例中的步骤。通过本发明，首先，本发明采用了刚性管道的配置方式。在全光网络链路中，通过在FTTR从设备与FTTR主设备以及光线路终端OLT组成的链路上配置刚性管道。这种刚性管道的配置方式可以有效减少数据的传输时延，并且能够提升数据传输的稳定性和可靠性。其次，本发明还采用了数据流识别的方法。对于数据流中包含特征标识的情况，采用刚性管道传输数据流。这种数据流识别的方式可以根据特征标识将低时延业务与其他业务进行区分，从而优先传输低时延业务，提高低时延业务的传输效率和响应速度。通过以上的刚性管道配置和数据流识别方法，本发明能够解决相关技术中的业务调度方式不能满足承载低时延业务的需求的问题。它能够降低传输时延，提升数据传输的稳定性和可靠性，并且能够优先传输低时延业务，满足低时延业务的需求。附图说明图1是根据本发明实施例运行的网络架构示意图；图2是根据本发明实施例的一种基于全光网络的低时延通信方法的流程图；图3是根据本发明实施例的在上行方向通过刚性管道传输数据流的方法的流程图；图4是根据本发明实施例的在下行方向通过刚性管道传输数据流的方法的流程图；图5是根据本发明实施例的DBA协同调度方法的流程图；图6是根据本发明实施例的DBA协同调度的方法的示例图；图7是根据本发明实施例的DBA子帧划分的方法的示例图；图8是根据本发明实施例的基于数据流的业务类型调节DBA子帧的数量和带宽配置的方法的流程图；图9是根据本发明实施例的使FTTR主设备在短开窗的时间段内识别FTTR从设备的方法的流程图；图10是根据本发明实施例的在预均衡时延之后发送空条目的方法的示例图；图11是根据本发明实施例的不使用预均衡时延方式，而是通过先分配空条目的方法的示例图。具体实施方式下文中将参考附图并结合实施例来详细说明本发明的实施例。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。本申请实施例可以运行于图1所示的网络架构上，如图1所示，该网络架构包括：光线路终端OLT、FTTR主设备、FTTR从设备。其中，光线路终端OLT与FTTR主设备通信连接，FTTR主设备与FTTR从设备通信连接，FTTR从设备通信连接多个站点设备。在以下公开的实施方式中，以光线路终端OLT与一个FTTR主设备通信连接、FTTR主设备与一个FTTR从设备通信连接为例，当然，仅是一种示例。因此，光线路终端OLT也可以下挂多个FTTR主设备，FTTR主设备也可以下挂多个FTTR从设备，具体数量可以根据实际情况进行设定，本申请实施例不做限定。在一种实施方式中，本申请实施例可以运行于PON+FTTR+WI-FI系统中，其中，上述网络架构为PON+FTTR+WI-FI系统的中间链路。在本实施例中提供了一种运行于上述网络架构的方法，图2是根据本发明实施例的一种基于全光网络的低时延通信方法的流程图，如图2所示，该流程包括如下步骤：步骤S201，对于全光网络链路，在FTTR从设备与FTTR主设备以及光线路终端OLT组成的链路上配置刚性管道；在一种实施方式中，全光网络链路可以为上述PON+FTTR+WI-FI系统的链路，也可以为PON+OLT+ONU链路，或者为PON+OLT+ONT链路，或者为PON+OLT+MDU链路，或者为PON+OLT+Switch链路。其中，对于PON+OLT+ONU链路，PON是一种光纤传输技术，包括OLT和ONU。在这种链路中，光纤传输从OLT到ONU，再由ONU提供网络连接。对于PON+OLT+ONT链路，类似于PON+OLT+ONU链路，但是使用ONT替代了ONU。ONT通常指的是用户端设备，用于连接PON网络并提供网络服务。对于PON+OLT+MDU链路，MDU是一种多住户单元，通常是公寓建筑或多户住宅。在这种链路中，PON技术被用于将光纤传输从OLT扩展到MDU中的各个终端单元。对于PON+OLT+Switch链路，在一些场景下，可能需要将PON网络与以太网交换机结合使用，以提供更高的网络扩展性和连接性。在这种链路配置中，光纤传输从OLT到交换机，再由交换机连接其他设备或网络。在一种示例性的实施方式中，可以采用如下的方法：定义管道：在光网络中定义一种刚性管道，确定该管道的起始点和终止点。可以通过网络管理系统或者命令行界面进行操作。配置管道属性：为刚性管道分配合适的带宽和其他属性。这可以包括确定管道的传输速率、容量以及服务质量要求等。配置链路接口：在FTTR从设备和FTTR主设备上配置相关的链路接口。这可以根据设备的型号和具体操作系统来执行。配置OLT接口：在光线路终端OLT上配置与FTTR连接的接口。这可以包括定义OLT上的端口、VLAN设置等。连接设备和OLT：使用光纤连接FTTR从设备和FTTR主设备之间的光口以及连接FTTR主设备和OLT之间的光纤。确保连接正确且可靠。配置链路保护：根据需要，可以配置链路保护来提高链路的可靠性和冗余性。可以采用冗余链路，备份链路或者其他保护机制。测试与验证：完成配置后，进行测试与验证以确保链路的正常工作。包括测试链路的连通性、带宽性能和其他指标。步骤S202，识别数据流，在数据流包含特征标识的情况下，通过刚性管道传输数据流。在一种实施方式中，特征标识包括GEMPORTID。在一种实施方式中，特征标识包括以下的一种或者多种：GEMPORTID、ALLOCID。其中，ALLOCID是在上行方向，基于下行帧分配带宽的因素。在一种示例性的实施方式中，对于需要走刚性管道的业务，给定特征标识，约定这一特征标识可被识别为刚性管道，且保证这一特征标识的可传递性。即：在整个PON+FTTR+WI-FI链路上，该数据流通过匹配特征标识，在FTTR从设备、FTTR主设备和OLT上都可被识别为进入刚性管道。图3是根据本发明实施例的在上行方向通过刚性管道传输数据流的方法的流程图，在一种实施方式中，如图3所示，在FTTR从设备与FTTR主设备以及光线路终端OLT组成的链路上配置刚性管道；识别数据流，在数据流包含特征标识的情况下，通过刚性管道传输数据流，包括：步骤S301，FTTR从设备接收从WI-FI站点发送的上行数据流，在FTTR从设备和FTTR主设备之间配置刚性管道，以使上行数据从刚性管道流入FTTR主设备；步骤S302，FTTR主设备接收上行数据流，在FTTR主设备和光线路终端OLT之间配置刚性管道，以使上行数据从刚性管道流入光线路终端OLT。在一种示例性的实施方式中，对于上行方向，FTTR从设备侧根据收到的不同业务的WI-FI切片，分配不同的TCONT和GEMPORT标识刚性管道，即给定刚性管道对应的ALLOCID和GEMPORTID，匹配ALLOCID和GEMPORTID则进入刚性管道进行低时延优先调度发送，减少FTTR主设备、FTTR从设备间上行传输时延；FTTR主设备侧，根据FTTR从设备的刚性管道GEMPORTID传输到FTTR主设备侧的对应业务流分配OLT和FTTR主设备间的刚性管道TCONT和GEMPORT，同样根据匹配ALLOCID和GEMPORTID进行OLT和FTTR主设备间的刚性管道低时延优先调度发送，以此实现在上行方向上从WI-FI到PON的端到端低时延协同传输。其中，WI-FI切片是一种基于网络功能虚拟化和软件定义网络的技术，旨在将无线局域网网络划分为多个逻辑切片，为不同的用户或应用提供个性化的网络服务。通过WI-FI切片，网络管理员可以动态地划分Wi-Fi网络资源，根据需求将网络切片分配给特定的用户组或应用场景，实现资源的灵活配置和管理。每个切片可以配置不同的服务质量、带宽限制、安全策略等，以适应不同用户和应用的需求。图4是根据本发明实施例的在下行方向通过刚性管道传输数据流的方法的流程图，在一种实施方式中，如图4所示，在FTTR从设备与FTTR主设备以及光线路终端OLT组成的链路上配置刚性管道；识别数据流，在数据流包含特征标识的情况下，通过刚性管道传输数据流，包括：步骤S401，光线路终端OLT基于下行数据流，在光线路终端OLT和FTTR主设备之间配置刚性管道，以使下行数据流基于刚性管道流入FTTR主设备；步骤S402，FTTR主设备接收下行数据流，在FTTR主设备和FTTR从设备之间配置刚性管道，以使下行数据流基于刚性管道流入FTTR从设备。在一种示例性的实施方式中，对于下行方向，在光线路终端OLT和FTTR主设备间、FTTR主设备和FTTR从设备间，同一业务使用的GEMPORTID和上行方向一致，通过该GEMPORTID标识下行方向的刚性管道，进行优先调度传输。在FTTR从设备到WI-FI侧，根据不同GEMPORT的标识的不同业务流，分配不同DSCP值进行优先调度。以此实现在下行方向上从PON到WI-FI的端到端低时延优先调度传输。在一种实施方式中，FTTR主设备接收下行数据流，在FTTR主设备和FTTR从设备之间配置刚性管道，以使下行数据流基于刚性管道流入FTTR从设备之后，包括：FTTR从设备接收下行数据流，为下行数据流分配DSCP值，以使下行数据流优先发送至WI-FI站点。图5是根据本发明实施例的DBA协同调度方法的流程图，在一种实施方式中，如图5所示，该方法还包括使用DBA协同调度的方法，DBA协同调度的方法包括：FTTR从设备接收从WI-FI站点发送的上行数据流之前，步骤S501，FTTR从设备基于WI-FI站点发送的上行请求帧向FTTR主设备发送第一带宽请求；步骤S502，光线路终端OLT基于第二带宽请求为FTTR主设备分配上行带宽；步骤S503，FTTR主设备基于第一带宽请求为FTTR从设备分配上行带宽。图6是根据本发明实施例的DBA协同调度的方法的示例图，在一种示例性的实施方式中，如图6所示，为减少DBA等待时间，可采用一种示例性的DBA协同的方法。协同DBA触发检测条件为：FTTR从设备接收到STA的上行发送请求帧。感知后实现方法为：当FTTR从设备接收到STA上行发送请求后，FTTR从设备此时向FTTR主设备发送带宽请求，FTTR主设备收到FTTR从设备的带宽请求后向光线路终端OLT发送带宽请求，以此让FTTR从设备和FTTR主设备提前准备好上行带宽，很大程度上减少数据到达FTTR从设备和FTTR主设备后等待DBA分配带宽的时间，从而降低上行通路时延。在一种实施方式中，该方法还包括DBA子帧划分的方法，DBA子帧划分的方法包括：在一个DBA调度周期内，基于数据流的业务类型调节DBA子帧的数量和带宽配置。图7是根据本发明实施例的DBA子帧划分的方法的示例图，在一种示例性的实施方式中，如图7所示，每帧125us划分的子帧数可自由选择。例如，子帧1、子帧2、子帧3、子帧4，当然，图7仅是一种示例。也可以将每帧125us划分为子帧1、子帧2、子帧3、子帧4、……子帧N。具体的子帧数可以根据实际情况进行选择，在此不做赘述。且每个子帧的大小并不固定，均匀划分和不均匀划分均可。既可平均分配、保持相同，每个子帧起始start time间隔相同，分配相同的带宽；也可以根据实际需要自由调整，对不同子帧分配不同的带宽。当DBA周期内一帧划分子帧情况确定后，剩余三帧子帧划分情况与第一帧相同。首先，在此以2.5G非对称模式、一字节带宽颗粒度、每帧125us划分为四个子帧、分配100Mbps带宽为例，给出计算方法并分别针对均匀和不均匀子帧划分给出示例说明。在子帧内部，除burst开销以外，软件可根据需要配置对应的start time和stop time。若考虑均匀子帧划分，每帧125us可分配最大带宽为19440字节，19440/4=4860字节，实际考虑到burst开销等，第一子帧条目start time延后50字节，所以可以考虑以0、4860、9720、14580字节为每子帧划分的开始节点start time。100Mbps带宽，125us每帧分配带宽/≈1562字节，平均每子帧分配1562/4≈390字节。所以在均匀划分子帧的情况下，四个子帧均匀划分的可选之一为：子帧，49至439字节；子帧，4860至5250字节；子帧，9720至10110字节；子帧，14580至14969字节。若考虑不均匀子帧划分，125us每帧分配带宽依然为1562字节，每帧内部划分子帧可以自由分配。比如，考虑四个子帧的start time分别为50、10000、11000、15000字节，每个子帧分配的带宽分别为800、80、332、350字节。则按照上述分配，四个子帧不均匀划分可选之一为：子帧，50至849字节；子帧，10000至10079字节；子帧，11000至11331字节；子帧，15000至15349字节。其次，进一步地，在考虑100Mbps带宽，每帧进行四个子帧均匀划分的情况下，针对2.5G非对称、2.5G对称、10G非对称、10G对称四种模式，给出一种子帧划分实施例，具体结果如下表。在一种实施方式中，后续若需要50GPON，也可按照此方法进行带宽配置。图8是根据本发明实施例的基于数据流的业务类型调节DBA子帧的数量和带宽配置的方法的流程图，在一种实施方式中，如图8所示，在一个DBA调度周期内，基于数据流的业务类型调节DBA子帧的数量和带宽配置，包括：步骤S801，识别数据流的报文类型，以确定业务类型；步骤S802，基于业务类型确定时延和带宽；步骤S803，对时延和带宽进行分类和优先级排序；步骤S804，基于分类和优先级排序的结果调节DBA子帧的数量和带宽配置。在一种示例性的实施方式中，考虑到不同的业务需要的子帧划分方式不同，因此需要对不同的业务类型进行识别，考虑时延、流量等要求，给出合适的DBA子帧划分方法，以提高DBA分配方式的灵活性和自适应性。一方面，可以通过识别相关协议报文确定业务类型，如收到SIP报文，可识别为语音通话业务；如收到组播加入报文，可识别为IPTV视频业务等。另一方面，根据识别的业务类型判断所需的时延和带宽，不同业务直接进行时延和带宽的分类和优先级排序，如语音业务在时延方面要求比IPTV高，IPTV在带宽方面需求比语音大。根据得到的业务在时延和带宽方面的特点，调整DBA子帧划分方式，以适应业务在时延和带宽方面的要求。带宽分配后需要对不同业务的分配情况进行记录，方便新业务加入后再次进行统一调整。在一种实施方式中，该方法还包括使用短开窗的方法，短开窗设置的方法包括：在报文请求上报阶段，FTTR主设备基于FTTR从设备的响应时间、FTTR主设备和FTTR从设备间的随机时延、FTTR主设备和FTTR从设备间的环路时延设置短开窗，以使FTTR主设备在短开窗的时间段内识别FTTR从设备。图9是根据本发明实施例的使FTTR主设备在短开窗的时间段内识别FTTR从设备的方法的流程图，在一种实施方式中，如图9所示，在报文请求上报阶段，FTTR主设备基于FTTR从设备的响应时间、FTTR主设备和FTTR从设备间的随机时延、FTTR主设备和FTTR从设备间的环路时延设置短开窗，以使FTTR主设备在短开窗的时间段内识别FTTR从设备，包括：步骤S901，FTTR主设备基于FTTR从设备的响应时间、FTTR主设备和FTTR从设备间的随机时延、FTTR主设备和FTTR从设备间的环路时延计算预均衡时延，在预均衡时延之后发送空条目；步骤S902，FTTR主设备将预均衡时延和空条目占据的时延之和作为短开窗的时间段，以使FTTR主设备在短开窗的时间段内识别FTTR从设备。图10是根据本发明实施例的在预均衡时延之后发送空条目的方法的示例图，图11是根据本发明实施例的不使用预均衡时延方式，而是通过先分配空条目的方法的示例图，在一种示例性的实施方式中，如图10和图11所示，在SN上报阶段，为减少开窗对上行通路时延的影响，把静默开窗从原来的两帧250us减少到一帧内的某段时间，具体时间段可以根据实际情况进行设定。调整开窗大小需要综合考虑FTTR从设备的响应时间、随机时延和FTTR主设备、FTTR从设备间的最大环路时延间的关系。考虑FTTR主设备、FTTR从设备间光纤距离为xkm，最大随机时延为yus，图10中预均衡时延和图11中SN请求start time为zus，FTTR从设备的响应时间为351us，最大为36us。由于1km对应的光路传输时延是10us，则光路传输时延为10xus；考虑到FTTR从设备的响应时延一般存在2us的波动，则静默窗口为10x+2+yus；最大环路时延为FTTR从设备响应时间和光路传输时延之和10x+36us。考虑FTTR主设备、FTTR从设备间最大光纤距离为1km，随机时延0至11us，即x=1、y=11、z=12，则最大环路时延为36+10=46us，静默窗口10+2+11=23us。当FTTR主设备在t0时发送下行帧，由于环路时延和FTTR从设备响应时间的存在，tz=t0+46us，从tz开始开启23us的静默窗口。在图10中，通过Upstream_Overhead PLOAM消息预先指定预均衡时延12us，下行帧中SN请求start time为0即t0时刻，随后跟随一个空条目，即使FTTR从设备最小响应时间为34us，由于FTTR从设备响应时间和预均衡时延的存在，使得FTTR主设备收到FTTR从设备SN响应时间至少相对于t0偏移了46us，保证在静默窗口内；由于静默窗为23us，最晚收到SN响应也能保证在窗口内。综上所述，上述方式的目的是通过设置预均衡时延和空条目的目的是为了保证FTTR主设备向FTTR从设备发送指令后，FTTR主设备接收到FTTR从设备反馈信息的时间点在静默窗口Quiet window内。在一种实施方式中，在报文请求上报阶段，FTTR主设备基于FTTR从设备的响应时间、FTTR主设备和FTTR从设备间的随机时延、FTTR主设备和FTTR从设备间的环路时延设置短开窗，以使FTTR主设备在短开窗的时间段内识别FTTR从设备，包括：FTTR主设备将空条目占据的时延作为短开窗的时间段，以使FTTR主设备在短开窗的时间段内识别FTTR从设备。在一种示例性的实施方式中，如图11所示，FTTR主设备不使用预均衡时延方式，而是通过先分配空条目，在start time为12us即t0+12 us。同样地，FTTR主设备收到SN响应的时间最早至少为t0+46 us，在静默窗口内，最晚的情况也是一样。综上所述，通过先分配空条目的方式，可以保证FTTR主设备向FTTR从设备发送指令后，FTTR主设备接收到FTTR从设备反馈信息的时间点在静默窗口Quiet window内。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到根据上述实施例的方法可借助软件添加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端设备执行本发明各个实施例所述的方法。本发明的实施例还提供了一种计算机可读存储介质，该计算机可读存储介质中存储有计算机程序，其中，该计算机程序被设置为运行时执行上述任一项方法实施例中的步骤。在一个示例性实施例中，上述计算机可读存储介质可以包括但不限于：U盘、只读存储器、随机存取存储器、移动硬盘、磁碟或者光盘等各种可以存储计算机程序的介质。本发明的实施例还提供了一种电子装置，包括存储器和处理器，该存储器中存储有计算机程序，该处理器被设置为运行计算机程序以执行上述任一项方法实施例中的步骤。在一个示例性实施例中，上述电子装置还可以包括传输设备以及输入输出设备，其中，该传输设备和上述处理器连接，该输入输出设备和上述处理器连接。本实施例中的具体示例可以参考上述实施例及示例性实施方式中所描述的示例，本实施例在此不再赘述。显然，本领域的技术人员应该明白，上述的本发明的各模块或各步骤可以用通用的计算装置来实现，它们可以集中在单个的计算装置上，或者分布在多个计算装置所组成的网络上，它们可以用计算装置可执行的程序代码来实现，从而，可以将它们存储在存储装置中由计算装置来执行，并且在某些情况下，可以以不同于此处的顺序执行所示出或描述的步骤，或者将它们分别制作成各个集成电路模块，或者将它们中的多个模块或步骤制作成单个集成电路模块来实现。这样，本发明不限制于任何特定的硬件和软件结合。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
