标题title
一种证书的认证方法、存储介质及电视
摘要abst
本发明公开了一种证书的认证方法、存储介质及电视，所述方法应用电视，所述电视配置有条件接收模块，所述方法包括：电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块，以使得接收模块基于候选证书类型在其自身所支持的参考证书类型中选取目标证书类型；接收所述条件接收模块发送的目标证书类型，并确定所述目标证书类型对应的证书数据，以通过证书数据对条件接收模块配置的证书进行认证。本发明根据电视自身的候选证书类型，以及条件接收模块自身的参考证书类型确定条件接收模块发送的目标证书类型，以使得电视通过所述目标证书类型对应的证书数据对条件接收模块配置的证书进行认证，同时也实现了条件接收模块的兼容性。
权利要求书clms
1.一种证书的认证方法，其特征在于，所述方法应用电视，所述电视配置有条件接收模块，所述方法包括：电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块，以使得接收模块基于候选证书类型在其自身所支持的参考证书类型中选取目标证书类型；接收所述条件接收模块发送的目标证书类型，并确定所述目标证书类型对应的证书数据，以通过证书数据对条件接收模块配置的证书进行认证。2.根据权利要求1所述的证书的认证方法，其特征在于，所述电视获取其自身所支持的候选证书类型之前还包括：所述电视开机初始化时，通过所述电视中的供电模块向所述条件接收模块发送电能，以使所述条件接收模块进行上电启动。3.根据权利要求1所述的证书的认证方法，其特征在于，所述电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块具体包括：电视获取其自身所支持的候选证书类型，并将候选证书类型以二进制数据形式发送给条件接收模块。4.根据权利要求3所述的证书的认证方法，其特征在于，所述二进制数据的第一位表示电视是否支持第一代证书，所述二进制数据的第二位表示电视是否支持第二代证书；根据所述二进制数据的第一位和第二位确定所述电视所支持的候选证书类型。5.根据权利要求1所述的证书的认证方法，其特征在于，所述目标证书类型的选取过程具体包括：如果所述候选证书类型包括第一代证书和第二代证书，判断所述参考证书类型是否包括所述第一代证书和/或所述第二代证书；如果所述参考证书类型包括所述第一代证书和所述第二代证书，则所述目标证书类型为所述第二代证书。6.根据权利要求5所述的证书的认证方法，其特征在于，所述目标证书类型的选取过程还包括：如果所述参考证书类型仅包括所述第一代证书，则所述目标证书类型为所述第一代证书；如果所述参考证书类型仅包括所述第二代证书，则所述目标证书类型为所述第二代证书。7.根据权利要求1所述的证书的认证方法，其特征在于，所述目标证书类型的选取过程具体包括：如果所述候选证书类型仅包括第一代证书，判断所述参考证书类型是否包括所述第一代证书；如果所述参考证书类型包括所述第一代证书，则所述目标证书类型为所述第一代证书。8.根据权利要求1所述的证书的认证方法，其特征在于，所述目标证书类型的选取过程具体包括：如果所述候选证书类型仅包括第二代证书，判断所述参考证书类型是否包括所述第二代证书；如果所述参考证书类型包括所述第二代证书，则所述目标证书类型为所述第二代证书。9.一种计算机可读存储介质，其特征在于，所述计算机可读存储介质存储有一个或者多个程序，所述一个或者多个程序可被一个或者多个处理器执行，以实现如权利要求1～8任意一项所述的证书的认证方法中的步骤。10.一种电视，其特征在于，包括：处理器和存储器及通信总线；所述存储器上存储有可被所述处理器执行的计算机可读程序；所述通信总线实现处理器和存储器之间的连接通信；所述处理器执行所述计算机可读程序时实现如权利要求1～8任意一项所述的证书的认证方法中的步骤。
说明书desc
技术领域本发明涉及电视技术领域，具体涉及一种证书的认证方法、存储介质及电视。背景技术随着数字电视标准的快速发展，特别是UHD节目的快速推广，对电视系统的安全要求更高，从而推进了CI Plus证书的快速发展而产生CIPlus ECP证书。因为现有的CI Plus证书签名算法复杂度较低，容易破解导致非法进行授权观看需要保护的节目；为了加强证书自身的安全性，CI Plus组织推出了第二代CIPlus证书，证书的签名算法更复杂安全性更高。使用原有的证书链的条件接收模块这里称为CI Plus CAM，支持第二代CIPlus证书的CAM称为CIPlus ECP CAM。但是针对同一TV系统，还不能识别插入的是CIPlus CAM还是CIPlus ECPCAM，从而也不能选择不同的证书去进行授权认证。因此，现有技术有待于改进和发展。发明内容本发明要解决的技术问题在于，针对现有技术的不足，提供一种证书的认证方法、存储介质及电视，以解决现有技术中不能识别插入的是CIPlus CAM还是CIPlus ECP CAM，从而也不能选择不同的证书去进行授权认证的问题。为了达到上述目的，本发明采取了以下技术方案：第一方面，本发明实施例提供了一种证书的认证方法，所述方法应用电视，所述电视配置有条件接收模块，所述方法包括：电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块，以使得接收模块基于候选证书类型在其自身所支持的参考证书类型中选取目标证书类型；接收所述条件接收模块发送的目标证书类型，并确定所述目标证书类型对应的证书数据，以通过证书数据对条件接收模块配置的证书进行认证。作为进一步的改进技术方案，所述电视获取其自身所支持的候选证书类型之前还包括：所述电视开机初始化时，通过所述电视中的供电模块向所述条件接收模块发送电能，以使所述条件接收模块进行上电启动。作为进一步的改进技术方案，所述电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块具体包括：电视获取其自身所支持的候选证书类型，并将候选证书类型以二进制数据形式发送给条件接收模块。作为进一步的改进技术方案，所述二进制数据的第一位表示电视是否支持第一代证书，所述二进制数据的第二位表示电视是否支持第二代证书；根据所述二进制数据的第一位和第二位确定所述电视所支持的候选证书类型。作为进一步的改进技术方案，所述目标证书类型的选取过程具体包括：如果所述候选证书类型包括第一代证书和第二代证书，判断所述参考证书类型是否包括所述第一代证书和/或所述第二代证书；如果所述参考证书类型包括所述第一代证书和所述第二代证书，则所述目标证书类型为所述第二代证书。作为进一步的改进技术方案，所述目标证书类型的选取过程还包括：如果所述参考证书类型仅包括所述第一代证书，则所述目标证书类型为所述第一代证书；如果所述参考证书类型仅包括所述第二代证书，则所述目标证书类型为所述第二代证书。作为进一步的改进技术方案，所述目标证书类型的选取过程具体包括：如果所述候选证书类型仅包括第一代证书，判断所述参考证书类型是否包括所述第一代证书；如果所述参考证书类型包括所述第一代证书，则所述目标证书类型为所述第一代证书。作为进一步的改进技术方案，所述目标证书类型的选取过程具体包括：如果所述候选证书类型仅包括第二代证书，判断所述参考证书类型是否包括所述第二代证书；如果所述参考证书类型包括所述第二代证书，则所述目标证书类型为所述第二代证书。第二方面，本发明实施例提供了一种计算机可读存储介质，所述计算机可读存储介质存储有一个或者多个程序，所述一个或者多个程序可被一个或者多个处理器执行，以实现如上任意一项所述的证书的认证方法中的步骤。第三方面，本发明实施例提供了一种电视，其包括：处理器和存储器及通信总线；所述存储器上存储有可被所述处理器执行的计算机可读程序；所述通信总线实现处理器和存储器之间的连接通信；所述处理器执行所述计算机可读程序时实现如上任意一项所述的证书的认证方法中的步骤。有益效果：与现有技术相比，本发明提供了一种证书的认证方法、存储介质及电视，所述方法应用电视，所述电视配置有条件接收模块，所述方法包括：电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块，以使得接收模块基于候选证书类型在其自身所支持的参考证书类型中选取目标证书类型；接收所述条件接收模块发送的目标证书类型，并确定所述目标证书类型对应的证书数据，以通过证书数据对条件接收模块配置的证书进行认证。本发明根据电视自身的候选证书类型，以及条件接收模块自身的参考证书类型确定条件接收模块发送的目标证书类型，以使得电视通过所述目标证书类型对应的证书数据对条件接收模块配置的证书进行认证，同时也实现了条件接收模块的兼容性。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。其中：图1为本发明提供的证书的认证方法的流程图。图2为本发明提供的电视的结构原理图。具体实施方式本发明提供一种证书的认证方法、存储介质及电视，为使本发明的目的、技术方案及效果更加清楚、明确，以下参照附图并举实施例对本发明进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。本技术领域技术人员可以理解，除非特意声明，这里使用的单数形式“一”、“一个”、“所述”和“该”也可包括复数形式。应该进一步理解的是，本发明的说明书中使用的措辞“包括”是指存在所述特征、整数、步骤、操作、元件和/或组件，但是并不排除存在或添加一个或多个其他特征、整数、步骤、操作、元件、组件和/或它们的组。应该理解，当我们称元件被“连接”或“耦接”到另一元件时，它可以直接连接或耦接到其他元件，或者也可以存在中间元件。此外，这里使用的“连接”或“耦接”可以包括无线连接或无线耦接。这里使用的措辞“和/或”包括一个或更多个相关联的列出项的全部或任一单元和全部组合。本技术领域技术人员可以理解，除非另外定义，这里使用的所有术语，具有与本发明所属领域中的普通技术人员的一般理解相同的意义。还应该理解的是，诸如通用字典中定义的那些术语，应该被理解为具有与现有技术的上下文中的意义一致的意义，并且除非像这里一样被特定定义，否则不会用理想化或过于正式的含义来解释。发明人经过研究发现，随着数字电视标准的快速发展，特别是UHD节目的快速推广，对电视系统的安全要求更高，从而推进了CI Plus证书的快速发展而产生CIPlus ECP证书。因为现有的CI Plus证书签名算法复杂度较低，容易破解导致非法进行授权观看需要保护的节目；为了加强证书自身的安全性，CI Plus组织推出了第二代CIPlus证书，证书的签名算法更复杂安全性更高。使用原有的证书链的条件接收模块这里称为CI Plus CAM，支持第二代CIPlus证书的CAM称为CIPlus ECP CAM。但是针对同一TV系统，还不能识别插入的是CIPlus CAM还是CIPlus ECPCAM，从而也不能选择不同的证书去进行授权认证。为了解决上述问题，在本申请实施例中，电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块，以使得接收模块基于候选证书类型在其自身所支持的参考证书类型中选取目标证书类型；接收所述条件接收模块发送的目标证书类型，并确定所述目标证书类型对应的证书数据，以通过证书数据对条件接收模块配置的证书进行认证。本发明根据电视自身的候选证书类型，以及条件接收模块自身的参考证书类型确定条件接收模块发送的目标证书类型，以使得电视通过所述目标证书类型对应的证书数据对条件接收模块配置的证书进行认证，同时也实现了条件接收模块。下面结合附图，通过对实施例的描述，对发明内容作进一步说明。本实施例提供了一种证书的认证方法，所述方法应用电视，所述电视配置有条件接收模块，如图1所示，所述方法包括：S100、电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块，以使得接收模块基于候选证书类型在其自身所支持的参考证书类型中选取目标证书类型。本实施例中，所述电视可以包含第一代证书和第二代证书，也可以仅包含第一代证书或者第二代证书，因此，所述候选证书类型可以是第一代证书和第二代证书，也可以是第一代证书，还可以是第二代证书。本实施例中，条件接收模块向电视发送安全认证请求，该电视在接收到该安全认证请求之后，电视获取其自身所支持的候选证书类型，然后将该候选证书类型发送给条件接收模块。在实际应用中，条件接收模块在与电视开始授权认证时，条件接收模块会先请求打开内容控制资源，然后电视会根据当前证书的存储状态，回复条件接收模块当前电视已打开内容控制资源可以进行通讯交互，并且告知条件接收模块当前支持的候选证书类型。进一步地，本实施例中，电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块具体包括：电视获取其自身所支持的候选证书类型，并将候选证书类型以二进制数据形式发送给条件接收模块。具体来说，所述二进制数据的第一位表示电视是否支持第一代证书，所述二进制数据的第二位表示电视是否支持第二代证书。比如，以一个字节的二进制数据11000000为例，该二进制数据的第一位为1，就表示电视支持第一代证书，相应的，如果该二进制数据第一位为0，就表示电视不支持第一代证书；进一步地，该二进制数据的第二位为1则表示电视支持第二代证书，相应的，如果该二进制数据第二位为0，则表示电视不支持第二代证书。由此可见，本发明实施例可以根据所述二进制数据的第一位和第二位确定所述电视所支持的候选证书类型。进一步地，本发明实施例的一个实现方式中，所述目标证书类型的选取过程具体包括：如果所述候选证书类型包括第一代证书和第二代证书，判断所述参考证书类型是否包括所述第一代证书和/或所述第二代证书；如果所述参考证书类型包括所述第一代证书和所述第二代证书，则所述目标证书类型为所述第二代证书。具体来说，如果电视既支持第一代证书，又支持第二代证书，那么可以判断条件接收模块是否也支持第一代和第二代证书，如果条件判断模块均支持，则所述第二代证书类型为第二代证书，也就是说，条件判断模块采用所述第二代证书与电视进行交互认证。进一步地，如果所述参考证书类型仅包括所述第一代证书，则所述目标证书类型为所述第一代证书；如果所述参考证书类型仅包括所述第二代证书，则所述目标证书类型为所述第二代证书。具体地，如果所述条件接收模块仅是支持所述第一代证书，则所述目标证书类型为所述第一代证书。也就是说，条件判断模块采用所述第一代证书与电视进行交互认证；同理，如果所述条件接收模块仅是支持所述第二代证书，则所述目标证书类型为所述第二代证书。也就是说，条件判断模块采用所述第二代证书与电视进行交互认证。进一步地，本发明实施例的一个实现方式中，进一步地，本发明实施例的一个实现方式中，所述目标证书类型的选取过程具体包括：如果所述候选证书类型仅包括第一代证书，判断所述参考证书类型是否包括所述第一代证书；如果所述参考证书类型包括所述第一代证书，则所述目标证书类型为所述第一代证书。本实施例中，如果候选证书类型仅为第一代证书时，可以判断所述条件接收模块是否支持所述第一代证书，如果所述条件接收模块支持所述第一代证书，则所述目标证书类型为所述第一代证书。因此，电视与条件接收模块通过所述第一代证书来进行交互认证。可以理解的，如果电视和条件判断模块都没有可以相匹配的证书时，那么将无法进行接下来的交互认证操作。进一步地，本发明实施例的一个实现方式中，所述目标证书类型的选取过程具体包括：如果所述候选证书类型仅包括第二代证书，判断所述参考证书类型是否包括所述第二代证书；如果所述参考证书类型包括所述第二代证书，则所述目标证书类型为所述第二代证书。本实施例中，如果所述候选证书类型为第二代证书时，可以判断所述条件接收模块是否支持所述第二代证书，如果所述条件接收模块支持所述第二代证书，则所述目标证书类型为所述第二代证书。因此，电视与条件接收模块通过所述第二代证书来进行交互认证。可以理解的，如果电视和条件判断模块都没有可以相匹配的证书时，那么将无法进行接下来的交互认证操作。S200、接收所述条件接收模块发送的目标证书类型，并确定所述目标证书类型对应的证书数据，以通过证书数据对条件接收模块配置的证书进行认证。本实施例中，当确定所述目标证书类型后，通过所述目标证书类型对应的证书数据与条件接收模块配置的证书进行交互认证。进一步地，本实施例的一个实现方式中，所述电视获取其自身所支持的候选证书类型之前还包括：所述电视开机初始化时，通过所述电视中的供电模块向所述条件接收模块发送电能，以使所述条件接收模块进行上电启动。电视开机初始化时，通过所述电视中的供电模块向所述条件接收模块发送电能，以使所述条件接收模块进行上电启动。可以理解的是，条件接收模块从电视主机端中的供电模块获取电能，进行上电启动之后，所述条件接收模块可以获取电视主机端的证书类型，以便接下来实现证书的确定以及认证过程。接下来，当条件接收模块上电启动之后，该条件接收模块可以向电视主机发送安全认证请求，该电视主机在接收到该安全认证请求之后，向该条件接收模块发送响应消息。进一步，当电视主机端中的供电模块断电时，从所述条件接收模块获取电能，也就是说，当电视主机端的供电模块发生断电时，该条件接收模块可以无间隙切换成自由的供电模块给Flash Memory进行供电，从而避免了因为条件接收模块掉电对FlashMemory造成损坏，并且不需要条件接收模块额外划分备份扇区读数据进行保护，节省了Flash存储空间，提高条件接收模块Flash Memory利用率。综上所述，与现有技术相比，本发明实施例具有以下优点：本发明公开了一种证书的认证方法，所述方法应用电视，所述电视配置有条件接收模块，所述方法包括：电视获取其自身所支持的候选证书类型，并将候选证书类型发送给条件接收模块，以使得接收模块基于候选证书类型在其自身所支持的参考证书类型中选取目标证书类型；接收所述条件接收模块发送的目标证书类型，并确定所述目标证书类型对应的证书数据，以通过证书数据对条件接收模块配置的证书进行认证。本发明根据电视自身的候选证书类型，以及条件接收模块自身的参考证书类型确定条件接收模块发送的目标证书类型，以使得电视通过所述目标证书类型对应的证书数据对条件接收模块配置的证书进行认证，同时也实现了条件接收模块的兼容性。基于上述证书的认证方法，本发明还提供了一种计算机可读存储介质，所述计算机可读存储介质存储有一个或者多个程序，所述一个或者多个程序可被一个或者多个处理器执行，以实现上述实施例所述的证书的认证方法中的步骤。基于上述证书的认证方法，本发明还提供了一种电视，如图2所示，其包括至少一个处理器20；显示屏21；以及存储器22，还可以包括通信接口23和总线24。其中，处理器20、显示屏21、存储器22和通信接口23可以通过总线24完成相互间的通信。显示屏21设置为显示初始设置模式中预设的用户引导界面。通信接口23可以传输信息。处理器20可以调用存储器22中的逻辑指令，以执行上述实施例中的方法。此外，上述的存储器22中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。存储器22作为一种计算机可读存储介质，可设置为存储软件程序、计算机可执行程序，如本公开实施例中的方法对应的程序指令或模块。处理器20通过运行存储在存储器22中的软件程序、指令或模块，从而执行功能应用以及数据处理，即实现上述实施例中的方法。存储器22可包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序；存储数据区可存储根据终端设备的使用所创建的数据等。此外，存储器22可以包括高速随机存取存储器，还可以包括非易失性存储器。例如，U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等多种可以存储程序代码的介质，也可以是暂态存储介质。此外，上述存储介质以及电视中的多条指令处理器加载并执行的具体过程在上述方法中已经详细说明，在这里就不再一一陈述。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
