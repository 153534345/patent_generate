标题title
实时位置共享方法、装置、设备及存储介质
摘要abst
本公开提供了一种实时位置共享方法、装置、设备及存储介质，涉及通信领域，该方法由第一终端执行，在第一终端和第二终端的通话过程中，接收第二终端发送的位置共享请求，第二终端是向第一终端发起通话的终端；根据定位请求向短信系统下发短信发送通知；接收第一终端发送的第一定位信息，第一定位信息包括卫星定位信息和网络定位信息；根据第一终端和第二终端的通话音频确定音频定位信息；根据第一定位信息和音频定位信息，确定第一共享定位信息；向第二终端发送第一共享定位信息。该方法可以使第一共享定位信息更加准确，精度更高。
权利要求书clms
1.一种实时位置共享方法，其特征在于，所述方法包括：在第一终端和第二终端的通话过程中，接收所述第二终端发送的位置共享请求，所述第二终端是向所述第一终端发起通话的终端；根据所述定位请求向短信系统下发短信发送通知，所述短信下发通知用于触发短信系统向所述第一终端发送位置共享短信；接收所述第一终端发送的第一定位信息，所述第一定位信息包括卫星定位信息和网络定位信息；根据所述第一终端和所述第二终端的通话音频确定音频定位信息；根据所述第一定位信息和所述音频定位信息，确定第一共享定位信息；向所述第二终端发送所述第一共享定位信息。2.根据权利要求1所述的方法，其特征在于，所述根据所述第一定位信息和所述音频定位信息，确定第一共享定位信息，包括：根据所述音频定位信息确定所述第一终端所处的环境类型，所述环境类型包括室内环境和室外环境；根据所述环境类型和所述第一定位信息，确定所述第一共享定位信息。3.根据权利要求2所述的方法，其特征在于，所述根据所述环境类型和所述第一定位信息，确定所述第一共享定位信息，包括：在所述环境类型是所述室内环境的情况下，优先将所述网络定位信息作为所述第一共享定位信息；在所述环境类型是所述室外环境的情况下，优先将所述卫星定位信息作为所述第一共享定位信息。4.根据权利要求2所述的方法，其特征在于，所述方法还包括：获取所述第一终端的网络信号强度和卫星信号强度；根据所述网络信号强度和所述卫星信号强度，确定所述环境类型。5.根据权利要求1至4任一项所述的方法，其特征在于，所述根据所述第一终端和所述第二终端的通话音频确定音频定位信息，包括：将所述第一终端和所述第二终端的通话音频转换为通话文本；提取所述通话文本中的参考物以及所述参考物对应的距离信息；根据所述参考物和所述距离信息，确定所述音频定位信息。6.根据权利要求5所述的方法，其特征在于，所述参考物包括至少两个；所述根据所述参考物和所述距离信息，确定所述音频定位信息，包括：在地图上确定所述参考物的位置；根据所述距离信息和所述参考物的位置在地图上确定所述参考物的覆盖范围；根据覆盖范围的重合区域，确定所述音频定位信息。7.根据权利要求1至4任一项所述的方法，其特征在于，所述方法还包括：在未获取到所述通话音频的情况下，在所述第一定位信息中确定第一共享定位信息。8.一种实时位置共享装置，其特征在于，所述装置包括：接收模块，用于在第一终端和第二终端的通话过程中，接收所述第二终端发送的位置共享请求，所述第二终端是向所述第一终端发起通话的终端；发送模块，用于根据所述定位请求向短信系统下发短信发送通知，所述短信下发通知用于触发短信系统向所述第一终端发送位置共享短信；所述接收模块，还用于接收所述第一终端发送的第一定位信息，所述第一定位信息包括卫星定位信息和网络定位信息；定位模块，用于根据所述第一终端和所述第二终端的通话音频确定音频定位信息；所述定位模块，还用于根据所述第一定位信息和所述音频定位信息，确定第一共享定位信息；所述发送模块，还用于向所述第二终端发送所述第一共享定位信息。9.一种电子设备，其特征在于，包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-7中任一项所述的方法。10.一种存储有计算机指令的计算机可读存储介质，其特征在于，所述计算机指令用于使计算机执行根据权利要求1-7中任一项所述的方法。
说明书desc
技术领域本公开涉及通信领域，尤其涉及一种实时位置共享方法、装置、设备及存储介质。背景技术用户在紧急情况下，如交通事故，遇险，急症等突发情况下，需要拨打紧急呼叫，寻求救援。救援人员需要尽快获取到用户的位置信息，以尽快对用户开展救援。在相关技术中，在用户和救援人员通话的过程中，用户需要退出当前的通话界面，安装并启动第三方通信应用来进行定位共享，操作繁琐，影响救援。而且在实际场景中，用户位置可能会因为外界因素发生变化，此时就需要用户再次向救援人员同步位置，这会严重影响救援进程。因此，相关技术没有提供一种在通话状态下可以快速确定用户精确定位的方法。发明内容本公开提供了一种实时位置共享方法、装置、设备及存储介质，以至少解决现有技术中存在的以上技术问题。根据本公开的第一方面，提供了一种实时位置共享方法。该方法包括：在第一终端和第二终端的通话过程中，接收所述第二终端发送的位置共享请求，所述第二终端是向所述第一终端发起通话的终端；根据所述位置共享请求向短信系统下发短信发送通知，所述短信下发通知用于触发短信系统向所述第一终端发送位置共享短信；接收所述第一终端发送的第一定位信息，所述第一定位信息包括卫星定位信息和网络定位信息；根据所述第一终端和所述第二终端的通话音频确定音频定位信息；根据所述第一定位信息和所述音频定位信息，确定第一共享定位信息；向所述第二终端发送所述第一共享定位信息。在一可实施方式中，根据所述音频定位信息确定所述第一终端所处的环境类型，所述环境类型包括室内环境和室外环境；根据所述环境类型和所述第一定位信息，确定所述第一共享定位信息。在一可实施方式中，在所述环境类型是所述室内环境的情况下，优先将所述网络定位信息作为所述第一共享定位信息；在所述环境类型是所述室外环境的情况下，优先将所述卫星定位信息作为所述第一共享定位信息。在一可实施方式中，获取所述第一终端的网络信号强度和卫星信号强度；根据所述网络信号强度和所述卫星信号强度，确定所述环境类型。在一可实施方式中，将所述第一终端和所述第二终端的通话音频转换为通话文本；提取所述通话文本中的参考物以及所述参考物对应的距离信息；根据所述参考物和所述距离信息，确定所述音频定位信息。在一可实施方式中，所述参考物包括至少两个；在地图上确定所述参考物的位置；根据所述距离信息和所述参考物的位置在地图上确定所述参考物的覆盖范围；将所述覆盖范围的重合区域，确定所述音频定位信息。在一可实施方式中，在未获取到所述通话音频的情况下，在所述第一定位信息中确定所述第一共享定位信息。根据本公开的第二方面，提供了一种实时位置共享装置，该装置包括：接收模块，用于在第一终端和第二终端的通话过程中，接收所述第二终端发送的位置共享请求，所述第二终端是向所述第一终端发起通话的终端；发送模块，用于根据所述位置共享请求向短信系统下发短信发送通知，所述短信下发通知用于触发短信系统向所述第一终端发送位置共享短信；所述接收模块，还用于接收所述第一终端发送的第一定位信息，所述第一定位信息包括卫星定位信息和网络定位信息；定位模块，用于根据所述第一终端和所述第二终端的通话音频确定音频定位信息；所述定位模块，还用于根据所述第一定位信息和所述音频定位信息，确定第一共享定位信息；所述发送模块，还用于向所述第二终端发送所述第一共享定位信息。在一可实施方式中，所述定位模块，还用于根据所述音频定位信息确定所述第一终端所处的环境类型，所述环境类型包括室内环境和室外环境；根据所述环境类型和所述第一定位信息，确定所述第一共享定位信息。在一可实施方式中，所述定位模块，还用于在所述环境类型是所述室内环境的情况下，优先将所述网络定位信息作为所述第一共享定位信息；在所述环境类型是所述室外环境的情况下，优先将所述卫星定位信息作为所述第一共享定位信息。在一可实施方式中，所述定位模块，还用于获取所述第一终端的网络信号强度和卫星信号强度；根据所述网络信号强度和所述卫星信号强度，确定所述环境类型。在一可实施方式中，所述定位模块，还用于将所述第一终端和所述第二终端的通话音频转换为通话文本；提取所述通话文本中的参考物以及所述参考物对应的距离信息；根据所述参考物和所述距离信息，确定所述音频定位信息。在一可实施方式中，所述参考物包括至少两个；所述定位模块，还用于在地图上确定所述参考物的位置；根据所述距离信息和所述参考物的位置在地图上确定所述参考物的覆盖范围；将所述覆盖范围的重合区域，确定所述音频定位信息。在一可实施方式中，所述定位模块，还用于在未获取到所述通话音频的情况下，在所述第一定位信息中确定所述第一共享定位信息。根据本公开的第三方面，提供了一种电子设备，包括：至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行本公开所述的方法。根据本公开的第四方面，提供了一种存储有计算机指令的计算机可读存储介质，所述计算机指令用于使所述计算机执行本公开所述的方法。本公开的实时位置共享方法、装置、设备及存储介质，可以在获取第一终端的定位时，综合第一终端的音频定位信息、卫星定位信息和网络定位信息来得到第一共享定位信息，使得第一共享定位信息更加准确，精度更高。而且，还在通话界面上提供一种快速获取对方精准位置信息的方法，该方法不需要通话双方安装地图应用，就可以获取到对方实时的精确的位置信息。而且，该方法不需要用户退出通话界面就可以实现。另一方面，相较于采用通讯应用通话的技术而言，通讯应用通话需双方同时安装通讯应用，并互相添加好友，难以满足急救、应急救援等场景要求，而且基于互联网语音通话容易受网络信号的影响，通话质量差，容易被打断。但本公开仅需拨打电话即可，不需要通话双方互相添加好友就可实现，步骤较少，而且电话通话的稳定性高于互联网语音通话，不易被打断。应当理解，本部分所描述的内容并非旨在标识本公开的实施例的关键或重要特征，也不用于限制本公开的范围。本公开的其它特征将通过以下的说明书而变得容易理解。附图说明通过参考附图阅读下文的详细描述，本公开示例性实施方式的上述以及其他目的、特征和优点将变得易于理解。在附图中，以示例性而非限制性的方式示出了本公开的若干实施方式，其中：在附图中，相同或对应的标号表示相同或对应的部分。图1示出了本公开实施例提供的一种实时位置共享方法的实施场景示意图；图2示出了本公开实施例提供的一种实时位置共享方法的实现流程示意图一；图3示出了本公开实施例提供的一种实时位置共享方法的实现流程示意图二；图4示出了本公开实施例提供的一种实时位置共享方法的界面示意图一；图5a示出了本公开实施例提供的一种实时位置共享方法的界面示意图二；图5b示出了本公开实施例提供的一种实时位置共享方法的界面示意图三；图6示出了本公开实施例提供的一种实时位置共享方法的界面示意图四；图7示出了本公开实施例提供的一种实时位置共享方法的流程示意图三；图8示出了本公开实施例提供的一种实时位置共享方法的界面示意图五；图9示出了本公开实施例提供的一种实时位置共享方法的界面示意图六；图10示出了本公开实施例提供的一种实时位置共享方法的界面示意图七；图11示出了本公开实施例提供的一种实时位置共享方法的界面示意图八；图12示出了本公开实施例提供的一种实时位置共享方法的实现流程示意图四；图13示出了本公开实施例提供的一种实时位置共享装置的实现模型示意图；图14示出了本公开实施例一种电子设备的组成结构示意图。具体实施方式为使本公开的目的、特征、优点能够更加的明显和易懂，下面将结合本公开实施例中的附图，对本公开实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本公开一部分实施例，而非全部实施例。基于本公开中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本公开保护的范围。本公开可应用的场景包括但不限于如下所示：1、在救援场景中，例如，救护车急救、消防救援、被困人员救援等。救援人员在前往待救人员所在地的途中，救援人员需要通过电话确认待救人员的具体位置，在救援人员和待救人员的通话过程中，救援人员可使用本公开的实时位置共享方法，即使待救人员没有安装地图应用，也可以快速获取到待救人员的具体位置，方便救援人员开展救援，保证待救人员的人身安全。2、在日常场景中，两名用户需要在线下见面，用户A和用户B在通话过程中，用户A可使用本公开的实时位置共享方法快速获取到用户B的具体位置，同时用户B也可以获取到用户A的具体位置，无需双方的终端安装有地图应用，方便双方见面。因此，本公开的实时位置共享方法、装置、设备及存储介质不仅不需要通话双方安装地图应用，就可以获取到对方实时的精确的位置信息。另一方面，相较于采用通讯应用通话的技术而言，本公开仅需拨打电话即可，不需要通话双方互相添加好友就可实现，步骤较少。电话通话的稳定性高于互联网语音通话，不易被打断。综上，本公开确保通话双方能实现高可靠、高质量的音视频通信和精确的位置共享，使得及时救援有重要意义。本公开实施例提供的一种实时位置共享方法可应用于图1所示的环境示意图中。其中，该方法涉及的执行主体包括第一终端101、第二终端102、电话系统103、定位系统104和短信系统105。第二终端102通过电话系统103与第一终端101发起通话。第一终端101接通由第二终端102发起的通话，第二终端102和第一终端101通过电话系统103建立通话。在通话过程中，第二终端102接收到第一共享操作，向定位系统104发送位置共享请求。定位系统104接收到位置共享请求后，向短信系统105发送短信下发请求。短信系统105根据短信下发请求向第二终端102下发位置共享短信，位置共享短信携带有位置共享控件。第二终端102接收到对位置共享控件的第一共享操作后，向定位系统104上报第二终端102的位置信息。定位系统104将第二终端102的位置信息共享给第一终端101，此外，定位系统104还会将第一终端101的位置信息共享给第二终端102。其中，第一终端101可以但不限于是各种台式计算机、笔记本电脑、智能手机、平板电脑、物联网设备和便携式可穿戴设备。类似的，第二终端102可以但不限于是各种台式计算机、笔记本电脑、智能手机、平板电脑、物联网设备和便携式可穿戴设备。图2示出了本公开实施例提供的一种实时位置共享方法的实现流程示意图一。该方法由定位系统执行，该方法包括：步骤S201：在第一终端和第二终端的通话过程中，接收第二终端发送的位置共享请求，第二终端是向第一终端发起通话的终端。在一可实施方式中，第一终端和第二终端的通话可以是电话通话，可以是网络通话。在一可实施方式中，位置共享请求用于请求定位系统向第二终端提供第一终端的位置信息。步骤S202：根据位置共享请求向短信系统下发短信发送通知，短信下发通知用于触发短信系统向第一终端发送位置共享短信。在一些实施例中，位置共享短信用于请求第一终端向定位系统上传第一终端的第一定位信息。在一些实施例中，位置共享短信还包括位置共享链接，位置共享链接用于第一终端在网页打开第一地图。步骤S203：接收第一终端发送的第一定位信息，第一定位信息包括卫星定位信息和网络定位信息。在一可实施方式中，卫星定位信息包括GPS定位信息。在一可实施方式中，网络定位信息包括WiFi定位信息和基站定位信息。其中，WiFi定位信息是基于第一终端连接的WiFi确定的，基站定位信息是基于第一终端连接的基站确定的。步骤S204：根据第一终端和第二终端的通话音频确定音频定位信息。在一可实施方式中，将通话音频转换为通话文本；提取通话文本中的参考物以及参考物对应的距离信息；根据参考物和距离信息，确定音频定位信息。在一些实施例中，通话音频指第一终端和第二终端的实时音频。在一些其他实施例中，通话音频也可以是第一终端的实时音频。可选的，通过语音识别模型，对通话音频做语音转文本处理，得到语音文本。可选的，通过语义识别模型，提取通话文本中的参考物以及参考物对应的距离信息。语义识别模型用于识别通话文本中的参考物，可选的，参考物包括但不限于建筑物、景点、自然景观、地标景观中的至少一种。在一些实施例中，通话音频可明确地表示出参考物的名称，此时，定位系统可直接根据参考物的名称确定定位。示例性的，通过语义识别模型，提取通话文本中的参考物；若检测到参考物位于数据库中，从数据库中提取参考物的位置信息，并将参考物的位置信息作为音频定位信息。其中，数据库存储有参考物与参考物的位置信息之间的对应关系。在一个可选的示例中，通话文本是“我在XX游乐园的东门”，通过语义识别模型识别出参考物是“XX游乐园的东门”，通过数据库查询得到“XX游乐园的东门”的位置信息，并将该位置信息确定为音频定位信息。在一些实施例中，参考物包括至少两个，在地图上确定参考物的位置；根据距离信息和参考物的位置在地图上确定参考物的覆盖范围；根据覆盖范围的重合区域，确定音频定位信息。在一些实施例中，上述地图是基于卫星定位信息和/或网络定位信息得到的。示例性的，在获取到卫星定位信息的情况下，以卫星定位信息对应的位置为圆心，以预设长度为半径做圆，得到上述地图。示例性的，在获取到网络定位信息的情况下，以网络定位信息对应的位置为圆心，以预设长度为半径做圆，得到上述地图。示例性的，在获取到卫星定位信息和网络定位信息的情况下，以卫星定位信息对应的位置为圆心，以预设长度为半径做圆，得到第一地图；以网络定位信息对应的位置为圆心，以预设长度为半径做圆，得到第二地图；取第一地图和第二地图的并集，得到上述地图。在一些其他实施方式中，上述地图也可以是基于第一终端的历史位置得到的。可选的，该历史位置是根据第一终端在历史时刻的卫星定位信息或网络定位信息得到的。示例性的，在某一历史时刻，第一终端与基站A建立过通信连接，基站A确定第一终端位于位置B，此时，该位置B就是上述的历史位置，以位置B为圆心，以预设长度为半径得到的圆即为上述地图的范围。在一些实施例中，参考物包括建筑物的名称。示例性的，通过语义识别模型得到的参考物是“XX大厦”，则在地图中确定“XX大厦”的位置。在一些实施例中，参考物包括建筑物的特征，该特征包括但不限于高度、颜色、占地面积中的至少一种。示例性的，通过语义识别模型得到的参考物是“白色的大楼”，则在地图中确定颜色是白色的建筑物作为参考物，并获取其在地图中的位置。示例性的，通过语义识别模型得到的参考物是“最高的塔”，则在地图中确定最高的塔作为参考物，并获取其在地图中的位置。在一些实施例中，地图中可能会存在多个符合条件的参考物。若地图中参考物的数量大于预设数量，则认为音频定位信息无效。这里的预设数量可根据实际情况预先设置。在实际情况中，通话音频对参考物的描述不一定准确。例如，通过语义识别模型得到的参考物是“比较高的楼”，在此种情况下，则认为是无法获取到音频定位信息。在一些可选实施方式中，距离信息包括第一终端距参考物的距离，上述覆盖范围可以是以参考物为圆心，以距离为半径的圆。示例性的，通话音频是“我在离A大厦大概200米的地方”，则这里的“200米”是上述的距离信息。在一些实施方式中，参考物的覆盖范围是以参考物为圆心，以距离信息为半径的圆。这里以参考物包括第一参考物和第二参考物进行举例，第一参考物对应第一距离信息，第二参考物对应第二距离信息，第一参考物的覆盖范围是以第一参考物为圆心，以第一距离信息为半径的圆；第二参考物的覆盖范围是以第二参考物为圆心，以第二距离信息为半径的圆。取上述两个圆的重合区域，将其作为音频定位信息。在实际场景中，通话音频并不一定总能准确地给出上述距离信息。例如，通话音频是“我在A楼附近”，在此种情况下，距离信息可以是预先设置的。示例性的，在未获取到通话音频中的距离信息的情况下，使用预设距离作为距离信息，例如，预设距离包括但不限于50米、100米或150米中的至少一种，可根据实际情况进行设置。步骤S205：根据第一定位信息和音频定位信息，确定第一共享定位信息。在一可实施方式中，根据音频定位信息确定第一终端所处的环境类型，环境类型包括室内环境和室外环境；根据环境类型和第一定位信息，确定第一共享定位信息。环境类型用于表示第一终端所处的环境。在一些实施例中，获取第一终端的网络信号强度和卫星信号强度；根据网络信号强度和卫星信号强度，确定环境类型。在一些实施例中，由于第一终端处于不同环境时不同的定位信息具有不同的精确度，因此需要根据环境类型的不同，使用不同定位信息作为第一共享定位信息。在环境类型是室内环境的情况下，优先将网络定位信息作为第一共享定位信息；在环境类型是室外环境的情况下，优先将卫星定位信息作为第一共享定位信息。在一些实施例中，向第一终端发送网络定位信息、卫星定位信息和音频定位信息，供第一终端自行选择。在一些实施例中，在未获取到通话音频的情况下，在第一定位信息中确定第一共享定位信息。示例性的，若在有卫星定位信息，无网络定位信息的情况下，将卫星定位信息确定为第一共享定位信息。示例性的，若在无卫星定位信息，有网络定位信息的情况下，将网络定位信息确定为第一共享定位信息。在实际场景中，上述的网络定位信息、卫星定位信息和音频定位信息并不一定可以同时获取。因此根据网络定位信息、卫星定位信息和音频定位信息获取与否，可包括以下八种情况：1、有音频定位信息，有卫星定位信息，有网络定位信息；可选的，根据音频定位信息确定第一终端所处的环境类型；在环境类型是室内环境的情况下，优先将网络定位信息作为第一共享定位信息；在环境类型是室外环境的情况下，优先将卫星定位信息作为第一共享定位信息。2、有音频定位信息，有卫星定位信息，无网络定位信息；可选的，根据音频定位信息确定第一终端所处的环境类型；在环境类型是室内环境的情况下，优先将音频定位信息作为第一共享定位信息；在环境类型是室外环境的情况下，优先将卫星定位信息作为第一共享定位信息。3、有音频定位信息，无卫星定位信息，有网络定位信息；可选的，根据音频定位信息确定第一终端所处的环境类型；在环境类型是室内环境的情况下，优先将网络定位信息作为第一共享定位信息；在环境类型是室外环境的情况下，优先将音频定位信息作为第一共享定位信息。4、有音频定位信息，无卫星定位信息，无网络定位信息；可选的，优先将音频定位信息作为第一共享定位信息。5、无音频定位信息，有卫星定位信息，有网络定位信息；可选的，根据网络信号强度和卫星信号强度，确定环境类型；在环境类型是室内环境的情况下，优先将网络定位信息作为第一共享定位信息；在环境类型是室外环境的情况下，优先将音频定位信息作为第一共享定位信息。6、无音频定位信息，有卫星定位信息，无网络定位信息；可选的，优先将卫星定位信息作为第一共享定位信息。7、无音频定位信息，无卫星定位信息，有网络定位信息；可选的，优先将网络定位信息作为第一共享定位信息。8、无音频定位信息，无卫星定位信息，无网络定位信息；在此种情况下，无法得到第一终端的第一共享定位信息。步骤S206：向第二终端发送第一共享定位信息。综上所述，本公开实施例在获取第一终端的定位时，综合第一终端的音频定位信息、卫星定位信息和网络定位信息来得到第一共享定位信息，使得第一共享定位信息更加准确，精度更高。图3示出了本公开实施例提供的一种实时位置共享方法的实现流程示意图二。该方法由第一终端执行，该方法包括：步骤S301：响应于电话通话的接通操作，显示第一通话界面，电话通话是由第二终端发起的。在一可实施方式中，第一通话界面包括但不限于静音控件、键盘控件、视频通话控件、录音控件、免提控件、添加通话控件中的至少一种。步骤S302：显示位置共享短信，位置共享短信包括位置共享控件，位置共享短信是由第二终端触发的。在一可实施方式中，第一终端接收位置共享短信，并显示位置共享短信的提醒消息；响应于短信查看操作，显示位置共享短信的内容。其中，提醒消息用于提醒用户第一终端接收到短信，提醒消息可以包括位置共享短信的发件人、全部或部分文字内容、接收时间。在一可实施方式中，位置共享控件采用文字形式、按钮形式、链接形式、图形形式中的至少一种。在一可实施方式中，为保护用户隐私，位置共享控件只在当前通话过程中，在通话结束或通话时长达到预设时长的情况下，位置共享连接失效。在一可实施方式中，位置共享短信还包括位置查看控件；响应于位置查看控件上的位置查看操作，显示第二终端的位置信息。示例性的，请参考图4，在位置共享短信400中显示有位置共享控件401和位置查看控件402。可选的，点击图4中“查看位置共享”的按钮，显示第二终端的位置信息。该位置共享短信符合卡片信息的规则，将传统文本信息无缝升级为具备互动能力的多媒体智能信息，具备码号不变、展示丰富、交互多样、效果可视和高效触达等优点。通过富媒体展示效果，可实现与用户应用交互、内容访问、信息查询等，提升信息的可信度。步骤S303：响应于对位置共享控件的第一共享操作，显示第一地图，第一地图包括第一终端的位置信息和第二终端的位置信息。在一可实施方式中，第一终端的位置信息指上述实施例的第一共享定位信息。在一可实施方式中，响应于对位置共享控件的第一共享操作，显示网页界面，网页界面包括位置共享通知；响应于对位置共享通知的确认操作，在网页界面中显示第一地图。由于第一地图是通过网页显示的，即使第一终端没有安装地图应用也可以显示第一地图。在一可实施方式中，响应于对位置共享通知的确认操作，向定位系统上报第一终端的位置信息，第一终端的位置信息是通过定位系统得到的；接收定位系统发送的第一位置共享信息，第一位置共享信息包括第二终端的位置信息，第二终端的位置信息是第二终端共享给定位系统的；根据第一位置共享信息，在网页界面中显示第一地图。由于第一地图是通过网页实现的，因此不需要第一终端上安装有地图应用也同样可以实现位置共享的功能。而且，此种方法可以获得精度更加的位置信息，其精度可达3米内，可靠性高。在一可实施方式中，定位系统是基于第一终端自身的定位功能实现的，定位系统确定第一终端的位置信息不需要第一终端安装有地图应用。而且，此种定位方法具有较高的精准度和可靠性。示例性的，以第一终端采用IOS系统为例，请参考图5a，在网页页面501上显示有位置共享通知502，位置共享通知502包括确认控件503。以第一终端采用安卓系统为例，请参考图5b，在网页页面504上显示有位置共享通知505，位置共享通知505包括确认控件506。点击确认控件503或者点击确认控件506后，请参考图6，在网页页面中显示第一地图601，且第一地图601会显示第一终端的位置信息602和第二终端的位置信息603。在一可实施方式中，在满足通话中断条件的情况下，第一终端可继续向定位系统上传第一终端的位置信息。通话中断条件包括第一终端接收到通话中断操作或第二终端接收到通话中断操作。在一可实施方式中，由于用户存在移动的可能，在第一终端接收到对位置共享控件的第一共享操作之后，第一终端会向定位系统持续上报第一终端的位置信息，使得第二终端的用户可以及时获知第一终端的移动以及所在地。在一可实施方式中，第一终端获得的位置信息可能存在较大误差，或者，第一终端的用户想要展示给第二终端的用户的位置信息不是第一终端所在地。响应于位置输入操作，将第一终端的输入位置信息发送给定位系统，输入位置信息是输入到第一终端的位置信息或者是预设的位置信息；定位系统将第一终端的输入位置信息发送给第二终端。示例性的，位置输入操作是在第一地图中选出地点，或者，位置输入操作是在第一地图中输入地址。需要说明的是，本实施例的步骤S302和步骤S303都是在第一终端和第二终端建立通话的情况下进行中，即用户可以一边通话，一边共享位置信息。综上所述，本公开可以获取到对方实时的精确的位置信息。而且，不需要在第一终端或第二终端上安装地图或其他通信应用，只需拨打电话就可快速获得对方的定位，便利性高。而且，本公开可以在通话界面上提供一种快速获取对方位置信息的方法，该方法不需要用户退出通话界面就可以实现。另一方面，相较于采用通讯应用通话的技术而言，通讯应用通话需双方同时安装通讯应用，并互相添加好友，难以满足急救、应急救援等场景要求，而且基于互联网语音通话容易受网络信号的影响，通话质量差，容易被打断。但本公开仅需拨打电话即可，不需要通话双方互相添加好友就可实现，步骤较少，而且电话通话的稳定性高于互联网语音通话，不易被打断。图7示出了本公开实施例提供的一种实时位置共享方法的实现流程示意图三。该方法由第二终端执行，该方法包括：步骤S701：响应于对第一终端的通话操作，显示第二通话界面，第二通话界面包括位置共享控件。在一可实施方式中，第一通话界面还包括但不限于位置共享控件、静音控件、键盘控件、视频通话控件、录音控件、免提控件、添加通话控件中的至少一种。示例性的，请参考图8，第二通话界面800上显示有位置共享控件801。步骤S702：响应于位置共享控件上的第二共享操作，显示第二地图，第二地图包括第一终端的位置信息和第二终端的位置信息。在一可实施方式中，第一终端的位置信息指上述实施例的第一共享定位信息。在一可实施方式中，响应于位置共享控件上的第二共享操作，向定位系统发送位置共享请求，以及向定位系统发送位置共享请求，位置共享请求用于请求定位系统返回第一终端的位置信息；接收定位系统返回的第一终端的位置信息；接收定位系统返回的第二终端的位置信息；根据第一终端的位置信息和第二终端的位置信息，在网页中显示第二地图。其中，第二地图是显示在网页中的，因此无需第二终端安装地图应用，也可以实现位置的实时共享。在一可实施方式中，第一终端接收到位置共享控件上的第二共享操作之后，在网页中显示第二地图，第二地图包括第二终端的位置信息；在第一终端接收到第一终端的位置信息之后，在第二地图中显示第一终端的位置信息。示例性的，请参考图8，点击第二通话界面800上的位置共享控件801，第二终端会显示如图9所示的网页界面900，该网页界面900显示有第二地图901，第二地图901仅包括第二终端的位置信息902。在第二终端接收到第一终端的位置信息后，请参考图10，在第二地图901中显示第一终端的位置信息903。在一可实施方式中，向定位系统发送第二终端的位置信息，使定位系统将第二终端的位置信息发送给第一终端。示例性的，请参考图8，点击第一通话界面800上的位置共享控件801，第二终端会直接显示如图10所示的网页界面900，该网页界面900显示有第二地图901，第二地图901包括第二终端的位置信息902和第一终端的位置信息903。在一可实施方式中，响应于导航操作，在第一地图中显示导航路径，导航路径用于表示从第一终端所在地到第二终端所在地的路径。其中，导航路径可以是通行时间最短的路径，也可以是通行路径最短的路径，本公开对此不做具体限定。示例性的，请参考图11，响应于对导航控件上的导航操作，在第二地图901中显示导航路径904。综上所述，本公开可以获取到对方实时的精确的位置信息。而且，不需要在第一终端或第二终端上安装地图或其他通信应用，只需拨打电话就可快速获得对方的定位，便利性高。而且，本公开可以在通话界面上提供一种快速获取对方位置信息的方法，该方法不需要用户退出通话界面就可以实现。图12示出了本公开实施例提供的一种实时位置共享方法的实现流程示意图四。该方法包括：步骤S1201：第二终端向第一终端发起电话通信。步骤S1202：电话系统建立第一终端和第二终端之间的电话通信。在一可实施方式中，第一终端和第二终端通过电话系统传输电话语音。步骤S1203：第二终端向定位系统发送位置共享请求。在一可实施方式中，位置共享请求用于请求定位系统返回第一终端的位置信息。步骤S1204：定位系统向短信系统发送短信下发请求。在一可实施方式中，短信下发请求包括位置共享控件对应的位置共享链接。位置共享链接用于第一终端在网页上打开第一地图。步骤S1205：短信系统向第一终端发送位置共享短信。步骤S1206：第二终端向定位系统发送第二终端的位置信息。在一可实施方式中，第二终端的位置信息是第二终端通过终端本身的定位功能实现的。示例性的，第二终端通过定位功能获取定位系统发送的第二终端的位置信息。需要说明的是，步骤S1206在步骤S1203之后执行，而步骤S1206和步骤S1204之间无执行的先后顺序。步骤S1207：第一终端获取第一共享操作。在一可实施方式中，第一共享操作是对位置共享短信中位置共享控件的触发操作。步骤S1208：第一终端向定位系统发送第一终端的位置信息。在一可实施方式中，第一终端的位置信息指上述实施例的第一共享定位信息。步骤S1209：定位系统向第二终端发送第一终端的位置信息。步骤S1210：定位系统向第一终端发送第二终端的位置信息。步骤S1211：第一终端和第二终端之间共享位置信息。在一可实施方式中，在满足通话中断条件的情况下，第一终端可继续向定位系统上传第一终端的位置信息。通话中断条件包括第一终端接收到通话中断操作或第二终端接收到通话中断操作。综上所述，本公开可以在通话界面上提供一种快速获取对方位置信息的方法，该方法不需要用户免安装第三方应用就可以实现。而且，该方法可以获取到对方实时的精确的位置信息。而且，不需要在第一终端或第二终端上安装地图或通信应用，只需拨打电话就可快速获得对方的定位，便利性高。另一方面，相较于采用通讯应用通话的技术而言，通讯应用通话需双方同时安装通讯应用，并互相添加好友，难以满足急救、应急救援等场景要求，而且基于互联网语音通话容易受网络信号的影响，通话质量差，容易被打断。但本公开仅需拨打电话即可，不需要通话双方互相添加好友就可实现，步骤较少，而且电话通话的稳定性高于互联网语音通话，不易被打断。图13示出了本公开实施例提供的一种实时位置共享装置的模型示意图。该装置包括：接收模块1301，用于在第一终端和第二终端的通话过程中，接收所述第二终端发送的位置共享请求，所述第二终端是向所述第一终端发起通话的终端；发送模块1302，用于根据所述位置共享请求向短信系统下发短信发送通知，所述短信下发通知用于触发短信系统向所述第一终端发送位置共享短信；所述接收模块1301，还用于接收所述第一终端发送的第一定位信息，所述第一定位信息包括卫星定位信息和网络定位信息；定位模块1303，用于根据所述第一终端和所述第二终端的通话音频确定音频定位信息；所述定位模块1303，还用于根据所述第一定位信息和所述音频定位信息，确定第一共享定位信息；所述发送模块1302，还用于向所述第二终端发送所述第一共享定位信息。在一可实施方式中，所述定位模块1303，还用于根据所述音频定位信息确定所述第一终端所处的环境类型，所述环境类型包括室内环境和室外环境；根据所述环境类型和所述第一定位信息，确定所述第一共享定位信息。在一可实施方式中，所述定位模块1303，还用于在所述环境类型是所述室内环境的情况下，优先将所述网络定位信息作为所述第一共享定位信息；在所述环境类型是所述室外环境的情况下，优先将所述卫星定位信息作为所述第一共享定位信息。在一可实施方式中，所述定位模块1303，还用于获取所述第一终端的网络信号强度和卫星信号强度；根据所述网络信号强度和所述卫星信号强度，确定所述环境类型。在一可实施方式中，所述定位模块1303，还用于将所述第一终端和所述第二终端的通话音频转换为通话文本；提取所述通话文本中的参考物以及所述参考物对应的距离信息；根据所述参考物和所述距离信息，确定所述音频定位信息。在一可实施方式中，所述参考物包括至少两个；所述定位模块1303，还用于在地图上确定所述参考物的位置；根据所述距离信息和所述参考物的位置在地图上确定所述参考物的覆盖范围；将所述覆盖范围的重合区域，确定所述音频定位信息。在一可实施方式中，所述定位模块1303，还用于在未获取到所述通话音频的情况下，在所述第一定位信息中确定所述第一共享定位信息。综上所述，本公开在获取第一终端的定位时，综合第一终端的音频定位信息、卫星定位信息和网络定位信息来得到第一共享定位信息，使得第一共享定位信息更加准确，精度更高。而且，不需要在第一终端或第二终端上安装地图或其他通信应用，只需拨打电话就可快速获得对方的定位，便利性高。而且，本公开可以在通话界面上提供一种快速获取对方位置信息的方法，该方法不需要用户退出通话界面就可以实现。另一方面，相较于采用通讯应用通话的技术而言，通讯应用通话需双方同时安装通讯应用，并互相添加好友，难以满足急救、应急救援等场景要求，而且基于互联网语音通话容易受网络信号的影响，通话质量差，容易被打断。但本公开仅需拨打电话即可，不需要通话双方互相添加好友就可实现，步骤较少，而且电话通话的稳定性高于互联网语音通话，不易被打断。根据本公开的实施例，本公开还提供了一种电子设备和一种可读存储介质。图14示出了可以用来实施本公开的实施例的示例电子设备1400的示意性框图。电子设备旨在表示各种形式的数字计算机，诸如，膝上型计算机、台式计算机、工作台、个人数字助理、系统、刀片式系统、大型计算机、和其它适合的计算机。电子设备还可以表示各种形式的移动装置，诸如，个人数字处理、蜂窝电话、智能电话、可穿戴设备和其它类似的计算装置。本文所示的部件、它们的连接和关系、以及它们的功能仅仅作为示例，并且不意在限制本文中描述的和/或者要求的本公开的实现。如图14所示，设备1400包括计算单元1401，其可以根据存储在只读存储器1402中的计算机程序或者从存储单元1408加载到随机访问存储器1403中的计算机程序，来执行各种适当的动作和处理。在RAM1403中，还可存储设备1400操作所需的各种程序和数据。计算单元1401、ROM1402以及RAM1403通过总线1404彼此相连。输入/输出接口1405也连接至总线1404。设备1400中的多个部件连接至I/O接口1405，包括：输入单元1406，例如键盘、鼠标等；输出单元1407，例如各种类型的显示器、扬声器等；存储单元1408，例如磁盘、光盘等；以及通信单元1409，例如网卡、调制解调器、无线通信收发机等。通信单元1409允许设备1400通过诸如因特网的计算机网络和/或各种电信网络与其他设备交换信息/数据。计算单元1401可以是各种具有处理和计算能力的通用和/或专用处理组件。计算单元1401的一些示例包括但不限于中央处理单元、图形处理单元、各种专用的人工智能计算芯片、各种运行机器学习模型算法的计算单元、数字信号处理器、以及任何适当的处理器、控制器、微控制器等。计算单元1401执行上文所描述的各个方法和处理，例如实时位置共享方法。例如，在一些实施例中，实时位置共享方法可被实现为计算机软件程序，其被有形地包含于机器可读介质，例如存储单元1408。在一些实施例中，计算机程序的部分或者全部可以经由ROM 1402和/或通信单元1409而被载入和/或安装到设备1400上。当计算机程序加载到RAM1403并由计算单元1401执行时，可以执行上文描述的实时位置共享方法的一个或多个步骤。备选地，在其他实施例中，计算单元1401可以通过其他任何适当的方式而被配置为执行实时位置共享方法。本文中以上描述的系统和技术的各种实施方式可以在数字电子电路系统、集成电路系统、场可编程门阵列、专用集成电路、专用标准产品、芯片上系统的系统、负载可编程逻辑设备、计算机硬件、固件、软件、和/或它们的组合中实现。这些各种实施方式可以包括：实施在一个或者多个计算机程序中，该一个或者多个计算机程序可在包括至少一个可编程处理器的可编程系统上执行和/或解释，该可编程处理器可以是专用或者通用可编程处理器，可以从存储系统、至少一个输入装置、和至少一个输出装置接收数据和指令，并且将数据和指令传输至该存储系统、该至少一个输入装置、和该至少一个输出装置。用于实施本公开的方法的程序代码可以采用一个或多个编程语言的任何组合来编写。这些程序代码可以提供给通用计算机、专用计算机或其他可编程数据处理装置的处理器或控制器，使得程序代码当由处理器或控制器执行时使流程图和/或框图中所规定的功能/操作被实施。程序代码可以完全在机器上执行、部分地在机器上执行，作为独立软件包部分地在机器上执行且部分地在远程机器上执行或完全在远程机器或系统上执行。在本公开的上下文中，机器可读介质可以是有形的介质，其可以包含或存储以供指令执行系统、装置或设备使用或与指令执行系统、装置或设备结合地使用的程序。机器可读介质可以是机器可读信号介质或机器可读储存介质。机器可读介质可以包括但不限于电子的、磁性的、光学的、电磁的、红外的、或半导体系统、装置或设备，或者上述内容的任何合适组合。机器可读存储介质的更具体示例会包括基于一个或多个线的电气连接、便携式计算机盘、硬盘、随机存取存储器、只读存储器、可擦除可编程只读存储器、光纤、便捷式紧凑盘只读存储器、光学储存设备、磁储存设备、或上述内容的任何合适组合。为了提供与用户的交互，可以在计算机上实施此处描述的系统和技术，该计算机具有：用于向用户显示信息的显示装置或者LCD监视器）；以及键盘和指向装置，用户可以通过该键盘和该指向装置来将输入提供给计算机。其它种类的装置还可以用于提供与用户的交互；例如，提供给用户的反馈可以是任何形式的传感反馈；并且可以用任何形式来接收来自用户的输入。可以将此处描述的系统和技术实施在包括后台部件的计算系统、或者包括中间件部件的计算系统、或者包括前端部件的计算系统、或者包括这种后台部件、中间件部件、或者前端部件的任何组合的计算系统中。可以通过任何形式或者介质的数字数据通信来将系统的部件相互连接。通信网络的示例包括：局域网、广域网和互联网。计算机系统可以包括客户端和系统。客户端和系统一般远离彼此并且通常通过通信网络进行交互。通过在相应的计算机上运行并且彼此具有客户端-系统关系的计算机程序来产生客户端和系统的关系。系统可以是云系统，也可以为分布式系统的系统，或者是结合了区块链的系统。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本公开中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本公开公开的技术方案所期望的结果，本文在此不进行限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或隐含地包括至少一个该特征。在本公开的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。以上所述，仅为本公开的具体实施方式，但本公开的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本公开揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本公开的保护范围之内。因此，本公开的保护范围应以所述权利要求的保护范围为准。
