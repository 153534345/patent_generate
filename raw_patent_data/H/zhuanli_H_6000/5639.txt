标题title
一种独立绕组永磁同步直线电机的矢量控制方法
摘要abst
本发明涉及一种独立绕组永磁同步直线电机的矢量控制方法，该方法对于每个动子，导通与该动子耦合的n套绕组；并在该动子运动的方向上导通与耦合绕组相邻的n‑1套绕组，在该动子运动相反的方向上，导通与耦合绕组相邻的一套绕组；对于每个动子对应导通2n套绕组，与动子耦合的n套绕组为一组，另外n套绕组为一组，两组绕组分别进行矢量闭环控制，可在系统能量损耗最小的条件下实现对于交变电流给定的无静差跟踪。
权利要求书clms
1.一种独立绕组永磁同步直线电机的矢量控制方法，所述电机包括定子和至少一个动子，所述定子包括若干绕组，每个动子耦合n套绕组，n为正整数且n≥3；其特征在于：对于每个动子，设置位置检测装置，检测动子位置信号，根据动子位置信号，导通与该动子耦合的n套绕组；同时在该动子运动相同方向上，导通与该动子耦合绕组相邻的n-1套绕组，并在该动子运动相反的方向上，导通与该动子耦合绕组相邻的一套绕组；即每个动子对应导通2n套绕组；对于每个动子对应导通的2n套绕组，设定与动子耦合的n套绕组为一组，为耦合绕组，设定另n套绕组为一组，为非耦合绕组，两组绕组分别进行矢量闭环控制。2.根据权利要求1所述独立绕组永磁同步直线电机的矢量控制方法，其特征在于：在动子运动时，当该动子的任一侧边界与相邻两耦合绕组的间隔的中心位置对齐时，则将在该动子运动方向上与耦合绕组相邻的第一套非耦合绕组变为耦合绕组，运动相反方向上的第一套耦合绕组变为非耦合绕组；同时，关断该动子对应导通的2n套绕组中与动子运动相反方向上的第一套绕组，并且，导通动子运动方向上与2n套绕组相邻的第一套绕组，关断的绕组与新导通的绕组相序定义相同。3.根据权利要求2所述独立绕组永磁同步直线电机的矢量控制方法，其特征在于：所述矢量闭环控制的过程为：每套绕组均设有电流传感器，用于检测绕组的电流信号，作为闭环控制中的反馈电流；将静止坐标系下的反馈电流向旋转坐标系变换；将旋转坐标系下的给定电流与反馈电流做差作为电流控制器的输入；电流控制器的输出为旋转坐标系下的电压给定，经过坐标变换得到静止坐标系下的电压给定；静止坐标系下的电压给定作为脉宽调制的调制波，脉宽调制输出的数字信号为逆变器驱动侧的输入，逆变器驱动绕组形成旋转磁场，并使动子运动。4.根据权利要求3所述独立绕组永磁同步直线电机的矢量控制方法，其特征在于：所述矢量闭环控制分为两部分，一部分是推力环，另一部分是弱磁环，推力环的给定电流为期望的动子推力值，弱磁环的给定电流设置为0。5.根据权利要求4所述独立绕组永磁同步直线电机的矢量控制方法，其特征在于：当每个动子耦合三相绕组时，推力环的电流反馈Iq-Fbk和弱磁环的电流反馈Id-Fbk分别为：式中，IA为相序为A相的反馈电流，IB为相序为B相的反馈电流，IC为相序为C相的反馈电流。6.根据权利要求1所述独立绕组永磁同步直线电机的矢量控制方法，其特征在于：当设有至少两个动子时，动相邻两个动子之间的间隔绕组数以及定子两端的绕组数，保证每个动子均能够对应导通2n套绕组。7.根据权利要求3所述的动子位置检测装置，其特征在于：所述位置检测装置为位置传感器，所述位置传感器为光栅尺、磁栅尺、电感式传感器、线性霍尔传感器或异性磁阻传感器。8.根据权利要求7所述独立绕组永磁同步直线电机的矢量控制方法，其特征在于：所述电流控制器为PI控制器、无差拍预测电流控制器或内模控制器。9.根据权利要求8所述独立绕组永磁同步直线电机的矢量控制方法，其特征在于：所述逆变器包括由单管MOSFET或单管IGBT组成的单相全桥或单相半桥拓扑。
说明书desc
技术领域本发明涉及一种独立绕组永磁同步直线电机的矢量控制方法，属于直线电机控制技术领域。背景技术直线电机得益于直接驱动的形式，省去了传统直线运动装置中的复杂传动机构，在机床、智能装备制造以及物流运输等场合得到了广泛的应用。在长行程领域，往往需要动子没有拖链结构，并且可以设置一个或多个动子进行独立、灵活的控制，从而采用了以永磁体为动子，分段电枢为定子的多动子永磁同步直线电机系统。传统的永磁同步直线电机采用三相结构，动子与动子间能够相互独立，也能够协同工作，具有较好的灵活性。但是，三相结构的系统不具有容错性，其中一相发生故障会导致整套三相绕组，甚至整个系统失效。为了提高系统的容错性，永磁同步直线电机系统的电枢采用单相独立绕组结构。每个绕组的线包单独出线，任意两相之间没有电气连接和空间耦合，从而能够在故障状态下容错运行。202210542179.8号专利提出一种独立绕组永磁同步直线电机切换方法，基于该专利提出的方法能够实现独立绕组永磁同步直线电机的电流控制，并使得系统的能耗最小。但是，这种绕组电流切换方法存在一个弊端，即对每个动子而言每次导通四套绕组的条件下，无法采用矢量闭环控制，只能使用单相闭环控制，电流控制器不得不跟踪交变电流给定，而传统的电流控制器对于交变电流给定的跟踪存在幅值衰减和相位滞后，从而导致了系统对于交变电流给定的跟踪误差。发明内容本发明为了解决现有技术中存在的问题，提供一种能实现独立绕组永磁同步直线电机系统矢量闭环控制的绕组导通、关断和切换策略，消除系统对于交变电流给定的跟踪误差。为了达到上述目的，本发明提出的技术方案为：一种独立绕组永磁同步直线电机的矢量控制方法，所述电机包括定子和至少一个动子，所述定子包括若干绕组，每个动子耦合n套绕组，n为正整数且n≥3；对于每个动子，设置位置检测装置，检测动子位置信号，根据动子位置信号，导通与该动子耦合的n套绕组；同时在该动子运动相同方向上，导通与该动子耦合绕组相邻的n-1套绕组，并在该动子运动相反的方向上，导通与该动子耦合绕组相邻的一套绕组；即每个动子对应导通2n套绕组；对于每个动子对应导通的2n套绕组，设定与动子耦合的n套绕组为一组，作为耦合绕组，设定另n套绕组为一组，为非耦合绕组，两组绕组分别进行矢量闭环控制。对上述技术方案的进一步设计为：在动子运动时，当该动子的任一侧边界与相邻两耦合绕组的间隔的中心位置对齐时，则将在该动子运动相反方向上的第一套耦合绕组变为非耦合绕组，运动方向上与耦合绕组相邻的第一套非耦合绕组变为耦合绕组；同时，关断该动子对应导通的2n套绕组中与动子运动相反方向上的第一套绕组，并且，导通动子运动方向上与2n套绕组相邻的第一套绕组，关断的绕组与新导通的绕组相序定义相同。所述矢量闭环控制的过程为：每套绕组均设有电流传感器，用于检测绕组的电流信号，作为闭环控制中的反馈电流；将静止坐标系下的反馈电流向旋转坐标系变换；将旋转坐标系下的给定电流与反馈电流做差作为电流控制器的输入；电流控制器的输出为旋转坐标系下的电压给定，经过坐标变换得到静止坐标系下的电压给定；静止坐标系下的电压给定作为脉宽调制的调制波，脉宽调制输出的数字信号为逆变器驱动侧的输入，逆变器驱动绕组形成旋转磁场，并使动子运动。所述矢量闭环控制分为两部分，一部分是推力环，另一部分是弱磁环，推力环的给定电流为期望的动子推力值，弱磁环的给定电流设置为0。当每个动子耦合三相绕组时，推力环的电流反馈Iq-Fbk和弱磁环的电流反馈Id-Fbk分别为：式中，IA为相序为A相的反馈电流，IB为相序为B相的反馈电流，IC为相序为C相的反馈电流。当设有至少两个动子时，相邻两个动子之间的间隔绕组数以及定子两端的绕组数，保证每个动子均能够对应导通2n套绕组。所述位置检测装置为位置传感器，所述位置传感器为光栅尺、磁栅尺、电感式传感器、线性霍尔传感器或异性磁阻传感器。所述电流控制器为PI控制器、无差拍预测电流控制器或内模控制器。所述逆变器包括由单管MOSFET或单管IGBT组成的单相全桥或单相半桥拓扑。本发明相比现有技术的有益效果在于：本发明针对独立绕组永磁同步直线电机系统，制定了绕组开通、关断和切换策略，对于每个动子对应导通2n套绕组，并将2n套绕组均分为两部分分别进行矢量闭环控制，相较于传统独立绕组永磁同步直线电机系统的单相控制策略，实现了对于交变电流给定信号的无静差跟踪，提高了系统的控制性能，并能使得系统能够在最低能耗下运行。本发明通过每个动子对应导通2n套绕组的方式实现了矢量闭环控制，将静止坐标系下的电流反馈变换到旋转坐标系当中，从而将交变电流给定转换为了直流电流给定，由于电流控制器对于直流电流给定的跟踪具有无穷大开环增益，因此可实现系统对于交变电流给定的零误差跟踪。附图说明图1为独立绕组永磁同步直线电机系统的结构图；图2为动子运动到端部时的绕组导通示意图；图3为动子绕组切换的示意图；图4为电流闭环矢量控制的原理框图；图5为单相控制的Q轴电流实验波形；图6为矢量控制的Q轴电流实验波形；图7为单相控制和矢量控制的D轴电流实验波形；图中，1-动子；2-位置传感器；3-绕组；4-逆变器；5-控制器；6-初始位置的耦合绕组；7-切换位置的耦合绕组。具体实施方式下面结合附图以及具体实施例对本发明进行详细说明。实施例一：如图1所示，为本实施例中独立绕组永磁同步直线电机矢量控制系统的结构图，独立绕组永磁同步直线电机设有定子和多个动子1，定子包括多个绕组3，矢量控制系统包括位置传感器2、电流传感器、逆变器4和控制器5，每个动子1上均设置有位置传感器2，位置传感器2用于检测动子的位置信号，并传输到控制器5，由控制器5解算获取动子在行程范围内的位置作为矢量控制的位置反馈；每个绕组3上均连接有电流传感器，用于检测绕组3上的电流信号，并传输到控制器5，作为矢量控制的电流反馈。本实施例中位置传感器2采用的为磁性位置传感器阵列，也可采用所有能够检测线性位移的传感器种类，不局限于光栅尺、磁栅尺、电感式传感器、线性霍尔传感器和异性磁阻传感器；也可以通过控制器5使用无位置传感器算法推定动子在行程范围内的位置作为位置反馈。本实施例基于位置反馈和电流反馈，实现矢量闭环控制，具体过程如下：每个动子1耦合n套绕组3，且对于每个动子1，导通与该动子1耦合的n套绕组3；并在该动子运动的方向上导通与耦合绕组相邻的n-1套绕组3，在该动子1运动相反的方向上，导通与耦合绕组相邻的一套绕组3，即每个动子1对应导通2n套绕组3。当有多个动子在同一段定子上运动时，需通过外部机械结构或内部软件限位限制相邻两个动子之间的间隔，使得每个动子能够对应导通2n套绕组；即当相邻两动子为相向而行时，两动子之间至少间隔2n-2套绕组，动子同向而行时，至少间隔n套绕组。如图2所示，当动子运动到定子的端部时，该动子无法满足导通2n套绕组，此时，该动子仍能够耦合n套绕组，该n套耦合绕组进行矢量闭环控制，而余下的绕组数量小于n套，它们将进行单相闭环控制，即非耦合绕组跟踪对应耦合绕组的电流反馈。本实施例中，绕组切换过程的示意图如图3所示，图中点画线的绕组为导通的绕组，实线的为关断的绕组；初始位置的耦合绕组6如图前半部分所示，当动子永磁体的任一侧边界与所耦合绕组之间间隔的中心位置对齐时，与该动子运动方向相反的第一套耦合绕组变为非耦合绕组，与之相对的，运动方向上的第一套非耦合绕组变为耦合绕组，切换位置的耦合绕组7如图后半部分所示，即沿动子运动方向将耦合的n套绕组编号为第1套至第n套，当动子边界运动至耦合绕组之间间隔的中心位置时，将在动子运动方向上与耦合绕组相邻的第1套绕组由非耦合绕组变为耦合绕组，并将耦合的第n套绕组有耦合变为非耦合。同时，关断该动子对应导通的2n套绕组中与动子运动相反方向上的第一套绕组，并且，导通动子运动方向上与2n套绕组相邻的下一套绕组，关断的绕组与新导通的绕组相序定义相同。实施例二如图4所示，为本实施例矢量闭环控制的原理框图，以一组三相绕组为例，矢量电流闭环分为两部分，一部分是推力环，另一部分是弱磁环。推力环的电流给定为期望的动子推力值，弱磁环的电流给定设置为0。电流反馈为由三相绕组进行坐标变换得到的Iq-Fbk和Id-Fbk：式中，IA为相序为A相的反馈电流，IB为相序为B相的反馈电流,IC为相序为C相的反馈电流。然后，将电流给定与电流反馈做差输入至电流控制器，电流控制器包括但不限于PI控制器，无差拍预测电流控制器或内模控制器。本实施例采用PI控制器作为电流控制器，电流控制器的输出为旋转坐标系下电压给定，经过反变换得到a-b-c轴下的电压给定：式中，Ua，Ub和Uc为a-b-c坐标系下的电压给定，Ud和Uq为旋转坐标系下电压给定。Ua，Ub和Uc为正弦脉宽调制的输入，与三角波比较生成脉宽调制信号，作为逆变器4驱动侧的给定。最后，逆变器4驱动绕组形成旋转磁场，与动子永磁体磁场相互作用产生推力使动子运动。本实施例中逆变器包括由单管MOSFET或单管IGBT组成的单相全桥或单相半桥拓扑。测试实例：本实施例在一台长度为495mm的直线段独立绕组永磁同步直线电机上进行了实验验证。该电机有33套绕组，两个动子，逆变器采用全桥拓扑，控制器由MCU和FPGA组成。本发明所述的闭环矢量控制策略在FPGA中实现，MCU负责下发电流给定指令。设计了如下的实验，当动子以1m/s的速度匀速运动时，推力环指令输入为速度环的输出，弱磁环指令为1A，此时相当于在跟踪交变电流指令。将本发明与现有发明专利202210542179.8提出的独立绕组电流切换方法，即单相控制方法，在上述工况下进行对比实验。图5即为单相控制方法下的Q轴电流给定和反馈，显然，反馈电流与给定电流之间存在约0.1A的电流静差，这会导致系统的位置跟踪性能下降。与之相对的，图6为本发明提出的矢量控制方法下的Q轴电流给定和反馈，反馈电流能够完全跟踪给定电流。图7为单相控制和矢量控制方法下的D轴电流给定和反馈，实验结果显示：单相控制方法下D轴电流存在约0.15A的电流跟踪静差，同时存在0.05A的电流波动；矢量控制方法下D轴电流不存在电流跟踪静差，同时电流波动仅为0.03A。以上实验充分验证，本实施例提出的独立绕组永磁同步直线电机的矢量控制系统的实用性和优越性。因此，本实施例针对独立绕组永磁同步直线电机以单相方式控制电流时存在跟踪静差的问题，以三套绕组为一组在旋转坐标系下进行矢量控制，实现无静差的电流跟踪。同时，在电机运行过程中，根据初次级耦合状态依次开通和关断绕组，以达到最小化系统能耗的目的。本发明的技术方案不局限于上述各实施例，凡采用等同替换方式得到的技术方案均落在本发明要求保护的范围内。
