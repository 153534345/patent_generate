标题title
一种基于云边协同的光伏支架控制系统
摘要abst
本发明涉及光伏发电领域，具体为一种基于云边协同的光伏支架控制系统。本申请通过在云端服务器侧训练模型，利用其相对更强的数据处理能力优化模型，并将不断优化的模型传输至边缘侧控制模块，以便其进行实时调用控制光伏支架的参数，尤其是跟踪策略的不断优化和改进；此外云端训练和模型下放，在本地边缘侧控制模块调用控制模型实时计算与云端侧实时计算处理相比，降低了控制数据传输的时延；此外，还针对光伏支架作了进一步改进，将用于埋设在地面之下的预埋管道与光伏支架的支撑杆、中空支撑臂、空心轴和通道之间相连通，以形成空气流通的冷却通道，增强了光伏支架的散热效果，有利于提高光伏板的工作稳定性。
权利要求书clms
1.一种基于云边协同的光伏支架控制系统，其特征在于：包括云端服务器、边缘侧控制模块和数据采集模块；所述云端服务器用于根据历史数据训练模型，以及向所述边缘侧控制模块下发训练好的控制模型文件，进行控制模型的部署；所述边缘侧控制模块和数据采集模块均位于光伏发电端；其中，所述边缘侧控制模块用于调用控制模型进行光伏支架参数的控制，以及将历史数据传输到所述云端服务器；所述光伏支架参数的控制包括跟踪控制和保护策略控制；所述数据采集模块用于采集光伏发电端的感知信息，所述感知信息包括风速、风向、辐照、温湿度、音频、视频信息和发电量信息；所述光伏支架进一步包括光伏板安装框架和支撑架，所述支撑架包括分列在所述光伏板安装框架两端的中空支撑臂，所述光伏板安装框架的横向中线处通过空心轴与所述中空支撑臂可转动的相连通，所述支撑架的底部可转动的连接有支撑杆，所述支撑杆为中空杆，所述支撑杆的底端与一用于埋设在地下的预埋管道相连；所述光伏板安装框架包括一矩形壳体，所述空心轴连通所述矩形壳体，所述矩形壳体中对应其两侧的空心轴处分别向内延伸出一通道，且所述通道的出口端位于所述矩形壳体的下端，所述通道的出口端安装有抽风扇；所述光伏板安装框架中放置有光伏板时，所述光伏板的背面覆盖在所述通道上；所述预埋管道、支撑杆、中空支撑臂、空心轴和通道之间连通形成空气流通的冷却通道。2.根据权利要求1所述的一种基于云边协同的光伏支架控制系统，其特征在于：所述数据采集模块包括图像采集单元，所述图像采集单元用于根据拍摄的照片确定光伏支架的角度位置信息，所述拍摄的照片包含有多个光伏支架的侧边图像；所述图像采集单元根据各光伏支架的侧边图像中支架的轮廓计算其对应的角度位置信息。3.根据权利要求2所述的一种基于云边协同的光伏支架控制系统，其特征在于：所述光伏支架的侧边对应所述图像采集单元的拍摄区域上，在其轮廓长度方向标示有轮廓线，所述轮廓线包括光伏支架竖直支撑杆和光伏板安装框架侧边的轮廓线，所述图像采集单元进一步根据所述侧边图像中的轮廓线计算所述光伏支架的角度位置信息。4.根据权利要求1所述的一种基于云边协同的光伏支架控制系统，其特征在于：位于所述矩形壳体两侧的通道呈方波状设置在矩形壳体内，并朝向所述矩形壳体的竖向中线处靠拢。5.根据权利要求1所述的一种基于云边协同的光伏支架控制系统，其特征在于：所述系统进一步包括密钥生成模块，所述密钥生成模块部署在光伏发电端，用于生成根密钥文件，以及向所述云端服务器和所述边缘侧控制模块侧分发所述生成的根密钥文件，所述根密钥文件用于加密所述历史数据。6.根据权利要求5所述的一种基于云边协同的光伏支架控制系统，其特征在于：其中，所述历史数据的传输过程包括：所述边缘侧控制模块根据所述历史数据的长度从所述根密钥文件中获取等长度的加密密钥文件，通过该加密密钥文件加密所述历史数据得到密文数据；其中，所述加密密钥文件在所述历史数据传输前通过所述云端服务器生成的索引信息确定，所述索引信息用于指示所述加密密钥文件在所述根密钥文件中的位置信息；所述边缘侧控制模块将所述密文数据传输至所述云端服务器；所述云端服务器根据其生成的索引信息从云端服务器中存储的根密钥文件中确定所述加密密钥文件，以此解密所述密文数据。7.根据权利要求6所述的一种基于云边协同的光伏支架控制系统，其特征在于：所述索引传输的过程包括：所述边缘侧控制模块预生成一通信密钥，向所述云端服务器发送数据传输请求，并在请求中携带待发送数据的长度信息和通信密钥；所述云端服务器响应所述数据传输请求，并生成用于此次数据传输的加密密钥文件的索引信息，利用所述通信密钥加密该索引信息形成加密索引信息，再向所述边缘侧控制模块发送加密索引信息；所述边缘侧控制模块利用其预生成的通信密钥解密从所述云端服务器获取的加密索引信息。
说明书desc
技术领域本发明涉及光伏发电领域，具体涉及一种基于云边协同的光伏支架控制系统。背景技术光伏支架跟踪系统通过动态调整光伏板的角度来最大化对太阳光的捕获，从而提升发电效率。这种系统可以是单轴的，仅随着日太阳的东西运动而移动，或者是双轴的，同时跟踪太阳在天空中随季节变化的南北移动。核心组件包括用于移动光伏板的驱动器、基于传感器输入或预设算法做出调整决策的控制器、检测太阳和环境条件的传感器，以及支撑光伏板的结构性支架。当前跟踪支架系统普遍采用单片机控制并将数据直接接入到电场监控系统中，控制逻辑较为简单、信息化智能化程度不高，具体包括：数据采集范围窄，采集数据类型不够丰富；采集与监控只能满足普通的监控需求，难以实现跟踪策略的优化。鉴于以上问题，我们提出一种基于云边协同的光伏支架控制系统。发明内容为解决上述问题，本发明公开了一种基于云边协同的光伏支架控制系统。为了达到以上目的，本发明提供如下技术方案：一种基于云边协同的光伏支架控制系统，包括云端服务器、边缘侧控制模块和数据采集模块；所述云端服务器用于根据历史数据训练模型，以及向所述边缘侧控制模块下发训练好的控制模型文件，进行控制模型的部署；所述边缘侧控制模块和数据采集模块均位于光伏发电端；其中，所述边缘侧控制模块用于调用控制模型进行光伏支架参数的控制，以及将历史数据传输到所述云端服务器；所述光伏支架参数的控制包括跟踪控制和保护策略控制；所述数据采集模块用于采集光伏发电端的感知信息，所述感知信息包括风速、风向、辐照、温湿度、音频、视频信息和发电量信息；所述光伏支架进一步包括光伏板安装框架和支撑架，所述支撑架包括分列在所述光伏板安装框架两端的中空支撑臂，所述光伏板安装框架的横向中线处通过空心轴与所述中空支撑臂可转动的相连通，所述支撑架的底部可转动的连接有支撑杆，所述支撑杆为中空杆，所述支撑杆的底端与一用于埋设在地下的预埋管道相连；所述光伏板安装框架包括一矩形壳体，所述空心轴连通所述矩形壳体，所述矩形壳体中对应其两侧的空心轴处分别向内延伸出一通道，且所述通道的出口端位于所述矩形壳体的下端，所述通道的出口端安装有抽风扇；所述光伏板安装框架中放置有光伏板时，所述光伏板的背面覆盖在所述通道上；所述预埋管道、支撑杆、中空支撑臂、空心轴和通道之间连通形成空气流通的冷却通道。上述方案中，所述数据采集模块包括图像采集单元，所述图像采集单元用于根据拍摄的照片确定光伏支架的角度位置信息，所述拍摄的照片包含有多个光伏支架的侧边图像；所述图像采集单元根据各光伏支架的侧边图像中支架的轮廓计算其对应的角度位置信息。上述方案中，所述光伏支架的侧边对应所述图像采集单元的拍摄区域上，在其轮廓长度方向标示有轮廓线，所述轮廓线包括光伏支架竖直支撑杆和光伏板安装框架侧边的轮廓线，所述图像采集单元进一步根据所述侧边图像中的轮廓线计算所述光伏支架的角度位置信息。上述方案中，位于所述矩形壳体两侧的通道呈方波状设置在矩形壳体内，并朝向所述矩形壳体的竖向中线处靠拢。上述方案中，所述系统进一步包括密钥生成模块，所述密钥生成模块部署在光伏发电端，用于生成根密钥文件，以及向所述云端服务器和所述边缘侧控制模块侧分发所述生成的根密钥文件，所述根密钥文件用于加密所述历史数据。上述方案中，所述历史数据的传输过程包括：所述边缘侧控制模块根据所述历史数据的长度从所述根密钥文件中获取等长度的加密密钥文件，通过该加密密钥文件加密所述历史数据得到密文数据；其中，所述加密密钥文件在所述历史数据传输前通过所述云端服务器生成的索引信息确定，所述索引信息用于指示所述加密密钥文件在所述根密钥文件中的位置信息；所述边缘侧控制模块将所述密文数据传输至所述云端服务器；所述云端服务器根据其生成的索引信息从云端服务器中存储的根密钥文件中确定所述加密密钥文件，以此解密所述密文数据。上述方案中，所述索引传输的过程包括：所述边缘侧控制模块预生成一通信密钥，向所述云端服务器发送数据传输请求，并在请求中携带待发送数据的长度信息和通信密钥；所述云端服务器响应所述数据传输请求，并生成用于此次数据传输的加密密钥文件的索引信息，利用所述通信密钥加密该索引信息形成加密索引信息，再向所述边缘侧控制模块发送加密索引信息；所述边缘侧控制模块利用其预生成的通信密钥解密从所述云端服务器获取的加密索引信息相对于现有技术，本发明具有如下优点：本申请的方案中，通过在云端服务器侧训练模型，和利用其相对更强的数据处理能力优化模型，并将不断优化的模型传输至边缘侧控制模块，以便其进行实时调用控制光伏支架的参数，尤其是跟踪策略的不断优化和改进；此外云端训练和模型下放，在本地边缘侧控制模块调用控制模型实时计算与云端侧实时计算处理相比，降低了控制数据传输的时延；此外，还针对光伏支架作了进一步改进，将用于埋设在地面之下的预埋管道与光伏支架的支撑杆、中空支撑臂、空心轴和通道之间相连通，以形成空气流通的冷却通道，增强了光伏支架的散热效果，有利于提高光伏板的工作稳定性。附图说明图1为本申请实施例1中的系统架构图；图2为本申请实施例4中的系统架构图；图3本申请实施例4中历史数据传输过程的流程图；图4为本申请实施例3中光伏支架的结构示意图；图5为图4的侧视图。具体实施方式下面结合具体实施方式，进一步阐明本发明，应理解下述具体实施方式仅用于说明本发明而不用于限制本发明的范围。需要说明的是，下面描述中使用的词语“前”、“后”、“左”、“右”、“上”和“下”指的是附图中的方向，词语“内”和“外”分别指的是朝向或远离特定部件几何中心的方向。实施例1：一种基于云边协同的光伏支架控制系统，包括云端服务器、边缘侧控制模块和数据采集模块；所述云端服务器用于根据历史数据训练模型，以及向所述边缘侧控制模块下发训练好的控制模型文件，进行控制模型的部署；其中，模型的搭建和训练方法可使用现有技术，例如天文算法、支持向量机和双轴跟踪等模型的搭建和训练方法；为降低搭建难度云端服务器可进一步使用现有商用云计算提供商提供的云服务；边缘侧控制模块具备一定处理计算能力，可使用基于ARM/X86的计算处理模块；数据采集模块包括风速传感器、风向传感器、辐照传感器、温湿度传感器、收音设备，和摄像头，输出功率模块；所述边缘侧控制模块和数据采集模块均位于光伏发电端；其中，所述边缘侧控制模块用于调用控制模型进行光伏支架参数的控制，以及将历史数据传输到所述云端服务器；所述光伏支架参数的控制包括跟踪控制和保护策略控制；所述数据采集模块用于采集光伏发电端的感知信息，所述感知信息包括风速、风向、辐照、温湿度、音频、视频信息和发电量信息。在一种可能的实施方式中：在云端服务器搭建双轴跟踪模型；边缘侧控制模块接收由数据采集模块采集的光伏发电端的感知信息，根据所述光伏发电端的感知信息生成历史数据，并将所述历史数据传输至云端服务器；该历史数据为边缘侧控制模块存储的数据采集模块采集的光伏发电端的感知信息，例如在某一时刻，边缘侧控制模块先根据数据采集模块采集的光伏发电端的感知信息调用部署在边缘侧控制模块的控制模型--双轴跟踪模型，计算输出光伏支架的控制参数，再根据该控制参数调节光伏支架，例如其倾角的调节，同时边缘侧控制模块进一步存储前一时刻采集到的感知信息，将其作为历史信息发送至云端服务器，以供其进行模型的训练；光伏支架上还可设置相应的角度控制和校准机构，例如中国专利申请号为CN202310875355.4的专利文本中所公开的光伏跟踪支架的倾角校准系统和光伏跟踪支架中的光伏支架结构；云端服务器根据所述历史数据训练模型，并向边缘侧控制模块下发训练好的控制模型文件，进行控制模型的部署；所述边缘侧控制模块调用控制模型进行光伏支架参数的控制。通过在云端服务器侧训练模型，和利用其相对更强的数据处理能力优化模型，并将不断优化的模型传输至边缘侧控制模块，以便其进行实时调用控制光伏支架的参数，尤其是跟踪策略的不断优化和改进；云端训练和模型下放，在本地边缘侧控制模块调用控制模型实时计算与云端侧实时计算处理相比，降低了控制数据传输的时延。在云端服务器模型选型和训练结束后，可按照一定策略进行模型部署，例如在晚上光伏支架不工作时将包含模型参数的模型训练文件通过Modbus ASCII、Modbus RTU或ModbusTCP/IP等协议传输到边缘侧控制模块中，边缘侧控制模块根据接收到的模型训练文件替换旧模型文件，更新完成后在下一次工作时调用新的模型文件进行本地计算控制。实施例2：所述数据采集模块进一步包括图像采集单元，所述图像采集单元用于根据拍摄的照片确定光伏支架的角度位置信息，所述拍摄的照片包含有多个光伏支架的侧边图像；所述图像采集单元根据各光伏支架的侧边图像中支架的轮廓计算其对应的角度位置信息；图像采集单元可使用现有工业ccd相机，为了降低设备使用成本，例如光伏板角度位置的采集，传统方案中，需要在每个光伏发电板上安装倾角传感器；在光伏发电板数量较多时，整个系统的传感器使用数量较多，设备安装使用成本也相对更高；因此可通过图像采集单元同时拍摄多个光伏支架的侧边，在通过图像处理算法计算图像中多个光伏支架的角度位置信息，以此降低设备安装使用成本；为了便于计算和辨识图片中图像的轮廓线位置，所述光伏支架的侧边对应所述图像采集单元的拍摄区域上，在其轮廓长度方向标示有轮廓线，所述轮廓线包括光伏支架竖直支撑杆和光伏板安装框架侧边的轮廓线，所述图像采集单元进一步根据所述侧边图像中的轮廓线计算所述光伏支架的角度位置信息；具体的轮廓线可采用绿色进行标示，图像采集单元采集图片后根据预设算法计算绿色轮廓线的角度信息；处理计算处理步骤采用现有方法，例如以下步骤：图像预处理：先将图像转换为灰度图，然后使用边缘检测算法检测出图像中的轮廓；轮廓提取：使用图像分割或轮廓检测算法提取出图像中的物体轮廓；计算轮廓角度：将提取的轮廓看作一个几何形状，可以通过拟合矩形框或者使用主成分分析的方式来计算其主轴的角度；如果使用矩形框拟合，角度可以通过atan2计算得出，其中x和y是矩形框对角线的两个端点；如果使用PCA，那么物体的主轴就是数据点的第一主成分，对应的角度也可以用atan2计算得出。实施例3：所述光伏支架进一步包括光伏板安装框架100和支撑架200，所述支撑架200包括分列在所述光伏板安装框架100两端的中空支撑臂201，所述光伏板安装框架100的横向中线处通过空心轴202与所述中空支撑臂201可转动的相连通，具体可使用H型旋转接头进行连接，所述支撑架200的底部可转动的连接有支撑杆300，所述支撑杆300为中空杆，所述支撑杆300的底端与一用于埋设在地下的预埋管道400相连；所述光伏板安装框架100包括一矩形壳体101，所述空心轴202连通所述矩形壳体101，所述矩形壳体101中对应其两侧的空心轴202处分别向内延伸出一通道102，所述通道102的出口端位于所述矩形壳体101的下端，位于矩形壳体101两侧的通道102呈方波状设置在矩形壳体101内，并朝向所述矩形壳体101的竖向中线处靠拢，以此布满整个矩形壳体101，所述通道102的出口端安装有抽风扇；所述光伏板安装框架100中放置有光伏板时，所述光伏板的背面覆盖在所述通道102上；所述预埋管道400、支撑杆300、中空支撑臂201、空心轴202和通道102之间连通形成空气流通的冷却通道；光伏板发电过程中不可避免的会产生热量，当外界温度较高时，热量的积累会影响其发电效率，本实施例中，光伏支架安装时，预先将预埋管道400埋设于地下，该管道的一端引出至地面之上，作为空气进口；外界气温较高时，处于地下的预埋管道400能够保持相对较低的温度；通道102的出口端安装的抽风扇工作在预埋管道400、支撑杆300、中空支撑臂201、空心轴202和通道102之间形成空气流动，将预埋管道400中温度相对较低的空气引出至矩形壳体101中以此起到散热作用；具体实施时，可进一步在支撑杆300和中空支撑臂201的外侧包覆隔热套，以尽量避免预埋管道400中的空气通过两者时，被加热。实施例4：为了保护数据采集模块采集的敏感数据的安全性，降低其外泄的可能性，所述系统进一步包括密钥生成模块，所述密钥生成模块部署在光伏发电端，用于生成根密钥文件，以及向所述云端服务器和所述边缘侧控制模块分发所述生成的根密钥文件，所述根密钥文件用于加密所述历史数据，具体加密算法可采用异或算法；其中，密钥生成模块可使用量子随机数发生器生成的随机数文件作为根密钥文件；量子随机数发生器基于放大自发辐射机理生成量子随机数，与算法产生的随机数相比，量子随机数发生器产生的随机数具有不可预测性和不可重复性的特点，因此难以被破解和仿冒，加密数据的安全性更高；该类型量子随机数发生器的结构具体可参考中国专利申请号为CN201620510840.7的专利申请文本中公开的一种基于放大自发辐射的量子随机数发生器，它主要包括：超辐射发光模块、光接收模块和数据采集处理模块；超辐射发光模块的发射端与光接收模块的输入端连接，光接收模块的输出端与数据采集处理模块的接收端连接；超辐射发光模块包括超辐射发光二极管和滤波器；光接收模块包括一个或多个光接收单元，滤波器与光接收单元一一对应，每一个光接收单元通过一个并行的滤波器连接超辐射发光二极管。该方案中的量子随机数发生器基于自发辐射的量子物理随机过程，通过快速简单的识别光信号强度来产生数字信号，经过严格的量子熵随机提取出随机数，具有高集成、低成本、和高速率的特点；又例如，一种商用型号为QRNG-200的基于放大自发辐射机理的量子随机数发生器。在一种可能的实施方式中：所述历史数据的传输过程包括以下步骤：S101：密钥生成模块预先生成根密钥文件，并将该根密钥文件分发至云端服务器和所述边缘侧控制模块，以使两者共享有同样的根密钥文件；S102：传输历史数据前，所述边缘侧控制模块预生成一通信密钥；再向所述云端服务器发送数据传输请求，并在请求中携带待发送数据的长度信息和通信密钥；通信密钥具体可通过密钥生成模块实时生成；S103：所述云端服务器响应所述数据传输请求，并生成用于此次数据传输的加密密钥文件的索引信息，利用所述通信密钥加密该索引信息形成加密索引信息，再向所述边缘侧控制模块发送加密索引信息；在一种示例中，云端服务器根据发送数据的长度信息从其存储的根密钥文件中顺序选取对应长度的随机数文件作为此次通信的加密密钥，每次使用后该密钥作废下次不再使用，并生成此次选取的加密密钥在根密钥文件中的位置信息，例如选取根密钥文件中的第1-128bit为用于加密的加密密钥，即索引信息；S104：所述边缘侧控制模块利用其预生成的通信密钥解密从所述云端服务器获取的加密索引信息；S105：所述边缘侧控制模块根据获取的索引信息，从所述根密钥文件中确定用于加密的加密密钥文件，通过该加密密钥文件加密所述历史数据得到密文数据；再将所述密文数据传输至所述云端服务器；S106：云端服务器根据其生成的索引信息从云端服务器中存储的根密钥文件中确定所述加密密钥文件，以此解密所述密文数据；上述历史数据传输的过程中，历史数据采用加密方式传输；用于加密的密钥通过真随机数发生器生成，密钥本身的生成难以被破解和仿冒；同时云端服务器和边缘侧控制模块两者之间在传输历史数据前，通过云端服务器确定此次用于加密的密钥，并通过索引方式进行确认，且不直接传输加密密钥本身，传输的索引也是被加密的，使得用于加密的密钥难以被截获，整体的安全性更高。实施例5：所述边缘侧控制模块还根据天气预测数据，调用所述控制模型生成控制参数，以此控制所述光伏支架每日初始化参数的生成；在夜晚边缘侧控制模块可通过网络获取下一日的天气预测数据，调用其本地部署的控制模型计算生成预设控制参数，以此在天亮时刻提前部署好光伏支架的参数；例如在早间5-6点时刻使用该预设控制参数控制光伏支架，之后再利用数据采集模块采集到的感知信息实时计算生成光伏支架的参数，作精细化调整，在天气预测数据与实际采集的数据变化不大时，可节省调节光伏支架的整体时间。本发明方案所公开的技术手段不仅限于上述实施方式所公开的技术手段，还包括由以上技术特征任意组合所组成的技术方案。应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也视为本发明的保护范围。
