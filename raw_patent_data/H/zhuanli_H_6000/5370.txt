标题title
一种基于图像处理的晶圆元器件统计方法
摘要abst
本发明涉及半导体制造加工技术领域，公开了一种基于图像处理的晶圆元器件统计方法，本发明首先采集晶圆图像，通过图像处理获取晶圆单元基准，然后根据晶圆单元基准，获取待测晶圆的偏移以及偏转角度，接着又根据晶圆单元基准，反推出当前待测晶圆中，各晶圆单元包含的元器件的理论位置，最后再基于晶圆单元基准对待测晶圆各晶圆单元上剩余元器件的种类以及位置进行统计。本发明采用图像处理算法得到晶圆剩余各元器的种类与位置，最终完成晶圆统计，整个过程无需人工反复计算与统计，可避免人工统计所带来的统计误差和耗时长的问题。
权利要求书clms
1.一种基于图像处理的晶圆元器件统计方法，其特征在于，具体包括以下步骤：采集晶圆图像，通过图像处理获取晶圆单元基准；根据晶圆单元基准，获取待测晶圆的偏移以及偏转角度；根据待测晶圆的偏移以及偏转角度，对晶圆单元基准进行补偿，反推出当前待测晶圆中，各晶圆单元包含的元器件的理论位置；基于补偿后的晶圆单元基准，对待测晶圆各晶圆单元上剩余元器件的种类以及位置进行统计。2.根据权利要求1所述的一种基于图像处理的晶圆元器件统计方法，其特征在于，所述采集晶圆图像，通过图像处理获取晶圆单元基准，包括：打开下光源，拍摄一张包含一个完整晶圆单元的图像并保存，在该图像中将晶圆单元特征点所在的区域划分为特征点区域，然后将图像中完整晶圆单元划为ROI区域，在ROI区域内对晶圆单元上的元器件边缘进行划线处理，得到晶圆单元元器件边缘划线模板；关闭下光源，打开上光源，在相同位置处再次拍摄一张包含一个完整晶圆单元的图像并保存，将上一步骤得到的晶圆单元的ROI区域以及元器件边缘划线模板应用于此图像，对晶圆单元进行边缘检测，检测出的元器件边缘数为该晶圆单元中所含元器件的总数；将芯片类型进行对应，最终得出一个晶圆单元中每种类型的元器件各有多少颗，将此完整晶圆单元、元器件边缘划线模板及边缘检测方法进行储存，作为晶圆单元基准。3.根据权利要求2所述的一种基于图像处理的晶圆元器件统计方法，其特征在于，所述根据晶圆单元基准，获取待测晶圆的偏移以及偏转角度，包括：根据待测晶圆的直径以及中间行与中间列晶圆单元的特征点数的预估，得出行特征点间距与列特征点间距；打开下光源，根据行特征点间距，对待测晶圆上位于中间行的晶圆单元进行拍摄，每拍摄一张图片，将晶圆单元与晶圆单元基准进行检测特征点匹配，获取特征点位置，最终得到多组水平误差距离数据；根据列特征点间距，对待测晶圆上位于中间列的晶圆单元进行拍摄，每拍摄一张图片，将待测的晶圆单元与晶圆单元基准进行检测特征点匹配，获取特征点位置，最终得到多组垂直误差距离数据；将相机拍摄的中间行和中间列的晶圆单元图片分别与晶圆单元基准进行对比，得到待测晶圆的偏转角度，根据水平误差距离数据和垂直误差距离数据，得到待测晶圆的偏移值。4.根据权利要求3所述的一种基于图像处理的晶圆元器件统计方法，其特征在于，所述根据待测晶圆的偏移以及偏转角度，对晶圆单元基准进行补偿，反推出当前待测晶圆中，各晶圆单元包含的元器件的理论位置，包括：将待测的晶圆单元中的所有特征点与晶圆单元基准中的特征点进行匹配，然后根据得出的整个待测晶圆的偏转角度以及偏移值，对晶圆单元基准中的ROI区域以及边缘划线模板进行补偿，最终反推出各个待测晶圆单元中各元器件理论位置。5.根据权利要求4所述的一种基于图像处理的晶圆元器件统计方法，其特征在于，所述基于补偿后的晶圆单元基准，对待测晶圆各晶圆单元上剩余元器件的种类以及位置进行统计，包括：将补偿后的晶圆单元基准的ROI区域与边缘划线模板应用于所拍摄的待测晶圆的晶圆单元图片上，然后使用边缘检测方法，最终检测出的元器件边缘数即是每个待测的晶圆单元中所含的元器件数；将元器件类型根据晶圆单元基准进行对应，得出当前待测的晶圆单元中剩余的实际元器件种类与位置，并将此待测的晶圆单元元器件进行统计，最后通过计算待测的晶圆单元元器件理论数量与实际数量的差值完成晶圆单元元器件统计。6.根据权利要求2所述的一种基于图像处理的晶圆元器件统计方法，其特征在于，所述晶圆单元的特征点为晶圆单元的PCM标志位。7.根据权利要求2所述的一种基于图像处理的晶圆元器件统计方法，其特征在于，在应用晶圆单元的ROI区域以及元器件边缘划线模板时，调整边缘检测方法确保一条边缘对应一个检测点，最终检测出准确的芯片边缘。8.根据权利要求3所述的一种基于图像处理的晶圆元器件统计方法，其特征在于，所述行特征点间距与列特征点间距的计算方式为晶圆的直径除以特征点的个数。
说明书desc
技术领域本发明涉及半导体制造加工技术领域，具体涉及一种基于图像处理的晶圆元器件统计方法。背景技术Wafer即大家所说的晶圆，其抽象结构图可参照说明书附图2所示。一片晶圆通常包含上千颗元器件，这些元器件通常有几种类型，每种类型的元器件的大小有所差别。在晶圆的使用过程中，为了充分了解晶圆的使用情况，需要统计出晶圆上不同元器件的使用情况和总数量。而目前，晶圆上不同元器件的统计往往是依靠人工进行统计，存在耗时长、误差大、以及统计记录繁琐等缺点。发明内容针对上述现有技术中存在的问题和缺陷，本发明提供了一种基于图像处理的晶圆元器件统计方法，通过图像处理算法和计算得到晶圆剩余各元器的种类与位置，最终完成晶圆统计，整个过程无需人工反复计算与统计，可避免人工统计所带来的统计误差和耗时长的问题。为了实现上述发明目的，本发明的技术方案如下：一种基于图像处理的晶圆元器件统计方法，具体包括以下步骤：采集晶圆图像，通过图像处理获取晶圆单元基准；根据晶圆单元基准，获取待测晶圆的偏移以及偏转角度；根据待测晶圆的偏移以及偏转角度，对晶圆单元基准进行补偿，反推出当前待测晶圆中，各晶圆单元包含的元器件的理论位置；基于补偿后的晶圆单元基准，对待测晶圆各晶圆单元上剩余元器件的种类以及位置进行统计。作为优选地，所述采集晶圆图像，通过图像处理得到晶圆单元基准，包括：打开下光源，拍摄一张包含一个完整晶圆单元的图像并保存，在该图像中将晶圆单元特征点所在的区域划分为特征点区域，然后将图像中完整晶圆单元划为ROI区域，在ROI区域内对晶圆单元上的元器件边缘进行划线处理，得到晶圆单元元器件边缘划线模板；关闭下光源，打开上光源，在相同位置处再次拍摄一张包含一个完整晶圆单元的图像并保存，将上一步骤得到的晶圆单元的ROI区域以及元器件边缘划线模板应用于此图像，对晶圆单元进行上升沿检测，检测出的元器件边缘数为该晶圆单元中所含元器件的总数；将芯片类型进行对应，最终得出一个晶圆单元中每种类型的元器件各有多少颗，将此完整晶圆单元、元器件边缘划线模板及边缘检测方法进行储存，作为晶圆单元基准。作为优选地，所述根据晶圆单元基准，获取待测晶圆的偏移以及偏转角度，包括：根据待测晶圆的直径以及中间行与中间列晶圆单元的特征点数的预估，得出行特征点间距与列特征点间距；打开下光源，根据行特征点间距，对待测晶圆上位于中间行的晶圆单元进行拍摄，每拍摄一张图片，将晶圆单元与晶圆单元基准进行检测特征点匹配，获取特征点位置，最终得到多组水平误差距离数据；根据列特征点间距，对待测晶圆上位于中间列的晶圆单元进行拍摄，每拍摄一张图片，将待测的晶圆单元与晶圆单元基准进行检测特征点匹配，获取特征点位置，最终得到多组垂直误差距离数据；将相机拍摄的中间行和中间列的晶圆单元图片分别与晶圆单元基准进行对比，得到待测晶圆的偏转角度，根据水平误差距离数据和垂直误差距离数据，得到待测晶圆的偏移值。作为优选地，所述根据待测晶圆的偏移以及偏转角度，对晶圆单元基准进行补偿，反推出当前待测晶圆中，各晶圆单元包含的元器件的理论位置，包括：将待测的晶圆单元中的特征点与晶圆单元基准中的特征点进行匹配，根据得出的整个待测晶圆的偏转角度以及偏移值，对晶圆单元基准中的ROI区域以及边缘划线模板进行补偿，最终反推出各个待测晶圆单元中各元器件理论位置。作为优选地，所述基于补偿后的晶圆单元基准，对待测晶圆各晶圆单元上剩余元器件的种类以及位置进行统计，包括：将补偿后的晶圆单元基准的ROI区域与边缘划线模板应用于所拍摄的待测晶圆的晶圆单元图片上，然后使用边缘检测方法，最终检测出的元器件边缘数即是每个待测的晶圆单元中所含的元器件数；将元器件类型根据晶圆单元基准进行对应，得出当前待测的晶圆单元中剩余的实际元器件种类与位置，并将此待测的晶圆单元元器件进行统计，最后通过计算待测的晶圆单元元器件理论数量与实际数量的差值完成晶圆单元元器件统计。作为优选地，所述晶圆单元的特征点为晶圆单元的PCM标志位，PCM为晶圆单元上的一个有外型特征的特定区域。作为优选地，在应用晶圆单元的ROI区域以及元器件边缘划线模板时，调整边缘检测方法确保一条边缘对应一个检测点，最终检测出准确的芯片边缘。作为优选地，所述行特征点间距与列特征点间距的计算方式为晶圆的直径除以特征点的个数。本发明的有益效果：本发明采用图像处理算法得到晶圆剩余各元器的种类与位置，最终完成晶圆统计，统计结果精确且效率高，整个过程无需人工反复计算与统计，可避免人工统计所带来的统计误差和耗时长的问题。附图说明本发明的前述和下文具体描述在结合以下附图阅读时变得更清楚，附图中：图1为本发明方法流程图；图2为晶圆示意图；图3为本发明晶圆单元示意图；图4为本发明下光源拍摄时晶圆单元的ROI、特征点检测与划线示意图；图5为本发明上光源拍摄时与模板匹配示意图；图6为本发明边缘检测示意图；图7为本发明模板匹配与角度误差示意图。具体实施方式为了使本领域的技术人员更好地理解本发明中的技术方案，下面将通过几个具体的实施例来进一步说明实现本发明发明目的的技术方案，需要说明的是，本发明要求保护的技术方案包括但不限于以下实施例。基于本发明中的实施例，本领域技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都应当属于本发明保护的范围。Wafer即大家所说的晶圆，其抽象结构图可参照说明书附图2所示。一片晶圆通常包含上千颗元器件，这些元器件通常有几种类型，每种类型的元器件的大小有所差别。在晶圆的使用过程中，为了充分了解晶圆的使用情况，需要统计出晶圆上不同元器件的使用情况和总数量。而目前，晶圆上不同元器件的统计往往是依靠人工进行统计，存在耗时长、误差大、以及统计记录繁琐等缺点。基于此，本发明的实施例提出了一种基于图像处理的晶圆元器件统计方法，通过图像处理算法以及模板匹配过程，计算得到晶圆剩余各元器的种类与位置，最终完成晶圆统计。整个过程无需人工反复计算与统计，可避免人工统计所带来的统计误差和耗时长的问题。在本实施例中，首先需要说明的是，参照说明书附图3，晶圆单元是由不同芯片组成，包含一个特征点的一个矩形单元，若干个相同的晶圆单元组成一个晶圆。本实施例公开了一种基于图像处理的晶圆元器件统计方法，参照说明附图1，所述方法主要包括以下步骤。步骤S101.采集晶圆图像，通过图像处理获取晶圆单元基准。在本实施例中，主要通过以下方式获得晶圆单元基准，具体如下：首先打开下光源，拍摄一张包含一个完整晶圆单元的图像并保存，在该图像中将晶圆单元特征点所在的区域划分为特征点区域，然后将图像中整个完整晶圆单元划为ROI区域，在ROI区域内对晶圆单元上的元器件边缘进行划线处理，得到晶圆单元元器件边缘划线模板，参照说明书附图4所示，图中的数字表示所包含的元器件的种类；关闭下光源，打开上光源，在相同位置处再次拍摄一张包含一个完整晶圆单元的图像并保存，将上一步骤得到的晶圆单元的ROI区域以及元器件边缘划线模板应用于此图像，对晶圆单元进行上升沿检测，检测出的元器件边缘数为该晶圆单元中所含元器件的总数，参照说明书附图5和附图6所示；将芯片类型进行对应，最终得出一个晶圆单元中每种类型的元器件各有多少颗，将此完整晶圆单元、元器件边缘划线模板及边缘检测方法进行储存，作为晶圆单元基准。在本实施例中，需要说明的是，所述特征点是指晶圆单元的PCM标志位，特征点相关信息包括整个PCM标志位的信息，例如大小、形状、图像。在本实施例中，上升沿检测是一种图像处理中常用的边缘检测方法。通常情况下，一个晶圆单元中有不同的元器件，不同的元器件大小尺寸不同。但是一般不能完全填满整个晶圆单元，小的元器件旁边需要填充一些不能使用的填充部分来使之均衡。因此，在本发明中，对同一种大小的元器件进行由上往下的上升沿检测，而对于较小的元器件来说，只进行上到下进行采集很有可能采集到小的元器件旁边的填充物，而采用左到右采集即可避免，更加精准，所以较小的元器件通常使用从左往右的上升沿检测方法进行检测。最后，整个上升沿检测过程中，检测到的边上升沿边缘数的总和为该晶圆单元中当前所含元器件的总数。步骤S102.根据晶圆单元基准，获取待测晶圆的偏移以及偏转角度。在本实施例中，通常通过以下方式获取待测晶圆的偏移以及偏转角度：根据待测晶圆的直径以及中间行与中间列晶圆单元的特征点数的预估，得出行特征点间距与列特征点间距；打开下光源，根据行特征点间距，对待测晶圆上位于中间行的晶圆单元进行拍摄，每拍摄一张图片，将晶圆单元与晶圆单元基准进行检测特征点匹配，获取特征点位置，最终得到多组水平误差距离数据；根据列特征点间距，对待测晶圆上位于中间列的晶圆单元进行拍摄，每拍摄一张图片，将晶圆单元与晶圆单元基准进行检测特征点匹配，获取特征点位置，最终得到多组垂直误差距离数据；将相机拍摄的中间行和中间列的晶圆单元图片分别与晶圆单元基准进行对比，得到待测晶圆的偏转角度，根据水平误差距离数据和垂直误差距离数据，得到待测晶圆的偏移值。在本实施例中，需要说明的是，所述检测特征点匹配为将待测的晶圆单元的特征点与晶圆单元基准的特征点进行对比，得到待测的晶圆单元相对于晶圆单元基准的位置和角度偏差情况，参照说明书附图7所示。在本实施例中，还需要说明的是，在进行边缘划线模板匹配时，由于保存到划线模板中的信息包含有划线信息，划线位置相对于晶圆特征点固定，因此匹配时会加载划线模板的划线信息，对晶圆进行划线处理。在本实施例中，所述行特征点间距与列特征点间距的计算方式为晶圆的直径除以特征点的个数。步骤S103.根据待测晶圆的偏移以及偏转角度，对晶圆单元基准进行补偿，然后反推出当前待测晶圆中，各晶圆单元包含的元器件的理论位置。在本实施例中，通常通过以下方式反推出当前待测晶圆中，各晶圆单元包含的元器件的理论位置：将待测的晶圆单元中的所有特征点与晶圆单元基准中的特征点进行匹配，根据得出的待测晶圆的偏转角度以及偏移值，对晶圆单元基准中的ROI区域以及边缘划线模板进行补偿，最终可以反推出待测的晶圆单元中各元器件理论位置。在本实施例中，对晶圆单元基准的ROI区域和划线模板进行补偿指的是根据上一个步骤获得的待测晶圆的偏转角度和偏移值对ROI区域和划线位置进行旋转和移动。步骤S104.基于补偿后的晶圆单元基准，对待测晶圆各晶圆单元上剩余元器件的种类以及位置进行统计。在本步骤中，在统计待测的晶圆单元上的剩余元器件的种类以及位置时，首先将晶圆单元基准的ROI区域与边缘划线模板应用于所拍摄的待测的晶圆单元图片上，然后使用边缘检测方法对待测的晶圆单元进行上升沿的检测，检测出的元器件边缘数即是当前晶圆单元中所含的元器件数，然后将元器件类型根据晶圆单元基准进行对应，即可得出当前晶圆单元中剩余的实际元器件种类与位置，并将此晶圆单元元器件进行统计，最后通过计算晶圆单元元器件理论数量与实际数量的差值完成晶圆单元元器件统计。在本实施例中，上升沿的检测是由暗到亮，当元器件被取走后，上光源拍摄的此元器件的地方为空，为白色亮，边缘检测时则检测不到上升沿，边缘记空，因此元器件记空，表示元器件被取走；并且由于晶圆单元中每种元器件种类、数量及位置相对固定，与晶圆单元基准一致，因此就可以得到每条划线上被取走的元器件种类和数量，以及剩余的元器件种类和数量。同理，可以得到所有待测晶圆单元使用及剩余的元器件种类与数量。在本发明中，最后需要说明的是，由于采集到的图像并不是每一次都边缘清晰，判断边缘时，需要对边缘进行一些图像处理，比如滤波方法以及滤波核。如果滤波方法以及滤波核不合适，一条边缘会被检测出多个检测点，判定为多个边缘，影响结果。在本发明的描述中，需要理解的是，术语“中心”、“纵向”、“横向”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明保护范围的限制。在本发明的描述中，还需要说明的是，除非另有明确的规定和限定，术语“设置”、“安装”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。以上所述，仅是本发明的较佳实施例，并非对本发明做任何形式上的限制，凡是依据本发明的技术实质对以上实施例所作的任何简单修改、等同变化，均落入本发明的保护范围之内。
