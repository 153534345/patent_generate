标题title
文件传输方法、装置及系统
摘要abst
本申请公开了一种文件传输方法、装置及系统，涉及数据传输技术领域。第一计算中心向网关发送针对目标文件的获取请求，该获取请求的格式符合网关的访问协议。网关响应于该获取请求后从多个计算中心中，确定存储有目标文件的第二计算中心，并在该访问协议与该第二计算中心的访问协议不同时，对该获取请求的格式进行转换，再将格式转换后的获取发送至第二计算中心，以供第二计算中心为第一计算中心提供目标文件。由于第一计算中心能通过网关直接从第二计算中心中得到目标文件，而无需用户手动通过终端设备从第二计算中心下载目标文件再上传至第一计算中心，因此有效提高了第一计算中心获取目标文件的效率。
权利要求书clms
1.一种文件传输方法，其特征在于，应用于网关；所述方法包括：响应于第一计算中心发送针对目标文件的获取请求，从多个计算中心中确定存储有所述目标文件的第二计算中心，所述获取请求的格式符合所述网关的访问协议；若所述访问协议与所述第二计算中心的访问协议不同，则对所述获取请求的格式进行转换，转换后的所述格式符合所述第二计算中心的访问协议；将格式转换后的所述获取请求发送至所述第二计算中心，以供所述第二计算中心为所述第一计算中心提供所述目标文件。2.根据权利要求1所述的方法，其特征在于，从多个计算中心中确定存储有所述目标文件的第二计算中心，包括：从多个计算中心中，确定存储有所述目标文件的至少两个备选计算中心；从所述至少两个备选计算中心中，确定第二计算中心，所述第二计算中心将所述目标文件提供至所述第一计算中心所用的时长，为所述至少两个备选计算中心中的最短时长。3.根据权利要求2所述的方法，其特征在于，从所述至少两个备选计算中心中，确定第二计算中心，包括：获取各个所述备选计算中心的目标分值，所述目标分值表征所述备选计算中心从读取所述目标文件，到将所述目标文件传输至所述第一计算中心的速度；将所述目标分值最大的所述备选计算中心，确定为所述第二计算中心。4.根据权利要求3所述的方法，其特征在于，所述计算中心包括：多种不同类型的存储介质；获取各个所述备选计算中心对应的目标分值，包括：对于每个所述备选计算中心，根据所述目标文件所存储的存储介质的目标类型，以及所述备选计算中心是否为所述第一计算中心的目标结果，确定所述备选计算中心对应的目标分值。5.根据权利要求4所述的方法，其特征在于，根据所述目标文件所存储的存储介质的目标类型，以及所述备选计算中心是否为所述第一计算中心的目标结果，确定所述备选计算中心对应的目标分值，包括：根据所述目标类型，所述目标结果，从分值随存储介质的类型和结果变化的变化关系中，确定所述备选计算中心对应的目标分值；其中，所述变化关系中记录的结果包括：用于指示所述备选计算中心是所述第一计算中心的第一结果；以及用于指示所述备选计算中心不是所述第一计算中心的第二结果。6.根据权利要求2至5任一所述的方法，其特征在于，所述方法还包括：获取各个所述计算中心发送的文件清单，所述文件清单记录有所述计算中心中存储的文件的标识；从多个计算中心中，确定存储有所述目标文件的至少两个备选计算中心，包括：将记录有所述目标文件的标识的文件清单所属的计算中心，确定为备选计算中心。7.根据权利要求6所述的方法，其特征在于，所述文件清单中还记录有所述文件所存储的存储介质的类型。8.一种文件传输装置，其特征在于，应用于网关；所述装置包括：确定模块，用于响应于第一计算中心发送针对目标文件的获取请求，从多个计算中心中确定存储有所述目标文件的第二计算中心，所述获取请求的格式符合所述网关的访问协议；转换模块，用于若所述访问协议与所述第二计算中心的访问协议不同，则对所述获取请求的格式进行转换，转换后的所述格式符合所述第二计算中心的访问协议；发送模块，用于将格式转换后的所述获取请求发送至所述第二计算中心，以供所述第二计算中心为所述第一计算中心提供所述目标文件。9.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时，实现如权利要求1-7中任一项所述的方法。10.一种文件传输系统，其特征在于，所述系统包括：多个计算中心，以及网关；所述网关用于执行如权利要求1-7中任一项所述的方法。
说明书desc
技术领域本申请涉及数据传输技术领域，尤其涉及一种文件传输方法、装置及系统。背景技术随着数据处理需求的增长，目前的计算中心在执行计算任务时，需要获取其他计算中心中存储的数据文件。相关技术中，用户可以手动通过终端设备可以从该其他计算中心中下载该数据文件，再通过终端设备将该数据文件上传至该计算中心。相应的，该计算中心即可获取该数据文件。但是，相关技术中的计算中心从其他计算中心获取数据文件的效率较低。发明内容本申请实施例提供了一种文件传输方法、装置及系统，可以解决相关技术中计算中心从其他计算中心获取数据文件的效率较低的问题。所述的技术方案如下：一方面，提供了一种文件传输方法，应用于网关；所述方法包括：响应于第一计算中心发送针对目标文件的获取请求，从多个计算中心中确定存储有所述目标文件的第二计算中心，所述获取请求的格式符合所述网关的访问协议；若所述访问协议与所述第二计算中心的访问协议不同，则对所述获取请求的格式进行转换，转换后的所述格式符合所述第二计算中心的访问协议；将格式转换后的所述获取请求发送至所述第二计算中心，以供所述第二计算中心为所述第一计算中心提供所述目标文件。可选的，从多个计算中心中确定存储有所述目标文件的第二计算中心，包括：从多个计算中心中，确定存储有所述目标文件的至少两个备选计算中心；从所述至少两个备选计算中心中，确定第二计算中心，所述第二计算中心将所述目标文件提供至所述第一计算中心所用的时长，为所述至少两个备选计算中心中的最短时长。可选的，从所述至少两个备选计算中心中，确定第二计算中心，包括：获取各个所述备选计算中心的目标分值，所述目标分值表征所述备选计算中心从读取所述目标文件，到将所述目标文件传输至所述第一计算中心的速度；将所述目标分值最大的所述备选计算中心，确定为所述第二计算中心。可选的，所述计算中心包括：多种不同类型的存储介质；获取各个所述备选计算中心对应的目标分值，包括：对于每个所述备选计算中心，根据所述目标文件所存储的存储介质的目标类型，以及所述备选计算中心是否为所述第一计算中心的目标结果，确定所述备选计算中心对应的目标分值。可选的，根据所述目标文件所存储的存储介质的目标类型，以及所述备选计算中心是否为所述第一计算中心的目标结果，确定所述备选计算中心对应的目标分值，包括：根据所述目标类型，所述目标结果，从分值随存储介质的类型和结果变化的变化关系中，确定所述备选计算中心对应的目标分值；其中，所述变化关系中记录的结果包括：用于指示所述备选计算中心是所述第一计算中心的第一结果；以及用于指示所述备选计算中心不是所述第一计算中心的第二结果。可选的，所述方法还包括：获取各个所述计算中心发送的文件清单，所述文件清单记录有所述计算中心中存储的文件的标识；从多个计算中心中，确定存储有所述目标文件的至少两个备选计算中心，包括：将记录有所述目标文件的标识的文件清单所属的计算中心，确定为备选计算中心。可选的，所述文件清单中还记录有所述文件所存储的存储介质的类型。另一方面，提供了一种文件传输装置，应用于网关。所述装置包括：确定模块，用于响应于第一计算中心发送针对目标文件的获取请求，从多个计算中心中确定存储有所述目标文件的第二计算中心，所述获取请求的格式符合所述网关的访问协议；转换模块，用于若所述访问协议与所述第二计算中心的访问协议不同，则对所述获取请求的格式进行转换，转换后的所述格式符合所述第二计算中心的访问协议；发送模块，用于将格式转换后的所述获取请求发送至所述第二计算中心，以供所述第二计算中心为所述第一计算中心提供所述目标文件。又一方面，提供了一种网关，所述网关包括：存储器，处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如上述方面所述的方法。再一方面，提供了一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时，实现如上述方面所述的方法。再一方面，提供了一种文件传输系统，其特征在于，所述系统包括：多个计算中心，以及如上述方面所述的网关。本申请提供的技术方案带来的有益效果至少包括：本申请提供了一种文件传输方法、装置及系统，第一计算中心能够向网关发送针对目标文件的获取请求，该获取请求的格式符合网关的访问协议。网关响应于该获取请求后能够从多个计算中心中，确定存储有目标文件的第二计算中心，并在确定该访问协议与该第二计算中心的访问协议不同时，对该获取请求的格式进行转换，再将格式转换后的获取发送至第二计算中心，以供第二计算中心为第一计算中心提供目标文件。由于第一计算中心可以通过网关直接从第二计算中心中得到目标文件，而无需用户手动通过终端设备从第二计算中心下载目标文件再上传至第一计算中心，因此有效提高了第一计算中心获取目标文件的效率，从而提高了第一计算中心的执行计算任务的效率。并且，由于第一计算中心仅需按照网关的访问协议发送针对目标文件的获取请求，网关能够根据第二计算中心的访问协议对该获取请求的格式进行转换，而无需第一计算中心根据所需访问计算中心的访问协议发送格式符合该访问协议的获取请求，即本申请提供的方法支持计算中心通过统一的访问协议来访问其他计算中心，因此可以使得第一计算中心能够无感知的访问不同的计算中心以获取文件，从而便于计算中心跨计算中心来快速获取文件。本申请附加的方面和优点将在下面的描述中部分给出，部分将从下面的描述中变得明显，或通过本申请的实践了解到。附图说明图1是本申请实施例提供的一种文件传输系统的结构示意图；图2是本申请实施例提供的一种文件传输方法的流程图；图3是本申请实施例提供的另一种文件传输方法的流程图；图4是本申请实施例提供的一种文件传输装置的结构示意图；图5是本申请实施例提供的另一种文件传输装置的结构示意图；图6是本申请实施例提供的一种网关的结构示意图。具体实施方式下面详细描述本申请的实施例，实施例的示例在附图中示出，其中自始至终相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施例是示例性的，旨在用于解释本申请，而不能理解为对本申请的限制。图1是本申请实施例提供的一种文件传输系统的结构示意图。参见图1，该文件传输系统可以包括：网关100，以及多个计算中心200。其中，每个计算中心200均可以与该网关100建立有通信连接。在本申请实施例中，每个计算中心可以是集存储与计算于一体的云计算服务器中心，且每个计算中心均具有用于存储文件的存储系统。至少两个计算中心的存储系统的存储类型可以不同。存储系统的存储类型可以包括下述类型中的一种：文件存储和对象存储。相应的，存储系统可以为文件存储系统和对象存储系统。其中，文件存储系统支持挂载到本地的挂载点以文件夹、文件的形式进行读写。例如，该文件存储系统可以为：分布式并行文件系统Lustre。对象存储系统可以是采用简便的存储服务协议进行文件存储的存储系统。可以理解的是，不同存储类型的存储系统所属的计算中心的访问协议不同，即不同存储系统所属的计算中心的访问方式不同。例如，对于文件存储系统所在的计算中心，可以采用可移植操作系统接口协议或网络文件系统协议进行访问。对于对象存储系统所在的计算中心，可以采用超文本传输协议进行访问。在本申请实施例中，每个计算中心的存储系统可以包括多种不同的存储介质。多种存储介质的读写速度不同。例如，多种存储介质可以包括：内存、固态硬盘和机械硬盘等等。其中，内存的读写速度是内存、SSD和HDD中的最快速度，其次是SSD，再次是HDD。内存的容量一般较小，且计算中心断电后会丢失全部数据。SSD的价格较高，且多次擦除/写入会影响SSD的使用寿命。HDD的容量一般较大，且价格较低。可以理解的是，按照接口协议，SSD又可以分为非易失性内存总线SSD和串行硬盘接口SSD。其中，NVMe SSD的读写速度高于SATA SSD的读写速度，且NVMe SSD的价格也比SATA SSD的价格高。在本申请实施例中，由于能够将计算中心的不同类型和不同价格的存储介质结合起来，构建多层次结构的存储系统，因此不仅能够扩展计算中心的缓存的容量，也有助于根据用户需求来降低缓存成本。本申请实施例提供了一种文件传输方法，该方法应用于文件传输系统，例如图1所示的文件传输系统。参见图2，该方法包括：步骤101、第一计算中心向网关发送针对目标文件的获取请求。其中，该第一计算中心可以为图1所示的任一计算中心。由于获取请求是发送至网关的，因此该获取请求的格式符合网关的访问协议。可以理解的是，该网关的访问协议可以为用于访问对象存储系统的访问协议，或者可以为用于访问文件存储系统的访问协议。例如，网关的访问协议可以为HTTP协议。在本申请实施例中，该目标文件可以是第一计算中心执行计算任务所需的文件。因此，第一计算中心在可以执行计算任务之前，向网关发送针对目标文件的获取请求。步骤102、网关响应于针对目标文件的获取请求，从多个计算中心中确定存储有目标文件的第二计算中心。网关接收到该获取请求后，即可从多个计算中心中确定存储有该目标文件的第二计算中心。其中，该第二计算中心可能是图1所示的多个计算中心中除第一计算中心外的计算中心，也可能是第一计算中心。可以理解的是，第一计算中心可能也会存储该目标文件，但是第一计算中心从自身的存储系统获取该目标文件所需的时长，可能会大于从其他计算中心获取目标文件所需的时长。若第一计算中心直接从自身的存储系统读取目标文件，则会降低目标文件的获取效率。基于此，在第一计算中心存储有该目标文件的情况下，本申请实施例提供的方法将第一计算中心作为一个备选计算中心，再从备选计算中心中确定第二计算中心，可以有效提高目标文件的获取效率。步骤103、网关若确定该网关的访问协议与第二计算中心的访问协议不同，则对获取请求的格式进行转换。其中，获取请求的转换后的格式符合第二计算中心的访问协议。在本申请实施例中，网关确定第二计算中心后，可以检测第二计算中心的访问协议是否与自身的访问协议相同。若网关确定第二计算中心的访问协议与自身的访问协议相同，则可以直接向该第二计算中心发送该访问请求。若网关确定第二计算中心的访问协议与自身的访问协议不同，则可以对该获取请求的格式进行转换。步骤104、网关向第二计算中心发送格式转换后的获取请求。网关将获取请求的格式转换为符合第二计算中心的访问协议所要求的格式后，可以将格式转换后的获取请求发送至第二计算中心，以供第二计算中心响应。步骤105、第二计算中心响应于格式转换后的获取请求，为第一计算中心提供目标文件。在本申请实施例中，若第二计算中心为第一计算中心，则第一计算中心接收到格式转换后的获取请求后，即可直接从自身的存储系统中读取该目标文件以基于该目标文件执行计算任务。若第二计算中心并非是第一计算中心，则第二计算中心接收到格式转换后的获取请求后，可以响应于该获取请求读取存储的目标文件，并将读取到的目标文件发送至网关。网关继而可以将该目标文件转发至第一计算中心，以便第一计算中心基于该目标文件执行计算任务。综上所述，本申请实施例提供了一种文件传输方法，第一计算中心能够向网关发送针对目标文件的获取请求，该获取请求的格式符合网关的访问协议。网关响应于该获取请求后能够从多个计算中心中，确定存储有目标文件的第二计算中心，并在确定该访问协议与该第二计算中心的访问协议不同时，对该获取请求的格式进行转换，再将格式转换后的获取发送至第二计算中心，以供第二计算中心为第一计算中心提供目标文件。由于第一计算中心可以通过网关直接从第二计算中心中得到目标文件，而无需用户手动通过终端设备从第二计算中心下载目标文件再上传至第一计算中心，因此有效提高了第一计算中心获取目标文件的效率，从而提高了第一计算中心的执行计算任务的效率。并且，由于第一计算中心仅需按照网关的访问协议发送针对目标文件的获取请求，网关能够根据第二计算中心的访问协议对该获取请求的格式进行转换，而无需第一计算中心根据所需访问计算中心的访问协议发送格式符合该访问协议的获取请求，即本申请实施例提供的方法支持计算中心通过统一的访问协议来访问其他计算中心，因此可以使得第一计算中心能够无感知的访问不同的计算中心以获取文件，从而便于计算中心跨计算中心来快速获取文件。图3是本申请实施例提供的另一种文件传输方法的流程图，该方法可以应用于文件传输系统，例如图1所示的文件传输系统。参见图3，该方法可以包括：步骤201、第一计算中心向网关发送针对目标文件的获取请求。其中，该第一计算中心可以为图1所示的任一计算中心。由于获取请求是发送至网关的，因此该获取请求的格式符合网关的访问协议。该获取请求可以包括目标文件的标识，该标识可以包括：目标文件的名称和目标文件的存储路径。该目标文件为第一计算中心执行计算任务所需的数据文件。可以理解的是，该网关的访问协议可以为用于访问对象存储系统的访问协议，或者可以为用于访问文件存储系统的访问协议。例如，网关的访问协议可以为HTTP协议。在本申请实施例中，由于该目标文件为第一计算中心执行计算任务所需的文件，因此第一计算中心可以在执行计算任务之前，向网关发送针对目标文件的获取请求。步骤202、网关响应于针对目标文件的获取请求，从多个计算中心中确定至少一个备选计算中心。其中，每个备选计算中心均存储有第一计算中心所请求的目标文件。在一种可选的实现方式中，网关接收到该获取请求后，可以向多个计算中心发送文件查询指令，该文件查询指令包括目标文件的标识。各个计算中心接收到该文件查询指令后，可以查询自身的存储系统是否记录有该标识所指示的目标文件，并可以向网关发送查询结果，该查询结果可以用于指示该计算中心中是否存储有该目标文件。网关继而即可基于各个计算中心发送的查询结果，从多个计算中心中确定至少一个备选计算中心。在另一种可选的实现方式中，网关可以获取多个计算中心中每个计算中心的文件清单，该文件清单可以记录有该计算中心存储的文件的标识。网关可以将每个记录有该目标文件的标识的文件清单所属的计算中心，确定为一个备选计算中心。可以理解的是，第一计算中心可能也会存储该目标文件，但是第一计算中心从自身的存储系统获取该目标文件所需的时长，可能会大于从其他计算中心获取目标文件所需的时长。若第一计算中心直接从自身的存储系统读取目标文件，则会降低目标文件的获取效率。基于此，在第一计算中心存储有该目标文件的情况下，本申请实施例提供的方法会将第一计算中心作为一个备选计算中心，再从备选计算中心中确定第二计算中心，以有效提高目标文件的获取效率。步骤203、网关从至少一个备选计算中心中，确定第二计算中心。在本申请实施例中，若至少一个备选计算中心的个数为一个，则网关可以直接将该备选计算中心，确定为第二计算中心。若至少一个备选计算中心的个数为至少两个，则网关可以将至少两个备选计算中心中，将目标文件提供至第一计算中心所用的时长为最短时长的备选计算中心，确定为第二计算中心。在本申请实施例中，目标文件所占用的存储空间的大小固定，因此读取目标文件的速度越快，且将该目标文件传输至第一计算中心的速度越快，将目标文件提供至第一计算中心所用的时长为最短。基于此，网关可以获取至少两个备选计算中心中每个备选第二计算对应的目标分值，该目标分值用于表征备选计算中心从读取目标文件，到将该目标文件传输至第一计算中心的速度。然后，网关可以将目标分值最大的备选计算中心，确定为第二计算中心。可以理解的是，至少两个备选计算中心可能会包括第一计算中心，且至少两个备选计算中心中，存储目标文件的存储介质可能不同。不同的存储介质的读写速度不同，且对于同一类型的存储介质，第一计算中心从自身的该存储介质中获取文件的速度，比从其他计算中心的该存储介质中获取文件的速度快。因此，对于每个备选计算中心，网关可以根据目标文件所存储的存储介质的类型，以及备选计算中心是否为第一计算中心的结果，确定该备选计算中心的目标分值。可以理解的是，每个备选计算中心向网关发送查询结果还可以用于指示：备选计算中心中存储目标文件的存储介质。网关接收到该查询结果后，即可确定该存储介质。或者，每个计算中心的文件清单还可以记录有文件所存储的存储介质。基于此，对于每个备选计算中心，网关可以根据该备选计算中心的文件清单，确定该备选计算中心中存储目标文件的存储介质。在一种可选的实现方式中，对于每个备选中心，网关可以获取存储目标文件的存储介质对应的第一分值，以及目标结果对应的第二分值。然后，网关可以根据第一分值和第二分值，确定该备选中心对应的目标分值。该目标分值可以与该第一分值和第二分值均正相关。可以理解的是，网关可以预先存储有存储介质的类型与分值的第一对应关系，以及结果与分值的第二对应关系。该结果可以包括：用于指示备选计算中心是第一计算中心的第一结果；以及用于指示备选计算中心不是第一计算中心的第二结果。网关可以根据该第一对应关系，确定存储目标文件的存储介质对应的第一分值，并可以根据第二对应关系，确定存储目标结果对应的第二分值。其中，第一对应关系中记录的分值与存储介质的读写速度正相关，即存储介质的读写速度越快，对应的一分值越大。第二对应关系中，第一结果对应的分值，大于第二结果对应的分值。在另一种可选的实现方式中，网关预先存储有分值随存储介质的类型和结果变化的变化关系。对于每个备选计算中心，网关可以根据备选计算中心存储目标文件的存储介质的类型，以及备选计算中心是否为第一计算中心的目标结果，从该变换关系中确定该备选计算中心对应的目标分值。其中，该变换关系中记录的结果包括：用于指示备选计算中心是第一计算中心的第一结果；以及用于指示备选计算中心不是第一计算中心的第二结果。例如，假设存储介质的类型包括：SATA SSD和NVMe SSD，则该变化关系中：第一结果下，NVMe SSD对应的分值为5；第一结果下，SATA SSD对应的分值为3；第二结果下，NVMeSSD对应的分值为2；第二结果下，SATA SSD对应的分值为1.5。此外，该变换关系中还记录有第一结果下，未存储目标文件对应的分值为1；第二结果下，未存储目标文件对应的分值为0.5。可以理解的是，若网关确定多个备选计算中心中至少两个备选计算中心对应的目标分值相同，则可以将该至少两个备选计算中心中任一备选计算中心确定为第二计算中心。步骤204、网关检测第一计算中心发送的获取请求的格式所符合的访问协议与第二计算中心的访问协议是否不同。在本申请实施例中，第二计算中心的访问协议与网关的访问协议可能不同。若网关直接将该获取请求转发至第二计算中心，则可能会出现因获取请求的格式不符合第二计算中心的访问协议，导致第二计算中心无法响应该获取请求的问题。基于此，网关确定第二计算中心后，可以检测该获取请求的格式所符合的访问协议与第二计算中心的访问协议是否相同。若网关确定该获取请求的格式所符合的访问协议与第二计算中心的访问协议不同，则可以执行步骤205。若网关确定该获取请求的格式所符合的访问协议与第二计算中心的访问协议相同，则可以直接执行步骤206。其中，第二计算中心的访问协议可以是网关预先存储的。该访问协议为网关与第二计算中心预先约定的共享文件的协议。步骤205、网关对获取请求的格式进行转换。若网关确定第一计算中心发送的获取请求的格式所符合的访问协议与第二计算中心的访问协议不同，则可以对该获取请求的格式进行转换。其中，获取请求的转换后的格式符合第二计算中心的访问协议。例如，若第一计算中心发送的获取请求的格式符合HTTP协议，而第二计算中心的访问协议为POSIX协议，则网关可以将该获取请求的格式转换为符合POSIX协议的格式。步骤206、网关将获取请求发送至第二计算中心。在本申请实施例中，对于第一计算中心发送的获取请求的格式所符合的访问协议与第二计算中心的访问协议相同的情况，网关可以直接将该获取请求发送至第二计算中心。对于第一计算中心发送的获取请求的格式所符合的访问协议与第二计算中心的访问协议不同的情况，网关可以将格式转换后的获取请求发送至第二计算中心。步骤207、第二计算中心响应于获取请求，为第一计算中心提供目标文件。在本申请实施例中，若第二计算中心为第一计算中心，则第一计算中心接收到获取请求后，即可直接从自身的存储系统中读取该目标文件以基于该目标文件执行计算任务。若第二计算中心并非是第一计算中心，则第二计算中心接收到获取请求后，可以响应于该获取请求读取存储的目标文件，并将读取到的目标文件发送至网关。网关继而可以将该目标文件转发至第一计算中心，以便第一计算中心基于该目标文件执行计算任务。可以理解的是，上述获取请求可能是格式转换后的获取请求，也可能是格式未转换的获取请求。在本申请实施例中，网关获取的每个计算中心的文件清单，均可以是该计算中心发送至网关的。例如，每个计算中心可以在启动后，向网关发送文件清单；并且，每个计算中心还可以在文件的位置发生变化后，向网关发生文件清单。如此，可以确保网关基于文件清单，能够准确确定出第二计算中心。每个计算中心所包括的多种不同类型的存储介质的级别不同。该存储介质的级别取决于存储介质的存储性能，且该级别与该存储性能可以正相关。即存储介质的存储性能越好，该存储介质的级别便越高；存储介质的存储性能越差，该存储介质的级别便越低。其中，存储介质的存储性能由该存储介质在处理数据时的速度确定。在本申请实施例中，每个计算中心可以获取该计算中心中存储的文件的热度相对值，以及该文件的层级比重，并可以根据该热度相对值和该层级比重，对文件所处的位置进行调整，即进行文件迁移。例如，对于每个文件，计算中心可以比较该热度相对值与该层级比重的大小，并在确定该热度相对值大于该层级比重的情况下，将该文件迁移至第一级别的存储介质中；在确定该热度相对值小于该层级比重的情况下，将该文件迁移至第二级别的存储介质中；以及在确定热度相对值与层级比重相等的情况下，使得该文件继续存储在当前所在的存储介质中。其中，第一级别与当前所在的存储介质的级别相邻，且大于当前的存储介质的级别，即在按照从大到小的顺序排列的情况下，第一级别为当前级别的前一级别。第二级别与当前所在的存储介质的级别相邻，且小于当前的存储介质的级别，即在按照从大到小的顺序排列的情况下，第二级别为当前级别的后一级别。可以理解的是，计算中心对文件进行迁移的过程可以包括：计算中心从文件当前所存储的存储介质中，将该文件剪切至目标级别的存储介质中。即计算中心可以从该当前所存储的存储介质中，将该文件拷贝至目标级别的存储介质中，并从当前所存储的存储介质中删除该文件。其中，该目标级别可以为前文所述的第一级别或第二级别。在本申请实施例中，对于每个文件，计算中心可以根据该计算中心的所有存储介质的容量的和值，以及该文件所在存储介质的容量，确定该文件的层级比重。该层级比重与该和值负相关，且与该文件所在存储介质的容量正相关。例如，该层级比重可以为该文件所在存储介质的容量与该和值的比值。并且，计算中心可以根据该文件所占用的存储区域的大小和请求频率，确定该文件的文件热度。该文件热度正比于该大小和该请求频率的乘积。然后，计算中心可以根据该文件热度，以及计算中心的存储系统中所缓存的所有文件所占用的存储区域的大小，确定文件的热度相对值。其中，该热度相对值正比于该文件热度，且反比于该所有文件所占用的存储区域的大小。可选的，该文件热度可以等于该文件所占用的存储空间的大小，与该请求频率的乘积。该热度相对值可以等于文件的文件热度与该所有文件所占用的存储区域的大小的比值。可以理解的是，计算中心设置有热度统计组件，该热度统计组件可以周期性的根据文件目标时段内的请求频率，以及缓存文件的大小，确定该文件的文件热度。其中，该目标时段的结束时刻可以为该热度统计组件统计各个文件的文件热度的时刻，且该目标时段的时长可以是计算中心预先存储的预设时长。例如，该预设时长可以3天或5天。根据上述描述可知，计算中心可以根据文件的文件热度，调整文件所处的存储介质，以调整文件的读取速度。如此，可以确保文件热度较高的文件能够存储于计算中心中存储性能较好的存储介质中，从而可以确保该文件的获取效率效率较高，降低了文件的获取延迟，且可以提高存储介质的利用率。此外，对于每种类型的存储介质，计算中心在确定该存储介质的占用率高于第一容量阈值的情况下，也可以对该存储介质中存储的文件进行迁移。对于每种类型的存储介质，计算中心可以检测该存储介质的占用率是否大于该存储介质的第一容量阈值。若计算中心确定该存储介质的占用率大于该第一容量阈值，且该存储介质的级别并非最低级别，则可以按照文件热度从低到高的顺序，依次将该存储介质中存储的文件迁移至后一级别的存储介质，直至该存储介质的占用率达到该存储介质的第二容量阈值。每种存储介质的第二容量阈值小于该存储介质的第一容量阈值。若计算中心确定该存储介质的占用率大于第一容量阈值，且该存储介质的级别最低，则可以按照文件热度从低到高的顺序，依次删除该存储介质中存储的文件，直至该存储介质的占用率达到第二容量阈值。可以理解的是，每种存储介质的第二容量阈值小于该存储介质的第一容量阈值。且计算中心在启动后可以加载配置文件，该配置文件中记录有该计算中心的多种存储介质的级别，每种存储介质的第一容量阈值和第二容量阈值，以及每种存储介质的容量。相应得，该计算中心即可获取每种存储介质的第一容量阈值和第二容量阈值，以及存储介质的容量。例如，NVMe SSD的第一容量阈值可以为0.9，第二容量阈值可以为0.6。SATA SSD的第一容量阈值可以为0.95，第二容量阈值可以为0.7。可以理解的是，本申请实施例提供的文件传输方法的步骤的先后顺序可以进行适当调整，步骤也可以根据情况进行相应增减。例如，步骤202和步骤203可以根据情况删除，例如网关可以将任一存储有目标文件的计算中心确定为第二计算中心。任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化的方法，都应涵盖在本申请的保护范围之内，因此不再赘述。综上所述，本申请实施例提供了一种文件传输方法，第一计算中心能够向网关发送针对目标文件的获取请求，该获取请求的格式符合网关的访问协议。网关响应于该获取请求后能够从多个计算中心中，确定存储有目标文件的第二计算中心，并在确定该访问协议与该第二计算中心的访问协议不同时，对该获取请求的格式进行转换，再将格式转换后的获取发送至第二计算中心，以供第二计算中心为第一计算中心提供目标文件。由于第一计算中心可以通过网关直接从第二计算中心中得到目标文件，而无需用户手动通过终端设备从第二计算中心下载目标文件再上传至第一计算中心，因此有效提高了第一计算中心获取目标文件的效率，从而提高了第一计算中心的执行计算任务的效率。并且，由于第一计算中心仅需按照网关的访问协议发送针对目标文件的获取请求，网关能够根据第二计算中心的访问协议对该获取请求的格式进行转换，而无需第一计算中心根据所需访问计算中心的访问协议发送格式符合该访问协议的获取请求，即本申请实施例提供的方法支持计算中心通过统一的访问协议来访问其他计算中心，因此可以使得第一计算中心能够无感知的访问不同的计算中心以获取文件，从而便于计算中心跨计算中心来快速获取文件。本申请实施例提供了一种文件传输装置，该装置可以用于执行上述方法实施例提供的应用于网关的文件传输方法。参见图4，该装置300可以包括：确定模块301，用于响应于第一计算中心发送针对目标文件的获取请求，从多个计算中心中确定存储有目标文件的第二计算中心，获取请求的格式符合网关的访问协议。转换模块302，用于若访问协议与第二计算中心的访问协议不同，则对获取请求的格式进行转换，转换后的格式符合第二计算中心的访问协议。发送模块303，用于将格式转换后的获取请求发送至第二计算中心，以供第二计算中心为第一计算中心提供目标文件。可选的，确定模块301可以用于：从多个计算中心中，确定存储有目标文件的至少两个备选计算中心；从至少两个备选计算中心中，确定第二计算中心，第二计算中心将目标文件提供至第一计算中心所用的时长，为至少两个备选计算中心中的最短时长。可选的，确定模块301可以用于：获取各个备选计算中心的目标分值，目标分值表征备选计算中心从读取目标文件，到将目标文件传输至第一计算中心的速度；将目标分值最大的备选计算中心，确定为第二计算中心。可选的，计算中心包括：多种不同类型的存储介质。确定模块301可以用于：对于每个备选计算中心，根据目标文件所存储的存储介质的目标类型，以及备选计算中心是否为第一计算中心的目标结果，确定备选计算中心对应的目标分值。可选的，确定模块301可以用于：根据目标类型，目标结果，从分值随存储介质的类型和结果变化的变化关系中，确定备选计算中心对应的目标分值；其中，变化关系中记录的结果包括：用于指示备选计算中心是第一计算中心的第一结果；以及用于指示备选计算中心不是第一计算中心的第二结果。可选的，参见图5，该装置300还可以包括：获取模块304，用于获取各个计算中心发送的文件清单，文件清单记录有计算中心中存储的文件的标识；确定模块301，可以用于将记录有目标文件的标识的文件清单所属的计算中心，确定为备选计算中心。可选的，文件清单中还记录有文件所存储的存储介质的类型。综上所述，本申请实施例提供了一种文件传输装置，第一计算中心能够向该装置发送针对目标文件的获取请求，该获取请求的格式符合网关的访问协议。该装置响应于该获取请求后能够从多个计算中心中，确定存储有目标文件的第二计算中心，并在确定该访问协议与该第二计算中心的访问协议不同时，对该获取请求的格式进行转换，再将格式转换后的获取发送至第二计算中心，以供第二计算中心为第一计算中心提供目标文件。由于第一计算中心可以通过该装置直接从第二计算中心中得到目标文件，而无需用户手动通过终端设备从第二计算中心下载目标文件再上传至第一计算中心，因此有效提高了第一计算中心获取目标文件的效率，从而提高了第一计算中心的执行计算任务的效率。并且，由于第一计算中心仅需按照该装置的访问协议发送针对目标文件的获取请求，该装置能够根据第二计算中心的访问协议对该获取请求的格式进行转换，而第一计算中心无需根据所需访问计算中心的访问协议发送格式符合该访问协议的获取请求，即本申请实施例提供的装置支持计算中心通过统一的访问协议来访问其他计算中心，因此可以使得第一计算中心能够无感知的访问不同的计算中心以获取文件，从而便于计算中心跨计算中心来快速获取文件。图6是本申请实施例提供的一种网关的结构示意图。如图6所示，网关100包括：处理器101和存储器103。其中，处理器101和存储器103相连，如通过总线102相连。处理器101可以是CPU，通用处理器，DSP，ASIC，FPGA或者其他可编程逻辑器件、晶体管逻辑器件、硬件部件或者其任意组合。其可以实现或执行结合本申请公开内容所描述的各种示例性的逻辑方框、模块和电路。处理器101也可以是实现计算功能的组合，例如包含一个或多个微处理器组合，DSP和微处理器的组合等。总线102可包括一通路，在上述组件之间传送信息。总线102可以是PCI总线或EISA总线等。总线102可以分为地址总线、数据总线、控制总线等。为便于表示，图6中仅用一条粗线表示，但并不表示仅有一根总线或一种类型的总线。存储器103用于存储与本申请上述实施例提供的应用于网关的文件传输方法对应的计算机程序，该计算机程序由处理器101来控制执行。处理器101用于执行存储器103中存储的计算机程序，以实现前述方法实施例所示的内容。本申请实施例还提供了一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时，实现如上述方法实施例提供的方法。本申请实施例还提供了一种文件传输系统，参见图1，该系统包括：网关100，以及多个计算中心200。需要说明的是，在流程图中表示或在此以其他方式描述的逻辑和/或步骤，例如，可以被认为是用于实现逻辑功能的可执行指令的定序列表，可以具体实现在任何计算机可读介质中，以供指令执行系统、装置或设备使用，或结合这些指令执行系统、装置或设备而使用。就本说明书而言，"计算机可读介质"可以是任何可以包含、存储、通信、传播或传输程序以供指令执行系统、装置或设备或结合这些指令执行系统、装置或设备而使用的装置。计算机可读介质的更具体的示例包括以下：具有一个或多个布线的电连接部，便携式计算机盘盒，随机存取存储器，只读存储器，可擦除可编辑只读存储器，光纤装置，以及便携式光盘只读存储器。另外，计算机可读介质甚至可以是可在其上打印程序的纸或其他合适的介质，因为可以例如通过对纸或其他介质进行光学扫描，接着进行编辑、解译或必要时以其他合适方式进行处理来以电子方式获得程序，然后将其存储在计算机存储器中。应当理解，本申请的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件或固件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或他们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列，现场可编程门阵列等。在本说明书的描述中，参考术语“一个实施例”、“一些实施例”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本申请的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施例或示例中以合适的方式结合。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。在本申请的描述中，“多个”的含义是至少两个，例如两个，三个等，除非另有明确具体的限定。尽管上面已经示出和描述了本申请的实施例，可以理解的是，上述实施例是示例性的，不能理解为对本申请的限制，本领域的普通技术人员在本申请的范围内可以对上述实施例进行变化、修改、替换和变型。
