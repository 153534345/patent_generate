标题title
一种峰值电压控制电路及软件控制系统
摘要abst
本发明涉及峰值电压电路控制和软件控制的技术领域，公开了一种峰值电压控制电路及软件控制系统，包括用于将方波二分频并处理得到不同方波的软启动模块，用于控制电压控制信号输出的开关频率控制模块，用于控制峰值电压输出的峰值电压控制模块，本发明实现了控制峰值电压电路结构简单，可塑性强，通过预设参数，将电路应用于多种电路中进而软启动电压并控制峰值电压，解决了浪涌电流引起电感饱和，传统峰值电压控制编程繁琐的问题。
权利要求书clms
1.一种峰值电压控制电路及软件控制系统，其特征在于：包括，软启动模块，包括用于将方波进行二分频的D触发器单元，用于对分频后的不同方波进行处理的数字逻辑门单元；开关频率控制模块，包括用于控制电压控制信号输出的电压控制单元；峰值电压控制模块，包括用于接收电压控制信号的信号接受单元，用于处理电压控制信号并通过电压控制信号控制峰值电压的信号输出单元。2.根据权利要求1所述的一种峰值电压控制电路及软件控制系统，其特征在于：所述D触发器通过将占空比为定值的方波进行分频得到不同周期的方波；所述数字逻辑门用于接收不同周期的方波并输出处理后的不同频段的方波作为每个不同频段方波对应的初始电压，经过预设时间后不同频段方波依次变为0V。3.根据权利要求1所述的一种峰值电压控制电路及软件控制系统，其特征在于：所述开关频率控制模块接收预设时间后不同频段方波变为0V的信号，控制开关打开，使系统输出电压阶梯式升高，实现电路软启动。4.根据权利要求3所述的一种峰值电压控制电路及软件控制系统，其特征在于：所述控制开关打开，包括控制开关正常工作和控制开关关闭；所述控制开关正常工作，负载降低，通过将开关频率转化为电压控制信号，进而输出电压控制信号控制输出电压呈阶梯式升高；所述控制开关关闭控制输出电压控制信号控制输出电压降低。5.根据权利要求4所述的一种峰值电压控制电路及软件控制系统，其特征在于：所述开关频率转化为电压控制信号，表达式如下所示：；其中，K为比例常量因子，由电路电压阈值设定，为时序开关频率，/＞为第n时刻的电压控制信号，/＞为第n+1时刻输出电压控制信号，t为时序，n为序数取1,2,3..。6.根据权利要求5所述的一种峰值电压控制电路及软件控制系统，其特征在于：所述电压控制信号逐渐升高，若输入电流分流，部分电流流入峰值电压控制模块，则第二峰值电压降低，第一峰值电压升高，若输入电流未分流且全部流入峰值电压控制模块，电压控制信号升高，但是第一峰值电压和第二峰值电压不变；所述第二峰值电压降低值等于所述第一峰值电压升高值，表达式如下所示：；其中，为峰值电压，n为第一峰值电压和第二峰值电压代数取1，2，K为比例常量因子，由电路电压阈值设定，/＞为控制电压信号函数输出控制信号，L为误差补偿值；若n取1时，第一峰值电压；若n取2时，第二峰值电压。7.根据权利要求6所述的一种峰值电压控制电路及软件控制系统，其特征在于：所述电压控制信号为控制开关打开电压阶梯式升高的信号，其中电压控制信号受开关频率控制模块控制；所述信号输出单元，处理电压控制信号，若控制开关打开，则开关频率模块控制电压控制信号，若信号输出单元接收到电压控制信号，则峰值电压降低，完成软启动控制的峰值电压控制。8.一种峰值电压控制电路及软件控制方法，其基于权利要求1-7中任一项所述的一种峰值电压控制电路及软件控制系统实现，其特征在于：S1、输入控制峰值电压的方波信号；S2、将方波信号转化为多段不同周期方波信号，并将多段不同周期方波信号进行处理并输出多段初始电压信号，该初始电压信号均为0V；S3、0V初始电压信号通过峰值电压控制线路打开控制开关；S4、控制开关打开使峰值电压控制线路输出电压呈阶梯式升高；S5、时间超过预设时间，初始电压不为0V，关闭控制开关；S6、峰值电压控制线路输出的输出电压降低，实现电路电压软启动。9.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，该计算机程序被执行时，实现如权利要求8所述的一种峰值电压控制电路及软件控制方法的操作。10.一种电子设备，其特征在于，包括：存储器，用于存储指令；处理器，用于执行所述指令，使得所述设备执行实现如权利要求8所述的一种峰值电压控制电路及软件控制方法的操作。
说明书desc
技术领域本发明涉及峰值电压电路控制和软件控制的技术领域，公开了一种峰值电压控制电路及软件控制系统。背景技术目前，电压保持电路已经得到广泛应用，并且不断发展。其主要应用领域包括电源管理、音频放大器、无线通信、LED照明等。在电源管理领域，带软峰值电压控制电路可以实现电压稳定、电流稳定和过载保护等功能，提高电源的可靠性和稳定性。在音频放大器和无线通信系统中，带软峰值电压控制电路可以通过控制输出电压的峰值，避免音频失真和信号干扰等问题。在LED照明领域，带软峰值电压控制电路可以实现LED灯管的恒流驱动，从而提高灯管的亮度和寿命。例如现有的授权公告号为CN217824259U的实用新型提供了一种峰值检测电平移位浪涌抑制电路，其通过采用峰值检测和电平移位电路来实现浪涌功能，其体积小，且可以适用大功率电路。其包括滤波电路和浪涌抑制电路，滤波电路将输入电压滤波处理后接入浪涌抑制电路，通过浪涌抑制电路抑制输入电压浪涌，通过MOS管Q1的开关控制，配合微处理器U3可以实现在输入端电压输入端IN+、IN-出现浪涌电压情况下，保证电压输出端Vout+、Vout-之间的输出电压不超过36.5V，其中为了保证MOS管Q1可以在电压输入端的电压大于39V，仍然能够正常工作，则主要通过二极管D4的峰值检测、与二极管D1的电平移位来实现。但是上述专利中存在：需要配合微处理器进行抑制电压浪涌，程序撰写复杂，且成本高，电路结构复杂，仅对电压浪涌进行控制和峰值电压进行检测，无法对峰值电压进行控制。发明内容本部分的目的在于概述本发明的实施例的一些方面以及简要介绍一些较佳实施例。在本部分以及本申请的说明书摘要和发明名称中可能会做些简化或省略以避免使本部分、说明书摘要和发明名称的目的模糊，而这种简化或省略不能用于限制本发明的范围。为解决上述技术问题，本发明中峰值参考电压决定开关管导通时的峰值电流的大小，通过控制峰值参考电压的大小，可以有效地规避开关电路在启动过程中电感电流过大，防止浪涌电流引起电感饱和，不需要繁琐编程，电路结构简单，可塑性强，可以通过预设参数，将电路应用于多种电路中进而软启动电压，并控制峰值电压。本发明的主要目的在于提供一种峰值电压控制电路及软件控制系统，包括：软启动模块，包括用于将方波进行二分频的D触发器单元，用于对分频后的不同方波进行处理的数字逻辑门单元；开关频率控制模块，包括用于控制电压控制信号输出的电压控制单元；峰值电压控制模块，包括用于接收电压控制信号的信号接受单元，用于处理电压控制信号并通过电压控制信号控制峰值电压的信号输出单元。作为本发明一种峰值电压控制电路及软件控制系统的一种优选方案，其中：所述D触发器通过将占空比为定值的方波进行分频得到不同周期的方波；所述数字逻辑门用于接收不同周期的方波并输出处理后的不同频段的方波作为每个不同频段方波对应的初始电压，经过预设时间后不同频段方波依次变为0V。作为本发明一种峰值电压控制电路及软件控制系统的一种优选方案，其中：所述开关频率控制模块接收预设时间后不同频段方波变为0V的信号，控制开关打开，使系统输出电压阶梯式升高，实现电路软启动。作为本发明一种峰值电压控制电路及软件控制系统的一种优选方案，其中：所述控制开关打开，包括控制开关正常工作和控制开关关闭；所述控制开关正常工作，负载降低，通过将开关频率转化为电压控制信号，进而输出电压控制信号控制输出电压呈阶梯式升高；所述控制开关关闭控制输出电压控制信号控制输出电压降低。作为本发明一种峰值电压控制电路及软件控制系统的一种优选方案，其中：所述开关频率转化为电压控制信号，表达式如下所示：；其中，K为比例常量因子，由电路电压阈值设定，为时序开关频率，/＞为第n时刻的电压控制信号，/＞为第n+1时刻输出电压控制信号，t为时序，n为序数取1,2,3..。作为本发明一种峰值电压控制电路及软件控制系统的一种优选方案，其中：所述电压控制信号逐渐升高，输入电流分流，部分电流流入峰值电压控制模块，第二峰值电压降低，第一峰值电压升高，若输入电压未分流且全部流入峰值电压控制模块，电压控制信号升高，但是第一峰值电压和第二峰值电压不变；所述第一峰值电压和所述第二峰值电压，表达式如下所示：；其中，为峰值电压，n为第一峰值电压和第二峰值电压代数取1，2，K为比例常量因子，由电路电压阈值设定，/＞为控制电压信号函数输出控制信号，L为误差补偿值；若n取1时，第一峰值电压；若n取2时，第二峰值电压。作为本发明一种峰值电压控制电路及软件控制系统的一种优选方案，其中：所述电压控制信号为控制开关打开电压阶梯式升高的信号，其中电压控制信号受开关频率控制模块控制；所述信号输出单元，处理电压控制信号，若控制开关打开，则开关频率模块控制电压控制信号，若信号输出单元接收到电压控制信号，则峰值电压降低，完成软启动控制的峰值电压控制。作为本发明一种峰值电压控制电路及软件控制方法，其中：S1、输入控制峰值电压的方波信号；S2、将方波信号转化为多段不同周期方波信号，并将多段不同周期方波信号进行处理并输出多段初始电压信号，该初始电压信号均为0V；S3、0V初始电压信号通过峰值电压控制线路打开控制开关；S4、控制开关打开使峰值电压控制线路输出电压呈阶梯式升高；S5、时间超过预设时间，初始电压不为0V，关闭控制开关；S6、峰值电压控制线路输出的输出电压降低，实现电路电压软启动。一种电子设备，包括，存储器，用于存储指令；处理器，用于执行所述指令，使得所述设备执行实现一种峰值电压控制电路及软件控制方法的操作。一种计算机可读存储介质，其上存储有计算机程序，该计算机程序被执行时，实现一种峰值电压控制电路及软件控制方法的操作。本发明的有益效果：本发明中峰值参考电压决定开关管导通时的峰值电流的大小，通过控制峰值参考电压的大小，可以有效地规避开关电路在启动过程中电感电流过大，防止浪涌电流引起电感饱和，不需要繁琐编程，电路结构简单，可塑性强，可以通过预设参数，将电路应用于多种电路中进而软启动电压并控制峰值电压。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其它的附图。其中：图1为本发明一种峰值电压控制电路及软件控制系统的整体系统组成图。图2为本发明一种峰值电压控制电路及软件控制方法的流程图。图3为本发明一种峰值电压控制电路及软件控制系统的软启动电路原理图。图4为本发明一种峰值电压控制电路及软件控制系统的峰值电压控制电路原理图。图5为本发明一种峰值电压控制电路及软件控制系统的系统总体拓扑图。图6为本发明一种峰值电压控制电路及软件控制系统的的仿真图结果。图7为本发明一种峰值电压控制电路及软件控制系统的的仿真图结果。具体实施方式为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合说明书附图对本发明的具体实施方式做详细的说明。在下面的描述中阐述了很多具体细节以便于充分理解本发明，但是本发明还可以采用其他不同于在此描述的其它方式来实施，本领域技术人员可以在不违背本发明内涵的情况下做类似推广，因此本发明不受下面公开的具体实施例的限制。其次，此处所称的“一个实施例”或“实施例”是指可包含于本发明至少一个实现方式中的特定特征、结构或特性。在本说明书中不同地方出现的“在一个实施例中”并非均指同一个实施例，也不是单独的或选择性的与其他实施例互相排斥的实施例。实施例一如图1所示，一种峰值电压控制电路及软件控制系统，包括，如图3所示，软启动模块，包括用于将方波进行二分频的D触发器单元，用于对分频后的不同方波进行处理的数字逻辑门单元；其中，D触发器通过将占空比为定值的方波进行分频得到不同周期的方波；数字逻辑门用于接收不同周期的方波并输出处理后的不同频段的方波作为每个不同频段方波对应的初始电压，经过预设时间后不同频段方波依次变为0V。例如：周期为1ms占空比为50%的方波VCLK经D触发器进行二分频，得到周期为2ms方波VS0、周期为4ms方波VS1、周期为8ms方波VS2和周期为16ms方波VS3。VS0、VS1、VS2和VS3经数字逻辑门处理输出VSW0、VSW1和VSW2。电压VSW0、VSW1和VSW2初始为5V；1ms后，VSW0为0V；2ms后，VSW1为0V；4ms后，VSW2为0V。开关频率控制模块，包括用于控制电压控制信号输出的电压控制单元；其中，电压控制单元包括比较器、控制开关、积分器和反馈网络；进一步的，在开关频率控制模块中的电压控制单元中，首先输入信号经过一个比较器，比较器将输入信号与一个固定的参考信号进行比较，产生一个脉冲宽度与输入信号频率成正比的方波信号。然后，这个方波信号经过一个积分器将其转换为一个与输入信号频率成正比的直流电压。最后，通过一个反馈网络将这个直流电压反馈给比较器，以调整比较器使得输出电压与输入信号频率成正比。其中，开关频率控制模块接收预设时间后不同频段方波变为0V的信号，控制开关打开，使系统输出电压阶梯式升高，实现电路软启动；控制开关打开，包括控制开关正常工作和控制开关关闭；控制开关正常工作，负载降低，通过将开关频率转化为电压控制信号，进而输出电压控制信号控制输出电压呈阶梯式升高；进一步的，开关频率转化为电压控制信号，表达式如下所示：；其中，K为比例常量因子，由电路电压阈值设定，为时序开关频率，/＞为第n时刻的电压控制信号，/＞为第n+1时刻输出电压控制信号，t为时序，n为序数取1,2,3..。其中，开关频率由开关频率电路输出，开关频率电路包括晶闸管、可控硅等电子元件；进一步的，开关频率转化的电压控制信号其实是一系列的脉冲，且脉冲的宽度和间隔均不相等；进一步的，时序开关频率为一段时间内的开关频率，并且随着时间变化开关频率也随之变化，则电压控制信号也会随之变化；进一步的，电压控制信号逐渐升高，若输入电流分流，部分电流流入峰值电压控制模块，则第二峰值电压降低，第一峰值电压升高，若输入电流未分流且全部流入峰值电压控制模块，电压控制信号升高，但是第一峰值电压和第二峰值电压不变；所述第二峰值电压降低值等于所述第一峰值电压升高值，表达式如下所示：；其中，为峰值电压，n为第一峰值电压和第二峰值电压代数取1，2，K为比例常量因子，由电路电压阈值设定，/＞为控制电压信号函数输出控制信号，L为误差补偿值；若n取1时，第一峰值电压；若n取2时，第二峰值电压。所述为控制电压信号函数，表达式如下所示：其中，为控制电压信号函数，λ为电压传输常量，/＞为电压控制信号，/＞为误差补偿常量因子，/＞为电压补偿误差值；如图4所示，M1、M2、M3、M4、M7、M8、M9、M10与M11大小尺寸相同，流经M1、M2、M3、M4、M7、M8、M9、M10的电流IM1、IM2、IM3、IM4、IM7、IM8、IM9和IM10均为I。M5和M6宽长比是M11的2倍，流经M5、M6的电流IM5、IM6大小为2I。当电压为0时，电流IM1、IM2、IM3、IM4和IM5流过电阻R1，电流IM6、IM7、IM8、IM9和IM10流过电阻R2，无电流流过电阻R0，V1=V2，/＞==6·I·R。电压VCTRL逐渐升高时，I6部分电流从V2流向V1，电压/＞降低△V，电压VPEAK1升高△V。IM6全部电流从V2流向V1时，电压/＞再升高，电压VPEAK1和VPEAK2不变，=8·I·R，/＞=4·I·R。/＞=-k·f，其中I和R均为电路图中的电流和电阻。如图6所示，峰值电压控制仿真图；如图7所示，峰值电压控制仿真图；控制开关关闭控制输出电压控制信号控制输出电压降低；峰值电压控制模块，包括用于接收电压控制信号的信号接受单元，用于处理电压控制信号并通过电压控制信号控制峰值电压的信号输出单元。其中，电压控制信号为控制开关打开电压阶梯式升高的信号，其中电压控制信号受开关频率控制模块控制；信号输出单元，处理电压控制信号，若控制开关打开，则开关频率模块控制电压控制信号，若信号输出单元接收到电压控制信号，则峰值电压降低，完成软启动控制的峰值电压控制。实施例二如图2所示，一种峰值电压控制电路及软件控制方法，包括：S1、输入控制峰值电压的方波信号；S2、将方波信号转化为多段不同周期方波信号，并将多段不同周期方波信号进行处理并输出多段初始电压信号，该初始电压信号均为0V；S3、0V初始电压信号通过峰值电压控制线路打开控制开关；S4、控制开关打开使峰值电压控制线路输出电压呈阶梯式升高；S5、时间超过预设时间，初始电压不为0V，关闭控制开关；S6、峰值电压控制线路输出的输出电压降低，实现电路电压软启动。其中，如图5所示，为一种峰值电压控制电路及软件控制方法实现的总体拓扑图。实施例三一种电子设备，包括，存储器，用于存储指令；处理器，用于执行所述指令，使得所述设备执行实现一种峰值电压控制电路及软件控制方法。实施例四一种计算机可读存储介质，其上存储有计算机程序；该计算机程序被执行时，实现一种峰值电压控制电路及软件控制方法的操作。重要的是，应注意，在多个不同示例性实施方案中示出的本申请的构造和布置仅是例示性的。尽管在此公开内容中仅详细描述了两个个实施方案，但参阅此公开内容的人员应容易理解，在实质上不偏离该申请中所描述的主题的新颖教导和优点的前提下，许多改型是可能的。例如，示出为整体成形的元件可以由多个部分或元件构成，元件的位置可被倒置或以其它方式改变，并且分立元件的性质或数目或位置可被更改或改变。因此，所有这样的改型旨在被包含在本发明的范围内。可以根据替代的实施方案改变或重新排序任何过程或方法步骤的次序或顺序。在权利要求中，任何“装置加功能”的条款都旨在覆盖在本文中所描述的执行功能的结构，且不仅是结构等同而且还是等同结构。在不背离本发明的范围的前提下，可以在示例性实施方案的设计、运行状况和布置中做出其他替换、改型、改变和省略。因此，本发明不限制于特定的实施方案，而是扩展至仍落在所附的权利要求书的范围内的多种改型。此外，为了提供示例性实施方案的简练描述，可以不描述实际实施方案的所有特征。应理解的是，在任何实际实施方式的开发过程中，如在任何工程或设计项目中，可做出大量的具体实施方式决定。这样的开发努力可能是复杂的且耗时的，但对于那些得益于此公开内容的普通技术人员来说，不需要过多实验，开发努力将是一个设计、制造和生产的常规工作。应说明的是，以上实施例仅用以说明本发明的技术方案而非限制，尽管参照较佳实施例对本发明进行了详细说明，本领域的普通技术人员应当理解，可以对本发明的技术方案进行修改或者等同替换，而不脱离本发明技术方案的精神和范围，其均应涵盖在本发明的权利要求范围当中。
