标题title
基于视频分析的抑郁症检测的方法
摘要abst
本发明涉及一种基于视频分析的抑郁症检测的方法，该方法包括：获取用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积；基于植物神经信号确定情感系数；基于瞳孔面积确定情绪系数；基于情感系数和情绪系数对面部视频进行抑郁症检测，得到抑郁症检测结果。本发明提供的方法，通过用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积对用户是否患有抑郁症进行检测，实现了抑郁症的自动检测。
权利要求书clms
1.一种基于视频分析的抑郁症检测的方法，其特征在于，所述方法包括：S101，获取用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积；S102，基于所述植物神经信号确定情感系数；S103，基于所述瞳孔面积确定情绪系数；S104，基于所述情感系数和所述情绪系数对所述面部视频进行抑郁症检测，得到抑郁症检测结果。2.根据权利要求1所述的方法，其特征在于，所述S102，包括：S102-1，将所述植物神经信号形成信号集合；其中，所述信号集合中的每个元素对应一个时刻采集的植物神经信号值，且所述信号集合中的元素按采集时刻由远及近排列；S102-2，确定所述信号集合中各相邻两元素之间的差值，形成信号差集合，所述差值为后一元素的值-前一元素的值；S102-3，根据所述信号差集合确定情感系数。3.根据权利要求2所述的方法，其特征在于，所述S102-3，包括：S102-3-1，确定所述信号差集合中所有元素的标准差σΔ；S102-3-2，确定所述信号差集合中值最大的元素和值最小的元素S102-3-3，确定所述信号集合中值最大的元素amax和值最小的元素amin，以及值最大的元素对应的时刻tmax和值最小的元素对应的时刻tmin；S102-3-4，确定情感系数4.根据权利要求3所述的方法，其特征在于，所述S103，包括：S103-1，将所述瞳孔面积形成瞳孔面积集合；其中，所述瞳孔面积集合中的每个元素对应一个时刻采集的瞳孔面积，且所述瞳孔面积集合中的元素按采集时刻由远及近排列；S103-2，确定所述瞳孔面积集合中各相邻两元素之间的差值，形成瞳孔面积差集合，所述差值为后一元素的值-前一元素的值；S103-3，根据所述瞳孔面积差集合确定情绪系数。5.根据权利要求4所述的方法，其特征在于，所述S103-3，包括：S103-3-1，确定所述瞳孔面积差集合中所有元素的均值avgΔ；S103-3-2，确定所述瞳孔面积集合中所有元素的均值avg；S103-3-3，根据所述avgΔ、avg和所述瞳孔面积集合确定正瞳孔面积集合和负瞳孔面积集合；S103-3-4，根据所述正瞳孔面积集合和所述负瞳孔面积集合确定情绪系数。6.根据权利要求5所述的方法，其特征在于，所述S103-3-3包括：确定所述瞳孔面积集合中每个元素与avg的差；将差为正数，且差的绝对值大于avgΔ的元素形成正瞳孔面积集合；将差为负数，且差的绝对值大于min{avgΔ，2.5}的元素形成负瞳孔面积集合。7.根据权利要求5所述的方法，其特征在于，所述S103-3-3包括：确定所述瞳孔面积集合中每个元素与avg的差；将差为正数，且差的绝对值大于avgΔ，同时，在所述信号差集合中对应的元素值大于所述信号差集合中元素均值的元素形成正瞳孔面积集合；将差为负数，且差的绝对值大于min{avgΔ，2.5}，同时，在所述信号差集合中对应的元素值大于所述信号差集合中元素均值的元素形成负瞳孔面积集合。8.根据权利要求7所述的方法，其特征在于，对于任一差为正数，且差的绝对值大于avgΔ的元素，或者，对于任一差为负数，且差的绝对值大于min{avgΔ，2.5}的元素，其在所述信号差集合中对应的元素值为：若任一元素由所述瞳孔面积集合中最后一个元素得到，则将所述信号差集合中的最后一个元素的值确定为其在所述信号差集合中对应的元素值；若任一元素非由所述瞳孔面积集合中最后一个元素得到，则确定所述任一元素的采集时刻ti，将所述信号差集合中对应第ti+1时刻的植物神经信号与第ti时刻的植物神经信号之差的元素的值确定为其在所述信号差集合中对应的元素值。9.根据权利要求5所述的方法，其特征在于，所述S103-3-4，包括：确定所述正瞳孔面积集合中最大元素值和值最小的元素以及对应的时刻和对应的时刻确定所述负瞳孔面积集合中最大元素值和值最小的元素以及对应的时刻和对应的时刻确定所述瞳孔面积差集合中最大元素值所述瞳孔面积集合中的对应元素值b1和值最小的元素在所述瞳孔面积集合中的对应元素值b2；其中，所述b1为所述瞳孔面积集合中得到的两个元素中的值最大元素，所述b2为所述瞳孔面积集合中得到的两个元素中的值最大元素；确定正系数负系数确定情绪系数I2＝max{I+，I-}。10.根据权利要求1所述的方法，其特征在于，所述S104，包括：S104-1，识别所述面部视频中各帧的微表情；S104-2，确定各帧微表情之间的变化度；S104-3，确定变化度不大于变化阈值的连续帧最大数；S104-4，确定检测值＝最大数*I1*I2；其中，I1为情感系数，I2为情绪系数；S104-5，如果所述检测值大于抑郁阈值，则确定检测出抑郁症。
说明书desc
技术领域本发明涉及心理评测技术领域，尤其涉及一种基于视频分析的抑郁症检测的方法。背景技术目前，抑郁症是仅次于心血管疾病的人类第二大疾病，每年有大约80万人因抑郁症而自杀，同时，抑郁症的发病已开始出现低龄化趋势。但我国对抑郁症的医疗防治还处在识别率低的局面，地级市以上的医院对其识别率不足20％，只有不到10％的患者接受了相关的药物治疗，因此，抑郁症的检测对于抑郁症的医疗防止工作是至关重要的。发明内容要解决的技术问题鉴于现有技术的上述缺点、不足，本发明提供一种基于视频分析的抑郁症检测的方法。技术方案为了达到上述目的，本发明采用的主要技术方案包括：一种基于视频分析的抑郁症检测的方法，所述方法包括：S101，获取用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积；S102，基于所述植物神经信号确定情感系数；S103，基于所述瞳孔面积确定情绪系数；S104，基于所述情感系数和所述情绪系数对所述面部视频进行抑郁症检测，得到抑郁症检测结果。可选地，所述S102，包括：S102-1，将所述植物神经信号形成信号集合；其中，所述信号集合中的每个元素对应一个时刻采集的植物神经信号值，且所述信号集合中的元素按采集时刻由远及近排列；S102-2，确定所述信号集合中各相邻两元素之间的差值，形成信号差集合，所述差值为后一元素的值-前一元素的值；S102-3，根据所述信号差集合确定情感系数。可选地，所述S102-3，包括：S102-3-1，确定所述信号差集合中所有元素的标准差σΔ；S102-3-2，确定所述信号差集合中值最大的元素和值最小的元素S102-3-3，确定所述信号集合中值最大的元素amax和值最小的元素amin，以及值最大的元素对应的时刻tmax和值最小的元素对应的时刻tmin；S102-3-4，确定情感系数可选地，所述S103，包括：S103-1，将所述瞳孔面积形成瞳孔面积集合；其中，所述瞳孔面积集合中的每个元素对应一个时刻采集的瞳孔面积，且所述瞳孔面积集合中的元素按采集时刻由远及近排列；S103-2，确定所述瞳孔面积集合中各相邻两元素之间的差值，形成瞳孔面积差集合，所述差值为后一元素的值-前一元素的值；S103-3，根据所述瞳孔面积差集合确定情绪系数。可选地，所述S103-3，包括：S103-3-1，确定所述瞳孔面积差集合中所有元素的均值avgΔ；S103-3-2，确定所述瞳孔面积集合中所有元素的均值avg；S103-3-3，根据所述avgΔ、avg和所述瞳孔面积集合确定正瞳孔面积集合和负瞳孔面积集合；S103-3-4，根据所述正瞳孔面积集合和所述负瞳孔面积集合确定情绪系数。可选地，所述S103-3-3包括：确定所述瞳孔面积集合中每个元素与avg的差；将差为正数，且差的绝对值大于avgΔ的元素形成正瞳孔面积集合；将差为负数，且差的绝对值大于min{avgΔ,2.5}的元素形成负瞳孔面积集合。可选地，所述S103-3-3包括：确定所述瞳孔面积集合中每个元素与avg的差；将差为正数，且差的绝对值大于avgΔ，同时，在所述信号差集合中对应的元素值大于所述信号差集合中元素均值的元素形成负瞳孔面积集合；将差为负数，且差的绝对值大于min{avgΔ,2.5}，同时，在所述信号差集合中对应的元素值大于所述信号差集合中元素均值的元素形成正瞳孔面积集合。可选地，对于任一差为正数，且差的绝对值大于avgΔ的元素，或者，对于任一差为负数，且差的绝对值大于min{avgΔ,2.5}的元素，其在所述信号差集合中对应的元素值为：若任一元素由所述瞳孔面积集合中最后一个元素得到，则将所述信号差集合中的最后一个元素的值确定为其在所述信号差集合中对应的元素值；若任一元素非由所述瞳孔面积集合中最后一个元素得到，则确定所述任一元素的采集时刻ti，将所述信号差集合中对应第ti+1时刻的植物神经信号与第ti时刻的植物神经信号之差的元素的值确定为其在所述信号差集合中对应的元素值。可选地，所述S103-3-4，包括：确定所述正瞳孔面积集合中最大元素值和值最小的元素以及对应的时刻和对应的时刻确定所述负瞳孔面积集合中最大元素值和值最小的元素以及对应的时刻和对应的时刻确定所述瞳孔面积差集合中最大元素值所述瞳孔面积集合中的对应元素值b1和值最小的元素在所述瞳孔面积集合中的对应元素值b2；其中，所述b1为所述瞳孔面积集合中得到的两个元素中的值最大元素，所述b2为所述瞳孔面积集合中得到的两个元素中的值最大元素；确定正系数负系数确定情绪系数I2＝max{I+，I-}。可选地，所述S104，包括：S104-1，识别所述面部视频中各帧的微表情；S104-2，确定各帧微表情之间的变化度；S104-3，确定变化度不大于变化阈值的连续帧最大数；S104-4，确定检测值＝最大数*I1*I2；其中，I1为情感系数，I2为情绪系数；S104-5，如果所述检测值大于抑郁阈值，则确定检测出抑郁症。有益效果获取用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积；基于植物神经信号确定情感系数；基于瞳孔面积确定情绪系数；基于情感系数和情绪系数对面部视频进行抑郁症检测，得到抑郁症检测结果。通过用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积对用户是否患有抑郁症进行检测，实现了抑郁症的自动检测。附图说明图1为本发明一实施例提供的一种基于视频分析的抑郁症检测的方法的流程示意图。具体实施方式为了更好的解释本发明，以便于理解，下面结合附图，通过具体实施方式，对本发明作详细描述。目前，抑郁症是仅次于心血管疾病的人类第二大疾病，每年有大约80万人因抑郁症而自杀，同时，抑郁症的发病已开始出现低龄化趋势。但我国对抑郁症的医疗防治还处在识别率低的局面，地级市以上的医院对其识别率不足20％，只有不到10％的患者接受了相关的药物治疗，因此，抑郁症的检测对于抑郁症的医疗防止工作是至关重要的。基于此，本发明提供一种基于视频分析的抑郁症检测的方法，获取用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积；基于植物神经信号确定情感系数；基于瞳孔面积确定情绪系数；基于情感系数和情绪系数对面部视频进行抑郁症检测，得到抑郁症检测结果。通过用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积对用户是否患有抑郁症进行检测，实现了抑郁症的自动检测。在具体实现时，可以向用户提供不同情绪的刺激，例如愤怒情绪，兴奋情绪等。在用户接收不同情绪的刺激同时，通过如图1所示的方法检测该用户是否存在抑郁倾向，进而确定该用户是否患有抑郁症。参见图1，本实施例提供的基于视频分析的抑郁症检测的方法的实现过程如下：S101，获取用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积。用户在接受情绪刺激时，会实时取一次用户当前的植物神经信号、面部视频以及瞳孔面积，并记录采集时间。在具体实现时，当前的植物神经信号和瞳孔面积的采集频率相同，但其与面部视频可能不同，则采集时刻按植物神经信号和瞳孔面积的采集频率进行数据记录，对于面部视频只需要记录当前采集时刻与前一采集时刻之间的视频帧号即可。例如：采集到的数据如表1所示。表1采集标识01234植物神经信号值S0S1S2S3S4视频帧编号F0-F23F24-F47F48-F71F72-F95F96-F119瞳孔面积A0A1A2A3A4采集时刻t1t2t3t4t5S102，基于植物神经信号确定情感系数。具体的，S102-1，将植物神经信号形成信号集合。其中，信号集合中的每个元素对应一个时刻采集的植物神经信号值，且信号集合中的元素按采集时刻由远及近排列。以步骤101中获取到表1所示的数据为例，信号集合S包括5个元素，该集合S＝{S0,S1,S2,S3,S4}。S102-2，确定信号集合中各相邻两元素之间的差值，形成信号差集合。其中，差值为后一元素的值-前一元素的值。仍以步骤S102-1中的例子为例，信号差集合ΔS包括4个元素，该集合ΔS＝{S1-S0,S2-S1,S3-S2,S4-S3}。若将S1-S0记为a0，S2-S1记为a1，S3-S2记为a2，S4-S3记为a3，则ΔS＝{a0,a1,a2,a3}。也就是说，集合ΔS中的任一元素，其值为Sj+1-Sj，即aj＝Sj+1-Sj。S102-3，根据信号差集合确定情感系数。例如，通过如下方案确定情感系数：S102-3-1，确定信号差集合中所有元素的标准差σΔ。即确定信号差集合ΔS中所有元素的标准差σΔ。例如，若ΔS＝{a0,a1,a2,a3}，则S102-3-2，确定信号差集合中值最大的元素和值最小的元素即确定其中，max{}为求最大值函数，min{}为求最小值函数。S102-3-3，确定信号集合中值最大的元素amax和值最小的元素amin，以及值最大的元素对应的时刻tmax和值最小的元素对应的时刻tmin。即确定amax＝max{S0,S1,S2,S3,S4}，amin＝min{S0,S1,S2,S3,S4}。amax对应的采集时刻为tmax，amin对应的采集时刻为tmin。S102-3-4，确定情感系数由于抑郁症的临床表现为，心情不好和现实生活过得不开心，情绪长时间地低落消沉，从一开始的闷闷不乐到最后的悲痛欲绝，自卑、痛苦，悲观、厌世，感觉活着每一天都是在绝望地折磨自己，消极，逃避，最后甚至更有自杀企图和行为。患有抑郁的患者不积极与外界进行情绪的交互，也就是，对于外界刺激反应比较迟钝。而植物神经信号值可以反应用户对于当前情绪刺激的反应，因此最大反应与最小反应的时间越长，其患有抑郁症可能性越大。同一段时间内，最大反应与最小反应的差距越小，说明其对外界刺激不敏感，其患有抑郁症的可能性越大。另外，抑郁症患者还会出现反应过激的现象，σΔ表征了前后两次的植物神经信号值的变化的离散程度，如果σΔ越大，说明情绪波动较为明显，其患有抑郁症的可能性越大。表征了最大变化程度与最小变化程度之间的差距，差距越大则说明反应越激烈，其患有抑郁症的可能性越大。S103，基于瞳孔面积确定情绪系数。瞳孔面积表征了用户对于外界刺激的反应，交感神经兴奋时，如表现为惊恐不安、疼痛时，瞳孔会扩大，通过瞳孔面积可以得知用户对于当前情绪刺激的情绪反应。具体的，S103-1，将瞳孔面积形成瞳孔面积集合。其中，瞳孔面积集合中的每个元素对应一个时刻采集的瞳孔面积，且瞳孔面积集合中的元素按采集时刻由远及近排列。以步骤101中获取到表1所示的数据为例，瞳孔面积集合A包括5个元素，该集合A＝{A0,A1,A2,A3,A4}。S103-2，确定瞳孔面积集合中各相邻两元素之间的差值，形成瞳孔面积差集合。其中，差值为后一元素的值-前一元素的值。仍以步骤S103-1中的例子为例，瞳孔面积差集合ΔA包括4个元素，该集合ΔA＝{A1-A0,A2-A1,A3-A2,A4-A3}。若将A1-A0记为b0，A2-A1记为b1，A3-A2记为b2，A4-A3记为b3，则ΔA＝{b0,b1,b2,b3}。也就是说，集合ΔA中的任一元素，其值为Ai+1-Ai，即bi＝Ai+1-Ai。S103-3，根据瞳孔面积差集合确定情绪系数。例如，通过如下方案确定情绪系数：S103-3-1，确定瞳孔面积差集合中所有元素的均值avgΔ。例如，S103-3-2，确定瞳孔面积集合中所有元素的均值avg。例如，S103-3-3，根据avgΔ、avg和瞳孔面积集合确定正瞳孔面积集合和负瞳孔面积集合。本步骤的实现方案可以有多种，下面仅介绍其中的2种，具体实现时可以任选一种即可。·第一种实现方案：1.1确定瞳孔面积集合中每个元素与avg的差。例如，确定A0-avg，A1-avg，A2-avg，A3-avg，A4-avg。为了方便描述，将A0-avg记为c0，将A1-avg记为c1，将A2-avg记为c2，将A3-avg记为c3，将A4-avg记为c4。1.2将差为正数，且差的绝对值大于avgΔ的元素形成正瞳孔面积集合。将差为负数，且差的绝对值大于min{avgΔ,2.5}的元素形成负瞳孔面积集合。其中，min{avgΔ,2.5}为avgΔ和2.5中小的那个值，min{}为求最小值函数。也就是说，如果avgΔ＜2.5，则min{avgΔ,2.5}＝avgΔ，如果avgΔ＞2.5，则min{avgΔ，2.5}＝2.5，如果avgΔ＝2.5，则取avgΔ或2.5均可。如果c0为正数，且|c0|＞avgΔ，则c0为正瞳孔面积集合中的元素。如果c1为正数，但|c1|≤avgΔ，则c1不为正瞳孔面积集合中的元素，另外，c1也不为负瞳孔面积集合中的元素。如果c2为负数，且|c2|＞min{avgΔ，2.5}，则c2为负瞳孔面积集合中的元素。如果c3为负数，且|c3|≤min{avgΔ，2.5}，则c3不为负瞳孔面积集合中的元素，另外c3也不为正瞳孔面积集合中的元素。如果c4为正数，且|c4|＞avgΔ，则c4为正瞳孔面积集合中的元素。此时，正瞳孔面积集合包括2个元素，分别为c0和c4。负瞳孔面积集合仅包括1个元素，即c2。·第二种实现方案：2.1确定瞳孔面积集合中每个元素与avg的差。例如，确定A0-avg，A1-avg，A2-avg，A3-avg，A4-avg。为了方便描述，将A0-avg记为c0，将A1-avg记为c1，将A2-avg记为c2，将A3-avg记为c3，将A4-avg记为c4。2.2将差为正数，且差的绝对值大于avgΔ，同时，在信号差集合中对应的元素值大于信号差集合中元素均值的元素形成正瞳孔面积集合。将差为负数，且差的绝对值大于min{avgΔ，2.5}，同时，在信号差集合中对应的元素值大于信号差集合中元素均值的元素形成负瞳孔面积集合。其中，对于任一差为正数，且差的绝对值大于avgΔ的元素，或者，对于任一差为负数，且差的绝对值大于min{avgΔ，2.5}的元素，其在信号差集合中对应的元素值为：若任一元素由瞳孔面积集合中最后一个元素得到，则将信号差集合中的最后一个元素的值确定为其在信号差集合中对应的元素值。若任一元素非由瞳孔面积集合中最后一个元素得到，则确定任一元素的采集时刻ti，将信号差集合中对应第ti+1时刻的植物神经信号与第ti时刻的植物神经信号之差的元素的值确定为其在信号差集合中对应的元素值。如果c0为正数，且|c0|＞avgΔ，则由于c0＝A0-avg，其是由A0得到。同时，瞳孔面积集合A＝{A0，A1,A2,A3,A4}中A0并非最后一个元素，因此c0非由瞳孔面积集合中最后一个元素得到，此时，确定c0的采集时刻ti为A0的采集时刻t1，将信号差集合中对应第t1+1时刻的植物神经信号与第t1时刻的植物神经信号之差的元素的值确定为其在信号差集合中对应的元素值。也就是说，c0在信号差集合中对应的元素值为a0的值，如果a0不大于信号差集合ΔS＝{a0,a1,a2,a3}中元素均值，则c0不正瞳孔面积集合中的元素，另外，c0也不为负瞳孔面积集合中的元素。如果c1为正数，但|c1|≤avgΔ，则c1不为正瞳孔面积集合中的元素，另外，c1也不为负瞳孔面积集合中的元素。如果c2为负数，且|c2|＞min{avgΔ,2.5}，则由于c2＝A2-avg，其是由A2得到。同时，瞳孔面积集合A＝{A0,A1,A2,A3,A4}中A2并非最后一个元素，因此c2非由瞳孔面积集合中最后一个元素得到，此时，确定c2的采集时刻ti为A2的采集时刻t3，将信号差集合中对应第t3+1时刻的植物神经信号与第t3时刻的植物神经信号之差的元素的值确定为其在信号差集合中对应的元素值。也就是说，c2在信号差集合中对应的元素值为a3的值，如果a3大于信号差集合ΔS＝{a0,a1,a2,a3}中元素均值，则c2为负瞳孔面积集合中的元素。如果c3为负数，且|c3|≤min{avgΔ,2.5}，则c3不为负瞳孔面积集合中的元素，另外c3也不为正瞳孔面积集合中的元素。如果c4为正数，且|c4|＞avgΔ，则由于c4＝A4-avg，其是由A4得到。同时，瞳孔面积集合A＝{A0,A1,A2,A3,A4}中A4为最后一个元素，因此c4由瞳孔面积集合中最后一个元素得到，将信号差集合ΔS＝{a0,a1,a2,a3}中的最后一个元素a3的值确定为c4在信号差集合ΔS＝{a0,a1,a2,a3}中对应的元素值，如果a3大于信号差集合ΔS＝{a0,a1,a2,a3}中元素均值，则c4为正瞳孔面积集合中的元素。此时，正瞳孔面积集合仅包括1个元素，即c4。负瞳孔面积集合仅包括1个元素，即c2。S103-3-4，根据正瞳孔面积集合和负瞳孔面积集合确定情绪系数。具体的，确定正瞳孔面积集合中最大元素值和值最小的元素以及对应的时刻和对应的时刻确定负瞳孔面积集合中最大元素值和值最小的元素以及对应的时刻和对应的时刻确定瞳孔面积差集合中最大元素值瞳孔面积集合中的对应元素值b1和值最小的元素在瞳孔面积集合中的对应元素值b2。其中，b1为瞳孔面积集合中得到的两个元素中的值最大元素，b2为瞳孔面积集合中得到的两个元素中的值最大元素。确定正系数负系数确定情绪系数I2＝max{I+，I-}。表征了瞳孔最大面积与最小面积的差，|b1-b2|表征了变化最大的最大瞳孔面积和变化最小的最大瞳孔面积，通过和|b1-b2|的最大值表征了，用户对于情绪刺激的最大情绪波动，该值越大说明情绪波动越大，其患有抑郁症的可能性越大。表征了瞳孔面积最大和最小之间的时间差，该时间越短说明情绪波动越明显，其患有抑郁症的可能性越大。S104，基于情感系数和情绪系数对面部视频进行抑郁症检测，得到抑郁症检测结果。具体的，S104-1，识别面部视频中各帧的微表情。本步骤采用现有的微表情识别方案，此处不再赘述。S104-2，确定各帧微表情之间的变化度。此处也采用现有的微表情分析方法，通过该方法确定前后两帧之间的表情变化。变化度可以为多种代表，例如，变化度为发生变化的微表情特征点的数量，或者，变化度为发生变化的微表情特征点的数量/微表情特征点总数量，或者变化度为发生变化的微表情特征点的平均距离，其中，平均距离为∑每个微表情特征点在前后两帧中位置差。S104-3，确定变化度不大于变化阈值的连续帧最大数。其中变化阈值是个经验值，可以预先被设置。或者，通过样本数据进行训练得到。另外，连续帧包括不大于变化阈值的变化度所涉及的所有帧。也就是说，变化度是由两帧作差得到的，那么该两帧均为其涉及的帧。本步骤中，会依次计算相邻两帧的变化度。并分别确定每个变化度与变化阈值之间的关系。例如表2所示：表2表2所示的数据中，存在3段变化度不大于变化阈值的连续帧，第一段为D0所对应的帧F0和F1，第二段为D2和D3所对应的帧F2、F3和F4，第三段为D5、D6和D7所对应的帧F5、F6、F7和F8。那么最大数为4。连续帧最大数表征了用户无反应的最长帧数，由于帧也是时序存在的，也就是说视频中每分钟多少帧是固定的，通过帧数可以反应时间长短，也就是用户在接受情绪刺激时无反应的最长时间，该时间越长，其患有抑郁症的可能性越大。S104-4，确定检测值＝最大数*I1*I2。其中，I1为情感系数，I2为情绪系数。S104-5，如果检测值大于抑郁阈值，则确定检测出抑郁症。其中抑郁阈值是个经验值，可以预先被设置。或者，通过样本数据进行训练得到。本实施例提供的方法，获取用户在接受情绪刺激时的植物神经信号、面部视频以及瞳孔面积；基于植物神经信号确定情感系数；基于瞳孔面积确定情绪系数；基于情感系数和情绪系数对面部视频进行抑郁症检测，得到抑郁症检测结果，实现了抑郁症的自动检测。为了更好的理解上述技术方案，下面将参照附图更详细地描述本发明的示例性实施例。虽然附图中显示了本发明的示例性实施例，然而应当理解，可以以各种形式实现本发明而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更清楚、透彻地理解本发明，并且能够将本发明的范围完整的传达给本领域的技术人员。本领域内的技术人员应明白，本发明的实施例可提供为方法、系统或计算机程序产品。因此，本发明可采用完全硬件实施例、完全软件实施例，或结合软件和硬件方面的实施例的形式。而且，本发明可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本发明是参照根据本发明实施例的方法、设备和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。此外，需要说明的是，在本说明书的描述中，术语“一个实施例”、“一些实施例”、“实施例”、“示例”、“具体示例”或“一些示例”等的描述，是指结合该实施例或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施例或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施例或示例。而且，描述的具体特征、结构、材料或者特点可以在任一个或多个实施例或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本说明书中描述的不同实施例或示例以及不同实施例或示例的特征进行结合和组合。尽管已描述了本发明的优选实施例，但本领域的技术人员在得知了基本创造性概念后，则可对这些实施例作出另外的变更和修改。所以，权利要求应该解释为包括优选实施例以及落入本发明范围的所有变更和修改。显然，本领域的技术人员可以对本发明进行各种修改和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也应该包含这些修改和变型在内。
