标题title
基于神经网络和模糊综合评价的锻炼强度计算系统和方法
摘要abst
本发明公开了基于神经网络和模糊综合评价的锻炼强度计算系统和方法。所述基于神经网络和模糊综合评价的锻炼强度计算系统由用户子系统、沉浸式虚拟场景管理子系统、锻炼数据采集子系统、体能综合评估子系统、异常状态提醒子系统组成。用户子系统用于注册个人账户并存储信息；沉浸式虚拟场景管理子系统用于提供基于VR的运动场景；锻炼数据采集子系统用于采集用户运动时的锻炼数据；综合评估子系统用于评估用户体能；异常状态提醒子系统在用户当前的锻炼强度与用户体能评估结果对应的锻炼强度范围不符时，对用户进行提醒。本发明还提供了基于神经网络和模糊综合评价的锻炼强度计算方法。与现有技术相比，本发明使锻炼更加趣味化、智能化、安全化。
权利要求书clms
1.基于神经网络和模糊综合评价的锻炼强度计算系统，由用户子系统、沉浸式虚拟场景管理子系统、锻炼数据采集子系统、体能综合评估子系统组成，其特征在于，所述用户子系统用于注册个人账户并存储信息，包括个人基础信息输入模块、个人锻炼总目标设置模块、查看个人体能历史评估模块三部分，个人基础信息输入模块用于输入个人基础信息，其中个人基础信息包括性别、年龄、身高、体重；所述沉浸式虚拟场景管理子系统用于提供基于VR的运动场景，VR为虚拟现实的缩写；所述锻炼数据采集子系统用于采集用户运动时的锻炼数据，包括心率、速度数据、力量数据、耐力数据、灵敏度数据、柔韧性数据；所述综合评估子系统用于评估用户体能。2.根据权利要求1所述的基于神经网络和模糊综合评价的锻炼强度计算系统，其特征在于，所述系统还包括异常状态提醒子系统，在用户当前的锻炼强度与用户体能评估结果对应的锻炼强度范围不符时，对用户进行提醒。3.基于神经网络和模糊综合评价的锻炼强度计算方法，所述方法由权利要求1-2任一项所述的系统实施，其特征在于，所述方法包括以下步骤：S301、用户设置，通过用户子系统注册个人账户并设置相关信息，利用个人锻炼总目标设置模块设置本次锻炼总目标；S302、利用沉浸式虚拟场景管理子系统设置基于VR的运动场景；S303、开始运动锻炼；S304、利用锻炼数据采集子系统采集用户运动时的锻炼数据，通过体能综合评估子系统评估用户体能；S305、利用锻炼强度计算模型，；计算用户的锻炼强度，实时检测用户的锻炼强度，保障用户的锻炼强度保持在用户体能评估结果对应的用户的锻炼强度范围，直到达到本次锻炼总目标，结束运动；式中，I表示用户锻炼强度，且；Ehr表示运动心率；Rhr表示静息心率；year表示年龄；N为5，表示评估用户体能状况的个数；wi表示权重，其中且； 表示N个wi中最大的wi， 表示N个wi中最小的wi；bi表示模糊综合评价法中用户体能状况的隶属度，且。4.根据权利要求3所述的基于神经网络和模糊综合评价的锻炼强度计算方法，其特征在于，所述通过体能综合评估子系统评估用户体能包括以下步骤：S401、构建样本数据集；S402、构建体能预测模型，体能预测模型为一个由输入层、隐藏层、输出层构成的BP神经网络；输入层为个人基础信息和运动时的锻炼数据，输出层为用户体能评估参数；S403、通过体能预测模型预测用户体能评估参数，用户体能评估参数包括心肺耐力适能数据、肌力适能数据、肌耐力适能数据；S404、评估用户体能，通过模糊综合评价法，将体能预测模型得到的用户体能评估参数数据用于综合评估用户体能状况，用户体能评估结果分为优秀、良好、中等、一般、差五类，优秀对应的锻炼强度范围为；良好对应的锻炼强度范围为；中等对应的锻炼强度范围为；一般对应的锻炼强度范围为；差对应的锻炼强度范围为。
说明书desc
技术领域本发明属于计算机机器学习领域，特别涉及基于神经网络和模糊综合评价的锻炼强度计算系统和方法。背景技术高速发展的社会提高了人们生活水平的同时，也减少了人们的锻炼时间。人体若长期缺乏运动，将导致组织器官机能下降30%，从而引起基础肌肉萎缩，使腹部肌群、腰背部肌群及上下肢肌群的肌肉力量降低，同时导致呼吸循环功能低下，即使轻微运动也会出现心悸和呼吸困难的情况，严重危害到人们的生命。目前全民健身计划打响了人们锻炼的口号，但锻炼的方式仍具有一定的局限性：一些具有生理疾病的或长期缺乏锻炼的人锻炼时，容易因锻炼不当导致心率过快，从而增加心血管疾病的发病率和死亡率，更为严重的后果则将直接导致死亡；现有系统难以保障用户在最适合个人身体状况的锻炼强度下运动，锻炼强度过大容易造成受伤甚至猝死的风险，锻炼强度过小又难以达到强身健体的效果；目前已有的锻炼强度算法只考虑到年龄和心率两个因素，未考虑到不同性别、不同身高、不同体重等因素对锻炼强度算法的影响，导致算法不够精确；并且传统的锻炼局限于一个环境，不可避免的导致锻炼者在重复单一的环境下产生乏味单调的心态。机器学习算法和数学推理使系统智能水平提升到更高的高度，在特定场景下做出的判断往往逼近甚至超过人类。虚拟现实技术具有超强的仿真能力，构建与真实环境相似的物理环境的同时，还能提供额外的视觉反馈。因此，为解决上述问题，亟待一种通过机器学习算法和虚拟现实技术的方式来帮助人们安全锻炼。发明内容本发明的目的在于解决现有的系统和锻炼强度算法存在的局限性，在保障用户安全的情况下进行高效的锻炼，确保锻炼效果。运用了“虚拟现实+机器学习”的思维，提供基于神经网络和模糊综合评价的锻炼强度计算系统和方法，在保证锻炼安全的情况下，在多感官刺激和反馈的环境中提供一种高效的锻炼方法，减少因心率过快导致休克或死亡，在帮助人们锻炼的同时增加锻炼的趣味性。为实现上述目的，本发明提供了基于神经网络和模糊综合评价的锻炼强度计算系统，由用户子系统、沉浸式虚拟场景管理子系统、锻炼数据采集子系统、体能综合评估子系统组成，其特征在于，所述用户子系统用于注册个人账户并存储信息，包括个人基础信息输入模块、个人锻炼总目标设置模块、查看个人体能历史评估模块三部分，个人基础信息输入模块用于输入个人基础信息，其中个人基础信息包括性别、年龄、身高、体重；所述沉浸式虚拟场景管理子系统用于提供基于VR的运动场景，VR为虚拟现实的缩写；所述锻炼数据采集子系统用于采集用户运动时的锻炼数据，包括心率、速度数据、力量数据、耐力数据、灵敏度数据、柔韧性数据；所述综合评估子系统用于评估用户体能。优选地，所述系统还包括异常状态提醒子系统，在用户当前的锻炼强度与用户体能评估结果对应的锻炼强度范围不符时，对用户进行提醒。基于神经网络和模糊综合评价的锻炼强度计算方法，所述方法由基于神经网络和模糊综合评价的锻炼强度计算系统实施，所述方法包括以下步骤：S301、用户设置，通过用户子系统注册个人账户并设置相关信息，利用个人锻炼总目标设置模块设置本次锻炼总目标；S302、利用沉浸式虚拟场景管理子系统设置基于VR的运动场景；S303、开始运动锻炼；S304、利用锻炼数据采集子系统采集用户运动时的锻炼数据，通过体能综合评估子系统评估用户体能；S305、利用锻炼强度计算模型，；计算用户的锻炼强度，实时检测用户的锻炼强度，保障用户的锻炼强度保持在用户体能评估结果对应的用户的锻炼强度范围，直到达到本次锻炼总目标，结束运动；式中，I表示用户锻炼强度，且；Ehr表示运动心率；Rhr表示静息心率；year表示年龄；N为5，表示评估用户体能状况的个数；wi表示权重，其中且； 表示N个wi中最大的wi， 表示N个wi中最小的wi；bi表示模糊综合评价法中用户体能状况的隶属度，且。优选地，所述通过体能综合评估子系统评估用户体能包括以下步骤：S401、构建样本数据集；S402、构建体能预测模型，体能预测模型为一个由输入层、隐藏层、输出层构成的BP神经网络；输入层为个人基础信息和运动时的锻炼数据，输出层为用户体能评估参数；S403、通过体能预测模型预测用户体能评估参数，用户体能评估参数包括心肺耐力适能数据、肌力适能数据、肌耐力适能数据；S404、评估用户体能，通过模糊综合评价法，将体能预测模型得到的用户体能评估参数数据用于综合评估用户体能状况，用户体能评估结果分为优秀、良好、中等、一般、差五类，优秀对应的锻炼强度范围为；良好对应的锻炼强度范围为；中等对应的锻炼强度范围为；一般对应的锻炼强度范围为；差对应的锻炼强度范围为。与现有技术相比，本发明具有以下有益效果：本系统集健康监护、游戏式运动锻炼、可视化综合评估于一体，锻炼趣味化；根据用户体能评估结果确定锻炼强度范围，根据锻炼强度计算模型实时监测用户锻炼强度，锻炼智能化；通过互联网技术、机器学习技术、大数据技术，解决了由于生理情况突变导致危险事故发生的问题，锻炼安全化。附图说明图1是本发明基于神经网络和模糊综合评价的锻炼强度计算系统的功能模块图。图2是本发明基于神经网络和模糊综合评价的锻炼强度计算方法的技术路线图。图3是本发明通过体能综合评估子模块评估用户体能的流程图。具体实施方式为使本发明的目的、技术方案和优点更加清楚明白，下面结合实施方式和附图，对本发明做进一步详细说明。在此，本发明的示意性实施方式及其说明用于解释本发明，但并不作为对本发明的限定。本发明提供了基于神经网络和模糊综合评价的锻炼强度计算系统，由用户子系统、沉浸式虚拟场景管理子系统、锻炼数据采集子系统、体能综合评估子系统组成，如图1所示。所述用户子系统用于注册个人账户并存储信息，包括个人基础信息输入模块、个人锻炼总目标设置模块、查看个人体能历史评估模块三部分，个人基础信息输入模块用于输入个人基础信息，其中个人基础信息包括性别、年龄、身高、体重；个人锻炼总目标设置模块用于设置本次锻炼总目标，包括设置运动过程中目标卡路里；查看个人体能历史评估模块查看个人体能历史评估，个人体能历史评估模块包括历史心率曲线趋势图、锻炼强度曲线趋势图、历史卡路里趋势图；所述沉浸式虚拟场景管理子系统用于提供基于VR的运动场景，VR为虚拟现实的缩写；所述锻炼数据采集子系统用于采集用户运动时的锻炼数据，包括心率、速度数据、力量数据、耐力数据、灵敏度数据、柔韧性数据；所述综合评估子系统用于评估用户体能。进一步的，所述系统还包括异常状态提醒子系统，在用户当前的锻炼强度与用户体能评估结果对应的锻炼强度范围不符时，对用户进行提醒。基于神经网络和模糊综合评价的锻炼强度计算方法，所述方法由所述的基于神经网络和模糊综合评价的锻炼强度计算系统实施，所述方法包括以下步骤，如图2所示，S301、用户设置，通过用户子系统注册个人账户并设置相关信息，利用个人锻炼总目标设置模块设置本次锻炼总目标；S302、利用沉浸式虚拟场景管理子系统设置基于VR的运动场景；S303、开始运动锻炼；S304、利用锻炼数据采集子系统采集用户运动时的锻炼数据，通过体能综合评估子系统评估用户体能；S305、利用锻炼强度计算模型，；计算用户的锻炼强度，实时检测用户的锻炼强度，保障用户的锻炼强度保持在用户体能评估结果对应的用户的锻炼强度范围，直到达到本次锻炼总目标，结束运动；式中，I表示用户锻炼强度，且；Ehr表示运动心率；Rhr表示静息心率；year表示年龄；N为5，表示评估用户体能状况的个数；wi表示权重，其中且； 表示N个wi中最大的wi， 表示N个wi中最小的wi；bi表示模糊综合评价法中用户体能状况的隶属度，且。进一步的，所述通过体能综合评估子系统评估用户体能包括以下步骤，如图3所示，S401、构建样本数据集，取100人作为实验参与者，在参与实验前分别测得心肺耐力适能数据、肌力适能数据、肌耐力适能数据作为真实值Y；将个人基础信息，包括性别、年龄、身高、体重信息，和在运动锻炼过程中通过外部系统分别获取速度数据、力量数据、耐力数据、灵敏度数据、柔韧性数据作为输入值X；通过筛选条件合理筛选，构建原始样本集，通过生成对抗网络扩充的数据作为最终样本数据集；S402、构建体能预测模型，体能预测模型为一个由输入层、隐藏层、输出层构成的BP神经网络；输入层为个人基础信息和运动时的锻炼数据，输出层为用户体能评估参数；a1：初始化，初始化输入层节点个数n，隐含层的节点个数l，输入层的节点个数m，输入层到隐藏层的权重wij，隐含层到输出层的权重wjk，输入层到隐含层的偏置aj，隐含层到输出层的偏置bk，同时给定学习速率η，激活函数为g，设置目标误差ε，迭代最大次数M；a2：隐藏层的输出，隐藏层第j个节点的输出为，其中i=1,2,...,n，j=1,2,...,l，式中，g为激活函数，wij表示输入层第i个节点到隐藏层第j个节点的权重，X=为输入样本，xi表示第i个输入样本，aj表示输入层到第j个隐藏层的偏置；a3：输出层的输出，输出层第k个节点的输出为，j=1,2,...,l，k=1,2,...,m，式中，Hj表示隐藏层第j个节点的输出，wjk表示隐藏层第j个节点到输出层第k个节点的权重，bk表示隐藏层到第k个输出层的偏置；a4：误差计算，误差为，式中，Yk为真实输出，Ok为输出层第k个节点的输出，记，式中：ek表示输出层单个节点的误差；则E可表示为，其中i=1,2,...,n，j=1,2,...,l，k=1,2,...,m；a5：判断算法迭代是否结束，判断误差E是否小于目标误差ε，即E≤ε，若成立，则结束迭代，并记录当前权值wij、wjk、偏置aj、bk；若不成立，则判断迭代次数p是否大于等于最大迭代次数，即p≥M,若成立，则结束迭代，并记录当前权值wij、wjk、偏置aj、bk；若不成立，更新权值wij、wjk和更新偏置aj、bk，并转步骤a2，a51：权值更新，权值更新公式为，其中i=1,2,...,n，j=1,2,...,l，k=1,2,...,m；a52：偏置更新，偏置更新公式为，其中i=1,2,...,n，j=1,2,...,l，k=1,2,...,m；S403、通过体能预测模型预测用户体能评估参数，用户体能评估参数包括心肺耐力适能数据、肌力适能数据、肌耐力适能数据；S404、评估用户体能，通过模糊综合评价法，将体能预测模型得到的用户体能评估参数数据用于综合评估用户体能状况，具体步骤如下：b1：建立综合评价的因素集，即U=，其中 ，u1、u2、u3分别表示心肺耐力适能、肌力适能、肌耐力适能，b2：建立用户体能状况的评价集，即V=，其中，v1、v2、v3、v4、v5分别表示优秀、良好、中等、一般、差；b3：进行单因素模糊评价，获得评价单因素评价矩阵，即，其中，R3×5表示单因素评价矩阵，rij表示因素集U中第i个元素对评价集V中第j个元素的隶属度；b4：确定因素权向量，即A1×3=，ai表示从体能预测模型得到的用户体能评估参数数据；b5：计算模糊向量，即，其中，B表示通过模糊变化将A1×3变成V上的模糊向量，A1×3表示因素权向量，V表示用户体能状况的评价集，R3×5表示单因素评价矩阵，表示综合评价合成算子，bj表示用户体能评估对对评价集V中第j个元素的隶属度；b6：确定用户体能评估结果，用户体能评估结果分为优秀、良好、中等、一般、差五类，优秀对应的锻炼强度范围为；良好对应的锻炼强度范围为；中等对应的锻炼强度范围为；一般对应的锻炼强度范围为；差对应的锻炼强度范围为。下面结合具体用户A对基于神经网络和模糊综合评价的锻炼强度计算方法做进一步说明。实施例 用户A通过本发明所述系统进行运动用户设置，通过用户子系统注册个人账户并设置用户A的基础信息，利用个人锻炼总目标设置模块设置本次锻炼总目标为800卡路里；利用沉浸式虚拟场景管理子系统设置基于VR的运动场景；开始运动锻炼；利用锻炼数据采集子系统采集用户运动时的锻炼数据，用户运动时的锻炼数据包括心率、速度数据、力量数据、耐力数据、灵敏度数据、柔韧性数据；通过体能综合评估子系统评估用户体能；评估用户体能，通过用户A基础数据和运动时的锻炼数据，通过BP神经网络和模糊综合评价法得到用户A体能状况对应的隶属度bi为，因此对用户A的用户体能评估结果为中等，对照体能评估结果和锻炼强度范围划分表，如表1所示，推荐锻炼强度范围为，表1在19：30时刻用户A的心率数据如表2所示，表2利用锻炼强度计算模型；其中，权重wi分别为，bi为，计算用户的锻炼强度为0.7309，在用户A的用户体能评估结果对应的锻炼强度范围内，继续锻炼；在19：41时刻用户A的生理数据如表3所示，表3利用锻炼强度计算模型计算用户的锻炼强度为0.8031，不在锻炼范围内，此时进行报警，用户A进行调整，将锻炼强度降至锻炼强度范围内后，继续锻炼；直到达到本次锻炼总目标2000卡路里，结束运动；最后所应说明的是：以上实施例仅用以说明而非限制本发明的技术方案，尽管参照上述实施例对本发明进行了详细说明，本领域的普通技术人员应该理解：依然可以对本发明进行修改或者等同替换，而不脱离本发明的精神和范围的任何修改或局部替换，其均应涵盖在本发明的权利要求范围当中。
