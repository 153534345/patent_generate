标题title
一种麻醉深度监测电数据处理方法及系统
摘要abst
本发明公开了一种麻醉深度监测电数据处理方法及系统，包括步骤S1：获取麻醉深度监测电数据；步骤S2：获取不同子序列的相似性；步骤S3：于获取相似度较好的脑电图电信号子区间数据；步骤S4：基于每个最优子区间对应的分组阈值获取最优子区间步长；得到处理后的麻醉深度监测电数据序列；步骤S5：对处理后的麻醉深度监测电数据序列进行编码压缩，得到压缩后的数据，将压缩后的数据进行存储。本发明大大提高了麻醉深度监测电数据的压缩效果，达到高效传输与存储的目的。
权利要求书clms
1.一种麻醉深度监测电数据处理方法，其特征在于，包括以下步骤：步骤S1：获取麻醉深度监测电数据，所述麻醉深度监测电数据为脑电图电信号数据或心电图电信号数据或呼吸活动数据；步骤S2：基于麻醉深度监测电数据的平均值获取麻醉深度监测电数据子段，标记每段数据子段中的最大值点和最小值点，根据数据子段上最大值点之间的距离序列与数据子段上最小值点之间的距离序列间的平均值获取分组阈值的备选区间；根据分组阈值的备选区间获取每个分组阈值下麻醉深度监测电数据中的若干组子序列；根据备选区间中每个分组阈值以及每个分组阈值下麻醉深度监测电数据中相邻子序列间的差异获取每个分组阈值下麻醉深度监测电数据中相邻子序列的序列相似度；步骤S3：基于每个分组阈值下的相邻子序列相似度间的差异获取每个分组阈值下麻醉深度监测电数据的一类区间与二类区间；根据分组阈值的大小及一类区间的长度获取所有一类区间的优选程度，根据所有一类区间的优选程度获取多个最优子区间；步骤S4：基于每个最优子区间对应的分组阈值获取最优子区间步长；通过每个最优子区间的步长以及二类区间的预设步长对每个最优子区间内的麻醉深度监测电数据进行差分处理，得到处理后的麻醉深度监测电数据序列；步骤S5：对处理后的麻醉深度监测电数据序列进行编码压缩，得到压缩后的数据，将压缩后的数据进行存储。2.根据权利要求1所述的麻醉深度监测电数据处理方法，其特征在于，所述步骤S2中根据麻醉深度监测电数据的平均值获取麻醉深度监测电数据子段，包括的步骤为：首先获取麻醉深度监测电数据序列的平均值，将平均值记为，麻醉深度监测电数据序列中大于/＞且连续分布的信号数据作为麻醉深度监测电数据子段，麻醉深度监测电数据序列中小于等于/＞且连续分布的信号数据也作为麻醉深度监测电数据子段。3.根据权利要求2所述的麻醉深度监测电数据处理方法，其特征在于，所述步骤S2中根据数据子段上最大值点之间的距离序列与数据子段上最小值点之间的距离序列间的平均值获取分组阈值的备选区间，包括的步骤为：获取每个大于平均值的数据子段中的最大值，并标记每个大于平均值/＞的数据子段中最大值的位置，同理获取每个小于等于平均值/＞的数据子段中的最小值，并标记每个小于等于平均值/＞的数据子段中最小值的位置；相邻的大于平均值/＞的数据子段中，获取最大值的位置之间的距离maxL，所有相邻的大于平均值/＞的数据子段中最大值的位置之间的距离构成距离序列，记为最大值序列；其中maxLg1-1表示最大值序列中第g1 -1个距离；相邻的小于等于平均值/＞的数据子段中，获取最小值的位置之间的距离minL，所有相邻的小于等于平均值/＞的数据子段中最小值的位置之间的距离构成距离序列，记为最小值序列；其中minLg2-1表示最小值序列中第g2 -1个距离，根据相邻标记最大值间的距离序列与相邻标记最小值间的距离序列间的平均值获 取分组阈值的备选区间，公式为：其中，表示分组阈值备选区间的最大值，⌊ * ⌋表示向下取整，/＞分别表示大于平均值/＞的数据子段个数与小于等于平均值/＞的数据子段个数，/＞,/＞分别表示最大值序列与最小值序列中第t个相邻标记最大值间的距离与相邻标记最小值间的距离，由此得到分组阈值的备选区间为。4.根据权利要求3所述的麻醉深度监测电数据处理方法，其特征在于，所述步骤S2中根据分组阈值的备选区间获取每个分组阈值下麻醉深度监测电数据中的若干组子序列，包括的步骤为：遍历备选区间中的每个整数，将遍历到的整数记为分组阈值a，以每a个数据为一组对麻醉深度监测电数据进行分组，在最后一个分组中，若分组中的数据量不足a时，将分组中不足a个的麻醉深度监测电数据量也纳为一组，由此完成麻醉深度监测电数据序列的初始分组，分组总个数记为Ba；将第b组麻醉深度监测电数据序列记为第b个麻醉深度监测电数据子序列； 遍历麻醉深度监测电数据序列，得到多个麻醉深度监测电数据子序列，麻醉深度监测电数据子序列的个数为Ba；其中第b个麻醉深度监测电数据子序列为，db,i表示第 b个麻醉深度监测电数据子序列第i个电信号数据值，第b + 1麻醉深度监测电数据子序列为。5.根据权利要求4所述的麻醉深度监测电数据处理方法，其特征在于，所述步骤S2中根据备选区间中每个分组阈值以及每个分组阈值下麻醉深度监测电数据中相邻子序列间的差异获取每个分组阈值下麻醉深度监测电数据中相邻子序列的序列相似度，包括的步骤为：序列相似度的获取方法为：式中表示第/＞组麻醉深度监测电数据子序列与第b组麻醉深度监测电数据子序列的序列相似度，exp表示以自然常数为底数的指数函数，/＞表示麻醉深度监测电数据子序列的长度，/＞表示第b + 1麻醉深度监测电数据子序列中第i个数据的值，/＞表示第b个脑电图电信号 数据子序列中第i个数据的值。6.根据权利要求1所述的麻醉深度监测电数据处理方法，其特征在于，所述步骤S3中根据每个分组阈值下的序列相似度间的差异获取每个分组阈值下脑电图电 信号数据的一类区间与二类区间，包括的步骤为：获取序列相似度序列fa，判断fa中第r个序列相似度值cr，若cr大于等于第一阈值，此时计算c1 ,c2 ,…,cr的均值，从c1 ,c2 ,…,cr中选择与/＞差异最小的序列相似度值作为参考序列相似度值，记为∆c，判断序列相似度值c r与参考序列相似度值∆c差值的绝对值是否小于等于第二阈值，若fa中第r个序列相似度值cr大于等于第一阈值且cr与∆c差值的绝对值小于等于第二阈值，则将序列相似度值c1 ,c2 ,…,cr对应的麻醉深度监测电数据子序列归为一个区间，若fa中第r 个序列相似度值cr小于第一阈值或cr与∆c差值的绝对值大于第二阈值，此时判断停止，将序列相似度值c1 ,c2 ,…,cr-1对应的麻醉深度监测电数据子序列归为一个区间;将其记为第一子区间，将第一子区间从麻醉深度监测电数据序列中去除，同理获取第二子区间、第三子区间，直至麻醉深度监测电数据序列进行区间划分完成后停止，将满足cr大于等于第一阈值的区间记为一类区间，将不满足cr大于等于第一阈值的区间记为二类区间；所述步骤3中根据分组阈值的大小及一类区间的长度获取所有一类区间的优选程度，包括的步骤为：一类区间的优选程度计算公式为：式中表示分组阈值为/＞的数据序列区间中第z个一类区间的优选程度，/＞表示分组阈值最大值，/＞表示分组阈值，/＞表示麻醉深度监测电数据序列中数据总数，/＞表示分组阈值为a的数据序列区间中第z个一类区间的数据个数，exp表示以自然常数为底数的指数函数。7.根据权利要求1所述的麻醉深度监测电数据处理方法，其特征在于，所述步骤S4中，根据每个最优子区间对应的分组阈值获取最优子区间步长，包括的步骤为：每一个最优子区间对应一个分组阈值，将每一个最优子区间对应的每一个分组阈值作为每一个最优子区间的最优子区间步长，所有的二类区间的步长均为1，由此得到每一个子区间的步长。8.根据权利要求1所述的麻醉深度监测电数据处理方法，其特征在于，所述步骤S4中，通过每个最优子区间的步长以及二类区间的预设步长对每个最优子区间内的麻醉深度监测电数据进行差分处理，得到处理后的麻醉深度监测电数据序列，包括的步骤为：通过每个子区间对应的步长对子区间内的数据进行差分处理，对于最优子区间，保留每个最优子区间对应分组阈值长度的麻醉深度监测电数据，第y个最优子区间对应的分组阈值长度为v，则第y个最优子区间中前v位保留原始的麻醉深度监测电数据，从麻醉深度监测电数据序列中的第v +1位开始对麻醉深度监测电数据序列进行差分处理，得到差分数据，将前v位保留的原始的麻醉深度监测电数据置于差分步长之后，将差分步长与前v位保留的原始的脑电图电信号数据进行标记，将差分数据置于前v位保留的原始的麻醉深度监测电数据之后，由此得到该最优子区间处理之后的数据，对其他最优子区间的处理方法相同；对于二类区间，由于差分步长默认为1，仅需要保留二类区间中的第一位原始的麻醉深度监测电数据，同理，对于二类区间，将差分步长置于区间首位，将前1位保留的原始的麻醉深度监测电数据置于差分步长之后，将差分步长与前1位保留的原始的麻醉深度监测电数据进行标记，将差分数据置于前1位保留的原始的麻醉深度监测电数据之后，由此得到该二类区间处理之后的数据，对其他二类区间的处理方法相同；由此完成所有数据的处理；将处理后的数据按区间划分的顺序进行排列，得到处理后的麻醉深度监测电数据序列。9.根据权利要求1所述的麻醉深度监测电数据处理方法，其特征在于，所述步骤S5中，对处理后的麻醉深度监测电数据序列采用霍夫曼压缩算法进行编码压缩，将压缩完成后的数据进行存储。10.一种麻醉深度监测电数据处理系统，其特征在于:包括：麻醉深度监测电数据采集模块，用于获取麻醉深度监测电数据，所述麻醉深度监测电数据包括麻醉深度监测电数据、心电图电信号数据与呼吸活动数据；序列相似度获取模块，用于根据麻醉深度监测电数据的平均值获取麻醉深度监测电数据子段；标记每段数据子段中的最大值点和最小值点，根据数据子段上最大值点之间的距离序列与数据子段上最小值点之间的距离序列间的平均值获取分组阈值的备选区间；根据分组阈值的备选区间获取每个分组阈值下麻醉深度监测电数据中的若干组子序列；根据备选区间中每个分组阈值以及每个分组阈值下麻醉深度监测电数据中相邻子序列间的差异获取每个分组阈值下脑电 图电信号数据中相邻子序列的序列相似度；最优子区间获取模块，用于根据每个分组阈值下的序列相似度间的差异获取每个分组阈值下麻醉深度监测电数据的一类区间与二类区间；根据分组阈值的大小及一类区间的长度获取所有一类区间的优选程度，根据所有一类区间的优选程度获取多个最优子区间；最优子区间步长获取模块，用于根据每个最优子区间对应的分组阈值获取最优子区间步长；通过每个最优子区间的步长以及二类区间的预设步长对每个最优子区间内的脑电图电信号数据进行差分处理，得到处理后的麻醉深度监测电数据序列；数据压缩存储模块，用于对处理后的麻醉深度监测电数据序列进行编码压缩，得到压缩后的数据，将压缩后的数据进行存储；所述麻醉深度监测电数据处理系统用于执行如权利要求1-9中任一项所述麻醉深度监测电数据处理方法中的步骤。
说明书desc
技术领域本发明涉及数据处理领域，具体涉及一种麻醉深度监测电数据处理方法及系统。背景技术麻醉深度监测是在手术过程中对患者的麻醉深度进行实时监测和评估，以确保患者在手 术过程中保持适当的麻醉状态。目前，常用的麻醉深度监测方法包括脑电图监测、熵值监测、脉搏波形分析等。然而，这些监测方法在数据处理和存储方面存在一些问题，例 如数据量大、处理复杂、存储成本高等，为了解决这一问题，数据压缩技术被引入到麻醉深度监测电数据智慧处理系统中。通过使用数据压缩技术，可以优化存储空间，提高数据传输 效率和提高数据的可用性，从而实现对麻醉深度监测电数据的智慧管理和利用。传统霍夫曼编码是根据数据出现的频率来对麻醉深度监测电数据进行压缩，但麻醉深度监测数据例如脑电图监测数据，数据类型多，在对其进行压缩时，压缩效果一般，不足以达到高效传输与存储的目的。发明内容针对以上问题，本发明通过对麻醉深度监测电数据进行差分处理，通过自适应差分步长，并对不同位置 的麻醉深度监测电数据进行不同程度的差分处理，令差分处理后的数据的冗余程度尽可能大， 从而大大提高麻醉深度监测电数据的压缩效果，达到高效传输与存储的目的。为达到上述目的，本发明方法的技术方案为：一种麻醉深度监测电数据处理方法，包括以下步骤：步骤S1：获取麻醉深度监测电数据，所述麻醉深度监测电数据为脑电图电信号数据或心电图电信号数据或呼吸活动数据；步骤S2：基于麻醉深度监测电数据的平均值获取麻醉深度监测电数据子段，标记每段数据子段中的最大值点和最小值点，根据数据子段上最大值点之间的距离序列与数据子段上最小值点之间的距离序列间的平均值获取分组阈值的备选区间；根据分组阈值的备选区间获取每个分组阈值下麻醉深度监测电数据中的若干组子序列；根据备选区间中每个分组阈值以及每个分组阈值下麻醉深度监测电数据中相邻子序列间的差异获取每个分组阈值下麻醉深度监测电数据中相邻子序列的序列相似度；步骤S3：基于每个分组阈值下的相邻子序列相似度间的差异获取每个分组阈值下麻醉深度监测电数据的一类区间与二类区间；根据分组阈值的大小及一类区间的长度获取所有一类区间的优选程度，根据所有一类区间的优选程度获取多个最优子区间；步骤S4：基于每个最优子区间对应的分组阈值获取最优子区间步长；通过每个最优子区间的步长以及二类区间的预设步长对每个最优子区间内的麻醉深度监测电数据进行差分处理，得到处理后的麻醉深度监测电数据序列；步骤S5：对处理后的麻醉深度监测电数据序列进行编码压缩，得到压缩后的数据，将压缩后的数据进行存储。进一步地，所述步骤S2中根据麻醉深度监测电数据的平均值获取麻醉深度监测电数据子段，包括的步骤为：首先获取麻醉深度监测电数据序列的平均值，将平均值记为，麻醉深度监测电数据序列中大于h且连续分布的信号数据作为麻醉深度监测电数据子段，麻醉深度监测电数据序列中小于等于h且连续分布的信号数据也作为麻醉深度监测电数据子段。进一步地，所述步骤S2中根据数据子段上最大值点之间的距离序列与数据子段上最小值点之间的距离序列间的平均值获取分组阈值的备选区间，包括的步骤为：获取每个大于平均值的数据子段中的最大值，并标记每个大于平均值/＞的数据子段中最大值的位置，同理获取每个小于等于平均值/＞的数据子段中的最小值，并标记每个小于等于平均值/＞的数据子段中最小值的位置；相邻的大于平均值/＞的数据子段中，获取最大值的位置之间的距离maxL，所有相邻的大于平均值/＞的数据子段中最大值的位置之间的距离构成距离序列，记为最大值序列；其中maxLg1-1表示最大值序列中第g1-1个距离；相邻的小于等于平均值/＞的数据子段中，获取最小值的位置之间的距离minL，所有相邻的小于等于平均值/＞的数据子段中最小值的位置之间的距离构成距离序列，记为最小值序列；其中minLg2-1表示最小值序列中第g2-1个距离，根据相邻标记最大值间的距离序列与相邻标记最小值间的距离序列间的平均值获 取分组阈值的备选区间，公式为：其中，表示分组阈值备选区间的最大值，⌊ * ⌋表示向下取整，/＞分别表示大于平均值/＞的数据子段个数与小于等于平均值/＞的数据子段个数，/＞,/＞分别表示最大值序列与最小值序列中第t个相邻标记最大值间的距离与相邻标记最小值间的距离，由此得到分组阈值的备选区间为。进一步地，所述步骤S2中根据分组阈值的备选区间获取每个分组阈值下麻醉深度监测电数据中的若干组子序列，包括的步骤为：遍历备选区间中的每个整数，将遍历到的整数记为分组阈值a，以每a个数据为一组对麻醉深度监测电数据进行分组，在最后一个分组中，若分组中的数据量不足a时，将分组中不足a个的麻醉深度监测电数据量也纳为一组，由此完成麻醉深度监测电数据序列的初始分组，分组总个数记为Ba；将第b组麻醉深度监测电数据序列记为第b个麻醉深度监测电数据子序列；遍历麻醉深度监测电数据序列，得到多个麻醉深度监测电数据子序列，麻醉深度监测电数据子序列的个数为Ba；其中第b个麻醉深度监测电数据子序列为，db,i表示第 b个麻醉深度监测电数据子序列第i个电信号数据值，第b + 1麻醉深度监测电数据子序列为。进一步地，所述步骤S2中根据备选区间中每个分组阈值以及每个分组阈值下麻醉深度监测电数据中相邻子序列间的差异获取每个分组阈值下麻醉深度监测电数据中相邻子序列的序列相似度，包括的步骤为：序列相似度的获取方法为：式中表示第/＞组麻醉深度监测电数据子序列与第b组麻醉深度监测电数据子序列的序列相似度，exp表示以自然常数为底数的指数函数，/＞表示麻醉深度监测电数据子序列的长度，/＞表示第b + 1麻醉深度监测电数据子序列中第i个数据的值，/＞表示第b个脑电图电信号 数据子序列中第i个数据的值。进一步地，所述步骤S3中根据每个分组阈值下的序列相似度间的差异获取每个分组阈值下脑电图电信号数据的一类区间与二类区间，包括的步骤为：获取序列相似度序列fa，判断fa中第r个序列相似度值cr，若cr大于等于第一阈值，此时计算c1,c2,…,cr的均值，从c1,c2,…,cr中选择与/＞差异最小的序列相似度值作为参考序列相似度值，记为∆c，判断序列相似度值cr与参考序列相似度值∆c差值的绝对值是否小于等于第二阈值，若fa中第r个序列相似度值cr大于等于第一阈值且cr与∆c差值的绝对值小于等于第二阈值，则将序列相似度值c1,c2,…,cr对应的麻醉深度监测电数据子序列归为一个区间，若fa中第r 个序列相似度值cr小于第一阈值或cr与∆c差值的绝对值大于第二阈值，此时判断停止，将序列相似度值c1,c2,…,cr-1对应的麻醉深度监测电数据子序列归为一个区间;将其记为第一子区间，将第一子区间从麻醉深度监测电数据序列中去除，同理获取第二子区间、第三子区间，直至麻醉深度监测电数据序列进行区间划分完成后停止，将满足cr大于等于第一阈值的区间记为一类区间，将不满足cr大于等于第一阈值的区间记为二类区间；所述步骤3中根据分组阈值的大小及一类区间的长度获取所有一类区间的优选程度，包括的步骤为：一类区间的优选程度计算公式为：式中表示分组阈值为/＞的数据序列区间中第z个一类区间的优选程度，表示分组阈值最大值，/＞表示分组阈值，/＞表示麻醉深度监测电数据序列中数据总数，表示分组阈值为a的数据序列区间中第z个一类区间的数据个数，exp表示以自然常数为底数的指数函数。进一步地，所述步骤S4中，根据每个最优子区间对应的分组阈值获取最优子区间步长，包括的步骤为：每一个最优子区间对应一个分组阈值，将每一个最优子区间对应的每一个分组阈值作为每一个最优子区间的最优子区间步长，所有的二类区间的步长均为1，由此得到每一个子区间的步长。进一步地，所述步骤S4中，通过每个最优子区间的步长以及二类区间的预设步长对每个最优子区间内的麻醉深度监测电数据进行差分处理，得到处理后的麻醉深度监测电数据序列，包括的步骤为：通过每个子区间对应的步长对子区间内的数据进行差分处理，对于最优子区间，保留每个最优子区间对应分组阈值长度的麻醉深度监测电数据，第y个最优子区间对应的分组阈值长度为v，则第y个最优子区间中前v位保留原始的麻醉深度监测电数据，从麻醉深度监测电数据序列中的第v +1位开始对麻醉深度监测电数据序列进行差分处理，得到差分数据，将前v位保留的原始的麻醉深度监测电数据置于差分步长之后，将差分步长与前v位保留的原始的脑电图电信号数据进行标记，将差分数据置于前v位保留的原始的麻醉深度监测电数据之后，由此得到该最优子区间处理之后的数据，对其他最优子区间的处理方法相同；对于二类区间，由于差分步长默认为1，仅需要保留二类区间中的第一位原始的麻醉深度监测电数据，同理，对于二类区间，将差分步长置于区间首位，将前1 位保留的原始的麻醉深度监测电数据置于差分步长之后，将差分步长与前1位保留的原始的麻醉深度监测电数据进行标记，将差分数据置于前1位保留的原始的麻醉深度监测电数据之后，由此得到该二类区间处理之后的数据，对其他二类区间的处理方法相同；由此完成所有数据的处理；将处理后的数据按区间划分的顺序进行排列，得到处理后的麻醉深度监测电数据序列。进一步地，所述步骤S5中，对处理后的麻醉深度监测电数据序列采用霍夫曼压缩算法进行编码压缩，将压缩完成后的 数据进行存储。另一方面，本发明还提供一种麻醉深度监测电数据处理系统，包括：麻醉深度监测电数据采集模块，用于获取麻醉深度监测电数据，所述麻醉深度监测电数据包括麻醉深度监测电数据、心电图电信号数据与呼吸活动数据；序列相似度获取模块，用于根据麻醉深度监测电数据的平均值获取麻醉深度监测电数据子段； 标记每段数据子段中的最大值点和最小值点，根据数据子段上最大值点之间的距离序列与数 据子段上最小值点之间的距离序列间的平均值获取分组阈值的备选区间；根据分组阈值的备 选区间获取每个分组阈值下麻醉深度监测电数据中的若干组子序列；根据备选区间中每个分组 阈值以及每个分组阈值下麻醉深度监测电数据中相邻子序列间的差异获取每个分组阈值下脑电 图电信号数据中相邻子序列的序列相似度；最优子区间获取模块，用于根据每个分组阈值下的序列相似度间的差异获取每个分组阈 值下麻醉深度监测电数据的一类区间与二类区间；根据分组阈值的大小及一类区间的长度获取 所有一类区间的优选程度，根据所有一类区间的优选程度获取多个最优子区间；最优子区间步长获取模块，用于根据每个最优子区间对应的分组阈值获取最优子区间步长；通过每个最优子区间的步长以及二类区间的预设步长对每个最优子区间内的脑电图电信号数据进行差分处理，得到处理后的麻醉深度监测电数据序列； 数据压缩存储模块，用于对处理后的麻醉深度监测电数据序列进行编码压缩，得到压缩后的数据，将压缩后的数据进行存储；所述麻醉深度监测电数据处理系统用于执行上述麻醉深度监测电数据处理方法中的步骤。与现有技术相比，本发明具有如下有益效果：本发明通过对麻醉深度监测电数据进行不同程度的分组处理，获取麻醉深度监测电数据中相似 度较大的数据区间，根据分组间的相似度获取自适应差分步长，对不同位置的麻醉深度监测 电数据进行不同程度的差分处理，令差分处理后的数据的数据频率分布的差异尽可能大，从 而大大提高麻醉深度监测电数据的压缩效果，达到高效传输与存储的目的。附图说明图1为本发明电数据处理系统图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述。显然，所描述的实施例是本发明的一部分实施例，而不是全部的实施例。基于本发明中的实施例，本发明普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。实施例1本实施例提供一种麻醉深度监测电数据处理方法，包括以下步骤：步骤S1：获取麻醉深度监测电数据，所述麻醉深度监测电数据为脑电图电信号数据或心电图电信号数据或呼吸活动数据；本实施例中，利用麻醉深度监测设备采集麻醉深度监测电数据；将采集得到的麻醉深度监测电数据记为 麻醉深度监测电数据序列。由于麻醉深度监测电数据的数据会存在重复出现的情况，例如脑电图电信号数据中部分电信号是呈现近似周期性出现的，即电信号呈现上升、下降、上升、下降的交替规律出现，其他数据也是如此。对于重复出现的数据在存储时需要被压缩来节省存储空间，现有的压缩 算法，例如霍夫曼编码，就是利用数据的频率来进行压缩的，但当数据频率呈现均匀出现时，霍夫曼编码的压缩效果较差，而由于麻醉深度监测电数据中电信号呈现交替规律出现，即数据的频率近似于均匀出现的，本实施例中考虑麻醉深度监测电数据中数据的频率分布，因此本实施例结合麻醉深度监测电数据中所具有的数据的近似周期性出现的特点，对麻醉深度监测电数据进行差分和差分步长分析，以保证能够在现有压缩算法的基础上得到更好的压缩效果。步骤S2：基于脑电图电信号数据的平均值获取脑电图电信号数据子段，标记每段数据子段中的最大值点和最小值点，根据数据子段上最大值点之间的距离序列与数据子段上最小值点之间的距离序列间的平均值获取分组阈值的备选区间；根据分组阈值的备选区间获取每个分组阈值下脑电图电信号数据中的若干组子序列；根据备选区间中每个分组阈值以及每个分组阈值下脑电图电信号数据中相邻子序列间的差异获取每个分组阈值下脑电图电信号数据中相邻子序列的序列相似度；需要说明的是：在进行霍夫曼编码压缩时，由于脑电图电信号数据中部分电信号是呈现 近似周期性出现的，即脑电图电信号数据中各类数据出现的频率近似相等，数据种类多且各类数据出现的频率相似，导致在采用霍夫曼编 码进行压缩时压缩效果较差，而霍夫曼编码在针对频率分布不均匀的数据时有较好的压缩效果，又由于脑电图电信号数据中部分电信号是呈现近似周期性出现的，故通过差分的方式获取脑电图电信号数据数据间的差异，令部分数据的频率大大增加，部分数据的频率大大减小，使得脑电图电信号数据中数据频率的分布不均匀，从而提高编码压缩的效果。因此根据脑电图电信号数据的分布，自适应确定差分步长，并对脑电图电信号数据进行自适应分段处理， 令每一段数据均自适应对应一个差分步长，使得每段数据中差分数据的频率分布尽可能不均匀，达到高效压缩的目的。步骤S2中根据脑电图电信号数据的平均值获取脑电图电信号数据子段，包括的步骤为：首先获取脑电图电信号数据序列的平均值，将平均值记为，脑电图电信号数据序列中大于h且连续分布的信号数据作为脑电图电信号数据子段，脑电图电信号数据序列中小于等于h且连续分布的信号数据也作为脑电图电信号数据子段。步骤S2中根据数据子段上最大值点之间的距离序列与数据子段上最小值点之间的距离序列间的平均值获取分组阈值的备选区间，包括的步骤为：由于脑电图电信号数据存在一定的规律性，即电信号以上升、下降、上升、下降的交替 规律出现，故通过如下方式获得备选区间。将平均值记为，通过平均值/＞将脑电图电信号数据序列分为若干个数据子段数据，即从脑电图电 信号数据序列的第一个数据开始进行判断，若脑电图电信号数据序列的第一个数据大于平均值/＞，则判断脑电图电信号数据序列的第二个数据，若脑电图电信号数据序列的第二个数据 也大于平均值/＞，则判断脑电图电信号数据序列的第三个数据，若脑电图电信号数据序列的第三个数据也大于平均值/＞，……，则判断脑电图电信号数据序列的第j个数据，若脑电图电信号数据序列的第j个数据也大于平均值/＞，则判断脑电图电信号数据序列的第j +1个数据，若脑电图电信号数据序列的第j +1个数据也大于平均值/＞，则判断脑电图电信号数据序列的第j +2个数据，若脑电图电信号数据序列的第j +2个数据小于等于平均值/＞，此时将脑电图电信号数据序列中的第1个数据到第j +1个数据划分为一个数据子段，将该数据子段记为大于平均值/＞的第一数据子段；此时将大于平均值/＞的第一数据子段从脑电图电信号数据序列中去除，继续进行分段判断，从截断后的脑电图电信号数据序列的第一个数据开始进行判断，若脑电图电信号数据序列的第j个数据小于等于平均值/＞，则判断脑电图电信号数据序列的第j+1个数据，若脑电图电信号数据序列的第j +1个数据也小于等于平均值/＞，则判断脑电图电 信号数据序列的第j +2个数据，若脑电图电信号数据序列的第j +2个数据也小于等于平均值/＞，则判断脑电图电信号数据序列的第j +3个数据，若脑电图电信号数据序列的第j+3个数 据大于平均值/＞，此时将截断后的脑电图电信号数据序列中的第1个数据到第j +2个数据划分为一个数据子段，将该数据子段记为小于等于平均值/＞的第二数据子段；同理获得小于等于平均值/＞的所有数据子段，脑电图电信号数据序列中，除去小于等于平均值的所有数据子段外，其他数据子段都是大于平均值/＞的数据子段，大于平均值/＞的数据子段个数记为g1，小于等于平均值/＞的数据子段个数记为g2，获取每个大于平均值/＞的数据子段中的最大值，并标记每个大于平均值/＞的数据子段中最大值的位置，同理获取每个小于等于平均值/＞的数据子段中的最小值，并标记每个小于等于平均值/＞的数据子段中最小值的位置；相邻的大于平均值的数据子段中，获取最大值的位置之间的距离maxL，所有相邻的大于平均值/＞的数据子段中最大值的位置之间的距离构成距离序列，记为最大值序列；其中maxLg1-1表示最大值序列中第g1-1个距离；相邻的小于等于平均值/＞的数据子段中，获取最小值的位置之间的距离minL，所有相邻的小于等于平均值/＞的数据子段中最小值的位置之间的距离构成距离序列，记为最小值序列；其中minLg2-1表示最小值序列中第g2-1个距离，根据相邻标记最大值间的距离序列与相邻标记最小值间的距离序列间的平均值获 取分组阈值的备选区间，公式为：其中，表示分组阈值备选区间的最大值，⌊ * ⌋表示向下取整，/＞分别表示大于平均值/＞的数据子段个数与小于等于平均值/＞的数据子段个数，/＞,/＞分别表示最大值序列与最小值序列中第t个相邻标记最大值间的距离与相邻标记最小值间的距离，由此得到分组阈值的备选区间为。以每a个数据为一组进行分组，在最后一个分组中，若分组中的数据量不足a时，则剩余 多少就按多少计算，由此完成脑电图电信号数据序列的初始分组，分组总个数记为Ba；将第b组脑电图电信号数据序列记为第b个脑电图电信号数据子序列；遍历脑电图电信号数据序列，得到多个脑电图电信号数据子序列，脑电图电信号数据子序列的个数为Ba；其中第b个脑电图电信号数据子序列为，db,i表示第b个脑电图电信号数据子序列第i个电信号数据值，第b + 1脑电图电信号数据子序列为。根据相邻脑电图电信号数据子序列间的差异获取相邻脑电图电信号数据子序列的序列相似度，序列相似度的获取方法为：式中表示第/＞组脑电图电信号数据子序列与第b组脑电图电信号数据子序列的序列相似度，exp表示以自然常数为底数的指数函数，/＞表示脑电图电信号数据子序列的长度，/＞表示第b + 1脑电图电信号数据子序列中第i个数据的值，/＞表示第b个脑电图电信号数据子序列中第i个数据的值，通过上述计算方法获取第b +1组脑电图电信号数据子序列与第b组脑电图电信号数据子序列的序列相似度，同理获取所有相邻脑电图电信号数据子序列间的序列相似度；若第b +1组脑电图电信号数据子序列与第b组脑电图电信号数据子序列中子序列相同位置的数据差异越小，则第b +1组脑电图电信号数据子序列与第b组脑电图电信号数据子序列的序列相似度越大，若第b +1组脑电图电信号数据子序列与第b组脑电图电信号数据子序列中子序列相同位置的数据完全相同，则第b +1组脑电图电信号数据子序列与第 b组脑电图电信号数据子序列的序列相似度达到最大，取值为1。同理获得第b +2组脑电图电信号数据子序列与第b + 1组脑电图电信号数据子序列的序列相似度，根据当前分组阈值 a 下的所有相邻脑电图电信号数据子序列的序列相似度获取分组阈值a 下的序列相似度序列fa，表现形式为：fa= 。需要说明的是：在对脑电图电信号数据序列进行初始分组时，采用的是较小的分组阈值 进行分组的，此时会出现分组长度小于脑电图电信号单个周期的长度，从而导致相邻脑电图 电信号数据子序列的序列相似度低，故需要改变分组阈值的大小，利用不同的分组阈值进行分组，获取不同分组长度下相邻脑电图电信号数据子序列的序列相似度，而采用不同分组进行迭代处理势必会增大计算量和计算难度，故需要获取分组阈值的备选区间，即采用一定数 量的分组阈值获取相邻脑电图电信号数据子序列的序列相似度，进一步获取最优数据子段与自适应步长。获得分组阈值 a 的序列相似度序列。由此获得所有分组阈值的序列相似度序列，这些相似度序列分别为：f1,f2,f3,…,fk…,famax-2，其中fk表示第 k 个分组阈值下的相似度序列。 根据每一个阈值下的序列相似度序列构建相似性曲线，得到amax-2条相似性曲线。步骤S3：基于每个分组阈值下的相邻子序列相似度间的差异获取每个分组阈值下脑电图电信号数据的一类区间与二类区间；根据分组阈值的大小及一类区间的长度获取所有一类区间的优选程度，根据所有一类区间的优选程度获取多个最优子区间；需要说明的是：相似性曲线反映的是相邻脑电图电信号数据子序列的序列相似度的变化 情况，相似性曲线越平缓，则说明当前分组阈值下的相邻脑电图电信号数据子序列的相似度 越高，即脑电图电信号数据的周期性越强，若将周期性强的脑电图电信号数据置于同一个子区间中，再利用差分法获取子区间中脑电图电信号数据数据间的差异，此时差异数据的频率 呈现极度不均匀的状态，即部分差异数据的频率很大，部分差异数据的频率很小，此时采用霍夫曼编码进行编码压缩时的压缩效果将大大提高。根据相似性曲线中序列相似度间的差异获取最优子区间，设置相似度阈值T1与序列相似度阈值T2，本实施例以T1= 0.65,T2= 0.25为例进行叙述，具体实施时可设置其他值，本实施例不进行具体限定，以第一个分组阈值下得到的序列相似度序列f1为例，其中f1=，cBa -1表示第Ba-1组脑电图电信号数据子序列与第Ba组脑电图电信号数据子序列的序列相似度；首先判断序列相似度序列f1中第一个序列相似度值c1是否大于等于相似度阈值T1，若大于等于相似度阈值T1，则说明第1组脑电图电信号数据子序列与第2组脑电 图电信号数据子序列高度相似，则继续判断f1中第二个序列相似度值c2是否大于等于相似度阈值T1，若大于等于相似度阈值T1，判断序列相似度值c1与序列相似度值c2差值的绝对值是否小于等于序列相似度阈值T2，若f1中第二个序列相似度值c2大于等于相似度阈值T1且序列相似度值c1与序列相似度值c2差值的绝对值小于等于序列相似度阈值T2，则将序列相似度值 c1,c2对应的脑电图电信号数据子序列归为一个区间；此时继续判断f1中第三个序列相似度值c3，若c3大于等于T1，此时计算c1,c2,c3的均值，从c1,c2,c3中选择与/＞差异最小的序列相似度值作为参考序列相似度值，记为∆c，判断序列相似度值c3与参考序列相似度值∆c差值的绝对值是否小于等于序列相似度阈值T2，若f1中第三个序列相似度值c3大于等于相似度阈值T1且c3与∆c差值的绝对值小于等于T2，则将序列相似度值c1,c2,c3对应的脑电图电信号数据子序列归为一个区间；同理此时继续判断f1中第r个序列相似度值cr，cr表示f1中第r个序列相似度值，若cr大于等于T1，此时计算c1,c2,…,cr的均值，从c1,c2,…,cr中选择与/＞差异最小的序列相似度值作为参考序列相似度值，记为∆c，判断序列相似度值cr与参考序列相似度值∆c差值的绝对值是否小于等于序列相似度阈值T2，若f1中第r个序列相似度值cr大于等于相似度阈值T1且cr与∆c差值的绝对值小于等于T2，则将序列相似度值c1,c2,…,cr对应的脑电图电信号数据子序列归为一个区间，若f1中第r个序列相似度值cr小于相似度阈值T1或cr与∆c差值的绝对值大于T2，则将序列相似度值c1,c2,…,cr-1对应的脑电图电信号数据子序列归为一个区间，此时得到第一子区间。将第一子区间从序列相似度序列f1中去除，同理根据剩余的序列相似度序列f1获取第二子区间、第三子区间，直至脑电图电信号数据序列进行区间划分完成后停止，将满足cr大于等于T1的区间记为一类区间，将不满足cr大于等于T1的区间记为二类区间，若两相邻子区间均属于二类区间，则将属于二类区间的两相邻子区间进行合并，所有合并完成后，以f1为例的脑电图电信号数据序列被分为一类区间与二类区间交替出现的数据序列区间，即第一个分组阈值下对应的数据序列区间。同理对f2,f3,…,famax-2进行上述处理，得到每个分组阈值下对应的数据序列区间。需要说明的是：分组阈值越大，则每组脑电图电信号数据序列的长度越大，在进行压缩 存储时需要保留一组完整的脑电图电信号数据，故脑电图电信号数据序列的长度越大，压缩 效果越差，一类区间的长度越长，则说明一类区间中数据的相似度越大，差分后差分数据的差异数据的频率呈现极度不均匀的状态，即部分差异数据的频率很大，部分差异数据的频率很小，此时采用霍夫曼编码进行编码压缩时的压缩效果将大大提高，故根据分组阈值的大小及一类区间的长度获取子区间的优选程度，公式为：式中表示分组阈值为/＞的数据序列区间中第z个一类区间的优选程度，表示分组阈值最大值，/＞表示分组阈值，/＞表示脑电图电信号数据序列中数据总数，表示分组阈值为a的数据序列区间中第z个一类区间的数据个数，exp表示以自然常数为底数的指数函数。第z个一类区间中数据个数越多，对应的分组阈值越小，则第z 个一类区间的优选程度越大，由此计算获取所有分组阈值下的数据序列区间中所有的一类区间的优选程度。对于同一个分组阈值，从所有的一类区间的优选程度中选择最大的优选程度所对应的一类区间作为第一最优子区间，将第一最优子区间从脑电图电信号数据序列中去除，在剩余的 脑电图电信号数据序列中继续选择最大的优选程度所对应的一类区间作为第二最优子区间，将第二最优子区间从脑电图电信号数据序列中去除，在剩余的脑电图电信号数据序列中继续 选择最大的优选程度所对应的一类区间作为第三最优子区间，直至将所有的一类区间选择完成后迭代停止此时获取得到同一个分组阈值下的多个最优子区间。步骤S4：基于每个最优子区间对应的分组阈值获取最优子区间步长；通过每个最优子区间的步长以及二类区间的预设步长对每个最优子区间内的脑电图电信号数据进行差分处理，得到处理后的脑电图电信号数据序列；步骤S4中，根据每个最优子区间对应的分组阈值获取最优子区间步长，包括的步骤为：每一个最优子区间对应一个分组阈值，将每一个最优子区间对应的每一个分组阈值作为每一个最优子区间的最优子区间步长，所有的二类区间的步长均为 1，由此得到每一个子区间的步长。通过每个子区间对应的步长对子区间内的数据进行差分处理，对于最优子区间，保留每 个最优子区间对应分组阈值长度的脑电图电信号数据。例如第y个最优子区间对应的分组阈值长度为5，则第y个最优子区间中前5位保留原始的脑电图电信号数据，从第6位开始获取对应的差分数据，即第6位的差分数据为第6位原始的脑电图电信号数据值减去第1位原始的脑电图电信号数据值，第7位的差分数据为第7位原始的脑电图电信号数据值减去第2位原始的脑电图电信号数据值，第8位的差分数据为第8位原始的脑电图电信号数据值减去第3位原始的脑电图电信号数据值，以此类推，将差分步长置于区间首位，将前5位保留的原始的脑电图电信号数据置于差分步长之后，将差分步长与前5位保留的原始的脑电图电信号数据进行标记，便于后续解码，标记是通过增添标识符进行标记的，即在差分步长与前5位保留的原始的脑电图电信号数据之后增添标识符，在对该区间内的数据进行读取时，当读取标识符时，标识符之前的数据即为差分步长与前5位保留的原始的脑电图电信号数据，标识符之后的数据即为差分数据；将差分数据置于前5位保留的原始的脑电图电信号数据之后，由此得到该最优子区间处理之后的数据，同理对其他最优子区间的处理方法相同；对于二类区间，由于差分步长默认为1，仅需要保留二类区间中的第一位原始的脑电图电信号数据，同理，对于二类区间，将差分步长置于区间首位，将前1位保留的原始的脑电图电信号数据置于差分步长之后，将差分步长与前1位保留的原始的脑电图电信号数据进行标记，将差分数据置于前1位保留的原始的脑电图电信号数据之后，由此得到该二类区间处理之后的数据，同理对其他二类区间的处理方法相同；由此完成所有数据的处理。将处理后的数据按区间划分的顺序进行排列，得到处理后的脑电图电信号数据序列。步骤S5：采用霍夫曼编码对处理后的脑电图电信号数据序列进行编码压缩，其中霍夫曼编码为现有技术，本实施例不予以详细概述。利用本实施例的方法对呼吸活动数据与心电图电信号数据进行数据相同处理，实现呼吸活动数据与心电图电信号数据的压缩，由于处理方法同理，本实施例不再赘述对呼吸活动数据与脑电图电信号数据的具体处理过程。将压缩完成后的数据进行存储，通过对存储的数据进行分析，实现对麻醉深度监测电数据的智慧管理和利用的目的。本文中所描述的具体实施例仅是对本发明精神作举例说明。本发明所属技术领域的技术人员可以对所描述的具体实施例做各样的修改或补充或采用类似的方式替代，但并不会偏离本发明的精神或者超越所附权利要求书所定义的范围。实施例2如图1所示，本实施例提供一种麻醉深度监测电数据处理系统，包括：麻醉深度监测电数据采集模块101，用于获取麻醉深度监测电数据，麻醉深度监测电数据包括脑电图电信号数据或心电图电信号数据或呼吸活动数据；利用麻醉深度监测设备采集麻醉深度监测电数据；其中麻醉深度监测设备包括脑电图 监测仪、心电图监测仪和呼吸监测仪，脑电图监测仪采集的是大脑 电活动的电信号数据，用于监测和分析患者的脑电波形和脑电活动的变化；心电图监测仪采集的是心脏电活动的电信号数据，用于监测和分析患者的心电波形和心脏活动的变 化；呼吸监测仪采集的是患者的呼吸活动数据，包括呼吸频率、呼吸深度和呼吸节律等信息，用于监测和分析患者的呼吸状态和呼吸功能的变化。序列相似度获取模块102，用于根据脑电图电信号数据的平均值获取脑电图电信号数据子段；标记每段数据子段中的最大值点和最小值点，根据数据子段上最大值点之间的距离序列与数 据子段上最小值点之间的距离序列间的平均值获取分组阈值的备选区间；根据分组阈值的备 选区间获取每个分组阈值下脑电图电信号数据中的若干组子序列；根据备选区间中每个分组阈值以及每个分组阈值下脑电图电信号数据中相邻子序列间的差异获取每个分组阈值下脑电 图电信号数据中相邻子序列的序列相似度；最优子区间获取模块103，用于根据每个分组阈值下的序列相似度间的差异获取每个分组阈值下脑电图电信号数据的一类区间与二类区间；根据分组阈值的大小及一类区间的长度获取 所有一类区间的优选程度，根据所有一类区间的优选程度获取多个最优子区间；最优子区间步长获取模块104，用于根据每个最优子区间对应的分组阈值获取最优子区间步长；通过每个最优子区间的步长以及二类区间的预设步长对每个最优子区间内的脑电图电信号数据进行差分处理，得到处理后的脑电图电信号数据序列；数据压缩存储模块105，用于对处理后的脑电图电信号数据序列进行编码压缩，得到压缩后的数据，将压缩后的数据进行存储；需要说明的是，本实施例同理对麻醉深度监测电数据采集模块101中采集的心电图电信号数据、呼吸活动数据也输入到序列相似度获取模块102、最优子区间获取模块103、最优子区间步长获取模块104以及数据压缩存储模块105中，实现对心电图电信号数据、呼吸活动数据的存储。尽管已描述了本发明的优选实例，但本领域的技术人员一旦得知了基本的创造性概念，则可对这些实施例做出另外的变更和修改。所以，所附权利要求意欲解释为包括优选实施例以及落入本发明范围所有的变更和修改。显然，本领域的技术人员可以对本发明实施例进行各种改动和变型而不脱离本发明实施例的精神和范围。这样，倘若本发明实施例的这些修改和变型属于本发明权利要求及其同等技术的范围之类，则本发明也意图包含这些改动和变型在内。其它未详细说明的部分均为现有技术。
