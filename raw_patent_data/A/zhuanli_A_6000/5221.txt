标题title
一种基于大数据的盆底肌疲劳度优化训练系统及方法
摘要abst
本发明公开了一种基于大数据的盆底肌疲劳度优化训练系统及方法，属于盆底肌疲劳度监测技术领域。本发明系统包括方案读取模块、数据识别模块、数据计算模块、决策处理模块、方案调整模块和日志记录模块；本发明通过读取方案数据，根据组件信息获得收缩阶段的模板数据，判断腹肌参与检测功能，通过阴道电极采集患者盆底肌肌电信号和腹肌肌电信号并进行处理得到相应的盆底肌数据和腹肌数据；根据收缩阶段的模板数据、盆底肌数据和腹肌数据，判断盆底肌是否处于疲劳状态；根据盆底肌疲劳状态的判断，处理后续的训练方案数据，使患者的训练方案数据达到模板值；最后将整个过程中数据的流转情况进行逐一记录保存。
权利要求书clms
1.一种基于大数据的盆底肌疲劳度优化训练方法，其特征在于：所述方法包括以下步骤：S100.读取盆底肌疲劳度优化训练的方案数据，且一个方案是由多个组件组成，根据组件信息获得收缩阶段的模板数据，判断是否有腹肌参与检测功能，根据判断结果采集电信号并进行处理得到相应的数据；S200.根据步骤S100中的收缩阶段的模板数据、盆底肌数据和腹肌数据，判断盆底肌是否处于疲劳状态；S300.根据步骤S200的盆底肌疲劳状态的判断，处理后续的训练方案数据，使患者的训练方案数据达到模板值；S400.将步骤S100到步骤S300过程中数据的流转情况进行逐一记录保存。2.根据权利要求1所述的一种基于大数据的盆底肌疲劳度优化训练方法，其特征在于：所述步骤S100包括：S101.患者手动触发开始训练，进入程序引导过程，读取方案数据，获取方案总时长和组件信息，根据方案总时长和组件单次时长计算循环次数，计算公式如下：，其中T表示方案总时长，t表示每个组件完场一次所需的时间，且表示向下取整，保留整数部分；S102.根据组件信息获取模板数据，每一次循环都使用相同的模板数据，对模板数据进行处理，舍弃最小值的数据，得到收缩阶段的模板值，形成收缩阶段的模板数据，并记录最小值对应的时间点，形成最小值时间点集合；S103.判断是否拥有腹肌参与检测功能，若不存在腹肌检测功能，则针对方案每一次组件的循环，都获取盆底肌电信号，根据步骤S102形成的最小值时间点集合，处理盆底肌电信号，生成对应的盆底肌数据；若存在腹肌检测功能，则针对方案每一次组件的循环，都获取盆底肌电信号和腹肌肌电信号，根据步骤S102形成的最小值时间点集合，处理盆底肌电信号和腹肌肌电信号，生成对应的盆底肌数据和腹肌数据。3.根据权利要求2所述的一种基于大数据的盆底肌疲劳度优化训练方法，其特征在于：所述处理盆底肌电信号生成对应的盆底肌数据包括：首先获取模板数据中最小的幅值与最小值时间点集合，遍历模板数据，对于每个时间点和幅值点，如果幅值点为最小值，将时间点记录与最小值时间点集合中；遍历盆底肌电信号，对于每个时间点和幅值点，如果时间点存在于最小值时间点集合中，则舍弃对应的盆底肌电信号，循环结束后，剩下的数据即为所需的收缩阶段的盆底数据。4.根据权利要求2所述的一种基于大数据的盆底肌疲劳度优化训练方法，其特征在于：所述步骤S200包括：S201.首先对方案内的每一次循环执行以下操作，设置初始训练次数RoundIndex为1，判断RoundIndex是否大于ItemRound，如果是则执行结束操作；否则将RoundIndex加1，执行步骤S202；S202.当方案中的组件循环到第N次组件结束时，计算出N个收缩阶段的模板数据与盆底数据的相关系数，计算公式为：，，其中和/＞分别表示序列x和序列y的标准差，/＞表示样本协方差，/＞和/＞分别表示样本数据中序列x和序列y的第i个观测值，/＞和/＞分别表示序列x和序列y的均值，n表示样本数据的数量，且序列x和序列y分别为收缩阶段模板数据和盆底数据；S203.判断相关系数平均值是否小于0.4，若相关系数平均值小于0.4，则直接返回步骤201，判断下一次循环；若相关系数平均值大于等于0.4，则执行步骤S204；S204.判断是否存在腹肌数据，若不存在腹肌数据，则执行步骤S205；若存在腹肌数据，则计算前N次腹肌参与度，计算公式如下：，其中，为收缩阶段腹肌信号序列z的平均值，/＞为收缩阶段盆底肌信号序列y的平均值，r为2个序列的相关系数，offset为2个序列的偏差值，且偏差值的计算公式为，其中/＞为收缩阶段腹肌信号序列z的第i个观测值，/＞为收缩阶段盆底肌信号序列y的第i个观测值，n为序列数组中数据的个数；接着计算腹肌参与度拟合方程斜率，判断斜率是否大于阈值AbdLimit，如果大于阈值AbdLimit，则被认定为疲劳状态，如果小于等于阈值AbdLimit，则执行步骤S205；S205.计算前N次盆底肌数据与收缩阶段的模板数据偏差值，并判断是否连续M次大于阈值OffsetLimit；如果连续M次都大于阈值OffsetLimit，则认定为疲劳状态，如果并不是连续M次都大于阈值OffsetLimit，则认定为未疲劳状态。5.根据权利要求4所述的一种基于大数据的盆底肌疲劳度优化训练方法，其特征在于：所述计算腹肌参与度拟合方程斜率包括：记录N次腹肌参与度的序号，组成X数组，且X数组的赋值为0到N-1的连续整数，共计N个数据；将N次腹肌参与度组成Y数组，共计N个数据；分别计算X数组和Y数组的平均值，记为μ_X和μ_Y；计算X数组与Y数组的离均差交乘积和，具体公式为：，其中是X数组第i次个数，/＞是Y数组第i次个数；计算X数组的离均差平方和，具体公式为：，计算腹肌参与度拟合方程斜率Rate，即。6.根据权利要求5所述的一种基于大数据的盆底肌疲劳度优化训练方法，其特征在于：所述步骤S300包括：S301.获取原始组件数据最高幅值和当前循环组件最高、最低幅值，所述原始组件数据最高幅值是指在方案模板调整之前原始的最大值；所述前循环组件最高、最低幅值指的是获取当前循环的数值中最大值和最小值；S302.根据步骤S205的疲劳状态判断结果，进行相应的处理；如果处于疲劳状态，则判断当前循环组件的最低幅值减去5%是否大于等于20%，如果大于等于20%，则将后续N次循环组件幅值降低5%，如果小于20%，则不调整后续方案；如果处于非疲劳状态，将当前循环组件的最高幅值加5%，判断是否大于原始组件数据最高幅值，如果大于原始组件数据最高幅值，则恢复到最初的组件难度，如果小于等于原始组件数据最高幅值，则将后续N次循环组件幅值升高5%。7.一种基于大数据的盆底肌疲劳度优化训练系统，其特征在于：所述系统包括：方案读取模块、数据识别模块、数据计算模块、决策处理模块、方案调整模块和日志记录模块；所述方案读取模块用于获取方案数据，包括方案时长、组件名称、组件单次时长、组件幅值数据和组件时间数据；所述数据识别模块通过组件单次时长计算循环次数，来进行识别收缩阶段的模板数据，再根据收缩阶段的模板数据处理盆底肌电信号和腹肌肌电信号，生成对应的盆底肌数据和腹肌数据；所述数据计算模块通过数据识别模块的数据，计算出相关系数、腹肌参与度拟合方程斜率以及偏差值；所述决策处理模块用于判断出当前患者是否处于疲劳状态；所述方案调整模块根据决策处理模块的判断结果，调整后续训练的模板值，降低或者恢复模板的幅值；所述日志记录模块用于记录保存数据在各个步骤中的流转情况，包括方案读取模块、数据识别模块、数据计算模块、决策处理模块和方案调整模块中的数据流转情况，以及出现的异常问题。8.根据权利要求7所述的一种基于大数据的盆底肌疲劳度优化训练系统，其特征在于：所述方案读取模块包括方案数据读取单元和组件信息解析单元；所述方案数据读取单元用于读取患者训练方案数据，所述组件信息解析单元用于解析方案数据，提取并保存各个训练组件的相关信息；所述数据识别模块包括循环次数计算单元、盆底肌信号处理单元和腹肌信号处理单元；所述循环次数计算单元根据组件单次时长计算循环次数，再识别收缩阶段的模板数据；所述盆底肌信号处理单元处理盆底肌电信号，生成对应的盆底肌数据；所述腹肌信号处理单元处理腹肌肌电信号，生成对应的腹肌数据。9.根据权利要求7所述的一种基于大数据的盆底肌疲劳度优化训练系统，其特征在于：所述数据计算模块包括相关系数计算单元、腹肌参与度拟合方程斜率计算单元以及偏差值计算单元；所述相关系数计算单元用于计算收缩阶段的模板数据与盆底数据的相关系数和收缩阶段的盆底肌数据与腹肌数据的相关系数；所述腹肌参与度拟合方程斜率计算单元通过腹肌参与度来计算拟合方程斜率，通过得到的拟合方程斜率来判断疲劳度；所述偏差值计算单元基于数据识别模块的数据，计算收缩阶段的盆底肌数据与腹肌数据的偏差值。10.根据权利要求7所述的一种基于大数据的盆底肌疲劳度优化训练系统，其特征在于：所述日志记录模块包括数据流转记录单元和异常记录单元；所述数据流转记录单元记录各个模块之间数据的输入输出流转情况，包括方案读取模块、数据识别模块、数据计算模块、决策处理模块和方案调整模块中的数据流转情况；所述异常记录单元记录系统运行过程中出现的异常情况和错误。
说明书desc
技术领域本发明涉及盆底肌疲劳度监测技术领域，具体为一种基于大数据的盆底肌疲劳度优化训练系统及方法。背景技术女性盆底功能障碍性疾病是一组由盆底支持结构缺陷薄弱、损伤及功能障碍等多种因素造成的盆腔脏器移位并引起各种盆腔器官功能异常的疾病。盆底功能障碍的产生因素有很多，主要包括：妊娠和分娩、年龄、遗传、长期站立的职业或者长期抱小孩、重体力劳动的女性、肥胖的女性或是长期咳嗽的女性、便秘或者用力大便等等。其中，妊娠和分娩是造成盆底功能障碍性疾病首要因素之一。肌电生物反馈是一种无创的康复治疗方式，针对性改善盆底功能的作用，增强患者盆底肌的肌力与耐力，改善盆底器官脱垂程度，避免手术创伤，提高患者的生活质量。肌电生物反馈采用盆底肌电生物反馈仪，通过阴道电极采集并测量盆底肌群进行一系列收缩和放松动作时的盆底肌肌电信号，从而反映盆底肌的功能，进而通过此评估数据，获取个性化定制的盆底训练方案。方案内可能包含电刺激、触发电刺激、Kegel模板训练、多媒体游戏训练等等治疗模式。其中Kegel模板训练、多媒体游戏训练是纯主动训练，阴道电极置入患者阴道，阴道电极采集患者盆底表面肌电值并将肌电信号转换为图像；训练模板数据转化为图像数据用来提示用户收缩、放松盆底肌肉，提示用户按照模板线收缩、放松盆底肌，进而完成训练。然而在收缩时，往往由于患者盆底肌疲劳程度、腹部肌肉参与、外界因素影响等，无法达到预期的治疗效果，甚至对盆底肌造成进一步的损伤。发明内容本发明的目的在于提供一种基于大数据的盆底肌疲劳度优化训练系统及方法，以解决上述背景技术中提出的问题。为了解决上述技术问题，本发明提供如下技术方案：一种基于大数据的盆底肌疲劳度优化训练方法，方法包括以下步骤：S100.读取盆底肌疲劳度优化训练的方案数据，且一个方案是由多个组件组成，根据组件信息获得收缩阶段的模板数据，判断是否有腹肌参与检测功能，根据判断结果采集电信号并进行处理得到相应的数据；S200.根据步骤S100中的收缩阶段的模板数据、盆底肌数据和腹肌数据，判断盆底肌是否处于疲劳状态；S300.根据步骤S200的盆底肌疲劳状态的判断，处理后续的训练方案数据，使患者的训练方案数据达到模板值；S400.将步骤S100到步骤S300过程中数据的流转情况进行逐一记录保存。进一步的，步骤S100包括：S101.患者手动触发开始训练，进入程序引导过程，读取方案数据，获取方案总时长和组件信息，根据方案总时长和组件单次时长计算循环次数，计算公式如下：，其中T表示方案总时长，t表示每个组件完场一次所需的时间，且表示向下取整，保留整数部分；所述组件指盆底肌疲劳度优化训练系统的具体硬件零件，用于获取信息数据，例如系统中存在名称为“渐进控制收缩训练”的组件，用于获取收缩训练阶段的电信号；S102.根据组件信息获取模板数据，每一次循环都使用相同的模板数据，对模板数据进行处理，舍弃最小值的数据，得到收缩阶段的模板值，形成收缩阶段的模板数据，并记录最小值对应的时间点，形成最小值时间点集合；S103.判断是否拥有腹肌参与检测功能，若不存在腹肌检测功能，则针对方案每一次组件的循环，都获取盆底肌电信号，根据步骤S102形成的最小值时间点集合，处理盆底肌电信号，生成对应的盆底肌数据；若存在腹肌检测功能，则针对方案每一次组件的循环，都获取盆底肌电信号和腹肌肌电信号，根据步骤S102形成的最小值时间点集合，处理盆底肌电信号和腹肌肌电信号，且处理方式同处理盆底肌电信号，生成对应的盆底肌数据和腹肌数据。判断是否拥有腹肌参与检测功能，是为了在阴道电极的腹肌参与检测功能损坏时，仍然可以通过盆底肌数据来进行后续的分析，在拥有腹肌参与检测功能时，使后续分析更加准确。进一步的，处理盆底肌电信号生成对应的盆底肌数据包括：首先获取模板数据中最小的幅值与最小值时间点集合，遍历模板数据，对于每个时间点和幅值点，如果幅值点为最小值，将时间点记录与最小值时间点集合中；遍历盆底肌电信号，对于每个时间点和幅值点，如果时间点存在于最小值时间点集合中，表示对应的盆底肌电信号不处于收缩状态，则舍弃对应的盆底肌电信号，循环结束后，剩下的数据即为所需的收缩阶段的盆底数据。进一步的，步骤S200包括：S201.首先对方案内的每一次循环执行以下操作，设置初始训练次数RoundIndex为1，判断RoundIndex是否大于ItemRound，如果是则执行结束操作；否则将RoundIndex加1，执行步骤S202；S202.当方案中的组件循环到第N次组件结束时，计算出N个收缩阶段的模板数据与盆底数据的相关系数，计算公式为：，，其中和/＞分别表示序列x和序列y的标准差，/＞表示样本协方差，/＞和/＞分别表示样本数据中序列x和序列y的第i个观测值，/＞和/＞分别表示序列x和序列y的均值，n表示样本数据的数量，且序列x和序列y分别为收缩阶段模板数据和盆底数据；S203.判断相关系数平均值是否小于0.4，若相关系数平均值小于0.4，盆底数据与模板数据的相似度过低，说明患者盆底训练时，没有按照模板训练，则直接返回步骤201，判断下一次循环；若相关系数平均值大于等于0.4，则执行步骤S204；S204.判断是否存在腹肌数据，若不存在腹肌数据，则执行步骤S205；若存在腹肌数据，则计算前N次腹肌参与度，计算公式如下：，其中，为收缩阶段腹肌信号序列z的平均值，/＞为收缩阶段盆底肌信号序列y的平均值，r为2个序列的相关系数，offset为2个序列的偏差值，且偏差值的计算公式为，其中/＞为收缩阶段腹肌信号序列z的第i个观测值，/＞为收缩阶段盆底肌信号序列y的第i个观测值，n为序列数组中数据的个数；接着计算腹肌参与度拟合方程斜率，判断斜率是否大于阈值AbdLimit，如果大于阈值AbdLimit，则被认定为疲劳状态，如果小于等于阈值AbdLimit，则执行步骤S205；斜率值为正值时，说明N次腹肌参与度中，腹肌参与度逐渐升高，且阈值AbdLimit取值大于或等于0.2；S205.计算前N次盆底肌数据与收缩阶段的模板数据偏差值，并判断是否连续M次大于阈值OffsetLimit；如果连续M次都大于阈值OffsetLimit，则认定为疲劳状态，如果并不是连续M次都大于阈值OffsetLimit，则认定为未疲劳状态。进一步的，计算腹肌参与度拟合方程斜率包括：记录N次腹肌参与度的序号，组成X数组，且X数组的赋值为0到N-1的连续整数，共计N个数据；将N次腹肌参与度组成Y数组，共计N个数据；分别计算X数组和Y数组的平均值，记为μ_X和μ_Y；计算X数组与Y数组的离均差交乘积和，具体公式为：，其中是X数组第i次个数，/＞是Y数组第i次个数；计算X数组的离均差平方和，具体公式为：，计算腹肌参与度拟合方程斜率Rate，即。进一步的，步骤S300包括：S301.获取原始组件数据最高幅值和当前循环组件最高、最低幅值，所述原始组件数据最高幅值是指在方案模板调整之前原始的最大值；所述前循环组件最高、最低幅值指的是获取当前循环的数值中最大值和最小值；S302.根据步骤S205的疲劳状态判断结果，进行相应的处理；如果处于疲劳状态，则判断当前循环组件的最低幅值减去5%是否大于等于20%，此判断是为了防止后续多次降低导致幅值降得太低，如果大于等于20%，则将后续N次循环组件幅值降低5%，如果小于20%，则不调整后续方案；如果处于非疲劳状态，将当前循环组件的最高幅值加5%，判断是否大于原始组件数据最高幅值，目的是使模板恢复的时候，不超过最原始的难度，如果大于原始组件数据最高幅值，则恢复到最初的组件难度，如果小于等于原始组件数据最高幅值，则将后续N次循环组件幅值升高5%。一种基于大数据的盆底肌疲劳度优化训练系统，系统包括：方案读取模块、数据识别模块、数据计算模块、决策处理模块、方案调整模块和日志记录模块；方案读取模块用于获取方案数据，包括方案时长、组件名称、组件单次时长、组件幅值数据和组件时间数据；数据识别模块通过组件单次时长计算循环次数，来进行识别收缩阶段的模板数据，再根据收缩阶段的模板数据处理盆底肌电信号和腹肌肌电信号，生成对应的盆底肌数据和腹肌数据；数据计算模块通过数据识别模块的数据，计算出相关系数、腹肌参与度拟合方程斜率以及偏差值；决策处理模块用于判断出当前患者是否处于疲劳状态；方案调整模块根据决策处理模块的判断结果，调整后续训练的模板值，降低或者恢复模板的幅值；日志记录模块用于记录保存数据在各个步骤中的流转情况，包括方案读取模块、数据识别模块、数据计算模块、决策处理模块和方案调整模块中的数据流转情况，以及出现的异常问题。方案读取模块包括方案数据读取单元和组件信息解析单元；方案数据读取单元用于读取患者训练方案数据，组件信息解析单元用于解析方案数据，提取并保存各个训练组件的相关信息；数据识别模块包括循环次数计算单元、盆底肌信号处理单元和腹肌信号处理单元；循环次数计算单元根据组件单次时长计算循环次数，再识别收缩阶段的模板数据；盆底肌信号处理单元处理盆底肌电信号，生成对应的盆底肌数据；腹肌信号处理单元处理腹肌肌电信号，生成对应的腹肌数据。数据计算模块包括相关系数计算单元、腹肌参与度拟合方程斜率计算单元以及偏差值计算单元；相关系数计算单元用于计算收缩阶段的模板数据与盆底数据的相关系数和收缩阶段的盆底肌数据与腹肌数据的相关系数；腹肌参与度拟合方程斜率计算单元通过腹肌参与度来计算拟合方程斜率，通过得到的拟合方程斜率来判断疲劳度；偏差值计算单元基于数据识别模块的数据，计算收缩阶段的盆底肌数据与腹肌数据的偏差值。日志记录模块包括数据流转记录单元和异常记录单元；数据流转记录单元记录各个模块之间数据的输入输出流转情况，包括方案读取模块、数据识别模块、数据计算模块、决策处理模块和方案调整模块中的数据流转情况；异常记录单元记录系统运行过程中出现的异常情况和错误，即当阴道电极的腹肌参与检测功能损坏时，需要记录损坏时间。与现有技术相比，本发明所达到的有益效果是：通过运用生物反馈技术，可以实时监测盆底肌肉的收缩情况和疲劳程度，为训练提供数据支持；本发明的疲劳度识别获取了多次数据，减少了单次获取不准确的影响；根据患者的具体情况和需求，通过读取方案数据并分析组件信息，能够生成个性化的训练方案，这些方案会考虑到收缩阶段的模板数据以及腹肌参与检测功能的判断，确保训练方案的准确性和有效性；根据盆底肌疲劳状态的判断结果，系统可以灵活地调整后续的训练方案数据，如果盆底肌处于疲劳状态，可以降低训练难度以减轻负荷；如果盆底肌未疲劳，可以逐渐提高训练难度以获得更好的效果。附图说明附图用来提供对本发明的进一步理解，并且构成说明书的一部分，与本发明的实施例一起用于解释本发明，并不构成对本发明的限制。在附图中：图1是本发明一种基于大数据的盆底肌疲劳度优化训练系统的模块示意图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。请参阅图1，本发明提供技术方案：一种基于大数据的盆底肌疲劳度优化训练方法，方法包括以下步骤：S100.读取盆底肌疲劳度优化训练的方案数据，且一个方案是由多个组件组成，根据组件信息获得收缩阶段的模板数据，判断是否有腹肌参与检测功能，根据判断结果采集电信号并进行处理得到相应的数据；S101.患者手动触发开始训练，进入程序引导过程，读取方案数据，获取方案总时长和组件信息，根据方案总时长和组件单次时长计算循环次数，计算公式如下：，其中T表示方案总时长，t表示每个组件完场一次所需的时间，且表示向下取整，保留整数部分；所述组件指盆底肌疲劳度优化训练系统的具体硬件零件，用于获取信息数据，例如系统中存在名称为“渐进控制收缩训练”的组件，用于获取收缩训练阶段的电信号；S102.根据组件信息获取模板数据，每一次循环都使用相同的模板数据，对模板数据进行处理，舍弃最小值的数据，得到收缩阶段的模板值，形成收缩阶段的模板数据，并记录最小值对应的时间点，形成最小值时间点集合；最小值算法包含但不仅限于，循环获取最小值和排序获取最小值。本发明使用循环遍历数据An，设置最小值为A1；比较A2与A1，如果A2小于A1，则赋值最小值为A2，再比较A3与最小值的大小，否则最小值不变，直至循环结束。S103.判断是否拥有腹肌参与检测功能，若不存在腹肌检测功能，则针对方案每一次组件的循环，都获取盆底肌电信号，根据步骤S102形成的最小值时间点集合，处理盆底肌电信号，生成对应的盆底肌数据；若存在腹肌检测功能，则针对方案每一次组件的循环，都获取盆底肌电信号和腹肌肌电信号，根据步骤S102形成的最小值时间点集合，处理盆底肌电信号和腹肌肌电信号，且处理方式同处理盆底肌电信号，生成对应的盆底肌数据和腹肌数据。处理盆底肌电信号生成对应的盆底肌数据包括：首先获取模板数据中最小的幅值与最小值时间点集合，遍历模板数据，对于每个时间点和幅值点，如果幅值点为最小值，将时间点记录与最小值时间点集合中；遍历盆底肌电信号，对于每个时间点和幅值点，如果时间点存在于最小值时间点集合中，表示对应的盆底肌电信号不处于收缩状态，则舍弃对应的盆底肌电信号，循环结束后，剩下的数据即为所需的收缩阶段的盆底数据。S200.根据步骤S100中的收缩阶段的模板数据、盆底肌数据和腹肌数据，判断盆底肌是否处于疲劳状态；S201.首先对方案内的每一次循环执行以下操作，设置初始训练次数RoundIndex为1，判断RoundIndex是否大于ItemRound，如果是则执行结束操作；否则将RoundIndex加1，执行步骤S202；S202.当方案中的组件循环到第N次组件结束时，计算出N个收缩阶段的模板数据与盆底数据的相关系数，计算公式为：，，其中和/＞分别表示序列x和序列y的标准差，/＞表示样本协方差，/＞和/＞分别表示样本数据中序列x和序列y的第i个观测值，/＞和/＞分别表示序列x和序列y的均值，n表示样本数据的数量，且序列x和序列y分别为收缩阶段模板数据和盆底数据；假设15分钟的方案内，有34秒的组件，此时ItemRound为：向下取整 = 26次。优先使患者训练5分钟，其目的是保证方案的治疗效果，实际情况中，肌肉的疲劳往往体现在训练一段时间之后。此时N为：向上取整 = 9次。当方案中的组件循环到第N次组件结束时，计算出N个模板数据与盆底数据的相关系数。S203.判断相关系数平均值是否小于0.4，若相关系数平均值小于0.4，盆底数据与模板数据的相似度过低，说明患者盆底训练时，没有按照模板训练，则直接返回步骤201，判断下一次循环；若相关系数平均值大于等于0.4，则执行步骤S204；S204.判断是否存在腹肌数据，若不存在腹肌数据，则执行步骤S205；若存在腹肌数据，则计算前N次腹肌参与度，计算公式如下：其中，为收缩阶段腹肌信号序列z的平均值，/＞为收缩阶段盆底肌信号序列y的平均值，r为2个序列的相关系数，offset为2个序列的偏差值，且偏差值的计算公式为，其中/＞为收缩阶段腹肌信号序列z的第i个观测值，/＞为收缩阶段盆底肌信号序列y的第i个观测值，n为序列数组中数据的个数；接着计算腹肌参与度拟合方程斜率，判断斜率是否大于阈值AbdLimit，如果大于阈值AbdLimit，则被认定为疲劳状态，如果小于等于阈值AbdLimit，则执行步骤S205；斜率值为正值时，说明N次腹肌参与度中，腹肌参与度逐渐升高，且阈值AbdLimit取值大于或等于0.2；S205.计算前N次盆底肌数据与收缩阶段的模板数据偏差值，并判断是否连续M次大于阈值OffsetLimit；如果连续M次都大于阈值OffsetLimit，则认定为疲劳状态，如果并不是连续M次都大于阈值OffsetLimit，则认定为未疲劳状态。将前N次的数据，带入偏差值公式，计算出N个偏差值；M的取值为N/3与2的较大值。此例中，N为9，则M为3。即方案训练到第N+1次循环组件时，计算前3次的偏差值，即第N-2次、第N-1次、第N次。如果此M次偏差值都大于阈值OffsetLimit，本说明此阈值OffsetLimit取值大于或等于5；盆底肌电信号与模板数据偏差较大，认定为疲劳状态；否则认定为未疲劳状态，进行后续判断或者结束。计算腹肌参与度拟合方程斜率包括：记录N次腹肌参与度的序号，组成X数组，且X数组的赋值为0到N-1的连续整数，共计N个数据；将N次腹肌参与度组成Y数组，共计N个数据；分别计算X数组和Y数组的平均值，记为μ_X和μ_Y；计算X数组与Y数组的离均差交乘积和，具体公式为：，其中是X数组第i次个数，/＞是Y数组第i次个数；计算X数组的离均差平方和，具体公式为：，计算腹肌参与度拟合方程斜率Rate，即。S300.根据步骤S200的盆底肌疲劳状态的判断，处理后续的训练方案数据，使患者的训练方案数据达到模板值；S301.获取原始组件数据最高幅值和当前循环组件最高、最低幅值，所述原始组件数据最高幅值是指在方案模板调整之前原始的最大值；所述前循环组件最高、最低幅值指的是获取当前循环的数值中最大值和最小值；S302.根据步骤S205的疲劳状态判断结果，进行相应的处理；如果处于疲劳状态，则判断当前循环组件的最低幅值减去5%是否大于等于20%，此判断是为了防止后续多次降低导致幅值降得太低，如果大于等于20%，则将后续N次循环组件幅值降低5%，如果小于20%，则不调整后续方案；如果处于非疲劳状态，将当前循环组件的最高幅值加5%，判断是否大于原始组件数据最高幅值，目的是使模板恢复的时候，不超过最原始的难度，如果大于原始组件数据最高幅值，则恢复到最初的组件难度，如果小于等于原始组件数据最高幅值，则将后续N次循环组件幅值升高5%。S400.将步骤S100到步骤S300过程中数据的流转情况进行逐一记录保存。需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。最后应说明的是：以上所述仅为本发明的优选实施例而已，并不用于限制本发明，尽管参照前述实施例对本发明进行了详细的说明，对于本领域的技术人员来说，其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
