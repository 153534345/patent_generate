标题title
一种精神障碍患者服药行为监控方法和系统
摘要abst
本发明涉及一种精神障碍患者服药行为监控方法和系统，通过比对患者服药前后生理数据并结合图像识别技术，不仅可以判断患者是否服药，还能评估患者服药行为的置信度，为监管人员提供更有效的参考，并在患者服药置信度较低时提醒监管人员核实并督促该患者服药，可以有效防止精神障碍患者出现假装服药、逃避监管的情况。精神障碍患者服药行为监控方法和系统针对精神障碍患者服药管控的漏洞，便于管理者对精神障碍患者按时服药的监管，从侧面减少精神障碍患者因为情绪不稳定造成的社会肇事肇祸情况发生。
权利要求书clms
1.一种精神障碍患者服药行为监控方法，其特征在于：通过佩戴式设备采集患者的生理数据，并将采集到的生理数据上传云端监控平台；为患者配备智能药箱并为患者制定服药计划；到服药时间后，通过佩戴式设备或智能药箱提醒患者服药，同时开始检测智能药箱是否被开启并取药，若在预定时间内检测到智能药箱被开启并取药，且通过摄像装置拍摄到患者有服药动作后，认为患者已经服药，否则认为患者未服药；当判断患者服药时，通过智能药箱向患者发出“是否服药”的提问，拍摄患者回答问题时的面部表情和肢体动作，并通过佩戴式设备采集患者服药后一段时间内的生理数据，将该时间段内的生理数据与服药前的生理数据进行比对，且将患者本次回答问题时的面部表情和肢体动作与历史回答问题时拍摄到的面部表情和肢体动作进行比对，根据生理数据的比对结果以及面部表情和肢体动作的比对结果得到一置信度，即服药置信度，并将服药置信度反馈至监管人员；当判断患者未按要求服药时，云端监控平台向监管人员发送报警信息。2.根据权利要求1所述的精神障碍患者服药行为监控方法，其特征是：所述置信度的计算公式为S=M×+N/式中a、b、c、d、e分别为权重系数；p代表当前检测到的第一生理数据、p0代表服药前第一生理数据参考值；t代表当前检测到的第二生理数据、t0代表服药前第二生理数据参考值；x代表当前检测到的第一面部特征值、x0代表第一面部特征参考值；y代表当前检测到的第二面部特征值、y0代表第二面部特征参考值；z代表当前检测到的肢体动作特征值、z0代表肢体动作特征参考值；M、N为预设的数值。3.根据权利要求2所述的精神障碍患者服药行为监控方法，其特征是：将本次服药后第一生理数据的变化趋势与历史服药后第一生理数据的变化趋势进行比对，并将本次服药后第二生理数据的变化趋势与历史服药后第二生理数据的变化趋势进行比对；当本次服药后第一生理数据的变化趋势与历史服药后第一生理数据的变化趋势不一致，或者本次服药后第二生理数据的变化趋势与历史服药后第二生理数据的变化趋势不一致时，将M的值调小；当本次服药后第一生理数据的变化趋势与历史服药后第一生理数据的变化趋势一致、本次服药后第二生理数据的变化趋势与历史服药后第二生理数据的变化趋势一致，且第一生理数据的变化幅度和第二生理数据的变化幅度均明显低于历史服药后的变化幅度时，将N的值调小。4.根据权利要求2所述的精神障碍患者服药行为监控方法，其特征是：在患者下一次服药前，利用佩戴式设备对患者进行定位，当患者处于特点场所的电子围栏范围内时，持续检测患者的活动频次和生理数据，并根据患者的活动频次、生理数据及上一次服药的置信度得出患者当前的潜在风险值，将得到的潜在风险值与预设的风险值进行比较，当前者大于后者时云端监控平台向监管人员发出危险预警。5.根据权利要求1所述的精神障碍患者服药行为监控方法，其特征是：若检测到患者在服药前设定时间内进行过运动，则在判断患者服药后推迟一定时间采集患者的生理数据。6.一种精神障碍患者服药行为监控系统，其特征是，包括：配戴式设备，其包括用于检测第一生理数据的第一检测模块、用于检测第二生理数据的第二检测模块、GPS定位模块以及用于与云端监控平台通信的第一通信模块；监管终端，其包括用于与云端监控平台通信的第二通信模块以及用于发出报警信号的报警模块；智能药箱，其包括用于与云端监控平台通信的第三通信模块、用于拍摄患者图像的摄像模块、用于采集患者声音的拾音模块以及服药提醒模块；云端监控平台，其包括存储患者生理数据、图像数据和服药数据的存储模块、用于对图像数据进行处理和特征识别的图像处理模块、用于对生理数据进行处理的数据处理模块、用于根据图像识别信息和生理数据信息判断患者是否服药以及计算服药置信度的判断模块以及用于发出报警信息的报警模块。7.根据权利要求6所述的精神障碍患者服药行为监控系统，其特征是：所述判断模块内置有置信度计算公式：S=M×+N/式中a、b、c、d、e分别为权重系数；p代表当前检测到的第一生理数据、p0代表服药前第一生理数据参考值；t代表当前检测到的第二生理数据、t0代表服药前第二生理数据参考值；x代表当前检测到的第一面部特征值、x0代表第一面部特征参考值；y代表当前检测到的第二面部特征值、y0代表第二面部特征参考值；z代表当前检测到的肢体动作特征值、z0代表肢体动作特征参考值；M、N为预设的数值。8.根据权利要求7所述的精神障碍患者服药行为监控系统，其特征是：还包括调节模块，所述调节模块用于根据数据处理模块得出的生理数据信息对M和N的值进行调节。9.根据权利要求7所述的精神障碍患者服药行为监控系统，其特征是：还包括风险预测模块，所述风险预测模块用于在患者下一次服药前，追踪患者的地理位置，当患者处于特点场所的电子围栏范围内时，持续记录患者的活动频次和生理数据，并根据患者的活动频次、生理数据及上一次服药的置信度得出患者当前的潜在风险值，将得到的潜在风险值与预设的风险值进行比较，当前者大于后者时向报警模块发送危险信息。
说明书desc
技术领域本发明涉及医疗保健信息技术，具体涉及一种精神障碍患者服药行为监控方法和系统。背景技术现在对于精神障碍患者服药的管理完全依赖于精神障碍患者自己或监护人的监督，没有任何的监控管理办法。患者定期去医院拿药，但是有没有按计划服药，对应的管理人员也不知道。这样会造成由于精神障碍患者未按时服药导致情绪不稳定，造成社会危害的可能性。基于上述原因，需要设计一种可以监控精神障碍患者服药行为的系统。发明内容基于上述表述，本发明提供了一种精神障碍患者服药行为监控方法和系统，以实现对患者的服药行为的持续监控和预警。本发明解决上述技术问题的技术方案如下：一种精神障碍患者服药行为监控方法，通过佩戴式设备采集患者的生理数据，并将采集到的生理数据上传云端监控平台；为患者配备智能药箱并为患者制定服药计划；到服药时间后，通过佩戴式设备或智能药箱提醒患者服药，同时开始检测智能药箱是否被开启并取药，若在预定时间内检测到智能药箱被开启并取药，且通过摄像装置拍摄到患者有服药动作后，认为患者已经服药，否则认为患者未服药；当判断患者服药时，通过智能药箱向患者发出“是否服药”的提问，拍摄患者回答问题时的面部表情和肢体动作，并通过佩戴式设备采集患者服药后一段时间内的生理数据，将该时间段内的生理数据与服药前的生理数据进行比对，且将患者本次回答问题时的面部表情和肢体动作与历史回答问题时拍摄到的面部表情和肢体动作进行比对，根据生理数据的比对结果以及面部表情和肢体动作的比对结果得到一置信度，即服药置信度，并将服药置信度反馈至监管人员；当判断患者未按要求服药时，云端监控平台向监管人员发送报警信息。作为优选方案：所述置信度的计算公式为S=M×+N/式中a、b、c、d、e分别为权重系数；p代表当前检测到的第一生理数据、p0代表服药前第一生理数据参考值；t代表当前检测到的第二生理数据、t0代表服药前第二生理数据参考值；x代表当前检测到的第一面部特征值、x0代表第一面部特征参考值；y代表当前检测到的第二面部特征值、y0代表第二面部特征参考值；z代表当前检测到的肢体动作特征值、z0代表肢体动作特征参考值；M、N为预设的数值。作为优选方案：将本次服药后第一生理数据的变化趋势与历史服药后第一生理数据的变化趋势进行比对，并将本次服药后第二生理数据的变化趋势与历史服药后第二生理数据的变化趋势进行比对；当本次服药后第一生理数据的变化趋势与历史服药后第一生理数据的变化趋势不一致，或者本次服药后第二生理数据的变化趋势与历史服药后第二生理数据的变化趋势不一致时，将M的值调小；当本次服药后第一生理数据的变化趋势与历史服药后第一生理数据的变化趋势一致、本次服药后第二生理数据的变化趋势与历史服药后第二生理数据的变化趋势一致，且第一生理数据的变化幅度和第二生理数据的变化幅度均明显低于历史服药后的变化幅度时，将N的值调小。作为优选方案：在患者下一次服药前，利用佩戴式设备对患者进行定位，当患者处于特点场所的电子围栏范围内时，持续检测患者的活动频次和生理数据，并根据患者的活动频次、生理数据及上一次服药的置信度得出患者当前的潜在风险值，将得到的潜在风险值与预设的风险值进行比较，当前者大于后者时云端监控平台向监管人员发出危险预警。作为优选方案：若检测到患者在服药前设定时间内进行过运动，则在判断患者服药后推迟一定时间采集患者的生理数据。一种精神障碍患者服药行为监控系统，包括：配戴式设备，其包括用于检测第一生理数据的第一检测模块、用于检测第二生理数据的第二检测模块、GPS定位模块以及用于与云端监控平台通信的第一通信模块；监管终端，其包括用于与云端监控平台通信的第二通信模块以及用于发出报警信号的报警模块；智能药箱，其包括用于与云端监控平台通信的第三通信模块、用于拍摄患者图像的摄像模块、用于采集患者声音的拾音模块以及服药提醒模块；云端监控平台，其包括存储患者生理数据、图像数据和服药数据的存储模块、用于对图像数据进行处理和特征识别的图像处理模块、用于对生理数据进行处理的数据处理模块、用于根据图像识别信息和生理数据信息判断患者是否服药以及计算服药置信度的判断模块以及用于发出报警信息的报警模块。作为优选方案：所述判断模块内置有置信度计算公式：S=M×+N/式中a、b、c、d、e分别为权重系数；p代表当前检测到的第一生理数据、p0代表服药前第一生理数据参考值；t代表当前检测到的第二生理数据、t0代表服药前第二生理数据参考值；x代表当前检测到的第一面部特征值、x0代表第一面部特征参考值；y代表当前检测到的第二面部特征值、y0代表第二面部特征参考值；z代表当前检测到的肢体动作特征值、z0代表肢体动作特征参考值；M、N为预设的数值。作为优选方案：还包括调节模块，所述调节模块用于根据数据处理模块得出的生理数据信息对M和N的值进行调节。作为优选方案：还包括风险预测模块，所述风险预测模块用于在患者下一次服药前，追踪患者的地理位置，当患者处于特点场所的电子围栏范围内时，持续记录患者的活动频次和生理数据，并根据患者的活动频次、生理数据及上一次服药的置信度得出患者当前的潜在风险值，将得到的潜在风险值与预设的风险值进行比较，当前者大于后者时向报警模块发送危险信息。与现有技术相比，本申请的技术方案具有以下有益技术效果：本申请通过比对患者服药前后生理数据并结合图像识别技术，不仅可以判断患者是否服药，还能评估患者服药行为的置信度，为监管人员提供更有效的参考，并在患者服药置信度较低时提醒监管人员核实并督促该患者服药，可以有效防止精神障碍患者出现假装服药、逃避监管的情况。精神障碍患者服药行为监控方法和系统针对精神障碍患者服药管控的漏洞，便于管理者对精神障碍患者按时服药的监管，从侧面减少精神障碍患者因为情绪不稳定造成的社会肇事肇祸情况发生。附图说明图1为实施例一中的方法流程图；图2为实施例二中的系统示意图。具体实施方式实施例一：参照图1，一种精神障碍患者服药行为监控方法：通过佩戴式设备例如智能手环持续采集患者的生理数据，本实施例中的生理数据主要包括心率、体感姿态，定义心率为第一生理数据、体感姿态为第二生理数据；配戴式设备将采集到的第一生理数据和第二生理数据上传至云端监控平台。监管人员通过终端设备为患者建立个人档案，并为根据患者的病情为其制定专门的服药计划，服药计划包括服药时间、服药剂量；患者的个人档案和服药计划被上传至云端监控平台；云端监控平台将患者的服药计划传输至患者的个人智能药箱。智能药箱内装有对应的药物，患者从智能药箱登录个人账号后，智能药箱从云端监控平台下载患者的服药计划。服药时间到后智能药箱发出声音提示，提醒患者服药。或者是配戴式设备从云端监控平台下载患者的服药计划，到服药时间后配戴式设备发出声音或振动提示，提醒患者服药。智能药箱发出服药提示后，若在设定时间内未检测到箱盖被开启，则智能药箱向云端监控平台上传异常信息，云端监控平台向监管终端发送异常信息，从而提醒监管人员出现异常情况，由监管人员督促患者服药。智能药箱发出服药提示后，若检测到药箱被开启且药物被取出，此时通过智能药箱上的摄像头拍摄患者图像，智能药箱将药箱开启信息、药物取出信息和图像数据上传至云端监控平台。云端监控平台对图像数据进行处理和识别，以判断患者是否有取药服药动作，若判断患者未进行取药服药动作，则认为患者未服药，此时云端监控平台向监管终端发出报警信息，以提醒监管人员监督患者服药；若判断患者有取药服药动作，则认为患者已“服药”并将患者已“服药”信息发送至监管终端，随后云端监控平台向智能药箱发出一反馈信号，智能药箱接收到该反馈信号后向患者发出“是否服药”提问，并提醒患者回答，同时智能药箱开启摄像头拍摄患者回答提问时的图像，智能药箱将患者回答提问时的图像数据上传至云端监控平台，云端监控平台对该图像数据进行处理，以识别患者的面部表情和肢体动作。云端监控平台将患者本次“服药”后的第一生理数据、第二生理数据分别与服药前的第一生理数据参考值和第二数据生理数据参考值进行比对，并将患者本次回答提问时的面部表情和肢体动作分别与历史回答提问时的面部表情和肢体动作进行比对。根据生理数据的比对结果以及面部表情和肢体动作的比对结果得到一置信度，即服药置信度，并将服药置信度反馈至监管人员；当判断患者未按要求服药时，云端监控平台向监管人员发送报警信息。本实施例中，置信度的计算公式为：S=M×+N/式中a、b、c、d、e分别为权重系数；p代表当前检测到的第一生理数据、p0代表服药前第一生理数据参考值；t代表当前检测到的第二生理数据、t0代表服药前第二生理数据参考值；x代表当前检测到的第一面部特征值、x0代表第一面部特参考值；y代表当前检测到的第二面部特征值、y0代表第二面部特征参考值；z代表当前检测到的肢体动作特征值、z0代表肢体动作特征参考值；M、N为预设的数值。本实施例中，第一生理数据为心率、第二生理数据为体感姿态、第一面部特征为眨眼次数、第二面部特征为嘴部动作次数、肢体特征为手臂动作次数。正常情况下，患者服药前后的心率是会有明显差异的，具体来说服药前可能情绪比较亢奋，心率比较高或是心率波动较大；而服药后心率会降低且心率会相对平稳；而有一些患者可能因为幻觉产生一些怪异体感姿态，服药后出现的怪异体感姿态次数会少于服药前的次数。根据心理学知识，人在撒谎时会下意识产生一些表情特征和肢体语言，所以患者在撒谎和未撒谎时会有面部表情和肢体动作上的差异。表情特征主要体现在眼部和嘴部动作、肢体语言主要体现在手臂动作。通过对比患者两次回答提问后的面部表情特征和肢体特征，可以间接判断患者撒谎的可能性。根据上述计算公式可知，患者“服药”后的心率与服药前的心率差值、怪异体感姿态次数差值、眼部和嘴部动作次数差值以及手臂动作差值都会对置信度S的值产生影响。通过上述多重因素并设置权重系数综合计算得出的置信度S具有一定的参考性。由上述计算公式可知，“服药”前后生理数据变化越明显，服药置信度越高，“服药”后面部表情和肢体动作次数变化越多，服药置信度越低。通过上述方案，不仅可以判断患者是否服药，还能评估患者服药行为的置信度，为监管人员提供更有效的参考，并在患者服药置信度较低时提醒监管人员核实并督促该患者服药，可以有效防止精神障碍患者出现假装服药、逃避监管的情况。考虑到患者长时间可能会出现药物药效减退的情况，药效减退时服药前后的生理数据变化趋势和幅度会与前期疗程服药前后的变化趋势和幅度有明显差异。出现药效减退时，即便是患者按要求服药，由于生理数据的变化幅度明显降低，此时计算出的服药置信度较低；而患者未按要求服药时生理数据变化幅度也会明显降低，此时两者情况可能会互相干扰，造成系统误判，即系统可能会将患者未服药误判为已“服药”但服药置信度较低，可能出现患者逃脱监管的情况。为避免上述情况发生，本实施例中在进行置信度计算前，还将本次服药后第一生理数据的变化趋势与历史服药后第一生理数据的变化趋势进行比对，并将本次服药后第二生理数据的变化趋势与历史服药后第二生理数据的变化趋势进行比对；当本次服药后第一生理数据的变化趋势与历史服药后第一生理数据的变化趋势不一致，或者本次服药后第二生理数据的变化趋势与历史服药后第二生理数据的变化趋势不一致时，将M的值调小，本实施例中直接将M的值减小为原来的一半，通过上述措施可以在系统可能无法区分前述干扰情况时自动将服药置信度的值降得更低，可以更好地提醒监管人员采取措施。另外，当本次服药后第一生理数据的变化趋势与历史服药后第一生理数据的变化趋势一致、本次服药后第二生理数据的变化趋势与历史服药后第二生理数据的变化趋势一致时，且第一生理数据的变化幅度和第二生理数据的变化幅度均明显低于历史服药后的变化幅度时，将N的值调小，本实施例中直接将N的值减小为原来的一半，通过上述措施可以在系统可能无法区分前述干扰情况时进一步将服药置信度的值降得更低，可以更好地提醒监管人员采取措施。本实施例中，还在患者下一次服药前，利用佩戴式设备对患者进行定位，当患者处于特点场所的电子围栏范围内时，持续检测患者的活动频次和生理数据，并根据患者的活动频次、生理数据及上一次服药的置信度得出患者当前的潜在风险值，将得到的潜在风险值与预设的风险值进行比较，当前者大于后者时云端监控平台向监管人员发出危险预警。本实施例中的风险值计算公式为：F=p×g×，式中p为患者的心率、g为患者五分钟内的活动频次、S为患者上一次服药的置信度、F为风险值。通过上述措施可以对患者服药前的行为进行跟踪，当检测到患者位于学校、车站等人员密集的公共场合时，对患者的行为进行分析并预判其可能产生危险行为的可能性，即风险值。并在预估出患者可能有采取危险行为时向监管人员发出报警。考虑到患者在服药前可能进行过运动，运动导致患者的心率较高，若在服药后立即采集患者的生理数据并将生理数据带入到计算公式，可能造成计算出的置信度参考性降低，为避免上述情况。本实施例中若检测到患者在服药前设定时间内进行过运动，则在判断患者服药后推迟一定时间采集患者的生理数据。实施例二：参照图2，一种精神障碍患者服药行为监控系统，用于执行实施例一中的方法，其特征是，包括：配戴式设备，其包括用于检测第一生理数据的第一检测模块、用于检测第二生理数据的第二检测模块、GPS定位模块以及用于与云端监控平台通信的第一通信模块；监管终端，其包括用于与云端监控平台通信的第二通信模块以及用于发出报警信号的报警模块；智能药箱，其包括用于与云端监控平台通信的第三通信模块、用于拍摄患者图像的摄像模块、用于采集患者声音的拾音模块以及服药提醒模块；云端监控平台，其包括存储患者生理数据、图像数据和服药数据的存储模块、用于对图像数据进行处理和特征识别的图像处理模块、用于对生理数据进行处理的数据处理模块、用于根据图像识别信息和生理数据信息判断患者是否服药以及计算服药置信度的判断模块以及用于发出报警信息的报警模块。本实施例中，判断模块内置有置信度计算公式：S=M×+N/式中a、b、c、d、e分别为权重系数；p代表当前检测到的第一生理数据、p0代表第一生理数据历史参考值；t代表当前检测到的第二生理数据、t0代表第二生理数据历史参考值；x代表当前检测到的第一面部特征变化值、x0代表第一面部特征变化值参考值；y代表当前检测到的第二面部特征变化值、y0代表第二面部特征变化参考值；z代表当前检测到的第三面部特征变化值、z0代表第三面部特征变化参考值；M、N为预设的数值。本实施例中的监控系统还包括调节模块，调节模块用于根据数据处理模块得出的生理数据信息对M和N的值进行调节。本实施例中的监控系统还包括风险预测模块，风险预测模块用于在患者下一次服药前，追踪患者的地理位置，当患者处于特点场所的电子围栏范围内时，持续记录患者的活动频次和生理数据，并根据患者的活动频次、生理数据及上一次服药的置信度得出患者当前的潜在风险值，将得到的潜在风险值与预设的风险值进行比较，当前者大于后者时向报警模块发送危险信息。以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
