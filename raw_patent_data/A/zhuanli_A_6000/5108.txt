标题title
图像生成方法、装置、电子装置和存储介质
摘要abst
本申请涉及一种图像生成方法、装置、电子装置和存储介质，其中，该图像生成方法包括：接收由用户输入的触摸信号；根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染；根据预设的分割规则，将渲染后的静态图像分割成多个图像部位；根据预设的组合规则，将所述多个图像部位进行组合以生成骨骼动画素材；基于所述骨骼动画素材生成动态图像。通过本申请，解决了现有技术中的宠物绘制游戏所采用的图像生成系统仅支持静态图像绘制的问题，实现了绘制后的静态图像转换为动态图像的效果，本申请中的图形生成方法应用在宠物绘制游戏时，可大大提高宠物绘制类游戏的乐趣性。
权利要求书clms
1.一种图像生成方法，其特征在于，所述方法包括：接收由用户输入的触摸信号；根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染；根据预设的分割规则，将渲染后的静态图像分割成多个图像部位；根据预设的组合规则，将所述多个图像部位进行组合以生成骨骼动画素材；基于所述骨骼动画素材生成动态图像。2.根据权利要求1所述的图像生成方法，其特征在于，在所述接收由用户输入的触摸信号之前还包括：根据用户请求生成所述待渲染的静态图像；所述根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染包括：当所述触摸信号的移动轨迹处于所述静态图像的图像轮廓内部时，根据所述触摸信号的移动轨迹对所述待渲染的静态图像进行渲染，否则不对所述待渲染的静态图像进行渲染。3.根据权利要求2所述的图像生成方法，其特征在于，所述根据预设的分割规则，将渲染后的静态图像分割成多个图像部位包括：根据所述静态图像的图像轮廓，将渲染后的静态图像分割成多个图像部位。4.根据权利要求1所述的图像生成方法，其特征在于，所述根据预设的组合规则，将多个所述图像部位进行组合以生成骨骼动画素材包括：通过骨骼动画引擎生成所述多个图像部位的对应的多个目标位置，将各个所述图像部位移动至对应的目标位置，以生成骨骼动画素材。5.根据权利要求4所述的图像生成方法，其特征在于，所述将各个所述图像部位移动至对应的所述目标位置包括：根据所述图像部位的初始位置和目标位置，获取所述图像部位的移动偏移量，根据所述移动偏移量移动对应的图像部位。6.根据权利要求1所述的图像生成方法，其特征在于，所述接收由用户输入的触摸信号包括：当在未锁定状态下接收到触摸信号时，锁定所述触摸信号直至被锁定的触摸信号消失，否则不锁定触摸信号；其中所述未锁定状态是指未锁定任意触摸信号时的状态；所述根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染包括：根据所述被锁定的触摸信号的移动轨迹对所述待渲染的静态图像进行渲染。7.一种图像生成装置，其特征在于，所述装置包括：信号接收模块、图像渲染模块、图像分割模块、素材生成模块和图像生成模块；所述信号接收模块用于接收由用户输入的触摸信号；所述图像渲染模块用于根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染；所述图像分割模块用于根据预设的分割规则，将渲染后的静态图像分割成多个图像部位；所述素材生成模块用于根据预设的组合规则，将多个所述图像部位进行组合以生成骨骼动画素材；所述图像生成模块用于基于所述骨骼动画素材生成动态图像。8.一种图像生成装置，其特征在于，所述装置具有多个绘制区域，所述多个绘制区域采用如权利要求1至权利要求6中任一项所述的图像生成方法实现图像绘制。9.根据权利要求8所述的图像生成装置，其特征在于，所述装置通过分层绘制模型实现如权利要求1至权利要求6中任一项所述的图像生成方法；所述分层绘制模型包括：绘制层、缓存层和生成层；所述绘制层用于接收由用户输入的触摸信号、并根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染；所述缓存层用于实现所述根据预设的分割规则，将渲染后的静态图像分割成多个图像部位；所述生成层用于实现所述根据预设的组合规则，将多个所述图像部位进行组合以生成骨骼动画素材。10.一种电子装置，包括存储器和处理器，其特征在于，所述存储器中存储有计算机程序，所述处理器被设置为运行所述计算机程序以执行权利要求1至权利要求6中任一项所述的图像生成方法。
说明书desc
技术领域本申请涉及图像处理领域，特别是涉及一种图像生成方法、装置、电子装置和存储介质。背景技术图像绘制系统是通常应用在电子产品中，其可根据用户在电子产品屏幕的操作，对待渲染的图像进行渲染从而生成相应的图像。图像绘制系统的一种应用场景为宠物绘制游戏，用户可在相应的电子屏幕上进行操作，从而绘制生成相应的宠物图像。但是目前应用在宠物绘制游戏中的图像绘制系统，通常仅支持生成静态图像，无法生成动态图像；因此用户在游戏过程中只能绘制静态宠物，无法绘制生成动态宠物，从而导致相应的宠物绘制游戏趣味性比较差。针对相关技术中存在的图像绘制系统通常仅支持生成静态图像，无法生成动态图像的问题，目前还没有提出有效的解决方案。发明内容在本实施例中提供了一种图像生成方法、装置、系统、电子装置和存储介质，以解决相关技术中存在的图像绘制系统通常仅支持生成静态图像，无法生成动态图像的问题。第一个方面，在本实施例中提供了一种图像生成方法，所述方法包括：接收由用户输入的触摸信号；根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染；根据预设的分割规则，将渲染后的静态图像分割成多个图像部位；根据预设的组合规则，将所述多个图像部位进行组合以生成骨骼动画素材；基于所述骨骼动画素材生成动态图像。在其中的一些实施例中，在所述接收由用户输入的触摸信号之前还包括：根据用户请求生成所述待渲染的静态图像；所述根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染包括：当所述触摸信号的移动轨迹处于所述静态图像的图像轮廓内部时，根据所述触摸信号的移动轨迹对所述待渲染的静态图像进行渲染，否则不对所述待渲染的静态图像进行渲染。在其中的一些实施例中，所述根据预设的分割规则，将渲染后的静态图像分割成多个图像部位包括：根据所述静态图像的图像轮廓，将渲染后的静态图像分割成多个图像部位。在其中的一些实施例中，所述根据预设的组合规则，将多个所述图像部位进行组合以生成骨骼动画素材包括：通过骨骼动画引擎生成所述多个图像部位的对应的多个目标位置，将各个所述图像部位移动至对应的目标位置，以生成骨骼动画素材。在其中的一些实施例中，所述将各个所述图像部位移动至对应的所述目标位置包括：根据所述图像部位的初始位置和目标位置，获取所述图像部位的移动偏移量，根据所述移动偏移量移动对应的图像部位。在其中的一些实施例中，所述接收由用户输入的触摸信号包括：当在未锁定状态下接收到触摸信号时，锁定所述触摸信号直至被锁定的触摸信号消失，否则不锁定触摸信号；其中所述未锁定状态是指未锁定任意触摸信号时的状态；所述根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染包括：根据所述被锁定的触摸信号的移动轨迹对所述待渲染的静态图像进行渲染。第二个方面，在本实施例中提供了一种图像生成装置，所述装置包括：信号接收模块、图像渲染模块、图像分割模块、素材生成模块和图像生成模块；所述信号接收模块用于接收由用户输入的触摸信号；所述图像渲染模块用于根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染；所述图像分割模块用于根据预设的分割规则，将渲染后的静态图像分割成多个图像部位；所述素材生成模块用于根据预设的组合规则，将多个所述图像部位进行组合以生成骨骼动画素材；所述图像生成模块用于基于所述骨骼动画素材生成动态图像。第三个方面，在本实施例中还提供了一种图像生成装置，所述装置具有多个绘制区域，所述多个绘制区域采用如第一个方面所述的图像生成方法实现图像绘制。在其中的一些实施例中，所述装置通过分层绘制模型实现如第一个方面所述的图像生成方法；所述分层绘制模型包括：绘制层、缓存层和生成层；所述绘制层用于接收由用户输入的触摸信号、并根据所述触摸信号的移动轨迹对待渲染的静态图像进行渲染；所述缓存层用于实现所述根据预设的分割规则，将渲染后的静态图像分割成多个图像部位；所述生成层用于实现所述根据预设的组合规则，将多个所述图像部位进行组合以生成骨骼动画素材，并基于所述骨骼动画素材生成动态图像。第四个方面，在本实施例中提供了一种电子装置，包括存储器、处理器以及存储在所述存储器上并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述第一个方面所述的图像生成方法。第五个方面，在本实施例中提供了一种存储介质，其上存储有计算机程序，该程序被处理器执行时实现上述第一个方面所述的图像生成方法。与相关技术相比，在本实施例中提供的图像生成方法，首先根据用户的操作动作渲染生成相应的静态图像，然后根据预设的分割规则，对将渲染后的静态图像分割成多个图像部位，再根据预设的组合规则，将所述多个图像部位进行组合以生成骨骼动画素材，最终基于该骨骼动画素材可生成相应的动态骨骼动画。因此该图像生成方法能够应用在宠物绘制类游戏中，根据用户在游戏中绘制的静态宠物形象，生成相应的动态宠物形象，相比于现有技术中仅支持静态图像绘制的宠物绘制游戏，本申请中的图形生成方法应用在宠物绘制游戏时，可大大提高宠物绘制类游戏的乐趣性。本申请的一个或多个实施例的细节在以下附图和描述中提出，以使本申请的其他特征、目的和优点更加简明易懂。附图说明此处所说明的附图用来提供对本申请的进一步理解，构成本申请的一部分，本申请的示意性实施例及其说明用于解释本申请，并不构成对本申请的不当限定。在附图中：图1是本实施例的图像生成方法的终端的硬件结构框图。图2是本实施例的一种图像生成方法的流程图。图3是本优选实施例的一种图像生成方法的流程图。图4是本实施例的一种图像生成装置的结构框图。具体实施方式为更清楚地理解本申请的目的、技术方案和优点，下面结合附图和实施例，对本申请进行了描述和说明。除另作定义外，本申请所涉及的技术术语或者科学术语应具有本申请所属技术领域具备一般技能的人所理解的一般含义。在本申请中的“一”、“一个”、“一种”、“该”、“这些”等类似的词并不表示数量上的限制，它们可以是单数或者复数。在本申请中所涉及的术语“包括”、“包含”、“具有”及其任何变体，其目的是涵盖不排他的包含；例如，包含一系列步骤或模块的过程、方法和系统、产品或设备并未限定于列出的步骤或模块，而可包括未列出的步骤或模块，或者可包括这些过程、方法、产品或设备固有的其他步骤或模块。在本申请中所涉及的“连接”、“相连”、“耦接”等类似的词语并不限定于物理的或机械连接，而可以包括电气连接，无论是直接连接还是间接连接。在本申请中所涉及的“多个”是指两个或两个以上。“和/或”描述关联对象的关联关系，表示可以存在三种关系，例如，“A和/或B”可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。通常情况下，字符“/”表示前后关联的对象是一种“或”的关系。在本申请中所涉及的术语“第一”、“第二”、“第三”等，只是对相似对象进行区分，并不代表针对对象的特定排序。在本实施例中提供的方法实施例可以在终端、计算机或者类似的运算装置中执行。比如在终端上运行，图1是本实施例的图像生成方法的终端的硬件结构框图。如图1所示，终端可以包括一个或多个处理器102和用于存储数据的存储器104，其中，处理器102可以包括但不限于微处理器MCU或可编程逻辑器件FPGA等的处理装置。上述终端还可以包括用于通信功能的传输设备106以及输入输出设备108。本领域普通技术人员可以理解，图1所示的结构仅为示意，其并不对上述终端的结构造成限制。例如，终端还可包括比图1中所示更多或者更少的组件，或者具有与图1所示出的不同配置。存储器104可用于存储计算机程序，例如，应用软件的软件程序以及模块，如在本实施例中的图像生成方法对应的计算机程序，处理器102通过运行存储在存储器104内的计算机程序，从而执行各种功能应用以及数据处理，即实现上述的方法。存储器104可包括高速随机存储器，还可包括非易失性存储器，如一个或者多个磁性存储装置、闪存、或者其他非易失性固态存储器。在一些实例中，存储器104可进一步包括相对于处理器102远程设置的存储器，这些远程存储器可以通过网络连接至终端。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。传输设备106用于经由一个网络接收或者发送数据。上述的网络包括终端的通信供应商提供的无线网络。在一个实例中，传输设备106包括一个网络适配器，其可通过基站与其他网络设备相连从而可与互联网进行通讯。在一个实例中，传输设备106可以为射频模块，其用于通过无线方式与互联网进行通讯。在本实施例中提供了一种图像生成方法，图2是本实施例的一种图像生成方法的流程图，如图2所示，该流程包括如下步骤：步骤S210，接收由用户输入的触摸信号。具体的，图像生成装置接收由用户输入的触摸信号；其中图像生成装置中提供了至少一个绘制区域，用户可以在该绘制区域上进行绘制；示例性地，图像生成装置可以为常见的台式计算机，则相应的绘制区域由显示器提供；图像生成装置也可以为平板类电脑，绘制区域则由平板电脑自带的屏幕提供；以及图像生成装置也可以为独立的大型绘制屏幕。其中优选的，图像生成装置采用触控屏幕提供绘制区域，因此触摸信号由用户接触屏幕时产生，图像生成装置通过接收触摸信号并判断其产生位置，则可判断用户手指在触控屏幕上的移动轨迹；当然在本实施例中并不局限于采用触控屏幕，对于普通的屏幕，图像生成装置也可以通过鼠标模拟触摸信号。步骤S220，根据触摸信号的移动轨迹对待渲染的静态图像进行渲染。具体的，图像生成装置根据触摸信号的移动轨迹进行图像渲染，图像渲染原则为对触摸信号产生以及经过的部位进行渲染；当用户手指在屏幕移动时，则相应的触摸信号同步移动，图像生成装置对触摸信号经过的部位均进行渲染，则用户能够获得绘制图像的体验，图像生成装置最终能够生成渲染后的静态图像。步骤S230，根据预设的分割规则，将渲染后的静态图像分割成多个图像部位。具体的，图像生成装置在完成静态图像的渲染后，采用预先设定的图像分割规则，将静态图像分割成多个图像部位。这里的预设的分割规则可以为根据宠物的轮廓确定的分割规则，比如绘制后的静态图像为宠物狗，则可以根据宠物狗的轮廓进行分割，可以将宠物狗分割为头部、身体、尾巴和四肢等部位；又比如绘制后的静态图像为飞行类动物，则可以将飞行类动物分割为头部、身体、翅膀和脚部等部位。步骤S240，根据预设的组合规则，将多个图像部位进行组合以生成骨骼动画素材。具体的，图像生成装置根据预先设定的组合规则，将多个图像部位进行移动，然后再重新组合形成骨骼动画素材。需要进一步说明的是，现有技术中，一般完整的骨骼动画包含三个文件：皮肤文件、动画文件及骨架文件，通过相应的骨骼动画引擎，可以将皮肤文件和动画文件以及骨架文件进行整合生成骨骼动画。其中最主要的皮肤文件，本实施例中形成的骨骼动画素材即为骨骼动画中的皮肤文件。这里的预先设定的组合规则可以为根据皮肤轮廓确定的组合规则，皮肤文件的皮肤轮廓与待渲染的静态图像的图像轮廓对应，比如当静态图像轮廓为宠物狗轮廓时，对应的皮肤轮廓也为宠物狗轮廓，两张宠物狗轮廓图可以基于同一只宠物狗的不同姿势分别生成。具体地在组合宠物狗的各个部位时，图像生成装置中加载一张与宠物狗静态图像轮廓对应的皮肤轮廓图，这张皮肤轮廓图中限定了各个宠物狗各部位的位置，然后将分割后的各个图像部位移动至皮肤轮廓图中对应的位置，具体地将头部图像移动至皮肤轮廓图中头部轮廓位置，尾部图像移动至皮肤轮廓图片中尾部轮廓位置，最终形成骨骼动画的皮肤文件。步骤S250，基于骨骼动画素材生成动态图像。具体的，图像生成装置基于骨骼动画素材生成动态图像；其中具体的，动态图像即为骨骼动画，当骨骼动画的皮肤文件生成后，骨骼动画引擎将皮肤文件结合骨骼动画中骨架文件等其他文件生成骨骼动画。示例性的，在宠物绘制类游戏中，骨骼动画引擎可以采用DragonBones龙骨动画引擎，动画制作工程师预先在动画引擎编辑器上完成宠物形象的设计，以及宠物动画的制作，进而可以得到皮肤、骨架、动画三个文件，皮肤文件为宠物的形象，骨架文件为宠物的骨骼关节，动画文件为动画过程，这些文件预先保存在图像生成装置的数据库中或是相应的服务器中；需要特征说明的是，这里的预先设计的皮肤文件可以为仅具有宠物轮廓的图片，即上个步骤中提及的皮肤轮廓图，分割后的各个宠物部位根据该图进行组装从而得到具有渲染效果的皮肤文件。当具有渲染效果的皮肤文件生成后，通过DragonBones编辑器或者DragonBones提供的浏览器插件，加载渲染后的皮肤文件和骨架文件以及动画文件，并播放之前制作的动画效果。通过上述步骤，首先根据用户的操作动作渲染生成相应的静态图像，然后根据预设的分割规则，将渲染后的静态图像分割成多个图像部位，再根据预设的组合规则，将多个图像部位进行组合以生成骨骼动画素材，最终基于该骨骼动画素材可生成相应的动态骨骼动画。因此该图像生成方法能够应用在宠物绘制类游戏中，根据用户在游戏中绘制的静态宠物形象，生成相应的动态宠物形象，相比于现有技术中仅支持静态图像绘制的宠物绘制游戏，本申请中的图形生成方法应用在宠物绘制游戏中，可大大提供宠物绘制类游戏的乐趣性。在其中的一些实施例中，在步骤S210：接收由用户输入的触摸信号之前还包括：根据用户请求生成待渲染的静态图像；而步骤S220：根据触摸信号的移动轨迹对待渲染的静态图像进行渲染具体包括：当触摸信号的移动轨迹处于静态图像的图像轮廓内部时，根据触摸信号的移动轨迹对待渲染的静态图像进行渲染，否则不对待渲染的静态图像进行渲染。具体的，图像生成装置在进行图像渲染之前还需要根据用户的请求生成相应的待渲染的静态图像；其中待渲染的静态图像主要为图像轮廓，用户可以在渲染图像之前选择不同的图像轮廓，从而绘制不同的静态图像。在绘制过程中，只有触摸信号的移动轨迹在静态图像的轮廓内部时，图像生成装置才会在触摸信号的产生位置进行渲染，也就是说仅仅在静态图像的图像轮廓内部支持图像渲染，而在图像轮廓外部区域不支持图像渲染，因此绘制后的静态图像形状与图像轮廓相同，不仅使得绘制后的静态图像更加规整美观，同时在按照图像轮廓对静态图像进行分割时，能够准确地分割各个部位。因此在其中一个优选的实施例中，上述步骤S230：根据预设的分割规则，将渲染后的静态图像分割成多个图像部位具体包括：根据静态图像的图像轮廓，将渲染后的静态图像分割成多个图像部位。具体的本步骤中，根据图像轮廓的形状，对相应的静态图像进行分割，从而生成多个图像部位。示例性地，当该图像生成方法应用在宠物绘制游戏中时，用户可以根据自身爱好选择宠物狗、宠物猫、宠物鸟等形象，比如选择宠物狗形象后，图像生成装置在屏幕上生成宠物狗轮廓，轮廓内部为空白待渲染区域，用户仅能在该待渲染区域中实现渲染，最终绘制完成与轮廓形状对应的宠物狗形象。通过设置相应的宠物狗轮廓，不仅能够降低用户的绘制难度，更重要的是宠物狗绘制完成后，能够准确地根据宠物狗轮廓分布对宠物狗进行分割，以精确地获得宠物狗的头部、身体、四肢和尾巴等部位。在其中的一些实施例中，根据预设的组合规则，将多个图像部位进行组合以生成骨骼动画素材包括：通过骨骼动画引擎生成多个图像部位的对应的多个目标位置，将各个图像部位移动至对应的目标位置，以生成骨骼动画素材。具体的，骨骼动画引擎即为制作骨骼动画的动画引擎，图像生成装置通过骨骼动画引擎确定各个图像部位的目标位置，将静态图像按照轮廓分割后，将各个图像部位移动至相应的目标位置。示例性地，骨骼动画引擎可以采用DragonBones龙骨动画引擎，该龙骨动画引擎可以生成只有轮廓的骨骼动画皮肤文件，从而根据该皮肤文件确定各个图像部位的组合关系，从而确定各个图像部位的目标位置。进一步的，将各个图像部位移动至对应的目标位置具体包括：根据图像部位的初始位置和目标位置，获取图像部位的移动偏移量，根据移动偏移量移动对应的图像部位。具体的图像生成装置先根据图像部位的初始位置和目标位置对应的位置坐标，计算相应图像部位的移动偏移量，然后根据该移动偏移量将图像部位向特定方向移动特定距离，最终到达目标位置。需要特别说明的是，各个图像部位移动组合后的位置关系和分割前的组合关系并不需要完全匹配，即待渲染的静态图像轮廓和皮肤轮廓形状不一定相同。以该图像生成方法应用在宠物绘制游戏中进行说明，在绘制宠物狗形象时，宠物狗的图像轮廓限制了宠物狗各个部位的位置关系，比如宠物狗处于站立状态，此时宠物狗的头部、身体和后脚从上至下依次分布；而分割组合后的宠物狗形象可以为倒立状态，此时宠物狗的头部、身体和后脚等部位之间不需要保持之前的位置分布关系，从而可以组合成一种新的姿态的宠物狗形象。在其中的一些实施例中，接收由用户输入的触摸信号包括：当在未锁定状态下接收到触摸信号时，锁定触摸信号直至被锁定的触摸信号消失，否则不锁定触摸信号；其中未锁定状态是指未锁定任意触摸信号时的状态；根据触摸信号的移动轨迹对待渲染的静态图像进行渲染包括：根据被锁定的触摸信号的移动轨迹对待渲染的静态图像进行渲染。具体的，上述步骤主要为采用触控屏幕的图像生成装置所执行，在初始时用户未接触屏幕，此时图像生成装置处于未锁定状态，当用户的手指接触屏幕的瞬间，图像生成装置将相应的触摸信号进行锁定，同时转换为锁定状态，并根据被锁定的触摸信号的移动轨迹实现图像渲染；具体的当手指触碰到屏幕的瞬间便会产生触碰事件，屏幕能监听到该触碰事件，屏幕为此触碰事件自动生成一个唯一的ID，并对该ID进行锁定和追踪，从而实现对触摸信号的锁定；在这渲染期间，当其他人的手指接触屏幕时，虽然也会在屏幕上产生相应的触摸信号，但是并不会对新产生的触摸信号进行锁定，进而也不会根据新产生的触摸信号进行渲染，从而保证了用户在渲染过程中能够锁定渲染人的手指，在其绘制图像期间不会受到其他人或是物体接触屏幕造成的影响。需要进一步说明的是，在绘制过程中，当用户手指离开屏幕时，该被锁定的触摸信号消失，从而图像生成装置切换为未锁定状态，可继续接收并锁定新的触摸信号，从而使得用户可以更换手指进行绘制，同时也可以更换绘制人。在本实施例中还提供了一种图像生成装置，装置具有多个绘制区域，多个绘制区域采用本实施例中的图像绘制方法实现图像绘制。具体的本实施例中，可以在一个大型绘制屏幕上提供多个绘制区域，每一个绘制区域均可独立实现本实施例中的图像绘制方法，进而能够实现多人同时绘制。示例性地，绘制区域可以为两个、三个或者四个，当然也可以根据实际使用情况进行相应地设置，一个绘制区域可以由一个单独的软件窗口提供。需要特别说明的是，在其中的一些实施例中，图像生成装置中的多个绘制区域采用能够对触摸信号进行锁定的图像绘制方法。任意一个绘制区域均可独立对触摸信号进行锁定，进而在多人同时绘制的过程中，每个绘制区域锁定一个相应的触摸信号，并根据各自锁定的触摸信号实现渲染绘制，以此来避免触控点丢失，画笔错乱等问题，最终实现了互不干扰的，多人同时绘制的良好绘制体验。其中，具体的触摸信号锁定过程在上述图像绘制方法实施例中已作出具体说明，在此不再赘述。在其中的一些实施例中，图像生成装置通过分层绘制模型实现本实施例中的图像生成方法；分层绘制模型包括：绘制层、缓存层和生成层；绘制层用于接收由用户输入的触摸信号、并根据触摸信号的移动轨迹对待渲染的静态图像进行渲染；缓存层用于实现根据预设的分割规则，将渲染后的静态图像分割成多个图像部位；生成层用于实现根据预设的组合规则，将多个图像部位进行组合以生成骨骼动画素材，并基于骨骼动画素材生成动态图像。具体的本实施例中，图像生成装置在屏幕端采用分层绘制技术实现将静态图像转换为骨骼动画素材，每一层完成各自特定的功能。绘制层主要用于实现静态图像的绘制，从而生成相应的静态图像；缓存层主要用于实现静态图像的分割，从而获得静态图像的各个图像部位；生成层主要用于实现各个图像部位的组合，从而获得骨骼动画素材。示例性地，当分层绘制技术采用Canvas模型时，其中绘制层为主Canvas层，缓存层为缓存Canvas层，生成层为动画素材Canvas层。下面通过优选实施例对本实施例进行描述和说明。图3是本优选实施例的一种图像生成方法的流程图，该图像生成方法应用在大屏宠物绘制系统中，该大屏宠物绘制系统中包括用于实现宠物绘制的大屏绘制端和服务器端，大屏绘制端采用Canvas技术中的画板分层模型，其中画板分层模型包括主Canvas层、缓存Canvas层和动画素材Canvas层，实现了SVG的宠物轮廓层展示、Canvas宠物围栏式绘制、宠物装饰物层等整体技术方案，最终实现了良好的宠物绘制体验；服务器端包括素材资源库、宠物缓存库，其中素材资源库包括SVG资源库和DragonBones资源库。本优选实施例中的图像生成方法的主体流程为：在用户选择宠物后，对宠物进行初始化操作，并在画板的主Canvas层生成待渲染的宠物轮廓；然后根据用户的操作对宠物轮廓进行渲染绘制；当用户绘制完成后，将宠物头像以及绘制好的DragonBones龙骨动画素材上传服务器。上述流程具体包括如下步骤：步骤S310：接收用户的宠物形象选择请求；具体的，当用户选择宠物形象之后，判断用户是否需要读取相应宠物形象的缓存信息，若否则执行步骤S320，若是则执行步骤S350。步骤S320，加载待渲染的宠物轮廓图和龙骨动画中的皮肤轮廓图；具体的，大屏绘制端请求服务器上SVG资源库中的宠物轮廓资源和DragonBones资源库中的龙骨动画素材图资源，然后服务器下发待渲染的宠物轮廓图和龙骨动画中的皮肤轮廓图，待渲染的宠物轮廓图在主Canvas层显示。步骤S330，计算各宠物形象部位的移动偏移量；具体的，大屏绘制端根据龙骨动画素材中的皮肤轮廓与SVG素材中的宠物轮廓对应的各宠物部位位置，计算出各个部位的移动偏移量，其中进一步具体的，根据宠物轮廓各部位的左上角坐标，对应查找DragonBones龙骨动画中皮肤轮廓相同部位的左上角坐标，进而得出各个部位的移动偏移量。步骤S340，将初始化后的宠物缓存在宠物缓存库中；具体的，通过步骤S310、步骤S320和步骤S330则完成了一次宠物初始化操作，当宠物第一次初始化后，会在宠物缓存库中缓存下数据，之后再次加载相同宠物直接读取缓存，在宠物缓存结束后执行步骤S360。步骤S350，读取宠物缓存库中与被选择宠物对应的宠物数据；具体的，大屏绘制端直接在宠物缓存库中读取宠物数据，宠物数据包括待渲染的宠物轮廓图和龙骨动画中的皮肤轮廓图以及各部位的移动偏移量等数据，进而不需要再向服务器请求相关数据。步骤S360，接收用户的绘制指令对待渲染的宠物轮廓进行渲染绘制；具体的本步骤中，用户能够对宠物进行绘制，擦除，撤销等操作，而且宠物身体周围，眼睛等部位不支持绘制。步骤S370，当宠物绘制完成后，在主Canvas层增加一张装饰图片；具体的，该装饰图片中包含一些装饰品，用于对渲染完成后的宠物形象进行装饰。步骤S380，根据宠物轮廓在缓存Canvas层对绘制后的宠物进行分割，然后基于移动偏移量在动画素材Canvas层对分割后的各个宠物部位进行移动；具体的，大屏绘制端根据SVG素材中的宠物轮廓形状裁切各宠物部位，再根据初始化过程中计算的各宠物部位的移动偏移量， 移动相应的各个宠物部位，移动后的位置跟DragonBones龙骨动画素材中的皮肤轮廓位置完全一致，最终形成了龙骨动画素材中的皮肤文件。步骤S390，上传宠物头像和皮肤文件至服务器；具体的，大屏绘制端截取宠物静态形象作为宠物头像，并上传该宠物头像以及DragonBones龙骨动画素材的皮肤文件图到CND服务器，这样用户也能在手机端或者大屏端播放骨骼动画了。在其中的一些优选实施例中，为了满足在一块屏幕上同时支持多人同时绘制宠物的需求。采用的技术方案为：跟踪并记录不同绘制区域的手指ID, 将第一个手指的ID作为主ID并进行锁定。以此来避免触控点丢失，画笔错乱等问题。最终实现了互不干扰的，多人同时绘制的良好绘制体验。具体的，当手指触碰到屏幕的一瞬间，屏幕能监听到该触碰事件，屏幕为此触碰事件自动生成了一个唯一的ID，然后会缓存下来作为主ID；之后绘制过程中就跟踪此ID并排除其他不相关的手指ID。因为一个屏幕支持多人操作，每个人对应的窗口会记录一个主ID，这样隔离了其他不相关的手指ID。在本实施例中还提供了一种图像生成装置，该装置用于实现上述实施例及优选实施方式，已经进行过说明的不再赘述。以下所使用的术语“模块”、“单元”、“子单元”等可以实现预定功能的软件和/或硬件的组合。尽管在以下实施例中所描述的装置较佳地以软件来实现，但是硬件，或者软件和硬件的组合的实现也是可能并被构想的。图4是本实施例的一种图像生成装置的结构框图，如图4所示，该装置包括：信号接收模块410、图像渲染模块420、图像分割模块430、素材生成模块440和图像生成模块450；信号接收模块410用于接收由用户输入的触摸信号；图像渲染模块420用于根据触摸信号的移动轨迹对待渲染的静态图像进行渲染；图像分割模块430用于根据预设的分割规则，将渲染后的静态图像分割成多个图像部位；素材生成模块440用于根据预设的组合规则，将多个图像部位进行组合以生成骨骼动画素材；图像生成模块450用于基于骨骼动画素材生成动态图像。通过上述模块的配合，首先根据用户的操作动作渲染生成相应的静态图像，然后根据预设的分割规则，对将渲染后的静态图像分割成多个图像部位，再根据预设的组合规则，将多个图像部位进行组合以生成骨骼动画素材，最终基于该骨骼动画素材可生成相应的动态骨骼动画。因此该图像生成装置能够应用在宠物绘制类游戏中，根据用户在游戏中绘制的静态宠物形象，生成相应的动态宠物形象，相比于现有技术中仅支持静态图像绘制的宠物绘制游戏，本申请中的图形生成装置应用在宠物绘制游戏中，可大大提供绘制类游戏的乐趣性。需要说明的是，上述图像生成装置中的各个模块具体的工作原理，在图像生成方法实施例中已经做出具体说明，在此不再赘述。还需要说明的是，上述各个模块可以是功能模块也可以是程序模块，既可以通过软件来实现，也可以通过硬件来实现。对于通过硬件来实现的模块而言，上述各个模块可以位于同一处理器中；或者上述各个模块还可以按照任意组合的形式分别位于不同的处理器中。在本实施例中还提供了一种电子装置，包括存储器和处理器，该存储器中存储有计算机程序，该处理器被设置为运行计算机程序以执行上述任一项图像生成方法实施例中的步骤。可选地，上述电子装置还可以包括传输设备以及输入输出设备，其中，该传输设备和上述处理器连接，该输入输出设备和上述处理器连接。可选地，在本实施例中，上述处理器可以被设置为通过计算机程序执行以下步骤：步骤S1，接收由用户输入的触摸信号。步骤S2，根据触摸信号的移动轨迹对待渲染的静态图像进行渲染。步骤S3，根据预设的分割规则，将渲染后的静态图像分割成多个图像部位。步骤S4，根据预设的组合规则，将多个图像部位进行组合以生成骨骼动画素材。步骤S5，基于骨骼动画素材生成动态图像。需要说明的是，在本实施例中的具体示例可以参考上述实施例及可选实施方式中所描述的示例，在本实施例中不再赘述。此外，结合上述实施例中提供的图像生成方法，在本实施例中还可以提供一种存储介质来实现。该存储介质上存储有计算机程序；该计算机程序被处理器执行时实现上述实施例中的任意一种图像生成方法。应该明白的是，这里描述的具体实施例只是用来解释这个应用，而不是用来对它进行限定。根据本申请提供的实施例，本领域普通技术人员在不进行创造性劳动的情况下得到的所有其它实施例，均属本申请保护范围。显然，附图只是本申请的一些例子或实施例，对本领域的普通技术人员来说，也可以根据这些附图将本申请适用于其他类似情况，但无需付出创造性劳动。另外，可以理解的是，尽管在此开发过程中所做的工作可能是复杂和漫长的，但是，对于本领域的普通技术人员来说，根据本申请披露的技术内容进行的某些设计、制造或生产等更改仅是常规的技术手段，不应被视为本申请公开的内容不足。“实施例”一词在本申请中指的是结合实施例描述的具体特征、结构或特性可以包括在本申请的至少一个实施例中。该短语出现在说明书中的各个位置并不一定意味着相同的实施例，也不意味着与其它实施例相互排斥而具有独立性或可供选择。本领域的普通技术人员能够清楚或隐含地理解的是，本申请中描述的实施例在没有冲突的情况下，可以与其它实施例结合。以上实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对专利保护范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请的保护范围应以所附权利要求为准。
