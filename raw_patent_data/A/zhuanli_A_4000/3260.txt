标题title
一种基于轻量化卷积神经网络的睡姿监测方法
摘要abst
本发明涉及数据识别及记录载体处理技术领域，尤其涉及一种基于轻量化卷积神经网络的睡姿监测方法，包括：获取单个睡姿类别的若干样本，并根据各样本的各数据在采集面上进行睡姿映射，以形成睡姿矫正数据；对睡姿矫正数据进行处理并形成若干图像数据；各睡姿类别进行特征提取并获取对应的类别特征；对实时睡姿进行采集，并对完成存储的实时睡姿进行睡姿类别识别；将对实时睡姿的识别结果存储为睡姿监测数据；本发明克服了现有睡姿识别方法需要将传感器捆绑在人体上或使用相机存在隐私隐患的问题，利用使用大面积压力传感器采集人体睡姿，从而提高了在家居环境下监测睡姿的实用性。
权利要求书clms
1.一种基于轻量化卷积神经网络的睡姿监测方法，其特征在于，包括：设定预分类的睡姿类别，并在各睡姿类别下采集若干睡姿样本，获取单个睡姿类别的若干样本时，利用采集模块对单个睡姿类别的各睡姿样本在采集面上设置的第一传感器阵列对压力分布进行采集，以形成对应单个睡姿样本的第一睡姿数据，并将各第一睡姿数据进行存储；采集模块利用分布在所述采集面下设置的第二传感器阵列采集对应所述第一睡姿数据的第二睡姿数据，并将各第二睡姿数据进行存储；睡姿预分析模块读取各睡姿样本的第二睡姿数据，并根据所述第一睡姿数据对所述压力分布在采集面上进行睡姿映射，以形成睡姿矫正数据；所述睡姿预分析模块以第一预设处理方式对各所述睡姿矫正数据进行处理，以形成第一睡姿图像数据，以第二预设处理方式分别对所述第一睡姿数据以及所述第一睡姿图像数据进行处理，形成第二睡姿图像数据；睡姿分析模块利用各睡姿样本的所述第一睡姿图像数据以及第二睡姿图像数据构建预设网络构架，并利用预设网络构架对各所述睡姿类别分别进行特征提取，以获取各睡姿类别下的类别特征；所述睡姿分析模块控制所述采集模块对实时睡姿进行采集，并根据所述类别特征对完成存储的实时睡姿进行睡姿类别识别；将对实时睡姿识别的睡姿类别结果以及实时睡姿采集时间进行存储，形成睡姿监测数据；其中，所述第一睡姿数据为所述睡姿样本在所述采集面上产生的压力数据，所述第二睡姿数据为所述睡姿样本对所述采集面产生的形变因数，且，第二睡姿数据与第一睡姿数据在所述采集面的对应坐标上匹配；所述第一预设处理方式为将压力数据进行图像化处理，所述第二预设处理方式为通过反转、局部均衡化、睡姿分割以及形态学除噪将压力分布数据进行处理，所述第一睡姿图像数据为睡姿的睡姿压力图像，所述第二睡姿图像数据为睡姿的睡姿特征图像。2.根据权利要求1所述的基于轻量化卷积神经网络的睡姿监测方法，其特征在于，所述睡姿映射为通过所述第二睡姿数据对产生形变的所述采集面进行的形变修正；所述睡姿预分析模块中设有最小映射压力阈值与最大破坏压力阈值，对于采集面中单个采集点，若其发生形变，所述睡姿预分析模块判定该采集点为形变采集点；其中，若所述形变采集点对应的所述第一睡姿数据不大于最小映射压力阈值，所述睡姿预分析模块判定不对该形变采集点进行补偿；若所述形变采集点对应的所述第一睡姿数据大于最小映射压力阈值，且，不大于最大破坏压力阈值，所述睡姿预分析模块判定对该形变采集点以第一预设映射方式进行补偿；若所述形变采集点对应的所述第一睡姿数据大于最大破坏压力阈值，所述睡姿预分析模块判定对该形变采集点以第二预设映射方式进行补偿，并对其四周相邻点进行第一预设映射方式进行补偿；其中，所述第一预设映射方式为所述睡姿预分析模块设定的形变补偿方式，所述第一预设映射方式为所述睡姿预分析模块设定的形变补偿值；所述预设网络构架为轻量化卷积神经网络睡姿识别网络框架。3.根据权利要求2所述的基于轻量化卷积神经网络的睡姿监测方法，其特征在于，在预备采集条件下，所述采集模块对睡姿样本进行采集，对于单次睡姿样本采集，其包含若干位置的压力数据以及各压力数据对应的位置坐标数据；所述采集模块在各压力传感器识别到所述采集面的睡姿承载侧空置时，收集基准数据；所述采集模块在所述睡姿承载侧设有若干压力传感器，用以收集各睡姿产生的压力以及压力的对应位置坐标；其中，所述预备采集条件为判定各所述压力传感器在单个压力采集周期的压力变化不大于预设压力变化值，所述压力采集周期为所述采集模块以预设时长为周期对所述各压力传感器采集的压力数据进行读取；所述基准数据为所述睡姿承载侧未处于受压状态的压力数据，其与所述采集面的自重有关。4.根据权利要求3所述的基于轻量化卷积神经网络的睡姿监测方法，其特征在于，所述压力传感器设置在床单下表面或床体上表面，且，在所述单个睡姿样本对床施加压力时，各压力传感器对于床单的相对位置不发生移动；其中，所述压力传感器的数量至少为9个，各压力传感器围成的最大面积覆盖各所述睡姿样本在床表面的投影面积。5.根据权利要求4所述的基于轻量化卷积神经网络的睡姿监测方法，其特征在于，在采集收集条件下，所述采集模块将各睡姿样本对应的所述睡姿数据进行记录，并传输至存储模块以所述预设时长为周期对所述各睡姿数据进行记录，并记录对应的所述睡姿数据的记录时间，以形成时间戳睡姿数据；所述采集收集条件为所述采集模块读取各所述压力传感器在当前睡姿状态下承受睡姿压力的压力读数。6.根据权利要求5所述的基于轻量化卷积神经网络的睡姿监测方法，其特征在于，在睡姿分析条件下，所述睡姿预分析模块读取所述存储模块中的所述时间戳睡姿数据，并将各时间戳睡姿数据对应的所述压力数据与所述基准数据进行差额计算形成对的矫正压力数据，根据同一时间戳对应的各压力传感器的位置与对应的矫正压力数据形成单个时间戳下的睡姿压力图像；其中，所述差额计算为将所述压力数据与所述基准数据做差；所述睡姿分析条件为所述采集模块收集到所述基准数据。7.根据权利要求6所述的基于轻量化卷积神经网络的睡姿监测方法，其特征在于，在睡姿简化条件下，所述睡姿分析模块利用所述预设网络构架将所述睡姿压力图像转化为所述睡姿特征图像；所述睡姿简化条件为所述睡姿分析模块形成所述睡姿压力图像。8.根据权利要求7所述的基于轻量化卷积神经网络的睡姿监测方法，其特征在于，在构建所述预设网络构架时，对于单个睡姿特征图像，其在投影面的投影特征包括水平横坐标、水平纵坐标以及垂直于床体的上表面所在平面的压力三个维度的图像，所述睡姿分析模块根据睡姿特征图像的各维度数据，将睡姿特征图像进行向量化处理，以形成睡姿特征函数；其中，所述投影面为床体的上表面所在平面，所述睡姿特征函数在所述投影面任一点上存在实解。9.根据权利要求8所述的基于轻量化卷积神经网络的睡姿监测方法，其特征在于，在构建所述预设网络构架时，所述睡姿分析模块对各所述睡姿特征图像进行分拣，对于单个睡姿类别的所述睡姿特征图像，睡姿分析模块设有对应的阈值区间，当所述睡姿特征函数在所述投影面的实解处于单个睡姿类别对应的所述阈值区间时，睡姿模块将所述睡姿特征函数记为对应的睡姿类别下的类别特征；其中，所述阈值区间为第一睡姿阈值以及第二睡姿阈值确定的闭区间，且，第一睡姿阈值小于第二睡姿阈值。10.根据权利要求9所述的基于轻量化卷积神经网络的睡姿监测方法，其特征在于，在所述睡姿分析模块完成获取各睡姿类别下的所述类别特征时，所述睡姿分析模块将完成分类的所述各睡姿特征函数进行记录，并形成睡姿分类模型；单个睡姿分类模型的所述睡姿特征函数作为分类算子，用以对所述实时睡姿数据进行睡姿类别识别；所述睡姿类别识别为所述睡姿分析模块将所述睡姿特征图像以所述预分类的睡姿类别进行分类。在所述睡姿分析模块完成对所述实时睡姿的分类的时，睡姿分析模块将实时睡姿的各睡姿数据传输至所述存储模块，并对所述第一睡姿阈值以及所述第二睡姿阈值进行调整，且，睡姿分析模块在下一个实时睡姿进行分类时，应用调整完毕的第一睡姿阈值以及第二睡姿阈值。
说明书desc
技术领域本发明涉及数据识别及记录载体处理技术领域，尤其涉及一种基于轻量化卷积神经网络的睡姿监测方法。背景技术睡眠是我们生活的重要组成部分，睡眠状态直接关系到人的心理和生理健康，在睡眠状态监测中，睡眠姿势是客观评价睡眠质量的关键之一。在家居环境下对睡眠姿势的有效监测可以实现呼吸疾病及压疮等疾病的早诊断、早预防。目前常用的睡姿监测方法主要有四种，早期主要是基于视觉信号监测睡姿，这种方法容易受环境影响且存在隐私隐患，其次是通过穿戴式传感器监测睡姿，这种方法提高了睡姿的识别率，但是将传感器绑在人体上带来强烈的束缚感，增加患者心理压力。此外，目前也有使用多传感器融合对睡姿进行识别监测的方法，但基本都是相机与压力垫组合的方式，这种方式设备安装繁杂，且信息复杂处理耗时，不适宜日常应用。近几年，无束缚、无干扰的睡姿监测方法逐渐成为主要的研究方向，但现存的方法识别精度较低，难以实现实际应用。中国专利申请公开号：CN111353425A公开了一种基于特征融合与人工神经网络的睡姿监测方法，该方法针对六种睡姿类型的特点，通过对睡姿图像进行直方图分析，采用多种图像处理技术结合的方式，对图像进行针对性的预处理，在去除噪声、提高图像质量的同时，有效的保留了尽量多的有用信息，为后续的特征提取及整体的监测精度做好准备，针对性地预处理手段，获得更加完整，特征更加明显地睡姿图像。将多特征融合与人工神经网络联合使用，获得了更高地识别准确率，达到了99.17％，具有更好的实时性，实验表明识别180图片只需要0.13s即可完成。该发明直接采集人体与床垫之间的压力数据生成睡姿图像，数据处理时间短，提高了睡姿识别的实时性，有利于后期建立睡姿变换与动态压力的关系模型。但是，上述方法存在以下问题：通过图像无法准确识别因压力不同产生差异的睡姿。发明内容为此，本发明提供一种基于轻量化卷积神经网络的睡姿监测方法，用以克服现有技术中通过图像无法准确识别因压力不同产生差异的睡姿，从而的导致睡姿识别在家居环境下无法应用的问题。为实现上述目的，本发明提供一种基于轻量化卷积神经网络的睡姿监测方法，包括：设定预分类的睡姿类别，并在各睡姿类别下采集若干睡姿样本，获取单个睡姿类别的若干样本时，利用采集模块对单个睡姿类别的各睡姿样本在采集面上设置的第一传感器阵列对压力分布进行采集，以形成对应单个睡姿样本的第一睡姿数据，并将各第一睡姿数据进行存储；采集模块利用分布在所述采集面下设置的第二传感器阵列采集对应所述第一睡姿数据的第二睡姿数据，并将各第二睡姿数据进行存储；睡姿预分析模块读取各睡姿样本的第二睡姿数据，并根据所述第一睡姿数据对所述压力分布在采集面上进行睡姿映射，以形成睡姿矫正数据；所述睡姿预分析模块以第一预设处理方式对各所述睡姿矫正数据进行处理，以形成第一睡姿图像数据，以第二预设处理方式分别对所述第一睡姿数据以及所述第一睡姿图像数据进行处理，形成第二睡姿图像数据；睡姿分析模块利用各睡姿样本的所述第一睡姿图像数据以及第二睡姿图像数据构建预设网络构架，并利用预设网络构架对各所述睡姿类别分别进行特征提取，以获取各睡姿类别下的类别特征；所述睡姿分析模块控制所述采集模块对实时睡姿进行采集，并根据所述类别特征对完成存储的实时睡姿进行睡姿类别识别；将对实时睡姿识别的睡姿类别结果以及实时睡姿采集时间进行存储，形成睡姿监测数据；其中，所述第一睡姿数据为所述睡姿样本在所述采集面上产生的压力数据，所述第二睡姿数据为所述睡姿样本对所述采集面产生的形变因数，且，第二睡姿数据与第一睡姿数据在所述采集面的对应坐标上匹配；所述第一预设处理方式为将压力数据进行图像化处理，所述第二预设处理方式为通过反转、局部均衡化、睡姿分割以及形态学除噪将压力分布数据进行处理，所述第一睡姿图像数据为睡姿的睡姿压力图像，所述第二睡姿图像数据为睡姿的睡姿特征图像；其中，所述睡姿映射为通过所述第二睡姿数据对产生形变的所述采集面进行的形变修正；所述睡姿预分析模块中设有最小映射压力阈值与最大破坏压力阈值，对于采集面中单个采集点，若其发生形变，所述睡姿预分析模块判定该采集点为形变采集点；其中，若所述形变采集点对应的所述第一睡姿数据不大于最小映射压力阈值，所述睡姿预分析模块判定不对该形变采集点进行补偿；若所述形变采集点对应的所述第一睡姿数据大于最小映射压力阈值，且，不大于最大破坏压力阈值，所述睡姿预分析模块判定对该形变采集点以第一预设映射方式进行补偿；若所述形变采集点对应的所述第一睡姿数据大于最大破坏压力阈值，所述睡姿预分析模块判定对该形变采集点以第二预设映射方式进行补偿，并对其四周相邻点进行第一预设映射方式进行补偿；其中，所述第一预设映射方式为所述睡姿预分析模块设定的形变补偿方式，所述第一预设映射方式为所述睡姿预分析模块设定的形变补偿值；所述预设网络构架为轻量化卷积神经网络睡姿识别网络框架。进一步地，在预备采集条件下，所述采集模块对睡姿样本进行采集，对于单次睡姿样本采集，其包含若干位置的压力数据以及各压力数据对应的位置坐标数据；所述采集模块在各压力传感器识别到所述采集面的睡姿承载侧空置时，收集基准数据；所述采集模块在所述睡姿承载侧设有若干压力传感器，用以收集各睡姿产生的压力以及压力的对应位置坐标；其中，所述预备采集条件为判定各所述压力传感器在单个压力采集周期的压力变化不大于预设压力变化值，所述压力采集周期为所述采集模块以预设时长为周期对所述各压力传感器采集的压力数据进行读取；所述基准数据为所述睡姿承载侧未处于受压状态的压力数据，其与所述采集面的自重有关。进一步地，所述压力传感器设置在床单下表面或床体上表面，且，在所述单个睡姿样本对床施加压力时，各压力传感器对于床单的相对位置不发生移动；其中，所述压力传感器的数量至少为9个，各压力传感器围成的最大面积覆盖各所述睡姿样本在床表面的投影面积。进一步地，在采集收集条件下，所述采集模块将各睡姿样本对应的所述睡姿数据进行记录，并传输至存储模块以所述预设时长为周期对所述各睡姿数据进行记录，并记录对应的所述睡姿数据的记录时间，以形成时间戳睡姿数据；所述采集收集条件为所述采集模块读取各所述压力传感器在当前睡姿状态下承受睡姿压力的压力读数。进一步地，在睡姿分析条件下，所述睡姿预分析模块读取所述存储模块中的所述时间戳睡姿数据，并将各时间戳睡姿数据对应的所述压力数据与所述基准数据进行差额计算形成对的矫正压力数据，根据同一时间戳对应的各压力传感器的位置与对应的矫正压力数据形成单个时间戳下的睡姿压力图像；其中，所述差额计算为将所述压力数据与所述基准数据做差；所述睡姿分析条件为所述采集模块收集到所述基准数据。进一步地，在睡姿简化条件下，所述睡姿分析模块利用所述预设网络构架将所述睡姿压力图像转化为所述睡姿特征图像；所述睡姿简化条件为所述睡姿分析模块形成所述睡姿压力图像。进一步地，在构建所述预设网络构架时，对于单个睡姿特征图像，其在投影面的投影特征包括水平横坐标、水平纵坐标以及垂直于床体的上表面所在平面的压力三个维度的图像，所述睡姿分析模块根据睡姿特征图像的各维度数据，将睡姿特征图像进行向量化处理，以形成睡姿特征函数；其中，所述投影面为床体的上表面所在平面，所述睡姿特征函数在所述投影面任一点上存在实解。进一步地，在构建所述预设网络构架时，所述睡姿分析模块对各所述睡姿特征图像进行分拣，对于单个睡姿类别的所述睡姿特征图像，睡姿分析模块设有对应的阈值区间，当所述睡姿特征函数在所述投影面的实解处于单个睡姿类别对应的所述阈值区间时，睡姿模块将所述睡姿特征函数记为对应的睡姿类别下的类别特征；其中，所述阈值区间为第一睡姿阈值以及第二睡姿阈值确定的闭区间，且，第一睡姿阈值小于第二睡姿阈值。进一步地，在所述睡姿分析模块完成获取各睡姿类别下的所述类别特征时，所述睡姿分析模块将完成分类的所述各睡姿特征函数进行记录，并形成睡姿分类模型；单个睡姿分类模型的所述睡姿特征函数作为分类算子，用以对所述实时睡姿数据进行睡姿类别识别；所述睡姿类别识别为所述睡姿分析模块将所述睡姿特征图像以所述预分类的睡姿类别进行分类。进一步地，在所述睡姿分析模块完成对所述实时睡姿的分类的时，睡姿分析模块将实时睡姿的各睡姿数据传输至所述存储模块，并对所述第一睡姿阈值以及所述第二睡姿阈值进行调整，且，睡姿分析模块在下一个实时睡姿进行分类时，应用调整完毕的第一睡姿阈值以及第二睡姿阈值。与现有技术相比，本发明的有益效果在于，克服了现有睡姿识别方法需要将传感器捆绑在人体上或使用相机存在隐私隐患的问题，利用使用大面积压力传感器采集人体睡姿，在对人体无束缚、无干扰的情况下采集到人体的完整睡姿，从而提高了在家居环境下监测睡姿的实用性。进一步地，通过对睡姿图像进行直方图分析，采用多种图像处理技术结合的方式，对图像进行针对性的预处理，在去除噪声、提高图像质量的同时，有效的保留了尽量多的有用信息，从而进一步提高了睡姿识别在家居环境下监测睡姿的实用性。进一步地，通过对睡姿图像构建网络构架的方式，对睡姿识别进行训练，在有效提升了训练效率的同时，进一步提高了睡姿识别在家居环境下监测睡姿的实用性。进一步地，通过直接采集人体与床垫之间的压力数据生成睡姿图像，数据处理时间短，提高了睡姿识别的实时性，有利于建立睡姿变换与动态压力的关系模型，从而进一步提高了睡姿识别在家居环境下监测睡姿的实用性。进一步地，通过不断完善睡姿数据的方式，对睡姿识别的精确度进行不断调整，在有效提升了睡姿识别的准确度的同时，进一步提高了睡姿识别在家居环境下监测睡姿的实用性。附图说明图1为本发明基于轻量化卷积神经网络的睡姿监测方法的流程图；图2为本发明实施例睡姿监测与识别系统的工作示意图；图3为本发明实施例的睡姿直方图；图4为本发明实施例典型残差模块的结构示意图；其中：1，大面积压力传感器；11，第一传感器阵列；12，第二传感器阵列；2，床体；3，第一数据采集设备；4，上位机终端；5，第二数据采集设备；6，床垫；7，使用者。具体实施方式为了使本发明的目的和优点更加清楚明白，下面结合实施例对本发明作进一步描述；应当理解，此处所描述的具体实施例仅仅用于解释本发明，并不用于限定本发明。下面参照附图来描述本发明的优选实施方式。本领域技术人员应当理解的是，这些实施方式仅仅用于解释本发明的技术原理，并非在限制本发明的保护范围。需要说明的是，在本发明的描述中，术语“上”、“下”、“左”、“右”、“内”、“外”等指示的方向或位置关系的术语是基于附图所示的方向或位置关系，这仅仅是为了便于描述，而不是指示或暗示所述装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，还需要说明的是，在本发明的描述中，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通。对于本领域技术人员而言，可根据具体情况理解上述术语在本发明中的具体含义。请参阅图1所示，其为本发明基于轻量化卷积神经网络的睡姿监测方法的流程图，基于轻量化卷积神经网络的睡姿监测方法，包括：设定预分类的睡姿类别，并在各睡姿类别下采集若干睡姿样本，获取单个睡姿类别的若干样本时，利用采集模块对单个睡姿类别的各睡姿样本在采集面上设置的第一传感器阵列对压力分布进行采集，以形成对应单个睡姿样本的第一睡姿数据，并将各第一睡姿数据进行存储；采集模块利用分布在采集面下设置的第二传感器阵列采集对应第一睡姿数据的第二睡姿数据，并将各第二睡姿数据进行存储；睡姿预分析模块读取各睡姿样本的第二睡姿数据，并根据第一睡姿数据对压力分布在采集面上进行睡姿映射，以形成睡姿矫正数据；睡姿预分析模块以第一预设处理方式对各睡姿矫正数据进行处理，以形成第一睡姿图像数据，以第二预设处理方式分别对第一睡姿数据以及第一睡姿图像数据进行处理，形成第二睡姿图像数据；睡姿分析模块利用各睡姿样本的第一睡姿图像数据以及第二睡姿图像数据构建预设网络构架，并利用预设网络构架对各睡姿类别分别进行特征提取，以获取各睡姿类别下的类别特征；睡姿分析模块控制采集模块对实时睡姿进行采集，并根据类别特征对完成存储的实时睡姿进行睡姿类别识别；将对实时睡姿识别的睡姿类别结果以及实时睡姿采集时间进行存储，形成睡姿监测数据；其中，第一睡姿数据为睡姿样本在采集面上产生的压力数据，第二睡姿数据为睡姿样本对采集面产生的形变因数，且，第二睡姿数据与第一睡姿数据在采集面的对应坐标上匹配；第一预设处理方式为将压力数据进行图像化处理，第二预设处理方式为通过反转、局部均衡化、睡姿分割以及形态学除噪将压力分布数据进行处理，第一睡姿图像数据为睡姿的睡姿压力图像，第二睡姿图像数据为睡姿的睡姿特征图像；其中，睡姿映射为通过第二睡姿数据对产生形变的采集面进行的形变修正；睡姿预分析模块中设有最小映射压力阈值与最大破坏压力阈值，对于采集面中单个采集点，若其发生形变，睡姿预分析模块判定该采集点为形变采集点；其中，若形变采集点对应的第一睡姿数据不大于最小映射压力阈值，睡姿预分析模块判定不对该形变采集点进行补偿；若形变采集点对应的第一睡姿数据大于最小映射压力阈值，且，不大于最大破坏压力阈值，睡姿预分析模块判定对该形变采集点以第一预设映射方式进行补偿；若形变采集点对应的第一睡姿数据大于最大破坏压力阈值，睡姿预分析模块判定对该形变采集点以第二预设映射方式进行补偿，并对其四周相邻点进行第一预设映射方式进行补偿；其中，第一预设映射方式为睡姿预分析模块设定的形变补偿方式，第一预设映射方式为睡姿预分析模块设定的形变补偿值；预设网络构架为轻量化卷积神经网络睡姿识别网络框架。以单个形变采集点A点为例：以床体的长边为横轴，短边为纵轴，长边与短边的任一交点为原点构建坐标系，A点原坐标为，在受压后，A点坐标变更为：此时，对A点受到的压力进行判断：若A点受到压力为100N以内，睡姿预分析模块判定不对A点进行补偿，并将A点坐标记为；若A点受到压力范围在100N至400N，睡姿预分析模块判定对A点进行补偿，并将A点坐标记为；若A点受压超过400N，睡姿与分析模块将A点坐标记为，并对其附近各店进行补偿。经过上述补偿，针对A点及A点附近生成的睡姿图像在经过分析后能够更准确地体现其睡姿特征。本发明克服了现有睡姿识别方法需要将传感器捆绑在人体上或使用相机存在隐私隐患的问题，利用使用大面积压力传感器采集人体睡姿，在对人体无束缚、无干扰的情况下采集到人体的完整睡姿，从而提高了在家居环境下监测睡姿的实用性。具体而言，在预备采集条件下，采集模块对睡姿样本进行采集，对于单次睡姿样本采集，其包含若干位置的压力数据以及各压力数据对应的位置坐标数据；采集模块在各压力传感器识别到采集面的睡姿承载侧空置时，收集基准数据；采集模块在睡姿承载侧设有若干压力传感器，用以收集各睡姿产生的压力以及压力的对应位置坐标；其中，预备采集条件为判定各压力传感器在单个压力采集周期的压力变化不大于预设压力变化值，压力采集周期为采集模块以预设时长为周期对各压力传感器采集的压力数据进行读取；基准数据为睡姿承载侧未处于受压状态的压力数据，其与采集面的自重有关。具体而言，压力传感器设置在床单下表面或床体上表面，且，在单个睡姿样本对床施加压力时，各压力传感器对于床单的相对位置不发生移动；其中，压力传感器的数量至少为9个，各压力传感器围成的最大面积覆盖各睡姿样本在床表面的投影面积。以一种基于床单式大面积的压力传感器阵列的睡姿监测与识别系统为例，包括：大面积压力传感器1，分为第一传感器阵列11以及第二传感器阵列12，其中，第一传感器阵列11设置在位于床体2上表面的床垫6上，用以收集使用者7向床垫6的施压数据，第二传感器阵列12设置在床体2内，用以收集使用者7的施压对床垫6产生的形变数据；第一数据采集设备3，其与大面积压力传感器1相连，用以测量使用者7向床体2的施压数据；第二数据采集设备5，其与床体6相连，用以测量大面积压力传感器1的形变；数据存储设备，其与数据采集设备相连，用以对人体向床单的施压数据以及向量化后的数据进行记录，并打上时间戳；上位机终端4，其与大面积压力传感器1、第一数据采集设备3、第二数据采集设备5以及数据存储设备相连，用以预设灵敏度识别睡姿，并根据实际情况调整预设灵敏度。请参阅图2所示，其为本发明实施例睡姿监测与识别系统的工作示意图，使用床单式的大面积的压力传感器阵列采集预分类的六种睡姿的人体压力数据，并经过重组和排序后转换为二维睡姿图像。该传感器在收集睡姿图像的过程中能够收集到各睡姿图像中压力值的坐标与传感器单元的位置一一对应，切实还原人体在传感器上躺卧的方向和位置。具体而言，在采集收集条件下，采集模块将各睡姿样本对应的睡姿数据进行记录，并传输至存储模块以预设时长为周期对各睡姿数据进行记录，并记录对应的睡姿数据的记录时间，以形成时间戳睡姿数据；采集收集条件为采集模块读取各压力传感器在当前睡姿状态下承受睡姿压力的压力读数。具体而言，在睡姿分析条件下，睡姿预分析模块读取存储模块中的时间戳睡姿数据，并将各时间戳睡姿数据对应的压力数据与基准数据进行差额计算形成对的矫正压力数据，根据同一时间戳对应的各压力传感器的位置与对应的矫正压力数据形成单个时间戳下的睡姿压力图像；其中，差额计算为将压力数据与基准数据做差；睡姿分析条件为采集模块收集到基准数据。以时间戳为A、B、C对应的三个睡姿为例：其中，A是B的前一睡姿，B是C的前一睡姿，A睡姿与B睡姿相同，B睡姿与C睡姿不同，可以理解的是，A睡姿产生的形变采集点在采集面未达到弹性极限时，B睡姿时会加深形变，B睡姿产生的形变采集点会影响针对C睡姿的压力采集工作，此时，将A睡姿记为B睡姿的影响睡姿，B睡姿为C睡姿的影像睡姿；以相邻周期的不同睡姿为例：设定第i个周期的睡姿对应形变采集点的坐标集合为Si，第i+1个周期的睡姿对应形变采集点的坐标集合为Si+1，其在采集面上的差集为ΔSi，ΔSi＝Si-Si+1，交集为Si∩Si+1，睡姿预分析模块中设有压力补偿值，以及差集元素数量阈值Ω，睡姿预分析模块将ΔSi中的元素数量ΔΩi与Ω进行比较，以确定对第i+1个周期的睡姿压力补偿，若ΔΩi≤Ω，睡姿预分析模块判定第i个周期的睡姿不会影响第i+1个周期的睡姿压力采集，并不对第i+1个周期的睡姿进行压力补偿；若ΔΩi＞Ω，睡姿预分析模块判定第i个周期的睡姿会影响第i+1个周期的睡姿压力采集，并对第i+1个周期的睡姿进行压力补偿，其补偿位置为Si∩Si+1中各元素在采集面上的几何中心对应的最近各采集点，补偿量为压力补偿值；差集数量阈值Ω与床体的弹性恢复量有关，压力补偿值与采集面的弹性系数有关，且，压力补偿值为负值。通过对睡姿图像进行直方图分析，采用多种图像处理技术结合的方式，对图像进行针对性的预处理，在去除噪声、提高图像质量的同时，有效的保留了尽量多的有用信息，从而进一步提高了睡姿识别在家居环境下监测睡姿的实用性。具体而言，在睡姿简化条件下，睡姿分析模块利用预设网络构架将睡姿压力图像转化为睡姿特征图像；睡姿简化条件为睡姿分析模块形成睡姿压力图像。以一种床单式大面积的压力传感器阵列收集到的数据为例：将睡姿图像与空载情况下传感器输出的压力数据做差，消除传感器本身带来的噪声，得到实际的睡姿压力图像，并对其进行直方图分析，通过反转、局部均衡化、睡姿分割、形态学除噪的预处理方法得到特征明显的睡姿图像。具体而言，在构建预设网络构架时，对于单个睡姿特征图像，其在投影面的投影特征包括水平横坐标、水平纵坐标以及垂直于床体的上表面所在平面的压力三个维度的图像，睡姿分析模块根据睡姿特征图像的各维度数据，将睡姿特征图像进行向量化处理，以形成睡姿特征函数；其中，投影面为床体的上表面所在平面，睡姿特征函数在投影面任一点上存在实解。请参阅图3所示，其为本发明实施例睡姿图像示意图，请参阅图3中的图以及图3中的图，其中，图3中的图为本发明实施例左侧树干型原始睡姿直方图，图3中的图为本发明实施例左侧树干型减去静态压力后得到的实际睡姿压力直方图；具体而言，在构建预设网络构架时，睡姿分析模块对各睡姿特征图像进行分拣，对于单个睡姿类别的睡姿特征图像，睡姿分析模块设有对应的阈值区间，当睡姿特征函数在投影面的实解处于单个睡姿类别对应的阈值区间时，睡姿模块将睡姿特征函数记为对应的睡姿类别下的类别特征；其中，阈值区间为第一睡姿阈值以及第二睡姿阈值确定的闭区间，且，第一睡姿阈值小于第二睡姿阈值。请配合图3中的图与图3中的图参阅图3中的图以及图3中的图，其中，图3中的图为本发明实施例左侧树干型反转后睡姿直方图，图3中的图为本发明实施例左侧树干型局部均衡化后睡姿直方图，具体而言，在睡姿分析模块完成获取各睡姿类别下的类别特征时，睡姿分析模块将完成分类的各睡姿特征函数进行记录，并形成睡姿分类模型；单个睡姿分类模型的睡姿特征函数作为分类算子，用以对实时睡姿数据进行睡姿类别识别；睡姿类别识别为睡姿分析模块将睡姿特征图像以预分类的睡姿类别进行分类。通过直接采集人体与床垫之间的压力数据生成睡姿图像，数据处理时间短，提高了睡姿识别的实时性，有利于建立睡姿变换与动态压力的关系模型，从而进一步提高了睡姿识别在家居环境下监测睡姿的实用性。具体而言，在睡姿分析模块完成对实时睡姿的分类的时，睡姿分析模块将实时睡姿的各睡姿数据传输至存储模块，并对第一睡姿阈值以及第二睡姿阈值进行调整，且，睡姿分析模块在下一个实时睡姿进行分类时，应用调整完毕的第一睡姿阈值以及第二睡姿阈值。通过不断完善睡姿数据的方式，对睡姿识别的精确度进行不断调整，在有效提升了睡姿识别的准确度的同时，进一步提高了睡姿识别在家居环境下监测睡姿的实用性。以一种基于经典CNN适用于图形分类的轻量化卷积神经网络构架的睡姿监测为例：卷积神经网络在图像分类方面具有鲁棒性强、容错性高、识别精度高等特点而得到广泛应用，但传统神经网络随着网络深度的增加，会出现网络退化现象，对此可通过ResNet残差模块实现线性特征与非线性特征融合，解决卷积神经网络中因网络增加而引发的梯度消失和梯度爆炸现象。请参阅图4所示，其为本发明实施例典型残差模块的结构示意图：残差网络公式有式表示：H＝F+x其中，x为输入，H为求和后网络映射，F为求和前网络映射。典型残差网络中，使用两个3×3卷积核提取触觉图像特征，卷积公式由式表示：其中，为第i层、第j个神经元；Mj为输入图像的集合；/＞为权重值；/＞为偏置值；f为激活函数。ReLu为网络中的激活函数，可以拟合非线性特征、学习数据中的复杂关系，其复杂关系由式表示：其中，在卷积层与ReLU激活函数之间加入BN层，可将数据分布映射到一个确定空间，解决内部变量偏移的问题；可以理解的是，为防止过拟合，加速模型训练，提升模型训练精度，使得训练深度模型更加稳定，其中，BN层为批归一化操作，批归一化操作依次按照式至式进行：其中，xi为训练批次的数据，μβ为训练批次数据的平均值，为训练批次的方差，为归一化的数据，ε为微小正数，γ为尺寸因子，β为平移因子，γ和β通过再训练模型学习得到。依照ResNet-18构建轻量化CNN网络，意图识别网络框架如图4所示，命名该轻量化网络为ResNet-mini，该ResNet-mini相较于ResNet-18主要在以下几个方面进行了改进：为了适应低分辨率的触觉图像，更好地提取更加细节的信息，把初始的7×7卷积核变为3×3大小，步幅从2变为1；把ResNet-18的多层残差结构简化为两个残差；在两个残差块之间加入Dropout操作，随机丢弃神经元，防止网络过拟合；为了满足单帧触觉图像分类要求及嵌入式应用需求，把网络输入层换成单帧触觉图像；为了进一步简化模型，提高模型的运行速度，把卷积核的数量做了相应的减少，具体为：把第一个卷积核数量改为32，第一个残差模块的卷积核数量改为32，第二个残差模块卷积核数量改为64，1×1卷积核数量改为128。使用基于轻量卷积神经网络的算法对六种睡姿进行训练获得分类模型，首先是构建基于卷积神经网络的网络结构；然后使用采集的实验数据作为睡姿数据集，六种睡姿的标签分别设为yi＝{0,1,2,3,4,5}，将特征向量与对应标签组合则得到了睡姿样本训练集，将其作为神经网络的输入，经过训练后，可得到不同睡姿的分类模型，将其保存为分类算子，直接用于睡姿的分类识别。将实时采集的压力数据在系统前端界面进行实时显示，并重复收集睡姿信息，利用训练得到的分类算子对实时采集的睡姿图像不断识别，将识别结果生成日志记录，实现对人体睡姿的长时间监测。至此，已经结合附图所示的优选实施方式描述了本发明的技术方案，但是，本领域技术人员容易理解的是，本发明的保护范围显然不局限于这些具体实施方式。在不偏离本发明的原理的前提下，本领域技术人员可以对相关技术特征做出等同的更改或替换，这些更改或替换之后的技术方案都将落入本发明的保护范围之内。以上所述仅为本发明的优选实施例，并不用于限制本发明；对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
