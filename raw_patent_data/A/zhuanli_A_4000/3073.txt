标题title
基于人工智能的呼吸机加温加湿控制方法及系统、呼吸机
摘要abst
本发明公开了一种用于呼吸机鼻息参数测量、处理及控制的基于人工智能的呼吸机加温加湿控制方法及系统、呼吸机。方法包括：布置系统；构建以加热盘实际输出温度值、环境温度值、鼻息气流温度值作为输入、以控制器控制动作作为输出的神经网络模型；将经过训练、验证、测试和评估好后的神经网络模型部署到呼吸机中进行使用。系统包括加热盘、温度传感器、风机、鼻息温湿度传感器、环境温湿度传感器、控制器。本方案应用神经网络模型来对比较鼻息气流温度预测值、当前鼻息气流温度值再进行相应的判断和操作，以此来确保鼻息者能够获得最佳的经过调整的呼吸机的温度、湿度。
权利要求书clms
1.一种基于人工智能的呼吸机加温加湿控制方法，其特征在于，所述呼吸机加温加湿控制方法包含以下步骤：S100、由控制器获取温度传感器检测到的加热盘实际输出温度值、多个环境温湿度传感器检测到的环境温度值及鼻息温湿度传感器检测到的鼻息气流温度值；S200、构建以控制器获取的各温度值作为输入、以控制器控制动作作为输出的神经网络模型，构建该神经网络模型的步骤包括如下：S210、数据采集，确定采样频率，以采样频率来采集温度值数据，并将每个数据点下的各温度值进行标注，然后将采集到的数据存储到控制器中；S220、数据预处理，将采集到的在规范限内的每个数据点下的各温度值及相应的时间戳集合为呼吸机历史温度数据，并将呼吸机历史温度数据分割为训练集和验证集；S230、模型选择和训练，选择由输入层、隐藏层和输出层组成的模型并使用训练集来进行训练；其中，输入层用于接收训练集的呼吸机历史温度数据，输入层中呼吸机历史温度数据的激活函数对应输入的各温度值、呼吸机设定温度设置有特征权重和偏置项；隐藏层用于对输入层的数据进行处理、为输出层提供信号；输出层生成对未来鼻息气流温度预测值、并输出一个当前呼吸机的加热盘温度控制参数；在训练集上进行反向传播以更新特征权重和偏置项的训练参数，并以新的训练参数再进行训练；S240、模型验证，使用验证集中的呼吸机历史温度数据来对经过训练的神经网络模型进行验证，并以验证范围值进行对比；S250、模型测试和评估，利用实时测试，评估由神经网络模型得到的控制动作进行执行后，获取的呼吸机实际出气的鼻息气流温度值与呼吸机设定温度的差值是否在评估范围值内；S300、将构建好的神经网络模型部署到呼吸机中进行使用，获取使用环境下环境温度值的并由神经网络模型比较由输出层得到的鼻息气流温度预测值，将鼻息气流温度预测值与当前鼻息气流温度值的差值是否在使用范围值内，若不是，则重新执行获取使用环境下的环境温度值，若为是，则以输出的加热盘温度控制参数来执行呼吸机控制。2.根据权利要求1所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于：在S100步骤中，包括在呼吸机的加热盘处布置温度传感器，在呼吸机风机的出风口处布置鼻息温湿度传感器，并在呼吸机的四周布置至少两个环境温湿度传感器。3.根据权利要求1所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于，在S210数据采集步骤中，包含以下步骤：S211、设定采样频率：需要根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，以保证采样的数据能够反映真实的气体温度变化；S212、提升数据质量：将采集到的数据去除异常值和噪声，采用平滑滤波进行处理，，其中k表示第k次的采样点，N表示需要采样的总次数；S213、进行标签标注：将每个数据点下的呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值进行正确标注，方便后续的模型训练和评估；S214、进行数据存储：将采集到的数据存储在控制器的存储元件中，以便于后续的数据分析和挖掘。4.根据权利要求1所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于：在S220数据预处理步骤中，计算呼吸机采集到的环境温度值数据集合的平均值和标准差，确定呼吸机正常数据的规范限，将每个单独的环境温度值数据与规范限进行比较，若当前环境温度值数据在规范限内，则保留该环境温度值数据；若当前环境温度值数据不在规范限内，则删除该环境温度值数据及该数据点下的呼吸机设定温度、加热盘实际输出温度值。5.根据权利要求4所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于：在S220数据预处理步骤中，包含以下步骤：S221、获取数据采集到的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值数据；S222、计算环境温度值的平均值和标准偏差，使用这些数据计算温度的平均值和标准偏差，平均值表示测量过程的呼吸机温度的中心位置，而标准偏差反映了测量过程的呼吸机温度变异性；S223、确定规范限：将呼吸机采集到的环境温度值的平均值加上三倍标准偏差，得到上规范限，将呼吸机采集到的环境温度值的平均值减去三倍标准偏差，得到下规范限；上规范限、下规范限代表着在呼吸机正常运行条件下，环境温度值的测量结果应该落在其中的范围内；S224、比较结果：将每个单独的温度测量结果与规范限进行比较，如果结果在规范限内，那么该结果被认为是可接受的和正常的；S225、将采集到的在规范限内的每个数据点下的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值及相应的时间戳集合为呼吸机历史温度数据，并将呼吸机历史温度数据分割为训练集和验证集。6.根据权利要求1所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于，在S220数据预处理步骤中，在将呼吸机历史温度数据分割为训练集和验证集时，所述训练集与验证集中所包含的呼吸机历史温度数据的数量比例为：6/4~8/2。7.根据权利要求1所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于：在S230模型选择和训练步骤中，对于采集到的训练集中的每个温度数据，设置输入层激活函数所对应的激活值，根据向前传播方式进一步计算输出层产生的输出层温度误差，然后根据输出层温度误差计算反向传播误差，并由反向传播误差得到新的关于特征权重和偏置项的训练参数，以该新的训练参数再作为输入层中环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值的新的特征权重和偏置项进行训练。8.根据权利要求7所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于：在S230模型选择和训练步骤中，在训练集上进行反向传播以更新训练参数的步骤包含如下：在隐藏层接收输入层的数据并计算神经元输入数据，，其中/＞表示第g层的第j个神经元的输入，/＞表示第g层的第k个神经元连接到第g层的第j神经元的特征权重，/＞表示第g-1层第k个神经元的输出，/＞表示第g层的第j个神经元的偏置项；隐藏层计算神经元输出数据，，其中/＞表示第g层的第j个神经元的输出，σ表示激活函数；对于训练集内的每个呼吸机历史温度数据x，设置输入层对应的激活值，得到前向传播公式：/＞，/＞，其中，g表示层数，z表示ω、a、b线性运算结果，ω表示特征权重，a表示z的激活值，b表示偏置项；进一步计算输出层产生的输出层温度误差值δG，，其中，本公式是输出误差公式的微分算子表达式，δG表示输出层温度误差值，/＞是/＞的微分形式，C表示代价函数，G表示神经网络的层数，j表示为第j个神经元；由输出层温度误差δG得到反向传播温度误差值，/＞，其中，/＞表示反向传播温度误差值，ωg+1表示g+1层的神经元特征权重，δg+1表示上一层的反向传播温度误差值；由反向传播误差得到新的关于特征权重和偏置项的训练参数，其中特征权重的新训练参数为，其中偏置项的新训练参数为/＞，其中，η表示学习速率，m表示样本量，x表示求和变数，/＞表示输出层温度误差与当前温度误差之差，/＞表示激活值，T表示样本集合。9.根据权利要求1所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于，在S240模型验证步骤中，验证在神经网络模型输入前一时间节点的验证集中的环境温度值、鼻息气流温度值后，判断输出层所输出的鼻息气流温度预测值、以及经由当前呼吸机加热盘温度控制参数调整后的加热盘实际输出温度值与后一时间节点的验证集中的鼻息气流温度值、加热盘实际输出温度值的差值否在验证范围值内，若为是，则判定为该神经网络模型训练成功，执行下一步骤；若不是，则判定为该神经网络模型训练失败，调整S230步骤中的特征权重和偏置项后重新训练。10.根据权利要求1所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于，在S250模型测试和评估步骤中，包含如下步骤：S251、将训练好的神经网络模型移植到呼吸机加温加湿控制系统中；S252、下发呼吸机设定温度给到呼吸机加温加湿控制系统；S253、获取多个环境温湿度传感器检测到的环境温度值，并给到神经网络模型，计算得到加热盘需要新下发的加热盘温度控制参数；S254、下发加热盘温度控制参数到加热盘，通过标准的温度计获取呼吸机实际出气的鼻息气流温度值；S255、判断呼吸机实际出气的鼻息气流温度值与呼吸机设定温度的差值是否在评估范围值内，若为是，则判定为该神经网络模型通过评估，可以进行下一步骤的部署；若不是，则判定为该神经网络模型评估失败，重新执行步骤S100、S200或重新执行步骤S230。11.根据权利要求1所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于，在S300步骤中，其使用步骤包括：S310、鼻息者根据需求温度设定至呼吸机加温加湿控制系统；S320、由控制器获取多个环境温湿度传感器检测到的环境温度值，将环境温度值输入神经网络模型，输出鼻息气流温度预测值、呼吸机的加热盘温度控制参数，获取的鼻息温湿度传感器检测到的当前鼻息气流温度值；S330、由神经网络模型比较鼻息气流温度预测值、当前鼻息气流温度值的差值是否在使用范围值内，若不是，则重新执行步骤S320；若为是，则执行下一步骤；S340、下发加热盘温度控制参数到加热盘，以对呼吸机的温度、湿度进行控制。12.根据权利要求1所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于，在步骤S300中，同样将对采集到的环境温度值数据与规范限进行比较，若当前环境温度值数据在所述规范限内，则将当前时间戳下的热盘实际输出温度值、环境温度值、鼻息气流温度值作为所述神经网络模型的输入；若当前环境温度值数据不在所述规范限内，则以采样频率继续采集环境温度值数据，直至采集到的环境温度值数据在所述规范限内。13.根据权利要求1至权利要求12任一项所述的基于人工智能的呼吸机加温加湿控制方法，其特征在于，所述验证范围值、评估范围值、使用范围值采用的数值在±0.1℃到±0.3℃之间。14.一种基于人工智能的呼吸机加温加湿控制系统，用于权利要求1至权利要求13任一项所述的方法中的呼吸机加温加湿控制，其特征在于，该系统包括：该呼吸机加温加湿控制系统包括加热盘、温度传感器、风机、鼻息温湿度传感器、环境温湿度传感器、控制器；其中，在呼吸机的加热盘处布置温度传感器，在呼吸机风机的出风口处布置鼻息温湿度传感器，并在呼吸机的四周布置至少两个环境温湿度传感器；所述控制器与加热盘、温度传感器、风机、鼻息温湿度传感器、环境温湿度传感器电性连接，由控制器获取温度传感器检测到的加热盘实际输出温度值、多个环境温湿度传感器检测到的环境温度值及鼻息温湿度传感器检测到的鼻息气流温度值；所述控制器中包含有以加热盘实际输出温度值、环境温度值、鼻息气流温度值作为输入、以控制器控制动作作为输出的神经网络模型，所述控制器通过神经网络模型获得加热盘温度控制参数后将信号传输给加热盘，使加热盘以加热盘温度控制参数来进行温度调节，以使输出的鼻息气流温度值与呼吸机设定温度相对应。15.根据权利要求14所述的基于人工智能的呼吸机加温加湿控制系统，其特征在于：所述环境温湿度传感器的数量为四个，四个所述环境温湿度传感器分布在所述呼吸机的四周，四个所述环境温湿度传感器获取的数据根据平均加权公式计算出当前具有代表性的环境温度值。16.一种呼吸机，其特征在于，所述呼吸机包括权利要求14或15任一项所述的基于人工智能的呼吸机加温加湿控制系统。
说明书desc
技术领域本发明涉及呼吸机鼻息参数测量、处理及控制技术领域，特别涉及一种用于呼吸机的鼻息呼吸温度、湿度测量、处理及控制的基于人工智能的呼吸机加温加湿控制方法及系统、呼吸机。背景技术本部分的陈述仅仅是提供了与本申请相关的背景技术信息，不必然构成在先技术。在现代临床医学中，呼吸机作为一项能人工替代自主通气功能的有效手段，已普遍用于各种原因所致的呼吸衰竭、大手术期间的麻醉呼吸管理、呼吸支持治疗和急救复苏中，在现代医学领域内占有十分重要的位置。呼吸机是一种能够起到预防和治疗呼吸衰竭，减少并发症，挽救及延长病人生命的至关重要的医疗设备。呼吸机在使用时，为了增加病人呼吸的舒适度，通常要在呼吸机病人回路的吸入端增加加热湿化装置对吸入的气体加温和湿化，以避免出现使用者口腔、鼻腔和喉咙干燥、鼻塞等一系列的不适状况。呼吸机的加热湿化装置通过对水温加热产生蒸汽，达到对吸入的气体进行加温加湿的功能。因此，在加温加湿过程中，对温度的控制尤为重要。传统的PID控制方法是通过计算误差信号的比例、积分和导数来调节输出，它是一个基于反馈控制的线性系统，使用传统PID控制方法，需手动整定误差信号的比例、积分和导数的具体系数值，其适应能力差，不能很好适应各种不确定性和复杂性，从而对呼吸机最终的加温加湿产生影响，导致患者使用呼吸机时的不适。在现有的呼吸机加温加湿控制过程中，需要配备环境温度传感器以检测当前环境温度。另外，现有厂家的还有一种做法是在呼吸机中配置加温管路，加温管路的末端装设管路温度传感器，环境温度传感器检测当前环境的环境温度值，管路温度传感器检测管路中气流的管路温度值，并分别将环境温度值和管路温度值发送到控制器中；控制器根据所述鼻息需求温度值、所述气流速度值和所述环境温度值在补充温度表中匹配温度补偿值，这种做法一是需要使用厂家配备的加温管路，存在加温管路的局限性，二是在实际应用测试中，环境温度传感器在机器的不同位置时，即使是使用同样测试方法，最终得到结果也有差异。因此，如何解决传统呼吸机的加温加湿用PID控制方法存在的调整繁琐、不能很好适应各种不确定性和复杂性，以及存在加温管路的局限性、环境温度传感器的不确定性等问题，便成为本发明所要研究解决的课题。发明内容本发明的目的是提供一种基于人工智能的呼吸机加温加湿控制方法及系统、呼吸机。为达到上述目的，本发明的第一方面提出了一种基于人工智能的呼吸机加温加湿控制方法，所述呼吸机中部署有呼吸机加温加湿控制系统，呼吸机加温加湿控制系统包括加热盘、温度传感器、风机、鼻息温湿度传感器、环境温湿度传感器、控制器，所述基于人工智能的呼吸机加温加湿控制方法包含以下步骤：S100、由控制器获取温度传感器检测到的加热盘实际输出温度值、多个环境温湿度传感器检测到的环境温度值及鼻息温湿度传感器检测到的鼻息气流温度值；S200、构建以控制器获取的各温度值作为输入、以控制器控制动作作为输出的神经网络模型，构建该神经网络模型的步骤包括如下：S210、数据采集，确定采样频率，以采样频率来采集温度值数据，并将每个数据点下的各温度值进行标注，然后将采集到的数据存储到控制器中；S220、数据预处理，将采集到的在规范限内的每个数据点下的各温度值及相应的时间戳集合为呼吸机历史温度数据，并将呼吸机历史温度数据分割为训练集和验证集；S230、模型选择和训练，选择由输入层、隐藏层和输出层组成的模型并使用训练集来进行训练；其中，输入层用于接收训练集的呼吸机历史温度数据，输入层中呼吸机历史温度数据的激活函数对应输入的各温度值、呼吸机设定温度设置有特征权重和偏置项；隐藏层用于对输入层的数据进行处理、为输出层提供信号；输出层生成对未来鼻息气流温度预测值、并输出一个当前呼吸机的加热盘温度控制参数；在训练集上进行反向传播以更新特征权重和偏置项的训练参数，并以新的训练参数再进行训练；S240、模型验证，使用验证集中的呼吸机历史温度数据来对经过训练的神经网络模型进行验证，并以验证范围值进行对比；S250、模型测试和评估，利用实时测试，评估由神经网络模型得到的控制动作进行执行后，获取的呼吸机实际出气的鼻息气流温度值与呼吸机设定温度的差值是否在评估范围值内；S300、将构建好的神经网络模型部署到呼吸机中进行使用，获取使用环境下环境温度值的并由神经网络模型比较由输出层得到的鼻息气流温度预测值，将鼻息气流温度预测值与当前鼻息气流温度值的差值是否在使用范围值内，若不是，则重新执行获取使用环境下的环境温度值，若为是，则以输出的加热盘温度控制参数来执行呼吸机控制。本发明的第二方面提出了一种基于人工智能的呼吸机加温加湿控制系统，用于第一方面所述的方法中的中的呼吸机加温加湿控制，其创新点在于，该呼吸机加温加湿控制系统包括加热盘、温度传感器、风机、鼻息温湿度传感器、环境温湿度传感器、控制器；其中，在呼吸机的加热盘处布置温度传感器，在呼吸机风机的出风口处布置鼻息温湿度传感器，并在呼吸机的四周布置至少两个环境温湿度传感器；所述控制器与加热盘、温度传感器、风机、鼻息温湿度传感器、环境温湿度传感器电性连接，由控制器获取温度传感器检测到的加热盘实际输出温度值、多个环境温湿度传感器检测到的环境温度值及鼻息温湿度传感器检测到的鼻息气流温度值；所述控制器中包含有以加热盘实际输出温度值、环境温度值、鼻息气流温度值作为输入、以控制器控制动作作为输出的神经网络模型，所述控制器通过神经网络模型获得加热盘温度控制参数后将信号传输给加热盘，使加热盘以加热盘温度控制参数来进行温度调节，以使输出的鼻息气流温度值与呼吸机设定温度相对应。本发明的第三方面提出了一种呼吸机，所述呼吸机包括本发明第二方面所述的基于人工智能的呼吸机加温加湿控制系统。本发明的有关内容解释如下：1.通过本发明的上述技术方案的实施，主要综合考量在于通过使用神经网络模型来控制呼吸机加热盘，可以提高控制精度和响应速度，同时减少手动调节的需求，从而提高呼吸机系统的自动化程度和安全性。做的细化和优化包括：包括对呼吸机加温加湿控制系统的部署，以简化结构、减少成本，使采集到的鼻息气流温度值接近使用者实际吸入、最大限度提高环境温度采集的可靠性；又包括在构建该神经网络模型的步骤中根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，以保证采样的数据能够反映真实的气体温度变化，进行合理的数据预处理，以此来使经过数据预处理下的当前环境温度值数据具有训练价值、具有代表性，在训练集上进行反向传播以更新模型参数，以最大化减少控制误差，对于未来鼻息气流温度预测值的生产更加准确，采用经过数据预处理后的训练集数据来对经过训练的神经网络模型进行验证，可以有效利用前序步骤中采集及预处理过的各种数据，通过利用实时测试对模型进行测试与评估，可以进一步提升该神经网络模型的质量，以达到更佳效果；还包括在实际应用时神经网络模型比较鼻息气流温度预测值、当前鼻息气流温度值再进行相应的判断和操作，以此来确保鼻息者能够获得最佳的经过调整的呼吸机的温度、湿度。2.在上述技术方案的第一方面中，在S100步骤中，包括在呼吸机的加热盘处布置温度传感器，在呼吸机风机的出风口处布置鼻息温湿度传感器，并在呼吸机的四周布置至少两个环境温湿度传感器。3.在上述技术方案的第一方面中，在S210数据采集步骤中，包含以下步骤：S211、设定采样频率：需要根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，以保证采样的数据能够反映真实的气体温度变化；S212、提升数据质量：将采集到的数据去除异常值和噪声，采用平滑滤波进行处理，，其中k表示第k次的采样点，N表示需要采样的总次数；S213、进行标签标注：将每个数据点下的呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值进行正确标注，方便后续的模型训练和评估；S214、进行数据存储：将采集到的数据存储在控制器的存储元件中，以便于后续的数据分析和挖掘。执行以上步骤时，根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，以保证采样的数据能够反映真实的气体温度变化，使构建的神经网络模型更加精确、智能，使后续神经网络模型的部署应用也同样能够契合真实的气体温度变化来进行加温加湿控制。4.在上述技术方案的第一方面中，在S220数据预处理步骤中，计算呼吸机采集到的环境温度值数据集合的平均值和标准差，确定呼吸机正常数据的规范限，将每个单独的环境温度值数据与规范限进行比较，若当前环境温度值数据在规范限内，则保留该环境温度值数据；若当前环境温度值数据不在规范限内，则删除该环境温度值数据及该数据点下的呼吸机设定温度、加热盘实际输出温度值。平均值表示测量过程的呼吸机温度的中心位置，而标准偏差反映了测量过程的呼吸机温度变异性，以此来使经过数据预处理下的当前环境温度值数据具有训练价值、具有代表性，由此得出的呼吸机历史温度数据将能够作为贴近真实的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值等数据被用于该神经网络模型的构建，提升该神经网络模型的构建质量、提高训练效率和精度，并使该神经网络的模型能够很好得去适应各种不确定性和复杂性的情况的发生。5.在上述技术方案的第一方面中，在S220数据预处理步骤中，包含以下步骤：S221、获取数据采集到的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值数据；S222、计算环境温度值的平均值和标准偏差，使用这些数据计算温度的平均值和标准偏差。注：平均值表示测量过程的呼吸机温度的中心位置，而标准偏差反映了测量过程的呼吸机温度变异性；S223、确定规范限：将呼吸机采集到的环境温度值的平均值加上三倍标准偏差，得到上规范限，将呼吸机采集到的环境温度值的平均值减去三倍标准偏差，得到下规范限；上规范限、下规范限代表着在呼吸机正常运行条件下，环境温度值的测量结果应该落在其中的范围内；S224、比较结果：将每个单独的温度测量结果与规范限进行比较，如果结果在规范限内，那么该结果被认为是可接受的和正常的；S225、将采集到的在规范限内的每个数据点下的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值及相应的时间戳集合为呼吸机历史温度数据，并将呼吸机历史温度数据分割为训练集和验证集。6.在上述技术方案的第一方面中，在S220数据预处理步骤中，在将呼吸机历史温度数据分割为训练集和验证集时，所述训练集与验证集中所包含的呼吸机历史温度数据的数量比例为：6/4~8/2，进一步优选为7/3。7.在上述技术方案的第一方面中，在S230模型选择和训练步骤中，对于采集到的训练集中的每个温度数据，设置输入层激活函数所对应的激活值，根据向前传播方式进一步计算输出层产生的输出层温度误差，然后根据输出层温度误差计算反向传播误差，并由反向传播误差得到新的关于特征权重和偏置项的训练参数，以该新的训练参数再作为输入层中环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值的新的特征权重和偏置项进行训练。采用这种方式来进行神经网络模型训练，在训练集上进行反向传播以更新模型参数，以最大化减少控制误差，对于未来鼻息气流温度预测值的生产更加准确，对于加热盘温度控制参数的输出及对加热盘的温度控制更加符合预期，从而可以达到更精准控制鼻息者需要的鼻息温度。8.在上述技术方案的第一方面中，在S230模型选择和训练步骤中，在训练集上进行反向传播以更新训练参数的步骤包含如下：在隐藏层接收输入层的数据并计算神经元输入数据，，其中/＞表示第g层的第j个神经元的输入，/＞表示第g层的第k个神经元连接到第g层的第j神经元的特征权重，/＞表示第g-1层第k个神经元的输出，/＞表示第g层的第j个神经元的偏置项；隐藏层计算神经元输出数据，，其中/＞表示第g层的第j个神经元的输出，σ表示激活函数；对于训练集内的每个呼吸机历史温度数据x，设置输入层对应的激活值，得到前向传播公式：/＞，/＞，其中，g表示层数，z表示ω、a、b线性运算结果，ω表示特征权重，a表示z的激活值，b表示偏置项；进一步计算输出层产生的输出层温度误差值δG，，其中，本公式是输出误差公式的微分算子表达式，δG表示输出层温度误差值，/＞是/＞的微分形式，C表示代价函数，G表示神经网络的层数，j表示为第j个神经元；由输出层温度误差δG得到反向传播温度误差值，/＞，其中，/＞表示反向传播温度误差值，ωg+1表示g+1层的神经元特征权重，δg+1表示上一层的反向传播温度误差值；由反向传播误差得到新的关于特征权重和偏置项的训练参数，其中特征权重的新训练参数为，其中偏置项的新训练参数为/＞，其中，η表示学习速率，m表示样本量，x表示求和变数，/＞表示输出层温度误差与当前温度误差之差，/＞表示激活值，T表示样本集合。9.在上述技术方案的第一方面中，在S240模型验证步骤中，验证在神经网络模型输入前一时间节点的验证集中的环境温度值、鼻息气流温度值后，判断输出层所输出的鼻息气流温度预测值、以及经由当前呼吸机加热盘温度控制参数调整后的加热盘实际输出温度值与后一时间节点的验证集中的鼻息气流温度值、加热盘实际输出温度值的差值否在验证范围值内，若为是，则判定为该神经网络模型训练成功，执行下一步骤；若不是，则判定为该神经网络模型训练失败，调整S230步骤中的特征权重和偏置项后重新训练。采用经过数据预处理后的训练集数据来对经过训练的神经网络模型进行验证，可以有效利用前序步骤中采集及预处理过的基于真实变化的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值等数据，此时进行模型验证，如果判定为该神经网络模型训练失败，就只需在训练中优化特征权重和偏置项即可，可降低由于人为因素的误差，从而实现跟精确的控制，也为神经网络模型的训练减少训练量和时长，在保证神经网络模型质量的情况下，能更快地将该神经网络模型训练好。10.在上述技术方案的第一方面中，在S250模型测试和评估步骤中，包含如下步骤：S251、将训练好的神经网络模型移植到呼吸机加温加湿控制系统中；S252、下发呼吸机设定温度给到呼吸机加温加湿控制系统；S253、获取多个环境温湿度传感器检测到的环境温度值，并给到神经网络模型，计算得到加热盘需要新下发的加热盘温度控制参数；S254、下发加热盘温度控制参数到加热盘，通过标准的温度计获取呼吸机实际出气的鼻息气流温度值；S255、判断呼吸机实际出气的鼻息气流温度值与呼吸机设定温度的差值是否在评估范围值内，若为是，则判定为该神经网络模型通过评估，可以进行下一步骤的部署；若不是，则判定为该神经网络模型评估失败，重新执行步骤S100、S200或重新执行步骤S230。11.在上述技术方案的第一方面中，在S300步骤中，其使用步骤包括：S310、鼻息者根据需求温度设定至呼吸机加温加湿控制系统；S320、由控制器获取多个环境温湿度传感器检测到的环境温度值，将环境温度值输入神经网络模型，输出鼻息气流温度预测值、呼吸机的加热盘温度控制参数，获取的鼻息温湿度传感器检测到的当前鼻息气流温度值；S330、由神经网络模型比较鼻息气流温度预测值、当前鼻息气流温度值的差值是否在使用范围值内，若不是，则重新执行步骤S320；若为是，则执行下一步骤；S340、下发加热盘温度控制参数到加热盘，以对呼吸机的温度、湿度进行控制。12.在上述技术方案的第一方面中，在步骤S300中，同样将对采集到的环境温度值数据与规范限进行比较，若当前环境温度值数据在所述规范限内，则将当前时间戳下的热盘实际输出温度值、环境温度值、鼻息气流温度值作为所述神经网络模型的输入；若当前环境温度值数据不在所述规范限内，则以采样频率继续采集环境温度值数据，直至采集到的环境温度值数据在所述规范限内。13.在上述技术方案的第一方面中，所述验证范围值、评估范围值、使用范围值采用的数值在±0.1℃到±0.3℃之间，进一步优选为±0.2℃。14.在上述技术方案的第二方面中，所述环境温湿度传感器的数量为四个，四个所述环境温湿度传感器分布在所述呼吸机的四周，四个所述环境温湿度传感器获取的数据根据平均加权公式计算出当前具有代表性的环境温度值。本方案中，通过在出风口放置鼻息温湿度传感器，可去除常规加温管路，以此来简化结构、减少成本，使采集到的鼻息气流温度值接近使用者实际吸入温度；通过在呼吸机的四周布置多个环境温湿度传感器，可最大限度提高环境温度采集的可靠性，以最大限度降低由单个环境温湿度传感器损坏或某个传感器靠近热源而导致的结果不精确。由于上述方案的运用，本发明与现有技术相比具有以下优点和效果：通过本发明技术方案的实施，在该方案的研发过程中，发明人在大的方向进行综合考量，在小的方面做进一步细化和优化。主要综合考量在于通过使用神经网络模型来控制呼吸机加热盘，可以提高控制精度和响应速度，同时减少手动调节的需求，从而提高呼吸机系统的自动化程度和安全性。做的细化和优化包括：包括对呼吸机加温加湿控制系统的部署，以简化结构、减少成本，使采集到的鼻息气流温度值接近使用者实际吸入、最大限度提高环境温度采集的可靠性；又包括在构建该神经网络模型的步骤中根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，以保证采样的数据能够反映真实的气体温度变化，进行合理的数据预处理，以此来使经过数据预处理下的当前环境温度值数据具有训练价值、具有代表性，在训练集上进行反向传播以更新模型参数，以最大化减少控制误差，对于未来鼻息气流温度预测值的生产更加准确，采用经过数据预处理后的训练集数据来对经过训练的神经网络模型进行验证，可以有效利用前序步骤中采集及预处理过的各种数据，通过利用实时测试对模型进行测试与评估，可以进一步提升该神经网络模型的质量，以达到更佳效果；还包括在实际应用时神经网络模型比较鼻息气流温度预测值、当前鼻息气流温度值再进行相应的判断和操作，以此来确保鼻息者能够获得最佳的经过调整的呼吸机的温度、湿度。而且这些细化、优化的细节都是紧密服务于大的综合考量方向，使本方案的神经网络模型的建立、训练及部署应用中得以层层推进，最终才得出了本发明的上述方案。经过本发明上述方案在大的方向的综合考量以及在小的方面的进一步细化和优化，打破了以往呼吸机温湿度控制方式的局限，提供了一种新颖、合理的控制方法及系统，其技术构思独特、巧妙，具有突出的实质性特点和显著的进步。附图说明图1为本发明实施例基于人工智能的呼吸机加温加湿控制系统的系统框图；图2为本发明实施例基于人工智能的呼吸机加温加湿控制方法的流程示意图；图3为本发明实施例进行模型选择和训练的示意图；图4为本发明实施例进行加热盘温度控制实验时一号呼吸机的温度变化曲线示意图；图5为本发明实施例进行加热盘温度控制实验时二号呼吸机的温度变化曲线示意图；图6为本发明实施例进行加热盘温度控制实验时三号呼吸机的温度变化曲线示意图；图7为本发明实施例进行加热盘温度控制实验时四号呼吸机的温度变化曲线示意图；图8为本发明实施例进行加热盘温度控制实验时五号呼吸机的温度变化曲线示意图；图9为本发明实施例进行加热盘温度控制实验时六号呼吸机的温度变化曲线示意图。图中各部位：100、呼吸机；110、控制器；120、加热盘；130、温度传感器；140、风机；145、出风口；150、鼻息温湿度传感器；160、环境温湿度传感器。具体实施方式为使本申请的上述目的、特征和优点能够更加明显易懂，下面结合附图对本申请的具体实施方式做详细的说明。在下面的描述中阐述了很多具体细节以便于充分理解本申请。但是本申请能够以很多不同于在此描述的其它方式来实施，本领域技术人员可以在不违背本申请内涵的情况下做类似改进，因此本申请不受下面公开的具体实施例的限制。本文的用语只为描述特定实施例，而无意为本案的限制。单数形式如“一”、“这”、“此”、“本”以及“该”，如本文所用，同样也包含复数形式。关于本文中所使用的“第一”、“第二”等，并非特别指称次序或顺位的意思，亦非用以限定本案，其仅为了区别以相同技术用语描述的组件或操作。关于本文中所使用的“连接”或“定位”，均可指二或多个组件或装置相互直接作实体接触，或是相互间接作实体接触，亦可指二或多个组件或装置相互操作或动作。关于本文中所使用的“包含”、“包括”、“具有”等，均为开放性的用语，即意指包含但不限于。关于本文中所使用的用词，除有特别注明外，通常具有每个用词使用在此领域中、在本案内容中与特殊内容中的平常意义。某些用以描述本案的用词将于下或在此说明书的别处讨论，以提供本领域技术人员在有关本案描述上额外的引导。本发明旨在通过对呼吸机进行加温加湿控制以为患者提供更加舒适的呼吸支持。例如，本发明的方案中采用人工智能的算法方式来对相关数据进行处理，使用神经网络模型来控制呼吸机加热盘，可以提高控制精度和响应速度，同时减少手动调节的需求，从而提高呼吸机系统的自动化程度和安全性。实施例一，本发明实施例一提出了一种基于人工智能的呼吸机加温加湿控制方法，所述呼吸机加温加湿控制方法包含以下步骤：S100、在呼吸机的加热盘处布置温度传感器，在呼吸机风机的出风口处布置鼻息温湿度传感器，并在呼吸机的四周布置至少两个环境温湿度传感器；由控制器获取温度传感器检测到的加热盘实际输出温度值、多个环境温湿度传感器检测到的环境温度值及鼻息温湿度传感器检测到的鼻息气流温度值；S200、构建以加热盘实际输出温度值、环境温度值、鼻息气流温度值作为输入、以控制器控制动作作为输出的神经网络模型，构建该神经网络模型的步骤包括如下：S210、数据采集，根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，以采样频率来采集环境温度值数据，并将每个数据点下的呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值进行标注，然后将采集到的数据存储到控制器中；S220、数据预处理，将采集到的数据进行预处理，将采集到的在规范限内的每个数据点下的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值及相应的时间戳集合为呼吸机历史温度数据，并将呼吸机历史温度数据分割为训练集和验证集；S230、模型选择和训练，选择由输入层、隐藏层和输出层组成的模型并使用训练集来进行训练；其中，输入层用于接收训练集的呼吸机历史温度数据，输入层中呼吸机历史温度数据的激活函数对应输入的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值设置有特征权重和偏置项；隐藏层用于对输入层的数据进行处理、为输出层提供信号；输出层生成对未来鼻息气流温度预测值、并输出一个当前呼吸机的加热盘温度控制参数；在训练集上进行反向传播以更新特征权重和偏置项的训练参数，并以新的训练参数再进行训练；S240、模型验证，使用验证集中的呼吸机历史温度数据来对经过训练的神经网络模型进行验证，并以验证范围值进行对比；S250、模型测试和评估，利用实时测试对模型进行测试与评估，评估由所述神经网络模型得到的控制动作进行执行后，获取的呼吸机实际出气的鼻息气流温度值与呼吸机设定温度的差值是否在评估范围值内；S300、将经过训练、验证、测试和评估好后的神经网络模型部署到呼吸机中进行使用，获取使用环境下环境温度值的并由神经网络模型比较由输出层得到的鼻息气流温度预测值，将鼻息气流温度预测值与当前鼻息气流温度值的差值是否在使用范围值内，若不是，则重新执行获取使用环境下的环境温度值，若为是，则以输出的加热盘温度控制参数执行呼吸机控制。由以上实施例一的实施，通过使用神经网络模型来控制呼吸机加热盘，可以提高控制精度和响应速度，同时减少手动调节的需求，从而提高呼吸机系统的自动化程度和安全性；同时，包括对呼吸机加温加湿控制系统的部署，以简化结构、减少成本，使采集到的鼻息气流温度值接近使用者实际吸入、最大限度提高环境温度采集的可靠性；又包括在构建该神经网络模型的步骤中根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，以保证采样的数据能够反映真实的气体温度变化，进行合理的数据预处理，以此来使经过数据预处理下的当前环境温度值数据具有训练价值、具有代表性，在训练集上进行反向传播以更新模型参数，以最大化减少控制误差，对于未来鼻息气流温度预测值的生产更加准确，采用经过数据预处理后的训练集数据来对经过训练的神经网络模型进行验证，可以有效利用前序步骤中采集及预处理过的各种数据，通过利用实时测试对模型进行测试与评估，可以进一步提升该神经网络模型的质量，以达到更佳效果；还包括在实际应用时神经网络模型比较鼻息气流温度预测值、当前鼻息气流温度值再进行相应的判断和操作，以此来确保鼻息者能够获得最佳的经过调整的呼吸机的温度、湿度。下面再以更加详细的其中一种较佳实施例来对本发明实施例一进行进一步的说明。在该较佳实施例中，所述呼吸机中部署有呼吸机加温加湿控制系统，呼吸机加温加湿控制系统包括加热盘、温度传感器、风机、鼻息温湿度传感器、环境温湿度传感器、控制器。该较佳实施例的基于人工智能的呼吸机加温加湿控制方法包含以下步骤：S100、在呼吸机的加热盘处布置温度传感器，在呼吸机风机的出风口处布置鼻息温湿度传感器，并在呼吸机的四周布置至少两个环境温湿度传感器；由控制器获取温度传感器检测到的加热盘实际输出温度值、多个环境温湿度传感器检测到的环境温度值及鼻息温湿度传感器检测到的鼻息气流温度值。通过在出风口放置鼻息温湿度传感器，可去除常规加温管路，以此来简化结构、减少成本，使采集到的鼻息气流温度值接近使用者实际吸入温度；通过在呼吸机的四周布置多个环境温湿度传感器，可最大限度提高环境温度采集的可靠性，以最大限度降低由单个环境温湿度传感器损坏或某个传感器靠近热源而导致的结果不精确。S200、构建以加热盘实际输出温度值、环境温度值、鼻息气流温度值作为输入、以控制器控制动作作为输出的神经网络模型，构建该神经网络模型的步骤包括如下：S210、数据采集，设置采样频率，以采样频率来采集环境温度值数据，并将每个数据点下的呼吸机设定温度、加热盘实际输出温度值进行标注，然后将采集到的数据存储到控制器中；根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，以保证采样的数据能够反映真实的气体温度变化，使构建的神经网络模型更加精确、智能，使后续神经网络模型的部署应用也同样能够契合真实的气体温度变化来进行加温加湿控制。在S210数据采集步骤中，包含以下步骤：S211、设定采样频率：需要根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，以保证采样的数据能够反映真实的气体温度变化；S212、提升数据质量：将采集到的数据去除异常值和噪声，采用平滑滤波进行处理，，其中各字母的定义为k表示第k次的采样点，N表示需要采样的总次数；S213、进行标签标注：将每个数据点下的呼吸机设定温度、加热盘实际输出温度值进行正确标注，方便后续的模型训练和评估；S214、进行数据存储：将采集到的数据存储在控制器的存储元件中，以便于后续的数据分析和挖掘。S220、数据预处理，将采集到的环境温度值数据进行预处理，计算呼吸机采集到的环境温度值数据集合的平均值和标准差，确定呼吸机正常数据的规范限，将每个单独的环境温度值数据与规范限进行比较，若当前环境温度值数据在规范限内，则保留该环境温度值数据；若当前环境温度值数据不在规范限内，则删除该环境温度值数据及该数据点下的呼吸机设定温度、加热盘实际输出温度值；将采集到的在规范限内的每个数据点下的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值及相应的时间戳集合为呼吸机历史温度数据，并将呼吸机历史温度数据分割为训练集和验证集；平均值表示测量过程的呼吸机温度的中心位置，而标准偏差反映了测量过程的呼吸机温度变异性，以此来使经过数据预处理下的当前环境温度值数据具有训练价值、具有代表性，由此得出的呼吸机历史温度数据将能够作为贴近真实的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值等数据被用于该神经网络模型的构建，提升该神经网络模型的构建质量、提高训练效率和精度，并使该神经网络的模型能够很好得去适应各种不确定性和复杂性的情况的发生。在S220数据预处理步骤中，包含以下步骤：S221、获取数据采集到的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值数据；S222、计算环境温度值的平均值和标准偏差，使用这些数据计算温度的平均值和标准偏差。注：平均值表示测量过程的呼吸机温度的中心位置，而标准偏差反映了测量过程的呼吸机温度变异性；S223、确定规范限：将呼吸机采集到的环境温度值的平均值加上三倍标准偏差，得到上规范限，将呼吸机采集到的环境温度值的平均值减去三倍标准偏差，得到下规范限；上规范限、下规范限代表着在呼吸机正常运行条件下，环境温度值的测量结果应该落在其中的范围内；S224、比较结果：将每个单独的温度测量结果与规范限进行比较。如果结果在规范限内，那么该结果被认为是可接受的和正常的；S225、将采集到的在规范限内的每个数据点下的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值及相应的时间戳集合为呼吸机历史温度数据，并将呼吸机历史温度数据分割为训练集和验证集。在S220数据预处理步骤中，在将呼吸机历史温度数据分割为训练集和验证集时，所述训练集与验证集中所包含的呼吸机历史温度数据的数量比例为：6/4~8/2，进一步优选为7/3。S230、模型选择和训练，选择由输入层、隐藏层和输出层组成的模型并使用训练集来进行训练；其中，输入层用于接收训练集的呼吸机历史温度数据，输入层中呼吸机历史温度数据的激活函数对应输入的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值设置有特征权重和偏置项；隐藏层用于对输入层的数据进行处理、为输出层提供信号；输出层生成对未来鼻息气流温度预测值、并输出一个当前呼吸机的加热盘温度控制参数；在模型选择和训练步骤中，对于采集到的训练集中的每个温度数据，设置输入层激活函数所对应的激活值，根据向前传播方式进一步计算输出层产生的输出层温度误差，然后根据输出层温度误差计算反向传播误差，并由反向传播误差得到新的关于特征权重和偏置项的训练参数，以该训练参数再作为输入层中环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值的新的特征权重和偏置项进行训练；采用这种方式来进行神经网络模型训练，在训练集上进行反向传播以更新训练参数，以最大化减少控制误差，对于未来鼻息气流温度预测值的生产更加准确，对于加热盘温度控制参数的输出及对加热盘的温度控制更加符合预期，从而可以达到更精准控制鼻息者需要的鼻息温度。在S230模型选择和训练步骤中，在训练集上进行反向传播以更新训练参数的步骤包含如下：在隐藏层接收输入层的数据并计算神经元输入数据，，其中/＞表示第g层的第j个神经元的输入，/＞表示第g层的第k个神经元连接到第g层的第j神经元的特征权重，/＞表示第g-1层第k个神经元的输出，/＞表示第g层的第j个神经元的偏置项；隐藏层计算神经元输出数据，，其中/＞表示第g层的第j个神经元的输出，σ表示激活函数；对于训练集内的每个呼吸机历史温度数据x，设置输入层对应的激活值，得到前向传播公式：/＞，/＞，其中，g表示层数，z表示ω、a、b线性运算结果，ω表示特征权重，a表示z的激活值，b表示偏置项；进一步计算输出层产生的输出层温度误差，，其中，本公式是输出误差公式的微分算子表达式，δG表示输出层温度误差值，/＞是/＞的微分形式，C表示代价函数，G表示神经网络的层数，j表示为第j个神经元；/＞由输出层温度误差δG得到反向传播温度误差值，/＞，其中，/＞表示反向传播温度误差值，ωg+1表示g+1层的神经元特征权重，δg+1表示上一层的反向传播温度误差值；由反向传播误差得到新的关于特征权重和偏置项的训练参数，其中特征权重的新训练参数为，其中偏置项的新训练参数为，其中，η表示学习速率，m表示样本量，x表示求和变数，表示输出层温度误差与当前温度误差之差，/＞表示激活值，T表示样本集合。S240、模型验证，使用验证集中的呼吸机历史温度数据来对经过训练的神经网络模型进行验证，验证在神经网络模型输入前一时间节点的环境温度值、鼻息气流温度值后，判断输出层所输出的鼻息气流温度预测值、以及经由当前呼吸机加热盘温度控制参数调整后的加热盘实际输出温度值与后一时间节点中的鼻息气流温度值、加热盘实际输出温度值的差值否在验证范围值内，若为是，则判定为该神经网络模型训练成功，执行下一步骤；若不是，则判定为该神经网络模型训练失败，调整S230步骤中的特征权重和偏置项后重新训练；采用经过数据预处理后的训练集数据来对经过训练的神经网络模型进行验证，可以有效利用前序步骤中采集及预处理过的基于真实变化的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值等数据，此时进行模型验证，如果判定为该神经网络模型训练失败，就只需在训练中优化特征权重和偏置项即可，可降低由于人为因素的误差，从而实现跟精确的控制，也为神经网络模型的训练减少训练量和时长，在保证神经网络模型质量的情况下，能更快地将该神经网络模型训练好。S250、模型测试和评估，利用实时测试对模型进行测试与评估，评估由所述神经网络模型得到的控制动作进行执行后，获取的呼吸机实际出气的鼻息气流温度值与呼吸机设定温度的差值是否在评估范围值内。在S250模型测试和评估步骤中，包含如下步骤：S251、将训练好的神经网络模型移植到呼吸机加温加湿控制系统中；S252、下发呼吸机设定温度给到呼吸机加温加湿控制系统；S253、多个环境温湿度传感器检测到的环境温度值，并给到神经网络模型，计算得到加热盘需要新下发的加热盘温度控制参数；S254、下发加热盘温度控制参数到加热盘，通过标准的温度计获取呼吸机实际出气的鼻息气流温度值；S255、呼吸机实际出气的鼻息气流温度值与呼吸机设定温度的差值在设定范围值内，若为是，则判定为该神经网络模型通过评估，可以进行下一步骤的部署；若不是，则判定为该神经网络模型评估失败，重新执行步骤S100、S200或重新执行步骤S230。通过以上利用实时测试对模型进行测试与评估，可以进一步提升该神经网络模型的质量，以达到更佳效果。S300、将经过训练、验证、测试和评估好后的神经网络模型部署到呼吸机中进行使用，使用步骤包括：S310、鼻息者根据需求温度设定至呼吸机加温加湿控制系统；S320、由控制器获取多个环境温湿度传感器检测到的环境温度值，将环境温度值输入神经网络模型，输出鼻息气流温度预测值、呼吸机的加热盘温度控制参数，获取的鼻息温湿度传感器检测到的当前鼻息气流温度值；S330、由神经网络模型比较鼻息气流温度预测值、当前鼻息气流温度值的差值是否在使用范围值内，则重新执行步骤S320，若两者数值一致，则执行下一步骤；S340、下发加热盘温度控制参数到加热盘，以对呼吸机的温度、湿度进行控制。在步骤S300中，同样将对采集到的环境温度值数据与规范限进行比较，若当前环境温度值数据在所述规范限内，则将当前时间戳下的热盘实际输出温度值、环境温度值、鼻息气流温度值作为所述神经网络模型的输入；若当前环境温度值数据不在所述规范限内，则以采样频率继续采集环境温度值数据，直至采集到的环境温度值数据在所述规范限内。在使用该神经网络模型的过程中，神经网络模型比较鼻息气流温度预测值、当前鼻息气流温度值再进行相应的判断和操作，以此来确保鼻息者能够获得最佳的经过调整的呼吸机的温度、湿度。实施例二，本发明实施例二提出了一种基于人工智能的呼吸机加温加湿控制系统，用于本发明实施例一所述的方法中的呼吸机加温加湿控制，该呼吸机加温加湿控制系统包括加热盘120、温度传感器130、风机140、鼻息温湿度传感器150、环境温湿度传感器160、控制器110；其中，在呼吸机100的加热盘120处布置温度传感器130，在呼吸机100风机140的出风口145处布置鼻息温湿度传感器150，并在呼吸机100的四周布置至少两个环境温湿度传感器160；所述控制器110与加热盘120、温度传感器130、风机140、鼻息温湿度传感器150、环境温湿度传感器160电性连接，由控制器110获取温度传感器130检测到的加热盘实际输出温度值、多个环境温湿度传感器160检测到的环境温度值及鼻息温湿度传感器150检测到的鼻息气流温度值；所述控制器110中包含有以加热盘实际输出温度值、环境温度值、鼻息气流温度值作为输入、以控制器110控制动作作为输出的神经网络模型，所述控制器110通过神经网络模型获得加热盘温度控制参数后将信号传输给加热盘120，使加热盘120以加热盘温度控制参数来进行温度调节，以使输出的鼻息气流温度值与呼吸机100设定温度相对应。在本发明实施例二中，作为优选，所述环境温湿度传感器的数量为四个，四个所述环境温湿度传感器分布在所述呼吸机的四周，四个所述环境温湿度传感器获取的数据根据平均加权公式计算出当前具有代表性的环境温度值。实施例三，本发明实施例三提出了一种呼吸机，所述呼吸机包括本发明实施例二所述的基于人工智能的呼吸机加温加湿控制系统。由于常用呼吸机多为矩形立方结构，因此以在所述呼吸机的前后左右四个面布置环境温湿度传感器为例，来对本发明的发明内容进行详细说明。如附图1所示，本发明的呼吸机中，部署有呼吸机加温加湿控制系统，该呼吸机加温加湿控制系统包括加热盘、温度传感器、风机、鼻息温湿度传感器、环境温湿度传感器、控制器，其中环境温湿度传感器的数量为四个，四个环境温湿度传感器分别布置在所述呼吸机的前后左右四个面处，控制器选择型号为stm32f103rct6的MCU，环境温湿度传感器选择型号HTU21D，加热盘为呼吸支持设备常用加热盘温度传感器为NTCS0805E3104FXT，风机为呼吸设备常用风机。该示例中，基于用户需求温度33~58°，气体流量为30L/Min。其流程可参考如下：S100、控制器采集温度传感器检测到的加热盘实际输出温度值、四个环境温湿度传感器检测到的环境温度值及鼻息温湿度传感器检测到的鼻息气流温度值，根据平均加权公式计算出当前具有代表性的环境温度值。S200、构建以加热盘实际输出温度值、环境温度值、鼻息气流温度值作为输入、以控制器控制动作作为输出的神经网络模型，控制器控制动作包含对未来鼻息气流温度预测、输出加热盘温度控制参数。步骤S200的具体实施步骤如下：数据采集：收集大量的环境温度值数据，同时记录每个数据点下的呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值。A)、采样频率：需要根据呼吸机系统的响应速度和气体温度的变化范围来确定采样频率，本例中采样频率为100hz。B）、数据质量：采集到的数据应该去除异常值和噪声，采用平滑滤波进行处理y=y+/采集温度数据长度N。C）、标签标注：要将每个数据点下的加热盘设定温度和实际输出温度正确标注，方便后续的模型训练和评估。D）、数据存储：将采集到的数据存储在MCU内存中，以便于后续的数据分析和挖掘。2、数据预处理：对采集到的原始数据进行处理，通过三西格玛法去除异常值，具体方法如下:根据正态分布的性质，将呼吸机获取到的温度均值加减3倍标准差内的数据视为正常数据，超出此范围的温度值则被判定为异常值。计算呼吸机采集到的温度集的平均值和标准差；根据平均值和标准差计算上下限；对于每个温度点，判断是否在上下限范围内，如果不在，则将其视为异常值并进行剔除处理：1）、根据上诉的采样频率收集呼吸机的温度数据。2）、计算平均值和标准偏差：使用这些数据计算温度的平均值和标准偏差。注：平均值表示测量过程的呼吸机温度的中心位置，而标准偏差反映了测量过程的呼吸机温度变异性。3）、确定规范限：将呼吸机采集道德温度平均值加上或减去三倍标准偏差，得到上下规范限。这些规范限代表着在正常运行条件下，温度测量过程应该落在其中的范围。4）、比较结果：将每个单独的温度测量结果与规范限进行比较。如果结果在规范限内，那么该结果被认为是可接受的和正常的；5）、将采集到的在规范限内的每个数据点下的环境温度值、呼吸机设定温度、加热盘实际输出温度值、鼻息气流温度值及相应的时间戳集合为呼吸机历史温度数据，并将呼吸机历史温度数据分割为训练集和验证集。3、模型选择和训练：选择多层感知器，并使用预处理好的数据进行模型训练。训练过程中通常需要划分出一部分数据作为验证集，用于模型的调整和优化。该模型由输入层、隐藏层和输出层组成。输入层接收呼吸机历史温度数据，包括时间戳、temp1~temp4的传感器的环境温度值。隐藏层对输入进行处理，并为输出层提供信号。输出层则生成未来鼻息气流温度预测值和输出一个当前呼吸机的加热盘温度控制参数。假设我们有一个包含n个输入特征的训练样本X，每个特征用xi表示。我们还有一个目标变量y，它代表所需的温度值。输入层=f1；表示第g层的第k个神经元连接到第g层的第j神经元的特征权重，/＞表示第g-1层第k个神经元的输出，/＞表示第g层的第j个神经元的偏置项，在隐藏层接收输入层的数据并计算神经元输入数据，/＞；/＞表示第g层的第j个神经元的输出，σ表示激活函数，/＞。对于采集到的每个温度数据x,设置输入层对应的激活值，得到前向传播公式：/＞，/＞；进一步计算输出层产生的温度误差值δG: /＞；由输出层温度误差δG得到反向传播温度误差值/＞，/＞，由此得到训练参数/＞，/＞。4、训练好模型后，使用验证集中的呼吸机历史温度数据来对经过训练的神经网络模型进行验证，并以验证范围值进行对比。5、模型测试和评估：利用实时测试对模型进行测试与验证，具体方法如下：1）、将训练好的MLP模型移植到温度控制系统中；2）、下发目标温度给温度控制系统；3）、采集temp1~temp4温度数据，并给到MLP，计算得到加热盘需要新下发的PWM；4）、下发PWM到加热盘，通过标准的温度计观察呼吸机实际出气温度与设定温度相差在加减0.2摄氏度。6、部署和应用：将上诉训练好的AI模型部署到呼吸机中，并且开启呼吸机，即可获得鼻息者需求的温湿度气流。在采用了本发明的上述方案后，申请人将采用本方案的基于人工智能的呼吸机加温加湿控制方法的呼吸机与采用常规PID控制方法的呼吸机进行了对比实验，其中第一组三台为采用本方案的呼吸机，第二组三台为采用PID控制方法的呼吸机，实验的项目分别为加热盘温度控制实验和鼻息气流温度控制实验，做这两个实验的目的和原因是，做加热盘温度控制实验是因为呼吸机对于温度、湿度的控制是由加热盘的加热温度控制来实现的，加热盘温度控制的准确性、稳定性十分重要，且加热盘温度控制的准确性也能直接反应到鼻息气流温度上；做鼻息气流温度控制实验是因为鼻息气流温度作为鼻息者吸入时的温度，能够对鼻息者带来最直观的感受，也作为在经过环境温度影响后、由控制方法控制变量修正后的最直接的数据参数，是本发明的上述方案中考量的重中之重。下面对加热盘温度控制实验和鼻息气流温度控制实验进行详细说明。实验对象：一号呼吸机，采用本发明的基于人工智能的呼吸机加温加湿控制方法的第一台呼吸机；二号呼吸机，采用本发明的基于人工智能的呼吸机加温加湿控制方法的第二台呼吸机；三号呼吸机，采用本发明的基于人工智能的呼吸机加温加湿控制方法的第三台呼吸机；四号呼吸机，采用非人工智能的温度控制的其他算法的第四台呼吸机，其中PID系数经过一定时间修复；五号呼吸机，采用非人工智能的温度控制的其他算法的第五台呼吸机，其中PID系数只是短时间调整或几乎不调整；六号呼吸机，采用非人工智能的温度控制的其他算法的第六台呼吸机，其中PID系数投入很长时间人工调整。加热盘温度控制实验，均在环境温度20.5℃，湿度36%，大气压101.8Kpa，预设加热盘的加热温度为56℃条件下进行。具体测试条件如下：均匀选取六个实验对象各自加热盘表面的5个点，并用热电偶胶水/导温硅胶/高温胶带将K型热电偶固定在各个点上。实验结果请参照附图4至附图9，示出了一号呼吸机至六号呼吸机加热盘的随时间的温度变化曲线。图4为采用本例人工智能的温度控制算法的一号呼吸机，可以看到除开头的温度有小许过冲以外，整体是比较平滑稳定的。图5为采用本例人工智能的温度控制算法的二号呼吸机，可以看到除开头的温度有小许过冲以外，整体是比较平滑稳定的。图6为采用本例人工智能的温度控制算法的三号呼吸机，可以看到除开头的温度有小许过冲以外，整体是比较平滑稳定的。以上三组实验数据可以得出，在整个试验周期内，实际温度与预设温度基本一致，没出现较大的抖动，满足试验预期。图7为采用非人工智能的温度控制的其他算法的四号呼吸机，可以看到开头的温度有小许过冲以外，整体是的温度抖动较大，如果要修复此问题，需人工投入大量时间精力整定PID系数。图8为采用非人工智能的温度控制的其他算法的五号呼吸机，可以看到开头的温度有小许过冲后平缓了一段时间，后续的温度抖动较大，如果要修复此问题，需人工投入大量时间精力整定PID系数。图9为采用非人工智能的温度控制的其他算法的六号呼吸机，可以看到开头一长段的温度抖动较大，后续才趋于平缓，如果要修复此问题，还需人工投入一定时间精力去整定PID系数。由图7、图8、图9可以得到结论为，采用常规的PID温度控制算法，极其容易出现温度抖动，对工程师要求较高，需花费大量时间整定PID系数。加热盘温度控制实验两组试验结果对比:本方案的人工智能算法并不需要工程师花费大量时间在PID系数整定上，节约时间的同时，降低了操作门槛，并且对比发现，人工智能算法控制温度较常规的温度控制有着更高的稳定性。鼻息气流温度控制实验，均在环境温度20.5℃，湿度36%，大气压101.8Kpa下进行，根据呼吸机的不同档位设置不同温度，其中0档关闭、3档23℃、4档25℃、5档28℃。具体测试条件如下：使用标准温度计，获取各呼吸机实际出气的鼻息气流温度值。一号呼吸机的实验结果见表1。表1二号呼吸机的实验结果见表2。表2三号呼吸机的实验结果见表3。表3四号呼吸机的实验结果见表4。表4五号呼吸机的实验结果见表5。表5六号呼吸机的实验结果见表6。表6鼻息气流温度控制实验两组试验结果对比:表1、表2、表3为人工智能温度控制算法，预设值与实测值误差小于等于0.2摄氏度；表4、表5、表6由常规PID方法控制的鼻息温度误差值均大于3摄氏度。由此可见，本方案能够对鼻息者需要的鼻息温度的鼻息温度进行更加精准的控制。由以上加热盘温度控制实验和鼻息气流温度控制实验这两个实验可以得出，本发明实施例的基于人工智能的呼吸机加温加湿控制方法及系统、呼吸机对于加热盘温度控制参数的输出及对加热盘的温度控制更加符合预期，可以达到更精准地控制鼻息者需要的鼻息温度，从而解决了传统呼吸机的加温加湿用PID控制方法存在的调整繁琐、不能很好适应各种不确定性和复杂性，以及存在加温管路的局限性、环境温度传感器的不确定性等问题，达到了本发明的目的。上述实施例只为说明本发明的技术构思及特点，其目的在于让熟悉此项技术的人士能够了解本发明的内容并据以实施，并不能以此限制本发明的保护范围。凡根据本发明精神实质所作的等效变化或修饰，都应涵盖在本发明的保护范围之内。
