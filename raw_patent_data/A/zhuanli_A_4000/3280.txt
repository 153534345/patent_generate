标题title
一种影像导航策略的确定方法及系统
摘要abst
本发明提供了一种影像导航策略的确定方法及系统，涉及手术导航技术领域，包括获取患者同一肿瘤的多个横截面的图像信息以及身体指标数据信息，将患者的肿瘤图像信息送至预设的图像识别模型，进行三维模型构建和特征提取，得到患者的肿瘤特征信息，将该信息传送至训练后的影像导航策略预测模型，获取患者肿瘤特征信息对应的影像导航策略信息，通过将影像导航策略信息和身体指标数据信息发送至策略评估模型，进行策略评估，并基于评估结果对影像导航策略信息进行调整，最终得到适应患者的最终影像导航策略信息。这一方法结合了患者的肿瘤特征和身体指标，通过模型预测和评估优化，实现了对手术导航的精准个性化调整。
权利要求书clms
1.一种影像导航策略的确定方法，其特征在于，包括：获取患者的肿瘤图像信息和身体指标数据信息，所述患者的肿瘤图像信息为同一肿瘤的所有横截面的图像信息；将所述患者的肿瘤图像信息进行纹理特征提取，并计算每个提取到的纹理特征的形状中心点，基于所述形状中心点确定患者的肿瘤特征信息；基于预设的历史影像导航视频进行关键点识别确定手术器械的模拟运动轨迹信息，并基于所述模拟运动轨迹信息和所述肿瘤特征信息训练BP神经网络，得到训练后影像导航策略预测模型；将所述患者的肿瘤特征信息发送至训练后的影像导航策略预测模型进行处理，得到患者的肿瘤特征信息对应的影像导航策略信息，所述影像导航策略信息包括影像导航图像中所有手术器械的模拟运动轨迹信息；将预设的模拟手术结果和预设的历史身体指标信息进行编码处理，基于处理得到的数据信息确定处理得到的数据信息的特征参数，基于预设的评估值计算公式对所述特征参数进行评估值计算，并基于计算得到的评估值分别与所述影像导航策略信息进行关联分析，得到所述影像导航策略信息对应的评估值；将所述影像导航策略信息对应的评估值进行阈值分析，基于分析得到的结果对所述影像导航策略信息进行调整，得到最终的影像导航策略信息。2.根据权利要求1所述的影像导航策略的确定方法，其特征在于,将所述患者的肿瘤图像信息进行纹理特征提取，并计算每个提取到的纹理特征的形状中心点，基于所述形状中心点确定患者的肿瘤特征信息，包括：将所述患者的肿瘤图像信息进行预处理，其中，将肿瘤图像内同一灰度值的像素点进行连接，并采用线性插值法对所有连接的像素点进行插值处理，得到每个肿瘤图像的纹理特征；将所有所述肿瘤图像的纹理特征发送至二维空间坐标系内进行位置标记，得到所有纹理特征的位置信息；基于预设的形状中心计算公式对所有的纹理特征的位置信息进行计算，得到每个纹理特征对应的形状中心点；将所有纹理特征对应的形状中心点和所有纹理特征的位置信息发送至三维空间直角坐标系进行对应标记，其中，将所有肿瘤图像对应的形状中心点进行对应，并将所有纹理特征的位置信息按照对应肿瘤图像的位置进行组合，得到肿瘤图像的三维模型；将肿瘤图像的三维模型进行特征提取，并基于提取到的特征对所述三维模型进行降维处理，得到患者的肿瘤特征信息。3.根据权利要求2所述的影像导航策略的确定方法，其特征在于,将肿瘤图像的三维模型进行特征提取，并基于提取到的特征对所述三维模型进行降维处理，包括：将每个所述纹理特征对应的形状中心点进行均值计算，得到所述三维模型的中心点位置；计算所述三维模型中每个纹理特征的像素点到所述中心点位置的欧式距离值，并将所有的欧式距离作为特征值构建得到特征向量矩阵；基于主成分分析法对所述特征向量矩阵进行降维处理，得到降维后的特征向量矩阵，并将所述降维后的特征向量矩阵作为患者的肿瘤特征信息。4.根据权利要求1所述的影像导航策略的确定方法，其特征在于,所述基于预设的历史影像导航视频进行关键点识别确定手术器械的模拟运动轨迹信息，并基于所述模拟运动轨迹信息和所述肿瘤特征信息训练BP神经网络，包括：将预设的历史影像导航视频内所有的手术器械进行识别和标记，并将标记得到的手术器械图像采样，得到每帧视频中的手术器械图像；将每帧视频中的手术器械图像的大小调整为一致，得到调整后的手术器械图像；将调整后的手术器械图像进行关键点识别，其中，将所述手术器械图像中手术器械与肿瘤的接触点作为关键点，得到每帧手术器械图像的关键点；采用贝塞尔曲线对每帧手术器械图像的关键点进行运动轨迹拟合，得到所有的历史影像导航视频中手术器械的模拟运动轨迹信息；将所有的历史影像导航视频中手术器械的模拟运动轨迹信息和预设的历史肿瘤特征信息分为训练集和验证集，并将所述训练集发送至BP神经网络模型进行训练，得到历史模拟运动轨迹的预测结果；将所述历史模拟运动轨迹的预测结果与验证集进行对比，得到训练后的影像导航策略预测模型。5.根据权利要求1所述的影像导航策略的确定方法，其特征在于,所述将预设的模拟手术结果和预设的历史身体指标信息进行编码处理，基于处理得到的数据信息确定处理得到的数据信息的特征参数，基于预设的评估值计算公式对所述特征参数进行评估值计算，并基于计算得到的评估值分别与所述影像导航策略信息进行关联分析，包括：将预设的历史影像导航视频内的模拟手术结果和预设的历史身体指标信息按照预设的时间段进行分段，得到分段后历史身体指标信息和历史模拟手术结果信息；将分段后的历史身体指标信息和历史模拟手术结果信息发送至自编码器进行处理，其中，按照预设的编码公式进行编码，并采用反向传播和梯度下降算法调节所述自编码器的参数，得到每个时段的历史身体指标信息和历史模拟手术结果的特征参数；基于预设的评估值计算公式对每个时段的历史身体指标信息和历史模拟手术结果的特征参数进行计算，得到历史模拟手术结果的评估值；将所述影像导航策略信息分别与所述历史影像导航视频内的模拟手术结果和预设的历史身体指标信息进行关联分析，并基于分析得到关联度值计算所述影像导航策略信息对应的评估值。6.一种影像导航策略的确定系统，其特征在于，包括：获取单元，用于获取患者的肿瘤图像信息和身体指标数据信息，所述患者的肿瘤图像信息为同一肿瘤的所有横截面的图像信息；第一处理单元，用于将所述患者的肿瘤图像信息进行纹理特征提取，并计算每个提取到的纹理特征的形状中心点，基于所述形状中心点确定患者的肿瘤特征信息；训练单元，用于基于预设的历史影像导航视频进行关键点识别确定手术器械的模拟运动轨迹信息，并基于所述模拟运动轨迹信息和所述肿瘤特征信息训练BP神经网络，得到训练后影像导航策略预测模型；第二处理单元，用于将所述患者的肿瘤特征信息发送至训练后的影像导航策略预测模型进行处理，得到患者的肿瘤特征信息对应的影像导航策略信息，所述影像导航策略信息包括影像导航图像中所有手术器械的模拟运动轨迹信息；第一分析单元，用于将预设的模拟手术结果和预设的历史身体指标信息进行编码处理，基于处理得到的数据信息确定处理得到的数据信息的特征参数，基于预设的评估值计算公式对所述特征参数进行评估值计算，并基于计算得到的评估值分别与所述影像导航策略信息进行关联分析，得到所述影像导航策略信息对应的评估值；第二分析单元，用于将所述影像导航策略信息对应的评估值进行阈值分析，基于分析得到的结果对所述影像导航策略信息进行调整，得到最终的影像导航策略信息。7.根据权利要求6所述的影像导航策略的确定系统，其特征在于，所述第一处理单元包括：第一处理子单元，用于将所述患者的肿瘤图像信息进行预处理，其中，将肿瘤图像内同一灰度值的像素点进行连接，并采用线性插值法对所有连接的像素点进行插值处理，得到每个肿瘤图像的纹理特征；第二处理子单元，用于将所有所述肿瘤图像的纹理特征发送至二维空间坐标系内进行位置标记，得到所有纹理特征的位置信息；第一计算子单元，用于基于预设的形状中心计算公式对所有的纹理特征的位置信息进行计算，得到每个纹理特征对应的形状中心点；第三处理子单元，用于将所有纹理特征对应的形状中心点和所有纹理特征的位置信息发送至三维空间直角坐标系进行对应标记，其中，将所有肿瘤图像对应的形状中心点进行对应，并将所有纹理特征的位置信息按照对应肿瘤图像的位置进行组合，得到肿瘤图像的三维模型；第四处理子单元，用于将肿瘤图像的三维模型进行特征提取，并基于提取到的特征对所述三维模型进行降维处理，得到患者的肿瘤特征信息。8.根据权利要求7所述的影像导航策略的确定系统，其特征在于，所述第四处理子单元包括：第二计算子单元，用于将每个所述纹理特征对应的形状中心点进行均值计算，得到所述三维模型的中心点位置；第三计算子单元，用于计算所述三维模型中每个纹理特征的像素点到所述中心点位置的欧式距离值，并将所有的欧式距离作为特征值构建得到特征向量矩阵；第五处理子单元，用于基于主成分分析法对所述特征向量矩阵进行降维处理，得到降维后的特征向量矩阵，并将所述降维后的特征向量矩阵作为患者的肿瘤特征信息。9.根据权利要求6所述的影像导航策略的确定系统，其特征在于，所述训练单元包括：第一构建子单元，用于将预设的历史影像导航视频内所有的手术器械进行识别和标记，并将标记得到的手术器械图像采样，得到每帧视频中的手术器械图像；第二构建子单元，用于将每帧视频中的手术器械图像的大小调整为一致，得到调整后的手术器械图像；第三构建子单元，用于将调整后的手术器械图像进行关键点识别，其中，将所述手术器械图像中手术器械与肿瘤的接触点作为关键点，得到每帧手术器械图像的关键点；第四构建子单元，用于采用贝塞尔曲线对每帧手术器械图像的关键点进行运动轨迹拟合，得到所有的历史影像导航视频中手术器械的模拟运动轨迹信息；第五构建子单元，用于将所有的历史影像导航视频中手术器械的模拟运动轨迹信息和预设的历史肿瘤特征信息分为训练集和验证集，并将所述训练集发送至BP神经网络模型进行训练，得到历史模拟运动轨迹的预测结果；第六构建子单元，用于将所述历史模拟运动轨迹的预测结果与验证集进行对比，得到训练后的影像导航策略预测模型。10.根据权利要求6所述的影像导航策略的确定系统，其特征在于，所述第一分析单元包括：第六处理子单元，用于将预设的历史影像导航视频内的模拟手术结果和预设的历史身体指标信息按照预设的时间段进行分段，得到分段后历史身体指标信息和历史模拟手术结果信息；第七处理子单元，用于将分段后的历史身体指标信息和历史模拟手术结果信息发送至自编码器进行处理，其中，按照预设的编码公式进行编码，并采用反向传播和梯度下降算法调节所述自编码器的参数，得到每个时段的历史身体指标信息和历史模拟手术结果的特征参数；第四计算子单元，用于基于预设的评估值计算公式对每个时段的历史身体指标信息和历史模拟手术结果的特征参数进行计算，得到历史模拟手术结果的评估值；第一分析子单元，用于将所述影像导航策略信息分别与所述历史影像导航视频内的模拟手术结果和预设的历史身体指标信息进行关联分析，并基于分析得到关联度值计算所述影像导航策略信息对应的评估值。
说明书desc
技术领域本发明涉及手术导航技术领域，具体而言，涉及一种影像导航策略的确定方法及系统。背景技术当前医学领域中，肿瘤手术导航通常仍依赖于传统的手术经验和二维图像，这在某些情况下可能导致手术精度不足、术中决策困难等问题。传统方法无法全面考虑患者的个体差异以及手术器械在三维空间内的复杂运动轨迹。同时，对患者生理指标和肿瘤图像信息的综合利用仍存在一定的局限性。因此，固定一成不变的评估模型不可能适用于不同团队或同一团队不同时期的不同情况。要实现精准评估，除了基于患者的具体病情进行全面分析以外，先需要一种影像导航策略的确定方法及系统，以更全面、个体化的方式辅助肿瘤手术导航，为肿瘤手术提供了更为智能和精细化的辅助手段。发明内容本发明的目的在于提供一种影像导航策略的确定方法及系统，以改善上述问题。为了实现上述目的，本发明采取的技术方案如下：一方面，本申请提供了一种影像导航策略的确定方法，包括：获取患者的肿瘤图像信息和身体指标数据信息，所述患者的肿瘤图像信息为同一肿瘤的所有横截面的图像信息；将所述患者的肿瘤图像信息进行纹理特征提取，并计算每个提取到的纹理特征的形状中心点，基于所述形状中心点确定患者的肿瘤特征信息；基于预设的历史影像导航视频进行关键点识别确定手术器械的模拟运动轨迹信息，并基于所述模拟运动轨迹信息和所述肿瘤特征信息训练BP神经网络，得到训练后影像导航策略预测模型；将所述患者的肿瘤特征信息发送至训练后的影像导航策略预测模型进行处理，得到患者的肿瘤特征信息对应的影像导航策略信息，所述影像导航策略信息包括影像导航图像中所有手术器械的模拟运动轨迹信息；将预设的模拟手术结果和预设的历史身体指标信息进行编码处理，基于处理得到的数据信息确定处理得到的数据信息的特征参数，基于预设的评估值计算公式对所述特征参数进行评估值计算，并基于计算得到的评估值分别与所述影像导航策略信息进行关联分析，得到所述影像导航策略信息对应的评估值；将所述影像导航策略信息对应的评估值进行阈值分析，基于分析得到的结果对所述影像导航策略信息进行调整，得到最终的影像导航策略信息。另一方面，本申请还提供了一种影像导航策略的确定系统，包括：获取单元，用于获取患者的肿瘤图像信息和身体指标数据信息，所述患者的肿瘤图像信息为同一肿瘤的所有横截面的图像信息；第一处理单元，用于将所述患者的肿瘤图像信息进行纹理特征提取，并计算每个提取到的纹理特征的形状中心点，基于所述形状中心点确定患者的肿瘤特征信息；训练单元，用于基于预设的历史影像导航视频进行关键点识别确定手术器械的模拟运动轨迹信息，并基于所述模拟运动轨迹信息和所述肿瘤特征信息训练BP神经网络，得到训练后影像导航策略预测模型；第二处理单元，用于将所述患者的肿瘤特征信息发送至训练后的影像导航策略预测模型进行处理，得到患者的肿瘤特征信息对应的影像导航策略信息，所述影像导航策略信息包括影像导航图像中所有手术器械的模拟运动轨迹信息；第一分析单元，用于将预设的模拟手术结果和预设的历史身体指标信息进行编码处理，基于处理得到的数据信息确定处理得到的数据信息的特征参数，基于预设的评估值计算公式对所述特征参数进行评估值计算，并基于计算得到的评估值分别与所述影像导航策略信息进行关联分析，得到所述影像导航策略信息对应的评估值；第二分析单元，用于将所述影像导航策略信息对应的评估值进行阈值分析，基于分析得到的结果对所述影像导航策略信息进行调整，得到最终的影像导航策略信息。本发明的有益效果为：本发明采用图像识别模型，全面提取患者肿瘤的纹理特征和三维结构特征，实现了肿瘤特征信息的全面提取与三维结构建模。其次，通过训练后的影像导航策略预测模型，将肿瘤特征信息映射为影像导航策略信息，包括手术器械的模拟运动轨迹，实现了影像导航策略的精细预测与运动轨迹的准确模拟。接着，通过策略评估模型对每个患者的影像导航策略进行个体化评估，并基于评估结果进行细致调整，实现了影像导航策略的个体化评估与精细调整，提高了肿瘤手术导航的全面性、智能性和精准性。本发明使得手术导航更为精细，更贴合患者的个体特征和实际手术场景，为肿瘤手术提供了更为智能和精细化的辅助手段，提高了手术的安全性和效果。本发明的其他特征和优点将在随后的说明书阐述，并且，部分地从说明书中变得显而易见，或者通过实施本发明实施例了解。本发明的目的和其他优点可通过在所写的说明书、权利要求书、以及附图中所特别指出的结构来实现和获得。附图说明为了更清楚地说明本发明实施例的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，应当理解，以下附图仅示出了本发明的某些实施例，因此不应被看作是对范围的限定，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他相关的附图。图1为本发明实施例中所述的影像导航策略的确定方法流程示意图;图2为本发明实施例中所述的影像导航策略的确定系统结构示意图。图中:701、获取单元；702、第一处理单元；703、训练单元；704、第二处理单元；705、第一分析单元；706、第二分析单元；7021、第一处理子单元；7022、第二处理子单元；7023、第一计算子单元；7024、第三处理子单元；7025、第四处理子单元；70251、第二计算子单元；70252、第三计算子单元；70253、第五处理子单元；7031、第一构建子单元；7032、第二构建子单元；7033、第三构建子单元；7034、第四构建子单元；7035、第五构建子单元；7036、第六构建子单元；7051、第六处理子单元；7052、第七处理子单元；7053、第四计算子单元；7054、第一分析子单元；7061、第二分析子单元；7062、第八处理子单元。实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。通常在此处附图中描述和示出的本发明实施例的组件可以以各种不同的配置来布置和设计。因此，以下对在附图中提供的本发明的实施例的详细描述并非旨在限制要求保护的本发明的范围，而是仅仅表示本发明的选定实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。应注意到：相似的标号和字母在下面的附图中表示类似项，因此，一旦某一项在一个附图中被定义，则在随后的附图中不需要对其进行进一步定义和解释。同时，在本发明的描述中，术语“第一”、“第二”等仅用于区分描述，而不能理解为指示或暗示相对重要性。实施例本实施例提供了一种影像导航策略的确定方法。参见图1，图中示出了本方法包括步骤S1、步骤S2、步骤S3、步骤S4、步骤S5和步骤S6。步骤S1、获取患者的肿瘤图像信息和身体指标数据信息，所述患者的肿瘤图像信息为同一肿瘤的所有横截面的图像信息；可以理解的是本步骤通过影像学检查获取患者肿瘤的图像信息，这些图像通常包括同一肿瘤的多个横截面，提供了三维空间内肿瘤的详细结构。这与传统的二维图像相比，能够更全面、准确地呈现肿瘤的形态和位置信息，同时，患者的身体指标数据信息也同样被采集。这些身体指标可能包括患者的年龄、性别、体重、身高等基本信息，以及与手术相关的生理指标，如血压、心率、血液成分等。本发明通过获取同一肿瘤的多个横截面图像，使得手术规划能够更全面、精准地考虑肿瘤的形态和位置。同时，结合患者的身体指标数据，可以更好地考虑患者的个体差异，为后续策略评估和调整提供更有针对性的数据支持。步骤S2、将所述患者的肿瘤图像信息进行纹理特征提取，并计算每个提取到的纹理特征的形状中心点，基于所述形状中心点确定患者的肿瘤特征信息；可以理解的是本步骤通过对肿瘤图像信息进行预处理，其中，还可以包括去噪、图像增强等操作，以提高模型处理的准确性。接着，通过图像识别模型进行三维模型构建，进而提高了对肿瘤结构的理解和表征的准确性。这为后续的影像导航策略的制定奠定了坚实的基础。本步骤中，步骤S2包括步骤S21、步骤S22、步骤S23、步骤S24和步骤S25。步骤S21、将所述患者的肿瘤图像信息进行预处理，其中，将肿瘤图像内同一灰度值的像素点进行连接，并采用线性插值法对所有连接的像素点进行插值处理，得到每个肿瘤图像的纹理特征；可以理解的是本步骤对于同一灰度值的像素点，将它们连接在一起，形成一条线或曲线，这样可以更好地捕捉肿瘤图像中相邻像素点之间的关联关系。接着，采用线性插值法对所有连接的像素点进行插值处理。线性插值是一种通过已知点之间的线性关系估算其他点的方法，这有助于填充图像中的空缺，得到更加连续和细致的纹理特征。进而使肿瘤图像的纹理特征得到了增强。这样的预处理有助于提高后续图像处理和分析的准确性，使得患者的肿瘤特征信息更为突出和清晰，为影像导航策略的制定提供更加精准的基础。步骤S22、将所有所述肿瘤图像的纹理特征发送至二维空间坐标系内进行位置标记，得到所有纹理特征的位置信息；可以理解的是本步骤通过将肿瘤图像的纹理特征在二维空间中进行标记，以获取这些特征在坐标系内的准确位置信息，为后续的形状中心计算和三维模型构建提供了准确的输入。这使得对患者肿瘤的空间结构有更深入的理解，为后续的影像导航策略制定提供了更具信息量的基础。步骤S23、基于预设的形状中心计算公式对所有的纹理特征的位置信息进行计算，得到每个纹理特征对应的形状中心点；可以理解的是本步骤通过根据纹理特征的位置信息计算出每个特征对应的形状中心点。其中，形状中心通常表示了特征的整体位置，计算形状中心可以更好地描述特征的整体形状和位置，其中，所述形状中心计算公式如下所示：其中，A表示所有的纹理特征的形状中心点，n表示有n个像素点，i表示第i个像素点，表示第i个像素点的横坐标，/＞表示第i个像素点的纵坐标。步骤S24、将所有纹理特征对应的形状中心点和所有纹理特征的位置信息发送至三维空间直角坐标系进行对应标记，其中，将所有肿瘤图像对应的形状中心点进行对应，并将所有纹理特征的位置信息按照对应肿瘤图像的位置进行组合，得到肿瘤图像的三维模型；可以理解的是本步骤通过将二维图像中的形状信息映射到三维坐标系，同时考虑形状中心点的对应关系，将所有的纹理特征的纵坐标放到三维空间直角坐标系的同一Y轴上，进而将所有的纹理特征图像进行组合，得到一个肿瘤图像的三维模型，为后续的特征提取和影像导航策略预测提供更准确的数据基础。步骤S25、将肿瘤图像的三维模型进行特征提取，并基于提取到的特征对所述三维模型进行降维处理，得到患者的肿瘤特征信息。可以理解的是本步骤通过对三维模型进行特征提取，系统可以捕捉到肿瘤形态的重要特征。随后，采用降维处理，可以减少特征的维度，保留最显著的信息，提高后续分析的效率。其中，步骤S25包括步骤S251、步骤S252和步骤S253。步骤S251、将每个所述纹理特征对应的形状中心点进行均值计算，得到所述三维模型的中心点位置；可以理解的是本步骤通过对所有纹理特征的形状中心点进行均值计算，找到三维模型的中心点位置，本步骤将这个中心点视为整个肿瘤结构的几何中心，进而为之后的特征提取做准备。步骤S252、计算所述三维模型中每个纹理特征的像素点到所述中心点位置的欧式距离值，并将所有的欧式距离作为特征值构建得到特征向量矩阵；可以理解的是本步骤通过计算每个纹理特征的像素点到中心点位置的距离，捕捉到整个肿瘤结构的形态特征，得到的特征向量矩阵反映了每个纹理特征相对于肿瘤三维模型中心点的分布情况。步骤S253、基于主成分分析法对所述特征向量矩阵进行降维处理，得到降维后的特征向量矩阵，并将所述降维后的特征向量矩阵作为患者的肿瘤特征信息。可以理解的是本步骤通过将所述特征向量矩阵进行标准化处理，确保各个特征具有相同的尺度，然后计算标准化后的特征向量矩阵的协方差矩阵，并对协方差矩阵进行特征值分解，得到特征值和对应的特征向量，按照特征值从大到小的顺序选择预设数量的特征向量，这些特征向量对应的主成分包含了大部分数据的方差，最后将原始的特征向量矩阵投影到选定的主成分上，得到降维后的特征向量矩阵，本步骤通过选择主成分，实现了对原始数据维度的降低，减少了冗余信息，提高了计算效率，并保留了数据中包含的主要信息，有助于更好地表示患者的肿瘤特征。步骤S3、用于基于预设的历史影像导航视频进行关键点识别确定手术器械的模拟运动轨迹信息，并基于所述模拟运动轨迹信息和所述肿瘤特征信息训练BP神经网络，得到训练后影像导航策略预测模型；可以理解接的是本步骤通过将患者的历史影像导航视频进行处理，得到每个导航视频中的手术器械的模拟运动轨迹，进而通过运动轨迹和肿瘤特征进行训练，得到一个能够基于肿瘤特征预测手术器械运动轨迹的神经网络模型，进而进行预测。可以理解的是本步骤通过影像导航策略预测模型能够学到手术器械在导航图像中的运动规律，因此输出的模拟运动轨迹更加精准，有助于提高影像导航的准确性，使得策略更符合患者的特定生理结构和肿瘤特征。本步骤中，步骤S3包括步骤S31、步骤S32、步骤S33、步骤S34、步骤S35和步骤S36。步骤S31、将预设的历史影像导航视频内所有的手术器械进行识别和标记，并将标记得到的手术器械图像采样，得到每帧视频中的手术器械图像；可以理解的是本步骤通过手术器械的识别和图像采样，系统为训练后的模型提供了足够的训练数据。这些数据包含了手术器械在不同场景下的图像，有助于提高模型的鲁棒性和泛化能力，并且采样得到的手术器械图像用于训练影像导航策略预测模型，使其能够学习手术器械的外观和运动规律。步骤S32、将每帧视频中的手术器械图像的大小调整为一致，得到调整后的手术器械图像；可以理解的是本步骤针对每一帧视频中的手术器械图像，采用插值法将它们的大小进行调整，使其具有相同的尺寸。这有助于保持图像的一致性，使得模型在处理这些图像时更容易学到有用的特征，进而有助于模型更好地学习手术器械的特征，因为模型无需适应不同尺寸的输入，可以更加专注于学习器械的运动轨迹。步骤S33、将调整后的手术器械图像进行关键点识别，其中，将所述手术器械图像中手术器械与肿瘤的接触点作为关键点，得到每帧手术器械图像的关键点；可以理解的是本步骤通过YoloV5算法进行关键点识别，其中，基于所述手术器械的形状特点和尺寸特点进行分类，得到肿瘤手术器械对应的锚框参数信息；将所述肿瘤手术器械对应的锚框参数信息作为对应的YoloV5算法中的锚框参数，基于所述手术器械的形状特点和尺寸特点构建锚框损失函数，然后使用非极大值抑制方法筛选出最佳预测框，根据所述锚框参数和所述最佳预测框对YoloV5算法进行改进，并通过改进后的YoloV5算法进行关键点识别，将识别得到手术器械与肿瘤的接触点作为关键点。其中，改进后的YoloV5算法更适用于手术场景，能够更准确地捕捉手术器械与肿瘤接触点的位置。步骤S34、采用贝塞尔曲线对每帧手术器械图像的关键点进行运动轨迹拟合，得到所有的历史影像导航视频中手术器械的模拟运动轨迹信息；其中，将对于每一帧手术器械图像的关键点作为贝塞尔曲线的控制点，将所述控制点的数量减一作为贝塞尔曲线的阶数，并将所述关键点的位置信息和关键点的数量信息发送至预设的目标函数进行优化拟合，拟合得到手术器械图像的运动轨迹，其中，所述目标函数的计算公式如下：其中，C为目标函数，m为关键点的数量，表示第/＞个关键点的位置，/＞表示参数/＞在处的贝塞尔曲线上的点的位置，/＞表示是贝塞尔曲线上的参数值，表示曲线上某一点的位置，/＞表示关键点的索引。步骤S35、将所有的历史影像导航视频中手术器械的模拟运动轨迹信息和预设的历史肿瘤特征信息分为训练集和验证集，并将所述训练集发送至BP神经网络模型进行训练，得到历史模拟运动轨迹的预测结果；可以理解的是本步骤实现了对历史数据中手术器械模拟运动轨迹的学习和预测。BP神经网络通过学习历史数据的模式，使得模型能够对患者的肿瘤特征信息进行预测，提供了患者肿瘤相关手术器械运动轨迹的预测功能，为后续的影像导航策略提供了基础数据。步骤S36、将所述历史模拟运动轨迹的预测结果与验证集进行对比，得到训练后的影像导航策略预测模型。可以理解的是本步骤确定了影像导航策略预测模型，该模型能够根据患者的肿瘤特征信息，准确预测手术器械在导航图像中的模拟运动轨迹。这为最终的影像导航策略提供了关键的信息，使得手术操作能够更准确地在导航图像中进行引导，提高手术的精准性和效果。此外，通过模型的训练，可以更好地适应患者个体差异，提高系统的普适性和适用性。步骤S4、将所述患者的肿瘤特征信息发送至训练后的影像导航策略预测模型进行处理，得到患者的肿瘤特征信息对应的影像导航策略信息，所述影像导航策略信息包括影像导航图像中所有手术器械的模拟运动轨迹信息。可以理解的是本步骤，通过神经网络对患者需要的手术器械的模拟运动轨迹信息进行预测，为之后手术导航做准备，进而提高导航路线。步骤S5、将预设的模拟手术结果和预设的历史身体指标信息进行编码处理，基于处理得到的数据信息确定处理得到的数据信息的特征参数，基于预设的评估值计算公式对所述特征参数进行评估值计算，并基于计算得到的评估值分别与所述影像导航策略信息进行关联分析，得到所述影像导航策略信息对应的评估值；可以理解的是本步骤通过综合考虑影像导航策略信息和患者身体指标数据，利用策略评估模型实现对手术方案的智能评估。调整后的导航策略信息更贴近患者的具体情况，提高了手术导航系统的个性化和精准性，有助于提高手术成功率、降低患者风险。通过持续的策略评估和调整，系统可以适应患者在手术过程中可能发生的变化，提高了系统的稳健性和适应性。本步骤中，步骤S5包括步骤S51、步骤S52、步骤S53和步骤S54。步骤S51、包括将预设的历史影像导航视频内的模拟手术结果和预设的历史身体指标信息按照预设的时间段进行分段，得到分段后历史身体指标信息和历史模拟手术结果信息；可以理解的是通过将预设的信息进行分段，系统能够在时间维度上更好地理解患者的身体指标和手术结果的关联。这为后续的策略评估提供了更多的细节和信息。通过分段分析历史影像导航视频，系统可以更精细地了解患者在手术过程中可能发生的变化和趋势，从而更准确地评估导航策略的有效性。此外，分段的历史身体指标信息和模拟手术结果信息有助于更深入地理解手术过程中的关键时刻和患者的生理状态，为智能导航系统提供更多的决策依据。步骤S52、将分段后的历史身体指标信息和历史模拟手术结果信息发送至自编码器进行处理，其中，按照预设的编码公式进行编码，并采用反向传播和梯度下降算法调节所述自编码器的参数，得到每个时段的历史身体指标信息和历史模拟手术结果的特征参数；可以理解的是本发明能够在自动编码的过程中学习历史身体指标信息和历史模拟手术结果的抽象特征。这种表示有助于降低数据的维度，同时保留关键信息。通过自编码器的训练，系统更好地理解了身体指标和手术效果之间的关系，为后续的策略评估提供了更具信息量的特征。此外，自编码器的使用使得系统能够进行无监督学习，从而更好地适应不同患者和手术情境，其中，所述自编码器中的编码器公式和解码器公式如下所示：其中，z为编码器的输出,x是输入数据，是编码器的权重矩阵，/＞是编码器的偏置项，f是激活函数，在本发明中为Sigmoid函数,/＞是重构的输出数据,/＞是解码器的权重矩阵,/＞是解码器的偏置项。步骤S53、基于预设的评估值计算公式对每个时段的历史身体指标信息和历史模拟手术结果的特征参数进行计算，得到历史模拟手术结果的评估值；可以理解的是本步骤通过自编码器提取历史数据的重要特征，并通过评估值对历史模拟手术结果进行量化评估。这样的自动评估系统有助于识别模型在特定时段的表现，为手术导航系统的调整提供了客观的依据，本步骤中，预设的评估值计算公式如下所示，其中特征参数包括手术时间、出血量、肿瘤切除程度和局部组织的损伤程度。其中，E为历史模拟手术结果的评估值，i表示时段序号，j表示评估因素的索引，N是评估因素的总数,是第i个时段第j个身体指标，所述身体指标是标准化后的值，F是第i个时段第j个特征参数，/＞和/＞是权重用于平衡身体指标和特征参数的贡献。步骤S54、将所述影像导航策略信息分别与所述历史影像导航视频内的模拟手术结果和预设的历史身体指标信息进行关联分析，并基于分析得到关联度值计算所述影像导航策略信息对应的评估值。可以理解的是本步骤能够综合考虑模拟手术结果和身体指标的关联度，为影像导航策略提供客观评估，从而优化手术导航的准确性和安全性，其中，本步骤通过余弦相似度来计算影像导航策略信息与历史影像导航视频的模拟手术结果或历史身体指标信息之间的关联度，并将计算得到的关联度值与所述历史模拟手术结果的评估值进行乘积计算，得到所述影像导航策略信息对应的评估值。步骤S6、将所述影像导航策略信息对应的评估值进行阈值分析，基于分析得到的结果对所述影像导航策略信息进行调整，得到最终的影像导航策略信息。可以理解的是本步骤通过对所述影像导航策略信息进行分析，判断所述策略信息是否达到要求，进而对没有达到要求的导航策略进行调整，本步骤中，步骤S6包括步骤S61和步骤S62。步骤S61、将评估得到结果进行判断，若所述评估小于预设阈值，则将所述影像导航策略信息和预设的历史肿瘤特征信息进行回归分析，得到所述影像导航策略信息和预设的历史肿瘤特征信息的映射关系；可以理解的是本步骤在评估值低于阈值时，通过回归分析建立了影像导航策略信息和历史肿瘤特征信息之间的映射关系，为进一步优化和调整影像导航策略提供了有力的支持。步骤S62、基于所述映射关系和患者的肿瘤特征信息对所述影像导航策略信息进行调整，得到调整后的影像导航策略信息。可以理解的是本步骤通过根据映射关系模型输出的患者肿瘤特征信息，调整手术器械运动轨迹相关的参数。例如，如果肿瘤位于特定位置，可能需要调整器械的入刀点和入刀角度，以更好地覆盖和处理肿瘤。如果模拟验证的结果不理想，可以根据实际效果进行迭代调整，逐步优化参数，直至找到最适合当前患者情况的手术器械运动轨迹。实施例如图2所示，本实施例提供了一种影像导航策略的确定系统，参见图2所述系统包括获取单元701、第一处理单元702、训练单元703、第二处理单元704、第一分析单元705和第二分析单元706。获取单元701，用于获取患者的肿瘤图像信息和身体指标数据信息，所述患者的肿瘤图像信息为同一肿瘤的所有横截面的图像信息；第一处理单元702，用于将所述患者的肿瘤图像信息进行纹理特征提取，并计算每个提取到的纹理特征的形状中心点，基于所述形状中心点确定患者的肿瘤特征信息；其中，所述第一处理单元702包括第一处理子单元7021、第二处理子单元7022、第一计算子单元7023、第三处理子单元7024和第四处理子单元7025。第一处理子单元7021，用于将所述患者的肿瘤图像信息进行预处理，其中，将肿瘤图像内同一灰度值的像素点进行连接，并采用线性插值法对所有连接的像素点进行插值处理，得到每个肿瘤图像的纹理特征；第二处理子单元7022，用于将所有所述肿瘤图像的纹理特征发送至二维空间坐标系内进行位置标记，得到所有纹理特征的位置信息；第一计算子单元7023，用于基于预设的形状中心计算公式对所有的纹理特征的位置信息进行计算，得到每个纹理特征对应的形状中心点；第三处理子单元7024，用于将所有纹理特征对应的形状中心点和所有纹理特征的位置信息发送至三维空间直角坐标系进行对应标记，其中，将所有肿瘤图像对应的形状中心点进行对应，并将所有纹理特征的位置信息按照对应肿瘤图像的位置进行组合，得到肿瘤图像的三维模型；第四处理子单元7025，用于将肿瘤图像的三维模型进行特征提取，并基于提取到的特征对所述三维模型进行降维处理，得到患者的肿瘤特征信息。其中，所述第四处理子单元7025包括第二计算子单元70251、第三计算子单元70252和第五处理子单元70253。第二计算子单元70251，用于将每个所述纹理特征对应的形状中心点进行均值计算，得到所述三维模型的中心点位置；第三计算子单元70252，用于计算所述三维模型中每个纹理特征的像素点到所述中心点位置的欧式距离值，并将所有的欧式距离作为特征值构建得到特征向量矩阵；第五处理子单元70253，用于基于主成分分析法对所述特征向量矩阵进行降维处理，得到降维后的特征向量矩阵，并将所述降维后的特征向量矩阵作为患者的肿瘤特征信息。训练单元703，用于将所述患者的肿瘤特征信息发送至训练后的影像导航策略预测模型进行处理，得到患者的肿瘤特征信息对应的影像导航策略信息，所述影像导航策略信息包括影像导航图像中所有手术器械的模拟运动轨迹信息；其中，所述训练单元703包括第一构建子单元7031、第二构建子单元7032、第三构建子单元7033、第四构建子单元7034、第五构建子单元7035和第六构建子单元7036。第一构建子单元7031，用于将预设的历史影像导航视频内所有的手术器械进行识别和标记，并将标记得到的手术器械图像采样，得到每帧视频中的手术器械图像；第二构建子单元7032，用于将每帧视频中的手术器械图像的大小调整为一致，得到调整后的手术器械图像；第三构建子单元7033，用于将调整后的手术器械图像进行关键点识别，其中，将所述手术器械图像中手术器械与肿瘤的接触点作为关键点，得到每帧手术器械图像的关键点；第四构建子单元7034，用于采用贝塞尔曲线对每帧手术器械图像的关键点进行运动轨迹拟合，得到所有的历史影像导航视频中手术器械的模拟运动轨迹信息；第五构建子单元7035，用于将所有的历史影像导航视频中手术器械的模拟运动轨迹信息和预设的历史肿瘤特征信息分为训练集和验证集，并将所述训练集发送至BP神经网络模型进行训练，得到历史模拟运动轨迹的预测结果；第六构建子单元7036，用于将所述历史模拟运动轨迹的预测结果与验证集进行对比，得到训练后的影像导航策略预测模型。第二处理单元704，用于将所述患者的肿瘤特征信息发送至训练后的影像导航策略预测模型进行处理，得到患者的肿瘤特征信息对应的影像导航策略信息，所述影像导航策略信息包括影像导航图像中所有手术器械的模拟运动轨迹信息；第一分析单元705，用于将预设的模拟手术结果和预设的历史身体指标信息进行编码处理，基于处理得到的数据信息确定处理得到的数据信息的特征参数，基于预设的评估值计算公式对所述特征参数进行评估值计算，并基于计算得到的评估值分别与所述影像导航策略信息进行关联分析，得到所述影像导航策略信息对应的评估值；其中，所述第一分析单元705包括第六处理子单元7051、第七处理子单元7052、第四计算子单元7053和第一分析子单元7054。第六处理子单元7051，用于将预设的历史影像导航视频内的模拟手术结果和预设的历史身体指标信息按照预设的时间段进行分段，得到分段后历史身体指标信息和历史模拟手术结果信息；第七处理子单元7052，用于将分段后的历史身体指标信息和历史模拟手术结果信息发送至自编码器进行处理，其中，按照预设的编码公式进行编码，并采用反向传播和梯度下降算法调节所述自编码器的参数，得到每个时段的历史身体指标信息和历史模拟手术结果的特征参数；第四计算子单元7053，用于基于预设的评估值计算公式对每个时段的历史身体指标信息和历史模拟手术结果的特征参数进行计算，得到历史模拟手术结果的评估值；第一分析子单元7054，用于将所述影像导航策略信息分别与所述历史影像导航视频内的模拟手术结果和预设的历史身体指标信息进行关联分析，并基于分析得到关联度值计算所述影像导航策略信息对应的评估值。第二分析单元706，用于将所述影像导航策略信息对应的评估值进行阈值分析，基于分析得到的结果对所述影像导航策略信息进行调整，得到最终的影像导航策略信息。其中，所述第二分析单元706包括第二分析子单元7061和第八处理子单元7062。第二分析子单元7061，用于将评估得到结果进行判断，若所述评估小于预设阈值，则将所述影像导航策略信息和预设的历史肿瘤特征信息进行回归分析，得到所述影像导航策略信息和预设的历史肿瘤特征信息的映射关系；第八处理子单元7062，用于基于所述映射关系和患者的肿瘤特征信息对所述影像导航策略信息进行调整，得到调整后的影像导航策略信息。需要说明的是，关于上述实施例中的系统，其中各个模型执行操作的具体方式已经在有关该方法的实施例中进行了详细描述，此处将不做详细阐述说明。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应以权利要求的保护范围为准。
