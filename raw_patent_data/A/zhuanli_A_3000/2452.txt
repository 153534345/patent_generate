标题title
一种智能家具控制器及控制方法
摘要abst
本发明公开了一种智能家具控制器及控制方法，该方法包括：检测到智能家具从待机状态切换至使用状态时，将预设的初始范围作为响应音区；当麦克风阵列采集到响应音区的第一笔语音信号时，将当前的用户坐姿标记为初始坐姿并计算第一笔语音信号的声源坐标；基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，将所述空间范围更新为初始坐姿对应的响应音区；检测到用户坐姿发生第一类改变时，基于第二音区修正算法计算最新用户坐姿对应的响应音区。该方法能够根据用户的坐姿动态调整智能家具的响应音区的范围与用户的嘴部位置相匹配，得到以声源为中心的范围更小的响应音区，降低非用户声源进入响应音区的几率，提升语音识别准确性。
权利要求书clms
1.一种智能家具控制方法，其特征在于，所述方法包括：检测到智能家具从待机状态切换至使用状态时，将预设的初始范围作为响应音区；当麦克风阵列采集到响应音区的第一笔语音信号时，将当前的用户坐姿标记为初始坐姿并计算第一笔语音信号的声源坐标；基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，将所述空间范围更新为初始坐姿对应的响应音区；检测到用户坐姿发生第一类改变时，基于第二音区修正算法计算最新用户坐姿对应的响应音区。2.根据权利要求1所述的一种智能家具控制方法，其特征在于，所述智能家具包括坐垫和靠背、部署在坐垫上的第一压力传感器阵列以及部署在靠背上的第二压力传感器阵列，所述初始坐姿为仅有坐垫平面上的第一压力传感器阵列被用户触发时的用户坐姿；所述基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，具体包括：根据以下的公式一计算出第一笔语音信号的声源坐标对应的空间范围：其中， /＞为初始坐姿状态下，坐垫平面上的第一压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P0的坐标，r为重心点P0到第一笔语音信号的声源坐标的距离，θ为预设的人体摆动角度，0°≤θ≤45°。3.根据权利要求2所述的一种智能家具控制方法，其特征在于，用户坐姿发生第一类改变是指，用户坐姿改变前后仅有坐垫平面上的第一压力传感器阵列被用户触发；所述基于第二音区修正算法计算最新用户坐姿对应的响应音区，具体包括：获取最新坐姿状态下，坐垫平面上的第一压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P1的坐标；用P1减去P0，得到平移偏移量 ；将当前响应音区的所有坐标点加上平移偏移量，得到最新坐姿对应的响应音区的所有坐标点。4.根据权利要求2所述的一种智能家具控制方法，其特征在于，所述方法还包括：利用第三音区修正算法对公式一进行修正；修正后的公式一为：其中，d为通过实验预先测定的坐垫下沉深度；通过以下步骤确定坐垫下沉深度d:获取坐垫上的第一压力传感器阵列测得的压力值；根据所述压力值查表确定坐垫下沉深度d。5.根据权利要求2所述的一种智能家具控制方法，其特征在于，所述方法还包括：当第一压力传感器阵列中压力值最大的压力传感器的压力值与其他所有被触发的压力传感器的差值均大于预设压力差值时，以压力最大的压力传感器的坐标点作为该用户坐姿下，坐垫平面上的第一压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点的坐标。6.根据权利要求1所述的一种智能家具控制方法，其特征在于，所述智能家具包括坐垫和靠背、部署在坐垫上的第一压力传感器阵列以及部署在靠背上的第二压力传感器阵列，所述初始坐姿为坐垫平面上的第一压力传感器阵列和靠背上的第二压力传感器阵列二者同时被用户触发时的用户坐姿；所述基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，具体包括：根据以下的公式二计算出第一笔语音信号的声源坐标对应的空间范围：其中，为初始坐姿状态下，第一笔语音信号的声源坐标，R为预设的颈部摆动长度，8cm≤R≤12cm，A,B,C是与靠背所在平面垂直的法向量的三个分量，D 是将靠背所在平面的坐标带入后求得的常数。7.根据权利要求6所述的一种智能家具控制方法，其特征在于，所述方法还包括：检测到用户坐姿发生第二类改变时，基于第四音区修正算法计算最新用户坐姿对应的响应音区；其中，用户坐姿发生第二类改变是指，用户坐姿改变前后，靠背上的第二压力传感器阵列均被用户触发并且坐垫平面上的第一压力传感器阵列均被用户触发；所述基于第四音区修正算法计算最新用户坐姿对应的响应音区，具体包括：获取在用户坐姿改变前，靠背平面上的第二压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P2的坐标；获取在用户坐姿改变后，靠背平面上的第二压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P3的坐标；用P3减去P2，得到平移偏移量；将当前响应音区的所有坐标点加上平移偏移量，得到最新坐姿对应的响应音区的所有坐标点。8.根据权利要求3或6所述的一种智能家具控制方法，其特征在于，所述方法还包括：检测到用户坐姿发生第三类改变时，确定改变后最新的用户坐姿；第三类改变是指，用户坐姿改变前后，靠背上的第二压力传感器阵列分别处于被用户触发和不被用户触发的状态；如果最新的用户坐姿为仅有坐垫平面上的第一压力传感器阵列被用户触发时的用户坐姿，则基于第二音区修正算法计算最新用户坐姿对应的响应音区；如果最新的用户坐姿为坐垫平面上的第一压力传感器阵列和靠背上的第二压力传感器阵列二者同时被用户触发时的用户坐姿，则基于第四音区修正算法计算最新用户坐姿对应的响应音区。9.根据权利要求3或6所述的一种智能家具控制方法，其特征在于，所述方法还包括：检测到用户坐姿发生第四类改变时，基于第五音区修正算法计算最新用户坐姿对应的响应音区；其中，用户坐姿发生第四类改变是指，在靠背上的第二压力传感器阵列被用户触发的情况下，用户坐姿改变前后，靠背的倾斜角度发生变动；所述基于第五音区修正算法计算最新用户坐姿对应的响应音区，具体包括：基于靠背倾斜角度的变动，确定变动前后靠背所在平面的旋转矩阵；基于所述旋转矩阵将当前响应音区的所有坐标点转换得到最新坐姿对应的响应音区的所有坐标点；其中，所述旋转矩阵为：α为靠背倾斜角度的变动值，0°≤α≤60°。10.一种智能家具控制器，其特征在于，包括存储器、处理器及存储在存储器上的计算机程序，其特征在于，所述处理器执行所述计算机程序以实现权利要求1至9任一项所述方法的步骤。
说明书desc
技术领域本发明涉及家具控制器，特别涉及一种智能家具控制器及控制方法。背景技术智能家具提供智能控制旨在提高用户操作的便利性，智能家具集成语音识别后，用户仅需在使用智能家具过程中通过语音说出触发指令，智能家具的控制器通过采集用户的语音信号并进行语音识别，便可根据语音识别结果对智能家具进行控制，而不会影响用户当前对智能家具功能的使用过程。即用户不再需要寻找遥控器或实体按钮来操作功能，提高用户操作的便利性。例如，用户闭眼躺在智能沙发椅上之后，想要调整沙发椅的按摩功能、加热功能时，可以在不睁开眼也不用动的情况下，通过语音说出触发指令，直接控制沙发椅执行相应的加热功能等。沙发椅等智能家具放置在客厅等作为家庭公共空间的地方，一次只有一个使用用户，在用户使用该智能家具并使用语音识别进行功能控制时，容易受到处于同一个空间下的其他人的说话声或者电视声音的干扰。例如，紧挨着沙发椅的椅子上用户说话声或电视播放声音与用户声音混合，导致声源之间的干扰，使得无法有效地分辨和提取目标声源，降低语音信号的清晰度和质量。经检索，相关技术中可以利用麦克风阵列的声源定位并结合波束成形技术来增强指定音区的语音信号，实现有效分辨和提取目标声源，从而提升语音识别的准确性。如专利文献1披露了可以采用麦克风阵列技术来实现仅采集指定音区的声音用于语音控制，并且屏蔽剩余音区的方案，该方案可以提升语音识别的准确性。并且，专利文献1进一步还披露了由于用户移动而导致的用户声源跨音区的解决方案，即用户移动到其他音区之后，认为用户声源从之前的主音区跨入另一个音区，所以需要更新用户所处的最新位置为主音区。如果将专利文献1的方案应用到沙发椅等智能家具场景时，可以将沙发椅边框包围的区域作为主音区，通过只对主音区的声音进行采集和响应，可以提高声音信号质量和语音识别准确性，并且用户使用沙发椅时，由于用户不移动，也不会面临专利文献1中的用户声源跨音区问题。但是，在沙发椅的语音控制场景中，却存在非用户声源跨音区的问题，即沙发椅一般布置在客厅并与其他的椅子紧挨在一起，所以在客厅活动的其他人或者坐在紧挨着沙发椅的椅子上的其他人的头部很容易挨着沙发椅主音区的边界，甚至进入到沙发椅的主音区范围内，该现象定义为非用户声源跨音区问题。由于沙发椅等智能家具的使用场景是公共空间的多人场景，并且存在非用户声源夸音区问题，会导致从沙发椅的主音区采集的目标语音除了包括用户声音之外，还混合有紧挨着沙发椅的椅子上用户说话声，降低语音信号的清晰度和质量以及语音识别准确性。专利文献1，中国专利，公开号，CN111986678B，专利名称，一种多路语音识别的语音采集方法、装置，公开日，2023-12-29。发明内容本发明的目的在于提供一种智能家具控制器及控制方法， 能够根据用户的坐姿动态调整智能家具的响应音区的范围与用户的嘴部位置相匹配，得到以声源为中心的范围更小的响应音区，降低非用户声源进入响应音区的几率，从而获得更高质量的语音信号，提升语音识别准确性。为实现上述发明目的，提供一种智能家具控制方法，所述方法包括：检测到智能家具从待机状态切换至使用状态时，将预设的初始范围作为响应音区；当麦克风阵列采集到响应音区的第一笔语音信号时，将当前的用户坐姿标记为初始坐姿并计算第一笔语音信号的声源坐标；基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，将所述空间范围更新为初始坐姿对应的响应音区；检测到用户坐姿发生第一类改变时，基于第二音区修正算法计算最新用户坐姿对应的响应音区。作为进一步的改进，所述智能家具包括坐垫和靠背、部署在坐垫上的第一压力传感器阵列以及部署在靠背上的第二压力传感器阵列，所述初始坐姿为仅有坐垫平面上的第一压力传感器阵列被用户触发时的用户坐姿；所述基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，具体包括：根据以下的公式一计算出第一笔语音信号的声源坐标对应的空间范围：其中，为初始坐姿状态下，坐垫平面上的第一压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P0的坐标，r为重心点P0到第一笔语音信号的声源坐标的距离，θ为预设的人体摆动角度，0°≤θ≤45°。作为进一步的改进，用户坐姿发生第一类改变是指，用户坐姿改变前后仅有坐垫平面上的第一压力传感器阵列被用户触发；所述基于第二音区修正算法计算最新用户坐姿对应的响应音区，具体包括：获取最新坐姿状态下，坐垫平面上的第一压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P1的坐标；用P1减去P0，得到平移偏移量；将当前响应音区的所有坐标点加上平移偏移量，得到最新坐姿对应的响应音区的所有坐标点。作为进一步的改进，所述方法还包括：利用第三音区修正算法对公式一进行修正；修正后的公式一为：其中，d为通过实验预先测定的坐垫下沉深度；通过以下步骤确定坐垫下沉深度d:获取坐垫上的第一压力传感器阵列测得的压力值；根据所述压力值查表确定坐垫下沉深度d。作为进一步的改进，所述方法还包括：当第一压力传感器阵列中压力值最大的压力传感器的压力值与其他所有被触发的压力传感器的差值均大于预设压力差值时，以压力最大的压力传感器的坐标点作为该用户坐姿下，坐垫平面上的第一压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点的坐标。作为进一步的改进，所述智能家具包括坐垫和靠背、部署在坐垫上的第一压力传感器阵列以及部署在靠背上的第二压力传感器阵列，所述初始坐姿为坐垫平面上的第一压力传感器阵列和靠背上的第二压力传感器阵列二者同时被用户触发时的用户坐姿；所述基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，具体包括：根据以下的公式二计算出第一笔语音信号的声源坐标对应的空间范围：其中，为初始坐姿状态下，第一笔语音信号的声源坐标，R为预设的颈部摆动长度，8cm≤R≤12cm，A,B,C是与靠背所在平面垂直的法向量的三个分量，D 是将靠背所在平面的坐标带入后求得的常数。作为进一步的改进，所述方法还包括：检测到用户坐姿发生第二类改变时，基于第四音区修正算法计算最新用户坐姿对应的响应音区；其中，用户坐姿发生第二类改变是指，用户坐姿改变前后，靠背上的第二压力传感器阵列均被用户触发并且坐垫平面上的第一压力传感器阵列均被用户触发；所述基于第四音区修正算法计算最新用户坐姿对应的响应音区，具体包括：获取在用户坐姿改变前，靠背平面上的第二压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P2的坐标；获取在用户坐姿改变后，靠背平面上的第二压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P3的坐标；用P3减去P2，得到平移偏移量；将当前响应音区的所有坐标点加上平移偏移量，得到最新坐姿对应的响应音区的所有坐标点。作为进一步的改进，所述方法还包括：检测到用户坐姿发生第三类改变时，确定改变后最新的用户坐姿；第三类改变是指，用户坐姿改变前后，靠背上的第二压力传感器阵列分别处于被用户触发和不被用户触发的状态；如果最新的用户坐姿为仅有坐垫平面上的第一压力传感器阵列被用户触发时的用户坐姿，则基于第二音区修正算法计算最新用户坐姿对应的响应音区；如果最新的用户坐姿为坐垫平面上的第一压力传感器阵列和靠背上的第二压力传感器阵列二者同时被用户触发时的用户坐姿，则基于第四音区修正算法计算最新用户坐姿对应的响应音区。作为进一步的改进，所述方法还包括：检测到用户坐姿发生第四类改变时，基于第五音区修正算法计算最新用户坐姿对应的响应音区；其中，用户坐姿发生第四类改变是指，在靠背上的第二压力传感器阵列被用户触发的情况下，用户坐姿改变前后，靠背的倾斜角度发生变动；所述基于第五音区修正算法计算最新用户坐姿对应的响应音区，具体包括：基于靠背倾斜角度的变动，确定变动前后靠背所在平面的旋转矩阵；基于所述旋转矩阵将当前响应音区的所有坐标点转换得到最新坐姿对应的响应音区的所有坐标点；其中，所述旋转矩阵为：α为靠背倾斜角度的变动值，0°≤α≤60°。另一方面，本发明提供了一种智能家具控制器，包括存储器、处理器及存储在存储器上的计算机程序，所述处理器执行所述计算机程序以实现上述方法的步骤。有益效果：本发明提供的一种智能家具控制器及控制方法，能够根据用户的坐姿动态调整智能家具的响应音区的范围与用户的嘴部位置相匹配，得到以声源为中心的范围更小的响应音区，降低非用户声源进入响应音区的几率，从而获得更高质量的语音信号，提升语音识别准确性。附图说明下面结合附图和实施例对本发明进一步地说明；图1为一个实施例中提供的沙发椅的结构示意图。图2为实施例1中用户坐姿发生第一类改变的示意图。图3为实施例1中用户坐姿发生第一类改变之前，用户与沙发椅接触区域的示意图。图4为实施例1中用户坐姿发生第一类改变之后，用户与沙发椅接触区域的示意图。图5为实施例1中初始坐姿对应的响应音区的示意图。图6为实施例2中用户坐姿发生第二类改变的示意图。图7为实施例2中用户坐姿发生第二类改变之前，用户与沙发椅接触区域的示意图。图8为实施例2中用户坐姿发生第二类改变之后，用户与沙发椅接触区域的示意图。图9为实施例3中用户坐姿发生第三类改变的示意图。图10为实施例3中用户坐姿发生第三类改变之前，用户与沙发椅接触区域的示意图。图11为实施例3中用户坐姿发生第三类改变之后，用户与沙发椅接触区域的示意图。图12为实施例4中用户坐姿发生第三类改变的示意图。图13为实施例4中用户坐姿发生第三类改变之前，用户与沙发椅接触区域的示意图。图14为实施例4中用户坐姿发生第三类改变之后，用户与沙发椅接触区域的示意图。图15为实施例5中用户坐姿发生第四类改变的示意图。图16为一个实施例中提供的智能家具控制方法的流程示意图之一。图17为一个实施例中提供的智能家具控制方法的流程示意图之二。具体实施方式参照图1，本申请提供的智能家具控制方法适用于图1中的沙发椅，该沙发椅包括坐垫和靠背、部署在坐垫上的第一压力传感器阵列以及部署在靠背上的第二压力传感器阵列。如图1所示，坐垫所在平面为麦克风阵列标定的直角坐标系的xoy平面，即坐垫所在平面的z分量为0，靠背所在平面为yoz平面，即靠背所在平面的x分量为0，坐标系原点O在上述两个平面的交点位置，靠背能够绕y轴转动以调节靠背的角度。可以理解的是，通过麦克风阵列，可以选择空间中任意一个特定区域的声音进行接收，同时屏蔽其他区域。这主要是通过波束成形技术和声源定位技术实现的。具体实现步骤如下：声源定位：首先，需要确定目标声源的位置。这通常通过分析麦克风阵列捕捉到的声音信号来完成。利用到达不同麦克风的声音信号之间的时间差，可以估算出声源在空间中的位置。波束成形：一旦确定了声源的位置，就可以使用波束成形技术来“指向”这个特定区域。波束成形是一种信号处理技术，它通过调整麦克风阵列中每个麦克风的信号，使得来自特定方向的信号得到增强，而来自其他方向的信号被抑制。这种方法可以创建一个高度定向的感应区域，即“波束”。数字信号处理：波束成形通过数字信号处理算法实现。这些算法会计算如何调整麦克风阵列中每个麦克风的信号，以便聚焦于目标区域。这通常涉及信号的时间延迟、加权和相位调整。动态调整：在实际应用中，如果目标声源在空间中移动，系统可以动态调整波束的指向，以便持续聚焦在移动的声源上。以下结合附图和实施例介绍本申请对于现有技术作出的技术贡献。实施例1：如图16所示，本实施例提供了一种智能家具控制方法，所述方法包括：步骤S101，检测到智能家具从待机状态切换至使用状态时，将预设的初始范围作为响应音区。具体的，待机状态是指没有用户坐在沙发椅上的状态，使用状态是指有用户坐在沙发椅上的状态，状态的判断可以通过第一压力传感器阵列是否被触发来实现，例如第一压力传感器阵列中的一个或多个压力传感器存在读数，则认为处于使用状态，否则认为处于待机状态。如图1所示，初始范围是指靠背平面沿正x方向移动到坐垫x值较大的一侧时扫过的空间范围，靠背的高度设置为1m，在正常成年人用户挺直腰坐在沙发椅上时，用户的嘴巴会位于初始范围内。当用户坐在沙发椅上需要弯腰低头时，其嘴巴也会位于初始范围内。因此，将预设的初始范围作为响应音区，可以确保仅采集该初始范围内的语音信号作为语音识别模块的输入，以提升语音信号质量，提高语音识别准确性。步骤S102，当麦克风阵列采集到响应音区的第一笔语音信号时，将当前的用户坐姿标记为初始坐姿并计算第一笔语音信号的声源坐标。举例而已，用户在14：23坐在沙发椅上，所以在14：23检测到智能家具从待机状态切换至使用状态，此时的响应音区为预设的初始范围。在用户坐下2分钟后，即14：25的时候，用户通过嘴巴在响应音区内发出语音“小智小智，启动加热功能”，即第一笔语音信号，由于麦克风阵列仅对响应音区内的语音进行采集并发送给语音识别模块，因此可以提高语音信号质量和语音识别准确性。通过声源定位技术，可以计算出第一笔语音信号的声源，即嘴巴，在麦克风阵列标定的直角坐标系中的坐标，即声源坐标。步骤S103，基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，将所述空间范围更新为初始坐姿对应的响应音区。第一音区修正算法具体在以下的实施例1和实施例2中给出。通过采用第一音区修正算法可以调整响应音区的范围，能够根据用户的坐姿动态调整智能家具的响应音区的范围与用户的嘴部位置相匹配，得到以声源为中心的范围更小的响应音区，降低非用户声源进入响应音区的几率，从而获得更高质量的语音信号，提升语音识别准确性。步骤S104，检测到用户坐姿发生第一类改变时，基于第二音区修正算法计算最新用户坐姿对应的响应音区。可以理解的是，在已经响应音区从初始范围更新为与初始坐姿匹配的空间范围之后，后续一旦检测到用户坐姿发生改变就会立即动态地修正响应音区的范围，以保证用户在动态使用沙发椅过程中可以持续保持语音信号质量，从而提高语音识别准确性。如图2所示，用户不接触靠背坐在沙发椅上的姿势定义为第一姿态，此时，仅有坐垫平面上的第一压力传感器阵列被用户触发时的用户坐姿。本实施例中，初始坐姿为第一姿态。本实施例中，所述基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，具体包括：根据以下的公式一计算出第一笔语音信号的声源坐标对应的空间范围：其中，为初始坐姿状态下，坐垫平面上的第一压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P0的坐标，r为重心点P0到第一笔语音信号的声源坐标的距离，θ为预设的人体摆动角度，0°≤θ≤45°。如图3所示，初始坐姿时，沙发椅上靠近x轴，被虚线方框围起来的4个压力传感器被用户接触并施加压力，将被接触的4个压力传感器用图3中的实线连接成一个四边形，其重心点为P0。需要说明的是，各压力传感器在麦克风阵列标定的坐标系中的坐标都是已经在出厂前标定好的并写入到存储设备中，可以随时读取得到。如图5所示，第一笔语音信号的声源坐标为Q，m所表示的虚线为坐垫平面，即xoy平面，S1用于在图5中表示被用户触发的压力传感器组成的几何图形的重心点的坐标。可知，Q到S1的距离就是用户臀部与坐垫接触位置到嘴巴的距离，一般地，当用户坐姿不变坐在沙发上时，用户可能会做出弯腰、低头或转头等动作，这些动作会导致用户嘴巴，即发出声音的声源位置发生改变，因此通过公式一在将响应音区从初始范围缩小的同时，还留有符合人体上半身活动余量，无需频繁修改响应音区。如图5所示，通过公式一将响应音区的范围从初始范围对应的六面体缩小到一个类似圆锥体的范围，提升了语音信号质量的同时，无需频繁修改响应音区。本实施例中，图3中这4个压力传感器有读数的状态用于表示初始坐姿。例如沙发椅上的压力传感器表示用户坐姿时，可以利用压力传感器是否有读数来构造用户坐姿的数据结构，已知第一压力传感器阵列有12个压力传感器，第二压力传感器阵列有16个压力传感器，对各压力传感器编号，得到由两个二进制数组表示的用户坐姿数据，M1=,M2=，该数据表示当前用户坐姿下，第一压力传感器阵列中编号为2、3、4、5的压力传感器有读取，第二压力传感器阵列未被触发。如图4所示其用户坐姿数据为M1=,M2=，该数据表示当前用户坐姿下，第一压力传感器阵列中编号为4、5、8、9的压力传感器有读取，第二压力传感器阵列未被触发。显然图3和图4都属于第一姿态，在都属于第一姿态情形，发生的用户坐姿的改变称之为第一类改变。具体的，用户坐姿发生第一类改变是指，用户坐姿改变前后仅有坐垫平面上的第一压力传感器阵列被用户触发。所述基于第二音区修正算法计算最新用户坐姿对应的响应音区，具体包括：步骤S201，获取最新坐姿状态下，坐垫平面上的第一压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P1的坐标。图3为用户坐姿发生第一类改变前的示意图，图4为用户坐姿发生第一类改变后的示意图，可知，用户坐姿发生第一类改变前后都维持第一姿态，但是用户的臀部在坐垫平面上挪动了位置，通过用户坐姿数据可以判断出用户坐姿发生了改变。已知各传感器的坐标，根据求几何图形重心的方法可以容易求出P0和p1，此处不再赘述。步骤S202，用P1减去P0，得到平移偏移量；步骤S203，将当前响应音区的所有坐标点加上平移偏移量，得到最新坐姿对应的响应音区的所有坐标点。可以理解的是，在步骤S201至步骤S203中，无需在用户坐姿发生第一类改变后重新使用公式一求出最新坐姿对应的响应音区的所有坐标点，而是直接利用平移偏移量与发生第一类改变前的响应音区进行简单加和运算即可，降低了更新响应音区的运算量，节省了计算机资源。进一步的，所述方法还包括：利用第三音区修正算法对公式一进行修正；修正后的公式一为：其中，d为通过实验预先测定的坐垫下沉深度；通过以下步骤确定坐垫下沉深度d:获取坐垫上的第一压力传感器阵列测得的压力值；根据所述压力值查表确定坐垫下沉深度d。如图5所示，m表示的虚线为待机状态下的坐垫平面，即x0y平面，而n表示的虚线为使用状态下的坐垫平面，可以看到，n平面的z分量要小于m平面的z分量，意味着用户坐下时使得坐垫平面发生下沉，而公式一中是以坐垫平面不下沉来进行理想状态计算，所以考虑到下沉因素，需要采用修正后的公式一。而下沉的深度d可以通过查表确定，下沉的深度不仅与用户体重有关，还与沙发材质有关，所以厂商在出厂前会预先对不同型号的沙发都通过实验预先测定了不同压力值下的下沉深度，用于修正公式一，从而提升划分响应音区的精度。在一个实施例中，所述方法还包括：当第一压力传感器阵列中压力值最大的压力传感器的压力值与其他所有被触发的压力传感器的差值均大于预设压力差值时，以压力最大的压力传感器的坐标点作为该用户坐姿下，坐垫平面上的第一压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点的坐标。可以理解的是，如图5所示，假设在第一姿态下，坐垫有4个压力传感器被触发，并且图5中S1表示其中一个压力传感器，其值最大并且与其他所有别触发的压力传感器的差值均大于预设压力差值，则直接以S1作为重心点。其原因是，当用户头部位于身体正中间时，由于臀部构造是两边突出中间凹陷，所以一般都是两瓣臀部共同承受差不多大小的体重，所以坐垫上的压力传感器一般会有两组传感器的读数是差不多的，此时头部一般位于两瓣臀部中间，需要根据几何图像重心来确定人体摆动的球心，即重心点坐标。而当人体倾斜身体使得头部偏向于某一侧时，就会导致人体的重量主要有某一侧臀部支撑，意味此时头部正好位于某一瓣臀部的正上方，所以可以直接将与其他所有别触发的压力传感器的差值均大于预设压力差值的压力传感器S1的坐标作为人体摆动的球心，即将S1直接作为重心点坐标带入到公式一中，获得更加精确的响应音区划分效果。实施例2在本实施例中，用户接触靠背坐在沙发椅上的姿势定义为第二姿态，此时，坐垫平面上的第一压力传感器阵列和靠背上的第二压力传感器阵列二者同时被用户触发时的用户坐姿。本实施例中，初始坐姿为第二姿态。所述基于第一音区修正算法计算第一笔语音信号的声源坐标对应的空间范围，具体包括：根据以下的公式二计算出第一笔语音信号的声源坐标对应的空间范围：其中，为初始坐姿状态下，第一笔语音信号的声源坐标，R为预设的颈部摆动长度，8cm≤R≤12cm，A,B,C是与靠背所在平面垂直的法向量的三个分量，D 是将靠背所在平面的坐标带入后求得的常数。不同于实施例1中，以臀部为人体摆动的中心点，通过公式一求出供人体在不改变用户坐姿情况下允许用户弯腰、低头活动的类圆锥体范围作为响应音区。本实施例中，当用户背包接触靠背并且背部不离开靠背的情况下，设置音区应该主要考虑头部的活动范围，而非实施例1中考虑的腰部的活动范围。因此，本实施例中，如公式二求出的响应音区的范围是以嘴巴为球心，以颈部摆动长度为半径，先求出球体，然后通过A,B,C是与靠背所在平面垂直的法向量的三个分量，限定了靠背平面的平面方程，同时限定只将球体与靠背正面相交的位置作为响应音区，因为在靠背背面的范围不在沙发内，是需要排除的范围。可以理解的是，在不调节靠背倾斜角度情况下，靠背平面为yoz平面，法向量为，即A=1,B=0,C=0。并且将靠背平面上一个坐标带入该平面方程就可以求出D。本实施例中，通过公式二设置的响应音区范围相较于初始范围缩小了范围，提升了语音信号质量，同时还可以在不改变用户坐姿情况下，留有给头部活动的余量，无需频繁修改响应音区范围，降低对计算机资源的开销。进一步的，所述方法还包括：检测到用户坐姿发生第二类改变时，基于第四音区修正算法计算最新用户坐姿对应的响应音区；其中，用户坐姿发生第二类改变是指，用户坐姿改变前后，靠背上的第二压力传感器阵列均被用户触发并且坐垫平面上的第一压力传感器阵列均被用户触发。所述基于第四音区修正算法计算最新用户坐姿对应的响应音区，具体包括：步骤S301，获取在用户坐姿改变前，靠背平面上的第二压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P2的坐标。参照图7，在用户坐姿发生第二类改变之前，此时用户坐姿数据为M1=,M2=。步骤S302，获取在用户坐姿改变后，靠背平面上的第二压力传感器阵列中被用户触发的压力传感器组成的几何图形的重心点P3的坐标。参照图8在用户坐在发生第二改变之后，此时用户坐姿数据为M1=,M2=。步骤S303，用P3减去P2，得到平移偏移量。步骤S304，将当前响应音区的所有坐标点加上平移偏移量，得到最新坐姿对应的响应音区的所有坐标点。图7为用户坐姿发生第二类改变前的示意图，图8为用户坐姿发生第二类改变后的示意图，可知，用户坐姿发生第二类改变前后都维持第二姿态，但是用户的背部在靠背平面上挪动了位置，通过用户坐姿数据可以判断出用户坐姿发生了改变。已知各传感器的坐标，根据求几何图形重心的方法可以容易求出P2和p3，此处不再赘述。可以理解的是，在步骤S301至步骤S304中，无需在用户坐姿发生第二类改变后重新使用公式二求出最新坐姿对应的响应音区的所有坐标点，而是直接利用平移偏移量与发生第二类改变前的响应音区进行简单加和运算即可，降低了更新响应音区的运算量，节省了计算机资源。在一个实施例中，所述方法还包括：检测到用户坐姿发生第三类改变时，确定改变后最新的用户坐姿；第三类改变是指，用户坐姿改变前后，靠背上的第二压力传感器阵列分别处于被用户触发和不被用户触发的状态。即用户的坐姿在第一姿态和第二姿态直接切换的变化。如果最新的用户坐姿为仅有坐垫平面上的第一压力传感器阵列被用户触发时的用户坐姿，则基于第二音区修正算法计算最新用户坐姿对应的响应音区；如果最新的用户坐姿为坐垫平面上的第一压力传感器阵列和靠背上的第二压力传感器阵列二者同时被用户触发时的用户坐姿，则基于第四音区修正算法计算最新用户坐姿对应的响应音区。具体的，实施例3中，如图9所示，用户从第一姿态切换为第二姿态，即发生了第三类改变。具体的，可以根据用户坐姿数据来判断发生了第三类改变。参照图10，在用户坐姿发生第三类改变之前，此时用户坐姿数据为M1=,M2=。参照图11在用户坐在发生第三改变之后，此时用户坐姿数据为M1=,M2=。根据实施例1和2可知，已经分别得到该用户在第一姿态或者第二姿态下的响应音区范围了，所以可以直接使用步骤S201至S203或步骤S301至S304来计算最新用户坐姿对应的响应音区，以节省计算机开销。具体的，实施例4中，如图12所示，用户从第二姿态切换为第一姿态，即发生了第三类改变。具体的，可以根据用户坐姿数据来判断发生了第三类改变。参照图13，在用户坐姿发生第三类改变之前，此时用户坐姿数据为M1=,M2=。参照图14在用户坐在发生第三改变之后，此时用户坐姿数据为M1=,M2=。根据实施例1和2可知，已经分别得到该用户在第一姿态或者第二姿态下的响应音区范围了，所以可以直接使用步骤S201至S203或步骤S301至S304来计算最新用户坐姿对应的响应音区，以节省计算机开销。实施例5如图15所示，在本实施例中，所述方法还包括：检测到用户坐姿发生第四类改变时，基于第五音区修正算法计算最新用户坐姿对应的响应音区；其中，用户坐姿发生第四类改变是指，在靠背上的第二压力传感器阵列被用户触发的情况下，用户坐姿改变前后，靠背的倾斜角度发生变动；所述基于第五音区修正算法计算最新用户坐姿对应的响应音区，具体包括：基于靠背倾斜角度的变动，确定变动前后靠背所在平面的旋转矩阵；基于所述旋转矩阵将当前响应音区的所有坐标点转换得到最新坐姿对应的响应音区的所有坐标点；其中，所述旋转矩阵为：α为靠背倾斜角度的变动值，0°≤α≤60°。可以理解的是，用户躺在沙发靠背之后，不再挪动背包或者臀部的情况下，随着靠背倾斜角度的变动，用户的嘴巴位置也会发生改变，因此在靠背倾斜角度发生变动时，也需要修正响应音区的位置。具体的，本实施例中，靠背绕在y轴转动了α角，此时可以采用平面绕y轴旋转的旋转矩阵来计算倾斜角度变动前后的映射关系，加快对于第四类变动的音区修正过程。举例而言，用户背靠在靠背上属于第二姿态，已经在实施例2中得到了对应的响应音区，如果靠背转动了α角，则可以使用旋转矩阵直接对实施例2中得到的响应音区的所有坐标进行变换，就可以转换出调节倾角后的响应音区。例如，α=30度，点P绕Y轴旋转30度后的新坐标大约是。综上，如图17所示，用户坐姿变化分为四种类型，每种类型的变换会采用相应的音区修正算法来动态修正响应音区的范围，即上述的5中实施例，以获得高质量的语音信号，从而提高语音识别准确性。另一方面，本发明提供了一种智能家具控制器，包括存储器、处理器及存储在存储器上的计算机程序，所述处理器执行所述计算机程序以实现上述方法的步骤。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一非易失性计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。
