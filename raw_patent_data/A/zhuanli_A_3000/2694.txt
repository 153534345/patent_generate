标题title
性格识别模型的训练方法、性格识别方法、装置及系统
摘要abst
本发明公开了性格识别模型的训练方法、性格识别方法、装置及系统，方法包括：获取具有性格色彩标注信息的训练数据，训练数据包括音频训练数据以及文本训练数据；将训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，双模态性格识别模型包括文本特征提取模型和语音特征提取模型；根据模型输出结果与训练数据的性格色彩标注信息，获得损失函数值；根据损失函数值更新双模态性格识别模型的模型参数，直到双模态性格识别模型满足预设收敛条件。通过融合了语音和文本的双模态信息对性格识别模型进行训练，使得训练完成的模型能充分利用客户的语音和文本信息实现准确高效的性格色彩识别，提高了性格色彩识别的覆盖率。
权利要求书clms
1.一种性格识别模型的训练方法，其特征在于，包括：获取具有性格色彩标注信息的训练数据，所述训练数据包括音频训练数据以及与所述音频训练数据对应的文本训练数据；将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，所述双模态性格识别模型包括文本特征提取模型和语音特征提取模型；根据所述模型输出结果与所述训练数据的性格色彩标注信息，获得损失函数值；根据所述损失函数值更新所述双模态性格识别模型的模型参数，直到所述双模态性格识别模型满足预设收敛条件则完成模型训练；所述根据所述损失函数值更新所述双模态性格识别模型的模型参数，具体包括：在当前训练周期小于等于周期阈值时，不更新所述文本特征提取模型和所述语音特征提取模型的参数；直到当前训练周期大于周期阈值时同步更新所述文本特征提取模型和所述语音特征提取模型的参数。2.根据权利要求1所述的性格识别模型的训练方法，其特征在于，所述获取具有性格色彩标注信息的训练数据之前，所述方法还包括：从预设业务数据库中采集存量录音数据并构建数据集，所述数据集包括训练数据、验证数据和测试数据。3.根据权利要求2所述的性格识别模型的训练方法，其特征在于，所述从预设业务数据库中采集存量录音数据并构建数据集，包括：从预设业务数据库中获取用户的存量录音；对所述存量录音进行语音文本转换，得到对应的录音文本；根据所述录音文本的时间戳，对所述存量录音进行音频切分并对所述录音文本进行文本分割，得到若干个音频片段以及文本片段；接收对每条音频片段以及文本片段的性格色彩标注信息，构建得到数据集；将所述数据集按预设比例划分为训练数据、验证数据和测试数据。4.根据权利要求3所述的性格识别模型的训练方法，其特征在于，所述根据所述录音文本的时间戳，对所述存量录音进行音频切分并对所述录音文本进行文本分割，得到若干个音频片段以及文本片段之前，所述方法还包括：根据所述存量录音的声道信息，提取指定声道的用户音频数据。5.根据权利要求3所述的性格识别模型的训练方法，其特征在于，所述接收对每条音频片段以及文本片段的性格色彩标注信息，构建得到数据集之前，所述方法还包括：对文本长度小于预设长度的文本片段进行过滤。6.根据权利要求1所述的性格识别模型的训练方法，其特征在于，所述将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果之前，所述方法还包括：将所述文本训练数据输入至文本预训练模型中进行周期性的训练，直到完成预设周期训练后得到所述文本特征提取模型。7.根据权利要求1所述的性格识别模型的训练方法，其特征在于，所述将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果之前，所述方法还包括：将所述音频训练数据输入至语音预训练模型中进行周期性的训练，直到完成预设周期训练后得到所述语音特征提取模型。8.根据权利要求1所述的性格识别模型的训练方法，其特征在于，所述将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，包括：将所述音频训练数据输入至语音特征提取模型中，提取得到语音表征张量；将所述文本训练数据输入至文本特征提取模型中，提取得到文本表征张量；将所述语音表征张量与所述文本表征张量连接后输入至全连接层中进行分类，输出不同性格色彩的概率分布。9.一种性格识别方法，其特征在于，包括：将待识别数据输入至预先完成训练的双模态性格识别模型中进行性格色彩识别，所述待识别数据包括待识别音频数据和对应的待识别文本数据；输出所述待识别数据的性格色彩识别结果；其中，所述预先完成训练的双模态性格识别模型为采用如权利要求1-8任意一项所述的训练方法得到的双模态性格识别模型。10.根据权利要求9所述的性格识别方法，其特征在于，当所述待识别音频数据为单句音频时，所述输出所述待识别数据的性格色彩识别结果，包括：获取所述双模态性格识别模型输出的不同性格色彩的概率分布；将概率最高的性格色彩作为所述单句音频的性格色彩识别结果。11.根据权利要求9所述的性格识别方法，其特征在于，当所述待识别音频数据为音频集合时，所述输出所述待识别数据的性格色彩识别结果，包括：获取所述双模态性格识别模型对所述音频集合中每条音频输出的不同性格色彩的概率分布；统计得到各个性格色彩的概率之和，将概率之和最高的性格色彩作为所述音频集合的性格色彩识别结果。12.一种性格识别模型的训练装置，其特征在于，包括：数据获取模块，用于获取具有性格色彩标注信息的训练数据，所述训练数据包括音频训练数据以及与所述音频训练数据对应的文本训练数据；训练输入模块，用于将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，所述双模态性格识别模型包括文本特征提取模型和语音特征提取模型；损失计算模块，用于根据所述模型输出结果与所述训练数据的性格色彩标注信息，获得损失函数值；训练更新模块，用于根据所述损失函数值更新所述双模态性格识别模型的模型参数，直到所述双模态性格识别模型满足预设收敛条件则完成模型训练；所述训练更新模块具体用于：在当前训练周期小于等于周期阈值时，不更新所述文本特征提取模型和所述语音特征提取模型的参数；直到当前训练周期大于周期阈值时同步更新所述文本特征提取模型和所述语音特征提取模型的参数。13.一种性格识别装置，其特征在于，包括：输入模块，用于将待识别数据输入至预先完成训练的双模态性格识别模型中进行性格色彩识别，所述待识别数据包括待识别音频数据和对应的待识别文本数据；输出模块，用于输出所述待识别数据的性格色彩识别结果；其中，所述预先完成训练的双模态性格识别模型为采用如权利要求1-8任意一项所述的训练方法得到的双模态性格识别模型。14.一种性格识别模型的训练系统，其特征在于，所述系统包括至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行权利要求1-8任一项所述的性格识别模型的训练方法。15.一种非易失性计算机可读存储介质，其特征在于，所述非易失性计算机可读存储介质存储有计算机可执行指令，该计算机可执行指令被一个或多个处理器执行时，可使得所述一个或多个处理器执行权利要求1-8任一项所述的性格识别模型的训练方法。
说明书desc
技术领域本发明涉及人工智能技术领域，尤其涉及性格识别模型的训练方法、性格识别方法、装置及系统。背景技术在金融行业的业务实践中表明，基于心理学的沟通优选策略，即针对不同性格的客户智能化地选择相应的沟通内容进行服务，对业务提升具有显著效果，目前FPA性格色彩体系是较为常用的性格分类体系，将人们的性格特点分为红色、蓝色、黄色、绿色四种不同的类型，因此如何智能识别客户的性格色彩是沟通优选策略中重要的一环。现有的客户性格色彩识别方式，通常依靠人为判断，例如通过有经验的工作人员来人工挖掘标记客户性格色彩，人工判断效率低且存在主观性可能影响判断准确性，同时由于有经验的专家数量有限，能够挖掘的客户也十分有限，使得难以实现高效客观且覆盖率高的性格色彩识别。发明内容鉴于上述现有技术的不足，本发明的目的在于提供可应用于金融科技或其它相关领域的性格识别模型的训练方法、性格识别方法、装置及系统，旨在提高性格色彩识别的准确率与覆盖率。本发明的技术方案如下：一种性格识别模型的训练方法，包括：获取具有性格色彩标注信息的训练数据，所述训练数据包括音频训练数据以及与所述音频训练数据对应的文本训练数据；将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，所述双模态性格识别模型包括文本特征提取模型和语音特征提取模型；根据所述模型输出结果与所述训练数据的性格色彩标注信息，获得损失函数值；根据所述损失函数值更新所述双模态性格识别模型的模型参数，直到所述双模态性格识别模型满足预设收敛条件则完成模型训练。在一个实施例中，所述获取具有性格色彩标注信息的训练数据之前，所述方法还包括：从预设业务数据库中采集存量录音数据并构建数据集，所述数据集包括训练数据、验证数据和测试数据。在一个实施例中，所述从预设业务数据库中采集存量录音数据并构建数据集，包括：从预设业务数据库中获取用户的存量录音；对所述存量录音进行语音文本转换，得到对应的录音文本；根据所述录音文本的时间戳，对所述存量录音进行音频切分并对所述录音文本进行文本分割，得到若干个音频片段以及文本片段；接收对每条音频片段以及文本片段的性格色彩标注信息，构建得到数据集；将所述数据集按预设比例划分为训练数据、验证数据和测试数据。在一个实施例中，所述根据所述录音文本的时间戳，对所述存量录音进行音频切分并对所述录音文本进行文本分割，得到若干个音频片段以及文本片段之前，所述方法还包括：根据所述存量录音的声道信息，提取指定声道的用户音频数据。在一个实施例中，所述接收对每条音频片段以及文本片段的性格色彩标注信息，构建得到数据集之前，所述方法还包括：对文本长度小于预设长度的文本片段进行过滤。在一个实施例中，所述将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果之前，所述方法还包括：将所述文本训练数据输入至文本预训练模型中进行周期性的训练，直到完成预设周期训练后得到所述文本特征提取模型。在一个实施例中，所述将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果之前，所述方法还包括：将所述音频训练数据输入至语音预训练模型中进行周期性的训练，直到完成预设周期训练后得到所述语音特征提取模型。在一个实施例中，所述将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，包括：将所述音频训练数据输入至语音特征提取模型中，提取得到语音表征张量；将所述文本训练数据输入至文本特征提取模型中，提取得到文本表征张量；将所述语音表征张量与所述文本表征张量连接后输入至全连接层中进行分类，输出不同性格色彩的概率分布。在一个实施例中，所述根据所述损失函数值更新所述双模态性格识别模型的模型参数，具体包括：在当前训练周期小于等于周期阈值时，不更新所述文本特征提取模型和所述语音特征提取模型的参数；直到当前训练周期大于周期阈值时同步更新所述文本特征提取模型和所述语音特征提取模型的参数。一种性格识别方法，包括：将待识别数据输入至预先完成训练的双模态性格识别模型中进行性格色彩识别，所述待识别数据包括待识别音频数据和对应的待识别文本数据；输出所述待识别数据的性格色彩识别结果；其中，所述预先完成训练的双模态性格识别模型为采用如上所述的训练方法得到的双模态性格识别模型。在一个实施例中，当所述待识别音频数据为单句音频时，所述输出所述待识别数据的性格色彩识别结果，包括：获取所述双模态性格识别模型输出的不同性格色彩的概率分布；将概率最高的性格色彩作为所述单句音频的性格色彩识别结果。在一个实施例中，当所述待识别音频数据为音频集合时，所述输出所述待识别数据的性格色彩识别结果，包括：获取所述双模态性格识别模型对所述音频集合中每条音频输出的不同性格色彩的概率分布；统计得到各个性格色彩的概率之和，将概率之和最高的性格色彩作为所述音频集合的性格色彩识别结果。一种性格识别模型的训练装置，包括：数据获取模块，用于获取具有性格色彩标注信息的训练数据，所述训练数据包括音频训练数据以及与所述音频训练数据对应的文本训练数据；训练输入模块，用于将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，所述双模态性格识别模型包括文本特征提取模型和语音特征提取模型；损失计算模块，用于根据所述模型输出结果与所述训练数据的性格色彩标注信息，获得损失函数值；训练更新模块，用于根据所述损失函数值更新所述双模态性格识别模型的模型参数，直到所述双模态性格识别模型满足预设收敛条件则完成模型训练。一种性格识别装置，包括：输入模块，用于将待识别数据输入至预先完成训练的双模态性格识别模型中进行性格色彩识别，所述待识别数据包括待识别音频数据和对应的待识别文本数据；输出模块，用于输出所述待识别数据的性格色彩识别结果；其中，所述预先完成训练的双模态性格识别模型为采用如上所述的训练方法得到的双模态性格识别模型。一种性格识别模型的训练系统，所述系统包括至少一个处理器；以及，与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器能够执行上述性格识别模型的训练方法。一种非易失性计算机可读存储介质，所述非易失性计算机可读存储介质存储有计算机可执行指令，该计算机可执行指令被一个或多个处理器执行时，可使得所述一个或多个处理器执行上述的性格识别模型的训练方法。有益效果：本发明公开了性格识别模型的训练方法、性格识别方法、装置及系统，相比于现有技术，本发明实施例通过融合了语音和文本的双模态信息对性格识别模型进行训练，使得训练完成的模型能充分利用客户的语音和文本信息实现准确高效的性格色彩识别，提高了性格色彩识别的覆盖率。附图说明下面将结合附图及实施例对本发明作进一步说明，附图中：图1为本发明实施例提供的性格识别模型的训练方法的一个流程图；图2为本发明实施例提供的性格识别模型的训练方法的另一个流程图；图3为本发明实施例提供的性格识别模型的训练方法中步骤S500的一个流程图；图4为本发明实施例提供的性格识别模型的训练方法的另一个流程图；图5为本发明实施例提供的性格识别模型的训练方法的另一个流程图；图6为本发明实施例提供的性格识别模型的训练方法中步骤S200的一个流程图；图7为本发明实施例提供的性格识别模型的训练方法中双模态性格识别模型的架构图；图8为本发明实施例提供的性格识别方法的一个流程图；图9为本发明实施例提供的性格识别方法中步骤S900的一个流程图；图10为本发明实施例提供的性格识别方法中步骤S900的另一个流程图；图11为本发明实施例提供的性格识别模型的训练装置的功能模块示意图；图12为本发明实施例提供的性格识别装置的功能模块示意图；图13为本发明实施例提供的性格识别模型的训练系统的硬件结构示意图。具体实施方式为使本发明的目的、技术方案及效果更加清楚、明确，以下对本发明进一步详细说明。应当理解，此处所描述的具体实施例仅仅用以解释本发明，并不用于限定本发明。以下结合附图对本发明实施例进行介绍。请参阅图1，图1为本发明提供的性格识别模型的训练方法一个实施例的流程图。如图1所示，该方法具体包括如下步骤：S100、获取具有性格色彩标注信息的训练数据，所述训练数据包括音频训练数据以及与所述音频训练数据对应的文本训练数据。本实施例中，通过获取具有性格色彩标注信息的训练数据来实现准确的模型训练，并且该训练数据包括了音频训练数据以及与其对应的文本训练数据，充分利用用户的声学特征及其说话内容的语义特征来实现双重模态的模型训练，提高模型准确性。在一个实施例中，请参阅图2，其为本发明实施例提供的性格识别模型的训练方法的另一个流程图，如图2所示，步骤S100之前，方法还包括：S500、从预设业务数据库中采集存量录音数据并构建数据集，所述数据集包括训练数据、验证数据和测试数据。本实施例中，在获取训练数据进行模型训练之前，需先构建模型训练与效果验证的数据集，具体是从预设业务数据库中采集存量录音数据，以构建包括训练数据、验证数据和测试数据的数据集，即数据集的构建与业务系统高度关联，将历史留存的与用户之间沟通的录音数据作为样本，进行相应处理后生成可用于模型训练、验证以及效果测试的数据集。在一个实施例中，请参阅图3，其为本发明实施例提供的性格识别模型的训练方法中步骤S500的流程图，如图3所示，步骤S500包括：S501、从预设业务数据库中获取用户的存量录音；S502、对所述存量录音进行语音文本转换，得到对应的录音文本；S503、根据所述录音文本的时间戳，对所述存量录音进行音频切分并对所述录音文本进行文本分割，得到若干个音频片段以及文本片段；S504、接收对每条音频片段以及文本片段的性格色彩标注信息，构建得到数据集；S505、将所述数据集按预设比例划分为训练数据、验证数据和测试数据。本实施例中，对接业务系统，从预设业务数据库中获取需要进行性格色彩标注的用户的存量录音，例如获取存量录音1500通，录音平均时长5分钟，音频8000采样率的双声道wav文件，之后通过ASR对存量录音进行语音到文本的转换，得到与存量录音对应的录音文本。之后基于转换时记录的录音文本的时间戳，将连续的长段存量录音切分为多个音频片段，同时将录音文本也同步分割为多个文本片段，每个音频片段即对应了一个文本片段，例如某个用户在通话中的一句连续的句子，优选地，在进行录音以及文本的切分时，可以按说话人不同来进行相应的切分处理，进而得到以下所示的具有说话人标识的结构化数据，使得后续在进行性格色彩标注时可进一步根据说话人在业务系统中留存的其它信息进行辅助判断。针对切分后的音频片段以及文本片段，进行性格色彩的标注，接收对每条音频片段以及文本片段的性格色彩标注信息，具体可以通过工作人员手动录入的性格色彩标注信息，性格色彩的标注同时考量说话人音频的语气、语调，以及说话文本的内容，标注的标签分别为黄色、红色、蓝色、绿色以及不确定，形成如表1所示的标签数据。表1在标注完成后，则过滤掉性格色彩标签为不确定的数据，生成具有明确性格色彩标签内容的数据集，按预设比例将数据集中的全部数据划分为训练数据、验证数据和测试数据，例如80%训练数据、10%验证数据以及10%测试数据。其中训练数据用于模型训练以调整模型参数，验证数据用于优化模型的超参数，例如学习率等在训练开始前手动设置的参数，测试数据则用于测试模型性能，确保得到最优性能的模型训练结果。在一个实施例中，步骤S503之前，方法还包括：根据所述存量录音的声道信息，提取指定声道的用户音频数据。本实施例中，由于获取到的存量录音为左右双声道数据，因此可通过声道的不同来区分不同声道对应的人声角色，例如在金融科技相关场景中，存量录音通常包括用户与客服之间的对话，客服的语气与说话内容通常时经过训练的标准化服务流程，对模型训练效果有限，因此本实施例中仅针对用户音频数据进行提取，客服音频数据则被过滤，不进行后续的处理，对应的录音文本同理，仅针对与用户音频数据相对应的文本进行后续的文本分割处理，以节约数据处理量，提高模型训练效率。在一个实施例中，步骤S504之前，方法还包括：对文本长度小于预设长度的文本片段进行过滤。本实施例中，针对过短的句子，例如文本长度小于10的文本片段，由于其中包含的说话人的性格信息有限，难以做出正确的性格色彩判断，因此对其进行过滤处理，提高数据集的构建效率。S200、将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，所述双模态性格识别模型包括文本特征提取模型和语音特征提取模型。本实施例中，在构建得到了包括音频数据以及文本数据在内的训练数据后，则将训练数据输入值预先构建的双模态性格识别模型中，以获得模型输出结果，该双模态性格识别模型包括文本特征提取模型和语音特征提取模型，分别对输入的训练数据进行文本特征提取以及语音特征提取，通过双模态的特征提取以对用户性格色彩进行准确识别分类。在一个实施例中，请参阅图4，其为本发明实施例提供的性格识别模型的训练方法的另一个流程图，如图4所示，步骤S300之前，方法还包括：S600、将所述文本训练数据输入至文本预训练模型中进行周期性的训练，直到完成预设周期训练后得到所述文本特征提取模型。本实施例中，在对双模态性格识别模型进行训练之前，先通过训练数据中的文本训练数据进行业务场景的文本预训练，即通过文本训练数据对文本预训练模型在业务数据上的适应性的预训练，具体地，初始的文本预训练模型可采用开源的中文文本预训练模型chinese-bert-wwm，损失函数与chinese-bert-wwm模型保持一致，采用Adam优化器且学习率为0.00001，通过训练数据中的文本信息对chinese-bert-wwm模型继续训练预设周期，例如60代训练即60epochs，从而得到进行了针对性业务场景数据预训练后的文本特征提取模型，使得文本特征提取模型能更好地适应训练数据来源的业务系统所对应的场景，降低文本特征提取的误差。在一个实施例中，请参阅图5，其为本发明实施例提供的性格识别模型的训练方法的另一个流程图，如图5所示，步骤S300之前，方法还包括：S700、将所述音频训练数据输入至语音预训练模型中进行周期性的训练，直到完成预设周期训练后得到所述语音特征提取模型。本实施例中，类似的，在对双模态性格识别模型进行训练之前，先通过训练数据中的音频训练数据进行业务场景的语音预训练，即通过音频训练数据对语音预训练模型在业务数据上的适应性的预训练，具体地，初始的语音预训练模型可采用开源的中文语音预训练模型chinese-hubert-large，损失函数与chinese-hubert-large模型保持一致，采用Adam优化器且学习率为0.00001，通过训练数据中的语音信息对chinese-hubert-large模型继续训练预设周期，例如60代训练即60epochs，从而得到进行了针对性业务场景数据预训练后的语音特征提取模型，使得语音特征提取模型能更好地适应训练数据来源的业务系统所对应的场景，提高语音特征提取的准确性。在一个实施例中，请参阅图6，其为本发明实施例提供的性格识别模型的训练方法中步骤S200的流程图，如图6所示，步骤S200包括：S201、将所述音频训练数据输入至语音特征提取模型中，提取得到语音表征张量；S202、将所述文本训练数据输入至文本特征提取模型中，提取得到文本表征张量；S203、将所述语音表征张量与所述文本表征张量连接后输入至全连接层中进行分类，输出不同性格色彩的概率分布。本实施例中，双模态性格识别模型具体采用如图7所示的模型架构，将训练输入值模型中时，其中的音频训练数据通过语音特征提取模型进行特征提取，得到语音表征张量，以24个Transformer block为例，则将输出24个的语音表征张量，其中每个张量对应一个Transformer block的输出，然后对这24个张量进行加权平均，最后再对张量在时间序列维度进行平均池化，转换成一个维度为1x1024的语音表征张量；而其中的文本训练数据则通过文本特征提取模块进行特征提取，直接得到 标记的1x1024文本表征张量，将两个模型分别输出语音表征张量与文本表征张量连接成一个1x2048的张量，之后输入至全连接层中进行分类，进而输出不同性格色彩的概率分布，得到双模态性格识别模型的模型输出结果。S300、根据所述模型输出结果与所述训练数据的性格色彩标注信息，获得损失函数值。本实施例中，在进行模型训练时，需通过损失函数来评价当前模型输出结果的误差大小，因此根据模型数据结果以及预先标注的性格色彩标注信息计算得到算函数值，具体模型的损失函数采用四分类的交叉信息熵，通过得到的损失函数值进行后续的模型参数调整以实现模型训练过程。S400、根据所述损失函数值更新所述双模态性格识别模型的模型参数，直到所述双模态性格识别模型满足预设收敛条件则完成模型训练。本实施例中，基于损失函数值反向传播更新双模态性格识别模型的模型参数，使得模型最终达到收敛状态则确认完成模型训练，具体的预设收敛条件可以时损失函数值小于预设值，或者也可以时训练次数大于预设次数等等。优选地，在模型训练时可采用Adam优化器且学习率为1e-5的指数衰减，总共训练15个epochs，实现高效准确的模型训练过程。具体实施时，步骤S400具体包括：在当前训练周期小于等于周期阈值时，不更新所述文本特征提取模型和所述语音特征提取模型的参数；直到当前训练周期大于周期阈值时同步更新所述文本特征提取模型和所述语音特征提取模型的参数。在进行模型训练时，可分为两个训练阶段，例如以总共训练15个epochs，周期阈值为5进行说明，在当前训练周期小于等于周期阈值时，不更新文本特征提取模型和语音特征提取模型的参数，即前5个epochs时，文本特征提取模型和语音特征提取模型中的Transformer参数被冻结，不参与更新，直到当前训练周期大于周期阈值时，即后10个epochs时则同步更新文本特征提取模型和语音特征提取模型的参数。由于文本特征提取模型和语音特征提取模型均是提前训练过的，其参数接近最优解，本实施例中为了防止参数值跳出最优解空间，造成模型的过拟合，在整体的模型训练过程中进行阶段性的参数更新，进一步降低了模型误差。本发明另一实施例提供一种性格识别方法，如图8所示，该方法具体包括如下步骤：S800、将待识别数据输入至预先完成训练的双模态性格识别模型中进行性格色彩识别，所述待识别数据包括待识别音频数据和对应的待识别文本数据；S900、输出所述待识别数据的性格色彩识别结果；其中，所述预先完成训练的双模态性格识别模型为采用如上所述的训练方法得到的双模态性格识别模型。本实施例中，在通过如上所述的训练方法训练得到了双模态性格识别模型后，即可实现端到端的性格色彩识别，将待识别数据输入值双模态性格识别模型中，即可输出相应的性格色彩识别结果，其中待识别数据包括待识别音频数据和对应的待识别文本数据，例如针对某个用户进行性格色彩识别时，获取其通话录音并转录为文本作为待识别数据，输入至双模态性格识别模型中，即可高效输出相应的识别结果，提高了性格色彩识别的准确性与覆盖率，以便为客服服务过程中的沟通优选策略提供可靠识别依据。在一个实施例中，请参阅图9，其为本发明实施例提供的性格识别方法中步骤S900的流程图，当所述待识别音频数据为单句音频时，如图9所示，步骤S900包括：获取所述双模态性格识别模型输出的不同性格色彩的概率分布；将概率最高的性格色彩作为所述单句音频的性格色彩识别结果。本实施例中，针对单句进行性格色彩识别时，双模态性格识别模型会对输入的单句音频以及对应的文本输出每种性格色彩的概率分布，即  和  ，四个概率之和为1，将概率最高的色彩作为该单句音频的性格色彩识别结果，当然由于性格的多样性，在其它实施例中，还可以概率最高的性格色彩作为主性格色彩，次高的作为次性格色彩，本实施例对此不作限定。在一个实施例中，请参阅图10，其为本发明实施例提供的性格识别方法中步骤S900的另一个流程图，当所述待识别音频数据为音频集合时，如图10所示，步骤S900包括：获取所述双模态性格识别模型对所述音频集合中每条音频输出的不同性格色彩的概率分布；统计得到各个性格色彩的概率之和，将概率之和最高的性格色彩作为所述音频集合的性格色彩识别结果。本实施例中，针对音频集合进行性格色彩识别时，例如针对某个用户的多个句子进行性格色彩识别时，双模态性格识别模型对输入的音频集合中每条音频及其对应文本输出每种性格色彩的概率分布，即  和  ，之后对每条音频的性格色彩概率进行统计，得到各个性格色彩的概率之和  、  和 ，将概率之和最高的色彩作为该音频集合音频的性格色彩识别结果，实现对某个用户的多样本性格色彩识别。当然由于性格的多样性，在其它实施例中，还可以概率之和最高的性格色彩作为主性格色彩，次高的作为次性格色彩，本实施例对此不作限定。本发明另一实施例提供一种性格识别模型的训练装置，如图11所示，装置1包括：数据获取模块11，用于获取具有性格色彩标注信息的训练数据，所述训练数据包括音频训练数据以及与所述音频训练数据对应的文本训练数据；训练输入模块12，用于将所述训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，所述双模态性格识别模型包括文本特征提取模型和语音特征提取模型；损失计算模块13，用于根据所述模型输出结果与所述训练数据的性格色彩标注信息，获得损失函数值；训练更新模块14，用于根据所述损失函数值更新所述双模态性格识别模型的模型参数，直到所述双模态性格识别模型满足预设收敛条件则完成模型训练。数据获取模块11、训练输入模块12、损失计算模块13、训练更新模块14依次连接，本发明所称的模块是指能够完成特定功能的一系列计算机程序指令段，比程序更适合于描述性格识别模型的训练的执行过程，各模块的具体实施方式请参考上述对应的方法实施例，此处不再赘述。在一个实施例中，所述装置1，还包括：数据构建模块，用于从预设业务数据库中采集存量录音数据并构建数据集，所述数据集包括训练数据、验证数据和测试数据。在一个实施例中，所述数据构建模块，包括：录音获取单元，用于从预设业务数据库中获取用户的存量录音；转换单元，用于对所述存量录音进行语音文本转换，得到对应的录音文本；切分单元，用于根据所述录音文本的时间戳，对所述存量录音进行音频切分并对所述录音文本进行文本分割，得到若干个音频片段以及文本片段；标注构建单元，用于接收对每条音频片段以及文本片段的性格色彩标注信息，构建得到数据集；划分单元，用于将所述数据集按预设比例划分为训练数据、验证数据和测试数据。在一个实施例中，所述数据构建模块，还包括：音频提取单元，用于根据所述存量录音的声道信息，提取指定声道的用户音频数据。在一个实施例中，所述装置1，还包括：过滤模块，用于对文本长度小于预设长度的文本片段进行过滤。在一个实施例中，所述装置1，还包括：第一预训练模块，用于将所述文本训练数据输入至文本预训练模型中进行周期性的训练，直到完成预设周期训练后得到所述文本特征提取模型。在一个实施例中，所述装置1，还包括：第二预训练模块，用于将所述音频训练数据输入至语音预训练模型中进行周期性的训练，直到完成预设周期训练后得到所述语音特征提取模型。在一个实施例中，所述训练输入模块12，包括：音频输入单元，用于将所述音频训练数据输入至语音特征提取模型中，提取得到语音表征张量；文本输入单元，用于将所述文本训练数据输入至文本特征提取模型中，提取得到文本表征张量；分类输出单元，用于将所述语音表征张量与所述文本表征张量连接后输入至全连接层中进行分类，输出不同性格色彩的概率分布。在一个实施例中，所述训练更新模块14，具体用于：在当前训练周期小于等于周期阈值时，不更新所述文本特征提取模型和所述语音特征提取模型的参数；直到当前训练周期大于周期阈值时同步更新所述文本特征提取模型和所述语音特征提取模型的参数。本发明另一实施例提供一种性格识别装置，如图12所示，装置2包括：输入模块21，用于将待识别数据输入至预先完成训练的双模态性格识别模型中进行性格色彩识别，所述待识别数据包括待识别音频数据和对应的待识别文本数据；输出模块22，用于输出所述待识别数据的性格色彩识别结果；其中，所述预先完成训练的双模态性格识别模型为采用如上所述的训练方法得到的双模态性格识别模型。输入模块21和输出模块22连接，本发明所称的模块是指能够完成特定功能的一系列计算机程序指令段，比程序更适合于描述性格识别的执行过程，各模块的具体实施方式请参考上述对应的方法实施例，此处不再赘述。本发明另一实施例提供一种性格识别模型的训练系统，如图13所示，系统10包括：一个或多个处理器110以及存储器120，图13中以一个处理器110为例进行介绍，处理器110和存储器120可以通过总线或者其他方式连接，图13中以通过总线连接为例。处理器110用于完成系统10的各种控制逻辑，其可以为通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列、单片机、ARM或其它可编程逻辑器件、分立门或晶体管逻辑、分立的硬件组件或者这些部件的任何组合。还有，处理器110还可以是任何传统处理器、微处理器或状态机。处理器110也可以被实现为计算设备的组合，例如，DSP和微处理器的组合、多个微处理器、一个或多个微处理器结合DSP和/或任何其它这种配置。存储器120作为一种非易失性计算机可读存储介质，可用于存储非易失性软件程序、非易失性计算机可执行程序以及模块，如本发明实施例中的性格识别模型的训练方法对应的程序指令。处理器110通过运行存储在存储器120中的非易失性软件程序、指令以及单元，从而执行系统10的各种功能应用以及数据处理，即实现上述方法实施例中的性格识别模型的训练方法。存储器120可以包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需要的应用程序；存储数据区可存储根据系统10使用所创建的数据等。此外，存储器120可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他非易失性固态存储器件。在一些实施例中，存储器120可选包括相对于处理器110远程设置的存储器，这些远程存储器可以通过网络连接至系统10。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。一个或者多个单元存储在存储器120中，当被一个或者多个处理器110执行时，可实现例如以上描述的图1中的方法步骤S100至步骤S400。本发明实施例提供了一种非易失性计算机可读存储介质，计算机可读存储介质存储有计算机可执行指令，该计算机可执行指令被一个或多个处理器执行，例如，执行以上描述的图1中的方法步骤S100至步骤S400。作为示例，非易失性存储介质能够包括只读存储器、可编程ROM、电可编程ROM、电可擦ROM或闪速存储器。易失性存储器能够包括作为外部高速缓存存储器的随机存取存储器。通过说明而非限制，RAM可以以诸如同步RAM、动态RAM、、同步DRAM、双数据速率SDRAM、增强型SDRAM、Synchlink DRAM以及直接RambusRAM之类的许多形式得到。本文中所描述的操作环境的所公开的存储器组件或存储器旨在包括这些和/或任何其他适合类型的存储器中的一个或多个。综上，本发明公开的性格识别模型的训练方法、性格识别方法、装置及系统中，方法通过获取具有性格色彩标注信息的训练数据，训练数据包括音频训练数据以及文本训练数据；将训练数据输入至预先构建的双模态性格识别模型中，获得模型输出结果，双模态性格识别模型包括文本特征提取模型和语音特征提取模型；根据模型输出结果与训练数据的性格色彩标注信息，获得损失函数值；根据损失函数值更新双模态性格识别模型的模型参数，直到双模态性格识别模型满足预设收敛条件。通过融合了语音和文本的双模态信息对性格识别模型进行训练，使得训练完成的模型能充分利用客户的语音和文本信息实现准确高效的性格色彩识别，提高了性格色彩识别的覆盖率。当然，本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取的存储介质中，该计算机程序在执行时可包括如上述各方法实施例的流程。其中所述的存储介质可为存储器、磁碟、软盘、闪存、光存储器等。应当理解的是，本发明的应用不限于上述的举例，对本领域普通技术人员来说，可以根据上述说明加以改进或变换，所有这些改进和变换都应属于本发明所附权利要求的保护范围。
