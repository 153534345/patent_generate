标题title
主动减振方法及系统、主动减振担架床
摘要abst
本发明提供了主动减振方法及系统、主动减振担架床，所述主动减振方法用于在车辆行驶过程中减少车辆惯性运动对车体内支撑板的影响，包括：获取车辆行驶过程中车体在惯性空间的前向加速度和侧向加速度；根据车体在惯性空间的前向加速度、侧向加速度确定支撑板相对车体的目标姿态角，目标姿态角包括目标横滚角和目标俯仰角，目标姿态角能够利用重力加速度抵消车体在惯性空间的前向加速度和侧向加速度；通过控制连接车体与支撑板之间的转动机构的转动，调整支撑板相对车体的当前姿态角到目标姿态角。本发明可以在使用救护车运输病人时，减缓车辆惯性运动给病人带来的二次伤害。
权利要求书clms
1.一种主动减振方法，用于在车辆行驶过程中减少车辆惯性运动对车内支撑板的影响，其特征在于，包括：获取车辆行驶过程中的车体振动信息，所述车体振动信息包括所述车体在惯性空间的前向加速度和侧向加速度；根据所述车体在惯性空间的前向加速度和侧向加速度确定所述支撑板相对所述车体的目标姿态角，所述目标姿态角包括目标横滚角和目标俯仰角，所述目标姿态角能够利用重力加速度抵消所述车体在惯性空间的前向加速度和侧向加速度；获取所述支撑板相对所述车体的当前姿态角，所述当前姿态角包括当前横滚角和当前俯仰角；通过控制连接所述车体与所述支撑板的转动机构的转动，调整所述支撑板的当前姿态角到所述目标姿态角。2.根据权利要求1所述的主动减振方法，其特征在于，根据以下公式确定所述支撑板相对所述车体的目标横滚角αideal和目标俯仰角βideal：其中，aCx和aCy分别为所述车体在惯性空间的前向加速度和侧向加速度，g为重力加速度。3.根据权利要求1所述的主动减振方法，其特征在于，所述车体振动信息还包括所述车体在惯性空间的横滚角和俯仰角；所述的根据所述车体在惯性空间的前向加速度和侧向加速度确定所述支撑板相对所述车体的目标姿态角包括：根据以下公式计算所述支撑板相对所述车体的目标横滚角αideal和目标俯仰角βideal：其中，αC和βC分别为所述车体在惯性空间的横滚角和俯仰角，aCx和aCy分别为所述车体在惯性空间的前向加速度和侧向加速度，g为重力加速度。4.根据权利要求1所述的主动减振方法，其特征在于，所述的调整所述支撑板的当前姿态角到所述目标姿态角，包括：根据所述当前姿态角与对应目标姿态角的误差，采用PID控制算法确定所述转动机构调整所述支撑板的姿态角的控制力；基于所述控制力控制所述转动机构调整所述支撑板相对于所述车体的姿态角。5.根据权利要求4所述的主动减振方法，其特征在于，所述的根据所述当前姿态角与对应目标姿态角的误差，采用PID控制算法确定所述转动机构调整所述支撑板的姿态角的控制力，包括：计算所述当前姿态角与所述目标姿态角的误差；根据所述误差，按照PID控制算法，计算第一反馈项；基于所述车体和所述支撑板之间的动力学关系，得到达到所述目标姿态角的第一前馈力；根据所述第一前馈力和所述第一反馈项确定所述转动机构调整所述支撑板的姿态角的控制力。6.根据权利要求4所述的主动减振方法，其特征在于，所述的根据所述当前姿态角与对应目标姿态角的误差，采用PID控制算法确定所述转动机构调整所述支撑板的姿态角的控制力，还包括：计算所述当前姿态角与所述目标姿态角的误差；对所述误差按第一预设比例折算，得到比例误差；根据所述目标姿态角的角速度与所述比例误差，得到修正的目标姿态角的微分项与二次微分项；根据所述当前姿态角、所述修正的目标姿态角的微分项与二次微分项，得到所述转动机构的转动惯量估计值；基于所述车体和所述支撑板之间的动力学关系、以及所述转动惯量估计值，得到达到所述修正的目标姿态角的第二前馈力；根据所述当前姿态角与所述修正的目标姿态角的误差，按照PID控制算法，计算第二控制项；根据所述第二前馈力和所述第二控制项确定所述转动机构调整所述支撑板的姿态角的控制力。7.一种主动减振系统，用于在车辆行驶过程中减少车辆惯性运动对车内支撑板的影响，其特征在于，包括：振动信息获取模块，用于获取车辆行驶过程中的车体振动信息，所述车体振动信息包括所述车体在惯性空间的前向加速度和侧向加速度；目标确定模块，用于根据所述车体在惯性空间的前向加速度和侧向加速度确定所述支撑板相对所述车体的目标姿态角，所述目标姿态角包括目标横滚角和目标俯仰角，所述目标姿态角能够利用重力加速度抵消所述车体在惯性空间的前向加速度和侧向加速度；调整模块，用于获取所述支撑板相对所述车体的当前姿态角，所述当前姿态角包括当前横滚角和当前俯仰角；通过控制连接所述车体与所述支撑板的转动机构的转动，调整所述支撑板的当前姿态角到所述目标姿态角。8.一种主动减振担架床，其特征在于，包括：基座，适于固定于车体；第一转动机构，包括第一驱动件和第一转轴，所述第一转轴的一端连接于所述第一驱动件；第二转动机构，包括第二驱动件和第二转轴，所述第二驱动件固定于所述第一转轴，所述第二转轴的一端连接于所述第二驱动件，所述第一转轴和所述第二转轴交错设置；支撑板，固定于所述第二转轴，所述第一驱动件驱动所述第一转轴转动时能够带动所述第二转动机构和所述支撑板同步转动，同时改变所述支撑板相对所述车体的横滚角；所述第二驱动件驱动所述第二转轴转动时能够带动支撑板转动，以改变所述支撑板相对所述车体的俯仰角。9.根据权利要求8所述的主动减振担架床，其特征在于，所述第一转动机构还包括安装于所述基座上的第一减速器，所述第一减速器连接于所述第一转轴，适于降低所述第一转轴的转速；所述第二转动机构还包括安装于所述第一转轴上的第二减速器，所述第二减速器连接于所述第二转轴，适于降低所述第二转轴的转速。10.根据权利要求8所述的主动减振担架床，其特征在于，所述第一转轴与所述第二转轴垂直交错设置。
说明书desc
技术领域本发明涉及减振技术领域，尤指一种主动减振方法及系统、主动减振担架床。背景技术在救护车运输病人的过程中，会受到路面颠簸起伏和车辆急刹车、急加速、急转弯等运动的影响，这会降低担架床上病人的舒适性，引起晕车等现象，特别是对于颅脑损伤、心血管疾病、骨折等患者，这些振动冲击可能是致命的。对于路面的颠簸起伏，车辆本身的悬架系统可以起到衰减作用，根据其力学原理一般可将其分成被动悬架、半主动悬架和主动悬架。除了悬架系统减振以外，救护车内的担架床也可以设计一定的减振装置，如专利《CN113679538A一种自平衡担架床及车辆》提出了多自由度主动减振的担架床，可以主动消除恶劣路面颠簸起伏引起的上下、俯仰、横滚等多个方向振动。以上的车辆悬架系统、减振担架床可以较好的消除路面颠簸起伏的影响，但是不能减少车辆急刹车、急加速、急转弯等运动的影响。车辆急刹车、急加速、急转弯等运动会引起车内物体的运动状态发生变化，但是物体都具有惯性，表现为对运动状态变化的阻抗，惯性越大，阻抗越大。以担架床为例，当这种阻抗较大时，会引起担架床上病人的不舒适，甚至发生二次伤害等。我们将上述引起车内物体发生明显惯性表现的车辆运动统称为车辆惯性运动。对于城市救护车，在路面好的情况，比如路面等级达到B级甚至是A级，此时路面激励引起的振动反而是次要的，救护车内病人感受到的不舒适主要来自于车辆频繁的惯性运动，而救护车分秒必争的使命也不允许其平稳行驶，因此如何消除车辆惯性运动对病人的影响，是城市救护车一个重要目标。发明内容本发明针对现有技术的至少部分不足，提供主动减振方法及系统、主动减振担架床。本发明提供的技术方案如下：一种主动减振方法，用于在车辆行驶过程中减少车辆惯性运动对车内支撑板的影响，包括：获取车辆行驶过程中的车体振动信息，所述车体振动信息包括所述车体在惯性空间的前向加速度和侧向加速度；根据所述车体在惯性空间的前向加速度和侧向加速度确定所述支撑板相对所述车体的目标姿态角，所述目标姿态角包括目标横滚角和目标俯仰角，所述目标姿态角能够利用重力加速度抵消所述车体在惯性空间的前向加速度和侧向加速度；获取所述支撑板相对所述车体的当前姿态角，所述当前姿态角包括当前横滚角和当前俯仰角；通过控制连接所述车体与所述支撑板的转动机构的转动，调整所述支撑板的当前姿态角到所述目标姿态角。在一些实施例中，根据以下公式确定所述支撑板相对所述车体的目标横滚角αideal和目标俯仰角βideal：其中，aCx和aCy分别为所述车体在惯性空间的前向加速度和侧向加速度，g为重力加速度。在一些实施例中，所述车体振动信息还包括所述车体在惯性空间的横滚角和俯仰角；所述的根据所述车体在惯性空间的前向加速度和侧向加速度确定所述支撑板相对所述车体的目标姿态角包括：根据以下公式计算所述支撑板相对所述车体的目标横滚角αideal和目标俯仰角βideal：其中，αC和βC分别为所述车体在惯性空间的横滚角和俯仰角，aCx和aCy分别为所述车体在惯性空间的前向加速度和侧向加速度，g为重力加速度。在一些实施例中，所述的调整所述支撑板的当前姿态角到所述目标姿态角，包括：根据所述当前姿态角与对应目标姿态角的误差，采用PID控制算法确定所述转动机构调整所述支撑板的姿态角的控制力；基于所述控制力控制所述转动机构调整所述支撑板相对于所述车体的姿态角。在一些实施例中，所述的根据所述当前姿态角与对应目标姿态角的误差，采用PID控制算法确定所述转动机构调整所述支撑板的姿态角的控制力，包括：计算所述当前姿态角与所述目标姿态角的误差；根据所述误差，按照PID控制算法，计算第一反馈项；基于所述车体和所述支撑板之间的动力学关系，得到达到所述目标姿态角的第一前馈力；根据所述第一前馈力和所述第一反馈项确定所述转动机构调整所述支撑板的姿态角的控制力。在一些实施例中，所述的根据所述当前姿态角与对应目标姿态角的误差，采用PID控制算法确定所述转动机构调整所述支撑板的姿态角的控制力，还包括：计算所述当前姿态角与所述目标姿态角的误差；对所述误差按第一预设比例折算，得到比例误差；根据所述目标姿态角的角速度与所述比例误差，得到修正的目标姿态角的微分项与二次微分项；根据所述当前姿态角、所述修正的目标姿态角的微分项与二次微分项，得到所述转动机构的转动惯量估计值；基于所述车体和所述支撑板之间的动力学关系、以及所述转动惯量估计值，得到达到所述修正的目标姿态角的第二前馈力；根据所述当前姿态角与所述修正的目标姿态角的误差，按照PID控制算法，计算第二控制项；根据所述第二前馈力和所述第二控制项确定所述转动机构调整所述支撑板的姿态角的控制力。本发明还提供一种主动减振系统，用于在车辆行驶过程中减少车辆惯性运动对车内支撑板的影响，包括：振动信息获取模块，用于获取车辆行驶过程中的车体振动信息，所述车体振动信息包括所述车体在惯性空间的前向加速度和侧向加速度；目标确定模块，用于根据所述车体在惯性空间的前向加速度和侧向加速度确定所述支撑板相对所述车体的目标姿态角，所述目标姿态角包括目标横滚角和目标俯仰角，所述目标姿态角能够利用重力加速度抵消所述车体在惯性空间的前向加速度和侧向加速度；调整模块，用于获取所述支撑板相对所述车体的当前姿态角，所述当前姿态角包括当前横滚角和当前俯仰角；通过控制连接所述车体与所述支撑板的转动机构的转动，调整所述支撑板的当前姿态角到所述目标姿态角。本发明还提供一种主动减振担架床，包括：基座，适于固定于车体；第一转动机构，包括第一驱动件和第一转轴，所述第一转轴的一端连接于所述第一驱动件；第二转动机构，包括第二驱动件和第二转轴，所述第二驱动件固定于所述第一转轴，所述第二转轴的一端连接于所述第二驱动件，所述第一转轴和所述第二转轴交错设置；支撑板，固定于所述第二转轴，所述第一驱动件驱动所述第一转轴转动时能够带动所述第二转动机构和所述支撑板同步转动，同时改变所述支撑板相对所述车体的横滚角；所述第二驱动件驱动所述第二转轴转动时能够带动支撑板转动，以改变所述支撑板相对所述车体的俯仰角。在一些实施例中，所述第一转动机构还包括安装于所述基座上的第一减速器，所述第一减速器连接于所述第一转轴，适于降低所述第一转轴的转速；所述第二转动机构还包括安装于所述第一转轴上的第二减速器，所述第二减速器连接于所述第二转轴，适于降低所述第二转轴的转速。在一些实施例中，所述第一转轴与所述第二转轴垂直交错设置。与现有技术相比，本发明所提供的主动减振方法及系统、主动减振担架床具有以下至少一条有益效果：1、本发明通过感知车体在惯性空间的前向加速度、侧向加速度，控制转动机构调整支撑板至恰当的姿态角，利用重力加速度抵消车体的前向加速度和侧向加速度，减缓车辆行驶过程中因急刹车、急加速、急转弯等惯性运动对支撑板上载运的病人带来二次伤害。2、本发明充分考虑了路面情况和车厢倾角，使得计算人体相对车厢的惯性加速度时更加精确，令车载减振设备可以自适应路面变化而不会影响减振效果。3、主动减振担架床在实际运行过程中，因行驶状态或所载病人惯量不同等会带来动力学参数变化，本发明通过一种自适应控制方法，可以自动校正动态参数变化，使得担架床可以在不同工况下稳定、高效的减振。附图说明下面将以明确易懂的方式，结合附图说明优选实施方式，对主动减振方法及系统、主动减振担架床的上述特性、技术特征、优点及其实现方式予以进一步说明。图1是本发明的主动减振方法的一个实施例的流程图；图2是本发明的主动减振系统的一个实施例的结构示意图；图3是本发明的主动减振担架床的一个实施例的结构示意图；图4是本发明一实施例中主动减振担架床的动力学模型示意图；图5是本发明一实施例中自适应控制算法框图；图6是本发明一实施例中车厢前向、侧向和垂向加速度的时域曲线；图7是本发明一实施例中车厢前向、侧向和垂向加速度的频谱曲线；图8是本发明一实施例中人体相对车厢的前向加速度时域曲线；图9是本发明一实施例中人体相对车厢的侧向加速度时域曲线；图10是本发明一实施例中人体相对车厢的垂向加速度时域曲线；图11是本发明一实施例中不同控制算法的目标跟踪曲线；图12是本发明一实施例中自适应控制算法估计的惯量参数曲线。附图标号说明：1.基座，2.第一传感器，3.第一驱动件，4.第一减速器，5.第一转轴，6.第二驱动件，7.第二减速器，8.第二转轴，9.支撑板。具体实施方式为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对照附图说明本发明的具体实施方式。显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图，并获得其他的实施方式。为使图面简洁，各图中只示意性地表示出了与本发明相关的部分，它们并不代表其作为产品的实际结构。另外，以使图面简洁便于理解，在有些图中具有相同结构或功能的部件，仅示意性地绘示了其中的一个，或仅标出了其中的一个。在本文中，“一个”不仅表示“仅此一个”，也可以表示“多于一个”的情形。在本发明的一个实施例中，如图1所示，一种主动减振方法，包括：步骤S100获取车辆行驶过程中的车体振动信息，车体振动信息包括车体在惯性空间的前向加速度和侧向加速度。可通过设置在车体上的传感器或惯导单元IMU直接测量得到车体振动信息。惯导单元包括三轴加速度计、三轴陀螺仪以及三轴磁力计，能够检测惯导单元的安装载体的振动信息，振动信息包括但不限于三轴加速度和三轴角速度，经过进一步的计算处理能够获得安装载体的实时的位置、速度、角度信息。假设惯性坐标系的X轴为车体的前进方向、Y轴为侧向、Z轴为垂向，则前向加速度为X轴向的加速度，侧向加速度为Y轴向的加速度，垂向加速度为Z轴向的加速度。根据测得的三轴加速度可得到车体的前向、侧向加速度。步骤S200根据车体在惯性空间的前向加速度和侧向加速度确定支撑板相对车体的目标姿态角，目标姿态角包括目标横滚角和目标俯仰角，目标姿态角能够利用重力加速度抵消车体在惯性空间的前向加速度和侧向加速度。步骤S300获取支撑板相对车体的当前姿态角，当前姿态角包括当前横滚角和当前俯仰角。步骤S400通过控制用于连接车体与支撑板的转动机构的转动，调整支撑板的当前姿态角到目标姿态角。具体地，车体内设有减振设备，该减振设备包括基座、支撑板、连接基座和支撑板的转动机构，该减振设备的基座固定于车体的底板，通过转动机构可以调整支撑板的横滚角和俯仰角。转动机构包含驱动器和编码器，驱动器用于驱动支撑板的转动，编码器可用于测量支撑板相对车体的姿态角，包括横滚角和俯仰角。比如，车为救护车，车内的减振设备为一担架床，该担架床具有横滚和俯仰两个自由度。本实施例，通过确定支撑板合适的姿态角，自动调整支撑板的姿态角至目标姿态角，以抵消车体的前向加速度和侧向加速度，避免急刹车、急加速、急转弯等惯性运动对支撑板的影响，提高支撑板上病人的舒适性，避免二次伤害。在一个实施例中，根据以下公式确定支撑板相对车体的目标横滚角αideal和目标俯仰角βideal：其中，aCx和aCy分别为车体在惯性空间的前向加速度和侧向加速度，g为重力加速度。按照上式确定的支撑板的目标横滚角和目标俯仰角，可以一定程度上减少车体的前向加速度和侧向加速度，从而减小车辆惯性运动带来的影响。在一个实施例中，步骤S200包括：步骤S210获取车体在惯性空间的横滚角和俯仰角；步骤S210根据以下公式计算支撑板相对车体的目标横滚角αideal和目标俯仰角βideal：其中，αC和βC分别为车体在惯性空间的横滚角和俯仰角，aCx和aCy分别为车体在惯性空间的前向加速度和侧向加速度，g为重力加速度。本实施例确定的支撑板的目标横滚角和目标俯仰角，还考虑了因路面倾角变化带来的车厢倾角，可以自适应路面和车厢的倾角，几乎可以完全消除车辆惯性运动引起的前向加速度和侧向加速度。在一个实施例中，步骤S400包括：步骤S410根据当前姿态角与目标姿态角的误差，采用PID控制算法确定转动机构调整支撑板的姿态角的控制力；步骤S411基于该控制力控制转动机构调整支撑板相对于车体的姿态角。PID控制包括比例控制、积分控制、微分控制或其中的组合，一般是对目标值与当前值的差值进行比例调节、积分调节、微分调节或前几种方式的组合调节。比如，采用比例控制和微分控制的组合，设定PID控制的控制力为：eθ＝θ-θd；其中，第一项为比例控制箱，第二项为微分控制项，θ为当前姿态角，θd为目标姿态角，KP、KD为控制参数。也可以采用其他PID控制方式，本申请对此不做限制。根据设定的PID控制方式计算控制力，再利用该控制力驱动转动机构调整支撑板相对于车体的姿态角，得到新的当前姿态角，重复步骤S410和S420，直至支撑板的姿态角达到目标姿态角。在一个实施例中，步骤S400包括：步骤S420计算当前姿态角与目标姿态角的误差；步骤S421根据该误差，按照PID控制算法，计算第一反馈项；步骤S422基于车体和支撑板之间的动力学关系，得到达到目标姿态角的第一前馈力；步骤S423根据第一前馈力和第一反馈项确定转动机构调整支撑板的姿态角的控制力；步骤S424基于该控制力控制转动机构调整支撑板相对于车体的姿态角。本实施例，采用前馈力加反馈项的方式设计控制力，其中反馈项采用PID控制算法得到。前馈力根据车体和支撑板之间的动力学关系得到。车体和支撑板之间用于调整支撑板的横滚角/俯仰角的动力学关系方程为：其中，θ为支撑板的横滚角/俯仰角，f为对应的控制力，为粘滞摩擦力项，G为重力和库伦摩擦力项，为惯性力项，B、J为相关参数。根据上述动力学关系方程，得到达到目标姿态角的第一前馈力根据PID控制算法得到第一反馈项，比如，根据第一前馈力和第一反馈项确定控制力，比如，在一个实施例中，步骤S400包括：步骤S430计算当前姿态角θ与目标姿态角θd的误差eθ；步骤S431对误差按第一预设比例λ折算，得到比例误差；步骤S432根据目标姿态角的角速度与比例误差，得到修正的目标姿态角的微分项与二次微分项；步骤S433根据当前姿态角θ、修正的目标姿态角θr的微分项与二次微分项，得到转动机构的惯量参数自适应率对进行积分，得到转动机构的转动惯量估计值步骤S434基于车体和支撑板之间的动力学关系、以及转动惯量估计值得到达到修正的目标姿态角的第二前馈力；步骤S435根据当前姿态角与修正的目标姿态角θr的误差，按照PID控制算法，计算第二控制项；步骤S436根据第二前馈力和第二控制项确定转动机构调整支撑板的姿态角的控制力；步骤S437基于控制力控制转动机构调整支撑板相对于车体的姿态角。由于支撑板在车辆运行过程中所载运的病人体重、惯量不同，其转动惯量J很难提前确定，而错误的参数设定会导致控制系统精度大幅下降，为此本实施例考虑自适应调整转动惯量J。本实施例，也是采用前馈力加反馈项的方式设计控制力，具体如下：1)确定修正的目标姿态角θr的微分项与二次微分项2)确定转动惯量估计值及其微分项对进行积分得到3)确定达到修正的目标姿态角的第二前馈力为4)确定第二控制项，比如第二控制项为KDs；5)根据第二前馈力和第二控制项确定控制力u：其中，为目标姿态角θd的微分项，为目标姿态角的二次微分项，λ为第一预设比例，W为相关参数。由于可以较为准确的估计出未知的惯量参数J，本实施例可以自动辨识系统的动态参数，达到更高效减振的目标。在本发明的一个实施例中，如图2所示，一种主动减振系统，包括：振动信息获取模块100，用于获取车辆行驶过程中的车体振动信息，车体振动信息包括车体在惯性空间的前向加速度和侧向加速度；目标确定模块200，用于根据车体在惯性空间的前向加速度和侧向加速度确定支撑板的相对车体的目标姿态角，目标姿态角包括目标横滚角和目标俯仰角，目标姿态角能够利用重力加速度抵消车体在惯性空间的前向加速度和侧向加速度；调整模块300，用于获取支撑板相对车体的当前姿态角，当前姿态角包括当前横滚角和当前俯仰角；通过控制用于连接车体与支撑板的转动机构的转动，调整支撑板的当前姿态角到所述目标姿态角。在一个实施例中，目标确定模块200，还用于根据以下公式确定支撑板相对车体的目标横滚角αideal和目标俯仰角βideal：其中，aCx和aCy分别为车体在惯性空间的前向加速度和侧向加速度，g为重力加速度。在一个实施例中，目标确定模块200，还用于获取车体在惯性空间的横滚角和俯仰角；根据以下公式计算支撑板相对车体的目标横滚角αideal和目标俯仰角βideal：其中，αC和βC分别为车体在惯性空间的横滚角和俯仰角，aCx和aCy分别为车体在惯性空间的前向加速度和侧向加速度，g为重力加速度。在一个实施例中，调整模块300，还用于根据当前姿态角与目标姿态角的误差，采用PID控制算法确定转动机构调整支撑板的姿态角的控制力；基于该控制力控制转动机构调整支撑板相对于车体的姿态角。在一个实施例中，调整模块300，还用于计算当前姿态角与目标姿态角的误差；根据该误差，按照PID控制算法，计算第一反馈项；基于车体和支撑板之间的动力学关系，得到达到目标姿态角的第一前馈力；根据第一前馈力和第一反馈项确定转动机构调整支撑板的姿态角的控制力；基于该控制力控制转动机构调整支撑板相对于车体的姿态角。在一个实施例中，调整模块300，还用于计算当前姿态角与目标姿态角的误差；对误差按第一预设比例折算，得到比例误差；根据目标姿态角的角速度与比例误差，得到修正的目标姿态角的微分项与二次微分项；根据当前姿态角、修正的目标姿态角的微分项与二次微分项，得到转动机构的转动惯量估计值；基于车体和支撑板之间的动力学关系、以及转动惯量估计值，得到达到修正的目标姿态角的第二前馈力；根据当前姿态角与修正的目标姿态角的误差，按照PID控制算法，计算第二控制项；根据第二前馈力和第二控制项确定转动机构调整支撑板的姿态角的控制力；基于控制力控制转动机构调整支撑板相对于车体的姿态角。本实施例，通过确定支撑板合适的姿态角，自动调整支撑板的姿态角至目标姿态角，以抵消车体的前向加速度和侧向加速度，避免急刹车、急加速、急转弯等惯性运动对支撑板的影响，提高支撑板上病人的舒适性，避免二次伤害。需要说明的是，本发明提供的主动减振系统的实施例与前述提供的主动减振方法的实施例均基于同一发明构思，能够取得相同的技术效果。因而，主动减振系统的实施例的其它具体内容可以参照前述主动减振方法的实施例内容的记载。在本发明的一个实施例中，如图3所示，一种主动减振担架床，包括：基座1，适于固定于车体；第一转动机构，包括第一驱动件3和第一转轴5，第一转轴5的一端连接于第一驱动件3；第二转动机构，包括第二驱动件6和第二转轴8，第二驱动件6固定于第一转轴5，第二转轴8的一端连接于第二驱动件6，第一转轴5和第二转轴8交错设置；支撑板9，固定于第二转轴8，第一驱动件3驱动第一转轴5转动时能够带动第二转动机构和支撑板9同步转动，第二驱动件6驱动第二转轴8转动时能够带动支撑板9转动。在一个实施例中，第一转动机构还包括安装于基座1上的第一减速器4，第一减速器4连接于第一转轴5，适于降低第一转轴5的转速；第二转动机构还包括安装于第一转轴5上的第二减速器7，第二减速器6连接于第二转轴8，适于降低第二转轴8的转速。在一个实施例中，基座1上还设置有第一传感器2。在一个实施例中，第一转轴6与第二转轴8垂直交错设置。本发明还提供了一个具体应用场景实施例，将前述的主动减振方法及系统、主动减振担架床应用于救护车主动减振担架床。一、主动减振担架床的机械结构本实施例的救护车主动减振担架床具有俯仰和横滚2个自由度，其机械结构如图3所示，其组成为：基座1为底板，固定于救护车车厢地板；第一传感器2为惯导单元IMU，安装于底板上，其内部包括3轴加速度计、3轴陀螺仪和3轴地磁计，可以实时感知车厢侧向、前向、垂向加速度以及车厢的姿态角；第一驱动件3为第一电机，用于驱动第一转轴5的运动，包含第一编码器，可以实时测量第一电机的实际转角、转速等信息；第一减速器4，用于将第一电机的转速降低，并传递给第一转轴5；第一转轴5，此处为担架床的横滚轴；第二驱动件6为第二电机，用于驱动第二转轴8的运动，包含第二编码器，可以实时测量第二电机的实际转角、转速等信息；第二减速器7，用于将第二电机的转速降低，并传递给第二转轴8；第二转轴8，此处为担架床的俯仰轴；支撑板9为担架床的上台面，可以和担架连接，用于承载病人。除此之外，主动减振担架床还包括控制单元、动力系统以及电缆等组件，未在图中绘制。二、主动减振担架床的动力学模型如图4所示，在主动减振担架床的动力学模型中建立3个坐标系：①惯性坐标系O0x0y0z0②车体坐标系Ocxcyczc③人体坐标系Obxbybzb因为路面倾斜或车辆悬架减振，车厢相对于惯性系会有姿态变化。假设车体坐标系Ocxcyczc相对于惯性坐标系O0x0y0z0的横滚角为αC，俯仰角为βC，则车体坐标系Ocxcyczc相对于惯性坐标系O0x0y0z0的坐标转换矩阵为根据相关标准，城市路面坡度一般不超过10％，因此可以将αC和βC视为小量，上式可以简化为：同时，主动减振担架床具有俯仰和横滚两个自由度，其对应相对运动横滚角和俯仰角分别为αB和βB，则人体坐标系Obxbybzb相对于车体坐标系Ocxcyczc的坐标转换矩阵为：实际在主动减振担架床上设计了运动限位，根据救护车内的空间，一般|αB|≤10°,|βB|≤15°，因此可以将αB和βB视为小量，可将上述坐标转换矩阵简化为：则人体坐标系Obxbybzb相对于惯性坐标系O0x0y0z0的坐标转换矩阵为：假设车厢的前向加速度为aCx，车厢的侧向加速度为aCy，车厢的垂向加速度为aCz，则在人体坐标系中，人体相对车厢的相对加速度为：三、担架床的姿态调节思路为了降低车辆惯性运动对担架床的影响，考虑通过调节担架床的姿态角αB和βB，使得人体相对于车厢的前向加速度和侧向加速度，即Δa的前两项尽可能减少。考虑到车厢的垂向加速度aCz在城市路面上主要是小幅波动，相比于重力加速度g影响很小，可将理想的担架横滚角和俯仰角分别设置为：当主动减振担架床的俯仰角和姿态角分别设置为αB＝αideal和βB＝βideal时，则人体相对车厢的相对加速度变为：在城市路面行驶时，经过车辆悬架系统减振后，aCz的值很小，所以上式的前向和侧向的加速度基本被消除。同时，相比于不调节角度的固定式担架床，主动减振担架床会增加一定的垂向加速度-aCxβideal+aCyαideal，但是此值相比于原先的重力加速度g，增加幅度很小。考虑到工程中担架床的角度限制，实际设置的期望担架俯仰角αd和横滚角βd为四、自适应控制算法对于本例的两自由度机器人，两个转动轴相交于同一点，此时可以对动力学方程解耦，每轴进行独立控制，每轴的动力学方程均可以写为如下形式θ＝αorβ；其中，u为该轴电机的控制力；为粘滞摩擦力；G为重力和库伦摩擦力；J为此轴的转动惯量。希望电机转角θ可以准确的跟踪目标转角θd，即可以设计前馈力+反馈项的控制率，反馈项可以选用简单的PID控制，对应的表达式为式中第一项为前馈力项，第二项为反馈项。实际主动减振担架床在运行过程中，因所载运的病人体重、惯量不同，其转动惯量J很难提前确定，而错误的参数设定可能会导致控制系统精度大幅下降。为此，可采用自适应控制方法，其控制力为估计的惯量参数自适应率为其中，参考变量为该自适应率可以使得主动减振担架床可以快速精确的跟踪期望轨迹，并且较为准确的估计出未知的惯量参数。该控制算法的框图如图5所示。五、结果分析1、不同担架床的对比某型救护车在B级路面行驶，因为路面坡度导致的车厢相对惯性系的倾角为，其匀速段的速度为80km/m，总仿真时间100s，包含了10s～22s的加速段，30s～36s和60s～65s的两个拐弯段，90s～96.5s的刹车段等车辆惯性运动，车厢的3个轴向加速度时域曲线如图6所示。如图7所示，从车厢前向、侧向加速度频谱曲线中可以看出，车辆急刹车、急加速、急转弯等惯性运动的频率很低，基本在1Hz以内，因此控制算法的带宽不需要很高。同时，可以发现车厢垂向加速度频谱有2个共振峰，一个在2Hz左右，一个在11Hz左右，这两个共振峰对应轮胎-悬架二级减振系统的2个共振频率。考虑以下3种担架床在该工况运行时的情况①担架床1：固定式担架床，相对于车厢无姿态变化；②担架床2：没有考虑车厢倾角的主动减振担架床，控制参数KP＝1000,KD＝50；③担架床3：本发明提出的自适应主动减振担架床，控制参数KP＝1000,KD＝50；3种担架床的人体相对于车厢的前向、侧向、垂向加速度曲线如图8-图10所示。可见得出如下结论：固定式担架床因为车辆本身的惯性运动，会产生较大前向和侧向加速度，造成人体的不舒适性；不考虑车厢倾角的主动减振担架床可以一定程度减少人体前向和侧向加速度，但是不能消除车辆惯性运动的加速度；本文提出的自适应主动减振担架床，可以自适应路面和车厢的倾角，几乎可以完全消除车辆惯性运动引起的前向和侧向加速度，有效提升人体的舒适性；在垂直方向，主动减振担架床的加速度会有小幅波动，波动幅度约为重力加速度10％，考虑到垂直方向有担架的软垫可以吸振，因此这点波动对人体影响很小。2、不同控制算法的对比本算例主要分析不同控制算法的目标值跟踪效果。假设某一轴期望轨迹为θd＝20°sin，并且主动减振担架床在该轴向的真实动力学参数为J＝100,B＝50,假设负载变化导致转动惯量被错误估计为此时采用以下3种控制器进行轨迹跟踪：①PID控制并设置控制参数为KP＝10000,KD＝500；②前馈力+PID控制，即其中惯量参数被错误估计，设置同样的控制参数为KP＝10000,KD＝500；③本文提出的前馈力+自适应控制，即设置同样的控制参数为KP＝10000,KD＝500，另外自适应率参数设计为λ＝20,W＝0.2；以上3种控制器的轨迹跟踪效果如图11所示。从图中可以发现：增加前馈力，可以有效提高PID控制的跟踪精度和响应速度；错误的惯量参数估计，会影响前馈力+PID控制的精度，进而产生明显的偏差；采用本发明提出的前馈力+自适应控制方法可以很好消除惯量参数估计错误导致的偏差，从图中可看出5s之后，位置跟踪误差基本上被完全消除。将前馈力+自适应控制方法实时估计的惯量参数曲线表示出来，如图12所示，可见该方法可以较为准确的估计出惯量参数未知真值，误差约为1.4％。应当说明的是，上述实施例均可根据需要自由组合。以上所述仅是本发明的优选实施方式，应当指出，对于本技术领域的普通技术人员来说，在不脱离本发明原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应视为本发明的保护范围。
