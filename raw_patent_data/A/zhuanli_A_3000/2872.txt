标题title
一种检测用户生理特征指标的方法、装置及可穿戴设备
摘要abst
本申请实施例提供一种检测用户生理特征指标的方法、装置及可穿戴设备，涉及可穿戴设备技术领域，该方案用以提高可穿戴设备在用户运动场景中检测用户生理特征指标的精准度。该方案包括：获取PPG信号以及由可穿戴设备的运动传感器采集到的运动信号，多路PPG信号由PPG传感器的各通道分别采集的PPG信号确定；根据多路PPG信号以及多种参考信号，确定多种信号组合，多种参考信号包括：红外信号、绿光信号以及运动信号；根据生理特征指标预测值，以及每种参考信号的主频，计算每种信号组合的能占比；根据每种信号组合的能占比从多种信号组合中选择周期性符合要求的目标信号组合；根据目标信号组合预测用户的生理特征指标的目标值。
权利要求书clms
1.一种检测用户生理特征指标的方法，其特征在于，包括：获取多路光电容积脉搏波PPG信号以及由可穿戴设备的运动传感器采集到的运动信号，所述多路PPG信号由所述可穿戴设备的PPG传感器的各通道分别采集的PPG信号确定；根据所述多路PPG信号以及多种参考信号，确定多种信号组合，多种所述参考信号至少包括：所述可穿戴设备的传感器模组采集的红外信号、绿光信号以及所述运动信号；其中，一个所述信号组合包括：所述参考信号中的一种以及所述多路PPG信号中的一路PPG信号，不同所述信号组合包括的所述参考信号和PPG信号不同；根据生理特征指标预测值，以及每种所述参考信号的主频，计算多种所述信号组合中每种所述信号组合的能占比；根据每种所述信号组合的能占比从多种所述信号组合中选择周期性符合要求的目标信号组合；根据所述目标信号组合预测所述用户的生理特征指标的目标值。2.根据权利要求1所述的方法，其特征在于，所述多路PPG信号包括由所述PPG传感器的各所述通道分别采集的一路PPG信号以及各所述通道分别采集的一路PPG信号得到的PPG平均信号。3.根据权利要求1所述的方法，其特征在于，所述根据每种所述信号组合的能占比从多种所述信号组合中选择周期性符合要求的目标信号组合，包括：根据每种所述信号组合的能占比从多种所述信号组合中选择能占比靠前的至少一种所述信号组合；从至少一种所述信号组合中选择周期性符合要求的所述信号组合作为所述目标信号组合。4.根据权利要求3所述的方法，其特征在于，所述从至少一种所述信号组合中选择周期性符合要求的所述信号组合作为所述目标信号组合，包括：计算至少一种所述信号组合中每种所述信号组合的周期强度；根据每种所述信号组合的周期强度，从至少一种所述信号组合中选择周期性符合要求的所述信号组合作为所述目标信号组合。5.根据权利要求1~4任一项所述的方法，其特征在于，所述目标信号组合的周期强度为多种所述信号组合中周期强度最强的信号组合。6.根据权利要求1~4任一项所述的方法，其特征在于，所述生理特征指标预测值为预设值；或者，所述生理特征指标预测值为第P-1轮预测到的用户的所述生理特征指标的目标值，P大于或等于2；或者，所述生理特征指标预测值由所述多路PPG信号中一路目标PPG信号和所述运动信号预测得到。7.根据权利要求1~4任一项所述的方法，其特征在于，所述方法还包括：从所述多路PPG信号中选择一路目标PPG信号；根据所述目标PPG信号以及所述运动信号确定所述生理特征指标预测值。8.根据权利要求6所述的方法，其特征在于，所述目标PPG信号为所述可穿戴设备的PPG传感器的各所述通道分别采集的一路PPG信号对应的PPG平均信号。9.根据权利要求1~4任一项所述的方法，其特征在于，所述获取多路PPG信号以及由可穿戴设备的运动传感器采集到的运动信号之前，所述方法还包括：在用户佩戴所述可穿戴设备的情况下，响应于信号检测命令，所述可穿戴设备通过所述可穿戴设备的PPG传感器获取PPG信号，以及通过所述可穿戴设备的运行传感器获取加速度ACC信号作为所述运动信号；对所述PPG传感器获取到的PPG信号和加速度ACC信号进行预处理，以得到所述ACC信号对应的ACC有效频谱数据、所述PPG信号对应的PPG有效频谱数据，所述预处理至少包括滤波处理；分别计算所述PPG有效频谱数据和所述ACC有效频谱数据的功率谱密度PSD并进行归一化处理，以得到所述多路PPG信号，以及所述运动信号。10.根据权利要求1~4任一项所述的方法，其特征在于，所述生理特征指标包括：心率、血压或血氧饱和度中的一项或多项。11.根据权利要求1~4任一项所述的方法，其特征在于，所述根据所述目标信号组合预测所述用户的生理特征指标的目标值，包括：将所述目标信号组合输入至神经网络模型中以得到用户的所述生理特征指标的目标值。12.一种可穿戴设备，其特征在于，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如权利要求1至11任一项所述的方法。13.一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至11任一项所述的方法。14.一种芯片，其特征在于，包括处理器；所述处理器用于读取并执行存储器中存储的计算机程序，以执行如权利要求1至11中任一项所述的方法。
说明书desc
技术领域本申请实施例涉及可穿戴设备技术领域，尤其涉及一种检测用户生理特征指标的方法、装置及可穿戴设备。背景技术随着生活水平的提高，人们开始更加关注自己和家人的健康问题。越来越多的用户使用可穿戴设备对人体的生理特征参数进行监测。对于可穿戴设备上的心率监测，一般都是通过光电容积脉搏波法进行测量。PPG用发光二极管照射人体皮肤，利用光电二极管测量血流引起的反射光强度变化，进而得到与心脏律动相对应周期信号。然而PPG信号易受运动状态、佩戴环境等因素影响进而包含大量噪声，严重的影响了心率预测的准确性。发明内容本申请实施例提供一种检测用户生理特征指标的方法、装置及可穿戴设备，该方案用以提高可穿戴设备在用户运动场景中检测用户生理特征指标的精准度。第一方面，本申请实施例提供一种检测用户生理特征指标的方法，包括：电子设备获取多路光电容积脉搏波PPG信号以及由可穿戴设备的运动传感器采集到的运动信号，比如，多路PPG信号由可穿戴设备的PPG传感器的各通道分别采集的PPG信号确定。电子设备将多路PPG信号以及多种参考信号进行组合以得到多种信号组合，多种参考信号至少包括：可穿戴设备的传感器模组采集的红外信号、绿光信号以及运动信号。其中，一个信号组合包括：参考信号中的一种以及多路PPG信号中的一种，不同信号组合包括的参考信号和PPG信号不同。电子设备根据生理特征指标预测值，以及每种参考信号的主频，计算多种信号组合中每种信号组合的能占比。然后电子设备根据每种信号组合的能占比从多种信号组合中选择周期性符合要求的目标信号组合，并利用目标信号组合预测用户的生理特征指标的目标值。本申请实施例提供的方法中，通过将多路PPG信号和多种参考信号进行组合，以得到多种信号组合，由于每个信号组合包括一路PPG信号和一种参考信号，后续电子设备可以计算每种信号组合的能占比，以及结合每种信号组合的周期性从多种信号组合中选择周期性符合要求的目标信号组合进行心率预测，由于用于检测心率/血压/血氧饱和度等的PPG信号是一种周期性比较强的信号，当信号的干扰较少时，该PPG信号的周期性越强，当在用户处于运动状态时，采集到的PPG信号可能会存在较大的干扰，因此破坏了PPG信号的周期性，因此通过选择周期性最强的信号组合作为目标信号组合可以使得最终根据目标信号组合预测到的生理特征指标的目标值更精准，本方案可以实现实时动态地寻找各类运动强度时真实心率所对应的频谱信息，模拟当前佩戴场景下最佳的去噪方案，最大化通道信号使用率的同时，提高心率预测的准确性。在第一方面的一种可能的实现方式中，电子设备利用目标信号组合预测用户的生理特征指标的目标值，包括：比如，电子设备中具有神经网络模型，则电子设备可以将目标信号组合输入至神经网络模型中以得到用户的生理特征指标的目标值。在第一方面的一种可能的实现方式中，电子设备利用目标信号组合预测用户的生理特征指标的目标值，包括：电子设备可以将目标信号组合提供给其他设备，以使得其他设备将目标信号组合输入至用神经网络模型中以得到用户的生理特征指标的目标值。之后其他设备将用户的生理特征指标的目标值反馈给电子设备，该方案可以实现由电子设备和其他设备进行交互以得到用户的生理特征指标的目标值，可以减少电子设备的计算量。在第一方面的一种可能的实现方式中，多路PPG信号包括由可穿戴设备的PPG传感器的各通道分别采集的PPG信号以及各通道分别采集的PPG信号得到的PPG平均信号。在第一方面的一种可能的实现方式中，多路PPG信号包括由可穿戴设备的PPG传感器的各通道分别采集的PPG信号。可以理解的是，可穿戴设备的PPG传感器可以是具有多个通道的PPG传感器，在PPG传感器采集PPG信号时，各个通道均会采集一路PPG信号，然后电子设备可以将各通道分别采集到的PPG信号求平均以得到PPG平均信号。当然，也可以为各个通道配置一个权重值，然后根据各个通道的权重值以及通道分别采集到的一路PPG信号得到PPG平均信号。在第一方面的一种可能的实现方式中，电子设备根据每种信号组合的能占比从多种信号组合中选择周期性符合要求的目标信号组合，包括：电子设备根据多种信号组合的能占比从多种信号组合中选择能占比靠前的至少一种信号组合。电子设备从至少一种信号组合中选择周期性符合要求的信号组合作为目标信号组合。由于一组信号组合的能占比越靠前表示该信号组合越接近用户的心率/血压/血氧饱和度，因此通过从能占比越靠前的至少一种信号组合中选择周期性符合要求的信号组合作为目标信号组合用于预测用户的生理特征指标的目标值可以使得最终预测到的生理特征指标的目标值更精准，更接近用户的实际生理特征指标的值。在第一方面的一种可能的实现方式中，电子设备从至少一种信号组合中选择周期性符合要求的信号组合作为目标信号组合，包括：电子设备计算至少一种信号组合中每种信号组合的周期强度。电子设备根据每种信号组合的周期强度，从至少一种信号组合中选择周期性符合要求的信号组合作为目标信号组合。本申请实施例中周期性符合要求的信号组合可以指一组信号组合的周期强度大于或等于预设周期强度。在第一方面的一种可能的实现方式中，目标信号组合的周期性为多种信号组合中周期性最强的信号组合。由于用于检测心率/血压/血氧饱和度等的PPG信号是一种周期性比较强的信号，当信号的干扰较少时，该PPG信号的周期性越强，当在用户处于运动状态时，采集到的PPG信号可能会存在较大的干扰，因此破坏了PPG信号的周期性，因此通过选择周期性最强的信号组合作为目标信号组合可以使得最终根据目标信号组合预测到的生理特征指标的目标值更精准。在第一方面的一种可能的实现方式中，生理特征指标预测值为预设值，或者生理特征指标预测值为第P-1轮预测到的用户的生理特征指标的目标值，或者生理特征指标预测值由多路PPG信号中一路目标PPG信号和运动信号预测得到的，P大于或等于2。比如说进行第P轮预测用户的生理特征指标的目标值时，可以采用第P-1轮预测到的用户的生理特征指标的目标值，这样通过多次不断的迭代训练可以使得最终预测到的生理特征指标的目标值更精准。在第一方面的一种可能的实现方式中，本申请实施例提供的方法在根据生理特征指标预测值，以及多种所述参考信号的主频，计算多种所述信号组合中每种所述信号组合的能占比之前还包括：电子设备从多路PPG信号中选择一路目标PPG信号。电子设备根据目标PPG信号以及运动信号确定生理特征指标预测值。比如，电子设备将目标PPG信号以及运动信号输入至神经网络模型中以得到生理特征指标预测值。作为一种示例，目标PPG信号可以是多路PPG信号中的任一路PPG信号，当然该目标PPG信号也可以是多路PPG信号中的PPG平均信号。本申请实施例对此不做限定。由于PPG传感器的各个通道存在优劣，因此各通道采集到的PPG信号的质量存在差异，因此选择使用各通道分别采集到的PPG信号对应的PPG平均信号作为目标PPG信号以得到生理特征指标预测值可以使得得到生理特征指标预测值的精度更高。在第一方面的一种可能的实现方式中，电子设备获取多路PPG信号以及由可穿戴设备的运动传感器采集到的运动信号之前，本申请实施例提供的方法还包括：在用户佩戴可穿戴设备的情况下，响应于心率检测命令，可穿戴设备通过可穿戴设备的PPG传感器获取PPG信号，以及通过可穿戴设备的运行传感器获取加速度ACC信号作为运动信号。电子设备对PPG传感器获取到的PPG信号和加速度ACC信号进行预处理，以得到ACC信号对应的ACC有效频谱数据、PPG信号对应的PPG有效频谱数据，预处理至少包括滤波处理。电子设备分别计算PPG有效频谱数据和ACC有效频谱数据的功率谱密度PSD并进行归一化处理，以得到多路PPG信号，以及运动信号。在第一方面的一种可能的实现方式中，生理特征指标包括：心率、血压或血氧饱和度中的一项或多项。在第一方面的一种可能的实现方式中，电子设备根据目标信号组合预测用户的生理特征指标的目标值，包括：电子设备将目标信号组合输入至神经网络模型中以得到用户的生理特征指标的目标值。第二方面，本申请实施例提供的一种检测用户生理特征指标的装置，该装置包括：获取单元，用于获取多路光电容积脉搏波PPG信号以及由可穿戴设备的运动传感器采集到的运动信号，多路PPG信号由可穿戴设备的PPG传感器的各通道分别采集的PPG信号确定。确定单元，用于根据多路PPG信号以及多种参考信号，确定多种信号组合，所述多种参考信号至少包括：可穿戴设备的红外传感器采集的红外信号、运动信号以及绿光信号；其中，一个所述信号组合包括：参考信号中的一种以及多路PPG信号中的一种，不同信号组合包括的参考信号和PPG信号不同。处理单元，用于根据生理特征指标预测值，以及多种参考信号的主频，计算多种信号组合中每种所述信号组合的能占比，以及用于根据每种信号组合的能占比从多种信号组合中选择周期性符合要求的目标信号组合；预测单元，用于根据目标信号组合预测用户的生理特征指标的目标值。在第二方面的一种可能的实现方式中，多路PPG信号包括由可穿戴设备的PPG传感器的各通道分别采集的一路PPG信号以及各通道分别采集的一路PPG信号得到的PPG平均信号。在第二方面的一种可能的实现方式中，处理单元，具体用于根据每种信号组合的能占比从多种信号组合中选择能占比靠前的至少一种信号组合，以及用于从至少一种信号组合中选择周期性符合要求的所述信号组合作为所述目标信号组合。在第二方面的一种可能的实现方式中，该装置还可以包括：计算单元，用于计算至少一种所述信号组合中每种信号组合的周期强度。处理单元，具体用于根据每种信号组合的周期强度，从至少一种信号组合中选择周期性符合要求的信号组合作为所述目标信号组合。在第二方面的一种可能的实现方式中，目标信号组合的周期强度为多种所述信号组合中周期强度最强的信号组合。在第二方面的一种可能的实现方式中，生理特征指标预测值为预设值，即可穿戴设备等电子设备中预先存储有生理特征指标预测值，这样在利用本申请提供的方法进行首轮预测用户的生理特征指标的目标值时，可以利用该预设值计算各个信号组合的能占比。在第二方面的一种可能的实现方式中，生理特征指标预测值为第P-1轮预测到的用户的生理特征指标的目标值，P为大于或等于2的整数。比如，可穿戴设备等电子设备可以利用本申请提供的方法进行多次迭代以确定用户的生理特征指标的目标值，然后再每一次迭代之前，可穿戴设备等电子设备可以利用本轮次迭代之前上一轮次计算到的用户的生理特征指标的目标值计算各个信号组合的能占比。在第二方面的一种可能的实现方式中，生理特征指标预测值由多M路PPG信号中一路目标PPG信号和运动信号预测得到。即可穿戴设备等电子设备在利用本申请提供的方法进行首轮预测用户的生理特征指标的目标值之前，可以利用多M路PPG信号中一路目标PPG信号和运动信号先预测到的一个生理特征指标预测值，然后利用该生理特征指标预测值预测首轮用户的生理特征指标的目标值。在第二方面的一种可能的实现方式中，选择单元，还用于从多路PPG信号中选择一路目标PPG信号。预测单元，还用于根据目标PPG信号以及运动信号确定生理特征指标预测值。在第二方面的一种可能的实现方式中，目标PPG信号为PPG平均信号。在第二方面的一种可能的实现方式中，采集单元，用于当用户佩戴可穿戴设备的情况下，响应于用户触发的信号检测命令或者达到可穿戴设备的生理指标检测周期则可认为检测到信号检测命令，可穿戴设备通过可穿戴设备的PPG传感器获取光电容积脉搏波PPG信号，以及通过可穿戴设备的运行传感器获取加速度ACC信号。处理单元，还用于对所述光电容积脉搏波PPG信号和加速度ACC信号进行预处理，以得到所述ACC信号对应的ACC有效频谱数据、所述PPG信号对应的PPG有效频谱数据，所述预处理至少包括滤波处理；处理单元，还用于分别计算PPG有效频谱数据和ACC有效频谱数据的PSD，并进行归一化处理，以得到多路PPG信号，以及由可穿戴设备的运动传感器采集到的运动信号。在第二方面的一种可能的实现方式中，生理特征指标包括：心率、血压或血氧饱和度中的一项或多项。在第二方面的一种可能的实现方式中，预测单元，具体用于将目标信号组合输入至神经网络模型中以得到用户的生理特征指标的目标值。第三方面，本申请实施例提供一种电子设备，包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现如第一方面或第一方面的各种可能的实现方式。第四方面，本申请实施例提供一种计算机可读存储介质，所述计算机可读存储介质存储有计算机程序，所述计算机程序被处理器执行时实现如第一方面或第一方面的各种可能的实现方式。第五方面，本申请实施例提供一种芯片，包括处理器；处理器用于读取并执行存储器中存储的计算机程序，以执行如第一方面或第一方面的各种可能的实现方式。附图说明图1为本申请实施例提供的一种场景示意图；图2A为本申请实施例提供的PPG传感器检测心率的原理示意图；图2B为本申请实施例提供的一种可穿戴设备的结构示意图；图3为本申请实施例提供的一种检测用户生理特征指标的方法的流程示意图；图4a和图4b为本申请实施例提供的不同信号组合的能占比示意图；图4c为本申请实施例提供的一种不同场景下通道选择方案的占比示意图；图5为本申请实施例提供的另一种检测用户生理特征指标的方法的流程示意图；图6为本申请实施例提供的一种多轮迭代训练时每一轮次的目标值和实际值之间的差异示意图；图7为本申请实施例提供的一种检测用户生理特征指标的装置的结构示意图。具体实施方式为了便于清楚描述本申请实施例的技术方案，在本申请的实施例中，采用了“第一”、“第二”等字样对功能和作用基本相同的相同项或相似项进行区分。例如，第一信号和第二信号仅仅是为了区分不同的语法解析结果，并不对其先后顺序进行限定。本领域技术人员可以理解“第一”、“第二”等字样并不对数量和执行次序进行限定，并且“第一”、“第二”等字样也并不限定一定不同。需要说明的是，本申请中，“示例性的”或者“例如”等词用于表示作例子、例证或说明。本申请中被描述为“示例性的”或者“例如”的任何实施例或设计方案不应被解释为比其他实施例或设计方案更优选或更具优势。确切而言，使用“示例性的”或者“例如”等词旨在以具体方式呈现相关概念。本申请中，“至少一个”是指一个或者多个，“多个”是指两个或两个以上。“和/或”，描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B的情况，其中A，B可以是单数或者复数。字符“/”一般表示前后关联对象是一种“或”的关系。“以下至少一项”或其类似表达，是指的这些项中的任意组合，包括单项或复数项的任意组合。例如，a，b，或c中的至少一项，可以表示：a，b，c，a-b，a-c，b-c，或a-b-c，其中a，b，c可以是单个，也可以是多个。PPG是利用光学原理将人体生物信号转换为电信号的非侵入式检测技术，具体地，将LED光射向皮肤，用光敏传感器接受经过皮肤组织吸收后被反射回来或透射过去的光，将光敏传感器得到的电信号转化为数字信号即得到PPG信号。由于其无创、简单、便携等优点大量被广泛用于人体的生理心率、血氧、压力等方面的健康监测。其中，心率作为衡量心脏搏动能力的参数之一，对心率的准确检测具有重要的医学意义。在理想情况下，PPG信号能够精确地检测出人体各时刻的心率值。然而，由于硬件、温度、运动等复杂场景的噪声影响，导致PPG的真实信号失真，使得心率计算的准确率受到了极大的制约。其中影响最大的是运动伪影，它会使得PPG时域信号上出现波峰波谷的缺失或者变形，使得时域计数法精度降低，而频域上则显示为PPG谱峰的异常，无法精准定位当前时刻的PPG信号主频，难以取得准确结果。因此如何自适应的消除PPG信中的复杂噪声，提升心率检测精度是一个重要问题。本申请实施例提供的一种检测用户生理特征指标的方法可以应用于手机、可穿戴设备等电子设备中，比如，可穿戴设备可以是智能手表，智能手环等设备，本申请实施例对电子设备的具体类型不作任何限制。本申请实施例提供的可穿戴设备是一种可整合到用户的皮肤、衣物或配件的一种便携式设备，具备计算功能，可连接手机以及各类终端设备。示例性地，可穿戴设备可以是智能手表、智能腕带、便携式音乐播放器、健康监测设备、计算或游戏设备、智能电话、配饰等。在一些实施例中，可穿戴设备可为围绕用户的手腕佩戴的表。该电子设备中包括PPG传感器，运动传感器以及传感器模组。其中，PPG传感器具有M-1个通道，M个通道中每一个通道用于采集一路PPG信号，换言之，该PPG传感器可以采集到M-1路PPG信号，即PPG信号1~PPG信号M-1。作为一种示例，M可以等于5，即电子设备中可以具有4通道PPG传感器。该传感器模组用于采集绿光信号和红外信号，该传感器模组的LED可以发射不同波长的光源，以采集到绿光信号和红外信号。当然，本申请中的红外信号和绿光信号也可以由不同的传感器模组采集，本申请实施例对此不做限定。作为一种示例，PPG的心率检测原理：利用人体的血液容积会随着心脏律动呈搏动性变化，光感应器接收的光强也随之呈搏动性变化。通过PPG模拟前端芯片调节，即可将光强变化信号转换为电信号，由此计算心率值。PPG的血氧饱和度检测原理：利用氧中血红蛋白与脱氧血红蛋白对红光和红外光的吸收光谱不同，测量氧和血红蛋白的浓度，即可提供可连续的动态血氧监测PPG信号。如图1所示，图1为本申请实施例提供的一种场景示意图，如图1中的图所示，该智能手表中具有多通道的PPG传感器，该智能手表可利用PPG技术检测人体的生理特征指标的参数值，比如心率值。可选地，该可穿戴设备可以显示心率值。可选地，该系统架构还可以包括与可穿戴设备无线连接的终端设备，该终端设备可以接收并显示智能手表发送的心率值，供用户查看。在用户佩戴可穿戴设备，比如智能手表的情况下，假如用户想测量当前自己的心率，则用户可以触发智能手表显示如图1中的所示的界面，在该界面中包括心率检测控件，用户可以点击心率检测控件以触发智能手环中的PPG传感器开始采集用户的PPG信号，即PPG信号1~PPG信号4，如图1中的图和图2A所示，以PPG传感器检测心率为例，PPG传感器利用发光二极管照射人体皮肤，利用光电二极管测量血流引起的反射光强度变化，进而得到与心脏律动相对应周期信号，比如，在采集到PPG信号1~PPG信号4、红外信号以及用户的运动信号的情况下，智能手表可以通过本申请实施例提供的方法预测用户的心率，并进行显示，如图1中的图所示。可以理解的是，在用户点击心率检测控件的情况下，智能手表中的ACC传感器、传感器模组和PPG传感器同步工作，以分别采集ACC信号、红外信号、绿光信号以及多路PPG信号。其中，本申请实施例涉及到的可穿戴设备可以为智能手表、智能手环等支持心率检测的用户可穿戴电子设备，为了便于说明，图1以及下述实施例中描述可穿戴设备时均以智能手表为例进行示例性说明。图2B是本申请些实施例提供的可穿戴设备的示意性功能框图。示例性地，可穿戴设备100可以是智能手表或智能手环等。参考图2B，示例性地，可穿戴设备100可以包括处理器110、传感器模块130、显示屏140、存储器160、供电模块170、音频设备180、无线通信模块191和移动通信模块192。可以理解的是，图2B所示的部件并不构成对可穿戴设备100的具体限定，可穿戴设备100还可以包括比图示更多或更少的部件，或者组合某些部件，或者拆分某些部件，或者不同的部件布置。处理器110可以包括一个或多个处理单元，例如：处理器110可以包括应用处理器，调制解调处理器，图形处理器，图像信号处理器，控制器，存储器，视频编解码器，数字信号处理器，基带处理器，和/或神经网络处理器等。其中，不同的处理单元可以是独立的器件，也可以集成在一个或多个处理器中。其中，控制器可以是可穿戴设备100的神经中枢和指挥中心。控制器可以根据指令操作码和时序信号，产生操作控制信号，完成取指令和执行指令的控制。在另一些实施例中，处理器110中还可以设置存储器，用于存储指令和数据。在一些实施例中，处理器110中的存储器为高速缓冲存储器。该存储器可以保存处理器110刚用过或循环使用的指令或数据。如果处理器110需要再次使用该指令或数据，可从所述存储器中直接调用，避免了重复存取，减少了处理器110的等待时间，因而提高了可穿戴设备100的效率。在本申请实施例中，处理器110可以用于：获取多路PPG信号以及运动信号，且将多路PPG信号以及多种参考信号进行组合以得到多种信号组合，多种参考信号至少包括：可穿戴设备的传感器模组采集的红外信号、绿光信号以及运动信号；进而根据生理特征指标预测值以及每种参考信号的主频，计算多种信号组合中每种信号组合的能占比；最终根据每种信号组合的能占比从多种信号组合中选择周期性符合要求的目标信号组合，并利用目标信号组合预测用户的生理特征指标的目标值。可选的，在可穿戴设备为智能手表或智能手环的情况下，可穿戴设备还可以包括可旋转输入装置，可旋转输入装置可以是机械设备，用户接触可旋转输入装置，使得可旋转输入装置发生旋转，以实现可穿戴设备100的启动、列表的滚动、页面切换、旋转解锁、桌面图标缩放、调节信号等的功能或操作。在一些实施例中，用户接触可旋转输入装置，还可以使得可旋转输入装置发生平移或倾斜等其他形式的移动，进而实现可穿戴设备的其他功能或操作，例如，通过按压可旋转输入装置实现可穿戴设备的开机或关机。可以理解，可穿戴设备100可包括一个或多个可旋转输入装置。传感器模块130可以包括一个或多个传感器，例如，可以包括PPG传感器130A、压力传感器130B、电容传感器130C、加速度传感器130D、环境光传感器130E、接近光传感器130F、触摸传感器130G和光传感器130H等。应理解，图2B仅是列举了几种传感器的示例，在实际应用中，可穿戴设备100还可以包括更多或很少的传感器，或者使用其他具有相同或类似功能的传感器替换上述列举的传感器等等，本申请实施例不作限定。PPG传感器130A，可以用于检测心率，即单位时间内的心跳次数。在一些实施例中，PPG传感器130A可以包括光发送单元和光接收单元。光发送单元可以将光束照射到人体中，光束在人体中发生反射/折射，反射/折射光被光接收单元接收，得到光信号。由于血液在波动的过程中，透光率发生变化，所以发射/折射光是变化的，PPG传感器130A检测到的光信号也是变化的。PPG传感器130A可以将光信号转换成电信号，确定该电信号对应的心率。在本申请实施例中，PPG传感器130A可以设置在可旋转输入装置内或设置在可穿戴设备100的壳体内，可通过PPG传感器130A检测的光信号实现PPG检测的功能。本申请实施例中的PPG传感器130A具有多个通道，每一通道用于采集一路PPG信号。压力传感器130B，用于感受压力信号，可以将压力信号转换成电信号。在一些实施例中，压力传感器130B可以设置于显示屏140。压力传感器130B的种类很多，如电阻式压力传感器，电感式压力传感器，电容式压力传感器等。电容传感器130C，可以用于检测两个电极之间的电容，以实现特定功能。在一些实施例中，电容传感器130C可用于检测人体与可穿戴设备100之间的电容，该电容可以反映人体与可穿戴设备之间的是否接触良好，可应用于心电图检测，其中，人体可作为一个电极。加速度传感器130D，可以用于检测可穿戴设备100在各个方向上加速度的大小。可穿戴设备100是可穿戴式设备，用户佩戴可穿戴设备100时，可穿戴设备100在用户的带动下运动，所以加速度传感器130D检测到的在各个方向的加速度大小，可以反映人体的运动状态。比如说本申请实施例中的加速度传感器130D用于采集用户的ACC信号。环境光传感器130E，用于感知环境光光参数。例如，环境光参数可以包括环境光强度或环境光中的紫外线的系数等。可穿戴设备100可以根据感知的环境光强度自适应调节显示屏的亮度。环境光传感器130E也可用于拍照时自动调节白平衡。环境光传感器130E还可以与接近光传感器130F配合，检测可穿戴设备100是否在口袋里，以防误触。接近光传感器130F，可以包括例如发光二极管和光检测器，例如光电二极管。发光二极管可以是红外发光二极管。可穿戴设备100通过发光二极管向外发射红外光。可穿戴设备100使用光电二极管检测来自附近物体的红外反射光。当检测到充分的反射光时，可以确定可穿戴设备100附近有物体。当检测到不充分的反射光时，可穿戴设备100可以确定可穿戴设备100附近没有物体。可穿戴设备100可以利用接近光传感器130F检测用户手持可穿戴设备100贴近耳朵通话，以便自动熄灭屏幕达到省电的目的。接近光传感器130F也可用于皮套模式，口袋模式自动解锁或锁屏。触摸传感器130G，可以设置于显示屏，由触摸传感器130G与显示屏组成触摸屏，也称“触控屏”。触摸传感器130G用于检测作用于其上或附近的触摸操作。触摸传感器130G可以将检测到的触摸操作传递给处理器，以确定触摸事件类型。可以通过显示屏提供与触摸操作相关的视觉输出。在另一些实施例中，触摸传感器130G也可以设置于显示屏的表面，与显示屏所处的位置不同。光传感器130H，可用于检测例如表冠的可旋转输入装置的旋转角度和旋转方向以得到角度数据，以使得处理器根据该角度数据处理与旋转相关的业务。显示屏140包括显示面板。显示面板可以采用液晶显示屏，有机发光二极管，有源矩阵有机发光二极体或主动矩阵有机发光二极体，柔性发光二极管，Miniled，MicroLed，Micro-oLed，量子点发光二极管等。在一些实施例中，显示屏中可以设置触摸传感器，形成触摸屏，本申请实施例不作限定。可以理解，在一些实施例中，可穿戴设备100可以包含显示屏140，也可以不包含显示屏140，例如，当可穿戴设备100是手环时，可以包含显示屏或不包含显示屏，当可穿戴设备100是手表时，可以包含显示屏。存储器160，可以用于存储计算机可执行程序代码，所述可执行程序代码包括指令。处理器110通过运行存储在存储器的指令，从而执行可穿戴设备100的各种功能应用以及数据处理。存储器160可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件，闪存器件，通用闪存存储器等，本申请实施例不作限定。供电模块170，可为可穿戴设备100中的各个部件比如处理器110、传感器模块130等供电。在一些实施例中，供电模块170可为电池或其他便携式的电力元件。在另一些实施例中，可穿戴设备100还可以与充电设备连接，供电模块170可以接收充电设备输入的电能，以电池蓄电。音频设备180可包括麦克风、喇叭或听筒等可接收或输出声音信号的设备。喇叭，也称“扬声器”，用于将音频电信号转换为声音信号。可穿戴设备100可以通过喇叭收听音乐，或收听免提通话。听筒，也称“受话器”，用于将音频电信号转换成声音信号。当可穿戴设备100接听电话或语音信息时，可以通过将听筒靠近人耳接听语音。麦克风，也称“话筒”，“传声器”，用于将声音信号转换为电信号。当拨打电话或发送语音信息时，用户可以通过人嘴靠近麦克风发声，将声音信号输入到麦克风。可穿戴设备100可以设置至少一个麦克风。在另一些实施例中，可穿戴设备100可以设置两个麦克风，除了采集声音信号，还可以实现降噪功能。在另一些实施例中，可穿戴设备100还可以设置三个，四个或更多麦克风，实现采集声音信号，降噪，还可以识别声音来源，实现定向录音功能等。另外，可穿戴设备100可以具有无线通信功能。继续参考图2B，可穿戴设备100还可以包括无线通信模块191、移动通信模块192、一个或多个天线1以及一个或多个天线2。可穿戴设备100可以通过天线1、天线2、无线通信模块191、移动通信模块192实现无线通信功能。在一些实施例中，无线通信模块191可以提供应用在可穿戴设备100上的遵循各类网络通信协议或通信技术的无线通信的解决方案。示例性地，该网络通信协议可以包括无线局域网网络），蓝牙，全球导航卫星系统，调频，近距离无线通信技术，红外技术等通信协议。例如，可穿戴设备100可以通过蓝牙协议与其他电子设备例如手机建立蓝牙连接。在另一些实施例中，无线通信模块191可以是集成至少一个通信处理模块的一个或多个器件。无线通信模块191经由天线1接收电磁波，将电磁波信号调频以及滤波处理，将处理后的信号发送到处理器110。无线通信模块191还可以从处理器110接收待发送的信号，对其进行调频，放大，经天线1转为电磁波辐射出去。在一些实施例中，无线通信模块191可以和一个或多个天线1耦合，使得可穿戴设备100可以通过无线通信技术与网络以及其他设备通信。在一些实施例中，移动通信模块192可以提供应用在可穿戴设备100上的遵循各类网络通信协议或通信技术的无线通信的解决方案。示例性地，该网络通信协议可以是各种有线或无线通信协议，诸如以太网、全球移动通讯系统、通用分组无线服务、码分多址接入、宽带码分多址，时分码分多址，长期演进、基于互联网协议的语音通话、支持网络切片架构的通信协议或任何其他合适的通信协议。例如，可穿戴设备100可以通过WCDMA通信协议与其他电子设备例如手机建立无线通信连接。在另一些实施例中，移动通信模块192可以包括至少一个滤波器，开关，功率放大器，低噪声放大器等。在另一些实施例中，移动通信模块192的至少部分功能模块可以被设置于处理器110中。在另一些实施例中，移动通信模块192的至少部分功能模块可以与处理器110的至少部分模块被设置在同一个器件中。移动通信模块192可以由天线2接收电磁波，并对接收的电磁波进行滤波，放大等处理，传送至调制解调处理器进行解调。移动通信模块192还可以对经调制解调处理器调制后的信号放大，经天线2转为电磁波辐射出去。在一些实施例中，移动通信模块192可以与一个或多个天线2耦合，使得可穿戴设备100可以通过无线通信技术与网络以及其他设备通信。如图3所示，图3为本申请实施例提供的一种检测用户生理特征指标的方法，下述实施例以该方法的执行主体为可穿戴设备为例进行描述，当然本申请实施例提供的方法也可以由应用于可穿戴设备中的装置，比如芯片来执行，或者本申请实施例提供的方法还可以由手机、服务器、平板电脑等设备或者应用于这些设备中的芯片来执行，本申请实施例对此不做限定，该方法包括：步骤301、可穿戴设备获取多路PPG信号以及由可穿戴设备的运动传感器采集到的运动信号。其中，多路PPG信号由可穿戴设备的PPG传感器的各个通道分别采集到的一路PPG信号确定。作为一种示例，可穿戴设备中设置有PPG传感器和运动传感器。PPG传感器具有多个通道，每个通道可以检测得到一路PPG信号。因此本申请实施例中的多路PPG信号可以包括M-1个通道中每个通道分别采集的一路PPG信号，即多路PPG信号包括M-1路PPG信号，或者多路PPG信号可以包括M-1路PPG信号以及根据M-1路PPG信号得到的PPG平均信号。该PPG信号可以反映用户的心率数据/血压数据/血氧饱和度等数据。PPG平均信号用于反映各通道采集到的一路PPG信号的平均值。作为一种示例，加速度传感器可以检测得到加速度信号，该ACC信号可以反映用户的运动数据。作为一种示例，本申请实施例的执行主体可以是手机等电子设备，比如，智能手环等可穿戴设备可以将利用可穿戴设备的PPG传感器采集到的PPG信号和运动传感器采集到的运动信号发送给手机，然后由手机等电子设备执行本申请实施例提供的方法以得到用户的用户生理特征指标的目标值。作为另一种示例，本申请实施例中的执行主体可以是可穿戴设备，比如，智能手环利用智能手环的PPG传感器采集PPG信号和运动传感器采集到的运动信号执行本申请实施例提供的方法以得到用户的用户生理特征指标的目标值。示例性地，以检测用户的心率为例，当满足预设心率检测触发条件时，可以触发可穿戴设备进行心率检测。例如，可穿戴设备会接收到心率检测命令，并且响应于心率检测命令，触发PPG传感器检测或采集PPG信号，并且触发加速度传感器检测或采集ACC信号，从而可穿戴设备获取到PPG信号和ACC信号。作为一种示例，可穿戴设备上具有第一控件，比如，该第一控件可以是心率检测控件，也可以是血压检测控件或者是血氧检测控件，本申请实施例对此不做限定。该第一控件可以是可穿戴设备上的按键，或者该第一控件可以是可穿戴设备的可操作界面上的虚拟控件，本申请实施例对此不作限定。以可穿戴设备测量用户的心率的场景为例，当可穿戴设备检测到用户触发进行心率测量的控件的情况下，可穿戴设备便可以利用PPG传感器采集PPG信号。这时ACC传感器也同步采集运动信号，比如ACC信号。可穿戴设备除了在用户的触发下利用PPG传感器采集PPG信号外，可穿戴设备还可以周期性通过PPG传感器采集用户的PPG信号。比如，用户在可穿戴设备中设置每30分钟测量一次心率，则可穿戴设备便可以每隔30分钟利用PPG传感器采集用户的心率，并通过本申请实施例提供的方法计算心率。步骤302、可穿戴设备根据多路PPG信号以及多种参考信号，确定多种信号组合。其中每种信号组合包括一路PPG信号以及一种参考信号，不同信号组合所包括的PPG信号和参考信号不同。比如，作为一种示例，下述以参考信号的数量为N进行表述，N种参考信号可以包括可穿戴设备的传感器模组采集到的红外信号、运动信号以及传感器模组采集到的绿光信号。换言之，一个信号组合包括：运动信号、红外通道信号以及绿光通道信号中的一种以及M路PPG信号中的一种。综上将M路PPG信号以及N种参考信号进行信号组合可以得到M×N种信号组合。举例说明，以M等于5，N=3为例即PPG传感器为四通道传感器为例，则PPG传感器采集到的PPG信号包括四路PPG信号，N种参考信号包括3种参考信号，即ACC信号、红外信号以及绿光信号为例，四路PPG信号包括：PPG信号1、PPG信号2、PPG信号3以及PPG信号4，该四路PPG信号的PPG平均信号为GAvg信号为例，则PPG信号1、PPG信号2、PPG信号3、PPG信号4、GAvg信号与多种参考信号进行组合得到的信号组合如下：信号组合1：PPG信号1和红外信号；信号组合2：PPG信号2和红外信号；信号组合3：PPG信号3和红外信号；信号组合4：PPG信号4和红外信号；信号组合5：GAvg信号和红外信号；信号组合6：PPG信号1和ACC信号；信号组合7：PPG信号2和ACC信号；信号组合8：PPG信号3和ACC信号；信号组合9：PPG信号4和ACC信号；信号组合10：GAvg信号和ACC信号；信号组合11：PPG信号1和绿光信号；信号组合12：PPG信号2和绿光信号；信号组合13：PPG信号3和绿光信号；信号组合14：PPG信号4和绿光信号；信号组合15：GAvg信号和绿光信号。在本申请的一个可能的实现方式中，在进行信号组合时，在参考信号只有绿光信号的情况下，可以将参考信号视为0，这样当PPG信号1、PPG信号2、PPG信号3、PPG信号4以及GAvg信号分别绿光信号进行信号组合所得到的5个信号组合只包括PPG信号1、PPG信号2、PPG信号3、PPG信号4以及GAvg信号。即在绿光信号视为0参考信号的情况下，信号组合11可替换为：PPG信号1；信号组合12：PPG信号2；信号组合13：PPG信号3；信号组合14：PPG信号4；信号组合15：GAvg信号。步骤303、可穿戴设备根据生理特征指标预测值，以及每种参考信号的主频，计算多种信号组合中每一种信号组合的能占比。比如，可穿戴设备可以根据生理特征指标预测值，每种参考信号的主频以及谱减法，计算多种信号组合中每一种信号组合的能占比。比如，可穿戴设备可以计算上述信号组合1~信号组合15中每种信号组合的能占比。在具体实现过程中，可穿戴设备可以自行计算每一种信号组合的能占比。当然，可穿戴设备也可以将生理特征指标预测值，以及运动信号的主频等参数发送给服务器或者与可穿戴设备通信的其他终端设备以通过服务器或者其他终端设备计算每一种信号组合的能占比，并反馈给可穿戴设备，这样可以减少可穿戴设备的计算量。谱减法是通过从含噪声信号的频谱中减去噪声频谱，在本发明实施例中噪声频谱由噪声主频和频率带宽共同计算。具体为：首先通过短时傅里叶变换计算PPG信号和ACC信号的频谱，再根据频谱能量大小识别ACC主频对应频段，最后从PPG频谱中减去以ACC主频为中心，一定频谱带宽的频谱。可选的，可穿戴设备根据生理特征指标预测值，以及每种参考信号的主频通过陷波法，计算多种信号组合中每一种信号组合的能占比。在实际操作中，在选择ACC作为参考信号的情况下，使用陷波法；在选择红外作为参考信号的情况下，使用谱减法。陷波法的具体过程为：主频识别，利用陷波滤波器，从PPG信号中过滤掉该主频频段。可以理解的是，通过计算每一种信号组合的能占比可以得出每一种信号组合是否集中在心率/血压/血氧饱和度的预测范围内，即比较接近心率/血压/血氧饱和度。当然，信号组合的能占比越高，使用该信号组合进行心率/血压/血氧饱和度的预测更接近实际值。由于不同通道的PPG信号也可能存在差异，因此不同通道的PPG信号与同一个参考信号进行组合得到的信号组合的能占比也存在差异。图4a以PPG信号4和三种参考信号进行组合得到的3个信号组合的能占比为例，从图4a可以看出，PPG信号4与ACC信号得到的信号组合的能占比为0.287，PPG信号4与红外信号得到的信号组合的能占比为0.123，PPG信号4单独为一个信号组合的情况下，该PPG信号4的能占比为0.220。图4b以PPG信号1和三种参考信号进行组合得到的3个信号组合的能占比为例，从图4b可以看出，PPG信号1与ACC信号得到的信号组合的能占比为0.198，PPG信号1与红外信号得到的信号组合的能占比为0.343，PPG信号1单独为一个信号组合的情况下，该PPG信号1的能占比为0.221。步骤304、可穿戴设备根据每一种信号组合的能占比从多种信号组合中选择周期性符合要求的目标信号组合。步骤305、可穿戴设备根据目标信号组合预测用户的生理特征指标的目标值。作为一种示例，可穿戴设备中具有神经网络模型，该神经网络模型用于根据输入的目标信号组合，即输入至该神经网络模型中的目标信号组合包括的一路PPG和一种参考信号预测用户的生理特征指标值。本申请实施例中的神经网络模型是以ACC样本数据和PPG样本数据为输入，心率/血压/血氧饱和度等标签和运动场景标签为目标变量，通过深度注意力机制网络训练得到的模型，神经网络模型具有心率/血压/血氧饱和度检测能力。作为另一种示例，该神经网络模型可以部署在服务器中或者是手机等电子设备中，为了减少可穿戴设备的计算量，可穿戴设备可以将目标信号组合发送给服务器或者手机等电子设备，然后由服务器或者手机等电子设备将目标信号组合包括的一路PPG和一种参考信号输入至神经网络模型中以得到用户的生理特征指标的目标值，然后由服务器或者手机等电子设备将用户的生理特征指标的目标值反馈给可穿戴设备，本申请实施例对此不做限定。比如，以目标信号组合为上述信号组合8为例，则可穿戴设备可以将PPG信号3和ACC信号输入至神经网络模型中以得到用户的生理特征指标的目标值。值得说明的是，在测量用户心率的场景中，该神经网络模型为用于测量用户心率的神经网络模型，相应的，该可穿戴设备得到的用户的生理特征指标的目标值即为用户的心率的目标值。在测量用户血压的场景中，该神经网络模型为用于测量用户血压的神经网络模型，相应的，该可穿戴设备得到的用户的生理特征指标的目标值即为用户的血压的目标值。无论是哪一种场景，该神经网络模型可以采用现有的用于预测心率的神经网络模型或者用于预测血压的神经网络模型或者用于预测血氧饱和度的神经网络模型，本申请实施例对此不做限定。在本申请的一个可能的实施例中，可穿戴设备得到用户的生理特征指标的目标值之后可以输出该生理特征指标的目标值，比如如图1中的图所示，在可穿戴设备的显示界面上显示生理特征指标的目标值。或者可穿戴设备可以将用户的生理特征指标的目标值发送给手机等电子设备进行显示,供用户在终端设备上查看，本申请实施例对此不做限定。例如，在手机等电子设备安装运动健康APP的情况下，手机等电子设备可以在运动健康APP的界面中显示心率。可选的，本申请实施例提供的方法中可穿戴设备还可以存储用户的生理特征指标的目标值对应的时间，以便于后期根据用户在同一天不同时间测量到的用户的生理特征指标的目标值绘制用户的生理特征指标的变化曲线。或者是绘制用户在不同日期的生理特征指标的变化曲线，本申请实施例对此不做限定。本申请实施例提供的方法中，通过将多路PPG信号和多种参考信号进行组合，以得到多种信号组合，由于每个信号组合包括一路PPG信号和一种参考信号，后续电子设备可以计算每种信号组合的能占比，以及结合每种信号组合的周期性从多种信号组合中选择周期性符合要求的目标信号组合进行心率预测，由于用于检测心率/血压/血氧饱和度等的PPG信号是一种周期性比较强的信号，当信号的干扰较少时，该PPG信号的周期性越强，当在用户处于运动状态时，采集到的PPG信号可能会存在较大的干扰，因此破坏了PPG信号的周期性，因此通过选择周期性最强的信号组合作为目标信号组合可以使得最终根据目标信号组合预测到的生理特征指标的目标值更精准，本方案可以实现实时动态地寻找各类运动强度时真实心率所对应的频谱信息，模拟当前佩戴场景下最佳的去噪方案，最大化通道信号使用率的同时，提高心率预测的准确性。在本申请的一个可能的实施例中，本申请实施例提供的方法可以由可穿戴设备循环执行，比如可穿戴设备可以进行至少三次迭代计算以得到用户的生理特征指标的目标值。这样可以提高最终所得到的生理特征指标的目标值的准确性。在进行首轮迭代时，可穿戴设备可以将预设值或者由多路PPG信号中一路目标PPG信号和运动信号预测得到的生理特征指标的值作为生理特征指标预测值，以用于计算各组信号组合的能占比。而在进行第P轮迭代时，可穿戴设备可以将上一轮计算得到的生理特征指标的目标值作为生理特征指标预测值，以用于计算各组信号组合的能占比。比如，P=2、3、4、……中的任一个值。比如，假设第一轮迭代时使用多路PPG信号中一路目标PPG信号和运动信号预测得到的生理特征指标的值作为生理特征指标预测值并通过上述步骤303~步骤305预测得到一个生理特征指标的目标值1，则在第二轮迭代时使用生理特征指标的目标值1作为生理特征指标预测值并通过上述步骤303~步骤305预测得到一个生理特征指标的目标值2，生理特征指标的目标值2即为第二轮预测到的用户的生理特征指标的值。在本申请的一个可能的实施例中，生理特征指标预测值为预设值，或者所述生理特征指标预测值为第P-1轮预测到的所述用户的生理特征指标的目标值，或者所述生理特征指标预测值由所述M路PPG信号中一路目标PPG信号和所述运动信号预测得到，P大于或等于2。作为一种示例，可以通过获取该用户在不同时间/不同运动状况下的心率值，然后将该心率值作为预设值，以在计算M×N种信号组合中每一种信号组合的能占比时使用。为了提高预测到的心率的准确性，可穿戴设备可以通过迭代方式多次执行上述方法，以得到用户的生理特征指标的目标值。而在执行每一轮迭代时可以将上一轮计算得到的该用户的生理特征指标的目标值作为生理特征指标预测值，进行下一轮计算，以得到用户的生理特征指标的目标值。在本申请的一个可能的实现方式中，上述步骤304可以通过以下方式实现：可穿戴设备根据M×N种信号组合的能占比从M×N种信号组合中选择能占比靠前的k种信号组合，k大于或等于2且小于或等于M×N。可穿戴设备从k种信号组合中选择周期性符合要求的信号组合作为目标信号组合。比如说可穿戴设备可以从k种信号组合中选择周期性最强的信号组合作为目标信号组合。比如说可穿戴设备可以计算k种信号组合中每种信号组合的周期强度，然后可穿戴设备根据k种信号组合的周期强度从k种信号组合中选择周期性最强的一组信号组合作为目标信号组合。对于信号组合中的每一个信号，其周期强度可由计算信号的自相关系数得到。具体分两步：第一步通过画出信号的自相关函数图，找到自相关系数最高时对应的延时值。第二步根据第一步计算得到的延时值，计算该信号的最大周期强度。当然可穿戴设备也可以从k种信号组合中选择周期性符合要求的的一组信号组合作为目标信号组合。通过选择周期性最强的一组信号组合作为目标信号组合用于后续计算用户的生理特征指标的目标值可以提高所预测到的用户的生理特征指标的目标值的准确度。举例说明，可穿戴设备可以根据信号组合1~信号组合15中每种信号组合的能占比从信号组合1~信号组合15中选择能占比靠前的5种信号组合，比如，信号组合1、信号组合2、信号组合5、信号组合7、信号组合9。然后可穿戴设备确定信号组合1、信号组合2、信号组合5、信号组合7、信号组合9分别对应的周期强度。然后可穿戴设备根据信号组合1、信号组合2、信号组合5、信号组合7、信号组合9分别对应的周期强度从中选择周期性最强的一组信号组合作为目标信号组合。在本申请的一个可能的实现方式中，上述步骤304可以通过以下方式实现：可穿戴设备计算M×N种信号组合中每种信号组合的周期强度。可穿戴设备根据M×N种信号组合中每种信号组合的周期强度以及每种信号组合的能占比，从M×N种信号组合中确定目标信号组合。比如，可穿戴设备可以将M×N种信号组合中周期强度符合要求且能占比符合要求的一组信号组合确定为目标信号组合。在本申请的一个可能的实施例中，在可穿戴设备根据生理特征指标预测值，以及ACC信号的主频，计算M×N种信号组合中每一种信号组合的能占比之前，本申请实施例提供的方法还包括：可穿戴设备从多路PPG信号中选择一路目标PPG信号。可穿戴设备根据目标PPG信号以及运动信号确定生理特征指标预测值。在本申请的一种可能的实现方式中，可穿戴设备根据目标PPG信号以及运动信号确定生理特征指标预测值可以包括：可穿戴设备将目标PPG信号以及运动信号输入至神经网络模型中以得到生理特征指标预测值。在本申请的一种可能的实现方式中，可穿戴设备可以从多路PPG信号中任选一路PPG信号作为目标PPG信号。或者可穿戴设备可以将多路PPG信号中的PPG平均信号作为目标PPG信号。通过将多路PPG信号中的PPG平均信号作为目标PPG信号以预测生理特征指标预测值可以使得得到的生理特征指标预测值更接近用户的真实生理特征指标值。在本申请的一种可能的实现方式中，本申请实施例涉及到的生理特征指标包括：心率、血压或血氧饱和度中的一项或多项。由于不同运动状态的参考信号不同：周期性规律运动-ACC；轻微运动、随机噪声和同频近频-IR，因此，如图4c所示，图4c示出了不同场景各类通道选择方案占比。由图4c可以看出，在不同场景中将不同场景下采集到的参考信号与PPG信号进行组合所得到的信号组合中，不同信号组合的占比不同。如图5所示，图5以可穿戴设备为智能手表，以智能手表进行用户的心率预测为例，描述本申请实施例提供的一种基于智能手表预测心率的详细流程示意图，该方法包括：步骤501、响应于触发的心率检测命令，智能手表利用PPG传感器采集用户的PPG信号、利用ACC传感器采集用户的ACC信号以及利用智能手表的传感器模组采集红外信号。步骤502、智能手表对智能手表采集到的PPG信号和ACC信号分别进行预处理，以得到ACC有效频谱数据和PPG有效频谱数据。上述预处理可以包括傅里叶变换和滤波处理。其中，滤波处理可以为带通滤波处理。比如，智能手表采集到的信号中可能包括一些噪声或者频段不符合要求的信号，因此智能手表可以对步骤501采集到的信号进行带通滤波处理，以滤除掉智能手表采集到的信号中不需要的信号，以得到处理后的信号。在本申请实施例中，可穿戴设备在获取ACC信号之后，可以对ACC信号进行FFT变换，得到对应的ACC频谱。然后，再对ACC频谱进行带通滤波处理，滤除噪声数据，得到ACC有效频谱。类似地，可穿戴设备在获取PPG信号之后，可以对PPG信号进行FFT变换，得到对应的PPG频谱。然后，再对PPG频谱进行带通滤波处理，滤除噪声数据，得到PPG有效频谱。步骤503、智能手表计算ACC有效频谱数据的PSD和PPG有效频谱数据的PSD，并进行归一化处理，以得到ACC信号和五路PPG信号。其中，五路PPG信号包括四路PPG信号以及四路PPG信号的PPG平均信号GAvg。可以理解的是，在智能手表得到ACC信号和五路PPG信号后，智能手表可以将智能手表采集到的ACC信号、红外信号和绿光信号等作为参考信号并与五路PPG信号进行组合以得到15种信号组合。步骤504、智能手表从五种通道PPG信号中选取PPG平均信号GAvg以及参考信号中选择ACC信号作为特征信号组合。步骤505、智能手表将特征信号组合输入至神经网络模型中以得到用户的生理特征指标预测值。步骤506、智能手表将用户的生理特征指标预测值作为伪金标以用于计算15种信号组合的能占比。步骤507、智能手表将四路PPG信号以及其PPG平均信号GAvg共计五种通道PPG信号，与三种参考信号进行组合，以得到15种信号组合。步骤508、智能手表计算ACC信号的主频。步骤509、智能手表利用用户的生理特征指标预测值、每种参考信号的主频以及谱减法计算15种信号组合的能占比。步骤510、智能手表根据15种信号组合的能占比从中选择能占比靠前的k种信号组合。比如，智能手表可以根据15种信号组合的能占比将15种信号组合进行排序，然后从排序后的15种信号组合中选择能占比靠前的k种信号组合。步骤511、智能手表计算k种信号组合的周期强度。步骤512、智能手表根据k种信号组合的周期强度选择周期性最强的一组信号组合。步骤513、智能手表根据周期性最强的一组信号组合确定用户的生理特征指标的目标值。值得说明的是，图5所示的方案可以进行循环迭代，以提到最终得到的用户的生理特征指标的目标值的精准度，在首次确定用户的生理特征指标的目标值时，可穿戴设备可以利用步骤504~步骤506确定的用户的生理特征指标预测值作为伪金标，以便于在步骤509确定各种信号组合的能占比。而在后续多次的迭代过程中，每P轮的迭代可穿戴设备可以利用P-1次通过步骤509~步骤513得到的用户的生理特征指标的目标值作为伪金标，以便于在步骤509确定各种信号组合的能占比。比如，在首次确定用户的生理特征指标的目标值时，可穿戴设备可以利用步骤504~步骤506确定的用户的生理特征指标预测值作为伪金标，经过步骤509~步骤513之后，可穿戴设备可以输出用户的生理特征指标的目标值1。为了使得最终输出的用户的生理特征指标的目标值更精准，可穿戴设备可以进行第二次迭代，在第二次迭代时，可穿戴设备可以将第一次输出的用户的生理特征指标的目标值1作为伪金标，经过步骤509~步骤513之后，可穿戴设备可以输出用户的生理特征指标的目标值2。在经过第二次迭代之后，可穿戴设备可以将用户的生理特征指标的目标值2作为伪金标，进行第三次迭代，经过步骤509~步骤513之后，可穿戴设备可以输出用户的生理特征指标的目标值3。依次类推经过多次迭代计算之后，将最终得到的用户的生理特征指标的目标值P作为用户的生理特征指标的目标值并输出。如图6可以看出经过多轮迭代训练之后样本平均和类别平均之间的差异逐渐减少。可以理解的是，为了得到更加精准的用户的生理特征指标的目标值，本申请实施例中在确定用户的生理特征指标的目标值时，可穿戴设备可以进行P次迭代，P为大于或等于1的整数，当P=1时，即进行1次迭代计算，这时，使用步骤504~步骤506确定的用户的生理特征指标预测值作为伪金标。比如，P可以等于3，即进行三次迭代计算。当然，本申请实施例中可穿戴设备也可以进行一次迭代计算，即P等于1，本申请实施例对此不做限定。如图7所示，图7为本申请实施例提供的一种检测用户的生理特征指标的装置的结构示意图，该装置可以为可穿戴设备等电子设备或者该装置可以为应用于可穿戴设备中的芯片，如图7所示，该装置可以包括：获取单元501、确定单元502、处理单元503以及预测单元504。其中，获取单元501，用于获取多路光电容积脉搏波PPG信号以及由可穿戴设备的运动传感器采集到的运动信号，所述多路PPG信号由所述可穿戴设备的PPG传感器的各通道分别采集的PPG信号确定；确定单元502，用于根据所述多路PPG信号以及多种参考信号，确定多种信号组合，所述多种参考信号至少包括：所述可穿戴设备的红外传感器采集的红外信号、所述运动信号以及绿光信号；其中，一个所述信号组合包括：所述参考信号中的一种以及所述多路PPG信号中的一种，不同所述信号组合包括的所述参考信号和PPG信号不同；处理单元503，用于根据生理特征指标预测值，以及多种所述参考信号的主频，计算多种所述信号组合中每种所述信号组合的能占比，以及用于根据每种所述信号组合的能占比从多种所述信号组合中选择周期性符合要求的目标信号组合；预测单元504，用于根据所述目标信号组合预测所述用户的生理特征指标的目标值。作为一种示例，该确定单元502、处理单元503以及预测单元504可以集成在如图2B所示的处理器中，获取单元501可以由图2B中的传感器模块实现，本申请实施例对此不做限定。在上述实施例中，可以全部或部分地通过软件、硬件、固件或者其任意组合来实现。当使用软件实现时，可以全部或部分地以计算机程序产品的形式实现。所述计算机程序产品包括一个或多个计算机指令。在计算机上加载和执行所述计算机指令时，全部或部分地产生按照本申请实施例所述的流程或功能。所述计算机可以是通用计算机、专用计算机、计算机网络、或者其他可编程装置。所述计算机指令可以存储在计算机可读存储介质中，或者从一个计算机可读存储介质向另一个计算机可读存储介质传输，例如，所述计算机指令可以从一个网站站点、计算机、服务器或数据中心通过有线）或无线方式向另一个网站站点、计算机、服务器或数据中心进行传输。所述计算机可读存储介质可以是计算机能够存取的任何可用介质或者是包含一个或多个可用介质集成的服务器、数据中心等数据存储设备。所述可用介质可以是磁性介质、光介质）、或者半导体介质）等。应理解，说明书通篇中提到的“实施例”意味着与实施例有关的特定特征、结构或特性包括在本申请的至少一个实施例中。因此，在整个说明书各个实施例未必一定指相同的实施例。此外，这些特定的特征、结构或特性可以任意适合的方式结合在一个或多个实施例中。应理解，在本申请的各种实施例中，上述各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本申请实施例的实施过程构成任何限定。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本申请的范围。所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统、装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在本申请所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，以上所描述的电子设备的实施例仅仅是示意性的，例如，所述模块的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本申请各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。应理解，在本申请的各种实施例中，各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本申请的实施例的实施过程构成任何限定。另外，本文中的术语“和/或”，仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，A和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。另外，本文中字符“/”，一般表示前后关联对象是一种“或”的关系。所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本申请各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述，仅为本申请的具体实施方式，但本申请的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本申请揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本申请的保护范围之内。因此，本申请的保护范围应以所述权利要求的保护范围为准总之，以上所述仅为本申请技术方案的较佳实施例而已，并非用于限定本申请的保护范围。凡在本申请的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本申请的保护范围之内。
