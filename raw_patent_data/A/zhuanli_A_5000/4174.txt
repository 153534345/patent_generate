标题title
使用可微剂量函数的放疗治疗计划
摘要abst
提供了用于生成放疗治疗计划参数的技术。所述技术包括：接收放疗治疗计划信息；处理放疗治疗计划信息以基于依赖于估计剂量计算的导数的子处理的输出的处理来估计一个或更多个放疗治疗计划参数；以及使用所估计的一个或更多个放疗治疗计划参数生成放疗治疗计划。
权利要求书clms
1.一种用于生成放疗治疗计划参数的方法，所述方法包括：由处理器电路接收放疗治疗计划信息；由所述处理器电路处理所述放疗治疗计划信息，以基于依赖于子处理的输出的处理来估计一个或更多个放疗治疗计划参数，所述子处理估计剂量计算的导数，其中，所述剂量计算的导数用于基于损失函数的优化处理或机器学习模型，其中，所述剂量计算的导数是针对放疗治疗装置的一个或更多个辐射参数或者一个或更多个几何参数中的至少一者计算的；以及由所述处理器电路使用所估计的一个或更多个放疗治疗计划参数生成放疗治疗计划。2.根据权利要求1所述的方法，其中，所述放疗治疗计划信息包括磁共振图像、锥形射束计算机断层扫描图像、计算机断层扫描图像、剂量分布、分割图和距离图中的至少一者。3.根据权利要求2所述的方法，其中，所估计的一个或更多个放疗治疗计划参数包括合成计算机断层扫描图像和剂量分布中的至少一者。4.根据权利要求1所述的方法，其中，处理所述放疗治疗计划信息包括利用所述机器学习模型处理所述放疗治疗计划信息以生成一个或更多个所估计的放疗治疗计划参数，其中，基于使用多个训练放疗治疗计划信息的剂量计算，训练所述机器学习模型以建立所述多个训练放疗治疗计划信息与多个训练放疗治疗计划参数之间的关系，其中，所述机器学习模型包括深度神经网络，其中，所述多个训练放疗治疗计划信息包括训练MR图像、训练CBCT图像、训练CT图像、第一训练剂量分布、训练分割图或训练距离图中的至少一者，并且其中，所述多个训练放疗治疗计划参数包括训练合成计算机断层扫描图像或第二训练剂量分布中的至少一者。5.根据权利要求4所述的方法，还包括通过以下操作训练所述机器学习模型：获得第一批训练数据对，所述第一批训练数据对包括给定的一组训练放疗治疗计划信息和一组对应的训练放疗治疗计划参数；利用所述机器学习模型处理所述给定的一组训练放疗治疗计划信息，以生成中间放疗治疗计划参数；基于所述中间放疗治疗计划参数计算所述损失函数的导数；以及基于所计算的所述损失函数的导数更新所述机器学习模型的参数。6.根据权利要求5所述的方法，还包括：基于所述一组对应的训练放疗治疗计划参数计算第一剂量；基于所述中间放疗治疗计划参数计算第二剂量；以及在计算所述损失函数的导数之前，将所述第一剂量和所述第二剂量应用于所述损失函数。7.根据权利要求1所述的方法，其中，所述剂量计算包括蒙特卡罗模拟或使用点核卷积算法、笔形束核算法或玻尔兹曼方程求解器的确定性计算中的至少一者，或者蒙特卡罗模拟或使用点核卷积算法、笔形束核算法或玻尔兹曼方程求解器的确定性计算的组合。8.根据权利要求1所述的方法，其中，所述优化处理包括放疗治疗计划优化问题，所述放疗治疗计划优化问题包括指定所述放疗治疗装置的等中心点位置或射束角度中的至少一者的决策变量。9.根据权利要求1中任一项所述的方法，其中，所述剂量计算的导数是一阶导数。10.根据权利要求9所述的方法，其中，所述一阶导数不是常数值。11.根据权利要求1所述的方法，其中，估计导数的所述子处理包括自动微分处理。12.一种非暂态计算机可读介质，包括非暂态计算机可读指令，所述计算机可读指令包括用于执行操作的指令，所述操作包括：接收放疗治疗计划信息；处理所述放疗治疗计划信息，以基于依赖于子处理的输出的处理来估计一个或更多个放疗治疗计划参数，所述子处理估计剂量计算的导数，其中，所述剂量计算的导数用于基于损失函数的优化处理或机器学习模型，并且其中，所述剂量计算的导数是针对放疗治疗装置的一个或更多个辐射参数或者一个或更多个几何参数中的至少一者计算的；以及使用所估计的一个或更多个放疗治疗计划参数生成放疗治疗计划。13.根据权利要求12所述的非暂态计算机可读介质，其中，所述放疗治疗计划信息包括磁共振图像、锥形射束计算机断层扫描图像、计算机断层扫描图像、剂量分布、分割图和距离图中的至少一者。14.根据权利要求13所述的非暂态计算机可读介质，其中，所估计的一个或更多个放疗治疗计划参数包括合成计算机断层扫描图像和剂量分布中的至少一者。15.根据权利要求12所述的非暂态计算机可读介质，其中，处理所述放疗治疗计划信息包括利用所述机器学习模型处理所述放疗治疗计划信息以生成一个或更多个所估计的放疗治疗计划参数，其中，基于使用多个训练放疗治疗计划信息的剂量计算，训练所述机器学习模型以建立所述多个训练放疗治疗计划信息与多个训练放疗治疗计划参数之间的关系，其中，所述机器学习模型包括深度神经网络，其中，所述多个训练放疗治疗计划信息包括训练MR图像、训练CBCT图像、训练CT图像、第一训练剂量分布、训练分割图和训练距离图中的至少一者，并且其中，所述多个训练放疗治疗计划参数包括训练合成计算机断层扫描图像和第二训练剂量分布中的至少一者。16.一种系统，包括：用于存储指令的存储器；以及一个或更多个处理器，用于执行存储在所述存储器中的所述指令以执行操作，所述操作包括：接收放疗治疗计划信息；处理所述放疗治疗计划信息，以基于依赖于子处理的输出的处理来估计一个或更多个放疗治疗计划参数，所述子处理估计剂量计算的导数，其中，所述剂量计算的导数用于基于损失函数的优化处理或机器学习模型，并且其中，所述剂量计算的导数是针对放疗治疗装置的一个或更多个辐射参数或者一个或更多个几何参数中的至少一者计算的；以及使用所估计的一个或更多个放疗治疗计划参数生成放疗治疗计划。17.根据权利要求16所述的系统，其中，所述放疗治疗计划信息包括磁共振图像、锥形射束计算机断层扫描图像、计算机断层扫描图像、剂量分布、分割图和距离图中的至少一者。18.根据权利要求17所述的系统，其中，所估计的一个或更多个放疗治疗计划参数包括合成计算机断层扫描图像和剂量分布中的至少一者。19.根据权利要求16所述的系统，其中，处理所述放疗治疗计划信息包括利用所述机器学习模型处理所述放疗治疗计划信息以生成一个或更多个所估计的放疗治疗计划参数，其中，基于使用多个训练放疗治疗计划信息的剂量计算，训练所述机器学习模型以建立所述多个训练放疗治疗计划信息与多个训练放疗治疗计划参数之间的关系，其中，所述机器学习模型包括深度神经网络，其中，所述多个训练放疗治疗计划信息包括训练MR图像、训练CBCT图像、训练CT图像、第一训练剂量分布、训练分割图和训练距离图中的至少一者，并且其中，所述多个训练放疗治疗计划参数包括训练合成计算机断层扫描图像和第二训练剂量分布中的至少一者。20.根据权利要求16所述的系统，其中，处理所述放疗治疗计划信息包括利用所述机器学习模型处理所述放疗治疗计划信息以生成一个或更多个所估计的放疗治疗计划参数，并且其中，所述操作还包括通过以下操作训练所述机器学习模型：获得第一批训练数据对，所述第一批训练数据对包括给定的一组训练放疗治疗计划信息和一组对应的训练放疗治疗计划参数；利用所述机器学习模型处理所述给定的一组训练放疗治疗计划信息，以生成中间放疗治疗计划参数；基于所述中间放疗治疗计划参数计算所述损失函数的导数；以及基于所计算的所述损失函数的导数更新所述机器学习模型的参数。
说明书desc
优先权要求本申请要求于2019年7月16日提交的美国申请第16/512,938号的优先权的权益，该美国申请通过引用整体并入本文。技术领域本公开内容总体上涉及生成辐射治疗或放疗治疗计划。背景技术放疗用于治疗哺乳动物组织中的癌症和其他疾病。应当精确地控制放射束的方向和形状以确保肿瘤接收到规定的放射，并且射束的布置应当使得对周围健康组织)的损伤最小化。治疗计划可以用于控制放射束参数，并且放疗装置通过向患者递送空间上变化的剂量分布来实现治疗。传统上，对于每个患者，可以基于临床和剂量测定的目标和约束使用优化技术来创建放射治疗治疗计划。治疗计划过程可以包括使用患者的三维图像来识别目标区域以及识别肿瘤附近的关键器官。治疗计划的创建可能是耗时的过程，在该过程中，计划者试图遵从各种治疗目标或约束目标)，从而考虑各种治疗目标或约束各自的重要性以便产生临床上可接受的治疗计划。该任务可能是耗时的反复试验过程，该过程由于各种OAR而变得复杂，因为随着OAR的数量增加，该过程的复杂性也增加。远离肿瘤的OAR可能易于免受放射，而接近目标肿瘤或与目标肿瘤交叠的OAR可能难以幸免。可以执行分割以识别OAR和要治疗的区域)。在分割之后，可以为患者创建剂量计划，该剂量计划指示要由一个或更多个PTV和/或OAR接收的期望量的放射。PTV可以具有不规则的体积，并且关于其大小、形状和位置可能是唯一的。可以在优化大量计划参数之后计算治疗计划，以确保向PTV提供足够的剂量，同时向周围健康组织提供尽可能少的剂量。因此，可以通过针对使任何OAR免受伤害来平衡用于治疗肿瘤的剂量的有效控制来确定放射治疗治疗计划。通常，放射治疗计划的质量可以取决于计划者的经验水平。可能由患者之间的解剖学差异引起其他复杂性。发明内容在一些实施方式中，提供了计算机实现的方法、非暂态计算机可读介质以及包括存储器和处理器的系统，其用于通过以下操作生成放疗治疗计划参数：由处理器电路接收放疗治疗计划信息；由处理器电路处理放疗治疗计划信息，以基于依赖于估计剂量计算的导数的子处理的输出的处理来估计一个或更多个放疗治疗计划参数，其中，剂量计算的导数用于基于损失函数的优化处理或机器学习模型，其中，剂量计算的导数是针对放疗治疗装置的一个或更多个辐射参数或者一个或更多个几何参数中的至少一者计算的；以及由处理器电路使用所估计的一个或更多个放疗治疗计划参数生成放疗治疗计划。在一些实施方式中，放疗治疗计划信息包括磁共振图像、锥形射束计算机断层扫描图像、计算机断层扫描图像、剂量分布、分割图和距离图中的至少一者。在一些实施方式中，所估计的一个或更多个放疗治疗计划参数包括合成计算机断层扫描图像和剂量分布中的至少一者。在一些实施方式中，处理放疗治疗计划信息包括利用机器学习模型处理放疗治疗计划信息以生成一个或更多个所估计的放疗治疗计划参数，其中，基于使用多个训练放疗治疗计划信息的剂量计算，训练机器学习模型以建立多个训练放疗治疗计划信息与多个训练放疗治疗计划参数之间的关系，其中，机器学习模型包括深度神经网络，其中，多个训练放疗治疗计划信息包括训练MR图像、训练CBCT图像、训练CT图像、第一训练剂量分布、训练分割图或训练距离图中的至少一者，并且其中，多个训练放疗治疗计划参数包括训练合成计算机断层扫描图像或第二训练剂量分布中的至少一者。在一些实施方式中，通过以下操作训练机器学习模型：获得第一批训练数据对，所述第一批训练数据对包括给定的一组训练放疗治疗计划信息和一组对应的训练放疗治疗计划参数；利用机器学习模型处理给定的一组训练放疗治疗计划信息，以生成中间放疗治疗计划参数；基于中间放疗治疗计划参数计算损失函数的导数；以及基于所计算的损失函数的导数更新机器学习模型的参数。在一些实施方式中，计算机实现的方法、非暂态计算机可读介质和系统执行操作，所述操作包括：基于一组对应的训练放疗治疗计划参数计算第一剂量；基于中间放疗治疗计划参数计算第二剂量；以及在计算损失函数的导数之前，将第一剂量和第二剂量应用于损失函数。在一些实施方式中，剂量计算包括蒙特卡罗模拟或使用点核卷积算法、笔形束核算法或玻尔兹曼方程求解器的确定性计算中的至少一者，或者蒙特卡罗模拟或使用点核卷积算法、笔形束核算法或玻尔兹曼方程求解器的确定性计算的组合。在一些实施方式中，优化处理包括放疗治疗计划优化问题，该放疗治疗计划优化问题包括指定放疗治疗装置的等中心点位置或射束角度中的至少一者的决策变量。在一些实施方式中，其中，剂量计算的导数是一阶导数。在一些实现方式中，一阶导数不是常数值。在一些实施方式中，估计导数的子处理包括自动微分处理。以上概述旨在提供对本专利申请的主题的概述。并不旨在提供对本公开内容的排他性或详尽的说明。包括具体实施方式以提供关于本专利申请的进一步信息。附图说明在不一定按比例绘制的附图中，贯穿若干视图，相似的附图标记描述基本上相似的部件。具有不同字母后缀的相似的附图标记表示基本上相似的部件的不同实例。附图通过示例的方式而非通过限制的方式整体示出了本文献中讨论的各种实施方式。图1示出了根据本公开内容的一些示例的适于执行治疗计划生成处理的示例性放疗系统。图2A示出了根据本公开内容的一些示例的示例性图像引导的放疗装置。图2B示出了根据本公开内容的一些示例的放射治疗装置，即伽玛刀。图3示出了根据本公开内容的一些示例的用于基于剂量的导数训练机器学习技术和使用机器学习技术的示例性数据流。图4至图9示出了根据本公开内容的一些示例的用于基于剂量计算的导数估计放疗治疗计划参数的示例性操作的流程图。具体实施方式本公开内容包括通过基于剂量计算的导数使用机器学习模型或求解优化问题来生成放疗治疗计划的各种技术。作为一个示例，ML模型可以被训练成基于考虑剂量的导数的损失函数从放疗治疗计划信息估计放疗治疗计划的一个或更多个参数。作为另一示例，优化问题的一个或更多个参数可以考虑剂量的导数以生成优化问题的解，从而提供放疗治疗计划的一个或更多个参数。技术益处包括减少的用于生成放疗治疗计划和求解放疗治疗计划优化问题的计算处理时间，以及用于生成放疗治疗计划和求解放疗治疗计划优化问题的处理、存储和网络资源方面的附随改进。这些放疗治疗计划可以适用于各种医疗和诊断设置或放疗治疗设备和装置。因此，除了这些技术益处之外，本技术还可以产生许多明显的医疗益处。放疗是用于治疗癌症的主要方法之一并且被推荐用于所有癌症患者中的超过50％癌症患者。通过涉及数学优化问题的复杂设计处理来创建治疗计划，该数学优化问题捕获剂量递送的期望特征——通常需要针对目标的足够高的剂量，同时最小化针对健康组织的剂量。优化问题的整体结构对于大多数形式的放疗是相同的，所述大多数形式的放疗包括基于直线加速器的治疗、质子治疗、伽玛刀放射外科和近距离放射治疗。最终结果是递送剂量分布所需的放疗装置配置。体积中吸收的放射剂量的模拟通常是生成放疗治疗计划的重要因素。剂量用作对于指定的治疗技术所选择的治疗参数与观察到的临床结果之间的可靠和可验证的联系。仔细的治疗计划优化的结果是一组治疗变量，例如用于肿瘤的规定的剂量水平、治疗射束的数量、它们的入射角度和一组强度幅度。存在若干剂量计算处理，包括诸如蒙特卡罗模拟的随机处理和诸如点核卷积算法、笔形束核算法或玻尔兹曼方程求解器的确定性处理。确定性分析剂量计算可以分为两种类型：点核卷积算法和笔形束核算法。点核方法首先利用射线跟踪方法计算患者体内每一质量释放的总能量，并且随后与点核进行卷积以根据生成的电子和散射光子对剂量分布进行建模。与点核的卷积将TERMA重新分配为正确的剂量分布，并且是最耗时的步骤。卷积步骤的常见实现是筒串算法。玻尔兹曼输运方程是描述放射粒子在它们穿过物质并与物质相互作用时的宏观行为的控制方程。LBTE是BTE的线性化形式，其假定放射粒子仅与它们通过的物质相互作用，而彼此不相互作用，并且对于没有外部磁场的状况是有效的。对于经受放射源的物质的给定体积域，在上述状况下，LBTE的解将给出域内剂量的“精确”描述。然而，由于仅可以针对几个简化的问题获得LBTE的闭合形式解，因此LBTE通常以开放形式或非解析方式求解。有两种获得LBTE的开放形式解的一般方法。第一种方法是众所周知的蒙特卡罗方法。蒙特卡罗方法没有明确地求解LBTE；他们间接获得该方程的解。第二种方法是使用数值方法明确地求解LBTE。当前的计划软件通常使用标准数学优化方法来求解最小化问题。这些软件可能是缓慢的，导致患者和临床医生的不必要的等待。利用实时成像的未来应用甚至可能需要实时治疗计划，这不能使用传统的优化问题求解器来执行。典型的优化问题求解器在生成解后考虑剂量，如果剂量不能满足某些约束，则这会导致某些低效率。即，优化问题求解器在生成解时未考虑剂量计算，这会导致不准确和无效的治疗计划参数。此外，某些ML模型用于生成放疗治疗计划的一些或全部参数，但是此类ML模型也未能考虑剂量计算。因此，由ML模型提供的参数可能最终是不准确的，并且不能满足某些剂量约束，从而导致低效率。所公开的技术通过在训练ML模型或对优化问题进行优化时考虑剂量计算的导数来解决这些挑战并提高生成放疗治疗计划的速度和效率。在一些实现方式中，所公开的技术考虑给定一组治疗变量的剂量计算，以验证或更新放疗治疗计划参数和设置。例如，可以基于基于剂量的损失函数来训练ML模型，以根据MRI图像或锥形射束计算机断层扫描图像生成合成CT图像，以用于治疗计划优化。作为另一示例，放疗治疗计划优化问题的一个或更多个参数可以基于剂量计算的导数以提供射束角度优化或等中心点选择。作为另一示例，可以通过将根据基于剂量的损失函数训练的ML模型应用于医学图像来估计放疗装置的控制点。作为另一示例，可以使用ML模型更有效且更快地处理计算成本高的剂量计算，该ML模型被训练成复制计算成本高的函数的剂量计算。通过提高生成放疗治疗计划参数的速度和准确性，所公开的技术可以使得能够执行实时治疗计划并且减少患者和临床医生的等待时间。具体地，所公开的技术接收放疗治疗计划信息，并且处理放疗治疗计划信息以基于依赖于估计剂量计算的导数的子处理的输出的处理来估计一个或更多个放疗治疗计划参数。使用所估计的一个或更多个放疗治疗计划参数来生成放疗治疗计划。通常，所公开的技术可以被应用于利用剂量相对于治疗变量的导数的放疗治疗计划应用。如本文所使用的，术语“导数”指导数、次导数、梯度、次梯度、方向导数、雅可比行列式、弗雷歇导数、高阶导数、微分算子、拉东-尼科迪姆导数、施瓦兹导数、沃廷格导数、H-导数、协变导数、变分导数、泛函导数中的任何一个和/或其任何组合。图1示出了适于使用本文所讨论的方法中的一种或更多种方法来执行放疗计划处理操作的示例性放疗系统100。执行这些放疗计划处理操作，以使得放疗系统100能够基于捕获的医学成像数据的特定方面和治疗剂量计算或放疗机器配置参数向患者提供放射治疗。具体地，以下处理操作可以被实现为治疗处理逻辑120的一部分。然而，应当理解，可以提供以下经训练模型和治疗处理逻辑120的许多变化和使用情况，包括数据验证、可视化以及其他医学评估和诊断设置方面的变化和使用情况。放疗系统100包括托管治疗处理逻辑120的放疗处理计算系统110。放疗处理计算系统110可以连接至网络，并且这样的网络可以连接至因特网。例如，网络可以连接放疗处理计算系统110与一个或更多个私人和/或公共医疗信息源、医疗记录系统/电子健康记录系统)、肿瘤学信息系统)、一个或更多个图像数据源150、图像获取装置170、治疗装置180以及治疗数据源160。作为示例，放疗处理计算系统110可以被配置成接收对象的治疗目标，并且通过执行来自治疗处理逻辑120的指令或数据来生成放疗治疗计划，作为生成将由治疗装置180使用和/或用于在装置146上输出的治疗计划的操作的一部分。在实施方式中，治疗处理逻辑120求解优化问题和/或将ML模型应用于治疗目标以生成放疗治疗计划。在示例中，治疗处理逻辑120接收放疗治疗计划信息并且处理放疗治疗计划信息以基于依赖于估计剂量计算的导数的子处理的输出的处理来估计一个或更多个放疗治疗计划参数。估计剂量计算的导数的子处理可以基于以下技术中的任何一种或以下技术的组合来执行，所述技术包括：符号微分；数值微分；以及通过对支持每个计算机程序的基本算术运算应用链式法则的自动微分。然后治疗处理逻辑120使用估计的一个或更多个放疗治疗计划参数生成放疗治疗计划。可以将常规放疗治疗计划优化问题定义为式1：最小化f x∈X服从x∈Ω其中，是目标函数，x∈X是决策变量，以及是可行变量的集合。通常，函数f可以是非线性的，并且集合Ω是非凸的。通常使用某种形式的迭代方案来求解优化问题。例如，如果f是光滑且凸的并且Ω是凸的，则可以使用投影梯度方案来求解式，并且内容如下：其中，projΩ：X→X是到Ω上的投影，是步长，以及是梯度。而这些算法通常可证明是收敛的的情况下，算法将收敛到最小值)。根据所公开的技术，可以通过剂量计算的导数来计算或提供式1的优化问题的一个或更多个参数。这样做时，对放疗治疗计划优化问题的决策变量的更新相对于用于患者的剂量更准确，这使得更快地找到解。特别地，所公开的实施方式通过利用剂量计算作为优化问题的参数中的一个或更多个参数，提高了求解优化问题的速度和效率，并且提高了解的准确性。一般来说，剂量D依赖于两大类治疗变量，两大类治疗变量中的任何一种都可以通过式1的参数来考虑。这样的治疗变量包括辐射参数Ψ和几何参数Ω。辐射参数Ψ可以包括治疗射束的数量、入射角度、强度幅度、等中心点位置、准直器配置、暂停时间等。几何参数Ω可以包括患者位置、形状、密度、材料分解等。在一些实现方式中，剂量由式2表示，剂量可以被包括为式1的优化问题的参数中的一个或更多个参数：D＝D放疗处理计算系统110可以包括处理电路112、存储器114、存储装置116以及诸如用户接口142、通信接口的其他硬件和软件可操作的特征等。存储装置116可以存储暂态或非暂态计算机可执行指令，诸如操作系统、放疗治疗计划、训练数据、软件程序提供的人工智能或ML实现和算法等)，以及要由处理电路112执行的任何其他计算机可执行指令。在示例中，处理电路112可以包括处理装置，例如诸如微处理器、中央处理单元、图形处理单元、加速处理单元等的一个或更多个通用处理装置。更特别地，处理电路112可以是复杂指令集计算微处理器、精简指令集计算微处理器、超长指令字微处理器、实现其他指令集的处理器或实现指令集的组合的处理器。处理电路112还可以由诸如专用集成电路、现场可编程门阵列、数字信号处理器、片上系统等的一个或更多个专用处理装置来实现。如本领域技术人员将理解的，在一些示例中，处理电路112可以是专用处理器而不是通用处理器。处理电路112可以包括一个或更多个已知的处理装置，例如来自由IntelTM制造的PentiumTM、CoreTM、XeonTM或系列的微处理器、来自由AMDTM制造的TurionTM、AthlonTM、SempronTM、OpteronTM、FXTM、PhenomTM系列的微处理器或者由太阳微系统公司制造的各种处理器中的任何处理器。处理电路112还可以包括图形处理单元，例如来自由NvidiaTM制造的系列、由IntelTM制造的GMA、IrisTM系列或由AMDTM制造的RadeonTM系列的GPU。处理电路112还可以包括加速处理单元，例如由IntelTM制造的Xeon PhiTM系列。所公开的实施方式不限于以其他方式被配置成满足识别、分析、维护、生成和/或提供大量数据或操纵这样的数据以执行本文中公开的方法的计算需求的任何类型的处理器。另外，术语“处理器”可以包括多于一个物理处理器或基于软件的处理器。处理电路112可以执行被存储在存储器114中并且从存储装置116访问的暂态或非暂态计算机程序指令的序列，以执行将在下面更详细地说明的各种操作、处理和方法。应当理解，系统100中的任何部件可以单独地被实现并且作为独立装置工作，并且可以耦接至系统100中的任何其他部件以执行本公开内容中描述的技术。存储器114可以包括只读存储器、相变随机存取存储器、静态随机存取存储器、闪速存储器、随机存取存储器、动态随机存取存储器例如同步DRAM、电可擦除可编程只读存储器、静态存储器以及其他类型的随机存取存储器、高速缓冲存储器、寄存器、致密盘只读存储器、数字多功能盘或其他光学存储装置、盒式磁带、其他磁存储装置、或者任何其他非暂态介质，所述任何其他非暂态介质可以用于存储能够由处理电路112或任何其他类型的计算机装置访问的包括图像、训练数据、一个或更多个ML模型或技术参数、数据或者暂态或非暂态计算机可执行指令的信息。例如，计算机程序指令可以被处理电路112访问、被从ROM或任何其他合适的存储位置读取并被加载至RAM中以供处理电路112执行。存储装置116可以构成包括暂态或非暂态机器可读介质的驱动单元，在所述暂态或非暂态机器可读介质上存储有——实施本文中描述的方法或功能中的任何一个或更多个方法或功能或者由本文中描述的方法或功能中的任何一个或更多个方法或功能利用的——一个或更多个暂态或非暂态指令集和数据结构。在放疗处理计算系统110执行指令期间，指令还可以完全或至少部分地驻留在存储器114内和/或处理电路112内，其中存储器114和处理电路112也构成暂态或非暂态机器可读介质。存储器114和存储装置116可以构成非暂态计算机可读介质。例如，存储器114和存储装置116可以将一个或更多个软件应用的暂态或非暂态指令存储或加载在计算机可读介质上。利用存储器114和存储装置116存储或加载的软件应用可以包括例如用于通用计算机系统以及用于软件控制的装置的操作系统。放疗处理计算系统110还可以操作包括用于实现治疗处理逻辑120和用户接口142的软件代码的各种软件程序。此外，存储器114和存储装置116可以存储或加载可以由处理电路112执行的整个软件应用、软件应用的一部分或者与软件应用相关联的代码或数据。在另一示例中，存储器114和存储装置116可以存储、加载和操纵一个或更多个放射治疗治疗计划、成像数据、分割数据、治疗可视化结果、直方图或测量结果、一个或更多个AI模型数据、训练数据、标记和映射数据等。可以设想，软件程序不仅可以被存储在存储装置116和存储器114上，而且可以被存储在诸如硬盘驱动器、计算机磁盘、CD-ROM、DVD、蓝光DVD、USB闪存驱动器、SD卡、记忆棒的可移除计算机介质上或任何其他合适的介质上；也可以通过网络传送或接收这样的软件程序。尽管未示出，但是放疗处理计算系统110可以包括通信接口、网络接口卡和通信电路。示例通信接口可以包括例如网络适配器、线缆连接器、串行连接器、USB连接器、并行连接器、高速数据传输适配器等)、无线网络适配器、电信适配器等。这样的通信接口可以包括一个或更多个数字和/或模拟通信装置，所述一个或更多个数字和/或模拟通信装置允许机器经由网络与其他机器和装置例如位于远处的部件进行通信。网络可以提供局域网、无线网络、云计算环境、客户端-服务器、广域网等的功能。例如，网络可以是可以包括其他系统的LAN或WAN。在示例中，放疗处理计算系统110可以从图像数据源150获得图像数据152，以托管在存储装置116和存储器114上。在又一示例中，软件程序可以代替患者图像的功能，例如强调图像信息的一些方面的图像的经处理的版本或有符号距离功能。在示例中，放疗处理计算系统110可以从图像数据源150获得图像数据152或者将图像数据152传送至图像数据源150。在其他示例中，治疗数据源160接收或更新作为由治疗处理逻辑120生成的治疗计划的结果的计划数据。图像数据源150还可以提供或托管成像数据，以供在治疗处理逻辑120中使用。在示例中，计算系统110可以与治疗数据源160以及输入装置148进行通信，以生成：成对的多个训练放疗治疗计划信息与多个训练放疗治疗计划参数；成对的训练MR图像和/或CBCT图像与训练sCT图像；成对的训练MR图像、CT图像、sCT图像、CBCT图像、分割图和距离图与训练放疗装置控制点；以及成对的训练剂量计算函数与训练剂量分布。处理电路112可以通信地耦接至存储器114和存储装置116，并且处理电路112可以被配置成执行存储在其上的来自存储器114或存储装置116的计算机可执行指令。处理电路112可以执行指令，以使来自图像数据152的医学图像被接收或被获得到存储器114中并且被使用治疗处理逻辑120进行处理以生成治疗计划。特别地，治疗处理逻辑120接收基于剂量计算表达式的导数的优化问题和/或基于剂量计算表达式的导数训练的ML模型。治疗处理逻辑120对所接收的优化问题进行求解以生成治疗计划的一个或更多个参数，将ML模型应用于放疗治疗计划信息以估计治疗计划的一个或更多个参数，和/或将ML模型应用于放疗治疗计划信息以估计剂量计算函数的中间剂量分布，以使用中间剂量分布估计简化剂量分布的计算。另外，处理电路112可以利用软件程序来生成中间数据，例如要由例如NN模型、机器学习模型、治疗处理逻辑120或与如本文中讨论的治疗计划的生成有关的其他方面使用的更新后的参数。此外，这样的软件程序可以利用治疗处理逻辑120以使用本文中进一步讨论的技术来产生用于部署至治疗数据源160和/或呈现在输出装置146上的新的或更新的治疗计划参数。然后，处理电路112随后可以经由通信接口和网络将新的或更新的治疗计划参数发送至治疗装置180，在治疗装置180处，放射治疗计划将被用于经由治疗装置180利用放射对患者进行治疗，这与由治疗处理逻辑120实现的经训练的ML模型的结果一致。在本文中的示例中，处理电路112可以执行调用治疗处理逻辑120的软件程序以实现ML、深度学习、NN和人工智能的其他方面的功能，以用于根据输入的放疗医学信息生成治疗计划。例如，处理电路112可以执行如本文中讨论的根据所接收的放疗医学信息训练、分析、预测、评估和生成治疗计划参数的软件程序。在示例中，图像数据152可以包括一个或更多个MRI图像、功能MRI图像、计算机断层扫描图像、超声图像、正电子发射断层扫描图像、X射线图像、荧光透视图像、放疗射野图像、单光子发射计算机断层扫描图像、计算机生成的合成图像等。此外，图像数据152还可以包括医学图像处理数据或者与医学图像处理数据图像、轮廓图像和剂量图像)相关联。在其他示例中，可以以非图像格式表示解剖区域的等效表示。在示例中，可以从图像获取装置170接收图像数据152，并且将该图像数据152存储在图像数据源150、供应商中立归档系统、医疗记录或信息系统、数据仓库等)中的一个或更多个图像数据源中。因此，图像获取装置170可以包括MRI成像装置、CT成像装置、PET成像装置、超声成像装置、荧光透视装置、SPECT成像装置、集成的线性加速器和MRI成像装置、CBCT成像装置、或者用于获得患者的医学图像的其他医学成像装置。可以以图像获取装置170和放疗处理计算系统110可以使用以执行与所公开的实施方式一致的操作的任何类型的数据或任何类型的格式格式)来接收和存储图像数据152。此外，在一些示例中，可以训练本文中讨论的模型以对原始图像数据格式或其衍生进行处理。在示例中，图像获取装置170可以与治疗装置180集成为单个设备。这样的MRI-Linac可以用于例如确定患者体内的目标器官或目标肿瘤的位置，以根据放射治疗治疗计划将放射治疗准确地引导至预定目标。例如，放射治疗治疗计划可以提供关于要施加给每个患者的特定放射剂量的信息。放射治疗治疗计划还可以包括其他放疗信息，包括放疗治疗装置的控制点，例如床的位置、射束强度、射束角度、剂量直方图体积信息、治疗期间要使用的放射束的数量、每射束的剂量等。放疗处理计算系统110可以通过网络与外部数据库进行通信，以发送/接收与图像处理和放疗操作有关的多种不同类型的数据。例如，外部数据库可以包括机器数据，该机器数据提供与治疗装置180、图像获取装置170或与放疗或医疗程序有关的其他机器相关联的信息。机器数据信息可以包括放射束大小、弧布置、射束开启和关闭持续时间、机器参数、分割、多叶准直器配置、台架速度、MRI脉冲序列等。外部数据库可以是存储装置并且可以配备有适当的数据库管理软件程序。此外，这样的数据库或数据源可以包括以集中方式或分布式方式定位的多个装置或系统。放疗处理计算系统110可以使用一个或更多个通信接口经由网络收集和获取数据并且与其他系统进行通信，所述一个或更多个通信接口通信地耦接至处理电路112和存储器114。例如，通信接口可以提供放疗处理计算系统110与放疗系统部件之间的通信连接。例如，在一些示例中，通信接口可以具有来自输出装置146或输入装置148的适当的接口电路以连接至用户接口142，用户接口142可以是用户可以通过其将信息输入至放疗系统中的硬件键盘、小键盘或触摸屏。作为示例，输出装置146可以包括显示装置，该显示装置输出：用户接口142和一个或更多个方面的表示；医学图像的可视化或表示；治疗计划；以及此类计划的训练、生成、验证或实现的状态。输出装置146可以包括一个或更多个显示屏，所述一个或更多个显示屏向用户显示医学图像、接口信息、治疗计划参数、治疗计划、目标、定位目标和/或跟踪目标、或任何相关的信息。连接至用户接口142的输入装置148可以是键盘、小键盘、触摸屏或用户可以针对放疗系统100使用的任何类型的装置。可替选地，输出装置146、输入装置148以及用户接口142的特征可以被集成至诸如智能电话或平板计算机的单个装置中。此外，放疗系统的任何部件和所有部件可以被实现为虚拟机或独立装置。例如，虚拟机可以是充当硬件的软件。因此，虚拟机可以至少包括一起充当硬件的一个或更多个虚拟处理器、一个或更多个虚拟存储器和一个或更多个虚拟通信接口。例如，放疗处理计算系统110、图像数据源150或类似部件可以被实现为虚拟机或被实现在基于云的虚拟化环境内。图像获取装置170可以被配置成获取患者的感兴趣的部位的解剖结构的一个或更多个图像。每个图像——通常是2D图像或切片——可以包括一个或更多个参数。在示例中，图像获取装置170可以获取处于任何取向的2D切片。例如，2D切片的取向可以包括矢状取向、冠状取向或轴向取向。处理电路112可以对诸如2D切片的厚度和/或取向的一个或更多个参数进行调整以包括目标器官和/或目标肿瘤。在示例中，可以根据诸如3D CBCT或CT或MRI体积的信息来确定2D切片。在患者正在经历放疗治疗的同时可以由图像获取装置170“近乎实时”地获取这样的2D切片。放疗处理计算系统110中的治疗处理逻辑120实现ML模型，这涉及使用经训练的ML模型。该ML模型可以由作为NN模型的一部分训练的NN提供。一个或更多个教师ML模型可以由不同的实体提供或在相对于治疗处理逻辑120的异地设施处提供，并且可以通过向异地设施发出一个或更多个查询来访问。有监督的机器学习算法或ML模型或技术可以被概括为函数逼近。从例如专家临床医生或先前的优化计划求解器获取包括某种类型的输入输出对的训练数据，并且函数被“训练”成近似该映射。一些方法涉及NN。在这些方法中，选择一组参数化函数Aθ，其中θ是通过使训练数据的平均误差最小化而选择的一组参数。如果输入输出对由表示，则可以通过求解诸如式3的最小化问题来形式化该函数：用于训练网络的式3的最小化问题可以基于包括剂量计算的导数的损失函数。一旦已经训练了网络，就可以将函数Aθ应用于任何新的输入。例如，可以将之前从未见过的放疗治疗计划信息馈送至Aθ中，并且估计一个或更多个放疗治疗计划参数。作为另一示例，可以将之前从未见过的MR图像、CT图像、sCT图像、CBCT图像、分割图和距离图馈送至Aθ中，并且估计一个或更多个放疗装置控制点。作为另一示例，可以将之前从未见过的剂量计算函数参数馈送至Aθ中，并且估计一个或更多个中间剂量分布。简单的NN包括输入层、中间层或隐藏层以及输出层，每个层包含计算单元或节点。隐藏层节点具有来自所有输入层节点的输入，并且连接至输出层中的所有节点。这样的网络被称为“完全连接”。每个节点根据其输入的和的非线性函数将信号传送至输出节点。对于分类器，输入层节点的数量通常等于被分类到类中的一组对象中的每个对象的特征的数量，并且输出层节点的数量等于类的数量。通过向网络呈现已知类的对象的特征，并且调整节点权重以通过称为反向传播的算法来减小训练误差来训练网络。因此，经训练的网络可以对其类未知的新颖对象进行分类。神经网络具有发现数据与类或回归值之间的关系的能力，并且在某些状况下可以模拟包括非线性函数的任何函数y＝f。在ML中，假设训练数据和测试数据都是通过同一数据生成处理Pdata生成的，其中每个{xi,yi}样本是独立同分布的。在ML中，目标是使训练误差最小化，并且使训练误差与测试误差之间的差尽可能小。如果训练误差太大，则会发生欠拟合；在训练-测试误差差距太大时，会发生过拟合。两种类型的性能缺陷都与模型容量有关：大容量可以很好地拟合训练数据但会导致过拟合，而小容量可能导致欠拟合。图2A示出了示例性的图像引导的放射治疗装置232，该图像引导的放射治疗装置232包括：诸如X射线源或线性加速器的放射源、床246、成像检测器244和放射治疗输出部234。放射治疗装置232可以被配置成发射放射治疗射束238以向患者提供治疗。放射治疗输出部234可以包括一个或更多个衰减器或准直器，例如MLC。作为示例，患者可以位于区域242，由治疗床246支承，以接收根据放疗治疗计划的放射治疗剂量。放射治疗输出部234可以被安装或附接至台架236或其他机械支承件。当床246被插入治疗区域中时，一个或更多个机架电机可以使台架236和放射治疗输出部234围绕床246旋转。在示例中，当床246被插入治疗区域中时，台架236可以围绕床246连续地旋转。在另一示例中，当床246被插入治疗区域中时，台架236可以旋转至预定位置。例如，台架236可以被配置成使治疗输出部234围绕轴旋转。床246和放射治疗输出部234二者均可以围绕着患者独立地移动至其他位置，例如，可沿横向方向移动、可沿侧向方向移动或者作为围绕一个或更多个其他轴的旋转，例如围绕横向轴的旋转。通信地连接至一个或更多个致动器的控制器可以控制床246的移动或旋转，以便根据放疗治疗计划将患者适当地定位在放射治疗射束238之中或之外。床246和台架236二者可以以多个自由度彼此独立地移动，这使得患者能够被定位成使得放射治疗射束238可以精确地瞄准肿瘤。坐标系可以具有位于等中心点240处的原点。等中心点240可以被限定为如下位置：在该位置处，放射治疗射束238的中心轴与坐标轴的原点相交，以便将规定的放射剂量递送至患者身上或体内的位置。可替选地，等中心点240可以被限定为如下位置：在该位置处，对于如由台架236定位的放射治疗输出部234围绕轴A的各种旋转位置，放射治疗射束238的中心轴与患者相交。台架236还可以具有附接的成像检测器244。成像检测器244优选地位于与放射源相对的位置，并且在示例中，成像检测器244可以位于治疗射束238的场内。成像检测器244可以优选地与放射治疗输出部234相对地安装在台架236上，以保持与放射治疗射束238对准。成像检测器244随着台架236旋转而围绕旋转轴旋转。在示例中，成像检测器244可以是平板检测器。以这种方式，成像检测器244可以用于监测放射治疗射束238，或者成像检测器244可以用于对患者的解剖结构进行成像，例如射野成像。放射治疗装置232的控制电路可以集成在放疗系统100内或者远离放疗系统100。在说明性示例中，可以自动地定位床246、治疗输出部234或台架236中的一个或更多个，并且治疗输出部234可以根据用于特定治疗递送实例的指定剂量来建立治疗射束238。可以根据放疗治疗计划——例如，使用台架236、床246或治疗输出部234的一个或更多个不同的取向或位置——来指定治疗递送的顺序。治疗递送可以顺序地发生，但是可以相交于患者身上或体内的期望治疗部位。由此可以将放射治疗的规定的累积剂量递送至治疗部位，同时可以减少或避免对治疗部位附近的组织的损伤。因此，图2A具体地示出了可操作成与放疗治疗计划一致地或根据放疗治疗计划向患者提供放疗治疗的放射治疗装置232的示例，该放射治疗装置232具有放射治疗输出部可以围绕中心轴旋转的配置。可以使用其他放射治疗输出部配置。例如，放射治疗输出部可以被安装至具有多个自由度的机械臂或操纵器。在又一示例中，治疗输出部可以是固定的，并且可以使用支承患者的平台来将放射治疗等中心点与患者体内的指定目标部位对准。在另一示例中，放射治疗装置可以是线性加速器和图像获取装置的组合。如本领域普通技术人员将认识到的，在一些示例中，图像获取装置可以是MRI、X射线、CT、CBCT、螺旋CT、PET、SPECT、光学断层扫描、荧光成像、超声成像或放疗射野成像装置等。图2B示出了可以使用本公开内容的放疗装置130，即伽玛刀。患者202可以佩戴配合框架220以保持经历手术或放疗的患者的身体部分稳定。配合框架220和患者定位系统222可以建立空间坐标系统，该空间坐标系统可以在对患者成像时或在放射手术期间使用。放疗装置130可以包括保护壳体214以封闭用于通过射束通道216生成放射束)的多个放射源212。多个射束可以被配置成从不同位置聚焦在等中心点218上。虽然每个单独的放射束可能具有相对低的强度，但是当来自不同放射束的多个剂量在等中心点218处累积时，等中心点218可以接收相对高水平的放射。在某些实施方式中，等中心点218可以对应于手术或治疗中的目标，例如肿瘤。图3示出了根据本公开内容的一些示例的用于基于剂量的导数训练和使用机器学习模型的示例性数据流。数据流包括训练输入310、ML模型训练330和模型使用350。训练输入310包括模型参数312和训练数据320，训练数据320可以包括成对的训练数据集322和约束326。模型参数312存储或提供机器学习模型中的相应模型的参数或系数。在训练期间，基于训练数据集322的输入输出训练对来调整这些参数312。在参数312被调整之后，由经训练的治疗模型360使用所述参数在新的一组数据370上实现经训练的机器学习模型中的相应一个。训练数据320包括可以定义给定放疗装置的物理约束的约束326。成对训练数据集322可以包括输入输出对的集合，所述输入输出对例如：成对的多个训练放疗治疗计划信息与多个训练放疗治疗计划参数；成对的训练MR图像和/或CBCT图像与训练sCT图像；成对的训练MR图像、CT图像、sCT图像、CBCT图像、分割图和距离图与训练放疗装置控制点；以及成对的训练剂量计算函数与训练剂量分布。训练输入310的一些部件可以单独存储在与其他部件不同的一个或多个异地设施处。机器学习模型训练330基于成对训练数据集322的输入输出对的集合来训练一个或更多个机器学习技术例如，模型训练330可以通过基于剂量计算的一个或更多个导数使第一损失函数最小化来训练ML模型参数312。特别地，可以将ML模型应用于放疗治疗计划信息以估计一个或更多个放疗治疗计划参数。在一些实现方式中，基于一个或更多个放疗治疗计划参数计算损失函数的导数，并且基于所计算的损失函数的导数更新ML模型的参数。在一些实现方式中，将放疗治疗计划参数应用于剂量计算函数例如由式2定义的函数，以计算第一剂量。计算应用所计算的第一剂量的损失函数的梯度或导数，并且基于所计算的梯度或导数更新ML模型的参数。在一些实现方式中，使用有监督的训练方法，在所述有监督的训练方法中基于与接收到的放疗治疗计划相对应的训练放疗治疗计划参数来计算第二剂量。在这样的情况下，两种剂量计算都应用于损失函数，由此计算损失函数的梯度或导数，并且基于所计算的梯度或导数更新ML模型的参数。在无监督的ML模型训练中，仅将第一剂量应用于损失函数，由此计算所述梯度或导数并且对照度量评估该梯度或导数以更新ML模型的参数。针对多组训练数据使损失函数最小化的结果对相应的ML模型的模型参数312进行训练、调整或优化。以这种方式，训练ML模型以建立多个训练放疗治疗计划信息与多个训练放疗治疗计划参数之间的关系。在一个实现方式中，根据有监督的学习技术训练ML模型，以根据放疗治疗计划信息估计放疗治疗计划参数。有监督的学习技术假定从先前计算与放疗治疗计划信息相对应的放疗治疗计划参数已知在这样的情况下，为了训练ML模型Λθ，检索多个训练放疗治疗计划信息以及其对应的训练放疗治疗计划参数。将ML模型应用于第一批训练放疗治疗计划信息，以估计给定的一组放疗治疗计划参数。该批训练放疗治疗计划信息可以用于利用ML模型的相同参数来训练ML模型，并且范围可以从一个训练放疗治疗计划信息到所有训练放疗治疗计划信息。在一些实现方式中，ML模型的输出或结果用于计算第一剂量或第一剂量的导数。此外，对应于该批放疗治疗计划信息的放疗治疗计划参数用于以类似方式计算第二剂量或第二剂量的导数。将第一剂量和第二剂量应用于损失函数，并且计算损失函数关于所应用剂量的梯度或导数。基于损失函数的梯度或导数，计算ML模型的更新参数。在一些实现方式中，基于放疗治疗计划参数计算损失函数的导数，并且基于所计算的损失函数的导数来更新ML模型的参数。例如，在给定当前的一组估计的放疗治疗计划参数和对应的一组放疗治疗计划参数的情况下，执行dL/dD的计算。执行dD/d的另一计算，并且基于当前ML模型参数和dD/d的计算更新ML模型参数。然后将ML模型与更新的参数一起应用于第二批训练放疗治疗计划信息，以再次估计放疗治疗计划的给定的一组参数，以计算剂量并将剂量应用于损失函数。再次更新ML模型的参数，并且该训练处理的迭代持续指定的迭代次数或时段，或者直到已经满足给定的收敛标准。在一个实现方式中，根据有监督的学习技术训练ML模型，以根据一个或更多个医学图像估计sCT图像。在这样的情况下，为了训练ML模型Λθ，检索多个训练医学图像以及其对应的训练sCT图像和/或训练CT图像。将ML模型应用于第一批训练医学图像，以估计给定的一组sCT图像。该批训练医学图像可以用于利用ML模型的相同参数来训练ML模型，并且范围可以从一个训练医学图像到所有训练医学图像。在一些实现方式中，ML模型的输出或结果用于计算第一剂量或第一剂量的导数。此外，对应于该批医学图像的sCT图像用于以类似方式计算第二剂量或第二剂量的导数。将第一剂量和第二剂量应用于损失函数，并且计算损失函数关于所应用剂量的梯度或导数。基于损失函数的梯度或导数，计算ML模型的更新参数。在一些实现方式中，基于sCT图像计算损失函数的导数，并且基于所计算的损失函数的导数来更新ML模型的参数。例如，在给定当前的一组估计的sCT图像和对应的一组训练sCT图像或CT图像的情况下，执行dL/dD的计算。执行dD/d的另一计算，并且基于当前ML模型参数和dD/d的计算更新ML模型参数。然后将ML模型与更新的参数一起应用于第二批训练医学图像，以再次估计给定的一组sCT图像，以计算剂量并将剂量应用于损失函数。再次更新ML模型的参数，并且该训练处理的迭代持续指定的迭代次数或时段，或者直到已经满足给定的收敛标准。在一个实现方式中，根据有监督的学习技术训练ML模型，以根据CT图像、分割图和/或距离图来估计剂量分布或放疗治疗计划。在这样的情况下，为了训练ML模型Λθ，检索多个训练CT图像、分割图和/或距离图以及它们对应的训练剂量分布或放疗治疗计划。将ML模型应用于第一批训练CT图像、分割图和/或距离图，以估计给定的一组剂量分布或放疗治疗计划。该批训练CT图像、分割图和/或距离图可以用于利用ML模型的相同参数来训练ML模型，并且范围可以从一个训练CT图像、分割图和/或距离图到所有训练CT图像、分割图和/或距离图。在一些实现方式中，ML模型的输出或结果用于计算第一剂量或第一剂量的导数。此外，与该批CT图像、分割图和/或距离图相对应的剂量分布或放疗治疗计划被用于以类似方式计算第二剂量或第二剂量的导数。将第一剂量和第二剂量应用于损失函数，并且计算损失函数关于所应用剂量的梯度或导数。基于损失函数的梯度或导数，计算ML模型的更新参数。在一些实现方式中，基于剂量分布或放疗治疗计划来计算损失函数的导数，并且基于所计算的损失函数的导数来更新ML模型的参数。例如，在给定当前的一组估计的剂量分布或放疗治疗计划和对应的一组训练剂量分布或放疗治疗计划的情况下，执行dL/dD的计算。执行dD/d的另一计算，并且基于当前ML模型参数和dD/d的计算来更新ML模型参数。然后将ML模型与更新的参数一起应用于第二批训练CT图像、分割图和/或距离图，以再次估计给定的一组剂量分布或放疗治疗计划，以计算剂量并将剂量应用于损失函数。再次更新ML模型的参数，并且该训练处理的迭代持续指定的迭代次数或时段，或者直到已经满足给定的收敛标准。在一个实现方式中，根据有监督的学习技术训练ML模型，以根据第一剂量计算估计第二剂量计算。在这样的情况下，为了训练ML模型Λθ，检索多个训练第一剂量计算以及其对应的训练第二剂量计算。将ML模型应用于第一批训练第一剂量计算，以估计给定的一组第二剂量计算。该批训练第一剂量计算可以用于利用ML模型的相同参数训练ML模型，并且范围可以从一个训练第一剂量计算到所有训练第一剂量计算。将与训练第一剂量计算相对应的估计的第二剂量计算和检索的训练第二剂量计算应用于损失函数，并且计算损失函数关于所应用剂量计算的梯度或导数。基于损失函数的梯度或导数，计算ML模型的更新参数。然后将ML模型与更新的参数一起应用于第二批训练第一剂量计算，以再次估计给定的一组第二剂量计算并将剂量计算应用于损失函数。再次更新ML模型的参数，并且该训练处理的迭代持续指定的迭代次数或时段，或者直到已经满足给定的收敛标准。在一个实现方式中，根据无监督的学习技术训练ML模型，其中不使用对应于放疗治疗计划信息的真实放疗治疗参数。在这样的情况下，为了训练ML模型Λθ，检索针对其他患者的多个训练放疗治疗计划信息。将ML模型应用于第一批训练放疗治疗计划信息，以估计给定的一组放疗治疗计划参数。该批训练放疗治疗计划信息可以用于利用ML模型的相同参数训练ML模型，并且范围可以从一个训练放疗治疗计划信息到所有训练放疗治疗计划信息。ML模型的输出或结果被用于基于式2计算剂量或剂量的导数，使用损失函数评估该剂量或剂量的导数，以获得关于当前迭代的损失/效用的反馈。基于该损失函数的梯度或导数，计算用于ML模型的更新的参数。然后将ML模型与更新的参数一起应用于第二批训练放疗治疗计划信息，以再次估计给定的一组放疗治疗计划参数。再次更新ML模型的参数，并且该训练处理的迭代持续指定的迭代次数或时段，或者直到已经满足给定的收敛标准。在一些实施方式中，剂量的导数包括一阶导数。在一些实施方式中，一阶导数不是常数值。具体地，基于损失函数以有监督的方式或无监督的方式训练ML模型，使得基于——通过ML模型针对给定放疗治疗计划信息估计的——一组放疗治疗计划参数计算的剂量的导数在指定固定次数的迭代之后满足停止标准。具体地，训练ML模型直到满足停止标准或者在基于ML模型的输出计算的剂量或剂量的导数在指定的阈值误差内时。以这种方式，可以将该经训练的ML模型应用于新的放疗治疗计划信息以估计一个或更多个放疗治疗计划参数。在训练机器学习模型之后，可以接收包括一个或更多个患者输入参数的新数据370。可以将经训练的机器学习技术应用于新数据370以生成包括放疗治疗计划的一个或更多个估计参数的生成结果380。在一些实施方式中，估计的sCT图像用于计算剂量表达式的导数。sCT图像的目的通常是检查在预先计划的治疗被递送至当前的患者解剖结构和位置的情况下剂量偏差是否是可接受的。因此，sCT图像的一个重要标准是它产生将由递送治疗引起的剂量分布的准确描述。典型的系统未能明确调整sCT图像生成以实现剂量分布的准确描述的这个目标。一些方法已经接受了其中sCT图像被调整为具有与相应的CT图像尽可能相似的图像强度)的代理。这样，在一些实现方式中，使用可微剂量计算来改进sCT图像生成。为此，训练ML模型以将MR图像作为输入x并将输出y作为sCT图像，其中训练目标是在旧治疗计划的训练数据库上使剂量偏差最小化。这意味着以有监督的机器学习算法fθ通过选择参数θ来训练ML模型，以使由式4给出的基于剂量的经验损失L最小化：如果剂量计算是可微的，则可以利用该损失以端到端的方式训练ML模型，并且可以使用链式法则根据式5计算损失的导数：其中，在该示例中第二等式成立，因为并且Ω＝fθ。训练产生用于模型的固定参数集θ*。在呈现之前从未见过的MR图像时，可以通过应用经学习的函数生成合成CT图像。下面结合图7示出并描述该示例的详细图。在一些实施方式中，基于剂量表达式的导数训练的ML模型可以被用于执行自动治疗计划。在自动治疗计划中，目标是仅基于诸如医学图像和描绘的结构的输入自动生成治疗计划。最成功的策略试图基于先前的治疗计划使用一些学习元素来复制治疗意图，该治疗意图通常用剂量分布或根据剂量分布得到的一些量来表示。然而，对剂量分布进行学习仅是不完全的解决方案，因为为了递送治疗，需要实现治疗计划的机器配置。寻求机器配置的步骤可以被认为是逆问题的形式，该逆问题通常通过对优化问题进行公式化和求解来处理。到目前为止，从预测进行至可实现的计划时导致的性能下降大多被忽略了。这样，根据一些实施方式，通过明确地结合前向模型的知识，有效地使用有监督的学习来训练ML模型变得可能，该ML模型从医学图像直接映射至机器配置。具体地，为了训练这样的ML模型，设x是CT扫描和来自多个不同结构的距离图的集合的形式的输入，并且设y是开口和辐照角度的集合的形式的机器参数。剂量计算使用CT图像和机器参数两者来模拟得到的剂量分布，例如神经网络可以与参数θ一起用于描述从输入到机器参数的映射fθ：X→Y。在最直接的设置中，可以使用直接比较机器参数的空间偏差的损失函数，例如，在某些情况下，根据式6在剂量分布的空间中执行比较：训练这样的ML模型可以以与图8中所示和描述的类似方式来执行。在一些实施方式中，可以使用基于剂量表达式的导数的参数来选择辐照方向，从而求解优化问题。微分剂量计算的使用对于线性加速器的射束取向选择与其对于伽玛刀治疗的等中心点选择是类似的。具体的示例集中在伽玛刀上，并且结合图9进行讨论。莱克塞尔伽玛刀是用于颅内立体定向放射外科的专用系统。放射被准直以产生来自每个源的放射会聚的焦点。在焦点处，放射强度及其梯度都变得非常大。这使得可以在对周围健康组织的损伤最小的情况下递送高放射剂量。根据目标的形状和大小，可以有两种调整放射剂量的方法。第一，患者可以相对于焦点精确移动，有效地将焦点放置于不同的等中心点。第二，以八个独立控制的扇区布置放射源。每个扇区可以处于以下四种不同的准直器状态之一：4mm、8mm或16mm或射束关闭状态。对于每个等中心点位置和准直器配置，可以指定辐照时间。这种构成通常被称为对焦。大量的自由度使得能够以前所未有的方式形成剂量分布。然而，同时，完全通过手动计划来探索它们是不可行的。因此，利用逆向计划方法使LGK的全部潜力在临床上可用。逆向计划方法仅需要用户指定要争取的目标，并且然后根据这些目标使用数学优化来寻找可能的最佳治疗计划。通常，通过启发式几何算法生成一组等中心点。对于这些等中心点，剂量率核是预先计算的并且其形状是固定的，使得即使作为优化的一部分移动了等中心点，对应的剂量核也只是以相同的方式移动。也就是说，这种典型的技术没有考虑组织的不均匀性。实际上，总剂量是通过在每个等中心点时利用来自所有扇区的所有准直器尺寸给出的剂量的叠加给出的，但是为了简单起见，仅讨论仅具有单个准直器、扇区和等中心点的情况，并由式7表示该情况：D＝ψt其中，ψ是由于位置r'处的等中心点引起的位置r处的剂量率，并且t是辐照时间。在该示例中，逆向计划问题的损失函数将是参数θ＝{r′，t}的函数，例如由式8定义：其中，wT和wO是标量权重因子，其控制向目标体积VT给予比高的剂量以及在危及器官体积VO中将剂量降低到以下的重要性。|t|项表示保持治疗时间短的期望。如果引入物理约束，即辐照时间必然是非负的，则逆向计划问题可以表示为式9的非线性、有界约束的优化问题：可以使用例如基于迭代梯度的方案来求解该类型的优化问题，所述基于迭代梯度的方案例如投影梯度下降：θ＝projt≥0-ηg)，其中projt≥0是在可行集t≥0上的投影，是步长，以及g是θ处的任何次梯度。在这种情况下使用次梯度的原因是因为在时，式中的特定损失函数是不可微的。可以根据式10使用链式法则来评估损失相对于参数的梯度：剂量核相对于等中心点位置的梯度可以通过数值或通过自动微分来评估。上述的变型是引入辅助变量s来公式化平滑优化问题，该平滑优化问题等价于式，但是根据更大的变量集合来定义。在该修改后的问题中，损失由式11表示：并且附加的一组约束定义如下：0≤sr∈VT，0≤sr∈VO，式10的该优化问题可以使用更高阶的优化方法)的牛顿法)或使用求解器或内点法)来求解，已知所述求解器即使对于该问题的非线性约束类型也能很好地工作。图4是示出根据示例实施方式的治疗处理逻辑120在执行处理400时的示例操作的流程图。处理400可以体现在用于由一个或更多个处理器执行的计算机可读指令中，使得处理400的操作可以部分或全部地由治疗处理逻辑120的功能性部件来执行；因此，下面通过参考其的示例来描述处理400。然而，在其他实施方式中，处理400的操作中的至少一些操作可以部署在各种其他硬件配置上。因此，处理400不旨在限于治疗处理逻辑120，而是可以全部或部分地由任何其他部件来实现。处理400的操作中的一些或所有操作可以是并行的、无序的或被完全省略。在操作410处，治疗处理逻辑120接收训练数据。例如，治疗处理逻辑120接收：成对的多个训练放疗治疗计划信息与多个训练放疗治疗计划参数；成对的训练MR图像和/或CBCT图像与训练sCT图像；成对的训练MR图像、CT图像、sCT图像、CBCT图像、分割图和距离图与训练放疗装置控制点；以及成对的训练剂量计算函数与训练剂量分布。在操作420处，治疗处理逻辑120接收用于训练的约束。在操作430处，治疗处理逻辑120执行模型的训练。例如，治疗处理逻辑120可以通过使已经应用了一个或更多个剂量计算的损失函数的梯度或导数最小化来训练ML模型参数312，所述一个或更多个剂量计算已经基于一个或更多个训练放疗治疗计划信息和对应的训练放疗治疗计划参数进行了估计。以这种方式，ML模型被训练成建立放疗治疗计划信息与一个或更多个放疗治疗计划参数之间的关系。可以以有监督的方式或无监督的方式执行训练。在操作440处，治疗处理逻辑120输出经训练的模型。例如，经训练的模型可以被输出并存储在存储器中，或者模型的参数可以在显示装置上呈现给临床医生。在操作450处，治疗处理逻辑120利用经训练的模型来生成结果。例如，在训练机器学习模型中的每个机器学习模型之后，可以接收包括一个或更多个患者输入参数的新数据370。可以将经训练的机器学习技术应用于新数据370以生成包括一个或更多个估计的放疗治疗计划参数的生成结果380。图5是示出根据示例实施方式的治疗处理逻辑120在执行处理500时的示例操作的流程图。处理500可以体现在用于由一个或更多个处理器执行的计算机可读指令中，使得处理500的操作可以部分或全部地由治疗处理逻辑120的功能性部件来执行；因此，下面通过参考其的示例来描述处理500。然而，在其他实施方式中，处理500的操作中的至少一些操作可以部署在各种其他硬件配置上。因此，处理500不旨在限于治疗处理逻辑120，而是可以全部或部分地由任何其他部件来实现。处理500的操作中的一些或所有操作可以是并行的、无序的或被完全省略。在操作510处，治疗处理逻辑120接收放疗治疗计划信息。在操作520处，治疗处理逻辑120处理放疗治疗计划信息，以基于依赖于估计剂量计算的导数的子处理的输出的处理来估计一个或更多个放疗治疗计划参数。在操作530处，治疗处理逻辑120使用所估计的一个或更多个放疗治疗计划参数生成放疗治疗计划。图6是示出根据示例实施方式的治疗处理逻辑120在执行处理600时的示例操作的流程图。处理600可以体现在用于由一个或更多个处理器执行的计算机可读指令中，使得处理600的操作可以部分或全部地由治疗处理逻辑120的功能性部件来执行；因此，下面通过参考其的示例来描述处理600。然而，在其他实施方式中，处理600的操作中的至少一些操作可以部署在各种其他硬件配置上。因此，处理600不旨在限于治疗处理逻辑120，而是可以全部或部分地由任何其他部件来实现。处理600的操作中的一些或所有操作可以是并行的、无序的或被完全省略。在操作610处，治疗处理逻辑120接收多个训练放疗治疗计划信息和多个训练放疗治疗计划参数。在操作620处，治疗处理逻辑120基于剂量计算训练机器学习模型，以通过建立多个训练放疗治疗计划信息与多个训练放疗治疗计划参数之间的关系来生成放疗治疗计划参数的估计。图7是示出根据示例实施方式的治疗处理逻辑120在执行处理700时的示例操作的流程图。处理700可以体现在用于由一个或更多个处理器执行的计算机可读指令中，使得处理700的操作可以部分或全部地由治疗处理逻辑120的功能性部件来执行；因此，下面通过参考其的示例来描述处理700。然而，在其他实施方式中，处理700的操作中的至少一些操作可以部署在各种其他硬件配置上。因此，处理700不旨在限于治疗处理逻辑120，而是可以全部或部分地由任何其他部件来实现。处理700的操作中的一些或所有操作可以是并行的、无序的或被完全省略。在操作710处，治疗处理逻辑120访问先前放疗治疗计划的数据库。在操作712处，治疗处理逻辑120定义用于根据CT图像、CBCT图像和/或MRI图像生成sCT图像的参数化函数。在操作714处，治疗处理逻辑120定义基于剂量的导数的损失函数。例如，治疗处理逻辑120可以获得由式4定义的损失函数。在操作720处，治疗处理逻辑120训练参数化函数。例如，治疗处理逻辑120对成批的训练CT图像、CBCT图像和/或MRI图像及其对应的训练sCT图像进行操作，以基于由式4定义的损失函数训练ML模型。在操作722处，治疗处理逻辑120开始训练参数化函数。例如，治疗处理逻辑120获得第一批训练CT图像、CBCT图像和/或MRI图像及其对应的训练sCT图像。治疗处理逻辑120将ML模型应用于第一批训练CT图像、CBCT图像和/或MRI图像以估计中间sCT图像。治疗处理逻辑120计算基于中间sCT图像的第一剂量和基于训练sCT图像的第二剂量的导数或梯度。将第一剂量的导数或梯度和第二剂量的导数或梯度应用于式4的损失函数。在操作724处，治疗处理逻辑120确定是否已经满足用于训练参数化函数的停止标准。如果已经满足停止标准，则治疗处理逻辑120进行至结束训练，并且否则治疗处理逻辑120进行至操作726。在操作726处，治疗处理逻辑120计算损失相对于参数化函数的参数的梯度或导数。在操作727处，治疗处理逻辑120基于损失的梯度或导数来更新参数化函数的参数。在操作728处，治疗处理逻辑120评估是否已经满足停止标准。如果未满足，则访问另一批训练数据并且执行训练ML模型的另一迭代。在操作730处，治疗处理逻辑120输出经训练的ML模型。在操作740处，治疗处理逻辑120将经训练的ML模型应用于新的MRI图像、CBCT图像和/或CT图像以生成sCT图像。图8是示出根据示例实施方式的治疗处理逻辑120在执行处理800时的示例操作的流程图。处理800可以体现在用于由一个或更多个处理器执行的计算机可读指令中，使得处理800的操作可以部分或全部地由治疗处理逻辑120的功能性部件来执行；因此，下面通过参考其的示例来描述处理800。然而，在其他实施方式中，处理800的操作中的至少一些操作可以部署在各种其他硬件配置上。因此，处理800不旨在限于治疗处理逻辑120，而是可以全部或部分地由任何其他部件来实现。处理800的操作中的一些或所有操作可以是并行的、无序的或被完全省略。在操作810处，治疗处理逻辑120访问先前放疗治疗计划的数据库。在操作812处，治疗处理逻辑120定义用于根据CT图像和/或MRI图像以及分割图和/或距离图生成放疗治疗计划的参数化函数。在操作814处，治疗处理逻辑120定义基于剂量的导数的损失函数。例如，治疗处理逻辑120可以获得由式6定义的损失函数。在操作820处，治疗处理逻辑120训练参数化函数。例如，治疗处理逻辑120对成批的训练CT图像和/或MRI图像和分割图和/或距离图以及其对应的训练放疗治疗计划进行操作，以基于由式6定义的损失函数来训练ML模型。在操作822处，治疗处理逻辑120开始训练参数化函数。例如，治疗处理逻辑120获得第一批训练CT图像和/或MRI图像和分割图和/或距离图以及其对应的训练放疗治疗计划。治疗处理逻辑120将ML模型应用于第一批训练CT图像和/或MRI图像和分割图和/或距离图以估计中间放疗治疗计划。治疗处理逻辑120计算基于中间放疗治疗计划的第一剂量和基于训练放疗治疗计划的第二剂量的导数或梯度。将第一剂量的导数或梯度和第二剂量的导数或梯度应用于式6的损失函数。在操作824处，治疗处理逻辑120确定是否已经满足用于训练参数化函数的停止标准。如果已经满足停止标准，则治疗处理逻辑120进行至结束训练，并且否则治疗处理逻辑120进行至操作826。在操作826处，治疗处理逻辑120计算损失相对于参数化函数的参数的梯度或导数。在操作827处，治疗处理逻辑120基于损失的梯度或导数来更新参数化函数的参数。在操作828处，治疗处理逻辑120评估是否已经满足停止标准。如果未满足，则访问另一批训练数据并且执行训练ML模型的另一迭代。在操作830处，治疗处理逻辑120输出经训练的ML模型。在操作840处，治疗处理逻辑120将经训练的ML模型应用于新的MRI图像和/或CT图像以及分割图和/或距离图以生成放疗治疗计划。图9是示出根据示例实施方式的治疗处理逻辑120在执行处理900时的示例操作的流程图。处理900可以体现在用于由一个或更多个处理器执行的计算机可读指令中，使得处理900的操作可以部分或全部地由治疗处理逻辑120的功能性部件来执行；因此，下面通过参考其的示例来描述处理900。然而，在其他实施方式中，处理900的操作中的至少一些操作可以部署在各种其他硬件配置上。因此，处理900不旨在限于治疗处理逻辑120，而是可以全部或部分地由任何其他部件来实现。处理900的操作中的一些或所有操作可以是并行的、无序的或被完全省略。在操作910处，治疗处理逻辑120访问初始的等中心点位置集合的数据库。在操作912处，治疗处理逻辑120针对每个等中心点的每个扇区初始化准直器配置。在操作914处，治疗处理逻辑120针对优化问题定义包括剂量表达式的导数的损失函数和约束。例如，治疗处理逻辑120获得式8或式10的损失函数。在操作920处，治疗处理逻辑120优化优化问题。在操作922处，治疗处理逻辑120开始优化问题的优化。例如，治疗处理逻辑120开始使用迭代梯度下降来求解优化问题。在操作924处，治疗处理逻辑120确定是否已经满足用于优化优化问题的停止标准。如果已经满足停止标准，则治疗处理逻辑120进行至结束优化，并且否则治疗处理逻辑120进行至操作926。在操作926处，治疗处理逻辑120计算优化问题的约束和/或损失的梯度或导数。在操作927处，治疗处理逻辑120基于梯度或导数更新优化问题的参数。在操作928处，治疗处理逻辑120评估是否已经满足停止标准。在操作930处，治疗处理逻辑120输出所选择的等中心点和其他治疗计划参数。在操作940处，治疗处理逻辑120确定治疗计划质量是否是可接受的。如果所述质量是可接受的，则治疗处理逻辑120进行至在操作960处输出治疗计划，并且否则治疗处理逻辑120进行至操作950。在操作950处，治疗处理逻辑120在等中心点固定的情况下执行逆向计划。如先前所讨论的，相应电子计算系统或装置可以实现如本文中所讨论的方法或功能性操作中的一个或更多个。在一个或更多个实施方式中，放疗处理计算系统110可以被配置成、适于或用于：控制或操作图像引导的放射治疗装置232；执行或实现来自图3的训练或预测操作；操作经训练的治疗模型360；执行或实现处理400至处理900的流程图的操作；或者执行本文中讨论的其他方法中的任何一种或更多种方法。在各种实施方式中，这样的电子计算系统或装置作为独立装置操作或者可以连接至其他机器。例如，这样的计算系统或装置可以在服务器-客户端网络环境中以服务器或客户端机器的身份进行操作，或者在对等式网络环境中作为对等机器进行操作。计算系统或装置的特征可以由个人计算机、平板PC、个人数字助理、蜂窝电话、网络设备或能够执行指定要由该机器执行的动作的指令的任何机器来实现。也如上所述，以上讨论的功能可以通过机器可读介质上的指令、逻辑或其他信息存储来实现。尽管可能已经在各种示例中参考单个介质描述了机器可读介质，但是术语“机器可读介质”可以包括存储一个或更多个暂态或非暂态指令或数据结构的单个介质或多个介质。术语“机器可读介质”还应当被认为包括如下任何有形介质，所述任何有形介质能够存储、编码或承载用于由机器执行并且使机器执行本公开内容的方法中的任何一种或更多种方法的暂态或非暂态指令，或者所述任何有形介质能够存储、编码或承载由这样的指令利用或与这样的指令相关联的数据结构。以上具体实施方式包括对附图的参照，所述附图形成具体实施方式的一部分。附图通过说明的方式而不是通过限制的方式示出了具体实施方式，在所述具体实施方式中可以实践本公开内容。这些实施方式在本文中也被称为“示例”。这样的示例可以包括除了示出的或描述的要素之外的要素。然而，本公开内容还预期了仅提供示出的或描述的那些要素的示例。此外，本公开内容还预期了使用关于特定示例或关于在本文中示出或描述的其他示例示出的或描述的那些要素的任何组合或排列的示例。本文献中参考的所有出版物、专利和专利文献都通过引用整体并入本文中，就好像通过引用单独地并入一样。如果在本文献与通过引用并入的那些文献之间存在不一致的用法，则并入的引用中的用法应当被视为对本文献的用法的补充；对于矛盾的不一致之处，请以本文献中的用法为准。在本文献中，在介绍本公开内容的各方面的要素或其实施方式中的要素时，如在专利文献中常见的那样，使用术语“一”、“一个”、“该”和“所述”以包括要素中的一个或多于一个或更多个，与“至少一个”或“一个或更多个”的任何其他实例或用法无关。在本文献中，除非另有说明，否则术语“或”被用于指代非排他性的或，使得“A或B”包括“A而非B”、“B而非A”以及“A和B”。在权利要求中，术语“包括”和“其中”被用作相应术语“包括”和“其中”的普通等同物。此外，在权利要求中，术语“包括”、“包括”和“具有”旨在是开放性的，以意指除了所列出的要素之外可能还存在其他要素，使得在权利要求中的这样的术语、包括、具有)之后的仍被认为落入该权利要求的范围内。此外，在权利要求中，术语“第一”、“第二”和“第三”等仅被用作标记，并且不旨在对其对象施加数字要求。本公开内容还涉及被适配、被配置或被操作成用于执行本文中的操作的计算系统。该系统可以是针对所需目的而专门构建的，或者该系统可以包括由存储在计算机中的计算机程序选择性地启动或重新配置的通用计算机。除非另有说明，否则实施或执行本文中示出和描述的公开内容的实施方式中的操作的顺序不是必需的。也就是说，除非另有说明，否则可以以任何顺序执行操作，并且本公开内容的实施方式可以包括比本文中公开的这些操作附加或更少的操作。例如，可以预期，在另一操作之前、与另一操作同时或在另一操作之后实施或执行特定操作在本公开内容的各方面的范围内。鉴于以上，将看到，本公开内容的若干目的被实现并且其他有益结果被获得。已经详细地描述了本公开内容的各方面，将明显的是，在不脱离如在权利要求中限定的本公开内容的各方面的范围的情况下，修改和变化是可能的。由于在不脱离本公开内容的各方面的范围的情况下可以在上述构造、产品和方法中做出各种改变，因此旨在上面的描述中包含的以及附图中示出的所有内容应当被解释为说明性的而非限制性的意义。本文中描述的示例可以在各种实施方式中被实现。例如，一个实施方式包括一种计算装置，所述计算装置包括处理硬件和存储器硬件，所述存储器硬件包括在其上实施的指令，使得所述指令在由处理硬件执行时使计算装置实现、执行或协调用于这些技术和系统配置的电子操作。本文讨论的另一实施方式包括一种诸如可以由机器可读介质或其他存储装置实施的计算机程序产品，所述计算机程序产品提供用于实现、执行或协调用于这些技术和系统配置的电子操作的暂态或非暂态指令。本文中讨论的另一实施方式包括一种方法，所述方法能够在计算装置的处理硬件上操作以实现、执行或协调用于这些技术和系统配置的电子操作。在其他实施方式中，可以在分布式或集中式计算系统——包括关于诸如台式计算机或笔记本个人计算机、移动装置、客户端终端和服务器托管的机器实例等的计算系统的任何数量的形式因素——中提供实现上述电子操作的各方面的逻辑、命令或者暂态或非暂态指令。本文中讨论的另一实施方式包括将本文中讨论的技术并入其他形式，包括程控逻辑、硬件配置或者专用的部件或模块的其他形式，包括具有执行这样的技术的功能的相应装置的设备。用于实现这样的技术的功能的各个算法可以包括上述电子操作中的一些或全部的序列或者在附图和以上具体实施方式中所描绘的其他方面。以上描述旨在是说明性的，而不是限制性的。例如，以上描述的示例可以彼此结合使用。另外，在不脱离本公开内容的范围的情况下，可以做出许多修改以使特定情况或材料适应本公开内容的教导。尽管本文中描述的材料的尺寸、类型以及示例参数、功能和实现方式旨在限定本公开内容的参数，但是它们绝不是限制性的实施方式，而是示例性的实施方式。在回顾以上描述之后，许多其他实施方式对本领域技术人员将是明显的。因此，应当参考权利要求以及这样的权利要求所赋予的等同物的全部范围来确定本公开内容的范围。此外，在以上的具体实施方式中，可以将各种特征组合在一起以简化本公开内容。这不应当被解释为意指未要求保护的公开的特征对任何权利要求是必不可少的。确切地说，本发明的主题可能在于少于特定公开的实施方式的所有特征。因此，权利要求由此被并入具体实施方式中，其中每个权利要求独立地作为单独的实施方式。应当参考权利要求以及这样的权利要求所赋予的等同物的全部范围来确定本公开内容的范围。
