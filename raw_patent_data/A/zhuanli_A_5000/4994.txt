标题title
一种术中血管血压非接触式测量方法及视觉检测系统
摘要abst
本发明提供了一种术中血管血压非接触式测量方法及视觉检测系统，方法为：通过非接触方式采集待测血管至少一个搏动周期的动态图像数据；对所述动态图像数据进行边界识别以计算获得所述待测血管的在至少一个搏动周期的动态尺寸参数；基于预先检测获得的所述待测血管的血管弹性参数，构建所述待测血管的应力‑应变关系式；将所述动态尺寸参数与所述应力‑应变关系式进行拟合，以获得所述待测血管的血压参数。本发明能够以非接触式的方式，在手术术中测量待定血管的血压参数，可以精准定位待测的若干根血管，对于医生判断手术方案选择合适的血管提供了参考指标。
权利要求书clms
1.一种术中血管血压非接触式测量方法，其特征在于，包括：通过非接触方式采集待测血管至少一个搏动周期的动态图像数据；对所述动态图像数据进行边界识别以计算获得所述待测血管的在至少一个搏动周期的动态尺寸参数；基于预先检测获得的所述待测血管的血管弹性参数，构建所述待测血管的应力-应变关系式；将所述动态尺寸参数与所述应力-应变关系式进行拟合，以获得所述待测血管的血压参数；其中，所述应力-应变关系式表征为所述待测血管在不同受力条件下的力学响应，即血压参数与血管动态尺寸参数的关系。2.根据权利要求1所述的术中血管血压非接触式测量方法，其特征在于，所述待测血管的血管弹性参数的获得方法为：通过经颅多普勒超声测量所述待测血管的血管搏动指数，基于血管搏动指数与血管弹性的负相关性，从而获得所述待测血管的血管弹性参数。3.根据权利要求1所述的术中血管血压非接触式测量方法，其特征在于，所述待测血管的血管弹性参数的获得方法为：综合患者的自身因素包括右上臂血压、年龄、性别、身高和疾病建立相关数据库，与不同样本的血管弹性参数下的应力-应变关系数据库进行拟合；获得所述待测血管的血管弹性指数。4.根据权利要求1所述的术中血管血压非接触式测量方法，其特征在于，所述动图图像数据的非接触方式采集方式包括：通过成像设备获得，包括拍照、摄像、红外线测量或核磁共振。5.根据权利要求1所述的术中血管血压非接触式测量方法，其特征在于，所述测量方法的计算过程为：①获取所述待测血管的动态图像数据；②对所述动态图像数据进行边界识别处理，得到各特征点之间的周向、轴向尺寸参数；其中所述待测血管在无压力状态下特征点的轴向、周向的原始尺寸参数为x0、y0；③在所述动态图像数据中选取10个波谷的数据信息，设10个波谷间的距离分别为t1，t2，...，t10，波谷间的相片数目n，相机帧数为fps时：t1的公式为：则周期T的公式为：④设第一周期上每个点所测得的所述待测血管特征点之间的周向距离为x1i，轴向距离y1i，间隔为T的第二周期每个点的周向距离为x2i，轴向距离y2i，其中i＝1，2，...，n，至第十个周期每个点的周向和轴向距离；⑤对第一个至第十个周期每个点的周向和轴向距离做平均化处理，每个点的平均周向距离xi的公式为：每个点的平均轴向距离yi的公式为：⑥血压变化引起所述待测血管轴向、周向的尺寸参数变化公式即所述待测血管的应力-应变关系式为：其中，P为血压，εr为血管周向应变，εl为血管轴向应变，e是自然对数，ρ、k1、k2、C是通过实验标定获得的相关参数；⑦血管周向应变εr的公式为血管轴向应变εl的公式为：⑧将平均周向距离xi、平均轴向距离yi、所述待测血管在无压力状态下特征点的周向、轴向的原始尺寸参数x0、y0，录入数据到步骤⑥⑦中计算得出待测血管的血压参数。6.根据权利要求5所述的术中血管血压非接触式测量方法，其特征在于，所述待测血管在无压力状态下特征点的轴向、周向的原始尺寸参数为x0、y0是由所述待测血管的应力-应变关系式与所述待测血管的尺寸变化参数拟合得到的。7.一种用于血压测量的视觉检测系统，其特征在于，具备：图像采集系统，通过非接触方式实时获取手术过程中待测血管的图像数据；图像处理系统，与所述图像采集系统通讯连接，所述图像处理系统用于接收所述图像数据并进行处理以获得所述待测血管的尺寸参数信息；血压换算系统，与所述图像处理系统通讯连接，所述血压换算系统用于接收所述待测血管的尺寸参数信息并基于待测血管的应力-应变关系计算所述待测血管的血压参数。8.根据权利要求7所述的用于血压测量的视觉检测系统，其特征在于，所述图像处理系统用于识别所述待测血管的所述图像数据的边界，并计算获得所述待测血管的尺寸参数信息。9.根据权利要求7所述的用于血压测量的视觉检测系统，其特征在于，所述血压换算系统在术前得到所述待测血管的血管弹性参数，进而构建完成所述待测血管的应力-应变关系。
说明书desc
技术领域本发明属于非接触式血压测量技术领域，涉及术中血管血压非接触式测量方法，具体涉及一种术中血管血压非接触式测量方法及视觉检测系统。背景技术高血压是引发心、脑血管和肾病变的一个重要的危险因素，如果治疗不当就会病变成为较严重的脑中风、心肌梗死和肾功能衰竭等这些常见高血压并发症。据统计，我国高血压患者已经超过了2.7亿。因此及时监测血压变化对预防控制高血压至关重要。有创式血压测量由于其高精度深受医生的信赖，然而由于其操作复杂性和造成的创口，往往只在危重病人身上使用。因此，以袖带式血压测量为重点的无创血压测量成为日常血压测量的主流。然而，这种接触式的血压测量方式在某些情况如术中脑血压测量无法发挥其作用，因此，非接触式的血压测量方法被提出。当前非接触式的血压测量方式主要以提取脉搏波为主，然而由于脉搏波本身比较微弱，非接触式的方式很难精确提取脉搏波，且全身各部位血压有所不同，此种方式的精确性还有待考证。在某些应用场合中，急需一种新型的血压测量方法，能精确测量特定血管的血压。当前治疗烟雾病的重要手段是脑血管吻合手术，通过选择合适的受体动脉与患病动脉进行吻合，对患病动脉进行灌注，从而达到治疗效果，其中，待选受体血管的血压对治疗效果有重要影响，因此，需要一种非接触式的血压测量方法，能实现在手术术中精确测量特定血管的血压。所以目前需要一种新型血压检测方法，解决现有技术中无法测量术中特定血管血压等问题。发明内容本发明提供了一种术中血管血压非接触式测量方法及视觉检测系统，主要解决了非接触式血压测量中提取脉搏波的方式精确性不稳定、特定血管血压测量难度大的问题。一种术中血管血压非接触式测量方法，包括：通过非接触方式采集待测血管至少一个搏动周期的动态图像数据；对所述动态图像数据进行边界识别以计算获得所述待测血管的在至少一个搏动周期的动态尺寸参数；基于预先检测获得的所述待测血管的血管弹性参数，构建所述待测血管的应力-应变关系式；将所述动态尺寸参数与所述应力-应变关系式进行拟合，以获得所述待测血管的血压参数；其中，所述应力-应变关系式表征为所述待测血管在不同受力条件下的力学响应，即血压参数与血管动态尺寸参数的关系。进一步地，通过经颅多普勒超声测量所述待测血管的血管搏动指数，基于血管搏动指数与血管弹性的负相关性，从而获得所述待测血管的血管弹性参数。进一步地，综合患者的自身因素包括右上臂血压、年龄、性别、身高和疾病建立相关数据库，与不同样本的血管弹性参数下的应力-应变关系数据库进行拟合；获得所述待测血管的血管弹性指数。进一步地，所述动图图像数据的非接触方式采集方式包括：通过成像设备获得，包括拍照、摄像、红外线测量或核磁共振。进一步地，所述测量方法的计算过程为：①获取所述待测血管的动态图像数据；②对所述动态图像数据进行边界识别处理，得到各特征点之间的周向、轴向尺寸参数；其中所述待测血管在无压力状态下特征点的轴向、周向的原始尺寸参数为x0、y0；③在所述动态图像数据中选取10个波谷的数据信息，设10个波谷间的距离分别为t1，t2，...，t10,波谷间的相片数目n，相机帧数为fps时：t1的公式为：则周期T的公式为：④设第一周期上每个点所测得的所述待测血管特征点之间的周向距离为x1i，轴向距离y1i，间隔为T的第二周期每个点的周向距离为x2i，轴向距离y2i，其中i＝1,2,...,n，至第十个周期每个点的周向和轴向距离；⑤对第一个至第十个周期每个点的周向和轴向距离做平均化处理，每个点的平均周向距离xi的公式为：每个点的平均轴向距离yi的公式为：⑥血压变化引起所述待测血管轴向、周向的尺寸参数变化公式即所述待测血管的应力-应变关系式为：其中，P为血压，εr为血管周向应变，εl为血管轴向应变，e是自然对数，ρ、k1、k2、C是通过实验标定获得的相关参数；⑦血管周向应变εr的公式为血管轴向应变εl的公式为：⑧将平均周向距离xi、平均轴向距离yi、所述待测血管在无压力状态下特征点的周向、轴向的原始尺寸参数x0、y0，录入数据到步骤⑥⑦中计算得出待测血管的血压参数。进一步地，所述待测血管在无压力状态下特征点的轴向、周向的原始尺寸参数为x0、y0是由所述待测血管的应力-应变关系式与所述待测血管的尺寸变化参数拟合得到的。在本发明的第二个方面，基于上述术中血管血压非接触式测量方法，本发明提供了一种用于血压测量的视觉检测系统，具备：图像采集系统，通过非接触方式实时获取手术过程中待测血管的图像数据；图像处理系统，与所述图像采集系统通讯连接，所述图像处理系统用于接收所述图像数据并进行处理以获得所述待测血管的参数信息；血压换算系统，与所述图像处理系统通讯连接，所述血压换算系统用于接收所述待测血管的参数信息并基于血管的应力应变关系计算所述待测血管的血压参数。进一步地，所述图像处理系统用于识别所述待测血管的所述图像数据的边界，并计算获得所述待测血管的尺寸参数信息。进一步地，所述血压换算系统在术前得到所述待测血管的血管弹性参数，进而构建完成所述待测血管的应力-应变关系。本发明的有益效果：1、本发明提供的一种术中血管血压非接触式测量方法，能自动识别图像数据中待测血管的边界并得到待测血管的尺寸参数信息，能通过精确识别同一部位不同血管的尺寸信息得到其血压变化，且非接触式的测量方式为血压测量带来极大的便利性。2、本发明提供的血压测量方法，通过图像数据分析所获得的血管各特征点的尺寸参数变化，构建待测血管的应力-应变关系，与血管的本构关系进行拟合，获得待测血管的血压数据；可以精准定位待测的若干根血管，因此这种方式测量的血压值是每根血管的血压而不是对全身血压的总体估计，对于医生判断手术方案选择合适的血管提供了参考指标。附图说明图1为本发明中术中血管血压非接触式测量方法的流程示意图。图2为本发明中待测血管的尺寸参数数据。图3为本发明中待测血管的平均化处理结果示意图。图4为本发明中基于血管本构关系和测得的血管尺寸参数数据拟合补充的血管弹性下压力-尺寸变化曲线。图5为本发明中用于血压测量的视觉检测系统的示意图；图6为本发明中图像采集系统的安装示意图；图中：1-1为图像采集系统，1-2为图像处理系统，1-3为支架，1为血压换算系统，2为手术台。具体实施方式以下由特定的具体实施例说明本发明的实施方式，熟悉此技术的人士可由本说明书所揭露的内容轻易地了解本发明的其他优点及功效，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。如图1所示，本发明提供了一种术中血管血压非接触式测量方法，其方法如下：通过非接触方式采集待测血管至少一个搏动周期的动态图像数据；对所述动态图像数据进行边界识别以计算获得所述待测血管的在至少一个搏动周期的动态尺寸参数；基于预先检测获得的所述待测血管的血管弹性参数，构建所述待测血管的应力-应变关系式；所述应力-应变关系式表征为所述待测血管在不同受力条件下的力学响应，即血压参数与动态尺寸参数的关系；将所述动态尺寸参数与所述应力-应变关系式进行拟合，以获得所述待测血管的血压参数。其中，动态图像数据是指至少一个搏动周期内按照时间顺序的待测血管的多个图像；动态尺寸参数是指与多个图像对应下的待测血管的尺寸参数。其中，本发明中以高速相机为例对待测血管进行非接触式拍摄获取待测血管的信息，测量计算得到血管变形的尺寸参数数据，基于血管本构关系，从而根据应变反推应力，得到血压数据。本发明提供的非接触式测量方法能通过精确识别同一部位不同血管的尺寸信息得到其血压变化，解决了当前无法定向测量特定血管血压的问题，同时具有较高的精度，且非接触式的测量方式为血压测量带来极大的便利性。理论上，本发明中血管尺寸信息的非接触式测量方式通过能识别血管边界的成像设备完成即可，包括但不限于如拍照、摄像、红外线测量或核磁共振等其他均能识别血管尺寸参数变化的测量方式，基于此类测量方式的血压测量方法，或其他识别血管尺寸参数变化的方式皆在本发明的保护范围之内。不同样本的血管弹性有较大差异，其对应的应力-应变曲线也不同，因此，为了提高测量精度，血管弹性参数应基于待测样本中个体本身获得。术前准备工作中，就应该得到待测样本的血管弹性参数，构件完成待测血管的应力应变关系式，血管弹性参数的获取方法有多种，本发明主要介绍两种，以下为获取待测血管的血管弹性参数的示例方案。方案一：通过经颅多普勒超声测量所述待测血管的血管搏动指数，基于血管搏动指数与血管弹性的负相关性，从而获得所述待测血管的血管弹性参数。血管搏动指数是与血管弹性相关的一个重要参数，建立血管搏动指数与血管弹性参数的相关性则可以通过血管搏动指数获得待测血管的力学参数从而获得血管的本构关系。方案二：综合患者的自身因素包括自身血压、年龄、性别、身高和疾病等建立相关数据库，与不同样本的血管弹性参数下的应力-应变关系数据库进行拟合；获得所述待测血管的血管弹性指数。本方案中的自身血压因素指的是右上臂血压，也是医学界测量血压的标准，血压的高低跟血管弹性有关，血压越高，血管弹性越低，年龄越大，血管弹性越低，不同疾病对血管弹性的影响也不同，因此基于右上臂血压、年龄、性别、疾病等因素建立相关的数据库，可以得到类似样本条件下的血管弹性信息，与不同样本的血管弹性参数下的应力-应变关系数据库进行拟合，从而获得对应的本构关系。方案一中的待测血管不是专指脑血管，如果能够获取清晰识别血管边界的图像数据，就可以测量身体任何部位任何动脉血管的血压。方案一、方案二由于其原理的不同，各有其优缺点。此外，还可以通过血管样品进行拉伸实验的方式获取血管弹性参数及应力-应变曲线。其他任何基于血管本构生成的血压测量方法，基于血管应力-应变关系的血压测量方法都应在本发明的保护范围之内。术前完成待测血管的血管弹性参数和血管的应力-应变关系式的准备工作，术中进行血压测量工作。患者平躺于手术台上，在脑血管暴露在外后，通过非接触方式获取待测样本中待测血管的尺寸信息后，对尺寸信息进行处理得到待测血管的尺寸参数数据；将待测血管的尺寸参数数据传输到待测样本中血管的应力-应变关系式中即可得到待测血管的血压参数。本实施例中，术中血管血压非接触式测量方法的计算过程为：①获取所述待测血管的动态图像数据。②对所述动态图像数据进行边界识别处理，得到各特征点之间的周向、轴向尺寸参数；其中所述待测血管在无压力状态下特征点的轴向、周向的原始尺寸参数为x0、y0。如图2和3所示，血管直径随心脏跳动引起的血压变化而发生周期性变化，基于术前准备操作中得到的血管弹性参数，进而确定脑动脉血管的应力-应变曲线并与血管尺寸参数变化进行拟合，如图4所示，其中实线部分为待测样本患者血压范围内的变化曲线，虚线部分为基于血管应力-应变关系补充的变化曲线，可以得到血管在无压力状态下特征点之间的轴向、周向的原始尺寸参数x0、y0。③在图像数据中取10个波谷的数据信息，设10个波谷间的距离分别为t1，t2，...，t10,波谷间的相片数目n，相机帧数为fps时：t1的公式为：则周期T的公式为：④设第一周期上每个点所测得的待测血管特征点之间的周向距离为x1i，轴向距离y1i；间隔为T的第二周期每个点的周向距离为x2i，轴向距离y2i，其中i＝1,2,...,n，至第十个周期每个点的周向和轴向距离。⑤对第一个至第十个周期每个点的周向和轴向距离做平均化处理，每个点的平均周向距离xi的公式为：每个点的平均轴向距离yi的公式为：折合图像如图2-3所示，为血管x方向的周期性变化图像。将图2的周期性图像经平均化处理简化得到单个周期内的血管尺寸参数变化，y方向同理。⑥血压变化引起血管轴向、周向的尺寸参数变化公式即血管应力-应变关系式为：其中，P为血压，εr为血管周向应变，εl为血管轴向应变，e是自然对数，ρ、k1、k2、C是通过实验标定获得相关系数。⑦血管周向应变εr的公式为：血管轴向应变εl的公式为：⑧结合平均周向距离xi、平均轴向距离yi、血管在无压力状态下特征点的周向、轴向的原始尺寸参数x0、y0，录入数据到步骤⑥⑦中计算得出待测血管的血压参数。基于上述术中血管血压非接触式测量方法，本发明提供一种用于血压测量的视觉检测系统，如图5-6所示，具备：图像采集系统，通过非接触方式实时获取手术过程中待测血管的图像数据；图像处理系统，与所述图像采集系统通讯连接，所述图像处理系统用于接收所述图像数据并进行处理以获得所述待测血管的参数信息；血压换算系统，与所述图像处理系统通讯连接，所述血压换算系统用于接收所述待测血管的参数信息并基于血管的应力应变关系计算所述待测血管的血压参数。其中，图像采集系统用于实时记录并发送手术过程中待测血管的图像数据；可以使用高速相机、红外或其他方式的非接触式采集设备采集待测血管的图像数据，将图像数据发往图像处理系统内。图像处理系统用于接收图像采集系统传输的图像数据，并进行实时处理，通过在待测血管的图像数据上虚拟设置若干个特征点，识别待测血管的边界、各特征点之间的周向、轴向数据得到待测血管的尺寸参数数据，并将尺寸参数数据传输给血压换算系统。图像采集系统和图像处理系统直接可以使用电缆连接传递信号，信号传递更加稳定不易受信号强弱和环境影响，也可以选择无线信号传递方式。本实施例中，图像采集系统和图像处理系统安装在支架上并用于调整图像采集系统的位置和角度。用于血压测量的视觉检测系统的使用方法为：术前获取待测血管的血管弹性参数，构件完成待测血管应力-应变关系式的准备工作。术中进行血压测量工作，患者平躺于手术台上，脑血管暴露在外后，将图像采集系统正对于患者脑血管所在位置，调整图像采集系统使其对焦于患者脑部血管。若选用高速相机可提前确定相机焦距并固定相机位置，减少术中操作时间。图像采集系统将实时记录待测血管的图像数据并将其上传至图像处理系统。图像处理系统接收来自图像采集系统的图像数据并进行边界识别和尺寸测量得到待测血管各特征点周向、轴向的尺寸参数信息，相应算法集成于图像处理系统实现对图像的自动处理，得到待测血管的尺寸参数及其变化数据。输入待测血管的尺寸参数及其变化数据到血压换算系统计算得到待测血管的血压参数。以上实施例仅为本申请的示例性实施例，不用于限制本申请，本申请的保护范围由权利要求书限定。本领域技术人员可以在本申请的实质和保护范围内，对本申请做出各种修改或等同替换，这种修改或等同替换也应视为落在本申请的保护范围内。
