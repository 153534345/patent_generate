标题title
基于3D成像的动物体重测定
摘要abst
本公开内容涉及基于视觉技术、特别是3D成像在棚舍环境中测量动物、尤其是牛的体重。第一实施方式涉及一种用于测定已知品种的动物的体重的方法，所述方法包括下述步骤：采集所述动物的背部的至少一个3D图像；从有关所述动物的背部的拓扑结构的所述至少一个3D图像提取数据；和通过将对照包括所述背部的拓扑结构的信息的参比模型的经提取的所述数据与所述动物的品种的体重关联来计算所述动物的体重。
权利要求书clms
1.一种用于测定已知品种的动物的体重的方法，所述方法包括下述步骤：-采集所述动物的背部的至少一个3D图像-从有关所述动物的背部的拓扑结构的所述至少一个3D图像提取形式为离散数量的轮廓点的数据，所述轮廓点沿着所述动物的背部相对于局部最大值进行提取，和-通过将对照包括所述背部的拓扑结构的信息的参比模型的所述轮廓点与所述动物的品种的体重关联来计算所述动物的体重。2.根据权利要求1所述的方法，其中经提取的所述数据由5个和30个之间的轮廓点构成。3.根据前述权利要求中任一项所述的方法，其中经提取的所述数据包括少于20个轮廓点。4.根据前述权利要求中任一项所述的方法，其中经提取的所述数据由10个和20个之间的轮廓点构成。5.根据前述权利要求中任一项所述的方法，其中所述数据通过下述方式从所述3D图像中进行提取：轮廓测绘所述动物的背部以生成相对于脊柱的轮廓线，所述轮廓线被定义为局部最大值的贯穿线，并且其中轮廓线上的轮廓点是基于沿着所述脊柱在给定位置处高度相对于所述脊柱的高度的相对下降。6.根据前述权利要求中任一项所述的方法，其中经提取的所述数据包括少于5个选自所述脊柱的轮廓点、和少于5个选自少于5条相对于所述脊柱的轮廓线各自的轮廓点。7.根据前述权利要求中任一项所述的方法，其中经提取的所述数据包括选自沿着所述动物的背部的局部最大值的线的1个和10个之间的轮廓点、诸如选自沿着所述动物的背部的局部最大值的线的4个轮廓点，和选自沿着所述动物的背部相对于局部最大值的线的1条和10条之间的轮廓线各自、诸如3条轮廓线的1个和10个之间的轮廓点、诸如4个轮廓点。8.根据前述权利要求中任一项所述的方法，其中轮廓线的单个轮廓点被定义为所述动物的背部上相对于所述脊柱的高度的预定义的高度降低，其中沿着垂直于所述脊柱的线发现有相对于所述动物的脊柱上的点的高度降低。9.根据前述权利要求5至8中任一项所述的方法，其中所述轮廓线在相对于所述脊柱的高度小于或等于15cm、优选小于或等于10cm的高度处以离散间隔来生成。10.根据前述权利要求中任一项所述的方法，包括基于所述至少一个3D图像识别所述动物的步骤。11.根据前述权利要求中任一项所述的方法，其中所述动物在采集所述至少一个3D图像期间在移动。12.根据前述权利要求中任一项所述的方法，其中所述至少一个3D图像是基于在所述动物正在移动时采集的多个3D图像。13.根据前述权利要求中任一项所述的方法，其中所述动物是牛类，优选包括母牛和公牛两者，无论是成年还是新生的动物。14.根据前述权利要求中任一项所述的方法，其中所述动物的品种选自下述的群组：泽西品种、弗里西亚牛群体、荷斯坦-斯瓦特邦牛群体、德国荷斯坦-斯瓦特邦牛群体、美国荷斯坦牛群体、红白荷斯坦品种、德国荷斯坦-斯瓦特邦牛群体、丹麦红群体、芬兰艾尔夏群体、瑞典红白群体、丹麦荷斯坦群体、瑞典红白群体、和北欧红群体。15.一种用于测定已知品种的动物的体重的系统，包括：-被配置成采集所述动物的背部的至少一个3D图像的成像系统，-处理单元，所述处理单元被配置成：-从有关所述动物的背部的拓扑结构的所述至少一个3D图像提取形式为离散数量的轮廓点的数据，所述轮廓点沿着所述动物的背部相对于局部最大值进行提取，和-通过将对照包括所述背部的拓扑结构的信息的参比模型的所述轮廓点与所述动物的品种的体重关联来计算所述动物的体重。16.根据权利要求15所述的系统，被配置成在所述动物站立在闸室中和/或行走穿过闸室的同时采集所述至少一个3D图像。17.根据权利要求15至16中任一项所述的系统，被配置成在由所述动物接近和/或进入闸室而引发时采集所述至少一个3D图像。18.根据权利要求15至17中任一项所述的系统，其中所述处理单元被配置成执行权利要求1至14中任一项所述的方法。
说明书desc
技术领域本公开内容涉及基于视觉技术、特别是3D成像在棚舍环境中测量动物、尤其是牛的体重。背景技术当经营一个拥有大量个体动物的大型农业时，经常注意每只动物的健康是一个挑战。动物的健康是非常重要的，这既是从对这些动物的健康负责的农民的人道角度出发，也是因为健康的、饲养得好的动物确保更大的生产力，而且对农民来说也有更大的价值。动物的健康与动物的体重、特别是成年动物的体重稳定性和仍在生长的动物的体重增长高度相关。因此，经常监测动物的体重非常有意义。对农场动物进行称重的过程通常是通过物理性地将动物放置在体重计上、并以手动或数字方式记录该特定动物的体重来提供的。这通常是一个费力而漫长的过程，因为现代农场有大量的动物，这意味着每只动物都必须被逐一带到在体重计上，以记录每只动物的个体体重。此外，在这个过程中必须对动物进行识别，以便将正确的体重归于正确的动物。例如，这种识别可以通过使用动物身上的识别标签来实现，进一步延长了这一过程。此外，如果动物生活在棚舍或田野中，在其中它们可以自由地四处走动，那就更难跟踪哪些动物已经被称重，哪些没有被称重。由于对动物进行称重的过程复杂，称重没有得到广泛的应用，在评估每只动物的体重发育时可用的数据量有限、或甚至没有。WO 2014/026765公开了一种基于移动3D相机的方法，用于测定有关牲畜的参数，诸如体重、部分体重、或瘦肉比例。在该方法中，记录了牲畜的3D图像以产生一个3D模型，该3D模型在先前测定的参考值的基础上进行分析，以便输出和/或存储从经分析的牲畜获得的信息。WO 2010/127023描述了一种用于估计动物的体积、质量或体重的非接触式系统和方法。优选地，用立体相机对动物进行成像，并从立体图像中得出目标动物的3D表现。提供了一个软件模块，使用一组可独立配置的形状变量，对虚拟模型进行重塑，以近似拟合个体动物的空间表现。动物的质量或体重作为表征重塑的虚拟模型的形状变量的函数来估计。WO 2015/156833描述了一种通过动物的图像来估计体重的方法。该系统使用标记来表征动物的体重、健康、和其他参数。该系统被配置成将这些参数记录在时间数据库中。Nir等人)描述了一种从成像数据中测定母牛体重的方法，并通过椭圆来估计动物的形状以计算所述动物的近似体重。在测定体重中使用3D图像的挑战往往是将每只动物挑出、并将其固定在3D成像设备处。通常的做法是把动物放置在一个小牲畜棚中，在其中侧壁或栏杆把动物限制住使其基本上无法移动。在这种情况下，使用3D成像并未消除必须处理每只动物的需要，因为动物将不得不被单独关在狭小的密闭空间中，并因此这个过程仍然是漫长且费力的，而且有些手工操作。此外，设置往往复杂且昂贵，使体重测定成为一件昂贵的事情。此外，动物的体重、尤其是体重的发育，是用于动物总体身体健康的一个重要措施。因此，这也是在评价动物身体健康分数时的重要参数。此外，动物的健康对于具有多产的动物而言也很重要，因为饲养得好的动物可以从年轻时就开始怀孕，并会生产更大量的牛奶和肉类。发明内容本公开内容的发明目的在于提供一种用于基于动物的成像、优选专门基于动物的成像且优选从以上动物3D成像来自动或半自动测定动物体重的系统和方法。本公开内容的一个方面涉及一种用于测定动物、优先抑制品种的动物的体重的方法，所述方法包括采集动物、优选动物的背部的至少一个图像、优选3D图像的步骤。之前已示出了动物的背部携带了大量的特定动物的信息。该方法可进一步包括从所述至少一个图像提取数据、优选有关动物的背部的拓扑结构和/或拓扑图的数据。有利地，动物的体重可通过将对照包括背部的拓扑结构的信息的参比模型的经提取的数据与所述动物的品种的体重关联来计算。本发明人已实现了动物体重与动物的3D形状、即拓扑结构和/或拓扑图专门关联。即，诸如动物的年龄、哺乳期、解剖学等之类的参数可以不在估算之列。这使得可仅基于从以上采集的3D图像来估计动物体重，从而可从该3D图像中提取动物的背部的拓扑结构。这使得也可将目前公开的系统安装在马厩、牛棚、猪圈、或类似者中，并例如在动物进食时或在它们穿过闸室时、例如在它们去挤奶返回的路上从以上采集动物的图像。在目前公开的方案中，已示出了其所需要的仅是用于特定动物品种的参比模型、将动物的背部的拓扑结构与动物体重关联的参比模型。也已示出了从所采集的3D图像中提取的仅有非常有限量的拓扑结构预测子足够精确测定动物的体重。这种消除了对于挑出每只动物并手动将其放置在体重计上或封闭马厩中以便获取关于其体重的信息的需求。这进一步允许对动物的体重进行逐日甚至每日多次的连续监测。特别是，发明人已经实现了从动物的背部的3D图像数据提取的轮廓点与动物、特别是牛的体重非常好地关联。因此，数据可被有利地从所述至少一个3D图像中提取成离散数量的轮廓点的形式。这些轮廓点例如可沿着动物的背部相对于局部最大值的线、典型地被定义为动物的3D图像中限定纵向方向的动物的脊柱进行提取。实验已经示出，少于20个轮廓点足以精确预测动物的体重，通常给定也基于轮廓点的参比模型。因此，仅有从动物的背部的3D图像提取的轮廓点与动物的体重关联。即，无需复杂的3D点云模型或包括动物特定参数。本公开内容进一步涉及一种用于测定已知品种的动物的体重的系统，包括被配置成采集动物的背部的至少一个3D图像的成像系统，和被配置成执行当前公开的方法的处理单元。当前公开的用于体重测定的系统和方法可弯曲消除对于在测定动物体重的过程中单独处理每只动物的需求，这使频繁检测大牧群中的每只个体动物成为可能。例如，动物可行走穿过将棚舍休息区域与喂养和/或挤奶区域连接的闸室和/或狭窄通道。该通道可如此狭窄以至于其仅允许一次通过一只动物。然后可通过放置在通道上方的一个或多个相继来采集动物的背部的一个或多个图像。照相机可以是提供3D信息的任何类型的照相机，诸如，但不限于，飞行时间照相机、立体照相机、结构光相机、光场相机、或它们的组合。成像系统可包括2D相机和深度传感器。成像系统可被配置成采集拓扑图像。在采集图像时动物可在行走的可能性允许经常监测动物的体重，因为这可以在不干扰动物的日常生活的情况下发生。这种对动物体重的频繁监测进一步允许农场主收集数据以统计动物的体重。该数据可用于动物体重的数学建模，以便将体重贡献区分为短期波动和长期变化。短期波动可能是由于充气和/或动物的饲料含量和/或动物中的水肿。然而，长期变化反映了动物身体的实际体重变化，诸如-肌肉和脂肪量的变化和/或-分布和/或-在未完全长大的动物的情况下骨骼的生长，和/或-在怀孕动物的情况下胎儿的生长和/或-在怀孕动物的情况下分娩事件。动物的短期体重发展，诸如白天的变化，与从上次喂养和/或挤奶起的时间有关。因此，在优选的实施方式中，记录了这些事件的时间。以这种方式，将有可能建立一个与时间有关的动物体重短期波动模型。就这一点而言，值得注意的是，动物体重的每日波动可以作为动物健康的指标，例如，每日大幅波动可以作为健康问题的指标。附图说明在下述中将参照附图更详细地描述本发明。附图是示例性的且意图图解本方法和系统的一些特征，且不应被解读为限制当前公开的发明。图1图解了对应相对于脊柱水平的高度下降的动物背部的轮廓线。图2是生成动物背部的轮廓图的过程的实施方式的示意图。图3是引导动物从一个棚舍区域穿过闸室/狭窄通道至另一个棚舍区域的示意图。图4图解了当前公开的方案的概念的证明。X轴示出了由体重计测量的动物的实际体重。Y轴示出了基于从动物的3D图像提取的轮廓点测定的体重。图5示出了计算体重和测量体重之间的偏差值的分布。Y轴是观测的数量。图6示出了计算体重相对于测量体重的残差。图7示出了动物在四周时间段内的平均测量值，X轴为测量体重，Y轴为计算体重。图8涉及图7，并示出平均测量体重和平均计算体重之间的差值。图9示出了自产犊起天数和动物体重之间的关系。图10涉及图9，并示出测量体重和计算体重之间的残差作为自产犊起天数的函数。图11示出牧群2的数据并对应图4，其示出牧群1的相同类型数据。图11示出为牧群2采集的所有数据点。图12示出牧群2的数据并对应图7，其示出牧群1的相同类型数据。图13示出针对红色乳牛的一个牧群的预测体重而绘制的平均观测体重。图14示出针对泽西牛的两个牧群的预测体重而绘制的平均观测体重。图15示出针对荷斯坦牛的一个牧群的预测体重而绘制的平均观测体重。具体实施方式术语“拓扑结构”的正常含义在于其是对一个地区的物理特征或形状的研究和描述，例如它的山丘、山谷、或河流，或这些特征在地图上的表现，即通常用于地理学。在这种情况下，动物的背部的拓扑结构因此被理解为动物的背部的性质，即具有出现在动物背部上的所谓“山丘”和“山谷”的3D形状。如本文中所用的术语“拓扑结构”是一个特定的身体区域、结构或部分的解剖，在这种情况下通常是指动物的背部。动物的解剖是其身体的结构，例如，身体的外部形状。在优选实施方式中，用于对照参比模型关联的经提取的数据包括离散数量的轮廓点以便简化计算。优选少于50个轮廓点、更优选少于25个轮廓点、甚至更优选少于20个轮廓点、最优选少于15个轮廓点，诸如12个轮廓点。已示出了适当选择的、仅从动物背部的3D图像提取的12个轮廓点即可足够测定动物的体重。即，10个和50个之间的轮廓点足够测定动物的体重。动物的脊柱优选位于动物背部的至少一个3D图像中。动物的脊柱可被定义为如图1中所例示的局部高度最大值的贯穿线。因此动物的脊柱可被用于限定动物的3D图像中的纵向方向。在优选实施方式中，数据通过轮廓绘制动物背部、由此生成相对于脊柱的轮廓线而从3D图像中进行提取。轮廓线可基于沿着脊柱在给定位置处高度相对于脊柱高度的相对下降，即轮廓线连接相等高度的轮廓点。因此，轮廓线的单个轮廓点可被定义为动物的背部上相对于脊柱高度的预定义的高度降低，其中沿着垂直于脊柱的线发现有相对于动物的脊柱上的点的高度降低，如图2中所示例性地示出。如上所述，本发明人已经实现了仅利用非常有限数量的从3D图像提取的数据带即可预测动物的体重。在一个实施方式中，经提取的数据包括选自脊柱的少于20个轮廓点、诸如少于10个轮廓点、诸如1个和10个之间的轮廓点、诸如少于7个、6个、或5个轮廓点、诸如4个轮廓点；和/或选自相对于脊柱的少于10条轮廓线、诸如少于7条、6条、或5条轮廓线、诸如1条和10条之间的轮廓线、诸如3条轮廓线各自的少于20个轮廓点、诸如少于10个轮廓点、诸如少于7个、6个、或5个轮廓点、诸如1个和10个之间的轮廓点、诸如4个轮廓点。轮廓线优选在相对于脊柱的高度小于或等于15cm、优选小于或等于10cm的高度处以离散间隔来生成。例如，在相对于脊柱2.5cm、5cm、和10cm处的轮廓线。为了测定重量，不需要识别动物，通常只需要知道动物的品种。然而，对于进一步的数据分析和检测个体动物而言知道特定的成像动物的身份是一个优点。识别可以是手动的，例如通过阅读动物耳部的识别号、或者诸如射频ID之类的电子识别手段、通过动物的模式识别、通过已知的动物的命令序列或任何其他识别手段。动物可在图像采集之前或在图像采集之后进行识别。如WO 2017/001538中所示，可基于动物背部的图像而在已知动物的种群中识别动物。因此当前公开的方案可进一步包括基于所述至少一个3D图像识别动物的步骤。基于动物背部的3D图像测定动物体重是可行的，这种实现可在动物移动的同时采集一个或多个图像。因此，在本公开内容的一个实施方式中，动物在采集所述至少一个3D图像期间正在移动。可采集动物的多于一个3D图像。因此，所述至少一个3D图像优选基于多个3D图像，并且可在动物移动的同时采集这些。因此，数据分析可基于两个或更多个图像的中间图像。轮廓测绘的示例示出在图1中，在其中每条线表示母牛的背部的轮廓图。中间的纵向线由图像中高度的局部最大值形成并且限定了动物的脊柱。在一个实施方式中，轮廓测绘是在该特定区域所有对应相对于脊柱的特定量的高度下降的沿着动物背部的线和/或点。优选地，动物的外轮廓，反映动物的周长，意味着动物的物理程度，诸如动物的背部有多宽，未被包括在体重计算中。因此，在优选实施方式中，体重完全基于背部的拓扑结构和/或拓扑图，而非动物的周长和/或宽度。体重因此完全基于背部的拓扑结构和/或拓扑图。发展这种轮廓图的一个可行策略示出在图2中，其中动物的身体由椭圆20表示。当沿着将颈部连接至尾部的中心线前进时，脊柱作为背部的中心区域的最高部分、即局部高度最大值而沿着动物的背部而被发现。脊柱的位置、即脊柱轴由图2中的虚线21表示。沿着脊柱轴21选择感兴趣的给定数量的点。在图2中，四个点已被选择并被表示为22a-d，并沿着脊柱用每个它们的交叉进行标记。从脊柱的选定点，即22a，垂直于脊柱的轴绘出一条线，这条垂直轴在图2中被表示为23a。从脊柱上感兴趣的点，垂直线23a沿着一个方向朝向动物的边缘，例如朝向动物的右侧。一旦达到在22a中相对于脊柱高度X cm的高度下降，这一点被记录在数据库中。X指实数。接下来，随着沿着23a朝向动物的相对侧前进而重复这一过程，该相对侧可因此是动物的左侧，并且相同水平的X cm的高度下降被记录在脊柱的这一相对侧上。沿着脊柱21并沿着各个垂直线23b-d对所有感兴趣的点22b-d重复这一过程。一旦已经定位表示沿着脊柱轴21相对于感兴趣的点22a-d的X cm的给定高度下降的所有点，拟合出一条线以最佳描述所述点的位置。这条拟合的线现在表示沿着脊柱相对于单个点X cm的相对高度下降的轮廓线。如果用于不同高度下降值的更多轮廓线是期望的，则对于沿着脊柱相对于每个点的高度的相对高度下降的其他值可重复该过程。或者，在沿着脊柱继续移动至垂直于下一个感兴趣的点的线之前可发现沿着给定垂直线的所有相关轮廓点。这些相关轮廓图可例如是X cm、Y cm、Z cm、和T cm，其中X、Y、Z、和T指实数。在图1中，例如，X、Y、Z、和T的至分别为3cm、5cm、10cm、和15cm，每个导致他们各自的轮廓线。图2的图示是出于图解所述以最简单的可行方式发展轮廓图的策略的简化图示。因此，动物仅出于图示的简便性而被图示为椭圆。也就是说，动物身体形状并未被发展轮廓线的策略视为椭圆。在真实的数据处理过程中，如图1中所示，脊柱并非必然是完美的直线，因为动物具有不规则的形状且不是椭圆。因此，沿着脊柱的给定点的垂直线可基于脊柱上的相邻点的数量进行估计，以确定感兴趣的点。这些点例如可拟合成直线，并且垂直线可基于这条拟合的线来确定。因此，对于不规则线的给定点的垂直线的最佳估计是在处理真实数据的情况下做出的。因此，轮廓图可基于离散数量的点和对这些点的最佳拟合。以这种方式，轮廓图反映了沿着动物背部的每个位置处相对于脊柱的高度下降，而非轮廓图的所有点具有固定、相同的参比。因此，在这一实施方式中，轮廓线的单个轮廓点反映了沿着垂直于动物脊柱的线相对于脊柱高度的背部上高度的特定下降，穿过所述轮廓点从而轮廓图的基础并非是相对于给定固定点的最终高度，而是沿着动物的脊柱相对于它们单独的参比点各自而计算每个轮廓点。这进一步意味着动物背部的轮廓测绘可沿着动物背部的长度、这也就是是沿着动物的脊柱而发生。在优选实施方式中，连接背部拓扑结构的各个点的线是作为表示给定高度下降的点的最佳拟合，因此，拟合的线反映了轮廓线的最佳拟合。在一个实施方式中，动物在图像采集期间在行走。3D图像可因此在动物移动、例如沿直线行走时采集。获得移动动物的体重信息的能力是一项极大的优点，因为其允许连续的对大量动物进行体重测定，并因此这消除了对于单独处理个体动物的需要。当动物从棚舍休息区域行走至喂养和/或挤奶区域、或相对方向时，动物可穿过狭窄通道，由此仅允许一次通过一只动物。通过将成像系统防止在这一狭窄通道上方，动物将行走经过相机下方区域，该相机然后可随着动物穿过该通道而捕获每只动物的图像。其一项极大的优点在于：从上方的3D相机来看，动物的视线不会彼此重叠。因此，动物穿过狭窄通道，并穿过3D相机的框架区域，因为它们正在被引导或引领例如从休息区域到喂养和/或挤奶区域或相反方向。狭窄通道的另一优点在于可获得良好控制动物流动。引领动物穿过狭窄通道的这一过程的示例示出在图3中。在此粗线1图示了动物可移动的区域的边界。这些边界可以是篱笆或墙壁、或类似的圈地机件。为了附图的简便性，每只动物由图3中的椭圆表示。连接至每只动物的箭头图解了动物正在移动的方向。左边的动物2是已经穿过狭窄过道的动物，站在3D相机4正下方的动物3是位于狭窄通道内的动物，目前正在被3D相机4成像。当动物5到达动物3的当前位置时，在5之后的动物刚刚进入狭窄通道，并因此将随着其很快穿过3D相机4正下方区域而被成像，右边的动物6全部表示仍然等候进入狭窄通道并最终进入通道左边区域的动物。在本公开内容的实施方式中，采集了动物背部的多于一个图像。这可能是动物在相机下方行走时的多个图像，或者动物静止站立时的多个图像。如果动物在移动，则只要动物身体的任一部分在相机的成像框架内即可采集图像。或者可仅在动物其全部身体在相机的成像框架内的时间段内采集图像。又或者，相机可仅在给定、预设的时间段内采集图像，或者相机可要求预设数量的图像。在优选实施方式中，数据分析基于两个或更多个图像的中间图像。因此，所采集的图像中的全部或一些应当进行组合以生成动物背部的形状的平均值。术语“中间图像”是指作为所有收集的图像中动物背部的拓扑结构和/或解剖的信息的平均值而生成的平均图像。使用这种中间图像的一个优点在于在图像采集期间正在行走的动物背部的移动可以在中间或平均图像中被平滑掉，从而可消除行走诱导的拓扑结构中的变化。使用成像而非使动物走过体重计上方的极大优点之一在于走过体重计上方的动物在记录体重时可能只有一些、而非所有脚都在体重计上。除此之外，在这种安排中，动物通常会非常紧密地走在一起，并且当试图建立个体动物的体重时，有可能多于一只动物同时部分或全部站在体重计上，这使得体重计读数有误。在实施方式中，动物在采集数据期间仍然静置站立。优选地，该方法将与移动的动物和静置站立的动物两者均相容。优选地，成像系统被配置成在动物行走时采集图像。在实施方式中，成像系统被配置成在动物静置站立时采集图像。更优选地，成像系统无论动物是否在行走都能够获得可靠体重计算的数据。令人惊讶地，动物背部的拓扑结构和/或拓扑图与动物的体重强相关，以至于其他明显重要的特征，诸如动物胃部高于地面的高度或动物臀部和/或肩部的宽度，对于使用当前公开的系统和/或方法估计动物体重的目的而言是不必要的参数。因此，本发明人未预料地意识到，动物背部的形状足够高精度地测定动物的体重。在优选的实施方式中，采集动物背部的至少一个图像每天至少实施一次，最好是多次，以捕捉体重的特定时间和特定条件的变化。特定条件的变化可以指取决于下述条件的体重发展：例如，动物是否：-刚刚进过食-刚刚挤过奶-近来刚生产-怀孕，-未完全长大与影响动物体重的且在可长可短的给定时间尺度内经受变化的其他阐述一起。特定时间的变化可例如是早上的体重对晚上的体重。出现这种变化是因为早上动物已经很久没有进食了，而晚上动物在一整天或一天中的至少一部分期间内已积累其消化系统的含量。优选地，所有采集的数据被保存在数据库中。然后可以在以后的时间里访问这些数据，并且可以进一步绘制体重发展的时间相关图，这可能有助于发现那些不健康的动物的过程。该方法可因此与用于模式识别和/或机器学习的方法进行组合，以对示出预警体重发展的动物做出早期诊断。在实施方式中，监测和建模动物体重变化的过程基于在诸如数天、优选数周、且更优选数月之类的延长周期内采集的大量测量值。优选地，这些数据也包含采集时间内每天的多个数据点，并且在优选的实施方式中，这些数据由动物的喂养和/或挤奶事件的时间表支持。由于充气的过程以及饲料摄入量强烈取决于自上次喂养以来的时间，因而如果体重数据伴随着自上次喂养和/或挤奶以来的时间量数据，则这一数据强烈支持短期波动的建模。在本公开的优选实施方式中，最近的喂养/挤奶事件的时间与采集的与动物体重有关的数据一起被存储。这一信息可被包括在体重计算算法中。当评价体重发展时，分别评估短期变化和长期变化可能是有意义的。优选地，数据历史用于生成模型以将计算的体重测量值分为至少长期变化和短期波动的贡献。更优选地，计算的体重测量值用于在体重测定中数学建模短期波动和长期变化。因此该模型可将体重测量值的变化细分为短期波动和长期变化。在本公开内容的实施方式中，体重测量值的短期波动是在一天内或在逐日基础上的变化。体重测定中的这些短期波动可归于充气和/或肠道系统的饲料含量和/或动物中的水肿。体重测定的长期变化可被认为是在至少数天的时间内、优选在数周内、更优选在数月内逐渐变化。动物体重的这些长期变化可归于非怀孕动物的身体的生长/退化，而长期变化可归于身体、肌肉、脂肪和/或骨骼的生长/退化。一般而言，当前公开的方法可独立于动物的年龄、哺乳期的数量以及动物是否怀孕或生病而确定动物的体重。例如，就怀孕而言，在一段时间内会有相当大的体重增加，但由于怀孕导致的体重增加将导致背部的拓扑结构/拓扑图增加，因而体重增加将被当前公开的方案检测。因此，当前公开的方案可用于检测怀孕和/或在怀孕期间监测怀孕。在进一步的实施方式中，怀孕被包括在体重测定模型中。即，一旦知道特定动物怀孕，就可以在模型中加以说明，即以提高体重测定的精确度，以便更密切地监测怀孕的动物。因此，怀孕可以被补偿和/或纳入和/或以其他方式包括在体重建模中，使胎儿的生长过程不与动物本身的重量增加相混淆，并使怀孕对动物背部轮廓的影响可以适当地包括在模型中。在进一步地实施方式中，怀孕动物的长期变化归于怀孕动物身体的生长/退化和胎儿的生长。优选地，怀孕被包括在基于来自光学传感器的采集数据测定动物体重的算法中。动物的可能怀孕可以在系统中为该特定动物手动登记。在怀孕期间，动物的体重发展可以被记录下来，并保留该动物正在生长胎儿。另外，怀孕可能会改变计算体重的算法参数，从而使计算体重更适合怀孕的动物。分娩事件可以被登记到数据中，并在数学模型中得到补偿，或者以其他方式在数据库中注明，以避免将这一事件与农场动物的突发、急剧的身体退化混淆。此外，在本发明的实施方式中，归于分娩事件的体重损失被用来估计怀孕期间体重增加的分数，其可归于胎儿的生长。因此，这种对体重增加的贡献可以被追溯到数学模型中。因此，在本发明的实施方式中，分娩事件被登记到数据中，并被包括在数学模型中，以确保正确计算动物的当前体重以及可能的其他目的。登记分娩事件的一种方案是：一旦动物分娩，就将分娩事件记录在处理单元中。这种记录可以手动或自动进行。分娩事件后的体重下降可进一步用于计算动物在怀孕期间的体重增加量，该体重增加量是由于有关怀孕的体重增加造成的。有关怀孕的体重增加可以是在其他参数中诸如一个或多个胎儿和一个或多个胎盘的生长、血容量增加、和额外的脂肪库之类的要素。然后，当前公开的方案席将怀孕前和怀孕期间的体重与分娩后的体重进行比较。成像系统通常至少包括光学装置，例如相机，并且为了保持至少一个光学装置的清洁，该装置最终可能必须被清洁和/或可能被保护免受到棚舍环境的污染。一个可能的解决方案是使用一个保护罩盖，使灰尘远离实际的光学装置。在优选的实施方式中，至少一个光学装置被一个保护罩盖所保护，以防止灰尘直接覆盖光学装置的功能部件。在进一步的实施方式中，至少一个光学检测器的罩盖是使用诸如自动挡风玻璃刮水器之类的自动清洁系统清洁的。因此，如果光学装置罩盖对于捕捉期望数据而言变得太脏，则罩盖可通过运行诸如自动挡风玻璃刮水器之类的清洁系统而得到自动清洁。另一种保持至少一个光学检测器清洁的方案是例如使至少一个光学检测器受到门或快门的保护，只在采集数据时短时间内打开。因此，在至少一个光学检测器收集数据时，检测器将只在很短的时间内暴露。因此，在一个实施方式中，至少一个光学检测器受到门或快门的保护，只在采集数据时短时间内打开。因此，门或快门将短暂地打开以采集图像，然后再关闭以避免光学装置变脏。在后一种情况下，光学装置将包含一个保护罩盖和一个门/快门，门/快门因此防止了光学装置的罩盖过快变脏。为了优化暴露光学检测器来收集数据的时间、因此为了优化快门打开的时间，系统的门或快门可以包括另一个反馈系统，以确定动物何时站在一个适当的位置进行数据采集。这个反馈系统可以是基于放置在3D相机旁边的传感器的独立系统。动物的位置可以从未被快门或门覆盖的另一个检测器和/或传感器确定，这决定了动物何时处于适当的位置进行成像。当这种情况发生时，快门将打开并拍摄距离图像，然后快门立即关闭。也可在快门关闭前采集一系列图像。在进一步的实施方式中，至少一个光学检测器包括在传感器需要得到清洁时传感的清洁警报系统，并通过所述警报系统通知用户，诸如开启灯光、播放噪音、或传输到计算机的无线信号。如果该装置没有自动清洁系统，或不足以完全清洁该装置，这就特别有用。在这种情况下，警报系统将使用户意识到需要进一步清洁装置或装置的罩盖。然后，用户可以手动清洁装置或激活自动清洁系统。然后，清洁过程可能是自动或手动的。如果自动清洁过程是足够的，则可能没有必要通知用户，并且只要系统能有效地自我清洁，就可以不进行这一步骤。如本文所用，动物可以是牛类，优选地包括母牛和公牛两者，无论是成年还是新生的动物。因此，动物的品种可选自下述的群组：泽西品种、荷斯坦品种、荷斯坦-弗里西亚牛群体、荷斯坦-斯瓦特邦牛群体、德国荷斯坦-斯瓦特邦牛群体、美国荷斯坦牛群体、红白荷斯坦品种、德国荷斯坦-斯瓦特邦牛群体、丹麦红群体、芬兰艾尔夏群体、瑞典红白群体、丹麦荷斯坦群体、瑞典红白群体、和北欧红群体。实施例实施例1为了生成泽西品种的牛的参考，使用本公开内容的系统和方法在四周内对102头泽西牛的牧群的个别动物的背部进行了成像。该牧群的动物平均体重为460公斤，体重范围为350至650公斤。在4周的时间里，对牧群的动物的背部进行了1329次测量，4周内每只动物的测量次数在3到15次之间。在这1329次测量中，有1149次是在这4周期间的任一天里的上午进行的，180次是在这4周期间的任一天里的下午进行的。这些图像是在使用体重计测量动物体重的同时采集的。因此，在生成参比模型后，可对当前公开的方案进行测试和交叉验证。在脊柱的每一侧上生成三条轮廓线，通过如本文公开的轮廓绘制方法进行定位。这三条轮廓线有关相对于脊柱2.5厘米、5厘米、和10厘米的下降，使用每个点表示相对于脊柱相同的相对高度下降的方法，如上所述，沿脊柱有各自的参考点。在这个实施例中，检测了沿脊柱的100个点，对发现的相对于脊柱的每个高度下降登记了100个点。因此，脊柱每一侧上的300个点被用来估计用于生成参比模型的轮廓图。这一实施例中使用的模型是偏最小二乘法模型。来自母牛背部的400个轮廓变量在偏最小二乘法模型中进行分析。这是由于变量之间的自相关所致。在模型中使用所有400个变量将是过度拟合的模型，并且大多数变量不会为该模型贡献额外的信息。可生成预测模型，其预测子的数量等于解释超过98％的体重变化。使用该模型建议的变量数量来估计体重的预测。残差被定义为每个个体体重表型的预测变量和观察变量之间的差值。对于所有的表型，都可以得到体重的登记以及母牛背部的轮廓描述。在本文提及的实施例1和2中，结果表面，从脊柱和三条轮廓线上选择的12个轮廓点足以预测具有足够精确度的体重。在特定情况下，沿脊柱选择4个点，来自2.5厘米处的轮廓线的3个等高点，来自5厘米的轮廓线的1个等高点，和来自10厘米的轮廓线的4个点。脊柱总共生成有100个轮廓点，三条轮廓线各生成有100个轮廓点。预测点为下述：来自脊柱的C0_5、C0_32、C0_64和C0_90、来自2.5厘米轮廓线的C1_24、C1_54和C1_85、来自5厘米轮廓线的C2_48以及来自10厘米轮廓线的C3_11、C3_40、C3_72和C3_98。从预测点可以看出，它们沿轮廓线分布而覆盖了动物背部的更多区域。用其他轮廓点也可以得到类似的结果，但原则是只有从有限数量的轮廓线上选择的有限数量的轮廓点才足以充分描述动物的3D形状以便测定体重。图4示出了本实施例的所有1329个采集的数据点。因此，每个数据点反映了在一个实例中一只动物的体重计上的测量体重和基于当前公开的方法对同一动物的相应计算体重。数据被绘制成计算体重作为体重计上测量的体重的函数。一般而言，数据反映了计算体重和测量的动物体重之间的完美一致，表明了当前公开的方法的可靠性，即使在测定体重时没有包括其他相关参数，诸如年龄、自产犊起的持续时间、或动物所拥有的后代数量。因此，在这一实施例中，计算纯粹是基于从动物背部图像中提取的12个轮廓点预测子，没有其他。考虑到计算重量与测量重量的偏差，仍然相对稀疏的数据集反映了计算数据集和测量数据集之间相对对称的正态分布偏差。这示出在图5中。偏差在0附近的几乎完全对称的分布表明没有有关数据分析的系统误差。同样的信息可以从图6中减去，在其中残差是作为测量特征的函数而绘制的。一般而言，可以看到分布围绕残差为0相对对称，并且没有强烈的趋势表明残差对给定体重子组的动物是系统性错误的。通过获取对每只动物在4周时间内进行的所有测量的每只动物的平均计算体重和平均测量体重，我们得到了图7中呈现的数据。正如所见每只动物的测量体重和计算体重之间的一致性变好，这也是预期的，因为现在每个点都反映了更大的数据量。因此，图7的每个点都反映了牧群中一只个体动物的平均体重。图8反映了平均测量体重和平均计算体重之间的差值作为平均测量体重的函数。该图示出了测量体重和计算体重之间的偏差没有与体重有关的偏向。已知动物在分娩后的几天内体重会下降，因为动物需要其所有的资源，包括怀孕期间积累的额外脂肪库，来产生奶。因此，它将慢慢地分解其身体的脂肪库。大约50天后，随着奶产量的减少，动物将开始增加体重，并且动物现在能够吃到足够的东西来重新建立其脂肪库。因此，动物会再次增加体重。此外，经过足够长的时间，动物会再次怀孕并开始增加体重。因此，作为对这一实施例当前模型的理智检查，1329次体重的测量和计算被绘制成作为自充特定动物上次产犊起天数的函数。数据示出在图9中，并示出了动物的体重缓慢增加作为自产犊起天数的函数。注意，图9的数据反映了在这4周时间内获取的动物的体重，并因此没有任何一只动物被跟踪足够长的时间来绘制出它们各自体重发展作为自产犊起天数的函数的有意义的体重发展。图10示出了体重计算和测量的残差作为自产犊起天数的函数，并且一旦再次从体重数据中没有出现明显的系统误差，就并非作为自产犊起天数的函数。因此，基于这一实施例的的采集数据，该模型因此对作为体重和子产犊起天数的函数的偏差是稳定的。实施例2为了测试数据是否适用于不同的牧群，对另一个农场的不同牧群的泽西牛重复了如以上实施例1中解释的相同方案。第二牧群包括162头平均体重为519公斤的泽西牛，即，第二牧群中的母牛平均重了约60公斤。图11示出了牧群2的数据并对应图4，后者示出了牧群1的同类型数据。图11示出了牧群2的所有采集数据点。因此，每个数据点反映了在一个实例中一只动物的体重计上的测量体重和基于当前公开的方案对同一动物的相应计算体重。数据被绘制成计算体重作为体重计上测量的体重的函数。一般而言，该数据反映了动物的计算体重和测量体重之间的完美一致，表明了当前公开的方案的可靠性。另外，在这一实施例中，计算纯粹基于从牧群2中的动物的背部图像中提取的12个轮廓点预测子，而非其他。图12示出了牧群2的数据并对应图7，后者示出了牧群1的同类型数据。从图12中可以看出，每只动物的测量体重和计算体重之间的一致性变得更好，这也是预期的，因为现在每个点都反映了更大的数据量。下表1总结了牧群1和牧群2的数据。表1从上表可以看出，牧群1中母牛之间的STD较大，该牧群中奶牛平均最小。使用PLS模型来基于来自两个牧群的母牛背部上的400个轮廓线预测体重。预测体重和观测体重之间的r2为0.90，奶牛被随机分配到不同泌乳期和牧群的五个不同组别的交叉验证研究显示模型可靠性为0.82，RMSE为0.54。这些结果独立于挤奶天数和泌乳期数，而只是基于图像中的可提供的信息。实施例3为了测试数据是否适用于不同的牛种，对泽西牛、荷斯坦牛和红色乳牛的不同牧群分别重复了上述实施例1和实施例2中解释的相同方案。四个牧群在六周内记录了体重数据。牧群的规模不相等，导致牧群之间的数据分布不均匀，但这对结果没有影响。使用本文公开的方案，从脊柱上性质少于5个轮廓点，以及从相对于脊柱少于5条轮廓线的每条线上选取少于5个轮廓点，通过动物背部的3D成像来预测体重，数据显示，平均而言，观测体重和预测体重之间的差异很小。在10倍交叉验证中，对均方根误差进行了估计，数据呈现在下表2和图13至15中。图13至15示出了相对红色乳牛、泽西牛和荷斯坦牛的预测体重绘制的平均观测体重。表2所得数据的随机动物方差、总方差和可重复性示出在下表3中。从表3可以看出，测量的可重复性高于0.9，即非常高。表3为了分析是否可以通过包括一年中的时间和与单个动物的泌乳期数和泌乳周数有关的数据来进一步提高预测，使用以下模型对体重数据进行分析。体重＝平均值+牧群+年份周数+泌乳期数+泌乳期周数+动物+残差再次计算随机动物方差、总方差和可重复性，结果示出在表4中。表4从表4可以看出，该模型只是通过包括额外的动物特定参数而略有改善，方差降低；可重复性甚至略有增加。必须得出的结论是，如果有特定的参比模型，特别是特定品种的参比模型，即动物的特定参数可以不被包括在重量预测中，则仅基于从动物背部的3D成像中提取的离散数量的轮廓点的本文公开的方案足以准确预测动物的体重，使的在现实生活环境中实际实现也可行。进一步的细节1、一种用于测定已知品种的动物的体重的方法，所述方法包括下述步骤：采集所述动物的背部的至少一个3D图像从有关所述动物的背部的拓扑结构的所述至少一个3D图像提取数据，和通过将对照包括所述背部的拓扑结构的信息的参比模型的经提取的数据与所述动物的品种的体重关联来计算所述动物的体重。2、根据事项1所述的方法，其中经提取的数据包括离散数量的轮廓点，优选少于50个轮廓点、更优选少于25个轮廓点、甚至更优选少于20个轮廓点、最优选少于15个轮廓点，诸如12个轮廓点。3、根据任意前述事项所述的方法，其中动物的脊柱定位在动物背部的至少一个3D图像中。4、根据任意前述事项所述的方法，其中动物的脊柱被定义为局部最大值的贯穿线。5、根据任意前述事项所述的方法，其中动物的脊柱限定3D图像的纵向方向。6、根据任意前述事项所述的方法，其中所述数据通过轮廓测绘所述动物的背部以生成相对于脊柱的轮廓线而从所述3D图像中进行提取。7、根据任意前述事项6所述的方法，其中轮廓线上的轮廓点是基于沿着脊柱在给定位置处高度相对于脊柱的高度的相对下降。8、根据任意前述事项所述的方法，其中经提取的数据包括选自脊柱的1个和10个之间的轮廓点、诸如4个轮廓点；和/或选自相对于脊柱的诸如1条和10条之间的轮廓线、诸如3条轮廓线各自的1个和10个之间的轮廓点、诸如4个轮廓点。9、根据任意前述事项所述的方法，其中轮廓线在相对于脊柱的高度小于或等于15cm、优选小于或等于10cm的高度处以离散间隔来生成。10、根据任意前述事项所述的方法，其中轮廓线的单个轮廓点被定义为动物的背部上相对于脊柱的高度的预定义的高度降低，其中沿着垂直于脊柱的线发现有相对于动物的脊柱上的点的高度降低。11、根据任意前述事项所述的方法，包括基于所述至少一个3D图像识别动物的步骤。12、根据任意前述事项所述的方法，其中所述动物在采集所述至少一个3D图像期间在移动。13、根据任意前述事项所述的方法，其中采集了动物的多余一个3D图像。14、根据任意前述事项所述的方法，其中所述至少一个3D图像是基于在动物正在移动时采集的多个3D图像。15、根据任意前述事项所述的方法，其中数据分析基于两个或更多个图像的中间图像。16、根据任意前述事项所述的方法，其中动物是牛类，优选包括母牛和公牛两者，无论是成年还是新生的动物。17、根据任意前述事项所述的方法，其中所述动物的品种选自下述的群组：泽西品种、荷斯坦品种、荷斯坦-弗里西亚牛群体、荷斯坦-斯瓦特邦牛群体、德国荷斯坦-斯瓦特邦牛群体、美国荷斯坦牛群体、红白荷斯坦品种、德国荷斯坦-斯瓦特邦牛群体、丹麦红群体、芬兰艾尔夏群体、瑞典红白群体、丹麦荷斯坦群体、瑞典红白群体、和北欧红群体。18、一种用于测定已知品种的动物的体重的系统，包括：-被配置成采集所述动物的背部的至少一个3D图像的成像系统，-处理单元，所述处理单元被配置成：-从有关所述动物的背部的拓扑结构的所述至少一个3D图像提取数据，和-通过将对照包括所述背部的拓扑结构的信息的参比模型的经提取的数据与所述动物的品种的体重关联来计算所述动物的体重。19、根据事项18所述的系统，被配置成使得所述至少一个3D图像从动物上方来采集，由此以俯视图成像所述动物20、根据事项18至19中任一项所述的系统，被配置成在动物站立在闸室中和/或行走穿过闸室的同时采集所述至少一个3D图像。21、根据事项18至20中任一项所述的系统，被配置成在由所述动物接近和/或进入闸室而引发时采集所述至少一个3D图像。22、根据事项18至21中任一项所述的系统，其中处理单元被配置成执行事项1至17中任一项所述的方法。
