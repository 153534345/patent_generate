标题title
鞋涂场景仿真实施方法及鞋涂测试装置
摘要abst
本申请公开了一种鞋涂场景仿真实施方法及鞋涂测试装置。其中，鞋涂场景仿真实施方法包括获取用户选择的鞋涂模板数据；利用鞋涂模板数据搭建仿真可视化鞋涂场景；解析仿真可视化鞋涂场景，在参数定义界面设置第一模型技术参数，根据第一模型技术参数生成第一计算模型；分析第一计算模型得到第一时间参数，根据第一时间参数和第一计算模型运行仿真可视化鞋涂场景；采集运行中产生的第一运行数据；评价第一运行数据是否满足预期条件，若不满足则调整第一模型技术参数，并循环执行上述步骤，直至满足预期条件或接收到停止指令。通过上述方法，本申请能够有效地实现鞋涂场景仿真运行、迭代，缩短了鞋涂工艺测试周期，提高了开发效率。
权利要求书clms
1.一种鞋涂场景仿真实施方法，其特征在于，包括：获取用户在仿真界面选择的鞋涂模板数据；利用所述鞋涂模板数据在所述仿真界面搭建仿真可视化鞋涂场景；解析所述仿真可视化鞋涂场景，在所述仿真界面的参数定义界面设置第一模型技术参数，根据所述第一模型技术参数生成第一计算模型；分析所述第一计算模型得到第一时间参数，根据所述第一时间参数和所述第一计算模型运行所述仿真可视化鞋涂场景；采集所述仿真可视化鞋涂场景运行中产生的第一运行数据；评价所述第一运行数据是否满足预期条件，若不满足则调整所述第一模型技术参数，并循环执行所述根据所述第一模型技术参数生成第一计算模型及其后续步骤，直至满足所述预期条件或接收到外界停止指令。2.根据权利要求1所述的方法，其特征在于，根据所述第一时间参数和所述第一计算模型运行所述仿真可视化鞋涂场景，包括：分析所述第一时间参数和所述第一计算模型，计算得到鞋涂运动轨迹；将所述鞋涂运动轨迹，发送给虚拟机器人控制器，所述虚拟机器人控制器按照所述鞋涂运动轨迹运行所述仿真可视化鞋涂场景。3.根据权利要求2所述的方法，其特征在于，在参数定义界面设置第一模型技术参数，包括：获取在参数设置界面输入自动调参模块的一个或多个所述第一模型技术参数的范围；所述调整所述第一模型技术参数包括：根据所述第一模型技术参数的范围自动生成一系列的参数组合作为参数调整备选，其中所述第一模型技术参数的数量若大于等于二，则调整所述第一模型技术参数时采用与所述数量一致的参数维度在所述第一模型技术参数的范围内调整所述第一模型技术参数。4.根据权利要求3所述的方法，其特征在于，所述在所述仿真界面的参数定义界面设置第一模型技术参数包括：在所述参数定义界面设置鞋涂误差的线性阈值和终止阈值；所述评价所述第一运行数据是否满足预期条件，若不满足则调整所述第一模型技术参数，并循环执行所述根据所述第一模型技术参数生成第一计算模型及其后续步骤，直至满足所述预期条件或接收到外界停止指令，包括：根据所述第一运行数据计算得出所述鞋涂误差；当所述鞋涂误差小于所述线性阈值时开始采用线性查找的方式挑选下一组所述第一模型技术参数，并循环执行所述根据所述第一模型技术参数生成第一计算模型及其后续步骤；当所述鞋涂误差小于所述终止阈值时可认为鞋涂仿真系统的运行达到目标效果，所述自动调参模块将所述鞋涂误差足够小的所述参数组合列出来，由用户挑选产生最终模型技术参数。5.根据权利要求1所述的方法，所述评价所述第一运行数据是否满足预期条件，若不满足则调整所述第一模型技术参数，并循环执行所述根据所述第一模型技术参数生成第一计算模型及其后续步骤，直至满足所述预期条件或接收到外界停止指令，包括：获取用户对所述第一运行数据的判断指令；若所述判断指令对应不符合预期的情况，则获取用户根据所述第一运行数据人工调整后得到的所述第一模型技术参数，循环执行所述根据所述第一模型技术参数生成第一计算模型及其后续步骤；若所述判断指令对应符合预期的情况，则停止调整所述第一模型技术参数，得到最终模型技术参数。6.根据权利要求1所述的方法，其特征在于，所述采集所述仿真可视化鞋涂场景运行中产生的第一运行数据，其特征在于：所述第一运行数据为所述仿真可视化鞋涂场景运行过程中的鞋涂参数，是鞋涂带的轨迹信息、鞋涂效果、以及运行奇异碰撞报错信息中的一个或组合。7.根据权利要求1所述的方法，其特征在于，分析所述第一计算模型得到第一时间参数，其特征在于：所述第一时间参数为所述仿真可视化鞋涂场景运行所需要的时间参数或速度参数，是传送带运行停止间隔、相机曝光时间及间隔、鞋涂运行轨迹及间隔中的一个或组合。8.根据权利要求1所述的方法，其特征在于，根据所述第一模型技术参数生成第一计算模型，包括：解析机器人模型获取机器人运动学模型、解析喷胶工具模型获取喷枪尺寸参数以及喷胶动力学模型、解析传送装置模型获取传送运动学参数、解析鞋模获取鞋涂运动轨迹、解析场景中各个模型位置坐标获取位置标定模型。9.一种鞋涂测试装置，其特征在于，包括：处理器、寄存器、人机电路、鞋涂设备控制电路；其中，所述处理器分别连接至所述寄存器、人机电路、鞋涂设备控制电路；其中，所述处理器、寄存器、人机电路、以及鞋涂设备控制电路用于执行权利要求1-8任一项所述的方法，所述处理器用于控制所述寄存器、所述人机电路、所述鞋涂设备控制电路的工作，所述寄存器用于存储所述鞋涂模板数据，所述人机电路用于与用户进行交互，完成所述仿真可视化鞋涂场景的搭建过程和/或所述第一模型技术参数的调整过程，所述鞋涂设备控制电路包括：虚拟机器人控制电路、实际机器人控制电路，所述处理器根据所述鞋涂运动轨迹生成机器人程序文件，并将机器人程序文件发送到所述虚拟机器人控制电路，所述虚拟机器人控制电路开始运行所述仿真可视化鞋涂场景，从而得到所述第一运行数据，所述实际机器人控制电路可控制真实的鞋涂设备，准确按照所述仿真可视化鞋涂场景和所述最终模型技术参数完成真实的鞋涂过程。
说明书desc
技术领域本申请涉及鞋涂系统领域，特别是涉及一种鞋涂场景仿真实施方法及鞋涂测试装置。背景技术鞋涂系统是制鞋行业加工鞋子的重要设备，其主要功能是完成鞋涂作业，鞋涂系统的发展对制鞋效率的提高起着决定性作用。鞋涂系统一般连接有鞋涂设备，用于研发、测试鞋涂方法，完成给鞋涂胶的生产流程。每次加工新鞋型或更换新工艺时，需要对鞋涂程序进行更新和调试。目前，鞋涂系统大都是采用了示教器示教的方式，这种方式无法进行柔性生产，由于鞋型的更新换代，每次加工新的鞋型的鞋子都需要重新调整技术参数进行示教，如更换鞋的固定高度或位置、调整喷枪在末端的固定位姿、更换胶枪或机器人，以满足实际的现场部署需求，因而难以实现多种类鞋型加工的快速切换；除此之外，使用示教器的方法无法对鞋涂轨迹的质量进行检测，无法保证鞋子加工的质量，导致整体的制鞋效率和质量的降低，大面积推广起来困难。因此，在高效、便捷地完成技术参数调整的前提下对鞋涂轨迹的质量进行检测，是目前鞋涂系统亟需解决的问题。发明内容本申请提供一种鞋涂场景仿真实施方法及一种鞋涂测试装置，能够快速搭建出一套仿真鞋涂场景，通过仿真模拟的方法监测鞋涂轨迹，并对鞋涂方案进行快速更新迭代，解决当前鞋涂系统面临的更新调试效率低、鞋涂轨迹质量不稳定等问题。为解决上述技术问题，本申请采用一个技术方案是：提供一种鞋涂场景仿真实施方法，该鞋涂场景仿真实施方法包括：获取用户在仿真界面选择的鞋涂模板数据；利用鞋涂模板数据在仿真界面搭建仿真可视化鞋涂场景；解析仿真可视化鞋涂场景，在仿真界面的参数定义界面设置第一模型技术参数，根据第一模型技术参数生成第一计算模型；分析第一计算模型得到第一时间参数，根据第一时间参数和第一计算模型运行仿真可视化鞋涂场景；采集仿真可视化鞋涂场景运行中产生的第一运行数据；评价第一运行数据是否满足预期条件，若不满足则调整第一模型技术参数，并循环执行根据第一模型技术参数生成第一计算模型及其后续步骤，直至满足预期条件或接收到外界停止指令。为解决上述技术问题，本申请采用的一个技术方案是：提供一种鞋涂测试装置，该鞋涂测试装置包括：处理器、寄存器、人机电路、鞋涂设备控制电路；其中，处理器分别连接至寄存器、人机电路、鞋涂设备控制电路；其中，处理器用于控制寄存器、人机电路、鞋涂设备控制电路的工作，寄存器用于存储鞋涂模板数据，人机电路用于与用户进行交互，完成仿真可视化鞋涂场景的搭建过程和/或第一模型技术参数的调整过程；鞋涂设备控制电路包括：虚拟机器人控制电路、实际机器人控制电路，处理器根据鞋涂运动轨迹生成机器人程序文件，并将机器人程序文件发送到虚拟机器人控制电路，虚拟机器人控制电路开始运行仿真可视化鞋涂场景，从而得到第一运行数据，实际机器人控制电路可控制真实的鞋涂设备，准确按照仿真可视化鞋涂场景和最终模型技术参数完成真实的鞋涂过程。与现有技术相比，本申请中用户通过人机电路快速搭建出一套仿真鞋涂场景，处理器以仿真模拟的方法监测鞋涂轨迹，并对鞋涂方案进行快速更新迭代，最后通过实际机器人控制电路将设计完善的鞋涂场景和最终模型技术参数实施在真实的鞋涂设备上，从而在高效、便捷地完成技术参数调整的前提下对鞋涂轨迹的质量进行检测，并最终实施到鞋涂生产中，解决了当前鞋涂系统面临的更新调试效率低、鞋涂轨迹质量不稳定等问题。应当理解的是，以上的一般描述和后文的细节描述仅是示例性和解释性的，而非限制本申请。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请鞋涂场景仿真实施方法的总流程示意图；图2是本申请鞋涂场景仿真实施方法的仿真可视化鞋涂场景运行的流程示意图；图3是本申请鞋涂场景仿真实施方法自动调参模块的参数范围选择流程示意图；图4是本申请鞋涂场景仿真实施方法自动调参模块工作的流程示意图；图5是本申请鞋涂场景仿真实施方法手动调参模块工作的流程示意图；图6是本申请鞋涂测试装置的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅是本申请的一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。下面结合附图，对本申请的一些实施方式作详细说明。在不冲突的情况下，下述的实施例及实施例中的特征可以相互组合。本申请中的术语“第一”、“第二”等是用于区别不同对象，而不是用于描述特定顺序。此外，术语“包括”和“具有”以及它们任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其它步骤或单元。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。图1是本申请鞋涂场景仿真实施方法的总流程示意图。需注意的是，若有实质上相同的结果，本实施方式并不以图1所示为限。如图1所示，本实施例包括：S101：鞋涂仿真系统获取用户在仿真界面选择的鞋涂模板数据。鞋涂模板数据可视化地展示在鞋涂仿真系统的仿真界面中，用户可根据自己的需求选择合适的鞋涂模板数据，鞋涂模板数据分为机器人模型、喷枪模型、相机模型、仿真场景模型几个类别，这些鞋涂模板数据一般为鞋涂仿真系统自带，或者由用户通过互联网或局域网或接口导入寄存器中。其中，仿真场景模型也可以是用户在之前使用鞋涂仿真系统时保存的仿真可视化鞋涂场景。S102：利用鞋涂模板数据在仿真界面搭建仿真可视化鞋涂场景。用户使用功能不一的鞋涂模板数据在仿真界面搭建一个满足本次测试需求的仿真可视化鞋涂场景，若鞋涂模板数据存在无法满足用户需求的地方，用户还可以删除其中的一些组件或是增加新的组件到仿真界面中，也可以对场景中的模型的位置、种类、数量进行自定义调整。可选的，用户能保存搭建中或搭建完成的仿真可视化鞋涂场景，用在下一次的鞋涂仿真系统使用中。S103：解析仿真可视化鞋涂场景，在仿真界面的参数定义界面设置第一模型技术参数根据第一模型技术参数生成第一计算模型。鞋涂仿真系统解析用户搭建的仿真可视化鞋涂场景，向用户提供一个参数定义界面，在参数定义界面上显示影响该仿真可视化鞋涂场景运行的技术参数，用户可在该界面确定自己需要控制变量的第一模型技术参数。用户可根据仿真可视化鞋涂场景解析出的数据以及自定义需求，在参数定义界面设置第一模型技术参数，剩余的参数一般为系统默认值或该鞋涂模板数据自带的数值。S104：根据第一模型技术参数生成第一计算模型。鞋涂仿真系统根据用户输入的第一模型技术参数以及解析仿真可视化鞋涂场景得到的剩余数据，生成第一计算模型。在实施例中，根据用户输入的第一模型技术参数以及解析仿真可视化鞋涂场景得到的第一计算模型包括但不限于：解析机器人模型得到的机器人运动学模型、解析喷胶工具模型得到的喷枪尺寸参数以及喷胶动力学模型、解析传送装置模型得到的传送运动学参数、解析鞋模得到的鞋涂运动轨迹、解析场景中各个模型位置坐标得到的位置标定模型。这些第一计算模型用于模拟鞋涂运动轨迹，鞋涂仿真系统可通过模拟出的鞋涂运动轨迹判断该组第一模型技术参数是否符合预期效果，同时用户也可通过第一计算模型检验该仿真可视化鞋涂场景的搭建是否科学合理，能否在真实的鞋涂作业场景中应用。S105：分析第一计算模型得到第一时间参数，根据第一时间参数和第一计算模型运行仿真可视化鞋涂场景。一个完整的鞋涂时间序列包括：鞋随传送带运行至鞋涂工位处停止、相机拍摄、鞋涂、涂完的鞋随传送带离开。鞋涂仿真系统需要定义与上述运行过程相关的时间参数或速度参数，因此鞋涂仿真系统分析第一计算模型，得出该仿真可视化鞋涂场景运行的时间序列，即第一时间参数。在实施例中，第一时间参数体现了鞋涂运行中的各个重要时间节点以及速度参数，包括：传送带运行停止间隔、相机曝光时间及间隔、鞋涂运行轨迹及间隔。该第一时间参数用于模拟鞋涂运动轨迹并指导仿真可视化鞋涂场景运行，鞋涂仿真系统可通过模拟出的鞋涂运动轨迹判断该组第一模型技术参数是否符合预期效果，并且用户可通过第一时间参数直观的了解到本次仿真可视化鞋涂场景完整运行所需要的时间及各个时间节点的运行效率。时间序列、鞋涂运动轨迹、以及仿真可视化鞋涂场景确定后，鞋涂仿真系统可开始运行仿真可视化鞋涂场景，检验该场景及参数是否完整可靠，能否完成一次完整的鞋涂仿真作业。S106：采集仿真可视化鞋涂场景运行中产生的第一运行数据。在本实施例中，第一运行数据为所述仿真可视化鞋涂场景运行过程中的鞋涂参数，是鞋涂带的轨迹信息、鞋涂效果、以及运行奇异碰撞报错信息中的一个或组合，第一运行数据用于配合其他数据向用户体现本次仿真可视化鞋涂场景运行的效果。在用户手动调整第一模型技术参数的流程中，用户可直观地通过第一运行数据分析、比较仿真可视化鞋涂场景之间的优劣，从而评价该仿真可视化鞋涂场景是否符合生产中的需求。在鞋涂仿真系统自动调整第一模型技术参数的流程中，鞋涂仿真系统可以根据第一运行数据计算得到鞋涂误差，从而自动调整第一模型技术参数。S107：评价第一运行数据是否满足预期条件。在用户手动调整第一模型技术参数的流程中，这一步由用户根据自己的要求完成；在鞋涂仿真系统自动调整第一模型技术参数的流程中，鞋涂仿真系统可以根据第一运行数据计算得到鞋涂误差，从而评价第一运行数据是否满足预期条件。S108：若不满足则调整第一模型技术参数，并执行根据第一模型技术参数生成第一计算模型及其后续步骤。在用户手动调整第一模型技术参数的流程中，这一步由用户根据自己的要求完成；在鞋涂仿真系统自动调整第一模型技术参数的流程中，鞋涂仿真系统根据第一运行数据计算得到的鞋涂误差，自动调整第一模型技术参数。S109：若满足则停止运行仿真可视化鞋涂场景，得到最终模型技术参数。在S107中若得到了满足预期条件的第一运行数据，则该次仿真可视化鞋涂场景运行的第一模型技术参数即为最终模型技术参数。其中，步骤S108和S109不分先后，在流程实际运行中，评价第一运行数据是否满足预期条件后，仅会进入其中一个步骤，即当第一运行数据满足预期条件后进入S109，当第一运行数据不满足预期条件后进入S108。图2是本申请鞋涂场景仿真实施方法的仿真可视化鞋涂场景运行的流程示意图。需注意的是，若有实质上相同的结果，本实施例并不以图2所示的流程顺序为限。如图2所示，本实施例包括：S201：分析第一时间参数和第一计算模型，计算得到鞋涂运动轨迹。鞋涂仿真系统接收用户在仿真界面输入的轨迹规划指令，根据分析第一时间参数和第一计算模型得到的数据，计算得到鞋涂运动轨迹，若将该仿真可视化鞋涂场景在真实的鞋涂设备上复现，该鞋涂运动轨迹将会于真实的鞋涂运动轨迹相同。S202：将鞋涂运动轨迹发送给虚拟机器人控制器，虚拟机器人控制器按照鞋涂运动轨迹运行仿真可视化鞋涂场景。鞋涂仿真系统将该鞋涂运动轨迹发送到虚拟机器人控制器，虚拟机器人控制器生成运动指令。运动指令将控制虚拟机器人运动，从而时间仿真可视化鞋涂场景的运行，得到可视化的结果，即第一运行数据。图3是本申请鞋涂场景仿真实施方法自动调参模块的参数范围选择流程示意图。需注意的是，若有实质上相同的结果，本实施例并不以图3所示的流程顺序为限。如图3所示，本实施例包括：S301：获取在参数定义界面输入自动调参模块的一个或多个第一模型技术参数的范围。用户可以在参数定义界面选定一个或多个参数作为变量即第一模型技术参数，并给这些变量的选值确定一个范围，即第一模型技术参数的范围。S302：根据第一模型技术参数的范围自动生成一系列的参数组合作为参数调整备选，其中第一模型技术参数的数量若大于等于二，则调整第一模型技术参数时采用与其数量一致的参数维度在第一模型技术参数的范围内调整所述第一模型技术参数。鞋涂仿真系统会根据这些第一模型技术参数的范围自动生成一系列的参数组合，若用户只选取一个参数，那么会生成一维的参数数组；若用户选取了两个参数，那么会生成二维的参数数组；依此类推，n个参数会生成n维空间的参数数组。生成的数组即为后面测试参数的备选值。鞋涂仿真系统一般会选择中间的一个参数组合作为仿真可视化鞋涂场景运行最开始的第一组第一模型技术参数。在一实施例中，用户在参数定义界面设置第一模型技术参数的范围时还需要给鞋涂误差设定一个线性阈值和一个终止阈值。鞋涂误差是由鞋涂仿真系统根据第一运行数据计算得出的，用于评价第一运行数据是否符合用户的预期条件的一个数值，也是挑选下一组第一模型技术参数的依据之一，线性阈值和终止阈值就是已经量化的标准。一般刚开始运行仿真可视化鞋涂场景时，鞋涂误差较大，通常会采用双边多维二分法来加快查找下一组第一模型技术参数的速度，当鞋涂误差小于线性阈值的时候，鞋涂仿真系统会采用线性查找逐步逼近，当鞋涂误差小于终止阈值时，鞋涂仿真系统会将该组第一模型技术参数暂存，等到仿真可视化鞋涂场景运行终止时，鞋涂仿真系统会将写误差前m小的第一模型技术参数列出来供用户挑选参考，m为用户根据自己的需求选定的数值。图4是本申请鞋涂场景仿真实施方法自动调参模块工作的流程示意图。需注意的是，若有实质上相同的结果，本实施例并不以图4所示的流程顺序为限。如图4所示，本实施例包括：S401：根据第一运行数据计算得到鞋涂误差。鞋涂误差是由鞋涂仿真系统根据第一运行数据计算得出的，用于评价第一运行数据是否符合用户的预期条件的一个数值，也是挑选下一组第一模型技术参数的依据之一。S402：判断鞋涂误差是否小于线性阈值。当鞋涂误差小于线性阈值的时候，鞋涂仿真系统会采用线性查找逐步逼近。S403：当鞋涂误差不小于线性阈值时，更换另一个参数组合作为第一模型技术参数，并执行根据第一模型技术参数生成第一计算模型及其后续步骤。一般刚开始运行仿真可视化鞋涂场景时，鞋涂误差较大，通常会采用双边多维二分法来加快查找下一组第一模型技术参数的速度。S404：当鞋涂误差小于线性阈值时，判断鞋涂误差是否小于终止阈值。S405：当鞋涂误差不小于终止阈值时，采用线性查找的方式挑选下一组第一模型技术参数，并执行根据第一模型技术参数生成第一计算模型及其后续步骤。S406：当鞋涂误差小于终止阈值时，保存该组第一模型技术参数。当鞋涂误差小于终止阈值时，鞋涂仿真系统会将该组第一模型技术参数暂存，等到仿真可视化鞋涂场景运行终止时，鞋涂仿真系统会将写误差前m小的第一模型技术参数列出来供用户挑选参考，m为用户根据自己的需求选定的数值。其中，步骤S403和S404不分先后，在流程实际运行中，判断鞋涂误差是否小于线性阈值后，仅会进入其中一个步骤，即当鞋涂误差小于线性阈值后进入S404，当鞋涂误差不小于线性阈值后进入S403。步骤S405和S406也不分先后，在流程实际运行中，判断鞋涂误差是否小于终止阈值后，仅会进入其中一个步骤，即当鞋涂误差小于终止阈值后进入S406，当鞋涂误差不小于终止阈值后进入S405。图5是本申请鞋涂场景仿真实施方法手动调参模块工作的流程示意图。需注意的是，若有实质上相同的结果，本实施例并不以图5所示的流程顺序为限。如图5所示，本实施例包括：S501：将第一运行数据呈现给用户，等待获取用户对第一运行数据的判断指令。本实施例中所有的步骤都在仿真界面完成，鞋涂仿真系统仅将各项第一运行数据提供给用户分析，并不参与任何判断过程。S502：用户判断第一运行数据是否符合预期。由用户根据自己的需求和实际情况对第一运行数据进行判断。S503：若判断指令对应不符合预期，获取用户根据第一运行数据人工调整得到的第一模型技术参数，执行根据第一模型技术参数生成第一计算模型及其后续步骤。由用户根据自己的需求和实际情况对第一模型技术参数进行修改，从而继续运行仿真可视化鞋涂场景，直至得到的第一运行数据满足用户的需求为止。S504：若判断指令对应符合预期，则停止调整第一模型技术参数，得到最终模型技术参数。步骤S503和S504也不分先后，在流程实际运行中，判断鞋涂误差是否满足用户预期后，仅会进入其中一个步骤，即当鞋涂误差满足用户预期时进入S504，当鞋涂误差不满足用户预期时进入S503。图6是本申请鞋涂测试装置的结构示意图。需注意的是，若有实质上相同的结果，本实施例并不以图6所示的结构为限。如图6所示，本鞋涂测试装置包括：处理器、寄存器、人机电路、鞋涂设备控制电路。其中，处理器分别连接至寄存器、人机电路、鞋涂设备控制电路，处理器、寄存器、人机电路、以及鞋涂设备控制电路用于执行上述任一实施例中的方法。处理器用于控制寄存器、人机电路、鞋涂设备控制电路的工作，寄存器用于存储鞋涂模板数据，人机电路用于与用户进行交互，完成仿真可视化鞋涂场景的搭建过程和/或第一模型技术参数的调整过程。鞋涂设备控制电路包括：虚拟机器人控制电路、实际机器人控制电路，所述处理器根据所述鞋涂运动轨迹生成机器人程序文件，并将机器人程序文件发送到所述虚拟机器人控制电路所述，虚拟机器人控制电路开始运行所述仿真可视化鞋涂场景，从而得到所述第一运行数据，所述实际机器人控制电路可控制真实的鞋涂设备，准确按照所述仿真可视化鞋涂场景和所述最终模型技术参数完成真实的鞋涂过程。可选的，寄存器可以为基本寄存器或移位寄存器。可选的，人机电路需要具备显示器、输入设备，显示器用于将鞋涂仿真系统界面展示给客户，方便与客户进行交互，该显示器可以为触觉操控。虚拟机器人控制电路控制虚拟机器人，实际机器人控制电路控制实际机器人，机器人在这两套控制系统中表现行为一模一样，即运动路径相同，鞋涂测试装置可以仅连接其中之一，也可以同时连接这两个机器人。当只连接虚拟机器人时，鞋涂测试装置可用于测试仿真可视化鞋涂场景；当只连接实际机器人时，鞋涂测试装置可用于进行鞋涂作业的离线进行，对真实的鞋涂运行轨迹进行监控，但不能实时对鞋涂程序进行修改；当同时连接实际机器人和虚拟机器人时，鞋涂测试装置既可进行鞋涂作业又可对场景和各项模型技术参数进行实时的修改，还可根据对两种鞋涂运行轨迹的监控来校准鞋涂测试装置和鞋涂仿真系统。可选的，实际机器人与鞋涂仿真系统之间是使用网络socket来进行连接通信，在一实施例中，当系统与机器人之间建立连接之后，系统可以给机器人发送一些运动指令，例如moveJ1、moveJ2、moveX等等。机器人收到这些指令之后会进行相应运动。虚拟机器人是我们对实体机器人系统的一种模拟复刻，其表现行为与实际机器人基本一样除了连接通信方式，由于虚拟机器人和鞋涂仿真系统处于同一台机器上，其内部可以使用本地socket来连接通信，其他的交互运动指令和实际机器人相同。
