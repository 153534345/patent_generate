标题title
一种基于编码解码技术的视觉内容导盲辅助系统及方法
摘要abst
本发明公开了一种基于编码解码技术的视觉内容导盲辅助系统及方法，涉及计算机视觉领域，所述系统包括中央处理器模块、深度相机模块、语音播报装置模块、语音理解装置模块和电源模块；其中，中央处理器：用于控制本系统、视觉数据处理和信号的传递，在中央处理机上部署的有导盲系统的控制软件，包括：视觉内容解释单元、语音识别单元和道路规划单元；深度相机：用于对当前场景进行图像采集，生成RGB图像与深度图；语音播报装置：用于对中央处理器输出的语音信息进行理解，播放寻物或者对道路的规划情况；语音理解装置：用于采集用户的语音信息，传送给中央处理器；电源：用于给中央处理器供电。本发明能辅助盲人更好的生活，并提高生活质量。
权利要求书clms
1.一种基于编码解码技术的视觉内容导盲辅助系统,其特征在于：包括中央处理器模块、深度相机、语音播报装置、语音理解装置和电源模块；利用边缘计算和云计算的联合架构对导盲辅助系统的实时性处理，采用分层分级的边缘节点方式处理图像数据；所述中央处理器模块：嵌入控制软件实现系统控制、视觉数据处理和信号的传递；包括：视觉内容解释单元、语音识别单元和场景模式切换单元；所述深度相机：对当前场景进行图像采集，生成RGB图像与深度图；所述语音播报装置：对中央处理器输出的语音信息进行理解，播放寻物或者对道路的规划情况；所述语音理解装置：采集用户的语音信息，传送给中央处理器模块；所述电源模块：为中央处理器模块供电。2.如权利要求1所述的基于编码解码技术的视觉内容导盲辅助系统，其特征在于：所述视觉内容解释单元：基于编码解码的神经网络对特定整理的数据集进行训练，实现视觉内容解释，通过视觉内容解释的信息对用户进行场景描述、避障、道路规划和寻找物体操作；所述语音识别单元模块：包括语音唤醒模块、关键词检索模块；在麦克风的采样点达到设定数量后对音频进行一次处理；在导盲辅助系统初始情况下，语音识别单元只有语音唤醒模块工作，关键词检索模块处于待机状态根据用户语音指令执行开关机操作及寻物操作；所述场景模式切换单元：包括场景判断模块，模式切换模块及特征处理和神经网络模块；根据当前采集的场景图像信息，判断场景类型，模式切换模块执行切换场景模式；在相机采取的图像中判断是室内场景或室外场景，通过语音返回用户当前的场景信息；模式切换模块根据场景信息切换对应的室内模式或室外模式。3.如权利要求2所述的基于编码解码技术的视觉内容导盲辅助系统，其特征在于：所述语音唤醒模块：负责对唤醒词的检测与识别，系统运行经由唤醒词启动；所述关键词检索模块：处理麦克风采集的信号，获得其语谱图，对语谱图进行编码，获得其信号编码；基于信号编码对音频信息中的关键词进行预测，输出关键词在音频中的概率向量，将各个关键词的概率值与提前预设的阈值进行比较，输出大于阈值的部分。4.如权利要求2所述的基于编码解码技术的视觉内容导盲辅助系统，其特征在于：所述场景判断模块：预先通过室内外数据集训练模型，利用室内外场景识别技术判断当前所处的场景是室内还是户外；通过提取所采集图像的全局特征和局部特征来精确的判断当前所处的场景信息；所述特征处理和神经网络模块：利用室内外的GNSS卫星信号个数、卫星高度角、信噪比、地磁场数据以及光照强度数据作为特征数据输入神经网络训练得到室内外场景识别模型；神经网络分为三层，输入层、隐藏层和输出层，相邻两层之间利用全连接形式连接；输入层的神经元个数取决于训练使用的特征个数，隐藏层神经元个数根据实际需要调整，输出层两个神经元代表室内和室外。5.如权利要求4所述的基于编码解码技术的视觉内容导盲辅助系统，其特征在于：所述特征处理的室内外特征提取部分，包括卫星信号特征、光照强度特征和地磁强度特征。6.一种基于编码解码技术的视觉内容导盲方法，采用所述基于编码解码技术的视觉内容导盲辅助系统，实时向用户播报路况信息，通过云计算和边缘计算相结合来实现所述导盲辅助系统的运行和数据处理，采用分层分级的边缘节点方式处理所需数据，包括以下步骤：S1:用户通过预设的开机唤醒词对所述导盲辅助系统进行开机操作，S2:所述导盲辅助系统开机后，深度相机持续捕获周围场景的RGB图像和相连帧的图像，并将图像下放到模式切换单元中，基于编码解码技术对图像进行处理，根据预设的场景判断模型来判断用户当前所在场景，模式切换为室内或室外模式，若是室内模式跳转S3；若是室外模式跳转S4；在模式切换后对用户进行语音提醒；S3：启动关键词检索模块，处理麦克风采集的信号，获得其语谱图，对语谱图进行编码，获得其信号编码；基于信号编码对音频信息中的关键词进行预测，输出关键词在音频中的概率向量，将各个关键词的概率值与提前预设的阈值进行比较，输出大于阈值的部分；若长时间未检测到有效关键词，则进入待机模式，重启唤醒词模块；若检测到多个关键词，则启动语音指导模块，语音提醒用户每次只能语音输入一个关键词并要求重新输入，同时重启关键词检测模块；若检测到一个关键词，则根据所检测到的关键词启动相应的视觉内容解释模块、道路规划模块或者避障模块等，通过语音实现对用户的提醒与指导功能，S4：语音理解装置随时对用户发出的音频信息进行判断处理，检测是否包含关机指令词，若包含关机机指令词，所述导盲辅助系统执行关机操作。7.如权利要求6所述的基于编码解码技术的视觉内容导盲辅助方法，其特征在于：所述S1具体过程，包括以下步骤：S1.1：在所述导盲辅助系统中预设开机唤醒词及关机指令词；S1.2：当用户发出指令的时候，对麦克风采集到的信号进行处理，获取其语谱图，对语谱图进行编码，获得信号编码；S1.3：基于信号编码对音频信息中是否包含唤醒词进行预测，通过神经网络中的门控单元层，全连接层等，输出音频中包含唤醒词的概率；S1.4：将所获得的概率值和设置的阈值进行比较，若小于所设阈值，所述导盲辅助系统无操作；若大于所设阈值，所述导盲辅助系统跳转S2执行开机操作。8.如权利要求6所述的基于编码解码技术的视觉内容导盲方法，其特征在于：所述S3具体过程，包括以下步骤：S3.1:在视觉内容解释单元启动后，根据视觉内容解释单元的输出结果，利用语音播报装置对用户解释当前的环境场景信息；S3.2:在视觉内容解释单元启动后，语音理解装置理解用户的语音信息，利用关键词检索模块处理操作；若为多个关键词，则语音提醒用户重新输入；若为单个关键词，则进行用户语音指令的关键词操作，包括以下关键词操作：场景描述：描述当前场景下的人物动作信息，返回当前场景信息；寻物：视觉内容解释单元通过深度相机获取图像信息输入，寻找物体时将RGB图像输入到卷积神经网络中提取特征得到深层图像特征，确定图像中的物体与用户需要的物体是否存在，将结果用语音播放模块转换为语音播报给用户；道路规划：在实时道路规划时，对从深度相机中获取的深度图进行预处理之后，将其与RGB图像变换后形成的灰度图输入至训练好的神经网络中进行五个方向路径规划，将规划结果转化为语音输出；避障：通过深度相机捕捉到周围障碍物，并通过生成的深度图和神经网络得到当前障碍物的分布情况，实时语音返回用户与障碍物之间的距离，当距离达到预设的阈值时，通过预设的语音提醒用户注意避障操作，利用神经网络，生成最优的行走路线，通过语音播报装置对用户进行语音提示。9.如权利要求6所述的基于编码解码技术的视觉内容导盲辅助方法，其特征在于：所述导盲辅助系统基于编码解码的框架包括特征提取层和编码层、解码层，使用卷积神经网络对特征提取层进行卷积操作，卷积神经网络的输入被设置为w*h的RGB图像，需要在训练集图像上计算RGB均值，然后将图像作输入传入卷积神经网络，使用s*s的卷积核，卷积步长被固定为n；利用s*s的卷积核实现降维，增加非线性；在Encorder-Decorder框架下，利用数据集中人工标注的类别标签和视频帧的特征，作为卷积神经网络的输入进行训练；能够让卷积神经网络对视频中每帧的特征获取准确的信息；然后利用循环神经网络进行编码；在编码阶段，给定输入序列X，LSTM计算隐藏状态序列H；在解码期间，定义了输出序列Y上的分布；首先使用一个LSTM将输入序列编码为固定长度的向量，然后使用另外一个LSTM将向量映射到输出序列，但依赖于一个LSTM编码和解码阶段；允许在编码和解码阶段之间共享参数；文字的输入，单词的目标输出序列使用one-hot向量编码表示；与帧特征的处理一样，通过对输入数据应用线性变换通过反向传播学习参数，将单词嵌入到低维空间中；嵌入的词向量和第一个LSTM层的输出h，连接成第二个LSTM层的输入；考虑LSTM的输出，对整个词汇表应用softmax。10.如权利要求6所述的基于编码解码技术的视觉内容导盲辅助方法，其特征在于：所述室内外模式都拥有场景描述功能，视觉内容解释单元从深度相机中获取的RGB图像和相连帧的图像，对RGB图像进行预处理后，特征提取并送入到训练好的模型中，得出当前场景的视觉内容解释，并将解释的内容通过语音的形式返还给用户。
说明书desc
技术领域本发明涉及计算机视觉领域，具体涉及一种基于编码解码技术的视觉内容导盲辅助系统及方法。背景技术近年来，随着人工智能的日益发展，深度学习在计算机视觉领域中的应用越来越广泛；譬如目标检测技术，图像识别技术，视频内容解释技术等等。这些技术都有了阶段性的发展并成功的在多项产品中引用。深度学习极大地促进了机器学习的发展，受到世界各国相关领域研究人员和高科技公司的重视。语音、图像和自然语言处理是深度学习算法应用最广泛的三个主要研究领域。语音识别领域：2011年微软公司推出基于深度神经网络的语音识别系统，这一成果将语音识别领域已有的技术框架完全改变；采用深度神经网络后，样本数据特征间相关性信息得以充分表示，将连续的特征信息结合构成高维特征，通过高维特征样本对深度神经网络模型进行训练；图像识别领域：2012年国内互联网巨头百度公司将相关最新技术成功应用到人脸识别和自然图像识别问题中，并推出相应的产品；现在的深度学习网络模型已经能够理解和识别一般的自然图像；深度学习模型不仅大幅提高了图像识别的精度，同时也避免了需要消耗大量时间进行人工特征提取的问题，使得在线运行效率大大提升；自然语言处理领域：总体而言，深度学习在自然语言处理上取得的成果和在图像语音识别方面相差甚远，仍有待深入研究。目前，在市面上出现的智能化导盲辅助系统，主要是基于红外线辅助以导盲杆帮助盲人出行，没有实现智能的交互性，而且安全性低下。基本还是靠盲人自己判断决定，事故率较高。由于新兴的人工智能产品成本高，耗费资源多，受到网络限制较大，在考虑到用户的实际情况，难以将那些新兴的智能产品推广普及。就现阶段而言，利用深度学习技术帮助盲人导航的智能化系统尚未成熟，主要原因是导盲需要保证对视觉内容的解释精准度，需要消耗的资源过于庞大，设备无法支撑这些庞大的算力。目前，可以将已训练的模型在便携式设备中部署，通过对模型的更新实现对产品的更新。发明内容为解决现有技术的不足，本发明提出了一种基于编码解码技术的视觉内容导盲辅助系统及方法，针对视觉内容解释的应用场景，将视频描述与导盲辅助系统相结合，对于场景描述、路况规划、避障提示和寻物进行实时性的操作，并且通过云计算和边缘计算相结合实现了导盲辅助系统的轻量化操作；增添了室内外场景识别的功能，对于不同的场景可以切换不同的模式，实现了对特定场景的高准确率操作，极大的提高了导盲辅助系统的安全性和实时性。本发明提供的技术方案为：一方面，本发明提出了一种基于编码解码技术的视觉内容导盲辅助系统；所述导盲辅助系统：包括中央处理器模块、深度相机、语音播报装置、语音理解装置和电源模块；利用边缘计算和云计算的联合架构对导盲辅助系统的实时性处理，采用分层分级的边缘节点方式处理图像数据。所述中央处理器模块：嵌入控制软件实现系统控制、视觉数据处理和信号的传递；包括：视觉内容解释单元、语音识别单元和场景模式切换单元。所述视觉内容解释单元：基于编码解码的神经网络对特定整理的数据集进行训练，实现视觉内容解释，通过视觉内容解释的信息对用户进行场景描述、避障、道路规划和寻找物体操作。所述语音识别单元：包括语音唤醒模块、关键词检索模块；在麦克风的采样点达到设定数量后对音频进行一次处理；在导盲辅助系统初始情况下，语音识别单元只有语音唤醒模块工作，关键词检索模块处于待机状态根据用户语音指令执行开关机操作及寻物操作。所述语音唤醒模块：负责对唤醒词的检测与识别，系统运行经由唤醒词启动。所述关键词检索模块：处理麦克风采集的信号，获得其语谱图，对语谱图进行编码，获得其信号编码；基于信号编码对音频信息中的关键词进行预测，输出关键词在音频中的概率向量，将各个关键词的概率值与提前预设的阈值进行比较，输出大于阈值的部分。所述场景模式切换单元：包括场景判断模块，模式切换模块及特征处理和神经网络模块；根据当前采集的场景图像信息，判断场景类型，模式切换模块执行切换场景模式；在相机采取的图像中判断是室内场景或室外场景，通过语音返回用户当前的场景信息；模式切换模块根据场景信息切换对应的室内模式或室外模式。所述场景判断模块：预先通过室内外数据集训练模型，利用室内外场景识别技术判断当前所处的场景是室内还是户外；通过提取所采集图像的全局特征和局部特征来精确的判断当前所处的场景信息。所述特征处理和神经网络模块：利用室内外的GNSS卫星信号个数、卫星高度角、信噪比、地磁场数据以及光照强度数据作为特征数据输入神经网络训练得到室内外场景识别模型。神经网络分为三层，输入层、隐藏层和输出层，相邻两层之间利用全连接形式连接；输入层的神经元个数取决于训练使用的特征个数，隐藏层神经元个数根据实际需要调整，输出层两个神经元代表室内和室外；所述室内外特征提取部分：包括卫星信号特征、光照强度特征和地磁强度特征。所述深度相机：对当前场景进行图像采集，生成RGB图像与深度图。所述语音播报装置：对中央处理器输出的语音信息进行理解，播放寻物或者对道路的规划情况。所述语音理解装置：采集用户的语音信息，传送给中央处理器模块。所述电源模块：为中央处理器模块供电。另一方面，本发明提出了一种基于编码解码技术的视觉内容导盲辅助方法，采用所述基于编码解码技术的视觉内容导盲辅助系统，包括以下步骤：S1:用户通过预设的开机唤醒词对所述导盲辅助系统进行开机操作，包括以下步骤：S1.1：在所述导盲辅助系统中预设开机唤醒词及关机指令词；S1.2：当用户发出指令的时候，对麦克风采集到的信号进行处理，获取其语谱图，对语谱图进行编码，获得信号编码；S1.3：基于信号编码对音频信息中是否包含唤醒词进行预测，通过神经网络中的门控单元层，全连接层等，输出音频中包含唤醒词的概率；S1.4：将所获得的概率值和设置的阈值进行比较，若小于所设阈值，所述导盲辅助系统无操作；若大于所设阈值，所述导盲辅助系统跳转S2执行开机操作；S2:所述导盲辅助系统开机后，深度相机持续捕获周围场景的RGB图像和相连帧的图像，并将图像下放到模式切换单元中，基于编码解码技术对图像进行处理，根据预设的场景判断模型来判断用户当前所在场景，模式切换为室内或室外模式，若是室内模式跳转S3；若是室外模式跳转S4；在模式切换后对用户进行语音提醒；S3：启动关键词检索模块，处理麦克风采集的信号，获得其语谱图，对语谱图进行编码，获得其信号编码；基于信号编码对音频信息中的关键词进行预测，输出关键词在音频中的概率向量，将各个关键词的概率值与提前预设的阈值进行比较，输出大于阈值的部分；若长时间未检测到有效关键词，则进入待机模式，重启唤醒词模块；若检测到多个关键词，则启动语音指导模块，语音提醒用户每次只能语音输入一个关键词并要求重新输入，同时重启关键词检测模块；若检测到一个关键词，则根据所检测到的关键词启动相应的视觉内容解释模块、道路规划模块或者避障模块等，通过语音实现对用户的提醒与指导功能，包括以下步骤：S3.1:在视觉内容解释单元启动后，根据视觉内容解释单元的输出结果，利用语音播报装置对用户解释当前的环境场景信息；S3.2:在视觉内容解释单元启动后，语音理解装置理解用户的语音信息，利用关键词检索模块处理操作；若为多个关键词，则语音提醒用户重新输入；若为单个关键词，则进行用户语音指令的关键词操作，包括以下关键词操作：场景描述：描述当前场景下的人物动作信息，返回当前场景信息；寻物：视觉内容解释单元通过深度相机获取图像信息输入，寻找物体时将RGB图像输入到卷积神经网络中提取特征得到深层图像特征，确定图像中的物体与用户需要的物体是否存在，将结果用语音播放模块转换为语音播报给用户；道路规划：在实时道路规划时，对从深度相机中获取的深度图进行预处理之后，将其与RGB图像变换后形成的灰度图输入至训练好的神经网络中进行五个方向路径规划，将规划结果转化为语音输出；避障：通过深度相机捕捉到周围障碍物，并通过生成的深度图和神经网络得到当前障碍物的分布情况，实时语音返回用户与障碍物之间的距离，当距离达到预设的阈值时，通过预设的语音提醒用户注意避障操作，利用神经网络，生成最优的行走路线，通过语音播报装置对用户进行语音提示；S4：语音理解装置随时对用户发出的音频信息进行判断处理，检测是否包含关机指令词，若包含关机机指令词，所述导盲辅助系统执行关机操作。所述导盲辅助系统基于编码解码的框架包括特征提取层和编码层、解码层，使用卷积神经网络对特征提取层进行卷积操作，卷积神经网络的输入被设置为w*h的RGB图像，需要在训练集图像上计算RGB均值，然后将图像作输入传入卷积神经网络，使用s*s的卷积核，卷积步长被固定为n；利用s*s的卷积核实现降维，增加非线性；在Encorder-Decorder框架下，利用数据集中人工标注的类别标签和视频帧的特征，作为卷积神经网络的输入进行训练；能够让卷积神经网络对视频中每帧的特征获取准确的信息；然后利用循环神经网络进行编码；在编码阶段，给定输入序列X，LSTM计算隐藏状态序列H；在解码期间，定义了输出序列Y上的分布；首先使用一个LSTM将输入序列编码为固定长度的向量，然后使用另外一个LSTM将向量映射到输出序列，但依赖于一个LSTM编码和解码阶段；允许在编码和解码阶段之间共享参数；文字的输入，单词的目标输出序列使用one-hot向量编码表示；与帧特征的处理一样，通过对输入数据应用线性变换通过反向传播学习参数，将单词嵌入到低维空间中；嵌入的词向量和第一个LSTM层的输出h，连接成第二个LSTM层的输入；考虑LSTM的输出，对整个词汇表应用softmax。所述室内外模式都拥有场景描述功能，视觉内容解释单元从深度相机中获取的RGB图像和相连帧的图像，对RGB图像进行预处理后特征提取并送入到训练好的模型中得出当前场景的视觉内容解释，并将解释的内容通过语音的形式返还给用户。所述导盲辅助系统实时向用户播报路况信息，通过云计算和边缘计算相结合来实现所述导盲辅助系统的运行和数据处理，采用分层分级的边缘节点方式处理所需数据。有益技术效果1、本发明提出的导盲辅助系统将场景描述、寻物避障与导盲相结合，具有帮助盲人寻找物体的功能，减少盲人对别人的依赖；具有避障的功能，提高了盲人的出行安全，减少盲人的出行事故率；通过语音设备输出帮助盲人理解场景，便利盲人了解身边的事物；进而辅助盲人更好地生活，极大的提高了盲人的生活质量。2、本发明提出的导盲辅助系统利用云计算和边缘计算相结合，可以通过硬件设备实现高准确率的实时操作,同时为了缓解云数据中心数据量较大的压力，采用分层分级的边缘节点。3、本发明提出的导盲辅助系统针对不同的数据场景可以切换不同的模式，通过不同的数据场景模式，来加强对当前场景下的寻物避障功能；譬如室内和室外不同场景可以切换不同模式；提高当前状态的准确率，这对于提高盲人的生活质量具有积极的应用前景和理论意义。4、本发明提出的导盲辅助系统通过不同场景的模型更新，可以加入不同场景的功能，发展潜力巨大，不单单只是道路规划、模式切换、避障避险和语音识别等功能，方便升级和更新处理。附图说明图1为本发明实施例提供的一种基于编码解码技术的视觉内容导盲辅助系统结构模块图；图2为本发明实施例提供的一种基于编码解码技术的视觉内容导盲辅助系统示意图；图3为本发明实施例提供的视觉内容解释单元工作流程图；图4为本发明实施例提供的语音识别单元工作流程图；图5为本发明实施例提供的场景模式切换单元工作流程图；图6为本发明实施例提供的一种基于编码解码技术的视觉内容导盲辅助方法流程图；图7为本发明实施例提供的导盲辅助方法流程图；图8为本发明实施例提供的室内外场景识别方法流程图；图9为本发明实施例提供的语音识别方法流程图；图10为本发明实施例提供的卷积神经网络VGG16各层分解示意图；图11为本发明实施例提供的双层LSTM结构图；图12为本发明实施例提供的云边协同总体架构图；图13为本发明实施例提供的多级处理数据结构图。具体实施方式下面结合附图说明和实施例对本发明作进一步详细说明；本发明提出了一种基于编码解码技术的视觉内容导盲辅助系统及方法，针对视觉内容解释的应用场景，将视频描述与导盲辅助系统相结合，对于场景描述、路况规划、避障提示和寻物进行实时性的操作，并且通过云计算和边缘计算相结合实现了导盲辅助系统的轻量化操作；增添了室内外场景识别的功能，对于不同的场景可以切换不同的模式，实现了对特定场景的高准确率操作，极大的提高了导盲辅助系统的安全性实时性；本发明提供的技术方案为：一方面，本发明提出了一种基于编码解码技术的视觉内容导盲辅助系统；所述导盲辅助系统：利用边缘计算和云计算的联合架构对导盲辅助系统的实时性处理，采用分层分级的边缘节点方式处理所需数据，如图1、图2所示，包括中央处理器模块、深度相机、语音播报装置、语音理解装置和电源模块。所述中央处理器模块：嵌入控制软件实现系统控制、视觉数据处理和信号的传递；包括：视觉内容解释单元、语音识别单元和场景模式切换单元；本实施例中，采用NVIDIAJetsonTX2开发套件作为中央处理器。所述视觉内容解释单元：如图3所示，基于编码解码的神经网络对特定整理的数据集进行训练，实现视觉内容解释，通过视觉内容解释的信息对用户进行场景描述、避障、道路规划和寻找物体操作。所述语音识别单元：包括语音唤醒模块、关键词检索模块；如图4所示，在麦克风的采样点达到一定数目后对音频进行一次处理；在导盲辅助系统初始情况下，语音识别单元只有语音唤醒模块工作，其余模块处于待机状态，根据用户语音指令执行开关机操作及寻物操作；本实施例中，采用基于KaLdi环境做语音关键词检索，定义3-4个音节的词语作为唤醒词，收集发音数据，发音的人越多，发音场景越丰富，训练唤醒的效果越好；采用端到端的神经网络来训练收集的大数据量的发音数据；一个KWS系统包括两个部分，大词汇量连续识别模块解码检索集合并产生相对应的网格，一个关键词识别模块生成网格索引并从索引中查找关键词；在Kaldi中，关键词识别和大词汇量连续识别都是基于权重有限状态转换，因此关键词识别不光能对词进行识别，也能对音节、音素等进行识别；LVCSR系统是一个SGMM和MMI的系统结合；使用PLP获取13维的语音特征；然后用最大似然估计进行语音训练，以一个平滑的上下文无关的音素HMM做初始值开始，以说话人自适应的状态集群三音素HMM-GMM做为输出结束；在说话人变换训练集的统一背景模型进行训练，然后得到用于训练HMM发射概率的子空间高斯混合模型，最后，所有的训练语音使用SGMM系统进行解码，然后对SGMM的参数进行BMMI训练；对检索集合进行解码并且生成网格，随后送到KWS模块进行索引和检索；KWS是对上述LVSCR系统产生的网格通过网格索引技术进行处理，所有待检索集语句中的网格都被从单一加权有限状态转换成一个单广义因数变送器结构，将每个词的开始时间，结束时间和网格后验概率这三维数据存储起来；给一个词或短语，我们创建他的简单有限状态机，可以得到这个关键词/短语并且将他与因数变送器得到关键词/短语在检索集合中所有出现过的地方，和一个语句的ID号，开始时间，结束时间，以及每个地方网格的后验概率。所述语音唤醒模块：负责对唤醒词的检测与识别，系统运行经由唤醒词启动。所述关键词检索模块：处理麦克风采集的信号，获得其语谱图，对语谱图进行编码，获得其信号编码；基于信号编码对音频信息中的关键词进行预测，输出关键词在音频中的概率向量，将各个关键词的概率值与提前预设的阈值进行比较，输出大于阈值的部分。所述场景模式切换单元：包括场景判断模块，模式切换模块及特征处理和神经网络模块；如图5所示，根据当前采集的场景图像信息，判断场景类型，模式切换模块执行切换场景模式；在相机采集的图像中判断是室内场景或室外场景，通过语音返回用户当前的场景信息；模式切换模块根据场景信息切换对应的室外模式或室外模式。所述场景判断模块：预先通过室内外数据集训练模型，利用室内外场景识别技术判断当前所处的场景是室内还是户外；通过提取所采集图像的全局特征和局部特征来精确的判断当前所处的场景信息。所述特征处理和神经网络模块：利用室内外的GNSS卫星信号个数、卫星高度角、信噪比、地磁场数据以及光照强度数据作为特征数据输入神经网络训练得到室内外场景识别模型；神经网络分为三层，输入层、隐藏层和输出层，相邻两层之间利用全连接形式连接；输入层的神经元个数取决于训练使用的特征个数，隐藏层神经元个数根据实际需要调整，输出层两个神经元代表室内和室外。所述室内外特征提取部分，分别是卫星信号特征、光照强度特征和地磁强度特征。所述深度相机：对当前场景进行图像采集，生成RGB图像与深度图；本实施例中，采用Intel-D435深度相机。所述语音播报装置：对中央处理器输出的语音信息进行理解，播放寻物或者对道路的规划情况。所述语音理解装置：采集用户的语音信息，传送给中央处理器模块。所述电源模块：为中央处理器模块供电；本实施例中，采用19V移动电源为中央处理器供电。另一方面，本发明提出了一种基于编码解码技术的视觉内容导盲辅助方法，采用所述基于编码解码技术的视觉内容导盲辅助系统，如图6所示，包括以下步骤：S1:用户通过预设的开机唤醒词对所述导盲辅助系统进行开机操作，包括以下步骤：S1.1：在所述导盲辅助系统中预设开机唤醒词及关机指令词；S1.2：当用户发出指令的时候，对麦克风采集到的信号进行处理，获取其语谱图，对语谱图进行编码，获得信号编码；S1.3：基于信号编码对音频信息中是否包含唤醒词进行预测，通过神经网络中的门控单元层，全连接层等，输出音频中包含唤醒词的概率；S1.4：将所获得的概率值和设置的阈值进行比较，若小于所设阈值，所述导盲辅助系统无操作；若大于所设阈值，所述导盲辅助系统跳转S2执行开机操作；S2:所述导盲辅助系统开机后，如图7所示，深度相机持续捕获周围场景的RGB图像和相连帧的图像，并将图像下放到模式切换单元中，基于编码解码技术对图像进行处理，根据预设的场景判断模型来判断用户当前所在场景，模式切换为室内或室外模式，若是室内模式跳转S3；若是室外模式跳转S4；在模式切换后对用户进行语音提醒；本实施例中，通过特征处理和神经网络模块对所述场景判断模块的神经网络的主要描述，其具体流程如图8，具体包括以下步骤：S2.1:由于当前的研究方法对室内外数据的特征挖掘不足、鲁棒性较差等原因，导致室内外场景识别不准确；我们可以利用室内外的GNSS卫星信号个数、卫星高度角、信噪比、地磁场数据以及光照强度数据作为特征数据输入神经网络训练得到室内外场景识别模型；S2.2:当前的神经网络分为三层，输入层、隐藏层和输出层，相邻两层之间利用全连接形式连接；输入层的神经元个数取决于训练使用的特征个数，隐藏层神经元个数根据实际需要调整，取为10个，输出层两个神经元代表室内和室外；S2.3：室内外特征提取部分，分别是卫星信号特征、光照强度特征和地磁强度特征；卫星信号特征：由于室内外建筑物遮挡不同有明显差异，可以通过该信号个数来判断其所处的是室内还是室外；卫星的高角度和信噪比也和室内外环境有很强的相关性；当卫星的高角度超过60°，在室内很难接受到高角度卫星信号；信噪比是电子设备中信号与噪声的比例，信号质量越好，信噪比越大；室内可接收的是10-20db的卫星信号，室外则是30db；光照强度特征：室外环境的光照强度远远大于室内环境的光照强度，白天的室内光照强度在0-500lux，半开放的环境中光照强度为0-8000lux，在室外晴天的光照强度会超过10000lux，阴天的光照强度是0-10000lux；但是夜晚的光照强度在室内外环境的变化不明显，光照强度受人造光源影响较大，此时光照强度与室内外环境关联度变弱；因此光照强度可以在白天作为一个十分显著的特征；地磁场特征：由于现代建筑物采用钢筋材料，室内地磁容易受到建筑物内环境的影响，室外更加接近自然地磁，地磁数据相对稳定；可以用三轴磁力计测量磁场数据，则该点的地磁强度为三者的算术平方和；所述场景模式切换单元包括：场景判断模块，模式切换模块和图像处理和神经网络模块；在相机采取的图像中判断是室内还是户外场景，通过语音返回用户当前的场景信息；并根据不同的场景，切换不同的模式，室内场景切换室内模式；在室内模式下，寻物功能的精度得到了保障；在户外模式下，避障和道路规划的精度得到了保障；道路规划单元的子模块的功能如下：所述模式切换模块对所述场景判断模块结果对当前模式进行切换操作具体内容如下：1、该模块在系统定义前，预设了两个模型，一个是针对室内场景的模型，一个针对户外场景的模型；因此该系统有两个但不限于两个模式，即户外模式和室内模式；2、在上述场景判断模型的输出结果后，利用该结果信息对模式进行切换，切换到相对应的模型模式；3、在模式切换后对用户进行语音提醒；所述场景判断模块利用室内外场景识别技术判断当前所处的场景是室内还是户外；通过提取所采集图像的全局特征和局部特征来精确的判断当前所处的场景信息；考虑到当前的硬件设备的实时性，预先通过较大数据量的室内外数据集训练模型；由于是室内外场景分类的数据集，可以去寻找相关数据集的训练方法，可以找到类似place205，place365等同类室内场景分类数据集训练下的模型预训练权重，可以加载预训练权重进行训练，效果相对会更好；上述模块负责通过采集图像对当前场景进行判断，其工作流程包括：1、通过相机采集当前场景的图像信息，提前当前图像的特征信息，包括但不限于具体的对象特征来判断当前的场景信息；2、将判断出的场景信息返还给中央处理器，通过模式切换模块切换对应的模式，并通过语音的形式对用户传达信息；S3：启动关键词检索模块，如图9所示，处理麦克风采集的信号，获得其语谱图，对语谱图进行编码，获得其信号编码；基于信号编码对音频信息中的关键词进行预测，输出关键词在音频中的概率向量，将各个关键词的概率值与提前预设的阈值进行比较，输出大于阈值的部分；若长时间未检测到有效关键词，则进入待机模式，重启唤醒词模块；若检测到多个关键词，则启动语音指导模块，语音提醒用户每次只能语音输入一个关键词并要求重新输入，同时重启关键词检测模块；若检测到一个关键词，则根据所检测到的关键词启动相应的视觉内容解释模块、道路规划模块或者避障模块等，通过语音实现对用户的提醒与指导功能，包括以下步骤：S3.1:在视觉内容解释单元启动后，根据视觉内容解释单元的输出结果，利用语音播报装置对用户解释当前的环境场景信息；S3.2:在视觉内容解释单元启动后，语音理解装置理解用户的语音信息，利用关键词检索模块处理操作；若为多个关键词，则语音提醒用户重新输入；若为单个关键词，则进行用户语音指令的关键词操作，包括以下关键词操作：场景描述：描述当前场景下的人物动作信息，返回当前场景信息；寻物：视觉内容解释单元通过深度相机获取图像信息输入，寻找物体时将RGB图像输入到卷积神经网络中提取特征得到深层图像特征，确定图像中的物体与用户需要的物体是否存在，将结果用语音播放模块转换为语音播报给用户；道路规划：在实时道路规划时，对从深度相机中获取的深度图进行预处理之后，将其与RGB图像变换后形成的灰度图输入至训练好的神经网络中进行五个方向路径规划，将规划结果转化为语音输出；避障：通过深度相机捕捉到周围障碍物，并通过生成的深度图和神经网络得到当前障碍物的分布情况，实时语音返回用户与障碍物之间的距离，当距离达到预设的阈值时，通过预设的语音提醒用户注意避障操作。之后利用神经网络，生成最优的行走路线，通过语音播报装置对用户提示；所述基于编码解码的框架包括特征提取层和编码层、解码层，使用卷积神经网络对特征提取层进行卷积操作，卷积神经网络的输入被设置为w*h的RGB图像，需要在训练集图像上计算RGB均值，然后将图像作输入传入卷积神经网络，使用s*s的卷积核，卷积步长被固定为n；利用s*s的卷积核实现降维，增加非线性；在Encorder-Decorder框架下，利用数据集中人工标注的类别标签和视频帧的特征，作为卷积神经网络的输入进行训练；能够让卷积神经网络对视频中每帧的特征获取准确的信息；然后利用循环神经网络进行编码；在编码阶段，给定输入序列X，LSTM计算隐藏状态序列H；在解码期间，定义了输出序列Y上的分布；首先使用一个LSTM将输入序列编码为固定长度的向量，然后使用另外一个LSTM将向量映射到输出序列，但依赖于一个LSTM编码和解码阶段；这里允许在编码和解码阶段之间共享参数；文字的输入，单词的目标输出序列使用one-hot向量编码表示；与帧特征的处理一样，通过对输入数据应用线性变换通过反向传播学习参数，将单词嵌入到低维空间中；嵌入的词向量和第一个LSTM层的输出ht连接成第二个LSTM层的输入；考虑LSTM的输出，对整个词汇表应用softmax；本实施例中，所述基于编码解码的框架包括特征提取层和编码层、解码层，使用卷积神经网络对特征提取层进行卷积操作，所述卷积神经网络可以采用VGG11-VGG19，本发明采用的是VGG16；如图10所示，VGG在加深网络层数的同时为了避免参数过多，所有层采用3*3的小卷积核，卷积层步长设置为1；VGG的输入被设置为224*224的RGB图像，在训练集图像上对所以的图像计算RGB均值，然后将图像作为输入传入VGG卷积网络，使用3*3或者1*1的卷积核，卷积步长被固定为1；VGG全连接层有三层，根据卷积层加全连接层总数的不同可以从VGG11到VGG19，最少的VGG11有8个卷积层，3个全连接层；此外VGG网络并不是在每个卷积层后面加上一个池化层，是总数5个池化层，分布在不同的卷积层之下；其中1*1的卷积核是用来降维，增加非线性的；3*3的卷积核是用多个卷积核叠加，增加空间感知域，减少参数；最大池化层为2*2的滑动窗口，滑动步长为2，在卷积层后接着的是三个全连接层，前两个全连接层各有4096个通道，第三个在用来做1000类的ILSVRC分类，因此包含1000个通道；最后一层是一个soft-max层；全连接层的配置在所有网络中一致；所有的隐藏层都是使用非线性修正；所述特征提取层的卷积工作，其流程包括：一张原始的图片经过预处理，被统一尺寸到；通过conv1两次，卷积核，输出特征是64，输出结果是，再经过conv2前的2*2最大池化，输出结果是；通过conv2两次，卷积核，输出特征是128，输出结果是，再经过第一个conv3前的2*2最大池化，输出结果是；通过conv3三次，卷积核，输出特征是256，输出结果是，再经过第二个conv3前的2*2最大池化，输出结果是；通过conv3三次，卷积核，输出特征是512，输出结果是，再经过最后一个conv3前的2*2最大池化，输出结果是；通过conv3三次，卷积核，输出特征是512，输出结果是，再经过2*2最大池化，输出结果是；利用卷积的方式模拟全连接层，输出的结果是,进行两次；利用卷积的方式模拟全连接层，输出的结果是；编码解码的工作流程包括：在Encorder-Decorder框架下，利用数据集中人工标注的类别标签和视频帧的特征，作为卷积神经网络的输入进行训练；能够让卷积神经网络对视频中每帧的特征获取准确的信息；然后利用循环神经网络进行编码；神经网络采用的是长短期记忆网络，因为它解决了循环神经网络在反向传播中梯度消失和梯度爆炸的问题；在编码解码的过程中，不论输入和输出的长度是什么，中间的向量长度都是固定的；根据不同的任务可以选择不同的编码器和解码器；编码由一个编码器将输入序列转化成一个固定维度的稠密向量，解码阶段将这个激活状态生成目标译文；提出了一个视频描述的序列到序列的模型，输入是视频的帧序列X，输出的是单词序列Y，输入和输出都是可变的；估计给定的输入序列的输出序列的条件概率是P；处理可变长度的输入输出的主要思想就是首先对于输入帧序列进行编码，一次一个，用隐藏向量表示视频的帧，然后为该表示解码为一个句子，一次一个词；在编码阶段，给定输入序列X，LSTM计算隐藏状态序列H；在解码期间，定义了输出序列Y上的分布；首先使用一个LSTM将输入序列编码为固定长度的向量，然后使用另外一个LSTM将向量映射到输出序列，但依赖于一个LSTM编码和解码阶段；这里允许在编码和解码阶段之间共享参数；模型使用的是两个LSTM的堆栈如图11所示，每个LSTM有1000个隐藏单元；顶层的LSTM用于对视觉帧序列进行建模，下一层用于对输出词序列进行建模；在前几个时间步骤中，顶层的LSTM层接收帧序列并对其进行编码，而第二层的LSTM接受隐藏表示并将其与null连接，填充输入字，然后对其进行编码；当LSTM进行编码的时候，该阶段没有损失；视频中的所有帧走完之后，第二个LSTM层会被输入一个句子开头的标签，该标签促进了将当前隐藏表示解码为一个单词序列；解码阶段进行训练时，该模型是在给定视觉帧序列的隐藏表示和之前所预测单词的情况下最大化预测输出句子的对数似然；使用随机梯度下降在整个训练数据集上优化对数似然；当LSTM正在学习解码时才计算损失；在解码阶段，第一个LSTM层的视觉帧表示只是一个作为填充输入的零向量，需要一个明确句子结尾的标签来终止每个句子；因此这就使得该模型能定义不同长度的序列分布；另外选择softmax最大概率的单词，直到模型发出标记；文字的输入，单词的目标输出序列使用one-hot向量编码表示；与帧特征的处理一样，通过对输入数据应用线性变换通过反向传播学习参数，将单词嵌入到500维空间中；嵌入的词向量和第一个LSTM层的输出ht连接成第二个LSTM层的输入；考虑LSTM的输出，对整个词汇表应用softmax；启动视觉内容解释时会对场景进行图像采集，判断是否室内户外；若是室内，则切换预训练好的室内模型，对室内场景进行内容解释和动作解释，让盲人能够清晰的了解家人和室内的情况；若是户外，则切换预训练好的户外模式，对户外场景进行避障和路线规划；视觉内容和动作解释都是基于编码解码的技术手段，在户外的避障和路线规划图像预处理模块对深度相机采集的RGB图像和深度图进行处理；S4：语音理解装置随时对用户发出的音频信息进行判断处理，检测是否包含关机指令词，若包含关机机指令词，所述导盲辅助系统执行关机操作；所述室内外模式都拥有场景描述功能，视觉内容解释单元从深度相机中获取的RGB图像和相连帧的图像，对RGB图像进行预处理后特征提取并送入到训练好的模型中得出当前场景的视觉内容解释，并将解释的内容通过语音的形式返还给用户；所述导盲辅助系统实时向用户播报路况信息，通过云计算和边缘计算相结合来实现所述导盲辅助系统的运行和数据处理，采用分层分级的边缘节点方式处理所需数据；本实施例中，由于导盲辅助系统对于实时性、可靠性和安全性的要求极高，需要通过云计算和边缘计算相结合来实现导盲辅助系统的运行和数据处理；边缘计算可以满足敏捷连接、实时业务、数据优化、应用智能、安全与隐私保护等方面的需求；云计算可以通过长时间周期的大数据分析，能够为业务决策支撑提供依据；云计算的本质就是数据资源的集中处理，形成一个共享资源池，云计算的优势是资源共享，数据集中处理和资源节约；边缘计算就是将数据在近端处理，数据处理靠近数据源，采用网络、存储、计算、应用核心能力一体的平台；边缘计算适合处理数据量极大的情况；利用了云边协同的联合式的导盲辅助系统总体架构是前端边缘计算后端云计算，主要包括设备侧、边缘侧、云端服务和应用，以及相关对应的标准体系和安全体系，如图12所示；设备侧中包含传感网络、图像采集设备、语音控制组件以及于设备端口对接的接口模块组件；边缘侧除了包含边缘计算参考架构应该有的计算资源，网络资源和存储资源外还包括边缘分析模块和边缘设备控制模块；云端服务包括基础信息库、管理信息库、运行信息库、维修信息库，以及用于支撑以上设备云端处理的IaaS、PaaS、SaaS层；该架构参考了边缘计算参考架构3.0，导盲辅助系统的边缘计算架构在功能上实现的模块包括云计算、边缘计算、边缘侧设备分析数据模块和边缘侧设备控制数据模块；边缘侧设备分析数据模块按照既定的要求就近快速分析智能设备采集的图像语音等数据，边缘侧设备控制数据模块按照既定的要求就近控制智能设备，两个模块有机结合；为了缓解云数据中心数据量较大的压力，可以采用分层分级的边缘节点，如图13所示；具体包括云中心、边缘域和边缘节点；边缘节点就是边缘设备，主要解决感知数据的采集，能够更加精确的采集视觉内容中的有效信息及多种类型的物联网数据；边缘域靠近边缘节点，可以就近存储和处理数据，以实现感知数据的汇聚和智能化应用，通过边缘域缓解海量数据对中心节点带来的并发压力；同时增加了系统的敏捷性、实时性和可靠性；边缘域可以包括计算存储资源池和数据资源池，该边缘域可以管理和调度域内计算存储资源池和数据资源池；云中心可以进行多维度的数据融合以及大数据分析应用；云中心对边缘域的物联网数据、互联网数据和其他行业系统数据的结合；这三类数据汇聚并通过大数据的资源平台来解决数据治理和数据服务的问题。
