标题title
用于配药机的方法、控制装置、配药机及灌药系统
摘要abst
本发明提供一种用于配药机的控制方法、用于配药机的控制装置、配药机及灌药系统。配药机包括药液配送机构，药液配送机构包括用于输入药液的多个输入单元，控制方法包括：获取配药信息，配药信息包括从多个输入单元中每一个输入单元输入的药液的配药量和配药优先级；根据配药优先级顺序控制多个输入单元输入对应的配药量的药液。通过上述技术方案，可以实现自动配药，只需人为设定配药参数、正确安装储药容器即可，大大降低了配药过程中因人为失误而造成的浪费。另一方面，该方案避免了人为配药时人药接触对人体造成的危害，填补了配药过程人药分离的空缺，实现真正的人药分离。
权利要求书clms
1.一种用于配药机的控制方法，其特征在于，所述配药机包括药液配送机构，所述药液配送机构包括用于输入药液的多个第一输入单元，所述控制方法包括：获取配药信息，所述配药信息包括从所述多个第一输入单元中每一个第一输入单元输入的药液的配药量和配药优先级；根据所述配药优先级顺序控制所述多个第一输入单元输入对应的所述配药量的药液。2.根据权利要求1所述的控制方法，其特征在于，所述药液配送机构还包括用于输入水的第二输入单元，所述控制方法还包括：在控制所述多个第一输入单元中的一个第一输入单元输入药液的过程中，控制所述第二输入单元输入水以与输入的药液进行混合。3.根据权利要求2所述的控制方法，其特征在于，还包括：根据所述多个第一输入单元的全部配药量和混合的药液的所需量来确定所述第二输入单元的注水量；以及控制所述第二输入单元输入所确定的注水量的水。4.根据权利要求3所述的控制方法，其特征在于，所述控制所述第二输入单元输入所确定的注水量的水包括：根据所述多个第一输入单元的全部配药量和每一个第一输入单元的预设流量确定输入全部配药量的药液所需的总时长；根据所述总时长和所述注水量确定所述第二输入单元的流量；以及控制所述第二输入单元以确定的流量输入所确定的注水量的水。5.根据权利要求1所述的控制方法，其特征在于，根据所述配药优先级顺序控制所述多个第一输入单元输入对应的所述配药量的药液包括：控制所述多个第一输入单元中具有相同配药优先级的第一输入单元同时输入各自的药液。6.根据权利要求1所述的控制方法，其特征在于，还包括：在发生中断操作的情况下，停止所有第一输入单元的操作；以及保存中断操作时被中断的第一输入单元的工作状态，所述工作状态包括被中断的第一输入单元已输入的药液的配药量。7.一种用于配药机的控制装置，其特征在于，所述配药机包括药液配送机构，所述药液配送机构包括用于输入药液的多个第一输入单元，所述控制装置包括：控制器，被配置成：获取配药信息，所述配药信息包括从所述多个第一输入单元中每一个第一输入单元输入的药液的配药量和配药优先级；根据所述配药优先级顺序控制所述多个第一输入单元输入对应的所述配药量的药液。8.根据权利要求7所述的控制装置，其特征在于，所述药液配送机构还包括用于输入水的第二输入单元，所述控制器还被配置成：在控制所述多个第一输入单元中的一个第一输入单元输入药液的过程中，控制所述第二输入单元输入水以与输入的药液进行混合。9.根据权利要求8所述的控制装置，其特征在于，所述控制器还被配置成：根据所述多个第一输入单元的全部配药量和混合的药液的所需量来确定所述第二输入单元的注水量；以及控制所述第二输入单元输入所确定的注水量的水。10.根据权利要求9所述的控制装置，其特征在于，所述控制器被配置成控制所述第二输入单元输入所确定的注水量的水包括所述控制盘被配置成：根据所述多个第一输入单元的全部配药量和每一个第一输入单元的预设流量确定输入全部配药量的药液所需的总时长；根据所述总时长和所述注水量确定所述第二输入单元的流量；以及控制所述第二输入单元以确定的流量输入所确定的注水量的水。11.根据权利要求7所述的控制装置，其特征在于，所述控制器被配置成根据所述配药优先级顺序控制所述多个第一输入单元输入对应的所述配药量的药液包括：所述控制器被配置成控制所述多个第一输入单元中具有相同配药优先级的第一输入单元同时输入各自的药液。12.根据权利要求7所述的控制装置，其特征在于，还包括存储器，所述控制器还被配置成：在发生中断操作的情况下，停止所有第一输入单元的操作；所述存储器被配置成保存中断操作时被中断的第一输入单元的工作状态，所述工作状态包括被中断的第一输入单元已输入的药液的配药量。13.一种配药机，其特征在于，包括根据权利要求7至12中任意一项所述的用于配药机的控制装置。14.一种灌药系统，其特征在于，包括根据权利要求13所述的配药机。
说明书desc
技术领域本发明涉及植保领域，具体地涉及一种用于配药机的校准方法、用于配药机的控制装置、配药机及灌药系统。背景技术随着人力成本攀升、规模农业的不断兴起、农作物病虫害多发等等，多重因素决定了农用无人机越来越多地出现在农业植保作业领域，且大有发展前途。在农用无人机作业前，需要预先配置好待喷药液并装载到机身上的储液容器中。目前的植保无人机几乎都采用人工配置药水，配药效率低，而且容易使药水搅拌不均匀，导致药水质量不高，而人工配置药水的过程中会直接接触有毒药物，还会影响人们健康。此外，在农用无人机趋向重载、更高续航时长的方向发展时，目前的人工配药加载方式已影响和局限了作业效率，在作业中需要不停的返航和加注药水。因此，如何快速、高质量、安全、持续的配置好药水是农业植保无人机效率提高的重要保障。发明内容本发明实施方式的目的是提供一种用于配药机的控制方法、用于配药机的控制装置、配药机及灌药系统，能够自动配药，避免人为操作失误以及人药接触。为了实现上述目的，根据本发明的第一方面，提供一种用于配药机的控制方法，配药机包括药液配送机构，药液配送机构包括用于输入药液的多个第一输入单元，控制方法包括：获取配药信息，配药信息包括从多个第一输入单元中每一个第一输入单元输入的药液的配药量和配药优先级；根据配药优先级顺序控制多个第一输入单元输入对应的配药量的药液。在本发明实施方式中，药液配送机构还包括用于输入水的第二输入单元，控制方法还包括：在控制多个第一输入单元中的一个第一输入单元输入药液的过程中，控制第二输入单元输入水以与输入的药液进行混合。在本发明实施方式中，控制方法还包括：根据多个第一输入单元的全部配药量和混合的药液的所需量来确定第二输入单元的注水量；以及控制第二输入单元输入所确定的注水量的水。在本发明实施方式中，控制第二输入单元输入所确定的注水量的水包括：根据多个第一输入单元的全部配药量和每一个第一输入单元的预设流量确定输入全部配药量的药液所需的总时长；根据总时长和注水量确定第二输入单元的流量；以及控制第二输入单元以确定的流量输入所确定的注水量的水。在本发明实施方式中，根据配药优先级顺序控制多个第一输入单元输入对应的配药量的药液包括：控制多个第一输入单元中具有相同配药优先级的第一输入单元同时输入各自的药液。在本发明实施方式中，控制方法还包括：在发生中断操作的情况下，停止所有第一输入单元的操作；以及保存中断操作时被中断的第一输入单元的工作状态，工作状态包括被中断的第一输入单元已输入的药液的配药量。在本发明的第二方面，提供一种用于配药机的控制装置，配药机包括药液配送机构，药液配送机构包括用于输入药液的多个第一输入单元，控制装置包括：控制器，被配置成：获取配药信息，配药信息包括从多个第一输入单元中每一个第一输入单元输入的药液的配药量和配药优先级；根据配药优先级顺序控制多个第一输入单元输入对应的配药量的药液。可选地，药液配送机构还包括用于输入水的第二输入单元，控制器还被配置成：在控制多个输入单元中的一个输入单元输入药液的过程中，控制第二输入单元输入水以与输入的药液进行混合。在本发明实施方式中，控制器还被配置成：根据多个第一输入单元的全部配药量和混合的药液的所需量来确定第二输入单元的注水量；以及控制第二输入单元输入所确定的注水量的水。在本发明实施方式中，控制器被配置成控制第二输入单元输入所确定的注水量的水包括控制盘被配置成：根据多个第一输入单元的全部配药量和每一个输入单元的预设流量确定输入全部配药量的药液所需的总时长；根据总时长和注水量确定第二输入单元的流量；以及控制第二输入单元以确定的流量输入所确定的注水量的水。在本发明实施方式中，控制器被配置成根据配药优先级顺序控制多个第一输入单元输入对应的配药量的药液包括：控制器被配置成控制多个第一输入单元中具有相同配药优先级的第一输入单元同时输入各自的药液。在本发明实施方式中，控制装置还包括存储器，控制器还被配置成：在发生中断操作的情况下，停止所有第一输入单元的操作；存储器被配置成保存中断操作时被中断的第一输入单元的工作状态，工作状态包括被中断的第一输入单元已输入的药液的配药量。在本发明的第三方面，提供一种配药机，包括上述的用于配药机的控制装置。在本发明的第四方面，提供一种灌药系统，包括上述的配药机。通过上述技术方案，可以实现自动配药，只需人为设定配药参数、正确安装储药容器即可，大大降低了配药过程中因人为失误而造成的浪费。另一方面，该方案避免了人为配药时人药接触对人体造成的危害，填补了配药过程人药分离的空缺，实现真正的人药分离。本发明实施方式的其它特征和优点将在随后的具体实施方式部分予以详细说明。附图说明附图是用来提供对本发明实施方式的进一步理解，并且构成说明书的一部分，与下面的具体实施方式一起用于解释本发明实施方式，但并不构成对本发明实施方式的限制。在附图中：图1、图2分别为根据本发明实施方式的配药机在不同视角下的立体视图；图3为图1、图2中的配药机在卸除了漏空底板后的立体图，清楚展示了安装在中空底腔内的流体流路及其流体部件；图4a、图4b为构成图1、图2中的配药机的底座在不同视角下的立体视图；图5为图4a、图4b所示的底座在安装泵送组件后的立体视图；图6为构成图1、图2中的配药机的顶壳的立体视图；图7为输入泵或输出泵的立体图；图8为构成图1、图2中的配药装置的药液混合机构的立体视图；图9为图8的轴截面剖视图；图10为图9中的圆圈部分的局部放大视图，清楚展示了端部堵头及其安装结构；以及图11为图9中的旋转搅拌件的立体图；图12示出了根据本发明实施方式的用于配药机的控制装置的示例的框图；以及图13示出了根据本发明实施方式的用于配药机的控制方法的示例的流程图。附图标记说明1搅拌筒体2 端部堵头3旋转轴4 旋叶5搅拌进液口6 搅拌出液口7止口内端8 止口外螺纹9堵头本体10药液混合机构11 端部密封环12旋转把手20 泵送组件21 输入泵22输出泵23 泵体24泵送电机25 泵体传动机构30 管接头组件31 输入管接头32输出管接头40 药液控制模块50 底座51第一底座安装孔52 第二底座安装孔53安装孔防水密封54 顶沿连接部55管接头安装壁区56 线路接口端子57第一台阶顶壁58 第二台阶顶壁60 顶壳61底沿连接部70 漏空底板A中空底腔B 中空顶壳腔L第一侧边方向W 第二侧边方向C接头内凹腔D 药液混合腔J1 泵入口J2泵出口100外壳体210 用户界面220处理器230 存储器240通信设备具体实施方式以下结合附图对本发明的具体实施方式进行详细说明。应当理解的是，此处所描述的具体实施方式仅用于说明和解释本发明，并不用于限制本发明。需要说明，若本发明实施方式中有涉及方向性指示，则该方向性指示仅用于解释在某一特定姿态下各部件之间的相对位置关系、运动情况等，如果该特定姿态发生改变时，则该方向性指示也相应地随之改变。另外，若本发明实施方式中有涉及“第一”、“第二”等的描述，则该“第一”、“第二”等的描述仅用于描述目的，而不能理解为指示或暗示其相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括至少一个该特征。另外，各个实施方式之间的技术方案可以相互结合，但是必须是以本领域普通技术人员能够实现为基础，当技术方案的结合出现相互矛盾或无法实现时应当认为这种技术方案的结合不存在，也不在本发明要求的保护范围之内。为避免人工配药带来的诸多缺陷，本发明实施方式相应设计了一种配药机。在图1至图3所述的一种具体实施方式中，本发明实施方式的配药机可以包括：外壳体100；药液混合机构10，内设药液混合腔D并安装在外壳体100的壳腔中；以及药液配送机构，包括与药液混合机构10相连的药液输出单元和多个配液输入单元，多个配液输入单元用于相互独立地往药液混合腔D配比输液。在本发明实施方式的配药机中，特别设置了药液配送机构，以多个配药输入单元的方式，可将水和一种或多种药液配比输液至药液混合机构10，在图8所示的药液混合腔D中充分搅拌均匀后，可通过药液输出单元输出。药液配送机构和药液混合机构10等都封装在外壳体100内以构成独立装置，将药液配比输入、搅拌和输出等配药工序都集成在独立装置内，从而可取代人工配药方式。为实现高效率和高质量配药，药液配送机构可进一步包括用于控制各个配液输入单元的配液输入流量和控制药液输出单元的药液输出流量的药液控制装置40。即，结合电控元件，实现水和药液的配比输送和输出，可实现自动高效配药和精准配药，解决现有的人工配药方式导致的作业效率低、配药不精准、工作环境不安全的问题，以下将结合具体实施方式详细阐述。参见图2-图3，各个配液输入单元分别包括输入泵21和输入管接头31，药液输出单元包括输出泵22和输出管接头32，输入泵21和输出泵22设置在壳腔内，输入管接头31和输出管接头32从外壳体100上伸出。在本实施方式中，为便于配药的过程控制，输入管接头31和输入泵21的个数相同，以独立控制各个进液流路的精确进液流量。输出泵22可对应多个输出管接头32，以分流输出。当然，本发明也不限于此，例如单个输入泵21也为多个输入管接头31提供泵吸动力等等。为精确计量通过各个输入管接头31或输入泵21流向药液混合腔D的流量，输入泵21可选用带计量的计量泵，或者各个配液输入单元的流路中分别设置流量计。作为示例，本实施方式中的输入泵21和输出泵22均采用蠕化泵，如图3、图5所示，各个输入泵21和输出泵22均包括泵体23和泵送电机24，可通过控制泵送电机24的转速来达到控制泵送流量的目的。相应地，药液控制装置40可包括控制器和用户界面，如图2所示，用户界面可设置在外壳体100的表面。控制器配置为根据用户界面的设定参数对应控制各个配液输入单元的配液输入流量，实现精确配药。在附图所示的实施方式中，药液配送机构采用了包括输入泵21和输出泵22的泵送组件20，以实现自动化和电控操作。但本领域技术人员能够理解的是，本发明也不限于此，药液配送机构中也可采用其他非泵送的动力方式或者非泵吸的供液方式，例如可采用与管接头相连的供液装置高于药液混合机构10，通过流体重力实现自动供液，药液控制装置40则需对各个流路做截流控制。以上从功能部件和原理角度阐释了本发明。以下结合具体实施方式，从装置产品化角度进一步阐述，以展现产品结构紧凑、布局合理、成本低，便于组装，以及使用的安全可靠性高等优点。参见图1、图2，为便于装配和使用连接，将各个管接口设置在箱体的同一侧。外壳体100采用箱形结构且进一步采用可拆装的分体结构。具体地，外壳体100包括底座50和罩盖于底座50上的顶壳60，底座50包括底开口的中空底腔A，顶壳60包括底开口的中空顶壳腔B，外壳体100的壳腔包括上下分隔成密封隔离腔室的中空顶壳腔B和中空底腔A。通过底座50和顶壳60的分体设计，可形成相互隔离的上下腔体，分别安装电控元件和液体流路，实现水电分离，以更好地保障装置使用的安全可靠性。在本实施方式中，输入泵21和输出泵22均包括泵体23、泵送电机24和中间传动的泵体传动机构25，如图7所示。其中参见图3，将泵体23设置于中空底腔A内，参见图5，泵送电机24设置在第一台阶顶壁57的上方并位于中空顶壳腔B内，泵送电机24通过泵体传动机构25连接驱动泵体23。图6所示的顶壳60罩扣在图5的底座50上，使得泵送电机24容置于中空顶壳腔B中。同时，参见图2，药液控制装置40设置在顶壳60上并电连接各个泵送电机24，电连接部分也仅限于设置在顶壳60和中空顶壳腔B，不会经过中空底腔A、发生液体接触，避免触电、短路等故障风险。为实现泵的分部隔离安装，底座50的顶壁上贯穿设置有如图4a所示的多个第一底座安装孔51。结合图5和图6，泵送电机24穿过相应的第一底座安装孔51并通过泵体传动机构25连接驱动下方的泵体23，泵体传动机构25位于中空底腔A内并可通过紧固件连接于底座50的顶壁上。为更好实现水电分离，第一底座安装孔51中还设有隔离中空底腔A与中空顶壳腔B的安装孔防水密封53，例如密封胶圈或密封涂层等。通过底座50的顶壁将中空底腔A与中空顶壳腔B分隔后，进一步地，结合图5、图6，底座50还设有周向封闭的顶沿连接部54，顶壳60设有相应的底沿连接部61，顶壳60的底沿连接部61与底座50的顶沿连接部54匹配安装并形成周向密封连接。作为示例，顶沿连接部54和底沿连接部61可以是相互匹配的周向凸起卡扣和周向卡扣凹槽。这样，就实现了中空底腔A与中空顶壳腔B的完全密封分隔，而且还隔绝了外部环境湿气等对中空底腔A的侵蚀。为实现产品的紧凑化设计，在本实施方式中，作为示例，外壳体100采用箱形体设计，即大致立方体形状。底座50包括相互垂直的第一侧边方向L和第二侧边方向W，即分别对应于图3所示的长边方向和宽边方向。多个第一底座安装孔51沿第一侧边方向L依次间隔分布，中空底腔A的沿第二侧边方向W的第二侧边壁上设有沿第一侧边方向L依次间隔分布的多个第二底座安装孔52，输入管接头31和输出管接头32穿设于相应的第二底座安装孔52中并从第二侧边壁沿第二侧边方向W向外伸出。进一步地，药液混合机构10的搅拌筒体1轴向沿第一侧边方向L布置。搅拌筒体1为中空筒体且中空筒腔形成为药液混合腔D，搅拌筒体1沿第二侧边方向W布置在泵体23与第二底座安装孔52之间。这样，将泵送组件20、管接头组件30以及搅拌筒体1在中空底腔A的有限空间内实现规则地间隔对齐排布，不仅有利于管路布置，实现就近连接，缩短连接管道的长度，而且减少液体流路的混乱，节约安装空间。参见图2，在上述的第二侧边壁上，划分出安装有管接头组件30的管接头安装壁区55，管接头安装壁区55相对于第二底座安装孔52上方的顶沿连接部54内凹以形成接头内凹腔C。接头内凹腔C的设计有助于保护管接头，防止产生机械碰撞且有助于节约配药机的安装空间，利于无人机的小型化紧凑设计。进一步地，在图2中，管接头安装壁区55还特别设置有位于第二底座安装孔52上方的线夹排，线夹排包括沿第一侧边方向L间隔排布的多个线路接口端子56，线路接口端子56可以用于药液控制装置40与外接灌药枪和或取灌药枪电连接，例如，灌药枪和或取灌药枪可以分别与输入管接头31和输出管接头32连通，灌药枪和或取灌药枪上设置的液位检测器或流量计或药液输入开关可以通过线路接口端子56与和药液控制装置40，进而为药液控制装置40提供控制信息。另外，由于在中空底腔A内安装液体流路，为避免液体渗出时积存，参见图1，外壳体100还包括漏空底板70，漏空底板70封盖于中空底腔A的底开口，在保护中空底腔A内的液体流路时，还能够起到及时排水作用。此外，在本实施方式中，为便于紧凑安装，中空底腔A设计成台阶腔，底座50的顶壁形成为沿第二侧边方向W的台阶状并包括位于泵体23上方的第一台阶顶壁57和位于搅拌筒体1上方的第二台阶顶壁58，如图5所示。第一底座安装孔51设置在第一台阶顶壁57上，第二台阶顶壁58高于第一台阶顶壁57并向上伸入中空顶壳腔B中。这样，结合图3可见，此时可将搅拌筒体1的安装高度上提，以靠近第二台阶顶壁58，使得搅拌筒体1上的液口能够与泵口、管接头口尽量对齐，以利于管路连接和缩减管道长度，达到紧凑利于有限安装空间的目的。参见图8，在图示的实施方式中，搅拌筒体1上设有沿轴向间隔分布的多个搅拌进液口5和搅拌出液口6。结合图3，输入管接头31的内端、输入泵21的泵入口J1、输入泵21的泵出口J2和搅拌进液口5可依次管道连接，搅拌出液口6、输出泵22的泵入口J1、输出泵22的泵出口J2和输出管接头32的内端依次管道连接。这样就形成了从管接头组件30到搅拌筒体1之间的多个并联的配液输入流路以及从搅拌筒体1到管接头组件30之间一个或多个药液输出流路。需要说明的是，以上使用的方位词如“上、下、顶、底”都是针对配药机在使用状态下而言的各部件相互位置关系描述用词。方位词如“内、外”都是针对中空底腔A而言的腔体内外。在本实施方式中，药液混合机构10采用了搅拌筒体1的形式，搅拌筒体1的安装空间小，药液混合机构10的其他功能部件几乎都内置在搅拌筒体1内。可想到的，为实现充分搅拌，药液混合机构10可包括搅拌电机和设置在中空筒腔中的旋转搅拌件，搅拌电机设置在中空顶壳腔B内并连接驱动旋转搅拌件。即，药液混合机构10采用电机驱动方式。此时，同样可将驱动电机安装在第二台阶顶壁58上方的中空顶壳腔B中。但考虑到泵送流体的流体冲击力，在图8、图9所示的实施方式中，省去了搅拌电机，而直接利用流体冲击力以带动旋转搅拌件工作，这样可进一步节约安装空间，便于配药机的结构紧凑简单化、小型化和低成本。因此，药液混合机构10可包括设置在中空筒腔中的旋转搅拌件，搅拌进液口5的进液流体能够冲击并带动旋转搅拌件旋转。参见图8、图9，根据本实施方式的一种药液混合机构10包括：搅拌筒体1，包括作为药液混合腔D的中空筒腔；端部堵头2，封堵中空筒腔的端部；以及旋转搅拌件，包括旋转轴3和安装在旋转轴3上的旋叶4，旋转轴3的端部枢转安装在端部堵头2中；其中，搅拌筒体1的筒壁上贯穿设置有搅拌进液口5，搅拌进液口5的进液流体能够冲击并带动旋转搅拌件旋转。图示的药液混合机构10的结构组成简单、实用性强，可很好地应用于图1至图3所示的配药机中。具体而言，根据本发明的药液混合机构仅包括了常规的搅拌筒体以及内置的旋转搅拌件和两端的端部堵头，组成部件为常规部件且数量少，成本较低，而且占用安装空间极小化。而且端部堵头的设计有利于药液混合机构的拆装、维护。更重要地，可通过在搅拌筒体1的筒壁上贯穿设置搅拌进液口5，通过搅拌进液口5带来的进液流体冲击力，以冲击旋叶4产生旋转，从而带动整个旋转轴3旋转，完成对药液混合腔D中的多种配药的充分搅拌、混合。这其中，有效利用了流体的动力作用而相应地节省了搅拌电机等，降低成本的同时，也能够实现对药液同样的充分搅拌效果。因此，本发明中的整个药液混合机构的结构简单实用、药液混合效率高，而且制造成本低。在应用于配药机时，搅拌筒体1的筒壁可设有沿轴向间隔布置的多个搅拌进液口5，以适于多个配液输入流路。多路流体进入药液混合腔D后在旋转搅拌件的搅拌下混合均匀并从端部的搅拌出液口6输出。其中，搅拌进液口5可设置多个，以适应更多种配药需要同时进入药液混合腔D一体混合的场景。当部分的搅拌进液口5闲置时，可通过管接口栓等封闭进液口。此外，搅拌出液口6可设置一个或多个，即单口输出或分多路输出均可，搅拌出液口6也不限于设置在端部，也可居中设置等等。旋叶4应设置为能够被搅拌进液口5的进液流体冲击而旋转，因此可选择地，旋转4可采用多组，与各个搅拌进液口5对齐，或者参见图11，旋叶4为沿轴向螺旋盘绕的螺旋叶片。旋叶4的类型、形状、数量等均可在不同的使用环境而具体选择或替换，可根据泵送流体的流速、配液的类型等进行具体设计和选择，在此不做过多赘述。旋转搅拌件的端部需要枢转安装在端部堵头2中。相应地，端部堵头2的内端应设置匹配的枢转安装结构，例如设置枢转轴承等。在图10中，考虑到产品的简单化、低成本以及药液搅拌所需的较低的搅拌转速，在端部堵头2的内端仅设置了轴端插装孔，旋转轴3的轴端伸入端部堵头2的轴端插装孔中并能够自如枢转。为便于组装旋转搅拌件，端部堵头2设计为可拆卸安装于搅拌筒体1的筒体端部，以方便拆装、调节。进一步地，由于搅拌进液口5的轴向位置不可调，为获得更好的受冲击旋转效果，旋转搅拌件可特别设置为轴向可移动或轴向位置可调节。可选地，端部堵头2可作为活塞件插装于筒体端部，或者在筒体端部与端部堵头2之间设置轴向滑槽，以实现可拆卸安装和轴向可移动调节。作为示例，在图9、图10所示的实施方式中，端部堵头2与筒体端部采用了具体的螺纹连接方式，以便于实现稳固安装、可靠密封和精确调节。更具体地，搅拌筒体1为轴向贯通的筒体，筒体端部设有筒端内螺纹，端部堵头2包括伸入筒体端部内的止口内端7，止口内端7设有与筒端内螺纹配合的止口外螺纹8。为更好地封堵药液混合腔D，止口外螺纹8可采用密封管螺纹，即锥度螺纹。当然，止口外螺纹8也可采用三角螺纹等其他适合类型。参见图10，端部堵头2包括套管状的堵头本体9和止口内端7，止口内端7的内端面封闭且呈内接管状从堵头本体9的止口端面伸出，堵头本体9的外径与搅拌筒体1的外径相同且大于止口内端7的外径。在图10所示的拧紧状态下，堵头本体9的环形止口端面紧贴筒体端部的环形端面。更进一步地，药液混合机构10还可包括设置在筒体端部与端部堵头2之间的端部密封环11，以提升密封效果，防止液体外渗。图9中在筒体端部的内周面设置了环槽以容纳端部密封环11，但显然端部密封环11也可安装在其他合适位置。此外，为便于操作，堵头本体9采用内端封闭且外端开口的中空套管形式，堵头本体9的套管腔内形成有旋转把手12，可通过手动操作旋转把手12以方便地旋动堵头本体9，实现对旋转搅拌件的更换拆装或位置调节等。在上述的配药机的基础上，本发明还相应提供了一种灌药系统，包括：上述的配药机；多个配液容器，与多个配液输入单元一一对应连接；和储液容器，与药液输出单元对应连接且用于可拆卸地安装于农用无人机上。在使用时，可将管接头组件30的各个端口分别通过管路与待配药的配液容器连通，再通过药液控制装置40配置参数，设置待调配药液的比例，即控制各个配液输入流路的液体流量，即加入设定比例的水和各种药液。而后，通过药液控制装置40控制各个输入泵21运转，以将储药容器和储水容器中的药和水按比例泵取到药液混合机构10，穿设在搅拌筒体1内侧的旋转搅拌件在水压的冲击下不停的自动旋转以将药和水充分混合。同时，在搅拌充分后，输出泵22可在药液控制装置40的控制下运转，以将药液混合腔D内的药水泵出至储液容器中暂存。其中，可通过管路直接连接至农用无人机上的储液容器中，也可通过将储液容器拆下后通过管路连接灌药系统的药液输出单元。综上，本发明开发了一种产品化、模块化的配药机，产品结构紧凑、成本低，可实现自动配药，自动化操作，配药高质量，效率高，而且可持续配药、输出药液，避免了人工配药所带来的毒害性问题。以上实施方式详细描述了根据本发明实施方式的配药机的结构及功能。除了对配药机的结构提出改进以外，本发明实施方式还提出针对配药方法或功能的改进方案。图12示出了根据本发明实施方式的用于配药机的控制装置的示例的框图。如图12所示，在本发明的实施方式中，控制装置可以包括用户界面210，用户界面210可以包括显示器和输入装置。输入装置可以包括但不限于，针对各输入单元的功能选择键，例如输入单元的输入泵选择键、优先级选择键、配药比选择键、设置键、取消键、暂停键、启动键。显示器的示例可以包括液晶显示器、发光二极管显示器以及有机发光二极管显示器。控制装置还可以包括控制器220，控制器220可以与用户界面210耦合，用于接收通过用户界面210输入的各种指令，根据指令执行相应的控制和操作。控制器220的示例可以包括通用处理器、专用处理器、常规处理器、数字信号处理器、多个微处理器、与DSP核心关联的一个或多个微处理器、控制器、微控制器、专用集成电路、现场可编程门阵列电路、其他任何类型的集成电路以及状态机等等。控制器220可以执行信号编码、数据处理、功率控制、输入/输出处理。在本发明实施方式中，控制装置还可以包括存储器230，存储器230可以存储可供控制器220执行的程序、控制器220处理的数据以及从外部接收的可供控制器220使用的数据等。存储器230的示例可以包括但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。在本发明的实施方式中，控制装置还可以包括通信设备240，通信设备240可以与控制器220耦合，并可以被配置成与外部设备进行通信。无线通信方式的示例可以包括但不限于，射频、微波、厘米波、微米波、红外线、紫外线、可见光、Wi-Fi、移动通信、蓝牙、近场通信。如之前实施方式中描述的，配药机可以包括药液配送机构，药液配送机构可以包括用于输入药液的多个第一输入单元，各个输入单元可以包括输入泵和输入管接头。控制器220可以控制输入单元工作，以控制从输入单元输入的药液的量。多个输入单元可以接入不同的药液，也可以接入相同的药液。例如，可以将储药容器接入到输入单元。另外，在混合药液时通常需要加入水以混合或稀释，因此药液配送机构还可以包括第二输入单元，用于输入水。控制器220也可以控制该第二输入单元工作，以控制第二输入单元输入的水的量。在本发明实施方式中，控制器可以被配置成：获取配药信息，配药信息包括从多个第一输入单元中每一个第一输入单元输入的药液的配药量和配药优先级；根据配药优先级顺序控制多个第一输入单元输入对应的配药量的药液。具体来说，在需要进行配药时，可以设置各第一输入单元的配药信息。在设置参数过程中，可以通过例如用户界面进行各种参数的设置。例如，按下不同第一输入单元选择按键选择对不同第一输入单元进行设置；按下优先级调整按键调节配药优先级，第一输入单元优先级越高，越早输入药液以进行混合。同一优先级的药液可以同时输入进行混合。配药量设置可以包括容量设置和占比设置，例如百分比、体积份数等。用户界面210上可以设置有配药比调节按键，通过操作该按键可以调节相应药液在最终混合药液中的占比。控制器220可以根据设置的这些参数从最高优先级开始依次控制第一输入单元工作以将接入到该第一输入单元的药液输入到药液混合机构。在第一输入单元向药液混合机构输入药液的过程中，控制器220可以计算输入的药液的量。在一个示例中，可以采用流量计来检测从第一输入单元输入的药液的流量，控制器220可以根据检测的流量和时间来计算输入的药液的量。在另一示例中，控制器220可以根据第一输入单元的预设流量来计算输入的药液的量。具体来说，可以给第一输入单元的输入泵设定一预设流量，控制器220在启动输入泵工作时默认将输入泵控制在预设流量。因此，控制器220可以根据该预设流量和输入泵的工作时间来计算药液的量，即药液的量＝预设流量×工作时间。控制器220可以按照配药优先级的顺序先后控制多个第一输入单元完成指定的配药操作。在一个示例中，在当前第一输入单元的配药操作完成时或之后，控制器220才控制按照优先级顺序的下一个第一输入单元执行配药操作。在本发明实施方式中，控制器220还可以被配置成在控制多个第一输入单元中的一个第一输入单元输入药液的过程中，控制第二输入单元输入水以与输入的药液进行混合。控制器220控制第二输入单元输入水的操作与控制第一输入单元输入药液的操作相似，对此不再赘述。在本发明实施方式中，在针对第一输入单元设置配药量时，可以根据针对多个第一输入单元的全部配药量和混合药液的所需量来确定第二输入单元的注水量。举例来说，在配药量是配药占比的形式的示例中，假定针对多个第一输入单元中的三个第一输入单元设置的配药量分别是5份体积份数、10份体积份数、15份体积份数，所需的混合药液的量是100份体积份数，则所需的注水量是70份体积份数。在配药量是容量的形式的示例中，假定针对多个第一输入单元中的三个第一输入单元设置的配药量分别是1L、1L和2L，所需的混合药液的量是10L，则所需的注水量是6L。控制器220可以控制第二输入单元输入所确定的注水量的水。在该实施方式中，通过直接设定混合药液所需量而不是直接设定注水量可以避免用户针对各配药量来计算注水量，而是直接关注需要配入药液的量和最终的产品的所需量即可，给用户带来便利性，提升用户体验。在本发明实施方式中，如上所述，在多个第一输入单元按照配药优先级依次输入药液的过程中，控制器220控制第二输入单元输入水与之混合。第一输入单元和第二输入单元可以同步分别向配药机的药液混合机构输入药液和水。也就是说，在多个第一输入单元中的一个第一输入单元启动开始输入药液时第二输入单元也启动开始输入水，在该第一输入单元输入药液完成停止时第二输入单元也停止输入水，等到下一个第一输入单元启动输入药液时，第二输入单元也启动输入水。由此，在本发明实施方式中，控制器220还可以被配置成根据多个第一输入单元的全部配药量和每个输入单元的预设流量确定输入全部配药量的药液所需的总时长。总时长可以等于每一个第一输入单元输入完各自配药量的药液所需的时长的总和。控制器220可以被配置成根据总时长和如上所述确定的注水量来确定第二输入单元的流量，控制第二输入单元以确定的流量输入确定的注水量的水。这样，可以保证第一输入单元输入药液的总时长与第二输入单元输入水的时长相同。在本发明实施方式中，在当前第一输入单元输入设定配药量的药液并与第二输入单元输入的水进行混合时或之后，控制器220才控制按照优先级顺序的下一个第一输入单元执行配药操作。按照优先级依次控制第一输入单元执行配药操作可以在遇到一些情况出现中断的时候能够更为清晰地了解哪一个第一输入单元正在进行配药并且已经输入了多少量的药液。具体地，控制器220还可以被配置成：实时计算多个第一输入单元中的每一个第一输入单元输入的药液的配药量。控制器220还可以被配置成在发生中断操作的情况下，停止第一输入单元的操作。存储器230还可以被配置成保存中断操作时被中断的第一输入单元的工作状态。控制器220还可以在配药过程中将第一输入单元的配药进度显示在用户界面210上，例如显示已配药量、完成度。控制器220在接收到终端指令时，可以停止正在工作的第一输入单元。存储器230可以存储中断时正在工作的第一输入单元的状态，包括例如，已配药量、当前优先级。在控制器220接收到继续操作或恢复操作指令时，可以控制相关联的第一输入单元从存储器230存储的工作状态开始继续或恢复相关操作。另外，如果在中断状态下控制器220接收到复位或返回指令，则可以将存储的工作状态清除。在本发明实施方式中，如果存在两个或两个以上的第一输入单元的优先级相同的情况下，对优先级相同的第一输入单元可以进行不同方式的处理。在一个示例中，控制器220可以被配置成控制多个第一输入单元中具有相同配药优先级的第一输入单元同时输入各自的药液。由于优先级相同，因此，控制器220可以对这些第一输入单元同等对待。在另一示例中，控制器220可以被配置成对这些第一输入单元重新赋予子优先级，根据子优先级的顺序依次控制第一输入单元进行配药操作。例如，可以生成一组子优先级，然后将一组子优先级随机分配到这些第一输入单元。在一个示例中，可以通过生成随机数的方式来生成一组子优先级。在再一示例中，控制器220可以被配置成从具有相同配药优先级的多个第一输入单元中随机选择一个第一输入单元优先进行配药操作，然后在剩余的第一输入单元中随机选择一个第一输入单元优先进行配药操作，以此类推直至最后一个具有相同配药优先级的第一输入单元。在本发明的实施方式中，通信设备240还可以被配置成与移动终端进行通信。移动终端的示例可以包括但不限于，智能电话、平板电脑、可穿戴设备、手持式控制终端。对控制装置的如上所述的参数设置和/或操作指令可以由移动终端发出。移动终端可以将设置的参数和/或操作指令发送到与其通信的控制装置。另外，控制装置也可以将需要显示的数据发送到移动终端以在移动终端上显示。在本发明的实施方式中，如上所述，灌药枪可以接入到配药机并与配药机进行通信。灌药枪可以包括触发件和两个短路触点。当触发灌药枪的触发件时可以向配药机发送启动信号。当两个短路触点接触到液面时会短路并向配药机发送停止信号。控制器220可以被配置成在灌药枪接入到配药机时可以使得灌药枪发送的启动信号以外的启动信号或指令无效，也就是说，如果灌药枪接入到配药机，那么从例如用户界面210或移动终端发起的启动指令都将被控制器220视为无效信号，即通过操作用户界面210和移动终端无法启动配药操作。但是，启动以外的功能不受此限制。另外，如果灌药枪发出停止信号，则控制器220可以立即停止配药机的任何操作，且在消除停止信号之前屏蔽其他信号，例如启动信号、恢复信号、返回信号等。也就是说，在没有消除灌药枪短路情况之前，禁止配药机的操作，尤其是通过灌药枪输出混合后的药液的操作。在配药机配药完毕之后，混合后的药液可直接配合换药机供给植保无人机使用，实现了配药过程的人药分离，保障了操作人员的健康。在本发明的实施方式中，控制装置可以是之前实施方式中描述的药液控制装置40。在本发明的实施方式中，提供一种配药机，可以包括上述的用于配药机的控制装置。另外，配药机还可以包括之前实施方式中的其他部件。在本发明的实施方式中，提供一种灌药系统，可以包括上述的配药机。相应地，在本发明的实施方式中，提出一种用于配药机的控制方法，可以包括以下步骤。如图13所示，在步骤S11中，获取配药信息，配药信息包括从多个第一输入单元中每一个第一输入单元输入的药液的配药量和配药优先级；在步骤S12中，根据配药优先级顺序控制多个第一输入单元输入对应的配药量的药液。在本发明的实施方式中，控制方法还可以包括：在控制多个第一输入单元中的一个第一输入单元输入药液的过程中，控制第二输入单元输入水以与输入的药液进行混合。在本发明实施方式中，控制方法还可以包括：根据多个第一输入单元的全部配药量和混合的药液的所需量来确定第二输入单元的注水量；以及控制第二输入单元输入所确定的注水量的水。在本发明实施方式中，控制第二输入单元输入所确定的注水量的水包括：根据多个第一输入单元的全部配药量和每一个第一输入单元的预设流量确定输入全部配药量的药液所需的总时长；根据总时长和注水量确定第二输入单元的流量；以及控制第二输入单元以确定的流量输入所确定的注水量的水。在本发明的实施方式中，根据配药优先级顺序控制多个第一输入单元输入对应的配药量的药液包括：控制多个第一输入单元中具有相同配药优先级的第一输入单元同时输入各自的药液。在本发明的实施方式中，根据配药优先级顺序控制多个第一输入单元输入对应的配药量的药液包括：给具有相同配药优先级的第一输入单元分配子优先级；根据分配的子优先级顺序控制该第一输入单元输入对应的配药量的药液。在本发明的实施方式中，根据配药优先级顺序控制多个第一输入单元输入对应的配药量的药液包括：以随机的方式从具有相同配药优先级的第一输入单元中选择第一输入单元；控制所选择的第一输入单元输入对应的配药量的药液。在本发明的实施方式中，控制方法还可以包括：在发生中断操作的情况下，停止所有第一输入单元的操作；以及保存中断操作时被中断的第一输入单元的工作状态，工作状态包括被中断的第一输入单元已输入的药液的配药量。本领域内的技术人员应明白，本发明的实施方式可提供为方法、系统、或计算机程序产品。因此，本发明可采用完全硬件实施方式、完全软件实施方式、或结合软件和硬件方面的实施方式的形式。而且，本发明可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本发明是参照根据本发明实施方式的方法、设备、和计算机程序产品的流程图和/或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。在一个典型的配置中，计算设备包括一个或多个处理器、输入/输出接口、网络接口和内存。内存可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存。内存是计算机可读介质的示例。还需要说明的是，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、商品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、商品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括所述要素的过程、方法、商品或者设备中还存在另外的相同要素。本说明书中的各个实施方式均采用递进的方式描述，各个实施方式之间相同相似的部分互相参见即可，每个实施方式重点说明的都是与其他实施方式的不同之处。尤其，对于系统实施方式而言，由于其基本相似于方法实施方式，所以描述的比较简单，相关之处参见方法实施方式的部分说明即可。以上所述仅为本申请的实施方式而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
