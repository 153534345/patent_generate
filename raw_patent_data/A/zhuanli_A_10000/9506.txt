标题title
心跳频率的确定方法、数据处理装置
摘要abst
本发明提供一种心跳频率的确定方法、数据处理装置。该方法包括：接收多帧毫米波雷达回波信号；根据多帧毫米波雷达回波信号，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列；基于快速傅里叶变换法，确定第一目标距离单元，和/或，基于自相关法，确定第二目标距离单元；根据第一目标距离单元和/或第二目标距离单元对应的心跳相位序列，确定目标心跳频率。本发明通过采用傅里叶变换法和自相关法选取最能代表心跳的距离单元，并依据此距离单元确定心跳频率，以提高确定心跳频率的准确性。
权利要求书clms
1.一种心跳频率的确定方法，其特征在于，包括：接收多帧毫米波雷达回波信号；根据所述多帧毫米波雷达回波信号，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列；基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据所述能量比值从所述多个候选距离单元中选取第一目标距离单元，其中，所述能量比值为谐波能量与主频能量的比；和/或，基于自相关法，确定所述每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据所述置信度从所述多个候选距离单元中选取第二目标距离单元；根据所述第一目标距离单元和/或所述第二目标距离单元对应的心跳相位序列，确定目标心跳频率。2.根据权利要求1所述的方法，其特征在于，所述谐波能量包括二次谐波位置对应的能量和三次谐波位置对应的能量，所述主频能量为一次谐波位置对应的能量；所述基于快速傅里叶变换法，确定所述每个候选距离单元对应的呼吸相位序列的能量比值，并根据所述能量比值从所述多个候选距离单元中选取第一目标距离单元，包括：对每个候选距离单元对应的呼吸相位序列进行快速傅里叶变换，得到每个候选距离单元对应的快速傅里叶变换的结果，并查找所述快速傅里叶变换的结果中的谱峰位置，其中，所述谱峰位置为一次谐波位置；基于所述一次谐波位置，分别计算所述一次谐波位置对应的二次谐波位置和三次谐波位置；从所述每个候选距离单元对应的快速傅里叶变换的结果中分别查找所述一次谐波位置、所述二次谐波位置和所述三次谐波位置对应的能量，得到所述谐波能量和所述主频能量，并基于所述谐波能量和所述主频能量确定所述每个候选距离单元对应的呼吸相位序列的能量比值；选取最小能量比值对应的候选距离单元作为所述第一目标距离单元。3.根据权利要求1所述的方法，其特征在于，所述基于自相关法，确定所述每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据所述置信度从所述多个候选距离单元中选取第二目标距离单元，包括：针对每个候选距离单元，对所述候选距离单元对应的心跳相位序列进行自相关计算，以得到自相关结果，并查找所述自相关结果中的第二峰值位置；依据所述第二峰值位置和心跳相位序列的相位个数，计算所述第二峰值位置对应的周期数目；其中，所述第二峰值位置为除第一个自相关数值之外的自相关结果的峰值位置；针对每个候选距离单元，根据所述候选距离单元对应的第二峰值位置上的自相关数值、周期数目以及自相关结果中第一个自相关数值，确定所述候选距离单元对应的自相关结果的置信度；选取最大置信度对应的候选距离单元作为所述第二目标距离单元。4.根据权利要求1所述的方法，其特征在于，所述根据所述第一目标距离单元对应的心跳相位序列，确定目标心跳频率，包括：对所述第一目标距离单元对应的心跳相位序列进行快速傅里叶变换，得到所述第一目标距离单元对应的心跳相位序列的谱峰位置；计算所述谱峰位置与第一乘积值的商，以得到所述目标心跳频率，其中，所述第一乘积值为所述第一目标距离单元对应的心跳相位序列的相位个数和接收所述毫米波雷达回波信号的间隔时长的乘积。5.根据权利要求1所述的方法，其特征在于，所述根据所述第二目标距离单元对应的心跳相位序列，确定目标心跳频率，包括：确定所述第二目标距离单元对应的心跳相位序列的自相关结果中的第二峰值位置；计算所述第二峰值位置与第二乘积值的商，以得到所述目标心跳频率，其中，所述第二乘积值为所述第二目标距离单元对应的心跳相位序列的相位个数和接收所述毫米波雷达回波信号的间隔时长的乘积。6.根据权利要求1所述的方法，其特征在于，所述根据所述第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定目标心跳频率，包括：分别根据所述第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定第一心跳频率和第二心跳频率；将所述第一心跳频率和所述第二心跳频率进行数据运算，得到所述目标心跳频率，其中，所述数据运算包括下述任一项：求平均、中值滤波和加权平均。7.根据权利要求6所述的方法，其特征在于，所述分别根据所述第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定第一心跳频率和第二心跳频率，包括：对所述第一目标距离单元对应的心跳相位序列进行快速傅里叶变换，得到所述第一目标距离单元对应的心跳相位序列的谱峰位置；计算所述谱峰位置与第一乘积值的商，以得到所述第一心跳频率，其中，所述第一乘积值为所述第一目标距离单元对应的心跳相位序列的相位个数和接收所述毫米波雷达回波信号的间隔时长的乘积；确定所述第二目标距离单元对应的心跳相位序列的自相关结果中的第二峰值位置；计算所述第二峰值位置与第二乘积值的商，以得到所述第二心跳频率，其中，所述第二乘积值为所述第二目标距离单元对应的心跳相位序列的相位个数和接收所述毫米波雷达回波信号的间隔时长的乘积。8.根据权利要求1-7任一所述的方法，其特征在于，所述根据所述多帧毫米波雷达回波信号，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列，包括：对所述多帧毫米波雷达回波信号中的每帧毫米波雷达回波信号依次进行混频、滤波和模拟数字采样，得到所述每帧毫米波雷达回波信号对应的数字回波信号；对所述每帧毫米波雷达回波信号对应的数字回波信号进行快速傅里叶变换，确定每帧毫米波雷达回波信号对应的一维距离像；对所述每帧毫米波雷达回波信号对应的一维距离像依次进行相位提取、解缠和无限脉冲响应滤波，得到多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列。9.根据权利要求8所述的方法，其特征在于，所述对所述每帧毫米波雷达回波信号对应的一维距离像依次进行相位提取、解缠和无限脉冲响应滤波，得到多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列，包括：提取所述每帧毫米波雷达回波信号对应的一维距离像中每个候选距离单元对应的相位值，将所述每个候选距离单元对应的相位值与上一帧毫米波雷达回波信号对应的一维距离像中相同的候选距离单元对应的相位值进行解缠，并对解缠后的相位值进行无限脉冲响应滤波，得到所述每帧毫米波雷达回波信号对应的每个候选距离单元对应的呼吸滤波后的相位值和心跳滤波后的相位值；将所述每帧毫米波雷达回波信号中相同的候选距离单元对应的呼吸滤波后的相位值进行汇总，形成所述每个候选距离单元对应的呼吸相位序列，以及将所述每帧毫米波雷达回波信号中相同的候选距离单元对应的心跳滤波后的相位值进行汇总，形成所述每个候选距离单元对应的心跳相位序列。10.一种数据处理装置，包括存储器、处理器以及存储在所述存储器中并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现如上的权利要求1至9中任一项所述心跳频率的确定方法的步骤。
说明书desc
技术领域本发明涉及心跳检测技术领域，尤其涉及一种心跳频率的确定方法、数据处理装置。背景技术随着社会的不断发展，人们越来越关注自身身体健康，通过对睡眠时的呼吸、心跳频率的长期统计可以分析出人体健康的一些关键指标。因此，基于FMCW雷达的心跳频率提取设备已经广泛出现在了市场中。目前，基于FMCW雷达的呼吸心跳提取设备通过对FMCW雷达信号进行处理，得到呼吸和心跳数据，并基于得到的呼吸和心跳数据提取心跳频率。但是，上述基于FMCW雷达的呼吸心跳提取设备检测的心跳频率的准确性差。发明内容本发明实施例提供了一种心跳频率的确定方法、数据处理装置，以解决现有技术中检测的心跳频率的准确性差的问题。第一方面，本发明实施例提供了一种心跳频率的确定方法，包括：接收多帧毫米波雷达回波信号；根据多帧毫米波雷达回波信号，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列；基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，其中，能量比值为谐波能量与主频能量的比；和/或，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元；根据第一目标距离单元和/或第二目标距离单元对应的心跳相位序列，确定目标心跳频率。在一种可能的实现方式中，谐波能量包括二次谐波位置对应的能量和三次谐波位置对应的能量，主频能量为一次谐波位置对应的能量；基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，包括：对每个候选距离单元对应的呼吸相位序列进行快速傅里叶变换，得到每个候选距离单元对应的快速傅里叶变换的结果，并查找快速傅里叶变换的结果中的谱峰位置，其中，谱峰位置为一次谐波位置；基于一次谐波位置，分别计算一次谐波位置对应的二次谐波位置和三次谐波位置；从每个候选距离单元对应的快速傅里叶变换的结果中分别查找一次谐波位置、二次谐波位置和三次谐波位置对应的能量，得到谐波能量和主频能量，并基于谐波能量和主频能量确定每个候选距离单元对应的呼吸相位序列的能量比值；选取最小能量比值对应的候选距离单元作为第一目标距离单元。在一种可能的实现方式中，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元，包括：针对每个候选距离单元，对候选距离单元对应的心跳相位序列进行自相关计算，以得到自相关结果，并查找自相关结果中的第二峰值位置；依据第二峰值位置和心跳相位序列的相位个数，计算第二峰值位置对应的周期数目；其中，第二峰值位置为除第一个自相关数值之外的自相关结果的峰值位置；针对每个候选距离单元，根据候选距离单元对应的第二峰值位置上的自相关数值、周期数目以及自相关结果中第一个自相关数值，确定候选距离单元对应的自相关结果的置信度；选取最大置信度对应的候选距离单元作为第二目标距离单元。在一种可能的实现方式中，根据第一目标距离单元对应的心跳相位序列，确定目标心跳频率，包括：对第一目标距离单元对应的心跳相位序列进行快速傅里叶变换，得到第一目标距离单元对应的心跳相位序列的谱峰位置；计算谱峰位置与第一乘积值的商，以得到目标心跳频率，其中，第一乘积值为第一目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积。在一种可能的实现方式中，根据第二目标距离单元对应的心跳相位序列，确定目标心跳频率，包括：确定第二目标距离单元对应的心跳相位序列的自相关结果中的第二峰值位置；计算第二峰值位置与第二乘积值的商，以得到目标心跳频率，其中，第二乘积值为第二目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积。在一种可能的实现方式中，根据第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定目标心跳频率，包括：分别根据第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定第一心跳频率和第二心跳频率；将第一心跳频率和第二心跳频率进行数据运算，得到目标心跳频率，其中，数据运算包括下述任一项：求平均、中值滤波和加权平均。在一种可能的实现方式中，分别根据第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定第一心跳频率和第二心跳频率，包括：对第一目标距离单元对应的心跳相位序列进行快速傅里叶变换，得到第一目标距离单元对应的心跳相位序列的谱峰位置；计算谱峰位置与第一乘积值的商，以得到第一心跳频率，其中，第一乘积值为第一目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积；确定第二目标距离单元对应的心跳相位序列的自相关结果中的第二峰值位置；计算第二峰值位置与第二乘积值的商，以得到第二心跳频率，其中，第二乘积值为第二目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积。在一种可能的实现方式中，根据多帧毫米波雷达回波信号，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列，包括：对多帧毫米波雷达回波信号中的每帧毫米波雷达回波信号依次进行混频、滤波和模拟数字采样，得到每帧毫米波雷达回波信号对应的数字回波信号；对每帧毫米波雷达回波信号对应的数字回波信号进行快速傅里叶变换，确定每帧毫米波雷达回波信号对应的一维距离像；对每帧毫米波雷达回波信号对应的一维距离像依次进行相位提取、解缠和无限脉冲响应滤波，得到多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列。在一种可能的实现方式中，对每帧毫米波雷达回波信号对应的一维距离像依次进行相位提取、解缠和无限脉冲响应滤波，得到多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列，包括：提取每帧毫米波雷达回波信号对应的一维距离像中每个候选距离单元对应的相位值，将每个候选距离单元对应的相位值与上一帧毫米波雷达回波信号对应的一维距离像中相同的候选距离单元对应的相位值进行解缠，并对解缠后的相位值进行无限脉冲响应滤波，得到每帧毫米波雷达回波信号对应的每个候选距离单元对应的呼吸滤波后的相位值和心跳滤波后的相位值；将每帧毫米波雷达回波信号中相同的候选距离单元对应的呼吸滤波后的相位值进行汇总，形成每个候选距离单元对应的呼吸相位序列，以及将每帧毫米波雷达回波信号中相同的候选距离单元对应的心跳滤波后的相位值进行汇总，形成每个候选距离单元对应的心跳相位序列。在一种可能的实现方式中，多个候选距离单元包括一维距离像中幅度值最高的距离单元，以及与幅度值最高的距离单元相邻的前M个距离单元和后M个距离单元其中，M为偶数。第二方面，本发明实施例提供了一种数据处理装置，包括存储器、处理器以及存储在存储器中并可在处理器上运行的计算机程序，处理器执行计算机程序时实现如上任一心跳频率的确定方法的步骤。第三方面，本发明实施例提供了一种雷达，包括如上的数据处理装置和发射接收模块；其中，发射接收模块用于发射毫米波雷达信号，以及接收毫米波雷达回波信号。第四方面，本发明实施例提供了一种计算机可读存储介质，计算机可读存储介质存储有计算机程序，计算机程序被处理器执行时实现如上任一心跳频率的确定方法的步骤。本发明实施例提供了一种心跳频率的确定方法、数据处理装置，通过接收多帧毫米波雷达回波信号，然后根据多帧毫米波雷达回波信号，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列，再基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，和/或，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元，最后根据第一目标距离单元和/或第二目标距离单元对应的心跳相位序列，确定目标心跳频率。本发明通过采用傅里叶变换法和自相关法选取最能代表心跳的距离单元，并依据此距离单元确定心跳频率，能够显著提高心跳频率检测结果的准确性。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的一种心跳频率的确定方法的实现流程图；图2是本发明实施例提供的FMCW信号波形的示意图；图3是本发明实施例提供的一种心跳频率的确定装置的结构示意图；图4是本发明实施例提供的数据处理装置的示意图。具体实施方式以下描述中，为了说明而不是为了限定，提出了诸如特定系统结构、技术之类的具体细节，以便透彻理解本发明实施例。然而，本领域的技术人员应当清楚，在没有这些具体细节的其它实施例中也可以实现本发明。在其它情况中，省略对众所周知的系统、装置、电路以及方法的详细说明，以免不必要的细节妨碍本发明的描述。为使本发明的目的、技术方案和优点更加清楚，下面将结合附图通过具体实施例来进行说明。现有技术中，基于调频连续波雷达进行人体心跳频率检测时，通常检测结果准确性较低。发明人通过研究发现，检测结果准确性较低，主要是因为：人体在FMCW雷达高分辨一维距离像中占据多个距离单元，而现有的基于FMCW雷达的呼吸心跳提取设备往往只取距离像中幅度最高点的距离单元并对此距离单元进行分析，来提取心跳。然而，由于心跳幅度很低，且受呼吸影响较大，对上述距离单元进行分析并不一定能够得到准确的心跳频率，因此，需要准确地选取最能代表心跳的距离单元进行分析，才能得到准确性高的心跳频率。基于此，本发明提出一种心跳频率的确定方法。参见图1，其示出了本发明实施例提供的一种心跳频率的确定方法的实现流程图，详述如下：步骤S101：接收多帧毫米波雷达回波信号；步骤S102：根据多帧毫米波雷达回波信号，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列；步骤S103：基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，其中，能量比值为谐波能量与主频能量的比；和/或，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元；步骤S104：根据第一目标距离单元和/或第二目标距离单元对应的心跳相位序列，确定目标心跳频率。在一实施例中，本发明的雷达由1个发射天线和1个接收天线组成。雷达正对人体架设，发射天线按帧发射毫米波雷达信号，信号形式可为调频连续波，FMCW信号的波形如图2所示。图2中f0为调频起始频率，典型频率为60GHz，T为发射一个FMCW信号的调频时长，B为调频带宽，Tframe为发射两个chirp间隔的时长。具体地，本发明通过以下三种方式来选取最能代表心跳的距离单元：第一种，基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，将第一目标距离单元作为最能代表心跳的距离单元。第二种，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元，将第二目标距离单元作为最能代表心跳的距离单元。第三种，基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，以及，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元，将第一目标距离单元和第二目标距离单元作为最能代表心跳的距离单元。进一步地，基于上述最能代表心跳的距离单元，目标心跳频率的确定方法如下：第一种，基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，根据第一目标距离单元对应的心跳相位序列，确定目标心跳频率。第二种，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元，根据第二目标距离单元对应的心跳相位序列，确定目标心跳频率。第三种，基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，以及，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元，根据第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定目标心跳频率。本发明实施例提供的心跳频率的确定方法，通过接收多帧毫米波雷达回波信号，然后根据多帧毫米波雷达回波信号，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列，再基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，和/或，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元，最后根据第一目标距离单元和/或第二目标距离单元对应的心跳相位序列，确定目标心跳频率。本发明通过采用傅里叶变换法和自相关法选取最能代表心跳的距离单元，并依据此距离单元确定心跳频率，以提高确定心跳频率的准确性。在一实施例中，步骤S102包括：对多帧毫米波雷达回波信号中的每帧毫米波雷达回波信号依次进行混频、滤波和模拟数字采样，得到每帧毫米波雷达回波信号对应的数字回波信号；对每帧毫米波雷达回波信号对应的数字回波信号进行快速傅里叶变换，确定每帧毫米波雷达回波信号对应的一维距离像；对每帧毫米波雷达回波信号对应的一维距离像依次进行相位提取、解缠和无限脉冲响应滤波，得到多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列。可选的，确定每帧毫米波雷达回波信号对应的数字回波信号包括：设毫米波雷达回波信号为FMCW回波信号，由于FMCW回波信号为模拟信号，模拟数字采样可将模拟信号转换成数字信号，同时对数字信号进行采样得到数字回波信号。其中，模拟数字采样率为fs，则一个chirp信号内的采样点数N＝fs*T，将一帧的数字回波信号记为S，其中，i_Ns＝1，2…N。之后，对S进行Nfft点的FFT，得到的FFT结果记为S_fft，S_fft表示一维距离像，是一个Nfft点的复数数组；其中，Nfft为大于N的最小2的整数次方。可选的，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列包括：提取每帧毫米波雷达回波信号对应的一维距离像中每个候选距离单元对应的相位值，将每个候选距离单元对应的相位值与上一帧毫米波雷达回波信号对应的一维距离像中相同的候选距离单元对应的相位值进行解缠，并对解缠后的相位值进行无限脉冲响应滤波，得到每帧毫米波雷达回波信号对应的每个候选距离单元对应的呼吸滤波后的相位值和心跳滤波后的相位值；将每帧毫米波雷达回波信号中相同的候选距离单元对应的呼吸滤波后的相位值进行汇总，形成每个候选距离单元对应的呼吸相位序列，以及将每帧毫米波雷达回波信号中相同的候选距离单元对应的心跳滤波后的相位值进行汇总，形成每个候选距离单元对应的心跳相位序列。具体地，多个候选距离单元包括一维距离像中幅度值最高的距离单元，以及与幅度值最高的距离单元相邻的前M个距离单元和后M个距离单元其中，M为偶数。确定多个候选距离单元的方式包括：选取每个一维距离像中幅度值最高的点作为每个一维距离像的中间距离单元；在每个一维距离像中选取与中间距离单元相邻的前M个距离单元和后M个距离单元；通过中间距离单元、前M个距离单元和后M个距离单元构成每个一维距离像中的多个候选距离单元，其中，M为偶数。进一步地，在多个候选距离单元为5个候选距离单元的情况下，确定5个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列的具体步骤如下：提取每帧毫米波雷达回波信号对应的一维距离像中每个候选距离单元对应的相位值。首先，需要在S_fft中找到幅度最高的点，将该点的位置记为ind。然后，在S_fft中，分别找到ind-2，ind-1，ind，ind+1，ind+2这五个距离单元，分别提取这五个距离单元的相位值，具体公式如下：pk＝phase)其中，k＝-2，-1，0，1，2，phase为对距离单元求相位值的操作。将每个候选距离单元对应的相位值与上一帧毫米波雷达回波信号对应的一维距离像中相同的候选距离单元对应的相位值进行解缠。当前帧中的5个距离单元中的每个距离单元的相位与其上一帧中5个距离单元中的每个距离单元的相位进行解缠，即将上一帧与当前帧相同的距离单元对应的相位值进行逐一解缠，具体公式如下：p_unwrapk＝unwrap其中，k＝-2，-1，0，1，2，unwrap是对两个相位值进行解缠的操作。在对当前帧和上一帧进行解缠会将当前帧中的5个相位进行更新，得到5个新的相位，即更新后的5个相位。也就是说，每一帧中的5个相位经过解缠后均会进行更新，可以得到所有帧更新后的5个相位。对解缠后的相位值进行无限脉冲响应滤波，得到每帧毫米波雷达回波信号对应的每个候选距离单元对应的呼吸滤波后的相位值和心跳滤波后的相位值。将解缠后的结果进行IIR滤波，即分别对解缠后的5个相位值进行呼吸IIR滤波和心跳IIR滤波，得到每帧毫米波雷达回波信号对应的每个候选距离单元对应的呼吸滤波后的相位值和心跳滤波后的相位值，具体如下：呼吸滤波后的相位：p_breathk，k＝-2，-1，0，1，2；心跳滤波后的相位：p_heartk，k＝-2，-1，0，1，2。其中，IIR滤波器为预设好的，呼吸滤波器通带为0.1～0.4Hz，心跳滤波器通带为0.6～3Hz。将每帧毫米波雷达回波信号中相同的候选距离单元对应的呼吸滤波后的相位值进行汇总，形成每个候选距离单元对应的呼吸相位序列，以及将每帧毫米波雷达回波信号中相同的候选距离单元对应的心跳滤波后的相位值进行汇总，形成每个候选距离单元对应的心跳相位序列。即将多帧毫米波雷达回波信号中相同的候选距离单元对应的呼吸、心跳滤波后的相位值保存起来，放入以下Buffer中供后续分析：呼吸Buffer：p_bueath_bufferk，k＝-2，-1，0，1，2；心跳Buffer：p_heart_bufferk，k＝-2，-1，0，1，2。在一实施例中，第一种确定目标心跳频率的方式进一步包括：对每个候选距离单元对应的呼吸相位序列进行快速傅里叶变换，得到每个候选距离单元对应的快速傅里叶变换的结果，并查找快速傅里叶变换的结果中的谱峰位置，其中，谱峰位置为一次谐波位置；基于一次谐波位置，分别计算一次谐波位置对应的二次谐波位置和三次谐波位置；从每个候选距离单元对应的快速傅里叶变换的结果中分别查找一次谐波位置、二次谐波位置和三次谐波位置对应的能量，得到谐波能量和主频能量，并基于谐波能量和主频能量确定每个候选距离单元对应的呼吸相位序列的能量比值，其中，谐波能量包括二次谐波位置对应的能量和三次谐波位置对应的能量，主频能量为一次谐波位置对应的能量；选取最小能量比值对应的候选距离单元作为第一目标距离单元；对第一目标距离单元对应的心跳相位序列进行快速傅里叶变换，得到第一目标距离单元对应的心跳相位序列的谱峰位置；计算谱峰位置与第一乘积值的商，以得到目标心跳频率，其中，第一乘积值为第一目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积。具体操作步骤如下：假设多个候选距离单元为5个候选距离单元，首先对5个候选距离单元中的每个候选距离单元的呼吸buffer进行FFT，得到5个FFT结果：fft_breathk，k＝-2，-1，0，1，2。分别找到这5个FFT结果中的谱峰位置，记为peak_breathk，k＝-2，-1，0，1，2。其中，谱峰位置即一次谐波位置，可基于一次谐波位置在对应的FFT结果中查找到一次谐波位置对应的能量，即主频能量。分别计算谱峰位置对应的二次谐波位置和三次谐波位置，二次谐波位置记为，peak_breath_2ndk，k＝-2，-1，0，1，2。其中，谐波能量包括二次谐波位置和三次谐波位置，确定二次谐波位置和三次谐波位置对应的能量与确定一次谐波位置对应的能量方法相同，此处不再赘述。分别计算5个距离单元的谐波能量与主频能量比值：比较5个距离单元的Mk，找到最小的Mk，对应的k值记为K，选取的第一目标距离单元即为ind+K。对p_heart_bufferK进行FFT，求得其谱峰位置，谱峰位置记为peak，谱峰位置对应的频率即为目标心跳频率，具体公式如下：其中，N1为心跳相位序列的相位个数，Tframe为接收毫米波雷达回波信号的间隔时长。在一实施例中，第二种确定目标心跳频率的方式进一步包括：针对每个候选距离单元，对候选距离单元对应的心跳相位序列进行自相关计算，以得到自相关结果，并查找自相关结果中的第二峰值位置；依据第二峰值位置和心跳相位序列的相位个数，计算第二峰值位置对应的周期数目；其中，第二峰值位置为除第一个自相关数值之外的自相关结果的峰值位置；针对每个候选距离单元，根据候选距离单元对应的第二峰值位置上的自相关数值、周期数目以及自相关结果中第一个自相关数值，确定候选距离单元对应的自相关结果的置信度；选取最大置信度对应的候选距离单元作为第二目标距离单元；确定第二目标距离单元对应的心跳相位序列的自相关结果中的第二峰值位置；计算第二峰值位置与第二乘积值的商，以得到目标心跳频率，其中，第二乘积值为第二目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积。具体操作步骤如下：假设多个候选距离单元为5个候选距离单元，分别对5个距离单元中的每个距离单元对应的心跳Buffer做自相关，得到5个自相关结果：Rk，k＝-2，-1，0，1，2。找到每个自相关结果的峰值位置，记为：pea_heartk，k＝-2，-1，0，1，2。计算峰值位置对应的周期数目，具体公式如下：其中：k＝-2，-1，0，1，2，N1为心跳相位序列的相位个数。计算每个距离单元自相关结果的置信度：其中：Rk为每个自相关结果的第一个点的位置的值，k＝-2，-1，0，1，2。比较5个距离单元的Ck，找到最大的Ck，对应的k值记为K，选取的第二目标距离单元即为ind+K。计算目标心跳频率：其中，N1为心跳相位序列的相位个数，Tframe为接收毫米波雷达回波信号的间隔时长。在一实施例中，第三种确定目标心跳频率的方式进一步包括：基于第一种确定目标心跳频率的方式中确定的第一目标距离单元以及第二种确定目标心跳频率的方式中确定的第二目标心跳频率，分别根据第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定第一心跳频率和第二心跳频率，将第一心跳频率和第二心跳频率进行数据运算，得到目标心跳频率，其中，数据运算包括下述任一项：求平均、中值滤波和加权平均。进一步地，分别根据第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定第一心跳频率和第二心跳频率，包括：对第一目标距离单元对应的心跳相位序列进行快速傅里叶变换，得到第一目标距离单元对应的心跳相位序列的谱峰位置；计算谱峰位置与第一乘积值的商，以得到第一心跳频率，其中，第一乘积值为第一目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积；确定第二目标距离单元对应的心跳相位序列的自相关结果中的第二峰值位置；计算第二峰值位置与第二乘积值的商，以得到第二心跳频率，其中，第二乘积值为第二目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积。具体操作步骤如下：基于第一种确定目标心跳频率的方式中确定的第一目标距离单元为ind+K。对p_heart_bufferK进行FFT，求得其谱峰位置，谱峰位置记为peak，谱峰位置对应的频率即为使用FFT法得到的第一心跳频率，具体公式如下：其中，N1为心跳相位序列的相位个数，Tframe为接收毫米波雷达回波信号的间隔时长。基于第二种确定目标心跳频率的方式中确定的第二目标距离单元即为ind+K。计算第二心跳频率：其中，N1为心跳相位序列的相位个数，Tframe为接收毫米波雷达回波信号的间隔时长。。应理解，上述实施例中各步骤的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。以下为本发明的装置实施例，对于其中未详尽描述的细节，可以参考上述对应的方法实施例。图3示出了本发明实施例提供的一种心跳频率的确定装置的结构示意图，为了便于说明，仅示出了与本发明实施例相关的部分，详述如下：如图3所示，一种心跳频率的确定装置包括：信号接收模块31、相位序列确定模块32、距离单元确定模块33和心跳频率确定模块34，具体如下：信号接收模块31，用于接收多帧毫米波雷达回波信号；相位序列确定模块32，用于根据多帧毫米波雷达回波信号，确定多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列；距离单元确定模块33，用于基于快速傅里叶变换法，确定每个候选距离单元对应的呼吸相位序列的能量比值，并根据能量比值从多个候选距离单元中选取第一目标距离单元，其中，能量比值为谐波能量与主频能量的比；和/或，基于自相关法，确定每个候选距离单元对应的心跳相位序列的自相关结果的置信度，并根据置信度从多个候选距离单元中选取第二目标距离单元；心跳频率确定模块34，用于根据第一目标距离单元和/或第二目标距离单元对应的心跳相位序列，确定目标心跳频率。在一实施例中，谐波能量包括二次谐波位置对应的能量和三次谐波位置对应的能量，主频能量为一次谐波位置对应的能量；距离单元确定模块33包括：谐波位置查找子模块，用于对每个候选距离单元对应的呼吸相位序列进行快速傅里叶变换，得到每个候选距离单元对应的快速傅里叶变换的结果，并查找快速傅里叶变换的结果中的谱峰位置，其中，谱峰位置为一次谐波位置；谐波位置计算子模块，用于基于一次谐波位置，分别计算一次谐波位置对应的二次谐波位置和三次谐波位置；能量比值确定子模块，用于从每个候选距离单元对应的快速傅里叶变换的结果中分别查找一次谐波位置、二次谐波位置和三次谐波位置对应的能量，得到谐波能量和主频能量，并基于谐波能量和主频能量确定每个候选距离单元对应的呼吸相位序列的能量比值；第一目标距离单元确定子模块，用于选取最小能量比值对应的候选距离单元作为第一目标距离单元。在一实施例中，距离单元确定模块33包括：峰值位置查找子模块，用于针对每个候选距离单元，对候选距离单元对应的心跳相位序列进行自相关计算，以得到自相关结果，并查找自相关结果中的第二峰值位置；周期数目计算子模块，用于依据第二峰值位置和心跳相位序列的相位个数，计算第二峰值位置对应的周期数目；其中，第二峰值位置为除第一个自相关数值之外的自相关结果的峰值位置；置信度确定子模块，用于针对每个候选距离单元，根据候选距离单元对应的第二峰值位置上的自相关数值、周期数目以及自相关结果中第一个自相关数值，确定候选距离单元对应的自相关结果的置信度；第二目标距离单元确定子模块，用于选取最大置信度对应的候选距离单元作为第二目标距离单元。在一实施例中，心跳频率确定模块34包括：谱峰位置计算子模块，用于对第一目标距离单元对应的心跳相位序列进行快速傅里叶变换，得到第一目标距离单元对应的心跳相位序列的谱峰位置；目标心跳频率计算子模块，用于计算谱峰位置与第一乘积值的商，以得到目标心跳频率，其中，第一乘积值为第一目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积。在一实施例中，心跳频率确定模块34包括：第二峰值位置确定子模块，用于确定第二目标距离单元对应的心跳相位序列的自相关结果中的第二峰值位置；目标心跳频率子模块，用于计算第二峰值位置与第二乘积值的商，以得到目标心跳频率，其中，第二乘积值为第二目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积。在一实施例中，心跳频率确定模块34包括：心跳频率确定子模块，用于分别根据第一目标距离单元和第二目标距离单元对应的心跳相位序列，确定第一心跳频率和第二心跳频率；目标心跳频率确定子模块，用于将第一心跳频率和第二心跳频率进行数据运算，得到目标心跳频率，其中，数据运算包括下述任一项：求平均、中值滤波和加权平均。在一实施例中，心跳频率确定子模块包括：谱峰位置计算单元，用于对第一目标距离单元对应的心跳相位序列进行快速傅里叶变换，得到第一目标距离单元对应的心跳相位序列的谱峰位置；第一心跳频率计算单元，用于计算谱峰位置与第一乘积值的商，以得到第一心跳频率，其中，第一乘积值为第一目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积；第二峰值位置确定单元，用于确定第二目标距离单元对应的心跳相位序列的自相关结果中的第二峰值位置；第二心跳频率计算单元，用于计算第二峰值位置与第二乘积值的商，以得到第二心跳频率，其中，第二乘积值为第二目标距离单元对应的心跳相位序列的相位个数和接收毫米波雷达回波信号的间隔时长的乘积。在一实施例中，相位序列确定模块32包括：信号转换子模块，用于对多帧毫米波雷达回波信号中的每帧毫米波雷达回波信号依次进行混频、滤波和模拟数字采样，得到每帧毫米波雷达回波信号对应的数字回波信号；距离像计算子模块，用于对每帧毫米波雷达回波信号对应的数字回波信号进行快速傅里叶变换，确定每帧毫米波雷达回波信号对应的一维距离像；相位序列计算子模块，用于对每帧毫米波雷达回波信号对应的一维距离像依次进行相位提取、解缠和无限脉冲响应滤波，得到多个候选距离单元中的每个候选距离单元对应的呼吸相位序列和心跳相位序列。在一实施例中，相位序列计算子模块包括：滤波后的相位确定单元，用于提取每帧毫米波雷达回波信号对应的一维距离像中每个候选距离单元对应的相位值，将每个候选距离单元对应的相位值与上一帧毫米波雷达回波信号对应的一维距离像中相同的候选距离单元对应的相位值进行解缠，并对解缠后的相位值进行无限脉冲响应滤波，得到每帧毫米波雷达回波信号对应的每个候选距离单元对应的呼吸滤波后的相位值和心跳滤波后的相位值；相位序列确定单元，用于将每帧毫米波雷达回波信号中相同的候选距离单元对应的呼吸滤波后的相位值进行汇总，形成每个候选距离单元对应的呼吸相位序列，以及将每帧毫米波雷达回波信号中相同的候选距离单元对应的心跳滤波后的相位值进行汇总，形成每个候选距离单元对应的心跳相位序列。在一实施例中，多个候选距离单元包括一维距离像中幅度值最高的距离单元，以及与幅度值最高的距离单元相邻的前M个距离单元和后M个距离单元其中，M为偶数。图4是本发明实施例提供的数据处理装置的示意图。如图4所示，该实施例的数据处理装置4包括：处理器40、存储器41以及存储在存储器41中并可在处理器40上运行的计算机程序42。处理器40执行计算机程序42时实现上述各个心跳频率的确定方法实施例中的步骤，例如图1所示的步骤101至步骤104。或者，处理器40执行计算机程序42时实现上述各装置实施例中各模块/单元的功能，例如图3所示模块/单元31至34的功能。示例性的，计算机程序42可以被分割成一个或多个模块/单元，一个或者多个模块/单元被存储在存储器41中，并由处理器40执行，以完成本发明。一个或多个模块/单元可以是能够完成特定功能的一系列计算机程序指令段，该指令段用于描述计算机程序42在数据处理装置4中的执行过程。例如，计算机程序42可以被分割成图3所示的模块/单元31至34。数据处理装置4可以是桌上型计算机、笔记本、掌上电脑及云端服务器等计算设备。数据处理装置4可包括，但不仅限于，处理器40、存储器41。本领域技术人员可以理解，图4仅仅是数据处理装置4的示例，并不构成对数据处理装置4的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件，例如数据处理装置还可以包括输入输出设备、网络接入设备、总线等。所称处理器40可以是中央处理单元，还可以是其他通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。存储器41可以是数据处理装置4的内部存储单元，例如数据处理装置4的硬盘或内存。存储器41也可以是数据处理装置4的外部存储设备，例如数据处理装置4上配备的插接式硬盘，智能存储卡，安全数字卡，闪存卡等。进一步地，存储器41还可以既包括数据处理装置4的内部存储单元也包括外部存储设备。存储器41用于存储计算机程序以及数据处理装置所需的其他程序和数据。存储器41还可以用于暂时地存储已经输出或者将要输出的数据。所属领域的技术人员可以清楚地了解到，为了描述的方便和简洁，仅以上述各功能单元、模块的划分进行举例说明，实际应用中，可以根据需要而将上述功能分配由不同的功能单元、模块完成，即将装置的内部结构划分成不同的功能单元或模块，以完成以上描述的全部或者部分功能。实施例中的各功能单元、模块可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中，上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。另外，各功能单元、模块的具体名称也只是为了便于相互区分，并不用于限制本申请的保护范围。上述系统中单元、模块的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述或记载的部分，可以参见其它实施例的相关描述。本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。在本发明所提供的实施例中，应该理解到，所揭露的装置/终端和方法，可以通过其它的方式实现。例如，以上所描述的装置/终端实施例仅仅是示意性的，例如，模块或单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通讯连接可以是通过一些接口，装置或单元的间接耦合或通讯连接，可以是电性，机械或其它的形式。作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。上述集成的单元既可以采用硬件的形式实现，也可以采用软件功能单元的形式实现。集成的模块/单元如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明实现上述实施例方法中的全部或部分流程，也可以通过计算机程序来指令相关的硬件来完成，的计算机程序可存储于一计算机可读存储介质中，该计算机程序在被处理器执行时，可实现上述各个心跳频率的确定方法实施例的步骤。其中，计算机程序包括计算机程序代码，计算机程序代码可以为源代码形式、对象代码形式、可执行文件或某些中间形式等。计算机可读介质可以包括：能够携带计算机程序代码的任何实体或装置、记录介质、U盘、移动硬盘、磁碟、光盘、计算机存储器、只读存储器、随机存取存储器、电载波信号、电信信号以及软件分发介质等。需要说明的是，计算机可读介质包含的内容可以根据司法管辖区内立法和专利实践的要求进行适当的增减，例如在某些司法管辖区，根据立法和专利实践，计算机可读介质不包括是电载波信号和电信信号。以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围，均应包含在本发明的保护范围之内。
