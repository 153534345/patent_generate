标题title
具有每叶场宽的二元多叶准直器递送
摘要abst
一种放射处置递送系统，包括：直线加速器；以及多叶准直器，其与LINAC的远端耦接，其中，MLC具有被组织为多个相对叶对的两排叶。该系统还包括处理装置，该处理装置可操作地耦接至LINAC和MLC，以在放射处置系统的放射束被激活的同时控制MLC的多个叶对，使得对于与离散时间区间内的放射束位置范围相对应的多个放射束递送位置区段中的各放射束递送位置区段，所述多个相对叶对中的各叶对在所述离散时间区间中的某个时间分数内开放为固定开口并在所述离散时间区间中的剩余时间分数内闭合。
权利要求书clms
1.一种控制放射处置递送系统的双排多叶准直器即双排MLC的方法，包括：在放射束被激活的同时确定多个放射束递送位置区段以包含MLC叶控制指令，其中，所述多个放射束递送位置区段中的各放射束递送位置区段与离散时间区间内的放射束位置的范围相对应；针对所述多个放射束递送位置区段中的各放射束递送位置区段生成多个开口，所述多个开口中的各开口与所述MLC的多个叶对中的一个叶对相对应，其中，所述多个开口中的两个或更多个开口与不同宽度相对应；针对所述多个放射束递送位置区段中的各放射束递送位置区段生成多个叶开放时间分数，所述多个叶开放时间分数中的各叶开放时间分数与所述MLC的多个叶对中的一个叶对相对应；以及在所述放射处置递送系统的放射束被激活的同时利用处理装置来控制所述MLC的多个叶对，使得在与放射束位置的范围相对应的离散时间区间期间所述多个叶对中的各叶对在多个叶开放时间分数中的相应叶开放时间分数内开放为所述多个开口中的相应开口。2.根据权利要求1所述的方法，其中，所述多个放射束递送位置区段与从以下项中的至少之一所递送的放射束相对应：不同位置；以及不同方向。3.根据权利要求1所述的方法，其中，所述离散时间区间期间的多个叶开放时间分数中的两个或更多个叶开放时间分数是不同的。4.根据权利要求2所述的方法，其中，在所述不同位置遵循在处置靶的长度上扫过放射束的线性轨迹的同时，所述不同方向保持恒定。5.根据权利要求2所述的方法，其中，所述不同方向是非共面的。6.根据权利要求2所述的方法，其中，所述多个开口和所述多个叶开放时间分数形成不同强度的重叠放射场，所述重叠放射场相结合地产生被递送至处置靶的强度调制通量场。7.根据权利要求1所述的方法，其中，所述多个开口符合处置靶的外形，沿着所述放射束向后投影到所述MLC，并且在所述MLC内的多个叶对的最大行程范围内。8.根据权利要求1所述的方法，其中，所述放射束位置的范围沿着所述放射处置递送系统的机架的弧。9.根据权利要求8所述的方法，其中，所述弧与约七度的机架旋转相对应。10.一种放射处置递送系统，包括：直线加速器即LINAC，用以在远端输出放射束；多叶准直器即MLC，其与所述LINAC的远端耦接，其中，所述MLC具有被组织为多个相对叶对的两排叶；以及处理装置，其可操作地耦接至所述LINAC和所述MLC，以进行：在所述放射处置递送系统的放射束被激活的同时控制所述MLC的多个叶对，使得对于与离散时间区间内的放射束位置的范围相对应的多个放射束递送位置区段中的各放射束递送位置区段，所述多个相对叶对中的各叶对在所述离散时间区间中的某个时间分数内开放为固定开口并在所述离散时间区间中的剩余时间分数内闭合。11.根据权利要求10所述的系统，其中，所述MLC是电磁致动多叶准直器即eMLC。12.根据权利要求10所述的系统，其中，所述LINAC被安装在旋转机架上，以及从所述放射束位置的范围递送的放射束围绕处置靶旋转。13.根据权利要求12所述的系统，其中，所述处置靶轴向地移动通过所述旋转机架的孔，以及从所述放射束位置的范围递送的放射束遵循围绕所述处置靶的螺旋路径。14.根据权利要求10所述的系统，其中，所述LINAC和所述MLC被安装在机器人臂上，以及从所述放射束位置的范围递送的放射束是非共面的。15.根据权利要求10所述的系统，其中，所述固定开口和所述时间分数形成不同强度的重叠放射场，所述重叠放射场相结合地产生被递送至处置靶的强度调制通量场。16.根据权利要求10所述的系统，其中，所述固定开口符合处置靶的外形，沿着所述放射束向后投影到所述MLC并且在所述MLC内的多个叶对的最大行程范围内。17.根据权利要求10所述的系统，其中，所述多个放射束递送位置区段与从不同位置以及不同方向中至少之一递送的放射束相对应，以及所述不同位置以及所述不同方向中至少之一遵循围绕处置靶的螺旋路径。18.根据权利要求10所述的系统，其中，所述系统是螺旋放射处置递送系统。19.根据权利要求10所述的系统，其中，所述系统是基于机器人的LINAC放射处置系统。20.根据权利要求10所述的系统，其中，所述系统是基于机架的放射处置递送系统。21.一种非暂时性计算机可读介质，其包括指令，所述指令在由放射处置递送系统的处理装置执行时使所述处理装置：在放射束被激活的同时生成多个放射束递送位置区段以包含MLC叶控制指令，其中，所述多个放射束递送位置区段中的各放射束递送位置区段与离散时间区间内的放射束位置的范围相对应；针对所述多个放射束递送位置区段中的各放射束递送位置区段生成多个开口，所述多个开口中的各开口与所述MLC的多个叶对中的一个叶对相对应；针对所述多个放射束递送位置区段中的各放射束递送位置区段生成多个叶开放时间分数，所述多个叶开放时间分数中的各叶开放时间分数与所述MLC的多个叶对中的一个叶对相对应；以及在所述放射处置递送系统的放射束被激活的同时利用所述处理装置来控制所述MLC的多个叶对，使得在与放射束位置的范围相对应的离散时间区间期间所述多个叶对中的各叶对在多个叶开放时间分数中的相应叶开放时间分数内开放为所述多个开口中的相应开口。22.根据权利要求21所述的非暂时性计算机可读介质，其中，所述多个放射束递送位置区段与从以下项中的至少之一所递送的放射束相对应：不同位置；以及不同方向。23.根据权利要求22所述的非暂时性计算机可读介质，其中，所述不同位置和所述不同方向中至少之一遵循围绕处置靶的螺旋路径。24.根据权利要求22所述的非暂时性计算机可读介质，其中，在所述不同位置遵循在处置靶的长度上扫过放射束的线性轨迹的同时，所述不同方向保持恒定。25.根据权利要求22所述的非暂时性计算机可读介质，其中，所述不同方向是非共面的。26.根据权利要求21所述的非暂时性计算机可读介质，其中，所述多个开口和所述多个叶开放时间分数形成不同强度的重叠放射场，所述重叠放射场相结合地产生被递送至处置靶的强度调制通量场。27.根据权利要求21所述的非暂时性计算机可读介质，其中，所述多个开口符合处置靶的外形，沿着所述放射束向后投影到所述MLC，并且在所述MLC内的多个叶对的最大行程范围内。28.根据权利要求21所述的非暂时性计算机可读介质，其中，所述放射束位置的范围沿着所述放射处置递送系统的机架的弧。29.根据权利要求28所述的非暂时性计算机可读介质，其中，所述弧与约七度的机架旋转相对应。
说明书desc
相关申请根据美国法典第35条第119款，本申请要求提交于2018年8月6日的美国专利申请16/056,114的权益，其全部内容通过引用而并入于此。技术领域本发明涉及经由放射处置系统中的具有每叶场宽的二元多叶准直器递送。背景技术在放射处置中，经由来自患者体外的源的放射处置束而递送的放射剂量被递送至体内的靶区域，以破坏肿瘤细胞。必须注意以在使递送至预期处置区域的放射量最大化的同时使递送至非处置区域的放射量最小化。在放射处置中，放射处置束孔径使放射处置束成形为尽可能接近地符合预期靶区域。放射处置束孔径通常由MLC限定。附图说明根据以下给出的详细描述以及本发明的各种实现的附图，将更全面地理解本发明。图1A示出根据这里描述的实施例的螺旋放射递送系统。图1B示出根据这里描述的实施例的可以使用的机器人放射处置系统。图1C示出根据这里描述的实施例的基于c形臂机架的放射处置系统。图2A示出根据这里描述的实施例的用以向靶区域提供放射处置剂量的多叶MLC。图2B示出根据这里描述的实施例的多叶MLC的底视图。图2C示出根据这里描述的实施例的多叶高速MLC的透视图。图2D示出根据这里描述的实施例的多叶高速MLC的叶的顶视图。图2E示出根据这里描述的实施例的多叶高速MLC所用的典型叶布置。图3A～C示出根据这里描述的实施例的典型叶开放时间轮廓。图3D～F示出根据这里描述的实施例的典型优化叶开放时间轮廓。图3G示出根据这里描述的实施例的并入最大速度的典型叶开放时间轮廓。图4A～C示出根据这里描述的实施例的符合靶区域的各种典型叶布置。图5A是示出根据这里描述的实施例的具有高速MLC的快速滑动窗所用的方法的流程图。图5B是示出根据实施例的具有每叶场宽的二元MLC递送所用的方法的流程图。图6示出根据这里描述的实施例的、在发生进行放射处置时可以使用的不同系统的示例。具体实施方式这里描述了具有每叶场宽的二元多叶准直器递送所用的方法和设备的实施例。在放射处置系统中，可以使用MLC的相对的两排叶来创建一个或多个模式，该一个或多个模式使放射处置束成形以符合靶区域。对于具有不均匀形状的靶区域，可以利用IMRT来递送更复杂的放射处置剂量。强度调制放射治疗包括各种放射处置技术，该放射处置技术本质上改变被引导至靶区域处的放射处置束强度。在IMRT中，与其使MLC将放射处置束成形为匹配特定外形，不如使用MLC来创建经由不同强度的重叠放射场生成期望强度调制和期望3D剂量分布的束形状的阵列。在一些实施例中，二元MLC包括被布置在相对的两排中的多个叶对。使用各排叶，以通过将叶定位在相对于束的闭合位置或开放位置来形成处置切片。在一些实施例中，上下场宽在MLC的所有叶上是恒定的。不利地，这意味着这样的系统不能使放射处置束的场沿着靶长度符合靶轮廓。由于这种限制，二元MLC中的场大小一般被限制为小于5cm。由于对非靶区域的放射暴露量，较大场大小对于处置大多数靶区域一般是不期望的。针对以上问题的一种解决方案是使用动态钳口，以使场在上端和下端更好地符合靶区域。然而，这种技术不使场沿其长度符合靶的边缘，这是因为场大小由钳口限定并且在整个MLC上是恒定的。另一解决方案是使用非二元、符合形状的MLC。然而，这种MLC可能较慢，从而可能对处置时间产生负面影响。这里提供了另一解决方案。有利地，这里描述的实施例允许MLC使处置束场符合靶区域，同时使针对非处置区域的放射暴露最小化。此外，这里描述的实施例允许更大的场大小，从而可以增加处置的速度。此外，如这里描述的，这里描述的实施例允许MLC不仅在IEC-Xb方向上、而且还在IEC-Yb方向上调制通量场。此外，这里描述的实施例允许在纵向方向上有更多的调制机会。这可以允许处置规划具有较宽的间距，其中通过MLC叶的纵向调制来处理sup-inf调制。可选地，可以利用在相同sup-inf区域上调制处置束的附加机会来维持较紧的间距。这里描述的系统和方法经由高速MLC的适用来实现以上优点。如这里所描述的，这种高速MLC的一个示例是电磁MLC。然而，应当注意，高速MLC的可选变型可用于进行这里描述的操作。就本发明而言，高速MLC可以是能够进行非常快的叶运动的任何MLC。应当注意，尽管在整个本发明中使用“eMLC”，但是这里描述的系统和方法与任何其它形式的高速MLC同样兼容。此外，就本说明书而言，术语“通量”、“强度”和“剂量”使用如下。通量是穿过与放射束垂直的单位面积的光子或x射线的数量。通量率是每单位时间的通量。强度是单位时间内穿过单位面积的能量。通量和强度与患者体内发生的情况无关，更确切地说不是剂量。剂量是由于放射影响组织而被组织吸收的能量。放射剂量以灰度为单位进行测量，其中各Gy与单位质量的组织中所吸收的固定能量相对应。剂量与通量不同，但随着通量的增加/减少而增加/减少。术语“靶”和“靶区域”可以是指处置区域附近的一个或多个基准点。在另一实施例中，靶可以是骨结构。在又一实施例中，靶可以是指患者的软组织。如这里描述的，靶可以是能够被识别并跟踪的任何定义结构或区域。图1A示出根据本发明的实施例的螺旋放射递送系统800。螺旋放射递送系统800可以包括安装到环形机架820的直线加速器850。LINAC 850可用于通过将电子束引导朝向x射线发射靶来生成放射束。处置束可以向靶区域递送放射。处置系统还包括与LINAC 850的远端耦接的多叶准直器860。如这里所描述的，MLC 860可以是eMLC。MLC包括用于容纳多个叶的壳体，其中这多个叶可移动地调整MLC的孔径以实现处置束的成形。环形机架820大致具有圆环形状，其中患者830延伸穿过环/圆环的孔，并且LINAC 850安装在环的周边并且围绕穿过中心的轴旋转，以利用从患者周围的一个或多个角度递送的束来辐照靶区域。在处置期间，患者830可以在处置床840上同步地移动通过机架的孔。螺旋放射递送系统800包括成像系统，该成像系统包括作为成像源的LINAC 850以及x射线检测器870。LINAC 850可用于通过将入射在x射线检测器870上的一系列x射线束引导至患者830的感兴趣区域处来生成ROI的兆伏级x射线图像，其中x射线检测器870与LINAC 850相对以对患者830进行成像从而进行摆位、并生成处置前图像。在一个实施例中，螺旋放射递送系统800还可以包括辅助成像系统，该辅助成像系统包括kV级成像源810，该kV级成像源810相对于LINAC 850正交地地安装在环形机架820上，并且可以对准以将成像x射线束投影在靶区域上并在穿过患者130之后照射检测器的成像平面。图1B示出根据这里描述的可选实施例的可以使用的放射处置系统1200。如图所示，图1B示出放射处置系统1200的配置。在所示的实施例中，放射处置系统1200包括用作放射处置源的直线加速器1201、以及与LINAC 1201的远端耦接以对处置束进行成形的MLC 1205。在一个实施例中，LINAC 1201安装在具有多个自由度的机器人臂1202的一端以对LINAC 1201进行定位，从而在患者周围的操作体积中利用从多个角度、在多个平面中递送的束来辐照病理解剖结构。处置可以涉及具有单个等中心点、多个等中心点或具有非等中心趋向的束路径。在处置期间，可以通过移动机器人臂1202来将LINAC 1201定位在多个不同节点处。在节点处，LINAC 1201可以将一个或多个放射处置束递送至靶，其中放射束形状由MLC 1205中的叶位置确定。节点可以围绕患者被布置成近似球形的分布。节点的具体数量以及在各节点处施加的处置束的数量可以根据要处置的病理解剖结构的位置和类型而变化。在另一实施例中，在正递送放射时，机器人臂1202及其末端的LINAC 1201可以在节点之间进行连续运动。通过在LINAC 1201的连续运动期间在MLC 1205中的叶的快速运动来确定放射束形状和2D强度图。放射处置系统1200包括成像系统1210，该成像系统1210具有与x射线源1203A和1203B以及固定x射线检测器1204A和1204B相连接的处理装置1230。可选地，x射线源1203A、1203B和/或x射线检测器1204A、1204B可以是移动的，其中在这种情况下，它们可被重新定位成保持与靶的对准、或可选地从不同取向对靶进行成像或者获取多个x射线图像并重建三维锥形束CT。在一个实施例中，如本领域技术人员将理解的，x射线源不是点源，而是x射线源阵列。在一个实施例中，LINAC 1201用作成像源，其中LINAC电力水平降低至成像用的可接受水平。成像系统1210可以进行诸如锥形束CT或螺旋兆伏级计算机断层成像等的计算机断层成像，并且成像系统功能1210所生成的图像可以是二维或三维的。两个x射线源1203A和1203B可以安装在手术室的天花板上的固定位置处，并且可以对准以将来自两个不同角度位置的x射线成像束投影成在机器等中心点处相交并在穿过患者之后照射相应检测器1204A和1204B的成像平面。在一个实施例中，成像系统1210提供靶和周围感兴趣体积的立体成像。在其它实施例中，成像系统1210可以包括多于或少于两个的x射线源、以及多于或少于两个的检测器，并且任意检测器可以是可移动的，而不是固定的。在另外的其它实施例中，x射线源和检测器的位置可以互换。如本领域技术人员所公知的，检测器1204A和1204B可以由用于将x射线转换为可见光的闪烁材料、以及用于将光转换为数字图像的CMOS或CCD成像单元的阵列制成，其中在用于将数字图像的坐标系变换为参考图像的坐标系的图像配准过程期间，可以将数字图像与参考图像进行比较。参考图像可以例如是数字重建放射影像，其中该数字重建放射影像是基于通过将射线投射通过CT图像来模拟x射线图像形成过程、从3D CT图像生成的虚拟x射线图像。在一个实施例中，IGRT递送系统1200还包括辅助成像系统1239。成像系统1239是锥形束计算机断层成像的成像系统，例如，medPhoton ImagingRing系统。可选地，可以使用其它类型的体积成像系统。辅助成像系统1239包括附接至臂和轨道系统的可旋转机架1240，其中臂和轨道系统使可旋转机架1240沿着一个或多个轴移动。成像源1245和检测器1250安装到可旋转机架1240。可旋转机架1240可以围绕从处置床的头部延伸至脚部的轴360度旋转。因此，成像源1245和检测器1250可以以多个不同角度定位。在一个实施例中，成像源1245是x射线源，并且检测器1250是x射线检测器。在一个实施例中，辅助成像系统1239包括可单独旋转的两个环。成像源1245可以安装到第一环，并且检测器1250可以安装到第二环。在一个实施例中，可旋转机架1240在放射处置递送期间置于处置床的脚部，以避免与机器人臂1202的碰撞。如图1B所示，图像引导放射处置系统1200还可以与处置递送工作站150相关联。处置递送工作站可以远离放射处置系统1200地位于与放射处置系统1200和患者所在的处置室不同的房间中。如这里所述，处置递送工作站150可以包括处理装置和存储器，其中处理装置和存储器根据基于一个或多个图像配准的靶运动检测来修改到患者1225的处置递送。图1C示出C形臂放射递送系统1400。在一个实施例中，在C形臂系统1400中，LINAC的束能量可以在处置期间进行调整，并且可以允许LINAC用于x射线成像和放射处置这两者。在另一实施例中，系统1400可以包括用以生成x射线图像的板载kV级成像系统、以及用以生成较高能量的治疗放射束的单独LINAC。系统1400包括机架1410、LINAC 1420、与LINAC1420的远端耦接以对束进行成像的MLC 1470、以及射野成像检测器1450。机架1410可以旋转到与所选投影相对应的角度，并且用于获取处置床1440上的患者1430的VOI的x射线图像。在包括射野成像系统的实施例中，LINAC 1420可以生成穿过患者1430的靶并且入射在射野成像检测器1450上的x射线束，从而创建靶的x射线图像。在已经生成靶的x射线图像之后，可以增加LINAC 1420的束能量，因此LINAC 1420可以生成用以处置患者1430的靶区域的射束。在另一实施例中，kV级成像系统可以生成穿过患者1430的靶的x射线束，从而创建靶的x射线图像。在一些实施例中，射野成像系统可以在处置的递送期间获取射野图像。射野成像检测器1450可以测量束穿过患者1430之后的出射放射通量。这可以使得能够在射野图像内定位内部或外部基准点或解剖结构。可选地，这里所述的kV级成像源或射野成像器和操作方法可以与另外的其它类型的基于机架的系统一起使用。在一些基于机架的系统中，机架使kV级成像源和LINAC围绕穿过等中心点的轴旋转。基于机架的系统包括大致具有圆环形状的环形机架，其中患者的身体延伸穿过环/圆环的孔，并且kV级成像源和LINAC安装在环的圆周上并且围绕穿过等中心点的轴旋转。基于机架的系统还可以包括C形臂机架，其中kV级成像源和LINAC在C形臂机架上以悬臂状方式安装在穿过等中心点的轴上并围绕该轴旋转。在另一实施例中，kV级成像源和LINAC可用于基于机器人臂的系统，其中该系统包括kV级成像源和LINAC如上所述安装至的机器人臂。本发明的方面还可用于诸如以下的其它这类系统：基于机架的LINAC系统、与放射治疗和放射外科手术相关联的静态成像系统、使用一体化图像引导的质子治疗系统、介入性放射学以及术中x射线成像系统等。图2A示出根据这里描述的实施例的用以向靶区域提供放射处置剂量的多叶准直器31。MLC 31包括相对的两排叶33，其中各叶37可以在放射场中连续定位。两排叶33被定位成使束30准直成期望形状。在一个实施例中，各叶37可以行进超过准直器的中点，以在实现期望准直时提供灵活性。该配置示出完全开放、部分开放和闭合的叶状态。在放射治疗的示例中，各机架角度具有与该特定机架角度相关联的一个束，该束30继而通过MLC准直成多个形状。处置束30穿过由叶37形成的成形孔径47。所得到的准直束继续到患者38体内的靶14上。图2A还示出可以如何将处置束可视化或概念化为许多不同的小束49。MLC 31的叶37移动到各个位置以实现针对指定的时间段的期望的形状或孔径，从而实现该特定束的通量图51。概念化小束的调制通过顺序且单调地将叶移动到期望位置以实现期望形状或孔径来实现，使得概念化小束被暴露的时间控制该小束的强度。在一个实施例中，这里的“单调”意味着有序的孔径序列，其中该序列由从一个孔径到后续孔径的连续体决定，或者其中在给定孔径系列期间，各个叶沿一个方向递增。换句话说，孔径的序列将由MLC的机械限制决定，而不是由如何实现更优的处置递送决定。在一个实施例中，序列将从孔径1开始、然后是2、然后是3等等，而不是从1到3、然后到5、然后返回到2。MLC可以递送形状的序列，而不是使用单个共形形状。在任何给定机架位置处接收到的净放射量基于不同形状允许放射通过或阻塞的程度。如图2A中所见，所示的MLC 31的形状不直接与通量图51的小束强度相对应。如将理解的，所描绘的通量图示出MLC针对该特定机架角度所采取的多种形状的强度的累积。传统成形MLC的共同限制是，限定形状的叶移动得相对缓慢。使用大量形状或需要大的叶运动的形状可能导致更长的患者处置。同样，叶的速度可以限制传统成形MLC递送时间敏感处置的同步运动)的能力。部分由于这些原因，现有2D强度图递送技术被限制为从静态位置递送的束。可选地，允许放射源的连续运动的现有系统一般仅允许单个孔径形状或随着放射源移动从一个孔径形状变形到另一孔径形状，并且不允许从各放射源位置递送2D强度图。图2B示出根据这里描述的实施例的多叶MLC 61的底视图。二元MLC 61具有布置在两排65、67中的多个叶63。使用各排叶，以通过将叶定位在相对于束的闭合位置或开放位置来形成处置切片。如图2B所示，叶可以协调工作，以同时开放、同时闭合、或者仅一个叶开放/闭合。在传统的二元MLC中，叶63在整个单个位置区段期间开放至相同的、均匀的宽度。在传统的成形MLC中，叶63可以在整个单个位置区段期间开放至不同的各个宽度。传统的二元MLC的共同限制是，在各位置区段期间，叶63可能不针对任意时间分数内开放至各种不同的宽度。因此，在使针对非靶区域的放射暴露最小化的同时将放射束成形到靶区域可能是困难的。有利地，这里描述的方法和系统允许成形MLC的益处，同时维持二元MLC的速度。图2C示出根据这里描述的实施例的多叶高速MLC 62的透视图。在一个实施例中，放射调制装置包括电磁致动MLC62，其包括可操作地从位置移动到另一位置以提供强度调制的多个叶66。叶66可以以足够的速度移动到最小开放位置和最大开放位置之间的任何位置，使得叶定序或定位不会显著地受到任何单个叶的任何先前或未来位置的影响。换句话说，叶速度足以使得MLC的力学不会过度地影响在给定的任何时间针对放射治疗处置或分数的递送的叶位置的确定。各叶66由诸如马达或磁驱动等的致动器独立地控制，以使得如在下文中更详细地描述，叶66可控制地从完全开放、完全闭合移动或者移动到开放和闭合之间的任何位置。致动器可以由计算机74和/或控制器适当地控制。在一个实施例中，MLC 62与放射处置递送系统的LINAC的远端耦接。计算机74的处理装置可以在放射处置系统的放射束被激活的同时控制MLC 62的多个叶对66，使得对于与离散时间区间内的放射束位置范围相对应的多个放射束递送位置区段中的各放射束递送位置区段，多个相对叶对66中的各叶对在离散时间区间中的某个时间分数内开放为固定开口并在离散时间区间中的剩余时间分数内闭合。在一个实施例中，固定开口和时间分数形成不同强度的重叠放射场，这些重叠放射场相结合地产生被递送至处置靶的强度调制通量场。在一个实施例中，固定开口符合处置靶的外形，沿着放射束向后投影到MLC，并且在MLC内的多个叶对的最大行程范围内。针对图4A～4C和图5B进一步描述这一概念。在一个实施例中，计算机74的处理装置可以控制MLC 62以在用于将通量场细分为2D网格的多个子束上调制放射束的子束强度，并且在机架连续移动的同时，从多个机架角度递送多个独立的2D子束强度模式。针对图3A～3F和图5A进一步描述该概念。在一个实施例中，包括MLC 62的LINAC被安装在旋转机架上，其中从放射束位置范围递送的放射束围绕处置靶旋转。处置靶可以轴向移动通过旋转机架的孔，并且从放射束位置范围递送的放射束可以遵循围绕处置靶的螺旋路径。在另一实施例中，LINAC和MLC 62被安装在机器人臂上，并且从放射束位置范围递送的放射束是非共面的。图2D示出根据这里描述的实施例的多叶高速MLC 240的叶的顶视图。MLC 240的中心部分302包括内部叶引导件301、孔径1050以及位于叶引导件301的内部支撑件之间的各个位置的14个叶对。虽然示出14个叶对，但是可以根据特定系统的设计要求来提供更多或更少的叶对。在一个实施例中，存在64个叶对。在另一实施例中，存在96个叶对。在又一实施例中，存在32个叶对。显然，放射通过准直器的该区段302来进行准直。在图2D中，各叶被定位在特定位置以限定放射可以穿过的特定孔径或形状1050。使用这里描述的控制方案和驱动器来控制叶对1010和1011至1038和1039，以实现同步的体积和强度调制。在可选方面中，一个或多个可控制钳口用于提供由内边缘301i和框架97A、97B限定的束的主准直。另外或可选地，可以调整一对或多对钳口以将主准直束的大小减小到小于框架大小。图2E示出根据这里描述的实施例的多叶高速MLC所用的典型叶布置。具有中心线1030的准直场1040由一对钳口或其它准直器装置提供。在例示性实施例中，两个叶形成用于对准直场1040进行成形和调制的互补叶对。例如，叶1010和1011是一个叶对。叶1018、1019是另一叶对，并且叶1024、1025是又一叶对。各对中的各叶可以定位在场1040内的任何位置。叶对内的各叶的内边缘彼此面对并且可以产生开口，由各叶对形成的开口的集合形成孔径1050。孔径1050与先前描述的图2D的孔径相对应，并且根据处置规划设置。在一个实施例中，孔径1050是在处置规划过程中对患者给予放射治疗之前确定的，并且在处置规划的递送期间在特定点出现。如这里所描述的，孔径1050可以根据多个因素改变。这里描述的高速MLC的实施例单独地或通过提供快速状态控制同时组合地实现体积和强度调制。图3A～3C示出根据这里描述的实施例的典型叶开放时间轮廓。与使用传统MLC不同，通过使用eMLC，可以精确地控制沿着叶对的行进方向在各点处发送的通量，同时持续移动的放射源穿过短到足以被认为是一个位置的弧。为了生成用于这种高速MLC的规划，可以确定叶开放时间轮廓。在一个实施例中，叶开放时间轮廓指示离散时间区间内的叶对的开放时间。为了生成eMLC规划，可以将各位置区段中的各叶对的叶开放时间轮廓分割为离散小束。如以下描述的，优化器可以为各小束确定理想的叶开放时间。根据叶开放时间轮廓，可以生成各叶对的前叶和后叶运动轮廓，从而仅允许叶在各位置区段中沿单一方向移动。在一个实施例中，叶在连续位置区段中在从后到前移动和从前到后移动之间交替，因此当叶对在一个位置区段中完成其行进时，该叶对将就位以在下一位置区段中开始其行进。图3A示出示例性叶开放时间轮廓。如图所示，由位于IEC-Yb轴上的条表示的叶对开放时间对于各叶对可能是不同的。注意，在上述的叶运动轮廓算法中，递送所有叶对开放时间所需的总时间为：或者，相当于：如果该总时间小于位置区段的离散时间区间，则叶运动轮廓可以在位置区段居中，如图3B所示。图3C示出在该位置区段中居中的前叶运动302和后叶运动304。图3D～3F示出根据这里描述的实施例的典型优化叶开放时间轮廓。在一个实施例中，可以将调制因子约束应用于叶开放时间轮廓，使得叶开放时间不会过大。为了生成调制因子，针对在所有叶和位置区段中的所有非零小束计算平均小束开放时间。然后将离散时间区间确定为平均开放时间乘以期望调制因子。对于各位置区段和叶，然后调整小束开放时间，使得总的叶开放时间不大于与位置区段相对应的离散时间区间。存在用以进行这种调整的若干方式。在一个实施例中，大于离散时间区间的各小束开放时间可以减小至等于投影时间，然后最小小束开放时间可以增加，直到总的叶开放时间小于或等于离散时间区间，如图3D～3F所示。图3G示出根据这里描述的实施例的并入最大速度的典型叶开放时间轮廓。值得注意的是，高速MLC的叶移动很快，但不是瞬时的。为了生成实际可递送的规划，叶运动轮廓可以考虑MLC的有限叶速度。在一个实施例中，这可以通过将最大叶速度并入所生成的叶轮廓来实现。在一个实施例中，算法可以努力使各列中的面积保持恒定。在示例性轮廓306中，瞬时叶运动被改变为具有有限速度的叶运动。注意，各段中的叶运动可以稍早开始，使得小束的整体开放时间保持不受影响。在一个实施例中，如果下一个投影中的行进起点与当前投影中的行进终点重叠，则叶可以在到达其行进终点之前改变方向，从而导致递送到靶区域的通量略小。针对图5A进一步描述图3A～3G的操作。图4A～4C示出根据这里描述的实施例的符合靶区域401的各种典型叶布置。各叶对以特定的方式定位，使得叶对开口限定特定的孔径或形状以符合靶区域401。在处置期间，放射穿过由组合叶对限定的孔径，并击中下面的靶区域。诸如这里描述的高速MLC在离散时间区间期间使各叶对开放和闭合到开放状态或闭合状态。各叶对可以在离散时间区间期间的不同时间分数内开放，并且各叶对可以在相应的开放时间分数期间开放至不同的宽度。此外，处置束在整个离散时间区间期间可以激活。有利地，通过在整个离散时间区间期间激活处置束并允许各叶对仅在离散时间区间的分数内开放至指定宽度，可以向各种复杂的靶区域形状递送精确的放射剂量。针对图5B进一步描述图4A～4C的操作。图5A是示出根据这里描述的实施例的具有高速MLC的快速滑动窗所用的方法500的流程图。一般来说，方法500可以由如下的处理逻辑进行，其中该处理逻辑可以包括硬件、软件或其组合。在一些实施例中，方法500可以由图1A的放射处置系统800的处理逻辑进行。如图5A所示，方法500可以在框502处以处理逻辑经由安装到放射处置系统的机架的准直器来使被引导至靶处的放射束成形开始。在一个实施例中，准直器是包括多个叶对的多叶准直器。如这里所描述的，MLC可以是高速MLC。框504处的处理逻辑可以利用处理装置在多个子束上调制放射束的子束强度，其中该多个子束将通量场细分为2D网格。在一个实施例中，通过随着各叶对在单程中从相应行进线的一端移动到该相应行进线的另一端独立而地调制各叶对中的前叶和后叶的行进速率，来调制子束强度。针对图3A～3G提供与子束强度的调制相对应的附加详情。在各种实施例中，这里描述的2D网格是矩形网格。在其它实施例中，2D网格是任何形状。在一个实施例中，2D子束网格的第一轴由叶对沿着MLC的一个轴的索引确定，并且2D网格的第二轴沿着叶对的行进线。框506处的处理逻辑可以从多个机架角度递送多个独立的2D子束强度模式。在一个实施例中，在机架连续移动的同时，可以从多个机架角度递送多个独立的2D子束强度模式。在一个实施例中，多个叶对中的各叶对在针对各后续机架角度递送通量模式时改变方向。在一个实施例中，处理逻辑可以将用于从特定机架角度递送2D通量模式的多个叶对的运动约束为在小于预先选择的时间段内发生。在一个实施例中，处理逻辑可以使针对特定机架角度的需要小于预先选择的时间段的叶对运动在预先选择的时间段内居中。在一个实施例中，叶对中的在从特定机架角度递送强度模式的情况下位于该叶对中的第二叶之后的第一叶在使方向反转以针对后续机架角度递送强度模式之前未到达其行程终点。在一个实施例中，机架的连续运动可以是螺旋运动。例如，处理逻辑可以使机架连续旋转，其中针对特定机架角度的2D子束强度模式是通过在小弧上递送该强度模式来近似的。如这里所使用的，“小弧”可以是指总机架旋转的子弧，该子弧足够小，以致于其可被视为用于规划预期剂量分布的单个机架角度。在一个实施例中，“小弧”可以指围绕总机架旋转约7度。在其它实施例中，可以使用其它弧大小来递送一维小束强度模式。在一个实施例中，处理逻辑经由轴向支撑件使目标轴向移动通过机架的中心，其中机架和轴向支撑件在辐照靶期间同时移动以进行螺旋递送。在一个实施例中，在辐照靶期间，螺距大于或等于0.5。在其它实施例中，可以使用大于或小于0.5的其它螺距。图5B是示出根据实施例的具有每叶场宽的二元MLC递送所用的方法501的流程图。一般来说，方法501可以由如下的处理逻辑进行，其中该处理逻辑可以包括硬件、软件或其组合。在一些实施例中，方法501可以由图1A的放射处置系统800的处理逻辑进行。如图5B所示，方法501可以在框503处以处理逻辑在放射束被激活的同时确定多个放射束递送位置区段以包含MLC叶控制指令开始。在一个实施例中，如这里所描述的，多个放射束递送位置区段中的各放射束递送位置区段与离散时间区间内的放射束位置范围相对应。例如，放射束递送位置区段可以与从以下项至少之一递送的放射束相对应：不同位置；以及不同方向。换句话说，位置区段可被认为是位置节点，LINAC可以从该位置节点沿特定方向递送放射处置束。位置区段可以包括位置的范围。例如，螺旋处理递送系统中的弧可被分割成多个离散位置区段。在一个实施例中，位置区段可以包括围绕弧的约七度。在其它非螺旋实施例中，可以根据三维空间来限定位置区段。在一个实施例中，在不同位置遵循在处置靶的长度上扫过放射束的线性轨迹的同时，不同方向保持恒定。在一个实施例中，不同方向是非共面的。在框505处，处理逻辑针对多个放射束递送位置区段中的各放射束递送位置区段生成多个开口，该多个开口中的各开口与MLC的多个叶对中的一个叶对相对应。有利地，针对多个位置区段中的各位置区段的多个开口中的各开口可以与不同宽度相对应。例如，在一个实施例中，多个开口中的两个或更多个开口在相同位置区段中与不同宽度相对应。在一个实施例中，多个开口符合处置靶的外形，沿着放射束向后投影到MLC，并且在MLC内的多个叶对的最大行程范围内。在框507处，处理逻辑针对多个放射束递送位置区段中的各放射束递送位置区段生成多个叶开放时间分数，该多个叶开放时间分数中的各叶开放时间分数与MLC的多个叶对中的一个叶对相对应。在一个实施例中，叶开放时间分数是小于离散时间区间的离散时间量。在另一实施例中，叶开放时间分数可以是等于离散时间区间的离散时间量。有利地，叶开放时间分数允许多个叶对中的各叶对在离散时间区间期间的不同时间量内开放。例如，在本实施例中，离散时间区间期间的多个叶开放时间分数中的两个或更多个叶开放时间分数可以不同。在框509处，处理逻辑在放射处置系统的放射束被激活的同时利用处理装置来控制MLC的多个叶对，使得多个叶对中的各叶对在与放射束位置范围相对应的离散时间区间期间的多个叶开放时间分数中的相应叶开放时间分数内开放为多个开口中的相应开口。在一个实施例中，在整个离散时间区间期间，处置束被激活。在一个实施例中，多个叶开放时间分数形成不同强度的重叠放射场，这些重叠放射场相结合地产生被递送至处置靶的强度调制通量场。有利地，以上操作允许放射处置递送系统有效地对放射处置束进行时间调制，同时精确地符合靶区域的外形。图6示出不同系统600的示例，其中在不同系统600内，可以执行用于使系统进行这里所讨论的任何一种或多种方法的指令集。在可选实现中，机器可以连接至LAN、内联网、外联网和/或因特网中的其它机器。系统各自可以以客户端-服务器网络环境中的服务器或客户机的能力操作，作为对等网络环境中的对等机操作、或者作为云计算基础设施或环境中的服务器或客户机操作。系统是能够执行用于指定该机器所要采取的动作的指令集的机器。此外，虽然示出单个机器，但术语“机器”也应被视为包括单独或联合执行一个指令集以进行这里所讨论的任何一种或多种方法的任何机器集合。如以下所述和图6中所示，系统600可以包括诊断成像系统605、处置规划系统610和处置递送系统615。诊断成像系统605可以是能够产生患者的医学诊断图像的任何系统，这些医学诊断图像可用于后续医学诊断、处置规划、处置模拟和/或处置递送。例如，诊断成像系统605可以是计算机断层成像系统、磁共振成像系统、正电子发射断层成像系统、或这些系统的组合等。为了便于讨论，诊断成像系统605可以在下文中不时地关于x射线成像模式进行讨论。在其它实施例中，还可以使用诸如以上讨论的其它成像模式。在一个实施例中，诊断成像系统605包括用以生成成像束的成像源620以及用以检测和接收由成像源620生成的束或者由来自成像源的束模拟的辅助束或发射的成像检测器630。在一个实施例中，成像源620和成像检测器630可以耦接至数字处理系统625以控制成像操作并处理图像数据。在一个实施例中，诊断成像系统605可以从处置递送系统615和/或处置规划系统610接收成像命令。诊断成像系统605包括用于在数字处理系统625、成像源620和成像检测器630之间传送数据和命令的总线或其它部件680。数字处理系统625可以包括一个或多个通用处理器、诸如数字信号处理器等的专用处理器、或者诸如控制器或现场可编程门阵列等的其它类型的处理装置。数字处理系统625还可以包括诸如存储器、存储装置和网络适配器等其它组件。数字处理系统625可被配置成生成标准格式格式等)的数字诊断图像。在其它实施例中，数字处理系统625可以生成其它标准或非标准数字图像格式。数字处理系统625可以通过数据链路683将诊断图像文件发送至处置递送系统615，其中数据链路683可以是例如直接链路、局域网链路或诸如因特网等的广域网链路。另外，可以诸如在远程诊断或处置规划配置中在连接系统之间的通信介质推拉系统之间所传送的信息。在远程诊断或处置规划中，用户可以利用本发明的实施例来诊断或处置患者，尽管在系统用户和患者之间存在物理分离。在一个实施例中，处置递送系统615包括用以依从处置规划来向靶体积给予规定放射剂量的治疗和/或外科手术放射源660。处置递送系统615还可以包括用以进行诸如锥形束CT的计算机断层成像的成像系统665，并且成像系统665所生成的图像可以是二维或三维。处置递送系统615还可以包括用以控制放射源660、接收并处理来自诊断成像系统605和/或处置规划系统610的数据以及控制诸如处置床675等的患者支撑装置的数字处理系统670。数字处理系统670可以连接至照相机反馈系统或者是照相机反馈系统的一部分。数字处理系统670可被配置为进行这里描述的任何操作。数字处理系统670可以包括表示一个或多个通用处理器、诸如数字信号处理器等的专用处理器、或者诸如控制器或现场可编程门阵列等的其它类型的装置。数字处理系统670的处理装置可被配置为执行用以进行这里描述的操作的指令。在一个实施例中，数字处理系统670包括系统存储器，该系统存储器可以包括耦接到处理装置的用于存储处理装置所要执行的信息和指令的随机存取存储器或其它动态存储装置。系统存储器还可以用于在处理装置执行指令期间存储临时变量或其它中间信息。系统存储器还可以包括只读存储器和/或用于存储处理装置的静态信息和指令的其它静态存储装置。数字处理系统670还可以包括表示用于存储信息和指令的一个或多个存储装置的存储装置。存储装置可以用于存储用于进行这里讨论的处置递送步骤的指令。数字处理系统670可以通过总线692或其它类型的控制和通信接口而耦接到放射源660和处置床675。在一个实施例中，处置递送系统615包括经由总线692与数字处理系统670连接的输入装置678和显示器677。显示器677可以示出用于识别靶移动速率的趋势数据。显示器还可以示出患者的当前放射暴露和患者的投影放射暴露。输入装置678可以使临床医师能够在处置期间调整处置递送规划的参数。处置规划系统610包括用以生成和修改处置规划和/或模拟规划的处理装置640。处理装置640可以表示一个或多个通用处理器、诸如数字信号处理器等的专用处理器、或者诸如控制器或现场可编程门阵列等的其它类型的装置。处理装置640可被配置为执行用于进行这里讨论的模拟生成操作和/或处置规划操作的指令。处置规划系统610还可以包括系统存储器635，系统存储器635可以包括通过总线686耦接到处理装置640的随机存取存储器或其它动态存储装置，用于存储处理装置640所要执行的信息和指令。系统存储器635还可以用于在处理装置640执行指令期间存储临时变量或其它中间信息。系统存储器635还可以包括只读存储器和/或耦接到总线686的用于存储处理装置640的静态信息和指令的其它静态存储装置。处置规划系统610还可以包括存储装置645，其表示耦接到总线686的用于存储信息和指令的一个或多个存储装置。存储装置645可以用于存储用于进行这里讨论的处置规划步骤的指令。处理装置640还可以耦接到诸如阴极射线管或液晶显示器等的用于向用户显示信息的显示装置650。诸如键盘等的输入装置655可以耦接到处理装置640，以将信息和/或命令选择通信至该处理装置640。还可以使用一个或多个其它用户输入装置来通信方向信息、选择处理装置640的命令以及控制显示器650上的光标移动。处置规划系统610可以与诸如处置递送系统615等的处置递送系统共享其数据库，使得其可能无需在处置递送之前从处置规划系统导出。处置规划系统610可以经由数据链路690链接到处置递送系统615，在一个实施例中，数据链路690可以是直接链路、LAN链路或WAN链路。应当注意，当数据链路683、686和690被实现为LAN或WAN连接时，诊断成像系统605、处置规划系统610和/或处置递送系统615中的任一个可以处于分散位置，使得这些系统可以在物理上彼此远离。可选地，诊断成像系统605、处置规划系统610和/或处置递送系统615中的任一个可以在一个或多个系统中彼此集成。从前面的描述中显而易见的是，本发明的各方面可以至少部分地以软件实现。也就是说，该技术可以在响应于处理装置625、640或670的、例如执行存储器中所包含的指令的序列的计算机系统或其它数据处理系统中执行。在各种实现中，硬件电路可以与软件指令结合使用以实现本发明。因此，技术不限于硬件电路和软件的任何特定组合或数据处理系统所执行的指令的任何特定源。另外，在整个说明书中，各种功能和操作可被描述为由软件代码执行或推进以简化描述。然而，本领域技术人员将认识到这种表达的含义是这些功能是由于处理装置625、640或670执行代码而得到的。可以使用机器可读介质来存储软件和数据，其中这些软件和数据在由通用或专用数据处理系统执行时使该系统进行本发明的各种方法。该可执行软件和数据可以存储在各种地方，包括例如系统存储器以及能够存储软件程序或数据至少之一的存储装置或任何其它装置。因此，机器可读介质包括以机器可访问的形式提供信息的任何机构。例如，机器可读介质包括可记录/不可记录介质，诸如只读存储器、随机存取存储器、磁盘存储介质、光存储介质、闪速存储器装置等。机器可读介质可以是非暂时性计算机可读存储介质。除非从前面的讨论中明显说明，否则应当理解，诸如“接收”、“定位”、“进行”、“发射”或“使”等的术语可以是指计算机系统或类似电子计算装置的动作和处理，其中该计算机系统或类似电子计算装置操纵表示为计算机系统的寄存器和存储器内的物理量的数据并将该数据变换为类似地表示为计算机系统存储器或寄存器或者其它这类信息存储或显示装置内的物理量的其它数据。可以使用计算机软件来实现这里描述的方法的实现。如果用符合公认标准的编程语言编写，则可以编译被设计为实现这些方法的指令的序列，以在各种硬件平台上执行并且与各种操作系统相配合。另外，不参考任何特定编程语言来描述本发明的实现。应当理解，可以使用各种编程语言来实现本发明的实现。应当注意，这里描述的方法和设备不限于仅用于医学诊断成像和处置。在可选实现中，这里的方法和设备可用于医疗技术领域之外的应用，例如工业成像和材料的非破坏性测试。在这样的应用中，例如，“处置”一般可以是指由处置规划系统控制的操作的实现，诸如束的应用，并且“靶”可以是指非解剖对象或区域。在前面的说明书中，已经参考具体典型实现描述了本发明。然而，显而易见的是，在不脱离所附权利要求中所阐述的本发明的更广泛的精神和范围的情况下，可以对其进行各种修改和改变。因此，说明书和附图应被视为说明性意义而非限制性意义。
