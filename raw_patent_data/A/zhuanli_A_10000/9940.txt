标题title
一种运动阻碍型疾病诊断装置
摘要abst
本发明提供一种运动阻碍型疾病诊断装置，其包括数据采集模块，用于采集测试人的深度信息和足底压力信息；数据分析模块，用于对所述深度信息和足底压力信息进行步态分析，得到测试人的步态相关特征；神经网络模块，用于根据所述步态相关特征进行深度学习，在深度学习后对测试人的深度信息和足底压力信息进行卷积、分类处理，实现测试人的运动阻碍型疾病诊断。本实施例通过将步态相关特征输入神经网络模块中，通过深度学习后使得运动阻碍型疾病检测成为可行；本实施例由于所需要的设备简单，所以成本低且有较高的便携度，适合普及，并且采取深度学习的方式进行诊断，准确度更高。
权利要求书clms
1.一种运动阻碍型疾病诊断装置，其特征在于，包括：数据采集模块，用于采集测试人的深度信息和足底压力信息；数据分析模块，用于对所述深度信息和足底压力信息进行步态分析，得到测试人的步态相关特征；神经网络模块，用于根据所述步态相关特征进行深度学习，在深度学习后对测试人的深度信息和足底压力信息进行卷积、分类处理，实现测试人的运动阻碍型疾病诊断。2.根据权利要求1所述的运动阻碍型疾病诊断装置，其特征在于，所述数据采集模块包括：深度传感相机，用于获取测试人在运动过程中的关节点空间信息；足底压力传感器，用于获取测试人在运动过程中的足底压力分布信息；显示屏，用于显示测试人在运动过程中的实时图像信息。3.根据权利要求2所述的运动阻碍型疾病诊断装置，其特征在于，所述足底压力传感器为可穿戴式压力传感装置或道路型压力传感器。4.根据权利要求2所述的运动阻碍型疾病诊断装置，其特征在于，所述关节点空间信息包括髋关节坐标信息、膝关节坐标信息、踝关节坐标信息、脊椎坐标信息。5.根据权利要求1所述的运动阻碍型疾病诊断装置，其特征在于，所述数据分析模块包括：人体检测单元，用于对测试人的深度信息进行ROI区域提取并删除两侧无关区域，再通过边缘梯度检测以及深度学习方法检测出测试人的人体轮廓；特征提取单元，用于对人体轮廓内的深度信息以及足底压力信息进行乘加计算，获得人体轮廓内的步态相关特征。6.根据权利要求5所述的运动阻碍型疾病诊断装置，其特征在于，所述特征提取单元包括：腿长特征提取子单元，用于根据每一帧得到的髋关节坐标信息，膝关节坐标信息和踝关节坐标信息，由空间距离公式：计算得出每一帧髋关节到膝关节的距离，以及膝关节到踝关节的距离，将所述髋关节到膝关节的距离，以及膝关节到踝关节的距离进行求和，可得到腿长，其中，n表示空间坐标的维度，X，Y分别表示两个关节点，xi，yi分别表示两个关节点对应的第i个维度的坐标；步幅特征提取子单元，用于取两足压力相等的帧作为前一步结束帧和后一步开始帧，通过计算两帧之间脊椎坐标信息的位移距离得到步幅；步频特征提取子单元，用于取两足压力相等的帧作为前一步结束帧和后一步开始帧，得到每一步得到的帧数，通过帧数除帧率得到步频；关节角度提取子单元，用于选择预定关节以及与其相邻的两个关节的坐标信息，计算出两两关节之间的距离，在这三个关节构成的空间三角形使用余弦定理公式：计算得出关节角度，其中，a、b、c分别表示三角形的三条边的长度，cosC表示以a与b为两条边的角的余弦值；运动轨迹获取子单元，用于获取测试人的运动重心位置并记录测试人在行进过程中的移动曲线。7.根据权利要求1所述的运动阻碍型疾病诊断装置，其特征在于，所述深度信息包括步态深度图像，所述足底压力信息包括足底压力力学分布的色彩图像，所述神经网络模块包括：卷积层，用于对所述步态深度图像以及足底压力力学分布的色彩图像进行卷积处理，得到步态相关特征；隐藏层，用于根据所述步态相关特征进行疾病分类，每类疾病包括一种或多种步态相关特征；输出层，用于输出疾病分类结果。8.根据权利要求1所述的运动阻碍型疾病诊断装置，其特征在于，所述神经网络模块为长短时间记忆网络。
说明书desc
技术领域本发明涉及电子医疗领域，尤其涉及一种运动阻碍型疾病诊断装置。背景技术很多疾病都会有运动机能受阻的临床表现，而这种临床表现通常发生在患者患病早期，也为治疗最佳时期，但是这种临床表现通常难以及时被发现。以帕金森病举例，帕金森病是一种多发于老年人的神经系统退行性疾病，由于选择性中脑黑质多巴胺神经元的进行性变性死亡，路易小体在参与神经元内形成，纹状体多巴胺因此含量降低，从而导致患者产生震颤，肌强直，运动迟缓等外在表现，同时可能伴有神经功能阻碍或精神阻碍。帕金森症晚期难以得到有效的治疗，而帕金森症早期症状多表现为一种灵活性降低的亚临床状态而难以被察觉。其他脑神经性疾病如脑卒中、多发性硬化、脑外伤也有对应特定的病态步态。而对于周围神经病变引起的疾病，周围神经损伤，也会由于其不同的损伤神经状况产生不同的步态。如臀大肌神经损伤的患者由于其臀大肌无力，呈现特有的鹅步步态，其水平前后方向的位移大于垂直面内的位移，其行走速度与稳定性将与健康人有所差异；而臀上神经损伤或是髋关节骨性关节炎由于其髋关节内旋或外旋受限，行走时呈现鸭步步态，又称‘trendelenburg’步态。现有神经性疾病，如帕金森病，诊断手段主要通过检测血脑脊液特定化学物质含量；分子生物学检查；脑CT、MRI检查；放射性核素检测等方法进行诊断，其成本较高，检测时间较长，诊断工序较为繁琐。而骨骼肌肉引发的疾病诊断主要依靠医生的接触式体外测量或者借助X射线成像，总体对医生需求量大，设备成本较高。因此，现有技术还有待于改进和发展。发明内容鉴于上述现有技术的不足，本发明的目的在于提供一种运动阻碍型疾病诊断装置，旨在解决现有运动阻碍型疾病诊断设备成本高，对医生的依赖程度较高，智能化程度较低的问题。本发明为解决上述技术问题所采用的技术方案如下：一种运动阻碍型疾病诊断装置，其中，包括：数据采集模块，用于采集测试人的深度信息和足底压力信息；数据分析模块，用于对所述深度信息和足底压力信息进行步态分析，得到测试人的步态相关特征；神经网络模块，用于根据所述步态相关特征进行深度学习，在深度学习后对测试人的深度信息和足底压力信息进行卷积、分类处理，实现测试人的运动阻碍型疾病诊断。所述的运动阻碍型疾病诊断装置，其中，所述数据采集模块包括：深度传感相机，用于获取测试人在运动过程中的关节点空间信息；足底压力传感器，用于获取测试人在运动过程中的足底压力分布信息；显示屏，用于显示测试人在运动过程中的实时图像信息。所述的运动阻碍型疾病诊断装置，其中，所述足底压力传感器为可穿戴式压力传感装置或道路型压力传感器。所述的运动阻碍型疾病诊断装置，其中，所述关节点空间信息包括髋关节坐标信息、膝关节坐标信息、踝关节坐标信息、脊椎坐标信息。所述的运动阻碍型疾病诊断装置，其中，所述数据分析模块包括：人体检测单元，用于对测试人的深度信息进行ROI区域提取并删除两侧无关区域，再通过边缘梯度检测以及深度学习方法检测出测试人的人体轮廓；特征提取单元，用于对人体轮廓内的深度信息以及足底压力信息进行乘加计算，获得人体轮廓内的步态相关特征。所述的运动阻碍型疾病诊断装置，其中，所述特征提取单元包括：腿长特征提取子单元，用于根据每一帧得到的髋关节坐标信息，膝关节坐标信息和踝关节坐标信息，由空间距离公式：计算得出每一帧髋关节到膝关节的距离，以及膝关节到踝关节的距离，将所述髋关节到膝关节的距离，以及膝关节到踝关节的距离进行求和，可得到腿长，其中，n表示空间坐标的维度，X，Y分别表示两个关节点，xi，yi分别表示两个关节点对应的第i个维度的坐标；步幅特征提取子单元，用于取两足压力相等的帧作为前一步结束帧和后一步开始帧，通过计算两帧之间脊椎坐标信息的位移距离得到步幅；步频特征提取子单元，用于取两足压力相等的帧作为前一步结束帧和后一步开始帧，得到每一步得到的帧数，通过帧数除帧率得到步频；关节角度提取子单元，用于选择预定关节以及与其相邻的两个关节的坐标信息，计算出两两关节之间的距离，在这三个关节构成的空间三角形使用余弦定理公式：计算得出关节角度，其中，a、b、c分别表示三角形的三条边的长度，cosC表示以a与b为两条边的角的余弦值；运动轨迹获取子单元，用于获取测试人的运动重心位置并记录测试人在行进过程中的移动曲线。所述的运动阻碍型疾病诊断装置，其中，所述深度信息包括步态深度图像，所述足底压力信息包括足底压力力学分布的色彩图像，所述神经网络模块包括：卷积层，用于对所述步态深度图像以及足底压力力学分布的色彩图像进行卷积处理，得到步态相关特征；隐藏层，用于根据所述步态相关特征进行疾病分类，每类疾病包括一种或多种步态相关特征；输出层，用于输出疾病分类结果。所述的运动阻碍型疾病诊断装置，其中，所述神经网络模块为长短时间记忆网络。有益效果：本发明提供了一种运动阻碍型疾病诊断装置，通过将步态相关特征输入神经网络模块中，通过深度学习后使得运动阻碍型疾病检测成为可行。本发明根据病态步态提取出特定的可以体现出这种步态与正常步态的区别的特征，并将这些特征输入算力足够的神经网络模块中，由于动态行进信息量大，配合深度学习，使得在早期诊断对运动产生障碍的疾病变得更加轻松，也可以减轻医生的负担。本发明由于所需要的设备简单，所以成本低且有较高的便携度，适合普及，并且采取深度学习的方式进行诊断，准确度更高。附图说明图1为本发明一种运动阻碍型疾病诊断装置较佳实施例的结构框图。图2为关节点显示效果图。图3为足底压力分布信息显示效果图。具体实施方式本发明提供一种运动阻碍型疾病诊断装置，为使本发明的目的、技术方案及效果更加清楚、明确，以下参照附图并举实施例对本发明进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。本技术领域技术人员可以理解，除非特意声明，这里使用的单数形式“一”、“一个”、“所述”和“该”也可包括复数形式。应该进一步理解的是，本发明的说明书中使用的措辞“包括”是指存在所述特征、整数、步骤、操作、元件和/或组件，但是并不排除存在或添加一个或多个其他特征、整数、步骤、操作、元件、组件和/或它们的组。应该理解，当我们称元件被“连接”或“耦接”到另一元件时，它可以直接连接或耦接到其他元件，或者也可以存在中间元件。此外，这里使用的“连接”或“耦接”可以包括无线连接或无线耦接。这里使用的措辞“和/或”包括一个或更多个相关联的列出项的全部或任一单元和全部组合。本技术领域技术人员可以理解，除非另外定义，这里使用的所有术语，具有与本发明所属领域中的普通技术人员的一般理解相同的意义。还应该理解的是，诸如通用字典中定义的那些术语，应该被理解为具有与现有技术的上下文中的意义一致的意义，并且除非像这里一样被特定定义，否则不会用理想化或过于正式的含义来解释。下面结合附图，通过对实施例的描述，对发明内容作进一步说明。不同疾病存在不同的特殊步态，这些特殊步态与正常步态有所不同，同时互相之间又有所区别。例如帕金森病的亚临床特征在行进过程中，由于神经损伤，帕金森患者在早期步幅相较于同等身材比例的人相对较小，行进速率与正常人有所差异，同时可能伴有重心前倾，步伐抖动，不自然摆臂，转弯困难等症状。而臀大肌神经损伤的患者会呈现特殊的鹅步或鸭步，其他阻碍运动型疾病也会由于其病理对患者步态产生影响，从而区别于正常步态。由此可见，阻碍运动的疾病患者与健康样本在步态上呈现差别。因此，通过采集大量的行进步态信息，再通过深度学习从庞大的行进步态信息中提取特征，并学习病态步态与正常步态的差别从而作为疾病的诊断方式具有相当的可行性。基于此，本发明提供了一种运动阻碍型疾病诊断装置，如图1所示，其包括：数据采集模块10，用于采集测试人的深度信息和足底压力信息；数据分析模块20，用于对所述深度信息和足底压力信息进行步态分析，得到测试人的步态相关特征；神经网络模块30，用于根据所述步态相关特征进行深度学习，在深度学习后对测试人的深度信息和足底压力信息进行卷积、分类处理，实现测试人的运动阻碍型疾病诊断。本实施例首先通过数据采集模块10采集测试人的深度信息和足底压力信息并保存作为原始数据，然后通过数据分析模块20对所述深度信息和足底压力信息进行步态分析，得到测试人的步态相关特征；最后将所述步态相关特征输入所述神经网络模块30进行深度学习，在完成深度学习之后，所述神经网络模块30对测试人的深度信息和足底压力信息进行卷积、分类处理，实现测试人的运动阻碍型疾病诊断。本实施例通过将步态相关特征输入神经网络模块中，通过深度学习后使得运动阻碍型疾病检测成为可行。本实施例根据病态步态提取出特定的可以体现出这种步态与正常步态的区别的特征，并将这些特征输入算力足够的神经网络模块中，由于动态行进信息量大，配合深度学习，使得在早期诊断对运动产生障碍的疾病变得更加轻松，也可以减轻医生的负担。本实施例由于所需要的设备简单，所以成本低且有较高的便携度，适合普及，并且采取深度学习的方式进行诊断，准确度更高。在一些实施方式中，所述数据采集模块包括深度传感相机，所述深度传感相机用于获取测试人在运动过程中的关节点空间信息。具体来讲，通过所述深度传感相机提取测试人的深度信息，然后通过梯度提取，提取出测试人的人体轮廓以及人体轮廓的深度信息；通过所述人体轮廓的深度信息计算出人体的关节点空间信息，并将所述关节点空间信息以空间X,Y,Z坐标点的形式储存。进一步地，将人体的关节点在相机对应像素点进行显示，并且连接相邻像素点绘制成如图2所示的骨骼效果图，再将二维相机图像与所提取的骨骼效果图放在同一张照片中进行显示，并且以色彩深浅区分距离相机的远近，通过观察显示的人像与关节点是否错位来判断数据采集是否正常进行。在一些实施方式中，所述数据采集模块还包括足底压力传感器，所述足底压力传感器用于获取测试人在运动过程中的足底压力分布信息。具体来讲，所述足底压力传感器可以为可穿戴式压力传感装置或者道路型压力传感器，所述足底压力传感器可用于采集测试人足底压力信息；将测试人的足底分成若干个感兴趣区域，通过所述足底压力传感器计算每个感兴趣区域的平均压力值并记录。如图3所示，通过颜色深浅区分压力大小，实时将足底压力分布情况反馈在显示屏上，测试人可以通过对比自己的形成过程与显示的色谱图像确认数据采集是否顺利。在一些实施方式中，所述数据采集模块还包括显示屏，所述显示屏用于显示测试人在运动过程中的实时图像信息，可实现信息采集过程中的监督。所述深度传感相机、足底压力传感器以及所述显示屏共同组成所述数据采集模块。在一些实施方式中，所述关节点空间信息包括髋关节坐标信息、膝关节坐标信息、踝关节坐标信息、脊椎坐标信息，但不限于此。在一些实施方式中，所述数据分析模块包括：人体检测单元，其用于对测试人的深度信息进行ROI区域提取并删除两侧无关区域，再通过边缘梯度检测以及深度学习方法检测出测试人的人体轮廓；特征提取单元，其用于对人体轮廓内的深度信息以及足底压力信息进行乘加计算，获得人体轮廓内的步态相关特征，所述步态相关特征包括腿长、步幅、步频、关节角度、运动轨迹等，但不限于此。在一些具体的实施方式中，所述特征提取单元包括腿长特征提取子单元，其用于根据每一帧得到的髋关节坐标信息，膝关节坐标信息和踝关节坐标信息，由空间距离公式：计算得出每一帧髋关节到膝关节的距离，以及膝关节到踝关节的距离，将所述髋关节到膝关节的距离，以及膝关节到踝关节的距离进行求和，可得到腿长，其中，n表示空间坐标的维度，如坐标系维度为2，坐标系维度为3；用Kinect传感器获取的关节点坐标信息的维度是n＝3；X，Y分别表示两个关节点，xi，yi分别表示两个关节点对应的第i个维度的坐标。在一些具体的实施方式中，所述特征提取单元还包括步幅特征提取子单元，其用于取两足压力相等的帧作为前一步结束帧和后一步开始帧，通过计算两帧之间脊椎坐标信息的位移距离得到步幅。在另一些实施方式中，在走步机上可通过记录一步所占帧数以及走步机运行速度计算出步幅大小。在一些具体的实施方式中，所述特征提取单元还包括步频特征提取子单元，其用于取两足压力相等的帧作为前一步结束帧和后一步开始帧，得到每一步得到的帧数，通过帧数除帧率得到步频。在一些具体的实施方式中，所述特征提取单元还包括关节角度提取子单元，其用于选择预定关节以及与其相邻的两个关节的坐标信息，计算出两两关节之间的距离，在这三个关节构成的空间三角形使用余弦定理公式：计算得出关节角度，其中，a、b、c分别表示三角形的三条边的长度，cosC表示以a与b为两条边的角的余弦值。在一些具体的实施方式中，所述特征提取单元还包括运动轨迹获取子单元，其用于获取测试人的运动重心位置并记录测试人在行进过程中的移动曲线。本实施例通过深度传感相机以及足底压力传感器可得到测试人在行进过程中的各项数据，经过简单的计算提取特征之后，基于所述步态相关特征可与正常步态进行区分，将所述步态相关特征输入到神经网络模块中可进行运动阻碍型疾病分类。在一些实施方式中，所述神经网络模块为长短时间记忆网络，所述LSTM优化了一般循环神经网络的长期依赖问题，可以较好处理有序信息，较适用于对于行进动态有序信息的处理分类。在一些具体的实施方式中，可对所述LSTM架构进行适当修饰以适应其疾病诊断功能，具体地，可在原有LSTM架构前加入相应的人体检测单元，在所述人体检测单元输入测试人的深度信息后，所述人体检测单元可对深度信息进行ROI区域提取并删除两侧无关区域，再通过边缘梯度检测以及深度学习方法检测出测试人的人体轮廓，在对所述人体轮廓内的深度信息进行处理，的得到人体轮廓内的深度信息以及足底压力信息。进一步地，还可在原有LSTM架构基础上加入特征提取单元，将人体轮廓内的深度信息以及足底压力信息输入所述特征提取单元内，所述特征提取单元可对人体轮廓内的深度信息以及足底压力信息进行乘加计算，获得人体轮廓内的步态相关特征，所述步态相关特征包括腿长、步幅、步频、关节角度、运动轨迹等，但不限于此。在一些实施方式中，所述深度信息包括步态深度图像，所述足底压力信息包括足底压力力学分布的色彩图像，所述神经网络模块包括：卷积层，其用于对所述步态深度图像以及足底压力力学分布的色彩图像进行卷积处理，得到步态相关特征；根据不同疾病设定类别，每种疾病类别包含一种或多种步态相关特征，所述同一种步态相关特征可以重复被包含于不同疾病类别。如步频、步幅、腿长特征可以较好地对帕金森进行区别，所以帕金森这一疾病类别包含步幅、步频、腿长；而臀大肌神经受损可以通过靠近臀部的关节在行进中的轨迹描述，所以臀大肌神经受损这一类包含左右髋关节运动角度，腰椎运动角度等，对于常用疾病都有特定分类，在一些实施方式中，所述神经给网路模块还包括隐藏层，其用于根据所述步态相关特征进行疾病分类，每类疾病包括一种或多种步态相关特征。具体来讲，将所述卷积层得到的所述步态相关特征输入到所述隐藏层，所述隐藏层采用LSTM的架构，保证输出不仅与当前时刻输入有关，使得之前的重要的信息也决定了当前时刻的输出，每个分类都对应一个专属的LSTM神经网络作为诊断网络主体，分别进行迭代训练和预测，将该分类特定特征输入对应的深度学习网络，实现诊断，并优化网络架构，调整网络参数使得网络更加适合训练集，在损失函数收敛时结束训练，通过更改迭代次数，网络架构从而达到较高的分类的准确性。在一些实施方式中，所述神经网络模块还包括输出层，其用于输出疾病分类结果。具体来讲，本实施例对LSTM架构进行适当修饰以适应疾病诊断功能，具体操作如下：首先，在原有LSTM网络前加入相应的人体检测单元，输入测试人员深度信息后进行ROI区域提取删除两侧无关区域，再通过边缘梯度检测以及深度学习方法检测出测试人的人体轮廓，再对轮廓内深度信息进行处理；接着，在LSTM原有架构基础上加入特征提取单元，将提取出的人体轮廓内的深度信息以及足底压力信息等信息输入特征提取层，在层内通过乘加计算进行特征提取。最后，采用深度学习网络架构实现诊断，所述深度学习网络架构可大体分为三部分：卷积层、隐藏层、输出层。具体地，通过嵌入式的方法将硬件所获取的步态深度图像以及足底压力力学分布的色彩图像输入神经网络的卷积层，通过卷积的方式对输入的图像信息进行处理，通过不断卷积得到特征，根据不同疾病设定类别，每类可包含一种或多种特征，并且特征可重复被包含于不同类别。在一些具体的实施例中，步频、步幅、腿长等特征可以较好地对帕金森进行区别，所以帕金森一类疾病的特征包含步频、步幅、腿长；而臀大肌神经受损可以被靠近臀部的关节在行进中的轨迹描述，所以臀大肌神经受损一类疾病的特征包含左右髋关节运动角度、腰椎角度等。接下来，将上述特征输入隐藏层，所述隐藏层采用LSTM的架构，将当前时刻的输入与之前的重要的信息结合决定当前时刻的输出。每一个分类都对应一个专属的LSTM神经网络作为诊断网络主体，分别进行迭代训练和预测，将该分类的特定特征输入对应的深度学习网络，实现诊断。较佳地，优化网络架构，调整网络参数使网络跟适合训练集，在损失函数收敛时结束训练，通过更改迭代次数和网络架构，实现较高的分类准确性。最后，由输出层输出诊断结果。优选地，调整输出，保证控制一类风险，能够实现筛选的基本功能，可降低医生的负担。同时，输入的数据信息传入云端数据集，构建完备的数据集，作为后续研究的样本数据。综上所述，本发明首先通过数据采集模块采集测试人的深度信息和足底压力信息并保存作为原始数据，然后通过数据分析模块对所述深度信息和足底压力信息进行步态分析，得到测试人的步态相关特征；最后将所述步态相关特征输入所述神经网络模块进行深度学习，在完成深度学习之后，所述神经网络模块对测试人的深度信息和足底压力信息进行卷积、分类处理，实现测试人的运动阻碍型疾病诊断。本实施例通过将步态相关特征输入神经网络模块中，通过深度学习后使得运动阻碍型疾病检测成为可行。本实施例根据病态步态提取出特定的可以体现出这种步态与正常步态的区别的特征，并将这些特征输入算力足够的神经网络模块中，由于动态行进信息量大，配合深度学习，使得在早期诊断对运动产生障碍的疾病变得更加轻松，也可以减轻医生的负担。本实施例由于所需要的设备简单，所以成本低且有较高的便携度，适合普及，并且采取深度学习的方式进行诊断，准确度更高。应当理解的是，本发明的应用不限于上述的举例，对本领域普通技术人员来说，可以根据上述说明加以改进或变换，所有这些改进和变换都应属于本发明所附权利要求的保护范围。
