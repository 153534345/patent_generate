标题title
导管导航方法、装置、设备和存储介质
摘要abst
本申请涉及一种导管导航方法、装置、设备和存储介质。所述方法包括：获取包括待检测器官组织的三维重建图像；在所述三维重建图像中配置虚拟对象图像；采集至少一幅待检测器官组织的透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态；根据所述导管的位置和姿态确定所述虚拟对象图像的视点的位置和姿态；基于所述虚拟对象图像的视点采集三维重建图像中的视图，作为所述导管在所述待检测器官组织中的导航画面。采用本方法能够对导管进行的快速精准的控制。
权利要求书clms
1.一种导管导航方法，其特征在于，所述方法包括：获取包括待检测器官组织的三维重建图像；在所述三维重建图像中配置虚拟对象图像；采集至少一幅待检测器官组织的透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态；根据所述导管的位置和姿态确定所述虚拟对象图像的视点的位置和姿态；基于所述虚拟对象图像的视点采集三维重建图像中的视图。2.根据权利要求1所述的方法，其特征在于，所述透视图像的采集设备具有至少两个采集部件；所述采集至少一幅待检测器官组织的透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态，包括：分别通过所述采集部件采集待检测器官组织的至少两个采集角度的透视图像；分别从所述至少两个采集角度的所述透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。3.根据权利要求1所述的方法，其特征在于，所述透视图像的采集设备具有一个采集部件；所述采集至少一幅待检测器官组织的透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态，包括：控制采集部件进行往复移动以采集待检测器官组织的不同角度的透视图像；分别从不同角度的所述透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。4.根据权利要求1所述的方法，其特征在于，所述采集待检测器官组织透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态，包括：当根据所述三维重建图像判断待检测器官组织的分布满足预设条件时，采集一个角度下的透视图像；根据所采集的透视图像计算得到导管的目标区域的位置；根据所述待检测器官组织的分布确定所述导管的目标区域的姿态。5.根据权利要求1或4所述的方法，其特征在于，所述方法还包括：当根据所述三维重建图像判断待检测器官组织的分布不满足预设条件时，采集至少两个角度下的透视图像；分别从不同角度的所述透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。6.根据权利要求1所述的方法，其特征在于，所述采集待检测器官组织透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态，包括：当根据所述三维重建图像判断待检测器官组织的分布满足预设条件时，控制采集设备开启至少两个具有不同采集角度的采集部件，并通过至少两个具有不同采集角度的采集部件采集待检测器官组织透视图像，根据所述透视图像计算导管的目标区域的初始位置和初始姿态，并控制采集设备开启一个采集部件，且通过开启的采集部件采集待检测器官组织透视图像，根据所述透视图像计算导管的目标区域的位置和姿态；当根据所述三维重建图像判断待检测器官组织的分布不满足预设条件时，则控制采集设备开启至少两个不同采集角度的采集部件，并通过具有至少两个不同采集角度的采集部件的采集设备采集待检测器官组织透视图像，根据所述透视图像计算导管的目标区域的位置和姿态。7.根据权利要求1至6任意一项所述的方法，其特征在于，所述方法还包括：通过透视图像的采集设备采集二维图像；根据所述三维重建图像和所述二维图像对所述采集设备进行配准。8.一种导管导航装置，其特征在于，所述装置包括：三维重建图像获取模块，用于获取包括待检测器官组织的三维重建图像；配置模块，用于在所述三维重建图像中配置虚拟对象图像；导管信息计算模块，用于采集至少一幅待检测器官组织的透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态；虚拟对象信息确定模块，用于根据所述导管的位置和姿态确定所述虚拟对象图像的视点的位置和姿态；视图生成模块，用于基于所述虚拟对象图像的视点采集三维重建图像中的视图，作为所述导管在所述待检测器官组织中的导航画面。9.一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至7中任一项所述的方法的步骤。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至7中任一项所述的方法的步骤。
说明书desc
技术领域本申请涉及计算机医学技术领域，特别是涉及一种导管导航方法、装置、设备和存储介质。背景技术虚拟对象是目前发展的一项崭新医学影像技术，应用计算机虚拟现实技术生成具有内窥镜可视效果的三维可视化图像。将虚拟现实与科学计算可视化技术相结合，利用CT、MRI或超声二维图像数据进行三维可视化重建，模拟传统的内窥检查过程，在人体器官内甚至血管中实现漫游，并可沿虚拟的内部空腔做飞行观察，显示连续的三维器官内腔结构图，在计算机屏幕上生成具有内窥镜仿真效果的可视化图像。双C臂血管造影系统，下文简称为双C血管机，在临床中主要用于神经介入、先心病介入等手术中，能够通过一次造影同时得到血管正位、侧位的血管图，在执行路标生成过程中可以从两个角度同时观察导丝导管的位置和方向。然而，上述双C血管机以及三维可视化图像在手术过程中，都需要医生来回观察两个方向的图像才能控制导管的前进。而虚拟对象则是离线使用，在手术过程中无法起到引导作用。发明内容基于此，有必要针对上述技术问题，提供一种能够引导导管移动的导管导航方法、装置、设备和存储介质。一种导管导航方法，所述方法包括：获取包括待检测器官组织的三维重建图像；在所述三维重建图像中配置虚拟对象图像；采集至少一幅待检测器官组织的透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态；根据所述导管的位置和姿态确定所述虚拟对象图像的视点的位置和姿态；基于所述虚拟对象图像的视点采集三维重建图像中的视图，作为所述导管在所述待检测器官组织中的导航画面。在其中一个实施例中，所述透视图像的采集设备具有至少两个采集部件；所述采集至少一幅待检测器官组织的透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态，包括：分别通过所述采集部件采集待检测器官组织的不同角度的透视图像；分别从不同角度的所述透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在其中一个实施例中，所述透视图像的采集设备具有一个采集部件；所述采集至少一幅待检测器官组织的透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态，包括：控制采集部件进行往复移动以采集待检测器官组织的不同角度的透视图像；分别从不同角度的所述透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在其中一个实施例中，所述采集待检测器官组织透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态，包括：当根据所述三维重建图像判断待检测器官组织的分布满足预设条件时，采集一个角度下的透视图像；根据所采集的透视图像计算得到导管的目标区域的位置；根据所述待检测器官组织的分布确定所述导管的目标区域的姿态。在其中一个实施例中，所述方法还包括：当根据所述三维重建图像判断待检测器官组织的分布不满足预设条件时，采集至少两个角度下的透视图像；分别从不同角度的所述透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在其中一个实施例中，所述采集待检测器官组织透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态，包括：当根据所述三维重建图像判断待检测器官组织的分布满足预设条件时，控制采集设备开启至少两个不同采集角度的采集部件，并通过至少两个不同采集角度的采集部件采集待检测器官组织透视图像，根据所述透视图像计算导管的目标区域的初始位置和初始姿态，并控制采集设备开启一个采集部件，且通过开启的采集部件采集待检测器官组织透视图像，根据所述透视图像计算导管的目标区域的位置和姿态；当根据所述三维重建图像判断待检测器官组织的分布不满足预设条件时，则控制采集设备开启至少两个不同采集角度的采集部件，并通过具有至少两个不同采集角度的采集部件的采集设备采集待检测器官组织透视图像，根据所述透视图像计算导管的目标区域的位置和姿态。在其中一个实施例中，所述方法还包括：通过透视图像的采集设备采集二维图像；根据所述三维重建图像和所述二维图像对所述采集设备进行配准。一种导管导航装置，所述装置包括：三维重建图像获取模块，用于获取包括待检测器官组织的三维重建图像；配置模块，用于在所述三维重建图像中配置虚拟对象图像；导管信息计算模块，用于采集至少一幅待检测器官组织的透视图像，并根据所述透视图像计算导管的目标区域的位置和姿态；虚拟对象信息确定模块，用于根据所述导管的位置和姿态确定所述虚拟对象图像的视点的位置和姿态；视图生成模块，用于基于所述虚拟对象图像的视点采集三维重建图像中的视图，作为所述导管在所述待检测器官组织中的导航画面。一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，所述处理器执行所述计算机程序时实现上述的方法的步骤。一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上述的方法的步骤。上述导管导航方法、装置、设备和存储介质，通过采集的透视图像可以得到导管的位置和姿态，根据其得到三维重建图像中的虚拟对象图像的位置和姿态，从而可以使得虚拟对象图像采集三维重建图像中的视图，以得到导管在待检测器官组织中的导航画面，从而可以对导管进行的快速精准的控制。附图说明图1为一个实施例中导管导航方法的应用环境图；图2为一个实施例中导管导航方法的流程示意图；图3为一个实施例中虚拟对象图像的姿态的示意图；图4为另一个实施例中虚拟对象图像的姿态的示意图；图5为一个实施例中虚拟对象图像的位置的示意图；图6为一个实施例中的待检测器官组织的第一角度的图像的示意图；图7为一个实施例中的待检测器官组织的第二角度的图像的示意图；图8为一个实施例中的待检测器官组织的不同角度的导管的中心线的示意图；图9为一个实施例中导管导航装置的结构框图；图10为一个实施例中计算机设备的内部结构图。具体实施方式为了使本申请的目的、技术方案及优点更加清楚明白，以下结合附图及实施例，对本申请进行进一步详细说明。应当理解，此处描述的具体实施例仅仅用以解释本申请，并不用于限定本申请。本申请提供的导管导航方法，可以应用于如图1所示的应用环境中。其中，终端102通过与医疗成像设备104和血管机106相通信，其中医疗成像设备104扫描得到三维图像或者是通过医疗成像设备104得到扫描数据，终端102根据扫描数据获取包括待检测器官组织的三维重建图像，终端102在三维重建图像中配置虚拟对象图像，然后通过血管机106采集至少一幅待检测器官组织的透视图像，这样终端102根据透视图像计算导管的目标区域的位置和姿态，并基于虚拟对象图像的视点采集三维重建图像中的视图，作为导管在待检测器官组织中的导航画面。其中，终端102可以但不限于是各种个人计算机、笔记本电脑、智能手机、平板电脑和便携式可穿戴设备。医疗成像设备104包括但不限于各种成像设备，例如CT成像设备、磁共振设备、正电子发射型计算机断层显像设备、正电子发射型磁共振成像系统等。血管机106可以是双C血管机、单C血管机、U型血管机或G型血管机等等，在此不做具体限定。在其中一个实施例中，医疗成像设备104可以与血管机106是同一设备，即仅存在终端102和血管机106，因此上述医疗成像设备104所实现的步骤可以通过血管机106实现。在一个实施例中，如图2所示，提供了一种导管导航方法，以该方法应用于图1中的终端为例进行说明，包括以下步骤：S202：获取包括待检测器官组织的三维重建图像。具体地，三维重建图像为血管的三维重建图像，其可以是通过医疗成像设备扫描得到的扫描数据进行三维重建得到的。在其他的实施例中还可以是通过3D DSA技术直接扫描得到的三维重建图像。本实施例中对该三维重建图像的获取方式不做具体限定。S204：在三维重建图像中配置虚拟对象图像。具体地，虚拟对象图像是指预先设置的虚拟对象的标识，其可以是根据用户需要进行设定的，对其不做具体的限制。其中，优选地，该虚拟对象为虚拟内窥镜，在其他的实施例中，也可以应用于其他的三维显示技术上，比如在三维显示的血管中，显示虚拟的导管前端，导管的其他部分也可以是沿中心线显示成一根虚拟的导管。终端将虚拟对象图像配置在三维重建图像中，其相当于在三维重建图像中的摄像机。优选地，终端将虚拟对象图像配置在导管的目标位置，例如导管的前端，从在导管移动的过程中，该虚拟对象可以采集导管前端路线的图像。在其他实施例中，该三维重建图像的生成数据也可以是通过下文中的血管机进行采集得到的，这样三维重建图像可以是来自同一台设备采集的数据，这样三维重建图像是系统的坐标信息的。因此机架发生的任何运动，都可以计算出三维重建图像与当前机架摆位采集得到的2D图像之间的空间关系，从而可以配准。如果是其他设备的三维重建图像，可以与本设备采集的同一患者的三维重建图像进行匹配，从而实现与系统坐标系配准。S206：采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态。具体地，透视图像是通过血管机进行采集得到的，该至少一幅待检测器官组织的透视图像可以是从不同的采集角度对待检测器官组织进行扫描得到的透视图像。具体地，导管的目标区域是指导管的前端，其中导管的前端的位置是导管前端在血管的位置，也即在三维重建图像中的位置，姿态是指导管前端的朝向。终端通过透视图像计算得到导管的前端的位置和朝向。具体地，终端可以同时获取到导管的至少两个不同采集角度的透视图像，从而终端分别从导管的至少两个不同采集角度的透视图像中获取到导管的至少两个不同采集角度的位置和方向信息，从而基于至少两个不同采集角度的位置和方向信息计算得到导管的中心线上的每一点的空间位置，进而计算得到导管的前端的位置和朝向。S208：根据导管的位置和姿态确定虚拟对象图像的视点的位置和姿态。S210：基于虚拟对象图像的视点采集三维重建图像中的视图，作为导管在待检测器官组织中的导航画面。具体地，由于虚拟对象图像位于导管的前端，因此基于导管的位置和姿态即可以确定虚拟对象图像的视点的位置和姿态，可选地，两者为相同的关系。也即终端将导管的位置和姿态应用到虚拟对象图像上，从而实现虚拟对象图像的画面始终沿着导管的前进方向移动，这样基于虚拟对象图像的视点即可以采集三维重建图像中的视图，并将该视图提供给医生，这样终端可以提供导管在血管中移动的直观画面，且导管前端的检测可以基于前一次的定位结果进行小范围检测，这样可以提高速度，结合导管前端的位置和朝向则是一个简单的几何运算，所以总体上满足实时性要求，从而能够更快速精准的控制导丝的移动。具体结合图3和图所示，其中图3和图4给出了虚拟对象图像的姿态的示意图，其中通过导管的前端的姿态表征虚拟对象图像的姿态。图5为虚拟对象图像的位置的示意图，其中通过导管的前端的位置表征了虚拟对象图像的位置。上述基于虚拟对象的导管导航方法，通过采集的透视图像可以得到导管的位置和姿态，根据其得到三维重建图像中的虚拟对象的位置和姿态，从而可以使得虚拟对象采集三维重建图像中的视图，以得到导管在待检测器官组织中的导航画面，从而可以对导管进行的快速精准的控制。在其中一个实施例中，透视图像的采集设备具有至少两个采集部件；采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：分别通过采集部件采集待检测器官组织的不同角度的透视图像；分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。具体地，结合图6和图7所示，其中图6为一个实施例中的待检测器官组织的第一角度的图像的示意图；图7为一个实施例中的待检测器官组织的第二角度的图像的示意图，在本实施例中，透视图像的采集设备包括至少两个采集部件，例如双C血管机，通过双C血管机的两个采集角度不同的采集部件分别从不同的角度采集待检测器官组织的透视图像，本实施例中以待检测器官组织的正位图像和待检测器官组织的侧位图像为例进行说明。具体地，终端分别从不同角度的透视图像中提取导管的前端的初始位置和初始方向，这样就得到不同角度下导管的前端的初始位置和初始方向，结合图8，基于不同角度的信息，可以计算导管的中心线上的点的空间位置，从而可以得到导管的前端的位置和方向。结合图8，导管在图像上成像的坐标和球管焦点连接，得到两条直线，两条直线相交得到的点就是对应的导管在空间中的位置。导管的朝向即为前进方向。上述实施例中，通过两个不同角度的采集部件分别采集不同角度的透视图像，从而分别得到不同角度的透视图像中导管的位置，进而根据角度计算得到导管的中心线上每个点的位置，以得到导管的位置，从而可以得到导管的前端的位置，而导管的朝向即为前进方向，也即导管的前端的指向。在其中一个实施例中，透视图像的采集设备具有一个采集部件；采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：控制采集部件进行往复移动以采集待检测器官组织的不同角度的透视图像；分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。具体地，在该实施例中透视图像的采集设备具有一个采集部件，例如普通C形臂设备，其无法从两个角度获取到导管的透视图像，因此终端可以控制采集部件进行往复移动以采集待检测器官组织的不同角度的透视图像，例如通过控制机架进行小角度的来回旋转，以采集不同的角度的透视图像。更进一步地，终端可以配置较高频率的图像采集频率，通过相邻的不同角度的图像，也能较准确的计算的导管的坐标和方向，具体的计算方法可以参见上文。具体地，以单个C臂的透视图像以及三维重建图像为例来说明导管的前端的坐标和方向的计算，其中三维重建图像中的血管相当于管道，终端可以计算管道的每个切面的中心点，从而可以得到一条中心路径。如果在没有分叉的血管中移动导管，可以近似认为导管是沿着中心路径移动的。只要到了分叉的位置，需要导管控制方向的时候，则可以通过具有至少两个不同采集角度的采集部件的采集设备采集透视图像，并计算得到导管前端的坐标和方向，给出实际导管朝向的虚拟对象画面。具体地，结合图8，基于不同角度的信息，可以计算导管的中心线上的点的空间位置，从而可以得到导管的前端的位置和方向。结合图8，导管在图像上成像的坐标和球管焦点连接，得到两条直线，两条直线相交得到的点就是对应的导管在空间中的位置。导管的朝向即为前进方向。此外需要说明的一点是因为导管移动的速度不快，透视图像的采集频率优选地为每秒30帧，甚至更低一点的15帧，也能够满足时间上的分辨率。上述实施例中，给出了根据具有一个采集部件的采集设备所采集的透视图像，计算得到导管的位置和姿态的方式。在其中一个实施例中，采集待检测器官组织透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：当根据三维重建图像判断待检测器官组织的分布满足预设条件时，采集一个角度下的透视图像；根据所采集的透视图像计算得到导管的目标区域的位置；根据待检测器官组织的分布确定导管的目标区域的姿态。在其中一个实施例中，采集待检测器官组织透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：：当根据三维重建图像判断待检测器官组织的分布不满足预设条件时，采集至少两个角度下的透视图像；分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。具体地，待检测器官组织的分布是指待检测器官组织是否存在重叠或数量较多等。终端可以通过三维重建图像计算待检测器官组织的分布，并判断分布是否满足预设条件，例如血管是否存在分叉，血管在当前位置的数量是都大于预设值，或者是血管是否存在路径交叠等。其中在三维重建图像中，血管相当于管道，终端可以计算管道的每个切面的中心点，从而可以得到一条中心路径。若是血管没有分叉，也就是血管的中心线没有分叉，从而可以通过采集一个角度下的透视图像，来计算得到导管的前端的位置和姿态，若是血管的中心线存在分叉，则采集至少两个角度下的透视图像，通过所采集的至少两个角度下的透视图像来计算得到导管的前端的位置和姿态，具体的计算方式可以参见上文，在此不再赘述。其中，采集待检测器官组织透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：当根据三维重建图像判断待检测器官组织的分布满足预设条件时，控制采集设备开启至少两个不同采集角度的采集部件，并通过至少两个不同采集角度的采集部件采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的初始位置和初始姿态，并控制采集设备开启一个采集部件，且通过开启的采集部件采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的位置和姿态；当根据三维重建图像判断待检测器官组织的分布不满足预设条件时，则控制采集设备开启至少两个不同采集角度的采集部件，并通过具有至少两个不同采集角度的采集部件的采集设备采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的位置和姿态。以血管为例，对于无需选择方向，或者路径交叠比较少的血管，例如主动脉血管，则可以在初始阶段通过双C血管机采集的透视图像定位到导管在血管中的位置后，导管基本都是沿着，例如主动脉血管前进的，通过单个C臂的透视图像以及血管重建图像来估算导管的位置和方向，在具体的实施例中，例如从股动脉到心脏冠脉的过程中，从股动脉到腹主动脉、再到胸主动脉的过程中，基本上都是没有复杂的分叉的，属于大动脉，此时根据一张图像的导管图像即可确定导管的位置和前进放线，不会走偏。当遇到血管分布比较复杂时，根据重建图像得知血管情况变复杂，自动开启另一个C形臂的射线，获取透视图像，进行精确的定位和控制，从而达到减少剂量的目的。在其中一个实施例中，上述导管导航方法还包括：通过透视图像的采集设备采集二维图像；根据三维重建图像和二维图像对采集设备进行配准。具体地，在透视图像采集之前，将透视图像的采集设备采集二维图像与系统机架摆位进行配准。具体地，三维重建图像可以是来自同一台设备采集的数据，这样三维重建图像是系统的坐标信息的。因此机架发生的任何运动，都可以计算出三维重建图像与当前机架摆位采集得到的2D图像之间的空间关系，从而可以配准。如果是根据其他设备采集的数据所得到的三维重建图像，可以与本设备采集的同一患者的三维重建图像进行匹配，从而实现与系统坐标系匹配。三维图像和采集设备的二维图像配准之后，配准的信息就可以用于将后续采集的二维图像与三维图像保持配准，所以可以认为是和设备的机架参数进行了配准。应该理解的是，虽然图2的流程图中的各个步骤按照箭头的指示依次显示，但是这些步骤并不是必然按照箭头指示的顺序依次执行。除非本文中有明确的说明，这些步骤的执行并没有严格的顺序限制，这些步骤可以以其它的顺序执行。而且，图2中的至少一部分步骤可以包括多个步骤或者多个阶段，这些步骤或者阶段并不必然是在同一时刻执行完成，而是可以在不同的时刻执行，这些步骤或者阶段的执行顺序也并不必然是依次进行，而是可以与其它步骤或者其它步骤中的步骤或者阶段的至少一部分轮流或者交替地执行。在一个实施例中，如图9所示，提供了一种导管导航装置，包括：三维重建图像获取模块901、配置模块902、导管信息计算模块903、虚拟对象信息确定模块903和视图生成模块904，其中：三维重建图像获取模块901，用于获取包括待检测器官组织的三维重建图像；配置模块902，用于在三维重建图像中配置虚拟对象图像；导管信息计算模块903，用于采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态；虚拟对象信息确定模块903，用于根据导管的位置和姿态确定虚拟对象图像的视点的位置和姿态；视图生成模块904，用于基于虚拟对象图像的视点采集三维重建图像中的视图，作为导管在所述待检测器官组织中的导航画面。在其中一个实施例中，透视图像的采集设备具有至少两个不同采集角度的采集部件；导管信息计算模块903包括：第一透视图像生成单元，用于分别通过采集部件采集待检测器官组织的不同角度的透视图像；第一初始信息提取单元，用于分别从不同角度的透视图像中提取初始导管位置和初始方向；第一导管信息生成单元，用于根据所提取的初始导管位置和初始方向计算得到导管的位置和姿态。在其中一个实施例中，透视图像的采集设备具有一个采集部件；导管信息计算模块903包括：第一图像采集单元，用于控制采集部件进行往复移动以采集待检测器官组织的不同角度的透视图像；提取单元，用于分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；第一计算单元，用于根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在其中一个实施例中，虚拟对象信息确定模块903包括：第二图像采集单元，用于当根据三维重建图像判断待检测器官组织的分布满足预设条件时，采集一个角度下的透视图像；第二计算单元，用于根据所采集的透视图像计算得到导管的目标区域的位置；姿态确定单元，用于根据待检测器官组织的分布确定导管的目标区域的姿态。在其中一个实施例中，上述虚拟对象信息确定模块903包括：第一图像采集模块，用于当根据三维重建图像判断待检测器官组织的分布不满足预设条件时，采集至少两个角度下的透视图像；提取模块，用于分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；计算模块，用于根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在其中一个实施例中，上述虚拟对象信息确定模块用于当根据三维重建图像判断待检测器官组织的分布满足预设条件时，控制采集设备开启至少两个不同采集角度的采集部件，并通过至少两个不同采集角度的采集部件采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的初始位置和初始姿态，并控制采集设备开启一个采集部件，且通过开启的采集部件采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的位置和姿态；当根据三维重建图像判断待检测器官组织的分布不满足预设条件时，则控制采集设备开启至少两个不同采集角度的采集部件，并通过具有至少两个不同采集角度的采集部件的采集设备采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的位置和姿态。在其中一个实施例中，上述导管导航装置还包括：第二图像采集模块，用于通过透视图像的采集设备采集二维图像；配准模块，用于根据三维重建图像和二维图像对采集设备进行配准。关于导管导航装置的具体限定可以参见上文中对于导管导航方法的限定，在此不再赘述。上述导管导航装置中的各个模块可全部或部分通过软件、硬件及其组合来实现。上述各模块可以硬件形式内嵌于或独立于计算机设备中的处理器中，也可以以软件形式存储于计算机设备中的存储器中，以便于处理器调用执行以上各个模块对应的操作。在一个实施例中，提供了一种计算机设备，该计算机设备可以是终端，其内部结构图可以如图10所示。该计算机设备包括通过系统总线连接的处理器、存储器、通信接口、显示屏和输入装置。其中，该计算机设备的处理器用于提供计算和控制能力。该计算机设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该计算机设备的通信接口用于与外部的终端进行有线或无线方式的通信，无线方式可通过WIFI、运营商网络、NFC或其他技术实现。该计算机程序被处理器执行时以实现一种导管导航方法。该计算机设备的显示屏可以是液晶显示屏或者电子墨水显示屏，该计算机设备的输入装置可以是显示屏上覆盖的触摸层，也可以是计算机设备外壳上设置的按键、轨迹球或触控板，还可以是外接的键盘、触控板或鼠标等。本领域技术人员可以理解，图10中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提供了一种计算机设备，包括存储器和处理器，存储器中存储有计算机程序，该处理器执行计算机程序时实现以下步骤：获取包括待检测器官组织的三维重建图像；在三维重建图像中配置虚拟对象图像；采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态；根据导管的位置和姿态确定虚拟对象图像的视点的位置和姿态；基于虚拟对象图像的视点采集三维重建图像中的视图，作为导管在待检测器官组织中的导航画面。在一个实施例中，处理器执行计算机程序时所涉及的透视图像的采集设备具有至少两个不同采集角度的采集部件；处理器执行计算机程序时所实现的采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：分别通过采集部件采集待检测器官组织的不同角度的透视图像；分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在一个实施例中，处理器执行计算机程序时所涉及的透视图像的采集设备具有一个采集部件；处理器执行计算机程序时所实现的采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：控制采集部件进行往复移动以采集待检测器官组织的不同角度的透视图像；分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在一个实施例中，处理器执行计算机程序时所实现的采集待检测器官组织透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：当根据三维重建图像判断待检测器官组织的分布满足预设条件时，采集一个角度下的透视图像；根据所采集的透视图像计算得到导管的目标区域的位置；根据待检测器官组织的分布确定导管的目标区域的姿态。在一个实施例中，处理器执行计算机程序时所实现的采集待检测器官组织透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：当根据三维重建图像判断待检测器官组织的分布不满足预设条件时，采集至少两个角度下的透视图像；分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在一个实施例中，处理器执行计算机程序时所实现的采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：当根据三维重建图像判断待检测器官组织的分布满足预设条件时，控制采集设备开启至少两个不同采集角度的采集部件，并通过至少两个不同采集角度的采集部件采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的初始位置和初始姿态，并控制采集设备开启一个采集部件，且通过开启的采集部件采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的位置和姿态；当根据三维重建图像判断待检测器官组织的分布不满足预设条件时，则控制采集设备开启至少两个不同采集角度的采集部件，并通过具有至少两个不同采集角度的采集部件的采集设备采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的位置和姿态。在一个实施例中，处理器执行计算机程序时还实现以下步骤：通过透视图像的采集设备采集二维图像；根据三维重建图像和二维图像对采集设备进行配准。在一个实施例中，提供了一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现以下步骤：获取包括待检测器官组织的三维重建图像；在三维重建图像中配置虚拟对象图像；采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态；根据导管的位置和姿态确定虚拟对象图像的视点的位置和姿态；基于虚拟对象图像的视点采集三维重建图像中的视图，作为导管在待检测器官组织中的导航画面。在一个实施例中，计算机程序被处理器执行时所涉及的透视图像的采集设备具有至少两个不同采集角度的采集部件；计算机程序被处理器执行时所实现的采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：分别通过采集部件采集待检测器官组织的不同角度的透视图像；分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在一个实施例中，计算机程序被处理器执行时所涉及的透视图像的采集设备具有一个采集部件；计算机程序被处理器执行时所实现的采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：控制采集部件进行往复移动以采集待检测器官组织的不同角度的透视图像；分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在一个实施例中，计算机程序被处理器执行时所实现的采集待检测器官组织透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：当根据三维重建图像判断待检测器官组织的分布满足预设条件时，采集一个角度下的透视图像；根据所采集的透视图像计算得到导管的目标区域的位置；根据待检测器官组织的分布确定导管的目标区域的姿态。在一个实施例中，计算机程序被处理器执行时所实现的采集待检测器官组织透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：当根据三维重建图像判断待检测器官组织的分布不满足预设条件时，采集至少两个角度下的透视图像；分别从不同角度的透视图像中提取导管的目标区域的初始导管位置和初始方向；根据所提取的初始导管位置和初始方向计算得到导管的目标区域的位置和姿态。在一个实施例中，计算机程序被处理器执行时所实现的采集至少一幅待检测器官组织的透视图像，并根据透视图像计算导管的目标区域的位置和姿态，包括：当根据三维重建图像判断待检测器官组织的分布满足预设条件时，控制采集设备开启至少两个不同采集角度的采集部件，并通过至少两个不同采集角度的采集部件采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的初始位置和初始姿态，并控制采集设备开启一个采集部件，且通过开启的采集部件采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的位置和姿态；当根据三维重建图像判断待检测器官组织的分布不满足预设条件时，则控制采集设备开启至少两个不同采集角度的采集部件，并通过具有至少两个不同采集角度的采集部件的采集设备采集待检测器官组织透视图像，根据透视图像计算导管的目标区域的位置和姿态。在一个实施例中，计算机程序被处理器执行时还实现以下步骤：通过透视图像的采集设备采集二维图像；根据三维重建图像和二维图像对采集设备进行配准。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和易失性存储器中的至少一种。非易失性存储器可包括只读存储器、磁带、软盘、闪存或光存储器等。易失性存储器可包括随机存取存储器或外部高速缓冲存储器。作为说明而非局限，RAM可以是多种形式，比如静态随机存取存储器或动态随机存取存储器等。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对发明专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
