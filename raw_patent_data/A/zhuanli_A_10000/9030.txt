标题title
谷物联合收割机作业性能的在线检测方法、系统及装置
摘要abst
本发明涉及一种谷物联合收割机作业性能在线检测方法、系统及装置，通过传感器采集谷物联合收割机的作业性能参数，并进行实时计算，得到谷物联合收割机的进步度，从而实现对谷物联合收割机的田间作业性能实时准确评价，有利于提高谷物联合收割机田间作业质量，提高检测的有效性与便利性。
权利要求书clms
1.一种谷物联合收割机作业性能的在线检测方法，其特征在于，所述方法包括：采集谷物联合收割机的作业性能参数，计算所述谷物联合收割机的作业性能指标，所述作业性能指标包括破碎率、含杂率、清选损失率和夹带损失率；确定所述作业性能指标的权重，根据所述权重构建作业性能指标的概率转移矩阵；根据所述概率转移矩阵计算所述谷物联合收割机的作业性能的进步度；所述进步度为0，表征所述谷物联合收割机作业性能平稳；所述进步度小于0，表征所述谷物联合收割机作业性能变差；所述进步度大于0，表征所述谷物联合收割机作业性能变优。2.根据权利要求1所述的一种谷物联合收割机作业性能的在线检测方法，其特征在于，所述破碎率和含杂率的计算方法包括：其中，Pz表示含杂率，Ps为破碎率，Tw为系统识别的完整籽粒像素数，Ts为系统识别的破碎籽粒像素数，Tz为系统识别的杂质像素数，为图像每1000像素点的完整籽粒平均质量，为图像每1000像素点的破碎籽粒平均质量，为图像每1000像素点的杂质平均质量。3.根据权利要求1所述的一种谷物联合收割机作业性能的在线检测方法，其特征在于，所述清选损失率与夹带损失率的计算方法包括：其中，Pq为清选损失率，Pj为夹带损失率，m为谷物的千粒重，nq为传感器检测到的清选损失的谷物籽粒粒数，nj为传感器检测到的夹带损失的谷物籽粒粒数，为清选损失监测区域籽粒质量与总籽粒损失质量比例系数，为夹带损失监测区域籽粒质量与总籽粒损失质量比例系数，v为联合收割机行走速度，L为谷物联合收割机割幅，Y为谷物的实际产量，t为收获总时长。4.根据权利要求1所述的一种谷物联合收割机作业性能的在线检测方法，其特征在于，采用熵值法确定所述作业性能指标的权重，具体包括：构建n次监测m个评价指标的判断矩阵；将所述判断矩阵进行归一化处理，得到归一化判断矩阵，其中，i=1,2,…n，j=1,…m，表示归一化判断矩阵中第i行第j列的元素；根据所述归一化判断矩阵计算各作业性能指标的熵及权重。5.根据权利要求4所述的一种谷物联合收割机作业性能的在线检测方法，其特征在于，所述根据所述归一化判断矩阵计算各作业性能指标的熵包括：其中，表示第j个作业性能评价指标的熵；计算各作业性能指标的权重包括：其中，表示第j个作业性能评价指标的权重，m表示作业性能评价指标的个数。6.根据权利要求1所述的一种谷物联合收割机作业性能的在线检测方法，其特征在于，所述构建概率转移矩阵具体包括：将所述谷物联合收割机的作业性能划分为N个等级，并将每个所述作业性能指标的监测值隶属到对应等级中，得到指标隶属矩阵；根据所述指标隶属矩阵以及各所述作业性能指标的权重计算多指标评价参数矩阵；根据所述多指标评价参数矩阵构建概率转移矩阵。7.根据权利要求1所述的一种谷物联合收割机作业性能的在线检测方法，其特征在于，所述计算谷物联合收割机作业性能的进步度包括：其中，为作业性能评价指标由级变成级转移概率的进步度；表示作业性能改善或恶化的权重，当作业性能变优时为正值，当作业性能变差时为负值，当作业性能不变时为零；表示作业性能评价指标由级变成级转移概率；T表示作业性能的状态空间；J表示谷物联合收割机作业性能的进步度。8.一种谷物联合收割机作业性能的在线检测系统，其特征在于，所述系统包括：指标计算模块，用于采集所述谷物联合收割机的作业性能参数，计算所述谷物联合收割机的作业性能指标，所述作业性能指标包括破碎率、含杂率、清选损失率和夹带损失率；数据处理模块，用于确定所述作业性能指标的权重，根据所述权重构建作业性能指标的概率转移矩阵；性能评价模块，用于根据所述概率转移矩阵计算所述谷物联合收割机作业性能的进步度；所述进步度为0，表征所述谷物联合收割机作业性能平稳；所述进步度小于0，表征所述谷物联合收割机作业性能变差；所述进步度大于0，表征所述谷物联合收割机作业性能变优。9.一种谷物联合收割机作业性能的在线检测装置，其特征在于，所述装置包括：夹带损失传感器，安装于谷物联合收割机滚筒末端两侧侧板上，用于获取夹带损失率数据；清选损失传感器，安装于谷物联合收割机清选筛尾部，用于获取清选损失率数据；含杂破碎传感器，安装于谷物联合收割机出粮口下方，用于获取破碎率和含杂率数据；GPS定位模块，设置于所述谷物联合收割机上，用于获取所述谷物联合收割机的实时作业位置和作业速度；工控机，与所述夹带损失传感器、所述清选损失传感器、所述含杂破碎传感器和所述GPS定位模块相连，用于根据所述夹带损失率数据、所述清选损失率数据与所述破碎率和含杂率数据采用如权利要求1所述方法检测所述谷物联合收割机的作业性能。10.根据权利要求9所述的一种谷物联合收割机作业性能的在线检测装置，其特征在于，所述含杂破碎传感器包括：谷物取样仓，安装于所述谷物联合收割机出粮口下方，内部设置有摄像头和数据处理单元；所述摄像头用于实时获取所述出粮口谷物样本图片信息，所述数据处理单元用于根据所述谷物样本图片信息计算含杂率数据与破碎率数据。
说明书desc
技术领域本发明涉及农业机械技术领域，特别是涉及一种谷物联合收割机作业性能的在线检测方法、系统及装置。背景技术目前，我国是世界第一大农机生产大国和使用大国，谷物联合收割机在农机工业产业占比高。但在谷物联合收割机产品种类不断增加、保有量持续上升的同时，关于谷物联合收割机田间作业性能的鉴定检测工作的信息化与智能化水平偏低这一问题愈加明显。因此，亟需一种新手段替代传统检测方法，以提高谷物联合收割机田间作业性能试验鉴定的工作效率。发明内容本发明的目的是提供一种谷物联合收割机作业性能的在线检测方法、系统及装置，能够实现对谷物联合收割机田间作业性能的自动化检测。为实现上述目的，本发明提供了如下方案：一种谷物联合收割机作业性能的在线检测方法，所述方法包括：采集谷物联合收割机的作业性能参数，计算所述谷物联合收割机的作业性能指标，所述作业性能指标包括破碎率、含杂率、清选损失率和夹带损失率；确定所述作业性能指标的权重，根据所述权重构建作业性能指标的概率转移矩阵；根据所述概率转移矩阵计算所述谷物联合收割机作业性能的进步度；所述进步度为0，表征所述谷物联合收割机作业性能平稳；所述进步度小于0，表征所述谷物联合收割机作业性能变差；所述进步度大于0，表征所述谷物联合收割机作业性能变优。本发明还提供了一种谷物联合收割机作业性能的在线检测系统，所述系统包括：指标计算模块，用于采集所述谷物联合收割机的作业性能参数，计算所述谷物联合收割机的作业性能指标，所述作业性能指标包括破碎率、含杂率、清选损失率和夹带损失率；数据处理模块，用于确定所述作业性能指标的权重，根据所述权重构建作业性能指标的概率转移矩阵；性能评价模块，用于根据所述概率转移矩阵计算所述谷物联合收割机作业性能的进步度；所述进步度为0，表征所述谷物联合收割机作业性能平稳；所述进步度小于0，表征所述谷物联合收割机作业性能变差；所述进步度大于0，表征所述谷物联合收割机作业性能变优。本发明还提供了一种谷物联合收割机作业性能的在线检测装置，所述装置包括：夹带损失传感器，安装于谷物联合收割机滚筒末端两侧侧板上，用于获取夹带损失率数据；清选损失传感器，安装于谷物联合收割机清选筛尾部，用于获取清选损失率数据；含杂破碎传感器，安装于谷物联合收割机出粮口下方，用于获取破碎率和含杂率数据；GPS定位模块，设置于所述谷物联合收割机上，用于获取所述谷物联合收割机的实时作业位置和作业速度；工控机，与所述夹带损失传感器、所述清选损失传感器、所述含杂破碎传感器和所述GPS定位模块相连，用于根据所述夹带损失率数据、所述清选损失率数据与所述破碎率和含杂率数据采用上述方法检测所述谷物联合收割机的作业性能。根据本发明提供的具体实施例，本发明公开了以下技术效果：本发明提供了一种谷物联合收割机作业性能在线检测方法、系统及装置，通过采集谷物联合收割机田间作业的性能参数，计算对应的作业性能指标，并且通过计算进步度判定实时的作业性能，避免了马尔科夫链发生多步转移，实现了对谷物联合收割机作业性能综合质量变化情况的实时动态评价。同时通过构建多指标评价参数矩阵，采用进一法原则进行整数化，能够将小权重指标的作业性能状态进行压缩，减小其影响程度，提高对谷物联合收割机作业性能综合质量的评价准确度。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例提供的一种谷物联合收割机作业性能在线检测方法流程图；图2为本发明实施例提供的一种谷物联合收割机作业性能在线检测系统框图；图3为本发明实施例提供的一种谷物联合收割机作业性能在线检测装置结构示意图。符号说明：1.夹带损失传感器，2.清选损失传感器，3.功率传感器，4.GPS定位模块，5.工控机。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。谷物联合收割机田间作业性能的鉴定检测内容主要包括作业速度、破碎率、含杂率和损失率。传统的检测方法通常伴随着劳动强度大，人为干扰误差大、采集数据时间长，历史试验数据难以追溯等实际问题，现有的人工检测方法，人为主观因素大，很难保证检测结果的准确性和可追溯性。同时，人工检测行程有限，检测数据采样点少，检测结果普遍性差。本发明的目的是提供一种谷物联合收割机作业性能在线检测方法、系统及装置，实现谷物联合收割机田间作业性能在线检测，有利于建立健全谷物联合收割机田间作业性能试验测试体系，有利于提高检测的有效性与便利性。为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图和具体实施方式对本发明作进一步详细的说明。实施例1如图1所示，本实施例提供了一种谷物联合收割机作业性能在线检测方法，具体包括：步骤101：采集谷物联合收割机的作业性能参数，计算所述谷物联合收割机的作业性能指标，所述作业性能指标包括破碎率、含杂率、清选损失率和夹带损失率；步骤102：确定所述作业性能指标的权重，根据所述权重构建作业性能指标的概率转移矩阵；步骤103：根据所述概率转移矩阵计算所述谷物联合收割机作业性能的进步度；所述进步度为0，表征所述谷物联合收割机作业性能平稳；所述进步度小于0，表征所述谷物联合收割机作业性能变差；所述进步度大于0，表征所述谷物联合收割机作业性能变优。由此，通过对谷物联合收割机作业性能参数的实时检测，以进步度来评价谷物联合收割机的实时作业性能，避免了马尔科夫链发生多步转移，实现了对谷物联合收割机作业性能综合质量变化情况的实时动态评价，有利于提高检测的有效性与便利性。下面对方法进行进一步的详细说明。在步骤101中，采集谷物联合收割机有效割幅、收获品种、产量标定值、谷物千粒重等人为设定的信息后，通过含杂破碎传感器自动进行谷物样本的循环取样，拍摄谷物样本的照片，通过识别图像信息获取破碎率和含杂率数据；通过清选损失传感器和夹带损失传感器统计打击区谷物籽粒的数量，结合产量标定值和谷物千粒重获取清选损失率和夹带损失率数据；通过GPS定位模块获取谷物联合收割机实时作业位置和作业速度。然后根据采集到的作业性能数据计算作业性能指标，具体的，获取联合收获机出粮口谷物样本的图片后，由图像识别算法区分样本中完整谷物籽粒、破碎谷物籽粒及杂质，经量化模型计算出实时的破碎率和含杂率，量化模型为：其中，Pz表示含杂率，Ps为破碎率，Tw为系统识别的完整籽粒像素数，Ts为系统识别的破碎籽粒像素数，Tz为系统识别的杂质像素数，为图像每1000像素点的完整籽粒平均质量，为图像每1000像素点的破碎籽粒平均质量，为图像每1000像素点的杂质平均质量。、和均采用人工标定的方法得到。损失率通过采集谷物籽粒击打到敏感板上压力传感器电信号，经过滤波、电压阈值分析、频率分析，实现谷物籽粒的计数，经计算模型计算出实时的夹带损失率和清选损失率，计算模型为：其中，Pq为清选损失率，Pj为夹带损失率，m为谷物的千粒重，nq为传感器检测到的清选损失的谷物籽粒粒数，nj为传感器检测到的夹带损失的谷物籽粒粒数，为清选损失监测区域籽粒质量与总籽粒损失质量比例系数，为夹带损失监测区域籽粒质量与总籽粒损失质量比例系数，v为联合收割机行走速度，L为谷物联合收割机割幅，Y为谷物的实际产量，t为收获总时长。在得到各作业性能指标后，计算各作业性能指标的权重。本实施例具体采用熵值法来确定权重，能够利用该指标信息的效用值进行计算，效用值越高，对评价的重要性越大，从而提高对谷物联合收割机作业性能综合评价的准确性。具体步骤如下：构建n次监测m个评价指标的判断矩阵A=nm，i=1,2,······,n; j=1,2,······,m。其中，xij表示第i时刻第j个作业性能指标的监测值。将判断矩阵进行归一化处理，得到归一化判断矩阵B=nm，其中bij为式中，xmax、xmin为同指标下各次监测中最满意者或者最不满意者。根据熵的定义，n次监测m个评价指标，可以确定评价指标的熵Hj：计算各作业性能指标的权重包括：其中，表示第j个作业性能评价指标的权重，满足，m表示作业性能评价指标的个数，表示第j个作业性能评价指标的熵。为了便于计算，选出wmax为wj的最大值，令wmax=1，其余权重按比例相应放大，即谷物联合收割机各作业性能指标权重确定后，根据权重构建概率转移矩阵。在构建概率转移矩阵时，先根据权重确定多指标评价参数矩阵D。在确定多指标评价参数矩阵时，需要先构建指标隶属矩阵R：根据谷物机械化收获特点与检测需要，将谷物联合收割机作业参数综合质量划分为N个等级，得到有限个状态空间T={1,2,······,N}。本实施例将谷物联合收割机参数作业性能状态划分为5个等级：优秀、良好、中等、合格、不合格，那么T={1,2,3,4,5}。根据谷物联合收割机的设计标准和性能鉴定标准，建立了谷物联合收割机主要指标阈值分类，如下表1所示，那么对于每个指标的监测值xij都可以将其隶属到某个状态rij∈T，从而得到指标隶属矩阵R=rij。表1联合收获机主要指标阈值分类指标优秀良好中等合格不合格破碎率≤0.25，并且0≤kij≤m，。属于i级的原始样本数为Ki，则i级到j级的转移概率pij式中，0≤pij≤1，。为了避免马尔可夫链发生多步转移，以及要求在极限状态下才能求得稳定概率分布这一苛刻条件，利用进步度，即谷物联合收割机作业性能是变好还是变坏，对谷物联合收割机作业性能综合质量变化情况进行动态评价。多指标评价参数矩阵的进步矩阵S为:其中，为作业性能评价指标由级变成级转移概率的进步度；表示作业性能改善或恶化的权重，当作业性能变优时为正值，当作业性能变差时为负值，当作业性能不变时为零；表示作业性能评价指标由级变成级转移概率；T表示作业性能的状态空间；J表示谷物联合收割机作业性能的进步度。根据J对谷物联合收获机作业性能综合质量进行综合评价，当J＞0时，谷物联合收获机作业性能变优；当J＜0时，谷物联合收获机作业性能变差；当J=0时，谷物联合收获机作业性能维持不变。实施例2本实施例提出了一种谷物联合收割机作业性能的在线检测系统，如图2所示，所述系统包括：指标计算模块M1，用于采集所述谷物联合收割机的作业性能参数，计算所述谷物联合收割机的作业性能指标，所述作业性能指标包括破碎率、含杂率、清选损失率和夹带损失率；数据处理模块M2，用于确定所述作业性能指标的权重，根据所述权重构建作业性能指标的概率转移矩阵；性能评价模块M3，用于根据所述概率转移矩阵计算所述谷物联合收割机作业性能的进步度；所述进步度为0，表征所述谷物联合收割机作业性能平稳；所述进步度小于0，表征所述谷物联合收割机作业性能变差；所述进步度大于0，表征所述谷物联合收割机作业性能变优。实施例3参阅图3，本实施例提供了一种谷物联合收割机作业性能在线检测装置，，装置整体采用12V直流电源供电。所述装置包括：夹带损失传感器1，安装于谷物联合收割机滚筒末端两侧侧板上，与垂直平面保持45°夹角，用于获取夹带损失率数据。清选损失传感器2，安装于谷物联合收割机清选筛尾部，与垂直平面保持75°夹角，用于获取清选损失率数据。含杂破碎传感器，安装于谷物联合收割机出粮口下方，用于获取破碎率和含杂率数据。包括：谷物取样仓，安装于所述谷物联合收割机出粮口下方，距离出粮口20cm，内部设置有摄像头和数据处理单元；所述摄像头用于实时获取所述出粮口谷物样本图片信息，所述数据处理单元用于根据所述谷物样本图片信息计算含杂率数据与破碎率数据。GPS定位模块4，设置于所述谷物联合收割机上，安装于收获机遮阳棚或驾驶室正中央，用于获取所述谷物联合收割机的实时作业位置和作业速度。工控机5，安装于谷物联合收割机前部，与所述夹带损失传感器、所述清选损失传感器、所述含杂破碎传感器和GPS定位模块通过CAN总线相连，用于根据所述夹带损失率数据、所述清选损失率数据与所述破碎率和含杂率数据采用如实施例1所述方法检测所述谷物联合收割机的作业性能。装置还可以包括功率传感器3，用于测量谷物联合收割机的作业功率参数，如行走速度、割幅等，以便于实时掌握收割机的工作状态，从而更好的对其作业性能进行评价。在装置运行时，首先对在线检测装置上电后进行自检，并进行初始化处理。接着，读取CAN总线上的数据，并将数据保存到堆栈缓存区。然后，判断堆栈数据是否满足系统评价要求，根据作业速度辨别是否属于作业过程，根据堆栈数据量判断是否可以开始性能评价，未满足条件则继续读取CAN总线上的数据。如果满足条件则进行谷物联合收获机田间作业性能在线检测评价，根据评价规则依次建立数据的隶属矩阵、权重系数、参数矩阵、概率转移矩阵、进步矩阵，计算出进步度，根据进步度判定实时的作业性能，并更新数据库数据。最后，判断作业是否完成，未完成则继续读取CAN总线数据进行下个阶段的性能判定，完成则停止退出。本说明书中每个实施例重点说明的都是与其他实施例的不同之处，各个实施例之间相同相似部分互相参见即可。对于实施例公开的系统而言，由于其与实施例公开的方法相对应，所以描述的比较简单，相关之处参见方法部分说明即可。本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处。综上所述，本说明书内容不应理解为对本发明的限制。
