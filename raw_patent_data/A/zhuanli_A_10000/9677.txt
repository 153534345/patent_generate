标题title
基于音乐和能量波函数的叠加增强神经调制方法及装置
摘要abst
本发明提供一种基于音乐和能量波函数的叠加增强神经调制方法及装置，该方法为：生成音乐刺激序列；对所述音乐刺激序列进行解析，获得刺激强度与刺激时间对应的刺激信号序列；刺激控制器根据所述刺激信号序列进行刺激输出。本发明利用音乐固有的节拍和能量波函数重编码刺激控制器的刺激时间戳和强度诱发叠加增强的神经调制效应，从而应用在多种治疗和评估场景中，如卒中后肢体运动障碍、认知障碍、失语症以及老年痴呆、帕金森病及脊髓神经网络兴奋性以及意识障碍等。
权利要求书clms
1.一种基于音乐和能量波函数的叠加增强神经调制方法，其特征在于，该方法为：生成音乐刺激序列；对所述音乐刺激序列进行解析，获得刺激强度与刺激时间对应的刺激信号序列；刺激控制器根据所述刺激信号序列进行刺激输出。2.根据权利要求1所述的基于音乐和能量波函数的叠加增强神经调制方法，其特征在于，所述音乐刺激序列由5分钟的静息基线、随后2分钟的情绪音乐刺激组成，并且每段音乐之间还包含有5分钟的静音清洗，情绪音乐刺激包含高兴、中性、不悦、白噪音以及非音乐刺激，所述情绪音乐刺激内元素的顺序为随机产生。3.根据权利要求2所述的基于音乐和能量波函数的叠加增强神经调制方法，其特征在于，所述生成音乐刺激序列，具体为：从至少9个不同风格的音乐片段中进行随机筛选，筛选出包括3类情绪高兴、不悦和中性的音乐片段，包含非音乐刺激的音乐片段采用MIDI钢琴声音，将所有音乐片段以随机顺序合合并并且适配舒适的声级获得可播放音乐格式的音乐刺激序列。4.根据权利要求3所述的基于音乐和能量波函数的叠加增强神经调制方法，其特征在于，所述可播放音乐格式的音乐刺激序列中，每段音乐片段的时长限定为123秒，其中包含1.5秒淡入和1.5秒淡出以及120秒音乐主体，所述包含非音乐刺激的音乐片段的时长为120毫秒。5.根据权利要求4所述的基于音乐和能量波函数的叠加增强神经调制方法，其特征在于，所述对音乐刺激序列进行解析，获得刺激强度与刺激时间对应的刺激信号序列，具体为：在播放所述可播放音乐格式的音乐刺激序列的过程中进行节奏提取，获得刺激时间，同时提取音乐刺激序列的音色和音高信息，通过激活函数将其映射为阈强度的百分比，获得刺激强度，最后，将所述刺激强度与刺激时间合并，获得刺激强度与刺激时间对应的刺激信号序列。6.根据权利要求5所述的基于音乐和能量波函数的叠加增强神经调制方法，其特征在于，所述在播放所述可播放音乐格式的音乐刺激序列的过程中进行节奏提取，获得刺激时间，同时提取音乐刺激序列的音色和音高信息，具体为：遍历其它轨道，逐一提取事件类别、通道、音符、力度、时间戳等一系列信息，以列表的形式输出，查找note_on及note_off之间所对应的音符、力度、时间戳，根据所述音符、力度、时间戳确定节拍点，所述拍速通过ticks_per_beat方法从可播放音乐格式的音乐刺激序列中直接读取。7.根据权利要求6所述的基于音乐和能量波函数的叠加增强神经调制方法，其特征在于，如果可播放音乐格式的音乐刺激序列为多音轨时，所述刺激信号序列将刺激强度和刺激时间整合为单音轨。8.根据权利要求7所述的基于音乐和能量波函数的叠加增强神经调制方法，其特征在于，所述刺激控制器根据所述刺激信号序列进行刺激输出，具体为：将单音轨的刺激信号序列转换为二进制编码字符串，通过UDP广播的形式发送到刺激控制器，所述刺激控制器执行所述二进制编码字符串。9.根据权利要求8所述的基于音乐和能量波函数的叠加增强神经调制方法，其特征在于，所述刺激控制器为tACS控制器或TMS控制器中的一种。10.一种基于音乐和能量波函数的叠加增强神经调制装置，其特征在于，该装置包括序列设计模块、解析模块、刺激控制器；所述序列设计模块，用于生成音乐刺激序列；所述解析模块，用于对所述音乐刺激序列进行解析，获得刺激强度与刺激时间对应的刺激信号序列；所述刺激控制器，用于据所述刺激信号序列进行刺激输出。11.根据权利要求10所述的基于音乐和能量波函数的叠加增强神经调制装置，其特征在于，所述序列设计模块，具体用于从至少9个不同风格的音乐片段中进行随机筛选，筛选出包括3类情绪高兴、不悦和中性的音乐片段，包含非音乐刺激的音乐片段采用MIDI钢琴声音，将所有音乐片段以随机顺序合合并并且适配舒适的声级获得可播放音乐格式的音乐刺激序列；所述音乐刺激序列由5分钟的静息基线、随后2分钟的情绪音乐刺激组成，并且每段音乐之间还包含有5分钟的静音清洗，情绪音乐刺激包含高兴、中性、不悦、白噪音以及非音乐刺激，所述情绪音乐刺激内元素的顺序为随机产生；从至少9个不同风格的音乐片段中进行随机筛选，筛选出包括3类情绪高兴、不悦和中性的音乐片段，包含非音乐刺激的音乐片段采用MIDI钢琴声音，将所有音乐片段以随机顺序合合并并且适配舒适的声级获得可播放音乐格式的音乐刺激序列。12.根据权利要求11所述的基于音乐和能量波函数的叠加增强神经调制装置，其特征在于，所述解析模块，具体用于在播放所述可播放音乐格式的音乐刺激序列的过程中进行节奏提取，获得刺激时间，同时提取音乐刺激序列的音色和音高信息，通过激活函数将其映射为阈强度的百分比，获得刺激强度，将所述刺激强度与刺激时间合并，获得刺激强度与刺激时间对应的刺激信号序列。13.根据权利要求12所述的基于音乐和能量波函数的叠加增强神经调制装置，其特征在于，所述解析模块，还具体用于遍历其它轨道，逐一提取事件类别、通道、音符、力度、时间戳等一系列信息，以列表的形式输出，查找note_on及note_off之间所对应的音符、力度、时间戳，根据所述音符、力度、时间戳确定节拍点，所述拍速通过ticks_per_beat方法从可播放音乐格式的音乐刺激序列中直接读取。14.根据权利要求13所述的基于音乐和能量波函数的叠加增强神经调制装置，其特征在于，所述刺激控制器，具体用于将单音轨的刺激信号序列转换为二进制编码字符串，通过UDP广播的形式发送到刺激控制器，所述刺激控制器执行所述二进制编码字符串。
说明书desc
技术领域本发明属于生物电神经调制技术技术领域，具体是涉及一种基于音乐和能量波函数的叠加增强神经调制方法及装置。背景技术近年来，非侵入式神经调控技术被广泛应用于各种神经精神疾病的临床康复和治疗研究当中，主要包括帕金森症、重度抑郁症、药物成瘾,以及意识障碍的诊断等。虽然非侵入式神经调控技术具有无创、便捷的特点，但与侵入式干预设备相比其调制效果较弱且调控不够精细。临床上亟需开发有效的新型神经调控手段以治疗不必要神经外科开颅手术的病患。临床上常用的神经调控疗法主要包括生物电刺激以及磁刺激两类。其中电刺激主要包括经颅直流电刺激以及经颅交流电刺激，两者的区别在于tACS技术中刺激电流的强度和频率可以按程序预设随时间发生改变。相比于磁刺激技术，应用在神经调制领域的生物电刺激技术更为成熟，有直接的RCT试验确证其治疗效果的有效性，可以通过改变大脑外周电场从而直接影响神经网络的兴奋性及抑制性状态，在心理干预、精神类疾病以及神经康复领域的临床实践中得到了更广泛的应用。现有的基于生物电或刺激的神经调制技术其模式存在一定局限性：tDCS其电场是恒定的，无法动态调控大脑的激活状态，tACS技术虽然能够让刺激电流在一定范围内发生改变，但这种变化遵循单调固定的刺激模式，刺激序列本身并不携带有意义的信息，因此对脑高级功能的影响十分有限。开发更加有效的神经调制技术具有重要的临床意义及应用空间。发明内容本发明的目的就在于为了解决目前临床中常用神经调制刺激强度低、效果差的技术问题而提供一种基于音乐和能量波函数的叠加增强神经调制方法及装置。为实现上述技术目的，本发明提供了以下技术方案：本发明提供一种基于音乐和能量波函数的叠加增强神经调制方法，该方法为：生成音乐刺激序列；对所述音乐刺激序列进行解析，获得刺激强度与刺激时间对应的刺激信号序列；刺激控制器根据所述刺激信号序列进行刺激输出。尤其地，所述音乐刺激序列由5分钟的静息基线、随后2分钟的情绪音乐刺激组成，并且每段音乐之间还包含有5分钟的静音清洗，情绪音乐刺激包含高兴、中性、不悦、白噪音以及非音乐刺激，所述情绪音乐刺激内元素的顺序为随机产生。尤其地，所述生成音乐刺激序列，具体为：从至少9个不同风格的音乐片段中进行随机筛选，筛选出至少包括3类情绪的音乐片段，包含非音乐刺激的音乐片段采用MIDI钢琴声音，将所有音乐片段以随机顺序合合并并且适配舒适的声级获得可播放音乐格式的音乐刺激序列。尤其地，所述可播放音乐格式的音乐刺激序列中，每段音乐片段的时长限定为123秒，其中包含1.5秒淡入和1.5秒淡出以及123秒音乐主体，所述包含非音乐刺激的音乐片段的时长为120毫秒。尤其地，所述对所述音乐刺激序列进行解析，获得刺激强度与刺激时间对应的刺激信号序列，具体为：在播放所述可播放音乐格式的音乐刺激序列的过程中进行节奏提取，获得刺激时间，同时提取音乐刺激序列的音色和音高信息，通过激活函数将其映射为阈强度的百分比，获得刺激强度，最后，将所述刺激强度与刺激时间合并，获得刺激强度与刺激时间对应的刺激信号序列。尤其地，所述在播放所述可播放音乐格式的音乐刺激序列的过程中进行节奏提取，获得刺激时间，同时提取音乐刺激序列的音色和音高信息，具体为：遍历其它轨道，逐一提取事件类别、通道、音符、力度、时间戳等一系列信息，以列表的形式输出，查找note_on及note_off之间所对应的音符、力度、时间戳，根据所述音符、力度、时间戳确定节拍点，所述拍速通过ticks_per_beat方法从可播放音乐格式的音乐刺激序列中直接读取。尤其地，如果可播放音乐格式的音乐刺激序列为多音轨时，所述刺激信号序列将刺激强度和刺激时间整合为单音轨。尤其地，所述刺激控制器根据所述刺激信号序列进行刺激输出，具体为：将单音轨的刺激信号序列转换为二进制编码字符串，通过UDP广播的形式发送到刺激控制器，所述刺激控制器执行所述二进制编码字符串。尤其地，所述刺激控制器为tACS控制器或TMS控制器中的一种。本发明实施例还提供一种基于音乐和能量波函数的叠加增强神经调制装置，该装置包括序列设计模块、解析模块、刺激控制器；所述序列设计模块，用于生成音乐刺激序列；所述解析模块，用于对所述音乐刺激序列进行解析，获得刺激强度与刺激时间对应的刺激信号序列；所述刺激控制器，用于据所述刺激信号序列进行刺激输出。尤其地，所述序列设计模块，具体用于从至少9个不同风格的音乐片段中进行随机筛选，筛选出包括3类情绪高兴、不悦和中性的音乐片段，包含非音乐刺激的音乐片段采用MIDI钢琴声音，将所有音乐片段以随机顺序合合并并且适配舒适的声级获得可播放音乐格式的音乐刺激序列；所述音乐刺激序列由5分钟的静息基线、随后2分钟的情绪音乐刺激组成，并且每段音乐之间还包含有5分钟的静音清洗，情绪音乐刺激包含高兴、中性、不悦、白噪音以及非音乐刺激，所述情绪音乐刺激内元素的顺序为随机产生；从至少9个不同风格的音乐片段中进行随机筛选，筛选出包括3类情绪高兴、不悦和中性的音乐片段，包含非音乐刺激的音乐片段采用MIDI钢琴声音，将所有音乐片段以随机顺序合合并并且适配舒适的声级获得可播放音乐格式的音乐刺激序列。尤其地，所述解析模块，具体用于在播放所述可播放音乐格式的音乐刺激序列的过程中进行节奏提取，获得刺激时间，同时提取音乐刺激序列的音色和音高信息，通过激活函数将其映射为阈强度的百分比，获得刺激强度，最后，将所述刺激强度与刺激时间合并，获得刺激强度与刺激时间对应的刺激信号序列。尤其地，所述解析模块，还具体用于遍历其它轨道，逐一提取事件类别、通道、音符、力度、时间戳等一系列信息，以列表的形式输出，查找note_on及note_off之间所对应的音符、力度、时间戳，根据所述音符、力度、时间戳确定节拍点，所述拍速通过ticks_per_beat方法从可播放音乐格式的音乐刺激序列中直接读取。尤其地，所述刺激控制器，具体用于将单音轨的刺激信号序列转换为二进制编码字符串，通过UDP广播的形式发送到刺激控制器，所述刺激控制器执行所述二进制编码字符串。有益效果在于：本发明利用音乐固有的节拍和能量波函数重编码刺激控制器的刺激时间戳和强度诱发叠加增强的神经调制效应，从而应用在多种治疗和评估场景中，如卒中后肢体运动障碍、认知障碍、失语症以及老年痴呆、帕金森病及脊髓神经网络兴奋性以及意识障碍等。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明的流程图；图2是本发明中音乐片段随机筛选的示意图；图3是本发明中对所述音乐刺激序列进行解析的示意图；图4是本发明中对所述音乐与刺激序列信号发生程序界面；图5是本发明中对所述刺激序列控制模块单元流程图；图6是本发明使用时的脑电示意图；图7是本发明的连接框图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将对本发明的技术方案进行详细的描述。显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动的前提下所得到的所有其它实施方式，都属于本发明所保护的范围。本发明提供一种基于音乐和能量波函数的叠加增强神经调制方法，该方法为：步骤1：生成音乐刺激序列；具体地，所述音乐刺激序列由5分钟的静息基线、随后2分钟的情绪音乐刺激组成，并且每段音乐之间还包含有5分钟的静音清洗，情绪音乐刺激包含高兴、中性、不悦、白噪音以及非音乐刺激，所述情绪音乐刺激内元素的顺序为随机产生。所述静音清洗是指无声的情况下让大脑活动恢复平静。如图2所示，从至少9个不同风格的音乐片段中进行随机筛选，筛选出包括3类情绪高兴、不悦和中性的音乐片段，包含非音乐刺激的音乐片段采用MIDI钢琴声音，将所有音乐片段以随机顺序合并并且适配舒适的声级获得可播放音乐格式的音乐刺激序列。所述可播放音乐格式的音乐刺激序列中，每段音乐片段的时长限定为123秒，其中包含1.5秒淡入和1.5秒淡出以及120秒音乐主体，所述包含非音乐刺激的音乐片段的时长为120毫秒。所述可播放音乐格式可以采用midi格式。步骤2：对所述音乐刺激序列进行解析，获得刺激强度与刺激时间对应的刺激信号序列；具体地，如图3、图4和图5所示，在播放所述可播放音乐格式的音乐刺激序列的过程中进行节奏提取，获得刺激时间，同时提取音乐刺激序列的音色和音高信息，通过激活函数将其映射为阈强度的百分比，获得刺激强度，最后，将所述刺激强度与刺激时间合并，获得刺激强度与刺激时间对应的刺激信号序列。speed；key；pow相关系数＝F*speed*key。刺激强度的计算公式为：ST＝MEP threshold*sigmoid。遍历其它轨道，逐一提取事件类别、通道、音符、力度、时间戳等一系列信息，以列表的形式输出，查找note_on及note_off之间所对应的音符、力度、时间戳，根据所述音符、力度、时间戳确定节拍点，所述拍速通过ticks_per_beat方法从可播放音乐格式的音乐刺激序列中直接读取。如果可播放音乐格式的音乐刺激序列为多音轨时，所述刺激信号序列将刺激强度和刺激时间整合为单音轨。步骤3：刺激控制器根据所述刺激信号序列进行刺激输出。具体地，将单音轨的刺激信号序列转换为二进制编码字符串，通过UDP广播的形式发送到刺激控制器，所述刺激控制器执行所述二进制编码字符串，其中刺激控制器为tACS控制器或TMS控制器中的一种。试验数据：tACS刺激控制器采用美国Soterix medical 1000刺激控制器，TMS刺激控制器采用依瑞德科技有限公司NS-1000。首先进行MEP测试，将刺激强度调节为最大反应强度的60％，刺激位置定位在运动皮层M1区域，记录位置主要包括左右前叶、颞叶以及额中线。在整个刺激过程中，受试者以半卧位躺在治疗床上，音乐刺激通过一台笔记本连接一付高保真主动降噪耳机给出，笔记本电脑上安装的刺激发生程序在输出音乐的同时，按照标记过的音乐序列时间戳，通过USB接口将刺激脉冲输出，再通过一个定制的信号转接芯片将其转换成对应的方波信号，并传入到tACS刺激器的TTL口中以激发tACS刺激。如图6所示脑电示意图，左边是采用临床常规的TBS模式的tACS刺激，右边是音乐编码的tACS刺激，可以看到右边脑电活动的复杂度以及高频脑电成分明显高于左边。由于tACS固有的便携性以及易操作性的特点，在此技术上衍生而言的本发明可以被应用在多种临床应用场景中。例如：对不便转移的意识障碍患者进行床旁的意识状态评估；或者针对脑内有金属支架等异物无法进行影像学检查的患者开展相关评估。本发明实施例还提供一种基于音乐和能量波函数的叠加增强神经调制装置，如图7所示，该装置包括序列设计模块、解析模块、tACS刺激控制器；所述序列设计模块用于生成音乐刺激序列；所述解析模块用于对所述音乐刺激序列进行解析，获得刺激强度与刺激时间对应的刺激信号序列；所述tACS刺激控制器或TMS刺激控制器，用于据所述刺激信号序列进行刺激输出。所述序列设计模块具体用于从至少9个不同风格的音乐片段中进行随机筛选，筛选出包括3类情绪高兴、不悦和中性的音乐片段，包含非音乐刺激的音乐片段采用MIDI钢琴声音，将所有音乐片段以随机顺序合合并并且适配舒适的声级获得可播放音乐格式的音乐刺激序列；所述音乐刺激序列由5分钟的静息基线、随后2分钟的情绪音乐刺激组成，并且每段音乐之间还包含有5分钟的静音清洗，情绪音乐刺激包含高兴、中性、不悦、白噪音以及非音乐刺激，所述情绪音乐刺激内元素的顺序为随机产生；从至少9个不同风格的音乐片段中进行随机筛选，筛选出包括3类情绪高兴、不悦和中性的音乐片段，包含非音乐刺激的音乐片段采用MIDI钢琴声音，将所有音乐片段以随机顺序合合并并且适配舒适的声级获得可播放音乐格式的音乐刺激序列。所述解析模块具体用于在播放所述可播放音乐格式的音乐刺激序列的过程中进行节奏提取，获得节拍点和拍速，同时提取每个节拍点对应的音色和力度信息，通过激活函数将其映射为阈强度的百分比，获得刺激强度与刺激时间对应的刺激信号序列。所述解析模块还具体用于遍历其它轨道，逐一提取事件类别、通道、音符、力度、时间戳等一系列信息，以列表的形式输出，查找note_on及note_off之间所对应的音符、力度、时间戳，根据所述音符、力度、时间戳确定节拍点，所述拍速通过ticks_per_beat方法从可播放音乐格式的音乐刺激序列中直接读取。所述解析模块还具体用于根据音色和力度信息换算对应的音强，所述音强即为刺激强度，所述节拍点即为刺激时间，将两者合并即为刺激强度与刺激时间对应的刺激信号序列。所述刺激控制器具体用于将单音轨的刺激信号序列转换为二进制编码字符串，通过UDP广播的形式发送到刺激控制器，所述刺激控制器执行所述二进制编码字符串。以上，仅为本发明较佳的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，根据本发明的技术方案及其发明构思加以等同替换或改变，都应涵盖在本发明的保护范围之内。
