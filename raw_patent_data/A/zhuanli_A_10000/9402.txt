标题title
一种基于电机属性的容量检测方法及食品加工机
摘要abst
本发明公开了一种基于电机属性的容量检测方法及食品加工机，该方法包括：在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值；将采集的容量与采集的电机属性值进行拟合处理，拟合出容量与电机属性值的拟合关系；根据实际电机属性值与拟合关系比对以确定食品加工机加工时的容量。本发明公开的基于电机属性的容量检测方法及食品加工机，实现了食品加工机容量与电机属性值的快速拟合，基于电机的属性区分不同容量，实现食品加工机的智能化和自动化，且减小系统传感器，从而减少硬件成本。
权利要求书clms
1.一种基于电机属性的容量检测方法，其特征在于，包括：在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值；将采集的容量与采集的电机属性值进行拟合处理，拟合出容量与电机属性值的拟合关系；根据实际电机属性值与所述拟合关系比对以确定食品加工机加工时的容量。2.根据权利要求1所述的方法，其特征在于，在所述电机为恒电压控制时，所述电机属性值包括电机电流值；或者，在所述电机为恒电流控制时，所述电机属性值包括电机电压值；或者，在所述电机为恒功率控制时，所述电机属性值包括电机电流值或电机电压值。3.根据权利要求1或2所述的方法，其特征在于，分别采集食品加工机的容量与电机属性值之前，所述方法还包括：检测是否电机负载未饱和；在电机负载未饱和时，分别采集食品加工机的容量与电机属性值；其中，电机负载未饱和是指：电机属性值随着容量的变化而变化。4.根据权利要求1所述的方法，其特征在于，所述根据实际电机属性值与所述拟合关系比对以确定食品加工机加工时的容量，包括：基于二分法将所述拟合关系划分为高水位区域和低水位区域；根据实际电机属性值位于所述拟合关系的高水位区域还是低水位区域，以确定食品加工机加工时的容量属于高水位还是低水位。5.根据权利要求1所述的方法，其特征在于，所述根据实际电机属性值与所述拟合关系比对以确定食品加工机加工时的容量，包括：将所述实际电机属性值与所述拟合关系比对，以确定食品加工机加工时容量的具体取值。6.根据权利要求4或5所述的方法，其特征在于，所述拟合关系包括：拟合直线、连续函数或离散表格。7.根据权利要求1或2所述的方法，其特征在于，所述分别采集食品加工机的不同容量以及各容量对应的电机属性值，包括：控制电机以恒电压方式运行，在电机以恒电压方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电流值；或者；控制电机以恒电流方式运行，在电机以恒电流方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电压值；或者；控制电机以恒功率方式运行，在电机以恒功率方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电流值；或者；控制电机以恒功率方式运行，在电机以恒功率方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电压值。8.根据权利要求1或2所述的方法，其特征在于，采集食品加工机各容量对应的电机属性值包括：在所述电机为恒电压控制时，以预设频率f采集食品加工机各容量对应的电机电流值；或者；在所述电机为恒电流控制时，以预设频率f采集食品加工机各容量对应的电机电压值；或者；在所述电机为恒功率控制时，以预设频率f采集食品加工机各容量对应的电机电流值或电机电压值；所述预设频率f符合香农采样定理：f≥2fmax，其中，fmax为电网频率。9.根据权利要求8所述的方法，其特征在于，所述将采集的容量与采集的电机属性值进行拟合处理之前，所述方法还包括：对采集的各容量对应的电机属性值进行滤波，所述滤波用于增加容量的区分度。10.一种食品加工机，其特征在于，包括：采集模块，用于在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值；拟合模块，用于将采集的容量与采集的电机属性值进行拟合处理，拟合出容量与电机属性值的拟合关系；确定模块，用于根据实际电机属性值与所述拟合关系比对以确定食品加工机加工时的容量。
说明书desc
技术领域本发明涉及厨房家电领域，尤指一种基于电机属性的容量检测方法及食品加工机。背景技术在如今食品加工机中，随着消费升级及需求增加，消费者对食品加工机的性能和容量要求与日俱增。然而，随着容量的增加，食品加工机结构越来越难以满足在各种容量下的性能需求，容量已成为食品加工机的加工的重要检测要素。比如典型的面条机系统中，对于不同容量及面水比，需要配合不同的搅拌档位及搅拌时间；且由于加入面食机搅拌杯的液体容量的多少，直接影响制成面食的劲道或成型，是面食机是否制作成功的关键。比如大容量破壁料理机，对于同一套控制流程，很难满足不同容量的诸如粉碎率和残余颗粒等性能需求；且由于加入破壁料理机的液体容量的多少，直接影响制成饮品的味道或浓稠度，是破壁料理机是否制作成功的关键。目前，主要通过使用额外的水位传感器检测容量，或在交互界面供用户手动选择容量。然而，对于使用额外的水位传感器检测容量，需要增加传感器，增加硬件成本，从而增加食品加工机设计及制造的复杂度；对于交互界面供用户手动选择容量，需要增加交互界面，从而增加交互界面的硬件成本，并使得产品不够智能化。发明内容第一方面，本申请提供了一种基于电机属性的容量检测方法，包括：在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值；将采集的容量与采集的电机属性值进行拟合处理，拟合出容量与电机属性值的拟合关系；根据实际电机属性值与所述拟合关系比对以确定食品加工机加工时的容量。第二方面，本申请提供了一种食品加工机，包括：采集模块，用于在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值；拟合模块，用于将采集的容量与采集的电机属性值进行拟合处理，拟合出容量与电机属性值的拟合关系；确定模块，用于根据实际电机属性值与所述拟合关系比对以确定食品加工机加工时的容量。本发明至少一个实施例提供的基于电机属性的容量检测方法及食品加工机，与现有技术相比，具有以下有益效果：将电机属性与容量关联，基于电机属性与容量的拟合关系检测食品加工机加工时的容量，在实际应用中，只需将食品加工机正常加工时的实际电机属性值与预先存储的拟合关系比对，即可确定食品加工机加工时的容量。实现了食品加工机容量与电机属性值的快速拟合，基于电机的属性，区分不同容量，实现食品加工机的智能化和自动化，且减小系统传感器，从而减少硬件成本。另外，本发明实施例可以在食品加工机出厂设置时，进入预设模式对该食品加工机的容量与电机属性值进行快速配置和拟合，实现了食品加工机容量与电机属性值拟合关系的快速配置，简化了人工成本，且可以避免在食品加工机型号不同时，需由产线工人根据每台食品加工机的型号调整容量与电机属性值的拟合关系，导致效率较低的问题。另外，本发明实施例可以在食品加工机正常工作时，进入预设模式对该食品加工机的容量与电机属性值进行快速配置和拟合，实现了食品加工机容量与电机属性值拟合关系的快速配置，且可以在食品加工机工作中不断更新容量与电机属性值拟合关系。另外，本发明实施例在食品加工机正常工作进入预设模式时，可以通过食品加工机之前工作时预存的采集数据进行拟合，不用每次采集数据，可以提高容量与电机属性值拟合关系的配置速度。另外，在食品加工机实时运行中，将实际电机属性值与预先存储的拟合关系比对，即可确定食品加工机加工时的容量。可以允许系统在实时运行时，判定容量并立即得出结果，不影响系统的连续运行，实现食品加工机的智能化和自动化。本发明实施例的一些实施方式中，在电机不同的控制方式下，电机不同的特性可与容量对应，还可以达到以下效果：1、对于恒电压控制的电机，电机电流值与容量具有映射关系，可以检测电机电流值对应容量的关系，相同容量的变化下，电流绝对值的变化较大，可以提高容量的区分度，减小容量识别的误差。2、在电机为恒电流控制时，电机电压值与容量具有映射关系，可以检测电机电压值对应容量的关系，相同容量的变化下，电压绝对值的变化较大，可以提高容量的区分度，减小容量识别的误差。3、在电机为恒功率控制时，电机电压值和电机电流值分别与容量具有映射关系。可以检测电机电压值对应容量的关系，或检测电机电流对应容量的关系，可以提高容量的区分度，减小容量识别的误差。本发明实施例的一些实施方式中，确定食品加工机加工时的容量，还可以达到以下效果：1、将拟合关系进行容量的不同区域划分，根据实际电机属性值即可确定容量所属的区域范围，容量判定形式多样，应用更广泛。2、拟合关系包括电机属性值与容量大小值的一一对应关系，根据实际电机属性值即可确定容量的具体，容量判定更加精确。本发明实施例的一些实施方式中，还可以达到以下效果：1、对获取的数据进行滤波、训练和拟合后得到容量判定条件，简化判定流程，可以提高容量识别的准确率。2、在预设模式下采集用于拟合关系的不同容量以及各容量对应的电机属性值时，需要在延迟时间达到时进行采集，以保证电机属性值采集的准确性。3、在采集电机属性值时，采样频率符合香农采样定理，以在数据采集时获取电机最丰富的运行信息，提高拟合关系的准确性，从而提高容量识别的准确性。本申请的其它特征和优点将在随后的说明书中阐述，并且，部分地从说明书中变得显而易见，或者通过实施本申请而了解。本申请的其他优点可通过在说明书以及附图中所描述的方案来实现和获得。附图说明附图用来提供对本申请技术方案的理解，并且构成说明书的一部分，与本申请的实施例一起用于解释本申请的技术方案，并不构成对本申请技术方案的限制。图1为本发明实施例提供的一基于电机属性的容量检测方法的流程图；图2为本发明实施例提供的一容量与电机属性值拟合关系的示意图；图3为本发明实施例提供的另一容量与电机属性值拟合关系的示意图；图4为本发明实施例提供的另一基于电机属性的容量检测方法的流程图；图5为本发明实施例提供的各容量对应的电机属性值滤波后的数据示意图；图6为本发明实施例提供的滤波后的容量与电机属性值拟合关系的示意图；图7为本发明实施例提供的容量实时判定的流程图；图8为本发明实施例提供的不同电机档位下时间—电机电流值的示意图；图9为本发明实施例提供的食品加工机的结构示意图；图10为本发明实施例提供的具有数据处理控制器的食品加工机的结构框图；图11为本发明实施例提供的不具有数据处理控制器的食品加工机的结构框图。具体实施方式本申请描述了多个实施例，但是该描述是示例性的，而不是限制性的，并且对于本领域的普通技术人员来说显而易见的是，在本申请所描述的实施例包含的范围内可以有更多的实施例和实现方案。尽管在附图中示出了许多可能的特征组合，并在具体实施方式中进行了讨论，但是所公开的特征的许多其它组合方式也是可能的。除非特意加以限制的情况以外，任何实施例的任何特征或元件可以与任何其它实施例中的任何其他特征或元件结合使用，或可以替代任何其它实施例中的任何其他特征或元件。本申请包括并设想了与本领域普通技术人员已知的特征和元件的组合。本申请已经公开的实施例、特征和元件也可以与任何常规特征或元件组合，以形成由权利要求限定的独特的发明方案。任何实施例的任何特征或元件也可以与来自其它发明方案的特征或元件组合，以形成另一个由权利要求限定的独特的发明方案。因此，应当理解，在本申请中示出和/或讨论的任何特征可以单独地或以任何适当的组合来实现。因此，除了根据所附权利要求及其等同替换所做的限制以外，实施例不受其它限制。此外，可以在所附权利要求的保护范围内进行各种修改和改变。此外，在描述具有代表性的实施例时，说明书可能已经将方法和/或过程呈现为特定的步骤序列。然而，在该方法或过程不依赖于本文所述步骤的特定顺序的程度上，该方法或过程不应限于所述的特定顺序的步骤。如本领域普通技术人员将理解的，其它的步骤顺序也是可能的。因此，说明书中阐述的步骤的特定顺序不应被解释为对权利要求的限制。此外，针对该方法和/或过程的权利要求不应限于按照所写顺序执行它们的步骤，本领域技术人员可以容易地理解，这些顺序可以变化，并且仍然保持在本申请实施例的精神和范围内。本发明提供一种基于电机属性的容量检测方案，首先可以通过如下方式设置容量与电机属性值的拟合关系：一是可以在食品加工机出厂设置时，进入预设模式，进行容量与电机属性值的拟合，拟合出并存储容量与电机属性值的拟合关系；二是可以在食品加工机正常工作时，进入预设模式，基于前几次工作时采集的数据进行拟合，拟合出并存储容量与电机属性值的拟合关系。三是容量与电机属性值的拟合关系已预先确定，在出厂设置时直接配置好容量与电机属性值的拟合关系。然后在实际应用中，只需将食品加工机正常加工时的实际电机属性值与预先存储的拟合关系比对，即可确定食品加工机加工时的容量。实现了食品加工机容量与电机属性值的快速拟合，基于电机的属性区分不同容量，实现食品加工机的智能化和自动化，且减小系统传感器，从而减少硬件成本。实施例一图1为本发明实施例提供的一基于电机属性的容量检测方法的流程图，如图1所示，本发明实施例提供的基于电机属性的容量检测方法，其执行主体可以是食品加工机中的控制器，其具体可以包括：S101：在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值。本实施例中，将电机属性与容量关联，基于电机属性与容量的映射关系检测食品加工机的容量。具体的，可以在食品加工机进入预设模式下，设置容量与电机属性值的拟合关系。其中，预设模式可以是食品加工机出厂设置时的拟合配置模式，也可以是食品加工机正常工作时的预设配置模式，比如特定档位模式。可选的，在食品加工机出厂设置时，控制器判断是否启动拟合配置模式，控制器一直循环查询，直到拟合配置模式被触发。在进入拟合配置模式后，采集食品加工机的不同容量以及各容量对应的电机属性值，拟合确定容量与电机属性值的拟合关系。可选的，在食品加工机正常工作时，控制器判断是否启动预设配置模式，控制器一直循环查询，直到预设配置模式被触发。在进入预设配置模式后，采集食品加工机的不同容量以及各容量对应的电机属性值，或者获取之前采集保存的不同容量以及各容量对应的电机属性值，拟合确定容量与电机属性值的拟合关系。可选的，在容量与电机属性值的拟合关系已预先确定时，可以在出厂设置或工作时进入预设模式，直接配置容量与电机属性值的拟合关系。本实施例中，为了便于出厂设置或工作时调试，可以在食品加工机的显示面板上通过组合按键等方式设置预设模式的触发按键，通过显示面板上的组合按键等进入预设模式。其中，采集食品加工机的不同容量以及各容量对应的电机属性值时，可以通过控制器控制容量的取值以预设规则变化，在容量大小变化时，采集对应的电机属性值。其中，预设规则变化可以包括：从大到小连续变化，或者从小到大连续变化，或者以预设差值的比例变化。本实施例中，电机属性值可以包括电机电流值，在电机为恒电流控制时，电机电流值与容量之间存在映射关系，其具体说明可详见下述实施例的描述，本实施例在此不进行赘述。S102：将采集的容量与采集的电机属性值进行拟合处理，拟合出容量与电机属性值的拟合关系。本实施例中，在拟合出容量与电机属性值的拟合关系后，存储该拟合关系，并退出预设模式。其中，容量与电机属性值的拟合处理可以采用现有拟合技术，本实施例在此不进行限定和赘述。S103：根据实际电机属性值与拟合关系比对以确定食品加工机加工时的容量。其中，食品加工机加工时的容量是指食品加工机正常工作时产生实际电机属性值时所使用的容量。本实施例中，在退出模式下，即用户上电，食品加工机在正常工作模式下，获取食品加工机正常工作时的实际电机属性，以及自动读取存储的拟合关系，然后根据读取的拟合关系确定食品加工机产生该实际电机属性时所使用的容量。本发明实施例提供的基于电机属性的容量检测方法，将电机属性与容量关联，基于电机属性与容量的拟合关系检测食品加工机加工时的容量，在实际应用中，只需将食品加工机正常加工时的实际电机属性值与预先存储的拟合关系比对，即可确定食品加工机加工时的容量。实现了食品加工机容量与电机属性值的快速拟合，基于电机的属性，区分不同容量，实现食品加工机的智能化和自动化，且减小系统传感器，从而减少硬件成本。另外，本发明实施例可以在食品加工机出厂设置时，进入预设模式对该食品加工机的容量与电机属性值进行快速配置和拟合，实现了食品加工机容量与电机属性值拟合关系的快速配置，简化了人工成本，且可以避免在食品加工机型号不同时，需由产线工人根据每台食品加工机的型号调整容量与电机属性值的拟合关系，导致效率较低的问题。另外，本发明实施例可以在食品加工机正常工作时，进入预设模式对该食品加工机的容量与电机属性值进行快速配置和拟合，实现了食品加工机容量与电机属性值拟合关系的快速配置，且可以在食品加工机工作中不断更新容量与电机属性值拟合关系。另外，本发明实施例在食品加工机正常工作进入预设模式时，可以通过食品加工机之前工作时预存的采集数据进行拟合，不用每次采集数据，可以提高容量与电机属性值拟合关系的配置速度。进一步地，在上述实施例中，根据实际电机属性值与拟合关系比对以确定食品加工机加工时的容量，可以包括以下几种实现方式：第一种实现方式：基于二分法将拟合关系划分为高水位区域和低水位区域；根据实际电机属性值位于拟合关系的高水位区域还是低水位区域，以确定食品加工机加工时的容量属于高水位还是低水位。本实施例中，在生成拟合关系时，可以将拟合关系分为但并不仅限于两个区域：大于或等于水位阈值的高水位区域和小于水位阈值的低水位区域，在食品加工机在实际工作中，实时检测食品加工机工作时的实际电机属性值，通过判定实际电机属性值落在拟合关系的区域，即可确定食品加工机工作时使用的容量情况。其中，本实施例对拟合关系的区域划分，可以根据实际情况而定，并不仅限于本实施例的高水位区域和低水位区域两个区域。比如，可以根据实际情况，将拟合关系划分为三个区域：大于或等于第一水位阈值的高水位区域、大于或等于第二水位阈值但小于第一水位阈值的中水位区域和小于第二水位阈值的低水位区域。举例来说，本实施例以拟合关系是拟合函数，拟合关系划分为高水位区域和低水位区域两个区域，电机属性值为电机电流为例。图2为本发明实施例提供的一容量与电机属性值拟合关系的示意图，如图2所示，在食品加工机在实际工作中，检测到食品加工机工作时的实际电机属性值为A，通过判定实际电机属性值A落在拟合关系的区域，即可确定食品加工机工作时使用的容量为低水位。其中，图2中横坐标表示容量，其单位是ml，纵坐标表示电机电流值，其单位是毫安。高水位区域和低水位区域的划分并不仅限于图2中的以1200ml为划分界限，其具体划分界限可根据食品加工机的类型或实际情况而定。本发明实施例，将拟合关系进行容量的不同区域划分，根据实际电机属性值即可确定容量所属的区域范围，容量判定形式多样，应用更广泛。第二种实现方式：将实际电机属性值与拟合关系比对，以确定食品加工机加工时容量的具体取值。本实施例中，在生成拟合关系时，拟合关系可以包括电机属性值与容量大小值的一一对应关系，在食品加工机在实际工作中，实时检测食品加工机工作时的实际电机属性值，通过查找实际电机属性值在拟合关系中的对应关系值，即可确定食品加工机工作时使用的容量情况。举例来说，本实施例以拟合关系是拟合函数，电机属性值为电机电流为例。图3为本发明实施例提供的另一容量与电机属性值拟合关系的示意图，如图3所示，在食品加工机在实际工作中，检测到食品加工机工作时的实际电机属性值为A，通过查找实际电机属性值A在拟合关系中的对应关系值，即可确定食品加工机工作时使用的容量水位大小为1000ml。其中，图3中横坐标表示容量，其单位是ml，纵坐标表示电机电流值，其单位是毫安。本发明实施例，拟合关系包括电机属性值与容量大小值的一一对应关系，根据实际电机属性值即可确定容量的具体，容量判定更加精确。进一步地，在上述实施例中，拟合关系可以包括：拟合直线、连续函数或离散表格。其中，拟合关系可以但并限于正相关映射。进一步地，在上述实施例中，在电机不同的控制方式下，电机不同的特性可与容量对应。具体的，对于恒电压控制的电机，可以检测电机电流对应容量的关系；对于恒电流控制的电机，可以检测电机电压对应容量的关系；对于恒功率控制的电机，可以检测电机电压或电机电流对应容量的关系。可选的，在电机为恒电压控制时，电机属性值可以包括电机电流值。本实施例中，在电机为恒电压控制时，电机电流值与容量具有映射关系。本实施例对于恒电压控制的电机，可以检测电机电流对应容量的关系，相同容量的变化下，电流绝对值的变化较大，即检测的分辨率越大，可以提高容量的区分度，即提高识别率，减小容量识别的误差。其中，电机电流值与容量具有映射关系的论证详见下述实施例，本实施例在此不进行赘述。可选的，电机的全波电压控制模式下，电流识别对用的容量的区分度最大。其具体论证详见下述实施例描述，本实施例在此不进行赘述。可选的，本实施例一可替代方案，不同的负载特性，电机不同的特性可与容量对应。具体的，在相同控制条件下，对于通风机负载，可以检测电机电流对应容量的关系；对于恒转矩负载，可以检测电机电压对应容量的关系；对于恒功率负载，根据控制情况，可以检测电机电压或电机电流对应容量的关系。其中，不同的负载特性，电机不同的特性可与容量对应的证明详见下述实施例，本实施例在此不进行赘述。进一步地，在上述实施例中，分别采集食品加工机的容量与电机属性值之前，还可以包括：检测是否电机负载未饱和；在电机负载未饱和时，分别采集食品加工机的容量与电机属性值；其中，电机负载未饱和是指：电机属性值随着容量的变化而变化。本实施例中，在电机负载未饱和时，分别采集食品加工机的容量与电机属性值，确保容量变化时，采集的电机属性值会随着容量而变化，确保数据采集的准确性，提高容量与电机属性值拟合关系的准确率，从而提高容量识别的准确率。可选的，在电机为恒电压控制，且电机负载未饱和时，此时分别采集食品加工机的容量与电机属性值，依此采集数据得到的电机电流值与容量正相关，其具体论证详见下述实施例的描述，本实施例在此不进行赘述。图4为本发明实施例提供的另一基于电机属性的容量检测方法的流程图，如图4所示，本发明实施例提供的基于电机属性的容量检测方法，可以包括：S401：数据采集。本实施例中，电机属性值对应的容量识别流程可以分为两大部分，第一部分为离线识别部分，即在预设模式下进行的S401～S404，其主要是针对系统进行数据分析，取得容量与电机属性值的拟合关系；第二部分为在线部分，即在正常工作模式下进行的S405，根据离线所得的拟合关系，进行相应控制条件，并在线实时判别容量。本实施例中，数据采集用于采集原始数据：容量和电机属性值。数据采集是指应用某种传感器，采集电机的相应运行信息，比如电流、电压或频率等。针对电机的控制方式或负载特性的不同，需采样不同数据，本实施例提供以电机电流为例。可选的，采集食品加工机各容量对应的电机属性值可以包括：在电机为恒电压控制时，以预设频率f采集食品加工机各容量对应的电机电流值。预设频率f符合香农采样定理：f≥2fmax，其中，fmax为电网频率。对于数据的采集，采集频率越高，采样数据越全。本实施例中，采样的预设频率f符合香农采样定理，以在数据采集时获取电机最丰富的运行信息，保证了数据采集的准确性，并在保证准备性的基础上，简化了实时判定的数据采集过程。在实际应用中，fmax为信号分量的最大频率。本实施例中，根据电机的控制条件，一般应用于电网条件下，则fmax一般为电网频率。其中，电网频率是指中国电力系统的电量频率，一般地，电网频率为50赫兹。可选的，对于变频控制的电机，fmax可随电机的控制频率改变。此外，对于相对低精度的应用场合，由于电机的电感特性，香农采样定理未必以工频满足，可适当降低采样频率。本发明实施例，在采集电机属性值时，采样频率符合香农采样定理，以在数据采集时获取电机最丰富的运行信息，提高拟合关系的准确性，从而提高容量识别的准确性。S402：数据滤波。本实施例中，数据滤波的目的在于：针对控制系统的特性以及实时判定相应条件，对采集数据进行处理，以获取最适用于该系统的数据，提高容量检测的准确率。可选的，将采集的容量与采集的电机属性值进行拟合处理之前，还可以包括：对采集的各容量对应的电机属性值进行滤波，滤波用于增加容量的区分度。其中，滤波可以包括：峰值滤波、去谷值滤波或去极值滤波。具体的，图5为本发明实施例提供的各容量对应的电机属性值滤波后的数据示意图，如图5所示，原始采样频率为16000Hz，经过滤波后，各个容量的重叠度较低，200ml的容量差距基本无重叠区。可知，对采集的各容量对应的电机属性值进行滤波，增加了容量的区分度，提高了容量判定的准确性。其中，图5中的横坐标表示时间，其单位为毫秒。纵坐标表示电机电流值，其单位为毫安。图5中water用于表示容量。S403：数据拟合。本实施例中，数据拟合是指在对数据滤波后，为进一步得到可直接判定条件所进行的数据操作。数据拟合是在保证数据较为准确的基础上，为判定条件的直观化所进行的步骤。数据拟合不应局限于连续函数的拟合，对于例如二分法的查表方式等方式，目的在于将采集数据转化为判定条件的操作，均在数据拟合范畴。图6为本发明实施例提供的滤波后的容量与电机属性值拟合关系的示意图，如图6所示，线条------、......................和——分别对应峰值滤波、去谷值滤波和去极值滤波后，取均值所得的容量-电机电流拟合关系。由图6可知，去极值滤波的线性度最好，峰值滤波对高低容量的判定区分度最大，去谷值滤波适中。其中，图6中的横坐标表示容量，其单位为ml。纵坐标表示电机电流值，其单位为毫安。其中，虽然去极值滤波的线性度最好，但由于仅了解了容量-电机电流的正相关特性，而无法证明其线性特性，因此，去极值滤波的滤波方式仅能说明其对不同容量的平均区分度较好，并不意味着其优于其他滤波方式。本实施例仅是以峰值滤波、去谷值滤波和去极值滤波这三种简单滤波方式为例，在实际应用中，可以根据应用场景的不同，采用其他滤波方式，例如滑动模差滤波、维纳滤波、卡尔曼滤波或信息融合法等其他滤波方式，本实施例在此不进行限定和赘述。本发明实施例，可根据实际需求，选择滤波函数及处理方式，增加系统的可靠性。S404：判定条件获取。本实施例中，判定条件获取是指在数据处理后，根据实际的应用场景及相应数据，获取实际可用的判定条件。判定条件是前期数据采集、处理与后期实时判定的接口，是为简化实时判定过程的最终条件。其中，判定条件根据应用场景可以具有多种形式，比如判定高低容量为条件判断，判定具体水位为连续函数或离散表格，不应拘泥于拟合数据所得的函数或某种条件。本发明实施例，对获取的原始数据进行滤波、训练和拟合后得到判定条件，简化容量判定流程，且可以提高容量判定的准确率。S405：实时判定。本实施例中，实时判定用于在系统运行过程中，实时采集数据并根据判定条件，获取容量信息。具体的，出于对实时性的要求，在实时判定时，其数据采集、处理及判定，均具有已定的采样条件、滤波方式及判定条件，可能针对系统的运行情况具有简单的条件选择。为详细阐述其运行方式，现具体阐述其流程，图7为本发明实施例提供的容量实时判定的流程图，如图7所示，其具体可以包括：S701：导入判定条件。其中，判定条件为上述实施例中预设模式下的容量与电机属性值的拟合关系。判定条件在食品加工机运行时，食品加工机程序中已经有相应的容量与电机属性值的拟合关系，或者可以从存储器中获取容量与电机属性值的拟合关系。S702：以相应控制条件下驱动电机。其中，对于判定条件为容量与电机电流值的拟合关系，可以驱动电机以恒电压控制或恒功率控制；对于判定条件为容量与电机电压值的拟合关系，可以驱动电机以恒电流控制或恒功率控制。S703：判断是否到达延迟时间。若是，则执行S704；否则，继续判断。电机启动后，搅拌及电流稳定需要一定的延时时间td。本实施例中，在延迟时间达到时，采集电机属性值，以保证电机属性值采集的准确性。其中，延迟时间td可以根据应用系统而定，对于流体的粘度不同和/或混合程度差异等，具有不同的延时。本实施例中介绍几种常见系统的延迟时间：电机硬启动，搅拌物为低粘度液体，如破壁料理机，td≈5s。电机软启动，搅拌物为低粘度液体，如破壁料理机，td≈10s。电机软启动，搅拌物为高粘度液体或固液混合体，如面条机或绞肉机，td≈2min。电机软启动，搅拌物为高粘度高负载固液混合体，如水泥搅拌器，td≈5min。其中，对于常见或变动不大的系统，检测延迟时间可采用固定值。对于变化较大或者对检测时间严格要求的系统，可采用实时电流值的判定，得到稳定电流值后再开始采样判定容量。可选的，在预设模式下采集用于拟合关系的不同容量以及各容量对应的电机属性值时，也需要在延迟时间达到时进行采集，以保证电机属性值采集的准确性。具体的，在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值，可以包括：控制电机以恒电压方式运行，在电机以恒电压方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电流值。本发明实施例，电机搅拌延迟后检测，几乎不受被测物的形态、放置方式等外界因素影响，以保证电机属性值的准确性。S704：采集电机属性数据。S705：数据滤波。S706：容量判断是否完成。若是，则执行S707；否则，执行S704。S707：以判定条件输出容量值。本实施例中，在S704～S707中，在线处理流程进行电机电流数据的实时采集和滤波，并根据在预设模式下获取的判定条件，实时处理得到容量数据。其中，对电机电流的数据采集、滤波，在电流稳定后，可以采集一个周期的数据后进行判定，并非仅采样一次。在数据滤波时，可以采用上述实施例中所涉及的数据滤波方式，本发明实施例在此不进行赘述。其中，最终容量的输出，取决于预设模式下所得判定条件。判定结束后，并非系统的结束，系统可以继续运行其他功能，或根据判定条件相应更改系统运行状态。本发明实施例，对于所得判定条件，可以允许系统在实时运行时，判定容量并立即得出结果。在系统运行中实时检测，不影响系统的连续运行，增加系统的智能化和自动化。实施例二本实施例提供了一种基于电机属性的容量检测方法，其与实施例一的不同之处主要在于，电机属性值的选取不同。本实施例中，在电机为恒电流控制时，电机属性值可以包括电机电压值。即在电机为恒电流控制时，电机电压值与容量具有映射关系。具体的，对于恒电流控制的电机，可以检测电机电压对应容量的关系，以识别容量。相同容量的变化下，电压绝对值的变化较大，即检测的分辨率越大，可以提高容量的区分度，即提高识别率，减小容量识别的误差。可选的，在预设模式下采集用于拟合关系的不同容量以及各容量对应的电机属性值时，需要在延迟时间达到时进行采集，以保证电机属性值采集的准确性。具体的，在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值，可以包括：控制电机以恒电流方式运行，在电机以恒电流方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电压值。本发明实施例，电机搅拌延迟后检测，几乎不受被测物的形态、放置方式等外界因素影响，以保证电机属性值的准确性。可选的，采集食品加工机各容量对应的电机属性值可以包括：在电机为恒电流控制时，以预设频率f采集食品加工机各容量对应的电机电压值；预设频率f符合香农采样定理：f≥2fmax，其中，fmax为电网频率。对于数据的采集，采集频率越高，采样数据越全。本实施例中，采样的预设频率f符合香农采样定理，以在数据采集时获取电机最丰富的运行信息，保证了数据采集的准确性，并在保证准备性的基础上，简化了实时判定的数据采集过程。在实际应用中，fmax为信号分量的最大频率。本实施例中，根据电机的控制条件，一般应用于电网条件下，则fmax一般为电网频率。其中，电网频率是指中国电力系统的电量频率，一般地，电网频率为50赫兹。可选的，对于变频控制的电机，fmax可随电机的控制频率改变。此外，对于相对低精度的应用场合，由于电机的电感特性，香农采样定理未必以工频满足，可适当降低采样频率。实施例三本实施例提供了一种基于电机属性的容量检测方法，其与实施例一的不同之处主要在于，电机属性值的选取不同。本实施例中，在电机为恒功率控制时，电机属性值可以包括电机电流值或电机电压值。即在电机为恒功率控制时，电机电压值和电机电流值分别与容量具有映射关系，比如，电机电压值与容量正相关，电机电流值与容量负相关。具体的，对于恒功率控制的电机，可以检测电机电压对应容量的关系，以识别容量。相同容量的变化下，电压绝对值的变化较大，即检测的分辨率越大，可以提高容量的区分度，即提高识别率，减小容量识别的误差。对于恒功率控制的电机，也可以检测电机电流对应容量的关系，以识别容量。相同容量的变化下，电流绝对值的变化较大，即检测的分辨率越大，可以提高容量的区分度，即提高识别率，减小容量识别的误差。可选的，在预设模式下采集用于拟合关系的不同容量以及各容量对应的电机属性值时，也需要在延迟时间达到时进行采集，以保证电机属性值采集的准确性。具体的，在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值，可以包括：控制电机以恒功率方式运行，在电机以恒功率方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电流值；或者；在预设模式下，控制电机以恒功率方式运行，在电机以恒功率方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电压值。本发明实施例，电机搅拌延迟后检测，几乎不受被测物的形态、放置方式等外界因素影响，以保证电机属性值的准确性。可选的，采集食品加工机各容量对应的电机属性值可以包括：在电机为恒功率控制时，以预设频率f采集食品加工机各容量对应的电机电流值或电机电压值；预设频率f符合香农采样定理：f≥2fmax，其中，fmax为电网频率。对于数据的采集，采集频率越高，采样数据越全。本实施例中，采样的预设频率f符合香农采样定理，以在数据采集时获取电机最丰富的运行信息，保证了数据采集的准确性，并在保证准备性的基础上，简化了实时判定的数据采集过程。在实际应用中，fmax为信号分量的最大频率。本实施例中，根据电机的控制条件，一般应用于电网条件下，则fmax一般为电网频率。其中，电网频率是指中国电力系统的电量频率，一般地，电网频率为50赫兹。可选的，对于变频控制的电机，fmax可随电机的控制频率改变。此外，对于相对低精度的应用场合，由于电机的电感特性，香农采样定理未必以工频满足，可适当降低采样频率。本发明下述实施例对电机电流值与容量具有映射关系、电机的全波电压控制模式下，电流识别对用的容量的区分度最大等进行论证阐述：1、直流电机的负载与电枢电流正相关直流电机的电磁转矩：Te＝CTΦIa其中，CT为转矩常数，对已制成电机是一个常数，Φ为有效磁通，Ia为电枢电流。由公式可知，直流电机的电磁转矩Te正比于电枢电流Ia。而直流电机的机械转矩：T＝Te-T0其中，T0为空载损耗转矩。由公式、可见，直流电机的机械转矩与电枢电流正相关，记作：T∝Ia直流电机的机械转矩即其负载转矩，由此可见，直流电机的负载与电枢电流正相关。其中，本实施例以直流电机为例进行论证，但并不仅仅局限于直流电机，凡是电机电枢电流与负载成正相关等映射关系的电机，均在本申请保护范围内。2、电机负载正相关于容量且正相关于电机电流在电机启动的搅拌过程中，相同控制条件下，容量与负载成一定函数关系。其中，容量记作L，容量与负载的函数关系记作T。在食品加工机中，易于理解，容量越大，搅拌物粘度越大，搅动所需的扭矩越大，即电机所带负载越大。因此，负载与容量、粘度成正相关，记作：T∝Lη式中，η为被搅拌物体粘度。现简化问题，仅考虑液体容量，将粘度视为统一常数，将公式记作：T∝L结合公式、，可得负载、容量和电流的相关性：T∝L∝Ia可得，电机负载T正相关于容量L且正相关于Ia。因此，可得容量与电流成正相关特性，记作：Ia∝L据上式可知，电机电流与搅拌容量成正相关。应当指出，本次设计方案不局限于电流与容量的正相关特性，若在某种应用场景下，电机电流与搅拌容量成某种映射关系，均在本申请保护范围内。3、电流识别容量的控制条件本实施例中的电流识别容量的控制条件，基于如下假设及推论：由于容器及其扰流、电机带负载能力关系，电机负载未饱和；电机以恒电压方式控制；基于第点及公式，电机电流随容量正相关；基于第、点，电机的全波电压控制模式下，电流识别的区分度最大。电机启动后，搅拌及电流稳定需要一定的延时时间td对于假设，需识别对象满足此控制条件，为证明电机负载未饱和条件，现以测试破壁料理机为样本测试，最高水位容量1400ml，最高浓度果蔬汁，对于不同电机档位，图8为本发明实施例提供的不同电机档位下时间—电机电流值的示意图，电机电流值与时间对应条件如图8所示，对于不同电机档位，在最大负载情况下，电机电流值在增大，说明电机在功率增大时，电机负载也在增大，即电机负载未饱和。其中，图8中motoL用于表示电机档位；横坐标表示时间，其单位为s；纵坐标表示电机电流值，其单位为毫安。电机负载电流随着电机档位的增加，即电机电压的增加而增大。此实验数据证明了在此种条件下，电机负载的未饱和性。在此基础上推论，本方案不仅仅适用于食品加工机领域，并且适用于同时具有如下特征的领域：该系统具有电机进行搅拌或驱动；该系统所需检测容量对电机搅拌具有某种影响；该系统电机不会在所有容量、控制条件下，负载饱和运行；该系统电机在某种条件下负载饱和，利用负载未饱和区域检测。对于假设，电机在恒电压控制条件下运行。此点假设基于控制器对电机及其驱动的控制方式，而非指电机真正的以恒功率方式运行，具体阐述见假设。以下论证电机在恒功率条件下运行的必要性。在实际应用中，功率与电压电流的关系：P＝UI式中，P为功率，U为电压，I为电流在公式中，虽然功率等于电压与电流的乘积，但若使得电压U恒等于某一电压U0，则可以得到功率与电流成正比，即：P＝U0I对于推论，满足以上两点条件后，电机电流与容量相关。基于假设，电机的负载未饱和。若U0条件下电机负载恒未饱和，则在恒电压控制条件下，电机功率与电机电流成正比。并且，根据公式，可得，在此条件下，电机电流、电机功率与容量成正比，记作：P∝I∝L对于推论，功率越大，电流的区分度越大。由推论可知，在电压恒定条件下，电机功率、电机电流与容量正相关。显然，在恒功率控制模式下，电压的恒定条件并非永远成立，本方案论证如下两种情况：第一种情况：系统电压调节的分辨率不够，导致主控制器在局部未调节电压。第二种情况：系统边界电压已经无法调节，在边界情况电压一直恒定。以上两种情形，均满足假设中的设定条件。在此种条件下，虽然控制器以恒功率方式控制，但是由于驱动器或者系统调压特性，实际局部以恒定电压的方式控制。因此，电流与容量正相关。现论证在全波电压的控制条件下，电流识别的区分度最大。将公式、公式带入公式可得：对于直流电机，其机械特性方程式：式中，n为电机转速，CT为电动势常数，Ra为电枢串联电阻。从公式中知，若机械转矩T不变，电压U增大，则电机转速n增大。在搅拌系统中，对于可流动性液体、固体或固液混合体，属于典型的通风机负载特性，因此其转矩与转速的二次方成正比正相关，如下式所示：T＝Kn2式中，K为比例常数将公式带入公式得：对于公式，对为一元二次方程式，显然当T满足如下条件，则U与T正相关：显然，式右侧为负数，即在现实条件下，式恒成立，结合式，得到在现实条件下，U与T恒正相关，记作：U∝T由结合式、式、式得，对于通风机类负载，电枢电流与电压正相关。也即，对于恒定电压U0，其值越大，电流的绝对值也就越大。电流绝对值大，意味着在相同容量的变化下，电流绝对值的变化较大，即检测的分辨率越大。显然，在全波电压下，系统电压达最大值，即此时分辨率最大。对于推论，电机的启动，以及其搅拌的均匀稳定，需要时间以保证电流的准确性，即延迟时间td。在图8中，可明显看见电流稳定的延迟时间。对于常见或变动不大的系统，检测延迟时间可采用固定值。对于变化较大或者对检测时间严格要求的系统，可采用实时电流值的判定，得到稳定电流值后即可开始采样判定容量。4、恒功率控制方式可以替代恒电压方式控制对于恒功率控制方式及恒负载情形，其他条件不变情况下，对于式，功率P为恒定值P0，式改写为：P0＝UI将上式带入式中，得：由上式可得电机电流与负载T成反比，电机电压与负载T成正比，所得判定条件相应不同。基于上述论证的电机负载正相关于容量，可知，电机电流与容量负相关，电机电压与容量正相关。其中，恒电流控制方式可以替代恒电压方式控制，此时电机属性值是电机电压值，其直流电机的负载与电枢电压的相关性与直流电机的负载与电枢电流正相关的论证原理相同，本实施例在此不进行赘述。其中，本实施例不应仅仅局限于正相关的情况，仅需电机的电流、电压或频率满足某种映射关系，即可进行应用拟合。本发明实施例还提供一种食品加工机，图9为本发明实施例提供的食品加工机的结构示意图，如图9所示，本发明实施例提供的食品加工机可以包括：采集模块91、拟合模块92和确定模块93。采集模块91，用于在预设模式下，分别采集食品加工机的不同容量以及各容量对应的电机属性值；拟合模块92，用于将采集的容量与采集的电机属性值进行拟合处理，拟合出容量与电机属性值的拟合关系；确定模块93，用于根据实际电机属性值与所述拟合关系比对以确定食品加工机加工时的容量。本发明实施例提供的食品加工机用于执行图1所示方法实施例的技术方案，其实现原理和实现效果类似，此处不再赘述。进一步地，在上述实施例中，在所述电机为恒电压控制时，所述电机属性值包括电机电流值；或者，在所述电机为恒电流控制时，所述电机属性值包括电机电压值；或者，在所述电机为恒功率控制时，所述电机属性值包括电机电流值或电机电压值。进一步地，在上述实施例中，所述食品加工机还可以包括：检测模块，用于检测是否电机负载未饱和；采集模块91，在电机负载未饱和时，分别采集食品加工机的容量与电机属性值；其中，电机负载未饱和是指：电机属性值随着容量的变化而变化。进一步地，在上述实施例中，确定模块93根据实际电机属性值与所述拟合关系比对以确定食品加工机加工时的容量，可以包括：基于二分法将所述拟合关系划分为高水位区域和低水位区域；根据实际电机属性值位于所述拟合关系的高水位区域还是低水位区域，以确定食品加工机加工时的容量属于高水位还是低水位。进一步地，在上述实施例中，确定模块93根据实际电机属性值与所述拟合关系比对以确定食品加工机加工时的容量，可以包括：将所述实际电机属性值与所述拟合关系比对，以确定食品加工机加工时容量的具体取值。进一步地，在上述实施例中，所述拟合关系包括：拟合直线、连续函数或离散表格。进一步地，在上述实施例中，采集模块91分别采集食品加工机的不同容量以及各容量对应的电机属性值，可以包括：控制电机以恒电压方式运行，在电机以恒电压方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电流值；或者；控制电机以恒电流方式运行，在电机以恒电流方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电压值；或者；控制电机以恒功率方式运行，在电机以恒功率方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电流值；或者；控制电机以恒功率方式运行，在电机以恒功率方式运行预设时间后，分别采集食品加工机的不同容量以及各容量对应的电机电压值。进一步地，在上述实施例中，采集模块91采集食品加工机各容量对应的电机属性值可以包括：在所述电机为恒电压控制时，以预设频率f采集食品加工机各容量对应的电机电流值；或者；在所述电机为恒电流控制时，以预设频率f采集食品加工机各容量对应的电机电压值；或者；在所述电机为恒功率控制时，以预设频率f采集食品加工机各容量对应的电机电流值或电机电压值；所述预设频率f符合香农采样定理：f≥2fmax，其中，fmax为电网频率。进一步地，在上述实施例中，所述食品加工机还可以包括：滤波模块，用于对采集的各容量对应的电机属性值进行滤波，所述滤波用于增加容量的区分度。图10为本发明实施例提供的具有数据处理控制器的食品加工机的结构框图，如图10所示，本发明实施例提供的食品加工机可以包括控制器101、驱动器102、电机检测模块103和电机M。其中，控制器101用于执行上述任一实施例所示的基于电机属性的容量检测方法。本实施例中，控制器101是具有数据处理系统的高级控制器，比如工控机等，带有交互系统及数据处理系统。控制器101可以在线采集、滤波电机属性数据、以及判断容量，并向驱动器发送相应电机控制指令；驱动器102接收控制器指令并驱动电机M，电机M作为执行器；电流检测模块用于检测电机属性值，电机属性值可以包括电机电流值或电机电压值。图11为本发明实施例提供的不具有数据处理控制器的食品加工机的结构框图，如图11所示，在图10所示的基础上，本发明实施例提供的食品加工机还可以包括离线交互系统1101和离线数据处理器1102。本实施例中，控制器是不具有数据处理系统的低级控制器，需加入离线数据处理器1102以进行数据的相关处理。离线数据处理器1102、交互系统可以与控制器101一起，视为广义的控制系统，即具有数据处理系统的高级控制器。本领域普通技术人员可以理解，上文中所公开方法中的全部或某些步骤、系统、装置中的功能模块/单元可以被实施为软件、固件、硬件及其适当的组合。在硬件实施方式中，在以上描述中提及的功能模块/单元之间的划分不一定对应于物理组件的划分；例如，一个物理组件可以具有多个功能，或者一个功能或步骤可以由若干物理组件合作执行。某些组件或所有组件可以被实施为由处理器，如数字信号处理器或微处理器执行的软件，或者被实施为硬件，或者被实施为集成电路，如专用集成电路。这样的软件可以分布在计算机可读介质上，计算机可读介质可以包括计算机存储介质和通信介质。如本领域普通技术人员公知的，术语计算机存储介质包括在用于存储信息的任何方法或技术中实施的易失性和非易失性、可移除和不可移除介质。计算机存储介质包括但不限于RAM、ROM、EEPROM、闪存或其他存储器技术、CD-ROM、数字多功能盘或其他光盘存储、磁盒、磁带、磁盘存储或其他磁存储装置、或者可以用于存储期望的信息并且可以被计算机访问的任何其他的介质。此外，本领域普通技术人员公知的是，通信介质通常包含计算机可读指令、数据结构、程序模块或者诸如载波或其他传输机制之类的调制数据信号中的其他数据，并且可包括任何信息递送介质。
