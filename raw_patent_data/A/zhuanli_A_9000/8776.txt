标题title
口腔全景片拍摄方法、系统、电子设备及可读存储介质
摘要abst
本公开提供了一种口腔全景片拍摄方法，包括：确定被测对象的牙弓曲线；确定虚拟旋转轴参数，其中虚拟旋转轴参数确定为减少牙弓曲线一侧的成像点的成像结果受到对侧骨质结构的影响；基于虚拟旋转轴参数，来计算牙弓曲线的每个成像点所对应的X射线源对应位置与探测器有效位置；相对于固定旋转中心转动X射线源，分别获取每个成像点所对应的X射线源对应位置处所发射的X射线在每个成像点所对应的探测器有效位置的X射线投影数据；以及将每个成像点所对应的X射线投影数据进行排列，以便得到口腔全景片。本公开还提供了一种口腔全景片拍摄系统、电子设备及可读存储介质。
权利要求书clms
1.一种口腔全景片拍摄方法，其特征在于，包括：确定被测对象的牙弓曲线；确定虚拟旋转轴参数，其中所述虚拟旋转轴参数确定为减少牙弓曲线一侧的成像点的成像结果受到对侧骨质结构的影响；基于所述虚拟旋转轴参数，来计算牙弓曲线的每个成像点所对应的X射线源对应位置与探测器有效位置；相对于固定旋转中心转动所述X射线源，分别获取每个成像点所对应的所述X射线源对应位置处所发射的X射线在所述每个成像点所对应的所述探测器有效位置的X射线投影数据；以及将所述每个成像点所对应的X射线投影数据进行排列，以便得到口腔全景片。2.如权利要求1所述的方法，其特征在于，所述X射线源所发射的X射线为锥形束。3.如权利要求2所述的方法，其特征在于，所述固定旋转中心为单一旋转中心，并且所述旋转轴参数包括多个旋转轴参数。4.如权利要求2所述的方法，其特征在于，所述每个成像点中的至少一部分成像点与所述X射线源的第一连接线、和所述X射线源与所述固定旋转中心的第二连接线成预定夹角。5.如权利要求4所述的方法，其特征在于，相对于不同的成像点，所述预定夹角不同。6.如权利要求2所述的方法，其特征在于，所述每个成像点中的至少一部分成像点与所述X射线源的第一连接线、和所述X射线源与所述固定旋转中心的第二连接线重合。7.如权利要求4至6中任一项所述的方法，其特征在于，所述第一连接线的延长线与所述探测器的交点对应所述探测器有效位置。8.一种口腔全景片拍摄系统，其特征在于，包括：X射线源，所述X射线源用于发射X射线；探测器，所述探测器用于测量接收的X射线强度；控制单元，所述控制单元用于控制所述X射线源和/或所述探测器相对于被测对象的转动；以及处理单元，其中所述处理单元包括：确定模块，所述确定模块用于确定被测对象的牙弓曲线，并且确定虚拟旋转轴参数，其中所述虚拟旋转轴参数确定为减少牙弓曲线一侧的成像点的成像结果受到对侧骨质结构的影响；计算模块，所述计算模块基于所述虚拟旋转轴参数，来计算每个成像点所对应的X射线源对应位置与探测器有效位置；获取模块，在所述旋转控制单元控制所述X射线源绕固定旋转中心旋转的过程中，分别获取每个成像点所对应的所述X射线源对应位置处所发射的X射线在所述每个成像点所对应的所述探测器有效位置的X射线投影数据；以及排列模块，将所述每个成像点所对应的X射线投影数据进行排列，以便得到口腔全景片。9.一种电子设备，其特征在于，包括：存储器，所述存储器存储执行指令；以及处理器，所述处理器执行所述存储器存储的执行指令，使得所述处理器执行如权利要求1至7中任一项所述的方法。10.一种可读存储介质，其特征在于，所述可读存储介质中存储有执行指令，所述执行指令被处理器执行时用于实现如权利要求1至7中任一项所述的方法。
说明书desc
技术领域本公开涉及口腔全景片拍摄方法、系统、电子设备及可读存储介质。背景技术口腔全景片是口腔临床诊断的重要手段。现有的口腔全景片拍摄设备按X射线的接收方式可以分为传统胶片型和数字探测器型，按拍摄轨迹可以分为单旋转中心型和三旋转中心型。传统的口腔全景机，机械结构复杂、功能比较单一，一般只能用于口腔全景的拍摄。现有的全景机目前应用比较广的是三旋转中心型，这种全景机在拍摄时，需要一边旋转一边移动旋转轴，这种拍摄方式虽然成像面与牙周面拟合更好，但是因为其运动更复杂，需要控制旋转轴在变速旋转的同时变速平移，对机械和控制精度要求很高。现有的单旋转中心口腔全景拍摄方法虽然在控制上简单一些，但是拍摄的全景片存在畸变严重、左右牙齿成像重合、成像面与牙周面偏差较大等问题。此外，目前还在CBCT设备上出现了基于口腔CBCT的三维数据合成的口腔全景片。这种全景片基于CBCT重建数据合成，存在重建速度慢、不是真实X射线透射成像及辐射剂量大等问题。基于CBCT数据合成全景片，需要先拍摄CBCT生成三维重建数据，利用重建数据合成全景片。这种方式因为需要拍摄三维CT，拍摄时间相对更长，拍摄时的辐射剂量也更大，对于仅需要全景片诊断的病例，在辐射、拍摄时间和成本上都不理想。发明内容为了解决上述技术问题之一，本公开提供了一种口腔全景片拍摄方法、系统、电子设备及可读存储介质。根据本公开的一个方面，一种口腔全景片拍摄方法，包括：确定被测对象的牙弓曲线；确定虚拟旋转轴参数，其中所述虚拟旋转轴参数确定为减少牙弓曲线一侧的成像点的成像结果受到对侧骨质结构的影响；基于所述虚拟旋转轴参数，来计算每个成像点所对应的X射线源对应位置与探测器有效位置；相对于固定旋转中心转动所述X射线源，分别获取每个成像点所对应的所述X射线源对应位置处所发射的X射线在所述每个成像点所对应的所述探测器有效位置的X射线投影数据；以及将所述每个成像点所对应的X射线投影数据进行排列，以便得到口腔全景片。根据本公开的至少一个实施方式，所述X射线源所发射的X射线为锥形束。根据本公开的至少一个实施方式，所述固定旋转中心为单一旋转中心，并且所述旋转轴参数包括多个旋转轴参数。根据本公开的至少一个实施方式，所述每个成像点中的至少一部分成像点与所述X射线源的第一连接线、和所述X射线源与所述固定旋转中心的第二连接线成预定夹角。根据本公开的至少一个实施方式，相对于不同的成像点，所述预定夹角不同。根据本公开的至少一个实施方式，所述每个成像点中的至少一部分成像点与所述X射线源的第一连接线、和所述X射线源与所述固定旋转中心的第二连接线重合。根据本公开的至少一个实施方式，所述第一连接线的延长线与所述探测器的交点对应所述探测器有效位置。根据本公开的至少一个实施方式，在所述探测器有效位置所获得的一列或两列以上的投影列数据来作为对应成像点的X射线投影数据。根据本公开的至少一个实施方式，所述X射线源和/或所述探测器绕所述固定旋转中心进行圆周运动或者部分圆周运动。根据本公开的至少一个实施方式，对所述投影列数据中的每列投影列数据进行比例调整，以便使得每列投影列数据中的各数据的比例一致，从而将调整后的X射线投影数据进行排列。根据本公开的至少一个实施方式，所述虚拟旋转轴参数为虚拟旋转轴心，延长所述牙弓曲线的成像点与所述虚拟旋转轴心，所述连线与所述X射线源的运动轨迹的交点确定为该成像点所对应的所述X射线源的位置，并且基于所述连线确定该成像点所对应的所述探测器的有效位置。根据本公开的至少一个实施方式，确定被测对象的牙弓曲线的参数时，将所述牙弓曲线划分为多段圆弧，并且基于所述多段圆弧来确定多个虚拟旋转轴参数。根据本公开另一方面。一种口腔全景片拍摄系统，包括：X射线源，所述X射线源用于发射X射线；探测器，所述探测器用于测量接收的X射线强度；控制单元，所述控制单元用于控制所述X射线源和/或所述探测器相对于被测对象的转动；以及处理单元，其中所述处理单元包括：确定模块，所述确定模块用于确定被测对象的牙弓曲线并且确定虚拟旋转轴参数，其中所述虚拟旋转轴参数确定为减少牙弓曲线一侧的成像点的成像结果受到对侧骨质结构的影响；计算模块，所述计算模块基于所述虚拟旋转轴参数，来计算每个成像点所对应的X射线源对应位置与探测器有效位置；获取模块，在所述旋转控制单元控制所述X射线源绕固定旋转中心旋转的过程中，分别获取每个成像点所对应的所述X射线源对应位置处所发射的X射线在所述每个成像点所对应的所述探测器有效位置的X射线投影数据；以及排列模块，将所述每个成像点所对应的X射线投影数据进行排列，以便得到口腔全景片。根据本公开的至少一个实施方式，所述X射线源所发射的X射线为锥形束。根据本公开的至少一个实施方式，所述固定旋转中心为单一旋转中心。根据本公开的至少一个实施方式，所述旋转轴参数包括多个旋转轴参数。根据本公开的至少一个实施方式，所述每个成像点中的至少一部分成像点与所述X射线源的第一连接线、和所述X射线源与所述固定旋转中心的第二连接线成预定夹角。根据本公开的至少一个实施方式，相对于不同的成像点，所述预定夹角不同。根据本公开的至少一个实施方式，所述每个成像点中的至少一部分成像点与所述X射线源的第一连接线、和所述X射线源与所述固定旋转中心的第二连接线重合。根据本公开的至少一个实施方式，所述计算模块将所述第一连接线的延长线与所述探测器的交点对应的位置作为所述探测器有效位置。根据本公开的至少一个实施方式，所述获取模块在所述探测器有效位置获得一列或两列以上的投影列数据，来作为对应成像点的X射线投影数据。根据本公开的至少一个实施方式，所述旋转控制单元控制所述X射线源和/或所述探测器绕所述固定旋转中心进行圆周运动或者部分圆周运动。根据本公开的至少一个实施方式，还包括调整模块，所述调整模块对所述获取模块所获得的所述投影列数据中的每列投影列数据进行比例调整，以便使得每列投影列数据中的各数据的放大比例一致，从而将调整后的X射线投影数据进行排列。根据本公开的至少一个实施方式，所述计算模块通过以下方式来计算X射线源对应位置与探测器有效位置：所述虚拟旋转轴参数为虚拟旋转轴心，延长所述牙弓曲线的成像点与所述虚拟旋转轴心，所述连线与所述X射线源的运动轨迹的交点确定为该成像点所对应的所述X射线源的位置，并且基于所述连线确定该成像点所对应的所述探测器的有效位置。根据本公开的至少一个实施方式，所述确定模块在确定被测对象的牙弓曲线的参数时，将所述牙弓曲线划分为多段圆弧。根据本公开的至少一个实施方式，基于所述多段圆弧来确定多个虚拟旋转轴参数。根据本公开的一个方面，提供了一种电子设备，包括：存储器，所述存储器存储执行指令；以及处理器，所述处理器执行所述存储器存储的执行指令，使得所述处理器执行如上任一项所述的方法。根据本公开的一个方面，提供了一种可读存储介质，所述可读存储介质中存储有执行指令，所述执行指令被处理器执行时用于实现如上任一项所述的方法。附图说明附图示出了本公开的示例性实施方式，并与其说明一起用于解释本公开的原理，其中包括了这些附图以提供对本公开的进一步理解，并且附图包括在本说明书中并构成本说明书的一部分。图1示出了根据本公开一个实施例的方法流程图。图2示出了根据本公开一个实施例的方法流程图。图3示出了根据本公开一个实施例的牙弓曲线确定示意图。图4示出了根据本公开一个实施例的位置确定示意图。图5示出了根据本公开一个实施例的方法流程图。图6示出了根据本公开一个实施例的调整解释示意图。图7示出了根据本公开一个实施例的系统的示意图。图8示出了根据本公开一个实施例的处理单元示意图。具体实施方式下面结合附图和实施方式对本公开作进一步的详细说明。可以理解的是，此处所描述的具体实施方式仅用于解释相关内容，而非对本公开的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与本公开相关的部分。需要说明的是，在不冲突的情况下，本公开中的实施方式及实施方式中的特征可以相互组合。下面将参考附图并结合实施方式来详细说明本公开的技术方案。除非另有说明，否则示出的示例性实施方式/实施例将被理解为提供可以在实践中实施本公开的技术构思的一些方式的各种细节的示例性特征。因此，除非另有说明，否则在不脱离本公开的技术构思的情况下，各种实施方式/实施例的特征可以另外地组合、分离、互换和/或重新布置。在附图中使用交叉影线和/或阴影通常用于使相邻部件之间的边界变得清晰。如此，除非说明，否则交叉影线或阴影的存在与否均不传达或表示对部件的具体材料、材料性质、尺寸、比例、示出的部件之间的共性和/或部件的任何其它特性、属性、性质等的任何偏好或者要求。此外，在附图中，为了清楚和/或描述性的目的，可以夸大部件的尺寸和相对尺寸。当可以不同地实施示例性实施例时，可以以不同于所描述的顺序来执行具体的工艺顺序。例如，可以基本同时执行或者以与所描述的顺序相反的顺序执行两个连续描述的工艺。此外，同样的附图标记表示同样的部件。当一个部件被称作“在”另一部件“上”或“之上”、“连接到”或“结合到”另一部件时，该部件可以直接在所述另一部件上、直接连接到或直接结合到所述另一部件，或者可以存在中间部件。然而，当部件被称作“直接在”另一部件“上”、“直接连接到”或“直接结合到”另一部件时，不存在中间部件。为此，术语“连接”可以指物理连接、电气连接等，并且具有或不具有中间部件。为了描述性目的，本公开可使用诸如“在……之下”、“在……下方”、“在……下”、“下”、“在……上方”、“上”、“在……之上”、“较高的”和“侧”等的空间相对术语，从而来描述如附图中示出的一个部件与另一部件的关系。除了附图中描绘的方位之外，空间相对术语还意图包含设备在使用、操作和/或制造中的不同方位。例如，如果附图中的设备被翻转，则被描述为“在”其它部件或特征“下方”或“之下”的部件将随后被定位为“在”所述其它部件或特征“上方”。因此，示例性术语“在……下方”可以包含“上方”和“下方”两种方位。此外，设备可被另外定位，如此，相应地解释这里使用的空间相对描述语。这里使用的术语是为了描述具体实施例的目的，而不意图是限制性的。如这里所使用的，除非上下文另外清楚地指出，否则单数形式“一个”和“所述”也意图包括复数形式。此外，当在本说明书中使用术语“包含”和/或“包括”以及它们的变型时，说明存在所陈述的特征、整体、步骤、操作、部件、组件和/或它们的组，但不排除存在或附加一个或更多个其它特征、整体、步骤、操作、部件、组件和/或它们的组。还要注意的是，如这里使用的，术语“基本上”、“大约”和其它类似的术语被用作近似术语而不用作程度术语，如此，它们被用来解释本领域普通技术人员将认识到的测量值、计算值和/或提供的值的固有偏差。本公开中所说的X射线源和/或探测器的转动是指其相对于被测对象的转动，可以是X射线源和/或探测器进行转动，也可以是被测对象进行转动，从而形成X射线源和/或探测器与被测对象的相对转动。根据本公开的一个实施方式，提供了一种口腔全景片拍摄方法。图1示出了根据本公开的一个实施例的口腔全景片拍摄方法100。在该方法中可以采用X射线源来发射X射线，并且通过相应的探测器来测量接收的X射线强度；从而得到诸如牙齿的图像。其中在本公开中，X射线优选为锥形束X射线。在本公开中，X射线源为可移动的，并且探测器也可以为可移动的。但是本公开并不限定探测器为可移动的。此外，仅仅作为示例，探测器可以为X射线平板探测器。X射线源与探测器可以位于成像点的相对两侧，以便X射线经过成像点后到达探测器从而得到成像点处的牙齿的图像。本公开中所使用的术语成像点是指位于牙弓曲线上的点。其中，X射线源的转动可以是匀速的也可以是变速的，例如在变速的情况下，可以根据牙弓曲线的情况来生成拍摄过程的角速度曲线，并且按照设计的角度速度来绕着被测对象的头部进行圆周运动或者部分圆周运动，运动的同时，X射线源可以发射X射线，此时探测器可以按照一定速率来采集数据，最终通过重排来得到口腔全景拍摄的效果。如图1所示，该拍摄方法100可以包括步骤102至108。在步骤102中，确定被测对象的牙弓曲线，以及确定虚拟旋转轴参数，其中虚拟旋转轴参数确定为所述虚拟旋转轴参数确定为减少牙弓曲线一侧的成像点的成像结果受到对侧骨质结构的影响，此外还可以同时确定为保证成像射线在拍摄中变化连续无突变。；上面所述的对侧骨质结构可以包括对侧的牙齿，牙齿周围的骨头及颈椎等。其中在步骤中，确定被测对象的牙弓曲线，以及确定虚拟旋转轴参数可以分成两步来进行实现。例如首先确定牙弓曲线，然后再确定虚拟旋转轴参数。其中，虚拟旋转轴参数可以为虚拟旋转轴心的位置，并且数量可以为多个，例如可以为三个或者以上。确定被测对象的牙弓曲线以及表示牙弓曲线的参数。在本公开中，可以根据被测对象的脸型来选择合适的牙弓曲线。对于选择牙弓曲线的表示参数可以通过多种方式，作为示例，在本公开中通过圆弧方式来进行表示。图2给出了根据本公开的一个实施例的牙弓曲线表示参数确定方法200。如图2所示，在步骤202中，在牙弓曲线上选择多段圆弧。可以在步骤204中，首先测量参考牙齿的位置，例如可以选择两颗牙齿作为参考牙齿的位置。在测量牙齿的位置时可以通过激光定位方法来进行测量。在步骤206中，可以根据脸型来指定牙弓开合控制角度和牙弓长度控制系数。在步骤208中，可以根据指定的牙弓开合控制角度和牙弓长度控制系数来确定每段圆弧的圆心和半径。其中在确定的过程中，将参考牙齿的第一牙齿和第二牙齿中的第一牙齿的测量点与以该测量点为端点的圆弧的圆心之间的距离定义为第一距离，将第二牙齿的测量点与以该测量点为端点的圆弧的圆心之间距离定义为第二距离，将两颗牙齿之间的直线距离定义为第三距离。其中，第一距离和第二距离相等，且等于牙弓长度控制系数乘以第三距离。这样可以确定圆弧的圆心和半径。在本公开中采用圆弧圆心作为虚拟旋转轴参数为例进行说明，但是需要说明的是，虚拟旋转轴参数也可以不必是圆心，可以是其他的点，例如可以是基于圆弧确定的点，在下面的描述中，术语“圆心”等同于“基于圆弧确定的点”，圆心仅仅是基于圆弧确定的点的一个示例，只要该点能够减少牙弓曲线一侧的成像点的成像结果受到对侧骨质结构的影响并且同时保证成像射线在拍摄中变化连续无突变即可。此外，虚拟旋转轴参数可以不必采用将牙弓曲线分成圆周的方式来确定，其可以通过其他方式来基于牙弓曲线等进行确定。在图3中示出了根据本公开的一个实施例的确定圆心及半径的示意图。在图3中示出了三段圆弧的情况，但是在本公开中并不限于三段圆弧，可以根据请款来进行设定，例如可以为四段、五段等。首先，选择两颗参考牙齿，分别为第一牙齿和第二牙齿，该两颗参考牙齿可以为对称的牙齿，另外也可以选择上颚牙齿也可以选择下颚牙齿。在图3中示出了所选的参考牙齿为两颗下犬牙。并且可以通过激光定位等方式来确定第一牙齿的位置C1和第二牙齿的位置C2。这样，基于第一牙齿和第二牙齿将牙弓曲线分为三段圆弧，分别为第一圆弧A1、第二圆弧A2和第三圆弧A3。基于被测对象的脸型指定牙弓开合控制角度θ，其中牙弓开合控制角度θ可以为第一牙齿的位置C1和第二牙齿的位置C2之间的连线与位置C1或C2与第二圆弧A2的圆心之间的连线之间的角度，同时基于被测对象的脸型来确定牙弓长度控制系数r。从而得到第一圆弧A1的圆心O1、第二圆弧A2的圆心O2和第三圆弧A3的圆心O3。其中，第一圆弧A1的圆心O1与第一牙齿的位置C1之间的直线距离等于第三圆弧A3的圆心O3与第二牙齿的位置C2之间的直线距离，第一圆弧A1的圆心O1与第一牙齿的位置C1之间的直线距离等于第一牙齿的位置C1和第二牙齿的位置C2之间的距离乘以牙弓长度控制系数r，也就是：|O1C1|＝|O3C2|＝r|C1C2|。同时可以获得第一圆弧A1的半径r1、第二圆弧A2的半径r2和第三圆弧A3的半径r3。在获得牙弓曲线的参数之后，可以在步骤104中，基于牙弓曲线的参数，计算牙弓曲线的每个成像点所对应的X射线源对应位置与探测器有效位置。其中探测器的有效位置可以是当对某个成像点进行成像时，X射线源位于X射线源对应位置发射X射线，探测器有效位置处的探测器可以接收到X摄像，并且对该成像点进行成像，通过该有效位置还可以避免其他成像点对该某个成像点的成像造成干扰)。该有效位置设置成仅能对该某个成像点成像，而其他成像点则在该位置不能成像。在计算过程中，延长牙弓曲线的成像点与该成像点所在圆弧的圆心之间的连线，延长线与X射线源的运动轨迹的交点为该成像点所对应的X射线源对应位置，并且相应地将会得到X射线源对应位置所对应的探测器有效位置。为了得到整个口腔牙齿的照片，可以绕着固定旋转中心旋转X射线源，并且X射线源在旋转的过程中发射X射线，例如锥形束X射线。然后根据所计算的X射线源对应位置和探测器有效位置的关系，得到每个成像点的X射线投影数据。其中探测器有效位置测得的一个成像点的X射线投影数据可以为一列数据，也可以为两列以上数据。其中一列数据的情况下，就是延长牙弓曲线的成像点与该成像点所在圆弧的圆心之间的连线与探测器的交点处所测得的一列数据，也可以为该一列数据附近的一列以上的数据。下面将参照图4对X射线源对应位置所对应的探测器有效位置的确定方式进行说明。对于图4中标出的成像点，因为其处于第一圆弧，因此延长成像点与圆心O2之间的连接线，该连接线与X射线源运动轨迹的交点则确定为X射线源对应位置，而该连接线与探测器的交点位置则确定为探测器有效位置。通过相同的原理，可以得到所有成像点的X射线源对应位置和探测器有效位置。此外每个成像点中的至少一部分成像点与X射线源的连接线、和X射线源与固定旋转中心的连接线成预定夹角。并且对于不同的成像点，预定夹角是不同的。另外对于一部分成像点，这些成像点与X射线源的连接线、和X射线源与固定旋转中心的连接线也可以是重合。在步骤106中，绕固定旋转中心旋转X射线源，分别获取每个成像点所对应的X射线源对应位置处所发射的X射线在每个成像点所对应的探测器有效位置的X射线投影数据。在探测器有效位置获得一列或两列以上的投影列数据来作为对应成像点的X射线投影数据。本公开所称的投影列数据是指在垂直于图4所示的纸面方向中的一列数据，例如在使用锥形束X射线的情况下，选择探测器有效位置的一列投影列数据、或者该列投影列数据和该列投影列数据附近的一列以上投影列数据。在步骤108中，在获得每个成像点的投影列数据之后，将所获得的投影列数据进行排列，以便得到口腔全景片。图5示出了根据本公开的另一实施例的口腔全景片拍摄方法500，图5中的步骤502、504、506、510分别对应于图1中的步骤102、104、106、108。为了简洁起见，在此不再赘述。下面将对区别步骤508进行详细的说明。在步骤508中，对投影列数据中的每列投影列数据进行比例调整，以便使得每列投影列数据中的各数据的比例一致，从而将调整后的X射线投影数据进行排列。例如采用锥形束X射线源的情况下，例如图6所示，成像点牙齿的各个部分在探测器上所生成的投影列数据的放大比例将会是不同的。为了便于排列等，在本公开中将投影列数据的每个数据进行比例调整，使得每个数据的放大系数相同。例如可以基于列数据中的某个数据作为基准来对其他数据的比例进行调整。之后在步骤510中，对调整后的X射线投影数据进行排列，从而得到口腔全景片。可以通过本公开的方法，能够实现在圆轨迹X光成像设备上拍摄口腔全景片，能够模拟多旋转中心的口腔全景拍摄，实现牙周面更好的拟合。另外，本公开的方案可以应用于牙科CBCT，可以在不增加机械结构的情况下实现真正的口腔全景片拍摄，而不是重建后的数据合成全景片，因此拍摄速度更快，同时对拍摄时几何控制要求相对来说较低。根据本公开的另一方面，提供了一种口腔全景片拍摄系统。图6示出了根据本公开的一个实施例的口腔全景片拍摄系统的示意图。其中该口腔全景片拍摄系统可以包括X射线源、探测器、控制单元和处理单元。此外除了上述部分也可以包括其他部分，例如还可以包括机械支撑部分，用于支撑X射线源、探测器等。X射线源可以用于发射X射线，其中所发射的X射线可以为锥形束X射线，并且X射线源可以进行圆周转动或者部分圆周转动，并且可以在转动的过程中发射X射线。探测器可以为平板探测器等。X射线源和探测器位于被测对象的两侧，这样当X射线源发射X射线后，探测器能够获得被测对象的X射线投影数据，例如探测器能够将接收到的X射线强度转换为数据并且进行发送。此外探测器也可以与X射线源的圆周转动相应地进行圆周转动。根据本公开的全景片拍摄系统，虽然X射线源以单旋转中心进行转动，但是同样可以获得多旋转中心拍摄效果的口腔全景片。控制单元，控制单元用于控制X射线源和/或探测器相对于被测对象进行转动。例如X射线源和/或探测器进行转动，也可以是被测对象进行转动。其中该转动是围绕单一的固定旋转中心的转动。并且该转动可以为可变角速度转动，也可以为匀速转动等。处理单元可以包括：确定模块、计算模块、获取模块、和排列模块。确定模块用于确定被测对象的牙弓曲线，确定虚拟旋转轴参数，其中虚拟旋转轴参数确定为减少牙弓曲线一侧的成像点的成像结果受到对侧骨质结构的影响。计算模块基于虚拟旋转轴参数，来计算牙弓曲线的每个成像点所对应的X射线源对应位置与探测器有效位置。在旋转控制单元控制X射线源绕固定旋转中心旋转的过程中，获取分别获取每个成像点所对应的X射线源对应位置处所发射的X射线在每个成像点所对应的探测器有效位置的X射线投影数据。排列模块将每个成像点所对应的X射线投影数据进行排列，以便得到口腔全景片。在确定模块中，确定被测对象的牙弓曲线以及表示牙弓曲线的参数。在本公开中，还可以根据被测对象的脸型来选择合适的牙弓曲线。对于选择牙弓曲线的表示参数可以通过多种方式，作为示例，在本公开中通过圆弧方式来进行表示。确定模块还可以包括选择模块，选择模块可以在牙弓曲线上选择多段圆弧。之后确定每段圆弧的圆心和半径。还可以包括测量模块，可以通过测量模块首先测量参考牙齿的位置，例如可以选择两颗牙齿作为参考牙齿的位置。在测量牙齿的位置时可以通过激光定位方法来进行测量。还可以包括指定模块，指定模块可以根据脸型来指定牙弓开合控制角度和牙弓长度控制系数。还可以包括圆弧参数确定模块，可以根据指定的牙弓开合控制角度和牙弓长度控制系数来确定每段圆弧的圆心和半径。其中在确定的过程中，将参考牙齿的第一牙齿和第二牙齿中的第一牙齿的测量点与以该测量点为端点的圆弧的圆心之间的距离定义为第一距离，将第二牙齿的测量点与以该测量点为端点的圆弧的圆心之间距离定义为第二距离，将两颗牙齿之间的直线距离定义为第三距离。其中，第一距离和第二距离相等，且等于牙弓长度控制系数乘以第三距离。这样可以确定圆弧的圆心和半径。另外，在本公开的实施方式中，确定模块可以根据图3所示的方式来确定圆心及半径。在图3中示出了三段圆弧的情况，但是在本公开中并不限于三段圆弧，可以根据情况来进行设定，例如可以为不封闭椭圆等。首先，选择两颗参考牙齿，分别为第一牙齿和第二牙齿，该两颗参考牙齿可以为对称的牙齿，另外也可以选择上颚牙齿也可以选择下颚牙齿。在图3中示出了所选的参考牙齿为两颗下犬牙。并且可以通过激光定位等方式来确定第一牙齿的位置C1和第二牙齿的位置C2。也可以使用激光定位等确定面部对称轴的位置以及一个人群普适的第一牙齿和第二牙齿距离，例如24毫米，确定第一牙齿的位置C1和第二牙齿的位置C2。这样，基于第一牙齿和第二牙齿将牙弓曲线分为三段圆弧，分别为第一圆弧A1、第二圆弧A2和第三圆弧A3。基于被测对象的脸型指定牙弓开合控制角度θ，其中牙弓开合控制角度θ可以为第一牙齿的位置C1和第二牙齿的位置C2之间的连线与位置C1或C2与第二圆弧A2的圆心之间的连线之间的角度，同时基于被测对象的脸型来确定牙弓长度控制系数r。从而得到第一圆弧A1的圆心O1、第二圆弧A2的圆心O2和第三圆弧A3的圆心O3。其中，第一圆弧A1的圆心O1与第一牙齿的位置C1之间的直线距离等于第三圆弧A3的圆心O3与第二牙齿的位置C2之间的直线距离，第一圆弧A1的圆心O1与第一牙齿的位置C1之间的直线距离等于第一牙齿的位置C1和第二牙齿的位置C2之间的距离乘以牙弓长度控制系数r，也就是：|O1C1|＝|O3C2|＝r|C1C2|。同时可以获得第一圆弧A1的半径r1、第二圆弧A2的半径r2和第三圆弧A3的半径r3。在此。在本公开中采用圆弧圆心作为虚拟旋转轴参数为例进行说明，但是需要说明的是，虚拟旋转轴参数也可以不必是圆心，可以是其他的点，例如可以是基于圆弧确定的点，在下面的描述中，术语“圆心”等同于“基于圆弧确定的点”，圆心仅仅是基于圆弧确定的点的一个示例，只要该点能够减少牙弓曲线一侧的成像点的成像结果受到对侧骨质结构的影响并且同时保证成像射线在拍摄中变化连续无突变即可。此外，虚拟旋转轴参数可以不必采用将牙弓曲线分成圆周的方式来确定，其可以通过其他方式来基于牙弓曲线等进行确定。在获得牙弓曲线的参数之后，计算模块可以基于虚拟旋转轴参数，计算牙弓曲线的每个成像点所对应的X射线源对应位置与探测器有效位置。在计算过程中，延长牙弓曲线的成像点与该成像点所在圆弧的圆心之间的连线，延长线与X射线源的运动轨迹的交点为该成像点所对应的X射线源对应位置，并且相应地将会得到X射线源对应位置所对应的探测器有效位置。为了得到整个口腔牙齿的照片，可以绕着固定旋转中心旋转X射线源，并且X射线源在旋转的过程中发射X射线，例如锥形束X射线。然后根据所计算的X射线源对应位置和探测器有效位置的关系，得到每个成像点的X射线投影数据。其中探测器有效位置测得的一个成像点的X射线投影数据可以为一列数据，也可以为两列以上数据。其中一列数据的情况下，就是延长牙弓曲线的成像点与该成像点所在圆弧的圆心之间的连线与探测器的交点处所测得的一列数据，也可以为该一列数据附近的一列以上的数据。其中，在本公开的口腔全景片拍摄系统，可以采用图4所示的方式来进行确定。对于图4中标出的成像点，因为其处于第一圆弧，因此延长成像点与圆心O2之间的连接线，该连接线与X射线源运动轨迹的交点则确定为X射线源对应位置，而该连接线与探测器的交点位置则确定为探测器有效位置。通过相同的原理，可以得到所有成像点的X射线源对应位置和探测器有效位置。此外每个成像点中的至少一部分成像点与X射线源的连接线、和X射线源与固定旋转中心的连接线成预定夹角。并且对于不同的成像点，预定夹角是不同的。另外对于一部分成像点，这些成像点与X射线源的连接线、和X射线源与固定旋转中心的连接线也可以是重合。绕固定旋转中心旋转X射线源，获取模块分别获取每个成像点所对应的X射线源对应位置处所发射的X射线在每个成像点所对应的探测器有效位置的X射线投影数据。在探测器有效位置获得一列或两列以上的投影列数据来作为对应成像点的X射线投影数据。本公开所称的投影列数据是指在垂直于图4所示的纸面方向中的一列数据，例如在使用锥形束X射线的情况下，选择探测器有效位置的一列投影列数据、或者该列投影列数据和该列投影列数据附近的一列以上投影列数据。在获得每个成像点的投影列数据之后，排列模块将所获得的投影列数据进行排列，以便得到口腔全景片。另外，根据本公开的另一实施方式，口腔全景片拍摄系统还可以包括调整模块。调整模块可以用于对投影列数据中的每列投影列数据进行比例调整，以便使得每列投影列数据中的各数据的放大比例一致，从而将调整后的X射线投影数据进行排列。在本公开中将投影列数据的每个数据进行比例调整，使得每个数据的放大系数相同。例如可以基于列数据中的某个数据作为基准来对其他数据的比例进行调整。调整之后，排列模块可以对调整后的数据进行排列来得到口腔全景片。根据本公开的系统，在实际操作时，作为一个示例，进行以下说明。调整设备和被测对象姿势，借助矢状面线、法兰克福线等定位线使得被测对象姿势端正，调整犬齿线对准犬齿，从而得到犬齿位置，同时根据被测对象情况选择牙弓开合控制角度θ和牙弓长度控制系数r，确定牙弓曲线。设备根据牙弓曲线需要，确定拍摄轨迹，进行拍摄。计算机采集探测器的数据，并进行处理得到口腔全景片。图8示出了采用处理单元的硬件实现方式的装置示例图。该装置可以包括执行上述流程图中各个或几个步骤的相应模块。因此，可以由相应模块执行上述流程图中的每个步骤或几个步骤，并且该装置可以包括这些模块中的一个或多个模块。模块可以是专门被配置为执行相应步骤的一个或多个硬件模块、或者由被配置为执行相应步骤的处理器来实现、或者存储在计算机可读介质内用于由处理器来实现、或者通过某种组合来实现。该硬件结构可以利用总线架构来实现。总线架构可以包括任何数量的互连总线和桥接器，这取决于硬件的特定应用和总体设计约束。总线1100将包括一个或多个处理器1200、存储器1300和/或硬件模块的各种电路连接到一起。总线1100还可以将诸如外围设备、电压调节器、功率管理电路、外部天线等的各种其它电路1400连接。并且其他电路可以连接外部设备等。总线1100可以是工业标准体系结构总线、外部设备互连总线或扩展工业标准体系结构总线等。总线可以分为地址总线、数据总线、控制总线等。为便于表示，该图中仅用一条连接线表示，但并不表示仅有一根总线或一种类型的总线。流程图中或在此以其他方式描述的任何过程或方法描述可以被理解为，表示包括一个或更多个用于实现特定逻辑功能或过程的步骤的可执行指令的代码的模块、片段或部分，并且本公开的优选实施方式的范围包括另外的实现，其中可以不按所示出或讨论的顺序，包括根据所涉及的功能按基本同时的方式或按相反的顺序，来执行功能，这应被本公开的实施方式所属技术领域的技术人员所理解。处理器执行上文所描述的各个方法和处理。例如，本公开中的方法实施方式可以被实现为软件程序，其被有形地包含于机器可读介质，例如存储器。在一些实施方式中，软件程序的部分或者全部可以经由存储器和/或通信接口而被载入和/或安装。当软件程序加载到存储器并由处理器执行时，可以执行上文描述的方法中的一个或多个步骤。备选地，在其他实施方式中，处理器可以通过其他任何适当的方式而被配置为执行上述方法之一。在流程图中表示或在此以其他方式描述的逻辑和/或步骤，可以具体实现在任何可读存储介质中，以供指令执行系统、装置或设备使用，或结合这些指令执行系统、装置或设备而使用。就本说明书而言，“可读存储介质”可以是任何可以包含、存储、通信、传播或传输程序以供指令执行系统、装置或设备或结合这些指令执行系统、装置或设备而使用的装置。可读存储介质的更具体的示例包括以下：具有一个或多个布线的电连接部，便携式计算机盘盒，随机存取存储器，只读存储器，可擦除可编辑只读存储器，光纤装置，以及便携式只读存储器。另外，可读存储介质甚至可以是可在其上打印程序的纸或其他合适的介质，因为可以例如通过对纸或其他介质进行光学扫描，接着进行编辑、解译或必要时以其他合适方式进行处理来以电子方式获得程序，然后将其存储在存储器中。应当理解，本公开的各部分可以用硬件、软件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或他们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列，现场可编程门阵列等。本技术领域的普通技术人员可以理解实现上述实施方式方法的全部或部分步骤是可以通过程序来指令相关的硬件完成，的程序可以存储于一种可读存储介质中，该程序在执行时，包括方法实施方式的步骤之一或其组合。此外，在本公开各个实施方式中的各功能单元可以集成在一个处理模块中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个模块中。上述集成的模块既可以采用硬件的形式实现，也可以采用软件功能模块的形式实现。集成的模块如果以软件功能模块的形式实现并作为独立的产品销售或使用时，也可以存储在一个可读存储介质中。存储介质可以是只读存储器，磁盘或光盘等。图8所示的处理单元可以包括确定模块1002、计算模块1004、获取模块1006、排列模块1008。其中确定模块1002、计算模块1004、获取模块1006、排列模块1008分别对应着拍摄系统中所描述的模块，并且可以分别用于执行图1中流程图中的相应步骤。此外还可以包括调整模块1010，其中该调整模块在图5的流程图的情况下可以用于执行步骤108，并且其也可以对应着拍摄系统中所描述的调整模块。本公开还提供了一种电子设备，包括：存储器，存储器存储执行指令；以及处理器或其他硬件模块，处理器或其他硬件模块执行存储器存储的执行指令，使得处理器或其他硬件模块执行上述的方法。本公开还提供了一种可读存储介质，可读存储介质中存储有执行指令，所述执行指令被处理器执行时用于实现上述的方法。综上，根据本公开的技术方案，本公开提出了一种新型圆轨迹的口腔全景片拍摄方案，能够实现在圆轨迹X光成像设备上拍摄口腔全景片，能够模拟多旋转中心的口腔全景拍摄，实现牙周面更好的拟合。一方面本公开可以独立成为一个口腔全景拍摄设备，另一方面本发明可以用于现有的CBCT等X光成像系统，扩展其功能实现口腔全景片拍摄。在本说明书的描述中，参考术语“一个实施例/方式”、“一些实施例/方式”、“示例”、“具体示例”、或“一些示例”等的描述意指结合该实施例/方式或示例描述的具体特征、结构、材料或者特点包含于本申请的至少一个实施例/方式或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施例/方式或示例。而且，描述的具体特征、结构、材料或者特点可以在任一个或多个实施例/方式或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本说明书中描述的不同实施例/方式或示例以及不同实施例/方式或示例的特征进行结合和组合。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可明示或者隐含地包括至少一个该特征。在本申请的描述中，“多个”的含义是至少两个，例如两个，三个等，除非另有明确具体的限定。本领域的技术人员应当理解，上述实施方式仅仅是为了清楚地说明本公开，而并非是对本公开的范围进行限定。对于所属领域的技术人员而言，在上述公开的基础上还可以做出其它变化或变型，并且这些变化或变型仍处于本公开的范围内。
