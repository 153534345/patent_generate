标题title
一种基于双跑道的自适应控制方法及系统
摘要abst
本发明涉及医疗器械技术领域，更具体地，本发明涉及一种基于双跑道的自适应控制方法及系统，包括左跑道、右跑道，左驱动电机、右驱动电机，护带，其佩戴在患者胸部或/和腰部，所述方法包括：检测护带所承受的拉力、左跑道所承受的第一压力，以及右跑道所承受的第二压力；获得拉力变化量、第一压力变化量和第二压力变化量；响应于第一压力变化量的绝对值大于压力阈值，且拉力变化量大于拉力阈值，根据第一压力变化量的正负改变左跑道的第一速度；响应于第一压力变化量的绝对值大于压力阈值，且拉力变化量大于拉力阈值，根据第二压力变化量的正负改变右跑道的第二速度。
权利要求书clms
1.一种基于双跑道的自适应控制方法，包括左跑道、右跑道，左驱动电机、右驱动电机，护带，其佩戴在患者胸部或/和腰部，其特征在于，包括：检测护带所承受的拉力、左跑道所承受的第一压力，以及右跑道所承受的第二压力；获得拉力变化量、第一压力变化量和第二压力变化量；响应于第一压力变化量的绝对值大于压力阈值，且拉力变化量大于拉力阈值，根据第一压力变化量的正负改变左跑道的第一速度；响应于第一压力变化量的绝对值大于压力阈值，且拉力变化量大于拉力阈值，根据第二压力变化量的正负改变右跑道的第二速度。2.根据权利要求1所述的基于双跑道的自适应控制方法，其特征在于，还包括：响应于第一压力变化量的绝对值小于压力阈值，不改变所述第一速度；响应于第二压力变化量的绝对值小于压力阈值，不改变所述第二速度；响应于拉力变化量小于拉力阈值，不改变所述第一速度和所述第二速度。3.根据权利要求1所述的基于双跑道的自适应控制方法，其特征在于，获得拉力变化量、第一压力变化量和第二压力变化量包括：检测当前周期以及上一周期的拉力、第一压力和第二压力；计算当前周期较于上一周期的拉力变化量、第一压力变化量和第二压力变化量。4.根据权利要求1所述的基于双跑道的自适应控制方法，其特征在于，根据第一压力变化量的正负改变左跑道的第一速度包括：确认第一压力变化量为正或负；响应于第一压力变化量为正，即第一压力增加，左驱动电机的输出功率，使左跑道的速度增加M，其中M为预定大小的速度值，其单位为m/s；响应于第一压力变化量为负，即第一压力减少，减少左驱动电机的输出功率，使左跑道的速度减少M。5.根据权利要求4所述的基于双跑道的自适应控制方法，其特征在于，通过减少减少左驱动电机的输出功率，使左跑道的速度减少M。6.根据权利要求1所述的基于双跑道的自适应控制方法，其特征在于，根据第二压力变化量的正负改变右跑道的第二速度包括：确认第二压力变化量为正或负；响应于第二压力变化量为正，即第二压力增加，增加右驱动电机的输出功率，使右跑道的速度增加M；响应于第二压力变化量为负，即第二压力减少，减少右驱动电机的输出功率，使右跑道的速度减少M。7.根据权利要求6所述的基于双跑道的自适应控制方法，其特征在于，通过减少减少右驱动电机的输出功率，使右跑道的速度减少M。8.一种基于双跑道的自适应控制系统，其特征在于，包括：处理器；存储器，其存储计算机程序，当所述计算机程序由所述处理器运行时，使得设备执行根据权利要求1至7中任意一项所述的基于双跑道的自适应控制方法。
说明书desc
技术领域本发明一般地涉及医疗器械技术领域。更具体地，本发明涉及一种基于双跑道的自适应控制方法及系统。背景技术对于偏瘫或者下肢有运动障碍的患者来说，他们需要进行行走跑步训练。适当行走跑训练可以帮助该类患者预防肌肉萎缩和挛缩、健康肢体的运动能力以及维持良好的心肺功能。现有用于康复训练的跑步机通常只有一个跑道，但是很多下肢有运动障碍的患者，其左、右腿的健康状况并不相同，因此其左、右腿所需求的训练量也不相同，这使得患者一次的康复训练并不能同时使其下肢的肌肉得到充分以及合适的锻炼。发明内容为解决患者一次康复训练中不能同时使下肢的肌肉得到充分以及合适锻炼的问题，本发明提出一种基于双跑道的自适应系统及方法。为此，本发明在如下的多个方面中提供方案。在第一方面中，本发明提出了一种基于双跑道的自适应控制方法，包括左跑道、右跑道，左驱动电机、右驱动电机，护带，其佩戴在患者胸部或/和腰部，所述方法包括：检测护带所承受的拉力、左跑道所承受的第一压力，以及右跑道所承受的第二压力；获得拉力变化量、第一压力变化量和第二压力变化量；响应于第一压力变化量的绝对值大于压力阈值，且拉力变化量大于拉力阈值，根据第一压力变化量的正负改变左跑道的第一速度；响应于第一压力变化量的绝对值大于压力阈值，且拉力变化量大于拉力阈值，根据第二压力变化量的正负改变右跑道的第二速度。在一个实施例中，该方法还包括：响应于第一压力变化量的绝对值小于压力阈值，不改变所述第一速度；响应于第二压力变化量的绝对值小于压力阈值，不改变所述第二速度；响应于拉力变化量小于拉力阈值，不改变所述第一速度和所述第二速度。在一个实施例中，获得拉力变化量、第一压力变化量和第二压力变化量包括：检测当前周期以及上一周期的拉力、第一压力和第二压力；计算当前周期较于上一周期的拉力变化量、第一压力变化量和第二压力变化量。在一个实施例中，根据第一压力变化量的正负改变左跑道的第一速度包括：确认第一压力变化量为正或负；响应于第一压力变化量为正，即第一压力增加，左驱动电机的输出功率，使左跑道的速度增加M，其中M为预定大小的速度值，其单位为m/s；响应于第一压力变化量为负，即第一压力减少，减少左驱动电机的输出功率，使左跑道的速度减少M。在一个实施例中，通过减少减少左驱动电机的输出功率，使左跑道的速度减少M。在一个实施例中，根据第二压力变化量的正负改变右跑道的第二速度包括：获得第二压力变化量的正负；响应于第二压力变化量为正，即第二压力增加，增加右驱动电机的输出功率，使右跑道的速度增加M；响应于第二压力变化量为负，即第二压力减少，减少右驱动电机的输出功率，使右跑道的速度减少M。在一个实施例中，通过减少减少右驱动电机的输出功率，使右跑道的速度减少M。在第二个方面，本发明提出了一种基于双跑道的自适应控制系统，其特征在于，包括：处理器；存储器，其存储计算机程序，当所述计算机程序由所述处理器运行时，使得设备执行上述发明内容中任意一项所述的基于双跑道的自适应控制方法。本发明提供一种基于双跑道的自适应控制方法和系统，适应于双腿障碍有区别的患者。通过实时测量康复训练设备所承受的拉力和压力判断患者的状态，进而调整左跑道和右跑道的速度，使患者的运动强度更适合其状态。再者，本发明分别控制左跑道的第一速度和右跑道的第二速度，使左跑道的第一速度适合于患者左侧腿部的健康状态；使右跑道的第二速度适合于患者右侧腿部的健康状态。基于此，本发明能够实现患者的行走跑步训练，并且根据双腿障碍等级来进行自动调整训练强度，提高训练的效果。附图说明通过参考附图阅读下文的详细描述，本发明示例性实施方式的上述以及其他目的、特征和优点将变得易于理解。在附图中，以示例性而非限制性的方式示出了本发明的若干实施方式，并且相同或对应的标号表示相同或对应的部分，其中：图1是示意性示出根据本发明的实施例的基于双跑道的自适应控制方法的步骤流程图；图2是示意性示出根据本发明的实施例的步骤S2的步骤流程图；图3是示意性示出根据本发明的实施例的步骤S3的步骤流程图；图4是示意性示出根据本发明的实施例的步骤S4的步骤流程图；图5是示意性示出根据本实施例中的基于双跑道的自适应控制系统的结构框图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。下面结合附图来详细描述本发明的具体实施方式。图1是示意性示出根据本发明的实施例的基于双跑道的自适应控制方法的步骤流程图。如图1所示，该方法包括步骤S1至步骤S4。步骤S1：检测护带所承受的拉力、左跑道所承受的第一压力，以及右跑道所承受的第二压力。进一步地，以预定的周期检测护带所承受的拉力、左跑道所承受的第一压力，以及右跑道所承受的第二压力。在一个实施例中，每隔50ms检测一次拉力、第一压力以及第二压力。在一个实施例中，护带通过拉力传感器固定连接，拉力传感器检测护带所承受的拉力。左跑道下方四角处分别有四个压力传感器，四个压力传感器共同检测左跑道所承受的第一压力。同样地，右跑道下方四角处分别有四个压力传感器，四个压力传感器共同检测右跑道所承受的第二压力。步骤S2：获得拉力变化量、第一压力变化量和第二压力变化量。其中，将上一周期与当前检测的拉力、第一压力以及第二压力进行差运算，得到拉力变化量、第一压力变化量和第二压力变化量。基于此，拉力变化量、第一压力变化量和第二压力变化量为对应的力在预定时间所发生的变化量。步骤S3：响应于第一压力变化量的绝对值大于压力阈值，且拉力变化量大于拉力阈值，根据第一压力变化量为正或负改变左跑道的第一速度。其中，在拉力变化量大于拉力阈值时，第一压力发生变化，且发生变化的幅度到达预定的期限，可以认为患者左侧腿部的训练强度期望获得增加。步骤S4：响应于第一压力变化量大于压力阈值，且拉力变化量大于拉力阈值，根据第二压力变化量的正负改变右跑道的第二速度。其中，在拉力变化量大于拉力阈值时，第二压力发生变化，且发生变化的幅度到达预定的期限，可以认为患者右侧腿部的训练强度期望获得增加。进一步地，响应于第一压力变化量小于压力阈值，不改变所述第一速度；响应于第二压力变化量小于压力阈值，不改变所述第二速度；响应于拉力变化量小于拉力阈值，不改变所述第一速度和所述第二速度。综上所述，在患者进行正常训练时，若患者腿部速度增加，此时患者与跑道产生摩擦力，且该摩擦力与护带所承受的拉力成正比。因此，若护带承受的拉力增加，可以视为患者期望增加运动强度。考虑到患者两侧腿部的健康状态可能不同，所以患者两侧腿部所需的运动强度也不同，左跑道和右跑道的速度也不同。因此分别检测患者对左跑道和右跑道的压力，在患者期望增加运动强度时，左跑道对应所承受的压力增加时，视为患者左侧腿部期望运动强度增加；右跑道对应所承受的压力增加时，视为患者右侧腿部期望运动强度增加。基于此，实时调整对应跑道的速度，使跑道实际速度与患者个人意愿以及身体状况更加贴合。在另一个实施例中，在各周期内检测护带所承受的拉力、左跑道所承受的第一压力，以及右跑道所承受的第二压力之前，通过陀螺仪检测患者的身体倾斜度数据。其中陀螺仪佩戴再患者腰部，当陀螺仪检测患者的姿态相对于垂直轴的偏于超过预定阈值时，使左驱动电机和右驱动电机急停，避免患者出现不能控制身体之后跌倒的情况。所述预定阈值为20°。图2是示意性示出根据本发明的实施例的步骤S2的步骤流程图。如图2所示，步骤S2包括步骤S201至步骤S202。步骤S201：检测当前周期以及上一周期的拉力、第一压力和第二压力。步骤S202：计算当前周期较于上一周期的拉力变化量、第一压力变化量和第二压力变化量。其中，拉力变化量可以通过当前周期的拉力值减去上一周期的拉力值来计算。拉力变化量为正时，表明拉力增加，反之则说明拉力减少。第一压力变化量可以通过当前周期的第一压力减去上一周期的第一压力得到。第一压力变化量为正时，表明拉力增加，反之则说明第二压力减少。第二压力变化量可以通过当前周期的第二压力减去上一周期的第二压力得到。第二压力变化量为正时，表明拉力增加，反之则说明第二压力减少。图3是示意性示出根据本发明的实施例的步骤S3的步骤流程图。如图3所示，步骤S3包括步骤S301至步骤S303。步骤S301：确认第一压力变化量为正或负。其中，第一压力变化量为正时，表明第一压力的值变大；第一压力变化量未负时，表明第一压力的值变小。步骤S302：响应于第一压力变化量为正，即第一压力增加，左驱动电机的输出功率，使左跑道的速度增加M。其中，M为预定大小的速度值，其单位为m/s。且M为固定的速度值。基于此，左跑道的速度的增长较为平滑，防止患者因跑道的速度突变而发生跌倒。步骤S303：响应于第一压力变化量为负，即第一压力减少，使左跑道的速度减少M。在一个实施例中，通过变频器改变对左驱动电机的供电频率，实现对输出功率的控制。或者，通过PWM控制左驱动电机的输出功率，具体为：通过改变PWM信号的占空比，即调节高电平和低电平的时间比例，可以控制左驱动电机的平均电压或平均电流，从而实现对输出功率的控制。图4是示意性示出根据本发明的实施例的步骤S4的步骤流程图。如图4所示，步骤S4包括步骤S401至步骤S403。步骤S401：确认第二压力变化量为正或负。其中，第二压力变化量为正时，表明第二压力的值变大；第二压力变化量为负时，表明第二压力的值变小。步骤S402：响应于第二压力变化量为正，即第二压力增加，增加右驱动电机的输出功率，使右跑道的速度增加M。步骤S403：响应于第二压力变化量为负，即第二压力减少，减少右驱动电机的输出功率，使右跑道的速度减少M。在一个实施例中，通过变频器改变对右驱动电机的供电频率，实现对输出功率的控制。或者，通过PID控制右驱动电机的输出频率，具体为：通过测量电机输出功率与目标功率之间的误差，根据比例、积分和微分的作用，计算出相应的控制信号来调整右驱动电机的输出功率。进一步地，控制左驱动电机和右驱动电机的控制方法相同。例如，二者均通过变频器控制输出功率，或者二者均通过PWM控制输出功率。左驱动电机和右驱动电机的条件不同，通过拉力变化量和左跑道所承受的第一拉力变化量控制左驱动电机，通过拉力变化量和右跑道所承受的第二拉力变化量控制右驱动电机。图5是示意性示出根据本实施例中的基于双跑道的自适应控制系统的结构框图。本发明还提供了基于双跑道的自适应控制系统。如图5所示，所述系统包括处理器和存储器，所述存储器存储有计算机程序指令，当所述计算机程序指令被所述处理器执行时实现根据本发明第一方面所述的基于双跑道的自适应控制方法。所述系统还包括通信总线和通信接口等本领域技术人员熟知的其他组件，其设置和功能为本领域中已知，因此在此不再赘述。在本发明中，前述的存储器可以是任何包含或存储程序的有形介质，该程序可以被指令执行系统、装置或者器件使用或者与其结合使用。例如，计算机可读存储介质可以是任何适当的磁存储介质或者磁光存储介质，比如，阻变式存储器RRAM、动态随机存取存储器DRAM、静态随机存取存储器SRAM、增强动态随机存取存储器EDRAM、高带宽内存HBM、混合存储立方HMC等等，或者可以用于存储所需信息并且可以由应用程序、模块或两者访问的任何其他介质。任何这样的计算机存储介质可以是设备的一部分或可访问或可连接到设备。本发明描述的任何应用或模块可以使用可以由这样的计算机可读介质存储或以其他方式保持的计算机可读/可执行指令来实现。在本说明书的描述中，“多个”、“若干个”的含义是至少两个，例如两个，三个或更多个等，除非另有明确具体的限定。虽然本说明书已经示出和描述了本发明的多个实施例，但对于本领域技术人员显而易见的是，这样的实施例只是以示例的方式提供的。本领域技术人员会在不偏离本发明思想和精神的情况下想到许多更改、改变和替代的方式。应当理解的是在实践本发明的过程中，可以采用对本文所描述的本发明实施例的各种替代方案。
