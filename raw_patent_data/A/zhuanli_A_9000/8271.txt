标题title
基于智能穿戴设备的控制方法、装置、设备及介质
摘要abst
本发明实施例公开了一种基于智能穿戴设备的控制方法、装置、设备及介质，其中方法包括：根据智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据判断目标用户是否处于非活跃状态；若是，获取智能穿戴设备采集的环境图像，根据房屋三维地图、房间标准图像库和环境图像，确定智能穿戴设备对应的目标房间标识及第一设备位置；根据第一设备位置和目标房间标识对应的各个图像采集设备，对目标用户采集图像，得到用户图像集；根据用户图像集、第一生理特征数据和第一动作数据确定目标用户的目标入睡阶段；根据目标入睡阶段生成各个家居助眠控制指令。从而考虑了用户的环境情况和动作数据，准确的确定目标用户的入睡情况。
权利要求书clms
1.一种基于智能穿戴设备的控制方法，所述方法包括：获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；根据所述目标入睡阶段生成各个家居助眠控制指令。2.根据权利要求1所述的基于智能穿戴设备的控制方法，其特征在于，所述根据所述目标入睡阶段生成各个家居助眠控制指令的步骤，包括：获取所述目标房间标识对应的房间的第一环境数据；根据所述目标房间标识，从预设的家居设备库中获取各个家居设备标识，作为可控家居设备标识集；若所述目标房间标识对应的房间类型为客厅，则根据所述目标入睡阶段和所述可控家居设备标识集的设备类型为视频播放以外的各个家居设备标识生成各个所述家居助眠控制指令，若所述可控家居设备标识集对应的各个视频播放设备中存在处于开启状态的所述视频播放设备，并且，根据所述第一环境数据确定存在所述目标用户以外的人体，则根据预设的睡眠音量阈值控制处于开启状态的各个所述视频播放设备，并针对在处于开启状态的每个所述视频播放设备生成提示信息显示指令，若所述可控家居设备标识集对应的各个所述视频播放设备存在处于开启状态的所述视频播放设备，并且，根据所述第一环境数据确定不存在所述目标用户以外的人体，则控制处于开启状态的各个所述视频播放设备进行关闭；若所述目标房间标识对应的房间类型为卧室或书房，则根据所述目标入睡阶段和所述可控家居设备标识集生成各个所述家居助眠控制指令。3.根据权利要求2所述的基于智能穿戴设备的控制方法，其特征在于，所述根据所述目标入睡阶段生成各个家居助眠控制指令的步骤之后，包括：根据所述第一环境数据和所述目标用户对应的敏感干扰配置进行敏感干扰类型判断；根据所述目标用户对应的敏感干扰配置、所述目标入睡阶段、所述敏感干扰类型和所述第一环境数据生成各个家居抗干扰控制指令。4.根据权利要求3所述的基于智能穿戴设备的控制方法，其特征在于，若所述敏感干扰类型包含噪声干扰，则所述根据所述目标用户对应的敏感干扰配置、所述目标入睡阶段、所述敏感干扰类型和所述第一环境数据生成各个家居抗干扰控制指令的步骤包括：根据所述第一环境数据确定噪声数据；根据与所述噪声数据对应的反相声波生成主动降噪控制指令，其中，所述主动降噪控制指令用于控制所述目标房间标识对应的房间中的主动降噪设备以实现对噪声进行中和。5.根据权利要求3所述的基于智能穿戴设备的控制方法，其特征在于，所述根据所述第一环境数据和所述目标用户对应的敏感干扰配置进行敏感干扰类型判断的步骤之前，还包括：将任一个入睡阶段作为待分析入睡阶段；在所述目标用户进入所述待分析入睡阶段时，获取所述目标用户对应的环境数据作为第二环境数据；在所述目标用户处于所述待分析入睡阶段时，分别采用预设的每个调节方案进行环境调节、获取调节后的环境数据作为第三环境数据及获取生理特征数据作为第二生理特征数据；根据所述第二环境数据、所述第三环境数据和所述第二生理特征数据确定所述待分析入睡阶段对应的单阶段敏感干扰信息；将所述目标用户对应的所有所述入睡阶段对应的所有所述单阶段敏感干扰信息作为所述敏感干扰配置。6.根据权利要求1所述的基于智能穿戴设备的控制方法，其特征在于，所述根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集的步骤，包括：根据所述第一设备位置，控制所述目标房间标识对应的任一个所述图像采集设备，对所述目标用户采集第二图像；根据所述第二图像，从所述目标房间标识对应的各个所述图像采集设备中找出面向所述目标用户的人脸的所述图像采集设备，作为第一命中设备；根据所述第一设备位置，控制所述第一命中设备对所述目标用户的人脸进行拍摄，得到人脸图像集；根据所述第一设备位置，从所述目标房间标识对应的各个所述图像采集设备中找出距离最近的所述图像采集设备，作为第二命中设备；根据所述第一设备位置，控制所述第二命中设备对所述目标用户进行拍摄，得到人体图像集；将所述人脸图像集和所述人体图像集作为所述用户图像集。7.根据权利要求1所述的基于智能穿戴设备的控制方法，其特征在于，所述根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置的步骤之前，还包括：获取地图构建信号；响应所述地图构建信号，获取所述智能穿戴设备拍摄的各个房间深度图像和每个所述房间深度图像对应的房间编号及房间类型；根据各个所述房间深度图像、每个所述房间深度图像对应的房间编号及房间类型构建三维地图，得到所述房屋三维地图；将各个所述房间深度图像作为所述房间标准图像库；确定三维地图中各个智能家居设备的位置信息。8.一种基于智能穿戴设备的控制装置，其特征在于，所述装置包括：数据获取模块，用于获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；判断模块，用于根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；位置信息确定模块，用于若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；用户图像集确定模块，用于根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；目标入睡阶段确定模块，用于根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；指令生成模块，用于根据所述目标入睡阶段生成各个家居助眠控制指令。9.一种计算机可读存储介质，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行如权利要求1至7中任一项所述方法的步骤。10.一种智能穿戴设备，包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行如权利要求1至7中任一项所述方法的步骤。
说明书desc
技术领域本发明涉及智能穿戴设备技术领域，尤其涉及一种基于智能穿戴设备的控制方法、装置、设备及介质。背景技术目前智能穿戴设备得到广泛应用，智能穿戴设备智能单纯地检测出人体的生理特征数据的变化，不能根据这些生理特征数据的变化向用户提供针对性的助眠服务，导致用户体验不佳。随着智能家居设备的发展，将智能穿戴设备和智能家居设备结合实现根据生理特征数据的变化向用户提供针对性的助眠服务，这在一定程度上解决了上述问题。现有技术中提供了基于生理特征数据的控制方法和装置，通过可佩戴的电子设备检测的生理特征数据判断用户的生理状况，根据生理状况控制外部设备。然而，发明人发现，现有的方案仅仅根据基于智能穿戴设备检测的生理特征数据确定的生理状况控制智能家居设备，该方案智能穿戴设备并不能准确确定用户的入睡情况，进而不能很好的帮助用户提高睡眠质量，导致向用户提供针对性的服务的效果不佳。发明内容基于此，有必要针对现有技术仅仅根据基于智能穿戴设备检测的生理特征数据确定的生理状况控制智能家居设备，该方案智能穿戴设备并不能准确确定用户的入睡情况，进而不能很好的帮助用户提高睡眠质量，导致向用户提供针对性的服务的效果不佳的技术问题，提出了一种基于智能穿戴设备的控制方法、装置、设备及介质。本申请提供了一种基于智能穿戴设备的控制方法，所述方法包括：获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；根据所述目标入睡阶段生成各个家居助眠控制指令。进一步地，所述根据所述目标入睡阶段生成各个家居助眠控制指令的步骤，包括：获取所述目标房间标识对应的房间的第一环境数据；根据所述目标房间标识，从预设的家居设备库中获取各个家居设备标识，作为可控家居设备标识集；若所述目标房间标识对应的房间类型为客厅，则根据所述目标入睡阶段和所述可控家居设备标识集的设备类型为视频播放以外的各个家居设备标识生成各个所述家居助眠控制指令，若所述可控家居设备标识集对应的各个视频播放设备中存在处于开启状态的所述视频播放设备，并且，根据所述第一环境数据确定存在所述目标用户以外的人体，则根据预设的睡眠音量阈值控制处于开启状态的各个所述视频播放设备，并针对在处于开启状态的每个所述视频播放设备生成提示信息显示指令，若所述可控家居设备标识集对应的各个所述视频播放设备存在处于开启状态的所述视频播放设备，并且，根据所述第一环境数据确定不存在所述目标用户以外的人体，则控制处于开启状态的各个所述视频播放设备进行关闭；若所述目标房间标识对应的房间类型为卧室或书房，则根据所述目标入睡阶段和所述可控家居设备标识集生成各个所述家居助眠控制指令。进一步地，所述根据所述目标入睡阶段生成各个家居助眠控制指令的步骤之后，包括：根据所述第一环境数据和所述目标用户对应的敏感干扰配置进行敏感干扰类型判断；根据所述目标用户对应的敏感干扰配置、所述目标入睡阶段、所述敏感干扰类型和所述第一环境数据生成各个家居抗干扰控制指令。进一步地，若所述敏感干扰类型包含噪声干扰，则所述根据所述目标用户对应的敏感干扰配置、所述目标入睡阶段、所述敏感干扰类型和所述第一环境数据生成各个家居抗干扰控制指令的步骤包括：根据所述第一环境数据确定噪声数据；根据与所述噪声数据对应的反相声波生成主动降噪控制指令，其中，所述主动降噪控制指令用于控制所述目标房间标识对应的房间中的主动降噪设备以实现对噪声进行中和。进一步地，所述根据所述第一环境数据和所述目标用户对应的敏感干扰配置进行敏感干扰类型判断的步骤之前，还包括：将任一个入睡阶段作为待分析入睡阶段；在所述目标用户进入所述待分析入睡阶段时，获取所述目标用户对应的环境数据作为第二环境数据；在所述目标用户处于所述待分析入睡阶段时，分别采用预设的每个调节方案进行环境调节、获取调节后的环境数据作为第三环境数据及获取生理特征数据作为第二生理特征数据；根据所述第二环境数据、所述第三环境数据和所述第二生理特征数据确定所述待分析入睡阶段对应的单阶段敏感干扰信息；将所述目标用户对应的所有所述入睡阶段对应的所有所述单阶段敏感干扰信息作为所述敏感干扰配置。进一步地，所述根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集的步骤，包括：根据所述第一设备位置，控制所述目标房间标识对应的任一个所述图像采集设备，对所述目标用户采集第二图像；根据所述第二图像，从所述目标房间标识对应的各个所述图像采集设备中找出面向所述目标用户的人脸的所述图像采集设备，作为第一命中设备；根据所述第一设备位置，控制所述第一命中设备对所述目标用户的人脸进行拍摄，得到人脸图像集；根据所述第一设备位置，从所述目标房间标识对应的各个所述图像采集设备中找出距离最近的所述图像采集设备，作为第二命中设备；根据所述第一设备位置，控制所述第二命中设备对所述目标用户进行拍摄，得到人体图像集；将所述人脸图像集和所述人体图像集作为所述用户图像集。进一步地，所述根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置的步骤之前，还包括：获取地图构建信号；响应所述地图构建信号，获取所述智能穿戴设备拍摄的各个房间深度图像和每个所述房间深度图像对应的房间编号及房间类型；根据各个所述房间深度图像、每个所述房间深度图像对应的房间编号及房间类型构建三维地图，得到所述房屋三维地图；将各个所述房间深度图像作为所述房间标准图像库；确定三维地图中各个智能家居设备的位置信息。本申请还提供了一种基于智能穿戴设备的控制装置，所述装置包括：数据获取模块，用于获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；判断模块，用于根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；位置信息确定模块，用于若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；用户图像集确定模块，用于根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；目标入睡阶段确定模块，用于根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；指令生成模块，用于根据所述目标入睡阶段生成各个家居助眠控制指令。本申请还提供了一种智能穿戴，包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行以下步骤：获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；根据所述目标入睡阶段生成各个家居助眠控制指令。本申请还提供了一种计算机可读存储介质，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行以下步骤：获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；根据所述目标入睡阶段生成各个家居助眠控制指令。本申请的基于智能穿戴设备的控制方法，通过首先在基于第一生理特征数据和第一动作数据判断目标用户处于非活跃状态时，根据基于环境图像确定的用户图像集、第一生理特征数据和第一动作数据确定所述目标用户的目标入睡阶段，最后根据目标入睡阶段生成各个家居助眠控制指令。通过综合生理特征数据、动作数据、基于环境图像确定的用户图像集控制智能家居设备，考虑了用户的环境情况和动作数据，准确的确定目标用户的入睡情况，进而有利于很好的帮助用户提高睡眠质量，有利于提高向用户提供针对性的服务的效果，提高了用户体验。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。其中：图1为一个实施例中基于智能穿戴设备的控制方法的流程图；图2为一个实施例中基于智能穿戴设备的控制装置的结构框图；图3为一个实施例中计算机设备的结构框图。具体实施方式下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。可以理解的是，实现本申请的基于智能穿戴设备的控制方法的程序文件，可以装载在智能穿戴设备中，也可以装载在中控台中。其中，智能穿戴设备通过中控台与智能家居设备进行通信。中控台可以是小型服务器，也可以是电脑。智能家居设备的取值范围包括但不限于：视频播放设备、图像采集设备、音响、智能窗帘、电灯、台灯、电话、门铃、加湿器、空气净化器，视频播放设备的取值范围包括但不限于：电视、台式电脑、手提电脑、平板电脑，图像采集设备的取值范围包括但不限于：带摄像头的电视、带摄像头的台式电脑、手提电脑、平板电脑、摄像头、激光扫描器、红外扫描器。如图1所示，在一个实施例中，提供了一种基于智能穿戴设备的控制方法。该方法具体包括如下步骤：S1：获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；具体而言，智能穿戴设备按预设的时间间隔对目标用户采集生理特征数据，将采集的生理特征数据作为第一生理特征数据，而且智能穿戴设备在采集第一生理特征数据，将采集目标用户的动作数据，将采集的采集作为第一动作数据。第一生理特征数据包括但不限于：心率、血氧含量、血压和体温。第一动作数据包括但不限于：智能穿戴设备的位置变化数据和智能穿戴设备的环境温度变化数据。智能穿戴设备的取值范围包括但不限于：智能手表、智能手环、智能项圈、智能项链和智能脚环。S2：根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；具体而言，将所述第一生理特征数据和所述第一动作数据输入预设的活跃状态分类模型进行分类预测，从预测得到的向量中找出值为最大的向量元素，将找出的向量元素对应的分类标签作为命中标签；若命中标签为非活跃，则确定所述目标用户处于非活跃状态；若命中标签为活跃，则确定所述目标用户处于活跃状态。若所述目标用户处于活跃状态，此时意味着目标用户的未处于准备入睡或已经入睡状态，不需继续执行步骤S3至步骤S6。比如，所述第一生理特征数据表示目标用户很困，但是目标用户不想睡觉，此时会出现手部运动，手部运动带动智能穿戴设备运动，从而使所述第一动作数据中的智能穿戴设备的位置变化数据的变化较大，而所述第一动作数据中的智能穿戴设备的环境温度变化数据的变化较小，此时确定所述目标用户处于活跃状态。又比如，所述第一生理特征数据表示目标用户很困，但是目标用户想睡觉，此时会出现手部基本不会运动，从而使所述第一动作数据中的智能穿戴设备的位置变化数据的变化较小，而所述第一动作数据中的智能穿戴设备的环境温度变化数据的变化可能较大，此时确定所述目标用户处于非活跃状态。活跃状态分类模型是一个二分类模型，包括非活跃和活跃两个分类标签。活跃状态分类模型的模型结构和模型训练方法可以从现有技术中选择，在此不做赘述。S3：若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；房间标准图像库包括：房间标识和房间标准图像。因智能穿戴设备的定位系统在房屋内部无法准确定位，因此，本申请根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置，这在一定程度上解决了上述问题。具体而言，若处于非活跃状态，也就是所述目标用户处于非活跃状态，此时意味着目标用户处于准备入睡或已经入睡状态，因此，控制所述智能穿戴设备拍摄图像，将拍摄的图像作为环境图像，根据环境图像中的物体与预设的房间标准图像库中的房间标准图像中的物体进行对比，以实现从房间标准图像库找出环境相同的房间标准图像，将找出的房间标准图像对应的房间标识作为目标房间标识；根据目标房间标识对应的房间在房屋三维地图的位置、房间标准图像对应的图像深度、房屋三维地图，计算出智能穿戴设备在房屋三维地图中的位置，将计算得到的位置作为第一设备位置。可以理解的是，根据环境图像中的物体与预设的房间标准图像库中的房间标准图像中的物体进行对比，以实现从房间标准图像库找出环境相同的房间标准图像的具体实现方法可以从现有技术中选择，在此不做赘述。根据目标房间标识对应的房间在房屋三维地图的位置、房间标准图像对应的图像深度、房屋三维地图，计算出智能穿戴设备在房屋三维地图中的位置的具体实现方法可以从现有技术中选择，在此不做赘述。S4：根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；具体而言，基于预设的筛选规则，根据所述第一设备位置，从所述目标房间标识对应的各个图像采集设备中筛选合适的图像采集设备，根据所述第一设备位置，控制筛选出的图像采集设备对所述目标用户采集图像，将采集的所有图像作为用户图像集。S5：根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；具体而言，根据所述用户图像集中目标用户的姿态，判断目标用户是否靠坐着或者卧着；若目标用户靠坐着或者卧着，此时意味着目标用户符合睡眠的姿态要求，因此，根据所述第一动作数据判断目标用户是否处于看手机、阅读等不想入睡的状态，若目标用户处于不想入睡的状态，则不需执行步骤S5的后续部分和步骤S6，若目标用户不处于不想入睡的状态，则将所述第一生理特征数据输入预设的入睡阶段分类模型确定入睡阶段，将确定的入睡阶段作为目标入睡阶段。相对仅根据生理特征数据确定入睡阶段，本申请的根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段的准确性更高，从而有利于提高构建的睡眠环境的准确性。入睡阶段分类模型是一个多分类模型，入睡阶段分类模型的分类标签包括：准备入睡阶段、浅睡阶段、熟睡阶段和深睡阶段。入睡阶段分类模型的模型结构和模型训练方法可以从现有技术中选择，在此不做赘述。S6：根据所述目标入睡阶段生成各个家居助眠控制指令。具体而言，根据所述目标入睡阶段对应的助眠配置和所述目标房间标识对应的房间中的各个智能家居设备生成各个家居助眠控制指令，从而对助眠配置对应的各个设备和所述目标房间标识对应的房间中的各个智能家居设备的交集生成各个家居助眠控制指令。从而根据各个家居助眠控制指令控制所述目标房间标识对应的房间中的各个智能家居设备工作，为目标用户提供睡眠环境。助眠配置描述了需要开启哪些智能家居设备。各个家居助眠控制指令可以控制智能家居设备调节智能窗帘改善房间的光线、播放适合目标用户睡眠的音乐、启动加湿器、调节灯光、调节电话铃声、调节门铃铃声等等。本实施例通过综合生理特征数据、动作数据、基于环境图像确定的用户图像集控制智能家居设备，考虑了用户的环境情况和动作数据，准确的确定目标用户的入睡情况，进而有利于很好的帮助用户提高睡眠质量，有利于提高向用户提供针对性的服务的效果，提高了用户体验。在一个实施例中，上述根据所述目标入睡阶段生成各个家居助眠控制指令的步骤，包括：S61：获取所述目标房间标识对应的房间的第一环境数据；具体而言，通过智能穿戴设备、智能家居设备获取所述目标房间标识对应的房间的环境数据，将获取的环境数据作为第一环境数据。所述目标房间标识对应的房间的环境数据包括但不限于：图像、视频、音频、环境温度、环境湿度、环境粉尘、光线。S62：根据所述目标房间标识，从预设的家居设备库中获取各个家居设备标识，作为可控家居设备标识集；家居设备库包括但不限于：房间标识、设备类型、家居设备标识和房间类型。房间标识可以是房间名称、是房间I等唯一标识一个房间的数据。家居设备标识可以是设备名称、设备I等唯一标识一个智能家居设备的数据。具体而言，从预设的家居设备库中获取房间标识与所述目标房间标识相同的各个家居设备标识，将获取的各个家居设备标识作为可控家居设备标识集。S63：若所述目标房间标识对应的房间类型为客厅，则根据所述目标入睡阶段和所述可控家居设备标识集的设备类型为视频播放以外的各个家居设备标识生成各个所述家居助眠控制指令，若所述可控家居设备标识集对应的各个视频播放设备中存在处于开启状态的所述视频播放设备，并且，根据所述第一环境数据确定存在所述目标用户以外的人体，则根据预设的睡眠音量阈值控制处于开启状态的各个所述视频播放设备，并针对在处于开启状态的每个所述视频播放设备生成提示信息显示指令，若所述可控家居设备标识集对应的各个所述视频播放设备存在处于开启状态的所述视频播放设备，并且，根据所述第一环境数据确定不存在所述目标用户以外的人体，则控制处于开启状态的各个所述视频播放设备进行关闭；具体而言，若所述目标房间标识对应的房间类型为客厅，此时意味着佩戴着智能穿戴设备的目标用户在客厅，因此，根据所述目标入睡阶段对应的客厅助眠配置和所述可控家居设备标识集的设备类型为视频播放以外的各个家居设备标识生成各个所述家居助眠控制指令，从实现根据所述目标入睡阶段的客厅助眠配置对应的各个设备和所述可控家居设备标识集的设备类型为视频播放以外的各个家居设备标识对应的各个设备的交集生成所述家居助眠控制指令。若所述可控家居设备标识集对应的各个视频播放设备中存在处于开启状态的所述视频播放设备，并且，根据所述第一环境数据确定存在所述目标用户以外的人体，此时意味着有目标用户以外的人体在客厅，并且有视频播放设备在工作中，需要兼顾目标用户的睡眠需求和其他人的视频观看权益，因此，根据预设的睡眠音量阈值控制处于开启状态的各个所述视频播放设备，以实现降低音量，并且针对在处于开启状态的每个所述视频播放设备生成提示信息显示指令，以实现通过提示信息显示指令控制处于开启状态的各个所述视频播放设备的显示屏显示有人睡觉的提示信息，从而使客厅的其他人可快速的了解客厅有人睡觉。若所述可控家居设备标识集对应的各个所述视频播放设备存在处于开启状态的所述视频播放设备，并且，根据所述第一环境数据确定不存在所述目标用户以外的人体，此时意味着客厅只有目标用户，处于开启状态的各个所述视频播放设备无人观看，因此，控制处于开启状态的各个所述视频播放设备进行关闭，在降低电能消耗和延长设备寿命的情况下，提高了目标用户的睡眠环境。其中，所述根据所述第一环境数据确定存在所述目标用户以外的人体的步骤，也就是根据所述第一环境数据中的图像确定客厅是否存在所述目标用户以外的人体。根据所述第一环境数据中的图像确定客厅是否存在所述目标用户以外的人体的具体方法步骤在此不做赘述。S64：若所述目标房间标识对应的房间类型为卧室或书房，则根据所述目标入睡阶段和所述可控家居设备标识集生成各个所述家居助眠控制指令。具体而言，若所述目标房间标识对应的房间类型为卧室或书房，根据所述目标入睡阶段对应的助眠配置对应的各个设备和所述可控家居设备标识集对应的各个设备的交集生成各个所述家居助眠控制指令。本实施例在目标用户位于客厅时和目标用户位于卧室或书房时采用不同的策略生成家居助眠控制指令，从而有利于在兼顾同住人的权益的情况下为目标用户构建适合的睡眠环境，进一步提高了用户体验。在一个实施例中，上述根据所述目标入睡阶段生成各个家居助眠控制指令的步骤之后，包括：S71：根据所述第一环境数据和所述目标用户对应的敏感干扰配置进行敏感干扰类型判断；具体而言，将所述第一环境数据和所述目标用户对应的敏感干扰配置输入预设的干扰类型分类模型进行分类预测，从预测得到的向量中找出值大于预设概率的各个向量元素，将找到的向量元素对应的分类标签作为敏感干扰类型。干扰类型分类模型是一个多分类模型，干扰类型分类模型的分类标签的取值范围包括：噪声干扰、光线干扰、空气湿度干扰和空气粉尘干扰。干扰类型分类模型的模型结构和模型训练方法可以从现有技术中选择，在此不做赘述。S72：根据所述目标用户对应的敏感干扰配置、所述目标入睡阶段、所述敏感干扰类型和所述第一环境数据生成各个家居抗干扰控制指令。在睡眠环境中，可能存在的干扰包括：噪声干扰、光线干扰、空气湿度干扰、空气粉尘干扰。敏感干扰配置包括但不限于：用户标识、入睡阶段、干扰标识和干扰阈值描述。干扰标识可以是干扰名称、干扰I等唯一标识一种干扰的数据。干扰阈值描述，用于描述造成干扰的阈值，比如，干扰标识为噪声干扰，干扰阈值描述为大于A分贝。具体而言，从所述目标用户对应的敏感干扰配置中找出与所述目标入睡阶段对应的各个干扰标识和各个干扰阈值描述，根据找出的各个干扰标识从所述第一环境数据中找出所述敏感干扰类型中的每个干扰类型对应的数据，作为待分析数据，根据待分析数据和找出的各个干扰阈值描述生成家居抗干扰控制指令，从而实现通过家居抗干扰控制指令控制智能家居设备。从而使生成的家居抗干扰控制指令符合找出的干扰阈值描述的要求，以满足针对目标用户在目标入睡阶段的个性化抗干扰需求。本实施例根据所述目标用户对应的敏感干扰配置、所述目标入睡阶段、所述敏感干扰类型和所述第一环境数据生成各个家居抗干扰控制指令，实现了针对目标用户敏感的干扰构建睡眠环境，进一步提高了向用户提供针对性的服务的效果，进一步提高了用户体验。在一个实施例中，若所述敏感干扰类型包含噪声干扰，则所述根据所述目标用户对应的敏感干扰配置、所述目标入睡阶段、所述敏感干扰类型和所述第一环境数据生成各个家居抗干扰控制指令的步骤包括：S711：根据所述第一环境数据确定噪声数据；具体而言，根据所述第一环境数据中的音频确定噪声数据。S712：根据与所述噪声数据对应的反相声波生成主动降噪控制指令，其中，所述主动降噪控制指令用于控制所述目标房间标识对应的房间中的主动降噪设备以实现对噪声进行中和。具体而言，根据噪声数据生成主动降噪控制指令，从而通过主动降噪控制指令控制智能家居设备生成与所述噪声数据对应的反相声波，以实现采用中和的方式降噪声。可以理解的是，房间中的墙壁、屋顶、地面都可以是噪声的反射面，而且存在反射面平行设置，噪声进入房间后，可能会被房间中的反射面进行多次反射，从而延长了噪声的影响时长，为了解决该问题，可以在平行的两个反射面的至少一个反射面中安装主动降噪设备，即可缩短房间中的噪声的影响时长。比如，地板和天花板评选，可以在天花板上安装一个主动降噪设备。可以理解的是，玻璃的隔音效果比墙壁的隔音效果差，因此，也可以在玻璃门或者玻璃窗的远离房间的一侧安装主动降噪设备，从而减少进入房间的噪音。本实施例控制所述目标房间标识对应的房间中的主动降噪设备以实现对噪声进行中和，减少了噪声干扰对目标用户的影响，进一步提高了用户体验。在一个实施例中，上述根据所述第一环境数据和所述目标用户对应的敏感干扰配置进行敏感干扰类型判断的步骤之前，还包括：S701：将任一个入睡阶段作为待分析入睡阶段；具体而言，将各个入睡阶段中的任一个入睡阶段作为待分析入睡阶段。入睡阶段的取值范围包括：准备入睡阶段、浅睡阶段、熟睡阶段和深睡阶段。S702：在所述目标用户进入所述待分析入睡阶段时，获取所述目标用户对应的环境数据作为第二环境数据；具体而言，在所述目标用户进入所述待分析入睡阶段时，获取所述目标用户对应的环境数据作为第二环境数据，从而获取到了环境没有调节过的环境数据。S703：在所述目标用户处于所述待分析入睡阶段时，分别采用预设的每个调节方案进行环境调节、获取调节后的环境数据作为第三环境数据及获取生理特征数据作为第二生理特征数据；调节方案包括但不限于：产生模拟噪声、调节光线和调节空气湿度。具体而言，在所述目标用户处于所述待分析入睡阶段时，分别采用预设的每个调节方案进行环境调节，在每个调节方案完成调节后，获取调节后的环境数据作为第三环境数据及获取生理特征数据作为第二生理特征数据，从而获取到了环境调节后的环境数据及生理特征数据。S704：根据所述第二环境数据、所述第三环境数据和所述第二生理特征数据确定所述待分析入睡阶段对应的单阶段敏感干扰信息；具体而言，采用提前训练的深度学习模型，对所述第二环境数据、所述第三环境数据和所述第二生理特征数据进行分析，从而确定所述待分析入睡阶段对应的单阶段敏感干扰信息。可以理解的是，通过重新执行步骤S701至步骤S704，即可确定所述目标用户对应的所有所述入睡阶段对应的所有所述单阶段敏感干扰信息。单阶段敏感干扰信息包括但不限于：睡眠阶段、干扰标识和干扰阈值描述。S705：将所述目标用户对应的所有所述入睡阶段对应的所有所述单阶段敏感干扰信息作为所述敏感干扰配置。本实施例实现了通过调节环境数据，找出在每个睡眠阶段改变目标用户的睡眠的敏感干扰信息，为构建更适合目标用户的睡眠环境提供了基础。在一个实施例中，上述根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集的步骤，包括：S41：根据所述第一设备位置，控制所述目标房间标识对应的任一个所述图像采集设备，对所述目标用户采集第二图像；具体而言，控制所述目标房间标识对应的任一个所述图像采集设备，对所述第一设备位置采集图像，将采集的图像作为第二图像。S42：根据所述第二图像，从所述目标房间标识对应的各个所述图像采集设备中找出面向所述目标用户的人脸的所述图像采集设备，作为第一命中设备；具体而言，根据所述第二图像中的目标用户的图像区域，可以确定目标用户的姿态，根据该姿态确定目标用户的人脸方向，根据该人脸方向，从所述目标房间标识对应的各个所述图像采集设备中找出面向所述目标用户的人脸的所述图像采集设备，将找出的所述图像采集设备作为第一命中设备。S43：根据所述第一设备位置，控制所述第一命中设备对所述目标用户的人脸进行拍摄，得到人脸图像集；具体而言，根据所述第一设备位置与所述第一命中设备的安装位置之间的距离，确定所述第一命中设备的拍摄参数，根据确定的拍摄参数控制所述第一命中设备，对位于所述第一设备的目标用户的人脸拍摄人脸图像，将拍摄得到的所有人脸图像作为人脸图像集。从而实现了针对目标用户的人脸拍摄人脸图像，为基于人脸图像分析目标用户的状态提供了基础。S44：根据所述第一设备位置，从所述目标房间标识对应的各个所述图像采集设备中找出距离最近的所述图像采集设备，作为第二命中设备；具体而言，从所述目标房间标识对应的各个所述图像采集设备中找出距离所述第一设备位置最近的所述图像采集设备，将找出的每个所述图像采集设备作为一个第二命中设备。可以理解的是，也可以采用其他筛选规则根据所述第一设备位置，从所述目标房间标识对应的各个所述图像采集设备筛选出所述图像采集设备作为第二命中设备。S45：根据所述第一设备位置，控制所述第二命中设备对所述目标用户进行拍摄，得到人体图像集；具体而言，控制所述第二命中设备，对位于所述第一设备位置的所述目标用户的整个人体进行拍摄，将拍摄得到的所有人体图像作为人体图像集。S46：将所述人脸图像集和所述人体图像集作为所述用户图像集。具体而言，将所述人脸图像集和所述人体图像集合集，将合集得到的数据作为所述用户图像集。可以理解的是，若所述目标房间标识对应的各个所述图像采集设备中无面向所述目标用户的人脸的所述图像采集设备，则所述人脸图像集为空。本实施例通过穿戴设备确定在三维地图所在的位置信息，从而确定用户相对各个图像采集设备的相对位置，进而确定相对用户拍摄最优的图像采集设备来拍摄用户图像信息，实现了自动化拍摄人脸图像集和人体图像集，提高拍摄图像获取目标信息的准确性，为基于用户图像集准确的确定目标用户的目标入睡阶段提供了基础，提高了本申请的自动化程度。在一个实施例中，上述根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置的步骤之前，还包括：S11：获取地图构建信号；具体而言，可以通过智能穿戴设备深度摄像装置进行扫描获取，还可以可以获取用户输入的地图构建信号，也可以获取第三方应用发送的地图构建信号。地图构建信号，是构建房屋三维地图的信号。S12：响应所述地图构建信号，获取所述智能穿戴设备拍摄的各个房间深度图像和每个所述房间深度图像对应的房间编号及房间类型；具体而言，在收到所述地图构建信号时，可以获取所述智能穿戴设备拍摄的各个房间深度图像和每个所述房间深度图像对应的房间编号及房间类型。房间深度图像中的每个像素点包括颜色信息和深度信息。S13：根据各个所述房间深度图像、每个所述房间深度图像对应的房间编号及房间类型构建三维地图，得到所述房屋三维地图；具体而言，根据同一个房间编号对应的各个所述房间深度图像构建单房间三维地图，根据各个单房间三维地图及每个单房间三维地图对应的房间类型，对各个单房间三维地图进行连接，以形成所述房屋三维地图。可以理解的是，基于深度图像构建三维地图的方法可以从现有技术中选择，在此不做赘述。可选的，所述房屋三维地图还携带有地理位置，可以将所述智能穿戴设备获取地图构建信号之前的最后存储的定位位置作为所述房屋三维地图携带的地理位置。可以理解的是，也可以获取用户输入的地理位置作为所述房屋三维地图携带的地理位置。在一个用户生活工作在多套房屋时，此时目标用户对应多个所述房屋三维地图，通过所述房屋三维地图还携带有地理位置，可以能自动化的、准确的确定目标用户所处的房间的所述房屋三维地图。S13：将各个所述房间深度图像作为所述房间标准图像库；可以理解的是，在本申请的另一个实施例中，可以采用其他方法构建房屋三维地图和确定房间标准图像库，比如，基于三维相机拍摄的三维图像构建房屋三维地图和确定房间标准图像库。S14：确定三维地图中各个智能家居设备的位置信息。本申请构建三维地图后，可以根据各个智能家居设备实际所在的位置信息映射到三维地图中，具体而言，可以根据智能物联服务中心获取各个智能家居设备的位置信息，进而智能穿戴设备将各个智能家居设备的位置信息映射到三维地图中，以便后续智能穿戴设备根据自身位置信息快速搜寻确定其他可用可操控的各个智能家居设备。本实施例实现了基于智能穿戴设备构建房屋三维地图和确定房间标准图像库，简化了操作。如图2所示，本申请还提供了一种基于智能穿戴设备的控制装置，所述装置包括：数据获取模块801，用于获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；判断模块802，用于根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；位置信息确定模块803，用于若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；用户图像集确定模块804，用于根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；目标入睡阶段确定模块805，用于根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；指令生成模块806，用于根据所述目标入睡阶段生成各个家居助眠控制指令。本实施例通过综合生理特征数据、动作数据、基于环境图像确定的用户图像集控制智能家居设备，考虑了用户的环境情况和动作数据，准确的确定目标用户的入睡情况，进而有利于很好的帮助用户提高睡眠质量，有利于提高向用户提供针对性的服务的效果，提高了用户体验。图3示出了一个实施例中计算机设备的内部结构图。该计算机设备具体可以是终端，也可以是服务器。如图3所示，该计算机设备包括通过系统总线连接的处理器、存储器和网络接口。其中，存储器包括非易失性存储介质和内存储器。该计算机设备的非易失性存储介质存储有操作系统，还可存储有计算机程序，该计算机程序被处理器执行时，可使得处理器实现基于智能穿戴设备的控制方法。该内存储器中也可储存有计算机程序，该计算机程序被处理器执行时，可使得处理器执行基于智能穿戴设备的控制方法。本领域技术人员可以理解，图3中示出的结构，仅仅是与本申请方案相关的部分结构的框图，并不构成对本申请方案所应用于其上的计算机设备的限定，具体的计算机设备可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一个实施例中，提出了一种计算机设备，包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行以下步骤：获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；根据所述目标入睡阶段生成各个家居助眠控制指令。本实施例通过综合生理特征数据、动作数据、基于环境图像确定的用户图像集控制智能家居设备，考虑了用户的环境情况和动作数据，准确的确定目标用户的入睡情况，进而有利于很好的帮助用户提高睡眠质量，有利于提高向用户提供针对性的服务的效果，提高了用户体验。在一个实施例中，提出了一种智能穿戴设备，包括存储器和处理器，所述存储器存储有计算机程序，所述计算机程序被所述处理器执行时，使得所述处理器执行以下步骤：获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；根据所述目标入睡阶段生成各个家居助眠控制指令。本实施例通过综合生理特征数据、动作数据、基于环境图像确定的用户图像集控制智能家居设备，考虑了用户的环境情况和动作数据，准确的确定目标用户的入睡情况，进而有利于很好的帮助用户提高睡眠质量，有利于提高向用户提供针对性的服务的效果，提高了用户体验。在一个实施例中，提出了一种计算机可读存储介质，存储有计算机程序，所述计算机程序被处理器执行时，使得所述处理器执行以下步骤：获取智能穿戴设备对目标用户采集的第一生理特征数据和第一动作数据；根据所述第一生理特征数据和所述第一动作数据判断所述目标用户是否处于非活跃状态；若处于非活跃状态，则获取所述智能穿戴设备采集的环境图像，根据预设的房屋三维地图、预设的房间标准图像库和所述环境图像，确定所述智能穿戴设备对应的目标房间标识及第一设备位置；根据所述第一设备位置和所述目标房间标识对应的各个图像采集设备，对所述目标用户采集图像，得到用户图像集；根据所述用户图像集、所述第一生理特征数据和所述第一动作数据确定所述目标用户的目标入睡阶段；根据所述目标入睡阶段生成各个家居助眠控制指令。本申请通过综合生理特征数据、动作数据、基于环境图像确定的用户图像集控制智能家居设备，考虑了用户的环境情况和动作数据，准确的确定目标用户的入睡情况，进而有利于很好的帮助用户提高睡眠质量，有利于提高向用户提供针对性的服务的效果，提高了用户体验。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的程序可存储于一非易失性计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，本申请所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步RAM、双数据率SRAM、增强型SRAM、同步链路RAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。以上实施例的各技术特征可以进行任意的组合，为使描述简洁，未对上述实施例中的各个技术特征所有可能的组合都进行描述，然而，只要这些技术特征的组合不存在矛盾，都应当认为是本说明书记载的范围。以上所述实施例仅表达了本申请的几种实施方式，其描述较为具体和详细，但并不能因此而理解为对本申请专利范围的限制。应当指出的是，对于本领域的普通技术人员来说，在不脱离本申请构思的前提下，还可以做出若干变形和改进，这些都属于本申请的保护范围。因此，本申请专利的保护范围应以所附权利要求为准。
