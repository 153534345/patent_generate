标题title
一种用于多实体对抗的对手关系识别方法及装置
摘要abst
本发明提供一种用于多实体对抗的对手关系识别方法及装置，所述方法包括：获取待识别的实体以及待识别的关系类别；其中，所述待识别的实体用于完成所述多实体对抗；将所述待识别的实体以及所述待识别的关系类别输入训练好的对手关系识别模型，输出所述待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建所述对手关系识别模型；所述待识别的实体之间的对手关系的识别结果为：所述待识别的实体之间的关系为输入的所述待识别的关系类别的预测置信度。本发明实现了多实体多抗中对手关系的准确识别，并保证了识别结果的可解释性。
权利要求书clms
1.一种用于多实体对抗的对手关系识别方法，其特征在于，包括：获取待识别的实体以及待识别的关系类别；其中，所述待识别的实体用于完成所述多实体对抗；将所述待识别的实体以及所述待识别的关系类别输入训练好的对手关系识别模型，输出所述待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建所述对手关系识别模型；所述待识别的实体之间的对手关系的识别结果为：所述待识别的实体之间的关系为输入的所述待识别的关系类别的预测置信度。2.根据权利要求1所述的一种用于多实体对抗的对手关系识别方法，其特征在于，所述基于概率知识图谱构建所述对手关系识别模型，包括：获取所述多实体对抗过程中的实体、事件和关系，根据所述实体、事件和关系构建对抗过程知识图谱；其中，将所述实体作为节点，将所述事件和所述关系作为边，完成所述对抗过程知识图谱的构建；获取所述对抗过程知识图谱的每条边的基准置信度，完成所述对手关系识别模型的构建；其中，所述对手关系识别模型的节点和边均通过向量进行表示。3.根据权利要求2所述的一种用于多实体对抗的对手关系识别方法，其特征在于，完成所述对抗过程知识图谱的构建之后，还包括：基于所述对抗过程知识图谱的节点和边，通过三元组对所述对抗过程知识图谱进行表示；其中，所述三元组用于指示所述多实体对抗的过程；所述三元组包括：主语实体、宾语实体以及由所述主语实体指向所述宾语实体的边；所述对抗过程知识图谱的每条边的基准置信度为对应的所述三元组成立的基准置信度。4.根据权利要求2所述的一种用于多实体对抗的对手关系识别方法，其特征在于，所述获取所述对抗过程知识图谱的每条边的基准置信度，包括：获取样本数据，基于所述对抗过程知识图谱对所述样本数据进行预处理，根据预处理后的所述样本数据获取所述对抗过程知识图谱的每条边的基准置信度。5.根据权利要求3所述的一种用于多实体对抗的对手关系识别方法，其特征在于，对所述对手关系识别模型进行训练的方法包括：获取所述对手关系识别模型中各所述三元组成立的预测置信度；基于所述三元组成立的基准置信度和所述三元组成立的预测置信度，以最小化所述预测置信度与所述基准置信度的均方误差之和为目标，对所述对手关系识别模型进行训练。6.根据权利要求5所述的一种用于多实体对抗的对手关系识别方法，其特征在于，所述获取所述对手关系识别模型中各所述三元组成立的预测置信度，如下式所示：f＝φ),φ:式中，f表示三元组l成立的预测置信度；φ表示逻辑斯蒂函数；g表示三元组l成立的可能性大小，其中，分别为三元组l中主语实体、宾语实体以及由所述主语实体指向所述宾语实体的边的向量表示，°表示两个向量中相同索引的元素对应相乘，·表示两个向量的内积。7.一种用于多实体对抗的对手关系识别装置，其特征在于，包括：数据获取模块，用于获取待识别的实体以及待识别的关系类别；其中，所述待识别的实体用于完成所述多实体对抗；识别模块，用于将所述待识别的实体以及所述待识别的关系类别输入训练好的对手关系识别模型，输出所述待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建所述对手关系识别模型；所述待识别的实体之间的对手关系的识别结果为：所述待识别的实体之间的关系为输入的所述待识别的关系类别的预测置信度。8.一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1至6任一项所述用于多实体对抗的对手关系识别方法的步骤。9.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至6任一项所述用于多实体对抗的对手关系识别方法的步骤。10.一种计算机程序产品，包括计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至6任一项所述用于多实体对抗的对手关系识别方法的步骤。
说明书desc
技术领域本发明涉及数据挖掘技术领域，尤其涉及一种用于多实体对抗的对手关系识别方法及装置。背景技术多实体对抗中，厘清对手实体间关系是支撑我方决策的关键因素。博弈对抗是对手与我方为了达成各自目标，运用各自力量单位进行的对抗性策略互动。博弈对抗既可以发生在实际场景下，例如各种球类比赛；也可能发生在虚拟场景下，例如即时策略游戏、兵棋模拟推演。其中的力量单位即双方进行对抗所运用的“实体”。双方往往会在己方宏观策略指导下，综合运用所有实体进行分工合作，并且隐藏真实企图，逐步朝己方目标推进。例如即时策略游戏中对方可能声东击西，故意隐藏重要角色之间的配合关系，兵棋模拟推演中对方可能隐真饰假，故意隐藏兵力之间主攻佯动的协同关系等。而如果能够在对抗迷雾中去伪存真，准确推断对方实体间的关系，则有助于进一步明确对方的行动计划和策略，从而可针对性制定我方博弈策略，采取卓有成效的对抗措施。然而，对手的实体间关系往往难以直观推断，主要源于对抗场景下表现出的如下特征。①隐蔽性：对手会将真实意图隐藏，并且可能释放“烟雾弹”，通过采取虚假行动造成我方误判。②复杂性：对抗过程可能持续时间长，交互多，从而导致触发事件规模大，错综复杂，难以分析。③多样性：在不同对抗上下文中，同样两个实体可能具有不同角色，也会具有不同关系。针对对抗场景下实体关系分析的上述挑战，当前方法主要分为人工和智能方法两类。人工分析法可以充分利用人的丰富经验，但随着对抗过程时间增长，交互增多，关系日益复杂，在质量和效率上难以满足要求；智能化方法包括贝叶斯推断、强化学习、知识图谱等方法。贝叶斯推断方法基于贝叶斯模型，具有良好的可理解性，但对数据稀疏敏感，概率结果不具有数值意义，而且独立同分布的假设太强。强化学习方法在经过大量训练收敛后往往具有较高的关系推断准确率，但其推断过程完全黑盒，推断的结果不可解释。知识图谱技术兼具可理解性与良好的关系推断效果，知识图谱可以将真实世界中存在的各种实体概念及其关系表示为语义网络图，节点表示人物、概念等实体，边则表示属性或关系，然后基于链接预测技术对群体关系进行分析。其中，“链接”指代图谱中的边，链接预测即是对知识图谱中边的存在性，也即关系的存在性进行预测。但目前基于知识图谱方法得到的预测结果仅包括“成立”或“不成立”的二值之一，而对手关系的推断结果不应只是“成立”或“不成立”的二值之一，因此，现有知识图谱方法无法保证对手关系识别结果的准确性以及可理解性。发明内容本发明提供一种用于多实体对抗的对手关系识别方法及装置，用以解决现有技术中对手关系识别结果的准确性和可理解性差的缺陷，实现多实体多抗中对手关系的准确识别，并保证识别结果的可解释性。本发明提供一种用于多实体对抗的对手关系识别方法，包括：获取待识别的实体以及待识别的关系类别；其中，所述待识别的实体用于完成所述多实体对抗；将所述待识别的实体以及所述待识别的关系类别输入训练好的对手关系识别模型，输出所述待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建所述对手关系识别模型；所述待识别的实体之间的对手关系的识别结果为：所述待识别的实体之间的关系为输入的所述待识别的关系类别的预测置信度。根据本发明提供的一种用于多实体对抗的对手关系识别方法，所述基于概率知识图谱构建所述对手关系识别模型，包括：获取所述多实体对抗过程中的实体、事件和关系，根据所述实体、事件和关系构建对抗过程知识图谱；其中，将所述实体作为节点，将所述事件和所述关系作为边，完成所述对抗过程知识图谱的构建；获取所述对抗过程知识图谱的每条边的基准置信度，完成所述对手关系识别模型的构建；其中，所述对手关系识别模型的节点和边均通过向量进行表示。根据本发明提供的一种用于多实体对抗的对手关系识别方法，完成所述对抗过程知识图谱的构建之后，还包括：基于所述对抗过程知识图谱的节点和边，通过三元组对所述对抗过程知识图谱进行表示；其中，所述三元组用于指示所述多实体对抗的过程；所述三元组包括：主语实体、宾语实体以及由所述主语实体指向所述宾语实体的边；所述对抗过程知识图谱的每条边的基准置信度为对应的所述三元组成立的基准置信度。根据本发明提供的一种用于多实体对抗的对手关系识别方法，所述获取所述对抗过程知识图谱的每条边的基准置信度，包括：获取样本数据，基于所述对抗过程知识图谱对所述样本数据进行预处理，根据预处理后的所述样本数据获取所述对抗过程知识图谱的每条边的基准置信度。根据本发明提供的一种用于多实体对抗的对手关系识别方法，对所述对手关系识别模型进行训练的方法包括：获取所述对手关系识别模型中各所述三元组成立的预测置信度；基于所述三元组成立的基准置信度和所述三元组成立的预测置信度，以最小化所述预测置信度与所述基准置信度的均方误差之和为目标，对所述对手关系识别模型进行训练。根据本发明提供的一种用于多实体对抗的对手关系识别方法，所述获取所述对手关系识别模型中各所述三元组成立的预测置信度，如下式所示：式中，f表示三元组l成立的预测置信度；φ表示逻辑斯蒂函数；g表示三元组l成立的可能性大小，其中，分别为三元组l中主语实体、宾语实体以及由所述主语实体指向所述宾语实体的边的向量表示，表示两个向量中相同索引的元素对应相乘，·表示两个向量的内积。本发明还提供一种用于多实体对抗的对手关系识别装置，包括：数据获取模块，用于获取待识别的实体以及待识别的关系类别；其中，所述待识别的实体用于完成所述多实体对抗；识别模块，用于将所述待识别的实体以及所述待识别的关系类别输入训练好的对手关系识别模型，输出所述待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建所述对手关系识别模型；所述待识别的实体之间的对手关系的识别结果为：所述待识别的实体之间的关系为输入的所述待识别的关系类别的预测置信度。本发明还提供一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如上述任一种所述用于多实体对抗的对手关系识别方法的步骤。本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现如上述任一种所述用于多实体对抗的对手关系识别方法的步骤。本发明还提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现如上述任一种所述用于多实体对抗的对手关系识别方法的步骤。本发明提供的用于多实体对抗的对手关系识别方法及装置，通过概率知识图谱对对手关系识别模型进行建模，将待识别的实体和关系类别输入至对手关系识别模型，即可得到对手关系为输入的关系类别的预测置信度，由于预测置信度为连续值，因此本发明有效避免了传统方法使用“成立”或“不成立”这样的二值取值对预测结果进行刻画的缺陷，不仅能够更加准确地表征实体之间的关系，而且实现了预测结果的量化表示，保证了预测结果的可解释性。附图说明为了更清楚地说明本发明或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明提供的用于多实体对抗的对手关系识别方法的流程示意图；图2是本发明提供的用于多实体对抗的对手关系识别装置的结构示意图；图3是本发明提供的电子设备的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合本发明中的附图，对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。下面结合图1描述本发明的用于多实体对抗的对手关系识别方法；本发明用于多实体对抗的对手关系识别方法如图1所示，包括如下步骤：S100、获取待识别的实体以及待识别的关系类别；其中，待识别的实体用于完成多实体对抗；该步骤中，在获取待识别的实体以及待识别的关系类别后，还包括对待识别的实体以及待识别的关系类别进行向量化表示。S200、将待识别的实体以及待识别的关系类别输入训练好的对手关系识别模型，输出待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建对手关系识别模型；待识别的实体之间的对手关系的识别结果为：待识别的实体之间的关系为输入的待识别的关系类别的预测置信度。目前基于知识图谱方法得到的预测结果仅包括“成立”或“不成立”的二值之一，而实体之间的关系是由对抗过程中发生的事件推理得到的，事件的刻画不只包含是否发生，其发生次数也影响着实体间关系成立的置信度。但传统知识图谱中关系的刻画是二值化的，即，边的属性只包括成立或者不成立。因此不论事件发生次数还是关系成立的置信度，在传统知识图谱中都无法表达。本发明采用概率知识图谱对对手关系识别模型进行建模，通过对手关系识别模型能够输出预测置信度，而预测置信度为连续值，通过该连续值对对手关系预测结果进行表示，而非简单使用“成立”或“不成立”这样的二值取值进行刻画，从而能够更加准确地表征实体之间的关系，且保证了预测结果的可解释性。步骤S200中，基于概率知识图谱构建对手关系识别模型，包括：S211、获取多实体对抗过程中的实体、事件和关系，根据实体、事件和关系构建对抗过程知识图谱；其中，将实体作为节点，将事件和关系作为边，完成对抗过程知识图谱的构建；该步骤中，对抗过程知识图谱的构建是对博弈对抗过程性数据的抽象组织，是从数据到知识的首要工作。本发明面向博弈对抗过程特点，通过定义典型事件类型及相应的事件，来描述博弈对抗过程，并构建对抗过程知识图谱，如表1所示。表1表1中，实体指对抗双方所运用的力量单位，例如即时策略游戏中的角色、兵棋模拟推演中的不同兵力，表示为对抗过程知识图谱中的节点；事件指对抗过程中实体之间发生的交互行为，例如角色A给角色B补血，兵力A打击兵力B，表示为对抗过程知识图谱中的边；关系指实体间关系，表示为图谱中的边。S212、获取对抗过程知识图谱的每条边的基准置信度，完成对手关系识别模型的构建；其中，对手关系识别模型的节点和边均通过向量进行表示。目前知识图谱方法主要擅长对社交网络、领域知识体系等静态知识进行建模，对于对抗过程这类动态知识的表示并不直观，而本发明根据多实体对抗过程中的典型事件类型及相应的事件，将参与对抗的实体作为节点，将实体之间完成的事件以及实体之间的关系作为边，进行对抗过程知识图谱的构建，并根据样本数据的统计结果计算对抗过程知识图谱的每条边的基准置信度，有效地将置信度引入到知识图谱中，实现了多实体对抗过程中动态知识的直观清楚的表示，从而能够有效地将知识图谱的方法应用于多实体对抗。步骤S212中，获取对抗过程知识图谱的每条边的基准置信度，包括：获取样本数据，基于对抗过程知识图谱对样本数据进行预处理，根据预处理后的样本数据获取对抗过程知识图谱的每条边的基准置信度；其中，样本数据为多实体多抗过程中采集的数据。其中，基于对抗过程知识图谱对样本数据进行预处理包括：数据清洗处理。样本数据为多实体博弈对抗产生的样本数据，该样本数据往往是非结构化或半结构化的，其中存在着冗余、不完整、不一致、有异常的数据，因此，本发明通过预处理对样本数据进行清洗，提高数据质量，进而提高对手关系识别模型构建及训练过程的有效性，保证训练好的对手关系识别模型识别结果的准确性。数据清洗的主要工作是基于表1所示的模板对样本数据进行处理，包括删除原始数据集中的无关数据、重复数据，平滑噪声数据，筛选任务相关数据，处理缺失值、异常值。针对一次对抗博弈过程，经过数据处理，最终得到表1所示模板对应的数据实例构成的集合，E表示实体构成的集合，即节点构成的集合，C表示事件和关系构成的集合，即边构成的集合。概率知识图谱中，边的成立是概率性的，所以边的属性中包含边成立的置信度。本发明根据预处理后的样本数据获取对抗过程知识图谱的每条边的基准置信度包括：对预处理后的样本数据进行统计，基于统计结果计算得到的边置信度作为该条边的基准置信度。对抗过程知识图谱构建完成后，还包括：基于对抗过程知识图谱的节点和边，通过三元组对对抗过程知识图谱进行表示；其中，三元组用于指示多实体对抗的过程；三元组包括：主语实体h、宾语实体t以及由主语实体h指向宾语实体t的边c，其中，h、t∈E，c∈C。即，对抗过程知识图谱表示为数据实例构成的三元组集合对抗过程知识图谱进行三元组表示后，对抗过程知识图谱的每条边的基准置信度即为对应的三元组成立的基准置信度。本实施例中，基于三元组表示结果计算每条边的基准置信度，边c的基准置信度sc的计算如式所示：式中，sr为边c代表关系r时，关系r的基准置信度，即对抗过程数据中，主语实体h和宾语实体t之间存在关系r，关系r的基准置信度sr＝1，否则，sr＝0；se为边c代表事件e时，事件e的基准置信度，假设事件e的主语实体为h，宾语实体为t，h作为主语实体的所有宾语实体集合为Th，则事件e的基准置信度Se的计算如式所示：式中，Nh,t、Nh,t，分别表示主语实体为h，宾语实体为t、t′的事件的发生次数，t、t′∈Th。通过三元组表示，能够有效地从逻辑上构建多实体对抗过程的知识图谱，进一步对多实体对抗过程中的动态知识进行直观清楚地表示，保证对手关系识别模型的置信度预测结果符合对抗逻辑，进而保证了置信度预测结果的准确性和有效性。在对手关系识别模型构建完成后，通过样本数据对对手关系识别模型进行训练，其中，训练过程中采用向量表示学习的方法对对手关系识别模型进行训练；向量表示学习的目的是将概率知识图谱中每个节点和边都表示为一个低维向量，且此向量尽量蕴含概率知识图谱中已经成立的事实，具体包括如下两个步骤：S221、获取对手关系识别模型中各三元组成立的预测置信度；该步骤中，获取对手关系识别模型中各三元组成立的预测置信度，如式所示：式中，f表示三元组l成立的预测置信度，g表示三元组l成立的可能性大小，g的值越大，表示该三元组成立的可能性越大；其中，分别为三元组l中主语实体、宾语实体以及由主语实体指向宾语实体的边的向量表示，°表示两个向量中相同索引的元素对应相乘，相乘结果仍为向量，·表示两个向量的内积，结果为标量；φ表示逻辑斯蒂函数；由于g的计算值在不同关系下具有不同的尺度，因此，通过逻辑斯蒂函数φ将g的计算值统一映射为取值在之间的置信度，φ的表达式如式所示：式中，x表示为g，w表示权重，b表示偏置值。S222、基于三元组成立的基准置信度和三元组成立的预测置信度，以最小化预测置信度与基准置信度的均方误差之和为目标，对对手关系识别模型进行训练。该步骤中，对于任意三元组以最小化三元组l成立的基准置信度sl和预测置信度f的均方误差之和目标，对对手关系识别模型进行训练，损失函数的计算如式所示：基于损失函数通过随机梯度下降方法，迭代训练对手关系识别模型中所有节点和边的向量表示，越小，表示f越接近sl，即预测置信度越接近基准置信度，直至损失函数满足表示训练收敛，完成对手关系识别模型的训练，此时的向量表示已经可以在预测置信度f的计算过程中满足大部分成立的三元组关系；其中，σ为预设阈值，可以根据经验或实际需求进行设定。本发明通过向量表示学习的方法对对手关系识别模型进行训练，从而将图谱中的关系推理转化为向量运算，不仅实现了推理结果的量化表示，而且避免了传统方法假设性较强的缺陷，有效提高了对手关系识别模型推理结果的准确性。在对手关系识别模型训练完成之后，对手关系识别模型的每个实体、事件和关系分别表示为一个向量，且预测置信度f的计算公式中权重w和偏置值b也已确定，将步骤S100中待识别的实体a、a’以及待识别的关系类别r输入至预测置信度f的计算公式，即可得到实体a与a’之间存在关系r的置信度f。作为可选方案，还可以定义置信度阈值θ，如果f＞θ，则表示实体a与a’之间的关系r成立，否则不成立。即，本发明通过概率知识图谱的链接预测，能够从知识图谱中已有的事实集合出发，经过对手关系识别模型的推理，建立实体之间的新关联。以下以军事即时策略游戏博弈对抗场景为例，对本发明用于多实体对抗的对手关系识别方法进行详细说明。军事即时策略游戏博弈对抗场景，是指敌我双方围绕各自的作战目标，分配和综合运用各自兵力进行的对抗性策略互动。其中，如何准确判断敌手弱点、综合运用己方兵力克敌制胜是达成作战目标的关键。这就需要准确分析对手的用兵策略，其中一项重要的分析内容即为对手兵力的协同关系。分析对手兵力协同关系，有助于了解对手的兵力运用体系，简化分析要素，更加清晰地洞察对方的用兵策略，从而进一步分析敌手薄弱点，有针对性地采取克制措施。然而，由于博弈本身的对抗性，对手往往会隐真饰假，故意隐藏真实的协同关系，所以难以根据简单的表象确定。针对该问题，本发明以博弈对抗过程数据为切入点，创新性地将博弈对抗过程建模为概率知识图谱，即，将对抗过程中的实体建模为知识图谱中的节点，将实体之间发生的事件、实体之间的关系建模为知识图谱中的边。并利用概率知识图谱的链接预测技术，基于博弈对抗过程中发生的事件进行关系推理，实现对对手兵力协同关系的预测。预测方法包括：S310、对博弈对抗过程进行建模表示，得到对抗过程知识图谱；该步骤中通过定义典型事件类型及相应的事件，来描述博弈对抗过程；由于在军事即时策略游戏博弈对抗场景中，需要对博弈对抗过程中兵力之间的交互进行分析，所以主要建模表示兵力实体、兵力之间的关系以及交互事件，如表2所示。图谱中的边都是有向边。例如对于事件e，如果其发生的主语实体为h，宾语实体为t，则在图谱上存在一条由h指向t的边e。表2不同于传统知识图谱中三元组的边属性只有“存在”或“不存在”两种取值，这里的边属性包含边成立的置信度。根据对抗过程数据统计得到的置信度称为基准置信度。由表2可知，对抗过程中发生的事件和关系都表示为知识图谱中的边，对于知识图谱中由主语实体h、边c、宾语实体t构成的一个三元组，边c的基准置信度sc的计算如式所示。其中，边c代表事件e时，边c的基准置信度为事件的基准置信度，表示为事件发生频率，例如，假设在一次对抗过程中，“飞机A发弹打击舰船B”这一事件e共计发生2次，飞机A作为主语实体触发的事件共计10次，则事件e的基准置信度se＝0.2；边c代表关系r时，边c的基准置信度为关系的基准置信度，表示为关系成立概率。S320、概率知识图谱的构建；将对抗过程知识图谱作为模板，通过对样本数据进行预处理删除原始数据集中的无关数据、重复数据，平滑噪声数据，筛选任务相关数据，处理缺失值、异常值；针对一次对抗博弈过程，经过数据预处理，最终得到表2所示模板对应的数据实例构成的集合其中，E表示表2中所有实体构成的集合，C表示表2所有事件和关系构成的集合。本发明通过将一次对抗博弈过程中的每一个事件实例表示为形如的三元组形式，从而在逻辑上构建对抗博弈过程的知识图谱。对任意三元组边c的基准置信度可基于公式计算得到。S330、采用向量表示学习的方法对对手关系识别模型进行训练；通过式计算各三元组成立的预测置信度f，以最小化三元组l成立的基准置信度sl和预测置信度f的均方误差之和目标，通过随机梯度下降方法对对手关系识别模型进行迭代训练，损失函数如式所示。S340、对手关系识别；在对手关系识别模型训练完成之后，对手关系识别模型的每个实体、事件和关系分别表示为一个向量，且预测置信度f的计算公式中权重w和偏置值b也已确定，则可基于向量运算推理实体之间关系成立的置信度。下面结合图2对本发明提供的用于多实体对抗的对手关系识别装置进行描述，下文描述的用于多实体对抗的对手关系识别装置与上文描述的用于多实体对抗的对手关系识别方法可相互对应参照。本发明用于多实体对抗的对手关系识别装置如图2所示，包括：数据获取模块710获取待识别的实体以及待识别的关系类别；其中，待识别的实体用于完成多实体对抗；识别模块720将待识别的实体以及待识别的关系类别输入训练好的对手关系识别模型，输出待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建对手关系识别模型；待识别的实体之间的对手关系的识别结果为：待识别的实体之间的关系为输入的待识别的关系类别的预测置信度。作为可选方案，基于概率知识图谱构建对手关系识别模型，包括：获取多实体对抗过程中的实体、事件和关系，根据实体、事件和关系构建对抗过程知识图谱；其中，将实体作为节点，将事件和关系作为边，完成对抗过程知识图谱的构建；获取对抗过程知识图谱的每条边的基准置信度，完成对手关系识别模型的构建；其中，对手关系识别模型的节点和边均通过向量进行表示。获取对抗过程知识图谱的每条边的基准置信度，包括：获取样本数据，基于对抗过程知识图谱对样本数据进行预处理，根据预处理后的样本数据获取对抗过程知识图谱的每条边的基准置信度。作为另一种可选方案，完成对抗过程知识图谱的构建之后，还包括：基于对抗过程知识图谱的节点和边，通过三元组对对抗过程知识图谱进行表示；其中，三元组用于指示多实体对抗的过程；三元组包括：主语实体、宾语实体以及由主语实体指向宾语实体的边；对抗过程知识图谱的每条边的基准置信度为对应的三元组成立的基准置信度。对对手关系识别模型进行训练的方法包括：获取对手关系识别模型中各三元组成立的预测置信度；基于三元组成立的基准置信度和三元组成立的预测置信度，以最小化预测置信度与基准置信度的均方误差之和为目标，对对手关系识别模型进行训练。其中，获取对手关系识别模型中各三元组成立的预测置信度，如下式所示：式中，f表示三元组l成立的预测置信度；φ表示逻辑斯蒂函数；g表示三元组l成立的可能性大小，其中，分别为三元组l中主语实体、宾语实体以及由主语实体指向宾语实体的边的向量表示，表示两个向量中相同索引的元素对应相乘，·表示两个向量的内积。图3示例了一种电子设备的实体结构示意图，如图3所示，该电子设备可以包括：处理器810、通信接口820、存储器830和通信总线840，其中，处理器810，通信接口820，存储器830通过通信总线840完成相互间的通信。处理器810可以调用存储器830中的逻辑指令，以执行用于多实体对抗的对手关系识别方法，该方法包括：获取待识别的实体以及待识别的关系类别；其中，待识别的实体用于完成多实体对抗；将待识别的实体以及待识别的关系类别输入训练好的对手关系识别模型，输出待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建对手关系识别模型；待识别的实体之间的对手关系的识别结果为：待识别的实体之间的关系为输入的待识别的关系类别的预测置信度。此外，上述的存储器830中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。另一方面，本发明还提供一种计算机程序产品，所述计算机程序产品包括计算机程序，计算机程序可存储在非暂态计算机可读存储介质上，所述计算机程序被处理器执行时，计算机能够执行上述各方法所提供的用于多实体对抗的对手关系识别方法，该方法包括：获取待识别的实体以及待识别的关系类别；其中，待识别的实体用于完成多实体对抗；将待识别的实体以及待识别的关系类别输入训练好的对手关系识别模型，输出待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建对手关系识别模型；待识别的实体之间的对手关系的识别结果为：待识别的实体之间的关系为输入的待识别的关系类别的预测置信度。又一方面，本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现以执行上述各方法提供的用于多实体对抗的对手关系识别方法，该方法包括：获取待识别的实体以及待识别的关系类别；其中，待识别的实体用于完成多实体对抗；将待识别的实体以及待识别的关系类别输入训练好的对手关系识别模型，输出待识别的实体之间的对手关系的识别结果；其中，基于概率知识图谱构建对手关系识别模型；待识别的实体之间的对手关系的识别结果为：待识别的实体之间的关系为输入的待识别的关系类别的预测置信度。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的方法。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
