标题title
心率值修正方法、装置及电子设备
摘要abst
本申请公开了心率值修正方法、装置及电子设备，属于智能可穿戴设备技术领域，所述方法包括：采集预设模块的测量值，其中，所述预设模块包括以下至少之一：加速度传感器、陀螺仪和气压计；依据所述测量值确定所述智能可穿戴设备用户的运动状态；在所述用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正。本申请公开的心率值修正方法，可有效对心率传感器测量的心率值进行修正，从而提升计算所得心率值的准确性。
权利要求书clms
1.一种心率值修正方法，应用于智能可穿戴设备，其特征在于，所述方法包括：采集预设模块的测量值，其中，所述预设模块包括以下至少之一：加速度传感器、陀螺仪和气压计；依据所述测量值确定所述智能可穿戴设备用户的运动状态；在所述用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正；其中，所述第一预设条件包括以下至少之一：运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值；用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内。2.根据权利要求1所述的方法，其特征在于，在所述预设模块包括气压计的情况下，所述依据所述测量值确定所述智能可穿戴设备用户的运动状态的步骤，包括：依据所述气压计测量得到的气压值的变化量，确定所述用户所处海拔高度的变化量；依据所述海拔高度变化量，判断所述用户是否在平地上运动；在所述用户未在平地上运动的情况下，依据所述海拔高度变化量计算所述用户重力势能的变化量；在所述重力势能减小的情况下，计算所述第一心率值与用户步频的比值；在所述比值大于第一预设值的情况下，确定所述用户的运动状态满足第一预设条件。3.根据权利要求2所述的方法，其特征在于，在所述预设模块包括陀螺仪和加速度传感器的情况下，在所述依据所述海拔高度变化量，判断所述用户是否在平地上运动的步骤之后，所述方法还包括：在所述用户在平地上运动的情况下，通过所述加速度传感器和所述陀螺仪的测量值，确定所述用户手臂是否摆动；在所述用户手臂摆动的情况下，依据所述智能可穿戴设备的动能和所述用户的步频，确定所述用户的第一运动状态；确定心率传感器计算得到的第一心率值是否处于所述第一运动状态对应的心率值范围内；在所述第一心率值未处于所述第一运动状态对应的心率值范围内的情况下，确定所述用户的第一运动状态满足第一预设条件。4.根据权利要求1所述的方法，其特征在于，在所述用户的运动状态为运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值的情况下，所述对心率传感器获取得到的第一心率值进行修正的步骤，包括：从频谱信息中筛选各谱峰；其中，所述频谱信息通过所述心率传感器检测到的心率信号做傅里叶变换得到；从各所述谱峰中选择目标谱峰，其中，所述目标谱峰的峰值小于峰值最高谱峰的峰值，所述目标谱峰的频率小于所述峰值最高谱峰的频率；依据目标谱峰计算所述用户的第二心率值，其中，所述第二心率值为修正后的心率值。5.根据权利要求1所述的方法，其特征在于，在所述用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内的情况下，所述对心率传感器获取得到的第一心率值进行修正的步骤，包括：从频谱信息中选择峰值次高的谱峰；其中，所述频谱信息通过所述心率传感器检测到的心率信号做傅里叶变换得到；依据峰值次高的谱峰，计算所述用户的第三心率值，其中，所述第二心率值为修正后的心率值。6.一种心率值修正装置，应用于智能可穿戴设备，其特征在于，所述装置包括：采集模块，用于采集预设模块的测量值，其中，所述预设模块包括以下至少之一：加速度传感器、陀螺仪和气压计；运动状态确定模块，用于依据所述测量值确定所述智能可穿戴设备用户的运动状态；修正模块，用于在所述用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正；其中，所述第一预设条件包括以下至少之一：运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值；用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内。7.根据权利要求6所述的装置，其特征在于，所述运动状态确定模块包括：第一子模块，用于在所述预设模块包括气压计的情况下，依据所述气压计测量得到的气压值的变化量，确定所述用户所处海拔高度的变化量；第二子模块，用于依据所述海拔高度变化量，判断所述用户是否在平地上运动；第三子模块，用于在所述用户未在平地上运动的情况下，依据所述海拔高度变化量计算所述用户重力势能的变化量；第四子模块，用于在所述重力势能减小的情况下，计算所述第一心率值与用户步频的比值；第五子模块，用于在所述比值大于第一预设值的情况下，确定所述用户的运动状态满足第一预设条件。8.根据权利要求7所述的装置，其特征在于，所述运动状态确定模块还包括：第六子模块，用于在所述预设模块包括陀螺仪和加速度传感器的情况下，在所述第二子模块依据所述海拔高度变化量，判断所述用户是否在平地上运动之后，在所述用户在平地上运动的情况下，通过所述加速度传感器和所述陀螺仪的测量值，确定所述用户手臂是否摆动；第七子模块，用于在所述用户手臂摆动的情况下，依据所述智能可穿戴设备的动能和所述用户的步频，确定所述用户的第一运动状态；第八子模块，用于确定心率传感器计算得到的第一心率值是否处于所述第一运动状态对应的心率值范围内；第九子模块，用于在所述第一心率值未处于所述第一运动状态对应的心率值范围内的情况下，确定所述用户的第一运动状态满足第一预设条件。9.根据权利要求6所述的装置，其特征在于，所述修正模块包括：第一子模块，用于在所述用户的运动状态为运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值的情况下，从频谱信息中筛选各谱峰；其中，所述频谱信息通过所述心率传感器检测到的心率信号做傅里叶变换得到；第二子模块，用于从各所述谱峰中选择目标谱峰，其中，所述目标谱峰的峰值小于峰值最高谱峰的峰值，所述目标谱峰的频率小于所述峰值最高谱峰的频率；第三子模块，用于依据目标谱峰计算所述用户的第二心率值，其中，所述第二心率值为修正后的心率值。10.根据权利要求6所述的装置，其特征在于，所述修正模块包括：第四子模块，用于在所述用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内的情况下，从频谱信息中选择峰值次高的谱峰；其中，所述频谱信息通过所述心率传感器检测到的心率信号做傅里叶变换得到；第五子模块，用于依据峰值次高的谱峰，计算所述用户的第三心率值，其中，所述第二心率值为修正后的心率值。11.一种电子设备，其特征在于，包括处理器、存储器及存储在所述存储器上并可在所述处理器上运行的程序或指令，所述程序或指令被所述处理器执行时实现如权利要求1至5中任一项所述的心率值修正方法的步骤。
说明书desc
技术领域本发明实施例涉及通信技术领域，尤其涉及一种心率值修正方法、装置及电子设备。背景技术智能可穿戴设备是应用穿戴式技术对日常穿戴进行智能化设计、开发出可以穿戴的设备的总称。智能可穿戴设备多以具备部分计算功能、可连接手机及各类终端的便携式配件形式存在。最常见的智能手环、智能戒指、智能项链等。智能可穿戴设备可记录用户日常生活中的锻炼、睡眠、饮食实时数据，如跑步时间、配速、计步、GPS路径轨迹、消耗卡路里以及心率等。目前智能可穿戴设备在检测用户心率时，通过智能可穿戴设备中设置的PPG光学心率传感器的检测到心率信号确定用户心率。用户在运动状态下由于智能可穿戴设备佩戴不紧、与身体接触不良或者智能可穿戴设备与用户手臂存在相对运动等原因，PPG光学心率传感器检测到的心率信号易与用户运动频率交错混淆，所检测到的心率信号准确度低，最终导致基于该心率信号确定的心率值准确度低。发明内容本申请实施例的目的是提供一种心率值修正方法，能够解决现有的基于PPG光学心率传感器检测到的心率信号，所确定的心率值准确度的问题。为了解决上述技术问题，本发明是这样实现的：第一方面，本申请实施例提供了一种心率值修正方法，应用于智能可穿戴设备，其中，所述方法包括：采集预设模块的测量值，其中，所述预设模块包括以下至少之一：加速度传感器、陀螺仪和气压计；依据所述测量值确定所述智能可穿戴设备用户的运动状态；在所述用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正；其中，所述第一预设条件包括以下至少之一：运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值；用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内。第二方面，本申请实施例提供了一种心率值修正装置，应用于智能可穿戴设备，其中，所述装置包括：采集模块，用于采集预设模块的测量值，其中，所述预设模块包括以下至少之一：加速度传感器、陀螺仪和气压计；运动状态判断模块，用于依据所述测量值确定所述智能可穿戴设备用户的运动状态；修正模块，用于在所述用户的运动状态满足第一预设条件的情况下，对心率传感器计算得到的第一心率值进行修正；其中，所述第一预设条件包括以下至少之一：运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值；用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内。第三方面，本申请实施例提供了一种电子设备，该电子设备包括处理器、存储器及存储在所述存储器上并可在所述处理器上运行的程序或指令，所述程序或指令被所述处理器执行时实现如第一方面所述的方法的步骤。第四方面，本申请实施例提供了一种可读存储介质，所述可读存储介质上存储程序或指令，所述程序或指令被处理器执行时实现如第一方面所述的方法的步骤。第五方面，本申请实施例提供了一种芯片，所述芯片包括处理器和通信接口，所述通信接口和所述处理器耦合，所述处理器用于运行程序或指令，实现如第一方面所述的方法。本申请实施例中，通过采集预设模块的测量值；依据预设模块的测量值确定智能可穿戴设备用户的运动状态；在用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正，能够提升所确定的用户心率值的准确度。附图说明为了更清楚地说明本申请实施例的技术方案，下面将对本申请实施例的描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。图1是表示本申请实施例的一种心率值修正方法的步骤流程图；图2是表示本申请实施例的一种心率值修正装置的结构框图；图3是表示本申请实施例的一种电子设备的结构框图；图4是表示本申请实施例的一种电子设备的硬件结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请的说明书和权利要求书中的术语“第一”、“第二”等是用于区别类似的对象，而不用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便本申请的实施例能够以除了在这里图示或描述的那些以外的顺序实施，且“第一”、“第二”等所区分的对象通常为一类，并不限定对象的个数，例如第一对象可以是一个，也可以是多个。此外，说明书以及权利要求中“和/或”表示所连接对象的至少其中之一，字符“/”，一般表示前后关联对象是一种“或”的关系。下面结合附图，通过具体的实施例及其应用场景对本申请实施例提供的心率值修正方法进行详细地说明。参照图1，示出了本申请实施例的一种心率值修正方法的步骤流程图。本申请实施例的心率值修正方法包括以下步骤：步骤101：采集预设模块的测量值。本申请实施例提供的心率值修正方法是适用于智能可穿戴设备，智能可穿戴设备中安装有各种惯性传感器和气压计，通过各种惯性传感器和气压计的测量值可识别用户在一段时间内的运动特征、手臂摆动情况以及运动的动能和重力势能的变化量等运动信息，基于运动信息可确定用户的运动状态。其中，预设模块包括以下至少之一：加速度传感器、陀螺仪和气压计。步骤102：依据测量值确定智能可穿戴设备用户的运动状态。用户的运动状态可以包括但不限于：爬坡、下坡、冲刺跑步状态、快跑状态、大幅度摆臂快走或跑步状态、慢跑不摆臂状态、快走无摆臂状态、大幅度摆臂正常走或者快走状态、摆臂正常走状态、摆臂慢走状态、慢走不摆臂状态以及静止状态等。在确定用户的运动状态后，进一步确定用户的运动状态是否满足第一预设条件。其中，第一预设条件包括以下至少之一：运动过程中重力势能减小、且第一心率值与用户步频的比值大于第一预设值；用户的运动状态属于预设运动状态中的任意之一、且第一心率值未处于用户的运动状态对应的心率值范围内。其中，第一预设值可由本领域技术人员根据实际需求进行设置，本申请实施例中对此不做具体限制。例如：第一预设值可设置为2、3等。用户在运动过程中重力势能减小、且第一心率值与用户步频的比值大于第一预设值时，说明用户正在做下楼或下山等运动，在该种运动状态下若第一心率值与用户步频的比值大于第一预设值，可确定存在运动频率的二次谐波或三次谐波与心率信号相互交错混淆的情况，系统易把运动频率误认为是心率信号的频率，因此基于基于错误心率信号计算出的心率值需要进一步修正。系统中预设有多种运动状态，以及各种运动状态对应的心率值范围。在实际实现过程中，系统可依据预设时长内用户对智能可穿戴设备做功产生的动能、用户的步频判断用户当前所处的运动状态，分别将用户当前所处的运动状态与系统中预设的各种运动状态进行匹配，从而判断用户当前所处的运动状态是否为预设运动状态中的任意之一，其中，预设时长可由本领域技术人员根据实际需求进行设置，例如：1.5秒、2秒或者3秒等。预设的多种运动状态可以包括但不限于：冲刺跑步状态、快跑状态、大幅度摆臂快走或跑步状态、慢跑不摆臂状态、快走无摆臂状态、大幅度摆臂正常走或者快走状态、摆臂正常走状态、摆臂慢走状态、慢走不摆臂状态以及静止状态。每种预设运动状态对应的心率值范围不同，各种预设运动状态对应的心率值范围可由本领域技术人员通过实验确定。用户的运动状态属于预设运动状态、且第一心率值未处于用户的运动状态对应的心率值范围内时，说明当前所计算得到的第一心率值不符合常规，因此需对其进行进一步修正。步骤103：在用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正。心率算法通常是心率传感器检测到的心率信号做傅里叶变换以后得到频域的频谱信息，频谱信息里面高度较高的一些波峰叫做谱峰,这些谱峰可能对应心率信号的频率，也可能对应干扰信号的频率，从频谱信息中找到正确的谱峰做为依据就可以计算得到高准确度的心率值。第一心率值由心率传感器依据如下方式获取得到：对心率传感器测量得到的心率信号做傅里叶变换以后得到频域的频谱信息，确定频谱信息里波峰最高的谱峰，基于波峰最高的谱峰的频率确定第一心率值。对第一心率值进行修正时，可按照预设规则从频谱信息中选择真实的心率信号所对应的谱峰确定修正后的心率值。本申请实施例提供的心率值修正方法，通过采集预设模块的测量值；依据预设模块的测量值确定智能可穿戴设备用户的运动状态；在用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正，能够提升所确定的用户心率值的准确度。在一种可选地实施例中，在预设模块包括气压计的情况下，依据各预设模块的测量值确定智能可穿戴设备用户状态的步骤，包括以下子步骤：子步骤一：依据气压计测量得到的气压值的变化量，确定用户所处海拔高度的变化量。气压计的气压值可转换成的高度值，因此通过气压计测量得到的气压值的变化量可确定用户所处海拔的变化量。通过用户所处海拔的变化量可确定用户是否在平地上运动。子步骤二：依据海拔高度变化量，判断用户是否在平地上运动。在海拔高度的变化量小于预设海拔高度变化量的情况下，确定用户在平地上运动；反之，确定用户未在平地上运动，用户在上下楼或者上下山等。子步骤三：在用户未在平地上运动的情况下，依据海拔高度变化量计算用户重力势能的变化量。海拔高度变化量正、负可表征用户在上楼梯或上山，还是下楼梯或下山。通过用户海拔高度的变化量，可确定用户重力势能的变化量。在用户的重力势能减小的情况下，说明用户在执行下楼梯或下山等运动。子步骤四：在重力势能减小的情况下，计算第一心率值与用户步频的比值。第一心率值由心率传感器依据传统的心率计算方式计算得到。用户步频的检测方式可采用任意适当的现有检测方式检测得到。例如：可通过陀螺仪和加速度传感器的测量值确定。子步骤五：在比值大于第一预设值的情况下，确定用户的运动状态满足第一预设条件。第一预设值可以由本领域技术人员根据实际需求进行设置，例如：设置为2、3或者4等。用户重力势能减小，重力势能已转化为动能。如果传统的心率算法计算的第一心率值达到用户步频的第一预设值倍数，则认为是运动频率的二次谐波或三次谐波与心率信号相互交错混淆，使得系统错误地把运动频率或运动频率的二次谐波三次谐波误认为是心率信号的频率，所以需要对计算得到的第一心率值进行修正。在用户的重力势能增大的情况下，即便用户步频、动能均不大，但第一心率值过大的情况下，也无需对第一心率值进行修正。也即，在用户的重力势能增大的情况下，第一心率值与用户步频的比值大于第一预设值的情况下，无需对第一心率值进行修正。例如：向上爬楼梯或者爬山，即使步频不大而且动能也不大，但是由于用户重力势能的增加需要人体消耗较多的卡路里，导致真实的心率会出现比较大的心率值，因此这种情况下也不要对计算得到的第一心率值进行修正。该种可选地在用户重力势能减小的情况下，通过用户第一心率值与步频的比值确定用户运动状态满足第一预设条件的方式，判断标准明确、判断结果准确度高。在一种可选地实施例中，在预设模块包括陀螺仪和加速度传感器的情况下，在依据海拔高度变化量，判断用户是否在平地上运动的步骤之后，还可以包括如下子步骤：子步骤六：在用户在平地上运动的情况下，通过加速度传感器和陀螺仪的测量值，确定用户手臂是否摆动。用户所处的海拔高度变化量小于预设海拔高度变化量的情况下，确定用户在平地上运动。用户在平地上的可能运动状态有多种，例如：静止、慢跑、快跑、持重物慢走等。通过判断用户手臂是否摆动可确定用户手腕相对于身体躯干是否静止。用户手臂未摆动即用户手腕相对于身体躯干静止的情况下，可判断用户在手提行李，此时用户真实心率值受到行李重量影响会出现很多种可能性，因此即便对其进行修正，修正后的值也不一定准确。并且手腕相对于身体躯干静止的情况下，用来计算心率值的心率传感器信号质量很好，因此无需对该种状态下用户的第一心率值进行修正。子步骤七：在用户手臂摆动的情况下，依据智能可穿戴设备的动能和用户的步频，确定用户的第一运动状态。系统中预设有各种不同运动状态对应的动能范围和步频范围，在确定用户的第一运动状态时，可计算预设时长内例如：1.5秒内用户对智能可穿戴设备施加的冲量和做功产生的能量即可穿戴设备的动能，将智能可穿戴设备的动能和用户步频与预设的各种不同运动状态对应的动能范围和步频范围进行匹配，最终确定用户当前的第一运动状态。第一运动状态为系统中预设的多种运动状态中的任意之一。预设的多种运动状态可以包括但不限于：冲刺跑步状态、快跑状态、大幅度摆臂快走或跑步状态、慢跑不摆臂状态、快走无摆臂状态、大幅度摆臂正常走或者快走状态、摆臂正常走状态、摆臂慢走状态、慢走不摆臂状态以及静止状态。子步骤八：确定心率传感器计算得到的第一心率值是否处于第一运动状态对应的心率值范围内。每种预设运动状态对应的心率值范围不同，各种预设运动状态对应的心率值范围可由本领域技术人员通过实验确定。本子步骤中，将采用传统心率算法计算得到的第一心率值与第一运动状态对应的心率值范围进行比对，在第一心率值处于第一运动状态对应的心率值范围内的情况下，说明当前所计算得到的第一心率值符合常规，因此无需对其进行进一步修正。在第一心率值未处于用户的第一运动状态对应的心率值范围内时，说明当前所计算得到的第一心率值不符合常规，因此需对其进行进一步修正。子步骤九：在第一心率值未处于第一运动状态对应的心率值范围内的情况下，确定用户的第一运动状态满足第一预设条件。该种可选地将用户运动状态进行细分后，结合细化后的运动状态对应的心率值范围衡量计算得到的第一心率值是否需要修正的方式，确定结果准确、可靠。在一种可选地实施例中，在用户的运动状态为运动过程中重力势能减小、且第一心率值与用户步频的比值大于第一预设值的情况下，对心率传感器获取得到的第一心率值进行修正的方式可以如下：从频谱信息中筛选各谱峰；其中，频谱信息通过心率传感器检测到的心率信号做傅里叶变换得到。首先，从各谱峰中选择目标谱峰；其中，目标谱峰的峰值小于峰值最高谱峰的峰值，目标谱峰的频率小于峰值最高谱峰的频率。其次，依据目标谱峰计算用户的第二心率值。其中，第二心率值为修正后的心率值。在用户重力势能减小，说明用户的重力势能减少，重力势能已转化为动能。如果传统的心率算法计算的第一心率值达到用户步频的第一预设值倍数，则认为是运动频率的二次谐波或三次谐波与心率信号相互交错混淆，使得系统错误地把运动频率或运动频率的二次谐波三次谐波误认为是心率信号的频率，所以需要对计算得到的第一心率值进行修正。该种可选地，对用户下楼或下山等场景下所计算出的第一心率值进行修正的方式，从频谱信息中选择其他高度较矮且频率更小的谱峰做为计算第二心率值的基础数据方式，所修正得到的第二心率值与用户的真实心率更加匹配。在一种可选地实施例中，在用户的运动状态属于预设运动状态、且第一心率值未处于用户的运动状态对应的心率值范围内的情况下，对心率传感器获取得到的第一心率值进行修正的方式可以如下：首先，从频谱信息中选择峰值次高的谱峰。其中，频谱信息通过心率传感器检测到的心率信号做傅里叶变换得到。其次，依据峰值次高的谱峰，计算用户的第三心率值。其中，第二心率值为修正后的心率值。该种可选地对心率值进行修正的方式，修正得到的第二心率值与用户的真实心率更加契合。需要说明的是，本申请实施例提供的心率值修正方法，执行主体可以为心率值修正装置，或者该心率值修正装置中的用于执行心率值修正方法的控制模块。本申请实施例中后续以心率值修正模块执行心率值修正方法为例，说明本申请实施例提供的心率值修正装置。图2为实现本申请实施例的一种心率值修正装置的结构框图。本申请实施例的心率值修正装置200应用于智能可穿戴设备，其中，所述装置包括如下功能模块：采集模块201，用于采集预设模块的测量值，其中，所述预设模块包括以下至少之一：加速度传感器、陀螺仪和气压计；运动状态确定模块202，用于依据所述测量值确定所述智能可穿戴设备用户的运动状态；修正模块203，用于在所述用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正；其中，所述第一预设条件包括以下至少之一：运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值；用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内。可选的，所述运动状态确定模块包括：第一子模块，用于在所述预设模块包括气压计的情况下，依据所述气压计测量得到的气压值的变化量，确定所述用户所处海拔高度的变化量；第二子模块，用于依据所述海拔高度变化量，判断所述用户是否在平地上运动；第三子模块，用于在所述用户未在平地上运动的情况下，依据所述海拔高度变化量计算所述用户重力势能的变化量；第四子模块，用于在所述重力势能减小的情况下，计算所述第一心率值与用户步频的比值；第五子模块，用于在所述比值大于第一预设值的情况下，确定所述用户的运动状态满足第一预设条件。可选的，所述运动状态确定模块还包括：第六子模块，用于在所述预设模块包括陀螺仪和加速度传感器的情况下，在所述第二子模块依据所述海拔高度变化量，判断所述用户是否在平地上运动之后，在所述用户在平地上运动的情况下，通过所述加速度传感器和所述陀螺仪的测量值，确定所述用户手臂是否摆动；第七子模块，用于在所述用户手臂摆动的情况下，依据所述智能可穿戴设备的动能和所述用户的步频，确定所述用户的第一运动状态；第八子模块，用于确定心率传感器计算得到的第一心率值是否处于所述第一运动状态对应的心率值范围内；第九子模块，用于在所述第一心率值未处于所述第一运动状态对应的心率值范围内的情况下，确定所述用户的第一运动状态满足第一预设条件。可选的，所述修正模块包括：第一子模块，用于在所述用户的运动状态为运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值的情况下，从频谱信息中筛选各谱峰；其中，所述频谱信息通过所述心率传感器检测到的心率信号做傅里叶变换得到；第二子模块，用于从各所述谱峰中选择目标谱峰，其中，所述目标谱峰的峰值小于峰值最高谱峰的峰值，所述目标谱峰的频率小于所述峰值最高谱峰的频率；第三子模块，用于依据目标谱峰计算所述用户的第二心率值，其中，所述第二心率值为修正后的心率值。可选的，所述修正模块包括：第四子模块，用于在所述用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内的情况下，从频谱信息中选择峰值次高的谱峰；其中，所述频谱信息通过所述心率传感器检测到的心率信号做傅里叶变换得到；第五子模块，用于依据峰值次高的谱峰，计算所述用户的第三心率值，其中，所述第二心率值为修正后的心率值。本申请实施例提供的心率值修正装置，通过采集预设模块的测量值；依据预设模块的测量值确定智能可穿戴设备用户的运动状态；在用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正，能够提升所确定的用户心率值的准确度。本申请实施例中的心率值修正装置可以是装置，也可以是终端中的部件、集成电路、或芯片。该装置可以是移动电子设备，也可以为非移动电子设备。示例性的，移动电子设备可以为手机、平板电脑、笔记本电脑、掌上电脑、车载电子设备、可穿戴设备、超级移动个人计算机、上网本或者个人数字助理等，非移动电子设备可以为服务器、网络附属存储器、个人计算机、电视机、柜员机或者自助机等，本申请实施例不作具体限定。本申请实施例中的心率值修正装置可以为具有操作系统的装置。该操作系统可以为安卓操作系统，可以为iOS操作系统，还可以为其他可能的操作系统，本申请实施例不作具体限定。本申请实施例提供的心率值修正装置能够实现图1的方法实施例中实现的各个过程，为避免重复，这里不再赘述。可选地，如图3所示，本申请实施例还提供一种电子设备300，包括处理器301，存储器302，存储在存储器302上并可在所述处理器301上运行的程序或指令，该程序或指令被处理器301执行时实现上述心率值修正方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。需要注意的是，本申请实施例中的电子设备包括上述所述的移动电子设备和非移动电子设备。图4为实现本申请实施例的一种电子设备的硬件结构示意图。该电子设备400包括但不限于：射频单元401、网络模块402、音频输出单元403、输入单元404、传感器405、显示单元406、用户输入单元407、接口单元408、存储器409、以及处理器410等部件，电子设备400包含折叠屏。本领域技术人员可以理解，电子设备400还可以包括给各个部件供电的电源，电源可以通过电源管理系统与处理器410逻辑相连，从而通过电源管理系统实现管理充电、放电、以及功耗管理等功能。图4中示出的电子设备结构并不构成对电子设备的限定，电子设备可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置，在此不再赘述。其中，处理器410，用于采集预设模块的测量值，其中，所述预设模块包括以下至少之一：加速度传感器、陀螺仪和气压计；依据所述测量值确定所述智能可穿戴设备用户的运动状态；在所述用户的运动状态满足第一预设条件的情况下，对心率传感器计算得到的第一心率值进行修正；其中，所述第一预设条件包括以下至少之一：运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值；用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内。本申请实施例中，电子设备通过采集预设模块的测量值；依据预设模块的测量值确定智能可穿戴设备用户的运动状态；在用户的运动状态满足第一预设条件的情况下，对心率传感器获取得到的第一心率值进行修正，能够提升所确定的用户心率值的准确度。可选的，处理器410在所述预设模块包括气压计的情况下，所述依据所述测量值确定所述电子设备用户状态时，具体用于：依据所述气压计测量得到的气压值的变化量，确定所述用户所处海拔高度的变化量；依据所述海拔高度变化量，判断所述用户是否在平地上运动；在所述用户未在平地上运动的情况下，依据所述海拔高度变化量计算所述用户重力势能的变化量；在所述重力势能减小的情况下，计算所述第一心率值与用户步频的比值；在所述比值大于第一预设值的情况下，确定所述用户的运动状态满足第一预设条件。可选的，处理器410在所述预设模块包括陀螺仪和加速度传感器的情况下，在所述依据所述海拔高度变化量，判断所述用户是否在平地上运动之后，还用于：在所述用户在平地上运动的情况下，通过所述加速度传感器和所述陀螺仪的测量值，确定所述用户手臂是否摆动；在所述用户手臂摆动的情况下，依据所述智能可穿戴设备的动能和所述用户的步频，确定所述用户的第一运动状态；确定心率传感器计算得到的第一心率值是否处于所述第一运动状态对应的心率值范围内；在所述第一心率值未处于所述第一运动状态对应的心率值范围内的情况下，确定所述用户的第一运动状态满足第一预设条件。可选的，处理器410在所述用户的运动状态为运动过程中重力势能减小、且所述第一心率值与用户步频的比值大于第一预设值的情况下，所述对心率传感器获取得到的第一心率值进行修正时，具体用于：从频谱信息中筛选各谱峰；其中，所述频谱信息通过所述心率传感器检测到的心率信号做傅里叶变换得到；从各所述谱峰中选择目标谱峰，其中，所述目标谱峰的峰值小于峰值最高谱峰的峰值，所述目标谱峰的频率小于所述峰值最高谱峰的频率；依据目标谱峰计算所述用户的第二心率值，其中，所述第二心率值为修正后的心率值。可选的，处理器410在所述用户的运动状态属于预设运动状态、且所述第一心率值未处于所述用户的运动状态对应的心率值范围内的情况下，所述对心率传感器获取得到的第一心率值进行修正时，具体用于：从频谱信息中选择峰值次高的谱峰；其中，所述频谱信息通过所述心率传感器检测到的心率信号做傅里叶变换得到；依据峰值次高的谱峰，计算所述用户的第三心率值，其中，所述第二心率值为修正后的心率值。应理解的是，本申请实施例中，输入单元404可以包括图形处理器4041和麦克风4042，图形处理器4041对在视频捕获模式或图像捕获模式中由图像捕获装置获得的静态图片或视频的图像数据进行处理。显示单元406可包括显示面板4061，可以采用液晶显示器、有机发光二极管等形式来配置显示面板4061。用户输入单元407包括触控面板4071以及其他输入设备4072。触控面板、4071，也称为触摸屏。触控面板4071可包括触摸检测装置和触摸控制器两个部分。其他输入设备4072可以包括但不限于物理键盘、功能键、轨迹球、鼠标、操作杆，在此不再赘述。存储器409可用于存储软件程序以及各种数据，包括但不限于应用程序和操作系统。处理器410可集成应用处理器和调制解调处理器，其中，应用处理器主要处理操作系统、用户界面和应用程序等，调制解调处理器主要处理无线通信。可以理解的是，上述调制解调处理器也可以不集成到处理器410中。本申请实施例还提供一种可读存储介质，所述可读存储介质上存储有程序或指令，该程序或指令被处理器执行时实现上述心率值修正方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。其中，所述处理器为上述实施例中所述的电子设备中的处理器。所述可读存储介质，包括计算机可读存储介质，如计算机只读存储器、随机存取存储器、磁碟或者光盘等。本申请实施例另提供了一种芯片，所述芯片包括处理器和通信接口，所述通信接口和所述处理器耦合，所述处理器用于运行程序或指令，实现上述心率值修正方法实施例的各个过程，且能达到相同的技术效果，为避免重复，这里不再赘述。应理解，本申请实施例提到的芯片还可以称为系统级芯片、系统芯片、芯片系统或片上系统芯片等。需要说明的是，在本文中，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者装置不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者装置所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括该要素的过程、方法、物品或者装置中还存在另外的相同要素。此外，需要指出的是，本申请实施方式中的方法和装置的范围不限按示出或讨论的顺序来执行功能，还可包括根据所涉及的功能按基本同时的方式或按相反的顺序来执行功能，例如，可以按不同于所描述的次序来执行所描述的方法，并且还可以添加、省去、或组合各种步骤。另外，参照某些示例所描述的特征可在其他示例中被组合。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到上述实施例方法可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台终端执行本申请各个实施例所述的方法。上面结合附图对本申请的实施例进行了描述，但是本申请并不局限于上述的具体实施方式，上述的具体实施方式仅仅是示意性的，而不是限制性的，本领域的普通技术人员在本申请的启示下，在不脱离本申请宗旨和权利要求所保护的范围情况下，还可做出很多形式，均属于本申请的保护之内。
