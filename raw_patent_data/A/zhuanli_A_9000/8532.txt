标题title
斜视手术方案的辅助设计方法及装置
摘要abst
本发明提供斜视手术方案的辅助设计方法及装置，涉及医疗数据处理技术领域。所述方法包括：获取斜视病例数据；通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案；其中，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到。本发明提供的斜视手术方案的辅助设计方法及装置，通过斜视手术方案辅助设计模型智能化地根据斜视病例数据得到建议手术实施量，建议手术实施量可以供医生选用来直接进行斜视手术，也可以供医生据此设计更精准的斜视手术方案，能够满足大量斜视患者的需求，同时能够保证斜视手术方案的准确性，进一步保证斜视患者得到正确治疗，早日痊愈。
权利要求书clms
1.一种斜视手术方案的辅助设计方法，其特征在于，包括：获取斜视病例数据；通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案；其中，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到。2.根据权利要求1所述的斜视手术方案的辅助设计方法，其特征在于，所述通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，包括：基于所述斜视手术方案辅助设计模型，从所述斜视病例数据中提取关键特征以及所述关键特征对应的数值；根据所述关键特征和所述关键特征对应的数值，结合患者斜视类型，得到若干建议手术实施量。3.根据权利要求2所述的斜视手术方案的辅助设计方法，其特征在于，所述根据所述关键特征和所述关键特征对应的数值，结合患者斜视类型，得到若干建议手术实施量，包括：根据所述关键特征和所述关键特征对应的数值，判断所述斜视病例数据的合理性，并根据合理的斜视病例数据得到患者斜视类型；根据所述患者斜视类型和所述关键特征对应的数值，比较所述斜视病例数据与所述斜视病例数据样本的相似度，并选取相似度符合预设条件的斜视病例数据样本对应的手术实施量样本作为第一建议手术实施量；根据所述患者斜视类型和所述关键特征对应的数值，通过所述斜视手术方案辅助设计模型的计算层得到第二建议手术实施量。4.根据权利要求3所述的斜视手术方案的辅助设计方法，其特征在于，所述根据所述患者斜视类型和所述关键特征对应的数值，比较所述斜视病例数据与所述斜视病例数据样本的相似度，包括：通过直方图均衡方法将所述关键特征对应的数值映射成数值空间；基于所述数值空间，通过欧氏距离法得到所述斜视病例数据与所述斜视病例数据样本的相似度，并筛选出相似度符合预设条件的斜视病例数据样本。5.根据权利要求1-4任一项所述的斜视手术方案的辅助设计方法，其特征在于，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到，包括：通过生成对抗网络优化所述斜视病例数据样本和所述手术实施量样本。6.根据权利要求1-4任一项所述的斜视手术方案的辅助设计方法，其特征在于，还包括：结合被选用的建议手术实施量迭代所述斜视手术方案辅助设计模型。7.一种斜视手术方案的辅助设计装置，其特征在于，包括：斜视病例数据获取模块，用于：获取斜视病例数据；建议手术实施量得到模块，用于：通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案；其中，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到。8.一种电子设备，包括存储器、处理器及存储在所述存储器上并可在所述处理器上运行的计算机程序，其特征在于，所述处理器执行所述程序时实现如权利要求1至6任一项所述斜视手术方案的辅助设计方法。9.一种非暂态计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至6任一项所述斜视手术方案的辅助设计方法的步骤。10.一种计算机程序产品，包括计算机程序，其特征在于，所述计算机程序被处理器执行时实现如权利要求1至6任一项所述斜视手术方案的辅助设计方法。
说明书desc
技术领域本发明涉及医疗数据处理技术领域，尤其涉及一种斜视手术方案的辅助设计方法、装置、电子设备、非暂态计算机可读存储介质、以及计算机程序产品。背景技术在中国，斜视的患病率为1％～3％，患者人数3000万人，每年新增患者40万，是儿童中发病率最高的眼部疾病之一。外斜手术方案的设计目前由医生亲自进行设计，外斜手术主要是通过对眼肌进行调控从而达到治疗斜视患者的效果。经验丰富的医生的门诊数量有限，往往无法满足庞大的患者群体需求，导致很多患者未能得到及时的治疗，由于是由医生本人设计手术方案，根据同样的病例，经验不足的医生设计的手术操作量可能会有所偏差，导致手术效果不佳，患者无法得到正确治疗，甚至需要二次手术，大大增加手术难度，又提高患者的治疗风险，同时治疗成本也高。发明内容本发明提供一种斜视手术方案的辅助设计方法及装置，用以解决现有技术中无法满足庞大的斜视患者群体需求，导致很多斜视患者未能及时得到正确治疗的缺陷。本发明提供一种斜视手术方案的辅助设计方法，包括：获取斜视病例数据；通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案；其中，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到。根据本发明提供的一种斜视手术方案的辅助设计方法，所述通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，包括：基于所述斜视手术方案辅助设计模型，从所述斜视病例数据中提取关键特征以及所述关键特征对应的数值；根据所述关键特征和所述关键特征对应的数值，结合患者斜视类型，得到若干建议手术实施量。根据本发明提供的一种斜视手术方案的辅助设计方法，所述根据所述关键特征和所述关键特征对应的数值，结合患者斜视类型，得到若干建议手术实施量，包括：根据所述关键特征和所述关键特征对应的数值，判断所述斜视病例数据的合理性，并根据合理的斜视病例数据得到患者斜视类型；根据所述患者斜视类型和所述关键特征对应的数值，比较所述斜视病例数据与所述斜视病例数据样本的相似度，并选取相似度符合预设条件的斜视病例数据样本对应的手术实施量样本作为第一建议手术实施量；根据所述患者斜视类型和所述关键特征对应的数值，通过所述斜视手术方案辅助设计模型的计算层得到第二建议手术实施量。根据本发明提供的一种斜视手术方案的辅助设计方法，所述根据所述患者斜视类型和所述关键特征对应的数值，比较所述斜视病例数据与所述斜视病例数据样本的相似度，包括：通过直方图均衡方法将所述关键特征对应的数值映射成数值空间；基于所述数值空间，通过欧氏距离法得到所述斜视病例数据与所述斜视病例数据样本的相似度，并筛选出相似度符合预设条件的斜视病例数据样本。根据本发明提供的一种斜视手术方案的辅助设计方法，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到，包括：通过生成对抗网络优化所述斜视病例数据样本和所述手术实施量样本。根据本发明提供的一种斜视手术方案的辅助设计方法，还包括：结合被选用的建议手术实施量迭代所述斜视手术方案辅助设计模型。本发明还提供一种斜视手术方案的辅助设计装置，包括：斜视病例数据获取模块，用于：获取斜视病例数据；建议手术实施量得到模块，用于：通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案；其中，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到。本发明还提供一种电子设备，包括存储器、处理器及存储在存储器上并可在处理器上运行的计算机程序，所述处理器执行所述程序时实现如上述任一种所述斜视手术方案的辅助设计方法。本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现如上述任一种所述斜视手术方案的辅助设计方法。本发明还提供一种计算机程序产品，包括计算机程序，所述计算机程序被处理器执行时实现如上述任一种所述斜视手术方案的辅助设计方法。本发明提供的斜视手术方案的辅助设计方法及装置，通过斜视手术方案辅助设计模型智能化地根据斜视病例数据得到建议手术实施量，建议手术实施量可以供医生选用来直接进行斜视手术，也可以供医生据此设计更精准的斜视手术方案，能够满足大量斜视患者的需求，同时能够保证斜视手术方案的准确性，进一步保证斜视患者得到正确治疗，早日痊愈。附图说明为了更清楚地说明本发明或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明提供的斜视手术方案的辅助设计方法的流程示意图；图2是本发明提供的斜视手术方案的辅助设计装置的结构示意图；图3是本发明提供的电子设备的结构示意图。具体实施方式为使本发明的目的、技术方案和优点更加清楚，下面将结合本发明中的附图，对本发明中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。下面结合图1-图3描述本发明提供的一种斜视手术方案的辅助设计方法、装置、及电子设备。参照图1，本发明提供的一种斜视手术方案的辅助设计方法可以包括：S110、获取斜视病例数据。S120、通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案。本实施例对1167位斜视病人的52个维度的数据进统计学分析，病人病例中的37个因素都对手术实施量的设计有一定的影响。如果想精确地设计手术实施量，对于经验不足的医生困难极大。因此，通过斜视手术方案辅助设计模型得到建议手术实施量能够极大地降低出错率，提高斜视手术方案的准确性。需要说明的是，所述斜视手术方案辅助设计模型可以采用LightGBM模型根据斜视病例数据样本和手术实施量样本预先训练得到。其中，一个斜视病例数据样本及其对应的手术实施量样本形成一个斜视案例，多个斜视案例可以形成斜视案例库。在斜视手术方案辅助设计模型的训练过程中，可以先通过生成对抗网络来优化斜视病例数据样本，特别是针对稀有的斜视病例数据样本进行增强处理，学习斜视病例数据样本的特征并丰富斜视病例数据样本的数据集，使得斜视病例数据样本的数据集中的病例数据分布均匀，避免由于数据分布不均导致对稀有病例训练不充分的问题，实现提高斜视手术方案辅助设计模型得到的建议手术实施量的精确性。在本实施例中，通过生成对抗网络来优化训练斜视手术方案辅助设计模型时的斜视病例数据样本，斜视病例数据样本的数据集从1000例扩充到30万例，使得斜视手术方案辅助设计模型最终的准确率提升了15.2％。进一步的，在斜视手术方案辅助设计模型的使用过程中，可以结合被选用的建议手术实施量进行斜视手术方案辅助设计模型的迭代更新。例如，当医生在设计斜视手术方案时参考了建议手术实施量，即表示该建议手术实施量对本次斜视手术方案的设计具有辅助意义，可以将该建议手术实施量以及对应的斜视病例数据存储至存储模块，并使它们参与到斜视手术方案辅助设计模型的迭代中，使得斜视手术方案辅助设计模型的精度更高。需要说明的是，本发明提供的一种斜视手术方案的辅助设计方法的执行主体可以是任何终端侧设备，例如斜视手术方案辅助设计系统。在步骤S110中，终端侧设备会获取斜视病例数据。需要说明的是，斜视病例数据包括以下任一项或其任意组合：姓名数据、性别数据、年龄数据、身高数据、体重数据、主导眼数据、近斜视度数据、以及远斜视度数据。具体的，斜视病例数据可以是由医生在门诊与患者问诊时得到的，然后再由医生通过终端侧设备的人机接口层将斜视病例数据输入至斜视手术方案辅助设计模型。在步骤S120中，终端侧设备会通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案。需要说明的是，建议手术实施量包括以下任一项或其任意组合：建议麻醉手术实施量、建议左眼内直肌手术实施量、建议左眼外直肌手术实施量、建议右眼内直肌手术实施量、建议右眼外直肌手术实施量。需要说明的是，步骤S120可以包括：基于所述斜视手术方案辅助设计模型，从所述斜视病例数据中提取关键特征以及所述关键特征对应的数值；根据所述关键特征和所述关键特征对应的数值，结合患者斜视类型，得到若干建议手术实施量。需要说明的是，斜视病例数据中可能包括一些与斜视手术方案的设计无关的因素，可以通过从斜视病例数据中提取关键特征来去除与斜视手术方案的设计无关的因素，以提高斜视手术方案辅助设计模型预测建议手术实施量的效率。具体的，关键特征可以是年龄数据、主导眼数据、近斜视度数据、以及远斜视度数据等，关键特征的设置可以根据实际需求调整。需要说明的是，所述根据所述关键特征和所述关键特征对应的数值，结合患者斜视类型，得到若干建议手术实施量，可以包括：根据所述关键特征和所述关键特征对应的数值，判断所述斜视病例数据的合理性，并根据合理的斜视病例数据得到患者斜视类型；根据所述患者斜视类型和所述关键特征对应的数值，比较所述斜视病例数据与所述斜视病例数据样本的相似度，并选取相似度符合预设条件的斜视病例数据样本对应的手术实施量样本作为第一建议手术实施量；根据所述患者斜视类型和所述关键特征对应的数值，通过所述斜视手术方案辅助设计模型的计算层得到第二建议手术实施量。具体的，对于每个关键特征可以分别预先设置一个合理的数值范围，当提取到关键特征对应的数值时，将其与预设的数值范围进行比对，当提取的关键特征对应的数值在预设的数值范围内时，判定该斜视病例数据为合理，当提取的关键特征对应的数值超出预设的数值范围时，判定该斜视病例数据为非合理，可以忽略该关键特征，避免其不合理的数值对斜视手术方案辅助设计模型预测得到建议手术实施量造成影响。进一步的，对于合理的斜视病例数据，可以根据关键特征对应的数值对患者的斜视类型进行分类，患者斜视类型包括以下任一项：内斜视、外斜视、以及间歇性斜视。不同的患者斜视类型对应的关键特征的组合可能不同，以及不同的患者斜视类型对应的关键特征的数值可能也不同，所以可以结合关键特征以及关键特征对应的数值来对患者的斜视类型进行准确的分类，以为不同的斜视患者设计准确的斜视手术方案。需要说明的是，斜视手术方案辅助设计模型具有存储层，用于存储斜视病例数据样本和手术实施量样本。斜视手术方案辅助设计模型可以将斜视病例数据中关键特征对应的数值与斜视病例数据样本中关键特征对应的数值进行比对，并计算两个病例数据的相似度，然后选取相似度符合预设条件的斜视病例数据样本对应的手术实施量样本作为第一建议手术实施量。具体的，可以通过斜视手术方案辅助设计模型利用直方图均衡方法将所述关键特征对应的数值映射成数值空间，然后基于所述数值空间，通过欧氏距离法得到所述斜视病例数据与所述斜视病例数据样本的相似度，保证计算所得的相似度的准确性，并筛选出相似度符合预设条件的斜视病例数据样本。例如按照相似度的高低进行排序，选取相似度前三的斜视病例数据样本对应的手术实施量样本作为第一建议手术实施量，或者，预先设置相似度阈值，选取相似度高于相似度阈值的斜视病例数据样本对应的手术实施量样本作为第一建议手术实施量等等。另一方面，斜视手术方案辅助设计模型还具有计算层，用于根据斜视病例数据直接计算出建议手术实施量，其具体的计算可以依据训练模型时对斜视病例数据样本和手术实施量样本的学习来实现，计算所得的建议手术实施量作为第二建议手术实施量供医生参考。具体的，可以设置分别得到第一建议手术实施量和第二建议手术实施量供医生参考，也可以设置当未能筛选出相似度符合预设条件的斜视病例数据样本时，才执行通过斜视手术方案辅助设计模型的计算层得到第二建议手术实施量等等，如此设置的目的是为了在保证得到准确的建议手术实施量的情况下避免资源浪费，使模型的运算合理化。进一步的，终端侧设备可以为斜视手术方案辅助设计模型得到的建议手术实施量增加约束条件，例如将建议手术实施量的值约束在3毫米到7毫米的区间内，以对建议手术实施量进行调整，避免得到的建议手术实施量出现大程度的偏差。进一步的，通过斜视手术方案辅助设计模型根据斜视病例数据得到的建议手术实施量可以通过显示设备反馈至医生，为医生设计斜视手术方案提供参考，当医生选用某一建议手术实施量时，其可以在显示设备上操作选用，然后终端侧设备可以将该建议手术实施量以及对应的斜视病例数据存储至斜视手术方案辅助设计模型的存储层，并在模型的迭代中运用到这些数据。本实施例分别进行随机抽取10％,20％...90％的数据对斜视手术方案辅助设计模型进行测试。随着数据量的增加，斜视手术方案辅助设计模型的准确率逐步提高，并以目前的数据量来看，准确率能够达到95％以上。本发明提供的斜视手术方案的辅助设计方法，通过斜视手术方案辅助设计模型智能化地根据斜视病例数据得到建议手术实施量，建议手术实施量可以供医生选用来直接进行斜视手术，也可以供医生据此设计更精准的斜视手术方案，能够满足大量斜视患者的需求，同时能够保证斜视手术方案的准确性，进一步保证斜视患者得到正确治疗，早日痊愈。下面对本发明提供的斜视手术方案的辅助设计装置进行描述，下文描述的斜视手术方案的辅助设计装置与上文描述的斜视手术方案的辅助设计方法可相互对应参照。参照图2，本发明提供的一种斜视手术方案的辅助设计装置可以包括：斜视病例数据获取模块210，用于：获取斜视病例数据；建议手术实施量得到模块220，用于：通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案；其中，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到。需要说明的是，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到，包括：通过生成对抗网络优化所述斜视病例数据样本和所述手术实施量样本。在一种实施例中，所述建议手术实施量得到模块220可以包括：关键特征提取子模块，用于：基于所述斜视手术方案辅助设计模型，从所述斜视病例数据中提取关键特征以及所述关键特征对应的数值；建议手术实施量得到子模块，用于：根据所述关键特征和所述关键特征对应的数值，结合患者斜视类型，得到若干建议手术实施量。在一种实施例中，所述建议手术实施量得到子模块可以包括：患者斜视类型得到子模块，用于：根据所述关键特征和所述关键特征对应的数值，判断所述斜视病例数据的合理性，并根据合理的斜视病例数据得到患者斜视类型；第一建议手术实施量得到子模块，用于：根据所述患者斜视类型和所述关键特征对应的数值，比较所述斜视病例数据与所述斜视病例数据样本的相似度，并选取相似度符合预设条件的斜视病例数据样本对应的手术实施量样本作为第一建议手术实施量；第二建议手术实施量得到子模块，用于：根据所述患者斜视类型和所述关键特征对应的数值，通过所述斜视手术方案辅助设计模型的计算层得到第二建议手术实施量。在一种实施例中，所述第一建议手术实施量得到子模块可以包括：关键特征映射子模块，用于：通过直方图均衡方法将所述关键特征对应的数值映射成数值空间；斜视病例数据样本筛选子模块，用于：基于所述数值空间，通过欧氏距离法得到所述斜视病例数据与所述斜视病例数据样本的相似度，并筛选出相似度符合预设条件的斜视病例数据样本。在一种实施例中，本发明提供的一种斜视手术方案的辅助设计装置还可以包括：模型迭代模块，用于：结合被选用的建议手术实施量迭代所述斜视手术方案辅助设计模型。图3示例了一种电子设备的实体结构示意图，如图3所示，该电子设备可以包括：处理器810、通信接口820、存储器830和通信总线840，其中，处理器810，通信接口820，存储器830通过通信总线840完成相互间的通信。处理器810可以调用存储器830中的逻辑指令，以执行斜视手术方案的辅助设计方法，该方法包括：获取斜视病例数据；通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案；其中，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到。此外，上述的存储器830中的逻辑指令可以通过软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。另一方面，本发明还提供一种计算机程序产品，所述计算机程序产品包括计算机程序，计算机程序可存储在非暂态计算机可读存储介质上，所述计算机程序被处理器执行时，计算机能够执行上述各方法所提供的斜视手术方案的辅助设计方法，该方法包括：获取斜视病例数据；通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案；其中，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到。又一方面，本发明还提供一种非暂态计算机可读存储介质，其上存储有计算机程序，该计算机程序被处理器执行时实现以执行上述各方法提供的斜视手术方案的辅助设计方法，该方法包括：获取斜视病例数据；通过斜视手术方案辅助设计模型根据所述斜视病例数据得到建议手术实施量，以用于辅助设计斜视手术方案；其中，所述斜视手术方案辅助设计模型根据斜视病例数据样本和手术实施量样本训练得到。以上所描述的装置实施例仅仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出创造性的劳动的情况下，即可以理解并实施。通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到各实施方式可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件。基于这样的理解，上述技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如ROM/RAM、磁碟、光盘等，包括若干指令用以使得一台计算机设备执行各个实施例或者实施例的某些部分所述的方法。最后应说明的是：以上实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的精神和范围。
