标题title
一种挂轨式机器人瞄准方法、装置及计算机设备
摘要abst
本发明公开了一种挂轨式机器人瞄准方法、装置及计算机设备，由机器人执行，机器人包括摄像设备和瞄准设备，方法包括：在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数；根据第一位置信息、第二位置信息、第一参数以及第二参数，确定待瞄准目标的第三位置信息；根据第二位置信息、第三位置信息，以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离；若第一投影距离等于第二投影距离，则根据第二位置、喷射参数，确定瞄准设备参数，以便完成瞄准。
权利要求书clms
1.一种挂轨式机器人瞄准方法，其特征在于，由机器人执行，所述机器人包括摄像设备和瞄准设备，所述方法包括：在识别到待瞄准目标后，获取所述机器人在第一位置的第一位置信息和所述摄像设备的第一参数，以及所述机器人在第二位置的第二位置信息和所述摄像设备的第二参数，所述第二位置和第一位置分别为所述摄像设备可以识别到待瞄准目标时所述机器人的任一位置；根据所述第一位置信息、所述第二位置信息、所述第一参数以及所述第二参数，确定所述待瞄准目标的第三位置信息；根据所述第二位置信息、所述第三位置信息，以及预获取的所述瞄准设备的喷射参数和位置参数，确定在所述第二位置进行瞄准时，所述瞄准设备喷射的瞄准剂在所述待瞄准目标所在水平面的第一投影距离；若所述第一投影距离等于第二投影距离，则根据所述第二位置、所述喷射参数，确定瞄准设备参数，以便完成瞄准，所述第二投影距离为瞄准设备与所述待瞄准目标的直线距离在所述待瞄准目标所在水平面的投影距离。2.根据权利要求1所述的方法，其特征在于，所述在识别到待瞄准目标后，获取所述机器人在第一位置的第一位置信息和所述摄像设备的第一参数，以及所述机器人在第二位置的第二位置信息和所述摄像设备的第二参数，具体包括：在识别到所述待瞄准目标后，获取所述机器人在第一位置的第一位置信息和所述摄像设备的第一参数；运行所述机器人，获取所述机器人在第二位置的第二位置信息和所述摄像设备的第二参数。3.根据权利要求2所述的方法，其特征在于，所述在识别到所述待瞄准目标后，获取所述机器人在第一位置的第一位置信息和所述摄像设备的第一参数，具体包括：在识别到所述待瞄准目标后，获取机器人所在第一位置的第一位置信息、所述摄像设备获取的第一图像以及所述摄像设备的第三参数，所述第一图像中包括待瞄准目标；调整所述摄像设备的第三参数，使得所述第一图像中的待瞄准目标位于所述第一图像的中心，获取此时摄像设备的第一参数。4.根据权利要求1所述的方法，其特征在于，所述根据所述第一位置信息、所述第二位置信息、所述第一参数以及所述第二参数，确定所述待瞄准目标的第三位置信息，所述第一位置信息包括第一横坐标、第一纵坐标和第一高度坐标，所述第二位置信息包括第二横坐标、第二纵坐标和第二高度坐标，所述第一参数包括第一俯仰角和第一偏航角、所述第二参数包括第二偏航角，具体包括：根据所述第一横坐标、所述第一纵坐标、所述第二横坐标、所述第二纵坐标、所述第一偏航角以及所述第二偏航角，确定待瞄准目标横坐标；根据所述第一横坐标、所述第一纵坐标、所述第二横坐标、所述第二纵坐标、所述第一偏航角以及所述第二偏航角，确定待瞄准目标纵坐标；根据所述第一横坐标、所述第一纵坐标、所述第一高度坐标、所述待瞄准目标横坐标、所述待瞄准目标纵坐标以及所述第一俯仰角，确定待瞄准目标高度坐标；根据所述待瞄准目标横坐标、所述待瞄准目标纵坐标以及所述待瞄准目标高度坐标，确定所述第三位置信息。5.根据权利要求4所述的方法，其特征在于，所述根据所述第二位置信息、所述第三位置信息，以及预获取的所述瞄准设备的喷射参数和位置参数，确定在所述第二位置进行瞄准时，所述瞄准设备喷射的瞄准剂在所述待瞄准目标所在水平面的第一投影距离，具体包括：根据所述第二高度坐标、所述待瞄准目标高度坐标、所述喷射参数以及预设加速度，确定所述第一投影距离。6.根据权利要求1-5任一项所述的方法，其特征在于，若所述第一投影距离小于所述第二投影距离，所述第二参数还包括第二偏航角，所述方法还包括：根据所述第二偏航角，确定所述待瞄准目标方向；向所述待瞄准目标方向运行，直至所述第一投影距离等于所述第二投影距离。7.根据权利要求1-5任一项所述的方法，其特征在于，若所述第一投影距离大于所述第二投影距离，所述第二参数还包括第二偏航角，所述方法还包括：根据所述第二偏航角，确定所述待瞄准目标方向；向所述待瞄准目标方向相反的方向运行，直至所述第一投影距离等于所述第二投影距离。8.一种挂轨式机器人瞄准装置，其特征在于，所述装置包括：获取模块，用于在识别到待瞄准目标后，获取所述机器人在第一位置的第一位置信息和摄像设备的第一参数，以及所述机器人在第二位置的第二位置信息和所述摄像设备的第二参数，所述第二位置和第一位置分别为所述摄像设备可以识别到待瞄准目标时所述机器人的任一位置；目标确定模块，用于根据所述第一位置信息、所述第二位置信息、所述第一参数以及所述第二参数，确定所述待瞄准目标的第三位置信息；计算模块，用于根据所述第二位置信息、所述第三位置信息，以及预获取的所述瞄准设备的喷射参数和位置参数，确定在所述第二位置进行瞄准时，所述瞄准设备喷射的瞄准剂在所述待瞄准目标所在水平面的第一投影距离；参数确定模块，用于若所述第一投影距离等于第二投影距离，则根据所述第二位置、所述喷射参数，确定瞄准设备参数，以便完成瞄准，所述第二投影距离为瞄准设备与所述待瞄准目标的直线距离在所述待瞄准目标所在水平面的投影距离。9.一种计算机设备，其特征在于，包括：至少一个处理器；以及与所述至少一个处理器通信连接的存储器；其中，所述存储器存储有可被所述至少一个处理器执行的指令，所述指令被所述至少一个处理器执行，以使所述至少一个处理器执行如权利要求1-7任一项所述的挂轨式机器人瞄准方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被服务器执行时实现如权利要求1-7任一项所述的挂轨式机器人瞄准方法。
说明书desc
技术领域本发明涉及挂轨式巡检机器人技术领域，具体涉及一种挂轨式机器人瞄准方法、装置及计算机设备。背景技术火灾是生活中常见的灾害，一旦发生往往会带来巨大的财产损失和人员伤亡。长期以来，现有技术中对于火灾的处理主要靠人工方式进行，像公路隧道、机房等地方一旦发现火情往往不能第一时间到现场处理，浪费了宝贵的救援时间。挂轨灭火机器人的出现很大程度上缓解了此问题，但由监控人员远程瞄准灭火时由于观测视觉偏差、视线不佳，加之操作时更多的是依靠工作人员的经验，造成灭火剂喷射精度有限，很难达到很好的效果。发明内容因此，为解决现有技术的不足，本发明实施例提供了一种挂轨式机器人瞄准方法、装置及计算机设备。根据第一方面，本发明实施例公开了一种挂轨式机器人瞄准方法，由机器人执行，机器人包括摄像设备和瞄准设备，方法包括：在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数，第二位置和第一位置分别为摄像设备可以识别到待瞄准目标时机器人的任一位置；根据第一位置信息、第二位置信息、第一参数以及第二参数，确定待瞄准目标的第三位置信息；根据第二位置信息、第三位置信息，以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离；若第一投影距离等于第二投影距离，则根据第二位置、喷射参数，确定瞄准设备参数，以便完成瞄准，第二投影距离为瞄准设备与待瞄准目标的直线距离在待瞄准目标所在水平面的投影距离。可选地，在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数，具体包括：在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数；运行机器人，获取机器人在第二位置的第二位置信息和摄像设备的第二参数。可选地，在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，具体包括：在识别到待瞄准目标后，获取机器人所在第一位置的第一位置信息、摄像设备获取的第一图像以及摄像设备的第三参数，第一图像中包括待瞄准目标；调整摄像设备的第三参数，使得第一图像中的待瞄准目标位于第一图像的中心，获取此时摄像设备的第一参数。可选地，根据第一位置信息、第二位置信息、第一参数以及第二参数，确定待瞄准目标的第三位置信息，第一位置信息包括第一横坐标、第一纵坐标和第一高度坐标，第二位置信息包括第二横坐标、第二纵坐标和第二高度坐标，第一参数包括第一俯仰角和第一偏航角、第二参数包括第二偏航角，具体包括：根据第一横坐标、第一纵坐标、第二横坐标、第二纵坐标、第一偏航角以及第二偏航角，确定待瞄准目标横坐标；根据第一横坐标、第一纵坐标、第二横坐标、第二纵坐标、第一偏航角以及第二偏航角，确定待瞄准目标纵坐标；根据第一横坐标、第一纵坐标、第一高度坐标、待瞄准目标横坐标、待瞄准目标纵坐标以及第一俯仰角，确定待瞄准目标高度坐标；根据待瞄准目标横坐标、待瞄准目标纵坐标以及待瞄准目标高度坐标，确定第三位置信息。可选地，根据第二位置信息、第三位置信息，以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离，具体包括：根据第二高度坐标、待瞄准目标高度坐标、喷射参数以及预设加速度，确定第一投影距离。可选地，若第一投影距离小于第二投影距离，第二参数还包括第二偏航角，方法还包括：根据第二偏航角，确定待瞄准目标方向；向待瞄准目标方向运行，直至第一投影距离等于第二投影距离。可选地，若第一投影距离大于第二投影距离，第二参数还包括第二偏航角，方法还包括：根据第二偏航角，确定待瞄准目标方向；向待瞄准目标方向相反的方向运行，直至第一投影距离等于第二投影距离。根据第二方面，本发明实施例还公开了一种挂轨式机器人瞄准装置，包括：获取模块，用于在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数，第二位置和第一位置分别为摄像设备可以识别到待瞄准目标时机器人的任一位置；目标确定模块，用于根据第一位置信息、第二位置信息、第一参数以及第二参数，确定待瞄准目标的第三位置信息；计算模块，用于根据第二位置信息、第三位置信息，以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离；参数确定模块，用于若第一投影距离等于第二投影距离，则根据第二位置、喷射参数，确定瞄准设备参数，以便完成瞄准，第二投影距离为瞄准设备与待瞄准目标的直线距离在待瞄准目标所在水平面的投影距离。根据第三方面，本发明实施例还公开了一种计算机设备，包括：至少一个处理器；以及与至少一个处理器通信连接的存储器；其中，存储器存储有可被至少一个处理器执行的指令，指令被至少一个处理器执行，以使至少一个处理器执行如第一方面或第一方面任一可选实施方式的挂轨式机器人瞄准方法的步骤。根据第四方面，本发明实施方式还公开了一种计算机可读存储介质，其上存储有计算机程序，计算机程序被处理器执行时实现如第一方面或第一方面任一可选实施方式的挂轨式机器人瞄准方法的步骤。本发明技术方案，具有如下优点：本发明提供的挂轨式机器人瞄准方法、装置及计算机设备，包括：在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数，其中第一位置和第二位置为可以识别到待瞄准目标的任一位置，且第一位置和第二位置不相同，在此基础上，可以根据第一位置信息、第二位置信息、第一参数和第二参数，可以准确的确定待瞄准目标的第三位置信息；进一步地，在确定第三位置信息之后，可以根据第二位置信息、第三位置信息以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离，根据第一投影距离和第二投影距离的关系可以准确的判断在第二位置是否可以瞄准待瞄准目标。解决了现有技术中通过人工瞄准精度不准确的问题。附图说明为了更清楚地说明本发明具体实施方式或现有技术中的技术方案，下面将对具体实施方式或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施方式，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明实施例中挂轨式机器人瞄准方法的一个具体示例的流程图；图2为本发明实施例中挂轨式机器人瞄准方法的一个具体示例的流程图；图3为本发明实施例中挂轨式机器人瞄准方法的一个具体示例的示图；图4为本发明实施例中挂轨式机器人瞄准方法的一个具体示例的示意图；图5为本发明实施例中挂轨式机器人瞄准方法的一个具体示例的流程图；图6为本发明实施例中挂轨式机器人瞄准装置的一个具体示例的原理框图；图7为本发明实施例中计算机设备的一个具体示例图。具体实施方式下面将结合附图对本发明的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。在本发明的描述中，需要说明的是，术语“中心”、“上”、“下”、“左”、“右”、“竖直”、“水平”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的限制。此外，术语“第一”、“第二”、“第三”仅用于描述目的，而不能理解为指示或暗示相对重要性。在本发明的描述中，需要说明的是，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接；可以是直接相连，也可以通过中间媒介间接相连，还可以是两个元件内部的连通，可以是无线连接，也可以是有线连接。对于本领域的普通技术人员而言，可以具体情况理解上述术语在本发明中的具体含义。此外，下面所描述的本发明不同实施方式中所涉及的技术特征只要彼此之间未构成冲突就可以相互结合。在对本申请技术方案进行介绍之前，首先介绍本申请中涉及到的关键术语和缩略语的定义。针对背景技术中所提及的技术问题，本申请实施例提供了一种挂轨式机器人瞄准方法，具体参见图1所示，该方法包括如下步骤：步骤101，在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数。其中，第二位置和第一位置分别为摄像设备可以识别到待瞄准目标时机器人的任一位置。示例性地，挂轨式机器人可以用于对现场设备运行、现场的生产活动或者是轨道交通的隧道等的日常检查等，在生产生活的方方面面起着重要的作用。本发明实施例中以挂轨式灭火机器人为例进行介绍，这里的待瞄准目标发生火灾的情况下可以是火源，瞄准设备为灭火器，摄像设备为摄像机。在识别到火源之后，获取在第一位置的第一位置信息和摄像设备的第一参数，这里的第一位置可以是识别到火源后的第一时间对应的位置。为确定火源的位置，还需要获取第二位置的第一位置信息和摄像设备的第二参数，这里识别到火源的均是通过摄像设备中内置的图像识别程序得到，详细内容不在赘述。这里的第二位置可以是在第一位置识别到火源之后继续运行后的位置，当然第二位置同样可以识别到火源。获取摄像设备的第一参数和第二参数的目的是为了确定识别到火源相对于机器人在的位置，因此可以根据机器人的位置信息和摄像机参数即可确定。在一个优选的实施例中，如图2所示，在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数，具体包括：步骤1011，在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数。示例性地，获取第一位置的第一位置信息和摄像设备的第一参数，这里位置信息为机器人实际的空间位置，这里的空间位置可以是采用空间坐标来表示。例如可以建立一个虚拟的空间坐标系，以坐标点为表示第一位置信息，具体地，以巡检机器人的轨道起点为坐标原点，以轨道起点的切线方向为x轴，水平方向与x轴垂直的方向为y轴，与x轴和y轴f交的方向为z轴，每一个轨道的运行路径以及方向是已知的，由此可以根据机器人在轨道上的位置，来确定机器人的位置信息，对应着可以确定第一位置信息。摄像设备的第一参数，可以直接读取摄像设备的偏航角等数据来获取。为更加准确的对火源的空间位置进行定位，在一个优选的实施例中，步骤1011中，在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，具体包括：在识别到待瞄准目标后，获取机器人所在第一位置的第一位置信息、摄像设备获取的第一图像以及摄像设备的第三参数，第一图像中包括待瞄准目标；调整摄像设备的第三参数，使得第一图像中的待瞄准目标位于第一图像的中心，获取此时摄像设备的第一参数。示例性地，在识别到火源后，获取对应识别到火源的第一图像和摄像设备的第三参数，这里的第一图像中包括火源，这时火源在第一图像中的位置是不确定的，为更加方便的计算火源的位置信息，可以火源的位置调整至在第一图像的中心位置后在获取摄像设备的第一参数。具体地调整方法可以是：视觉识别软件检测到火源后，可通过火源在第一图像中的位置，实时计算出火源在第一图像中的二维坐标。该二维坐标以摄像设备第一图像中心为坐标原点。以下坐标均在摄像设备第一图像坐标系中。机器人采用寻中算法，即机器人读取火源在画面中的实际二维坐标，将其与坐标原点比较。根据差值判断摄像设备运动方向，并控制摄像设备转动，使坐标原点不断向火源位置逼近，最终使火源与坐标原点重合，此时火源即处在画面正中间。例如，假设火源在摄像设备画面右上角，坐标为，寻中算法控制摄像设备不断向右和向上旋转，随着摄像设备旋转，火源在画面中的坐标逐渐变化为、……，当旋转至时，寻中算法控制下摄像设备停止向上旋转，只向右旋转，坐标为、……当向右旋转至时，摄像设备停止旋转，火源处在画面中心。机器人在运行过程中也实时执行寻中算法，调整摄像设备，使火源始终位于摄像设备画面中心，实现火源锁定。步骤1012，运行机器人，获取机器人在第二位置的第二位置信息和摄像设备的第二参数。示例性地，在获取到火源后，继续运行机器人，获取机器人在第二位置的第二位置信息和摄像设备的第二参数，这里从第一位置到第二位置的过程中，可以保持火源在第一图像的中心位置，由此可以更加准确的确定火源的位置。步骤102，根据第一位置信息、第二位置信息、第一参数以及第二参数，确定待瞄准目标的第三位置信息。示例性地，在确定第一位置信息、第二位置信息、第一参数和第二参数后，根据数学公式的推到，可以确定唯一火源位置的空间坐标。在一个优选的实施例中，根据第一位置信息、第二位置信息、第一参数以及第二参数，确定待瞄准目标的第三位置信息，第一位置信息包括第一横坐标、第一纵坐标和第一高度坐标，第二位置信息包括第二横坐标、第二纵坐标和第二高度坐标，第一参数包括第一俯仰角和第一偏航角、第二参数包括第二偏航角，具体包括：根据第一横坐标、第一纵坐标、第二横坐标、第二纵坐标、第一偏航角以及第二偏航角，确定待瞄准目标横坐标；根据第一横坐标、第一纵坐标、第二横坐标、第二纵坐标、第一偏航角以及第二偏航角，确定待瞄准目标纵坐标；根据第一横坐标、第一纵坐标、第一高度坐标、待瞄准目标横坐标、待瞄准目标纵坐标以及第一俯仰角，确定待瞄准目标高度坐标；根据待瞄准目标横坐标、待瞄准目标纵坐标以及待瞄准目标高度坐标，确定第三位置信息。示例性地，如图3所示，为确定火源的第三位置信息的空间示意图，1-轨道，2-机器人在轨道上第一位置，3-摄像设备，4-机器人在轨道上第二位置，5-摄像设备，6-瞄准设备，7-火源。其中是某一时刻机器人在空间中的位置，/＞是机器人在轨道上的初始位置；/＞是机器人运动相对起始位置的位移。其中是某一时刻摄像设备相对于坐标轴的俯仰角及偏航角，/＞是该时刻摄像设备相对机器人的俯仰角及偏航角，/＞是该时刻机器人相对于坐标轴的俯仰角及偏航角。进一步地，机器人在轨道上的第一位置的第一位置信息为摄像设备相对坐标轴的第一俯仰角及第一偏航角为/＞为已知量；机器人在轨道上第二位置的第二位置信息为摄像设备相对于坐标轴的第二俯仰角及第二偏航角为/＞为已知量。利用前第一位置信息和第二位置信息计算火源的第三位置信息。根据偏航角计算可得：两式联立可得火源点x，y两方向坐标：再根据俯仰角θ1带入公式可计算出zf值；最终再结合θ1和ψ1的方向判断火源点所处的象限区间，确定其符号，至此得出火源点坐标具体地，当偏航角0＜ψ1＜180时，表明摄像机朝向机器人左侧，火源在x轴和z轴构成平面的左侧，y值为正；当180＜ψ2＜360时，表明摄像设备朝向机器人右侧，火源在x轴和z轴构成平面的右侧，y值为负。当俯仰角0＜θ1＜90时，表明摄像机朝向上方，火源在x轴和y轴构成平面的上方，z值为正；当俯仰角-90＜θ1＜0时，表明摄像机朝向下方，火源在x轴和y轴构成平面的下方，z值为负。步骤103，根据第二位置信息、第三位置信息，以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离。示例性地，在确定了火源的第三位置信息之后，就需要确定在哪一个位置以及哪一个角度可以准确的瞄准火源并完成灭火。在一个优选的实施例中，根据第二位置信息、第三位置信息，以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离，具体包括：根据第二高度坐标、待瞄准目标高度坐标、喷射参数以及预设加速度，确定第一投影距离。如图4所示，这里的喷射参数可以包括喷射枪口的中心位置以及喷枪的喷射速度，为计算瞄准点的示意图，目前火源的第三位置信息、机器人第二位置信息一致，瞄准设备的喷枪喷射口中心坐标按如下公式计算：其中为喷枪喷射口中心位置，/＞为喷枪喷射口中心到机器人坐标中心位置的偏差，/＞为机器人的第二位置信息。喷枪喷射灭火剂出口速度v0为固定值，机器人位于挂轨上，为防止喷到顶棚，喷枪最高角度为与地面平行，灭火剂喷射路径为平抛运动。喷枪距离火源垂直方向高度差h＝zf-zp，重力加速度g，设存在f平面，该平面与x-y平面平行且经过火源点，可计算出喷枪水平喷射时投影在f平面内的最远距离sf：计算出此时喷枪喷射口中心距离火源在f平面内投影距离st:步骤104，若第一投影距离等于第二投影距离，则根据第二位置、喷射参数，确定瞄准设备参数，以便完成瞄准。其中，第二投影距离为瞄准设备与待瞄准目标的直线距离在待瞄准目标所在水平面的投影距离。示例性地，st＝sf说明目前喷枪可以覆盖火源点。若第一投影距离小于第二投影距离，第二参数还包括第二偏航角，方法还包括：根据第二偏航角，确定待瞄准目标方向；向待瞄准目标方向运行，直至第一投影距离等于第二投影距离。示例性地，st＞sf说明目前喷枪无法覆盖火源点，机器人不断向火源点靠近，同时持续计算st，直至st＝f为止。此时喷枪能覆盖火源点，计算出喷枪偏航角度ψp，从而完成瞄准。可以根据在第二位置摄像设备的偏航角来确定火源方向，例如默认摄像机偏航角0°正对机器人前进方向，180°正对机器人后方。当火源出现在偏航角270°～+90°范围内时，火源在机器人前方；当出现在90°～270°时，火源在机器人后方。若第一投影距离大于第二投影距离，第二参数还包括第二偏航角，方法还包括：根据第二偏航角，确定待瞄准目标方向；向待瞄准目标方向相反的方向运行，直至第一投影距离等于第二投影距离。示例性地，若此时st＜sf说明目前喷枪无法覆盖火源点，并且是已经超过火源的，这种情况下为确保机器人的安全可以向火源的相反方向运行，并实时计算sf，直至st＝sf。或者在实际情况允许的情况下减少喷枪的喷射速度，使得瞄准设备瞄准火源。接下来，以一个具体的实例对上述方法的实现过程进行进一步的描述。如图5所示，机器人正常运行直至发现火源，摄像机锁定火源点的位置并跟随火源点，记录当前机器人的位置和摄像机角度后，机器人向火源方向运行，记录新机器人位置及摄像机角度，根据机器人两个位置及角度解算出火源点在空间内的坐标，计算喷枪喷射口中心距离火源在该平面内投影距离，根据投影距离判断灭火剂是否能覆盖火源点，若不能则继续向火源方向运行，若能则计算瞄准枪角度，完成瞄准。通过执行此方法，在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数，其中第一位置和第二位置为可以识别到待瞄准目标的任一位置，且第一位置和第二位置不相同，在此基础上，可以根据第一位置信息、第二位置信息、第一参数和第二参数，可以准确的确定待瞄准目标的第三位置信息；进一步地，在确定第三位置信息之后，可以根据第二位置信息、第三位置信息以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离，根据第一投影距离和第二投影距离的关系可以准确的判断在第二位置是否可以瞄准待瞄准目标。解决了现有技术中通过人工瞄准精度不准确的问题。以上，为本申请所提供的挂轨式机器人瞄准方法的实施例，下文中则介绍说明本申请所提供的挂轨式机器人瞄准的其他实施例，具体参见如下。本发明实施例还公开了一种挂轨式机器人瞄准装置，如图6所示，该装置包括：获取模块601，用于在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数，第二位置和第一位置分别为摄像设备可以识别到待瞄准目标时机器人的任一位置；目标确定模块602，用于根据第一位置信息、第二位置信息、第一参数以及第二参数，确定待瞄准目标的第三位置信息；计算模块603，用于根据第二位置信息、第三位置信息，以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离；参数确定模块604，用于若第一投影距离等于第二投影距离，则根据第二位置、喷射参数，确定瞄准设备参数，以便完成瞄准，第二投影距离为瞄准设备与待瞄准目标的直线距离在待瞄准目标所在水平面的投影距离。作为本申请的一个可选的实施方式，获取模块，具体用于：在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数；运行机器人，获取机器人在第二位置的第二位置信息和摄像设备的第二参数。作为本申请的一个可选的实施方式，获取模块，具体还用于：在识别到待瞄准目标后，获取机器人所在第一位置的第一位置信息、摄像设备获取的第一图像以及摄像设备的第三参数，第一图像中包括待瞄准目标；调整摄像设备的第三参数，使得第一图像中的待瞄准目标位于第一图像的中心，获取此时摄像设备的第一参数。作为本申请的一个可选的实施方式，目标确定模块，第一位置信息包括第一横坐标、第一纵坐标和第一高度坐标，第二位置信息包括第二横坐标、第二纵坐标和第二高度坐标，第一参数包括第一俯仰角和第一偏航角、第二参数包括第二偏航角，具体用于：根据第一横坐标、第一纵坐标、第二横坐标、第二纵坐标、第一偏航角以及第二偏航角，确定待瞄准目标横坐标；根据第一横坐标、第一纵坐标、第二横坐标、第二纵坐标、第一偏航角以及第二偏航角，确定待瞄准目标纵坐标；根据第一横坐标、第一纵坐标、第一高度坐标、待瞄准目标横坐标、待瞄准目标纵坐标以及第一俯仰角，确定待瞄准目标高度坐标；根据待瞄准目标横坐标、待瞄准目标纵坐标以及待瞄准目标高度坐标，确定第三位置信息。作为本申请的一个可选的实施方式，计算模块，具体用于：根据第二高度坐标、待瞄准目标高度坐标、喷射参数以及预设加速度，确定第一投影距离。作为本申请的一个可选的实施方式，若第一投影距离小于第二投影距离，第二参数还包括第二偏航角，装置还用于：根据第二偏航角，确定待瞄准目标方向；向待瞄准目标方向运行，直至第一投影距离等于第二投影距离。作为本申请的一个可选的实施方式，若第一投影距离大于第二投影距离，第二参数还包括第二偏航角，装置还用于：根据第二偏航角，确定待瞄准目标方向；向待瞄准目标方向相反的方向运行，直至第一投影距离等于第二投影距离。本发明实施例提供的挂轨式机器人瞄准装置中各部件所执行的功能均已在上述任一方法实施例中做了详细的描述，因此这里不再赘述。通过执行此装置，在识别到待瞄准目标后，获取机器人在第一位置的第一位置信息和摄像设备的第一参数，以及机器人在第二位置的第二位置信息和摄像设备的第二参数，其中第一位置和第二位置为可以识别到待瞄准目标的任一位置，且第一位置和第二位置不相同，在此基础上，可以根据第一位置信息、第二位置信息、第一参数和第二参数，可以准确的确定待瞄准目标的第三位置信息；进一步地，在确定第三位置信息之后，可以根据第二位置信息、第三位置信息以及预获取的瞄准设备的喷射参数和位置参数，确定在第二位置进行瞄准时，瞄准设备喷射的瞄准剂在待瞄准目标所在水平面的第一投影距离，根据第一投影距离和第二投影距离的关系可以准确的判断在第二位置是否可以瞄准待瞄准目标。解决了现有技术中通过人工瞄准精度不准确的问题。本发明实施例还提供了一种计算机设备，如图7所示，该计算机设备可以包括处理器701和存储器702，其中处理器701和存储器702可以通过总线或者其他方式连接，图7中以通过总线连接为例。处理器701可以为中央处理器。处理器701还可以为其他通用处理器、数字信号处理器、专用集成电路、现场可编程门阵列或者其他可编程逻辑器件、分立门或者晶体管逻辑器件、分立硬件组件等芯片，或者上述各类芯片的组合。存储器702作为一种非暂态计算机可读存储介质，可用于存储非暂态软件程序、非暂态计算机可执行程序以及模块，如本发明实施例中的挂轨式机器人瞄准方法对应的程序指令/模块。处理器701通过运行存储在存储器702中的非暂态软件程序、指令以及模块，从而执行处理器的各种功能应用以及数据处理，即实现上述方法实施例中的挂轨式机器人瞄准方法。存储器702可以包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需要的应用程序；存储数据区可存储处理器701所创建的数据等。此外，存储器702可以包括高速随机存取存储器，还可以包括非暂态存储器，例如至少一个磁盘存储器件、闪存器件、或其他非暂态固态存储器件。在一些实施例中，存储器702可选包括相对于处理器701远程设置的存储器，这些远程存储器可以通过网络连接至处理器701。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。一个或者多个模块存储在存储器702中，当被处理器701执行时，执行如图1所示实施例中的挂轨式机器人瞄准方法。上述计算机设备具体细节可以对应参阅图1所示的实施例中对应的相关描述和效果进行理解，此处不再赘述。本领域技术人员可以理解，实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，的程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，存储介质可为磁碟、光盘、只读存储记忆体、随机存储记忆体、快闪存储器、硬盘或固态硬盘等；存储介质还可以包括上述种类的存储器的组合。虽然结合附图描述了本发明的实施例，但是本领域技术人员可以在不脱离本发明的精神和范围的情况下作出各种修改和变型，这样的修改和变型均落入由所附权利要求所限定的范围之内。
