标题title
心脏螺旋回顾重建数据挑选、回顾重建方法和装置
摘要abst
本发明实施例公开了一种心脏螺旋回顾重建数据挑选、回顾重建方法和装置，通过确定需要图像重建的关注位置；确定关注位置的重建期相；确定所述重建期相所在的第一心动周期，重建出第一心动周期内在最佳重建期相的第一图像序列；对第二心动周期内在预设期相范围内的图像进行重建得到第二图像序列；将第一图像序列与第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相；将所述第二心动周期作为第一心动周期，重复上述步骤，直至确定每个心动周期内的最佳重建期相为止。本发明能够改善心脏螺旋回顾重建中产生的运动伪影。
权利要求书clms
1.一种心脏螺旋回顾重建数据挑选方法，其特征在于，包括：步骤1：确定需要图像重建的关注位置，所述关注位置为可能出现伪影的位置；步骤2：确定所述关注位置的最佳重建期相，其中最佳重建期相是指多个心脏运动期相中的心脏运动量最小的心脏运动期相；步骤3：确定所述最佳重建期相所在的第一心动周期，用于重建出所述第一心动周期内在最佳重建期相的第一图像序列；步骤4：对第二心动周期内在预设期相范围内的图像进行重建得到第二图像序列，其中第二心动周期包括与第一心动周期相邻的前一心动周期或者后一心动周期；步骤5：将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相；步骤6：将所述第二心动周期作为第一心动周期，重复步骤2-5，直至确定每个心动周期内的最佳重建期相为止。2.根据权利要求1所述的心脏螺旋回顾重建数据挑选方法，其特征在于，将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相，包括：将第一图像序列与第二图像序列中的重叠图像进行比较，选出其中差异度小于预设阈值的至少一个图像；判断所述至少一个图像的对应期相与所述第一心动周期的最佳重建期相之间的期相距离是否在预设期相阈值范围内，如果在则将该对应期相作为第二心动周期内的最佳重建期相。3.根据权利要求1所述的心脏螺旋回顾重建数据挑选方法，其特征在于，所述确定所述关注位置的最佳重建期相，包括：对所述关注位置按照预设期相间隔重建0％-99％范围内的所有期相对应的图像；计算所有期相范围内同一关注位置的所有图像的图像差异，将图像差异最小的图像所对应的期相确定为最佳重建期相。4.根据权利要求1所述的心脏螺旋回顾重建数据挑选方法，其特征在于，所述确定所述关注位置的最佳重建期相，包括：根据心率与重建目标相位之间的规律，计算出需要重建的目标期相范围；采用图像信息熵计算方法来评价目标期相范围内所有图像的清晰度，将其中清晰度最高的图像的期相作为最佳重建期相。5.一种心脏螺旋回顾重建方法，其特征在于，基于权利要求1-4任意一项所述的心脏螺旋回顾重建数据挑选方法挑选重建数据；对所述重建数据进行重建得到心脏重建图像。6.根据权利要求5所述的心脏螺旋回顾重建方法，其特征在于，所述方法还包括：根据每个心动周期内的最佳重建期相进行数据挑选重建得到心脏重建图像序列的过程中，如果任意两相邻心动周期挑选的数据得到的重建图像存在不同程度的重叠区域，则计算两组重建图像之间的差异点，并根据运动形变场对所述差异点进行处理，以消除心脏螺旋回顾重建中产生的运动伪影。7.一种心脏螺旋回顾重建数据挑选装置，其特征在于，包括：关注位置确定模块，用于确定需要图像重建的关注位置，所述关注位置为可能出现伪影的位置；第一最佳重建期相确定模块，用于确定所述关注位置的最佳重建期相，其中最佳重建期相是指多个心脏运动期相中的心脏运动量最小的心脏运动期相；第一图像序列重建模块，用于确定所述最佳重建期相所在的第一心动周期，用于重建出所述第一心动周期内在最佳重建期相的第一图像序列；第二图像序列重建模块，用于对第二心动周期内在预设期相范围内的图像进行重建得到第二图像序列，其中第二心动周期包括与第一心动周期相邻的前一心动周期或者后一心动周期；第二最佳重建期相确定模块，用于将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相；扩展模块，用于将所述第二心动周期作为第一心动周期，重复执行第一最佳重建期相确定模块、第一图像序列重建模块、第二图像序列重建模块、第二最佳重建期相确定模块，直至确定每个心动周期内的最佳重建期相为止。8.根据权利要求7所述的心脏螺旋回顾重建数据挑选装置，其特征在于，所述第一最佳重建期相确定模块，包括：图像重建单元，用于对所述关注位置按照预设期相间隔重建0％-99％范围内的所有期相对应的图像；最佳重建期相确定单元，用于计算所有期相范围内同一关注位置的所有图像的图像差异，将图像差异最小的图像所对应的期相确定为最佳重建期相。9.一种计算机设备，包括存储器和处理器，所述存储器存储有可在处理器上运行的计算机程序，其特征在于，所述处理器执行所述计算机程序时实现权利要求1至4任意一项所述的方法或权利要求5所述的方法。10.一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至4任意一项所述的方法或权利要求5所述的方法。
说明书desc
技术领域本申请涉及成像技术领域，具体而言，涉及一种心脏螺旋回顾重建数据挑选、回顾重建方法和装置。背景技术CT为临床提供了无创查看患者体内组织器官解剖结构的方法，CT扫描重建要求被扫描对象在扫描过程中保持不动。临床实践中，心脏由于其不停运动的生理特征，如果采用常规扫描重建协议，最终得到的图像中会存在严重的运动伪影，导致冠脉血管无法观测影响最终临床诊断。对心脏的扫描成像，业内成熟的方案是对患者心脏进行快速扫描的同时同步采集患者的心电图数据。在图像重建时根据采集的ECG 门控曲线信息，挑选出每个心动周期内指定期相的满足重建要求的数据段。这里期相指的是在ECG信号中相邻R波内指定位置处于RR间距内的百分比，其值为 0％-100％。在此过程中，我们认为处于不同心跳周期内的同一期相时刻，心脏的运动状态是一致的。将不同心动周期内同一期相范围的数据组合起来重建得到的图像是一致、运动伪影最小的。但实际上，人的心脏运动轨迹不可能在每个心动周期内完美重复，并且在扫描过程中的若干心动周期内，患者的心率也可能发生变化，同时也可能发生患者呼吸等其它情况。这就导致如果简单采用每个心动周期相同期相的数据进行重建，其对应的真实心脏形态也可能发生变化，最终导致重建出来的图像中引入了额外的运动伪影。针对相关技术中由于患者心脏搏动状态与ECG信号周期之间的不一致或患者心脏在跳动过程中的非周期性变化导致重建图像伪影的问题，目前尚未提出有效的解决方案。发明内容本发明实施例提供一种心脏螺旋回顾重建数据挑选、回顾重建方法和装置、计算机设备和存储介质，用以解决相关技术中由于患者心脏搏动状态与ECG信号周期之间的不一致或患者心脏在跳动过程中的非周期性变化导致重建图像伪影的问题。为了实现上述目的，本发明实施例的第一方面，提供一种心脏螺旋回顾重建数据挑选方法，包括：步骤1：确定需要图像重建的关注位置，所述关注位置为可能出现伪影的位置；步骤2：确定所述关注位置的最佳重建期相，其中最佳重建期相是指多个心脏运动期相中的心脏运动量最小的心脏运动期相；步骤3：确定所述最佳重建期相所在的第一心动周期，用于重建出所述第一心动周期内在最佳重建期相的第一图像序列；步骤4：对第二心动周期内在预设期相范围内的图像进行重建得到第二图像序列，其中第二心动周期包括与第一心动周期相邻的前一心动周期或者后一心动周期；步骤5：将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相；步骤6：将所述第二心动周期作为第一心动周期，重复步骤2-5，直至确定每个心动周期内的最佳重建期相为止。可选地，在第一方面的一种可能实现方式中，将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相，包括：将第一图像序列与第二图像序列中的重叠图像进行比较，选出其中差异度小于预设阈值的至少一个图像；判断所述至少一个图像的对应期相与所述第一心动周期的最佳重建期相之间的期相距离是否在预设期相阈值范围内，如果在则将该对应期相作为第二心动周期内的最佳重建期相。可选地，在第一方面的一种可能实现方式中，所述确定所述关注位置的最佳重建期相，包括：对所述关注位置按照预设期相间隔重建0％-99％范围内的所有期相对应的图像；计算所有期相范围内同一关注位置的所有图像的图像差异，将图像差异最小的图像所对应的期相确定为最佳重建期相。可选地，在第一方面的一种可能实现方式中，所述确定所述关注位置的最佳重建期相，包括：根据心率与重建目标相位之间的规律，计算出需要重建的目标期相范围；采用图像信息熵计算方法来评价目标期相范围内所有图像的清晰度，将其中清晰度最高的图像的期相作为最佳重建期相。本发明实施例的第二方面，提供一种心脏螺旋回顾重建方法，包括：基于权利要求1-5任意一项所述的心脏螺旋回顾重建数据挑选方法挑选重建数据；对所述重建数据进行重建得到心脏重建图像。可选地，在第二方面的一种可能实现方式中，所述方法还包括：根据每个心动周期内的最佳重建期相进行数据挑选重建得到心脏重建图像序列的过程中，如果任意两相邻心动周期挑选的数据得到的重建图像存在不同程度的重叠区域，则计算两组重建图像之间的差异点，并根据运动形变场对所述差异点进行处理，以消除心脏螺旋回顾重建中产生的运动伪影。本发明实施例的第三方面，提供一种心脏螺旋回顾重建数据挑选装置，包括：关注位置确定模块，用于确定需要图像重建的关注位置，所述关注位置为可能出现伪影的位置；第一最佳重建期相确定模块，用于确定所述关注位置的最佳重建期相，其中最佳重建期相是指多个心脏运动期相中的心脏运动量最小的心脏运动期相；第一图像序列重建模块，用于确定所述最佳重建期相所在的第一心动周期，用于重建出所述第一心动周期内在最佳重建期相的第一图像序列；第二图像序列重建模块，用于对第二心动周期内在预设期相范围内的图像进行重建得到第二图像序列，其中第二心动周期包括与第一心动周期相邻的前一心动周期或者后一心动周期；第二最佳重建期相确定模块，用于将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相；扩展模块，用于将所述第二心动周期作为第一心动周期，重复执行第一最佳重建期相确定模块、第一图像序列重建模块、第二图像序列重建模块、第二最佳重建期相确定模块，直至确定每个心动周期内的最佳重建期相为止。可选地，在第三方面的一种可能实现方式中，所述第一最佳重建期相确定模块，包括：图像重建单元，用于对所述关注位置按照预设期相间隔重建0％-99％范围内的所有期相对应的图像；最佳重建期相确定单元，用于计算所有期相范围内同一关注位置的所有图像的图像差异，将图像差异最小的图像所对应的期相确定为最佳重建期相。本发明实施例的第四方面，提供一种计算机设备，包括存储器和处理器，所述存储器存储有可在处理器上运行的计算机程序，所述处理器执行所述计算机程序时实现上述各个方法实施例中的步骤。本发明实施例的第五方面，提供一种可读存储介质，所述可读存储介质中存储有计算机程序，所述计算机程序被处理器执行时用于实现本发明第一方面及第一方面各种可能设计的所述方法的步骤。本发明提供的心脏螺旋回顾重建数据挑选、回顾重建方法和装置、计算机设备和存储介质，通过确定需要图像重建的关注位置，所述关注位置为可能出现伪影的位置；确定所述关注位置的最佳重建期相，其中最佳重建期相是指多个心脏运动期相中的心脏运动量最小的心脏运动期相；确定所述最佳重建期相所在的第一心动周期，用于重建出所述第一心动周期内在最佳重建期相的第一图像序列；对第二心动周期内在预设期相范围内的图像进行重建得到第二图像序列，其中第二心动周期包括与第一心动周期相邻的前一心动周期或者后一心动周期；将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相；将所述第二心动周期作为第一心动周期，重复上述步骤，直至确定每个心动周期内的最佳重建期相为止。本发明能够降低心脏螺旋回顾扫描重建不同心动周期选择的数据运动状态不一致概率，矫正因心脏在不同心动周期内搏动状态不一致或者其它原因导致在相邻心动周期选择同一期相导致的数据不一致伪影，从而实现改善心脏螺旋回顾重建中产生的运动伪影的技术效果。附图说明图1是根据本发明实施例的一种可选的心脏螺旋回顾重建数据挑选方法的流程示意图；图2是心脏螺旋回顾重建中根据ECG进行数据挑选与图像重建位置关系示意图；图3是根据本申请实施例的另一种可选的心脏螺旋回顾重建数据挑选装置的结构框图。具体实施方式为使本发明实施例的目的、技术方案和优点更加清楚，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”、“第三”“第四”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。应当理解，在本发明的各种实施例中，各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定。应当理解，在本发明中，“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。应当理解，在本发明中，“多个”是指两个或两个以上。“和/或”仅仅是一种描述关联对象的关联关系，表示可以存在三种关系，例如，和/或B，可以表示：单独存在A，同时存在A和B，单独存在B这三种情况。字符“/”一般表示前后关联对象是一种“或”的关系。“包含A、B和C”、“包含A、B、C”是指A、 B、C三者都包含，“包含A、B或C”是指包含A、B、C三者之一，“包含A、B 和/或C”是指包含A、B、C三者中任1个或任2个或3个。应当理解，在本发明中，“与A对应的B”、“与A相对应的B”、“A与B相对应”或者“B与A相对应”，表示B与A相关联，根据A可以确定B。根据A 确定B并不意味着仅仅根据A确定B，还可以根据A和/或其他信息确定B。A 与B的匹配，是A与B的相似度大于或等于预设的阈值。取决于语境，如在此所使用的“若”可以被解释成为“在……时”或“当……时”或“响应于确定”或“响应于检测”。下面以具体地实施例对本发明的技术方案进行详细说明。下面这几个具体的实施例可以相互结合，对于相同或相似的概念或过程可能在某些实施例不再赘述。正如背景技术中所述，现有技术中针对心脏回顾重建一般是采取将不同心动周期内同一期相范围的数据组合起来重建得到图像；而实际情况是心脏运动轨迹在每个心动周期内并不是完美重复，在扫描过程中由于患者的心率会发生变化，患者呼吸咳嗽等情况，会导致真实心脏形态也发生变化，从而出现由于患者心脏搏动状态与ECG信号周期之间的不一致或患者心脏在跳动过程中的非周期性变化导致重建图像伪影的问题。为此，本发明提出了一种在用户选定的目标重建期相附近自适应挑选不同心动周期内的数据范围，使得不同心动周期内挑选的数据范围对应相同的心脏运动状态的方法，具体如下：实施例1：本发明提供一种心脏螺旋回顾重建数据挑选方法，如图1所示其流程图，包括：在在心脏螺旋回顾扫描重建时，首先得到同步有患者ECG信息的扫描数据，然后在重建任务进行时，需要对扫描数据进行挑选，具体挑选步骤如下：步骤1、确定需要图像重建的关注位置。在本步骤中，对于心脏重建而言，不同位置处的运动伪影程度存在很大不同，通常来说心脏右冠脉血管运动幅度要大的多，而右冠中段又是心脏重建中运动伪影出现几率最大的地方，所以需要预先确定一个关注位置S，如图2中的S所示。该关注位置可以通过使用者在定位片上手动标记得到；也可以通过计算心脏重建范围简单推断右冠中段所在位置范围得到；还可以通过应用较复杂的识别算法基于预先重建的心脏整体图像来得到。步骤2、确定所述关注位置的最佳重建期相。步骤3、确定所述最佳重建期相所在的第一心动周期，用于重建出所述第一心动周期内在最佳重建期相的第一图像序列。在步骤2-3中，在得到需要关注的图像位置后，需要先确定该关注位置处的最佳重建期相，该最佳重建期相是指多个心脏运动期相中的心脏运动量最小的运动期相，也就是说在该期相下的心脏回顾重建图像所产生的运动伪影最小。确定该关注位置处的最佳重建期相的方法包括但不限于：1.针对该关注位置按照预设期相间隔重建0％-99％范围内的所有期相对应的图像，通过计算所有期相范围内同一位置处的图像差异，将差异最小所对应的期相确定为重建最佳期相PS；2.根据实际应用按照患者采样心率与重建目标相位规律计算得到需要重建的目标期相范围，采用图像信息熵计算方法来评价目标期相范围内所有图像的清晰度，将其中清晰度最高的图像的期相作为最佳重建期相；3.在软件界面中提供给使用者相应接口获取相关范围和期相间隔参数，将所有期相范围图像展示给用户通过接口得到用户认为图像最佳的重建期相PS。在确定关注位置S处最佳重建期相为PS所用的数据范围，也就确定该最佳重建期相为PS所对应的心动周期PS，从而重建出该数据范围所能重建出的全部图像，即第一图像序列。步骤4、对第二心动周期内在预设期相范围内的图像进行重建得到第二图像序列。在步骤4中，第二心动周期包括与第一心动周期相邻的前一心动周期或者后一心动周期。预设期相范围可根据技术人员的经验进行指定，范围需要保证在0％- 99％之间。对预设期相范围内的图像进行重建得到第二图像序列。步骤5、将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相。在步骤5中，将第一图像序列与第二图像序列中的重叠图像进行比较的过程中，需要先选出其中图像差异度小于预设阈值的至少一个图像；然后判断所述至少一个图像的对应期相与所述第一心动周期的最佳重建期相之间的期相距离是否在预设期相阈值范围内，如果在该预设期相阈值范围内则将该对应期相作为第二心动周期内的最佳重建期相。例如：第二图像序列中有五张图像是与第一图像序列有所重叠的，将上述五张图像与第一图像序列进行比对，其中第一图像、第二图像和第三图像均与第一图像序列中的图像相似，差异度均小于一定阈值；再分别将第一图像、第二图像和第三图像对应的期相与第一图像序列的最佳重建期相PS进行期相距离判断，第三图像的期相与最佳重建期相PS的期相距离为5％，第二图像的期相与最佳重建期相PS的期相距离为3％，第一图像的期相与最佳重建期相PS的期相距离为1％，预设期相阈值范围为，因此，只有第一图像所对应的期相符合要求，即将第一图像所对应的期相作为第二心动周期内的最佳重建期相。步骤6、将所述第二心动周期作为第一心动周期，重复步骤2-5，直至确定每个心动周期内的最佳重建期相为止。在步骤6中，根据上述方法从第一心动周期开始向两侧进行扩展，依次确定整个心脏所需的每个心动周期内的最佳重建期相，例如：所有的心动周期包括： R1、R2...Rs-1、Rs、Rs+1、Rs+2...；当确定完第一心动周期Rs的最佳重建期相后，会根据上述方法确定与Rs相邻的第二心动周期Rs-1或者Rs+1的最佳重建期相；然后再将Rs-1或者Rs+1作为第一心动周期，来根据上述方法确定与Rs-1相邻的第二心动周期Rs-2的最佳重建期相、与Rs+1相邻的第二心动周期Rs+2的最佳重建期相；最后通过这种扩展方式依次确定每个心动周期的最佳重建期相。如图2 所示，心脏能够用在4个心动周期内曝光的数据重建完成：AA’+BB’+CC’+DD’。其中每个心动周期范围内可用于重建的时间范围用浅灰色长柱标出，时间范围的中心所处期相为P1、P2、P3、P4，用于重建的数据用深灰色短柱表示。在通常的实现方法中每个心动周期内所选数据段的期相是相同的，在本发明中，为了使得不同心动周期内所用数据重建得到的心脏图像具有更一致的形态，最终挑选出来的各心动周期内的重建期相不一定是相同的，即P1、P2、P3、P4 不一定是同一值。本发明提供的心脏螺旋回顾重建数据挑选方法，通过确定需要图像重建的关注位置，所述关注位置为可能出现伪影的位置；确定所述关注位置的最佳重建期相，其中最佳重建期相是指多个心脏运动期相中的心脏运动量最小的心脏运动期相；确定所述最佳重建期相所在的第一心动周期，用于重建出所述第一心动周期内在最佳重建期相的第一图像序列；对第二心动周期内在预设期相范围内的图像进行重建得到第二图像序列，其中第二心动周期包括与第一心动周期相邻的前一心动周期或者后一心动周期；将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相；将所述第二心动周期作为第一心动周期，重复上述步骤，直至确定每个心动周期内的最佳重建期相为止。本发明能够降低心脏螺旋回顾扫描重建不同心动周期选择的数据运动状态不一致概率，矫正因心脏在不同心动周期内搏动状态不一致或者其它原因导致在相邻心动周期选择同一期相导致的数据不一致伪影，从而实现改善心脏螺旋回顾重建中产生的运动伪影的技术效果。实施例2：本发明的实施例还提供一种心脏螺旋回顾重建方法，包括：基于权利要求1-5任意一项所述的心脏螺旋回顾重建数据挑选方法挑选重建数据；对所述重建数据进行重建得到心脏重建图像。在一个实施例中，所述方法还包括：根据每个心动周期内的最佳重建期相进行数据挑选重建得到心脏重建图像序列的过程中，如果任意两相邻心动周期挑选的数据得到的重建图像存在不同程度的重叠区域，则计算两组重建图像之间的差异点，并根据运动形变场对所述差异点进行处理，以消除心脏螺旋回顾重建中产生的运动伪影。在该实施例中，会按照各心动周期内分别得到的最佳重建期相进行数据挑选重建整个心脏图像序列。在重建过程中，任意两相邻心动周期RS-1、RS+1挑选的数据得到的重建图像存在不同程度的重叠区域，如图2中重建数据所示，AA’与BB’的重叠区域A’B、BB’与CC’的重叠区域B’C、 CC’与DD’的重叠区域C’D。根据重叠区域，通过算法可以计算相邻两组重建图像之间的细微差异，进一步计算可以得到相邻心动周期内的相对运动场MVF，从而在图像重建过程中应用运动形变场MVF来更进一步消除相邻数据段重建所带来的数据不一致运动伪影。实施例3：本发明的实施例还提供一种心脏螺旋回顾重建数据挑选装置，如图3所示其结构图，包括：关注位置确定模块，用于确定需要图像重建的关注位置，所述关注位置为可能出现伪影的位置；第一最佳重建期相确定模块，用于确定所述关注位置的最佳重建期相，其中最佳重建期相是指多个心脏运动期相中的心脏运动量最小的心脏运动期相；第一图像序列重建模块，用于确定所述最佳重建期相所在的第一心动周期，用于重建出所述第一心动周期内在最佳重建期相的第一图像序列；第二图像序列重建模块，用于对第二心动周期内在预设期相范围内的图像进行重建得到第二图像序列，其中第二心动周期包括与第一心动周期相邻的前一心动周期或者后一心动周期；第二最佳重建期相确定模块，用于将所述第一图像序列与所述第二图像序列的重叠图像进行比较，将满足要求的第二图像序列中的图像所对应的重建期相，作为第二心动周期内的最佳重建期相；扩展模块，用于将所述第二心动周期作为第一心动周期，重复执行第一最佳重建期相确定模块、第一图像序列重建模块、第二图像序列重建模块、第二最佳重建期相确定模块，直至确定每个心动周期内的最佳重建期相为止。在一个实施例中，所述第一最佳重建期相确定模块，包括：图像重建单元，用于对所述关注位置按照预设期相间隔重建0％-99％范围内的所有期相对应的图像；最佳重建期相确定单元，用于计算所有期相范围内同一关注位置的所有图像的图像差异，将图像差异最小的图像所对应的期相确定为最佳重建期相。其中，可读存储介质可以是计算机存储介质，也可以是通信介质。通信介质包括便于从一个地方向另一个地方传送计算机程序的任何介质。计算机存储介质可以是通用或专用计算机能够存取的任何可用介质。例如，可读存储介质耦合至处理器，从而使处理器能够从该可读存储介质读取信息，且可向该可读存储介质写入信息。当然，可读存储介质也可以是处理器的组成部分。处理器和可读存储介质可以位于专用集成电路中。另外，该ASIC可以位于用户设备中。当然，处理器和可读存储介质也可以作为分立组件存在于通信设备中。可读存储介质可以是只读存储器、随机存取存储器、CD-ROM、磁带、软盘和光数据存储设备等。本发明还提供一种程序产品，该程序产品包括执行指令，该执行指令存储在可读存储介质中。设备的至少一个处理器可以从可读存储介质读取该执行指令，至少一个处理器执行该执行指令使得设备实施上述的各种实施方式提供的方法。在上述终端或者服务器的实施例中，应理解，处理器可以是中央处理单元，还可以是其他通用处理器、数字信号处理器 等。通用处理器可以是微处理器或者该处理器也可以是任何常规的处理器等。结合本发明所公开的方法的步骤可以直接体现为硬件处理器执行完成，或者用处理器中的硬件及软件模块组合执行完成。最后应说明的是：以上各实施例仅用以说明本发明的技术方案，而非对其限制；尽管参照前述各实施例对本发明进行了详细的说明，本领域的普通技术人员应当理解：其依然可以对前述各实施例所记载的技术方案进行修改，或者对其中部分或者全部技术特征进行等同替换；而这些修改或者替换，并不使相应技术方案的本质脱离本发明各实施例技术方案的范围。
