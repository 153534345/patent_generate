标题title
一种遥操作超声扫描机器人姿态测试方法、装置及设备
摘要abst
本发明涉及一种遥操作超声扫描机器人姿态测试方法、装置及设备，该方法包括：建立与医生端组件、病人端组件的通信连接；构建医生端组件测试空间；获取测试空间下医生端精度测试组件的初始姿态信息及根据姿态轨迹调整后的目标姿态信息；获取病人端组件的病人端姿态变化量；根据初始姿态信息、目标姿态信息，比对病人端姿态变化量。本发明实施例提供的遥操作超声扫描机器人姿态测试方法、装置及设备，通过工控机分别建立与医生端组件以及病人端组件的通信连接，获取医生端组件在姿态轨迹下的起始姿态信息与目标姿态信息，与所获取的病人端姿态变化量进行对比，判定医生端组件姿态偏移情况，降低对超声扫描机器人检测精度的影响。
权利要求书clms
1.一种遥操作超声扫描机器人姿态测试方法，应用于工控机，其特征在于，包括：分别建立与医生端组件、病人端组件的通信连接；构建所述医生端组件的测试空间；获取所述测试空间下所述医生端精度测试组件的初始姿态信息以及根据姿态轨迹调整后形成的目标姿态信息；获取病人端组件根据所述姿态轨迹随动产生的病人端姿态变化量；根据所述初始姿态信息、所述目标姿态信息，比对所述病人端姿态变化量。2.根据权利要求1所述的遥操作超声扫描机器人姿态测试方法，其特征在于，所述分别建立与医生端组件、病人端组件的通信连接之后，还包括：建立所述医生端组件与所述病人端组件的对应关系。3.根据权利要求1所述的遥操作超声扫描机器人姿态测试方法，其特征在于，所述获取所述测试空间下所述医生端精度测试组件的初始姿态信息以及根据姿态轨迹调整后形成的目标姿态信息，具体包括：设置绕X轴的第一姿态轨迹、绕Y轴的第二姿态轨迹以及绕Z轴的第三姿态轨迹；分别获取所述第一姿态轨迹对应的第一初始姿态信息以及第一目标姿态信息、所述第二姿态轨迹对应的第二初始姿态信息以及第二目标姿态信息、所述第三姿态轨迹对应的第三初始姿态信息以及第三目标姿态信息。4.根据权利要求1所述的遥操作超声扫描机器人姿态测试方法，其特征在于，所述获取病人端组件根据所述姿态轨迹随动产生的病人端姿态变化量之后，还包括：至少两次获取所述初始姿态信息、所述目标姿态信息以及所述病人端姿态变化量。5.根据权利要求4所述的遥操作超声扫描机器人姿态测试方法，其特征在于，所述比对所述病人端姿态变化量，具体包括：根据所述初始姿态信息以及所述目标姿态信息，计算得到医生端姿态变化量的第一均值；计算得到所述病人端姿态变化量的第二均值；比对所述第一均值及第二均值，得到姿态准确度参数。6.根据权利要求3所述的遥操作超声扫描机器人姿态测试方法，其特征在于，所述获取病人端组件根据所述姿态轨迹随动产生的病人端姿态变化量，具体包括：分别获取所述第一姿态轨迹、所述第二姿态轨迹、所述第三姿态轨迹下的第一病人端姿态变化量、第二病人端姿态变化量、第三病人端姿态变化量。7.根据权利要求6所述的遥操作超声扫描机器人姿态测试方法，其特征在于，所述比对所述病人端姿态变化量，具体包括：根据所述第一病人端姿态变化量、所述第二病人端姿态变化量、所述第三病人端姿态变化量，得到重复性评价参数。8.一种遥操作超声扫描机器人姿态测试装置，应用权利要求1-7任一所述的方法，其特征在于，包括：通信模块，用于分别建立与医生端组件、病人端组件的通信连接；测试空间构建模块，用于构建所述医生端组件的测试空间；第一信息获取模块，用于获取所述测试空间下所述医生端精度测试组件的初始姿态信息以及根据姿态轨迹调整后形成的目标姿态信息；第二信息获取模块，用于获取病人端组件根据所述姿态轨迹随动产生的病人端姿态变化量；比对模块，用于根据所述初始姿态信息、所述目标姿态信息，比对所述病人端姿态变化量。9.一种电子设备，其特征在于，所述电子设备包括：一个或多个处理器；存储器，用于存储一个或多个程序；当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如权利要求1-7中任一所述的遥操作超声扫描机器人姿态测试方法。10.一种包含计算机可执行指令的存储介质，其特征在于，所述计算机可执行指令在由计算机处理器执行时用于执行如权利要求1-7中任一所述的遥操作超声扫描机器人姿态测试方法。
说明书desc
技术领域本发明涉及超声扫描技术领域，尤其涉及一种遥操作超声扫描机器人姿态测试方法、装置及设备。背景技术现阶段，超声扫描机器人通过采用分离式设计，即医生端与病人端采用无线通信的方式，在医生通过手持仿形探头在支撑板上移动的同时，实现病人端所属的超声探头根据仿形探头的位置信息调整检测位置并完成检测的效果。但上述分离式超声扫描机器人在工作过程中也存在一定程度的不足。首先医生推动手持仿形探头的过程中，仿形探头相较于初始姿态会产生偏移，并且这种偏移不会在检测的间隔期消除，进而会影响病人端超声探头对检测位置的选择，从而降低超声扫描机器人的检测精度。发明内容本发明提供一种遥操作超声扫描机器人姿态测试方法、装置及设备，目的在于通过比对医生端组件与病人端组件的姿态变化量，降低姿态变化对超声扫描机器人检测精度的影响。第一方面，本发明实施例提供了一种遥操作超声扫描机器人姿态测试方法，应用于工控机，包括：分别建立与医生端组件、病人端组件的通信连接；构建医生端组件的测试空间；获取测试空间下医生端精度测试组件的初始姿态信息以及根据姿态轨迹调整后形成的目标姿态信息；获取病人端组件根据姿态轨迹随动产生的病人端姿态变化量；根据初始姿态信息、目标姿态信息，比对病人端姿态变化量。可选地，分别建立与医生端组件、病人端组件的通信连接之后，还包括：建立医生端组件与病人端组件的对应关系。可选地，获取测试空间下医生端精度测试组件的初始姿态信息以及根据姿态轨迹调整后形成的目标姿态信息，具体包括：设置绕X轴的第一姿态轨迹、绕Y轴的第二姿态轨迹以及绕Z轴的第三姿态轨迹；分别获取第一姿态轨迹对应的第一初始姿态信息以及第一目标姿态信息、第二姿态轨迹对应的第二初始姿态信息以及第二目标姿态信息、第三姿态轨迹对应的第三初始姿态信息以及第三目标姿态信息。可选地，获取病人端组件根据姿态轨迹随动产生的病人端姿态变化量之后，还包括：至少两次获取初始姿态信息、目标姿态信息以及病人端姿态变化量。可选地，比对病人端姿态变化量，具体包括：根据初始姿态信息以及目标姿态信息，计算得到医生端姿态变化量的第一均值；计算得到病人端姿态变化量的第二均值；比对第一均值及第二均值，得到姿态准确度参数。可选地，获取病人端组件根据姿态轨迹随动产生的病人端姿态变化量，具体包括：分别获取第一姿态轨迹、第二姿态轨迹、第三姿态轨迹下的第一病人端姿态变化量、第二病人端姿态变化量、第三病人端姿态变化量。可选地，比对病人端姿态变化量，具体包括：根据第一病人端姿态变化量、第二病人端姿态变化量、第三病人端姿态变化量，得到重复性评价参数。第二方面，本发明实施例提出了一种遥操作超声扫描机器人姿态测试装置，应用第一方面所提出的遥操作超声扫描机器人姿态测试方法，包括：通信模块，用于分别建立与医生端组件、病人端组件的通信连接；测试空间构建模块，用于构建医生端组件的测试空间；第一信息获取模块，用于获取测试空间下医生端精度测试组件的初始姿态信息以及根据姿态轨迹调整后形成的目标姿态信息；第二信息获取模块，用于获取病人端组件根据姿态轨迹随动产生的病人端姿态变化量；比对模块，用于根据初始姿态信息、目标姿态信息，比对病人端姿态变化量。第三方面，本发明实施例提供了一种电子设备，所述电子设备包括：一个或多个处理器；存储器，用于存储一个或多个程序；当所述一个或多个程序被所述一个或多个处理器执行，使得所述一个或多个处理器实现如本发明任意实施例提供的遥操作超声扫描机器人姿态测试方法。第四方面，本发明实施例提供了一种包含计算机可执行指令的存储介质，所述计算机可执行指令在由计算机处理器执行时用于执行如本发明任意实施例提供的遥操作超声扫描机器人姿态测试方法。本发明实施例提供的一种遥操作超声扫描机器人姿态测试方法、装置及设备，其中该方法通过工控机分别建立与医生端组件以及病人端组件的通信连接，同时获取医生端组件在姿态轨迹下的起始姿态信息与目标姿态信息，并与所获取的病人端姿态变化量进行对比，从而判定医生端组件姿态偏移情况，降低对超声扫描机器人检测精度的影响。附图说明图1为本发明实施例提供的一种遥操作超声扫描机器人姿态测试方法的流程图；图2为本发明实施例提供的一种遥操作超声扫描机器人姿态测试方法中形成目标姿态信息的流程图；图3是本发明本发明实施例提供的一种遥操作超声扫描机器人姿态测试方法中得到姿态准确度参数的流程图；图4是本发明实施例提供的一种遥操作超声扫描机器人姿态测试装置的结构示意图；图5是是本发明实施例提供的一种遥操作超声扫描机器人姿态测试设备的结构示意图；图6是本发明本发明实施例提供的一种遥操作超声扫描机器人姿态测试方法中测试空间的示意图。具体实施方式下面结合附图和实施例对本发明作进一步的详细说明。可以理解的是，此处所描述的具体实施例仅仅用于解释本发明，而非对本发明的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与本发明相关的部分而非全部结构。现有超声扫描机器人能够采用分离式设计，即医生端与病人端采用无线通信的方式，在医生通过仿形探头在支撑板上移动的同时，实现病人端所属的超声探头根据仿形探头的位置信息调整检测位置并完成检测。但在医生推动手持仿形探头的过程中，仿形探头相较于初始姿态会产生偏移，并且这种偏移不会在检测的间隔期消除，进而会影响病人端超声探头对检测位置的选择，从而降低超声扫描机器人的检测精度。实施例一本发明针对以上不足，提出一种遥操作超声扫描机器人姿态测试方法，应用于工控机，如图1所示，包括：S10：分别建立与医生端组件、病人端组件的通信连接；这里需要说明的是，医生端组件包括第一传感器，病人端组件包括第二传感器，第一传感器与第二传感器均配置有通信单元和惯性测量单元，用以建立与工控机的通信连接，并获取惯性测量单元所测量的三轴姿态角以及加速度等信息。S20：构建医生端组件的测试空间；在构建测试空间之间需要调整医生端组件的位置。具体的调整过程如下：将医生端组件放置于水平桌面，并将仿形探头固定于竖直方向，并将第一传感器固定于仿形探头上方位置以保证两者同步移动。同时将病人端组件固定于病人端超声探头所属机械臂的末端，使第二传感器与超声探头同步移动。这里需要补充的是，在建立与医生端组件、病人端组件的通信连接之后，还包括：建立医生端组件与病人端组件的对应关系。具体的，工控机通过配置第一传感器与第二传感器中惯性测量单元的端口号，将两者或获取的信息建立关联关系。S30：获取测试空间下医生端精度测试组件的初始姿态信息以及根据姿态轨迹调整后形成的目标姿态信息；通常情况下，医生在操作仿形探头的过程中会针对不断调整仿形探头的姿态，从而改变病人端超声探头与病人的接触角度，以提高检测效果。姿态调整的轨迹可以通过测试空间所在的坐标系进行展示，上述坐标系包括但不限于三维坐标系以及极坐标系，相应的，初始姿态信息以及目标姿态信息表现为三维坐标系和/或极坐标系下的坐标值。S40：获取病人端组件根据姿态轨迹随动产生的病人端姿态变化量；上述姿态变化量通过第二传感器中惯性测量单元获得。S50：根据初始姿态信息、目标姿态信息，比对病人端姿态变化量。通过计算目标姿态信息与初始姿态信息的坐标差值，并将坐标差值与姿态变化量进行比较，得到医生端组件与病人端组件的姿态差。本发明实施例提供的一种遥操作超声扫描机器人姿态测试方法，通过工控机分别建立与医生端组件以及病人端组件的通信连接，同时获取医生端组件在姿态轨迹下的起始姿态信息与目标姿态信息，并与所获取的病人端姿态变化量进行对比，从而判定医生端组件姿态偏移情况，降低对超声扫描机器人检测精度的影响。实施例二进一步如图2所示，本实施例在上述技术方案的基础上进一步细化，测试空间包括包含X轴、Y轴及Z轴的三维坐标空间。进而步骤S30具体包括：S31：设置绕X轴的第一姿态轨迹、绕Y轴的第二姿态轨迹以及绕Z轴的第三姿态轨迹；S32：分别获取第一姿态轨迹对应的第一初始姿态信息以及第一目标姿态信息、第二姿态轨迹对应的第二初始姿态信息以及第二目标姿态信息、第三姿态轨迹对应的第三初始姿态信息以及第三目标姿态信息。一种优选的实施方式中，如图6所示，以仿形探头所处的竖直方向为Z轴，以仿形探头中探头的长度方向为X轴、宽度为Y轴，可以得到绕X轴转动的第一姿态轨迹PAs1—＞PAe1、绕Y轴转动的第二姿态轨迹PAs2—＞PAe2，以及绕Z轴转动的第三姿态轨迹PAs3—＞PAe3，进而分析仅单一坐标维度下绕动所产生的姿态变化。进而通过分析第一姿态轨迹得到第一初始姿态信息以及第一目标姿态信息；通过分析第二姿态轨迹得到第二初始姿态信息以及第二目标姿态信息；通过分析第三姿态轨迹得到第三初始姿态信息以及第三目标姿态信息，之后求得三种姿态轨迹下医生端姿态变化量的均值。并且在分析上述三种姿态轨迹的过程中，对应获取病人端姿态变化量，继而通过分别求取病人端姿态变化量的均值，并比较医生端姿态变化量的均值与病人端姿态变化量的均值。本发明实施例在实施例一的基础上，通过将医生端组件中仿形探头以绕三维坐标轴转动方式进行姿态轨迹的计算，并将计算的结果通过均值的方式与三次对应病人端姿态变化量的均值进行比对，从而判定医生端组件姿态偏移情况。实施例三本实施例在上述技术方案的基础上进一步细化，步骤S40之后，还包括：至少两次获取初始姿态信息、目标姿态信息以及病人端姿态变化量。这里需要说明的是，为了提高测试的准确性，对于仿形探头的初始姿态信息以及目标姿态信息需要多次获取并求得平均值。相应地，如图3所示，步骤S50具体包括：S51：根据初始姿态信息以及目标姿态信息，计算得到医生端姿态变化量的第一均值；一种优选的计算方式中，首先根据初始姿态信息以及目标姿态信息，计算出多个医生端姿态变化量，之后对上述医生端姿态变化量取均值。S52：计算得到病人端姿态变化量的第二均值；S53：比对第一均值及第二均值，得到姿态准确度参数。实施例四本实施例在上述实施例二及实施例三的基础上进一步细化，在实际的测量过程中，需要针对第一姿态轨迹、第二姿态轨迹以及第三姿态轨迹下的初始姿态信息以及目标姿态信息进行多次获取，并根据每次姿态轨迹所对应的初始姿态信息以及目标姿态信息计算医生端姿态变化量。例如，针对上述第一姿态轨迹，于测试空间对应8个顶点进行分别测试，对于每一个顶点，上述第一姿态轨迹重复测试10次，对应获得10个第一初始姿态信息以及对应10个第一目标姿态信息，求得每一次的医生端姿态变化量，共计获得80次医生端姿态变化量。同理针对第二姿态轨迹以及第三姿态轨迹，重复上述操作，这里不再赘述。最终将获得的240次医生端姿态变化量的第一均值。相应地，在获取上述医生端姿态变化量的同时，一并获取对应病人端姿态变化量，得到第二均值，具体包括：分别获取第一姿态轨迹、第二姿态轨迹、第三姿态轨迹下的第一病人端姿态变化量、第二病人端姿态变化量、第三病人端姿态变化量。同时，根据上述第一病人端姿态变化量、第二病人端姿态变化量、第三病人端姿态变化量，得到重复性评价参数。上述姿态精准度参数计算公式如下：其中，APPi表示第i次测试中，医生端姿态变化量；其中APDi表示第i次测试中，病人端姿态变化量；表示病人端姿态变化量的第二均值；表示医生端姿态变化量的第一均值；n表示测试次数。这里需要说明的是，上述惯性测量单元主要用以测量病人端组件以及医生端组件的相对欧拉角。上述重复性评价参数计算公式如下：其中，asj、bsj、csj分别表示第一姿态轨迹下、第二姿态轨迹以及第三姿态轨迹下，病人端姿态变化量的欧拉角描述；RPa、RPb、RPc分别表示第一姿态轨迹下、第二姿态轨迹以及第三姿态轨迹下，病人端姿态变化量的欧拉角描述的方差值。本发明实施例在实施例一的基础上，对测试空间上的8个顶点按照三组姿态轨迹分别重复获取对应姿态轨迹下的医生端姿态变化量并求得均值，同时重复获取三组姿态轨迹下病人端姿态轨迹变化量并求得均值，通过比对求得姿态准确度参数，并且根据病人端姿态轨迹变化量求得重复性评价参数，从而有利于判定医生端组件姿态偏移情况，降低对超声扫描机器人检测精度的影响。实施例五本发明还提出了一种遥操作超声扫描机器人姿态测试装置，应用实施例1-4任一的遥操作超声扫描机器人姿态测试方法，如图4所示，包括：通信模块01，用于分别建立与医生端组件、病人端组件的通信连接；测试空间构建模块02，用于构建医生端组件的测试空间；第一信息获取模块03，用于获取测试空间下医生端精度测试组件的初始姿态信息以及根据姿态轨迹调整后形成的目标姿态信息；第二信息获取模块04，用于获取病人端组件根据姿态轨迹随动产生的病人端姿态变化量；比对模块05，用于根据初始姿态信息、目标姿态信息，比对病人端姿态变化量。本发明实施例所提供的一种遥操作超声扫描机器人姿态测试装置，采用与遥操作超声扫描机器人姿态测试方法相同的技术手段，达到相同的技术效果，这里不再赘述。图5为本发明实施例五提供的一种遥操作超声扫描机器人姿态测试设备的结构示意图，如图5所示，该遥操作超声扫描机器人姿态测试设备包括处理器510、存储器520、输入装置530和输出装置540；遥操作超声扫描机器人姿态测试设备中处理器510的数量可以是一个或多个，图5中以一个处理器510为例；遥操作超声扫描机器人姿态测试设备中的处理器510、存储器520、输入装置530和输出装置540可以通过总线或其他方式连接，图5中以通过总线连接为例。存储器520作为一种计算机可读存储介质，可用于存储软件程序、计算机可执行程序以及模块，如本发明实施例中的遥操作超声扫描机器人姿态测试方法对应的程序指令/模块。处理器510通过运行存储在存储器520中的软件程序、指令以及模块，从而执行遥操作超声扫描机器人姿态测试设备的各种功能应用以及数据处理，即实现上述的遥操作超声扫描机器人姿态测试方法。存储器520可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序；存储数据区可存储根据终端的使用所创建的数据等。此外，存储器520可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他非易失性固态存储器件。在一些实例中，存储器520可进一步包括相对于处理器510远程设置的存储器，这些远程存储器可以通过网络连接至遥操作超声扫描机器人姿态测试设备。上述网络的实例包括但不限于互联网、企业内部网、局域网、移动通信网及其组合。输入装置530可用于接收输入的数字或字符信息，以及产生与遥操作超声扫描机器人姿态测试设备的用户设置以及功能控制有关的键信号输入。输出装置540可包括显示屏等显示设备。实施例六本发明实施例六还提供一种包含计算机可执行指令的存储介质，所述计算机可执行指令在由计算机处理器执行时用于执行一种遥操作超声扫描机器人姿态测试方法，包括：分别建立与医生端组件、病人端组件的通信连接；构建医生端组件的测试空间；获取测试空间下所述医生端精度测试组件的初始姿态信息以及根据姿态轨迹调整后形成的目标姿态信息；获取病人端组件根据姿态轨迹随动产生的病人端姿态变化量；根据初始姿态信息、目标姿态信息，比对病人端姿态变化量。当然，本发明实施例所提供的一种包含计算机可执行指令的存储介质，其计算机可执行指令不限于如上所述的方法操作，还可以执行本发明任意实施例所提供的遥操作超声扫描机器人姿态测试方法中的相关操作。通过以上关于实施方式的描述，所属领域的技术人员可以清楚地了解到，本发明可借助软件及必需的通用硬件来实现，当然也可以通过硬件实现，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如计算机的软盘、只读存储器、随机存取存储器、闪存、硬盘或光盘等，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述的方法。值得注意的是，上述遥操作超声扫描机器人姿态测试装置的实施例中，所包括的各个单元和模块只是按照功能逻辑进行划分的，但并不局限于上述的划分，只要能够实现相应的功能即可；另外，各功能单元的具体名称也只是为了便于相互区分，并不用于限制本发明的保护范围。通过以上关于实施方式的描述，所属领域的技术人员可以清楚地了解到，本发明可借助软件及必需的通用硬件来实现，当然也可以通过硬件实现，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品可以存储在计算机可读存储介质中，如计算机的软盘、只读存储器、随机存取存储器、闪存、硬盘或光盘等，包括若干指令用以使得一台计算机设备执行本发明各个实施例所述的方法。值得注意的是，上述实施例中，所包括的各个单元和模块只是按照功能逻辑进行划分的，但并不局限于上述的划分，只要能够实现相应的功能即可；另外，各功能单元的具体名称也只是为了便于相互区分，并不用于限制本发明的保护范围。虽然，上文中已经用一般性说明、具体实施方式及试验，对本发明作了详尽的描述，但在本发明基础上，可以对之作一些修改或改进，这对本领域技术人员而言是显而易见的。因此，在不偏离本发明精神的基础上所做的这些修改或改进，均属于本发明要求保护的范围。
