标题title
一种用于胃镜麻醉过程的患者体征实时监测系统
摘要abst
本发明涉及数据处理领域，具体涉及一种用于胃镜麻醉过程的患者体征实时监测系统，该系统包括：获取氧饱和度曲线、血压曲线以及心率曲线；将氧饱和度曲线划分为各个段，得到氧饱和度曲线的各个段以及各个段的段长；根据段之间的段长对氧饱和度曲线的各个段进行合并，获取氧饱和度曲线的各个状态段，获取血压曲线的各个状态段以及心率曲线的各个状态段；获取氧饱和度曲线的每个状态段中每个数据的受激程度，进而得到氧饱和度曲线的每个状态段中每个数据的重要程度，进而自适应氧饱和度曲线的每个状态段中每个数据的支点阈值；最后对氧饱和度曲线中的数据进行压缩，本发明旨在提高压缩效率的同时保留重要数据。
权利要求书clms
1.一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述系统包括：数据曲线采集模块，用于采集氧饱和度数据，绘制氧饱和度曲线；采集血压数据，绘制血压曲线；采集心率数据，绘制心率曲线；状态段获取模块，用于将氧饱和度曲线划分为各个段，得到氧饱和度曲线的各个段以及各个段的段长；根据段之间的段长对氧饱和度曲线的各个段进行合并，获取氧饱和度曲线的各个状态段；根据氧饱和度曲线的各个状态段对血压曲线以及心率曲线进行划分，得到血压曲线的各个状态段以及心率曲线的各个状态段；重要程度获取模块，用于根据氧饱和度曲线的每个状态段中每个数据的值以及斜率，获取氧饱和度曲线的每个状态段中每个数据的受激程度；获取血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度；根据氧饱和度曲线、血压曲线以及心率曲线的每个状态段中每个数据的受激程度，获取氧饱和度曲线的每个状态段中每个数据的重要程度；支点阈值获取模块，用于根据氧饱和度曲线的每个状态段中每个数据的重要程度，自适应氧饱和度曲线的每个状态段中每个数据的支点阈值；根据氧饱和度曲线的每个状态段中每个数据的支点阈值对氧饱和度曲线中的数据进行压缩。2.根据权利要求1所述的一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述将氧饱和度曲线划分为各个段，得到氧饱和度曲线的各个段以及各个段的段长，包括的步骤为：在胃镜麻醉过程中，通过医疗仪器获取患者每次心脏跳动的时间点，根据每次心脏跳动的时间点，将氧饱和度曲线划分为各个段，将氧饱和度曲线的每个段中数据的个数作为每个段的段长。3.根据权利要求1所述的一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述根据段之间的段长对氧饱和度曲线的各个段进行合并，获取氧饱和度曲线的各个状态段，包括的步骤为：预设关系度阈值；依次将氧饱和度曲线的第一个段记为首段，将氧饱和度曲线的第二个段记为当前段，从当前段与首段中获取段长最大值与段长最小值的比值，作为当前段的第一关系度，若当前段的第一关系度小于关系度阈值时，将首段与当前段合并为一个状态段，并进行标记；若当前段的第一关系度大于或等于关系度阈值时，将氧饱和度曲线的第三个段记为第一当前段，从第一当前段与首段中获取段长最大值与段长最小值的比值，作为第一当前段的第一关系度，从第一当前段与当前段中获取段长最大值与段长最小值的比值，作为第一当前段的第二关系度，若第一当前段的第一关系度或者第一当前段的第二关系度小于关系度阈值时，将首段、第一当前段以及首段与第一当前段的中间段合并为一个状态段，并进行标记，若第一当前段的第一关系度以及第一当前段的第二关系度均大于等于关系度阈值时，将第四个段记为第二当前段，获取第二当前段的第一关系度以及第二关系度，将第二当前段的第一关系度以及第二关系度分别与关系度阈值进行比较，以此类推，直至第当前段的第一关系度或者第/＞当前段的第二关系度小于关系度阈值时，将首段、第/＞当前段以及首段与第/＞前段的中间段合并为一个状态段，并进行标记；依次将未标记的氧饱和度曲线的第一个段记为首段，将未标记的氧饱和度曲线的第二个段记为当前段，获取当前段的第一关系度，若当前段的第一关系度小于关系度阈值时，将首段与当前段合并为一个状态段，并进行标记，若当前段的第一关系度大于或等于关系度阈值时，将未标记的第三个段记为第一当前段，获取第一当前段的第一关系度以及第二关系度，将第一当前段的第一关系度以及第二关系度分别与关系度阈值进行比较，以此类推，直至第当前段的第一关系度或者第/＞当前段的第二关系度小于关系度阈值时，将首段、第当前段以及首段与第/＞当前段的中间段合并为一个状态段，并进行标记；以此类推，直至氧饱和度曲线的各个段均被标记时停止，得到氧饱和度曲线的各个状态段。4.根据权利要求1所述的一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述根据氧饱和度曲线的每个状态段中每个数据的值以及斜率，获取氧饱和度曲线的每个状态段中每个数据的受激程度，包括的步骤为：获取氧饱和度曲线的每个状态段中每个数据的窗口；；式中，代表氧饱和度曲线的第/＞个状态段中第/＞个数据的受激程度；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的斜率；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有连续相邻的两个数据的差值绝对值的最大值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有连续相邻的两个数据的差值绝对值的最小值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有连续相邻的两个数据的差值绝对值的方差。5.根据权利要求4所述的一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述获取氧饱和度曲线的每个状态段中每个数据的窗口，包括的步骤为：预设窗口大小为，以氧饱和度曲线的第/＞个状态段中第/＞个数据为中心构建大小为/＞的窗口，得到氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口。6.根据权利要求1所述的一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述获取血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度，包括的步骤为：根据氧饱和度曲线的每个状态段中每个数据的受激程度的获取方法，获取血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度。7.根据权利要求1所述的一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述根据氧饱和度曲线、血压曲线以及心率曲线的每个状态段中每个数据的受激程度，获取氧饱和度曲线的每个状态段中每个数据的重要程度，包括的步骤为：；式中，代表氧饱和度曲线的第/＞个状态段中第/＞个数据的重要程度；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有数据的受激程度的方差；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中数据的个数；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中第/＞个数据的受激程度；/＞代表血压曲线的第/＞个状态段中第/＞个数据的窗口中第/＞个数据的受激程度；/＞代表心率曲线的第/＞个状态段中第/＞个数据的窗口中第/＞个数据的受激程度；/＞代表绝对值符号；获取氧饱和度曲线的第个状态段中第/＞个数据的窗口中每个连续相邻的两个数据之间的受激程度的差值绝对值，记为第一差值绝对值，将所有第一差值绝对值的均值，记为；在血压曲线的第个状态段中第/＞个数据的窗口中获取每个连续相邻的两个数据之间的受激程度的差值绝对值，记为第二差值绝对值，并将所有第二差值绝对值的均值记为第一均值，在心率曲线的第/＞个状态段中第/＞个数据的窗口中获取每个连续相邻的两个数据之间的受激程度的差值绝对值，记为第三差值绝对值，并将所有第三差值绝对值的均值记为第二均值，将第一均值与第二均值的均值记为/＞；/＞代表线性归一化函数。8.根据权利要求1所述的一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述根据氧饱和度曲线的每个状态段中每个数据的重要程度，自适应氧饱和度曲线的每个状态段中每个数据的支点阈值，包括的步骤为：；式中，代表氧饱和度曲线的第/＞个状态段中第/＞个数据的重要程度；/＞代表预设的全局支点阈值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的支点阈值。9.根据权利要求1所述的一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述根据氧饱和度曲线的每个状态段中每个数据的支点阈值对氧饱和度曲线中的数据进行压缩，包括的步骤为：根据氧饱和度曲线的每个状态段中每个数据的支点阈值，使用旋转门压缩算法对氧饱和度曲线中的数据进行压缩，得到压缩数据。10.根据权利要求1所述的一种用于胃镜麻醉过程的患者体征实时监测系统，其特征在于，所述采集氧饱和度数据，绘制氧饱和度曲线；采集血压数据，绘制血压曲线；采集心率数据，绘制心率曲线，包括的步骤为：采集胃镜麻醉过程中患者的心率数据、血压数据以及氧饱和度数据，采集数据的频率为1s/次，以时间点为横坐标，心率数据的幅值为纵坐标建立心率数据坐标系，将采集的每个心率数据映射到心率数据坐标系中并绘制心率曲线；以时间点为横坐标，血压数据的幅值为纵坐标建立血压数据坐标系，将采集的每个血压数据映射到血压数据坐标系中并绘制血压曲线；以时间点为横坐标，氧饱和度数据的幅值为纵坐标建立氧饱和度数据坐标系，将采集的每个氧饱和度数据映射到氧饱和度数据坐标系中并绘制氧饱和度曲线。
说明书desc
技术领域本发明涉及数据处理领域，具体涉及一种用于胃镜麻醉过程的患者体征实时监测系统。背景技术在胃镜检查等医疗过程中，患者体征实时监测系统的作用非常重要。实时监测患者的生命体征，有助于医护人员了解患者的整体生理状态，及时发现和处理任何异常，因此将监测结果实时反馈给医护人员，使其能够迅速做出决策，如果出现任何紧急情况，医护人员可以立即采取行动，提高患者的安全水平，降低患者在手术中发生严重事件的风险，因此需要对患者在胃镜麻醉过程中的监测数据进行压缩后传输。使用旋转门压缩算法对氧饱和度数据进行压缩时，对于患者受刺激的反应数据以及异常数据需要尽可能的保留细节，并且对于患者正常反应状态下的数据需要尽量的节省压缩空间，因此使用单一的支点阈值无法在保留患者受刺激的反应数据的同时，节省压缩空间的对患者正常反应状态下的数据进行压缩。发明内容为了解决上述问题，本发明提供一种用于胃镜麻醉过程的患者体征实时监测系统，所述系统包括：数据曲线采集模块，用于采集氧饱和度数据，绘制氧饱和度曲线；采集血压数据，绘制血压曲线；采集心率数据，绘制心率曲线；状态段获取模块，用于将氧饱和度曲线划分为各个段，得到氧饱和度曲线的各个段以及各个段的段长；根据段之间的段长对氧饱和度曲线的各个段进行合并，获取氧饱和度曲线的各个状态段；根据氧饱和度曲线的各个状态段对血压曲线以及心率曲线进行划分，得到血压曲线的各个状态段以及心率曲线的各个状态段；重要程度获取模块，用于根据氧饱和度曲线的每个状态段中每个数据的值以及斜率，获取氧饱和度曲线的每个状态段中每个数据的受激程度；获取血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度；根据氧饱和度曲线、血压曲线以及心率曲线的每个状态段中每个数据的受激程度，获取氧饱和度曲线的每个状态段中每个数据的重要程度；支点阈值获取模块，用于根据氧饱和度曲线的每个状态段中每个数据的重要程度，自适应氧饱和度曲线的每个状态段中每个数据的支点阈值；根据氧饱和度曲线的每个状态段中每个数据的支点阈值对氧饱和度曲线中的数据进行压缩。优选的，所述将氧饱和度曲线划分为各个段，得到氧饱和度曲线的各个段以及各个段的段长，包括的步骤为：在胃镜麻醉过程中，通过医疗仪器获取患者每次心脏跳动的时间点，根据每次心脏跳动的时间点，将氧饱和度曲线划分为各个段，将氧饱和度曲线的每个段中数据的个数作为每个段的段长。优选的，所述根据段之间的段长对氧饱和度曲线的各个段进行合并，获取氧饱和度曲线的各个状态段，包括的步骤为：预设关系度阈值；依次将氧饱和度曲线的第一个段记为首段，将氧饱和度曲线的第二个段记为当前段，从当前段与首段中获取段长最大值与段长最小值的比值，作为当前段的第一关系度，若当前段的第一关系度小于关系度阈值时，将首段与当前段合并为一个状态段，并进行标记；若当前段的第一关系度大于或等于关系度阈值时，将氧饱和度曲线的第三个段记为第一当前段，从第一当前段与首段中获取段长最大值与段长最小值的比值，作为第一当前段的第一关系度，从第一当前段与当前段中获取段长最大值与段长最小值的比值，作为第一当前段的第二关系度，若第一当前段的第一关系度或者第一当前段的第二关系度小于关系度阈值时，将首段、第一当前段以及首段与第一当前段的中间段合并为一个状态段，并进行标记，若第一当前段的第一关系度以及第一当前段的第二关系度均大于等于关系度阈值时，将第四个段记为第二当前段，获取第二当前段的第一关系度以及第二关系度，将第二当前段的第一关系度以及第二关系度分别与关系度阈值进行比较，以此类推，直至第当前段的第一关系度或者第/＞当前段的第二关系度小于关系度阈值时，将首段、第/＞当前段以及首段与第/＞前段的中间段合并为一个状态段，并进行标记；依次将未标记的氧饱和度曲线的第一个段记为首段，将未标记的氧饱和度曲线的第二个段记为当前段，获取当前段的第一关系度，若当前段的第一关系度小于关系度阈值时，将首段与当前段合并为一个状态段，并进行标记，若当前段的第一关系度大于或等于关系度阈值时，将未标记的第三个段记为第一当前段，获取第一当前段的第一关系度以及第二关系度，将第一当前段的第一关系度以及第二关系度分别与关系度阈值进行比较，以此类推，直至第当前段的第一关系度或者第/＞当前段的第二关系度小于关系度阈值时，将首段、第/＞当前段以及首段与第/＞当前段的中间段合并为一个状态段，并进行标记；以此类推，直至氧饱和度曲线的各个段均被标记时停止，得到氧饱和度曲线的各个状态段。优选的，所述根据氧饱和度曲线的每个状态段中每个数据的值以及斜率，获取氧饱和度曲线的每个状态段中每个数据的受激程度，包括的步骤为：获取氧饱和度曲线的每个状态段中每个数据的窗口；；式中，代表氧饱和度曲线的第/＞个状态段中第/＞个数据的受激程度；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的斜率；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有连续相邻的两个数据的差值绝对值的最大值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有连续相邻的两个数据的差值绝对值的最小值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有连续相邻的两个数据的差值绝对值的方差。优选的，所述获取氧饱和度曲线的每个状态段中每个数据的窗口，包括的步骤为：预设窗口大小为，以氧饱和度曲线的第/＞个状态段中第/＞个数据为中心构建大小为/＞的窗口，得到氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口。优选的，所述获取血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度，包括的步骤为：根据氧饱和度曲线的每个状态段中每个数据的受激程度的获取方法，获取血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度。优选的，所述根据氧饱和度曲线、血压曲线以及心率曲线的每个状态段中每个数据的受激程度，获取氧饱和度曲线的每个状态段中每个数据的重要程度，包括的步骤为：；式中，代表氧饱和度曲线的第/＞个状态段中第/＞个数据的重要程度；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有数据的受激程度的方差；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中数据的个数；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中第/＞个数据的受激程度；/＞代表血压曲线的第/＞个状态段中第/＞个数据的窗口中第/＞个数据的受激程度；/＞代表心率曲线的第/＞个状态段中第个数据的窗口中第/＞个数据的受激程度；/＞代表绝对值符号；获取氧饱和度曲线的第个状态段中第/＞个数据的窗口中每个连续相邻的两个数据之间的受激程度的差值绝对值，记为第一差值绝对值，将所有第一差值绝对值的均值，记为/＞；在血压曲线的第个状态段中第/＞个数据的窗口中获取每个连续相邻的两个数据之间的受激程度的差值绝对值，记为第二差值绝对值，并将所有第二差值绝对值的均值记为第一均值，在心率曲线的第/＞个状态段中第/＞个数据的窗口中获取每个连续相邻的两个数据之间的受激程度的差值绝对值，记为第三差值绝对值，并将所有第三差值绝对值的均值记为第二均值，将第一均值与第二均值的均值记为/＞；/＞代表线性归一化函数。优选的，所述根据氧饱和度曲线的每个状态段中每个数据的重要程度，自适应氧饱和度曲线的每个状态段中每个数据的支点阈值，包括的步骤为：；式中，代表氧饱和度曲线的第/＞个状态段中第/＞个数据的重要程度；/＞代表预设的全局支点阈值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的支点阈值。优选的，所述根据氧饱和度曲线的每个状态段中每个数据的支点阈值对氧饱和度曲线中的数据进行压缩，包括的步骤为：根据氧饱和度曲线的每个状态段中每个数据的支点阈值，使用旋转门压缩算法对氧饱和度曲线中的数据进行压缩，得到压缩数据。优选的，所述采集氧饱和度数据，绘制氧饱和度曲线；采集血压数据，绘制血压曲线；采集心率数据，绘制心率曲线，包括的步骤为：采集胃镜麻醉过程中患者的心率数据、血压数据以及氧饱和度数据，采集数据的频率为1s/次，以时间点为横坐标，心率数据的幅值为纵坐标建立心率数据坐标系，将采集的每个心率数据映射到心率数据坐标系中并绘制心率曲线；以时间点为横坐标，血压数据的幅值为纵坐标建立血压数据坐标系，将采集的每个血压数据映射到血压数据坐标系中并绘制血压曲线；以时间点为横坐标，氧饱和度数据的幅值为纵坐标建立氧饱和度数据坐标系，将采集的每个氧饱和度数据映射到氧饱和度数据坐标系中并绘制氧饱和度曲线。本发明具有如下有益效果：本发明首先采集氧饱和度曲线、血压曲线以及心率曲线，接着将氧饱和度曲线划分为各个段，接着对氧饱和度曲线的各个段进行合并，获取氧饱和度曲线的各个状态段，并得到血压曲线以及的各个状态段，便于后续对曲线之间对应的段之间的差异进行分析，根据氧饱和度曲线中数据的突变特征，获取氧饱和度曲线的每个状态段中每个数据的受激程度，得到血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度，进而得到氧饱和度曲线的每个状态段中每个数据的重要程度，自适应氧饱和度曲线的每个状态段中每个数据的支点阈值，重要程度越大的数据越可能为患者受刺激的反应数据或者是患者存在异常的反应数据，对其设置较小的支点阈值对其进行压缩，重要程度较小的数据可能为正常数据，对其设置较大的支点阈值进行压缩，提高了压缩效率，并且能够保留氧脑和度数据中的重要数据。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案和优点，下面将对实施例或现有技术描述中所需要使用的附图作简单的介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其它附图。图1为本发明一个实施例提供的一种用于胃镜麻醉过程的患者体征实时监测系统的系统框图。具体实施方式为了更进一步阐述本发明为达成预定发明目的所采取的技术手段及功效，以下结合附图及较佳实施例，对依据本发明提出的一种用于胃镜麻醉过程的患者体征实时监测系统，其具体实施方式、结构、特征及其功效，详细说明如下。在下述说明中，不同的“一个实施例”或“另一个实施例”指的不一定是同一实施例。此外，一或多个实施例中的特定特征、结构、或特点可由任何合适形式组合。除非另有定义，本文所使用的所有的技术和科学术语与属于本发明的技术领域的技术人员通常理解的含义相同。下面结合附图具体的说明本发明所提供的一种用于胃镜麻醉过程的患者体征实时监测系统的具体方案。实施例1请参阅图1，本实施例提出了一种用于胃镜麻醉过程的患者体征实时监测系统，该系统包括以下模块：数据曲线采集模块101，采集血压数据构成血压曲线，采集心率数据构成心率曲线，采集氧饱和度数据构成氧饱和度曲线。需要说明的是，本发明的目的是对患者在胃镜麻醉过程中的氧饱和度数据进行压缩，后续分析时需要结合患者在胃镜麻醉过程中的血压数据以及心率数据，因此需要首先需要采集氧饱和度数据、血压数据以及心率数据。在本发明实施例中，使用专业的医疗仪器，采集胃镜麻醉过程中患者的心率数据、血压数据以及氧饱和度数据，采集数据的频率为1s/次，以时间点为横坐标，心率数据的幅值为纵坐标建立心率数据坐标系，将采集的每个心率数据映射到心率数据坐标系中并绘制出心率曲线；以时间点为横坐标，血压数据的幅值为纵坐标建立血压数据坐标系，将采集的每个血压数据映射到血压数据坐标系中并绘制出血压曲线；以时间点为横坐标，氧饱和度数据的幅值为纵坐标建立氧饱和度数据坐标系，将采集的每个氧饱和度数据映射到氧饱和度数据坐标系中并绘制出氧饱和度曲线。至此，获取了血压曲线、心率曲线以及氧饱和度曲线。状态段获取模块102，将氧饱和度曲线划分为各个段，根据两个段中的段长最大值与段长最小值之间的比值，对氧饱和度曲线的各个段进行合并，得到氧饱和度曲线的各个状态段，根据氧饱和度曲线的各个状态段对血压曲线和心率曲线进行划分，得到血压曲线的各个状态段以及心率曲线的各个状态段。需要说明的是，患者在做胃镜过程中，人体会出现不同的反应，而人体的不同反应下采集的数据也存在不同的差异，因此对采集的数据的周期特征进行分析，将数据对应的曲线划分为多个不同的状态段，又由于心率数据、血压数据以及氧饱和度数据存在正相关关系，即当患者的心率上升时，患者血压也会相应的上升，同时氧饱和度也会上升，因此在本发明实施例中以氧饱和度曲线为例，将氧饱和度曲线划分为各个状态段，最后根据氧饱和度曲线的各个状态段将心率曲线以及血压曲线划分为各个状态段。对于氧饱和度曲线来说，其随着心脏的跳动进行变化，因此患者在受到刺激或者身体出现异常时，心脏跳动的频率会改变，因此可以通过患者心脏跳动的时间点首先将氧饱和度曲线划分为各个段，然后根据各个段之间的患者状态的相似性，对各个段进行合并，得到氧饱和度的各个状态段，当两个段的中的段长最大值与段长最小值的比值较大时，认为该两个段之间的患者状态的相似性越大。也即是通过比较两个段之间段长较大的值与段长较小的值之间的比值，获取两个段之间的患者状态的相似性情况。在本发明实施例中，在胃镜麻醉过程中，通过医疗仪器获取患者每次心脏跳动的时间点，根据每次心脏跳动的时间点，将氧饱和度曲线划分为各个段，得到氧饱和度曲线的各个段，并获取每个段中数据的个数作为每个段的段长。依次将氧饱和度曲线的第一个段记为首段，将氧饱和度曲线的第二个段记为当前段，从当前段与首段中获取段长最大值与段长最小值的比值，作为当前段的第一关系度，若当前段的第一关系度小于关系度阈值时，将首段与当前段合并为一个状态段，并进行标记；若当前段的第一关系度大于或等于关系度阈值时，将氧饱和度曲线的第三个段记为第一当前段，从第一当前段与首段中获取段长最大值与段长最小值的比值，作为第一当前段的第一关系度，从第一当前段与当前段中获取段长最大值与段长最小值的比值，作为第一当前段的第二关系度，若第一当前段的第一关系度或者第一当前段的第二关系度小于关系度阈值时，将首段、第一当前段以及首段与第一当前段的中间段合并为一个状态段，并进行标记，若第一当前段的第一关系度以及第一当前段的第二关系度均大于等于关系度阈值时，将第四个段记为第二当前段，获取第二当前段的第一关系度以及第二关系度，将第二当前段的第一关系度以及第二关系度分别与关系度阈值进行比较，以此类推，直至第当前段的第一关系度或者第/＞当前段的第二关系度小于关系度阈值时，将首段、第/＞当前段以及首段与第/＞前段的中间段合并为一个状态段，并进行标记；依次将未标记的氧饱和度曲线的第一个段记为首段，将未标记的氧饱和度曲线的第二个段记为当前段，获取当前段的第一关系度，若当前段的第一关系度小于关系度阈值时，将首段与当前段合并为一个状态段，并进行标记，若当前段的第一关系度大于或等于关系度阈值时，将未标记的第三个段记为第一当前段，获取第一当前段的第一关系度以及第二关系度，将第一当前段的第一关系度以及第二关系度分别与关系度阈值进行比较，以此类推，直至第当前段的第一关系度或者第/＞当前段的第二关系度小于关系度阈值时，将首段、第/＞当前段以及首段与第/＞当前段的中间段合并为一个状态段，并进行标记；以此类推，直至氧饱和度曲线的各个段均被标记即可停止，得到氧饱和度曲线的各个状态段；在本发明实施例中，预设关系度阈值，在其他实施例中，实施人员可根据具体实施情况预设关系度阈值的值。根据氧饱和度曲线的各个状态段，将心率曲线以及血压曲线划分为各个状态段，得到心率曲线的各个状态段，血压曲线的各个状态段。至此，将氧饱和度曲线划分为各个段，根据两个段中的段长最大值与段长最小值之间的比值，对氧饱和度曲线的各个段进行合并，得到氧饱和度曲线的各个状态段，根据氧饱和度曲线的各个状态段对血压曲线和心率曲线进行划分，得到血压曲线的各个状态段以及心率曲线的各个状态段。重要程度获取模块103，获取氧饱和度曲线的每个状态段中每个数据的受激程度、血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度，进而得到氧饱和度曲线的每个状态段中每个数据的重要程度。需要说明的是，在患者做胃镜的过程中人体的状态具有延续性，并且在正常状态时患者的数据较为平缓，当患者受到刺激或者身体出现异常时，数据会出现突变现象，但也不会瞬间消失，因此在本发明实施例中，首先获取氧饱和度曲线的每个状态段中每个数据的受激程度。在本发明实施例中，以氧饱和度曲线的第个状态段中第/＞个数据为中心构建大小为/＞的窗口，得到氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口，在本发明实施例中，预设窗口大小/＞，在其他实施例中，实施人员可根据具体实施情况设置/＞的值。需要说明的是，窗口大小即为窗口中的数据个数。在本发明实施例中，获取氧饱和度曲线的每个状态段中每个数据的受激程度：；式中，代表氧饱和度曲线的第/＞个状态段中第/＞个数据的受激程度；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的斜率；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的受激增长性，体现了第/＞个状态段中第/＞个数据的手机状态增长趋势，其值越大，说明患者在第/＞个状态段中第/＞个数据处出现受激状态的可能性越高；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有连续相邻的两个数据的差值绝对值的最大值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有连续相邻的两个数据的差值绝对值的最小值；代表所有连续相邻的两个数据的差值绝对值的最大值与最小值的差值，其值越大，说明氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中数据的波动程度越大，说明患者此时的反应越剧烈，出现异常或者受激状态的可能性越大；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有连续相邻的两个数据的差值绝对值的方差，其值越小，说明氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中不存在突变情况，数据的变化近似统一，其值越大，说明氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口存在数据的突变情况，说明患者在此处可能存在异常或者受刺激状态的可能性较大。根据氧饱和度曲线的每个状态段中每个数据的受激程度的获取方法，获取血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度。需要说明的是，由于患者的血压数据、心率数据以及氧饱和度数据三者存在相关性，因此三者在患者的正常状态或者异常状态的变化性存在对应关系，并且当患者的心率数据上升时，血压上升，同时伴随着患者的氧饱和度数据上升，因此在本发明实施例中，同时对于氧饱和曲线与心率曲线以及血压曲线之间的差异进行分析，获取氧饱和度曲线的每个状态段中每个数据的重要程度，即越有可能是患者受刺激的反应数据或者是患者存在异常的反应数据的重要程度越大，便于后续根据氧饱和度曲线的每个状态段中每个数据的重要程度自适应每个数据的支点阈值。在本发明实施例中，获取氧饱和度曲线的每个状态段中每个数据的重要程度：；式中，代表氧饱和度曲线的第/＞个状态段中第/＞个数据的重要程度；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中所有数据的受激程度的方差；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中数据的个数；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中第/＞个数据的受激程度；/＞代表血压曲线的第/＞个状态段中第/＞个数据的窗口中第/＞个数据的受激程度；/＞代表心率曲线的第/＞个状态段中第个数据的窗口中第/＞个数据的受激程度；/＞代表绝对值符号；获取氧饱和度曲线的第/＞个状态段中第/＞个数据的窗口中每个连续相邻的两个数据之间的受激程度的差值绝对值，记为第一差值绝对值，将所有第一差值绝对值的均值，记为/＞；在血压曲线的第/＞个状态段中第/＞个数据的窗口中获取每个连续相邻的两个数据之间的受激程度的差值绝对值，记为第二差值绝对值，并将所有第二差值绝对值的均值记为第一均值，在心率曲线的第/＞个状态段中第/＞个数据的窗口中获取每个连续相邻的两个数据之间的受激程度的差值绝对值，记为第三差值绝对值，并将所有第三差值绝对值的均值记为第二均值，将第一均值与第二均值的均值记为/＞；/＞体现第/＞个状态段中第/＞个数据的窗口中所有数据的变化异常趋势，其值越大，说明窗口中数据的变化度就越大，说明第/＞个状态段中第/＞个数据存在异常或受激的可能性越大且越重要；/＞体现了氧饱和度曲线与血压曲线以及心率曲线的在对应处置处的相关性差异，其值越大，说明氧饱和度曲线与血压曲线以及心率曲线的相关性差异越大，说明第/＞个状态段中第/＞个数据存在异常或受激的可能性越大，即第/＞个状态段中第/＞个数据的重要程度越大；正常情况下，氧饱和度曲线、心率曲线以及血压曲线存在着关联变化，即心率上升时，血压上升，同时伴随着氧饱和度上升，因此当患者存在受激状态或者异常状态时，氧饱和度曲线与血压曲线以及心率曲线在对应位置处的同步性会下降，因此/＞体现了曲线之间的同步性下降程度，其值越大，说明曲线之间的同步性被破坏的严重，说明数据越有可能是患者受刺激的反应数据或者是患者存在异常的反应数据，则第/＞个状态段中第/＞个数据越重要；/＞代表归一化函数，采用线性归一化方法，归一化对象为氧饱和度曲线中所有状态段中所有数据的的值。至此，获取氧饱和度曲线的每个状态段中每个数据的受激程度、血压曲线的每个状态段中每个数据的受激程度以及心率曲线的每个状态段中每个数据的受激程度，进而得到氧饱和度曲线的每个状态段中每个数据的重要程度。支点阈值获取模块104，根据氧饱和度曲线的每个状态段中每个数据的重要程度自适应氧饱和度曲线的每个状态段中每个数据的支点阈值，并对氧饱和度曲线中的数据进行压缩。需要说明的是，由于在胃镜麻醉过程中患者的反应存在各个不同的状态，例如患者的异常状态与患者受到刺激的反应状态，因此使用旋转门压缩算法对氧饱和度曲线的每个状态段中每个数据进行压缩时，对于患者受刺激的反应数据以及异常数据需要尽可能的保留细节，并且对于患者正常反应状态下的数据需要尽量的节省压缩空间，因此使用单一的支点阈值无法在保留患者受刺激的反应数据的同时，节省压缩空间的对患者正常反应状态下的数据进行压缩，而模块103中获取了氧饱和度曲线的每个状态段中每个数据的重要程度，而重要程度越大的数据，越有可能是患者受刺激的反应数据或者是患者存在异常的反应数据，因此对于重要程度越大的数据的支点阈值应该越小，而对于重要程度越小的数据的支点阈值应该越大。在本发明实施例中，预设全局支点阈值，在本发明实施例中，预设全局支点阈值，在其他实施例中，实施人员可根据具体实施情况设置/＞的值。获取氧饱和度曲线的每个状态段中每个数据的支点阈值：；式中，代表氧饱和度曲线的第/＞个状态段中第/＞个数据的重要程度；/＞代表预设的全局支点阈值；/＞代表氧饱和度曲线的第/＞个状态段中第/＞个数据的支点阈值；当第/＞个数据的重要程度越大时，第/＞个数据越需要保留，因此需要将全部支点阈值的取值越小。根据氧饱和度曲线的每个状态段中每个数据的支点阈值，使用旋转门压缩算法对氧饱和度曲线中的数据进行压缩，得到压缩数据。至此，根据氧饱和度曲线的每个状态段中每个数据的重要程度自适应氧饱和度曲线的每个状态段中每个数据的支点阈值，并对氧饱和度曲线中的数据进行压缩。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
