标题title
一种控制清洁机器人充电的方法、装置及设备
摘要abst
本申请涉及机器人控制技术领域，特别是涉及一种控制清洁机器人充电的方法、装置及设备，所述方法包括：确定下一阶段的清洁任务所需的任务电量值，根据所述任务电量值确定所述清洁机器人的目标电量，控制所述清洁机器人充电至所述目标电量，其中至少两个不同的目标电量对应不同的任务电量值。本申请实现了根据清洁待清洁区域所需的任务电量值控制清洁机器人充电，保证了清洁机器人对待清洁区域的清洁，减少断点续扫的次数，并且在待清洁区域所需的任务电量值少于清洁机器人充满电的电量值时，清洁机器人无需充电至满电的状态，保证了充电电池的使用寿命。
权利要求书clms
1.一种控制清洁机器人充电的方法，其特征在于，所述方法包括：确定下一阶段的清洁任务所需的任务电量值；根据所述任务电量值确定所述清洁机器人的目标电量；控制所述清洁机器人充电至所述目标电量，其中至少两个不同的目标电量对应不同的任务电量值。2.根据权利要求1所述的控制清洁机器人充电的方法，其特征在于，所述确定下一阶段的清洁任务所需的任务电量值，包括：响应于当前阶段的清洁任务已经结束的基础上，确定下一阶段的清洁任务所需的任务电量值。3.根据权利要求1或2所述的控制清洁机器人充电的方法，其特征在于，所述根据所述任务电量值确定所述清洁机器人的目标电量，包括：确定所述任务电量值是否不小于第一预设电量值；在所述任务电量值不小于所述第一预设电量值时，将第二预设电量值确定为目标电量，其中，所述第一预设电量值小于所述第二预设电量值；在所述任务电量值小于所述第一预设电量值时，将所述第一预设电量值确定为目标电量。4.根据权利要求3所述的控制清洁机器人充电的方法，其特征在于，所述根据所述任务电量值确定所述清洁机器人的目标电量，包括：获取当前阶段和所述下一阶段之间的时间间隔；确定在所述时间间隔内所述清洁机器人的待机损耗电量；根据所述待机损耗电量和所述任务电量值，确定所述清洁机器人的目标电量。5.根据权利要求3所述的控制清洁机器人充电的方法，其特征在于，所述确定下一阶段的清洁任务所需的任务电量值，包括：获取所述下一阶段的清洁任务对应的待清洁区域；根据所述待清洁区域的历史消耗电量数据，确定所述任务电量值。6.根据权利要求3所述的控制清洁机器人充电的方法，其特征在于，所述确定下一阶段的清洁任务所需的任务电量值，包括：获取所述下一阶段的清洁任务对应的待清洁区域；根据所述待清洁区域的历史清扫面积以及单位面积耗电，计算清洁待清洁区域所需的任务电量值；或，根据所述待清洁区域的历史清扫时长以及单位时长耗电，计算清洁待清洁区域所需的任务电量值。7.根据权利要求3所述的控制清洁机器人充电的方法，其特征在于，所述确定下一阶段的清洁任务所需的任务电量值，包括：获取所述下一阶段的清洁任务对应的待清洁区域；判断所述待清洁区域中障碍物的数量是否大于预先设置的障碍物的数量；在所述待清洁区域中障碍物的数量不小于预先设置的障碍物的数量时，根据所述待清洁区域的历史清扫时长以及单位时长耗电，计算清洁待清洁区域所需的任务电量值；在所述待清洁区域中障碍物的数量小于预先设置的障碍物的数量时，根据所述待清洁区域的历史清扫面积以及单位面积耗电，计算清洁待清洁区域所需的任务电量值。8.根据权利要求4～7任一项所述的控制清洁机器人充电的方法，其特征在于，所述确定下一阶段的清洁任务所需的任务电量值，根据所述任务电量值确定所述清洁机器人的目标电量，包括：确定完成所述下一阶段的清洁任务所需的最大任务电量值和最小任务电量值；将所述最大任务电量值确定为所述目标电量。9.一种控制清洁机器人充电的装置，其特征在于，应用于清洁机器人，所述控制清洁机器人充电的装置包括：任务电量值确定模块，用于确定下一阶段的清洁任务所需的任务电量值；目标电量确定模块，用于根据所述任务电量值确定所述清洁机器人的目标电量；充电模块，用于控制所述清洁机器人充电至所述目标电量，其中至少两个不同的目标电量对应不同的任务电量值。10.一种计算机可读存储介质，其特征在于，存储用于电子数据交换的计算机程序，其中，所述计算机程序使得计算机执行如权利要求1-8任一项所述的控制清洁机器人充电的方法。
说明书desc
技术领域本申请涉及机器人控制技术领域，特别是涉及一种控制清洁机器人充电的方法、装置及设备。背景技术随着人工智能技术的发展，出现了清洁机器人。清洁机器人是智能家用电器的一种，能凭借一定的人工智能，自动在房间内完成地板清理工作。清洁机器人一般采用刷扫和真空方式，将地面杂物先吸纳进入自身的垃圾收纳盒，从而完成地面清理的功能，清洁机器人在一定程度上代替了人工清扫的工作，给人们带来便捷。清洁机器人大多是电驱的，清洁机器人内置有充电电池，在执行清扫任务前，需要对充电电池进行充电，进而确保清洁机器人有足够的电量驱动执行清扫任务，在现有技术中，不管清洁多大的待清洁区域，清洁机器人都会充电至满电的状态，以减少断点续扫的次数，然而充电过满，容易影响清洁机器人中充电电池的使用寿命，如果不充满电，则会增加断点续扫的次数。发明内容本申请实施例提供一种控制清洁机器人充电的方法、装置及设备，实现了根据清洁待清洁区域所需的任务电量值控制清洁机器人充电，能在减少断点续扫的次数和延长充电电池的使用寿命上取得更好的平衡。第一方面，本申请一个实施例提供一种控制清洁机器人充电的方法，所述方法包括：确定下一阶段的清洁任务所需的任务电量值；根据所述任务电量值确定所述清洁机器人的目标电量；控制所述清洁机器人充电至所述目标电量，其中至少两个不同的目标电量对应不同的任务电量值。可选地，所述确定下一阶段的清洁任务所需的任务电量值，包括：响应于当前阶段的清洁任务已经结束的基础上，确定下一阶段的清洁任务所需的任务电量值。可选地，所述根据所述任务电量值确定所述清洁机器人的目标电量，包括：确定所述任务电量值是否不小于第一预设电量值；在所述任务电量值不小于所述第一预设电量值时，将第二预设电量值确定为目标电量，其中，所述第一预设电量值小于所述第二预设电量值；在所述任务电量值小于所述第一预设电量值时，将所述第一预设电量值确定为目标电量。可选地，所述根据所述任务电量值确定所述清洁机器人的目标电量，包括：获取当前阶段和所述下一阶段之间的时间间隔；确定在所述时间间隔内所述清洁机器人的待机损耗电量；根据所述待机损耗电量和所述任务电量值，确定所述清洁机器人的目标电量。可选地，所述确定下一阶段的清洁任务所需的任务电量值，包括：获取所述下一阶段的清洁任务对应的待清洁区域；根据所述待清洁区域的历史消耗电量数据，确定所述任务电量值。可选地，所述确定下一阶段的清洁任务所需的任务电量值，包括：获取所述下一阶段的清洁任务对应的待清洁区域；根据所述待清洁区域的历史清扫面积以及单位面积耗电，计算清洁待清洁区域所需的任务电量值；或，根据所述待清洁区域的历史清扫时长以及单位时长耗电，计算清洁待清洁区域所需的任务电量值。可选地，所述确定下一阶段的清洁任务所需的任务电量值，包括：获取所述下一阶段的清洁任务对应的待清洁区域；判断所述待清洁区域中障碍物的数量是否大于预先设置的障碍物的数量；在所述待清洁区域中障碍物的数量不小于预先设置的障碍物的数量时，根据所述待清洁区域的历史清扫时长以及单位时长耗电，计算清洁待清洁区域所需的任务电量值；在所述待清洁区域中障碍物的数量小于预先设置的障碍物的数量时，根据所述待清洁区域的历史清扫面积以及单位面积耗电，计算清洁待清洁区域所需的任务电量值。可选地，所述确定下一阶段的清洁任务所需的任务电量值，根据所述任务电量值确定所述清洁机器人的目标电量，包括：确定完成所述下一阶段的清洁任务所需的最大任务电量值和最小任务电量值；将所述最大任务电量值确定为所述目标电量。第二方面，本申请一个实施例提供一种控制清洁机器人充电的装置，应用于清洁机器人，所述控制清洁机器人充电的装置包括：任务电量值确定模块，用于确定下一阶段的清洁任务所需的任务电量值；目标电量确定模块，用于根据所述任务电量值确定所述清洁机器人的目标电量；充电模块，用于控制所述清洁机器人充电至所述目标电量，其中至少两个不同的目标电量对应不同的任务电量值。第三方面，本申请一个实施例提供一种计算机可读存储介质，存储用于电子数据交换的计算机程序，其中，所述计算机程序使得计算机执行如上所述的控制清洁机器人充电的方法。与现有技术相比，本申请的有益效果是：通过在执行清洁任务前，确定清洁待清洁区域所需的任务电量值；识别所述任务电量值对应的充电值，所述充电值小于或等于所述清洁机器人充满电的电量值；控制清洁机器人充电至所述充电值，其中至少两个不同的目标电量对应不同的任务电量值。实现了根据清洁待清洁区域所需的任务电量值控制清洁机器人充电，保证了清洁机器人对待清洁区域的清洁，减少断点续扫的次数，并且在待清洁区域所需的任务电量值少于清洁机器人充满电的电量值时，清洁机器人无需充电至满电的状态，保证了充电电池的使用寿命。附图说明本申请将结合附图对实施方式进行说明。本申请的附图仅用于描述实施例，以展示为目的。在不偏离本申请原理的条件下，本领域技术人员能够轻松地通过以下描述根据所述步骤做出其他实施例。图1为本申请一个实施例中一种控制清洁机器人充电的方法的步骤流程图；图2为本申请一个实施例中又一种控制清洁机器人充电的方法的步骤流程图；图3为本申请一个实施例中一种控制清洁机器人充电的装置的示意图；图4为本申请一个实施例中一种控制清洁机器人充电的处理设备的示意图；图5为本申请计算机存储介质一实施例的结构示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述。可以理解的是，此处所描述的具体实施例仅用于解释本申请，而非对本申请的限定。另外还需要说明的是，为了便于描述，附图中仅示出了与本申请相关的部分而非全部结构。基于本申请中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。本申请中的术语“第一”、“第二”等是用于区别不同对象，而不是用于描述特定顺序。此外，术语“包括”和“具有”以及它们任何变形，意图在于覆盖不排他的包含。例如包含了一系列步骤或单元的过程、方法、系统、产品或设备没有限定于已列出的步骤或单元，而是可选地还包括没有列出的步骤或单元，或可选地还包括对于这些过程、方法、产品或设备固有的其它步骤或单元。在本文中提及“实施例”意味着，结合实施例描述的特定特征、结构或特性可以包含在本申请的至少一个实施例中。在说明书中的各个位置出现该短语并不一定均是指相同的实施例，也不是与其它实施例互斥的独立的或备选的实施例。本领域技术人员显式地和隐式地理解的是，本文所描述的实施例可以与其它实施例相结合。随着人工智能技术的发展，出现了清洁机器人。清洁机器人是智能家用电器的一种，能凭借一定的人工智能，自动在房间内完成地板清理工作。一般采用刷扫和真空方式，将地面杂物先吸纳进入自身的垃圾收纳盒，从而完成地面清理的功能。清洁机器人在一定程度上代替了人工清扫的工作，给人们带来便捷。在实际应用中，清洁机器人的续航受限于装机电池容量的大小，工作续航时间都比较短，因此，清洁机器人在执行清扫时，清洁机器人一边驱动清洁组件进行清洁操作，一边检测自身电池电量，不管清洁多大的待清洁区域，清洁机器人都会充电至满电的状态，以减少断点续扫的次数。为更好地理解本申请实施例提供的技术方案，下面对本申请的一些实施例进行详细描述。请参见图1为本申请一个实施例中一种控制清洁机器人充电的方法的步骤流程图，清洁机器人可以通过充电装置进行充电，本方法可以应用于清洁机器人，清洁机器人中设有控制器，由该控制器控制清洁机器人的充电电量，本方法也可以应用于充电装置，由该充电装置控制对清洁机器人的充电电量，本方法还可以应用于外部服务器，由外部服务器与清洁机器人或充电装置通信，进而控制对清洁机器人的充电电量；所述方法包括如下步骤：步骤101，确定下一阶段的清洁任务所需的任务电量值。在本申请一实施例中，所述步骤101，包括：子步骤S11，响应于当前阶段的清洁任务已经结束的基础上，确定下一阶段的清洁任务所需的任务电量值。其中，当前阶段和下一阶段的时间间隔不小于第一预设值，例如，第一预设值可以为3小时，或当前阶段为用户下达的当次指令所对应的阶段，下一阶段为用户下达的下一次指令所对应的阶段。在本申请一实施例中，所述步骤101，包括：子步骤S21，获取所述下一阶段的清洁任务对应的待清洁区域；子步骤S22，根据所述待清洁区域的历史消耗电量数据，确定所述任务电量值。其中，清洁任务为对所有待清洁区域进行清洁，待清洁区域为用户下达的清洁指令中包含的所有区域，或者是机器人可清洁的最大区域。在确定清洁待清洁区域所需的任务电量值时，还可以参考历史统计清洁待清洁区域所消耗的电量值。具体的，前2次清洁卧室时实际消耗清洁机器人总电量均为清洁机器人总电量的百分之三十，则任务电量值为清洁机器人总电量的百分之三十。在2次及2次以上历史统计清洁待清洁区域所消耗的电量值在预设范围内波动，则取平均值。在本实施例中，本方案可以将历史统计的电量值作为任务电量值，保证任务电量值的准确确定，并且确认过程简单，减少充电处理的负荷。在本申请一实施例中，所述步骤101，包括：子步骤S31，获取所述下一阶段的清洁任务对应的待清洁区域；其中，待清洁区域可以是任何区域，如用户的卧室、客厅以及其他房间。在执行清洁任务前，需要先对清洁机器人进行充电，充电电量的具体数值可以根据待清洁区域的具体情况确定。如，待清洁区域为卧室，先确定清洁卧室需要消耗清洁机器人总电量的百分之三十，则清洁机器人总电量的百分之三十即是任务电量值。子步骤S32，根据所述待清洁区域的历史清扫面积以及单位面积耗电，计算清洁待清洁区域所需的任务电量值；具体的，任务电量值可以为：Q1＝K1*历史单次平均清扫面积，其中，K 1为清洁机器人清洁单位面积的耗电量；或，子步骤S33，根据所述待清洁区域的历史清扫时长以及单位时长耗电，计算清洁待清洁区域所需的任务电量值。具体的，任务电量值可以为：Q2＝K2*历史单次平均清扫时长，其中，K 2为清洁机器人清洁单位面积的耗电量。在本实施例中，根据历史清扫面积以及历史清扫时长计算任务电量值，可以进一步提高任务电量值确定的精度。在本申请一实施例中，所述步骤101，包括：子步骤S41，获取所述下一阶段的清洁任务对应的待清洁区域；子步骤S42，判断所述待清洁区域中障碍物的数量是否大于预先设置的障碍物的数量；子步骤S43，在所述待清洁区域中障碍物的数量不小于预先设置的障碍物的数量时，根据所述待清洁区域的历史清扫时长以及单位时长耗电，计算清洁待清洁区域所需的任务电量值；子步骤S44，在所述待清洁区域中障碍物的数量小于预先设置的障碍物的数量时，根据所述待清洁区域的历史清扫面积以及单位面积耗电，计算清洁待清洁区域所需的任务电量值。其中，障碍物可以为待清洁区域中的任何物品，在实际清洁过程中，清洁机器人在触碰到障碍物时，会改变清洁路径。在确定清洁待清洁区域所需的任务电量值时，可以先获取待清洁区域的环境参数，该环境参数中包括待清洁区域中障碍物的数量，进而可以判断待清洁区域中障碍物的数量是否大于预先设置的障碍物的数量。在本申请实施例中，由于待清洁区域中的障碍物会影响清洁机器人的清洁路径，进而影响清洁机器人清洁待清洁区域的电量损耗，根据待清洁区域中障碍物的数量，选择根据待清洁区域的历史清扫时长或者根据所述待清洁区域的历史清扫面积计算清洁待清洁区域所需的任务电量值，可以提高任务电量值确定的精度。步骤102，根据所述任务电量值确定所述清洁机器人的目标电量；在本申请一实施例中，所述步骤102，包括：子步骤S51，确定所述任务电量值是否不小于第一预设电量值；子步骤S52，在所述任务电量值不小于所述第一预设电量值时，将第二预设电量值确定为目标电量，其中，所述第一预设电量值小于所述第二预设电量值；子步骤S53，在所述任务电量值小于所述第一预设电量值时，将所述第一预设电量值确定为所述目标电量。优选地，将第一电量设为清洁机器人总电量的80％，第二电量值设为清洁机器人总电量的100％，若清洁待清洁区域所需电量不大于清洁机器人总电量的80％，则对待清洁区域清洁结束后，无需充满电，直接充电至80％即可，这样可以延长电池的使用寿命。如果在下一次清洁时，所需电量大于清洁机器人总电量的80％，则需要将电量从80％充电至100％后，才启动清洁任务。为了便于上述实施例的理解，以下通过一具体示例进行举例说明，需要说明的是，该具体示例并不构成对本申请实施例的限定，如下表一所示，包含清洁机器人一周的清洁任务以及所需的电量：星期一清洁卧室所需的电量为50％完成清洁任务后充电至80％星期二清洁客厅所需的电量为30％完成清洁任务后充电至80％星期三清洁卧室和客厅所需的电量为80％完成清洁任务后充电至80％星期四清洁卧室所需的电量为50％完成清洁任务后充电至80％星期五清洁客厅所需的电量为30％完成清洁任务后充电至100％星期六清洁所有房间所需的电量为90％完成清洁任务后充电至100％星期日清洁所有房间所需的电量为90％完成清洁任务后充电至80％表一可以看出，由于周一清洁卧室所需的电量为50％，小于第一电量，周一清洁卧室之前清洁机器人需要充电至总电量的80％，在完成周一的清洁任务之后，由于周二清洁客厅所需的电量为30％，小于第一电量，周二清洁客厅之前清洁机器人需要充电至总电量的80％，在完成周二的清洁任务之后，由于周三清洁卧室和客厅所需的电量为80％，不大于第一电量，周三清洁卧室和客厅之前清洁机器人需要充电至总电量的80％，在完成周三的清洁任务之后，由于周四清洁卧室所需的电量为50％，小于第一电量，周四清洁客厅之前清洁机器人需要充电至总电量的80％，在完成周四的清洁任务之后，由于周五清洁客厅所需的电量为30％，小于第一电量，周五清洁客厅之前清洁机器人需要充电至总电量的80％，在完成周五的清洁任务之后，由于周六清洁所有房间所需的电量为90％，大于第一电量，周六清洁所有房间之前清洁机器人需要充电至总电量的100％，即充满电，在完成周六的清洁任务之后，由于周日清洁所有房间所需的电量为90％，周日清洁所有房间之前清洁机器人需要充电至总电量的100％，即充满电。在本申请一实施例中，所述步骤102，包括：子步骤S61，获取所述当前阶段和所述下一阶段之间的时间间隔；子步骤S62，确定在所述时间间隔内所述清洁机器人的待机损耗电量；子步骤S63，根据所述待机损耗电量和所述任务电量值，确定所述清洁机器人的目标电量。在具体实现过程中，可以考虑到清洁机器人当前阶段至所述下一阶段期间待机所需电量，将待机所需电量考虑进来，可以保证对清洁机器人的电量精准的控制。步骤103，控制所述清洁机器人充电至所述目标电量，其中至少两个不同的目标电量对应不同的任务电量值。在本申请实施例中，通过确定下一阶段的清洁任务所需的任务电量值，根据所述任务电量值确定所述清洁机器人的目标电量，控制所述清洁机器人充电至所述目标电量，其中至少两个不同的目标电量对应不同的任务电量值。实现了根据清洁任务所需的任务电量值控制清洁机器人充电，保证了清洁机器人执行清洁任务的电量，减少断点续扫的次数，并且在任务电量值少于清洁机器人充满电的电量值时，清洁机器人无需充电至满电的状态，保证了充电电池的使用寿命。请参见图2为本申请一个实施例中又一种控制清洁机器人充电的方法的步骤流程图，所述方法具体包括如下步骤：步骤201，确定完成下一阶段清洁任务所需的最大任务电量值和最小任务电量值；在具体执行过程中，可以，识别所述任务电量值对应的电量区间的最大电量值以及最小电量值，所述充电值小于或等于所述清洁机器人充满电的电量值；其中，电量区间为清洁机器人电量的一个区间，如，将清洁机器人总电量等分为5个区间，则第一区间为清洁机器人电量的0％-20％，第二区间为清洁机器人电量的20％-40％，第三区间为清洁机器人电量的40％-60％，第四区间为清洁机器人电量的60％-80％，第五区间为清洁机器人电量的80％-100％。作为一示例，若将清洁机器人总电量等分为5个区间，在识别到任务电量值位清洁机器人总电量的70％时，由于任务电量值位于第四区间，因此任务电量值对应的电量区间的最大电量值为清洁机器人电量的80％，电量区间的最小电量值为清洁机器人电量的60％。步骤202，将所述最大任务电量值确定为所述目标电量；在一示例中，若将清洁机器人总电量等分为5个区间，在识别到任务电量值位清洁机器人总电量的70％时，则将清洁机器人电量的80％作为任务电量值对应的充电值。步骤203，根据所述任务电量值确定所述清洁机器人的目标电量；步骤204，控制所述清洁机器人充电至所述目标电量。在本申请实施例中，通过确定完成下一阶段清洁任务所需的最大任务电量值和最小任务电量值；将所述最大任务电量值确定为所述目标电量；根据所述任务电量值确定所述清洁机器人的目标电量，控制所述清洁机器人充电至所述目标电量。由于将清洁机器人的电量划分为多个区间，使得清洁机器人充电完全适配清洁机器人清扫待清洁区域所消耗的电量。请参见图3为本申请一个实施例中一种控制清洁机器人充电的装置的示意图，所述装置包括如下模块：任务电量值确定模块301，用于确定下一阶段的清洁任务所需的任务电量值；目标电量确定模块302，用于根据所述任务电量值确定所述清洁机器人的目标电量；充电模块303，用于控制所述清洁机器人充电至所述目标电量，其中至少两个不同的目标电量对应不同的任务电量值。在本申请一实施例中，所述任务电量值确定模块301，包括：历史数据确定子模块，用于响应于当前阶段的清洁任务已经结束的基础上，确定下一阶段的清洁任务所需的任务电量值。在本申请一实施例中，所述目标电量确定模块302，包括：第一预设电量值确定子模块，用于确定所述任务电量值是否不小于第一预设电量值；第二预设电量值确定子模块，用于在所述任务电量值不小于所述第一预设电量值时，将第二预设电量值确定为目标电量，其中，所述第一预设电量值小于所述第二预设电量值；目标电量确定子模块，用于在所述任务电量值小于所述第一预设电量值时，将所述第一预设电量值确定为所述目标电量。在本申请一实施例中，所述目标电量确定模块302，包括：时间间隔获取子模块，用于获取所述当前阶段和所述下一阶段之间的时间间隔；确定在所述时间间隔内所述清洁机器人的待机损耗电量；根据所述待机损耗电量和所述任务电量值，确定所述清洁机器人的目标电量。在本申请一实施例中，所述任务电量值确定模块301，包括：第一待清洁区域获取子模块，用于获取所述下一阶段的清洁任务对应的待清洁区域；历史消耗电量确定子模块，用于根据所述待清洁区域的历史消耗电量数据，确定所述任务电量值。在本申请一实施例中，所述任务电量值确定模块301，包括：第二待清洁区域获取子模块，用于所述下一阶段的清洁任务对应的待清洁区域；历史清扫面积电量计算子模块，用于根据所述待清洁区域的历史清扫面积以及单位面积耗电，计算清洁待清洁区域所需的任务电量值；或，历史清扫时长电量计算子模块，用于根据所述待清洁区域的历史清扫时长以及单位时长耗电，计算清洁待清洁区域所需的任务电量值。在本申请一实施例中，所述任务电量值确定模块301，包括：第三待清洁区域获取子模块，用于获取所述下一阶段的清洁任务对应的待清洁区域；障碍物数量判断子模块，用于判断所述待清洁区域中障碍物的数量是否大于预先设置的障碍物的数量；单位时长耗电计算子模块，用于在所述待清洁区域中障碍物的数量不小于预先设置的障碍物的数量时，根据所述待清洁区域的历史清扫时长以及单位时长耗电，计算清洁待清洁区域所需的任务电量值；单位面积计算子模块，用于在所述待清洁区域中障碍物的数量小于预先设置的障碍物的数量时，根据所述待清洁区域的历史清扫面积以及单位面积耗电，计算清洁待清洁区域所需的任务电量值。在本申请一实施例中，所述装置，包括：最大任务电量值和最小任务电量值确定模块，用于确定完成下一阶段清洁任务所需的最大任务电量值和最小任务电量值；最大任务电量值模块，用于将所述最大任务电量值确定为所述目标电量。本申请实施例提供的控制清洁机器人充电的方法，该控制清洁机器人充电的方法可应用如图4所示的控制清洁机器人充电的处理设备。该控制清洁机器人充电的处理设备包括通过系统总线连接的处理器、存储器、网络接口和数据库。其中，该控制清洁机器人充电的处理设备的处理器用于提供计算和控制能力。该控制清洁机器人充电的处理设备的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统、计算机程序和数据库。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该控制清洁机器人充电的处理设备的数据库用于存储执行控制清洁机器人充电的方法过程中采用或生成的数据。该计算机设备的网络接口用于与外部的终端通过网络连接通信。本申请还提供了一种计算机存储介质，如图5所示，计算机存储介质500用于存储计算机程序51，计算机程序能够被执行以实现上述实施例中定位方法的步骤。本申请定位方法实施例中所涉及到的方法，在实现时以软件功能单元的形式存在并作为独立的产品销售或使用时，可以存储在装置500中，例如一个计算机可读取存储介质中。基于这样的理解，本申请的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的全部或部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备或处理器执行本申请各个实施方式所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器、随机存取存储器、磁碟或者光盘等各种可以存储程序代码的介质。以上所述仅为本申请的实施方式，并非因此限制本申请的专利范围，凡是利用本申请说明书及附图内容所作的等效结构或等效流程变换，或直接或间接运用在其他相关的技术领域，均同理包括在本申请的专利保护范围内。
