标题title
多通道双向恒流电刺激系统、方法及电疗设备
摘要abst
本发明公开一种多通道双向恒流电刺激系统、方法及电疗设备，该系统包括：电源模块；控制模块，用于获取待作用机体的电刺激方案，根据电刺激方案确定恒流源控制信号和选通控制信号；恒流源模块，其根据恒流源控制信号确定电刺激输出电流；选通模块，设有多个第一通道支路和多个第二通道支路，其根据选通控制信号确定导通回路，并基于输出电流和导通回路对待作用机体提供正向或者反向电刺激信号；其中，导通回路包括：正向导通回路或者反向导通回路；任意两个第一通道支路不同时导通，且任意两个第二通道支路不同时导通。本发明通过设置恒流源模块和多通道选通模块，基于电刺激方案输出双向、恒流电刺激信号，简化电路结构和控制难度。
权利要求书clms
1.一种多通道双向恒流电刺激系统，设有至少两个电刺激通道，所述电刺激通道与待作用机体一一对应，其特征在于，所述电刺激系统包括：电源模块，用于对系统供电；控制模块，用于获取所述待作用机体的电刺激方案，根据所述电刺激方案确定恒流源控制信号和选通控制信号；恒流源模块，用于接收所述恒流源控制信号，并根据所述恒流源控制信号确定电刺激输出电流；选通模块，设有多个第一通道支路和多个第二通道支路，所述第一通道支路与所述第二通道支路一一对应设置，所述第一通道支路的第一端与所述电源模块电连接，所述第二通道支路的第一端与所述恒流源模块电连接，所述第一通道支路的第二端和所述第二通道支路的第二端用于连接所述待作用机体；所述选通模块，用于接收所述选通控制信号，根据所述选通控制信号控制所述第一通道支路和所述第二通道支路形成导通回路，并基于所述输出电流和所述导通回路对所述待作用机体提供正向或者反向电刺激信号；其中，所述导通回路为下述任一项：正向导通回路或者反向导通回路；任意两个所述第一通道支路不同时导通，且任意两个所述第二通道支路不同时导通。2.根据权利要求1所述的电刺激系统，其特征在于，所述选通控制信号包括：芯片使能信号和至少两个通道选择信号；所述选通模块包括：选通芯片，所述选通芯片设有至少三个通道配置引脚，所述通道配置引脚用于接收所述芯片使能信号和所述通道选择信号；所述选通芯片被配置为：存储预设选通逻辑数据库，所述预设选通逻辑数据库基于预设信号状态和对应的预设通道建立；获取所述芯片使能信号和所述通道选择信号的实际信号状态；基于所述实际信号状态对所述预设选通逻辑进行查表，根据查表结果输出通道驱动信号；所述通道驱动信号用于驱动所述第一通道支路导通或者关断，及驱动所述第二通道支路导通或者关断。3.根据权利要求1所述的电刺激系统，其特征在于，所述第一通道支路设有高电位开关单元，所述第二通道支路设有低电位开关单元，所述高电位开关单元与所述低电位开关单元一一对应设置；所述选通模块用于根据所述导通回路控制所述高电位开关单元和对应的所述低电位开关单元导通或者关断；其中，任意两个所述高电位开关单元不同时导通，且任意两个所述低电位开关单元不同时导通。4.根据权利要求1所述的电刺激系统，其特征在于，所述选通模块还包括：设有至少五个高电位引脚和至少五个低电位引脚；其中，所述高电位引脚与所述低电位引脚一一对应设置；所述高电位引脚用于对所述待作用机体提供正向电刺激信号或者反向电刺激信号；所述低电位引脚用于经所述待作用机体流出的正向电刺激信号或者反向电刺激信号传输至所述恒流源模块。5.根据权利要求4所述的电刺激系统，其特征在于，所述至少五个高电位引脚包括：第一高电位引脚，用于连接所述电源模块；第二高电位引脚，用于对第一待作用机体输出正向电刺激信号；第三高电位引脚，用于对所述第一待作用机体输出反向电刺激信号；第四高电位引脚，用于对第二待作用机体输出正向电刺激信号；第五高电位引脚，用于对所述第二待作用机体输出反向电刺激信号。6.根据权利要求4所述的电刺激系统，其特征在于，所述至少五个低电位引脚包括：第一低电位引脚，用于连接所述恒流源模块；第二低电位引脚，用于将经第一待作用机体流出的正向电刺激信号传输至所述恒流源模块；第三低电位引脚，用于将经所述第一待作用机体流出的反向电刺激信号传输至所述恒流源模块；第四低电位引脚，用于将经第二待作用机体流出的正向电刺激信号传输至所述恒流源模块；第五低电位引脚，用于将经所述第二待作用机体流出的反向电刺激信号传输至所述恒流源模块。7.根据权利要求1至6中任一项所述的电刺激系统，其特征在于，所述选通控制信号包括：正向选通控制信号和反向选通控制信号；在一个电刺激周期内，所述正向选通控制信号具有第一信号持续时长，所述反向选通控制信号具有第二信号持续时长，且所述第一信号持续时长与所述第二信号持续时长相等。8.根据权利要求1至6中任一项所述的电刺激系统，其特征在于，所述恒流源模块包括：运算放大器、开关管、第一电阻、第二电阻、第三电阻和采样电阻；所述第一电阻的第一端与所述控制模块的恒流源控制信号输出端连接，所述第一电阻的第二端与所述运算放大器的第一输入端连接；所述开关管的第一端与所述第二通道支路的第一端连接，所述开关管的第二端经采样电阻接地，所述开关管的控制端经所述第三电阻与所述运算放大器的输出端连接；所述第二电阻的第一端与所述开关管的第二端连接，所述第二电阻的第二端与所述运算放大器的第二输入端连接。9.一种多通道双向恒流电刺激方法，其特征在于，采用如权利要求1至8中任一项所述的电刺激系统执行，所述电刺激系统包括恒流源模块和选通模块，所述选通模块设有多个第一通道支路和多个第二通道支路；所述方法包括：获取待作用机体的电刺激方案；根据所述电刺激方案确定恒流源控制信号和选通控制信号；根据所述恒流源控制信号确定恒流源输出电流；根据所述选通控制信号控制所述第一通道支路和所述第二通道支路形成导通回路，并基于所述输出电流和所述导通回路对所述待作用机体提供正向或者反向电刺激信号；其中，所述导通回路为下述任一项：正向导通回路或者反向导通回路；任意两个所述第一通道支路不同时导通，且任意两个所述第二通道支路不同时导通。10.一种电疗设备，其特征在于，包括：权利要求1至8中任一项所述的多通道双向恒流电刺激系统。
说明书desc
技术领域本发明涉及电疗设备控制技术领域，尤其涉及一种多通道双向恒流电刺激系统、方法及电疗设备。背景技术电疗设备是一种利用特定电流和电磁场施加电刺激的诊疗仪器。在对机体施加电刺激信号之时，需要根据机体类型控制对应的电刺激输出。在现有技术中，电疗设备电刺激的输出控制以变压器和H桥结构为主。在利用变压器调节电刺激电流的现有技术中，通过改变变压器的原边电流，改变变压器的副边电流，输出所需的电刺激电流。在利用H桥结构调节电刺激电流的现有技术中，通过微控制器输出控制信号，驱动对应的桥臂打开，实现电刺激电流的输出。现有技术存在以下问题：在第一种现有技术中，变压器体积较大，不适用于家用、便携型设备，且变压器的副边电流正负不对称，只能实现电流双向控制，无法实现恒流控制；在第二种现有技术中，H桥结构电路复杂，不仅需要控制恒流输出，还需要控制H桥在正确的时间点开启，其控制过程复杂。对于以上两种现有技术，仅能够实现一路输出，在需要双通道甚至多通道输出的应用场景下，还需要将现有的电路结构成倍增加，导致电路复杂度、程序控制难度及设备成本成倍增加。发明内容本发明提供了一种多通道双向恒流电刺激系统、方法及电疗设备，以解决现有的多通道电刺激设备电路结构复杂，控制策略复杂或者无法实现恒流输出的问题，电路结构简单，控制策略简单。根据本发明的一方面，提供了一种多通道双向恒流电刺激系统，设有至少两个电刺激通道，所述电刺激通道与待作用机体一一对应，所述电刺激系统包括：电源模块，用于对系统供电；控制模块，用于获取待作用机体的电刺激方案，根据所述电刺激方案确定恒流源控制信号和选通控制信号；恒流源模块，用于接收所述恒流源控制信号，并根据所述恒流源控制信号确定电刺激输出电流；选通模块，设有多个第一通道支路和多个第二通道支路，所述第一通道支路与所述第二通道支路一一对应设置，所述第一通道支路的第一端与所述电源模块电连接，所述第二通道支路的第一端与所述恒流源模块电连接，所述第一通道支路的第二端和所述第二通道支路的第二端用于连接所述待作用机体；所述选通模块，用于接收所述选通控制信号，根据所述选通控制信号控制所述第一通道支路和所述第二通道支路形成导通回路，并基于所述输出电流和所述导通回路对所述待作用机体提供正向或者反向电刺激信号；其中，所述导通回路为下述任一项：正向导通回路或者反向导通回路；任意两个所述第一通道支路不同时导通，且任意两个所述第二通道支路不同时导通。可选地，所述选通控制信号包括：芯片使能信号和至少两个通道选择信号；所述选通模块包括：选通芯片，所述选通芯片设有至少三个通道配置引脚，所述通道配置引脚用于接收所述芯片使能信号和所述通道选择信号；所述选通芯片被配置为：存储预设选通逻辑数据库，所述预设选通逻辑数据库基于预设信号状态和对应的预设通道建立；获取所述芯片使能信号和所述通道选择信号的实际信号状态；基于所述实际信号状态对所述预设选通逻辑进行查表，根据查表结果输出通道驱动信号；所述通道驱动信号用于驱动所述第一通道支路导通或者关断，及驱动所述第二通道支路导通或者关断。可选地，所述第一通道支路设有高电位开关单元，所述第二通道支路设有低电位开关单元，所述高电位开关单元与所述低电位开关单元一一对应设置；所述选通模块用于根据所述导通回路控制所述高电位开关单元和对应的所述低电位开关单元导通或者关断；其中，任意两个所述高电位开关单元不同时导通，且任意两个所述低电位开关单元不同时导通。可选地，所述选通模块还包括：设有至少五个高电位引脚和至少五个低电位引脚；其中，所述高电位引脚与所述低电位引脚一一对应设置；所述高电位引脚用于对所述待作用机体提供正向电刺激信号或者反向电刺激信号；所述低电位引脚用于经所述待作用机体流出的正向电刺激信号或者反向电刺激信号传输至所述恒流源模块。可选地，所述至少五个高电位引脚包括：第一高电位引脚，用于连接所述电源模块；第二高电位引脚，用于对第一待作用机体输出正向电刺激信号；第三高电位引脚，用于对所述第一待作用机体输出反向电刺激信号；第四高电位引脚，用于对第二待作用机体输出正向电刺激信号；第五高电位引脚，用于对所述第二待作用机体输出反向电刺激信号。可选地，所述至少五个低电位引脚包括：第一低电位引脚，用于连接所述恒流源模块；第二低电位引脚，用于将经第一待作用机体流出的正向电刺激信号传输至所述恒流源模块；第三低电位引脚，用于将经所述第一待作用机体流出的反向电刺激信号传输至所述恒流源模块；第四低电位引脚，用于将经第二待作用机体流出的正向电刺激信号传输至所述恒流源模块；第五低电位引脚，用于将经所述第二待作用机体流出的反向电刺激信号传输至所述恒流源模块。可选地，所述选通控制信号包括：正向选通控制信号和反向选通控制信号；在一个电刺激周期内，所述正向选通控制信号具有第一信号持续时长，所述反向选通控制信号具有第二信号持续时长，且所述第一信号持续时长与所述第二信号持续时长相等。一实施例中，所述恒流源模块包括：运算放大器、开关管、第一电阻、第二电阻、第三电阻和采样电阻；所述第一电阻的第一端与所述控制模块的恒流源控制信号输出端连接，所述第一电阻的第二端与所述运算放大器的第一输入端连接；所述开关管的第一端与所述第二通道支路的第一端连接，所述开关管的第二端经采样电阻接地，所述开关管的控制端经所述第三电阻与所述运算放大器的输出端连接；所述第二电阻的第一端与所述开关管的第二端连接，所述第二电阻的第二端与所述运算放大器的第二输入端连接。根据本发明的另一方面，提供了一种多通道双向恒流电刺激方法，采用上述电刺激系统执行，所述电刺激系统包括恒流源模块和选通模块，所述选通模块设有多个第一通道支路和多个第二通道支路；所述方法包括：获取待作用机体的电刺激方案；根据所述电刺激方案确定恒流源控制信号和选通控制信号；根据所述恒流源控制信号确定恒流源输出电流；根据所述选通控制信号控制所述第一通道支路和所述第二通道支路形成导通回路，并基于所述输出电流和所述导通回路对所述待作用机体提供正向或者反向电刺激信号；其中，所述导通回路为下述任一项：正向导通回路或者反向导通回路；任意两个所述第一通道支路不同时导通，且任意两个所述第二通道支路不同时导通。根据本发明的另一方面，提供了一种电疗设备，包括：上述多通道双向恒流电刺激系统。本发明实施例的技术方案，设置电源模块、控制模块、恒流源模块和选通模块，选通模块设置多个第一通道支路和多个第二通道支路，通过控制模块获取待作用机体的电刺激方案，根据电刺激方案确定恒流源控制信号和选通控制信号的信号状态，根据恒流源控制信号控制恒流源模块输出恒定的电刺激输出电流，并根据选通控制信号控制选通模块的支路导通或者关断，形成对应的导通回路，不同导通回路用于连接不同的待作用机体，及对待作用机体提供正向或者反向电刺激信号。由此，通过设置恒流源模块和多通道选通模块，基于电刺激方案控制系统输出双向、恒流电刺激信号，电刺激信号的电流方向和电流大小与待作用机体相匹配，解决了现有的多通道电刺激设备电路结构复杂，控制策略复杂或者无法实现恒流控制的问题，基于同一套硬件设备可实现双向、恒流及多通道输出控制，电路结构简单，可简化系统控制复杂度，节约硬件成本。应当理解，本部分所描述的内容并非旨在标识本发明的实施例的关键或重要特征，也不用于限制本发明的范围。本发明的其它特征将通过以下的说明书而变得容易理解。附图说明为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明第一实施例提供的一种多通道双向恒流电刺激系统的流程图；图2为本发明第一实施例提供的另一种多通道双向恒流电刺激系统的结构示意图；图3为本发明第一实施例提供的一种多通道双向恒流电刺激系统的电路原理图；图4为本发明第一实施例提供的另一种多通道双向恒流电刺激系统的电路原理图；图5为本发明第一实施例提供的一种双通道双向恒流电刺激系统的波形示意图；图6为本发明第一实施例提供的第一种双通道双向恒流电刺激系统的导通回路的结构示意图；图7为本发明第一实施例提供的第二种双通道双向恒流电刺激系统的导通回路的结构示意图；图8为本发明第一实施例提供的第三种双通道双向恒流电刺激系统的导通回路的结构示意图；图9为本发明第一实施例提供的第四种双通道双向恒流电刺激系统的导通回路的结构示意图；图10为本发明第一实施例提供的另一种双通道双向恒流电刺激系统的波形示意图；图11为本发明第二实施例提供的一种多通道双向恒流电刺激方法的流程图。具体实施方式为了使本技术领域的人员更好地理解本发明方案，下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分的实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动前提下所获得的所有其他实施例，都应当属于本发明保护的范围。需要说明的是，本发明的说明书和权利要求书及上述附图中的术语“第一”、“第二”等是用于区别类似的对象，而不必用于描述特定的顺序或先后次序。应该理解这样使用的数据在适当情况下可以互换，以便这里描述的本发明的实施例能够以除了在这里图示或描述的那些以外的顺序实施。此外，术语“包括”和“具有”以及他们的任何变形，意图在于覆盖不排他的包含，例如，包含了一系列步骤或单元的过程、方法、系统、产品或设备不必限于清楚地列出的那些步骤或单元，而是可包括没有清楚地列出的或对于这些过程、方法、产品或设备固有的其它步骤或单元。图1为本发明第一实施例提供的一种多通道双向恒流电刺激系统的流程图，本实施例可适用于基于硬件模块对多通道电刺激设备的输出电流方向、输出电流大小和输出通道进行匹配设置的应用场景。在本发明的实施例中，多通道双向恒流电刺激系统，设有至少两个电刺激通道，电刺激通道与待作用机体一一对应，同一电刺激通道输出的电刺激信号的方向和电流大小可调。其中，待作用机体为施加电刺激的作用对象。典型地，待作用机体可为人体的特定穴位，不同待作用机体对于电刺激信号的电流大小需求不同。如图1所示，该多通道双向恒流电刺激系统包括：电源模块100、控制模块200、恒流源模块300和选通模块400。其中，电源模块100，用于对系统供电。在本发明的实施例中，电源模块100可集成电压变换电路，用于对待作用机体提供高压电源。典型地，电源模块100的输出电压可为100V至50kV的高压直流电压。控制模块200，用于获取待作用机体的电刺激方案，根据电刺激方案确定恒流源控制信号和选通控制信号。其中，电刺激方案用于表示待作用机体实际需要的电流大小、电流方向和待作用机体连接的电刺激通道；恒流源控制信号用于控制恒流源模块300运行，使恒流源模块300的输出电流恒定；选通控制信号用于控制选通模块400匹配对应的电刺激通道，对待作用机体施加特定电流大小和特定方向的电刺激信号。在本发明的实施例中，控制模块200可采用微控制芯片，基于微控制芯片将电刺激方案转换成对应的恒流源控制信号和选通控制信号，控制恒流源模块300和选通模块400对不同通道连接的待作用机体施加特定大小和方向的电刺激信号。恒流源模块300，用于接收恒流源控制信号，并根据恒流源控制信号确定电刺激输出电流。该电刺激输出电流的电流大小可恒定在特定值。在任一电刺激通道中，电刺激输出电流的电流大小与接入的待作用机体的实际电流需求相匹配，对其具体数值不作限定。选通模块400，设有多个第一通道支路410和多个第二通道支路420，第一通道支路410与第二通道支路420一一对应设置，第一通道支路410的第一端与电源模块100电连接，第二通道支路420的第一端与恒流源模块300电连接，第一通道支路410的第二端和第二通道支路420的第二端用于连接待作用机体。选通模块400，用于接收选通控制信号，根据选通控制信号控制第一通道支路410和第二通道支路420导通或者关断，任意两个第一通道支路410不同时导通，且任意两个第二通道支路420不同时导通。第一通道支路410和对应的第二通道支路420与待作用机体连通后，形成导通回路。选通模块400还用于基于输出电流和导通回路对待作用机体提供正向或者反向电刺激信号。其中，导通回路为下述任一项：正向导通回路或者反向导通回路。示例性地，结合图1所示，可定义正向导通回路为经第一通道支路410沿第一方向X1流入待作用机体，并经第二通道支路420流出的回路；反向导通回路为经第一通道支路410沿第二方向X2流入待作用机体，并经第二通道支路420流出的回路。具体地，当多通道双向恒流电刺激系统同时连接多个待作用机体之时，控制模块200首先确定不同电刺激通道的工作时序，例如，第一种工作时序如下：第一个电刺激通道沿正向导通回路导通，第一个电刺激通道沿反向导通回路导通，第二个电刺激通道沿正向导通回路导通，第二个电刺激通道沿反向导通回路导通，以此时序循环；第二种工作时序如下：第一个电刺激通道沿正向导通回路导通，第二个电刺激通道沿正向导通回路导通，第二个电刺激通道沿反向导通回路导通，第一个电刺激通道沿正向导通回路导通，以此时序循环。控制模块200基于该工作时序确定选通控制信号，并基于不同待作用机体实际需要的电流大小确定恒流源控制信号，选通控制信号和恒流源控制信号的信号状态与待作用机体的工作时序和实际电流需求相对应。结合参考图1所示，若控制模块200控制选通模块400沿正向导通回路导通，则电源模块100输出的电刺激信号自第一通道支路410沿第一方向X1流入待作用机体，对待作用机体施加正离子后，输出电流经第二通道支路420流出，电流大小可由恒流源模块300控制；若控制模块200控制选通模块400沿反向导通回路导通，则电源模块100输出的电刺激信号自第一通道支路410沿第二方向X2流入待作用机体，对待作用机体施加负离子后，电刺激输出电流经第二通道支路420流出。需要说明的是，在任一电刺激周期内，电刺激系统施加到同一待作用机体的双向电流可维持平衡，以使待作用机体的正离子和负离子保持平衡。本发明的技术方案，通过设置恒流源模块300和多通道选通模块400，控制模块200基于待作用机体的电刺激方案控制系统输出双向、恒流电刺激信号，电刺激信号的电流方向和电流大小与待作用机体相匹配，解决了现有的多通道电刺激设备电路结构复杂，恒流输出控制策略复杂或者无法实现恒流控制的问题，基于同一套硬件设备可实现双向、恒流及多通道输出控制，电路结构简单，可简化系统控制复杂度，节约硬件成本。一实施例中，选通控制信号包括：芯片使能信号和至少两个通道选择信号。其中，芯片使能信号用于控制选通模块400启动或者关断，芯片使能信号和至少两个通道选择信号可为高/低电平信号。控制模块200通过改变芯片使能信号和通道选择信号的电平状态，控制选通模块400中不同通道的导通与切换。图2为本发明第一实施例提供的另一种多通道双向恒流电刺激系统的结构示意图，示例性地示出了一种双通道电刺激系统的具体实施方式。如图2所示，第一通道支路设有高电位开关单元，第二通道支路设有低电位开关单元，高电位开关单元与低电位开关单元一一对应设置；选通模块400用于根据导通回路驱动高电位开关单元和对应的低电位开关单元导通或者关断；其中，任意两个高电位开关单元不同时导通，任意两个低电位开关单元不同时导通，且对应设置的高电位开关单元与低电位开关单元同时导通。其中，高电位开关单元用于控制电源模块100与接入对应通道的待作用机体连通或者断开连接，低电位开关单元用于控制恒流源模块300与接入对应通道的待作用机体连通或者断开连接。在一些实施例中，选通模块400可采用多路模拟开关的集成芯片。在另一些实施例中，高电位开关单元和低电位开关单元可采用继电器、开关管或者其他电子开关元件，选通模块400根据控制模块200输出的选通控制信号控制高电位开关单元和对应的低电位开关单元导通或者关断。示例性地，以双通道电刺激系统为例，设置四个第一通道支路和四个第二通道支路，包括：一号第一通道支路410、二号第一通道支路410、三号第一通道支路410、四号第一通道支路410、一号第二通道支路420、二号第二通道支路420、三号第二通道支路420和四号第二通道支路420，一号第一通道支路410和一号第二通道支路420用于控制第一待作用机体的正向导通回路导通或者关断；二号第一通道支路410和二号第二通道支路420用于控制第一待作用机体的反向导通回路导通或者关断；三号第一通道支路410和三号第二通道支路420用于控制第二待作用机体的正向导通回路导通或者关断；四号第一通道支路410和四号第二通道支路420用于控制第二待作用机体的反向导通回路导通或者关断。由此，通过设置选通模块集成多路模拟开关，改变电源模块、恒流源模块与待作用机体之间的连接方式，通过一套硬件系统即可实现电刺激系统中双向输出、恒流控制及多通道选通控制，电路结构简单，可简化系统控制复杂度，节约硬件成本。图3为本发明第一实施例提供的一种多通道双向恒流电刺激系统的电路原理图，示例性地示出了一种用于双通道电刺激系统的选通模块的具体实施方式。如图3所示，选通模块400包括：选通芯片U1，选通芯片U1设有至少三个通道配置引脚。其中，第一通道配置引脚EN用于接收芯片使能信号VEN，第二通道配置引脚S1用于接收第一通道选择信号VS1，第三通道配置引脚S2用于接收第二通道选择信号VS2。在本发明的实施例中，选通芯片U1被配置为：存储预设选通逻辑数据库，预设选通逻辑数据库基于预设信号状态和对应的预设通道建立，其中，预设信号状态包括芯片使能信号和通道选择信号的信号状态；获取芯片使能信号VEN和通道选择信号的实际信号状态；基于实际信号状态对预设选通逻辑进行查表，根据查表结果输出通道驱动信号；通道驱动信号用于驱动第一通道支路410导通或者关断，及驱动第二通道支路420导通或者关断。具体地，预设选通逻辑数据库可采用数表格式存储选通控制信号与开通通道之间的对应关系。选通芯片U1在接收到控制模块200发送的一组芯片使能信号VEN、第一通道选择信号VS1和第二通道选择信号VS2之后，对各信号的实际电平状态与预设选通逻辑中的信号状态进行比对，根据比对结果确定最终的开通通道。该开通通道对应一个第一通道支路410和一个第二通道支路420。例如，若查表确定的开通通道由一号第一通道支路410和一号第二通道支路420组成，则选通芯片U1输出的通道驱动信号用于驱动一号第一通道支路410和一号第二通道支路420导通，并驱动其他第一通道支路410和第二通道支路420关断。如图3所示，选通模块400还包括：设有至少五个高电位引脚和至少五个低电位引脚；其中，高电位引脚与低电位引脚一一对应设置；高电位引脚用于对待作用机体提供正向电刺激信号或者反向电刺激信号；低电位引脚用于经待作用机体流出的正向电刺激信号或者反向电刺激信号传输至恒流源模块300。在本发明的实施例中，一个高电位引脚用于连接电源模块100，其他高电位引脚用于连接待作用机体；一个低电位引脚用于连接恒流源模块300，其他低电位引脚用于连接待作用机体。具体地，结合参考图3所示，可采用等效电阻表示待作用机体。若定义正向导通回路为电刺激电流自待作用机体的上端流向下端，反向导通回路为电刺激电流自待作用机体的下端流向上端，则在正向导通回路中，选通模块400控制高电位引脚与待作用机体的上端电连接，并控制低电位引脚与待作用机体的下端电连接，以使输出电流自待作用机体的上端流入待作用机体，并经待作用机体的下端流出待作用机体；在反向导通回路中，选通模块400控制高电位引脚与待作用机体的下端电连接，并控制低电位引脚与待作用机体的上端电连接，以使输出电流自待作用机体的下端流入待作用机体，并经待作用机体的上端流出待作用机体。如图3所示，至少五个高电位引脚包括：第一高电位引脚A，用于连接电源模块100；第二高电位引脚A0，用于对第一待作用机体输出正向电刺激信号；第三高电位引脚A1，用于对第一待作用机体输出反向电刺激信号；第四高电位引脚A2，用于对第二待作用机体输出正向电刺激信号；第五高电位引脚A3，用于对第二待作用机体输出反向电刺激信号。如图3所示，至少五个低电位引脚包括：第一低电位引脚B，用于连接恒流源模块300；第二低电位引脚B0，用于将经第一待作用机体流出的正向电刺激信号传输至恒流源模块300；第三低电位引脚B1，用于将经第一待作用机体流出的反向电刺激信号传输至恒流源模块300；第四低电位引脚B2，用于将经第二待作用机体流出的正向电刺激信号传输至恒流源模块300；第五低电位引脚B3，用于将经第二待作用机体流出的反向电刺激信号传输至恒流源模块300。结合图3所示，第二高电位引脚A0、第三高电位引脚A1、第四高电位引脚A2及第五高电位引脚A3中的任一项与第一高电位引脚A之间设有高电位开关单元，第二低电位引脚B0、第三低电位引脚B1、第四低电位引脚B2、第五低电位引脚B3中的任一项与第一低电位引脚B之间设有低电位开关单元。在施加电刺激时，选通控制信号用于控制第二高电位引脚A0、第三高电位引脚A1、第四高电位引脚A2或者第五高电位引脚A3中的任一项与第一高电位引脚A导通，及控制第二低电位引脚B0、第三低电位引脚B1、第四低电位引脚B2、第五低电位引脚B3中对应支路的引脚与第一低电位引脚B导通，形成导通回路。示例性地，以芯片使能信号VEN、第一通道选择信号VS1和第二通道选择信号VS2组成一组选通控制信号为例，一组选通控制信号对应一组开通通道。表1示出了一组预设选通逻辑数据表，该预设选通逻辑数据表采用数表格式存储选通控制信号的信号状态与开通通道之间的对应关系。结合表1所示，若控制模块200输出如下选通控制信号：芯片使能信号VEN为低电平信号，第一通道选择信号VS1为低电平信号，且第二通道选择信号VS2为低电平信号，则此时开通通道为A-A0所在的第一通道支路410和B-B0所在的第二通道支路420，其他通道支路均关断；若控制模块200输出如下选通控制信号：芯片使能信号VEN为低电平信号，第一通道选择信号VS1为低电平信号，且第二通道选择信号VS2为高电平信号，则此时开通通道为A-A1所在的第一通道支路410导通和B-B1所在的第二通道支路420，其他通道支路均关断；以此类推，通过查表，输出不同通道支路对应的通道驱动信号，驱动各通道导通或者关断。需要说明的是，本发明对选通控制信号的信号状态与开通通道之间的对应关系不作具体限定。根据选通模块的具体型号，选通控制信号的信号名称及开关单元导通所需要的电平状态可以是不同的。具有相同功能的多路选通开关均不背离本申请的保护范围。如图3所示，选通模块400还设有供电引脚VCC、接地引脚GND和等效地端VEE。其中，供电引脚VCC用于连接电源，该电源可为电源模块100或者其他类型的储能模块。接地引脚GND和等效地端VEE分别接地，可实现不同通道的输入侧与输出侧电路之间的电气隔离。由此，本发明的技术方案，在选通模块集成多个开通通道，通过通道控制对待作用机体的连接方式进行切换，实现电刺激系统中双向输出、恒流控制及多通道选通控制，电路结构简单，控制方式简单。图4为本发明第一实施例提供的另一种多通道双向恒流电刺激系统的电路原理图，示例性地示出了一种可以实现恒流输出控制的电路结构，而非对恒流源模块的限定。如图4所示，恒流源模块300包括：运算放大器U2、开关管Q1、第一电阻R1、第二电阻R2、第三电阻R3和采样电阻R4；第一电阻R1的第一端与控制模块200连接，用于接收恒流源控制信号VDA，第一电阻R1的第二端与运算放大器U2的第一输入端连接；开关管Q1的第一端与第二通道支路420的第一端连接，开关管Q1的第二端经采样电阻R4接地，开关管Q1的控制端经第三电阻R3与运算放大器U2的输出端连接；第二电阻R2的第一端与开关管Q1的第二端连接，第二电阻R2的第二端与运算放大器U2的第二输入端连接。一实施例中，开关管Q1可采用NPN型三极管或者N沟道MOS管，以实现恒流控制。示例性地，以开关管Q1采用NPN型三极管为例，NPN型三极管的集电极为开关管Q1的第一端，NPN型三极管的发射极为开关管Q1的第二端，NPN型三极管的基极为开关管Q1的控制端。控制模块200按照预设电平大小输出恒流源控制信号VDA，控制开关管Q1导通或者关断。当开关管Q1导通，即开关管Q1的第一端与第二端之间导通时，采样电阻R4对发射极的输出电流进行采样，得到采样电压，并将采样电压传输至运算放大器U2，形成负反馈，通过调节恒流源控制信号VDA，对输出电流进行恒流控制。需要说明的是，可采用其他可实现恒流功能的电路替代图4示出的恒流源模块，将具有恒流功能的电路的电流流入端与第二通道支路420的第一端连接，即可产生相同的恒流控制效果。图5为本发明第一实施例提供的一种双通道双向恒流电刺激系统的波形示意图，其中，第一波形为电刺激输出电流流经第一待作用机体形成的电刺激波形；第二波形为电刺激输出电流流经第二待作用机体形成的电刺激波形。如图5所示，在不同时刻，控制模块200输出的芯片使能信号VEN、第一通道选择信号VS1和第二通道选择信号VS2的电平状态不同，驱动对应的通道支路导通，经正向导通回路或者反向导通回路对第一待作用机体和第二待作用机体施加电刺激信号，产生对应的电刺激波形。结合图5所示，可将电刺激输出电流在第一待作用机体上形成的第一波形及电刺激输出电流在第二待作用机体上形成的第二波形视为一个电刺激周期。在一个电刺激周期内，系统可实现双通道、双向恒流电刺激输出。在完成一个电刺激周期后，按照相同波形进行下一个电刺激周期输出。图6为本发明第一实施例提供的第一种双通道双向恒流电刺激系统的导通回路的结构示意图，示例性地示出了一种第一待作用机体的正向导通回路的驱动控制原理。结合参考图5和图6所示，在t1至t2时间段内，控制模块200输出的芯片使能信号VEN、第一通道选择信号VS1和第二通道选择信号VS2均为低电平信号，对应驱动A、A0所在的一号第一通道支路410及B、B0所在的一号第二通道支路420导通，电源模块100输出的供电电压经第一高电位引脚A和第二高电位引脚A0连接到第一待作用机体的上端，开关管Q1的集电极经第一低电位引脚B和第二低电位引脚B0连接到第一待作用机体的下端，形成正向导通回路。在施加电刺激信号时，控制模块200根据第一待作用机体所需的电流大小输出恒流源控制信号VDA，控制开关管Q1导通，此时电刺激输出电流自第一待作用机体的上端流向第一待作用机体的下端，形成第一波形中的正向电刺激信号。图7为本发明第一实施例提供的第二种双通道双向恒流电刺激系统的导通回路的结构示意图，示例性地示出了一种第一待作用机体的反向导通回路的驱动控制原理。结合参考图5和图7所示，在t2至t3时间段内，控制模块200输出的芯片使能信号VEN为低电平信号，第一通道选择信号VS1为高电平信号，第二通道选择信号VS2为低电平信号，对应驱动A和A1所在的二号第一通道支路410及B和B1所在的二号第二通道支路420导通，电源模块100输出的供电电压经第一高电位引脚A和第三高电位引脚A1连接到第一待作用机体的下端，开关管Q1的集电极经第一低电位引脚B和第三低电位引脚B1连接到第一待作用机体的上端，形成反向导通回路。在施加电刺激信号时，控制模块200根据第一待作用机体所需的电流大小输出恒流源控制信号VDA，控制开关管Q1导通，此时电刺激输出电流自第一待作用机体的下端流向第一待作用机体的上端，形成第一波形中的反向电刺激信号。图8为本发明第一实施例提供的第三种双通道双向恒流电刺激系统的导通回路的结构示意图，示例性地示出了一种第二待作用机体的正向导通回路的驱动控制原理。结合参考图5和图8所示，在t3至t4时间段内，控制模块200输出的芯片使能信号VEN为低电平信号，第一通道选择信号VS1为低电平信号，第二通道选择信号VS2为高电平信号，对应驱动A和A2所在的三号第一通道支路410及B和B2所在的三号第二通道支路420导通，电源模块100输出的供电电压经第一高电位引脚A和第四高电位引脚A2连接到第一待作用机体的上端，开关管Q1的集电极经第一低电位引脚B和第四低电位引脚B2连接到第一待作用机体的下端，形成正向导通回路。在施加电刺激信号时，控制模块200根据第一待作用机体所需的电流大小输出恒流源控制信号VDA，控制开关管Q1导通，此时电刺激输出电流自第一待作用机体的上端流向第一待作用机体的下端，形成第二波形中的正向电刺激信号。图9为本发明第一实施例提供的第四种双通道双向恒流电刺激系统的导通回路的结构示意图，示例性地示出了一种第二待作用机体的反向导通回路的驱动控制原理。结合参考图5和图9所示，在t4至t5时间段内，控制模块200输出的芯片使能信号VEN为低电平信号，第一通道选择信号VS1为高电平信号，第二通道选择信号VS2为高电平信号，对应驱动A、A3所在的四号第一通道支路410及B、B3所在的四号第二通道支路420导通，电源模块100输出的供电电压经第一高电位引脚A和第五高电位引脚A3连接到第二待作用机体的下端，开关管Q1的集电极经第一低电位引脚B和第五低电位引脚B3连接到第二待作用机体的上端，形成反向导通回路。在施加电刺激信号时，控制模块200根据第二待作用机体所需的电流大小输出恒流源控制信号VDA，控制开关管Q1导通，此时电刺激输出电流自第二待作用机体的下端流向第二待作用机体的上端，形成第二波形中的反向电刺激信号。需要说明的是，图5至图9仅示出了一种选通控制信号的信号状态、信号切换时序及待作用机体上形成的电刺激波形正向/反向之间的对应关系，该对应关系可以由用户自由控制及定义，可以以其他的时序驱动多个待作用机体的波形产生顺序和波形方向。基于相同驱动控制原理产生导通回路，对多个待作用机体的波形产生顺序和波形正负进行合理变形形成的技术方案，同一不背离本申请的保护范围。图10为本发明第一实施例提供的另一种双通道双向恒流电刺激系统的波形示意图。结合图5和图10所示，电刺激输出电流流经不同待作用机体形成的电刺激波形方向不变，芯片使能信号VEN和第一通道选择信号VS1的电平状态时序不变，第二通道选择信号VS2的电平状态先低后高再低，对应产生的电刺激波形同样为双通道双向恒流。结合参考图5和图10所示，选通控制信号包括：正向选通控制信号和反向选通控制信号；在一个电刺激周期内，正向选通控制信号具有第一信号持续时长，反向选通控制信号具有第二信号持续时长，且第一信号持续时长与第二信号持续时长相等。其中，正向选通控制信号是指用于控制选通模块400沿正向导通回路导通的一组控制信号；反向选通控制信号是指用于控制选通模块400沿反向导通回路导通的一组控制信号，不同待作用机体的正向选通控制信号和反向选通控制信号的电平状态不同。具体地，在一个电刺激周期内，可分时、分段对不同的待作用机体施加电刺激信号，每个待作用机体沿正向导通回路导通的持续时长等于其沿反向导通回路导通的持续时长，电刺激系统施加到同一待作用机体的双向电流可维持平衡，以使待作用机体的正离子和负离子保持平衡，避免电刺激系统干扰机体内的电平衡，确保电刺激系统安全性。基于同一发明构思，本发明实施例提供了一种多通道双向恒流电刺激方法，该方法采用上述任一实施例提供的电刺激系统执行，具备上述多通道双向恒流电刺激系统相同的控制逻辑和有益效果。结合图1所示，电刺激系统包括恒流源模块和选通模块，选通模块设有多个第一通道支路410和多个第二通道支路420，第一通道支路410与第二通道支路420一一对应设置。图11为本发明第二实施例提供的一种多通道双向恒流电刺激方法的流程图。如图11所示，该多通道双向恒流电刺激方法，具体包括以下步骤：S101：获取待作用机体的电刺激方案。S102：根据电刺激方案确定恒流源控制信号和选通控制信号。S103：根据恒流源控制信号确定恒流源输出电流。S104：根据选通控制信号确定导通回路，并基于输出电流和导通回路对待作用机体提供正向或者反向电刺激信号。其中，导通回路为下述任一项：正向导通回路或者反向导通回路；任意两个第一通道支路不同时导通，任意两个第二通道支路不同时导通，且对应的第一通道支路和第二通道支路同时导通。一实施例中，选通控制信号包括：芯片使能信号和至少两个通道选择信号。根据选通控制信号确定导通回路，包括：获取芯片使能信号和通道选择信号的实际信号状态；基于实际信号状态对预设选通逻辑进行查表，根据查表结果输出通道驱动信号，其中，预设选通逻辑数据库基于预设信号状态和对应的预设通道建立；通道驱动信号用于驱动第一通道支路导通或者关断，及驱动第二通道支路导通或者关断。一实施例中，第一通道支路设有高电位开关单元，第二通道支路设有低电位开关单元，高电位开关单元与低电位开关单元一一对应设置。基于输出电流和导通回路对待作用机体提供正向或者反向电刺激信号，包括：根据导通回路控制高电位开关单元和对应的低电位开关单元导通或者关断。其中，任意两个高电位开关单元不同时导通，且任意两个低电位开关单元不同时导通。一实施例中，选通控制信号包括：正向选通控制信号和反向选通控制信号；在一个电刺激周期内，正向选通控制信号具有第一信号持续时长，反向选通控制信号具有第二信号持续时长，且第一信号持续时长与第二信号持续时长相等。基于同一发明构思，本发明实施例提供了一种电疗设备，包括：上述多通道双向恒流电刺激系统。一实施例中，该电疗设备可搭配不同的输出电极，输出电极与多通道双向恒流电刺激系统的选通模块和恒流源模块连接，实现本发明提供的电疗设备，设置电源模块、控制模块、恒流源模块和选通模块，通过设置恒流源模块和多通道选通模块，基于电刺激方案控制系统输出双向、恒流电刺激信号，电刺激信号的电流方向和电流大小与待作用机体相匹配，解决了现有的多通道电刺激设备电路结构复杂，控制策略复杂或者无法实现恒流控制的问题，可扩展到多个机体的电刺激应用场景，控制方法简单，设备成本低，可靠性高。应该理解，可以使用上面所示的各种形式的流程，重新排序、增加或删除步骤。例如，本发明中记载的各步骤可以并行地执行也可以顺序地执行也可以不同的次序执行，只要能够实现本发明的技术方案所期望的结果，本文在此不进行限制。上述具体实施方式，并不构成对本发明保护范围的限制。本领域技术人员应该明白的是，根据设计要求和其他因素，可以进行各种修改、组合、子组合和替代。任何在本发明的精神和原则之内所作的修改、等同替换和改进等，均应包含在本发明保护范围之内。
