标题title
内镜防护预警方法、装置及其相关设备
摘要abst
本申请提供一种内镜防护预警方法、装置及其相关设备，该方法包括在内镜抵达患者的目标部位时，获取由内镜预先获取的内镜图像中的目标手术器械的器械类型；若目标手术器械的器械类型为光电类手术器械，获取目标手术器械向内镜发射的第一辐射强度以及内镜接收到由目标手术器械产生的第二辐射强度；基于第一辐射强度和第二辐射强度，确定内镜与目标手术器械的安全距离；基于安全距离，对内镜进行防护预警。本申请实施例通过上述方案，避免了对内镜设备被手术器械损坏的情况，提高了防护预警能力，降低手术的成本。
权利要求书clms
1.一种内镜防护预警方法，其特征在于，所述方法包括：在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；基于所述安全距离，对所述内镜进行防护预警。2.根据权利要求1所述的内镜防护预警方法，其特征在于，所述基于所述安全距离，对所述内镜进行防护预警，包括：基于所述安全距离和所述目标手术器械的预设部位点，确定球形的防护预警区域；若所述内镜触碰到所述防护预警区域的边界，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。3.根据权利要求1所述的内镜防护预警方法，其特征在于，所述方法还包括：基于预先训练的目标跟踪模型，跟踪所述目标手术器械；若所述目标手术器械跟踪丢失，则生成第一提示信号，所述第一提示信号用于提醒医师将所述目标手术器械移动至视野内。4.根据权利要求1所述的内镜防护预警方法，其特征在于，在获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型之后，所述方法还包括：若所述目标手术器械的器械类型为咬合类手术器械，则基于预先训练的咬合器械开合状态识别模型，确定所述目标手术器械的器械开合状态；若所述目标手术器械的器械开合状态为开合状态，则基于预先训练的目标检测模型，确定所述目标手术器械的第一检测信息，所述第一检测信息包括用于标识所述目标手术器械的第一检测框，以及所述第一检测框的坐标；基于所述检测框的坐标，确定第一碰撞危险区域；若所述内镜触碰到所述第一碰撞危险区域，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。5.根据权利要求4所述的内镜防护预警方法，其特征在于，在基于所述检测框的坐标，确定第一碰撞危险区域之后，所述方法还包括：基于预先训练的分割模型，确定所述目标手术器械的开口边界区域，并将所述开口边界区域设定为重点危险区域；若所述内镜触碰到所述开口边界区域，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。6.根据权利要求4所述的内镜防护预警方法，其特征在于，在若所述目标手术器械的器械类型为咬合类手术器械，则基于预先训练的咬合器械开合状态识别模型，确定所述目标手术器械的器械开合状态之后，所述方法还包括：若所述目标手术器械的器械开合状态为闭合状态，则基于所述目标检测模型，确定所述目标手术器械的第二检测信息，所述第二检测信息包括用于标识所述目标手术器械的第二检测框，以及所述第二检测框的坐标；基于所述第二检测框的坐标，确定第二碰撞危险区域和所述目标手术器械的宽高比；基于所述目标手术器械的宽高比，确定所述目标手术器械是否完全处于镜头视野内；若所述目标手术器械并非完全处于镜头视野内，则生成第二提示信号，所述第二提示信号用于提醒医师将所述目标手术器械全部移动至视野内。7.根据权利要求6所述的内镜防护预警方法，其特征在于，所述基于所述目标手术器械的宽高比，确定所述目标手术器械是否完全处于镜头视野内，包括：判断所述目标手术器械的宽高比是否等于预设的标准宽高比；若所述目标手术器械的宽高比等于预设的标准宽高比，则确定所述目标手术器械完全处于镜头视野内；若所述目标手术器械的宽高比不等于预设的标准宽高比，则确定所述目标手术器械并未完全处于镜头视野内。8.一种内镜防护预警装置，其特征在于，所述装置包括：第一获取单元，用于在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；第二获取单元，用于若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；第一确定单元，用于基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；第一防护预警单元，用于基于所述安全距离，对所述内镜进行防护预警。9.一种计算机设备，其特征在于，所述计算机设备包括：一个或多个处理器；存储器；以及一个或多个应用程序，其中所述一个或多个应用程序被存储于所述存储器中，并配置为由所述处理器执行以实现权利要求1至7中任一项所述的内镜防护预警方法。10.一种计算机可读存储介质，其特征在于，其上存储有计算机程序，所述计算机程序被处理器进行加载，以执行权利要求1至7任一项所述的内镜防护预警方法中的步骤。
说明书desc
技术领域本申请涉及辅助医疗技术领域，具体涉及一种内镜防护预警方法、装置及其相关设备。背景技术内窥镜设备，是一款用于采集体内情况的医疗用具。内窥镜经人体的天然孔道，或者是经手术做的小切口进入人体内，由可弯曲部分、光源及一组镜头组成。使用时将内窥镜导入预检查的器官，可直接窥视有关部位的变化，另外，内窥镜设备通常属于精密仪器，其部分产品型号的价格较高。然而，在医师进行手术过程使用这类器械时，会存在内窥镜受损的情况，例如内窥镜被手术器械咬伤、烧伤等。因此，如何避免手术过程中内窥镜设备被损伤，是当前辅助医疗技术领域亟需解决的技术问题。发明内容本申请提供一种内镜防护预警方法、装置及其相关设备，旨在解决如何避免手术过程中内窥镜设备被损伤的技术问题。一方面，本申请提供一种内镜防护预警方法，所述方法包括：在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；基于所述安全距离，对所述内镜进行防护预警。在本申请一种可能的实现方式中，所述基于所述安全距离，对所述内镜进行防护预警，包括：基于所述安全距离和所述目标手术器械的预设部位点，确定球形的防护预警区域；若所述内镜触碰到所述防护预警区域的边界，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。在本申请一种可能的实现方式中，所述方法还包括：基于预先训练的目标跟踪模型，跟踪所述目标手术器械；若所述目标手术器械跟踪丢失，则生成第一提示信号，所述第一提示信号用于提醒医师将所述目标手术器械移动至视野内。在本申请一种可能的实现方式中，在获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型之后，所述方法还包括：若所述目标手术器械的器械类型为咬合类手术器械，则基于预先训练的咬合器械开合状态识别模型，确定所述目标手术器械的器械开合状态；若所述目标手术器械的器械开合状态为开合状态，则基于预先训练的目标检测模型，确定所述目标手术器械的第一检测信息，所述第一检测信息包括用于标识所述目标手术器械的第一检测框，以及所述第一检测框的坐标；基于所述检测框的坐标，确定第一碰撞危险区域；若所述内镜触碰到所述第一碰撞危险区域，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。在本申请一种可能的实现方式中，在基于所述检测框的坐标，确定第一碰撞危险区域之后，所述方法还包括：基于预先训练的分割模型，确定所述目标手术器械的开口边界区域，并将所述开口边界区域设定为重点危险区域；若所述内镜触碰到所述开口边界区域，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。在本申请一种可能的实现方式中，在若所述目标手术器械的器械类型为咬合类手术器械，则基于预先训练的咬合器械开合状态识别模型，确定所述目标手术器械的器械开合状态之后，所述方法还包括：若所述目标手术器械的器械开合状态为闭合状态，则基于所述目标检测模型，确定所述目标手术器械的第二检测信息，所述第二检测信息包括用于标识所述目标手术器械的第二检测框，以及所述第二检测框的坐标；基于所述第二检测框的坐标，确定第二碰撞危险区域和所述目标手术器械的宽高比；基于所述目标手术器械的宽高比，确定所述目标手术器械是否完全处于镜头视野内；若所述目标手术器械并非完全处于镜头视野内，则生成第二提示信号，所述第二提示信号用于提醒医师将所述目标手术器械全部移动至视野内。在本申请一种可能的实现方式中，所述基于所述目标手术器械的宽高比，确定所述目标手术器械是否完全处于镜头视野内，包括：判断所述目标手术器械的宽高比是否等于预设的标准宽高比；若所述目标手术器械的宽高比等于预设的标准宽高比，则确定所述目标手术器械完全处于镜头视野内；若所述目标手术器械的宽高比不等于预设的标准宽高比，则确定所述目标手术器械并未完全处于镜头视野内。另一方面，本申请提供一种内镜防护预警装置，所述装置包括：第一获取单元，用于在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；第二获取单元，用于若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；第一确定单元，用于基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；第一防护预警单元，用于基于所述安全距离，对所述内镜进行防护预警。在本申请一种可能的实现方式中，所述第一防护预警单元，具体用于：基于所述安全距离和所述目标手术器械的预设部位点，确定球形的防护预警区域；若所述内镜触碰到所述防护预警区域的边界，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。在本申请一种可能的实现方式中，所述装置还用于：基于预先训练的目标跟踪模型，跟踪所述目标手术器械；若所述目标手术器械跟踪丢失，则生成第一提示信号，所述第一提示信号用于提醒医师将所述目标手术器械移动至视野内。在本申请一种可能的实现方式中，在第一获取单元之后，所述装置还包括：第二确定单元，用于若所述目标手术器械的器械类型为咬合类手术器械，则基于预先训练的咬合器械开合状态识别模型，确定所述目标手术器械的器械开合状态；第三确定单元，用于若所述目标手术器械的器械开合状态为开合状态，则基于预先训练的目标检测模型，确定所述目标手术器械的第一检测信息，所述第一检测信息包括用于标识所述目标手术器械的第一检测框，以及所述第一检测框的坐标；第四确定单元，用于基于所述检测框的坐标，确定第一碰撞危险区域；第二防护预警单元，用于若所述内镜触碰到所述第一碰撞危险区域，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。在本申请一种可能的实现方式中，在第四确定单元之后，所述装置还用于：基于预先训练的分割模型，确定所述目标手术器械的开口边界区域，并将所述开口边界区域设定为重点危险区域；若所述内镜触碰到所述开口边界区域，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。在本申请一种可能的实现方式中，在第二确定单元之后，所述装置还包括：第五确定单元，用于若所述目标手术器械的器械开合状态为闭合状态，则基于所述目标检测模型，确定所述目标手术器械的第二检测信息，所述第二检测信息包括用于标识所述目标手术器械的第二检测框，以及所述第二检测框的坐标；第六确定单元，用于基于所述第二检测框的坐标，确定第二碰撞危险区域和所述目标手术器械的宽高比；第七确定单元，用于基于所述目标手术器械的宽高比，确定所述目标手术器械是否完全处于镜头视野内；第一生成单元，用于若所述目标手术器械并非完全处于镜头视野内，则生成第二提示信号，所述第二提示信号用于提醒医师将所述目标手术器械全部移动至视野内。在本申请一种可能的实现方式中，所述第七确定单元，具体用于：判断所述目标手术器械的宽高比是否等于预设的标准宽高比；若所述目标手术器械的宽高比等于预设的标准宽高比，则确定所述目标手术器械完全处于镜头视野内；若所述目标手术器械的宽高比不等于预设的标准宽高比，则确定所述目标手术器械并未完全处于镜头视野内。另一方面，本申请还提供一种计算机设备，所述计算机设备包括：一个或多个处理器；存储器；以及一个或多个应用程序，其中所述一个或多个应用程序被存储于所述存储器中，并配置为由所述处理器执行以实现所述的内镜防护预警方法。另一方面，本申请还提供一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器进行加载，以执行所述的内镜防护预警方法中的步骤。本申请提供的内镜防护预警方法，包括在内镜抵达患者的目标部位时，获取由内镜预先获取的内镜图像中的目标手术器械的器械类型；若目标手术器械的器械类型为光电类手术器械，获取目标手术器械向内镜发射的第一辐射强度以及内镜接收到由目标手术器械产生的第二辐射强度；基于第一辐射强度和第二辐射强度，确定内镜与目标手术器械的安全距离；基于安全距离，对内镜进行防护预警。相较于传统方法，本申请实施例通过先判断不同手术器械的器械类型，然后通过光电手术器械向内镜发射的第一辐射强度以及内镜接收到由光电手术器械产生的第二辐射强度，去计算内镜与光电手术器械的安全距离，然后根据安全距离，对内镜进行防护预警，从而避免了对内镜设备被手术器械损坏的情况，提高了防护预警能力，降低手术的成本。附图说明为了更清楚地说明本申请实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本申请的一些实施例，对于本领域技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本申请实施例提供的内镜防护预警系统的场景示意图；图2是本申请实施例中提供的内镜防护预警方法的一个实施例流程示意图；图3是本申请实施例中提供的生成第一提示信号的一个实施例流程示意图；图4是本申请实施例中提供的对内镜进行防护预警的又一个实施例流程示意图；图5是本申请实施例中提供的生成第二提示信号的一个实施例流程示意图；图6是本申请实施例中提供的内镜防护预警装置的一个实施例结构示意图；图7是本申请实施例中提供的计算机设备的一个实施例结构示意图；图8是本申请实施例中提供的器械识别的一个实施例示意图；图9是本申请实施例中提供的咬合器械开合状态的一个实施例示意图；图10是本申请实施例中提供的咬合器械开口时危险区域的一个实施例示意图；图11是本申请实施例中提供的手术器械金属刀头的一个实施例示意图。具体实施方式下面将结合本申请实施例中的附图，对本申请实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本申请一部分实施例，而不是全部的实施例。基于本申请中的实施例，本领域技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本申请保护的范围。在本申请的描述中，需要理解的是，术语“中心”、“纵向”、“横向”、“长度”、“宽度”、“厚度”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”、“内”、“外”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本申请和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本申请的限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个所述特征。在本申请的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。在本申请中，“示例性”一词用来表示“用作例子、例证或说明”。本申请中被描述为“示例性”的任何实施例不一定被解释为比其它实施例更优选或更具优势。为了使本领域任何技术人员能够实现和使用本申请，给出了以下描述。在以下描述中，为了解释的目的而列出了细节。应当明白的是，本领域普通技术人员可以认识到，在不使用这些特定细节的情况下也可以实现本申请。在其它实例中，不会对公知的结构和过程进行详细阐述，以避免不必要的细节使本申请的描述变得晦涩。因此，本申请并非旨在限于所示的实施例，而是与符合本申请所公开的原理和特征的最广范围相一致。本申请实施例提供一种内镜防护预警方法、装置及其相关设备，以下分别进行详细说明。如图1所示，图1是本申请实施例提供的内镜防护预警系统的场景示意图，该内镜防护预警系统可以包括计算机设备100，计算机设备100中集成有内镜防护预警装置，如图1中的计算机设备100。本申请实施例中计算机设备100主要用于在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；基于所述安全距离，对所述内镜进行防护预警。本申请实施例中，该计算机设备100可以为终端或者服务器，当计算机设备100为服务器时，可以是独立的服务器，也可以是服务器组成的服务器网络或服务器集群，例如，本申请实施例中所描述的计算机设备100，其包括但不限于计算机、网络主机、单个网络服务器、多个网络服务器集或多个服务器以构建的云服务器。其中，云服务器由基于云计算的大量计算机或网络服务器以构建。可以理解的是，本申请实施例中计算机设备100为终端时，所使用的终端可以是既包括接收和发射硬件的设备，即具有能够在双向通信链路上，执行双向通信的接收和发射硬件的设备。这种设备可以包括：蜂窝或其他通信设备，其具有单线路显示器或多线路显示器或没有多线路显示器的蜂窝或其他通信设备。具体的计算机设备100具体可以是台式终端或移动终端，计算机设备100具体还可以是手机、平板电脑、笔记本电脑、医疗辅助仪器等中的一种。本领域技术人员可以理解，图1中示出的应用环境，仅仅是与本申请方案一种应用场景，并不以构建对本申请方案应用场景的限定，其他的应用环境还可以包括比图1中所示更多或更少的计算机设备，例如图1中仅示出1个计算机设备，可以理解的，该内镜防护预警系统还可以包括一个或多个其他计算机设备，具体此处不作限定。另外，如图1所示，该内镜防护预警系统还可以包括存储器200，用于存储数据，如存储内镜图像和内镜防护预警数据，例如内镜防护预警系统运行时的内镜防护预警数据。需要说明的是，图1所示的内镜防护预警系统的场景示意图仅仅是一个示例，本申请实施例描述的内镜防护预警系统以及场景是为了更加清楚的说明本申请实施例的技术方案，并不构成对于本申请实施例提供的技术方案的限定，本领域普通技术人员可知，随着内镜防护预警系统的演变和新业务场景的出现，本申请实施例提供的技术方案对于类似的技术问题，同样适用。接下来，介绍本申请实施例提供的内镜防护预警方法。本申实施例内镜防护预警方法的实施例中以内镜防护预警装置作为执行主体，为了简化与便于描述，后续方法实施例中将省略该执行主体，该内镜防护预警装置应用于计算机设备，该方法包括：在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；基于所述安全距离，对所述内镜进行防护预警。请参阅图2至图11，图2为本申请实施例中提供的内镜防护预警方法的一个实施例流程示意图，该内镜防护预警方法包括：201、在内镜抵达患者的目标部位时，获取由内镜预先获取的内镜图像中的目标手术器械的器械类型；其中，本申请内镜优选为硬管内窥镜，该硬管内窥镜是目前医务人员观察人体内部病变组织最方便、最直接、最有效的医疗器械，具有图像清晰度高、色彩逼真等优点，而且容易操作。随着使用硬管内窥镜的范围扩大，各科医生使用硬管内窥镜频率越来越高。然而硬管内窥镜也是比较娇贵的医疗器械，很容易造成损坏。本申请实施例中，可以通过预先训练的手术器械识别模型获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型，该手术器械识别模型优选VGG16，其用于训练模型的数据集为带有胃肠粘膜背景的内镜器械，以及标签为咬合器械、光电手术器械，如图8所示，其左边图中的手术器械为咬合器械，右边的图为光电手术器械。因此，在获取的目标手术器械的器械类型包括光电类手术器械和咬合类手术器械，该光电类手术器械包括有利用激光汽化、高频电切、微波等技术类型的手术器械，而咬合类手术器械包括钳、剪类的手术器械。202、若目标手术器械的器械类型为光电类手术器械，获取目标手术器械向内镜发射的第一辐射强度以及内镜接收到由目标手术器械产生的第二辐射强度；具体的，获取所述目标手术器械向所述内镜发射的第一辐射强度的计算公式如下：；其中，为目标手术器械的金属刀头辐射常数，为目标手术器械的金属刀头温度。具体的，金属刀头温度的计算公式如下：；其中，c为金属刀头比热容，m为金属刀头质量，Q为目标手术器械的金属刀头产生的热量。具体的，计算目标手术器械的金属刀头产生的热量Q的计算公式如下：；其中，I为手术器械通过电流大小，R为手术器械金属刀头电阻，为通电时间，需要说明的是，对于金属电阻，当给其持续供电时，电阻温度会持续升高，但同时电阻会向空气散热的速率也会增加，所以当电阻温度升高到某一个值时，其向空气散热的功率和其通电产生的功率会达到平衡状态，此时电阻表面温度会达到一个定值。根据上述计算过程可知，要想获取目标手术器械向所述内镜发射的第一辐射强度，需要获取到上述相关参数，其中，上述目标手术器械的各参数都可通过从预设的数据库中调用，该数据库中预存有各设备说明书及其相关参数，也可通过实验测出。进一步的，获取内镜接收到由所述目标手术器械产生的第二辐射强度的计算公式如下：；其中为窥镜辐射常数，为窥镜可承受的最高温度，具体的，上述内镜的各参数都可通过从预设的数据库中调用，该数据库中预存有各设备说明书及其相关参数，也可通过实验测出。203、基于第一辐射强度和第二辐射强度，确定内镜与目标手术器械的安全距离；具体的，通过第一辐射强度和第二辐射强度以及如下公式：；其中，其中d为所要求解的安全距离，α、β为热辐射不考虑空气因素传播时的损失常数，e为常数。根据上述计算方式，即可计算得到内镜与目标手术器械的安全距离d。204、基于安全距离，对内镜进行防护预警。在本申请的一些实施例中，其中金属刀头和内镜的相对位置如图11所示，所述基于所述安全距离，对所述内镜进行防护预警，包括：基于所述安全距离和所述目标手术器械的预设部位点，确定球形的防护预警区域，其中，预设部位点可根据实际情况进行调整，本申请优选该部位点为目标手术器械的金属刀头的目标检测框中心，然后以该安全距离为半径，建立球形的防护预警区域；若所述内镜触碰到所述防护预警区域的边界，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。本申请提供的内镜防护预警方法，包括在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；基于所述安全距离，对所述内镜进行防护预警。相较于传统方法，本申请实施例通过先判断不同手术器械的器械类型，然后通过光电手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由光电手术器械产生的第二辐射强度，去计算内镜与光电手术器械的安全距离，然后根据安全距离，对所述内镜进行防护预警，从而避免了对内镜设备被手术器械损坏的情况，提高了防护预警能力，降低手术的成本。在本申请的其他实施例中，如图3所示，所述方法还包括：301、基于预先训练的目标跟踪模型，跟踪目标手术器械；其中，该目标跟踪模型优选yolov3+deep_sort，其用于训练模型的数据集为目标手术器械，以及标签由专业内镜医师对目标跟踪模型进行矩形框标记。302、若目标手术器械跟踪丢失，则生成第一提示信号，第一提示信号用于提醒医师将目标手术器械移动至视野内。本申请实施例，通过上述方式，可以实时对手术器械进行检测与跟踪，若器械金属刀头跟踪丢失，提醒医师将手术器械移动至视野中，降低目标手术器械触碰内镜的风险。在本申请的其他实施例中，如图4所示，在获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型之后，所述方法还包括：401、若目标手术器械的器械类型为咬合类手术器械，则基于预先训练的咬合器械开合状态识别模型，确定目标手术器械的器械开合状态；本申请实施例中的咬合器械开合状态识别模型优先选择VGG16，标签为闭合、张开，数据集为带有胃肠粘膜背景的咬合器械，如下图9所示，其左侧图中的咬合器械的状态为咬合状态，右侧图中的咬合器械的状态为开口状态。通过该咬合器械开合状态识别模型，可以实时监测目标手术器械的器械开合状态。402、若目标手术器械的器械开合状态为开合状态，则基于预先训练的目标检测模型，确定目标手术器械的第一检测信息，第一检测信息包括用于标识目标手术器械的第一检测框，以及第一检测框的坐标；本申请实施例中的目标检测模型优先选择Yolov3，标签由专业内镜医师对咬合器械进行矩形框标记。通过该目标检测模型，可以实时确定目标手术器械的第一检测信息。403、基于检测框的坐标，确定第一碰撞危险区域；其中，根据检测框的坐标，确定框内区域为第一碰撞危险区域。在本申请的一些实施例中，在基于所述检测框的坐标，确定第一碰撞危险区域之后，所述方法还包括：基于预先训练的分割模型，确定所述目标手术器械的开口边界区域，并将所述开口边界区域设定为重点危险区域，其中，该分割模型优先选择Unet++，标签由专业内镜医师对咬合器械开口区域边界进行勾勒，如图10所示，图中框内标记区域即为危险区域；若所述内镜触碰到所述开口边界区域，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。404、若内镜触碰到第一碰撞危险区域，则对内镜进行防护预警，以提醒医生调整内镜的位置。本申请实施例通过上述公开方案，可以实时提醒医生调整内镜的位置，以避免内镜造成损伤。在本申请的其他实施例中，如图5所示，在若所述目标手术器械的器械类型为咬合类手术器械，则基于预先训练的咬合器械开合状态识别模型，确定所述目标手术器械的器械开合状态之后，所述方法还包括：501、若目标手术器械的器械开合状态为闭合状态，则基于目标检测模型，确定目标手术器械的第二检测信息，第二检测信息包括用于标识目标手术器械的第二检测框，以及第二检测框的坐标；502、基于第二检测框的坐标，确定第二碰撞危险区域和目标手术器械的宽高比；本申请实施例中，根据上述步骤404可知，检测框的坐标，那么第二碰撞危险区域和所述目标手术器械的宽高比为：。503、基于目标手术器械的宽高比，确定目标手术器械是否完全处于镜头视野内；在本申请的一些实施例中，所述基于所述目标手术器械的宽高比，确定所述目标手术器械是否完全处于镜头视野内，包括：判断所述目标手术器械的宽高比是否等于预设的标准宽高比，该标砖宽高比为β；若所述目标手术器械的宽高比等于预设的标准宽高比，则确定所述目标手术器械完全处于镜头视野内；若所述目标手术器械的宽高比不等于预设的标准宽高比，则确定所述目标手术器械并未完全处于镜头视野内。504、若目标手术器械并非完全处于镜头视野内，则生成第二提示信号，第二提示信号用于提醒医师将目标手术器械全部移动至视野内。本申请实施例所公开的方案中，可以实时提醒医师将所述目标手术器械全部移动至视野内，避免了内镜的损伤概率。为了更好实施本申请实施例中内镜防护预警方法，在内镜防护预警方法基础之上，本申请实施例中还提供一种内镜防护预警装置，如图6所示，所述内镜防护预警装置600包括：第一获取单元601，用于在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；第二获取单元602，用于若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；第一确定单元603，用于基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；第一防护预警单元604，用于基于所述安全距离，对所述内镜进行防护预警。在本申请的一些实施例中，所述第一防护预警单元604，具体用于：基于所述安全距离和所述目标手术器械的预设部位点，确定球形的防护预警区域；若所述内镜触碰到所述防护预警区域的边界，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。在本申请的一些实施例中，所述装置还用于：基于预先训练的目标跟踪模型，跟踪所述目标手术器械；若所述目标手术器械跟踪丢失，则生成第一提示信号，所述第一提示信号用于提醒医师将所述目标手术器械移动至视野内。在本申请的一些实施例中，在第一获取单元601之后，所述装置还包括：第二确定单元，用于若所述目标手术器械的器械类型为咬合类手术器械，则基于预先训练的咬合器械开合状态识别模型，确定所述目标手术器械的器械开合状态；第三确定单元，用于若所述目标手术器械的器械开合状态为开合状态，则基于预先训练的目标检测模型，确定所述目标手术器械的第一检测信息，所述第一检测信息包括用于标识所述目标手术器械的第一检测框，以及所述第一检测框的坐标；第四确定单元，用于基于所述检测框的坐标，确定第一碰撞危险区域；第二防护预警单元，用于若所述内镜触碰到所述第一碰撞危险区域，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。在本申请的一些实施例中，在第四确定单元之后，所述装置还用于：基于预先训练的分割模型，确定所述目标手术器械的开口边界区域，并将所述开口边界区域设定为重点危险区域；若所述内镜触碰到所述开口边界区域，则对所述内镜进行防护预警，以提醒医生调整所述内镜的位置。在本申请的一些实施例中，在第二确定单元之后，所述装置还包括：第五确定单元，用于若所述目标手术器械的器械开合状态为闭合状态，则基于所述目标检测模型，确定所述目标手术器械的第二检测信息，所述第二检测信息包括用于标识所述目标手术器械的第二检测框，以及所述第二检测框的坐标；第六确定单元，用于基于所述第二检测框的坐标，确定第二碰撞危险区域和所述目标手术器械的宽高比；第七确定单元，用于基于所述目标手术器械的宽高比，确定所述目标手术器械是否完全处于镜头视野内；第一生成单元，用于若所述目标手术器械并非完全处于镜头视野内，则生成第二提示信号，所述第二提示信号用于提醒医师将所述目标手术器械全部移动至视野内。在本申请的一些实施例中，所述第七确定单元，具体用于：判断所述目标手术器械的宽高比是否等于预设的标准宽高比；若所述目标手术器械的宽高比等于预设的标准宽高比，则确定所述目标手术器械完全处于镜头视野内；若所述目标手术器械的宽高比不等于预设的标准宽高比，则确定所述目标手术器械并未完全处于镜头视野内。本申请提供的内镜防护预警方法，包括第一获取单元601，用于在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；第二获取单元602，用于若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；第一确定单元603，用于基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；第一防护预警单元604，用于基于所述安全距离，对所述内镜进行防护预警。相较于传统装置，本申请实施例通过先判断不同手术器械的器械类型，然后通过光电手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由光电手术器械产生的第二辐射强度，去计算内镜与光电手术器械的安全距离，然后根据安全距离，对所述内镜进行防护预警，从而避免了对内镜设备被手术器械损坏的情况，提高了防护预警能力，降低手术的成本。除了上述介绍用于内镜防护预警方法与装置之外，本申请实施例还提供一种计算机设备，其集成了本申请实施例所提供的任一种内镜防护预警装置，所述计算机设备包括：一个或多个处理器；存储器；以及一个或多个应用程序，其中所述一个或多个应用程序被存储于所述存储器中，并配置为由所述处理器执行上述内镜防护预警方法实施例中任一实施例中所述的任一方法的操作。本申请实施例还提供一种计算机设备，其集成了本申请实施例所提供的任一种内镜防护预警装置。如图7所示，其示出了本申请实施例所涉及的计算机设备的结构示意图，具体来讲：该计算机设备可以包括一个或者一个以上处理核心的处理器701、一个或一个以上计算机可读存储介质的存储单元702、电源703和输入单元704等部件。本领域技术人员可以理解，图7中示出的计算机设备结构并不构成对计算机设备的限定，可以包括比图示更多或更少的部件，或者组合某些部件，或者不同的部件布置。其中：处理器701是该计算机设备的控制中心，利用各种接口和线路连接整个计算机设备的各个部分，通过运行或执行存储在存储单元702内的软件程序和/或模块，以及调用存储在存储单元702的数据，执行计算机设备的各种功能和处理数据，从而对计算机设备进行整体监控。可选的，处理器701可包括一个或多个处理核心；优选的，处理器701可集成应用处理器和调制解调处理器，其中，应用处理器主要处理操作系统、用户界面和应用程序等，调制解调处理器主要处理无线通信。可以理解的是，上述调制解调处理器也可以不集成到处理器701中。存储单元702可用于存储软件程序以及模块，处理器701通过运行存储在存储单元702的软件程序以及模块，从而执行各种功能应用以及数据处理。存储单元702可主要包括存储程序区和存储数据区，其中，存储程序区可存储操作系统、至少一个功能所需的应用程序等；存储数据区可存储根据计算机设备的使用所创建的数据等。此外，存储单元702可以包括高速随机存取存储器，还可以包括非易失性存储器，例如至少一个磁盘存储器件、闪存器件、或其他易失性固态存储器件。相应地，存储单元702还可以包括存储器控制器，以提供处理器701对存储单元702的访问。计算机设备还包括给各个部件供电的电源703，优选的，电源703可以通过电源管理系统与处理器701逻辑相连，从而通过电源管理系统实现管理充电、放电、以及功耗管理等功能。电源703还可以包括一个或一个以上的直流或交流电源、再充电系统、电源故障检测电路、电源转换器或者逆变器、电源状态指示器等任意组件。该计算机设备还可包括输入单元704，该输入单元704可用于接收输入的数字或字符信息，以及产生与用户设置以及功能控制有关的键盘、鼠标、操作杆、光学或者轨迹球信号输入。尽管未示出，计算机设备还可以包括显示单元等，在此不再赘述。具体在本申请实施例中，计算机设备中的处理器701会按照如下的指令，将一个或一个以上的应用程序的进程对应的可执行文件加载到存储单元702中，并由处理器701来运行存储在存储单元702中的应用程序，从而实现各种功能，如下：在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；基于所述安全距离，对所述内镜进行防护预警。本申请提供的内镜防护预警方法，包括在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；基于所述安全距离，对所述内镜进行防护预警。相较于传统方法，本申请实施例通过先判断不同手术器械的器械类型，然后通过光电手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由光电手术器械产生的第二辐射强度，去计算内镜与光电手术器械的安全距离，然后根据安全距离，对所述内镜进行防护预警，从而避免了对内镜设备被手术器械损坏的情况，提高了防护预警能力，降低手术的成本。为此，本申请实施例提供一种计算机可读存储介质，该计算机可读存储介质可以包括：只读存储器、随机存取记忆体、磁盘或光盘等。该计算机可读存储介质中存储有多条指令，该指令能够被处理器进行加载，以执行本申请实施例所提供的任一种内镜防护预警方法中的步骤。例如，该指令可以执行如下步骤：在内镜抵达患者的目标部位时，获取由所述内镜预先获取的内镜图像中的目标手术器械的器械类型；若所述目标手术器械的器械类型为光电类手术器械，获取所述目标手术器械向所述内镜发射的第一辐射强度以及所述内镜接收到由所述目标手术器械产生的第二辐射强度；基于所述第一辐射强度和所述第二辐射强度，确定所述内镜与所述目标手术器械的安全距离；基于所述安全距离，对所述内镜进行防护预警。在上述实施例中，对各个实施例的描述都各有侧重，某个实施例中没有详述的部分，可以参见其他实施例的相关描述。以上对本申请实施例所提供的一种内镜防护预警方法、装置及其相关设备进行了详细介绍，本文中应用了具体个例对本申请的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本申请的方法及其核心思想；同时，对于本领域的技术人员，依据本申请的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本申请的限制。
