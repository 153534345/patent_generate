标题title
一种入睡时长预测方法、装置、终端及存储介质
摘要abst
本发明公开了一种入睡时长预测方法、装置、终端及存储介质，所述方法通过获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建；将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。本发明预先建立了目标用户的入睡时长预测函数，通过入睡时长预测函数来预测用户从当前时刻到进入睡眠所需要的时长。解决了现有技术中由于用户无法提前估算自身进入睡眠状态所需要的时长，因此难以精准调控睡眠相关产品的工作时长，导致设备产生无谓的耗电的问题。
权利要求书clms
1.一种入睡时长预测方法，其特征在于，所述方法包括：获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建；将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。2.根据权利要求1所述的入睡时长预测方法，其特征在于，所述入睡时长预测函数嵌套有睡眠状态预测函数，所述将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，包括：将所述时间数据输入所述睡眠状态预测函数，得到所述目标用户对应的睡眠状态；将所述睡眠状态输入所述入睡时长预测函数，得到所述入睡时长。3.根据权利要求1所述的入睡时长预测方法，其特征在于，所述睡眠状态预测函数基于睡眠昼夜节律函数和睡眠稳态函数确定，其中，所述睡眠昼夜节律函数用于反映所述目标用户的生物钟，所述睡眠稳态函数用于反映所述目标用户的睡眠压力的周期性变化，所述将所述时间数据输入所述睡眠状态预测函数，得到所述目标用户对应的睡眠状态，包括：将所述时间数据分别输入所述睡眠昼夜节律函数和所述睡眠稳态函数，得到所述睡眠昼夜节律函数对应的睡眠期和所述睡眠稳态函数对应的睡眠压力值；根据所述睡眠期和所述睡眠压力值，确定所述睡眠状态。4.根据权利要求3所述的入睡时长预测方法，其特征在于，所述睡眠昼夜节律函数的确定过程包括：获取所述目标用户对应的若干历史脑电信号，其中，若干历史脑电信号分别对应的采集时间段相同；分别对若干所述历史脑电信号进行分段处理，得到若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，其中，所述睡眠时间段和所述觉醒时间段分别对应不同的信号特征；根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述睡眠昼夜节律函数。5.根据权利要求4所述的入睡时长预测方法，其特征在于，所述根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述睡眠昼夜节律函数，包括：根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述目标用户对应的初始睡眠昼夜节律函数；根据若干正弦函数对所述初始睡眠昼夜节律函数进行拟合，拟合后得到所述睡眠昼夜节律函数，其中，若干所述正弦函数分别对应不同的频率。6.根据权利要求4所述的入睡时长预测方法，其特征在于，所述睡眠稳态函数的确定过程包括：根据若干所述历史脑电信号分别对应的睡眠时间段，确定若干所述历史脑电信号分别对应的第一指数函数，其中，所述第一指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式下降；根据若干所述历史脑电信号分别对应的觉醒时间段，确定若干所述历史脑电信号分别对应的第二指数函数，其中，所述第二指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式增长；根据若干所述历史脑电信号分别对应的所述第一指数函数和所述第二指数函数，确定所述睡眠稳态函数。7.根据权利要求4所述的入睡时长预测方法，其特征在于，所述睡眠状态预测函数基于所述睡眠昼夜节律函数、所述睡眠稳态函数以及所述睡眠昼夜节律函数对应的权重系数确定，所述权重系数的确定过程包括：对若干所述历史脑电信号进行相似性度量，得到若干所述历史脑电信号对应的相似性数值；根据所述相似性数值确定所述权重系数。8.根据权利要求7所述的入睡时长预测方法，其特征在于，所述对若干所述历史脑电信号进行相似性度量，得到若干所述历史脑电信号对应的相似性数值，包括：获取若干所述历史脑电信号分别对应的信号波，得到若干信号波；对若干所述信号波的波形进行相似性度量，得到若干所述历史脑电信号对应的第一相似性数值；对若干所述信号波的能量进行相似性度量，得到若干所述历史脑电信号对应的第二相似性数值；根据所述第一相似性数值和所述第二相似性数值，确定所述相似性数值。9.一种入睡时长预测装置，其特征在于，所述装置包括：获取模块，用于获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建；输入模块，用于将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。10.根据权利要求9所述的入睡时长预测装置，其特征在于，所述入睡时长预测函数嵌套有睡眠状态预测函数，所述输入模块包括：状态确定单元，用于将所述时间数据输入所述睡眠状态预测函数，得到所述目标用户对应的睡眠状态；时长确定单元，用于将所述睡眠状态输入所述入睡时长预测函数，得到所述入睡时长。11.根据权利要求9所述的入睡时长预测装置，其特征在于，所述睡眠状态预测函数基于睡眠昼夜节律函数和睡眠稳态函数确定，其中，所述睡眠昼夜节律函数用于反映所述目标用户的生物钟，所述睡眠稳态函数用于反映所述目标用户的睡眠压力的周期性变化，所述状态确定单元包括：函数调用子单元，用于将所述时间数据分别输入所述睡眠昼夜节律函数和所述睡眠稳态函数，得到所述睡眠昼夜节律函数对应的睡眠期和所述睡眠稳态函数对应的睡眠压力值；综合判定子单元，用于根据所述睡眠期和所述睡眠压力值，确定所述睡眠状态。12.根据权利要求11所述的入睡时长预测装置，其特征在于，所述装置还包括用于确定所述睡眠昼夜节律函数的信号采集模块、信号分段模块以及第一函数确定模块；所述信号采集模块，用于获取所述目标用户对应的若干历史脑电信号，其中，若干历史脑电信号分别对应的采集时间段相同；所述信号分段模块，用于分别对若干所述历史脑电信号进行分段处理，得到若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，其中，所述睡眠时间段和所述觉醒时间段分别对应不同的信号特征；所述第一函数确定模块，用于根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述睡眠昼夜节律函数。13.根据权利要求12所述的入睡时长预测装置，其特征在于，所述第一函数确定模块包括：函数生成单元，用于根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述目标用户对应的初始睡眠昼夜节律函数；函数拟合单元，用于根据若干正弦函数对所述初始睡眠昼夜节律函数进行拟合，拟合后得到所述睡眠昼夜节律函数，其中，若干所述正弦函数分别对应不同的频率。14.根据权利要求12所述的入睡时长预测装置，其特征在于，所述装置还包括用于确定所述睡眠稳态函数的第二函数确定模块；所述第二函数确定模块，用于根据若干所述历史脑电信号分别对应的睡眠时间段，确定若干所述历史脑电信号分别对应的第一指数函数，其中，所述第一指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式下降；根据若干所述历史脑电信号分别对应的觉醒时间段，确定若干所述历史脑电信号分别对应的第二指数函数，其中，所述第二指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式增长；根据若干所述历史脑电信号分别对应的所述第一指数函数和所述第二指数函数，确定所述睡眠稳态函数。15.根据权利要求12所述的入睡时长预测装置，其特征在于，所述睡眠状态预测函数基于所述睡眠昼夜节律函数、所述睡眠稳态函数以及所述睡眠昼夜节律函数对应的权重系数确定，所述装置还包括用于确定所述权重系的相似度量模块和权重确定模块；所述相似度量模块，用于对若干所述历史脑电信号进行相似性度量，得到若干所述历史脑电信号对应的相似性数值；所述权重确定模块，用于根据所述相似性数值确定所述权重系数。16.根据权利要求15所述的入睡时长预测装置，其特征在于，所述相似度量模块包括：信号转换单元，用于获取若干所述历史脑电信号分别对应的信号波，得到若干信号波；波形度量单元，用于对若干所述信号波的波形进行相似性度量，得到若干所述历史脑电信号对应的第一相似性数值；能量度量单元，用于对若干所述信号波的能量进行相似性度量，得到若干所述历史脑电信号对应的第二相似性数值；综合度量单元，用于根据所述第一相似性数值和所述第二相似性数值，确定所述相似性数值。17.一种终端，其特征在于，所述终端包括有存储器和一个或者一个以上处理器；所述存储器存储有一个或者一个以上的程序；所述程序包含用于执行如权利要求1-8中任一所述的入睡时长预测方法的指令；所述处理器用于执行所述程序。18.一种计算机可读存储介质，其上存储有多条指令，其特征在于，所述指令适用于由处理器加载并执行，以实现上述权利要求1-8任一所述的入睡时长预测方法的步骤。
说明书desc
技术领域本发明涉及睡眠技术领域，尤其涉及的是一种入睡时长预测方法、装置、终端及存储介质。背景技术当前国民生活水平日益上升，人们都在追求更好的生活质量和健康生活，其中，良好的睡眠质量受到了许多人的高度重视，因此各种各样与睡眠相关的产品也应运而生，例如按摩枕、熏香、按摩眼罩等产品。目前用户在使用睡眠相关产品时，无法提前估算自身进入睡眠状态所需要的时长，因此难以精准调控睡眠相关产品的工作时长，导致设备产生无谓的耗电。因此，现有技术还有待改进和发展。发明内容本发明要解决的技术问题在于，针对现有技术的上述缺陷，提供一种入睡时长预测方法、装置、终端及存储介质，旨在解决现有技术中由于用户无法提前估算自身进入睡眠状态所需要的时长，因此难以精准调控睡眠相关产品的工作时长，导致设备产生无谓的耗电的问题。本发明解决问题所采用的技术方案如下：第一方面，本发明实施例提供一种入睡时长预测方法，其中，所述方法包括：获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建；将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。在一种实施方式中，所述入睡时长预测函数嵌套有睡眠状态预测函数，所述将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，包括：将所述时间数据输入所述睡眠状态预测函数，得到所述目标用户对应的睡眠状态；将所述睡眠状态输入所述入睡时长预测函数，得到所述入睡时长。在一种实施方式中，所述睡眠状态预测函数基于睡眠昼夜节律函数和睡眠稳态函数确定，其中，所述睡眠昼夜节律函数用于反映所述目标用户的生物钟，所述睡眠稳态函数用于反映所述目标用户的睡眠压力的周期性变化，所述将所述时间数据输入所述睡眠状态预测函数，得到所述目标用户对应的睡眠状态，包括：将所述时间数据分别输入所述睡眠昼夜节律函数和所述睡眠稳态函数，得到所述睡眠昼夜节律函数对应的睡眠期和所述睡眠稳态函数对应的睡眠压力值；根据所述睡眠期和所述睡眠压力值，确定所述睡眠状态。在一种实施方式中，所述睡眠昼夜节律函数的确定过程包括：获取所述目标用户对应的若干历史脑电信号，其中，若干历史脑电信号分别对应的采集时间段相同；分别对若干所述历史脑电信号进行分段处理，得到若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，其中，所述睡眠时间段和所述觉醒时间段分别对应不同的信号特征；根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述睡眠昼夜节律函数。在一种实施方式中，所述根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述睡眠昼夜节律函数，包括：根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述目标用户对应的初始睡眠昼夜节律函数；根据若干正弦函数对所述初始睡眠昼夜节律函数进行拟合，拟合后得到所述睡眠昼夜节律函数，其中，若干所述正弦函数分别对应不同的频率。在一种实施方式中，所述睡眠稳态函数的确定过程包括：根据若干所述历史脑电信号分别对应的睡眠时间段，确定若干所述历史脑电信号分别对应的第一指数函数，其中，所述第一指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式下降；根据若干所述历史脑电信号分别对应的觉醒时间段，确定若干所述历史脑电信号分别对应的第二指数函数，其中，所述第二指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式增长；根据若干所述历史脑电信号分别对应的所述第一指数函数和所述第二指数函数，确定所述睡眠稳态函数。在一种实施方式中，所述睡眠状态预测函数基于所述睡眠昼夜节律函数、所述睡眠稳态函数以及所述睡眠昼夜节律函数对应的权重系数确定，所述权重系数的确定过程包括：对若干所述历史脑电信号进行相似性度量，得到若干所述历史脑电信号对应的相似性数值；根据所述相似性数值确定所述权重系数。在一种实施方式中，所述对若干所述历史脑电信号进行相似性度量，得到若干所述历史脑电信号对应的相似性数值，包括：获取若干所述历史脑电信号分别对应的信号波，得到若干信号波；对若干所述信号波的波形进行相似性度量，得到若干所述历史脑电信号对应的第一相似性数值；对若干所述信号波的能量进行相似性度量，得到若干所述历史脑电信号对应的第二相似性数值；根据所述第一相似性数值和所述第二相似性数值，确定所述相似性数值。第二方面，本发明实施例还提供一种入睡时长预测装置，其中，所述装置包括：获取模块，用于获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建；输入模块，用于将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。在一种实施方式中，所述入睡时长预测函数嵌套有睡眠状态预测函数，所述输入模块包括：状态确定单元，用于将所述时间数据输入所述睡眠状态预测函数，得到所述目标用户对应的睡眠状态；时长确定单元，用于将所述睡眠状态输入所述入睡时长预测函数，得到所述入睡时长。在一种实施方式中，所述睡眠状态预测函数基于睡眠昼夜节律函数和睡眠稳态函数确定，其中，所述睡眠昼夜节律函数用于反映所述目标用户的生物钟，所述睡眠稳态函数用于反映所述目标用户的睡眠压力的周期性变化，所述状态确定单元包括：函数调用子单元，用于将所述时间数据分别输入所述睡眠昼夜节律函数和所述睡眠稳态函数，得到所述睡眠昼夜节律函数对应的睡眠期和所述睡眠稳态函数对应的睡眠压力值；综合判定子单元，用于根据所述睡眠期和所述睡眠压力值，确定所述睡眠状态。在一种实施方式中，所述装置还包括用于确定所述睡眠昼夜节律函数的信号采集模块、信号分段模块以及第一函数确定模块；所述信号采集模块，用于获取所述目标用户对应的若干历史脑电信号，其中，若干历史脑电信号分别对应的采集时间段相同；所述信号分段模块，用于分别对若干所述历史脑电信号进行分段处理，得到若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，其中，所述睡眠时间段和所述觉醒时间段分别对应不同的信号特征；所述第一函数确定模块，用于根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述睡眠昼夜节律函数。在一种实施方式中，所述第一函数确定模块包括：函数生成单元，用于根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述目标用户对应的初始睡眠昼夜节律函数；函数拟合单元，用于根据若干正弦函数对所述初始睡眠昼夜节律函数进行拟合，拟合后得到所述睡眠昼夜节律函数，其中，若干所述正弦函数分别对应不同的频率。在一种实施方式中，所述装置还包括用于确定所述睡眠稳态函数的第二函数确定模块；所述第二函数确定模块，用于根据若干所述历史脑电信号分别对应的睡眠时间段，确定若干所述历史脑电信号分别对应的第一指数函数，其中，所述第一指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式下降；根据若干所述历史脑电信号分别对应的觉醒时间段，确定若干所述历史脑电信号分别对应的第二指数函数，其中，所述第二指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式增长；根据若干所述历史脑电信号分别对应的所述第一指数函数和所述第二指数函数，确定所述睡眠稳态函数。在一种实施方式中，所述睡眠状态预测函数基于所述睡眠昼夜节律函数、所述睡眠稳态函数以及所述睡眠昼夜节律函数对应的权重系数确定，所述装置还包括用于确定所述权重系的相似度量模块和权重确定模块；所述相似度量模块，用于对若干所述历史脑电信号进行相似性度量，得到若干所述历史脑电信号对应的相似性数值；所述权重确定模块，用于根据所述相似性数值确定所述权重系数。在一种实施方式中，所述相似度量模块包括：信号转换单元，用于获取若干所述历史脑电信号分别对应的信号波，得到若干信号波；波形度量单元，用于对若干所述信号波的波形进行相似性度量，得到若干所述历史脑电信号对应的第一相似性数值；能量度量单元，用于对若干所述信号波的能量进行相似性度量，得到若干所述历史脑电信号对应的第二相似性数值；综合度量单元，用于根据所述第一相似性数值和所述第二相似性数值，确定所述相似性数值。第三方面，本发明实施例还提供一种终端，其中，所述终端包括有存储器和一个或者一个以上处理器；所述存储器存储有一个或者一个以上的程序；所述程序包含用于执行如上述任一所述的入睡时长预测方法的指令；所述处理器用于执行所述程序。第四方面，本发明实施例还提供一种计算机可读存储介质，其上存储有多条指令，其中，所述指令适用于由处理器加载并执行，以实现上述任一所述的入睡时长预测方法的步骤。本发明的有益效果：本发明实施例通过获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建；将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。本发明预先建立了目标用户的入睡时长预测函数，通过入睡时长预测函数来预测用户从当前时刻到进入睡眠所需要的时长。解决了现有技术中由于用户无法提前估算自身进入睡眠状态所需要的时长，因此难以精准调控睡眠相关产品的工作时长，导致设备产生无谓的耗电的问题。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明中记载的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1是本发明实施例提供的入睡时长预测方法的流程示意图。图2是本发明实施例提供的睡眠昼夜节律与睡眠稳态示意图。图3是本发明实施例提供的睡眠昼夜节律、睡眠稳态与睡眠状态预测的拟合曲线示意图。图4是本发明实施例提供的入睡时长预测装置的模块示意图。图5是本发明实施例提供的终端的原理框图。具体实施方式本发明公开了一种入睡时长预测方法、装置、终端及存储介质，为使本发明的目的、技术方案及效果更加清楚、明确，以下参照附图并举实施例对本发明进一步详细说明。应当理解，此处所描述的具体实施例仅用以解释本发明，并不用于限定本发明。本技术领域技术人员可以理解，除非特意声明，这里使用的单数形式“一”、“一个”、“所述”和“该”也可包括复数形式。应该进一步理解的是，本发明的说明书中使用的措辞“包括”是指存在所述特征、整数、步骤、操作、元件和/或组件，但是并不排除存在或添加一个或多个其他特征、整数、步骤、操作、元件、组件和/或它们的组。 应该理解，当我们称元件被“连接”或“耦接”到另一元件时，它可以直接连接或耦接到其他元件，或者也可以存在中间元件。此外，这里使用的“连接”或“耦接”可以包括无线连接或无线耦接。这里使用的措辞“和/或”包括一个或更多个相关联的列出项的全部或任一单元和全部组合。本技术领域技术人员可以理解，除非另外定义，这里使用的所有术语，具有与本发明所属领域中的普通技术人员的一般理解相同的意义。还应该理解的是，诸如通用字典中定义的那些术语，应该被理解为具有与现有技术的上下文中的意义一致的意义，并且除非像这里一样被特定定义，否则不会用理想化或过于正式的含义来解释。当前国民生活水平日益上升，人们都在追求更好的生活质量和健康生活，其中，良好的睡眠质量受到了许多人的高度重视，因此各种各样与睡眠相关的产品也应运而生，例如按摩枕、熏香、按摩眼罩等产品。目前用户在使用睡眠相关产品时，无法提前估算自身进入睡眠状态所需要的时长，因此难以精准调控睡眠相关产品的工作时长，导致设备产生无谓的耗电。针对现有技术的上述缺陷，本发明提供一种入睡时长预测方法，所述方法通过获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建；将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。本发明预先建立了目标用户的入睡时长预测函数，通过入睡时长预测函数来预测用户从当前时刻到进入睡眠所需要的时长。解决了现有技术中由于用户无法提前估算自身进入睡眠状态所需要的时长，因此难以精准调控睡眠相关产品的工作时长，导致设备产生无谓的耗电的问题。举例说明，假设用户A准备入睡需要设定按摩枕的工作时长，则将当前时刻输入用户A的入睡时长预测函数中，得到用户A的入睡时长，用户A再根据预测出的入睡时长来调节按摩枕的工作时长。这种方法不仅可以保证按摩枕在用户A入睡前持续工作，当用户A入睡后按摩枕还可以自动关闭，使按摩枕更加节能。如图1所示，所述方法包括如下步骤：步骤S100、获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建。具体地，本实施例中目标用户可以为任意一个待预测入睡时长的用户。为了准确预测目标用户从当前时刻到进入睡眠状态所需要的时长，本实施例需要预先获取目标用户的睡眠信息，由于睡眠信息可以反映目标用户的睡眠规律，因此通过睡眠信息可以建立目标用户对应的入睡时长预测函数。然后再获取当前时刻对应的时间数据，通过时间数据和预先建立的入睡时长预测函数即可确定目标用户的入睡时长。如图1所述，所述方法还包括如下步骤：步骤S200、将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。具体地，由于入睡时长预测函数是基于目标用户的睡眠信息建立的，因此将当前的时间数据输入入睡时长预测函数，入睡时长预测函数即可基于当前的时间数据计算出目标用户从当前时刻到其进入睡眠状态所耗费的时长，即得到目标用户的入睡时长。举例说明，系统获取当前时间22:10, 利用目标用户的入睡时长预测函数计算得到目标用户此次入睡时间t=18分钟，即22:28入睡。在一种实现方式中，所述入睡时长预测函数嵌套有睡眠状态预测函数，所述步骤S200具体包括如下步骤：步骤S201、将所述时间数据输入所述睡眠状态预测函数，得到所述目标用户对应的睡眠状态；步骤S202、将所述睡眠状态输入所述入睡时长预测函数，得到所述入睡时长。简单来说，本实施例中的入睡时长预测函数中包括有用于预估目标用户当前睡眠状态的睡眠状态预测函数，相当于预测入睡时长之前需要先预测目标用户当前的睡眠状态。具体地，当获取到当前时刻对应的时间数据时，先通过时间数据和睡眠状态预测函数确定目标用户当前的睡眠状态，再通过睡眠状态和入睡时长预测函数确定目标用户的入睡时长。举例说明，入睡时长预测函数对应的公式如下所示：其中，为睡眠状态预测函数；为入睡系数典型值，等于270；为衰减系数典型值，等于0.01。在一种实现方式中，所述睡眠状态预测函数基于睡眠昼夜节律函数和睡眠稳态函数组成，其中，所述睡眠昼夜节律函数用于反映所述目标用户的生物钟，所述睡眠稳态函数用于反映所述目标用户的睡眠压力的周期性变化，所述将所述时间数据输入所述睡眠状态预测函数，得到所述目标用户对应的睡眠状态，包括：步骤S2011、将所述时间数据分别输入所述睡眠昼夜节律函数和所述睡眠稳态函数，得到所述睡眠昼夜节律函数对应的睡眠期和所述睡眠稳态函数对应的睡眠压力值；步骤S2012、根据所述睡眠期和所述睡眠压力值，确定所述睡眠状态。具体地，本实施例中目标用户的睡眠状态预测函数可以是预先生成的，如图2所示，其主要是基于两种函数组成。第一种是睡眠昼夜节律函数，用于反映目标用户目标用户的生物钟。例如人的体温早晨稍低，白天逐渐上升，到黄昏又高一些。新陈代谢活动，白天分解过程旺盛，晚间则同化过程增强。白天交感神经活动占优势，夜晚副交感神经活动占优势。人体的肾上腺素含量在白天某一时刻达到一定水平，然后逐渐下降，12小时后再度上升，这些生理变化在一天之中的波动范围是恒定的，称为生物钟。第二种是睡眠稳态函数，用于反映目标用户的睡眠压力在昼夜之间呈现的周期性变化，例如人体在早晨清醒后，活动使腺苷持续积累，形成睡眠压力，随着睡眠的进行，睡眠压力又会被逐渐清除。目标用户的睡眠状态和觉醒状态的交替主要是受到睡眠昼夜节律与睡眠稳态两大因素相互作用、相互调节，因此本实施例采用目标用户的睡眠昼夜节律函数和睡眠稳态函数来构建其对应的睡眠状态预测函数。在实际应用过程中，通过睡眠昼夜节律函数和睡眠稳态函数分别计算出当前时刻所对应的睡眠期和睡眠压力值，再基于睡眠期和睡眠压力值综合确定目标用户当前的睡眠状态。在一种实现方式中，所述睡眠昼夜节律函数的确定过程包括如下步骤：步骤S10、获取所述目标用户对应的若干历史脑电信号，其中，若干历史脑电信号分别对应的采集时间段相同；步骤S11、分别对若干所述历史脑电信号进行分段处理，得到若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，其中，所述睡眠时间段和所述觉醒时间段分别对应不同的信号特征；步骤S12、根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述睡眠昼夜节律函数。具体地，本实施例中的睡眠昼夜节律函数是预先生成的，为了确定目标用户的睡眠昼夜节律，本实施例需要在相同的采集时间段获取目标用户在睡眠前后生成的若干历史脑电信号，由于目标用户在不同的生理状态下脑电信号会有不同的信号特征，因此可以根据信号特征的变化对这些历史脑电信号进行分段处理，从而划分出每个历史脑电信号对应的睡眠时间段和觉醒时间段，并根据这些睡眠时间段和觉醒时间段的交替规律，确定这两种时间段的周期性变化，从而得到目标用户的睡眠昼夜节律函数。举例说明，睡眠昼夜节律函数为，周期为二十四小时，的计算方式如下所示：其中，n典型值为4；a1=1.0，a2=0.2，a3=0.1，a4=0.02，=24。在一种实现方式中，所述步骤S12具体包括如下步骤：步骤S121、根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述目标用户对应的初始睡眠昼夜节律函数；步骤S122、根据若干正弦函数对所述初始睡眠昼夜节律函数进行拟合，拟合后得到所述睡眠昼夜节律函数，其中，若干所述正弦函数分别对应不同的频率。具体地，睡眠昼夜节律函数的一个周期为二十四小时，并呈现出类似正弦曲线状的波动，即睡眠状态和觉醒状态交替进行。因此本实施例采用多种频率的正弦函数对初始睡眠昼夜节律函数进行拟合，拟合后即得到目标用户的睡眠昼夜节律函数。在一种实现方式，所述睡眠稳态函数的确定过程包括如下步骤：步骤S20、根据若干所述历史脑电信号分别对应的睡眠时间段，确定若干所述历史脑电信号分别对应的第一指数函数，其中，所述第一指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式下降；步骤S21、根据若干所述历史脑电信号分别对应的觉醒时间段，确定若干所述历史脑电信号分别对应的第二指数函数，其中，所述第二指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式增长；步骤S22、根据若干所述历史脑电信号分别对应的所述第一指数函数和所述第二指数函数，确定所述睡眠稳态函数。具体地，脑电信号包含了目标用户大量的生理信息，是目标用户脑神经细胞群电生理活动在头皮表面或者大脑皮层的真实反映，当目标用户在清醒时和在困倦时，其脑电信号所呈现的信号特征是不同的。因此本实施例采用目标用户的历史脑电信号来监测其睡眠压力在昼夜之间所呈现的变化。目标用户在清醒状态下，睡眠压力会随着体力活动或者脑力活动的增多而不断增大，相反地，目标用户在觉醒状态下，睡眠压力会随着大脑得到充分的休息而不断减少。因此目标用户的历史脑电信号的觉醒时间段所对应的睡眠稳态函数的部分是增长型指数函数，而目标用户的历史脑电信号的睡眠时间段所对应的睡眠稳态函数的部分是下降型指数函数。举例说明，睡眠稳态函数为，计算方式如下所示：其中，U典型值为200；=24。在一种实现方式中，所述睡眠状态预测函数基于所述睡眠昼夜节律函数、所述睡眠稳态函数以及所述睡眠昼夜节律函数对应的权重系数确定，所述权重系数的确定过程包括如下步骤：步骤S30、对若干所述历史脑电信号进行相似性度量，得到若干所述历史脑电信号对应的相似性数值；步骤S31、根据所述相似性数值确定所述睡眠昼夜节律函数对应的权重系数。简单来说，虽然目标用户的睡眠状态受到睡眠昼夜节律与睡眠稳态两大因素相互作用、相互调节，但是两者的重要程度是不一样的，因此本实施例针对睡眠昼夜节律函数，设定了其对应的权重系数。可以理解的是，若目标用户的生物钟一直保持规律，则在相同采集时间段采集到的多个历史脑电信号越相似，由于睡眠昼夜节律函数是基于这些历史脑电信号拟合成的，因此其预测出的睡眠期也会更可靠。所以本实施例需要基于这些历史脑电信号的相似度，确定睡眠昼夜节律函数所对应的权重系数。举例说明，如图3所示，睡眠状态评估函数的公式如下所示：其中，是睡眠稳态函数；是睡眠昼夜节律函数； 是双因素权重系数，典型值为=75。在一种实现方式钟，所述步骤S30具体包括如下步骤：步骤S301、获取若干所述历史脑电信号分别对应的信号波，得到若干信号波；步骤S302、对若干所述信号波的波形进行相似性度量，得到若干所述历史脑电信号对应的第一相似性数值；步骤S303、对若干所述信号波的能量进行相似性度量，得到若干所述历史脑电信号对应的第二相似性数值；步骤S304、根据所述第一相似性数值和所述第二相似性数值，确定所述相似性数值。具体地，本实施例首先将各历史脑电信号转换为信号波，再分别评判各信号波的波形和能量之间的相似程度，得到用于反映波形的相似程度的第一相似性数值和用于反映能量的相似程度的第二相似性数值。最后再基于第一相似性数值和第二相似性数值综合评判各历史脑电信号之间的相似性。在一种实现方式中，所述方法还包括：获取所述目标用户对应的更新脑电信号，其中，所述更新脑电信号对应的采集时间与当前时刻最接近；根据所述更新脑电信号修正所述睡眠昼夜节律函数和所述睡眠稳态函数。具体地，在本次入眠前后，用额叶电极对目标用户进行脑电EEG信号记录。当EEG信号能量波谱主要集中目标区间内时，将实际采集的EEG信号作为更新脑电信号，用来修正已存储的睡眠昼夜节律a1，a2，a3，a4与睡眠稳态曲线参数U，以得到新的睡眠昼夜节律函数和睡眠稳态函数，用于下一次计算目标用户的入睡时长。基于上述实施例，本发明还提供了一种入睡时长预测装置，如图4所示，所述装置包括：获取模块01，用于获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建；输入模块02，用于将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。在一种实现方式中，所述入睡时长预测函数嵌套有睡眠状态预测函数，所述输入模块02包括：状态确定单元，用于将所述时间数据输入所述睡眠状态预测函数，得到所述目标用户对应的睡眠状态；时长确定单元，用于将所述睡眠状态输入所述入睡时长预测函数，得到所述入睡时长。在一种实现方式中，所述睡眠状态预测函数基于睡眠昼夜节律函数和睡眠稳态函数确定，其中，所述睡眠昼夜节律函数用于反映所述目标用户的生物钟，所述睡眠稳态函数用于反映所述目标用户的睡眠压力的周期性变化，所述状态确定单元包括：函数调用子单元，用于将所述时间数据分别输入所述睡眠昼夜节律函数和所述睡眠稳态函数，得到所述睡眠昼夜节律函数对应的睡眠期和所述睡眠稳态函数对应的睡眠压力值；综合判定子单元，用于根据所述睡眠期和所述睡眠压力值，确定所述睡眠状态。在一种实现方式中，所述装置还包括用于确定所述睡眠昼夜节律函数的信号采集模块、信号分段模块以及第一函数确定模块；所述信号采集模块，用于获取所述目标用户对应的若干历史脑电信号，其中，若干历史脑电信号分别对应的采集时间段相同；所述信号分段模块，用于分别对若干所述历史脑电信号进行分段处理，得到若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，其中，所述睡眠时间段和所述觉醒时间段分别对应不同的信号特征；所述第一函数确定模块，用于根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述睡眠昼夜节律函数。在一种实现方式中，所述第一函数确定模块包括：函数生成单元，用于根据若干所述历史脑电信号分别对应的睡眠时间段和觉醒时间段，确定所述目标用户对应的初始睡眠昼夜节律函数；函数拟合单元，用于根据若干正弦函数对所述初始睡眠昼夜节律函数进行拟合，拟合后得到所述睡眠昼夜节律函数，其中，若干所述正弦函数分别对应不同的频率。在一种实现方式中，所述装置还包括用于确定所述睡眠稳态函数的第二函数确定模块；所述第二函数确定模块，用于根据若干所述历史脑电信号分别对应的睡眠时间段，确定若干所述历史脑电信号分别对应的第一指数函数，其中，所述第一指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式下降；根据若干所述历史脑电信号分别对应的觉醒时间段，确定若干所述历史脑电信号分别对应的第二指数函数，其中，所述第二指数函数的横坐标为时间，纵坐标为睡眠压力，且睡眠压力随着时间呈指数式增长；根据若干所述历史脑电信号分别对应的所述第一指数函数和所述第二指数函数，确定所述睡眠稳态函数。在一种实现方式中，所述睡眠状态预测函数基于所述睡眠昼夜节律函数、所述睡眠稳态函数以及所述睡眠昼夜节律函数对应的权重系数确定，所述装置还包括用于确定所述权重系数的相似度量模块和权重确定模块；所述相似度量模块，用于对若干所述历史脑电信号进行相似性度量，得到若干所述历史脑电信号对应的相似性数值；所述权重确定模块，用于根据所述相似性数值确定所述权重系数。在一种实现方式中，所述相似度量模块包括：信号转换单元，用于获取若干所述历史脑电信号分别对应的信号波，得到若干信号波；波形度量单元，用于对若干所述信号波的波形进行相似性度量，得到若干所述历史脑电信号对应的第一相似性数值；能量度量单元，用于对若干所述信号波的能量进行相似性度量，得到若干所述历史脑电信号对应的第二相似性数值；综合度量单元，用于根据所述第一相似性数值和所述第二相似性数值，确定所述相似性数值。基于上述实施例，本发明还提供了一种终端，其原理框图可以如图5所示。该终端包括通过系统总线连接的处理器、存储器、网络接口、显示屏。其中，该终端的处理器用于提供计算和控制能力。该终端的存储器包括非易失性存储介质、内存储器。该非易失性存储介质存储有操作系统和计算机程序。该内存储器为非易失性存储介质中的操作系统和计算机程序的运行提供环境。该终端的网络接口用于与外部的终端通过网络连接通信。该计算机程序被处理器执行时以实现入睡时长预测方法。该终端的显示屏可以是液晶显示屏或者电子墨水显示屏。本领域技术人员可以理解，图5中示出的原理框图，仅仅是与本发明方案相关的部分结构的框图，并不构成对本发明方案所应用于其上的终端的限定，具体的终端可以包括比图中所示更多或更少的部件，或者组合某些部件，或者具有不同的部件布置。在一种实现方式中，所述终端的存储器中存储有一个或者一个以上的程序，且经配置以由一个或者一个以上处理器执行所述一个或者一个以上程序包含用于进行入睡时长预测方法的指令。本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，所述的计算机程序可存储于一非易失性计算机可读取存储介质中，该计算机程序在执行时，可包括如上述各方法的实施例的流程。其中，本发明所提供的各实施例中所使用的对存储器、存储、数据库或其它介质的任何引用，均可包括非易失性和/或易失性存储器。非易失性存储器可包括只读存储器、可编程ROM、电可编程ROM、电可擦除可编程ROM或闪存。易失性存储器可包括随机存取存储器或者外部高速缓冲存储器。作为说明而非局限，RAM以多种形式可得，诸如静态RAM、动态RAM、同步DRAM、双数据率SDRAM、增强型SDRAM、同步链路 DRAM、存储器总线直接RAM、直接存储器总线动态RAM、以及存储器总线动态RAM等。综上所述，本发明公开了一种入睡时长预测方法、装置、终端及存储介质，所述方法通过获取时间数据和目标用户对应的入睡时长预测函数，其中，所述入睡时长预测函数基于所述目标用户对应的睡眠信息构建；将所述时间数据输入所述入睡时长预测函数，得到所述目标用户对应的入睡时长，其中，所述入睡时长用于反映所述目标用户从所述时间数据对应的时刻至进入睡眠状态所经历的时间长度。本发明预先建立了目标用户的入睡时长预测函数，通过入睡时长预测函数来预测用户从当前时刻到进入睡眠所需要的时长。解决了现有技术中由于用户无法提前估算自身进入睡眠状态所需要的时长，因此难以精准调控睡眠相关产品的工作时长，导致设备产生无谓的耗电的问题。应当理解的是，本发明的应用不限于上述的举例，对本领域普通技术人员来说，可以根据上述说明加以改进或变换，所有这些改进和变换都应属于本发明所附权利要求的保护范围。
