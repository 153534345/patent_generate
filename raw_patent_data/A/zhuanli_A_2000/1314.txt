标题title
清洁机器人及其控制方法
摘要abst
一种清洁机器人及其控制方法，该清洁机器人的控制方法包括：当获取到建图指令时，确认清洁机器人的拖地组件是否处于非工作状态；当拖地组件处于非工作状态时，执行建图指令，以生成工作区域地图。可以避免清洁机器人在建图过程中的交叉污染。
权利要求书clms
一种清洁机器人的控制方法，其特征在于，包括：当获取到建图指令时，确认所述清洁机器人的拖地组件是否处于非工作状态；当所述拖地组件处于非工作状态时，执行所述建图指令，以生成工作区域地图。如权利要求1所述的清洁机器人的控制方法，其特征在于，所述确认所述拖地组件是否处于非工作状态，包括：在所述拖地组件的初始状态为工作状态时，控制所述拖地组件切换为非工作状态。如权利要求2所述的清洁机器人的控制方法，其特征在于，所述拖地组件处于非工作状态，包括：所述拖地组件处于升起状态。如权利要求2所述的清洁机器人的控制方法，其特征在于，所述拖地组件处于非工作状态，包括：所述拖地组件处于与所述清洁机器人本体分离状态。如权利要求3所述的清洁机器人的控制方法，其特征在于，当获取到建图指令时，在所述拖地组件的初始状态为工作状态时，控制所述清洁机器人的第一支撑部件由收起位置运动至伸出位置，从而使所述拖地组件处于升起状态。如权利要求3所述的清洁机器人的控制方法，其特征在于，当获取到建图指令时，在所述拖地组件的初始状态为工作状态时，控制所述清洁机器人的拖地组件抬升机构带动所述拖地组件运动至升起位置，从而使所述拖地组件处于升起状态。如权利要求6所述的清洁机器人的控制方法，其特征在于，还包括：在使所述拖地组件处于升起状态时，控制所述清洁机器人的第二支撑部件由升起状态切换为落地状态。如权利要求3所述的清洁机器人的控制方法，其特征在于，还包括：当生成所述工作区域地图后，控制所述清洁机器人的拖地组件处于落地状态。如权利要求4所述的清洁机器人的控制方法，其特征在于，还包括：当生成所述工作区域地图后，控制所述清洁机器人切换为所述拖地组件处于与所述清洁机器人本体接合状态。如权利要求3所述的清洁机器人的控制方法，其特征在于，所述拖地组件处于升起状态时的离地高度不低于设定的高度值。如权利要求1所述的清洁机器人的控制方法，其特征在于，所述清洁机器人还包括扫地组件，所述当获取到建图指令时，确认所述清洁机器人的拖地组件是否处于非工作状态；当所述拖地组件处于非工作状态时，执行所述建图指令，以生成工作区域地图，具体包括：当获取到建图指令时，确认所述清洁机器人的拖地组件和扫地组件的工作状态是否处于可建图状态；当所述清洁机器人的拖地组件和扫地组件的工作状态处于可建图状态时，执行所述建图指令，以生成工作区域地图。如权利要求11所述的清洁机器人的控制方法，其特征在于，所述确认所述清洁机器人的拖地组件和扫地组件的工作状态是否处于可建图状态，包括：在所述清洁机器人的拖地组件和扫地组件的工作状态处于不可建图状态时，控制所述清洁机器人的拖地组件和扫地组件的工作状态 切换为可建图状态。如权利要求11所述的清洁机器人的控制方法，其特征在于，所述可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于非工作状态。如权利要求11所述的清洁机器人的控制方法，其特征在于，所述可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于工作状态。一种清洁机器人，包括：机身；行走装置，支撑所述机身，用于带动所述清洁机器人在工作表面移动；拖地组件，用于安装在所述机身上，并在工作表面执行清洁工作；控制装置，控制所述行走装置带动所述清洁机器人移动；定位装置，设置在所述机身上，与所述控制装置电性连接，用于获取所述清洁机器人的位置信息；其特征在于，所述控制装置被配置为当获取到建图指令时，确认所述拖地组件是否处于非工作状态；还被配置为当所述拖地组件处于非工作状态时，基于所述定位装置获取的所述清洁机器人的位置信息生成工作区域的地图。如权利要求15所述的清洁机器人，其特征在于，所述定位装置包括激光雷达传感器和/或视觉传感器。如权利要求15所述的清洁机器人，其特征在于，所述拖地组件处于非工作状态，包括：所述拖地组件处于升起状态。如权利要求15所述的清洁机器人，其特征在于，所述拖地组件处于非工作状态，包括：所述拖地组件处于与所述清洁机器人本体分离状态。如权利要求15所述的清洁机器人，其特征在于，所述清洁机器人还包括第一支撑部件，所述第一支撑部件设置在所述机身上；所述第一支撑部件可从第一位置运动至第二位置以带动所述机身在垂直于地面方向上运动，从而带动所述拖地组件在垂直于地面方向上运动。如权利要求15所述的清洁机器人，其特征在于，所述清洁机器人还包括拖地组件抬升机构，所述拖地模块抬升机构与所述拖地组件相连接，以带动所述拖地组件运动至升起位置。如权利要求20所述的清洁机器人，其特征在于，所述清洁机器人还包括第二支撑部件，所述第二支撑部件设置在所述机身上，用于在所述拖地组件处于升起状态时为所述清洁机器人提供支撑；所述控制装置控制所述第二支撑部件在所述拖地组件处于升起状态时运动至所述工作表面，从而使所述第二支撑部件处于落地状态。如权利要求20所述的清洁机器人，其特征在于，所述控制装置生成所述工作区域地图后，控制所述拖地组件抬升机构带动所述拖地组件运动至所述工作表面，从而使所述拖地组件切换为落地状态。如权利要求22所述的清洁机器人，其特征在于，所述拖地组件处于升起状态时所述定位装置的离地高度值与所述拖地组件处于落地状态时所述定位装置的离地高度的高度值之差小于预设值。如权利要求15所述的清洁机器人，其特征在于，所述清洁机器人还包括扫地组件，所述控制装置被配置为当获取到建图指令时，确认所述清洁机器人的拖地组件和扫地组件的工作状态是否处于可建图状态；所述控制装置还被配置为当所述清洁机器人的拖地组件和扫地组件的工作状态处于可建图状态时，执行所述建图指令，以生成工作区域地图。如权利要求24所述的清洁机器人，其特征在于，所述控制装置还被配置为在所述清洁机器人的拖地组件和扫地组件的工作状态处于不可建图状态时，控制所述清洁机器人的拖地组件和扫地组件的工作状态切换为可建图状态。如权利要求24所述的清洁机器人，其特征在于，所述可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于非工作状态。如权利要求24所述的清洁机器人，其特征在于，所述可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于工作状态。
说明书desc
本申请要求了申请日为2020年05月29日，申请号为202010482194.9的中国专利申请的优先权，其全部内容通过引用结合在本申请中。技术领域本说明书涉及机器人技术领域，尤其是涉及一种清洁机器人及其控制方法。背景技术随着机器人技术的不断发展，清洁机器人越来越多地应用于表面清洁。为了能够有效去除表面上残留的顽固污渍，一些清洁机器人还具有拖地功能。为了提高清洁作业效率，清洁机器人一般是边建图边执行拖地等清洁作业。然而，在实现本申请的过程中，本申请的发明人发现：现有技术中这种边建图边作业的方式，容易导致清洁机器人的工作区域内不同部分之间的交叉污染。因此，如何避免或减轻清洁机器人在建图过程中的交叉污染，已成为目前亟待解决的技术问题。发明内容本说明书实施方案的目的在于提供一种清洁机器人及其控制方法，以避免清洁机器人在建图过程中的交叉污染。为达到上述目的，一方面，本说明书实施方案提供了一种清洁机器人的控制方法，包括：当获取到建图指令时，确认所述清洁机器人的清洁装置是否处于非工作状态；当所述清洁装置处于非工作状态时，执行所述建图指令，以生成工作区域地图。可选的，所述确认所述清洁装置是否处于非工作状态，包括：在所述清洁装置的初始状态为工作状态时，控制所述清洁装置切换为非工作状态。可选的，所述清洁装置包括拖地组件。可选的，所述清洁装置处于非工作状态，包括：所述拖地组件处于升起状态。可选的，所述清洁装置处于非工作状态，包括：所述拖地组件处于与所述清洁机器人本体分离状态。可选的，控制所述清洁机器人的第一支撑部件由收起位置运动至伸出位置，从而使所述拖地组件处于升起状态。可选的，控制所述清洁机器人的拖地组件抬升机构带动所述拖地组件运动至升起位置，从而使所述拖地组件处于升起状态。可选的，所述方法还包括：在使所述拖地组件处于升起状态时，控制所述清洁机器人的第二支撑部件由升起状态切换为落地状态。可选的，所述方法还包括：当生成所述工作区域地图后，控制所述清洁机器人切换为所述拖地组件与本体接合状态。可选的，所述方法还包括：所述拖地组件处于升起状态时的离地高度达到设定的高度值。本说明书实施方案还提供一种清洁机器人，包括：机身；行走装置，支撑所述机身，用于带动所述清洁机器人在工作表面移动；清洁装置，用于安装在所述机身上，并在工作表面执行清洁工作；控制装置，控制所述行走装置带动所述清洁机器人移动；定位装置，设置在所述机身上，与所述控制装置电性连接，用于获取所述清洁机器人的位置信息；其特征在于，所述控制装置被配置为当获取到建图指令时，确认所述清洁装置是否处于非工作状态；还被配置为当所述清洁装置处于非工作状态时，基于所述定位装置获取的所述清洁机器人的位置信息生成工作区域的地图。可选的，所述定位装置包括激光雷达传感器或视觉传感器。可选的，所述清洁装置包括拖地组件。可选的，所述清洁装置处于非工作状态，包括：所述拖地组件处于升起状态。可选的，所述清洁装置处于非工作状态，包括：所述拖地组件处于与所述清洁机器人本体分离状态。可选的，所述清洁机器人还包括第一支撑部件，所述第一支撑部件设置在所述机身上；所述控制装置控制所述第一支撑部件从收起位置运动至伸出位置，从而使所述拖地组件处于升起状态。可选的，所述清洁机器人还包括拖地组件抬升机构，所述拖地模块抬升机构与所述拖地组件相连接，所述控制装置控制所述拖地组件抬升机构带动所述拖地组件运动升起位置，从而使所述拖地组件处于升起状态。可选的，所述清洁机器人还包括第二支撑部件，所述第二支撑部件设置在所述机身上，用于在所述拖地组件处于升起状态时为所述清洁机器人提供支撑；所述控制装置控制所述第二支撑部件在所述拖地组件处于升起状态时运动至所述工作表面，从而使所述第二支撑部件处于落地状态。可选的，所述控制装置生成所述工作区域地图后，控制所述拖地组件抬升机构带动所述拖地组件运动至所述工作表面，从而使所述拖地组件切换为落地状态。可选的，所述拖地组件处于升起状态时所述定位装置的离地高度，与所述拖地组件处于落地状态时所述定位装置的离地高度大致相同。本说明书实施方案还提供了一种清洁机器人的控制方法，包括：当获取到建图指令时，确认所述清洁机器人的拖地模块是否处于非工作状态；当所述拖地模块处于非工作状态时，执行所述建图指令，以生成工作区域地图。可选的，所述确认所述拖地组件是否处于非工作状态，包括：在所述拖地组件的初始状态为工作状态时，控制所述拖地组件切换为非工作状态。可选的，所述拖地组件处于非工作状态，包括：所述拖地组件处于升起状态。可选的，所述拖地组件处于非工作状态，包括：所述拖地组件处于与所述清洁机器人本体分离状态。可选的，当获取到建图指令时，在所述拖地组件的初始状态为工作状态时，控制所述清洁机 器人的第一支撑部件由收起位置运动至伸出位置，从而使所述拖地组件处于升起状态。可选的，当获取到建图指令时，在所述拖地组件的初始状态为工作状态时，控制所述清洁机器人的拖地组件抬升机构带动所述拖地组件运动至升起位置，从而使所述拖地组件处于升起状态。可选的，所述方法还包括：在使所述拖地组件处于升起状态时，控制所述清洁机器人的第二支撑部件由升起状态切换为落地状态。可选的，所述方法还包括：当生成所述工作区域地图后，控制所述清洁机器人的拖地组件处于落地状态。可选的，所述方法还包括：当生成所述工作区域地图后，控制所述清洁机器人切换为所述拖地组件处于与所述清洁机器人本体接合状态。可选的，所述拖地组件处于升起状态时的离地高度不低于设定的高度值。可选的，所述清洁机器人还包括扫地组件，所述当获取到建图指令时，确认所述清洁机器人的拖地组件是否处于非工作状态；当所述拖地组件处于非工作状态时，执行所述建图指令，以生成工作区域地图，具体包括：当获取到建图指令时，确认所述清洁机器人的拖地组件和扫地组件的工作状态是否处于可建图状态；当所述清洁机器人的拖地组件和扫地组件的工作状态处于可建图状态时，执行所述建图指令，以生成工作区域地图。可选的，所述确认所述清洁机器人的拖地组件和扫地组件的工作状态是否处于可建图状态，包括：在所述清洁机器人的拖地组件和扫地组件的工作状态处于不可建图状态时，控制所述清洁机器人的拖地组件和扫地组件的工作状态切换为可建图状态。可选的，所述可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于非工作状态。可选的，所述可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于工作状态。本说明书实施方案还提供了一种清洁机器人，包括：机身；行走装置，支撑所述机身，用于带动所述清洁机器人在工作表面移动；拖地模块，用于安装在所述机身上，并在工作表面执行清洁工作；控制装置，控制所述行走装置带动所述清洁机器人移动；定位装置，设置在所述机身上，与所述控制装置电性连接，用于获取所述清洁机器人的位置信息；所述控制装置被配置为当获取到建图指令时，确认所述拖地模块是否处于非工作状态；还被配置为当所述拖地模块处于非工作状态时，基于所述定位装置获取的所述清洁机器人的位置信息生成工作区域的地图。可选的，所述定位装置包括激光雷达传感器和/或视觉传感器。可选的，所述拖地组件处于非工作状态，包括：所述拖地组件处于升起状态。可选的，所述拖地组件处于非工作状态，包括：所述拖地组件处于与所述清洁机器人本体分离状态。可选的，所述清洁机器人还包括第一支撑部件，所述第一支撑部件设置在所述机身上；所述第一支撑部件可从第一位置运动至第二位置以带动所述机身在垂直于地面方向上运动，从而带动所述拖地组件在垂直于地面方向上运动。可选的，所述清洁机器人还包括拖地组件抬升机构，所述拖地模块抬升机构与所述拖地组件相连接，以带动所述拖地组件运动至升起位置。可选的，所述清洁机器人还包括第二支撑部件，所述第二支撑部件设置在所述机身上，用于在所述拖地组件处于升起状态时为所述清洁机器人提供支撑；所述控制装置控制所述第二支撑部件在所述拖地组件处于升起状态时运动至所述工作表面，从而使所述第二支撑部件处于落地状态。可选的，所述控制装置生成所述工作区域地图后，控制所述拖地组件抬升机构带动所述拖地组件运动至所述工作表面，从而使所述拖地组件切换为落地状态。可选的，所述拖地组件处于升起状态时所述定位装置的离地高度值与所述拖地组件处于落地状态时所述定位装置的离地高度的高度值之差小于预设值。可选的，所述清洁机器人还包括扫地组件，所述控制装置被配置为当获取到建图指令时，确认所述清洁机器人的拖地组件和扫地组件的工作状态是否处于可建图状态；所述控制装置还被配置为当所述清洁机器人的拖地组件和扫地组件的工作状态处于可建图状态时，执行所述建图指令，以生成工作区域地图。可选的，所述控制装置还被配置为在所述清洁机器人的拖地组件和扫地组件的工作状态处于不可建图状态时，控制所述清洁机器人的拖地组件和扫地组件的工作状态切换为可建图状态。可选的，所述可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于非工作状态。可选的，所述可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于工作状态。由以上本说明书实施方案提供的技术方案可见，在本说明书实施方案中，清洁机器人在获取到建图指令时，先确认清洁机器人的拖地组件是否处于非工作状态；当确认拖地组件处于非工作状态时才执行建图指令，以生成工作区域地图。如此，清洁机器人在其拖地组件处于非工作状态下进行建图，也就避免了建图过程中因执行清洁作业而导致的交叉污染。附图说明为了更清楚地说明本说明书实施方案或现有技术中的技术方案，下面将对实施方案或现有技术描述中所需要控制用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本说明书中记载的一些实施方案，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。在附图中：图1为本说明书的一些实施方案中清洁机器人的示意图；图2为本说明书一实施方案中清洁机器人在室内环境中自主移动建图的示意图；图3为本说明书的一些实施方案中清洁机器人的电动升降机构的控制原理示意图；图4为本说明书的一些实施方案中清洁机器人的拖地组件的升起状态示意图；图5为本说明书的一些实施方案中清洁机器人的拖地组件的落地状态示意图；图6为本说明书的一些实施方案中清洁机器人的控制方法的流程图之一；图7为本说明书的一些实施方案中清洁机器人的控制方法的流程图之二。具体实施方式为了控制本技术领域的人员更好地理解本说明书中的技术方案，下面将结合本说明书实施方案中的附图，对本说明书实施方案中的技术方案进行清楚、完整地描述，显然，所描述的实施方案仅仅是本说明书一部分实施方案，而不是全部的实施方案。基于本说明书中的实施方案，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施方案，都应当属于本说明书保护的范围。本说明书中提及的清洁机器人一般指其本体自带各种必要的传感器、控制装置，在运行过程中，可以在无外界干预和控制的条件下，自主完成清洁任务的智能机器人，即清洁机器人可以在工作区域内自主移动并执行清洁任务。不仅如此，本说明书中提及清洁机器人还具有拖地功能。参考图1所示，这类具有拖地功能的清洁机器人100可设置有清洁装置11，该清洁装置11可以对工作区域的表面进行干拖和/或湿拖，以更好地去除表面污渍。在一示例性实施方案中，这类具有拖地功能的清洁机器人100例如可以为专用于拖地的拖地机器人，或兼具有拖地功能的扫拖一体机器人。在实现本申请的过程中，本申请的发明人发现：多数情况下，清洁机器人的工作区域可以包括多个环境不同的部分。结合图2所示，以家庭室内地面这一典型工作区域为例，由于家庭室内地面一般包括卧室地面、厨房地面、卫生间地面和客厅地面等不同部分。这些不同部分的污渍种类一般不同。通常人们并不希望因拖地而导致交叉污染，比如，人们不希望拖过卫生间的拖布再去拖卧室。并且，相对于清洁机器人的扫地部件，清洁机器人的清洁装置更容易附着污渍。因此，在建图过程中，如果清洁机器人100边建图边拖地，更容易导致工作区域内不同部分之间的交叉污染。本领域技术人员可以理解，这里的建图是指清洁机器人创建或更新其工作区域地图。有鉴于此，为了避免清洁机器人在建图过程中的交叉污染，在本说明书的一些实施方案中，清洁机器人可以包括机身、行走装置、清洁装置、控制装置和定位装置。其中，行走装置支撑所述机身，其可以用于带动所述清洁机器人在工作表面移动。清洁装置可以是拖地组件，拖地组件可以用于安装在所述机身上，并在工作表面执行清洁工作。控制装置可以控制所述行走装置带动所述清洁机器人移动。定位装置设置在所述机身上，且与所述控制装置电性连接，用于获取所述清洁机器人的位置信息。所述控制装置可以被配置为当获取到建图指令时，确认所述拖地组件是否处于非工作状态；还被配置为当所述拖地组件处于非工作状态时，基于所述定位装置获取的所述清洁机器人的位置信息生成工作区域的地图。由此可见，在本说明书实施方案中，清洁机器人在获取到建图指令时，先确认清洁机器人的拖地组件是否处于非工作状态；当确认拖地组件处于非工作状态时才执行建图指令，以生成工作区域地图。如此，清洁机器人在其拖地组件处于非工作状态下进行建图，也就避免了建图过程中因执行清洁作业而导致的交叉污染。需要指出的是，当拖地组件处于非工作状态时，拖地组件不执行拖地动作，以节省电能。在本说明书的实施方案中，所述确认所述拖地组件是否处于非工作状态还可以包括：在所述拖地组件的初始状态为工作状态时，控制所述拖地组件切换为非工作状态。在本说明书一些实施方案中，所述拖地组件处于非工作状态可以为：所述拖地组件处于升起状态。由于拖地组件处于升起状态下不与工作表面接触，如此，在这种非工作状态下进行建图，则可以避免建图过程中因 执行清洁作业而导致的交叉污染。在本说明书另一些实施方案中，所述拖地组件处于非工作状态也可以为：所述拖地组件处于与所述清洁机器人本体分离状态。由于拖地组件已与清洁机器人本体相分离，如此，清洁机器人在此状态下进行建图，也就不存因执行拖地作业而导致的交叉污染问题。在本说明书的一些实施方案中，所述清洁机器人还可以包括第一支撑部件，所述第一支撑部件设置在所述机身上；所述控制装置可以控制所述第一支撑部件从收起位置运动至伸出位置，从而使清洁机器人本体的一部分被抬起，进而使拖地组件被同步抬起，即使得所述拖地组件处于升起状态。在此过程中，拖地组件与机身保持相对位置关系固定。相应的，当完成工作区域的建图后，所述控制装置还可以控制所述清洁机器人的第一支撑部件由伸出位置运动至收起位置，进而使清洁机器人本体被抬升的部分落地，从而使拖地组件同步地切换为落地状态，以便进入工作状态。在一示例性实施方案中，第二支撑部件例如为起落架。在本说明书的另一些实施方案中，所述清洁机器人还包括拖地组件抬升机构，所述拖地模块抬升机构可与所述拖地组件相连接，所述控制装置可以控制所述拖地组件抬升机构带动所述拖地组件运动升起位置，从而使所述拖地组件处于升起状态。在此过程中，拖地组件与机身保持相对位置关系会发生变化。相应的，当完成工作区域的建图后，所述控制装置还可以控制所述清洁机器人的拖地组件抬升机构带动所述拖地组件运动至落地位置，从而使拖地组件切换为落地状态，以便进入工作状态。如此，就实现了控制装置对拖地组件的状态切换控制，即实现了拖地组件在落地状态和升起状态之间切换。在上述通过控制所述清洁机器人的第一支撑部件由收起位置运动至伸出位置，从而使所述拖地组件处于升起状态的情况下，所述定位装置可以为视觉传感器等。而在上述通过控制所述清洁机器人的拖地组件抬升机构带动所述拖地组件运动至升起位置，从而使所述拖地组件处于升起状态的情况下，所述定位装置可以为激光雷达传感器、或视觉传感器等。在本说明书的一些实施方案中，拖地组件处于升起状态时定位装置的离地高度可以达到设定的高度值。例如，拖地组件处于升起状态时定位装置的离地高度，可以与拖地组件处于落地状态时定位装置的离地高度大致相同。在本说明书的一实施方案中，对于定位装置采用激光雷达传感器的应用场景，如果建图时激光雷达传感器的离地高度，与执行清洁作业时激光雷达传感器的离地高度不一致，则清洁机器人所建的地图平面与其实际工作的平面就会存在偏差，从而容易影响清洁机器人的清洁作业。因此，为了避免出现这种情况，所述拖地组件处于升起状态时激光雷达传感器的离地高度，可以与拖地组件处于落地状态时激光雷达传感器的离地高度大致相同。其中，所述大致相同是指相同或基本相同；基本相同的情况下虽有偏差，但偏差在允许的范围内。不仅如此，拖地组件处于升起状态时定位装置的离地高度可以达到设定的高度值，还可以有利于防止拖地组件在建图过程中因越障或表面不平而可能碰触表面，进而有利于进一步提升清洁机器人在建图过程中的防交叉污染能力。如图3所示，在一示例性实施方案中，拖地组件抬升机构可以为电动升降机构。清洁机器人的控制装置可以通过驱动器控制电动升降机构的电动机动作，并据此控制电动升降机构执行升起或降落动作。本领域技术人员可以理解，这里仅是举例说明，在本说明书其他的实施方案中，拖 地组件抬升机构的动力源也可为液动或气动等。相应的，清洁机器人的控制装置可以通过控制液动执行器或气动执行器，对应控制拖地组件抬升机构执行升起或降落动作。因此，本说明书对于拖地组件抬升机构采用何种动力源不作限定。此外，根据需要，拖地组件抬升机构可以采用任何合适的结构。例如，在一示例性实施方案中，拖地组件抬升机构的结构可以为升缩式结构、套筒式结构、升缩臂式结构、折臂式结构或剪叉式结构等。在本说明书的一些实施方案中，执行建图指令是指清洁机器人的控制装置执行地图创建动作。即控制装置控制清洁机器人遍历工作区域，并在遍历过程中通过自身携带的定位装置等，获取工作区域的边界位置分布及边界内的障碍物位置分布等，并据此生成工作区域的平面地图。一般情况下，清洁机器人在上电启动后，可以处在如下几个状态之一：建图、清洁作业、回归充电、异常、待机等状态。多数情况下，清洁机器人在上电启动后，可以默认自动先进行建图，无须人工干预。因此，对于清洁机器人的控制装置而言，当确认清洁机器人已完成上电启动时，可以视为控制装置接收到了建图指令。在本说明书的一些实施方案中，清洁机器人的控制装置可以通过软件和/或硬件等方式，来确认拖地组件的升降状态。在本说明书的另一些实施方案中，建图指令也可以是由外部输入的。此种情况下，清洁机器人在上电启动后，可以默认先自动进入待机状态，以等待人工干预指令而执行相应动作。例如，在接收到外部输入的建图指令时，清洁机器人的控制装置可以执行建图动作。在一示例性实施方案中，清洁机器人可以与用户其他的电子设备之间进行通信，电子设备上可以配置有应用客户端。基于用户的操作，客户端可以向清洁机器人发送建图指令。相应的，清洁机器人的控制装置可以接收到该建图指令。其中，上述电子设备可以为智能手机、智能可穿戴设备、平板电脑、笔记本电脑、数字助理或台式电脑等。在另一示例性实施方案中，本体上可以设置有控制面板；或者，清洁机器人可以配置有遥控器。由此，基于用户的操作，控制面板或遥控器也可以向清洁机器人发送建图指令。在另一示例性实施方案中，清洁机器人上还可以设有语音交互接口。用户可直接通过语音交互接口，以语音方式向清洁机器人下达建图指令。在本说明书的一些实施方案中，所述清洁机器人还可以包括第二支撑部件，所述第二支撑部件设置在所述机身上，用于在所述拖地组件处于升起状态时为所述清洁机器人提供支撑。所述控制装置可以控制所述第二支撑部件在所述拖地组件处于升起状态时运动至所述工作表面，从而使所述第二支撑部件处于落地状态。相应的，当生成所述工作区域地图后，在使所述拖地组件处于落地状态时，所述控制装置还可以控制所述第二支撑部件由落地状态切换为升起状态。因此，在所述控制装置的控制下，第二支撑部件可以始终与拖地组件状态相反，且第二支撑部件和拖地组件始终保持只有一个落地。即当拖地组件处于升起状态时，第二支撑部件处于落地状态；此时，第二支撑部件起到支撑本体和辅助本体移动的作用；反之，当拖地组件处于落地状态时，第二支撑部件处于升起状态；此时，处于落地状态的拖地组件兼具有支撑本体的作用。如此，可以有利于保证清洁机器人的越障能力并兼顾拖地的接近性。在一示例性实施方案中，第二支撑部件例如可以为可设置有万向轮的升降机构等。在本说明书的一些实施方案中，拖地组件的状态切换和第二支撑部件的状态切换可以采用联动控制。如此，使得通过控制一个动力源，清洁机器人的控制装置即可以同步实现对第二支撑部件及拖地组件的状态切换控制，从而可以简化结构、降低成本。例如，在一示例性实施方案中，可以在拖地组件抬升机构与第二支撑部件之间设置联动机构。在清洁机器人的控制装置下，通过一个动力源驱动联动机构，即可以同步带动拖地组件抬升机构与第二支撑部件进行反向联动。在动力源的驱动下，当联动机构带动拖地组件抬升机构上升时，同步带动第二支撑部件下降；相应地，当联动机构带动拖地组件抬升机构下降时，同步带动第二支撑部件上升。在本说明书的另一些实施方案中，拖地组件抬升机构和第二支撑部件之间也可以不联动，即拖地组件抬升机构的状态切换和第二支撑部件的状态切换可以各自独立控制。当然，为了和拖地组件始终保持只有一个落地，在拖地组件处于落地状态时，清洁机器人的控制装置在控制拖地组件切换为升起状态时，也一并控制第二支撑部件由升起状态切换为落地状态。在本说明书的一些实施方案中，拖地组件与本体之间可以为可拆卸连接。清洁机器人的控制装置可以适时控制拖地组件与本体的离合状态。当获取到建图指令时，控制装置可以使拖地组件与本体相分离，从而使拖地组件处于与本体分离状态。由于本体上没有了拖地组件，清洁机器人在此状态下进行建图也就不存在建图过程中因执行拖地作业而导致的交叉污染问题。相应地，在使拖地组件处于与本体分离状态后，当生成工作区域地图时，控制装置还可以控制拖地组件切换为与本体接合状态，以便于后续拖地组件执行清洁作业。在本说明书的实施方案中，控制装置使拖地组件与本体分离时的位置可以为指定位置，以便于完成建图后，清洁机器人可以快速返回该位置，并使拖地组件与重新本体连接配合。在一示例性实施方案中，由于清洁机器人的启动位置通常为充电站位置，因此，这个指定位置可以为充电站位置。当然，根据需要也可以选择其他位置。在一示例性实施方案中，对于采用随机行走方式执行清洁作业的应用场景，在生成工作区域地图并使拖地组件切换为落地状态后，控制装置可以控制拖地组件立即执行拖地作业。在另一示例性实施方案中，对于按照规划路径行走执行清洁作业的应用场景，由于在生成工作区域地图后，清洁机器人的控制装置根据工作地图规划行走路径可能需要时间。此情况下，在生成工作区域地图并使拖地组件切换为落地状态后，控制装置可以控制拖地组件适时执行拖地作业，以等待路径规划结果。当然，如果控制装置本身的数据处理性能比较强，在生成工作区域地图后，可以在使拖地组件切换为落地状态同时，并行地根据工作地图完成行走路径规划，则可以无需等待。为了进一步防止交叉污染，在生成工作区域地图后，清洁机器人的控制装置还可以根据工作区域地图，对工作区域按照环境属性进行分区，当清洁机器人完成一个分区的拖地作业后，在跨 入下一个分区进行拖地作业之前，清洁机器人的控制装置可以控制清洁机器人进行拖布部件更换或清洗，以免拖布部件上所附着的上一个分区的污渍对下一个分区造成交叉污染。例如，以图2所示的家庭室内表面为例，可以将卫生间分为一个分区，将厨房和餐厅分为一个分区，将客厅、阳台和过道分为一个分区，将所有卧室和书房分为另一个分区。当清洁机器人完成任意一个分区的拖地作业，跨入下一个分区进行拖地作业之前，控制装置可以控制清洁机器人进行拖布部件更换或清洗。应当理解，这里仅是示例性说明，在其他的实施方案中，分区的划分可以视实际情况和需要而定。在一些场景下，上述清洁机器人的控制装置控制清洁机器人进行拖布部件更换或清洗可以是指：清洁机器人具有拖布部件自动更换或清洗功能，控制装置可以控制清洁机器人自动进行拖布部件更换或清洗。在另一些场景下，上述清洁机器人的控制装置控制清洁机器人进行拖布部件更换或清洗也可以是指：清洁机器人不具有拖布部件自动更换或清洗功能，但具有提示用户更换或清洗拖布部件的功能，则控制装置可以控制清洁机器人适时发出拖布部件更换或清洗提示。在另一示例性实施方案中，如果清洁机器人既不具备拖布部件更换或清洗功能，也不具备更换或清洗拖布部件的提示功能。则在对工作区域按照功能属性进行分区后，清洁机器人的控制装置可以控制清洁机器人按照指定的分区作业顺序进行拖地作业，以利于降低拖地作业过程中的交叉污染。例如，以上述图2所示的分区场景为例，一般而言，第一分区和第二分区的污渍可能最严重，第三分区的污渍次之，第四分区的污渍可能最轻。如此，可以使清洁机器人按照：第四分区第三分区第二分区第一分区的作业顺序进行拖地作业。在本说明书另一些实施方案中，对于扫拖一体机而言，所述清洁机器人不仅可以包括拖地组件，还可以包括扫地组件，扫地组件可以是滚刷机构和/或边刷机构。其中，滚刷机构和边刷机构一般用于清理地面、墙角等处的尘屑等碎屑杂物。滚刷机构和边刷机构所清理的碎屑杂物一般可以由扫拖一体机的集尘装置进行收集。其中，集尘装置可以包括集尘盒、风扇等组件，利用风扇产生的吸力，可以将滚刷机构和边刷机构等清理的尘屑收集至集尘盒。所述控制装置被配置为当获取到建图指令时，确认所述清洁机器人的拖地组件和扫地组件的工作状态是否处于可建图状态；所述控制装置还被配置为当所述清洁机器人的拖地组件和扫地组件的工作状态处于可建图状态时，执行所述建图指令，以生成工作区域地图。应理解，所述控制装置还被配置为在所述清洁机器人的拖地组件和扫地组件的工作状态处于不可建图状态时，控制所述清洁机器人的拖地组件和扫地组件的工作状态切换为可建图状态。具体的，在一些实施方案中，所述清洁机器人可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于非工作状态。即清洁机器人在执行建图指令时，不扫地也不拖地。在另一些实施方案中，所述清洁机器人可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于工作状态。即清洁机器人在执行建图指令时，可以扫地但不拖地。为了描述的方便，描述以上装置时以功能分为各种单元分别描述。当然，在实施本说明书时可以把各单元的功能在同一个或多个软件和/或硬件中实现。与上述的清洁机器人对应，本说明书还提供了清洁机器人的控制方法。如图6所示，在本说明书的一些实施方案中，清洁机器人的控制方法可以包括如下步骤：S601、当获取到建图指令时，确认所述清洁机器人的拖地组件是否处于非工作状态；S602、当所述拖地组件处于非工作状态时，执行所述建图指令，以生成工作区域地图。在本说明书一些实施方案的清洁机器人的控制方法中，所述确认所述拖地组件是否处于非工作状态，可以包括：在所述拖地组件的初始状态为工作状态时，控制所述拖地组件切换为非工作状态。在本说明书一些实施方案的清洁机器人的控制方法中，所述拖地组件处于非工作状态，可以包括：所述拖地组件处于升起状态。在本说明书一些实施方案的清洁机器人的控制方法中，所述拖地组件处于非工作状态，可以包括：所述拖地组件处于与所述清洁机器人本体分离状态。在本说明书一些实施方案的清洁机器人的控制方法中，控制所述清洁机器人的第一支撑部件由收起位置运动至伸出位置，从而使所述拖地组件处于升起状态。在本说明书一些实施方案的清洁机器人的控制方法中，控制所述清洁机器人的拖地组件抬升机构带动所述拖地组件运动至升起位置，从而使所述拖地组件处于升起状态。在本说明书一些实施方案的清洁机器人的控制方法中，还可以包括：在使所述拖地组件处于升起状态时，控制所述清洁机器人的第二支撑部件由升起状态切换为落地状态。在本说明书一些实施方案的清洁机器人的控制方法中，还可以包括：当生成所述工作区域地图后，控制所述清洁机器人切换为所述拖地组件与本体接合状态。在本说明书一些实施方案的清洁机器人的控制方法中，所述拖地组件处于升起状态时的离地高度达到设定的高度值。应当理解的是，本申请中的清洁机器人还可以包括扫地组件。如图7所示，在本说明书的一些实施方案中，清洁机器人在图6中的控制方法具体可以包括如下步骤：S701、当获取到建图指令时，确认所述清洁机器人的拖地组件和扫地组件的工作状态是否处于可建图状态；S702、当所述清洁机器人的拖地组件和扫地组件的工作状态处于可建图状态时，执行所述建图指令，以生成工作区域地图。应当理解的是，步骤S701中，所述确认所述清洁机器人的拖地组件和扫地组件的工作状态是否处于可建图状态，包括：在所述清洁机器人的拖地组件和扫地组件的工作状态处于不可建图状态时，控制所述清洁机器人的拖地组件和扫地组件的工作状态切换为可建图状态。在一种实施方式中，可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于非工作状态。即清洁机器人执行建图指令时，不扫地也不拖地。在另一种实施方式中，可建图状态包括：所述拖地组件处于非工作状态，所述扫地组件处于工作状态。即清洁机器人执行建图指令时，可以扫地但不拖地。与上述清洁机器人的控制方法对应，本说明书还提供了一种计算机存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现上述的清洁机器人的控制方法。虽然上文描述的过程流程包括以特定顺序出现的多个操作，但是，应当清楚了解，这些过程可以包括更多或更少的操作，这些操作可以顺序执行或并行执行。本申请是参照根据本说明书实施方案的方法、设备、和计算机程序产品的流程图和 /或方框图来描述的。应理解可由计算机程序指令实现流程图和/或方框图中的每一流程和/或方框、以及流程图和/或方框图中的流程和/或方框的结合。可提供这些计算机程序指令到通用计算机、专用计算机、嵌入式处理机或其他可编程数据处理设备的处理器以产生一个机器，使得通过计算机或其他可编程数据处理设备的处理器执行的指令产生用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的装置。这些计算机程序指令也可存储在能引导计算机或其他可编程数据处理设备以特定方式工作的计算机可读存储器中，使得存储在该计算机可读存储器中的指令产生包括指令装置的制造品，该指令装置实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能。这些计算机程序指令也可装载到计算机或其他可编程数据处理设备上，使得在计算机或其他可编程设备上执行一系列操作步骤以产生计算机实现的处理，从而在计算机或其他可编程设备上执行的指令提供用于实现在流程图一个流程或多个流程和/或方框图一个方框或多个方框中指定的功能的步骤。在一个典型的配置中，计算设备包括一个或多个处理器、输入/输出接口、网络接口和内存。内存可能包括计算机可读介质中的非永久性存储器，随机存取存储器和/或非易失性内存等形式，如只读存储器或闪存。内存是计算机可读介质的示例。计算机可读介质包括永久性和非永久性、可移动和非可移动媒体可以由任何方法或技术来实现信息存储。信息可以是计算机可读指令、数据结构、程序的模块或其他数据。计算机的存储介质的例子包括，但不限于相变内存、静态随机存取存储器、动态随机存取存储器、其他类型的随机存取存储器、只读存储器、电可擦除可编程只读存储器、快闪记忆体或其他内存技术、只读光盘只读存储器、数字多功能光盘或其他光学存储、磁盒式磁带，磁带磁磁盘存储或其他磁性存储设备或任何其他非传输介质，可用于存储可以被计算设备访问的信息。按照本文中的界定，计算机可读介质不包括暂存电脑可读媒体，如调制的数据信号和载波。本领域技术人员应明白，本说明书的实施方案可提供为方法、系统或计算机程序产品。因此，本说明书实施方案可采用完全硬件实施方案、完全软件实施方案或结合软件和硬件方面的实施方案的形式。而且，本说明书实施方案可采用在一个或多个其中包含有计算机可用程序代码的计算机可用存储介质上实施的计算机程序产品的形式。本说明书实施方案可以在由计算机执行的计算机可执行指令的一般上下文中描述，例如程序模块。一般地，程序模块包括执行特定任务或实现特定抽象数据类型的例程、程序、对象、组件、数据结构等等。也可以在分布式计算环境中实践本说明书实施方案，在这些分布式计算环境中，由通过通信网络而被连接的远程处理设备来执行任务。在分布式计算环境中，程序模块可以位于包括存储设备在内的本地和远程计算机存储介质中。本说明书中的各个实施方案均采用递进的方式描述，各个实施方案之间相同相似的部分互相参见即可，每个实施方案重点说明的都是与其他实施方案的不同之处。尤其，对于方法实施方案而言，由于其基本相似于设备实施方案，所以描述的比较简单，相关之处参见设备实施方案的部分说明即可。在本说明书的描述中，参考术语“一个实施方案”、“一些实施方案”、“示例”、“具 体示例”、或“一些示例”等的描述意指结合该实施方案或示例描述的具体特征、结构、材料或者特点包含于本说明书实施方案的至少一个实施方案或示例中。在本说明书中，对上述术语的示意性表述不必须针对的是相同的实施方案或示例。而且，描述的具体特征、结构、材料或者特点可以在任一个或多个实施方案或示例中以合适的方式结合。此外，在不相互矛盾的情况下，本领域的技术人员可以将本说明书中描述的不同实施方案或示例以及不同实施方案或示例的特征进行结合和组合。以上所述仅为本申请的实施方案而已，并不用于限制本申请。对于本领域技术人员来说，本申请可以有各种更改和变化。凡在本申请的精神和原理之内所作的任何修改、等同替换、改进等，均应包含在本申请的权利要求范围之内。
