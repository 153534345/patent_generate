标题title
用于玉米熟粉生产线的生产控制方法及系统
摘要abst
本发明涉及电信号处理技术领域，具体涉及用于玉米熟粉生产线的生产控制方法及系统，包括：获取计量信号曲线，对计量信号曲线进行第一次滤波，获得计量信号曲线的波动周期估值，获得计量信号曲线的平均混乱度，计算迭代数值的目标收敛函数值；判断迭代数值的目标收敛函数值是否满足停止迭代条件：如果不满足，进行下一次迭代，获得新的迭代数值；如果满足，停止迭代，将迭代数值记为最优数值，将计量信号曲线上的数据点的数量与最优数值的比值的向上取整的结果记为溢出上限；将最优数值对应的溢出上限作为消抖滤波法的参数，根据消抖滤波法对计量信号曲线进行第二次滤波。本发明提高了消抖滤波的平滑效果，以及产品装袋计量精度和产品出厂质量。
权利要求书clms
1.用于玉米熟粉生产线的生产控制方法，其特征在于，该方法包括以下步骤：获取计量信号曲线，计量信号曲线上的每个数据点为每个时刻的信号幅值；对计量信号曲线进行第一次滤波；获得每种类型对应的所有数据点、每种类型的序号和每种类型对应的所有时间间隔，根据所有类型对应的所有数据点、所有类型的序号和所有类型对应的所有时间间隔获得计量信号曲线的波动周期估值；获取计量信号曲线上的所有极值点，根据每个类型对应的所有数据点中相邻两个数据点之间的所有信号幅值的变化情况以及相邻两个数据点之间的极值点的数量，获得计量信号曲线的平均混乱度；根据数值的初始值和迭代步长获得迭代数值，根据计量信号曲线上的所有数据点的信号幅值的变化情况以及计量信号曲线的平均混乱度，计算迭代数值的目标收敛函数值；判断迭代数值的目标收敛函数值是否满足停止迭代条件：如果不满足，进行下一次迭代，获得新的迭代数值；如果满足，停止迭代，将迭代数值记为最优数值，将计量信号曲线上的数据点的数量与最优数值的比值的向上取整的结果记为溢出上限；将最优数值对应的溢出上限作为消抖滤波法的参数，根据消抖滤波法对计量信号曲线进行第二次滤波，获得计量信号曲线的滤波结果。2.根据权利要求1所述的用于玉米熟粉生产线的生产控制方法，其特征在于，所述获得每种类型对应的所有数据点、每种类型的序号和每种类型对应的所有时间间隔，包括的具体步骤如下：将信号幅值大小相同的数据点划分为一个类型，获得每种类型对应的所有数据点，根据每种类型对应的所有数据点的数量按照从大到小的顺序给所有类型分配序号，其中，所有数据点的数量最多的类型的序号为1，以此类推，所有数据点的数量最少的类型的序号为m，m表示类型的数量；对于任意一个类型，获取该类型对应的任意相邻两个数据点对应的时刻的差值，记为该类型对应的一个时间间隔，获得该类型对应的所有时间间隔。3.根据权利要求1所述的用于玉米熟粉生产线的生产控制方法，其特征在于，所述获得计量信号曲线的波动周期估值，包括的具体步骤如下：计量信号曲线的波动周期估值的计算公式为：式中，D表示计量信号曲线的波动周期估值，m表示类型的数量，表示第r个类型的序号，/＞表示第r个类型对应的所有数据点的数量，/＞表示第r个类型对应的第i个时间间隔。4.根据权利要求1所述的用于玉米熟粉生产线的生产控制方法，其特征在于，所述获得计量信号曲线的平均混乱度，包括的具体步骤如下：计量信号曲线的平均混乱度的计算公式为：/＞式中，P表示计量信号曲线的平均混乱度，m表示类型的数量，表示第r个类型对应的所有数据点的数量，/＞表示第r个类型对应的第i-1个数据点与第i个数据点之间的所有数据点的斜率的方差，/＞表示第r个类型对应的第i-1个数据点与第i个数据点之间的属于极值点的数据点的数量。5.根据权利要求1所述的用于玉米熟粉生产线的生产控制方法，其特征在于，所述计算迭代数值的目标收敛函数值，包括的具体步骤如下：迭代数值的目标收敛函数值的计算公式为：式中，表示第k次迭代后的迭代数值/＞的目标收敛函数值，/＞表示计量信号曲线上的所有数据点的斜率的方差，L表示计量信号曲线上的数据点的数量，P表示计量信号曲线上的平均混乱度，/＞表示第k次迭代后的迭代数值，/＞表示向上取整，/＞表示取绝对值。6.根据权利要求1所述的用于玉米熟粉生产线的生产控制方法，其特征在于，所述停止迭代条件具体为：且/＞，其中，/＞表示迭代数值/＞的目标收敛函数值，/＞表示迭代数值/＞的目标收敛函数值，/＞表示迭代数值/＞的目标收敛函数值。7.用于玉米熟粉生产线的生产控制系统，其特征在于，包括信号获取单元、信号曲线滤波单元、异常识别单元，所述信号获取单元通过传感器获得每袋装袋玉米粉的重量对应的计量信号，所述信号曲线滤波单元实现如权利要求1到权利要求6任意一项所述的用于玉米熟粉生产线的生产控制方法的步骤，所述异常识别单元根据计量信号曲线的滤波结果，通过机械手臂将重量异常的装袋玉米粉挑选出来。
说明书desc
技术领域本发明涉及电信号处理技术领域，具体涉及用于玉米熟粉生产线的生产控制方法及系统。背景技术玉米粉是将玉米去除麸皮磨成粉，又称玉米面，里面包含如蛋白质，淀粉，脂肪，维生素，矿物质等营养成分，类似于小麦对应的面粉。其加工工艺分为生粉车间和熟粉车间，包括清洗、浸泡、磨粉、过筛、蒸煮、干燥、研磨、包装等工艺，各个工艺流程均已投入自动化生产线中。对于生产企业而言，传统工艺无论是自动化生产还是人工生产均已有足够丰富的生产经验，而包装环节是整个生产流程最后一步，也是最重要的工艺之一，其控制的好坏直接决定了产品包装的质量以及产量，包装计量精度也事关消费者与厂家双方的利益，当前市面上的玉米淀粉包装机几乎都是安装粉末计量器来对装袋玉米粉进行称重，但是在粉末包装计量控制系统中由于粉末的流量与螺杆的转速之间并非线性关系，且包括电磁、脉冲干扰等，计量信号含有残留噪声信号与错误计量信号，这些都将影响着自动包装工艺的质量和计量精度，造成包装材料浪费以及不合格率增大。发明内容本发明提供用于玉米熟粉生产线的生产控制方法及系统，以解决现有的问题。本发明的用于玉米熟粉生产线的生产控制方法采用如下技术方案：本发明一个实施例提供了用于玉米熟粉生产线的生产控制方法，所述方法包括：获取计量信号曲线，计量信号曲线上的每个数据点为每个时刻的信号幅值；对计量信号曲线进行第一次滤波；获得每种类型对应的所有数据点、每种类型的序号和每种类型对应的所有时间间隔，根据所有类型对应的所有数据点、所有类型的序号和所有类型对应的所有时间间隔获得计量信号曲线的波动周期估值；获取计量信号曲线上的所有极值点，根据每个类型对应的所有数据点中相邻两个数据点之间的所有信号幅值的变化情况以及相邻两个数据点之间的极值点的数量，获得计量信号曲线的平均混乱度；根据数值的初始值和迭代步长获得迭代数值，根据计量信号曲线上的所有数据点的信号幅值的变化情况以及计量信号曲线的平均混乱度，计算迭代数值的目标收敛函数值；判断迭代数值的目标收敛函数值是否满足停止迭代条件：如果不满足，进行下一次迭代，获得新的迭代数值；如果满足，停止迭代，将迭代数值记为最优数值，将计量信号曲线上的数据点的数量与最优数值的比值的向上取整的结果记为溢出上限；将最优数值对应的溢出上限作为消抖滤波法的参数，根据消抖滤波法对计量信号曲线进行第二次滤波。进一步地，所述获得每种类型对应的所有数据点、每种类型的序号和每种类型对应的所有时间间隔，包括的具体步骤如下：将信号幅值大小相同的数据点划分为一个类型，获得每种类型对应的所有数据点，根据每种类型对应的所有数据点的数量按照从大到小的顺序给所有类型分配序号，其中，所有数据点的数量最多的类型的序号为1，以此类推，所有数据点的数量最少的类型的序号为m，m表示类型的数量；对于任意一个类型，获取该类型对应的任意相邻两个数据点对应的时刻的差值，记为该类型对应的一个时间间隔，获得该类型对应的所有时间间隔。进一步地，所述获得计量信号曲线的波动周期估值，包括的具体步骤如下：计量信号曲线的波动周期估值的计算公式为：式中，D表示计量信号曲线的波动周期估值，m表示类型的数量，表示第r个类型的序号，表示第r个类型对应的所有数据点的数量，表示第r个类型对应的第i个时间间隔。进一步地，所述获得计量信号曲线的平均混乱度，包括的具体步骤如下：计量信号曲线的平均混乱度的计算公式为：式中，P表示计量信号曲线的平均混乱度，m表示类型的数量，表示第r个类型对应的所有数据点的数量，表示第r个类型对应的第i-1个数据点与第i个数据点之间的所有数据点的斜率的方差，表示第r个类型对应的第i-1个数据点与第i个数据点之间的属于极值点的数据点的数量。进一步地，所述计算迭代数值的目标收敛函数值，包括的具体步骤如下：迭代数值的目标收敛函数值的计算公式为：式中，表示第k次迭代后的迭代数值的目标收敛函数值，表示计量信号曲线上的所有数据点的斜率的方差，L表示计量信号曲线上的数据点的数量，P表示计量信号曲线上的平均混乱度，表示第k次迭代后的迭代数值，表示向上取整，表示取绝对值。进一步地，所述停止迭代条件具体为：且，其中，表示迭代数值的目标收敛函数值，表示迭代数值的目标收敛函数值，表示迭代数值的目标收敛函数值。本发明另外还提供了用于玉米熟粉生产线的生产控制系统，包括信号获取单元、信号曲线滤波单元、异常识别单元，信号获取单元通过传感器获得每袋装袋玉米粉的重量对应的计量信号，信号曲线滤波单元实现上述方法的步骤，异常识别单元根据计量信号曲线的滤波结果，通过机械手臂将重量异常的装袋玉米粉挑选出来。本发明的技术方案的有益效果是：本发明针对玉米粉自动包装机，粉末计量器采集计量信号易受振动等干扰产生干扰值的问题，提出利用消抖滤波法对计量信号曲线进行平滑，而消抖滤波法的溢出上限参数设置的不合理会引入较大干扰值作为有效值，导致消抖滤波的平滑效果不好，因此本发明通过估计计量信号曲线的波动周期，根据每个类型对应的所有数据点中相邻两个数据点之间的所有信号幅值的变化情况，以及相邻两个数据点之间的极值点的数量，获得使每个有效值的有效时长尽可能均匀且计数器达到溢出上限时尽可能不跨过两个极值点的计量信号曲线的平均混乱度的理想值，进而获得多次迭代的迭代数值对应的平均混乱值，获得平均混乱值最趋近于平均混乱度的理想值的迭代数值，进而获得对应的溢出上限，使得消抖滤波时不会出现过度平滑，尽可能避免单个有效值跨过较多极值点，使更新后的有效值不会出现较大断层，降低干扰值对有效值的影响，同时尽可能平衡且延长每个有效值的更新时间，极大提高了消抖滤波对计量信号曲线的平滑效果，解决了易受较大干扰值影响的导致平滑结果不理想的问题，提高了产品装袋计量精度和产品出厂质量。附图说明为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。图1为本发明的用于玉米熟粉生产线的生产控制方法的系统框图；图2本发明提供的计量信号曲线示意图；图3本发明提供的计量信号曲线的滤波结果示意图。具体实施方式下面结合附图具体的说明本发明所提供的用于玉米熟粉生产线的生产控制方法的具体方案。请参阅图1，其示出了本发明一个实施例提供的用于玉米熟粉生产线的生产控制方法，该方法包括以下步骤：S001.获取计量信号曲线。粉末计量器的计量信号一般是脉冲信号，即通过传感器检测物料流量，将检测到的物料流量转化为脉冲信号输出，因此，脉冲信号的频率与物料流量成正比，通常情况下，每个脉冲信号代表一个计量单位的重量，通过计数脉冲的数量，就可以计算出物料的重量。在玉米粉包装机上设置传感器，获得每次包装的玉米粉的计量信号，将一段时间内获取的计量信号组成的曲线记为计量信号曲线，如图2所示，横轴为时刻，纵轴为信号幅值，因此，计量信号曲线上的每个数据点为每个时刻的信号幅值。在本实施例中，预设时间段的长度为30秒，在其他实施例中，实施人员可以根据经验设置预设时间段的长度。S002.对计量信号曲线进行第一次滤波，获得计量信号曲线的波动周期估值，获得计量信号曲线的平均混乱度。1.对计量信号曲线进行第一次滤波。需要说明的是，粉末计量器的计量信号可能会受到噪声的干扰，例如脉冲干扰、电磁干扰、电源噪声等，这些干扰会引起计量信号的波动，从而影响计量精度。为了减少干扰，粉末计量器的传感器一般采用屏蔽电缆，同时在信号处理器中加入滤波器，通过滤除噪声信号来提高计量精度。但是计量器的计量信号除了受到脉冲干扰、电磁干扰、电源噪声外，还会受到机器振动的影响，使得测量过程中采集的计量信号偏大或偏小，产生错误计量信号。在采用低通滤波器对计量信号进行去噪时，如果平滑尺度太大，会将错误计量信号平滑掉，导致平滑后的计量信号仍处于失真状态，因此，在计量信号的平滑过程中，需要设置较小的平滑尺度。在本实施例中，首先根据平滑尺度对计量信号曲线进行低通滤波，低通滤波为现有技术，此处不再进行赘述。在本实施例中，平滑尺度为10，在其他实施例中，实施人员可以根据经验设置平滑尺度。2.获得计量信号曲线的波动周期估值。需要说明的是，观察图2可知，计量信号变化相对较缓慢，因此可以利用消抖滤波法对错误计量信号进行滤除。虽然通过较小的平滑尺度对计量信号进行滤波能够保留错误计量信号，但会导致部分噪声残留，残留的噪声会对消抖滤波的滤除效果产生影响。进一步需要说明的是，消抖滤波法的实现步骤为：设置一个计数器，计数器的初始值为0，将计量信号曲线上的每个时刻的信号幅值与初始有效值进行比较：如果信号幅值等于初始有效值，则计数器清零；如果信号幅值不等于初始有效值,则计数器加1，并判断计数器是否溢出，如果计数器溢出，则将溢出时的信号幅值作为新的有效值，并将计数器清零，如果计数器没有溢出，则将下一个时刻的信号幅值与初始有效值进行比较。当信号幅值连续变化N次之后，才对有效值进行更新。错误计量信号是由于机器振动的影响导致计量信号在实际计量值附近反复跳动，因此，错误计量信号属于低频干扰噪声，而脉冲干扰、电磁干扰、电源噪声等属于高频干扰噪声；干扰值混杂在计量信号中时，会导致在进行消抖滤波时，计数器会频繁溢出，进而导致有效值会频繁更新，在有效值频繁更新的过程中，如果某次计数器溢出时对应的信号幅值为干扰值，则会将干扰值作为更新后的有效值。因此，需要通过调节计数器的溢出上限N，尽可能避免将较大的干扰值作为有效值导入系统。由于计数器无法在进行消抖滤波过程中自适应获得溢出上限，只能根据计量信号特征提前设置一个溢出上限N，在获取最优溢出上限N值时，假设计量信号曲线上的计量信号处于最差的波动状态，即假设任意连续的计量信号都不相等，都会时计数器加1，进而进行分析。在不考虑错误计量信号和噪声信号的情况下，将设备振动引起的计量信号波动，视为一个类周期波动。在消抖滤波过程中，可能是根据任意一个信号幅值对有效值进行更新，计量信号曲线中，计量信号在计量信号的实际幅值的上下波动，那么幅值相同的计量信号之间的时间间隔即是该幅值经过一段波动后回归原幅值的波动周期。在本实施例中，将信号幅值大小相同的数据点划分为一个类型，获得每种类型对应的所有数据点，根据每种类型对应的所有数据点的数量按照从大到小的顺序给所有类型分配序号，其中，所有数据点的数量最多的类型的序号为1，以此类推，所有数据点的数量最少的类型的序号为m，m表示类型的数量。对于任意一个类型，获取该类型对应的任意相邻两个数据点对应的时刻的差值，记为该类型对应的一个时间间隔，获得该类型对应的所有时间间隔，该类型对应的第i个时间间隔表示该类型对应的第i+1个数据点与第i个数据点的时间间隔。计量信号曲线的波动周期估值的计算公式为：式中，D表示计量信号曲线的波动周期估值，m表示类型的数量，表示第r个类型的序号，表示第r个类型对应的所有数据点的数量，表示第r个类型对应的第i个时间间隔。将作为第r个类型的权重值，越小，即第r个类型对应的所有数据点的数量越多，越大，即第r个类型的权重值越大；表示第r个类型对应的所有时间间隔的均值，即平均时间间隔，则表示所以种类型的平均时间间隔的加权均值，用来表征计量信号曲线的波动周期估值D。3.获得计量信号曲线的平均混乱度。需要说明的是，计量信号曲线的波动周期估值对于获取消抖滤波的溢出上限N具有参考作用，信号波动周期是理想情况下，计量信号在某个实际计量幅值附近浮动后回归实际计量幅值的时序长度，在消抖滤波过程中，溢出上限N必须要小于等于信号波动周期，否则，溢出上限N如果大于信号波动周期，会导致更新有效值时跨过一个信号波动周期，平滑效果太大，平滑后的计量信号严重失真。因此，对溢出上限N的期望值的要求为：小于等于信号波动周期，且在信号波动周期内，对有效值进行若干次更新，即有效值发生若干次变化，同时变化过程各个有效值的差异较小。由于要求溢出上限N小于等于信号波动周期，因此，本实施例设置一个数值d，将波动周期估值D除以数值d的结果作为溢出上限N，保证了溢出上限N小于等于信号波动周期，通过不断迭代增大数值d，获得使溢出上限N满足期望值要求最优数值d。在本实施例中，获取计量信号曲线上的所有极值点，极值点为数据点的斜率变化突变点，观察每个类型对应的所有数据点中，相邻两个数据点之间的所有信号幅值的变化情况，期望有效值更新时对应的数据点尽可能偏离极值点。根据每个类型对应的所有数据点中相邻两个数据点之间的所有信号幅值的变化情况，以及相邻两个数据点之间的极值点的数量，获得计量信号曲线的平均混乱度，计量信号曲线的平均混乱度的计算公式为：式中，P表示计量信号曲线的平均混乱度，m表示类型的数量，表示第r个类型对应的所有数据点的数量，表示第r个类型对应的第i-1个数据点与第i个数据点之间的所有数据点的斜率的方差，表示第r个类型对应的第i-1个数据点与第i个数据点之间的属于极值点的数据点的数量。越大，表征第r个类型对应的第i-1个数据点与第i个数据点之间的所有数据点的信号幅值的变化幅度越大，进而表征第r个类型对应的第i-1个数据点与第i个数据点之间有效值的更新频繁越大，因此，计量信号曲线的平均混乱度P越大；表示根据极值点对第r个类型对应的第i-1个数据点与第i个数据点之间的数据点进行划分的数量，该值越小，计量信号曲线的平均混乱度P越大。第r个类型对应的第i-1个数据点与第i个数据点之间的所有数据点由若干个不同的有效值进行平滑时，将每次计数器从初始值到达到溢出上限之间平滑的数据点组成的序列记为数据段，在消抖滤波时，需要尽可能使计数器到达溢出上限N时的数据点，都尽可能处于一个较低复杂度的数据段内，当一个计数器达到溢出上限时，如果该计数器对应的数据段跨过一个极值点，则可以将斜率变化不同的数据点进行平滑，如果该计数器对应的数据段跨过两个及以上的极值点时，则数据段的复杂度越大，在进行平滑时被干扰值影响的程度越大。通过将同类型的相邻的两个数据点之间所有数据点的总的混乱度，平分给所有极值点对应的数据段，使同类型的相邻的两个数据点之间所有数据点内有效值的更新次数几乎等于极值点数量，尽可能避免单个有效值跨过较多极值点，使更新后的有效值不会出现较大断层，降低干扰值对有效值的影响，并且平均分配混乱度使每个更新的有效值所处理的信号段混乱度都比较均匀，尽可能平衡且延长每个有效值的更新时间，极大提高了消抖滤波对计量信号曲线的平滑效果，解决了易受较大干扰值影响的导致平滑结果不理想的问题，提高了产品装袋计量精度和产品出厂质量。S003.通过多次迭代后迭代数值的目标收敛函数值，获得最优数值，进而获得溢出上限。需要说明的是，对于第r个类型对应的第i-1个数据点与第i个数据点之间的所有数据点，将任意两个极值点之间所有数据点作为一个数据段，因此，根据属于极值点的数据点的数量即可获取数据段的数量，进而获取第r个类型对应的第i-1个数据点与第i个数据点之间有效值的更新次数，简而言之，第r个类型对应的第i-1个数据点与第i个数据点之间有效值需要更新相应次数，才可以将混乱值消除；为了使每个有效值的有效时长尽可能均匀，且需要计数器达到溢出上限时尽可能不跨过两个极值点，将第r个类型对应的第i-1个数据点与第i个数据点之间的所有数据点的总的混乱值平均分配到每个数据段中，此时获得的计量信号曲线的平均混乱度为理想值。对于任意一个迭代数值，当该迭代数值对应的平均混乱值趋近甚至等于理想值时，计量信号曲线中以任意一个数据点的幅值信号为有效值时，该有效值在计数器从初始值到达到溢出上限之间至少可以对具有一个理想平均混乱值的数据段发挥平滑作用。在本实施例中，数值d的初始值为1，迭代步长为1，根据数值d的初始值和迭代步长，经过多次迭代获得若干个迭代数值，其中，第k次迭代后的迭代数值，表示数值d的初始值。在每次迭代获得迭代数值后，需要计算迭代数值的目标收敛函数值，迭代数值的目标收敛函数值的计算公式为：式中，表示第k次迭代后的迭代数值的目标收敛函数值，表示计量信号曲线上的所有数据点的斜率的方差，L表示计量信号曲线上的数据点的数量，P表示计量信号曲线上的平均混乱度，表示第k次迭代后的迭代数值，表示向上取整，表示取绝对值。表示计数器的溢出上限N，将计量信号曲线上的所有数据点的斜率的方差即计量信号曲线上的所有数据点的总的混乱值平均分配到每个长度等于N的数据段中，则表示迭代数值对应的平均混乱值，平均混乱值越趋近甚至等于理想值，即平均混乱值与计量信号曲线的平均混乱度的差异越小，迭代数值在计数器从初始值到达到溢出上限之间至少可以对具有一个理想平均混乱值的数据段发挥平滑作用，则迭代数值越好。在第k+1次迭代后且获得迭代数值的目标收敛函数值后，比较迭代数值的目标收敛函数值与迭代数值的目标收敛函数值以及迭代数值的目标收敛函数值的大小关系，如果且，则停止迭代，将迭代数值记为最优数值，则计数器的溢出上限，L表示计量信号曲线上的数据点的数量，表示向上取整。对于计量信号曲线而言，根据最优数值获得的溢出上限，能够保证每次有效值更新后，新的有效值发挥平滑作用的数据段的混乱值都比较均匀，可以有较好的平滑效果，且不会使某些有效值在局部所受干扰过大，极大程度限制了将较大干扰值代入系统带来的负面影响。通过按相邻同幅值点间隔内极值点分配混乱值，使间隔内有效值的更新次数几乎等于极值点数，尽可能避免单个有效值跨过较多极值点，使更新后的有效值不会出现较大断层，降低较大干扰值对有效值的影响，并且平均分配混乱值使每个更新的有效值所处理的信号段混乱值都比较均匀，尽可能平衡、延长每个有效值的更新时间，极大提高了消抖滤波对计量信号的平滑效果，解决了其原本易受到较大干扰信号点的负面影响问题，提高了产品装袋计量精度，和产品出厂质量。S004.根据溢出上限对计量信号曲线进行第二次滤波。将最优数值对应的溢出上限作为消抖滤波法的参数，根据消抖滤波法对计量信号曲线进行第二次滤波，获得的滤波结果如图3所示。平滑后大幅降低了计量信号的波动干扰，使得每次进行计量装袋时，装袋重量误差波动在0.05kg左右，几乎可以忽略不计，极大提高了玉米粉生产包装质量合格率，保障厂家成本以及消费者利益。本发明实施例另外提出用于玉米熟粉生产线的生产控制系统，包括信号获取单元、信号曲线滤波单元、异常识别单元，信号获取单元通过传感器获得每袋装袋玉米粉的重量对应的计量信号，信号曲线滤波单元实现上述方法的步骤，异常识别单元根据计量信号曲线的滤波结果，通过机械手臂将重量异常的装袋玉米粉挑选出来。本发明针对玉米粉自动包装机，粉末计量器采集计量信号易受振动等干扰产生干扰值的问题，提出利用消抖滤波法对计量信号曲线进行平滑，而消抖滤波法的溢出上限参数设置的不合理会引入较大干扰值作为有效值，导致消抖滤波的平滑效果不好，因此本发明通过估计计量信号曲线的波动周期，根据每个类型对应的所有数据点中相邻两个数据点之间的所有信号幅值的变化情况，以及相邻两个数据点之间的极值点的数量，获得使每个有效值的有效时长尽可能均匀且计数器达到溢出上限时尽可能不跨过两个极值点的计量信号曲线的平均混乱度的理想值，进而获得多次迭代的迭代数值对应的平均混乱值，获得平均混乱值最趋近于平均混乱度的理想值的迭代数值，进而获得对应的溢出上限，使得消抖滤波时不会出现过度平滑，尽可能避免单个有效值跨过较多极值点，使更新后的有效值不会出现较大断层，降低干扰值对有效值的影响，同时尽可能平衡且延长每个有效值的更新时间，极大提高了消抖滤波对计量信号曲线的平滑效果，解决了易受较大干扰值影响的导致平滑结果不理想的问题，提高了产品装袋计量精度和产品出厂质量。以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
