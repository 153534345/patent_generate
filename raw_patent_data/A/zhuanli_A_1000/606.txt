标题title
一种癫痫发作自动监护系统及装置
摘要abst
本发明公开了一种癫痫发作自动监护系统及装置，包括：脑电采集模块、脑电数据预处理模块、脑电数据特征提取模块、痫样脑电检测模块、视频采集模块、视频特征提取模块、癫痫发作检测模块、患者保护模块；本发明提出的癫痫发作自动监护系统同时分析脑电和视频信息，可以更加精准的检测患者是否发作癫痫；先分析脑电信号，当脑电信号检测出痫样脑电时再分析视频数据，可以在不降低检测精度的前提下极大的降低计算量；通过同时分析脑电和视频信息，仅在患者癫痫发作且发生肢体大幅移动时才控制束缚带限制患者，一方面可以尽可能的减少对患者未发作癫痫时的正常活动的影响，另一方面尽可能的保护患者在癫痫发作时出现意外的情况发生，减少陪护的负担。
权利要求书clms
1.一种癫痫发作自动监护系统，其特征在于，包括：脑电采集模块：用于采集脑电信号，并将所述脑电信号输入至脑电数据预处理模块；脑电数据预处理模块：用于对所述脑电信号进行预处理，得到每秒所述脑电信号的频域特征，并将每秒所述脑电信号的频域特征输入至脑电数据特征提取模块；脑电数据特征提取模块：用于将每秒所述脑电信号的频域特征通过脑电特征提取神经网络，获取对应每秒脑电特征和每秒所述脑电信号为痫样的概率，并将痫样的概率输入至痫样脑电检测模块，将每秒所述脑电特征输入至癫痫发作检测模块；痫样脑电检测模块：用于判断连续时间范围内每秒所述脑电信号为痫样的概率，痫样的概率用于判断患者是否发生痫样脑电，并将患者发生痫样脑电的结果输入至视频特征提取模块；视频采集模块：用于采集患者所在病床区域视频，并将所述病床区域视频输入至视频特征提取模块；视频特征提取模块：根据患者发生痫样脑电的结果用于对所述病床区域视频按每秒一帧抽样成图片序列，并将每帧图片序列利用OpenPose神经网络获取每帧图片的视频特征和每帧图片的左右两臂特征点坐标，每帧图片的视频特征用于输入至癫痫发作检测模块，每帧图片的左右两臂特征点坐标用于判断是否发生大幅运动；癫痫发作检测模块：用于将每帧图片的视频特征和每秒所述脑电特征输入至癫痫发作检测神经网络获取患者发作癫痫的概率，患者发作癫痫的概率用于判断患者是否发作癫痫，并将患者发作癫痫的结果传输至患者保护模块；患者保护模块：用于根据患者发作癫痫的结果和患者发生大幅运动的结果，控制患者并将患者束缚于病床。2.如权利要求1所述的一种癫痫发作自动监护系统，其特征在于，所述脑电数据预处理模块中的预处理具体包括：用于将所述脑电信号固定按一秒的时间分割，对每秒所述脑电信号做傅里叶变换，计算每秒时间范围的多通道脑电信号功率谱，频率分辨率为1Hz；用于对每秒所述脑电信号连同前后一秒的连续三秒每通道的数据做傅里叶变换，计算连续三秒范围的多通道脑电信号功率谱，再采用平均的方法将频率分辨率归一化为1Hz；用于对每秒时间范围的多通道脑电信号功率谱和连续三秒范围的多通道脑电信号功率谱进行拼接作为对应每秒所述脑电信号的频域特征。3.如权利要求1所述的一种癫痫发作自动监护系统，其特征在于，所述脑电数据特征提取模块具体包括：用于将每秒所述脑电信号的频域特征通过脑电特征提取神经网络的特征提取部分，获取对应每秒脑电特征；用于将所述脑电特征的通道作为时间轴，输入至所述脑电信号特征提取神经网络中的预测部分，获取每秒所述脑电信号为痫样的概率；用于将痫样的概率输入至痫样脑电检测模块，将每秒所述脑电特征输入至癫痫发作检测模块。4.如权利要求1所述的一种癫痫发作自动监护系统，其特征在于，所述痫样脑电检测模块具体包括：用于判断连续时间范围内每秒所述脑电信号为痫样的概率，当所述连续时间范围内50%以上的所述脑电信号的痫样概率大于80%，则患者发生痫样脑电，反之，则患者未发生痫样脑电，并将患者发生痫样脑电的结果输入至视频特征提取模块。5.如权利要求1所述的一种癫痫发作自动监护系统，其特征在于，所述视频特征提取模块具体包括：根据患者发生痫样脑电的结果用于将患者发生痫样脑电时刻时包含对应前后预设时间在内的连续时间内的所述病床区域视频按每秒一帧抽样成图片序列；用于将每帧图片序列利用OpenPose神经网络输出的VGG-19前10层的每帧图片的视频特征和每帧图片的左右两臂特征点坐标；每帧图片的视频特征用于输入至癫痫发作检测模块，每帧图片的左右两臂特征点坐标用于判断是否发生大幅运动。6.如权利要求5所述的一种癫痫发作自动监护系统，其特征在于，所述判断是否发生大幅运动具体包括：用于获取任意连续两帧图片的左右两臂特征点坐标，分别计算每帧图片的左臂长度、右臂长度、左肩移动距离、右肩移动距离、左肘移动距离、右肘移动距离、左手腕移动距离、右手腕移动距离；用于根据任意连续两帧图片的左臂长度、右臂长度设置左臂阈值和右臂阈值；当左肩移动距离、左肘移动距离或左手腕移动距离超过左臂阈值，则认为左臂大幅移动，反之，则认为左臂未大幅移动；当右肩移动距离、右肘移动距离或右手腕移动距离超过右臂阈值，则认为右臂大幅移动，反之，则认为右臂未大幅移动；当左臂大幅移动或右臂大幅移动，则认为患者发生大幅运动，反之，则认为患者未发生大幅运动。7.如权利要求1所述的一种癫痫发作自动监护系统，其特征在于，所述癫痫发作检测模块具体包括：用于将连续任意时间范围内的所述脑电特征输入至癫痫发作检测神经网络的脑电特征处理部分获取时序脑电特征；用于将连续任意时间范围内的所述视频特征输入至癫痫发作检测神经网络的视频特征处理部分获取时序视频特征；用于将所述时序脑电特征和所述时序视频特征进行拼接并输入癫痫发作检测神经网络的预测部分得到患者发作癫痫的概率；用于判断当患者发作癫痫的概率超过85%，则认为患者癫痫发作，反之，则认为患者癫痫未发作；用于将患者癫痫发作的结果传输至患者保护模块。8.如权利要求1所述的一种癫痫发作自动监护系统，其特征在于，所述患者保护模块具体包括：当患者发作癫痫且患者发生大幅运动，则启动患者保护模块中的患者保护装置，利用患者保护装置将患者束缚于病床。9.如权利要求8所述的一种癫痫发作自动监护系统，其特征在于，所述患者保护模块由wifi通讯装置和患者保护装置构成，所述wifi通讯装置和所述患者保护装置电连接，所述患者保护装置包括电极控制模块、电机和束缚带，所述患者保护模块安装在病床上，所述束缚带置于患者腰部。10.一种癫痫发作自动监护装置，其特征在于，包括存储器和一个或多个处理器，所述存储器中存储有可执行代码，所述一个或多个处理器执行所述可执行代码时，用于实现权利要求1-9中任一项所述的一种癫痫发作自动监护系统。
说明书desc
技术领域本发明涉及一种医疗信息技术领域，尤其涉及一种癫痫发作自动监护系统及装置。背景技术癫痫是神经系统常见的疾病，由于大脑神经元突发性异常放电，导致短暂的大脑功能障碍的慢性疾病。流行病学资料显示，国内癫痫的总体患病率为7.0‰。由于癫痫发作起源脑区和传播途径的不同，癫痫发作的临床表现复多样，其临床表现为突发意识丧失、昏厥、四肢抽搐等，并且在认知与精神上产生障碍，严重损害患者的身心健康，甚至危及生命。视频脑电是目前检测癫痫最常用的诊断手段，在患者检测过程中，一方面要求陪护人员通过观察、交流等方式判断并标记患者是否发作癫痫；另一方面要求医护人员结合患者实时脑电信号以及视频中的临床表现诊断患者是否发作癫痫。此外，对于某些运动性癫痫患者，在未癫痫发作时和正常人一样，但是在癫痫发作的时候可能会出现大幅度高频率翻身等动作，有跌落病床的危险，这就要求必须要有陪护在患者癫痫发作时对其进行保护。目前传统的癫痫自动监护系统在癫痫自动检测方面仅分析脑电信号，并没有结合患者的临床表现，虽然患者发作癫痫时一定存在脑电发生痫样放电，但是一方面在正常人群中有0.3%-3%的人没有癫痫发作，但脑电图有痫样放电，另一方面临床诊断癫痫发作所需要的意识丧失、四肢抽搐等临床表现还是需要患者陪护标注和医生通过视频人工判断，医生需要结合患者的临床表现以及脑电是否发生痫性放电综合判断患者是否存在癫痫发作。此外，目前传统的癫痫自动监护系统对于患者的防护还是更多采用床边围栏，以及依赖于陪护的辅助。为此，我们提出一种癫痫发作自动监护系统及装置以解决上述技术问题。发明内容本发明为了解决如何结合脑电和视频综合检测患者是否发作癫痫，同时提供主动防护功能，在患者癫痫发作时提为患者提供保护的问题，提供一种癫痫发作自动监护系统及装置。本发明采用的技术方案如下：一种癫痫发作自动监护系统，包括：脑电采集模块：用于采集脑电信号，并将所述脑电信号输入至脑电数据预处理模块；脑电数据预处理模块：用于对所述脑电信号进行预处理，得到每秒所述脑电信号的频域特征，并将每秒所述脑电信号的频域特征输入至脑电数据特征提取模块；脑电数据特征提取模块：用于将每秒所述脑电信号的频域特征通过脑电特征提取神经网络，获取对应每秒脑电特征和每秒所述脑电信号为痫样的概率，并将痫样的概率输入至痫样脑电检测模块，将每秒所述脑电特征输入至癫痫发作检测模块；痫样脑电检测模块：用于判断连续时间范围内每秒所述脑电信号为痫样的概率，痫样的概率用于判断患者是否发生痫样脑电，并将患者发生痫样脑电的结果输入至视频特征提取模块；视频采集模块：用于采集患者所在病床区域视频，并将所述病床区域视频输入至视频特征提取模块；视频特征提取模块：根据患者发生痫样脑电的结果用于对所述病床区域视频按每秒一帧抽样成图片序列，并将每帧图片序列利用OpenPose神经网络获取每帧图片的视频特征和每帧图片的左右两臂特征点坐标，每帧图片的视频特征用于输入至癫痫发作检测模块，每帧图片的左右两臂特征点坐标用于判断是否发生大幅运动；癫痫发作检测模块：用于将每帧图片的视频特征和每秒所述脑电特征输入至癫痫发作检测神经网络获取患者发作癫痫的概率，患者发作癫痫的概率用于判断患者是否发作癫痫，并将患者发作癫痫的结果传输至患者保护模块；患者保护模块：用于根据患者发作癫痫的结果和患者发生大幅运动的结果，控制患者并将患者束缚于病床。进一步地，所述脑电数据预处理模块中的预处理具体包括：用于将所述脑电信号固定按一秒的时间分割，对每秒所述脑电信号做傅里叶变换，计算每秒时间范围的多通道脑电信号功率谱，频率分辨率为1Hz；用于对每秒所述脑电信号连同前后一秒的连续三秒每通道的数据做傅里叶变换，计算连续三秒范围的多通道脑电信号功率谱，再采用平均的方法将频率分辨率归一化为1Hz；用于对每秒时间范围的多通道脑电信号功率谱和连续三秒范围的多通道脑电信号功率谱进行拼接作为对应每秒所述脑电信号的频域特征。进一步地，所述脑电数据特征提取模块具体包括：用于将每秒所述脑电信号的频域特征通过脑电特征提取神经网络的特征提取部分，获取对应每秒脑电特征；用于将所述脑电特征的通道作为时间轴，输入至所述脑电信号特征提取神经网络中的预测部分，获取每秒所述脑电信号为痫样的概率；用于将痫样的概率输入至痫样脑电检测模块，将每秒所述脑电特征输入至癫痫发作检测模块。进一步地，所述痫样脑电检测模块具体包括：用于判断连续时间范围内每秒所述脑电信号为痫样的概率，当所述连续时间范围内50%以上的所述脑电信号的痫样概率大于80%，则患者发生痫样脑电，反之，则患者未发生痫样脑电，并将患者发生痫样脑电的结果输入至视频特征提取模块。进一步地，所述视频特征提取模块具体包括：根据患者发生痫样脑电的结果用于将患者发生痫样脑电时刻时包含对应前后预设时间在内的连续时间内的所述病床区域视频按每秒一帧抽样成图片序列；用于将每帧图片序列利用OpenPose神经网络输出的VGG-19前10层的每帧图片的视频特征和每帧图片的左右两臂特征点坐标；每帧图片的视频特征用于输入至癫痫发作检测模块，每帧图片的左右两臂特征点坐标用于判断是否发生大幅运动。进一步地，所述判断是否发生大幅运动具体包括：用于获取任意连续两帧图片的左右两臂特征点坐标，分别计算每帧图片的左臂长度、右臂长度、左肩移动距离、右肩移动距离、左肘移动距离、右肘移动距离、左手腕移动距离、右手腕移动距离；用于根据任意连续两帧图片的左臂长度、右臂长度设置左臂阈值和右臂阈值；当左肩移动距离、左肘移动距离或左手腕移动距离超过左臂阈值，则认为左臂大幅移动，反之，则认为左臂未大幅移动；当右肩移动距离、右肘移动距离或右手腕移动距离超过右臂阈值，则认为右臂大幅移动，反之，则认为右臂未大幅移动；当左臂大幅移动或右臂大幅移动，则认为患者发生大幅运动，反之，则认为患者未发生大幅运动。进一步地，所述癫痫发作检测模块具体包括：用于将连续任意时间范围内的所述脑电特征输入至癫痫发作检测神经网络的脑电特征处理部分获取时序脑电特征；用于将连续任意时间范围内的所述视频特征输入至癫痫发作检测神经网络的视频特征处理部分获取时序视频特征；用于将所述时序脑电特征和所述时序视频特征进行拼接并输入癫痫发作检测神经网络的预测部分得到患者发作癫痫的概率；用于判断当患者发作癫痫的概率超过85%，则认为患者癫痫发作，反之，则认为患者癫痫未发作；用于将患者癫痫发作的结果传输至患者保护模块。进一步地，所述患者保护模块具体包括：当患者发作癫痫且患者发生大幅运动，则启动患者保护模块中的患者保护装置，利用患者保护装置将患者束缚于病床。进一步地，所述患者保护模块由wifi通讯装置和患者保护装置构成，所述wifi通讯装置和所述患者保护装置电连接，所述患者保护装置包括电极控制模块、电机和束缚带，所述患者保护模块安装在病床上，所述束缚带置于患者腰部。本发明还提供一种癫痫发作自动监护装置，包括存储器和一个或多个处理器，所述存储器中存储有可执行代码，所述一个或多个处理器执行所述可执行代码时，用于实现上述任一项所述的一种癫痫发作自动监护系统。本发明的有益效果是：1、本发明提出的癫痫发作自动监护系统同时分析了脑电和视频信息，可以更加精准的检测患者是否发作癫痫。2、本发明先分析脑电信号，当脑电信号检测出痫样脑电时再分析视频数据，可以在不降低检测精度的前提下极大的降低计算量。3、本发明通过同时分析脑电和视频信息，仅在患者癫痫发作且发生肢体大幅移动时才控制束缚带限制患者，一方面可以尽可能的减少对患者未发作癫痫时的正常活动的影响，另一方面也尽可能的保护患者在癫痫发作时出现意外的情况发生，减少陪护的负担。附图说明图1为本发明一种癫痫发作自动监护系统的结构示意图；图2为本发明一种癫痫发作自动监护装置的结构示意图。具体实施方式以下对至少一个示例性实施例的描述实际上仅仅是说明性的，决不作为对本发明及其应用或使用的任何限制。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。参见图1，一种癫痫发作自动监护系统，包括：脑电采集模块：用于采集脑电信号，并将所述脑电信号输入至脑电数据预处理模块。脑电数据预处理模块：用于对所述脑电信号进行预处理，得到每秒所述脑电信号的频域特征，并将每秒所述脑电信号的频域特征输入至脑电数据特征提取模块。所述脑电数据预处理模块中的预处理具体包括：用于将所述脑电信号固定按一秒的时间分割，对每秒所述脑电信号做傅里叶变换，计算每秒时间范围的多通道脑电信号功率谱，频率分辨率为1Hz；用于对每秒所述脑电信号连同前后一秒的连续三秒每通道的数据做傅里叶变换，计算连续三秒范围的多通道脑电信号功率谱，再采用平均的方法将频率分辨率归一化为1Hz；用于对每秒时间范围的多通道脑电信号功率谱和连续三秒范围的多通道脑电信号功率谱进行拼接作为对应每秒所述脑电信号的频域特征。脑电数据特征提取模块：用于将每秒所述脑电信号的频域特征通过脑电特征提取神经网络，获取对应每秒脑电特征和每秒所述脑电信号为痫样的概率，并将痫样的概率输入至痫样脑电检测模块，将每秒所述脑电特征输入至癫痫发作检测模块。所述脑电数据特征提取模块具体包括：用于将每秒所述脑电信号的频域特征通过脑电特征提取神经网络的特征提取部分，获取对应每秒脑电特征；用于将所述脑电特征的通道作为时间轴，输入至所述脑电信号特征提取神经网络中的预测部分，获取每秒所述脑电信号为痫样的概率；用于将痫样的概率输入至痫样脑电检测模块，将每秒所述脑电特征输入至癫痫发作检测模块。痫样脑电检测模块：用于判断连续时间范围内每秒所述脑电信号为痫样的概率，痫样的概率用于判断患者是否发生痫样脑电，并将患者发生痫样脑电的结果输入至视频特征提取模块。所述痫样脑电检测模块具体包括：用于判断连续时间范围内每秒所述脑电信号为痫样的概率，当所述连续时间范围内50%以上的所述脑电信号的痫样概率大于80%，则患者发生痫样脑电，反之，则患者未发生痫样脑电，并将患者发生痫样脑电的结果输入至视频特征提取模块。视频采集模块：用于采集患者所在病床区域视频，并将所述病床区域视频输入至视频特征提取模块。视频特征提取模块：根据患者发生痫样脑电的结果用于对所述病床区域视频按每秒一帧抽样成图片序列，并将每帧图片序列利用OpenPose神经网络获取每帧图片的视频特征和每帧图片的左右两臂特征点坐标，每帧图片的视频特征用于输入至癫痫发作检测模块，每帧图片的左右两臂特征点坐标用于判断是否发生大幅运动。所述视频特征提取模块具体包括：根据患者发生痫样脑电的结果用于将患者发生痫样脑电时刻时包含对应前后预设时间在内的连续时间内的所述病床区域视频按每秒一帧抽样成图片序列；用于将每帧图片序列利用OpenPose神经网络输出的VGG-19前10层的每帧图片的视频特征和每帧图片的左右两臂特征点坐标；每帧图片的视频特征用于输入至癫痫发作检测模块，每帧图片的左右两臂特征点坐标用于判断是否发生大幅运动。所述判断是否发生大幅运动具体包括：用于获取任意连续两帧图片的左右两臂特征点坐标，分别计算每帧图片的左臂长度、右臂长度、左肩移动距离、右肩移动距离、左肘移动距离、右肘移动距离、左手腕移动距离、右手腕移动距离；用于根据任意连续两帧图片的左臂长度、右臂长度设置左臂阈值和右臂阈值；当左肩移动距离、左肘移动距离或左手腕移动距离超过左臂阈值，则认为左臂大幅移动，反之，则认为左臂未大幅移动；当右肩移动距离、右肘移动距离或右手腕移动距离超过右臂阈值，则认为右臂大幅移动，反之，则认为右臂未大幅移动；当左臂大幅移动或右臂大幅移动，则认为患者发生大幅运动，反之，则认为患者未发生大幅运动。癫痫发作检测模块：用于将每帧图片的视频特征和每秒所述脑电特征输入至癫痫发作检测神经网络获取患者发作癫痫的概率，患者发作癫痫的概率用于判断患者是否发作癫痫，并将患者发作癫痫的结果传输至患者保护模块。所述癫痫发作检测模块具体包括：用于将连续任意时间范围内的所述脑电特征输入至癫痫发作检测神经网络的脑电特征处理部分获取时序脑电特征；用于将连续任意时间范围内的所述视频特征输入至癫痫发作检测神经网络的视频特征处理部分获取时序视频特征；用于将所述时序脑电特征和所述时序视频特征进行拼接并输入癫痫发作检测神经网络的预测部分得到患者发作癫痫的概率；用于判断当患者发作癫痫的概率超过85%，则认为患者癫痫发作，反之，则认为患者癫痫未发作。用于将患者癫痫发作的结果传输至患者保护模块；患者保护模块：用于根据患者发作癫痫的结果和患者发生大幅运动的结果，控制患者并将患者束缚于病床；所述患者保护模块具体包括：当患者发作癫痫且患者发生大幅运动，则启动患者保护模块中的患者保护装置，利用患者保护装置将患者束缚于病床；所述患者保护模块由wifi通讯装置和患者保护装置构成，所述wifi通讯装置和所述患者保护装置电连接，所述患者保护装置包括电极控制模块、电机和束缚带，所述患者保护模块安装在病床上，所述束缚带置于患者腰部。实施例：一种癫痫发作自动监护系统，包括：脑电采集模块：用于采集脑电信号，并将所述脑电信号输入至脑电数据预处理模块。脑电数据预处理模块：用于对所述脑电信号进行预处理，得到每秒所述脑电信号的频域特征，并将每秒所述脑电信号的频域特征输入至脑电数据特征提取模块。所述脑电数据预处理模块中的预处理具体包括：用于将所述脑电信号固定按一秒的时间分割，对每秒所述脑电信号做傅里叶变换，计算每秒时间范围的多通道脑电信号功率谱，频率分辨率为1Hz；用于对每秒所述脑电信号连同前后一秒的连续三秒每通道的数据做傅里叶变换，计算连续三秒范围的多通道脑电信号功率谱，再采用平均的方法将频率分辨率归一化为1Hz；用于对每秒时间范围的多通道脑电信号功率谱和连续三秒范围的多通道脑电信号功率谱进行拼接作为对应每秒所述脑电信号的频域特征Feature_Freq。脑电数据特征提取模块：用于将每秒所述脑电信号的频域特征Feature_Freq通过脑电特征提取神经网络，获取对应每秒脑电特征H_EEG和每秒所述脑电信号为痫样的概率，并将痫样的概率输入至痫样脑电检测模块，将每秒所述脑电特征H_EEG输入至癫痫发作检测模块；脑电数据特征提取模块由脑电特征提取神经网络构成，脑电特征提取神经网络由特征提取部分和预测部分组成。特征提取部分的结构包括：卷积层c1，批量归一化层bn1，激活层a1；卷积层c2，批量归一化层bn2，激活层a2；卷积层c3，批量归一化层bn3，激活层a3；卷积层c4，批量归一化层bn4，激活层a4；卷积层c5，批量归一化层bn5，激活层a5；卷积层c6，批量归一化层bn6，激活层a6；卷积层c7，批量归一化层bn7，激活层a7；卷积层c8，批量归一化层bn8，激活层a8；卷积层c9，批量归一化层bn9，激活层a9；卷积层c10，批量归一化层bn10，激活层a10。预测部分结构包括：长短期记忆网络层LSTM；全连接层L1；全连接层L2；全连接层L3；展开层Flaten1；全连接层L4；全连接层L5；全连接层L6；输出层Out。其中激活层采用Relu激活函数。所述脑电数据特征提取模块具体包括：用于将每秒所述脑电信号的频域特征Feature_Freq通过脑电特征提取神经网络的特征提取部分，获取对应每秒脑电特征H_EEG；用于将所述脑电特征H_EEG的通道作为时间轴，输入至所述脑电信号特征提取神经网络中的预测部分，获取每秒所述脑电信号为痫样的概率；以该秒的脑电特征H_EEG的通道为时间轴，输入长短期记忆网络层LSTM，再依次输入全连接层L1；全连接层L2；全连接层L3；展开层Flaten1；全连接层L4；全连接层L5；全连接层L6；输出层Out，获取该秒脑电信号是痫样的概率；用于将痫样的概率输入至痫样脑电检测模块，将每秒所述脑电特征H_EEG输入至癫痫发作检测模块。痫样脑电检测模块：用于判断连续时间范围内每秒所述脑电信号为痫样的概率，痫样的概率用于判断患者是否发生痫样脑电，并将患者发生痫样脑电的结果输入至视频特征提取模块。所述痫样脑电检测模块具体包括：用于判断连续时间范围内每秒所述脑电信号为痫样的概率，当所述连续时间范围内50%以上的所述脑电信号的痫样概率大于80%，则患者发生痫样脑电，反之，则患者未发生痫样脑电，并将患者发生痫样脑电的结果输入至视频特征提取模块。视频采集模块：用于采集患者所在病床区域视频，并将所述病床区域视频输入至视频特征提取模块。视频特征提取模块：根据患者发生痫样脑电的结果用于对所述病床区域视频按每秒一帧抽样成图片序列，并将每帧图片序列利用OpenPose神经网络获取每帧图片的视频特征H_IMG和每帧图片的左右两臂特征点坐标，每帧图片的视频特征H_IMG用于输入至癫痫发作检测模块，每帧图片的左右两臂特征点坐标用于判断是否发生大幅运动。所述视频特征提取模块具体包括：根据患者发生痫样脑电的结果用于将患者发生痫样脑电时刻时包含对应前后预设时间在内的连续时间内的所述病床区域视频按每秒一帧抽样成图片序列；用于将每帧图片序列利用OpenPose神经网络输出的VGG-19前10层的每帧图片的视频特征H_IMG和每帧图片的左右两臂特征点坐标；每帧图片的视频特征H_IMG用于输入至癫痫发作检测模块，每帧图片的左右两臂特征点坐标用于判断是否发生大幅运动。所述判断是否发生大幅运动具体包括：用于获取任意连续两帧图片的左右两臂特征点坐标，分别计算每帧图片的左臂长度、右臂长度、左肩移动距离、右肩移动距离、左肘移动距离、右肘移动距离、左手腕移动距离、右手腕移动距离；对于任意相邻两帧图片，获取第一帧图片的左肩坐标，右肩坐标，左肘坐标，右肘坐标，左手腕坐标，右手腕坐标；计算左臂长度；计算右臂长度；取第二帧图片的左肩坐标，右肩坐标，左肘坐标，右肘坐标，左手腕坐标，右手腕坐标；计算左臂长度；计算右臂长度；用于根据任意连续两帧图片的左臂长度、右臂长度设置左臂阈值和右臂阈值。当左肩移动距离、左肘移动距离或左手腕移动距离超过左臂阈值，则认为左臂大幅移动，反之，则认为左臂未大幅移动；当右肩移动距离、右肘移动距离或右手腕移动距离超过右臂阈值，则认为右臂大幅移动，反之，则认为右臂未大幅移动；当左臂大幅移动或右臂大幅移动，则认为患者发生大幅运动，反之，则认为患者未发生大幅运动。计算左肩移动距离；计算左肘移动距离；计算左手腕移动距离；则左臂移动距离为；计算右肩移动距离；计算右肘移动距离；计算右手腕移动距离；则右臂移动距离为；若或，则认为患者发生大幅运动。癫痫发作检测模块：用于将每帧图片的视频特征和每秒所述脑电特征输入至癫痫发作检测神经网络获取患者发作癫痫的概率，患者发作癫痫的概率用于判断患者是否发作癫痫，并将患者发作癫痫的结果传输至患者保护模块。癫痫发作检测模块由癫痫发作检测神经网络构成，癫痫发作检测神经网络由脑电特征处理部分、视频特征处理部分和预测部分组成；脑电特征处理部分的结构包括：长短期记忆网络层LSTM1，全连接层L1，激活层a1；视频特征处理部分的结构包括：长短期记忆网络层LSTM2，全连接层L2，激活层a2；预测部分的结构包括：卷积层c1，卷积层c2，激活层a3；全连接层L3，全连接层L4，激活层a4;全连接层L5，输出层Out。其中激活层采用Relu激活函数。所述癫痫发作检测模块具体包括：用于将连续任意时间范围内的所述脑电特征H_EEG输入至癫痫发作检测神经网络的脑电特征处理部分获取时序脑电特征F_EEG；用于将连续任意时间范围内的所述视频特征H_IMG输入至癫痫发作检测神经网络的视频特征处理部分获取时序视频特征F_IMG；用于将所述时序脑电特征F_EEG和所述时序视频特征F_IMG进行拼接并输入癫痫发作检测神经网络的预测部分得到患者发作癫痫的概率；用于判断当患者发作癫痫的概率超过85%，则认为患者癫痫发作，反之，则认为患者癫痫未发作。用于将患者癫痫发作的结果传输至患者保护模块；患者保护模块：用于根据患者发作癫痫的结果和患者发生大幅运动的结果，控制患者并将患者束缚于病床。所述患者保护模块具体包括：当患者发作癫痫且患者发生大幅运动，则启动患者保护模块中的患者保护装置，利用患者保护装置将患者束缚于病床。所述患者保护模块由wifi通讯装置和患者保护装置构成，所述wifi通讯装置和所述患者保护装置电连接，所述患者保护装置包括电极控制模块、电机和束缚带，所述患者保护模块安装在病床上，所述束缚带置于患者腰部。当患者未发作癫痫时，束缚带处于松弛状态，不影响患者的正常活动，当患者发作癫痫且患者发生大幅运动时，系统通过wifi通讯装置给患者保护装置，控制电机逐步收紧束缚带，将患者束缚在床上以避免跌落病床。与前述一种癫痫发作自动监护系统的实施例相对应，本发明还提供了一种癫痫发作自动监护装置的实施例。参见图2，本发明实施例提供的一种癫痫发作自动监护装置，包括存储器和一个或多个处理器，所述存储器中存储有可执行代码，所述一个或多个处理器执行所述可执行代码时，用于实现上述实施例中的一种癫痫发作自动监护系统。本发明一种癫痫发作自动监护装置的实施例可以应用在任意具备数据处理能力的设备上，该任意具备数据处理能力的设备可以为诸如计算机等设备或装置。装置实施例可以通过软件实现，也可以通过硬件或者软硬件结合的方式实现。以软件实现为例，作为一个逻辑意义上的装置，是通过其所在任意具备数据处理能力的设备的处理器将非易失性存储器中对应的计算机程序指令读取到内存中运行形成的。从硬件层面而言，如图2所示，为本发明一种癫痫发作自动监护装置所在任意具备数据处理能力的设备的一种硬件结构图，除了图2所示的处理器、内存、网络接口、以及非易失性存储器之外，实施例中装置所在的任意具备数据处理能力的设备通常根据该任意具备数据处理能力的设备的实际功能，还可以包括其他硬件，对此不再赘述。上述装置中各个单元的功能和作用的实现过程具体详见上述方法中对应步骤的实现过程，在此不再赘述。对于装置实施例而言，由于其基本对应于方法实施例，所以相关之处参见方法实施例的部分说明即可。以上所描述的装置实施例仅是示意性的，其中所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部模块来实现本发明方案的目的。本领域普通技术人员在不付出创造性劳动的情况下，即可以理解并实施。以上所述仅为本发明的优选实施例而已，并不用于限制本发明，对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在本发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。
